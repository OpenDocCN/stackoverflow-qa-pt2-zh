# StackOverflow 问答 14974000-14974999

# python - “列表反转”python程序中的错误

> ID：14974003
> 
> 赞同：1
> 
> 时间：2013-02-20T06:57:24.423
> 
> 标签：python, list

每个人！我是python编程的初学者。我正在编写一个 python 程序来反转给定的输入列表。以下是它的代码：

```
 L1=list(input("Enter the numbers of list to be reversed : "))
    L2=[]

    def rever(La,Lb):
     if len(Lb)==0: 
      return La                               
     else:
      return rever(La.append(Lb.pop(0)),Lb)

    print rever(L2,L1) 
```

例如，如果我们输入，

```
 1,2,3 
```

输出应该是，

```
 [3,2,1] 
```

但这并没有发生。Python 给出以下错误：

```
 Traceback (most recent call last):
      File "Q3.py", line 10, in <module>
        print rever(L2,L1)
      File "Q3.py", line 8, in rever
        return rever(La.append(Lb.pop(0)),Lb)
      File "Q3.py", line 8, in rever
        return rever(La.append(Lb.pop(0)),Lb)
    AttributeError: 'NoneType' object has no attribute 'append' 
```

我不明白。请帮帮我！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:00:32.123

可能你应该看看这个，而不是 pop 和 append

```
In [5]: L1=list(input("Enter the numbers of list to be reversed : "))
Enter the numbers of list to be reversed : 1,2,3,4,5

In [6]: L1
Out[6]: [1, 2, 3, 4, 5]

In [7]: L2 = L1[::-1]

In [8]: L2
Out[8]: [5, 4, 3, 2, 1] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:06:22.077

有几个问题。首先是工作方式：

```
def rever(La,Lb):
    if len(Lb)==0: 
        return La
    else:
        La.append(Lb.pop())
        return rever(La,Lb) 
```

`list.append`附加到位，这意味着它返回无。由于您`La.append`在递归中作为参数传递，因此在第二次迭代时会出现错误。

如果你想那样做，那么你可以做

```
return rever(La + [Lb.pop()], Lb) 
```

第二个问题是你从前面弹出并附加。所以你会得到相同的订单。相反，弹出结尾（没有参数弹出）并追加。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:08:37.330

该`append`方法就地运行，更改原始列表并返回`None`，给您错误。试试这个：

```
def rever(La, Lb):
    if len(Lb) == 0:
        return La
    else:
        La.append(Lb.pop())
        return rever(La, Lb) 
```

您还可以将代码重构为如下所示：

```
def rever(La, Lb):
    if Lb:
        La.append(Lb.pop())
        return rever(La, Lb)
    return La 
```

这使用了一个空列表在布尔上下文中的事实`False`，并且任何函数只能有一个返回值。

# tablesorter - 动态加载表的表排序问题

> ID：14974005
> 
> 赞同：0
> 
> 时间：2013-02-20T06:57:24.883
> 
> 标签：tablesorter

我正在使用 ajax 动态加载表行，当用户单击加载更多按钮时，我有一个名为加载更多的按钮 15 更多事务被添加到 tbody 中。表排序在第一次加载时工作正常但是现在单击加载更多按钮时，我在 tbody 中有 30 个事务，其中我的表排序仅适用于降序。但我希望它同时按升序和降序排序。但再次点击加载更多按钮，一切正常。任何人都可以建议我的代码有什么问题。任何帮助将不胜感激。

```
<table class="tablesorter list-table" id='AllPaymentTable'> 

</table> 

<script>
var thead = $("<thead/>").appendTo('#AllPaymentTable');
var PaymentHeader= responseData.data.payment_header_object;
$("<tr/>")
  .append("<th class='name'>" +PaymentHeader[i] + "</th>" )
  .appendTo(thead);

var tbody = $("<tbody/>").appendTo('#AllPaymentTable');

var payActivitydetails = responseData.data.payment_data_object;

for (var i = 0; i < payActivitydetails.length; i++) {
  var payDetails = payActivitydetails[i];
  $("<tr class='recentPaymentrow'  id="+payDetails.payment_id +"/>")
  .append("<td class='name'>" + payDetails.customer_name  + "</td>")
  .appendTo(tbody);
  $(".tablesorter").tablesorter();
}

$('#loadmorebtn').bind('click',function(event){
  event.preventDefault();
  event.stopPropagation();
  // ajax call goes here
  //Recents payment populating on screen starts here
  var payActivitydetails = responseData.data.payment_data_object;
  for (var i = 0; i < payActivitydetails.length; i++) {
    var payDetails = payActivitydetails[i];
    $("<tr class='recentPaymentrow'  id="+payDetails.payment_id +"/>")
      .append("<td class='name'>" + payDetails.customer_name  + "</td>")
      .appendTo('tbody')
    $(".tablesorter").tablesorter();
  }
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T15:18:01.003

一旦你初始化了 tablesorter，你不应该再次初始化它。相反，使用 update 方法让 tablesorter 识别表中的更改：

```
$("<tr class='recentPaymentrow'  id="+payDetails.payment_id +"/>")
  .append("<td class='name'>" + payDetails.customer_name  + "</td>")
  .appendTo('tbody')
  .trigger('update'); // update method (bubbles up to table) 
```

# c# - 如何在 Mysql Left Join 中获得计数？

> ID：14974006
> 
> 赞同：0
> 
> 时间：2013-02-20T06:57:26.280
> 
> 标签：c#, asp.net, mysql, sql

我有桌子部门和员工。架构就像，

```
department(id, name)
employee(id,depid,salary) 
```

我需要统计每个部门的员工人数。我在 mysql 中的查询就像

```
select d.depname,count(e.id) 
from employe as e left join department as d on d.depid 
where e.depid=d.depid group by d.depid; 
```

但结果集中只包含有员工的部门。我需要那些员工人数为 0 的部门本身为零。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T07:00:33.307

只需交换表名，

```
SELECT  d.name, 
        COUNT(e.id) totalEmployeeCount
FROM    department AS d 
        LEFT JOIN employee AS e 
            ON e.depid = d.id
GROUP   BY d.id; 
```

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T06:59:54.227

```
select d.depname,count(e.id) from employee as e 
right join department as d on d.depid = e.depid 
group by d.depid; 
```

为此，请通过[http://dev.mysql.com/doc/refman/5.0/en/join.html](http://dev.mysql.com/doc/refman/5.0/en/join.html)

# xcode - Xcode 4.6 将按钮连接到新视图控制器时代码存储在哪里？

> ID：14974007
> 
> 赞同：0
> 
> 时间：2013-02-20T06:57:39.123
> 
> 标签：xcode

在 Storyboard/Interface Builder 中工作时，Xcode 是否会在编译时生成并插入一些我在浏览头文件和实现文件时看不到的代码？如果是这样，我如何查看此代码？

考虑一下我添加了一个 UINavigationController 和一些视图控制器。我他们在第一个视图控制器上放置了一个按钮，然后控件将按钮拖动到下一个视图控制器以建立连接/创建过渡。当我检查我的实现时，我没有看到任何反映这一点的代码 - 应该有，我如何有机会看到它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:07:20.760

所有这些都在情节提要中序列化。通过您在 IB 中创建一个 segue 对象来建立连接。该对象存在于情节提要中并被自动实例化。这类链接没有可见的代码；它们仅在情节提要中出现。

故事板很棒，因为它们可以替换您过去必须编写的大量样板代码。不幸的是，它需要一些时间来习惯实际上看不到执行操作的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T16:36:30.150

就像@RichardBrown 所说，这一切都是通过故事板完成的。没有代码可以看穿它。是的，这有点奇怪，但很好的是你不必处理这样的代码。让自己的事情变得轻松一些

# c++ - 如何 push_back 指向结构的指针向量的元素？

> ID：14974010
> 
> 赞同：0
> 
> 时间：2013-02-20T06:57:46.533
> 
> 标签：c++, stdvector

下面是我的 C++ 代码中显示警告的相关片段`extended initializer lists only available with -std=c++0x or -std=gnu++0x`

```
typedef struct _A{
    string A1;
    int A2;
} A;

vector <A*> vecA;

string str1;
int k;

vecA.push_back(new A({str1, k})); 
```

是否有另一种更合适的方式来做 push_back？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:00:14.703

`-std=c++0x or -std=gnu++0x`使用时需要带选项编译`initializer list`，也可以写一个构造函数

```
struct A {
    A(const std::string& a1, int a2)
      : A1(a1), A2(a2)
    { }

    string A1;
    int A2;
};

vecA.push_back(new A(str1, k)); 
```

旁注：不要以下划线开头命名您的类型，在向量中使用智能指针也是比裸指针更好的解决方案，例如：

```
std::vector<std::unique_ptr<A>> vecA; 
```

通常将值存储在向量中非常方便：

```
std:vector<A> vecA; 
```

# java - 什么是单例，用简单的英语？

> ID：14974016
> 
> 赞同：10
> 
> 时间：2013-02-20T06:58:21.813
> 
> 标签：java, design-patterns, singleton

我已经在谷歌上搜索了大约一个小时，但我仍然不清楚单身人士是什么。谁能让我更清楚一点，也许可以发布一个代码示例？

我所知道的是，您只能拥有给定类的一个实例。但是你就不能为此使用静态类吗？

提前致谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-20T07:15:03.710

简单的普通英语¹版本是：*Singleton Class 是一个 Class ，只有一个实例*。

> 但是你就不能为此使用静态类吗？

不，这不是 Java 中的“静态”类。在 Java 中，“静态”类可以有多个实例，就像任何其他类一样。

`static`关键字用于（用于类）表示嵌套类的实例不绑定到封闭类的特定实例。这意味着嵌套类中的表达式不能引用封闭类中声明的实例变量。

在 Java 1.5（又名 Java 5）之前，Java 中不支持单例设计模式。您只是用纯 Java 实现了它们；例如

```
 /** There is only one singer and he knows only one song */
    public class Singer {
        private static Singer theSinger = new Singer();
        private String song = "I'm just a singer";

        private Singer() { 
            /* to prevent instantiation */
        }

        public static Singer getSinger() { 
            return theSinger; 
        }

        public String getSong() {
            return song;
        }
    } 
```

Java 1.5 引入了`enum`可用于实现单例等的类型。

```
 /** There are two Singers ... no more and no less */
    public enum Singer {
        DUANE("This is my song"),
        RUPERT("I am a singing bear");

        private String song;

        Singer(String song) {
            this.song = song;
        }

        public String getSong() {
            return song;
        }
    } 
```

* * *

^(1 - 当然，您需要了解“类”和“实例”的含义。由于这些词的编程/IT 英语含义与“简单英语”的含义不同，因此称其为“简单英语”描述有点牵强。另一方面，如果读者还没有*理解*“类”和“实例”的含义，那么他们就没有理解“单例”概念所需的基础知识，也没有理解其中的意义。)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:27:04.203

单例是一个带有私有构造函数的类，你只能得到它的一个实例。为了进一步解释为什么使用这种编码风格，我建议你阅读本书中关于单例的章节

[http://www.wowebook.com/book/head-first-design-patterns/](http://www.wowebook.com/book/head-first-design-patterns/)

第 5 章是关于单例的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:01:49.683

> 单例模式是一种将类的实例化限制为一个对象的设计模式。
> 
> 注意类的简单静态实例和单例之间的区别：虽然单例可以实现为静态实例，但它也可以延迟构造，在需要时不需要内存或资源。另一个显着的区别是静态成员类不能实现接口，除非该接口只是一个标记。因此，如果该类必须实现由接口表示的契约，那么它确实必须是单例。

全部来自[维基百科](http://en.wikipedia.org/wiki/Singleton_pattern)

# django - 我应该如何处理类型错误，int() 参数必须是字符串或数字？

> ID：14974025
> 
> 赞同：1
> 
> 时间：2013-02-20T06:58:50.750
> 
> 标签：django, django-models

我有一个模型`OrderItem`，

```
class OrderItem(SmartModel):
    shopping_id = models.CharField(max_length=50,db_index=True)
    quantity = models.IntegerField(default=0)
    item = models.ForeignKey(Item)
    order = models.ForeignKey(Order) 
```

我在我的函数中这样做是为了创建一个对象，

```
try:
   order= Order.objects.get(pk=id)
   restaurant = Restaurant.objects.get(pk=id)
except:
   order = Order(created_by=anon_user,modified_by=anon_user)

oi=OrderItem(order,shopping_id=_shopping_id(request),
                           quantity=quantity,
                           item=i,
                           created_by=anon_user,
                           modified_by=anon_user)
oi.save() 
```

我收到一个错误`int() argument must be a string or a number, not 'Order'`。我该怎么办。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:43:55.360

我可以看到您的代码存在各种问题。首先，您使用相同`id`的方式来获取您的餐厅，就像您获取您的订单一样 -

```
 order= Order.objects.get(pk=id)
   restaurant = Restaurant.objects.get(pk=id) 
```

其次，您需要先保存订单，然后才能将其作为外键传递给订单项。否则不会在您的订单上创建主键，因此`OrderItem`将无法在 ForeignKey 字段中使用它。

最后，当您初始化时，您`OrderItem`将 order 作为 arg 而不是 kwarg 传递。

您的代码应类似于 -

```
# get order_id and restaurant_id
try:
   order= Order.objects.get(pk=order_id)
   restaurant = Restaurant.objects.get(pk=restaurant_id)
except:
   order = Order(created_by=anon_user,modified_by=anon_user)
   order.save()
oi=OrderItem(order=order,shopping_id=_shopping_id(request),
             quantity=quantity,
             item=i,
             created_by=anon_user,
             modified_by=anon_user)
oi.save() 
```

顺便说一句，您可以用您的 try / except 语句替换 django 的[get_or_create](http://docs.djangoproject.com/en/1.4/ref/models/querysets/#get-or-create)快捷功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:05:39.090

应该是这个链接。

```
oi=OrderItem.objects.create( shopping_id=_shopping_id(request),
                           quantity=quantity,
                           item=i,
                           order=order,
                           created_by=anon_user,
                           modified_by=anon_user) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:06:23.840

您可能应该使用管理器来正确创建对象，以您实际上并没有命中数据库的方式实例化类。`Order.objects.create(...)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T07:33:30.000

这一行——

```
order = Order(created_by=anon_user,modified_by=anon_user) 
```

创建`Order`该类的一个实例，但不会保存到数据库中，并且它没有与之关联的主键，除非您调用其他模型可以使用该主键来保存关系`order.save()`。所以你必须打电话`order.save()`。然后创建`OrderItem`类似 -

```
oi=OrderItem(
    order=order,
    shopping_id=_shopping_id(request),
    quantity=quantity,
    item=i,
    created_by=anon_user,
    modified_by=anon_user
)
oi.save() 
```

另外，请确保`i`并`anon_user`拥有主键。

# android - 如何在android中通过ajax调用本地restful web服务？

> ID：14974028
> 
> 赞同：0
> 
> 时间：2013-02-20T06:58:52.407
> 
> 标签：android, ajax, rest

我有宁静的网络服务。我想通过android中的ajax从本地restful获取json（使用webview）。这是应用程序 android 中的 htmt 文件中的代码 ajax

函数 Get(){ $.ajax ({

```
 url: "[http://localhost:31132/api/Customer][1]",
            type: "GET",
            dataType: "json",                
            success: function (data) {                    
                $('#d').append("sucess");
            },
            error: function (request, status, error) {                  
                $('#d').append(error);
            }
        });
    } 
```

这段代码在浏览器上运行得很好。但它不在android中运行。模拟器 android 使用 API 级别 10。

感谢：D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:23:11.840

[报价](http://developer.android.com/reference/android/webkit/WebView.html)：

> 默认情况下，WebView 不提供类似浏览器的小部件，不启用 JavaScript 并且忽略网页错误。

你做过：

```
webview.getSettings().setJavaScriptEnabled(true); 
```

**更新**如果 Web 服务没有按原样使用标准 Android 浏览器运行，那么它没有使用 WebView 运行也就不足为奇了。尽管问题仍然存在，您是否将浏览器配置为将自己标识为 Android 或“桌面”。我没有详细研究您发布的视频，但我的印象是您自己编写了 Web 服务，使用了一些（微软？）框架。关键问题是：这个框架如何处理 Android 请求，例如关于它发送的用户代理（浏览器标识）。总的来说，Android 对 JavaScript 的支持还是比较好的，编写好的 AJAX 库可以处理各种平台。因此，我首先要

1.  try 是将 UserAend 标识设置为伪造桌面浏览器的内容，然后重试。如果这不起作用，
2.  确定 Web 服务在给定配置中实际交付给客户端的 AJAX 文件是很有价值的。最后，如果这不起作用，
3.  查看 WebView 发出的错误消息是明智的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:06:30.967

在 Web 服务 URL 中尝试使用 10.0.2.2 而不是 localhost。localhost 或 127.0.0.1 指向模拟器/安卓设备，而 10.0.2.2 是主机环回接口的特殊别名（即开发机器上的 127.0.0.1）。

尝试`http://10.0.2.2:31132`代替`http://localhost:31132`

# c++ - 在 C++ 中将 UTF8 字符串转换为 UTF16 字符串

> ID：14974030
> 
> 赞同：1
> 
> 时间：2013-02-20T06:58:56.803
> 
> 标签：c++, windows, visual-c++, zlib

我正在使用 VC 6.0。我的项目是用 Unicode 编译的。我正在使用 zlib 1.1.3 来扩充包含我的 UTF-8 字符串的文件。我以 ASCII 格式获取它，但我保证它都是英文的，所以我可以将它作为 UTF8 字符串关联起来（可以吗？）。

我在[Codeproject](http://www.codeproject.com/Articles/26134/UTF16-to-UTF8-to-UTF16-simple-CString-based-conver)中使用了以下建议的功能：

```
WCHAR* SMUUTF8toUTF16(LPCSTR utf8, int* pLen)
{
    WCHAR *ptr = NULL;
    *pLen = MultiByteToWideChar(CP_UTF8, 0, utf8, -1, NULL, 0);
    if (*pLen>1)
    {
        ptr = (WCHAR*)malloc(*pLen);

        if (ptr)
        {
            MultiByteToWideChar(CP_UTF8, 0, utf8, -1, ptr, *pLen);
        }
    }

    return ptr;
} 
```

我的代码因以下错误而变得不稳定：1\. 检测到严重错误 c0000374 2\. w3wp.exe (NTDLL.DLL) 中的第一次机会异常：0xC0000005：访问冲突。

我怀疑存在内存泄漏或引用了错误的指针，因为在使用此函数时，我遇到了很多上述错误。我的测试还表明，当我不使用它时，堆保持良好的格式并且没有损坏。

你能建议一个更好的解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T07:06:30.493

`MultiByteToWideChar`返回输出中 16 位 Unicode 字符的数量——*而不是*字节数。但`malloc`需要字节数。您必须将字符数乘以字符的字节大小，否则您只分配了所需字节数的一半！

```
ptr = (WCHAR *)malloc(sizeof(WCHAR) * *pLen); 
```

# java - 从字符串中提取数字 - StringUtils Java

> ID：14974033
> 
> 赞同：88
> 
> 时间：2013-02-20T06:59:07.567
> 
> 标签：java, string, apache-stringutils, string-utils

我有一个字符串，我想提取字符串中的（唯一）数字序列。

示例：helloThisIsA1234Sample。我要1234

假定数字序列在字符串中仅出现一次，但不在同一位置。

（对于那些会问的人，我有一个服务器名称，需要在其中提取一个特定的数字）

我想使用 Apache commomns 中的 StringUtils 类。

谢谢！

* * *

## 回答 #1

> 赞同：180
> 
> 时间：2013-02-20T07:05:27.813

使用此代码 numberOnly 将包含您想要的输出。

```
 String str="sdfvsdf68fsdfsf8999fsdf09";
   String numberOnly= str.replaceAll("[^0-9]", ""); 
```

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2015-01-08T13:37:51.630

我总是喜欢使用[Guava String utils](https://code.google.com/p/guava-libraries/wiki/StringsExplained)或类似的工具来解决这些问题：

```
String theDigits = CharMatcher.inRange('0', '9').retainFrom("abc12 3def"); // 123 
```

* * *

## 回答 #3

> 赞同：25
> 
> 时间：2016-03-11T13:51:13.150

只有一行：

```
int value = Integer.parseInt(string.replaceAll("[^0-9]", "")); 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2013-02-20T07:18:10.300

您还可以使用`java.util.Scanner`：

`new Scanner(str).useDelimiter("[^\\d]+").nextInt()`

您可以使用`next()`而不是`nextInt()`将数字作为`String`. 请注意，调用`Integer.parseInt`结果可能比调用[快很多倍](https://stackoverflow.com/a/4423027/59087)`nextInt()`。

您可以使用`hasNextInt()`上检查号码是否存在`Scanner`。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2013-02-20T07:01:14.850

使用正则表达式，例如`[^0-9]`删除所有非数字。

从那里，只需使用`Integer.parseInt(String);`

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-01-30T18:51:49.313

试试这个 ：

```
String s = "helloThisIsA1234Sample";
s = s.replaceAll("\\D+",""); 
```

这意味着：用空字符串替换所有出现的数字字符（0 -9）！

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2020-03-03T06:45:26.747

Guava 的`CharMatcher`类从 a 中提取`Integer`s `String`。

```
String text="Hello1010";
System.out.println(CharMatcher.digit().retainFrom(text)); 
```

产量：

```
1010 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2014-05-03T11:03:17.697

我为同一问题创建了一个 JUnit 测试类（作为附加知识/信息）。希望你会发现这很有帮助。

```
 public class StringHelper {
    //Separate words from String which has gigits
        public String drawDigitsFromString(String strValue){
            String str = strValue.trim();
            String digits="";
            for (int i = 0; i < str.length(); i++) {
                char chrs = str.charAt(i);              
                if (Character.isDigit(chrs))
                    digits = digits+chrs;
            }
            return digits;
        }
    } 
```

JUnit 测试用例是：

```
 public class StringHelperTest {
    StringHelper helper;

        @Before
        public void before(){
            helper = new StringHelper();
        }

        @Test
    public void testDrawDigitsFromString(){
        assertEquals("187111", helper.drawDigitsFromString("TCS187TCS111"));
    }
 } 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2013-02-20T07:01:26.487

您可以使用以下正则表达式。

```
string.split(/ /)[0].replace(/[^\d]/g, '') 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2016-05-06T05:51:48.980

```
 String line = "This order was32354 placed for QT ! OK?";
        String regex = "[^\\d]+";

        String[] str = line.split(regex);

        System.out.println(str[1]); 
```

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2017-03-09T02:38:58.510

您可以使用`str = str.replaceAll("\\D+","");`

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2017-03-09T03:00:26.043

您可以拆分字符串并与每个字符进行比较

```
public static String extractNumberFromString(String source) {
    StringBuilder result = new StringBuilder(100);
    for (char ch : source.toCharArray()) {
        if (ch >= '0' && ch <= '9') {
            result.append(ch);
        }
    }

    return result.toString();
} 
```

**测试代码**

```
 @Test
    public void test_extractNumberFromString() {
    String numberString = NumberUtil.extractNumberFromString("+61 415 987 636");
    assertThat(numberString, equalTo("61415987636"));

    numberString = NumberUtil.extractNumberFromString("(02)9295-987-636");
    assertThat(numberString, equalTo("029295987636"));

    numberString = NumberUtil.extractNumberFromString("(02)~!@#$%^&*()+_<>?,.:';9295-{}[=]987-636");
    assertThat(numberString, equalTo("029295987636"));
} 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2013-02-20T07:16:13.823

如果您有符号并且只需要数字，请尝试这种方法：

```
 String s  = "@##9823l;Azad9927##$)(^738#";
    System.out.println(s=s.replaceAll("[^0-9]", ""));
    StringTokenizer tok = new StringTokenizer(s,"`~!@#$%^&*()-_+=\\.,><?");
    String s1 = "";
    while(tok.hasMoreTokens()){
        s1+= tok.nextToken();
    }
    System.out.println(s1); 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2017-12-15T04:33:13.613

一个非常简单的解决方案，如果用逗号分隔或者如果没有用逗号分隔

```
public static void main(String[] args) {

    String input = "a,1,b,2,c,3,d,4";
    input = input.replaceAll(",", "");

    String alpha ="";
    String num = "";

    char[] c_arr = input.toCharArray();

    for(char c: c_arr) {
        if(Character.isDigit(c)) {
            alpha = alpha + c;
        }
        else {
            num = num+c;
        }
    }

    System.out.println("Alphabet: "+ alpha);
    System.out.println("num: "+ num);

} 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2020-05-10T18:04:06.540

扩展查找浮点数的最佳答案

```
 String str="2.53GHz";
       String decimal_values= str.replaceAll("[^0-9\\.]", "");
       System.out.println(decimal_values); 
```

* * *

## 回答 #16

> 赞同：-1
> 
> 时间：2018-02-26T05:47:32.717

```
 `String s="as234dfd423";
for(int i=0;i<s.length();i++)
 {
    char c=s.charAt(i);``
    char d=s.charAt(i);
     if ('a' <= c && c <= 'z')
         System.out.println("String:-"+c);
     else  if ('0' <= d && d <= '9')
           System.out.println("number:-"+d);
    } 
```

输出：-

```
number:-4
number:-3
number:-4
String:-d
String:-f
String:-d
number:-2
number:-3 
```

* * *

## 回答 #17

> 赞同：-1
> 
> 时间：2019-11-03T11:52:40.907

你可以试试这个：

```
 String str="java123java456";
  String out="";
  for(int i=0;i<str.length();i++)
  {
    int a=str.codePointAt(i);
     if(a>=49&&a<=57)
       {
          out=out+str.charAt(i);
       }
   }
 System.out.println(out); 
```

* * *

## 回答 #18

> 赞同：-6
> 
> 时间：2019-11-22T09:07:40.380

用于分隔字符串中数字的简单python代码

```
 s="rollnumber99mixedin447"
  list(filter(lambda c: c >= '0' and c <= '9', [x for x in s])) 
```

# json - 特定文件名dojo上的json错误

> ID：14974050
> 
> 赞同：0
> 
> 时间：2013-02-20T07:00:10.893
> 
> 标签：json, dojo

**Javascript**

```
ready(function(){
         request.get("json/pie7.json", {
             // Parse data from JSON to a JavaScript object
             handleAs: "json"
         }).then(function(data){
             arrayUtil.forEach(data.items, function(item,i){
                itemArray.push(item.value);
             });
                alert(itemArray)
         },
         function(error){
            alert(error);
         });

}); 
```

**pie7.json**

```
{
    "title":"JSON Sample Data",
    "items":[{
        "name":"text",
        "value":33
    },{
        "name":"integer",
        "value":100
    },{
        "name":"float",
        "value":5.65
    },{
        "name":"boolean",
        "value":56
    }]
} 
```

这显示错误为：

```
SyntaxError: JSON.parse: expected property name or '}' 
```

但是当我重命名`pie7.json`为任何文件名，例如`sample.json`并将javascript的请求路径更改为相同的名称时，它就没有问题了。
那么，当我将文件名放入 pie7.json 时，为什么会出现错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T11:13:35.050

我猜 pie7.json 被您的浏览器缓存了。您可以添加`preventCache: true`到请求对象以防止缓存。

```
request.get("json/pie7.json", {     
    handleAs: "json",
    preventCache: true
}) 
```

# parsing - 查找一些使用 wsdl4j 解析 wsdl url 的示例

> ID：14974054
> 
> 赞同：0
> 
> 时间：2013-02-20T07:00:17.137
> 
> 标签：parsing, wsdl4j

请有人帮我找到一些使用 wsdl4j API 解析 wsdl url 的示例。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-29T05:54:34.093

试试这样；

```
public Definition readWSDLFile() throws  WSDLException {
        WSDLReader reader = getWsdlFactoryInstance().newWSDLReader();
        // switch off the verbose mode
        reader.setFeature(JAVAX_WSDL_VERBOSE_MODE, false);
        reader.setFeature("javax.wsdl.importDocuments", true);

        Definition wsdlDefinition;
        if (log.isDebugEnabled()) {
            log.debug("Reading  the WSDL. Base uri is " + baseURI);
        }
        wsdlDefinition = reader.readWSDL(baseURI);
        return wsdlDefinition;

    } 
```

使用定义你可以访问操作，服务对象..来访问一个服务地址位置；

```
private void setServiceDefinition(Definition definition) throws Exception {

        Map serviceMap = definition.getAllServices();
        Iterator serviceItr = serviceMap.entrySet().iterator();
        URL addressURI = null;
        try {
            while (serviceItr.hasNext()) {
                Map.Entry svcEntry = (Map.Entry) serviceItr.next();
                Service svc = (Service) svcEntry.getValue();
                Map portMap = svc.getPorts();
                Iterator portItr = portMap.entrySet().iterator();
                while (portItr.hasNext()) {
                    Map.Entry portEntry = (Map.Entry) portItr.next();
                    Port port = (Port) portEntry.getValue();
                    ExtensibilityElement extensibilityElement = (ExtensibilityElement) port.getExtensibilityElements()
                                                                                           .get(0);

                    addressURI = new URL(getAddressUrl(extensibilityElement));

                }
            } 
```

这是我写的一个[示例](http://vvratha.blogspot.com/2013/11/get-wsdl-service-address-with-wsdl4j.html)，可能对你有用。

# android - 将文件从 API 保存到内部文件夹

> ID：14974062
> 
> 赞同：0
> 
> 时间：2013-02-20T07:00:49.937
> 
> 标签：android, android-file

我们有一个 rest api，我可以在其中获取我需要下载并保存到我创建的文件夹中的设备的文件列表。所以我可以一个一个地保存文件，不知道这是如何工作的。

这些文件是从 WCF api 下载的。来自 wcf 服务的传出流内容类型是 OCTET_STREAM。

首先我获取/创建目录，并创建文件：

```
File mediadir = context.getDir("foo", Context.MODE_PRIVATE);
File file = new File(mediadir, "newfile.png"); // the file name I get from the server, it could be any thing
FileOutputStream out = new FileOutputStream(file); // Stream the contents of the file on the server to the localfile? 
```

我试图下载这样的文件：

```
File mediadir = context.getDir("tvr", Context.MODE_PRIVATE);

    URL url = new URL(urlString);
    URLConnection conexion = url.openConnection();
    conexion.connect();
    int lenghtOfFile = conexion.getContentLength();
    InputStream is = url.openStream();
    FileOutputStream fos = new FileOutputStream(mediadir+"/video.mp4");
    byte data[] = new byte[1024];
    int count = 0;
    long total = 0;
    int progress = 0;
    while ((count=is.read(data)) != -1){
        total += count;
        int progress_temp = (int)total*100/lenghtOfFile;
        if(progress_temp%10 == 0 && progress != progress_temp){
            progress = progress_temp;
        }
        fos.write(data, 0, count);
    }
    is.close();
    fos.close(); 
```

一旦到达 .connect() 我得到错误**java.net.SocketException: socket failed: EACCES (Permission denied)**

我的清单如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.tvrplayer"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />
    <permission  android:name="android.permission.INTERNET"></permission>
    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.tvrplayer.MainActivity"
            android:label="@string/app_name"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

如何将api文件保存到我创建的本地director？

我还编写了一个对用户浏览器执行此操作的网络应用程序，但我不确定它如何在 android 上运行。

**更新**

因此，在我将行更改为权限错误消失后，现在我有一个新错误：

```
02-20 09:51:28.909: E/AndroidRuntime(12594): FATAL EXCEPTION: main
02-20 09:51:28.909: E/AndroidRuntime(12594): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.tvrplayer/com.example.tvrplayer.MainActivity}: android.os.NetworkOnMainThreadException
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1970)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.ActivityThread.access$600(ActivityThread.java:128)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.os.Looper.loop(Looper.java:137)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.ActivityThread.main(ActivityThread.java:4514)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at java.lang.reflect.Method.invokeNative(Native Method)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at java.lang.reflect.Method.invoke(Method.java:511)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at dalvik.system.NativeStart.main(Native Method)
02-20 09:51:28.909: E/AndroidRuntime(12594): Caused by: android.os.NetworkOnMainThreadException
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1099)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:84)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.io.IoBridge.connectErrno(IoBridge.java:127)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.io.IoBridge.connect(IoBridge.java:112)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:459)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at java.net.Socket.connect(Socket.java:842)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpConnection.<init>(HttpConnection.java:77)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpConnection.<init>(HttpConnection.java:50)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:351)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:86)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:308)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpEngine.connect(HttpEngine.java:303)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:282)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:232)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at libcore.net.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:80)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at com.example.tvrplayer.MainActivity.download(MainActivity.java:127)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at com.example.tvrplayer.MainActivity.downLoadMedia(MainActivity.java:118)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at com.example.tvrplayer.MainActivity.onCreate(MainActivity.java:52)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.Activity.performCreate(Activity.java:4465)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1053)
02-20 09:51:28.909: E/AndroidRuntime(12594):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1934)
02-20 09:51:28.909: E/AndroidRuntime(12594):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:24:44.183

```
File path = new File(getActivity().getFilesDir(), "Your Folder Name");
// if the directory doesn't exist it will create one.
path.mkdirs();
File file = new File(path,"Your File Name");
//if the file doesn't exist it will create one
file.createNewFile();

//for write
FileOutputStream fout = new FileOutputStream(file);
ObjectOutputStream os = new ObjectOutputStream(fout);
os.writeObject("Your Object");
os.flush();
os.close();

//for read
FileInputStream fis = new FileInputStream(file);
ObjectInputStream is = new ObjectInputStream(fis);
Your_Object_Type variable = (Your_Object_Type) is.readObject();
is.close(); 
```

就我而言，我写了一个类对象

**编辑：**

这是发生的，因为你在主 UI 线程上使用了互联网请求。修改您的代码：

```
new Thread( new Runnable() {
    @Override
    public void run() {
       try {
           //............
           // your internet code
           //.............
       } catch (Exception e) {
           // TODO Auto-generated catch block
           Log.e(Tag, e.toString());
       }
     }
   }).start(); 
```

**编辑2：** 如果您想知道文件是否已保存，请检查：

```
File file = new File(mediadir, "newfile.png");
if(file.exists()){
   //that means the "newfile.png" is exist in otherword it is saved
}else{
      //that means the "newfile.png" does not exist in otherword it is not saved
} 
```

# android - 如何在android中支持多种分辨率和屏幕尺寸

> ID：14974065
> 
> 赞同：1
> 
> 时间：2013-02-20T07:01:05.643
> 
> 标签：android, screen-resolution

我正在开发一个应用程序，其中包括在 WebView 中显示 html 内容。现在我面临着维持不同分辨率的问题..

我已经为

> 480x800（布局-正常-hdpi）
> 
> 720x1184（布局-正常-xhdpi）
> 
> 三星 GT 600x1024(layout-large-hdpi)
> 
> 800x1205(layout-large-xhdpi) 用于 Nexus 7

我遇到的问题是，在测试三星 GT 和 Nexus 7 设备时采用相同的分辨率规格可绘制布局。即.layout-large-hdpi。

谁能帮助我，如何消除上述缺点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:03:42.350

如果您一致地设计布局，则无需定义不同的`layout`文件夹（`layout-land`、、、`layout-large`）`layout-small`。将`Android OS`负责（关于`images`显示）。您唯一需要做的就是`<support-screens>` 在您的`manifest`和下面 添加`<support-screens>`：

```
 <supports-screens android:resizeable=["true"| "false"]
              android:smallScreens=["true" | "false"]
              android:normalScreens=["true" | "false"]
              android:largeScreens=["true" | "false"]
              android:xlargeScreens=["true" | "false"]
              android:anyDensity=["true" | "false"]
              android:compatibleWidthLimitDp="integer"
              android:largestWidthLimitDp="integer"/> 
```

有关更多信息，请查看[Support Multiple Screens](http://developer.android.com/guide/practices/screens_support.html)的 Android 开发人员文档。

# c - 使用 strcmp 和嵌套循环检查数组的值

> ID：14974068
> 
> 赞同：0
> 
> 时间：2013-02-20T07:01:25.447
> 
> 标签：c, arrays, loops, strcmp

我已经到了程序的最后一部分，我再次面临一些问题。

* * *

问题 #1：当我在标记化的 while 循环中打印数组的分隔字符串部分时，这些值是好的。但是，当我打印时`puts(tokenArray[1])`，它只显示命令的一个字母，例如：输入：“qwe rty”| 循环打印输出`while`：qwerty | 在循环外使用打印输出`puts(tokenArray[1])`：“e”（是的，只是字母）。

* * *

问题 #2：我在调试时注意到了这一点。在我输入一个随机输入然后输入“历史”后，第`tokenArray`一个位置用“历史”填充，下一个位置用“历史”填充。为此，我不能使用嵌套循环和 strcmp，如下所示，以检查第一部分是否为“历史”，如果是，请检查第二部分。如果第二部分为空，只显示命令的历史，或者如果它是“1”/“2”等（当用户输入“历史1”时，执行历史中的第一个命令。

这是我到目前为止的进展：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main (int argc, char *argv[])
{
    int i=0; int j=0; int k=0;
    char inputString[100];
    char *result=NULL;
    //char *result2=NULL;
    char delims[] = " ";
    char historyArray[100][100] = {0};
    char historyKey[] = "history";
    char *tokenArray[100] = {0} ;
    //char exitString[] = "exit";

    do
    {
        printf("hshell>");
        gets(inputString);
        strcpy (historyArray[k], inputString);
        k++;

        // Break the string into parts
        result = strtok(inputString, delims);

        while (result!=NULL)
        {
            //result2 = result;
            tokenArray[j] = result;
            //puts(result);
            result= strtok(NULL, delims);
            //puts(tokenArray[j]);
            j++;
        }
        //j = 0;
        puts(tokenArray[1]);
        if (strcmp(tokenArray[0],historyKey) == 0)
        {
            if (strcmp(tokenArray[1], " " ) == 0)
            {
                for (i=0; i<k; i++)
                {
                    printf("%d. %s \n",i+1,historyArray[i]);
                }
            }
        }
        else if (strcmp ("exit",inputString) != 0)
        {
            printf("\nCommand not found \n");
        }

    } while (strcmp ("exit", inputString) != 0);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:43:15.407

几件事情立即显现出来。

1.  您永远不会将一个命令行的值重置为下`j`一个命令行。
2.  `strtok()`不会仅仅因为您输入“命令”之类的内容就将单空格字符串添加到您的输入标记中。它会剥离 delims，所以你的逻辑在这个想法上是有缺陷的。“command”的输入标记将是单个标记，对于“command one”，它将是“command”，并且只有“one”。你显然认为它会给你一个来自你正在做的事情的单空格字符串`strcmp(tokenArray[1], " " )`。
3.  主要，但与您的直接问题无关，最终您将在`k`变得足够大时超出堆栈（准确地说是 100 个命令）
4.  感谢@unwind，您需要丢弃用 获取的换行符`fgets()`，这是我在测试时所做的。Prolly 应该提到这一点。

修复第一个，重新考虑第二个，并考虑为第三个保存历史的替代结构。最后，我对此进行了测试`fgets(inputString, 100, stdin);`，它确实有效，所以不知道你那里出了什么问题。

# matlab - matlab：将轴从 px 更改为 um

> ID：14974071
> 
> 赞同：1
> 
> 时间：2013-02-20T07:01:32.783
> 
> 标签：matlab, scale, axis, rescale

简单的问题...

我有一个矩阵，让`say A = magic(512)`。我将其显示为`imagesc(A)`. 现在，我知道，1px 等于假设 x=15 [um]。如何以 um 而不是 px 显示轴值？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:26:38.470

您要做的是更改`XTickLabel`and `YTickLabel`。这应该可以解决问题：

```
A = magic(512);
imagesc(A)
set(gca,'XTickLabel',15*get(gca,'XTick'));
set(gca,'YTickLabel',15*get(gca,'YTick')); 
```

`XTick`您使用和`XTickLabel`通常相同的事实，这样您就避免了`XTickLabel`必须先将字符从转换为数字。（当然，Y 也是如此）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T09:22:51.637

我经常喜欢看两个秤。我通过覆盖第二个轴来做到这一点。

片段：

```
A = magic(512);
clf
imagesc(A)
a1 = gca;
xlabel('px');ylabel('px');
set(a1,'Box','off');
a2 = axes('Color','none','XLim',get(a1,'XLim')/15,'YLim',get(a1,'YLim')/15,...
    'XAxisLocation','top','YAxisLocation','right',...
    'Position',get(a1,'Position'),'YDir','reverse',...
    'XColor','r','YColor','r');
xlabel('um');ylabel('um'); 
```

优点是`a2`可以使用单位中的 x 和 y 坐标进行绘制`[um]`。

# php - Parallel plesk 中的 Magento 模块名称出现问题。问题似乎与区分大小写

> ID：14974074
> 
> 赞同：0
> 
> 时间：2013-02-20T07:01:42.290
> 
> 标签：php, magento, module, case-sensitive, plesk

我在并行 Plesk 中的 Magento 模块名称有问题。我的模块的名称是这样的`ComPany/MYMODULE` ，它在`localhost`.

但是我将它上传到 Parallel plesk 中的实时服务器，我收到错误，例如`Source model "mymodule/entity_attribute_source_yesnodefault" not found for attribute "mymodule_update_images"`

似乎区分大小写在这里起了作用。所以我将MYMODULE文件夹更改为mymodule并进行了`ComPany/mymodule/etc/config.xml`适当的更改。但是没用！本地仍然可以正常工作，实时服务器给出错误！

我该如何克服这个错误？如果您有任何想法，请分享...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:35:06.213

如果您不是专家级开发人员，Magento 有一个您应该遵循的约定。

模块名称应该是驼峰式，第一个字母应该是大写，其余应该是小写。如果您的模块名称包含多个单词，而不是空格，只需将下一个单词的第一个字符大写并附加到第一个单词。

例子：

> 模块名称 = 我的模块名称
> 
> Magento 约定 = MyModuleName

我建议将您的命名空间和模块名称从 ComPany_MYMODULE 重命名为 MyCompany_MyModule 以防止误解..

# c - 将带有可变参数的函数作为 void 指针传递，并调用它

> ID：14974076
> 
> 赞同：5
> 
> 时间：2013-02-20T07:01:47.587
> 
> 标签：c, pointers

我有一个功能，我想通过各种功能

```
int func1(char *ptr)
{
    printf("%s",ptr);
    return 0;
} 
```

和我想调用 func1 的其他函数

```
int func2(void *i)
{
    //call i
    //here i point to function func1
    //and do something with return value of i
} 
```

那么，我应该如何在 main() 中调用它？

```
int main()
{
    void *d;
    //SOMETHING wrong in next four line
    d=&func1("abcd");
    func2(d);
    d=&func1("xyz");
    func2(d);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T09:30:56.093

您可以简单地创建一个函数 ( `func2`)，该函数将一个函数指针指向您想要调用的所需函数，另一个参数将一个指向您的字符串的指针。然后用参数`func2`调用传入的函数指针`str`。

```
#include <stdio.h>

void func1(const char *str)
{
    puts(str);
}

void func2(void (*fp)(const char *), const char *str)
{
    fp(str);
}

int main(void)
{
    const char *str = "Hello world.";

    func2(func1, str);

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:33:51.310

您首先应该使用函数指针来完成您想要的工作。使用 void 指针是一种方法，您可以事先知道将其转换为什么来解除引用。由于您传递的是函数的地址，因此无论如何都应该将其转换为函数指针。所以避免所有这些并声明 func 指针。**仅**当您知道可以处理所有可能性时才使用 void * 。例如。memcpy 使用 void * 这是可以接受的，因为您只想将源位置的一堆数据复制到目标位置。

```
#include <stdio.h>
void func1(char * str)
{
   printf("%s",str);
}
void func2(void * g)
{
   void (*p) (char *);   //function pointer
   p = (void (*)(char *))g;//casting void * to pi.e func pointer reqiuired eitherways.
   p("Func pointer caller");
}
void main()
{
   void * d = func1; // name of the function is itselt its address
   //printf("func1 = %d\nd = %d",func1,d);  
   func2(d);
} 
```

这一切都可以通过一个简单的函数指针来避免。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-20T08:10:58.170

首先：函数指针仅指函数。直接或通过函数指针调用函数时，参数进入游戏。

因此，如果您想实现您的想法，即将（一组）参数绑定到特定的函数变量，您需要使用包装函数：

```
int func1(char * pc)
{
  int i;
  /* assigne somehting to "i" and use "pc" */
  return i;
}

int func1_abcd(void)
{
  return func1("abcd")
}

int func1_xyz(void)
{
  return func1("xyz")
}

typedef int (*pfunc1_wrapper_t)(void);

int func2(pfunc1_wrapper_t pfunc1_wrapper)
{
  return pfunc1_wrapper();
}

int main(int argc, char ** argv)
{
  pfunc1_wrapper_t pfunc1_wrapper = NULL;
  int i = 0;

  pfunc1_wrapper = func1_abcd;
  i = func2(pfunc1_wrapper);

  pfunc1_wrapper = func1_xyz;
  i = func2(pfunc1_wrapper);

  ...

  return 0;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-20T07:21:49.870

请参阅此[函数指针](https://stackoverflow.com/a/840504/355722)并在[Wiki - Function Pointers](http://en.wikipedia.org/wiki/Function_pointer#Example_in_C)上阅读，您将知道如何修复您的代码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T07:35:46.930

Jatin 已经发布了函数指针的一般链接，很好地解释了函数指针。

当您希望传递的不是经典函数指针，而是一个函数指针，它的参数作为一个“函数指针”传递给另一个函数，我认为这不会起作用。

但是为什么要传递一个带有参数的函数作为一个参数呢？这意味着，您使用参数传递的函数将仅返回一个结果，该结果在 func2 外部已知（因为 func2 将使用已在外部定义的参数集调用 func1）。那么为什么不直接将 func1 调用的结果传递给 func2 呢？

# php - 使用 Twitter API v.1.1 获取信息

> ID：14974081
> 
> 赞同：5
> 
> 时间：2013-02-20T07:01:57.563
> 
> 标签：php, twitter, twitter-oauth

我不是专业人士，但目前，我在我的网站上使用 Twitter API V1 从用户的 Twitter 帐户中获取基本数据。

我正在使用基本 json 从[https://api.twitter.com/1/users/show.json?screen_name=katyperry](https://api.twitter.com/1/users/show.json?screen_name=katyperry)获取内容，它可以工作。

然而，随着 Twitter API V1.1 ( [https://dev.twitter.com/docs/api/1.1](https://dev.twitter.com/docs/api/1.1) ) 的推出，我获取数据的方法不再可行。

我试过（[https://dev.twitter.com/docs/api/1.1/get/users/show](https://dev.twitter.com/docs/api/1.1/get/users/show)），我什至无法进入页面[https://api.twitter.com/1.1/users/show。 json?screen_name=verified](https://api.twitter.com/1.1/users/show.json?screen_name=verified)它显示：

```
{"errors":[{"message":"Bad Authentication data","code":215}]} 
```

据我了解，我需要将其链接到 Twitter 应用程序并进行身份验证，我该怎么做？

我是否不再能够使用我通常使用基本 php 获取 json 文件的方法？有人可以找到我获取用户信息的替代方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T18:17:07.817

对于初学者，您需要将 URL 更改为[https://api.twitter.com/1.1/followers/ids.json?screen_name=katyperry](https://api.twitter.com/1.1/followers/ids.json?screen_name=katyperry)

在调用 API 之前，您还需要使用 OAUTH 进行身份验证。您可以在[https://dev.twitter.com/上注册一个 API 密钥](https://dev.twitter.com/)

# jquery - 如何使用 jQuery 索引动态地赋予背景颜色？

> ID：14974086
> 
> 赞同：1
> 
> 时间：2013-02-20T07:02:12.390
> 
> 标签：jquery

我有这样的标记：

```
<div class="container">
    <div>one</div>
    <div>two</div>
    <div>three</div>
    <div>four</div>
    <div>five</div>
</div> 
```

我想使用 jQuery`index()`为容器内的任何内容提供背景颜色`div`（我将从服务器动态获取索引）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:06:21.900

使用[儿童](http://api.jquery.com/children/)和[`eq()`](http://api.jquery.com/eq/)

```
 $(".container").children().eq(0).css("background-color",'red') //this will change background of first div 
```

与您的要求

```
 var yourindex='0';
 $(".container").children().eq(yourindex).css("background-color",'red') 
```

[在这里](http://jsfiddle.net/DG7Ye/)摆弄

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:07:24.757

尝试使用`.eq()`和`:eq()`：

```
$('.container div').eq(idx).css('background','purple');

$('.container div:eq('+idx+')').css('background','purple'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:06:29.977

```
$(".container div:nth-child(0)").css("someecssName) 
```

# php - 使用 PHP 脚本和 iOS 上传多个文件

> ID：14974092
> 
> 赞同：1
> 
> 时间：2013-02-20T07:02:45.977
> 
> 标签：php, objective-c, macos

目前我正在将 xml 文件从 mac 上传到服务器。它工作正常。下面是代码：

***osx代码***

```
 NSString *urlString1 = @"http://username:pwd@ip/files/upload.php";

NSMutableURLRequest *request1 = [[NSMutableURLRequest alloc] init];
[request1 setURL:[NSURL URLWithString:urlString1]];
[request1 setHTTPMethod:@"POST"];

NSString *boundary1 = @"---------------------------14737809831466499882746641449";
NSString *contentType1 = [NSString stringWithFormat:@"multipart/form-data; boundary=%@", boundary1];
[request1 addValue:contentType1 forHTTPHeaderField:@"Content-Type"];

NSMutableData *body1 = [NSMutableData data];
[body1 appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n", boundary1] dataUsingEncoding:NSUTF8StringEncoding]];
[body1 appendData:[@"Content-Disposition: form-data; name=\"userfile\"; filename=\"data.xml\"\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
[body1 appendData:[@"Content-Type: application/octet-stream\r\n\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
[body1 appendData:[NSData dataWithData:xmlData]];
[body1 appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n", boundary1] dataUsingEncoding:NSUTF8StringEncoding]];
[request1 setHTTPBody:body1];
NSLog(@"xml data %@",xmlData);
NSData *returnData1 = [NSURLConnection sendSynchronousRequest:request1 returningResponse:nil error:nil]; 
```

和***PHP 脚本***：

```
 <?php
  $target_path = "./";
  $target_path = $target_path.'data.xml';
  if(move_uploaded_file($_FILES['userfile']['tmp_name'],$target_path)) {
    echo "The file has been uploaded";
  } else{
    echo "There was an error uploading the file, please try again!";
  }
?> 
```

现在我有一个案例，我应该添加多个文件。那么文件命名是如何工作的呢？任何人都请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:27:08.667

我认为您可以使用 PHP Array 函数检查它是否有效。我不确定 XCode，但让我们坚持使用基本 HTML 来上传多个文件。试试下面的代码：

可以选择多个文件，然后使用

```
<input type='file' name='file[]' multiple> 
```

执行上传的示例 php 脚本：

```
<html>
<title>Upload</title>
<?php
    session_start();
    $target=$_POST['directory'];
        if($target[strlen($target)-1]!='/')
                $target=$target.'/';
            $count=0;
            foreach ($_FILES['file']['name'] as $filename) 
            {
                $temp=$target;
                $tmp=$_FILES['file']['tmp_name'][$count];
                $count=$count + 1;
                $temp=$temp.basename($filename);
                move_uploaded_file($tmp,$temp);
                $temp='';
                $tmp='';
            }
    header("location:../../views/upload.php");
?>
</html> 
```

所选文件作为数组接收

$_FILES['file']['name'][0] 存储第一个文件的名称。$_FILES['file']['name'][1] 存储第二个文件的名称。等等。

# css - IE-7 图像没有出现在顶部

> ID：14974103
> 
> 赞同：0
> 
> 时间：2013-02-20T07:03:40.137
> 
> 标签：css, html, position

我正在显示`onmouseover`一个 div 的工具提示。工具提示在 Firefox 和 IE8 中正确显示。但在 IE-7 中，它落后于 div。HTML 标记

```
<table cellspacing="0" cellpadding="5" border="0" id="tblEmployee">
<tbody>
<tr>
<td>
<div class="dvBorder" empid="1" nomineeid="21">
<img style="padding: 5px;" src="../../Images/user.jpg" alt="user">
<span class="EmpolyeeName">First Last</span><span class="EmployeeEmail">mail@amdocs.com</span></div></td>
</tr>
</table> 
```

当用户将鼠标悬停在 div.dvBorder 上时，工具提示是在 jquery 函数的帮助下动态创建的。

```
 function RollOut(result,crntDiv) {
            $(crntDiv).children('img').before(CreateElems('div', 'RollOverTip', result));
        }

function CreateElems(type,cssClass,value)
        {
            var elem = $(document.createElement(type));

            if(value != null)
                elem.text(value);

            if(cssClass!= null)
                elem.addClass(cssClass);

            return elem;
        } 
```

CSS类。

```
.RollOverTip
{
    background-image: url("/Images/screen2-rollover-tooltip.png");
    background-repeat: no-repeat;
    color: #000000;
    font-family: Calibri Regular;
    font-size: 18pt;
    height: 199px;
    line-height: 20pt;
    margin-left: 385px;
    position: absolute;
    width: 474px;
    z-index: 90000;
    padding:34px;
}

.dvBorder
{
    background-image: url(/Images/screen2-button.png);
    background-repeat: no-repeat;
    height: 125px;
    width: 400px;
    cursor:pointer;
    position: relative;
} 
```

这是 css 的问题吗，因为它在 IE-8，FF 中工作。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-20T08:34:38.497

尝试将 z-index 添加到您的 .dvBorder 类中：

```
.dvBorder
{
    background-image: url(/Images/screen2-button.png);
    background-repeat: no-repeat;
    height: 125px;
    width: 400px;
    cursor:pointer;
    position: relative;
    z-index:0; /* If this doesn't work, try -1 */
} 
```

# jquery - jquery mobile中的自定义弹出对话框

> ID：14974106
> 
> 赞同：-1
> 
> 时间：2013-02-20T07:03:49.543
> 
> 标签：jquery, jquery-mobile, popup

我想创建一个自定义弹出对话框，如 jquery mobile 中的附加图像。要求就像我不希望对话框呈矩形。我想把“V”型的形状放在对话框的底部。有人可以提供相同的解决方案或想法吗？

![自定义弹出窗口](../Images/2bb39f419a90894493bb321be2da8aa8.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:10:10.417

在此处访问 jQuery 移动文档页面；

[http://jquerymobile.com/demos/1.2.0-alpha.1/docs/pages/popup/](http://jquerymobile.com/demos/1.2.0-alpha.1/docs/pages/popup/)

在这里您可以看到一个**对话**按钮。点击那里，您可以看到您正在寻找的解决方案。然后，您可以使用 CSS 对其进行自定义。

访问该页面并开始处理它。

这是您的弹出框的设计

你可以设计像

```
<div id="box">message
    <div id="arrow">
        <img src="http://i.stack.imgur.com/PpMXb.png" alt="">
    </div>
</div> 
```

并设置CSS

```
body{
    background:#0066CC;
}
#box{
    background:#FFFFFF;
    width: 300px;
    height: 200px;
    margin-left: auto;
    margin-right: auto;
}
#arrow{
    display:block;
    margin-top:170px;
    height: 30px;
    width: 100%;
}
#arrow img{
    margin-left:20px;
} 
```

[http://jsfiddle.net/FppzR/](http://jsfiddle.net/FppzR/)

# grails - Grails 自动创建不需要的关系？

> ID：14974107
> 
> 赞同：0
> 
> 时间：2013-02-20T07:03:54.097
> 
> 标签：grails, grails-orm

我有两个域类指定三​​个级别的分类。

```
class CategoryGroup {
    String name
    static hasMany = [categories:Category]   
}

class Category {
    String name
    Category topCategory = null
    Set<Category> subCategories

    static mappedBy = [subCategories:'topCategory',topCategory:'subCategories']
    static hasMany = [subCategories:Category, categoryGroups:CategoryGroup]
    static belongsTo = [CategoryGroup]
} 
```

`CategoryGroup`是最高级别，那么每个`CategoryGroup`都有很多`categories`（每个`Category`都可以在 many 之下`CategoryGroup`）。也每一个`Category`都有很多`subCategories`。如果一个类别`topCategory`包含它的父类别，则可以将其标识为子类别。

现在问题来了。

我创建了两个`CategoryGroup`s：男装和女装
然后我创建了一个`Category`：服装，并将其放在男装和女装下 现在我再创建两个类别 - 拳击手和纱丽，并将它们作为服装的子类别，只有拳击手放在`CategoryGroup`男装和纱丽服被置于`CategoryGroup`妇女之下。

我想要的是，当我选择男士，然后我选择服装时，只有属于父类别男士的服装下的子类别应该出现（即只有拳击手而不是纱丽服）

但是当我这样做时，拳击手会自动添加到女装！也就是说，当我这样做时`boxers.categoryGroups.name`，我会同时看到男士和女士的。

这怎么可能发生？

# iphone - iphone 4s应用显示正常，iphone 5不设置背景

> ID：14974111
> 
> 赞同：1
> 
> 时间：2013-02-20T07:04:03.607
> 
> 标签：iphone, ios

我已经开发了一个应用程序。在该应用程序中我正在设置背景图像，它将在 iPhone 4s 中正常显示，但在 iPhone 5 中未设置背景图像。

这是我在 iPhone 4s 上的屏幕

![在此处输入图像描述](../Images/cc0e5507dcb100a55c23e671413d81c9.png) ![在此处输入图像描述](../Images/1b48aeb3f7fb399e6b0f72e2c9d3e962.png)

它在 iPhone 5 中显示如下：

![在此处输入图像描述](../Images/b1d5358a7c0fc43887056fe62d124b58.png) ![在此处输入图像描述](../Images/763fcba516bc74192374793e0cc930d6.png)

我正在使用此代码来设置背景图像：

```
// Custom initialization
        self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"inner-bg"]];
        bgView.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"login-bg"]];
        bgView.layer.cornerRadius =7;
        bgView.layer.masksToBounds = YES; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:12:23.053

你有你的图像的版本吗 `inner-bg-568h.png`？`inner-bg-568h@2x.png`

iPhone 5 的大屏幕需要不同尺寸的图像才能在视图中正确显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:22:03.167

您可以添加 -568h@2x 图像，

![在此处输入图像描述](../Images/6a73f861adbd8ef8c54a67f1d0479b1a.png)

或者你可以[拉伸原来的](https://stackoverflow.com/a/10629692/889538)。

# c# - 从 OnAppStart 触发的静态构造函数在 ASP.NET MVC 应用程序中使用是否安全

> ID：14974118
> 
> 赞同：1
> 
> 时间：2013-02-20T07:04:22.087
> 
> 标签：c#, asp.net-mvc, entity-framework

我正在使用静态构造函数使用它们的基础信息来初始化我的辅助类。`Application_Start`通过初始化实例来触发静态构造函数。

我的担忧出现了，因为在其中一个构造函数中，我使用实体框架发出调用从数据库中抓取对象。但是返回的对象总是`null`，我确定它是因为它在生命周期中过早触发（在 EF 完全完成之前）

所以我的问题是，这个解决方案架构安全吗？（以下由 调用`Application_Start`）

```
public static void OnAppInit()
        {
            AppSettings AS = new AppSettings(); //Trigger static constructor
            AreaRegistration.RegisterAllAreas();
            FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);
            RouteConfig.RegisterRoutes(RouteTable.Routes);
            GeneralConfig.OnAppStart();
            ElmahConfig EC = new ElmahConfig(); //Trigger static constructor
            BundleConfig.RegisterBundles(BundleTable.Bundles);
            AutoMapperConfig.Configure();
            ViewResourceHelper VRH = new ViewResourceHelper(); //Trigger static constructor
            ExceptionHelper EH = new ExceptionHelper(); //Trigger static constructor
            TestEnvironmentHelper.Init();
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T18:20:37.230

不推荐在静态构造函数中做任何严肃的工作。事实上，请查看 Eric Lippert 最近关于静态构造函数的博客文章系列。在他的[最新帖子](http://ericlippert.com/2013/02/18/static-constructors-part-four/)中，他特别说：

> 简而言之：静态构造函数应该用于快速初始化重要的静态数据，仅此而已。

如果它来自 Eric Lippert，我会说它和黄金一样好。

我推荐的替代方法是使用[`Lazy<T>`](http://msdn.microsoft.com/en-us/library/dd642331.aspx).

# iphone - 如何在 iphone 的 UISearchBar 中更改 UiSearchbar 的高度、宽度、颜色和 Uitextfield 高度？

> ID：14974119
> 
> 赞同：1
> 
> 时间：2013-02-20T07:04:38.827
> 
> 标签：iphone, ios, objective-c, uitextfield, uisearchbar

我想`UISearchBar`改变`textfield height and width`。我的问题是如何更改`UiSearchbar height ,width , color`and `Uitextfield Height`in `UISearchBar`in `iphone`？

欢迎任何想法或建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-02T13:08:24.553

您可以从 xib 的源代码更改文本字段的高度。要以源代码格式打开 xib，您需要右键单击 xib 文件，然后选择“作为源代码打开”。在该代码上搜索文本字段并相应地更改高度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-01T03:58:30.293

您可以在属性检查器下的情节提要中更改颜色本身，但是，要设置我使用的 x、y、宽度和高度...

首先创建你的 UISearchBar 对象：

'。H'

```
@property (strong, nonatomic) IBOutlet UISearchBar *searchBar; 
```

然后在 viewdidload/willappear 中放上这段代码

'.m'

```
self.searchBar.frame = CGRectMake(34, 244.5, 306, 30); 
```

根据需要进行调整。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-20T07:41:42.973

```
- (void)setSearchIconToFavicon 
{
    // Really a UISearchBarTextField, but the header is private.
[[mySearchBar.subviews objectAtIndex:0] setAlpha:0.0];

UITextField *searchField = nil;`enter code here`
for (UIView *subview in mySearchBar.subviews) 
{
    if ([subview isKindOfClass:[UITextField class]]) 
    {
        searchField = (UITextField *)subview;
        break;
    }
}
if(!(searchField == nil)) 
{
    searchField.textColor = [UIColor blackColor];
    [searchField setBackground: [UIImage imageNamed:@"searchFieldBG.png"] ];
    [searchField setBorderStyle:UITextBorderStyleNone];
    searchField.frame = CGRectMake(4, 5, 285, 50); 
}
} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-02-20T07:15:58.690

```
[searchBar setFrame:CGRectMake(0,0,80,30)]; 
```

希望对你有帮助:)

# iphone - 在 iPhone（3.5 视网膜英寸）中正确显示图像的问题

> ID：14974121
> 
> 赞同：0
> 
> 时间：2013-02-20T07:04:47.033
> 
> 标签：iphone, ios, xcode4.2

我必须在 iPhone 和 iPhone（3.5 视网膜英寸）中显示相同的图像。但它看起来不同。

原始图像如下所示：

![在此处输入图像描述](../Images/0ced8941993786ee783b5a900a808e35.png)

它在 iPhone 中正确运行，但在 iPhone（3.5 视网膜英寸）中无法正确运行。在 iPhone（3.5 视网膜英寸）中，它看起来像这样：

![在此处输入图像描述](../Images/7efbedf45600516eeaf541bab4f0b02d.png)

我试过这个：

```
imageView.contentMode = UIViewContentModeScaleToFill; 
```

整个代码如下所示：

```
if(IS_IPHONE_5)
    {
        // code for 4-inch screen
        backgroundImageView.frame = CGRectMake(0, 0, 320, 460);
        backgroundImageView.image = [UIImage imageNamed:@"image1_iphone5.png"];
   } else {
        // code for 3.5-inch screen
        backgroundImageView.frame = CGRectMake(0, 0, 320, 370);
       backgroundImageView.contentMode = UIViewContentModeScaleToFill;
        [backgroundImageView setImage:[UIImage imageNamed:@"image1.png"]];
    } 
```

但这并不能解决问题。被这个问题困扰了一天。不确定是什么问题。真的需要一些指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:13:00.837

如果您有一张用于 4 英寸和 3.5 英寸设备的图像，则问题可能出在自动调整大小的蒙版中，看起来现在您已打开 UIViewAutoresizingFlexibleHeight。尝试设置 UIViewAutoresizingNone 代替。

# iphone - 如何在 xcode 中检查 NSArray 和 NSDictionary 中的元素？

> ID：14974125
> 
> 赞同：0
> 
> 时间：2013-02-20T07:05:03.327
> 
> 标签：iphone, ios, xcode, xcode4.6

我安装了xcode 4.6。在发行说明中，我发现以下行：

> 调试器可以检查内部的元素`NSArray`或`NSDictionary`对象。

我可以使用“po”命令查看值。是指同一个吗？

或者

是否有任何其他技术可供开发人员在不使用“po”命令`NSArray`的情况下检查元素？`NSDictionary`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:59:48.003

如果数组有数据，在它旁边放一个断点。它将在那时停止执行。

然后将鼠标悬停在它上面。

例子：![在此处输入图像描述](../Images/01609771bcc90fbde71a8a472e6d6de9.png)

下一个：![在此处输入图像描述](../Images/ac1ab4badd8dee3697933be78affee4d.png)

希望这可以帮助。不需要“po”或打印描述...

编辑：

我只是这样做了：

![在此处输入图像描述](../Images/8d703b239829ebf4ec36cd9ead8abe17.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:14:38.757

gdb 窗口，您可以使用 po 来检查对象。

添加对象后设置断点，您可以检查字典中的内容

**问什么是GDB？**

gdb 实际上是控制台中的一个提示符，您可以在其中输入命令。通过键入“po object_name”，您可以在控制台中打印出对象内容。[了解更多详情](http://en.wikipedia.org/wiki/Gdb)

```
 NSMutableDictionary* dictForData = [[NSMutableDictionary alloc] init];
    [dictForData setObject:@"test1" forKey:@"string1"];
    [dictForData setObject:@"test2" forKey:@"string2"]; 
```

**输出**

```
(gdb) po dictForData
{
  string1 = test1;
  string2 = test2;
} 
```

## 日志数据的另一个选项。

设置 1：![在此处输入图像描述](../Images/d2689913e13151321060faa99a187509.png)

第2步 ：![在此处输入图像描述](../Images/32bccd1c02734f2b49dec2d2fd89afd9.png)

第 3 步：![在此处输入图像描述](../Images/92e0fb9912ef076c789da0fd7eda1c26.png)

第4步 ：![在此处输入图像描述](../Images/c4e5a1e726e252cdbc264aaf4bc70ef9.png)

这是我使用的方法。

# sql - 为什么第一次执行查询比后续执行慢？

> ID：14974133
> 
> 赞同：-3
> 
> 时间：2013-02-20T07:06:11.797
> 
> 标签：sql, sql-server, sql-server-2005

我有 sql server 2005 数据库。当我第一次执行查询时，返回结果需要很长时间，但后续查询执行得更快。

为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:09:56.707

因为 sql server 在第一次运行时为其存储了查询执行计划..所以在第二次和第三次运行时它使用相同的查询计划，这实际上节省了时间并返回快速的结果..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:12:58.393

因为它在您第一次运行它时创建执行计划，第二次或下一次运行它只是验证执行计划而不需要时间来创建执行计划。这就是为什么它会在短时间内给出结果。

# android - 在活动中显示导航图

> ID：14974137
> 
> 赞同：4
> 
> 时间：2013-02-20T07:06:24.053
> 
> 标签：android, google-maps, maps

![在此处输入图像描述](../Images/3137c10a25803dbb9269f166da2579f3.png)

如何在布局 Activity 中启动导航地图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:13:17.897

你应该看看[这个教程](http://www.vogella.com/articles/AndroidGoogleMaps/article.html)，它非常全面，stackoverflow 的格式不适合长篇教程。

一般来说，Google 提供了一个库，用于在您的应用程序中使用 Google 地图，称为 MapView。该示例的源代码可[在此处](http://www.vogella.com/code/MapsDemo/codestartpage.html)获得。

* * *

更新：根据下面的评论，现在我更好地理解了这个问题，答案是你不能调用代码或在 android 中的另一个应用程序中重用代码。唯一官方的方式是使用 Intent 来调用*整个*Activity。（这是[关于该主题的另一个线程](https://stackoverflow.com/questions/7726702/use-external-application-fragment-activity-inside-application)。）

# animation - 如何停止所有动画并在屏幕上显示一系列精灵？

> ID：14974144
> 
> 赞同：0
> 
> 时间：2013-02-20T07:06:42.490
> 
> 标签：animation, cocos2d-iphone

我正在为我的 cocos2d(-iphone v2.0) 平台游戏/跑步游戏实现教程模式 - 当用户处于教程模式时，我需要暂停游戏并提供说明。在游戏中，有一点我需要停止所有动画并按顺序向用户提供一些输入，相互覆盖（例如间隔 1 秒）。

在所需的点，在我的游戏层中，我调用`[[CCDirector sharedDirector]stopAnimation]`它来停止所有动画。现在，我想连续拨打两个电话，间隔 1 秒。由于动画停止，我没有收到任何更新调用。因此，我尝试使用 NSTimer，如下所示：

```
-(void)update
{
  //...
  [[CCDirector sharedDirector]stopAnimation];
  //...
  [self showFirstTutorialInstruction];
  NSTimer *timer = [[NSTimer scheduledTimerWithTimeInterval:1.0
  target:self
  selector:@selector(showNextTutorialInstruction)
  userInfo:nil
  repeats:NO]retain];
  //...
}

-(void)ccTouchBegan(...)
{
  //...
  [CCDirector sharedDirector]startAnimation];
  //...
} 
```

现在动画停止了，定时器函数确实被调用了，但是在我重新启动动画之前，选择器中的第二条指令不会显示在显示区域中。如何在`showNextTutorialInstruction`调用第二条指令后立即显示？我曾尝试强制访问该图层，但不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T22:51:06.367

您的更新方法是如何编写以提供您的动作/动画的？您可以做的一件事是使用 pause 代替 stopAnimation。例如我在一个测试项目中试过这个

```
-(void)startPause {
    if(!isPaused) {
        isPaused = YES;
        [[CCDirector sharedDirector] pause];
        [self performSelector:@selector(addLabel) withObject:nil afterDelay:2.0];
    } else {
        isPaused = NO;
        [self removeChild:addLabel cleanup:YES];
        [[CCDirector sharedDirector] resume];
    }
}

-(void)addLabel {
    addLabel = [CCLabelTTF labelWithString:@"TEST" fontName:@"Arial" fontSize:20];
    [self addChild:addLabel];
    CGSize winSize = [[CCDirector sharedDirector] winSize];
    addLabel.position = ccp(winSize.width/2, winSize.height/2);
} 
```

[[CCDirector sharedDirector] 暂停]；在 cocos2d 文档中概述为“暂停正在运行的场景。将*绘制*正在运行的场景，但将暂停所有计划的计时器在暂停时，绘制速率将为 4 FPS 以减少 CPU 消耗”

我使用的 isPaused 是一个 BOOL，在一开始我的更新方法中我有这条线

```
if (isPaused) { return; } 
```

但是现在回头看，您根本不需要它。由于我的 performSelector 中的计时器是在导演暂停后添加的，因此它将按计划运行。这应该使您能够获得添加所需内容的所需结果。

# c# - 使用 hscroll 滚动分组框

> ID：14974147
> 
> 赞同：2
> 
> 时间：2013-02-20T07:06:49.950
> 
> 标签：c#, scrollbar

我有一个`WINFORM`动态显示按钮的组框，因为我不确定那里会有多少按钮，所以如果按钮更多，那么组框其余按钮的水平大小将变得不可见，所以我想用它`Hscrollbar`来滚动所有按钮。

但是我不知道如何使用它，所以你能帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:17:43.500

如果您设置`GroupBox.AutoSize = true`，则控件将使其大小适合内容。但是如果你不想让 group box 增长，那就把你的 group box 放到`Panel`. 然后设置`Panel.AutoScroll = true`。现在，如果单选按钮将组框强加于增长，面板大小不会改变，但会出现适当的滚动条。

# jsf - 如何将外部 HTML 加载到 JSF 中

> ID：14974148
> 
> 赞同：0
> 
> 时间：2013-02-20T07:06:51.260
> 
> 标签：jsf

我想打开一个新的 JSF 页面，该页面显示我通过来自 Web 服务的字符串获得的外部转换 HTML，将我自己的提交按钮附加到页面并为我自己的目的捕获表单数据（不提交回 Web 服务）。目的是通过调用 Web 服务并以字符串的形式接收转换后的 HTML，从而尝试为我节省大量工作。如何在 JSF 中显示这个 html？使用 IFrame 不是答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:23:56.190

您总是可以使用简单的 javascript 来做到这一点，这里有一个使用 jquery 的示例：

[使用 jQuery 编写 HTML](https://stackoverflow.com/questions/5593012/writing-html-with-jquery)

还; 您将需要使用“jQquery 对象”访问您的 JSF 组件，请尝试以下操作：

[如何在 jquery 中引用 JSF 组件 ID？](https://stackoverflow.com/questions/7132061/how-to-refer-to-a-jsf-component-id-in-jquery)

问候，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T11:46:51.827

```
HttpURLConnection connection = (HttpURLConnection) url.openConnection();
connection.connect();
BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));
String input = null;
    while ((input = in.readLine()) != null) {
        result = input;  //result is String
    } 
```

然后我将包含 HTML 的结果返回给我的支持 bean。

我使用 f:verbatim 在我的视图上呈现 HTML

```
connection = (HttpURLConnection) url.openConnection();
        connection.setDoInput(true);
        connection.setUseCaches(false);
        connection.setAllowUserInteraction(false);
        connection.setRequestProperty("Accept-Charset", "UTF-8");
        connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded;charset=UTF-8");
        connection.connect();
        InputStream in = new BufferedInputStream(connection.getInputStream());
        Scanner scanner = new Scanner(in, "UTF-8").useDelimiter("\\A"); // \\A regex ensures that I get the whole stream in one go - Match only at beginning of string (same as ^)
        while (scanner.hasNext()) {
            result += scanner.next();
        } 
```

# java - 将消息保存到 Android 中的收件箱？

> ID：14974150
> 
> 赞同：0
> 
> 时间：2013-02-20T07:07:00.063
> 
> 标签：java, android, sms

我使用 SMSManager 发送消息，我可以发送消息，但我想将其保存在消息对话中（设备中的默认消息应用程序）？

我所做的是

```
ContentValues values = new ContentValues();
values.put("address", "123456789");
values.put("body", "foo bar");
getContentResolver().insert(Uri.parse("content://sms/sent"), values); 
```

我可以将其添加到收件箱中，但是

正如 CommansWare 在[**这里**](https://stackoverflow.com/questions/642076/how-to-save-sms-to-inbox-in-android)评论的那样，

> > SMS 内容提供程序不是 Android SDK 的一部分。您的代码将在用自己的 SMS 客户端替换的设备上中断。您的代码可能会在未来的 Android 版本中中断

我没有设备可以在最新版本中进行测试，所有版本的 android 的解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:36:45.963

内容 uri 不是 Android sdk 的一部分。虽然我还没有看到任何使用替代 uri 作为 sms 提供商的设备，但它可能是其中之一。我认为 Google 将来会将这个 uri 字符串更改为另一个字符串的可能性很小。但是供应商也可以修改它。因此，通常所有版本的 Android 都没有灵丹妙药。

正如 PLB 所说，您可以为您的应用程序添加一些更新和错误报告功能。当设备更新到具有不同提供商的版本时，请通知用户，如果您创建处理更改的新应用程序，请让您的客户下载一个。如果您的代码无法读取/写入当前 uri。向您报告有关该设备的一些信息。所以你将能够修复它。

我首先想到，也许你可以自动查找 com.android.providers.telephony.SmsProvider 的字节码（dex 字节码）。但是，这也不是 Android sdk 的一部分。

# java - 控制台和 JDBC 中的十进制截断/舍入差异

> ID：14974154
> 
> 赞同：1
> 
> 时间：2013-02-20T07:07:09.340
> 
> 标签：java, sql-server, tsql, jdbc, rounding-error

将双精度值插入具有小数精度的数据库表时遇到问题。我正在使用 MS SQL Server 版本 10.0.4000 下面是一个小数列有 4 个小数位的示例表。

```
create table test (
test decimal (18,4)) 
```

当我通过 MSSQL 控制台插入值“36.78675”时，它会被四舍五入，`36.7868`因为该字段只有 4 位小数。这可以。

```
DECLARE @T DECIMAL(18, 5)

SET @T = 36.78675

insert into test values(@T)

select * from test 
```

但是当我通过我的 java 代码（MS SQL JDBC 驱动程序）执行等效插入（使用准备好的语句）时，数据存储在表中是`36.7867`. 如果我有一个类似的值`36.786750001`，控制台和 JDBC 都会舍入到`36.7868`. 我使用的 java 对象是 double 的。我用双值调用 setDouble() 。在这里它会自动选择数据类型。但是还有另一种 JDBC 方法，它采用对象和数据类型。使用它，我用 DECIMAL 和 FLOAT 类型进行了测试。所有人都给出了相同的结果。我什至将 jdbc 驱动程序更改为 I-net。也有同样的结果。

有人知道为什么通过驱动程序进行舍入的工作方式不同吗？是否有任何设置使其表现得像控制台？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:13:09.777

这是因为二进制浮点的性质，这是您使用的`double`（在 Java 中）。

最接近 36.7875的*确切*值是`double`

```
36.7867499999999978399500832892954349517822265625 
```

这将四舍五入为 36.7867。而最接近 36.78750001的*确切*值是`double`

```
36.786750000099999624580959789454936981201171875 
```

这将四舍五入为 36.7878。这就是你得到这种行为的原因。控制台可能将输入*视为十进制数*，而不是转换为二进制浮点数。

如果精确的十进制数字对您很重要，您可能不应该使用二进制浮点类型 -`BigDecimal`而是使用。

您应该真正考虑一下您的价值代表什么。如果它是一个物理连续值，例如身高、长度或重量，那么使用`double`可能毕竟是合适的——但你不应该对这样的情况感到困惑。如果它是具有离散（基于十进制）值的*人工*构造，例如货币值，那么您绝对应该使用`BigDecimal`，或者简单地缩放一个整数。

# js-test-driver - 为 JsTestDriver 提供外部 javascript 依赖项

> ID：14974158
> 
> 赞同：0
> 
> 时间：2013-02-20T07:07:21.713
> 
> 标签：js-test-driver

例如，我想测试`A.js`哪些依赖项`B.js`存储在 JAR 存档中。如何配置 JSTestDriver 以从`B.js`? 读取依赖项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T20:44:16.553

我还没有找到通过 JSTestDriver 配置文件和 JSTestDriver eclipse 插件执行此操作的方法，但是通过 maven-dependency-plugin 使用 maven（即在 maven 构建测试期间）完成此操作，在 prosess-test-resources 阶段运行解包目标和将解压后的 javascript 文件放到 jsTestDriver.conf 配置文件中可见的文件夹中。

# macos - Mac OS 上的 Perl Net::SMTP::SSL 错误：“malloc：对象 0x7fff8929d50d 的 *** 错误：未分配被释放的指针”

> ID：14974161
> 
> 赞同：1
> 
> 时间：2013-02-20T07:07:24.820
> 
> 标签：macos, perl, ssl, smtp

我正在运行 Mac OS X 10.8.2 和 Perl 5.12.4（它附带的版本）。

我通过 CPAN 安装了 Net::SMTP::SSL（'sudo cpan'，然后是 'install Net::SMTP::SSL'）

每当我尝试使用 perl 模块时，都会收到如下错误：

```
perl(41125) malloc: *** error for object 0x7fff8929d50d: pointer being freed was not allocated
*** set a breakpoint in malloc_error_break to debug
Abort trap: 6 
```

我试图尽可能简化这一点以缩小错误范围。在下面的代码中，它会在尝试运行该`$smtp->auth`行时崩溃（就在“即将崩溃”行之后）。

```
#!/usr/bin/perl

use Net::SMTP::SSL;

$mailhost           = 'foo.bar.com';
$sender             = 'baz@foo.bar.com';
$sender_acct        = 'baz';
$sender_name        = 'Foo Bar';
$sender_password    = 'password';
$subject            = 'Auto notice';
$userEmail          = 'user@foo.bar.com';
$thisMessage        = "Hello from Foo Bar\n";

our $smtp = new Net::SMTP::SSL(
                   $mailhost,
                   Port    =>       465,
                   #Debug   =>        1,
                   #Hello   =>       'foo.bar.com',
                   #Timeout =>      10
                   ) or die "Could not set up SMTP $!\n$smtp->message";

print "About to crash\n";

# -- Authorize ourselves with the SMTP server --
$smtp->auth($sender_acct, $sender_password);

#  -- Enter sender mail address. --
$smtp->mail($sender);

#  -- Enter recipient mails address. --
@success = $smtp->recipient($userEmail,  { SkipBad => 1 });

$smtp->data();

# -- This part creates the SMTP headers you see. --
$smtp->datasend("To: <$userEmail> \n");
$smtp->datasend("From: $sender_name <$sender> \n");
$smtp->datasend("Subject: $subject");

# -- line break to separate headers from message body. --
$smtp->datasend("\n");

$smtp->datasend($thisMessage);

$smtp->datasend("\n");
$smtp->dataend();
$smtp->quit(); 
```

我非常有信心这不是我的脚本中的错误，因为当我在另一个平台上运行它时它工作正常（我很确定它是 Solaris，但我不能发誓。它安装了 perl 5.8.8） .

那么，我在这里做错了什么？如何`Net::SMTP::SSL`在我的 Mac 上工作？

非常感谢！

# javascript - 单击带有滚轮的链接会在新选项卡中打开，但在执行右键单击+打开新选项卡时不会

> ID：14974162
> 
> 赞同：0
> 
> 时间：2013-02-20T07:07:25.827
> 
> 标签：javascript, tabs, popup, href

我有一个链接，它有一个调用此函数的 onclick 事件：

```
function popUp(url){
    window.open(url, '');
} 
```

链接如下所示：

```
<a href="javascript:void(popUp('someUrl'));">I'm a link</a> 
```

单击该链接应打开一个弹出窗口。在新选项卡中打开它也应该加载页面。问题是，单击滚轮时页面加载，但是当您右键单击链接然后选择在新选项卡中打开时，新选项卡是空白的（关于：空白）。

执行右键单击+在新选项卡中打开时，有什么方法可以加载url？

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:15:31.673

您正在调用 js 函数而不是链接，因此无法在选项卡中打开页面。您可以将链接修改为

```
<a href="javascript:;" onclick="Javascript:popUp('someUrl')">I'm a link</a> 
```

或者直接将url作为href值来达到目的。

# php - 我的站点 URL 中存在未知字符串“%3Ca%20target=”

> ID：14974165
> 
> 赞同：1
> 
> 时间：2013-02-20T07:07:35.733
> 
> 标签：php, javascript, http, httprequest

有时，像这样的字符串`%3Ca%20target=`会附加到我的网站 URL，这会导致意外行为。

URL 变成这样：

**[http://www.example.com/myhandler/mypage/mypage/%3Ca%20target=](http://www.example.com/myhandler/mypage/mypage/%3Ca%20target=)**

我正在努力找出这个问题背后的原因。有什么提示吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:12:50.910

那么 URL 结尾的 URL 解码翻译是`<a target=`. 因此，不知何故，您的 JS 或其他东西必须将 HTML 放入 URL 栏中。您需要提供 URL 发生这种情况的上下文以获得更多帮助。

# sql - 按子句顺序选择不同的记录

> ID：14974169
> 
> 赞同：0
> 
> 时间：2013-02-20T07:08:03.380
> 
> 标签：sql, sql-server

我有一张桌子

```
Table1
(
  id bigint
  , name nvarchar(50)
) 
```

该表可以具有相同的名称和不同的案例名称。

```
Insert into Table1
(Select 1, 'Ram')
(Select 2, 'Ram')
(Select 3, 'Ram')
(Select 4, 'Ram')
(Select 5, 'ra')
(Select 6, 'ram')
(Select 7, 'RAM')
(Select 8, 'RAM') 
```

现在我需要按大小写选择所有不同的名称并具有最小的 ID 号。结果应该是

```
1, Ram
6, ram
7, RAM 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T07:14:01.333

```
SELECT MIN(ID) ID, name COLLATE Latin1_General_CS_AS Name
FROM   table1
WHERE  name <> 'ra'
GROUP  BY name COLLATE Latin1_General_CS_AS
ORDER  BY ID 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/a039f/5)
*   [TSQL 整理](http://msdn.microsoft.com/en-us/library/ms184391.aspx)
*   [选择 SQL Server 排序规则](http://msdn.microsoft.com/en-us/library/ms144250%28v=sql.105%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:13:22.277

你可以使用这个：

```
SELECT  t.id
        , t.name
FROM    (
        SELECT  ROW_NUMBER() OVER (PARTITION BY name COLLATE Latin1_General_CS_AI ORDER BY id) num
                ,*
        FROM    Table1
) t
WHERE   num = 1 AND name = 'ram'
ORDER BY t.id 
```

请注意，我添加了“COLLATE Latin1_General_CS_AI” - 这告诉 SQL Server 要执行哪种类型的字符串比较，如果您的数据库排序规则区分大小写 (CS)，您可以删除这部分查询，但如果您的排序规则不区分大小写 ( CI）您必须使用排序规则的区分大小写版本（我使用`Latin1_General`区分大小写，不区分重音）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:16:07.270

```
select min(id),name  from Table1group by UPPER(name) ASC 
```

# android - android中与相机相关的应用

> ID：14974170
> 
> 赞同：-1
> 
> 时间：2013-02-20T07:08:15.907
> 
> 标签：android

在我的相机应用程序中，我有图像按钮、图像视图和两个按钮作为确认和保存。在第一次显示时，图像按钮可见，其他按钮不可见，完成了如何通过单击图像按钮打开相机的编码和还在图像视图中获得图像，单击确认按钮时会出现保存，但在此保存单击时，我想将图像视图中捕获的图像保存在 SD 卡上的特定文件中，并带有串行命名循环，如带有“.PNG”扩展名的数码相机。请帮助我。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:46:04.497

first you have to return bitmap from the image captured and then use this method on Button click i'm using it tho.

```
 void Save() {
    if (null != view.getDrawable()) {
        view.setDrawingCacheEnabled(true);
        view.buildDrawingCache();
        save = view.getDrawingCache();
        final File myDir = new File(folder);
        myDir.mkdirs();
        final Random generator = new Random();
        int n = 10000;
        n = generator.nextInt(n);
        final String fname = "StyleMe-" + n + ".png";
          file = new File(myDir, fname);
        if (file.exists())
            file.delete();
        try {
            final FileOutputStream out = new FileOutputStream(file);
            save.compress(Bitmap.CompressFormat.PNG, 100, out);
            out.flush();
            out.close();
            sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED,
                    Uri.parse("file://"
                            + Environment.getExternalStorageDirectory())));
            Toast.makeText(getApplication(), "Image Saved",
                    Toast.LENGTH_SHORT).show();
        } catch (final Exception e) {
            Toast.makeText(getApplication(),
                    "Something Went Wrong check if you have Enough Memory",
                    Toast.LENGTH_LONG).show();
        }
    } else {
        final Toast tst = Toast.makeText(getApplication(),
                "Please Select An Image First", Toast.LENGTH_LONG);
        tst.setGravity(Gravity.CENTER, 0, 0);
        tst.show();
    }
    view.setDrawingCacheEnabled(false);
} 
```

here i'm getting the image from the View as cashes and save it as `PNG` what you have to do is delete `if statement` and change save to your bitmap name `save.compress(Bitmap.CompressFormat.PNG, 100, out);` and which it will be`

 ````
 void Save() {
        final File myDir = new File(folder);
        myDir.mkdirs();
        final Random generator = new Random();
        int n = 10000;
        n = generator.nextInt(n);
        final String fname = "StyleMe-" + n + ".png";
          file = new File(myDir, fname);
        if (file.exists())
            file.delete();
        try {
            final FileOutputStream out = new FileOutputStream(file);
            save.compress(Bitmap.CompressFormat.PNG, 100, out); \\ change save to your Bitmap name 
            out.flush();
            out.close();
            sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED,
                    Uri.parse("file://"
                            + Environment.getExternalStorageDirectory())));
            Toast.makeText(getApplication(), "Image Saved",
                    Toast.LENGTH_SHORT).show();
        } catch (final Exception e) {
            Toast.makeText(getApplication(),
                    "Something Went Wrong check if you have Enough Memory",
                    Toast.LENGTH_LONG).show();
        }

} 
```

`
and here is my folder string

```
 String folder = "/sdcard/Pictures/StyleMe"; 
```

and my `static File file;` and P.S this method it will automatically tell the Gallery to scan for new files , without restarting the phone or doing it manually . do accept the answer if that what you seek for and vote it for sure. Edit: add this in your manifest `<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />``

# php - $_SERVER['DOCUMENT_ROOT'] 路径不起作用，因此创建错误

> ID：14974171
> 
> 赞同：0
> 
> 时间：2013-02-20T07:08:17.323
> 
> 标签：php

我正在使用文档根目录来提供不起作用的绝对路径。如果我`echo $_SERVER['DOCUMENT_ROOT'];` 这条路原来是`C:/wamp/www/`

它显示错误

```
Warning: include_once(C:/wamp/www//library/includes/header.php) [function.include-once]: failed to open stream: No such file or directory in C:\wamp\www\Library Lending management\library\library\book_search_comit.php on line 16 
```

当我完全喜欢它时`C:\wamp\www\Library Lending management\library\includes\header.php`，它工作正常。

我发现`"/"`当我使用`"\"`它工作正常时会产生问题。我的问题是我有很多文件使用`$_SERVER['DOCUMENT_ROOT']`显示目录路径`"/"`但我需要`"\"`。我怎样才能使脚本可行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:21:12.363

`$_SERVER['DOCUMENT_ROOT']`在您的服务器配置中定义，因此您可以在那里更改它。

我认为更可靠的方法是使用**dirname(_ *FILE* _)**定义应用程序的根。这将使您的应用程序更加独立于配置，并且更加“即插即用”，这似乎适合图书馆收藏。

我还鼓励您使用常量 DIRECTORY_SEPARATOR 而不是硬编码`"\"`或`"/"`内部路径，因为这更便于跨平台移植。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:25:49.750

使用 str_replace() 更改路径分隔符：

```
$docroot = str_replace('/', DIRECTORY_SEPARATOR, $_SERVER['DOCUMENT_ROOT']);
include_once($docroot.'header.php'); // etc. 
```

您可能需要另一个 DIRECTORY_SEPARATOR，这取决于 $docroot 最终是什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:26:41.297

我用`dirname(dirname(__FILE__))`它为我工作。`dirname(__FILE__)`给出文件的当前位置并`dirname(dirname(__FILE__))`退一步目录。

# android - 在 ListView 中延迟加载图像

> ID：14974172
> 
> 赞同：1
> 
> 时间：2013-02-20T07:08:25.290
> 
> 标签：android, lazy-loading

我从stackoverflow遵循了这个答案：

[ListView 中图像的延迟加载](https://stackoverflow.com/questions/541966/how-do-i-do-a-lazy-load-of-images-in-listview#3068012)

和 Github 上的一样：

[https://github.com/thest1/LazyList](https://github.com/thest1/LazyList)

在的最后一行`Basic Usage`，它说：

> 请仅创建一个 ImageLoader 实例并在您的应用程序中重用它。这种方式图像缓存将更加有效。

我怎样才能做到这一点？

我有很多 ListView(10-15)，到目前为止，我在 Adapter 类中使用这种方式，如示例中所示：

```
public ImageLoader imageLoader; 

    public LazyAdapter(Activity a, String[] d) {
        activity = a;
        data=d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        imageLoader=new ImageLoader(activity.getApplicationContext());
    } 
```

我试过这样做：

在第一个类中创建一个静态变量，并在其他任何地方使用它：

```
Class first{
public static ImageLoader imageLoader;
}

Class LazyAdapter{

first.imageLoader = new ImageLoader(activity.getApplicationContext());
//use it
} 
```

但这与创建不同的实例不一样吗？我的意思是我将在每个适配器中创建一个新实例，当然之前的实例已经消失了（没有更多参考）。

那么，这是正确的使用方法吗？

**编辑：**

这也写在代码中：

```
public File getFile(String url){
    //I identify images by hashcode. Not a perfect solution, good for the demo.
    String filename=String.valueOf(url.hashCode());
    //Another possible solution (thanks to grantland)
    //String filename = URLEncoder.encode(url);
    File f = new File(cacheDir, filename);
    return f;

} 
```

那么，我应该使用`String filename = URLEncoder.encode(url);`吗？

和

> //使用可用堆大小的 25%

**堆大小是指RAM吗？或可以分配给应用程序的最大 RAM（我在某处读到它是 19mb）。**

因为根据设备（三星 Galaxy GT-S5830）规格：

**内部 - 158 MB 存储，278 MB RAM**

但在日志中我得到

```
01-23 06:23:45.679: I/MemoryCache(1712): MemoryCache will use up to 16.0MB 
```

这是代码中设置的**25%**。

如果它是**可用内存的 25%**。然后在设置 -> 应用程序 -> 管理应用程序中：

在底部，它说**159MB used 21MB free**。

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:11:49.247

作者提到在整个应用程序中只使用一个 ImageLoader 类的原因是您创建 ImageLoader 类实例的次数，然后在内部创建 MemoryCache 对象，这意味着 10 次 ImageLoader 实例然后 10 次 MemoryCache 对象。在 LazyList 项目中，1 个 MemoryCache 对象为图片预留了 App Heap 内存的 1/4。因此，由于许多 MemoryCache 实例，大多数应用程序堆内存已耗尽。在这里，我为您的问题提供了一个解决方案，即按照以下代码制作 MemoryCache 类 Singleton 类：

将 MemoryCache 中的构造函数更改为私有并进行以下修改。

```
private static MemoryCache mc;
    public static MemoryCache getMemoryCache()
    {
        if(mc==null)
        {
            mc = new MemoryCache();
        }
        return mc;
    }
    private MemoryCache(){
        //use 25% of available heap size
        setLimit(Runtime.getRuntime().maxMemory()/4);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:12:41.137

您应该使用单例模式，或者只是在某个类中初始化一个静态变量，然后在任何地方使用它。

```
public LazyAdapter(Activity a, String[] d) {
    activity = a;
    data=d;
    inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    imageLoader= someClass.imageLoader;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:14:39.483

为什么不使用[工厂方法](http://en.wikipedia.org/wiki/Factory_method_pattern)来创建[单例](http://en.wikipedia.org/wiki/Singleton_pattern)？

在你的尝试这个代码片段`ImageLoader.java`：

```
private synchronized static ImageLoader instance;

private ImageLoader(Context context) {
    this.context = context;
    fileCache = new FileCache(context);
    executorService = Executors.newFixedThreadPool(5);
}

public synchronized static ImageLoader getInstance(Context context) {
    if (instance == null)
        instance = new ImageLoader(context);
    return instance;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T07:15:37.010

你可以这样做：

```
public class ImageLoader {

    private static ImageLoader inst;
    private ImageLoader() {

    }

    public static ImageLoader getInstance() {
        if (inst == null)
            inst = new ImageLoader(Context);
        return inst;
    }
} 
```

每当您想要 ImageLoader 的对象时，您只需要调用`getInstance()`方法：`ImageLoader.getInstance()`

# php - 添加具有无限滚动的硬核 div Masonry

> ID：14974174
> 
> 赞同：1
> 
> 时间：2013-02-20T07:08:27.287
> 
> 标签：php, wordpress, html, jquery-masonry, infinite-scroll

我正在为我的动态项目使用带有 Infinite Scroll 的 Masonry.. 一切工作正常.. 但是当我使用 if 循环在动态 div 之间插入一个核心 div 时，每次向下滚动时，这个核心 div 都会重复。

**用于插入核心 div 的 PHP 代码：**

```
<?php
  global $con;
  $con = 0;    
?>
.
.
.
<?php
  if ($con==9) {    
?>
  <div id="post-<?php the_ID(); ?>99yi" <?php  post_class('thumb');?> style="border:none; margin-bottom:11px;">
    <div class="thumb-holder">
      The hardcore content comes here
    </div>
  </div>

<?php 
  }
?> 
```

**用于砌体无限滚动的Javascript：**

```
(function($){
            var $masonry = $('#masonry');

            $('#navigation').css({'visibility':'hidden', 'height':'1px'});

            $masonry.imagesLoaded( function(){
                $masonry.masonry({
                    itemSelector : '.thumb',
                    isFitWidth: true
                });
            });
        })(jQuery);

        jQuery(document).ready(function($){
            var $masonry = $('#masonry');

            $masonry.infinitescroll({
                navSelector : '#navigation',
                nextSelector : '#navigation #navigation-next a',
                itemSelector : '.thumb',
                loading: {
                    msgText: '',
                    finishedMsg: 'All items loaded',
                    img: 'http://www.abc.com/img/ajax-loader.gif',
                    finished: function() {},
                },
            }, function(newElements) {
                var $newElems = $(newElements).hide();

                $newElems.imagesLoaded(function(){
                    $('#infscr-loading').fadeOut('normal');
                    $newElems.show();
                    $masonry.masonry('appended', $newElems, true);
                });
            });

            $masonry.on('mouseenter', '.thumb-holder', function() {
                $(this).children('.masonry-actionbar').show();
            });

            $masonry.on('mouseleave', '.thumb-holder', function() {
                $(this).children('.masonry-actionbar').hide();
            });
        }); 
```

我陷入了这个问题..任何人都知道如何解决这个问题..感谢您提前提供的帮助.. :)

# windows - 内核模式和用户模式驱动程序

> ID：14974175
> 
> 赞同：1
> 
> 时间：2013-02-20T07:08:30.343
> 
> 标签：windows, visual-studio, drivers, kernel-mode, usermode

我是驱动程序开发的初学者。我想知道**内核模式驱动程序和用户模式驱动程序**在主内存（主内存的一部分）中的确切位置。**以及如何在Visual Studio**中创建驱动程序项目时将驱动程序指定为内核模式驱动程序或用户模式驱动程序

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:33:22.780

内核驱动程序可能存在于非分页内存中，这是主要区别。

用户模式驱动程序只是一个 COM DLL，因此您只需指定它。**

# jira - 从 sprint 转移到新的 sprint

> ID：14974183
> 
> 赞同：0
> 
> 时间：2013-02-20T07:08:41.213
> 
> 标签：jira, jira-plugin, jira-agile

我的 sprint 中有 100 个问题（例如：Sprint 10）。现在我想将 50 个问题移至新的 Sprint（例如：Sprint11），而无需手动创建新的 sprint。

作为一种解决方法，我选择了 50 个问题并右键单击然后进行批量更改。我有“更改冲刺”可用。如果我给出 11，那么它会自动创建 sprint11 并将问题移至 Sprint11。但在某些情况下，如果我给出任何随机数，它会显示“Sprint 必须退出：44”

这是批量转移到新冲刺的正确方法吗？如果是这样，发生错误的原因是什么？

提前致谢

KCB

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T12:37:02.650

它不起作用的原因是它不打算以这种方式工作。当您没有 Sprint XXX-1 时，您不能只是随机创建 Sprint XXX。

只需创建一个新的空 Sprint，然后将问题批量复制到它。您还可以向 Atlassian 提出功能请求，要求提供一个名为“使用所选问题创建新 sprint”的按钮。访问 support.atlassian.com。

# java - 如何从字符串中删除 Xml 版本字符串

> ID：14974188
> 
> 赞同：17
> 
> 时间：2013-02-20T07:09:23.230
> 
> 标签：java

我已经使用下面给出的代码阅读了 Xml 文件 -

```
 String XmlString = "";
  String resourcePath=FilePathHelper.getResourceFilePath(request);

        BufferedReader br = new BufferedReader(new FileReader(new  File(resourcePath+ "SubIndicatorTemplate.xml")));
        String line;
        StringBuilder sb = new StringBuilder();

        while((line=br.readLine())!= null){
            sb.append(line.trim());
        }

        XmlString=sb.toString(); 
```

现在我得到下面给出的格式的 XmlString 刺痛 -

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?><Template><Caption Name="Book Details"/><Data Type="one"/><Titles><Title Name="Book no" Type="Numeric"/><Title Name="Book name" Type="Text"/></Titles></Template> 
```

我想`<?xml version="1.0" encoding="UTF-8" standalone="no"?>`从上面的字符串中删除。所以我写了代码

```
XmlString=XmlString.replaceAll("<?xml*?>", "").trim(); 
```

但 XmlString 仍然是相同的。所以请帮我从 XmlString 中删除版本信息。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-02-20T07:29:44.907

将您的正则表达式更改为

```
XmlString=XmlString.replaceAll("\\<\\?xml(.+?)\\?\\>", "").trim(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-20T07:20:45.157

```
if(XmlString .contains("<?xml")){
  XmlString = XmlString.substring(XmlString.indexOf("?>")+2);
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-20T07:17:36.023

另一种方法是我们这样做：

```
XmlString = XmlString.substring(XmlString.indexOf("<Template>")) 
```

**编辑：** indexOf() 而不是 firstIndexOf()

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-20T08:46:46.623

```
String xmlString = readXml();
int p1 = xmlString.indexOf("<?xml ");
int p2 = xmlString.indexOf("?>");
if ( p1 != -1 && p2 != -1 && p2>p1){
   xmlString=xmlString.substring(0,p1)+xmlString(p2+2);
}

private String readXml(){
   //TOTO from file or any-pipeline read,convert to String....
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-20T07:18:39.803

第一个索引为 '>' + 1 的子字符串（+1 到下一个字符），它不会给你 xml 版本的结尾吗？虽然这样做不是很干净。

# java - 来自依赖弹簧项目的属性文件

> ID：14974190
> 
> 赞同：2
> 
> 时间：2013-02-20T07:09:43.053
> 
> 标签：java, spring

我创建了两个春季项目，并且在使用另一个项目时遇到了问题。

在第一个项目中，我有一个属性文件，并通过在 applicationContext.xml 文件中定义它们来初始化具有这些属性的 bean。

在另一个项目中，我已将此 jar 添加到构建路径中。并且在尝试访问这些属性时，它显示“没有足够的变量值可扩展”。我了解第一个项目的上下文尚未初始化。

但是我应该如何从第二个项目初始化它们？我应该将第一个项目的上下文文件导入第二个项目吗？如果我必须构建一个功能齐全的第一个项目，而不用担心导入和所有这些东西，我该怎么办？

问候 ArunDhaJ

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T09:21:23.277

从 OP 我推断 xml 文件和属性是 jar 的一部分。

**对 jar 文件执行以下检查** - 检查是否包含 xml 和属性文件 - 它们应该位于根路径中。

现在在战争中将 xml 文件/属性文件称为

```
 classpath:file.xml 
```

# php - 选项“标签”不存在

> ID：14974196
> 
> 赞同：2
> 
> 时间：2013-02-20T07:09:56.940
> 
> 标签：php, symfony, symfony-2.1

我收到以下错误

```
The option "label " does not exist. Known options are: "always_empty", "attr", "block_name", "by_reference", "cascade_validation", "compound", "constraints", "csrf_field_name", "csrf_protection", "csrf_provider", "data", "data_class", "disabled", "empty_data", "error_bubbling", "error_mapping", "extra_fields_message", "intention", "invalid_message", "invalid_message_parameters", "label", "label_attr", "mapped", "max_length", "pattern", "post_max_size_message", "property_path", "read_only", "required", "translation_domain", "trim", "validation_constraint", "validation_groups", "virtual" 
```

尽管在[文档](http://symfony.com/doc/current/reference/forms/types/text.html)中他们说它有一个`label`选项。

我的代码如下：

```
namespace ....

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;

class AddNew extends AbstractType
{
    private $languages;
    public function __construct($languages){
        $this->languages = $languages;
    }
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        echo "<pre>";//debugging
        print_r($this->languages);//debugging
        $builder->add('Key');
        foreach ($this->languages as $key => $language){
        $builder->add('translation'.$key, 'password' , array('label '=>$language['description'].' translation'));

        }
    }
 some other irrelevant stuff ......
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:16:05.700

看起来你在那里有一个额外的空间：`"label "`与`"label"`.

# android - 需要 Android 的组表视图

> ID：14974198
> 
> 赞同：0
> 
> 时间：2013-02-20T07:10:03.070
> 
> 标签：android, android-layout

Android 应用程序需要 iphone 组表视图（用户名和密码字段如屏幕截图所示）。

我们可以在android应用程序中设计相同的屏幕（具有圆角的用户名和密码，由一行分隔，具有键值对作为屏幕截图）吗？如果可以，请分享代码示例。

![在此处输入图像描述](../Images/d036d3d2185253bdd9cd487a6edc4d87.png)

预先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:21:11.103

在你的布局文件中试试这个 添加这个 EditText 的

```
<EditText
                        android:id="@+id/etUsername"
                        android:layout_width="230dp"
                        android:layout_height="40dp"
                        android:layout_marginTop="8dp"
                        android:background="@drawable/edittext_bg_siginusername"
                        android:hint="Email or username"
                        android:textSize="14dp"
                        android:typeface="sans" />

                    <EditText
                        android:id="@+id/etPassword"
                        android:layout_width="230dp"
                        android:layout_height="40dp"
                        android:background="@drawable/edittext_bg_signinpassword"
                        android:hint="Password"
                        android:password="true"
                        android:textSize="14dp"
                        android:typeface="sans" /> 
```

在您的 res/drawable 文件夹中编辑text_bg_signinusername.xml

```
<?xml version="1.0" encoding="UTF-8" ?> 
<shape xmlns:android="http://schemas.android.com/apk/res/android">
  <solid android:color="@color/white" /> 
  <stroke android:width="2dp" android:color="@color/silver002" />   
  <padding android:left="6dp" android:top="2dp" android:right="2dp" android:bottom="2dp" 
      /> 
  <corners
     android:bottomRightRadius="0dp"
     android:bottomLeftRadius="0dp"
  android:topLeftRadius="10dp"
  android:topRightRadius="10dp"/>
</shape> 
```

在 res/drawable 文件夹中的 edittext_bg_signinpassword.xml

```
<?xml version="1.0" encoding="UTF-8" ?> 
<shape xmlns:android="http://schemas.android.com/apk/res/android">
  <solid android:color="@color/white" /> 
  <stroke android:width="2dp" android:color="@color/silver002" />   
  <padding android:left="6dp" android:top="2dp" android:right="2dp" android:bottom="2dp" 
      /> 
  <corners
     android:bottomRightRadius="10dp"
     android:bottomLeftRadius="10dp"
  android:topLeftRadius="0dp"
  android:topRightRadius="0dp"/>
</shape> 
```

通过使用此形状，您将获得所需的输出.. 我希望这对您有所帮助..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:36:39.733

你可以尝试这样的事情：

```
<TableLayout
    android:background="@drawable/username">
    <TableRow>
        <TextView
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="5"
            android:text="Username" />
        <EditText
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="5"
            android:inputType="textPassword" />
    </TableRow>
    <TableRow>
        <View
            android:layout_width="match_parent"
            android:layout_height="2dp"
            android:background="@android:color/black" />
    </TableRow>
    <TableRow>
        <TextView
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="5"
            android:text="Pasdword" />
        <EditText
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="5"
            android:inputType="textPassword" />
    </TableRow>
</TableLayout> 
```

用户名布局如下：

```
<?xml version="1.0" encoding="UTF-8" ?> 
<shape xmlns:android="http://schemas.android.com/apk/res/android">
  <solid android:color="@color/white" /> 
  <stroke android:width="2dp" android:color="@color/silver002" />   
  <padding android:left="6dp" android:top="2dp" android:right="2dp" android:bottom="2dp" 
      /> 
  <corners
     android:bottomRightRadius="0dp"
     android:bottomLeftRadius="0dp"
     android:topLeftRadius="10dp"
     android:topRightRadius="10dp"/>
</shape> 
```

类似于 pragnani 提到的。

# android - 为什么 Activity 会阻塞直到服务在 android 中完成？

> ID：14974199
> 
> 赞同：3
> 
> 时间：2013-02-20T07:10:09.490
> 
> 标签：android, android-activity, android-service

我正在从我的主要活动开始一项服务。在服务完成之前，该活动不会出现。为什么会这样？这个问题的解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:11:39.950

请详细阅读本文档。[http://developer.android.com/guide/components/processes-and-threads.html](http://developer.android.com/guide/components/processes-and-threads.html)

服务在 UI 线程上运行。您需要在不同的线程（可能是异步任务）中启动耗时的部分服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:13:19.853

那是因为，控件已转到服务，在完成之前不会返回。因此，只有在您的服务完成后，您的活动才会被呈现。[更多信息](http://developer.android.com/guide/components/processes-and-threads.html)

解决方案是使用[`AsyncTask`](http://developer.android.com/reference/android/os/AsyncTask.html).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:19:04.170

一个简单的示例服务，让您清楚如何使用它。

```
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import android.widget.Toast;

public class ServiceTimeToast extends Activity {
    /** Called when the activity is first created. */

    public static MyHandler myHandler;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Intent intent = new Intent(ServiceTimeToast.this,ServiceManagement.class);
        startService(intent);
        myHandler = new MyHandler();
    }

    class MyHandler extends Handler
    {
        @Override
        public void handleMessage(Message msg) {
            // TODO Auto-generated method stub
            super.handleMessage(msg);

            if (msg.what == 111) {
                //int count = Integer.parseInt(msg.obj);
                int count = (Integer) msg.obj;
                Log.i("MyLog", "Service Running Started"+count);
                Toast.makeText(ServiceTimeToast.this, "Service Running properly::"+count, Toast.LENGTH_SHORT).show();
            }

        }
    }
} 
```

**ServiceManagement.java** // 服务类

```
import android.app.Service;
import android.content.Intent;
import android.os.IBinder;
import android.os.Message;
import android.util.Log;

public class ServiceManagement extends Service {

    @Override
    public IBinder onBind(Intent intent) {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public void onCreate() {
        // TODO Auto-generated method stub
        super.onCreate();
        Log.v("MyLog", "OnCreate of the Service management called");

    }

    @Override
    public void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
        Log.v("MyLog", "OnDestroy of the Service management called");
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        // TODO Auto-generated method stub
        Log.v("MyLog", "onStartCommand of the Service management called");

        ThreadTime t = new ThreadTime();

        Thread thread = new Thread(t);
        thread.start();

        return super.onStartCommand(intent, flags, startId);
    }

}

class ThreadTime implements Runnable
{
    int MAX_SEC = 5;
    //MyHandler handler = new MyHandler();

    @Override
    public void run() {
        // TODO Auto-generated method stub
        Log.i("MyLog", "Thread Started!!");
        int count  = 0;
        for(int i = 0;i<MAX_SEC;i++)
        {
            try {
                Log.i("MyLog", "Inside the For loop!!!!!!");

                Message message = ServiceTimeToast.myHandler.obtainMessage(111);
                message.obj = ++count;

                ServiceTimeToast.myHandler.sendMessage(message);

            } catch (Exception e) {
                // TODO Auto-generated catch block

            }
        }
    }

} 
```

# wpf - TemplateBinding 如何在 UserControl 模板中工作？

> ID：14974202
> 
> 赞同：8
> 
> 时间：2013-02-20T07:10:22.617
> 
> 标签：wpf, xaml, user-controls, controltemplate, templatebinding

我是创建 UserControl 的新人，现在我正在尝试自定义 UserControl 模板，如下所示：

```
<UserControl x:Class="WpfApplication1.PieButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300" Loaded="OnLoaded">
    <UserControl.Template>
        <ControlTemplate>
            <Path Name="path" Stroke="Aqua" StrokeThickness="3">
                <Path.Fill>
                    <SolidColorBrush Color="{TemplateBinding Fill}" />
                </Path.Fill>
                <Path.Data>
                ......
</UserControl> 
```

同时我在后端代码中创建了依赖属性：

```
public partial class PieButton : UserControl
{
    public PieButton()
    {
        InitializeComponent();
    }

    private void OnLoaded(object sender, RoutedEventArgs e)
    {

    }

    public Color Fill
    {
        get { return (Color)GetValue(FillProperty); }
        set { SetValue(FillProperty, value); }
    }

    public static readonly DependencyProperty FillProperty =
        DependencyProperty.Register("Fill", typeof(Color), typeof(PieButton));
    ...... 
```

我想`TemplateBinding`在 XAML 中使用绑定`Fill`我的 PieButton 的属性来填充路径对象。Visual Studio 设计器警告我“无法访问或识别 Fill 属性”。

根据我的理解，`TemplateBinding`从应用这个ControlTemplate的元素中找到属性名，应该是`PieControl`在这里，但是为什么`Fill`Property不能在这里访问呢？

顺便提一句，

我测试了以下绑定，它可以为我工作

```
Color="Binding Fill,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type UserControl}}" 
```

但是我还是觉得TemplateBinding应该可以在这种场景下工作，所以请在这里指出我的错。谢谢。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-20T08:12:33.657

根据[TemplateBinding to DependencyProperty on a custom control is not working](https://stackoverflow.com/questions/8656737/templatebinding-to-dependencyproperty-on-a-custom-control-is-not-working)，TemplateBinding 不适用于控件上的自定义依赖属性。

作为解决方案，建议使用

`{Binding MyProperty, RelativeSource={RelativeSource TemplatedParent}}`

# java - 未检测到 Tomcat 6 Servlet

> ID：14974205
> 
> 赞同：1
> 
> 时间：2013-02-20T07:10:28.027
> 
> 标签：java, servlets, tomcat6

好的，这应该是基本的，我之前通过eclipse和weblogic使用过很多次servlet，没有问题。但是对于 Tomcat 6，我遇到了 Servlet 映射问题。

网页.xml：

```
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
   version="2.5"> 

    <description>
      Servlet and JSP Examples.
    </description>
    <display-name>Servlet and JSP Examples</display-name>
    <servlet>
        <servlet-name>HelloWorldExample</servlet-name>
        <servlet-class>HelloWorldExample</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>HelloWorldExample</servlet-name>
        <url-pattern>/HelloWorldExample</url-pattern>
    </servlet-mapping>

</web-app> 
```

我的 web.xml 位于我的 WEB-INF 文件夹中，我的 servlet HelloWorldExample.class 位于 WEB-INF/classes/

它们都位于 tomcat/webapps/ch1/

据我所见，一切都很好，但是经过数小时的反复试验和多次重启后，我仍然得到：

> 类型状态报告
> 
> 消息 /ch1/HelloWorldExample
> 
> 描述 请求的资源不可用。

```
http://localhost:8080/ch1/HelloWorldExample 
```

目录结构截图

![文件夹](../Images/408dd254925c71b26cf38b173859b02e.png)

如果有人能指出我在哪里犯了错误，我将永远感激:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:15:09.187

您应该将文件夹“ch1”放在**tomcat/webapps**下，而不是 tomcat/webapps/ROOT 下。

遵循以下文件夹结构：

```
tomcat：
--webapps
----ch1
--------META-INF
--------WEB-INF
----------classes
----------lib
----------web.xml 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:30:31.343

您应该[构建和导出 WAR 文件](http://clean-clouds.com/2012/08/15/how-to-export-war-file-from-eclipse-to-tomcat/)并将其部署在 Tomcat 上，然后它将自动放在正确的位置。另外，请注意 web.xml 的这一部分：

```
<servlet>
    <servlet-name>HelloWorldExample</servlet-name>
    <servlet-class>HelloWorldExample</servlet-class>
</servlet> 
```

Servlet-class 需要是完全限定的类名，即：**your.package.classname**（如果您使用默认包，请忽略，这通常是一种不好的做法）。当您处理这个问题时，我建议您安装 Tomcat 7 并利用 Servlet 3.0 的优势，即摆脱 web.xml 配置并使用 servlet 注释。更多信息：

*   [Servlet 3.0 注释](https://blogs.oracle.com/swchan/entry/servlet_3_0_annotations)
*   [带有tomcat7的@WebServlet注解](https://stackoverflow.com/questions/6535676/webservlet-annotation-with-tomcat7)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:18:01.377

您的`ch1`文件夹应该在`webapps`不下`webapps/ROOT`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T07:42:53.723

请将 ch1 文件夹移至`webapps`from`webapps/ROOT` 并记住`restart the Tomcat Server`在此更改之后

# android - 访问 RSS 提要中的 URL 时出错

> ID：14974212
> 
> 赞同：0
> 
> 时间：2013-02-20T07:11:11.370
> 
> 标签：android, rss

我无法运行我非常简单的 RSS 阅读器。当尝试运行应用程序强制关闭时，我的 logcat 在这一行给我一个错误：

```
InputSource myInputSource = new InputSource(rssUrl.openStream()); 
```

这是我的 MainActivity.java：

```
package com.banagas.polypost;

import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;

import javax.xml.parsers.ParserConfigurationException;
import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;

import org.xml.sax.Attributes;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;
import org.xml.sax.XMLReader;
import org.xml.sax.helpers.DefaultHandler;

import android.app.Activity;
import android.os.Bundle;
import android.widget.TextView;

public class MainActivity extends Activity {

String streamTitle = "";

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    TextView result = (TextView)findViewById(R.id.result);

    try {
        URL rssUrl = new URL("http://www.thepolypost.com/search/?q=&t=article&l=10&d=&d1=&d2=&s=start_time&sd=desc&c[]=news,news/*&f=rss");
        SAXParserFactory mySAXParserFactory = SAXParserFactory.newInstance();
        SAXParser mySAXParser = mySAXParserFactory.newSAXParser();
        XMLReader myXMLReader = mySAXParser.getXMLReader();
        RSSHandler myRSSHandler = new RSSHandler();
        myXMLReader.setContentHandler(myRSSHandler);
        InputSource myInputSource = new InputSource(rssUrl.openStream());
        myXMLReader.parse(myInputSource);

        result.setText(streamTitle);

    } catch (MalformedURLException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        result.setText("Cannot connect RSS!");
    } catch (ParserConfigurationException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        result.setText("Cannot connect RSS!");
    } catch (SAXException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        result.setText("Cannot connect RSS!");
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        result.setText("Cannot connect RSS!");
    }

}

private class RSSHandler extends DefaultHandler
{
    final int stateUnknown = 0;
    final int stateTitle = 1;
    int state = stateUnknown;

    int numberOfTitle = 0;
    String strTitle = "";
    String strElement = "";

    @Override
    public void startDocument() throws SAXException {
        // TODO Auto-generated method stub
        strTitle = "--- Start Document ---\n";
    }

    @Override
    public void endDocument() throws SAXException {
        // TODO Auto-generated method stub
        strTitle += "--- End Document ---";
        streamTitle = "Number Of Title: " + String.valueOf(numberOfTitle) + "\n"
            + strTitle;
    }

    @Override
    public void startElement(String uri, String localName, String qName,
                             Attributes attributes) throws SAXException {
        // TODO Auto-generated method stub
        if (localName.equalsIgnoreCase("title"))
        {
            state = stateTitle;
            strElement = "Title: ";
            numberOfTitle++;
        }
        else
        {
            state = stateUnknown;
        }
    }

    @Override
    public void endElement(String uri, String localName, String qName)
    throws SAXException {
        // TODO Auto-generated method stub
        if (localName.equalsIgnoreCase("title"))
        {
            strTitle += strElement + "\n";
        }
        state = stateUnknown;
    }

    @Override
    public void characters(char[] ch, int start, int length)
    throws SAXException {
        // TODO Auto-generated method stub
        String strCharacters = new String(ch, start, length);
        if (state == stateTitle)
        {
            strElement += strCharacters;
        }
    }

}
} 
```

这是我的清单文件：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest         xmlns:android="http://schemas.android.com/apk/res/android"
package="com.banagas.polypost"
android:versionCode="1"
android:versionName="1.0" >

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:label="@string/app_name"
        android:name=".MainActivity" >
        <intent-filter >
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>
<uses-permission android:name="android.permission.INTERNET" />

<uses-sdk 
    android:minSdkVersion="4" 
    android:targetSdkVersion="11" />

</manifest> 
```

编辑：这是我的日志：

```
02-19 23:18:22.103 I/ActivityManager(  539): START {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.banagas.polypost/.MainActivity bnds=[540,922][540,922] u=0} from pid 1411
02-19 23:18:22.153 I/ActivityManager(  539): Start proc com.banagas.polypost for activity com.banagas.polypost/.MainActivity: pid=10710 uid=10225 gids={3003, 1028}
02-19 23:18:22.313 E/EmbeddedLogger(  539): App crashed! Process: com.banagas.polypost
02-19 23:18:22.313 E/EmbeddedLogger(  539): App crashed! Package: com.banagas.polypost v1 (1.0)
02-19 23:18:22.313 E/AndroidRuntime(10710): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.banagas.polypost/com.banagas.polypost.MainActivity}: android.os.NetworkOnMainThreadException
02-19 23:18:22.313 E/AndroidRuntime(10710):     at com.banagas.polypost.MainActivity.onCreate(MainActivity.java:40)
02-19 23:18:22.313 W/ActivityManager(  539):   Force finishing activity com.banagas.polypost/.MainActivity
02-19 23:18:22.864 W/ActivityManager(  539): Activity pause timeout for ActivityRecord{42908170 com.banagas.polypost/.MainActivity}
02-19 23:18:23.475 I/ActivityManager(  539): Process com.banagas.polypost (pid 10710) has died. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:41:46.217

你得到**android.os.NetworkOnMainThreadException**：

> 当应用程序尝试在其主线程上执行网络操作时引发的异常。
> 
> 这仅针对面向 Honeycomb SDK 或更高版本的应用程序抛出。允许以早期 SDK 版本为目标的应用程序在其主事件循环线程上进行网络连接，但非常不鼓励这样做。请参阅文档设计响应性。

从[文档](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)

因此，您需要将`try {`与网络一起工作的块移动到与主线程不同的线程。阅读[无痛线程](http://android-developers.blogspot.kr/2009/05/painless-threading.html)以获得简单的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T15:52:58.987

Since Android 3, http requests are just forbidden in the main thread to prevent freezing devices. Because of without timeout requests and servers that do not answer, some requests turns to infinite loops and when the user touch his device screen, the system ask him to kill the app because it is not responding... To prevent this bad way to do things, the system throw this **NetworkOnMainThreadException** to alert developers.

My suggestion is to use an [AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html). The AsyncTask will execute the code you put in its **doInBackground** function in a Thread and will automatically call its **onPostExecute** function on the thread end giving this function what the **doInBackground** returned. The **onPostExecute** is synchronized with the MainThread and will be able to update it.

```
class RSSFeedAsyncTask extends AsyncTask<URL, Void, String>
{
    public interface RSSFeedAsyncTaskListener
    {
        public void setText(String text);
    }

    private RSSFeedAsyncTaskListener listener;

    public RSSFeedAsyncTask(RSSFeedAsyncTaskListener listener)
    {
        this.listener = listener;
    }

    protected Long doInBackground(URL... urls)
    {
        String streamTitle = "";
        URL url = urls[0];
        try
        {
            // Download and parse the feed
            ...
            streamTitle = XX;
        }
        // Will catch MalformedURLException,
        // ParserConfigurationException,
        // SAXException and
        // IOException
        catch(Exception exception)
        {
            streamTitle = "Cannot connect RSS!";
        }
    }

    protected void onPostExecute(String result)
    {
        this.listener.setText(result);
    }
} 
```

Then to use it in your activity, you will just have to use your asynctask like this :

```
RSSFeedAsyncTask rssFeedAsyncTask = new RSSFeedAsyncTask(this);
rssFeedAsyncTask.execute(new URL("http://...")); 
```

and implement the **RSSFeedAsyncTaskListener** interface function **setText** to update the UI after the AsynTask did his job.

# android - 无法将文件推送到虚拟 android 设备进行测试

> ID：14974215
> 
> 赞同：0
> 
> 时间：2013-02-20T07:11:29.687
> 
> 标签：android

我正在尝试使用 DDMS 将 mp3 文件推送到 android 设备，但出现以下错误

```
[2013-02-20 00:09:04 - ddms] transfer error: Read-only file system
[2013-02-20 00:09:04] Failed to push selection: Read-only file system 
```

如何将文件推送到设备以便它可用于我的代码？有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:18:38.680

您试图推送到设备上对 adb 不可写的位置。尝试推送到另一个位置，例如在 SD 卡上。

# python - 有什么简单的方法可以在 python 中的 r'' 字符串中添加 \n

> ID：14974222
> 
> 赞同：6
> 
> 时间：2013-02-20T07:11:54.990
> 
> 标签：python, string, format

我需要将几条路径添加到一个末尾带有 \n 字符的单行字符串中。为方便起见，在字符串的前面添加了关键字 r。在这种情况下字符'\n'不能正常显示。

前任。

```
str_output = r'name = %(name)s, some_dir = \\folder0\\..., description = "%(des)s\n'
print(str_output % {'name':'new', 'des':'new add one'}) 
```

输出将显示没有换行符。目前我使用字符串加来绕过这个问题。如：

```
str_output = r'name = %(name)s, some_dir = \\folder0\\..., description = "%(des)s' + '\n' 
```

而不是之前定义的 str_output。我很好奇有没有其他方便的方法可以做到这一点？字符串 plus 在我的代码中看起来很难看。谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2019-09-19T09:53:50.990

我在这里参加聚会有点晚了，但这是我最近的要求。我想要一个带有 LaTeX 解析的多线轴标签，用于`matplotlib`.

我的解决方案是使用括号开始续行，然后结合普通字符串和原始字符串来实现换行：

```
xlabel=('Time of Flight (ToF)\n'
        r'[$\times10^3$ arb. units]') 
```

这是它的外观：

![Here's a screen grab of the result](../Images/6a0dc3152634d669e7f69292c3a6d1e2.png)

这可以扩展到更复杂的字符串。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-20T07:26:17.737

`r`您在字符串文字开始之前放置的 向 Python 表明这是一个“原始”字符串，并且其中的转义序列应被视为常规字符。我怀疑您这样做是因为您拥有双反斜杠字符，您不希望 python 将其解释为单个转义的反斜杠字符。但是，原始文字也防止`\n`被解释为换行符。

唯一的修复是将原始字符串文字与换行符分开，然后加入它们（就像您已经在做的那样），或者使用常规字符串文字并转义您的反斜杠：

```
str_output = 'name = %(name)s, some_dir = \\\\folder0\\\\..., description = "%(des)s\n' 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-20T07:30:39.020

字符串文字前缀`r`表示原始字符串，即转义符是常规字符。如果您真的想使用原始字符串，可以尝试以下操作：

```
name = 'new'
des = 'new add one'
newline = '\n'
str_output = rf'name = {name}s, some_dir = \\folder0\\..., description = "{des}s{newline}s'
print(str_output) 
```

尽管这意味着您必须承担`newline`每个`dict`.

另一种更有意义的做法：

```
str_output = r'name = %(name)s, some_dir = \\folder0\\..., description = "%(des)s%(\n)s'
print(str_output % {'name':'new', 'des':'new add one', '\\n': '\n'}) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-09-07T14:38:03.857

As already noted in [this answer](https://stackoverflow.com/a/58008355/1959808), use parentheses to combine [raw strings](https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals) and ordinary strings by [implicit concatenation of string literals](https://docs.python.org/3/reference/lexical_analysis.html#string-literal-concatenation). Using also [formatted string literals](https://docs.python.org/3/reference/lexical_analysis.html#formatted-string-literals), which are available in Python >= 3.6, the result is:

```
name = 'some_name'
des = 'some decription'
message = (rf'{name = !s}s, some_dir = \folder0\..., description = {des}s' '\n')
print(message) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T07:26:47.180

不，没有办法将转义序列放在原始字符串中。我会使用与您相同的解决方法。

# ios - MPMoviePlayerController 试图开始奇怪的行为？

> ID：14974223
> 
> 赞同：1
> 
> 时间：2013-02-20T07:12:10.043
> 
> 标签：ios, objective-c, mpmovieplayercontroller, http-streaming

我有`MPMoviePlayerController`-obj 从我的视频服务器播放 hls 流。分段持续时间设置为 3 秒。

由于流的视频内容是动态转码的，所以当用户搜索到某个位置时，服务器需要几秒钟的时间来搜索原始电影文件并开始生成正确的 .ts 文件。如果我以玩家的头部为起点，就会出现问题。**0:00**拖放头部后，播放器发送对第一个.ts文件的请求（通过wireshark检查），并在收到第一个响应.ts文件后正常开始播放，除了播放时间不是0:00（每个测试中的值都不同）。

这可能是什么原因？

更新＃1：

.m3u8 文件的内容：

```
#EXTM3U
#EXT-X-TARGETDURATION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXTINF:3,
http://192.168.0.68:20655/_hls_file?file=20130220155224176_00000.ts
#EXTINF:3,
http://192.168.0.68:20655/_hls_file?file=20130220155224176_00001.ts
....
#EXTINF:3,
http://192.168.0.68:20655/_hls_file?file=20130220155224176_00469.ts
#EXT-X-ENDLIST 
```

.ts 文件的实际持续时间通常与目标持续时间（3 秒）不同，但我不认为这是原因。

UDPATE #2：

我确实创建了目标持续时间为 10 秒的 VOD HTTP 流，但播放器的行为方式相同。如果我寻求 00:00:00，它总是从第 5 秒或第 3 秒开始播放，所以我想原因不是来自我的服务器。

# javascript - 当我开始输入时缩小搜索结果

> ID：14974227
> 
> 赞同：1
> 
> 时间：2013-02-20T07:12:21.100
> 
> 标签：javascript, jquery

我在这里寻找想法。我会尝试用你的想法编码，如果我有任何问题，请告诉你。

## 问题

我在页面中有一个文本框和名称列表。当我开始输入时，我希望搜索结果应该缩小。例如。当我在文本框中键入 'a' 时，结果应该会缩小，并且它应该只包含带有 'a.

请让我知道 jquery 中是否有可用的方法???

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:13:45.360

试试[jQuery UI 的 Autocomplete](http://jqueryui.com/autocomplete/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:53:28.943

像这样的东西：

```
 $('#search').on('keyup', function () {
       var str = $('#result ul li:contains(' + $(this).val().charAt(0).toUpperCase() + ')');
       if (str) {
          $('#result ul li').hide();
          str.show();
       } else {
          $('#result ul li').show();
       }
    }); 
```

# java - java swing多列自动完成组合框

> ID：14974228
> 
> 赞同：-1
> 
> 时间：2013-02-20T07:12:20.703
> 
> 标签：java, swing, autocomplete, jcombobox

我需要高效的产品项目搜索 GUI 到销售点应用程序，目前我在文本字段中使用弹出窗口，它包含到表格中，但效率不高。

在我的弹出窗口中只显示产品代码我需要显示其他产品详细信息，例如代码、类别、名称、价格等。以确定正确的产品。![在此处输入图像描述][1]

以下图片是我的要求。

//////////////////////////////////我才编辑mr.splungebob答案来构建自动填充组合框，但它有问题列表>过滤请检查代码并帮助我开发它。

以下是我为回答而添加的代码 //DetailedComboBox

```
 /*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package test;

    import java.awt.Dimension;
    import java.awt.EventQueue;
    import java.awt.Point;
    import java.awt.event.*;
    import java.util.*;
    import javax.swing.*;
    import javax.swing.event.ListSelectionEvent;
    import javax.swing.event.ListSelectionListener;
    import javax.swing.plaf.basic.BasicComboPopup;

import javax.swing.plaf.basic.ComboPopup;
import javax.swing.plaf.metal.MetalComboBoxUI;
import javax.swing.table.AbstractTableModel;
import javax.swing.table.TableColumn;
import javax.swing.table.TableColumnModel;

/**
 *
 * @author W.A.R.R.Wijesinghe
 */
public class DetailedComboBox extends JComboBox {

    public static enum Alignment {

        LEFT, RIGHT
    }
    private List<List<? extends Object>> tableData;
    private String[] columnNames;
    private int[] columnWidths;
    private int displayColumn;
    private Alignment popupAlignment = Alignment.LEFT;

    /**
     * Construct a TableComboBox object
     */
    public DetailedComboBox(String[] colNames, int[] colWidths, int displayColumnIndex) {
        super();
        this.columnNames = colNames;
        this.columnWidths = colWidths;
        this.displayColumn = displayColumnIndex;

        setUI(new TableComboBoxUI());
        setEditable(true);
        this.setSelectedIndex(-1);
        JTextField field = (JTextField) this.getEditor().getEditorComponent();
        field.setText("");
        field.addKeyListener(new ComboKeyHandler(this));
    }

    /**
     * Set the type of alignment for the popup table
     */
    public void setPopupAlignment(Alignment alignment) {
        popupAlignment = alignment;
    }

    /**
     * Populate the combobox and drop-down table with the supplied data. If the
     * supplied List is non-null and non-empty, it is assumed that the data is a
     * List of Lists to be used for the drop-down table. The combobox is also
     * populated with the column data from the column defined by
     * <code>displayColumn</code>.
     */
    public void setTableData(List<List<? extends Object>> tableData) {
        this.tableData = (tableData == null
                ? new ArrayList<List<? extends Object>>() : tableData);

        // even though the incoming data is for the table, we must also
        // populate the combobox's data, so first clear the previous list.
        removeAllItems();

        // then load the combobox with data from the appropriate column
        Iterator<List<? extends Object>> iter = this.tableData.iterator();
        while (iter.hasNext()) {
            List<? extends Object> rowData = iter.next();
            addItem(rowData.get(displayColumn));
        }
    }

    public List<? extends Object> getSelectedRow() {
        return tableData.get(getSelectedIndex());
    }

    public List<? extends Object> getRowAt(int row) {
        return tableData.get(row);
    }

    /**
     * The handler for the combobox's components
     */
    private class TableComboBoxUI extends MetalComboBoxUI {

        /**
         * Create a popup component for the ComboBox
         */
        @Override
        protected ComboPopup createPopup() {
            return new TableComboPopup(comboBox, this);
        }

        /**
         * Return the JList component
         */
        public JList getList() {
            return listBox;
        }
    }

    /**
     * The drop-down of the combobox, which is a JTable instead of a JList.
     */
    private class TableComboPopup extends BasicComboPopup implements ListSelectionListener, ItemListener {

        private final JTable table;
        private TableComboBoxUI comboBoxUI;
        private PopupTableModel tableModel;
        private JScrollPane scroll;
//    private JList list = new JList();
//    private ListSelectionListener selectionListener;
//    private ItemListener itemListener;

        /**
         * Construct a popup component that's a table
         */
        public TableComboPopup(JComboBox combo, TableComboBoxUI ui) {
            super(combo);
            this.comboBoxUI = ui;

            tableModel = new PopupTableModel();
            table = new JTable(tableModel);
            table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);
            table.getTableHeader().setReorderingAllowed(false);

            TableColumnModel tableColumnModel = table.getColumnModel();
            tableColumnModel.setColumnSelectionAllowed(false);

            for (int index = 0; index < table.getColumnCount(); index++) {
                TableColumn tableColumn = tableColumnModel.getColumn(index);
                tableColumn.setPreferredWidth(columnWidths[index]);
            }

            scroll = new JScrollPane(table);
            scroll.setHorizontalScrollBarPolicy(
                    JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
            scroll.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);

            ListSelectionModel selectionModel = table.getSelectionModel();
            selectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
            selectionModel.addListSelectionListener(this);
            combo.addItemListener(this);

            table.addMouseListener(new MouseAdapter() {

                @Override
                public void mousePressed(MouseEvent event) {
                    Point p = event.getPoint();
                    int row = table.rowAtPoint(p);

                    comboBox.setSelectedIndex(row);
                    hide();
                }
            });

            table.setBackground(UIManager.getColor("ComboBox.listBackground"));
            table.setForeground(UIManager.getColor("ComboBox.listForeground"));
        }

        /**
         * This method is overridden from BasicComboPopup
         */
        @Override
        public void show() {
            if (isEnabled()) {
                super.removeAll();

                int scrollWidth = table.getPreferredSize().width
                        + ((Integer) UIManager.get("ScrollBar.width")).intValue() + 1;
                int scrollHeight = comboBoxUI.getList().
                        getPreferredScrollableViewportSize().height;
                scroll.setPreferredSize(new Dimension(scrollWidth, scrollHeight));

                super.add(scroll);

                ListSelectionModel selectionModel = table.getSelectionModel();
                selectionModel.removeListSelectionListener(this);
                selectRow();
                selectionModel.addListSelectionListener(this);

                int scrollX = 0;
                int scrollY = comboBox.getBounds().height;

                if (popupAlignment == Alignment.RIGHT) {
                    scrollX = comboBox.getBounds().width - scrollWidth;
                }

                show(comboBox, scrollX, scrollY);
            }
        }

        /**
         * Implemention of ListSelectionListener
         */
        @Override
        public void valueChanged(ListSelectionEvent event) {
            comboBox.setSelectedIndex(table.getSelectedRow());
        }

        /**
         * Implemention of ItemListener
         */
        @Override
        public void itemStateChanged(ItemEvent event) {
            if (event.getStateChange() != ItemEvent.DESELECTED) {
                ListSelectionModel selectionModel = table.getSelectionModel();
                selectionModel.removeListSelectionListener(this);
                selectRow();
                selectionModel.addListSelectionListener(this);
            }
        }

        /**
         * Sync the selected row of the table with the selected row of the
         * combo.
         */
        private void selectRow() {
            int index = comboBox.getSelectedIndex();

            if (index != -1) {
                table.setRowSelectionInterval(index, index);
                table.scrollRectToVisible(table.getCellRect(index, 0, true));
            }
        }
    }

    /**
     * A model for the popup table's data
     */
    private class PopupTableModel extends AbstractTableModel {

        /**
         * Return the # of columns in the drop-down table
         */
        @Override
        public int getColumnCount() {
            return columnNames.length;
        }

        /**
         * Return the # of rows in the drop-down table
         */
        @Override
        public int getRowCount() {
            return tableData == null ? 0 : tableData.size();
        }

        /**
         * Determine the value for a given cell
         */
        @Override
        public Object getValueAt(int row, int col) {
            if (tableData == null || tableData.size() == 0) {
                return "";
            }

            return tableData.get(row).get(col);
        }

        /**
         * All cells in the drop-down table are uneditable
         */
        @Override
        public boolean isCellEditable(int row, int col) {
            return false;
        }

        /**
         * Pull the column names out of the tableInfo object for the header
         */
        @Override
        public String getColumnName(int column) {
            String columnName = null;

            if (column >= 0 && column < columnNames.length) {
                columnName = columnNames[column].toString();
            }

            return (columnName == null) ? super.getColumnName(column) : columnName;
        }
    }
}

class ComboKeyHandler extends KeyAdapter {

    private final DetailedComboBox comboBox;
    //  private final Vector<String> list = new Vector<String>();
    private final List<List<?>> list = new ArrayList<>();

    public ComboKeyHandler(DetailedComboBox combo) {
        this.comboBox = combo;
        for (int i = 0; i < comboBox.getModel().getSize(); i++) {

            List<? extends Object> rowData = combo.getRowAt(i);
            // name.setText(rowData.get(1).toString());
            //  capital.setText(rowData.get(2).toString());
            list.add(rowData);
            // list.addElement((String) comboBox.getItemAt(i));
        }
    }
    private boolean shouldHide = false;

    @Override
    public void keyTyped(final KeyEvent e) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                String text = ((JTextField) e.getSource()).getText();
                System.out.println(text);
                if (text.length() == 0) {
                    setSuggestionModel(comboBox, list, "");
                    comboBox.hidePopup();
                } else {
                    List<List<?>> m = getSuggestedModel(list, text);
                    if (m.isEmpty() || shouldHide) {
                        comboBox.hidePopup();
                    } else {
                        setSuggestionModel(comboBox, m, text);
                        comboBox.showPopup();
                    }
                }
            }
        });
    }

    @Override
    public void keyPressed(KeyEvent e) {
        JTextField textField = (JTextField) e.getSource();
        String text = textField.getText();
        shouldHide = false;
        switch (e.getKeyCode()) {
            case KeyEvent.VK_RIGHT:

                for (Iterator<List<?>> it = list.iterator(); it.hasNext();) {
                    if (!it.next().contains("How")) {
                        it.remove(); // NOTE: Iterator's remove method, not ArrayList's, is used.
                    }
                    return;
                }

                /*
                 * for (String s : list { if (s.startsWith(text)) {
                 * textField.setText(s); return; } }
                 *
                 */

                break;
            case KeyEvent.VK_ENTER:
                if (!list.contains(text)) {
                    list.add(new ArrayList<>(Arrays.asList(text, "a", "a")));

                    //setSuggestionModel(comboBox, new DefaultComboBoxModel(list), text);
                    setSuggestionModel(comboBox, getSuggestedModel(list, text), text);
                }
                shouldHide = false;
                break;
            case KeyEvent.VK_ESCAPE:
                shouldHide = true;
                break;
            default:
                break;
        }
    }

    private static void setSuggestionModel(DetailedComboBox comboBox, List<List<?>> newList, String str) {
        comboBox.setTableData(newList);
        comboBox.setSelectedIndex(-1);
        ((JTextField) comboBox.getEditor().getEditorComponent()).setText(str);
    }

    private static List<List<?>> getSuggestedModel(List<List<?>> list, String text) {
        List<List<?>> m = new ArrayList<>();

        for (Iterator<List<?>> it = list.iterator(); it.hasNext();) {
            if (!it.next().contains(text)) {
                it.remove(); // NOTE: Iterator's remove method, not ArrayList's, is used.
            }
            m = (List<List<?>>) it;
        }
        return m;

        /*
         * for (String s : list) { if (s.startsWith(text)) { m.addElement(s); }
         * } return m;
         *
         */
    }
} 
```

//详细组合框演示

```
 /*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package test;

import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import javax.swing.*;

/**
 *
 * @author W.A.R.R.Wijesinghe
 */
public class DetailedComboBoxDemo implements Runnable {

    private DetailedComboBox combo;
    private JTextField name;
    private JTextField capital;

    @Override
    public void run() {
        List<List<?>> tableData = new ArrayList<>();
        tableData.add(new ArrayList<>(  Arrays.asList("MD", "Maryland", "Annapolis")));

        tableData.add(new ArrayList<>(
                Arrays.asList("NH", "New Hampshire", "Concord")));
        tableData.add(new ArrayList<>(
                Arrays.asList("NJ", "New Jersey", "Trenton")));
        tableData.add(new ArrayList<>(
                Arrays.asList("NM", "New Mexico", "Santa Fe")));
        tableData.add(new ArrayList<>(
                Arrays.asList("ND", "North Dakota", "Bismark")));

        String[] columns = new String[]{"State", "Name", "Capital"};
        int[] widths = new int[]{50, 100, 100};

        combo = new DetailedComboBox(columns, widths, 0);
        combo.setTableData(tableData);
        combo.setSelectedIndex(-1);
        combo.setPopupAlignment(DetailedComboBox.Alignment.LEFT);
                combo.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                showDetails();
            }
        });

        name = new JTextField(10);
        capital = new JTextField(10);
        name.setEditable(false);
        capital.setEditable(false);

        JPanel p = new JPanel(new FlowLayout());
        p.add(new JLabel("State"));
        p.add(combo);
        p.add(new JLabel("Name"));
        p.add(name);
        p.add(new JLabel("Capital"));
        p.add(capital);

        JFrame frame = new JFrame("DetailedComboBox Demo");

        frame.getContentPane().add(p, BorderLayout.CENTER);
        frame.pack();
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    private void showDetails() {
        List<? extends Object> rowData = combo.getSelectedRow();
        name.setText(rowData.get(1).toString());
        capital.setText(rowData.get(2).toString());
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new DetailedComboBoxDemo());
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T15:25:44.460

这是一个 JComboBox，它使用 JTable 作为下拉而不是 JList。您需要为其提供表格数据（列表列表）而不是通常的。抱歉，没有自动完成功能。

我多年来一直在使用它。它有效，但我不做任何承诺。哎呀，那里甚至可能有一些实验遗留下来的死代码。这只是我多年来从不同代码示例中获得的不同想法的混搭。我确信还有改进的余地。

**详细组合框：**

```
import java.awt.*;
import java.awt.event.*;
import java.util.*;
import java.util.List;

import javax.swing.*;
import javax.swing.event.*;
import javax.swing.plaf.basic.*;
import javax.swing.plaf.metal.*;
import javax.swing.table.*;

/**
 * A JComboBox that has a JTable as a drop-down instead of a JList
 */
public class DetailedComboBox extends JComboBox
{
  public static enum Alignment {LEFT, RIGHT}

  private List<List<? extends Object>> tableData;
  private String[] columnNames;
  private int[] columnWidths;
  private int displayColumn;
  private Alignment popupAlignment = Alignment.LEFT;

  /**
   * Construct a TableComboBox object
   */
  public DetailedComboBox(String[] colNames, int[] colWidths,
                          int displayColumnIndex)
  {
    super();
    this.columnNames = colNames;
    this.columnWidths = colWidths;
    this.displayColumn = displayColumnIndex;

    setUI(new TableComboBoxUI());
    setEditable(false);
  }

  /**
   * Set the type of alignment for the popup table
   */
  public void setPopupAlignment(Alignment alignment)
  {
    popupAlignment = alignment;
  }

  /**
   * Populate the combobox and drop-down table with the supplied data.
   * If the supplied List is non-null and non-empty, it is assumed that
   * the data is a List of Lists to be used for the drop-down table.
   * The combobox is also populated with the column data from the
   * column defined by <code>displayColumn</code>.
   */
  public void setTableData(List<List<? extends Object>> tableData)
  {
    this.tableData = (tableData == null ?
        new ArrayList<List<? extends Object>>() : tableData);

    // even though the incoming data is for the table, we must also
    // populate the combobox's data, so first clear the previous list.
    removeAllItems();

    // then load the combobox with data from the appropriate column
    Iterator<List<? extends Object>> iter = this.tableData.iterator();
    while (iter.hasNext())
    {
      List<? extends Object> rowData = iter.next();
      addItem(rowData.get(displayColumn));
    }
  }

  public List<? extends Object> getSelectedRow()
  {
    return tableData.get(getSelectedIndex());
  }

  /**
   * The handler for the combobox's components
   */
  private class TableComboBoxUI extends MetalComboBoxUI
  {
    /**
     * Create a popup component for the ComboBox
     */
    @Override
    protected ComboPopup createPopup()
    {
      return new TableComboPopup(comboBox, this);
    }

    /**
     * Return the JList component
     */
    public JList getList()
    {
      return listBox;
    }
  }

  /**
   * The drop-down of the combobox, which is a JTable instead of a JList.
   */
  private class TableComboPopup extends BasicComboPopup
      implements ListSelectionListener, ItemListener
  {
    private final JTable table;

    private TableComboBoxUI comboBoxUI;
    private PopupTableModel tableModel;
    private JScrollPane scroll;
//    private JList list = new JList();
//    private ListSelectionListener selectionListener;
//    private ItemListener itemListener;

    /**
     * Construct a popup component that's a table
     */
    public TableComboPopup(JComboBox combo, TableComboBoxUI ui)
    {
      super(combo);
      this.comboBoxUI = ui;

      tableModel = new PopupTableModel();
      table = new JTable(tableModel);
      table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);
      table.getTableHeader().setReorderingAllowed(false);

      TableColumnModel tableColumnModel = table.getColumnModel();
      tableColumnModel.setColumnSelectionAllowed(false);

      for (int index = 0; index < table.getColumnCount(); index++)
      {
        TableColumn tableColumn = tableColumnModel.getColumn(index);
        tableColumn.setPreferredWidth(columnWidths[index]);
      }

      scroll = new JScrollPane(table);
      scroll.setHorizontalScrollBarPolicy(
          JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
      scroll.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);

      ListSelectionModel selectionModel = table.getSelectionModel();
      selectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
      selectionModel.addListSelectionListener(this);
      combo.addItemListener(this);

      table.addMouseListener(new MouseAdapter()
      {
        @Override
        public void mousePressed(MouseEvent event)
        {
          Point p = event.getPoint();
          int row = table.rowAtPoint(p);

          comboBox.setSelectedIndex(row);
          hide();
        }
      });

      table.setBackground(UIManager.getColor("ComboBox.listBackground"));
      table.setForeground(UIManager.getColor("ComboBox.listForeground"));
    }

    /**
     * This method is overridden from BasicComboPopup
     */
    @Override
    public void show()
    {
      if (isEnabled())
      {
        super.removeAll();

        int scrollWidth = table.getPreferredSize().width +
            ((Integer) UIManager.get("ScrollBar.width")).intValue() + 1;
        int scrollHeight = comboBoxUI.getList().
                           getPreferredScrollableViewportSize().height;
        scroll.setPreferredSize(new Dimension(scrollWidth, scrollHeight));

        super.add(scroll);

        ListSelectionModel selectionModel = table.getSelectionModel();
        selectionModel.removeListSelectionListener(this);
        selectRow();
        selectionModel.addListSelectionListener(this);

        int scrollX = 0;
        int scrollY = comboBox.getBounds().height;

        if (popupAlignment == Alignment.RIGHT)
        {
          scrollX = comboBox.getBounds().width - scrollWidth;
        }

        show(comboBox, scrollX, scrollY);
      }
    }

    /**
     * Implemention of ListSelectionListener
     */
    public void valueChanged(ListSelectionEvent event)
    {
      comboBox.setSelectedIndex(table.getSelectedRow());
    }

    /**
     * Implemention of ItemListener
     */
    public void itemStateChanged(ItemEvent event)
    {
      if (event.getStateChange() != ItemEvent.DESELECTED)
      {
        ListSelectionModel selectionModel = table.getSelectionModel();
        selectionModel.removeListSelectionListener(this);
        selectRow();
        selectionModel.addListSelectionListener(this);
      }
    }

    /**
     * Sync the selected row of the table with the selected row of the combo.
     */
    private void selectRow()
    {
      int index = comboBox.getSelectedIndex();

      if (index != -1)
      {
        table.setRowSelectionInterval(index, index);
        table.scrollRectToVisible(table.getCellRect(index, 0, true));
      }
    }
  }

  /**
   * A model for the popup table's data
   */
  private class PopupTableModel extends AbstractTableModel
  {
    /**
     * Return the # of columns in the drop-down table
     */
    public int getColumnCount()
    {
      return columnNames.length;
    }

    /**
     * Return the # of rows in the drop-down table
     */
    public int getRowCount()
    {
      return tableData == null ? 0 : tableData.size();
    }

    /**
     * Determine the value for a given cell
     */
    public Object getValueAt(int row, int col)
    {
      if (tableData == null || tableData.size() == 0)
      {
        return "";
      }

      return tableData.get(row).get(col);
    }

    /**
     * All cells in the drop-down table are uneditable
     */
    @Override
    public boolean isCellEditable(int row, int col)
    {
      return false;
    }

    /**
     * Pull the column names out of the tableInfo object for the header
     */
    @Override
    public String getColumnName(int column)
    {
      String columnName = null;

      if (column >= 0 && column < columnNames.length)
      {
        columnName = columnNames[column].toString();
      }

      return (columnName == null) ? super.getColumnName(column) : columnName;
    }
  }
} 
```

**司机：**

```
import java.awt.*;
import java.awt.event.*;
import java.util.*;
import java.util.List;

import javax.swing.*;

public class DetailedComboBoxDemo implements Runnable
{
  private DetailedComboBox combo;
  private JTextField name;
  private JTextField capital;

  public void run()
  {
    List<List<?>> tableData = new ArrayList<List<?>>();
    tableData.add(new ArrayList<String>(
                  Arrays.asList("MD", "Maryland", "Annapolis")));
    tableData.add(new ArrayList<String>(
                  Arrays.asList("NH", "New Hampshire", "Concord")));
    tableData.add(new ArrayList<String>(
                  Arrays.asList("NJ", "New Jersey", "Trenton")));
    tableData.add(new ArrayList<String>(
                  Arrays.asList("NM", "New Mexico", "Santa Fe")));
    tableData.add(new ArrayList<String>(
                  Arrays.asList("ND", "North Dakota", "Bismark")));

    String[] columns = new String[]{"State", "Name", "Capital"};
    int[] widths = new int[]{50, 100, 100};

    combo = new DetailedComboBox(columns, widths, 0);
    combo.setTableData(tableData);
    combo.setSelectedIndex(-1);
    combo.setPopupAlignment(DetailedComboBox.Alignment.LEFT);
    combo.addActionListener(new ActionListener()
    {
      public void actionPerformed(ActionEvent e)
      {
        showDetails();
      }
    });

    name = new JTextField(10);
    capital = new JTextField(10);
    name.setEditable(false);
    capital.setEditable(false);

    JPanel p = new JPanel(new FlowLayout());
    p.add(new JLabel("State"));
    p.add(combo);
    p.add(new JLabel("Name"));
    p.add(name);
    p.add(new JLabel("Capital"));    
    p.add(capital);

    JFrame frame = new JFrame("DetailedComboBox Demo");
    frame.getContentPane().add(p, BorderLayout.CENTER);
    frame.pack();
    frame.setLocationRelativeTo(null);
    frame.setVisible(true);
  }

  private void showDetails()
  {
    List<? extends Object> rowData = combo.getSelectedRow();
    name.setText(rowData.get(1).toString());
    capital.setText(rowData.get(2).toString());
  }

  public static void main(String[] args)
  {
    SwingUtilities.invokeLater(new DetailedComboBoxDemo());
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:24:45.303

为此，您需要使用 BasicComboxUI 和 BasicComboPopup 的自定义子类。使用 BasicComboPopup 返回的 Popup 中的 JTable 而不是 JList。

# ios - 我可以只为 iPhone 启用 Facebook 深层链接，而不是为 iPad 启用 Facebook 深层链接吗？

> ID：14974231
> 
> 赞同：0
> 
> 时间：2013-02-20T07:12:37.247
> 
> 标签：ios, facebook, deep-linking

我有一个 iPhone 应用程序，没有真正的 iPad 版本。我希望仅在用户通过 iPhone 单击帖子的情况下启用 Facebook 深度喜欢。如果用户使用 iPad，我希望它打开一个常规网页。那可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:16:01.243

请参阅以下帖子。

有一种方法可以找到设备类型。可能您可以检查设备类型，然后采取相应的措施。

[#if 检查（预处理器宏）以区分 iPhone 和 iPad](https://stackoverflow.com/questions/3697165/if-check-between-iphone-and-ipad)

希望这可以帮助！！

# ios - UILocalNotification 中的警报没有被调用

> ID：14974238
> 
> 赞同：0
> 
> 时间：2013-02-20T07:13:12.860
> 
> 标签：ios, objective-c, uilocalnotification

`AppDelegate.m`

```
- (void)applicationWillEnterForeground:(UIApplication *)application
{

application.applicationIconBadgeNumber = 0;
}

-(void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification
{
application.applicationIconBadgeNumber = 0;
NSString *reminderText = [notification.userInfo objectForKey:kRemindMeNotificationDataKey];
[self.settings showReminderAlert:reminderText];
NSLog(@"Application REcieved Local Notification");
} 
```

`ViewController.m`

```
-(void)showReminderAlert:(NSString *)text{
NSLog(@"Alert Called");
UIAlertView *reminderAlert = [[UIAlertView alloc]initWithTitle:@"Alert" message:text delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil];
[reminderAlert show];
[reminderAlert release];
} 
```

我希望我的应用程序在用户重新进入`application.app` `didReceiveLocalNotification`正在调用但未调用 Alert 方法时显示警报。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:26:34.123

您`showReminderAlert:`在另一个视图控制器中对吗？可能是对象 self.settings（该视图控制器的对象）在重新打开应用程序时获得释放。在 appDelegate 本身中尝试警报

```
 -(void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification
{
    UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Alarm" message:message delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
            [alert show];
            [alert release];
} 
```

# webstorm - Webstorm 5.0.4 >没有代码颜色选项

> ID：14974242
> 
> 赞同：1
> 
> 时间：2013-02-20T07:13:30.990
> 
> 标签：webstorm

我正在使用 Webstorm 5.0.4 的试用版——据我所知，试用版除了 30 天期限外没有任何限制。

在 下`Settings > Editor > Colors & Fonts`，它应该为每种代码类型（HTML、Javascript 等）都有一个部分，因此可以编辑每种代码的颜色。

我的没有这些。如何启用它们？

截屏：

![](../Images/5a967b4fbdb220ca2a04fe6f57ba0e63.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:19:50.320

奇怪，我的似乎很好（也是一个试验）。我有一个完整的选项列表。是的，除了时间限制外，试用版对完整版本没有任何固有限制。

试试 EAP：[http](http://confluence.jetbrains.com/display/WI/WebStorm+6+EAP) : //confluence.jetbrains.com/display/WI/WebStorm+6+EAP 这是 WebStorm 6 的测试版，但如果问题消失，还是值得一看。

# php - 散列函数是否应该返回散列的数值或该值 % numBuckets？

> ID：14974244
> 
> 赞同：1
> 
> 时间：2013-02-20T07:13:35.750
> 
> 标签：php, hash

我正在使用以下哈希函数

```
function hash_djb2($str){
    $hash = 5381;
    $length = strlen($str);

    for($i = 0; $i < $length; $i++) {
        $hash = (($hash << 5) + $hash) + ord(strtolower($str[$i])) - 96;        
    }
    return $hash;
} 
```

我应该返回`$hash`还是哈希表中的桶数在哪里`$hash % $numBuckets`？`$numBuckets`

前者将返回非常大的数字并使哈希冲突不可能，而后者仅返回 0 和`$numBuckets`-1 之间的值但使哈希冲突成为可能

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:18:21.590

(should)的输出`hash_djb2()`涵盖整数值的整个范围，因此如果您正在实现哈希链（即有限数量的桶），则需要使用模来缩短范围。

顺便说一句，只有当您决定只使用函数输出时，哈希冲突的风险才会降低；缩小范围显然会增加这种风险。您应该通过允许将多个项目存储在相同的哈希值下来管理该风险。

# android - 缺少 .bat 文件

> ID：14974245
> 
> 赞同：3
> 
> 时间：2013-02-20T07:13:38.650
> 
> 标签：android, sdk, batch-file

[2013-02-20 12:32:44 - SDK 管理器] Android SDK 中缺少 %s 文件。[2013-02-20 12:32:44 - SDK 管理器] android.bat

每次我尝试打开 Android SDK 管理器时都会弹出上述错误

我在其中找不到名为“android.bat”的文件

C:\Program Files\adt-bundle-windows-x86_64\adt-bundle-windows-x86_64\sdk\tools

swt.jar 存在于以下目录中

C:\Program Files\adt-bundle-windows-x86_64\adt-bundle-windows-x86_64\sdk\tools\lib\x86_64

我刚开始 android 开发...所以请多多包涵并帮助我解决这个问题 :)

提前感谢很多。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T08:24:53.533

好的！！经过几天和几天的搜索，我发现了

即使在下载并将“android.bat”文件添加到“C:\ADT_Bundle\adt-bundle-windows-x86_64\sdk\tools”之后，当您稍后尝试运行 sdk 管理器时，如果您不这样做，您仍然会收到相同的错误在打开“SDK 管理器”之前不要**“暂停/停止”病毒防护。**

它对我有用。我希望这对您有所帮助.. tnx 每个人都感谢您的努力.. :)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-10T19:52:28.590

我拥有的最佳解决方案是仅从以下位置下载 SDK 工具：http: [//developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)

->其他下载选项->仅SDK工具->android-sdk_r24.*.*-windows.zip。并将其解压缩到需要工具文件夹的 sdk 位置...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-15T08:03:32.630

解决此问题的最佳方法是转到 sdk/temp 文件夹。在那里您会找到一个名称类似于“tools_r24.0.1-windows”的 zip 文件（版本号会有所不同）

将其复制到某个地方并提取它。在提取的文件夹中，您将有一个名为“工具”的文件夹

将该文件夹复制到 sdk/ 并替换 sdk/ 中的当前工具文件夹

# linux - 使用别名到多个主机的 perl ssh 脚本

> ID：14974262
> 
> 赞同：0
> 
> 时间：2013-02-20T07:14:53.720
> 
> 标签：linux, perl, bash, ssh

我正在尝试找出如何缩短我对多个 SSH 服务器的登录时间（永远不要两次相同）。有几个互联网链接可以使用脚本中内置的主机名来完成。我每次都需要输入不同的主机名，我正在尝试设置某种脚本来运行别名'ssh hostname'，使用相同的用户名和相同的密码，在脚本名之后使用不同的主机名。如果需要，我可以在需要时从 PHP 调用脚本。

只是不必手动输入 shh 命令行，或者每次手动输入用户名都会有很大帮助。

**当前的 linux 别名不起作用：**

```
alias sar='echo "message";ssh root@' 
```

**命令行：**

```
sar hostname1

ssh: Could not resolve hostname : Name or service not known 
```

**不能用：**

```
Expect

SSH Key Authentication 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T19:03:31.933

为什么要在 ~/.bashrc 或 ~/.profile 中定义一个函数：

```
function sar
{
   ssh root@$1
} 
```

替代方案：通过 ~/.ssh/config 为所有 ssh 或列表或域配置默认用户？

```
 Host *
     User root
 Host *.myDomain.com
     User root 
```

# database - 如何导出 Eclipse 数据库 (JDBC) 项目并使其在用户的 PC 上可执行？

> ID：14974268
> 
> 赞同：1
> 
> 时间：2013-02-20T07:15:12.103
> 
> 标签：database, eclipse, oracle, jdbc, executable

我在 Eclipse 上创建了 Dental Registry 应用程序，该应用程序使用 JDBC 连接到 Oracle 11 g 数据库。一切都完成了。

现在我想导出项目并使其可以在其他人的计算机上运行。

我计划分发给尽可能多的人。如果有任何涉及，我的用户将无法访问互联网。我不知道如何让它继续运行，而用户不需要在他们的计算机上安装 Oracle。这就像在某人的计算机上安装程序（如创建 .exe 文件）。

请给我任何建议。这是我第一次做这种事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:23:58.027

如果使用 JDBC 瘦驱动，则无需安装 Oracle 客户端。如果您的 Eclipse 项目是 Eclipse RCP 应用程序，则有导出菜单。如果它是“序数”Java Swing 应用程序 - 将您的代码打包到 jar 中 + 添加包含类似 java -cp jar1;jar2 MainClass 的文件。要使其自动化，请查看 ant 或 maven。
如果您需要用户友好的安装，请找到一些可以做到这一点的产品...

# angularjs - 您可以在不重新加载 AngularJS 中的控制器的情况下更改路径吗？

> ID：14974271
> 
> 赞同：195
> 
> 时间：2013-02-20T07:15:25.410
> 
> 标签：angularjs

以前有人问过，从答案看起来不太好。我想询问一下这个示例代码......

我的应用程序在提供它的服务中加载当前项目。有几个控制器可以在不重新加载项目的情况下操作项目数据。

如果尚未设置，我的控制器将重新加载该项目，否则，它将在控制器之间使用服务中当前加载的项目。

**问题**：我想为每个控制器使用不同的路径而不重新加载 Item.html。

1）这可能吗？

2）如果这是不可能的，有没有更好的方法让每个控制器都有一个路径而不是我在这里想出的？

应用程序.js

```
var app = angular.module('myModule', []).
  config(['$routeProvider', function($routeProvider) {
    $routeProvider.
      when('/items', {templateUrl: 'partials/items.html',   controller: ItemsCtrl}).
      when('/items/:itemId/foo', {templateUrl: 'partials/item.html', controller: ItemFooCtrl}).
      when('/items/:itemId/bar', {templateUrl: 'partials/item.html', controller: ItemBarCtrl}).
      otherwise({redirectTo: '/items'});
    }]); 
```

项目.html

```
<!-- Menu -->
<a id="fooTab" my-active-directive="view.name" href="#/item/{{item.id}}/foo">Foo</a>
<a id="barTab" my-active-directive="view.name" href="#/item/{{item.id}}/bar">Bar</a>
<!-- Content -->
<div class="content" ng-include="" src="view.template"></div> 
```

控制器.js

```
// Helper function to load $scope.item if refresh or directly linked
function itemCtrlInit($scope, $routeParams, MyService) {
  $scope.item = MyService.currentItem;
  if (!$scope.item) {
    MyService.currentItem = MyService.get({itemId: $routeParams.itemId});
    $scope.item = MyService.currentItem;
  }
}
function itemFooCtrl($scope, $routeParams, MyService) {
  $scope.view = {name: 'foo', template: 'partials/itemFoo.html'};
  itemCtrlInit($scope, $routeParams, MyService);
}
function itemBarCtrl($scope, $routeParams, MyService) {
  $scope.view = {name: 'bar', template: 'partials/itemBar.html'};
  itemCtrlInit($scope, $routeParams, MyService);
} 
```

**解析度。**

**状态**：使用接受的答案中推荐的搜索查询允许我提供不同的 url，而无需重新加载主控制器。

应用程序.js

```
var app = angular.module('myModule', []).
  config(['$routeProvider', function($routeProvider) {
    $routeProvider.
      when('/items', {templateUrl: 'partials/items.html',   controller: ItemsCtrl}).
      when('/item/:itemId/', {templateUrl: 'partials/item.html', controller: ItemCtrl, reloadOnSearch: false}).
      otherwise({redirectTo: '/items'});
    }]); 
```

项目.html

```
<!-- Menu -->
<dd id="fooTab" item-tab="view.name" ng-click="view = views.foo;"><a href="#/item/{{item.id}}/?view=foo">Foo</a></dd>
<dd id="barTab" item-tab="view.name" ng-click="view = views.bar;"><a href="#/item/{{item.id}}/?view=foo">Bar</a></dd>

<!-- Content -->
<div class="content" ng-include="" src="view.template"></div> 
```

控制器.js

```
function ItemCtrl($scope, $routeParams, Appts) {
  $scope.views = {
    foo: {name: 'foo', template: 'partials/itemFoo.html'},
    bar: {name: 'bar', template: 'partials/itemBar.html'},
  }
  $scope.view = $scope.views[$routeParams.view];
} 
```

指令.js

```
app.directive('itemTab', function(){
  return function(scope, elem, attrs) {
    scope.$watch(attrs.itemTab, function(val) {
      if (val+'Tab' == attrs.id) {
        elem.addClass('active');
      } else {
        elem.removeClass('active');
      }
    });
  }
}); 
```

我的部分内容中包含`ng-controller=...`

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2013-02-20T07:27:30.997

如果您不必使用`#/item/{{item.id}}/foo`and `#/item/{{item.id}}/bar`but `#/item/{{item.id}}/?foo`and之类的 URL，则可以将`#/item/{{item.id}}/?bar`路由设置为( [https://docs.angularjs.org/api/ngRoute/provider/$routeProvider](http://docs.angularjs.org/api/ngRoute.$routeProvider) )。如果 url 的搜索部分发生变化，这会告诉 AngularJS 不要重新加载视图。`/item/{{item.id}}/``reloadOnSearch``false`

* * *

## 回答 #2

> 赞同：94
> 
> 时间：2014-06-08T01:14:36.390

如果您需要更改路径，请将其添加到应用文件中的 .config 之后。然后你可以做`$location.path('/sampleurl', false);`以防止重新加载

```
app.run(['$route', '$rootScope', '$location', function ($route, $rootScope, $location) {
    var original = $location.path;
    $location.path = function (path, reload) {
        if (reload === false) {
            var lastRoute = $route.current;
            var un = $rootScope.$on('$locationChangeSuccess', function () {
                $route.current = lastRoute;
                un();
            });
        }
        return original.apply($location, [path]);
    };
}]) 
```

我发现的最优雅的解决方案归功于[https://www.consolelog.io/angularjs-change-path-without-reloading 。](https://www.consolelog.io/angularjs-change-path-without-reloading)

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2014-11-17T23:30:38.280

为什么不把 ng-controller 提高一级，

```
<body ng-controller="ProjectController">
    <div ng-view><div> 
```

并且不要在路由中设置控制器，

```
.when('/', { templateUrl: "abc.html" }) 
```

这个对我有用。

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2015-08-12T11:31:53.700

对于那些需要在不重新加载控制器的情况下更改路径（）的人 - 这是插件：[https ://github.com/anglibs/angular-location-update](https://github.com/anglibs/angular-location-update)

用法：

```
$location.update_path('/notes/1'); 
```

* * *

基于[https://stackoverflow.com/a/24102139/1751321](https://stackoverflow.com/a/24102139/1751321)

PS 这个解决方案[https://stackoverflow.com/a/24102139/1751321](https://stackoverflow.com/a/24102139/1751321)在调用 path(, false) 后包含错误 - 它会中断浏览器导航后退/前进，直到调用 path(, true)

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2013-09-16T05:31:55.240

尽管这篇文章很旧并且已经接受了答案，但对于我们这些需要更改实际路径而不仅仅是参数的人来说，使用 reloadOnSeach=false 并不能解决问题。这是一个需要考虑的简单解决方案：

使用 ng-include 而不是 ng-view 并在模板中分配您的控制器。

```
<!-- In your index.html - instead of using ng-view -->
<div ng-include="templateUrl"></div>

<!-- In your template specified by app.config -->
<div ng-controller="MyController">{{variableInMyController}}</div>

//in config
$routeProvider
  .when('/my/page/route/:id', { 
    templateUrl: 'myPage.html', 
  })

//in top level controller with $route injected
$scope.templateUrl = ''

$scope.$on('$routeChangeSuccess',function(){
  $scope.templateUrl = $route.current.templateUrl;
})

//in controller that doesn't reload
$scope.$on('$routeChangeSuccess',function(){
  //update your scope based on new $routeParams
}) 
```

唯一的缺点是您不能使用 resolve 属性，但这很容易解决。此外，您还必须管理控制器的状态，例如基于 $routeParams 的逻辑，因为控制器内的路由会随着相应 url 的变化而变化。

这是一个例子：[http ://plnkr.co/edit/WtAOm59CFcjafMmxBVOP?p=preview](http://plnkr.co/edit/WtAOm59CFcjafMmxBVOP?p=preview)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-04-10T00:17:00.603

我使用这个解决方案

```
angular.module('reload-service.module', [])
.factory('reloadService', function($route,$timeout, $location) {
  return {
     preventReload: function($scope, navigateCallback) {
        var lastRoute = $route.current;

        $scope.$on('$locationChangeSuccess', function() {
           if (lastRoute.$$route.templateUrl === $route.current.$$route.templateUrl) {
              var routeParams = angular.copy($route.current.params);
              $route.current = lastRoute;
              navigateCallback(routeParams);
           }
        });
     }
  };
})

//usage
.controller('noReloadController', function($scope, $routeParams, reloadService) {
     $scope.routeParams = $routeParams;

     reloadService.preventReload($scope, function(newParams) {
        $scope.routeParams = newParams;
     });
}); 
```

这种方法保留了后退按钮功能，并且您始终在模板中拥有当前的 routeParams，这与我见过的其他一些方法不同。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-10-02T20:05:00.167

上面的答案，包括 GitHub 答案，对我的场景有一些问题，并且后退按钮或浏览器的直接 url 更改正在重新加载控制器，我不喜欢。我最终采用了以下方法：

**1.**在路由定义中定义一个属性，称为“noReload”，用于那些您不希望控制器在路由更改时重新加载的路由。

```
.when('/:param1/:param2?/:param3?', {
    templateUrl: 'home.html',
    controller: 'HomeController',
    controllerAs: 'vm',
    noReload: true
}) 
```

**2.**在模块的运行函数中，放置检查这些路由的逻辑。`noReload`只有当is`true`和之前的路由控制器相同时，它才会阻止重新加载。

```
fooRun.$inject = ['$rootScope', '$route', '$routeParams'];

function fooRun($rootScope, $route, $routeParams) {
    $rootScope.$on('$routeChangeStart', function (event, nextRoute, lastRoute) {
        if (lastRoute && nextRoute.noReload 
         && lastRoute.controller === nextRoute.controller) {
            var un = $rootScope.$on('$locationChangeSuccess', function () {
                un();
                // Broadcast routeUpdate if params changed. Also update
                // $routeParams accordingly
                if (!angular.equals($route.current.params, lastRoute.params)) {
                    lastRoute.params = nextRoute.params;
                    angular.copy(lastRoute.params, $routeParams);
                    $rootScope.$broadcast('$routeUpdate', lastRoute);
                }
                // Prevent reload of controller by setting current
                // route to the previous one.
                $route.current = lastRoute;
            });
        }
    });
} 
```

**3.**最后，在控制器中，监听 $routeUpdate 事件，这样当路由参数发生变化时，你可以做任何你需要做的事情。

```
HomeController.$inject = ['$scope', '$routeParams'];

function HomeController($scope, $routeParams) {
    //(...)

    $scope.$on("$routeUpdate", function handler(route) {
        // Do whatever you need to do with new $routeParams
        // You can also access the route from the parameter passed
        // to the event
    });

    //(...)
} 
```

请记住，使用这种方法，您无需更改控制器中的内容，然后相应地更新路径。这是相反的方式。您首先更改路径，然后在路由参数更改时侦听 $routeUpdate 事件以更改控制器中的内容。

这使事情变得简单和一致，因为当您简单地更改路径（但如果您愿意，无需昂贵的 $http 请求）和完全重新加载浏览器时，您都可以使用相同的逻辑。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-09-26T16:03:50.833

这是我更完整的解决方案，它解决了@Vigrond 和@rahilwazir 错过的一些问题：

*   当搜索参数改变时，它会阻止广播一个`$routeUpdate`.
*   当路由实际上保持不变时，`$locationChangeSuccess`永远不会触发，这会导致阻止*下一次路由更新。*
*   如果在同一个摘要周期中有另一个更新请求，这次希望重新加载，事件处理程序将取消该重新加载。

    ```
    app.run(['$rootScope', '$route', '$location', '$timeout', function ($rootScope, $route, $location, $timeout) {
        ['url', 'path'].forEach(function (method) {
            var original = $location[method];
            var requestId = 0;
            $location[method] = function (param, reload) {
                // getter
                if (!param) return original.call($location);

                # only last call allowed to do things in one digest cycle
                var currentRequestId = ++requestId;
                if (reload === false) {
                    var lastRoute = $route.current;
                    // intercept ONLY the next $locateChangeSuccess
                    var un = $rootScope.$on('$locationChangeSuccess', function () {
                        un();
                        if (requestId !== currentRequestId) return;

                        if (!angular.equals($route.current.params, lastRoute.params)) {
                            // this should always be broadcast when params change
                            $rootScope.$broadcast('$routeUpdate');
                        }
                        var current = $route.current;
                        $route.current = lastRoute;
                        // make a route change to the previous route work
                        $timeout(function() {
                            if (requestId !== currentRequestId) return;
                            $route.current = current;
                        });
                    });
                    // if it didn't fire for some reason, don't intercept the next one
                    $timeout(un);
                }
                return original.call($location, param);
            };
        });
    }]); 
    ```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-03-29T02:42:22.517

在 head 标签内添加以下内容

```
 <script type="text/javascript">
    angular.element(document.getElementsByTagName('head')).append(angular.element('<base href="' + window.location.pathname + '" />'));
  </script> 
```

这将防止重新加载。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-05-17T11:47:26.700

有一种简单的方法可以更改路径而无需重新加载

```
URL is - http://localhost:9000/#/edit_draft_inbox/1457 
```

**使用此代码更改 URL，页面不会被重定向**

**第二个参数“false”非常重要。**

```
$location.path('/edit_draft_inbox/'+id, false); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-12-11T04:32:20.330

从 1.2 版开始，您可以使用[$location.replace()](https://docs.angularjs.org/guide/$location#replace-method)：

```
$location.path('/items');
$location.replace(); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-08-07T14:46:39.847

我无法在这里做出任何答案。作为一个可怕的黑客，我在更改路由时将时间戳存储在本地存储中，并在页面初始化时检查此时间戳是否已设置且最近，在这种情况下，我不会触发一些初始化操作。

在控制器中：

```
window.localStorage['routeChangeWithoutReloadTimestamp'] = new Date().getTime();
$location.path(myURL); 
```

在配置中：

```
.when(myURL, {
            templateUrl: 'main.html',
            controller:'MainCtrl',
            controllerAs: 'vm',
            reloadOnSearch: false,
            resolve:
            {
                var routeChangeWithoutReloadTimestamp =
                    window.localStorage['routeChangeWithoutReloadTimestamp'];
                var currentTimestamp = new Date().getTime();
                if (!routeChangeWithoutReloadTimestamp ||
                        currentTimestamp - routeChangeWithoutReloadTimestamp >= 5000) {
                    //initialization code here
                }
                //reset the timestamp to trigger initialization when needed
                window.localStorage['routeChangeWithoutReloadTimestamp'] = 0;
            }
}); 
```

我使用了时间戳而不是布尔值，以防代码在有机会在更改路线之前重新初始化存储的值之前被中断。选项卡之间发生冲突的风险非常低。

# spring - 未找到 WurflDeviceResolver

> ID：14974275
> 
> 赞同：0
> 
> 时间：2013-02-20T07:15:36.720
> 
> 标签：spring, wurfl, spring-mobile

我发现 spring-mobile 1.0.0.M3 build 中有一个**WurflDeviceResolver**类。但是我在 spring-mobile 的任何发布版本中都没有找到相同的类。

所以它被弃用了吗？另一种方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-20T04:00:51.447

存在许可证冲突，因此删除了 WURFL 功能。或者，Spring Mobile 提供了许多扩展点，以及`LiteDeviceResolver`检测普通、移动或平板设备的功能。

# informix - informix 中的外部表

> ID：14974285
> 
> 赞同：2
> 
> 时间：2013-02-20T07:16:22.553
> 
> 标签：informix

我想将一个巨大的文件加载到informix DB 中的一个表中，这需要很长时间。以前，我使用的是这个命令：

```
LOAD FROM <file> delimiter "|" INSERT INTO <tablename> 
```

经过一番研究，我在 IBM 网站上阅读了外部表的概念。

`LOAD`简单命令和使用`EXTERNAL`表将数据加载到数据库有什么区别？

两者之间有性能差异吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T14:24:57.387

差别很大，性能也是如此。LOAD 通过普通的 SQL 层，可以与简单的 INSERT 进行比较（有一些优化）。它也是一个客户端“工作”，必须与服务器通信和交换消息。

外部表有很大不同。根据您使用的模式（express 是最快的），该过程会创建数据页并完全绕过 SQL 层。自然是有限制的，但对于大容量负载，它可以产生巨大的差异。此外，对于外部表，是引擎本身产生负载。使用之前的“快速”方法（一种称为高性能加载程序 - HPL 的工具）有一个客户端进程，但总体概念是相似的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-14T20:40:08.547

+1 乔纳森的回答。

应该注意的是，将记录使用来自外部表的 LOAD 或 INSERT 的负载，如果要加载的数据量很大，可能会填满事务日志并导致长时间回滚的长事务。在执行加载之前，请考虑修改要加载到 RAW 的表的表类型（这也涉及删除索引 - 这是一件好事）。例如：

```
drop index foo_idx1;
Alter table foo type (RAW);
insert into foo select * from ext_foo;
Alter table foo type (STANDARD); -- you will probably need to take a backup at this point.
create index foo_idx1 on foo(foo_col); 
```

# c# - 为什么执行 RenderTransform 后 ActualWidth/ActualHeight 没有改变？

> ID：14974287
> 
> 赞同：1
> 
> 时间：2013-02-20T07:16:34.263
> 
> 标签：c#, windows-phone-8, scale, rendertransform, actualwidth

我有以下代码来调整图像控件的大小

```
 private void ApplyScale()
    {
        ((CompositeTransform)img.RenderTransform).ScaleX = TotalImageScale;
        ((CompositeTransform)img.RenderTransform).ScaleY = TotalImageScale;
        Debug.WriteLine("img.Width: " + img.Width.ToString() + " - img.ActualWidth: " + img.ActualWidth.ToString());
        Debug.WriteLine("img.Height: " + img.Height.ToString() + " - img.ActualHeight: " + img.ActualHeight.ToString()); 

    } 
```

虽然代码正常工作，但我试图理解为什么图像在缩放`ActualWidth`后`ActualHeight`不改变。它们始终与`Width`和`Height`值相同。

如何获得新的图像控件大小？我必须通过比例变化率手动计算吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:20:22.760

`RenderTransform`不应该影响布局，如果它改变它会这样做`ActualSize`。如果你使用`LayoutTransform`它应该改变这些值，但是从旧尺寸和比例因子中找到新尺寸是一个相对简单的计算。

# c# - 如何在 IIS 下填充系统证书？

> ID：14974288
> 
> 赞同：0
> 
> 时间：2013-02-20T07:16:37.760
> 
> 标签：c#, ssl, ssl-certificate, x509certificate, digital-certificate

我需要填充系统证书。当我在 VS 下调试它时，相同的源代码告诉我证书计数正确。当我在IIS 7.5 Windows 7下运行代码时，.Count总是返回0。有没有权限问题？为什么计数返回 0？

```
 System.Security.Cryptography.X509Certificates.X509Store store = new System.Security.Cryptography.X509Certificates.X509Store(System.Security.Cryptography.X509Certificates.StoreName.My);
        store.Open(System.Security.Cryptography.X509Certificates.OpenFlags.ReadOnly);
        Response.Write("<hr>Certs count: " + store.Certificates.Count.ToString() + "<br>"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:22:16.790

IIS and VS debugger run under different user credentials. So IIS cannot load the certificates. Here is my workaround:

I'll make a commandline utility and [run it as user](http://weblogs.asp.net/hernandl/archive/2005/12/02/startprocessasuser.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T12:15:06.513

[ASP.NET 模拟](http://msdn.microsoft.com/en-us/library/xh507fc5%28v=vs.100%29.aspx)有助于加载用户的证书。

PS：System.Security.Principal.WindowsIdentity.GetCurrent().Name 获取用户名。

# c - 在 C 编程语言中按字母顺序对数组进行排序？

> ID：14974291
> 
> 赞同：1
> 
> 时间：2013-02-20T07:16:53.417
> 
> 标签：c

我想按字母顺序对数组进行排序，如下所示：

我尝试了各种方法，但仍然没有办法。它崩溃了，还不知道为什么。你有一些提示可以解决这个问题吗？

由于我不是那么专家，因此代码旨在简单（阅读/理解）并完成工作。

谢谢，问候

```
/* note: datalist[...] is basically the ouput from a sort of ls (dir
read) that it unsorted. So that: datalist[0] is ".." datalist[1] is
"file2.c" datalist[2] is "file34.c" and so on.*/

    char datalist[500][2024] ; 

void sortData(int aoptiondt)  {   ///////////////////////////LOCAL
DECLARATIONS/////////   int MAX = 500 ;    int current; int walker;  
int smallestIndex;   char* temp;

  ///////////////////////////DEFINITIONS//////////////////

    for (current = 0; current < MAX - 1; current++)
    {
      smallestIndex = current;
      for (walker = current; walker < MAX ; walker ++)
      {
        if (strcmp(datalist[walker], datalist[smallestIndex]) < 0)
          smallestIndex = walker;
      } //for walker

      //Swap to position smallest at what is the current position
      strncpy( temp , datalist[current] , PATH_MAX);
      strncpy( datalist[current] , datalist[smallestIndex] , PATH_MAX);
      strncpy( datalist[smallestIndex] , temp, PATH_MAX);
    } //for current    }

  return; }

//blabla
    int  main() {

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:33:43.087

一如既往 -`qsort`是你最好的朋友：

```
#include <stdio.h>
#include <stdlib.h>

#define LENGTH 6
#define STRING_SIZE 4
#define STRINGS "eed", "abd", "cde", "abc", "acd", "ade"

char strUnsorted[][STRING_SIZE] = {STRINGS};
char strSorted[][STRING_SIZE]   = {STRINGS};

int compare (const void * a, const void * b) {
  return strcmp(a, b);
}

int main () {

  qsort(strSorted, LENGTH, STRING_SIZE, compare);

  printf("Unsorted | Sorted\n");
  printf("-----------------\n");

  int i;
  for (i=0; i < LENGTH; i++)
    printf ("  %s    |   %s\n", strUnsorted[i] ,strSorted[i]);

  return 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:03:42.993

您不仅需要一个字符数组，还需要一个字符数组数组。像往常一样使用 C，您需要小心内存管理，并保持分配数组的边界。请参阅下面的解决方案。我使用了一个简单的选择排序算法，它非常适合这样的应用程序。这是如何完成的：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define N 5
#define MAX_STRLEN 80

void sort(char **a, int n);
char *stringArray[N];

int main(int argc, char *argv[]) 
{
   int i;

   printf("\nEnter %d names, one per line:\n",N);
   for (i = 0; i < N; i++) 
   {
      stringArray[i] = (char *)malloc(MAX_STRLEN);
      strcpy(stringArray[i],"");
      printf("> ");
      fgets(stringArray[i],MAX_STRLEN,stdin);
      *strchr(stringArray[i],'\n') = '\0';
   }
   sort(stringArray,N);
   printf("\nSorted:\n");
   for (i = 0; i < N; i++) 
   {
      puts(stringArray[i]);
      free(stringArray[i]);
   }

   return 0;
}

/* selection sort */
void sort(char **a, int n) 
{
   int min,i,j;
   char t[MAX_STRLEN];

   for (i = 0; i < n; i++) 
   {
      min = i;
      for (j = i+1; j < n; j++) 
      {
        if (strcmp(a[j],a[min]) < 0) 
          min = j;
      }
      strcpy(t,a[min]);
      strcpy(a[min],a[i]);
      strcpy(a[i],t);
   }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-20T08:07:05.097

[http://www.asciitable.com/index/asciifull.gif](http://www.asciitable.com/index/asciifull.gif)这里是一个 ascii 表。如果你看这个，你会发现性格是有区别的。这意味着您可以将 char 转换为 int 并获取其 ascii 编号，然后您可以使用该编号对它们进行排序。

一个样品：

```
 int len =strlen(word);
  int wordWeight=0;
  for(int i=0;i<len;i++)
  {
      wordWeight+=(int)word[i];
      wordWeight*=1000;
  } 
```

通过使用 wordWeight 你可以对它们进行排序。注意：我们将 ascii 值乘以 1000，因为 ascii 值在 0 和 255 之间变化，但如果某些单词以大写字母开头而其他单词以 lovercase 开头，您将遇到问题。但我认为你可以应付

# java - 从 Oracle 触发器启动 Java Web 应用程序中的进程

> ID：14974292
> 
> 赞同：1
> 
> 时间：2013-02-20T07:16:58.050
> 
> 标签：java, oracle, web-applications, triggers, quartz-scheduler

在后端具有 Oracle 11g 的 Java Web 应用程序中，我想在 Oracle 存储过程完成其工作后启动程序（可能是 servlet）的执行。

我的想法是让该过程在完成作业时将一条记录插入到数据库表中，并且表上的触发器集会启动此 Java 进程。

我怎样才能实现它？如果可以使用 Quartz Scheduler 来实现这一点，那么请提供如何实现它的指针。如果没有，我还有什么其他选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:28:05.953

您可以使用作为 Oracle 一部分的 UTL_HTTP 从 Oracle 存储过程中向 Servlet URL 发送 POST 调用。[在此处](http://awads.net/wp/2005/11/30/http-post-from-inside-oracle/)查找更多信息

或者您可以摆脱 Servlet 并编写一个 Java 存储过程，可以将其作为存储过程导入 Oracle 并调用它。[在此处](http://docs.oracle.com/html/B10108_01/jdgwork.htm)查找更多信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:30:40.493

我过去曾使用 UTL_HTTP 向 servlet 发送请求。这具有简单的潜在好处，您可以轻松地在数据库中记录/使用响应消息。这将需要添加 ACL 规则：[http ://www.oracle-base.com/articles/11g/fine-grained-access-to-network-services-11gr1.php](http://www.oracle-base.com/articles/11g/fine-grained-access-to-network-services-11gr1.php)

您还可以启动从 servlet 到数据库的连接，并在触发器中使用 DBMS_ALERT 信号：http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_alert.htm[这](http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_alert.htm)具有潜在的好处它很快，并且不需要 ACL 规则。

最后，您可以使用触发器在某处插入一行/更新状态列，然后简单地让 servlet 轮询一段时间以查看它是否应该做任何工作。这是所有解决方案中最简单的，但实施起来并不优雅或有趣。

# c++ - std::list.begin() 给出空指针

> ID：14974308
> 
> 赞同：0
> 
> 时间：2013-02-20T07:18:11.390
> 
> 标签：c++

我定义了一个包含 std::list 的结构。在我的代码中，我尝试遍历这个列表，但我得到了一些奇怪的结果。

```
struct my_struct_t {
    std::list<int> my_list;
    //More fields
}; 
```

这是我在头文件中定义的结构。

包含此标头的文件中的一些示例代码将是：

```
 std::list<int>::iterator my_iterator;

    struct my_struct_t* test_struct = (struct my_struct_t*) malloc(sizeof(struct my_struct_t));
    my_iterator = test_struct->my_list.begin();
    printf("Beginning of list address: %p\n", my_iterator);

    my_iterator = test_struct->my_list.end();
    printf("End of the list address: %p\n", my_iterator);
    printf("Address of the list: %p\n", &(test_struct->my_list)); 
```

此代码编译并运行良好，但输出将类似于：

```
Beginning of list address: (nil)
End of the list address: 0x86f010
Address of the list: 0x86f010 
```

最后两行对我来说很有意义，因为列表应该是空的。但是我如何/为什么一开始就得到一个空指针？我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-20T07:19:54.367

你不能`malloc`一个列表然后在没有初始化的情况下使用它。这是一个无效的操作。

它尚未通过适当的`new`调用进行初始化。这在没有吹出段错误的情况下完全有效，这真是太棒了。

您将需要`my_struct_t`使用 C++ 样式初始化来创建对象，否则它将不起作用。

您是否尝试过更多 C++ 之类的东西：

```
struct my_struct_t* test_struct = new my_struct_t; 
```

稍后，您当然会打电话而不是`free`打电话`delete`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:27:35.487

`malloc`只会为对象分配必要的内存，但不会初始化该对象。C++ 中对象的初始化由其构造函数执行。C++ 提供了`new`同时分配内存和初始化对象的操作符。所以你应该做的是：

```
my_struct_t* x = new my_struct_t(); 
```

如果您真的打算在`malloc`这里使用，您仍然可以使用正确对齐的原始内存正确初始化对象`placement new`。请记住，您必须显式调用析构函数并显式释放内存。但我严重怀疑这是你的意图。

# c# - 每当发布新版本的 excel 时，参考 tlb 就会丢失，我必须从 excel 中再次参考 .tlb 文件

> ID：14974311
> 
> 赞同：2
> 
> 时间：2013-02-20T07:18:25.137
> 
> 标签：c#, .net, excel, vba, com

我已经使 dll COM 可见并使用 RegAsm 工具注册了 dll。在 excel 中，我为我的 .NET dll 添加对 TLB 文件的引用，然后在 excel VBA 中创建我的类的实例。

真正的问题是，当我发布新版本的 dll 时，我必须再次手动添加对新 dll 的引用，而这个 excel 应用程序将分发给许多用户，所以他们第一次必须手动添加对 TLB 文件的引用。

有没有办法从excel VBA自动引用TLB，或者可以在创建类型实例之前以编程方式加载？

# java - 不调用javascript函数

> ID：14974312
> 
> 赞同：0
> 
> 时间：2013-02-20T07:18:26.180
> 
> 标签：java, javascript, html, jsp, struts

在下面提到的代码中，当我单击“拼写检查”按钮时。它没有调用 javascript 功能。正在寻找您的积极回应。谢谢

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html
    xmlns="http://www.w3.org/1999/xhtml">

    <%@ taglib uri="/WEB-INF/struts-html.tld" prefix="html"%> <%@ taglib
    uri="/WEB-INF/struts-bean.tld" prefix="bean"%> <%@ taglib
    uri="/WEB-INF/struts-tiles.tld" prefix="tiles"%> <%@ taglib
    uri="/WEB-INF/struts-logic.tld" prefix="logic"%>

<head>Welcome To struts Application.

<title>Struts</title>

<script language="javascript">

    function input(){       alert("Insie input function)
          var abs = '<%=request.getContextPath()%>/index.do
            System.out.println("Path"+abs);
            alert(abs);   
          document.AccomodationForm.action=abs;
          document.AccomodationForm.submit();   }

</script> </head>

 <body>

    <html:form  method="post" action="/index"> <html:text
    property="username"></html:text> <html:password
    property="password"></html:password> <html:button  value="Spellcheck" 
    property="button" onclick="javascript:input()"></html:button>
    <html:link page="/index.do">Test the Action</html:link> </html:form>

    </body>

    </html> 
```

看看我在浏览器上看到的源代码

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>Welcome To struts Application.

<title>Struts</title>

<script language="javascript"> 

    function input(){
        alert('Insie input function');
          var abs = '/MyWork/index.do
            alert(abs);

          document.AccomodationForm.action=abs;
          document.AccomodationForm.submit();
    }

</script>
</head>

<body>

<form name="indexform" method="post" action="/MyWork/index.do;jsessionid=43C03A85FEBE58F375D2165C3E631111">
<input type="text" name="username" value="">
<input type="password" name="password" value="">
<input type="button" name="button" value="antriksh" onclick="input()">
<a href="/MyWork/index.do;jsessionid=43C03A85FEBE58F375D2165C3E631111">Test the Action</a>
</form>

</body>

</html> 
```

问题是在按钮中插入名称属性。我不知道为什么？您身边朋友的任何输入。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:20:58.910

`onclick`不采用 URL，因此该`javascript:`部分是无关的。杀了它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:23:28.203

为什么您的 javascript 函数包含**java**代码`System.out.println("Path"+abs)`，并且您的 javascript 代码有一些错误，请参见：

```
 function input(){      
      alert("Insie input function");
      var abs = '<%=request.getContextPath()%>/index.do';
       alert(abs);   
      document.AccomodationForm.action=abs;
      document.AccomodationForm.submit();   
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:32:05.227

我想修复错别字可以使您的代码正常工作：

```
function input() {
    //close the String message for the alert function
    alert("Insie input function)";
    //solve the scriptlet problem
    var abs = '<%=request.getContextPath()%>' + '/index.do'
    //THIS IS JAVA CODE, NOT JAVASCRIPT => System.out.println("Path"+abs);
    alert(abs);
    document.forms[0].action=abs;
    document.forms[0].submit(); 
```

}

并按照其他答案的建议，删除标签组件`javascript:`中的：`<html:button`

```
<html:button  value="Spellcheck"
    property="button" onclick="input()"></html:button> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-22T05:13:57.340

关闭单引号即可解决问题

**var abs = '<%=request.getContextPath()%>' + '/index.do';**

如果您使用 Firefox，我们将使用错误控制台 (Ctrl+Shift+J) 发现脚本错误

# ruby-on-rails-3.2 - 找不到rails新项目的目录

> ID：14974313
> 
> 赞同：1
> 
> 时间：2013-02-20T07:18:28.330
> 
> 标签：ruby-on-rails-3.2

我是 Rails Web 开发的新手。我`linux mint 14`在创建新项目后用于 Rails Web 开发，现在我无法找到项目目录，也无法找到解决此问题的方法。我创建了新项目。

```
rails new ~/myblog -d mysql 
```

我也试过这个

```
rails new myblog -d mysql 
```

我现在的位置是`/opt/lampp/htdocs`

这是控制台的输出，显示成功创建的每个文件

```
 create  
  create  app/controllers
  create  app/helpers
  create  app/models
  create  app/views/layouts
  create  config/environments
  create  config/initializers
  create  config/locales
  create  db
  create  doc
  create  lib
  create  lib/tasks
  create  log
  create  public/images
  create  public/javascripts
  create  public/stylesheets
  create  script/performance
  create  test/fixtures
  create  test/functional
  create  test/integration
  create  test/performance
  create  test/unit
  create  vendor
  create  vendor/plugins
  create  tmp/sessions
  create  tmp/sockets
  create  tmp/cache
  create  tmp/pids
  create  Rakefile
  create  README
  create  app/controllers/application_controller.rb
  create  app/helpers/application_helper.rb
  create  config/database.yml
  create  config/routes.rb
  create  config/locales/en.yml
  create  db/seeds.rb
  create  config/initializers/backtrace_silencers.rb
  create  config/initializers/inflections.rb
  create  config/initializers/mime_types.rb
  create  config/initializers/new_rails_defaults.rb
  create  config/initializers/session_store.rb
  create  config/initializers/cookie_verification_secret.rb
  create  config/environment.rb
  create  config/boot.rb
  create  config/environments/production.rb
  create  config/environments/development.rb
  create  config/environments/test.rb
  create  script/about
  create  script/console
  create  script/dbconsole
  create  script/destroy
  create  script/generate
  create  script/runner
  create  script/server
  create  script/plugin
  create  script/performance/benchmarker
  create  script/performance/profiler
  create  test/test_helper.rb
  create  test/performance/browsing_test.rb
  create  public/404.html
  create  public/422.html
  create  public/500.html
  create  public/index.html
  create  public/favicon.ico
  create  public/robots.txt
  create  public/images/rails.png
  create  public/javascripts/prototype.js
  create  public/javascripts/effects.js
  create  public/javascripts/dragdrop.js
  create  public/javascripts/controls.js
  create  public/javascripts/application.js
  create  doc/README_FOR_APP
  create  log/server.log
  create  log/production.log
  create  log/development.log
  create  log/test.log
  create  vendor/rails 
```

但是当我输入命令以进入目录`cd myblog`或`cd ~/myblog`它说没有这样的文件目录时请任何人都可以告诉我它在哪里创建项目也当再次执行命令以创建具有相同名称的新项目时它要求我覆盖文件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T12:19:09.427

尝试一下 ：-

```
1\. cd /home/username   `(put your username )`

2\. rails new sample -d mysql 
```

现在检查是否创建了应用程序文件夹。

```
3\. ls -l 
```

如果显示名称为“sample”的目录，请在其中找到

```
4\. cd sample 
```

如果目录不存在，那么您在安装 OS 或 Rails 时可能会出现问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:30:05.423

您使用的是旧版本的 rails 如果您在最新版本中执行此命令，最新版本的 ruby​​ 是 3.2

```
rails new sample -d mysql 
```

然后这将`sample`在当前目录中创建目录，以便您可以使用

```
cd sample 
```

但是旧版本的rails不需要`new`关键字意味着您只需要执行以下命令

```
rails sample -d mysql 
```

以下命令将创建一个新文件夹，然后`sample`在`new`目录中生成项目名称，因此您需要`cd new/sample`到达目录

```
rails new sample -d mysql 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T11:37:49.470

你是说你的当前目录是“/opt/lampp/htdocs”。所以如果你运行'rails new myblog -d mysql'命令，那么它会在你的当前目录中生成一个名为myblog的项目目录结构，比如“/opt/lampp/htdocs/myblog”。

# java - 使用扫描仪读取日文字符

> ID：14974326
> 
> 赞同：2
> 
> 时间：2013-02-20T07:19:14.883
> 
> 标签：java, encoding, java.util.scanner

可能重复： [如何在 Java 中使用 Scanner 正确读取汉字？](https://stackoverflow.com/questions/12898123/how-can-i-read-chinese-characters-correctly-using-scanner-in-java)

我的输入文件名可能包含日文字符，我正在尝试使用扫描仪读取文件名。

```
Scanner sc = new Scanner(System.in,"utf-8");
System.out.println("Encoding is :" + Charset.defaultCharset());

System.out.println("Enter the path:");
inputFilePath = sc.nextLine(); 
```

如果我的输入是例如 - 汉字

当我打印文件名时，我的输出是

```
Encoding is :UTF-8
Input File Path:æ¼¢å­— 
```

我也试过，

```
byte[] jis = sc.nextLine().getBytes("Shift_JIS");
System.out.println(new String(jis)); 
```

我的输出是

```
Input File Path:??��??�\ 
```

我该如何纠正这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:33:19.060

您的代码是正确的，唯一的问题是您正在阅读`utf-8`然后将其转换为`Shift_JIS`打印垃圾字符的代码。

你试过用这个。

```
Scanner sc = new Scanner(System.in,"utf-8");
System.out.println("Encoding is :" + Charset.defaultCharset());

System.out.println("Enter the path:");
String inputFilePath = sc.nextLine();
System.out.println("Input path:" + new String(inputFilePath.getBytes("utf-8"))); 
```

希望这可以帮助 ！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:21:02.607

[这个中文](https://stackoverflow.com/questions/12898123/how-can-i-read-chinese-characters-correctly-using-scanner-in-java)答案

每个字符串已经（在概念上）是一个字符序列，包括中文字符。只有当您需要将其转换为字节时，编码才会出现，而您的分配不需要。只需使用字符串的哈希码。事实上，当你创建一个 HashMap 时，这正是幕后发生的事情

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:30:59.283

`Eclipse`正在从默认设置为 UTF-8 的控制台读取。要读取数据，您需要将控制台编码更改为支持日语的编码。

在运行配置中，将编码更改为支持日语的编码，然后重试。

![在此处输入图像描述](../Images/ba6abb9e5937fab5dfafcab2abd7637f.png)

# r - 将（交叉）表转换为列表视图

> ID：14974330
> 
> 赞同：2
> 
> 时间：2013-02-20T07:19:42.810
> 
> 标签：r, crosstab

过去我问过一个关于如何[从列表视图创建交叉表](https://stackoverflow.com/questions/13451394/how-to-make-a-cross-table-with-na-instead-of-x)的问题。我被推荐`xtabs`用于这个，效果很好。今天，我一直在寻找相反的方法并从交叉表创建列表视图表。我希望找到一个反向公式，但没有成功。我相信有一个预定义的功能，但无法找到它。

我有下表：

```
# load table     
crosstable <- structure(list(col1 = c(0, 0, 1, 0, 0, 0, 0, 0, 0), col2 = c(0, 1, 0, 0, 0, 0, 0, 0, 0), col3 = c(0, 0, 0, 0, 0, 0, 0, 0, 1), col4 = c(1, 0, 0, 0, 0, 0, 0, 0, 0), col5 = c(0, 0, 0, 0, 0, 0, 0, 1, 0), col6 = c(0, 0, 0, 0, 0, 1, 0, 0, 0), col7 = c(0, 0, 0, 0, 1, 0, 0, 0, 0), col8 = c(0, 0, 0, 0, 0, 0, 1, 0, 0)), .Names = c("col1", "col2", "col3", "col4", "col5", "col6", "col7", "col8"), row.names = c("row1", "row2", "row3", "row4", "row5", "row6", "row7", "row8", "row9"), class = "data.frame")

#display table
crosstable

     col1 col2 col3 col4 col5 col6 col7 col8
row1    0    0    0    1    0    0    0    0
row2    0    1    0    0    0    0    0    0
row3    1    0    0    0    0    0    0    0
row4    0    0    0    0    0    0    0    0
row5    0    0    0    0    0    0    1    0
row6    0    0    0    0    0    1    0    0
row7    0    0    0    0    0    0    0    1
row8    0    0    0    0    1    0    0    0
row9    0    0    1    0    0    0    0    0 
```

我想将其转换为显示如下内容的表格：

```
row1 col1 0
row1 col2 0
row1 col3 0
row1 col4 1
row1 col5 0
... 
```

任何人都可以为我指明有助于实现这一目标的功能方向吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:30:22.463

坚持使用基础 R，您可以使用`stack`：

```
CTLong <- data.frame(rows = rownames(crosstable), stack(crosstable))
CTLong <- CTLong[order(CTLong$rows), ]
head(CTLong)
   rows values  ind
1  row1      0 col1
10 row1      0 col2
19 row1      0 col3
28 row1      1 col4
37 row1      0 col5
46 row1      0 col6 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:29:05.217

你可以`reshape2::melt`用来获得：

```
library(reshape2)
melt(cbind(rownames(crosstable),crosstable))
# Using rownames(crosstable) as id variables
#    rownames(crosstable) variable value
# 1                  row1     col1     0
# 2                  row2     col1     0
# 3                  row3     col1     1
# 4                  row4     col1     0
# 5                  row5     col1     0
# 6                  row6     col1     0
# 7                  row7     col1     0
# ... 
```

# ios - iOS上的字符串到电话号码格式

> ID：14974331
> 
> 赞同：13
> 
> 时间：2013-02-20T07:19:44.790
> 
> 标签：ios, objective-c, nsstring, phone-number

在我的应用程序中，我有一个字符串，例如：

> “3022513240”

我想这样转换：

> (302)-251-3240

**我该如何解决这个问题？**

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2015-12-08T22:34:33.977

这是一个 Swift 扩展，它将字符串格式化为 10 位数字的电话号码。

```
extension String {    
    public func toPhoneNumber() -> String {
        return stringByReplacingOccurrencesOfString("(\\d{3})(\\d{3})(\\d+)", withString: "($1) $2-$3", options: .RegularExpressionSearch, range: nil)
    }
} 
```

例如：

```
let number = "1234567890"
let phone = number.toPhoneNumber()
print(phone)
// (123) 456-7890 
```

**更新到 Swift 3.0**：

```
extension String {
    public func toPhoneNumber() -> String {
        return self.replacingOccurrences(of: "(\\d{3})(\\d{3})(\\d+)", with: "($1) $2-$3", options: .regularExpression, range: nil)
    }
} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-20T07:49:23.317

我会这样做：

例子：

```
 NSMutableString *stringts = [NSMutableString stringWithString:self.ts.text];
 [stringts insertString:@"(" atIndex:0];
 [stringts insertString:@")" atIndex:4];
 [stringts insertString:@"-" atIndex:5];
 [stringts insertString:@"-" atIndex:9];
 self.ts.text = stringts; 
```

希望这可以帮助...

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T06:05:25.433

你可以使用[这种](https://github.com/me2day/libPhoneNumber-iOS)方式

```
NSError *aError = nil;
NBPhoneNumber *myNumber1 = [phoneUtil parse:@"6766077303" defaultRegion:@"AT" error:&aError];
if (aError == nil)
{
    NSLog(@"isValidPhoneNumber ? [%@]", [phoneUtil isValidNumber:myNumber1] ? @"YES":@"NO");
    NSLog(@"E164          : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatE164]);
    NSLog(@"INTERNATIONAL : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatINTERNATIONAL]);
    NSLog(@"NATIONAL      : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatNATIONAL]);
    NSLog(@"RFC3966       : %@", [phoneUtil format:myNumber1 numberFormat:NBEPhoneNumberFormatRFC3966]);
}
else
{
    NSLog(@"Error : %@", [aError localizedDescription]);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-03-19T16:26:27.203

**斯威夫特 4.2**

```
extension String {
public func toPhoneNumber() -> String {
    return self.replacingOccurrences(of: "(\\d{3})(\\d{3})(\\d+)", with: "$1-$2-$3", options: .regularExpression, range: nil)
}} 
```

**结果**

[![结果](../Images/0b352c6d197fed2216292df27f721752.png)](https://i.stack.imgur.com/7rgZa.png)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-07-09T13:48:28.407

**斯威夫特 4.2**

处理 10 位和 11 位电话号码，这些电话号码在字符串中可能已经或可能没有格式或非数字字符。

将处理：

*   1234567890, 12345678901, 123 456 7890, 123-456-7890, (123) 456-7890, 1-234-567-8901

结果：

*   (999)-999-9999
*   1(999)-999-9999

代码：

```
extension String {

    /// Handles 10 or 11 digit phone numbers
    ///
    /// - Returns: formatted phone number or original value
    public func toPhoneNumber() -> String {
        let digits = self.digitsOnly
        if digits.count == 10 {
            return digits.replacingOccurrences(of: "(\\d{3})(\\d{3})(\\d+)", with: "($1)-$2-$3", options: .regularExpression, range: nil)
        }
        else if digits.count == 11 {
            return digits.replacingOccurrences(of: "(\\d{1})(\\d{3})(\\d{3})(\\d+)", with: "$1($2)-$3-$4", options: .regularExpression, range: nil)
        }
        else {
            return self
        }
    }

}

extension StringProtocol {

    /// Returns the string with only [0-9], all other characters are filtered out
    var digitsOnly: String {
        return String(filter(("0"..."9").contains))
    }

} 
```

例子：

```
let num = "1234567890"
let formatted = num.toPhoneNumber()
// Formatted is "(123)-456-7890" 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-20T07:23:02.940

您可以使用正则表达式`(\d{3})(\d{3})(\d{4})`并将匹配模式的输入替换为`($1)-$2-$3`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-20T07:32:11.683

您可以使用[RMPhoneFormat](https://github.com/rmaddy/RMPhoneFormat)库来格式化电话号码。格式应该复制您在联系人应用程序中看到的相同电话号码的内容。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-02-20T09:27:51.407

这是简单易行的

```
-(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
   if (string.length) {
       if (textField.text.length<=13) {
           if (textField.text.length==3) {
               NSString *tempStr=[NSString stringWithFormat:@"(%@)- ",textField.text];
               textField.text=tempStr;
           } else if (textField.text.length==8) {
               NSString *tempStr=[NSString stringWithFormat:@"%@-",textField.text];
               textField.text=tempStr;
           }
       } else {
           return NO;
       }
   }
   return YES;
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-03-23T22:05:37.197

我用[`SHSPhoneNumberFormatter`](https://github.com/Serheo/SHSPhoneComponent)来做到这一点，所以我不必更改我的类型或子类`UITextField`

要设置它：

```
let phoneNumberFormatter = SHSPhoneNumberFormatter()
phoneNumberFormatter.setDefaultOutputPattern("(###) ###-####") 
```

监听`UITextFieldTextDidChangeNotification`并运行以下命令：

```
let phoneDict = phoneNumberFormatter.valuesForString(phoneTextField.text) 
phoneTextField.text = phoneDict["text"] as? String 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-09-04T19:18:43.997

查找[RMPhoneFormat](https://github.com/rmaddy/RMPhoneFormat)，我用它很棒。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2017-03-23T10:35:31.387

**Here is a code to convert string to phone number format**

**Swift 3**

```
func PhoneNumberFormate( str : NSMutableString)->String{
        str.insert("(", at: 0)
        str.insert(")", at: 4)
        str.insert("-", at: 8)
        return str as String
    } 
```

**to use**

```
let nsMutableString = NSMutableString(string: "3022513240")
let strModify = self.PhoneNumberFormate(str: nsMutableString) 
```

# ios - “无法添加目标存储”Core Data 迁移错误

> ID：14974336
> 
> 赞同：0
> 
> 时间：2013-02-20T07:19:49.767
> 
> 标签：ios, objective-c, core-data, migration

我尝试迁移到 Core Data 中的新数据库模型版本。映射模型被成功找到

```
NSMappingModel *mappingModel = [NSMappingModel mappingModelFromBundles:nil
                                                            forSourceModel:sourceModel
                                                          destinationModel:destinationModel]; 
```

但迁移阶段

```
migrationSuccess = [standardMigrationManager migrateStoreFromURL:storeSourceUrl
                                                                    type:NSSQLiteStoreType
                                                                 options:sourceStoreOptions
                                                        withMappingModel:mappingModel
                                                        toDestinationURL:storeDestUrl
                                                         destinationType:NSSQLiteStoreType
                                                      destinationOptions:destinationStoreOptions
                                                                   error:&error]; 
```

返回错误

```
Error Domain=NSCocoaErrorDomain Code=134110 "The operation couldn\u2019t be completed. (Cocoa error 134110.)" UserInfo=0x96f0350 {NSUnderlyingError=0x96d94e0 "The operation couldn\u2019t be completed. (Cocoa error 134100.)", reason=Can't add destination store} 
```

我以前遇到过很多关于迁移的问题，但没有人看起来像这样。这是什么原因以及如何解决？

问候，
米哈乌

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:44:58.550

答案很简单。源存储 URL 和目标存储 URL 不能相同。

问候，
米哈乌

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:26:49.047

您是在模拟器还是之前运行迁移的设备上尝试此操作？在您运行迁移之前，存储是否已存在于 Documents 文件夹中？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T10:44:26.500

我认为问题出在您的模拟器中。尝试重新启动它。或者你可以从模拟器中删除你的应用程序。在此之后尝试再次编译它。

# iphone - 删除 ios Phonegap 中的应用程序滚动

> ID：14974340
> 
> 赞同：0
> 
> 时间：2013-02-20T07:20:07.220
> 
> 标签：iphone, ios, cordova, scroll, viewport

我正在使用 Phonegap 2.2.0 在 ios 中创建一个应用程序。当我构建 Phonegap 团队提供的示例应用程序时，构建成功并且应用程序运行良好。但由于 iphone 的状态栏，默认情况下有滚动。

当我从应用程序中删除状态栏时，页面的滚动已解决，但我需要在应用程序中显示该状态栏。

如何在不使用“touchmove 和 e.preventDefault()”方法的情况下删除该滚动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:27:30.437

在 Cordova.plist 中将 UIWebViewBounce 设置为 NO。您将在资源文件夹下找到 Cordova.plist。

# excel - 计算上面非空白单元格的列数

> ID：14974341
> 
> 赞同：0
> 
> 时间：2013-02-20T07:20:09.787
> 
> 标签：excel

我有一张表，其中每一行是一个时间，每一列是一个主题，每个条目都是一笔付款。对于每一次，我都想计算曾经收到付款的科目数量（即有多少科目在该行上方有非空白列）。如何在单个列中执行此操作？

谢谢你的帮助！

（从 excel 复制时遇到问题。前四列是数据；第五列是我的预期结果。# = 数字，- = 空白，| = 列分隔符。感谢 Siddharth Rout 的格式化帮助）

```
# | - | - | # || 2

- | # | - | # || 3

# | # | - | - || 3

- | - | - | - || 3

- | - | # | - || 4 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T17:57:50.177

我真的很喜欢这个问题。

我能想到的唯一方法是在工作表顶部添加一个额外的“帮助”行。

我将如何做到这一点：

*   在工作表顶部添加新行（第 1 行）
*   在单元格 A1（新插入的行）中，输入以下公式：

    `=MATCH(TRUE,INDEX((A2:A9000<>""),0),0)+1`

（这将告诉您该列中存在值的第一行 - 将 更改`A9000`为更适合您的数据的行数）：

*   将该公式拖到您拥有数据的所有列中
*   在您想要最终结果的列中（假设它是本示例的 E 列），将以下公式放入`E2`：

    `=COUNTIF($A$1:$D$1,"<="&ROW())`

*   将该公式拖到整列中，您应该会得到所需的结果。

* * *

作为解释，辅助行查找表中包含数据的第一行，最后一列仅计算该辅助行中数字小于或等于当前行号的所有值。

希望这是有道理的。

# codeigniter - 使用 Codeigniter 发送电子邮件，但请注意在邮箱中查看

> ID：14974343
> 
> 赞同：0
> 
> 时间：2013-02-20T07:20:16.793
> 
> 标签：codeigniter, email

我正在使用 CodeIgniter 发送电子邮件并使用 CPanel。这是我在 application/library 文件夹中 email.php 文件中的代码，并将电子邮件设置为自动加载。

```
$config['protocol'] = 'sendmail';
$config['mailpath'] = '/usr/sbin/sendmail';
$config['charset'] = 'iso-8859-1';
$config['wordwrap'] = TRUE;
$config['mailtype'] = 'html';
$config['smtp_host'] = 'localhost';
$config['smtp_port'] = '25';
$config['smtp_user'] = 'info@mydomain.com';
$config['smtp_pass'] = 'mypassword';
$config['validation'] = TRUE; 
```

以下是我发送电子邮件时的代码。

```
$this->email->from('noreply@mydomain.com', 'mydomain.com');
$this->email->to($rescue_email);
$this->email->bcc('support@mydomain.com');
$this->email->subject('mydomain- Request a new password');
$this->email->message($message);            
$this->email->send(); 
```

不知道为什么发不出去？在它正确发送之前。

当我使用时，

```
echo $this->email->print_debugger(); 
```

是显示器，

```
Your message has been successfully sent using the following protocol: sendmail
User-Agent: CodeIgniter
Date: Wed, 20 Feb 2013 08:31:42 +0100
From: "mydomain.com" 
Return-Path: 
To: recipient@email.com
Bcc: support@mydomain.com
Subject: =?iso-8859-1?Q?mydomain_-_Request_a_new_password?=
Reply-To: "noreply@mydomain.com" 
X-Sender: noreply@mydomain.com
X-Mailer: CodeIgniter
X-Priority: 3 (Normal)
Message-ID: <51247bdee59ff@mydomain.com>
Mime-Version: 1.0 
```

电子邮件发送成功。我在邮箱中查看我看不到的任何东西，但在垃圾邮件箱中。

# c# - 通过 ASP.NET 运行时无法使用 Microsoft.Office.Interop 编辑 word 模板 2007

> ID：14974349
> 
> 赞同：1
> 
> 时间：2013-02-20T07:20:33.980
> 
> 标签：c#, asp.net, ms-word

当我尝试使用 Microsoft.Office.Interop.Word 通过 IIS 运行我的 Web 应用程序时，我无法编辑 word 模板 2007。但在开发环境中它运行良好。下面是我的代码示例，

```
 using Word = Microsoft.Office;

            object oMissing = System.Reflection.Missing.Value;
            object oEndOfDoc = "\\endofdoc"; /* \endofdoc is a predefined bookmark */

            Object oTrue = true;
            Object oFalse = false;
            //Start Word and create a new document.
            Word.Interop.Word.Application oWord = new Word.Interop.Word.Application();
            Word.Interop.Word.Document oDoc;
            oWord.Visible = true;

            //Using Template format of the existing Word Doc
            object oTemplate = "C:\\MyTemplate.dotx";
            oDoc = oWord.Documents.Add(ref oTemplate, ref oMissing,
                ref oMissing, ref oMissing);

            //Get the Bookmark location from Template Document 
            Word.Interop.Word.Table wTbl = oDoc.Bookmarks.get_Item("Test").Range.Tables[1]; 
```

在运行 IIS 时，oDoc 以 null 的形式出现，我检查了`oWord`它作为的对象。但如果`System._Comobject`开发环境 oWord 对象以原样的形式出现`Microsoft.Office.Interop.Word`并且工作正常。

# fortran - Fortran 无法调用外部库

> ID：14974350
> 
> 赞同：0
> 
> 时间：2013-02-20T07:20:40.823
> 
> 标签：fortran, external, fujitsu-fortran

我正在尝试在我的 fortran 程序中使用一个名为“decomp_2d”的外部库。我有一个声明为“DECOMP2D”的环境变量，它指向“decomp_2d”所在的目录。该目录具有以下结构：

```
[k00603@fe01p03 2decomp_fft]$ls
doc  examples  include  lib  Makefile  README  src
[k00603@fe01p03 2decomp_fft]$ls lib/
lib2decomp_fft.a  Makefile
[k00603@fe01p03 2decomp_fft]$ls include/
decomp_2d_fft.mod  decomp_2d_io.mod  decomp_2d.mod  glassman.mod 
```

在另一个目录中，我试图调用一个使用该库的子例程的程序。但是当我这样做时，我得到一个编译时错误。我附上了我正在使用的最小 fortran 代码和我用来编译的 Makefile。这是一台富士通机器，他们有自己的 fortran 编译器，我用它来编译：

该程序：

```
 program   Sora_v71

! Use the external library
  use decomp_2d

  integer n

  call decomp_2d_init(n,n,n,n,n)

  stop
  end 
```

生成文件：

```
# Lines included for using the 2decomp libraries
INC_2DECOMP = -I$(DECOMP2D)/include/
L2DECOMP = -L$(DECOMP2D)/lib/ -l2decomp_fft

## ------------------------------------------------------
RM        =  rm
SRCDIR    = .
LIBDIR    = .
BIN       = binary
OBJS      = main.o 

## -------------------------------------------------------
mpifrtpx=$(shell which mpifrtpx)
FC=$(mpifrtpx)

FFLAGS   = $(F90FLAG) $(INC_2DECOMP) 
LFLAGS   = $(F90FLAG) -L$(LIBDIR) $(L2DECOMP)

## -------------------------------------------------------
all: $(BIN)

$(BIN): $(OBJS)
    @echo Linking $(BIN) .....
    $(FC) $(LFLAGS) -o $@ $(OBJS)

.f.o:
@echo Compiling $*.f
$(FC) $(FFLAGS) -c $(SRCDIR)/$*.f

clean:
@echo 'Cleaning .....'
$(RM) -f core *.o *~ *.L *.O $(BIN) $(SIZE_FILE) 
```

当我输入“make”时，我收到以下错误：

```
[k00603@fe01p04 test]$make
Compiling main.f
/opt/FJSVtclang/GM-1.2.0-11/bin/mpifrtpx  -I/home/hp120242/k00603/2decomp_fft//include/ -c ./main.f
Linking binary .....
/opt/FJSVtclang/GM-1.2.0-11/bin/mpifrtpx  -L. -L/home/hp120242/k00603/2decomp_fft//lib/ -l2decomp_fft -o binary main.o 
main.o: In function `MAIN__':
main.f:(.text+0x4c): undefined reference to `decomp_2d.decomp_2d_init_'
main.o:(.data+0x0): undefined reference to `decomp_2d.decomp_2d_init_'
make: *** [binary] Error 1 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T11:33:03.510

对于某些链接器，链接命令中库的顺序很重要。通常它们必须在引用它们的目标文件之后。尝试切换`$(LFLAGS)`并`$(OBJS)`在链接命令中。

# symfony - 修改消费者内部rabbitMQ发送的消息

> ID：14974353
> 
> 赞同：5
> 
> 时间：2013-02-20T07:20:57.443
> 
> 标签：symfony, rabbitmq, message-queue, amqp

*注意：*在[Symfony2](http://symfony.com/)中通过[RabbitMQBundle](https://github.com/videlalvaro/rabbitmqbundle)使用[RabbitMq](http://www.rabbitmq.com/)。

我的制作人发送这样的消息：

```
$message = array(
    'class' => get_class($receiver),
    'id' => $receiver->getId(),
    'stepNumber' => 1,
    'errorCount' => 0
); 
```

消费者`$receiver`从数据库中检索数据并向他发送电子邮件。

```
public function execute(AMQPMessage $msg)
{
    //Step1 - retrieve user from db

    //Step2 - send email

    //Step3 - update stuff in database
} 
```

为了跟踪错误，我想在每一步处理异常。如果在第3步抛出异常，我想修改`stepNumber`为3，在`errorCount`中加1 `$msg`，最后`$msg`通过return重新入队`false`。

这具有以下优点：

*   当消费者再次处理消息时，它不会再次发送电子邮件。
*   当 时`errorCount > 5`，我只是丢弃消息`return false`......

这会很棒，但是：

## 有没有办法在`$msg`RabbitMQ 重新排队之前修改它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T14:47:37.090

正如[这个](https://stackoverflow.com/a/6399894/1721056)答案所指出的，RabbitMQ 不允许您在发布消息后更改它们。当您返回 false 时，RabbitMQ 只是将原始消息放回队列中进行处理。

通过重新发布带有您想要的更改的消息，然后通过返回 true 来使用原始消息，可以获得相同的效果。您可能希望使用[默认（无名）交换](http://www.rabbitmq.com/tutorials/tutorial-three-java.html)重新发布消息，以便可以将其直接发送到您从中获取原始消息的队列。

# visual-studio-2012 - Visual Studio 2012：UML 类图和模板绑定

> ID：14974357
> 
> 赞同：3
> 
> 时间：2013-02-20T07:21:05.070
> 
> 标签：visual-studio-2012, uml

是否有人成功地为实现具有模板参数的接口的类建模？

我创建了一个接口，添加了一个模板参数 T:Class，然后我在接口中添加了一个具有继承依赖关系的类。现在文档说我必须向实现类添加一个模板绑定，以指定应该将哪种类型绑定到接口的模板参数 T：Class。但是我的类的模板绑定属性是空的（“无”是我得到的唯一项目）。

有谁知道如何建模这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-17T16:57:44.793

我有同样的问题，我找到的唯一解决方案是：[Visual Studio UML Class Diagram & Modeling of Generic Types](https://stackoverflow.com/questions/15330957/visual-studio-uml-class-diagram-modeling-of-generic-types) 这不是我想要的，但我还没有找到更好的解决方案。

# android - 如何设置启用上一个活动的按钮

> ID：14974359
> 
> 赞同：2
> 
> 时间：2013-02-20T07:21:11.747
> 
> 标签：android

我有一个活动 A>B。在活动 A 中有 2 个按钮。button1 处于启用状态，而 button2 处于禁用状态。当您单击 button1 时，您将转到活动 B。在活动 B 中有一个按钮，当您单击时，您将返回活动 A，然后 button2 应设置为启用。问题是设置为启用状态后，它会变回禁用状态。你们能给我一个更好的方法来设置按钮启用吗？

这是我的活动 A

```
public class Enable extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_enable);

    Button page1 = (Button) findViewById(R.id.button1);
    page1.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {

            Intent myIntent = new Intent(view.getContext(), p2.class);
            startActivityForResult(myIntent, 0);

        }
    });

    Button page2 = (Button) findViewById(R.id.button2);
    page2.setEnabled(false);
    page1.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {

            Intent myIntent = new Intent(view.getContext(), p2.class);
            startActivityForResult(myIntent, 0);

        }
    });
} 
```

这是我的活动 B

```
public class p2 extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.p2);

    Button page1 = (Button) findViewById(R.id.button3);
    page1.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {

            Intent myIntent = new Intent(view.getContext(), Enable.class);

            setContentView(R.layout.activity_enable);
            Button a = (Button) findViewById(R.id.button2);
            a.setEnabled(true);
            startActivityForResult(myIntent, 0);

        }
    });

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:27:05.870

你为什么不尝试这样的事情： -

发送是否要**启用或禁用**按钮，如`boolean`从`Activity`B 作为一部分`Intent`

```
myIntent.putExtra("isEnabled", "enabled"); 
```

在您的`Activity`A 中，检查`boolean`从活动 B 发送的 , 。如果它为真，则**启用**您的 , 中的按钮`onCreate()`，如果，它的`null`or `false`，**禁用**它。

```
Intent intent=getIntent();
String isEnabled = intent.getStringExtra("isEnabled");
if(isEnabled==null||isEnabled.equals("disabled")){
        page2.setEnabled(false);
}
else{
        page2.setEnabled(true);
} 
```

无论如何，这将解决您的问题。这样，无论您来自哪个按钮，您都可以启用/禁用该按钮`Activity`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:22:05.917

你应该使用`onActivityResult()`. 我看到你开始活动 b 喜欢

```
Intent myIntent = new Intent(view.getContext(), p2.class);
startActivityForResult(myIntent, 0); 
```

尝试：

在您`B Activity`单击 page1 按钮时，只需编写这些代码（只是这些）：

```
setResult(0,null);
finish(); 
```

那么在你`A Activity`使用这些代码时，首先要让你的`Button page2` `Button page1`全局。然后

```
 @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if(resultCode == 0)
           page2.setEnabled(true);

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:28:10.437

您无需从类 p2 调用 Enable。你只需要调用finish()。这将返回到调用活动，在这种情况下是启用。另一种方法是在您从 p2 调用 Enable 时设置一个额外的。所以它会像：

```
myIntent.putExtra("isEnabled", "enabled"); 
```

在 Enabled 活动的 getIntent() 中，您将执行以下操作：

```
getIntent();
String isEnabled = intent.getStringExtra("isEnabled");
page2.setEnabled(isEnabled.equals("enabled") ? true : false) ; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T07:34:41.090

B活动中

```
Button page1 = (Button) findViewById(R.id.button3);
page1.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {
        Intent myIntent = new Intent(B.this, A.class);
        myIntent.putExtra("Button", "enabled"); 
        startActivity(myIntent);
    }
}); 
```

}

在活动中

```
Intent intent=getIntent();
String enable = intent.getStringExtra("Button");
if(enable.equals("enabled")){
page2.setEnabled(true);
}
else{
page2.setEnabled(false);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T08:07:37.520

您的代码应如下所示：

```
public class ActivityA extends Activity {

  public final static int SHOW_ACTIVITY_B = 10;
  public final static String RESULT_ENABLE_BTN2 = "enable_btn2";

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_enable);

    Button btn1 = (Button) findViewById(R.id.button1);
    btn1.setOnClickListener(new View.OnClickListener() {
       public void onClick(View view) {
         Intent myIntent = new Intent(view.getContext(), ActivityB.class);
         startActivityForResult(myIntent, SHOW_ACTIVITY_B);
       }
    });

    Button btn2 = (Button) findViewById(R.id.button2);
    btn2.setEnabled(false);
    btn2.setOnClickListener(new View.OnClickListener() {
      public void onClick(View view) {
         // Do whatever you need with button #2
         // ...
      }
    });

    @Override
    protected void onActivityResult (int requestCode, int resultCode, Intent data) {
      if( resultCode == Activity.RESULT_CANCELED ) {
        // in this case ActivityB returned this code explicitly,
        // or any result at all, or even crashed
      }
      else if( requestCode == SHOW_ACTIVITY_B ) {
        btn2.setEnabled( data.getBooleanExtra( RESULT_ENABLE_BTN2, false ) );
      }
    }
} 
```

而`ActivityB`应该是这样的：

```
public class ActivityB extends Activity {
  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.p2);

    Button btn1 = (Button) findViewById(R.id.button1);
    btn1.setOnClickListener(new View.OnClickListener() {
      public void onClick(View view) {
        Intent output = getIntent();
        output.putExtra( ActivityA.RESULT_ENABLE_BTN2, true );
        setResult(RESULT_OK, output);
        finish();
      }
    });
  }
} 
```

请注意，调用 to`startActivityForResult(...)`应与被调用活动上的`setResult(...)`+结合使用`finish()`，以便正确使用此功能。您之前的代码根本不使用它，因为第二个活动会启动第一个活动的新实例。我希望这有帮助。

# iphone - 日历未在隐私设置中显示应用

> ID：14974363
> 
> 赞同：2
> 
> 时间：2013-02-20T07:21:42.583
> 
> 标签：iphone, calendar

在我的应用程序中，我添加了一个按钮来添加提醒`iPhone calendar`。我已经使用`EKEventEditViewController.`它呈现给 user 和 user `add to calender`。它在我的 iPhone 上运行，而且我发现应用程序列在`calender privacy setting`. 但客户端在“iPhone 日历隐私设置”中找不到应用程序。我必须在 plist 中进行任何设置吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T14:39:03.267

我将假设该应用程序针对 iOS 6

请记住，应用程序必须“询问”用户应用程序是否可以访问日历。

```
[eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {
        [self performSelectorOnMainThread:@selector(showCalendarEventViewControllerWithEventStore:) withObject:eventStore waitUntilDone:YES];
    }] ;

-(void) showCalendarEventViewControllerWithEventStore: (EKEventStore *) eventStore
{
    EKEventEditViewController * vc = [[EKEventEditViewController alloc] init];

    EKEvent* event = [EKEvent eventWithEventStore:eventStore];
    event.title = [NSString stringWithFormat:@"Take %@" , self.prescription.lastFilledLabelName];
    event.startDate = [[NSDate date] dateByRoundingToNextMinute:15];
    event.endDate = [event.startDate dateByAddingTimeInterval:15*60];
    event.notes = self.prescription.directions;
    EKAlarm *alarm = [EKAlarm alarmWithRelativeOffset:-15*60] ;
    event.alarms = [NSArray arrayWithObject:alarm];

    vc.eventStore = eventStore;
    vc.event = event;

    vc.editViewDelegate = self;
    vc.modalTransitionStyle = UIModalTransitionStyleCoverVertical;
    [self presentViewController:vc animated:YES completion:nil];

} 
```

用户运行应用程序一次后，该应用程序将显示在隐私设置中。

# gcc - 一些手臂内联组件

> ID：14974366
> 
> 赞同：-6
> 
> 时间：2013-02-20T07:21:46.227
> 
> 标签：gcc, arm

我有手臂组装问题。以下 armv7 汇编代码的十六进制二进制输出是什么？

```
LDR r3, #0xaabbccdd
BLX r3 
```

我需要这个代码片段的汇编输出，但我的计算机环境很差

先感谢您

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:41:08.853

正如评论者所提到的，这`LDR r3,#0xaabbccdd`不是一个有效的指令。ARM 操作码中的立即数在表单上`ZeroExtend(imm8) ROR (imm4*2)`，​​这将允许您表示 eg`0xaa000000`和`0x00bb0000`even-`0xd000000d`但不能表示 eg `0xaabb0000`or `0xaabbccdd`。

汇编器通常会提供一个伪指令来加载 32 位立即数，例如在 GAS 中你可以这样做：

```
ldr r3,=0xaabbccdd 
```

这将被编码为与 PC 相关的负载 - 即`ldr r3,[pc,#offset]`. 偏移量（以及因此确切的指令编码）取决于从指令到存储值的[文字池的距离。](http://en.wikipedia.org/wiki/Literal_pool)

# rvm - 未使用正确的 Ruby 的接收后挂钩

> ID：14974367
> 
> 赞同：3
> 
> 时间：2013-02-20T07:21:46.703
> 
> 标签：rvm, git-post-receive

请耐心等待，因为我是一个极端的新手，不太清楚我在说什么。

我正在尝试设置一个 Git 接收后挂钩来部署我的 Jekyll 站点，如此[处](https://github.com/mojombo/jekyll/wiki/Deployment)所述。它的内容是

```
#!/usr/bin/env sh

GIT_REPO=$HOME/git/jekyll.git
TMP_GIT_CLONE=$HOME/tmp/jekyll
PUBLIC_WWW=$HOME/public_html

echo $PATH

git clone $GIT_REPO $TMP_GIT_CLONE
cd $TMP_GIT_CLONE
echo "Run jekyll"
jekyll --no-auto $TMP_GIT_CLONE $PUBLIC_WWW
cd $HOME
echo "Remove temporary dir..."
rm -Rf $TMP_GIT_CLONE
echo "Temporary dir removed."
exit 
```

我正在呼应`PATH`故障排除的目的。如果我通过 ssh 登录并使用 手动执行脚本`~/git/jekyll.git/hooks/post-receive`，一切正常，控制台显示

```
remote$ ~/git/jekyll.git/hooks/post-receive
/usr/local/jdk/bin:/home7/contenw6/.rvm/gems/ruby-1.9.3-p194/bin:/home7/contenw6/.rvm/gems/ruby-1.9.3-p194@global/bin:/home7/contenw6/.rvm/rubies/ruby-1.9.3-p194/bin:/home7/contenw6/.rvm/bin:/usr/local/jdk/bin:/home7/contenw6/perl5/bin:/usr/lib64/qt-3.3/bin:/home7/contenw6/perl5/bin:/ramdisk/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11R6/bin:/home7/contenw6/ruby/gems/bin:/home7/contenw6/bin:/usr/local/bin:/usr/X11R6/bin:/home7/contenw6/ruby/gems/bin:/home7/contenw6/.rvm/bin
Cloning into '/home7/contenw6/tmp/jekyll'...
done.
Run jekyll
Configuration from /home7/contenw6/tmp/jekyll/_config.yml
Building site: /home7/contenw6/tmp/jekyll -> /home7/contenw6/public_html
Successfully generated site: /home7/contenw6/tmp/jekyll -> /home7/contenw6/public_html
Remove temporary dir...
Temporary dir removed. 
```

但是，当我`git push deploy master`使用笔记本电脑时，我收到此错误：

```
laptop$ git push deploy master
Counting objects: 5, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 305 bytes, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: /usr/libexec/git-core:/usr/local/jdk/bin:/ramdisk/bin:/usr/bin:/bin:/usr/local/bin:/usr/X11R6/bin:/home7/contenw6/ruby/gems/bin:/home7/contenw6/.rvm/bin:/home7/contenw6/.rvm/bin
remote: Cloning into '/home7/contenw6/tmp/jekyll'...
remote: done.
remote: Run jekyll
remote: /home7/contenw6/ruby/gems/gems/yajl-ruby-1.1.0/lib/yajl/yajl.so: [BUG] Segmentation fault
remote: ruby 1.8.7 (2012-02-08 MBARI 8/0x6770 on patchlevel 358) [x86_64-linux], MBARI 0x6770, Ruby Enterprise Edition 2012.02
remote: 
remote: hooks/post-receive: line 14: 30293 Aborted                 jekyll --no-auto $TMP_GIT_CLONE $PUBLIC_WWW
remote: Remove temporary dir...
remote: Temporary dir removed.
To contenw6@contentioninvain.com:~/git/jekyll.git
   154f467..80c8fcb  master -> master 
```

在我看来，当由于`post-receive`执行钩子时`git push`，正在使用错误的红宝石（1.8.7，大概是系统的？）。请注意，`PATH`每个实例中的变量都不同。

如果这就是问题所在，那就是我能想到的。我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T11:52:20.060

所以：

1）你的 shebang 是`/usr/bin/env sh`- 这不是 RVM 兼容的外壳，要么使用`zsh`要么`bash`

2）您需要以某种方式使用 RVM，当您通过`ssh`您已经使用过 RVM登录`~/.bash_profile`但在脚本中您没有加载 RVM 时，试试这个 shebang：

```
/home7/contenw6/.rvm/bin/rvm-shell 1.9.3-p194 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:38:35.090

运行您的 git master 的用户没有使用 rvm 正确设置 ruby​​。

首先，您必须找出远程运行 Git 的用户（可能是名为“git”的用户）。找到用户后，将您的`~/.rvm/`目录复制到该用户的主目录。例如，如果您的用户名是 bob，而运行 git 的用户名为 gitter，那么您必须执行以下操作：

```
sudo rm -rf /home/gitter/.rvm
sudo cp -R /home/bob/.rvm/ /home/gitter 
```

如果您的家中没有 .rvm 目录，那么以下内容会有所帮助：

```
sudo rm -rf /home/gitter/.rvm 
```

希望这可以帮助。

# java - Google App Engine + SOAPConnection 错误

> ID：14974369
> 
> 赞同：0
> 
> 时间：2013-02-20T07:22:16.873
> 
> 标签：java, google-app-engine, soap

SOAP 连接中的问题 我正在尝试建立 SOAP 连接。

```
SOAPConnection con = SOAPConnectionFactory.newInstance() .createConnection();
SOAPMessage resMsg = con.call(reqMsg, "https://www.eway.com.au/gateway/rebill/test/managerebill_test.asmx");
con.close(); 
```

我在 main() 方法上调用了这个方法，它仍然可以。但是，当我尝试调用开发环境或服务器 google appengine 时，它​​会出错。

```
 SEVERE: SAAJ0540: Error during saving a multipart message
com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Error during saving a multipart message
    at com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)
    at com.eway.soap.server.SoapRequestServlet.createCustomer(SoapRequestServlet.java:187)

Caused by: javax.xml.transform.TransformerFactoryConfigurationError: Provider org.apache.xalan.processor.TransformerFactoryImpl not found
    at javax.xml.transform.TransformerFactory.newInstance(Unknown Source) 
```

任何人以前都遇到过这个问题。你能帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:12:43.297

这可能是因为它无法从您的链接库和 CLASSPATH 中找到正确的 TransformerFactory 实现。检查这是否对您有帮助：[http ://code.google.com/p/appengine-mapreduce/issues/detail?id=9](http://code.google.com/p/appengine-mapreduce/issues/detail?id=9)

# opengl - 创建 3-D 六边形地图

> ID：14974370
> 
> 赞同：0
> 
> 时间：2013-02-20T07:22:18.437
> 
> 标签：opengl, hexagonal-tiles

我正在尝试创建一个 3-D 十六进制地图。六边形在下一个和下一个匹配的位置。像这张 [十六进制地图](http://www.c-thru-music.com/cgi/?page=layout_octaves)

用户将输入（x）行，（X）列，它会创建一个这样的地图。

我需要 3d，因为我希望能够在某个时候堆叠六边形并对其进行纹理化，但现在要质疑。我怎么画一个六边形。我对 OpenGL 还是很陌生，但我已经得到了这个来绘制一个十六进制

```
 glBegin(GL_POLYGON);
for I := 0 to 6 do
begin
  glVertex3f(sin(i/6.0*2*PI),cos(i/6.0*2*pi),-2);
end;
glEnd; 
```

不确定那是最好的方法，它只有一张脸。但它也只是制作一个巨大的六边形。当然我需要更小的。关于如何进行这个项目的任何帮助都会很棒！在我的项目中

```
prxleft  = -1
prxRight = 1
prxTop = 1
prxBottom   -1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:05:03.513

你正朝着正确的方向前进。使用 OpenGL 绘制的方法有很多，虽然人们会认为这是最快的方法，但它会在屏幕上显示一个六边形。要绘制多个六边形，请将您的`glBegin(GL_POLYGON)`...`glEnd()`片段包装在一个`for`循环中，以呈现适当数量的六边形。

要调整六边形的大小，您需要调整传入的值`glVertex3f`。在您的原始帖子中，您正在绘制一个包含在半径为 1 的圆中的六边形（因为您的`sin`和`cos`函数的系数也是一个）。如果您使用较小的半径（即小于一的值），您将获得较小的六边形。

最后，您的每个六边形当前都以原点为中心。要将它们移动到 x 和 y 中 [-1,1] 的查看区域内的不同位置，只需向传入的 x 和 y 坐标添加偏移量`glVertex3f`。由于每个六边形可能都有自己的偏移量，因此您可能希望使用一个大小适合六边形数量的数组，并通过外循环对其进行索引。

# selenium - Selenium WebDriver 异常

> ID：14974372
> 
> 赞同：0
> 
> 时间：2013-02-20T07:22:23.550
> 
> 标签：selenium

我正在使用 Selenium WebDriver 自动化我的测试用例，我得到：

```
 org.openqa.selenium.WebDriverException: Unable to bind to locking port 7054 within 45000 ms
    Build info: version: '2.30.0', revision: 'dc1ef9c', time: '2013-02-19 00:15:27'
    System info: os.name: 'Windows 7', os.arch: 'x86', os.version: '6.1', java.version: '1.7.0'
    Driver info: driver.version: FirefoxDriver
    Command duration or timeout: 47.94 seconds
    Build info: version: '2.28.0', revision: '18309', time: '2012-12-11 15:53:30'
    System info: os.name: 'Windows 7', os.arch: 'x86', os.version: '6.1', java.version: '1.7.0'
    Driver info: org.openqa.selenium.remote.RemoteWebDriver 
```

通过控制浏览器实例的异常，能解决吗？如何将浏览器实例控制为 1 或 2？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-24T12:18:21.303

我们可以通过将您的 Selenium Jar 和 Firefox 浏览器版本升级到最新版本来解决它。

docs.seleniumhq.org/download/ -Selenium JAR

www.mozilla.org/en-US/firefox/new/ -Firefox

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:09:08.757

试试下面的东西

```
By killing all firefox instances (Go to task manager and kill all firefox processes.)
or
By uninstall & install firefox. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-15T03:56:08.667

这是因为，当您升级旧版本的 Firefox 或升级 Firefox 浏览器时。这样，Webdriver 绑定端口与 Firefox 不匹配。

1.  只需卸载firefox并重新安装firefox。
2.  下载最新的 Selenium Webdriver

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-12T13:27:02.217

将您的 Selenium 服务器升级到最新的。最新的 Firefox 版本带来了这些问题。降级您的 Firefox 版本。

# html - 为什么 Curl/Wget 会弄乱这个网页的编码系统？

> ID：14974373
> 
> 赞同：1
> 
> 时间：2013-02-20T07:22:24.753
> 
> 标签：html, curl, encoding, web, wget

例如，这个页面：

[http://www.bilibili.tv/sitemap/sitemap-29.html](http://www.bilibili.tv/sitemap/sitemap-29.html)

以 utf-8 编码。但是当我使用`wget`或`curl`将其保存为文件时，例如：

```
curl http://www.bilibili.tv/sitemap/sitemap-29.html > 29.html 
```

然后使用网络浏览器打开它。我发现它无法识别正确的编码系统。有人对此有想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T15:53:44.497

如果您使用网络浏览器并直接尝试从文件系统打开文档，这与通过 www.bilibili.tv 网络服务器访问它不同。在 HTML 内容本身旁边，网络服务器会发送多个 HTTP 响应，其中 Content-Type 是其中之一。在这种情况下，它很可能会发送：

```
Content-Type: text/html; charset=utf-8 
```

这将指示浏览器它接收到的文档是 HTML，以 UTF-8 编码。通过文件系统访问相同的 HTML 内容时缺少此信息。浏览器将尝试从内容本身推断字符集，但这可能会失败，就像您的情况一样。

# python - 用另一个 Django 替换一些字符串部分

> ID：14974374
> 
> 赞同：0
> 
> 时间：2013-02-20T07:22:30.710
> 
> 标签：python, django, replace

你好。在我的模板文件中，我得到了字段的值

```
{{product.description}} 
```

它给了我`br`描述中的标签。我该如何替换它们？实际上，我已经将产品从 magento 迁移到了 django。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:24:21.737

您可以使用 django 内置的模板标签“安全”：

```
{{product.description|safe}} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:24:34.080

您可以使用[StripTag](https://docs.djangoproject.com/en/dev/ref/templates/builtins/#striptags)过滤器

```
{{ value|striptags }} 
```

# css - 放大和缩小时从 div 溢出的文本

> ID：14974376
> 
> 赞同：1
> 
> 时间：2013-02-20T07:22:33.020
> 
> 标签：css, html, zooming

我在 div 中有一个文本。当我调整页面的缩放级别时，div 内的文本移出 div。我要求文本保持原样保留在 div 中，而不是调整 div 的宽度。

我的 div 是：

```
 <div style="width: 463px; 
height: auto; 
min-height: 0px; 
overflow: visible; 
border: 3px dashed rgb(2, 158, 217); 
margin-left: 18px; 
max-width: 466px; 
color: rgb(0, 0, 0); 
font-size: 12px; 
font-family: arimo; 
font-weight: 400; 
font-style: normal; 
text-align: start;
 white-space: nowrap; 
line-height: 1.231;
padding-left: 3.5px;" wrap="off" name="nowrap" id="changedtext5" class="textdrag">asdksjadksja&nbsp;kldjaslkjd&nbsp;jasdiwie&nbsp;qowyruasdasd&nbsp;kajskjd&nbsp;kjaskldjlka;sdioewyriosudfrds</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:40:23.250

`overflow:visible;`允许文本逃脱分隔线的限制。将此设置为`overflow:hidden;`将隐藏任何设法移出分隔线的文本。

我不知道这是否是您想要的解决方案，因为它最终会隐藏文本。

如果您希望它滚动，请使用`overflow-x:scroll;`.

# c++ - 如何清除 C++/XAML 中的文本框文本

> ID：14974380
> 
> 赞同：0
> 
> 时间：2013-02-20T07:23:00.523
> 
> 标签：c++, xaml

我是 C++/XAML 新手，使用 VS2012，在我的第一个 Windows 8 应用程序上工作。

我创建了一个带有数字的文本框1，另一个显示结果的文本框2，另一个按钮，一旦单击它，它就会进行计算。一切正常，我的问题是当用户想要再次进行计算时，他需要点击 textbox1，按退格键擦除最后输入的数字，当点击并点击 textbox1 时，我该如何做到这一点，它会自动清除以前输入的文字？或者我如何使用/制作“CLEAR”按钮来处理 textbox1 和 textbox2 的文本清除？谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:07:01.070

您可以使用

SetWindowText 是一个设置编辑控件内容的函数

m_myEditCtrl.SetWindowText(_T("")); // 如果使用 MFC

SetWindowText(hWndMyEditCtrl,_T("")); // 使用普通 Win32 API 时

myEditCtrl.Text = ""; // 使用 C++CLI 时

如果需要，您也可以从“单击时”处理程序中使用它！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:51:46.500

带按钮：

```
<Button Content="Clear" Name="button1" Click="button1_Click" /> 
```

后面的代码：

```
void YourClass::button1_Click(Platform::Object^ sender, Windows::UI::Xaml::RoutedEventArgs^ args)
{
    textBox1->Text = "";
    textBox2->Text = "";
} 
```

如果你想在点击或其他东西时使用一些逻辑，你应该看看 Tapped 事件。我会以另一种方式来做：每当它获得焦点（GotFocus 事件）时，然后选择文本框中的所有文本（textBox1->SelectAll(); 在 GotEvent 处理程序中）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-24T18:24:38.930

我认为这可能很有用，如果您只是在适用于您的文本框的程序末尾添加一个新按钮：

```
textBox2->Text = String::Empty;
textBox1->Text = String::Empty; 
```

或者

…您可以在程序开始之前添加这些代码行，就在程序的开头。每次它都会以空白重新开始。

干杯。

# java - SNMP 中的缺失值

> ID：14974390
> 
> 赞同：0
> 
> 时间：2013-02-20T07:23:35.920
> 
> 标签：java, snmp, snmp4j

我使用来自 org.snmp4j 的 snmp4j 版本 1.10.1，这是我的陷阱接收器代码，用于从 snmp 陷阱捕获数据。

```
public class TrapReceiver extends Thread implements CommandResponder {

//@Autowired
private CarService carService;
List<PDUv1> listPdu = new ArrayList<PDUv1>();
List<PDUv1> temp = new ArrayList<PDUv1>();  
String message = "";
int totReceivedTrap = 0;

public TrapReceiver(CarService carService){
    this.carService = carService;
}

public synchronized void processPdu(CommandResponderEvent cmdRespEvent) {
    PDUv1 pdu = (PDUv1) cmdRespEvent.getPDU();
    if (pdu != null) {
        System.out.println(pdu.getVariableBindings().toString());           
    }
    totReceivedTrap++;
    System.out.println("total received trap "+totReceivedTrap);
}

public void run() {
    while (true) {
        try { 
            this.listen(new UdpAddress("192.168.1.5/162")); //alamat PDU akan listen
        } catch (Exception e) {
            e.printStackTrace();
        } 
    }
}

public synchronized void listen(TransportIpAddress address) throws IOException {
    AbstractTransportMapping transport;
    if (address instanceof TcpAddress) {
        transport = new DefaultTcpTransportMapping((TcpAddress) address);
    } else {
        transport = new DefaultUdpTransportMapping((UdpAddress) address);
    }

    ThreadPool threadPool = ThreadPool.create("DispatcherPool", 10);
    MessageDispatcher mDispathcher = new MultiThreadedMessageDispatcher(
            threadPool, new MessageDispatcherImpl());

    // add message processing models
    mDispathcher.addMessageProcessingModel(new MPv1());
    mDispathcher.addMessageProcessingModel(new MPv2c());

    // add all security protocols
    SecurityProtocols.getInstance().addDefaultProtocols();
    SecurityProtocols.getInstance().addPrivacyProtocol(new Priv3DES());

    // Create Target
    CommunityTarget target = new CommunityTarget();
    target.setCommunity(new OctetString("public"));

    Snmp snmp = new Snmp(mDispathcher, transport);
    snmp.addCommandResponder(this);

    transport.listen();
    message ="Listening on " + address;
    System.out.println(message);

    try {
        this.wait();
    } catch (InterruptedException ex) {
        Thread.currentThread().interrupt();
    }
}

public String getMessage(){
    return this.message;
}   
} 
```

但是缺少一个变量值，这个变量的值是纬度和经度（格式：-903849323.20384;+230349402.03000）。当我使用wireshark捕获数据时，我得到的值也丢失了。

截图 [http://www.mediafire.com/view/?kjz1drb9jhda88a](http://www.mediafire.com/view/?kjz1drb9jhda88a) [http://www.mediafire.com/view/?ov6lqn6u9n669my](http://www.mediafire.com/view/?ov6lqn6u9n669my)

为什么数据为空，有什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T16:27:00.953

如果您在wireshark捕获的数据包中没有看到值，那么您在代码中获取空值是完全有效的。你还能期待什么？

这似乎更有可能是设备上运行的 SNMP 代理的问题/功能（例如，未设置地理位置、GPS 信号不可用等）

# jquery - Bootstrap Datepicker - 仅限月份和年份

> ID：14974394
> 
> 赞同：130
> 
> 时间：2013-02-20T07:23:59.737
> 
> 标签：jquery, twitter-bootstrap

我正在使用引导日期选择器，我的代码如下所示，在[jsfiddle上的代码演示](http://jsfiddle.net/Kz2sW/)

```
<div class="input-append date" id="datepicker" data-date="02-2012" 
     data-date-format="mm-yyyy">

 <input  type="text" readonly="readonly" name="date" >    
 <span class="add-on"><i class="icon-th"></i></span>      
</div>      

$("#datepicker").datepicker({
        viewMode: 'years',
         format: 'mm-yyyy'
    }); 
```

上面的代码运行良好，但我想做的是只允许用户选择月份和年份。

你能告诉我该怎么做吗？

* * *

## 回答 #1

> 赞同：300
> 
> 时间：2013-02-20T07:40:27.297

这个怎么样 ：

```
$("#datepicker").datepicker( {
    format: "mm-yyyy",
    viewMode: "months", 
    minViewMode: "months"
}); 
```

参考：[Bootstrap 的日期选择器](http://www.eyecon.ro/bootstrap-datepicker/)

* * *

对于 1.2.0 及更高版本，`viewMode`已更改为`startView`，因此请使用：

```
$("#datepicker").datepicker( {
    format: "mm-yyyy",
    startView: "months", 
    minViewMode: "months"
}); 
```

另请参阅[文档](http://bootstrap-datepicker.readthedocs.org/en/latest/options.html#startdate)。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-11-22T05:10:05.387

请注意，在 1.2.0 版本中，`viewMode`已更改为`startView`.

例如：

```
$('#sandbox-container input').datepicker({
  startView: 1,
  minViewMode: 1
}); 
```

[http://eternicode.github.io/bootstrap-datepicker/?markup=component&format=yyyy&weekStart=&startDate=&endDate=&startView=2&minViewMode=2&todayBtn=false&language=zh-CN&orientation=auto&autoclose=on&forceParse=on#sandbox](http://eternicode.github.io/bootstrap-datepicker/?markup=component&format=yyyy&weekStart=&startDate=&endDate=&startView=2&minViewMode=2&todayBtn=false&language=zh-CN&orientation=auto&autoclose=on&forceParse=on#sandbox)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-01-05T12:12:32.570

我使用的是版本 2（同时支持 bootstrap v2 和 v3），对我来说这有效：

```
$("#datepicker").datepicker( {
    format: "mm/yyyy",
    startView: "year", 
    minView: "year"
}); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-04-22T18:58:50.143

对于最新`bootstrap-datepicker`版本（撰写本文时为 1.4.0），您需要使用以下命令：

```
$('#myDatepicker').datepicker({
    format: "mm/yyyy",
    startView: "year", 
    minViewMode: "months"
}) 
```

来源：[*引导日期选择器选项*](http://bootstrap-datepicker.readthedocs.org/en/latest/options.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-03-09T06:36:30.427

我正在将引导日历用于未来日期，不允许仅在月份和年份中更改..

```
var j = jQuery.noConflict();
        j(function () {
            j(".datepicker").datepicker({ dateFormat: "dd-M-yy" }).val()
        });

        j(function () {
            j(".Futuredatenotallowed").datepicker({
                changeMonth: true,
                maxDate: 0,
                changeYear: true,
                dateFormat: 'dd-M-yy',
                language: "tr"
            }).on('changeDate', function (ev) {
                $(this).blur();
                $(this).datepicker('hide');
            }).val()
        }); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-01-06T07:44:01.467

你应该只`minViewMode: "months"`在你的 datepicker 函数中添加。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-01-22T22:43:38.830

要查看当年的月份，并且只查看月份，请使用这种格式 - 它只需要当年的月份。它也可以被限制，以便显示一定数量的月份。

```
<input class="form-control" id="txtDateMMyyyy"  autocomplete="off" required readonly/>

<script>
('#txtDateMMyyyy').datetimepicker({
    format: "mm/yyyy",
    startView: "year",
    minView: "year"
}).datetimepicker("setDate", new Date());
</script> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-04-20T00:31:00.187

您好，如果您只想获得一年，这将对您有所帮助

```
 $('.date-own').datepicker({
     minViewMode: 2,
     format: 'yyyy'
   }); 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2014-10-31T06:17:27.890

为什么不调用`$('.input-group.date').datepicker("remove");`选择语句时更改然后设置您的日期选择器视图然后调用`$('.input-group.date').datepicker("update");`

# php - 使用 mysql php 自动更新图像，我会假设 javascript

> ID：14974398
> 
> 赞同：0
> 
> 时间：2013-02-20T07:24:12.653
> 
> 标签：php, javascript, jquery, mysql, dynamic

好吧，所以我在谷歌上搜索了我想要做的事情，但似乎找不到我正在寻找的东西。

我想做的是每秒更新一张图片，这张图片用于消息图标，类似于 Facebook 的。没有页面刷新，需要使用 Jquery 更新元素（首选）。我对这方面的 java 脚本知之甚少，但是只要我知道告诉 java 脚本做什么，我就可以做 PHP 和 MySQL 方面。

我想真正的问题是：如何根据 MySQL 数据库中的任何更改进行图像更新？对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:48:55.233

尝试类似：

```
window.setInterval(function() {
    $.get("url", { parameters: egTime}, function(response) {
        if($("#myImage").attr("src") != response)
            $("#myImage").attr("src", response);
    })
}, 1000); 
```

服务器必须将图像的新 src 作为字符串返回；-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:00:05.383

您可以先使用 jQuery 设置间隔。参考这个问题；

[JavaScript - jQuery 区间](https://stackoverflow.com/questions/7546565/javascript-jquery-interval)

然后，您可以在该时间间隔执行 ajax 请求以检查数据库中的新条目。在 MySQL 中，创建一个标志条目来识别该条目是新的还是旧的（例如将 0 设置为旧的，将 1 设置为新的）。在每个 ajax 请求中，如果有任何状态为 1 的条目，则 PHP 可能会返回具有 1（即，可能大于 1）的条目数作为 ajax 结果。然后状态应该设置为0。在javascript ajax中，您可以检查返回值是否为0或其他。如果为 0，那么您无需执行任何操作。如果为 1，那么您可以更改某些元素的 css 属性（例如更改背景颜色），以使其成为通知。当用户单击该元素时，css 可能会恢复为默认值。

# php - 按标签列出兄弟页面

> ID：14974400
> 
> 赞同：1
> 
> 时间：2013-02-20T07:24:17.723
> 
> 标签：php, wordpress, tagging

我正在尝试列出父页面的所有兄弟（子）页面。这很容易。但是我已经标记了每个兄弟子页面，并且我想像这样组织我的列表：

```
Term 1
  - Child/Sibling Page 1
  - Child/Sibling Page 2
  - Child/Sibling Page 4
Term 2
  - Child/Sibling Page 3
Term 4
  - Child/Sibling Page 5
  - Child/Sibling Page 6
  - Child/Sibling Page 7 
```

我需要这个列表出现在父页面和每个兄弟子页面上。到目前为止，这是我列出所有兄弟页面的内容：

```
<?php if($post->post_parent): ?>
<?php $children = wp_list_pages('title_li=&child_of='.$post->post_parent.'&echo=0'); ?>
<?php else: ?>
<?php $children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0'); ?>
<?php endif; ?>
<?php if ($children) { ?>
<ul class="subpage-list">
<?php echo $children; ?>
</ul>
<?php } ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T17:38:04.987

我相信我可能已经想出了一个答案。这段代码可能有点粗糙，但据我所知，它可以根据需要工作：

```
<?php 
if($post->post_parent):
  $postparent = $post->post_parent;
else: 
  $postparent = $post->ID;
endif; 

$nextTagThumb='-1';
$tags = wp_get_post_tags($postparent);
foreach ($tags as $tag) :

  if ($tags) {
    $what_tag = $tags[($nextTagThumb+'1')]->term_id;
    $tag_title = $tags[($nextTagThumb+'1')]->name;
    echo '<div class="Saving_sare">'. "\n";
    echo '<h4>'.$tag_title.'</h4>'. "\n";
    echo '<ul>'. "\n";
    $args=array(
      'tag__in' => array($what_tag),
      'post__not_in' => array($postparent),
      'showposts'=>100,
      'caller_get_posts'=>1
    );
    $my_query = new WP_Query($args);
    if( $my_query->have_posts() ) {
      while ($my_query->have_posts()) : $my_query->the_post(); ?>
        <li><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></li>
      <?php endwhile;
    }
    echo '</ul>'. "\n";
    echo '</div>'. "\n";
    wp_reset_query();
    $nextTagThumb = ($nextTagThumb+1);
  }
endforeach; 
?> 
```

# c# - Socket编程多客户端一服务器

> ID：14974404
> 
> 赞同：19
> 
> 时间：2013-02-20T07:24:40.063
> 
> 标签：c#, multithreading, sockets

我刚刚开始使用 C# 进行套接字编程，现在有点卡在这个问题上。如何在不为每个客户端创建线程的情况下在单个服务器上处理多个客户端？

当有 10 个客户端时，每个客户端的一个线程工作正常，但是如果客户端数量上升到 1000 个客户端，是否建议为每个客户端创建一个线程？如果还有其他方法可以做到这一点，有人可以给我打电话吗？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-20T07:42:25.100

尝试使用异步服务器。下面的示例程序创建了一个接收来自客户端的连接请求的服务器。服务器是使用异步套接字构建的，因此服务器应用程序的执行在等待来自客户端的连接时不会暂停。应用程序从客户端接收一个字符串，在控制台上显示该字符串，然后将该字符串回显给客户端。来自客户端的字符串必须包含字符串 "" 以表示消息的结束。

```
 using System;
    using System.Net;
    using System.Net.Sockets;
    using System.Text;
    using System.Threading;

    // State object for reading client data asynchronously
    public class StateObject {
        // Client  socket.
        public Socket workSocket = null;
        // Size of receive buffer.
        public const int BufferSize = 1024;
        // Receive buffer.
        public byte[] buffer = new byte[BufferSize];
    // Received data string.
        public StringBuilder sb = new StringBuilder();  
    }

    public class AsynchronousSocketListener {
        // Thread signal.
        public static ManualResetEvent allDone = new ManualResetEvent(false);

        public AsynchronousSocketListener() {
        }

        public static void StartListening() {
            // Data buffer for incoming data.
            byte[] bytes = new Byte[1024];

            // Establish the local endpoint for the socket.
            // The DNS name of the computer
            // running the listener is "host.contoso.com".
            IPHostEntry ipHostInfo = Dns.Resolve(Dns.GetHostName());
            IPAddress ipAddress = ipHostInfo.AddressList[0];
            IPEndPoint localEndPoint = new IPEndPoint(ipAddress, 11000);

            // Create a TCP/IP socket.
            Socket listener = new Socket(AddressFamily.InterNetwork,
                SocketType.Stream, ProtocolType.Tcp );

            // Bind the socket to the local endpoint and listen for incoming connections.
            try {
                listener.Bind(localEndPoint);
                listener.Listen(100);

                while (true) {
                    // Set the event to nonsignaled state.
                    allDone.Reset();

                    // Start an asynchronous socket to listen for connections.
                    Console.WriteLine("Waiting for a connection...");
                    listener.BeginAccept( 
                        new AsyncCallback(AcceptCallback),
                        listener );

                    // Wait until a connection is made before continuing.
                    allDone.WaitOne();
                }

            } catch (Exception e) {
                Console.WriteLine(e.ToString());
            }

            Console.WriteLine("\nPress ENTER to continue...");
            Console.Read();

        }

        public static void AcceptCallback(IAsyncResult ar) {
            // Signal the main thread to continue.
            allDone.Set();

            // Get the socket that handles the client request.
            Socket listener = (Socket) ar.AsyncState;
            Socket handler = listener.EndAccept(ar);

            // Create the state object.
            StateObject state = new StateObject();
            state.workSocket = handler;
            handler.BeginReceive( state.buffer, 0, StateObject.BufferSize, 0,
                new AsyncCallback(ReadCallback), state);
        }

        public static void ReadCallback(IAsyncResult ar) {
            String content = String.Empty;

            // Retrieve the state object and the handler socket
            // from the asynchronous state object.
            StateObject state = (StateObject) ar.AsyncState;
            Socket handler = state.workSocket;

            // Read data from the client socket. 
            int bytesRead = handler.EndReceive(ar);

            if (bytesRead > 0) {
                // There  might be more data, so store the data received so far.
                state.sb.Append(Encoding.ASCII.GetString(
                    state.buffer,0,bytesRead));

                // Check for end-of-file tag. If it is not there, read 
                // more data.
                content = state.sb.ToString();
                if (content.IndexOf("<EOF>") > -1) {
                    // All the data has been read from the 
                    // client. Display it on the console.
                    Console.WriteLine("Read {0} bytes from socket. \n Data : {1}",
                        content.Length, content );
                    // Echo the data back to the client.
                    Send(handler, content);
                } else {
                    // Not all data received. Get more.
                    handler.BeginReceive(state.buffer, 0, StateObject.BufferSize, 0,
                    new AsyncCallback(ReadCallback), state);
                }
            }
        }

        private static void Send(Socket handler, String data) {
            // Convert the string data to byte data using ASCII encoding.

      byte[] byteData = Encoding.ASCII.GetBytes(data);

        // Begin sending the data to the remote device.
        handler.BeginSend(byteData, 0, byteData.Length, 0,
            new AsyncCallback(SendCallback), handler);
    }

    private static void SendCallback(IAsyncResult ar) {
        try {
            // Retrieve the socket from the state object.
            Socket handler = (Socket) ar.AsyncState;

            // Complete sending the data to the remote device.
            int bytesSent = handler.EndSend(ar);
            Console.WriteLine("Sent {0} bytes to client.", bytesSent);

            handler.Shutdown(SocketShutdown.Both);
            handler.Close();

        } catch (Exception e) {
            Console.WriteLine(e.ToString());
        }
    }   

    public static int Main(String[] args) {
        StartListening();
        return 0;
    }
} 
```

那将是最好的解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:43:36.737

线程可以正常工作，但很少能很好地扩展到那么多客户端。有两种简单的方法和许多更复杂的方法来处理它，这里有一些伪代码，说明通常如何构造更容易的两种方法，以便为您提供概述。

**选择（）**

This is a call to check which sockets have new clients or data waiting on them, a typical program looks something like this.

```
server = socket(), bind(), listen()
while(run)
   status = select(server)
   if has new client
       newclient = server.accept()
       handle add client
   if has new data
       read and handle data 
```

Which means no threads are needed to handle multiple clients, but it doesn't really scale well either if handle data take a long time, then you won't read new data or accept new clients until that's done.

**Async sockets**

This is another way of handling sockets which is kind of abstracted above select. You just set up callbacks for common events and let the framework do the not-so-heavy lifting.

```
 function handleNewClient() { do stuff and then beginReceive(handleNewData) }
 function handleNewData() { do stuff and then beginReceive(handleNewData) }
 server = create, bind, listen etc
 server.beginAddNewClientHandler(handleNewClient)
 server.start() 
```

I think this should scale better if your data handling take a long time. What kind of data handling will you be doing?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:01:13.150

[This](https://stackoverflow.com/questions/14044852/20-receives-per-second-with-socketasynceventargs) could be a good starting point. If you want to avoid 1 thread <-> 1 client; then you should use async socket facilities provided in .NET. Core object to use here is [SocketAsyncEventArgs](http://msdn.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx).

# android - Android Phonegap 获取语言环境

> ID：14974405
> 
> 赞同：0
> 
> 时间：2013-02-20T07:24:41.340
> 
> 标签：android, html, cordova

我正在尝试获取手机的本地化详细信息。但它返回一个错误。以下是我使用的代码，它是 PhoneGap API 文档的示例（[http://docs.phonegap.com/en/2.2.0/cordova_globalization_globalization.md.html](http://docs.phonegap.com/en/2.2.0/cordova_globalization_globalization.md.html)）。

```
 function checkLocale() {
  navigator.globalization.getLocaleName(
    function (locale) {alert('locale: ' + locale.value + '\n');},
    function () {alert('Error getting locale\n');}
  );
} 
```

您对此的帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:29:43.813

我阅读了您的链接的文档，它说需要在 android 中授予权限：

权限

安卓

在**app/res/xml/config.xml**

```
<plugin name="Globalization" value="org.apache.cordova.Globalization" /> 
```

希望对您有所帮助。问候，丹尼尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-12T09:37:15.387

我解决了它在 phonegap config.xml 中添加权限。

```
 <access origin="*"/> <!-- allow all pages -->
    <!--
        <access origin="http://phonegap.com" />                    - allow any secure requests to http://phonegap.com/
        <access origin="http://phonegap.com" subdomains="true" />  - same as above, but including subdomains, such as http://build.phonegap.com/
        <access origin="http://phonegap.com" browserOnly="true" /> - only allows http://phonegap.com to be opened by the child browser.
    -->

    <!-- Globalization plugin configuration-->
    <feature name="Globalization">
        <param name="android-package" value="org.apache.cordova.globalization.Globalization" />
    </feature>
</widget> 
```

# c# - 从 IIS 托管的应用程序通过 SSL 访问 Web 服务时出错

> ID：14974408
> 
> 赞同：1
> 
> 时间：2013-02-20T07:24:51.433
> 
> 标签：c#, wcf, iis, certificate

这已经困扰了我三天了，经过大量的谷歌搜索后，我决定发布一个问题。我有一个 WCF 服务应用程序（“本地服务”），它安全地连接到“远程 Web 服务”（Java）（2 路证书身份验证）。

我的服务端配置：

```
<system.serviceModel>
  <bindings>
      <basicHttpBinding>
          <binding name="IhAdapterPortBinding" closeTimeout="00:01:00"
              openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
              allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
              maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
              messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
              useDefaultWebProxy="true">
              <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                  maxBytesPerRead="4096" maxNameTableCharCount="16384" />
              <security mode="Transport">
                  <transport clientCredentialType="Certificate" proxyCredentialType="None"
                      realm="" />
                  <message clientCredentialType="UserName" algorithmSuite="Default" />
              </security>
          </binding>              
      </basicHttpBinding>
  </bindings>
  <client>
      <endpoint address="https://someserver.com:8085/IhAdapter" binding="basicHttpBinding"
          bindingConfiguration="IhAdapterPortBinding" contract="IHAdapter.IhAdapter"
          name="IhAdapterPort" behaviorConfiguration="IHAdapterEndpointBehavior" />       
  </client>
<services>
  <service name="SomeCompany.SomeService">
    <endpoint address="" binding="basicHttpBinding"
      contract="SomeCompany.ISomeService" />
  </service>
</services>
<behaviors>
  <endpointBehaviors>
    <behavior name="IHAdapterEndpointBehavior">
             <clientCredentials>
                  <clientCertificate storeLocation="LocalMachine" storeName="My" findValue="123...abc" x509FindType="FindByThumbprint"/>
                  <serviceCertificate>
                       <authentication certificateValidationMode="None" revocationMode="NoCheck"/>
                  </serviceCertificate>
             </clientCredentials>
        </behavior>
  </endpointBehaviors>
  <serviceBehaviors>
    <behavior name="">
      <serviceMetadata httpGetEnabled="true" />
      <serviceDebug includeExceptionDetailInFaults="true" />
    </behavior>
  </serviceBehaviors>
</behaviors>
<serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true" /> 
```

现在来解决问题。在 Visual Studio Web 开发服务器中托管服务或从本地测试客户端 (.exe) 调用远程服务时，调用成功。但是当本地服务是 IIS 托管（本地主机或其他服务器 IIS）时，我得到异常：

无法为具有权限“ [https://someserver.com:8085](https://someserver.com:8085) ”的 SSL/TLS 建立安全通道

内部异常：

请求被中止：无法创建 SSL/TLS 安全通道。

到目前为止我尝试或检查的内容：

*   正确的证书存储位置（本地计算机，而不是用户）
*   私钥权限（去MMC，找到证书，右键单击，所有任务，管理私钥，设置为所有人的所有权限）
*   将 IIS 应用程序用户 (Connect As) 设置为具有管理权限的本地用户

还有一件事：当前的远程服务器证书是为另一个主机名颁发的，所以我必须以编程方式覆盖验证。所以要在本地服务中创建一个远程服务对象，我有这些代码行：

```
ServicePointManager.Expect100Continue = true;
ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3;
ServicePointManager.ServerCertificateValidationCallback = ((senderParam, certificate, chain, sslPolicyErrors) => true);

IHAdapter.IhAdapterClient ihAdapter = new IHAdapter.IhAdapterClient();

ihAdapter.SomeMethod(parameters); // the exception gets thrown here 
```

我还能错过什么？任何想法，指针？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T11:05:50.527

好的，回答我自己的问题。

基于此链接：[How to give ASP.NET access to a private key in a certificate in the certificate store?](https://stackoverflow.com/questions/2609859/how-to-give-asp-net-access-to-a-private-key-in-a-certificate-in-the-certificate) 我解决了我的问题。

我的解决方案的关键是这个清单：

1.  创建/购买证书。确保它有一个私钥。
2.  将证书导入“本地计算机”帐户。最好使用证书 MMC。**确保选中“允许导出私钥”**
3.  基于此，IIS 7.5 应用程序池的标识使用以下之一：
    *   IIS 7.5 网站在 ApplicationPoolIdentity 下运行。使用证书 MMC，将“IIS AppPool\AppPoolName”添加到“本地计算机\个人”中证书的完全信任中。将“AppPoolName”替换为您的应用程序池的名称。
    *   IIS 7.5 网站在 NETWORK SERVICE 下运行。使用证书 MMC，将“网络服务”添加到“本地计算机\个人”中证书的完全信任中。
    *   IIS 7.5 网站在“MyIISUser”本地计算机用户帐户下运行。使用证书 MMC，将“MyIISUser”（一个新的本地计算机用户帐户）添加到“本地计算机\个人”中证书的完全信任中。

我几乎可以肯定地做了所有这些事情，但显然从来没有一次全部在一起。希望这对其他人有帮助。无论如何感谢所有的帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:36:18.477

我认为所有这些消息都是由于链中的某些机器（客户端、代理、服务器）由于某种原因不“喜欢”证书。

要详细说明 twk 所说的内容，如果您使用的是自签名证书或您自己的 CA，您需要至少在服务器上的受信任的权威存储中安装签名证书，并且可能在代理上。

我遇到的常见问题：

*   服务器上的证书未由 PROXY 或 CLIENT 信任的机构签署
*   CLIENT 上的证书未由 PROXY 或 SERVER 信任的权威机构签署
*   糟糕，我在创建要安装在客户端上的证书时忘记导出私钥
*   我的进程对客户端上的私钥没有读取权限
*   客户端证书受密码保护，我在读取证书时没有指定凭据。

更多访问[无法创建 SSL/TLS 安全通道 - 问题可能出在代理服务器上吗？](https://stackoverflow.com/questions/1600743/could-not-create-ssl-tls-secure-channel-could-the-problem-be-a-proxy-server)

# android - findViewById(int) 方法未定义

> ID：14974409
> 
> 赞同：1
> 
> 时间：2013-02-20T07:24:58.273
> 
> 标签：android, android-fragments, fragment, android-fragmentactivity

我正在扩展片段，我得到这个错误说，该方法`findViewById(int)`未定义类型 Song。

findViewById 上的进度条和 webview 都会出现错误。

```
public class Song extends Fragment{

    ProgressBar progressBar;

    @Override

    public View onCreateView(LayoutInflater inflater, ViewGroup container,

    Bundle savedInstanceState) {

    View myFragmentView = inflater.inflate(R.layout.song, container, false);

    return myFragmentView;

    progressBar = (ProgressBar)findViewById(R.id.progressBar);

    final WebView mWebView = (WebView)findViewById(R.id.Browsery);

    mWebView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);

    mWebView.loadUrl("....");

    mWebView.setWebViewClient(new WebViewClient(){

    public void onPageFinished(WebView view, String url){

    progressBar.setVisibility(View.INVISIBLE);
    }

    }); 
```

请我需要帮助

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T07:29:01.670

您以错误的方式查找视图，`view object`在 findViewById 时追加如下：

```
 progressBar = (ProgressBar)myFragmentView.findViewById(R.id.progressBar);
 final WebView mWebView = (WebView)myFragmentView.findViewById(R.id.Browsery); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:27:29.033

你应该这样做。

```
ImageView imageView = (ImageView) getView().findViewById(R.id.XYZ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:29:47.543

```
public class Song extends Fragment{

ProgressBar progressBar;

@Override

public View onCreateView(LayoutInflater inflater, ViewGroup container,

Bundle savedInstanceState) {

View myFragmentView = inflater.inflate(R.layout.song, container, false);

progressBar = (ProgressBar)myFragmentView.findViewById(R.id.progressBar);

final WebView mWebView = (WebView)myFragmentView.findViewById(R.id.Browsery);
 return myFragmentView;

mWebView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);

mWebView.loadUrl("....");

mWebView.setWebViewClient(new WebViewClient(){

public void onPageFinished(WebView view, String url){

progressBar.setVisibility(View.INVISIBLE);
}

}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:03:57.063

`myFragmentView`你在得到你的`progressBar`and之前就回来了`webView`。您的代码应修改为：

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,
    Bundle savedInstanceState) {

    View myFragmentView = inflater.inflate(R.layout.song, container, false);

    progressBar = (ProgressBar)myFragmentView.findViewById(R.id.progressBar);

    final WebView mWebView = (WebView)myFragmentView.findViewById(R.id.Browsery);

     /// your code ....
     /// .......

    // this should be the last line of your onCreateView()
    return myFragmentView;
} 
```

# python-3.x - 如果另一个列表包含要删除的元素的索引，如何从一个列表中删除元素

> ID：14974411
> 
> 赞同：0
> 
> 时间：2013-02-20T07:25:02.363
> 
> 标签：python-3.x

我有两个列表 - lista = [1,2,3,5,0,5,6,0] listb = [4,7]

listb 包含索引号。如何从列表中删除索引 4 和 7（包含在 lisb 中）。

因此，我想将 new_lista 打印为 [1,2,3,5,5,6]

我希望这是有道理的。

阿尔维娜

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T17:33:24.040

您可以尝试关注。

```
for x in sorted(listb,reverse=True): lista.pop(x) 
```

此外，您可能需要确保 listb 不包含重复索引并且所有索引号都是有效索引。

```
for x in sorted(set([y for y in listb if -1 < y < len(lista)]),reverse=True): lista.pop(x) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:45:00.513

使用`enumerate`：

```
new_lista = [j for i, j in enumerate(lista) if i not in listb] 
```

# javascript - 如何在 JavaScript 或 GWT 中获取页面尺寸

> ID：14974412
> 
> 赞同：2
> 
> 时间：2013-02-20T07:25:04.197
> 
> 标签：javascript, gwt

在网页中，我需要获取最大 x 和 y 坐标。

这是如何使用 JavaScript 或 GWT 特定代码实现的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T07:33:38.493

看看这个`Window`类，它有获取客户端高度/宽度的方法：

*   [获取客户端高度](http://google-web-toolkit.googlecode.com/svn/javadoc/1.5/com/google/gwt/user/client/Window.html#getClientHeight%28%29)
*   [获取客户端宽度](http://google-web-toolkit.googlecode.com/svn/javadoc/1.5/com/google/gwt/user/client/Window.html#getClientWidth%28%29)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T07:46:10.377

**GWT :**

```
import com.google.gwt.user.client.Window;

int height =Window.getClientHeight();
int width =Window.getClientWidth(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:35:00.817

您可以使用`scrollHeight`and`scrollWidth`来获取整个页面尺寸。

```
var pageheight=document.body.scrollHeight ;
var pageweight=document.body.scrollWidth; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-12-17T00:05:52.293

要获取浏览器窗口的大小，请使用：

```
Window.getClientHeight()
Window.getClientWidth() 
```

要获取 html 页面的大小，请使用：

```
Document.get().getScrollHeight()
Document.get().getScrollWidth() 
```

# sql - 选择具有“dataname”数据的行/列

> ID：14974413
> 
> 赞同：-2
> 
> 时间：2013-02-20T07:25:09.237
> 
> 标签：sql, database

是否有一个选择查询，我可以在其中找到一个包含名为“Hello”的数据的列。我不是在单个表上寻找数据，而是在整个数据库上寻找数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:36:26.940

@aedz：这里有一些建议/提示，基本上这很容易用谷歌搜索：

微软SQL：

*   [SQL Server：在所有表中搜索特定 GUID](https://stackoverflow.com/questions/970477/sql-server-search-all-tables-for-a-particular-guid)
*   [http://gallery.technet.microsoft.com/scriptcenter/c0c57332-8624-48c0-b4c3-5b31fe641c58](http://gallery.technet.microsoft.com/scriptcenter/c0c57332-8624-48c0-b4c3-5b31fe641c58)
*   [http://vyaskn.tripod.com/search_all_columns_in_all_tables.htm](http://vyaskn.tripod.com/search_all_columns_in_all_tables.htm)
*   [在数据库的所有表、行和列中搜索字符串](https://stackoverflow.com/questions/591853/search-for-a-string-in-an-all-the-tables-rows-and-columns-of-a-db)
*   [http://justgeeks.blogspot.de/2006/10/search-ms-sql-server-for-any-text.html](http://justgeeks.blogspot.de/2006/10/search-ms-sql-server-for-any-text.html)
*   [http://www.sqlservercentral.com/Forums/Topic419243-8-1.aspx](http://www.sqlservercentral.com/Forums/Topic419243-8-1.aspx)
*   [http://www.mssqltips.com/sqlservertip/1522/searching-and-finding-a-string-value-in-all-columns-in-a-sql-server-table/](http://www.mssqltips.com/sqlservertip/1522/searching-and-finding-a-string-value-in-all-columns-in-a-sql-server-table/)
*   [http://www.mssqltips.com/sqlservertip/1555/sql-server-find-and-replace-values-in-all-tables-and-all-text-columns/](http://www.mssqltips.com/sqlservertip/1555/sql-server-find-and-replace-values-in-all-tables-and-all-text-columns/)

mysql:

*   [在 mysql 数据库中搜索所有出现的字符串](https://stackoverflow.com/questions/562457/search-for-all-occurrences-of-a-string-in-a-mysql-database)
*   [从 MySQL 数据库的每个表中搜索所有字段](https://stackoverflow.com/questions/639531/mysql-search-in-all-fields-from-every-table-from-a-database)
*   [在所有字段、表和数据库中搜索字符串的 MySQL 工具](https://stackoverflow.com/questions/11624611/mysql-tool-that-searches-for-a-string-in-all-fields-tables-and-databases)
*   [mySQL 查询在数据库中的所有表中搜索字符串？](https://stackoverflow.com/questions/7523039/mysql-query-to-search-all-tables-within-a-database-for-a-string)
*   [http://kedar.nitty-witty.com/blog/search-through-all-databases-tables-columns-in-mysql](http://kedar.nitty-witty.com/blog/search-through-all-databases-tables-columns-in-mysql)

# java - 活动之间的共享，第一类扩展了活动，但其他不

> ID：14974419
> 
> 赞同：0
> 
> 时间：2013-02-20T07:25:39.347
> 
> 标签：java, android, sqlite, android-intent, android-activity

我有这个接受用户输入的代码，我基本上想从用户那里获取一个小型联系人应用程序的姓名和电话号码。当用户在 EditText 字段中输入数据时，我提取数据并执行此操作 -

```
 String _name,_phone;
        _name=name.getText().toString();
        _phone=phone.getText().toString();
        Intent in = new Intent(this, DatabaseHandler.class);
        in.putExtra("name", _name);
        in.putExtra("phone", _phone);
        startActivity(in); 
```

但另一个类不是从 Activity 类继承的，而是从“SQLiteOpenHelper”继承的

> > 公共类 DatabaseHandler 扩展 SQLiteOpenHelper

所以方法

```
 `getIntent().getExtras().get("name");` 
```

`不起作用，可能是因为该类不是从 Activity 或其他东西继承的。那么，如何将数据从第一个活动共享到名为“DatabaseHandler”的第二个活动

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:38:46.897

而不是使用意图，为什么不使用共享首选项在其中放置任何您想要的值，这样您就可以在应用程序中的任何地方获得不需要的活动，只需将上下文传递给该类以使用共享首选项.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:42:48.200

您可以使用两种技术： 1\. 借助`Application`课程。或 2\. 寻求帮助`SharedPreference`。

我将讲述第二种方法。因为它易于使用。

`SQLiteOpenHelper`在打电话之前在你的课堂上`DatabaseHandler`写下：

```
SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(_context);
SharedPreferences.Editor editor = prefs.edit();
editor.putString("username", your_username);
editor.putInt("password", your_password);
editor.commit(); 
```

现在打电话`DatabaseHandler`，也过去了`_context`。

现在在你的`DatabaseHandler`课堂上写下这个：

```
SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(context);
String username = prefs.getString("username");
String password = prefs.getInt("password"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:58:07.630

你不能只使用 getter 和生产者的实例来获取价值吗？就像是

生产者.java

```
public String getName() {
    return username;
}

public String getPwd() {
    return password;
} 
```

并在消费者类中使用它们，例如：

消费者.java

```
Producer producer = new Producer();
producer.getName();
producer.getPwd(); 
```

您还可以参考[如何在不扩展 Activity 的类中使用 getIntent()？](https://stackoverflow.com/questions/14937410/how-to-use-getintent-in-a-class-that-does-not-extend-activity/14937577#14937577)`

# sql-server-2008 - SQL 批量插入 CSV

> ID：14974426
> 
> 赞同：1
> 
> 时间：2013-02-20T07:26:35.310
> 
> 标签：sql-server-2008, csv, bulkinsert

我有一个 csv 逗号分隔文件，其中包含以下格式的数十万条记录：

```
3212790556,1,0.000000,,0
3212790557,2,0.000000,,0 
```

现在使用 SQL Server 导入平面文件方法很有效。我可以编辑 sql，使表名和列名有意义。另外，我还将数据类型从默认的 varchar(50) 编辑为 int 或 decimal。这一切正常，sql导入能够成功导入。

但是，我无法使用批量插入查询来执行相同的任务，如下所示：

```
BULK
INSERT temp1
FROM 'c:\filename.csv'
WITH
(
FIELDTERMINATOR = ',',
ROWTERMINATOR = '\n'
)
GO 
```

此查询返回以下 3 个错误，我不知道如何解决：

```
Msg 4866, Level 16, State 1, Line 1
The bulk load failed. The column is too long in the data file for row 1, column 5\. Verify that the field terminator and row terminator are specified correctly.
Msg 7399, Level 16, State 1, Line 1
The OLE DB provider "BULK" for linked server "(null)" reported an error. The provider did not give any information about the error.
Msg 7330, Level 16, State 2, Line 1
Cannot fetch a row from OLE DB provider "BULK" for linked server "(null)". 
```

我的应用程序的目的是在一个文件夹中有多个 csv 文件，所有这些文件都需要放在一个表中，以便我可以查询值的总和。目前我正在考虑用 C# 编写一个程序，该程序将在循环中执行 BULK 插入（根据文件数），然后返回我的结果。我猜我不需要编写代码，我可以编写一个脚本来完成所有这些 - 任何人都可以引导我走向正确的道路:)

非常感谢。

编辑：刚刚添加

```
ERRORFILE = 'C:\error.log' 
```

到查询中，我插入了 5221 行。有时是 5222，有时是 5222，但超出这一点就失败了。不知道什么问题？？？CSV 非常好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:57:16.267

哭泣。哇！！！！

我不敢相信在 ROWTERMINATOR 中用“0x0A”替换 \n 有效！！！我是认真的。我刚试了一下，它奏效了。WTF时刻！完全。

然而，有点有趣的是，SQL 导入向导也只需大约 10 秒即可导入。导入查询花了一分钟多的时间。有什么猜测吗？？

# c - stackInit 函数出现段错误，我不明白为什么

> ID：14974430
> 
> 赞同：0
> 
> 时间：2013-02-20T07:26:45.847
> 
> 标签：c, data-structures, struct, stack, dynamic-arrays

我不熟悉使用结构和我们当前的任务，我们必须在字符串中读取

例如：“{{asdfd<>}}()()()(((())))”

每次我们看到一个“{,[,(,<”我们都必须把它压入堆栈，每次我们看到上述字符的关闭版本我们都必须弹出堆栈。当数组需要增长时，它需要增长两个。

我知道我们必须在结构中至少有三个变量（元素、堆栈大小、堆栈顶部）。

当我在 GDB 中运行我的程序时，它会在第一个“init”函数中出现故障。我已经坚持了一段时间。有人可以向我解释我做错了什么。

谢谢！

编辑：让我知道是否还有其他需要发布的内容。再次感谢！

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct dynArrStruct
{
    char *location;
    int length;
    int currSize;
}dynArr;

int checkFlag(int, char**); //checks for the -d flag
void init(struct dynArrStruct*, int);
void push(struct dynArrStruct*, char);
void printAll(struct dynArrStruct*);

int main(int argc, char** argv)
{
    int testFlag, i, size = 0;
    char line[300];
    dynArr* a1;

    printf("Enter a string to be checked: ");
    scanf("%s", line);

    init(a1, strlen(line));

    if(argc > 1)
        testFlag = checkFlag(argc, argv);

    for(i = 0; i < strlen(line); i++)
        if(line[i] == '(' || line[i] == '{' || line[i] == '[' || line[i] == '<')
        {
            size += 2;
            init(a1, size);
            //rest of code here
        }
     // stuff
}

void init(dynArr* a, int size)
{
    a->location = (char *)malloc(sizeof(char) * (size_t)(size));  //SEGFAULT
    a->length = size;
    a->currSize = 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:28:14.683

您不为`dynArr`. 在堆上分配内存：

```
dynArr* a1 = malloc(sizeof(dynArr)); 
```

或者在堆栈上分配它并使用地址操作符将它作为指向`init`函数的指针传递：

```
dynArr a1;

/* ... */

init(&a1, strlen(line)); 
```

# java - URL 中的 AJAX 变量不会出现在 XMLHttpRequest.open() 之后

> ID：14974434
> 
> 赞同：0
> 
> 时间：2013-02-20T07:26:49.877
> 
> 标签：java, javascript, ajax, jsp, url

我正在用 Java EE 制作一个应用程序，并想使用 Ajax 来更新一些东西。只有参数没有出现在 URL 中。

好的网址：localhost:8080/Weblog/AddComment?commenttext=example&postid=3

这是在浏览器栏中显示为 URL 的内容：localhost:8080/Weblog/AddComment

Javascript：

```
function doAddComment() {
    var url = "AddComment?commenttext="+newcommentcontent.value+"&postid="+postid.value;
    var req = getXHR();
    req.onreadystatechange = function()  
    { processRequestChange(req); 
      req.open("GET", url, true);
      req.send(null);
    }
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:29:38.613

您正在使用 Ajax 发出请求，而不是将浏览器发送到新页面。浏览器栏显示当前页面的 URL，而不是最后请求的 HTTP 资源的 URL。

如果您想操作地址栏以获得历史记录，请使用[历史记录 API ，您可以在通过 Ajax 获取数据时来回浏览。](https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T13:21:54.467

我不得不将 GET 更改为 POST。

```
function doAddComment() {
    var url = "AddComment?commenttext="+newcommentcontent.value+"&postid="+postid.value;
    var req = getXHR();
    req.onreadystatechange = function()  
    { processRequestChange(req); 
      req.open("POST", url, true);
      req.send(null);
    }
} 
```

现在它可以工作了。

# android - 使用 ZXING 库的 Android 二维码扫描器

> ID：14974435
> 
> 赞同：1
> 
> 时间：2013-02-20T07:26:51.577
> 
> 标签：android, qr-code, zxing

我正在按照这个材料[在 Android 中实现 QRCode Scanner](http://phpmyweb.net/2012/07/18/integrating-zxing-in-your-android-app-as-standalone-scanner/)。

一步一步地，在我的应用程序中实现以下代码后，我在**GingerbreadOpenCameraInterface.java**类中遇到错误。下图是我面临的错误。

![在此处输入图像描述](../Images/bfd5b2e10c6c1eec9414f680e1ac52a7.png)

它显示错误为：

```
 1\. The method `getNumberOfCameras()` is undefined for the type Camera
  2\. `CameraInfo` cannot be resolved or is not a field 
```

以下是**清单文件**：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.demo.qrdemo"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="9"/>

<uses-permission android:name="android.permission.CAMERA"/>
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.VIBRATE"/>
<uses-permission android:name="android.permission.FLASHLIGHT"/>
<uses-permission android:name="android.permission.READ_CONTACTS"/>
<uses-permission android:name="com.android.browser.permission.READ_HISTORY_BOOKMARKS"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<uses-permission android:name="android.permission.CHANGE_WIFI_STATE"/>
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>

 <uses-feature android:name="android.hardware.camera"/>
 <uses-feature android:name="android.hardware.camera.autofocus" android:required="false"/>
<uses-feature android:name="android.hardware.camera.flash" android:required="false"/>
<uses-feature android:name="android.hardware.screen.landscape"/>
<uses-feature android:name="android.hardware.wifi" android:required="false"/>
<uses-feature android:name="android.hardware.touchscreen" android:required="false"/>

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".QRDemo"
        android:label="title_activity_qrdemo" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>

    <intent-filter>
    <action android:name="com.google.zxing.client.android.SCAN"/>
    <category android:name="android.intent.category.DEFAULT"/>
  </intent-filter>
    </activity>
</application> 
```

谁能帮我解决以下问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:32:52.820

确保您使用 API 级别 >= 9，同时确保您导入了正确的`Camera`类（不止一个）。你需要`android.hardware.Camera`.

编辑（在您发布一些代码之后）：

替换这个

```
<uses-sdk android:minSdkVersion="7"/> 
```

和

```
<uses-sdk android:minSdkVersion="9"/> 
```

# python - 获取美国 ASCII 字符集 - Python

> ID：14974436
> 
> 赞同：0
> 
> 时间：2013-02-20T07:27:02.057
> 
> 标签：python, unicode, ascii

我意识到我可以使用内置`ord`的`unichr`python 函数来获取字符的 unicode，反之亦然。但是，是否有 ASCI 字符集中所有可能字符的列表，我可以通过调用 python 中的函数或某些 API 来访问？

换句话说，我可以在这里访问此列表[吗？](http://www.columbia.edu/kermit/ascii.html)通过一些函数调用？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T07:29:10.107

底部的 128 个 Unicode 代码点*是*ASCII，因此，只要您将自己限制在 0 到 127 之间的序数值`unichr`（或仅`chr`在 Python 3 中）就可以正常工作。

例如，下面的 Python 2.6.6 程序（当然是老式的，但我更喜欢这种形式的教学）：

```
print " | 0 1 2 3 4 5 6 7 8 9 A B C D E F"
print "-+--------------------------------"

for row in range(2,8):
    s = "%d|"%(row)
    for col in range(0,16):
        if row != 7 or col != 15:                   # 7F is non-printable
            s = "%s %s"%(s,unichr(row * 16 + col))
    print s 
```

为您输出 ASCII 表（好吧，无论如何，可打印位）：

```
 | 0 1 2 3 4 5 6 7 8 9 A B C D E F
-+--------------------------------
2|   ! " # $ % & ' ( ) * + , - . /
3| 0 1 2 3 4 5 6 7 8 9 : ; < = > ?
4| @ A B C D E F G H I J K L M N O
5| P Q R S T U V W X Y Z [ \ ] ^ _
6| ` a b c d e f g h i j k l m n o
7| p q r s t u v w x y z { | } ~ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:40:25.297

```
>>> from unicodedata import name, category
>>> for i in range(128):
    c = unichr(i)
    print hex(i), i, category(c), name(c, '--')

0x0 0 Cc --
0x1 1 Cc --
0x2 2 Cc --
0x3 3 Cc --
0x4 4 Cc --
0x5 5 Cc --
0x6 6 Cc --
0x7 7 Cc --
0x8 8 Cc --
0x9 9 Cc --
0xa 10 Cc --
0xb 11 Cc --
0xc 12 Cc --
0xd 13 Cc --
0xe 14 Cc --
0xf 15 Cc --
0x10 16 Cc --
0x11 17 Cc --
0x12 18 Cc --
0x13 19 Cc --
0x14 20 Cc --
0x15 21 Cc --
0x16 22 Cc --
0x17 23 Cc --
0x18 24 Cc --
0x19 25 Cc --
0x1a 26 Cc --
0x1b 27 Cc --
0x1c 28 Cc --
0x1d 29 Cc --
0x1e 30 Cc --
0x1f 31 Cc --
0x20 32 Zs SPACE
0x21 33 Po EXCLAMATION MARK
0x22 34 Po QUOTATION MARK
0x23 35 Po NUMBER SIGN
0x24 36 Sc DOLLAR SIGN
0x25 37 Po PERCENT SIGN
0x26 38 Po AMPERSAND
0x27 39 Po APOSTROPHE
0x28 40 Ps LEFT PARENTHESIS
0x29 41 Pe RIGHT PARENTHESIS
0x2a 42 Po ASTERISK
0x2b 43 Sm PLUS SIGN
0x2c 44 Po COMMA
0x2d 45 Pd HYPHEN-MINUS
0x2e 46 Po FULL STOP
0x2f 47 Po SOLIDUS
0x30 48 Nd DIGIT ZERO
0x31 49 Nd DIGIT ONE
0x32 50 Nd DIGIT TWO
0x33 51 Nd DIGIT THREE
0x34 52 Nd DIGIT FOUR
0x35 53 Nd DIGIT FIVE
0x36 54 Nd DIGIT SIX
0x37 55 Nd DIGIT SEVEN
0x38 56 Nd DIGIT EIGHT
0x39 57 Nd DIGIT NINE
0x3a 58 Po COLON
0x3b 59 Po SEMICOLON
0x3c 60 Sm LESS-THAN SIGN
0x3d 61 Sm EQUALS SIGN
0x3e 62 Sm GREATER-THAN SIGN
0x3f 63 Po QUESTION MARK
0x40 64 Po COMMERCIAL AT
0x41 65 Lu LATIN CAPITAL LETTER A
0x42 66 Lu LATIN CAPITAL LETTER B
0x43 67 Lu LATIN CAPITAL LETTER C
0x44 68 Lu LATIN CAPITAL LETTER D
0x45 69 Lu LATIN CAPITAL LETTER E
0x46 70 Lu LATIN CAPITAL LETTER F
0x47 71 Lu LATIN CAPITAL LETTER G
0x48 72 Lu LATIN CAPITAL LETTER H
0x49 73 Lu LATIN CAPITAL LETTER I
0x4a 74 Lu LATIN CAPITAL LETTER J
0x4b 75 Lu LATIN CAPITAL LETTER K
0x4c 76 Lu LATIN CAPITAL LETTER L
0x4d 77 Lu LATIN CAPITAL LETTER M
0x4e 78 Lu LATIN CAPITAL LETTER N
0x4f 79 Lu LATIN CAPITAL LETTER O
0x50 80 Lu LATIN CAPITAL LETTER P
0x51 81 Lu LATIN CAPITAL LETTER Q
0x52 82 Lu LATIN CAPITAL LETTER R
0x53 83 Lu LATIN CAPITAL LETTER S
0x54 84 Lu LATIN CAPITAL LETTER T
0x55 85 Lu LATIN CAPITAL LETTER U
0x56 86 Lu LATIN CAPITAL LETTER V
0x57 87 Lu LATIN CAPITAL LETTER W
0x58 88 Lu LATIN CAPITAL LETTER X
0x59 89 Lu LATIN CAPITAL LETTER Y
0x5a 90 Lu LATIN CAPITAL LETTER Z
0x5b 91 Ps LEFT SQUARE BRACKET
0x5c 92 Po REVERSE SOLIDUS
0x5d 93 Pe RIGHT SQUARE BRACKET
0x5e 94 Sk CIRCUMFLEX ACCENT
0x5f 95 Pc LOW LINE
0x60 96 Sk GRAVE ACCENT
0x61 97 Ll LATIN SMALL LETTER A
0x62 98 Ll LATIN SMALL LETTER B
0x63 99 Ll LATIN SMALL LETTER C
0x64 100 Ll LATIN SMALL LETTER D
0x65 101 Ll LATIN SMALL LETTER E
0x66 102 Ll LATIN SMALL LETTER F
0x67 103 Ll LATIN SMALL LETTER G
0x68 104 Ll LATIN SMALL LETTER H
0x69 105 Ll LATIN SMALL LETTER I
0x6a 106 Ll LATIN SMALL LETTER J
0x6b 107 Ll LATIN SMALL LETTER K
0x6c 108 Ll LATIN SMALL LETTER L
0x6d 109 Ll LATIN SMALL LETTER M
0x6e 110 Ll LATIN SMALL LETTER N
0x6f 111 Ll LATIN SMALL LETTER O
0x70 112 Ll LATIN SMALL LETTER P
0x71 113 Ll LATIN SMALL LETTER Q
0x72 114 Ll LATIN SMALL LETTER R
0x73 115 Ll LATIN SMALL LETTER S
0x74 116 Ll LATIN SMALL LETTER T
0x75 117 Ll LATIN SMALL LETTER U
0x76 118 Ll LATIN SMALL LETTER V
0x77 119 Ll LATIN SMALL LETTER W
0x78 120 Ll LATIN SMALL LETTER X
0x79 121 Ll LATIN SMALL LETTER Y
0x7a 122 Ll LATIN SMALL LETTER Z
0x7b 123 Ps LEFT CURLY BRACKET
0x7c 124 Sm VERTICAL LINE
0x7d 125 Pe RIGHT CURLY BRACKET
0x7e 126 Sm TILDE
0x7f 127 Cc -- 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T07:41:03.403

> 是否有 ASCI 字符集中所有可能字符的列表，我可以通过调用 python 中的函数或某些 API 来访问？

不，没有内置支持，但你总是可以用几个内置支持滚动一个

```
map(unichr, range(128)) 
```

如果使用 Py3.X，由于没有 unicode 和 non-unicode 的区别，你需要使用`chr`. 还`map`返回一个`map`对象，需要将其转换为`list`

```
list(map(chr, range(128))) 
```

相反，如果您需要所有 ascii 字符的字符串，则可以同时加入结果列表

```
''.join(map(unichr, range(128)))

''.join(map(chr, range(128))) 
```

# apache-kafka - 淘宝开源项目Metamorphosis和Timetunnel有什么区别？

> ID：14974437
> 
> 赞同：0
> 
> 时间：2013-02-20T07:27:03.310
> 
> 标签：apache-kafka, log-analysis

我想建立一个日志聚合系统，我找到了淘宝开发的这些工具。它们都可以用来收集日志以进行进一步的处理和分析。它们之间有什么不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T04:42:01.663

如果你能看懂中文，有更多细节[http://rdc.taobao.com/team/jm/archives/921](http://rdc.taobao.com/team/jm/archives/921)。

1.  使用基于测试的协议，如 memcached。
2.  变形是用Java编写的。
3.  使用自定义的存储结构。
4.  支持同步和异步订阅 api。
5.  提高服务器恢复性能。
6.  添加实时状态接口，如 memcached 状态。
7.  支持客户端连接重用。

# java - 使用会话 bean

> ID：14974439
> 
> 赞同：0
> 
> 时间：2013-02-20T07:27:04.600
> 
> 标签：java, javabeans

我有 2 个会话 bean。

```
class A{
private Sting name;
}

class B{
} 
```

如何在 B bean 中获取 A.name？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:58:29.670

您可以在**A 类中****公开**变量并为**A 类**创建一个**对象** 例如

 ******公共类 B {

```
public static void main(String args[]) {
    A testEx = new A();
    String testexample = testEx.name;
    System.out.print(testexample);
} 
```

}

公共类 A{ 公共字符串名称；

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T12:55:50.740

为**每个 bean 类**设置**Key** ，并使用已经存储在 session 中的**key**调用所需类的对象。******

# sql-server - 将三列引用到sql server 2000中另一个表中的同一列

> ID：14974444
> 
> 赞同：-4
> 
> 时间：2013-02-20T07:27:19.707
> 
> 标签：sql-server

我有一个问题`SQL Server 2000`，我需要从数据库中获取报告。我有一个数据库`Automation`，它包含一组表来处理我们应用程序的票务过程的查询。

我需要从数据库中提取一份报告，该报告应包含*票号*和*用户信息*，例如谁输入、接收、编辑、查看了该票。

我需要数据库中的这些字段

```
Ticketnumber
billnumber
companyname
enteredby(username)
entereddate
recievedby(username)
recieveddate
editedby(Employeename)
editeddate
reviewedby(ReviewerName)
revieweddate
postedby(Managername)
posteddate 
```

我有三张桌子
1>`VPP_VendorBilldetails`

```
BillentryID | ticketnumber | billnumber | VENDORNAME,BILLNUMBER,COSTCENTERNAME,BILLAMOUNT,TICKETDATE,BILLDATE | companyID(not companyname) | billdate | Enteredby(userid)| entereddate | recievedby(userid) | recieveddate | editedby(userid) | editeddate | reviewedby(userid) | revieweddate | postedby(userid) | posteddate 
```

2>`Users`

```
UserID | employeeID | employeename |loginID| Password | usertype | status 
```

3> `VPP_ClientCompanyDetails`：

```
companyid | companyname | companyaddress | status 
```

我已经写了这个查询，但我得到了所有三个类别的相同员工姓名：

```
 SELECT CLIENTCOMPANYNAME,  TICKETNUMBER,VENDORNAME,BILLNUMBER,COSTCENTERNAME,BILLAMOUNT,TICKETDATE,BILLDATE,
    RECIEVEDDATE,EMPLOYEENAME AS EXECUTIVENAME,
        VPP_VENDORBILLDETAILS.MODIFIEDDATE,
        EMPLOYEENAME AS REVIEWERNAME,EMPLOYEENAME AS POSTEDBY,POSTEDDATE,ERRORCODE,
        IMPACTCODE,ROOTCAUSE,REVIEWERREMARKS
        FROM 
    VPP_VENDORBILLDETAILS 

    INNER JOIN 
    VPP_CLIENTCOMPANYDETAILS 
    ON VPP_VENDORBILLDETAILS.BILLENTEREDCOMPANYID = VPP_CLIENTCOMPANYDETAILS.CLIENTCOMPANYID

    INNER JOIN USERS 
    ON VPP_VENDORBILLDETAILS.MODIFIEDBY = USERS.USERID

    WHERE CONVERT(VARCHAR(12),CONVERT(DATETIME,POSTEDDATE,103),101) 
        BETWEEN CONVERT(DATETIME,CONVERT(VARCHAR(12),getdate()-7,100),101) 
        AND CONVERT(DATETIME,CONVERT(VARCHAR(12),getdate()-1,100),101)

        AND VPP_CLIENTCOMPANYDETAILS.STATUS = 1 AND VPP_VENDORBILLDETAILS.STATUS = 1 AND USERS.STATUS = 1 AND ERRORCODE IS NOT NULL AND TALLYID IS NOT NULL

        ORDER BY CLIENTCOMPANYNAME ASC 
```

请检查并帮助我

请帮我提取上述表格的报告..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T12:08:30.100

尝试这个 ：

```
SELECT CLIENTCOMPANYNAME,  TICKETNUMBER,VENDORNAME,BILLNUMBER,COSTCENTERNAME,BILLAMOUNT,TICKETDATE,BILLDATE,
    RECIEVEDDATE,U1.EMPLOYEENAME AS EXECUTIVENAME,
        VPP_VENDORBILLDETAILS.MODIFIEDDATE,
        U2.EMPLOYEENAME AS REVIEWERNAME,U3.EMPLOYEENAME AS POSTEDBY,POSTEDDATE,ERRORCODE,
        IMPACTCODE,ROOTCAUSE,REVIEWERREMARKS
        FROM 
    VPP_VENDORBILLDETAILS 

    INNER JOIN 
    VPP_CLIENTCOMPANYDETAILS 
    ON VPP_VENDORBILLDETAILS.BILLENTEREDCOMPANYID = VPP_CLIENTCOMPANYDETAILS.CLIENTCOMPANYID

    INNER JOIN USERS U1
    ON VPP_VENDORBILLDETAILS.recievedby = U1.USERID

    INNER JOIN USERS U2
    ON VPP_VENDORBILLDETAILS.MODIFIEDBY = U2.USERID

    INNER JOIN USERS U3
    ON VPP_VENDORBILLDETAILS.postedby = U3.USERID

    WHERE CONVERT(VARCHAR(12),CONVERT(DATETIME,POSTEDDATE,103),101) 
        BETWEEN CONVERT(DATETIME,CONVERT(VARCHAR(12),getdate()-7,100),101) 
        AND CONVERT(DATETIME,CONVERT(VARCHAR(12),getdate()-1,100),101)

        AND VPP_CLIENTCOMPANYDETAILS.STATUS = 1 AND VPP_VENDORBILLDETAILS.STATUS = 1 AND USERS.STATUS = 1 AND ERRORCODE IS NOT NULL AND TALLYID IS NOT NULL

        ORDER BY CLIENTCOMPANYNAME ASC 
```

# html - 为什么我不能让导航栏在页面上居中？

> ID：14974445
> 
> 赞同：0
> 
> 时间：2013-02-20T07:27:23.513
> 
> 标签：html, css

下面是我的html

```
 <div id="wrap">

<ul class="navbar">
      <li><a href="">Home</a></li>
      <li><a href="">Franchises</a>
        <ul>
        <li><a href="">elroyz Xpress</a></li>
        <li><a href="">skye stickbeetles</a></li>
        <li><a href="">Juddamania</a></li>
        </ul>
      </li>
      <li><a href="">Fixtures</a>
        <ul>
        <li><a href="">Round 1</a></li>
        <li><a href="">Round 2</a></li>
        <li><a href="">Round 3</a></li>
        <li><a href="">Round 4</a></li>
        <li><a href="">Round 5</a></li>
        </ul>
      </li>
      <li><a href="">Free Agents</a>
        <ul>
        <li><a href="">Adelaide</a></li>
        <li><a href="">Brisbane</a></li>
        <li><a href="">Carlton</a></li>
        </ul>
      </li>
</ul>
 </div> 
```

下面是我的 CSS

```
 #wrap {
    width:100%;
    height: 37px;
    margin: 0;
    z-index:99;
    position:relative;
    background-color:#F00;}

.navbar {
    height: 35px;
    padding:0;
    margin: 0;
    position:absolute;
    border-right: 1px solid #1c1c1c;
}

    .navbar li  {
            height: auto;
            width: 150px;  
            float: left;  
            text-align: center;  
            list-style: none;  
            font: normal bold 14px/1.2em Arial, Verdana, Helvetica;  
            padding: 0;
            margin: 0;
            background-color: #F00
                        }

.navbar a   {                           
        padding: 10px 0;
        border-left: 1px solid #1c1c1c;
        border-right: 1px solid #1c1c1c; 
        text-decoration: none;
        color: white;
        display: block;
        }

 .navbar li:hover, a:hover {background-color: #a4a4a4;} 

.navbar li ul   {
        display: none;
        height: auto;                                   
        margin: 0; 
        padding: 0;         
        }               

.navbar li:hover ul     {
                        display: block;
                        }

.navbar li ul li {background-color: #a4a4a4;}

.navbar li ul li a  {
        border-left: 1px solid #1c1c1c; 
        border-right: 1px solid #1c1c1c; 
        border-top: 1px solid #1c1c1c; 
        border-bottom: 1px solid #1c1c1c; 
        }

.navbar li ul li a:hover    {background-color: #1c1c1c;} 
```

我只是 html 和 css 的新手，所以我很难让导航栏在页面中居中。中心我的意思是实际的列表项在页面中居中，而不是像现在这样在左侧。非常感谢任何帮助谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:32:17.373

您必须将换行的宽度设置为像这样以像素为单位的东西

```
#wrap {
width:750px; // Set it according to your need
margin: 0px auto;  // i also changed this
height: 37px;
z-index:99;
position:relative;
background-color:#F00;} 
```

以及边距`0px auto`

这是[**JSfiddle**](http://jsfiddle.net/GMURe/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:35:51.050

你需要添加`width`和`margin`自动到你`navbar`我做了一个小 [jsFiddle](http://jsfiddle.net/NwpnS/)

```
.navbar {
    height: 35px;
    width:610px;
    margin:0 auto;
} 
```

[jsFiddle](http://jsfiddle.net/NwpnS/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:31:40.103

```
.navbar {
    height: 35px;
    padding:0;
    position:relative;
    margin-left:auto;
    margin-right:auto;
    width: 100px;// change this to desired width
    border-right: 1px solid #1c1c1c;
} 
```

# php - 带有多个附件的实时上传的php邮件表单

> ID：14974449
> 
> 赞同：0
> 
> 时间：2013-02-20T07:27:31.907
> 
> 标签：php, javascript, upload, attachment

我是 php 新手。我想为一个可以附加多个附件并发送邮件的网站创建电子邮件表单。

我想要 1 个文件字段，然后我可以浏览图像并点击上传，这样它就会上传和按摩完成。然后我应该能够上传另一张图片。（如 gmail 附件）

谁能帮我做到这一点。

检查这个链接，我想要这样

[http://www.web2pyslices.com/slice/show/1473/sending-email-from-a-form-with-multiple-documents-options](http://www.web2pyslices.com/slice/show/1473/sending-email-from-a-form-with-multiple-documents-options)

（见第 6 条）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:12:29.600

如果你准备好 jquery，那么我有东西给你。

您可以使用**[Uploadify](http://www.uploadify.com/)**（需要 Flash 支持）或**[AxUploader](http://www.albanx.com/)**（不需要 Flash）。这些上传者拥有与 Gmail 一样的进度条。它们都有可定制的选项。

# c++ - 如何让 cv::calcOpticalFlowSF 工作？

> ID：14974453
> 
> 赞同：1
> 
> 时间：2013-02-20T07:27:56.377
> 
> 标签：c++, opencv, opticalflow

我使用的是 2.4.4 版本的 OpenCV。- 我知道它是一个测试版，但[`cv::calcOpticalFlowSF`](http://docs.opencv.org/modules/video/doc/motion_analysis_and_object_tracking.html?highlight=calcopticalflowsf#void%20calcOpticalFlowSF%28Mat&%20from,%20Mat&%20to,%20Mat&%20flow,%20int%20layers,%20int%20averaging_block_size,%20int%20max_flow%29)在示例文件夹中有一个关于该方法的示例：`simpleflow_demo.cpp`. 但是当我复制这个演示并将它与我的输入图像一起使用时，它开始处理并在几秒钟后返回一个崩溃报告。关于该方法的文档有点奇怪，说输出文件是 x- 和 yflow，而不是`cv::Mat& flow`该方法实际想要的。任何想法如何解决问题以使功能正常工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T17:36:59.150

试试这个对我有用的简单演示，然后根据您的需要进行修改（从[此处](https://stackoverflow.com/questions/7693561/opencv-displaying-a-2-channel-image-optical-flow)显示帮助）：

```
Mat frame1 = imread("/home/radford/Desktop/1.png");
Mat frame2 = imread("/home/radford/Desktop/2.png");

namedWindow("flow");
Mat flow;

calcOpticalFlowSF(frame1, frame2, flow, 3, 2, 4);

Mat xy[2];
split(flow, xy);

//calculate angle and magnitude
Mat magnitude, angle;
cartToPolar(xy[0], xy[1], magnitude, angle, true);

//translate magnitude to range [0;1]
double mag_max;
minMaxLoc(magnitude, 0, &mag_max);
magnitude.convertTo(magnitude, -1, 1.0/mag_max);

//build hsv image
Mat _hsv[3], hsv;
_hsv[0] = angle;
_hsv[1] = Mat::ones(angle.size(), CV_32F);
_hsv[2] = magnitude;
merge(_hsv, 3, hsv);

//convert to BGR and show
Mat bgr;//CV_32FC3 matrix
cvtColor(hsv, bgr, COLOR_HSV2BGR);
imshow("flow", bgr);
waitKey(0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-24T14:29:48.397

在示例 opencv/samples/cpp/simpleflow_demo.cpp 中有一个代码块

```
if (frame1.type() != 16 || frame2.type() != 16) {
    printf(APP_NAME "Images should be of equal type CV_8UC3\n");
    exit(1);
} 
```

因此，灰度图像应转换为 CV_8UC3。例如使用 cvtColor(grey, gray3, CV_GRAY2RGB);

# pandas - 使用 np.where() 构建 Pandas 列

> ID：14974459
> 
> 赞同：7
> 
> 时间：2013-02-20T07:28:18.190
> 
> 标签：pandas

我正在处理 Pandas 的任务，并正在使用 np.where() 创建向 Pandas DataFrame 添加一列，其中包含三个可能的值：

```
fips_df['geog_type'] = np.where(fips_df.fips.str[-3:] != '000', 'county', np.where(fips_df.fips.str[:] == '00000', 'country', 'state')) 
```

添加列后DataFrame的状态是这样的：

```
print fips_df[:5]

    fips         geog_entity fips_prefix geog_type
0  00000       UNITED STATES          00   country
1  01000             ALABAMA          01     state
2  01001  Autauga County, AL          01    county
3  01003  Baldwin County, AL          01    county
4  01005  Barbour County, AL          01    county 
```

此列构造由两个断言测试。第一次通过，第二次失败。

```
## check the numbers of geog_type

assert set(fips_df['geog_type'].value_counts().iteritems()) == set([('state', 51), ('country', 1), ('county', 3143)])

assert set(fips_df.geog_type.value_counts().iteritems()) == set([('state', 51), ('country', 1), ('county', 3143)]) 
```

将列调用为 fips_df.geog_type 和 fips_df['geog_type'] 导致我的第二个断言失败有什么区别？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T13:50:44.887

以防万一，您可以轻松创建一个新列。例如：

```
In [1]: import pandas as pd

In [2]: import numpy as np

In [3]: df = pd.DataFrame(np.random.uniform(size=10))

In [4]: df
Out[4]: 
          0
0  0.366489
1  0.697744
2  0.570066
3  0.756647
4  0.036149
5  0.817588
6  0.884244
7  0.741609
8  0.628303
9  0.642807

In [5]: categorize = lambda value: "ABC"[int(value > 0.3) + int(value > 0.6)]

In [6]: df["new_col"] = df[0].apply(categorize)

In [7]: df
Out[7]: 
          0 new_col
0  0.366489       B
1  0.697744       C
2  0.570066       B
3  0.756647       C
4  0.036149       A
5  0.817588       C
6  0.884244       C
7  0.741609       C
8  0.628303       C
9  0.642807       C 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T10:37:05.020

它*应该*是相同的（并且大部分时间都是如此）......

一种情况不是这样，当您已经使用该值设置了属性或方法时（在这种情况下，它不会被覆盖，因此无法使用点表示法访问该列）：

```
In [1]: df = pd.DataFrame([[1, 2] ,[3 ,4]])

In [2]: df.A = 7

In [3]: df.B = lambda: 42

In [4]: df.columns = list('AB')

In [5]: df.A
Out[5]: 7

In [6]: df.B()
Out[6]: 42

In [7]: df['A']
Out[7]: 
0    1
1    3
Name: A 
```

*有趣的是，[选择语法](http://pandas.pydata.org/pandas-docs/dev/dsintro.html#indexing-selection)中没有提到[用于访问列的点表示法](http://pandas.pydata.org/pandas-docs/dev/dsintro.html#dataframe-column-attribute-access-and-ipython-completion)。*

# hibernate - JPA、Hibernate：通过多个级别坚持

> ID：14974468
> 
> 赞同：2
> 
> 时间：2013-02-20T07:28:49.443
> 
> 标签：hibernate, jpa

是否可以通过 JPA（或 Hibernate）中的多个级别持续存在？我有一个表“资源”，其中每个资源都可以是另一个资源的“子”。这可以通过多个级别发生。我正在使用连接表来包含关系。

我想要达到的就是这个。

```
resource                                        resource_relations
========                                        ==================
resource_type | resource_name                   parent   | child
------------------------------                  --------------------
type1         | P                               P        | C
type2         | C                               C        | G  
type3         | G 
```

我的持久性实体看起来像这样。

**资源**

```
private String name;
private ResourceType resourceType;

public Resource(resourceType, name){ ... }   

@OneToMany(mappedBy = "parent", cascade = CascadeType.PERSIST)
private Set<ResourceRelation> components = new HashSet<ResourceRelation>();

@OneToMany(mappedBy = "child", cascade = CascadeType.PERSIST)
private Set<ResourceRelation> parents = new HashSet<ResourceRelation>();

public void addComponent(Resource r) { /*add "r" to "components"*/ } 
```

**资源关系**

```
@ManyToOne (cascade = CascadeType.PERSIST)
private Resource parent;

@ManyToOne (cascade = CascadeType.PERSIST)
private Resource child; 
```

现在，我执行以下语句：

```
parent = new Resource(type1, P);
child = new Resource(type2, C);
grandChild = new Resource(type3, G);
child.addComponent(grandChild);
parent.addComponent(child);
persist(parent); 
```

但是，只有 P 和 C 变得持久，而 G 没有。我该怎么做呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T10:12:30.217

您的映射是错误的，您不应该明确处理包含资源之间关系的表。Hibernate 会为你做这件事！这里只需要 Resource 类：

```
private String name;
private ResourceType resourceType;

@OneToMany(cascade = CascadeType.PERSIST)
private Set<Resource> components = new HashSet<Resource>();

@OneToMany(cascade = CascadeType.PERSIST)
private Set<Resource> parents = new HashSet<Resource>(); 
```

# javascript - JQuery 动态输入带有子输入字段的字段

> ID：14974469
> 
> 赞同：1
> 
> 时间：2013-02-20T07:28:54.430
> 
> 标签：javascript, jquery, database, dynamic, input

[在 javascript 上停止我的功能](https://stackoverflow.com/questions/7863687)
通过使用它，我可以在我的页面上添加无限的输入。但问题是在我的情况下，我有一个输入字段，但它可能有也可能没有子输入字段或子输入字段，如果那么它应该与父输入字段相关联。

子输入字段也必须是父输入字段。
问题？
动态输入字段（从上面得到），
动态子/子输入字段，
如何将子/子输入字段与父字段关联，
以便它可以保存在与字段相关的数据库中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:35:45.093

使用类似的功能并在具有不同名称的段落下附加，希望这会有所帮助。尝试一下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:01:50.627

[http://jsfiddle.net/Shahbaz/WhaBx/](http://jsfiddle.net/Shahbaz/WhaBx/)

由此我可以添加多个输入字段并附加多个子/子输入字段。可以附加。我会尝试修改更多。

```
$(function() {
    var scntDiv = $('#p_scents');
    var i = $('#p_scents label').size() + 1;

    $('#addScnt').live('click', function() {
        $('<p>Keyword: '+i+'<a href="#" id="remScnt">Remove</a><br><labelfor="p_scnts"><input type="text" id="p_scnt" size="20" name="keyword[]" value="" placeholder="Enter Keyword" /><a href="#" id="addVar">Add Variants</a><a></a></label></p>').appendTo(scntDiv);
        i++;
        return false;
    });

    $('#remScnt').live('click', function() {
      if( i >2 ) {
          $(this).parents('p').remove();
          i--;
       }
       return false;
    });

    $('#addVar').live('click', function() {
    //alert();
    $('<p><label for="var"><input type="text" id="p_scnt" size="20" name="p_scnt_' + i +'" value="" placeholder="Enter Vareyword" /></label> <a href="#" id="remVar">Remove Var</a></p>').appendTo($(this).next());
    return false;
    });

    $('#remVar').live('click', function() {
       $(this).parent('p').remove();
       return false;
    }); 
}); 
```

```
<h2><a href="#" id="addScnt">Add Another Input Box</a></h2>
<div id="p_scents">
    <p>
       Keyword: 1
    <br/>
       <label for="p_scnts"><input type="text" id="p_scnt" size="20" name="keyword[]" value="" placeholder="Enter keyword">
       <a href="#" id="addVar">Add Variants</a>
       </label>
    </p>
</div> 
```

# iphone - 使用 vb.net 在 iphone 中上传文件

> ID：14974476
> 
> 赞同：0
> 
> 时间：2013-02-20T07:29:12.693
> 
> 标签：iphone, ios

用于文件上传的 html 标记在 iphone 中不起作用：

`<input type="file" id="Fileid1" runat="server"/>`

它在 iphone 的 aspx 页面中显示为非活动状态。那么文件上传如何使用html在iphone中运行......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T10:04:44.660

我已经检查过，它正在使用以下代码工作：

输入类型=“文件”接受=“图像/*；捕获=相机”>

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-20T08:03:55.647

**不支持**在 ios 中使用 Web 界面上传文件。

# windows-phone-7 - 如何在 windows phone 8 应用程序中更改 RadDatePicker 的前景色？

> ID：14974480
> 
> 赞同：1
> 
> 时间：2013-02-20T07:29:28.547
> 
> 标签：windows-phone-7, windows-8, telerik, windows-phone-8

嗨，我在我的 windows phone 8 应用程序中使用了适用于 windows phone 8 的 Telerik rad 控件。

**我的疑问是：-**

我想更改我的日期选择器的前景色（想要更改日期的前景色）。

我尝试以这种方式设置：-

```
 <telerikcontrols:RadDatePicker  Foreground="Black" 
 x:Name="DatePicker1" PopupClosed="DatePicker1_PopupClosed_1"
 PopupOpened="DatePicker1_PopupOpened_1"  Margin="141,254,139,-247"
 Height="83" Width="162" /> 
```

但它没有用，我如何设置前景色。

注意：-我将图像作为整个屏幕的背景，那不是在创建问题吗？

请告诉我 。

期待您的回复。

提前致谢。

# algorithm - 处理评级系统的最佳方式

> ID：14974485
> 
> 赞同：0
> 
> 时间：2013-02-20T07:29:47.923
> 
> 标签：algorithm, database-design

我正在尝试实施一个比较评级系统，但我很难找到处理这个问题的最佳方法，尤其是从数据库的角度来看。

让我们以食物为例。

给用户两种不同食物的图片，然后他选择他更喜欢哪一种。然后向他展示另外两种食物（一种可能相同，或者它们可能都不同）并且用户再次选择。他继续一遍又一遍地这样做，在这样做的过程中，应用程序将告诉用户他最喜欢的食物是什么，仅基于他说他比其他人更喜欢哪些食物，并比较所有这些比较并显示结果。

我想过只跟踪每个项目的总喜欢/不喜欢，我还考虑过跟踪庞大数据库中的每一个选择。我确信有一种我忽略的方法对于这种系统是有效的。

基本上，我不仅在寻找一种有效的算法，而且还在寻找将其存储在数据库中的最佳方式。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:33:22.567

我只是保留一个`(user_id, preferred_id, dispreferred_id)`与每个选择相对应的三元组数据库。

编辑：有一点时间玩这个。对于数百万个评分，以下内容会很慢，并且也会占用内存，但可能会给您一些想法。如果你这样做，你可能应该从 crontab 异步运行，而不是按需运行。

```
require 'set'                                                                                                                                                                                                                    

choices = [
  [1, 4],
  [1, 5],
  [2, 3],
  [2, 4],
  [3, 1],
  [4, 2],
  [4, 3],
  [5, 1],
  [6, 7],
  [8, 4],
]

dominates = Hash.new { |hash, key| hash[key] = Set.new }
choices.each do |p, d|
  dominates[p].add(d)
end

prev_dominates = nil
while dominates != prev_dominates
  prev_dominates = Hash.new
  dominates.each { |big, smalls| prev_dominates[big] = smalls.clone }
  prev_dominates.each do |big, smalls|
    smalls.each do |small|
      if prev_dominates.include?(small)
        prev_dominates[small].each do |smaller|
          if smaller != big and !prev_dominates[smaller].include?(big)
            dominates[big] << smaller
          end
        end
      end
    end
  end
end

top = dominates.max_by { |big, smalls| smalls.size }[0]

puts dominates.inspect
puts "BEST: #{top}" 
```

顶部节点是最终支配大多数其他节点的节点。然而，鉴于图可以是循环的，如果另一个节点会更快地完成循环，我们将切断循环。

# port - APNS 反馈是否有解决方法？

> ID：14974488
> 
> 赞同：0
> 
> 时间：2013-02-20T07:30:02.490
> 
> 标签：port, apple-push-notifications, web-hosting, feedback

我开发的 iOS 应用程序使用 APNS。在本地，我可以在 APNS 反馈的帮助下成功模拟从保存设备令牌、发送推送通知到删除设备令牌的整个过程。同样在生产中它工作了很短的时间。

现在我的虚拟主机关闭了 2196 端口。2195 端口可用，因此仍然可以发送通知。我不希望我的 ios 应用程序进入黑名单，那么有没有其他方法可以注册用户是否在他们的设备上删除了我的应用程序？还是我必须四处寻找另一个同时打开两个端口的网络托管服务商？有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T13:59:27.307

您必须寻找其他主机或查看具有反馈 API 的 3rd 方解决方案。我知道 Urban Airship 有一个（有一段时间没有使用它）并且可能会免费使用它。

# image - 如何在html网站中隐藏拖动图像

> ID：14974492
> 
> 赞同：4
> 
> 时间：2013-02-20T07:30:25.973
> 
> 标签：image, drag-and-drop, html5-canvas

我正在实现一些从按钮拖放到我的 html5 网站上的画布上的功能。当拖动操作在画布上时，我开始在光标下绘制自定义形状。但是，默认情况下，按钮的图像包含在拖动过程中，从而覆盖了我的画布图纸。有什么办法可以隐藏默认拖动图像？似乎可以调用`setDragImage`，但 IE9 不支持调用`setDragImage(null, 0, 0)`，Chrome 也无法调用。我有哪些选择？

编辑：要清楚，我想隐藏使用本机拖放创建的重影图像

# ruby-on-rails - db:reset 重置数据库；仅对一张桌子执行此操作的最简单方法是什么？

> ID：14974500
> 
> 赞同：2
> 
> 时间：2013-02-20T07:30:59.763
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rake, rails-migrations

我希望能够：

1.  清空一张表，包括重置主键
2.  使用 db:seed 用新数据重新填充该表
3.  保持所有其他表相同，数据完整

我知道通过迁移删除表并在回滚时重新创建它（[如此博客文章](http://alx.bz/2011/09/08/how-to-reset-a-single-table-from-your-rails-database-without-touching-the-others/)），这是可能的；但是，如果我在以后的迁移中更改表架构，那么保持更新可能会很烦人。

有没有比上述解决方案更好的方法来实现我正在寻找的 3 种效果，理想情况下是一种直接或通过所有适用迁移的集体影响动态适应已删除表的现有结构的方法？谢谢！

* * *

编辑：使用以下答案时可能会帮助其他新人的两件事：

*   在 create_fixtures 中，我的第一个参数以“#{Rails.root}/test/fixtures”结束——我之前并不知道 Rails.root
*   对于如何执行基本的自定义 rake 任务，[有一个 Railscast](http://railscasts.com/episodes/66-custom-rake-tasks)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T12:29:51.583

您正在考虑使用该`rake db:seed`任务的正确轨道：

使用固定装置填充表格会清除该表格并重置 id。因此，为了满足您的第一个要求，创建一个 rake 任务来加载专门为您的特殊表创建的夹具文件。我建议使用单独的 rake 任务，`rake db:seed`因为它使您可以像平常一样自由地使用该任务，并且键入`rake db:seed && rake db:special_table_seed`.

`my_table.yml`使用您的表种子数据创建一个单独的 yml 文件

您要在 rake 任务中使用的命令是

```
require 'active_record/fixtures'

ActiveRecord::Fixtures.create_fixtures("/path/to/the/directory/", "my_table") 
```

至于您最终需要动态适应表结构变化的过程，我没有任何建议 - 抱歉。尝试执行此操作的一种方法是使用迁移来管理它，但通常被认为很难维护，我不推荐它。您最好在每次对结构进行重大更改时评估需要对种子文件进行的更改。

# php - 如何喜欢在 php 变量/xml doc/javascript 变量中进行搜索

> ID：14974501
> 
> 赞同：0
> 
> 时间：2013-02-20T07:31:06.317
> 
> 标签：php, javascript, xml, xpath

我有一个名为 的节点的 xml 文件，在标题中我有一个很长的描述。如何使用任何关键字进行搜索并匹配整个字符串？例如我在标题中有这个东西：

> "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aliquam magna sem, fringilla in, commodo a, rutrum ut, massa. Donec id nibh eu dui auctor tempor. Morbi laoreet eleifend dolor. Suspendisse pede odio, accumsan vitae, auctor non, suscipit at, ipsum. Cras varius sapien vel lectus"

我希望它是这样的，如果我查询“lo”，那么它应该返回所有与 lo 匹配的可能性（不仅是 lo，整个字符串 __> 像 lorem）

源xml：

```
 <?xml version="1.0"?>
<catalog>
<book id="bk101">
<author>Gambardella, Matthew</author>
<title>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aliquam magna sem, fringilla in, commodo a, rutrum ut, massa. Donec id nibh eu dui auctor tempor. Morbi laoreet eleifend dolor. Suspendisse pede odio, accumsan vitae, auctor non, suscipit at, ipsum. Cras varius sapien vel lectus</title>
  <genre>Computer</genre>
  <price>44.95</price>
  <publish_date>2000-10-01</publish_date>
  <description>An in-depth look at creating applications with XML.</description>
</book>
</catalog> 
```

php代码：

```
<form method="POST" id="searchform" action="">
<input type="text" name="search_text" id="search_text" />
<input type="submit" name="search"  id="search" />
</form>
<?php
$data = (array)simplexml_load_file('axx2.xml');
$data = array_pop($data);
if(isset($_POST['search']))
{
if($_POST['search_text']=="")
{
echo "please enter your search value";
exit;
}
}
if(isset($_POST['search'])){
$equalizing_value=$_POST['search_text'];
$no_of_data_in_xml=count($data);
for($i='0';$i<$no_of_data_in_xml;$i++)
{
$author=$data[$i]->author;
$title=$data[$i]->title;
$genre=$data[$i]->genre;
$description=$data[$i]->description;
}}
?> 
```

# c# - C# Internet Explorer 9 和 AxWebBrowser

> ID：14974502
> 
> 赞同：2
> 
> 时间：2013-02-20T07:31:09.670
> 
> 标签：c#, html, internet-explorer-9, axwebbrowser

我有 .NET Framework 2.0 项目和 AxWebBrowser 控件在 Windows 7 上使用 IE9 Web 浏览器运行。

当我将此代码放入我的 IE9 网络浏览器时：

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=9">
</head>
<body>
    <script>alert(document.documentMode);</script>
</body>
</html> 
```

我得到值 9 - 所以它是正确的。但是，当在我的项目中将相同的代码放入 AxWebBrowser 时，我总是得到值 8 并且我的 HTML5 代码无法正常工作。

哪里有问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:27:25.363

您必须使用注册表来启用 Internet 功能控制并设置您想要使用的 IE 版本。

这是一个示例注册表文件：（不要忘记将 YOURPROGRAM.EXE 替换为可执行文件的名称）

Windows 注册表编辑器版本 5.00

```
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Internet Explorer\Main\FeatureControl\FEATURE_BROWSER_EMULATION]
"YOURPROGRAM.EXE"=dword:00002328 
```

这也可以通过代码动态完成。

当然，如果客户端电脑上没有安装IE9就不能使用HTML5，那你可以考虑用别的浏览器控件，网上有很多。

有关详细信息，请参阅此页面：http: [//msdn.microsoft.com/en-us/library/ee330730%28VS.85%29.aspx#browser_emulation](http://msdn.microsoft.com/en-us/library/ee330730%28VS.85%29.aspx#browser_emulation)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-28T11:45:42.243

我解决问题。问题是有两个FEATURE_BROWSER_EMULATION，一个是“Wow6432Node”，另一个没有“Wow6432Node”

# java - 必须使用 iText java 删除 pdf 中的页眉和页脚中的行

> ID：14974503
> 
> 赞同：0
> 
> 时间：2013-02-20T07:31:22.270
> 
> 标签：java, itext

```
 I've used the following code to display header and footer in my pdf using itext.

   HeaderFooter header=new HeaderFooter(new Phrase("HBOM Reports"),false);
                document.setHeader(header);
                HeaderFooter footer=new HeaderFooter(new Phrase("globematics\nSecond line"),false);
                document.setFooter(footer); 
```

这是我的 pdf 中显示的标题输出

* * *

HBOM 报告

* * *

我的页脚显示如下

* * *

全球学

第二行

* * *

现在我不知道为什么这两行打印在我的页眉和页脚上。

*   我想从页脚中删除底线，从页眉中删除顶线。我需要在中心对齐页眉和页脚文本。

    刚才我开始使用 iText，所以我对此一无所知。请帮助我。提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:43:09.970

您可以使用`setAlignement`使文本居中，并`setBorder`删除边框并仅添加您想要的边框。

```
HeaderFooter header = new HeaderFooter(new Phrase("HBOM Reports"), false);
header.setAlignment(HeaderFooter.ALIGN_CENTER);
header.setBorder(Rectangle.NO_BORDER); 
header.setBorder(Rectangle.BOTTOM);
document.setHeader(header);

HeaderFooter footer = new HeaderFooter(new Phrase("globematics\nSecond line"), false);
footer.setAlignment(HeaderFooter.ALIGN_CENTER);
footer.setBorder(Rectangle.NO_BORDER); 
footer.setBorder(Rectangle.TOP);
document.setFooter(footer); 
```

正如我在网上多次看到的那样，不鼓励使用这个类，你可以看看[页面事件](http://itextpdf.com/themes/keyword.php?id=204)

# asp.net-mvc-4 - 如何将 Json 数据中的值附加到 mvc4 中的 Actionlink

> ID：14974505
> 
> 赞同：0
> 
> 时间：2013-02-20T07:31:31.650
> 
> 标签：asp.net-mvc-4, actionlink, razor-2

从 Json 获得的数据我曾经作为行附加到表中。列的第一个数据需要以链接格式出现。所以我使用 ActionLink 。但我收到以下错误，因为“名称 'Transaction_No' 中不存在当前背景”。

```
function CreateGrid(result) {

    $.ajaxSetup({
        cache: false
    });

    for (i = 0; i < result.data.length; i++) {
        debugger;
        var chk_row = true;
        $('#tbl_RoleMenu tbody').empty().append('<tr id="tr-' + i + '"></tr>');
         String Transaction_No = result.data[i].Loan.toString();

        $('#tr-' + i).append('<td id="tdLoan-' + i + '"> @Html.ActionLink(Transaction_No, "Create", "Portfolio", null, new { @class = "openDialog", data_dialog_id = "emailDialog" }) </td>');
        $('#tr-' + i).append('<td id="tdLoan-1' + i + '">' + result.data[i].Loan + '</td>');

    }   

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T10:04:47.980

您似乎完全将服务器端代码与客户端 javascript 混合在一起。尝试修复这个烂摊子：

```
function CreateGrid(result) {
    $.ajaxSetup({
        cache: false
    });

    for (i = 0; i < result.data.length; i++) {
        debugger;
        var chk_row = true;
        $('#tbl_RoleMenu tbody').empty().append('<tr id="tr-' + i + '"></tr>');
        var transactionNumber = result.data[i].Loan;

        $('#tr-' + i).append('<td id="tdLoan-' + i + '"><a href="@Url.Action("Create", "Portfolio")" class="openDialog" data-dialog-id="emailDialog">' + transactionNumber + '</a></td>');
        $('#tr-' + i).append('<td id="tdLoan-1' + i + '">' + result.data[i].Loan + '</td>');
    }   
} 
```

作为这种可怕混乱的替代方案，我建议您使用局部视图在服务器上创建此标记。我猜您是在对控制器操作（当前返回 a `JsonResult`）执行 AJAX 请求后调用此函数。修改此控制器操作，以便返回一个 PartialView 而不是返回 JsonResult，然后简单地将这个新标记注入到您的 DOM 中。

# java - 如何使用硒查找页面上是否存在文本

> ID：14974508
> 
> 赞同：25
> 
> 时间：2013-02-20T07:31:49.003
> 
> 标签：java, selenium, selenium-webdriver

如果文本存在，则单击`xyz`else click on `abc`。

我正在使用以下`if`语句：

```
if(driver.findElement(By.xpath("/html/body/div[2]/div/div/div/div/div/div/table/tbody/tr[6]/td[2]")).isDisplayed())
{    
    driver.findElement(By.linkText("logout")).getAttribute("href");          
} else {          
    driver.findElement(By.xpath("/html/body/div/div/div/a[2]")).click();
} 
```

脚本失败并显示以下错误消息：

```
Unable to locate element: {"method":"xpath","selector":"/html/body/div[2]/div/div/div/div/div/div/table/tbody/tr[6]/td[2]"} 
```

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-02-20T08:53:18.060

**试试这个代码：**

下面的代码用于检查整个网页中的文本是否存在。

```
if(driver.getPageSource().contains("your Text"))
{
    //Click xyz
}

else
{
    //Click abc
} 
```

如果要检查特定 Web 元素上的文本

```
if(driver.findElement(By.id("Locator ID")).getText().equalsIgnoreCase("Yor Text"))
{
    //Click xyz
}

else
{
    //Click abc
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:33:54.723

在这里我们可以使用 try ，除了使用 python web 驱动程序的函数。见下面的代码

```
webtable=driver.find_element_by_xpath("xpath value")
print webtable.text
try:
   xyz=driver.find_element_by_xpath(("xpath value")
   xyz.click()

except:
   abc=driver.find_element_by_xpath(("xpath value")
   abc.click() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T13:38:29.357

您需要将“IsDisplayed”包装在 try catch 中。只有元素存在时才能调用“IsDisplayed”。

您可能还想覆盖隐式超时，否则 try/catch 将花费很长时间。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-11-15T10:31:39.517

首先，这种类型的 XPath`byLinkText`是非常糟糕的定位器，并且会经常失败。定位器应该是**描述性的、唯一的并且不太可能改变**。优先使用：

1.  **ID**
2.  **班级**
3.  **CSS**（[比 XPath 性能更好](http://elementalselenium.com/tips/34-xpath-vs-css-revisited-2)）
4.  **XPath**

然后您可以在元素上使用，而不是在更具体`getText()`的整个页面 ( ) 上使用。正如@Robbie 所说，这也是一个很好的做法，或者更好的是使用[FluentWait](https://sqa.stackexchange.com/questions/12866/how-fluentwait-is-different-from-webdriverwait)来查找元素：`getPageSource()``try catch``isDisplayed()`

```
// Waiting 10 seconds for an element to be present on the page, checking
// for its presence once every 1 second.
Wait<WebDriver> wait = new FluentWait<WebDriver>(driver)
    .withTimeout(10, SECONDS)
    .pollingEvery(1, SECONDS)
    .ignoring(StaleElementReferenceException.class)
    .ignoring(NoSuchElementException.class)
    .ignoring(ElementNotVisibleException.class) 
```

然后像这样使用：

```
wait.until(x -> {
     WebElement webElement = driverServices.getDriver().findElement(By.id("someId"));
     return webElement.getText();
  });

wait.until(x -> {
     WebElement webElement = driverServices.getDriver().findElement(By.id("someOtherId"));
     return webElement.getAttribute("href");
  }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-12-21T18:25:49.987

试试下面的代码： -

```
Assert.assertTrue(driver.getPageSource().contains(textOnThePage)); 
```

# c# - 是否有用于 Xml/XDocument 的声明性基于 XPath 的验证（即“Fluent Schematron”）库？

> ID：14974514
> 
> 赞同：2
> 
> 时间：2013-02-20T07:32:07.000
> 
> 标签：c#, .net, xml, validation, linq-to-xml

我目前正在使用[Schematron](http://www.schematron.com)进行 XML 文档 [数据] 验证。Schematron 似乎可以正常工作，至少在初始测试中是这样，我*喜欢以*用户为中心的验证与 XPath 上下文/规则¹相结合的一般方法。

但是，我希望在 POCC（普通旧 C# 代码）中设置同样类型的“声明式验证”，因为一些需要完成的验证超出了 Schematron 可以处理的范围 - 至少不需要额外的转换或管道*，*我不太喜欢 XML 。

我找到了[一些库，如 Fluent Validation](http://fluentvalidation.codeplex.com)、[类似的帖子](https://stackoverflow.com/questions/3223070/fluent-validation-and-libraries)和[书籍](http://link.springer.com/chapter/10.1007%2F978-1-4302-0998-0_13?LI=true)，但似乎没有什么是针对 XML/XPath 量身定制的——但也许我太迷恋于简洁的 XPath 语法，无法理解 Linq-to-XML 如何真正适合..

所以问题是；

*是否有一个 C# (.NET) 流利/声明性验证库专为利用 XPath 和处理 XML 文档而设计？*

在投票将其作为“购物问题”结束之前，请考虑这样一个图书馆的明显稀缺/默默无闻。似乎某些声明式验证库*可以*在这种支持下被破解，但是在玩了一会儿之后，它就“感觉不自然”。在这方面扩展 fluent 验证库以支持 XPath 的任何实际经验也将是一个很好的答案，特别是如果它已被证明是一种合适的方法。

* * *

¹该项目还使用 XSD Schema 验证进行结构/类型验证（即“类型良好”的验证）。这一阶段的验证是关于“正确语义”的验证；但是，XSD 不会生成“友好的”错误消息，它不能处理 [co-]dependent 值，并且......更冗长。RELAX NG 至少可以解决其中一个问题，但不是全部。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-19T23:17:22.360

XSLT 2.0 可用于基于声明性 XPath 的验证。这里有一些好处：

> 随着 2.0 版的发布，XSLT 现在允许您将样式表设计为可感知模式。模式感知 XSLT 系统提供了许多好处，包括在 XSLT 转换之前验证输入树以确保 XSLT 样式表仅处理有效输入的能力，以及验证输出树以确保 XSLT 转换产生的能力有效的 XML 输出。您还可以为以下内容指定数据类型：

*   变量
*   输入参数
*   用户定义函数
*   模板
*   返回值

XSLT 2.0 与 .Net 的集成在以下问题和答案中进行了详细说明：

*   [.NET 的 XPath 和 XSLT 2.0？](https://stackoverflow.com/questions/1525299/xpath-and-xslt-2-0-for-net)

*   [从 Saxon 9.4he 中的嵌入式资源加载 xml 和 xslt](https://stackoverflow.com/questions/16101213/load-xml-and-xslt-from-embedded-resource-in-saxon-9-4he)

*   [如何将 xslt 2.0 版转换为 1.0 版](https://stackoverflow.com/questions/16674494/how-to-convert-xslt-version-2-0-to-version-1-0/24270323#24270323)

**参考**

*   [使用 XSLT 2.0 进行模式感知处理](http://www.ibm.com/developerworks/xml/library/x-schemaxslt/index.html)

*   [XSLT 的模式](http://www.w3.org/XML/2000/04schema-hacking/xslt.xsd)

*   [XSLT 2.0 的模式](https://www.w3.org/2005/02/schema-for-xslt20.xsd)

*   [XSLT 的 RelaxNG 模式](http://thaiopensource.com/relaxng/xslt.rng)

*   [使用样式表模式](http://www.xml.com/lpt/a/1562)

# php - 无法设置短信 php

> ID：14974518
> 
> 赞同：1
> 
> 时间：2013-02-20T07:32:35.830
> 
> 标签：php, sms

我似乎无法使用 php 发送短信

此代码不起作用，但显示所有内容 $text['pn'] 是电话号码（##########），$text['pp'] 是提供商（@myboostmobile.com）

```
$text = mysql_fetch_assoc(mysql_query("SELECT * FROM `users` WHERE username='plmexico'  "));
     $textto = $text['pn'].$text['pp'];
mail($textto, "", "http://www.logamp.com/mobile/vmusic/view.php?id=", "From: notification <not@logamp.com>\r\n"); 
```

当我这样做时

```
mail("##########@myboostmobile.com", "", "Your packaged has arrived!", "From: test test <test@test.name>\r\n"); 
```

它工作正常

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:34:50.990

也许，

```
$textto = $text['pn'] . '@' . $text['pp'] . '.com'; 
```

验证`textto`.

**编辑：** 基本上这里的目标是，当您有两行相似的代码并且其中只有一个损坏时，您必须将损坏的代码行慢慢移近另一行，以查明问题的真正所在。

# msbuild - 从目标文件中删除 $(Platform)

> ID：14974526
> 
> 赞同：0
> 
> 时间：2013-02-20T07:33:17.570
> 
> 标签：msbuild

我有一个代码可以在部署时复制propper配置文件：

```
 <PropertyGroup>
    <CopyAllFilesToSingleFolderForPackageDependsOn>
        CopyConfigFiles;
        $(CopyAllFilesToSingleFolderForPackageDependsOn);
    </CopyAllFilesToSingleFolderForPackageDependsOn>
  </PropertyGroup>
  <Target Name="CopyConfigFiles">
   <ItemGroup>
    <_ConfigFiles Include="Configurations\*.$(Platform).config" />
    <FilesForPackagingFromProject  Include="%(_ConfigFiles.Identity)">
      <DestinationRelativePath>%(Filename)%(Extension)</DestinationRelativePath>
    </FilesForPackagingFromProject>
   </ItemGroup>
  </Target> 
```

是否可以从结果文件中删除 $(Platform) ？

IE。

*   $（平台）= 生产
*   来源：connectionString.Production.config
*   目的地：connectionString.config

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T23:47:01.350

在我看来，最好的事情是“配置转换”。它们真的很容易学习，非常强大，您只需覆盖 web.config 中针对该特定平台正在更改的部分，并且它们与 Visual Studio 捆绑在一起。看看这个博客 [http://blogs.msdn.com/b/webdev/archive/2009/05/04/web-deployment-web-config-transformation.aspx](http://blogs.msdn.com/b/webdev/archive/2009/05/04/web-deployment-web-config-transformation.aspx)

我希望这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T18:25:47.610

另一种解决方案是在项目中实际引用**connectionString.config**并在预构建 msbuuild 步骤中将其替换为适当的版本。

我们有一种类似的方法来处理特定于环境的配置文件（所以我们有：

*   网。**生产**.config
*   网。**暂存**.config
*   网。**调试**.config

    但是，使用预构建步骤来选择其中一个文件并覆盖现有的 web.config 文件，因此当涉及到执行/部署/打包系统时，系统会处理正确的特定于环境的配置文件，名为**web.config**。

[Scott Hanselman在他的博客文章](http://www.hanselman.com/blog/ManagingMultipleConfigurationFileEnvironmentsWithPreBuildEvents.aspx)中很好地描述了这种方法

# javascript - 我在使用小算法时遇到问题

> ID：14974528
> 
> 赞同：1
> 
> 时间：2013-02-20T07:33:19.587
> 
> 标签：javascript

想象一下，我在重力模拟中有许多表示为球的对象，它们聚集在 3 组中（例如，但它可以是任何数字），如何根据哪个组（1,2， 3）它在吗？

我只到这一步，我想不通...

```
var objects = [/* the balls */];

...

this.objects.forEach(
    function(one) {
        this.objects.forEach(
            function(two) {
                if(distance(one, two) <= 0) {
                    // these two are in the same group
                }
            }
        );
    }
); 
```

问题是，同一组中的两个球可能不一定会接触，因为它们之间可能有另一个球，但一组中的所有球至少接触该组中的另一个球。

该值将类似于“this.group = 1;”。

任何想法都非常感谢，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:39:54.440

您的问题是您无法区分球来自哪个组。

尝试使用三个数组来表示三个组，或者使用更类似于对象的结构来引用球来自哪个组。

# jquery - javascript / jquery - 页面在设置滚动顶部时抖动

> ID：14974540
> 
> 赞同：2
> 
> 时间：2013-02-20T07:34:02.047
> 
> 标签：jquery, scroll, scrollbar, scrolltop

我正在使用一个灯箱，其中我在使用 jquery`scrolltop()`函数时遇到了一些问题。当灯箱打开时，它会隐藏文档的滚动条（如果有）并将垂直滚动位置保存在变量中，当它关闭时，它会带回文档的滚动条并将滚动条设置为旧位置。这是代码：

```
 $('html').css({
                'overflow-y' : 'auto'
            });
            $('html').scrollTop(org_scrolltop); 
```

在这种情况下`scrollTop`，功能根本不起作用。所以我尝试`setTimeout`了设置滚动位置的功能。这是代码：

```
 $('html').css({
                'overflow-y' : 'auto'
            });
            setTimeout(function(){
                $('html').scrollTop(org_scrolltop);
            },10); 
```

现在它可以工作了，但页面时不时地抽搐。我也尝试过`animate()`功能，但徒劳无功。

可能发生的情况是，首先浏览器将滚动条设置为其默认位置，即 0，当我设置为时`overflow-y`，`auto`然后`$('html').scrollTop(org_scrolltop);`这行代码正在执行。在这个过程中，页面抖动。

我想知道是否有任何干净的方法可以做到这一点，我的意思是不使用`setTimeout`. 任何想法都会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:59:04.733

用这个：

```
$('html, body').animate({
    scrollTop: 0
}, 1000); 
```

显然将 0 更改为您要滚动到的位置，并将 1000 更改为您希望滚动的时间。

# ruby-on-rails - Rails 访问存储为表字段内 JSON 数据的字段

> ID：14974546
> 
> 赞同：0
> 
> 时间：2013-02-20T07:34:36.403
> 
> 标签：ruby-on-rails, json, rails-models

我有几列的员工表。其中一列是文本字段，其中一些数据以下列格式存储在其中，

```
:last_working_day => nil,
:first_working_day => <some data>,
:reason_for_leave1 => nil 
```

等等。上面的布局只是一个例子，并不是实际的布局。

我需要访问这些值。我可以访问包含这些数据的字段，但如何将它们提取为键值对？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:14:23.793

你可以从这个开始

```
f.split(',').inject({}) { |h, e| k, v = e.split('=>').map{ |s| s.strip}; v = nil if v == 'nil'; h[k[1..-1].to_sym] = v ; h } 
```

其中“f”是您提供的字段。说真的，使用 HStore 或至少将其存储为 YAML 或 json。Rails 可以自动处理数据序列化为 YAML 的列。

# sql - 使用报表生成器连接到 SQL Server Express 2008

> ID：14974549
> 
> 赞同：0
> 
> 时间：2013-02-20T07:34:44.170
> 
> 标签：sql, sql-server, reporting-services

我在大学做我的高级项目，我们作为一个团队正在创建一个网络跟踪应用程序，现在我们需要找出如何基于我们的数据库创建报告。

我们正在使用 MS SQL server Express 2008，所以这是我的问题：我知道 MS 有 Report Builder，但我想知道您是否知道这个构建器是否适用于 SQL server express 2008？

也许你可以分享一些如何使用这个产品的链接。我正在搜索，但到目前为止找不到任何可以帮助我的东西。它还允许我运行我自己的查询并将这个软件连接到我的数据库吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:12:08.463

即席报告生成器[不适](http://msdn.microsoft.com/en-us/library/ms365173.aspx)用于 SQL Server Express。您也无法从外部数据库中获取数据。您只能使用当前 SQL Express 实例中的数据。

但是，您可以考虑一些第三方报告工具。我会建议我们的[SharpShooter 报告](http://www.perpetuumsoft.com/Report-Sharp-Shooter.aspx)）。请联系销售部门，让他们知道您正在从事大学项目。该工具可免费用于非商业性大学开发（可能他们会要求您撰写评论）。

# android - HTTPS JSON 兴趣字符串

> ID：14974558
> 
> 赞同：0
> 
> 时间：2013-02-20T07:35:23.140
> 
> 标签：android

未插入数据，结果为空。

**不是日志中的错误**

在这里发布我的代码

```
 InputStream is = null;
    String result = "";

    // http post
    try {

        HttpClient httpclient = getNewHttpClient();
        final String body = String
                .format("{\"block_face_line\" : [{\"longitude\" : -71.34345555,\"latitude\" : 42.7794343 },{\"longitude\" : -71.4473179666667,\"latitude\" : 42.7336227666667  },  {\"longitude\" : -71.4461721166667,\"latitude\" : 42.7321493333333  },{\"longitude\" : -71.4473179662267,\"latitude\" : 42.726227666667  } ],\"block_face_curb_side\" : \"LEFT\",\"block_face_collector_id\" : \"3\"}");
        HttpPost httppost = new HttpPost(
                "https://url.com");
        httppost.setHeader("Accept", "application/json");

        httppost.setHeader("Content-type",
                "application/json; charset=utf-8");

        httppost.setHeader("Content-length",
                Integer.toString(body.length()));

        httppost.addHeader(BasicScheme.authenticate(
                new UsernamePasswordCredentials("username", "password"),
                "UTF-8", false));

        httppost.setEntity(new StringEntity(body, "utf-8"));

        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();

    } catch (Exception e) {
        Log.e("log_tag", "Error in http connection " + e.toString());
    }

    // convert response to string
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();
    } catch (Exception e) {
        Log.e("log_tag", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object

    Toast.makeText(getApplicationContext(), result, Toast.LENGTH_LONG)
            .show();
    Log.e("msg", result);

}

public HttpClient getNewHttpClient() {
        try {
            KeyStore trustStore = KeyStore.getInstance(KeyStore
                    .getDefaultType());
            trustStore.load(null, null);

            SSLSocketFactory sf = new MySSLSocketFactory(trustStore);
            sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);

            HttpParams params = new BasicHttpParams();
            HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);
            HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);

            SchemeRegistry registry = new SchemeRegistry();
            registry.register(new Scheme("http", PlainSocketFactory
                    .getSocketFactory(), 80));
            registry.register(new Scheme("https", sf, 443));

            ClientConnectionManager ccm = new ThreadSafeClientConnManager(
                    params, registry);

            return new DefaultHttpClient(ccm, params);
        } catch (Exception e) {
            return new DefaultHttpClient();
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:09:53.317

实际上，我看不出没有日志消息怎么`result`可能。`null`

其他一些观察：您从服务器请求响应，`UTF-8`但随后将其读为`iso-8859-1`; 8 个字符的缓冲区大小也低得离谱。

# java - sax解析器的单元测试

> ID：14974561
> 
> 赞同：1
> 
> 时间：2013-02-20T07:35:30.893
> 
> 标签：java, xml, unit-testing, sax

我有一个遗留的 java 代码和一些 sax 解析。我想为那些 sax 解析器编写单元测试。

sax 解析器的实现很简单。它就像一个类，它扩展`DefaultHandler`和覆盖了一些方法，如`startElement`和`endElement`。

Sax 解析器提供了一个很大的对象树，因为它们解析的 xml 非常庞大。

当我尝试为 sax 解析器编写单元测试时，我得到了一些大的测试方法：

*   从资源中加载 XML 文件的测试变体
*   要求 sax 解析器实例解析该 XML
*   获取解析结果
*   通过断言树中每个对象的每个字段，将解析的对象树与预期的对象树进行比较

正如我已经说过的，XML 是巨大的。所以当我比较结果对象时会得到很多断言。

请给我一些建议。我不想为我的遗留代码拥有的每个 sax 解析器编写如此大的测试方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:33:39.570

也试试这个。

> 公共无效 testMySaxParser() 抛出异常 {
> InputStream xml = getTestDocument();
> // 创建一个自定义处理程序来记录事件并验证它们
> // 针对预期的事件序列
> MyRecordingHandler handler = new MyRecordingHandler();
> // 告诉处理程序您将要生成一系列
> 事件 // 您希望稍后由真正的 SAXParser 重复
> handler.startRecording();
> handler.startDocument();
> handler.startElement("", "", "root", new Attributes());
> handler.startElement("", "", "child", new Attributes());
> handler.characters("一些文字".
> handler.endElement("", "", "child");
> handler.startElement("", "", "child", new Attributes());
> handler.characters("还有一些文字".toCharArray(), 0, 14);
> handler.endElement("", "", "child");
> handler.endElement();
> handler.endDocument();
> // 告诉处理程序“预期记录”已经完成
> // 并且它应该进入“回放”模式
> handler.stopRecording();
> // 使用解析器为处理程序生成实际事件
> getSAXParser().parse(xml, handler);
> // 要求处理程序对象验证预期的事件是否发生
> handler.verify(); }

# actionscript-3 - actionscript 3.0 中的样式表（默认样式声明）语法

> ID：14974563
> 
> 赞同：0
> 
> 时间：2013-02-20T07:35:41.423
> 
> 标签：actionscript-3, styles, stylesheet

问题是关于点形成的语法。我想以默认列表样式分配我的自定义 ItemRenderer，但尚未成功。

> .myList
> {
> itemRenderer: com.examples.components.StyleClassRenderer;
> }

其他一些尝试 ("com.exam...", 'com.exam...') 格式对我不起作用。
在 actionscript 帮助网页[http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/text/StyleSheet.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/text/StyleSheet.html)中，
找不到任何合适的解决方案。我将非常感谢您的解决方案建议。

编辑：通过以下解决方案动态分配
list.itemRenderer = new ClassFactory(com.examples.components.StyleClassRenderer);
但我想学习如何在 Style 声明中做。

# c++ - 将一个信号连接到多个插槽

> ID：14974569
> 
> 赞同：0
> 
> 时间：2013-02-20T07:36:23.717
> 
> 标签：c++, qt

在我基于 C++ 的 BlackBerry 10 应用程序中，我有一个自定义类，它使用 QNetworkAccessManager 来处理网络连接。QNetworkAccessManager 对象的 requestFinished(..) 方法在接收到一些数据时会发出一个信号。

问题是，许多外部班级都对这个信号感兴趣。所以，我有很多插槽连接到这个信号。我的问题是，在这些插槽中，我可能正在做一些与 UI 相关的事情——所以我可能不希望一旦发出信号，所有插槽都会一直同时被调用。

相反，我可能希望在某个时间点，信号仅调用一个插槽，在另一个时间点，另一个插槽等。有什么方法可以做到这一点？

我想我可以做的是使用不同的 QNetworkAccessManager 对象（如下）——但我听说不推荐这样做？？？例如，还有什么其他方法？？？谢谢你。

```
 MyNetworkClass *network1 = new MyNetworkClass();
 bool res = QObject::connect(network1, SIGNAL(signalSuccess(QVariant)), this, SLOT(CustomSLot1(QVariant)));

    MyNetworkClass *network2 = new MyNetworkClass();
 bool res = QObject::connect(network2, SIGNAL(signalSuccess(QVariant)), this, SLOT(CustomSLot2(QVariant)));

    MyNetworkClass *network3 = new MyNetworkClass();
 bool res = QObject::connect(network3, SIGNAL(signalSuccess(QVariant)), this, SLOT(CustomSLot3(QVariant))); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:41:12.923

默认情况下，Qt 应用程序只运行 1 个线程。这意味着没有什么是异步的。当一个信号被触发时，槽函数会在其他任何事情发生之前运行。

如果你想保持 UI 响应并同时处理 3 个函数，你需要线程化它们。在槽函数的开头，启动一个执行实际功能的线程。

[http://doc.qt.digia.com/stable/thread-basics.html](http://doc.qt.digia.com/stable/thread-basics.html)

Qt 也有异步函数：

[http://doc.qt.digia.com/stable/qtconcurrentrun.html](http://doc.qt.digia.com/stable/qtconcurrentrun.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T09:00:18.407

基本上 Gjordis 所说的你必须运行`QNetworkAccessManager`异步驻留的自定义类。您有 2 个简单的选择：

*   [使用QtConcurrent::run](http://doc.qt.digia.com/stable/qtconcurrentrun.html)异步调用类的方法
*   在另一个线程中处理此类事件，请参阅[这个优秀的最小示例](https://stackoverflow.com/questions/11033971/qt-thread-with-movetothread)。唯一的问题是，所`doWork()`提到的实际上是一个`doInit()`或`startWork()`视情况而定。

在这两种情况下，***只使用信号和插槽与类交互是原始的***，否则您可能会遇到竞争条件。这意味着“消费者” UI 线程不应使用 getters\setters。锁定不是一个好的选择，因为 UI 线程需要执行最终的阻塞操作来获取他的数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:08:37.607

您应该从同一个对象按顺序发出不同的信号：每个感兴趣的不同对象的信号。通过这种方式，您可以决定顺序并决定是向所有人发送消息还是仅向某些人发送消息。

# java - Netbeans 和 Selenium 入门

> ID：14974570
> 
> 赞同：1
> 
> 时间：2013-02-20T07:36:27.220
> 
> 标签：java, netbeans, selenium

我想在 Netbeans 中创建一个新项目，用于使用 Selenium 2 测试 Web 应用程序。我不知道如何开始。

Netbeans + Selenium 是否有任何简单的分步教程可以遵循？

我需要在 Netbeans 中创建什么类型的新项目才能运行测试？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:44:28.370

查看“[快速教程：Netbeans + Selenium + Hudson](http://javadude.wordpress.com/2010/03/08/quick-tutorial-netbeans-selenium-hudson/) ”；它还包含一个屏幕截图。

另请参阅“ [Selenium 初学者教程/专家提示](http://www.jroller.com/selenium/)”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:38:58.010

在 IDE 中打开一个新的 java 项目。

[在此处](http://code.google.com/p/selenium/downloads/list.)下载 Selenium 独立服务器

将 jar 文件放入 lib 并开始创建您的 Selenium 测试用例。

如果您想在 Chrome 上运行它，请在[此处](http://code.google.com/p/chromedriver/downloads/list)`chromedriver.exe`下载文件

要在 IE 上运行，请在[此处](http://code.google.com/p/selenium/wiki/InternetExplorerDriver)`IEDriverServer.exe`下载相应的位版本

**示例代码：**

```
 WebDriver driver  = new FirefoxDriver();
 driver.get("URL");
 //Do some actions
 driver.quit(); 
```

# sql-server - 调整日期函数使用的 SQL 2012 和/或 Office 2010 种子

> ID：14974573
> 
> 赞同：0
> 
> 时间：2013-02-20T07:36:33.887
> 
> 标签：sql-server

我们正在使用 SQL 2012 和 MS Office 2010 进行一些自动化工作。

我们已将一些日期从 Excel 导入到 SQL 表中。在 Excel 中，日期以可读格式显示（例如，1989 年 3 月 1 日）。我们希望将 SQL Server 中的日期存储为整数。例如，Office 2010 中 1989 年 3 月 1 日的基础值是 32568：CLng(DateValue("01/03/1989")) 使用澳大利亚日期格式。

将 Excel 日期导入 SQL int 列似乎有效。但是，当我们检查时，我们发现了一个差异。例如，1989 年 3 月 1 日在 SQL Server 中显示为 32566，而不是 32568。

我们认为我们知道如何解决这个问题。我们的问题是，有谁知道 Office 2010 和/或 SQL 2012 中的日期函数使用的种子是否可以调整，如果可以，如何调整？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:22:48.420

Excel`1900-Jan-0`用作其开始日期，SQL Server 使用`1900-Jan-1`

> [Excel](http://support.microsoft.com/kb/214094) : 在本系统中，序号**1**代表 1/1/1900 12:00:00 am

但在 SQL **1**中是[Jan 2nd](http://sqlfiddle.com/#!6/d41d8/2708)：

```
select cast(1 as datetime) 
```

这是一个差异。第二个差异是 Excel 中众所周知的[1900 年 2 月 29 日错误](http://support.microsoft.com/kb/214058)：

> 在这个日期系统中，1900 年被错误地解释为闰年。

总而言之，将日期存储为日期而不是整数的更多理由。

# ios - 加速度计 didAccelerate 委托方法未在 iOS sdk 6.0 中调用

> ID：14974574
> 
> 赞同：0
> 
> 时间：2013-02-20T07:36:37.133
> 
> 标签：ios, objective-c, core-motion, uiresponder, uiaccelerometer

我正在开发应用程序来获得用户如何有力地摇动 iOS 设备的阈值。我正在使用 iOS sdk 6.0。

我尝试了 UIResponder 委托方法 motionEnded:: 它在设备被摇动时被调用，但没有提供足够的数据来证明某个人摇动设备的力度。我进行了足够多的搜索，找到了使用 UIAccelerometer didAccelerate 回调方法的单一解决方案。但它没有被调用。是sdk的问题吗？由于此方法在 iOS 5 中已弃用。

我还尝试了 coreMotion 框架，但它提供了陀螺仪数据，显示设备旋转了多少，但没有摇晃多少。这样做的最佳方法是什么。我关注[了如何检测有人摇晃 iPhone？](https://stackoverflow.com/questions/150446/how-do-i-detect-when-someone-shakes-an-iphone)但没有找到有用的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-24T17:15:09.283

我刚刚想通了。即使您执行摇晃手势或旋转模拟器，iOS 模拟器也不响应 UIAccelerometer 操作。不起作用。但是如果你在设备上运行，你会发现同样的代码运行良好:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:18:54.750

试试这个，在你看来加载只是这样做：

```
UIAccelerometer *accel = [UIAccelerometer sharedAccelerometer];
accel.delegate = self; 
```

这使它对我有用。根本不需要使用变量，但它与将共享加速度计委托设置为 self 有关

# meteor - 升级后流星停止工作

> ID：14974579
> 
> 赞同：-1
> 
> 时间：2013-02-20T07:36:46.640
> 
> 标签：meteor

有没有办法在 Windows XP 平台上正确升级流星？之后，当我运行“流星”启动我的应用程序时，什么都没有发生（控制台上没有消息）

谢谢

安德烈亚

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-12T15:19:03.130

我相信最新版本的 Meteor for Windows 将解决这个问题。请您尝试 0.6.3.1 或更高版本。

# asp.net-mvc - 如何使用 App_Data 中的 HtmlHelper 在 MVC3 中查看

> ID：14974581
> 
> 赞同：1
> 
> 时间：2013-02-20T07:37:00.993
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我在我的 MVC3 应用程序中创建了一个简单的 HtmlHelper 类并将其放入“ **App_Data\PriceHelper.cshtml** ”

PriceHelper,cshtml中的代码

```
@helper DisplayPrice(double price)
{
    @String.Format("{0:N}",price)
} 
```

当我当时试图在我的视图中使用这个助手时，它不允许我使用@PriceHelper.DisplayPrice()。

但是如果我把 hepler 方法放在同一个视图上，那么它就可以工作。

请让我知道如何将 App_Data 中的 HtmlHelper 用于我的视图？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:05:34.293

当*Razor 助手*`App_Code`存储在文件夹 not时，可以重复使用它们`App_Data`。

您可以在此处找到更多详细信息：[ASP.NET MVC 3 和 Razor 中的 @helper 语法](http://weblogs.asp.net/scottgu/archive/2011/05/12/asp-net-mvc-3-and-the-helper-syntax-within-razor.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:02:47.760

`App_Data`适用于数据资源（xml、文本、db 文件）而不是代码。为此使用另一个文件夹，例如`Views/Shared.`

我的选择是创建一个 HTML 助手（并将其放入模型中）：

```
public static class HtmlHelpers
    {
        public static string DisplayPrice(this HtmlHelper helper, double price)
        {
            return String.Format("{0:N}", price);
        }
    } 
```

在视图中这样使用：

```
 @Html.DisplayPrice(10) 
```

# android - 动态改变imageview的图像

> ID：14974582
> 
> 赞同：1
> 
> 时间：2013-02-20T07:37:07.603
> 
> 标签：android, imageview

我有一个由布局 list_item_new.xml 定义的列表，其中有一个 imageView 和 2 个 textView。ImageView 是这样定义的

```
 <ImageView
        android:id="@+id/listimage"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"

        android:gravity="center"

        android:src="@drawable/users2"
    /> 
```

我在 3 个不同的屏幕上使用相同的 ListView。现在我想要的是这个 imageView 上的图像对于所有 3 个屏幕应该是不同的。我正在尝试更改为这样的图像

```
LayoutInflater inflater = (LayoutInflater) this.getSystemService
             (Context.LAYOUT_INFLATER_SERVICE);
        LinearLayout ll = (LinearLayout) inflater.inflate(R.layout.list_item_new, null);
        listimg=(ImageView)ll.findViewById(R.id.listimage);
        listimg.setImageResource(R.drawable.office); 
```

office.png 是可绘制的图像。

整个代码正在执行，但图像没有改变。请告诉我应该怎么做才能更改图像。我在 onCreate 活动方法中编写此代码，之后我将数据分配给列表

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:31:23.857

看这堂课

```
public class Adapter extends SimpleAdapter{

public Adapter(Context context, List<? extends Map<String, String>> data,
        int resource, String[] from, int[] to) {
    super(context, data, resource, from, to);

}
@Override
public View getView(int position, View convertView, ViewGroup parent){
 View row = convertView;
 if (row == null) {
    LayoutInflater inflater = (LayoutInflater) this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    row ll = inflater.inflate(R.layout.list_item_new, null);
    listimg=(ImageView)ll.findViewById(R.id.listimage);
    listimg.setImageResource(R.drawable.office);

    textView=(TextView)ll.findViewById(R.id.<textViewID>);
    textView.setText("Hello");
 }

 return row;
}

} 
```

# c# - 日期时间字段未显示在 Crystal Report 中（来自 SQL Server）

> ID：14974583
> 
> 赞同：0
> 
> 时间：2013-02-20T07:37:09.383
> 
> 标签：c#, crystal-reports

我在表（SQL Server 2008 数据库）中有一个字段，它的类型为 DateTime，该字段允许空值，并且总之包含一些空值以及一些实际值，但是正如您从所附图片中看到的那样，这些字段都没有显示（CR 就像所有值都为空一样）。我检查了用于填充报告的数据集是否包含正确的数据，并且确实如此。我该如何解决这个问题？![生成报告的预览](../Images/0cf474cf80be7515df4929a03391959f.png)

![报告设计预览](../Images/3f1d0449de61264ca5be3044f7e95936.png)

```
 private void RefreshReport(frmReportScreen showForm)
    {
        dsReports dsData = new dsReports();

        rptDetailedReport rptDetailedReport = new rptDetailedReport();

        try
        {
            DataTable dtPrintReport = clsSqlData.SqlFillDataTable(strSQL, 1);
            if (dtPrintReport.Rows.Count > 0)
            {
                DataTableReader reader = new DataTableReader(dtPrintReport);
                dsData.Tables["dtDetailReport"].Load(reader);

                rptDetailedReport.SetDataSource(dsData);
                rptDetailedReport.SetParameterValue(0, dateTimePicker1.Value);
                rptDetailedReport.SetParameterValue(1, dateTimePicker2.Value);

                showForm.crvReportViewer.ReportSource = rptDetailedReport;
            }
        }
        catch (Exception ex)
        {
            MessageBox.Show("Error loading the report : " + ex.Message, "Error Loading Report", MessageBoxButtons.OK, MessageBoxIcon.Error);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-03-14T17:44:17.540

SQL Server 2008 R2 CR 8.5

我遇到了一个 sproc 返回一个 smalldatetime 和两个 datetime 值的问题，它将只显示 smalldatetime - 其他的显示为空白，但经过检查，实际上只是令人难以置信的损坏（例如，年份是“-471”）。将这两个更改为 smalldatetime 完全解决了这个问题。

然而，还有一个从未解释过的奇怪之处：在设计器中运行时，这些都不是问题，进入完全相同的 RPT 文件和数据库，并使用相同的用户凭据。仅当从将 CR 集成为 COM 对象的旧 VB 应用程序运行报告时，它才会损坏日期时间值。我们无法更改应用程序（2013 年，从一开始就过时了）。

我的未来解决方案（对于这个应用程序的剩余时间）将返回日期作为预先格式化的字符串，以避免使用这个古老的软件出现任何进一步的日期数据类型问题。

# javascript - jquery attr() 没有返回预期值

> ID：14974584
> 
> 赞同：0
> 
> 时间：2013-02-20T07:37:13.817
> 
> 标签：javascript, jquery, arrays, attributes

我正在使用 jQuery 并想检索单击元素的“id”属性，在本例中是一个元素。

请检查下面的图片。请注意，每当我在 jQuery 中使用 attr() 方法时，返回的字符串是某种对象（或者可能是数组）。

预期值打印在下一行下方。当我使用它时它返回正确的值：

```
$(this)[0].id 
```

当一个元素被点击时，不是这个元素是'this'中被引用的元素吗？

为什么 attr() 返回一个数组？

![在此处输入图像描述](../Images/2d079992e54c468fd9a31cd78adfa973.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T17:18:42.570

我隔离了代码并发现 jquery 的 tinymce 插件正在发生冲突。查看 static.html

[https://www.dropbox.com/s/wbk8hxqjw34hzn1/jquery-attr-not-working.7z](https://www.dropbox.com/s/wbk8hxqjw34hzn1/jquery-attr-not-working.7z)

抱歉存档，Dropbox 不允许我上传 9mb 及以上的文件，所以我必须压缩。

# apache - URL 重定向虚拟主机

> ID：14974585
> 
> 赞同：0
> 
> 时间：2013-02-20T07:37:15.847
> 
> 标签：apache, mod-rewrite, apache2, vhosts

我如何重定向`something.some.*`到`something.some`vhos

我尝试了各种重写规则，但没有一个有效，所以没有用粘贴它们..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T07:24:03.507

我的猜测是您正在尝试重定向主机名？我不完全确定您要做什么。

如果我的假设是正确的，那么这样的事情应该适合你：

```
RewriteCond %{HTTP_HOST} ^something\.some\..*$
RewriteRule (.*) http://something.some/$1 [R=301,L] 
```

# php - 从子窗口获取值到父窗口

> ID：14974586
> 
> 赞同：0
> 
> 时间：2013-02-20T07:37:21.753
> 
> 标签：php, javascript, jquery

在子窗口中，我有一张桌子。当我点击它时，我需要在父窗口中获取这些值。我正在使用 HTML 和 javascript。我需要这个在 javascript 或 jquery 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:42:50.773

我认为这个样本很有用

```
$(purchaseWin.document).ready(function () {
  $(purchaseWin.document).contents().find('#tdProduct').html('2');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:10:29.243

您可以`window.opener`在 javascript 中使用该属性。

在子窗口中，编写一个事件处理程序来监听点击，然后可以使用上述属性与其父级进行通信。

# javascript - 移动设备 - 覆盖视口比例设置以实现缩放/平移媒体查看器？

> ID：14974587
> 
> 赞同：1
> 
> 时间：2013-02-20T07:37:23.377
> 
> 标签：javascript, ios, safari, scaling, viewport

我有一个带有固定标题的响应式布局。当通过视口元标记启用缩放（缩放）时，布局可能会在用户缩放时中断，因为标题也会缩放 - 这是不好的。（我希望无论当前的比例设置是什么，我都可以只保留标题而不进行缩放）。无论如何，这就是我使用以下禁用缩放的元标记的原因：

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
```

我的目标是实现某种媒体查看器，例如 Facebook，它会覆盖文档的视口设置。关闭后，它应该将一切恢复正常。我尝试打开一个加载可缩放文档的 iframe，但似乎父文档覆盖了 iframe。

仅供参考，我正在使用 jquery。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:10:30.337

刚刚发现使用 jQuery 你可以做到这一点：

```
var meta = $('meta[name=viewport]');
$(meta).attr('content', 'device-width, initial-scale=1, maximum-scale=5'); 
```

我可以变得更花哨……比如先获得原始设置，然后在完成后恢复它。我在 iOS 6 上对此进行了测试，并且可以正常工作。我没有在其他设备上测试过。

# c++ - C++ 是否 std::string::erase 重新分配和...？

> ID：14974591
> 
> 赞同：2
> 
> 时间：2013-02-20T07:37:42.190
> 
> 标签：c++

第一个问题，是否`std::string::erase`重新分配？

第二个问题，有没有更快的方法可以快速删除某个单词或短语`std::string`？字符串的长度通常在 300K 左右。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T07:45:57.157

未定义是否`string::erase`要触发重新分配。您可以通过`string::capacity`在调用该方法之后和之前进行比较来检查会发生什么。删除字符串的一部分总是会触发删除部分之后的所有字符的副本，因为字符串的存储需要是连续的。

对于大字符串的操作，您可能需要考虑使用绳索或 std::list 代替。根据您的操作，这可能会更快。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-20T07:57:11.150

21.4.1/3

> 任何erase() 或pop_back() 成员函数都不应抛出任何异常。

由于分配器上不存在这样的限制，我认为可以肯定地说不、不、`std::string::erase`不能重新分配。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-20T07:59:14.053

你可能想看看[`rope`](http://www.sgi.com/tech/stl/Rope.html)。它是为大字符串设计的重型字符串（明白吗？），具有更快的子字符串操作。不幸的是，它不是 . 的一部分`std`，而是一个常见的添加（在 SGI、STLPort 和 GNU 的 libstdc++ 中）。

请参阅[STL 绳索 - 何时何地使用](https://stackoverflow.com/q/2826431/961353)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-20T08:00:01.507

已经提到，它的实现取决于 std::string::erase 是否触发重新分配。所以我想专注于字符串搜索。解决这个问题的传统方法是使用[Aho-Corasick 算法](https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_string_matching_algorithm)。

或者，David Musser 写了一篇关于使用 Boyer-Moore 和 Knuth-Morris-Pratt 算法的混合算法在大型干草堆（字符串）中搜索针（子字符串）的论文。该论文可[在此处](http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=739701AAE158FBA3F652E627ADC86D05?doi=10.1.1.4.43&rep=rep1&type=pdf)获得。调整它可能比滚动 Aho-Corasick 实现更简单。

Musser 的方法展示了必须比简单的搜索和替换更快的行为。应该可以通过修改 BM 跳过循环和 KNP 查找表来根据您的目的调整算法，以考虑您要替换的所有针。预先分配一个输出缓冲区，并通过将干草堆的所有不匹配段附加到它来迭代地构造输出字符串。随着针数的增加和 BM/KNP 查找饱和，这种方法将变得不那么有效。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-20T07:48:46.090

从我对 STL 的实现中，我可以看到在调用期间重新分配字符串的条件`std::string::erase`是： `if (__new_size > this->capacity() || _M_rep()->_M_is_shared())` 我认为这意味着字符串在`erase`调用期间没有重新分配。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-20T07:59:44.947

1.  不，`std::string::erase`不重新分配 - 因为它不需要，而且因为它是 C++ 哲学，你不需要为你不需要的东西支付（重新分配时间）。
2.  取决于您要擦除的内容以及快速（快速键入或执行）的含义。

首先要做的当然是找到一种快速算法来*找到*您要删除的单词/短语。然后，如果只有一块要擦除，`std::string::erase`应该完全适合您的需求。但是，例如，如果您有字符串“000aa11111bbbbb2222222c3333333333”，并且想要删除所有包含字母的短语，则一个接一个地查找并删除它们将导致字符串其余部分的多个副本 - '1' 将被复制一次，' 2 将被复制两次，依此类推。因此，如果字符串中有许多要擦除的短语，则有可能提高性能 - 只需复制应单独保留在字符串中的块并覆盖您要擦除的块：（| 表示迭代器，直到字符串是正确的”）：

*   “000|aa11111bbbbb2222222c3333333333”
*   “00011111|11bbbbb2222222c3333333333”
*   “000111112222222|2222222c3333333333”
*   “0001111122222223333333333|33333333”
*   “0001111122222223333333333”

这样，您必须将第一个删除的短语之后的每个字符都复制一次。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-09-02T09:17:54.080

我正在使用 MS 的 VC6，最后一个 DO 在 std::string::erase() 调用上重新分配缓冲区。我不得不从我的代码中删除所有的 erase() 调用，因为我有时会使用大字符串，因此我发现速度很慢。所以关心你的编译器并避免擦除（）。就个人而言，我使用 reaffectations str = ""; 作为一种解决方法。

# java - OAuth2 和 Drive API，无法列出/检索文件

> ID：14974594
> 
> 赞同：5
> 
> 时间：2013-02-20T07:38:09.340
> 
> 标签：java, oauth-2.0, google-drive-api

我有一个 Web 应用程序需要列出我的 Google Drive 中的所有文件，然后在单击时获取它们。我使用 OAuth 进行身份验证，它似乎可以工作（相同的代码适用于 Calendar API）。我在 serviceAccountScopes 中尝试了不同的范围但无济于事。

基本上身份验证是：

```
credential = new GoogleCredential.Builder().
setTransport(HTTP_TRANSPORT).
setJsonFactory(JSON_FACTORY).
setServiceAccountId(apiEmail).
setServiceAccountScopes(DriveScopes.DRIVE).
setServiceAccountPrivateKeyFromP12File(p12File).build();

credential.refreshToken();

service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential).
setApplicationName("My API").build(); 
```

**编辑：**我应该在 refreshToken() 调用之前添加该凭证的 accessToken 为空。

之后我尝试：

```
FileList files = service.files().list().execute(); 
```

返回的 FileList 是（应该包含项目）：

```
{"etag":"\"_U9FTLXcHskmKgrWAZqJlfW8kCo/vyGp6PvFo4RvsFtPoIWeCReyIC8\"","items":[],"kind":"drive#fileList","selfLink":"https://www.googleapis.com/drive/v2/files"} 
```

如果我检查 selfLink 的内容是：

```
{
 "error": {
  "errors": [
   {
    "domain": "usageLimits",
    "reason": "dailyLimitExceededUnreg",
    "message": "Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup.",
    "extendedHelp": "https://code.google.com/apis/console"
   }
  ],
  "code": 403,
  "message": "Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup."
 }
} 
```

每日限制在这里不是问题。（我想这与这个问题无关，因为：[https](https://stackoverflow.com/a/10639679/2090125) ://stackoverflow.com/a/10639679/2090125 ）。另外，我在控制台中启用了 Drive 和 Drive SDK ( [https://stackoverflow.com/a/10329353/2090125](https://stackoverflow.com/a/10329353/2090125) )。

下载文件时，执行以下操作：

```
File file = service.files().get(fileId).execute(); 
```

它会产生这个（fileId 存在）：

```
An error occured: com.google.api.client.googleapis.json.GoogleJsonResponseException: 404 Not Found
{
  "code" : 404,
  "errors" : [ {
    "domain" : "global",
    "message" : "File not found: 0B97KF40kTwrTaTllMnZCTV9ZSnM",
    "reason" : "notFound"
  } ],
  "message" : "File not found: 0B97KF40kTwrTaTllMnZCTV9ZSnM"
} 
```

在检查[https://www.googleapis.com/drive/v2/files/0B97KF40kTwrTaTllMnZCTV9ZSnM](https://www.googleapis.com/drive/v2/files/0B97KF40kTwrTaTllMnZCTV9ZSnM)时再次看到相同的“dailyLimitExceededUnreg”。

这是怎么回事，我的身份验证有问题吗？我应该以某种方式在 Drive SDK 中配置 Drive Integration 吗？从谷歌的文档中我了解到这不是必需的，我使用的方法应该可以在没有进一步配置的情况下工作。

# ruby-on-rails-3 - 使用 ruby 1.9.3p194 在 ubuntu 12.10 上安装路缘石（0.7.18）

> ID：14974597
> 
> 赞同：2
> 
> 时间：2013-02-20T07:38:30.547
> 
> 标签：ruby-on-rails-3, ruby-1.9.3, curb

我尝试安装 libcurl4-openssl-dev 但没有用。有人遇到过这种问题吗？这是捆绑安装的输出。

```
Installing curb (0.7.18) with native extensions 
    Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

         /usr/bin/ruby1.9.1 extconf.rb 
    checking for curl-config... yes
    /usr/bin/curl-config: 138: /usr/bin/curl-config: CPPFLAG_CURL_STATICLIB: not found
    checking for curlinfo_redirect_time... yes
    checking for curlinfo_response_code... yes
    checking for curlinfo_filetime... yes
    checking for curlinfo_redirect_count... yes
    checking for curlinfo_os_errno... yes
    checking for curlinfo_num_connects... yes
    checking for curlinfo_ftp_entry_path... yes
    checking for curl_version_ssl... yes
    checking for curl_version_libz... yes
    checking for curl_version_ntlm... yes
    checking for curl_version_gssnegotiate... yes
    checking for curl_version_debug... yes
    checking for curl_version_asynchdns... yes
    checking for curl_version_spnego... yes
    checking for curl_version_largefile... yes
    checking for curl_version_idn... yes
    checking for curl_version_sspi... yes
    checking for curl_version_conv... yes
    checking for curlproxy_http... yes
    checking for curlproxy_socks4... yes
    checking for curlproxy_socks5... yes
    checking for curlauth_basic... yes
    checking for curlauth_digest... yes
    checking for curlauth_gssnegotiate... yes
    checking for curlauth_ntlm... yes
    checking for curlauth_anysafe... yes
    checking for curlauth_any... yes
    checking for curle_tftp_notfound... yes
    checking for curle_tftp_perm... yes
    checking for curle_tftp_diskfull... yes
    checking for curle_tftp_illegal... yes
    checking for curle_tftp_unknownid... yes
    checking for curle_tftp_exists... yes
    checking for curle_tftp_nosuchuser... yes
    checking for curle_send_fail_rewind... yes
    checking for curle_ssl_engine_initfailed... yes
    checking for curle_login_denied... yes
    checking for curlmopt_maxconnects... yes
    checking for curlopt_seekfunction... yes
    checking for curlopt_seekdata... yes
    checking for curlopt_sockoptfunction... yes
    checking for curlopt_sockoptdata... yes
    checking for curlopt_opensocketfunction... yes
    checking for curlopt_opensocketdata... yes
    checking for curle_conv_failed... yes
    checking for curle_conv_reqd... yes
    checking for curle_ssl_cacert_badfile... yes
    checking for curle_remote_file_not_found... yes
    checking for curle_ssh... yes
    checking for curle_ssl_shutdown_failed... yes
    checking for curle_again... yes
    checking for curle_ssl_crl_badfile... yes
    checking for curle_ssl_issuer_error... yes
    checking for curlopt_username... yes
    checking for curlopt_password... yes
    checking for curlinfo_primary_ip... yes
    checking for curlauth_digest_ie... yes
    checking for curlftpmethod_multicwd... yes
    checking for curlftpmethod_nocwd... yes
    checking for curlftpmethod_singlecwd... yes
    checking for curlm_bad_socket... yes
    checking for curlm_unknown_option... yes
    checking for curl_multi_timeout()... yes
    checking for curl_multi_fdset()... yes
    checking for curl_multi_perform()... yes
    checking for curlopt_interleavefunction... yes
    checking for curlopt_interleavedata... yes
    checking for curlopt_chunk_bgn_function... yes
    checking for curlopt_chunk_end_function... yes
    checking for curlopt_chunk_data... yes
    checking for curlopt_fnmatch_function... yes
    checking for curlopt_fnmatch_data... yes
    checking for curlopt_errorbuffer... yes
    checking for curlopt_stderr... yes
    checking for curlopt_failonerror... yes
    checking for curlopt_url... yes
    checking for curlopt_protocols... yes
    checking for curlopt_redir_protocols... yes
    checking for curlopt_proxy... yes
    checking for curlopt_proxyport... yes
    checking for curlopt_proxytype... yes
    checking for curlopt_noproxy... yes
    checking for curlopt_httpproxytunnel... yes
    checking for curlopt_socks5_gssapi_service... yes
    checking for curlopt_socks5_gssapi_nec... yes
    checking for curlopt_interface... yes
    checking for curlopt_localport... yes
    checking for curlopt_dns_cache_timeout... yes
    checking for curlopt_dns_use_global_cache... yes
    checking for curlopt_buffersize... yes
    checking for curlopt_port... yes
    checking for curlopt_tcp_nodelay... yes
    checking for curlopt_address_scope... yes
    checking for curlopt_netrc... yes
    checking for curl_netrc_optional... yes
    checking for curl_netrc_ignored... yes
    checking for curl_netrc_required... yes
    checking for curlopt_netrc_file... yes
    checking for curlopt_userpwd... yes
    checking for curlopt_proxyuserpwd... yes
    checking for curlopt_username... yes
    checking for curlopt_password... yes
    checking for curlopt_password... yes
    checking for curlopt_password... yes
    checking for curlopt_httpauth... yes
    checking for curlauth_digest_ie... yes
    checking for curlauth_only... yes
    checking for curlopt_tlsauth_type... yes
    checking for curlopt_tlsauth_srp... no
    checking for curlopt_tlsauth_username... yes
    checking for curlopt_tlsauth_password... yes
    checking for curlopt_proxyauth... yes
    checking for curlopt_autoreferer... yes
    checking for curlopt_encoding... yes
    checking for curlopt_followlocation... yes
    checking for curlopt_unrestricted_auth... yes
    checking for curlopt_maxredirs... yes
    checking for curlopt_postredir... yes
    checking for curlopt_put... yes
    checking for curlopt_post... yes
    checking for curlopt_postfields... yes
    checking for curlopt_postfieldsize... yes
    checking for curlopt_postfieldsize_large... yes
    checking for curlopt_copypostfields... yes
    checking for curlopt_httppost... yes
    checking for curlopt_referer... yes
    checking for curlopt_useragent... yes
    checking for curlopt_httpheader... yes
    checking for curlopt_http200aliases... yes
    checking for curlopt_cookie... yes
    checking for curlopt_cookiefile... yes
    checking for curlopt_cookiejar... yes
    checking for curlopt_cookiesession... yes
    checking for curlopt_cookielist... yes
    checking for curlopt_httpget... yes
    checking for curlopt_http_version... yes
    checking for curl_http_version_none... yes
    checking for curl_http_version_1_0... yes
    checking for curl_http_version_1_1... yes
    checking for curlopt_ignore_content_length... yes
    checking for curlopt_http_content_decoding... yes
    checking for curlopt_http_transfer_decoding... yes
    checking for curlopt_mail_from... yes
    checking for curlopt_mail_rcpt... yes
    checking for curlopt_tftp_blksize... yes
    checking for curlopt_ftpport... yes
    checking for curlopt_quote... yes
    checking for curlopt_postquote... yes
    checking for curlopt_prequote... yes
    checking for curlopt_dirlistonly... yes
    checking for curlopt_append... yes
    checking for curlopt_ftp_use_eprt... yes
    checking for curlopt_ftp_use_epsv... yes
    checking for curlopt_ftp_use_pret... yes
    checking for curlopt_ftp_create_missing_dirs... yes
    checking for curlopt_ftp_response_timeout... yes
    checking for curlopt_ftp_alternative_to_user... yes
    checking for curlopt_ftp_skip_pasv_ip... yes
    checking for curlopt_ftpsslauth... yes
    checking for curlftpauth_default... yes
    checking for curlftpauth_ssl... yes
    checking for curlftpauth_tls... yes
    checking for curlopt_ftp_ssl_ccc... yes
    checking for curlftpssl_ccc_none... yes
    checking for curlftpssl_ccc_passive... yes
    checking for curlftpssl_ccc_active... yes
    checking for curlopt_ftp_account... yes
    checking for curlopt_ftp_filemethod... yes
    checking for curlftpmethod_multicwd... yes
    checking for curlftpmethod_nocwd... yes
    checking for curlftpmethod_singlecwd... yes
    checking for curlopt_rtsp_request... yes
    checking for curl_rtspreq_options... yes
    checking for curl_rtspreq_describe... yes
    checking for curl_rtspreq_announce... yes
    checking for curl_rtspreq_setup... yes
    checking for curl_rtspreq_play... yes
    checking for curl_rtspreq_pause... yes
    checking for curl_rtspreq_teardown... yes
    checking for curl_rtspreq_get_parameter... yes
    checking for curl_rtspreq_set_parameter... yes
    checking for curl_rtspreq_record... yes
    checking for curl_rtspreq_receive... yes
    checking for curlopt_rtsp_session_id... yes
    checking for curlopt_rtsp_stream_uri... yes
    checking for curlopt_rtsp_transport... yes
    checking for curlopt_rtsp_header... no
    checking for curlopt_rtsp_client_cseq... yes
    checking for curlopt_rtsp_server_cseq... yes
    checking for curlopt_transfertext... yes
    checking for curlopt_proxy_transfer_mode... yes
    checking for curlopt_crlf... yes
    checking for curlopt_range... yes
    checking for curlopt_resume_from... yes
    checking for curlopt_resume_from_large... yes
    checking for curlopt_customrequest... yes
    checking for curlopt_filetime... yes
    checking for curlopt_nobody... yes
    checking for curlopt_infilesize... yes
    checking for curlopt_infilesize_large... yes
    checking for curlopt_upload... yes
    checking for curlopt_maxfilesize... yes
    checking for curlopt_maxfilesize_large... yes
    checking for curlopt_timecondition... yes
    checking for curlopt_timevalue... yes
    checking for curlopt_timeout... yes
    checking for curlopt_timeout_ms... yes
    checking for curlopt_low_speed_limit... yes
    checking for curlopt_low_speed_time... yes
    checking for curlopt_max_send_speed_large... yes
    checking for curlopt_max_recv_speed_large... yes
    checking for curlopt_maxconnects... yes
    checking for curlopt_closepolicy... yes
    checking for curlopt_fresh_connect... yes
    checking for curlopt_forbid_reuse... yes
    checking for curlopt_connecttimeout... yes
    checking for curlopt_connecttimeout_ms... yes
    checking for curlopt_ipresolve... yes
    checking for curl_ipresolve_whatever... yes
    checking for curl_ipresolve_v4... yes
    checking for curl_ipresolve_v6... yes
    checking for curlopt_connect_only... yes
    checking for curlopt_use_ssl... yes
    checking for curlusessl_none... yes
    checking for curlusessl_try... yes
    checking for curlusessl_control... yes
    checking for curlusessl_all... yes
    checking for curlopt_resolve... yes
    checking for curlopt_sslcert... yes
    checking for curlopt_sslcerttype... yes
    checking for curlopt_sslkey... yes
    checking for curlopt_sslkeytype... yes
    checking for curlopt_keypasswd... yes
    checking for curlopt_sslengine... yes
    checking for curlopt_sslengine_default... yes
    checking for curlopt_sslversion... yes
    checking for curl_sslversion_default... yes
    checking for CURL_SSLVERSION_TLSv1... yes
    checking for CURL_SSLVERSION_SSLv2... yes
    checking for CURL_SSLVERSION_SSLv3... yes
    checking for curlopt_ssl_verifypeer... yes
    checking for curlopt_cainfo... yes
    checking for curlopt_issuercert... yes
    checking for curlopt_capath... yes
    checking for curlopt_crlfile... yes
    checking for curlopt_ssl_verifyhost... yes
    checking for curlopt_certinfo... yes
    checking for curlopt_random_file... yes
    checking for curlopt_egdsocket... yes
    checking for curlopt_ssl_cipher_list... yes
    checking for curlopt_ssl_sessionid_cache... yes
    checking for curlopt_krblevel... yes
    checking for curlopt_ssh_auth_types... yes
    checking for curlopt_ssh_host_public_key_md5... yes
    checking for curlopt_ssh_public_keyfile... yes
    checking for curlopt_ssh_private_keyfile... yes
    checking for curlopt_ssh_knownhosts... yes
    checking for curlopt_ssh_keyfunction... yes
    checking for curlkhstat_fine_add_to_file... yes
    checking for curlkhstat_fine... yes
    checking for curlkhstat_reject... yes
    checking for curlkhstat_defer... yes
    checking for curlopt_ssh_keydata... yes
    checking for curlopt_private... yes
    checking for curlopt_share... yes
    checking for curlopt_new_file_perms... yes
    checking for curlopt_new_directory_perms... yes
    checking for curlopt_telnetoptions... yes
    checking for curle_not_built_in... yes
    checking for curle_obsolete... yes
    checking for Ruby 1.9 Hash... yes
    checking for Ruby 1.9 st.h... yes
    checking for curl_easy_escape... yes
    checking for rb_thread_blocking_region()... yes
    creating curb_config.h
    creating Makefile

    make
    compiling curb.c
    compiling curb_postfield.c
    compiling curb_errors.c
    curb_errors.c: In function ‘raise_curl_easy_error_exception’:
    curb_errors.c:462:33: error: format not a string literal and no format arguments [-Werror=format-security]
    curb_errors.c: In function ‘raise_curl_multi_error_exception’:
    curb_errors.c:512:33: error: format not a string literal and no format arguments [-Werror=format-security]
    cc1: some warnings being treated as errors
    make: *** [curb_errors.o] Error 1

    Gem files will remain installed in /home/jombay/workspace/nextleap/vendor/cache/ruby/1.9.1/gems/curb-0.7.18 for inspection.
    Results logged to /home/jombay/workspace/nextleap/vendor/cache/ruby/1.9.1/gems/curb-0.7.18/ext/gem_make.out
    An error occurred while installing curb (0.7.18), and Bundler cannot continue.
    Make sure that `gem install curb -v '0.7.18'` succeeds before bundling. 
```

通过在 ubuntu 12.04 上安装*libcurl4-opendssl-dev*解决了同样的问题。任何人请帮助。在此先感谢。

# php - 我无法在 wordpress 中执行自定义查询

> ID：14974600
> 
> 赞同：0
> 
> 时间：2013-02-20T07:38:37.280
> 
> 标签：php, wordpress

我有一个问题，我写一个这样的查询

```
$query = "SELECT DISTINCT wp_posts.* FROM wp_posts, wp_postmeta WHERE wp_posts.ID = wp_postmeta.post_id"; 
```

当我直接在我的数据库中运行它时，没有问题，它可以工作并从 wp_posts 表中选择自定义行，但我无法在我的代码中运行它，并且代码显示没有结果

```
global $wpdb;    
$query = $wpdb->get_results($query);
    $query->the_post();
    the_title(); 
```

问题是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:05:37.640

当您使用 $wpdb->get_results() 时，您会得到一个返回行的数组。你没有得到实际的 wordpress 帖子对象，所以你不能使用 the_post()。[请参阅此处获取 get_results](http://codex.wordpress.org/Class_Reference/wpdb#SELECT_Generic_Results)

如果您想查询帖子，我建议使用[query_posts()](http://codex.wordpress.org/Function_Reference/query_posts)或[WP_Query](http://codex.wordpress.org/Class_Reference/WP_Query)。它看起来像这样：

```
// The Query
query_posts( $args );

// The Loop
while ( have_posts() ) : the_post();
    echo '<li>';
    the_title();
    echo '</li>';
endwhile; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:17:25.777

`$query`您拥有的变量包含一组结果。`print_r()`对其进行操作以查看其值。

另一方面，您正在使用`$query->the_post();`并且`the_title();`只能在[wordpress 循环](http://codex.wordpress.org/The_Loop)中使用。

解决方案：

```
#after your query:
foreach($query as $result){
  echo get_the_title($result->ID) . '<br />';
} 
```

# javascript - .next() 跳了两步而不是一步，怎么了？

> ID：14974604
> 
> 赞同：0
> 
> 时间：2013-02-20T07:38:51.577
> 
> 标签：javascript, jquery, addclass

我正在做一个基于网络的测验。当我按下一个答案时，我希望顶部的计数更改为下一个，但是它一直跳过一个数字，跳到下一个数字（ei 从 I 到 III，而不是 I 到 III）。我究竟做错了什么？

网站： http: [//www.carlpapworth.com/friday-quiz/#](http://www.carlpapworth.com/friday-quiz/#)

html:

```
<ul id="count">
                <li><h4>I</h4></li>
                <li><h4>II</h4></li>
                <li><h4>III</h4></li>
                <li><h4>IV</h4></li>
                <li><h4>V</h4></li>
                <li><h4>VI</h4></li>
                <li><h4>VII</h4></li>
                <li><h4>VIII</h4></li>
                <li><h4>IX</h4></li>
                <li><h4>X</h4></li>
</ul> 
```

JS：

```
 $('#count li:first').addClass('cCurrent');
        $('.qAnswers li a').click(qNext);
        function qNext(){
          $('.cCurrent').next('#count li').addClass('cCurrent');
          $('.cCurrent:first').removeClass('cCurrent'); 
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:43:02.207

该`js/custom.js`脚本在. **_** `<head>`您应该删除其中一个，否则点击事件会注册两次。

此外，里面的表达式`.next()`看起来有些奇怪（你不需要`#count`里面的，甚至可能不需要`li`），函数本身可以简化为：

```
function qNext()
{
    $('#count .cCurrent')
        .removeClass('cCurrent')
        .next('li')
        .addClass('cCurrent');
} 
```

它删除当前突出显示的类`<li>`，然后移动到下一个`<li>`并在`cCurrent`那里应用该类。

最后，你不应该给你的答案一个给出答案是正确还是错误的类。你的答案是这样的：

```
<a href="#" class="qWrong">xxx</a>
<a href="#" class="qCorrect">xxx</a> 
```

如果有人会查看源代码，那么点击什么内容将非常明显。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:46:30.070

我在您的 javascript 中没有发现任何问题，但您的 HTML 页面包含两次相同的脚本。如果点击事件注册了两次，它可能会导致您的问题。

```
<script type="text/javascript" src='js/custom.js'></script>
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
<script src='js/custom.js'></script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:45:19.837

我对 jquery 的细节不太熟悉，但我会通过添加一些跟踪来调试它，内在的精神：

```
function qNext(){
    // Output data on what is your current question
    $('.cCurrent').next('#count li').addClass('cCurrent');
    // Output something - so you know for sure that this is the line that does the double move
    $('.cCurrent:first').removeClass('cCurrent'); 
} 
```

你也可以尝试：

```
function qNext(){
    // Output ...
    $myObject = $('.cCurrent');
    // Output ...
    $myObject2 = $myObject.next('#count li');
    // Output ...
    $myObject2.addClass('cCurrent');
    // Output ...
    $('.cCurrent:first').removeClass('cCurrent'); 
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T07:46:28.833

qnext 功能正常工作

我假设问题是还有另一个点击事件，它也向右滑动一个问题，通过滑块（ulslide）添加到答案中。尝试注释掉这一行，看看它是否有效

```
nextButton: '.qAnswers a', 
```

# c# - 用于 WP7 或 WP8 的 Prism 4 + IoC 样本？

> ID：14974606
> 
> 赞同：0
> 
> 时间：2013-02-20T07:39:04.933
> 
> 标签：c#, ninject, windows-phone-7.1, windows-phone-8, prism

我正在寻找使用 Prism 并且最好是 Ninject 对 WP7/PW8 进行依赖注入的最佳实践。是否有任何示例涵盖 Prism 可以对 IoC 容器进行哪些使用，以及设置它的最佳实践？

（我们目前以一种基本的方式运行它，但我们使用 Ninject 作为资源定位器，我对这个解决方案不太满意。感觉有更好的方法。）

# java - 如何在java中将大字符串转换为整数？

> ID：14974608
> 
> 赞同：5
> 
> 时间：2013-02-20T07:39:17.693
> 
> 标签：java, string, hex, biginteger, parseint

给定以下字符串：

```
3132333435363738396162636465666768696a6b6c6d6e6f70 
```

我将字符串转换为十六进制，现在我想将其写入为十六进制而不是字符串。我尝试将其转换为 int，但`Integer.parseInt`最多只能转换为 4，如果超出，它已经给出错误。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-20T07:41:03.503

您是否尝试过[`BigInteger`使用字符串和基数的构造函数](http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#BigInteger%28java.lang.String,%20int%29)？

```
BigInteger value = new BigInteger(hex, 16); 
```

示例代码：

```
import java.math.BigInteger;

public class Test {

    public static void main(String[] args) {
        String hex = "3132333435363738396162636465666768696a6b6c6d6e6f70";
        BigInteger number = new BigInteger(hex , 16);
        System.out.println(number); // As decimal...
    }
} 
```

输出：

```
308808885829455478403317837970537433512288994552567292653424 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:40:21.863

使用[BigInteger](http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html#BigInteger%28java.lang.String,%20int%29)，其中一个构造函数采用基数。

```
BigInteger value = new BigInteger(hexString, 16); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T07:41:55.070

尝试：

```
new BigInteger("3132333435363738396162636465666768696a6b6c6d6e6f70", 16) 
```

# javascript - table.rows.length 不在 Mozilla Firefox 中工作，但在 google chrome 中工作

> ID：14974617
> 
> 赞同：0
> 
> 时间：2013-02-20T07:40:18.313
> 
> 标签：javascript, asp-classic, cross-browser

```
var otable, orow, ocol;
otable = eval(document.all.tabmenu); 
for(var ictr=otable.rows.length-1;ictr>=0;ictr--) --> error
otable.deleteRow(ictr); 
```

有一个经典的 asp 项目，其中一个 javascript 函数正在创建两个超链接（添加、删除）。tabmenu 是一个表格，而在 google chrome 中，当我调试时 otable.rows.length = 2 工作正常，但不幸的是在 firefox otable.rows.length = 0 中，我无法理解它。需要帮忙！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:45:28.210

FF里没有`document.all`收藏。而不是`eval(document.all.tabmenu)`use `document.getElementById('tabmenu')`，它可以在任何浏览器中使用。

# git - Git如何恢复提交但记住工作？

> ID：14974619
> 
> 赞同：4
> 
> 时间：2013-02-20T07:40:21.297
> 
> 标签：git

我正在为一个项目进行升级。在进行更改之前，我忘记创建一个新分支。

我曾多次承诺：

原始 -> 提交 -> 提交 -> 提交 -> 现在

现在原版有个BUG急需修复，所以想在原版的基础上进行修改。我在想，如果我恢复更改，所有工作可能都会丢失。它还记得变化吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:43:39.943

我会执行以下操作，假设`master`现在指向`now`并且您想重新`master`指向`original`.

```
// Make sure you are on master, thus looking at 'now'
git checkout master

// Make a new branch pointing at 'now'
git branch new_feature

// Reset 'master' back 4 commits to 'original'.
git reset --hard HEAD~4 
```

这将使 master 回到您想要的位置，您可以通过修复它进行新的提交。然后，您可以通过执行来继续开发您的新功能`git checkout new_feature`。然后检查您的功能是否准备就绪，您可以将其合并回主控。

通常，出于这个原因，您通常不想在 master 上开发新功能，因此虽然您可以立即将新功能合并回 master，但我建议您`git checkout new_feature`在合并之前继续在那里工作，直到完成。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:44:11.257

这是你可以做的。首先，创建一个指向您当前工作的新分支：

```
git branch project_upgrade 
```

（如果您有任何未提交的更改，请在执行*之前*提交它们。）

然后，当仍在您的`master`分支上时，继续并重置回您的更改之前：

```
git reset --hard <SHA of original commit> 
```

这将重置您的`master`分支，但让`project_upgrade`分支指向您的原始工作。（因为这将重置所有文件，所以确保在分支之前没有未提交的更改非常重要，这样您的所有升级工作都将保存在您所做的分支指向的提交中。）

然后做你的错误修复。之后，您可以将升级工作重新合并到：

```
git merge project_upgrade 
```

# cocos2d-iphone - 根据box2d路径生成精灵

> ID：14974626
> 
> 赞同：1
> 
> 时间：2013-02-20T07:40:38.763
> 
> 标签：cocos2d-iphone, box2d-iphone

我正在使用 cocos2d 2.0 制作基于路径的游戏，它将为玩家随机生成路径（曲率）。该路径是使用 box2d 的 b2EdgeShape 创建的。我想在该路径下方放置一个精灵，我采取的路线是这样的：

*   显示在路径下方的精灵将不断重复，其高度总是大于路径的高度（视差背景）

*   使用 CCRenderTexture 的白色精灵将完全适合路径下方（**我真正的问题**）

*   片段着色器会将白色精灵的 alpha 值与我必须显示的精灵进行比较，并将这两个值相乘。对于必须显示精灵的每个像素，乘法后的 alpha 值将为 1，希望我能达到我想要的效果。

如何使那个白色精灵完全适合使用 CCRenderTexture 创建的路径下方。我尝试遵循 RayWenderlich 上的 Tiny Wings 教程，但该教程基于 OpenGL ES 1.1，并且有一些我无法移植到 OpenGL 2.0 的固定管道函数（我对 OpenGL 的了解很少。）我宁愿使用cocos2d 2.0 有 OpenGL 2.0。我已经使用静态白色精灵在片段着色器上工作，如果我可以不断地在路径下方获得白色，这种方法可以工作。有人可以指出我正确的方向吗？任何帮助，将不胜感激 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T23:00:10.477

如果白色精灵只是一个 alpha 蒙版，则不需要这样做。Follow's Ray 的例子，我认为你需要改变的是：

在您的 -init 中：

```
// Built-in to Cocos2D v2.0
[self setShaderProgram: [[CCShaderCache sharedShaderCache] programForKey:kCCShader_PositionTexture]];

... Generate _hillVertices and _hillTexCoords as Ray does ... 
```

在你的 -draw 中：

```
// Built-in to Cocos2D v2.0
[[self shaderProgram] use];
[[self shaderProgram] setUniformForModelViewProjectionMatrix];

// vertex data (glVertexPointer is depreciated)
glEnableVertexAttribArray ( kCCVertexAttrib_Position );
glVertexAttribPointer ( kCCVertexAttrib_Position, 2, GL_FLOAT, GL_FALSE, 0, _hillVertices );

// texture data (glTexCoordPointer is depreciated)
glEnableVertexAttribArray ( kCCVertexAttrib_TexCoords );
glVertexAttribPointer ( kCCVertexAttrib_TexCoords, 2, GL_FLOAT, GL_FALSE, 0, _hillTexCoords );

glDrawArrays ( GL_TRIANGLE_STRIP, 0, (GLsizei)_nHillVertices ); 
```

我有一个类似的工作实现（我使用了顶点和颜色坐标，没有纹理），所以我实际上并没有编译上面的代码。Cocos2d v2.0 内置着色器，用于使用带纹理的顶点、带颜色的顶点、带纹理和颜色的顶点等。只需在 setShaderProgram 时选择适当的 kCCShader_* 键并提供正确的数据。

# facebook-opengraph - 图 api 的速率限制是多少？图 api 的访问令牌会过期多久？

> ID：14974628
> 
> 赞同：1
> 
> 时间：2013-02-20T07:40:57.263
> 
> 标签：facebook-opengraph, token, rate-limiting

1.  图 api 的速率限制是多少？我在网上做了很多搜索和询问。有人说 600calls/600secs，但我没有设法找到速率限制问题的官方声明。

2.  图 api 的访问令牌会过期多久？无法在任何地方找到它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:44:58.673

文件中的任何地方都没有提到这个限制。此限制是特定于用户的，即如果您在 600 秒内为用户的 1 个或多个令牌进行 600 次调用。如果您需要拨打这么多电话，可以通过使用不同应用程序但相同用户的令牌来解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:19:47.503

1.我认为 Graph API 没有任何速率限制，尽管它们在**Facebook 平台政策**中提到了一些阈值，说明

> 如果您超过或计划超过以下任何阈值，请与我们联系，因为您可能会受到附加条款的约束：（>5M MAU）或（>100M API 调用/天）或（>50M 印象/天）。

2.访问令牌（不是扩展访问令牌）的有效期为60分钟。您还可以查询[Facebook 令牌调试 API](https://developers.facebook.com/docs/howtos/login/debugging-access-tokens/)以了解确切的令牌到期时间。[虽然 Facebook 在这里](https://developers.facebook.com/docs/howtos/login/extending-tokens/)提到了这个 1 到 2 小时范围内的短暂持续时间，但它可用于[检索有效期为 60 天的扩展访问令牌](http://developers.facebook.com/docs/howtos/login/extending-tokens/)。

# python - 重复一个函数持续时间

> ID：14974631
> 
> 赞同：1
> 
> 时间：2013-02-20T07:41:07.717
> 
> 标签：python, function, timing, raspberry-pi

在 python 3 中，你怎么能重复一个函数说 10 秒。在这种情况下，该函数将在特定时间内将树莓派上的输出高低调高。这需要在发生之前指定的一段时间内发生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:46:42.127

Try:

```
def run_wrapper(sec):
    starttime = datetime.datetime.now()
    endtime = None
    while True:
        f()
        endtime = datetime.datetime.now()
        if (endtime - starttime).total_seconds() >= sec:
            break
    print('Ran for %s seconds' % (endtime - starttime).total_seconds()) 
```

where `f` is the function you want to call. Keep in mind that this doesn't run for **exactly** `sec` seconds. It calls the function if `sec` seconds haven't passed. For example if your function takes, say 30 seconds, and you specify 31 seconds, your function will be called twice for a total of 60 seconds.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:52:08.777

如果您不需要在整个时间段内不断地重新调用该函数，那么您可以这样做：

```
import time
f()
time.sleep(sec)
g() 
```

这`f`是一个导致某些结果被撤消的函数`g`；因为`g`直到`sec`几秒钟后才被调用，所以`f`只要你需要，结果就会一直有效。

编辑：如果`f`花费大量时间并且您需要更精确，请尝试以下操作：

```
import time
before_f = time.clock()
f()
after_f = time.clock()
time.sleep(sec-(after_f-before_f))
g() 
```

# layout - Pyqt - 向 QToolBox 页面添加布局

> ID：14974632
> 
> 赞同：1
> 
> 时间：2013-02-20T07:41:08.457
> 
> 标签：layout, pyqt, toolbox

这是 QToolBox 的结构：

```
QToolBox
    QWidget
    Qwidget
    ... 
```

我知道我可以在工具箱之前的小部件中添加一个布局，但是我们可以将一个布局添加到 QToolBox 页面还是因为 QToolBox 是一个预构建小部件而这不可能？

```
Layout
    QToolBox
      (Layout?)
        QWidget
            Layout
        QWidget 
```

是否可以在我放置的位置添加布局`(Layout?)`？是否有任何方式可以将工具箱中的小部件布局到整个工具箱？

```
Layout
    QToolBox
        Page1 ( widget )
            Layout
                widget
                widget
                ...
        Page2 ( widget )
            ... 
```

我尝试使用 QtDesigner 在页面中添加布局，即格式化小部件，并且它正在工作，但我不能做的是让小部件覆盖整个页面。所以我想如果我在工具箱和页面之间添加一个布局，它会起作用。我尝试了`setLayout()`widget的方法，但没有成功

# perl - perl make 测试期间 1 次测试失败

> ID：14974633
> 
> 赞同：2
> 
> 时间：2013-02-20T07:41:12.397
> 
> 标签：perl, installation

我正在尝试在 RHEL4U9 上安装 Perl-5.8.3。

'make test' 结束时，表示 1 次测试失败。如何修复它以使其通过所有测试？还是我应该忽略它？

```
Failed Test               Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
../lib/File/Find/t/find.t              189    5   2.65%  161 173 183-184 189
55 tests and 345 subtests skipped. 
```

证明 -v 的输出：

```
# prove -v ../lib/File/Find/t/find.t
../lib/File/Find/t/find....Perl lib version (v5.8.3) doesn't match executable version (v5.8.8) at ../lib/Config.pm line 32.
Compilation failed in require at ../lib/File/Find.pm line 1223.
Compilation failed in require at ../lib/File/Find/t/find.t line 48.
BEGIN failed--compilation aborted at ../lib/File/Find/t/find.t line 50.
dubious
        Test returned status 255 (wstat 65280, 0xff00)
FAILED--1 test script could be run, alas--no output ever seen 
```

# chef-infra - 厨师服务器，安装不是来自食谱网站的食谱

> ID：14974637
> 
> 赞同：5
> 
> 时间：2013-02-20T07:41:14.487
> 
> 标签：chef-infra

我们有一个测试环境，由一台服务器、一台客户端和另一台作为工作站的客户端组成。

我知道命令

```
# knife cookbook site install apache2 
```

但是这个命令会产生错误，因为我什至无法使用说明书网站下载。当我下载时，

```
# knife cookbook site download apache2 
```

这出来了，

```
ERROR: Connection refused connecting to cookbooks.opscode.com:80 for /api/v1/cookbooks/apache2, retry 1/5
ERROR: Network Error: Connection refused - Connection refused connecting to cookbooks.opscode.com:80 for /api/v1/cookbooks/apache2, giving up
Check your knife configuration and network settings 
```

如果您有解决此问题的方法，也请分享，但我的主要问题是知道手动安装食谱的方法吗？不是来自食谱网站？我尝试使用那里的“下载”按钮从站点下载它，然后将 tar.gz 复制到工作站，将其上传到厨师服务器，将食谱添加到节点的运行列表配方中，然后执行

```
# chef-client 
```

在工作站中。这和安装的方法一样吗？如果没有，有没有办法做到这一点？

谢谢你。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T19:44:54.867

从您的 chef-repo 中上传食谱的正常步骤是：

1.  下载说明书并将其解压到您的`chef-repo/cookbooks`目录
2.  `knife cookbook upload -a`使用或将食谱上传到您的厨师服务器`knife cookbook upload [COOKBOOKS...]`
3.  使用在您的客户端节点上运行 chef-client`chef-client`

这似乎与您所做的相符。

使用“安装”食谱`knife cookbook site install COOKBOOK`与通过下载基本相同，`knife cookbook site download COOKBOOK`只是下载命令将其保存为 .tar.gz，而安装命令将其提取并设置一个 git 子模块，以便您可以保持最新状态。（见[用刀管理食谱 - 食谱网站](http://wiki.opscode.com/display/chef/Managing+Cookbooks+With+Knife#ManagingCookbooksWithKnife-CookbookSite)。）

您可以使用[Librarian](https://github.com/applicationsonline/librarian)或[Berkshelf](http://berkshelf.com/)等工具从任何 git 存储库、Opscode 社区站点或本地路径管理和下载食谱。这两个 gem 的工作方式与 Bundler 非常相似。它们生成一个`Cheffile.lock`or `Berksfile.lock`，它可以帮助您将食谱锁定到一个版本或提交 SHA。

编辑：不过，我不确定为什么`knife cookbook site install/download`不起作用；他们不需要任何形式的身份验证。来自`knife cookbook site` [文档](http://wiki.opscode.com/display/chef/Managing+Cookbooks+With+Knife#ManagingCookbooksWithKnife-CookbookSite)：“对于仅从食谱站点读取的命令（例如下载、搜索、安装和列出），您不需要 community.opscode.com 上的帐户。对于写入站点的命令，您需要一个帐户在社区网站上。”

值得注意的是，`knife cookbook site download`不同于`knife cookbook download`. 前者连接到 community.opscode.com，而后者连接到您的厨师服务器。你遇到了哪些问题？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T02:59:11.987

运行 chef-client 与从站点安装说明书相同。

此外，我想出了一种解决此错误的方法：

```
ERROR: Connection refused connecting to cookbooks.opscode.com:80 for /api/v1/cookbooks/apache2, retry 1/5
ERROR: Network Error: Connection refused - Connection refused connecting to cookbooks.opscode.com:80 for /api/v1/cookbooks/apache2, giving up
Check your knife configuration and network settings 
```

我在 /root/.chef/knife.rb 中添加了 http_proxy

现在，我可以成功执行

```
# knife cookbook site list 
```

但是，cookbook 站点安装和下载产生了一个新错误。

```
Downloading getting-started from the cookbooks site at version 0.4.0 to /home/chef/getting-started-0.4.0.tar.gz
ERROR: You authenticated successfully to http://10.43.109.236:4000 as my-chefuser but you are not authorized for this action
Response:  #<Net::ReadAdapter:0x2b2afa986ac0> 
```

我认为现在的问题是厨师服务器的许可，而不是食谱网站，因为我已经可以通过列出食谱来访问它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-25T16:48:05.090

我也遇到了问题，使用 Chef 票务系统中的这个问题为我修复了下载和上传问题：将这些行添加到您的 Knife.rb 文件的末尾：

```
http_proxy                "http://proxyserver:8080"
https_proxy               "http://proxyserver:8080"

require 'rest-client'
RestClient.proxy = "http://proxyserver:8080" 
```

显然您需要替换的地方`proxyserver:8080`需要替换为您的具体情况。

# c# - 来自后面代码的 Api POST

> ID：14974641
> 
> 赞同：3
> 
> 时间：2013-02-20T07:41:43.557
> 
> 标签：c#, asp.net, api, post

我想使用 API 调用发布对象。我在我的代码隐藏中使用以下代码获取数据

```
 HttpClient client = new HttpClient();

 client.BaseAddress = new Uri(ConfigurationManager.AppSettings["JUri"]);
 client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json"));

 HttpResponseMessage response = client.GetAsync("api/receipt/" + jID).Result;
 if (response.IsSuccessStatusCode)
 {} 
```

我想知道是否有任何与 POST 等效的代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:07:53.093

使用表单发布：

```
HttpClient client = new HttpClient();
client.BaseAddress = new Uri(ConfigurationManager.AppSettings["JUri"]);

var postData = new List<KeyValuePair<string, string>>();

postData.Add(new KeyValuePair<string, string>("Key1", "Value1"));
postData.Add(new KeyValuePair<string, string>("Key2 ", "Value2"));

HttpContent content = new FormUrlEncodedContent(postData);
var response = client.PostAsync("api/receipt/" + jID, content)
if (response.IsSuccessStatusCode)
{} 
```

POST 使用 JSON，假设你有 Dto 类：

```
var client = new HttpClient();
var dto = new Dto {Pro1 = "abc"};

var reponse = client.PostAsJsonAsync("api/receipt/" + jID, dto).Result;

if (reponse.IsSuccessStatusCode)
{} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:45:39.310

对您来说最好的方法是使用第三方库，例如[RestSharp](http://restsharp.org/) 通过 RestSharp 将内容发布到您的 api 的简单方法如下所示：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Net;
using System.IO;
using System.Threading;
using RestSharp;
using System.Text.RegularExpressions;

namespace ConsoleApplication2
{
    public class SimpleConnector
    {
        private CookieContainer _cookieJar = new CookieContainer();
        private RestClient client = new RestClient();
        public string TwitterAuthenticate(string user, string pass)
        {
            client.CookieContainer = _cookieJar;
            //RestClient client = new RestClient("https://twitter.com");
            IRestRequest request = new RestRequest("https://twitter.com/", Method.GET);
            client.UserAgent = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:18.0) Gecko/20100101 Firefox/18.0";
            client.AddDefaultHeader("Accept", "*/*");
            //request.AddParameter("name", "value"); // adds to POST or URL querystring based on Method
            //request.AddUrlSegment("id", "123"); // replaces matching token in request.Resource

            // easily add HTTP Headers
            //request.AddHeader("header", "value");

            // add files to upload (works with compatible verbs)

            // execute the request
            IRestResponse response = client.Execute(request);
            var content = response.Content;
            Match m = Regex.Match(content, @"name=""authenticity_token""\s*value=""(.*?)"">");
            string authenticity_token = m.Groups[1].Value;
            request = new RestRequest("https://twitter.com/sessions", Method.POST);
            request.AddParameter("session[username_or_email]", user);
            request.AddParameter("session[password]", pass);
            request.AddParameter("return_to_ssl", "true");
            request.AddParameter("scribe_log", "");
            request.AddParameter("redirect_after_login", "/");
            request.AddParameter("authenticity_token", authenticity_token);
            response = client.Execute(request);
            content = response.Content;
            return content;
        } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T07:51:23.880

是的，您可以这样做：

```
 HttpClient client = new HttpClient();

 client.BaseAddress = new Uri(ConfigurationManager.AppSettings["JUri"]); 
```

您可以根据您的要求使用下面给出的这些方法之一：

```
Task<HttpResponseMessage> response = client.PostAsJsonAsync(); 
```

或者

```
Task<HttpResponseMessage> response = client.PostAsXmlAsync(); 
```

或者

```
Task<HttpResponseMessage> response = client.PostAsync(); 
```

希望这可以帮助！

# ios - 返回页面后动画图像位置不同

> ID：14974658
> 
> 赞同：1
> 
> 时间：2013-02-20T07:43:12.597
> 
> 标签：ios, objective-c, ipad

我有一个适用于 iPad 的选项卡式应用程序。在第一个选项卡上，我有一个单独的菜单，带有一个突出显示当前活动菜单按钮的指针。点击按钮后，指针（一个 UIImage）动画就位。

问题是，当您将突出显示的图像留在任何不是原始/默认按钮的按钮上并移至应用程序中的另一个选项卡，然后再返回时，图像已移回默认位置。但是，当您点击另一个按钮时，图像会朝错误的方向移动。我认为这是因为图像向后移动但保留了旧坐标，还是相反？与直接在 iPad 上进行测试相比，在模拟器中进行测试时有点碰碰运气，并且表现不同。

我想我需要从绝对坐标开始，并在整个过程中坚持下去。但是我无法理解如何使用 CGAffine 函数来实现它。

这是我当前的代码

```
- (IBAction)diplayForm1:(id)sender {

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:0.5];
    buttonHighlightImage.transform = CGAffineTransformMakeTranslation(0, 0);
    [UIView commitAnimations];

}

- (IBAction)diplayForm2:(id)sender {

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:0.5];
    buttonHighlightImage.transform = CGAffineTransformMakeTranslation(0, 80);
    [UIView commitAnimations];

}

- (IBAction)diplayForm3:(id)sender {

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:0.5];
    buttonHighlightImage.transform = CGAffineTransformMakeTranslation(0, 160);
    [UIView commitAnimations];

} 
```

编辑 - - -

@Mundi 我尝试了您建议的代码。我假设 newFrame 你的意思是定义一个新的 UIImageView 和我在 .h 中所做的属性（我称之为“sfh”），然后在 .m 中定义 @synthesize。

这是我在 .m 中的代码

```
-(void)viewWillAppear:(BOOL)animated {

    // The "pointer" and the "old" frame are the same so I thought it pointless to do
    // selectedFormHighlight.frame = selectedFormHighlight.frame;

    // I tried anyway and also tried this and many other combinations
    selectedFormHighlight.frame = sfh.frame;

}

-(void)viewDidAppear:(BOOL)animated {

    [UIView beginAnimations:nil context:NULL];
    [UIView animateWithDuration:0.3 animations:^{
        selectedFormHighlight.frame = CGRectMake(0,0,0,0);
    }];
    [UIView commitAnimations];

} 
```

当我运行它时，指针动画离开屏幕（左上角）并且不会回来。我已经尝试了在 viewWillAppear 和 viewDidAppear 中我能想到的所有可能的组合，但这并没有什么区别。我尝试删除 viewDidAppear 中的其他行，它仍然做同样的事情。

我认为您建议在用户从另一个屏幕返回时从原始（默认）位置为指针设置动画。我不希望这样，它应该简单地留在他们没有动画的地方。或者至少在他们没有意识到的情况下把它放回原处。唯一的动画是当他们选择点击该视图中的不同按钮时。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:25:23.620

您遇到这种情况的原因是，当视图被隐藏和重新显示时，实际的视图对象及其表示层会混淆。解决方案是更改视图属性而不是为图层设置动画。

因此，您不需要使用仿射变换。只需通过更改其`frame`or直接设置指针视图的新位置`center`。

执行此操作的最新格式是基于块的动画：

```
[UIView animateWithDuration:0.5 animations:^{
   pointer.frame = newFrame;
}]; 
```

此外，只有一个变量不同的三种方法似乎非常低效。您可以将所需的 y 位置乘以 80。

**编辑**：

您的按钮重置的另一个原因是，它是在实例化视图时放置的位置。只需在`viewWillAppear`视图控制器中设置视图的位置，然后将其动画到`viewDidAppear`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T16:16:36.247

我感谢@Mundi 的帮助，但无法让它以这种方式工作。我最终到达了以下代码。

```
// This initially sets the frame with a variable value that 
// corresponds to the current child view
-(void)viewDidAppear:(BOOL)animated {
    selectedFormHighlight.frame = CGRectMake(0, self.getY, 250, 4100);
}

// Button actions (converted to a single action instead of one for each button)
// This was done by referencing a tag added to each button (the button tags 
// match the children's tags)
-(IBAction)goToForm:(id)sender {
    UIButton *btn = (UIButton *)sender;
    self.currentChild = self.formViewControllers[btn.tag];
    [UIView beginAnimations.nil context:NULL];
    [UIView animateWithDuration:0.3 animations:^{
        selectedFormHighlight.frame = CGRectMake(0, self.getY, 250, 4100);
    }];
    [UIView commitAnimations];
    sfh.frame = selectedFormHighlight.frame;
}

// This returns the 'y' (vertical center position) of the pointer 
// frame for each of the child views
-(int)getY {
    switch(_currentChild.view.tag) {
        case 1:
            return -2005;
            break;
        case 2:
            return -1925;
            break;
        default:
            return -1845;
            break;
    }
} 
```

# python - 使用 django-admin.py 时出错

> ID：14974659
> 
> 赞同：1
> 
> 时间：2013-02-20T07:43:14.907
> 
> 标签：python, django, configuration

请多多包涵，因为我通常是 Python/Django/Unix 的新手。
我正在学习如何在`settings.py`本地和生产环境中使用不同的文件。以下内容来自[官方 Django 文档页面中有关](https://docs.djangoproject.com/en/1.5/ref/django-admin/)`--settings`选项的部分，[`django-admin.py`](https://docs.djangoproject.com/en/1.5/ref/django-admin/)

> --settings 示例用法：
> 
> django-admin.py syncdb --settings=mysite.settings

我的项目结构如下：

```
mysite
L manage.py 
L mysite
   L __init__.py  
   L local.py
   L urls.py
   L production.py 
   L wsgi.py 
```

`mysite`但是，当我从父目录运行以下命令时，

> $ django-admin.py runserver --settings=mysite.local

我收到以下错误：

```
File "/Users/testuser/.virtualenvs/djdev/lib/python2.7/site-packages/django/conf/__init__.py", line 95, in __init__
    raise ImportError("Could not import settings '%s' (Is it on sys.path?): %s" % (self.SETTINGS_MODULE, e))
ImportError: Could not import settings 'mysite.local' (Is it on sys.path?): No module named mysite.local 
```

根据我在网络上收集的各种文章，我认为我需要将我的项目目录路径添加到`PYTHONPATH`bash 配置文件中的变量。这是正确的方法吗？

编辑：将斜杠更改为点，但同样的错误仍然存​​在。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:46:30.363

该`--settings`标志采用虚线 Python 路径，而不是文件系统上的相对路径。

意思`--settings=mysite/local`其实应该是`--settings=mysite.local`。如果你当前的工作目录是你运行时的项目根目录`django-admin`，那么你不应该触摸你的`PYTHONPATH`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:47:58.320

你必须替换`/`为`.`

```
$ django-admin.py runserver --settings=mysite.local 
```

您也可以更新 PYTHONPATH `manage.py`。在里面`if __name__ == "__main__":`添加以下内容。

```
import sys
sys.path.append(additional_path) 
```

# php - Zend Service Amazon - 如何在子类别中搜索？

> ID：14974661
> 
> 赞同：3
> 
> 时间：2013-02-20T07:43:15.523
> 
> 标签：php, api, zend-framework, amazon-web-services, amazon

我正在使用 Zend Service Amazon 2.0 使用关键字搜索书籍。现在，代码正在搜索所有书籍，而不考虑子类别。我怎样才能让它只搜索大学教科书，如以下链接所示？

```
http://www.amazon.co.uk/University-Textbooks/b/ref=amb_link_162814547_4?ie=UTF8&node=511914031&pf_rd_m=A3P5ROKL5A1OLE&pf_rd_s=left-1&pf_rd_r=0HCH1765DMFTPPTJ0QRG&pf_rd_t=101&pf_rd_p=361137207&pf_rd_i=266239 
```

这是我的代码：

```
 public function amazonsearch($keywords)  {
    set_include_path(get_include_path() . PATH_SEPARATOR . 'application/libraries/Amazon');
    require_once 'Zend/Loader/StandardAutoloader.php';

    $autoloader = new Zend\Loader\StandardAutoloader(array(
        'namespaces' => array(
            'Zend'        => dirname(__FILE__) . '/Zend',
            'ZendRest'    => dirname(__FILE__) . '/ZendRest',
            'ZendService' => dirname(__FILE__) . '/ZendService',
        ),
        'fallback_autoloader' => true));

    $autoloader->register();

    $tag       = ''; // replace with your Amazon app ID
    $appId     = ''; // replace w/ your access key from https://portal.aws.amazon.com/gp/aws/securityCredentials
    $secretKey = '';
    $query  = new ZendService\Amazon\Query($appId, 'UK', $secretKey);
    $query->Category('Books')->Keywords($keywords)->AssociateTag($tag)->Page(10);
    $data['result'] = $query->search();
    /*var_dump( $data['result']);*/
    $this->load->view('development/amazonsearch',$data);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-20T18:21:16.007

我认为 ZendService\Amazon 不支持此功能 - 至少文档中没有任何内容。根据此页面很容易实现：http: [//docs.aws.amazon.com/AWSECommerceService/latest/DG/BrowseNodeLookup.html](http://docs.aws.amazon.com/AWSECommerceService/latest/DG/BrowseNodeLookup.html)。

您可以尝试使用替代语法（[http://framework.zend.com/manual/2.2/en/modules/zendservice.amazon.html#using-the-responsegroup-option](http://framework.zend.com/manual/2.2/en/modules/zendservice.amazon.html#using-the-responsegroup-option)）并传递 BrowseNode 参数 - 参数传递给查询所以也许它会起作用：

```
$amazon->itemSearch(array(
    'SearchIndex'   => 'All',
    'BrowseNode'    => '1000'
    'Keywords'      => $keywords,
    'ResponseGroup' => 'BrowseNodes,Medium'
)); 
```

然后替换特定类别的 BrowseNode 值。

顶级节点列表： http: [//docs.aws.amazon.com/AWSECommerceService/latest/DG/BrowseNodeIDs.html](http://docs.aws.amazon.com/AWSECommerceService/latest/DG/BrowseNodeIDs.html)

我没有测试过，因为我没有亚马逊 api 凭据。

# ruby - 在 Ruby 中将一个文件中的属性替换为另一个文件中的属性

> ID：14974663
> 
> 赞同：2
> 
> 时间：2013-02-20T07:43:27.677
> 
> 标签：ruby, yaml, erb

我想将一个文件中的属性替换为另一个文件中的属性。（我是 ruby​​ 新手，阅读过 Ruby 和 YAML。我有 Java 背景）

例如。

**文件 1**

```
server_ip_address=$[ip]
value_threshold=$[threshold]
system_name=$[sys_name] 
```

**文件 2**

```
ip=192.168.1.1
threshold=10
sys_name=foo 
```

ruby 脚本应该将 $ 值替换为它们的实际值（我不知道 $[] 是否是 ruby​​ 中使用的格式。文件 1 和 2 是否必须是 YAML 文件或 erb 文件？）并将文件 1 生成为：

```
server_ip_address=192.168.1.1
value_threshold=10
system_name=foo 
```

我在网上搜索了这个，但无法用正确的关键字表达它以在谷歌上找到解决方案/指向解决方案/参考材料的指针。ruby 脚本如何做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:09:39.140

如果您可以切换格式，这应该很简单：

```
require 'yaml'

variables = YAML.load(File.open('file2.yaml'))
template = File.read('file1.conf')

puts template.gsub(/\$\[(\w+)\]/) { variables[$1] } 
```

您的模板可以保持原样，但替换文件如下所示：

```
ip: 192.168.1.1
threshold: 10
sys_name: foo 
```

这使得使用 YAML 库很容易阅读。

# ruby-on-rails - 如何在 Windows 7 32 位中为 Ruby on Rails 安装 Rmagick 和 imageMagick

> ID：14974664
> 
> 赞同：3
> 
> 时间：2013-02-20T07:43:28.703
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, imagemagick, rmagick

我需要为我的应用程序安装 Rmagick，所以我已经搜索了几乎所有与我在 web 和 stakeoverflow 上的问题相关的问题，但这些都不适合我。我也跟着这个，但没有奏效

```
http://stackoverflow.com/questions/6473853/ruby-on-rails-rmagick-on-windows-7 
```

> 我的 Ruby 版本 -> 1.9.3
> 
> Rails 版本 -> 3.2.9
> 
> ImageMagick 版本->ImageMagick-6.8.3-2-Q16-x86-dll.exe
> 
> 我在这里安装了 ImageMagick -> C:\ImageMagick-6.8.3-Q16

我打开 CMD 然后输入

> gem install rmagick --platform=ruby -- --with-opt-lib=C:\ImageMagick-6.8.3-Q16\lib --with-opt-include=C:\ImageMagick-6.8.3-Q16\include

错误是

```
ERROR:  Error installing rmagick:
        ERROR: Failed to build gem native extension.

        d:/RailsInstaller/Ruby1.9.3/bin/ruby.exe extconf.rb --with-opt-lib=C:ImageMagick-6.8.3-Q16lib --with-opt-include=C:ImageMagick-6.8
.3-Q16include
checking for Ruby version >= 1.8.5... yes
Invalid drive specification.
Unable to get ImageMagick version
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
        --with-opt-dir
        --without-opt-dir
        --with-opt-include=${opt-dir}/include
        --with-opt-lib=${opt-dir}/lib
        --with-make-prog
        --without-make-prog
        --srcdir=.
        --curdir
        --ruby=d:/RailsInstaller/Ruby1.9.3/bin/ruby

Gem files will remain installed in d:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/rmagick-2.13.2 for inspection.
Results logged to d:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/rmagick-2.13.2/ext/RMagick/gem_make.out 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-09T05:11:19.930

复制评论中的答案，以便从“未回答”过滤器中删除此问题：

> 我找到了解决方案及其工作[http://rorashish.blogspot.in/2012/08/installing-rmagick-with-imagemagic-on.html](http://rorashish.blogspot.in/2012/08/installing-rmagick-with-imagemagic-on.html)

[〜按加根](https://stackoverflow.com/users/1845041/gagan)回答

有关完整详细信息，请参阅上面的链接，但高级步骤（截至 2012 年 8 月 9 日）是：

1.  安装 Ghostscript
2.  安装 Imagemagick（使用 32 位版本，因为 64 位不工作）
3.  重新启动控制台/cmd 提示符/IDE/...（或 windows）
4.  安装 rmagick

# php - 提取数据后包含视图

> ID：14974665
> 
> 赞同：2
> 
> 时间：2013-02-20T07:43:29.913
> 
> 标签：php, templates, html-rendering

我有两个功能`loadView()`，`render()`在我的视图类中。

```
public function loadView($view){
        if(file_exists(APP.'view/'.$view)){
            require(APP.'view/'.$view);
        }
        else{
            die(APP.'view/'.$view.' not found.');
        }
    }

public function render($view,$data = array()){
        if(!empty($data)){
            extract($data);
            ob_start();
            //$this->loadView($view);  -------------- not woriking
            require(APP.'view/'.$view);        ------ working
            $this->output = ob_get_clean();

            echo $this->output;
        }
    } 
```

每当我从它不工作的地方调用该`loadview`函数时。`render`但是如果我`include`在提取数据后直接查看文件，它就可以工作。任何人都可以告诉我为什么会发生这种情况或任何解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:01:45.283

这将不起作用，因为在语句的位置和该位置的范围内`require()`包含所需的代码。`require()`在这种情况下，范围就是`loadView()`方法。在该方法范围内，从该`render()`方法中提取的变量不可用。

我鼓励您为视图使用模板引擎，而不是为此找到解决方案，例如[Twig](http://twig.sensiolabs.org/)。这是 MVC 框架中的标准做法。然后，您可以执行以下操作：

```
public function render($view,$data = array()){
    $template = $twig->loadTemplate($view);
    echo $template->render($data);
} 
```

# javascript - 使用javascript括号中的负数

> ID：14974670
> 
> 赞同：3
> 
> 时间：2013-02-20T07:43:53.217
> 
> 标签：javascript, match

我使用 match 将数学表达式拆分为单独的字符串并将它们保存在数组中。

```
var STRING = ST.match(/\d*\.\d+|\d+|[()/*+-]/g); 
```

但是这种方法将所有内容分开，包括括号内的负数。例如 (-2+4) 不会给我 -2，而是将 - 保存在 STRING 数组的一个索引中，并将 2 保存在下一个索引中。无论如何使用匹配并保存括号中的负数？

这就是我想要的：（-2+4）：

```
STRING[0] give me (
STRING[1] give me -2
STRING[2] give me +
STRING[3] give me 4
STRING[4] give me ) 
```

如果没有负数正常工作：（2+4）：

```
STRING[0] give me (
STRING[1] give me 2
STRING[2] give me +
STRING[3] give me 4
STRING[4] give me ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:46:12.380

我认为不可能解析像`"(-2+4*-(3.5--8))"`正则表达式这样的复杂案例，特别是考虑到我们在 javascript 中没有负面的看法。

一种解决方案是通过在分隔符和无符号表达式之间合并符号来对匹配数组进行后处理。

在我看来，正则表达式在这里很有用，但仅用于主要标记化。随着您将构建二叉表达式树（或您选择的任何其他正式表示），大部分工作都将在您面前完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:57:09.247

不幸的是，如果您尝试解析数学表达式，则不能使用正则表达式。

RegExps 可用于[正则文法](http://en.wikipedia.org/wiki/Regular_grammar "正则文法")可描述的语言，而算术表达式则不能，它们由上下文无关文法 ( [CFG](http://en.wikipedia.org/wiki/Context-free_grammar) ) 描述。如果你想解析，也许解释结果，你肯定需要一些堆叠状态机。

你可以看看这个众所周知的[算法](http://www.smccd.net/accounts/hasson/C++2Notes/ArithmeticParsing.html)。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:58:50.250

您可以在数字上添加一个可选符号，这将适用于您的示例：

```
var STRING = ST.match(/-?\d*\.\d+|-?\d+|[()/*+-]/g); 
```

但是，这也会将减号运算符变成符号。表达式`(4-2)`会给你`{ "(", "4", "-2", ")" }`。

此外，它会愉快地“解析”一个表达式，就像`+---((((***`没有抱怨一样。如果您想要一个有意义的结果，您应该真正解析它，而不仅仅是用正则表达式拆分它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:27:40.140

我认为你的 RegExp 有一些错误试试这个，它对我有用：

```
var STRING = ST.match(/(\d*)(\.)(\d+)|(\d+)|[()\/*+-]/g); 
```

# php - 如何解析 TwitchTV Api？

> ID：14974673
> 
> 赞同：1
> 
> 时间：2013-02-20T07:44:08.360
> 
> 标签：php, parsing

```
$json = file_get_contents('https://api.twitch.tv/kraken/streams');
$jsonDecoded = json_decode($json);

$fp = fopen('results.json', 'w');
fwrite($fp, json_encode($jsonDecoded));
fclose($fp); 
```

我只需要 2 个字段`https://api.twitch.tv`。

它是流->频道->名称和流->观众；

我怎样才能为每个建筑创造好处？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:28:30.993

您可以简单地对其进行迭代并像这样复制：

```
$streams = array();
foreach ($jsonDecoded->streams as $stream) {
    $streams[$stream->channel->display_name] = $stream->viewers;
} 
```

然后你可以像其他key=>value php数组一样使用它，即：

```
foreach ($streams as $stream => $viewers) {
    echo $stream.": ".$viewers."\n";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-05T19:44:44.853

```
foreach ($jsonDecoded->streams as $stream) {
    $streams[$stream->channel->display_name] = $stream->viewers;
} 
```

这对我不起作用。我必须将其更改为此才能正常工作：

```
foreach ($jsonDecoded->streams as $stream) {
    $streams[$stream->channel->display_name] = $stream->viewers;
} 
```

# facebook - FQL "DISTINCT" method

> ID：14974674
> 
> 赞同：1
> 
> 时间：2013-02-20T07:44:09.653
> 
> 标签：facebook, facebook-fql

I am grabbing friends' statuses using STREAM table and FQL. I want to get back ONLY one status per friend, but FQL doesn't support "normal" SQL operators like `DISTINCT`. Any ideas how to make such a distinct based on `actor_id` column?

my FQL:

```
"SELECT actor_id, message FROM stream WHERE filter_key in (SELECT filter_key FROM stream_filter WHERE uid=me() AND type=\'newsfeed\')" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:52:33.140

好吧，您不能在 FQL ( `enables you to use a SQL-style interface to query the data exposed by the Graph API`)中使用 distinct 关键字

你必须在你的应用程序中处理它。遍历您的结果并将每个结果`friend_id`作为键存储在关联数组中并存储值（基于时间戳）

# java - XAMPP 服务器不返回 Json 对象

> ID：14974677
> 
> 赞同：0
> 
> 时间：2013-02-20T07:44:15.187
> 
> 标签：java, php, android, json, parsing

我有一个 andoird 应用程序，我希望将结果返回到我的 android textview。我在浏览器上对其进行了测试，是的，结果显示了，但它没有向我的 android 应用程序返回任何内容。

以下代码是我的 php 文件。

```
<?php

$accounts = mysql_connect("localhost","user123","1234")
or die (mysql_error());

mysql_select_db("user123",$accounts);

if(isset($_GET["id"])){
    $id = $_GET['id'];

    $result = mysql_query("SELECT * FROM table123 WHERE id = $id");

    if($result != null){
        $result = mysql_fetch_array($result);
        $user = array();
        $user["username"] = $result["username"];
        $user["password"] = $result["password"];

        echo json_encode($user);
    }else{

    }
}else{

    $user["username"] = "not found";
    $user["password"] = null;
    echo json_encode($user);
}

?> 
```

以下代码是浏览器结果

```
{"username":"not found","password":null} 
```

即使没有找到结果，它也应该返回 $user show me "not found"。不可能没有任何东西返回到流中。我已经在我的浏览器上对其进行了测试，是的，它返回了 $user 给我。我的代码有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:56:02.120

替换`"localhost"`为`"10.0.2.2"`

并将这一行添加到您的清单中：

```
<uses-permission android:name="android.permission.INTERNET" /> 
```

如果您使用 Android 3.0 或更高版本（在这种情况下您可以）。然后尽可能将模拟器更改为 2.3.3，然后再次尝试运行代码。
或
将这些行添加到您的代码中：

```
StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
StrictMode.setThreadPolicy(policy); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T13:08:14.400

我的 PHP 源代码没有任何问题。替换以下代码后我得到了它

```
HttpClient httpClient = new DefaultHttpClient(); 
```

到

```
DefaultHttpClient httpClient = new DefaultHttpClient(); 
```

一切正常。

# jquery - 将类添加到特定图像

> ID：14974679
> 
> 赞同：2
> 
> 时间：2013-02-20T07:44:24.890
> 
> 标签：jquery, xml

我今天有点不经意，想知道是否有人可以在这里帮助我......

我正在将 XML 解析为运行良好的 JavaScript...

XML 看起来像这样

```
<test>
    <part background="images/background.png">
        <mark image="images/image1.png"></mark>
        <mark image="images/image2.png"></mark>
    </part>
</test> 
```

在我的 JavaScript 中，我有这样的东西：

```
$(xml).find('test'>.each(function(){
  var screen = $('<div class="screen"></div>').appendTo(container);
  var list = $('<ul></ul>').appendTo(screen);

$(xml).find('part').each(function() {
   var part = $('<li></li>').appendTo(list);
   part.append($('<img/>).attr('src', $(this).attr('background')));

$(this).find('mark').each(function() {
  var mark = $('<div></div>').appendTo(part);
  mark.append($('<img/>').attr('src', $(this).attr('image'))); 
```

现在我想做的是上`image2.png`一个 CSS 课程，但正如我之前所说，我今天有一个 nobrainer，因此有人可以告诉我实现这一目标的最简单方法。提前感谢可以帮助我的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:48:45.627

尝试

```
$('img[src$="image2.png"]').addClass('theClass'); 
```

作为脚本的最后一个命令（在所有附加之后）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:49:09.490

像这样？：

```
if ($(this).attr('image') == "image2.png") {
    mark.append($('<img src="'+$(this).attr('image')+'" class="foo">');
} else {
    mark.append($('<img/>').attr('src', $(this).attr('image')));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:52:52.193

我猜

```
if ($(this).attr('src') == "images/image2.png") {
 mark.addClass('class')
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:14:03.037

像这样修改您的代码（标记部分）：

```
$(this).find('mark').each(function() {
    var mark = $('<div></div>').appendTo(part);
    //Example 1
    mark.append($('<img/>').attr({'src':$(this).attr('image'), 'class':($(this).attr('image')==='image2.png')?'class-name':''}));

    //Example 2
    var img = $('<img/>').attr('src', $(this).attr('image'));
    if($(this).attr('image') === 'image2.png')
        img.addClass('class-name');
    mark.append(img);
}); 
```

# iphone - ios voip app run only 10 min in background

> ID：14974682
> 
> 赞同：2
> 
> 时间：2013-02-20T07:44:35.670
> 
> 标签：iphone, objective-c, voip

I am creating a voip application for iPhone and iPad family in which I have done following things :

1.  Added the **UIBackgroundModes** key in the plist file with values '**audio**' and '**voip**'.
2.  Create **NSInputStream** and **NSOutputStream** with tag **NSStreamNetworkServiceTypeVoIP** and scheduled them in runloop of another thread(not main thread).
3.  Created a background task in **applicationDidEnterBackground**.
4.  Added **setKeepAliveTimeout** handler (timeout value 600 sec).

Application relaunches when code in handler of **setKeepAliveTimeout** is called.

Application relaunches if I dont put setKeepAliveTimeout handler ,but tries to send any signal to app after suspension(10 mins in background is completed).

I have tried almost everything that came in my mind, Need pointers towards the solution Thanks in advance,

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:00:50.700

setKeepAliveTimeout 处理程序的职责是关心连接。因此，您应该使用比连接超时时间短的活动间隔。

# list - Spring Roo - MongoDb -- List of String

> ID：14974685
> 
> 赞同：3
> 
> 时间：2013-02-20T07:45:05.520
> 
> 标签：list, mongodb, spring-roo

[Creating a List<> Member with Spring Roo](https://stackoverflow.com/questions/6222552/creating-a-list-member-with-spring-roo) that does not answer my question!

So what I want to do is "field list --fieldName addressList" but the Spring roo seems only allow "field set --fieldName addressList --type ~.model.A" and I can't even do " field set --fieldName addressList --type java.lang.String"

so it should be very simple but how come it doesn't support that? or what should I be doing instead to achieve the same result?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T20:25:58.623

“怎么不支持？”

因为框架的这一部分旨在表示持久实体的关系。为什么要与（未设置的）列表相关联？您如何知道该条目是否是相关记录的一部分，而不仅仅是重复记录？

“而且我什至不能做” field set --fieldName addressList --type java.lang.String“”

那是因为 java.lang.String 不是 jpa 类。您只能将 jpa 实体相互关联。

您应该使用与此对象相关的字符串字段表示来创建地址类。

```
entity jpa --class ~.Address
field string AddressLine1 --notNull
field string AddressLine2 
focus --class ~.YourClassThatNeedsAnAddressList
field set --fieldName addressList --type ~.Address 
```

现在 ~.YourClassThatNeedsAnAddressList 的每个实例都可以有多个与之关联的地址。每个地址由两个字符串组成。

# adobe-edge - Adobe Edge Animate：如何获取 Symbol 的当前时间？

> ID：14974686
> 
> 赞同：4
> 
> 时间：2013-02-20T07:45:10.467
> 
> 标签：adobe-edge

在 Adob​​e Edge Animate 中，如何获取 Symbol 的当前时间？

我混合使用 jQuery 和 Adob​​e Edge 代码来编写我的页面。我想检查一个符号的时间是否停留在第一帧（如果在 Flash 的概念中）。

```
$(window).scroll(function(e) 
{
   var the_stage = $.Edge.getComposition("EDGE-123456").getStage();
   var sym = the_stage.getSymbol(id);
   // how to get current time ?
}); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T08:39:22.153

终于找到了解决办法。要获取当前时间，请使用：

```
var pos = sym.getPosition() 
```

`pos`是一个整数。如果符号之前没有播放过，它的值为**-1**，否则它是以毫秒为单位的位置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-19T13:06:19.850

您的解决方案没问题，但需要澄清。

如果您的动画在 div“内部”：

```
<div id="stage_animation_0" class="animation_0"></div> 
```

我建议用“animation_”+动画编号命名类属性，用“stage_”+类名命名id属性。

# 得到

您可以通过这种方式获得实际的时间轴位置：

```
var getAnimationPos = function(animation) {     
  var stage = $.Edge.getComposition(animation).getStage();
  var sym = stage.getSymbol("stage_" + animation);
  return sym.getPosition();
} 
```

通过这种方式，您可以获得时间轴位置：

```
var position = getAnimationPos("animation_0"); 
```

# 放

设置实际时间线位置更加“复杂”。

如果您的动画正在播放并且您想跳转到特定位置：

```
var jumpPosition = 300; /* expressed in milliseconds */
$.Edge.getComposition(animation).getStage().play(jumpPosition); 
```

如果您的动画已暂停并且您想在不播放的情况下设置位置，您必须：

```
var jumpPosition = 300; /* expressed in milliseconds */
$.Edge.getComposition(animation).getStage().stop(jumpPosition); 
```

这样，当您调用 play() 时，动画将从位置 300 开始。

# ios - Upgrade to Facebook SDK 3.1 for iOS

> ID：14974688
> 
> 赞同：1
> 
> 时间：2013-02-20T07:45:12.183
> 
> 标签：ios, facebook, facebook-graph-api

When I login to my Facebbok App page I see: "Upgrade to Facebook SDK 3.1 for iOS This app uses an outdated version of the Facebook SDK for iOS. Please upgrade to the newest version."

I've just upgraded to the 3.1 SDK for my app, but my question is, when will this "warning" disappear? Will it be there as long there is any user out there using a version of my iOS app with the older facebook SDK?

# asp.net - 更新面板有什么作用？

> ID：14974689
> 
> 赞同：0
> 
> 时间：2013-02-20T07:45:14.840
> 
> 标签：asp.net

我对 asp.net 很陌生，我想知道更新面板到底做了什么。我已经查看了有关该问题的几个答案，但我似乎无法理解。有人可以用更简单的方式向我解释吗？

谢谢。

最好的问候， 里科

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:48:06.943

更新面板用于执行 ASP.NET Ajax 调用。[在此处](http://ajax.net-tutorials.com/controls/updatepanel-control/)阅读有关它的更多信息

# php - How to calculate two different values from two different row in mysql database by php

> ID：14974693
> 
> 赞同：0
> 
> 时间：2013-02-20T07:45:24.290
> 
> 标签：php

Actually I am creating database on wamp server with the help of php. There is some calculation among some fields.This database for is for lab procurement in which every entry is for new file.Every thing is done but the problem is come when I try to insert a new values for a new file but one value is depend on a value of a previous file. like A(FILE NO) B C D 1 2 3 4 2 5 5 9(D1+C2)

So how does is it possible? I am new to this language so if there is another way to do this then please tell me.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:10:25.110

你真的应该使用 HeidiSQL 来创建和管理你的数据库，它更容易。然后你只需在 php 中创建一个带有 php 文件的链接。至于你的问题，是的，实际上很容易：

```
$id=0;//a counter to determine if you had inserted an item
if(isset($_POST['some_item'])){// when a value is set, like adding a new item to your database using the post method
   INSERT....//whatever you want
   $id=$_POST['id'];//the id of the item you just inserted ,which is also the counter
}
if($id!=0)
   //execute whatever code you want 
```

# javascript - Ember.js: Get information on errors

> ID：14974695
> 
> 赞同：1
> 
> 时间：2013-02-20T07:45:36.933
> 
> 标签：javascript, debugging, ember.js

Happily continuing my journey to learn Ember.js, I am creating a relationship between two objects like this:

```
var item  = App.Item.find( itemId );
item.set('stage', stage);
item.store.commit() 
```

This produces an error.

Ok, so I added the following to my model:

```
 App.Item = DS.Model.extend({
  stage: DS.belongsTo( 'App.Stage' ),
  title: DS.attr('string'),
  desc: DS.attr('string'),
  becameError: function(error) {
     console.log("* item becameError");
     console.log(this.get('errors')); // <- this
  }
 }); 
```

This prints out the "* item becameError" in the JS-console, but the second console.log evaluates to "null".

How do I get more information about what caused the error? ( My REST-API logs show things went just well, the record is stored correctly and when I refresh the browser Ember displays the data as it should be. )

# javascript - jQuery UI Droppable，默认删除一个项目（不改变标记结构）

> ID：14974697
> 
> 赞同：1
> 
> 时间：2013-02-20T07:45:41.877
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-draggable, jquery-ui-droppable

我正在使用`.draggable()`and`.droppable()`来计算丢弃在容器中的物品的价格，基于重量和定义所有物品每克价格的常数。

现在，我希望默认情况下将其中一个项目放入容器中，以及正确的计算以及在容器上拖动更多/更少项目的可能性。当按下重置按钮时，定位应该像图 1 一样，并且我必须能够像其他可拖动项一样将默认项拖出容器。

**这就是它现在的样子：** ![jQuery可拖动](../Images/c4036e1d08734103296d229a582d1e93.png)

**这就是我希望它在页面加载时的样子：** ![可丢弃，默认丢弃](../Images/4a25cb7b323e6e12d219e91e760026a3.png)

我还没有找到任何涵盖此类默认 droppable 的文档，所以我真的不知道从哪里开始。我在这里为那些更喜欢它的人准备了一个 Jsfiddle：http: [//jsfiddle.net/gPFMk/和一个 Jsbin](http://jsfiddle.net/gPFMk/) [http://jsbin.com/oxuguc/1/edit](http://jsbin.com/oxuguc/1/edit)

```
var price = 0, math = '', items = [], state = 'outside', wprice = 209;

function calcPrice(math) {
  price = 0;
  weight = 0;
  $('.counter-number').remove();
  addticker(0);
  console.log("Item array: " + items);
  $.each( items, function( key, value ) {
    price+= parseInt($(".draggable[data-item='" + value + "']").attr('id'));
    weight+= $(".draggable[data-item='" + value + "']").data('weight');
    loadticker(price);
  });
  $('#weight').html('<span>weight </span>' + weight + ' g');
}

function revertDraggable($selector) {
  $selector.each(function() {
    var $this = $(this),
      position = $this.data("originalPosition");
      if (position) {
        $this.animate({
          left: position.left,
          top: position.top
        }, 500, function() {
          $this.data("originalPosition", null);
        });
      }
    items = [];
    $('#droppable').removeClass('active');
    $('.counter-number').remove();
    calcPrice();
  });
}

$(function() {
  $.each($('.draggable'), function() {
    var $this = $(this),
    weight = $this.data('weight');
    $this.attr('id', weight*wprice);
  });

  $(".draggable").draggable({
    revert: function (event, ui) {
      $(this).data("draggable").originalPosition = {
        top: 0,
        left: 0
      };
      return !event;
    },
    cursor: "move",
    cursorAt: {
      top: 56,
      left: 56
    },
    stack: "div",
    containment: "#container",
    scroll: false
  });

  $("#droppable").droppable({
    drop: function(e, u) {
      $(this).addClass('active');
      if ($.inArray(u.draggable.data('item'), items) == -1) {
        items.push(u.draggable.data('item'));
        price = 0;
        weight = 0;
        calcPrice('add');
        u.draggable.data('state', 'inside');
      }
      if (!u.draggable.data("originalPosition")) {
        u.draggable.data("originalPosition",
        u.draggable.data("draggable").originalPosition);
      }
    },
    over: function() {
      $(this).addClass('active');
    },
    out: function(e, u) {
      if(u.draggable.data('state') == 'inside') {
        u.draggable.data('state', 'outside');
        var itemIndex = $.inArray(u.draggable.data('item'), items);
        items.splice(itemIndex, 1);
        price = $("#droppable").text();
        calcPrice('remove');
      }
      if (items.length === 0)
        $('#droppable').removeClass('active');
    }
  });
  $('#container').on('click', '#reset', function() {
    revertDraggable($(".draggable"));
  });
}); 
```

```
 <div id="container">
    <div id="heft">
      <div id="info">
          <div id="price">
            <span>price</span>
            <div class="counter-wrap">
              <div class="counter-number">
                  &nbsp;
              </div>
            </div>€
          </div>
          <div id="weight">
            <span>weight</span>
            0 g
          </div>
          <button id="reset">Reset</button>
        </div>
        <div id="droppable"></div>
      </div>
      <div id="items">
      <div class="draggable" data-item="3" data-weight="15" data-state="outside"><img src="http://wemakeawesomesh.it/nyancat/nyan.gif" width="90" height="90"></div>
      <div class="draggable" data-item="2" data-weight="35" data-state="outside"><img src="http://wemakeawesomesh.it/nyancat/nyan.gif" width="90" height="90"></div>
      <div class="draggable" data-item="1" data-weight="8" data-state="outside"><img src="http://wemakeawesomesh.it/nyancat/nyan.gif" width="90" height="90"></div>
      </div>
    </div> 
```

如果我像建议的那样将一项的代码移动到可放置的 div 中，`revertDraggable()`并且`revert:`不会按预期工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T13:31:02.873

这是一个模拟文档加载时第一个项目的项目下降的解决方案。困难在于模仿下降过程中发生的情况：

```
$(".draggable[data-item='1']").attr(
    "style",
    "position: relative; z-index: 10; left: 300px; top: 30px"
);

var onDrop = function(e,u) {
    if ($.inArray(u.draggable.data('item'), items) == -1) {
        items.push(u.draggable.data('item'));
        price = 0;
        weight = 0;
        calcPrice('add');
        u.draggable.data('state', 'inside');
    }
    if (!u.draggable.data("originalPosition")) {
        u.draggable.data("originalPosition",
        u.draggable.data("draggable").originalPosition);
    }
};

onDrop.call($("#droppable"),
    {},{ draggable: $(".draggable[data-item='1']") }
); 
```

这是[**jsfiddle 的链接**](http://jsfiddle.net/martyk/qtxPZ/3/)。

# javascript - Add data element to element

> ID：14974698
> 
> 赞同：0
> 
> 时间：2013-02-20T07:45:43.030
> 
> 标签：javascript, jquery, tooltip

I have a link. Like this:

```
<a href="#" title="Title from this link"></a> 
```

I want remove this title and put the title text in a data attribute. As data-title. How can i make this with jquery. So remove the title element. And place the text of the title element. In a new title data element.

Thanks

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T07:50:09.670

```
// you'd probably wanna give an unique id to your anchor to more easily identify it
var anchor = $('a'); 
var title = anchor.attr('title');
anchor.removeAttr('title');
anchor.attr('data-title', title); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:49:36.110

```
// set title data-title to value of title
$("a").attr("data-title", $("a").attr("title"))
// clear title
$("a").attr("title", ""); 
```

另外我会给你的链接一个`class`，所以这个动作不会`a`在整个页面上运行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T07:51:28.497

设置元素属性的用户`attr`方法。以及`removeAttr`删除属性的方法

```
 $("a").attr("data-title", $("a").attr("title"));
 $("a").attr("title", ""); 
 // or
 $("a").removeAttr("title"); 
```

*PS：会为锚元素建议一个唯一的 id 或一个类*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-20T07:51:35.357

尝试：

```
$("a").attr("data-title", $("a").attr("title"));
$("a").removeAttr("title"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T08:02:04.950

jsfiddle 链接：http: [//jsfiddle.net/NEBh4/](http://jsfiddle.net/NEBh4/)

您可以使用 firebug 或任何其他开发工具查看结果窗口中的链接发生的更改

```
$(document).ready(function(){
//example code one
var tempLink = $('#link');//cash the jquery object for performance
tempLink.attr('data-title', tempLink.attr('title')).removeAttr('title');

/*In above example I used an id to capture the html element, which mean u can only do above step only for one element. If you want to apply above step for many links you can use the following code. In this case I'm using a class name for the link element*/

//example code two
$('.link').each(function(){
    $(this).attr('data-title', $(this).attr('title')).removeAttr('title');
}); 
```

});

上述示例的 HTML

```
<!-- for example code one -->
<a id="link" class="link" href="#" title="Title from this link"></a>

<!-- for example code two -->
<a class="link" href="#" title="Title from this link 1"></a>
<a class="link" href="#" title="Title from this link 2"></a>
<a class="link" href="#" title="Title from this link 3"></a> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-20T07:54:30.023

```
<a id="1" href="#" title="Title from this link 1"></a>
<a id="2" href="#" title="Title from this link 2"></a>

var t = $("a[title='Title from this link 1']").attr("title");
$("#2").attr("title", t); 
```

# php - 谷歌更改了关键字工具网址？

> ID：14974703
> 
> 赞同：1
> 
> 时间：2013-02-20T07:46:06.603
> 
> 标签：php, web-scraping

我一直在使用以下代码从 Google 中抓取关键字：

```
 $data=file_get_contents('http://clients1.google.com/complete/search?hl=en&gl=us&q='.$keyword); 
```

但是，我的脚本建议开始显示这些错误：

```
Warning: file_get_contents(http://clients1.google.com/complete/search?hl=en&gl=us&q=money) [function.file-get-contents]: failed to open stream: HTTP request failed! HTTP/1.0 400 Bad Request in /home/username/public_html/keywords.php on line 10 
```

我猜这是由谷歌更改链接引起的？有谁知道新链接是什么或者我需要在我的代码中更改什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T07:56:35.887

试试这个：

```
$url = 'http://suggestqueries.google.com/complete/search?output=firefox&client=firefox&hl=en-US&q=';

$data=file_get_contents($url . urlencode( $keyword ) ); 
```

希望能帮助到你。

# php - how to get php date format from given string

> ID：14974709
> 
> 赞同：2
> 
> 时间：2013-02-20T07:46:21.537
> 
> 标签：php, datetime, date-format, date-formatting

How to get date format of given string, string contain a valid date I am try to import data from csv file, and that csv files are exported for backup but there are so many different type of date format and in some case when i try to convert string to date it throwing me an error

> ex: 04/08/2010 10:22 am

some time this **type** of format throwing me error

```
Error 500: DateTime::__construct(): Failed to parse time string 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:21:56.090

你可以只使用[strtotime](http://www.php.net/manual/en/function.strtotime.php)

```
echo date('Y-m-d H:i:s', strtotime('04/08/2010 10:22 am')); // output: 2010-04-08 10:22:00 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:11:36.343

您可以使用[`DateTime::createFromFormat()`](http://www.php.net/manual/en/datetime.createfromformat.php)静态方法。

此外，您可能需要阅读以下内容：

*   [`DateTime::__construct()`参考](http://www.php.net/manual/en/datetime.construct.php)
*   [支持的日期和时间格式](http://www.php.net/manual/en/datetime.formats.php)
*   [日期/时间扩展参考](http://php.net/dateTime)

此外，您需要使用搜索功能（页面右上角）。有很多问题涉及类似的问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-20T07:49:10.587

尝试这个...........

```
 $today = date("d/m/Y g:i a");

<?php 
    $today = date("d/m/Y g:i a");
    echo $today;
?> 
```

你会得到这样的输出......`20/02/2013 7:53 am`

有关示例一，请参阅此[示例](http://eval.in/10799)链接

# basic-authentication - Nancy 基本身份验证密码更改导致身份验证失败

> ID：14974715
> 
> 赞同：0
> 
> 时间：2013-02-20T07:46:37.983
> 
> 标签：basic-authentication, nancy

我使用 Nancy 和 Owin 创建了一个自托管站点。我使用 Nancy.BasicAuthentication 进行身份验证。在我更改当前登录用户的密码之前，一切正常。

更改密码后，如果用户创建请求，则会将他们重定向到 404 错误页面，并弹出窗口询问用户名和密码。

如何在更改密码后更新用户的凭据以防止他们失去身份验证？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:59:16.833

a) Basic auth 很容易监听 - 请考虑使用摘要 auth。

b）基本身份验证和摘要身份验证都在逐页的基础上工作 - 每个请求都单独进行身份验证（如果浏览器已经拥有凭据，则浏览器只会自动进行身份验证）

c) 希望返回 401 Authentication Required，而不是 404 Not Found？

d) 我怀疑做任何事情以允许以前经过身份验证的用户在更改密码后继续使用站点（例如 cookie）将需要更改身份验证处理程序的代码。例如，您可以在页面成功通过身份验证时设置 cookie（需要加密），然后如果 cookie 可用（cookie 超时）则不需要对其他页面进行身份验证。

# ios - 更新 NSFetchedResultsController 获取请求谓词，用动画刷新表？

> ID：14974719
> 
> 赞同：1
> 
> 时间：2013-02-20T07:46:47.010
> 
> 标签：ios, core-data

我似乎在任何地方都找不到这个。

我有一个有效的搜索框（尽管它使用的是 UITextView，而不是搜索框/控制器）。

当用户输入文字时，我想更新下面表格视图中从核心数据中提取的“建议”。这些使用典型的 NSFRC 设置显示在下表中。

在用户输入后（延迟 0.5 秒），我用他们的文本更新获取请求谓词，并再次调用 performFetch。

我真正想要的是新的动画结果，就像你通常在 NSFRC 中看到的那样，当然要保留任何现有的匹配行。目前，我让这些更新的唯一方法是在表上调用 reloadData。

有没有办法在这里得到我想要的东西？

# excel - 可以在一个案例excel-vba下插入多条指令吗？

> ID：14974722
> 
> 赞同：0
> 
> 时间：2013-02-20T07:47:01.660
> 
> 标签：excel, vba

想问一下，我可以在一个case语句下使用多条指令吗？不想使用if..then，因为我有超过7个条件。我想要做的是如果组合框的值为“this”，然后在正确的行插入新行，然后将组合框值添加到新创建的行中。这是示例：

```
Case ComboBox1.Value = "Venofix"
  instruction 1 ~> count the number of row of "venofix"
  instruction 2 ~> insert new row at the last row
  instruction 3 ~> insert data from combobox

Case ComboBox1.Value = "Penofix"
  instruction 1 ~> count the number of row of "penofix"
  instruction 2 ~> insert new row at the last row
  instruction 3 ~> insert data from combobox 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:18:24.950

这是你正在尝试的吗？

就像我在评论中说的`I would however keep Instruction 2 and 3 out of the select case (not because it won't work inside the select case but simply because I would want to avoid duplicate code)`

```
Sub Sample()
    Select Case ComboBox1.Value
    Case "Venofix"
        'instruction 1 ~> count the number of row of "venofix"
    Case "Penofix"
        'instruction 1 ~> count the number of row of "penofix"
    End Select

    'instruction 2 ~> insert new row at the last row
    'instruction 3 ~> insert data from combobox
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:25:39.370

您还可以用逗号指定多个条件分隔。

```
Sub Sample()

        Dim conDition As String
        conDition = ComboBox1.Value
        Select Case conDition
        Case "Venofix"
            Debug.Print "instruction 1"
        Case "Penofix"
          Debug.Print "instruction 1"
       Case "test1", "test2"
            Debug.Print "more than 1 instruction"
        End Select

    End Sub 
```

# java - 如何区分类的实例？

> ID：14974723
> 
> 赞同：2
> 
> 时间：2013-02-20T07:47:02.390
> 
> 标签：java

我有类 Validator，它管理来自文件和数据库的所有验证标准。但是这个标准是由 Loader 加载的，如下所示：

```
Validator validator = Loader.load("clients"); //get all from clients.cfg file 
```

从另一个类中确定当前加载哪些标准的最佳方法是什么？

```
Importer importer;
Validator clientsValidator = Loader.load("clients");
Validator addressValidator = Loader.load("address"); ...
importer.validate(data, clientsValidator, addressValidator);

public class Importer{
   public void validate(Data data, Validator... validator){
      ...
      validateClient(data, one of validators);
      validateAddress(data, another of validator);
      ...
   }
} 
```

我需要知道在 Importer 类中，哪个 Validator 用于客户端，哪个用于地址......有什么好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:51:32.710

最好的方法是为您添加一个字段和随附的方法来`Validator`返回`"clients"`创建它的标识符（例如）。

或者，如果在调用时使用不同的标识符，`Loader.load()`您可以返回实现接口的不同类的实例`Validator`，那么您可以使用该[`Object.getClass()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#getClass%28%29)方法来区分这些类。如果这些类在一个很小的集合中，你甚至可以`instanceof`直接使用。

在能够提供更具体的答案之前，我们需要更多信息，例如究竟`Loader`是什么，是什么`Validator`以及允许您更改多少代码。

**编辑：**

老实说，也许您应该重新考虑重新设计您的数据模型。就目前而言，您显然可以混合客户端和地址而无需任何检查。您应该重组您的代码，以便能够依赖 Java 的类型安全特性。

一种方法是拥有一个通用类/接口，验证对象的类在`Validator<T>`哪里：`T`

```
public interface Validator<T> {
    public boolean validate(T object);
} 
```

然后，您可以`Data`为您的数据创建特定的子类，例如`Address`or ，并通过特定方法`Client`将类型化`Validator`对象设置为：`Importer`

```
public class Importer {
    public void addAddressValidator(Validator<Address> validator) {
        ...
    }

    public void addClientValidator(Validator<Client> validator) {
        ...
    }
} 
```

这比在单个可变参数方法调用中混合所有验证器对象要安全得多，而且它也是大多数常见框架的首选方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:51:13.827

为什么在 Loader 加载源时不设置`getSource()`in which。`Validator`

更多地考虑下面的具体问题：

> 我需要知道在 Importer 类中，哪个 Validator 用于客户端，哪个用于地址......有什么好的方法吗？

实际上，更好的方法是如果 Loader 可以为客户端和地址返回一个`ClientValidator`（验证器的实现） 。 这样你就可以避免条件并直接调用类`AddressValidator`
`if-else``validate``Validator`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:04:46.470

**按 position 传递验证器**。您还必须在使用之前检查特定验证器是否为空。

```
public void validate(Data data, 
    Validator clientsValidator, 
    Validator addressValidator) {
    ...
    if (clientsValidator != null) {
        validateClient(data, clientsValidator);
    }
    if (addressValidator != null) {
        validateAddress(data, addressValidator);
    }
    ...
} 
```

# ruby-on-rails - 如何使用 EventMachine 在 ruby 中测试异步 HTTP 请求

> ID：14974724
> 
> 赞同：1
> 
> 时间：2013-02-20T07:47:07.043
> 
> 标签：ruby-on-rails, asynchronous, rabbitmq, eventmachine, em-http-request

我正在收到 RabbitMQ 队列的消息，每条消息都是我要向其发出请求的 URL。现在我使用 AMQP gem 订阅队列并使用 EventMachine，所以我使用 em-http-request 库来发出 http 请求。根据此处的文档：[https://github.com/igrigorik/em-http-request/wiki/Parallel-Requests](https://github.com/igrigorik/em-http-request/wiki/Parallel-Requests) 以下将发出异步 http-requests：

```
EventMachine.run {
    http1 = EventMachine::HttpRequest.new('http://google.com/').get
    http2 = EventMachine::HttpRequest.new('http://yahoo.com/').get
    http1.callback { }
    http2.callback { } 
end 
```

因此，当我订阅 RabbitMQ 队列时，我有以下代码：

```
x = 0
EventMachine.run do
    connection = AMQP.connect(:host => '127.0.0.1')
    channel  = AMQP::Channel.new(connection)
    channel.prefetch(50)
    queue    = channel.queue("http.requests")
    exchange = channel.direct("")

    queue.subscribe do |metadata, payload|
        url = payload.inspect
        eval "
        @http#{x} = EventMachine::HttpRequest.new(url).get
        @http#{x}.callback do
            puts \"got a response\"
            puts @http#{x}.response
        end
        x = x+1
        "
    end
end 
```

这会动态创建新变量并创建新的 http 请求，类似于 em-http-request 文档中描述的方式。但是有没有办法测试请求是否实际上是异步发出的？是否可以在每次触发 get 请求时写入控制台，以便我可以看到它们一个接一个地被触发而不等待响应？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T22:15:26.443

您可以尝试运行 tcpdump 并分析输出。如果您看到交错的两个连接的 TCP 三向握手，那么这些连接是并行发生的。

但是，如果这是您想要达到的目标，那么这实际上不能成为自动化测试的一部分。我很乐意验证该库是否按照它所说的做了一次，而不是让它成为测试套件的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-24T12:48:13.517

一个非常简单的示例，准确地展示了您想要的内容：

```
require 'em-http-request'

EM.run do
  # http://catnap.herokuapp.com/3 delays the HTTP response by 3 seconds.
  http1 = EventMachine::HttpRequest.new('http://catnap.herokuapp.com/3').get
  http1.callback { puts 'callback 1' }
  http1
  puts 'fired 1'

  http2 = EventMachine::HttpRequest.new('https://www.google.com/').get
  http2.callback { puts 'callback 2' }
  puts 'fired 2'
end 
```

输出（对我来说）：

```
fired 1
fired 2
callback 2
callback 1 
```

根据您的 Internet 连接、Heroku 和 Google，可能会首先响应第二个 HTTP 请求，您可以肯定，这些请求确实是并行完成的。

# ios - 如何使用终端与 xCode 命令行工具一起工作？

> ID：14974729
> 
> 赞同：0
> 
> 时间：2013-02-20T07:47:42.130
> 
> 标签：ios, xcode, localization, terminal, genstrings

*上下文：*我已经单独安装了命令行工具，因为“xCode->首选项->下载->组件->命令行工具->安装”的常规方法对我不起作用。

*目的：*我需要在我的应用程序上实现国际化/本地化，并希望使用*genstrings*来创建 Localizable.Strings 文件。

***问题**：*当我尝试使用终端并键入命令时

> $查找。-名称 *.m | xargs genstrings -o en.lproj

我得到：

> 无法连接到输出目录 en.lproj

我应该如何指定目录的路径？此外，我可能还需要指定一些 *.m 文件的路径。

**注意**：建议我阅读[genstrings 手册](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man1/genstrings.1.html)，但我不确定如何在使用终端时使用特定的 xCode 项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:31:41.603

需要注意两点：

1）进入终端后，首先进入目标.m文件所在的文件夹。利用：

> cd“路径”

2) 使用 genstrings 代码时，指定输出目录的完整路径。例如：

> genstrings -o /Users/kushalashok/Desktop/ProjectnName/en.lproj *.m

运行代码后，将在指定的输出文件夹中创建一个名为“Localizable.strings”的新文件。

# wordpress - Cakephp 中的 Wordpress

> ID：14974730
> 
> 赞同：1
> 
> 时间：2013-02-20T07:47:50.353
> 
> 标签：wordpress, .htaccess, cakephp

我已经在 Cakephp 的`/app/webroot/blog/`文件夹中安装了 Wordpress，并将 wordpress 永久链接设置更改为月份和名称（例如。`http://abc.com/blog/2013/02/sample-post/`）。

现在，当我查看帖子时，我得到了缺少控制器（错误：找不到 BlogController）。

我想更改 cakephp 路由，以便任何内容`/blog/*`都指向 webroot 博客文件夹。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T04:23:51.513

当我们更改 Wordpress 的永久链接设置时，它会生成一个`.htaccess`文件，如果需要权限，我们必须创建它。

在上述情况下，文件夹`.htaccess`内没有文件`/blog/`。在更改永久链接设置时，我使用 Wordpress 提供的以下 mod_rewrite 规则创建了它。

```
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /blog/
  RewriteRule ^index\.php$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /blog/index.php [L]
</IfModule> 
```

在此之后，一切正常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T09:30:22.893

无需将博客文件夹放在 webroot 文件夹中。您可以通过对 .htaccess 文件进行细微更改来访问您的文件夹。只需将您的 wordpress 文件夹放在带有 app 文件夹的 cakephp 根目录下，然后更改 .htaccess，如下所示。

```
<IfModule mod_rewrite.c>
    RewriteEngine on
    RewriteRule (blog/.*) $1 [L] # adjust the regex to what you want.
    RewriteRule    ^$ app/webroot/    [L]
    RewriteRule    (.*) app/webroot/$1 [L]
</IfModule> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-13T08:35:10.107

我尝试了上述两种代码，但没有一个对我有用..然后我自己找到了一些东西并且它有效..所以在这里，希望这会对一些人有所帮助。

首先将 webroot 文件夹中的 WordPress 文件夹添加为博客。在博客里面粘贴 WordPress 目录和文件.. 安装 WordPress.. 现在您将在 WordPress 管理员常规设置中看到 WordPress 地址为[http://cakephp/blog/app/webroot/blog](http://cakephp/blog/app/webroot/blog)，将其更改为[http://cakephp /博客](http://cakephp/blog)。保存 ..

现在在 WordPress 安装根文件夹中查找 .htaccess 文件，将 RewriteBase 和 RewriteRule （最后一个）更改为 RewriteBase /blog/ 和 RewriteRule 。/blog/index.php [L]

```
<IfModule mod_rewrite.c>
 RewriteEngine On
 RewriteBase /blog/
 RewriteRule ^index\.php$ – [L]
 RewriteCond %{REQUEST_FILENAME} !-f
 RewriteCond %{REQUEST_FILENAME} !-d
 RewriteRule . /blog/index.php [L]
</IfModule> 
```

# ruby - 在 ActiveRecord 中使用 uniq

> ID：14974732
> 
> 赞同：0
> 
> 时间：2013-02-20T07:48:05.330
> 
> 标签：ruby, activerecord

运行这行代码

```
Activity.uniq.select(:ip).where("created_at > NOW() - INTERVAL 1 DAY").count 
```

尽管 SQL 是正确的（使用 DISTINCT 关键字），但返回所有行的数量（没有唯一性过滤器）

如果我分两步运行此命令：

```
c = Activity.uniq.select(:ip).where("created_at > NOW() - INTERVAL 1 DAY")
c.size 
```

然后我得到正确的计数。

怎么可能？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:04:24.083

通常`DISTINCT`会从结果集中删除重复的结果，但不会进行任何分组。由于结果中有一行，`COUNT`因此您不会看到任何效果。你真正想要的是：

```
SELECT COUNT(DISTINCT activities.ip) FROM activities WHERE ... 
```

请注意，您需要不同活动的计数*，*而不是不同的计数。

我不确定你是如何使用 ActiveRecord 发出这个 SQL 的。`connection`您可能需要直接使用 ActiveRecord并`select_value`用于这种不寻常的查询，除非您可以指导`select`您这样做。

# php - API 身份验证和授权 OAuth 三足方法：我做得对吗？

> ID：14974734
> 
> 赞同：2
> 
> 时间：2013-02-20T07:48:11.340
> 
> 标签：php, api, rest, oauth-2.0

我正在开发一个 API，并考虑使用 OAuth（3-legged 方法）进行身份验证和授权。

这是基本思想：

*   为了让客户端（移动应用程序或网络应用程序）使用此 RESTful API，用户必须使用身份提供商/服务器（例如 Google、Facebook 等）登录

基本上 3 方将在这里互动：

*   **移动/网络应用程序**：尝试访问我的 API 的应用程序
*   **API**：包含应用程序运行数据的站点
*   **身份服务器**：允许用户登录以访问 API 的站点

现在，我理解这个过程的方式（假设我这样做）。这将是流程（总结）：

*   用户将尝试从 API（消费者）访问数据；
*   消费者发现用户没有登录；
*   用户获得一个页面（带有服务提供商按钮，例如使用 Google 登录）；
*   用户点击按钮，服务提供者返回登录表单；
*   用户登录；
*   服务提供者返回请求特定权限的页面；
*   用户授予权限；
*   服务提供者返回一个访问令牌给用户；
*   用户使用访问令牌再次尝试向消费者（API）发出请求；
*   消费者获取令牌并针对服务提供者进行验证；
*   消费者授予用户访问权限。

***第一的***

这个过程是正确的（在更高的层次上），还是我完全误解了整个事情。如果不正确：您能提供一些调整吗？

***第二***

在这整个过程之后。消费者如何与用户沟通？我是否必须在发出的每个请求（在移动应用程序和 API 之间）传递一个令牌？或者我可以只使用服务提供商的用户详细信息来识别用户吗？

***第三***

消费者 (API) 究竟如何针对服务器验证用户提供的令牌？这是否已经在 OAuth 中实现，还是我必须自己做？

***第四和最后***

在实现方面，客户端（移动应用程序/网络应用程序）和消费者（API）之间有什么区别？

我是新手，我正在尝试在 PHP（API）中实现它。如果您对 PHP 代码（示例实现）或外部资源有任何引用，我将不胜感激 :-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:12:35.207

我也是 oauth 的新手，但我会尽力提供帮助。首先，您可以[在此处](http://oauth.net/2/)查找可以提供帮助的适当库。

至于我，你的 oauth 流程是正确的。你也可以[在这里](http://tutorials.jenkov.com/oauth2/authorization.html)找到一个很好的解释。请记住，授权服务器应返回用于获取访问令牌的授权代码。

所以你的问题：

1）点击第二个链接 - “授权码”。

2) 对于您的 API 的每个请求，您都应该发送您的访问令牌。就像是

```
http://<your api>?access_token=7f813af1-381d-4dd7-b70b-b6a8399b2c00 
```

3）只需使用第一个链接中的库。我希望他们已经实施了这一点。:)

4）不能完全理解你的意思。您的客户端必须能够获取访问令牌、存储它并通过请求发送它。您的 API 服务器必须能够从客户端接收访问令牌，如果访问令牌正确，则授予对 api 的访问权限。

# vim - vim：大括号可以在 java 文件中自动完成，就像带有 slimv 的 lisp 文件一样优雅吗？

> ID：14974738
> 
> 赞同：1
> 
> 时间：2013-02-20T07:48:26.403
> 
> 标签：vim, slimv

我已经使用 slimv 很长时间了，发现它在大括号自动完成方面很棒。

但是，当我编辑 java 文件时，我尝试在我的 vimrc 中添加此代码

```
"Add the closing brace only at the end of the line
function! ConditionalPairMap(open, close)
  let line = getline('.')
  let col = col('.')
  if col < col('$') || stridx(line, a:close, col + 1) != -1
    return a:open
  else
    return a:open . a:close . repeat("\<left>", len(a:close))
  endif
endf
inoremap <expr> ( ConditionalPairMap('(', ')')
inoremap <expr> { ConditionalPairMap('{', '}')
inoremap <expr> [ ConditionalPairMap('[', ']') 
```

这不像 slimv 那样聪明。

slimv 是否支持 java 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T17:25:01.163

试试[Vim-autoclose](http://townk.github.com/vim-autoclose/)。可能适用于 Java。

我已经使用了一段时间了。它非常适合 PHP 和 JS。粘贴代码时只是偶尔出现问题。但通过删除文件末尾的一堆右括号很容易解决。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:38:17.203

有几个插件可以自动关闭大括号，并且可能比您的简单映射更强大。有关插件的讨论和列表，请参阅 Vim Tips Wiki 上的主题[自动附加结束字符。](http://vim.wikia.com/wiki/Automatically_append_closing_characters)

# c++ - 从文本文件中读取指数并在 vc++ 中将其转换为 INT64

> ID：14974740
> 
> 赞同：0
> 
> 时间：2013-02-20T07:48:44.270
> 
> 标签：c++, file, visual-c++, memory, type-conversion

您好，我的问题看起来很简单，但我试图从文本文件中读取大量数字，但未能正确执行！！！

看看以下文件保存在`file1.text` ![文件1.文本](../Images/ed7612beca8f66afcffa487b0b2a6192.png)

我有一个如下结构：

```
struct PDW_FileFormat
{
    float TOA;
    float Freq;
    float  PW;  
    float  PA[10];  
    float  PASlc1;
    float  PASlc2;
    float  PAOmni;
    float  AZ_Angle;
    float  EL_Angle;
    float EST_Az_Angle;
    float EST_El_Angle;
    float Cdiff;
    unsigned int index_in_packet;

}; 
```

并像下面的代码一样打开和读取文件

```
PDW_FileFormat filedata;
    unsigned index_in_packet=0;
p = fopen("file1.txt" ,"r");
while (!feof(p))
    {
        memset(&filedata,0,sizeof(PDW_FileFormat));
        fscanf(p ,"%f %f %f %f %f %f %f %f %f %f %f %f %f %f %f %f %f %f"
                      ,&filedata.TOA    //1
                      ,&filedata.Freq   //2
                      ,&filedata.PW     //3
                      ,&filedata.PA[0]  //4
                      ,&filedata.PA[1]  //5
                      ,&filedata.PA[2]  //6
                      ,&filedata.PA[3]  //7
                      ,&filedata.PA[4]  //8
                      ,&filedata.PA[5]  //9
                      ,&filedata.PA[6]  //10
                      ,&filedata.PA[7]  //11
                      ,&filedata.PA[8]  //12
                      ,&filedata.PA[9]  //13
                      ,&filedata.PASlc1 //14
                      ,&filedata.PASlc2 //15
                      ,&filedata.PAOmni //16
                      ,&filedata.AZ_Angle   //17
                      ,&filedata.EL_Angle); //18

          filedata.index_in_packet = index_in_packet;
          // some code to convert a value like
              // 1.386500000000000e+10
              // to 
              // 138650000000000

              INT64 TOAConvert;
              //**your code or your answer **
          index_in_packet++;
     } 
```

我已经尝试过这些代码，但对我来说不能正常工作

```
//filedata.TOA = 1.3865000e+010
              INT64 variabletoConvert;
          stringstream ss;
          ss.setf(ios::fixed);
          ss.precision(0);
          ss << filedata.TOA;
          ss >> variabletoConvert;
          // variabletoConvert = 13864999936 i expect 138650000000000
          INT64 variabletoConvert2;
          variabletoConvert2 = static_cast<INT64>(filedata.TOA);
          //variabletoConvert2 = 13864999936 i expect 138650000000000   
          INT64 variabletoConvert3;
          variabletoConvert3  = (INT64)(filedata.TOA);
          //variabletoConvert3 = 13864999936 i expect 138650000000000 
```

看看这个调试图像： ![在此处输入图像描述](../Images/05c583ba22cd3c926d57cd48d8195459.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T19:59:15.493

好吧，我已经完成了这个解决方案，但它涵盖了巨大数字的一部分，如果有人发布了一个检索完整数字的解决方案，我会将其标记为答案是否有可能恢复一个强制保存在 4 字节浮点数中的数字.. ……！！

```
#include "stdafx.h"
#include <iostream>
#include <math.h>
using namespace std;
int _tmain(int argc, _TCHAR* argv[])
{
    float inputvalue;
    std::cout <<"Enter a large number" <<endl
              <<"system will save it in a float variable" <<endl
              <<"Your Number =";
    std::cin >> inputvalue;
    float temp;
    temp = inputvalue;
    int numberDigits =0;
    double DivisionCount= 1;
    while (temp > 1)
    {
        numberDigits++;
        DivisionCount*=10;
        temp = temp / 10;
    }
    temp = inputvalue;
    int middlevar=0;
    double Outputvalue=0;
    for (int i =0;i < numberDigits ; i++)
    {
    DivisionCount /= 10;
    middlevar =temp / DivisionCount;
    temp = temp - (middlevar * DivisionCount);
    Outputvalue *= 10;
    Outputvalue+= middlevar;
    }
     cout << endl << "Your value saved in memmory"<<Outputvalue;
    cin.get();
    cin.get();
    return 0;
} 
```

# postgresql - 如何将 postgres 数据库从 CST 转换为 GMT？

> ID：14974743
> 
> 赞同：0
> 
> 时间：2013-02-20T07:48:51.650
> 
> 标签：postgresql

我设置了一个安装在中央时区服务器上的 postgres 数据库，因此所有时间戳列都在中央时区。

postgres 中有没有办法将数据库中的所有时区列从 CST 更改为 GMT？将数据库配置为使用 GMT 是最佳实践吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:56:26.707

好吧，最佳做法是避免使用`TIMESTAMP`对时区一无所知的类型，并始终使用`TIMESTAMPTZ`（缩写`TIMESTAMP WITH TIME ZONE`）类型来存储您的时间戳。

`TIMESTAMPTZ`存储时间戳`UTC`和最初写入时间戳的时区（如`CST`,`PST`或`GMT+6`）。这使您可以始终正确地操作和显示这些列，无论当前服务器或客户端时区设置是什么。

您应该能够使用以下方式将现有的 TIMESTAMP 列转换为 TIMESTAMPTZ：

```
ALTER TABLE mytable ALTER COLUMN old_tstamp TYPE TIMESTAMPTZ 
```

在执行此操作之前，您应该在小型数据集或小型测试表上进行试验，以了解从 TIMESTAMP 到 TIMESTAMPTZ 的转换如何真正为您工作，以便将时区信息保留在您的数据中。

如果转换无法正常工作，您可以使用如下语句临时设置当前会话的时区（仅用于转换目的`ALTER TABLE ... COLUMN ... TYPE`）：

```
SET timezone TO 'CST6CDT'; 
```

或者

```
SET timezone TO 'UTC+6'; 
```

这将影响后续的操作和从`TIMESTAMP`to 的转换`TIMESTAMPTZ`——只要确保它正确。

将所有时间戳转换为 后`TIMESTAMPTZ`，服务器或客户端时区设置（默认为当前操作系统时区设置）仅用于显示目的，因为数据操作将始终正确。

# c++ - 将 2-Dim 循环拆分为多个线程

> ID：14974744
> 
> 赞同：0
> 
> 时间：2013-02-20T07:48:51.553
> 
> 标签：c++, arrays, multithreading, 3d, uv-mapping

我的算法通过使用在 U 和 V 段上迭代的二维循环来计算 3 维空间中形状的顶点。

```
for (LONG i=0; i < info.useg + 1; i++) {
    // Calculate the u-parameter.
    u = info.umin + i * info.udelta;
    for (LONG j=0; j < info.vseg + 1; j++) {
        // Calculate the v-parameter.
        v = info.vmin + j * info.vdelta;

        // Compute the point's position.
        point = calc_point(op, &info, u, v);

        // Set the point to the object and increase the point-index.
        points[point_i] = point;
        point_i++;
    }
} 
```

然而，点数组是一个一维数组，这就是为什么`point_i`在每个循环中递增。我知道我可以通过`point_i = i * info.vseg + j`.

我希望这个循环是多线程的。我的目标是创建多个线程来处理特定范围的点。在线程中，我会这样做：

```
for (LONG x=start; x <= end; x++) {
    LONG i = // ...
    LONG j = // ...

    Real u = info.umin + i * info.udelta;
    Real v = info.vmin + j * info.vdelta;

    points[i] = calc_point(op, &info, u, v);
} 
```

问题是从线性点索引计算`i`和indecies。`j`我如何计算`i`以及`j`何时（我认为）：

```
point_i = i * vsegments + j 
```

我无法解决数学问题，在这里..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:02:12.977

`point_i = i * vsegments + j`给你：

```
i = point_i / vsegments
j = point_i % vsegments 
```

当然，您的循环实际上`segments + 1`每个都进行迭代（索引`0`到`segments`），因此您需要使用`vsegments + 1`而不是`vsegments`

作为旁注：您是否真的需要将循环合并为一个以进行多线程处理？我希望外部循环通常有足够的迭代来使您的可用内核饱和。

# c - 需要帮助将数组出队

> ID：14974746
> 
> 赞同：0
> 
> 时间：2013-02-20T07:48:54.423
> 
> 标签：c

好了朋友们。我可以看到我正在做的这个项目的终点线。我试图弄清楚为什么当我尝试返回数组的值（即出队）时我的数组吐出 NULLS。我相信我的入队函数有效，并且也相信它从地址中获取值指针所指。这是我的代码。我故意不包括我的主要功能只是因为我不想让电路板超载。但是，如果需要查看它来诊断问题，请告诉我。

```
#include <assert.h>
#include <stdbool.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// the capacity of the queue
#define CAPACITY 10

// a queue
typedef struct
{
    // the index of the first element in the queue
    int head;

    // storage for the elements in the queue
    char* strings[CAPACITY];

    // the size of the queue
    int size;
}
queue;

// declare a queue (as a global variable)
queue q;

/*
* Puts a new element into the queue into the "end" of the data structure
* so that it will be retrived after the other elements already in the
* queue.
*/
bool enqueue(char* str)
{
    int rear = 0; // back of the queue

    if (q.size==CAPACITY)         
    {
        return false;
    }
    else
    {
        rear = (rear + 1) % CAPACITY;
        q.strings[rear] = str;
        printf("%s", q.strings[rear]);

        q.size++;
        return true;
    }
}

/**
 * Retrieves ("dequeues") the first element in the queue, following the
 * the "first-in, first-out" (FIFO) ordering of the data structure.
 * Reduces the size of the queue and adjusts the head to the next element.
 */
char* dequeue(void)
{
    char *charHead = NULL;   
    if (q.size)
    {
        charHead = malloc(sizeof(char)) ; 
        char *chpointer = malloc(sizeof(strArray[12]));
        q.head++;
        q.head = q.head%CAPACITY;
        charHead = q.strings[q.head];
        return charHead;        
     }       
     // Return null character if queue is empty
     return NULL;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:22:11.357

1.  你`enqueue`肯定不行。它怎么能呢，当它声明时`int rear = 0;`，这意味着它总是在同一个位置排队。
2.  你`dequeue`有两个`malloc`电话似乎没有做任何事情。您不会对它们的结果做任何事情，它们只不过是内存泄漏。
3.  您应该考虑 和 的含义，`head`并将`rear`其记录下来。否则，没有办法说是否`dequeue`正确。它首先递增`head`，然后取`q.strings[q.head]`. 如果`head`是入队的最后一个字符串的位置，这是错误的 - 您应该在递增之前获取该字符串。
4.  你从不减量`size`。这不可能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:22:20.027

> 我相信我的排队功能有效，

我无法分享你的信心，因为 enqueue() 似乎总是将其存储在 q.strings[1] 中。

# java - 将 ArrayList 分配给 List

> ID：14974749
> 
> 赞同：6
> 
> 时间：2013-02-20T07:49:02.237
> 
> 标签：java

以下两行之间是否有任何区别

```
 ArrayList<String> arrName =  new ArrayList<String>();
 List<String>      arrName =  new ArrayList<String>(); 
```

谢谢您的回复

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:51:40.220

几乎总是第二个比第一个更受欢迎。第二个优点是`List`可以更改（`LinkedList`例如）的实现，而不会影响其余代码。这将很难做到`ArrayList`，不仅因为您需要更改`ArrayList`到`LinkedList`任何地方，还因为您可能使用了`ArrayList`特定的方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T07:54:58.300

尽可能将特定实现隐藏在接口后面。[看到这个](https://stackoverflow.com/questions/5488212/should-i-declare-initialize-arraylists-as-lists-arraylists-or-arraylists-of-c)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-20T07:55:46.960

其次是示例 `Program to Interface`及其首选方式。
有关详细信息[“编程到接口”是什么意思？](https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-20T07:53:05.123

本身没有太大区别，但`List`应尽可能使用，因为它是一个接口，您可能会在标准库的方法中看到参数通常是`List<K>`，因此可以传递任何特定的实现，例如`ArrayList`or `LinkedList`。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-20T07:50:31.023

只要您以后只需要一个`List`接口，通常建议使用后者。这就是所谓的“编程接口，而不是实现”。

至于它们之间的详细区别，我在另一个关于stackoverflow的问题中已经回答了：[The difference between "C c = new C()" and "A c = new C()" when C is a subclass of A in Java](https://stackoverflow.com/questions/14917903/the-difference-between-c-c-new-c-and-a-c-new-c-when-c-is-a-subclass/14918010#14918010)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-02-20T07:50:42.637

第二种方法通常是首选方法，因为它将实现隐藏在接口后面。

这意味着稍后，如果需求发生变化并且需要`List`接口的另一个实现，您可以只更改一行代码，其他所有内容仍然可以工作，因为您是针对接口而不是类进行编码。

# mono - 宪兵与视觉工作室 2010 高级版的集成

> ID：14974754
> 
> 赞同：2
> 
> 时间：2013-02-20T07:49:20.407
> 
> 标签：mono, gendarme

我是使用宪兵的新手。我从[https://github.com/spouliot/gendarme/downloads](https://github.com/spouliot/gendarme/downloads)下载了这个版本的工具（**Gendarme 2.11（不支持的构建 - Win32 - 需要 .NET Framework 4.0）** ） ，它作为一个独立的应用程序运行良好。但我想将它与我的 VS2010 Premium 集成。经过大量搜索后，我发现这（[https://github.com/unintelligible/GendarmeMsBuild](https://github.com/unintelligible/GendarmeMsBuild)）是唯一符合我目的的包装器。我做了那里提到的将它与 VS 集成，但我没有看到该工具的任何代码审查建议，即该工具没有输出。我试图只将它集成到 VS 并且还没有尝试用于 MSBuild。

我可能做错了什么？请问有人吗？

如果可行的话，我也对通过其他方式将 Gendarme 集成到 VS 和 MSBuild 的想法持开放态度。

提前致谢！

# node.js - NodeJS url请求，绝对还是相对？

> ID：14974759
> 
> 赞同：3
> 
> 时间：2013-02-20T07:49:59.750
> 
> 标签：node.js

一个非常简单的问题，但让我很困扰。

以下两种情况有什么区别？

```
index.html

 - script src="script/a.js"
 - script src="/script/a.js"  // starting with slash 
```

以及为什么我的服务器可以处理此请求（以斜杠开头）

```
app.get('/script/a.js', function(req, res){ // with slash
    res.sendfile(__dirname + '/realfolder/script/a.js');
}); 
```

无论客户端的 url src 是我刚才提到的这两种情况的任何情况吗？

另一方面，如果我按以下方式提供请求，我总是会收到 404 错误（开始时没有斜线）

```
app.get('script/a.js', function(req, res){ // without slash
    res.sendfile(__dirname + '/realfolder/script/a.js');
}); 
```

在我看来，路径从“/”开始表示应用程序的根文件夹，另一个表示从 __dirname 开始的相对路径。而且我不明白为什么我的服务器无法处理**app.get('script/a.js')**这个开头没有斜线的请求？

哪里不对了 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:10:04.600

当路径以斜杠开头时，`/`表示它是绝对路径。当它不以斜杠开头时，它是一个相对路径。

让我们看一个例子。想象一下，我的硬盘只有以下文件夹：

```
main
    subfolder1
    subfolder2
        lastfolder 
```

现在假设我们在文件夹中`subfolder2`，我们想要加载一个位于`lastfolder`. 我们可以使用**相对**路径加载它：

```
lastfolder/file.txt 
```

但我们也可以使用**绝对**路径：

```
/main/subfolder2/lastfolder/file.txt 
```

两个路径都是正确的，但是如果我们移动到不同的文件夹（例如，如果我们在 中`subfolder1`），相对路径可能会失败，而绝对路径将始终正确（当然，如果我们不修改文件夹）。

# python - GUI 中缺少文本 (PyGObject)

> ID：14974760
> 
> 赞同：0
> 
> 时间：2013-02-20T07:50:00.647
> 
> 标签：python, user-interface, gtk, gtk3, pygobject

我已经使用 xml 描述文件创建了一个带有 pyGObject 的 GUI，我正在尝试使用`GtkTreeView`. 即使我添加了一些，我的 GUI 中的标题和子项中`GtkTreeView`也没有显示*任何文本。*这是为什么？我该如何解决？

侧边栏应显示以下内容：

```
Parent 1
    Child 1
    Child 2
    Child 3 
```

等等

我的代码的简短版本如下所示。

**应用程序.py**

```
#!/usr/bin/env python2

from gi.repository import Gtk

class AppUI:
    def __init__(self):
        self.builder = Gtk.Builder()
        self.builder.add_from_file("app.xml")
        self.window = self.builder.get_object("main-window")
        self.sidebarStore = self.builder.get_object("sidebar-store")

        for parent in range(4):
            piter = self.sidebarStore.append(None, ['parent %i' % parent])
            for child in range(3):
                self.sidebarStore.append(piter, ['child %i of parent %i' % (child, parent)])
        self.handlers = {
            "onDeleteWindow": Gtk.main_quit,
        }
        self.builder.connect_signals(self.handlers)

        self.window.show_all()

UI = AppUI()
Gtk.main() 
```

**app.xml：用户界面描述**

```
<?xml version="1.0" encoding="UTF-8"?>
<interface>
    <object class="GtkTreeStore" id="sidebar-store">
        <columns>
            <column type="gchararray"/>
        </columns>
    </object>
    <object class="GtkWindow" id="main-window">
        <property name="title"></property>
        <signal name="delete-event" handler="onDeleteWindow"/>
        <child>
            <object class="GtkBox" id="container">
                <property name="orientation">horizontal</property>
                <child>
                    <object class="GtkTreeView" id="sidebar">
                        <property name="model">sidebar-store</property>
                        <property name="headers-visible">false</property>
                        <child>
                            <object class="GtkTreeViewColumn" id="test-column">
                                <child>
                                    <object class="GtkCellRendererText" id="test-renderer"/>
                                </child>
                            </object>
                        </child>
                    </object>
                </child>
                <child>
                    <object class="GtkBox" id="right-container">
                        <property name="orientation">vertical</property>
                        <child>
                            <object class="GtkButtonBox" id="top-buttonbox">
                                <child>
                                    <object class="GtkButton" id="add-button">
                                        <property name="label">Add</property>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkButton" id="delete-button">
                                        <property name="label">Delete</property>
                                    </object>
                                </child>
                            </object>
                        </child>
                    </object>
                </child>
            </object>
        </child>
    </object>
</interface> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T11:36:49.203

很简单，您没有将任何列映射到文本渲染器。

顺便说一句，您使用什么编辑器来创建 UI？你是手写的吗？使用 Glade，这样生活更轻松。

在 Glade 中，右键单击 TreeView -> Edit -> Hierarchy -> Select Cell Renderer -> Text 映射到模型中的列。

以下是通过 Glade 编辑的 XML 的更正版本。最相关的部分是：

```
<attributes>
    <attribute name="text">0</attribute>
</attributes> 
```

当您定义文本单元格渲染器时。

```
<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <!-- interface-requires gtk+ 3.0 -->
  <object class="GtkTreeStore" id="sidebar-store">
    <columns>
      <!-- column-name gchararray -->
      <column type="gchararray"/>
    </columns>
  </object>
  <object class="GtkWindow" id="main-window">
    <property name="can_focus">False</property>
    <signal name="delete-event" handler="onDeleteWindow" swapped="no"/>
    <child>
      <object class="GtkBox" id="container">
        <property name="can_focus">False</property>
        <child>
          <object class="GtkTreeView" id="sidebar">
            <property name="width_request">100</property>
            <property name="can_focus">False</property>
            <property name="model">sidebar-store</property>
            <property name="headers_visible">False</property>
            <child internal-child="selection">
              <object class="GtkTreeSelection" id="treeview-selection1"/>
            </child>
            <child>
              <object class="GtkTreeViewColumn" id="test-column">
                <child>
                  <object class="GtkCellRendererText" id="test-renderer"/>
                  <attributes>
                    <attribute name="text">0</attribute>
                  </attributes>
                </child>
              </object>
            </child>
          </object>
          <packing>
            <property name="expand">False</property>
            <property name="fill">True</property>
            <property name="position">0</property>
          </packing>
        </child>
        <child>
          <object class="GtkBox" id="right-container">
            <property name="can_focus">False</property>
            <property name="orientation">vertical</property>
            <child>
              <object class="GtkButtonBox" id="top-buttonbox">
                <property name="can_focus">False</property>
                <child>
                  <object class="GtkButton" id="add-button">
                    <property name="label">Add</property>
                    <property name="use_action_appearance">False</property>
                    <property name="can_focus">False</property>
                    <property name="receives_default">False</property>
                    <property name="use_action_appearance">False</property>
                  </object>
                  <packing>
                    <property name="expand">False</property>
                    <property name="fill">True</property>
                    <property name="position">0</property>
                  </packing>
                </child>
                <child>
                  <object class="GtkButton" id="delete-button">
                    <property name="label">Delete</property>
                    <property name="use_action_appearance">False</property>
                    <property name="can_focus">False</property>
                    <property name="receives_default">False</property>
                    <property name="use_action_appearance">False</property>
                  </object>
                  <packing>
                    <property name="expand">False</property>
                    <property name="fill">True</property>
                    <property name="position">1</property>
                  </packing>
                </child>
              </object>
              <packing>
                <property name="expand">False</property>
                <property name="fill">True</property>
                <property name="position">0</property>
              </packing>
            </child>
          </object>
          <packing>
            <property name="expand">False</property>
            <property name="fill">True</property>
            <property name="position">1</property>
          </packing>
        </child>
      </object>
    </child>
  </object>
</interface> 
```

# ios - 错误的 JPEG 库版本：库为 80，调用者期望为 70

> ID：14974763
> 
> 赞同：3
> 
> 时间：2013-02-20T07:50:16.703
> 
> 标签：ios, jpeg

如何解决此错误：当我尝试加载 JPG 文件（png、bmp、.. 一切正常）时，我在控制台中看到此错误

```
Wrong JPEG library version: library is 80, caller expects 70 
```

我的 JPG 文件没有加载。

我正在使用 libjpeg 7.0 版本，并且代码行的图像解码功能出现错误：

```
jpeg_create_decompress(&cinfo); 
```

**但是**，在示例项目中一切都很好。太有趣了

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-25T06:41:38.493

解决了。我删除了一个项目文件并创建了一个新的 XCode 项目文件并向他添加了资源和来源。

现在，一切正常。

# vb.net - 鼠标滚轮事件

> ID：14974764
> 
> 赞同：1
> 
> 时间：2013-02-20T07:50:18.117
> 
> 标签：vb.net, winforms, mouseevent

我得到了带有 a 的表单`vertical scroll bar`，我想使用鼠标滚轮来上下滚动表单，但我似乎无法`mousewheel event`启动。

我只是使用标准`mousewheel`事件

```
Private Sub frmTest_MouseWheel(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs) Handles Me.MouseWheel

'code here

End Sub 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:03:06.607

`Panel`尝试在您的`Form`集合中放置一个`AutoScroll = true`，`Dock = Fill`然后从该`Panel`位置放置所有您可以控制的位置，例如,`TextBox`等。`label``listView`

```
 Private Sub Panel1_MouseEnter(sender As System.Object, e As System.EventArgs) Handles Panel1.MouseEnter
        Panel1.Focus()
  End Sub

  Private Sub Panel1_MouseWheel(sender As Object, e As System.Windows.Forms.MouseEventArgs) Handles Panel1.MouseWheel
        MessageBox.Show("okay")
  End Sub 
```

# jquery - 'jquery' 不是有效的脚本名称。名称必须以“.js”结尾

> ID：14974767
> 
> 赞同：18
> 
> 时间：2013-02-20T07:50:34.173
> 
> 标签：jquery, asp.net

我的 ASP.Net 项目运行良好，但突然断电。当我运行我的网络应用程序时，它现在显示了很多

> 无法加载程序集消毒剂...”然后“无法加载”HtmlAgility...

错误。我能够通过使用Visual Studio 2012中的*管理 Nuget 包解决方案*卸载/重新安装它们来解决这些以前的错误。

但是现在我遇到了另一个错误：

> 'jquery' 不是有效的脚本名称。名称必须以 '.js' 结尾。”

我试图通过重新安装软件包来做同样的事情，但它不起作用。我应该怎么做才能解决这个问题？我的 root\Scripts 文件夹中已经有一个 jquery.js 文件。我还在我的部分中添加了对此文件的引用：

```
<script src="Scripts/jquery.js"></script> 
```

但它仍然行不通。请帮忙。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-02-21T08:52:21.150

顺便说一句，我可以通过使用 Nuget 工具安装`AspNet.ScriptManager.jQuery.UI.Combined`和包来解决这个问题。`AspNet.ScriptManager.jQuery`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-02-16T07:04:00.067

右键单击您的项目并转到***管理 NuGet 包***，然后安装

> AspNet.ScriptManager.jQuery.UI.Combined

和

> AspNet.ScriptManager.jQuery

包

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-11-17T03:12:06.940

这是工作解决方案

> `Global.asax`在您的解决方案中打开

复制下面的代码只需相应地修改您的 Jquery 版本并将其粘贴到 Application_Start 事件中`Global.asax`

```
 ScriptManager.ScriptResourceMapping.AddDefinition("jquery", new ScriptResourceDefinition
        {
            Path = "~/Scripts/jquery-1.10.2.min.js",
            DebugPath = "~/Scripts/jquery-1.10.2.js",
            CdnPath = "http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js",
            CdnDebugPath = "http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.js",
            CdnSupportsSecureConnection = true,
            LoadSuccessExpression = "window.jQuery"
        });

    ScriptManager.ScriptResourceMapping.AddDefinition("jquery.ui.combined", new ScriptResourceDefinition
    {
        Path = "~/Scripts/jquery-ui-1.10.2.min.js", 
        DebugPath = "~/Scripts/jquery-ui-1.10.2.js", 
        CdnPath = "http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.2/jquery-ui.min.js", 
        CdnDebugPath = "http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.2/jquery-ui.js", 
        CdnSupportsSecureConnection = true
    });
         ScriptManager.ScriptResourceMapping.AddDefinition("bootstrap", new ScriptResourceDefinition
    {
        Path = "~/Scripts/bootstrap.min.js", 
        DebugPath = "~/Scripts/bootstrap.js", 
        CdnPath = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js", 
        CdnDebugPath = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js", 
        CdnSupportsSecureConnection = true
    }); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-12-24T18:06:43.573

就我而言，我必须添加两个 dll 作为对我的项目的引用。

[![在此处输入图像描述](../Images/267a935c008c6b7fbd8707c50bfc2064.png)](https://i.stack.imgur.com/lmk40.png)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-07-03T04:56:36.733

我有类似的情况，但我的情况是在我尝试更新 DotNetOpenAuth.Core 之后发生的。首先它说我需要更新 NuGet，我确实这样做了，然后我更新了 OpenAuth。之后，我开始收到“'jquery' 不是有效的脚本名称。名称必须以 '.js' 结尾。”。

如果我删除了添加 jquery 包的行，它会发生在 jquery-ui 等上。

我卸载并重新安装了 AspNet.ScriptManager.jQuery 和 AspNet.ScriptManager.Bootstrap 包（因为它最终会抱怨），但仍然没有运气。

我做的最后一步是从包管理器控制台卸载并重新安装 AjaxControlToolkit，这为我修复了它。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-11-07T14:53:17.727

感谢您发布您的后续答案。在将 jQuery.UI 安装到基于 VS.NET 2013 中新的 One ASP.NET 模板的新 ASP.NET Web 表单项目并将此行添加到母版页中的脚本管理器后，我遇到了同样的错误：

```
<asp:ScriptReference Name="jquery.ui.combined" /> 
```

如您所述，安装 AspNet.ScriptManager.jQuery.UI.Combined NuGet 包后，错误立即得到解决。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-05-02T14:41:37.747

我有类似的情况，并且已经有了脚本参考（上图），但我还需要确保将 dll 复制到本地文件夹。

在 AspNet.ScriptManager.jQuery 和 AspNet.ScriptManager.jQuery.UI.Combined 上按 F4 并将 Copy Local 设置为 True。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-10-03T21:42:29.353

这解决了我的问题。添加这个 BundleConfig.cs 检查你的路径。

```
 ScriptManager.ScriptResourceMapping.AddDefinition("bootstrap", new ScriptResourceDefinition {
                Path = "~/scripts/bootstrap.min.js",
                DebugPath = "~/scripts/bootstrap.js",
                LoadSuccessExpression = "bootstrap"}); 
```

并将其保存在 site.master 上的 ScriptManager 中

```
 <asp:ScriptReference Name="bootstrap" /> 
```

如果需要，请按照[本文](https://driftboatdave.com/2014/01/03/jquery-and-bootstrap-hassles/)以获得更清晰的信息

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-07-09T20:27:59.790

参加聚会可能有点晚了，但我遇到了同样的问题，并按照上面和其他页面尝试了许多解决方案。不管那个引用是什么，我都会在最后一个脚本引用上得到错误。我最终决定删除所有脚本引用并改用捆绑包。例如，默认应用程序在 bundles.config 中有以下内容：

```
bundles.Add(new ScriptBundle("~/bundles/MsAjaxJs").Include(
    "~/Scripts/WebForms/MsAjax/MicrosoftAjax.js",

ScriptManager.ScriptResourceMapping.AddDefinition(
    "respond",
    new ScriptResourceDefinition
    {
        Path = "~/Scripts/respond.min.js",
        DebugPath = "~/Scripts/respond.js",
    }
); 
```

因此，我将“响应”更改为捆绑包而不是脚本参考：

```
bundles.Add(new ScriptBundle("~/bundles/respond").Include(
    "~/Scripts/respond-1.4.2.js")); 
```

连同所有其他脚本引用，并将它们添加到母版页标题：

```
<asp:PlaceHolder runat="server">
    <%: Scripts.Render("~/bundles/WebFormsJs") %>
    <%: Scripts.Render("~/bundles/MsAjaxJs") %>
    <%: Scripts.Render("~/bundles/jquery") %>
    <%: Scripts.Render("~/bundles/jqueryui") %>
    <%: Scripts.Render("~/bundles/modernizr") %>
    <%: Scripts.Render("~/bundles/respond") %>
</asp:PlaceHolder> 
```

这消除了错误 - 终于在 2 天后 - 并允许我运行一些基本页面，包括默认的 Register.aspx 页面。不知道我接下来会遇到什么，但我想我会通过这个。

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2015-05-08T09:59:46.477

将此添加到您的 Web.config 中，问题将得到解决：

```
<appSettings>
<add key="ValidationSettings:UnobtrusiveValidationMode" value="None" />
</appSettings> 
```

# c# - 结合日期和时间

> ID：14974771
> 
> 赞同：0
> 
> 时间：2013-02-20T07:50:54.487
> 
> 标签：c#, .net, datetime, exception-handling, datetime-parsing

我需要结合日期和时间并插入一个日期时间行。

这是我的代码：

```
 DateTime Headlinedate;

 try
 {
     DateTime date = Convert.ToDateTime(txtHeadlinedate.Text.Trim(), Ci);
     string timestr = DateTime.Now.ToString("hh:mm:ss tt");
     DateTime combinedDate = date.Add(TimeSpan.Parse(timestr));
     Headlinedate = combinedDate;

 }
 catch {
     Headlinedate = DateTime.Now;
 } 
```

我遇到了异常：

> 输入字符串的格式不正确

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:54:36.137

如果您在第一行代码中遇到此异常，则必须确保 的内容`txtHeadlinedate`有效并相应地对其进行解析。

如果错误来自对 的调用`TimeSpan.Parse`，则以下版本应该可以解决问题：

```
DateTime date = Convert.ToDateTime(txtHeadlinedate.Text.Trim(), Ci);
Headlinedate = date.Add(DateTime.Now.TimeOfDay); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T07:56:41.353

TimeSpan 无法解析“tt”。使用 DateTime 来解析它，或者使用 HH:mm 格式来获取 24 小时的小时值并从格式中删除 tt 部分。然后 TimeSpan 将能够解析它。例如：

```
DateTime date = Convert.ToDateTime(txtHeadlinedate.Text.Trim(), Ci);
string timestr = DateTime.Now.ToString("HH:mm:ss");
DateTime combinedDate = date.Add(TimeSpan.Parse(timestr));
Headlinedate = combinedDate; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:57:43.010

```
date.Hour=DateTime.Now.Hour;
date.Minute=DateTime.Now.Minute;
date.Second=DateTime.Now.Second; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:00:21.623

使用`DateTime.TryParse`并传递您的`txtHeadlinedate.Text.Trim()`价值

```
DateTime.TryParse(String, IFormatProvider, DateTimeStyles, DateTime) 
```

对于添加时间跨度值，请使用

```
DateTime myDate = ExistingTime.Date.AddHours(hh).AddMinutes(min); 
```

或 // 计算从这一刻起 36 天是一周中的哪一天。（如下所示）

```
System.DateTime today = System.DateTime.Now; System.TimeSpan duration = new System.TimeSpan(36, 0, 0, 0); System.DateTime answer = today.Add(duration); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T08:01:11.030

我想这应该工作

```
DateTime Headlinedate;
try
         {
             DateTime date = Convert.ToDateTime(txtHeadlinedate.Text.Trim(), Ci);
             string timestr = DateTime.Now.ToString("MM/dd/yyyy HH:MM:ss");// here is the solution
             DateTime combinedDate = date.Add(TimeSpan.Parse(timestr));
             Headlinedate = combinedDate;

         }
         catch {
             Headlinedate = DateTime.Now;
         } 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-02-20T08:06:29.737

```
DateTime date = Convert.ToDateTime(txtHeadlinedate.Text.Trim(), Ci);    
DateTime combinedDate = new DateTime(date.Year, date.Month, date.Day, DateTime.Now.Hour, DateTime.Now.Minute, DateTime.Now.Second); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2015-12-10T00:29:43.193

这行得通！

```
DateTime _dateOnly = DateTime.Now;
DateTime _timeOnly = DateTime.Now;

public DateTime Combined { get; set; }

      public DateTime DateOnly
        {
            get { return _dateOnly.Date; }
            set
            {
                _dateOnly = value.Date;
                Combined = DateOnly.Add(TimeOnly.TimeOfDay);
            }
        }

        public DateTime TimeOnly
        {
            get { return _timeOnly.ToLocalTime(); }
            set
            {
                _timeOnly = value.ToLocalTime();
                Combined = DateOnly.Add(TimeOnly.TimeOfDay);
            }
        } 
```

# java - 如何调试 org.xml.sax.SAXParseException；schema_reference.4？

> ID：14974774
> 
> 赞同：2
> 
> 时间：2013-02-20T07:51:15.673
> 
> 标签：java, xml, validation, schema

（不是它可能不相关，但今天我刚刚得到了 Caused by:`java.io.UnsupportedEncodingException: UTF_8`和 Oxygen XML 编辑器一样）

错误是：

```
SEVERE: null    
org.xml.sax.SAXParseException; schema_reference.4: Failed to read schema document 'file:/fileLocation', because 1) 
could not find the document; 2) the document could not be read; 3) the root element
of the document is not <xsd:schema>. 
```

来自第三行代码：

```
File schemaFile = new File("filenName.xsd");
            SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
            Schema schema = schemaFactory.newSchema(schemaFile); 
```

我做的第一件事是复制路径并测试它以确保它指向正确的文件。我做到了。

其次是检查 java 是否能够读取文件，我使用 .canRead();

第三，我在模式内部检查根节点。

```
<?xml version="1.0" encoding="UTF_8"?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified"
    targetNamespace="name" xmlns="name">
     ...
</xsd:schema> 
```

它曾经是**xs:schema**，但我切换它是因为我收到了这个错误。最奇怪的部分是，当我编码时，我没有收到任何错误（1 周前）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T07:58:54.180

当然`UTF_8`是不正确的，应该是`UTF-8`

此处解释了 XML 声明中的有效`encoding`属性值[http://www.w3.org/TR/REC-xml/#NT-EncodingDecl](http://www.w3.org/TR/REC-xml/#NT-EncodingDecl)

在实践中，Java XML 解析器支持`encoding`Java 支持的任何内容，并且还允许使用别名，例如 UTF8 也很好，但 UTF_8 不支持。

# c# - 使用 SOAP 发送数据时 CPU 使用率较高

> ID：14974776
> 
> 赞同：1
> 
> 时间：2013-02-20T07:51:23.760
> 
> 标签：c#, web-services, soap, gsoap, svc

我们用 C# 编写了一些从远程客户端发送和接收数据的 Web 服务。它工作正常。几天前，我们发现当发送回客户端字节数组时，IIS 工作进程的 CPU 使用率从大约 2% 增加到近 30%。在调试过程中，我们发现这个 CPU 使用高峰出现在我们的 webmethod 结束之后，所以这可能在我们的代码中没有。有什么我们不知道的东西会导致这样的 CPU 使用率吗？当我们只发送一个错误代码时，就没有这样的峰值......

当只有一个客户端连接时，会出现这种 CPU 使用率。当我们有 4-5 个客户端连接时，CPU 使用率为 100%！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:55:19.963

没有什么可做的，我假设你只会得到（受过教育的）猜测。

这是我的：检查 GC 是否处于活动状态（您可以在 PerfMon 中执行此操作）。如果是，您是否正在分配/释放大量内存？你有长时间运行的交易吗？

也许感兴趣：

*   [优化 WCF Web 服务性能](http://msdn.microsoft.com/en-us/library/ee377061.aspx)
*   [.NET 调试演示实验 4：高 CPU 挂起](http://blogs.msdn.com/b/tess/archive/2008/02/22/net-debugging-demos-lab-4-high-cpu-hang.aspx)

# apache - 是否可以在没有 Axis2 的情况下使用 Synapse 进行 ReST 和 SOAP 调用，可能使用 CXF 和/或 Jersey？

> ID：14974782
> 
> 赞同：0
> 
> 时间：2013-02-20T07:51:38.137
> 
> 标签：apache, rest, soap, axis2, synapse

我的任务是想出一种在没有 Axis2 的情况下使用 Synapse ESB 的方法，主要是对 Web 服务进行 ReST 和 SOAP 调用。

例如，是否有 CXF 支持？

我进行了很多搜索，但找不到一个不使用 Axis2 来进行 ReSTful 调用的体面示例。如果我能找到一种使用 CXF 或 Jersey 的方法，那就太好了。

有人知道吗？请帮忙..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T17:17:48.300

我认为您不能用 CXF 替换axis2 ..Synapse 使用axis2 作为其底层SOAP 引擎

# javascript - How to restrict containment property of sortable to any div?

> ID：14974786
> 
> 赞同：0
> 
> 时间：2013-02-20T07:51:52.857
> 
> 标签：javascript, jquery, jquery-ui-sortable

The containment property limits the drag of the elements to the edges of the browser window. Which give me scroll bar lengthy with empty space.I have a list within a div `drop_down_list`now for making sortable I wrote following code:

```
 $('.drop_down_list').sortable({                        // make drop down sortable.
         axis: "y",
         placeholder: ".drop_down_list_placeholder",
         forcePlaceholderSize: true,
         containment: ".drop_down_list",
         scrollSpeed: 3000
   }); 
```

but when I am dragging my `li` element outside the `div` than scroll bar is still increasing and I am getting white space in my `div`, after dropping element everything is OK. I want to restrict my scroll bar length within my `div`, how can I do that ? jsfiddle link for the problem- [http://jsfiddle.net/mqnrD/24/](http://jsfiddle.net/mqnrD/24/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T11:51:02.123

In the jsfiddle, adding "scroll: false" to the sortable callback should fix this.

# javascript - 如何使用jquery获取属性的值

> ID：14974787
> 
> 赞同：1
> 
> 时间：2013-02-20T07:51:55.477
> 
> 标签：javascript, jquery

我需要获取元素的属性值。

我的代码如下：

```
 var vid=$('div.selected a');
 var dataid=$(vid).data('vid');
 var dataalid=$(vid).data('alid'); 
```

和 HTML

```
 <div class="vblock" id="selected">
 <a class="video" data-alid="4" data-vid="4" href="resources/videos/xyz4.mp4"> 
```

我需要获取标签`data-alid`的值`data-vid`。`<a>`请任何人帮助我....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:53:58.633

你几乎已经有了你所拥有的，但你犯了一个简单的错误。您的标记显示`div`ID 为“selected”，而不是类，因此您需要使用 ID 选择器：

```
var vid=$('#selected a'); 
```

请注意，我已从`div`选择器中删除了 。这是因为 ID 值在文档中必须是唯一的，因此不需要限定它们。

另外，请注意，由于`$`会返回一个 jQuery 对象，因此无需`vid`再次传递给它，这样会更慢：

```
var dataid = vid.data('vid');
var dataalid = vid.data('alid'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:54:51.340

试试这个

```
 var vid=$('div#selected a');
 var dataid=$(vid).attr('data-vid');
 var dataalid=$(vid).attr('data-alid'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T07:55:03.130

你有一个错误的 id 选择器 .. 你不需要重复`$(...)` 尝试这个

```
var vid=$('div#selected a');
--------------^--- here this is id and not class 
var dataid=vid.data('vid');
-----------^-- here
var dataalid=vid.data('alid'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T07:59:54.220

试试这种方式，而不是'。您必须使用 '#' 因为您指的是一个 id 并使用`.attr()`来指代您的特定属性

```
$(document).ready(function() {
    var vid=$('div#selected a');
    var dataalid = vid.attr('data-alid');
    var datavid = vid.attr('data-vid');
}); 
```

# wpf - Paypal API 与 .Net Windows Forms 应用程序和 WPF 应用程序的集成

> ID：14974789
> 
> 赞同：0
> 
> 时间：2013-02-20T07:52:07.697
> 
> 标签：wpf, winforms, desktop-application, paypal, windowsformsintegration

我必须将 Paypal API 与 .Net Windows Form（桌面）应用程序集成，以便我可以在我的 Windows Forms 应用程序中获取所有交易详细信息、付款详细信息和所有其他信息。我如何将 PaypalAPI 与 Windows 窗体和基于 WPF 的应用程序集成，是否有任何链接或资源？谢谢

# c - Win7中通过pid获取进程信息

> ID：14974791
> 
> 赞同：1
> 
> 时间：2013-02-20T07:52:09.290
> 
> 标签：c, windows-7

我在我的程序中列出进程名称。首先，我使用“EnumProcesses”来获取所有 PID。然后我得到这样的进程名称：

```
hProcess = OpenProcess( PROCESS_QUERY_INFORMATION | PROCESS_VM_READ, FALSE, pid );
if( hProcess ) {
    EnumProcessModules( hProcess, &hModule, sizeof(hModule), NULL);
    GetModuleFileNameExW( hProcess, hModule, (LPWSTR)fileName, 100*sizeof(wchar_t) );

    printf ("[%d] 0x%08X %d - %ws \n", i, hProcess, pid, fileName);
} 
```

我可以在winxp中获取所有进程。但是，在 Win7 中，Some Process 的句柄为 NULL，所以我无法获取它的信息。像这样：

![在此处输入图像描述](../Images/e4575e3fec5c977101a4dd67903d3842.png)

我不知道为什么。谁能告诉我为什么？谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:47:47.700

权限（您需要 SEDebugPrivilege 枚举所有权限）或您尝试从 32 位进程枚举 64 位进程

# javascript - 如果 javascript 验证失败，则聚焦文本字段

> ID：14974803
> 
> 赞同：1
> 
> 时间：2013-02-20T07:53:11.303
> 
> 标签：javascript, focus

我有这个代码：

```
<html>
    <head>
        <script type="text/javascript">
            function validate(){
                var name=document.frm.name.value;
                if(name.indexOf("A")==0){
                    alert(name);
                }
            }
        </script>
    </head>
    <body>
        <form name="frm" action="test.php">
            Enter name:<input type="text" name="name" onblur="validate()"/>
            Enter e-Mail:<input type="text" name="email" onblur=""/>
            <input type="submit"/>
        </form>
    </body>
</html> 
```

在上面的代码中，我尝试在文本字段失去焦点时对其进行验证。如果名称以`A`. 但我想如果用户输入不同的名称，而不是以`A`它开头的名称将焦点返回到 textfield `name`。为此，我编写了这个脚本：

```
<script type="text/javascript">
    var name = document.frm.name.value;
    if(name.indexOf("A") == 0){
        alert(name);
    }else{
        document.frm.name.focus();
    }
</script> 
```

然后它不起作用。

任何人都可以帮助我应该怎么做才能请求 textfield 的焦点`name`？
我只有一点点的知识`javascript`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:03:50.193

只需`id`为您提供表格并使用`document.getElementById('form_id')`. 在这种情况下使用`name`属性已在十多年前被弃用。也`name`for`input`应该是其他东西而不是`"name"`, 而不是 use`username`或 sth。

**HTML**：

```
<form id="frm" action="test.php">
    Enter name:<input type="text" name="username" id="username" onblur="validate()"/>
    Enter e-Mail:<input type="text" name="email" id="email" onblur=""/>
</form> 
```

**JavaScript**：

```
function validate(){
    var form = document.getElementById('frm');
    if (form.username.value.indexOf("A") === 0) {
        alert(name);
    } else {
        form.username.focus();
    }
} 
```

除了检索 的`id`，`form`您还可以将`form`to`validate()`作为参数传递：`onblur="validate(this);"`。然后将该参数用作事件处理程序`form`中的 a：

```
function validate(form){
    if (form.username.value.indexOf("A") === 0) {
        alert(name);
    } else {
        form.username.focus();
    }
} 
```

**编辑**

焦点似乎没有延迟工作，你可以试试这个（`input`有一个`id="username"`）：

```
function focusTo (elm) {
    elm.focus();
    return;
}

function validate(){
    var form = document.getElementById('frm');
    if (form.username.value.indexOf("A") === 0) {
        alert(name);
    } else {
        alert('error');
        setTimeout(function () {focusTo(form.username);}, 10);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T07:57:26.080

像这样修改你的脚本

```
 <html>
    <head>
        <script type="text/javascript">
            function validate(){
                var name=document.frm.name.value;
                if(name.indexOf("A")==0){
                    alert(name);
                }
            }
        </script>
    </head>
    <body >
        <form id="frm" action="test.php">
            Enter name:<input type="text" name="username" onblur="validate()"/>
            Enter e-Mail:<input type="text" name="email" onblur=""/>
            <input type="submit" onclick="check()"/>
        </form>
        <SCRIPT LANGUAGE="JavaScript">
        <!--
        function validate()
        {
            var name = document.getElementById('frm').username.value;
            if(name.indexOf("A") == 0){
                alert(name);
                        document.getElementById('frm').email.focus();
             }else{
                document.getElementById('frm').username.focus();
            }
        }
        function check()
        {
            var name = document.getElementById('frm').username.value;
            if(name.indexOf("A") == 0){
             }else{
                alert("Please enter a name starting with 'A'");
                     document.getElementById('frm').username.focus();
            }
        }
        //-->
        </SCRIPT>
    </body>
</html> 
```

您想`validate()`在 event上执行功能`onblur`。在脚本中，您编写了聚焦代码，但未将其添加到函数中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-14T13:08:23.523

试试这个`document.frm.username.focus();`。我希望它会奏效。

# wcf - WCF 中的传输安全性和消息安全性有什么区别

> ID：14974810
> 
> 赞同：12
> 
> 时间：2013-02-20T07:53:40.477
> 
> 标签：wcf, soap, soa

我正在研究 WCF 和安全性。有几种安全模式，但总体而言，您可以保护 2 个主要“层”：**传输或消息**。

有人可以更深入地解释一下吗？当我保护运输时，我必须想象什么，它是如何工作的，等等。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-20T08:04:17.663

正如您所期望的那样，传输安全保护了传输 - 例如 SSL over HTTP，而消息安全保护了消息。下面是使用消息安全的原因的 msdn 概述：http: [//msdn.microsoft.com/en-us/library/ms733137.aspx](http://msdn.microsoft.com/en-us/library/ms733137.aspx)

以及传输概述：http: [//msdn.microsoft.com/en-us/library/ms729700.aspx](http://msdn.microsoft.com/en-us/library/ms729700.aspx)

（来自消息安全链接）：Windows Communication Foundation (WCF) 有两种主要的安全模式（传输和消息）和第三种模式（TransportWithMessageCredential），它结合了两者。本主题讨论消息安全性以及使用它的原因。

**什么是消息安全？**

消息安全性使用 WS-Security 规范来保护消息。WS-Security 规范描述了 SOAP 消息传递的增强，以确保 SOAP 消息级别（而不是传输级别）的机密性、完整性和身份验证。

简而言之，消息安全与传输安全的不同之处在于，将安全凭证和声明与每条消息以及任何消息保护（签名或加密）一起封装。通过修改其内容将安全性直接应用于消息允许受保护的消息在安全方面是自包含的。这实现了在使用传输安全性时无法实现的某些场景。

**使用消息安全的原因**

在消息级安全中，所有的安全信息都封装在消息中。使用消息级安全性而不是传输级安全性来保护消息具有以下优点： • 端到端安全性。传输安全性，例如安全套接字层 (SSL)，仅在通信是点对点时保护消息。如果消息在到达最终接收者之前被路由到一个或多个 SOAP 中介（例如路由器），则一旦中介从线路中读取消息，消息本身就不受保护。此外，客户端身份验证信息仅对第一个中介可用，并且必须在必要时以带外方式重新传输到最终接收器。即使整个路由在各个跃点之间使用 SSL 安全性，这也适用。因为消息安全性直接与消息一起工作并保护其中的 XML，所以无论在到达最终接收者之前涉及多少中介，安全性都与消息保持一致。这实现了真正的端到端安全方案。

• 增加灵活性。可以对消息的一部分而不是整个消息进行签名或加密。这意味着中间人可以查看消息中为他们准备的部分。如果发件人需要使消息中的部分信息对中间人可见，但又想确保它不被篡改，它可以只签名而不加密。由于签名是消息的一部分，最终接收者可以验证消息中的信息是否完好无损。一种情况可能有一个 SOAP 中介服务，它根据 Action 标头值路由消息。默认情况下，如果使用消息安全性，WCF 不会加密 Action 值，但会对其进行签名。因此，这一信息对所有中介机构都是可用的，但没有人可以改变它。

• 支持多种传输。您可以通过许多不同的传输方式（例如命名管道和 TCP）发送安全消息，而不必依赖协议来确保安全性。使用传输级安全性，所有安全信息都被限定为单个特定的传输连接，并且不能从消息内容本身获得。消息安全性使消息安全，无论您使用何种传输方式来传输消息，并且安全上下文直接嵌入在消息中。

• 支持广泛的凭据和声明。消息安全性基于 WS-Security 规范，该规范提供了一个可扩展的框架，能够在 SOAP 消息中传输任何类型的声明。与传输安全性不同，您可以使用的一组身份验证机制或声明不受传输功能的限制。WCF 消息安全包括多种类型的身份验证和声明传输，并且可以根据需要进行扩展以支持其他类型。由于这些原因，例如，如果没有消息安全性，就不可能实现联合凭据方案。有关 WCF 支持的联合方案的详细信息，请参阅联合和颁发的令牌。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-10-05T16:25:44.163

> 传输安全性，例如安全套接字层 (SSL)，仅在通信是点对点时保护消息。如果消息在到达最终接收者之前被路由到一个或多个 SOAP 中介（例如路由器），那么一旦中介从线路中读取消息，消息本身就不会受到保护。

误导。如果使用传输层安全性（服务器端 SSL 证书）加密，网络路由器或交换机（OSI 第 2 层和第 3 层）将无法访问消息内容，因为解密消息需要服务端 SSL 证书。传输层安全保护客户端和预期目标 IP 地址之间的消息，因为假设只有目标服务提供商具有解密消息所需的 SSL 私有证书。如果 SOAP 中介（即 ESB）实际上是与客户端建立加密传输通道的预期消息目的地，那么 SOAP 中介只能读取内容，从而确保从客户端到服务器的安全通道，而不管有多少网络跃点、路由器和交换机等（OSI 第 2 层和第 3 层）。

如果中间件 ESB（预期的 SOAP 中介）需要读取消息的一部分以做出路由决策（基于内容的路由）但不应该能够读取其他消息，则消息级安全性将增加消息的安全性并可以加密消息的一部分只能由下游系统访问的消息的一部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T07:56:50.183

使用传输来保护您正在使用的通道，并使用消息来保护您正在发送的消息（内容）。

# javascript - Javascript 闭包性能

> ID：14974811
> 
> 赞同：22
> 
> 时间：2013-02-20T07:53:56.013
> 
> 标签：javascript, performance, closures

我在javascript中工作了一段时间，通常做这样的事情只是为了缓存在深层结构或“命名空间”中声明的函数的属性值

```
//global scope
(function ($, lib) {
  //function scope 1
  var format = lib.format, // instead of calling lib.format all the time just call format
    touch = lib.pointer.touch, //instead of calling lib.pointer.touch each time just touch
    $doc = $(document),
    log = logger.log; //not console log...

  $doc.on('app:ready', function () {
    //function scope 2
    $doc.on('some:event', function (e) {
      //function scope 3
      //use the cached variables
      log(format('{0} was triggered on the $doc object', e.type);
    });

    $doc.on(touch, function (e) {
      //function scope 3
      log(format('this should be {1} and is... {0} ', e.type, touch);
    });
  }); 
}(jQuery, lib)); 
```

我这样做是因为：

*   尽管我很懒惰，但编写 touch 似乎比编写 lib.pointer.touch 更有吸引力，即使具有精美自动完成功能的强大 IDE 可以对此有所帮助，但 touch 更短。
*   最小化器可以将单个私有变量转换为单个字母变量，所以这对我来说也很有意义（我知道，我知道，永远不要过早优化，但我猜这似乎是安全的）

以这种方式编写的所有代码似乎在移动设备和桌面浏览器上都表现得不错，所以这似乎是一种安全的做法（在“实践”中，双关语）。但是我因为这依赖于闭包，并且内部函数必须创建一个闭包来保存它声明的上下文我想知道......

*   如果一个函数不使用外部上下文中的变量（自由变量）......闭包上下文是否仍然保存？（或者如果 ia 树掉在树林里并且没有人听到它，它还会发出崩溃的声音吗？呵呵）我知道这可能因 javascript 引擎而异，因为 ECMA 没有提及是否需要保存当不访问来自外部的变量时，上下文与否。

*   如果上面的表达式为真......这段代码会更有效率吗？

    ```
    //global scope
    (function ($, lib) {
      //function scope 1
      var format = lib.format,
        touch = lib.pointer.touch,
        $doc = $(document),
        log = console.log;

      $doc.on('app:ready', function () {

        (function ($doc, touch, lib, format) {
          // since all the variables are provided as arguments in this function
          // there is no need to save them to the [[scope]] of this function
          // because they are local to this self invoking function now
          $doc.on('some:event', function (e) {
            //function scope 3
            //use the cached variables
            log(format('{0} was triggered on the $doc object', e.type);
          });

          $doc.on(touch, function (e) {
            //function scope 3
            log(format('this should be {1} and is... {0} ', e.type, touch);
          });
        }($doc, touch, lib, format));      

      }); 

    }(jQuery, lib)); 
    ```

它是否更有效，因为它将这些变量传递给自我立即调用函数？创建该新功能的成本是否会对代码产生任何影响（负面或正面）？

*   如何以可靠的方式正确测量我的 javascript 库的内存消耗？我有 100 个小 javascript 模块，它们都在立即自调用函数中，主要是为了避免变量泄漏到全局上下文中。所以它们都封装在与上面提到的代码块非常相似的模块中。

*   将变量缓存得更近会产生更好的效果，即使这意味着我将不得不在更接近它们将要使用的位置重复变量的声明？

*   我有一种感觉，寻找不在当前本地上下文中的变量，引擎将首先查看父范围并迭代该级别的所有变量......每个级别的变量越多，性能看起来可能越差对于一个变量。

*   尝试从内部闭包中找到一个未定义的变量将是最昂贵的，因为根据定义，该变量将首先在父作用域上搜索，直到全局作用域，而没有找到它将迫使引擎最终到达全局作用域。真的吗？引擎是否优化了这种查找？

最后......我知道我不想将我的代码作为第二个示例来实现，主要是因为它会使代码更难阅读，而且我对使用第一种方法最小化最终输出的大小感到有点满意。我的问题是出于好奇，并试图更好地理解javascript这个非常好的特性。

据此测试...

[http://jsperf.com/closures-js](http://jsperf.com/closures-js)

似乎第二种方法更快。但是只有在迭代疯狂的次数时才明显......现在我的代码没有进行那么多迭代......但由于我的编码方式可能正在消耗更多的内存......

更新：有人指出我这个问题太大了。对不起，我会尝试分成小部分。正如我所说，这个问题主要是出于好奇，即使在移动设备中性能似乎也可以忽略不计。感谢您的所有反馈。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-20T18:51:51.973

我认为这是过早的优化。您已经知道在大多数情况下性能不是问题。即使在紧密的循环中，性能也不会降低那么糟糕。让 JavaScript 引擎像 Chrome 开始做的那样通过从闭包中删除不需要的变量来自行优化它。

一件重要的事情是，不要通过不必要的优化使您的代码更难阅读。您的示例需要更多代码，从而阻碍了开发。在某些情况下，我们被迫使代码更难阅读，因为我们知道应用程序的某个特定部分更占用内存/性能，但只有在那时我们才应该这样做。

如果您在以下代码中添加断点（在 Chrome 中），您将看到`world`变量已在闭包之外进行了优化，请查看范围变量[http://jsfiddle.net/4J6JP/下的“闭包”节点1/](http://jsfiddle.net/4J6JP/1/)

![在此处输入图像描述](../Images/3fa54c2a5bfdf9dd4da75d772d7c47f3.png).

```
(function(){
   var hello = "hello", world="world";
    setTimeout(function(){
        debugger;
        console.log(hello);
    });
})() 
```

请注意，如果您在该内部函数中添加 eval，则所有赌注都将关闭，并且无法优化闭包。

# iphone - 从新字典修改内容也会修改父字典数据

> ID：14974823
> 
> 赞同：0
> 
> 时间：2013-02-20T07:55:15.737
> 
> 标签：iphone, ios, objective-c, nsmutabledictionary

由于我需要将类似的对象添加到数组中，因此我以这种方式创建了新字典。

```
NSMutableDictionary* existingStepDict = [[[arrayForSteps objectAtIndex:0] mutableCopy] autorelease];
[arrayForSteps addObject:existingStepDict];
[existingStepDict release]; 
```

现在，这里发生的情况是，稍后当我在任何一本字典中更改某些内容时，另一本也会更新。我要求这两个字典独立运行。

为此，我浏览了代码是这样的字典的深拷贝。

```
 NSMutableDictionary* existingStepDict = [[[arrayForSteps objectAtIndex:0] mutableCopy] autorelease];

   NSMutableDictionary* destination = [NSMutableDictionary dictionaryWithCapacity:0];

   NSDictionary *deepCopy = [[NSDictionary alloc] initWithDictionary:existingStepDict copyItems: YES];
   if (deepCopy) {
        [destination addEntriesFromDictionary: deepCopy];
        [deepCopy release];
   }
   //add Properties array to Steps Dictionary
   [arrayForSteps addObject:destination]; 
```

但这也没有反映出差异。我知道我在这里犯了一些小错误。但是有人可以帮我得到我的结果吗？

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:08:44.007

有一种简单的方法可以使用 NSCoding（序列化）协议获取 NSDictionary 或 NSArray的**完整深度副本。**

```
- (id) deepCopy:(id)mutableObject
{
    NSData *buffer = [NSKeyedArchiver archivedDataWithRootObject:mutableObject];
    return [NSKeyedUnarchiver unarchiveObjectWithData: buffer];
} 
```

通过这种方式，您可以在一个步骤中复制任何对象以及它包含的所有对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:02:33.070

当我需要一个可变的深拷贝时，`NSDictionary`我用这个方法创建了一个类别：

```
- (NSMutableDictionary *)mutableDeepCopy
{
    NSMutableDictionary *returnDict = [[NSMutableDictionary alloc] initWithCapacity:[self count]];
    NSArray *keys = [self allKeys];

    for (id key in keys) {
        id oneValue = [self valueForKey:key];
        id oneCopy = nil;
        if ([oneValue respondsToSelector:@selector(mutableDeepCopy)]) {
            oneCopy = [oneValue mutableDeepCopy];
        } else if ([oneValue respondsToSelector:@selector(mutableCopy)]) {
            oneCopy = [oneValue mutableCopy];
        }
        if (oneCopy == nil) {
            oneCopy = [oneValue copy];
        }

        [returnDict setValue:oneCopy forKey:key];
    }

    return returnDict;
} 
```

**编辑** 并在网上搜索我发现了这个，我没有测试过

```
NSMutableDictionary *mutableCopy = (NSMutableDictionary *)CFPropertyListCreateDeepCopy(kCFAllocatorDefault, (CFDictionaryRef)originalDictionary, kCFPropertyListMutableContainers); 
```

# c# - Topshelf 是否可以从一个控制台应用程序启动多个服务？

> ID：14974824
> 
> 赞同：9
> 
> 时间：2013-02-20T07:55:17.670
> 
> 标签：c#, .net, windows-services, topshelf

正如 TosShelf 所说：

`"You can only have ONE service! As of 3.x Topshelf the base product no longer support hosting multiple services.`"

从 3.x 版本开始，我需要弄清楚如何集成新版本的 Topshelf。

**问题：** 是否可以使用 Topshelf 从一个控制台应用程序启动多个单独的服务？我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-09-16T18:06:42.660

Topshelf 不再支持这一点，但可能的解决方法是实现一个类来启动多个服务。

例子：

```
// ServiceManager is used to start and stop multiple services
hostConfigurator.Service<ServiceManager>(s => 
{
        s.ConstructUsingNinject(); // service1 and service2 injected into ServiceManager
        s.WhenStarted(tc => tc.Start());
        s.WhenStopped(tc => tc.Stop());
}); 
```

然后 ServiceManager 类将启动和停止多个服务。

```
public class ServiceManager
{
    private readonly Service1 service1;
    private readonly Service2 service2;

    public ServiceManager(Service1 service1, Service2 service2)
    {
        this.service1= service1;
        this.service2= service2;
    }

    public void Start()
    {
        service1.Start();
        service2.Start();
    }

    public void Stop()
    {
        service1.Stop();
        service2.Stop();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-04T15:59:49.557

到目前为止，还没有一种方法可以在单个 Windows 服务中托管多个服务，也没有计划实现此功能。使用现有工具无法监控和管理这些服务，而现有工具是该决定的主要驱动因素之一。

# jquery - 使用 jQuery 调整 div 大小

> ID：14974829
> 
> 赞同：3
> 
> 时间：2013-02-20T07:55:29.610
> 
> 标签：jquery, user-interface, resize, drag

我有以下结构 [http://img109.imageshack.us/img109/589/layoutwireframe.png](http://img109.imageshack.us/img109/589/layoutwireframe.png)

我需要调整大小以处理侧边栏上的 % - 例如，如果我调整 SidebarTop 部分的大小，SidebarBottom 部分也需要更新 - 增加顶部将减少底部和反向。

我找到了调整相同块大小的解决方案，但这两者都会增加。我需要的是如果一个增加另一个减少。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:06:41.693

您可以通过修改 jQuery 用于实现alsoResize 选项的代码来创建`Reverse`调整大小，我们可以制作自己的alsoResizeReverse 选项。然后我们可以简单地使用它，如下所示：

```
$("#resizable").resizable({
    alsoResizeReverse: ".myframe"
}); 
```

以及添加alsoResizeReverse 选项的代码：只需要更改一些内容，例如明显地将alsoResize 重命名为alsoResizeReverse 并减去增量而不是添加增量（使调整大小反转的原因）。在这个版本的 jQuery UI（来自 Google CDN 的 1.8.1）中，原始的 alsoResize 代码从第 2200 行开始。

代码（这应该放在 document.ready() 之外）：

```
$.ui.plugin.add("resizable", "alsoResizeReverse", {

    start: function(event, ui) {

        var self = $(this).data("resizable"), o = self.options;

        var _store = function(exp) {
            $(exp).each(function() {
                $(this).data("resizable-alsoresize-reverse", {
                    width: parseInt($(this).width(), 10), height: parseInt($(this).height(), 10),
                    left: parseInt($(this).css('left'), 10), top: parseInt($(this).css('top'), 10)
                });
            });
        };

        if (typeof(o.alsoResizeReverse) == 'object' && !o.alsoResizeReverse.parentNode) {
            if (o.alsoResizeReverse.length) { o.alsoResize = o.alsoResizeReverse[0];    _store(o.alsoResizeReverse); }
            else { $.each(o.alsoResizeReverse, function(exp, c) { _store(exp); }); }
        }else{
            _store(o.alsoResizeReverse);
        }
    },

    resize: function(event, ui){
        var self = $(this).data("resizable"), o = self.options, os = self.originalSize, op = self.originalPosition;

        var delta = {
            height: (self.size.height - os.height) || 0, width: (self.size.width - os.width) || 0,
            top: (self.position.top - op.top) || 0, left: (self.position.left - op.left) || 0
        },

        _alsoResizeReverse = function(exp, c) {
            $(exp).each(function() {
                var el = $(this), start = $(this).data("resizable-alsoresize-reverse"), style = {}, css = c && c.length ? c : ['width', 'height', 'top', 'left'];

                $.each(css || ['width', 'height', 'top', 'left'], function(i, prop) {
                    var sum = (start[prop]||0) - (delta[prop]||0); // subtracting instead of adding
                    if (sum && sum >= 0)
                        style[prop] = sum || null;
                });

                //Opera fixing relative position
                if (/relative/.test(el.css('position')) && $.browser.opera) {
                    self._revertToRelativePosition = true;
                    el.css({ position: 'absolute', top: 'auto', left: 'auto' });
                }

                el.css(style);
            });
        };

        if (typeof(o.alsoResizeReverse) == 'object' && !o.alsoResizeReverse.nodeType) {
            $.each(o.alsoResizeReverse, function(exp, c) { _alsoResizeReverse(exp, c); });
        }else{
            _alsoResizeReverse(o.alsoResizeReverse);
        }
    },

    stop: function(event, ui){
        var self = $(this).data("resizable");

        //Opera fixing relative position
        if (self._revertToRelativePosition && $.browser.opera) {
            self._revertToRelativePosition = false;
            el.css({ position: 'relative' });
        }

        $(this).removeData("resizable-alsoresize-reverse");
    }
}); 
```

这是一个演示：http: [//jsfiddle.net/WpgzZ/](http://jsfiddle.net/WpgzZ/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:00:09.080

定义一个可以调整大小和可拖动的小 DIV。

```
<div id="resizeDiv"></div> 
```

现在只需在您的文档中添加以下 jQuery 代码。

```
$('#resizeDiv')
    .draggable();
    .resizable(); 
```

jQuery 的美妙之处在于我们可以简单地链接函数调用。首先我们调用 .draggable() 函数使 DIV 可拖动，然后我们调用 resizable()。您可能希望在开始/停止/调整大小事件上定义回调函数。为此，我们只需定义：

```
$('#resizeDiv')
    .resizable({
        start: function(e, ui) {
            alert('resizing started');
        },
        resize: function(e, ui) {

        },
        stop: function(e, ui) {
            alert('resizing stopped');
        }
    }); 
```

请注意，回调函数有两个参数。首先是事件对象，然后是 ui。ui 对象具有以下字段：

*   ui.helper – 一个包含辅助元素的 jQuery 对象

*   ui.originalPosition – {top, left} 开始调整大小之前

*   ui.originalSize – {width, height} 开始调整大小之前

*   ui.position – {top, left} 当前位置

*   ui.size – {width, height} 当前大小

# ios - 在 iOS 中恢复购买

> ID：14974833
> 
> 赞同：1
> 
> 时间：2013-02-20T07:55:34.280
> 
> 标签：ios, ios5, ios6, in-app-purchase

我正在努力恢复购买，所以我几乎没有疑问

1) 如何显示恢复按钮

我在左上角显示了它，点击它我调用这个函数

```
- (IBAction)restorePurchases:(id)sender
    {
        [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
        [[SKPaymentQueue defaultQueue]restoreCompletedTransactions];

    } 
```

但是，如果用户没有购买任何物品，或者如果用户购买了物品但没有删除并重新安装应用程序，我是否仍然需要显示恢复按钮，如果是，点击它应该是什么行为。

2）现在，如果我购买了一个项目并删除了应用程序并重新安装了应用程序，然后单击恢复按钮，它会调用此函数

```
- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions
{
    for (SKPaymentTransaction *transaction in transactions)
    {
        switch (transaction.transactionState)
        {
            case SKPaymentTransactionStatePurchased:
                [self completeTransaction:transaction];
                break;
            case SKPaymentTransactionStateFailed:
                [self failedTransaction:transaction];
                break;
            **case SKPaymentTransactionStateRestored:
                [self restoreTransaction:transaction];**
            default:
                break;
        }
    }
} 
```

但是现在，假设我没有任何项目，只需单击恢复按钮，它会询问我的苹果 ID，输入苹果 ID 后，没有任何反应，它没有调用上述函数，我想知道为什么会这样。

另外，我想向用户显示没有要恢复的项目的消息，那么我该怎么做。

我搜索了这个，如果没有要恢复的事务，它们是一个将被调用的委托函数

```
- (void)paymentQueueRestoreCompletedTransactionsFinished:(SKPaymentQueue *)queue
{

} 
```

我所做的是在这里我检查了是否没有要恢复的项目，我将显示为没有要恢复的项目，我是否在这种方法中是正确的。

问候兰吉特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:06:55.927

直接来自`Store Kit Header File`

> // 异步。将当前用户的已完成事务添加回待重新完成的队列。将要求用户进行身份验证。观察者将收到 0 个或多个 -paymentQueue:updatedTransactions:，然后是 -paymentQueueRestoreCompletedTransactionsFinished: 成功或 -paymentQueue:restoreCompletedTransactionsFailedWithError: 失败。在部分成功的情况下，一些交易可能仍会交付。

```
- (void)restoreCompletedTransactions  __OSX_AVAILABLE_STARTING(__MAC_NA,__IPHONE_3_0); 
```

# google-drive-api - 通过 Google Drive API 获取使用信息

> ID：14974835
> 
> 赞同：0
> 
> 时间：2013-02-20T07:55:43.087
> 
> 标签：google-drive-api

只是没有找到方法来检索有关 Google Drive 使用情况的信息，例如总共有多少空间，剩余多少或已填满多少。如果我们不必自己做数学，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T13:46:29.337

[您可以从drive.about.get](https://developers.google.com/drive/v2/reference/about/get)方法获取有关帐户的信息。它可能包含您需要的内容，包括以下字段：

`quotaBytesTotal` 配额字节总数。

`quotaBytesUsed` 使用的配额字节数。

`quotaBytesUsedInTrash` 已删除项目使用的配额字节数。

`quotaBytesUsedAggregate` 所有 Google 应用（云端硬盘、Picasa 等）使用的配额字节数。

# java - 无法在 java 中运行 youtubedata api 2.0 作为与番石榴相关的问题

> ID：14974836
> 
> 赞同：1
> 
> 时间：2013-02-20T07:55:46.943
> 
> 标签：java, youtube-api, guava

我在我的类路径中使用了以下 jar 来使用 YouTube API 检索我的订阅列表：

gdata-client-1.0.jar gdata-core-1.0.jar gdata-media-1.0.jar gdata-youtube-2.0.jar guava-14.0-rc1.jar mail.jar

代码如下：

```
import com.google.gdata.client.*;
import com.google.gdata.client.youtube.*;
import com.google.gdata.data.*;
import com.google.gdata.data.geo.impl.*;
import com.google.gdata.data.media.*;
import com.google.gdata.data.media.mediarss.*;
import com.google.gdata.data.youtube.*;
import com.google.gdata.data.extensions.*;
import com.google.gdata.util.*;

import java.io.IOException;
import java.io.File;
import java.net.MalformedURLException;
import java.net.URL;

public class YouTubeExample {

    public static void main (String args[]) throws MalformedURLException, IOException, ServiceException{
        String developer_key = "CSCSCSCSCSCScSCXXXXX-XXXXX_-XXXX";
        YouTubeService service = new YouTubeService(developer_key); 

        //Retrieving video subscriptions
        String feedUrl =
                "http://gdata.youtube.com/feeds/api/users/GoogleDevelopers/subscriptions";

        SubscriptionFeed feed = service.getFeed(new URL(feedUrl), SubscriptionFeed.class);

        for(SubscriptionEntry entry : feed.getEntries()) {
            System.out.println("Title: " + entry.getTitle().getPlainText());
            System.out.println("Feed Link: " + entry.getFeedUrl());
        }

    }

} 
```

但是在运行它时，我收到如下错误：

线程“主”java.lang.NoSuchMethodError 中的异常：com.google.common.collect.ImmutableSet.of([Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet; 在 com.google.gdata.wireformats.AltFormat$Builder.setAcceptableTypes(AltFormat.java:399) 在 com.google.gdata.wireformats.AltFormat$Builder.setAcceptableXmlTypes(AltFormat.java:387) 在 com.google.gdata.wireformats .AltFormat.(AltFormat.java:49) 在 com.google.gdata.client.Service.(Service.java:535) 在 YouTubeExample.main(YouTubeExample.java:21)

如果我在类路径中用 guava-10.0.1.jar（根据一些建议的旧版本）替换 guava-14.0-rc1.jar，我仍然会收到如下错误：

线程“主”java.lang.NoSuchMethodError 中的异常：com.google.gdata.data 处的 com.google.gdata.data.ExtensionProfile.declareAdditionalNamespace(Lcom/google/gdata/util/common/xml/XmlWriter$Namespace;)V .youtube.CommentEntry.declareExtensions(CommentEntry.java:92) 在 com.google.gdata.data.ExtensionProfile.addDeclarations(ExtensionProfile.java:71) 在 com.google.gdata.data.BaseFeed.declareExtensions(BaseFeed.java:229 ) com.google.gdata.data.ExtensionProfile.addDeclarations(ExtensionProfile.java:71) com.google.gdata.client.youtube.YouTubeService.(YouTubeService.java:140) com.google.gdata.client.youtube .YouTubeService.(YouTubeService.java:103) 在 YouTubeExample.main(YouTubeExample.java:21)

我试过包括activation.jar，servlet-api.jar，但没有运气！我也尝试过旧版本，例如 guava 0.7 jar，但没有运气。请帮忙！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T10:13:37.410

不要全部导入。

您的项目似乎同时依赖于最近和旧的 API。你不应该。因此，只需检查[此页面](https://developers.google.com/gdata/articles/java_client_lib#gdata)的内容即可。

使用 Maven 运行代码时，我只需要以下内容：

```
<dependencies>
    <dependency>
        <groupId>com.google.gdata</groupId>
        <artifactId>core</artifactId>
        <version>1.47.1</version>
    </dependency>
</dependencies> 
```

Maven 很有趣，因为我们可以看到所有隐藏的依赖项，我们可以手动管理它们以正确安装所有最新版本的库。

完整的树包括以下内容：

```
core: 1.47.1
  guava: 13.0.1
  google-oauth-client-jetty: 1.11.0-beta
    google-oauth-client-java6: 1.11.0-beta
      google-auth-client: 1.11.0-beta
        google-http-client: 1.11.0-beta
          jsr305: 1.3.9 (omitted for conflict with 1.3.7)
          guava: 11.0.1 (omitted for conflict with 13.0.1)
          httpclient: 4.0.3
            httpcore: 4.0.1
            commons-logging: 1.1.1
            commons-codec: 1.3
          xpp3: 1.1.4
        jsr305: 1.3.9 (omitted for conflict with 1.3.7)
        guava: 11.0.1 (omitted for conflict with 13.0.1)
    jetty: 6.1.26
      jetty-util: 6.1.26
      servlet-api: 2.5-20081211
  jsr305: 1.3.7
  mail: 1.4
    activation: 1.1 
```

这棵树向我们展示了使用 guava 13.0.1 是安全的，并且您实际上并不需要您尝试包含的所有其他 API，因此只需忽略它们即可。

如果您不使用 Maven，只需使用此处的项目：[https ://code.google.com/p/gdata-java-client/downloads/list](https://code.google.com/p/gdata-java-client/downloads/list)

# javascript - 为什么 jQuery 没有将我的选择设置为选定的值

> ID：14974839
> 
> 赞同：0
> 
> 时间：2013-02-20T07:56:00.940
> 
> 标签：javascript, jquery, jquery-ui, jquery-autocomplete, html-select

我有标准的选择，它使用 jQuery 变成了一个组合框。

```
<select name="Searchby" id="Searchby">
    <option value="all" >All Departments</option>
    <option value="music" >Music</option>
    <option value="dvd" >DVD</option>
    <option value="bluray" >Bluray</option>
    <option value="Artist" >Artist</option>
</select> 
```

然后我有一个输入，上面有 jQuery 的自动完成功能。当一个人输入输入时，它会返回不同类别中可供选择的选项。如果他们单击一个选项，我希望它更改在上面的选择中选择的内容。这是我尝试过的代码。

```
$("#Search").catcomplete({
    delay: 1000,
    source: "Drop_Down_Search.php",
    select: function(event, ui) {
        if (ui.item.category = 'Artist') {
            $('#Searchby').val('Artist');
            console.log(ui.item.category);
        }
    }
}); 
```

控制台正在记录它正在工作并且它正确发布到搜索结果页面，但在您离开页面之前不会更改。它只是保留为“所有部门”。我需要更改它，以便正在搜索的人可以看到他们只会在移动到搜索结果页面之前搜索“艺术家”或“蓝光”。

编辑：

好的，事实证明，如果没有在选择上设置 jquery 组合框，它确实会更改值，但是当您使用 jquery 的组合框时，它不会改变。

将选择更改为组合框后，我应该使用什么来更改值？

这是组合框代码：

```
(function( $ ) {
    $.widget( "ui.combobox", {
        _create: function() {
            var input,
                that = this,
                wasOpen = false,
                select = this.element.hide(),
                selected = select.children( ":selected" ),
                value = selected.val() ? selected.text() : "",
                wrapper = this.wrapper = $( "<span>" )
                    .addClass( "ui-combobox" )
                    .insertAfter( select );

            function removeIfInvalid( element ) {
                var value = $( element ).val(),
                    matcher = new RegExp( "^" + $.ui.autocomplete.escapeRegex( value ) + "$", "i" ),
                    valid = false;
                select.children( "option" ).each(function() {
                    if ( $( this ).text().match( matcher ) ) {
                        this.selected = valid = true;
                        return false;
                    }
                });

                if ( !valid ) {
                    // remove invalid value, as it didn't match anything
                    $( element )
                        .val( "" )
                        .attr( "title", value + " didn't match any item" )
                        .tooltip( "open" );
                    select.val( "" );
                    setTimeout(function() {
                        input.tooltip( "close" ).attr( "title", "" );
                    }, 2500 );
                    input.data( "ui-autocomplete" ).term = "";
                }
            }

            input = $( "<input>" )
                .appendTo( wrapper )
                .val( value )
                .attr( "title", "" )
                .addClass( "ui-state-default ui-combobox-input" )
                .autocomplete({
                    delay: 0,
                    minLength: 0,
                    source: function( request, response ) {
                        var matcher = new RegExp( $.ui.autocomplete.escapeRegex(request.term), "i" );
                        response( select.children( "option" ).map(function() {
                            var text = $( this ).text();
                            if ( this.value && ( !request.term || matcher.test(text) ) )
                                return {
                                    label: text.replace(
                                        new RegExp(
                                            "(?![^&;]+;)(?!<[^<>]*)(" +
                                            $.ui.autocomplete.escapeRegex(request.term) +
                                            ")(?![^<>]*>)(?![^&;]+;)", "gi"
                                        ), "<strong>$1</strong>" ),
                                    value: text,
                                    option: this
                                };
                        }) );
                    },
                    select: function( event, ui ) {
                        ui.item.option.selected = true;
                        that._trigger( "selected", event, {
                            item: ui.item.option
                        });
                    },
                    change: function( event, ui ) {
                        if ( !ui.item ) {
                            removeIfInvalid( this );
                        }
                    }
                })
                .addClass( "ui-widget ui-widget-content ui-corner-left" );

            input.data( "ui-autocomplete" )._renderItem = function( ul, item ) {
                return $( "<li>" )
                    .append( "<a>" + item.label + "</a>" )
                    .appendTo( ul );
            };

            $( "<a>" )
                .attr( "tabIndex", -1 )
                .attr( "title", "Select A Critera to Search In " )
                .appendTo( wrapper )
                .button({
                    icons: {
                        primary: "ui-icon-triangle-1-s"
                    },
                    text: false
                })
                .removeClass( "ui-corner-all" )
                .addClass( "ui-corner-right ui-combobox-toggle" )
                .mousedown(function() {
                    wasOpen = input.autocomplete( "widget" ).is( ":visible" );
                })
                .click(function() {
                    input.focus();

                    // close if already visible
                    if ( wasOpen ) {
                        return;
                    }

                    // pass empty string as value to search for, displaying all results
                    input.autocomplete( "search", "" );
                });

        },

        _destroy: function() {
            this.wrapper.remove();
            this.element.show();
        }
    });

    })( jQuery );
                $(function() {
        $( "#Searchby" ).combobox();
        $( "#toggle" ).click(function() {
            $( "#Searchby" ).toggle();
        }); }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:06:47.907

我发现的错误..

```
$( "#Search" ).catcomplete({
    delay: 1000,
    source: "Drop_Down_Search.php",
    select: function( event, ui ) {
        if (ui.item.category == 'Artist') {
                        -----^^-- missing `=` in if since your are comparing this
            $('#Searchby').val('Artist');
            console.log(ui.item.category);
        }
    }
});

//}); extra brakets.. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:55:01.933

我在这个答案中找到了我想要的东西

[如何定义 jQuery UI 组合框的选定值？](https://stackoverflow.com/questions/8127040/how-to-define-selected-value-for-jquery-ui-combobox)

经过一些编辑后，我来到了这个工作。

`$('.ui-autocomplete-input').val($("#Searchby").val("Artist").val());`

您选择的值是“艺术家”，Searchby 是选择 ID

# jakarta-mail - 触发 messageRomoved 侦听器时无法获取邮件 MessageID 或 UID

> ID：14974841
> 
> 赞同：0
> 
> 时间：2013-02-20T07:56:06.213
> 
> 标签：jakarta-mail

我已将 MessageCountListener 设置为 IMAP 文件夹。当删除/添加消息时，侦听器会被正确触发。为了更新对本地客户端的更改，我需要 messageID 或 UID。但是在 messageRemoved() 方法中，当我尝试获取 MessageID 或 UID 时，它会引发 MessageRemoved 异常。

有没有办法在 messageRemoved() 处理程序中获取 messageID 或 UID？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T01:15:14.413

您始终可以获取已删除邮件的邮件编号。

如果您之前已获取消息的 UID，则应该能够在消息被删除后获取该消息的 UID。

您无法获取已删除邮件的 Message-ID 或其他标头。

# versioning - 如何在 Bazaar 中查看 ODT 文件的差异？

> ID：14974842
> 
> 赞同：1
> 
> 时间：2013-02-20T07:56:08.473
> 
> 标签：versioning, archive, bazaar, odt

默认情况下，bzr diff 不显示二进制文件的差异。但是，很大一部分 ODT（open office，libre office）文件在表面下包含 XML 数据。（ODT 将 xml 数据存储为存档（zip ？））

是否有允许集市查看档案的插件？或者ODT文档有什么特殊的插件吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T21:30:48.943

该`oodiff`插件的“官方”分支已过时，并且不适用于最新版本的 Bazaar。

我创建了一个带有错误修复的新分支，它应该工作得更好。您可以安装：

```
bzr branch lp:~janos-gyerik/bzr-oodiff/fixes-for-bzr2.5 ~/.bazaar/plugins/oodiff 
```

我用一些 ODT 文件对其进行了测试，它适用于工作树中的差异和过去修订中的差异。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:10:28.330

根据描述，以下插件应该可以完成这项工作： [http ://doc.bazaar.canonical.com/plugins/en/oodiff.html](http://doc.bazaar.canonical.com/plugins/en/oodiff.html)

# java - 带有 antlr3 的简单标准表达式解析器

> ID：14974843
> 
> 赞同：2
> 
> 时间：2013-02-20T07:56:13.257
> 
> 标签：java, antlr, antlr3, abstract-syntax-tree

我想用 antlr3 创建一个简单的标准表达式解析器

**更新：单独的 AND OR 表达式规则以支持 AND/OR 不同的层次结构，但还有另一个问题：** 如果表达式类似于：a = 1 and b = 2 and c = 3 根据当前实现，树应如下所示：

```
 =      =
 (a = 1)(b = 2)(c = 3)
But I want to generate it as follows:
          =       =
    (a = 1)(b = 2)
               (c = 3)
First "and" should be higher priority than another, because I want to parse all the expression as left exp and right exp. 
```

我想我需要在“subcond”中重新编写规则以使**a = 1 and b = 2 and c = 3 -> (a = 1 and b = 2) and c = 3**

但尝试了很多次都没有运气。有没有人知道如何实现它？谢谢。

* * *

我的目标是解析某种 SQL where 子句样式的句子，并构建一个 AST 来遍历。

例如：

```
 a = 1 and (b = 2 or c = 3)            //This one can parse correctly.
    a = 1 and ((b = 2 or c = 3) or d = 4) //This one cannot parse correctly, missing last d = 4 in the tree. 
                                          //Tree is not correct. 
```

我当前的语法文件无法解析上述复杂条件。因为我是 antlr 的新手，不知道如何修改我的语法以更正确地实现上述方法。有人可以帮忙吗？！任何建议或意见表示赞赏。

我的语法如下（根据评论更新。警告问题已解决。）：

```
grammar CriteriaExpression;

options {
  output       = AST;
  ASTLabelType = CommonTree;
  language     = Java;
}

tokens {
  AND    = 'and';
  OR     = 'or';
  LPAREN = '(';
  RPAREN = ')';
}

@lexer::header {
package com.antlr;
}

@parser::header {
package com.antlr;
}

eval
:
expression
; 
```

表达式：andExp (OR^ andExp)* ;

andExp : subcond (AND^ subcond)* ;

subcond : LPAREN 表达式 RPAREN |atom ;

```
atom
  :
  EXPR OPERATOR EXPR
  ;

OPERATOR
  :
  '='| '<>'| '!='| '<='| '!>'| '<'| '>='| '!<'| '>'| 'like'
  ;

EXPR
  :
  ('a'..'z'| 'A'..'Z'| '0'..'9')+
  ;

 WILDCARD
  :
  '%'
  ;

WS
  :
  ('\t'| ' '| '\r'| '\n'| '\u000C')*
   {$channel = HIDDEN;}
  ; 
```

((a=1)) ![((a=1))](../Images/681562800e28e797bac1cfe47e2ce378.png)

a = 1 和 ((b = 2 或 c = 3) 或 d = 4) ![a = 1 和 ((b = 2 或 c = 3) 或 d = 4)](../Images/fc96dd79022aae07b7970922ad696ed7.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:24:00.277

可能是我错了，但我认为你与这个东西有关的问题`LPAREN* something RPAREN*` 你可以写这样的东西（（东西）和antlr认为这个写是因为 LParent 和 Rparent 没有相互连接所以可能会使用这样的东西

```
COMPLEX:
    LPARENT (COMPLEX|subcond) RPARENT; 
```

但我会再说一遍，也许我错了

**更新**

改变这个：

```
subcond
  : 
  //atom (( AND | OR )^ atom)*
  LPAREN* atom RPAREN*
  ; 
```

对此：

```
subcond
  : 
  LPAREN (subcond|atom) RPAREN
  ; 
```

使用它你现在可以写这样的东西`((a=1))`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:29:46.213

你语法中的一个缺陷是规则

```
expression
  :
  LPAREN* subcond RPAREN* (( AND | OR )^ LPAREN* subcond RPAREN*)
  ; 
```

由于您可以拥有任意数量的 LPAREN 或 RPAREN，因此无法保证它们是匹配的。我建议使用类似的东西

```
expression
  : subcond (( AND | OR ) subcond)?
  | subcond
  ; 
```

并且对于`subcond`

```
subcond
  : atom (( AND | OR )^ atom)*
  | LPAREN expression RPAREN
  ; 
```

理想情况下，您还应该有单独的规则`AND`和`OR`表达式，以便在解析树中具有正确的优先级。

更新：在您更新的语法中，您再次使用`LPAREN*`并且`RPAREN*`不会为您提供适当平衡的树。您需要像`((a = 1))`递归一样对多个括号进行建模，就像我在上面的示例中描述的那样。这会给一棵树

```
((a = 1))
  ^---^--- ATOM
 ^-----^-- Subcond -> Expression
^-------^- Subcond -> Expression 
```

所以树会是这样的：

```
Expression "((a = 1))"
^
Subcond "(a = 1)"
^
Expression "(a = 1)"
^
Subcond "a = 1"
^
ATOM "a = 1" 
```

# android - 在 Android 4.2.2 中安装应用程序后下载通知不会消失

> ID：14974846
> 
> 赞同：1
> 
> 时间：2013-02-20T07:56:24.277
> 
> 标签：android, android-notifications, android-4.2-jelly-bean

我正在使用`downloadManager.addCompletedDownload()`最后一个参数自动下载我的应用程序的新版本（Google Play 商店外的私人应用程序） `showNotification = true`。

在之前的安卓版本中，新应用下载完成后会弹出通知，安装新应用后，通知会消失。Nexus 7 上的 4.2.2 更改了此行为，因为即使安装了应用程序，通知仍然存在，直到 Nexus 7 关闭。

我还没有找到任何解决方法。

# ios - 将 MGSplitViewController 推送到导航控制器的问题

> ID：14974848
> 
> 赞同：0
> 
> 时间：2013-02-20T07:56:37.423
> 
> 标签：ios, xcode, ios6, uisplitviewcontroller

我需要将 a 推`UISplitViewController`到`UINavigationController`. 经过大量研究，我发现一个通用的 SplitView 必须是应用程序的根视图。

后来我在github上找到[了MGSplitViewController 。](https://github.com/mattgemmell/MGSplitViewController)为了完成我的要求，我遵循[了这个 SO question](https://stackoverflow.com/questions/7039629/mgsplitviewcontroller-not-as-rootview-but-within-a-uiviewcontroller)。

毕竟这些它不起作用，并且应用程序因断点而崩溃。任何人都可以对此有所了解。

编辑： ![在此处输入图像描述](../Images/de13621a16d2e3126a5112d55e92c5b3.png)

[更大的尺寸](https://i.stack.imgur.com/0jl9N.png)

# php - 哎呀！Google Chrome 无法连接到 localhost：MacOsX 中的 Apache2 配置（没有 MAMP）

> ID：14974851
> 
> 赞同：0
> 
> 时间：2013-02-20T07:56:42.233
> 
> 标签：php, apache

我有一台使用 Linux 的机器，另一台使用 MacOsX：前者用于 Web 开发，后者用于 iOS 开发。我只想开始使用我的 MacBook 进行 Web 开发并停止拥有两台机器。我不喜欢虚拟机。

（PS。如果可以的话，我不想安装任何像MAMP这样的软件）

所以，...我已经激活了 apache2，我已经定义了一个 VirtualHost：

```
<VirtualHost *:80>
    ServerAdmin sensorario@gmail.com
    ServerName localhost
    ServerAlias senso.local.com
    DocumentRoot /Users/simonegentili/Development/Www
    DirectoryIndex index.php
    <Directory /Users/simonegentili/Development/Www>
            AllowOverride all
    </Directory>
    ErrorLog ${APACHE_LOG_DIR}/localhost.error.log
    LogLevel notice
    CustomLog ${APACHE_LOG_DIR}/localhost.access.log combined
</VirtualHost> 
```

还有这个 DocumentRoot：

```
DocumentRoot "/Users/simonegentili/Development/Www/" 
```

但我只看到这样的消息：

```
Oops! Google Chrome could not connect to localhost 
```

# php - 表达式引擎 - PHP - 无法运行函数

> ID：14974854
> 
> 赞同：0
> 
> 时间：2013-02-20T07:56:55.040
> 
> 标签：php, javascript, ajax, expressionengine

我正在尝试使用 Ajax 从我的页面中运行带有 ExpressonEngine 标记的 PHP 脚本。我已经根据文档设置了 PHP 脚本，但我似乎无法真正调用 PHP 脚本中的函数。我肯定错过了什么。

我的阿贾克斯：

```
function createNew(obj) {
    $.ajax({
    url: 'createNew.php',
       data: "call=create_new",
    type: 'GET',
       success: function(data){
        obj.innerHTML = data;
    }
    });
} 
```

我的PHP：

```
<?php

if($_SERVER['REQUEST_METHOD']=="GET") {
$function = $_GET['call'];
if(function_exists($function)) {        
    call_user_func($function);
} else {
   echo 'Function Not Exists!!' . $function;

}
}

class CreateNewEntry {
    public function create_new() {
        $this->EE->load->library('api');
        $this->EE->api->instantiate('channel_entries');
        $this->EE->api->instantiate('channel_fields');
        $channel_id = $this->channel_id;

        $data = array(
                'title'        => 'Ny entry',
             'entry_date'  => time(),
                 'ping_servers'=> array(),
                'url_title'    => 'new-entry',
                'field_id_2'   => '5.0',
                'field_id_3'   => '10%',
                'field_id_4'   => 'Author',
             'field_id_5'   => '4x4',
             'field_id_6'   => '<p>Some text</p>'
        );

        if ($this->EE->api_channel_entries->submit_new_entry($channel_id, $data) === FALSE)
            { 
            $errors = $this->EE->api_channel_entries->errors;
             echo $errors;
          }     
        echo 'Success';

    }
}
?> 
```

起初，我尝试不使用类和函数。但是我在 $this 上遇到了错误，这似乎需要在类内的函数中。所以我就这么做了。但它仍然无法正常工作。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:12:47.487

这`create_new`是一个类方法，因此您不能仅`call_user_func( $function)`用于执行它。

我有 2 个解决方案：

```
$obj = new CreateNewEntry();
call_user_func(aray($obj, $function)); 
```

或者

```
call_user_func("CreateNewEntry::".$function); 
```

（第二种方式需要`create_new`声明为方法的`static`方法。

# java - 在 Tomcat 中部署 GWT RPC 应用程序

> ID：14974856
> 
> 赞同：0
> 
> 时间：2013-02-20T07:57:00.500
> 
> 标签：java, gwt, tomcat, servlets, rpc

根据 Google 教程，我开发了基本的 StockWatcher 应用程序，它对服务器进行 RPC 调用，服务器发送一些数据，这些数据显示在客户端上。

我现在想将它部署在 Tomcat 中，这样如果调用类似的东西`localhost/StockWatcher`，我应该获得与在开发模式下从 GWT 运行应用程序时相同的体验。

我该怎么做呢？[这里](https://stackoverflow.com/questions/5354802/how-to-use-gwt-rpc-to-tomcat-server)有一个类似的话题，但我不太明白。如果我只复制已编译的`war`文件夹，那么`GreetingServiceImpl`处理 RPC 的类会发生什么？以及如何进行映射以`localhost/StockWatcher`映射到`localhost:8080`（类似`Mod_Rewrite`）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:22:51.597

在 TOMCAT 上部署战争的步骤

```
 1)Compile you gwt web application
    2)Copy  the war file 
    3)Add all libraries(jar files) in lib folder of war file 
    4)Rename your war as "myapp"
    5)create a .war file with that "myapp" folder
    6)start tomcat with catalina.bat run. 
```

对于第 5 步（生成 .war 文件）：[从命令行准备 .war 文件](http://www.coderanch.com/t/400585/java/java/war-file)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:26:24.307

通常如果你部署好你的war目录并且你能够启动tomcat你已经完成了一切。如果您使用以下 url 访问您的页面： localhost:8080/StockWatcher gwt 将知道它必须使用该 url 作为所有 gwt/rpc 请求的 baseURL。

要使用 Eclipse 生成战争：右键单击项目 -> 导出 -> 战争。您将导出包含所有依赖项的战争。直接解压到ROOT目录

# javascript - 在没有 jQuery 的情况下在 node.js 上合并或合并 JSON

> ID：14974864
> 
> 赞同：81
> 
> 时间：2013-02-20T07:57:13.590
> 
> 标签：javascript, jquery, json, node.js

我有多个`JSON`这样的

```
var object1 = {name: "John"};
var object2 = {location: "San Jose"}; 
```

它们不是嵌套或类似的东西。只是基本上不同的领域。`JSON`我需要在**node.js**中将它们组合成一个，如下所示：

```
{name: "John", location: "San Jose"} 
```

我可以很好地使用**jQuery 。**这是浏览器中的一个工作示例：

[http://jsfiddle.net/qhoc/agp54/](http://jsfiddle.net/qhoc/agp54/)

但是如果我在**node.js**中执行此操作，我不想加载 jQuery（这有点过度使用，加上**node.js 的 jQuery在我的***Windows*机器上不起作用）。

那么有没有一种简单的方法来做类似于`$.extend()`没有**jQuery**的事情？

* * *

## 回答 #1

> 赞同：132
> 
> 时间：2016-05-20T01:34:13.100

## 你应该使用“ [Object.assign()](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign) ”

对于这样一个简单的浅合并用例，无需重新发明轮子。

> Object.assign() 方法用于将所有可枚举自身属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。

```
var o1 = { a: 1 };
var o2 = { b: 2 };
var o3 = { c: 3 };

var obj = Object.assign(o1, o2, o3);
console.log(obj); // { a: 1, b: 2, c: 3 }
console.log(o1);  // { a: 1, b: 2, c: 3 }, target object itself is changed 
```

甚至来自[Node.js 的人也这么说](https://nodejs.org/api/util.html#util_util_extend_target_source)：

> `_extend`从未打算在内部 NodeJS 模块之外使用。社区还是找到并使用了它。它已被弃用，不应在新代码中使用。JavaScript 通过`Object.assign`.

* * *

### 更新：

## 您可以使用[*扩展运算符*](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)

从[8.6 版本](https://node.green/#ES2018-features-object-rest-spread-properties-object-spread-properties)开始，可以在 Node.js 中原生使用[扩展运算符。](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)下面的例子：

```
let o1 = { a: 1 };
let o2 = { b: 2 };
let obj = { ...o1, ...o2 }; // { a: 1, b: 2 } 
```

`Object.assign`不过，仍然有效。

* * *

^(**PS1**：如果你真的对**深度合并**感兴趣（其中内部对象数据——在任何深度——被递归地合并），你可以使用像[deepmerge](https://www.npmjs.com/package/deepmerge)、[assign-deep](https://www.npmjs.com/package/assign-deep)或[lodash.merge](https://www.npmjs.com/package/lodash.merge)这样的包，它们非常小而且简单采用。)

^(**PS2**：请记住**Object.assign 不适用于 0.X 版本的 Node.js**。如果您正在使用其中一个版本（*您现在真的不应该*使用），您可以`require("util")._extend`按照上面的 Node.js 链接所示使用——有关更多详细信息，请查看[tobymackenzie 对同一问题的回答](https://stackoverflow.com/a/22286375/36272)。)

* * *

## 回答 #2

> 赞同：58
> 
> 时间：2014-03-09T18:38:32.897

如果使用节点版本 >= 4，请使用`Object.assign()`（参见[Ricardo Nolde 的回答](https://stackoverflow.com/a/37336592/1139122)）。

如果使用 Node 0.x，则有内置的 util._extend：

```
var extend = require('util')._extend
var o = extend({}, {name: "John"});
extend(o,  {location: "San Jose"}); 
```

它不进行深度复制，一次只允许两个参数，但是是内置的。我在一个关于在节点中克隆对象的问题上看到了这一点：[https](https://stackoverflow.com/a/15040626) ://stackoverflow.com/a/15040626 。

如果您担心使用“私有”方法，您可以随时代理它：

```
// myutil.js
exports.extend = require('util')._extend; 
```

如果它消失了，用你自己的实现替换它。这是（大约）他们的实现：

```
exports.extend = function(origin, add) {
    if (!add || (typeof add !== 'object' && add !== null)){
        return origin;
    }

    var keys = Object.keys(add);
    var i = keys.length;
    while(i--){
        origin[keys[i]] = add[keys[i]];
    }
    return origin;
}; 
```

* * *

## 回答 #3

> 赞同：51
> 
> 时间：2013-02-20T09:21:29.367

[就像詹姆斯评论的那样，下划线`extend`](http://underscorejs.org/#extend)是实现这一目标的最简单和最快的方法。

下面是一个使用下划线的例子：

```
var _ = require('underscore'), // npm install underscore to install
  object1 = {name: "John"},
  object2 = {location: "San Jose"};

var target = _.extend(object1, object2); 
```

对象 1 将获取对象 2 的属性并返回并分配给目标。你也可以这样做，这取决于你是否介意 object1 被修改：

```
var target = {};
_.extend(target, object1, object2); 
```

* * *

## 回答 #4

> 赞同：42
> 
> 时间：2013-02-20T08:01:49.240

正常循环？

```
function extend(target) {
    var sources = [].slice.call(arguments, 1);
    sources.forEach(function (source) {
        for (var prop in source) {
            target[prop] = source[prop];
        }
    });
    return target;
}

var object3 = extend({}, object1, object2); 
```

这是一个基本的起点。您可能想要添加诸如`hasOwnProperty`检查之类的东西，或者添加一些逻辑来处理多个源对象具有具有相同标识符的属性的情况。

这是一个[工作示例](http://jsfiddle.net/2jZz3/)。

*旁注*：您所说的“JSON”实际上是普通的 JavaScript 对象。JSON 只是一种与 JavaScript 共享一些语法的文本格式。

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2014-01-16T22:47:48.097

使用[合并](http://goo.gl/cVu0ev)。

```
$ npm install merge 
```

示例代码：

```
var merge = require('merge'), // npm install -g merge
    original, cloned;

console.log(

    merge({ one: 'hello' }, { two: 'world' })

); // {"one": "hello", "two": "world"}

original = { x: { y: 1 } };

cloned = merge(true, original);

cloned.x.y++;

console.log(original.x.y, cloned.x.y); // 1, 2 
```

* * *

## 回答 #6

> 赞同：12
> 
> 时间：2013-08-25T13:33:22.710

我看到这个线程太旧了，但我把我的答案放在这里只是为了记录目的。

> 在上面的评论之一中，您提到您想在项目中使用“express”，该项目在依赖项列表中有“connect”库。实际上'connect.utils'库包含一个'merge'方法可以解决问题。因此，您无需添加任何新的 3rd 方库即可使用 3rd 方实现。

* * *

## 回答 #7

> 赞同：11
> 
> 时间：2013-02-20T11:52:34.130

这是合并 JSON 的简单解决方案。我做了以下。

*   使用 . 将每个 JSON 转换为字符串`JSON.stringify(object)`。
*   使用运算符连接所有 JSON 字符串`+`。
*   将模式替换`/}{/g`为`","`
*   将结果字符串解析回 JSON 对象

    ```
    var object1 = {name: "John"};
    var object2 = {location: "San Jose"};
    var merged_object = JSON.parse((JSON.stringify(object1) + JSON.stringify(object2)).replace(/}{/g,",")) 
    ```

生成的合并 JSON 将是

```
{name: "John", location: "San Jose"} 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2015-08-04T19:03:13.060

你也可以使用这个轻量级的 npm 包，叫做[吸收](https://www.npmjs.com/package/absorb)

它是 27 行代码，1kb，并使用递归来执行深度对象合并。

```
var absorb = require('absorb');
var obj1, obj2;

obj1 = { foo: 123, bar: 456 };
obj2 = { bar: 123, key: 'value' }

absorb(obj1, obj2);

console.log(obj1); // Output: { foo: 123, bar: 123, key: 'value' } 
```

您还可以使用它来进行克隆或仅在源对象中不存在值时才传输值，如何执行此操作在提供的链接中进行了详细说明。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2016-12-20T10:02:06.953

使用 Object.assign() 方法可以轻松完成 -

```
 var object1 = {name: "John"};
 var object2 = {location: "San Jose"};
 var object3 = Object.assign(object1,object2);
 console.log(object3); 
```

现在 object3 是 { name: 'John', location: 'San Jose' }

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2018-04-13T04:12:40.483

在 Node.js 中有一种简单的方法

```
var object1 = {name: "John"};
var object2 = {location: "San Jose"}; 
```

要组合/扩展它，我们可以`...`在 ECMA6 中使用运算符

```
var object1 = {name: "John"};
var object2 = {location: "San Jose"};

var result = {
  ...object1,
  ...object2
}

console.log(result)
```

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2014-07-06T17:53:42.793

如果您需要嵌套对象扩展或数组替换等特殊行为，您可以使用 Node.js 的[extendify](https://www.npmjs.org/package/extendify)。

```
var extendify = require('extendify');

_.extend = extendify({
    inPlace: false,
    arrays : 'replace',
    isDeep: true
});

obj1 = {
    a:{
        arr: [1,2]
    },
    b: 4
};

obj2 = {
    a:{
        arr: [3]
    }
};

res = _.extend(obj1,obj2);
console.log(JSON.stringify(res)); //{'a':{'arr':[3]},'b':4} 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2016-09-05T21:14:49.473

[Lodash](https://lodash.com)是此类实用程序的另一个强大的工具带选项。请参阅：（[`_.merge()`](https://lodash.com/docs/4.15.0#merge)这是递归的）

```
var object = {
  'a': [{ 'b': 2 }, { 'd': 4 }]
};
var other = {
  'a': [{ 'c': 3 }, { 'e': 5 }]
}; 
_.merge(object, other);
// => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] } 
```

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2018-09-25T14:56:13.213

使用扩展运算符。从 8.6 版开始在 Node 中支持

```
const object1 = {name: "John"};
const object2 = {location: "San Jose"};

const obj = {...object1, ...object2}

console.log(obj)
//   {
//     "name": "John",
//     "location": "San Jose"
//   }
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2014-06-17T10:15:07.087

下面的代码将帮助您合并两个具有嵌套对象的 JSON 对象。

```
function mergeJSON(source1,source2){
    /*
     * Properties from the Souce1 object will be copied to Source2 Object.
     * Note: This method will return a new merged object, Source1 and Source2 original values will not be replaced.
     * */
    var mergedJSON = Object.create(source2);// Copying Source2 to a new Object

    for (var attrname in source1) {
        if(mergedJSON.hasOwnProperty(attrname)) {
          if ( source1[attrname]!=null && source1[attrname].constructor==Object ) {
              /*
               * Recursive call if the property is an object,
               * Iterate the object and set all properties of the inner object.
              */
              mergedJSON[attrname] = zrd3.utils.mergeJSON(source1[attrname], mergedJSON[attrname]);
          } 

        } else {//else copy the property from source1
            mergedJSON[attrname] = source1[attrname];

        }
      }

      return mergedJSON;
} 
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2017-01-23T21:16:10.690

你可以使用 Lodash

```
const _ = require('lodash');

let firstObject = {'email' : 'email@email.com};
let secondObject = { 'name' : { 'first':message.firstName } };
_.merge(firstObject, secondObject) 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2017-11-07T15:53:37.207

为了不改变目标，从正确的解决方案中获得更好的方法：

```
function extend(){
  let sources = [].slice.call(arguments, 0), result = {};
  sources.forEach(function (source) {
    for (let prop in source) {
      result[prop] = source[prop];
    }
  });
  return result;
} 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2018-09-25T13:19:16.700

您可以内联执行此操作，而无需更改任何变量，如下所示：

```
let obj1 = { name: 'John' };
let obj2 = { surname: 'Smith' };
let obj = Object.assign({}, obj1, obj2); // { name: 'John', surname: 'Smith' } 
```

* * *

## 回答 #18

> 赞同：-3
> 
> 时间：2016-06-18T11:02:53.337

让`object1`和`object2`成为两个 JSON 对象。

```
var object1 = [{"name": "John"}];
var object2 = [{"location": "San Jose"}];

object1.push(object2); 
```

`object2`这将简单地追加`object1`：

```
[{"name":"John"},{"location":"San Jose"}] 
```

# sql-server - 将数据从一个表插入到另一个表 表名生成运行时而不声明表字段

> ID：14974865
> 
> 赞同：0
> 
> 时间：2013-02-20T07:57:14.567
> 
> 标签：sql-server

我有两个表说 table1 和 table2 两个表中的所有列都是相同的，但是 table2 有一些额外的列，我想在其中插入一些默认值，并且表的名称是在运行时生成的，所以表名可以更改，所以我不能声明表的字段。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:30:53.257

你需要的是**动态查询**。

请看下面的代码

```
create table #temp1(id int, prodName varchar(max))

insert into #temp1 values(1,'a')
insert into #temp1 values(2,'b')
insert into #temp1 values(3,'c')
insert into #temp1 values(4,'d')

declare @TableName varchar(20)
set @TableName='NewTable';
declare @QueryCreateTable varchar(max);

set @QueryCreateTable = 
'create table ' + @TableName + ' (id int, prodName varchar(max), defaultCol int DEFAULT 0) 
insert into ' + @TableName + ' (id,prodName)
(
select * from #temp1
)
select * from ' + @TableName;

exec (@QueryCreateTable);

drop table #temp1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:56:11.963

我已经写了你的问题的答案。您可以在以下[链接](http://droiddddd.blogspot.in/2013/02/insert-data-from-one-table-to-another.html)中查看。

也仅供参考。如果将源和目标的参数传递给proc，它将自动将数据从源插入到目标。

# android - 有没有办法使用 uiautomator api 而不是手动使用 uiautomatorviewer 在 android 设备上查找视图？

> ID：14974867
> 
> 赞同：1
> 
> 时间：2013-02-20T07:57:18.300
> 
> 标签：android, ui-testing

我可以使用 uiautomator api 编写代码来查找设备上的所有视图及其详细信息，而不是使用 uiautomatorviewer 并拍摄快照来查找所有详细信息吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-02T06:11:38.240

使用**Robotium**，您可以获得设备上的所有视图及其详细信息。它提供了`solo.getCurrentViews ()`将返回当前显示在焦点活动或对话框中的视图对象的 ArrayList。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-27T09:45:51.410

[UiObject](http://developer.android.com/tools/help/uiautomator/UiObject.html)代表一个视图。[这是有关如何获取它](http://developer.android.com/tools/testing/testing_ui.html#classes)的官方示例。

# java - 将数据从 MS SQL 服务器复制到 MySQL

> ID：14974868
> 
> 赞同：0
> 
> 时间：2013-02-20T07:57:21.890
> 
> 标签：java, quartz-scheduler

我需要将所有数据从 MS SQL 服务器复制到 MySQL 服务器。我打算使用 Quartz 调度程序来执行此操作。此调度程序将每晚运行并将数据从 MS-SQL-Server 移动到 MySQL 服务器。谁能告诉这是否可以，或者有没有其他更好的方法可以做到这一点？

**更新：**
我只需要传输一张有 40 列的表（从 MS SQL 服务器到 MySQL）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:11:24.003

除非绝对必须，否则我不会涉及 java：java 不会增加任何价值，但会增加额外的复杂性。

这是一个“DBA”类型的任务，属于使用 cron 选项卡安排的脚本。

如果我正在实现它，我会将源数据库导出为 SQL 脚本，然后通过在目标上运行它来导入它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:59:42.993

我建议您使用[http://www.talend.com](http://www.talend.com)来完成类似的任务。

**更新**

Talend Open Studio for Data Integration 是开源的，这里还有一些其他特性是专有[细节](http://www.talend.com/products/data-integration)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:01:04.937

SQL Server Management Studio 的“导入数据”任务（右键单击数据库名称，然后单击任务）将为您完成大部分工作。从要将数据复制到的数据库中运行它。

如果表不存在，它将为您创建它们，但您可能必须重新创建任何索引等。如果表确实存在，它将默认附加新数据，但您可以调整（编辑映射），以便删除所有现有数据。

我一直都在使用它，而且效果很好。

大卫

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T14:24:18.803

正如 PbxMan 所说，我会使用 ETL，但我推荐 Pentaho ( [http://wiki.pentaho.com/display/EAI/Spoon+User+Guide](http://wiki.pentaho.com/display/EAI/Spoon+User+Guide) )，我认为这对于这样简单的工作要容易得多

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-02-13T08:15:14.480

我同意@bohemian - 每晚运行一个工作来转移一个表听起来像是一个很好的 cron 工作（或“计划任务”，如果在 Windows 上）的候选人。使用像 Quartz 这样的框架来完成这项任务似乎有点过头了。

将数据从 SQL Server 移动到 MySQL 的解决方案有很多，其他的也列出了很好的解决方案，例如 Talend。如果只传输某些列对您有利（例如，为了避免泄漏[PII](https://www.investopedia.com/terms/p/personally-identifiable-information-pii.asp)），我的产品 SQLpipe 可能会有所帮助，因为它传输*查询*的结果，而不是整个表。

这是一篇博客文章，展示了如何使用该产品[将数据从 SQL Server 传输到 MySQL](https://sqlpipe.com/transfer-data-from-sql-server-to-mysql)。

# sql - SQL查询根据结束日期将天数分配给期间

> ID：14974870
> 
> 赞同：1
> 
> 时间：2013-02-20T07:57:28.143
> 
> 标签：sql, date, ms-access

我有一张表格，其中列出了从现在到 2015 年的日期。例如。

```
Date
11/1/2013
12/1/2013
13/1/2013
...
25/1/2013 
```

我有一个单独的表格，其中包含报告日期。

```
cutoff_ date    purpose
11/1/2013       Mid Month Report
25/1/2013       Month End Report 
```

所以我需要将 2013 年 11 月 1 日和 2013 年 1 月 25 日之间的日期全部分配给 25/1/2013 什么是最好的解决方法？

我可以在一个简单的 SQL 查询中做到这一点吗？如果有影响，数据库当前处于 Access 中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:06:40.030

用于检索大于或等于*[Date]*`DMin`的最小*cutoff_date*。

 *```
SELECT
    [Date],
    DMin("cutoff_date", "report_dates",
        "[cutoff_date] >= " & Format([Date], "\#yyyy-m-d\#")) AS report_date
FROM first_table; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T13:52:25.723

使用子查询可能有一些好处，例如，您可以使用参数，该参数可以在代码中分配、从表单获取或简单地输入。此示例仅选择日期与输入的 cutoff_date 目的相匹配的那些记录在提示中`[please enter purpose]`。

```
SELECT DISTINCT dates.day,
                (SELECT TOP 1 cutoff_date
                 FROM   report_dates
                 WHERE  cutoff_date >= dates.day
                        AND purpose = [please enter purpose]
                 ORDER  BY cutoff_date) AS CutOff
FROM   dates
WHERE  (SELECT TOP 1 cutoff_date
        FROM   report_dates
        WHERE  cutoff_date >= dates.day
               AND purpose = [please enter purpose]
        ORDER  BY cutoff_date) IS NOT NULL; 
```*

# c++ - c++11 std::shared_ptr + boost::serialization

> ID：14974873
> 
> 赞同：11
> 
> 时间：2013-02-20T07:57:44.723
> 
> 标签：c++, shared-ptr, boost-serialization

嗨，有人已经设法用 boost::serialization 序列化 C++11 std::shared_ptr。那里有很多过时的帖子，但没有一个可以接受的解决方案。我不会讨论为什么要使用 std::shared_ptr 只是接受它！

我发现了另一个帖子：[boost serialize 和 std::shared_ptr](https://stackoverflow.com/questions/9944274/boost-serialize-and-stdshared-ptr)但它没有回答我的问题如何序列化 std::shared_ptr 它只建议使用 boost::shared_ptr 这在我的情况下是不可能的。

这篇文章[How can boost::serialization be used with std::shared_ptr from C++11?](https://stackoverflow.com/questions/8115220/how-can-boostserialization-be-used-with-stdshared-ptr-from-c11) 也只推荐使用 boost::shared_ptr。

如果有人已经找到了设法序列化 std::shared_ptr 的解决方法，我会很感兴趣。

我终于找到了解决我的问题的方法，请参阅[https://stackoverflow.com/a/14999396/2039157](https://stackoverflow.com/a/14999396/2039157)以获得我的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:03:33.053

难道不能“仅仅”创建一个序列化器<<和反序列化器>>，它将“只是”将 shptr-serialization 转换为 object-pointer 序列化？如果还没有完成，我几乎可以肯定这可以在 < 100 行代码中实现。

另外，我知道您已指定不问，但我仍然会：当您尝试序列化 shptr 的“X”变量时，为什么不能只序列化取消引用的 *shptr ？这对我来说似乎没有足够的区别来为 smartptrs 添加序列化..嗯..好的。美学。但我仍然认为这是可行的。

**无论如何，您可能会遇到另一面墙：如果您使用类继承并且如果您通过指向基类的指针**携带 shptr 中的对象，您将遇到一个明显的问题，即序列化程序将不知道它实际上被命令序列化什么。但这是没有 RTTI 的序列化的经典问题，嗯，你必须以某种方式解决，但这不是 shptrs 的问题。

免责声明：我最后一次使用 boost::serialization 是几年前。我实际上并没有尝试序列化 shptr，但据我记得，这是一个相当开放的框架，相对容易扩展任何自定义类型，所以我认为 shptr 并不比我管理的怪异类好 -序列化:)

# node.js - Grunt watch 插件不显示 UglifyJS 中止消息

> ID：14974875
> 
> 赞同：1
> 
> 时间：2013-02-20T07:57:49.923
> 
> 标签：node.js, build-automation, gruntjs

grunt-contrib-watch 插件提供了很好的自动构建功能，但在某些情况下不显示来自任务的警告消息，这是我的 grunt.js：

```
 min: {
        app: {
            src: [
                'some.js',
            ],
            dest: 'some.min.js'
        },
    }

    watch: {
        app: {
            files: 'some.js',
            tasks: ['min:app']
        },
    } 
```

如果来源很好，一切顺利；但是当 UglifyJS 中止时：

直接运行 grunt min:app

```
Running "min:app" (min) task
Minifying with UglifyJS...ERROR
[L360:C46] Unexpected token name, expected punc (position: 8529)
<WARN> UglifyJS found errors. Use --force to continue. </WARN>

Aborted due to warnings. 
```

通过 watch 插件自动构建

```
Waiting...OK
>> File "some.js" changed.
Running "min:app" (min) task 
```

因此，如果不查看输出本身，就无法知道构建是否成功。

与 css less 类似的设置确实会向 CLI 显示错误，我想知道是否需要将某些内容传递给 grunt/watch plugin/uglify 以使其工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:19:35.103

watch 使用了 jshint，你需要确保 jshint 配置正确，然后添加到你的 grunt 任务中以获取 watch 命令。将 jshint 任务添加到您的监视任务中，还包括 jshint 的配置选项（示例如下）：

```
 jshint: {
   all: [
    'Gruntfile.js',
    'some.js'
  ],
  options: {
    jshintrc: '.jshintrc'
  }
},
// minification options here
watch: {
  scripts: {
    files: 'some.js',
    tasks: ['jshint']

 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:02:22.563

看起来像 Grunt v0.3.x + grunt-contrib-watch v0.1.4 确实是问题......

[https://github.com/gruntjs/grunt-contrib-watch/issues/19](https://github.com/gruntjs/grunt-contrib-watch/issues/19)

[https://github.com/gruntjs/grunt-contrib-watch/issues/7](https://github.com/gruntjs/grunt-contrib-watch/issues/7)

（**编辑**：升级到 Grunt v0.4.x + grunt-contrib-watch v0.2.x 后，问题已解决；虽然我应该注意到这是一个重大升级，但大多数 v0.3 插件并未转换为支持 Grunt v0 .4 还）

我也在他们的回购中关闭了我的票，以供参考：[https ://github.com/gruntjs/grunt-contrib-watch/issues/51](https://github.com/gruntjs/grunt-contrib-watch/issues/51)

# php - 在PHP中将两个数组的项目合并到一个数组中

> ID：14974880
> 
> 赞同：-4
> 
> 时间：2013-02-20T07:58:39.730
> 
> 标签：php, arrays

我在下面有一个 stdClass 对象数组，但我想将这些项目合并到一个数组中，如下所示；

当前阵列

```
Array
(
    [0] => stdClass Object
        (
            [photoid] => pht11a138355.jpg
            [propertyid] => PTY698082F7A
            [phototitle] => N/A
            [photodescription] => N/A
            [coverphoto] => 1
            [photovisible] => 1
        )

)

Array
(
    [0] => stdClass Object
        (
            [photoid] => phtd9d04dc92.jpg
            [propertyid] => PTY7419F7A38
            [phototitle] => N/A
            [photodescription] => N/A
            [coverphoto] => 1
            [photovisible] => 1
        )

) 
```

我想达到什么；

```
Array
(
    [0] => stdClass Object
        (
            [photoid] => pht11a138355.jpg
            [propertyid] => PTY698082F7A
            [phototitle] => N/A
            [photodescription] => N/A
            [coverphoto] => 1
            [photovisible] => 1
        )
    [1] => stdClass Object
        (
            [photoid] => phtd9d04dc92.jpg
            [propertyid] => PTY7419F7A38
            [phototitle] => N/A
            [photodescription] => N/A
            [coverphoto] => 1
            [photovisible] => 1
        )
) 
```

是否可以在PHP中做到这一点

这是我正在使用的脚本的一部分；

```
foreach ($data['searchresults'] as &$row) {

$photo_array = $this->Properties_model->getimg($row->propertyid);

$photodata = $this->Properties_model->getimg($row->propertyid);

$data['photos'] = arrayToObject($photo_array);

echo '<pre>';
print_r($photo_array);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:01:30.970

使用`array_merge`.

```
$result = array_merge($array1, $array2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:01:54.713

您正在寻找 array_merge。

文档在这里： http: [//php.net/manual/en/function.array-merge.php](http://php.net/manual/en/function.array-merge.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T08:32:13.447

试试这个 ：

```
<?php

$arr1 = Array(array(
            "photoid" => "pht11a138355.jpg",
            "propertyid" => "PTY698082F7A",
            "phototitle" => "N/A",
            "photodescription" => "N/A",
            "coverphoto" => 1,
            "photovisible" => 1
            )
);

$arr2 = Array(array(
            "photoid" => "phtd9d04dc92.jpg",
            "propertyid" => "PTY7419F7A38",
            "phototitle" => "N/A",
            "photodescription" => "N/A",
            "coverphoto" => 1,
            "photovisible" => 1
        )
);

$array  = array_merge($arr1,$arr2);

echo "<pre>";
print_r($array);
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:01:55.793

是的..使用`array_merge($array1,$array2)`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T08:05:55.880

`array_merge`已经可用

```
<?php
$beginning = 'foo';
$end = array(1 => 'bar');
$result = array_merge((array)$beginning, (array)$end);
print_r($result);
?> 
```

取自 php 文档。你应该先看到那里。

```
Array
    (
        [0] => foo
        [1] => bar
    ) 
```

# mysql - 在 Java Web 项目中发送邮件和更新数据库

> ID：14974882
> 
> 赞同：0
> 
> 时间：2013-02-20T07:58:44.710
> 
> 标签：mysql, jakarta-ee, javabeans

我想创建一个*注册*页面，用户在该页面上提供电子邮件 ID 并点击*提交*按钮。

*当用户点击提交*按钮时，我想要做的是*生成随机密码*并将其发送到他的电子邮件 ID，然后他可以使用该密码登录。随机生成的密码和电子邮件 ID 存储在我的*数据库 (My SQL)*中。

我正在使用此代码发送邮件。该文件位于 Login/src/beanmail/SendMailExample.java

```
 package beanmail;
import java.util.Properties;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.Message.RecipientType;
import javax.mail.internet.AddressException;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;
import com.sun.mail.smtp.SMTPSSLTransport;

public class SendMailExample {

public static boolean sendMail(String mail, String pass) {
boolean flag=false;
String from = "******@gmail.com";
String to = mail;
String subject = "Your user name and password..";
String message = mail+","+pass;
SendMail sendMail = new SendMail(from, to, subject,message);
sendMail.send();
flag = true;
return flag;
}
}

class SendMail {
private String from;
private String to;
private String subject;
private String text;
public SendMail(String from, String to, String subject, String text){
this.from = from;
this.to = to;
this.subject = subject;
this.text = text;
}

public void send()
{
String host = "smtp.gmail.com";
String userid = "*******@gmail.com";
String password = "******";
try
{
Properties props = System.getProperties();
props.put("mail.smtp.starttls.enable", "true");
props.put("mail.smtp.host", host);
props.setProperty("mail.transport.protocol", "smtps");
props.put("mail.smtp.user", userid);
props.put("mail.smtp.password", password);
props.put("mail.smtp.port", "465");
props.put("mail.smtps.auth", "true");
Session session = Session.getDefaultInstance(props, null);
MimeMessage message = new MimeMessage(session);
InternetAddress fromAddress = null;
InternetAddress toAddress = null;

try {
fromAddress = new InternetAddress(from);
toAddress = new InternetAddress(to);
} catch (AddressException e) {

e.printStackTrace();
}
message.setFrom(fromAddress);
message.setRecipient(RecipientType.TO, toAddress);
message.setSubject(subject);
message.setText(text);

//SMTPSSLTransport transport =(SMTPSSLTransport)session.getTransport("smtps");

Transport transport = session.getTransport("smtps");
transport.connect(host, userid, password);
transport.sendMessage(message, message.getAllRecipients());
transport.close();
} catch (MessagingException e) {
e.printStackTrace();
}
}
} 
```

我在这里注册了新用户

```
<jsp:useBean id="mal" class="beanmail.SendMailExample"></jsp:useBean>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    <%@page import="java.sql.*" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>
<%
String mail = request.getParameter("mail");
double dd = Math.random();
int val = (int)(dd*100000);
String pass = String.valueOf(val);
try
{
    Class.forName("com.mysql.jdbc.Driver");
    Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/java","root","root");
    PreparedStatement ps = con.prepareStatement("insert into login values(?,?)");
    ps.setString(1, mail);
    ps.setString(2, pass);
    ps.executeUpdate();
    if(mal.sendMail(mail,pass))
    {
        out.println("Password is Send to your mail id");
    }

}
catch(Exception e){}

%>

</body> 
```

我使用此代码进行身份验证。

```
<%@page import="java.sql.ResultSet"%>
<%@page import="java.sql.PreparedStatement"%>
<%@page import="java.sql.DriverManager"%>
<%@page import="java.sql.Driver"%>
<%@page import="java.sql.Connection"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>
<%
String mail = request.getParameter("mail");
String pass = request.getParameter("pass");
try
{
    Class.forName("com.mysql.jdbc.Driver");
    Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/Login","root","root");
    PreparedStatement ps = con.prepareStatement("select * from login");
    ResultSet rs = ps.executeQuery();
    while(rs.next())
    {
        if(mail.equals(rs.getString(1))&&pass.equals(rs.getString(2)))
        {
            response.sendRedirect("welcome.jsp");
        }
    }
    out.print("Wrong User name nd Password");
}
catch(Exception e){}
%>
</body> 
```

数据库未更新，邮件无法发送。我在哪里做 Worng。我的[数据库](http://paste.ubuntu.com/1688334/)的图像。在 Ubuntu 12.04 上使用 My SQL server 5.5。我注意到右下角的一些东西说只读。

![MySQL数据库](../Images/61848818cd1f4d40e7d005fa6b58fa87.png)

# html - 里面 IE中显示不正确

> ID：14974884
> 
> 赞同：4
> 
> 时间：2013-02-20T07:58:51.040
> 
> 标签：html, css, internet-explorer, doctype

这是一个代码：

```
<!DOCTYPE html>
<html>
<head>
<style>
    li div {
      border: 1px solid #FF0000; 
      width: 100px; 
      position:relative; 
      white-space: nowrap; 
      overflow: hidden;
    }
</style>
</head>
<body>
    <ol>
        <li>
            <div>111111111111111111111</div>
        </li>
        <li>
            <div>222222222222222222222</div>
        </li>
    </ol>
</body>
</html> 
```

该页面在 IE8 中显示不符合预期。

火狐：（好的）

![http://i45.tinypic.com/t6fexy.jpg](../Images/f053e5c83cd8a0499e8ce72658a50dc5.png)

IE8：（错误）

![http://i47.tinypic.com/2naslqp.jpg](../Images/800c02c5672806ede2248295ec6ea936.png)

有人可以解释为什么吗？

如果删除`<!DOCTYPE html>`一切都会好的，但我想找到原因并通过 CSS 修复它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-11T17:30:09.710

您还可以设置 div 的样式以显示为内联元素：

```
li div { 
  display:inline;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:13:36.647

您可以添加**相对于“li”**标签的位置并更改相对于“div”标签的**绝对位置并添加“****顶部：0; 左：0；**' 到 div tag.this 会正常工作。

试试这个CSS：

```
li {
  position:relative;
}
li div {
  border: 1px solid #FF0000; 
  width: 100px; 
  white-space: nowrap;
  overflow:hidden;
  position:absolute;
  top:0;
  left:0
} 
```

# php - 获取实际字段名称和值：简化版

> ID：14974890
> 
> 赞同：0
> 
> 时间：2013-02-20T07:59:28.813
> 
> 标签：php, mysql, mysqli

假设我有 3 个表：Standard_Code 和 Report and Transactions。

> **Standard_Code**表字段名称：**代码**
> 
>      值为：Opening_Balance、Ending_Balance、Actual_Remaining_Balance
> 
> **报告**表字段名称：Opening_Balance、Ending_Balance、Actual_Remaining_Balance

你可能会想我为什么要做这种重复？好吧，从技术上讲，它们是不同的，因为“Standard_Code”表具有行值，但在我的“报告”中它们是列，它们是固定的，无法更改。

> $sql = "Select t.code, t.amount From Transactions t Inner Join Standard_Code sc on t.code = sc.code";
> 
> $result = mysql_query($sql);
> 
> 而($row = mysql_fetch_assoc($result)) {
> 
> ```
>  foreach ($row as $col => $val) {
>         echo $col." = ".$val."<br />";        
> } 
> ```
> 
> sqlQuery = "更新报告集'" . **字段名**。"' = " 。**价值**；
> 
> ```
> } 
> ```

假设，在 while 或 foreach 循环期间如何执行此查询以更新 Report 表：

**fieldname**：`Code`来自 Standard_Code 表*的值（这里的值是 Report 表的实际字段名称）*

**价值**：来自交易表：`Amount`

我不知道如何根据我的要求工作。

**我的理由：**我有特殊的要求来处理报告，特别是在值放置/格式等方面。简而言之，报告很复杂，这就是我创建自定义报告表的原因，这样我就可以轻松地将报告数据格式化。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:13:13.973

```
$sql = "Select t.code, t.amount From Transactions t Inner Join Standard_Code sc on t.code = sc.code";

$result = mysql_query($sql);
$q = array();

while($row = mysql_fetch_assoc($result)) {
  $q[] = $row['code'].' = '.$row['amount'];    
}
// UPDATE report SET Opening_Balance = 2, Ending_Balance = 2, Actual_Remaining_Balance = 2
mysql_query('UPDATE Report SET '.join(', ', $q)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T11:20:17.993

`code`好吧，我了解您的情况，因为您想在循环交易时更新每种类型的总和。这是我的代码（我们不应该再使用`mysql_`api，我使用[PDO](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)代替）

```
$db = new PDO('mysql:host=localhost;dbname=testdb;charset=UTF-8', 'username', 'password');

$stmt = $db->prepare("Select t.code, t.amount From Transactions t Inner Join Standard_Code sc on t.code = sc.code");
if ($stmt->exectute())
{
    $rows = $stmt->fetchAll();
    foreach($rows as $row)
    {
        $stmt = "Update Report Set `" . $row['code'] . "` = `" . $row['code'] . "` + :val";   
        $stmt->bindValue(":val", $row['amount']);
        $stmt->execute();
    }
} 
```

在这种情况下，您的`report`表格将只有**一行**。您还可以修改此代码以**插入**新行而不是**更新**旧记录。但是，如果使用这种方法，您需要一个额外的主键列。

# c# - 附加到上下文并保持实体对象状态

> ID：14974896
> 
> 赞同：0
> 
> 时间：2013-02-20T07:59:49.337
> 
> 标签：c#, entity-framework, self-tracking-entities

我正在使用自我跟踪实体。当我将实体附加到上下文时，与其相关的所有实体和实体本身都会在上下文对象状态管理器中以添加状态添加。与实体本身一样，它们具有不同的状态，例如未更改。

如何在保持正确状态的同时将实体附加到上下文？（实体中的对象状态）

我试过检测变化，但它什么也没做。我希望检测更改会将上下文的对象状态与实体的对象状态同步。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:13:19.257

如果您使用的是自我跟踪实体，则不应使用`Attach`,`AddObject`或`DetectChanges`直接使用。您应该改用`ApplyChanges`在`ObjectSet`. 此方法将在内部将实体附加到上下文并根据存储在自跟踪实体中的状态设置当前状态。

# javascript - 使用 Javascript/JQuery 为移动网络（Android、iOS、Windows Phone）突出显示/选择元素上的文本

> ID：14974899
> 
> 赞同：10
> 
> 时间：2013-02-20T07:59:53.940
> 
> 标签：javascript, jquery, selection, mobile-website, textselection

我试图通过允许用户单击/触摸一个元素来加快所有移动网络浏览器（Android、iOS 和 Windows Phone）中“复制和粘贴”文本的过程，它会自动“选择/突出显示”该元素内的文本。

## ✔ 我想要发生的事情：

1.  单击输入元素和“全选”文本。
2.  按住突出显示的文本，允许出现“复制或剪切”*本机*选项。

**尝试1：http:** [//jsfiddle.net/w3R6u/2/](http://jsfiddle.net/w3R6u/2/)

```
HTML
<input type="text" value="This text will be selected when you click in this input" />

JQUERY
$("input").click(function () {
  window.document.execCommand('SelectAll', true);
}); 
```

..

**尝试2：http:** [//jsfiddle.net/w3R6u/4/](http://jsfiddle.net/w3R6u/4/)

```
HTML
<input type="text" value="This text will be selected when you click in this input" />

JQUERY
$("input").click(function () {
   this.selectionStart=0; 
   this.selectionEnd=this.value.length;
   return false;
 }); 
```

## ✖ 实际发生的事情：

1.  单击输入元素和“全选”文本。**（正确的）**
2.  按住突出显示的文本，然后出现“选择单词”和“全选”*本机*选项。**（不正确）**

上述 2 次尝试会像上帝自然希望他们那样做*（第 1 步）*，是的......但是通过我在 Android 设备上的测试，我发现当“按住”一个元素*（第 2 步）*时，它会提示用户“选择单词”或“全选”.. 完全忽略了文本已经被选中的事实！！正确的做法是显示用户的本机“复制”或“剪切”选项，因为已经选择了文本。

有谁知道为什么会出现这个问题以及如何解决它？

. .

### ▼ 失败的尝试

1.  我的第一次尝试当然是找到“复制和粘贴”javascript 解决方案。尽管 W3.org 正在开发[剪贴板 API 和事件](http://dev.w3.org/2006/webapi/clipops/#x1-introduction)（2013 年 2 月），但这只是一项正在进行的工作。您可以使用 getData 和 setData 方法，它[可以在 IE 中工作](http://help.dottoro.com/ljojhtoc.php)，但这对我没有帮助。

2.  它们是诸如“ [ZeroClipBoard](http://code.google.com/p/zeroclipboard/) ”和“ [zClip](http://www.steamdev.com/zclip/) ”之类的闪存解决方法，但它们也不起作用，因为手机上没有安装闪存。

3.  遵循此 StackOverflow 问题中的指南：[在 iPhone 上的移动 Safari 中选择文本](https://stackoverflow.com/questions/1899421/selecting-text-in-mobile-safari-on-iphone/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-10-18T06:31:38.533

我相信您必须使用范围来进行选择。以下是vanilla javascript，它将与jquery一起使用，但可能需要一些jquery按摩。

```
 function selectAll(e) {
	  var elem = e.target;

	  var start = 0;
	  var end = elem.value.length;

	  if (elem.createTextRange) {
	    var selRange = elem.createTextRange();
	    selRange.collapse(true);
	    selRange.moveStart('character', start);
	    selRange.moveEnd('character', end);
	    selRange.select();
	    elem.focus();
	  } else if (elem.setSelectionRange) {
	    elem.focus();
	    elem.setSelectionRange(start, end);
	  } else if (typeof elem.selectionStart != 'undefined') {
	    elem.selectionStart = start;
	    elem.selectionEnd = end;
	    elem.focus();
	  }
	}

	var elem = document.getElementById("myField");
	elem.onclick = selectAll;
```

```
<input id="myField" value="this is the text in there" />
```

# c++ - 用于 PowerPC 架构的交叉编译 Boost 库

> ID：14974902
> 
> 赞同：0
> 
> 时间：2013-02-20T07:59:54.103
> 
> 标签：c++, linux, boost, powerpc

我正在尝试为 PowerPC 架构交叉编译 Boost 库（线程、系统）。我按照以下步骤操作，但遇到了问题。

我运行一个 shell 脚本来设置我的工具链。编译器 ppc_4xx-g++ 在 shell 中可见。

后续步骤：

1.  添加行“使用 gcc : power : ppc_4xx-g++ ;” 到文件 user-config.jam
2.  在根目录中运行 ./bootstrap.sh --prefix=BoostPowerPC。
3.  运行 ./b2 install --build-dir=BoostPowerPC toolset=gcc-power --with-thread --with-system 阶段

结果：创建了所有目录，但编译失败。我无法附上错误日志（请将您的电子邮件发送给我，以便我可以在需要时将错误日志发送给您）。下面是错误日志的快照。

```
Component configuration:

- atomic                   : not building
- chrono                   : not building
- context                  : not building
- date_time                : not building
- exception                : not building
- filesystem               : not building
- graph                    : not building
- graph_parallel           : not building
- iostreams                : not building
- locale                   : not building
- math                     : not building
- mpi                      : not building
- program_options          : not building
- python                   : not building
- random                   : not building
- regex                    : not building
- serialization            : not building
- signals                  : not building
- system                   : building
- test                     : not building
- thread                   : building
- timer                    : not building
- wave                     : not building

...patience...
...found 20376 targets...
...updating 10110 targets...
common.mkdir BoostPowerPC
common.mkdir BoostPowerPC/lib
common.mkdir BoostPowerPC/boost
common.mkdir BoostPowerPC/boost/bin.v2
common.mkdir BoostPowerPC/boost/bin.v2/libs
common.mkdir BoostPowerPC/boost/bin.v2/libs/system
common.mkdir BoostPowerPC/boost/bin.v2/libs/system/build
common.mkdir BoostPowerPC/boost/bin.v2/libs/system/build/gcc-power
common.mkdir BoostPowerPC/boost/bin.v2/libs/system/build/gcc-power/release
common.mkdir BoostPowerPC/boost/bin.v2/libs/system/build/gcc-power/release/threading-multi
gcc.compile.c++ BoostPowerPC/boost/bin.v2/libs/system/build/gcc-power/release/threading-multi/error_code.o
In file included from ./boost/config/select_stdlib_config.hpp:18,
             from ./boost/config.hpp:40,
             from ./boost/system/config.hpp:13,
             from libs/system/src/error_code.cpp:18:
/opt/ELDK/4.2/ppc_4xx/usr/include/c++/4.2.2/cstddef:50:28: error: bits/c++config.h: No such file or directory
In file included from /opt/ELDK/4.2/ppc_4xx/usr/include/c++/4.2.2/ios:43,
             from /opt/ELDK/4.2/ppc_4xx/usr/include/c++/4.2.2/ostream:45,
             from /opt/ELDK/4.2/ppc_4xx/usr/include/c++/4.2.2/iterator:70,
             from ./boost/iterator.hpp:17,
             from ./boost/operators.hpp:86,
             from ./boost/system/error_code.hpp:17,
             from libs/system/src/error_code.cpp:19:
.
.
. 
```

它抱怨找不到文件 c++config.h。但该文件位于 /opt/ELDK/4.2/usr/include/c++/4.2.2/powerpc-linux/bits 目录中

然后我尝试在 b2 命令中使用标签“include”。但随后我收到一个错误，即找不到文件 cstddef，该文件位于目录 /opt/ELDK/4.2/usr/include/c++/4.2.2 中。我想我已经写完了包含路径。

你认为是什么问题？为什么即使文件存在，我的编译器也找不到该文件？有什么建议么 ？

更新：

我使用了 -d+2 和 -q 选项，结果如下。

```
"ppc_4xx-g++"  -ftemplate-depth-128 -O3 -finline-functions -Wno-inline -Wall -pedantic -pthread -fPIC  -DBOOST_ALL_NO_LIB=1 -DBOOST_SYSTEM_DYN_LINK=1 -DNDEBUG  -I"." -I"/opt/ELDK/4.2/ppc_4xx/usr/include" -c -o "BoostPowerPC/boost/bin.v2/libs/system/build/gcc-power/release/threading-multi/error_code.o" "libs/system/src/error_code.cpp" 
```

编译日志：

```
In file included from ./boost/config/select_stdlib_config.hpp:18,
             from ./boost/config.hpp:40,
             from ./boost/system/config.hpp:13,
             from libs/system/src/error_code.cpp:18:
/opt/ELDK/4.2/ppc_4xx/usr/include/c++/4.2.2/cstddef:50:28: error: bits/c++config.h: No such file or directory 
```

正如我们所见，包含所需文件的较高目录对编译器可见。我什至尝试使用 -L 命令并指定根目录。它仍然没有帮助。

我检查了 ppc_4xx-g++ 的编译选项和我感兴趣的 2 个选项

1.  --sysroot=：这是编译器使用的所有包含和库的根目录。

2.  -B ：使用它我们可以为编译器添加搜索路径。

我都试过了，但没有帮助。有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:53:16.747

首先，这对于 Boost.Build 来说并不是真正的问题。这意味着通过获取最后一个命令（失败），在命令行上手动运行它，然后调整它直到它工作，它会更容易修复它。

如前所述，您应该`-I"/opt/ELDK/4.2/ppc_4xx/usr/include"`从命令行中删除。

通常，编译器应该自动找到自己的头文件。有两种可能的事情会干扰这一点：

1.  您正在从实际安装编译器头文件的不同位置运行 ppc_4xx-g++。使用`which ppc_4xx-g++`做找出。您还可以添加`-v`到编译器调用以检查它正在搜索的目录。
2.  编译器以未知方式不正确地构建。迂腐地说，'ppc_4xx' 甚至不是有效的目标三元组，但我不知道这是否会像你描述的那样破坏编译。

作为最后的手段，你可以试试`--sysroot=/opt/ELDK/4.2/ppc_4xx/usr/bin`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:12:25.840

您的包含路径不正确，并且错误清楚地表明了这一点，因为每个工具链都有自己的路径，请确保您的 STL 等包含路径已更新以指向新位置。它应该可以解决您的问题！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T08:25:39.370

问题是因为编译器中的错误。它无法递归搜索目录以查找包含文件夹。当我手动提供额外的包含路径时，它拒绝了它，说明冗余包含路径（因为它位于相同的目录结构中） - 使用 -v 选项找到了它。然后我创建了一个目录，创建了一个指向包含必要包含文件的目录的软链接，并将这个新目录包含在我的包含路径中（解决方法）。这有效，我可以生成库。

Eg: The include files were present in the directory abc/include/xyz/include which the compiler was not accepting as I had already specified the path abc/include. Hence I created a directory alias and linked it to abc/include/xyz/include. Then I included ./alias as one of the include paths and it worked. This was a known compiler issue which is fixed in later versions, I think in 4.6

PS: The idea was not mine but found a similar post online which helped me.

# python - 开源英语词典 - Python - 库 - API

> ID：14974908
> 
> 赞同：3
> 
> 时间：2013-02-20T08:00:23.713
> 
> 标签：python, api, python-2.7

是否有可以查阅的在线词典/图书馆存储所有英语单词。因此，例如，如果我想要所有以字母“a”开头的单词，或者如果我想要有 9 个字母的英文单词......等等你知道用 python 编写的任何 API 支持吗？

提前致谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:04:44.653

如果您使用 *nix 环境，您可以随时参考

```
/usr/share/dict/
/var/lib/dict/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:21:49.637

虽然它不是开源的，但如果您正在寻找 API，请查看 Wordnik。它有一个用于字典的[API 。](http://developer.wordnik.com/docs)查看他们的[开发者控制台](http://developer.wordnik.com/docs)以实时测试 API 方法。

他们有多种语言的[客户端库，包括](http://developer.wordnik.com/)[Python](https://github.com/wordnik/wordnik-python)。

# java - 将复选框数据传递给另一个活动？

> ID：14974910
> 
> 赞同：0
> 
> 时间：2013-02-20T08:00:34.317
> 
> 标签：java, android, android-activity

问题是从五个复选框中选择一个选项，并在另一个页面中显示所选选项的结果。

我在应用中有 2 个活动。

所有的编码都是在java文件上完成的，没有在xml文件中添加任何代码。

MainActivity.java

```
import java.util.ArrayList;
import java.util.List;
import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.*;
import android.view.View.*;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.LinearLayout;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        //Q3
                LinearLayout ll3 = new LinearLayout(this);
                ll3.setOrientation(LinearLayout.VERTICAL);

                final List <CheckBox> cbs = new ArrayList<CheckBox>();

                for(int i = 0; i < 5; i++){
                    CheckBox cb = new CheckBox(this);
                    cb.setText("Apple" + (i + 1));
                    ll3.addView(cbs.get(i));
                }

                Button button3 = new Button(this);
                button3.setText("Select");

                button3.setOnClickListener(new OnClickListener(){

                    public void onClick(View v) {
                        StringBuffer str = new StringBuffer();

                        for(int i = 0; i < cbs.size(); i++){
                            if(cbs.get(i).isChecked()){
                                str.append(cbs.get(i).getText().toString() + "; ");
                            }
                        }

                        Intent i = new Intent(MainActivity.this,MainActivity2.class);
                        i.putExtra("checked", str.toString());
                        startActivity(i);
                    }
                });

                ll3.addView(button3);
                setContentView(ll3);
    }

} 
```

而对于另一个活动文件名 MainActivity2.java

```
import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
import android.widget.LinearLayout;
import android.widget.TextView;

public class MainActivity2 extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main_activity2);

        //Q3
                TextView tv = new TextView(this);
                tv.setText("You have selected:");
                TextView tv1 = new TextView(this);
                tv1.setText(this.getIntent().getStringExtra("checked"));

                LinearLayout ll3 = new LinearLayout(this);
                ll3.setOrientation(LinearLayout.VERTICAL);
                ll3.addView(tv);
                ll3.addView(tv1);
                setContentView(ll3);
    }

} 
```

当我运行应用程序时，它显示无法运行的错误消息状态。任何问题？

日志文件

```
02-20 08:09:07.274: D/AndroidRuntime(376): Shutting down VM
02-20 08:09:07.274: W/dalvikvm(376): threadid=1: thread exiting with uncaught exception (group=0x40015560)
02-20 08:09:07.303: E/AndroidRuntime(376): FATAL EXCEPTION: main
02-20 08:09:07.303: E/AndroidRuntime(376): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.practical033/com.practical033.MainActivity}: java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.os.Looper.loop(Looper.java:123)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-20 08:09:07.303: E/AndroidRuntime(376):  at java.lang.reflect.Method.invokeNative(Native Method)
02-20 08:09:07.303: E/AndroidRuntime(376):  at java.lang.reflect.Method.invoke(Method.java:507)
02-20 08:09:07.303: E/AndroidRuntime(376):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-20 08:09:07.303: E/AndroidRuntime(376):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-20 08:09:07.303: E/AndroidRuntime(376):  at dalvik.system.NativeStart.main(Native Method)
02-20 08:09:07.303: E/AndroidRuntime(376): Caused by: java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
02-20 08:09:07.303: E/AndroidRuntime(376):  at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)
02-20 08:09:07.303: E/AndroidRuntime(376):  at java.util.ArrayList.get(ArrayList.java:311)
02-20 08:09:07.303: E/AndroidRuntime(376):  at com.practical033.MainActivity.onCreate(MainActivity.java:32)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
02-20 08:09:07.303: E/AndroidRuntime(376):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
02-20 08:09:07.303: E/AndroidRuntime(376):  ... 11 more
02-20 08:09:09.733: I/Process(376): Sending signal. PID: 376 SIG: 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:14:20.153

您可以使用两种方法 - 使用静态变量并将复选框值赋予该变量并将其访问到另一个活动 - 使用意图从第一个活动传递数据传递值并在其他示例中接收额外的活动 1st

```
 Intent i = new Intent(FirstScreen.this, SecondScreen.class);   
String keyIdentifer  = null;
i.putExtra("STRING_I_NEED", strName); 
```

活动二

```
 String newString;
if (savedInstanceState == null) {
    extras = getIntent().getExtras();
    if(extras == null) {
        newString= null;
    } else {
        newString= extras.getString("STRING_I_NEED");
    }
} else {
    newString= (String) savedInstanceState.getSerializable("STRING_I_NEED");
} 
```

使用任何一种方式由你决定

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T09:02:01.070

您尚未将复选框添加到 cbs 列表中，并且您正在尝试从中访问复选框...

尝试通过 `cbs.add(cb);`在 for 循环中使用将复选框添加到列表...

试试这个

```
final List <CheckBox> cbs = new ArrayList<CheckBox>();

            for(int i = 0; i < 5; i++){
                CheckBox cb = new CheckBox(this);
                cb.setText("Apple" + (i + 1));
                cbs.add(cb);
                ll3.addView(cbs.get(i));
            } 
```

# jquery - 如何使用 Backbone.js 从表单中获取新的输入文本

> ID：14974912
> 
> 赞同：2
> 
> 时间：2013-02-20T08:00:42.227
> 
> 标签：jquery, html, backbone.js, backbone-views

我是网络初学者。我的看法如下：

```
window.CreateAndEditContactView = Backbone.View.extend({
initialize: function() {
    this.init(); // loads template
},
init: function() {
    var popupWindow = $('body').append(".content"); // I used .content instead of template 
    var saveButton = popupWindow.find('#save_new_contact');
    saveButton.click(function(){

        var emailContact = popupWindow.find('#contact_email').val();
        var nameContact = popupWindow.find('#contact_name').val();
        console.log(emailContact + " : " + nameContact);
    }
}
}); 
```

我的 html 看起来像这样：

```
<div class="content">
    <div class="write_name">
        <span class="name">Name</span>
        <input id="contact_name" type="text"/>
        <img class="avatar" src="/images/avatar2.jpg">
    </div>
    <div class="write_email">
        <span class="name">e-mail</span>
        <input id="contact_email" type="text"/>
    </div>      
        <input type="submit" id="save_new_contact" value="Save"/>
</div> 
```

控制台始终写入相同的值。我无法从中获得我的新价值`<input id="contact_name" type="text"/>`。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:31:03.453

您记录的值基于`popupWindow`jquery 对象。我建议您直接访问输入值并查看其是否有效。这仅用于检查。确保`popupWindow`持有正确的 div 元素。

# javascript - textarea 的 selectionStart 返回错误值

> ID：14974913
> 
> 赞同：2
> 
> 时间：2013-02-20T08:00:47.663
> 
> 标签：javascript, jquery

我有一个带有 onfocus 事件的文本区域。我想找出用户单击光标时光标所在的行号。

这是我在 onfocus 事件中的内容：

```
function onFocusFunction(){
    var lineNr = $('#textAreaId').val().substr(0, $('#textAreaId')[0].selectionStart).split("\n").length;
} 
```

这是问题所在：

我的文本区域是空的，它有四行，所以它包含：\n\n\n\n

第一次调用 onFocusFunction 时，$('#textAreaId')[0].selectionStart 返回 1，无论单击哪一行。之后效果很好。是什么原因造成的，是否有解决方法？

# javascript - 将带有谷歌地图的 div 转换为链接 - w3c 验证

> ID：14974914
> 
> 赞同：-1
> 
> 时间：2013-02-20T08:00:52.450
> 
> 标签：javascript, google-maps-api-3, w3c-validation

我在页面上有一个小的谷歌地图。目前，我在 div 周围有一个链接标签，以使其链接到具有更大谷歌地图的不同页面。

这一切都完美无缺，但它不是 w3c 验证。

我之前的代码有效，但无效：

```
 <a href="http://www.mysite.com">
        <div id="map_canvas" style="width:298px;height:150px;"></div>
    </a> 
```

这是之后，这是有效的，但不起作用！：

```
<div onClick="location.http://www.mysite.com';" style="cursor:pointer;">
    <div id="map_canvas" style="width:298px;height:150px;"></div>
</div> 
```

问题是在第二个版本上，当我点击时，什么也没有发生。如果我双击，它会放大地图。无论您做什么，我都希望它成为一个链接。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:05:16.073

```
 <a href="http://www.mysite.com">
        <div id="map_canvas" style="width:298px;height:150px;"></div>
    </a> 
```

现在它有效。:) 你错过了一个“

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:14:54.067

您应该指定用于验证的 DOCTYPE。

我猜你验证了一个不允许 block-elements(div) 在 inline-elements(a) 中的 DOCTYPE。

解决方案：使用内联元素（例如跨度）而不是 div 并将其设置`display`为`block`：

```
<a href="http://www.mysite.com">
  <span id="map_canvas" style="display:block;width:298px;height:150px;"></span>
</a> 
```

*   [**小提琴**](http://jsfiddle.net/doktormolle/8k9ZJ/)
*   [**验证（XHTML 1.0 Strict）**](http://validator.w3.org/check?uri=http%3A%2F%2Ffiddle.jshell.net%2Fdoktormolle%2F8k9ZJ%2Fshow%2F&charset=%28detect+automatically%29&doctype=Inline&group=0&user-agent=W3C_Validator%2F1.3)

# django - 嵌套 Tastepie UserProfileResource 和 UserResource，列 \"user_id\" 中的空值违反非空约束

> ID：14974916
> 
> 赞同：1
> 
> 时间：2013-02-20T08:00:55.540
> 
> 标签：django, user-profile, tastypie

这是我的设置：

```
class UserProfile(models.Model):
    user = models.OneToOneField(User, unique=True, related_name="profile")

class UserProfileResource(ModelResource):
    class Meta:
        queryset = UserProfile.objects.all()
        resource_name = 'profile'
        authorization = Authorization()

class UserResource(ModelResource):
    profile = fields.ToOneField(UserProfileResource, attribute='userprofile', related_name='user', full=True, null=True)
    class Meta:
       queryset = User.objects.all()
       resource_name = 'user'
       authorization = Authorization()
       list_allowed_methods = ['get', 'post'] 
```

我正在尝试发布到用户资源：

```
curl --dump-header - -H "Content-Type: application/json" -X POST --data '{"username":"tata","password":"poooo","profile":{"home_zipcode": "95124"}}' http://192.168.1.103:8000/api/v1/user/ 
```

但是得到以下错误：

```
"error_message": "null value in column \"user_id\" violates not-null constraint\ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T10:36:48.707

在 POST 请求中，tastepie 尝试从请求的数据创建新对象，但在配置文件对象的请求数据中，您没有为用户传递参数。UserProfile 模型不允许用户为 null 并且服务器引发异常。

我会给你一些解决方案，因为我不知道你的模型到底是做什么的。

1.  `class UserProfile(models.Model): user = models.OneToOneField(User, unique=True, null=True, related_name="profile")`

2.  首先创建模型用户，然后创建带有两个帖子的 UserProfile 模型。

3.  实施自定义方法以在一篇文章中创建用户和用户个人资料。

# php - Twitter 如何实时更新其博客文章？

> ID：14974917
> 
> 赞同：2
> 
> 时间：2013-02-20T08:01:03.753
> 
> 标签：php, javascript, jquery, blogs, comet

我们正在从头开始为我们的公司创建一个博客，我们使用 PHP 和 jQuery 中的 comet 使新的博客文章能够更新成为可能。

但后来我们意识到，如果用户编辑或删除了他们自己的博客文章，那篇文章位于页面的中间，该怎么办？我们将如何更新它？

**更新：**哎呀，我刚刚意识到，如果博客文章已被删除，Twitter 不会立即删除它。但是，如果有这样的功能，那就太好了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T10:10:03.857

由于您使用的是[Comet](http://en.wikipedia.org/wiki/Comet_%28programming%29)解决方案，因此您可能遵循某种[发布-订阅模式](http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern)。

从那里你有几种方法来实现你正在寻找的东西。一种解决方案是为页面上可见的每篇博客文章订阅。然后，您的博客后端可以监控是否对博客文章进行了任何更改，以及它们是否将信息发布给任何订阅的听众。听众将收到发布的信息，并可以相应地更新或删除博客文章。

我不确定您使用的是什么 Comet 解决方案，所以如果使用[Pusher](http://pusher.com)完成，我可能会这样做（希望您可以将这些想法转换为您自己的解决方案）：

### HTML

在标识要订阅的频道的每个博客文章条目的 HTML 标记上都有一个唯一标识符。

```
<article data-entry-id="blog-post-1">
   Some blog post content
</article>
<!-- more blog posts --> 
```

### JavaScript

由于您使用的是 jQuery，因此您可以在页面上找到所有博客文章：

```
var blogPosts = jQuery( 'article[data-entry-id]' ); 
```

您连接到服务器，在本例中为 Pusher：

```
var pusher = new Pusher( 'app_key' ); 
```

然后为每个博客条目订阅一个频道：

```
var channels = {}; // lookup if required later
var channel;
blogPosts.each( function( i, el ) {
  el = jQuery( el );
  var blogId = el.attr( 'data-entry-id' );
  channel = pusher.subscribe( blogId );
  channel.bind( 'blog_entry_updated', handleUpdate );
  channel.bind( 'blog_entry_deleted', handleDelete );
  channels[ blogId ] = channel;
} ); 
```

现在已经为每个博客文章订阅了一个频道，您需要编写代码来处理这些频道上发生的事件（数据更新）：

*   `handleUpdate`更新博客文章时调用
*   `handleDelete`删除博客文章时调用

我们假设您发送的数据`blog_entry_updated`将采用以下格式：

```
{
  blogEntryId: 'an_id', // an ID that matches the data-entry-id attribute value
  html: '<!-- some HTML -->` // the HTML for the updated blog post
} 
```

该`handleUpdate`函数可以执行以下操作：

```
function handleUpdate( data ) {
  var blogId = data.blogEntryId;
  var el = jQuery( 'article[data-entry-id=' + blogId + ']' );
  el.html( data.html );
} 
```

您可能还想添加某种效果来指示博客文章已更新。

*注意：如果可以避免的话，我不建议发送非常大的 HTML 块。如果您可以通过 delta 发送（表明博客文章中已更改的部分），那可能会更好。*

`handleDelete`会做类似的事情：

```
function handleDelete( data ) {
  var blogId = data.blogEntryId;
  var el = jQuery( 'article[data-entry-id=' + blogId + ']' );
  el.slideUp( function() {
    el.remove(); // slide out of view then remove the element
  } );
} 
```

### PHP

在服务器上，您只需要发布更改。

如果它是一个更新，那么（使用[Pusher PHP 库](https://github.com/pusher/pusher-php-server)）你会做类似的事情：

```
require( '../lib/Pusher.php' );
require( 'config.php' ); // general config. In this case it includes the Pusher config

// some code that handles the update, updates the DB etc.
// The result of which means we have a $blogEntryId value
// and $html for the updated content

// this data structure is converted to JSON to be consumed on the client
$data = array( 'blogEntryId' => $blogEntryId, 'html' => $html );

$pusher = new Pusher( APP_KEY, APP_SECRET, APP_ID );

// trigger the event on the appropriate channel, using the update event
$pusher->trigger( $blogEntryId, 'blog_entry_updated', $data ); 
```

这将导致`$data`交付给客户端并`handleUpdate`调用函数。

删除的功能非常相似，只是我们没有要发送的 HTML：

```
$data = array( 'blogEntryId' => $blogEntryId );

$pusher = new Pusher( APP_KEY, APP_SECRET, APP_ID );

$pusher->trigger( $blogEntryId, 'blog_entry_deleted', $data ); 
```

正如我上面提到的，希望您可以将与此解决方案类似的东西应用到您自己的 Comet 实现中。

# php - Fancybox 触发

> ID：14974946
> 
> 赞同：0
> 
> 时间：2013-02-20T08:02:41.847
> 
> 标签：php, jquery, fancybox, eventtrigger

当您显示 6 张图片（都属于 1 张专辑）时，您会触发其中一张图片。它应该使用所选图像而不是相册的第一张图像打开画廊。我怎样才能做到这一点？

代码示例：

```
$("a[rel=modellen]").click(function () {
    $.fancybox.open([ <? php
    $i = 0;
    foreach($product_fotos as $null = > $object) {
        $i++;
        echo '{';
        echo "href : 'http://wubububu/uploads/products/".$object - > productId.
        "/".$object - > id.
        ".".$object - > extensie.
        "'";
        if (count($product_fotos) != $i) echo '},';
        else echo '}';
    } ?> ]);
    return false;
}); 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-20T08:20:39.227

试试下面

```
 <script type="text/javascript">
   $("a[rel=modellen]").click(function() {

<?php
        $i = 0;
        foreach ($product_fotos as $null => $object)
        {   
 ?>
            <script type="text/javascript">

                $.fancybox({
                        'width'             : 500,
                        'height'            : 150,
                        'autoScale'         : true,
                        'transitionIn'      : 'none',
                        'transitionOut'     : 'none',
                        'href'              : 'http://wubububu/uploads/products/<?php echo $object->productId;?>/<?php echo $object->id.".".$object->extensie;?>'

                    });

            </script>
 <?php
        }
        ?>
   });
            </script> 
```

希望它会帮助你。

# search - Solr 相关的 Boosting

> ID：14974960
> 
> 赞同：1
> 
> 时间：2013-02-20T08:03:50.857
> 
> 标签：search, solr, lucene, search-engine, solaris

我有各种领域，如名称、位置、地标。如果我搜索任何关键字并且它在名称字段中的命中率远高于位置，那么我想在该位置上提升名称。同样，如果它更多地击中位置，那么我想更多地提升位置。您能否提供任何解决方案或解决方案。

# wildcard - 字符串 *.java 的正则表达式

> ID：14974964
> 
> 赞同：0
> 
> 时间：2013-02-20T08:04:14.140
> 
> 标签：wildcard

我正在编写一个程序来查找日志文件中 java 类的出现次数。

我想计算调用 java 类的不同次数。搜索的格式应为“*.java”

任何人都可以帮助我使用正则表达式吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:12:31.867

一个足够的正则表达式可能看起来像`[a-zA-Z_][a-zA-Z_0-9]*\\.java`. 此正则表达式要求字符串以字母（或下划线）开头，并延续任意数量的字母或数字（或下划线），这遵循 Java 类名约定。句点被 \\ 双重转义 - 一个转义是 Java 将转义字符串中的 \，第二个转义是正则表达式匹配器将转义句点（否则句点是一个特殊字符，意思是“任何字符”） .

这个正则表达式比你精确地要求的更适合任务：（`.*\\.java`这是.java前面的任何东西），因为这将匹配“.java”之前的整个行，给你留下'类名'比如“从 MyClass.java 打印文件”，而不仅仅是“MyClass.java”。

[我会在Rubular](http://rubular.com/r/xYa4rkfbxZ)这样的在线工具上尝试这个表达式（并尝试对其进行更改）。

# zimbra - 在 Zimbra 管理控制台中打开命令行界面 (CLI)

> ID：14974968
> 
> 赞同：0
> 
> 时间：2013-02-20T08:04:30.317
> 
> 标签：zimbra

我被分配在 ZCS 中执行一些任务，但是没有关于在 Zimbra 管理控制台中输入命令的位置的说明！我应该使用 PuTTy 吗？？？如果是，我应该输入主机名的地址是什么？

我将不胜感激在这方面的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T22:41:21.180

如果您使用的是 Windows，那么 Putty 可能是一个选项，只需输入您的 zimbra 服务器的主机名即可。例如，如果您的 zimbra 服务器托管在 mail.example.net 上，您应该使用它作为主机名。更可取的是，您应该使用其 IP 地址。

# jquery - 单击按钮更改多个文件上传 jquery 中的最大长度

> ID：14974972
> 
> 赞同：0
> 
> 时间：2013-02-20T08:04:46.220
> 
> 标签：jquery, asp.net, file-upload

我想[从这里](http://www.fyneworks.com/jquery/multiple-file-upload/)更改 Jquery 的多文件上传插件中允许上传的最大文件数。我想更改按钮/锚标签点击。与我们在 jquery ui 选项或类似内容中设置选项的方式相同。这是文件上传控件和更改最大限制的按钮。

```
 <input type="file" class="multi max-2" id="fileuploadcntrl" />
<input type="button" onclick="changefunc();" /> 
```

这个函数我用来改变类名和限制文件

```
<script type="text/javascript">
        function changefunc() {
            var classname = $('#fileuploadcntrl').attr('class');

            $("#fileuploadcntrl").attr('class', 'multi max-1 MultiFile-applied');

        }
    </script> 
```

我已经使用了这段代码，并且能够在按钮上更改类名，单击它会正确显示修改后的类名，但实际限制仍然保持在相同的 ie2 上，同时尝试上传新文件，它不会像应有的那样禁用。

在 js 文件中尝试了一些调整，但没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:12:38.487

建议您使用`addClass`and `removeClass`比`attr`选择器获得更好的性能

```
 function changefunc() {
        var classname = $('#fileuploadcntrl').attr('class'); // i don't know why are u doing this since you are not using this in you script...
        var $fileuploadcntrl=$("#fileuploadcntrl");
        $fileuploadcntrl.removeClass(); // removes all classes
        $fileuploadcntrl.addClass('multi max-1 MultiFile-applied');//add classes

    } 
```

# spring - Map异常的Spring属性设置器

> ID：14974975
> 
> 赞同：1
> 
> 时间：2013-02-20T08:05:06.907
> 
> 标签：spring, dependency-injection

我正在使用 spring 3.0 并尝试为`Map<String ,String>`

以下是配置和设置方法： Spring 配置如下：

```
<bean name="geocoder" class="com.g1.component.igeocode.RemoteGeocoder" >
         <property name="geocoderConverters">
            <map>
                <entry key="Default" value="com.g1.component.igeocode.mapmarker.DefaultGeocoderConverter"/>
                <entry key="4.8.1.51" value="com.g1.component.igeocode.mapmarker.GeocoderConverter_v4_8_1_51"/>
            </map>
        </property>
</bean> 
```

远程地理编码器.java

```
private Map<String, String> geocoderConverters;

    public Map<String, String> getGeocoderConverters() {
        return geocoderConverters;
    }

    public void setGeocoderConverters(Map<String, String> geocoderConverters) {
        this.geocoderConverters = geocoderConverters;
    } 
```

但是我在运行时遇到以下错误：

```
Error creating bean with name 'geocoder' defined in URL [file:/E:/Spectrum code/Spectrum 7/cdqplatform/platform/server/dist/target/g1server/server/app/tmp/igeocode-global-7.0.car-1643772799809108204-contents/resourcestage-config.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:
    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'geocoderConverters' threw exception; nested exception is java.lang.IllegalStateException: No Method invoker set on com.g1.component.igeocode.RemoteGeocoder@12a6f35 
```

有人可以对此发表见解吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T20:58:53.630

尝试将键和值类型指定为`String`：

```
<property name="geocoderConverters">
    <map key-type="java.lang.String" value-type="java.lang.String" map-class="java.util.HashMap">
        <entry key="Default" value="com.g1.component.igeocode.mapmarker.DefaultGeocoderConverter"/>
        <entry key="4.8.1.51" value="com.g1.component.igeocode.mapmarker.GeocoderConverter_v4_8_1_51"/>
    </map>
</property> 
```

# javascript - 正则表达式与字符集中的 $ 不匹配

> ID：14974982
> 
> 赞同：2
> 
> 时间：2013-02-20T08:05:39.347
> 
> 标签：javascript, regex, node.js

我目前正在与一个奇怪的 javascript 正则表达式问题作斗争。我正在尝试匹配`/`输入之间或结尾的所有字符。例如这个字符串

```
admin/item/get 
```

应匹配为：

```
[ 'admin', 'item', 'get' ] 
```

我真的不在乎是否`/`是比赛的一部分，所以这个结果也对我有用：

```
[ 'admin/', 'item/', 'get' ] 
```

为了匹配`s`我使用正则表达式的输入字符串

```
s.match(/.+?[\/$]/g) 
```

这导致

```
[ 'admin/', 'item/' ] 
```

据我了解，输入的结尾`$`在此字符集中不匹配。

当我尝试使用正则表达式仅匹配输入的结尾时，`s.match(/.+?$/g)`我得到了预期的结果`[ 'admin/item/get' ]`。但是将 放在匹配调用返回`$`的字符集中。`s.match(/.+?$/g)``null`

任何帮助表示赞赏...

顺便说一句：我正在使用 node.js 0.8.20

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T08:08:37.240

因为`$`放在字符集中时被视为字符。不过应该这样做，它在非记忆捕获组内使用了一个交替，从而恢复了`$`作为主题结尾的含义：

```
s.match(/.+?(?:\/|$)/g)

["admin/", "bla/", "bla"] 
```

如评论中所述：

```
s.split('/')

["admin", "bla", "bla"] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:08:43.323

`$`字符类`[]`内没有特殊含义，被视为文字字符

它应该是

```
.*?(?=\/|$) 
```

* * *

您可以改为这样做..您不必检查`/`或`$`

```
[^/]* 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:43:36.813

您可以使用字符串对象的正则表达式或拆分方法获得结果。

```
var s = "admin/item/get"; 
```

**使用字符串对象的拆分方法。**

按 分割字符串`"/"`。

```
s.split("/");

["admin", "item", "get"] 
```

**使用正则表达式模式。**

用正则表达式匹配字符串`/[^\/]+/g`，它匹配除字符外所有出现一次或多次的`"/"`字符。

```
s.match(/[^\/]+/g)

["admin", "item", "get"] 
```

# c# - 后台任务未启动

> ID：14974983
> 
> 赞同：3
> 
> 时间：2013-02-20T08:05:43.280
> 
> 标签：c#, windows-runtime

我试图弄清楚为什么后台任务无法启动，但我不知道我做错了什么。

我想做什么：我想要一个自动化的后台任务，它将通过 WebApi 下载 5 个最新项目（数据是几 kB）。下载后会检查本地文件，看是否有新项目可用。如果是这样，我想在 LiveTile 上创建一个带有新项目数量的徽章。

我有以下代码：

```
private BackgroundTaskRegistration ScheduleBackgroundTask()
{
    foreach (var cur in BackgroundTaskRegistration.AllTasks)
    {
        if (cur.Value.Name == "TimeTriggeredTask")
        {
            return (BackgroundTaskRegistration)(cur.Value);
        }
    }

    var builder = new BackgroundTaskBuilder();

    builder.Name = "TimeTriggeredTask";
    builder.TaskEntryPoint = "Tasks.UpdateItemTask";
    builder.SetTrigger(new MaintenanceTrigger(15, false));
    builder.AddCondition(new SystemCondition(SystemConditionType.InternetAvailable));
    builder.AddCondition(new SystemCondition(SystemConditionType.UserNotPresent));

    BackgroundTaskRegistration task = builder.Register();
    return task;
} 
```

我的工作是这样的：

```
namespace Tasks
{
    public sealed class UpdateItemTask : IBackgroundTask
    {
        public async void Run(IBackgroundTaskInstance taskInstance)
        {
            Debug.WriteLine("Starting");

            BackgroundTaskDeferral _deferral = taskInstance.GetDeferral();

            DataHandler dataHandler = new DataHandler();
            BindableCollection<GeekAndPokeItemViewModel> latestItemsOnline = await dataHandler.GetData("10");
            BindableCollection<GeekAndPokeItemViewModel> latestItemsLocal = await dataHandler.GetLocalData();

            int difference = latestItemsOnline.Except(latestItemsLocal).Count();

            if (difference > 0)
            {
                BadgeUpdateManager.CreateBadgeUpdaterForApplication().Clear();
                BadgeNumericNotificationContent badgeContent = new BadgeNumericNotificationContent((uint)difference);

                // send the notification to the app's application tile
                BadgeUpdateManager.CreateBadgeUpdaterForApplication().Update(badgeContent.CreateNotification());
            }

            _deferral.Complete();
        }
    }
} 
```

在我的 appmanifest 中，backgroundTask 使用任务“计时器”和正确的入口点进行了扩展。

所有代码都在 1 个项目中。

即使附加了调试器（在不启动应用程序的情况下调试程序，并强制触发任务），它也不会命中我的任务（或断点），并且在事件查看器中它会给出以下结果：

> 具有入口点 Tasks.UpdateItemTask 和名称 TimeTriggeredTask 的后台任务无法激活，错误代码为 0x80010008。

我一直在检查[MS 背景任务的样本](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh977059.aspx)，但即使是那些也没有帮助。我建议这并不难，但我无法让它发挥作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T10:20:45.907

我终于让它工作了！

首先：我已将任务作为 Windows RT 组件类型移动到一个新程序集中，并在我的 WinRT 应用程序中添加了一个引用。

第二：我在 1 个 cs 文件中有 BackgroundTaskRegistration 和 UpdateItemTask，只有任务是密封的。我需要将 BackgroundTaskRegistration 也设置为密封，以便编译。一旦我强行触发触发器，它最终会到达断点......

# asp.net - 如何在没有响应的情况下在页面 url 中发送参数并重定向或更改 url 中的值？

> ID：14974984
> 
> 赞同：0
> 
> 时间：2013-02-20T08:05:44.970
> 
> 标签：asp.net, url, parameters

需要在网页 url 中放入参数。但一定不是这样的：

```
Response.Redirect("Pagename?par1=1212") 
```

我认为它会是这样的：

```
Page.Url.Parameters.Add("parameterName", parameterValue); 
```

但我不知道在实践中它必须如何。

我需要它是因为：我在 Session 中有影响查询条件的参数。在我的站点中，用户打开两个或多个具有不同数据的网页。并且来自一页的会话参数影响到另一页。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-20T08:52:07.640

您可以通过以下方式轻松使用它：

```
string ParameterValue = "Parameter value";
Response.Redirect("Pagename?par1=" + ParameterValue ); 
```

# android - 如何在 alertDialog Android 中显示纬度经度位置

> ID：14974988
> 
> 赞同：1
> 
> 时间：2013-02-20T08:06:07.693
> 
> 标签：android, android-alertdialog

我有一个活动

```
package com.commonsware.android.constants;

import android.app.AlertDialog;
import android.app.ListActivity;
import android.content.ContentValues;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.database.Cursor;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.view.ContextMenu;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.AdapterView;
import android.widget.EditText;
import android.widget.ListAdapter;
import android.widget.SimpleCursorAdapter;
import android.widget.TextView;

public class ConstantsBrowser extends ListActivity {
  private LocationManager lm;
  private LocationListener locListener;
  private TextView latTxt, lonTxt;

  Intent intent = null;
  private static final int ADD_ID = Menu.FIRST+1;
  private static final int DELETE_ID = Menu.FIRST+3;
  private static final int UPDATE_ID = Menu.FIRST+4;
  public static final int SHOW_SUB_ACTIVITY_VIEW=3;
  private DatabaseHelper db=null;
  private Cursor constantsCursor=null;

  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.banner);

    latTxt = (TextView) findViewById(R.id.latitudeTxt);
    lonTxt = (TextView) findViewById(R.id.longitudeTxt);

    lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
    locListener = new MyLocationListener();
    lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 10, 10,locListener);

    db=new DatabaseHelper(this);
    constantsCursor=db
                      .getReadableDatabase()
                      .rawQuery("SELECT _ID, title, value "+
                                "FROM constants ORDER BY _ID",
                                null);

    ListAdapter adapter=new SimpleCursorAdapter(this,
                          R.layout.row, constantsCursor,
                          new String[] {
                                        DatabaseHelper.ID,
                                        DatabaseHelper.TITLE,
                                        DatabaseHelper.VALUE},
                          new int[] {R.id.id, R.id.alamat, R.id.value});

    setListAdapter(adapter);
    registerForContextMenu(getListView());
  }

  @Override
  public void onDestroy() {
    super.onDestroy();

    constantsCursor.close();
    db.close();
  }

  private class MyLocationListener implements LocationListener {
        @Override
        public void onLocationChanged(Location loc) {
            // TODO Auto-generated method stub
            if (loc != null) {
                latTxt.setText(String.valueOf(loc.getLatitude()));
                lonTxt.setText(String.valueOf(loc.getLongitude()));

            }
        }

        @Override
        public void onProviderDisabled(String provider) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onProviderEnabled(String provider) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onStatusChanged(String provider, int status, Bundle extras) {
            // TODO Auto-generated method stub

        }

    }

  @Override
  public boolean onCreateOptionsMenu(Menu menu) {
    menu.add(Menu.NONE, ADD_ID, Menu.NONE, "Data Baru")
        .setIcon(R.drawable.add)
        .setAlphabeticShortcut('a');

    return(super.onCreateOptionsMenu(menu));
  }

  @Override
  public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
      case ADD_ID:
        add();
        return(true);
    }

    return(super.onOptionsItemSelected(item));
  }

  @Override
  public void onCreateContextMenu(ContextMenu menu, View v,
                                    ContextMenu.ContextMenuInfo menuInfo) {
    menu.add(Menu.NONE, DELETE_ID, Menu.NONE, "Delete");
    menu.add(Menu.NONE, UPDATE_ID, Menu.NONE, "Update")
        .setAlphabeticShortcut('d');
  }

  @Override
  public boolean onContextItemSelected(MenuItem item) {
    switch (item.getItemId()) {
      case DELETE_ID:
        AdapterView.AdapterContextMenuInfo info=
          (AdapterView.AdapterContextMenuInfo)item.getMenuInfo();

        delete(info.id);
        return(true);

      case UPDATE_ID:
          intent = new Intent(ConstantsBrowser.this, MainActivity.class);
            startActivityForResult(intent, SHOW_SUB_ACTIVITY_VIEW);
          return(true);
    }

    return(super.onOptionsItemSelected(item));
  }

    private void add() {
    LayoutInflater inflater=LayoutInflater.from(this);
    View addView=inflater.inflate(R.layout.add_edit, null);

    final DialogWrapper wrapper=new DialogWrapper(addView);

    new AlertDialog.Builder(this)
      .setTitle(R.string.add_title)
      .setView(addView)
      .setPositiveButton(R.string.ok,
                          new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,
                              int whichButton) {
          processAdd(wrapper);
        }
      })
      .setNegativeButton(R.string.cancel,
                          new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,
                              int whichButton) {
          // ignore, just dismiss
        }
      })
      .show();
  }

  private void delete(final long rowId) {
    if (rowId>0) {
      new AlertDialog.Builder(this)
        .setTitle(R.string.delete_title)
        .setPositiveButton(R.string.ok,
                            new DialogInterface.OnClickListener() {
          public void onClick(DialogInterface dialog,
                                int whichButton) {
            processDelete(rowId);
          }
        })
        .setNegativeButton(R.string.cancel,
                            new DialogInterface.OnClickListener() {
          public void onClick(DialogInterface dialog,
                                int whichButton) {
          // ignore, just dismiss
          }
        })
        .show();
    }
  }

  private void processAdd(DialogWrapper wrapper) {
    ContentValues values=new ContentValues(2);

    values.put(DatabaseHelper.TITLE, wrapper.getTitle());
    values.put(DatabaseHelper.VALUE, wrapper.getValue());

    db.getWritableDatabase().insert("constants", DatabaseHelper.TITLE, values);
    constantsCursor.requery();
  }

  private void processDelete(long rowId) {
    String[] args={String.valueOf(rowId)};

    db.getWritableDatabase().delete("constants", "_ID=?", args);
    constantsCursor.requery();
  }

  class DialogWrapper {
    EditText titleField=null;
    EditText valueField=null;
    View base=null;

    DialogWrapper(View base) {
      this.base=base;
      valueField=(EditText)base.findViewById(R.id.value);
    }

    String getTitle() {
      return(getTitleField().getText().toString());
    }

    String getValue() {
      return(getValueField().getText().toString());
    }

    private EditText getTitleField() {
      if (titleField==null) {
        titleField=(EditText)base.findViewById(R.id.title);
      }

      return(titleField);
    }

    private EditText getValueField() {
      if (valueField==null) {
        valueField=(EditText)base.findViewById(R.id.value);
      }

      return(valueField);
    }
  }
} 
```

我成功地在我的主要活动中显示纬度经度

但对话框不显示纬度和经度

我的对话框在同一个活动中

这是界面

![图片](../Images/8915afddc3e6f8787ef0e2d4fea4e6b5.png)

如何在对话框中显示纬度经度？

**编辑**

我添加了这个但强制关闭

```
private void add() {
    LayoutInflater inflater=LayoutInflater.from(this);
    View addView=inflater.inflate(R.layout.add_edit, null);

    final DialogWrapper wrapper=new DialogWrapper(addView);
    TextView tvsellAll = (TextView) findViewById(R.id.longitudeTxtt);
    TextView tvsell10 = (TextView) findViewById(R.id.longitudeTxtt);
    tvsellAll.setText(latTxt.toString());
    tvsell10.setText(lonTxt.toString());
    new AlertDialog.Builder(this)
      .setTitle(R.string.add_title)
      .setView(addView)
      .setPositiveButton(R.string.ok,
                          new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,
                              int whichButton) {
          processAdd(wrapper);
        }
      })
      .setNegativeButton(R.string.cancel,
                          new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,
                              int whichButton) {
          // ignore, just dismiss
        }
      })
      .show();
  } 
```

行中的空指针`tvLat.setText(latTxt.toString());`

请帮我

BR

亚历克斯

**解决了**

我忘记添加`addView`了`findViewById`。谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:58:10.887

我认为您对警报框使用了不同的视图。所以你必须从那个视图中获取文本视图并设置经度和纬度。

# php - 从 Google 抓取关键字建议

> ID：14974995
> 
> 赞同：3
> 
> 时间：2013-02-20T08:06:40.423
> 
> 标签：php, web-scraping

我目前正在努力从 Google 中获取关键字建议。这是我正在使用的脚本：

```
<?php
function text_between($start,$end,$string) {
  if ($start != '') {$temp = explode($start,$string,2);} else {$temp = array('',$string);}
  $temp = explode($end,$temp[1],2);
  return $temp[0];
}
function gsscrape($keyword) {
  $keyword=str_replace(" ","+",$keyword);
  global $kw;
  $data=file_get_contents('http://suggestqueries.google.com/complete/search?output=firefox&client=firefox&hl=en-US&q='.$keyword);
  $data=explode('[',$data,3);
  $data=explode('],[',$data[2]);
  foreach($data as $temp) {
  $kw[]= text_between('"','"',$temp);
  }
}
#simple to use, just use yourscriptname.php?keywords

if ($_SERVER['QUERY_STRING']!='') {
  gsscrape($_SERVER['QUERY_STRING']);
  foreach ($kw as $keyword) {
  gsscrape($keyword);
  }

//sorted and duplicates removed
sort(array_unique($kw));

#all results echoed with break
foreach ($kw as $keywords) {
echo $keywords. "<br />";
}

}
?> 
```

当直接通过 URL 访问时，Google 会给我这个关键字的响应`money`：

```
["money",["moneygram","money network","money mutual","money trees lyrics","moneyball","moneypak","money","money converter","money order","money2india"]] 
```

但是，由于某种原因，当我在我的网站上对其进行测试时，它只是显示了这一点：

```
moneygram
moneygram 
```

需要更改哪些内容才能像这样显示每个关键字？

```
moneygram, money network, money mutual, money trees lyrics, moneyball, moneypak, money, money converter, money order, money2india 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-20T08:10:26.203

这是有效的 JSON，使用`json_decode`就完成了！

```
var_dump(json_decode('["money",["moneygram","money network","money mutual","money trees lyrics","moneyball","moneypak","money","money converter","money order","money2india"]]')); 
```

编辑 - 完整示例；

```
<?php

function getKeywordSuggestionsFromGoogle($keyword) {
    $keywords = array();
    $data = file_get_contents('http://suggestqueries.google.com/complete/search?output=firefox&client=firefox&hl=en-US&q='.urlencode($keyword));
    if (($data = json_decode($data, true)) !== null) {
        $keywords = $data[1];
    }

    return $keywords;
}

var_dump(getKeywordSuggestionsFromGoogle('money')); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T08:25:28.470

要将数据作为数组获取，请使用：

```
 function gsscrape($keyword) {
      return json_decode(utf8_decode(file_get_contents('http://suggestqueries.google.com/complete/search?output=firefox&client=firefox&hl=en-US&q='.urlencode($keyword))),true);
     } 
```