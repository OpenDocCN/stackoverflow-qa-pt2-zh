# StackOverflow 问答 15243000-15243999

# java - 没有为使用名称“成功”映射的类型“重定向操作”定义结果类型

> ID：15243002
> 
> 赞同：4
> 
> 时间：2013-03-06T09:05:22.480
> 
> 标签：java, configuration, struts2, naming-conventions, camelcasing

```
<action name="saveGetStarted" class="com.sample.action.GetStartedAction" method="save">
      <interceptor-ref name="defaultStack"/>
      <result name="success" type="redirect-action">
          <param name="actionName">preQualification</param>
          <param name="customerId">${customerId}</param>
      </result>
      <result name="input">/jsp/getStarted.jsp</result>
      <result name="error">/jsp/getStarted.jsp</result>
</action>

<action name="preQualification"  class="com.sample.action.PreQualificationAction">
    <result name="success">/jsp/preQualification.jsp</result>
    <result name="input"  >/jsp/preQualification.jsp</result>
</action> 
```

使用`struts2-core-2.0.12.jar`它可以正常工作，但是在更新到 之后`struts2-core-2.1.6.jar`，我收到以下错误：

```
Caused by: There is no result type defined for type 'redirect-action' mapped with name 'success'.  Did you mean 'redirectAction'? - result - file:/D:/eclipse-indigo/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp1/wtpwebapps/Fundation/WEB-INF/classes/struts.xml:19:54
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.buildResults(XmlConfigurationProvider.java:613)
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addAction(XmlConfigurationProvider.java:364)
    ... 26 more 
```

是什么导致了错误？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T09:10:14.390

您正在为动作重定向结果使用旧符号。更改`redirect-action`为`redirectAction`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T11:58:03.960

在 Struts 2.3.x 中，一些代码发生了更改，例如**redirect-action**更改为 **redirectAction**

所以你必须像这样声明它 -

```
<action name="saveGetStarted" class="com.sample.action.GetStartedAction" method="save">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="redirectAction">
                <param name="actionName">preQualification</param>
                <param name="customerId">${customerId}</param>
            </result>
            <result name="input">/jsp/getStarted.jsp</result>
            <result name="error">/jsp/getStarted.jsp</result>
          </action>

         <action name="preQualification"  class="com.sample.action.PreQualificationAction"  method="excute">
                <result name="success">/jsp/preQualification.jsp</result>
                <result name="input">/jsp/preQualification.jsp</result>
          </action> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-06T09:11:47.630

自 Struts 以来`2.1.0`，所有默认**结果名称**和**拦截器名称**都已更改[`Letter case`](http://en.wikipedia.org/wiki/Letter_case#Special_case_styles)，从旧`spinal-case`的到新的`camelCase`。

来自[Struts`2.1.1`发行版说明](http://%20struts.apache.org/docs/version-notes-211.html#VersionNotes2.1.1-Backwardcompatibilityissueswithpreviousversions)：

> ### 与以前版本的向后兼容性问题
> 
> 由于`2.1.0`：所有默认结果名称和拦截器名称现在都采用 camelCase 格式
> （例如 was `redirect-action`, is now `redirectAction`）
> 
> ...

# android - 阿拉伯语语言环境的 EditText 行为

> ID：15243012
> 
> 赞同：1
> 
> 时间：2013-03-06T09:05:53.497
> 
> 标签：android, android-edittext, arabic

我有一个包含两个 EditText 视图的登录屏幕。![在此处输入图像描述](../Images/55254db94d7da86464da0cca54ce6fae.png)使用阿拉伯语言环境时，密码输入字段会右对齐并根据 RTL 语言规则开始工作。![在此处输入图像描述](../Images/fe3f42db55d0d59319a91eccbbf5f254.png)用户名输入字段不受影响。我的两个输入字段的布局 XML 如下所示：

```
<!-- Username input. -->
<EditText
    android:id="@+id/login_edittext_username_input"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:paddingLeft="10dp"
    android:paddingRight="10dp"
    android:layout_marginBottom="0.66667dp"
    android:background="@drawable/general_inputfield_normal"
    android:singleLine="true"
    android:imeOptions="actionNext"
    android:inputType="textEmailAddress"
    android:hint="@string/login_input_username_hint"
    android:textColorHint="@color/edit_text_hint" />

<!-- Password input. -->
<EditText
    android:id="@+id/login_edittext_password_input"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:paddingLeft="10dp"
    android:paddingRight="10dp"
    android:layout_marginBottom="0.66667dp"
    android:background="@drawable/general_inputfield_normal"
    android:singleLine="true"
    android:inputType="textPassword"
    android:imeOptions="actionDone"
    android:hint="@string/login_input_password_hint"
    android:textColorHint="@color/edit_text_hint" /> 
```

我试图将两者对齐，并发现这`android:inputType="textPassword"`是原因。有没有办法使密码输入字段的行为类似于用户名输入字段，即左对齐和从左到右输入，但仍具有 textPassword 功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-07-19T23:21:30.840

使用它会帮助你

```
 android:textAlignment="viewStart" 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-08-20T11:46:58.427

try with android:gravity="right" alignments , hope this helps

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-11-27T06:36:40.713

这可能会有所帮助：

```
android:gravity="start" 
android:textAlignment="viewStart" 
```

# sql - rails 2 sql和分页

> ID：15243016
> 
> 赞同：1
> 
> 时间：2013-03-06T09:05:57.417
> 
> 标签：sql, ruby-on-rails, ruby, pagination

我有一个非常大的 sql 查询，我使用分页。问题是分页在查询后过滤数据，我需要限制随请求携带的分页以更快地处理。

运行方案：

```
@request = sql.execute("select ....")
@request = @request.paginate(:per_page => 10) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:33:59.480

您可以自己限制和抵消查询：

```
@request = sql.execute("select ... offset #{params[:page] * 10} limit #{params[:page]") 
```

问题是如何获得分页结果，因为您实际上需要记录总数（SELECT COUNT），也许还有一些其他数据，您可以阅读一篇很好的文章，解释如何在自定义集合上使用 will_paginate，因为您正在执行您自己的查询，您正在使用自定义集合

这是文章： http: [//pathfindersoftware.com/2008/06/how-to-use-will_paginate-with-non-activerecord-collectionarray/](http://pathfindersoftware.com/2008/06/how-to-use-will_paginate-with-non-activerecord-collectionarray/)

* * *

在第二次审查时，您可以执行以下操作：

```
sql = " SELECT ..."
@request = MyModel.paginate_by_sql(sql, :page => params[:page] || 1, :per_page => 10) 
```

但是您必须将选择的结果放在 ActiveRecord 模型中

# java - hashCode() 的默认行为

> ID：15243018
> 
> 赞同：5
> 
> 时间：2013-03-06T09:06:07.717
> 
> 标签：java

我不断在同一台机器上运行这个程序：

```
class Test {
    public static void main(String[] args) {
        Test test = new Test();
        System.out.println(test.hashCode());
    }
} 
```

每次在我的机器（Windows 7 64 位）上运行程序时结果都是一样的：4384790

在另一台机器（Windows server 2008，64 位）上，大多数时候它给了我：1671711。但是有时结果是：11394033。

在我的机器上，我在 Java HotSpot(TM) Client VM 1.6.0_26/1.6.0_33 下运行程序

我已阅读 Object 类的文档：

> *在合理可行的情况下，由 Object 类定义的 hashCode 方法确实为不同的对象返回不同的整数。（这通常通过将对象的内部地址转换为整数来实现，但 JavaTM 编程语言不需要这种实现技术。）*

但是如果*hashCode()*确实是通过将对象的内部地址转换为整数来实现的，我还是不明白为什么Java VM每次运行时都会为Test对象分配相同的地址。

是否确切知道默认*hashCode()*的操作方式？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:11:08.190

详细信息是特定于 JVM 的。此外，一些（大多数？）JVM 支持多种`hashCode()`算法（在启动 JVM 时，您可以选择它会使用哪一种）。

**有趣的是，这些算法中的大多数——包括 Oracle 的默认值——根本**不使用对象的地址。例如JDK7默认`hashCode()`使用全局伪随机数生成器，然后将生成的伪随机哈希码缓存在对象的头部。

当然，如果以相同的方式初始化，伪随机生成器总是会给出相同的数字序列。

有关我过去所做调查的详细信息，请参阅[Java 中的“内部地址”是什么？](https://stackoverflow.com/questions/13860194/what-is-an-internal-address-in-java/13860488#13860488)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:10:09.933

非内核程序从不使用绝对内存地址，它们使用虚拟内存，每个进程都有自己的地址空间。因此，程序将在每次运行中将数据放置在相同的位置。

# python - 如何在 pkg_resources 中实现 resource_filename？

> ID：15243024
> 
> 赞同：1
> 
> 时间：2013-03-06T09:06:36.200
> 
> 标签：python, python-3.x, pip, setuptools, pkg-resources

我写了一个包，它导入了[分发 0.6.35](https://pypi.python.org/pypi/distribute)`pkg_resource`提供的包。我导入是因为我需要它来获取内置数据的路径。但是，python3中没有内置，需要安装。关于这个，我有两个问题：`pkg_resource``resource_filename``pkg_resource`

1.  为什么 Python3 没有`pkg_resource`在其官方发行版中提供？这是否意味着`pkg_resource`已弃用或`Python3`有`pkg_resource`内置的替代包？

2.  如果 Python3 没有替代包，我如何使用内置库`pkg_resource`编写自己的版本？`resource_filename`做起来容易吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-13T16:10:41.803

`distribute`合并回`setuptools`. [`setuptools`](https://bitbucket.org/pypa/setuptools/overview)支持 Python 3。

# sql - 如何在 refcursor 中返回布尔值？

> ID：15243026
> 
> 赞同：0
> 
> 时间：2013-03-06T09:06:43.220
> 
> 标签：sql, oracle, plsql, oracle11g, plsqldeveloper

在下面的过程中，我需要使用 refcursor 返回一个布尔值

```
CREATE OR REPLACE PROCEDURE gmmt_proc.co_col_preference_details_sp (
   p_applcd         IN       VARCHAR2,
   p_rptname        IN       VARCHAR2,
   p_user           IN       VARCHAR2,
   p_out_col_pref   OUT      sys_refcursor,
   p_err_cd         OUT      NUMBER,
   p_err_msg        OUT      VARCHAR2
)
IS
   p_check   BOOLEAN := true;
   p_val     NUMBER;
BEGIN
   BEGIN
      SELECT p3.col_grp_id
        INTO p_val
        FROM co_page_t p1,
             co_page_col_grp_t p2,
             co_page_col_grp_user_t p3
       WHERE p1.page_id = p2.page_id AND p3.security_userid = p_user;
   EXCEPTION
      WHEN NO_DATA_FOUND
      THEN
         p_check := false;
   END;

   OPEN p_out_col_pref FOR
      SELECT p1.page_id, p2.col_grp_nm, p3.col_grp_id,p_check
        FROM co_page_t p1,
             co_page_col_grp_t p2,
             co_page_col_grp_user_t p3
       WHERE p1.page_id = p2.page_id
         AND p2.col_grp_id = p3.col_grp_id
         AND p1.page_nm = p_rptname
         AND p1.appl_cd = p_applcd;
END; 
```

p_check 是返回错误的布尔值。

```
PLS-00382: expression is of wrong type 
```

请建议我如何纠正这个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:00:59.960

将您的布​​尔值转换为 int 并在客户端检查
C++ 0 == false !0 == true
所以您只需将正确的整数值放入您的 sursor 中，它将自动转换为 bool祝您
好运

# iphone - 检查消息是否将使用 iMessage 或蜂窝网络发送

> ID：15243030
> 
> 赞同：2
> 
> 时间：2013-03-06T09:06:58.243
> 
> 标签：iphone, ios, objective-c, mfmessagecomposeview

用于`MFMessageComposeViewController`检查设备是否`canSendText`。一切都很好，但无论如何都可以检测到该消息将使用 iMessage 或蜂窝 SMS 发送。如果文本是通过 iMessage 发送且未连接互联网，则始终需要提醒用户？我只是想知道是否有适当的解决方案？

谢谢你的时间

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:21:56.077

您无法知道消息是通过 iMessages 还是作为 SMS 发送的。Apple 没有提供任何 API 方法来检测这一点。

此外，如果没有互联网连接，消息应用程序将不会使用 iMessage，如果互联网连接断开，它将发送正常的短信。

如果您通过 iMessage 向电子邮件地址发送消息，则如果没有可用的互联网连接，则发送按钮将被禁用。

# java - 递归解决迷宫

> ID：15243033
> 
> 赞同：0
> 
> 时间：2013-03-06T09:06:59.773
> 
> 标签：java, recursion, maze

我知道以前有人问过这个问题，但我根本看不到答案。我应该编写递归迷宫解决方案，这是我到目前为止所做的：

```
import java.awt.Color;
import java.util.ArrayList;

public class RecursiveMazeSolution implements MazeSolver {
boolean[][] marked;
ArrayList<Maze.Door> solutionPath = new ArrayList<>();

public ArrayList<Maze.Door> solveMaze(int startRow, int finishRow, int startCol, int finishCol, Maze maze) {
    marked = new boolean[maze.getRows()][maze.getColumns()];
    return solveMaze(startRow, finishRow, startCol, finishCol, maze, marked);
}

public ArrayList<Maze.Door> solveMaze(int startRow, int finishRow, int startCol, int finishCol, Maze maze, boolean[][] marked) {
    System.out.println(startRow + " " + startCol + " " + finishRow + " " + finishCol);
    if(startRow < 0 || startCol < 0 || startRow > maze.getRows() - 1|| startCol > maze.getColumns() - 1) return null;
    if(marked[startRow][startCol]) {
        System.out.println("I'm inside marked if");
        return null;
    }

    marked[startRow][startCol] = true;
    if(startRow == finishRow && startCol == finishCol) {
        solutionPath.add(new Maze.Door(startRow, startCol, Maze.NO_DIRECTION, Color.RED));
        return solutionPath;
    }

    if(solveMaze(startRow - 1, finishRow, startCol, finishCol,maze, marked) != null && !maze.isClosed(startRow, startCol, Maze.NORTH)) {
        solutionPath.add(new Maze.Door(startRow, startCol, Maze.NORTH, Color.RED));
        return solutionPath;
    }
    if(solveMaze(startRow + 1, finishRow, startCol, finishCol,maze, marked) != null && !maze.isClosed(startRow, startCol, Maze.SOUTH)){
        solutionPath.add(new Maze.Door(startRow, startCol, Maze.SOUTH, Color.RED));
        return solutionPath;
    }
    if(solveMaze(startRow, finishRow, startCol - 1, finishCol,maze, marked) != null && !maze.isClosed(startRow, startCol, Maze.WEST)){
        solutionPath.add(new Maze.Door(startRow, startCol, Maze.WEST, Color.RED));
        return solutionPath;
    }
    if(solveMaze(startRow, finishRow, startCol + 1, finishCol,maze, marked) != null && !maze.isClosed(startRow, startCol, Maze.EAST)){
        solutionPath.add(new Maze.Door(startRow, startCol, Maze.EAST, Color.RED));
        return solutionPath;
    }

    return null;
}

} 
```

这是提供给我的迷宫课程：

```
import java.io.Serializable;
import java.awt.Color;

public class Maze implements Serializable {

/**
 * 
 */
private static final long serialVersionUID = -787488019846627488L;
/**
 * the north wall of a room
 */
public static final int NORTH = 0;
/**
 * the east wall of a room
 */
public static final int EAST = 1;
/**
 * the south wall of a room
 */
public static final int SOUTH = 2;
/**
 * the west wall of a room
 */
public static final int WEST = 3;
/**
 * No direction from a room
 */
public static final int NO_DIRECTION = 4;
private static String[] walls = {"North", "East", "South", "West"};
private Room[][] rooms;

/**
 * Constructor
 * @param rows is the number of rows in the maze
 * @param columns is the number of columns in the maze
 */
public Maze(int rows, int columns) {
    rooms = new Room[rows][columns];
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < columns; j++) {
            rooms[i][j] = new Room();
        } // end for
    } // end for
}

/**
 * rows accessor
 * @return the number of rows in the maze
 */
public int getRows() {
    return rooms.length;
}

/**
 * columns accessor
 * @return the number of columns in the maze
 */
public int getColumns() {
    return rooms[0].length;
}

/**
 * Checks to see if a wall is closed
 * @param row the row number
 * @param column the column number
 * @param wall the wall number
 * @return true if wall is closed; false if it is open
 */
public boolean isClosed(int row, int column, int wall) {
    return rooms[row][column].closed[wall];
}

/**
 * Opens the wall
 * @param row the row number
 * @param column the column number
 * @param wall the wall number
 */
public void setOpen(int row, int column, int wall) {
    rooms[row][column].closed[wall] = false;
}

/**
 * Closes the wall
 * @param row the row number
 * @param column the column number
 * @param wall the wall number
 */
public void setClosed(int row, int column, int wall) {
    rooms[row][column].closed[wall] = true;
}

public static class Door {

    int row;
    int column;
    int wall;
    Color color;

    public Door(int row, int column, int wall, Color color) {
        this.row = row;
        this.column = column;
        this.wall = wall;
        this.color = color;
    } // end constructor

    public boolean equals(Object x) {
        if ( x == null ) return false;
        if (!(x.getClass().equals(this.getClass()))) {
            return false;
        }
        Door door = (Door) x;
        return row == door.row && column == door.column && wall == door.wall && color.equals(door.color);
    } // end equal

    public int hashCode() {
        return row + column + wall + color.hashCode();
    }

    public String toString() {
        return row + " " + column + " " + walls[wall] + "\n";
    } // end toString()
} // end Door

private class Room implements Serializable {

    boolean[] closed;

    Room() {
        closed = new boolean[4];
        for (int i = 0; i < 4; i++) {
            closed[i] = true;
        } // end for
    }
} // end Room
} // end Maze 
```

我认为我找到了解决方案的正确方法，但是我的程序只是递归地运行了一段时间，然后找不到迷宫的解决方案。此外，如果我让我的程序忽略“墙壁”，它可以找到解决方案（经过大量递归调用），但它不应该忽略墙壁。谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:12:21.190

基于对您的代码的快速浏览，我认为问题在于您没有*取消标记*`solveMaze`. 当您进入该功能时，您会标记一个正方形，表示您不能再次访问它。但是您需要在返回之前再次将其标记为免费。

在考虑了更多之后，似乎它通常不应该是一个问题，因为您会在确定没有通过该正方形的解决方案路径之后取消标记该正方形。

然后我意识到你在递归调用*之后正在做墙壁测试。*这意味着您正在寻找解决方案，然后放弃解决方案，因为途中有一堵墙。同时，您将所有方块标记为已访问，并且无处可寻有效解决方案。

您需要在递归*之前*测试墙壁，如果有墙壁，则不要进行递归。短路评估在这里就足够了（通过重新排序`if`语句中的术语）：

```
if( !maze.isClosed(startRow, startCol, Maze.NORTH) &&
    solveMaze(startRow-1, finishRow, startCol, finishCol,maze, marked) != null ) 
```

顺便说一句，不需要`marked`作为参数传递。是班级成员。

# c - C 错误处理编码风格

> ID：15243044
> 
> 赞同：4
> 
> 时间：2013-03-06T09:07:46.920
> 
> 标签：c, error-handling, coding-style

在以下代码结构的情况下：

```
int function_sequence(...)
{
    f1(...);
    f2(...);
    f3(...);
    f4(...);
    f5(...);
    return SUCCESS;
} 
```

哪种错误处理方式更容易接受？

这：

```
int function_sequence(...)
{
    if(f1(...)){
         // Error handling
         return ERROR;
    }

    if(f2(...)){
         // Error handling
         return ERROR;
    }

    ...

    return SUCCESS;
} 
```

或这个：

```
int function_sequence(...)
{
    if(f1(...)){
        goto error;
    }

    if(f2(...)){
        goto error;
    }

    ...

    return SUCCESS;

error:
    // Error handling
    return ERROR;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:11:24.713

对于 C，我更喜欢您的第二个选项。

此外，逐步清理（释放分配的内存等）很有用，例如在 Linux 内核中：

```
int function_sequence(...)
{
    if(f1(...)){
        goto error1;
    }

    if(f2(...)){
        goto error2;
    }

    ...

    return SUCCESS;

error2:
    cleanup2();

error1:
    cleanup1();

    // Error handling
    return ERROR;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:14:53.143

```
int function_sequence(...)
{
    if (f1(...) && f2(...) && f3(...)  && f4(...) && f5(...)) 
        return SUCCESS;
    else
        return ERROR;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:13:08.167

在 C 中，我会使用第三个选项：

```
int function_sequence(...)
{
    bool ok = true;
    if (ok) ok = f1(...);
    if (ok) ok = f2(...);
    if (ok) ok = f3(...);
    if (ok) ok = f4(...);
    if (ok) ok = f5(...);

    if (!ok) error_handling();

    cleanup();  // Your example didn't have this, but it's often here.

    return ok ? SUCCESS : ERROR;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T09:13:23.933

我喜欢做的方式是c语言中的以下内容：

```
int function_sequence(...)
{
    int res=0;

    if(f1(...)){
        goto ENDF;
    }

    if(f2(...)){
        goto ENDF;
    }

    ...

    res = 1;

ENDF:
   if(res ==0)
   {
      //Error handling
   } 

   //Success and Error stuff to do (like free...).

    return res;
} 
```

所以只有一个返回，有时两者都要做一些动作：错误和成功（例如免费...）。

我想我的观点可以讨论。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T09:13:50.093

如果是异常情况导致函数无法工作，则抛出异常。

如果您有理由坚持使用返回码，您可以使用

```
if ( f1() && f2() && .... )
    return SUCCESS;
else
    return ERROR; 
```

`false`在遇到第一个or之后执行将停止`0`，因此效果与您的版本几乎相同。

一些库会返回`0`成功（呵呵，甚至 C++`main`也会这样做）。所以你可能想要

```
if ( !f1() &&.... ) 
```

或者一个简单的

```
return f1() && f2() &&.... ; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-06T09:14:52.947

这是我通常使用的

```
int function_sequence(...)
{
    if(f1(...)){
        goto error1;
    }

    if(f2(...)){
        goto error2;
    }

    return SUCCESS;
}

error1:
    // Error 1 handling
    return -eerno1;

error2:
    // Error 2 handling
    return -eerno2;

//end of main 
```

# c# - 使用布尔值进行条件检查

> ID：15243046
> 
> 赞同：0
> 
> 时间：2013-03-06T09:07:50.510
> 
> 标签：c#

我有一个检查条件的查询。

```
var hasListHeader = false;

using(SqlDataReader reader = sql.ExecuteQueryReturnDR(query, sqlParams)) //this will return SqlDataReader
{
   if(hasListHeader = reader.HasRows)
   {

   }
} 
```

1.  我可以检查一下情况吗？首先分配`reader.HasRows`，然后检查条件？

不是这样做，而是像上面那样检查。这是好习惯吗？

```
hasListHeader = reader.HasRows;
if(hasListHeader)
{
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:09:45.813

你应该使用

```
hasListHeader = reader.HasRows;
if(hasListHeader)
{
} 
```

仅当您打算使用该变量`hasListHeader`以供以后使用时，可能使用相同的方法或代码库中的其他位置。

`hasListHeader`如果您在声明之后不需要`if`，那么我会删除它并使用

```
if(reader.HasRows)
{
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:13:28.667

是的，您可以像这样检查布尔值，因为赋值是一个具有右侧操作数值的表达式，所以

```
hasListHeader = reader.HasRows 
```

评估的值`reader.HasRows`并将该值分配给`hasListHeader`作为副作用。

然而，这样做并不被认为是好的风格，并且将赋值移到语句上方`if`被认为更清晰。

# html - 子高度为可滚动父内容高度的 100%

> ID：15243053
> 
> 赞同：9
> 
> 时间：2013-03-06T09:08:29.830
> 
> 标签：html, css, height, overflow

请考虑这个小提琴：http: [//jsfiddle.net/eKJAj/](http://jsfiddle.net/eKJAj/)

我试图让一个绝对定位的 div （红线）取其（黄色）父级的总高度的整个高度；不仅仅是父母的可见高度。

如果您尝试使用小提琴，当您滚动黄色 div 时，您会看到红色条不会一直向下移动。如果删除了一些蓝色部分，它也不能大于其父级。

html:

```
<div class="parent">
    <div class="bar"></div>
    <div class="section"></div>
    <div class="section2"></div>
    <div class="section2"></div>
    <div class="section2"></div>
    <div class="section2"></div>
    <div class="section2"></div>
    <div class="section"></div>
</div>

<input type="button" value="hide" onclick="$('.section2').slideUp(400)" />
<input type="button" value="show" onclick="$('.section2').slideDown(400)" /> 
```

CSS：

```
.parent{
    position:relative;
    width:100%; max-height:300px;
    background-color:yellow;
    overflow-y:auto;
}

.bar{
    position:absolute; left:50px;
    width:1px; height:100%;
    background-color:red;
}

.section, .section2{
    width:100%; height:70px;
    margin-bottom:3px;
    background-color:blue;
} 
```

我一直在为蓝条尝试一些选项，例如`top:0px; botom:0px`甚至尝试`position:relative; margin-left:50px`浮动红线，但无济于事。

如果可能的话，我宁愿只保留 CSS。任何提示非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T09:23:20.713

一种解决方案是将您的包装`.parent`在（另一个）容器中。

[JSF](http://jsfiddle.net/eKJAj/21/)中。

将您`.parent`的容器设置为具有`max-height`and `overflow-y`：

```
<div class="container">
    <!-- parent in here -->
</div>

.container {
    max-height:300px;
    overflow-y:auto;
}
.parent{
    position:relative;
    width:100%;
    background-color:yellow;
} 
```

它在您的示例中不起作用的原因是因为您将最大高度设置为 300px。100% 高度`.bar`然后假设高度为 300 像素。使用此解决方法，您的`.parent`分隔线没有 300 像素的高度限制，但外部却有`.container`。

# c# - 如何有效地学习/理解 C# 中的 OOP？

> ID：15243059
> 
> 赞同：5
> 
> 时间：2013-03-06T09:08:45.133
> 
> 标签：c#, oop

简而言之，在过去的 6 个月里，我一直在上 C# 课程。我们通过大量练习涵盖了该语言的所有基础知识 - 变量、数组、方法、循环、文本处理、处理字符串等……但总的来说，这些材料正在提高我的算法思维（我没有任何编程背景），事情进展顺利。

然而，自 2 月中旬以来，我们开始了 OOP，困难时期到来了。实现 OOP 原则对我来说是一场噩梦，尽管我在理论上知道它们。

我做什么来帮助自己：

*   阅读我的 C# 课本
*   阅读在线资源
*   阅读别人的代码
*   尝试编写自己的代码失败

你能给我建议吗，因为我不想放弃！？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:11:17.707

即使解决方案不要求真正的 OOP 原则，您也必须从简单开始。

阅读有关设计模式的书也是一个好主意，或者更重要的是：使用它们创建自己的（简单）应用程序。设计模式非常有用，并且大量使用 OOP 原则。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:15:25.890

尝试阅读和理解以下文章：

[http://www.codeproject.com/Articles/22769/Introduction-to-Object-Oriented-Programming-Concep](http://www.codeproject.com/Articles/22769/Introduction-to-Object-Oriented-Programming-Concep) [http://www.c-sharpcorner.com/UploadFile/tusharkantagarwal/objectorientedcsharp11162005070743AM/objectorientedcsharp.aspx](http://www.c-sharpcorner.com/UploadFile/tusharkantagarwal/objectorientedcsharp11162005070743AM/objectorientedcsharp.aspx)

# java - 例外：需要“开始”<“结束”

> ID：15243060
> 
> 赞同：0
> 
> 时间：2013-03-06T09:08:49.383
> 
> 标签：java, jfreechart

我在 main 中的代码如下所示：

```
ArrayList<Integer> temper = new ArrayList<>();
     ArrayList<Float> time = new ArrayList<>();
     while(rs.next()){
         time.add(rs.getFloat("Time_ms"));
         temper.add(rs.getInt("VarValue"));                
     }
     timemax = Collections.max(time);
     timemin = Collections.min(time);         
     tempermax = Collections.max(temper);
     tempermin = Collections.min(temper); 
```

我也有这个创建图表的类：

```
public NormalDistributionDemo(final String title) {

    super(title);
    Function2D normal = new NormalDistributionFunction2D(2, 8);
    XYDataset dataset = DatasetUtilities.sampleFunction2D(normal,0, 5, 10, "Normal");
    final JFreeChart chart = ChartFactory.createXYLineChart(
        "AS Hellas Database",
        "Date", 
        "Temperature", 
        dataset,
        PlotOrientation.VERTICAL,
        true,
        true,
        false
    );
} 
```

此代码工作正常，但我想获取从数据库中提取的值并将它们插入 x,y 轴。

我这样做：

```
Function2D normal = new NormalDistributionFunction2D(tempermin, tempermax);
XYDataset dataset = DatasetUtilities.sampleFunction2D(normal,timemin, timemax,     10,"Normal"); 
```

我得到这个错误：

```
Exception in thread "main" java.lang.IllegalArgumentException: Requires 'start' < 'end'.
at     org.jfree.data.general.DatasetUtilities.sampleFunction2DToSeries(DatasetUtilities.java:542)
at     org.jfree.data.general.DatasetUtilities.sampleFunction2D(DatasetUtilities.java:511)
at org.jfree.chart.demo.NormalDistributionDemo.<init>    (NormalDistributionDemo.java:80)
at org.jfree.chart.demo.NormalDistributionDemo.main(NormalDistributionDemo.java:71) 
```

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:12:20.557

[来源](http://www.jfree.org/jfreechart/api/javadoc/src-html/org/jfree/data/general/DatasetUtilities.html#line.541)：_

```
public static XYSeries sampleFunction2DToSeries(Function2D f,
        double start, double end, int samples, Comparable seriesKey) {

    // some code

    if (start >= end) {
        throw new IllegalArgumentException("Requires 'start' < 'end'.");
    }

    // some code
} 
```

这意味着，`timemin`你通过的更少或相同`timemax`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:13:14.603

我的猜测：你调用函数

```
DatasetUtilities.sampleFunction2D(normal,timemin, timemax, 10,"Normal"); 
```

例外说

```
Requires 'start' < 'end' 
```

所以可能你有`timemin == timemax`。一个原因可能是`ArrayList<Float> time`只有一个值，或者它的所有值都相同。

# c# - OrmLite 在 C# .Net 中一对多

> ID：15243076
> 
> 赞同：0
> 
> 时间：2013-03-06T09:09:38.320
> 
> 标签：c#, database, firebird, ormlite-servicestack

我有两节课

```
public class A
{
public A()
{
_b = new List<B>();
}

public int id {get;set;}
public List<B> _b {get;set;}
}

public class B
{
 public int Id {get;set;}
 public string Caption {get;set;}
} 
```

而且我必须在数据库中使用与类相同的结构表。

当我尝试从 Db 填充 A 类数据时，字段_b 出现错误“列未知”。如何在一对多的情况下将字段从 DB 正确映射到类？数据库服务器是firebird 2.0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T18:57:19.273

OrmLite 不提供相关实体的自动加载。您将不得不触发另一个查询以获取列表。

您的 A 类不应包含`List<B>`

您的 B 类应包含字段

```
public int AId { get; set; } 
```

您可以使用 ForeignKey 和其他相关属性对其进行装饰，以实现级联删除。

# facebook - og:image-tag 不适用于 addthis-button

> ID：15243079
> 
> 赞同：4
> 
> 时间：2013-03-06T09:09:48.027
> 
> 标签：facebook, meta-tags, sharing

我们目前有一个问题，Facebook 的 og:image-meta 标签未显示。我们已经将标签放置在这样的位置：`<meta property="og:image" content="www.imageurl.com" />`- 但是当我们通过 addthis 按钮共享它时，会显示错误的图像。

如果我们通过调试工具运行它：http: [//developers.facebook.com/tools/debug](http://developers.facebook.com/tools/debug)那么它会显示正确的图像，但当您通过共享按钮共享它时则不会。

有任何关于如何解决这个问题的建议:)？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-10T15:05:29.550

您是否在不同的浏览器或不同的计算机上尝试过？
这可能只是浏览器缓存/历史记录问题。

提供您页面的 URL 以获得更多见解。

# asp.net - ImageButton 验证组不起作用

> ID：15243081
> 
> 赞同：0
> 
> 时间：2013-03-06T09:09:56.667
> 
> 标签：asp.net

我有一个Gridview，在gridview 里面我有一个页脚模板。页脚模板包含一个带有两个验证控件的TextBox，即RequiredField 和RangeValidator，还有一个ImageButton 用于“添加”行。当用户按下图像按钮时，它会捕获错误，但一旦在范围内提供值并按下“添加”，什么都不会发生，我的意思是提交不会发生。当我删除 rangevalidator 时，它会按预期工作。我想问题是一个名为“autonumeric”的插件与只接受数字格式的字段绑定，文本框是字符串格式，rangevalidator 类型是整数..是什么导致了问题吗？我如何解决它。

**这是FooterTemplate的代码**

```
<FooterTemplate>
   <asp:ImageButton ID="imgbtnAdd" runat="server" CommandName="Insert" CausesValidation="true" ImageUrl="/Style%20Library/Images/add.png" ToolTip="New Record" ValidationGroup="GridViewFooterRowGroup"/>
</FooterTemplate> 
```

**这是项目模板的代码**

```
<asp:TemplateField>
 <FooterTemplate>
    <asp:TextBox ID="txtftrQty" runat="server" Text="0" />
    <asp:RequiredFieldValidator ID="rfvQty" runat="server" ControlToValidate="txtftrQty" Text="*" Display="Dynamic" CausesValidation="True" ValidationGroup="GridViewFooterRowGroup" > </asp:RequiredFieldValidator>
    <asp:RangeValidator ID="RvFtrQty" runat="server" ErrorMessage="*" Type="Integer" MinimumValue="1" MaximumValue="999999" ControlToValidate="txtftrQty" Display="Dynamic" ForeColor="Red" CausesValidation="True" ValidationGroup="GridViewFooterRowGroup" ></asp:RangeValidator>
  </FooterTemplate>

</asp:TemplateField> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:36:43.803

Subjet：带有购物车篮逻辑的 GridView

你好，

试试下面的代码。我已将不同的 ValidationGroup 附加到 GridView 的 RowDataBound 事件中的每个控件。

ASPX 代码

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default2.aspx.cs" Inherits="Default2" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">

    <h2>GridView with Shopping Cart Basket logic</h2>

    <asp:GridView ID="gvProducts" runat="server" AutoGenerateColumns="False" 
        onrowdatabound="gvProducts_RowDataBound">
        <Columns>
            <asp:TemplateField HeaderText="SN">
                <ItemTemplate>
                    <asp:Label ID="lblSN" runat="server" Text='<%# (Container.DataItemIndex + 1) %>'></asp:Label> 
                </ItemTemplate> 
            </asp:TemplateField>
            <asp:BoundField DataField="ProductName" HeaderText="Product Name" />
            <asp:BoundField DataField="ProductPrice" DataFormatString="{0:C2}" 
                HeaderText="Product Price" />
            <asp:TemplateField HeaderText="Product Quantity">
                <ItemTemplate>
                    <asp:TextBox ID="tbxProductQuantity" runat="server" MaxLength="10">
                    </asp:TextBox> 
                    <asp:RequiredFieldValidator ID="rfvtbxProductQuantity" runat="server" ErrorMessage="Product Quantity"
                         ControlToValidate="tbxProductQuantity" Display="Dynamic" SetFocusOnError="true" 
                         Text="*">
                    </asp:RequiredFieldValidator>
                    <asp:CompareValidator ID="cvtbxProductQuantity" runat="server" ErrorMessage="Only numbers (integer) are allowed in 'Product Quantity' field."
                         ControlToValidate="tbxProductQuantity" Display="Dynamic" Operator="DataTypeCheck" SetFocusOnError="true" 
                         Text="*" Type="Integer">
                    </asp:CompareValidator>
                </ItemTemplate> 
            </asp:TemplateField>
            <asp:TemplateField HeaderText="Add To Basket">
                <ItemTemplate>
                    <asp:Button ID="btnAddToBasket" runat="server" Text="Add To Basket"/>
                </ItemTemplate> 
            </asp:TemplateField>
        </Columns>
    </asp:GridView>

    </form>
</body>
</html> 
```

C# 代码

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

public partial class Default2 : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
        {
            PopulategvProducts();
        }
    }

    private void PopulategvProducts()
    {
        List<Product> products = new List<Product>();
        for (int i = 1; i <= 20; i++)
        {
            products.Add(new Product(i,"Product-" + i.ToString(),(i * 3)));  
        }

        gvProducts.DataSource = products;
        gvProducts.DataBind();  
    }

    protected void gvProducts_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            TextBox tbx = (TextBox)e.Row.FindControl("tbxProductQuantity");
            RequiredFieldValidator rfv = (RequiredFieldValidator)e.Row.FindControl("rfvtbxProductQuantity");
            CompareValidator cv = (CompareValidator)e.Row.FindControl("cvtbxProductQuantity");
            Button btn = (Button)e.Row.FindControl("btnAddToBasket");

            string validationGroupText = "AddProductToBasket" + (e.Row.DataItemIndex + 1).ToString();

            tbx.ValidationGroup = validationGroupText;
            rfv.ValidationGroup = validationGroupText;
            cv.ValidationGroup = validationGroupText;
            btn.ValidationGroup = validationGroupText; 
        }
    }
}

public class Product
{
    private int _ProductID;
    public int ProductID
    {
        get { return _ProductID; }
        set{_ProductID = value;}
    }

    private string _ProductName;
    public string ProductName
    {
        get { return _ProductName; }
        set { _ProductName = value; }
    }

    private double _ProductPrice;
    public double ProductPrice
    {
        get { return _ProductPrice; }
        set { _ProductPrice = value; }
    }

    public Product(int productID,string productName,double productPrice)
    {
        _ProductID = productID;
        _ProductName = productName;
        _ProductPrice = productPrice; 
    }
} 
```

或者

[http://forums.asp.net/t/1275010.aspx/1](http://forums.asp.net/t/1275010.aspx/1)

# android - HTC ONE X+ BLE 与 BlueGiga 模块

> ID：15243082
> 
> 赞同：0
> 
> 时间：2013-03-06T09:10:08.133
> 
> 标签：android, bluetooth-lowenergy

已经有一些关于 Android 和 BLE 的讨论。由于 Android 尚未正式支持 BLE，因此需要其他解决方案。似乎很难找到将BLE连接到Android（设备驱动程序-BLE芯片）的组合。

有人建议使用 HTC One X+ 和 HTC BLE SDK（最佳可用解决方案）。

我现在有 HTC One X+、HTC BLE SDK 和 BlueGiga 112 评估板。

我无法与“心率样本”建立联系。

在我继续使用这些之前，我有一个简单的问题：有人成功地使用了这种组合（HTC One X+、HTC BLE SDK 和 BlueGiga 112 评估板/BlueGiga BLE 模块）吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:12:59.063

我使用 HTC BLE SDK 在蓝牙 Unplugfest 上通过 HTC 连接到 BlueGiga。使用 FMP（[https://code.google.com/p/broadcom-ble/source/browse/#git%2FSamples%2FBleFindMeClient](https://code.google.com/p/broadcom-ble/source/browse/#git%2FSamples%2FBleFindMeClient))，发送高警报级别，然后在板上的 LCD 上显示“HIGH ALERT”。借助 HRM，他们能够通过板上的控件发送不同的心率值。对于心率示例，您可能希望将 connectBckground 调用替换为由按钮触发的连接调用，然后按几次按钮查看日志。在 ADB 重新挂载后，ADB 可以推送一个固定的 Broadcom 堆栈，但现在需要重试几次连接。connectBackground 调用只尝试一次，然后等待很长时间，然后再试一次，等等。以编程方式进行重试时，在成功后进行额外的连接调用是无害的，因为它只是被忽略了。

# android - 通过java在android中为RemoteView设置重力

> ID：15243084
> 
> 赞同：3
> 
> 时间：2013-03-06T09:10:10.247
> 
> 标签：android, android-widget, gravity

我如何通过android中的java代码设置重力，我有一个像这样的Remoteview `RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget);` 我想通过java代码添加重力。我尝试使用这种方式，但它不成功。

```
 views.setGravity(Gravity.CENTER); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T17:46:25.427

答案取决于您要调用该方法的视图类型。如果它是例如 LinearlLayout，这将完成这项工作：

```
rv.setInt(R.id.MyView, "setGravity", Gravity.CENTER); 
```

我在 LinearLayout 和 TextView 上对其进行了测试，它确实适用于布局，但不适用于 TextView。所以我的假设是它只受 ViewGroup 类的支持（您可以通过检查 Android 源代码中的 @android.view.RemotableViewMethod 注释的 setGravity(int) 方法自己检查该假设）。

因此，如果您想以编程方式更改 TextView 的重力，则需要将 TextView 包装在其自己的 LinearLayout 中并改为更改 LinearLayout 的重力，例如使用以下布局：

```
<LinearLayout
    android:id="@+id/day_header_title_wrapper"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <TextView
        android:id="@+id/day_header_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />
</LinearLayout> 
```

并像这样设置重力：

```
rv.setInt(R.id.day_header_title_wrapper, "setGravity", Gravity.CENTER); 
```

# uml - 如何创建特征图？

> ID：15243090
> 
> 赞同：1
> 
> 时间：2013-03-06T09:10:28.520
> 
> 标签：uml, diagram

我有一个大项目，我现在做了 3 年。它有很多额外的小工具可以帮助我完成任务。这些工具中的大多数都太旧了，以至于我忘记了那里有什么。

如何创建功能图以轻松提醒可用的功能？

有一些特殊的 UML 图符号吗？

怎么做？我认为图形版本会比自述文本文件更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:14:49.763

通常，特性显示在 UML 的用例图中。

这些用例稍后可用于创建序列图等。

# perl - 使用 sed 填充空的 CSV 字段？

> ID：15243091
> 
> 赞同：0
> 
> 时间：2013-03-06T09:10:30.500
> 
> 标签：csv, sed, , , sed无法做到这一点，那么, perl, perl, csv, sed

我需要在[csv](/questions/tagged/csv "show questions tagged 'csv'")文件中的所有空单元格（没有任何值）中输入一些值（*例如）。* 如何使用[sed](/questions/tagged/sed "show questions tagged 'sed'")完成？`1`

如果[sed无法做到这一点，那么](/questions/tagged/sed "显示标记为“sed”的问题")[perl](/questions/tagged/perl "显示标记为“perl”的问题")可以做到吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T10:33:45.580

我认为使用[sed](/questions/tagged/sed "显示标记为“sed”的问题")、[awk](/questions/tagged/awk "显示标记为“awk”的问题")或 Perl 一个内衬操作 CSV 文件至少可以说是乐观的。如果格式发生变化，如果其中一个字段包含分隔符怎么办？我建议使用[Text::CSV_XS](https://metacpan.org/module/Text::CSV_XS)，它非常简单高效。通常，诸如您所要求的简单任务只需要几行代码。给定一个正确配置的`Text::CSV_XS`实例 ( `$csv`)，它只需要：

```
while ( my $row = $csv->getline( $in ) ) {
  my @new_row = map { defined $_ ? $_ : 1 } @$row;
  $csv->print( \*STDOUT, \@new_row );
} 
```

如果您仍想直接使用命令行，您可以检查[csv (App::CSV)](https://metacpan.org/module/csv)，IMO 的方法比上述替代方法更明智。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:44:27.427

可以用`awk`. 你可以试试：

```
awk '{for(i=1; i<=NF; i++) if($i=="") $i=1}1' FS=, OFS=, file 
```

## -----

阅读拉森的评论，我意识到他是对的，因为 OP 并没有真正发布可以显示引用字段是否会出现的示例。我试图找到一种更简单的更通用的方法来考虑这一点。 .

```
awk '
  {
    for(i=1; i<=NF; i++) {                              # For every field
      if($i=="")                                        # it is empty 
        $i=1                                            # then make it 1 requirement OP
      else {
        f=$i                                            # set `f` to the current field
        while( gsub(/"/,"&",f )%2 && i<NF ) f=f $(++i)  # while the total number of double quotes is odd, keep adding the next field to the current field and ignore it..
      }
    }
  }
  1                                                     # print the record
' FS=, OFS=, file                                       # set the I/O field separators to `,` 
```

或者在一行中：

```
awk '{for(i=1; i<=NF; i++) if($i=="") $i=1; else { f=$i; while( gsub(/"/,"&",f)%2 && i<NF) f=f $(++i)}}1' FS=, OFS=, file 
```

使用此输入进行测试：

```
,1997,Ford,,"Super, ""luxurious"" ,,,truck",,
0,1997,Ford,,"Super, ""luxurious"" ,,,truck",,,, 
```

出品：

```
1,1997,Ford,1,"Super, ""luxurious"" ,,,truck",1,1
0,1997,Ford,1,"Super, ""luxurious"" ,,,truck",1,1,1,1 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T09:20:58.997

怎么样：

```
$ cat file
v,,v,,,v,v,,,,
,,v,,v,v,,,v,,,v
,,,,,,,,,,,,,,

$ sed -e 's/^,/v,/' -e':a;s/,,/,v,/;ta' -e 's/,$/,v/' file
v,v,v,v,v,v,v,v,v,v,v
v,v,v,v,v,v,v,v,v,v,v,v
v,v,v,v,v,v,v,v,v,v,v,v,v,v,v 
```

如果您对更改感到满意，请使用该`-i`选项将更改存储回文件。

```
$ sed -i -e 's/^,/v,/' -e':a;s/,,/,v,/;ta' -e 's/,$/,v/' file 
```

# c# - WCF 不反序列化值类型。神秘行为

> ID：15243094
> 
> 赞同：4
> 
> 时间：2013-03-06T09:10:50.600
> 
> 标签：c#, .net, wcf, c#-4.0

服务代码：

```
[ServiceContract]
    public interface IServices
    {
        [OperationContract]
        [XmlSerializerFormat]
        GetProductsResponse Getproducts(GetProductsRequest productsrequest);

    [OperationContract]
    SaveProductsResponse SaveProducts1(SaveProductsRequest1 productsrequest);
} 

public class GetProductsRequest
{
    [XMLElement]
    public string id;

    [XMLElement,typeof(Person)]
    public Person[] Persons;
}

[DataContract]
public class SaveProductsRequest1
{
    [DataMember]
    public List<Person> Persons;
}

[DataContract]
public class Person
{
    [DataMember]
    public int Id;

    [DataMember]
    public string Name;

    [DataMember]
    public Sex Sex;
}

[DataContract]
public enum Sex
{
    [EnumMember]
    Male,
    [EnumMember]
    Female
} 
```

客户 ：

```
ServicesClient client = new ServicesClient();
SaveProductsRequest1 req = new SaveProductsRequest1();
req.Persons = new List<Person> { new Person { Id = 10, Name = "Al", Sex = Sex.Female} }.ToArray();

client.SaveProducts1(req); 
```

我能够在服务端获得值“Al”（字符串）。但是值 10 和 Male（值类型）在服务端被重置为默认值（0 和 Male）。

这只发生在当我将 XMLElement 用于任何数组属性和一个附加字符串属性时，我在服务合同（在本例中为 GetProducts）和我的 GetProducts 类中为我的任何一种方法设置了 XmlSerializerFormat。

WCF 运行时有问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:39:54.747

我已经使用您的服务器端代码设置了一个测试 WCF 服务，并使用您的示例客户端代码再次设置了一个测试客户端，它工作正常：

![在此处输入图像描述](../Images/d36cdca63ef119320e31a2285e0a4feb.png)

如您所见，1`Person`的所有 3 个值都完好无损地传输。如果您最后发生了一些不同的事情，它*可能*与您的配置文件中的配置选项有关，但从根本上说：代码有效。我正在使用 .NET 4.5 进行测试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:30:12.923

> 仅当我在服务合同中的任何一种方法（在本例中为 GetProducts）具有 XmlSerializerFormat 时，才会发生这种情况。

在这种情况下，WCF 用于`XmlSerializer`序列化数据。因此既不`[DataContract]`也不`[DataMember]`适用。如果确实必须使用`XmlSerializer`，并且需要进一步控制 XML 序列化，则需要使用其特定属性，例如`[XmlElement]`、`[XmlAttrribute]`、`[XmlIgnore]`。明确的做法是一种很好的做法，以避免因无意重命名字段或属性而引起的难以发现的问题：

```
public class Person
{
    [XmlElement("Id")]
    public int Id { get; set; }

    [XmlElement("Name")]
    public string Name { get; set; }

    [XmlIgnore] // don't tell the stranger
    public Sex Sex { get; set; }
} 
```

另请注意，`[Serializable]`属性与 XML 序列化和数据协定序列化无关。*它仅*与*二进制*序列化有关。

 ** * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:32:34.320

您的服务合同是否装饰有以下`ServiceContract`属性：

```
[ServiceContract]
public interface IServices
{
    // ...
} 
```

我只是希望你在这里没有向我们展示不同的东西。*

# html - 在表单搜索中结合 input-prepend 和 input-append

> ID：15243095
> 
> 赞同：0
> 
> 时间：2013-03-06T09:10:53.113
> 
> 标签：html, css, twitter-bootstrap

我正在使用引导程序来设计我的网站。

我注意到这样做时：

```
 <form class="form-search  navbar-search pull-right">
                <div class="input-append input-prepend">
                    <span class="add-on"><i class="icon-search"></i></span>
                    <input id="searchQuery" class="search-query" type="search" placeholder="Rechercher" />
                    <a class="btn add-on" href="#">Rechercher</a>
                </div> 
```

输入文本框仍然在左侧四舍五入。查看css时不应该是这种情况：

```
.form-search .input-append .search-query,
.form-search .input-prepend .search-query {
 -webkit-border-radius: 0;
 -moz-border-radius: 0;
      border-radius: 0; 
```

}

难道我做错了什么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:28:56.907

您可以通过以下方式创建表单：

Jsfiddle [演示](http://jsfiddle.net/shail/mfCAY/)

```
<form class="form-search  navbar-search pull-right">
<div class="input-append input-prepend"> <span class="add-on"><i class="icon-search"></i></span>

<input id="searchQuery" type="search" placeholder="Rechercher" /> <div class="btn-group">
            <button  class="btn">Rechercher</button>

          </div>

  </form> 
```

他们已经定义了border-radius 0，因此不需要额外的类来附加输入来设置border-radius 0：

```
.input-prepend.input-append input, .input-prepend.input-append select, .input-prepend.input-append .uneditable-input {

border-radius: 0 0 0 0;

   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:32:49.480

您的课程“.search-query”的问题

包括风格..

```
.form-search .input-prepend .search-query {
    border-radius: 0 14px 14px 0;
} 
```

删除搜索查询类

# android - CSS旋转不适用于android（phonegap）

> ID：15243096
> 
> 赞同：4
> 
> 时间：2013-03-06T09:10:53.360
> 
> 标签：android, css, cordova, rotation

我正在 phonegap 中为 android 构建一个应用程序，但我遇到了使用 css 旋转 div 的问题。我在这里发现了一个类似的问题：
[CSS rotation not applied in Android 4.0 webview](https://stackoverflow.com/questions/9359543/css-rotation-not-applied-in-android-4-0-webview/)

我有 2 台 android 设备，我可以在上面测试我的应用程序。第一个是带有`android 4.0.4`. 在此设备上，该应用程序可以完美运行。

另一台设备是 HTC Desire，带有`android 2.3.5`. 该设备的 css 旋转存在问题。当页面加载时，图像会正确旋转，但会立即变回“正常”。

我正在使用的 css 规则是 -`webkit-transform:rotate(90);`在普通 div 上。这可能是系统的android版本的问题吗？

我在这里无法解决问题，旋转似乎在第二台设备上起作用，但只能持续一秒钟左右。

任何建议，将不胜感激 ：）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T09:29:50.317

Android 2.x[似乎支持](http://caniuse.com/#feat=transforms2d)带有 -webkit- 前缀的 CSS3 转换，但有一个问题。

这个奇怪的错误来自自定义设置视口。如果您为 iOS 和 Android 提供自定义视口，则必须设置`user-scalable=yes`. 如果`user-scalable`设置为**no**，则会出现此错误。

例如：

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=yes"> 
```

将正常工作，但类似

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"> 
```

会显示不正确

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:30:43.150

**[更新]**

为防止您的 div 恢复其原始状态，请尝试添加`-webkit-animation-fill-mode: forwards;`到您的 div 的 css ：

```
#yourDiv {
  -webkit-animation-fill-mode: forwards; /* Set the last frame as persistent */
  -webkit-animation-name: rotate;
  -webkit-animation-duration: 1s;        /* Set the duration as you wish */
}

@-webkit-keyframes rotate {
  from {
    -webkit-transform: rotate(0deg);
  }
  to {
    -webkit-transform: rotate(90deg);
  }
} 
```

如果这不起作用，请尝试将最终状态添加到`#yourDiv` `-webkit-transform: rotate(90deg);`.

如果它**仍然**不起作用，您可以使用一些 JS 在动画结束时向您的 div 添加一个类以修复最终状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:26:14.860

试试这个：

```
@media screen and (orientation:portrait) { … }
@media screen and (orientation:landscape) { … } 
```

媒体查询的 CSS 定义在[css3 文档中](http://www.w3.org/TR/css3-mediaqueries/#orientation)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-21T08:29:51.050

我已经尝试了所有可能的解决方案，它只在我使用 webkit-transform:rotate(90); 时才有效。两次。

这是它如何工作的示例：

```
<div data-role="content" style="webkit-transform:rotate(90);">
<div style="webkit-transform:rotate(90);">Stuff to rotate</div>
</div> 
```

但是，当然，这在其他设备上无法正常运行。

这不是一个真正的解决方案，但我只是排除了 Android 4.0.4 之前的任何设备

# asp.net - 从 vb.net 中的 Excel 文件加载数据

> ID：15243102
> 
> 赞同：0
> 
> 时间：2013-03-06T09:11:08.673
> 
> 标签：asp.net, vb.net, excel, vba

我有这个问题。我有一个在 vb.net 中编码的应用程序，我有一个 FileUpload 控件，用户必须在其中选择一个 Excel 文件，并且在用户单击按钮后，我必须从 Excel 文件加载数据以填充 GridView。

我完全不知道我该怎么做。当我尝试选择用户选择的文件时，它不会打开任何内容并显示错误

如何打开用户选择的文件？

编辑：我不知道问题是否足够清楚，但我想知道如何打开用户在 FileUpload 控件中选择的文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:16:16.667

有几种解决方案： 1.安装excel并使用interop加载数据。不要这样做！它很慢，容易出错，是一场噩梦，而且很慢。2\. 使用 EPPLUS（仅限现代文件）或 aspose.cells 之类的库来读取数据。

# mysql - Wordpress JOIN wp_post 和 wp_postmeta

> ID：15243114
> 
> 赞同：1
> 
> 时间：2013-03-06T09:11:33.877
> 
> 标签：mysql, wordpress, join

我正在尝试使用此查询同时搜索 wp_post 和 wp_postmeta：

```
$querystr = "
    SELECT $wpdb->posts.* 
    FROM $wpdb->posts, $wpdb->postmeta
    WHERE $wpdb->posts.ID = $wpdb->postmeta.post_id 
    AND $wpdb->postmeta.meta_key = 'City' 
    AND $wpdb->postmeta.meta_value = 'Vancouver'
    AND $wpdb->posts.post_status = 'publish' 
    AND $wpdb->posts.post_type = 'talents'
    ORDER BY $wpdb->posts.post_date DESC
 ";

$pageposts = $wpdb->get_results($querystr, OBJECT); 
```

如您所见，我搜索以 City=Vancouver 作为元字段的帖子。但是我如何再添加一个条件，这样我就不会把温哥华，不列颠哥伦比亚省和温哥华，WA 放在一起？

之类的：

```
 AND ($wpdb->postmeta.meta_key = 'Country' 
    AND $wpdb->postmeta.meta_value = 'Canada')
    AND ($wpdb->postmeta.meta_key = 'City' 
    AND $wpdb->postmeta.meta_value = 'Vancouver') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:54:58.890

基于上面提到的链接，我能够创建这个模式来搜索基于 3 个元值和 1 个自定义分类的自定义 posts_types。

所以我的结构是：

1.  每个自定义帖子（人才）都有 3 个自定义字段（城市、国家、性别）。
2.  每个自定义帖子都属于具有特定类别的自定义分类“语言”，例如英语、西班牙语、俄语等。

所以下面的查询是在加拿大多伦多寻找会说法语的女性。

```
$querystr= "SELECT * FROM wp_posts
LEFT JOIN wp_postmeta v1 ON (wp_posts.ID = v1.post_id)
LEFT JOIN wp_postmeta v2 ON (wp_posts.ID = v2.post_id)
LEFT JOIN wp_postmeta v3 ON (wp_posts.ID = v3.post_id)
LEFT JOIN wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
LEFT JOIN wp_term_taxonomy ON (wp_term_relationships.term_taxonomy_id = wp_term_taxonomy.term_taxonomy_id)
LEFT JOIN wp_terms ON (wp_term_taxonomy.term_id = wp_terms.term_id) 
WHERE
wp_terms.name = 'French' AND wp_term_taxonomy.taxonomy = 'Languages' AND wp_posts.post_status = 'publish' AND wp_posts.post_type = 'talents' 
AND v1.meta_value = 'Toronto'
AND v2.meta_value = 'Canada'
AND v3.meta_value = 'female' 
ORDER BY wp_posts.post_date DESC"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:34:46.927

我认为下面的代码可能会对您有所帮助。如果您有任何疑问，请告诉我。

```
$args = array(
'post_type' => 'talents',
'posts_per_page' => 10,
'meta_query' => array(
   array(
       'key' => 'City',
       'value' => 'Vancouver',
       'compare' =>  '=',
       'type' => 'CHAR'
        )

),
    'paged' => $paged

);
$temp = $wp_query;
$wp_query = null;

                $wp_query = new WP_Query( $args );
        <?php while (have_posts()) : the_post(); 
            global $post;
/* Your Post content Here                */

endwhile;

wp_reset_query();
/* Pagination Code */
<?php
    global $wp_query;

  $big = 999999999; // need an unlikely integer

echo paginate_links( array(
    'base' => str_replace( $big, '%#%', esc_url( get_pagenum_link( $big ) ) ),
    'format' => '?paged=%#%',
    'current' => max( 1, get_query_var('paged') ),
    'total' => $wp_query->max_num_pages,
    'prev_text'    => __('Previous'),
    'next_text'    => __('Next'),
    'add_fragment' => __($search_page_link)
) );
?> 
```

您还可以在元值上添加多个条件。网址：- [https://codex.wordpress.org/Class_Reference/WP_Query](https://codex.wordpress.org/Class_Reference/WP_Query)

# mysql - 将两部分 SQL 查询合并为一个查询

> ID：15243117
> 
> 赞同：0
> 
> 时间：2013-03-06T09:11:45.560
> 
> 标签：mysql, sql, join, left-join, inner-join

这就是我所拥有的：

**询问**

```
select
bc.short_desc as cdesc
from
blog_post as bp 
left join blog_post_category_link as blpc on bp.post_id = blpc.post_id
inner join blog_category as bc on blpc.cat_id = bc.cat_id
where bp.post_id = 1 
```

**结果**

```
----------------
| |cdesc       |
----------------
|1|Top level   |
----------------
|2|Sub level   |
----------------
|3|SubSub level|
---------------- 
```

**第二次查询**

```
select
bt.short_desc as tdesc
from
blog_post as bp 
left join blog_post_tag_link as blpt on bp.post_id = blpt.post_id
inner join blog_tag as bt on blpt.tag_id = bt.tag_id
where bp.post_id = 1 
```

**第二个结果**

```
----------------
| |tdesc       |
----------------
|1|Tag1        |
----------------
|2|Tag2        |
---------------- 
```

**加入这两个查询后的期望结果**

```
----------------------
| |cdesc       |tdesc|
----------------------
|1|Top level   |Tag1 |
----------------------
|2|Sub level   |Tag2 |
----------------------
|3|SubSub level|     |
---------------------- 
```

有可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:52:35.670

试试这个查询

```
SET @rn1 = 0;
SET @rn2 = 0;

SELECT t1.rId, t1.cdesc, t2.tdesc
FROM 
(select @rn1 := rn1 + 1 AS rId, bc.short_desc as cdesc
from blog_post as bp 
left join blog_post_category_link as blpc on bp.post_id = blpc.post_id
inner join blog_category as bc on blpc.cat_id = bc.cat_id
where bp.post_id = 1) t1, 
(select @rn2 := rn2 + 1 AS rId, bt.short_desc as tdesc
from blog_post as bp 
left join blog_post_tag_link as blpt on bp.post_id = blpt.post_id
inner join blog_tag as bt on blpt.tag_id = bt.tag_id
where bp.post_id = 1) t2
WHERE t1.rId = t2.rId; 
```

对于 MS SQL 服务器

```
SELECT t1.rId, t1.cdesc, t2.tdesc
FROM 
(select row_number() over(order by bp.post_id) AS rId, bc.short_desc as cdesc
from blog_post as bp 
left join blog_post_category_link as blpc on bp.post_id = blpc.post_id
inner join blog_category as bc on blpc.cat_id = bc.cat_id
where bp.post_id = 1) t1, 
(select row_number() over(order by bp.post_id) AS rId, bt.short_desc as tdesc
from blog_post as bp 
left join blog_post_tag_link as blpt on bp.post_id = blpt.post_id
inner join blog_tag as bt on blpt.tag_id = bt.tag_id
where bp.post_id = 1) t2
WHERE t1.rId = t2.rId; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:27:14.343

使用此模板，只需将上面的查询作为 T1 和 T2 的子查询插入：

```
Select *
from ( 
) T1 
join ( 
) T2  on T2.tdesc = T1.cdesc and T2.Tag1 = T1.TopLevel and T2.Tag2 = T1.SubLevel 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:41:07.100

```
SELECT
bc.short_desc AS cdesc, bt.short_desc AS tdesc
FROM
blog_post AS bp
LEFT JOIN blog_post_category_link AS blpc ON bp.post_id = blpc.post_id
INNER JOIN blog_category AS bc ON blpc.cat_id = bc.cat_id
LEFT JOIN blog_post_tag_link AS blpt ON bp.post_id = blpt.post_id
INNER JOIN blog_tag AS bt ON blpt.tag_id = bt.tag_id
WHERE bp.post_id = 1 
```

# java - 访问在其他包的其他类中定义的字符串变量

> ID：15243120
> 
> 赞同：0
> 
> 时间：2013-03-06T09:11:48.773
> 
> 标签：java, android, scope

虽然看起来很简单，但我还是低下了头。

所以我有我的类**Common.java**作为：

```
 package com.spil.util;
       public class Common extends Fragment implements SubscriptionListener
         {
           String WEBSERVICE = "http://webservice.carrierservice.com/";  
         } 
```

类**DownloadDataActivity.java**为：

```
package com.spil.main;
public class DownloadDataActivity extends TimerTask {
String WEBSERVICE = "http://webservice.carrierservice.com/";    
} 
```

我不想`string WEBSERVICE`重复，所以我想从 Common.java 访问它。

所以我`Common.java`改为`string WEBSERVICE`：

```
 public static String WEBSERVICE = "http://webservice.carrierservice.com/"; 
```

然后在 中`DownloadDataActivity.java`，我将其访问为：

```
public static String WEBSERVICE = Common.WEBSERVICE ; 
```

这很好用，但我的问题是：

**将字符串变量**更改为**公共静态字符串变量**只是为了在另一个类中访问它是一个好习惯，以及它将如何影响范围，因为我假设将此 url 设为公共将允许从任何地方访问它？

但是除了在每个类中定义两次 URL 之外，我没有找到任何替代方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:41:21.267

好吧，您可以声明一个常量 String 并将其保存在可以在应用程序级别访问的 Constants 类中。

```
public final class Constants {
    public static final String WEBSERVICE = "http://webservice.carrierservice.com/";
    // other application level constants
} 
```

使用静态导入 as 访问应用程序中任何位置的常量：

```
package com.spil.main;

import static comp.app.util.Constants.WEBSERVICE;

public class DownloadDataActivity extends TimerTask {
   someMethod() {
      makeCallToService(WEBSERVICE, otherParams);
   }
} 
```

这将是正确的做法。

要使用常量，好的做法是在各个类中使用常量，前提是这些常量不会在任何地方使用。

如果要从整个应用程序访问常量，您可以像上面一样在一个类中定义这些常量并使用上述方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:14:20.960

是的，public 将使您可以从*应用程序*中的任何位置访问它。
这取决于字符串是否包含一些您不想暴露给代码其他部分的信息。您不希望其他开发人员（或您自己）从其他任何地方意外/无意地访问它，然后将其设为私有。
否则，即使意外访问也不会造成任何伤害，那么将其公开就可以了，这样您就可以避免几行冗余代码。
第二部分是如果您想允许其他部分更新您的属性。此外，如果您想对 String 使用相同的值，请使其成为最终值。
这可能有助于[类属性声明：私有与公共](https://stackoverflow.com/questions/712167/class-attribute-declaration-private-vs-public)

# cordova - 前景相机插件将相机设置为纵向并修复拉伸预览

> ID：15243121
> 
> 赞同：0
> 
> 时间：2013-03-06T09:11:52.317
> 
> 标签：cordova, phonegap-plugins

前景相机插件设置为横向默认如何将相机设置为纵向？我将 xml 设置为纵向，但似乎找不到如何更改相机预览方向。

更新：添加了以下内容来修复 lanscape

```
Camera.Parameters parameters = mCamera.getParameters();
parameters.setPictureFormat(PixelFormat.JPEG); 
parameters.set("orientation", "portrait");
parameters.setRotation(90);
mCamera.setParameters(parameters);
mCamera.setDisplayOrientation(90); 
```

这是我当前创建方形预览的代码

```
getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);  
int wwidth = displaymetrics.widthPixels;
mFrameLayout.getLayoutParams().height = wwidth;
mFrameLayout.getLayoutParams().width = wwidth; 
```

但是预览被拉伸，图片似乎被拉伸。

1.  如何获得不会拉伸视图的特定宽度所需的高度？

2.  我可以隐藏底部多余的部分吗？（因为拍照后会被裁剪掉）

3.  还发现相机似乎被放大了，拍摄的照片和你在预览中看到的不一样，它有更多的内容。

谁能给我一些提示？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-21T18:36:27.423

要修复更改方向时的拉伸，请在调用 mCamera.setPreviewDisplay() 之前将这些行添加到 ForegroundCameraPreview.java 文件中的“surfaceChanged”方法

```
android.hardware.Camera.CameraInfo info = new android.hardware.Camera.CameraInfo();
android.hardware.Camera.getCameraInfo(Camera.CameraInfo.CAMERA_FACING_BACK, info);
int rotation = mActivity.getWindowManager().getDefaultDisplay().getRotation();
int degrees = 0;
switch (rotation) {
    case Surface.ROTATION_0: degrees = 0; break;
    case Surface.ROTATION_90: degrees = 90; break;
    case Surface.ROTATION_180: degrees = 180; break;
    case Surface.ROTATION_270: degrees = 270; break;
}    
int result;
result = (info.orientation - degrees + 360) % 360;

mCamera.setDisplayOrientation(result); 
```

您需要从 CameraActivity 获取活动（mActivity）（例如将其传递给 ForegroundCameraPreview 的构造函数并将其保存到私有变量等）

# wpf - 如何获取网格行的数据上下文

> ID：15243132
> 
> 赞同：2
> 
> 时间：2013-03-06T09:12:30.583
> 
> 标签：wpf, data-binding, datacontext

我有一个 Datagrid，其中的行绑定到视图模型。

在我的第一列中，我有一个图像控件，它绑定到行中的 itemno。这工作正常。

现在，我想要在这张图片上显示一个更大版本的图片的工具提示。我认为这很容易，但我已经意识到，工具提示可能没有获得该行的数据上下文。

那么，如何获取工具提示，以绑定到与行绑定的相同数据？在我下面的代码中，工具提示上的 ItemNo 为空，但在“父”图像控件上，它具有正确的值。

```
<DataGridTemplateColumn Header="Image" IsReadOnly="True">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <controls:ItemImage Width="16" Height="16" DataContext="{Binding ItemNo, IsAsync=True}" >
                                        <controls:ItemImage.ToolTip>
                                            <StackPanel>
                                                <controls:ItemImage Width="300" Height="300" DataContext="{Binding ItemNo, IsAsync=True}" />
                                                <Label Content="{Binding ItemNo}" />
                                            </StackPanel>
                                        </controls:ItemImage.ToolTip>
                                    </controls:ItemImage>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T10:08:25.100

默认情况下，您的工具提示 dataContext 已设置为 ItemNo；这就是为什么将其重置为：

`<controls:ItemImage Width="300" Height="300" DataContext="{Binding ItemNo, IsAsync=True}" />`
...不起作用。

只需删除`DataContext="{Binding ItemNo, IsAsync=True}"`

使用[snoop](http://snoopwpf.codeplex.com/)它将帮助您解决 viewwing 绑定错误或已设置的 dataContext。

# html - html 锚可以与任何标签一起使用吗？

> ID：15243136
> 
> 赞同：1
> 
> 时间：2013-03-06T09:12:50.010
> 
> 标签：html, hyperlink, anchor

我有一个很长的页面，看起来像这样

```
<h2 id="chapter55">Chapter 55</chapter> 
```

我像这样链接到它：`page.html#chapter55`，令人惊讶的是，它直接跳到第 55 章。

这是一个惊喜，因为我不知道你可以锚定到任何标签，我认为只有`<a...`标签可以锚定。

我可以相信这个工作吗？这是一个标准，还是至少得到广泛支持？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T09:16:05.237

是的，这适用于任何标签，您可以像这样跳转到页面上的任何 ID： [html 锚点是否适用于任何标签？](https://stackoverflow.com/questions/15243136/does-html-anchor-work-with-any-tag#h-related)此链接跳转到相关侧边栏 ==>

您很可能有点困惑，因为您需要一个`a`标签来链接到指定的 ID，但 ID 本身可以位于您想要的任何标签上。:)

```
<a href="#h-related">Jump to the related sidebar!</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:20:02.900

是的，从 HTML 4 开始，您几乎可以通过分配一个 id 使每个元素成为锚点，如下所示：

```
<h1><a name="heading">Heading</a></h1>
<a href="#heading">go to heading</a> 
```

也相等

```
<h1 id="heading">Heading</h1>
<a href="#heading">go to heading</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:09:52.580

自 1997 年获得批准的 HTML 4.0 以来，几乎在任何元素上使用该`id`属性已成为标准。（HTML5 RC 进一步扩展了一些东西，几乎允许`id`任何元素。）

相关浏览器长期支持。Netscape 3 可能是最后一个不支持该`id`属性的浏览器。

HTML5 RC 甚至*需要*`id`在设置目标锚点时使用：它声明`a name`为已过时（尽管它会继续在浏览器中工作）。

请注意，您甚至可以链接到整个部分（这可能有一些好处，特别是如果您想使用`:target`伪类在 CSS 中突出显示目标）：

```
<div id="chapter55">
<h2>Some heading</h2>
Chapter content
</div> 
```

# c# - Windows 8 天气应用程序的动态磁贴刷新频率

> ID：15243139
> 
> 赞同：1
> 
> 时间：2013-03-06T09:13:04.953
> 
> 标签：c#, windows-8, microsoft-metro, windows-runtime, windows-store-apps

有谁知道预装在 Windows 8 中的天气预报应用程序多久刷新一次动态磁贴上的数据？我正在尝试创建一个小型天气应用程序，并且正在从 ac# webservice(asmx) 获取天气数据。我想每 5-10 分钟刷新一次数据。现在，我创建了一个后台任务，它允许我每 15 分钟刷新一次数据，但我不喜欢用户可以选择打开/关闭后台任务的事实。看起来 Windows 8 天气应用程序没有使用后台任务。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:21:43.743

不幸的是，这些是您必须处理的第三方应用程序的参数。预安装的 Weather 应用程序不受这些限制，因为它是 Microsoft 应用程序 - 它们不受与我们相同的限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T16:58:29.673

预装的天气应用程序使用[定期磁贴更新](http://msdn.microsoft.com/en-us/library/windows/apps/hh779721.aspx)来每 30 分钟更新一次实时磁贴。定期更新不需要后台任务 - 一旦应用设置了定期更新，无论应用是否正在运行，Windows 都会检索新的动态磁贴内容。

每 5-10 分钟刷新一次数据似乎有点过分。对于天气应用程序，更新磁贴的频率不应超过每 30 分钟一次。

话虽如此，如果您想比每 30 分钟更频繁地更新磁贴，则需要使用后台任务或推送通知。每个都有其缺点。后台任务的粒度至少为 15 分钟，正如您在问题中所述，用户可以降低运行频率。推送通知增加了复杂性，但可用于提供即时实时磁贴更新。

推送通知和定期更新在 MSDN 上的同一个[C# 示例中。](http://code.msdn.microsoft.com/windowsapps/Push-and-periodic-de225603)

# javascript - 邀请朋友加入粉丝页面

> ID：15243144
> 
> 赞同：0
> 
> 时间：2013-03-06T09:13:15.467
> 
> 标签：javascript, web, facebook-javascript-sdk, invite

我有一个带有按钮的网页，用于邀请朋友到 facebook 上的粉丝页面，我显示邀请朋友弹出窗口，但如果我邀请朋友，他会收到我用于声明 de FB js objetc 的应用程序的邀请，可以邀请朋友脸书页面或其他网址？我的网页不在脸书上。Y把我的代码：

`//代码JS

```
window.fbAsyncInit = function () {
        // init the FB JS SDK
        FB.init({
            appId: 'ID OF MY APP', // App ID from the App Dashboard
            channelUrl: '', // Channel File for x-domain communication
            status: true, // check the login status upon init?
            cookie: true, // set sessions cookies to allow your server to access the session?
            xfbml: true  // parse XFBML tags on this page?
        });

        // Additional initialization code such as adding Event Listeners goes here
        FB.Event.subscribe('edge.create', function (response) { alert('You liked the URL: ' + response); });
    };

    // Load the SDK's source Asynchronously
    // Note that the debug version is being actively developed and might 
    // contain some type checks that are overly strict. 
    // Please report such bugs using the bugs tool.
    (function (d, debug) {
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) { return; }
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/es_LA/all" + (debug ? "/debug" : "") + ".js";
        ref.parentNode.insertBefore(js, ref);
    }(document, /*debug*/ false));
    function ListaAmigos() {
        FB.ui({
            method: 'apprequests',
            message: 'Hello'
        }, respuesta);
        //FB.getLoginStatus(onFacebookInitialLoginStatus);
    }` 
```

谢谢你的帮助，对不起我的英语不好！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T17:40:10.480

我用一个小技巧解决了这个问题，这个邀请重定向到我的 facebook 应用程序，但是有一些参数，如果页面接收到这个参数，我会重定向到 fanpage

# android - 如何滚动 EditTexts 的 ScrollView？

> ID：15243145
> 
> 赞同：0
> 
> 时间：2013-03-06T09:13:15.543
> 
> 标签：android, android-edittext, android-scrollview

我有以下布局：

```
<ScrollView>
    <LinearLayout>
        <EditText/>
        <EditText/>
        ...
        <EditText/>
    </LinearLayout>
</ScrollView> 
```

`EditText`s 被动态添加到`ScrollView`.

`EditText`s 应该是可聚焦的（至少`focusableInTouchMode`）

问题是 - 如何通过触摸其中一个`EditText`s 并做出滚动手势来滚动该视图），因为现在只有在触摸`EditText`s 外部时才滚动作品？有可能吗？

**UPD**将第一个答案标记为解决方案（使用简单的解决方案来提供滚动），因为我的问题不正确并且答案是正确的 - 我的滚动问题是`ScrollView`在另一个内部使用的结果`ScrollView`。

抱歉误导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:16:58.457

一个 ScrollView 只能有一个孩子，所以你应该在 ScrollView 中创建一个 LinearLayout，然后将 EditTexts 添加到它。然后，滚动应在必要时自动工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:26:31.430

设置

`android:marginLeft=10dp android:marginRight=10dp`

这样它在左右两侧都有一些空间可以滚动。当然，如果整个屏幕都被其中`EditTexts`一个填满，那么当用户点击滚动时，它们就会成为焦点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:31:02.860

将此属性设置为您的编辑文本

```
android:windowSoftInputMode="stateHidden"
android:focusableInTouchMode="false" 
```

# android - 如何以编程方式在android中接听电话？

> ID：15243146
> 
> 赞同：2
> 
> 时间：2013-03-06T09:13:16.483
> 
> 标签：android, call

我正在开发一个应用程序（用于 Froyo 及更高版本），其中一个功能是在接到电话后立即自动接听电话。我在这个主题上搜索了很多 - 有人说这是不允许的，有些人已经找到了解决方法。他们正在使用`com.android.internal.telephony.ITelephony`Eclipse 所说的不存在（..sort，我得到了那个灯泡和红十字）。你能提出一些建议吗？如果您知道任何链接/代码，请在此处发布！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:16:34.993

你应该在你的项目中创建一个包 com.android.internal.telephony，把 ITelephony.java 放在那里。在该接口 fin=le 中，您应该声明要在项目中使用的 ITelephony 方法。所有这些都是为了让 java 编译器不会抱怨丢失的文件。

之后，使用反射 API 在运行时获取实际的 ITelephony 实现。以下是有关该主题的更多信息： [如何将 ITelephony.aidl 添加到 Eclipse？](https://stackoverflow.com/questions/10662451/how-do-i-add-itelephony-aidl-to-eclipse)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-05T16:01:36.253

在 android 2.3 及以上版本中是不可能的。

# c++ - 在析构函数中删除 p 执行

> ID：15243152
> 
> 赞同：0
> 
> 时间：2013-03-06T09:13:33.990
> 
> 标签：c++, memory-management, delete-operator

我确实对使用`delete p`. 在大多数情况下，如果我们会调用某些东西，我们会在析构函数中调用 delete，`int *p = new int (10);`但是根据下面的代码片段（delete p 的原始代码），它已经调用了析构函数，然后调用运算符 delete，那么为什么我们应该在析构函数中调用 delete p .

原始代码：

```
delete a;
if (a != NULL) {
  a->~A();
  operator delete(a);
} 
```

我们将 delete 称为内部析构函数的代码片段

```
class B
{
  int *a;
  public:
  B()
  {
    a=new int(90);
  }
  ~B()
  {
    cout<<"B's destructor";
    delete a;
  }
  void dial()
  {
    cout<<"dial the tone";
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:22:07.703

不要那样做！这是双重破坏和双重释放

```
delete a;             // calls destructor and then frees the memory
if (a != NULL) {
  a->~A();            // calls destructor again
  operator delete(a); // frees memory again
} 
```

这个没问题，因为你在构造函数中分配了内存

```
~B()
{
    cout<<"B's destructor";
    delete a;
} 
```

使用[c++11](/questions/tagged/c%2b%2b11 "显示标记为“c++11”的问题")，您可以[`std::unique_ptr`](http://en.cppreference.com/w/cpp/memory/unique_ptr)改用

```
class B
{
    std::unique_ptr<int> a;
public:
    B() : a(new int(90));
    {
    }
    ~B()
    {
        cout<<"B's destructor";
        // std::unique_ptr will take care of memory
        // no delete a neccessary
    }
    ...
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:45:32.267

在所有 new 动态分配内存的地方，我们需要使用**operator delete**来释放内存。请查看下面提到的链接中的描述。 [http://en.cppreference.com/w/cpp/memory/new/operator_delete](http://en.cppreference.com/w/cpp/memory/new/operator_delete)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:16:02.113

功能`operator delete`和`delete expression`不一样。默认`operator delete`只释放内存，但表达式在释放内存之前调用析构函数。阅读[http://en.cppreference.com/w/cpp/language/delete](http://en.cppreference.com/w/cpp/language/delete)

```
delete a;
if (a != NULL) {
  a->~A();
  operator delete(a);
} 
```

非常非常奇怪的片段。这里有UB。

# yacc - Flex/Yacc：SQL 字符串文字的正则表达式是什么？

> ID：15243155
> 
> 赞同：0
> 
> 时间：2013-03-06T09:13:41.613
> 
> 标签：yacc, flex-lexer

我有以下规则：

```
string_literal \'(\\.|[^\\'])*\' 
```

但这是假设 ' 用反斜杠转义，但在 SQL 中，您也可以使用 '' 来表示单引号。什么是正确的正则表达式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:25:48.523

我调整了这个解决方案：

```
string_literal '([^\']|''|\')*' 
```

从这篇其他帖子[https://stackoverflow.com/a/6718928/1470961](https://stackoverflow.com/a/6718928/1470961)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-10T11:00:34.833

转义字符不仅可以是<单引号>，还可以是任何字符。所以这里有2个选择：

```
('(\\.|[^'])*')+ 
```

或者

```
'(\\.|''|[^'])*' 
```

# javascript - 我希望能够单击表格行以居中并放大标记

> ID：15243157
> 
> 赞同：0
> 
> 时间：2013-03-06T09:13:47.387
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3

在我的地图上，它加载了一个表格，左侧是地点列表，右侧是地图，我希望能够单击表格行并将其置于地图中心并放大标记。我像这样加载表格行：

```
 <table id="listOfStops" class="table table-striped">
  <thead>
  <tr>
    <th>Stop #</th>
    <th>Street Name</th>
  </tr>
  </thead>
  <tbody>
  <?php
  $i = 0;
  while($stmt -> fetch()) {
    echo '<tr  id="arrMarker[' . $i . ']">';
    echo '<td>' . $gStopNumber . '</td>';
    echo '<td>' . $gStreetName . '</td>';
    echo '</tr>';
  $i++;} $stmt -> close(); $mysqli -> close(); ?>  
  </tbody>
  </table> 
```

现在我只需要 JQuery 来完成我尝试过谷歌搜索的任务，但我想它不像你想象的那么受欢迎。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:11:55.260

我做过类似的事情，所以我会告诉你我做的方式。

创建标记时，请确保给它一个“id”（最好带有数字元素），并将标记添加到数组中。

```
var map;  // A  reference to 'the' Google map 
var markers = [];
var num = 1; // Increment for additional markers
var _id = 'marker'+num;
var _title = 'Marker ' + num;
var _pos = new google.maps.LatLng(lat, lng);
var zoom = 6;

var _marker = new google.maps.Marker({
    id: _id,
    position: _pos,
    map: map,
    title: _title,
   animation : google.maps.Animation.DROP
});

markers.push(_marker); 
```

给你的 TR 元素在其 id 中对应的数字，或 data-num 属性（包含 id 数字部分），并按如下方式绑定点击事件：

```
$("#listOfStops").children("tr").each(function() {
    $(this).on(
        'click',
        function() {
            var num = $(this).data("num"); // Assuming you've given it a data attribute
            for (var i = 0; i < markers.length; i++) {
                if (markers[i].id=='marker'+num) {
                    map.setCenter(markers[i].position);
                    map.setZoom(zoom);
                    break;
                }
            }
        }
    );
}); 
```

# javascript - URL 更改时调用 javascript 函数

> ID：15243158
> 
> 赞同：1
> 
> 时间：2013-03-06T09:13:48.417
> 
> 标签：javascript, url

我不确定我在寻找哪个主题，但这里是我想要实现的目标的描述：

*   当 URL 更改时，应该调用 javascript 方法而不是尝试加载该 URL 的页面。

我尝试这样做的原因是出于 SEO 的目的，我需要使用分段 URL。但是，我也在尝试使用预加载的 HTML 模板即时创建“新页面”。因此，我不想加载新页面，而只想调用将使用模板呈现页面的关联方法。

这种行为可能吗？

注意：我认为值得一提的是，现有系统目前使用 URL 哈希来检测是否会加载新页面。

问候，

欧文

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:20:48.993

您需要将点击处理程序附加到您阻止默认操作并执行重定向的所有链接。使用 jQuery，这可以很简单：

```
$(document).ready(function () {
  $('a').on('click', function () {
    $(location).attr('href','your_url'); // redirect wherever you want to go
    return false;
  });    
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:46:33.707

我最近做了类似的事情。
假设我了解您所追求的，这是在哈希更改时执行函数的侦听器

```
var last_hash = "";

setInterval(function(){
    hash = window.location.hash;

    if(last_hash != hash && hash.length != 1){
        hash = hash.substring(1)

        //Making sure that there's actually a function with that name
        if(typeof window[hash] == 'function'){
            var fn = window[hash];

            //Execute the function
            fn.apply({param: "param1"}, ["param1", "param2"]);
        }
        last_hash = window.location.hash;
    }
}, 250); 
```

您可以通过分离函数名称和参数来对哈希进行一些额外的解析，然后将所有参数添加到数组以传递给`.apply`，但我将这部分留给您。

如果您使用的是实际 url 而不是散列，只需确保阻止页面上链接的默认行为，以及之后您随后加载的任何链接。

```
function attach_disablelinks(){
    $("a").on("click", function(e){
        e.preventDefault();
    });
} 
```

# java - 如何使用 File 对象在 maven webapp 中加载属性文件？

> ID：15243165
> 
> 赞同：0
> 
> 时间：2013-03-06T09:13:59.160
> 
> 标签：java, maven, web-applications, classpath

方法

```
getResourceAsStream 
```

工作正常，但我还需要检查文件是否被修改。这是使用 File 对象的原因。我无法实现这个目标。

```
File file = new File("goods.props") 
```

在 JUnit 环境中工作正常，但在 webapp 中我得到一个 FileNotFoundException。

事实上，我在下一行插入代码加载道具文件：

```
File file = new File(".")
Sysout(file.getAbsolutePath()) 
```

在 JUnit 环境中控制台输出为：

```
C:\Users\developer\workspace\Projects\WebApp\. 
```

哪个是对的

但是当我启动 webapp 时，输出是：

```
C:\Programm\eclipseJEE 
```

这是eclipse的文件夹。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:00:14.227

你可以这样做：

```
File f = new File(getClass().getClassLoader().getResource("goods.props").toURI()).getAbsolutePath(); 
```

# java - 如何使用 java prgramming 语言将附件添加到 bugzilla？

> ID：15243168
> 
> 赞同：1
> 
> 时间：2013-03-06T09:14:12.440
> 
> 标签：java, bugzilla

我想通过代码将屏幕截图附加到 Bugzilla 中的错误。我正在使用 J2Bugzilla API，但找不到所需的方法。请建议是否有任何其他 API 用于使用 Java 在 Bugzilla 中附加文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T19:40:35.763

要使用 J2Bugzilla 附加任何文件，您必须首先创建一个`Attachment`：

```
byte[] data = ...;//Read the data as a byte array from the image file

AttachmentFactory attachmentFactory = new AttachmentFactory();
Attachment attachment = attachmentFactory.newAttachment()
    .setData(data)
    .setMime("...")//Set the appropriate MIME type for the image format
    .setSummary("My screenshot")
    .createAttachment(); 
```

然后，您可以使用以下命令将其添加到现有错误报告中`AddAttachment`：

```
AddAttachment add = new AddAttachment(attachment, bug);
//'bug' is a Bug you have previously retrieved
//'conn' is the BugzillaConnector
conn.executeMethod(add); 
```

# iphone - 视图控制器到 ARC 的单独转换效果如何？

> ID：15243173
> 
> 赞同：3
> 
> 时间：2013-03-06T09:14:23.407
> 
> 标签：iphone, ios, ipad

我有一个应用程序，我没有在整个应用程序中使用 ARC。但是在某些视图控制器中，我通过 compler 标志使用它`-fobjc-arc`。我不知道它会如何工作，以及它的优点和缺点，这是一个好的技术吗？这样做有什么不利影响吗？任何机构都可以有这种经历吗？有谁能够帮助我？。另外我正在使用 Xcode 4.2 和 LLVM compiler3.0。它实际上是一个非弧视图控制器。但是我添加了编译器标志。并删除了版本的编译错误。够了吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:20:01.380

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:23:59.590

There will be no issues with this approach.

ARC is a compile-time feature, it'll insert retain, release calls in your arc code at the compile time.

So your arc code will be same as your non-arc code after compilation. So I think there will be no issues with this approach.

But converting the entire project to ARC will be the best approach, because you don't need to worry about the retain, release calls

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T13:08:06.713

However i found this to be extremely tricky and find this article is a well written example for my cause.[http://www.codeography.com/2011/10/10/making-arc-and-non-arc-play-nice.html](http://www.codeography.com/2011/10/10/making-arc-and-non-arc-play-nice.html)

# sql - 如何添加两个字段值并将它们插入到单个列中？

> ID：15243175
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:14:29.053
> 
> 标签：sql, sql-server, crystal-reports

我有一张桌子：

```
MTCN 编号 RecPrincipalAmount TotalCharges
123 APK123 506.21 258.22

```

现在我想添加`RecPrincipalAmount`并将`TotalCharges`它们插入到`PrincipalAmount`.

我要这个：

```
MTCN 号码 PrincipalAmount        
123 APK123 764.43

```

我想在 Crystal Reports 中显示所有这些数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:18:11.137

```
select MTCN,
       Number,
       RecPrincipalAmount+TotalCharges as PrincipalAmount
from YourTable 
```

您可以`varchar`在`float`添加之前将其转换为。

```
select MTCN,
       Number,
       cast(RecPrincipalAmount as float)+cast(TotalCharges as float) as PrincipalAmount
from YourTable 
```

或者`money`如果那更合适。

```
select MTCN,
       Number,
       cast(RecPrincipalAmount as money)+cast(TotalCharges as money) as PrincipalAmount
from YourTable 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:38:07.960

尝试使用这个。

```
SELECT 
   MTCN,
   Number,
   CONVERT(FLOAT, RecPrincipalAmount) + CONVERT(FLOAT, TotalCharges) PrincipalAmount
FROM TableName 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T14:12:43.113

使用公式字段：

```
//{@Principal}
{table.RecPrincipalAmount} + {table.TotalCharges} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-06T09:29:35.507

```
SELECT SUM(RecPrincipalAmount + TotalCharges ) as "You Column"
FROM Your_Table; 
```

# java - 通过将多个 TableModel 提取到单个 TableModelManager 中来改进设计

> ID：15243177
> 
> 赞同：0
> 
> 时间：2013-03-06T09:14:32.613
> 
> 标签：java, swing, design-patterns, abstracttablemodel

我一直被困在我设计的这个特定部分，我想要一些关于我应该如何处理它的意见。我的计划由课程`LeerTrajecten`和元素组成`Elementen`。这两个对象可以独立存在，但也可以将元素添加到课程中。 `Element`本身是对象的抽象超类，如`Document`,`Casus`等。

(1) 当一个元素添加到课程中时，会创建一个课程元素`LeerTrajectenElement`，其中包含`TrajectCode`, `ElementCode`，一个由前两个字段和一些其他数据 ( `DisplayNaam`, `DisplayOmschrijving`) 组成的自己的唯一代码。

在 GUI (Spring) 中，有几个选项卡 ( `JTabbedPane`) 专门用于管理这些课程和元素。每个选项卡都有一个概述和一个详细信息面板。在此概述中，有一个`JTable`显示每个现有的`Element`或`Traject`.

这只是一种将程序置于透视图 ( `LeerTrajectElement`) 并显示可能同时存在多个`JTable`活动但在不同选项卡上的方式。

(2) 我也有经理，他们的唯一目的是管理他们各自的对象（`LeerTrajectManager`manages `LeerTraject`，`ElementManager`manages`Element`等）。这些管理器是众所周知的，`Domeincontroller`它们充当整个域的通用外观。来自 GUI 的请求被发送到此`DomeinController`，如果请求是针对经理的，则该请求将发送到正确的请求。

这是我的程序的基本大纲，我将包括一些图表作为视觉辅助。

(1) ![在此处输入图像描述](../Images/9a6e48a5542396f401edc92fcc85cfd1.png)

(2)![在此处输入图像描述](../Images/eb0e8f4d92c604e83cb741bdd0406093.png)

我希望我已经提供了有关项目当前设置的足够信息。出于某种原因，我的模型显示不正确，但`DomeinController`包含 3 个管理器（它未显示在概述中，但关联存在）。

如图 2 所示，每个经理都持有一个 tableModel。TableModel 的定义如下：

![在此处输入图像描述](../Images/b39dc9d7fd94cb15e2540138cd80e4c2.png)

`MyAbstractTableModel`扩展`AbstractTableModel`并提供基本实现，因此特定实现可以从此类派生，同时仅提供非常基本的需求。

这就是我们要达到的重点：目前每个经理都有自己的 tableModel，我们（老师）决定我们应该把它抽象成一个经理。我一直在为此做一个实现，但我觉得我有一些根本性的错误：这些 tableModel 可以为几个不同的目的生成：要么你想要**所有**元素，要么你想要所有元素**链接到**课程，或者你想要链接到**特定**课程的所有元素等。

为了获得这样的东西，我尝试创建两种`getTableModel`方法。第一个仅将枚举 { `LEERTRAJECT`, `ELEMENT`, `LEERTRAJECTELEMENT`} 作为参数，而第二个将附加`List<E>`参数作为参数。这样做可以让我一般地将数据添加到请求中，这些数据可以由适当的管理器早些时候收集（因此只将结果集数据发送到`TableModelManager`.

这种方法最终`Switch`在我的每个方法中都有很多语句，`TableModelManager`以确定它应该发生什么以及应该使用什么 tableModel。代码变得非常不干净，所以我想这可能不是我想要的样子。

至于为什么我们首先要引入经理：显然我们的 tableModels 现在与我们各自的经理硬链接，我们应该尽量避免这种情况。

所以，总而言之：我有几个经理，他们都拿着一个`TableModel`来显示他们各自的数据。我想通过将电流保存`TableModel`在 a 中来集中它`TableModelManager`并通过这个对象生成表模型。其他经理会简单地持有参考`TableModelManager`并告诉他数据已更改或要求适当的模型。

我应该如何处理这个？

PS：我意识到这更像是一个设计问题，所以如果我应该把它放在 stackexchange 网络上的不同站点，请告诉我，我会删除它。

PPS：对于非英文部分我很抱歉，我的队友拒绝只使用英文。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T15:55:46.990

没有详细分析，

*   您可以`enum`通过让每个元素实现一个通用接口来影响[策略模式](http://en.wikipedia.org/wiki/Strategy_pattern)，从而挽救您的方法，如此[处](https://stackoverflow.com/a/15076852/230513)所述。

*   作为使用管理器的具体示例，此[TestTable](https://stackoverflow.com/a/11259671/230513)使用 的实例`MyObjectManager`来管理 中的每行一个单选按钮`JTable`。

# php - 使用 php curl 登录 Instagram

> ID：15243179
> 
> 赞同：1
> 
> 时间：2013-03-06T09:14:40.043
> 
> 标签：php, curl, login, csrf, instagram

我想用 php 登录这个[页面](https://instagram.com/accounts/login/)：但是当我尝试用 php 登录时出现错误。

当我尝试登录时，下面的代码总是在变化。所以我无法登录。

代码是：

```
 <input type="hidden" name="csrfmiddlewaretoken" value="728a44ea6f15dee51406b0c82be3a03b"/> 
```

感谢您的提前帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:46:51.557

显然，Instagram 受到保护，可以防止跨站点请求伪造。[您可以在此处](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29)阅读有关此攻击的所有信息。

实际上，Instagram 家伙不希望您在不先显示登录表单的情况下提交登录表单。这就是*csrfmiddlewaretoken*的用途：当表单显示和提交时，他们将其提供给您（随机值），他们会检查您是否返回了他们给您的那个。请参阅[OWASP 跨站点请求防伪备忘单](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29_Prevention_Cheat_Sheet)。

所以基本上你要做的就是请求登录表单，从中获取令牌，然后登录第二个请求并将该令牌包含在其中。

（也许他们在那里做了一些双重检查；在这种情况下，您必须发送两次令牌：在您的帖子数据中和作为 cookie 中。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:22:20.680

您必须使用表单打开页面并将“csrfmiddlewaretoken”的值读入var（例如使用正则表达式）。

您还必须存储会话 cookie（curl 有一种将 cookie 存储在容器文件中的方法，或者您可以通过解析答案标头并将 cookie 值存储在您的请求标头中为以后的请求设置它自己来完成）。

然后你可以在你的登录请求中设置“csrfmiddlewaretoken”（需要发送会话cookie）。

# azure - 使用 SimpleMembership 在 Azure 上存储 ConnectionString

> ID：15243181
> 
> 赞同：0
> 
> 时间：2013-03-06T09:14:43.917
> 
> 标签：azure, simplemembership

我正在使用 TFS 服务自动部署到 Windows azure。该项目是一个 Web 角色和一些类库。部署任务效果很好——唯一的问题是在哪里存储连接字符串？通常我会将其存储在 csdef / cscfg 以在开发和云环境中使用正确的值，但如果我使用 SimpleMembership，我认为这不是一个选项，因为我必须在初始化期间提供 Web.Config 值。

有没有人有这个问题的“最佳实践”？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:34:25.083

您可以创建 TFS 任务以在部署之前转换 web.config，从而更改连接字符串值以指向您的生产数据库，请参阅此处了解如何[http://nirajrules.wordpress.com/2011/07/04/integrating-web-config-transformations -with-tfs-build/](http://nirajrules.wordpress.com/2011/07/04/integrating-web-config-transformations-with-tfs-build/)

Scott Hanselman 也有一篇关于 Web 配置转换的好文章 - [http://www.hanselman.com/blog/WebDeploymentMadeAwesomeIfYoureUsingXCopyYoureDoingItWrong.aspx](http://www.hanselman.com/blog/WebDeploymentMadeAwesomeIfYoureUsingXCopyYoureDoingItWrong.aspx)

# ios - NsNumberFormatter 没有给出正确的结果

> ID：15243187
> 
> 赞同：0
> 
> 时间：2013-03-06T09:14:55.463
> 
> 标签：ios, objective-c, nsnumberformatter

我面临一个问题，但似乎找不到解决方案。我有一个文本字段，用户在其中输入数字。问题是当用户在小数点后输入最后一个数字为零时，它不会占用。例如 - 42.70 是打印为 42.7。找到下面的代码

```
 NSNumberFormatter *_numberFormatter =[NSNumberFormatter new];
     _numberFormatter.maximumFractionDigits=2;
    _numberFormatter.minimumIntegerDigits=1;
    _numberFormatter.roundingMode=kCFNumberFormatterRoundCeiling;
    _numberFormatter.allowsFloats=YES;
    _numberFormatter.groupingSeparator=@",";
    _numberFormatter.usesGroupingSeparator=YES;
    _numberFormatter.groupingSize=3;
   _numberFormatter.minimum=[NSNumber numberWithInt:0];
    [_numberFormatter setLenient:YES];
    [_numberFormatter setUsesSignificantDigits:NO]; 
```

和

```
NSNumber *number = [nf numberFromString:combinedString];
    NSString *formattedString = [nf stringFromNumber:number]; 
```

格式化的字符串正在打印输入的值 sans 0 如果在最后一个位置输入，但如果有任何其他数字，例如 42.78，它会打印正确的数字，但 43.70 打印为 43.7。

我是否缺少设置一些参数。需要任何帮助

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:28:43.380

设置两者

```
_numberFormatter.maximumFractionDigits = 2;
_numberFormatter.minimumFractionDigits = 2; 
```

如果您总是想在小数点分隔符后打印两位数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:47:02.567

发现我们必须进行操作才能从我们这边添加一个零。iOS 以一种奇怪的方式工作并且不允许它。所以下面是我的代码。希望它对其他人也有帮助。

```
NSArray *formatArr = [combinedString componentsSeparatedByString:@"."];
    NSString *str = [formatArr lastObject];
    NSString *code;
    if ([str length] >0) {
        code = [[formatArr lastObject] substringFromIndex: [str length] - 1];
        if ([str isEqualToString:@"00"])
        {

        }
        else
        {
            if ([combinedString hasSuffix:@".0"])
            {
                formattedString=[formattedString stringByAppendingString:@".0"];
            }
            else if ([code isEqualToString:@"0"]) {
                formattedString = [formattedString stringByAppendingString:@"0"];
            }
        }
    }
    else
    {
        if ([combinedString hasSuffix:@".0"])
        {
            formattedString=[formattedString stringByAppendingString:@".0"];
        }
    } 
```

组合字符串是用户正在输入的输入。我正在检查“。” 放置并检查最后一个数字是否为零。如果是，则添加我自己的零。现在用户在键入时可以看到 43.50 而不是 43.5

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:22:48.607

你可以使用这个：

```
NSNumberFormatter *fmt = [[NSNumberFormatter alloc] init];
[fmt setPositiveFormat:@"0.##"];
NSNumber *n = [NSNumber numberWithFloat:47.78];
NSLog(@"%@", [fmt stringFromNumber:n]); 
```

它将打印 47.78

# scala - Squeryl：如何使用部分更新切换布尔列

> ID：15243193
> 
> 赞同：1
> 
> 时间：2013-03-06T09:15:08.090
> 
> 标签：scala, squeryl

假设我有一个这样的实体类：

```
case class MyEntity(some_flag: Boolean) extends KeyedEntity[Long] 
```

我想使用 Squeryl 执行以下 SQL 更新：

```
update table_name set some_flag = not some_flag where id = 1 
```

执行此操作的相关 Squeryl 语句是什么？我已经试过了

```
def toggleFlag(id: Long) = inTransaction {
    update(table)(entity =>
        where(entity.id === id)
        set(entity.some_flag := !entity.some_flag)
    )
} 
```

但这对数据库没有任何影响。

**更新 2：** Squeryl[文档](http://squeryl.org/inserts-updates-delete.html)给出了将整数值增加 1 的部分更新示例：

```
update(songs)(s =>
  where(s.title === "Watermelon Man")
  set(s.title := "The Watermelon Man",
      s.year  := s.year.~ + 1)
) 
```

**更新：**

我将 Squeryl 0.9.5-6 与 Scala 2.10 和 Play 一起使用！2.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:34:08.163

我用你的例子做了一个小代码项目。问题是 squeryl 序列化更新，但它“吞下了”（！），产生以下 SQL：

```
 update MyEntity set
 some_flag = (some_flag) 
```

基本上，squeryl 在后台构建一个由操作组成的树，然后将其序列化为一个字符串，该字符串将发送到 SQL 适配器。

一般来说，我检查它隔离更新语句并打印它（就像 squeryl 一样）：

```
 // From __update, Table.scala
    val dba = Session.currentSession.databaseAdapter
    val sw = new StatementWriter(dba)
    val o0 = _callbacks.beforeUpdate(o.asInstanceOf[AnyRef]).asInstanceOf[T]
    dba.writeUpdate(o0, this, sw, checkOCC) 
```

在我的类中复制代码（出于调试目的）或直接在 Table.scala 中设置断点

要隔离该语句，只需排除更新的第二部分：

```
val s = ((entity: InsertTypeHere) =>
      where(entity.id === id)
      set(entity.some_flag := not entity.some_flag)) 
```

多亏了这个“技巧”，我发现对 some_flag 的引用被正确地转换为 java.lang.Boolean 类型的 SelectElementReference，但是 (!) 没有被转换为 PrefixOperator。对我来说这似乎是一个 squeryl 错误，但让我看看是否可以从您的代码中“修复”它。

更新：

挖掘 squeryl 代码，似乎确实缺少“非”运算符。幸运的是，很容易自己添加回来！

```
 class NotExpression(val ast: ExpressionNode)(implicit val mapper: OutMapper[BooleanType])
        extends PrefixOperatorNode(ast, "not ", false)
                with LogicalBoolean with NestedExpression with TypedExpressionNode[BooleanType]

     def mynot(b: BooleanExpression[BooleanType]) = new NotExpression(b)

     transaction {
          update(table)(t => where(t.id === 3) set (t.some_flag := mynot(t.some_flag)))
     } 
```

至少在您的情况下，这会产生正确的 SQL。我将向 squeryl 提交补丁并征求意见。

# ios - IOS6.0，导航基础应用中的SupportedInterfaceOrientations

> ID：15243194
> 
> 赞同：1
> 
> 时间：2013-03-06T09:15:08.700
> 
> 标签：ios

我有一个导航基础应用程序，它最近从 Xcode 3.2 移到了 4.6。

由于在 iOS 6 中不推荐使用 ShouldAutorotateToInterfaceOrientation 并且我使用它来强制特定视图仅用于 UIDeviceOrientationLandscapeLeft，而其他视图仅用于 UIDeviceOrientationPortrait，因此我将伙伴代码添加到相应的 ViewController：

```
-(BOOL)shouldAutorotate{
    NSLog(@"shouldAutorotate");
        return YES;
}
-(NSInteger)supportedInterfaceOrientations{
    NSLog(@"UIInterfaceOrientationMaskPortrait");
        return UIInterfaceOrientationMaskPortrait;
}

-(BOOL)shouldAutorotate{
    NSLog(@"shouldAutorotate");
        return YES;
}
-(NSInteger)supportedInterfaceOrientations{
    NSLog(@"UIInterfaceOrientationMaskLandscapeLeft");
        return UIInterfaceOrientationMaskLandscapeLeft;
} 
```

然后将 ViewController 推入导航唯一日志“UIInterfaceOrientationMaskPortrait”，并在设备旋转时视图旋转。（这不是我想要的）由 [self presentModalViewController:] 显示的 ViewController 可以同时记录“shouldAutorotate”和“UIInterfaceOrientationMaskLandscapeLeft”，并且在设备旋转时不会旋转。（这就是我想要的）

如何使推入导航的视图正常工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:22:26.243

如果您`UINavigationcontroller`在应用程序中使用并且需要具有不同的界面方向，那么它可能会弄乱应用程序中的界面方向，解决方案是实现自定义`UINavigationController`并在该自定义类中实现界面方向方法`UINavigationController`，这将使您的 viewControllers 旋转根据您设置的方向，因为您的控制器是从`UINavigationController`.

推动 viewController`UINavigationController`你应该这样做

```
[self.navigationController pushViewController:yourViewController animated:YES]; 
```

我在使用 navigationController 时遇到了类似的问题，我的视图没有正确旋转，所以我实现了这样的自`navigationController`定义

**自定义导航控制器.h**

```
@interface CustomNavigationController : UINavigationController
@end 
```

**自定义导航控制器.m**

```
@implementation CustomNavigationController

//overriding shouldRotate method for working in navController
-(BOOL)shouldAutorotate
{  
  return   [self.visibleViewController shouldAutorotate];   
}

-(NSUInteger)supportedInterfaceOrientations
{
   return [self.topViewController supportedInterfaceOrientations];
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
   return [self.topViewController preferredInterfaceOrientationForPresentation];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:17:25.203

将以下代码放入您的 appDelegate 方法中：

```
- (NSUInteger) application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window{
return UIInterfaceOrientationMaskPortrait; 
```

}

希望这会帮助你。

一切顺利 ！！！

# apache-flex - 从全屏模式切换到普通屏幕时，Flex UI 性能不佳

> ID：15243196
> 
> 赞同：0
> 
> 时间：2013-03-06T09:15:21.550
> 
> 标签：apache-flex, internet-explorer, actionscript, adobe, stage3d

我遇到了一个奇怪的情况，它只发生在 IE 上。我们的项目是一个使用 Stage3D 的 Flash 3D 游戏，游戏 GUI 由 CS6 创建。当我们的游戏从全屏（ StageDisplayState.FULL_SCREEN_INTERACTIVE 或 StageDisplayState.FULL_SCREEN ）切换到普通屏幕（ StageDisplayState.NORMAL ）时，游戏 GUI 的性能下降到与全屏模式相比大约 FPS 的一半。但这种情况只发生在 IE 上。

游戏初始化时为普通屏，性能与全屏相同。性能下降仅在从全屏切换到普通屏幕后发生。

补充：当鼠标离开视野时，性能变得更好，从 20 fps 到 50 fps。但仍然与原来的 60 fps 不同。

补充2：我的同事告诉我Flash Pro CS6用于每个GUI构建单个swc文件，然后通过Flex Framework SDK将所有ui swc文件打包到一个swc文件（命令为“compc”）。IE 版本 = 9.0.8112.16421，Flash Player 版本 = 11.6.602.155。

补充3：我使用Adobe Profiler Scout观察应用，发现全屏后正常屏时，「Inactive」中的「Waiting for GPU」时间从10ms增长到30ms左右，是三倍。而在「Activity Sequence」选项卡中，显示「DisplayObject List」的「Copying to screen」发生了「Waiting for GPU」。

谢谢

# jquery - 在jquery中处于悬停状态时如何捕获点击事件？

> ID：15243202
> 
> 赞同：0
> 
> 时间：2013-03-06T09:15:34.623
> 
> 标签：jquery

我有一个水平旋转木马，其结构如下

```
ul
  <li>
    <a>
     <img>

  <li>
    <a>
     <img>

  <li>
    <a>
     <img> 
```

悬停动画的jQuery代码如下

```
$('ul li a img').hover(function() {
    $(this).stop().animate({ height: '60px', width: '60px'}, 200);
}, function() {
    $(this).stop().animate({ height: '44px', width: '44px'}, 200);
});` 
```

悬停工作正常，但现在我需要在悬停的 img 上捕获点击事件。为此，我有下面的代码

```
$('ul li a img').click(function() {
    console.log($(this));
    return true;
}); 
```

点击事件触发等于轮播中的项目数。如果有 20 个项目，点击事件会触发 20 次，但我只希望它为悬停的项目触发 1 次。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:19:10.710

您正在`true`从单击处理程序返回，这会导致事件冒泡（不完全确定原因，除非您将图像堆叠在一起）。返回`false`应该使事件在处理第一次点击后停止传播。

```
$('ul li a img').click(function() {
    console.log($(this));
    return false;
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:20:48.337

```
$('ul li a img').on('click',function(e){
 //your code
 e.stopPropagation();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:21:23.390

哟也可以使用[`e.stopPropagation()`](http://api.jquery.com/event.stopPropagation/)功能：

```
$('ul li a img').click(function(e) {
    console.log($(this));
    e.stopPropagation();
}); 
```

然后点击事件不会传播到其他节点。

# c# - 独特的复杂 SQL 请求 VS 在我的代码中合并的几个简单 SQL 请求？

> ID：15243203
> 
> 赞同：0
> 
> 时间：2013-03-06T09:15:42.683
> 
> 标签：c#, .net, sql

**您能否帮助我了解在我的代码中合并的独特复杂 SQL 请求和几个简单 SQL 请求之间的最佳解决方案是什么？**

*   假设我在一个工作机会网站上工作。工作机会由能力组成。每个能力都列在一个感兴趣的领域中。例如，能力可能是 C#，而他感兴趣的领域是 IT。播音员可以创建新的工作机会并选择 C# 作为工作所需的能力。

*   另一方面，用户选择两个、三个或更多个感兴趣的区域。是的，我们的用户不会选择他们的能力，而是选择他们感兴趣的领域。以免我的用户 xxx 选择三个感兴趣的区域。

在他的主页上，我想按日期显示这三个兴趣领域的新工作机会列表。我应该在我的代码中做什么。

1.  一个独特的复杂 SQL 请求，包含我的用户的能力和兴趣领域以及我的用户的兴趣领域和我的用户表以及我的用户的 WHERE 子句的工作机会

2.  一个更简单的 SQL 请求，调用 3 次以获得 3 个工作机会列表，并在能力和兴趣领域加入工作机会，并在我的兴趣领域使用 WHERE 子句，然后将我的三个列表合并到我的代码中。

如果我需要在工作机会日期排序我的列表，但突出显示或优先考虑可能在多个感兴趣领域的工作机会。

编辑

我有一个数据库要求：我只需要使用存储过程

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:40:47.363

在 99% 的情况下，一个复杂的查询要好得多。

但是，如果您需要非常频繁地处理数据并且不需要一直使用最新数据，您当然可以在代码中重新实现数据库逻辑并获得更好的性能。但这只有在您经常使用数据*并且*在此期间可以忽略任何更改时才有效。请记住，通过适当的索引和优化来实现所有连接逻辑是一项相当多的工作。我建议这不值得付出努力。

# java - 如何在 context.xml 中为 java 应用程序设置上下文路径

> ID：15243204
> 
> 赞同：0
> 
> 时间：2013-03-06T09:15:43.017
> 
> 标签：java, context.xml

当我在 tomcat 服务器的 server.xml 中创建上下文路径时，一切正常。但是我想在 context.xml 中编写上下文元素来为同一个应用程序定义不同的 URL，然后它就不起作用了。请说明如何修改 context.xml 以从 context.xml 读取路径。喜欢 ：

```
<Context path="/vk" docBase="E:\java\MyProject\apache-tomcat-7.0.19\webapps\test" reloadable="true" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:32:51.730

Tomcat 从 war 文件（或 webapps 下的目录）的名称中获取上下文路径。如果你想部署你的应用程序`/vk`然后命名它`vk.war`，或者`/foo/bar`命名它`foo#bar.war`

要在两个不同的路径上部署同一个应用程序，请将其*放在*webapps 目录之外，然后在`conf/Catalina/localhost`named`test.xml`等中创建上下文定义文件`vk.xml`。您不需要`path`属性，上下文路径再次从文件名推导出来。

# android - 无法从 ContactsContract 获取电子邮件地址

> ID：15243205
> 
> 赞同：3
> 
> 时间：2013-03-06T09:15:45.693
> 
> 标签：android

我正在尝试从 ContactsContract 获取电子邮件地址，但我只得到一个空字符串！姓名和号码工作正常，但不是电子邮件地址！

我很困惑，几天来一直在尝试解决这个问题，但我不知道出了什么问题，如果我错过了代码中的某些内容或者我不知道如何解决这个问题。

应用程序的这一部分具有来自 ContactsContract 的所有名称的 ListView。在 ListView 中选择姓名时，代码应从 ContactsContract 中获取姓名、号码和电子邮件地址。

我将不胜感激能够继续工作的一些帮助！也许有更好的方法来解决这个问题，那么请告诉我如何改变！谢谢！

由于 toast 消息没有出现在 while 循环中，`while(cursorEmail.moveToFirst()){....`我猜电子邮件光标有问题！？好像是空的！？

```
public class Activity_3 extends Activity {

ListView listView;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_3);
    listView = (ListView) findViewById(R.id.contactList);

    String[] projection = { ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME, 
            ContactsContract.CommonDataKinds.Phone.NUMBER,
            ContactsContract.CommonDataKinds.Phone._ID };

    Cursor cursor1 = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, projection, null, null, null);

    // From column
    String[] fromColumn = { ContactsContract.Contacts.DISPLAY_NAME };
    // To view
    int[] toView = { R.id.contactItem };

    startManagingCursor(cursor1);

    ListAdapter adapter = new SimpleCursorAdapter(this, R.layout.activity_3, cursor1, fromColumn, toView);

    listView.setAdapter(adapter);

    listView.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> adapter, View view, int position, long id) {

            String[] projection = { ContactsContract.CommonDataKinds.Phone._ID, 
                    ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME, 
                    ContactsContract.CommonDataKinds.Phone.NUMBER,
                    };

            Cursor cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, projection, null, null, null);

            cursor.moveToPosition(position);

            String contactId = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));
            String contactName = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
            String contactNumber = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));

            String pos = Integer.toString(position);

            String contactEmailAddress = "?";   
            //Email
            Cursor emails = getContentResolver().query(ContactsContract.CommonDataKinds.Email.CONTENT_URI, null, ContactsContract.CommonDataKinds.Email.CONTACT_ID + "=" + contactId, null,  null);

            while(emails.moveToNext()){
                contactEmailAddress = emails.getString(emails.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));
                Toast.makeText(Activity_3.this, contactEmailAddress, Toast.LENGTH_SHORT).show();
            }
            emails.close();

            Toast.makeText(Activity_3.this, pos + " " + contactId + " " + contactName + " " + contactNumber + " " + contactEmailAddress, Toast.LENGTH_SHORT).show();
        }
    });
} 
```

}

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-13T06:51:25.237

您需要使用以下代码获取包含详细信息的联系人列表。以下方法将返回所有联系人的姓名、电话号码和电子邮件。

```
public ArrayList<ContactDO> getContacts()
{
    ArrayList<ContactDO> alContacts = null;
    Cursor cursor = contResv.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
    if(cursor.moveToFirst())
    {
        alContacts = new ArrayList<ContactDO>();
        do
        {
            //Create a plain class with following variables - id, name, contactNumber, email
            ContactDO objContactDO = new ContactDO();

            objContactDO.name = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));       
            objContactDO.id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));

            Cursor emails = contResv.query(Email.CONTENT_URI,null,Email.CONTACT_ID + " = " + objContactDO.id, null, null);
            while (emails.moveToNext()) 
            { 
                objContactDO.email = emails.getString(emails.getColumnIndex(Email.DATA));
                break;
            }
            emails.close();

            if(Integer.parseInt(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0)
            {
                Cursor pCur = contResv.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = ?",new String[]{ objContactDO.id }, null);
                while (pCur.moveToNext()) 
                {
                    objContactDO.contactNumber = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
                    break;
                }
                pCur.close();
            }

            alContacts.add(objContactDO);

        } while (cursor.moveToNext()) ;
    } 

    cursor.close(); 
    return alContacts;
} 
```

创建一个自定义适配器并将其设置为 listview。

```
lvContacts.setAdapter(adapter = new CustomContactsAdapter(getContacts())); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:26:17.633

假设您已经获得了您要为其获取电子邮件地址的特定联系人的 ID，这是我不久前尝试做的与您现在一样的代码片段：

首先，您需要获取联系人的 ID：

```
 ContentResolver cr  = context.getContentResolver();
    Cursor cursor       = cr.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
    id                  = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID)); 
```

然后，您可以通过以下方式获取电子邮件地址：

```
 String contactAddress   = "";
            Cursor cursorEmail      = cr.query(ContactsContract.CommonDataKinds.Email.CONTENT_URI,
                                            null, 
                                            ContactsContract.CommonDataKinds.Email.CONTACT_ID + " = ?",
                                            new String[] {id}, 
                                            null);
            if(cursorEmail.moveToFirst()) {
                contactAddress = cursorEmail.getString(cursorEmail.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));
            } 
```

请记住，联系人不一定有电子邮件，因此您当然应该考虑到这一点:-)

编辑：更好地查看您的代码并将其与我在此处粘贴的内容进行比较。似乎您的问题在于参数`selection`和`selectionArgs`. 您要做的是获取您要为其获取电子邮件地址的联系人的 ID，然后将您的选择更改为：

```
ContactsContract.CommonDataKinds.Email.CONTACT_ID + " = ?" 
```

并在 selectionArgs 中添加 id，如下所示：

```
new String[] {id} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T13:41:15.457

用这个

```
String email = "";  
            try {  
                Uri result = data.getData();  
                Log.v(DEBUG_TAG, "Got a contact result: "  
                        + result.toString());  
                // get the contact id from the Uri  
                String id = result.getLastPathSegment();  
                // query for everything email  
                cursor = getContentResolver().query(Email.CONTENT_URI,  
                        null, Email.CONTACT_ID + "=?", new String[] { id },  
                        null);  
                int emailIdx = cursor.getColumnIndex(Email.DATA);  
                // let's just get the first email  
                if (cursor.moveToFirst()) {  
                    email = cursor.getString(emailIdx);  
                    Log.v(DEBUG_TAG, "Got email: " + email);  
                } else {  
                    Log.w(DEBUG_TAG, "No results");  
                }  
            } catch (Exception e) {  
                Log.e(DEBUG_TAG, "Failed to get email data", e);  
            } finally {  
                if (cursor != null) {  
                    cursor.close();  
                } 

               edtCustomerEmailid.setText(email);

              //Toast.makeText(getApplicationContext(), email, 1).show();
                if (email.length() == 0) {  
                    Toast.makeText(this, "No email found for contact.",  
                            Toast.LENGTH_LONG).show();  
                }  
            } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T13:17:09.130

在这里，我发布了一个工作方法，它将通过联系人 ID 返回邮件 ID 或 null（如果不可用）。

```
public static String getEmail(Context c, long id) {
        Uri uri = ContactsContract.CommonDataKinds.Email.CONTENT_URI;
        String[] projection = new String[] {
                ContactsContract.CommonDataKinds.Email._ID,
                ContactsContract.CommonDataKinds.Email.CONTACT_ID,
                ContactsContract.CommonDataKinds.Email.ADDRESS,
                ContactsContract.CommonDataKinds.Email.TYPE };
        String selection = ContactsContract.CommonDataKinds.Email.CONTACT_ID
                + " = '" + id + "'";
        String sortOrder = ContactsContract.CommonDataKinds.Email.ADDRESS
                + " COLLATE LOCALIZED ASC";

        Cursor cursor = c.getContentResolver().query(uri, projection,
                selection, null, sortOrder);

        int index = cursor
                .getColumnIndex(ContactsContract.CommonDataKinds.Email.ADDRESS);
        if (cursor.moveToNext()) {
            return cursor.getString(index);
        }
        return null;
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T11:22:25.687

```
ContentResolver cr = this.getContext().getContentResolver();
Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,null, null, null, null);
if (cur.getCount() > 0) {
    while (cur.moveToNext()) {
        String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
        Cursor cur1 = cr.query( 
                ContactsContract.CommonDataKinds.Email.CONTENT_URI, null,
                ContactsContract.CommonDataKinds.Email.CONTACT_ID + " = ?", 
                        new String[]{id}, null); 
        while (cur1.moveToNext()) { 
            //to get the contact names
            String name=cur1.getString(cur1.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
            String email = cur1.getString(cur1.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));

        } 
        cur1.close();
    }
} 
```

# cobol - RecordEditor - 字段描述了行的布局

> ID：15243206
> 
> 赞同：1
> 
> 时间：2013-03-06T09:15:46.060
> 
> 标签：cobol, mainframe

我正在使用记录编辑器读取 COBOL 文件。工作正常，但有一个问题。第三个字段（列，固定宽度）描述记录的类型。这样做，也是该行其余部分的布局。

如何告诉 RecordEditor 过滤适用于所选布局的行？

例如 ：

检查 6-9 的记录类型，根据该类型设置其余的列宽：

```
001XXTYP1THISISSOMETEXT
002XXTYP22013FORMATISDIFFERENTSOMEVARIABLE
003XXTYP3FOOBLAHBLAHBAR 
```

我设置了 RecordEditor 并复制了 COBOL CopyBook。一切正常.. 但是.. 当我选择特定布局（TYP1 / TYP2 of TYP3）时，所有记录都保持可见。所以如果我选择 TYP1，我也会看到 TYP2 和 3 行。找不到那个设置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:15:13.527

好吧，Record Editor 似乎是一款免费软件。它看起来有合理的文档，其中包含对应该对您有所帮助的几件事的引用。我认为您需要通过特定设置阅读该文档，然后更新您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T04:08:40.620

第一件事 - 确保您正确设置了记录选择；如果您这样做，RecordEditor 会更好地工作。

**过滤器功能**可能是您想要的。要查看的选项是

1.  **过滤器功能**（它是工具栏上查找按钮右侧的按钮） 过滤器允许您根据记录类型或记录内容创建文件的“视图”。[过滤功能](http://record-editor.sourceforge.net/Record08.htm)

2.  首选布局 - 使用首选布局，列标题会更改以匹配通过光标选择的行。

3.  单条记录视图（单击一行左侧的按钮）。在最新版本中，您可以右键单击选项卡以取消停靠屏幕

4.  （仅限最新测试版本）子记录（**窗口**>>>**显示子记录**）。选中后，通过屏幕左侧的光标选择的记录也将显示为屏幕右侧的单个记录。

* * *

更新 (08/08/2013)

作为 RecordEditor 0.95 的一部分引入了一个更好的解决方案。现在有一个示例宏 ( **ViewForEachRecordType.js** ) 将所有*记录类型*显示为单独的视图：

![运行宏](../Images/cc7a1a98aa5b93ba2b7fd258721ea106.png)

宏运行后，每个*Record-Type*都会显示在单独的视图中

![在此处输入图像描述](../Images/3cf88f4ddfc22313c520e08d0f135138.png)

# c# - 如何处理动态表中的动态文本框？

> ID：15243212
> 
> 赞同：0
> 
> 时间：2013-03-06T09:16:13.097
> 
> 标签：c#, asp.net, textbox, findcontrol, dynamic-controls

我想从相同列中的文本框中求和（添加）值，并在单击“计算”按钮时分别显示最后一行文本框
的总和所有文本框都是在单击“创建表”按钮时动态生成的。

我不知道如何获取这些文本框的 ID。

.aspx 文件的代码如下：

```
 <asp:Label ID="lblTest" runat="server"></asp:Label>
    &nbsp;<asp:Label ID="Label1" runat="server"></asp:Label>
    <br />
    <br />
    Select CC No :&nbsp;
    <asp:DropDownList ID="DropDownList1" runat="server" 
        onselectedindexchanged="DropDownList1_SelectedIndexChanged" Width="100px">
        <asp:ListItem>2</asp:ListItem>
        <asp:ListItem>3</asp:ListItem>
        <asp:ListItem>4</asp:ListItem>
        <asp:ListItem>5</asp:ListItem>
        <asp:ListItem>6</asp:ListItem>
    </asp:DropDownList>
&nbsp;<asp:Button ID="Button1" runat="server" onclick="Button1_Click" Text="Create Table" 
        style="height: 26px" Width="100px" /> 
```

对于 aspx.cs 文件中的动态表 n 文本框，代码如下所示：

```
public partial class stable : System.Web.UI.Page
{
private int tblRow;
private int tblCol = 9;
private int i, j;
private bool CTflag;

Table table = new Table();
TableRow row,rrow;
TableCell cell,rcell;
FileUpload fileUp;
Button UpLdButton;
TextBox tb,tbr;
TextBox txtRes; // to store result of calculation

string cmdArg; // for passing filuploaders id with Command button
string txtArgs;

private string filename = "fileUpLoader";

private string tbRowId = "row";
private string tbColId = "col";

protected int Rows
{
    get
    {
        return ViewState["Rows"] != null ? (int)ViewState["Rows"] : 0;
    }
    set
    {
        ViewState["Rows"] = tblRow;
    }
}

// Columns property to hold the Columns in the ViewState
protected int Columns
{
    get
    {
        return ViewState["Columns"] != null ? (int)ViewState["Columns"] : 0;
    }
    set
    {
        ViewState["Columns"] = tblCol;
    }
}

protected void Page_Load(object sender, EventArgs e)
{
    if (Page.IsPostBack)
    {
        this.Rows = tblRow;
        this.Columns = tblCol;
        if (CTflag == false)
        {
            CreateDynamicTable();
        }
        else
        {
            CTflag = true;
        }
    }
    //LoadViewState(object this);
    //CreateDynamicTable();
}
protected void Button1_Click(object sender, EventArgs e)
{
    //Button1.Visible = false;
    CreateDynamicTable();
}

protected void Button1_Click(object sender, EventArgs e)
{
    CreateDynamicTable();
}

protected void CreateDynamicTable()
{
    //Button1.Visible = false;
    tblRow = Convert.ToInt32(DropDownList1.SelectedValue);
    //Creat the Table and Add it to the Page    
    if (CTflag == false)
    {
        //Table table = new Table();
        table.Caption = "Challan Entry";
        table.ID = "Challan Entry";
        table.BackColor = System.Drawing.Color.BurlyWood;
        Page.Form.Controls.Add(table);

        // Now iterate through the table and add your controls
        for (i = 0; i < 1; i++)
        {
            row = new TableRow();
            row.BorderStyle = BorderStyle.Ridge;

            for (j = 0; j <= tblCol; j++)
            {
                cell = new TableCell();
                cell.BorderWidth = 5;
                cell.BorderStyle = BorderStyle.Ridge;
                cell.BorderColor = System.Drawing.Color.Azure;
                for (j = 0; j <= tblCol; j++)
                {
                    string[] Header = { "CC NO.", "DATE", "TotalAmt", "NoOfRecpt", "Energy", "New", "Theft", "Misc", "SelectFile", "Upload", "Status" };
                    Label lbl = new Label();
                    lbl.ID = "lblHeader" + j;
                    if (j == 8)
                    {
                        lbl.Width = 220;
                    }
                    else if (j == 9)
                    {
                        lbl.Width = 50;
                    }
                    else
                    {
                        lbl.Width = 100;
                    }
                    lbl.Text = Header[j];

                    // Add the control to the TableCell
                    cell.Controls.Add(lbl);
                }
                row.Cells.Add(cell);
            }

            // Add the TableRow to the Table
            table.Rows.Add(row);
        }
        for (i = 0; i < tblRow; i++)
        {
            row = new TableRow();
            row.ID = tbRowId + i;
            row.BorderStyle = BorderStyle.Ridge;

            for (j = 0; j <= tblCol; j++)
            {
                cell = new TableCell();
                cell.ID = tbColId + i + j;
                cell.BorderWidth = 5;
                cell.BorderStyle = BorderStyle.Ridge;
                cell.BorderColor = System.Drawing.Color.Azure;
                for (j = 0; j <= 0; j++)
                {
                    Label lbl = new Label();
                    lbl.ID = "lblCCRow" + i + "Col" + j;
                    lbl.Text = "CC NO. " + i + " ";
                    lbl.Width = 100;
                    // Add the control to the TableCell
                    cell.Controls.Add(lbl);
                }
                for (j = 1; j <= 1; j++)
                {
                    Label lbl = new Label();
                    lbl.ID = "lblRow" + i + "Col" + j;
                    lbl.Width = 100;
                    lbl.Text = Convert.ToString(DateTime.Now.Day) + "/" + Convert.ToString(DateTime.Now.Month) + "/" + Convert.ToString(DateTime.Now.Year);
                    // Add the control to the TableCell
                    cell.Controls.Add(lbl);
                }
                for (j = 2; j <= 7; j++)
                {
                    tb = new TextBox();
                    tb.Width = 100;
                    tb.ID = "txtBoxRow" + i + "Col" + j;

                    tb.Text = "";
                    // Add the control to the TableCell
                    cell.Controls.Add(tb);
                }
                for (j = 8; j <= 8; j++)
                {
                    fileUp = new FileUpload();
                    //m = i; n = j;
                    fileUp.ID = filename + i + j;
                    fileUp.Width = 220;
                    cell.Controls.Add(fileUp);
                    cmdArg = fileUp.ID;

                    UpLdButton = new Button();
                    UpLdButton.Width = 100;
                    UpLdButton.Text = "Upload" + i + "Col" + j;
                    UpLdButton.ID = UpLdButton.Text;
                    UpLdButton.CommandArgument = cmdArg;
                    cell.Controls.Add(UpLdButton);

                    UpLdButton.Click += new EventHandler(UpLdButton_Click);
                }
                for (j = 9; j <= 9; j++)
                {
                    Label lbl = new Label();
                    lbl.ID = "lblRow" + i + "Col" + j;
                    lbl.Text = "[ Status ]";
                    lbl.Width = 100;
                    // Add the control to the TableCell
                    cell.Controls.Add(lbl);
                }
                row.Cells.Add(cell);
            }

            // Add the TableRow to the Table
            table.Rows.Add(row);
        } //outer for-loop end

        for (i = 0; i < 1; i++)
        {
            rrow = new TableRow();
            rrow.ID = "ResultRow";
            rrow.BorderStyle = BorderStyle.Ridge;

            for (j = 0; j <= tblCol; j++)
            {
                rcell = new TableCell();
                rcell.ID = "resultCol" + j;
                rcell.BorderWidth = 5;
                rcell.BorderStyle = BorderStyle.Ridge;
                rcell.BorderColor = System.Drawing.Color.Azure;
                for (j = 0; j <= 0; j++)
                {
                    Label lbl = new Label();
                    //lbl.ID = "lblCCRow" + i + "Col" + j;
                    lbl.Text = "<b>Total</b>";
                    lbl.Width = 100;
                    // Add the control to the TableCell
                    rcell.Controls.Add(lbl);
                }
                for (j = 1; j <= 1; j++)
                {
                    Label lbl = new Label();
                    //lbl.ID = "lblRow" + i + "Col" + j;
                    lbl.Width = 100;
                    lbl.Text = Convert.ToString(DateTime.Now.Day) + "/" + Convert.ToString(DateTime.Now.Month) + "/" + Convert.ToString(DateTime.Now.Year);
                    // Add the control to the TableCell
                    rcell.Controls.Add(lbl);
                }
                for (j = 2; j <= 7; j++)
                {
                    tbr = new TextBox();
                    tbr.Width = 100;
                    tbr.ID = "txtResult" + j;

                    tbr.Text = tbr.ID;
                    // Add the control to the TableCell
                    rcell.Controls.Add(tbr);
                }
                for (j = 8; j <= 8; j++)
                {
                    Button btnCal = new Button();
                    btnCal.Width = 100;
                    btnCal.Text = "Calculate";
                    btnCal.ID = btnCal.Text;
                    txtArgs = tb.ID;
                    btnCal.CommandArgument = txtArgs;
                    Label1.Text = txtArgs;
                    rcell.Controls.Add(btnCal);
                    btnCal.Click += new EventHandler(btnCal_Click);
                }

                rrow.Cells.Add(rcell);
            }

            // Add the TableRow to the Table
            table.Rows.Add(rrow);
        }

        //flag seetting
        CTflag = true;
        ViewState["dynamictable"] = true;
    }
}
void btnCal_Click(object sender, EventArgs e)
{
    //Calculation part goes here        
}
protected override void LoadViewState(object earlierState)
{
    base.LoadViewState(earlierState);
    if (ViewState["dynamictable"] == null)
        CreateDynamicTable();
}

void UpLdButton_Click(object sender, EventArgs e)
{
    Button btnUpLD = sender as Button;
    btnUpLD = (Button)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(UpLdButton.ID);
    //btnUpLD.Text = Convert.ToString((Button)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(UpLdButton.ID));
    //FileUpload fileupld = new FileUpload();
    fileUp = (FileUpload)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(fileUp.ID);
    string args = ((Button)sender).CommandArgument;
    lblTest.Text = args;
}

protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
{
    //CreateDynamicTable();
    Label1.Text = "Index Changed!!!";
} 
```

}

以下代码是我尝试过的......它是错误的。

在读取文本框 ID 时，我只获取最后一个文本框 ID，我无法通过

文本框 ID 进行迭代

```
void btnCal_Click(object sender, EventArgs e)
{
    Button btnCalculate = sender as Button;
    TextBox txtFields;   // Resultant txtField        
    string[,] txtNames = new string[tblRow,6];

    double TotAmt = new double();
    double NoOfRect = new double();
    double Energy = new double();
    double New1 = new double();
    double Theft = new double();
    double Misc = new double();

    TotAmt = 0; NoOfRect = 0; Energy = 0; New1 = 0; Theft = 0; Misc = 0;

    for (int i = 0; i < tblRow; i++)
    {
        for (int j = 2; j <= 7; j++)
        {
            txtRes = new TextBox();
            //txtFields = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(tb.ID);
            //txtFields.Text = txtFields.ID;
            //txtNames[i,j] = txtFields.Text;
            if (j == 2)
            {
                txtFields = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(tb.ID);
                txtNames[i, j] = txtFields.Text;
                TotAmt+= Convert.ToDouble(txtNames[i, j]);
                txtRes = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(rrow.ID).FindControl(rcell.ID).FindControl(tbr.ID);
                txtRes.Text = Convert.ToString(TotAmt);
            }
            else if (j == 3)
            {
                txtFields = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(tb.ID);
                txtNames[i, j] = txtFields.Text;
                NoOfRect+= Convert.ToDouble(txtNames[i, j]);
                txtRes = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(rrow.ID).FindControl(rcell.ID).FindControl(tbr.ID);
                txtRes.Text = Convert.ToString(NoOfRect);
            }
            else if (j == 4)
            {
                txtFields = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(tb.ID);
                txtNames[i, j] = txtFields.Text;
                Energy += Convert.ToDouble(txtNames[i, j]);
                txtRes = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(rrow.ID).FindControl(rcell.ID).FindControl(tbr.ID);
                txtRes.Text = Convert.ToString(Energy);
            }
            else if (j == 5)
            {
                txtFields = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(tb.ID);
                txtNames[i, j] = txtFields.Text;
                New1 += Convert.ToDouble(txtNames[i, j]);
                txtRes = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(rrow.ID).FindControl(rcell.ID).FindControl(tbr.ID);
                txtRes.Text = Convert.ToString(New1);
            }
            else if (j == 6)
            {
                txtFields = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(tb.ID);
                txtNames[i, j] = txtFields.Text;
                Theft += Convert.ToDouble(txtNames[i, j]);
                txtRes = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(rrow.ID).FindControl(rcell.ID).FindControl(tbr.ID);
                txtRes.Text = Convert.ToString(Theft);
            }
            else if (j == 7)
            {
                txtFields = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(row.ID).FindControl(cell.ID).FindControl(tb.ID);
                txtNames[i, j] = txtFields.Text;
                Misc += Convert.ToDouble(txtNames[i, j]);
                txtRes = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(rrow.ID).FindControl(rcell.ID).FindControl(tbr.ID);
                txtRes.Text = Convert.ToString(Misc);
            }
            else 
            {
                Label1.Text = Convert.ToString("Value of J : " +j);
            }
            //txtRes = (TextBox)this.FindControl(Form.ID).FindControl(table.ID).FindControl(rrow.ID).FindControl(rcell.ID).FindControl(tbr.ID);
            //txtRes.Text = Convert.ToString(results[i, j]);
        }
    } 
```

请建议我正确的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:39:04.543

这可能是一个有用的功能。[函数源](http://www.codinghorror.com/blog/2005/06/recursive-pagefindcontrol.html)

```
public static Control FindControlRecursive(Control root, string id)
    {
        if (root.ID == id)
        {
            return root;
        }

        foreach (Control c in root.Controls)
        {
            Control t = FindControlRecursive(c, id);
            if (t != null)
            {
                return t;
            }
        }

        return null;
    } 
```

然后像这样循环文本框。

```
 for (int i = 0; i < tblRow; i++)
        {
            for (int j = 2; j <= 7; j++)
            {
                TextBox tb = FindControlRecursive(this, string.Format("txtBoxRow{0}Col{1}", i, j));
                switch(j)
                {
                    case 2:
                        TotAmt += Convert.ToDouble(tb.Text);
                        break;
                    case 3:
                        break;
                    default:
                        Label1.Text = Convert.ToString("Value of J : " + j);
                }
            }
        } 
```

# ruby-on-rails - 在 Rails 3 中使用 ajax 渲染部分

> ID：15243218
> 
> 赞同：1
> 
> 时间：2013-03-06T09:16:21.457
> 
> 标签：ruby-on-rails, ajax

我有一个简单的应用程序，其中包含有很多评论的帖子。

我可以使用以下表格从帖子#show 创建评论。

```
<%= form_for @comment, :remote => true, :html => {:'data-type' => 'html', :id =>                 'create_comment_form' }, :'data-update-target' => 'comments-container'$
    <%= f.text_area :content %>
    <%= f.hidden_field :post_id, :value => @post.id %>
    <%= f.submit 'Submit', :disable_with => 'Please wait...', :class => 'submit' %>
<% end %> 
```

然后我显示评论

```
<div id="comments-container">
  <%= render "posts/comments"  %>
</div> 
```

它循环通过@post.comments。

提交表单时是否可以更新@post.comments 并重新呈现部分内容？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:51:09.893

您目前是否从您的`posts#create`操作中渲染任何内容？无论哪种方式，您都需要像@jvnill 所说的那样呈现一个`create.js.erb`（在其中创建此文件）：`app/views/posts/`

```
def create
  # do your thang..
  respond_to do |format|
    format.js do
      # any stuff you want to do when responding to JS
    end
  end
end 
```

这将自动呈现`create.js.erb`，应该是这样的：

```
$('#comments-container').html('<%= escape_javascript(render "posts/comments") %>'); 
```

编辑-您遇到了您描述的问题，`render`因为您尝试从资产进行渲染。把它放在你的views目录中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:19:48.900

有可能做到这一点。在`create.js.erb`，尝试

```
$('#comments-container').html('#{escape_javascript render('posts/comments')}') 
```

确保声明了您在部分内部使用的任何实例变量。

更新：更好的方法是在 div 的末尾附加评论。

# android - 跨 Android 活动共享状态

> ID：15243227
> 
> 赞同：1
> 
> 时间：2013-03-06T09:16:43.530
> 
> 标签：android, android-intent, android-activity

我在不同活动之间传递状态数据时遇到问题。现在我有四个：

*   活动之间的坐标（一个大的 onActivityResult 方法）并且没有真正的 UI（只是一个空白布局）
*   B 添加一些数据（字符串）
*   C添加一些数据（拍照）
*   D 显示上传前对数据的审查，之后状态被删除

首先，我将此工作流的状态存储在活动 A 的实例变量中，但大多数情况下，Android 从 B 返回时都会对 A 进行垃圾收集（可能是因为方向更改），所以我得到了空指针异常。然后我尝试将状态存储在一个可打包对象中，该对象是在 B 返回到 A 并返回结果时创建的，然后将该对象传递给 C。它很好地到达 C，但是当我再次从 C 打包对象以返回时到 A 它由于某种原因没有到达。当试图将对象从 A 交给 D 时，这会导致另一个 NPE。

最后，数据需要删除：上传后由D删除，或者如果您中途关闭应用程序并且没有完成所有活动。您将在 A（或 B，这是一个实际可用的活动）重新开始。

到目前为止，我目前的结构感觉比它应该的要复杂得多。我认为应该取消活动 A。但我不确定在它的位置上实施什么。**此外，我不确定如何使活动 C 可重复 2 或 3 次**，每次都添加数据，然后再转到 D。我发现的可能解决方案：

*   使用带有 FLAG_ACTIVITY_FORWARD_RESULT 的意图并将活动链接在一起，如[如何通过多个活动返回结果中所述](https://stackoverflow.com/questions/9135449/how-to-return-a-result-through-multiple-activities)
*   使用服务管理状态
*   摘自我现在桌上[的书：使用 Fragments 存储状态（使用 setRetainInstance 方法）](http://www.wrox.com/WileyCDA/WroxTitle/Professional-Android-4-Application-Development.productCd-1118102274.html)
*   扩展 android.app.Application 来管理状态
*   在 SharedPreferences 中存储状态（但我会在哪里做家务？）

我是 Android 开发的新手......我可能迟早会让它们全部工作，但我的情况的正确解决方案是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:29:12.910

您应该更加关注[Activity Lifecycle](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)。在您的情况下，在您的[intents 和 results中使用](http://developer.android.com/reference/android/app/Activity.html#StartingActivities)[extras](http://developer.android.com/reference/android/content/Intent.html#getExtras%28%29)就足够了。服务和 SharedPreferences 绝对不是您想要的。如果数据非常复杂或庞大，扩展应用程序是一个不错的选择，但这看起来不像您的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:44:39.860

您可以使用

```
android.app.Application class 
```

在您的应用程序中，它是应用程序级别的类，它是通过在 menifest.xml 文件中配置来自动创建的。您可以通过以下方式在活动中访问此类

```
getApplication(); 
```

您可以在此类中设置应用程序级别数据，并从一个活动中设置并在另一个活动中使用它

# machine-learning - 特征选择

> ID：15243229
> 
> 赞同：0
> 
> 时间：2013-03-06T09:16:44.520
> 
> 标签：machine-learning, data-mining, feature-selection

我有以术语为维度的文档术语数据。我必须根据条款执行特征选择，并且我打算使用互信息作为执行特征选择的度量。我的疑问是，在计算所有可能对之间的互信息之后要做什么？我应该设置一个阈值并选择落在阈值内的所有项吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:17:08.447

如果你想使用互信息，你可以考虑使用 mRMR 算法。您可以使用此类算法选择特征。我的意思是说：

```
You have n features at your data set (it means n dimensions) 
```

如果你想用最有意义的

```
k of n (k < n) 
```

您可以使用特征选择（即使用互信息背景的mRMR）

决定*k*取决于某些情况。

*   其中之一是您不想在模型创建时使用不必要的功能。

*   另一件事是您想避免计算成本并从数据集中删除一些特征

您应该在删除某些功能后测试您的算法。您检查准确性是否会提高，并且根据您的目标，即使准确性会下降，是否会避免计算成本（因此您可能也想消除一些功能）

另一方面，我建议您查看特征提取方法，即 PCA 和 LDA（特别是针对您的情况）。

# sql - 根据日期列选择非重复项 - SQL Server

> ID：15243230
> 
> 赞同：1
> 
> 时间：2013-03-06T09:16:51.147
> 
> 标签：sql, sql-server, select, join

我有两个这样的表：

```
Clients                 
ID  |  Name  |  DOB      | etc...   
1   | Andy   | 26/12/90  |
2   | Bob    | 27/10/93  |
3   | Callum | 11/12/97  |
4   | Dave   | 06/01/64  |
5   | Andy   | 01/06/89  |

ClientRecordEntries
ID | cID | DateSaved      | Address               | Phone Number | Blah blah blah...
1  | 1   | 06/03/13 03:01 | 1 High Street         | 0754812374   |
2  | 1   | 06/03/13 04:05 | 1 High Street         | 0854123474   |
3  | 5   | 06/03/13 04:23 | 742 Evergreen Terrace | 0548162384   |
4  | 4   | 06/03/13 03:27 | 5 Spooner St          | 0512348455   |
5  | 3   | 06/03/13 05:03 | 6 Cromwell Avenue     | 0745289324   |
6  | 5   | 06/03/13 05:04 | 743 Evergreen Terrace | 0548162384   |
7  | 5   | 06/03/13 05:17 | 743 Evergreen Terrace | 0461238489   |
8  | 2   | 06/03/13 05:18 | 45 High Street        | 0682374988   | 
```

这个想法是关于每个客户端的一些基本的、不可变的信息存储在第一个表中，更详细的信息存储在第二个表中。当客户的数据被编辑时，而不是编辑他们在 ClientRecordEntries 中的相应行，会添加一个全新的行（带有时间戳），以便记录所有先前所做的更改。因此，每个客户端的当前信息是第二个表中与其 ID 对应并具有最新时间戳的行。

例如，ID 为 5 的客户住在 743 Evergreen Terrace，他的电话号码是 0461238489，他的详细信息已被编辑两次（因此总共输入了 3 次 - 第二个表格的第 3、6 和 7 行。）

我的问题是，如何将第一个表的查询结果与第二个表连接，但删除除每个客户端的最新信息之外的所有行？例如，在上面的示例中，我想为每个名为“Andy”的人选择当前信息，所以我想要结果：

```
Name |  DOB     | Address               | Phone Number | etc...
Andy | 26/12/90 | 1 High  Street        | 0854123474   |
Andy | 01/06/89 | 743 Evergreen Terrace | 0461238489   | 
```

我猜我想要一些类似的东西`SELECT * FROM Clients JOIN ClientRecordEntries ON Clients.ID=ClientRecordEntries.cID WHERE Name='Andy'...`，然后使用一些东西，`MAX(SavedDate)`但我被卡住了。有什么建议么？

（是的，我意识到`SELECT *`会显示比我上面输入的更多的列，但我正在简化事情。）

如果它有所作为，我正在使用 SQL Server。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:37:25.713

除非您的客户端数量很少，否则您应该在表 ClientRecordEntries 中添加一个标志，以指示出于性能原因对于每个客户端而言哪一行是最新的，并添加一个涵盖该标志和 cId 列的索引。

由于很少需要查看这些旧信息，另一种解决方案是使用第三个表来旧这些旧信息。通常，会有一个表来保存其他表中的所有旧信息；以及其他一些信息，例如版本时间和完成版本的用户。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:21:10.910

通过术语*删除重复项*，如果您的意思是只想在投影期间隐藏重复值，您可以在此使用窗口函数，

```
WITH records AS
(
    SELECT  ID,cID,DateSaved,Address ,[Phone Number],
            ROW_NUMBER() OVER (PARTITION BY cid ORDER BY DateSaved DESC) rn
    FROM    ClientRecordEntries
)
SELECT  a.*, DateSaved,Address ,[Phone Number]
FROM    Clients a
        INNER JOIN records b
            ON a.ID = b.cid
WHERE   b.rn = 1 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!3/fc311/5)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:43:14.890

> 尝试这个。您可以使用`CTE`and`ROW_NUMBER()`来实现这一点。

```
WITH CTE  
AS  
(  
   SELECT *,  
      ROW_NUMBER() OVER (PARTITION BY CID ORDER BY DateSaved DESC) RN  
   FROM ClientRecordEntries  
)  

SELECT *   
FROM Clients C  
INNER JOIN CTE CT  
ON CT.CID = C.ID  
WHERE C.NAME = 'Andy' 
AND RN = 1 
```

[SQL 小提琴演示](http://www.sqlfiddle.com/#!3/93635/13)

# javascript - 我如何在jquery中匹配没有空格的正则表达式

> ID：15243232
> 
> 赞同：0
> 
> 时间：2013-03-06T09:16:55.700
> 
> 标签：javascript, jquery, regex

我有这个正则表达式，它工作正常

```
var r = new RegExp(page, 'i'); 
$("ul.nav-tabs a").filter(function(){ return $(this).text().match(r) }).parent().addClass("active"); 
```

但如果我有它就行不通

`page = useraccount`

和文字是`User Account`

有没有办法让通用正则表达式匹配普通单词和连接单词

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:23:39.680

你这样做的方式是行不通的，因为“用户”总是在“用户帐户”之内。

您可以通过解决一些问题使其适用于您的特定用例，也可以以正确的方式进行。

我建议在您可以完全匹配的链接中添加另一个字段。或者，甚至更清洁，到`<li>`. 像这样：

```
<ul class="nav-tabs">
    <li data-page="user"><a href="..." >User</a></li>
    <li data-page="useraccount"><a href="..." >User Accounts</a></li>
    ...
</ul> 
```

然后你可以在你的javascript中做到这一点：

```
var elements = $("ul.nav-tabs > li").filter(function() {
    return $(this).data('page') == page;
});
elements.addClass("active"); 
```

# java - JAR 文件是否依赖于机器

> ID：15243238
> 
> 赞同：0
> 
> 时间：2013-03-06T09:17:01.330
> 
> 标签：java, jar

我正在使用 Eclipse Juno IDE 用 Ja​​va 制作数学反应游戏。根据我已经完成的研究，IDE 在保存时将所有内容编译为`.class`文件*字节码*！现在的问题是我尝试*从 Windows 机器*中提取所有内容到 JAR 中，并将 JAR 提供给一些 beta 测试人员。Beta 测试人员在尝试从 Linux/Mac 访问它时报告了问题。我也已经知道，*我将所有内容提取到*的可运行 JAR基本上是一个经过美化的 ZIP*压缩文件*，其中包含 JVM 可以理解和执行的字节码。鉴于我的游戏有多个`.java`文件，我想知道：

1.  将字节码打包成 JAR 依赖于机器

2.  我的选择，以确保所有用户都能够玩我的游戏//并获得收益；还值得指出的是，我的电脑没有 javac.exe；Sun Microsystems 报告说该程序已过时

    ```
    System.out.println("Thanks for your patience in advance!"); 
    ```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:22:30.557

1.  Java 字节码完全独立于平台
2.  每个有权运行 JVM 的人都可以玩你的游戏

从官方[平台概述](http://docs.oracle.com/javase/7/docs/technotes/guides/index.html)：

> Java 虚拟机是一种抽象的计算机，它具有指令集并在运行时操作内存。Java 虚拟机被移植到不同的平台以提供硬件和操作系统的独立性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T04:49:11.533

发现 Mac 电脑只运行 Java 6 //而且我可能正在使用 Java 7 独有的代码

# c# - 信号器/集线器和 jquery 脚本上的 404 错误

> ID：15243245
> 
> 赞同：8
> 
> 时间：2013-03-06T09:17:33.863
> 
> 标签：c#, asp.net, iis-7, http-status-code-404, signalr

我刚开始使用`SignalR`C#，看起来很有趣。

我创建了一个`ASP.NET Empty Web Application`并遵循下面提到的教程

我在 MSDN 上找到[了 SignalR 入门教程。](http://www.asp.net/signalr/overview/getting-started/tutorial-getting-started-with-signalr)

我已经完成了教程中提到的所有步骤。它似乎在我的本地机器上运行时工作`ASP.NET Development Server`。

但是当我将项目部署到我的`IIS7`时，它不起作用。

当我检查提琴手时，它在包含在 html 页面中的所有脚本文件上都有 404 的结果。

这是提琴手所展示的![在此处输入图像描述](../Images/0c0f9d5330d04a46ddefbb2758554e31.png)

即使我从 StackOverflow 上的帖子中找到了一些建议，当我更改`web.config`文件时，这些建议似乎也不起作用。

最后我`web.config`根据[SignalR 的常见问题](https://github.com/SignalR/SignalR/wiki/Faq)修改了我的。

这是我的 web.config 文件：

```
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true">
    </modules>
  </system.webServer>

</configuration> 
```

Global.asax 文件：

```
public class Global : System.Web.HttpApplication
    {

        protected void Application_Start(object sender, EventArgs e)
        {
            // Register the default hubs route: ~/signalr/hubs 
            RouteTable.Routes.MapHubs();
        }
        // Rest of the Methods(Session_Start,Application_BeginRequest..) are empty
     } 
```

我也变了

```
 <script type="text/javascript" src="/signalr/hubs"></script> 
```

至

```
<script type="text/javascript" src='<%= ResolveClientUrl("~/signalr/hubs") %>'></script> 
```

和

```
<script type="text/javascript" src='<%= ResolveUrl("~/signalr/hubs") %>'></script> 
```

它们似乎都不起作用。

不要犹豫，询问是否需要任何信息。

任何帮助，将不胜感激

* * *

**更新**

根据 Aron 的建议，对`Global.asax`文件进行了以下更改

```
 RouteTable.Routes.IgnoreRoute("Scripts/"); 
```

现在，`jQuery`脚本似乎也在加载和工作。

这是托管在 IIS 上时更新的错误消息，它来自`Console`浏览器窗口的选项卡。

```
SCRIPT5022: SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/hubs'></script>. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-18T19:40:46.297

当 IIS 无法处理扩展少 url 时可能会发生 404 错误

[http://support.microsoft.com/kb/980368](http://support.microsoft.com/kb/980368)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-03T21:27:39.457

您的 IIS 设置可能存在问题。请尝试为 .js 扩展名添加 MIME 类型。参考这个[链接](http://forums.iis.net/t/1195352.aspx/1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-15T11:33:58.740

MSDN 文章演示了如何在 2.0 版中创建 SignalR 应用程序。但是您使用 signalr 1.0 和可能较旧版本的 Visual Studio。升级 Visual Studio 并使用 nugget 包管理器将 Signalr 2.0 要求添加到您的项目中。我认为作为第一次尝试，最好使用 asp.net Web 应用程序而不是 MVC（如 MSDN 文章）。所以你不会有路由问题。我可以毫无问题地运行示例。

# facebook-graph-api - 如何获取 OpenGraph 对象的对象 ID？

> ID：15243250
> 
> 赞同：3
> 
> 时间：2013-03-06T09:17:51.323
> 
> 标签：facebook-graph-api, facebook-opengraph, facebook-fql

我正在尝试使用以下 FQL 获取 OpenGraph 对象的对象 ID：

```
SELECT url,site,id 
FROM object_url 
WHERE url IN ( 
    'http://www.MY_OPENGRAPH_OBJECT_URL'
) 
```

我得到的结果 ID 与[https://developers.facebook.com/tools/debug返回的 ID 不同](https://developers.facebook.com/tools/debug)

我无法使用[https://graph.facebook.com/ID](https://graph.facebook.com/ID)查询（我可以使用从 Facebook 调试器返回的 ID）。

我得到的这个不同的 ID 是什么？如何获得正确的对象 ID？有没有使用 Facebook Android SDK v3 的简单方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:09:25.830

基于 facebook[文档](https://developers.facebook.com/docs/reference/fql/object_url/)

```
 id - The ID of the Graph object represented by the URL 
```

使用网址：

```
SELECT url, id, type, site FROM object_url WHERE url = "http://www.mashable.com" 
```

回复 ：

```
{
  "data": [
    {
      "url": "http://www.mashable.com", 
      "id": 435564669831754, 
      "type": "link", 
      "site": "www.mashable.com"
    }
  ]
} 
```

使用 ID ：

```
SELECT url, id, type, site FROM object_url WHERE id = 435564669831754 
```

回复 ：

```
{
  "data": [
    {
      "url": "http://mashable.com/stories/", 
      "id": 435564669831754, 
      "type": "link", 
      "site": "mashable.com"
    }
  ]
} 
```

在这种情况下，对于可混搭的 URL，响应值“类型：链接”，如果您使用返回 id 调用图形 api，它不会给出任何值。但是如果返回类型是“页面”，那么返回 ID 将起作用。

但是如果尝试使用这个 IMDB url，

```
SELECT url, id, type, site FROM object_url WHERE url = "http://www.imdb.com/title/tt0117500/" 
```

回复 ：

```
 {
  "data": [
    {
      "url": "http://www.imdb.com/title/tt0117500/", 
      "id": 114324145263104, 
      "type": "page", 
      "site": "www.imdb.com"
    }
  ]
} 
```

来自文档——>

```
type - The type of object the URL represents (note: 'Page' incorporates any URL with an 'og:type' specified) 
```

我也尝试在 www.imdb.com

```
SELECT url, id, type, site FROM object_url WHERE url = "http://www.imdb.com" 
```

回复 ：

```
{
  "data": [
    {
      "url": "http://www.imdb.com", 
      "id": 6903354771, 
      "type": "link", 
      "site": "www.imdb.com"
    }
  ]
} 
```

但是，如果您检查 Fb 调试器工具中的任何 url，在最后一部分中，有一个带有 ID 的 Graph API URL 可以正常工作。我不确定 facebook 如何在 Debugger 中得到这个。

# php - 如何知道哪个网站在 php 中访问我的 api

> ID：15243255
> 
> 赞同：-5
> 
> 时间：2013-03-06T09:18:03.327
> 
> 标签：php

如何知道哪个网站在 php.ini 中访问我的 api。

就像我可以看到那台机器的IP地址使用
`$_SERVER['REMOTE_ADDR'];`

那么我怎么知道那个网站的名字呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:21:46.340

## [`REMOTE_HOST`](http://php.net/manual/en/reserved.variables.server.php)

> 用户从中查看当前页面的主机名。反向 dns 查找基于用户的 REMOTE_ADDR。

**注意：**您的 Web 服务器必须配置为创建此变量。例如，在 Apache 中，您需要*`HostnameLookups On`*在*httpd.conf*中才能存在。另请参阅[`gethostbyaddr()`](http://www.php.net/manual/en/function.gethostbyaddr.php)。

这就是你能成功的程度。

* * *

我将包含来自@Teneff 的上述评论，*您确实意识到您可以使用单个 IP 地址在一台机器上托管多个网站*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:59:38.137

如果工作流程是这样的，我认为有一个函数[gethostbyname()](http://php.net/manual/en/function.gethostbyname.php)可以为你完成这项工作：

1.  用户配置 API 凭证
2.  添加将发出请求的域名
3.  身份验证后，您检查结果`gethostbyname( $api_client['domain'] )`是否等于`$_SERVER['REMOTE_ADDR']`

这样，即使客户端地址已更改，它也会得到解决。

# c++ - DLL 在 x64 系统上不起作用

> ID：15243257
> 
> 赞同：3
> 
> 时间：2013-03-06T09:18:06.133
> 
> 标签：c++, .net, profiling, profiler

我刚刚编写了一个 .NET 分析器（CLR 将使用的 DLL）。实际上，该 DLL 可在 Windows XP 上使用专为应用程序设计的`Any CPU`应用`Win32`程序。但是，在 Windows 7 x64 上，它仅适用于为`x86`体系结构设计的应用程序。问题可能出在哪里？任何帮助，将不胜感激。

更新：是否可以为 DLL 构建一个 DLL `Any CPU`？如果没有，还有其他选择吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T19:11:51.730

我在[David Broman 博客](https://web.archive.org/web/20190114032252/https://blogs.msdn.microsoft.com/davbr/2006/11/13/wow64-and-your-profiler)中找到了解决方案：

```
For x86 Machine 
 - Just run regsvr32 like you usually do.
For x64 or ia64 Machine    
 - If you want to be able to profile 64 bit apps, 
         run 64 bit regsvr32 against your 64 bit Profiler DLL
 - If you want to be able to profile 32 bit apps (WOW), 
         run 32 bit regsvr32 against your 32 bit Profiler DLL.
 - If you want to support both, do both! 
```

换句话说，如果我们想要分析 x64 机器上的所有应用程序，我们需要构建 2 个具有相同 GUID (CLSID) 的 DLL，一个用于 x86 应用程序，另一个用于 x64 应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T23:20:51.717

在 Windows 7 X64 机器上运行“任何 CPU”应用程序将默认使用 64 位 (x64) CLR（公共语言运行时），除非您明确告诉它以 32 位 (x86) 模式运行。

您可以通过使用.Net SDK 中提供的[命令行工具](http://msdn.microsoft.com/en-us/library/ms164699%28v=vs.80%29.aspx)更改其标志来强制将其加载到 32 位运行时：

```
corflags.exe /32BIT+ myAssembly.exe 
```

这实际上会将其更改回 x86 dll。很可能，它在您的 xp 机器上运行的原因是因为您不支持该机器上的 64 位 CLR，因此即使它是“任何 CPU”，它也将始终以 32 位 x86 模式运行。

另请注意，“任何 CPU”DLL 将始终默认为加载它的主机应用程序的位数。

我假设您必须在探查器 DLL 中执行与 64 位 (x64) 不兼容的操作。问题是“无法正常工作”是什么意思。您是否遇到“错误的图像格式”之类的异常，或者该 DLL 是否由另一个编译方式不同的程序集调用？有什么意想不到的结果？

# java - 如何使用 java 卷曲 URL 并将输出保存到文件中

> ID：15243259
> 
> 赞同：3
> 
> 时间：2013-03-06T09:18:10.680
> 
> 标签：java, linux, curl

我是 java 新手，需要帮助了解如何`cURL`在 java 中使用并将命令的输出保存`cURL`到运行时的文件中。

让我们考虑一下，因为我`cURL`在 linux 机器上使用了下面的 URL。

`http://maniv.com/maniv/rest?method=sendMessage&msg_type=binary&parameter1=9999999&parameter2=9999999`

当我`curl "http://maniv.com/maniv/rest?method=sendMessage&msg_type=binary&parameter1=9999999&parameter2=9999999"`在 linux 中使用上述 URL 时，它会给出如下输出：

```
Message | sent | successfully 
```

现在，当我更改并点击 URL`parameter1`时，我每次都需要根据 as 文件名将输出写入一个新文件。`parameter1`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:37:31.957

你必须在 Java 中使用 curl 命令吗？你可以使用 HttpClient 来获取 html 文件吗？[http://hc.apache.org/httpclient-3.x/](http://hc.apache.org/httpclient-3.x/)

请参考这个问题：[Read url to string in few lines of java code](https://stackoverflow.com/questions/4328711/read-url-to-string-in-few-lines-of-java-code)。它提供了很好的答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:51:49.323

感谢您的努力。经过长时间的尝试，我得到了答案！`

```
 String url = "http://maniv.com/maniv/rest";
    String charset = "UTF-8";
    String method = "sendMessage";
    String msg_type = "binary";
    String parameter1 = "9999999";
    String parameter2 = "0000000";
    String msg = "001100110001100011";

    // ...
    StringBuffer sb = null;
    String query = String
            .format("method=%s&msg_type=%s&userid=%s&password=%s&msg=%s",
                    URLEncoder.encode(method, charset),
                    URLEncoder.encode(msg_type, charset),
                    URLEncoder.encode(userid, charset),
                    URLEncoder.encode(password, charset),
                    URLEncoder.encode(msg, charset));
    try {
        URL requestUrl = new URL(url + "?" + query);
        HttpURLConnection conn = (HttpURLConnection) requestUrl.openConnection();
        conn.setDoOutput(true);
        conn.setRequestMethod("GET");
        OutputStreamWriter osw = new OutputStreamWriter(conn.getOutputStream());
        osw.write(query);
        osw.flush();
        BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));
        String in = "";
        sb = new StringBuffer();
        while ((in = br.readLine()) != null) {
            sb.append(in + "\n");
            System.out.println("Output:\n" +in);
        }
    } catch (Exception e) {
        System.out.println("Exception occured" + e);
    }
} 
```

}`

# django - 如何获得 ManyToManyFields 的级联删除？

> ID：15243261
> 
> 赞同：0
> 
> 时间：2013-03-06T09:18:11.743
> 
> 标签：django, cascade, manytomanyfield

我有一个带有两个`ManyToManyField`s 的模型，指的是 Position 模型。当一个 Position 实例被删除时，我希望在管理员中具有与 ForeignKey 相同的行为，即级联删除 + 一条消息，要求确认将被删除的对象列表。

我怎样才能做到这一点？

```
class Task(models.Model):    
    start_positions = models.ManyToManyField(Position, related_name='start_pos')
    end_positions = models.ManyToManyField(Position, related_name='end_pos')
    # more stuff 
```

**编辑**

我知道这个问题：[Django - Cascade delete in ManyToManyRelation](https://stackoverflow.com/q/3937194/326849)，但它没有正确的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:35:01.183

```
class Task(models.Model):    
    start_positions = models.ManyToManyField(
        Position, 
        related_name='start_pos', 
        on_delete=models.CASCADE
        )
    end_positions = models.ManyToManyField(
        Position, 
        related_name='end_pos', 
        on_delete=models.CASCADE
        ) 
```

# android - 如何在 Android 应用中使用 AsyncTask

> ID：15243262
> 
> 赞同：0
> 
> 时间：2013-03-06T09:18:12.687
> 
> 标签：android, json, android-asynctask

我完全被 AsyncTask 所困扰，对我应该输入的参数、进度和结果感到困惑。在我的应用程序中，我需要在图库中显示图像。网址由所有图像组成。我通过 JSON 获取这些图像 url 并将响应保存在数组列表中并将其传递给新活动。但是，我可以将 JSON 响应保存在名为“image_urls”的数组列表中。作为 android 新手，我很困惑应该在后台和异步任务中提供哪些参数。提前致谢。

以下是我创建的单独类，在 doInBackground 中，我使用 JSON 获取 reuired 项目。我很困惑我应该在 AsyncTask 和 doInBackground 中放置哪些所有参数

```
public abstract  class Images1 extends AsyncTask<Void, Integer, Void>{
        private static volatile Executor sDefaultExecutor = SERIAL_EXECUTOR;
        private static String url = "http://www.ttt.com/album_pro/array_to_encode";

         ArrayList<String> urlList = new ArrayList<String>();
         JSONParser jParser = new JSONParser();
         ArrayList<String> image_urls = new ArrayList<String>();

         protected ArrayList<String>  doInBackground(Void... params) {
                 JSONObject json = jParser.getJSONFromUrl(url);

                    try{
                JSONObject seo = json.getJSONObject("SEO");
                JSONArray folio = seo.getJSONArray("Folio");

                JSONArray image_urls1 = new JSONArray();
                String s1=seo.getString("Folio");

                                for(int i=0;i<folio.length();++i)
                                {
                            String m = folio.getString(i);
                            Log.v("M"+i,m);
                            image_urls.add(m+ ",");

                                }
                    }
                    catch(Exception e)
                    {
                        e.printStackTrace();
                    }
               return image_urls;
             }

             protected void onProgressUpdate(Integer... progress) {

             }

             protected void onPostExecute(String[] result) {

             }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:20:20.927

尝试这个，

```
 public class GetTask extends AsyncTask<Void, Void, Integer> {

    @Override
    protected void onPreExecute() {
        // TODO Auto-generated method stub
        mPreogressDialog = ProgressDialog.show(Mainactivity.this,
                "Loading", "Please wait");
    }

    @Override
    protected Integer doInBackground(Void... params) {
        // TODO Auto-generated method stub
        //Do your stuff here call ur methods
                    imagedownload();
        return 0;
    }

    protected void onPostExecute(Integer result) {
        super.onPostExecute(result);
        // TODO Auto-generated method stub
        if (mPreogressDialog.isShowing())
            mPreogressDialog.dismiss();

    }

}

public vlid imagedownload(){
JSONObject json = jParser.getJSONFromUrl(url);

                try{
            JSONObject seo = json.getJSONObject("SEO");
            JSONArray folio = seo.getJSONArray("Folio");

            JSONArray image_urls1 = new JSONArray();
            String s1=seo.getString("Folio");

                            for(int i=0;i<folio.length();++i)
                            {
                        String m = folio.getString(i);
                        Log.v("M"+i,m);
                        image_urls.add(m+ ",");

                            }
                }
                catch(Exception e)
                {
                    e.printStackTrace();
                }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:28:58.390

如果您在[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)上看到他们已经很好地解释了 AsyncTask。

但如果你不明白，让我试一试：

Android 通过一个线程修改用户界面，即所谓的**UI 线程**。如果您直接在 UI 线程上执行长时间运行的操作，例如从 Internet 下载文件，您的应用程序的用户界面将“<strong>冻结”，直到相应的任务完成。

***AsyncTask*** *允许正确和轻松地使用 UI 线程。此类允许在 UI 线程上执行后台操作并发布结果，而无需操作线程和/或处理程序。*

为了使用 AsyncTask 类，您必须扩展它并至少覆盖 doInBackground() 方法。

您需要实现的最常见方法是：

1.  `onPreExecute()`– 在线程开始运行之前在 UI 线程上调用。此方法通常用于设置任务，例如通过显示进度条。

2.  `doInBackground(Params…)`– 这是在后台线程上运行的方法。在这种方法中，您应该将您希望应用程序在后台执行的所有代码。完成后，它将结果发送到 onPostExecute()。

3.  `onProgressUpdate()`- 在 doInBackground() 中调用 publishProgress() 时调用。

4.  `onPostExecute(Result)`– 在后台线程完成后在 UI 线程上调用。它将从 doInBackground() 接收到的结果作为参数。

`AsyncTask`是一个泛型类，它使用 3 种类型：`AsyncTask<Params, Progress, Result>.`

`Params`– 输入。您传递给 AsyncTask 的内容（可以是下载文件的 URL）

`Progress`– 如果您有任何更新，则传递给 onProgressUpdate()（如果您想在 UI 上显示下载过程的进度，则使用此参数）

`Result`- 输出。什么将 doInBackground() 返回到 onPostExecute()

# jquery - 使用不同大小的图像构建响应式动画网格

> ID：15243264
> 
> 赞同：-2
> 
> 时间：2013-03-06T09:18:17.653
> 
> 标签：jquery, html, css, gallery, responsive-design

我想要实现的是由许多图像组成的横幅，如下所示：http: [//imgur.com/I0NcWdy](http://imgur.com/I0NcWdy)

图像的尺寸和纵横比不同，但它们出现在同一个布局网格上（因此 HTML/CSS“骨架”可以固定），每个图像在不同的时间出现并带有动画效果（jqueryui 的反弹）。

横幅没有固定的尺寸，它根据窗口的大小按比例缩放，以保持其纵横比。我已经设法获得按比例缩放的 DIV，所以这不是问题。

我正在努力弄清楚如何购买但没有成功，尝试了 Masonry，但我无法像我想要的那样制作动画或放置图像。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:22:46.147

这对你有用吗？

应用自定义类来调整每个图像的大小并可能定位每个图像，例如，简单的如下：

**CSS**

```
.image1{
width:10%;
height:auto;
}

.image2{
width:20%;
height:auto;
} 
```

或者可能：

```
.image1{
position:relative;
top:0;
left:0;
width:10%;
height:auto;
}  

.image2{
position:relative;
top:0;
left:10%;
width:20%;
height:auto;
}   

.image3{
position:relative;
top:0;
left:30%;
width:15%;
height:auto;
} 
```

HTML

```
<div class="header">  
<img class="image1" ....>
<img class="image2" ....>  
....
</div> 
```

自然地，您需要根据图像的细节和相对比例来调整定位和大小。如果这是可行的，尽管它可以很好地扩展并适用于您拥有的任何动画。

祝你好运！

# git - Microsoft Git Provider 和 Visual Studio 2012 无法启动配置的比较工具

> ID：15243266
> 
> 赞同：9
> 
> 时间：2013-03-06T09:18:20.867
> 
> 标签：git, visual-studio-2012, integration

我正在使用最新的 Visual Studio 2012 Update 2，并且我已经安装了官方[的 Microsoft 的 Git 支持](http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c)。但是当我尝试区分修改后的文件时，工作室会尖叫：

```
Failed to start the configured compare tool. 
```

但似乎 Git 提供程序中没有比较工具的配置！我应该怎么做才能解决这个问题？

也许我错过了什么？

我在 Visual Studio Tools for Git[支持论坛](http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c/view/Discussions)的问答部分提出了同样的问题，但目前没有答案。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2021-03-12T14:16:56.500

重启 Visual Studio (2019)
对我来说已经足够了。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-03-12T02:07:54.027

如果有人因同样的问题（就像我所做的那样）解决这个问题，VS 2015 可以在 Git 设置下进行配置。

[![在此处输入图像描述](../Images/70e7b36ed07aff5b01e170e434f3b7ef.png)](https://i.stack.imgur.com/X8uct.jpg)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-07T12:13:17.947

确保您已为 Visual Studio 使用的 git 环境设置了 diff.tool。通常，您可以通过从开始菜单启动 Git bash 来找到它。如果您使用其他 git 工具，则必须为全局范围设置此项：

`git config --global difftool.vs11.cmd "c:/program files (x86)/microsoft visual studio 11.0/common7/ide/devenv.exe" '//diff' "$LOCAL" "$REMOTE"`

`git config --global diff.tool vs11`

# javascript - 在 JavaScript 中将 blob 读取为数据 url

> ID：15243268
> 
> 赞同：2
> 
> 时间：2013-03-06T09:18:21.267
> 
> 标签：javascript, jquery, html, clipboard, data-uri

我正在从剪贴板功能制作粘贴图像，然后我需要将 blob 数据转换为 base64 编码的数据 url，这是代码：

```
function handlepaste (event, e) { 
    var items = e.clipboardData.items;
    event.innerHTML = items[0].getAsFile();
    FileReader.readAsDataURL( event.innerHTML );

   if (event.childNodes && event.childNodes.length > 0) {
   $('body').append( event.innerHTML );
   }
    if (e.preventDefault) {
            e.stopPropagation();
            e.preventDefault();
    }
    return false;
} 
```

但是代码对我不起作用，Chrome 控制台日志说：

> 未捕获的类型错误：对象函数 FileReader() { [native code] } 没有方法“readAsDataURL”

我该如何`[object Blob]`转向`data:image/png;base64,iVBORw...`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:29:58.040

我认为您没有正确实例化 FileReader：`var file_reader = new FileReader();`

然后使用`file_reader.readAsDataURL(...)`

# c - 在c中使用链表排序

> ID：15243272
> 
> 赞同：4
> 
> 时间：2013-03-06T09:18:53.597
> 
> 标签：c, sorting, linked-list

我正在实施排序。该程序从带有 ASCII 字符的文本文件中读取。每行有两个元素，由空格分隔。假设输入是“a b”。这定义了 a 和 b 之间的优先关系，即“a 必须出现在 b 之前”。

所以如果文件是

```
抗体
直流
BD

```

输出是

```
一个
b
d
C

```

我创建了两个链表

*   `bigList`：存储唯一元素（`count`跟踪前面的元素）
*   `smallList`: 存储前面的元素
*   项目清单

我的代码做了什么的总结

*   逐行读取文件
*   每行抓取两个元素
*   检查它们是否已经存在，如果不存在则插入它们
*   根据计数打印出结果

它实际上打印出文件中的所有元素，就像上面的输入一样，我的输出是

```
一个
b
b
d
d
C

```

我是 C 编程新手，请让我知道我做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:15:58.747

我对拓扑排序知之甚少，但我认为我知道的足够多，可以发表明智的评论。任何人都应该随时编辑此回复。

我看到这个实现有几个问题。一些与 C 有关，另一些与算法有关，所以让我一次过一遍。

* * *

**问题定义**。 [拓扑排序](http://en.wikipedia.org/wiki/Topological_sorting)确实被定义为有向图中元素的优先级。但是，仅凭这句话并不能完全定义问题。*具体来说，拓扑排序是从指定源顶点开始*的图元素的优先级。例如，假设您有以下有向图：

```
a -> b
b -> c
c -> a 
```

如果你从 vertex 开始`a`，你的拓扑顺序应该是`{a, b, c}`. 如果你从 vertex 开始`c`，你的拓扑顺序应该是`{c, a, b}`. 因此，如果没有源顶点，问题定义就毫无意义。这种顶点的一种选择可以是图中没有指向它的边的某个顶点，即每个入射边都是出边。

要记住的另一件事是图形[连通](http://en.wikipedia.org/wiki/Connected_graph)性。从任何其他顶点到达任何顶点并不总是可能的。因此，在实现此类算法时值得牢记。

* * *

**好的数据结构是好的算法的关键**。如果你想在有向图中对事物进行排序，最好的办法是创建一个有向图数据结构，这本身就涉及创建一个`Node`数据结构和一个`Edge`数据结构。我建议查找[邻接列表](http://en.wikipedia.org/wiki/Adjacency_list)。一旦你有了这样的数据结构，就可以在图上运行[广度优先搜索](http://en.wikipedia.org/wiki/Breadth_first_search)，并且你会得到你的拓扑优先级作为一个简洁的结果。

在实现邻接列表时，您仍然需要将所有元素存储在一个地方。链表通常不是最好的方法，因为插入一个列表需要恒定的时间（假设对数据进行排序），搜索一个需要线性时间。那是次优的。正如[@David RF](https://stackoverflow.com/users/1606345/david-rf)所建议[的那样，红黑树](http://en.wikipedia.org/wiki/Red-black_tree)和[AVL 树](http://en.wikipedia.org/wiki/AVL_tree)将是要走的路。但是，我不会从这个优化开始。只要你有一个完善的工作算法，你总是可以改进你的存储数据结构。毕竟，链表和搜索树的接口是一样的。

* * *

**如果您使用正确的算法，该算法可以很快**。我在实践中没有处理过拓扑排序，所以我不知道每一个复杂性和每一个边缘情况。但！如果您使用传统的节点边数据结构进行广度优先搜索（请注意，边可以在节点内隐式定义），您的搜索本身应该使用广度优先搜索花费线性时间。

我已经阅读了你的算法，我不得不承认我并没有完全理解你的大列表和小列表的概念。模棱两可的名字并没有真正的帮助。也许它通过隐藏在某个地方的一个小错误来完成这项工作，但它不太可读。也许其他人可以评论您当前的实施。

# coordinates - 如何计算 2 点之间的距离（Lambert EU 投影坐标）

> ID：15243275
> 
> 赞同：0
> 
> 时间：2013-03-06T09:19:09.013
> 
> 标签：coordinates, distance, coordinate-systems

在坐标系统/投影和计算方面，我是一个真正的菜鸟，所以请像个傻瓜一样跟我说话:)

我有坐标数据（上面写着这是兰伯特欧盟投影），如下所示：

```
R A00   x_center    y_center
1 svk   519922,4822 2089546,836
2 aut   486321,4714 2087458,014
3 aut   493858,9945 2085882,625 
```

现在我的第一个麻烦是，我可以找到一大堆处理 WGS84 坐标的计算和公式，但我从未见过像上面这样的坐标。

目标是：

*   我需要计算两点之间的公里距离，例如第 1 行（x，y）和第 2 行（x，y）。
*   我需要最简单的公式（不需要高精度）
*   然后应该在 Oracle PL/SQL 中进行计算（PL/SQL 代码，因为您的答案很好但不是必需的，我更关心给定的坐标以及如何用它们计算以公里为单位的距离）。

有人可以指出我正确的方向吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:24:52.147

我记得兰伯特坐标已经以笛卡尔米为单位。

所以只需使用和`sqrt(dx*dx +dy*dy)`来获得以米为单位的距离。`dx=x2-x1``dy=y2-y1`

如果您必须将它们转换为 WGS84，那么它会变得更加复杂：

首先，您必须找出投影的确切名称，最好通过他们的 EPSG 投影编号。（它们不止一个 Lambert 投影，例如法国 Lambert 2 etendue）

然后你必须更加努力地搜索，有文档，描述了兰伯特投影。

# java - Android获取ArrayList中的所有联系人电话号码

> ID：15243278
> 
> 赞同：29
> 
> 时间：2013-03-06T09:19:17.263
> 
> 标签：java, android, android-contacts, phone-number

我正在尝试将所有联系人电话号码保存在 ArrayList 中，但我找不到方法。有没有办法让它们而不是用 ContactsContract 一个一个地挑选它们？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-03-06T09:29:22.780

```
ContentResolver cr = mContext.getContentResolver(); //Activity/Application android.content.Context
    Cursor cursor = cr.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
    if(cursor.moveToFirst())
    {
        ArrayList<String> alContacts = new ArrayList<String>();
        do
        {
            String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));

            if(Integer.parseInt(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0)
            {
                Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = ?",new String[]{ id }, null);
                while (pCur.moveToNext()) 
                {
                    String contactNumber = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
                    alContacts.add(contactNumber);
                    break;
                }
                pCur.close();
            }

        } while (cursor.moveToNext()) ;
    } 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-03-06T09:29:48.717

尝试这个：

```
Cursor managedCursor = getContentResolver()
    .query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
     new String[] {Phone._ID, Phone.DISPLAY_NAME, Phone.NUMBER}, null, null,  Phone.DISPLAY_NAME + " ASC"); 
```

通过遍历游标，您可以将所有这些数据存储在您选择的任何数据结构中。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-08-02T10:26:39.333

此代码的运行速度将比答案中的代码快得多，因为您无需为每个联系人进行额外查询。

```
private static final String CONTACT_ID = ContactsContract.Contacts._ID;
private static final String HAS_PHONE_NUMBER = ContactsContract.Contacts.HAS_PHONE_NUMBER;

private static final String PHONE_NUMBER = ContactsContract.CommonDataKinds.Phone.NUMBER;
private static final String PHONE_CONTACT_ID = ContactsContract.CommonDataKinds.Phone.CONTACT_ID;

public static ArrayList<String> getAll(Context context) {
    ContentResolver cr = context.getContentResolver();

    Cursor pCur = cr.query(
            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
            new String[]{PHONE_NUMBER, PHONE_CONTACT_ID},
            null,
            null,
            null
    );
    if(pCur != null){
        if(pCur.getCount() > 0) {
            HashMap<Integer, ArrayList<String>> phones = new HashMap<>();
            while (pCur.moveToNext()) {
                Integer contactId = pCur.getInt(pCur.getColumnIndex(PHONE_CONTACT_ID));
                ArrayList<String> curPhones = new ArrayList<>();
                if (phones.containsKey(contactId)) {
                    curPhones = phones.get(contactId);
                }
                curPhones.add(pCur.getString(pCur.getColumnIndex(PHONE_NUMBER)));
                phones.put(contactId, curPhones);
            }
            Cursor cur = cr.query(
                    ContactsContract.Contacts.CONTENT_URI,
                    new String[]{CONTACT_ID, HAS_PHONE_NUMBER},
                    HAS_PHONE_NUMBER + " > 0",
                    null,null);
            if (cur != null) {
                if (cur.getCount() > 0) {
                    ArrayList<String> contacts = new ArrayList<>();
                    while (cur.moveToNext()) {
                        int id = cur.getInt(cur.getColumnIndex(CONTACT_ID));
                        if(phones.containsKey(id)) {
                            contacts.addAll(phones.get(id));
                        }
                    }
                    return contacts;
                }
                cur.close();
            }
        }
        pCur.close();
    }
    return null;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-08-23T13:58:57.143

试试这个也可以得到所有的联系人。

```
Cursor cursor = context.getContentResolver().query(Phone.CONTENT_URI, null , null , null,
                        "upper("+Phone.DISPLAY_NAME + ") ASC"); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-09-08T13:43:06.297

在 kotlin 中尝试这个来获取所有联系人

```
fun getContacts(ctx: Context): List<ContactModel>? {
    val list: MutableList<ContactModel> = ArrayList()
    val contentResolver = ctx.contentResolver
    val cursor: Cursor? =
        contentResolver.query(
            ContactsContract.Contacts.CONTENT_URI, null,
            null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + " ASC"
        )
    if (cursor!!.count > 0) {
        while (cursor.moveToNext()) {
            val id =
                cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID))
            if (cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) > 0) {
                val cursorInfo: Cursor? = contentResolver.query(
                    ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
                    null,
                    ContactsContract.CommonDataKinds.Phone.CONTACT_ID + " = ?",
                    arrayOf(id),
                    null
                )
                val inputStream: InputStream? =
                    ContactsContract.Contacts.openContactPhotoInputStream(
                        ctx.contentResolver,
                        ContentUris.withAppendedId(
                            ContactsContract.Contacts.CONTENT_URI,
                            id.toLong()
                        )
                    )
                val person: Uri =
                    ContentUris.withAppendedId(
                        ContactsContract.Contacts.CONTENT_URI,
                        id.toLong()
                    )
                val pURI: Uri = Uri.withAppendedPath(
                    person,
                    ContactsContract.Contacts.Photo.CONTENT_DIRECTORY
                )
                var photo: Bitmap? = null
                if (inputStream != null) {
                    photo = BitmapFactory.decodeStream(inputStream)
                }
                while (cursorInfo!!.moveToNext()) {
                    val info = ContactModel()
                    info.setId(id)
                    info.setName(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME)))

                    info.setMobileNumber(
                        cursorInfo.getString(
                            cursorInfo.getColumnIndex(
                                ContactsContract.CommonDataKinds.Phone.NUMBER
                            )
                        )
                    )

                    photo?.let { info.setPhoto(it) }
                    info.setPhotoURI(pURI)
                    list.add(info)
                }
                cursorInfo.close()
            }
        }
        cursor.close()
    }
    return list
} 
```

需要为此创建一个数据类

```
class ContactModel {
@SerializedName("id")
private var id: String = ""

@SerializedName("name")
private var name: String? = ""

@SerializedName("mobileNumber")
private var mobileNumber: String? = ""

@SerializedName("photo")
private var photo: Bitmap? = null

@SerializedName("photoURI")
private var photoURI: Uri? = null

fun getId(): String {
    return id
}

fun setId(id: String) {
    this.id = id
}

fun getName(): String? {
    return name
}

fun setName(name: String) {
    this.name = name
}

fun getMobileNumber(): String? {
    return mobileNumber
}

fun setMobileNumber(mobileNumber: String) {
    this.mobileNumber = mobileNumber
}

fun getPhoto(): Bitmap? {
    return photo
}

fun setPhoto(photo: Bitmap) {
    this.photo = photo
}

fun getPhotoURI(): Uri? {
    return photoURI
}

fun setPhotoURI(photoURI: Uri) {
    this.photoURI = photoURI
}

override fun toString(): String {
    return "ContactModel(id='$id', name=$name, mobileNumber=$mobileNumber, photo=$photo, photoURI=$photoURI)"
} 
```

}

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-09-18T11:37:42.303

此方法已优化，并且仅获取不同的联系人

```
@RequiresApi(api = Build.VERSION_CODES.N)
private List<ModelContacts> getContacts() {

    ArrayList<ModelContacts> list = new ArrayList<>();
    Cursor cursor = this.getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);

    cursor.moveToFirst();

    while (cursor.moveToNext()) {

        list.add(new ModelContacts(cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME))
                , cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER))));

    }
    cursor.close();

    if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {

        List<ModelContacts> distinctList = list.stream().filter(distinctByKey(c -> c.getName()))
                .collect(Collectors.toList());

        return distinctList;
    }
    else {

        return list;
    }
}

@RequiresApi(api = Build.VERSION_CODES.N)
public static <T> Predicate<T> distinctByKey (final Function<? super T, Object> keyExtractor)
{
    Map<Object, Boolean> map = new ConcurrentHashMap<>();
    return t -> map.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-02-06T08:55:51.047

首先，创建一个用于存储联系人数据的模型类：并在您的联系人中添加 getAllContact(context) 方法：不要忘记在清单中添加读取联系人的用户权限：

```
data class ContactModel(
    var name: String? = "",
    var mobileNumber: String? = "",
    var photoURI: Uri? = null
) 
```

```
class ContactsFragment : Fragment(R.layout.contacts_fragment) {
    private var _binding: ContactsFragmentBinding? = null
    private val binding get() = _binding
    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        _binding = ContactsFragmentBinding.inflate(inflater, container, false)
        return binding?.root
    }

    @SuppressLint("Recycle")
    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        if (!context?.let { checkIfAlreadyHavePermission(it) }!!) {

            context?.let { requestContactPermission(it) }
        } else {
            lifecycleScope.launch(Dispatchers.IO) {
                context?.let { getAllContacts(it) }
                Log.e("con", "con" + getAllContacts(requireContext()))

            }
        }

    }
fun getAllContacts(context: Context): List<ContactModel> {
        val contactList: ArrayList<ContactModel> = ArrayList()
        val contentResolver = context.contentResolver
        val notifier: Cursor? = contentResolver.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + " ASC")
        if (notifier!!.count > 0) {
            while (notifier.moveToNext()) {
                val id = notifier.getString(notifier.getColumnIndex(ContactsContract.Contacts._ID))
                if (notifier.getInt(notifier.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) > 0)
                { val notifierInfo: Cursor? = contentResolver.query(
                        ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + " = ?", arrayOf(id), null
                    )
                    val user: Uri =
                        ContentUris.withAppendedId(
                            ContactsContract.Contacts.CONTENT_URI,
                            id.toLong()
                        )
                    val userURI: Uri = Uri.withAppendedPath(
                        user,
                        ContactsContract.Contacts.Photo.CONTENT_DIRECTORY
                    )

                    while (notifierInfo!!.moveToNext()) {
                        val info = ContactModel()
                        info.name =
                            (notifier.getString(notifier.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME)))

                        info.mobileNumber = (
                                notifierInfo.getString(
                                    notifierInfo.getColumnIndex(
                                        ContactsContract.CommonDataKinds.Phone.NUMBER
                                    )
                                )
                                )
                        contactList.add(info)

                    }
                    notifierInfo.close()
                }
            }
            notifier.close()
        }
        return contactList
    } 
```

# c++ - MySQL 内存泄漏：libmysqlclient.18

> ID：15243280
> 
> 赞同：2
> 
> 时间：2013-03-06T09:19:18.993
> 
> 标签：c++, mysql

我已经尝试了日日夜夜的谷歌搜索和阅读 MySQL 文档，但我似乎无法找出可能导致内存泄漏的原因。

它似乎是随机发生的，这是唯一泄漏的功能。

代码：

```
unsigned long numRowQuery(std::string query)
{
    MYSQL *connection = mysql_init(NULL);
    MYSQL_RES *result;
    unsigned long num_rows;

    // connecting to database
    if(!mysql_real_connect(connection,SERVER,USER,PASSWORD,DATABASE,0,NULL,0))
    {
        std::cout << "Connection error: " << mysql_error(connection) << std::endl;
    }

    if (mysql_query(connection, query.c_str()))
    {
        std::cout << "MySQL query error: " << mysql_error(connection) << std::endl;
        exit(1);
    }
    result = mysql_store_result(connection);
    num_rows = mysql_num_rows(result);

    mysql_free_result(result);
    mysql_close(connection);
    mysql_library_end();
    return num_rows;
} 
```

![乐器裁剪](../Images/22f4cc08309b965d7c057ffbc0e65683.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-20T08:41:38.843

> 如果启用多语句支持，则应使用调用 mysql_next_result() 的循环来检索对 mysql_query() 或 mysql_real_query() 的调用的结果，以确定是否有更多结果。

您的软件中的某些查询可能会产生更多结果，因此，您需要在发出查询后获取所有查询。尝试将 mysql_free_result 函数调用放在一个循环中，如下面的代码：

```
while (mysql_next_result(connection) == 0)
{
    result = mysql_store_result(connection);
    if (result)
        mysql_free_result(result);
} 
```

这是文档：[mysql_store_result](http://dev.mysql.com/doc/refman/5.0/en/mysql-store-result.html)

# java - Android - 如何从 Activity 2 返回到 Activity 1 的第二个片段？

> ID：15243282
> 
> 赞同：0
> 
> 时间：2013-03-06T09:19:25.930
> 
> 标签：java, android, android-activity, android-actionbar

我的活动有三个片段1。

[1]、[2]、[3]

Fragment[2] 列出了一些项目，当我单击特定项目时，它将启动activity2。

activity2 上有一个后退按钮。按下它时，如何在activity1上返回fragment [2]？

这样做的最佳做法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:28:04.063

使用第二个活动中的代码：

```
 Button backbtn=(Button)findViewById(R.id.back);

    backbtn.setOnClickListener(new View.OnClickListener()
    {
        public void onClick(View view)
        {
            finish();
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:30:02.867

您通常不会创建“后退按钮”。因此，您使用 android 中已经实现的“后退按钮”。
但是，如果您仍想返回，请使用“finish()”或“system.exit(0)”（就像“Danny”向您展示的那样！）。

# twitter-bootstrap - 拆分按钮下拉菜单设置操作 url

> ID：15243284
> 
> 赞同：3
> 
> 时间：2013-03-06T09:19:26.553
> 
> 标签：twitter-bootstrap

我正在尝试`Split button dropdowns`在我的网络应用程序中实现，但找不到在主`Action`按钮上设置 Url 的方法：

```
<button class="btn">Action</button> 
```

怎么做？

[http://twitter.github.com/bootstrap/components.html#buttonDropdowns](http://twitter.github.com/bootstrap/components.html#buttonDropdowns)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:33:22.623

按钮不被认为是具有纯 html 动作的独立元素。

但是您可以将链接样式设置为按钮：

```
<div class="btn-group">
    <a href="#" class="btn">Action</a>

    <button class="btn dropdown-toggle" data-toggle="dropdown">
      <span class="caret"></span>
    </button>

  <ul class="dropdown-menu">
    <li>Test</li>
    <li>Test 2</li>
  </ul>

</div> 
```

或者，您将 JavaScript 侦听器添加到按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-27T14:11:34.767

我编写了一个独立的 jQuery 插件，它创建了一个[易于设置样式的下拉按钮](https://github.com/smashingboxes/splitdropbutton/)（带有主要和次要链接）。用法如下：

**标记**

```
<div class="split-btn">
  <a href="#">Primary Link</a>
  <a href="#">Secondary Link</a>
  <a href="#">Secondary Link</a>
  <a href="#">Secondary Link</a>
</div> 
```

**初始化**

```
$(document).ready(function(){
  $('.split-btn').splitdropbutton({
    toggleDivContent: '<i class="icon-reorder"></i>' // optional html content for the clickable toggle div
  })
}); 
```

有关更多详细信息和现场演示，请查看[github 存储库](https://github.com/smashingboxes/splitdropbutton/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-24T16:18:01.080

如果有人需要代码`Bootstrap 4 Alpha 5`

```
<div class="btn-group">
    <a class="btn btn-primary" href="#">Action</a>

    <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="sr-only">Toggle Dropdown</span>
    </button>

    <div class="dropdown-menu">
        <a class="dropdown-item" href="#">Test 1</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#">Test 2</a>
    </div>
</div> 
```

# python - Python方法覆盖规则

> ID：15243286
> 
> 赞同：0
> 
> 时间：2013-03-06T09:19:34.780
> 
> 标签：python, overriding

```
class a:
    def set(self, value):
        print value+1

    def set2(self, value):
        self.set(value)

class b(a):        
    def set(self, value):
        print value

if __name__ == '__main__':
    i = b()
    i.set2(10) 
```

执行时，我得到的结果是`10`，这意味着，`b.set()`被调用了，但为什么不`a.set()`因为它是用 explict 调用的`self`？

PS 所以，即使类 'a' 没有方法 set()，这段代码仍然有效吗？但这是一个好的编码规则吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:23:16.453

您`set()`在派生类中重写，所以这就是`self.set()`.

要调用`a`'s 方法，可以使用以下语法：

```
 a.set(self, value) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:23:33.000

当你打电话时，无论你在哪里打电话`self.set(value)`，它总是给你相同的定义。`set()`

```
class Animal(object):
    def interact(self):
        print('I am a {}, I say "{}"'.format(self.name(), self.speak()))

class Dog(Animal):
    def name(self):
        return 'dog'
    def speak(self):
        return 'woof' 
```

如果需要，可以`a.set()`显式调用。

```
class A(object):
    def set(self, value):
        print(value + 1)
    def set2(self, value):
        A.set(self, value) 
```

然而，这有点愚蠢。这个例子太抽象了，你不能用它来找出好的编码风格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:37:15.400

在您的情况下，如果您想调用`a`'s `set()`，您需要使用以下语法。 `a().set(10)`

# algorithm - 查找给定范围之间的最大不同数

> ID：15243295
> 
> 赞同：3
> 
> 时间：2013-03-06T09:20:08.843
> 
> 标签：algorithm, math, numbers

如果 a<=10*b 和 b<=10*a ，则称两个数 (a,b) 相似。现在给定两个范围 low 和 high ，返回一个集合，其中包含给定范围之间最大数量的非相似数字。

我只能想到蛮力方法。只需要知道如何以更好的复杂性解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:46:56.277

从您的描述中，我看到如果其中较大的数字不超过小数字的 10 倍，则两个数字是相似的。因此，如果您想从范围 [low...high] 中找到最大的数字集，以便该集合中没有两个数字相似，则解决方案将是从范围内的最小数字开始，即从“low”开始，并且每次取下一个与集合中的任何数字都不相似的最小数字（或者如果您只是检查它是否与集合中的最大元素不相似，则它是相同的）。

算法：

取**low**，然后**10 * low + 1**、**10 * (10 * low + 1) + 1**等...直到超过**上限**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:04:46.883

如果我正确理解问题，这应该有效：

```
// start with smallest number:

var numbers = [];
var number = range.lowest;
// while not reached end of range
while (number <= range.highest) {
    // add this number;
    numbers.push(number);
    // find next not similar number
    number = numbers * 10 + 1;
}

// start with highest number:

var numbers = [];
var number = range.highest;
// while not reached end of range
while (number >= range.lowest) {
    numbers.push(number);
    // find next non-similar number
    var newNumber = Math.floor(number / 10.0);
    if (numNumber == number / 10.0);
        newNumber--;
    number = newNumber;
} 
```

后一种方法可能会比第一种方法找到更多的数字，试试吧。但是，可能总会有不同的不相似数集，它们的大小可能相同。

# c++ - 在树中穿行

> ID：15243297
> 
> 赞同：3
> 
> 时间：2013-03-06T09:20:11.057
> 
> 标签：c++, tree-traversal

我正在研究 TreeDecomposition，其中树中的每个节点都可以从图中具有多个顶点。
现在，我正在尝试从树的根中找到包含**顶点 u的****第一个节点。**

 **```
int Tree::traversing(Node* node, int u){ 
    //search in current node
    int j = node->point_in_bag(u); //this function returns position of vertex u in node if not available -1
    if(j != -1){
       return node->index;
    }
    else{       
    // traverse in its children
    for(int k=0; k<node->children.size(); k++){ // children has the node's childs in it
        Node* nod = node->children[k];
        cout << "nod index is " << nod->index << endl;
        traversing(nod,u); // if vertex isn't found in node, traverse again in its children
        }
    }
} 
```

我已经尝试过像上面那样，但它没有返回确切的节点索引。我在哪里做错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:29:23.367

你在这里忘记了`return`：

```
traversing(nod,u); 
```

所以你的递归调用返回一些随机数据（并且具有未定义的行为）。

即使您已经返回，您也只会返回第一个孩子的索引。
如果找不到，您需要继续查找。

```
for(int k=0; k<node->children.size(); k++){
    Node* nod = node->children[k];
    int childIndex = traversing(nod,u);
    if (childIndex != -1)
        return childIndex;
}
return -1; 
```

您应该提高编译器的警告级别。**

# c++ - 如何将 boost 线程（源文件）集成到我自己的项目中

> ID：15243299
> 
> 赞同：0
> 
> 时间：2013-03-06T09:20:13.667
> 
> 标签：c++, boost, dll, cmake, boost-thread

我想要的是将关于boost线程的源文件（所有必要的头文件和源文件）放入我自己的项目中，这样其他人就不需要再配置对boost的支持了。构建系统由 CMake 制作。

最近我正在尝试将boost线程更新到实际版本1.53，但是新版本的boost线程无法在windows中内置。（它在linux下工作）

我集成boost线程的做法很简单，我只是把boost::thread需要的所有源文件放在一个文件夹中（包括boost::system的源文件），并为所有这些源文件制作一个DLL。（使用构建选项 BOOST_THREAD_BUILD_DLL）

但是当上面构建的 dll 库链接到我自己的代码时，我得到了一些未解决的 boost::system 引用错误，例如：

```
"unresolved reference to error_category xxxx" 
```

但是构建的库包含来自 boost::system 的源文件，我不知道为什么会出现这样的错误。你们能给我一些提示吗？非常感谢，我已经花了很多时间来解决这个令人作呕的问题 :(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:53:54.380

正如 Johannes 在他的评论中指出的那样，[BCP](http://www.boost.org/doc/libs/1_53_0/tools/bcp/doc/html/index.html)工具正是为了做到这一点而设计的：

> bcp 实用程序是一种用于提取 Boost 子集的工具，它对于希望将其库与 Boost 分开分发的 Boost 作者以及希望将 Boost 子集与他们的应用程序一起分发的 Boost 用户很有用。

# android - 获取实际窗口宽度android

> ID：15243300
> 
> 赞同：0
> 
> 时间：2013-03-06T09:20:16.687
> 
> 标签：android

因此，我试图获取手机屏幕的实际尺寸，以便将一堆菜单按钮居中。在我的 Gingerbread 手机上它工作正常，但在 Jellybean 模拟器上它完全错了......

```
WindowManager wm = (WindowManager) Assets.context.getSystemService(Context.WINDOW_SERVICE);
    Display display = wm.getDefaultDisplay();
    try{
        Point size = new Point();
        display.getSize(size);
        screenHeight = size.y;
        screenWidth = size.x;
    }catch(NoSuchMethodError e){
        //API lower than 12, revert to deprecated methods
        screenWidth = display.getWidth();
        screenHeight = display.getHeight();
    }*/ 
```

但是，例如，当我在 jellybean 上绘制 x = screenWidth/2 处的线时，它离屏幕中间很远！这让我发疯，非常感谢任何帮助:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:25:05.817

您可能应该`DisplayMetrics`改用。尝试这个：

```
DisplayMetrics metrics = Assets.context.getResources().getDisplayMetrics();
int widthPixels = metrics.widthPixels;
int heightPixels = metrics.heightPixels; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:22:13.710

```
Display display =getWindowManager().getDefaultDisplay();

try{

    screenHeight = display.getHeight();;
    screenWidth = display.getWidth();
}catch(NoSuchMethodError e){
    //API lower than 12, revert to deprecated methods

}*/ 
```

# doxygen - doxygen 成员分组不像文档中那样工作

> ID：15243306
> 
> 赞同：6
> 
> 时间：2013-03-06T09:20:55.050
> 
> 标签：doxygen

根据文档，这应该足以将文档授予类的相同成员

```
//@{
/** Same documentation for both members. Details */
void member1();
void member2();
//@} 
```

我的情况非常相似。我有

```
 //@{
  /*! \brief comment blah blah
   *  \param one param
   *  \param two param
   *  \return return
   Foo &member1(MyEnum one, Foo & two)
   Bar &member2(MyEnum one, Bar & two)
   Baz &member3(MyEnum one, Baz & two)
   //@} 
```

我试过了，但我只得到第一个的描述。我错过了什么吗？

**编辑**：好的，我试过他们的例子

```
/** A class. Details */
class Test
{
  public:
    //@{
    /** Same documentation for both members. Details */
    void func1InGroup1();
    void func2InGroup1();
    //@}

    /** Function without group. Details. */
    void ungroupedFunction();
    void func1InGroup2();
  protected:
    void func2InGroup2();
};

void Test::func1InGroup1() {}
void Test::func2InGroup1() {}

/** @name Group2
 *  Description of group 2\. 
 */
///@{
/** Function 2 in group 2\. Details. */
void Test::func2InGroup2() {}
/** Function 1 in group 2\. Details. */
void Test::func1InGroup2() {}
///@}

/*! \file 
 *  docs for this file
 */

//!@{
//! one description for all members of this group 
//! (because DISTRIBUTE_GROUP_DOC is YES in the config file)
#define A 1
#define B 2
void glob_func();
//!@} 
```

它产生的结果与他们[提出的结果](http://www.doxygen.nl/manual/examples/memgrp/html/class_memgrp___test.html)不同。同样，我没有看到任何分组，也没有看到许多其他描述（例如“A 类”不存在）。在这一点上我不知道。我正在使用最新版本。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-11-20T12:57:11.503

请记住将 DISTRIBUTE_GROUP_DOC 设置为 YES。

我将其发布为答案，因为看起来@doxygen 不会这样做，信用到期

# batch-file - 可在 Windows 8 中使用的带有中止选项的 PC 关机命令

> ID：15243309
> 
> 赞同：2
> 
> 时间：2013-03-06T09:21:00.437
> 
> 标签：batch-file, command, message, shutdown, abort

我一直在尝试创建一个批处理文件，该文件会在 30 秒后触发我的 Windows 8 PC 开始关闭，并且还有一条警告消息：“您的 PC 将在 30 秒后关闭！请按取消按钮中止关闭。” 我在桌面上创建了以下批处理文件：

shutdown /s /c "你的电脑将在 30 秒后关机！/t 30

和：

关机/a

它确实关闭了电脑，但该消息直到 30 秒后才会显示，并在 1 秒内消失并开始关闭而无法停止。我什至尝试在 30 秒结束之前执行关机 /a 批处理文件，但没有成功停止关机。

Windows 8 的命令是否不正确？

我希望在 30 秒到期之前有一个带有弹出消息警告和取消（中止）按钮的脚本，或者至少让 2 个批处理文件在 Windows 8 中使用警告消息和中止批处理文件都工作.

不确定 Windows 8 是否有一个命令或一些可以工作但想让它工作的东西。非常感谢任何帮助！！！

非常感谢你！

比利

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-08T22:05:23.003

这有点容易，并且已经在 Windows 8 中进行了厨房测试。

```
:: Shutdown.bat
:: Messages a forced shutdown then waits for a Ctrl+C to abort,
:: any key to execute immediately, or shuts all programs and  
:: the computer down after Timeout /t (n) seconds automatically.
:: 
@echo off
echo.
echo.
:: 
echo Press Ctrl+C to Abort imminent Shutdown because I'm
timeout /t 120
::
shutdown.exe /s /t 5
exit 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:25:45.613

尝试

```
@echo off
echo Your PC will shutdown in 30 seconds! Press CTRL+C to abort.
ping -n 31 127.0.0.1>nul
shutdown /s 
```

PING 命令是一种将批处理脚本暂停所需时间的安全方法。更多信息在这里：[如何在批处理脚本中等待？](https://stackoverflow.com/questions/735285/how-to-wait-in-a-batch-script)

按 Ctrl-C 将中止批处理脚本的继续。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:01:53.353

你好，可以试试这个

```
@echo off
echo "Your System will shutdown in 30 seconds. To abort press A"
SET Option=Choice:
if "%Option%"=="A" GOTO Sub_MenuA
shutdown /s
:Sub_MenuA
exit 0 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-14T15:03:19.593

嗨，试试我创建并使用了有趣的任务调度程序的这个聪明的小代码。

```
title GO HOME
@echo off
:MAIN
echo.
echo.
echo.
echo Do you wanna shut down?
echo.
echo The time is %time%
echo.
echo.
echo.
echo.
set /p input= y or n?     
if %input%==n goto work
if %input%==y call bye.bat

:work
echo.
echo.
echo.
echo. Alright, keep working busy bee.

TIMEOUT 5 
```

再创建一个 bat 文件并保存为 bye.bat 并复制粘贴以下代码：

```
echo Have a nice evening, Cya.

shutdown.exe /s /t 0 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-14T00:15:43.930

这是另一种选择。此 BAT 文件询问用户一个“是/否”问题，以确定是否应继续关闭。用户无需按 CTRL+C 即可中止。在用户输入选择之前，关机不会继续。

```
@ECHO OFF
:: This batch file allows the user to choose to shutdown immediately, or cancel and   return to Windows
::
CD\
CLS
ECHO.
:LOOP
ECHO Would you like to shutdown immediately?
ECHO.
ECHO   Y = SHUTDOWN IMMEDIATELY (WARNING!! Unsaved work will be lost)
ECHO   N = CANCEL and return to Windows
ECHO.
SET Choice=
SET /P Choice=TYPE YOUR CHOICE AND PRESS ENTER: 
IF NOT '%Choice%'=='' SET Choice=%Choice:~0,1%
ECHO.
IF '%Choice%'=='y' GOTO ShutdownNow
IF '%Choice%'=='n' GOTO Leave
ECHO "%Choice%" is not valid. Please try again.
ECHO.
GOTO Loop
:ShutdownNow
ECHO.
shutdown /s /t 1

:Leave
Exit 
```

# ios - 使用 KissXML 和 armv7 GoogleMap

> ID：15243310
> 
> 赞同：0
> 
> 时间：2013-03-06T09:21:06.690
> 
> 标签：ios, google-maps, kissxml

我需要一些帮助，我遇到了这个问题，我需要在我的项目中使用 googleMap，我必须执行以下操作：将 Architectures 的默认值替换为`armv7`.

在其他链接器标志部分中，添加`-ObjC`. 如果这些设置不可见，请将 Build Settings 栏中的过滤器从 Basic 更改为 All。但如果我这样做，KissXML 就不起作用了……

像这样的一些错误：

```
duplicate symbol _OBJC_METACLASS_$_DDXMLInvalidNode in:
/Users/zxguo/Library/Developer/Xcode/DerivedData/AvePoint.CRM.TimeLine.IPhone-drfocqfderkbqcgsikoffypeyhek/Build/Intermediates/CRMTimeLine.build/Debug-iphonesimulator/CRMTimeLine.build/Objects-normal/i386/DDXMLNode.o
/Users/zxguo/Library/Developer/Xcode/DerivedData/AvePoint.CRM.TimeLine.IPhone-drfocqfderkbqcgsikoffypeyhek/Build/Products/Debug-iphonesimulator/CRMTimeLineCore.framework/CRMTimeLineCore(DDXMLNode.o)
ld: 16 duplicate symbols for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

我不知道该怎么做。请帮助我。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:31:58.073

检查您的项目文件，您的项目中似乎不止一次有 DDXMLNode。还要检查其他重复的文件。之后它应该建立。

# windows - 如何在 Windows Phone 8 模拟器上设置 Gmail 帐户？

> ID：15243314
> 
> 赞同：0
> 
> 时间：2013-03-06T09:21:13.210
> 
> 标签：windows, windows-phone, windows-phone-emulator

我已经在我的 W8 PC 上安装了 Windows Phone 8 模拟器。我可以通过模拟器的浏览器连接访问 gmail，但是当我尝试在“设置”下的帐户中配置 Gmail 时，它没有被配置/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:23:40.067

据我所知，您可以通过电话进行。

# html - 如何通过xpath查找下面的文本

> ID：15243324
> 
> 赞同：1
> 
> 时间：2013-03-06T09:21:37.140
> 
> 标签：html, xpath

```
<td class="subject" id="td_880700">
<a href="thread-htm-fid-75-type-148.html" class="f14 view">[health]</a>
<a href="read-htm-tid-880700.html" name="readlink" 
id="a_ajax_880700" class="subject_t f14"><b><font color=#FF0000>man's best love</font></b></a>&nbsp; 
```

我想在上面的代码中记录文本“man's best love”，但是在不同的表中有很多文本作为“man's best love”我需要在 ios 中记录为数组，如何生成 xpath 来查找所有位置，例如“man's最好的爱情”所有 html 脚本中的标题？

我创建了一个 xpath 来将文本标识为：`//td[@class='subject'/a/a/b`，但它不起作用，请

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:27:34.553

像这样的东西会起作用：

```
//td[@class='subject']/a/b/font/text() 
```

如果您使用的是 Chrome，您可以右键单击 Inspector 中的元素，然后单击**Copy XPath**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:28:02.427

`//td[@class='subject']/a/b/font/text()`

我在[http://www.xpathtester.com/test](http://www.xpathtester.com/test)尝试过，但需要关闭`td`并在颜色属性周围添加引号

# c++ - 类似的工具，如内核版本 2.6.9（或更低版本）的 inotify

> ID：15243325
> 
> 赞同：2
> 
> 时间：2013-03-06T09:21:43.110
> 
> 标签：c++, linux, monitoring, inotify

我必须在 c++（linux 环境）中编写应用程序来监视文件更改并保持进程直到文件写入未关闭。我已经查看并安装了 inotify 但它没有工作，因为我有内核版本 2.6.9。我无法升级内核版本，因为我正在使用远程机器。

我们有任何可以在内核 2.6.9 或 lwoer 的 c++（linux 机器）中使用的工具吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T21:08:02.673

你不能用[`dnotify`](http://en.wikipedia.org/wiki/Dnotify)吗？

它可用于启动内核，但已`2.4`被内核淘汰。`inotify``2.6.13`

`dnotify`可以通过`fcntl`API 访问，如果 API 不可用，它很可能在您当前的内核上可用`inotify`。[这](http://www.mjmwired.net/kernel/Documentation/filesystems/dnotify.txt)是有关如何使用它的文档。

# iphone - 如何从 UITable 视图单元格中删除白色

> ID：15243326
> 
> 赞同：1
> 
> 时间：2013-03-06T09:21:45.823
> 
> 标签：iphone, ios, objective-c

请参阅以下附件图片。我想从 `UITableViewCell`. 如何从表格视图单元格中删除白色。？ ![在此处输入图像描述](../Images/c724e2d41875532713aae76ec7a5efd0.png)

这是我的代码：

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
   {

        static NSString *CellIdentifier = @"Cell";

        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    cell=nil;

        if (cell == nil) {
         cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
       }
        Schedule *sch=(Schedule*)[tableDataList objectAtIndex:indexPath.row];

        NSString*ptime=@"";

      if(sch.ptime.length<8){
        ptime=[ptime stringByAppendingString:@"  "];
        ptime=[ptime stringByAppendingString:sch.ptime];
     }
    else
   {
     ptime=[ptime stringByAppendingString:sch.ptime];
  }

    UILabel *lbPTime=[[UILabel alloc]initWithFrame:CGRectMake(5, 10, 80, 25)];
    lbPTime.font=[UIFont fontWithName:@"Zawgyi-One" size:15];
    lbPTime.textColor=[UIColor whiteColor];
   [lbPTime setText:ptime];

   NSString*pname=@"";
   pname=[pname stringByAppendingString:sch.pname];
   pname=[pname stringByAppendingString:@" "];

   UILabel *lbPName=[[UILabel alloc]initWithFrame:CGRectMake(lbPTime.frame.size.width, 10, 250, 25)];
   lbPName.font=[UIFont fontWithName:@"Zawgyi-One" size:15];

  CGSize maximumLabelSize=CGSizeMake(296, 9999);
  CGSize expectedLabelSize= [pname sizeWithFont:lbPName.font
                                            constrainedToSize:maximumLabelSize
                                                lineBreakMode:lbPName.lineBreakMode];
  CGRect newFrame=lbPName.frame;
  newFrame.size.height=expectedLabelSize.height;
  newFrame.size.width=expectedLabelSize.width;
  lbPName.frame=newFrame;
  lbPName.numberOfLines=0;
  lbPName.lineBreakMode=UILineBreakModeWordWrap;
  lbPName.textColor=[UIColor whiteColor];
  [lbPName setText:pname];

  [cell.contentView addSubview:lbPTime];
  [cell.contentView addSubview:lbPName];
  [cell.contentView sizeToFit];

  UIView *v = [[UIView alloc]init];
  v.backgroundColor = self.tableview.backgroundColor;//[UIColor clearColor];

  cell.selectedBackgroundView = v;
  cell.backgroundColor=[UIColor clearColor];
  return cell;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:31:11.717

将`UILabel`背景颜色设置为`clearColor`,

```
[lbPTime setBackgroundColor:[UIColor clearColor]];
[lbPName setBackgroundColor:[UIColor clearColor]]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:25:52.393

使用此代码删除白色边框。

```
tableView.separatorColor = [UIColor clearColor]; 
```

编辑 ：

那些白块是因为`UILabel`你用过的。将背景颜色更改为`clearColor`.

```
lbPTime.backgroundColor = [UIColor clearColor];
lbPName.backgroundColor = [UIColor clearColor]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:31:28.117

将此属性也设置为您的属性

```
lbPTime.backgroundColor=[UIColor clearColor]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:25:33.377

要删除白色边框：

```
tableView.separatorColor = [UIColor clearColor]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T09:28:23.840

我认为标签背景需要设置清晰的颜色

```
lbPName.backgroundColor=[UIColor clearColor]; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T09:28:55.413

嗯，这是 textLabel 的背景颜色（试试这个代码）：

```
cell.textLabel.backgroundColor = [UIColor clearColor]; 
```

试试。

# jquery-week-calendar - jquery 周历将前一周和下周按钮更改为前一天和下一天

> ID：15243330
> 
> 赞同：1
> 
> 时间：2013-03-06T09:21:52.227
> 
> 标签：jquery-week-calendar

我在我的应用程序 [jquery-week-calendar中使用以下日历](http://jquery-week-calendar.googlecode.com/svn/trunk/jquery.weekcalendar/full_demo/weekcalendar_full_demo.html)

我想更改 prev 和 next 按钮，以便在单击它时转到 prev 和 next ，而不是 prev 和 next 周。

我是 jquery 的新手，我能够找到导致此问题的代码的某些部分。

```
 prevWeek : function() {
     //minus more than 1 day to be sure we're in previous week - account for daylight savings or other anomolies
     var newDate = new Date(this.element.data("startDate").getTime() - (MILLIS_IN_WEEK / 6));
     this._clearCalendar();
     this._loadCalEvents(newDate);
  },

  /*
   * Go to the next week relative to the currently displayed week
   */
  nextWeek : function() {
     //add 8 days to be sure of being in prev week - allows for daylight savings or other anomolies
     var newDate = new Date(this.element.data("startDate").getTime() + MILLIS_IN_WEEK + (MILLIS_IN_WEEK / 7));
     this._clearCalendar();
     this._loadCalEvents(newDate);
  }

   _loadCalEvents : function(dateWithinWeek) {

     var date, weekStartDate, endDate, $weekDayColumns;
     var self = this;
     var options = this.options;
     date = dateWithinWeek || options.date;
     weekStartDate = self._dateFirstDayOfWeek(date);
     weekEndDate = self._dateLastMilliOfWeek(date);

     options.calendarBeforeLoad(self.element);

     self.element.data("startDate", weekStartDate);
     self.element.data("endDate", weekEndDate);

     $weekDayColumns = self.element.find(".wc-day-column-inner");

     self._updateDayColumnHeader($weekDayColumns);

     //load events by chosen means
     if (typeof options.data == 'string') {
        if (options.loading) options.loading(true);
        var jsonOptions = {};
        jsonOptions[options.startParam || 'start'] = Math.round(weekStartDate.getTime() / 1000);
        jsonOptions[options.endParam || 'end'] = Math.round(weekEndDate.getTime() / 1000);
        $.getJSON(options.data, jsonOptions, function(data) {
           self._renderEvents(data, $weekDayColumns);
           if (options.loading) options.loading(false);
        });
     }
     else if ($.isFunction(options.data)) {
        options.data(weekStartDate, weekEndDate,
              function(data) {
                 self._renderEvents(data, $weekDayColumns);
              });
     }
     else if (options.data) {
           self._renderEvents(options.data, $weekDayColumns);
        }

     self._disableTextSelect($weekDayColumns);

  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-19T11:45:40.207

我希望您在日历中添加了其余功能：

你可以这样做：

```
 prevWeek : function() {

     var newDate = new Date(this.element.data("startDate"));
     newDate = this._addDays(newDate , -1);
     this._clearCalendar();
     this._loadCalEvents(newDate);
  },

  nextWeek : function() {

     var newDate = new Date(this.element.data("startDate"));
     newDate = this._addDays(newDate , 1);
     this._clearCalendar();
     this._loadCalEvents(newDate);
  } 
```

# c# - DbType 等效于 SqlDbType.Bit

> ID：15243333
> 
> 赞同：6
> 
> 时间：2013-03-06T09:22:02.547
> 
> 标签：c#, enterprise-library, enterprise-library-5, sqldbtype, dbtype

有谁知道与 SqlDbType.Bit 等效的 DbType 是什么？

我正在尝试转换

```
param[0] = new SqlParameter("@Status", SqlDbType.Bit);
param[0].Value = Status; 
```

到

```
db.AddInParameter(dbCommand, "@Status", <DbType dbType>, Status); 
```

但我不知道使用哪个 DbType 来表示单个位。有任何想法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T09:27:52.923

数据库类型`bit`在服务器端表示为布尔值，因此对应的`DbType`值为`DbType.Boolean`.

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-06T09:26:46.120

[`DbType.Boolean`](http://msdn.microsoft.com/en-us/library/system.data.dbtype.aspx)：

> 表示布尔值 true 或 false 的简单类型。

[`SqlDbType.Bit`](http://msdn.microsoft.com/en-GB/library/system.data.sqldbtype.aspx)：

> [布尔值](http://msdn.microsoft.com/en-GB/library/system.boolean.aspx)。一个无符号数值，可以是 0、1 或 null。

他们的描述不太匹配，但由于`Bit`被描述为 a `Boolean`，它是最合适的匹配。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-06T09:27:48.683

[http://msdn.microsoft.com/en-us/library/system.data.sqldbtype.aspx](http://msdn.microsoft.com/en-us/library/system.data.sqldbtype.aspx)

枚举 SqlDbType - 位：**布尔值**。一个无符号数值，可以是 0、1 或 null。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T09:28:55.030

从[http://msdn.microsoft.com/en-us/library/fhkx04c4](http://msdn.microsoft.com/en-us/library/fhkx04c4)，我会说`DbType.Boolean` 一个简单的类型，表示布尔值真或假。

# flash - adobe 边缘嵌入

> ID：15243337
> 
> 赞同：0
> 
> 时间：2013-03-06T09:22:14.037
> 
> 标签：flash, adobe-edge

我已经在 adobe edge 论坛中问过这个问题，但没有收到任何回复，所以希望可以在这里提问。

我正在寻找一些关于将 adobe 边缘动画嵌入网页的建议。

不幸的是，它比听起来更复杂，因为我没有任何编码知识。

我有几个网页，其中嵌入了一个 Flash 动画版本。我想将边缘动画添加到同一页面，但仅在设备没有或不支持 Flash 播放器时播放。因此，如果安装了 flash，我希望运行 flash 版本。如果没有闪存（ipad 等），则应播放边缘版本。我知道很多人选择相反的方式，但是当我学习 edge 时，Flash 版本要好得多，所以我更喜欢 Flash 版本主要玩。

到声音元素上。我为 Flash 文件播放了背景音乐（音乐内置于 Flash 动画中。我不确定如何使用边缘动画来做到这一点。大概需要使用某种 HTML5 将其编码到实际的 HTML 页面中标签？但我在这里看到的问题是，如果 Flash 版本开始播放 HTML5 声音版本，那么在支持 Flash 和 HTML5 标签的浏览器中也会开始播放。

我会欣赏任何关于如何实现这一目标的建议以及可能的代码示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T21:45:11.540

这可以帮助您检测浏览器是否有闪存

```
var hasFlash = false;
try {
var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
if(fo) hasFlash = true;
}catch(e){
if(navigator.mimeTypes ["application/x-shockwave-flash"] != undefined) hasFlash = true;
} 
```

# php - 学说 2 不返回 MSSQL 友好查询，但适用于 MYSQL

> ID：15243338
> 
> 赞同：0
> 
> 时间：2013-03-06T09:22:15.073
> 
> 标签：php, doctrine-orm

我正在写这样的查询：

```
$dql = "SELECT a FROM \Entities\User a";
$data = $em->createQuery($dql)->getResult(); 
```

它适用于 MYSQL，但使用 MSSQL 时会出现以下异常。

> 消息：执行'SELECT u0_.id AS id0，u0_.name AS name1 FROM user u0_'时发生异常：SQLSTATE [42000]：[Microsoft] [SQL Server Native Client 10.0] [SQL Server]关键字'附近的语法不正确用户'。

我正在使用的学说 2 驱动程序是`pdo_sqlsrv`.

我只想知道如果正在接受与此驱动程序的连接，那么为什么它不返回 MSSQL 查询而不是 MYSQL 查询。

# iphone - UITextField 中的占位符和文本不在同一位置（不同的缩进）

> ID：15243340
> 
> 赞同：0
> 
> 时间：2013-03-06T09:22:19.833
> 
> 标签：iphone, ios

为什么 UITextField 中的占位符和文本有不同的缩进？占位符的文本似乎向右移动了几个像素。我怎样才能删除这个缩进？文本字段是在 IB 中创建的。 ![在此处输入图像描述](../Images/38139f53a8b97a2cfc2f7dd9bd84cc7d.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:43:48.427

在这里没有任何区别！！ ![在此处输入图像描述](../Images/259679de051c5bed5c9f4438a7fa7e8f.png)

移动它使用

```
- (CGRect)textRectForBounds:(CGRect)bounds;
- (CGRect)placeholderRectForBounds:(CGRect)bounds; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:40:05.917

您可以覆盖这两种方法来制作您想要的矩形。他们来了 ：

```
- (CGRect)textRectForBounds:(CGRect)bounds;
- (CGRect)placeholderRectForBounds:(CGRect)bounds; 
```

链接在[这里](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UITextField_Class/Reference/UITextField.html)

正如苹果所说：

```
**placeholderRectForBounds:**
Returns the drawing rectangle for the text field’s placeholder text

    - (CGRect)placeholderRectForBounds:(CGRect)bounds
    Parameters
    bounds
    The bounding rectangle of the receiver.
    Return Value
    The computed drawing rectangle for the placeholder text.

    Discussion
    You should not call this method directly. If you want to customize the drawing rectangle for the placeholder text, you can override this method and return a different rectangle.

    If the placeholder string is empty or nil, this method is not called.

**textRectForBounds:**
Returns the drawing rectangle for the text field’s text.

- (CGRect)textRectForBounds:(CGRect)bounds
Parameters
bounds
The bounding rectangle of the receiver.
Return Value
The computed drawing rectangle for the label’s text.

Discussion
You should not call this method directly. If you want to customize the drawing rectangle for the text, you can override this method and return a different rectangle.

The default implementation of this method returns a rectangle that is derived from the control’s original bounds, but which does not include the area occupied by the receiver’s border or overlay views. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:23:00.497

我发现了这种行为的原因。这似乎是 iOS 5.0 中的一个错误。我创建了一个新项目，然后将 UITextFields 放到屏幕上，占位符的行为方式相同。但是当我将我的平台从 5.0 更改为 6.1 时，它起作用了！占位符不再从文本转移。所以我认为这是iOS 5.0的一个错误。谢谢大家的回答！

# node.js - 简单的 TCP 套接字聊天服务器在 heroku 上不起作用

> ID：15243342
> 
> 赞同：1
> 
> 时间：2013-03-06T09:22:23.110
> 
> 标签：node.js, heroku

我想在 heroku 上构建一个 node.js 聊天服务器，聊天客户端将是 iOS 应用程序。

我的第一次尝试是基于 socket.io 构建一个服务器。它有效，但我不喜欢 iOS 应用程序使用长轮询而不是 websocket 或 tcp 套接字与服务器通信的事实。

所以我的第二次尝试是使用真正的 TCP 套接字构建服务器，代码如下：

```
var net = require('net');

var sockets = [];

var server = net.createServer(function(socket){
    sockets.push(socket);
    socket.on('data', function (data) {
        for(var i=0; i< sockets.length; i++)
        {
            sockets[i].write(data);
        }
    });
    socket.on('end', function() {
        var i  = sockets.indexOf(socket);
        sockets.splice(i, 1);
    })
});

var port  = process.env.PORT || 5000;
console.log("server listening to port " + port);
server.listen(port); 
```

如果我在 localhost 中部署此 node.js 服务器代码，我可以使用终端作为测试客户端成功地向 TCP 服务器发送和接收聊天

```
nc localhost 5000 
```

但是，如果我在 heroku 中部署此服务器代码，我将无法再与服务器建立 tcp 连接。

我的理解是服务器将在 process.env.PORT 监听。

所以我首先追踪了服务器正在监听的这个端口，例如30134。

然后如果我尝试以这种方式连接：

```
nc http://my-heroku-app.herokuapp.com 30134 
```

什么都没发生。

我想我在某个地方有一些基本的误解。谁能指导我？在heroku服务器上可以进行真正的TCP套接字聊天吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:30:51.757

Heroku 不支持 websocket。这就是为什么，例如，`socket.io`需要强制使用`xhr-polling`. （见[https://devcenter.heroku.com/articles/using-socket-io-with-node-js-on-heroku](https://devcenter.heroku.com/articles/using-socket-io-with-node-js-on-heroku)）。

`socket.io`您可以使用支持多种传输的东西，而不是直接使用套接字。

这是因为他们使用旧版本的`nginx`，没有完整的 Web 套接字支持。

另外，您的应用程序正在侦听的端口`e.g. 30134`由 nginx 从端口 80 上的 heroku 主机名代理到 heroku 内部网络上的应用程序端口。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-19T06:28:25.610

我知道我参加这个聚会很晚了，但我写了一个插件来将原始 TCP 套接字路由到 Heroku ( [https://addons.heroku.com/ruppells-sockets](https://addons.heroku.com/ruppells-sockets) ) 以支持我正在从事的项目。它的测试版非常多，所以要温柔。

如果你仍然需要这个功能，我很想得到一些反馈。插件的文档链接到示例 nodejs TCP 和 Websocket 聊天服务器以获得灵感。

# reporting-services - SSRS 链接报告

> ID：15243349
> 
> 赞同：2
> 
> 时间：2013-03-06T09:22:48.810
> 
> 标签：reporting-services

有什么方法可以在 SSRS 中以编程方式创建链接报告。我知道通过单击“创建链接报告”按钮在 ReportManager 中创建链接报告的方法，但是需要以编程方式而不是手动进行。

任何意见将是有益的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T15:54:53.987

您可以查看 RSScripter。[http://sqldbtips.com/showarticle.asp?ID=62](http://sqldbatips.com/showarticle.asp?ID=62) 它创建基本上是 vb 脚本的 .rs 文件。您可以为您的链接报告编写一个，并将该链接报告添加到 .cmd 文件中以执行 rs 文件以在您的服务器上部署您的链接报告。

# sql-server - 使用 value1 查询 我的视图表是这样的： position price orderid buylog otherlog 1 15 100 08:00 08:01 2 15 100 08:00 08:02 2 15 100 08:00 08:05 2 问问题 问问题 2013-03-06T09:23:13.380 100 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 我的视图表是这样的： position price orderid buylog otherlog 1 15 100 08:00 08:01 2 15 100 08:00 08:02 2 15 100 08:00 08:05 2 15 100 08:00 08:02 2 15 101 08:10 08:15 2 15 101 08:10 08:12 2 15 102 08:20 08:25 2 15 103 08:30 08:31 2 15 103 08:30 08:32 2 15 103 08:30 08:33 预期结果： position price orderid buylog otherlog 1 15 100 08:00 08:01 2 15 100 08:00 08:05 2 15 101 08:10 08:15 2 15 102 08:20 08:25 2 15 103 08:30 08:33 我想这只是开始的一部分，我真正想要的是： position price 1 15 2 60 因此，我需要了解每个职位的总付款。 但是现在，我需要的是：对于每个位置和 orderid，我只想要具有最高 otherlog 条目的行。 现在还有其他日志时间低于购买日志时间，但我将它们过滤掉了buylog < otherlog。 但是现在我不知道如何仅显示每个 orderid-group 中最高的 otherlog。我试过了max(otherlog)，但它仍然输出第一个表。 这是将三个表连接在一起后的视图，我想在同一个查询中获得预期的结果。 查询是这样的： select position,price,orderid,buylog,otherlog from table1 inner join table2 on t1.userid=t2.userid inner join table3 on t2.id=t2.id where (some conditions to narrow down the results) 我正在使用 ms sql server 2012。 //编辑 查询： Use [dbname] go with cte as ( select olt.position, ot.price, ot.orderid, ot.buylog = min(ot.buylog) over (partition by olt.position,ot.orderid), olt.otherlog = max(olt.otherlog) over (partition by olt.position,ot.orderid), rn=row_number() over(partition by olt.position, order by olt.position) from ordertable as ot inner join anothertable as at on ordertable.userid=anothertable.userid inner join otherlogtable as olt on anothertable.id=otherlogtable.sessionlogid ) select olt.position, ot.price, ot.orderid, ot.buylog, olt.otherlog from cte where rn=1 据我所知，您可以通过电话进行。 sql-serverfilter 4 2 回答 2 This answer is useful 0 这应该有效（但不确定您的列的来源）： WITH cte AS (SELECT position, price, orderid, buylog = Min(buylog) OVER( partition BY position,orderid), otherlog = Max(otherlog) OVER( partition BY position,orderid), rn = Row_number() OVER( partition BY position,orderid ORDER BY position) FROM T1) SELECT position, price, orderid, buylog, otherlog FROM cte WHERE rn = 1 这是一个演示 编辑所以这里是您的联接的完整查询，以考虑您编辑的问题： WITH cte AS (SELECT olt.position, ot.price, ot.orderid, ot.buylog = Min(ot.buylog) OVER ( partition BY olt.position, ot.orderid), olt.otherlog = Max(olt.otherlog) OVER ( partition BY olt.position, ot.orderid), rn=Row_number() OVER( partition BY olt.position ORDER BY olt.position) FROM ordertable AS ot INNER JOIN anothertable AS at ON ordertable.userid = anothertable.userid INNER JOIN otherlogtable AS olt ON anothertable.id = otherlogtable.sessionlogid) SELECT position, price, orderid, buylog, otherlog FROM cte WHERE rn = 1 问题是： 从外部选择中删除表名CTE（例如SELECT position，而不是SELECT olt.position） PARTITION BY删除部分之间的逗号ROW_NUMBER和ORDER BY：rn=Row_number() OVER( partition BY olt.position ORDER BY olt.position) 于 2013-03-06T09:29:48.757 回答 This answer is useful 0 尝试这个： with cte as ( select olt.position, ot.price, ot.orderid, log1 = min(ot.buylog) over (partition by olt.position,ot.orderid), log2 = max(olt.otherlog) over (partition by olt.position,ot.orderid), rn=row_number() over(partition by olt.position order by olt.position) from ordertable as ot inner join anothertable as at on ordertable.userid=anothertable.userid inner join otherlogtable as olt on anothertable.id=otherlogtable.sessionlogid ) select position, price, orderid, log1 ALIASNAME1, log2 ALIASNAME2 from cte where rn=1 于 2013-03-06T11:54:57.113 回答 Related 2 c# - ViewModel 可以有一个也是 ViewModel 的孩子吗？ 1 java - 子字符串尝试处理错误（负）索引 2 jsp - 用于循环对象的 JSP 标记 1 openstreetmap - 如何在 Web 应用程序中使用 OpenStreetMap/MapNik 2 amazon-web-services - 安全停止 EC2 实例 1 arrays - 如何为数组的数组赋值 1 c# - XmlSerializer.Serialize 异常：“类型 [type] 不是预期的。” 1 php - 两因素身份验证和备份代码 1 jquery - 为什么 jQuery Fittext 不起作用？ 2 php - 在网页上加载图像的更快方法 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：15243352
> 
> 赞同：0
> 
> 时间：
> 
> 标签：sql-server, filter

我的视图表是这样的：

```
position price orderid buylog otherlog
1         15   100     08:00  08:01
2         15   100     08:00  08:02
2         15   100     08:00  08:05
2         15   100     08:00  08:02
2         15   101     08:10  08:15
2         15   101     08:10  08:12
2         15   102     08:20  08:25
2         15   103     08:30  08:31
2         15   103     08:30  08:32
2         15   103     08:30  08:33 
```

预期结果：

```
position price orderid buylog otherlog
1         15   100     08:00  08:01
2         15   100     08:00  08:05
2         15   101     08:10  08:15
2         15   102     08:20  08:25
2         15   103     08:30  08:33 
```

我想这只是开始的一部分，我真正想要的是：

```
position price
1         15 
2         60 
```

因此，我需要了解每个职位的总付款。

但是现在，我需要的是：对于每个位置和 orderid，我只想要具有最高 otherlog 条目的行。

现在还有其他日志时间低于购买日志时间，但我将它们过滤掉了`buylog < otherlog`。

但是现在我不知道如何仅显示每个 orderid-group 中最高的 otherlog。我试过了`max(otherlog)`，但它仍然输出第一个表。

这是将三个表连接在一起后的视图，我想在同一个查询中获得预期的结果。

查询是这样的：

```
select position,price,orderid,buylog,otherlog 
from table1 inner join table2 on t1.userid=t2.userid  
inner join table3 on t2.id=t2.id 
where (some conditions to narrow down the results) 
```

我正在使用 ms sql server 2012。

//编辑

查询：

```
Use [dbname]

go

    with cte
    as  (   select olt.position,
                ot.price,
                ot.orderid,
                ot.buylog = min(ot.buylog) over (partition by olt.position,ot.orderid),
                olt.otherlog = max(olt.otherlog) over (partition by olt.position,ot.orderid),
                rn=row_number() over(partition by olt.position, order by olt.position)
            from ordertable as ot inner join anothertable as at 
                            on ordertable.userid=anothertable.userid

                inner join otherlogtable as olt on anothertable.id=otherlogtable.sessionlogid
        )
    select  
    olt.position,
    ot.price,
    ot.orderid,
    ot.buylog,
    olt.otherlog
    from
    cte
    where
    rn=1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:29:48.757

这应该有效（但不确定您的列的来源）：

```
WITH cte 
     AS (SELECT position, 
                price, 
                orderid, 
                buylog = Min(buylog) 
                          OVER( 
                            partition BY position,orderid), 
                otherlog = Max(otherlog) 
                            OVER( 
                              partition BY position,orderid), 
                rn = Row_number() 
                     OVER( 
                       partition BY position,orderid 
                       ORDER BY position) 
         FROM  T1)
SELECT position, 
       price, 
       orderid, 
       buylog, 
       otherlog 
FROM   cte 
WHERE  rn = 1 
```

这是一个[**演示**](http://www.sqlfiddle.com/#!3/37eff/4/0)

**编辑**所以这里是您的联接的完整查询，以考虑您编辑的问题：

```
WITH cte 
     AS (SELECT olt.position, 
                ot.price, 
                ot.orderid, 
                ot.buylog = Min(ot.buylog) 
                              OVER ( 
                                partition BY olt.position, ot.orderid), 
                olt.otherlog = Max(olt.otherlog) 
                                 OVER ( 
                                   partition BY olt.position, ot.orderid), 
                rn=Row_number() 
                     OVER( 
                       partition BY olt.position 
                       ORDER BY olt.position) 
         FROM   ordertable AS ot 
                INNER JOIN anothertable AS at 
                        ON ordertable.userid = anothertable.userid 
                INNER JOIN otherlogtable AS olt 
                        ON anothertable.id = otherlogtable.sessionlogid) 
SELECT position, 
       price, 
       orderid, 
       buylog, 
       otherlog 
FROM   cte 
WHERE  rn = 1 
```

问题是：

1.  从外部选择中删除表名`CTE`（例如`SELECT position`，而不是`SELECT olt.position`）
2.  `PARTITION BY`删除部分之间的逗号`ROW_NUMBER`和`ORDER BY`：`rn=Row_number() OVER( partition BY olt.position ORDER BY olt.position)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:54:57.113

尝试这个：

```
with cte

as  (   select olt.position,

            ot.price,

            ot.orderid,

            log1 = min(ot.buylog) over (partition by olt.position,ot.orderid),

            log2 = max(olt.otherlog) over (partition by olt.position,ot.orderid),

            rn=row_number() over(partition by olt.position order by olt.position)

        from

            ordertable as ot

            inner join anothertable as at on ordertable.userid=anothertable.userid

            inner join otherlogtable as olt on anothertable.id=otherlogtable.sessionlogid
    )

select   position,  price,   orderid,

log1 ALIASNAME1, log2 ALIASNAME2

from   cte  where  rn=1 
```

# c# - System.IO.DirectoryNotFoundException：针对 XSD 验证 XML 时

> ID：15243358
> 
> 赞同：0
> 
> 时间：2013-03-06T09:23:42.577
> 
> 标签：c#, xml, exception, random, xsd

我有一个用 C# 编写的程序，它根据模式验证 XML 文件。

有时当我调用`xmlSchemaCollection.Add(null, schemaFileName)`where `xmlSchemaCollection`is a`XmlSchemaCollection`和`schemaFileName`is 到架构文件的 uri 时，我得到：

> “System.IO.DirectoryNotFoundException：找不到路径的一部分”。

具有架构的文件存在于本地磁盘上，并且每个人都对其具有读取权限。这大约是 100 次随机发生的。

有没有人见过这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:39:34.587

像这样写

```
sc.Add(null, "DataSet1.xsd"); 
```

将 DataSet1.xsd 添加到您的项目并将属性“复制到输出目录”设置为“始终复制”。（右键DataSet1.xsd，选择properties设置属性）

希望对你有帮助...

**已编辑**

我在我的系统中创建了与您提供的相同的路径和相同的模式名称，并且我能够毫无例外地执行以下代码：

```
try
        {
            XmlSchemaCollection sc = new XmlSchemaCollection();
            sc.ValidationEventHandler += new ValidationEventHandler(sc_ValidationEventHandler);

            var schemaFileName = "C:\\BrackeGis\\xmlschema\\BGO-Info-1_2.xsd";

            sc.Add(null, schemaFileName);
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex);
        } 
```

您创建的路径一定有错误。. .

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:25:57.493

您的架构引用了另一个架构，并且解析器正在尝试从（不存在的）文件位置打开它。你能发布xsd的第一行吗？

# jquery - 如何在引导弹出窗口中添加带有 var 的链接？

> ID：15243361
> 
> 赞同：1
> 
> 时间：2013-03-06T09:24:00.317
> 
> 标签：jquery, twitter-bootstrap, hyperlink, tooltip

我尝试使用这个

html

```
<div class="company-logo">
    <a class="popup" href="#" data-toggle="popover" data-content="Download den Mazda Case (.pdf)">
        <img src="img/logo/mazda.png" alt="logo">
    </a>
</div> 
```

JS

```
$(function () {
    var pop_description = $(this).attr("data-content");
    var pop_link = $(this).attr("href");
    var pop_content = '<a href="' + pop_link + '">' + pop_description + '</a>';

    $('.popup').popover({
        placement: 'top',
        html: true,
        content: pop_description
    });

}); 
```

但这是错误的，我有未定义的。我想在弹出框内容中添加链接

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-04-01T23:35:37.730

您可以创建一个名为“my-popover”的自定义弹出框

HTML

```
<div class="company-logo">
    <a class="popup" href="#" data-toggle="my-popover" data-content="Download den Mazda Case (.pdf)">
        <img src="img/logo/mazda.png" alt="logo">
    </a>
</div> 
```

JS

```
$('[data-toggle="my-popover"]').popover({
        'placement': 'top',
        'template':'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div><a href="' + pop_link + '"><div class="popover-content"></div></a></div></div>',
        'html': 'true'
  }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:38:17.450

你为什么不试试这个？

```
$(function () {
    var pop_description = $(this).attr("data-content");
    var pop_link = $(this).attr('href','http://example.com');
    var pop_content = '<a href="' + pop_link + '">' + pop_description + '</a>';
alert(pop_content);

    $('.popup').popover({
        placement: 'top',
        html: true,
       // content: pop_description
    });

}); 
```

我希望我能得到你想要做什么？

# java - bsp在java中崩溃

> ID：15243362
> 
> 赞同：0
> 
> 时间：2013-03-06T09:24:00.670
> 
> 标签：java, 3d

我用java写了一个[bsp](http://en.wikipedia.org/wiki/Binary_space_partitioning)函数，它似乎总是在同一行代码中崩溃，经过大约数千次迭代，它实际上是函数的第一行：

```
if (!tri.isEmpty()) {
             Triangle3D t= tri.get(0); 
```

例外是：

```
Exception in thread "Thread-3" java.lang.StackOverflowError
        at java.util.ArrayList.get(ArrayList.java:322)
        at pythagorastree3d.Scene.BSP(Scene.java:100) 
```

我真的很确定我正确地编写了函数。有人能帮我吗？

```
ArrayList<Triangle3D> tri = new ArrayList<Triangle3D>();
    if (cubeOrSphere) {
        for (int i = 0; i < p.getBinTree().toArrayList().size(); i++) {
            tri.addAll(p.getBinTree().toArrayList().get(i).getTriangles());
        }
    } else {
        for (int i = 0; i < ps.getBinTree().toArrayList().size(); i++) {
            tri.addAll(ps.getBinTree().toArrayList().get(i).getTriangles());
        }
    }
    for (int i = 0; i < ks.length; i++) {
        tri.addAll(ks[i].getList());
    }
    //left-front, right-behind
    BinTreeNode<ArrayList<Triangle3D>> bsp = new BinTreeNode<ArrayList<Triangle3D>>(new ArrayList<Triangle3D>());
    BSP(bsp, tri);

 private void BSP(BinTreeNode<ArrayList<Triangle3D>> bsp, ArrayList<Triangle3D> tri) {
    if (!tri.isEmpty()) {
         Triangle3D t= tri.get(0);
        ArrayList<Triangle3D> front, back, on;
        on = new ArrayList<Triangle3D>();
        on.add(t);
        front = new ArrayList<Triangle3D>();//i.e. left
        back = new ArrayList<Triangle3D>();//i.e. right
        Vector3D v;
        Triangle3D triangle;
        Vector3D intersection1, intersection2;

        for (int i = 1; i < tri.size(); i++) {
            v = new Vector3D(tri.get(i).getP1().getX() - t.getP1().getX(), tri.get(i).getP1().getY() - t.getP1().getY(), tri.get(i).getP1().getZ() - t.getP1().getZ());
            if (t.getNormal().dotProduct(v) > 0) {//p1 in front of plane
                v = new Vector3D(tri.get(i).getP2().getX() - t.getP1().getX(), tri.get(i).getP2().getY() - t.getP1().getY(), tri.get(i).getP2().getZ() - t.getP1().getZ());
                if (t.getNormal().dotProduct(v) > 0) {//p1 & p2 in front of plane 
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) >= 0) {//p1 & p2 & p3 in front of plane or on plane
                        front.add(tri.get(i));
                    } else {//p1 & p2 in front of plane p3 behind plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP3());
                        intersection2 = intersectionPlane(t, tri.get(i).getP1(), tri.get(i).getP3());

                        triangle = new Triangle3D(tri.get(i).getP1(), tri.get(i).getP2(), intersection1, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(intersection1, intersection2, tri.get(i).getP1(), tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(intersection1, tri.get(i).getP3(), intersection2, tri.get(i).col);
                        back.add(triangle);
                    }
                } else if (t.getNormal().dotProduct(v) < 0) {// p1 in front of plane p2 behind plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) > 0) {//p1 & p3 in front of plane p2 behind plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP1(), tri.get(i).getP2());
                        intersection2 = intersectionPlane(t, tri.get(i).getP3(), tri.get(i).getP2());

                        triangle = new Triangle3D(tri.get(i).getP1(), intersection1, intersection2, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(intersection2, tri.get(i).getP3(), tri.get(i).getP1(), tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(intersection1, tri.get(i).getP2(), intersection2, tri.get(i).col);
                        back.add(triangle);
                    } else if (t.getNormal().dotProduct(v) < 0) {//p1 in front of plane p2 & p3 behind plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP1());
                        intersection2 = intersectionPlane(t, tri.get(i).getP3(), tri.get(i).getP1());

                        triangle = new Triangle3D(tri.get(i).getP1(), intersection1, intersection2, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(intersection1, tri.get(i).getP2(), tri.get(i).getP3(), tri.get(i).col);
                        back.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP3(), intersection2, intersection1, tri.get(i).col);
                        back.add(triangle);
                    } else {// p1 in front of plane p2 behind plane p3 on plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP1());

                        triangle = new Triangle3D(tri.get(i).getP1(), intersection1, tri.get(i).getP3(), tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(intersection1, tri.get(i).getP2(), tri.get(i).getP3(), tri.get(i).col);
                        back.add(triangle);
                    }
                } else {//p1 in front of plane p2 is on plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) >= 0) {//p1 in front of plane p2 is on plane p3 in front or on plane
                        front.add(tri.get(i));
                    } else {//p1 in front of plane p2 is on plane p3 behind plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP1(), tri.get(i).getP3());

                        triangle = new Triangle3D(tri.get(i).getP1(), tri.get(i).getP2(), intersection1, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP2(), tri.get(i).getP3(), intersection1, tri.get(i).col);
                        back.add(triangle);
                    }
                }
            } else if (t.getNormal().dotProduct(v) < 0) {// p1 behind plane
                v = new Vector3D(tri.get(i).getP2().getX() - t.getP1().getX(), tri.get(i).getP2().getY() - t.getP1().getY(), tri.get(i).getP2().getZ() - t.getP1().getZ());
                if (t.getNormal().dotProduct(v) > 0) {// p1 behind plane p2 in front of plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) > 0) {// p1 behind plane p2 & p3 in front of plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP1());
                        intersection2 = intersectionPlane(t, tri.get(i).getP3(), tri.get(i).getP1());

                        triangle = new Triangle3D(intersection1, tri.get(i).getP2(), tri.get(i).getP3(), tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP3(), intersection2, intersection1, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP1(), intersection1, intersection2, tri.get(i).col);
                        back.add(triangle);
                    } else if (t.getNormal().dotProduct(v) < 0) {//p1 & p3 behind plane p2 in front of plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP1(), tri.get(i).getP2());
                        intersection2 = intersectionPlane(t, tri.get(i).getP3(), tri.get(i).getP2());

                        triangle = new Triangle3D(intersection1, tri.get(i).getP2(), intersection2, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP1(), intersection1, intersection2, tri.get(i).col);
                        back.add(triangle);

                        triangle = new Triangle3D(intersection2, tri.get(i).getP3(), tri.get(i).getP1(), tri.get(i).col);
                        back.add(triangle);
                    } else {//p1 behind plane p2 in front of plane p3 on plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP1());

                        triangle = new Triangle3D(intersection1, tri.get(i).getP2(), tri.get(i).getP3(), tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP1(), intersection1, tri.get(i).getP3(), tri.get(i).col);
                        back.add(triangle);
                    }
                } else if (t.getNormal().dotProduct(v) < 0) {//p1 & p2 behind plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) > 0) {//p1 & p2 behind plane p3 in front of plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP3());
                        intersection2 = intersectionPlane(t, tri.get(i).getP1(), tri.get(i).getP3());

                        triangle = new Triangle3D(intersection1, tri.get(i).getP3(), intersection2, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP1(), tri.get(i).getP2(), intersection1, tri.get(i).col);
                        back.add(triangle);

                        triangle = new Triangle3D(intersection1, intersection2, tri.get(i).getP1(), tri.get(i).col);
                        back.add(triangle);
                    } else if (t.getNormal().dotProduct(v) <= 0) {//p1 & p2 behind plane p3 behind or on plane
                        back.add(tri.get(i));
                    }
                } else {//p1 behind plane p2 on plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) > 0) {//p1 behind plane p2 on plane p3 in front of plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP1(), tri.get(i).getP3());

                        triangle = new Triangle3D(tri.get(i).getP2(), tri.get(i).getP3(), intersection1, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP1(), tri.get(i).getP2(), intersection1, tri.get(i).col);
                        back.add(triangle);
                    } else {//p1 behind plane p2 on plane p3 behind or on plane
                        back.add(tri.get(i));
                    }
                }
            } else {//p1 on plane
                v = new Vector3D(tri.get(i).getP2().getX() - t.getP1().getX(), tri.get(i).getP2().getY() - t.getP1().getY(), tri.get(i).getP2().getZ() - t.getP1().getZ());
                if (t.getNormal().dotProduct(v) > 0) {//p1 on plane p2 in front of plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) >= 0) {//p1 on plane p2 in front of plane p3 in front or on plane
                        front.add(tri.get(i));
                    } else {//p1 on plane p2 in front of plane p3 behind plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP3());

                        triangle = new Triangle3D(tri.get(i).getP1(), tri.get(i).getP2(), intersection1, tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(intersection1, tri.get(i).getP3(), tri.get(i).getP1(), tri.get(i).col);
                        back.add(triangle);
                    }
                } else if (t.getNormal().dotProduct(v) < 0) {//p1 on plane p2 behind plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) > 0) {//p1 on plane p2 behind plane p3 in front of plane
                        intersection1 = intersectionPlane(t, tri.get(i).getP2(), tri.get(i).getP3());

                        triangle = new Triangle3D(tri.get(i).getP1(), intersection1, tri.get(i).getP3(), tri.get(i).col);
                        front.add(triangle);

                        triangle = new Triangle3D(tri.get(i).getP1(), tri.get(i).getP2(), intersection1, tri.get(i).col);
                        back.add(triangle);
                    } else if (t.getNormal().dotProduct(v) <= 0) {//p1 on plane p2 behind plane p3 behind or on plane
                        back.add(tri.get(i));
                    }
                } else {//p1 & p2 on plane
                    v = new Vector3D(tri.get(i).getP3().getX() - t.getP1().getX(), tri.get(i).getP3().getY() - t.getP1().getY(), tri.get(i).getP3().getZ() - t.getP1().getZ());
                    if (t.getNormal().dotProduct(v) > 0) {//p1 & p2 on plane p3 in front of plane
                        front.add(tri.get(i));
                    } else if (t.getNormal().dotProduct(v) < 0) {//p1 & p2 on plane p3 behind plane
                        back.add(tri.get(i));
                    } else {//p1 & p2 & p3 on plane
                        on.add(tri.get(i));
                    }
                }
            }
        }
        bsp.getInfo().addAll(on);
        if (!front.isEmpty()) {
            bsp.setLeft(new BinTreeNode<ArrayList<Triangle3D>>(new ArrayList<Triangle3D>()));
            BSP(bsp.getLeft(), front);
        }
        if (!back.isEmpty()) {
            bsp.setRight(new BinTreeNode<ArrayList<Triangle3D>>(new ArrayList<Triangle3D>()));
            BSP(bsp.getRight(), back);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:30:05.557

我没有费心去检查算法的实现是否正确，但这里是你的代码的清理版本，它使用 while 循环而不是递归调用：

```
private void BSP(BinTreeNode<ArrayList<Triangle3D>> bsp,
        ArrayList<Triangle3D> triangles) {
    if (triangles.isEmpty()) {
        return;
    }
    // Add work item
    Stack<BSPWorkItem> bspWorkItems = new Stack<BSPWorkItem>();
    bspWorkItems.add(new BSPWorkItem(bsp, triangles));

    while (!bspWorkItems.isEmpty()) {
        // Get work item
        BSPWorkItem bspWorkItem = bspWorkItems.pop();
        triangles = bspWorkItem.getTriangles();
        bsp = bspWorkItem.getBSP();

        Iterator<Triangle3D> triangleIterator = triangles.iterator();

        Triangle3D pivotTriangle = triangleIterator.next();
        // left
        ArrayList<Triangle3D> front = new ArrayList<Triangle3D>();
        // right
        ArrayList<Triangle3D> back = new ArrayList<Triangle3D>();
        ArrayList<Triangle3D> on = new ArrayList<Triangle3D>();
        on.add(pivotTriangle);

        while (triangleIterator.hasNext()) {
            Triangle3D currentTriangle = triangleIterator.next();
            Vector3D v = new Vector3D(currentTriangle.getP1().getX()
                    - pivotTriangle.getP1().getX(), currentTriangle.getP1()
                    .getY() - pivotTriangle.getP1().getY(), currentTriangle
                    .getP1().getZ() - pivotTriangle.getP1().getZ());
            if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                // p1 in front of plane
                v = new Vector3D(currentTriangle.getP2().getX()
                        - pivotTriangle.getP1().getX(), currentTriangle
                        .getP2().getY() - pivotTriangle.getP1().getY(),
                        currentTriangle.getP2().getZ()
                                - pivotTriangle.getP1().getZ());
                if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                    // p1 & p2 in front of plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) >= 0) {
                        // p1 & p2 & p3 in front of plane or on plane
                        front.add(currentTriangle);
                    } else {
                        // p1 & p2 in front of plane p3 behind plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP3());
                        Vector3D intersection2 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP1(),
                                currentTriangle.getP3());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP1(),
                                currentTriangle.getP2(), intersection1,
                                currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D front2Triangle = new Triangle3D(
                                intersection1, intersection2,
                                currentTriangle.getP1(),
                                currentTriangle.col);
                        front.add(front2Triangle);

                        Triangle3D backTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP3(),
                                intersection2, currentTriangle.col);
                        back.add(backTriangle);
                    }
                } else if (pivotTriangle.getNormal().dotProduct(v) < 0) {
                    // p1 in front of plane p2 behind plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                        // p1 & p3 in front of plane p2 behind plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP1(),
                                currentTriangle.getP2());
                        Vector3D intersection2 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP3(),
                                currentTriangle.getP2());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP1(), intersection1,
                                intersection2, currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D front2Triangle = new Triangle3D(
                                intersection2, currentTriangle.getP3(),
                                currentTriangle.getP1(),
                                currentTriangle.col);
                        front.add(front2Triangle);

                        Triangle3D backTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP2(),
                                intersection2, currentTriangle.col);
                        back.add(backTriangle);
                    } else if (pivotTriangle.getNormal().dotProduct(v) < 0) {
                        // p1 in front of plane p2 & p3 behind plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP1());
                        Vector3D intersection2 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP3(),
                                currentTriangle.getP1());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP1(), intersection1,
                                intersection2, currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP2(),
                                currentTriangle.getP3(),
                                currentTriangle.col);
                        back.add(backTriangle);

                        Triangle3D back2Triangle = new Triangle3D(
                                currentTriangle.getP3(), intersection2,
                                intersection1, currentTriangle.col);
                        back.add(back2Triangle);
                    } else {
                        // p1 in front of plane p2 behind plane p3 on plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP1());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP1(), intersection1,
                                currentTriangle.getP3(),
                                currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP2(),
                                currentTriangle.getP3(),
                                currentTriangle.col);
                        back.add(backTriangle);
                    }
                } else {
                    // p1 in front of plane p2 is on plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) >= 0) {
                        // p1 in front of plane p2 is on plane p3 in front
                        // or on plane
                        front.add(currentTriangle);
                    } else {
                        // p1 in front of plane p2 is on plane p3 behind
                        // plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP1(),
                                currentTriangle.getP3());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP1(),
                                currentTriangle.getP2(), intersection1,
                                currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                currentTriangle.getP2(),
                                currentTriangle.getP3(), intersection1,
                                currentTriangle.col);
                        back.add(backTriangle);
                    }
                }
            } else if (pivotTriangle.getNormal().dotProduct(v) < 0) {
                // p1 behind plane
                v = new Vector3D(currentTriangle.getP2().getX()
                        - pivotTriangle.getP1().getX(), currentTriangle
                        .getP2().getY() - pivotTriangle.getP1().getY(),
                        currentTriangle.getP2().getZ()
                                - pivotTriangle.getP1().getZ());
                if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                    // p1 behind plane p2 in front of plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                        // p1 behind plane p2 & p3 in front of plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP1());
                        Vector3D intersection2 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP3(),
                                currentTriangle.getP1());

                        Triangle3D frontTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP2(),
                                currentTriangle.getP3(),
                                currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D front2Triangle = new Triangle3D(
                                currentTriangle.getP3(), intersection2,
                                intersection1, currentTriangle.col);
                        front.add(front2Triangle);

                        Triangle3D backTriangle = new Triangle3D(
                                currentTriangle.getP1(), intersection1,
                                intersection2, currentTriangle.col);
                        back.add(backTriangle);
                    } else if (pivotTriangle.getNormal().dotProduct(v) < 0) {
                        // p1 & p3 behind plane p2 in front of plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP1(),
                                currentTriangle.getP2());
                        Vector3D intersection2 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP3(),
                                currentTriangle.getP2());

                        Triangle3D frontTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP2(),
                                intersection2, currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                currentTriangle.getP1(), intersection1,
                                intersection2, currentTriangle.col);
                        back.add(backTriangle);

                        Triangle3D back2Triangle = new Triangle3D(
                                intersection2, currentTriangle.getP3(),
                                currentTriangle.getP1(),
                                currentTriangle.col);
                        back.add(back2Triangle);
                    } else {
                        // p1 behind plane p2 in front of plane p3 on plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP1());

                        Triangle3D frontTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP2(),
                                currentTriangle.getP3(),
                                currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                currentTriangle.getP1(), intersection1,
                                currentTriangle.getP3(),
                                currentTriangle.col);
                        back.add(backTriangle);
                    }
                } else if (pivotTriangle.getNormal().dotProduct(v) < 0) {
                    // p1 & p2 behind plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                        // p1 & p2 behind plane p3 in front of plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP3());
                        Vector3D intersection2 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP1(),
                                currentTriangle.getP3());

                        Triangle3D frontTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP3(),
                                intersection2, currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                currentTriangle.getP1(),
                                currentTriangle.getP2(), intersection1,
                                currentTriangle.col);
                        back.add(backTriangle);

                        Triangle3D back2Triangle = new Triangle3D(
                                intersection1, intersection2,
                                currentTriangle.getP1(),
                                currentTriangle.col);
                        back.add(back2Triangle);
                    } else {
                        // p1 & p2 behind plane p3 behind or on plane
                        back.add(currentTriangle);
                    }
                } else {
                    // p1 behind plane p2 on plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                        // p1 behind plane p2 on plane p3 in front of plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP1(),
                                currentTriangle.getP3());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP2(),
                                currentTriangle.getP3(), intersection1,
                                currentTriangle.col);
                        front.add(frontTriangle);

                        frontTriangle = new Triangle3D(
                                currentTriangle.getP1(),
                                currentTriangle.getP2(), intersection1,
                                currentTriangle.col);
                        back.add(frontTriangle);
                    } else {
                        // p1 behind plane p2 on plane p3 behind or on plane
                        back.add(currentTriangle);
                    }
                }
            } else {
                // p1 on plane
                v = new Vector3D(currentTriangle.getP2().getX()
                        - pivotTriangle.getP1().getX(), currentTriangle
                        .getP2().getY() - pivotTriangle.getP1().getY(),
                        currentTriangle.getP2().getZ()
                                - pivotTriangle.getP1().getZ());
                if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                    // p1 on plane p2 in front of plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) >= 0) {
                        // p1 on plane p2 in front of plane p3 in front or
                        // on plane
                        front.add(currentTriangle);
                    } else {
                        // p1 on plane p2 in front of plane p3 behind plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP3());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP1(),
                                currentTriangle.getP2(), intersection1,
                                currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                intersection1, currentTriangle.getP3(),
                                currentTriangle.getP1(),
                                currentTriangle.col);
                        back.add(backTriangle);
                    }
                } else if (pivotTriangle.getNormal().dotProduct(v) < 0) {
                    // p1 on plane p2 behind plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                        // p1 on plane p2 behind plane p3 in front of plane
                        Vector3D intersection1 = intersectionPlane(
                                pivotTriangle, currentTriangle.getP2(),
                                currentTriangle.getP3());

                        Triangle3D frontTriangle = new Triangle3D(
                                currentTriangle.getP1(), intersection1,
                                currentTriangle.getP3(),
                                currentTriangle.col);
                        front.add(frontTriangle);

                        Triangle3D backTriangle = new Triangle3D(
                                currentTriangle.getP1(),
                                currentTriangle.getP2(), intersection1,
                                currentTriangle.col);
                        back.add(backTriangle);
                    } else {
                        // p1 on plane p2 behind plane p3 behind or on plane
                        back.add(currentTriangle);
                    }
                } else {// p1 & p2 on plane
                    v = new Vector3D(currentTriangle.getP3().getX()
                            - pivotTriangle.getP1().getX(), currentTriangle
                            .getP3().getY() - pivotTriangle.getP1().getY(),
                            currentTriangle.getP3().getZ()
                                    - pivotTriangle.getP1().getZ());
                    if (pivotTriangle.getNormal().dotProduct(v) > 0) {
                        // p1 & p2 on plane p3 in front of plane
                        front.add(currentTriangle);
                    } else if (pivotTriangle.getNormal().dotProduct(v) < 0) {
                        // p1 & p2 on plane p3 behind plane
                        back.add(currentTriangle);
                    } else {
                        // p1 & p2 & p3 on plane
                        on.add(currentTriangle);
                    }
                }
            }
        }

        bsp.getInfo().addAll(on);
        if (!front.isEmpty()) {
            bsp.setLeft(new BinTreeNode<ArrayList<Triangle3D>>(
                    new ArrayList<Triangle3D>()));
            bspWorkItems.push(new BSPWorkItem(bsp.getLeft(), front));
        }
        if (!back.isEmpty()) {
            bsp.setRight(new BinTreeNode<ArrayList<Triangle3D>>(
                    new ArrayList<Triangle3D>()));
            bspWorkItems.push(new BSPWorkItem(bsp.getRight(), back));
        }
    }
}

private static class BSPWorkItem {
    private final BinTreeNode<ArrayList<Triangle3D>> bsp;
    private final ArrayList<Triangle3D> triangles;

    public BSPWorkItem(BinTreeNode<ArrayList<Triangle3D>> bsp,
            ArrayList<Triangle3D> triangles) {
        this.bsp = bsp;
        this.triangles = triangles;
    }

    public BinTreeNode<ArrayList<Triangle3D>> getBSP() {
        return bsp;
    }

    public ArrayList<Triangle3D> getTriangles() {
        return triangles;
    }
} 
```

# javascript - 如果定义了 textarea 的高度，则扩展 textarea 脚本不起作用

> ID：15243366
> 
> 赞同：0
> 
> 时间：2013-03-06T09:24:36.093
> 
> 标签：javascript

这是我的脚本：

```
function expandtext(textArea){ 
while (
    textArea.rows > 1 &&
    textArea.scrollHeight < textArea.offsetHeight
){
    textArea.rows--;
}
var h=0;
while (textArea.scrollHeight > textArea.offsetHeight && h!==textArea.offsetHeight)
{
    h=textArea.offsetHeight;
    textArea.rows++;
}
textArea.rows++
 } 
```

html:

```
<textarea class="expta" onkeyup="expandtext(this);" style="overflow-y:hidden;"></textarea> 
```

到目前为止一切正常。但是当我添加 textarea 高度时：

```
<textarea class="expta" onkeyup="expandtext(this);" style="height:16px;overflow-y:hidden;"></textarea> 
```

它不起作用了。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:31:13.360

如果您为 textarea 设置 style-height- 属性，则此 style 属性将保持设置为 16px，直到您对其进行操作。

您需要更改脚本中的 textarea.style.height 而不是 textarea.rows！

# python - 在 Python REPL 中打印所有全局方法

> ID：15243370
> 
> 赞同：0
> 
> 时间：2013-03-06T09:24:56.170
> 
> 标签：python, read-eval-print-loop

在 Python REPL 中

```
dir(str) 
```

印刷

```
['__add__', '__class__', '__contains__', '__delattr__', '__doc__', '__eq__',   '__format__', '__ge__', '__getattribute__', '__getitem__', '__getnewargs__', '__getslice__', '__gt__', '__hash__', '__init__', '__le__', '__len__', '__lt__', '__mod__', '__mul__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__rmod__', '__rmul__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '_formatter_field_name_split', '_formatter_parser', 'capitalize', 'center', 'count', 'decode', 'encode', 'endswith', 'expandtabs', 'find', 'format', 'index', 'isalnum', 'isalpha', 'isdigit', 'islower', 'isspace', 'istitle', 'isupper', 'join', 'ljust', 'lower', 'lstrip', 'partition', 'replace', 'rfind', 'rindex', 'rjust', 'rpartition', 'rsplit', 'rstrip', 'split', 'splitlines', 'startswith', 'strip', 'swapcase', 'title', 'translate', 'upper', 'zfill'] 
```

IE。字符串的所有可用方法。

如何查看所有可用的全局方法，如“print”、“list”、“len”等？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:30:26.017

```
>>> dir(__builtins__)
['ArithmeticError', 'AssertionError', 'AttributeError',
 ...  # a whole bunch of other Errors
 'abs', 'all', 'any',
 ...  # other builtins
 'type', 'vars', 'zip'] 
```

正如@eryksun 在他的评论中提到的，这仅适用于`__main__`模块。如果要在导入的模块中执行此操作，请使用`sorted(__builtins__)`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:28:37.807

请参阅以下模块：
Python 2.7 [**builtin**](http://docs.python.org/2.7/library/__builtin__.html)和 Python 3.x [builtins](http://docs.python.org/3.2/library/builtins.html)

例子：

```
In [32]: dir(__builtin__)
Out[32]: 
['ArithmeticError',
 'AssertionError',
 'AttributeError',
 'BaseException',
 'BufferError',
 'BytesWarning',
 'DeprecationWarning',
 'EOFError',
 'Ellipsis',
 'EnvironmentError',
 'Exception',
 'False',
 'FloatingPointError',
 'FutureWarning',
 'GeneratorExit',
 'IOError',
 'ImportError',
 'ImportWarning',
 'IndentationError',
 'IndexError',
 'KeyError',
 'KeyboardInterrupt',
 'LookupError',
 'MemoryError',
 'NameError',
 'None',
 'NotImplemented',
 'NotImplementedError',
 'OSError',
 'OverflowError',
 'PendingDeprecationWarning',
 'ReferenceError',
 'RuntimeError',
 'RuntimeWarning',
 'StandardError',
 'StopIteration',
 'SyntaxError',
 'SyntaxWarning',
 'SystemError',
 'SystemExit',
 'TabError',
 'True',
 'TypeError',
 'UnboundLocalError',
 'UnicodeDecodeError',
 'UnicodeEncodeError',
 'UnicodeError',
 'UnicodeTranslateError',
 'UnicodeWarning',
 'UserWarning',
 'ValueError',
 'Warning',
 'ZeroDivisionError',
 '__IPYTHON__',
 '__IPYTHON__active',
 '__debug__',
 '__doc__',
 '__import__',
 '__name__',
 '__package__',
 'abs',
 'all',
 'any',
 'apply',
 'basestring',
 'bin',
 'bool',
 'buffer',
 'bytearray',
 'bytes',
 'callable',
 'chr',
 'classmethod',
 'cmp',
 'coerce',
 'compile',
 'complex',
 'copyright',
 'credits',
 'delattr',
 'dict',
 'dir',
 'divmod',
 'dreload',
 'enumerate',
 'eval',
 'execfile',
 'file',
 'filter',
 'float',
 'format',
 'frozenset',
 'get_ipython',
 'getattr',
 'globals',
 'hasattr',
 'hash',
 'help',
 'hex',
 'id',
 'input',
 'int',
 'intern',
 'isinstance',
 'issubclass',
 'iter',
 'len',
 'license',
 'list',
 'locals',
 'long',
 'map',
 'max',
 'memoryview',
 'min',
 'next',
 'object',
 'oct',
 'open',
 'ord',
 'pow',
 'print',
 'property',
 'range',
 'raw_input',
 'reduce',
 'reload',
 'repr',
 'reversed',
 'round',
 'set',
 'setattr',
 'slice',
 'sorted',
 'staticmethod',
 'str',
 'sum',
 'super',
 'tuple',
 'type',
 'unichr',
 'unicode',
 'vars',
 'xrange',
 'zip'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:43:38.853

您可以使用此命令获取所有内置函数。

`[x for x in dir(__builtins__) if x.islower() and not x.startswith('__')]`

# php - 从坐标获取附近的位置到街道地址

> ID：15243374
> 
> 赞同：1
> 
> 时间：2013-03-06T09:25:09.847
> 
> 标签：php, jquery, google-maps-api-3, maps, street-address

我正在一个移动网站上工作，用户可以选择获取附近的位置。现在，我通过 HTML 5 geolocation api 获取用户的当前位置，它给了我它的坐标，我在地图上显示结果以及我数据库中的所有位置。现在，我希望数据以列表形式显示，以及与用户当前位置的距离。关于如何做到这一点的任何想法。

PS 我已经阅读了谷歌提供的反向地理定位 api，但他们的 t&c 规定我必须在地图上显示结果，而不是在其他任何地方使用它。另外，他们还说不鼓励在动态地址上使用地理定位 api。 [https://developers.google.com/maps/documentation/geocoding/#Limits](https://developers.google.com/maps/documentation/geocoding/#Limits)

# android - 在其中使用 Listview 时 ViewFlipper 不起作用

> ID：15243381
> 
> 赞同：1
> 
> 时间：2013-03-06T09:25:26.073
> 
> 标签：android, listview, viewflipper

我正在将此代码用于 android 中的滑动、onTouch 事件

```
<ViewFlipper
        android:id="@+id/flipper"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_below="@+id/tabBTBar" >

        <LinearLayout
            android:id="@+id/first"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:orientation="vertical" >

            <ListView
                android:id="@+id/cat_listLV"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:divider="@color/grey"
                android:dividerHeight="1dp" >
            </ListView>
        </LinearLayout>

        <LinearLayout
            android:id="@+id/Second"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:background="#C0C0C0"
            android:gravity="center"
            android:orientation="vertical" >

            <ImageView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:src="@drawable/ic_launcher" />

            <ImageView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:src="@drawable/ic_launcher" />
        </LinearLayout>
    </ViewFlipper> 
```

当我运行此代码时，它仅显示第一个 LinerLayout 中的列表视图。

当我在第一个线性布局中使用而不是它时它会正常工作。

请建议我如何做到这一点。我想在第一个和第二个 LinearLayout 中显示 Listview。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:42:49.883

将此方法添加到您的 java 文件中。

```
@Override
public boolean dispatchTouchEvent(MotionEvent motionEvent) {
    super.dispatchTouchEvent(motionEvent);
    return gestureDetector.onTouchEvent(motionEvent);
} 
```

而不是使用 onTouchEvent() 方法

# ruby - 调整 Ruby / Rails 以在内存较少的系统上工作

> ID：15243385
> 
> 赞同：2
> 
> 时间：2013-03-06T09:25:38.563
> 
> 标签：ruby, ruby-on-rails-3, memory, garbage-collection

我正在尝试在 Amazon 微型实例（免费套餐中的那个）上运行 RoR 应用程序。但是，我无法成功完成`rake assets:precompile`，因为据说它耗尽了 RAM 并且系统终止了该进程。

首先，我如何确定这是一个内存不足的问题？

其次，不管第一个问题的答案如何，是否有一些参数可以传递给 Ruby 解释器以使其消耗更少的 RAM——即使以整体应用程序性能为代价？任何可能的 GC 调整？有什么吗？

注意：类似于[让 ruby​​ on rails 占用更少的内存](https://stackoverflow.com/questions/2249504/making-ruby-on-rails-take-up-less-memory)

PS：我也在系统中添加了一个基于文件的交换区。这是`cat /proc/meminfo`如果有帮助的输出：

```
MemTotal:         604072 kB
MemFree:          343624 kB
Buffers:            4476 kB
Cached:            31568 kB
SwapCached:        33052 kB
Active:            17540 kB
Inactive:         199588 kB
Active(anon):      11408 kB
Inactive(anon):   172644 kB
Active(file):       6132 kB
Inactive(file):    26944 kB
Unevictable:           0 kB
Mlocked:               0 kB
SwapTotal:        292840 kB
SwapFree:         165652 kB
Dirty:                80 kB
Writeback:             0 kB
AnonPages:        149640 kB
Mapped:             6620 kB
Shmem:              2964 kB
Slab:              23744 kB
SReclaimable:      14044 kB
SUnreclaim:         9700 kB
KernelStack:        2056 kB
PageTables:         6776 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:      594876 kB
Committed_AS:     883644 kB
VmallocTotal:   34359738367 kB
VmallocUsed:        5200 kB
VmallocChunk:   34359732767 kB
HardwareCorrupted:     0 kB
AnonHugePages:         0 kB
HugePages_Total:       0
HugePages_Free:        0
HugePages_Rsvd:        0
HugePages_Surp:        0
Hugepagesize:       2048 kB
DirectMap4k:      637952 kB
DirectMap2M:           0 kB 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T15:44:31.787

放入`config.assets.initialize_on_precompile = false`application.rb 以避免在预编译资产时初始化应用程序和数据库连接。这可能会有所帮助。

另一种选择是在本地预编译，然后部署已编译的资产。更多信息在这里[http://guides.rubyonrails.org/asset_pipeline.html#precompiling-assets](http://guides.rubyonrails.org/asset_pipeline.html#precompiling-assets)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T20:56:08.440

首先是第二个问题 - 我已经在 Micro 实例上运行 Rails 应用程序，现在就这样做。只要您的并发性非常低（一个或两个活跃用户，最高。而且也不是超级活跃），您就可以了。另请注意，如果您尝试过度使用 CPU（这就是他们执行微型实例的方式），亚马逊会在需要时任意降低您的有效 CPU。不需要 GC 调整或类似的东西，只需默认设置即可。我使用的是旧版本的Passenger，并确保它只启动一个进程生成器。库存配置。特别是如果您的应用程序的大块是图像或静态文件，您的主 Web 服务器将提供大部分内容，而不是 Rails。

对于您的第二个问题 - 我刚刚在一个新启动的微型实例上检查了一个大型（ish）rails 应用程序 fat_free_crm。我只是在寻找一些大的东西。

我计时了一系列 assets:precompile 并且它确实完成了 - 经过很长时间。我计时了，它似乎在 2 分 31 秒内完成。

我认为您可能仍需要更多交换空间。我会尝试一个演出开始。如果在那之后您*仍然*无法预编译您的资产，那么您还有其他问题。

`dd if=/dev/zero of=/swapfile bs=1k count=1M`

`mkswap /swapfile`

`swapon -f /swapfile`

# javascript - javascript正则表达式禁止所有特殊字符

> ID：15243387
> 
> 赞同：3
> 
> 时间：2013-03-06T09:25:41.430
> 
> 标签：javascript, jquery, regex, keycode

这是一个开始的小提琴 - [http://jsfiddle.net/zuVpx/1/](http://jsfiddle.net/zuVpx/1/)

**Javascript代码：**

```
<script>
    function validate(e) {
        var regex = new RegExp("[a-zA-Z0-9]");
        var key = e.keyCode || e.which;
        key = String.fromCharCode(key);

        if(!regex.test(key)) {
            e.returnValue = false;
            if(e.preventDefault) {
                e.preventDefault();
            }
        }
    }
</script> 
```

**HTML 代码：**

```
<input type="text" onkeypress="validate(event)" /> 
```

我只想要字符和数字。退格键、删除键、大写锁定键和箭头键等键应该可以使用。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:37:12.793

在输入中添加一个`id`（例如“验证”）并使用：

```
document.querySelector('#validate').onkeypress = validate;

function validate(e) {
        e = e || event;
        return /[a-z0-9]/i.test(
                   String.fromCharCode(e.charCode || e.keyCode)
               ) || !e.charCode && e.keyCode  < 48;
} 
```

[**JSFiddle**](http://jsfiddle.net/KooiInc/fwcfq/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-21T15:56:29.860

尝试

```
/[-!$%^&*()_+|~=`\\#{}\[\]:";'<>?,.\/]/.test(your_variable) 
```

如果匹配，则返回 true。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:34:13.817

只使用一个额外的 if 子句怎么样？就像是...

```
key.charCodeAt(0) > 32 
```

所以...

```
function validate(e) {
    var regex = new RegExp("[a-zA-Z0-9]");
    var key = e.keyCode || e.which;
    key = String.fromCharCode(key);

    if(!regex.test(key) && key.charCodeAt(0) > 32) {
        e.returnValue = false;
        if(e.preventDefault) {
            e.preventDefault();
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:42:09.347

为了克服例如左箭头键产生与键相同的`key`值的问题`%`，您可以使用

```
function validate(e) {
    e = e || window.event;
    var bad = /[^\sa-z\d]/i,
        key = String.fromCharCode( e.keyCode || e.which );   

    if ( e.which !== 0 && e.charCode !== 0 && bad.test(key) ) {
        e.returnValue = false;
        if ( e.preventDefault ) {
            e.preventDefault();
        }
    } 
 } 
```

任何可打印的字符都应该产生一个非零`e.which`和`e.charCode`值。
请参阅[JavaScript 疯狂：键盘事件](http://unixpapa.com/js/key.html)。

[js小提琴](http://jsfiddle.net/zuVpx/8/)。

以上假设空格是有效的 - 如果不是，只需`\s`从否定字符类中删除。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-11-05T10:13:05.570

这对我有用。防止用户输入特殊字符（退格等除外）

```
PatternValidation(e){

    if(!e.key.match(/^[a-zA-Z0-9]*$/))
       {
         e.preventDefault();
       }
}, 
```

这是通过将 html 属性与 keydown 事件处理程序绑定来触发的

```
<input type="text" onkeydown="PatternValidation($event)"> 
```

# html - HTML div 未到达“嵌入”对象的顶部 - IE

> ID：15243389
> 
> 赞同：4
> 
> 时间：2013-03-06T09:25:43.423
> 
> 标签：html, css, internet-explorer, z-index

我有以下 HTML

```
<embed class='pdf_container'  src='welcome.pdf' style ='width:100%;height:500px;' ></embed>

<div id="show_message"  class='message_wrapper' >

 <div id="message_content"> The requested operation ...  </div>

</div> 
```

在 CSS 中

```
.message_wrapper{
   position:fixed;
   z-index:1000;
   height:100px;
   width:100%;
   background:red;
   top:0;
   left:0;
}
.pdf_container{
  position:absolute;
  top:0;
  left:0;
  z-index:100;
} 
```

实际上我想展示它`#show_message`，`.pdf_container`它在 Firefox 中运行良好，但在 Firefox 中运行良好`IE`，它忽略了`z-index`.

请帮我找出问题所在。

谢谢你。

见截图：

**在 IE 中**

[在 IE 8,9](http://i49.tinypic.com/1twiyv.png)

**在FF**

[在火狐中](http://i50.tinypic.com/2luouh4.png)

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T10:42:29.497

试试这个，你会像我一样得到解决方案，并且它在我的本地系统中工作正常 :-) 干杯你的代码有点不同，但我相信你会得到它。

[http://jsfiddle.net/fRsUv/](http://jsfiddle.net/fRsUv/)

```
html { height:100% }

#container {
    position:relative;
    width:100%;
}

#pdf {
    width:100%;
    z-index:1;
}

#layer_over_pdf {
    width:200px;
    z-index:2;
}

#pdf, #layer_over_pdf {
    position:absolute;
    top:0;
    left:0;
}

<div id="container">
 <div id="pdf"><embed id="pdfEmbed" src="JavaScript_DHTML_Mat_V4.pdf" style="width:500px; height:600px" type="application/pdf"></embed></div> 
 <div id="layer_over_pdf">some content</div>
</div> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T10:26:01.630

您需要在嵌入标签内将 WMODE 设置为透明。

```
<embed class='pdf_container'  src='welcome.pdf' style ='width:100%;height:500px;' wmode="transparent" ></embed> 
```

# selenium - 通过在 Selenium Webdriver 中单独传递对象定位器来查找对象定位器类型的最佳方法

> ID：15243390
> 
> 赞同：1
> 
> 时间：2013-03-06T09:25:44.563
> 
> 标签：selenium, webdriver

他们是通过单独传递对象定位器来找到对象定位器类型的任何方式。例如，我需要单击登录按钮，它的位置`id=login`，`classname=loginbutton`或`xpath=//input[@name='login']`。我需要构建方法，我将只传递对象定位器（id 或名称）作为输入，并且它的类型（id 或名称）应该在方法中决定，比如它是否包含`//`然后类型应该是 xpath 等。

我需要将返回类型的 objectLocator() 传递给`findElement()`

```
WebElement element = driver.findElement(objectLocator()); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:34:57.007

我认为它不是现成的，您必须实现自己的逻辑。

唯一的事情是，假设您想通过链接文本进行搜索。根据您的用例，您将在对象存储库中指定“这是我的链接文本”。
现在你怎么知道它是一个 id 或一个名字或一个链接文本？

对于 xpath，您可以检查它是否以 / 开头，然后是 xpath。如果它只有 id 或 name，那么您可以使用 ByIdorName，但我认为使用 css 和 linktext 会变得棘手。

我能想到的一件事是您可以建立某种约定，例如，如果它是 linktext 在您的 lcoator 定义之前使用 linktext=blah blah ，然后您拆分并使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T14:20:15.563

执行此操作的现代方法是使用[PageFactory](https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/PageFactory.html)和[PageObjects](https://code.google.com/p/selenium/wiki/PageObjects)

以下是一个快速而肮脏的方法，它将使 selenium 定位器字符串适应 WebDriver 定位器。

```
 public enum LocatorType {
         CLASSNAME, CSS, ID, LINK, NAME, TAGNAME, XPATH ;
    }

    public WebElement objectLocator(LocatorType type, String ref) {
    switch(type) {
    case ID:
        return this.webDriver.findElement(By.id(ref));
    case CLASSNAME:
        return this.webDriver.findElement(By.className(ref));
    case XPATH:
        return this.webDriver.findElement(By.xpath(ref));
    case CSS:
        return this.webDriver.findElement(By.cssSelector(ref));
    case LINK:
        return this.webDriver.findElement(By.linkText(ref));
    case NAME:
        return this.webDriver.findElement(By.name(ref));
    case TAGNAME:
        return this.webDriver.findElement(By.tagName(ref));
    }
    return null;
    }

    public WebElement objectLocator(String identifier) {
    String typeString = identifier.substring(0, identifier.indexOf('='));
    String ref = identifier.substring(identifier.indexOf('=')+1, identifier.length());
    if (typeString.toLowerCase().contains("classname")) {
        return objectLocator(LocatorType.CLASSNAME, ref);
    } else if (typeString.toLowerCase().contains("css")) {
        return objectLocator(LocatorType.CSS, ref);
    } else if (typeString.toLowerCase().contains("id")) {
        return objectLocator(LocatorType.ID, ref);
    } else if (typeString.toLowerCase().contains("link")) {
        return objectLocator(LocatorType.LINK, ref);
    } else if (typeString.toLowerCase().contains("name")) {
        return objectLocator(LocatorType.NAME, ref);
    } else if (typeString.toLowerCase().contains("tagname")) {
        return objectLocator(LocatorType.TAGNAME, ref);
    } else if (typeString.toLowerCase().contains("xpath")) {
        return objectLocator(LocatorType.XPATH, ref);
    } else {
        return null;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T20:00:45.777

我发现将所有定位器存储为 By 对象并直接使用 By 或根据需要将 By 传递给方法非常有用。例如：

```
By passwordField= By.id("login");
By userNameField = By.name("username");
By submitButton = By.xpath("\\myxpath\div[2]");

public void clickLogin() {
   driver.findElement(submitButton).click();
} 
```

我也使用其他类的静态 Bys：

```
public void clickLogin() {
   driver.findElement(LoginPage.SUBMIT_BUTTON).click();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T23:56:59.577

看起来您正在寻找此解决方案，因为您在某种属性文件或 xml 中的代码之外的某处维护了一个对象存储库。

`Using gui maps has lot of disadvantages like,`

```
- maintain an external file with a list of locators
- parse locator files to read keys (you can abstract this but still an overhead)
- when writing PageObjects you need to switch back and forth from Page to gui map
- possibility of multiple duplicate locators in gui maps
- object repo grows over time and becomes impossible to maintain
- debugging is far more difficult 
```

您正在寻找的是增加一层复杂性，我认为这不是必需的。自动化浏览器本身就是一个挑战，编写可维护的测试自动化代码至关重要。

在页面对象中使用[PageFactory 。](https://code.google.com/p/selenium/wiki/PageFactory)

```
- Natural place for your locators are Page Objects themselves. 
- Locators easily accessible in page objects for review or correction
- No need for explicit driver.findElement, with @FindBy you get that for free
- modern Java and awesome annotations make page objects look beautiful & readable 
```

我以前使用过 gui 地图并且很挣扎。切换到页面工厂让我意识到使用对象存储库是个坏主意！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-18T09:42:01.573

这应该用于定位元素。我已经给出了 3 级深度的例子。

```
public WebElement findElement(String locator){
    WebElement  w = null;
    try{
        return (driver.findElement(By.id(locator)));
    }catch(Exception e1){
        try{
            return ( driver.findElement(By.name(locator)));
        }catch(Exception e2){
            try{
                return (driver.findElement(By.xpath(locator)));
            }catch(Exception e3){
                System.out.println("Cound not find a locator");
                e3.printStackTrace();
            }
        }
    }
    return(w);
}

public void type(String locator, String value){
    try{
        WebElement w= findElement(locator);
        w.sendKeys(""+value);
        Thread.sleep(sleepTime);
    }catch(Exception e){
        e.printStackTrace();
    }
} 
```

-维奈

# ios - 如何用数组初始化 CATransform3D？

> ID：15243397
> 
> 赞同：0
> 
> 时间：2013-03-06T09:25:59.990
> 
> 标签：ios, core-animation

我有一个包含16个浮点数的数组，我想用这个数组来初始化CATransform3D的值，即m11，m12，......，有什么方法可以初始化吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:32:14.763

`CATransform3D`定义为：

```
struct CATransform3D
{
  CGFloat m11, m12, m13, m14;
  CGFloat m21, m22, m23, m24;
  CGFloat m31, m32, m33, m34;
  CGFloat m41, m42, m43, m44;
}; 
```

像下面这样的东西应该可以工作：

```
CATransform3D myTransform;
myTransform.m11 = array[0];
myTransform.m12 = array[1];
myTransform.m13 = array[2];
myTransform.m14 = array[3];
myTransform.m21 = array[4];
myTransform.m22 = array[5];
myTransform.m23 = array[6];    
myTransform.m24 = array[7];
...
myTransform.m44 = array[15]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:49:11.500

它有点脏，但你*可以*这样做：

```
CGFloat array[16];
...
CATransform3D myTransform;
memcpy(&myTransform, &array, sizeof(CATransform3D)); 
```

# mysql - 将带有额外字段的多对多转换为常规连接表

> ID：15243398
> 
> 赞同：0
> 
> 时间：2013-03-06T09:26:00.243
> 
> 标签：mysql, sql

假设我有 3 个实体：公式、颜色和公式颜色（基本上是一个连接表，但有一个额外的百分比列）。

我如何将其转换为仅使用常规连接表？

如果它很重要，百分比只是说明给定颜色对于给定公式的百分比。

**编辑**

我不够清楚。我想更改我的数据库的结构，以便百分比不存储在 FormulaColor 表中。我将如何做到这一点，但仍然保持跟踪某个公式的颜色百分比的功能？

**另一个编辑，架构**

这应该是所有必要的相关架构。

## 颜色

ID

## 公式

ID

## 公式颜色

color_id

公式_id

百分比

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:38:00.237

希望这是你需要的

```
select * from formulaColor fc
 Inner join formula f on fc.formula_id = f.id
 Inner join Color c on fc.Color_id = c.id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:28:47.153

Ss，您没有提供有关表格的足够详细信息，我认为您需要这样的东西：

```
Select * 
from formula f
foin formulacolor fc on f.id_formula = fc.id_formula
join colori c on c.id_colori = fc.id_colori 
```

这是你需要的吗？

# c# - 从 Oracle DB 中选择所有表名

> ID：15243399
> 
> 赞同：5
> 
> 时间：2013-03-06T09:26:08.363
> 
> 标签：c#, sql, oracle

我编写了一个程序，它扫描数据库的所有**表名**并显示所有

我的数据库有表格：用户、订单、历史

它应该看起来像这样：“现有表：用户订单历史”

该命令应该如何？

```
string SqlOrder="Select ??? from TestDB" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:36:12.313

试试这个

```
SELECT 'Existing Tables: ' || wm_concat(table_name) tablenames 
  FROM user_tables; 
```

对于示例 Oracle HR 数据库，它返回

```
TABLENAMES
------------------------------------------------------------------------------------
Existing Tables: REGIONS,LOCATIONS,DEPARTMENTS,JOBS,EMPLOYEES,JOB_HISTORY,COUNTRIES 
```

**更新：**示例`LISTAGG()`

```
SELECT 'Existing Tables: ' || LISTAGG(table_name, ',') 
        WITHIN GROUP (ORDER BY table_name) tablenames 
  FROM user_tables; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:28:45.363

```
select table_name
from all_tables 
```

手册中的更多详细信息：http: [//docs.oracle.com/cd/E11882_01/server.112/e25513/statviews_2117.htm#i1592091](http://docs.oracle.com/cd/E11882_01/server.112/e25513/statviews_2117.htm#i1592091)

# html - 使用纯 CSS3 创建动态形状

> ID：15243402
> 
> 赞同：1
> 
> 时间：2013-03-06T09:26:20.000
> 
> 标签：html, css, transform, css-shapes

我非常精通 CSS，但我一生都无法弄清楚这一点。

我需要在纯 CSS（如果可能的话）中为一个项目重新创建一些形状。更难的是我需要形状来使用背景图像。我已经尝试了许多 CSS3 属性，例如倾斜、变换、旋转等……但是到目前为止还没有任何效果。偏斜让我最接近，但背景及其内容偏斜。我尝试在 div 内设置一个图像，并将其与 div skew 的属性相反，从而使图像变直，但后来我无法正确定位图像。

无论如何都可以使用CSS重新创建它吗？

![在此处输入图像描述](../Images/d222a400f7a74e555cba8af5c53e9fa9.png)

即使有人可以帮助我找到合适的房产来使用，这样我就可以研究如何完成这将是有帮助的。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-05-01T14:33:00.667

很难做出这个形状。您可以使用创建此形状，`clip-path`但恐怕此属性的支持并不出色。

[**在此处**](http://caniuse.com/#feat=css-clip-path)查看支持。

现在这里是一个带有背景的形状的例子。

```
.shape {
  width: 400px;
  height: 400px;
  background: #000;
  -webkit-clip-path: polygon(24% 0, 100% 20%, 100% 100%, 0 40%);
  clip-path: polygon(24% 0, 95% 20%, 100% 100%, 0 40%);
  background-image: url(http://p1.pichost.me/640/39/1629941.jpg);
  background-size: cover;
}
```

```
<div class="shape"></div>
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:07:59.210

这将给出一个钻石，因此您可以调整它以获得您的形状：

```
#diamond-narrow {
    width: 0;
    height: 0;
    border: 50px solid transparent;
    border-bottom: 70px solid red;
    position: relative;
    top: -50px;
}
#diamond-narrow:after {
    content: '';
    position: absolute;
    left: -50px; top: 70px;
    width: 0;
    height: 0;
    border: 50px solid transparent;
    border-top: 70px solid red;
} 
```

[http://css-tricks.com/examples/ShapesOfCSS/](http://css-tricks.com/examples/ShapesOfCSS/)

# automation - Vagrant 是否可以直接使用 OS .ISO 安装映像/或从 ISO 动态创建 Vagrant 框？

> ID：15243405
> 
> 赞同：22
> 
> 时间：2013-03-06T09:26:30.687
> 
> 标签：automation, operating-system, installation, vagrant

是否可以从原始 ISO 自动创建用于操作系统安装的 Vagrant .box 文件？

对我来说，这是 Vagrant 提供的虚拟机上操作系统安装和配置的端到端自动化的一个重大差距。

当然，VagrantBox.es 提供了许多基本的 .box OS 安装文件供使用。但有些来自第三方供应商，而不是来自原始操作系统分发制造商。例如 Arch Linux：Arch Linux 64 (2012-07-02) [http://vagrant.pouss.in/archlinux_2012-07-02.box](http://vagrant.pouss.in/archlinux_2012-07-02.box)

不想对第三方供应商的努力持否定态度，但一些组织可能想要来自原始操作系统提供商的原始安装映像（例如，对于上面的 Arch 示例，这将是：[https ://www.archlinux.org/下载/](https://www.archlinux.org/download/)）。想要原始安装映像的原因是安全性（因为无法验证第三方映像是否存在安全隐患和恶意软件），并且可以按照原始供应商的意图获取映像，而无需额外的东西。另一个原因是利用原始供应商直接发布的新版本，而不必等待第三方将其作为 Vagrant .box 发布

有从 .ISO 映像创建 .box 文件的指南：

*   [http://www.practicalweb.co.uk/blog/12/10/16/how-build-centos-6-base-box-vagrant](http://www.practicalweb.co.uk/blog/12/10/16/how-build-centos-6-base-box-vagrant)
*   [http://pyfunc.blogspot.co.uk/2011/11/creating-base-box-from-scratch-for.html](http://pyfunc.blogspot.co.uk/2011/11/creating-base-box-from-scratch-for.html)

但这些都是手动步骤——这与 Vagrant 背后的自动化和一致性理念背道而驰。特别是如果许多人想要实现能够使用原版的最终目标 - 这最终会导致每个人都重复努力。

因此，我将从一个明确的答案中寻找这里，该答案描述了如何制作通用自动化脚本以将 .ISO OS 安装映像转换为 Vagrant 框。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-06T09:44:00.997

我认为 VeeWee 为从 ISO 准备 Vagrant 盒子提供了一个很好的机制：

[https://github.com/jedi4ever/veewee](https://github.com/jedi4ever/veewee)

它已经为大多数发行版提供了许多开箱即用的模板，您可以根据需要对其进行自定义（尽管通常不需要）。或者，您可以创建自己的定义。

或者，您可以使用 Packer：

[https://packer.io/](https://packer.io/)

它是由制作 Vagrant 的同一家公司生产的，因此它具有相当好的集成度。我相信 Packer 本身并没有提供示例模板，但如果您愿意，您可以使用 Puppet Labs 用于自己的测试目的的模板：

[https://github.com/puppetlabs/puppetlabs-packer](https://github.com/puppetlabs/puppetlabs-packer)

这可以用作您自己的模板的坚实基础并根据需要进行修改，或者您可以在项目上提出 PR 以在需要时做出贡献。

# android - Android - 在按下主页按钮一段时间后，活动从处理程序开始

> ID：15243407
> 
> 赞同：1
> 
> 时间：2013-03-06T09:26:33.620
> 
> 标签：android, handler, home-button

我有一些活动（比如 A 和 B），并且从一个活动中我使用 Handler-post Delayed 方法调用另一个活动。

我的逻辑是在 App 中从 Activity A 开始，3 秒后转到 Activity B。& 3 秒后，它运行良好。

问题是我设置了三秒的时间延迟。在**这三秒内**，如果我点击主页按钮，它会进入后台，并在指定的三秒后立即返回前台并显示下一个活动.

```
 try {

        handler.postDelayed(new Runnable() {

            @Override
            public void run() {
                // TODO Auto-generated method stub

                finish();
                Intent i = new Intent(Asplash.this, Example.class);
                i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
                startActivity(i);
            }
        }, 3000);

    } catch (Exception e) {
        // TODO: handle exception
        e.printStackTrace();
    }

}

   @Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    // TODO Auto-generated method stub
       handler.removeCallbacksAndMessages(null);
       finish();

    return super.onKeyDown(keyCode, event);
} 
```

我正在使用这样的代码，并且在 HANDLER TIME 期间的后退按钮工作正常，应用程序完全进入后台。, 但是如果我按下 HOME 按钮，它最初会进入后台，在 HANDLER TIME(3000) 完成后，应用程序就会进入前台。我希望它只有在我按下主页按钮后才在后台。

请给我建议>

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:31:51.323

您只需将其放入您`onPause()`的活动方法中：

```
@Override
public void onPause() {
    handler.removeCallbacksAndMessages(null);
    super.onPause();
} 
```

因此，当您的应用程序进入后台时，它将删除 Handler 上的回调。这也适用于后退按钮和主页按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:46:49.233

您可以从 onResume() 方法开始处理程序，例如：

```
@Override
public void onResume() {
    try {
         handler.postDelayed(new Runnable() {

            @Override
            public void run() {
                finish();
                Intent i = new Intent(Asplash.this, Example.class);
                i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
                startActivity(i);
           }
         }, 3000);

       } catch (Exception e) {
           e.printStackTrace();
       }
} 
```

并删除 onPause() 中的句柄，例如：

```
@Override
public void onPause() {
    handler.removeCallbacksAndMessages(null);
    super.onPause();
} 
```

这将确保开始其他活动，即使您在 3 秒内按下 home

# geolocation - 按邮编查询所有地址

> ID：15243410
> 
> 赞同：1
> 
> 时间：2013-03-06T09:26:47.543
> 
> 标签：geolocation, openstreetmap

我需要通过他们的邮政编码获取所有地址（在门牌号级别） - 考虑过 OpenStreetMap，但还没有找到实现这一目标的方法。他们的 API 可以为我提供邮政编码的功能，但不能提供其中的地址，如何做到这一点？我也对其他网络服务持开放态度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:07:36.953

经过一些研究后，可用于该目的的最佳数据似乎仍将是官方/行政来源提供的数据。

# lotus-notes - Lotus Notes 嵌入式视图不适用于一位用户

> ID：15243413
> 
> 赞同：0
> 
> 时间：2013-03-06T09:26:56.870
> 
> 标签：lotus-notes

我在主窗体（相同的数据库）中有一个嵌入式视图，其中包含一个自定义生成的客户端代码类别。该视图在隐藏字段中显示具有该主文档的客户端代码的所有其他文档。

这完美地工作，除了嵌入视图为空白并`"category not found"`显示消息的一个用户。所有查看的文档都会发生这种情况。打开完全相同的主文档的任何其他人都可以在嵌入视图中看到正确的列表。文件肯定在那里。

我按了F9几次，`"category not found"`不断出现。我还关闭了 Notes 并删除了缓存文件，然后重新启动。很长一段时间都没有对数据库进行任何更改，并且几天前针对该用户开始了更改。

我不知道是什么原因造成的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:19:00.737

检查应显示在嵌入视图中的文档中的读者/作者字段。可能是那个用户看不到它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:07:17.557

在我压力过大之前，我通常会尝试以下方法：

```
Remove the database from the user's workspace
Compact the workspace (2nd tab of workspace properties)
Close Notes
Delete cache.ndk
Restart Notes 
```

如果这不起作用，我会检查用户是否可以通过另一种方式查看文档（即，如果您向用户发送 doclink，用户可以打开它（或者，尝试通过 View - Goto 直接打开嵌入式视图. 如果视图被隐藏，不要忘记同时使用 CTRL-SHIFT)? 如果没有，用户可能失去了角色，或者退出了提供访问权限的组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T02:54:51.093

*   ¿ 视图是“共享的”而不是“共享的，第一次视图是私有的”？在这种情况下，您必须为该用户删除视图的“私人版本”
*   ¿ 计算嵌入视图，并为一组用户显示一个视图，为另一组显示第二个视图？也许您在错误的视图中搜索问题
*   ¿ 单一类别是基于公式还是基于计算字段？在这种情况下，公式会为该用户计算不同的值

# php - 如何重定向到相同的网址？

> ID：15243416
> 
> 赞同：1
> 
> 时间：2013-03-06T09:27:05.933
> 
> 标签：php, request, silex

我试图弄清楚如何在 silex 中处理表单后重定向到相同的 url：

```
public function someAction(Application $app) 
{
    $form = ... // building form

    if ('POST' === $app['request']->getMethod()) {
        $form->bindRequest($app['request']);

        if ($form->isValid()) 
        {
            $url = $app['url_generator']->generate(
                $app['request']->get('_route'),
                $app['request']->get('_route_params')
            );

            return $app->redirect($url);
        }
    }

    return $app['twig']->render(
       'form.html.twig', 
        array(
            'form' => $form->createView()
        )
    );
} 
```

在[Symfony](http://symfony.com/doc/2.1/book/forms.html#handling-form-submissions)中是可能的，但在这里不起作用。（当然，我总是可以重定向到类似的东西`$url?success`）

UPD： $url**一切正常**。关键是，如果您尝试重定向到完全相同**的 url**，它将无法正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:28:08.660

Request 类有一个[`getRequestUri()`](https://github.com/symfony/HttpFoundation/blob/master/Request.php#L904)方法。你可以像这样使用它：

```
return $app->redirect($request->getRequestUri()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T14:38:47.697

很抱歉用另一个问题回答您的问题，但您*为什么*要重定向到同一页面？您的路线逻辑应该在处理表单后简单地显示您的视图。

```
public function someAction(Application $app) 
{
    $form = ... // building form

    if ('POST' === $app['request']->getMethod()) {
        $form->bindRequest($app['request']);

        if ($form->isValid()) 
        {
            $url = $app['url_generator']->generate(
                $app['request']->get('_route'),
                $app['request']->get('_route_params')
            );

            //return $app->redirect($url);
            // just remove the return here and you're all set!
        }
    }

    return $app['twig']->render(
       'form.html.twig', 
        array(
            'form' => $form->createView()
        )
    );
} 
```

# boonex-dolphin - boonex 中没有安全图像

> ID：15243421
> 
> 赞同：1
> 
> 时间：2013-03-06T09:27:21.063
> 
> 标签：boonex-dolphin

我已经安装了一个新的 dolphin-boonex(7.1) cms.但是在 join.php 页面我看不到验证码图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-09T06:53:32.097

1.  访问此链接 [http://www.google.com/recaptcha](http://www.google.com/recaptcha)
2.  产生
    *   reCAPTCHA 公钥
    *   reCAPTCHA 私钥
3.  现在转到您的 boonex 管理员**管理员 -> 设置 -> 高级设置**
4.  现在在高级设置页面中打开安全选项卡
5.  在此处填写两个密钥
6.  清除缓存

# ruby-on-rails - 如何使用辅助方法填充 Rails 中的单选按钮集合？

> ID：15243422
> 
> 赞同：1
> 
> 时间：2013-03-06T09:27:24.093
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2, radio-button

我正在尝试使用单选按钮的集合（？）填充表单：

```
# _fields.html.erb

<%= f.label :invoice_type %><br/>   
<%= radio_tags_for_select(f.object.invoice_types) %>

# application_helper.rb

def radio_tags_for_select(types)   
  types_html = types.map do |type|
    content_tag :span, :class => "radio_option" do
      radio_button(:invoice_types, type, type) + type
    end
  end
  safe_join(types_html)
end 
```

似乎我无法在这一行中获得正确的语法：`radio_button(:invoice_types, type, type) + type`因为表单被显示但没有保存保存到数据库中。

有人可以帮忙吗？

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:02:57.723

我认为你必须将原始字符串转义为 html：

```
content_tag :span, :class => "radio_option" do
 raw( radio_button(:invoice_types, type, type) + type )
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:17:22.680

这就是我最终的结果：

```
def radio_tags_for_select(types, f)   
  types_html = types.map do |type|
    content_tag :span, :class => "radio_option" do
      f.radio_button(:invoice_type, type) + localize_address_type(type)
    end
  end
  safe_join(types_html)
end 
```

好像我之前忘记传递对象`f`了。

请让我知道是否可以简化此代码。我愿意接受建议。

# macos - 在终端 MacOS 上运行 ffmpeg

> ID：15243426
> 
> 赞同：3
> 
> 时间：2013-03-06T09:27:46.883
> 
> 标签：macos, qt, ffmpeg, terminal, qprocess

我对 MacOS 很陌生，我发现使用终端来`ffmpeg`正常运行并不容易，就像在 Window 上一样。

我从[http://ffmpegmac.net](http://ffmpegmac.net)获得了 ffmpeg 二进制文件，我尝试在终端中运行可执行文件，它告诉找不到命令？我现在可以运行它的唯一方法是使用 command : `"open ffmpeg"`，但是这样终端会在另一个窗口中打开，这不是我所期望的。

有什么方法可以直接在终端中调用 ffmpeg（就像在 Windows cmd 上运行一样）或者我错过了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T10:00:06.840

Mac OS X（和 Unix）与 Windows 不同。调用`open ffmpeg`不能保证打开目录中的二进制文件，它保证在你的 PATH 变量中找到二进制文件（做`echo $PATH`看看）。试试`open ./ffmpeg`吧。

实际上，您最好使用[Homebrew](http://mxcl.github.com/homebrew/)安装它，这将使您可以在系统范围内访问它。

# android - 如何为android创建一个看起来像苹果戒指的自定义时间选择控件？

> ID：15243427
> 
> 赞同：-5
> 
> 时间：2013-03-06T09:27:47.410
> 
> 标签：android

我想为我的 android 应用程序创建一个自定义选择控件。问题是它应该看起来像这张图片中可以看到的苹果产品中的时间环

* * *

                              ![例如](../Images/e35899aecddd8dc9187d66cd6d7f7a4c.png).

* * *

当用户单击并按住环时，他可以移动它并通过增加/减少一个 int 数。你熟悉任何外观相似的控件吗？

谢谢！

我的问题的答案是这个[链接](http://mindtherobot.com/blog/534/android-ui-making-an-analog-rotary-knob/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:35:10.287

它就像 iphone 日期选择器。试试看：[https ://code.google.com/p/android-wheel/](https://code.google.com/p/android-wheel/)

# c - 特定于系统的数据类型的最大大小

> ID：15243429
> 
> 赞同：1
> 
> 时间：2013-03-06T09:27:51.620
> 
> 标签：c

我试图找出 C 数据类型（如 short、int 和 long）的最小值和最大值。

我在维基百科文章中找到了最小尺寸，但我不知道如何为我的计算机找到最大尺寸。

我有一个 mac osx 10.8。

谢谢！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T09:30:16.993

您可以使用`{TYPE}_[MIN|MAX]`定义的宏[`limits.h`](http://www.cplusplus.com/reference/climits/)来检查类型范围：

```
printf("range of short int: %d - %d", SHRT_MIN, SHRT_MAX); 
```

您可以使用`sizeof`运算符来检查类型大小：

```
printf("size of short int: %zu", sizeof(short int)); 
```

### 编辑：

还要检查@JoachimPileborg 的答案，因为他提供了更好的限制参考。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T09:30:07.703

使用头文件中的宏[`<stdint.h>`，`<limits.h>`和`<float.h>`](http://en.cppreference.com/w/c/types/limits).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:30:44.377

有限制包括以下

```
#include <limits.h> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T09:31:08.633

您可以使用 limit.h 和 float.h 中定义的常量：

（在互联网上快速搜索列表）

[http://www.cplusplus.com/reference/climits/](http://www.cplusplus.com/reference/climits/)

[http://www.cplusplus.com/reference/cfloat/](http://www.cplusplus.com/reference/cfloat/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T09:30:17.890

标头[limit.h](http://www.cplusplus.com/reference/climits/)将在这里成为您的朋友。您需要其中的值 SHRT_MIN、SHRT_MAX、INT_MIN、INT_MAX、LONG_MIN、LONG_MAX。我相信他们的名字是自我描述的。

# raphael - 在拉斐尔中使用不透明度进行渐变颜色填充

> ID：15243431
> 
> 赞同：3
> 
> 时间：2013-03-06T09:27:57.377
> 
> 标签：raphael

我无法在渐变填充颜色的元素上保持相同级别的不透明度

```
var paper = Raphael(0, 0, 300, 300);

paper.path(["M", 20, 20, "h", 200, "v", 200, "h", -200, "z"]).attr({
"stroke-width": 3,
stroke: 'red',
    "opacity": 0.5,
fill: "90-red-red"
}); 
```

[http://jsfiddle.net/zhirkovski/vvAaz/1/](http://jsfiddle.net/zhirkovski/vvAaz/1/)

如您所见，渐变从 0.5 开始，但在达到第二种颜色时增加到 1，为什么？即使您更改了颜色，其中一个也会以 opacity = 1 呈现，这是一个错误吗？如果是这样，是否有解决方法，还是我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T08:22:48.297

从我自己的调查来看，这看起来像是 VML 以及随后的 Raphael 的限制。您可以通过以下错误报告找到更多信息：[https ://github.com/DmitryBaranovskiy/raphael/issues/211](https://github.com/DmitryBaranovskiy/raphael/issues/211)

它确实限制了你可以用渐变和淡化做的事情，这对我们所有人来说都是一个祸根。最好的方法是使用 jQuery：

```
 // Setting up defaults
 var paper = Raphael("canvas", 200, 200);
 var bgBottom = paper.rect(0, 0, 200, 200).attr({fill: "90-#999-#fff"});
 var bgTop = paper.rect(0, 0, 200, 200).attr({fill: "90-#999-#fff"});

 // New gradient to fade to
 bgBottom.attr({fill: "90-#069-#000"});
 $(bgTop.node).animate({opacity: 0}, 1000); 
```

然后，您可以使用填充更改为顶部和顶部设置动画：

```
 bgTop.attr({fill: "90-#f0f-#fff"});
 $(bgTop.node).animate({opacity: 1}, 1000); 
```

这是我的 jsfiddle 来帮助演示：http: [//jsfiddle.net/spQsf/](http://jsfiddle.net/spQsf/)

希望这可以帮助！

# iphone - 使用 NSPredicate 过滤 NSArray

> ID：15243433
> 
> 赞同：1
> 
> 时间：2013-03-06T09:28:00.760
> 
> 标签：iphone, ios, objective-c, nsarray, nspredicate

我有一个我想用谓词过滤的 NSArray。这就是我所拥有的。

```
NSLog(@"text is %@",txtSearch.text);
NSPredicate *bPredicate =
[NSPredicate predicateWithFormat:@"SELF beginswith[c] '%@'",txtSearch.text];
arrSearchedPlayers =
[arrPlayers filteredArrayUsingPredicate:bPredicate];
NSLog(@"array after searched is %@",arrSearchedPlayers); 
```

当我输入文本时，我的数组保持为空。但是当我尝试这个谓词时，

```
 NSPredicate *bPredicate =
    [NSPredicate predicateWithFormat:@"SELF beginswith[c] 's'"]; 
```

我得到了正确的结果。有人知道问题是什么吗？

亲切的问候

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T09:30:43.713

删除谓词中的多余引号

```
[NSPredicate predicateWithFormat:@"SELF beginswith[c] %@",txtSearch.text]; 
```

# android - 安卓外键。程序崩溃

> ID：15243436
> 
> 赞同：0
> 
> 时间：2013-03-06T09:28:04.260
> 
> 标签：android

```
public static final String TABLE_TASKS = "tasks";
public static final String COLUMN_ID = "_id";
public static final String COLUMN_TASK = "task";
public static final String COLUMN_TIME = "time";
public static final String COLUMN_INITDATE = "initdate";
public static final String COLUMN_PRIORITY="priority";

public static final String TABLE_REPEAT = "alarms";
public static final String COLUMN_AID = "_aid";
public static final String COLUMN_TID = "tid"; 
```

公共静态最终字符串 COLUMN_DAYS=“天”；

```
private static final String DATABASE1_CREATE = "create table " + TABLE_TASKS + "("
+ COLUMN_ID + " integer primary key autoincrement, "+ COLUMN_TASK
+ " text not null, "+ COLUMN_TIME+" integer not null, "+ COLUMN_INITDATE+" integer not null, "+ COLUMN_PRIORITY +" integer );";

private static final String DATABASE2_CREATE = "create table " + TABLE_REPEAT + "("
        + COLUMN_AID + " integer primary key autoincrement, "+  " FOREIGN KEY (" + COLUMN_TID + ") REFERENCES " + TABLE_TASKS + " ( " + COLUMN_ID + " ), "+ COLUMN_DAYS + " text not null );"; 
```

我的 logcat 为：03-06 09:17:07.051: E/AndroidRuntime(1029): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.habitator/com.example.habitator.Habitator}: android. database.sqlite.SQLiteException：外键定义中的未知列“tid”（代码1）：，编译时：创建表警报（_aid整数主键自动增量，外键（tid）参考任务（_id），天文本不为空） ;

请帮我找出错误！为什么我的程序崩溃？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:38:16.510

试试这个查询。

```
create table alarms(_aid integer primary key autoincrement, tid integer FOREIGNKEY REFERENCES tasks ( _id ), days text not null ); 
```

[https://www.sqlite.org/foreignkeys.html](https://www.sqlite.org/foreignkeys.html)

# java - 使用 Apache POI 在 Excel 工作表中插入复选框

> ID：15243438
> 
> 赞同：0
> 
> 时间：2013-03-06T09:28:11.790
> 
> 标签：java, excel, apache-poi, poi-hssf

我想务实地在不同的单元格中插入多个复选框。我想为每一个保留一个参考，以便在用户检查或取消选中后阅读它们。

我可以在 Java POI 中做到这一点吗？如果不是，还有其他选择吗？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:49:13.823

**您可以在Microsoft visual basic+java**的帮助下使用宏创建自定义复选框，仅在 java 中该工具不可用

# jquery - 识别类中已更改的 id

> ID：15243440
> 
> 赞同：0
> 
> 时间：2013-03-06T09:28:19.610
> 
> 标签：jquery, css, html-table

我有一个 html 表，其中一列（表）的所有元素（文本框）属于同一个类，每个文本框都有不同的唯一 ID，并且表有多个列和行。如果文本框值发生更改，它应该返回文本框值更改的同一行的另一列值（位置值）。

```
<tr style="background-color: rgb(200, 200, 200);" id="node-13600" class="child-of-node-0 row byte_lenght_1 initialized">
    <td style="padding-left: 34px;">terminat</td>
    <td style="padding-left: 15px">format</td>
    <td style="padding-left: 15px">
        <input class="main_text" id="main_type_13600">
    </td>
    <td class="length" style="padding-left: 15px">1</td>
    <td class="position" style="padding-left: 15px">0</td>
    <td style="padding-left: 15px">HTermin
        <input type="hidden" name="row" value="13600">
    </td>
</tr>
<tr style="background-color: rgb(200, 200, 200);" id="node-13601" class="child-of-node-0 row byte_lenght_1 initialized">
    <td style="padding-left: 34px;">termin</td>
    <td style="padding-left: 15px">wc_type</td>
    <td style="padding-left: 15px">
        <input class="main_text" id="main_type_13601">
    </td>
    <td class="length" style="padding-left: 15px">1</td>
    <td class="position" style="padding-left: 15px">1</td>
    <td style="padding-left: 15px">##: eph ##: tdm_c ##: all_c ##: choose_c ##: root_c
        <input type="hidden"
        name="row" value="13601">
    </td>
</tr> 
```

我为此使用jquery：

```
$('.main_text').change(function() {
  var a= $(this).find('.position').val();
  alert (a);
}); 
```

但是我没有得到任何结果，正如预期的那样！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:35:15.200

我很确定这就是你要找的东西：

```
$('.main_text').change(function() { 
    alert($(this).parent().parent().find('.position').html()); 
}); 
```

“.find”在您指定的元素内查找元素。所以它在“.main_text”中寻找“.position”

此外，我已将“.val()”更改为“.html()”，因为 val 用于检索输入字段的值，并且您正在尝试检索表格单元格的 html 内容。

希望这有帮助。

干杯，

TJ

# iphone - 如何获得一个月的周数

> ID：15243443
> 
> 赞同：13
> 
> 时间：2013-03-06T09:28:32.090
> 
> 标签：iphone, ios, objective-c, ios5, ios6

这是问题所在，我正在寻找一种方法来获取一个月中的周数。我已经找到了一个似乎适用于 ios 5 的解决方案，但它不适用于 io6（返回的数字不一样，在 ios 6 上还有一个）。

```
- (int)weeksOfMonth:(int)month inYear:(int)year
{
    NSCalendar *cCalendar = [NSCalendar currentCalendar];

    NSDateComponents *components = [[NSDateComponents alloc] init];
    [components setMonth:month];
    [components setYear:year];

    NSRange range = [cCalendar rangeOfUnit:NSDayCalendarUnit
                               inUnit:NSMonthCalendarUnit
                              forDate:[cCalendar dateFromComponents:components]];

    cCalendar = [NSCalendar currentCalendar];
    [cCalendar setMinimumDaysInFirstWeek:4];

    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc]init];
    [dateFormatter setLocale: [[NSLocale alloc] initWithLocaleIdentifier:@"fr"]];
    [dateFormatter setDateFormat:@"yyyy-MM-dd"];
    NSMutableSet *weeks = [[NSMutableSet alloc] init ];

    for(int i = 0; i < range.length; i++)
    {
        NSString *temp = [NSString stringWithFormat:@"%4d-%2d-   %2d",year,month,range.location+i];
        NSDate *date = [dateFormatter dateFromString:temp ];
        int week = [[cCalendar components: NSWeekOfYearCalendarUnit fromDate:date] weekOfYear];
        [weeks addObject:[NSNumber numberWithInt:week]];
    }

    return [weeks count];
} 
```

io6 上返回值为 6，io5 上返回值为 5。

你有什么主意吗 ？

编辑：另一件事，我的设备（ios5）是法语，模拟器（ios6）是英语。也许它可以改变一些东西（比如一周的第一天？）？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-06T09:40:35.910

试试这个：

```
NSDate *date = [NSDate date];//since you are forming date, put it here
NSCalendar *calender = [NSCalendar currentCalendar];
NSRange weekRange = [calender rangeOfUnit:NSWeekCalendarUnit inUnit:NSMonthCalendarUnit forDate:date];
NSInteger weeksCount=weekRange.length;
NSLog(@"%d",weeksCount); 
```

* * *

斯威夫特 4.0：

```
let date = Date()
let calendar = Calendar.current
let weekRange = calendar.range(of: .weekOfMonth, 
                               in: .month, 
                               for: date)
let weeksCount = weekRange.count ?? 0
print(weeksCount) 
```

* * *

或将您的方法更改为：

```
- (NSInteger)weeksOfMonth:(int)month inYear:(int)year{
    NSString *dateString=[NSString stringWithFormat:@"%4d/%d/1",year,month];

    NSDateFormatter *dfMMddyyyy=[NSDateFormatter new];
    [dfMMddyyyy setDateFormat:@"yyyy/MM/dd"];
    NSDate *date=[dfMMddyyyy dateFromString:dateString];

    NSCalendar *calender = [NSCalendar currentCalendar];
    NSRange weekRange = [calender rangeOfUnit:NSWeekCalendarUnit inUnit:NSMonthCalendarUnit forDate:date];
    NSInteger weeksCount=weekRange.length;

    return weeksCount;
} 
```

* * *

编辑：

在上述方法中使用它

```
 //NSCalendar *calender = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
 [calender setFirstWeekday:2]; //sunday=1, monday=2 etc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:20:03.213

检查这种方法。

```
-(NSArray*)getWeekDaysForDate {

int dayOfWeek = [self weekDay];

NSMutableArray *array = [NSMutableArray array];

NSDate *weekStartDate = [self offsetDay:1-dayOfWeek];

NSCalendar *calendar = [NSCalendar defaultCalendar];
NSInteger monthValue = [self month];
unsigned int weekNum = [[calendar components: NSWeekCalendarUnit
                               fromDate: weekStartDate] week];
NSDate * nextDate = weekStartDate, *curDate;
NSDateComponents *oneDay = [[NSDateComponents alloc] init];
[oneDay setDay:1];
unsigned int newWeekNum;
do {
    curDate = nextDate;
    nextDate = [calendar dateByAddingComponents:oneDay toDate: curDate
                                   options:0];

    newWeekNum = [[calendar components: NSWeekCalendarUnit fromDate:
                   nextDate] week];
    int monthValueForNextDate = [[calendar components: NSMonthCalendarUnit fromDate:
                       nextDate] month];

    if(monthValue == monthValueForNextDate)
        [array addObject:nextDate]];

} while (newWeekNum == weekNum);

[array sortUsingSelector:@selector(compare:)];

return array;
}

-(int)month {
   NSCalendar *gregorian = [NSCalendar defaultCalendar];
   NSDateComponents *components = [gregorian components:NSMonthCalendarUnit fromDate:self];
   return [components month];
}

-(int)weekDay {
   NSCalendar *gregorian = [NSCalendar defaultCalendar];
   NSDateComponents *components = [gregorian components:NSWeekdayCalendarUnit fromDate:self];
   return [components weekday];
}

-(NSDate *)offsetDay:(int)numDays {
   NSCalendar *gregorian = [NSCalendar defaultCalendar];
   NSDateComponents *offsetComponents = [[NSDateComponents alloc] init];
   [offsetComponents setDay:numDays];
   return [gregorian dateByAddingComponents:offsetComponents
                                  toDate:self options:0];
} 
```

PS：`NSCalendar defaultCalendar = [[NSCalendar alloc]initWithCalendarIdentifier:NSGregorianCalendar];`

添加此方法后，类别`NSDate`将返回同一周内任何日期的工作日。

此致。

# linux - git 通过 ssh 设置 git 可执行文件的远程路径

> ID：15243445
> 
> 赞同：2
> 
> 时间：2013-03-06T09:28:39.567
> 
> 标签：linux, git, zsh

我在我的`~/.ssh/config`：

```
Host myserver
    User myusername
    ProxyCommand ssh myserver2 exec nc myserver 22 
```

但是当我尝试拉取远程 git 存储库时，我收到此错误：

```
% git pull myserver:~/mygitrepository
zsh:1: command not found: git-upload-pack
fatal: The remote end hung up unexpectedly 
```

问题是我的 git 可执行文件不在 $PATH 定义的标准路径中。在远程机器上：

```
% which git-upload-pack
/c5/shared/git/1.7.6/bin/git-upload-pack 
```

在本地机器上：

```
% ssh myserver "env | grep PATH"
PATH=/usr/local/bin:/bin:/usr/bin 
```

ssh 不会读取 .zshrc 或 .bashrc 中的远程 PATH 定义。如何通过 ssh 定义 git 可执行文件的路径？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:27:27.397

其实我在[这里](https://stackoverflow.com/questions/1603739/ssh-ksh-git-not-found?rq=1)找到了答案。一种解决方案是使用以下命令在远程设置上传包路径：

```
git pull --upload-pack=/c5/shared/git/1.7.6/bin/git-upload-pack myserver:~/mygitrepository 
```

在客户端。

# sql - Oracle sql查询避免UNION子句？

> ID：15243450
> 
> 赞同：0
> 
> 时间：2013-03-06T09:28:51.113
> 
> 标签：sql, oracle, plsql

我是 SQL 新手。我正在使用Oracle10g。我有以下查询。它有 3 个部分，并且正在对所有三个部分进行 UNION。但是在每个查询中，除了连接表之外，大多数逻辑都是常见的。是否可以避免 UNION 并将所有内容放在一个块中？

```
 SELECT DISTINCT e.some_id
         FROM
             main_table e,
             main_table_join_one x     //only change
             where  e.some_id = x.some_id(+)
             and (x.status in('A','I') or x.status is null)
             and e.code='XYZ' and e.second_code in('XYZ','ABC')

             UNION

    SELECT DISTINCT ef.some_id
         FROM
             main_table ef,
             main_table_join_two xf  //only change
             where  ef.some_id = xf.some_id(+)
             and (xf.status in('A','I') or xf.status is null)
             and ef.code='XYZ' and ef.second_code in('XYZ','ABC')

             UNION

    SELECT DISTINCT eff.some_id
         FROM
             main_table eff,
             main_table_join_three xff   //only change
             where  eff.some_id = xff.some_id(+)
             and (xff.status in('A','I') or xff.status is null)
             and eff.code='XYZ' and eff.second_code in('XYZ','ABC') 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:06:27.407

你可以使用存在

```
select distinct e.some_id
  from main_table e
 where e.code = 'XYZ'
   and e.second_code in ('XYZ', 'ABC')
   and (exists (select 0
                  from main_table_join_one x / / only change
                 where x.some_id = e.some_id
                   and (x.status in ('A', 'I') or x.status is null)) 
    or exists
        (select 0
           from main_table_join_two x / / only change
          where x.some_id = e.some_id
            and (x.status in ('A', 'I') or x.status is null))  
    or exists
        (select 0
           from main_table_join_three x / / only change
          where x.some_id = e.some_id
            and (x.status in ('A', 'I') or x.status is null))) 
```

已编辑

与主题启动案例中的结果完全相同

```
select distinct e.some_id
  from main_table e
 where e.code = 'XYZ'
   and e.second_code in ('XYZ', 'ABC')
   and (exists (select 0
                  from main_table_join_one x
                 where x.some_id = e.some_id
                   and x.status in ('A', 'I')) 
    or not exists
        (select 0 from main_table_join_one x where x.some_id = e.some_id) 
    or exists
        (select 0
           from main_table_join_two x
          where x.some_id = e.some_id
            and x.status in ('A', 'I'))
    or not exists
        (select 0 from main_table_join_two x where x.some_id = e.some_id) 
    or exists
        (select 0
           from main_table_join_three x
          where x.some_id = e.some_id
            and x.status in ('A', 'I')) 
    or not exists
        (select 0 from main_table_join_three x where x.some_id = e.some_id)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:34:34.360

为什么要使用外部联接？您只选择`main_table.some_id`，而外连接意味着无论其他表中是否有任何匹配项，您都会得到它。（尽管正如 Mark Ba​​nnister 所观察到的，因为您已经破坏了外部联接语法，您实际上是在运行内部联接）。

因此，如果您只运行以下命令，您将获得相同的结果集（假设您更正了外连接语法）：

```
SELECT DISTINCT e.some_id
FROM main_table e
where e.code='XYZ' 
and e.second_code in('XYZ','ABC') 
```

也许您在向我们展示经过清理的测试用例时已经破坏了逻辑？或者您可能不清楚您应该实施的业务规则？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-26T16:58:42.983

```
 select distinct ear.RecId,0 Recid,em.EmpCode EmpId,                 
      (em.EmpFirstName+' '+em.EmpMiddleName+' '+em.EmpLastName) as Name,                   
   dm.DeptName as Department,                  
   EAR.AttendType [AttendType],                  

  Convert(varchar,ActualDate,110)  [AttendDate],                  
   EAR.Reason,                      
   ear.StatusOfAdmin Status                      
    from Employeemaster em,                   
   DepartmentMaster dm,                  
   EmpAttenednaceRequest ear,                  
   empAttendanceRequestTransaction eart 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-06T09:44:44.993

试试这个查询

```
 SELECT DISTINCT e.some_id
 FROM
         main_table e,
         main_table_join_one x,
         main_table_join_two xf,
         main_table_join_three xff 
 where e.code='XYZ' and e.second_code in('XYZ','ABC') AND
         ((e.some_id = x.some_id
         and (x.status in('A','I') or x.status is null) 
         OR (ef.some_id = xf.some_id
         and (xf.status in('A','I') or xf.status is null))
         OR (eff.some_id = xff.some_id
         and (xff.status in('A','I') or xff.status is null))) 
```

如果 ef 和 eff 不存在

已编辑

```
 SELECT DISTINCT e.some_id
 FROM
         main_table e,
         main_table_join_one x,
 where e.code='XYZ' and e.second_code in('XYZ','ABC') AND
         e.some_id = x.some_id and
         (x.status in('A','I') or x.status is null); 
```

# java - 十六进制代码上的 Java 模式

> ID：15243451
> 
> 赞同：0
> 
> 时间：2013-03-06T09:28:52.143
> 
> 标签：java, android, hex, design-patterns, mms

我有以下要解析的十六进制代码。对于好奇的人来说，这是一个彩信包。

```
e306246170706c69636174696f6e2f766e642e7761702e6d6d732d6d65737361676500af84b4818c82986e323333426178773042737549684d008d918918802b33333631313131313131312f545950453d504c4d4e0086818a808e02271088058103093a8083687474703a2f2f772e732f6158585842737549684d00 
```

详细版本在这里：

```
e3 // Wsp transactionId
06 // Push type
24 // Length of the content type field and headers
6170706c69636174696f6e2f766e642e7761702e6d6d732d6d657373616765 // application/vnd.wap.mms-message 
00 // Null terminated
af84 // X-Wap-Application-ID
b481 // ?
8c82 // X-MMS-Message-Type:m-notification-ind 
986e323333426178773042737549684d00 // Transaction id random with seed
8d // MMS version
91 // 1.1
89 // From
18 // Length of from
80 // Address present
2b3333363131313131313131 // Sender phone number
2f545950453d504c4d4e // /TYPE=PLMN
00 // Null terminated
8681
8a // Message class
80 // Personnal (81=Ad, 82=Informational, 83=Auto)
8e // Message size
02 // Size will be coded on 2 bytes
2710 // 10000 bytes
88 // X-Mms-Expiry
05 // Field size
81 // Relative date format
03 // Time will be coded on 3 bytes
093a80 // Seconds
83 // X-MMS-Content-Location 
687474703a2f2f772e732f6158585842737549684d // Url to the server
00 // Null terminated 
```

我需要获取`2b3333363131313131313131`我的十六进制代码中的电话号码和服务器的 url `687474703a2f2f772e732f6158585842737549684d`。我正在为 Android 使用 Java。我几乎可以肯定我需要使用模式，但我不明白它是如何工作的。

我已经完成了以下代码（显然，它不起作用）：

*   电话号码模式：

    ```
    String number = hexCode.replace("^89([a-f0-9])00$", "$1");
    number = number.substring(6, number.length() - 22);
    // Number should be equal to 2b3333363131313131313131 
    ```

*   网址模式

    ```
     String url = hexCode.replace("^83([a-f0-9])00$", "$1");
     url = url.substring(2, url.length() - 2);
     // Url should be equal to 687474703a2f2f772e732f6158585842737549684d 
    ```

你能帮我使这些模式起作用吗？

编辑：我可以在没有模式的情况下完成这项工作，但我认为这不是最好的解决方案。

```
// Try to find the pattern "http"
if (pduS.indexOf("68747470") > -1)
{
    String url = pduS.substring(pduS.indexOf("68747470"), pduS.length() - 2);
    Log.e(">>>>>>", "Url: " + convertHexToString(url));
}

// Try to find the pattern "/TYPE=PLMN"
if (pduS.indexOf("2b") > -1 && pduS.indexOf("2f545950453d504c4d4e") > -1)
{
    String shortPdu = pduS.substring(0, pduS.indexOf("2f545950453d504c4d4e"));
    String number = pduS.substring(shortPdu.lastIndexOf("2b"), pduS.indexOf("2f545950453d504c4d4e"));
    Log.e(">>>>>>", "Number: " + number);
    Log.e(">>>>>>", "Number: " + convertHexToString(number));
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-21T10:32:45.210

如果有人需要我的问题的答案，请使用以下模式：

```
Number: ^2b[0-9abcdefABCDEF]+2f545950453d504c4d4e$
Url: ^68747470[0-9abcdefABCDEF]+00$ 
```

这是 MMS Pdu 的应用程序：

```
public String getNumber(String pduString)
{
    Pattern p = Pattern.compile("^2b[0-9abcdefABCDEF]+2f545950453d504c4d4e$");
    Matcher m = p.matcher(pduString);
    return m.find() ? m.group(1) : "";
}

public String getUrl(String pduString)
{
    Pattern p = Pattern.compile("^68747470[0-9abcdefABCDEF]+00$");
    Matcher m = p.matcher(pduString);
    return m.find() ? m.group(1) : "";
} 
```

如果您对此代码有任何问题，请告诉我。

PS：您可能需要添加`+`到数字以获取国际格式和`http://`网址。

# ruby-on-rails - 在开发模式下在 Ruby on Rails 上使用 alias_method_chain 的自定义助手 [REDMINE]

> ID：15243453
> 
> 赞同：4
> 
> 时间：2013-03-06T09:28:52.887
> 
> 标签：ruby-on-rails, development-environment, redmine, helper, alias-method-chain

我想用 alias_method_chain 的原理自定义 Redmine 的方法`link_to_issue`，`application_helper`以保持插件中的 Redmine 代码干净，但我遇到了问题。

首先，这是补丁文件，`application_helper_patch.rb`：

```
 require_dependency 'application_helper'

    module ApplicationtHelperPatch
     def self.included(base) # :nodoc:     
      base.send(:include, InstanceMethods)
      base.class_eval do
        unloadable
        alias_method_chain :link_to_issue, :custom_show
      end
     end

     module InstanceMethods
         def link_to_issue_with_custom_show(issue, options={})
          title = nil
          subject = nil
          if options[:subject] == false
           title = truncate(issue.subject, :length => 60)
          else
            subject = issue.subject
            if options[:truncate]
              subject = truncate(subject, :length => options[:truncate])
            end
          end
          s = link_to "#{h subject}", {:controller => "issues", :action => "show", :id => issue},      
                                          :class => issue.css_classes,
                                          :title => title
          s = "#{h issue.project} - " + s if options[:project]
      end
     end
   end 
```

和`init.rb`插件的：

```
require 'redmine'
require 'application_helper_patch'

Dispatcher.to_prepare do
  ApplicationHelper.send(:include, ApplicationtHelperPatch)  unless ApplicationHelper.included_modules.include? ApplicationtHelperPatch
end

Redmine::Plugin.register :redmine_dt_capture do
  name 'my plugin'
  author 'Remi'
  description 'This is a plugin for Redmine'
  version '0.0.1'
  permission :dt, :public => true
  menu :top_menu,
    :dt,
    { :controller => 'my_controller', :action => 'index' },
    :caption => ' my_plugin '

  if RAILS_ENV == 'development'
      ActiveSupport::Dependencies.load_once_paths.reject!{|x| x =~ /^#{Regexp.escape(File.dirname(__FILE__))}/}
  end 
```

该解决方案在生产模式下完美运行，但在开发模式下无法运行。当我启动应用程序时，我遇到了这个问题：

```
NoMethodError in Issues#show
Showing app/views/issues/show.html.erb where line #47 raised:
undefined method `call_hook' for #<ActionView::Base:0x6b8b750>
Extracted source (around line #47): 
```

为什么`call_hook`在开发模式下方法未定义？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:02:00.187

尝试更常规的方式添加补丁，也许这会解决您的问题。

把你的补丁放在**your_plugin/lib/plugin_name/patches/**

而**application_helper_patch.rb**会变成这样

```
require_dependency 'application_helper'

module PluginName
module Patches
module ApplicationtHelperPatch
 def self.included(base) # :nodoc:     
  base.send(:include, InstanceMethods)
  base.class_eval do
    unloadable
    alias_method_chain :link_to_issue, :custom_show
  end
 end

 module InstanceMethods
     def link_to_issue_with_custom_show(issue, options={})
      title = nil
      subject = nil
      if options[:subject] == false
       title = truncate(issue.subject, :length => 60)
      else
        subject = issue.subject
        if options[:truncate]
          subject = truncate(subject, :length => options[:truncate])
        end
      end
      s = link_to "#{h subject}", {:controller => "issues", :action => "show", :id => issue},      
                                      :class => issue.css_classes,
                                      :title => title
      s = "#{h issue.project} - " + s if options[:project]
  end
 end
end
end
end 
```

和插件的**init.rb**：

```
require 'redmine'
require 'application_helper_patch'

Dispatcher.to_prepare do
  ApplicationHelper.send(:include, PluginName::Patches::ApplicationtHelperPatch)  unless    ApplicationHelper.included_modules.include? PluginName::Patches::ApplicationtHelperPatch
end

Redmine::Plugin.register :redmine_dt_capture do
  name 'my plugin'
  author 'Remi'
  description 'This is a plugin for Redmine'
  version '0.0.1'
permission :dt, :public => true
 menu :top_menu,
  :dt,
  { :controller => 'my_controller', :action => 'index' },
  :caption => ' my_plugin '

if RAILS_ENV == 'development'
  ActiveSupport::Dependencies.load_once_paths.reject!{|x| x =~ /^#{Regexp.escape(File.dirname(__FILE__))}/}
end 
```

# c# - 使用 .Replace 将 oldValue 替换为 newValue

> ID：15243459
> 
> 赞同：2
> 
> 时间：2013-03-06T09:28:57.287
> 
> 标签：c#, string-formatting

我在使用 .replace 替换字符时遇到了一些问题

例子：

```
string word = "Hello";
oldValue = "H";
newValue = "A"; 

word = word.replace(oldValue,newValue) 
```

上面的代码运行良好，H 将替换为 A，输出将是 Aello

现在我想使用更多的 newValue 而不仅仅是一个，所以 H 可以用随机的 newValue 替换，而不仅仅是“A”

当我更改 newValue 时：

```
newValue = 'A', 'B', 'C'; 
```

.Replace 函数给了我一个错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:34:43.613

尝试使用`System.Random`该类来获取`newValue`数组中的随机项。

```
string word = "Hello";
var rand = new System.Random();
var oldValue = "H";
var newValue = new[] { "A", "B", "C" };

word = word.Replace(oldValue, newValue[rand.Next(0, 2)]); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:37:29.023

该`Replace`方法不支持随机替换，您必须自己实现随机部分。

该`Replace`方法也不支持替换回调，但该`Regex.Replace`方法支持：

```
string word = "Hello Hello Hello";
Random rnd = new Random();
string[] newValue = { "A", "B", "C" };
word = Regex.Replace(word, "H", m => newValue[rnd.Next(newValue.Length)]);

Console.WriteLine(word); 
```

示例输出：

```
Cello Bello Aello 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:45:09.483

用AZ之间的随机大写字母（65-90）替换。

```
string oldValue = "H";

string newValue = Convert.ToString((char)(new Random().Next(65, 91)));
word.Replace(oldValue, newValue); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:34:53.960

有趣的任务，但就是这样:)

```
string word = "Hello";
char[] repl = {'A', 'B', 'C'};
Random rnd = new Random();
int ind = rnd.Next(0, repl.Length);

word = word.Replace('H', repl[ind]); 
```

**编辑**： rnd.Next 的 maxValue 是独占的，所以你应该使用 repl.Length 而不是 (repl.Length -1)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T09:36:48.087

您可以使用随机字符串创建方法并通过替换推送它： [Random String Generator Returning Same String](https://stackoverflow.com/questions/1122483/c-sharp-random-string-generator)

# iphone - 创建表头视图

> ID：15243461
> 
> 赞同：0
> 
> 时间：2013-03-06T09:29:00.370
> 
> 标签：iphone, xamarin.ios, xcode4.5

我需要创建一个包含 3 列、X 行（来自数据库）的表，并且每列都有数据。

我挣扎的第一步是创建 3 个标题，即使我滚动也必须始终出现在表格顶部。

我正在查看 UITableView 中的 tableHeaderView 属性，有没有可以在某处使用的示例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:53:50.300

```
-(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    UIView * headerView;

    headerView=[[UIView alloc]init];

    //  headerView.frame = CGRectMake(0,0,320,40);

    headerView.frame = CGRectMake(0,0,320,40);

    UIImageView *imgview=[[UIImageView alloc]init];
    imgview.frame=CGRectMake(0,0,320,40);
    imgview.image=[UIImage imageNamed:@"header1.png"];

    UILabel *statuslabel=[[UILabel alloc]initWithFrame:CGRectMake(5,10,320,20)];

    statuslabel.font = [UIFont boldSystemFontOfSize:12];
    statuslabel.backgroundColor=[UIColor clearColor];

    // headerView.backgroundColor=[UIColor orangeColor];

        if(section==0)
            statuslabel.text=@"TODAY";

        else if(section==1)
            statuslabel.text=@"OLDER THAN A WEEK";

        else
            statuslabel.text=@"OLDER THAN A MONTH";

    [imgview addSubview:statuslabel];
    [headerView addSubview:imgview];
    //[headerView addSubview:statuslabel];

    return headerView;
} 
```

试试这个。一次......

# sql - 将两个表与表 2 的数据从第二个字段开始合并

> ID：15243462
> 
> 赞同：0
> 
> 时间：2013-03-06T09:29:01.003
> 
> 标签：sql, ms-access

我有两个表，每个表有 72 列。第一个表的数据从第 1 列开始，第二个表的数据从第 30 列开始。如何在两个表上进行联合并在第二个表值的前 29 列中获取 0？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:42:34.183

为此，您必须明确写入 29 列，默认值为 0（零）。

对于表 B 中存在的列的表 A 选择，您也必须这样做。

假设表 B 有 20 列名为 col30,col31,col32 ....... col49

您可以使用以下查询 -

```
select TableA. col1,
       TableA. col2,
       TableA. col3,
       TableA. col4,
       TableA. col5,
       TableA. col6,
       TableA. col7,
       TableA. col8,
       TableA. col9,
       TableA. col10,
       TableA. col11,
       TableA. col12,
       TableA. col13,
       TableA. col14,
       TableA. col15,
       TableA. col16,
       TableA. col17,
       TableA. col18,
       TableA. col19,
       TableA. col20,
       TableA. col21,
       TableA. col22,
       TableA. col23,
       TableA. col24,
       TableA. col25,
       TableA. col26,
       TableA. col27,
       TableA. col28,
       TableA. col29,
       0       col30,
       0       col31,
       0       col32,
       0       col33,
       0       col34,
       0       col35,
       0       col36,
       0       col37,
       0       col38,
       0       col39,
       0       col40,
       0       col41,
       0       col42,
       0       col43,
       0       col44,
       0       col45,
       0       col46,
       0       col47,
       0       col48,
       0       col49,
       0       col50
  from tableA

union all

select 0       col1,
       0       col2,
       0       col3,
       0       col4,
       0       col5,
       0       col6,
       0       col7,
       0       col8,
       0       col9,
       0       col10,
       0       col11,
       0       col12,
       0       col13,
       0       col14,
       0       col15,
       0       col16,
       0       col17,
       0       col18,
       0       col19,
       0       col20,
       0       col21,
       0       col22,
       0       col23,
       0       col24,
       0       col25,
       0       col26,
       0       col27,
       0       col28,
       0       col29,
       TableB. col30,
       TableB. col31,
       TableB. col32,
       TableB. col33,
       TableB. col34,
       TableB. col35,
       TableB. col36,
       TableB. col37,
       TableB. col38,
       TableB. col39,
       TableB. col40,
       TableB. col41,
       TableB. col42,
       TableB. col43,
       TableB. col44,
       TableB. col45,
       TableB. col46,
       TableB. col47,
       TableB. col48,
       TableB. col49,
       TableB. col50
  from TableB 
```

# c# - 如何在c#中制作没有圆角的窗体

> ID：15243463
> 
> 赞同：1
> 
> 时间：2013-03-06T09:29:04.503
> 
> 标签：c#, winapi

我想制作一个没有圆角的窗体，如下图所示。是否有任何 Windows API 函数或任何其他方法来制作它？

![没有圆角](../Images/a402cb8efc16d66ff61b1380637c116c.png)

我不想使用`IMAGES`OR`FormBorderStyle = none`属性。

去除圆角时，应正确应用 WINDOWS 主题颜色。它不是 WINDOWS 经典模式 WINDOWS 窗体

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:34:08.250

如果您只想消除圆角，您可以设置[`Region`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.region.aspx)表单的属性：

```
this.Region = new Region(new Rectangle(0, 0, Width, Height)); 
```

# android - Android 中的标签无法正常工作？

> ID：15243464
> 
> 赞同：2
> 
> 时间：2013-03-06T09:29:04.723
> 
> 标签：android, tabs, android-tabhost

我使用 tabHost 在我的应用程序中创建了 4 个选项卡，它工作正常。下面我展示了仅添加 2 个选项卡的代码。

```
 public class Home_tab extends TabActivity {

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.home_main);

    Resources ressources = getResources(); 
    TabHost tabHost = getTabHost(); 

    // Android tab

    Intent intentAndroid = new Intent().setClass(this, CoalActivity.class);
    TabSpec tabSpecAndroid = tabHost

      .newTabSpec("Android")

      .setIndicator("", ressources.getDrawable(R.drawable.tab_dis))
      .setContent(intentAndroid);

    // Apple tab
    Intent intentApple = new Intent().setClass(this, EnergyActivity.class);
    TabSpec tabSpecApple = tabHost
      .newTabSpec("Apple")

      .setIndicator("", ressources.getDrawable(R.drawable.tab_foc))
      .setContent(intentApple);

    // add all tabs 
    tabHost.addTab(tabSpecAndroid);
    tabHost.addTab(tabSpecApple);

                }
              } 
```

这是我的 xml 文件

```
 <?xml version="1.0" encoding="utf-8"?>
      <TabHost xmlns:android="http://schemas.android.com/apk/res/android"
         android:id="@android:id/tabhost"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"
         android:background="@drawable/background"
         android:scrollbarAlwaysDrawHorizontalTrack="true"
        >
<LinearLayout
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:padding="5dp">
    <TabWidget
        android:id="@android:id/tabs"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />
    <FrameLayout
        android:id="@android:id/tabcontent"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:padding="5dp" />
  </LinearLayout>
  </TabHost> 
```

但我的问题是当我添加更多选项卡时，它会出现在同一个窗口中。例如，目前我添加了 4 个标签，当我尝试再添加 3 个标签时，所有标签都在同一个窗口中？我只想在同一个窗口中添加 4 个选项卡，其他选项卡应该只在我滚动选项卡栏时出现如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:49:51.003

检查以下链接，让我知道它们是否有助于解决您的问题

[链接1](http://java.dzone.com/articles/scrolling-tabs-android)

[链接2](http://www.java2s.com/Code/Android/Hardware/DemonstratestheTabscrollingwhentoomanytabsaredisplayedtofitinthescreen.htm)

[链接3](https://stackoverflow.com/questions/3853760/how-to-scroll-the-tabs-in-tabview)

# c# - 在 C# 中自动将 reportViewer 页面设置为横向模式

> ID：15243465
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:29:09.977
> 
> 标签：c#, printing, report-viewer2010

是否可以以编程方式将 reportViewers 页面设置为横向模式，因此如果用户想要打印（预览）它，他不必更改设置？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:33:31.743

交换报表页面大小属性的高度和宽度。

# jquery - 突出显示活动菜单项

> ID：15243466
> 
> 赞同：0
> 
> 时间：2013-03-06T09:29:11.863
> 
> 标签：jquery, substr, lastindexof

我有一个由列表创建的菜单。我希望能够突出显示当前菜单项。

使用此脚本，我可以匹配 url 的最后一位（最后一位之后的所有内容`/`），但我还需要脚本来匹配 url 中的前两个文件夹。`index.html`因此，我想抓住而不是 eg `/folder1/folder2/index.html`。

```
$(function () {
    var url = window.location.href.substr(window.location.href.lastIndexOf("/") + 1);
    $(".nav li a").each(function () {
        //console.log(url);
        if ($(this).attr("href") == url) $(this).parent().addClass("active");
    });
});

//Markup:

<ul id="nav">
      <li><a href="/folder1/folder2/index.html">Home</a></li>
      <li><a href="/folder1/folder2/about.html">About</a></li>
      <li><a href="/folder1/folder2/contact.html">Contact</a></li>
</ul> 
```

如何修改脚本以匹配 url 的更多部分？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:47:27.873

这个应该工作：

```
$(function () {
  var url = window.location.href.substr(window.location.href.lastIndexOf("/") + 1);
  $('[href$="'+url+'"]').parent().addClass("active");
}); 
```

# c++ - C++ 初始化令牌

> ID：15243467
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:29:12.590
> 
> 标签：c++

我阅读了有关令牌初始化的 Bjarne C++ 书籍。

编码：

```
class Token {
public:
    char kind;        // what kind of token
    double value;     // for numbers: a value
    Token(char ch)    // make a Token from a char
        :kind(ch), value(0) { }
    Token(char ch, double val)     // make a Token from a char and a double
        :kind(ch), value(val) { }
}; 
```

为什么必须使 Token 两次'for char ch'

*   令牌 (char ch) 和
*   令牌 (char ch, double val)

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T09:30:14.437

你没有。您可以改用以下内容：

```
Token(char ch, double val = 0)
    :kind(ch), value(val) { } 
```

基本上，这个（和 Bjarne 的）代码的作用是允许您`Token`从以下任一构造：

*   一个`char`; 或者
*   一个`char`和一个`double`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:05:29.993

作者这样做可能是为了同时展示构造函数重载的概念，您可以改用以下内容

```
Token(char ch, double val = 0) : kind(ch), value(val) {} 
```

这样，val 的默认值为 0，如果您想传递任何其他值，则该值将覆盖零

# android - 没有调试我的手机 android 应用程序

> ID：15243469
> 
> 赞同：0
> 
> 时间：2013-03-06T09:29:16.060
> 
> 标签：android, eclipse, android-debug

我正在尝试通过我的 karboon A1+ 手机测试我的 android 应用程序（android 2.3.3）。但是，我无法让 Eclipse 在调试配置菜单上识别我的设备。当我通过 USB 数据线连接时，我的手机可以被我的电脑识别。我可以通过 Windows 但不能通过 Eclipse 访问我的手机。此外，当我更新到 android 2.3.4 时，最近更新了 karboon A1+ 驱动程序。

我使用手机调试的原因是模拟器不断崩溃/无法安装我的应用程序。我正在运行 Windows Vista 32 位。任何帮助，将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:44:50.940

那些来自小型制造商的设备真的很难让驱动程序工作。

显然[这家伙得到了它的工作](http://androidforums.com/android-lounge/574997-adb-not-showing-device.html#post4604093)，这是一个非常hacky的方式，但我会放他的文字：

> 我为我的手机下载了 Zte n721 USB 驱动程序。（它需要您设备的特定驱动程序。Google USB 驱动程序适用于极少数手机。）然后我将 Zte 0x19d2 的供应商 ID 放入我的 adb_usb.inf。（您不能保存在编辑中，但您必须使用：echo 0x19d2 >> adb_usb.inf（使用您的供应商 ID，您可以从网络获取它我从 mypcdrivers.com 获取）当您允许在移动设备上进行调试时，它可以工作。

除此之外，最好的办法是尝试通过此链接直接与您的设备制造商联系[http://www.karbonnmobiles.com/contact_us.php](http://www.karbonnmobiles.com/contact_us.php)并要求 ADB 驱动程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:33:16.223

您的手机处于开发者模式吗？

这可能会有所帮助 - [Android 设备](http://developer.android.com/tools/device.html)

您可能需要安装名为 ADB 的 android 驱动程序 这也是从 SDK 安装 android 驱动程序的方法 -[安装驱动程序](http://developer.android.com/tools/extras/oem-usb.html#WinVista)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:41:47.523

不要忘记启用来自“未知来源”的应用程序并启用 ADB 调试。

如果没有这两者，您将无法安装并从您的应用程序中获取控制台输出，这非常重要。

# mysql - 从 Mysql 迁移到 Oracle ORA-04098 SYSTEM.MD_PROJECTS_TRG 错误

> ID：15243476
> 
> 赞同：0
> 
> 时间：2013-03-06T09:29:27.750
> 
> 标签：mysql, oracle, migration

请您帮我解决以下问题：

我想从mysql迁移到oracle。我使用了 Oracle Sql 开发人员。我导入了 Mysql 三十个数据包，但是当我开始迁移时，我收到了这个错误

ORA-04 098: 触发器 'SYSTEM.MD_PROJECTS_TRG' 无效并且重新验证失败

然后迁移停止

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:41:10.183

你有没有看过这篇文章并尝试过这个解决方案？肯定是约束或外键问题？

只是为了让您知道数据移动操作实际上按以下顺序执行 3 个不同的操作：

```
1\. Disable all constraints (FKs,PKs). 
2\. Move data using multiple streams so that it can migrate more than 1 table at any time. 
3\. Enable all constraints (FKs,PKs) 
```

似乎由于某种原因，SQL Developer 在尝试禁用约束的步骤 1 中失败了。您是否尝试过为离线数据迁移生成数据移动脚本？在再次尝试在线数据迁移之前，您可以查看禁用约束脚本并手动运行它们。希望有效。

1.  是的，您可以指定不同的架构（需要为其使用连接）。但是您必须使用与迁移相同的存储库，以便它可以获取源数据库的映射。
2.  对于数据移动问题，您可以尝试以下操作：对于一个一个移动失败的表，即右键单击源数据库中的表并选择“**复制到oracle** ”，然后选择仅数据迁移（追加模式）。湾。您还可以尝试将 SQL Developer 中源数据库的默认 DATE 格式更改为源数据库中实际使用的日期格式。它使用的默认值是 mm/dd/yyyy，这在您的环境中可能不是正确的（--> **Preferences** --> **Migration** --> **Data Move** options）。有时这也会在迁移数据时引起问题

根据我的个人经验，SQL Developer 在 \localuser\applications... 目录下创建一个 XML 格式的日志文件。因此，您将不得不进一步挖掘以找出包含实际错误的日志文件。

此链接中的更多信息-> [https://forums.oracle.com/forums/thread.jspa?threadID=2357687&tstart=90](https://forums.oracle.com/forums/thread.jspa?threadID=2357687&tstart=90)

# java - 使用 JUnit 测试 Power 类

> ID：15243478
> 
> 赞同：0
> 
> 时间：2013-03-06T09:29:30.157
> 
> 标签：java, junit, junit4

这是我要测试的课程：

```
package math;
import java.lang.Math;
public class Power {

public double powerFinder (double x, double y) 
    {

        return Math.pow(5, 4);

    }

} 
```

这是测试：

```
@Test

public double testPower() {

    Power power = new Power();
    assertEquals("Result", 625, power.powerFinder(5, 4), epsilon);
}

} 
```

目前我得到'Power类型中的方法powerFinder（double）不适用于参数（int，int）。请问我该如何解决这个问题，以便测试运行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:31:47.517

您声明`powerFinder (double x)`，因此您需要传递**一个** `double`参数，而不是**两个** `int`s。

采用：

```
power.powerFinder(5) 
```

或将方法更改为： `powerFinder (double x, double y)`

您也可以更改`double`为`void``public double testPower() {`

您的测试函数不返回任何值，因此您需要将其声明为`void`返回类型。

我认为你应该读[这个](http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:34:16.550

将您的代码更改为：

```
public double powerFinder (double x, double y); 
{

    return Math.pow(x, y);

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:36:30.527

问题是类型`double`不是指单片`a pair of values`，而是*一个双精度浮点数*。此外，您的方法甚至不使用该单个参数。

所以这：

```
public double powerFinder (double x) 
{
    return Math.pow(5, 4);
} 
```

应改写为：

```
public double powerFinder (double x, double y) 
{
    return Math.pow(x, y); // note x and y: those are the arguments of your function
} 
```

但这本身没有意义，您可以`Math.pow(x, y)`改用。当然，那么你的测试也没有任何意义......

（类似的构造*可能*是有意义的，在处理 API 时隐藏实现细节，并提供抽象 - 但在这种情况下，这似乎不适用......）

# spring - 从 Spring TaskExecutor 和 TaskScheduler 获取有关运行任务的信息

> ID：15243488
> 
> 赞同：1
> 
> 时间：2013-03-06T09:29:57.353
> 
> 标签：spring, asynchronous, scheduler, executor

我已经建立了一个带有 TaskExecutor 和 Taskscheduler 的系统，它以类似 cron 的计划运行任务，但也允许按需启动任务。

我无法解决的一个特殊问题是：如何从执行程序和调度程序获取有关当前正在运行的特定任务的信息。有没有标准的方法来做到这一点？我应该查看特定的子类或实现吗？我们在 Spring 3.2 上，我尝试了 ThreadPoolTask​​Executor 但发现它已被弃用。它确实有一种方法“getActiveCount()”，似乎在某种程度上朝着我想要实现的目标前进（尽管根本不完全）。

现在，我已经建立了一个系统，该系统拍摄 ORM 对象状态的快照，等待半分钟并拍摄另一个快照。比较这两者是了解任务是否在该对象上运行的一种非常简单的方法。

然而，这似乎不是最好的方法（根本！）。

有没有更好的办法？

# directx - DirectX.Capture 帧率

> ID：15243489
> 
> 赞同：0
> 
> 时间：2013-03-06T09:29:57.277
> 
> 标签：directx, capture, frame-rate

我正在使用 DirectX.Capture 库保存到 AVI fomr 网络摄像头。我需要将视频保存为 50fps 或更高，但是当我使用它时：

```
 capture.FrameRate = 59.994; 
```

FrameRate 完全没有变化。它在那条线之前有 30 条，通过这条线它保持 30 条。我尝试了其他值，甚至是 20 和 10，但没有任何变化。

我还应该怎么做才能改变那个值？还是与我的硬件有关，我希望它可以在其他机器上运行？

请帮帮我，我不知道该怎么办。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:15:01.947

源材料（视频、应用程序/等）可能仅以 30fps 更新，可能是因为视频编解码器或应用程序的行为方式如此，或者因为您在目标应用程序中打开了 vsync（检查 vsync 设置，它可能如果有硬件加速，则被显卡驱动程序强制）。DirectX.Capture 的行为可能是从源中钳制到最高可用帧率。

如果您*真的*想将视频设为 50fps，请以其原始速率 (30/29.97) 捕获它，然后使用其他一些软件重新采样视频（请注意，这将是一个破坏性操作，因为 50 不是 30 的干净倍数）。*如果您可以将*其强制为 50 fps ，这与 DX 捕获将执行的操作没有什么不同（即使由于源素材的帧速率较低而导致其毫无意义）。仅供参考，大多数视频文件在 25 到 30 FPS 之间。

# java - 如何在 Spring 非 EE 应用程序中注入 infinispan 缓存？

> ID：15243498
> 
> 赞同：1
> 
> 时间：2013-03-06T09:30:15.900
> 
> 标签：java, spring, infinispan

我知道 CDI 支持；但想知道在非 EE 环境中使用 spring 实现相同目标的正确方法是什么。我们可以使用焊接或注入 DefaultCacheManager 并从中获取任何缓存，但是如何仅使用 spring 和 JSE 来实现如下所示的功能？

```
    @自动连线
    私有 Cache<String, String> 缓存；

```

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:56:37.173

Spring 使用不同的方法进行缓存 -[使用 Infinispan 作为 Spring Cache 提供程序](https://docs.jboss.org/author/display/ISPN/Using+Infinispan+as+a+Spring+Cache+provider)。

如果您想以其他方式注入缓存 - 使用一些限定符将缓存创建为 bean：

```
@Configuration
public class CachesProducer() {
    @Bean(destroyMethod = "methodToCloseCache")
    public Cache<String, String> namesCache() {
        return createInfinispanCacheSomeHow<String, String>();
    }
} 
```

接着

```
@Named("namesCache")
@Inject
private Cache<String, String> 
```

# javascript - AngularJS，在显示视图之前解析数据

> ID：15243506
> 
> 赞同：3
> 
> 时间：2013-03-06T09:30:33.683
> 
> 标签：javascript, angularjs

已经问过这个主题，但我不知道在我的情况下该怎么做。

使用**AngularJS 1.0.5**：

在显示视图“登录”之前，我想在未从 AJAX 请求加载数据时获取一些数据并延迟视图呈现。

这是主要代码。这是好方法吗？

```
angular.module('tfc', ['tfc.config', 'tfc.services', 'tfc.controllers']).config([
 '$routeProvider', '$locationProvider', '$httpProvider',
 function($routeProvider, $locationProvider, $httpProvider) {
  $routeProvider.when('/login', {
    templateUrl: 'views/login.html',
    controller: "RouteController",
    resolve: {
      data: function(DataResolver) {
        return DataResolver();
      }
    }
  });
}
]);

module_services = angular.module("tfc.services", []);

module_services.factory("DataResolver", [
 "$route", function($route) {
  console.log("init");
  return function() {
    // Tabletop is a lib to get data from google spreadsheets
    // basically this is an ajax request
    return Tabletop.init({
      key: "xxxxx",
      callback: function(data, tabletop) {
        console.log("[Debug][DataResolver] Data received!");
        return data;
      }
    });
  };
 }
]); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-31T23:53:31.593

The point of AngularJS is that you can load up the templates and everything and then wait for the data to load, it's meant to be asynchronous.

Your view should be using ng-hide, ng-show to check the scope of the controller so that when the data in the scope is updated, the view will display. You can also display a spinner so that the user doesn't feel like the website has crashed.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-14T19:38:23.713

回答这个问题，在呈现视图之前显式加载数据的方式似乎是正确的。请记住，它可能不会提供最佳体验，因为需要一些时间来解决这个问题，可能会给人一种您的应用停止了一段时间的印象。

[请参阅John Pappa 博客](http://www.johnpapa.net/route-resolve-and-controller-activate-in-angularjs/)中的示例，以在使用 Angular 的默认路由器解析路由之前加载一些数据：

```
// route-config.js
angular
    .module('app')
    .config(config);

function config($routeProvider) {
    $routeProvider
        .when('/avengers', {
            templateUrl: 'avengers.html',
            controller: 'Avengers',
            controllerAs: 'vm',
            resolve: {
                moviesPrepService: function(movieService) {
                    return movieService.getMovies();
                }
            }
        });
}

// avengers.js
angular
    .module('app')
    .controller('Avengers', Avengers);

Avengers.$inject = ['moviesPrepService'];
function Avengers(moviesPrepService) {
    var vm = this;
    vm.movies = moviesPrepService.movies;
} 
```

您基本上使用`resolve`路由上的参数，以便 routeProvider 在实例化控制器之前等待所有承诺得到解决。有关更多信息，请参阅[文档](https://docs.angularjs.org/api/ngRoute/provider/$routeProvider#when)。

# android - 在较旧的 Android 版本 (2.3.3) 上更改 AlertDialog 文本颜色和大小

> ID：15243507
> 
> 赞同：1
> 
> 时间：2013-03-06T09:30:37.227
> 
> 标签：android, android-alertdialog, android-theme

我正在开发小型 Android 应用程序，我想在其中自定义`AlertDialog`. 为此，我通过`AlertDialog`以下方式创建了我的风格：

```
<style name="MyTheme" parent="@android:style/Theme">
    <item name="android:alertDialogStyle">@style/dialog</item>
</style>

<style name="dialog">
    <item name="android:fullDark">@drawable/dialog_title</item>
    <item name="android:topDark">@drawable/dialog_title</item>
    <item name="android:centerDark">@drawable/dialog_body</item>
    <item name="android:bottomDark">@drawable/dialog_footer</item>
    <item name="android:fullBright">@drawable/dialog_body</item>
    <item name="android:centerBright">@drawable/dialog_body</item>
    <item name="android:bottomBright">@drawable/dialog_footer</item>
    <item name="android:bottomMedium">@drawable/dialog_footer</item>
    <item name="android:centerMedium">@drawable/dialog_body</item>
</style> 
```

我正在通过`AlertDialog`以下方式将此主题应用于我的：

```
ContextThemeWrapper ctw = new ContextThemeWrapper(this, R.style.MyTheme);
AlertDialog.Builder builder = new AlertDialog.Builder(ctw); 
```

但我无法在旧版本的 Android (2.3.3) 上更改标题文本颜色及其大小。这个怎么做？

# objective-c - 为什么 NSArray arrayWithObjects 和朋友返回 id 而不是 NSArray*？

> ID：15243511
> 
> 赞同：2
> 
> 时间：2013-03-06T09:30:44.983
> 
> 标签：objective-c, cocoa

这里是基本的 Cocoa 新手问题……这似乎是 Cocoa 中非常常见的模式。为什么 init 方法和 autoreleased 对象创建方法如`[NSArray arrayWithObjects: ...]`return `id`？为什么返回`NSArray *`（或正在创建的实际类型）并非在所有方面都更好？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:33:35.547

`init`方法返回`id`，因此它们可以返回与其超类相同的类。

Objective-C 集合类返回`id`，因为它们可以存储任何类型的 Objective-C 对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:40:39.473

另一个原因是返回值的类型选择器匹配。如果`[NSArray arrayWithObjects: ...]`返回`NSArray`（通过声明），则`NSMutableArray`需要使用不同的返回类型重新声明`arrayWithObjects:`（否则在编写时会收到警告`NSMutableArray * a = [NSMutableArray arrayWithArray:]`）。

即使你走这条路，当编译器尝试将选择器与类型/非类型匹配时，消息链也会很快导致歧义。所以......选择器的返回和参数类型在这种情况下应该匹配。因此，使用了返回类型`id`。

如果您尝试使用此类构造函数构建严格类型的 objc 层次结构并使用高警告级别，您将看到这种歧义是如何展开的。当然，NSArray/NSMutableArray 的例子足以说明问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:38:54.780

Acutally 它确实返回一个 NSArray/NSMutalbeArray/whatever。

只是 id 是 init 的通用返回值。所以返回值被声明为 id 但它是一个正在返回的 NSArray。

但坦率地说，对于你的“为什么”问题，我无法给你任何好的答案。每当我覆盖子类中的 init 方法时，如果类的名称是 ABC，我会让它们返回 ABC*。它工作正常。

# asp.net-mvc - CKEditor Textarea 未显示在实时服务器上

> ID：15243512
> 
> 赞同：0
> 
> 时间：2013-03-06T09:30:45.263
> 
> 标签：asp.net-mvc, ckeditor

我将 ckeditor 用于我的 textareas，并且当我在本地运行应用程序时能够看到编辑器，但是，当我将应用程序发布到实时服务器时，编辑器不可见。我只看到 textarea 的标签，然后有一个编辑器应该在的空间。

我正在使用类属性来替换我的文本区域，就像这样

```
@Html.TextAreaFor(model => model.PostContent, new { @class="ckeditor" }) 
```

这是正确呈现html

```
<textarea class="ckeditor" cols="20" id="PostContent" name="PostContent" rows="2"> 
```

我正在使用 ckeditor 4.0 并在 IE 和 chrome 中对此进行了测试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T11:12:46.693

我已经能够通过删除对 ckeditor 捆绑包的引用并将其替换为指向 ckeditor.js 的直接链接来解决此问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-20T12:33:45.723

您仍然可以将此脚本添加到捆绑软件中，但是 ckeditor 会根据主脚本文件的路径自行加载所有其他需要的脚本、css、语言文件。将其放入捆绑包中更改了路径，插件找不到所需的内容。

要使其工作，您需要覆盖编辑器的基本路径： [http ://cdn-source.docs.ckeditor.com/#!/guide/dev_basepath](http://cdn-source.docs.ckeditor.com/#!/guide/dev_basepath)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-21T02:29:36.807

如果您要使用这样的文本区域：

```
@Html.TextAreaFor(model => model.PostContent, new { @class="ckeditor" }) 
```

javascript 调用应如下所示：

```
 CKEDITOR.replace('PostContent'); 
```

CKEDITOR replace 查找文本区域的名称属性，而不是类。

希望能帮助到你 ：）

**编辑：**

此解决方案仅适用于显式编辑器替换，而不是自动替换。

来源：[http ://rev.ckeditor.com/ckeditor/trunk/7664/_samples/replacebyclass.html](http://rev.ckeditor.com/ckeditor/trunk/7664/_samples/replacebyclass.html)

（感谢 AlfonsoML）

# swing - 我可以更改 JTextField 的文本吗？此文本每分钟更改一次

> ID：15243514
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:30:49.757
> 
> 标签：swing

我们如何获得文本字段值，这个值实际上是每 5 秒或 1 分钟更改一次。请让我。关于萨蒂什·迪曼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:18:04.823

`setText()`用于在 JtextFeild 中设置文本，如果您希望它每 5 秒工作一次，然后使用`swing Timer`它将在每 5 秒后调用一次，这样您可以每 5 秒更改一次文本

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T17:50:34.207

如果您想在每次文本更改时调用一个方法，请`ActionListener`像这样将一个附加到 textField 。`actionPerformed()`每次文本字段接收到操作时都会调用该方法，也许您需要另一个 XXXListener 来完成您的任务。

```
textField.addActionListener(new java.awt.event.ActionListener() {
    public void actionPerformed(java.awt.event.ActionEvent e) {
          System.out.println("the text has changed");     
     }
}; 
```

# html - 如何在不刷新或重新加载的情况下更改标题？它可以通过 jquery 更改，但不会在查看源上完成效果。任何解决方案？谢谢

> ID：15243516
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:30:51.880
> 
> 标签：html

如何在不刷新或重新加载的情况下更改标题？它可以通过 jquery 更改，但不会在查看源上完成效果。

我用过document.title。在浏览器上它正在改变值，但是当我打开页面源时它显示为空白。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:52:12.810

无法使用（客户端）JavaScript 更改页面的*来源。*源代码是传递给浏览器的原始代码。

您可以更改当前 DOM，并且 DOM 查看器（例如您可以在大多数浏览器开发工具中找到的）将向您显示 DOM 当前状态的序列化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:50:18.090

> ...但是当我打开页面源时，它显示为空白。

你能详细说明一下吗？我自己刚刚尝试过，效果很好：

```
<head>
    <title>Abc</title>
</head>

$(document).ready(function() {
    $('title').text('test');
}) 
```

查看页面源时，`title`现在包含“测试”。

[JSFiddle 示例](http://jsfiddle.net/47yk4/)。

# testing - 使用 Silex 测试框架发送 post 参数

> ID：15243519
> 
> 赞同：1
> 
> 时间：2013-03-06T09:30:56.333
> 
> 标签：testing, symfony, phpunit, silex

当我尝试对表单提交进行功能测试时，我遇到了这个问题：

测试搜索.php：

```
public function testFormSubmission()
{
   $client = $this->createClient();
   $client->request('POST', '/search', array('nome' => 'Jan'));
   ...
} 
```

应用程序.php：

```
$app->post('/search', function (Request $request)  use ($app)
{
    $post_data = $request->get('form');
    ...
}); 
```

...但 $post_data 为 NULL。

如果我使用浏览器中的提交按钮进行提交，一切正常......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T14:22:03.693

您正在调用`$request->get('form')`，但您没有将`form`参数设置为任何值。也许这就是您正在寻找的：

```
$client->request('POST', '/search', array('form' => array('nome' => 'Jan'))); 
```

如果没有，您需要提供更多上下文。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:48:23.290

```
 $client->request('POST', '/search', array('nome' => 'Jan')); 
```

request 方法的第三个参数似乎是请求参数 (?&nome=Jan )

您应该使用爬虫来模拟表单提交：

来自文档：

```
$form = $crawler->selectButton('submit')->form();

// set some values
$form['name'] = 'Lucas';
$form['form_name[subject]'] = 'Hey there!';

// submit the form
$crawler = $client->submit($form); 
```

[http://symfony.com/doc/current/book/testing.html](http://symfony.com/doc/current/book/testing.html)

或使用第六个参数发送原始请求正文。

# json - 使用 json 数据如何在 sencha 中创建表单

> ID：15243520
> 
> 赞同：0
> 
> 时间：2013-03-06T09:31:00.110
> 
> 标签：json, extjs, sencha-touch, sencha-touch-2

我想从文件中读取 json 数据 - json 文件的内容如下所示

```
 {
    "form": {
        "fields" : [
                {
                    "field":"textfield",
                    "name": "username",
                    "constrain": "5-10",
                    "value": ""
                },
                { 
                    "field":"textfield",
                    "name": "password",
                    "constrain": "5-10",
                    "value": ""
                },
                { 
                    "field":"datepickerfield",
                    "name": "Birthday",
                    "constrain": "5-10",
                    "value": "new Date()"
                },
                { 
                    "field":"selectfield",
                    "name": "Select one",
                     "options":[
                        {"text": "First Option",  "value": 'first'},
                        {"text": "Second Option", "value": 'second'},
                        {"text": "Third Option",  "value": 'third'}
                        ]
                },

            ]    
      }
} 
```

**模型**

```
 Ext.define('dynamicForm.model.Form', {
        extend: 'Ext.data.Model',
        config: {
            fields: [
                {name: 'field', type: 'string'},
                {name: 'name', type: 'string'},
                {name: 'constrain', type: 'string'},
                {name: 'value', type: 'string'}
             ],
             hasMany: {model: 'dynamicForm.model.SelectOption', name: 'options'}
        }
    });

Ext.define('dynamicForm.model.SelectOption', {
    extend: 'Ext.data.Model',
    config: {
        fields: [
            {name: 'text', type: 'string'},
            {name: 'value', type: 'string'}
         ]
    }
}); 
```

**店铺**

```
Ext.define('dynamicForm.store.FormStore', {
    extend : 'Ext.data.Store',
    storeId: 'formStore',
    config : {
        model : 'dynamicForm.model.Form',
        proxy : {
            type : 'ajax',
            url : 'form.json',

            reader : {
                type : 'json',
                rootProperty : 'form.fields'
            }
        },
        autoLoad: true
    }
}); 
```

这就是我尝试的。

```
 var fromval = Ext.create('dynamicForm.store.FormStore');
    fromval.load(function (){
        console.log(fromval);
              // i added register view which having form panel with id "testForm"
            Ext.Viewport.add({
                xtype : 'register'
            });
        for(i=0; i< fromval.getCount(); i++) {
            console.log("------");
            Ext.getCmp('testForm').add({
                    xtype: fromval.getAt(i).data.field,
                    label: fromval.getAt(i).data.name,
                    value: fromval.getAt(i).data.value,
                    options: [
                        {text: "First Option",  value: "first"},
                        {text: "Second Option", value: "second"},
                        {text: "Third Option",  value: "third"}
                    ]
            });
        }
    }); 
```

两个文本文件和日期都很好，但我不知道如何从商店获取选择字段的选项，现在刚刚听到编码。

综上，基于以上 json 数据，我需要动态创建煎茶表单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:04:22.993

最好遵循 MVC 结构：

创建模型：

```
Ext.define('MyApp.model.FormModel', {
extend: 'Ext.data.Model',
config: {
    fields: ["field","name"]
}
}); 
```

有代理的商店：

```
Ext.define('MyApp.store.FormStore',{
extend: 'Ext.data.Store', 
config:
{
    model: 'MyApp.model.FormModel',
    autoLoad:true,
    proxy:
    {
        type: 'ajax',
        url : 'FormData.json', //Your file containing json data
        reader:
        {
                rootProperty:'form.fields'
        }
    }
}
}); 
```

formData.json 文件：

```
{
"form": {
    "fields" : [
            {
                "field":"textfield",
                "name": "username"
            },
            { 
                "field":"textfield",
                "name": "password"
            },
        ]    
  }
} 
```

然后根据需要使用**FormStore**填写表单数据。

```
Ext.define('MyApp.view.LoginPage', {
extend: 'Ext.form.Panel',
config: {
items:{
xtype:'fieldset',
layout:'vbox',
items:[{
        flex:1,
        xtype:'textfield',
        id:'namefield',
        placeHolder:'Username'
    },{
        flex:1,
        xtype:'passwordfield',
        id:'passwordfield',
        placeHolder:'Password'
    }]
},
listeners:{
    painted:function()
    {
        var store=Ext.getStore('FormStore');
        while(!store.isLoaded())
        {
            console.log("loading...");
        }

        var record=store.getAt(0);
        Ext.getCmp('namefield').setValue(record.data.name);
        Ext.getCmp('passwordfield').setValue(record.data.password);
    }
}
}
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-30T13:10:40.017

```
{
    "data":[
        {
            "xtype":"textfield",
            "title":"UserName",
            "name": "username"
        },
        { 
            "xtype":"textfield",
            "title":"password",
            "name": "password"
        },
        { 
            "xtype":"textfield",
            "title":"phone no",
            "name": "birthday"
        },
        { 
            "xtype":"textarea",
            "title":"address",
            "name": "address"
        }
    ]
}

Ext.define('dynamicForm.model.FormModel', {
        extend: 'Ext.data.Model',

        fields: ['field', 'name']
    });

Ext.define('dynamicForm.store.FormStore', {
    extend : 'Ext.data.Store',
    model : 'dynamicForm.model.FormModel',
    proxy : 
    {
        type : 'ajax',
        url : 'data/user.json',

        reader : 
        {
            type : 'json',
            rootProperty:'data'
        },

        autoLoad: true
    }
});

Ext.define('dynamicForm.view.DynaForm',{
    extend:'Ext.form.Panel',
    alias:'widget.df1',

    items:[]

});

Ext.application({
    name:'dynamicForm',
    appFolder:'app',

    controllers:['Users'],

    launch:function(){
        Ext.create('Ext.container.Viewport',{

            items:[
                {
                    xtype:'df1',

                    items:[]
                }
            ]
        });
    }
});

Ext.define('dynamicForm.controller.Users',{
    extend:'Ext.app.Controller',

    views:['DynaForm'],
    models:['FormModel'],
    stores:['FormStore'],

    refs:[
    {
        ref:'form1',
        selector:'df1'
    }
    ],

    init:function(){
        console.log('in init');
        this.control({
            'viewport > panel': {
                render: this.onPanelRendered
            }
        });
    },

    onPanelRendered: function() {

        var fromval=this.getFormStoreStore();
        var form=this.getForm1();
        fromval.load({
            scope: this,
            callback: function(records ,operation, success) {
                Ext.each(records, function(rec) {
                 var json= Ext.encode(rec.raw);
                 var response=Ext.JSON.decode(json);
                 for (var i = 0; i < response.data.length; i++) {
                    form.add({
                        xtype: response.data[i].xtype,
                        fieldLabel: response.data[i].title,
                        name: response.data[i].name
                        });
                    }
                    //form.add(Ext.JSON.decode(json).data);
                    form.doLayout();
                });
            }
        });
    }
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T11:25:44.790

如果您将其插入任何 extjs 组件内容，它将自动完成：

```
var jsonValues =  "{
    "form": {
        "fields" : [
                {
                    "field":"textfield",
                    "name": "username"
                },
                { 
                    "field":"textfield",
                    "name": "password"
                },
            ]    
      }
}";

var panel = new Ext.Panel({
        id        : 'myPanel',
        items      : [jsonValues]
});

panel.show(); 
```

# ruby-on-rails - 在 rails 3.2 上的 strong_parameters 更新后如何更新嵌套对象？

> ID：15243521
> 
> 赞同：2
> 
> 时间：2013-03-06T09:31:00.667
> 
> 标签：ruby-on-rails, strong-parameters

我在 Rails 3.2 中使用 strong_parameters gem 已经有一段时间了。到目前为止，一切都很好。

在最近将 strong_parameters 更新到 v0.2.0 之后，我不再可以更新嵌套对象。

这是请求参数

```
{
  "resource"=>{
    "name"=>"1362483207-11-offer",
    "slug"=>"1362483207-11-offer",
    "code"=>"136248320711",
    "category_id"=>"4",
    "price"=>"100",
    "short_description"=>"",
    "description"=>"",
    "offer_card_types_attributes"=>{
      "0"=>{"id"=>"11", "card_type_id"=>"1"},
      "1"=>{"card_type_id"=>"0"},
      "2"=>{"card_type_id"=>"0"},
      "3"=>{"card_type_id"=>"0"}
    },
    "show_banner"=>"1",
    "autoclaim"=>"1",
    "published"=>"0",
    "number_of_codes_to_generate"=>"",
    "images_attributes"=>{
      "0"=>{"retained_image"=>"", "_destroy"=>"true", "id"=>"1"},
      "on-1362560061857"=>{
        "image"=>#<ActionDispatch::Http::UploadedFile:0x0000080ef654f8 ... >
      }
    },

    "partner_id"=>"2",
    "all_checkout_places"=>"0",
    "offer_checkout_places_attributes"=>{
      "0"=>{"checkout_place_id"=>"0"},
      "1"=>{"id"=>"11", "checkout_place_id"=>"7"},
      "2"=>{"checkout_place_id"=>"0"},
      "3"=>{"checkout_place_id"=>"0"},
      "4"=>{"checkout_place_id"=>"0"}
    }
  },
  "id"=>"11"
} 
```

我已经尝试过 params this 和 params that。我根本不更新嵌套对象。请帮忙

起初我认为这`params.require(:resource).permti(..., :images => [])`应该可以解决问题，但是失败了，然后我尝试了其他各种选择。他们都失败了。

我怎样才能允许所有这些嵌套对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:15:41.270

你检查过日志吗？嵌套属性的键是`images_attributes`，而不是`images`。这就是您需要传递的`permit()`方法以使其工作。

# ios - 如何在使用“MPMoviePlayerController”播放的视频中添加提示点？

> ID：15243530
> 
> 赞同：0
> 
> 时间：2013-03-06T09:31:22.923
> 
> 标签：ios, ios5, ios6, mpmovieplayercontroller, mpmovieplayer

我正在使用 MPMoviePlayerController 播放视频。通过添加提示点，我的意思是，我想在当前正在播放的视频达到特定时间（例如 1:03、2:30）时触发一些事件。

我怎样才能做到这一点？如何将侦听器添加到 MPMoviePlayerController？可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:56:37.260

你可以使用[MPMoviePlayerController](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMoviePlayerController_Class/Reference/Reference.html)`currentPlaybackTime`的属性 来获取播放时间，添加监听器，像这样

```
[[NSNotificationCenter defaultCenter] addObserver:self
   selector:@selector(moviePlayBackDidFinish:) name:MPMoviePlayerPlaybackDidFinishNotification
  object:self.moviePlayer]; 
```

# magento - 新的自定义主题，无需复制所有默认文件

> ID：15243532
> 
> 赞同：1
> 
> 时间：2013-03-06T09:31:27.300
> 
> 标签：magento

我搜索如何在 Magento Enterprise 版本中配置自定义主题。1.12.0.2 不复制所有基本/默认文件。

我能做到的唯一方法是在 /var/www/magento/app/design/frontend/enterprise/my_theme 中创建 my_theme 文件夹，然后在系统>配置>设计中创建企业作为“当前包名称”和 my_theme 作为“ “主题”中的默认值。但恐怕这不是升级 Magento 的理想方式。

有人有想法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T17:51:08.943

我已经尝试过了，但没有成功....我在 [http://www.magentocommerce.com/knowledge-base/entry/magentos-theme-hierarchy中找到了原因](http://www.magentocommerce.com/knowledge-base/entry/magentos-theme-hierarchy)

“规则 6 的第二个例外：企业客户现在需要将文件从企业/默认复制到他们的自定义包中作为起点。在未来的版本中，企业文件将被折叠到基本/默认目录中，但它们是不在 EEv1.8 中。”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T17:08:16.770

你在正确的轨道上。我通常做的是创建一个新的包和主题。它仍然会回退到，`base/default`因此您不必将所有默认文件复制到您的包中。`default`在该`Admin -> General -> Design`部分中留空。将包名称设置为您的包和其他主题设置，默认为您的主题名称。您只需要复制您计划自定义的模板和布局文件，因此无需将所有内容复制到您的主题中。

# php - 如何检查一个bean是否相关

> ID：15243534
> 
> 赞同：0
> 
> 时间：2013-03-06T09:31:30.133
> 
> 标签：php, mysql, relationship, sugarcrm

我对 SugarCRM 还很陌生，我想了解一些关于人际关系的知识。我有一个bean，可以说帐户和数据库中记录的ID，可以说是联系人。现在我想知道这条记录是否已经与该帐户相关。

据我所知，有几种方法可以得到结果

1.  直接对相关表中的数据库进行 SQL 查询
2.  从 Account 加载关系并循环遍历 bean 以查看是否可以找到具有提供的记录 id 的 bean。

对我来说，两者都显得有点笨拙。我想知道是否有更好的方法来解决这个问题。我希望在 link2 类中有一个 'contains' 或 'has' 方法，但不幸的是事实并非如此。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T23:51:54.670

据我所知，没有任何方法可以做到这一点；但有可能存在埋在 Bean 框架中的东西。

通常我在 SugarCRM 中处理大型数据集和批处理，所以我只使用原始 SQL 查询来处理大多数事情。它们比 Bean 框架快很多（根据我的经验，快 100 到 1000 倍甚至更多），并且查询代码很容易放入一些简单的实用程序功能。

原始 SQL 方法的缺点是 SugarCRM 中每种不同类型的 Bean 都可以以不同的方式与其他 Bean 相关联。也就是说，它们并不都使用相同的约定 - 例如，该`accounts_contacts`表处理 Accounts 和 Contacts 之间的关系，而对于 Quotes 在 Quotes 中只有一个名为 的字段`account_id`。

因此，您不能只编写一个 SQL-relationship-search 实用程序函数并完成它。对于要搜索的每个 bean 组合，您都需要一个单独的组合。

对我来说，在使用大量 Bean 时，无论出于效率问题，这是最好的选择。

如果您正在处理批处理数据，即使 Bean 框架中有一个简单的函数来进行关系查找，也一定要使用 SQL 方法。

这取决于您需要运行代码的效率和速度。

# php - 在javascript中调用php函数而不等待响应

> ID：15243535
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:31:36.660
> 
> 标签：php, javascript, ajax, codeigniter, post

我知道如何使用 $.ajax。我有一个 Codeigniter 项目，所以我只打电话：

```
url:'<?php echo base_url()."somecontroller/somefunction"?>', 
```

这一切都好，但 ajax 等待响应。我只想通过在浏览器中键入来调用 url。我不想等待响应，因为控制器会进行重定向然后加载视图。我还需要能够通过 POST 发送一些数据。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:34:14.690

您可以使用以下内容发送带有附加参数的异步请求。

```
$.ajax({
    type: "POST",
    url: url,
    data: data, // additional parameters 
    async:true,
    success: function(response){    
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:35:27.043

如果您希望请求是同步的，请设置`async:false`. 对于帖子，`type:POST`

参考[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:44:25.377

你可以试试这个吗？使用您的功能更改（警报）功能

```
 $.ajax({
            url: 'test.html',
            async: false,
            success: function () { alert('hello people from the world'); }
        }); 
```

**永远不要**使用 async: false。由于 Javascript 在 UI 线程上运行，async: false 请求将冻结浏览器，直到服务器回复

# javascript - Javascript v3 谷歌地图旋转地图

> ID：15243546
> 
> 赞同：4
> 
> 时间：2013-03-06T09:32:03.283
> 
> 标签：javascript, api, google-maps, rotation, compass-geolocation

我似乎在任何地方都找不到有关此的任何信息。这是因为我试图让地图围绕用户旋转。谷歌地图 javascript v3 似乎没有这样做。想亲自问谷歌，他们的主页将我引导到stackoverflow。这是可能吗？如果没有，有没有人听说过开发人员谈论在未来实现这个功能，或者它永远不可能简单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:34:09.380

使用 css3 选项解决可能是一个有趣的项目。

只需旋转整个地图容器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:52:49.113

指南针数据在 JS API V3 中不可用不要犹豫，请参阅文档以查看您使用它的可能性 [https://developers.google.com/maps/documentation/javascript/reference](https://developers.google.com/maps/documentation/javascript/reference)

Google 还经常更新其 API 的实验版本，您可以关注更改 [https://developers.google.com/maps/documentation/javascript/3.exp/reference](https://developers.google.com/maps/documentation/javascript/3.exp/reference)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-15T01:31:00.807

设置标题呢？我相信这会相对于基本方向旋转整个框架。

# itextsharp - 导入 PDF 位置 PDFStamper

> ID：15243548
> 
> 赞同：2
> 
> 时间：2013-03-06T09:32:09.667
> 
> 标签：itextsharp, itext, watermark, pdfstamper

我现在迷路了。我试图完成的是在另一个上添加一个 PDF（如水印）。问题是我似乎不理解所使用的坐标系，因为我的水印只是表现出意外。

这两个 PDF 具有不同的尺寸。

我的目标具有以下尺寸：
595 高度
842 宽度

应添加的 PDF 具有以下尺寸：
41 高
552 宽

在我的代码中，我执行以下操作：

```
public bool AddPdf(ref PdfReader pdfSource, ref PdfReader pdfTarget, ref FileStream destination)
    {
        PdfStamper stamper = null;
        try
        {
            stamper = new PdfStamper( pdfSource, destination );
            PdfImportedPage importatedPage = stamper.GetImportedPage(pdfTarget, 1);

            PdfContentByte background;
            for (int iPage = 1; iPage <= pdfSource.NumberOfPages; iPage++)
            {
                background = stamper.GetOverContent(iPage);                    
                background.AddTemplate(importatedPage, 0, 0 + importHeight);
            }
        } 
```

当我这样做时，我希望我的水印出现在左下角。相反，它位于页面的某个位置（我没有看到它）。只是为了测试，我将 600 硬编码为 y 位置，然后它在页面上垂直居中。

有人可以给我小费吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T11:58:52.287

所以我解决了这个问题。问题是 sourcepdf 有一个裁剪框 - 我只需要使用该信息更正我的 x 和 y 位置：

```
 PdfStamper stamper = null;
            try
            {
            stamper = new PdfStamper(pdfSource, destination);
            PdfImportedPage importatedPage = stamper.GetImportedPage(pdfTarget, 1);
            PdfContentByte background;
            for (int iPage = 1; iPage <= pdfSource.NumberOfPages; iPage++)
            {
                background = stamper.GetOverContent(iPage);

                // here comes the important part
                Rectangle cropBox = pdfSource.GetCropBox(iPage);

                float xCorrected = 0 + cropBox.Left;
                float yCorrected = 0 + cropBox.Bottom;

                background.AddTemplate(importatedPage, xCorrected, yCorrected);
            }
        } 
```

请记住，如果您要在原件上盖章的 pdf 也有一个裁剪框，您需要再次将该裁剪框的 x,y 减少 x,y。

# android - 如何使用xml文件在android中实现这种类型的Progressbar

> ID：15243553
> 
> 赞同：20
> 
> 时间：2013-03-06T09:32:28.720
> 
> 标签：android, styles, progress-bar

如何应用发光效果？

我正在尝试创建这种类型的水平`ProgressBar`但不知道发光效果作为进度的起点。

![在此处输入图像描述](../Images/e2fed7c300ea643e752f0555767210df.png)

这是我的渐变颜色代码

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

    <item android:id="@android:id/background">
        <shape>
            <corners android:radius="0dip" />

        <solid android:color="#ff9d9e9d"/>
        </shape>
    </item>
    <item android:id="@android:id/secondaryProgress">
        <clip>
            <shape>
                <corners android:radius="5dip" />

            <gradient
                    android:angle="180"
                    android:startColor="#8872f8fc"
                    android:endColor="#886dc0e3" />
            </shape>
        </clip>
    </item>
    <item android:id="@android:id/progress">
        <clip>
            <shape>
                <corners android:radius="5dip" />

                <gradient
                    android:angle="180"
                    android:startColor="#31c6f7"
                    android:centerColor="#2ea6d1"
                    android:endColor="#2884a6" />
            </shape>
        </clip>
    </item>

</layer-list> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-27T09:27:09.330

您可以将 png 图像用于发光的头部。在图层列表中使用 <bitmap> 标签并将其右对齐。我为一个完全不同的应用程序做了类似的事情

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

<item>
    <shape>
        <gradient
            android:angle="270"
            android:endColor="#4C4C4C"
            android:startColor="#303030" />

        <stroke
            android:width="0dp"
            android:color="#000000" />

        <corners android:radius="0dp" />

        <padding
            android:bottom="0dp"
            android:left="5dp"
            android:right="0dp"
            android:top="0dp" />
    </shape>
</item>
<item>
    <bitmap
        android:antialias="true"
        android:gravity="right|bottom|fill_vertical"
        android:src="@drawable/spinner_down_arrow" />
</item>

</layer-list> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T23:06:16.167

或者，您可以将 ImageView 添加到您的布局中。为进度条创建可绘制对象。然后通过代码在 ImageView 内绘制 2 层。第一层是背景，第二层是旋钮。将重绘代码写入 imageview 的 onTouch 侦听器以更新触摸时的视图。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-14T20:10:09.667

发光效果是具有透明度的 png drawables。位于当前进程右侧的顶部。

创建自定义视图进度条。

# c# - 如何在 Windows 窗体应用程序的主函数中调用用户定义的函数

> ID：15243554
> 
> 赞同：0
> 
> 时间：2013-03-06T09:32:31.113
> 
> 标签：c#, winforms

我有一个小应用程序来验证我们的测试报告。这将从 .rtf 文件中读取值并将所需的值上传到数据库中。现在我有一个小问题。我需要从数据库中读取一些字段并将它们加载到组合框中。我写了一个小函数

```
 public void loadfromDB()
    {
       <Logic here
    } 
```

我有 Program.cs 文件，我从中调用 Application.run(new frmMain)。

现在我必须在我的应用程序开始时调用我的函数。这个怎么做。我刚开始学习c#。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:38:48.173

您需要双击表单（从设计视图），以便它显示 Form1_Load 事件，如：

```
private void Form1_Load(object sender, EventArgs e)
{
 // You can call any of your functions
 loadfromDB();
}

public void loadfromDB()
{
// Logic here
} 
```

# javascript - Extjs Slider 从右到左

> ID：15243557
> 
> 赞同：1
> 
> 时间：2013-03-06T09:32:36.827
> 
> 标签：javascript, extjs, extjs4

如何将 Ext.slider.Single 更改为从右到左工作？

这意味着当滑块在左侧时最大值，当用户将其拖动到riggt时，riggt值下降，当它在右侧时达到最小值。

# java - 如何将 JSP 页面的一部分导出到 Excel 工作表

> ID：15243563
> 
> 赞同：1
> 
> 时间：2013-03-06T09:33:07.337
> 
> 标签：java, javascript, excel, jsp

我有一个 JSP 页面，其中一些表中有一些数据。我希望通过单击该页面上的链接将 JSP 中的所有表导出到 Excel 文件。我目前使用以下代码来实现：

```
<a href="Result.jsp?exportToExcel=YES">Export to Excel</a>

String exportToExcel = request.getParameter("exportToExcel");
    if (exportToExcel != null
            && exportToExcel.toString().equalsIgnoreCase("YES")) {

        response.setContentType("application/vnd.ms-excel");
        response.setHeader("Content-Disposition", "inline; filename="
                + "report.xls"); 
         } 
    } 
```

我面临的问题是，此代码将 JSP 上的所有数据（包括 geaders、footers 等）导出到 .xls 文件。但我不希望这种情况发生。我只对将 JSP 中的表放入 .xls 文件感兴趣。关于如何实现这一目标的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-04T21:57:38.253

如果没有来自 jsp 的代码，就不可能知道代码的结构。但是，有几种方法可以做到这一点。最简单的方法之一是将 if 语句放入 jsp 中，如下所示：首先，确保包含 tld。

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 
```

接下来，在页眉和页脚以及其他任何内容周围，插入 if 语句。

```
<c:if test="${empty requestScope.exportToExcel || !requestScope.exportToExcel.contains('YES') }">
    <%@ include file="header.jsp" %>
</c:if> 
```

这样，if 块中的标题或其他任何内容仅在不导出到 excel 时才会呈现。

但实际上，我建议使用[Apache POI Excel](http://poi.apache.org/spreadsheet/index.html "POI-HSSF 和 POI-XSSF - 访问 Microsoft Excel 格式文件的 Java API")或 Andy Khan 的[JExcel API构建一个实际的 excel 文档](http://jexcelapi.sourceforge.net/)

[（从有关该主题的 BalusC 答案中](https://stackoverflow.com/a/1764035/1434414)窃取的建议。任何错误或错误代码都是我的。）

# salesforce - 将电子邮件警报发送到记录类型的 Apex 代码

> ID：15243565
> 
> 赞同：0
> 
> 时间：2013-03-06T09:33:10.957
> 
> 标签：salesforce, apex-code

如何为潜在客户编写顶级代码 - 想触发一个电子邮件模板给特定记录类型的用户。

当自定义字段输入框已填写正确的联系人姓名（应将潜在客户转发给谁）时，这应该会触发一封电子邮件发送给该用户。带有一些潜在客户字段信息。

这些用户当前没有 Salesforce 许可证。请帮助

# iphone - 在 iOS6 中使用 MKMapKit 显示两个以上地标的路线是否有替代方法？

> ID：15243567
> 
> 赞同：0
> 
> 时间：2013-03-06T09:33:14.253
> 
> 标签：iphone, objective-c, routing, mapkit

在 iOS6 之前，可以使用带有优化航点参数的 Google Maps API 来显示多个位置之间的优化路线。地图上的路线显示在 UIWebView 或 Safari 中。在 iOS6 中，一切都发生了变化：Apple Map Kit 现在使用 Apple 地图，因此在其中使用 Google Maps API 是违法的。目前， MKMapItem 允许调用和传递[MKLaunchOptionsDirectionsModeKey](http://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKMapItem_class/Reference/Reference.html)。但是，目前它只允许使用两个位置。有什么解决方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:45:24.810

它们是一个开源类文件 RegexkitLite，用于查找两个地方之间的路径，请遵循此[文档进行实施](http://regexkit.sourceforge.net/Documentation/index.html)。请通过这个它解决你的问题。

[

# html - 如何通过 vbscript 为 IE（少于 9 个）元素触发自定义事件

> ID：15243572
> 
> 赞同：1
> 
> 时间：2013-03-06T09:33:30.493
> 
> 标签：html, internet-explorer, vbscript

我想通过 vb-script 触发自定义事件。我可以通过 jscript 触发自定义事件

```
 function customEventFn()
 {
 //function body
 };
 var element = document.getElementById("elem id");
 customEventFn.call(element); 
```

但是这种方法在 Vbscript 中不起作用。任何人都有任何想法在 Vbscript 中实现这一点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T05:28:44.450

如果我不熟悉 JS 术语并因此无法正确理解您的问题，请原谅，但是您所说的“*自定义事件*”是什么意思？两者（JS / VBS）都没有这样的功能。我们可以将函数绑定到`SomeObjectWithEnets.ExistingEventName`，例如：

```
// in JavaScript/JScript
function foo() {
    alert(typeof window.onload); // function
    alert(typeof this);          // object
}
window.onload = foo;

' in VBScript
Sub Foo()
    MsgBox TypeName(Window.OnLoad) 'Object
    MsgBox TypeName(Me)            'HTMLWindow2
End Sub
Set Window.OnLoad = GetRef("Foo") 
```

从我对 JS 的贫乏知识中我所知道的是，它`someFn.call(obj)`只是“注入”（执行）`someFn`到`obj`作用域中，而这一切都与事件无关。你能在 VBScript 中做到这一点吗？我不这么认为。

[编辑] 在您的第二篇文章之后，我明白您的意思，但怀疑在较旧的 IE 中是否可行。

```
' IE9+ -------------- -> IE8- --------------
' addEventListener    -> attachEvent (but deprecated)
' createEvent         -> createEventObject
' initCustomEvent     -> no alternative
' dispatchEvent       -> no alternative (fireEvent?)
' removeEventListener -> detachEvent (removed too) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T19:01:19.177

我只想在 IE 中触发自定义事件。我可以使用以下代码在 iE9 中触发自定义事件，但它不适用于 IE8 或 IE7（小于 9）。

```
Function CustomFunction()
me.value ="samplevalue"
me.color = RED
End Function
set customFn = getRef("CustomFunction")
set element = document.getElementById("elemid");
element.addEventListener "OnSampleEvent", customFn
set Event = document.createEvent("sampleEvent")
Event.initCustomEvent "OnSampleEvent", false, false, nil
element.dispatchEvent(Event)
element.removeEventListener "OnSampleEvent", customFn 
```

有什么方法可以在旧版本的 IE 中实现这一点。

# vba - 将多个工作簿中的多行复制到一个主工作簿

> ID：15243576
> 
> 赞同：0
> 
> 时间：2013-03-06T09:33:37.077
> 
> 标签：vba, excel, excel-2010

我是 VBA 新手，正在尝试将多行从多个工作簿复制到一个主工作簿。所有工作簿都有相同的标题和相同的列数，但有些工作簿有更多的行。我希望将总共 6 个工作簿（每本书一个工作表）合并到一个工作表中的主工作簿中，彼此下方。

标题：第 1 行，列 A 到 M 我想在单元格 E2:M2 中填写工作簿“每日趋势 2013_MASTER_AR.xlsx”D4 到 L4 一直到 D51 槽 L51 到主工作簿“每日趋势 2013_MASTER.xlsx”进一步，我想对剩余的 5 个工作簿和 D4:L4 中的数据一直到第 81 行做同样的事情。

我怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:10:22.227

您可以使用 RDBMerge。

RDBMerge 是一种用户友好的方式，可以将来自多个 Excel 工作簿、csv 和 xml 文件的数据合并到一个摘要工作簿中。

[http://www.rondebruin.nl/merge.htm](http://www.rondebruin.nl/merge.htm)

# javascript - javascript中的30个数组有简单的方法吗？

> ID：15243577
> 
> 赞同：0
> 
> 时间：2013-03-06T09:33:41.710
> 
> 标签：javascript, arrays

假设我有 30 个汽车型号/名称或其他什么......我想放入一个数组，例如

```
var names = [] 
```

有没有一种简单的方法可以将所有 30 个放入一个数组中，或者我没有像这样一个一个地输入它

```
var names = ["subaru","toyota",] 
```

等等等等……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:35:36.297

我怀疑会有更短的方法来做到这一点。毕竟，您必须指定所有元素和要存储它们的数组。或者，您可以将所有模型放在一个用空格分隔的字符串中，然后拆分该字符串，但我相信您在上面提出的选项更具可读性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:36:27.290

如果你有一个输入字符串 data = "toyota subaru"，那么

```
var names = data.split(" ") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:43:14.837

是的，您必须输入这些内容，否则文件将如何知道您的名称数组的内容。

如果您将它们放在 excel 文件中，那么您应该使用简单的 excel 公式进行后缀并在它们前面加上双引号和 qomas，然后复制论坛并根据结构粘贴它，这样它可能就像： var myCars=new Array("斯巴鲁”、“丰田”、...“最后的车名”）；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:35:24.267

您可以编写一个简单的解析器来为您执行此操作，然后您只需将整个内容复制/粘贴到您的 JS 文件中。但这可能比简单地逐个键入要花更长的时间。

如果汽车型号/名称结构良好（它们由单个分隔符分隔，如逗号或空格），那么编写一个简单的解析器可能是值得的。再说一遍，它只有 30 个实体......

# sql - 在包中查找未使用的函数和过程的推荐方法是什么？

> ID：15243579
> 
> 赞同：0
> 
> 时间：2013-03-06T09:33:47.907
> 
> 标签：sql, oracle, data-dictionary

我有一些以“LTR_”开头的包。我正在尝试清理我的代码库，并想查找是否有任何未使用的函数和过程。

是否可以查询数据字典以查找`LTR_`包中未从数据库中其他任何地方引用的任何方法？如果不使用第三方工具或审核，这是否可能？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:41:00.050

您可以找到所有参考资料
`select * from all_source where upper(text) like '%LTR_METHODNAME%'`

# database - phpmyadmin - 将所有列汇总为一列

> ID：15243583
> 
> 赞同：0
> 
> 时间：2013-03-06T09:34:01.637
> 
> 标签：database, phpmyadmin

我有一个数据库，其中包含许多具有不同值的列。

![在此处输入图像描述](../Images/ec5125ec1483d0623474e6a728750ffc.png)

是否可以将所有列的总和添加到一列单列中？所以200+列会变成一列

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:49:38.100

如果我没看错，这是一个表，没有数据库，而是行而不是列。
因此，如果您发布的屏幕截图就是您所拥有的一切，那就是：

```
SELECT SUM(<ColoumnTitle>) As <newColoumnTitle>
FROM <TableName>; 
```

如果这不是唯一的表，我需要更多信息。

# javascript - 如何在 Jquery 中向元素添加一个类，然后基于该类触发事件

> ID：15243584
> 
> 赞同：2
> 
> 时间：2013-03-06T09:34:05.613
> 
> 标签：javascript, jquery

我有一些 jQuery 代码以编程方式将一个类添加到文档准备好的元素中。我遇到的问题是如何监听单击该类的元素。

```
<li><a href="#" id="btnDeleteGroup" class="disabled">Delete Node</a></li>

$(document).ready(function () {

  $('a.deleteGroup').click(function (e) {
    alert("deleteGroup"); 
  });

  $('#btnDeleteGroup').removeClass("disabled");
  $('#btnDeleteGroup').addClass("deleteGroup");

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:36:18.053

你需要[使用](http://api.jquery.com/on/)：

```
$(document).ready(function () {

  $(document).on('click', 'a.deleteGroup', (function (e) {
    alert("deleteGroup"); 
  });

  $('#btnDeleteGroup').removeClass("disabled");
  $('#btnDeleteGroup').addClass("deleteGroup");

}); 
```

这会将事件绑定到文档，然后为您的选择器“侦听”。最好将其绑定到比`document`用于提高性能的更具体的东西，即`a`标签容器。

只是为了解释如果您将它绑定到文档，它将“侦听”文档上发生的每个单击事件，然后说“这是否与我的选择器匹配”。如果将它绑定到容器，它只会捕获该容器上的点击事件，因此它必须处理更少的请求，因此效率更高。

在 Jquery 1.7 中也`on`引入了，如果您使用旧版本，它们是几个效率较低的版本，例如[live](http://api.jquery.com/live/)。如果您使用 1.7 或更新版本，但使用`on`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:36:24.757

用于[`.on`](http://api.jquery.com/on/)那个

```
$(document).on("click", "a.deleteGroup", function (e) {
  alert("deleteGroup"); 
}); 
```

此外，最好将事件绑定到该链接的某个父元素而不是文档。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:39:53.063

jQuery 不能监听在监听器被绑定之后添加的元素。要解决您的问题，您只需将代码重新排序即可：

```
$(document).ready(function() {

  $('#btnDeleteGroup').removeClass("disabled");
  $('#btnDeleteGroup').addClass("deleteGroup");

  $('a.deleteGroup').click(function(e) {
    alert("deleteGroup"); 
  });

}); 
```

干杯，

特伦斯

# javascript - undefined 作为函数参数有什么意义？

> ID：15243587
> 
> 赞同：0
> 
> 时间：2013-03-06T09:34:08.760
> 
> 标签：javascript

我一直在 OSS 源代码中看到`undefined`作为参数的函数，例如来自 fancybox 的：

```
(function (window, document, $, undefined) {
    "use strict";
    // snip-snip
}(window, document, jQuery)); 
```

或者[来自 jquery validate](https://github.com/DiegoLopesLima/Validate/blob/master/jquery-validate.js#L2)：

```
;(function(defaults, $, undefined) {
   // snip, snip
})({
   // snip, snip settings
}, jQuery); 
```

有什么原因吗？

* * *

编辑：好的，所以我知道它在本地定义为 undefined 但我对此有疑问，`undefined`有时检查某些东西不起作用：

```
if (thing === undefined) {} 
    // will crash if thing has never been initialized

if (typeof thing === 'undefined') {} 
    // always works 
```

这有什么性能提升吗？

# .net - 在 Visual Studio 2012 中自定义 UMLClassDiagram

> ID：15243592
> 
> 赞同：3
> 
> 时间：2013-03-06T09:34:21.470
> 
> 标签：.net, visual-studio-2012, uml, class-diagram

我在 Visual Studio 2012 中创建了一个 UMLClassDiagram，但在自定义时遇到了一些问题：

1.  如何使限定名称仅显示类名而不显示整个命名空间？它让我毫无顾忌地扩展这些物品。

2.  如何一次删除所有类的刻板印象？这`<<C# class>>`对我的需要来说是多余的。

3.  我可以隐藏操作而不只是折叠它吗？

4.  **最重要**的 - 如何自动安排物品？

我试图从 MSDN 获得答案但没有成功。（[https://msdn.microsoft.com/en-us/library/vstudio/ff657806.aspx](https://msdn.microsoft.com/en-us/library/vstudio/ff657806.aspx)）

![在此处输入图像描述](../Images/68c5257aa6b0beee82faecdb5abb1fc4.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-29T16:53:24.523

在 VS 2013 中，右键单击类 -> 从弹出菜单中隐藏限定名称。;)

# php - PHP 安装 - 无法运行任何函数，甚至 phpinfo()

> ID：15243595
> 
> 赞同：1
> 
> 时间：2013-03-06T09:34:38.700
> 
> 标签：php, lamp

# 短篇故事

PHP 似乎有效，PHP 括号内的简单“hello world”有效。
但是，其他功能失败。
甚至 'phpinfo()' 也失败了`Fatal error: Call to undefined function phpinfo() in ...`

# 很长的故事

我正在尝试在我没有 root 访问权限的机器上手动编译和安装 PHP。我一直在关注这个脚本：[https](https://github.com/minghuascode/UserLAMP)
://github.com/minghuascode/UserLAMP 我不得不对其进行一些调整，但 Apache Server 似乎运行成功并提供简单的 HTML 文件。

PHP 在编译时有很多问题，一些关于 gawk 的警告，以及 PHAR 和 PEAR 中的错​​误。我尝试了几个版本：5.2.17、5.3.22、5.4.12，最后是 php5.3-201303060830

编译完成而没有错误的唯一方法是使用这些标志：

```
 ./configure --prefix=$(SERVERS)/$(DSTPHPDIR) \
      --with-mysql=$(SERVERS)/$(DSTMYSQLDIR) \
      --with-pdo-mysql=$(SERVERS)/$(DSTMYSQLDIR) \
      --with-apxs2=$(SERVERS)/$(DSTAPACHEDIR)/bin/apxs \
      --disable-phar   \
      --without-pear   \ 
```

但是，它甚至无法执行 phpinfo()

请指教。
谢谢 ：）

# 编辑

当我尝试运行时，`php -i`我发现我的系统中已经有一个旧版本的 PHP，由管理员安装。也许这会引起冲突？

```
$ php -ver
PHP 4.3.8 (cli) (built: Aug  9 2004 14:33:18)
Copyright (c) 1997-2004 The PHP Group
Zend Engine v1.3.0, Copyright (c) 1998-2004 Zend Technologies

$ ./php -ver
PHP 5.3.24-dev (cli) (built: Mar  6 2013 10:50:33)
Copyright (c) 1997-2013 The PHP Group
Zend Engine v2.3.0, Copyright (c) 1998-2013 Zend Technologies 
```

# 第二次编辑

这可能会有所帮助：

```
$ ./php -m
[PHP Modules]
Core

[Zend Modules]

$ ./php --rf phpinfo
Segmentation fault 
```

# python - Python 将消息记录到令牌中

> ID：15243596
> 
> 赞同：1
> 
> 时间：2013-03-06T09:34:40.980
> 
> 标签：python

我有格式为的日志消息

```
[2013-Mar-05 18:21:45.415053] (ThreadID) <Module name> [Logging level]    Message Desciption : This is the message. 
```

我想在表单中创建字典

```
{'time stamp': 2013-Mar-05 18:21:45.415053, 'ThreadId': 4139, 'Module name': ModuleA , 'Message Description': My Message, 'Message' : This is the message } 
```

我尝试在空格上使用 split 来拆分日志消息，然后我可以选择标记并制作列表。像这样的东西：

```
for i in line1.split(" "): 
```

这将给出这样的令牌

```
['2013-Mar-05', '18:21:45.415053]', '(ThreadID)', '<Module name>', '[Logging level]',    'Message Desciption', ':', 'This is the message.'] 
```

然后挑选令牌并放入所需的列表中。

在这种情况下，有没有更好的方法来提取令牌。这里有一个模式，就像`time stamp`将在`[]`括号中，`threadId`将在里面`()`，`module name`将在里面`<>`。我们可以利用这些信息直接提取代币吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:16:43.850

这是与@Oli 非常相似的答案，但是正则表达式更具可读性，我使用`groupdict()`因此无需形成新字典，因为它是由正则表达式创建的。日志字符串从左到右解析，消耗每个匹配项。

```
fmt = re.compile(
      r'\[(?P<timestamp>.+?)\]\s+' # Save everything within [] to group timestamp
      r'\((?P<thread_id>.+?)\)\s+' # Save everything within () to group thread_id
      r'\<(?P<module_name>.+?)\>\s+' # Save everything within <> to group module_name
      r'\[(?P<log_level>.+?)\]\s+' # Save everything within [] to group to log_level
      r'(?P<message_desc>.+?)(\s:\s|$)' # Save everything before \s:\s or end of line to           group message_desc,
      r'(?P<message>.+$)?' # if there was a \s:\s, save everything after it to group   message. This last group is optional
      )

log = '[2013-Mar-05 18:21:45.415053] (4139) <ModuleA> [DEBUG]  Message Desciption : An example message!'

match = fmt.search(log)

print match.groupdict() 
```

例子：

```
log = '[2013-Mar-05 18:21:45.415053] (4139) <ModuleA> [DEBUG]  Message Desciption : An       example message!'
match = fmt.search(log)

print match.groupdict() 
{'log_level': 'DEBUG',
 'message': 'An example message!',
 'module_name': 'ModuleA',
 'thread_id': '4139',
 'timestamp': '2013-Mar-05 18:21:45.415053'} 
```

此答案评论中的第一个测试字符串示例

```
log = '[2013-Mar-05 18:21:45.415053] (0x7aa5e3a0) <Logger> [Info] Opened settings file : /usr/local/ABC/ABC/var/loggingSettings.ini'

match = fmt.search(log)

print match.groupdict()
{'log_level': 'Info',
 'message': '/usr/local/ABC/ABC/var/loggingSettings.ini',
 'message_desc': 'Opened settings file',
 'module_name': 'Logger',
 'thread_id': '0x7aa5e3a0',
 'timestamp': '2013-Mar-05 18:21:45.415053'} 
```

此答案评论中的第二个测试字符串示例：

```
log = '[2013-Mar-05 18:21:45.415053] (0x7aa5e3a0) <Logger> [Info] Creating a new settings file'

match = fmt.search(log)

print match.groupdict()
{'log_level': 'Info',
 'message': None,
 'message_desc': 'Creating a new settings file',
 'module_name': 'Logger',
 'thread_id': '0x7aa5e3a0',
 'timestamp': '2013-Mar-05 18:21:45.415053'} 
```

编辑：已修复以使用 OP 的示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:12:30.330

使用正则表达式，希望对您有所帮助！

```
import re

string = '[2013-Mar-05 18:21:45.415053] (4444) <Module name> [Logging level]  Message Desciption : This is the message.'

regex = re.compile(r'\[(?P<timestamp>[^\]]*?)\] \((?P<threadid>[^\)]*?)\) \<(?P<modulename>[^\>]*?)\>[^:]*?\:(?P<message>.*?)$')

for match in regex.finditer(string):
    dict = {'timestamp': match.group("timestamp"), 'threadid': match.group("threadid"), 'modulename': match.group('modulename'), 'message': match.group('message')}

print dict 
```

输出：

`{'timestamp': '2013-Mar-05 18:21:45.415053', 'message': ' This is the message.', 'modulename': 'Module name', 'threadid': '4444'}`

说明：我正在使用组来标记我的正则表达式的一部分，以便以后在脚本中使用。有关更多信息，请参阅[http://docs.python.org/2/library/re.html](http://docs.python.org/2/library/re.html)。基本上我从左到右遍历这条线，寻找分隔符 [,<,( 等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:44:21.277

如果您有一致的日志格式，为什么不将宏用于索引？

例子

```
DATE = 0
TIME = 1
TID = 2
MODULE = 3
LOG_LVL = 4
MESSAGE = 5 (or more like 7)

log = ['2013-Mar-05', '18:21:45.415053]', '(ThreadID)', '<Module name>', '[Logging level]',    'Message Desciption', ':', 'This is the message.'] 
```

然后只需使用 log[DATE] 访问或不访问？最终，在使用基于索引的访问之前，在要拼接在一起的块上使用“”.join。然后，您可以随心所欲地填充您的字典。

它不像 Oli 的解决方案那样简洁，但它可以完成工作:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T10:09:50.867

虽然在这种情况下使用[re](http://docs.python.org/2/library/re.html)更简单，但如果你不想使用它，
试试这个，

```
string = '[2013-Mar-05 18:21:45.415053] (ThreadID) <Module name> [Logging level]    Message Desciption : This is the message.'

# the main function, return the items between start and end.
def get_between(start, end, string):
    in_between = 0
    c_str = ''
    items = []
    indexes = []
    for i in range(len(string)):
        char = string[i]
        if char == start:
            if in_between == 0: indexes.append(i) # if starting bracket
            in_between += 1
        elif char == end:
            in_between -= 1
            if in_between == 0: indexes.append(i) # if ending bracket
        elif in_between > 0:
            c_str += char
        if in_between == 0 and c_str != '': # after ending bracket
            items.append(c_str)
            c_str = ''
    return items, indexes

# As both Time Stamp, and Logging Level are between []s,
# And as message comes after Logging Level,
data,last_indexes = get_between('[',']',string)
time_stamp, logging = data
# We only want the first item in the first list
thread_id = get_between('(',')',string)[0][0]
module = get_between('<','>',string)[0][0]

last = max(last_indexes)
# extracting the message    
message = ''.join(string[last+1:].split(':')[1:]).strip()

mydict = {'Time':time_stamp, 'Thread ID':thread_id,'Module':module,'Logging Level':logging,'Message':message}
print mydict 
```

在这里，我们得到两个“分类器”之间的字符并使用它们......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T10:03:25.670

下面的呢？（评论解释了发生了什么）

```
log = '[2013-Mar-05 18:21:45.415053] (ThreadID) <Module name> [Logging level]    Message Description : This is the message.'

# Define functions on how to proces the different kinds of tokens
time_stamp = logging_level = lambda x: x.strip('[ ]')
thread_ID = lambda x: x.strip('( )')
module_name = lambda x: x.strip('< >')
message_description = message = lambda x: x

# Names of the tokens used to make the dictionary keys
keys = ['time stamp', 'ThreadId',
        'Module name', 'Logging level',
        'Message Description', 'Message']
# Define functions on how to process the message
funcs = [time_stamp, thread_ID,
         module_name, logging_level,
         message_description, message]
# Define the tokens at which to split the message
split_on = [']', ')', '>', ']', ':']

msg_dict = {}

for i in range(len(split_on)):
    # Split up the log one token at a time
    temp, log = log.split(split_on[i], 1)
    # Process the token using the defined function
    msg_dict[keys[i]] = funcs[i](temp) 

msg_dict[keys[i]] = funcs[i](log) # Process the last token
print msg_dict 
```

# php - 从数据库中绘制画布文本？

> ID：15243600
> 
> 赞同：0
> 
> 时间：2013-03-06T09:34:45.480
> 
> 标签：php, javascript, mysql, html, canvas

我正在尝试一些帆布的东西，

这是我的代码，任何人都可以了解如何在 javascript 中使用 sqlvariables 吗？

```
<script type="text/javascript">
 window.onload = function(){
 var canvas = document.getElementById("myCanvas");
 var context = canvas.getContext("2d");
 var imageObj = new Image();
 imageObj.onload = function(){
     context.drawImage(imageObj, 0, 0);
     context.font = "40pt Calibri";

     context.fillText("Aanvaller1", 75, 260);
     context.fillText("Aanvaller2", 450, 260);

     context.fillText("Mid1", 200, 560);         
     context.fillText("Mid2", 450, 560);

      context.fillText("Verdediger1", 70, 860);
      context.fillText("Verdediger2", 425, 860);

      context.fillText("Keeper", 310, 1010);
    };
 imageObj.src = "voetbalveld2.png"; 
};
</script>

<canvas id="myCanvas" width="804" height="1200"></canvas> 
```

所以这将根据需要绘制我的文本，但我希望能够查询数据库并将数据库中的名称放在我现在硬编码文本的地方。提前谢谢。

我不需要代码如何查询数据库等，我只需要知道如何将它与 js 和 canvas 结合使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:37:47.917

那么Javascript在客户端浏览器中运行，SQL数据库存储在服务器上。您需要的是使用客户端代码查询服务器以检索数据的能力。我在想的是介于两者之间的一些中介语言（我在这里选择 PHP）和 Ajax。

因此，您的 Javascript 可以通过 Ajax 请求调用 PHP 页面；PHP 返回一个 XML/Json，其中包含结构化格式的所有变量，然后 Js 可以对其进行解析并插入到画布代码中。

```
getNames.php
--------------
// mysql stuff goes here
$arr = array('name1' => 'Aanvaller1', 'name2' => 'Aanvaller2', 'name3' => 'Mid1');
echo json_encode($arr); 
```

javascript代码：

```
<script type="text/javascript">
  $(document).ready(function(){
    var json = null;
    $.ajax({
        'async': false,
        'global': false,
        'url': 'getNames.php',
        'dataType': "json",
        'success': function (data) {
            json = data;
        }
    });
  }); 
```

您现在有一个名为“json”的变量，其中包含您的 mysql 数据。解析它并将其粘贴到您的画布中。

# android - onActivityresult 中的结果代码和数据为空

> ID：15243602
> 
> 赞同：4
> 
> 时间：2013-03-06T09:34:49.567
> 
> 标签：android, android-intent, android-activity, android-camera, android-camera-intent

我有一个代码，我将从相机捕获的图像设置为矢量，然后使用图像适配器显示捕获的图像。但我在 OnActivityResut 中将结果代码为 0，数据为空。下面是启动相机的代码及其有效，即我使用相机单击图像

```
Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE); 
        startActivityForResult(cameraIntent, CAMERA_REQUEST); 
```

然后我使用 OnActivityResult 如下

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) 
    {  
        if (requestCode == CAMERA_REQUEST && resultCode == RESULT_OK) 
        {  
            ImageView photo = (ImageView) data.getExtras().get("data"); 
            m_oVectorOfImages.add(photo);
            m_oImageAdapter.notifyDataSetChanged();
        }  
    } 
```

我能知道为什么结果代码为 0 且数据为空吗？

# vba - 基于单元格复制文件夹

> ID：15243606
> 
> 赞同：2
> 
> 时间：2013-03-06T09:35:09.357
> 
> 标签：vba, excel

是否可以使用将文件夹复制到另一个文件夹`EXCEL-VBA`？

这里的例子

![在此处输入图像描述](../Images/73a649644fccb24b005625e8009d7018.png)

如果我在 D9 的示例中输入 v 并在 E3 中填写目标路径，那么它将沿文件内部的文件将 E:\DATABASE2012Data2012 中的文件夹复制到目标文件夹 F:\Workdata

所以基本上我需要的是在 E3 中输入目标路径，只需要在 D7 或/和/到 D9 中插入 v

有可能做到这一点`VBA`吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T10:16:39.180

您可以使用命令解释器 XCOPY 命令来实现这种*老派风格：*

```
' VBA Code to open a command window and run XCOPY
Shell Environ("comspec") & " /k xcopy " & Range("E9").text & " " & Range("F9").text & " /s /e /i" 
```

所以它所做的就是打开一个命令窗口，然后执行 XCOPY 命令将范围 E9 中的文件夹复制到 F9 中指定的新目录。

/k - 这将保持命令窗口打开 - 用于测试

/c - 这将在完成后关闭命令窗口。

有许多开关可以与 XCOPY 一起使用，[Microsoft - XCOPY Switches上有详细说明](http://support.microsoft.com/kb/289483)

或者，您可以使用[Ron De Bruin: VBA FileCopy](http://www.rondebruin.nl/folder.htm)和[Ron De Bruin: VBA FolderCopy 中详述的 FILECOPY](http://www.rondebruin.nl/folder.htm#Copy)

如果你有 Excel 2010-2013，你可以使用新的[CopyFolder 方法](http://msdn.microsoft.com/en-us/library/office/gg264819.aspx)

另一种选择是使用[FILESYSTEMOBJECT - CopyFolder 方法](http://www.thevbprogrammer.com/Ch06/06-09-FSO.htm)（例如：**FileSystemObject.CopyFolder "c:\mydocuments\letters*", "c:\tempfolder\"**）

高温高压

菲利普

# zend-framework2 - Zend Framework 2 inputfilter 过滤器元素

> ID：15243609
> 
> 赞同：2
> 
> 时间：2013-03-06T09:35:17.617
> 
> 标签：zend-framework2, block, zend-inputfilter

我正在使用 Zend Framework 2.1

我想为 Zend 表单的电子邮件字段创建域或电子邮件地址的阻止列表。我认为可以使用 Zend InputFilter。但我不知道该怎么做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-07T08:45:43.257

InputFilter 旨在验证和清理一组输入数据，它们使用验证器和过滤器来实现这一目标。

您需要阻止某些域的是自定义验证器。

这里棘手的部分是您需要从电子邮件地址中提取域，这是 EmailAddress 验证器已经在做的事情（而且做得很好）。

幸运的是，EmailAddress 验证器使用内部主机名验证器来检查域是否有效。

这是我的建议：

*   编写您自己的验证器，扩展 Zend\Validator\Hostname。如果您重载 isValid() 方法，您将能够将您的自定义阻塞逻辑添加到验证器......在检查您自己的逻辑后不要忘记返回父方法值。
*   配置一个 EmailAddress 验证器以使用您的自定义主机名验证器（使用 setHostnameValidator() 方法，或通过在构造函数中传递配置）。
*   在 InputFilter 中使用您的 EmailAddress 验证器，有关如何执行此操作的更多详细信息，请参阅文档：http: [//framework.zend.com/manual/2.2/en/modules/zend.input-filter.intro.html](http://framework.zend.com/manual/2.2/en/modules/zend.input-filter.intro.html)

希望这可以帮助。

# debian - Reprepro 添加相同的 deb 包

> ID：15243613
> 
> 赞同：10
> 
> 时间：2013-03-06T09:35:28.437
> 
> 标签：debian, packaging, deb

我的 debian repo 有问题。我删除了一个错误的包：

```
reprepro -Vb . remove package 
```

这没关系，但是当我尝试使用下一个命令再次添加相同的包时：

```
reprepro -Vb . includedeb squeeze package 
```

我得到了下一个输出：

```
Already existing files can only be included again, if they are the same, but:
md5 expected: 1035762e5e21e6ad8689660c0032f42d, got: 77ea3b094fcbfca4110afb5a9af0d2cb
sha1 expected: e41527e49bee98a59b3a5e16fbe856bb15a836bd, got: 5c6b673e5f11f1a80201e76d0fa4ba1d5935f095
sha256 expected: ae795de3b2d62f513b634a00c4bec74c90d2a6f750e5ec0386ee2b7775af39ec, got: 1531b2dd1869214afe58bb526fa8bda70db1bd1ef73d133bde002d42f147a041
size expected: 327748, got: 253398
There have been errors! 
```

任何人都知道我该如何解决这个问题？我一直在检查reprepro man，但没有找到解决这种情况的解决方案。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-07T17:31:16.437

您的第一个命令不应该起作用；`remove`需要您要从中删除该软件包的发行版的代号。

假设这只是一个错误粘贴，并且您像对`includedeb`. Reprepro 试图强制执行“具有相同名称和完全相同版本的软件包具有完全相同的内容”的 debian 理想，无论它们最初是在哪个发行版中发布的。

您可以`reprepro ls $package`查看它可能仍然位于的位置。一旦你找到它，正确的做法就是把`reprepro copy`它从另一个地方挤回去。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-05-30T16:58:09.333

如果您在存档中支持多个发行版，则需要从所有发行版中删除文件引用，然后才允许您将新文件包含在eb中。

在`reprepro ls`您可能希望对`reprepro remove {dist} {pkg}`引用文件的每个发行版使用一次之后。

当所有参考资料都消失后，您可以`includedeb`创建一个新的参考资料。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-08-10T09:19:57.893

仅更改包名称中的版本是不够的，还应在控制文件中更改（`DEBIAN/control`在二进制存档中和`debian/control`源 deb 中）。

你修改了一个 deb 包，所以你必须给它一个不同的版本。通常，您应该更改行

```
Version: 1.2.3-something 
```

到：

```
Version: 1.2.3-kioplays1 (...2, 3, etc) 
```

或类似的。

如果版本不同，您将能够在 repo 中多次包含这些包。

# java - 如何在 Java 中检查 URL 是否存在

> ID：15243615
> 
> 赞同：0
> 
> 时间：2013-03-06T09:35:30.370
> 
> 标签：java, url

在java中检查URL是否存在的最佳方法是什么？

我的 Web 应用程序有超过 15000 个页面，每当用户点击/单击某个 url 时，我应该检查该 URL 是否存在（不给出 HTTP400 BadRequest），如果它给出 400Exception，我应该记录它。

我不想使用 HTTPConnection、HTTPClient、Wrapper（因为 wrapper 带有 servlets3.0，而我的 weblogic 版本是 10.3，不支持 servletsv3.0）

有人可以为我提供一些解决方案。我的领导坐在我的头上，我无法提供解决方案:(

# java - 如何在文本文件中找到最长和最短的行？

> ID：15243616
> 
> 赞同：0
> 
> 时间：2013-03-06T09:35:30.513
> 
> 标签：java

我正在编写一个程序，它使用 Scanner 方法读取文本文件并输出：单词数、句子数、每句平均单词数、最长句子和最短句子。到目前为止，除了最长和最短的句子外，我什么都有，我似乎无法弄清楚。这是我到目前为止所拥有的...

```
import java.util.Scanner;
import java.io.*;
import java.io.IOException;
public class TestScanner {
  public static void main(String args[])
  {     Scanner in = new Scanner(System.in);
        String x = in.next();
        double count=0;
        int nbSentences = 0;
        while(in.hasNext())
        {   String word = in.next();
            nbSentences +=getNbSentences(word);
            count++;
        }
        System.out.println("Number of Words: "+ count);
        System.out.println("Number of Sentences: " + nbSentences);
        System.out.println("Average Words In Sentence: " + (count/nbSentences));
        System.out.println("Longest Sentence: ");
        System.out.println("Shortest Sentence: ");
 }
 //**************************number of sentences*********************************
 public static int getNbSentences(String word) 
 {         int result = 0;
       char[] chars = word.toCharArray();
       for(Character c : chars) 
       {    if(c == '.' || c == '!' || c == '?') 
            {   result++; 
            }
       }
       return result;
 }
 //*************************Longest Sentence*************************************

 //This is where I'm stuck....

} 
```

如果有人可以提供帮助，我将不胜感激！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-22T17:52:25.017

下面的代码从文本文件中找到最长和最短的行以及行号。（限制：如果两行相同，则将第一行视为长行或短行）。我使用 HashMap 来存储行（行号作为键，行内容作为值）

如果需要在此代码中添加任何内容，请发布。

` 封装测试；

```
import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Set;

public class LongestAndShortestLineFinder {

static int previousLongLine = 0;
static int previousShortLine = 10000;

public void printLongLine(HashMap longLineMap) {

    Set keyofSet = longLineMap.keySet();
    Iterator itr = keyofSet.iterator();
    while (itr.hasNext()) {
        Integer keys = (Integer) itr.next();
        String value = (String) longLineMap.get(keys);
        System.out.println("Line Number of Longest line: " + keys
                + "\nLongest line: " + value);
    }
}

public void printShortLine(HashMap shortLineMap) {

    Set keyofSet = shortLineMap.keySet();
    Iterator itr = keyofSet.iterator();
    while (itr.hasNext()) {
        Integer keys = (Integer) itr.next();
        String value = (String) shortLineMap.get(keys);

        System.out.println("Line Number of Shortest line: " + keys
                + "\nShortest line: " + value);
    }
}

public static void main(String[] args) {
    // TODO Auto-generated method stub
    String fileName = "d:\\test.txt";
    // This will reference one line at a time
    String line = null;
    int key = 0;
    int lineSize = 0, lineNumber = 0;

    LongestAndShortestLineFinder ln = new LongestAndShortestLineFinder();

    HashMap longLineMap = new HashMap();
    HashMap shortLineMap = new HashMap();

    try {
        // FileReader reads text files in the default encoding.
        FileReader fileReader = new FileReader(fileName);

        // Always wrap FileReader in BufferedReader.
        BufferedReader bufferedReader = new BufferedReader(fileReader);

        while ((line = bufferedReader.readLine()) != null) {
            lineNumber++;
            lineSize = line.length();
            if (lineSize > previousLongLine) {
                previousLongLine = lineSize;
                longLineMap.clear();
                longLineMap.put(lineNumber, line);
            }
            if (lineSize < previousShortLine) {
                previousShortLine = lineSize;
                shortLineMap.clear();
                shortLineMap.put(lineNumber, line);
            }

        }
        // Always close files.
        bufferedReader.close();
    } catch (FileNotFoundException ex) {
        System.out.println("Unable to open file '" + fileName + "'");
    } catch (IOException ex) {
        System.out.println("Error reading file '" + fileName + "'");
        // Or we could just do this:
        // ex.printStackTrace();
    }

    ln.printLongLine(longLineMap);
    ln.printShortLine(shortLineMap);
}

 } 
```

`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:43:13.643

1.  初始化`int currentSentenceLength = 0`并`int maxSentenceLength = 0`在循环之外。
2.  对于每个`word`：增量`currentSentenceLength`。
3.  如果`word`包含`.`，`!`或者`?`做：`maxSentenceLength = Math.max(currentSentenceLength, maxSentenceLength); currentSentenceLength = 0;`
4.  返回`maxSentenceLength`

你可以对最短的句子做同样的事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:41:28.630

伪代码：

1.  将第一句设置为最长和最短。
2.  遍历所有句子，将它们与最短和最长的进行比较。
3.  如果您发现比 shortest 更短的句子，请将其用作 shortest。
4.  如果您发现一个比最长的句子更长的句子，请将其用作最长的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:41:54.697

根据您的源代码，您需要做的是获取句子中的单词数。然后，您可以更新将在句子存储中存储当前最小/最大单词数的变量，或者将句子中的单词数作为一个集合并获得最大、最小（最终是平均值）后验。

`main`显式：将方法中的相应行更改为

```
double count = 0;
int nbSentences = 0;
int nbWordsInASentence = 0;
Collection nbWordsInSentences = new ArrayList<Integer>();
while (in.hasNext())
{   String word = in.next();
    count++;
    nbWordsInASentence++;

    int incrementNbSentences = getNbSentences(word);
    if (incrementNbSentences > 0) {
        nbWordsInASentence.add(nbWordsInASentence);
        nbWordsInASentence = 0;
    }
}

int maxSentenceLength;
int minSentenceLength;
if (nbWordsInSentences.size() > 0)
{   maxSentenceLength = Collections.max(nbWordsInSentences);
    minSentenceLength = Collections.min(nbWordsInSentences);
}
else
{   maxSentenceLength = 0; // use whatever value seems appropriate
    minSentenceLength = 0; // use whatever value seems appropriate
} 
```

但这仅在结果`getNbSentences`从不大于 1 时才有效（输入参数是一个单词这一事实暗示了这一点）。

请注意，该方法`getNbSentences`的实现在悬挂标记的情况下可能不正确：该方法在这种情况下返回 3。

# java - 构建 grails 应用程序时出错

> ID：15243617
> 
> 赞同：1
> 
> 时间：2013-03-06T09:35:31.110
> 
> 标签：java, grails, version

我有一个**Java**版本**1.6.0_37**和**Grails 1.3.9**。在构建我的应用程序时，我收到以下错误：

```
Compilation error: java.lang.UnsupportedClassVersionError: org/codehaus/groovy/grails/plugins/springsecurity/SpringSecurityUtils : Unsupported major.minor version 51.0 
```

我发现该代码`51`意味着与 Java 1.7 版冲突。但我删除了那个 Java 版本。

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:38:54.650

您需要`org/codehaus/groovy/grails/plugins/springsecurity/SpringSecurityUtils`在JDK 1.6 下重新编译该类。它的来源可以在[这里](https://github.com/grails-plugins/grails-spring-security-core)找到。

# networking - 我可以纯粹通过http测量互联网速度吗？

> ID：15243623
> 
> 赞同：1
> 
> 时间：2013-03-06T09:35:46.960
> 
> 标签：networking, browser, network-programming

我想制作一个测试互联网速度的测试程序。

我尝试通过 TCP 协议使用 WebSocket 来做到这一点，但 WebSocket 也不是纯粹的 TCP，

因为要使用 WebSocket 从浏览器通过 tcp 与服务器连接，首先 WebSocket 尝试先连接 http。然后，HTTP 将接受作为与服务器的 TCP 连接进行连接。

所以，如果我制作一个使用 websocket 的程序。这是没有意义的。

是否可以通过http测量互联网速度？

我会很高兴收到很好的答案。

祝你有美好的一天，谢谢！

# c# - 将大多数 MVC 操作定向到 Web API 控制器

> ID：15243624
> 
> 赞同：2
> 
> 时间：2013-03-06T09:35:54.387
> 
> 标签：c#, asp.net-mvc, asp.net-web-api, asp.net-web-api-routing

我已经使用 Web API 控制器构建了一个 MVC 项目。我没有使用`POST`,`GET`方法，而是将路由配置为在我的 API 控制器中使用操作。

这是我的路由器配置：

```
 var reportRoute = routes.MapHttpRoute(name: "Report",
                         routeTemplate: "api/Report/{controller}/{action}");
  reportRoute.AddRouteToken("Namespaces", new string[] { "Fanex.Athena.Api.Report" });
  reportRoute.RouteHandler = new MyHttpControllerRouteHandler(); 
```

这是我的控制器：

```
[HttpPost]
public dynamic MatchWlMatchBetType(BetListMetaModel metaModel)
{
    var uspKey = IsRacing(metaModel.BetType)
        ? "xxxxx"
        : "xxxaaa";

    return GetBetListResult(metaModel, uspKey);
}

[HttpPost]
public dynamic MatchWlOutright(BetListMetaModel metaModel)
{
    const string uspKey = "xxxx";
    return GetBetListResult(metaModel, uspKey);
} 
```

我不知道这段代码是好是坏。我是否正确使用了 Web API 控制器？

# java - 读取 url 中包含 # 而不是？

> ID：15243638
> 
> 赞同：3
> 
> 时间：2013-03-06T09:36:30.803
> 
> 标签：java, jakarta-ee

如何在 Java 中从以下 URL 读取参数值。在 url 而不是`?` `#`正在使用。这是我从 vk.com 网站获得的重定向 URL。

[http://sampleclient.com/vkclient/showAccessToken.jsp#access_token=361d617f92db608a78dab95604c6553&expires_in=86400&user_id=1234](http://sampleclient.com/vkclient/showAccessToken.jsp#access_token=361d617f92db608a78dab95604c6553&expires_in=86400&user_id=1234)

我尝试使用以下方法；但它不起作用。

```
HttpServeletRequest request;
String token=request.getParameter("access_token"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:37:53.673

你不能！这些参数仅在浏览器中可见

# php - PHP/MySQL 外语搜索

> ID：15243640
> 
> 赞同：0
> 
> 时间：2013-03-06T09:36:35.137
> 
> 标签：php, sql

我在 mysql 数据库中有一些文本，它们有多种语言，包括葡萄牙语和俄语，并且有很多特殊字符，如 á、à、ç、ã。有没有办法让我创建一个搜索功能，可以使用以下通配符进行搜索：

`smil?`- 发现：微笑，但不是微笑 -`'?'`代表一个字符。它可以用在搜索词的开头或结尾； `smil*`- 发现：simle、smile、等 -`'*'`代表任意数量的字符。它可以用在搜索词的开头或结尾； `real |AND| madrid`- 返回包含两个单词的记录； `real |OR| madrid`- 返回至少包含一个单词的记录； `real |NOT| madrid`- 返回仅包含 real 但不包含 madrid 的记录；"real madrid" - 返回包含准确表达式的记录；

我还想使用多种情况，例如：

```
rea? |AND| madr* |AND| "manchester united" 
```

另一个问题是特殊字符。`re*`还应该返回 reál, real, reãl...

另一种情况是，如果我搜索`test`，它应该找到：tést、têst 等...

这有可能实现吗？有人能指出我正确的方向吗？

太感谢了！

# asp.net - ajax文件上传在ie中不起作用

> ID：15243641
> 
> 赞同：1
> 
> 时间：2013-03-06T09:36:35.437
> 
> 标签：asp.net

能够使用 Internet Explorer 版本 9,10、Chrome、Firefox 等现代浏览器上传文件。但在使用过时的浏览器（如 * *Internet Explorer 版本 ** 6、7、8）时没有响应。

HTML 源代码：

```
<ajaxToolkit:AjaxFileUpload ID="ajaxFUP" runat="server" Width="200px" ThrobberID="myThrobber" ContextKeys="fred"
                    AllowedFileTypes="jpg,jpeg,pdf" MaximumNumberOfFiles="10" onuploadcomplete="ajaxFUP_UploadComplete" /> 
```

后面的代码：

```
 protected void ajaxFUP_UploadComplete(object sender, AjaxControlToolkit.AjaxFileUploadEventArgs e)
        {
            string path = Server.MapPath("~/Error/") + e.FileName;
            ajaxFUP.SaveAs(path);
    } 
```

请提供解决方案！

提前致谢！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T09:43:53.977

IE 中的 ajaxfileuplad 只接收声明为 text/html 或 text/plain 的响应。因此，发送一个 HTTP 标头以将响应声明为 text/html 可能有效。

ajaxfileupload 按以下步骤处理响应：

1）将响应定位到 iframe（在 IE 中，只有声明为 text/html 或 text/plain 的内容才能定位到 iframe） 2）调用 ajaxfileupload 中定义的响应回调函数，将 iframe 中的内容转换到您在 ajaxfileupload 的设置中指定的内容类型 3) 在您的 ajaxfileupload 设置中调用您的响应回调函数

# android - Android Chrome 不通过 Filesystem API 播放或加载视频

> ID：15243642
> 
> 赞同：4
> 
> 时间：2013-03-06T09:36:39.553
> 
> 标签：android, html, google-chrome, video, filesystems

重现问题：

1.  通过 XMLHTTPRequest 从服务器获取视频作为 blob。

2.  在本地沙盒文件系统上保存每个 FileSystem API。

3.  使用“FileEntry.toURL”方法创建视频标签。

4.  尝试在 Android Chrome 上玩 -> 失败

5.  尝试在桌面 Chrome 上玩 -> 运行

在我看来，这是一个非常重要的功能。因为如果视频加载正常，我们完全有可能在智能手机和平板电脑上实现离线媒体应用程序，而无需依赖本地代码。

下载似乎正在运行。但是浏览器无法播放文件系统中的视频。我尝试了与图像相同的用例。这是有效的。[请参阅http://sobek-agency.com/html5-file-api/](http://sobek-agency.com/html5-file-api/)上的示例

见[http://sobek-agency.com/html5-file-api/](http://sobek-agency.com/html5-file-api/)

源代码：

```
<!DOCTYPE html > 
<html> 
    <head> 
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"> </script> 
        <script type="text/javascript"> 
            var _fs; 

            var imagefilename = "st-logo.png"; 
            var videofilename = "st-is-coming.webm"; 

            var diskSpaceRequired = 20 * 1024 * 1024; 

            window.requestFileSystem = 窗口.requestFileSystem || window.webkitRequestFileSystem; 

            函数 errorHandler(e) { 
              var msg = ''; 

              switch (e.code) { 
                case FileError.QUOTA_EXCEEDED_ERR:

                  休息; 
                case FileError.NOT_FOUND_ERR: 
                  msg = 'NOT_FOUND_ERR'; 
                  休息; 
                case FileError.SECURITY_ERR: 
                  msg = 'SECURITY_ERR'; 
                  休息; 
                case FileError.INVALID_MODIFICATION_ERR: 
                  msg = 'INVALID_MODIFICATION_ERR'; 
                  休息; 
                case FileError.INVALID_STATE_ERR: 
                  msg = 'INVALID_STATE_ERR'; 
                  休息; 
                默认值：
                  msg = '未知错误'; 
                  休息; 
              }; 
              安慰。
            } 

            function downloadImageAndVideo(fileEntry) { 

                console.log('fetch image resource'); 
                _fs.root.getFile(imagefilename, { create: true }, function (fileEntry) { 
                    var xhr = new XMLHttpRequest(); 
                    xhr.responseType = "blob"; 
                    xhr.open("GET", imagefilename, true); 
                    xhr. onload = function(e) { 
                        if (this.status == 200) { 
                            var movieBlob = this.response; 
                            fileEntry.createWriter(function (fileWriter) { 
                                fileWriter.write(movieBlob);
                                fileWriter.onwriteend = function(e) { 
                                    var src = fileEntry.toURL(); 
                                    $('body').append('<h3>通过 Filesystem API 加载图像正常工作（在 Android Chrome 上！）：</h3><img height="150px" src="' + src + '" />< br/><span id="imgInfo"></span><br/>'); 
                                }; 
                            }，错误处理程序）；
                        } 
                    }; 
                    xhr.send(); 
                }); 

                console.log('获取视频资源'); 
                _fs.root.getFile(videofilename, { create: true },
                    var xhr = new XMLHttpRequest(); 
                    xhr.responseType = "blob"; 
                    xhr.open("GET", videofilename, true); 
                    xhr.onload = function(e) { 
                        if (this.status == 200) { 
                            var movieBlob = this.response; 
                            fileEntry.createWriter(function (fileWriter) { 
                                fileWriter.write(movieBlob); fileWriter.onwriteend 
                                = function(e) { 
                                    var src = fileEntry.toURL();
                                    $('body').append('<h3>无法通过文件系统加载视频（在 Android Chrome 上！）</h3><video controls><source src="' + src + '" type="video/ webm"/></video><br/><span id="videoInfo"></span><br/>'); 
                                }; 
                            }，错误处理程序）；
                        } 
                    }; 
                    xhr.send(); 
                }); 

            }   

            //请求配额和持久化存储
            $(document).ready(function () { 
                window.webkitStorageInfo.requestQuota( 
                    PERSISTENT,

                    function (grantedBytes) { 
                        window.requestFileSystem(PERSISTENT,grantedBytes, function(fs) { 
                            _fs = fs; 
                            downloadImageAndVideo(); 
                        }, errorHandler); 

                    }，
                    错误处理程序
                ）；
            }); 

        </script> 
        <title>foo</title> 
    </head> 
    <body> 
    </body> 
</html>

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T09:17:17.077

我已确认该问题在最新的 Android 版 Chrome 上可重现。
但显然它已被修复，并且正在开发最新版本。（没有更新，但这似乎是相同的错误[http://crbug.com/173588](http://crbug.com/173588)）

请等待固定版本在几个月后公开。

# windows - Internet Explorer 9 - 代理异常不起作用

> ID：15243643
> 
> 赞同：0
> 
> 时间：2013-03-06T09:36:42.510
> 
> 标签：windows, internet-explorer, exception, proxy

从 IE 8 升级到 IE 9 后，所有代理异常停止工作 - 当我尝试 ping 某些 IP 时，我得到了响应，但是当使用 http 协议时，请求超时。我这样定义例外：

```
171.22.192.155:9090;171.22.230.102 
```

有什么想法可能是错的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:40:33.950

试试 171.22.192.155;171.22.230.102;

# sql - 授予用户访问表的权限

> ID：15243647
> 
> 赞同：0
> 
> 时间：2013-03-06T09:36:49.910
> 
> 标签：sql, sql-server

我知道可以授予用户访问数据库的权限以从数据库中选择数据，如下所示。但是为用户表中的每个用户执行此操作需要很长时间。有没有什么方法可以为用户表中的所有用户执行此操作

我想给他们所有人角色以允许他们只读取某些表..任何想法如何做到这一点..但我不想一次只做一个用户我想做整个用户表

```
CREATE LOGIN sam
    WITH PASSWORD = '';
USE AdventureWorks;
CREATE USER sam FOR LOGIN sam;
GO
GRANT SELECT TO sam 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:38:24.030

创建一个数据库角色，授予该角色选择权限，然后将所有用户添加到该数据库角色中。

这是演示该概念的教程的链接：

[自定义数据库角色](http://beyondrelational.com/modules/2/blogs/88/posts/10181/sql-server-custom-database-role.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:41:44.790

如果您查看[授予权限](http://databases.about.com/od/security/a/accesscontrols_2.htm)，您可以看到该选项的使用

```
[ON <table>] 
```

# c# - ASP.NET MVC 中的 ServiceStack.NET Windows 身份验证 (NTLM)

> ID：15243649
> 
> 赞同：20
> 
> 时间：2013-03-06T09:37:10.253
> 
> 标签：c#, asp.net-mvc-4, servicestack, windows-authentication

如何在基于 ASP.NET MVC4 的 ServiceStack 项目中实现 Windows 身份验证？

我从添加的全局请求过滤器开始`AppHost`：

```
private void ConfigureAuth(Funq.Container container)
{
    this.RequestFilters.Add((httpReq, httpResp, requestDto) =>
    {
        var user = HttpContext.Current.User.Identity;
        if (!user.IsAuthenticated ||
            !user.Name.Contains(_myTestUser)) //todo: check username here in database (custom logic) if it has access to the application
            httpResp.ReturnAuthRequired();
    });
} 
```

这将打开一个登录对话框，如果输入正确（用户名存在并且输入了有效密码并且`myTestUser`设置为此），将导致成功响应。如果有任何问题，将再次显示登录对话框。——这对我来说听起来不错。但是在第二个登录窗口中重新输入正确的用户后，它停止工作。对话框再次打开，如果它再次不正确。在过滤器函数内没有命中断点。

知道是什么原因造成的吗？

这就是我在 web.config 中添加的内容：

```
<authentication mode="Windows"/>
<authorization>
  <deny users="?" /> <!--only allow authenticated users-->
</authorization> 
```

我想完全锁定网站，并只允许访问数据库中指定的 Windows 用户，只有他们的特定权限（角色）。我需要实现自定义逻辑来访问“用户和角色列表”。也许在 MVC4/ASP.NET 中还有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-27T20:35:49.530

# 适用于 Windows Intranet 的 ServiceStack 自定义身份验证

我整天都在反对这个问题，并提出了以下建议。

首先是用例：

您在使用 Windows 身份验证的公司 Intranet 上。您在 web.config 中设置了身份验证模式 =“Windows”，就是这样！

你的策略是这样的：

1.  您不知道用户是谁，因为他们不在您的用户表或 ActiveDirectory 组或其他任何内容中。在这种情况下，您赋予他们“客人”的角色并相应地修剪 UI。也许给他们一个电子邮件链接以请求访问。

2.  您的用户列表中有该用户，但尚未为他们分配角色。所以给他们“用户”的角色并像上面一样修剪 UI。也许他们可以看到他们的东西，但没有别的。

3.  该用户在您的列表中并且已被分配一个角色。最初，您将通过手动更新数据库中的 UserAuth 表来分配角色。最终，您将拥有一项为授权用户执行此操作的服务。

那么让我们来看看代码。

## 服务器端

在 ServiceStack 服务层中，我们根据[https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization创建一个自定义凭证授权提供程序](https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization)

```
 public class CustomCredentialsAuthProvider : CredentialsAuthProvider
        {
            public override bool TryAuthenticate(IServiceBase authService, string userName, string password)
            {
                //NOTE: We always authenticate because we are always a Windows user! 
                // Yeah, it's an intranet  
                return true;
            }

            public override void OnAuthenticated(IServiceBase authService, IAuthSession session, IOAuthTokens tokens, Dictionary<string, string> authInfo)
            {

                // Here is why we set windows authentication in web.config
                var userName = HttpContext.Current.User.Identity.Name;

                //  Strip off the domain
                userName = userName.Split('\\')[1].ToLower();

                // Now we call our custom method to figure out what to do with this user
                var userAuth = SetUserAuth(userName);

                // Patch up our session with what we decided
                session.UserName = userName;
                session.Roles = userAuth.Roles;            

                // And save the session so that it will be cached by ServiceStack 
                authService.SaveSession(session, SessionExpiry);
            }

        } 
```

这是我们的自定义方法：

```
 private UserAuth SetUserAuth(string userName)
            {
                // NOTE: We need a link to the database table containing our user details
                string connStr = ConfigurationManager.ConnectionStrings["YOURCONNSTRNAME"].ConnectionString;
                var connectionFactory = new OrmLiteConnectionFactory(connStr, SqlServerDialect.Provider);

                // Create an Auth Repository
                var userRep = new OrmLiteAuthRepository(connectionFactory);

                // Password not required. 
                const string password = "NotRequired";

                // Do we already have the user? IE In our Auth Repository
                UserAuth userAuth = userRep.GetUserAuthByUserName(userName);

                if (userAuth == null ){ //then we don't have them}

                // If we don't then give them the role of guest
                userAuth.Roles.Clear();
                userAuth.Roles.Add("guest")

                // NOTE: we are only allowing a single role here               

                // If we do then give them the role of user
                // If they are one of our team then our administrator have already given them a role via the setRoles removeRoles api in ServiceStack
               ...

                // Now we re-authenticate out user
                // NB We need userAuthEx to avoid clobbering our userAuth with the out param
                // Don't you just hate out params?

                // And we re-authenticate our reconstructed user
                UserAuth userAuthEx;
                var isAuth = userRep.TryAuthenticate(userName, password, out userAuthEx);
                return userAuth;
            } 
```

在 appHost 配置中在函数末尾添加以下 ResponseFilters

```
 ResponseFilters.Add((request, response, arg3) => response.AddHeader("X-Role",request.GetSession(false).Roles[0]));
    ResponseFilters.Add((request, response, arg3) => response.AddHeader("X-AccountName", request.GetSession(false).UserName)); 
```

这会向客户端发送一些额外的标头，以便我们可以根据用户的角色修剪 UI。

## 客户端

在客户端，当我们向服务器发出第一个请求时，我们会根据自定义身份验证的要求发布用户名和密码。两者都设置为“NotRequired”，因为我们将通过 HttpContext.Current.User.Identity.Name 知道服务器端的用户是谁。

下面使用 AngularJS 进行 AJAX 通信。

```
 app.run(function($templateCache, $http, $rootScope) {

        // Authenticate and get X-Role and X-AccountName from the response headers and put it in $rootScope.role

        // RemeberMe=true means that the session will be cached 
        var data={"UserName" : "NotRequired", "Password" : "NotRequired", "RememberMe": true };

        $http({ method : 'POST', url : '/json/reply/Auth', data : data }).
            success(function (data, status, headers, config) {
            // We stash this in $rootScope for later use!
                $rootScope.role = headers('X-Role');
                $rootScope.accountName = headers('X-AccountName');
                console.log($rootScope.role);
                console.log($rootScope.role);
            }).
            error(function (data, status, headers, config) {
                // NB we should never get here because we always authenticate
                toastr.error('Not Authenticated\n' + status, 'Error');
            });
    }; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-01T12:33:54.673

可能值得注意的是，从 4.0.21 版本开始。已实现 Windows 身份验证提供程序，如下所示：[https ://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#windows-auth-provider-for-aspnet](https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#windows-auth-provider-for-aspnet)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-03-31T20:24:50.093

**更新**在下面查看@BiffBaffBoff 的注释。看起来 Windows Auth 已经加入了。

我实现了一个非常简单的 NTLM Auth 提供程序。如果有时间，我会将其封装在一个插件中并发布在 GitHub 上。但现在：

**web.config** - 这可以防止匿名用户连接（如问题中所指出的）：

```
<system.web>
  <authentication mode="Windows" />
  <authorization>
    <deny users="?" />
  </authorization>
...
</system.web> 
```

**CredentialsAuthProvider 的简单包装器**- 其他一些身份验证逻辑需要 Credentials 或 Digest，这是最容易用作基础的：

```
public class NTLMAuthProvider : CredentialsAuthProvider
{
    public override bool IsAuthorized(IAuthSession session, IAuthTokens tokens, Authenticate request = null)
    {
        return !string.IsNullOrWhiteSpace(session.UserName);
    }
} 
```

还有一个**预请求过滤器**来查看 IIS 提供的身份：

```
 this.PreRequestFilters.Add((req, resp) =>
        {
            IAuthSession session = req.GetSession();
            if (session.UserName == null)
            {
                session.UserName = ((HttpRequestWrapper)req.OriginalRequest).LogonUserIdentity.Name;

                // Add permissions & roles here - IUserAuthRepository, ICacheClient, etc.

                req.SaveSession(session);
            }
        }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-19T16:29:18.440

您是否在配置文件的 system.web 元素中启用了模拟？

```
<identity impersonate="true"/> 
```

如果有东西试图访问受限制的资源，这可能会导致第二次失败。

您提到想要实现自定义逻辑来识别哪些用户可以访问系统。我假设

```
<allow roles="DomainName\WindowsGroup" />
<deny users="*" /> 
```

还不够。如果是，那就太好了，但除此之外，您还可以实现可能对您有所帮助的[自定义角色提供程序](http://kitsula.com/Article/Custom-Role-Provider-for-MVC)。这需要使用 Forms 身份验证而不是 Windows，但这并不一定意味着您不能使用 Windows 凭据来验证您的用户 - 这只是意味着您必须自己做一些繁重的工作。

# html - 如何在悬停时将 CSS 类应用于动态生成的提交按钮？

> ID：15243656
> 
> 赞同：20
> 
> 时间：2013-03-06T09:37:25.520
> 
> 标签：html, css, hover, mousehover

我有以下 HTML/CSS 代码，用于根据从数据库中检索到的行数显示页面。

```
.paginate {
    font-family:Arial,Helvetica,sans-serif;
    padding:3px;
    margin:3px;
}

.disableCurrentPage {
    font-weight:bold;
    background-color:#999;color:#FFF; 
    border:1px solid #999;
    text-decoration:none;color:#FFF;
    font-weight:bold;
}

.paging {
    cursor: pointer; 
    background-color: transparent;border:1px solid #999;
    text-decoration:none;
    color:#9CC;
    font-weight:bold;
}
```

```
<div class='paginate'>
    <input type="submit" name="btnFirst" value="First" 
           class="disableCurrentPage" disabled="disabled"/>
    <input type="submit" name="btnPrev" value="Previous" class="paging"/>

    <input type="submit" name="btnPage" value="1"
           class="disableCurrentPage" disabled="disabled"/>
    <input type="submit" name="btnPage" value="2" class="paging"/>
    <input type="submit" name="btnPage" value="3" class="paging"/>
    <input type="submit" name="btnPage" value="4" class="paging"/>
    <input type="submit" name="btnPage" value="5" class="paging"/>
    <input type="submit" name="btnPage" value="6" class="paging"/>
    <input type="submit" name="btnPage" value="7" class="paging"/>
    <input type="submit" name="btnPage" value="8" class="paging"/>
    <input type="submit" name="btnPage" value="9" class="paging"/>
    <input type="submit" name="btnPage" value="10" class="paging"/>

    <input type="submit" name="btnNext" value="Next" class="paging"/>
    <input type="submit" name="btnLast" value="Last" class="paging"/>
</div>
```

到此为止，毫无疑问。我想将类似于以下内容的 CSS 类应用于鼠标悬停时的所有这些按钮。

```
.button:hover {
    border:1px solid #999;
    color:#000;
} 
```

那些具有 name 属性的按钮是在循环中**动态**`btnPage`生成的。因此，我认为基于属性应用前面的CSS类是不方便的。**`id`**

 **那么，如何将此类应用于悬停按钮？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-03-06T09:39:55.087

添加以下代码

```
input[type="submit"]:hover {
    border: 1px solid #999;
    color: #000;
} 
```

如果您只需要这些按钮，那么您可以添加 id name

```
#paginate input[type="submit"]:hover {
    border: 1px solid #999;
    color: #000;
} 
```

**[演示](http://jsfiddle.net/kA2qM/3/)**

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T09:42:02.330

您可以使用的最**有效的选择器是**[属性选择器](http://reference.sitepoint.com/css/attributeselector)。

```
 input[name="btnPage"]:hover {/*your css here*/} 
```

这是一个**现场演示**：**[http ://tinkerbin.com/3G6B93Cb](http://tinkerbin.com/3G6B93Cb)**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T09:41:18.503

你有两个选择：

1.  扩展你的`.paging`类定义：

    ```
    .paging:hover {
        border:1px solid #999;
        color:#000;
    } 
    ```

2.  使用 DOM 层次结构来应用 CSS 样式：

    ```
    div.paginate input:hover {
        border:1px solid #999;
        color:#000;
    } 
    ```**

# asp.net - 经典的 ASP 加密

> ID：15243668
> 
> 赞同：0
> 
> 时间：2013-03-06T09:38:09.473
> 
> 标签：asp.net, encoding, character-encoding

下面的文本加密代码在经典 ASP 页面中运行良好，当它包含在 ASP.NET 网站中时，但在我在 IIS 中运行时抛出错误：

```
Dim encData_byte As Byte() = System.Text.Encoding.UTF8.GetBytes( Request("txtPassword"))
Dim encodedData As String = Convert.ToBase64String(encData_byte) 
```

错误由上面的第一行触发：

> 处理 URL 时服务器发生错误。请联系系统管理员。如果您是系统管理员，请单击此处了解有关此错误的更多信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T18:30:33.250

您得到的错误不是真正的错误。这只是来自服务器的消息。您需要允许“向浏览器发送错误”控制面板\管理工具 Internet 信息服务 (IIS) 管理器 -> 默认网站 -> ASP -> 调试属性并将发送错误设置为浏览器 = true

这将向您显示真正的错误和行..

或者您可以联系您的服务器技术支持并要求他们这样做。

这是一种在 ASP 中加密的简单方法

```
Function encodeString(input)
 Dim newStr : newStr = ""
 for i = 1 to len(input)
  newStr = newStr & chr((asc(mid(input,i,1))+8))
 next
 encodeString = newStr
End Function

and decrypt:

Function decodeString(input)
 Dim oldStr : oldStr = ""
 for i = 1 to len(input)
  oldStr = oldStr & chr((asc(mid(input,i,1))-8))
 next
 decodeString = oldStr
End Function 
```

**这不是最好和最快的方法，但它简单且有效**

跳这有帮助

# spring - spring3 + mybatis 自定义 typeHandler

> ID：15243669
> 
> 赞同：1
> 
> 时间：2013-03-06T09:38:11.223
> 
> 标签：spring, mybatis, typehandler

我有一个带有某些类型字段的 pojo `Set<String>`。我想将它们作为 json 保存在数据库中，所以我创建了一个自定义 typeHandler，但是当我尝试保存时，我得到了错误：没有找到 TypeHandler ...。

```
 testSave(it.infora.suap.service.MailMessageServiceTest): nested exception is org.apache.ibatis.executor.ExecutorException: There was no TypeHandler found for parameter recipients_to of statement it.infora.suap.persistence.MailMessageMapper.insertEmailMessage 
```

a中的参数recipients_to`Set<String>`

这是我的自定义 typeHandler 类：

```
public class SetTypeHandler implements TypeHandler<Set<String>>{

    @Override
    public void setParameter(PreparedStatement ps, int columnIndex, Set<String> parameter, JdbcType jt) throws SQLException {
    ps.setString(columnIndex,  serializeToJson(parameter));
    }

    @Override
    public Set<String> getResult(ResultSet rs, String columnName) throws SQLException {
        return deserializeFromJson(rs.getString(columnName));
    }

    @Override
    public Set<String> getResult(ResultSet rs, int columnIndex) throws SQLException {
        return deserializeFromJson(rs.getString(columnIndex));
    }

    @Override
    public Set<String> getResult(CallableStatement cs, int columnIndex) throws SQLException {
        return deserializeFromJson(cs.getString(columnIndex));
    }

    private String serializeToJson(Set<String> parameter){
        Gson gson = new Gson();
        return gson.toJson(parameter);
    }

    private Set<String> deserializeFromJson(String value){
        Gson gson = new Gson();
        Type collectionType = new TypeToken<Set<String>>(){}.getType();
        Set<String> result  = gson.fromJson(value, collectionType);

        return result;       
    }

} 
```

怎么了？我正在使用带注释的映射器接口而不是 mapper.xml

谢谢

安德烈亚

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T10:26:29.363

我在[这里](http://fzilic.github.com/Grails-MyBatis/guide/6%20Custom%20TypeHandlers.html)和[这里](http://mybatis.github.com/mybatis-3/configuration.html)找到了一些信息，但您似乎错过了

```
@MappedTypes(Set.class) 
public class SetTypeHandler implements TypeHandler<Set<String>>{ 
```

# java - 尝试将大型 json 数据发送到 android 中的服务器时出现 OutOfMemoryException？

> ID：15243674
> 
> 赞同：2
> 
> 时间：2013-03-06T09:38:44.387
> 
> 标签：java, android, json, out-of-memory

我正在尝试一次将多个 Json 字符串 [每个 1 MB] 发送到 PHP Server。当我尝试发送 10 条记录时，它工作正常。但如果它超过 20 条记录，它会说`OutOfMemoryException`。我看到android内存大小限制t0 15MB - 16MB。但是没有任何线索如何解决这个问题，我正在使用下面的代码一次发送多条记录。

```
 /** Upload Data*/
private void submitUploadData(String url, Map<String, String> param)
        throws IOException {
    URL siteUrl;
    try {
        siteUrl = new URL(url);
        HttpURLConnection conn = (HttpURLConnection) siteUrl
                .openConnection();
        conn.setRequestMethod("POST");
        conn.setDoOutput(true);
        conn.setDoInput(true);

        DataOutputStream out = new DataOutputStream(conn.getOutputStream());
        String content1 = ""; 

        Set getkey = param.keySet();
        Iterator keyIter = getkey.iterator();
        String content = "";
        for (int i = 0; keyIter.hasNext(); i++) {
            Object key = keyIter.next();
            if (i != 0) {
                content += "&"; //Crashing here
            }
            content += key + "=" + param.get(key); //Crashing here
            System.out.println("Content" + content);
        }

        System.out.println(content);
        out.writeBytes(content.trim());
        out.flush();
        out.close();

        BufferedReader in = new BufferedReader(new InputStreamReader(
                conn.getInputStream()));
        String jsonresponse = "";
        while ((jsonresponse = in.readLine()) != null) {
            System.out.println(jsonresponse);   
            if(!jsonresponse.equals("Authorisation Successful")){
            updateUploadRecords(jsonresponse);}

        }
        in.close();  

    } catch (MalformedURLException e) {
        e.printStackTrace();
    } 
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T10:11:19.597

乍一看，您的代码没有任何问题，但是您正在使用以浪费内存而闻名的所有可能类型的方法，并且现在您正在尝试内存不足的大型操作，这是肯定会发生的。

尖端：

*   不要用`str1 += str2 + "other val"`你刚刚在内存中创建 3 个新字符串来连接字符串。请改用 StringBuilder。
*   调用 System.gc() （有些人会建议你）对你没有帮助，因为你在一个循环中执行这个操作，而那个方法只会提示系统它可能是 GC 的好时机，但直到系统实际赶紧去做吧，你已经崩溃了。
*   如果每个 JSON 字符串大约为 1mb 并且您传递了其中的 20 个，那么您已经在具有 20mb 的旧设备上因内存不足而崩溃。您将不得不重新设计很多东西，但我的建议是删除地图，完全删除它。

相反，您应该（在创建该映射的方法上）使用某种类型的`OutputStream`来写入所有已格式化为临时文件的数据。然后，要上传，您将使用某种类型的`InputStream`来读取此文件并写入您的`DataOutputStream`

Streams 的替代方法是使用基于与流相同的方法的其他一些类，它们是：JsonWriter/JsonReader，但是如果不是特定的 Json，那么你也有 FileWriter/FileReader，并且不要忘记总是用 BufferedReader 和 BufferedWriter 包装它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:09:50.457

通过个人经验发现，超过一定的大小（取决于设备），使用字符串连接来形成/下载实体是不可行的。

在您的情况下，使用[JsonWriter](http://developer.android.com/reference/android/util/JsonWriter.html)会有所帮助。它将 json 令牌写入流，不会占用额外的内存。当您下载庞大的 json 文档时，请使用[JsonReader](http://developer.android.com/reference/android/util/JsonReader.html)。

我已经成功地使用了这两个类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:41:29.720

也许它受到虚拟设备内存大小的限制！？

你试过给它更大的内存吗！？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:46:03.140

您正在使用对象迭代它。你有他们保留副本等的风险......回到基础并尝试使用该功能`String.split('');`，然后通过正常循环迭代它。然后你知道哪些对象在内存中。进行拆分时，您会得到两个占用内存的对象，即原始字符串和拆分产生的数组。

在您拆分原始字符串的那一刻，您可以将原始字符串设置`null`为为垃圾收集器释放内存（甚至可以调用`System.gc()`）

然后只需简单地循环遍历字符串，通过操作进行操作，使占用空间尽可能小。

# c++ - 在左侧创建菜单

> ID：15243679
> 
> 赞同：0
> 
> 时间：2013-03-06T09:38:59.267
> 
> 标签：c++, blackberry-10, blackberry-cascades

在这里： http: [//developer.blackberry.com/cascades/documentation/ui/navigation/single_screen.html#joh1349181654901](http://developer.blackberry.com/cascades/documentation/ui/navigation/single_screen.html#joh1349181654901) 我学会了如何在*右侧*创建一个操作菜单。我想创建一个类似的菜单，但是从左侧显示。有人可以帮忙怎么做吗？

附言。顺便说一句。有谁知道是否可以在菜单项中添加“部分”（或分隔符）？喜欢：

```
UserPage
 Item1
 Item2
SettingsPage
 Item1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T21:05:48.420

据我所知，这是不可能的，当然也不推荐。黑莓 10 有一个严格的[UI GuideLine](https://developer.blackberry.com/devzone/files/design/bb10/UI_Guidelines_BlackBerry_10.pdf)，告诉*操作*应该放在*右边*，而*选项卡*放在*左边*。

# sql - SQL - 将 varchar 值转换为 Int 时转换失败

> ID：15243681
> 
> 赞同：0
> 
> 时间：2013-03-06T09:39:08.087
> 
> 标签：sql, sql-server

我正在将`varchar`值传递给 SQL 函数。

但我得到这个错误：

> *将 varchar 值“201,505,59,43,2202”转换为数据类型 int 时，消息 245，级别 16，状态 1，行 2转换失败。*

示例代码：

```
Declare @Fault Varchar(Max) = '201,505,59,43,2202'

Select * 
From EventMsg 
Where Event IN (Convert(Int, @Fault)) 
```

我尝试了两个`CAST`&`CONVERT`功能......但同样的错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:41:56.243

如果您将逗号分隔的整数值列表作为字符串传递并希望使用每个值，那么您将需要编写一个类似于 .NET 世界中的 String.Split 的函数。

Stack Overflow 上有很多关于这个的答案，这里有一些

*   [T-SQL中等效的拆分函数？](https://stackoverflow.com/questions/697519/split-function-equivalent-in-tsql)
*   [T-SQL 拆分字符串](https://stackoverflow.com/questions/10914576/tsql-split-string)
*   ... ETC

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:43:31.980

另一种方法是声明表变量：

```
DECLARE @errorCodes AS TABLE (
    err INT
)
INSERT INTO @errorCodes (err) VALUES (1), (2), (3)

Select * From EventMsg Where Event IN (SELECT err FROM @errorCodes) 
```

# javascript - 用于选择展开/折叠的 jQuery/javascript 事件？

> ID：15243685
> 
> 赞同：3
> 
> 时间：2013-03-06T09:39:19.563
> 
> 标签：javascript, jquery, html

选择元素展开/折叠时是否会触发事件？

我只是想在它展开时更改其容器的背景颜色，并在它折叠时恢复原始颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:43:35.173

只使用css

```
select:active {
   background-color: blue;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:43:38.657

不，没有，但是您可以使用 jQuery 中的[触发](http://api.jquery.com/trigger/)函数触发您自己的事件，这将触发您可以定义的自定义事件。

您也可以只检查折叠的 div[是否可见](http://api.jquery.com/is/)，[添加一个类](http://api.jquery.com/addClass/)或使用[数据](http://api.jquery.com/data/)API。

或者只是像 David Fregoli 所说的那样使用[CSS 。](https://developer.mozilla.org/en-US/docs/CSS/%3aactive)

# iphone - 为什么我不能直接向 UIScrollView 添加东西？

> ID：15243687
> 
> 赞同：0
> 
> 时间：2013-03-06T09:39:21.830
> 
> 标签：iphone, objective-c, ios5

我是 iOS 编程新手，也许我不完全理解`UIScrollView`. 根据我的研究，制作滚动视图的所有方法都包括将 a`UIView`或嵌入`UIImageView`到`UIScrollView`. 但是，我不知道是否有办法直接将对象（`UILabel`，`UIButton`...）拖到`UIScrollView`. 如果 的大小`UIScrollView`设置为大于屏幕，则 上的所有内容`UIScrollView`都是可滚动的。再说一次，这就是我的全部想法，我没有找到任何帖子来证实或否认这一点。我认为如果可能的话，这是设置可滚动屏幕的最简单方法。

如果那不可能，谁能指出一种简单的方法来滚动一长串`UIButton`s （仅垂直）？我发现了很多教程，但大多数都是用于滚动 a 的`UIImageView`，我不能采用`UIView`包含 s 列表的方法`UIButton`。非常感谢你帮助我。

我处于 iOS 5 和情节提要模式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:45:15.410

因为`UIImageView`, `UILabel`,`UIButton`是`UIView`您可以使用方法添加这些类的实例的后代`addSubview:`。

您还需要正确设置视图的框架。

如果您希望可滚动内容大小大于屏幕大小，则需要将 scrollView.contentSize 设置为所需值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:47:35.650

有缘由。案例`UILabel`，`UIButton`...是`subClass`的`UIView`。您可以添加`UIView`到`ScrollView`，也可以添加它们。这样做`UIScrollView`，因为它也来自`UIView`。

使用`View`包含`button`让您轻松管理按钮。

您应该计算按钮的所有框架。如果它们具有相同的布局功能，您想使用`tableView`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:43:10.783

`Scrollview`非常适合`documents`, `images`, `webviews`, 等...

但是对于布局 UI 来说有点痛苦。

如果您只是`buttons`垂直布局，那么您可能希望查看使用`UITableView`来为您管理布局。

`UITableView`不仅仅是显示数据列表。

如果你想坚持，`scrollView`那么你可以创建一个新的`UIView`nib 文件并使其成为你想要的完整大小。将所有按钮拖入其中，然后将其`UIView`放入您的`scrollView`使用代码中。

这样，您已经完成了 IB 拖动按钮的布局，但仍然使用代码将所有这些`buttons`等放入`scrollview`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T10:09:33.057

在情节提要中，我建议不要将 UILabel 等直接添加到滚动视图中。可以做到，但我发现在滚动视图的包含视图中直接只有一个视图（或非常少）更容易。特别是当单个视图大于屏幕时。

这就是为什么我建议创建一个普通的 UIView 对象。使用自由式大小在 IB 中绘制 UIView。那应该是滚动视图的唯一直接子视图。在该视图中，您可以轻松地排列和重新排列所有 ui 项目。但请确保您不使用自动布局，并且您的视图不会调整子视图的大小，并且滚动视图不会自动调整子视图的大小。否则，您正确布局的视图（应该大于屏幕）可能会被压缩到屏幕（分别是窗口的可用部分）尺寸中。

# android - 如何在 Android 中解析 Parse.com 中的数组

> ID：15243689
> 
> 赞同：2
> 
> 时间：2013-03-06T09:39:34.777
> 
> 标签：android, arrays, nullpointerexception, parse-platform

我在 Android 中的最终项目遇到了一点问题，如果有人能提供帮助，我将不胜感激。

我创建了一个 Parse.com 数据库，其中包含一个“会话”表，每当我的应用程序中的一个新会话开始时，我都会在其中创建一个新行。在这一行中，有一列得到一个整数数组。

我的问题是如何从这个数组中获取单个数组值。

所以这是我的 Start-Activity，它将新对象放入我的 parse.com 表中：

```
package de.lichtenberger.gottschalk.android;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;

import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.Toast;

import com.parse.FindCallback;
import com.parse.Parse;
import com.parse.ParseObject;
import com.parse.ParseQuery;

public class Liedwahl_Git extends Activity {

    private ArrayList<ParseObject> list;
    private ArrayList<SongData> details;
    private SongDataAdapter adapter;
    private ListView songListView;
    public Button ok;
    private EditText sessionText;
    public Boolean[] ableToPlay = new Boolean[30];

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_liedwahl);

        Parse.initialize(this, "XxXxXxX", "xXxXxX"); 
        setupUI();
        new createListTask().execute();
        for(int i = 0; i<=29; i++){
            ableToPlay[i] = false;
        }

    }

    private void setupUI() {
        songListView = (ListView) findViewById(R.id.listeCheck);
        ok = (Button)findViewById(R.id.OkButton);
        ok.setVisibility(View.INVISIBLE);
    }

    private void setupOnClickListeners() {

        sessionText = (EditText)findViewById(R.id.newSession);

        ok.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                if(sessionText.getText().toString().isEmpty()){

                    Toast.makeText(getApplicationContext(), "Bitte Sessionname angeben!", Toast.LENGTH_SHORT).show();

                }else{

                    ParseObject session = new ParseObject("Sessions");
                    session.put("Name", sessionText.getText().toString());
                    session.put("Online", true);

                    for(int i = 0; i<=29; i++){

                        if(ableToPlay[i]==true){
                            session.addUnique("AbleToPlay", i);
                        }
                    }

                    session.saveInBackground();

                    Intent lagerfeuer = new Intent(Liedwahl_Git.this, Lagerfeuer_Lieder.class);

                    lagerfeuer.putExtra("ParseOb", sessionText.getText().toString());
                    Log.d("Parse", sessionText.getText().toString());
                    startActivity(lagerfeuer);

                }

            }
        });

    }

    private class createListTask extends AsyncTask<Void,Void,Integer>{

        ProgressDialog dialog;

        @Override
        protected void onPreExecute() {
            dialog = new ProgressDialog(Liedwahl_Git.this);
            dialog.setMessage("Please wait, while loading!");
            dialog.setIndeterminate(true);
            dialog.setCancelable(false);
            dialog.show();

        }

        @Override
        protected Integer doInBackground(Void... arg0) {

            list = new ArrayList<ParseObject>();
            ParseQuery query = new ParseQuery("SongDatenbank");
            details = new ArrayList<SongData>();
            query.orderByAscending("IDS");

            query.findInBackground(new FindCallback() {
                SongData songDatas;

                @Override
                public void done(List<ParseObject> objects,
                        com.parse.ParseException e) {
                    if (e == null) {
                        Log.d("Parse", "Objektliste empfangen!");
                        list = (ArrayList<ParseObject>) objects;
                        int j = 0;
                        for (int i = 0; i < list.size(); i++) {
                            String artist = list.get(i).getString("artist");
                            String title = list.get(i).getString("title");
                            String duration = list.get(i).getString("duration");
                            String imageUrl = list.get(i).getString("imageUrl");
                            String anzahlObjekte = String.valueOf(j);
                            Log.d("Parse", "Artist: " + artist);
                            Log.d("Parse", "Title: " + title);
                            Log.d("Parse", "Duration: " + duration);
                            Log.d("Parse", "URL: " + imageUrl);
                            Log.d("Parse", "AnzahlObjekte: " + anzahlObjekte);
                            j++;

                            // /////////////////////////////////////////////////////////////////////////////////////////////
                            // /String in parse.com darf nicht l√§nger als 120
                            // Zeichen sein, sonst NullPointerException!!!//
                            // ////////////////////////////////////////////////////////////////////////////////////////////

                            songDatas = new SongData(title, artist, duration,
                                    imageUrl);
                            details.add(songDatas);

                        }

                    } else {
                        Log.d("Parse", "Objektliste empfangen gescheitert!");

                    }
                    adapter = new SongDataAdapter(details, Liedwahl_Git.this);
                    songListView = (ListView)findViewById(R.id.listeCheck);
                    songListView.setAdapter(adapter);

                    songListView.setOnItemClickListener(new OnItemClickListener() {
                        public void onItemClick(AdapterView<?> arg0, View arg1,
                                int position, long arg3) {

                            Log.d("Parse", "Item"+position+"geklickt");

                            songListView.setItemChecked(position, true);

                            if (ableToPlay[position]==true) {
                                ableToPlay[position]=false;
                                Log.d("Parse", position + "unchecked");
                            }else {
                                ableToPlay[position]=true;
                                Log.d("Parse", position + "checked");
                            }

                        }

                    });

                }

            });

            return 1;
        }

        protected void onPostExecute(Integer result){
            ok.setVisibility(View.VISIBLE);
            setupOnClickListeners();
            dialog.dismiss();

        }

    }

} 
```

这是我尝试接收该数组的活动：

```
package de.lichtenberger.gottschalk.android;

import java.util.ArrayList;
import java.util.List;

import android.app.Activity;
import android.content.Intent;
import android.net.ParseException;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.animation.Animation;
import android.view.animation.TranslateAnimation;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.ImageView;

import com.parse.FindCallback;
import com.parse.GetCallback;
import com.parse.Parse;
import com.parse.ParseObject;
import com.parse.ParseQuery;

public class Lagerfeuer_Lieder extends Activity {

    private ImageButton navLyrics;
    private ImageButton navTune;
    private ImageButton navMusic;
    private ImageButton navChords;
    private ImageView guitar;
    private Button test;
    private String sessionName;
    private ParseObject songList;
    private String ableToPlay;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_lagerfeuer__lieder);

        Parse.initialize(this, "hGxasGU6e0WQAOh5JIOGDfvFBKrYyBJKXIzxBfAG", "WsOPsXerpsFjsjekKKbZnnjAHvXy5PQHVQEB8Cqu");

        setupUI();
        setupOnClickListeners();

        getSongList();

    }

    private void getSongList() {
        sessionName = getIntent().getExtras().getString("ParseOb");

        ParseQuery pq = new ParseQuery("Sessions");
        pq.whereEqualTo("Name", sessionName);

        pq.getFirstInBackground(new GetCallback() {

            @Override
            public void done(ParseObject object, com.parse.ParseException e) {

                songList = object;
                ableToPlay = songList.getString("AbleToPlay");
            }
        });

        Log.d("Parse", songList.get("AbleToPlay").toString());

    }

    private void setupOnClickListeners() {

        navLyrics.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                Intent navToLyrics = new Intent(Lagerfeuer_Lieder.this, Lyrics.class);
                navToLyrics.putExtra("BackButton", R.string.main);
                startActivity(navToLyrics);

            }
        });

        navTune.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                Intent navToTune = new Intent(Lagerfeuer_Lieder.this, Tune.class);
                startActivity(navToTune);

            }
        });

        navMusic.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                Intent navToMusic = new Intent(Lagerfeuer_Lieder.this, Music.class);
                startActivity(navToMusic);

            }
        });

        navChords.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                Intent navToChords = new Intent(Lagerfeuer_Lieder.this, Chords.class);
                startActivity(navToChords);

            }
        });

    }

    private void setupUI() {

        navLyrics = (ImageButton)findViewById(R.id.navlyrics);
        navTune = (ImageButton)findViewById(R.id.navtune);
        navMusic = (ImageButton)findViewById(R.id.navmusic);
        navChords = (ImageButton)findViewById(R.id.navchords);
        guitar = (ImageView)findViewById(R.id.guitar);

        Animation animation = new TranslateAnimation(0, 500,0, 0);
        animation.setDuration(1000);
        animation.setFillAfter(true);
        guitar.startAnimation(animation);
        guitar.setVisibility(0);
        Log.d("Parse", getIntent().getExtras().getString("ParseOb"));

    }

    private void animation() {
        // TODO Auto-generated method stub

    }

    @Override
    protected void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
        String objID = getIntent().getExtras().getString("ParseOb");
        Log.d("Parse", objID);
        ParseQuery pq = new ParseQuery("Sessions");
        pq.getInBackground(objID, new GetCallback() {

            @Override
            public void done(ParseObject arg0, com.parse.ParseException arg1) {
                ParseObject toDest = arg0;
                try {
                    toDest.delete();
                } catch (com.parse.ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }

            });

    }

} 
```

在这里你可以看到eclipse实际上得到了带有数组值的对象：

![蚀](../Images/27ea578669a545044d889aaba65c0fc2.png)

希望有人知道如何解决这个问题。谢谢转发！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:50:25.847

问题在下面的代码中

```
pq.getFirstInBackground(new GetCallback() {

            @Override
            public void done(ParseObject object, com.parse.ParseException e) {

                songList = object;
                ableToPlay = songList.getString("AbleToPlay");
            }
        }); 
```

请检查/调试使用方法`getFirstInBackground`调用接口`GatcallBack`的`done`方法。因此，如果将 ParseObject 返回为 null，则更有可能获得 NullPointerException。

在这里调试会帮助你很多

# matlab - 更新向量中的单个元素

> ID：15243691
> 
> 赞同：1
> 
> 时间：2013-03-06T09:39:45.367
> 
> 标签：matlab, matrix

我正在为一些逻辑/语法苦苦挣扎......我有一个模拟程序，它可以确定墨水在通过一些滚筒时的厚度。我想添加一些功能，但似乎无法访问我想要的 1xN 向量中的元素。我认为我的问题出在此处：

```
% # Iterate through timesteps
for tt = 2:nTimeSteps
% # Fill first roller with ink
rollers(1).ink = ones(1,nBins(1));

% # Rotate all rollers
for ii = 1:N
        rollers(ii).ink(:) = ...
            circshift(rollers(ii).ink(:),rollers(ii).rotDirection);
end

% # Update all roller-connections
for ii = 1:N
    for jj = 1:nBins(ii)
        if(rollers(ii).connections(jj) ~= 0)
            index1 = rollers(ii).connections(jj);
            index2 = find(ii == rollers(index1).connections);
            ink1 = rollers(ii).ink(jj);
            ink2 = rollers(index1).ink(index2);
            rollers(ii).ink(jj) = (ink1+ink2)/2;
            rollers(index1).ink(index2) = (ink1+ink2)/2;
        end
    end
end

% # Calculate average amount of ink on each roller
for ii = 1:N
    averageAmountOfInk(tt,ii) = mean(rollers(ii).ink);

end
end 
```

第一个滚筒“充满墨水”的部分 - 滚筒被分成整数段（nBins），我希望只有元素 13,14 和 15 上面有墨水（其余为零）。行向量长度为​​ 1x95。我似乎无法做到这一点。我尝试了各种方法，我认为最有希望的是创建一个零矩阵，然后是：

```
rollers(1).ink(13) = 1; 
```

等等......紧跟在“填充墨水”部分之后。这似乎没有做任何事情（甚至没有错误）我也对程序的输出有类似的问题 - 我只想在一定百分比的滚筒表面上“接受”墨水。（比如大约 70% ) 对我来说主要的挫败感是我知道我想操作的数据就在那里——我就是无法理解！一如既往，非常感谢任何建议！提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:51:31.920

有几种方法可以创建一个全为零的 1x95 向量，除了元素 13、14 和 15：

使用临时变量：

```
I = zeros(1, 95);
I(13 : 15) = 1; 
```

直接使用连接：

```
[zeros(1, 12), ones(1, 3), zeros(1, 80)] 
```

我会去串联：

```
rollers(1).ink = [zeros(1, 12), ones(1, 3), zeros(1, 80)]; 
```

# google-maps - 路由/距离矩阵策略

> ID：15243692
> 
> 赞同：0
> 
> 时间：2013-03-06T09:39:47.633
> 
> 标签：google-maps, google-maps-api-3

我目前正在开发一个使用免费的 Google Maps API（不是 Google Maps for Business API！）的应用程序。

为此，我正在使用：1\. 地理编码 2\. 地图显示 2\. 距离矩阵 3\. 路由服务（在此处查找信息：[https](https://developers.google.com/maps/documentation/webservices/) ://developers.google.com/maps/documentation/webservices/ ）

由于使用限制（结帐developers.google.com/maps/licensing），谷歌建议1.的客户端地理编码如下所述： [https ://developers.google.com/maps/articles/geocodestrat](https://developers.google.com/maps/articles/geocodestrat)

如 2.,3\. 4.请求也很有限我想了解“去客户端”策略是否也适用于这些服务？

如果是，我们的问题就迎刃而解了！

不幸的是，我在谷歌网站上找不到任何关于这些限制是如何计算的信息（例如，每个 IP 地址意味着客户端很好）

如果没有，我们将很快需要寻找不同的提供商，因为这些服务的营业执照目前超出了我们的预算。

谢谢你的帮助！

# opencv - OpenCV中的ClassifierCascade类和CVCascadeClassifier类

> ID：15243695
> 
> 赞同：0
> 
> 时间：2013-03-06T09:39:54.093
> 
> 标签：opencv

我在 OpenCV-2.4.2 源代码中发现了这一点。
中有一个 ClassifierCascade 类的实现`modules\objdetect`。但是在应用程序中`\traincascade\`，它实现了一个 CVCascadeClassifier 类，而不是使用 ClassifierCascade 类。

**为什么应用程序不使用库中的类。**
**他们之间有什么区别。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:23:42.407

ClassifierCascade 类`modules\objdetect`仅包含检测方法。而来自的 CVCascadeClassifier`apps \traincascade\`仅包括训练方法。

# jenkins - Jenkins/Build 工作流：将一个并行执行的作业的结果提供给多个作业

> ID：15243705
> 
> 赞同：2
> 
> 时间：2013-03-06T09:40:25.193
> 
> 标签：jenkins, build, continuous-integration, hudson, jenkins-workflow

尝试在 Jenkins 中实现以下工作流程：触发器启动并行作业 A、B、C 和 D。一旦 A、B 和 C 完成作业 X 应该开始，对于作业 Y 也是如此，它应该在 C 和 D 之后开始.

工作流程草图：

```
 -> A -> 
 Trigger  -> B -> X -> Result 1
          -> C =>
          -> D -> Y -> Result 2 
```

我从[Build Flow Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Build+Flow+Plugin "Jenkins 构建流程插件")开始，但我不知道如何在不启动 C 两次的情况下设计工作流程：

```
parallel (
  { 
     Xpre = parallel ([
        first:  { a = build("TGZ", subjob: "T1") },
        second: { b = build("TGZ", subjob: "T2") },
        third:  { c = build("TGZ", subjob: "T3") }
     ])

     build("TGZ", subjob: "X")
  },
  {
     Ypre = parallel ([
        third2:  { c2 = build("TGZ", subjob: "T3") },
        fourth:  { d = build("TGZ", subjob: "T4") }
     ])

     build("TGZ", subjob: "Y")
  }
) 
```

关于如何在不运行 C 两次的情况下设计此工作流程的任何线索？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T15:12:55.147

构建流程在这里无济于事，因为您有两个作业（X 和 Y）正在等待 C 完成，因此不是“线性”（不确定这是不是适当的术语）依赖树，而是一个复杂的图。您正在寻找一个更复杂的*异步*模型，该模型（尚未）由构建流实现。也许可以稍后引入，但在这个开发阶段的优先级较低：

```
 parallel( [
        a:  { build("TGZ", subjob: "T1") },
        b: { build("TGZ", subjob: "T2") },
        c:  { build("TGZ", subjob: "T3") }
     ])
   .on( jobs[a].completed && jobs[b].completed && jobs[c].completed ) { build(x) } 
   .on( jobs[c].completed && jobs[d].completed ) { build(y) } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-02T12:40:52.430

[这在较新的Workflow 插件](https://github.com/jenkinsci/workflow-plugin)中是可能的，尽管仍然很尴尬：

`def aDone = false def bDone = false def cDone = false def dDone = false parallel a: { runA() aDone = true }, b: { runb() bDone = true }, c: { runC() cDone = true }, d: { runD() dDone = true }, x: { waitUntil {aDone && bDone && cDone} runX() }, y: { waitUntil {cDone && dDone} runY() }`

[JENKINS-27127](https://issues.jenkins-ci.org/browse/JENKINS-27127)讨论了可能的增强功能。

# android - 如何使 json 响应返回 {} 而不是 null

> ID：15243713
> 
> 赞同：0
> 
> 时间：2013-03-06T09:40:41.687
> 
> 标签：android, ruby-on-rails, json, ruby-on-rails-3

我正在使用返回项目列表的构建器在 ror 中编写一个 API，该 API 将由移动设备使用。

当我的列表为空时，我在标签中得到一个空值，我需要它是 {}，请参阅下面的代码

```
 xml.my_items{
     if @items.blank? 
        {}
     else 
       @items.each do |item|
         xml.item{
           xml.id(item.id)
           xml.name(item.name)
        }
      end
     end
     } 
```

我得到的回应是

```
{"items":null} 
```

我希望它是

```
{"items":{}} 
```

# ms-access - 子报表查询中共享参数的单个提示参数

> ID：15243720
> 
> 赞同：0
> 
> 时间：2013-03-06T09:41:10.997
> 
> 标签：ms-access, parameters, report

我在主报告中放了两个子报告。主报告很好，但`[Enter Year]`参数出现了两次：每个子报告的查询出现一次。这是正常的，我可能可以通过编写代码将其简化为一个提示。

但是我想一定有办法给一个命名参数一次，子报表查询就会捡起来使用。我想要一个非代码方法来做到这一点，因为接下来我将为许多具有共享参数的子报告做一个类似的收集报告。

我试过： 1.将主窗体上的文本字段的控制源设置为`=[Enter Year]`根本不会引起提示。2.将主窗体的数据源设置为`SELECT * FROM <common table> WHERE year=[Enter Year]`提示并跳过子报表的数据源，但奇怪的是导致子报表页面无限重复。

这适用于 Access 2003。

**编辑：** 1.上面不起作用，因为我希望“提示重用”出现在查询中。如果不是将参数用作（标准“时间段”）过滤器，我当然可以将文本字段设置为父项的值。

现在，我将主报告基于一个简单的查询，该查询将提示的参数作为一列包含在内。但出于某种原因，Access 表示对列 (tmpYear) 的引用是“可疑的”/“明确的”（我没有运行英语 Access）。这可能是因为当子报表查询需要时，主报表查询中的列并未“完成”。

对我来说，这将问题更改为：***如何将主报告文本字段的值获取到子报告的查询中***。

**编辑2：** 我现在明白有两种方法可以解决这个问题：a）编写一个返回提示值的全局函数，并在查询设计中使用该函数。b) 保留带参数的原始查询，并将 myQueryDef.Parameters("") 设置为提示值。

***...除了 b) 仍然给出子查询提示。***

（我很抱歉提出这个零碎的问题，但也许它会匹配这样一个发现他人的旅程。如果你愿意，我可以发布一个新的简短问题，说明为什么 b）不起作用。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T15:49:29.880

这似乎是可能的（至少根据我对您问题的理解）。

您需要将参数放在**主报告后面的查询**中，并使其作为一个字段出现：

```
SELECT YearParam:[Enter Year], <<Other Fields Here>> FROM <<Table NAME>> 
```

然后在主报表上，在**报表标题**中放置一个文本框，其中包含字段名称（YearParam）的控制源，并命名文本框（例如txtYearParam）。

现在，在**子报告**（或报告过滤器）后面的每个查询中，使用以下语法使其查看主报告文本框：

```
Reports!ReportName.txtYearParam 
```

我使用带有 2 个子报告的非常基本的报告对此进行了测试，并且该参数仅出现一次并正确过滤。

# java - 运行 jms 队列时，生产者发送消息，消费者获取消息，但未显示消息

> ID：15243721
> 
> 赞同：1
> 
> 时间：2013-03-06T09:41:13.740
> 
> 标签：java, jms, activemq, producer-consumer, jms-topic

嗨，我有 java 代码，它有一个生产者和一个消费者。生产者将消息发送到队列，消费者也收到消息，但我不知道为什么不显示消息。我正在使用 activeMQ 并且因为我没有收到消息所以我在 http:/localhost:8161/admin/queues.jsp 中签入，它显示队列有生产者和消费者但是消息没有打印在命令提示符。请告诉我

生产者.java

```
import javax.jms.*;
import org.apache.activemq.ActiveMQConnection;
import org.apache.activemq.ActiveMQConnectionFactory;

public class Producer {

    private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;
    private static String subject = "test";

    public static void main(String[] args) throws JMSException {

        ConnectionFactory connectionFactory =
            new ActiveMQConnectionFactory(url);
        Connection connection = connectionFactory.createConnection();
        connection.start();

        Session session = connection.createSession(false,
            Session.AUTO_ACKNOWLEDGE);
        Destination destination = session.createQueue(subject);
        MessageProducer producer = session.createProducer(destination);

        TextMessage message = session.createTextMessage("this is a g message");
        producer.send(message);

        System.out.println("Sent message '" + message.getText() + "'");
System.out.println( ActiveMQConnection.DEFAULT_BROKER_URL);
        connection.close();
    }
} 
```

消费者.java

```
import javax.jms.*;

import org.apache.activemq.ActiveMQConnection;
import org.apache.activemq.ActiveMQConnectionFactory;

public class Consumer {

    private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;
    private static String subject = "test";

    public static void main(String[] args) throws JMSException {

        ConnectionFactory connectionFactory
            = new ActiveMQConnectionFactory(url);
        Connection connection = connectionFactory.createConnection();
        connection.start();

        Session session = connection.createSession(false,
            Session.AUTO_ACKNOWLEDGE);

        Destination destination = session.createQueue(subject);
        MessageConsumer consumer = session.createConsumer(destination);
        Message message = consumer.receive();

        if (message instanceof TextMessage) {
            TextMessage textMessage = (TextMessage) message;
            System.out.println("Received message '"
                + textMessage.getText() + "'");
        }
        connection.close();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-22T22:52:32.793

在我看来，代码应该可以工作。不是很明显，但是您确定您在同一系统上运行生产者和消费者吗？您连接到的默认代理 URL 依赖于 localhost - 因此显然生产者和消费者必须在同一个系统上。您确定您的独立 java 应用程序正在连接到 activeMQ 服务器并成功创建连接吗？

如果是，那么您**[可以通过 jmx 连接](http://fusesource.com/kbs/show/?id=193608-how-to-connect-to-activemq-jmx-using-jconsole-remotely)** 并检查队列中的以下指标：

Enqueue count - 显示在队列上发布的消息数 ->*确认您的生产者是否正在发布*
Dequeue count - 显示已消费但未确认的消息数 ->*确认您的消费者是否已消费*
Dispatch count - 显示已消费的消息数和acked ->*确认你的消费者已经确认，即消费者在消费时没有抛出一些异常，导致它无法确认消息。*

如果一切正常，这些计数应该都相等。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T14:36:57.210

你必须`implement` `MessageListener`

```
public class Consumer implements MessageListener 
```

你需要`onMessage`像这样覆盖：

```
@Override
    public void onMessage(Message message) {

        if(message instanceof TextMessage){
                  //DO something
   }
} 
```

在设置此消费者时，您需要执行以下操作：-

```
ActiveMQConnectionFactory connectionFactory= new ActiveMQConnectionFactory(ActiveMQConnection.DEFAULT_BROKER_URL);
Connection jmsConnection = connectionFactory.createConnection(userName,passWord);

            jmsConnection.start();
            Session jmsSession =  jmsConnection.createSession(false, Session.AUTO_ACKNOWLEDGE);

            Destination destination = jmsSession.createQueue(queuname);

            //Subscribing to a Topic
            MessageConsumer msgConsumer = jmsSession.createConsumer(destination);
            msgConsumer.setMessageListener(this); 
```

**编辑**
此代码将在消息到达队列后立即继续收听消息。您可以在 main 方法中添加此块，这将起作用。希望这可以帮助。

# android - Android中的浮点向量化

> ID：15243722
> 
> 赞同：1
> 
> 时间：2013-03-06T09:41:15.330
> 
> 标签：android, android-ndk, arm, vectorization, neon

我正在计算从维度（10-39）点到数组的距离的很多实例。我希望它尽可能快地运行，适用于 Android 4.0+，特别是 Galaxy S3。我已经让硬件 FPU 工作了，但在某处听说你可以通过矢量化和霓虹灯加快速度。像这个[Android 构建系统、NEON 和非 NEON 构建](https://stackoverflow.com/questions/7679363/android-build-system-neon-and-non-neon-builds)这样的问题并没有给我一个简单的答案。

什么是我可以在 S3 中使用这种矢量化的最简单方法，并举例说明这种计算的加速（n 暗点距离到 n 暗矢量）。

这是循环代码：

```
// go through each point in the vector
for (bi=0; bi<sizeOfVect; bi++) { 
    r[bi] = 0.0; // initialise distance

    //calculate distance in each dimension (d is 10-39 depending)
    for (di=0; di<d; di++) { 
        rj[di] = s1[i*d+di] - b[bi*d+di]; 
            // s1 is the n dim point, b is the vector array
        r[bi] += rj[di]*rj[di];
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T06:34:35.113

您有两种选择从 CPU 获得矢量化（专注于 ARM）；编译器可以帮助您，或者您自己做。

您可以通过编写程序集或使用[内在函数在 ARM CPU 中使用](http://gcc.gnu.org/onlinedocs/gcc/ARM-NEON-Intrinsics.html)[向量指令 (NEON)](http://blogs.arm.com/software-enablement/161-coding-for-neon-part-1-load-and-stores/)。

你可以从编译器那里得到帮助，但你必须编写可向量化的代码。有关如何获取此信息的示例，请参见此[帖子](https://stackoverflow.com/q/15225470/1163019)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:56:18.240

要使用 GPU 为您执行计算，有两种方法：

*   [NDK](http://developer.android.com/tools/sdk/ndk/index.html)：您将使用 Android 本机开发工具包在 C++ 中创建代码，并调用特定于该硬件 (NEON) 的代码来加速您的算法。
*   [Renderscript](http://developer.android.com/guide/topics/renderscript/compute.html)：您将使用 Renderscript 计算 API 来处理所有数据，并让框架在 CPU 和 GPU 之间为您自动并行化它

我从来没有使用过它们中的任何一个，但是如果我必须为特定应用程序选择一条路线，我会尝试使用 renderscript，因为它是所有设备类型解决方案的一个代码（适用于 ICS 及更高版本）

# sql-server - 测试一个动作是否是触发器中的更新

> ID：15243727
> 
> 赞同：0
> 
> 时间：2013-03-06T09:41:21.867
> 
> 标签：sql-server, sql-server-2008, triggers

当执行删除/更新/插入操作时，我为表创建了触发器。

要测试它是否是删除，我使用以下语句：

```
if exists(select * from deleted) 
```

如果它是一个插入：

```
if exists(select * from inserted) 
```

但是我如何测试它是否是更新

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:42:54.460

```
 SET @action = 'I'; -- Set Action to Insert by default.
    IF EXISTS(SELECT * FROM DELETED)
    BEGIN
        SET @action = 
            CASE
                WHEN EXISTS(SELECT * FROM INSERTED) THEN 'U' -- Set Action to Updated.
                ELSE 'D' -- Set Action to Deleted.       
            END
    END
    ELSE 
    BEGIN
        IF NOT EXISTS(SELECT * FROM INSERTED) -- New record inserted.
             SET @action = 'I';
    END 
```

# javascript - Css/Js：在屏幕左侧放置一个工具栏，不与现有页面元素重叠

> ID：15243732
> 
> 赞同：0
> 
> 时间：2013-03-06T09:41:33.607
> 
> 标签：javascript, html, css

我正在开发一个插件，帮助设计师/前端开发人员为设计中的不同元素选择颜色。我不想详述知道。主要思想是，他们在 html 正文中插入一个 javascript 文件，该脚本将在页面上创建一种工具栏。我希望这个工具栏出现在屏幕的左侧，但**不与页面上的现有元素重叠**。所以（可能）我必须将整个身体向右移动 N 像素（如果工具栏是 N 像素宽）。

这是一个半生不熟的演示：http: [//jsbin.com/ifizal/2/edit](http://jsbin.com/ifizal/2/edit)

基本上我为正文设置了左边距。假设页面上没有元素，它工作正常`position: absolute`。如果有，设计就会被破坏。那么如何将整个身体向右移动，包括定位的元素`absolute`？

欢迎任何其他方法，主要问题是：

**将工具栏放置在屏幕左侧（N 像素宽），但不与现有页面元素重叠。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:57:19.883

创建元素，将其作为第一个元素附加到正文中，并将 margin-left 添加到正文。

演示：http: [//jsbin.com/ifizal/3/edit](http://jsbin.com/ifizal/3/edit)

HTML

```
<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>JS Bin</title>
</head>
<body>
  <div id="placeHolder"></div>
  Hello world!
  <br/><br/>
  <button onclick="javascript:addToolbar();">addToolbar</button>
</body>
</html> 
```

CSS

```
html, body
{
    height: 100%;
}

body {
  background: #fff;
  margin: 0;  
}

#toolbar {
  position: absolute;
  background: #f6f6f6;   
  width: 60px;
  height: 100%;  
  left: 0;
  top: 0;
}

#placeHolder{
  display: none;  
} 
```

香草 Javascript

```
function addToolbar(){

  var bodyz = document.getElementsByTagName('body')[0];

  var placeHolder = document.getElementById("placeHolder");

  var toolbar = document.createElement('div');
  toolbar.setAttribute('id','toolbar');
  toolbar.innerHTML = 'Toolbar';  
  bodyz.insertBefore(toolbar, placeHolder);

  bodyz.style.marginLeft = "60px";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:48:19.620

您可以将所有页面内容添加到具有 css 相对位置的 DIV 中。然后移动那个 DIV。在该 DIV 内具有绝对位置的元素相对于其位置 /margins。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:48:34.400

这个想法有很多具体的问题，但我认为最大的问题是工具栏将始终包含在正文中 - 因此正文的任何​​特殊定位也会移动工具栏。

例如...

```
body {
    position: relative;
    left: 60px;
} 
```

将移动工具栏和页面的其余部分。

您可能需要考虑在其余内容周围放置一个 div 并相对定位。我假设您遇到了这个问题，因为您不能只更改页面 HTML 以合并工具栏？

您可以使用 javascript 来完成所有这些 - 获取正文的 HTML 内容，添加工具栏和 div，然后将原始正文内容添加到 div 中。

# android - Android GPS LocationListener 对 Galaxy Note 2 没有响应

> ID：15243744
> 
> 赞同：0
> 
> 时间：2013-03-06T09:42:29.473
> 
> 标签：android, gps

我为安卓开发了一个基于 GPS 的应用程序。尽管该应用程序适用于所有其他设备，但位置侦听器在 Galaxy Note 2 设备中失败。

启用 GPS：

```
 if (locationManager == null) {

        locationManager = (LocationManager) this
                .getSystemService(Context.LOCATION_SERVICE);
    }
    if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)
            && !locationManager
                    .isProviderEnabled(LocationManager.NETWORK_PROVIDER)) {
        _objSLM.isGPSEnable = false;
    }

    startService(new Intent(this, SLGPSService.class)); 
```

附加监听器：

```
 if (locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)) {

        locationManager.requestLocationUpdates(
                LocationManager.NETWORK_PROVIDER, 0, 100, locationListener);

    }

    if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {

        locationManager.requestLocationUpdates(
                LocationManager.GPS_PROVIDER, 0, 100, locationListener);

    }
    if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)
            && !locationManager
                    .isProviderEnabled(LocationManager.NETWORK_PROVIDER)) {

        try {

            locationManager.requestLocationUpdates(
                    LocationManager.NETWORK_PROVIDER, 0, 100,
                    locationListener);

        } catch (Exception e) {

        }

        try {
            locationManager.requestLocationUpdates(
                    LocationManager.GPS_PROVIDER, 0, 100, locationListener);

        } catch (Exception e) {

        }
    } 
```

位置监听器：

```
 LocationListener locationListener = new LocationListener() {

    public void onStatusChanged(String provider, int status, Bundle extras) { 

        Log.v(TAG, "**********=======Status=" + status);

    }

    public void onProviderEnabled(String provider) { 

        // _objSLM.isGPSEnable = true;

        if (locationManager.isProviderEnabled(provider)) {

            if (locationManager.getLastKnownLocation(provider) != null) {

                _objSLM.curLocation = locationManager
                        .getLastKnownLocation(provider);

                _objSLM.isGPSEnable = true;

                if (_objSLM.prevLocation == null) {

                    _objSLM.prevLocation = _objSLM.curLocation;
                }
            }
        }
        if (locationManager.isProviderEnabled(provider)) {

            if (locationManager.getLastKnownLocation(provider) != null) {

                _objSLM.curLocation = locationManager.getLastKnownLocation(provider);

                _objSLM.isGPSEnable = true;

                if (_objSLM.prevLocation == null) {

                    _objSLM.prevLocation = _objSLM.curLocation;

                }
            }
        }

    }

    public void onProviderDisabled(String provider) {

        _objSLM.isGPSEnable = false;
    }

    public void onLocationChanged(Location location) {

        Log.v(TAG, location.getLatitude() + "==" + location.getLongitude()+=================onLocationChanged()");

        if(location.getProvider().equals(LocationManager.GPS_PROVIDER)){

            _objSLM.curLocation = location;
            _objSLM.isGPSEnable = true;
        }

        if (_objSLM.prevLocation == null) {

            _objSLM.prevLocation = _objSLM.curLocation;

        }
    }
}; 
```

权限：

```
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />

<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

<uses-permission android:name="android.permission.INTERNET" />

<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T04:27:44.067

可能这不是您的问题，这是设备特定的问题。

您必须检查**android 版本**并更新您的**manifest.xml**文件。

# wpf - 覆盖 XAML 中的资源

> ID：15243747
> 
> 赞同：6
> 
> 时间：2013-03-06T09:42:36.400
> 
> 标签：wpf, xaml, user-controls, resources, overriding

我有以下内容`UserControl`：

```
<UserControl x:Class="MyControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">

    <UserControl.Resources>
        <SolidColorBrush x:Key="ColorKey" Color="Orange"/>
    </UserControl.Resources>

    <Grid Background="{StaticResource ColorKey}">

    </Grid>
</UserControl> 
```

我像这样使用它：

```
<Window x:Class="MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:OverrideResource"
    Title="MainWindow" Height="350" Width="525">

    <Window.Resources>
        <SolidColorBrush x:Key="OtherColorKey" Color="Blue"/>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <local:MyControl Grid.Row="0">
            <local:MyControl.Resources>
                <SolidColorBrush x:Key="ColorKey" Color="Red"/>
            </local:MyControl.Resources>
        </local:MyControl>

        <Grid Grid.Row="1">
            <Grid.Resources>
                <SolidColorBrush x:Key="OtherColorKey" Color="Green"/>
            </Grid.Resources>
            <Grid Background="{StaticResource OtherColorKey}"/>
        </Grid>
    </Grid>
</Window> 
```

`OtherColorKey`像我期望的那样覆盖资源工作；网格有绿色`Background`。但我想覆盖(在我的示例中) 中`Resource`使用的a 。但我得到了例外：`UserControl``ColorKey`

> 项目已添加。在字典中键入：'ColorKey' 正在添加的键：'ColorKey'

这只是一个简化的示例，实际上我需要它来完成更复杂的任务。我知道，例如 DevExpress 使用类似的机制来自定义他们的控件（但是他们不使用字符串作为键，而是使用派生自 的对象`ResourceKey`）。但我无法找到简单的工作示例来自己实现这样的事情。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-08-21T16:09:51.050

阅读您的帖子并回复第一个答案后，您似乎正在编写一个需要您跟踪几个样式元素的应用程序。保持它们井井有条且易于维护的最佳方法是使用 ResourceDictionary 并引用它。

对我来说，当我根据它们所定义的内容进行分离时，我会轻松得多，一个用于画笔和颜色，一个用于 ControlTemplates 和样式（如果项目非常复杂，那么它取决于其他几个因素 - 这只是一个相对简单的项目）。

一旦定义了这些 ResourceDictionary 文件，您将在 App.xaml 文件中引用它们，以便可以在整个应用程序中应用它们，而不必总是在页面的实际 XAML 中重新定义画笔或模板。

因此，App.xaml 的外观示例如下：

```
<Application
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    x:Class="MyColorBlock.App"
    StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/BrushesAndColors.xaml"/>
                <ResourceDictionary Source="Resources/StylesAndTemplates.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Application.Resources>
</Application> 
```

如前所述，这是一个非常简化的示例，因此源文件位于 App.xaml 所在的同一项目中 - 就在 Resources 文件夹中。BrushesAndColors.xaml 在 StylesAndTemplates.xaml 之前被引用，因为定义的样式和模板取决于您定义的颜色。

对于 ResourceDictionary BrushesAndColors.xaml：

```
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:OverrideResource">

        <SolidColorBrush x:Key="BlueBrush" Color="Blue"/>
        <SolidColorBrush x:Key="RedBrush" Color="Red"/>
        <SolidColorBrush x:Key="GreenBrush" Color="Green"/>

</ResourceDictionary> 
```

画笔与您定义的相同，但是它们现在可以在整个应用程序中通过其键来引用。

对于 StylesAndTemplates.xaml：

```
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:OverrideResource">

    <!-- Adding the MergedDictionaries in this ResourceDictionary allows the control templates and styles to reference the colors and brushes defined in BrushesAndColors.xaml. Note: It is a relative link, both files in this example in the same folder "Resources"  -->
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="BrushesAndColors.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Style x:key="MyControlStyle" TargetType="{x:Type local:MyControl}">
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="VerticalAlignment" Value="Stretch"/>
        <Setter Property="Background" Value="{StaticResource RedBrush}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:MyControl}">
                <!-- by giving the border background the value of {TemplateBinding Background} it is now set based on what the style's property has been defined as -->
                    <Border Background="{TemplateBinding Background}">
                        <TextBlock Text="Red Block Text"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- since the style is based on a predefined one it inherits that particular style's definition.
        However, the background color of this stylehas been redefined, and will use that background color
        on any control it is applied to instead-->

    <Style x:Key="MyControlStyleTwo" TargetType="{x:Type local:MyControl}" BasedOn="{StaticResource MyControlStyle}">
        <Setter Property="Background" Value="{StaticResource BlueBrush}"/>
    </Style>

</ResourceDictionary> 
```

出于习惯，我还是引用了这个需要的ResourceDictionary，以确保定义的样式和模板能找到我创建时引用的资源。

第二种风格，我基于第一种风格，所以我不必重写整个东西 - 但我可以简单地改变它的背景颜色。所以它看起来像第一个，除了背景颜色不同。

对于主窗口 - 会略有变化：

```
<Window x:Class="MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:OverrideResource"
    Title="MainWindow" Height="350" Width="525">

    <Grid Background="{StaticResource BlueBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

      <local:MyControl Style="{StaticResource MyControlStyle}" Grid.Row="0" />
        <local:MyControl Style="{StaticResource MyControlStyleTwo}" Grid.Row="1"/>

    </Grid>
</Window> 
```

您不再需要重新定义与应用程序的 UI 有关的任何信息，从而使 XAML 更清晰且更易于阅读。

它可能不是“简单的解决方法”——但随着您的继续，它肯定会让事情变得更容易。如果不止一个人参与该项目，它也将帮助其他任何人。将所有内容都定义在一个集中区域中，您可以保持样式和颜色一致，并且没有人必须筛选不同的页面来查找使用的样式，他们只需引用适当的样式即可。

这也允许您的控件只编写一次，但通过为其提供不同的样式/模板，您可以更改信息的显示方式 - 有助于保持数据和显示信息的分离:)

希望这会有所帮助，对于长篇文章感到抱歉，但这是我能想到的唯一方法来解释我认为您如何最好地解决您的问题（并保持解决）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T15:32:56.697

OtherColorKey 被添加到 2 个不同的字典（窗口和网格）中。ColorKey 被添加到同一个字典 (MyControl) 中。

解决此问题的更好方法是在 MyControl 中声明 Brush 类型的 DependencyProperty 并将其设置为：

```
 <local:MyControl Grid.Row="0" MyBrush="Red" /> 
```

在 MyControl 中，只需将您想要的任何内容绑定到该 MyBrush 属性。

```
<UserControl x:Class="MyControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300" x:Name=Me>

    <Grid Background="{Binding MyBrush, ElementName=Me}">

    </Grid>
</UserControl> 
```

# jquery - 与 jquery 的复选框关联

> ID：15243750
> 
> 赞同：0
> 
> 时间：2013-03-06T09:42:46.950
> 
> 标签：jquery, jquery-ui

我的复选框无法正常关联。我有一个带有 4 个选项卡的 jquery UI 选项卡。如果我在我的第一个选项卡中签入复选框，则必须停用最后 2 个选项卡。这很好用。但是我从第一个选项卡到第二个选项卡与我的复选框有关联。因此，当我检查 SC1 时，必须检查以 SC1 开头的每个复选框。如果 SC1 被选中，并且在我检查 SC2 之后，则必须检查所有 SC2 选项卡，并且仍然检查 SC1 的所有复选框。它不起作用，我希望你能找到解决方案。

```
$('#tabs-1').click(function() {
$("#ARtabs").tabs({disabled: [2,3]});

if ($('.SC1T').is(':checked')) 
        {
        $('.SC1').attr('checked' ,'checked');
     }
    else
    if ($('.SC2T').is(':checked'))
            {
                $('.SC2').attr('checked' ,'checked');
            }     
    else
    if ($('.SC3T').is(':checked'))
            {
                $('.SC3').attr('checked' ,'checked');
            }     
    else
    {
        $('.SC1').removeAttr('checked');
        $('.SC2').removeAttr('checked');
        $('.SC3').removeAttr('checked');
        $("#ARtabs").tabs("option", "disabled", []);
    }
}); 
```

这是我在[演示中的问题](http://jsfiddle.net/achillix/TqJqH/)

提前 THX

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:50:03.953

问题出在 else 语句上。如果您的条件之一为真，则不会检查以下条件。

```
$(function() {
    $( "#ARtabs" ).tabs({
       collapsible: true,
       fx: { opacity: 'toggle' }
    });
});

$('#tabs-1').click(function() {

   var oneIsChecked = false;
   if ($('.SC1T').is(':checked')){
       oneIsChecked = true;
       $('.SC1').attr('checked' ,'checked');
   }else{
       $('.SC1').removeAttr('checked');
   }

   if ($('.SC2T').is(':checked')){
        oneIsChecked = true;
        $('.SC2').attr('checked' ,'checked');
   }else{
       $('.SC2').removeAttr('checked');
   }     

    if ($('.SC3T').is(':checked')){
        oneIsChecked = true;
        $('.SC3').attr('checked' ,'checked');
    }else{
       $('.SC3').removeAttr('checked');
    }     

   if(oneIsChecked){ 
       $("#ARtabs").tabs({disabled: [2,3]});
   }else{
       $('.SC1').removeAttr('checked');
       $('.SC2').removeAttr('checked');
       $('.SC3').removeAttr('checked');
       $("#ARtabs").tabs("option", "disabled", []);
   } 
}); 
```

# asp.net-mvc - asp.net web api / mvc 中有没有办法使用来自引用的 dll 的上下文模型？

> ID：15243751
> 
> 赞同：0
> 
> 时间：2013-03-06T09:42:48.557
> 
> 标签：asp.net-mvc, asp.net-web-api

我只想知道是否可以在 asp.net web-api / mvc 中使用来自引用的 DLL 文件的上下文。因为我在这里所做的是为我的模型创建了一个单独的项目库，并希望通过将其添加为我的主项目的引用来使用它。但是当我创建一个 web-api 控制器，并选择来自引用的 DLL 的上下文时，它给了我一个不支持上下文的错误。

这可能吗？如果是这样，有人可以帮助我正确的方向吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T04:19:08.977

使用“上下文模型”，我想您是在谈论实体框架 DbContext，对吧？

如果是这样，是的，可以使用引用的 DLL 中的 EF 上下文，我在我的一个项目中使用了这个场景。请发布您收到的错误消息，也许您忘记了 Web API 项目中的一些引用（例如，实体框架）。

# forms - 如何在 adminhtml 表单 magento 中设置默认值

> ID：15243753
> 
> 赞同：0
> 
> 时间：2013-03-06T09:42:54.103
> 
> 标签：forms, magento, adminhtml

我希望在 magento 中添加产品表单中的文本框中添加默认值？有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:23:20.153

Magento EAV 属性可以有默认值，这些默认值将出现在相应的**adminhtml**表单中。属性的默认值存储在表`eav_attribute`、列`default_value`中。

# ios - 在iOS5中没有按下按钮

> ID：15243758
> 
> 赞同：0
> 
> 时间：2013-03-06T09:42:59.383
> 
> 标签：ios, ios5, ios6

我已经尝试了一段时间来找到解决这个问题的最佳方式，并希望能想出一些不错的东西。

我有一个带有一个主屏幕的应用程序，上面有几个与弹出窗口相连的按钮。我也有一个用于屏幕的点击手势识别器。

在 iOS5 iPad 上，如果我点击按钮，点击手势识别器似乎正在处理操作，但在 iOS6 iPad 上，按钮处理操作。让按钮按下而不是点击手势识别器的唯一方法是长按。

为什么点击在 iOS6 中“通过”点击手势识别器，但在 iOS5 中被它捕获？

我很乐意添加任何代码，但这几乎是所有故事板。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:46:00.830

谷歌搜索在这个网站上找到了答案：

[具有 UITapGestureRecognizer 的视图内的 UIButton](https://stackoverflow.com/questions/3344341/uibutton-inside-a-view-that-has-a-uitapgesturerecognizer)

也

[UIButton 在 iOS 5.x 中不起作用，在 iOS 6.x 中一切正常](https://stackoverflow.com/questions/13515539/uibutton-not-works-in-ios-5-x-everything-is-fine-in-ios-6-x)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:04:36.613

试试这个委托方法。

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch {
if ([touch.view isKindOfClass:[UIButton class]]){
    return NO;
}
return YES;} 
```

最好的祝福。

# iphone - objc 有没有办法检测相机对焦是否成功？

> ID：15243766
> 
> 赞同：2
> 
> 时间：2013-03-06T09:43:23.987
> 
> 标签：iphone, ios, objective-c, camera

在我的应用程序中拍照之前，我手动请求相机对焦。我添加了一个adjustingFocus 观察器来检测对焦何时结束。完成后我正在拍摄照片..

```
- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context {
if( [keyPath isEqualToString:@"adjustingFocus"] ){
    BOOL adjustingFocus = [ [change objectForKey:NSKeyValueChangeNewKey] isEqualToNumber:[NSNumber numberWithInt:1] ];

    if (!adjustingFocus) {
        [self captureStillImage];
    }
}
} 
```

问题是：有没有办法知道对焦是否成功以及我现在有一个对焦的凸轮？我知道在 Android 中可以做到，但直到现在我还没有找到在 iOS 上做到这一点的方法。

不管怎么说，还是要谢谢你。

# ruby - Datamapper 资源验证失败但错误为空

> ID：15243770
> 
> 赞同：2
> 
> 时间：2013-03-06T09:43:32.973
> 
> 标签：ruby, datamapper, ruby-datamapper

好的，这是一个非常奇怪的问题，我无法弄清楚为什么要保存模型。我已经在另一条记录中准确地重新创建了数据输入（甚至建立了与相同记录的关系），并且重复记录保存得很好。

当我去保存类 Studio 时，`save`失败但验证错误哈希为空。Studio 看起来像这样（为简洁起见，我删除了一些类方法）：

```
class Studio
  include DataMapper::Resource

  # attributes
  property :id, Serial
  property :name, String, :required => true, :length => 255
  property :short_description, Text
  property :long_description, Text
  property :rating, Numeric
  property :accommodation, Boolean, :default => true
  property :vegan, Boolean, :default => true
  property :vegetarian, Boolean, :default => true
  property :forest, Boolean, :default => true
  property :mountain, Boolean, :default => true
  property :beach, Boolean, :default => true
  property :pool, Boolean, :default => true
  property :phone_1, String
  property :phone_1_prefix, String
  property :phone_2, String
  property :phone_2_prefix, String
  property :fax, String
  property :fax_prefix, String
  property :phone_1_international_dialling_code, String
  property :phone_2_international_dialling_code, String
  property :fax_international_dialling_code, String
  property :web, String, :format => :url, :required => true, :length => 255
  property :contact_name, String, :length => 255
  property :contact_email, String, :format => :email_address
  property :created_at, DateTime
  property :updated_at, DateTime
  property :details_complete, Boolean, :default => false
  property :status, Enum[:active, :pending, :disabled, :archived, :deleted], :default => :active, :required => true
  property :notes, Text
  property :course_schedule_url, String, :length => 255
  property :permalink, String, :length => 500
  property :signup_token, String, :length => 255
  property :founder_info, Text
  property :photo_rating, Numeric
  property :accepting_bookings, Boolean, :default => true

  # relationships
  belongs_to :location
  belongs_to :owner, :model => User, :required => false
  belongs_to :submitter, :model => User, :required => false

  has n, :courses, :order => [:display_order.asc, :start_date.asc, :is_recurring.asc], :status => :active, :constraint => :destroy  
  has n, :images, :through => Resource, :constraint => :skip
  has n, :subcategories, :through => Resource, :constraint => :skip  
  has n, :bookings, :constraint => :set_nil
  has n, :reviews, :status => :active, :constraint => :set_nil

  validates_presence_of :phone_1, :if => lambda { |c| (!c.phone_1_prefix.nil? && !c.phone_1_prefix.empty?) }
  validates_presence_of :phone_1_prefix, :if => lambda { |c| (!c.phone_1.nil? && !c.phone_1.empty?) }
  validates_presence_of :phone_2, :if => lambda { |c| (!c.phone_2_prefix.nil? && !c.phone_2_prefix.empty?) }
  validates_presence_of :phone_2_prefix, :if => lambda { |c| (!c.phone_2.nil? && !c.phone_2.empty?) }
  validates_presence_of :fax, :if => lambda { |c| (!c.fax_prefix.nil? && !c.fax_prefix.empty?) }
  validates_presence_of :fax_prefix, :if => lambda { |c| (!c.fax.nil? && !c.fax.empty?) }

  # hooks
  before :save, :create_permalink

  def create_permalink
    # remove punctuation
    permalink = self.name.gsub(/[ ]/, '-').gsub(/[^0-9A-Za-z-]/, '')

    self.subcategories.each do |sub|
      unless (permalink.length + sub.name.gsub(/[ ]/, '-').gsub(/[^0-9A-Za-z-]/, '').length) > 255
        permalink += "-" + sub.name.gsub(/[ ]/, '-').gsub(/[^0-9A-Za-z-]/, '')
      end
    end
    permalink.downcase!
    self.permalink = permalink
  end

end 
```

# matlab - 未定义函数 interp2fast_double

> ID：15243776
> 
> 赞同：0
> 
> 时间：2013-03-06T09:43:39.137
> 
> 标签：matlab, double, mex

我在使用 ASM 代码的 Matlab 中再次遇到了另一个问题，我需要`interp2fast_double.c`从 matlab 调用函数，但是当我运行它时，它给了我这样的错误：

```
Undefined function 'interp2fast_double' for input arguments of type 'double'.

Error in interpfast (line 59)
    J = interp2fast_double(double(I),double(xi),double(yi),double(mode));

Error in ASM_getProfileAndDerivatives3D (line 33)
gt= interpfast(I,xi,yi,zi,'cubic')'; 
```

我搜索了问题，在论坛上他们说我必须设置路径，在我完成之后错误仍然存​​在......

有人可以帮我解决这个问题吗...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:10:08.317

你把c文件编译成mex文件了吗？

设置你的 mex 编译器

```
>> mex -setup 
```

选择相关的编译器。

然后

```
>> mex -largeArrayDims -O interp2fast_double.c 
```

# winforms - 如何将数据从excel列导入数据网格视图列winform

> ID：15243779
> 
> 赞同：0
> 
> 时间：2013-03-06T09:43:56.823
> 
> 标签：winforms, datagridview, import, excel-2010

我正在尝试将数据从 excel 文件导入数据网格视图。我的目标是从 excel 文件中的“A”列中获取所有记录，到我的网格视图中的所需列。我试图找到一个示例代码或任何东西来帮助我完成我的任务，但我发现的只是相反的方式。（数据网格视图 ==> Excel）。

需要您的帮助才能完成这项工作。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:34:04.887

我不知道这是否可以直接完成，但您可以尝试将您的 Excel 导入数据库表（MSSQL），然后将数据检索到您的网格视图。

# android - 在片段中动态添加视图

> ID：15243782
> 
> 赞同：0
> 
> 时间：2013-03-06T09:44:11.340
> 
> 标签：android, android-layout, android-fragments, android-viewpager

我需要以议程样式显示一些信息，因此我使用片段来显示不同日期的信息。每天都有一些专栏来展示房间。

我创建了结构，但是当我尝试放入信息时遇到了一些问题

**议程_儿童电视 - 我放置信息和平的文本视图**

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/text_child"
    android:layout_width = "match_parent"
    android:layout_height = "wrap_content"
    android:clickable="true"
    android:background="@drawable/back"
    android:padding="3sp"/> 
```

**议程_儿童_ll - 列**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="@dimen/agenda_aula_width"
    android:layout_height="match_parent"
    android:orientation="vertical" >

<TextView
    android:id="@+id/agenda_aula_title" 
    android:layout_width="match_parent"
    android:layout_height="match_parent"/>

    <LinearLayout  
        android:id="@+id/agenda_aula_esp"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >
    </LinearLayout>

</LinearLayout> 
```

**议程日**

```
<HorizontalScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
    android:layout_height="match_parent" >

<ScrollView 
    android:layout_width="wrap_content"
    android:layout_height="match_parent" >

        <LinearLayout
            android:id="@+id/horizontal_fragment"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal">

            <LinearLayout
                android:layout_width="@dimen/agenda_tv_width"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:background="#BDBDBD" >

                <TextView 
                    android:layout_width="@dimen/agenda_tv_width"
                    android:layout_height="@dimen/agenda_tv_height"
                    android:text="9.00"
                    android:padding="@dimen/agenda_tv_padding"
                    android:textColor="@color/agenda_orario_color"
                    android:textSize="@dimen/agenda_tv_textsize" />

                <!-- A lot of textview for the hours -->

            </LinearLayout>

            <!-- Here i put, dinamically, the colum for the room in each day --> 

    </LinearLayout>

</ScrollView>

</HorizontalScrollView> 
```

**议程**

下面的代码不是很动态，但我写了一个简化的版本来告诉你我的问题

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {

    View rootView = inflater.inflate(R.layout.agenda_day, container, false);

    LinearLayout dayLL = (LinearLayout) rootView.findViewById(R.id.horizontal_fragment);

    //Retriving LL agenda_child_ll
        LinearLayout aula = (LinearLayout) inflater.inflate(R.layout.agenda_child_ll, container, false);

        //Setting the classroom name
        TextView aulaName = (TextView) aula.findViewById(R.id.agenda_aula_title);
        aulaName.setText("room A");

        //Retriving LL agenda_aula_esp
        LinearLayout roomLL = (LinearLayout) aula.findViewById(R.id.agenda_aula_esp);

        //Retriving TV child
        TextView child = (TextView) inflater.inflate(R.layout.agenda_child_tv, container, false);
        child.setText("test");

        //Adding child to the room
        roomLL.addView(child);

        //adding room to the day
        dayLL.addView(aula);

        //Creating the column for the classroom "room B"

        LinearLayout aula2 = (LinearLayout) inflater.inflate(R.layout.agenda_child_ll, container, false);

        TextView aulaName2 = (TextView) aula2.findViewById(R.id.agenda_aula_title);
        aulaName2.setText("room B");

        dayLL.addView(aula2);
} 
```

这就是结果。textview 子项未添加到布局中。有人能帮我吗？:)

[结果图片](http://img688.imageshack.us/img688/2566/avdm.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T13:46:00.287

我解决了这个问题，我在agenda_aula_title 中更改了layout_height。

我添加的文本视图显示在屏幕外。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-28T16:50:36.100

我面临着类似的问题并以同样的方式解决了它。我的应用程序有一个主要活动和两个片段。第一个片段是一个列表片段，它显示了一个公式列表。单击任何公式时，显示公式表达式的 FormulaExpressionFragment 将替换 FormulaTitlesFragment。我想为 FormulaExpressionFragment 中的公式表达式动态添加包含计算器的布局。这就是我实现它的方式。

```
public class FormulaExpressionsFragment extends Fragment {

private TextView mTextView;
private TextView mFormulaTitle;
LinearLayout formulaExpressionsLayout;
View rootView;
View formulaCalculator;
public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        }
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        rootView = inflater.inflate(R.layout.fragment_formula_expressions, container, false);
        return rootView;
    }
void displayFormulaExpression(int position){
    mTextView = (TextView) getView().findViewById(R.id.formula_expression_view);
    mFormulaTitle = (TextView) getView().findViewById(R.id.formula_title_view);
    mTextView.setText(getResources().getTextArray(R.array.formula_expressions)[position]);
    mFormulaTitle.setText(getResources().getTextArray(R.array.formula_titles)[position]);
    mFormulaTitle.setTypeface(Typeface.defaultFromStyle(Typeface.BOLD));
}

void displayFormulaCalculator(int position){
    formulaExpressionsLayout = (LinearLayout) rootView.findViewById(R.id.formula_expression_layout);
    LayoutInflater inflater = LayoutInflater.from(getActivity().getApplicationContext());
    formulaCalculator = inflater.inflate(R.layout.formula_1, formulaExpressionsLayout, false);
    formulaExpressionsLayout.addView(formulaCalculator); 
```

片段公式表达式.xml

```
<LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/formula_expression_layout"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="vertical">
<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:id="@+id/formula_title_view"
    android:text="Formula Title"
    android:padding="5dp" />
<TextView
    android:id="@+id/formula_expression_view"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Formula Expression"
    android:padding="5dp" /> 
```

公式_1.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="horizontal" android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:id="@+id/formula_calculator">
<EditText
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:hint="@string/mud_density"/>
<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text=" × 0.052 × "/>
<EditText
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:hint="@string/tvd"/> 
```

特别注意

```
android:layout_width="wrap_content"
android:layout_height="wrap_content" 
```

它们应该设置为“wrap_content”，否则添加在它们下面的视图将不会显示在布局中，因为顶视图将占据所有显示高度。

# c# - 如何在 bash 代码 Linux 中将字节数组转换为字符串

> ID：15243786
> 
> 赞同：2
> 
> 时间：2013-03-06T09:44:17.557
> 
> 标签：c#, linux, bash, encoding, byte

我试图在 bash (Linux) 中找到与 C# 代码等效的代码。

我有这个 C# 代码：

```
// C# to convert a byte array to a string.
byte [] dBytes = ...
string str;
System.Text.UTF8Encoding enc = new System.Text.UTF8Encoding();
str = enc.GetString(dBytes); 
```

我在 Fedora Linux 机器上运行 bash。

我在 bash 中得到一个文件，其中包含所有字节数组作为由空格分隔的文本，如下所示：

“72 0 101 0 108 0 108 0 111 0 32 0 87 0 111 0 114 0 108 0 100 0 33 0”

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:51:32.147

这些字节采用 UTF-16LE 编码，而不是 UTF-8。你的 python 脚本应该是：

```
file = codecs.open('xx.txt', 'r', 'utf-16-le')
ustring = file.read() #this is a unicode string, not a normal python string
print ustring 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:38:08.030

最终我在 python 中做到了，并从我的 bash 脚本中调用了 python 脚本：

```
file = open('xx.txt', 'r')
inputText = file.read()
split = inputText.split(" ")
noZeros= filter (lambda a: a != "0", split)
results = map(int, noZeros)
final = "".join(map(chr, results))
print final 
```

# javascript - 如何使用 Jquery 从锚标记中获取文本

> ID：15243790
> 
> 赞同：1
> 
> 时间：2013-03-06T09:44:39.383
> 
> 标签：javascript, jquery, jsp, displaytag

以下是我的锚标签......

```
<display:setProperty name="paging.banner.full" value='<p><span id="hix-pagination"><span> <a id="id1" class="prev" href="{1}">&#9668;&#9668;</a> 
```

我使用 jquery 尝试了以下操作，但没有得到任何积极的结果.....

```
alert($('#id1').text());
      alert($('#id1').html());
      alert($('#id1').val()); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:46:19.553

您有正确的选择器，如果您成功包含了 jQuery，那么您可能需要[document.ready](http://api.jquery.com/ready/)还检查您是否从 DOM 中获取了 html

**[现场演示](http://jsfiddle.net/dqXVp/)**

```
$(function(){
   alert($('#id1').html());
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:49:42.530

参考这个链接：

[如何使用 jQuery 在点击时获取锚文本/href？](https://stackoverflow.com/questions/2652372/how-to-get-anchor-text-href-on-click-using-jquery)

[从锚标记获取文本](https://stackoverflow.com/questions/3871228/get-text-from-anchor-tag)

参考资料：

```
$(function(){
$('div.res a').click(function(){
alert($(this).attr('href'));
 });
}); 
```

文本：

```
$(function(){
$('div.res a').click(function(){
alert($(this).text());
 });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:47:19.177

```
$(document).ready(function() 
        { 
            $("#id1").click(function() {
            alert($(this).text());
            return false;
            }); 
        } 
); 
```

# php - glob() 和大括号中的星号

> ID：15243791
> 
> 赞同：0
> 
> 时间：2013-03-06T09:44:44.383
> 
> 标签：php, filenames, design-patterns, glob

我想找到一些特殊的文件名。因此我使用[`glob()`](http://at2.php.net/manual/en/function.glob.php).

```
$foundResults = glob($directory . '{data_*.csv, log_*.txt}', GLOB_BRACE); 
```

此代码仅找到我的第一个模式`data_*.csv`。因此，大括号之间似乎不允许使用星号？

我的替代方案是什么？我只能想到使用一个`for each`构造来调用`glob()`多次。还是有更好的算法/功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:52:10.563

这对我来说很好：

```
$foundResults = glob('{tes*.php,tes*.xls}', GLOB_BRACE);

echo "<pre>";
print_r($foundResults); 
```

输出 ：

```
Array
(
    [0] => test.php
    [1] => test.xls
) 
```

检查您的`$directory`Check 的尾部斜线的值`/`。如果它不存在，请放置它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:42:21.720

正确调用**没有空格字符**！

```
$foundResults = glob($directory . '{data_*.csv,log_*.txt}', GLOB_BRACE); 
```

我从这个主题中得到了提示：[glob/GLOB_BRACE 的帮助](http://www.codingforums.com/archive/index.php/t-77040.html)

# objective-c - 滑动访客以查看 tableview

> ID：15243795
> 
> 赞同：1
> 
> 时间：2013-03-06T09:44:52.417
> 
> 标签：objective-c, uitableview, uiswipegesturerecognizer

我添加了`tableview`as`subview`和添加`swipe gesture`到`tableview`. 滑动不起作用。`Pan gesture`工作正常（刚刚测试）。`Swipe gesture`它不工作。我想把桌子移到右边。所以我只想在识别到向右滑动时触发动画。但刷卡本身无法识别。

```
panelGesture = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(closePanel:)];
   [panelGesture setDirection: UISwipeGestureRecognizerDirectionRight];

    [panel addGestureRecognizer:panGesture]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:58:04.423

使用下面的代码...

在 .h 文件中或 .m 文件中的私有范围

```
UISwipeGestureRecognizer *leftToRightSwipGesture; 
```

在要添加手势识别器的 .m 文件中，放置此代码...

```
leftToRightSwipGesture = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(sampleGesture)];
    [leftToRightSwipGesture setDirection:UISwipeGestureRecognizerDirectionRight];
    [dashboardInventoryTableView addGestureRecognizer:leftToRightSwipGesture]; 
```

In .m file sample method for the gesture

```
-(void)sampleGesture
{
    NSLog(@"Gesture Recognized");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:56:26.290

当您使用多个手势识别器时，您需要实现手势识别器的以下委托方法以使它们同时工作

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer 
```

分别你需要返回`YES`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:56:48.830

可能对你有帮助，但我不确定，试试这样它会在我的情况下工作它工作正常

```
UISwipeGestureRecognizer *swiper = [[[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(closePanel)] autorelease];
    swiper.delegate=self;
    [swiper setDirection:UISwipeGestureRecognizerDirectionRight];
    [tableview addGestureRecognizer:swiper]; 
```

`<UIGestureRecognizerDelegate>`并在 .h 文件中提供委托

# android - 在 Android 中使用 Bundle 而不是直接 Intent putExtra() 的优点

> ID：15243798
> 
> 赞同：82
> 
> 时间：2013-03-06T09:44:56.553
> 
> 标签：android, android-intent, android-activity, bundle, extra

在我的 android 应用程序中，我总是使用类的直接`putExtra()`函数`Intent`将任意数量的值传递给 new `Activity`。
像这样：

```
Intent i = new Intent(this, MyActivity.class);
i.putExtra(ID_EXTRA1, "1");
i.putExtra(ID_EXTRA2, "111");
startActivity(i); 
```

我知道`Bundle`在 Android 中，并且我看到人们正在使用`Bundle`将值传递给 new `Activity`。
像这样：

```
Intent intent = new Intent(this, MyActivity.class);
Bundle extras = new Bundle();
extras.putString("EXTRA_USERNAME","my_username");
extras.putString("EXTRA_PASSWORD","my_password");
intent.putExtras(extras);
startActivity(intent); 
```

在这里我有2个疑问。如果我可以通过直接将值传递给 new ，我
为什么要使用它？ 使用而不是直接有什么好处？`Bundle``Activity``Intent`
`Bundle``Intent` `putExtra()`

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2013-03-06T09:52:38.117

它几乎没有（如果有的话）。使用附加包的代码稍微重一些（在任何实际应用中都不会产生任何影响），并且更容易管理，更通用。

如果有一天你决定 - 在意图中发送信息之前 - 你想将数据序列化到数据库 - 拥有一个可以序列化的包，添加到意图然后馈送到 PendingBundle 会更干净 - 所有与一个对象。

**[更新]**

澄清（因为其他一些答案）。

Extras**是**每个 Intent 可能携带（但不是必须）的附加捆绑包，因此在使用捆绑包或不使用捆绑包之间没有其他选择。无论哪种方式，您都在使用捆绑包。

第一次使用时`putExtra`，Intent 中的一个`mExtras`包被初始化，并且所有后续的 putExtra 都被委托给它。您无法访问捆绑包本身（这是设计使然，以避免某些类型的错误）。

putExtras**不会**将您的捆绑包放入 Intent。相反，它将其复制到当前意图包（或创建一个，如`putExtra`）。这就是它稍重的原因（您有两个捆绑包而不是一个捆绑包并支付复制的代价）。

关键是 - 如果你使用`putExtras`，你仍然无法访问意图中的真实包。但是 - 你有一份你可能想用它做的任何事情的副本。就像保留复制到另一个意图（如果您发送很多类似的意图）。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2015-01-20T10:42:39.380

**附加优势**：一旦将数据放入 Bundle 中，您就可以通过多个意图发送相同的数据。（仅在这种情况下，要发送多个意图）。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-06T09:50:50.760

Bundles 很酷，因为您可以更轻松地隔离它们的创建/读取，从而将处理 bundles 的代码与 UI 的代码分开。

在大多数情况下，这是无用的，因为您希望传输尽可能少的数据（通常只是几个字符串，一个 id ...）

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-06T12:22:10.033

您可以参考[Intent and Bundle Relation (Stackoverflow)](https://stackoverflow.com/questions/7537877/intent-and-bundle-relation) 以及[捆绑在 Android 程序中的重要性 (Stackoverflow)](https://stackoverflow.com/questions/4999991/what-is-the-importance-of-bundle-in-a-android-program.)。

您可以在一个捆绑包中发送多个或一堆数据并通过 Intent 发送。或者另一种方法是添加多个 PutExtra() 语句。

据我所知，没有任何如此重要的区别。

# svn - 如何配置 TortoiseSVN 以使用 Visual Studio 2012 进行差异化？

> ID：15243799
> 
> 赞同：10
> 
> 时间：2013-03-06T09:45:00.827
> 
> 标签：svn, visual-studio-2012, tortoisesvn, diff

我想使用新的 Visual Studio 差异化工具通过 TortoiseSVN 对变化进行差异化。在外部工具命令行框中输入什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-08-01T00:56:56.580

您可以使用它`vsDiffMerge.exe`来执行此操作。

# 视觉工作室 2012

差异：

```
"C:\Program Files (x86)\Microsoft Visual Studio 12.0\Common7\IDE\vsDiffMerge.exe" /t %base %mine %bname %yname 
```

合并：

```
"C:\Program Files (x86)\Microsoft Visual Studio 12.0\Common7\IDE\vsDiffMerge.exe" /m %theirs %mine %base %merged 
```

# 视觉工作室 2013 和 2014

只需确定版本号并将`12.0`上述命令中的替换为您想要的即可。（用 2015 年测试，`14.0`.）

# 视觉工作室 2017

差异：

```
"C:\Program Files (x86)\Microsoft Visual Studio\2017\Professional\Common7\IDE\CommonExtensions\Microsoft\TeamFoundation\Team Explorer\vsDiffMerge.exe" /t %base %mine %bname %yname 
```

合并：

```
"C:\Program Files (x86)\Microsoft Visual Studio\2017\Professional\Common7\IDE\CommonExtensions\Microsoft\TeamFoundation\Team Explorer\vsDiffMerge.exe" /m %theirs %mine %base %merged 
```

# 参考

### vsDiffMerge.exe 用法

见[这里](http://roadtoalm.com/2013/10/22/use-visual-studio-as-your-diff-and-merging-tool-for-local-files/)和[这里](https://stackoverflow.com/a/17557108/238753)。

### TortoiseSVN 命令替换

*   [TortoiseSVN diff command substitutions](http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-settings.html#tsvn-dug-settings-Diff)
*   [TortoiseSVN merge command substitutions](http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-settings.html#tsvn-dug-settings-Merge)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-06T09:45:00.827

用这个：

```
C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\devenv.exe -diff %base %mine 
```

取自 TortoiseSVN 手册，该手册在页面的中间位置显示了 %paramNames。

[http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-settings.html#tsvn-dug-settings-progs](http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-settings.html#tsvn-dug-settings-progs)

# apache-pig - 我可以在猪的多个列上做不同的吗？

> ID：15243803
> 
> 赞同：4
> 
> 时间：2013-03-06T09:45:05.910
> 
> 标签：apache-pig

我有一个用例，我需要计算两个字段的不同数量。

样本 ：

```
x = LOAD 'testdata' using PigStorage('^A') as (a,b,c,d);

y = GROUP x BY a;

z = FOREACH y {

        **bc = DISTINCT x.b,x.c;**
        dd = DISTINCT x.d;
        GENERATE FLATTEN(group) as (a), COUNT(bc), COUNT(dd);
}; 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T19:20:46.327

你非常接近。关键是不要应用于`DISTINCT`两个字段，而是将其应用于您创建的单个复合字段：

```
x = LOAD 'testdata' using PigStorage('^A') as (a,b,c,d);
x2 = FOREACH x GENERATE a, TOTUPLE(b,c) AS bc, d
y = GROUP x2 BY a;
z = FOREACH y {
        bc = DISTINCT x2.bc;
        dd = DISTINCT x2.d;
        GENERATE FLATTEN(group) AS (a), COUNT(bc), COUNT(dd);
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T16:38:24.110

恕我直言，没有简单的方法（如`GROUP(DISTINCT a)`MySQL 中的 a ），因此您需要拆分表以使每行计数两次。

```
x = LOAD 'testdata' using PigStorage('^A') as (a,b,c,d);

w1 = FOREACH x GENERATE a, CONCAT(b,c) AS bc;
w2 = FOREACH x GENERATE a, d;

v1 = DISTINCT w1;
v2 = DISTINCT w2;

u1 = GROUP v1 BY a;
u2 = GROUP v2 BY a;

t1 = FOREACH u1 GENERATE group AS a, COUNT(v1.bc);
t2 = FOREACH u2 GENERATE group AS a, COUNT(v2.d);

s = JOIN t1 BY a, t2 BY a; 
```

UDF 可以大大简化这一点。

# timezone - 注册表中的 Windows CE 6.0 时间设置

> ID：15243805
> 
> 赞同：3
> 
> 时间：2013-03-06T09:45:14.497
> 
> 标签：timezone, registry, windows-ce

所以我有一台装有 Windows CE 6.0 的 Motorola MC3100 移动条码扫描设备。

现在我想让设备在启动时使用我创建的一些注册表文件与我们的域控制器同步其日期/时间。

我已经使用下面的这 2 个注册表文件来接近我的要求。

* * *

注册 1

```
[HKEY_LOCAL_MACHINE\Services\TIMESVC]
"UserProcGroup"=dword:00000002
"Flags"=dword:00000010
"multicastperiod"=dword:36EE80
"threshold"=dword:5265C00
"recoveryrefresh"=dword:36EE80
"refresh"=dword:5265C00
"Context"=dword:0
"Autoupdate" = dword:1 
"server" = "NAMEOFMYSERVER" (obviously I have the real name in the actual reg file)
"ServerRole" = dword:0
"Trustlocalclock" = dword:0 
"Dll"="timesvc.dll"
"Order"=dword:0000000b
"Keep"=dword:1
"Prefix"="NTP"
"Index"=dword:0 
```

注册 2

```
[HKEY_LOCAL_MACHINE\Time]
@ = "UTC"
"TZI"=hex:\
      00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,\
      00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00

[HKEY_LOCAL_MACHINE\Time Zones]
@ = "UTC"

[HKEY_LOCAL_MACHINE\Microsoft\Clock]
"AutoDST" =dword:0 
```

* * *

现在它获得了正确的日期并正确显示了时区，但是太平洋标准时间的时间总是落后 5 小时，这真的很烦人。

我找不到任何其他设置来正确设置时间。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-05T07:21:31.467

我要去打针了……

HKEY_LOCAL_MACHINE\Time Zones] @ = "UTC" <---- 此值需要更改为它需要的任何单词 UTC 将是 GMT：格林威治标准时间可能手动将时间设置为任何时间并检查填充的单词然后将其复制到您的reg文件中？

# c++ - 在 C++ 中检查代理的最佳方法是什么？

> ID：15243808
> 
> 赞同：-3
> 
> 时间：2013-03-06T09:45:23.507
> 
> 标签：c++, proxy

完美的方式是图书馆，我可以简单地传递地址并对其进行检查。但是，如果没有（我认为这不太可能），我可以自己编写。

但是，我不确切知道最好的方法是什么。我应该调用什么网址？还是代理这样的东西，对于特定的请求，您应该能够得到它的响应？如果我必须调用 url，Google 总是在运行，但调用它的主页会占用大量带宽。我知道的最好的检查器是[http://www.project2025.com/charon.php](http://www.project2025.com/charon.php) (Charon)。有谁知道它是如何准确检查代理的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:49:25.160

最近几天，我使用了一个名为“proxyabuse”（www.proxyabuse.com）的新软件[，](http://www.proxyabuse.com)它完美地检查了代理的许多选项......看它

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T15:41:33.970

经过一番研究，我发现了 Charon 的工作原理。它实际上在本地机器上打开端口 80 并提供简单的 php 脚本

```
REMOTE_ADDR = {the IP address} 
```

如果 IP 与发出请求的代理匹配，则代理是匿名的，但是，如果它显示您的实际 IP，则代理是透明的。就是这样。

# php - PHP一次性执行（工资系统）

> ID：15243811
> 
> 赞同：0
> 
> 时间：2013-03-06T09:45:29.447
> 
> 标签：php, system

有没有办法限制 PHP 只生成一次员工的工资单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:55:51.407

我猜这就是你要找的。这是您问题的非常简单的答案。

在数据库/表中创建一条记录，并在执行时（工资系统）将表中的字段标记为真。如果脚本尝试执行工资单代码，则检查数据库是否记录为真，否则执行该项目。

# android - 设计 android 幻灯片菜单屏幕。

> ID：15243820
> 
> 赞同：1
> 
> 时间：2013-03-06T09:45:57.150
> 
> 标签：android, android-sliding

我可以通过添加幻灯片菜单库在应用程序中显示幻灯片菜单。我想这样设计我的幻灯片菜单

![这个](../Images/db9ad33e57595c068e85c38c6d095f3e.png).

请让我知道任何教程。我也可以通过代码显示左侧幻灯片菜单`setBehindContentView(R.layout.slidemenu);`

我如何显示向前滑动菜单？

# windows - 如何在推送通知中发送 ShellTileData 实例？

> ID：15243823
> 
> 赞同：1
> 
> 时间：2013-03-06T09:46:09.377
> 
> 标签：windows, windows-phone-7, windows-phone-8, windows-phone, live-tile

我想发送一个 IconicTileData 实例作为推送通知，但我不想连接下一个代码片段并将其作为请求提供，我想发送一个 IconicTileData （从 ShellTileData 派生）而不必连接字符串。

```
<?xml version="1.0" encoding="utf-8"?>
<wp:Notification xmlns:wp="WPNotification" Version="2.0">
  <wp:Tile Id="[Tile ID]" Template="IconicTile">
    <wp:SmallIconImage [Action="Clear"]>[small Tile size URI]</wp:SmallIconImage>
    <wp:IconImage Action="Clear">[medium/wide Tile size URI]</wp:IconImage>
    <wp:WideContent1 Action="Clear">[1st row of content]</wp:WideContent1>
    <wp:WideContent2 Action="Clear">[2nd row of content]</wp:WideContent2>
    <wp:WideContent3 Action="Clear">[3rd row of content]</wp:WideContent3>
    <wp:Count Action="Clear">[count]</wp:Count>
    <wp:Title Action="Clear">[title]</wp:Title>
    <wp:BackgroundColor Action="Clear">[hex ARGB format color]</wp:BackgroundColor>
  </wp:Tile>
</wp:Notification> 
```

我只想写：

```
IconicTileData TileData = new IconicTileData()
{
   Title = "[title]",
   Count = [count],
   WideContent1 = "[1st row of content]",
   WideContent2 = "[2nd row of content]",
   WideContent3 = "[3rd row of content]",
   SmallIconImage = [small Tile size URI],
   IconImage = [medium/wide Tile size URI],
   BackgroundColor = [.NET color type of Tile]
}; 
```

谢谢！

# c++ - 函数调用作为数组元素

> ID：15243825
> 
> 赞同：0
> 
> 时间：2013-03-06T09:46:11.917
> 
> 标签：c++, function

我在理解和实施以下问题时遇到了一些困难：

将函数调用存储在数组中，即有一个双精度数组和一个返回双精度的函数....我想在调用例如数组的一个元素时，比如说 myArray[0]，它应该调用函数myArray，返回一个双精度。

```
double myFunction(){return mydouble}

double myArray[3];
...
cout<<myArray[2]<<endl; <- should call myFunction and return "mydouble" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:47:52.920

对于 C++ 查找[`std::function`](http://en.cppreference.com/w/cpp/utility/functional/function)，对于 C 阅读更多关于[函数指针](http://en.wikipedia.org/wiki/Function_pointer)的信息。

函数指针也可以在 C++ 中使用，但不如`std::function`.

C++ 解决方案：

```
struct MyStruct
{
    double myStructFunction() { return 2.0; }
};

std::function<double()> myArray[3];

MyStruct myStructure;

myArray[0] = []() { return 1.0; };
myArray[1] = std::bind(&MyStruct::myStructFunction, myStructure);
myArray[2] = myFunction;

for (int i = 0; i < 3; i++)
    std::cout << "Calling `myArray[" << i << "]` : " << myArray[i]() << '\n'; 
```

用于`myArray[0]`查找[lambda 函数](http://en.cppreference.com/w/cpp/language/lambda)的赋值，并用于`myArray[1]`查找查找[`std::bind`](http://en.cppreference.com/w/cpp/utility/functional/bind)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:53:57.187

然后你应该有一个函数指针数组来实现这个：

`typedef double(*MyArray)();`

`MyArray MA[3];`

您可以将带有签名的函数存储`double function_name()`到数组中，例如：

`MA[0] = MyFunction;`

`cout<< MA[0]()<<endl;`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:59:15.197

在 C 中，您可以这样做：

```
#include <stdio.h>

/* Functions */
static double fn_0(void){return 0.;}
static double fn_1(void){return 1.;}
static double fn_2(void){return 2.;}

int main(void)
{
    /* Declaration */
    double (*pfn[])(void) = {fn_0, fn_1, fn_2};
    int i;

    for (i = 0; i < 3; i++) {
        printf("%f\n", pfn[i]()); /* Usage */
    }
    return 0;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T09:59:25.160

```
 double myFunction()
{
    double mydouble = 1;
  return mydouble;
}

int main()
{
  double myArray[3] = {0,0,0};
  for(int i=0;i<3;i++)
  {
    myArray[i] = myFunction();
    cout << myArray[i];
  }

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T10:02:51.847

解决方案在 C 和 C++ 中不同，在 C++11 和 pre-C++11 中也不同。

在所有这些中，您可以拥有一个简单的函数指针数组：

```
double (*array[3])() = { &f1, &f2, &f3 }; 
```

调用函数：

```
std::cout << (*array[i])() << std::endl; 
```

这是非常有限的，因为这意味着所讨论的函数不能依赖于任何其他数据。出于这个原因，通常在 C 中创建一个`struct`：

```
struct F
{
    double (*pf)( void* );
    void*    data;
};

F array[3] = { { &f1, NULL }, { &f2, someData }, { &f3, NULL } };

std::cout << (*array[i].pf)( &data ) << std::endl; 
```

（但是，在很多情况下，特别是在数值计算中，这是多余的。它主要用于回调。）

在 C++ 中，您还可以选择定义一个带有虚函数的抽象基类（将在每个派生类中被覆盖），并保存指向各种派生类实例的指针：

```
class F
{
public:
    virtual ~F() {}
    virtual double operator()() const = 0;
};

F const* array[3] = { &obj1, &obj2, &obj3 };

std::cout<< (*array[i])() << std::endl; 
```

最后，在 C++11 中，有一个标准对象`std::function` 封装了所有这些。（但是，您必须自己查找。像大多数人一样，我还没有使用完全支持 C++11 的编译器，因此无法练习。）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-06T10:14:27.130

像这样简单的事情怎么样？：

```
#include <iostream>
#include <map>

struct O
{
  std::map<size_t,double(*)()> m;
  double operator[](size_t index)
  {
    return m[index]();
  }
};

double mydouble = 1.25;

double myFunction()
{
  return mydouble;
}

int main()
{
  O myArray;
  myArray.m[2] = &myFunction;
  std::cout << myArray[2] << std::endl;
  return 0;
} 
```

输出（[ideone](http://ideone.com/XGpEWn)）：

```
1.25 
```

# jquery - 选择的 jquery 文件在 IE 中不起作用

> ID：15243827
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:46:17.140
> 
> 标签：jquery, if-statement

嗨，我正在编写使用 jquery 选择的文件，它可以在所有浏览器中运行，但在 IE 中它返回 false

请帮助我如何得到这个问题，我的代码如下所示

```
$("#Button").click(function(){

    if(fileSelected($("#file1"))&&fileSelected($("#file2")))
    {
      //do something
    }
    else{          
      return false;
    }
    return false;
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:49:49.753

在另一个问题中解决的方式不同：[jQuery: get the file name selected from <input type="file" />](https://stackoverflow.com/q/1299052/762846)这对你有用吗？如果该答案中的 val 为空字符串，则表示未选择任何文件。

# linux - 傀儡和实现虚拟资源

> ID：15243831
> 
> 赞同：0
> 
> 时间：2013-03-06T09:46:31.120
> 
> 标签：linux, puppet

我正在为 mongodb 开发一个 puppetmodule

这是我所拥有的（简化为基础知识）：

模块/mongodb/manifests/virtual.pp：

```
class mongodb::virtual {

  @package {['mongo-10gen-server','mongo-10gen']:
    ensure => installed
  } 
```

模块/mongodb/manifests/replicaset.pp：

```
define mongodb::replicaset {
  realize( Package['mongo-10gen-server','mongo-10gen'] )
} 
```

很简单，但是当我在客户端上执行 puppetrun 时：

```
Info: Retrieving plugin
Info: Loading facts in /var/lib/puppet/lib/facter/custom_facts.rb
Error: Could not retrieve catalog from remote server: Error 400 on SERVER: Failed to realize virtual resources Package[mongo-10gen-server], Package[mongo-10gen] on node mongonode
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run 
```

知道我的设置有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:11:05.723

必须回答我自己的问题：S

这是一个典型的 layer8 错误：我忘记在 replicaset.pp 中包含 ::virtual 类

# c# - 如何获取gridview的点击行列的值？

> ID：15243833
> 
> 赞同：1
> 
> 时间：2013-03-06T09:46:36.063
> 
> 标签：c#, asp.net, gridview

这是`gridview`.aspx中的代码

```
<asp:GridView ID="GridDaysPart" runat="server" CellPadding="4" ForeColor="#333333" 
        GridLines="None" Font-Names="Verdana" Font-Size="Smaller" 
        onrowcommand="GridDaysPart_RowCommand">
</asp:GridView> 
```

我正在像这样在 .cs 文件中创建列

```
DataTable dt = new DataTable();
dt.Columns.Add(new DataColumn("Sun", Type.GetType("System.Int32")));
dt.Columns.Add(new DataColumn("Mon", Type.GetType("System.Int32")));
dt.Columns.Add(new DataColumn("Tue", Type.GetType("System.Int32")));
dt.Columns.Add(new DataColumn("Wed", Type.GetType("System.Int32")));
dt.Columns.Add(new DataColumn("Thu", Type.GetType("System.Int32")));
dt.Columns.Add(new DataColumn("Fri", Type.GetType("System.Int32")));
dt.Columns.Add(new DataColumn("Sat", Type.GetType("System.Int32")));
return dt; 
```

然后绑定gridview。现在我想获取特定 [row] [cell] 的值，我在其上单击，我可以使用 rowcommand 事件获取行索引，但是如何知道单击了哪一列？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:52:45.853

您可以挂钩[selectedindexchanged](http://dotnetspeaks.net/post/Selecting-GridView-Row-by-clicking-anywhere-on-the-row.aspx)并通过`GridView.SelectedRow.Cells[0].Text`

```
protected void GridView1_SelectedIndexChanged(object sender, EventArgs e)
{
    var value= String.Format("You selected row {0} with {1} {2}",
                                            GridView1.SelectedIndex + 1,
                                            GridView1.SelectedRow.Cells[0].Text,
                                            GridView1.SelectedRow.Cells[1].Text);
} 
```

或使用

```
var value= CustomersGridView.Rows[e.NewEditIndex].Cells[0].Text; 
```

编辑：使用[这个](https://stackoverflow.com/questions/5499319/asp-net-c-sharp-gridview-row-click-function)

```
protected void GridView1_OnRowCommand(object sender, GridViewCommandEventArgs e)
{
    int rownum = Convert.ToInt32(e.CommandArgument.ToString());
    foreach(GridViewRow row in sender.Rows)
    {
        if(row.Cells[0].Text == "a-value-")
        {
             // Do something....
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:56:17.570

您可以使用 DataGridView.CurrentCell 属性

```
int columnIndex = dataGridView.CurrentCell.ColumnIndex;
int rowIndex = dataGridView.CurrentCell.RowIndex; 
```

你可以参考这个[链接](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.currentcell.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-09T13:13:29.677

```
 private void dataGridView1_MouseDoubleClick(object sender, MouseEventArgs e)
    {
        textBox1.Text = dataGridView1.SelectedRows[0].Cells[0].ToString();
    } 
```

我们可以使用它来获取使用 Cell Clicked 事件单击的特定单元格的值。我在 C# Hope Works For Others 中也这样做了。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-03-06T09:54:14.963

尝试`GridView.RowEditing`：

```
String xxx = CustomersGridView.Rows[e.NewEditIndex].Cells[0].Text; 
```

查看此[链接](http://msdn.microsoft.com/es-es/library/system.web.ui.webcontrols.gridview.rowediting%28VS.80%29.aspx)

# c - CppUTest：如何将更多数据传递给特定的模拟调用？

> ID：15243838
> 
> 赞同：2
> 
> 时间：2013-03-06T09:46:52.833
> 
> 标签：c, mocking, cpputest

我开始将 CppUTest 用于一些 C/C++ 项目。特别是模拟扩展听起来不错，但我目前正在努力如何以正确的方式设置模拟。假设一个用于抽象网络套接字通信的低级类。

**我的第一种方法：**

```
size_t CMockSocket::recv(void* buf, size_t len)
{
  return (size_t) mock().actualCall("recv")
      .withParameter("len", (int) len)
      .returnValue().getIntValue();
}

```

设置期望：

```
mock().expectOneCall("recv")
    .withParameter("len", 20)
    .andReturnValue(15);

```

到现在为止还挺好。但我需要的是提供更多数据——在这种情况下，我想通过 buf 指针返回 15 个字节。我尝试使用`.setData()`and`setDataObject()`方法。但看起来函数将数据存储在命名变量中，而不是使用预期的函数调用。因此后续调用将覆盖前面的数据，对吗？

我目前的问题是如何将额外的*返回*数据传递给模拟方法？我的第一个方法是创建一个包含返回值（size_t）和数据缓冲区的结果类。像这样：

```
类 CRecvResults
{
上市：
  size_t m_returnValue;
  无效* m_buffer;
  CRecvResults(size_t returnValue, void* buffer) :
    m_returnValue(returnValue), m_buffer(缓冲区) {}
  ~CRecvResults() {}
};

size_t CMockSocket::recv(void* buf, size_t len)
{
  CRecvResults* pResults =
      (CRecvResults*) mock().actualCall("recv")
      .withParameter("len", (int) len)
      .returnValue().getPointerValue());

  断言（pResults！= NULL）；
  断言（buf！= NULL）；
  断言(len >= pResults->m_buffer.length());
  memcpy(buf, pResults->m_buffer.data(), pResults->m_buffer.length());
  返回 pResults->m_returnValue；
}

```

和期望：

```
char* buffer = "一些返回的缓冲区内容至少 15 个字符长";
CRecvResults 结果（15，缓冲区）；
mock().expectOneCall("recv")
      .withParameter("len", 20)
      .andReturnValue(&results);

```

问题：这是正确的方法还是我错过了什么？我需要缓冲区内容，因为我需要测试结果解释器。

**我的第二种方法：**

```
bool CMockSocket::send(const void* buf, size_t len)
{
  return mock().actualCall("send")
      .withParameter("len", (int) len)
      .returnValue().getIntValue();
}

```

设置期望：

```
模拟（）.expectOneCall（“发送”）
    .withParameter("len", 20)
    .andReturnValue(true);

```

在这种情况下，我想验证由被测代码生成的 buf 中的传出数据。因此，我需要将该缓冲区内容（和长度）返回给测试函数。像这样：

```
CSendResults 类
{
上市：
  布尔 m_returnValue;
  char* m_buffer;
  size_t m_length;
  CSendResults(bool returnValue, char* buffer, size_t length) :
    m_returnValue(returnValue), m_buffer(buffer), m_length(length) {}
  ~CSendResults() {}
};

bool CMockSocket::send(const void* buf, size_t len)
{
  CSendResults* pResults =
      (CSendResults*) mock().actualCall("send")
      .returnValue().getPointerValue();

  断言（pResults！= NULL）；
  断言（buf！= NULL）；
  断言（pResults->m_length >= len）；
  memcpy(pResults->m_buffer, buf, len);
  pResults->m_length = len;
  返回 pResults->m_returnValue；
}

```

和期望：

```
字符缓冲区[1024]；
CSendResults 结果（真，缓冲区，sizeof（缓冲区）；
模拟（）.expectOneCall（“发送”）
      .withParameter("len", 20)
      .andReturnValue(&results);

// 进一步检查结果内容...

```

这看起来很丑陋，对我来说有很多开销。再次我的问题：这是正确的方法还是我错过了什么？

我的最后一个问题是：是不是我测试的方式完全错误？请告诉我您的经验和做法！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-04-28T09:01:18.463

CppUTest 中添加了一个新功能，它允许您为模拟指定一个输出参数。这可能是这样的：

```
{
    return (size_t) mock().actualCall("recv")
        .withOutputParameter("buf", buf)
        .withParameter("len", (int) len)
        .returnUnsignedLongIntValueOrDefault(0);
} 
```

期望可以这样指定：

```
char buffer[] = "blabla";

mock().expectOneCall("recv")
    .withOutputParameterReturning("buf", buffer, sizeof(buffer))
    .withParameter("len", sizeof(buffer))
    .andReturnValue(sizeof(buffer)); 
```

的内容`buffer`将通过输出参数复制到模拟的调用者。所以不再需要丑陋的解决方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-13T00:50:52.107

我正在使用以下丑陋的解决方法。我为返回值定义了一个结构类型以及我在假函数中需要的附加数据。我分配并填充了一个调用expectOneCall() 的实例，并使用“.andReturnValue()”传递它。在假函数中，我使用“...returnValue().getPointerValue()”获取数据，然后将返回值设置为 struct->rc，并处理我的附加数据（将其复制/比较到缓冲区）。在退出假函数之前，结构被释放。

这样，所需的附加数据将绑定到函数调用的参数列表。

福尔托斯

# linux-kernel - 用于暂停/恢复的 GPIO？

> ID：15243848
> 
> 赞同：4
> 
> 时间：2013-03-06T09:47:31.313
> 
> 标签：linux-kernel, linux-device-driver, gpio

尽管我阅读了一些关于*GPIOs*的文档，但我仍然无法理解*GPIOs*顶级多路复用。

从代码中，我看到在该特定驱动程序的*挂起*/*resume* 回调期间，专用设备的少数*GPIO*（如**Int**、**Reset Pins ）被多路复用。**我想知道这个*gpio*多路复用究竟做了什么以及它如何影响系统的*挂起*/*resume*？

 **** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T14:50:30.987

您所询问的功能通常不称为**多路复用**。为了在 GPIO 上启用挂起/恢复，您必须具有`interrupt`GPIO 上的功能。然后您可以将其标记`interrupt`为可唤醒。你这样做`irq_set_irq_wake()`是`gpio_to_irq()`有帮助的。底层*gpio*以及 Linux*驱动程序*必须支持这一点；它不是真正的驱动程序，而是您平台的*gpio 子系统的一个**实例。*

 *如果您感兴趣的驱动程序没有使用这些功能，那么它是非标准的 Linux 使用，您需要将我们指向适当的驱动程序源。

另请参阅：[LWN pinctrl](http://lwn.net/Articles/468759/)、[Linux gpio doc](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/gpio)、[pinctrl+gpio 设备树绑定](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/devicetree/bindings/gpio)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-08T08:17:09.533

Gpio TLMM 提供单个 GPIO 引脚可用于多种功能，因此可以将该 gpio 引脚配置为数据表/示意图中指定的任何一种功能。当系统要挂起时，所有 gpio 将根据其低功耗状态进行配置，以减少泄漏电流。如果一个 gpio 被配置为一个可以在系统处于睡眠状态时唤醒的中断，那么 gpio 中断监控将从正常 gpio 所有者切换到始终开启电源控制块。****

# c# - 以下方法或属性之间的调用不明确：`Android.App.AlertDialog.Builder.SetPositiveButton

> ID：15243851
> 
> 赞同：3
> 
> 时间：2013-03-06T09:47:40.250
> 
> 标签：c#, android, android-alertdialog, xamarin

目前我正在尝试使用 C# 在 Android 应用程序上创建一个警报对话框。不幸的是，我收到了这个错误：

```
The call is ambiguous between the following methods or properties: `Android.App.AlertDialog.Builder.SetPositiveButton(string, System.EventHandler<Android.Content.DialogClickEventArgs>)' and `Android.App.AlertDialog.Builder.SetPositiveButton(string, Android.Content.IDialogInterfaceOnClickListener)' (CS0121) (App) 
```

这是我的代码：

```
var alert = new AlertDialog.Builder(this).SetTitle("Title").SetMessage("Message").setPositiveButton("OK", null);
alert.Show ();
return true; 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T09:52:14.247

您的调用`.setPositiveButton("OK", null)`不明确，因为该方法有 2 个重载，并且您的第二个参数 null 可以解释为：

*   `System.EventHandler<Android.Content.DialogClickEventArgs>`
*   或作为`Android.Content.IDialogInterfaceOnClickListener`

如果你想调用第二个重载，试试这个：

```
.setPositiveButton("OK", (Android.Content.IDialogInterfaceOnClickListener)null) 
```

# c++ - 什么 c++（通用 (c/c++) 与 (通用 c)/c++ ）

> ID：15243854
> 
> 赞同：-4
> 
> 时间：2013-03-06T09:47:55.823
> 
> 标签：c++, c

我是一名编程学生，偶尔会遇到以下参考：通用 C，这是否意味着只是简单的经典 C？

“任何严肃软件中结构的通用 c/c++ 实现”

它通常出现在诸如此类的上下文中；我很确定我只是误读了诸如 (generic c)/c++ 而不是：generic (c/c++) 之类的引用。看起来它可能指的是一组库。感谢你的回复。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:58:22.273

# 没有“C/C++”这样的语言。

一般来说（双关语）意味着使用它的来源并不可信。这仍然适用于“通用 C”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:15:34.377

> “任何严肃软件中结构的通用 c/c++ 实现”

:)

这不是关于通用 C 或通用 C++，而是关于可以用 C 或 C++ 编译的代码结构的通用实现。

这是英语的歧义。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:53:53.593

我不认为对“通用 C”一词有一个完善的解释。它当然不是一个正式的或技术性的术语，所以你只需要尝试从上下文中推断出作者的意图。

我最好的猜测是它可能通常意味着非平台特定的 C，在这种情况下，它适用于 C++ 和 C 一样多。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T10:03:15.367

通用方法的示例是

```
template<typename T, size_t N>
struct array {
    T e[N];
    T* begin() {return e;}
    T* end() {return e+N;}
    size_t size() const {return N;}
};
...
array<int, 2> a1 = {1, 2};
array<double, 2> a2 = {10.0, 2.0}; 
```

如您所见，数组定义与类型和大小无关。这样的结构/函数被命名为“通用”。因此，任何使用这种方法的技术都可以称为“通用”。

# android - 如何在 AlarmManager 的 setRepeating 方法中设置值？

> ID：15243855
> 
> 赞同：2
> 
> 时间：2013-03-06T09:47:57.303
> 
> 标签：android, alarmmanager, android-pendingintent

我正在开发一个应用程序，我必须在其中安排一些事件。事件可以按以下顺序发生。

*   只有一次
*   日常的
*   月刊
*   每年

我正在使用`AlarmManager`它来达到目的，但我`setRepeating`对`AlarmManager`. 我输入的`time of schedule`内容`long`包括年份、月份日期和时间。我将如何利用时间安排我列出的活动？我的意思是我对如何设置时间参数以在我的时间也包括年份的定义时间之后重复事件感到困惑？对此的任何帮助表示赞赏。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:34:10.470

```
private void setNotification() {

    // TODO Auto-generated method stub
    getData();
    Calendar cal = Calendar.getInstance();

    long when =0; 
    intent = new Intent(this, AlarmReceiver.class);
    intent.putExtra("eventName", eventName);
    intent.putExtra("eventDescription",eventDescription);

    // Get the AlarmManager service
    AlarmManager am = (AlarmManager) getSystemService(ALARM_SERVICE);

    RadioGroup rg=(RadioGroup)findViewById(R.id.Setting_rgRepeatMode);
    selectedRadio=(RadioButton)findViewById(rg.getCheckedRadioButtonId());
    long repeatTime=0;
    if(selectedRadio.getText().toString().equals("None"))
    {
        cal.set(mYear,mMonth,mDay,mHour,mMinute,0);
        intent.putExtra("Flag",true);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);
        when=cal.getTimeInMillis();
        am.set(AlarmManager.RTC_WAKEUP,when, pendingIntent);
        return;
    }
    else if(selectedRadio.getText().toString().equals("Daily"))
    {
        intent.putExtra("Flag",true);
        repeatTime=(AlarmManager.INTERVAL_DAY);
    }
    else if(selectedRadio.getText().toString().equals("Weekly"))
    {
        intent.putExtra("Flag",true);
        repeatTime=(AlarmManager.INTERVAL_DAY*7);
    }
    else if(selectedRadio.getText().toString().equals("Monthly"))
    {
        intent.putExtra("month",mDay);
        repeatTime=(AlarmManager.INTERVAL_DAY);
    }
    cal.set(Calendar.HOUR_OF_DAY,mHour);
    cal.set(Calendar.MINUTE,mMinute);
    cal.set(Calendar.SECOND,0);
    when=cal.getTimeInMillis();
    PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);
    am.setRepeating(AlarmManager.RTC, when,repeatTime, pendingIntent);

} 
```

**另一个类是 AlermReceiver.java**

```
public class AlarmReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {
        try {
            //              Bundle bundle = intent.getExtras();
            //          String message = bundle.getString("alarm_message");
            //                  Toast.makeText(context,bundle.getString("eventName"), Toast.LENGTH_SHORT).show();

            NotificationManager notificationManager =(NotificationManager) context.getSystemService(context.NOTIFICATION_SERVICE);
            int icon = R.drawable.event;
            CharSequence notiText = "Event Notification";
            long time = System.currentTimeMillis();
            @SuppressWarnings("deprecation")
            Notification notification = new Notification(icon, notiText,time);
            notification.defaults |= Notification.DEFAULT_SOUND;
            notification.flags |= Notification.FLAG_AUTO_CANCEL;
            Intent notificationIntent = new Intent(context, Setting.class);
            PendingIntent contentIntent = PendingIntent.getActivity(context, 0, notificationIntent, 0);
            notification.setLatestEventInfo(context,intent.getStringExtra("eventName"),intent.getStringExtra("eventDescription"), contentIntent);
            int SERVER_DATA_RECEIVED =  1;
            Calendar cal=Calendar.getInstance();
            Toast.makeText(context,"aavechhe "+intent.getBooleanExtra("Flag",false),Toast.LENGTH_SHORT).show();
            if(intent.getIntExtra("month",0)==cal.get(Calendar.DAY_OF_MONTH))
            {
                Toast.makeText(context,"aavechhe "+cal.get(Calendar.DAY_OF_MONTH),Toast.LENGTH_SHORT).show();
                notificationManager.notify(SERVER_DATA_RECEIVED, notification);
            }
            if(intent.getBooleanExtra("Flag",false))
                notificationManager.notify(SERVER_DATA_RECEIVED, notification);

        } catch (Exception e) {
            Toast.makeText(context, "There was an error somewhere, but we still received an alarm", Toast.LENGTH_SHORT).show();
            e.printStackTrace();

        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:20:02.700

看看下面的代码

```
private static final long REPEAT_TIME = 1000 * 10;
AlarmManager service = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
Intent i = new Intent(context, YOURStartServiceReceiver.class);
PendingIntent pending = PendingIntent.getBroadcast(context, 0, i, PendingIntent.FLAG_CANCEL_CURRENT);
Calendar cal = Calendar.getInstance();

// Fetch every 10 seconds
// InexactRepeating allows Android to optimise the energy consumption
service.setInexactRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), REPEAT_TIME, pending);
// if you dont need InexactRepeating , use this 
//service.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), REPEAT_TIME, pending); 
```

(1000 * 10) 可以更改为您想要的间隔

希望能帮助到你！

# ruby - 在 IF 语句中包含来自其他条件的代码而不重复

> ID：15243856
> 
> 赞同：0
> 
> 时间：2013-03-06T09:47:58.640
> 
> 标签：ruby

我需要执行以下代码

```
if var == 1
  #some code #1
elsif var == 2
  #some code #1 + some code #2
elsif var == 3
  #some code #1 + some code #2 + some code #3
elsif var == 4
  #some code #1 + some code #2 + some code #3 + some code #4
end 
```

如何在不复制代码的情况下重写它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:10:34.080

我假设您想要执行副作用，一个选项是将代码移动到块并随意执行。我假设这些调用都是同质的：

```
proc1 = proc { ... }
proc2 = proc { ... }
proc3 = proc { ... }

case var
when 1
  proc1.call
when 2
  proc1.call
  proc2.call
when 3
  proc1.call
  proc2.call
  proc3.call
end 
```

这相当于：

```
[proc1, proc2, proc3, ....].take(var).each(&:call) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:50:12.187

请改用 switch 语句：

```
case var
when 1
  puts "It's 1"
when 2
  puts "It's 2"
when 3
  puts "It's 3"
when 4
  puts "It's 4"
else
  puts "None of the above"
end 
```

如果你真的想使用 if 语句，你可以使用简写：

```
puts 'It's 1' if var == 1
puts 'It's 2' if var == 2 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T10:18:00.913

```
if var > 0
   # code 1
end

if var > 1
   # code 2
end

if var > 2
   # code 3
end 
```

不需要在一个大的 if 或 case 块中运行整个事情，除非您遇到特殊情况，例如您只想运行代码 3 和代码 5（在这种情况下，我会按照 tokland 的建议构建 proc 数组)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:50:30.050

创建不同的方法并调用它们。

```
def method1
  return "Do "
end

def method2
  return "you "
end

def method3
  return "believe "
end

def method4
  return "in magic"
end

print "Type in a number between 1-4\nNumber: "
number = gets.chomp.to_i

case number
  when 1
    puts method1
  when 2
    puts method1 + method2
  when 3
    puts method1 + method2 + method3
  when 4
    puts method1 + method2 + method3 + method4
  else
    puts "Something something..."
end 
```

# visual-studio-2010 - vs2010 IntelliSense 错误标识符 XXX 未定义

> ID：15243857
> 
> 赞同：0
> 
> 时间：2013-03-06T09:48:00.730
> 
> 标签：visual-studio-2010, visual-c++, intellisense, makefile

我有一个可以**成功构建**的 makefile 项目，但是我遇到了很多 IntelliSense 错误，例如：

`117 IntelliSense: identifier "iInt32" is undefined d:\project\tjlpad\cpptest\lxn\xmlxn.h 242`

如何配置VS2010才能找到代码？？？

--

我正在开发一个超级旧（而且不是很好）的程序，它使用 VIM&VC++6，我正在尝试使用 VS2010 来完成我的开发工作。

# python - 查找给定命名空间属性的所有元素

> ID：15243858
> 
> 赞同：0
> 
> 时间：2013-03-06T09:48:08.757
> 
> 标签：python, xml, beautifulsoup

如果我有这样的事情：

```
<p>blah</p>
<p foo:bar="something">blah</p>
<p foo:xxx="something">blah</p> 
```

我如何让 beautifulsoup 选择具有 foo 命名空间属性的元素？

例如，我希望返回第二个和第三个 p 元素。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:57:07.740

从[文档](http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html#arg-attrs)中：

Beautiful Soup 提供了一个名为 attrs 的特殊参数，您可以在这些情况下使用它。attrs 是一个类似于关键字参数的字典：

```
soup.findAll(id=re.compile("para$"))
# [<p id="firstpara" align="center">This is paragraph <b>one</b>.</p>,
#  <p id="secondpara" align="blah">This is paragraph <b>two</b>.</p>]

soup.findAll(attrs={'id' : re.compile("para$")})
# [<p id="firstpara" align="center">This is paragraph <b>one</b>.</p>,
#  <p id="secondpara" align="blah">This is paragraph <b>two</b>.</p>] 
```

如果需要对名称为 Python 保留字的属性（如 class、for 或 import）进行限制，可以使用 attrs；或名称是 Beautiful Soup 搜索方法的非关键字参数的属性：名称、递归、限制、文本或 attrs 本身。

```
from BeautifulSoup import BeautifulStoneSoup
xml = '<person name="Bob"><parent rel="mother" name="Alice">'
xmlSoup = BeautifulStoneSoup(xml)

xmlSoup.findAll(name="Alice")
# []

xmlSoup.findAll(attrs={"name" : "Alice"})
# [parent rel="mother" name="Alice"></parent>] 
```

* * *

因此，对于您给定的示例：

```
soup.findAll(attrs={ "foo" : re.compile(".*") })
# or
soup.findAll(attrs={ re.compile("foo:.*") : re.compile(".*") }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:15:12.600

BeautifulSoup（版本 3 和 4）似乎没有将命名空间前缀视为任何特殊内容。它只是将命名空间前缀和命名空间属性视为名称中恰好有冒号的属性。

因此，要`<p>`在命名空间中查找具有属性的元素`foo`，您只需遍历所有属性键并检查是否`attr.startswith('foo')`：

```
import BeautifulSoup as bs
content = '''\
<p>blah</p>
<p foo:bar="something">blah</p>
<p foo:xxx="something">blah</p>'''

soup = bs.BeautifulSoup(content)
for p in soup.find_all('p'):
    for attr in p.attrs.keys():
        if attr.startswith('foo'):
            print(p)
            break 
```

产量

```
<p foo:bar="something">blah</p>
<p foo:xxx="something">blah</p> 
```

* * *

使用[lxml](http://lxml.de/)，您可以通过 XPath 进行搜索，它确实支持按命名空间搜索属性的语法：

```
import lxml.etree as ET
content = '''\
<root xmlns:foo="bar">
<p>blah</p>
<p foo:bar="something">blah</p>
<p foo:xxx="something">blah</p></root>'''

root = ET.XML(content)
for p in root.xpath('p[@foo:*]', namespaces={'foo':'bar'}):
    print(ET.tostring(p)) 
```

产量

```
<p xmlns:foo="bar" foo:bar="something">blah</p>
<p xmlns:foo="bar" foo:xxx="something">blah</p> 
```

# jakarta-ee - 无法在 EJB 中应用依赖注入

> ID：15243859
> 
> 赞同：1
> 
> 时间：2013-03-06T09:48:08.813
> 
> 标签：jakarta-ee, nullpointerexception, ejb

我是 EJB 技术的新手，我目前正在阅读 Oracle 指南，试图将我阅读的内容付诸实践。为此，我在 Eclipse 中使用 JBoss 应用程序服务器创建了一个简单的 JSF 应用程序，使用托管 Bean 作为支持 Bean。我想借助 Singleton Bean 来初始化 Managed Bean 中的数据，只是为了感受下依赖注入是如何工作的。我按照[相关说明](http://docs.oracle.com/cd/E19798-01/821-1841/gipvc/index.html)进行操作，但无法初始化 Singleton Bean。应用程序在 Hello Managed Bean 的构造函数中抛出 NPE。我预计我的代码可能缺少一些东西，但我找不到它。以下 Bean 类的缺陷在哪里？：

```
@Startup
@Singleton
public class LaunchBean {

private List<String> custs;

public List<String> getCusts() {
    return custs;
}

public void setCusts(List<String> emps) {
    this.custs = emps;
}

@PostConstruct
void init() {       //in the guide the () after init is missed, but the code does not compile when omitting it
    custs = new ArrayList<String>();
    custs.add("Cust1");
    custs.add("Cust3");
    custs.add("Cust2");
    custs.add("Cust4"); 
}

}  

@ManagedBean
@SessionScoped
public class Hello implements Serializable{
@EJB
private LaunchBean dBean;

private static final long serialVersionUID = 1L;
private List<String> customers;
private String customersSelect;

public Hello(){
    customers = dBean.getCusts();
}

public List<String> getCustomers() {
    return customers;
}

public String getCustomersSelect() {
    return customersSelect;
}

public void setCustomersSelect(String customersSelect) {
    this.customersSelect = customersSelect;
}

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:54:42.910

您只能使用`@EJB`注解将 EJB 注入到其他 EJB 中。`Hello`bean 不是 EJB 。和注释都`@ManagedBean`没有`@SessionScoped`使它成为一个。为了使其成为一体，例如，您可以为其添加一个 `@Stateless`或一个`@Stateful`注释。

`@Inject`或者，您可以使用 CDI 使用注释将 EJB 注入到非 EJB 中。但是请注意，您将无法利用通过 CDI 注入的 EJB bean 来利用某些 EJB 功能。

**编辑**我刚刚注意到代码的另一个问题。错误的不仅仅是注射。`Hello`如果您尝试在那里访问注入的成员，那么 bean 的构造函数中总会有一个 NPE 。成员在对象构造之后注入，因此构造函数不可用。要在注入成员后立即使用它们，请使用带有注释的方法`@PostConstruct`。

**编辑 2**我做了一些挖掘工作，看起来`EJB`注入 [确实适用于 ManagedBeans](https://stackoverflow.com/questions/8626291/jsf-managed-bean-ejb-injection)。因此，虽然您不能使用注释将 EJB 注入 POJO，但`EJB`在这种情况下，ManagedBeans 不应被视为 POJO :)。我很抱歉给您带来不便。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:05:46.733

**@kostja**，托管 bean 位于 Servlet 上下文之上，因此您可以从托管 Bean 内部注入 EJB。@arjacsoh。您需要`customers = dBean.getCusts();`在 @PostConstruct 方法中包含代码。您不能在构造函数中执行此操作，因为还没有创建 managedbean。@PostConstruct 方法在创建 Bean 后立即发生。

# java - 使用 Java 与控制台（Linux 中的终端）窗口交互

> ID：15243860
> 
> 赞同：1
> 
> 时间：2013-03-06T09:48:11.623
> 
> 标签：java

我正在开发用于 Java 编程的 GUI。

我希望在我的 GUI 中实现一个控制台（类似终端的东西），用于编译和执行创建的程序。（如 Eclipse 中的控制台窗口）。我浏览了几个教程（包括**stackoverflow**）。

我有一些解决方案将**System.out**和**System.err**重定向到**TextArea**。好的。我对此很满意。

但是当我运行一个java程序时，通过使用这些东西，我无法为正在执行的程序提供输入。

例如，以我现在的状态，我可以看到：：

输入数字：在**TextArea**中但无法输入到程序中。

为了完成控制台的功能，我也可以为正在执行的程序提供输入..!! 但我不知道该怎么做..!! 我有大麻烦了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T18:05:48.513

假设您正在使用[Process](http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html)。要获得流程，请使用[ProcessBuilder](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)启动您的程序。Process 允许访问进程的输入/输出流。然后，您可以以任何您需要的方式使用这些流。如果您希望您的进程与系统输入/输出交互，那么您需要将它们复制到相应的系统流/从相应的系统流中复制。

有关示例，请参见此问题/答案：

*   [在 Java 6 中使用继承的 stdin/stdout/stderr 启动进程](https://stackoverflow.com/questions/60302/starting-a-process-with-inherited-stdin-stdout-stderr-in-java-6)

和后续行动：

*   [如何将流程的输入/输出流复制到其系统对应物？](https://stackoverflow.com/questions/4177594/how-to-copy-input-output-streams-of-the-process-to-their-system-counterparts?lq=1)

此外，请参阅 Java 7 中添加的新[ProcessBuilder.inheritIO()](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html#inheritIO%28%29)方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-05T14:39:57.673

这可能会帮助你 [http://www.dreamincode.net/forums/topic/273874-redirect-systemin-to-jtextarea/](http://www.dreamincode.net/forums/topic/273874-redirect-systemin-to-jtextarea/)

这家伙已将标准输入定向到 jtextarea ..

# git - git 工作流程 + 预生产

> ID：15243862
> 
> 赞同：4
> 
> 时间：2013-03-06T09:48:20.283
> 
> 标签：git, workflow, git-flow

在组织分支和工作流程方面需要一些帮助。
前提条件：10 名开发人员使用 git，0 次单元测试覆盖率，10^5 行代码。

在我们的带有`master`分支的 repo 中，它充当`production`.
每个功能都在不同的分支上开发，这也创建了一个新的域 ( `branch.qa.com`)

完成后，QA 团队会检查更改`branch.qa.com`，然后将其合并到主服务器并自动推送到生产服务器。

**问题**：
分支 A 可能有`css`变化。它被上传`A.qa.com`并被检查。同时，开发人员从
分支分支并对其进行处理，修改相同的. `B``master``css`

这两个更改对于它们的分支来说似乎都是合法的，但是可能会发生 change on`B`实际上粉碎了某些东西`A`。

合并`A`进去`master`就OK了。那么merging `B`into`master`会对`A`.

**你排除这种情况吗？你如何融入`pre production`？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:56:08.007

如果您遵循 git-flow，您将拥有一个单独的`develop`分支，所有新功能都会从其中分支出来，并在完成后合并回。

然后，您可以从`develop`分支创建临时`release`分支，这些分支经过测试（必要时可能会进行修补），然后合并到您的`master`/`production`分支中。

所以`develop`分支实际上最终成为一种`pre production`分支。

如果您然后让您的 QA 部门在合并回 之前处理功能检查`develop`，以及所有转换到`release`and `master`，我想您最终会在当前部门结构中得到您想要的。

图在这里： http: [//nvie.com/posts/a-successful-git-branching-model/](http://nvie.com/posts/a-successful-git-branching-model/)

作为补充说明，我们目前正在通过[gerrit](http://code.google.com/p/gerrit/)实现 git-flow 和代码审查，这将为我们提供一个处理所有这些的平台——尽管在我们的案例中，开发人员和 QA 团队是同一个人（尽管有添加了具有自动化测试功能的[Jenkins CI服务器）。](http://jenkins-ci.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:58:22.307

你可以看看这个链接[http://nxvl.blogspot.com/2012/07/a-continous-delivery-git-branching-model.html](http://nxvl.blogspot.com/2012/07/a-continous-delivery-git-branching-model.html)

我认为在您的组织中，`develop`缺少“ ”分支。

预生产阶段可以是“ `develop`”分支，生产是“ `master`”分支。

由于分支之间可能存在冲突，您不能直接合并到您的“ `master`”分支中而无需进一步测试（这里的冲突不仅是“git冲突”，还有算法冲突）

# php - CodeSniffer 大小写缩进问题

> ID：15243866
> 
> 赞同：4
> 
> 时间：2013-03-06T09:48:35.613
> 
> 标签：php, netbeans-7, codesniffer

我正在使用带有代码嗅探器的 Netbeans 7.1.1。每当我有一个`case`语句时，我都会收到缩进错误，例如以下代码：

```
 switch ((int) $itemData['column_count']) {
        case 4:
            return 'grid-4columns';
        case 6:
            return 'grid-6columns';
        default:
            return '';
    } 
```

我得到“行缩进不正确；每`case`行预期 8 个空格，找到 12 个”。当我从这些行中删除 4 个空格时，例如

```
 switch ((int) $itemData['column_count']) {
    case 4:
        return 'grid-4columns';
    case 6:
        return 'grid-6columns';
    default:
        return '';
    } 
```

我收到错误“行缩进不正确；预期 12 个空格，找到 8 个”。好像codesniffer拿不定主意，挺搞笑的。当我的提交由于代码嗅探器钩子而失败时，乐趣就结束了。

我的`case`缩进有什么问题？

更新：我的规则集中只有一个缩进规则：

```
<rule ref="Generic.WhiteSpace.ScopeIndent" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-07-06T10:39:29.370

我使用时遇到了完全相同的问题`<rule ref="PEAR.WhiteSpace.ScopeIndent" />`，我修复了它只是切换到`<rule ref="Generic.WhiteSpace.ScopeIndent" />`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-11-27T19:20:48.170

也可以忽略特定标记的缩进问题：

```
<!-- If you are using Generic -->
<rule ref="Generic.WhiteSpace.ScopeIndent">
    <properties>
        <property name="ignoreIndentationTokens" type="array" value="T_COMMENT,T_DOC_COMMENT_OPEN_TAG,T_CASE" />
    </properties>
</rule>

<!-- If you are using PEAR -->
<rule ref="PEAR.WhiteSpace.ScopeIndent">
    <properties>
        <property name="ignoreIndentationTokens" type="array" value="T_COMMENT,T_DOC_COMMENT_OPEN_TAG,T_CASE" />
    </properties>
</rule> 
```

注意`T_CASE`. 这可以防止嗅探器检查您的`case:`规则。

[这是令牌列表](https://github.com/alienari/phpcs/blob/master/PHP_CodeSniffer/CodeSniffer/Tokens.php)

# windows-8 - 在文本框中按键输入事件

> ID：15243867
> 
> 赞同：1
> 
> 时间：2013-03-06T09:48:40.503
> 
> 标签：windows-8, visual-studio-2012

我正在为 Windows 8 C++ + DirectX 使用新的 Microsoft Visual Studio 2012 Express，我想识别`Enter`在文本框获得焦点时是否按下了键。所以我为文本框做了一个 key_down 事件，但现在我不知道如何识别钥匙是否是`Enter`钥匙

```
void App1::MainPage::input_KeyDown(Platform::Object^ sender, Windows::UI::Xaml::Input::KeyRoutedEventArgs^ e)
{
     //Recognize enter key
} 
```

我一直在寻找解决方案，但都使用 e->KeyCode 但这种方法在 Microsoft Visual Studio 2012 Express for Windows 8 C++ 中不存在，所以我必须做什么？对不起，我的英语不好 ：/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:09:48.067

我不知道它在 C++ 中是如何工作的。但在 C# 中，我会这样做：

```
if (e.Key.Equals(VirtualKey.Enter)
{
    // Do Something
} 
```

希望能帮助到你。

# jdo - 如何从 JDO (Datanucleus) 执行 TRUNCATE 查询？

> ID：15243868
> 
> 赞同：2
> 
> 时间：2013-03-06T09:48:57.970
> 
> 标签：jdo, datanucleus

如果可能，我的要求是从 Datanucleus 运行 TRUNCATE 查询。所以下面的代码：

```
Query query = pm.newQuery("javax.jdo.query.SQL", "TRUNCATE TABLE MYTABLE");
query.execute(); 
```

失败是因为 execute() 方法需要一个在 TRUNCATE 的情况下缺少的结果集。

到目前为止，我尝试了几种方法，但都没有成功。（另外，我设置了datanucleus.query.sql.allowAll=true）

任何提示将不胜感激！

# windows-7 - 如何使window7中所有用户的菜单栏字体加粗？

> ID：15243876
> 
> 赞同：0
> 
> 时间：2013-03-06T09:49:27.007
> 
> 标签：windows-7, registry

我正在尝试为机器中的所有用户制作所有菜单栏字体 [Bold]。我试图为此找到一个注册表项，但我找不到。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:57:09.890

用于`SystemParametersInfo(SPI_SETNONCLIENTMETRICS)`更改`lfMenuFont`.

# c# - java注解和C#属性一样吗？C ++中的等价物是什么？

> ID：15243877
> 
> 赞同：2
> 
> 时间：2013-03-06T09:49:36.480
> 
> 标签：c#, java, c++, attributes, annotations

java注解和C#属性一样吗？C ++中的等价物是什么？

我在[这里](https://stackoverflow.com/questions/553857/what-are-the-similarities-and-differences-between-java-annotations-and-c-sharp-a)找到了问题第一部分的解决方案。但是 C++ 呢？我认为这些机制在 C++ 中是不可能的，因为它们要求反射，而反射在 C++ 中不存在。对？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:50:56.830

注释是Java 类和包含的成员/方法的一种*元数据形式。*它们与编译器范围的关键字不同，因为它们可以保留在已编译的类中并且（如您所指出的）可通过反射获得。我不相信 C++ 中有任何等价物。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:56:29.313

您可以使用 gcc 添加一些属性，请参阅[Declaring Attributes of Functions](http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html)。

但这是非常具体的，不可移植，也不像 Java 注释那样灵活或可扩展。

虽然，您似乎可以编写编译器插件，它扩展了可识别的属性集

> GCC 插件可以提供自己的属性。

# php - 如何从下拉列表中获取选定的值，以便可以在 mysql 语句中使用

> ID：15243880
> 
> 赞同：0
> 
> 时间：2013-03-06T09:49:42.697
> 
> 标签：php, javascript, mysql

是否可以创建一个允许您从下拉列表中获取所选值的函数，以便可以在可以 print_r 输出一些信息的 mysql 语句中使用它？

我把所有东西都放在一页上。这是我去掉一些不相关信息后的页面。

php

```
"SELECT emd.m_field_id_8 as refer
FROM transactions as t
left join exp_members as em on (t.cardid-10000000 = em.member_id) 
left JOIN exp_member_data emd on em.member_id = emd.member_id
Group BY emd.m_field_id_8 limit 20");

foreach ($resultsdropdown->result_array() as $key)
{
$array1[] = array("Refer" => $key['refer']);
} 
```

html头。

```
</script>
<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.3.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function(){ 
    $('#button1').click(function(){ 
            alert($('#combo').val());
    });
});
</script> 
```

html正文。

```
<select id="combo">
<?
foreach($array1 as $key => $value)
{
echo'<option value="'.$value['Refer'].'">'.$value['Refer'].'</option>';
}
?>
</select>
<input id="button1" type="button" value="Click!" /> 
```

这是我卡住的地方。

这个想法是从我的 javascript 中获取变量，所以它可以用在可以 print_r 输出一些信息的 mysql 语句中？

这是 mysql 语句，我想从下拉列表中放置我选择的变量。

```
"SELECT t.*, em.*, emd.*
FROM transactions as t
left join exp_members as em on (t.cardid-10000000 = em.member_id) 
left JOIN exp_member_data emd on em.member_id = emd.member_id
ORDER BY t.created where emd.m_field_id_8 = 'VARIABLE?'"); 
```

但我不知道把我的sql放在哪里？我无法放入 php 区域，因为 javascript 无法将变量发送到 php。另一个问题是如何从我的下拉列表中获取选定的变量到 mysql..

你有什么想法吗？我希望你能帮忙。只要问我你是否有任何问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:01:40.017

将 HTML 部分放在一个页面上，并在另一页面上编写查询，如下所示：

```
$query = "SELECT t.*, em.*, emd.*
FROM transactions as t
left join exp_members as em on (t.cardid-10000000 = em.member_id) 
left JOIN exp_member_data emd on em.member_id = emd.member_id
ORDER BY t.created where emd.m_field_id_8 = 'VARIABLE?')";

mysql_query($query); 
```

现在尝试使用 HTML 页面中的 Ajax 从您创建的 php 页面的查询中获取数据。

请参阅[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)了解如何实现 ajax。

```
<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.3.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function(){ 
    $('#button1').click(function(){ 
            var comboValue = $('#combo').val();
    });
});
</script> 
```

尝试通过 ajax 将 javascript 变量 comboValue 发送到 php 文件，在那里您将能够根据需要使用它，并且您可以在同一个 HTML 页面上获得响应

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:02:04.780

（编辑）注意：我正在考虑您知道如何在服务器端获取表单元素的值。

如果您需要从下拉列表中选择一个值后立即更新您的页面.. 考虑使用 ajax.. 纯 javascript 方式或者您可以使用 jquery 的 ajax（我认为这更容易学习和使用）。

第二种方法是您可以在下拉列表中选择新值（使用 javascript）发布您的页面。页面会根据您的选择使用新内容刷新。

我希望它有所帮助。在这里您可以找到有关 jquery 的 ajax 的信息。 [http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)
您可以在搜索引擎中搜索更多资源。

# asp.net - 表单中需要一个自动生成的 ID 字段

> ID：15243886
> 
> 赞同：0
> 
> 时间：2013-03-06T09:50:00.817
> 
> 标签：asp.net

当用户点击提交按钮时，这一切都会发生

我的要求：ID格式应该是FF-YY-00001-A（这是表格的字段）

1 FF 是快捷方式名称

2.YY 是当前日期，我想将其保存在表中作为年份字段，以便有助于跟踪报告，条件：我必须采取一年的最后一部分，即假设 2013=> 13 2014= > 14

下一个字段是自动增量字段，为此它应该生成并增加一个我想，这个值可以来自表中的自动增量字段，如序列号。像 sr.no=1 我们可以取这个字段 00001 或 1 00001 （如果可以的话应该会更好）

我们还必须将此值增加到 1 [* 我们必须获取之前的值进行比较，我们可以借助最后一条记录和字段 sr.no]

4.A/B/C/D是用户的选项

在这一切之后

现在我们的 ID 应该是 FF-13-1-A 下一个：FF-13-2-B 下一个条目：FF-13-3-C

注意：我们还必须考虑 Dash (-)，即我们的 ID 格式包括 Dash，即 (-)

提交按钮后：

a) ID 字段将被更新示例：FF-YY-00001 b) 自动增量字段 Sr.no 获取值示例：like 1 c)year 字段将被更新示例：like 2013

希望你能理解要求

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:55:44.363

也许这会帮助你：

```
int clientId = 3;
int otherId = 4

var id = String.Format("FF-{0}-{1:D5}-A", otherId, clientID); 
```

您可以通过将 FF 替换为 {arg} 来设置字母。`dropdownlist`您可以通过调用获取值`dropdownlist.SelectedValue`

+

[生成字母表中的字母数组](https://stackoverflow.com/questions/314466/generating-an-array-of-letters-in-the-alphabet-in-c-sharp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:09:41.143

我假设这个问题不仅与格式化文本有关，还与多个并发用户上下文中的 id 连续性有关。有2种情况：

1.  您想在保存表单并将其显示给用户**之前获取自动生成的 ID。**

    如果是这种情况，由于用户并发性，这非常棘手。如果 2 个用户将打开一个表单，您将必须为彼此分配下一个自动递增的值（可能来自数据库或其他持久存储）。如果你这样做，他们将有连续的 id。但是，如果第一个用户在第二个用户填写表单时取消了表单，这将破坏该字段的自动递增部分的连续性（第二个用户已经有一个 id 正在跳过之前的那个，它被取消了）。作为这种情况的唯一解决方法，您必须中断 ID 连续性或在保存后将其替换为新值（这没有太大意义）。

2.  保存表单**后**，您将向用户显示自动生成的 ID 。

    这很容易做到，最好的方法（在我看来）是将用户选项`A/B/C/D`（通过字符串连接自动生成 id。之后您要做的就是从数据库中返回自动生成的 ID。

**[更新]**

如果您选择第二种情况，我将发布一个示例，说明您必须做的事情。我假设您使用的是 MS SQL Server，存储过程也是您的选择。

首先，我将在这个例子中使用一个简单的形式：

```
<form id="form1" runat="server">
    <div>
        <asp:DropDownList runat="server" ID="ddl">
            <asp:ListItem Text="A" Value="A"></asp:ListItem>
            <asp:ListItem Text="B" Value="B"></asp:ListItem>
            <asp:ListItem Text="C" Value="C"></asp:ListItem>
            <asp:ListItem Text="D" Value="D"></asp:ListItem>
        </asp:DropDownList>
        <asp:Button runat="server" ID="btn" 
            OnClick="btn_Click" Text="Add form" />
        <asp:Label runat="server" ID="label" />
    </div>
</form> 
```

添加处理按钮单击的方法：

```
protected void btn_Click(object sender, EventArgs e)
{
    var year = DateTime.Now.Year.ToString();
    var yearDigits = year.Substring(year.Length - 2);
    var generatedId = SaveForm(yearDigits, ddl.SelectedValue);
    label.Text = generatedId;
} 
```

将您的连接字符串添加到可以从该`SaveForm`方法访问的位置：

```
const string connectionString = @"yourConnectionString"; 
```

添加执行插入并返回自动生成的 id 的方法：

```
private string SaveForm(string yearDigits, string userOption)
{
    string autoId;
    using (var sqlConnection = new SqlConnection(connectionString))
    {
        try
        {
            sqlConnection.Open();
            using (var sqlCommand = new SqlCommand("AddForm", sqlConnection))
            {
                sqlCommand.CommandType = CommandType.StoredProcedure;
                sqlCommand.Parameters.Add("year", SqlDbType.Char, 2)
                    .Value = yearDigits;
                sqlCommand.Parameters.Add("option", SqlDbType.Char, 1)
                    .Value = userOption;
                var outputParameter = new SqlParameter();
                outputParameter.ParameterName = "autoId";
                outputParameter.Direction = ParameterDirection.Output;
                outputParameter.SqlDbType = SqlDbType.Char;
                outputParameter.Size = 14;
                sqlCommand.Parameters.Add(outputParameter);
                sqlCommand.ExecuteNonQuery();
                autoId = outputParameter.Value.ToString();
            }
        }
        catch (Exception)
        {
            // TODO: manage exception
            throw;
        }
    }
    return autoId;
} 
```

在 SQL 服务器端，我们将使用一个简单的表：

```
CREATE TABLE [dbo].[Forms](
    [Id] [int] IDENTITY(1,1) NOT NULL,
    [GeneratedId] [char](14) NOT NULL,
    CONSTRAINT [PK_Forms] PRIMARY KEY CLUSTERED 
    (
        [Id] ASC
    )
) 
```

现在，添加将插入宿舍数据并返回自动生成的 ID 的存储过程：

```
CREATE PROCEDURE [dbo].[AddForm]
    @year char(2),
    @option char(1),
    @autoId char(14) output
AS
BEGIN
    DECLARE @rows int
    SELECT 
        @rows = (SELECT COUNT(*) FROM [Forms]),
        @autoId = 'FF-'+@year+'-'+Replace(Str(
            CASE
                WHEN @rows = 0 THEN 1 
            ELSE 
                IDENT_CURRENT('Forms')+1 
            END
        , 6), ' ' , '0')+'-'+@option
    INSERT Forms (GeneratedId) VALUES (@autoId)
END 
```

这应该就是全部了。

# r - 是否可以在 R 中定义具有自己方法的对象类

> ID：15243888
> 
> 赞同：5
> 
> 时间：2013-03-06T09:50:05.993
> 
> 标签：r, oop, object

我想在 R 中定义一个新的对象类，它带有自己的功能（例如获取最大值的 getter）。是否有可能在 R 中实现这一点？我在想类似的东西：

```
test <- class() {
  len = 0     # object variable1

  __constructor(length=0) {
    len = length # set len
  }

  getLength <- function() {
    len   # return len
  }
} 
```

和

```
ob = test(20)    # create Objectof class test
ob.getLength()   # get Length-Value of Object 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T10:15:50.563

为了让你开始，我将举一个`S3`类的例子：

```
# create an S3 class using setClass:
setClass("S3_class", representation("list"))
# create an object of S3_class
S3_obj <- new("S3_class", list(x=sample(10), y=sample(10))) 
```

现在，您可以对内部函数进行函数重载，例如，`length`将函数作为（您也可以`operator-overload`）作用于您的类：

```
length.S3_class <- function(x) sapply(x, length)
# which allows you to do:
length(S3_obj)

#  x  y 
# 10 10 
```

或者，您可以使用任何名称拥有自己的函数，您可以在其中检查对象是否属于类`S3_class`并执行某些操作：

```
len <- function(x) { 
    if (class(x) != "S3_class") {
        stop("object not of class S3_class")
    }
    sapply(x, length)
}

> len(S3_obj)
#  x  y 
# 10 10 

> len(1:10)
# Error in len(1:10) : object not of class S3_class 
```

解释 S4（如 S3）有点困难，因为有很多术语和事情要知道（它们并不难，只是不同）。我建议您浏览这些评论下提供的链接（以及 S3，因为我在这里的目的是向您展示它是如何完成的示例）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T11:02:13.973

R 也有函数闭包，非常适合您的示例

```
test = function() {
  len = 0
  set_length = function(l = 0) len <<-l
  get_length = function() len
  return(list(set_length=set_length, get_length=get_length))
} 
```

这给出了：

```
R> m = test()
R> m$set_length(10)
R> m$get_length()
[1] 10
R> m$set_length()
R> m$get_length()
[1] 0 
```

# java - HIbernate 抛出 MappingException

> ID：15243891
> 
> 赞同：0
> 
> 时间：2013-03-06T09:50:13.163
> 
> 标签：java, hibernate

你好，

我正在尝试用 Hibernate 和 Maven 做一个简单的应用程序。
我创建了hibernate.cfg.xml 和映射文件contacts.hbm.xml。

**一旦我开始它，我就会得到一个例外：**

```
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
Exception in thread "main" org.hibernate.MappingException: invalid configuration
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2241)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2158)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2137)
    at main.java.FirstHibernate.com.myhib.CRUDS.CrudsOps.main(CrudsOps.java:15)
Caused by: org.xml.sax.SAXParseException; lineNumber: 54; columnNumber: 129; Attribute "value" must be declared for element type "property".
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.addDTDDefaultAttrsAndValidate(XMLDTDValidator.java:1253)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1917)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDValidator.java:763)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:353)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2715)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:488)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)
    at org.dom4j.io.SAXReader.read(SAXReader.java:465)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2238)
    ... 3 more 
```

**这是我的 hibernate.cfg.xml**

```
<?xml version='1.0' encoding='utf-8'?>
<!--
  ~ Hibernate, Relational Persistence for Idiomatic Java
  ~
  ~ Copyright (c) 2010, Red Hat Inc. or third-party contributors as
  ~ indicated by the @author tags or express copyright attribution
  ~ statements applied by the authors.  All third-party contributions are
  ~ distributed under license by Red Hat Inc.
  ~
  ~ This copyrighted material is made available to anyone wishing to use, modify,
  ~ copy, or redistribute it subject to the terms and conditions of the GNU
  ~ Lesser General Public License, as published by the Free Software Foundation.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
  ~ or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License
  ~ for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with this distribution; if not, write to:
  ~ Free Software Foundation, Inc.
  ~ 51 Franklin Street, Fifth Floor
  ~ Boston, MA  02110-1301  USA
  -->
<!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">

<hibernate-configuration>

    <session-factory>

        <!-- Database connection settings -->
        <property name="connection.driver_class">org.postgresql.Driver</property>
        <property name="connection.url">jdbc:postgresql://localhost:5432/hibernatedb</property>
        <property name="connection.username">postgres</property>
        <property name="connection.password">postgres</property>

        <!-- JDBC connection pool (use the built-in) -->
        <property name="connection.pool_size">1</property>

        <!-- SQL dialect -->
        <property name="dialect">org.hibernate.dialect.PostgreSQLDialect</property>

        <!-- Disable the second-level cache  -->
        <property name="cache.provider_class">org.hibernate.cache.internal.NoCacheProvider</property>

        <!-- Echo all executed SQL to stdout -->
        <property name="show_sql">true</property>

        <!-- Drop and re-create the database schema on startup -->
        <property name="hbm2ddl.auto">create</property>

        <property name="hibernate.connection.provider_class" value="org.hibernate.connection.DriverManagerConnectionProvider" />

        <property name="propertyName">value</property>

        <!-- Names the annotated entity class -->
        <mapping resources="resources/hibernate/mapping/contacts.hbm.xml"/>
        <mapping class="FirstHibernate.com.myhib.CRUDS.Contacts"/>

    </session-factory>

</hibernate-configuration> 
```

**联系人.hbm.xml**

```
<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE hibernate-configuration PUBLIC
    "-//Hibernate/Hibernate Configuration DTD//EN"
    "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<hibernate-mapping>
    <class table="contacts" lazy="false" name="FirstHibernate.com.myhib.CRUDS.Contacts">
        <id column="id" type="int" name="id">
            <generator class="increment" />
        </id>
        <propetry name="fname" type="string" column="fname" />
        <propetry name="lname" type="string" column="lname" />
    </class>

</hibernate-mapping> 
```

什么可能是该异常的来源？

如果需要，可以发布 PS Java 类。

**- 更新 -**

当我改变

```
<property name="hibernate.connection.provider_class" value="org.hibernate.connection.DriverManagerConnectionProvider"/> 
```

到

```
<property name="hibernate.connection.provider_class">org.hibernate.connection.DriverManagerConnectionProvider</property> 
```

我有这样的例外

```
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
Exception in thread "main" org.hibernate.MappingException: invalid configuration
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2241)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2158)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2137)
    at main.java.FirstHibernate.com.myhib.CRUDS.CrudsOps.main(CrudsOps.java:15)
Caused by: org.xml.sax.SAXParseException; lineNumber: 59; columnNumber: 76; Attribute "resources" must be declared for element type "mapping".
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.addDTDDefaultAttrsAndValidate(XMLDTDValidator.java:1253)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1917)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDValidator.java:763)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:353)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2715)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:488)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)
    at org.dom4j.io.SAXReader.read(SAXReader.java:465)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2238)
    ... 3 more 
```

**--更新2--**

一旦我改变

*你确定是不是？因为在 DTD 中我只能看到元素“映射”的“资源”而不是“资源”属性。– Balázs Mária Németh 5 分钟前*

我有

```
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
Exception in thread "main" org.hibernate.InvalidMappingException: Unable to read XML
    at org.hibernate.util.xml.MappingReader.readMappingDocument(MappingReader.java:101)
    at org.hibernate.cfg.Configuration.add(Configuration.java:513)
    at org.hibernate.cfg.Configuration.add(Configuration.java:509)
    at org.hibernate.cfg.Configuration.add(Configuration.java:716)
    at org.hibernate.cfg.Configuration.addResource(Configuration.java:801)
    at org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:2344)
    at org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:2310)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2290)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2243)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2158)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2137)
    at main.java.FirstHibernate.com.myhib.CRUDS.CrudsOps.main(CrudsOps.java:15)
Caused by: org.xml.sax.SAXParseException; lineNumber: 6; columnNumber: 20; Document root element "hibernate-mapping", must match DOCTYPE root "hibernate-configuration".
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.rootElementSpecified(XMLDTDValidator.java:1599)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1877)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.startElement(XMLDTDValidator.java:742)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:376)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:602)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3063)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:881)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:488)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)
    at org.dom4j.io.SAXReader.read(SAXReader.java:465)
    at org.hibernate.util.xml.MappingReader.readMappingDocument(MappingReader.java:75)
    ... 11 more 
```

**--更新3--**

这对我有帮助

```
And finally it looks like there's a problem with contacts.hbm.xml. Change

<!DOCTYPE hibernate-configuration PUBLIC
    "-//Hibernate/Hibernate Configuration DTD//EN"
    "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
to

<!DOCTYPE hibernate-mapping PUBLIC 
"-//Hibernate/Hibernate Mapping DTD 3.0//EN" 
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"> 
```

现在我得到了这样的例外：

```
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
Exception in thread "main" org.hibernate.InvalidMappingException: Unable to read XML
    at org.hibernate.util.xml.MappingReader.readMappingDocument(MappingReader.java:101)
    at org.hibernate.cfg.Configuration.add(Configuration.java:513)
    at org.hibernate.cfg.Configuration.add(Configuration.java:509)
    at org.hibernate.cfg.Configuration.add(Configuration.java:716)
    at org.hibernate.cfg.Configuration.addResource(Configuration.java:801)
    at org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:2344)
    at org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:2310)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2290)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2243)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2158)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:2137)
    at main.java.FirstHibernate.com.myhib.CRUDS.CrudsOps.main(CrudsOps.java:15)
Caused by: org.xml.sax.SAXParseException; lineNumber: 11; columnNumber: 63; Element type "propetry" must be declared.
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1906)
    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDValidator.java:763)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:353)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2715)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:488)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)
    at org.dom4j.io.SAXReader.read(SAXReader.java:465)
    at org.hibernate.util.xml.MappingReader.readMappingDocument(MappingReader.java:75)
    ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:54:14.330

我认为这是不正确的

```
<property name="hibernate.connection.provider_class" value="org.hibernate.connection.DriverManagerConnectionProvider" /> 
```

改成

```
 <property name="hibernate.connection.provider_class"> org.hibernate.connection.DriverManagerConnectionProvider</property > 
```

它没有“价值”属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:01:20.097

看看[DTD](http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd)。该元素`property`没有属性`value`。在遇到 XML 解析错误的类似情况下，请务必查看 DTD 或模式描述！

所以正如 PSR 所说，改变

```
<property name="hibernate.connection.provider_class" value="org.hibernate.connection.DriverManagerConnectionProvider"/> 
```

并移动`value`as 子元素：

```
<property name="hibernate.connection.provider_class">org.hibernate.connection.DriverManagerConnectionProvider</property> 
```

它也是`<mapping resources=""...>`而不是`<mapping resource=""...>`。在 DTD 中，我只能看到元素的属性，而看`resource`不到属性。`resources``mapping`

最后看起来好像有问题`contacts.hbm.xml`。改变

```
<!DOCTYPE hibernate-configuration PUBLIC
    "-//Hibernate/Hibernate Configuration DTD//EN"
    "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"> 
```

到

```
<!DOCTYPE hibernate-mapping PUBLIC 
"-//Hibernate/Hibernate Mapping DTD 3.0//EN" 
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-06T18:27:47.210

将此文本添加到 hibernate.cfg.xml 之上
`<?xml version='1.0' encoding='utf-8'?> <!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">`

# apache - Apache .htaccess URL 重写

> ID：15243892
> 
> 赞同：1
> 
> 时间：2013-03-06T09:50:14.033
> 
> 标签：apache, .htaccess, mod-rewrite

我想从这里更改一个 URL：

[http://opportunityfinance.net/industry/industry_locator_proc.asp?organization=](http://opportunityfinance.net/industry/industry_locator_proc.asp?organization=) {组织名称}

对于这样的事情：

[http://opportunityfinance.net/industry/](http://opportunityfinance.net/industry/) {组织名称}

同时仍然访问第一个网址。{ORGANIZATION NAME} 可以等于一堆不同的名称，实际上是任何名称。

必须有一个简单的方法来使用 .htaccess 文件来做到这一点，对吧？

或者如果我们把它改成这样可能会更好：

[http://opportunityfinance.net/organization=](http://opportunityfinance.net/organization=) {组织名称}

我猜哪个更容易对我有用。谢谢，这里的你们太棒了！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T10:19:49.457

您必须首先使用 a 捕获查询字符串部分[`RewriteCond`](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritecond)并将客户端[重定向](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule)到新 URL

```
RewriteEngine on
RewriteCond %{ENV:REDIRECT_SEO} !1
RewriteCond %{QUERY_STRING} organization=(.+)
RewriteRule ^/?industry/industry_locator_proc.asp /industry/%1? [R,L] 
```

现在客户端请求新的 URL，而您从现有的 ASP 提供请求

```
RewriteCond %{REQUEST_URI} !industry_locator_proc.asp
RewriteRule ^/?industry/(.*) /industry/industry_locator_proc.asp?organization=$1 [E=SEO:1,L] 
```

环境设置`E=SEO:1`可防止无限循环。

当一切正常时，您可以替换`R`为`R=301`.

# iis - 如何故意在IIS中缓慢返回页面

> ID：15243893
> 
> 赞同：0
> 
> 时间：2013-03-06T09:50:15.000
> 
> 标签：iis, asp.net-mvc-4, iis-7.5

我在 IIS 7.5 上运行 MVC4 应用程序，在某些情况下我想减慢页面的响应时间。示例案例是用户尝试自我注册。

成功后，使用有效的新用户名和密码，我希望页面立即响应。失败时，当尝试使用预先存在的用户名注册时，我希望页面将响应速度减慢到大约 15 秒。

在框架内执行此操作的最佳方法是什么，以无线程/资源重的方式延迟 HTTP 响应。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:33:45.013

我相信最简单的解决方案是在发生错误时让当前线程休眠 15 秒。您的代码将如下所示：

```
public class HomeController : Controller
{
    public ActionResult Index()
    {
        // TODO: do something to determine if the action is a success or not
        var error = true;

        if (error)
        {
            Thread.Sleep(TimeSpan.FromSeconds(15));
        }

        return this.View();
    }
} 
```

编辑：或者可能是异步版本：

```
public class HomeController : Controller
{
    public async Task<ActionResult> Index()
    {
        // TODO: do something to determine if the action is a success or not
        var error = true;

        if (error)
        {
            await Task.Delay(TimeSpan.FromSeconds(15));
        }

        return this.View();
    }
} 
```

# javascript - Javascript绑定和这个

> ID：15243894
> 
> 赞同：1
> 
> 时间：2013-03-06T09:50:15.440
> 
> 标签：javascript, this, bind

我正在为 Websocket 连接构建时间测量。我需要将开放范围绑定到服务器对象。但我也有 time1，这是从开始到完成连接的时间。我想将 time1 放到对象中，它工作正常，但我在绑定函数中没有任何访问权限。

```
for(var i = 0; i < 10; i++) {
    Server[i] = new WebSocket('ws://127.0.0.1:9300');
    var time1 = new Date;
    Server[i].time1 = time1;

    Server[i].bind('open', function() {
                        var time2 = new Date;
                        /*** doesn't work ***/
                        console.log(time2 - this.time1);
                        /*** doesn't work ***/
                        console.log(time2 - Server[i].time1)
                        /***  ***/
    });
} 
```

这两种方法我都试过了，都不行。我知道绑定中的 this 是不同的，但是有人可以告诉我一种方法来确保每次 1 到每个服务器 [i] 对象，然后在此绑定方法中访问它吗？

谢谢！

**更新*******

 **您能否告诉我如何更改此功能以使其正常工作

```
this.conn.onopen = function(){dispatch('open',null)}

    var dispatch = function(event_name, message){
        var chain = callbacks[event_name];
        if(typeof chain == 'undefined') return; // no callbacks for this event
        for(var i = 0; i < chain.length; i++){
            chain[i]( message )
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:53:10.673

你必须关闭`i`像这样的值：

```
Server[i].bind('open', function(i) {
    return function() {
      var time2 = new Date;
      console.log(time2 - Server[i].time1)
    }
}(i)); 
```

否则，您的所有函数都会继续引用相同的变量。**

# apache - CakePHP 2.3 mod_rewrite 不工作

> ID：15243895
> 
> 赞同：1
> 
> 时间：2013-03-06T09:50:16.527
> 
> 标签：apache, cakephp, mod-rewrite

我有一个问题，用 CakePHP 1.3 编写了一个 Webapp，它运行良好，所以我想使用较新的 cake 版本，并在我的本地 Apache 上复制它（在旧的 Cake 运行正常之前可能具有正确的配置）它显示mod_rewrite 不起作用的错误。所以我不明白，因为如果我比较两个蛋糕版本的 .htaccess 会有很多差异，所以我尝试将旧的 .htaccess 用于较新的蛋糕 2.3，但得到了错误 500。

所以我真的不明白这个问题，因为 Apache 肯定配置正确。

这是我的 .htaccess 文件（cake 2.3.1）包含的内容：

蛋糕/

```
<IfModule mod_rewrite.c>
    RewriteEngine on
    RewriteRule    ^$    webroot/    [L]
    RewriteRule    (.*) webroot/$1    [L]
</IfModule> 
```

蛋糕/应用/

```
<IfModule mod_rewrite.c>
    RewriteEngine on
    RewriteRule    ^$    webroot/    [L]
    RewriteRule    (.*) webroot/$1    [L]
</IfModule> 
```

蛋糕/应用程序/webroot/

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule> 
```

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:19:56.430

我的 webroot htaccess 看起来像

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php?/$1 [QSA,L]
</IfModule> 
```

并且适用于 2.x

但推荐的方法是

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule> 
```

当你排队时。这应该适用于所有系统。

见[webroot htaccess](https://github.com/cakephp/cakephp/blob/2.3.1/lib/Cake/Console/Templates/skel/webroot/.htaccess)

还要确保 mod_rewrite 不仅可用，而且允许通过 htaccess 启用。您将需要虚拟主机/配置设置中的“AllowOverride All”之类的东西。并非所有地方都是默认设置。

# php - joomla 2.5 使用代码设置语言

> ID：15243897
> 
> 赞同：0
> 
> 时间：2013-03-06T09:50:20.910
> 
> 标签：php, joomla2.5

我正在使用 joomla 2.5.4 和 Virtuemart 2.0.6，我想在某些用户登录时更改网站的语言。我想使用代码而不是任何 joomla 设置来设置语言。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:02:27.300

您可以从 cookie 设置标签，或从其他地方传递它，这只是一个硬编码示例。

```
/* Set your tag */
$tag = 'es-ES';
/* Set your extension (component or module) */
$extension = ‘com_yourcomponent’;
/* Get the Joomla core language object */
$language =& JFactory::getLanguage();
/* Set the base directory for the language */
$base_dir = JPATH_SITE;
/* Load the language */
$language->load($extension, $base_dir, $tag, true); 
```

[参考： http](http://danmrichards.wordpress.com/2011/02/24/change-joomlas-language-at-run-time/) ://danmrichards.wordpress.com/2011/02/24/change-joomlas-language-at-run-time/

# android - Android Rest POST 不起作用

> ID：15243898
> 
> 赞同：0
> 
> 时间：2013-03-06T09:50:21.043
> 
> 标签：android, json, post, webclient

所以我有一个网络客户端正在运行。webclient 创建 JSON 文件，我可以使用简单的 URL 在我的 android 中使用这些文件。GET 运行良好，但现在我在 POST 中苦苦挣扎。

我的代码

webclient中的登录方法：

```
@RequestMapping(value = "/service/login", method = RequestMethod.POST, consumes =  "application/json")
public
@ResponseBody
User serviceLogin(@RequestBody User u) {
    if (userService.login(u) > -1) {
        return userService.findUser(u.getUsername());
    } else {
        return new User();
    }
} 
```

服务器调用者：

```
public ServerError login(String username, String password) {
       User user = new User();
       user.setUsername(username);
       user.setPassword(password);

       try {
           String URL = "http://"+ipAddress+"/ProjectTeamF-1.0/service/login.json";
           Object[] params = new Object[]{URL,user};
           receivedUser = new login().execute(params).get();

       } catch (ResourceAccessException rae) {
           receivedUser = null;
           return ServerError.ServerNotFound;
       } catch (HttpServerErrorException hsee) {
           receivedUser = null;
           return ServerError.WrongData;
       } catch(RestClientException rce){
           receivedUser = null;
           return ServerError.WrongData;
       } catch (Exception e) {
           System.out.println("error " + e);
           receivedUser = null;
           return ServerError.OtherError;
       }
       return ServerError.NoError;
   } 
```

看法：

```
private void instantiateElements() {
    login = (Button) findViewById(R.id.login);
    main = (Button) findViewById((R.id.main));

    serverCaller = ServerCaller.getInstance();

    login.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {
            username = (EditText) findViewById(R.id.username);
            password = (EditText) findViewById(R.id.password);

            serverCaller.login(username.getText().toString(), password.getText().toString());
            Toast.makeText(getApplicationContext(),serverCaller.getReceivedUser().getUserID(),Toast.LENGTH_LONG);

        }
    });
} 
```

异步方法：

```
public class login extends AsyncTask<Object[],Integer,User> {

@Override
protected User doInBackground(Object[]... params) {
    RestTemplate restTemplate = new RestTemplate();
    List<HttpMessageConverter<?>> list = new ArrayList<HttpMessageConverter<?>>();
    list.add(new MappingJacksonHttpMessageConverter());
    restTemplate.setMessageConverters(list);
    User user = new User();
    String url = "http://192.168.137.1:8080/ProjectTeamF-1.0/service/login.json";
    HttpEntity<User> entity = new HttpEntity<User>(user);

    ResponseEntity<User> response = restTemplate.postForEntity(url,entity,User.class);
    User u = response.getBody();

    return u;

}
} 
```

堆栈跟踪：

```
03-06 11:33:02.630: ERROR/power(176): *** set_screen_state 1
03-06 11:33:02.670: ERROR/Launcher(723): setWindowOpaque()
03-06 11:33:02.750: ERROR/Launcher(723): MTP-LAUNCHER: media scanning not yet finished.
03-06 11:33:05.130: ERROR/UinboxLogger(3355): [UinboxReceiver] onReceive() >> Context   is android.app.ReceiverRestrictedContext@405249f8
03-06 11:33:06.880: ERROR/Launcher(723): setWindowOpaque()
03-06 11:33:09.910: ERROR/Launcher(723): setWindowOpaque()
03-06 11:33:09.930: ERROR/Launcher(723): MTP-LAUNCHER: media scanning not yet finished.
03-06 11:33:10.000: ERROR/Launcher(723): setWindowOpaque()
03-06 11:33:23.540: ERROR/AndroidRuntime(3528): FATAL EXCEPTION: main
    java.lang.NullPointerException
    at teamf.view.Login$2.onClick(Login.java:61)
    at android.view.View.performClick(View.java:2485)
    at android.view.View$PerformClick.run(View.java:9080)
    at android.os.Handler.handleCallback(Handler.java:587)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:130)
    at android.app.ActivityThread.main(ActivityThread.java:3687)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
    at dalvik.system.NativeStart.main(Native Method)
03-06 11:33:23.550: ERROR/(176): Dumpstate > /data/log/dumpstate_app_error 
```

在我看来，我从 Toast 中得到了 NullpointerException。

安迪的想法？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:06:05.387

你应该把你的吐司放在你的异步任务的 onPostExecute 中。然后它会在任务完成后触发。现在您立即调用 get 并且您的请求尚未完成，您的 asynctask 的 doInBackground 仍然很忙。

# android - Android 选项菜单：找不到资源异常：仅在 4.0.x 上

> ID：15243904
> 
> 赞同：2
> 
> 时间：2013-03-06T09:50:35.383
> 
> 标签：android, resources, contextmenu, android-4.0-ice-cream-sandwich

我不是Android开发的初学者，但不明白我能做些什么来解决这个问题。

这些是当我在我的活动中打开选项菜单时将引发的错误。

如果这是我的应用程序的**第一次**启动，它只会引发一些错误。如果我再次启动应用程序，它将运行而不会出现任何错误。上下文菜单运行良好，可以做他们必须做的事情。

```
03-06 10:24:10.285: E/AndroidRuntime(28712): FATAL EXCEPTION: main
03-06 10:24:10.285: E/AndroidRuntime(28712): **android.content.res.Resources$NotFoundException: Resource ID #0x1090046**
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.content.res.Resources.getValue(Resources.java:1019)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.content.res.Resources.loadXmlResourceParser(Resources.java:2107)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.content.res.Resources.getLayout(Resources.java:858)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.view.LayoutInflater.inflate(LayoutInflater.java:394)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.view.menu.BaseMenuPresenter.getMenuView(BaseMenuPresenter.java:70)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.policy.impl.PhoneWindow$PanelFeatureState.getIconMenuView(PhoneWindow.java:3484)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.policy.impl.PhoneWindow.initializePanelContent(PhoneWindow.java:1124)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.policy.impl.PhoneWindow.openPanel(PhoneWindow.java:579)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.policy.impl.PhoneWindow.onKeyUpPanel(PhoneWindow.java:845)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.policy.impl.PhoneWindow.onKeyUp(PhoneWindow.java:1637)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1964)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.view.ViewRootImpl.deliverKeyEventPostIme(ViewRootImpl.java:3546)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.view.ViewRootImpl.handleFinishedEvent(ViewRootImpl.java:3519)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2603)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.os.Looper.loop(Looper.java:137)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at android.app.ActivityThread.main(ActivityThread.java:4507)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at java.lang.reflect.Method.invokeNative(Native Method)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at java.lang.reflect.Method.invoke(Method.java:511)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
03-06 10:24:10.285: E/AndroidRuntime(28712):    at dalvik.system.NativeStart.main(Native Method) 
```

很多人说，要清理项目或者刷新生成的数据，还是不行。

我尝试在许多具有完全不同 Android 版本的设备上调试我的应用程序。

例如，它适用于具有 2.2 的旧设备，但不适用于具有 4.0.3（Galaxy S2）的手机。

这是java类：

```
@Override
    public boolean onCreateOptionsMenu(Menu menu) {

        MenuInflater inflater = getMenuInflater();
        inflater.inflate( R.menu.main_options_menu, menu);
        return super.onCreateOptionsMenu(menu);
    } 
```

这是菜单项的 xml：

```
 <menu xmlns:android="https://schemas.android.com/apk/res/android">
            <item
                android:id="@+id/about"
                android:title="@string/menu_item_about"
                android:icon="@drawable/ueber"/>
     **<!--I don't list all the items!-->**
<!-- I'm sure, that all of the Resources are in the folders. The Strings are correct, the drawable, too.-->
         </menu> 
```

# c - 用于多线程的 C 信号（替代？）

> ID：15243907
> 
> 赞同：0
> 
> 时间：2013-03-06T09:50:43.763
> 
> 标签：c, multithreading, pthreads, linuxthreads

我正在通过 TCP socket 一个一个地发送一组浮点数。我的服务器（接收器 - 同时处理多个请求）程序应该读取数据，直到接收到值 0。如果客户端（发送器）在连接后 10 秒内（或在最后一个发送值之后）没有发送任何东西，我想要服务器关闭该连接。我发现了这种信号方法，但我认为在线程中使用它不是最佳选择，但更可能是 fork() 因为它迫使我使用全局变量。我必须将“socket”参数发送给函数，这样我就可以关闭它并且AFAIK这是不可能的。

```
void time_out(int semnal) {
  printf("Time out.\n");
  close(socket);
  exit(1);
} 
```

每次客户端连接或发送某些东西时，我称之为：

```
signal(SIGALRM, time_out);
alarm(10); 
```

我还有哪些其他选项必须数 10 秒才能重新启动此计时器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:54:06.370

您可以将 select 与空的 FD 集和超时一起使用。这很常见，也很便携。

# eclipse - JDT resolvebinding() 总是返回 null，使用 UIMA

> ID：15243909
> 
> 赞同：2
> 
> 时间：2013-03-06T09:50:50.337
> 
> 标签：eclipse, eclipse-jdt, uima

我使用 JDT 作为库来注释 UIMA 框架中的源代码。在 UIMA 框架中，我以 char[] 形式获取源代码。现在我想弄清楚源代码中的那些变量绑定。虽然我做了 setResolveBinding(true)，但我总是通过调用 resolveBinding() 得到 null。JavaDoc 说如果我通过 char[] 提供 setSource()，我需要 setProject() 和 setUnitName() 以获得非空结果。

但是，IJavaProject 和 UnitName 这两个东西只能通过将源文件导入到 eclispe 项目中来获得，这在我的情况下是不可行的。

有没有人解决过这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T14:04:49.477

能拿到UIMA框架的jar文件吗？如果是这样，我们可以[遍历 jar 文件](http://www.programcreek.com/2012/06/traverse-jar-file-by-using-eclipse-jdt/)。解析源代码是从 AST 获取信息的好选择。但是，由于只有在编译成功后才会生成 jar 文件，因此获取有用信息也是一个不错的选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-05T10:25:00.853

要跨多个文件进行绑定，您必须创建这些文件的临时文件`char[]`并使用（[来自 ASTParser 文档](http://help.eclipse.org/indigo/topic/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/dom/ASTParser.html#setEnvironment%28java.lang.Strinhttp://help.eclipse.org/indigo/topic/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/dom/ASTParser.html#setEnvironment%28java.lang.String%5B%5D,%20java.lang.String%5B%5D,%20java.lang.String%5B%5D,%20boolean%29)）：

> ```
> public void setEnvironment(String[] classpathEntries,
>                        String[] sourcepathEntries,
>                        String[] encodings,
>                        boolean includeRunningVMBootclasspath) 
> ```
> 
> **设置没有 IJavaProject 可用时**要使用的环境。[...]

和

> ```
> public void createASTs(String[] sourceFilePaths,
>                    String[] encodings,
>                    String[] bindingKeys,
>                    FileASTRequestor requestor,
>                    IProgressMonitor monitor) 
> ```
> 
> 为一批编译单元创建 AST。当绑定被解析时，处理一批编译单元效率更高，因为解析绑定所涉及的大部分工作都可以共享。
> 
> 解析绑定时，所有编译单元都使用相同的环境进行解析，必须事先使用 setEnvironment 设置。[...]

# ios - NSCachedURLResponse 返回对象，但 UIWebView 不解释内容

> ID：15243913
> 
> 赞同：8
> 
> 时间：2013-03-06T09:50:58.470
> 
> 标签：ios, objective-c, uiwebview, nsurlcache

我正在向 UIWebView 发送请求。加载的网页上有 AJAX 调用。我需要分析 AJAX 流量以确定用户是否登录。为此，我在 AppDelegate 中安装了 NSURLCache：

```
MYURLCache *cache = [[MYURLCache alloc] init];
[NSURLCache setSharedURLCache:cache]; 
```

此 MYURLCache 类正确接收通过 webview 运行的流量。我只能终止 AJAX 调用。然后我产生一个自己的 AJAX 调用请求。这个返回来自网络服务器的完美响应。所以现在要做的最后一步是构造 NSCachedURLResponse 返回对象。我也管理了这个，但是 webview 在返回对象时根本不做任何事情。如果我只返回 nil，WebView 加载一切正常（nil 是 NSURLCache 的消息，没有缓存，所以 webview 应该开始自己加载它）。

```
- (NSCachedURLResponse *)cachedResponseForRequest:(NSURLRequest *)request {
    if ([[[request URL] absoluteString] rangeOfString:@"/ajax/"].location == NSNotFound) {
        return nil;
    } else {

    ASIHTTPRequest *asirequest = [ASIHTTPRequest requestWithURL:[request URL]];
    [asirequest setValidatesSecureCertificate:NO];
    [asirequest startSynchronous];
    NSError *error = [asirequest error];
    NSData* data = [[asirequest responseString] dataUsingEncoding:NSUTF8StringEncoding];

    // Create the cacheable response
    NSURLResponse *urlresponse = [[NSURLResponse alloc] initWithURL:[request URL] MIMEType:@"application/json" expectedContentLength:[data length] textEncodingName:@"UTF-8"];
    NSCachedURLResponse *cachedResponse = [[NSCachedURLResponse alloc] initWithResponse:urlresponse data:data];

    NSLog(@"cachedResponse %@", cachedResponse);
    NSLog(@"cachedResponse data %@", [[NSString alloc] initWithData:[cachedResponse data] encoding:NSUTF8StringEncoding]);

    return cachedResponse;
}  

return nil;
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T16:42:28.593

我找到了一个解决这个问题的方法......我认为它与缺少的标题有关。

如果我更换

```
NSURLResponse *urlresponse = [[NSURLResponse alloc] initWithURL:[request URL] MIMEType:@"application/json" expectedContentLength:[data length] textEncodingName:@"UTF-8"];
NSCachedURLResponse *cachedResponse = [[NSCachedURLResponse alloc] initWithResponse:urlresponse data:data]; 
```

和

```
NSHTTPURLResponse *urlresponse = [[NSHTTPURLResponse alloc] initWithURL:request.URL statusCode:200 HTTPVersion:@"1.1" headerFields:nil];
NSCachedURLResponse *cachedResponse = [[NSCachedURLResponse alloc] initWithResponse:urlresponse data:data]; 
```

整个事情都有效。该答案还建议了请求的附加自定义标头。[https://stackoverflow.com/a/15234850/274518](https://stackoverflow.com/a/15234850/274518)

```
NSDictionary *headers = @{@"Access-Control-Allow-Origin" : @"*", @"Access-Control-Allow-Headers" : @"Content-Type"};
NSHTTPURLResponse *urlresponse = [[NSHTTPURLResponse alloc] initWithURL:request.URL statusCode:200 HTTPVersion:@"1.1" headerFields:headers]; 
```

就我而言，我不需要它。

# php - 键值数组

> ID：15243915
> 
> 赞同：-1
> 
> 时间：2013-03-06T09:51:08.320
> 
> 标签：php, mustache

我想遍历一个像这样的数组：

```
array(
   ['aaa'] => ['a'],
   ['bbb'] => ['b']
) 
```

通常，我会这样做：

```
{{#array}}{{array}}{{/array}} // 'a' 'b' 
```

但是 - 如何在上面的循环中显示当前键？我想显示类似`'aaa' 'a' 'bbb' 'b'`. 可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:51:36.587

在 Mustache 中无法遍历关联数组。它将您的关联数组视为“上下文”而不是可迭代列表。

您可以通过准备视图来使其可迭代，或者通过预处理您的数据以使其成为对 Mustache 更友好的格式。在将数据传递到 Mustache 之前，您可以使用 foreach 循环执行此操作，但最简单的方法可能是将其包装在 Presenter 中。试穿这个尺寸：

[https://gist.github.com/bobthecow/61161639d8be82a75b5e](https://gist.github.com/bobthecow/61161639d8be82a75b5e)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-06T09:58:15.497

尝试这个：

```
$a=array('aaa' => 'a', 'bbb' => 'b');
print_r($a);
foreach($a as $key => $val){
    echo $key . ' - ' . $val . '<br>';
} 
```

输出

```
Array
(
    [aaa] => a
    [bbb] => b
)
aaa - a
bbb - b 
```

# php - Wordpress 上未定义的索引错误 PHP

> ID：15243924
> 
> 赞同：-5
> 
> 时间：2013-03-06T09:51:26.330
> 
> 标签：php, wordpress, undefined

我正在使用 uptheme 选项面板进行排版。我是 PHP 新手，我收到了这个错误：

注意：wp-content/themes/XXXX/admin/library/engines/typography-engine.php:74 - 未定义索引：

第 74 行包含以下代码：

```
$stylesheet = $up_fonts[$font]['style']; 
```

我已经阅读了类似问题的答案，但我一直无法为我的错误找到解决方案。请帮忙。感谢您花时间回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:54:56.440

您需要在标签周围添加一个 isset 条件（或类似效果的东西）

```
if (isset($up_fonts[$font]['style'])) {
  // logic here...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:56:29.370

从错误中可以清楚地看出，您用于数组的当前索引不存在。

`$up_fonts[$font]['style']`未设置。

您还没有定义足够的数组。检查该值是否存在

```
if (isset($up_fonts[$font]['style'])):
  $stylesheet = $up_fonts[$font]['style'];
endif; 
```

# java - 无法读取 jar 中的图像

> ID：15243928
> 
> 赞同：0
> 
> 时间：2013-03-06T09:51:42.667
> 
> 标签：java, image-processing, netbeans, encryption, grayscale

我编写了一个程序来加密 Netbeans 中的图像。该程序在从 netbeans 运行时工作正常，但是当我将它构建到 .jar 文件中时它不起作用，即使我将图像文件放在与 .jar 文件相同的文件夹中，它也无法读取图像。

```
 package test;

    import java.io.IOException;
    import java.io.File;
    /**
     *
 * @author AMaR
*/
public class Test {

/**
 * @param args the command line arguments
 */
public static void main(String[] args) throws IOException, Exception {

    File EnImage = new File("encrypted.png");
    File DeImage = new File("decrypted.png");
    int[] pixels;

    LoadImage l = new LoadImage();
    l.load();
    pixels= l.getImagePixels();

    RC4New rc4 = new RC4New();
    int key[]= {13,2,4,6,};
  //  int data[]={5,10,90,5};
    rc4.KSA(key);
    int[] text = rc4.PRNG(pixels);
    l.write((int)512,(int)512,text,EnImage);

    //RC4New rc41 = new RC4New();
    rc4.KSA(key);
    int[] text1 = rc4.PRNG(text);
    l.write((int)512,(int)512,text1,DeImage);

 /*   for(int i=0;i<text.length;i++){
        System.out.println(text[i]);
    }

     RC4New rc41 = new RC4New();
     rc4.KSA(key);
    int[] text1 = rc4.PRNG(text); 
     for(int i=0;i<text1.length;i++){
        System.out.println(text1[i]);
    }

   */ 
    System.out.println("length:"+pixels.length);
  //  l.write((int)512,(int)512,text);

    // TODO code application logic here
}
    } 
```

//加密

```
 package test;

 /**
     *
 * @author AMaR
 */
 public class RC4New {
 int state[] = new int[256];

 int j;
 /**
 *
 * @param key
 */
public void KSA(int[] key){ 

    int tmp;
    for (int i=0; i < 256; i++) {
        state[i] = i;
    }

    j=0;

    for (int i=0; i < 256; i++) {

       j = (j + state[i] + key[i % key.length]) % 256;
        tmp = state[i];
        state[i] = state[j];
        state[j] = tmp;
    }
}
    public int[] PRNG(int[] data){
    int tmp,k;
    int i=0;
    j=0;
    int[] cipherText = new int[data.length];
    for(int x=0;x<data.length;x++){
        i = (i + 1) % 256;
        j = (j + state[i]) % 256;
        tmp = state[i];
        state[i] = state[j];
        state[j] = tmp;
        k = state[(state[i] + state[j]) % 256];
        cipherText[x]=  (data[x] ^ k);
    }
    return cipherText;

    }

    } 
```

//加载/写入图片

```
 package test;

    import java.awt.Dimension;
    import java.awt.image.BufferedImage;
    import java.awt.image.Raster;
    import java.io.IOException;
    import javax.imageio.ImageIO;
    import java.io.File;
    import java.awt.image.WritableRaster;
    /**
    *
    * @author AMaR
    */

    public class LoadImage {
      BufferedImage image;
      void load()throws Exception { 

   //  FIle newfile = new File("lena.png)

     image = ImageIO.read(getClass().getResourceAsStream("lena.png"));
    }
    public Dimension getImageSize() {
    return new Dimension(image.getWidth(), image.getHeight());
    }

   public int[] getImagePixels() {
    int [] dummy = null;
    int wid, hgt;

   // compute size of the array
    wid = image.getWidth();
    hgt = image.getHeight();

   // start getting the pixels
   Raster pixelData;
   pixelData = image.getData();
   return pixelData.getPixels(0, 0, wid, hgt, dummy);

   }
    @SuppressWarnings("empty-statement")
   public void write(int width ,int height, int[] pixels,File outputfile) {

       try {
   // retrieve image
    BufferedImage writeImage = new BufferedImage(512, 512, BufferedImage.TYPE_BYTE_GRAY);;
     // File outputfile = new File("encrypted.png");
    WritableRaster raster = (WritableRaster) writeImage.getData();
    raster.setPixels(0,0,width,height,pixels);
    writeImage.setData(raster);
    ImageIO.write(writeImage, "png", outputfile);

    } catch (IOException e) {
      }

     }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:57:21.733

目前尚不清楚以下哪一项触发了您的错误。这

```
 File EnImage = new File("encrypted.png"); 
```

将从当前目录读取，该目录不一定与您的 jar 文件所在的目录相同。

这

```
image = ImageIO.read(getClass().getResourceAsStream("lena.png")); 
```

将从您的类所在的 jar 文件中的目录中读取。请注意，您正在*从*jar 文件中读取，而不是从目录中读取。

鉴于上面的代码，我会：

1.  确定或明确指定`File()`操作的工作目录。您的工作目录是您从中调用`java`的目录，在 IDE 内部/外部这可能会有所不同
2.  将 lena.png 打包为 .jar 文件中的资源。

# javascript - 是否可以强制打开虚拟键盘？

> ID：15243932
> 
> 赞同：2
> 
> 时间：2013-03-06T09:51:54.157
> 
> 标签：javascript, android, google-chrome

从服务器接收到某些命令时是否可以弹出虚拟键盘？我试图将焦点放在文本区域，但软键盘没有出现。我同意要弹出键盘，需要用户事件。有没有办法强制显示虚拟键盘？我说的是 Android chrome 浏览器中的网络应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-05-23T12:15:42.580

您可以通过在输入上调用`focus()`then来执行此操作`click()`，但正如您所说，仅当脚本由用户输入启动时。我目前的答案，花了一天时间摆弄，是没有办法解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:27:00.107

这个问题可能会对您有所帮助：[Showing Android's soft keyboard when a field is .focus()'d using javascript](https://stackoverflow.com/questions/6020400/showing-androids-soft-keyboard-when-a-field-is-focusd-using-javascript)

在您的情况下，您可以尝试在页面上设置一个隐藏的文本输入字段，并在从服务器接收到命令时在其上触发点击事件。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T09:54:14.707

```
EditText editText = (EditText) findViewById(R.id.myEdit);
InputMethodManager mgr = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
// only will trigger it if no physical keyboard is open
mgr.showSoftInput(editText, InputMethodManager.SHOW_IMPLICIT); 
```

愿这对你有帮助

# java - 通过 severlet 邮寄

> ID：15243933
> 
> 赞同：0
> 
> 时间：2013-03-06T09:51:54.480
> 
> 标签：java, jakarta-mail

我正在尝试使用 servlet 发送电子邮件，但每次它都会给出异常，尽管相同的代码在通过简单的 java 类运行时效果很好。请问我怎样才能摆脱servlet中的这个异常。谢谢你的帮助。servlet 的例外情况是

例外：

```
javax.servlet.ServletException: Error instantiating servlet class SendEmail
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:563)
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:399)
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:317)
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.
java:204)
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.
java:182)
org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:311)
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
java.lang.Thread.run(Thread.java:662) 
```

代码：

```
import java.util.Properties;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;

import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class SendEmail extends HttpServlet {

protected void processRequest(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {

response.setContentType("text/html;charset=UTF-8");
PrintWriter out = response.getWriter();

props.put("mail.smtp.host", "smtp.gmail.com");
props.put("mail.smtp.socketFactory.port", "465");
props.put("mail.smtp.socketFactory.class",
            "javax.net.ssl.SSLSocketFactory");
props.put("mail.smtp.auth", "true");
props.put("mail.smtp.port", "465");

Session session = Session.getDefaultInstance(props,
    new javax.mail.Authenticator() {
    protected PasswordAuthentication getPasswordAuthentication() {  
 return new PasswordAuthentication("username","password"); 
 }
        });

 try {

        Message message = new MimeMessage(session);
        message.setFrom(new
                                InternetAddress("from@no-spam.com"));
        message.setRecipients(Message.RecipientType.TO,
                InternetAddress.parse("to@no-spam.com"));
        message.setSubject("Testing Subject");
        message.setText("Dear Mail Crawler," +
                "\n\n No spam to my email, please!");

        Transport.send(message);

        System.out.println("Done");

    } catch (MessagingException e) {
        throw new RuntimeException(e);
    }

     }
  } 
```

# ios - 如何使用基于异步数据的对象？

> ID：15243937
> 
> 赞同：-2
> 
> 时间：2013-03-06T09:52:08.180
> 
> 标签：ios, objective-c, asynchronous

我想根据来自网络的 NSData 初始化一个对象。

我可以根据异步数据构建对象，但我想知道如何等到它完成并继续下一个命令。

请问我可以得到一些提示或关键字吗？

```
ObjWithApi* aObj = [[ObjWithApi alloc]initWithUrl:url];
if(aObj){
    aLabel.text = aObj.title;
} 
```

好的，很多人质疑这个问题..但我现在有自己的答案。这个问题本身就是错误的。我需要的是“填充数据后做一些事情”，这意味着块就足够了。排序像

```
[obj getData:^(NSArray* data) {
   make data object by data.
} 
```

并反映到这个问题，它会是这样的

```
@interface someRemoteDataModel 
@implement someRemoteDataModel 
+(void)getData:(NSURL*)url andDoSomething:(void(^)(NSArray* data))block {
    block(data);
}
@end 
```

进而

```
[someRemoteDataModel getData:aURL andDoSomething:(^ NSArray *data){
  // fill data object and update UI

}]; 
```

如果有人读到这篇文章，请尝试将您的想法转换为合理的方式，并找出您自己的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:02:13.583

你可能想使用[AFNetworking](https://github.com/AFNetworking/AFNetworking)或 NSURLConnection

**NSURL连接**

你的班级必须实现`NSURLConnectionDelegate`and/or `NSURLConnectionDataDelegate`;

***请求发送***

```
// Create the POST request to the server.
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@"url"];
NSURLConnection *conn = [[NSURLConnection alloc] initWithRequest:request delegate:self];
[conn start]; 
```

***此数据接收 ***

```
#pragma mark - NSURLConnectionDataDelegate method/s
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    _myData = [data copy];
    // at this moment you can freely access `_myData` but remember to release it when it is needed
}

#pragma mark - NSURLConnectionDelegate method/s
- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error;
{
    // this method will be called if the url connection failed.
} 
```

# javascript - 选中复选框时启用禁用 iframe

> ID：15243942
> 
> 赞同：0
> 
> 时间：2013-03-06T09:52:19.060
> 
> 标签：javascript, html, iframe, checkbox

这是我的代码：-

```
<html>
    <head>
    <title>(Type a title for your page here)</title>
    <script language="JavaScript">
    <!--

    function enable_text(status)
    {
    status=!status; 
    document.f1.other_text.disabled = status;
    }
    //-->
    </script>
    </head>
    <body onload=enable_text(false);>

    <form name=f1 method=post>
    <input type="checkbox" name="others" onclick="enable_text(this.checked)" >Others
    <iframe name="other_text" src="www.google.com"></iframe>
    </form>

    </body>
    </html> 
```

现在我单击复选框相同的启用
未选中复选框相同启用
在这里我想设置如果我单击复选框然后禁用 iframe 如果签出然后启用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:02:47.803

`disabled`，在 HTML 术语中，意思是“这个表单控件是只读的，不能‘成功’”（成功的意思是“将出现在提交的数据中”）。

`iframe`元素不是表单控件，不接受用户输入，并且不与表单数据一起提交。

该术语`disabled`在应用于 iframe 时没有任何意义，因此您不能这样做。

* * *

更新重新评论：

> 我想要 iframe 的内部内容只读而不是我现在禁用它怎么可能

iframe 中的常规内容，就像其他任何地方的常规内容一样，**是**只读的。

如果要禁用 iframe 中文档中的表单控件，则通过 DOM 导航到这些表单控件并禁用表单控件（受 JS 跨框架的正常跨域限制）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T21:13:35.437

您不能禁用 iframe 本身。

一种解决方法是在 iframe 上方放置一个透明 div，这将阻止用户与 iframe 内容进行交互。要启用交互，您只需删除 div。

# ios - MutableDictionary 变成不可变的

> ID：15243945
> 
> 赞同：0
> 
> 时间：2013-03-06T09:52:25.477
> 
> 标签：ios

在我的第一个函数中，我创建了一个 NSMutableDictionary 并将其保存在一个数组中。

```
NSMutableArray* tempPlayersArray = [NSMutableArray arrayWithArray: [[NSUserDefaults standardUserDefaults] arrayForKey: @"kgpsTempArray"]];
NSMutableDictionary *tempPlayerDictArray = [[NSMutableDictionary alloc] init];

if (!(userDeviceName)) {
    [tempPlayerDictArray setValue:userDeviceName forKey:@"DeviceName"];
}else{
    [tempPlayerDictArray setValue:@"empty" forKey:@"DeviceName"];
}
[tempPlayersArray addObject:tempPlayerDictArray];

[defaults setObject:tempPlayersArray forKey:@"kgpsTempArray"];
[defaults synchronize]; 
```

在我的第二个函数中，我将它作为 NSCFDictionary - 它是不可变的。

```
NSMutableArray* tempPlayersArray = [NSMutableArray arrayWithArray: [[NSUserDefaults standardUserDefaults] arrayForKey: @"kgpsTempArray"]];
NSMutableDictionary *dictionaryForSearching = [[NSMutableDictionary alloc] init];
NSLog(@"%@",[dictionaryForSearching class]);

dictionaryForSearching = [tempPlayersArray objectAtIndex:index];

NSLog(@"%@",[[tempPlayersArray objectAtIndex:index] class]);
NSLog(@"%@",[dictionaryForSearching class]); 
```

第一个日志显示“NSDictionaryM”。
第二个日志显示“NSCFDictionary”。
第三个也显示“NSCFDictionary”......

谁能解释我为什么？以及如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:57:57.330

NSUserDefaults 适用于不可变对象，这就是当您返回字典时它已更改的原因。

你可以试试这个：

```
dictionaryForSearching = [[NSMutableDictionary alloc] initWithDictionary:[tempPlayersArray objectAtIndex:index]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:58:07.057

是的，`NSUserDefaults`可以随意复制、持久化和反序列化。假设它不返回可变对象。如果您需要一个可变对象，请制作一个可变副本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:59:44.553

每件事都取决于这里：

```
NSMutableArray* tempPlayersArray = [NSMutableArray arrayWithArray: [[NSUserDefaults standardUserDefaults] arrayForKey: @"kgpsTempArray"]]; 
```

阅读 NSUserDefaults 总是会给你不可变的对象。

# php - Facebook api不返回评论

> ID：15243948
> 
> 赞同：1
> 
> 时间：2013-03-06T09:52:44.590
> 
> 标签：php, facebook-graph-api

我试图用 facebook api 获取一些数据。这是我的代码

```
<?php
include 'src/facebook.php';

$facebook = new Facebook(array(
    'appId'     => 'xxx',
    'secret'    => 'xxx',
    'cookie'    => true
));    
?>
<!DOCTYPE html>
<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title></title>
</head>
<body>
    <?php
        $user = $facebook->getUser();

        if($user)
        {
            $user_profile = $facebook->api('/me/statuses');
            echo "<pre>", print_r($user_profile), "</pre>";

            echo "<a href=logout.php>Logout</a>";
        }
        else
        {
            $login_url_params = array(
                'scope' => 'publish_stream,read_stream,offline_access,manage_pages'
             );

            $login_url = $facebook->getLoginUrl($login_url_params);

            //redirect to the login URL on facebook
            header("Location: {$login_url}");
        }
    ?>
</body>
</html> 
```

问题是，当我`print_r($user_profile)`显示所有应该附带的数据时，`$user_profile = $facebook->api('/me/statuses');`它没有显示与状态相关的评论。我在 中尝试过`Graph API Explorer`，它工作正常（显示所有数据），但是在我运行它时在我的代码中；它没有得到评论。

知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T04:25:58.507

```
$user_profile = $facebook->api('/me/feed'); 
```

# tcl - 是否可以创建一个使用 Tcl 返回值的 GUI？

> ID：15243957
> 
> 赞同：1
> 
> 时间：2013-03-06T09:52:56.797
> 
> 标签：tcl, tk

我正在创建一小块 GUI，这是流程进展所必须完成的。我想要的是创建一个 proc，它创建一个 GUI，并在 GUI 关闭时返回 1 或 0，然后流程继续，如下所示：

```
first part of the code
...
...
if {![open_gui]} {
    return
}
second part of the code
...
... 
```

GUI 是简单的 3 个条目，带有保存和取消按钮，如果按下保存按钮，则应该将一些值存储到数据模型和函数返回 1，如果按下取消按钮，或者 GUI 被关闭关闭窗口然后什么都不会发生并且proc返回0。

这可能吗？

现在我所做的是将代码分成两个和平，（`code_part_1`和`code_part_2`）我运行第一部分，然后打开 GUI，保存按钮调用第二部分，而取消只是关闭 GUI：

```
code_part_1
open_gui_split 
```

功能`open_gui_split`是：

```
proc open_gui_split {} {
    # ...
    set save_b [button $win.save_b -text save -command [list code_part_2]
    # ...
} 
```

* - 提供的所有代码只是架构的表示，而不是真正的代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T10:36:58.220

完全可以创建运行 Tk GUI 的命令，等待用户响应并返回该值。这样做的关键是`tkwait`命令：

```
proc popUpButton {w} {
    toplevel $w
    pack [button $w.b -text "push me" -command [list destroy $w]]
    # This waits in the event loop until $w is destroyed...
    tkwait window $w
    return "button was pushed"
}

puts "about to pop up the button"
puts ">>[popUpButton]<<"
puts "popped up the button" 
```

`tkwait`分为三个品种：

1.  `tkwait window $w`等待窗口`$w`被销毁。
2.  `tkwait visibility $w`等待窗口`$w`变得可见（但在 Unix/X11 以外的平台上不起作用）。
3.  `tkwait variable $varname`等待变量`$varname`被设置；它就像普通的 Tcl `vwait`（实际上`vwait` *最初是*在`tkwait variable`将事件循环集成到 Tcl 之前）。

请注意，重新进入事件循环会增加堆栈深度，如果您不小心，可能会导致您的代码变得非常混乱。您可能希望使用`focus`并`grab`确保用户只与弹出的对话框交互。

最后，要查看有关这一切如何工作的更完整示例，请查看[源代码`tk_dialog`](http://core.tcl.tk/tk/artifact/616948c6c18f4fdfabe85d16640e31e07a7cec65)（这正是 Tk 8.4.19 的版本，直接来自我们的存储库），它只是普通的旧 Tcl 代码，可以做你想做的事情'重新之后。这是一个比我想写的更完整的示例，展示了诸如如何根据用户输入获取要返回的值之类的东西。

# mysql - mysql总结两列

> ID：15243958
> 
> 赞同：0
> 
> 时间：2013-03-06T09:52:57.303
> 
> 标签：mysql

我有 2 个表：stock_material_details 和 stock_consumed 有一个共同提交的 item_id。stock_material details 已添加_quantity 作为列，stock_consumed 作为consumed_quantity 作为列。

每次将商品添加到库存时，它都会添加到 added_quantity 下的 stock_material_details(table) 中。

每次消耗一个项目，它会被添加到 comsumed_quantity 下的 stock_consumed 中。
我想编写一个查询，通过以下方式获取特定项目的可用总量：

```
select sum(a.added_quantity ) - sum(b.quantity_consumed) as available 
from stock_material_details a 
join stock_consumed b on a.item_id = b.item_id 
group by a.id 
```

上面的查询在多行数据的情况下没有给出正确的结果。需要一些建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:03:19.930

选择 item_id, sum(a. added_quantity ) - sum(b.quantity_consumed) 可从 stock_material_details a join stock_consumed b on a.item_id = b.item_id group by a.item_id

尝试在选择中添加“item_id”。

我尝试在那里使用您的代码，但它不起作用。

试试这个：

select item_id, SUM(added_quantity) - (Select SUM(quantity_consumed) from stock_consumed b where b.item_id = item_id) FROM stock_material_details Group by item_id

希望它有效，因为我只是在我的脑海中编译它

愿原力与你同在

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:04:31.333

要混合两个不同的聚合，您将需要子查询：

```
SELECT sum(a.sum_a) - sum(b.sum_b) AS available FROM
(SELECT a.item_id, sum(a.added_quantity ) AS sum_a
FROM stock_material_details a
GROUP BY a.id) AS a
JOIN
(SELECT b.item_id, sum(b.quantity_consumed) AS sum_b
FROM stock_consumed b
GROUP BY b.id) AS b
ON a.item_id = b.item_id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:04:59.040

如果您没有跟踪结果中的每个项目，就不可能知道这些数字对应于什么：

```
select a.item_id, sum(a.added_quantity ) - sum(b.quantity_consumed) as available 
from stock_material_details a 
join stock_consumed b on a.item_id = b.item_id 
group by a.id 
```

# ios6 - 如何在 iOS 6.1 中将 iCarousel -Fading 演示项目集成到我的项目中

> ID：15243963
> 
> 赞同：0
> 
> 时间：2013-03-06T09:53:13.590
> 
> 标签：ios6, coverflow, icarousel

我的要求是将表格视图显示为封面流。我使用以下链接找到了 Imageview 作为封面流。 [http://code4app.net/ios/iCarousel-for-Cover-Flow/4f87d2db06f6e79d32000000](http://code4app.net/ios/iCarousel-for-Cover-Flow/4f87d2db06f6e79d32000000)

但是当我在下载的应用程序中使用 UIView 下载并编辑 UIImageView 的代码时，它运行良好。但是当我创建新应用程序并尝试设置相同的功能时，它没有显示任何东西。

请告诉我如何将 iCarousel/Fading Demo 项目集成到我自己的应用程序中。

在此链接[中，我如何在我的项目中使用 iCarousel？](https://stackoverflow.com/questions/8473862/how-could-i-use-icarousel-in-my-project)

他们说“iCarousel.m 类从其 dataSource 类调用该函数。设置 iCarousel 对象的委托和数据源。在示例应用程序中，数据源和委托由接口构建器设置。” 我该怎么做。

当我调试它时

```
 - (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view
    {

    } 
```

不执行此方法。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T13:27:28.037

你是复制xibs还是制作新的？如果您制作了新的，也许您忘记将 XIB 中 iCarousel 视图的数据源和委托连接到您的视图控制器的属性..？

# mysql - 从以前的 mysql 查询中调用值

> ID：15243966
> 
> 赞同：0
> 
> 时间：2013-03-06T09:53:23.280
> 
> 标签：mysql

假设您有以下 MySQL 语句，

```
 SELECT COUNT(downloads) as dl<br>
    FROM files<br>
    GROUP BY file_id 
```

并且您已经生成了第一个查询的结果。那么你如何`dl`在它之后调用另一个选择查询呢？因为我想对`dl`. 除非必须，否则我不想在同一个查询中执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:56:32.403

您可以说以下并`@dl`在以后的查询中使用：

```
SELECT COUNT(downloads) as dl
into @dl
FROM files
GROUP BY file_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:57:58.147

问题比较模糊。

您可以将其存储在将查询发送到 mysqld 的任何变量中。您可以将其存储在 mysqld 的会话变量中。您可以将其写入mysql中的表中。您可以将您的当前查询加入到要使用该值的查询中。您可以将两个（全部？）查询包装在一个过程中。如果您启用了结果缓存，那么您可以再次运行查询以从缓存中获取值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:03:26.260

如果要存储多行，则可以创建一个临时表：

```
CREATE TEMPORARY TABLE downloads_per_file (id int, dl int);

INSERT INTO downloads_per_file
SELECT file_id, COUNT(downloads) as dl
FROM files
GROUP BY file_id 
```

在同一个会话中，您可以像使用其他任何表一样使用临时表；当连接关闭时，表被销毁。

# h.264 - 如何从 H264 原始文件中获取 TS？

> ID：15243967
> 
> 赞同：0
> 
> 时间：2013-03-06T09:53:39.567
> 
> 标签：h.264

如何使用java从H264原始文件中获取TS并通过http传输？

# javascript - Backbone.js 模板示例

> ID：15243973
> 
> 赞同：0
> 
> 时间：2013-03-06T09:53:51.240
> 
> 标签：javascript, backbone.js

如何将单选按钮作为属性添加到模型并在模板中查看。

```
<label>ModemControl:</label>
 <input type="radio" name="modemcontrol" value="0" checked="checked"> off
                        <input type="radio" name="modemcontrol" value="1"> on 
```

我已经完成了创建标签、下拉框、文本框。我不知道该怎么做，谁能帮帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:37:35.857

如果我做对了，您有兴趣在模型中的某些属性上检查正确的单选按钮。

在这种情况下，您的模板应该看起来有点像：

```
<script type="text/template" id="radio-template">
    <input type="radio" <% f == "opt1" ? print("checked") :'' %> >
    <input type="radio" <% f == "opt2" ? print("checked") :'' %> >
    ...
</script> 
```

其中 f 是您在视图设置期间指定的模板变量，例如：

```
var template = _.template($('#item-template').html(), {f: 'opt2'});
this.$el.html(template); 
```

并不是说您只能使用`checked`或`checked="true"`

**编辑**

然后您的模板应如下所示：

```
<script type="text/template">
    <label>Age:</label> <input type="text" name="age" value="<%= age %>">
    <label>Radio:</label> <input type="radio" value="<%= modelAttribute%>">
</script> 
```

# jquery - 如何使用 JQuery 选择器处理 JQuery 可排序元素中的变量？

> ID：15243977
> 
> 赞同：1
> 
> 时间：2013-03-06T09:53:58.797
> 
> 标签：jquery, selector

我需要能够使用我从这样的全局 JavaScript 变量创建的 ID 显式搜索单个可排序元素

```
 var theId = presentationId;
  $li.attr("id", theId);

 var $li = $('<li id="'+presentationId+'"> 
```

查看 Chrome 中的控制台，元素显示为：

```
 firstChild: li#1 
```

目前，我正在通过它们包含的描述字符串来处理各个元素，就像这样。

```
 $('ul $li:contains("Introduction")').length) 
```

**我找不到相关的 JQuery 选择器来处理“id”元素及其**在此列表中的值：

[jQuery 选择器](http://www.w3schools.com/jquery/jquery_ref_selectors.asp)

我想它会是这样的：

```
 $("#id=1") 
```

# jquery - jQuery 错误阻止另一个脚本在 asp.net 中触发

> ID：15243984
> 
> 赞同：0
> 
> 时间：2013-03-06T09:54:15.280
> 
> 标签：jquery, asp.net

我正在使用 fancybox 脚本作为小部件，以将视频显示为网站“最受欢迎”小部件部分的模式。

用于此小部件的脚本在几乎所有页面上为另一个创建问题并阻止 jquery 插件将多个图像显示为滑块 ( [http://showcase.awkwardgroup.com/](http://showcase.awkwardgroup.com/) )。

错误网页链接：http: [//tinyurl.com/cd32cn](http://tinyurl.com/cd32cn)

错误信息：`TypeError: $(...).awShowcase is not a function`使用调试器。

我将不胜感激帮助解决此问题，以便所有图像都可以按照此链接[http://showcase.awkwardgroup.com/中所示工作](http://showcase.awkwardgroup.com/)

如果我删除用户控件，`Most Popular`则页面工作正常

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:12:34.723

我在您的页面上看到了代码，我必须建议您执行这些步骤。

*   在调用where 错误之前移动`aw-showcase.js`脚本。`$("#showcase").awShowcase(` 将它移到顶部，就在 jQuery 加载之后。
*   删除 jQuery 的重复脚本加载
*   如果仍然无法正常工作，请使用 jQuery 进行调用，如`jQuery("#showcase").awShowcase`

# c - connect() 在阻塞套接字上返回“操作正在进行中”？

> ID：15243988
> 
> 赞同：12
> 
> 时间：2013-03-06T09:54:27.210
> 
> 标签：c, linux, sockets, timeout, connect

我有一个阻塞套接字（至少它出现在以下代码中）：

```
 sock = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);
    if (sock < 0) {
            ERROR("%s: error opening socket", __func__);
            return (RESP_ERROR);
    }

    t.tv_sec = timeout;
    t.tv_usec = 0;

    int rf = fcntl(sock, F_GETFD);
    ERROR("fcntl ret=%d, ret & O_NONBLOCK = %d", rf, rf & O_NONBLOCK);

    if ((setsockopt(sock, SOL_SOCKET, SO_RCVTIMEO, (char *)&t, sizeof (t)) < 0)
        || (setsockopt(sock, SOL_SOCKET, SO_SNDTIMEO, (char *)&t, sizeof (t)))) {
            strerror_r(errno, err, 254);
            ERROR("%s: error on setsockopt -> %s", __func__, err);
            close(sock);
            return (RESP_ERROR);
    }

    rf = fcntl(sock, F_GETFD);
    ERROR("after select fcntl ret=%d, ret & O_NONBLOCK = %d", rf, rf & O_NONBLOCK);

    if (connect(sock, (struct sockaddr *)&dst, sizeof (dst)) != 0) {
            strerror_r(errno, err, 254);
            ERROR("%s: error on connect -> %s", __func__, err);
            close(sock);
            return (RESP_ERROR);
    } 
```

这是来自日志：

> 3 月 6 日 10:42:04 tcpclient: fcntl ret=0, ret & O_NONBLOCK = 0
> 
> 3 月 6 日 10:42:04 tcpclient: 在选择 fcntl ret=0, ret & O_NONBLOCK = 0 之后
> 
> 3 月 6 日 10:42:14 tcpclient: authenticate: error on connect -> 操作正在进行中

看起来这是一个阻塞套接字，但返回非阻塞的典型错误？Linux 是 2.6.18-308.el5。有任何想法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T10:13:17.920

如果`timeout`不是`0`调用`connect()`超时并返回。这与是否建立连接无关。

从超时到期的那一刻起，`connect()`就好像在非阻塞套接字上调用一样。

参考这个案例（逐字逐句`man connect`并忽略下面的“*立即*”）：

> 进展
> 
> 套接字是非阻塞的，连接不能立即完成。可以通过选择要写入的套接字来选择（2）或轮询（2）来完成。在 select(2) 指示可写后，使用 getsockopt(2) 读取 SOL_SOCKET 级别的 SO_ERROR 选项，以确定 connect() 是成功完成（SO_ERROR 为零）还是未成功完成（SO_ERROR 是此处列出的常见错误代码之一，解释一下-失败的原因）。

* * *

顺便说一句：有人可以确认这是标准行为，并且为此在某处**明确**提及吗？

`man 7 socket`状态（我的斜体）：

> SO_RCVTIMEO 和 SO_SNDTIMEO
> 
> 指定接收或发送超时，直到报告错误。[...] 如果没有数据传输并且已经达到超时，则返回 -1 并将 errno 设置为 EAGAIN 或 EWOULDBLOCK *，就像套接字被指定为非阻塞一样*。[...] 超时仅对执行套接字 I/O 的系统调用有效（例如，read(2)、recvmsg(2)、send(2)、sendmsg(2)）；超时对 select(2)、poll(2)、epoll_wait(2) 等无效。

没有任何消息，`connect()`所以我不确定我的答案是否成立。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T20:22:08.387

试试看`if (connect(...) < 0)`。您可能根本没有收到错误。

NB 阻塞模式是默认设置。你不必设置它。

# ruby-on-rails - Ruby on Rails，json/yml 模型

> ID：15243989
> 
> 赞同：0
> 
> 时间：2013-03-06T09:54:27.360
> 
> 标签：ruby-on-rails, ruby, json

我需要将数据从文件/url 拉到某个模型，然后在页面上显示。哪种数据格式更好——yml 还是 json？以及如何读取它并解析为 Ruby 对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:50:28.633

没有“更好”——只有适合和个人品味。

YAML 和 JSON 都是不错的选择，但一般来说，Ruby 主义者倾向于使用 YAML 来存储配置文件，而 JSON 来通过 Web API 传输数据。

在 Ruby 中解析这两种数据类型很简单，谷歌搜索也很简单。

# powershell - Powershell网站登录不起作用

> ID：15243990
> 
> 赞同：2
> 
> 时间：2013-03-06T09:54:28.653
> 
> 标签：powershell

我正在尝试编写一个基本的 powershell 脚本来登录 gmail，但遇到了一些问题。代码如下。我已经注释掉了一些内容以缩小范围。

```
$url = "http://gmail.com" 
$username="myusername" 
$password= "123456" 
$ie = New-Object -com InternetExplorer.Application

$ie.visible = $true; 
$ie.navigate($url); 
while ($ie.Busy) 
{ 
Start-Sleep -m 10000; 
} 

$counter = 0
while (($counter -lt 10) -and ($ie.document -eq $null)) {Start-Sleep 1; $counter++}

$ie.document -eq $null
$ie.Document.getElementByID('email').value=$username
#$ie.Document.getElementByID("Password").value=$password 
#$ie.Document.getElementById("signin").Click(); 
```

当我运行 powershell 脚本时，出现以下错误。

```
You cannot call a method on a null-valued expression.
At J:\scripts\gmail.ps1:21 char:1
+ $ie.Document.getElementByID('email').value=$username
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+ CategoryInfo          : InvalidOperation: (:) [], RuntimeException
+ FullyQualifiedErrorId : InvokeMethodOnNull 
```

奇怪的是，这昨天工作得很好，今天根本不工作。我正在使用 IE9。

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:07:45.233

[PowerShell IE9 ComObject 在导航到网页后具有所有空属性，](https://stackoverflow.com/questions/13869518/powershell-ie9-comobject-has-all-null-properties-after-navigating-to-webpage?rq=1)这给了我答案。由于 IE 保护模式阻止了对象的创建，因此不得不以管理员身份运行我的脚本。关闭 IE 保护模式或以管理员身份运行脚本以使其正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:13:04.707

我认为你在这里犯了一个错误：

```
$ie.Document.getElementByID("Password").value=$password 
```

ID 应该是密码，而不是密码。因此，将该行替换为：

```
$ie.Document.getElementByID("Passwd").value=$password 
```

为我工作。

# java - 如果客户没有确认会发生什么？

> ID：15243991
> 
> 赞同：4
> 
> 时间：2013-03-06T09:54:32.757
> 
> 标签：java, jms, hornetq

我有：

*   hornetq-2.2.14-final 独立服务器
*   将消息发送到队列 A 的客户端应用程序 C1
*   使用来自队列 A 的消息的客户端应用程序 C2

C1 使用 jmstemplate 在 CLIENT_ACKNOWLEDGE 模式下发送消息：

```
<bean name="jmsTemplate" class="org.springframework.jms.core.JmsTemplate">
    <property name="connectionFactory" ref="connectionFactory" />
    <property name="sessionAcknowledgeModeName" value="CLIENT_ACKNOWLEDGE" />
    <property name="sessionTransacted" value="true" />
</bean> 
```

所以 C2 应该手动确认消息：

```
@Override
@Transactional
public void onMessage(Message message) 
{
    try 
    {
        messageHandlerService.handleReceivedMessage(message);
        message.acknowledge();
    } 
    catch (DeserializeXmlException e) 
    {
        // TODO log
        e.printStackTrace();
    }   
    catch (InvalidMessageException e) 
    {
        //TODO log
        e.printStackTrace();
    }
    catch (JMSException e) 
    {
        //TODO log
        e.printStackTrace();
    }   
} 
```

我的问题：

*   当客户端 C2 收到该消息但在确认之前崩溃时，该消息会发生什么？
*   有没有超时机制？如果是，确认的默认超时是多少？我该如何修改它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T14:29:58.367

在客户关闭或回滚时，任何未确认的消息都将被发送回队列。

在服务器崩溃的情况下，如果消息不是持久的，则将重新传递消息，就好像什么都没发生一样。

请注意，系统可能会在您调用 ack 时但在 ack 实际到达服务器之前崩溃。

ack 超时是通过改变连接工厂的 callTimeout 来配置的。

请注意，如果您有两个要更新的资源并希望保证 ack 和数据库插入之间的单个提交（或者您接下来要执行的任何操作），那么您需要执行 XA 事务以保证两个分支都将被提交。

该消息将在崩溃后重新发送。如果您需要 100% 的收据保证，您需要 XA。

# python - 在python中将图像复制到剪贴板

> ID：15243994
> 
> 赞同：1
> 
> 时间：2013-03-06T09:54:48.703
> 
> 标签：python, image, clipboard

问题是：

**我有一个 JPG 文件。我想使用 python 将该图像复制到剪贴板。如何 ？**

如果你给我一个关于 python 中图像对象的链接，将不胜感激。

谢谢

ps：系统是windows

# jquery - 隐藏的 div 问题

> ID：15243995
> 
> 赞同：1
> 
> 时间：2013-03-06T09:54:54.917
> 
> 标签：jquery

我有一个 div 我打算像这样隐藏：

```
$("#bla").hide(); 
```

直到一些 jQuery 代码用数据填充它。这似乎打破了“填充代码”。隐藏仍应允许“填充代码”访问 HTML，还是我遗漏了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:56:16.703

是的，隐藏 div 仍然允许在其中“填充代码”。

从[文档](http://api.jquery.com/hide/)

> 这大致相当于调用 .css('display', 'none')，只是 display 属性的值保存在 jQuery 的数据缓存中，以便稍后可以将 display 恢复为其初始值。

您所做的基本上只是告诉网页不要显示您的元素。它仍然是 DOM 的一部分。您可以访问其 html 等。以后可以`.show`用来展示

例如：

```
var elem = $("#bla");
elem.hide();//hides the element
elem.text("Hello World");//sets its inner text to "Hello World"
elem.show(); // "Shows the element again" 
```

这是另一个关于[如何实现隐藏/显示的有趣问题](https://stackoverflow.com/questions/239207/how-does-jquery-implement-hide-and-show)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:00:07.773

`hide`与破坏您的填充代码无关， hide 只是将 display:none 添加到元素中并且不会将其从 DOM 中删除..所以用其他方法填充它根本不会中断....但是，请检查其他javascript问题...其他问题可能会破坏它..

这是[小提琴中的示例](http://jsfiddle.net/bipen/ktFxf/1/)

试试这个

```
$("#bla").hide();
$("#bla").text('asdasdasdsds');
console.log($("#bla").text()) 
```

检查你的控制台..

# java - 通过 Java 从 Javascript 更改中填充多个 HTML 语句

> ID：15243998
> 
> 赞同：0
> 
> 时间：2013-03-06T09:55:03.237
> 
> 标签：java, html, ajax, jsp

当我的网页发生更改时，我尝试填充两个单独的 HTML 对象 - 一个是下拉列表，一个是表单。

所以在我的 JSP 代码中我有这个：

```
$('#uSystemList').change(function() {
    $.get("/live-application/systemById", {systemid: $("#uSystemList").val()}, displayChangedSystemResults, "html");
});

<script type="text/javascript">
function displayChangedSystemResults(html){
    $('#uList').empty();
    $('#uList').append(html);
}
</script> 
```

在Java方面我有这个：

```
@RequestMapping(value = "/systemById", method = RequestMethod.GET)
public void getSystemById(@RequestParam("systemid") String systemid, OutputStream outputStream) throws IOException {
    StringBuilder refreshHtml = new StringBuilder();
    try {
        String html = "";
        System system = service.getSystemById(systemid));
        for (Value value: inewsSystem.getValues()) {
            html = html + "<option value='" + value.getId() + "'> " + value.getName() + "</>";
            }
        } 
        refreshHtml.append(html );
        outputStream.write(refreshHtml.toString().getBytes());
        outputStream.flush();
    } catch (Exception e) {
        outputStream.flush();
    }
} 
```

所以这填充了我的`uList`下拉列表 - 但我如何告诉它填充其他内容（例如表单，但可以是其他任何内容作为示例......）。`OutputStream`似乎每次更改只能让我填充一个对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:06:10.247

在您的情况下，发送两个 ajax 请求并有两个弹簧控制器来处理每个请求并不是一个坏主意。随后，在 JSP 页面中，您将需要两个 javascript 回调来填充不同的 HTML 部分。

或者，如果您坚持只发出一个 AJAX 请求；一种解决方法是让 spring 控制器返回一个 JSON，其中包含用于填充这两个 HTML 部分的数据。但是使用这种方法显然需要更多的 javascript 工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:59:26.300

这是 Javascript 而不是 JSP :)。您需要更新：

```
<script type="text/javascript">
function displayChangedSystemResults(html){
    $('#uList').empty();
    $('#uList').append(html);
    $('#someOtherElement').empty();
    $('#someOtherElement').append(html);
}
</script> 
```