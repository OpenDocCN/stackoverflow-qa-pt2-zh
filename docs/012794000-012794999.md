# StackOverflow 问答 12794000-12794999

# tfs - TFS 滚动构建有时会跳过构建

> ID：12794000
> 
> 赞同：3
> 
> 时间：2012-10-09T06:25:09.973
> 
> 标签：tfs

环境：TFS 2010

我在 TFS 2010 上遇到了一个奇怪的问题。

我创建了一个滚动构建，并将其设置为不超过每 30 分钟触发一次。

通常，它工作正常。我可以发现一天触发了几次构建。

然后放了一个长假，回来后，这两天滚动build没有触发。

构建定义和 TFS 服务器没有任何变化。这很奇怪。有没有人知道原因或者有同样的情况？

顺便说一句，我对滚动构建有一个小问题。也就是说，滚动构建在有累积签入时工作，直到前一个构建完成。如果凌晨 1:00 触发了滚动构建，它将在 1:20 完成。在 1:10 签入了一些新代码，在 1:20 之前触发了其他构建，例如 nightly build。问题：滚动构建是否在 1:30 触发？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:52:51.200

滚动构建的全部意义在于它们不会在队列中构建，基本上这意味着如果有人在构建发生时签入，它将不会触发构建。

如果您设置一个时间，例如 30 分钟，它将永远不会在前一次构建的 30 分钟内构建。

要进行下一次构建，您需要在这些条件之外再次签入（例如 30 分钟后）

# java - How can I find the implementation and configuration file of PKCS#11

> ID：12794008
> 
> 赞同：1
> 
> 时间：2012-10-09T06:25:34.747
> 
> 标签：java, pkcs#11

I'm trying to make a program that reads and displays certificate info from the token (Safenet) but the problem that I face is :

```
Exception in thread "main" java.security.ProviderException: Error parsing configuration 
```

so I think the problem is in the Configuration file.

How can I make the configration file and also the implementation file so it works correctly. Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:43:35.683

您可以通过更正 %AS_HOME%\domains\nssdomain\config\ 中的 nss.cfg 来解决错误

[您可以按照本页](https://developer.connectopensource.org/display/CONNECTWIKI/Instructions+to+set+up+CONNECT+in+FIPS+mode+on+Windows+Glassfish+environment)“配置 Glassfish 以使用 NSS 存储”部分中的说明进行操作。

[也](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6994008)可以点击此链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-18T08:43:29.460

为了`PKCS#11`在 java 中使用，您需要提供一个配置文件，您至少在其中指定库和名称参数。在此参数中，您必须为令牌和任意标识符指定本机库的路径。此外，您可以添加更多参数，但它们是可选的，您可以查看[java pkcs#11 参考指南](http://docs.oracle.com/javase/6/docs/technotes/guides/security/p11guide.html#Config)。我给你一个代码示例来实例化 a `PKCS#11`：

```
// create configuration
String pkcs11nativeLibrary = "/path_to_native_library/library.so";
String pkcs11ConfigSettings = "name = mySmartCard\n" + "library = " + pkcs11nativeLibrary;
byte[] pkcs11ConfigBytes = pkcs11ConfigSettings.getBytes();
final ByteArrayInputStream confStream = new ByteArrayInputStream(pkcs11ConfigBytes);

// instantiate the provider with your config
SunPKCS11 pkcs11Provider = new SunPKCS11(confStream);
Security.addProvider(pkcs11Provider);

// get the keystore
Char[] pkcs11Password = "your_password".toCharArray();
KeyStore myPKCS11KS = KeyStore.getInstance("PKCS11", pkcs11Provider );
myPKCS11KS.load(null, pkcs11Password); 
```

在示例中，我直接输入了 pkcs11 密码，但是当您尝试从某个客户端加载 PKCS#11 时，您必须动态获取密码才能这样做，您可以将密钥存储实例更改为：

```
// YourCallbackHandler must implements javax.security.auth.callback.CallbackHandler
KeyStore.CallbackHandlerProtection cbhp = new KeyStore.CallbackHandlerProtection(new YourCallbackHandler());
KeyStore.Builder builder = KeyStore.Builder.newInstance("PKCS11", pkcs11Provider, cbhp);
KeyStore myPKCS11KS = builder.getKeyStore(); 
```

希望这可以帮助，

# c++ - BoldDays with TMonthCalendar

> ID：12794009
> 
> 赞同：1
> 
> 时间：2012-10-09T06:25:41.283
> 
> 标签：c++, c++builder, monthcalendar

I have written a C++ Builder VCL Forms application with a TMonthCalendar control called TMonthCalendar.

I am wanting to set some of the days with the control to be bold.

Here is my current code:

```
TMonthCalendar->BoldDays([1,8], MonthBoldInfo); 
```

However I am getting the following error:

```
E2193 Too few parameters in call to '_fastcall TCommonCalendar::BoldDays(unsigned int *,const int,unsigned int &)' 
```

Can I please have some help to do this?

Here is a link to the documentation: [http://docwiki.embarcadero.com/Libraries/XE3/en/Vcl.ComCtrls.TMonthCalendar.OnGetMonthInfo](http://docwiki.embarcadero.com/Libraries/XE3/en/Vcl.ComCtrls.TMonthCalendar.OnGetMonthInfo)

I see no difference between my code and the documentation. Yet I still get errors.

thanks

**UPDATE**

I am trying the following code:

```
unsigned int arr[2] = {1,8};
TMonthCalendar->BoldDays(arr, 1, MonthBoldInfo); 
```

Yet am getting the following errors:

> [BCC32 Error] Assessment2.cpp(361): E2357 Reference initialized with 'unsigned long', needs lvalue of type 'unsigned int' Full parser context Assessment2.cpp(359): parsing: void _fastcall TformMain::TMonthCalendarGetMonthInfo(TObject *,unsigned long,unsigned long &)

and

> [BCC32 Error] Assessment2.cpp(361): E2342 Type mismatch in parameter 'MonthBoldInfo' (wanted 'unsigned int &', got 'unsigned long') Full parser context Assessment2.cpp(359): parsing: void _fastcall TformMain::TMonthCalendarGetMonthInfo(TObject *,unsigned long,unsigned long &)

**UPDATE**

I am wanting to retrieve all the days of a certain month from a vector and then set the days to bold via the TMonthCalendar control.

Here is my code:

```
vector<appointment> appointmentsOnMonth = calCalendar.getAllAppointmentsOnMonth(TMonthCalendar->Date);
if (appointmentsOnMonth.size() > 0)
{
    unsigned int arr[appointmentsOnMonth.size()];
    for (int i = 0; i < appointmentsOnMonth.size(); i++)
    {
        int dayOfAppointment = DayOf(appointmentsOnMonth[i].getAppDateTime());
        arr[i] = dayOfAppointment;
    }
    TMonthCalendar->BoldDays(arr, 1, reinterpret_cast<unsigned int&>(MonthBoldInfo));
} 
```

The dayOfAppointment variable is working correctly and gets the value as an integer of the days that should be displayed in bold. I am after some help to please display these days as bold days.

I am getting some errors to do with the unsigned int arr[] and displaying the bold days. Here they are:

> [BCC32 Error] Assessment2.cpp(366): E2313 Constant expression required [BCC32 Error] Assessment2.cpp(372): E2034 Cannot convert 'int[1]' to 'unsigned int *'

I think this is because the static array requires compile time constants and thus the second code will never compile. Is there a way around this?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T19:30:51.300

C++ 中的前两个参数`BoldDays()`由 Delphi 中的一个开放数组参数组成。开放数组由数据指针和指向数据的最大索引组成。在 C++ 中，您不能使用`[1,8]`语法。那是 Delphi 语法。在 C++ 中，请改用`ARRAYOFCONST()`or`OPENARRAY()`宏，例如：

```
TMonthCalendar->BoldDays(ARRAYOFCONST((1,8)), MonthBoldInfo); 
```

或者：

```
TMonthCalendar->BoldDays(OPENARRAY(unsigned int, (1,8)), MonthBoldInfo); 
```

或者，只需使用您自己的数组手动声明参数值：

```
unsigned int arr[2] = {1,8};
TMonthCalendar->BoldDays(arr, 1, MonthBoldInfo); 
```

**更新**：事件的`MonthBoldInfo`参数`OnGetMonthInfo`是一个`unsigned long&`，但取而代之的是`BoldDays()`一个。`unsigned int&`通过引用传递值时，数据类型需要匹配。你有两个选择：

1）使用中间变量：

```
unsigned int arr[2] = {1,8};
unsigned int days;
TMonthCalendar->BoldDays(arr, 1, days);
MonthBoldInfo = days; 
```

2）使用类型转换：

```
unsigned int arr[2] = {1,8};
TMonthCalendar->BoldDays(arr, 1, reinterpret_cast<unsigned int&>(MonthBoldInfo)); 
```

**更新**：您不能使用运行时值声明静态固定长度数组。您必须改用动态分配的数组。由于您已经在使用`std::vector`，因此可以将其用于数组：

```
vector<appointment> appts = calCalendar.getAllAppointmentsOnMonth(TMonthCalendar->Date);
if (!appts.empty())
{
    vector<unsigned int> arr(appts.size());
    for (vector<appointment>::iterator i = appts.begin(); i != appts.end(); ++i)
    {
        arr[i] = DayOf(i->getAppDateTime());
    }
    TMonthCalendar->BoldDays(&arr[0], arr.size()-1, reinterpret_cast<unsigned int&>(MonthBoldInfo));
} 
```

话虽如此，该`OnGetMonthInfo`事件旨在检索所有年份中给定月份的粗体天数，即重复事件，因此`TMonthCalendar::Date`像您一样使用该属性是没有意义的。您应该改用提供的`Month`参数：

```
vector<appointment> appts = calCalendar.getAllAppointmentsOnMonth(Month); 
```

要为特定年份的给定月份设置粗体日期，请改用`OnGetMonthBoldInfo`事件，它提供您`Month`和`Year`参数：

```
vector<appointment> appts = calCalendar.getAllAppointmentsOnMonthOfYear(Month, Year); 
```

# javascript - 脚本jQuery浮动页脚

> ID：12794011
> 
> 赞同：0
> 
> 时间：2012-10-09T06:25:50.940
> 
> 标签：javascript, jquery

我有一个 jQuery 代码，当我向下滚动时，我用它来浮动一个 div

```
 var top = jQuery('#sider').offset().top - parseFloat(jQuery('#sider').css('marginTop').replace(/auto/, 0));
  jQuery(window).scroll(function (event) {
    // what the y position of the scroll is
    var y = jQuery(this).scrollTop();

    // whether that's below the form
    if (y >= top) {
      // if so, ad the fixed class
      jQuery('#sider').addClass('fixed');
    } else {
      // otherwise remove it
      jQuery('#sider').removeClass('fixed');
    }
  }); 
```

但我还有一个位于正文底部的 div，我想向该 div 展示我需要对这段代码进行哪些更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:34:57.170

这样的事情可以接受吗？

[http://jsfiddle.net/Cvgdz/1/](http://jsfiddle.net/Cvgdz/1/)

也许你需要改变我的例子的 floatDiv 高度..

# ruby-on-rails-3 - Pass a variable to text_field without changing form

> ID：12794013
> 
> 赞同：0
> 
> 时间：2012-10-09T06:25:56.117
> 
> 标签：ruby-on-rails-3, form-helpers

I have _form.html.erb

```
<%= f.label :name %>
<%= f.text_field :name %>

<%= f.label :password %>
<%= f.password_field :password %> 
```

Now if I render this form in homepage, HTML code should be:

```
<label for="session_name">Name</label>
<input id="session_name" name="session[name]" size="30" type="text">
... 
```

If I change my _form.html.erb to:

```
<%= f.label :name %>
<%= f.text_field :name, disabled: true %>
... 
```

HTML code should be:

```
...
<input disabled="disabled" id="session_name" name="session[name]" size="30" type="text">
... 
```

But, I don't want to change my _form.html.erb, so how can I pass the `disabled: true` into my form? I tried to use `render partial:` but don't know syntax.

I just learn Ruby on Rails for 2 weeks, so please help me.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:25:53.937

我不知道你为什么不这样做，但你可以通过这种方法解决问题。尝试做-

在应用程序助手中，添加方法 -

```
def add_disabled
  #i suppose that u want the field to be disabled in the users controller for edit action but not for other controllers or actions
  return "disabled='disabled'" if params[:controller] == "users" and params[:action] == "edit"
end 
```

在 _form.html.haml

```
= f.text_field :name, #{add_disabled} 
```

这将调用辅助方法并根据控制器和操作返回“ **disabled='disabled' ”**

# android - ImageManager class, what is it? where is it?

> ID：12794016
> 
> 赞同：1
> 
> 时间：2012-10-09T06:26:03.560
> 
> 标签：android, adapter, listadapter, android-gridview

I notice they use a class called ImageManager in the following code. What is this class or how do you make it? what is ImageManager?

I saw many examples on various websites and they use this and never explain it or show any code. Looking at the import statemens I guess that it something they always leave out in the code examples.

```
 package com.google.android.panoramio;

   import android.content.Context;
   import android.database.DataSetObserver;
   import android.view.LayoutInflater;
   import android.view.View;
   import android.view.ViewGroup;
   import android.widget.BaseAdapter;
   import android.widget.ImageView;
   import android.widget.TextView;

   /**
   * Adapter used to bind data for the main list of photos
   */
   public class ImageAdapter extends BaseAdapter {

   /**
    * Maintains the state of our data
    */
   private ImageManager mImageManager;

   private Context mContext;

   private MyDataSetObserver mObserver;

  /**
   * Used by the {@link ImageManager} to report changes in the list back to
   * this adapter.
   */
   private class MyDataSetObserver extends DataSetObserver {
   @Override
   public void onChanged() {
   notifyDataSetChanged();
   }

   @Override
   public void onInvalidated() {
   notifyDataSetInvalidated();
   }
   }

   public ImageAdapter(Context c) {
   mImageManager = ImageManager.getInstance(c);
   mContext = c;
   mObserver = new MyDataSetObserver();

   mImageManager.addObserver(mObserver);
   }

   /**
   * Returns the number of images to display
   * 
   * @see android.widget.Adapter#getCount()
   */
   public int getCount() {
      return mImageManager.size();
   }

   /**
    * Returns the image at a specified position
    * 
    * @see android.widget.Adapter#getItem(int)
   */
   public Object getItem(int position) {
    return mImageManager.get(position);
   }

  /**
  * Returns the id of an image at a specified position
  * 
  * @see android.widget.Adapter#getItemId(int)
  */
  public long getItemId(int position) {
    PanoramioItem s = mImageManager.get(position);
    return s.getId();
  }

 /**
 * Returns a view to display the image at a specified position
 * 
 * @param position The position to display
 * @param convertView An existing view that we can reuse. May be null.
 * @param parent The parent view that will eventually hold the view we return.
 * @return A view to display the image at a specified position
 */
 public View getView(int position, View convertView, ViewGroup parent) {
 View view;
 if (convertView == null) {
 // Make up a new view
 LayoutInflater inflater = (LayoutInflater) mContext
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
 view = inflater.inflate(R.layout.image_item, null);
 } else {
 // Use convertView if it is available
 view = convertView;
 }
 PanoramioItem s = mImageManager.get(position);

 ImageView i = (ImageView) view.findViewById(R.id.image);
 i.setImageBitmap(s.getBitmap());
 i.setBackgroundResource(R.drawable.picture_frame);

 TextView t = (TextView) view.findViewById(R.id.title);
 t.setText(s.getTitle());

 t = (TextView) view.findViewById(R.id.owner);
 t.setText(s.getOwner());
 return view;
 }

 } 
```

# iphone - App is misconfigured for Facebook login IOS Facebook app installed

> ID：12794018
> 
> 赞同：0
> 
> 时间：2012-10-09T06:26:16.400
> 
> 标签：iphone, ios, facebook, sdk

I saw this link[enter link description here](https://stackoverflow.com/questions/12382558/app-is-misconfigured-for-facebook-login-android-facebook-integration-issue) But it doesn't solve my problem.

I downloaded the latest Facebook sdk 3.1.1 The original SessionLoginSample provided with sdk works fine. I made the following changes and the result is: **App is misconfigured for Facebook login** Where is my mistake?

* * *

I created a new sample Facebook app following step by step the Facebook doc: [Facebook App Image on Flickr](http://www.flickr.com/photos/giuseppeandreamosca/8069815404/in/photostream)

I loaded in xCode the original SessionLoginSample and I changed only the bundleId and the Facebook ID: [xCode plist image on flickr](http://www.flickr.com/photos/giuseppeandreamosca/8069794496/in/photostream)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:55:52.277

我多次遇到同样的问题。首先确保您在属性列表中正确设置了 Facebookappid。然后转到 facebook 帐户设置并从应用程序中删除您的 ios 应用程序。然后转到您的 ios 应用程序的 facebook 开发人员设置。确保应用程序 ID 正确，并确保捆绑标识符也与您在 xcode 中的属性列表相同。之后应该可以工作

**更新：**您不需要删除该应用程序。先尝试从您的 Facebook 设置中删除该应用程序。然后在 iOS 上转到您的 Facebook 应用程序并注销。从设备中删除您自己的应用程序并重新安装（不喜欢您的帐户） .然后您尝试从您自己的应用程序连接 Facebook 将提示并获取您的用户名和密码，它不会返回您的应用程序。您关闭应用程序并手动返回您自己的应用程序。当您尝试在自己的应用程序中再次连接时FB它会询问你的权限。我以某种方式重现了这个问题并像这样修复。

顺便说一句，我还将应用程序类型：高级设置中的设置设置为 Native/Dssktop。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:15:50.197

确保您按照以下指南正确配置了您的应用程序[https://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1/](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1/)检查您的捆绑 ID 是否符合您在应用配置的本机 ios 设置。

# r - 使用作为数据框列的参数计算 R 函数

> ID：12794020
> 
> 赞同：2
> 
> 时间：2012-10-09T06:26:18.347
> 
> 标签：r

我有以下代码。

```
completemodel <- function(model, colnum)
{
  modlst = c()
  tuplenum = length(model)
  if(tuplenum != 0)
    for(i in 1:tuplenum)
      modlst = c(modlst, model[[i]])
  index = seq(0, colnum-1)
  inddiff = setdiff(index, modlst)
  inddifflen = length(inddiff)
  for(i in seq(length.out=inddifflen))
    model = append(model, inddiff[i])
  return(model)
}

##   Calculate number of parameters in model.
numparam <- function(mod, colnum)
  {
    library(RJSONIO)
    mod = fromJSON(mod)
    mod = completemodel(mod, colnum)
    totnum = 0
    for(tup in mod)
      totnum = totnum +(4**length(tup))
    return(totnum)
  }

x = cbind.data.frame(rownum=c(100, 100), colnum=c(10, 20), modeltrue=c("[]", "[]"), modelresult=c("[[1,2]]","[[1,3]]"), stringsAsFactors=FALSE)

> x
  rows colnum modeltrue modelresult
1  100     10        []     [[1,2]]
2  100     20        []     [[1,3]] 
```

我该如何操作`x`才能给我一个如下所示的数据框？`numparam("[]", 10)`当然，这里我的意思是当我写的时候 eg 的值`numparam("[]", 10)`。

```
 rownum   colnum    numparam_modeltrue   numparam_modelresult
  100        10      numparam("[]", 10)   numparam("[[1,2]]", 10)
  100        20      numparam("[]", 20)   numparam("[[1,3]]", 20) 
```

某些版本的 apply 函数可能会起作用，但我在找到合适的公式时遇到了问题。

更新：似乎如果`rownnum`,`colnum`元组不是唯一的，那么可以执行以下操作。

```
x = cbind.data.frame(id=c(1, 2, 3), rownum=c(100, 100, 100), colnum=c(10, 20, 20), modeltrue=c("[]", "[]", "[]"),
  modelresult=c("[[1,2]]","[[1,3]]","[[1,3, 4]]"), stringsAsFactors = FALSE)

##Then, create a data.table and set the key

library(data.table)
xDT <- as.data.table(x)
setkeyv(xDT, c("id", "rownum", "colnum") 
```

那是正确的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T10:46:31.653

如果你对它持开放态度，你可以使用这个`data.table`包。

首先，创建一个`data.table`，添加一个唯一标识符列`id`并将其设置为键

```
library(data.table)
xDT <- as.data.table(x)
xDT[, id := seq_len(nrow(xDT))]
setkey(xDT, "id") 
```

然后，使用`do.call`，您可以`numparam`在适当的列上运行您的函数：

```
res1 <- xDT[, list(numparam_modeltrue = do.call(numparam, unname(.SD))),
  .SDcols = c(3, 2), by = key(xDT)]
res2 <- xDT[, list(numparam_modelresult = do.call(numparam, unname(.SD))),
  .SDcols = c(4, 2), by = key(xDT)] 
```

然后将结果组合成一个data.table

```
xDT[res1][res2][, c("modeltrue", "modelresult") := NULL, with = FALSE]
   id rownum colnum numparam_modeltrue numparam_modelresult
1:  1    100     10                 40                   48
2:  2    100     20                 80                   88 
```

* * *

**编辑：**

正如 Matthew Dowle 所建议的，您可以通过以下方式在最后没有 mrege 的情况下达到相同的结果：

```
xDT[,numparam_modeltrue := do.call(numparam, unname(.SD)),
  .SDcols = c(3, 2), by = key(xDT)]
xDT[,numparam_modelresult := do.call(numparam, unname(.SD)),
  .SDcols = c(4, 2), by = key(xDT)] 
```

如果你想摆脱列`modeltrue`和`modelresult`，

```
xDT[,c("modeltrue", "modelresult") := NULL, with = FALSE]
# NOTE that with = FALSE shouldn't be necessary with data.table 1.8.3
# But I'm still with 1.8.2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:24:43.530

下面的代码排序的作品。不过，它不是很漂亮。欢迎提出改进建议。特别是，不必转置矩阵并添加列名会很好，而且由于它返回一个矩阵，因此仍然存在整数转换为字符串的烦人问题。感谢[flodel](https://stackoverflow.com/users/1201032/flodel) 提供的关于[他对“将参数从矩阵的每一行传递给函数”的回答](https://stackoverflow.com/a/9236695/350713)的提示。

```
completemodel <- function(model, colnum)
{
  modlst = c()
  tuplenum = length(model)
  if(tuplenum != 0)
    for(i in 1:tuplenum)
      modlst = c(modlst, model[[i]])
  index = seq(0, colnum-1)
  inddiff = setdiff(index, modlst)
  inddifflen = length(inddiff)
  for(i in seq(length.out=inddifflen))
    model = append(model, inddiff[i])
  return(model)
}

##   Calculate number of parameters in model.
numparam <- function(mod, colnum)
  {
    library(RJSONIO)
    mod = fromJSON(mod)
    print(paste("mod", mod))
    mod = completemodel(mod, colnum)
    totnum = 0
    for(tup in mod)
      totnum = totnum +(4**length(tup))
    return(totnum)
  }

numparamvec <- function(rownum, colnum, modeltrue, modelresult)
  {
    totnum1 = numparam(modeltrue, as.integer(colnum))
    totnum2 = numparam(modelresult, as.integer(colnum))
    return(c(rownum, colnum, totnum1, totnum2))
  }

x = cbind.data.frame(rownum=c(100, 100), colnum=c(10, 20), modeltrue=c("[]", "[]"), modelresult=c("[[1,2]]","[[1,3]]"), stringsAsFactors=FALSE)
val = t(apply(x, 1, function(x)do.call(numparamvec, as.list(x))))
colnames(val) = c("rownum", "colnum", "numparam_modeltrue", "numparam_modelresult") 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T12:09:07.703

使用 sapply 的替代方法：

```
numparamvec <- function(rownum, colnum, modeltrue, modelresult)
  {
    totnum1 = numparam(modeltrue, as.integer(colnum))
    totnum2 = numparam(modelresult, as.integer(colnum))
    return(c(rownum = rownum, colnum = colnum,
      numparam_modeltrue = totnum1, numparam_modelresult = totnum2))
  }

val <- sapply(seq_len(nrow(x)),
  function(y) do.call(numparamvec, x[y, ]))

> as.data.frame(t(val))
  rownum colnum numparam_modeltrue numparam_modelresult
1    100     10                 40                   48
2    100     20                 80                   88 
```

替代方法使用`vapply`：

```
val <- t(vapply(seq_len(nrow(x)), function(y) do.call(numparamvec, x[y, ]),
  c(rownum = 0, colnum = 0, numparam_modeltrue = 0, numparam_modelresult = 0)))

> val
     rownum colnum numparam_modeltrue numparam_modelresult
[1,]    100     10                 40                   48
[2,]    100     20                 80                   88 
```

# c# - 为列绑定网格时将 1 更改为启用，将 0 更改为禁用

> ID：12794021
> 
> 赞同：0
> 
> 时间：2012-10-09T06:26:24.900
> 
> 标签：c#, asp.net

我有一个网格，下面是我为它编写的代码。在我的这个列的网格中，即`<asp:BoundField DataField = "IsNOWEnabled" HeaderText = "Enabled/Disabled" HtmlEncode = "true"/>`来自数据库的 1 或 0 即将到来。我希望在绑定时，网格将此列的文本 1 替换为启用，将 0 替换为禁用，这样当网格绑定时，它显示 1 为启用，0 为禁用列启用/禁用。

请指导我，我如何实现这一目标。

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
<ContentTemplate>
    <asp:GridView ID="GridView1" runat="server"  Width = "550px" AutoGenerateColumns = "false"  AlternatingRowStyle-BackColor = "#C2D69B" HeaderStyle-BackColor = "green" AllowPaging ="true" OnPageIndexChanging = "OnPaging" PageSize = "10" >
        <Columns>
            <asp:BoundField DataField = "NatureOfWorkID" HeaderText = "Nature Of WorkID" HtmlEncode = "true" Visible="false" />
            <asp:BoundField DataField = "NatureOFWorkName" HeaderText = "Nature Of Work Name"  HtmlEncode = "true" />    
            <asp:BoundField DataField = "IsNOWEnabled" HeaderText = "Enabled/Disabled"  HtmlEncode = "true"/> 
            <asp:TemplateField ItemStyle-Width = "30px"  HeaderText = "NatureOfWorkID">
               <ItemTemplate>
                   <asp:LinkButton ID="lnkEdit" runat="server" Text = "Edit" OnClick = "Edit"></asp:LinkButton>
               </ItemTemplate>
            </asp:TemplateField>
        </Columns> 
        <AlternatingRowStyle BackColor="#C2D69B"  />
    </asp:GridView>
    <asp:Button ID="btnAdd" runat="server" Text="Add" OnClick = "Add" />
    <asp:Panel ID="pnlAddEdit" runat="server" CssClass="modalPopup" style = "display:none">
    <asp:Label Font-Bold = "true" ID = "Label4" runat = "server" Text = "Nature Of Work Details" ></asp:Label>
    <br />
        <table align = "center">      
            <tr>
                <td>
                <asp:Label ID = "Label2" runat = "server" Text = "Nature Of Work Name" ></asp:Label>
                </td>
                <td>
                <asp:TextBox ID="txtNOWname" runat="server"></asp:TextBox>    
                </td>
            </tr>
            <tr>
                <td>
                    <asp:RadioButton id="RBEnable" Text="Enabled"  runat="server"/>
                    <br>
                    <asp:RadioButton id="RBDisable" Text="Disabled"  runat="server"/>
                    <br>
                </td>            
            </tr>
            <tr>
                <td>
                <asp:Button ID="btnSave" runat="server" Text="Save" OnClick = "Save" />
                </td>
                <td>
                <asp:Button ID="btnCancel" runat="server" Text="Cancel" OnClientClick = "return Hidepopup()"/>
                </td>
            </tr>
        </table>
    </asp:Panel>
    <asp:LinkButton ID="lnkFake" runat="server"></asp:LinkButton>
        <cc1:ModalPopupExtender ID="popup" runat="server" DropShadow="false"
        PopupControlID="pnlAddEdit" TargetControlID = "lnkFake"
        BackgroundCssClass="modalBackground">
        </cc1:ModalPopupExtender>
</ContentTemplate> 
    <Triggers>
    <asp:AsyncPostBackTrigger ControlID = "GridView1" />
    <asp:AsyncPostBackTrigger ControlID = "btnSave" />
    </Triggers> 
```

后面的代码是：-

```
private String strConnString = ConfigurationManager.ConnectionStrings["TempConnectionString"].ConnectionString;

    protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            this.BindData();
        }
    }

    private void BindData()
    {
        string strQuery = "select NatureOfWorkID,NatureOfWorkName,IsNOWEnabled" +
                           " from NatureOfWork";
        SqlCommand cmd = new SqlCommand(strQuery);
        GridView1.DataSource = GetData(cmd);
        GridView1.DataBind();
    }

    private DataTable GetData(SqlCommand cmd)
    {
        DataTable dt = new DataTable();
        using (SqlConnection con = new SqlConnection(strConnString))
        {
            using (SqlDataAdapter sda = new SqlDataAdapter())
            {
                cmd.Connection = con;
                con.Open();
                sda.SelectCommand = cmd;
                sda.Fill(dt);
                return dt;
            }
        }
    }

    protected void OnPaging(object sender, GridViewPageEventArgs e)
    {
        this.BindData();
        GridView1.PageIndex = e.NewPageIndex;
        GridView1.DataBind();
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:13:30.537

如果您的 B 逻辑增加，则声明一个公共方法并使用它类似于 inline if

例子

代码背后

```
public string  IsNowEnable(object data)
{
  return (int)data == 1 ? "Enabled" : "Disabled";
} 
```

然后在 aspx

```
<asp:Label Text="<%# IsNowEnable(Eval("IsNOWEnabled"))%>" runat="server" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:39:49.453

使用`RowDatabound`事件和`DataRowView`属性如下...

```
void GridView_RowDataBound (Object sender, GridViewRowEventArgs e)
  {
    // Check for a row in edit mode.
    if(e.Row.RowType == DataControlRowType.DataRow)
    {
      DataRowView rowView = (DataRowView)e.Row.DataItem;
      e.Row.Cells[2].Text=rowView["IsNOWEnabled"].ToString()=="1"?"Enabled":"Disabled";
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:36:12.353

为什么不使用 asp.net 标签而不是有界字段？然后您可以在GridView的ItemDataBound事件中更改asp.net标签的文本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:40:50.360

您可以使用内联 if 语句，例如：

```
<asp:Label Text="<%# Eval("IsNOWEnabled") == 1 ? "Enabled" : "Disabled" %>" runat="server" /> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T06:43:21.947

只需使用标记。你可以用另一个`TemplateField`来做这个。就像是：

```
<asp:TemplateField HeaderText="Enabled/Disabled" SortExpression="IsNOWEnabled">
    <ItemTemplate>
        <%# ((bool)Eval("IsNOWEnabled"))? "Enabled" : "Disabled" %>
    </ItemTemplate>
</asp:TemplateField> 
```

# c# - Import of SVsServiceProvider not working in custom editor

> ID：12794024
> 
> 赞同：8
> 
> 时间：2012-10-09T06:26:42.827
> 
> 标签：c#, winforms, visual-studio

I created a custom editor for a WinForms component which implements UITypeEditor and works fine. The editor should load information from the currently opened solution and I think this should be done with DTE from the VisualStudio SDK.

According to a MSDN article ([http://msdn.microsoft.com/en-us/library/ee834473(v=vs.110).aspx](http://msdn.microsoft.com/en-us/library/ee834473%28v=vs.110%29.aspx)) I implemented this exactly like this:

```
internal class TreeViewTypeEditor : UITypeEditor
{
     [Import]
     internal SVsServiceProvider ServiceProvider = null;

     protected override Control GetEditControl(ITypeDescriptorContext context, object value)
     {
         // ServiceProvider is NULL here!
         DTE dte = (DTE)ServiceProvider.GetService(typeof(DTE));
     }
} 
```

`ServiceProvider` will always be null but why? What am I doing wrong?

# routing - 路由中的多个控制器

> ID：12794029
> 
> 赞同：5
> 
> 时间：2012-10-09T06:27:11.437
> 
> 标签：routing, asp.net-web-api

我可能有一个蹩脚的问题，但我在一个 URL 中路由多个控制器时遇到了一些困难。所以我的问题是如何使用这样的网址：

```
GET http://foo.com/API/Devices/2/Parameters/2 
```

最终`device`，`parameters`所有控制器和数字都是 ID。我对它们每个都有控制器，但是如何处理它们，将它们路由到正确的控制器？

有什么方向可以看吗？

**更新：**
只是为了澄清我最终使用的解决方案并遵循以下答案。

路由片段：

```
config.Routes.MapHttpRoute(
            name: "DeviceCommandsControllerHttpRoute", 
            routeTemplate: "api/devices/{deviceId}/commands/{id}", 
            defaults: new { controller = "devicecommands", id = RouteParameter.Optional }
        ); 
```

控制器片段：

```
[HttpGet]
public DeviceCommand GetById(int id, int deviceId)
    { ... } 
```

最后是网址：

```
GET http://localhost:49479/api/Devices/2/Commands/1 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-09T08:54:00.580

我现在正在处理一个类似的需求，并且我有以下路线结构：

```
public static void RegisterRoutes(HttpRouteCollection routes) {

    routes.MapHttpRoute(
        "UserRolesHttpRoute",
        "api/users/{key}/roles",
        new { controller = "UserRoles" });

    routes.MapHttpRoute(
        "AffiliateShipmentsHttpRoute",
        "api/affiliates/{key}/shipments",
        new { controller = "AffiliateShipments" });

    routes.MapHttpRoute(
        "ShipmentStatesHttpRoute",
        "api/shipments/{key}/shipmentstates",
        new { controller = "ShipmentStates" });

    routes.MapHttpRoute(
        "AffiliateShipmentShipmentStatesHttpRoute",
        "api/affiliates/{key}/shipments/{shipmentKey}/shipmentstates",
        new { controller = "AffiliateShipmentShipmentStates" });

    routes.MapHttpRoute(
        "DefaultHttpRoute",
        "api/{controller}/{key}",
        new { key = RouteParameter.Optional });
} 
```

我认为您可以在此基础上弄清楚如何实现您的。

# git - git：将不同的存储库组合成一个具有不同分支的存储库

> ID：12794031
> 
> 赞同：0
> 
> 时间：2012-10-09T06:27:14.260
> 
> 标签：git, git-branch

> **可能重复：**
> [如何将来自两个不同存储库的两个分支合并到一个存储库中？](https://stackoverflow.com/questions/244695/how-to-combine-two-branches-from-two-different-repositories-in-a-single-reposito)

目前，我在不同的 git 存储库中为不同的客户提供不同版本的软件。

现在我想将这些不同的存储库组合到一个具有不同分支的存储库中。这怎么可能？

谢谢 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:33:00.470

```
git remote add customer1 <url>
git remote add customer2 <url>
# ...
git fetch --all
git checkout -b customer1 customer1/master
git checkout -b customer2 customer2/master 
```

这应该为每个-remote-repository`customerX`的每个`master`分支创建一个分支。`customerX`

# c++ - 使用矩阵从c ++中的函数返回二维数组

> ID：12794033
> 
> 赞同：0
> 
> 时间：2012-10-09T06:27:17.910
> 
> 标签：c++, arrays, matrix

我使用 createMatrix() 函数创建了一个名为“map”的矩阵。（我使用了双指针，因为结构必须是矩阵）。如何在主函数中返回和使用返回的矩阵？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:37:25.490

您可以通过在主函数中简单地定义一个双指针来返回该值。

```
int** p=createMatrix(N); 
```

现在你有了`createMatrix`函数 in的返回值`p`。

# objective-c - 防止父视图在子视图作用于它后接收触摸事件

> ID：12794037
> 
> 赞同：7
> 
> 时间：2012-10-09T06:27:29.283
> 
> 标签：objective-c, ios, cocoa-touch, uigesturerecognizer

我在 iOS 应用程序上的事件响应者链遇到问题。

问题如下，我在一个更大的视图（正方形）上有一组子视图（气泡），如果我点击按钮，我希望能够显示某个视图，但是如果我点击其他任何我想要的地方查看隐藏。

问题是当我点击气泡时，两个视图（子视图和父视图）都在触发，我该如何防止这种情况发生？

如果孩子已经对触摸事件采取了行动，那不应该是它的结束吗？

我的 Bubbles 正在使用 UITapGestureRecognizer 识别 Tap 手势，而父视图（正方形）使用 touchesBegan: 方法

这张图用多个气泡解释了我当前的设置：

![在此处输入图像描述](../Images/4b45607a3b257defde05e6bc730cff70.png)

代码：

```
@implementation Bubble
...
-(id) initWithFrame: (CGRect) frame {
    UITapGestureRecognizer *singleFingerDTap = [[UITapGestureRecognizer alloc]
                                                initWithTarget:self action:@selector(handleSingleTap:)];
    singleFingerDTap.numberOfTapsRequired = 1;
    [self addGestureRecognizer:singleFingerDTap];

}

-(void) handleSingleTap {
NSLog(@"Bubble tapped, show the view");
} 
```

广场

```
@implementation Square
...
- (void) touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
NSLog(@"square touched, lets hide the view");
} 
```

点击后，我在控制台上看到了两个 NSLog

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:42:18.877

嗯，这就是问题所在。`touchesBegan`将得到所有的触摸，包括手势识别器的触摸。您也可以尝试`gestureRecognizer.cancelsTouchesInView = TRUE`为气泡设置或使用 touchesBegan。

既然你好像在这里做游戏，你是在用 cocos2D 之类的引擎吗？如果是这样的话，有更简单的方法来完成你想要的。

希望这可以帮助。

干杯!

编辑：

如果您只使用手势识别器，触摸将不会发送到层次结构中的下一个视图。我想这就是你想要的。如果你决定开始接触，我认为你应该这样做：

//在气泡视图类中

```
- (void)touchesBegan:(NSSet*)touches withEvent:(UIEvent *)event 
{
    if(theTouchLocation is inside your bubble)
    {
        do something with the touch
    }
    else
    {
        //send the touch to the next view in the hierarchy ( your large view )
       [super touchesBegan:touches withEvent:event];
       [[self nextResponder] touchesBegan:touches withEvent:event];
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T07:24:39.960

我发现了问题所在。UIView 继承自 UIResponder，基本的触摸事件由触发触摸开始事件的视图检测。您在主视图中添加的子视图也响应 touches started 方法。这是非常基本的。您还添加了一个带有点击手势识别器的选择器方法。因此，对气泡的任何触摸都会触发这两种方法，从而触发两个日志。尝试使用另一个选择器将另一个手势识别器添加到视图中，例如

```
UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tappedOnBubble)];
    [self.bubbleView addGestureRecognizer:tap];

UITapGestureRecognizer *tap2 = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tappedOnMainView)];
   [self.view addGestureRecognizer:tap2];

-(void)tappedOnMainView
{
    NSLog(@"touched on main View");
    [self.vwToShow setHidden:NO];
}
-(void)tappedOnView
{
    NSLog(@"tapped on bubbleview");
    [self.vwToShow setHidden:YES];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:43:16.473

做这个：

```
@implementation Square{

 ...
 -(id) initWithFrame: (CGRect) frame {
    UITapGestureRecognizer *singleFingerDTap = [[UITapGestureRecognizer alloc]
                                                initWithTarget:self action:@selector(handleSingleTap:)];
    singleFingerDTap.numberOfTapsRequired = 1;
    [self addGestureRecognizer:singleFingerDTap];

 }

 -(void) handleSingleTap {
   NSLog(@"Sqaure tapped, hide the view");
 }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:43:34.043

为什么不在主视图上也使用轻击手势识别器呢？触摸开始就像编写自己的手势识别器，但要困难得多。使用多个水龙头识别器，只有一个会触发。

# android - 如何在有视频的网站上响应全屏按钮

> ID：12794041
> 
> 赞同：1
> 
> 时间：2012-10-09T06:28:02.157
> 
> 标签：android, webview, android-webview, android-view, android-video-player

我使用 webview 播放来自各种网站的视频，其中一些有全屏按钮

![在此处输入图像描述](../Images/1e727b4da7147e3f41d71c9444d28047.png)

我希望 webview 响应全屏按钮。

如果我设置`webSettings.setUseWideViewPort(false);`然后单击全屏按钮时视频卡住，我可以在 logcat 上看到以下错误：

```
10-09 08:32:27.970: D/gralloc(31814): unmmap  pid(1876), vaddr(0x589dc000)
10-09 08:32:27.970: E/gralloc(31814): [GR_MD] unmapping from 0x5786c000, size=33427456
10-09 08:32:27.970: D/gralloc(31814): unmmap  pid(1876), vaddr(0x5a9fb000)
10-09 08:32:27.970: E/gralloc(31814): [GR_MD] unmapping from 0x5984d000, size=33427456
10-09 08:32:27.975: D/gralloc(31814): unmmap  pid(1876), vaddr(0x5e616000)
10-09 08:32:27.975: E/gralloc(31814): [GR_MD] unmapping from 0x5d42a000, size=33427456 
```

我使用的是 Android 4.0.1，这是我的代码：

```
setWebViewSettings(mVideoWebView);
String data_html = "<!DOCTYPE HTML> <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:og=\"http://opengraphprotocol.org/schema/\" xmlns:fb=\"http://www.facebook.com/2008/fbml\"> <head></head> <body style=\"margin:0 0 0 0; padding:0 0 0 0;\"> <iframe src=\"http://www.dailymotion.com/embed/video/xu4vre\" width=\"300\" height=\"162"\" frameborder=\"0\"></iframe> </body> </html> ";
mVideoWebView.loadData(data_html, "text/html", null);

public static void setWebViewSettings(WebView webview) {
    WebSettings webSettings = webview.getSettings();
    webSettings.setPluginState(PluginState.ON);
    webSettings.setJavaScriptEnabled(true);
    webSettings.setAllowFileAccess(true);
    webSettings.setLoadWithOverviewMode(false); // zoom y/n
    webSettings.setUseWideViewPort(true); // true = like desktop
    webSettings.setPluginsEnabled(true);

    //webSettings.setAllowContentAccess(true);
    webSettings.setAllowFileAccess(true);
    //webSettings.setAllowFileAccessFromFileURLs(true);
    //webSettings.setAllowUniversalAccessFromFileURLs(true);
    webSettings.setDatabaseEnabled(true);
    webSettings.setGeolocationEnabled(true);
    webSettings.setJavaScriptCanOpenWindowsAutomatically(true);
    webSettings.setDomStorageEnabled(true);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T04:58:12.913

在这里找到我的答案： [https ://stackoverflow.com/a/12850816/475472](https://stackoverflow.com/a/12850816/475472)

我必须创建一个新的`WebChromeClient`、压倒一切`onShowCustomView(View view, WebChromeClient.CustomViewCallback callback)`的`onHideCustomView()`

# java - 黑名单 Maven 依赖项

> ID：12794049
> 
> 赞同：17
> 
> 时间：2012-10-09T06:28:38.833
> 
> 标签：java, maven, maven-3

有没有一种方法，例如 Maven 插件，它可以获取不需要/黑名单依赖项（直接和传递）的列表，如果它检测到列出的依赖项之一，则构建失败？

在我的项目中，我们严格希望摆脱 Apache Commons Logging 并将其替换为 SLF4J JCL Bridge。我知道我们必须自己排除不需要的部门，但如果有人添加了一个引入黑名单依赖项的依赖项，我希望构建失败。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-09T06:31:52.530

您可以使用[`maven-enforcer-plugin`](http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html).

这是他们的示例，其中包含您排除 Apache Commons Logging 的更新。

```
<project>
  [...]
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <version>1.1.1</version>
        <executions>
          <execution>
            <id>enforce-banned-dependencies</id>
            <goals>
              <goal>enforce</goal>
            </goals>
            <configuration>
              <rules>
                <bannedDependencies>
                  <excludes>
                    <exclude>commons-logging:commons-logging</exclude>
                  </excludes>
                </bannedDependencies>
              </rules>
              <fail>true</fail>
            </configuration>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  [...]
</project> 
```

运行时的输出`mvn install`将是：

```
[WARNING] Rule 1: org.apache.maven.plugins.enforcer.BannedDependencies failed with message:
Found Banned Dependency: commons-logging:commons-logging:jar:1.1.1
Use 'mvn dependency:tree' to locate the source of the banned dependencies. 
```

这一切都以`BUILD FAILURE`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:30:42.497

是的，[enforcer 插件通过它的](http://maven.apache.org/plugins/maven-enforcer-plugin/)[禁止依赖](http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html)规则支持这一点。

# xml - xmlns 格式混乱

> ID：12794052
> 
> 赞同：0
> 
> 时间：2012-10-09T06:29:07.643
> 
> 标签：xml, xml-parsing, xml-namespaces

```
<linkbase xsi:schemaLocation="http://www.w3.org/1998/linkbase http://www.xbrl.org/2003/schema.xml" xmlns="http://www.noprefix.org/2003/linkbase" xmlns:xlink="http://www.w3.org/2005/xlink" xmlns:xsi="http://www.w3.org/1999/XMLSchema">
  <roleRef roleURI="http://www.greenserve.com/role/Commitgencies" xlink:href="Commitmentsngencies" xlink:type="simple" />
  </linkbase> 
```

在这个 xml 中有一个 xmlns 属性，后面没有 a`:`和前缀名称。

`xmlns="http://www.noprefix.org/2003/linkbase"`

但其他人在 xmlns 之后有一个冒号和前缀。因此，当我尝试解析此 xml 以获取`roleref`具有“后代”功能的标签时，它不会显示任何内容。但是如果我`:`在那个 xmlns 之后添加一个和一个前缀，那么它可以正确解析。为什么它的行为就像任何人都可以解释？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:36:39.377

当您有一个没有冒号和前缀的 xmlns 属性时，这是整个文档的默认命名空间......所以所有未加前缀的元素都将位于该默认命名空间中。但是，这与没有命名空间不同。请记住，命名空间实际上是 URI，而不是前缀……前缀只是引用 this 的快捷方式。因此，如果您有这样的 xml 文件：

```
<xml xmlns="http://example.org" xmlns:ex="http://example2.org">
<element1/>
<element2/>
<ex:element3>
</xml> 
```

没有命名空间前缀的元素不能仅仅通过元素名称来寻址，因为它们仍然在命名空间[http://example.org](http://example.org)中。

现在，至于如何解析它......这一切都取决于你的工具。如果它是 XSLT，那么在您的 XSLT 文件中，您可以为该名称空间提供一个临时前缀，以便处理这些元素。每种编程语言中的每个库都可能有不同的实现方式（作为众多示例之一，python 中的 lxml 将处理默认命名空间元素，如下所示：{http://example.org}element1）。您必须参考您用来进行解析的任何内容，以获取有关如何处理默认命名空间中的元素的帮助。

# excel - Excel 宏运行时错误：1004

> ID：12794065
> 
> 赞同：1
> 
> 时间：2012-10-09T06:30:33.477
> 
> 标签：excel, filter, vba

我昨天刚开始使用宏，在我遇到这个问题之前一切都很好。每次我尝试运行此代码时，我都会得到

> 运行时 1004 错误。

代码所做的是为 acct_cre_mth_id 过滤器分配一个值。

我用谷歌搜索，发现一个解决方案是重命名过滤器，我已经这样做了，但它没有用。

我有给定的代码，但对于不同的过滤器它工作正常，但仅对于这个特定的过滤器我有问题。

```
Sheets("Sheet6").Select
 ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    ClearAllFilters
ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    CurrentPage = "1321"
ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    ClearAllFilters
ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    CurrentPage = "1322"
ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    ClearAllFilters
ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    CurrentPage = "1323"
ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    ClearAllFilters
ActiveSheet.PivotTables("PivotTable1").PivotFields("acct_cre_mth_id"). _
    CurrentPage = "1324"
End Sub 
```

# android - Android Asynctask 在片段选项卡中运行两次

> ID：12794067
> 
> 赞同：2
> 
> 时间：2012-10-09T06:30:38.673
> 
> 标签：android, android-asynctask, android-fragments

重新附加我的片段时，我的 Asynctask 运行了两次。我怎样才能让它只附加一次。当我在运行异步任务时快速切换选项卡时，这会导致尚未创建内容视图。有人有解决这个问题的方法吗？

```
 public class AndroidFragment extends SherlockListFragment  implements ActionBar.TabListener{

static final String URL = "https://xml.xml";
static final String KEY_SONG = "song";
static final String KEY_ID = "id";
static final String KEY_TITLE = "title";
static final String KEY_CAT_ARTIST = "artistcat";
static final String KEY_DURATION = "duration";
static final String KEY_THUMB_URL = "thumb_url";
static final String KEY_BIG_URL = "big_url";
static final String KEY_CAT_URL = "cat_url";
static final String KEY_DESC = "cat_desc";
ArrayList<HashMap<String, String>> menuItems;
ListAdapter adapter;
Context appContext;
private Fragment mFragment;

@Override
public void onViewCreated(View view, Bundle savedInstanceState) {

        new loadListView().execute();

        if (getActivity() != null) {
            adapter=new MainPageLazyAdapter(getActivity(), menuItems);
            setListAdapter(adapter);}

     super.onViewCreated(view, savedInstanceState);
        }

public class loadListView extends AsyncTask<Integer, String, String> {

    @Override
    protected void onPreExecute() {
        super.onPreExecute();
    }

    @Override
    protected String doInBackground(Integer... args) {
        // updating UI from Background Thread
        menuItems = new ArrayList<HashMap<String, String>>();

        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_SONG);
        // looping through all item nodes <item>
        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);
            // adding each child node to HashMap key => value
            map.put(KEY_ID, parser.getValue(e, KEY_ID));
            map.put(KEY_TITLE, parser.getValue(e, KEY_TITLE));
            map.put(KEY_CAT_ARTIST, parser.getValue(e, KEY_CAT_ARTIST));
            map.put(KEY_DURATION, parser.getValue(e, KEY_DURATION));
            map.put(KEY_THUMB_URL, parser.getValue(e, KEY_THUMB_URL));
            map.put(KEY_BIG_URL, parser.getValue(e, KEY_BIG_URL));
            map.put(KEY_CAT_URL, parser.getValue(e, KEY_CAT_URL));
            map.put(KEY_DESC, parser.getValue(e, KEY_DESC));
            // adding HashList to ArrayList
            menuItems.add(map);
        }
            return null;
        }   

    @Override
    protected void onPostExecute(String args) {

     }
}

    @Override
    public void onTabSelected(Tab tab, FragmentTransaction ft) {

        if (mFragment == null) {
            mFragment = new AndroidFragment();
            ft.add(android.R.id.content, mFragment);
            //ft.attach(mFragment);

        } else {

            if (mFragment.isDetached()){
                ft.attach(mFragment);
            }

        }
        }

    @Override
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {

        ft.detach(mFragment);

    }

    @Override
    public void onTabReselected(Tab tab, FragmentTransaction ft) {

    }

} 
```

日志猫：

```
 10-09 15:21:47.141: E/AndroidRuntime(7582): FATAL EXCEPTION: main
10-09 15:21:47.141: E/AndroidRuntime(7582): java.lang.RuntimeException: Unable to start activity ComponentInfo{in.wptrafficanalyzer.actionbarsherlocknavtab/in.wptrafficanalyzer.actionbarsherlocknavtab.MainActivity}: java.lang.NullPointerException
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1970)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.ActivityThread.access$600(ActivityThread.java:127)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.os.Looper.loop(Looper.java:137)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.ActivityThread.main(ActivityThread.java:4512)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at java.lang.reflect.Method.invokeNative(Native Method)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at java.lang.reflect.Method.invoke(Method.java:511)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:982)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:749)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at dalvik.system.NativeStart.main(Native Method)
10-09 15:21:47.141: E/AndroidRuntime(7582): Caused by: java.lang.NullPointerException
10-09 15:21:47.141: E/AndroidRuntime(7582):     at in.wptrafficanalyzer.actionbarsherlocknavtab.MainPageLazyAdapter.getCount(MainPageLazyAdapter.java:34)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.widget.ListView.setAdapter(ListView.java:460)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.ListFragment.setListAdapter(ListFragment.java:182)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.ListFragment.ensureList(ListFragment.java:365)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.ListFragment.onViewCreated(ListFragment.java:145)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at in.wptrafficanalyzer.actionbarsherlocknavtab.AndroidFragment.onViewCreated(AndroidFragment.java:52)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:884)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1080)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:622)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1416)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:505)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1136)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.Activity.performStart(Activity.java:4475)
10-09 15:21:47.141: E/AndroidRuntime(7582):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1943)
10-09 15:21:47.141: E/AndroidRuntime(7582):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:07:41.713

您确定 AsyncTask 正在运行两次吗？因为我从您的代码和 logcat 中得到的是当 AsyncTask 完成并调用 onPostExecute 时（考虑到您的片段当前已分离），如果您在未创建列表时调用 setListAdapter，则会收到此异常。因此，不要在 onPostExecute 中调用 setListAdapter，而是将下载的项目保存在片段中，并在 onViewCreated() 中将其设置为适配器。试一试，告诉我这能解决你的问题。

使用此代码。

```
public class AndroidFragment extends SherlockListFragment  implements ActionBar.TabListener{

    static final String URL            = "https://xml.xml";
    static final String KEY_SONG       = "song";
    static final String KEY_ID         = "id";
    static final String KEY_TITLE      = "title";
    static final String KEY_CAT_ARTIST = "artistcat";
    static final String KEY_DURATION   = "duration";
    static final String KEY_THUMB_URL  = "thumb_url";
    static final String KEY_BIG_URL    = "big_url";
    static final String KEY_CAT_URL    = "cat_url";
    static final String KEY_DESC       = "cat_desc";
    ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>;
    ListAdapter adapter;
    Context     appContext;
    private Fragment mFragment;

    @Override
    public void onViewCreated (View view, Bundle savedInstanceState) {

        new loadListView().execute();

        if (getActivity() != null) {
            adapter = new MainPageLazyAdapter( getActivity(), menuItems );
            setListAdapter( adapter );
        }

        super.onViewCreated( view, savedInstanceState );
    }

    public class loadListView extends AsyncTask<Integer, String, String> {

        @Override
        protected void onPreExecute () {
            super.onPreExecute();
        }

        @Override
        protected String doInBackground (Integer... args) {
            // updating UI from Background Thread
            menuItems = new ArrayList<HashMap<String, String>>();

            XMLParser parser = new XMLParser();
            String xml = parser.getXmlFromUrl( URL ); // getting XML
            Document doc = parser.getDomElement( xml ); // getting DOM element

            NodeList nl = doc.getElementsByTagName( KEY_SONG );
            // looping through all item nodes <item>
            for (int i = 0; i < nl.getLength(); i++) {
                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();
                Element e = (Element) nl.item( i );
                // adding each child node to HashMap key => value
                map.put( KEY_ID, parser.getValue( e, KEY_ID ) );
                map.put( KEY_TITLE, parser.getValue( e, KEY_TITLE ) );
                map.put( KEY_CAT_ARTIST, parser.getValue( e, KEY_CAT_ARTIST ) );
                map.put( KEY_DURATION, parser.getValue( e, KEY_DURATION ) );
                map.put( KEY_THUMB_URL, parser.getValue( e, KEY_THUMB_URL ) );
                map.put( KEY_BIG_URL, parser.getValue( e, KEY_BIG_URL ) );
                map.put( KEY_CAT_URL, parser.getValue( e, KEY_CAT_URL ) );
                map.put( KEY_DESC, parser.getValue( e, KEY_DESC ) );
                // adding HashList to ArrayList
                menuItems.add( map );
            }
            return null;
        }

        @Override
        protected void onPostExecute (String args) {
            if (adapter != null) adapter.notifyDataSetChanged();
        }
    }

    @Override
    public void onTabSelected (Tab tab, FragmentTransaction ft) {

        if (mFragment == null) {
            mFragment = new AndroidFragment();
            ft.add( android.R.id.content, mFragment );
            //ft.attach(mFragment);

        } else {

            if (mFragment.isDetached()) {
                ft.attach( mFragment );
            }

        }
    }

    @Override
    public void onTabUnselected (Tab tab, FragmentTransaction ft) {

        ft.detach( mFragment );

    }

    @Override
    public void onTabReselected (Tab tab, FragmentTransaction ft) {

    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-09T17:22:48.690

我认为这不存在，尝试删除它：

```
else {

        if (mFragment.isDetached()){
            ft.attach(mFragment);
        } 
```

# database - 回历日期插入数据库

> ID：12794072
> 
> 赞同：1
> 
> 时间：2012-10-09T06:31:00.517
> 
> 标签：database, hibernate, postgresql, gregorian-calendar, hijri

在我的数据库中，我使用了公历日期。我想插入回历日期。怎么做或者有什么问题。我使用休眠和JPA。

例如 2/30/1433 是回历日期。但是，2 月最多为 29 天。在这种情况下，是否有任何错误？

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T07:40:00.067

我想最好的方法是将回历转换为公历。如果可以将其重新转换为相同的回历日期，则正确转换并不重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T06:32:08.633

`DATE`PostgreSQL 仅在,`TIMESTAMP WITH TIME ZONE`和`TIMESTAMP WITHOUT TIME ZONE`对象中存储现代时期的公历日期。请参阅[日期/时间类型的文档，](http://www.postgresql.org/docs/current/static/datatype-datetime.html)其中指出：

> 日期是根据公历计算的，即使是在引入公历之前的几年（有关更多信息，请参见第 B.4 节）。

对于公历之前的日期，请参阅[B.4 日期时间单位历史](http://www.postgresql.org/docs/current/static/datetime-units-history.html)。[这个邮件列表线程](http://postgresql.1045698.n5.nabble.com/Date-Time-Types-internals-td5649945.html)也可能有用。

如果您想要支持公历以外的日历，您需要找到一个能够理解所需日历的 PostgreSQL 扩展，或者您需要将日期作为纯`text`字符串存储在数据库中。

# maxima - 长度：参数不能是符号

> ID：12794076
> 
> 赞同：1
> 
> 时间：2012-10-09T06:31:17.583
> 
> 标签：maxima

我有以下代码：

```
configuration(s)  := makelist(i, i, 0, length(s) - 1)$
active_agents(s)  := s . configuration(s)$
prob_exp[k](l, s) := 1 - exp(- l[k] * active_agents(s))$ 
```

当我尝试`prob_exp`使用一些具体的值调用时`s`，例如：

```
prob_exp[k](l, [0.25, 0.25, 0.25, 0.25]); 
```

我收到以下错误消息：

```
length: argument cannot be a symbol; found s
#0: configuration(s=s)
#1: active_agents(s=s)
#2: lambda([k],lambda([l,s],1-exp((-l[k])*active_agents(s))))(k=k)
-- an error. To debug this try: debugmode(true); 
```

有没有办法强制`s`作为值传递？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-20T19:48:36.987

以下是您所观察到的解释：Maxima 首先计算 prob_exp[k]，它产生一个带有两个参数的 lambda 表达式，然后将其应用于 [l, [0.25, 0.25, 0.25, 0.25]]。评估 prob_exp[k] 会导致错误，因为 s 未绑定到实际列表。

要解决这个问题，您需要 prob_exp[k] 来评估可以以 s 作为符号的东西。这是一种方法。我将 active_agents 定义为简化函数（即，通过简化规则评估的函数）。

```
configuration(s)  := makelist(i, i, 0, length(s) - 1);
matchdeclare (aa, listp);
tellsimp (active_agents (aa), aa . configuration (aa));
prob_exp[k](l, s) := 1 - exp(- l[k] * active_agents(s)); 
```

然后我得到：

```
prob_exp[k];
 => lambda([l,s],1-%e^-(l[k]*active_agents(s)))
prob_exp[k](l, [0.25, 0.25, 0.25, 0.25]);
 => 1-%e^-(1.5*l[k]) 
```

请注意，Maxima 更喜欢精确分数而不是浮点数；我建议使用 [1/4, 1/4, 1/4, 1/4] 而不是 [0.25, 0.25, 0.25, 0.25]。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T18:50:43.617

更简单的是写：

```
prob_exp(k, l, s) := 1 - exp(- l[k] * active_agents(s))$ 
```

问题是当您调用 p[k] 时会评估功能*配置*（我不知道为什么）。举一个更简单的例子：

```
show(x):=block(disp('run),x);
q[k](x,y):=x+k*show(y);
q[k]; 
```

产量：

```
run
lambda([x,y],k*y+x) 
```

也就是说，q[k] 是一个 lambda，但它的内容在这个过程中得到了评估，它打印出“run”。但它不会引发错误。为什么 ？简单地说，你不能用符号边界来评估 makelist ，并且 length(s) 是符号的，因为在这个阶段 s 还没有价值。

当您定义 prob_exp(k, l, s) 而不是 prob_exp[k](l, s) 时，整个表达式是一个 lambda，并且将在所有变量都有值时进行评估。

同样，这不会评估*show*：

```
lambda([x,y],y+k*show(x)); 
```

另外，请注意前面*q*的定义，当多次调用 q[k] 时，*run*只会打印一次，因为 q 是一个散列数组。因此，Maxima 在第一次调用时准备函数（并以某种方式评估主体），然后将其存储。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-18T13:13:31.330

也许推迟评估会有所帮助？我不是 100% 确定为什么这会起作用，而将例如`ev(..., nouns)`放入其中`prob_exp`不起作用，但我认为这至少更接近您的需要。

```
kill(all);
configuration(s)  := 'makelist(i, i, 0, 'length(s) - 1)$
active_agents(s)  := s . configuration(s)$
prob_exp[k](l, s) := 1 - exp(- l[k] * active_agents(s))$

prob_exp[k](l, [0.25, 0.25, 0.25, 0.25]);
ev(%, nouns); 
```

# json - 使用 Jade 迭代 JSON

> ID：12794078
> 
> 赞同：14
> 
> 时间：2012-10-09T06:31:24.057
> 
> 标签：json, node.js, mongodb, express, pug

我正在尝试使用 JADE 迭代 JSON 文档。

我的服务器（运行 node.js + express）正在对 .get() 请求执行以下操作，

```
app.get('/search/', function(req,res){

  // Parse the query
  var dbQuery = url.parse(req.url, true).query;
  var product = dbQuery.product;
  var category = dbQuery.category;
  console.log('Searching for: ' + product + ' in ' + category);

  //Mongo DB setup then query
  var result;
  var server = new mongodb.Server('23.23.129.158', 27017, {});
  new mongodb.Db('militaryListDB', server, {}).open(function(err, client){
    if(err) throw err;

    var collection = new mongodb.Collection(client, 'products');
    collection.find({}).toArray(function(err, results){
      console.log(results);
      console.log(JSON.stringify(results));
      res.render('results', {result: JSON.stringify(results), title: 'Test'});
    });
  });
}); 
```

这就是它呈现给客户端的内容。

```
[{"_id":"50738ebbe3d87c6beaddb6f2","name":"tv","category":"tech","cost":"30"}] 
```

我已经阅读了用于迭代数组的翡翠文档，我认为它对于 JSON 是一样的，但它不起作用。它只是显示一个空白区域。当我尝试这个时，

```
extends layout
block content
  div#wrapper                 
    p #{results} 
```

它将显示 JSON 文档。但是当我尝试这个时，

```
extends layout
block content
  div#wrapper                 
    p #{results.name} 
```

它显示一个空白区域。应该显示的时间是“tv”。如果有人可以帮助我理解迭代 JSON 文档，那就太棒了。

谢谢！

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-10-09T06:54:54.020

在您的代码中，您没有遍历`results`数组，因此您应该执行以下操作：

```
for result in results
     p #{result.name} 
```

# php - php json可读格式

> ID：12794080
> 
> 赞同：4
> 
> 时间：2012-10-09T06:31:36.507
> 
> 标签：php, json, decode

下面是我的 JSON 格式字符串：

```
a:1:{i:0;a:10:{s:2:"id";s:4:"2086";s:12:"variation_id";s:4:"2091";s:4:"name";s:10:"VELCRO BIB";s:3:"qty";s:1:"1";s:9:"item_meta";a:2:{i:0;a:2:{s:9:"meta_name";s:4:"Size";s:10:"meta_value";s:10:"0-3 MONTHS";}i:1;a:2:{s:9:"meta_name";s:5:"Color";s:10:"meta_value";s:6:"BEIGE1";}}s:13:"line_subtotal";s:3:"108";s:17:"line_subtotal_tax";s:1:"0";s:10:"line_total";s:3:"108";s:8:"line_tax";s:1:"0";s:9:"tax_class";s:0:"";}} 
```

如何将其转换为可读格式或 php 数组格式？

我正在使用`json_decode`函数，但它不返回任何内容。

最早的帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:34:22.387

那是一个序列化的 php 值，而不是 JSON。用于[`unserialize`](http://php.net/manual/en/function.unserialize.php)将其转换回其原始值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:32:42.653

此字符串格式错误。`json_decode`是正确的。您必须创建一个正确的 JSON 字符串，然后它应该可以工作。如果您想知道正确的 JSON 字符串必须如何，请查看此站点： http: [//www.json.org/](http://www.json.org/)

# android - 使用 Android 在 Titanium 中使用 createWindow 方法

> ID：12794084
> 
> 赞同：0
> 
> 时间：2012-10-09T06:31:56.663
> 
> 标签：android, view, titanium, emulation

请给我包含视图的代码。例如：红色，绿色，蓝色。

```
var window = Titanium.UI.createWindow({
                backgroundColor:'red',
                title: 'My Root Window'
        });

window.open(); 
```

我正在使用它来创建主窗口。当我在模拟器上执行它时，它会给出强制关闭错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:01:34.240

创建一个带有红色背景的全屏窗口。

```
var window = Titanium.UI.createWindow({

   backgroundColor:'red'

});

window.open({fullscreen:true}); 
```

单击 **[链接](http://developer.appcelerator.com/apidoc/mobile/1.7.1/Titanium.UI.Window-object)** 以获取更多参考。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:02:00.980

应用程序.js：

```
var win = Ti.UI.createWindow({
    layout: 'horizontal'
    title: 'My Root Window'
});

var views = new Array();
var backgrounds = ['red', 'blue', 'green'];

for(var i in backgrounds) {
    views.push(Ti.UI.createView({
        backgroundColor: backgrounds[i],
        height: '33%'
    }));
}

for(var i in views) {
    win.add(views[i]);
}

win.open(); 
```

# android - Android - 运行 Android 2.3.6 的 Nexus One 的 SPP UUID

> ID：12794086
> 
> 赞同：2
> 
> 时间：2012-10-09T06:32:00.283
> 
> 标签：android, spp

我正在使用`getUuids()`来自我的 Android 应用程序的调用查询 Nexus One 的 UUID，我看到返回以下内容：

```
 0 th UUID found is 00001105-0000-1000-8000-00805f9b34fb
 1 th UUID found is 00001106-0000-1000-8000-00805f9b34fb
 2 th UUID found is 0000110a-0000-1000-8000-00805f9b34fb
 3 th UUID found is 0000110c-0000-1000-8000-00805f9b34fb
 4 th UUID found is 00001112-0000-1000-8000-00805f9b34fb
 5 th UUID found is 0000111f-0000-1000-8000-00805f9b34fb
 6 th UUID found is 0000112f-0000-1000-8000-00805f9b34fb
 7 th UUID found is 00001200-0000-1000-8000-00805f9b34fb 
```

我的问题是：为什么我无法`00001101-0000-1000-8000-00805f9b34fb`在此列表中看到 SPP ( ) 的标准 UUID？

我已经测试过我能够使用 S2 蓝牙终端应用程序将串行数据从 android 设备（Xoom）发送到这款 Nexus One 手机。此数据传输中使用的是什么 UUID？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:36:52.787

该`S2 Bluetooth Terminal`应用程序使用`00001101-0000-1000-8000-00805F9B34FB`硬编码（使用[smali](http://code.google.com/p/smali/)检查）。

请注意以下几点：

*   查看[getUuids() 的文档](http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#getUuids%28%29)我注意到：

    *此方法不会启动服务发现过程以从远程设备检索 UUID。而是返回服务 UUID 的本地缓存副本。如果需要新的 UUID，请使用 fetchUuidsWithSdp()。*

    你试过`fetchUuidsWithSdp()`吗？

*   `S2 Bluetooth Terminal`，虽然有用，但并不是真正的 SDP 调试工具。就个人而言，我宁愿尝试使用[BlueZ](http://www.bluez.org/)实用程序（或类似的工具，如果在 Windows 上 - 但我在这里推荐 Linux）来查看设备实际宣传的服务。这样，您就可以（至少）将问题缩小到其中一个设备。

    **编辑**：在 Windows 上，您可以使用[蓝牙网络扫描仪](http://www.medieval.it/bluescan-pc/menu-id-72.html)

以下是如何使用 BlueZ 工具扫描服务的小示例（此示例使用 GPS 接收器）：

```
czajnik@lapcio:~$ hcitool scan
Scanning ...
    00:1C:88:11:0E:CC   PENTA-GPS
czajnik@lapcio:~$ sdptool  browse 00:1C:88:11:0E:CC
Browsing 00:1C:88:11:0E:CC ...
Service Name: SPP Slave
Service RecHandle: 0x10000
Service Class ID List:
  "Serial Port" (0x1101)
Protocol Descriptor List:
  "L2CAP" (0x0100)
  "RFCOMM" (0x0003)
    Channel: 1
Language Base Attr List:
  code_ISO639: 0x656e
  encoding:    0x6a
  base_offset: 0x100 
```

# android - Tablayout 设置宽度

> ID：12794088
> 
> 赞同：0
> 
> 时间：2012-10-09T06:32:15.380
> 
> 标签：android, android-layout, tabs

嗨，我必须开发一个标签栏应用程序。这里创建了 5 个标签。**第一个标签宽度大于第二个和第三个标签宽度**。我该怎么做？？？？请帮我。 ![电流输出](../Images/67b195657463147f9f805c73ff31cdc4.png)

希望需要这样的输出：

![希望需要输出](../Images/790464fd1626f23dc9530aa7dd38006c.png)

在这里，仪表板选项卡必须设置宽度大于订单和客户。我该如何设计和开发这个。请帮助我。我如何设置仪表板测试颜色和样式。请给我一些解决方案。我已经搜索了 google.more 教程最适合我。所以请给我一些有价值的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:39:51.543

您将必须实现自定义选项卡指示器。您可以参考此[链接](http://ondrejcermak.info/en/programovani/custom-tabs-in-android-tutorial/)寻求帮助。仍然面临任何问题然后告诉我我会帮助你。

# javascript - IE10 MSPointerUp 在不松开手指的情况下触发（在 Touch Hold 上）

> ID：12794091
> 
> 赞同：1
> 
> 时间：2012-10-09T06:32:27.770
> 
> 标签：javascript, internet-explorer, touch, dom-events, internet-explorer-10

我一直在搞乱 IE10 触摸 API（在三星 Slate 上测试），我发现在按住触摸后触发了触摸释放操作。

因此，当我将手指放在屏幕上时，以下是触发事件的过程：

*   0ms = MSPointerDown，pointerId = 0
*   1ms = MSPointerMove，pointerId = 0
*   ~1000ms = MSPointerUp with pointerId = 0
*   ~1001ms = MSPointerDown with pointerId = 1 REPEAT POINT
*   ~1002ms = MSPointerMove with pointerId = 1
*   ~1250ms = MSPointerUp，pointerId = 1

然后在 REPEAT POINT 重复增加pointerId。

这是代码：

```
// Setup the css on the canvas (allows for detection of MSPointerMove)
$(canvas).css("-ms-touch-action", "none");

// Initialize regular touch actions
canvas.addEventListener('MSPointerDown', TouchStart, false);
canvas.addEventListener('MSPointerMove', TouchMove, false);
canvas.addEventListener('MSPointerUp', TouchEnd, false);

// Initialize the revoking of gestures/other unwanted pieces
canvas.addEventListener("MSPointerCancel", function (e) { e.preventDefault(); }, false);
canvas.addEventListener("MSGestureInit", function (e) { if (e.preventManipulation) e.preventManipulation(); }, false);
canvas.addEventListener("MSHoldVisual", function (e) { e.preventDefault(); }, false); 
```

这绝对可能只是一个 Slate 问题，但我认为要求确保我没有遗漏任何东西是明智的。如果这不仅仅是一个 Slate 问题，那么我如何允许用户按住手指而不在大约一秒钟后触发不需要的“MSPointerUp”事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T21:18:01.927

事实证明，此问题是未更新驱动程序的 W7/W8 三星平板电脑的常见问题。

能够通过更新驱动程序使其工作：http: [//www.samsung.com/ca/support/win8upgrade/](http://www.samsung.com/ca/support/win8upgrade/)

# android - WebView CanGoBack 在 TabHost 中不起作用

> ID：12794098
> 
> 赞同：0
> 
> 时间：2012-10-09T06:32:57.847
> 
> 标签：android, android-webview, android-tabhost

我使用以下链接创建了动态 Tabhost

[http://www.pocketmagic.net/?p=1132](http://www.pocketmagic.net/?p=1132)

我已使用 WebView 更改了内容，如下所示

```
ts3.setContent(new TabHost.TabContentFactory(){
             public View createTabContent(String tag)
             {
                LinearLayout panel = new LinearLayout(sActiveContext);
                panel.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, 
                            LayoutParams.WRAP_CONTENT));
                panel.setOrientation(LinearLayout.VERTICAL);
                WebView webview=new WebView(sActiveContext);                
                panel.addView(webview);
                return panel;
             }
        }); 
```

webview.goback() 实现如下

```
@Override
    public boolean onKeyDown(int keyCode, KeyEvent event) 
        {          
             if(event.getAction() == KeyEvent.ACTION_DOWN)
               {
                   switch(keyCode)
                   {
                      case KeyEvent.KEYCODE_BACK:   

                       if(webview.canGoBack())
                           webview.goBack();
                       else
                           //alert                     
                           return true;
                   }

               }
               return super.onKeyDown(keyCode, event);
        } 
```

`always i'm getting alert msg only`. 我错过了什么？

**注意：从客户端传递的选项卡和标题的数量。上面的代码在服务器端。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T12:10:37.033

我已经用 WebView 解决了这个回退问题。我从 tabhost 的当前选项卡中获取了当前的 webview。现在工作正常

```
public static WebView getCurrentWebView()
  {
     if(sTabHost!=null)
          {
      View view=sTabHost.getCurrentView();
            if(view!=null)
            {
             View child=((ViewGroup)view).getChildAt(0);
             for(int i=0; i<((ViewGroup)child).getChildCount(); i++) {
               View nextChild = ((ViewGroup)child).getChildAt(i);
               if(nextChild!=null)
               {
                String type=nextChild.getClass().toString();
                if(type!=null && !type.equals("") && type.equals("class android.webkit.WebView"))
                {
                 sCurrentWebView=(WebView) (((ViewGroup)child).getChildAt(i));                  
                 break;
                }                 
               }
           }
            }           
          }
     return sCurrentWebView;
  }

@Override
    public boolean onKeyDown(int keyCode, KeyEvent event) 
        {          
             if(event.getAction() == KeyEvent.ACTION_DOWN)
               {
                   switch(keyCode)
                   {
                      case KeyEvent.KEYCODE_BACK:   
                       WebView view=getCurrentWebView();
                       if(view!=null && view.canGoBack())
                         view.goBack();
                       else
                           //alert                     
                           return true;
                   }

               }
               return super.onKeyDown(keyCode, event);
        } 
```

# ruby-on-rails - Rails GeoIP 返回国家/城市列表

> ID：12794099
> 
> 赞同：0
> 
> 时间：2012-10-09T06:32:57.753
> 
> 标签：ruby-on-rails, file, geolocation, yaml, geoip

所以，我正在尝试通过**GeoIP** gem使用 Maxmind **GeoLiteCity.dat ：** [https](https://github.com/cjheath/geoip) ://github.com/cjheath/geoip 而且，困扰我的是：我怎么可能返回所有国家/地区的列表（这很容易，因为那里有一个适当的 YAML 文件）和城市 - 但我不知道如何阅读城市列表。我所知道的是它们以某种方式存储在这个*.dat*文件中

 ***谁能帮我解决这个问题？我应该在哪里以及如何看？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:46:05.443

*.dat*文件是一种数据库文件，其中内容以表格形式存储，但以压缩形式存储。只需找出哪些列是指国家和城市。在以下链接中，有类似的问题：

[Ruby 按列对 .dat 文件进行排序](https://stackoverflow.com/questions/12275223/ruby-sorting-a-dat-file-by-column)

[如何在 Ruby 中处理大文件？](https://stackoverflow.com/questions/1090357/how-can-i-handle-large-files-in-ruby)

[使用 Ruby on Rails 从原始 IP 地址获取用户国家名称](https://stackoverflow.com/questions/1988049/getting-a-user-country-name-from-originating-ip-address-with-ruby-on-rails)

请参考以上链接并修改代码以满足您的需要。***

# forms - 在magento中如何在默认注册页面中添加字段？

> ID：12794105
> 
> 赞同：-1
> 
> 时间：2012-10-09T06:33:14.353
> 
> 标签：forms, validation, magento-1.7, magento

我想在 Magento 提供的默认用户注册页面中添加“电话”和“用户 ID”字段，并且还需要对这些字段进行验证。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:41:26.613

网上有很多教程。检查本教程。

[在注册中添加额外字段](http://magento4u.wordpress.com/2011/03/28/add-extra-fields-in-registration-page/)

[添加额外字段 wiki 教程](http://www.magentocommerce.com/wiki/5_-_modules_and_development/customers_and_accounts/registration_fields)

[表单验证](http://www.magestore.com/blog/2010/04/09/magestore-magento-tutorial-form-validation-in-magento/)

# ruby - Ruby：将日期数组转换为包含每天出现次数的数组

> ID：12794106
> 
> 赞同：2
> 
> 时间：2012-10-09T06:33:20.797
> 
> 标签：ruby

我对 ruby​​ 还是很陌生，但在这个问题上已经卡了半天了。

我有一个整数形式的日期数组（例如`[1351136194, 1350142662, 1350118879]`），我试图将其转换为一个数组，其中包含接下来 30 天每天发生的次数。

基本上，我希望能够查询例如`array[0]`今天范围内的日期数，`array[1]`明天等。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:44:46.460

像这样的东西应该工作。基本上，您将时间转换为日期，然后将它们分组，以便您轻松识别重复项。然后创建数组：

```
times = [1351136194, 1350142662, 1350118879]
dates = times.map{|t| Time.at(t).to_date}
occurences = dates.group_by{|d| d}
occurences_by_day = (Date.today..(Date.today + 30)).map{|d| occurences[d] ? occurences[d].size : 0} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:49:21.467

```
arr = [1351136194, 1350142662, 1350118879]
hash = {}

arr.each do |int_date|
    date = Time.at(int_date).strftime("%d-%b-%Y")
    hash.has_key?(date) ? hash[date] += 1 : hash[date] = 1
end

puts hash #{"25-Oct-2012"=>1, "13-Oct-2012"=>2} 
```

# c++ - 为什么在使用 boost::asio 时每个连接都需要 strand？

> ID：12794107
> 
> 赞同：48
> 
> 时间：2012-10-09T06:33:35.207
> 
> 标签：c++, boost, boost-asio

我正在查看Boost 网站上的[HTTP Server 3示例。](http://www.boost.org/doc/libs/1_51_0/doc/html/boost_asio/examples.html#boost_asio.examples.http_server_3)

你们能解释一下为什么我需要`strand`每个连接吗？正如我所看到的，我们`read_some`只在读取事件的处理程序中调用。所以基本上`read_some`调用是顺序的，因此不需要 strand （[第 3 段的第 2 项](http://www.boost.org/doc/libs/1_51_0/doc/html/boost_asio/overview/core/strands.html)说同样的事情）。多线程环境的风险在哪里？

* * *

## 回答 #1

> 赞同：100
> 
> 时间：2012-10-09T13:22:21.443

文档是正确的。使用半双工协议实现，例如[HTTP Server 3](http://www.boost.org/doc/libs/1_60_0/doc/html/boost_asio/example/cpp03/http/server3/connection.cpp)，`strand`则不需要。调用链可以说明如下：

```
void connection::start()
{
  socket.async_receive_from(..., &handle_read);  ----.
}                                                    |
    .------------------------------------------------'
    |      .-----------------------------------------.
    V      V                                         |
void connection::handle_read(...)                    |
{                                                    |
  if (result)                                        |
    boost::asio::async_write(..., &handle_write); ---|--.
  else if (!result)                                  |  |
    boost::asio::async_write(..., &handle_write);  --|--|
  else                                               |  |
    socket_.async_read_some(..., &handle_read);  ----'  |
}                                                       |
    .---------------------------------------------------'
    |
    V
void handle_write(...) 
```

如图所示，每个路径只启动一个异步事件。由于不可能在 上同时执行处理程序或操作`socket_`，因此据说它在隐式链中运行。

* * *

## 线程安全

虽然它在示例中并未作为问题出现，但我想强调 strands 和组合操作的一个重要细节，例如[`boost::asio::async_write`](http://www.boost.org/doc/libs/1_60_0/doc/html/boost_asio/reference/async_write.html). 在解释细节之前，让我们先介绍一下 Boost.Asio 的线程安全模型。对于大多数 Boost.Asio 对象，在一个对象上挂起多个异步操作是安全的；它只是指定对对象的并发调用是不安全的。在下图中，每一列代表一个线程，每一行代表一个线程在某一时刻正在做什么。

单个线程进行顺序调用是安全的，而其他线程不进行：

```
线程_1 | 线程_2
--------------------------------------------------+------------ ----------------------------
socket.async_receive(...); | ...
socket.async_write_some(...); | ...
```

多个线程进行调用是安全的，但不能同时调用：

```
线程_1 | 线程_2
--------------------------------------------------+------------ ----------------------------
socket.async_receive(...); | ...
... | socket.async_write_some(...);
```

但是，多个线程同时进行调用是不安全的¹：

```
线程_1 | 线程_2
--------------------------------------------------+------------ ----------------------------
socket.async_receive(...); | socket.async_write_some(...);
... | ...
```

## 股线

为了防止并发调用，处理程序通常从链中调用。这是通过以下任一方式完成的：

*   用[`strand.wrap`](http://www.boost.org/doc/libs/1_60_0/doc/html/boost_asio/reference/io_service__strand/wrap.html). 这将返回一个新的处理程序，它将通过链进行调度。
*   直接通过链[发布](http://www.boost.org/doc/libs/1_60_0/doc/html/boost_asio/reference/io_service__strand/post.html)或[发送。](http://www.boost.org/doc/libs/1_60_0/doc/html/boost_asio/reference/io_service__strand/dispatch.html)

组合操作的独特之处在于对流的中间调用是在*处理程序的 strand**中*调用的，如果存在的话，而不是在其中启动组合操作的 strand。与其他操作相比，这呈现了指定链的位置的反转。这是一些专注于 strand 使用的示例代码，它将演示通过非组合操作读取的套接字，并与组合操作同时写入。

 *```
void start()
{
  // Start read and write chains.  If multiple threads have called run on
  // the service, then they may be running concurrently.  To protect the
  // socket, use the strand.
  strand_.post(&read);
  strand_.post(&write);
}

// read always needs to be posted through the strand because it invokes a
// non-composed operation on the socket.
void read()
{
  // async_receive is initiated from within the strand.  The handler does
  // not affect the strand in which async_receive is executed.
  socket_.async_receive(read_buffer_, &handle_read);
}

// This is not running within a strand, as read did not wrap it.
void handle_read()
{
  // Need to post read into the strand, otherwise the async_receive would
  // not be safe.
  strand_.post(&read);
}

// The entry into the write loop needs to be posted through a strand.
// All intermediate handlers and the next iteration of the asynchronous write
// loop will be running in a strand due to the handler being wrapped.
void write()
{
  // async_write will make one or more calls to socket_.async_write_some.
  // All intermediate handlers (calls after the first), are executed
  // within the handler's context (strand_).
  boost::asio::async_write(socket_, write_buffer_,
                           strand_.wrap(&handle_write));
}

// This will be invoked from within the strand, as it was a wrapped
// handler in write().
void handle_write()
{
  // handler_write() is invoked within a strand, so write() does not
  // have to dispatched through the strand.
  write();
} 
```

* * *

## 处理程序类型的重要性

此外，在组合操作中，Boost.Asio 使用[参数相关查找](http://en.wikipedia.org/wiki/Argument-dependent_name_lookup)(ADL) 通过完成处理程序的链调用中间处理程序。因此，完成处理程序的类型具有适当的[`asio_handler_invoke()`](http://www.boost.org/doc/libs/1_60_0/doc/html/boost_asio/reference/asio_handler_invoke.html)挂钩很重要。如果类型擦除发生在没有适当`asio_handler_invoke()`钩子的类型上，例如`boost::function`从 的返回类型构造a 的情况`strand.wrap`，则中间处理程序将在链外执行，并且只有完成处理程序将在链内执行。有关更多详细信息，请参阅[此](https://stackoverflow.com/a/32892581/1053968)答案。

在以下代码中，所有中间处理程序和完成处理程序都将在链中执行：

```
boost::asio::async_write(stream, buffer, strand.wrap(&handle_write)); 
```

在下面的代码中，只有完成处理程序将在 strand 中执行。没有任何中间处理程序将在链中执行：

```
boost::function<void()> handler(strand.wrap(&handle_write));
boost::asio::async_write(stream, buffer, handler); 
```

* * *

[1.[修订历史](http://www.boost.org/doc/libs/1_58_0/doc/html/boost_asio/history.html#boost_asio.history.asio_1_4_0___boost_1_37)记录了此规则的异常情况。如果操作系统支持，*同步*读取、写入、接受和连接操作是线程安全的。为了完整起见，我将其包含在此处，但建议谨慎使用。]

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-09T07:09:47.780

我相信这是因为组合操作[async_write](http://www.boost.org/doc/libs/1_51_0/doc/html/boost_asio/reference/async_write.html)。`async_write`由多个[socket::async_write_some](http://www.boost.org/doc/libs/1_51_0/doc/html/boost_asio/reference/basic_stream_socket/async_write_some.html)异步组成。Strand 有助于序列化这些操作。[asio 的作者 Chris Kohlhoff 在 1:17 左右的boostcon 演讲](http://blip.tv/boostcon/thinking-asynchronously-designing-applications-with-boost-asio-5250947)中简短地谈到了它。*

# c# - .Net 与 Borland C++ 的互操作性问题

> ID：12794108
> 
> 赞同：4
> 
> 时间：2012-10-09T06:33:41.667
> 
> 标签：c#, interop, c++-cli, c++builder

我有一个想在 Borland C++ 中使用的 C# 库。我采用的方法是使用混合模式 DLL，即使用 C++/CLI 作为 C# 库和 Borland C++ 之间的中间体。我创建了一个示例 HelloWorld 程序

## C# 库：

```
namespace Hello
{
   class HelloWorld
   {
      public void Display();
      {
        Console.WriteLine("Hello World");
      }
   }
} 
```

## C++/CLI：

我创建了一个空的 VC++ 项目并将 C# 库添加为对 C++/CLI 项目的引用，该项目导出一个函数。我已将项目设置更改为使用 /clr，并将应用程序类型更改为 DLL。

## 测试.h

```
__declspec(dllexport) void DisplayHello(); 
```

## 测试.cpp

```
#include "Test.h"
using namespace Hello;

__declspec(dllexport) void DisplayHello()
{
   HelloWorld ^ mHello = gcnew HelloWorld();
   mHello->Display();
} 
```

## Borland C++：

我拿了 Visual Studio 生成的 DLL 并使用 Borland 提供的 IMPLIB 实用程序生成了一个 Borland C++ 编译器可以理解的 LIB 文件。

我使用生成的 lib 文件和头文件 Test.h 来构建 BCB 项目，我有一个调用 DisplayHello 的函数

```
void CallDisplay()
{
   DisplayHello();//Application crashes here.
} 
```

我注意到的奇怪的事情是，当我删除

```
HelloWorld ^ mHello = gcnew HelloWorld();
mHello->Display(); 
```

该程序运行良好。

它抛出一个 EExternal 异常“e0434352”。我使用 HelloWorld 的方式似乎存在一些问题，我无法确定导致崩溃的原因，我们将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T15:49:41.953

错误代码 0xe0434352 是 CLR 异常。根据我的经验，当这些在启动时发生时，它们总是会成为定位程序集的问题。您可以启用[程序集绑定日志](http://msdn.microsoft.com/en-us/library/e74a18c4%28v=vs.71%29.aspx)，以帮助您找出无法加载的内容。无论如何，.NET 程序集应该在 .exe 目录中，或者在 GAC 中注册（如果在其他地方）。

如果加载程序集不是错误，则尝试附加 Windows 调试器 (windbg) 并使用它的托管调试来准确查看 .NET 异常是什么。

# c++ - for 循环消除

> ID：12794114
> 
> 赞同：3
> 
> 时间：2012-10-09T06:34:18.910
> 
> 标签：c++, c++11

我想使用[索引技巧](http://loungecpp.wikidot.com/tips-and-tricks%3aindices)来消除`for`我的 C++11 程序中的循环（类似于强制`-funroll-loops`）。

这是一个例子：

```
template<unsigned...> struct indices
{
};

template<unsigned M, unsigned... Is> struct indices_gen
  : indices_gen<M - 1, M - 1, Is...>
{
};

template<unsigned... Is> struct indices_gen<0, Is...> : indices<Is...>
{
};

template <typename T>
struct example
{
  example()
  {
    assign(indices_gen<3>(), 0);
  }

  template<unsigned... Is, typename U>
  void assign(indices<Is...>, U value)
  {
    [](...){}((array[Is] = value)...);
  }

  T array[3];
};

int main()
{
  example<int> ex;
  return 0;
} 
```

是否可以创建一个`indices_gen<S,E>`从开始索引`S`到结束索引`E`？你能告诉我怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T09:36:48.007

试试这个（[http://liveworkspace.org/code/e65a81d0d3e9b17692713fd3e9d681f5](http://liveworkspace.org/code/e65a81d0d3e9b17692713fd3e9d681f5)）：

```
template<unsigned...> struct indices {};

template<unsigned S, unsigned E, unsigned... Is> struct indices_gen
  : indices_gen<S, E-1, E-1, Is...>
{};

template<unsigned S, unsigned... Is> struct indices_gen<S, S, Is...> : indices<Is...>
{}; 
```

工作示例： http: [//liveworkspace.org/code/3d0ba21cc637a61c3e63d2db002f87af](http://liveworkspace.org/code/3d0ba21cc637a61c3e63d2db002f87af)

***编辑***：检查 Xeo 的评论。上面的例子没有检查 if`S < E`，所以如果你犯了错误，它可能会变坏。在这种情况下，这（Xeo 的代码）将返回编译器错误：http: [//liveworkspace.org/code/81205e13334e89537bdc0b79b3ba56fc](http://liveworkspace.org/code/81205e13334e89537bdc0b79b3ba56fc)

# c# - RadGridEditForm 中的 CheckBox CheckedChange 事件

> ID：12794117
> 
> 赞同：0
> 
> 时间：2012-10-09T06:34:31.763
> 
> 标签：c#, asp.net, telerik, telerik-grid

![在此处输入图像描述](../Images/944f99a537047459b5acf3e2d1e28c80.png)我有一个 RadGridEditForm 模板，其中有 checkBox 和 RadComboBox。

所以它包含2个按钮

1st-添加新记录（即 GridEditFormInsertItem）

2nd- 编辑（编辑现有记录。）

当复选框为 **CHECKED**** 时，我想禁用 RadComboBox**我曾经使用“添加新记录”来跟踪代码，但当我单击 **Edit**按钮时，它显示错误为 -

```
Unable to cast object of type 'Telerik.Web.UI.GridEditFormItem' to type 'Telerik.Web.UI.GridEditFormInsertItem'. 
```

我的 checkedChanged 事件代码是

```
 protected void chkEHalfDay_CheckedChanged(object sender, EventArgs e)
{
    CheckBox chkHalfDay = (CheckBox)sender;
    GridEditFormInsertItem item = (GridEditFormInsertItem)chkHalfDay.NamingContainer;

        if (chkHalfDay.Checked == false)
        {
            ((RadComboBox)item.FindControl("rcbHalfDayType")).Enabled = false;
        }
        else
        {
            ((RadComboBox)item.FindControl("rcbHalfDayType")).Enabled = true;
        }
} 
```

请建议我哪里出错了。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:39:29.170

试试这个

```
protected void chkEHalfDay_CheckedChanged(object sender, EventArgs e)
{
   CheckBox chkHalfDay = (CheckBox)sender;
   //GridEditFormInsertItem item = (GridEditFormInsertItem)chkHalfDay.NamingContainer;
   GridEditFormInsertItem item = chkHalfDay.NamingContainer as GridEditFormInsertItem;
   if(item == null)
     item = hkHalfDay.NamingContainer as GridEditFormItem;

  if (chkHalfDay.Checked == false)
     ((RadComboBox)item.FindControl("rcbHalfDayType")).Enabled = false;
  else
      ((RadComboBox)item.FindControl("rcbHalfDayType")).Enabled = true;
} 
```

只需使用`as`运算符，因为它不会引发任何无效转换错误，它只会返回`null`您可以在下一行中检查的内容，如果`chkHalfDay.NamingContainer`不是`GridEditFormInsertItem`，则将其转换`GridEditFormItem`为编辑操作时的内容。

# makefile - 从链接中排除库（制作、配置）

> ID：12794120
> 
> 赞同：2
> 
> 时间：2012-10-09T06:34:45.093
> 
> 标签：makefile, libraries, configure

假设我在 /usr/lib 或 /usr/local/lib 中有一个库，并且 make 和 configure 能够找到它并做出相应的行为。

现在，假设我有另一个版本的此类库，但我不愿意安装；我想针对这个版本链接一个可执行文件；我的（一点）经验告诉我，我可以这样做（例如在配置脚本的情况下）：

```
./configure \
 CFLAGS="-I/My/Non/Standard/Path/libpng-1.5.12" \
 CXXFLAGS="-I/My/Non/Standard/Path/libpng-1.5.12" \
 LDFLAGS="-L/My/Non/Standard/Path/libpng-1.5.12" 
```

我觉得configure应该优先给指定的版本，但是找不到怎么办？configure 是否默默地假定已安装库的标准路径并愉快地继续？如果是这种情况，我如何排除某个库以考虑链接？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T14:52:39.223

您不能将库排除在链接之外。你可以指定一个特定的版本（尽管它可能很难看，特别是如果代码不是你的）。

优先考虑您的库的最简单方法是首先包含，您可以放入配置或环境变量中：

```
export C_INCLUDE_PATH=/Path/to/yours/include/files:$C_INCLUDE_PATH
export CPLUS_INCLUDE_PATH=/Path/to/yours/include/cpp/files:$CPLUS_INCLUDE_PATH
export LD_LIBRARY_PATH=/Path/to/yours/lib/files:$LD_LIBRARY_PATH 
```

# html - 图像未显示在 JSP 页面上

> ID：12794121
> 
> 赞同：2
> 
> 时间：2012-10-09T06:34:46.037
> 
> 标签：html, jsp, spring-mvc, servlets, url-pattern

我有一个简单的 JSP 页面，其中有一个图像是 JSP 页面的一部分，但是当我查看网页时该图像不显示。我可以查看网页，但它不包含图像。

我的 img 文件夹位于多个位置，因为我正在尝试解决此问题。在 img 文件夹中，我有应该在 JSP 页面中显示的 img.jpg 图像。

`war/img/img.jpg`

`war/WEB-INF/jsp/img/img.jpg`

我也无法直接从我的网络服务器查看 img.jpg。例如：`//localhost:8080/register/img/img.jpg` 我得到 HTTP 状态 404 -

这是我的 web.xml 文件

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">
    <display-name>SpringExampleSanjeev</display-name>
    <servlet>
        <servlet-name>dispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>dispatcher</servlet-name>
        <url-pattern>/</url-pattern>
        <url-pattern>/img/*</url-pattern>
    </servlet-mapping>

    <!-- Enable these types of content(files) to be viewed from webpage  -->
    <servlet-mapping>
        <servlet-name>default</servlet-name>
        <url-pattern>*.css</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>default</servlet-name>
        <url-pattern>*.js</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>default</servlet-name>
        <url-pattern>*.gif</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>dispatcher</servlet-name>
        <url-pattern>*.jpg</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>default</servlet-name>
        <url-pattern>*.png</url-pattern>
    </servlet-mapping>
</web-app> 
```

这是我的 JSP 页面的片段

```
 <img border="0" src="/img/img.jpg" alt="header banner" width="304" height="228">
   <img src="<c:url value="/img/img.jpg" />" alt="TestDisplay"/>
   <img src="<c:url value='/img/img.jpg'/>" />
   <img alt="OS usage" src="/img/img.jpg">
   <img border="0" src="/WEB-INF/jsp/img/img.jpg" alt="header banner" width="304" height="228">
   <img border="0" src="/register/WEB-INF/jsp/img/img.jpg" alt="header banner" width="304" height="228">
   <img src="img.jpg">
   <img src="/img/img.jpg">
   <img src="/jsp/img/img.jpg">
   <img src="/register/jsp/img/img.jpg">
   <img src="/WEB-INF/jsp/img/img.jpg">
   <img src="/register/WEB-INF/jsp/img/img.jpg"> 
```

我不确定我做错了什么。在 JSP 页面上放置一个简单的图像应该不会那么难。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:46:17.770

请试试这个。

与 WEB-INF 平行的图像文件夹。（图像文件夹不应位于 WEB-INF 内）。

在 JSP 中，

```
<img src="../images/img.jpg" alt=""/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-05-13T23:56:24.410

我遇到了同样的问题，并通过将图像放置在服务器的目录结构中而不是 portlet 的目录结构中来解决它。我正在使用 apache-tomcat 并将其下载到：

C:\apache-tomcat-5.5.25\

其中有一个名为“webapps”的文件夹，我在那里为我的图像创建了一个子文件夹

C:\apache-tomcat-5.5.25\webapps\portal_content\img

从portlet JSP（即view.jsp）中，我这样引用图像：

<"img src="/portal_content/img/my_image.gif">

希望这可以帮助。

# android - 如何阻止 Android 应用程序通过 Android 应用程序访问位置信息？

> ID：12794122
> 
> 赞同：0
> 
> 时间：2012-10-09T06:34:48.730
> 
> 标签：android, security, mobile

例如，我希望用户能够根据时间/日期/授予和拒绝访问。能够指定时间段，例如 2 小时。

用户可以使用的其他限制是：例如，如果我使用 3G，则此 X 应用程序应该无法访问我的位置。

如果我正在使用 Wi-Fi，则称为工作。这就是为什么应用程序能够访问我的位置。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:08:04.990

应用程序权限不能在运行时修改，必须在 android.manifest 中声明。你唯一能做的就是，把你所有的权限放在清单文件中，尽管如此：

```
<uses-permission android:name="ACCESS_COARSE_LOCATION" />
<uses-permission android:name="ACCESS_FINE_LOCATION" /> 
```

然后简单地通过代码决定用户何时以及如何访问位置。也许向他显示一个[警报对话框](http://developer.android.com/reference/android/app/AlertDialog.html)？

如果您要限制的应用程序不是您的，那么我认为您无能为力。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:56:03.203

在我看来，有两种可能性：如果“控制应用程序”和“受控应用程序”是你的，只需让他们在 sd 卡上共享一个配置文件/数据库，并根据那里的设置启用/禁用地理定位。

[如果“受控应用程序”不是您的，那么根据此博客文章](http://www.howtogeek.com/115888/how-to-restrict-android-app-permissions/)，似乎有一种方法可以控制根设备上的其他应用程序权限。它们仅链接到可以执行此操作的应用程序，而不是编程指南，但这可能是进一步研究的良好起点。

# pyyaml - PyYAML 转储对象路径

> ID：12794124
> 
> 赞同：0
> 
> 时间：2012-10-09T06:35:05.257
> 
> 标签：pyyaml

我在使用 PyYAML 转储和加载 YAML 文件时遇到问题。

我有两个分开的应用程序 A 和 B。我想在 A 中转储一个 YAML 文件，然后加载它并在 B 中使用它。但是对象的路径似乎不正确。

```
A-folder
    dump.py
B-folder
    the_module.py
    use.py 
```

在 dump.py 中，我有如下代码：

```
yaml.dump(the_class_instance, file_stream, default_flow_style=False) 
```

它提供了一个 YAML 文件：

```
!!python/object:B-folder.the_module.the_class
attribute_0: !!python/long '10'
attribute_1: !!python/long '10' 
```

然后我需要在 use.py 中使用这个 YAML 文件。但我无法将它正确加载为 the_module.the_module.the_class 的实例。它说：

```
cannot find module 'B-folder.the_module' (No module named B-folder.the_module) 
```

我试图在另一个模块 B-folder.adaptor 中进行转储，在 dump.py 中它只是调用 B-folder.adaptor 中的方法，但它仍然给出相同的结果。

如何处理？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-22T09:57:25.400

这里的问题实际上不在于 PyYAML，而在于 Python 的模块加载。

在 A 中，我假设您将 the_module 作为 B 文件夹包的一部分导入，使用`import B-folder.the_module`或`from B-folder import the_module`. 在这种情况下，模块名称是`B-folder.the_module`. 如您所见，这将被放入 YAML 文件中。

在 B 中，我假设您只是在内部导入 the_module，例如`import the_module`. 在这种情况下，模块名称是`the_module`. 这与 不同`B-folder.the_module`，这就是您收到错误的原因。如果您改为使用`from B-folder import the_module`or在 B 中导入`import B-folder.the_module`，即使您在同一个文件夹中，它也应该可以解决问题。

# mysql - MySQL - 选择数据并创建一个“虚拟”表

> ID：12794127
> 
> 赞同：4
> 
> 时间：2012-10-09T06:35:19.267
> 
> 标签：mysql, select, database-design, model

假设我的数据库表如下所示：

**page_table**

```
| id | page_id | meta_id | value
----------------------------------------
| 1  | 2       | 1       | Testing value
| 2  | 2       | 2       | Small content
| 3  | 2       | 1       | Another value
| 4  | 2       | 2       | Tiny value
| 5  | 3       | 1       | Text
| 6  | 3       | 2       | Content
| 7  | 3       | 3       | New text 
```

**元表**

```
| id | meta_id | meta_value
-------------------------------
|  1 | 1       | Big headline
|  2 | 2       | Small headline
|  3 | 3       | Extra headline 
```

*   “id”是增量的。
*   “page_id”是一个页面 id。一页上可以有许多元和值。
*   “meta_id”连接到 meta_table。
*   “值”可以是任何字符串。

**问题**

我可以创建一个“虚拟”SQL 表来轻松处理这些数据吗？

**虚拟表 - 我的建议**

```
| id | page_id | Big headline  | Small headline | Extra headline
----------------------------------------------------------------
| 1  | 2       | Testing value | Small content  |
| 2  | 2       | Another value | Tiny value     |
| 3  | 3       | Text          | Content        | New text 
```

以上是页表和元表的相同内容。这就是我想要的 SQL。

**我已经走了多远**

`SELECT * from page_table`这次不会做。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:41:26.880

如果我理解你是正确的，那么你应该`Create view`在 mysql 中阅读，尝试搜索它，这样就可以制作一个“虚拟数据库” - 例如。将它与 Mahmoud Gamal 的一些代码结合起来

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:39:32.063

您可以使用以下查询来实现此目的：

```
SELECT m.id, p.page_id,
  MAX(CASE WHEN meta_value = 'Big headline' THEN p.value END) AS 'Big headline',
  MAX(CASE WHEN meta_value = 'Small headline' THEN p.value END) AS 'Small headline',
  MAX(CASE WHEN meta_value = 'Extra headline' THEN p.value END) AS 'Extra headline'
FROM meta_table m
LEFT JOIN page_table p ON m.meta_id = p.meta_id
GROUP BY m.id, p.page_id; 
```

您可以将此查询放在视图中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:03:41.670

有一种方法可以以大致相同的方式获取数据，只是在行中，而不是像您发布的那样列。

如果您运行此查询：

```
 select mt.meta_value, group_concat(pt.value SEPARATOR ", ") 
   from page_table pt,
   meta_table mt
   where pt.meta_id = mt.meta_id
   group by mt.meta_value; 
```

这将为您提供所需的数据，每行只有一个“列”：

```
Big headline    Testing value, Text, Another value
Extra headline  New text
Small headline  Small content, Content, Tiny value 
```

# android - eclipse classic 4.2.1 - 从 android sdk 开始

> ID：12794128
> 
> 赞同：2
> 
> 时间：2012-10-09T06:35:21.263
> 
> 标签：android, eclipse, adt

我开始为我的 android 操作系统编程：-Windows 7 -Eclipse Classic 4.2 - 下载了所有这些必需的文件 - [http://developer.android.com/sdk/installing/adding-packages.html](http://developer.android.com/sdk/installing/adding-packages.html) -ADT Plugin

我想安装新的 ADT 插件。起初我尝试从[http://dl-ssl.google.com/android/eclipse](http://dl-ssl.google.com/android/eclipse)下载它，我添加了它，但是当我选择它时，只有“待定..”并且没有加载..（也许是互联网连接？我在等待它写道后在首选项中选择了本机连接：无法连接到存储库[http://dl-ssl.google.com/android/eclipse/content.xml](http://dl-ssl.google.com/android/eclipse/content.xml) org.eclipse.equinox.p2.core.ProvidesException )

这就是我下载ADT插件的原因。因此，如果我选择下载的 ADT 插件 - 它加载的内容 - 开发人员工具和 ndk 插件，那么我选择全部并单击下一步。它加载并写入：

“无法完成安装，因为找不到一个或多个必需项。正在安装的软件：Android 开发工具 20.0.3.v201208082019-427395 (com.android.ide.eclipse.adt.feature.group 20.0.3.v201208082019- 427395) 缺少要求：Android 开发工具 20.0.3.v201208082019-427395 (com.android.ide.eclipse.adt.feature.group 20.0.3.v201208082019-427395) 需要 'org.eclipse.wst.sse.core 0.0。 0' 但找不到”

需要'org.eclipse.wst.sse.core 0.0.0 这个问题在这里显示：http: [//developer.android.com/resources/faq/troubleshooting.html#installeclipsecomponents](http://developer.android.com/resources/faq/troubleshooting.html#installeclipsecomponents)但是只有3.3和3.4版的解决方案（无论如何，我有 4.2)，但我试过了——我寻找更新，但什么也没找到。

真不知道哪里出了问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T06:47:50.773

您需要通过**Help --> Check for updates 更新**eclipse 中的所有插件并完成安装步骤。如果它对你没有帮助

*   选择帮助 > 安装新软件...*   单击可用软件站点的链接。*   确保有一个名为 Juno 的更新站点。如果这不存在，请单击添加...并输入
         **Juno** [http://download.eclipse.org/releases/juno](http://download.eclipse.org/releases/juno)
    和相同
        **的 Eclipse 项目更新** [http://download.eclipse.org/eclipse/updates/4.2](http://download.eclipse.org/eclipse/updates/4.2) .

    现在完成安装步骤；Eclipse 应该下载并安装插件的依赖项。

    我遵循的实际参考是[https://stackoverflow.com/a/4641507/1154991](https://stackoverflow.com/a/4641507/1154991) & [https://stackoverflow.com/a/11463487/1154991](https://stackoverflow.com/a/11463487/1154991)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:41:26.220

这可能是由您在计算机上安装的 java 版本引起的。由于 android sdk 不支持 java 1.7，如果您安装了 1.7，它将阻止您下载插件。请确保您在 Program Files(x86) 和 Program Files 中没有 java 1.7。如果是这样，请卸载它重新启动计算机并仅安装 1.6。然后在 Eclipse 中指向 java 1.6 这应该允许您安装 android SDK 和其余插件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:42:40.250

你应该熟悉这个页面：http: [//developer.android.com/index.html](http://developer.android.com/index.html)

下载SDK：http: [//developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)

安装 SDK 和 Eclipse 插件：http: [//developer.android.com/sdk/installing/index.html](http://developer.android.com/sdk/installing/index.html)

并享受您的工作。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T06:47:55.687

在经典版本中缺少“org.eclipse.wst.sse.core 0.0.0”。

检查**安装期间联系所有更新站点以查找更新。**

如果您连接到互联网，这将安装所需的插件。

希望这可以帮助。

# firefox - 适用于 AWS S3 的 @font-face 和 Firefox 的跨域解决方法

> ID：12794129
> 
> 赞同：0
> 
> 时间：2012-10-09T06:35:23.497
> 
> 标签：firefox, amazon-s3, font-face

有谁知道一些针对 Firefox 的跨域复杂性以及在 Amazon S3 中使用 @fontface 的修复方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T07:16:05.050

好吧，我刚刚将我的字体文件上传到 heroku 本身。我知道这不是一个理想的方法，但现在对我来说似乎是最好的选择

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-28T19:31:57.467

这是您需要做的：

1.  登录您的 Amazon S3 控制台 - [https://console.aws.amazon.com/s3](https://console.aws.amazon.com/s3)
2.  从您的账户中选择一个存储桶。打开“权限”下拉菜单。
3.  单击“添加 CORS 配置”。更改配置以符合您的要求。在这种情况下，为了允许一个简单的 GET 请求访问我们的字体，我设置了以下内容：

    ```
    <CORSConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/">
        <CORSRule>
            <AllowedOrigin>http://mydomain.com</AllowedOrigin>
            <AllowedMethod>GET</AllowedMethod>
            <MaxAgeSeconds>3000</MaxAgeSeconds>
            <AllowedHeader>Authorization</AllowedHeader>
        </CORSRule>
    </CORSConfiguration> 
    ```

如果您想允许来自任何来源的访问，您可以将 allowedOrigin 更改为 * 而不是[http://mydomain.com 。](http://mydomain.com)有时您需要执行另一个步骤：

使您的资产过期并从 Rake 任务中重新编译它们。为了使新的 CORS 配置采取行动，这是必需的。

# asp.net-mvc-3 - MVC3 在 .aspx 视图上创建多个表

> ID：12794131
> 
> 赞同：-2
> 
> 时间：2012-10-09T06:35:40.467
> 
> 标签：asp.net-mvc-3

我有一种情况，我需要在 MVC3 项目的 .aspx 视图上显示一堆表格。

我必须只使用表格而不使用网格请帮助

编辑：所以这里的情况是我的 MVC3 项目中有一个 .aspx 视图。为此，我需要显示来自数据库中各种表的数据。每个表格中的数据将显示在屏幕上的不同表格中

例如说

```
<table for data from table1> <table for data from table2>
<table for data from table3> 
<table for data from table4> 
```

我不能使用网格来显示数据，我只需要使用`<table></table>`div 和 span

我还需要使用 JSON 对象而不是模型来显示数据。我需要保持页面尽可能轻

希望这次我能把自己说清楚。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:50:02.443

*免责声明：根据我从您如此难以理解的问题中了解到的情况，以下是答案。*

您需要有一个类似于下图所示的模型

```
 public class MainModel{

    public ModelForTableA ModelA {get;set;}
    public ModelForTableB ModelB {get;set;}
    public ModelForTableC ModelC {get;set;}
} 
```

并让您的视图返回这个模型，其中填充了不同的子模型，这些子模型现在是 MainModel 的属性，然后在您的视图中使用它们，如下所示。

```
@model YourAppName.Models.MainModel

<h2>Content from Table A</h2>
@foreach(var item in Model.ModelA)
{
    <tr><td>
    @item.Name
    </td></tr>
}

<h2>Content from Table B</h2>
@foreach(var item in Model.ModelB)
{
    <tr><td>
    @item.Name
    </td></tr>
}

<h2>Content from Table C</h2>
@foreach(var item in Model.ModelC)
{
    <tr><td>
    @item.Name
    </td></tr>
} 
```

# android - Android UIThread 调度队列

> ID：12794132
> 
> 赞同：1
> 
> 时间：2012-10-09T06:35:42.980
> 
> 标签：android, ui-thread

我有一个关于 UI 线程如何[工作](http://developer.android.com/guide/components/processes-and-threads.html)的小问题。

> 例如，当用户触摸屏幕上的按钮时，应用程序的 UI 线程将触摸事件分派给小部件，小部件反过来设置其按下状态并将无效请求发送到事件队列。UI 线程将请求出列并通知小部件它应该重绘自己。

所以我的理解是按钮将它的状态设置为按下状态，但是将“无效请求发布到事件队列”意味着什么。这是否仅仅意味着按钮告诉 UI 线程我已将按下状态设置为 true。为什么按钮在将其状态设置为 true 后不会自行绘制？为什么 UI 线程必须告诉它重绘自己？我不知道这在[这里](http://www.rvasa.com/android/Lecture09/L09-UI-Thread-6pp.pdf)有多准确，但它提供了一个稍微好一点的 UI 线程事件调度线程的图示。谁能解释为什么 Widgets 调用 invalidate 到 Dispatch 队列，并且 UI 线程要求小部件自行重绘它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T16:15:00.677

当 Button 改变状态时，显然必须重绘。不太明显的是，其他一些控件也可能需要重绘。假设我们的按钮是半透明的，那么要重绘按钮，必须在其下方重绘控件，然后在顶部重绘按钮。

无效请求不仅说“我需要重绘”，而且“屏幕上的这个区域需要重绘”，屏幕上的重绘区域可能需要（重新）绘制其他控件。

无效区域还允许 UI 线程组合重绘，而不是重绘每个（可能相交的无效区域），它将它们组合成一个区域并执行单个重绘，从而提高用户所看到的性能和 UI 响应能力。

# xml - excel：无法保存或导出 xml 数据。此工作簿中的 xml 映射不可导出

> ID：12794136
> 
> 赞同：18
> 
> 时间：2012-10-09T06:36:05.473
> 
> 标签：xml, excel

在对从其他 XML 文件导入的数据进行一些修改后，我想将数据导出回 XML 文件（这些第一行变量永远不会改变）。

当我单击开发人员>>导出

Excel 显示：

> 无法保存或导出 XML 数据。此工作簿中的 XML 映射不可导出。

即使我什么都不做修改数据也会发生这种情况。

我在 YouTube 上观看了几个导出教程，但没有一个涵盖我的问题。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-06-13T17:22:20.167

通常的原因是 Excel 不能理解非常复杂的 XML。

从[office.microsoft.com](http://office.microsoft.com/en-us/excel-help/export-xml-data-HP010206401.aspx)：

> 如果无法保留映射元素与其他元素的关系，则无法导出 XML 映射。由于以下原因，这种关系可能无法保留：
> 
> 映射元素的模式定义包含在具有以下属性的序列中：
> 
> *   maxoccurs 属性不等于 1。
> *   该序列定义了多个直接子元素，或者将另一个合成器作为直接子元素。
> *   具有相同重复父元素的非重复同级元素映射到不同的 XML 表。
> *   多个重复元素映射到同一个 XML 表，并且重复不是由祖先元素定义的。
> *   来自不同父级的子元素映射到同一个 XML 表。
> 
> 此外，如果 XML 映射包含以下 XML 架构构造之一，则无法导出它：
> 
> **列表列表**
> 
> *   一个项目列表包含第二个项目列表。
> 
> **非规范化数据**
> 
> *   XML 表包含已在模式中定义为一次的元素（maxoccurs 属性设置为 1）。当您将此类元素添加到 XML 表时，Excel 会使用该元素的多个实例填充表列。
> 
> **选择**
> 
> *   映射元素是模式构造的一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-03-06T18:42:31.823

我有一个类似的问题。这是一张简单的表格，仅包含 8 列，但 XML 导出一直抛出此错误。我发现如果元素在 XML 模式中出现的顺序与列在工作表中出现的顺序不匹配，我会收到此错误。我将工作表中的列重新排列为与架构中元素的顺序相同，并且导出成功。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-07-07T14:24:39.360

所以我会在这里贡献我的解决方案。当然，它可能不是你的，但它仍然是有用的信息，我相信它会对某人有所帮助。

我发现，在我导入 XML 实例而不是模式的情况下，Excel 会错误地（正如我不希望的那样）从该实例推断模式。这是因为我希望可重复的记录在我用来创建地图的 XML 中只有一个实例。（我在这里为将来的导入创建一个模板，而不是尝试导入现有数据，所以我只有一个记录，其中包含一些虚拟数据。）我只是将带有虚拟数据的记录复制到它的第一个实例下面，这样就可以是两个记录......一切都是金色的。进口和出口突然起作用了。

只是给那些和我在同一条船上的人的便条。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-10T17:16:05.273

在很多网页上都有关于如何导出到 xml 的说明（例如：[https](https://www.excel-easy.com/examples/xml.html) ://www.excel-easy.com/examples/xml.html ）。当我为预先存在的数据创建模式时，我遇到了以下问题。

1.  忘记为行设置一个外包装标签（导致我进入此页面的错误的主要原因）
2.  没有得到正确的数据类型（看起来像数字的实际上是文本 - 我认为这更令人讨厌，但我先修复了它）。

转换为模式的 XML 应该如下所示（我不知道它是否需要两个“示例行”，但它有助于记住外部标记）：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<singleOuterWrapperTag>
    <rowTag>
        <columnA>Data Type (numeric, text)</columnA>
        <columnB>Data Type</columnB>
    </rowTag>
    <rowTag>
        <columnA>Data Type (numeric, text)</columnA>
        <columnB>Data Type</columnB>
    </rowTag>
</singleOuterWrapperTag> 
```

# android - 如何在 Android 中为图像实现 iPhone 之类的“移动和缩放”功能？

> ID：12794138
> 
> 赞同：1
> 
> 时间：2012-10-09T06:36:21.373
> 
> 标签：android, image

我在android中有一个图像编辑应用程序。我想像这个[链接一样](https://stackoverflow.com/questions/9496767/iphonehow-to-implement-move-and-scale-functionality-for-image-fetched-from-ph)**移动和缩放图像的选定部分**。我使用了这个[链接](https://stackoverflow.com/questions/5881778/zooming-and-dragging-images-using-matrix-in-android)。但它对我不起作用。我不想移动和缩放图像视图和整个图像，只是图像的一部分。即，我想在白框中缩放和移动图像的一部分。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:24:24.893

要实现双指缩放和移动功能，请阅读[这篇文章](http://android-developers.blogspot.com/2010/06/making-sense-of-multitouch.html)。

如果您想要一些“恒定”部分，您可以在中心创建 100% alfa 和边缘 50% alfa 的可绘制对象（如果需要，可以添加白线），并将您的“恒定”图像与“可调整大小”图像连接在一起`RelativeLayout`.

# c++ - 为什么我调用 print() 函数时不会输出字符串？

> ID：12794139
> 
> 赞同：0
> 
> 时间：2012-10-09T06:36:23.260
> 
> 标签：c++, string, outputstream

我的班级`extPersonType`继承自其他 3 个班级。该程序编译没有错误，但由于某种原因字符串`relation`并`phoneNumber`没有显示出来。我要求的所有其他信息都可以。我的问题在哪里？

```
class extPersonType: public personType, public dateType, public addressType
{
public:
extPersonType(string relation = "", string phoneNumber = "", string address = "", string city = "", string state = "", int zipCode = 55555, string first = "", string last = "", 
    int month = 1, int day = 1, int year = 0001)
    : addressType(address, city, state, zipCode),  personType(first, last), dateType (month, day, year)
{
}
void print() const;

private:
string relation; 
string phoneNumber;
};

void extPersonType::print() const
{
cout << "Relationship: " << relation << endl;
cout << "Phone Number: " << phoneNumber << endl;
addressType::print();
personType::print();
dateType::printDate();
}

/*******
MAIN PROGRAM
*******/

int main()
{
extPersonType my_home("Friend", "555-4567", "5142 Wyatt Road", "North Pole", "AK", 99705, "Jesse", "Alford", 5, 24, 1988);
my_home .extPersonType::print();
      return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:48:02.357

那是因为你没有在任何地方初始化它们

```
 extPersonType(string relation = "", string phoneNumber = "", string address = "", string city = "", string state = "", int zipCode = 55555, string first = "", string last = "", int month = 1, int day = 1, int year = 0001)
        : relation (relation), phoneNumber (phoneNumber)// <<<<<<<<<<<< this is missing
           addressType(address, city, state, zipCode),  personType(first, last), dateType (month, day, year)
{
} 
```

你不应该忘记在构造函数中分配/初始化你的变量

另外，这是建议，但我真的不认为这里有必要继承。你应该使用组合。

```
class extPersonType
{
 private:
   string relation; 
   string phoneNumber;

   addressType address;
   personType person_name;
   dateType date; // birthday ?
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:41:09.670

你应该把它称为

```
my_home.print(); 
```

您可能对它的声明方式感到困惑：

```
void extPersonType::print(){ <..> } 
```

这里的`extPersonType::`部分只是告诉编译器函数是类的一部分。当您调用该函数时，您已经为类的特定对象（在您的情况下为`my_home`）调用它，因此您不应使用类名。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:48:58.000

您实际上并没有初始化您的类成员变量。您需要执行以下操作来初始化`relation`and`phoneNumber`成员：

```
extPersonType(string relation = "", string phoneNumber = "", string address = "", 
    string city = "", string state = "", int zipCode = 55555, string first = "", string last = "", 
    int month = 1, int day = 1, int year = 0001)
    : addressType(address, city, state, zipCode),  personType(first, last), dateType (month, day, year),
      relation(relation), phoneNumber(phoneNumber)  // <== init mmebers
{
} 
```

我怀疑您可能还需要对 、 和基类构造函数做类似`addressType`的`personType`事情`dateType`。

# c++ - C++ 未定义参考

> ID：12794140
> 
> 赞同：0
> 
> 时间：2012-10-09T06:36:26.020
> 
> 标签：c++

> **可能重复：**
> [c++“未定义的对'Foo::Foo(std::string)'的引用”](https://stackoverflow.com/questions/3656050/c-undefined-reference-to-foofoostdstring)

我有三个`.cpp`文件和`two header files.`

但是当我编译它们时，意思是`Point.cpp`, `Data.cpp`and `main.cpp`，它会说

```
main.cpp: undefined reference to "PointD::PointD()' collect2: ld returned 1 exit status 
```

下面是我的`Data.h`：

```
#include <iostream>
#include <string>

using namespace std;

class Data
{
    private:
    string sType;
    public:
    Data();
    Data(string);
    void setSType(string);
    string getSType(); 
}; 
```

下面是我的`data.cpp`：

```
#include "Data.h"

Data::Data()
{
    sType = "";
}

Data::Data(string s)
{
    sType = s;
}

void Data::setSType(string ss)
{
    sType = ss;
}

string Data::getSType()
{
    return sType;
} 
```

下面是我的`PointD.h`：

```
#include <iostream>
#include <string>
#include "Data.h"

using namespace std;

class PointD
{
    private:
    int x
    Data data1;
    public:
    PointD();
    PointD(int,Data);

    void setX(int);
    void setData(Data);

    int getX();
    Data getData();
}; 
```

下面是我的`PointD.cpp`：

```
#include "PointD.h"

PointD::PointD()
{
    x = 0;
}

PointD::PointD(int xOrdinate,Data dd)
{
    x = xOrdinate;
    data1 = dd;
}

void PointD::setXordinate(int Xordinate)
{
    x = Xordinate;
}

void PointD::setData(Data dd)
{
    data1 = dd;
};

int PointD::getXordinate()
{
    return x;
}

Data PointD::getData()
{
    return data1;
} 
```

这是我的`main.cpp`：

```
#include <iostream>
#include <string>

#include "Data.h"
#include "PointD.h"
using namespace std;

int main()
{
    const int MAX_NUM = 20;

    Data ldata[MAX_NUM];
    PointD pointd[MAX_NUM];

    //more codes..
} 
```

但是当我编译它们时，意味着`Point.cpp`, `Data.cpp`and `main.cpp`，它会说

main.cpp：未定义对“PointD::PointD()”的引用 collect2：ld 返回 1 个退出状态

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:42:45.710

您可能正在尝试编译和链接 main.cpp，而不使用 PointD.cpp 或 data.cpp。尝试将所有源代码添加到命令中，或者在将它们链接在一起之前**只编译所有源代码。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:44:02.633

由于 g++ 找不到 PointD 和 Data 定义所需的依赖关系，因此引发错误。因此，这些类成为未定义的引用。

使用以下命令进行编译，以便 main 能够找到类定义

```
 g++ main.cpp Data.cpp PointD.cpp -o main 
```

另外，删除语句

```
 #include "Data.h" 
```

从你的 main.cpp；否则它将两次找到类定义。

此外，您必须添加

```
 int getXordinate();
   void setXordinate(int Xordinate); 
```

到您的 PointD.h 进行无错误编译。

希望这可以帮助！

# python - Python中的“反向”输入

> ID：12794141
> 
> 赞同：0
> 
> 时间：2012-10-09T06:36:30.653
> 
> 标签：python, input, python-2.7, user-input

### 我想要的不是字母的完全反转，而只是输入数据的顺序。

### 例如：

```
raw_input('Please type in your full name')

... John Smith 
```

我如何将其输出为 Smith John？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T06:38:19.087

只需将字符串拆分为一个列表（这里我`' '`用作拆分字符），将其反转，然后将其重新组合在一起：

```
s = raw_input('Please type in your full name')
' '.join(reversed(s.split(' '))) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:46:32.333

你可以这样做：

```
name = raw_input('Please type in your full name')
name = name.split()
print name[-1] + ',', ' '.join(name[:-1]) 
```

这是在 Python 2 中，但由于您使用的是`raw_input`，我认为这就是您想要的。如果他们输入中间名，则此方法有效，因此“Bob David Smith”变为“Smith，Bob David”。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-09T06:51:13.960

@nnenneo 的回答略有不同，但这是我会做的：

```
>>> s = raw_input('Please type in your full name: ')
Please type in your full name: foo bar
>>> ' '.join(s.split(' ')[::-1])
'bar foo' 
```

# python - 使用 Jinja2 建立链接列表

> ID：12794148
> 
> 赞同：3
> 
> 时间：2012-10-09T06:37:12.003
> 
> 标签：python, jinja2

我已将字符串列表传递给我的 Jinja2 模板。我想将 Jinja2 用于`join`列表，但我还想将每个列表项转换为`href`. 有可能还是我需要以某种方式将链接传递给模板？

```
# I use this to join the list items.

{{ my_list|join(', ') }}

# I use this to make links individually

{% for i in my_list %}

    <a href="/edit/{{ i }}">i</a>

{% endfor %} 
```

如何在加入之前/之后将项目转换为链接？

任何帮助都是极好的。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-26T20:55:00.973

使用[loops的](http://jinja.pocoo.org/docs/templates/#for)[`loop`特殊变量`for`](http://jinja.pocoo.org/docs/templates/#for)：

```
{% for i in my_list %}
    <a href="/edit/{{ i }}">i</a>{% if not loop.last %}, {% endif %}
{% endfor %} 
```

您也可以将其包装在宏中：

```
{% macro listlinks(mylist, urltemplate="/edit/%s", connective=", ") -%}
    {% for item in mylist -%}
        <a href="{{ urltemplate|format(item)|e }}">{{ item|e }}</a>
        {% if not loop.last %}{{ connective|e }}{% endif %}
    {%- endfor %}
{%- endmacro %}

{{ listlinks(list_of_ids) }} 
```

但是，我建议您不要像@Demian 在他的回答中建议的那样在模板中构建路径名。最好通过一些抽象机制在模板之外构建路径名，例如 Pyramid 的`request.route_url()`系统，或者甚至只是来自控制器的元组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:09:03.833

我会`tuple`为此使用 s 列表。将它们传递到模板中，例如：

```
{
   'my_list': [
        ('a', 'a_href',),
        ('b', 'b_href',),
    ]
} 
```

从您的模板中，您应该能够做到这一点：

```
{% for name, href in my_list %}
    <a href="{{href}}">{{name}}</a>
{% endfor %} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T03:49:27.157

所以我不相信单独使用 Jinja2 是可能的。我最终修复它的方法是在 Python 中构建逗号分隔的锚标记列表，然后将其传递给 Jinja2。然后我不得不告诉 Jinja2 HTML 是`safe`.

从我的金字塔视图中返回：

```
result['list_string'] = ', '.join(['<a href="view/%s">i._name</a>' % i._id\
         for i in objects])
return result 
```

然后在模板中：

```
{{ list_string|safe }} 
```

工作正常。

# php - 在 WordPress 中将类方法作为回调函数传递

> ID：12794152
> 
> 赞同：6
> 
> 时间：2012-10-09T06:37:32.933
> 
> 标签：php, class, wordpress

我正在寻找一种将类方法传递给回调函数参数的方法。

我通常使用`create_function()`如下，但我听说它很慢并且难以调试。

```
add_action('init', create_function('', '$o = new AdminPageClass;'));
class AdminPageClass {

    function __construct() {
        add_action('admin_menu', array(&$this, 'admin_menu'));  
    }
    function admin_menu() {
        add_options_page(
            'Sample Admin Page Class', 
            'Sample Admin Page Class', 
            'manage_options',
            'sample_admin-page_class', 
            array(&$this, 'admin_page'));
    }
    function admin_page() {
        ?>
        <div class="wrap">
            <h1>Hi there</h1>
            <p>Hello World!</p>
        </div>
        <?php
    }
} 
```

当然，它可以通过这样的额外功能来完成；但是，如果可能的话，我想在没有它的情况下这样做。

```
add_action('init', 'load_admin_page_class');
function load_admin_page_class() {
    $o = new AdminPageClass;
} 
```

此外，在它之前实例化类对象使得它成为可能，但它也创建了一个额外的行。

```
$o = new AdminPageClass;
add_action('admin_menu', array(&$o, 'admin_menu'));

class AdminPageClass {

    function admin_menu() {
        add_options_page(
            'Sample Admin Page Class', 
            'Sample Admin Page Class', 
            'manage_options',
            'sample_admin-page_class', 
            array(&$this, 'admin_page'));
    }
    function admin_page() {
        ?>
        <div class="wrap">
            <h1>Hi there</h1>
            <p>Hello World!</p>
        </div>
        <?php
    }
} 
```

我总是在单独的文件中定义类，所以我更喜欢第一种减少主插件文件中行的方法。但如前所述，`create_function()`应避免使用。

我很欣赏你的信息。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-10T14:53:15.580

我发现根本不需要创建静态方法。

```
add_action('admin_menu', array(new AdminPageClass, "admin_menu"));

class AdminPageClass {

    function admin_menu() {
        add_options_page(
            'Sample Admin Page Class', 
            'Sample Admin Page Class', 
            'manage_options',
            'sample_admin_page_class', 
            array(&$this, 'admin_page'));
    }
    function admin_page() {
    ?>
        <div class="wrap">
            <h1>Hi there</h1>
            <p>Hello World!</p>
        </div>
    <?php
    }       
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-10T11:36:49.460

创建一个静态方法，该方法返回包含类实例和方法名称的数组。

```
/* 
    Plugin Name: static method callback demo
*/

add_action('admin_menu', AdminPageClass::_admin_menu());

class AdminPageClass {

    static function _admin_menu() {
        $class_name = get_class();
        $classinstance = new $class_name();
        return array(&$classinstance, "admin_menu");
    }
    function admin_menu($instantiate=false) {
        add_options_page(
            'Sample Admin Page Class', 
            'Sample Admin Page Class', 
            'manage_options',
            'sample_admin-page_class', 
            array(&$this, 'admin_page'));
    }
    function admin_page() {
        ?>
        <div class="wrap">
            <h1>Hi there</h1>
            <p>Hello World!</p>
        </div>
        <?php
    }
} 
```

# jquery-mobile - 在 jQuery Mobile + PhoneGap 中修复鬼点击的最简单方法？

> ID：12794160
> 
> 赞同：0
> 
> 时间：2012-10-09T06:37:50.543
> 
> 标签：jquery-mobile, cordova, touch

我似乎找不到任何直接的方法来解决这个问题？我无法理解[Google 的快速按钮](https://developers.google.com/mobile/articles/fast_buttons)方法。因此，如果有人有替代方案，那就太好了。

我所说的*幽灵点击*是指对按钮的触摸或多次触发它的东西。例如，单击将显示的按钮`alert("hello");`将显示该警告框 2 次，有时甚至 5 次。

这是我处理按钮按下的代码的一部分。我省略了一些部分，但基本上，这是处理“添加”按钮上的按下的机制。

```
$('div:jqmData(role="page")').live('pagebeforeshow',function(){
    var db = window.openDatabase("mydb", "1.0", "MyDB", 1000000);

    var url = window.location.href;
    var filename = url.substring(url.lastIndexOf('/')+1);

    switch (filename) {
        case "index.html":
            $("#add").tap(function(e){
                if ($("#info").val() == "") {
                    navigator.notification.alert("The info cannot be blank!", function(){}, "Error", "Okay, got it!");
                } else {
                    db.transaction(addToDb, errorCB, addedToDb);
                }
            });
            break;
        case "sample.html":
            break;
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T18:31:50.700

您在委托事件绑定中发生了标准事件绑定。这意味着每次触发外部事件时都会绑定内部绑定。

`tap`因此，基本上每次`pagebeforeshow`触发任何伪页面时，您都会重新绑定事件处理程序。每次您导航到另一个页面时，您都会创建另一个内部绑定，因此您会收到多个警报。

一个好的解决方法是为`pageinit`页面事件创建一个委托事件处理程序并在该事件处理程序中进行内部绑定。该`pageinit`事件仅在每个伪页面触发一次，因此您不会不必要地继续添加更多事件处理程序。

例如：

```
$(document).on('pageinit', '.ui-page',function(){
    var db       = window.openDatabase("mydb", "1.0", "MyDB", 1000000),
        url      = window.location.href,
        filename = url.substring(url.lastIndexOf('/')+1);

    switch (filename) {
        case "index.html":
            $("#add").tap(function(e){
                if ($("#info").val() == "") {
                    navigator.notification.alert("The info cannot be blank!", function(){}, "Error", "Okay, got it!");
                } else {
                    db.transaction(addToDb, errorCB, addedToDb);
                }
            });
            break;
        case "sample.html":
            break;
    }
}); 
```

你会注意到我使用`.on()`了我的委托事件处理程序而不是 depreciated `.live()`。

# facebook - 显示请求对话框，然后重定向

> ID：12794174
> 
> 赞同：1
> 
> 时间：2012-10-09T06:38:45.447
> 
> 标签：facebook, redirect, dialog

当用户单击我网站上的 Facebook 登录按钮时，我正在使用 JS SDK 显示请求对话框。现在，我想在用户发送邀请或取消请求对话框后重定向用户，以便我可以继续在站点中为他或她签名。

```
button = document.getElementById('fbc-login-button');
    button.onclick = function() {

        FB.getLoginStatus(function(response) {
            if (response.authResponse) {
                sendRequestViaMultiFriendSelector(response.authResponse.accessToken);
            }
            else {
                FB.login(function(response) {
                    if (response.authResponse) {
                        sendRequestViaMultiFriendSelector(response.authResponse.accessToken);
                    }}, {scope: 'email'});
            }

        });

    };

    function sendUserToLoginProcess(accessToken){
        var fb_signin_url = '<?php echo CustomLocal_Resource_Url_Process::userSignin() ?>?command=<?php echo CustomLocal_Logic_Customer_User::COMMAND_FB_SIGNIN ?>&url_redirect=<?php echo Custom_Resource_Url_Customer::main(); ?>&url_redirect_fail=<?php echo Custom_Resource_Url_Customer::signin(); ?>';
        this.location = fb_signin_url + '&token=' +  accessToken;
    };

    function sendRequestViaMultiFriendSelector(accessToken) {
        FB.ui({method: 'apprequests',
            message: 'My Great Request'
        }, sendUserToLoginProcess(accessToken));
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T02:25:51.093

所以我认为设法用这段代码得到它：

```
 button = document.getElementById('fbc-login-button');
    button.onclick = function() {

        FB.getLoginStatus(function(response) {
            if (response.authResponse) {
                sendRequestViaMultiFriendSelector(response.authResponse.accessToken);
            }
            else {
                FB.login(function(response) {
                    if (response.authResponse) {
                        sendRequestViaMultiFriendSelector(response.authResponse.accessToken);
                    }}, {scope: 'email'});
            }

        });

    };

    function sendUserToLoginProcess(accessToken){
        var fb_signin_url = '<?php echo CustomLocal_Resource_Url_Process::userSignin() ?>?command=<?php echo CustomLocal_Logic_Customer_User::COMMAND_FB_SIGNIN ?>&url_redirect=<?php echo Custom_Resource_Url_Customer::main(); ?>&url_redirect_fail=<?php echo Custom_Resource_Url_Customer::signin(); ?>';
        this.location = fb_signin_url + '&token=' +  accessToken;
    };

    function sendRequestViaMultiFriendSelector(accessToken) {
        FB.ui({method: 'apprequests',
            message: 'Shop with me!'
        }, 
        function(response)
        {
            sendUserToLoginProcess(accessToken)
        });
    } 
```

我使用回调函数（响应）来触发 sendUserToLoginProcess()，然后继续重定向并登录用户。但我并没有真正使用响应变量，所以我希望没关系。

# php - 使用 NodeJS 和 JSDOM/jQuery 从代码片段构建 PHP 页面

> ID：12794177
> 
> 赞同：3
> 
> 时间：2012-10-09T06:38:55.740
> 
> 标签：php, jquery, html, node.js, jsdom

我正在从现成的代码片段创建一个 PHP 页面并使用 JSDOM/jQuery 修改页面。例如，我有这个代码：

```
window.$('title').text('<?php wp_title(); ?>'); 
```

但它会插入转义的 php 标签。如何让它按原样放置这个字符串而不转义？

我尝试了另一个名为[Cheerio](https://github.com/MatthewMueller/cheerio)的库，现在看起来像这样的代码可以正常工作：

```
$('title').html("<?php wp_title(); ?>"); 
```

没有字符被转义，我可以正确地将其保存到文件中。

**更新：**我这样做的原因是我必须处理 WordPress 主题的创建，并且我想简化这个过程。由于我既不是 WordPress 主题结构也不是 PHP 的忠实粉丝，我想在 Jade 中构建文件集，通过 Express 运行它们，然后使用自动化过程将它们编译为 Wordpress 主题。我在这方面取得了一些成功。现在我使用 Jade mixins 来实现：

```
+title 
```

变成这样的东西：

```
<title><?php wp_title(); ?> 
```

以最简单的形式。

因此，通过这种方式，我可以使我的模板易于修改，使用起来既美观又愉快。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:45:41.477

如果您不希望您的内容被转义，请使用 html 方法

```
window.$('title').html('<?php wp_title(); ?>'); 
```

但请注意，您的标题不包含换行符或引号。这就是为什么我更喜欢使用

```
// Using the version of wp_title that returns something instead of printing 
// directly to the output
window.$('title').html(<?php echo json_encode(wp_title('', true)); ?>); 
```

# java - 这个 Umbrella 异常的原因是什么

> ID：12794180
> 
> 赞同：5
> 
> 时间：2012-10-09T06:39:09.550
> 
> 标签：java, exception, gwt

该应用程序正在浏览器中加载，但是它抛出异常

> 11:59:49.770 [ERROR] [loginform] Uncaught exception escaped com.google.gwt.event.shared.UmbrellaException：一个或多个异常被捕获，请参阅 com.google.gwt.event.shared 的 UmbrellaException#getCauses 中的完整集。 HandlerManager.fireEvent(HandlerManager.java:129) 在 com.google.gwt.user.client.ui.Widget.fireEvent(Widget.java:129) 在 com.google.gwt.event.dom.client.DomEvent.fireNativeEvent( DomEvent.java:116) 在 com.google.gwt.user.client.ui.Widget.onBrowserEvent(Widget.java:177) 在 com.google.gwt.user.client.DOM.dispatchEventImpl(DOM.java:1351)

是什么原因以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:45:02.960

你错过了有趣的部分。创建一个未捕获的异常处理程序， [就像在这个问题](https://stackoverflow.com/questions/3028521/gwt-setuncaughtexceptionhandler)中一样。 **更新：**

正如您在此处看到的：[GWT/JAVA Uncaught exception escaped](https://stackoverflow.com/questions/6343483/gwt-java-uncaught-exception-escaped)

Stacktrace 应该更长。Umbrella-Exception 有一个根本原因。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T06:52:06.867

尝试解决您的应用程序中发生的错误。我已经回答了同样的问题[GWT 客户端伞异常在 java 中得到完整的错误信息](https://stackoverflow.com/questions/11029002/gwt-client-umbrellaexception-get-full-error-message-in-java/11033699#11033699)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-14T10:59:48.110

我来自未来）我今天遇到了同样的问题。我只是忘记在项目中添加 .js 文件夹，并在“yourModule”.html 文件中添加几行代码。请参阅此处的安装指南：[http ://www.moxiegroup.com/moxieapps/gwt-highcharts/userguide.jsp#installation](http://www.moxiegroup.com/moxieapps/gwt-highcharts/userguide.jsp#installation)

# android - Listview 被重新创建并更改以前的视图

> ID：12794182
> 
> 赞同：2
> 
> 时间：2012-10-09T06:39:13.370
> 
> 标签：android, android-layout, android-listview

我有一个 ListView，我在其中动态地膨胀了 4 个不同的布局。在列表视图中的每个项目中，常见的东西是 3 个按钮。喜欢，不喜欢，评论。因此，当我们点击喜欢时，它会显示与喜欢相关的个人资料图片的图库。不喜欢和评论的方式相同。出现的问题是，当我点击喜欢时，它会显示正确的数据，但是当我向下滚动并且当该项目不在视野中时，当我向上滚动以查看该项目时，它会通过单击其他一些按钮来更改其视图。ListView中的每个Item都会发生这种情况需要getView的紧急帮助代码：

```
@Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        mInflater= LayoutInflater.from(mContext);
            pos=position;
        if(convertView==null){
            Log.e("--------Inside---------", "convertView==null");
            holder= new Holder();
            convertView = mInflater.inflate(R.layout.custom_stream_list, null);
            holder.childView= (LinearLayout) convertView.findViewById(R.id.view_to_inflate);
            holder.myGallery= (Gallery) convertView.findViewById(R.id.myGallery_stream);
            holder.like= (ImageView) convertView.findViewById(R.id.like_stream);
            holder.dislike =(ImageView) convertView.findViewById(R.id.dislike_stream);
            holder.comment = (ImageView) convertView.findViewById(R.id.comment_stream);
            holder.commentLayout = (RelativeLayout) convertView.findViewById(R.id.comment_view_to_inflate);
            holder.comment_name = (TextView) convertView.findViewById(R.id.comment_name);
            holder.comment_description = (TextView) convertView.findViewById(R.id.comment_description);
            holder.comment_time = (TextView) convertView.findViewById(R.id.comment_time);

            convertView.setTag(holder);
        }else {
            Log.e("--------Inside---------", "else Statement");
            holder= (Holder) convertView.getTag();
        }
        holder.myGallery.setVisibility(View.INVISIBLE);

        holder.like.setTag(holder);
        holder.dislike.setTag(holder);
        holder.comment.setTag(holder);

        holder.myGallery.setSpacing(5);

        holder.like.setOnClickListener(this);
        holder.dislike.setOnClickListener(this);
        holder.comment.setOnClickListener(this);

        if((position%4)==0){
            Log.e("--------Inside---------", "position==0");
            followLayoutView = mInflater.inflate(R.layout.abc, null);
            holder.news_titile=(TextView) followLayoutView.findViewById(R.id.news_article_titile);
            holder.news_description= (TextView) followLayoutView.findViewById(R.id.news_article_description);
            holder.childView.removeAllViews();
            holder.childView.addView(followLayoutView);

        } if((position%4)==1){
            Log.e("--------Inside---------", "position==1");
            followLayoutView1 = mInflater.inflate(R.layout.xyz, null);
            holder.match_event_title= (TextView) followLayoutView1.findViewById(R.id.match_events_stream_titile);
            holder.match_event_time= (TextView) followLayoutView1.findViewById(R.id.following_time);
            holder.match_event_description= (TextView) followLayoutView1.findViewById(R.id.match_events_stream_description);
            holder.childView.removeAllViews();
            holder.childView.addView(followLayoutView1);

        } if((position%4)== 2){
            Log.e("--------Inside---------", "position==2");
            followLayoutView2 = mInflater.inflate(R.layout.pqr, null);
            holder.match_event_title= (TextView) followLayoutView2.findViewById(R.id.match_events_stream_titile);
            holder.match_event_time= (TextView) followLayoutView2.findViewById(R.id.following_time);
            holder.match_event_description= (TextView) followLayoutView2.findViewById(R.id.match_events_stream_description);
            holder.childView.removeAllViews();
            holder.childView.addView(followLayoutView2);

        } if((position%4)==3){
            Log.e("--------Inside---------", "position==3");
            followLayoutView3 = mInflater.inflate(R.layout.mno, null);
            holder.video_background= (ImageView) followLayoutView3.findViewById(R.id.video_background);
            holder.play = (ImageView) followLayoutView3.findViewById(R.id.video_play);
            holder.childView.removeAllViews();
            holder.childView.addView(followLayoutView3);

        }

        return convertView;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:44:13.973

我猜你没有使用 Holder 作为你的动态列表。使用 Holder Pattern 可以避免这个问题。希望这个链接有帮助。 [http://www.vogella.com/articles/AndroidListView/article.html](http://www.vogella.com/articles/AndroidListView/article.html)

# jquery - 发送 HTTP 标头后服务器无法附加标头

> ID：12794183
> 
> 赞同：1
> 
> 时间：2012-10-09T06:39:17.410
> 
> 标签：jquery, dotnetnuke

在 DNN 4.9.2 网站中，我正在尝试使用 jquery 调用服务器端方法。我在以下代码中设置了请求标头“X-OFFICIAL-REQUEST”。JavaScript 代码...

```
jQuery.ajax({
    type: "POST", 
    async: "false",
    url: location.href,
    dataType: "json",
    data: ({'FUNCTION': 'FunctionName', 'param0': '1' }),
    success: function(data) {
},
    error: function(XMLHttpRequest, textStatus, errorThrown) {
    },
    beforeSend: function(xhr) {
        xhr.setRequestHeader("X-OFFICIAL-REQUEST", "TRUE");//Used to ID as a AJAX Request
    },
    complete: function(XMLHttpRequest, textStatus) {
    }
}); 
```

在后面的代码中，我正在处理请求

```
Response.Write(strData)
Response.Flush() 
```

在`Response.Flush`我收到错误“发送 HTTP 标头后服务器无法附加标头”。

代码背后...

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
If Not Request.Headers("X-OFFICIAL-REQUEST") Is Nothing Then
  If Request.Headers("X-OFFICIAL-REQUEST").ToString().ToLower() = "true" Then 
     AjaxWrapper() 
  End If 
End If 
End Sub

Protected Sub AjaxWrapper()
 Response.Clear()
        Dim strData As String = String.Empty
        Dim type As Type = [GetType]()
        Dim method As MethodInfo = type.GetMethod(Request.Params("FUNCTION"))
        Dim objs As Object() = New Object(method.GetParameters().Length - 1) {}
        For i As Integer = 0 To objs.Length - 1
            objs(i) = (New PortalSecurity()).InputFilter(Request.Params("param" & i), PortalSecurity.FilterFlag.NoMarkup)
        Next

        If method IsNot Nothing Then
            strData = method.Invoke(Me, objs) 'This method is returning a test Message fr eg. Test Data
        End If
        Response.Write(strData)
        Response.Flush()
        Try
            Response.Close()
        Catch
        End Try
        Response.End()
        Return
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:44:25.240

在服务器端，您必须输出一些文本，然后尝试发送标头。文本可能是换行符、空格或任何文本。您需要确保在发送标头后发生所有文本输出。您可以通过在服务器上缓冲输出来做到这一点，并且仅在您知道不需要发送任何标头后才发送。

# jquery - CakePHP Jquery Ajax 调用中丢失的身份验证会话

> ID：12794200
> 
> 赞同：1
> 
> 时间：2012-10-09T06:40:53.180
> 
> 标签：jquery, ajax, session, cakephp, authentication

我使用我的 CakePHP 应用程序进行了频繁的 Jquery Ajax 调用（发布、加载）。正常加载内容到div中，内容与登录的用户相关。

我使用默认的 Form 身份验证，并在 AppController 中定义登录用户：

```
$this->aU = $this->User->findById($this->Auth->user('id')); 
```

在此之后，我通常在带有 $this->aU 的控制器中使用登录用户，并且它在普通视图渲染中工作正常。但是当我使用 ajax 和 setinterval 渲染视图时，20 次中有 1 次调用丢失了会话并且控制器重定向了请求，因为看不到登录的用户。

```
var interval = setInterval(function() {
  $('#alerts').load('<?php echo $this->Html->url('/users/alerts'); ?>');
}, 20000); 
```

在 UsersController 警报操作中，我使用这个：

```
public function alerts() {
  $this->layout = 'ajax';
  $user = $this->aU;
  $this->loadModel('Message');
  $unread_messages = $this->Message->find('count', array(
    'conditions' => array('receiver_user_id' => $user['User']['id'])
  ));
  $this->set(compact('user', 'unread_messages'));
} 
```

也许我在用户识别中使用了错误的逻辑？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:20:47.640

在你的函数中测试 ajax 调用

```
public function alerts() {    
    if($this->request->is('ajax')){ //or $this->RequestHandler->isAjax() if you're in cake 1.3
       $this->layout = 'ajax';
       $user = $this->aU;
       $this->loadModel('Message');
       $unread_messages = $this->Message->find('count', array(
         'conditions' => array('receiver_user_id' => $user['User']['id'])
       ));
      $this->set(compact('user', 'unread_messages'));    
    } 
} 
```

# php - php pdo oop 仅显示所需数据

> ID：12794201
> 
> 赞同：-3
> 
> 时间：2012-10-09T06:40:53.637
> 
> 标签：php, pdo

我设法编辑了从教程中复制的代码

```
public function viewItem(){

    self::conn();
    try {
        $sql = "SELECT * FROM dbo.guitar WHERE id=:id";
        $q = self::$db->prepare($sql);
        $q->execute(array(':id' => $this->id));
        $row = $q->rowCount();
        if ($row == 0)
        {
            echo 'no records found.';
        }
        else
        {
            $results = $q->fetchAll(PDO::FETCH_CLASS | PDO::FETCH_PROPS_LATE,
            "Guitar",
            array('id', 'make', 'model', 'colour', 'price'));
        }
    }catch (Exception $e){
        print "Error!: " . $e->getMessage();
    }
    return $results;    
} 
```

根据Id，我获取了所有数据，我的问题是如果我希望颜色全部显示怎么办。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:48:09.983

这将只返回颜色：

```
public function viewItem(){

    self::conn();
    try {
        $retVal = array();
        $sql = "SELECT * FROM dbo.guitar WHERE id=:id";
        $q = self::$db->prepare($sql);
        $q->execute(array(':id' => $this->id));
        $row = $q->rowCount();
        if ($row == 0)
        {
            echo 'no records found.';
        }
        else
        {
            $results = $q->fetchAll(PDO::FETCH_CLASS | PDO::FETCH_PROPS_LATE,"Guitar",

            foreach($result as $row)
                $retVal[] = $row['colour'];
        }
    }catch (Exception $e){
        print "Error!: " . $e->getMessage();
    }
    return $retVal;    
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:48:00.213

更改代码中的这两行

```
$sql = "SELECT `colour` FROM dbo.guitar WHERE id=:id"; 
```

和

```
array('colour') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:49:49.843

答案比较简单：

```
public function viewItem(array $fields = array('id', 'make', 'model', 'colour', 'price'))
{
    self::conn();
    try {
        $sql = "SELECT ".implode(',',$fields)." FROM dbo.guitar WHERE id=:id";
        $q = self::$db->prepare($sql);
        $q->execute(array(':id' => $this->id));
        $row = $q->rowCount();
        if ($row == 0)
        {
            echo 'no records found.';
        }
        else
        {
            $results = $q->fetchAll(PDO::FETCH_CLASS | PDO::FETCH_PROPS_LATE,
            "Guitar",$fields);
        }
    }catch (Exception $e){
        print "Error!: " . $e->getMessage();
    }
    return $results;    
} 
```

此方法接受一个数组参数，或者根本不接受任何参数。通过`array('colour')`，您将只查询`colour`数据。不传递参数会获取所有数据，而`array('id', 'make', 'model')`fetches和.`id``make``model`

这个解决方案可能有点粗糙，因此可以做更多的工作，但这应该可以帮助你。

# andengine - Andengine Fixtures, Gravity, Mass - 永久弹跳球

> ID：12794203
> 
> 赞同：2
> 
> 时间：2012-10-09T06:41:22.803
> 
> 标签：andengine, game-physics, elasticity

重力：（x=0，y=地球）

我想做永久的弹跳球。例如，我将它设置为坐标 (200, 200)，在它落到地面后，弹跳并返回到与 begin (200, 200) 相同的坐标。我尝试使用密度、弹性、摩擦力，我得到了一些类似的行为，但正在改变。我google了很多，发现问题是由于四舍五入的浮动。问题：引擎中的哪个值正在发生变化，并且在该值变得大于某个增量之后我需要重置哪个值？

第二个问题：为什么如果我这样设置固定装置：固定装置（密度= 1，弹性= 1，摩擦= 0）它不会反弹到相同的高度，而是随着每次反弹而反弹？我将弹性设置为 0,981f

第三个问题：一个对象夹具如何依赖于第二个对象夹具？示例：球（1f，0.6f，1f）墙（1f，0.6f，0f）

和

球(1f, 0.6f, 1f) 墙(1f, 0.6f, 0.5f)

会发生什么变化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-25T05:02:17.033

嗯，要制作一个永久弹跳球，请将您的身体 BodyType.DynamicBody 设为一个，然后将重力设置为 0,EARTH (9.8f) 和

```
scene.registerUpdateHandler(new IUpdateHandler() {

    @Override
    public void onUpdate(float pSecondsElapsed) {

            if(body.getPosition().y >=CAMERA_HEIGHT)
            {
                Vector2 v=new Vector2(0, -9f); //Adjust according to the bounce required
                body.setLinearVelocity(v);
            }

    }
}); 
```

第二个 ：

密度是体积质量密度（），而重力加速度与质量无关...

弹性是物体停在某个点时的惯性，所以如果您不想进一步移动身体，只需将其设置为 0

摩擦力是抵抗身体相对运动的力的大小（如介质空气、水或类似的东西）

因此，要在两个固定点之间创建一个弹跳球，请尝试设置（密度=1，弹性=0，摩擦=0）

# jquery - 接受jquery输入焦点/选择/模糊的回车键的最佳方法？

> ID：12794209
> 
> 赞同：0
> 
> 时间：2012-10-09T06:41:48.287
> 
> 标签：jquery, input

以下 jsfiddle ... **[http://jsfiddle.net/mqVUU/](http://jsfiddle.net/mqVUU/)** ... 是一个简单的输入字段 UI 调整。目标是：

*   聚焦，放大输入（通过动画）
*   在焦点上，选择当前输入内容
*   在输入中按下“输入”时，模糊输入
*   在模糊时，缩小输入

这是到目前为止的脚本...

```
$('input').on({
    focus: function(){
        $(this).animate({'width':200}, 300, 'easeInOutBack');
        $(this).select();
    },
    keydown: function(e){
        if (e.keyCode == 13) {
            $(this).blur();
        }
    },
    blur: function(){
        $(this).animate({ 'width':100}, 300, 'easeInOutBack');
        $('#result').html( $(this).val() );
    }
}); 
```

任何人都可以帮助解决这些问题...

1.  如果我把它放在`animate()`回调中，那么在动画发生时用户输入的任何内容都会被覆盖，这是有问题的。那么让`select()`工作正常的最佳方法是什么？
2.  参数真的是`keydown`唯一接受`enter`作为触发器的方法吗？

感谢您的任何指点:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:45:38.517

1）在动画完成时插入选择：

```
$(this).animate({'width':200}, 300, 'easeInOutBack', function(){
    $(this).select();
}); 
```

2）如果你想模糊输入 - 是的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:50:31.527

在 webkit 浏览器（Chrome 和 Safari）中，简单的 .select() 并不总是有效，因为 mouseup 的默认操作是清除选择。所以你需要添加这个处理程序：

```
mouseup: function(e) {
           e.preventDefault(); 
        } 
```

至于keydown - 这是最好的方法。还有其他人，但他们不会给你任何优势。

# asp.net - 为什么 ASP.NET 在我提交表单时会创建一个名为 Page_validators 的数组？

> ID：12794211
> 
> 赞同：0
> 
> 时间：2012-10-09T06:41:52.553
> 
> 标签：asp.net

为什么 ASP.NET 添加了这个在表单提交时运行的 JavaScript 代码？

```
var Page_Validators =  new Array(document.getElementById("rfvOthers")); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T07:20:58.483

我必须承认我不确定我是否理解您的问题，ASP.NET 使用 javascript 代码在客户端进行验证。因此使用了一个名为的 js 文件`WebUIValidation.js`。您可以使用 禁用 javascript `EnableClientValidation=false`。

有一个迷你客户端验证 API：

[http://msdn.microsoft.com/en-us/library/aa479045.aspx#aspplusvalid_clientside](http://msdn.microsoft.com/en-us/library/aa479045.aspx#aspplusvalid_clientside)

![替代文字](../Images/25ebf401f4541545070c12b06557a342.png)

以下是一些触发验证器验证的函数：

![替代文字](../Images/9a022e8527c28909f2e8ca2ea894c8dc.png)

搜索文件`Page_Validators`以查看它的确切用途：

```
var Page_ValidationVer = "125";
var Page_IsValid = true;
var Page_BlockSubmit = false;

function ValidatorUpdateDisplay(val) {
    if (typeof(val.display) == "string") {    
        if (val.display == "None") {
            return;
        }
        if (val.display == "Dynamic") {
            val.style.display = val.isvalid ? "none" : "inline";
            return;
        }
    }
    val.style.visibility = val.isvalid ? "hidden" : "visible";
}

function ValidatorUpdateIsValid() {
    var i;
    for (i = 0; i < Page_Validators.length; i++) {
        if (!Page_Validators[i].isvalid) {
            Page_IsValid = false;
            return;
        }
   }
   Page_IsValid = true;
}

function ValidatorHookupControlID(controlID, val) {
    if (typeof(controlID) != "string") {
        return;
    }
    var ctrl = document.all[controlID];
    if (typeof(ctrl) != "undefined") {
        ValidatorHookupControl(ctrl, val);
    }
    else {
        val.isvalid = true;
        val.enabled = false;
    }
}

function ValidatorHookupControl(control, val) {
    if (typeof(control.tagName) == "undefined" && typeof(control.length) == "number") {
        var i;
        for (i = 0; i < control.length; i++) {
            var inner = control[i];
            if (typeof(inner.value) == "string") {
                ValidatorHookupControl(inner, val);
            } 
        }
        return;
    }
    else if (control.tagName != "INPUT" && control.tagName != "TEXTAREA" && control.tagName != "SELECT") {
        var i;
        for (i = 0; i < control.children.length; i++) {
            ValidatorHookupControl(control.children[i], val);
        }
        return;
    }
    else {
        if (typeof(control.Validators) == "undefined") {
            control.Validators = new Array;
            var ev;
            if (control.type == "radio") {
                ev = control.onclick;
            } else {
                ev = control.onchange;
            }
            if (typeof(ev) == "function" ) {            
                ev = ev.toString();
                ev = ev.substring(ev.indexOf("{") + 1, ev.lastIndexOf("}"));
            }
            else {
                ev = "";
            }
            var func = new Function("ValidatorOnChange(); " + ev);
            if (control.type == "radio") {
                control.onclick = func;
            } else {            
                control.onchange = func;
            }

        }
        control.Validators[control.Validators.length] = val;
    }    
}

function ValidatorGetValue(id) {
    var control;
    control = document.all[id];
    if (typeof(control.value) == "string") {
        return control.value;
    }
    if (typeof(control.tagName) == "undefined" && typeof(control.length) == "number") {
        var j;
        for (j=0; j < control.length; j++) {
            var inner = control[j];
            if (typeof(inner.value) == "string" && (inner.type != "radio" || inner.status == true)) {
                return inner.value;
            }
        }
    }
    else {
        return ValidatorGetValueRecursive(control);
    }
    return "";
}

function ValidatorGetValueRecursive(control)
{
    if (typeof(control.value) == "string" && (control.type != "radio" || control.status == true)) {
        return control.value;
    }
    var i, val;
    for (i = 0; i<control.children.length; i++) {
        val = ValidatorGetValueRecursive(control.children[i]);
        if (val != "") return val;
    }
    return "";
}

function Page_ClientValidate() {
    var i;
    for (i = 0; i < Page_Validators.length; i++) {
        ValidatorValidate(Page_Validators[i]);
    }
    ValidatorUpdateIsValid();    
    ValidationSummaryOnSubmit();
    Page_BlockSubmit = !Page_IsValid;
    return Page_IsValid;
}

function ValidatorCommonOnSubmit() {
    event.returnValue = !Page_BlockSubmit;
    Page_BlockSubmit = false;
}

function ValidatorEnable(val, enable) {
    val.enabled = (enable != false);
    ValidatorValidate(val);
    ValidatorUpdateIsValid();
}

function ValidatorOnChange() {
    var vals = event.srcElement.Validators;
    var i;
    for (i = 0; i < vals.length; i++) {
        ValidatorValidate(vals[i]);
    }
    ValidatorUpdateIsValid();    
}

function ValidatorValidate(val) {    
    val.isvalid = true;
    if (val.enabled != false) {
        if (typeof(val.evaluationfunction) == "function") {
            val.isvalid = val.evaluationfunction(val); 
        }
    }
    ValidatorUpdateDisplay(val);
}

function ValidatorOnLoad() {
    if (typeof(Page_Validators) == "undefined")
        return;

    var i, val;
    for (i = 0; i < Page_Validators.length; i++) {
        val = Page_Validators[i];
        if (typeof(val.evaluationfunction) == "string") {
            eval("val.evaluationfunction = " + val.evaluationfunction + ";");
        }
        if (typeof(val.isvalid) == "string") {
            if (val.isvalid == "False") {
                val.isvalid = false;                                
                Page_IsValid = false;
            } 
            else {
                val.isvalid = true;
            }
        } else {
            val.isvalid = true;
        }
        if (typeof(val.enabled) == "string") {
            val.enabled = (val.enabled != "False");
        }
        ValidatorHookupControlID(val.controltovalidate, val);
        ValidatorHookupControlID(val.controlhookup, val);
    }
    Page_ValidationActive = true;
}

function ValidatorConvert(op, dataType, val) {
    function GetFullYear(year) {
        return (year + parseInt(val.century)) - ((year < val.cutoffyear) ? 0 : 100);
    }
    var num, cleanInput, m, exp;
    if (dataType == "Integer") {
        exp = /^\s*[-\+]?\d+\s*$/;
        if (op.match(exp) == null) 
            return null;
        num = parseInt(op, 10);
        return (isNaN(num) ? null : num);
    }
    else if(dataType == "Double") {
        exp = new RegExp("^\\s*([-\\+])?(\\d+)?(\\" + val.decimalchar + "(\\d+))?\\s*$");
        m = op.match(exp);
        if (m == null)
            return null;
        cleanInput = m[1] + (m[2].length>0 ? m[2] : "0") + "." + m[4];
        num = parseFloat(cleanInput);
        return (isNaN(num) ? null : num);            
    } 
    else if (dataType == "Currency") {
        exp = new RegExp("^\\s*([-\\+])?(((\\d+)\\" + val.groupchar + ")*)(\\d+)"
                        + ((val.digits > 0) ? "(\\" + val.decimalchar + "(\\d{1," + val.digits + "}))?" : "")
                        + "\\s*$");
        m = op.match(exp);
        if (m == null)
            return null;
        var intermed = m[2] + m[5] ;
        cleanInput = m[1] + intermed.replace(new RegExp("(\\" + val.groupchar + ")", "g"), "") + ((val.digits > 0) ? "." + m[7] : 0);
        num = parseFloat(cleanInput);
        return (isNaN(num) ? null : num);            
    }
    else if (dataType == "Date") {
        var yearFirstExp = new RegExp("^\\s*((\\d{4})|(\\d{2}))([-./])(\\d{1,2})\\4(\\d{1,2})\\s*$");
        m = op.match(yearFirstExp);
        var day, month, year;
        if (m != null && (m[2].length == 4 || val.dateorder == "ymd")) {
            day = m[6];
            month = m[5];
            year = (m[2].length == 4) ? m[2] : GetFullYear(parseInt(m[3], 10))
        }
        else {
            if (val.dateorder == "ymd"){
                return null;        
            }                       
            var yearLastExp = new RegExp("^\\s*(\\d{1,2})([-./])(\\d{1,2})\\2((\\d{4})|(\\d{2}))\\s*$");
            m = op.match(yearLastExp);
            if (m == null) {
                return null;
            }
            if (val.dateorder == "mdy") {
                day = m[3];
                month = m[1];
            }
            else {
                day = m[1];
                month = m[3];
            }
            year = (m[5].length == 4) ? m[5] : GetFullYear(parseInt(m[6], 10))
        }
        month -= 1;
        var date = new Date(year, month, day);
        return (typeof(date) == "object" && year == date.getFullYear() && month == date.getMonth() && day == date.getDate()) ? date.valueOf() : null;
    }
    else {
        return op.toString();
    }
}

function ValidatorCompare(operand1, operand2, operator, val) {
    var dataType = val.type;
    var op1, op2;
    if ((op1 = ValidatorConvert(operand1, dataType, val)) == null)
        return false;    
    if (operator == "DataTypeCheck")
        return true;
    if ((op2 = ValidatorConvert(operand2, dataType, val)) == null)
        return true;
    switch (operator) {
        case "NotEqual":
            return (op1 != op2);
        case "GreaterThan":
            return (op1 > op2);
        case "GreaterThanEqual":
            return (op1 >= op2);
        case "LessThan":
            return (op1 < op2);
        case "LessThanEqual":
            return (op1 <= op2);
        default:
            return (op1 == op2);            
    }
}

function CompareValidatorEvaluateIsValid(val) {
    var value = ValidatorGetValue(val.controltovalidate);
    if (ValidatorTrim(value).length == 0)
        return true;
    var compareTo = "";
    if (null == document.all[val.controltocompare]) {
        if (typeof(val.valuetocompare) == "string") {
            compareTo = val.valuetocompare;
        }
    }
    else {
        compareTo = ValidatorGetValue(val.controltocompare);
    }
    return ValidatorCompare(value, compareTo, val.operator, val);
}

function CustomValidatorEvaluateIsValid(val) {
    var value = "";
    if (typeof(val.controltovalidate) == "string") {
        value = ValidatorGetValue(val.controltovalidate);
        if (ValidatorTrim(value).length == 0)
            return true;
    }
    var args = { Value:value, IsValid:true };
    if (typeof(val.clientvalidationfunction) == "string") {
        eval(val.clientvalidationfunction + "(val, args) ;");
    }        
    return args.IsValid;
}

function RegularExpressionValidatorEvaluateIsValid(val) {
    var value = ValidatorGetValue(val.controltovalidate);
    if (ValidatorTrim(value).length == 0)
        return true;        
    var rx = new RegExp(val.validationexpression);
    var matches = rx.exec(value);
    return (matches != null && value == matches[0]);
}

function ValidatorTrim(s) {
    var m = s.match(/^\s*(\S+(\s+\S+)*)\s*$/);
    return (m == null) ? "" : m[1];
}

function RequiredFieldValidatorEvaluateIsValid(val) {
    return (ValidatorTrim(ValidatorGetValue(val.controltovalidate)) != ValidatorTrim(val.initialvalue))
}

function RangeValidatorEvaluateIsValid(val) {
    var value = ValidatorGetValue(val.controltovalidate);
    if (ValidatorTrim(value).length == 0) 
        return true;
    return (ValidatorCompare(value, val.minimumvalue, "GreaterThanEqual", val) &&
            ValidatorCompare(value, val.maximumvalue, "LessThanEqual", val));
}

function ValidationSummaryOnSubmit() {
    if (typeof(Page_ValidationSummaries) == "undefined") 
        return;
    var summary, sums, s;
    for (sums = 0; sums < Page_ValidationSummaries.length; sums++) {
        summary = Page_ValidationSummaries[sums];
        summary.style.display = "none";
        if (!Page_IsValid) {
            if (summary.showsummary != "False") {
                summary.style.display = "";
                if (typeof(summary.displaymode) != "string") {
                    summary.displaymode = "BulletList";
                }
                switch (summary.displaymode) {
                    case "List":
                        headerSep = "<br>";
                        first = "";
                        pre = "";
                        post = "<br>";
                        final = "";
                        break;

                    case "BulletList":
                    default: 
                        headerSep = "";
                        first = "<ul>";
                        pre = "<li>";
                        post = "</li>";
                        final = "</ul>";
                        break;

                    case "SingleParagraph":
                        headerSep = " ";
                        first = "";
                        pre = "";
                        post = " ";
                        final = "<br>";
                        break;
                }
                s = "";
                if (typeof(summary.headertext) == "string") {
                    s += summary.headertext + headerSep;
                }
                s += first;
                for (i=0; i<Page_Validators.length; i++) {
                    if (!Page_Validators[i].isvalid && typeof(Page_Validators[i].errormessage) == "string") {
                        s += pre + Page_Validators[i].errormessage + post;
                    }
                }   
                s += final;
                summary.innerHTML = s; 
                window.scrollTo(0,0);
            }
            if (summary.showmessagebox == "True") {
                s = "";
                if (typeof(summary.headertext) == "string") {
                    s += summary.headertext + "<BR>";
                }
                for (i=0; i<Page_Validators.length; i++) {
                    if (!Page_Validators[i].isvalid && typeof(Page_Validators[i].errormessage) == "string") {
                        switch (summary.displaymode) {
                            case "List":
                                s += Page_Validators[i].errormessage + "<BR>";
                                break;

                            case "BulletList":
                            default: 
                                s += "  - " + Page_Validators[i].errormessage + "<BR>";
                                break;

                            case "SingleParagraph":
                                s += Page_Validators[i].errormessage + " ";
                                break;
                        }
                    }
                }
                span = document.createElement("SPAN");
                span.innerHTML = s;
                s = span.innerText;
                alert(s);
            }
        }
    }
} 
```

# android - 如何将 catch 块语句传递给另一个 Activity？

> ID：12794215
> 
> 赞同：-3
> 
> 时间：2012-10-09T06:42:25.020
> 
> 标签：android

如何将 catch 块值传递给另一个 Activity？我的 Activity 在访问 URL 并在服务器忙或没有响应时获得 XML 响应时工作正常，如何将 catch 块语句传递给另一个 Activity？

```
 public class AgAppHelperMethods
       {
         private static final String LOG_TAG = null;
         public static String varMobileNo;
         public static String varPinNo;
         String[][] xmlRespone = null;
         public static String[][] AgAppXMLParser( String parUrl)
         {
    String _node,_element;
            String[][] xmlRespone = null;
            HttpURLConnection urlConnection = null;
            try
               {        
                String url = parUrl;
                URL finalUrl = new URL(url);    
            urlConnection = (HttpURLConnection) finalUrl.openConnection();
                urlConnection.connect();
            DocumentBuilderFactory dbf =  
    DocumentBuilderFactory.newInstance();
        DocumentBuilder db = dbf.newDocumentBuilder();
        Document doc = db.parse(new  
                    InputSource(urlConnection.getInputStream()));
        doc.getDocumentElement().normalize();
                NodeList list=doc.getElementsByTagName("*");
            _node=new String();
            _element = new String();
            xmlRespone = new String[list.getLength()][2];
            for (int i=0;i<list.getLength();i++)
                {
                    Node value=list.item(i).getChildNodes().item(0);
                    _node=list.item(i).getNodeName();
                    _element=value.getNodeValue();
                    xmlRespone[i][0] = _node;
                    xmlRespone[i][1] = _element;

                }//end for

            urlConnection.disconnect();

        }//end try

    catch (Exception e)
    {
        Log.e(LOG_TAG, "CONNECTION ERROR O SERVER NOT RESPONDING", e);
    } 
    return xmlRespone;         

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:01:47.043

正如您所说，您不想调用任何意图，并且您不会将此异常传递给任何特定类，因此无法使用 Activity ...

那么这个怎么样？

```
Public Class Messages{

static String message = "";

public static void setMessage(String msg){
        message= msg;

    }
public static String getMessage(){
   return message;

}

} 
```

......在这里你设置它

```
 catch(Exception e)

{
  Messages.setmessage("CONNECTION ERROR O SERVER NOT RESPONDING");
} 
```

你可以在任何地方得到它，比如，

字符串消息 = Messages.getMessage();

它返回最新更新的消息或空字符串..如果您想保留所有消息，那么您可以使用数组..它对您有用吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:49:57.887

如果您需要传递给其他活动，您绝对应该使用 Intent。

一个简单的解决方案是通过帮助类的构造函数传递调用活动的上下文。并从那里利用上下文对象来启动一个新的活动。

像这样的东西，

```
catch(Exception e)

{
   Intent i=new Intent(contextObj,ActitvityName.class);
    contextObj.startActivity(i);

} 
```

如果您需要传递异常，请像这样使用 Intent 的 putExtra，

```
 i.putExtra("exception",e.getClass().getSimpleName()); 
```

并在被调用的 Activity 中使用 bundle 对象获取值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:16:37.563

如果您想在调用该方法的其他类中接收异常，则可以按照以下方式进行。

1.  删除你想在另一个类中接收的 catch 块
2.  通过在方法末尾添加*throws Exception/IoException从方法中抛出异常*
3.  现在从方法的调用类中放置 try 和 catch 块并在那里处理异常。

    **编辑**

如果您想将异常传递给除方法类调用之外的任何其他类，您可以为异常创建一个类并使用 getter 和 setter 方法，您可以从任何地方设置和获取异常，只需要传递该类对象到接收异常类。

# apache - Apache 作为 SSO IdP 和反向代理？

> ID：12794221
> 
> 赞同：4
> 
> 时间：2012-10-09T06:42:51.890
> 
> 标签：apache, single-sign-on, saml

抱歉，如果标题有点不清楚 - 我不完全确定如何表达我正在寻找的内容。

从本质上讲，我发现自己的情况是：

*   我有几个 (3+) 网络应用程序
*   每个应用程序驻留在单独的服务器上
*   用户不能单独访问每个应用程序 - 他们都坐在 Apache 后面，充当反向代理
*   Apache 在另一台服务器上
*   应用程序不能直接访问反向代理或彼此
*   Web 应用程序都是基于 Java 的，在 Tomcat 或 Glassfish 或类似的东西中运行。
*   我想在所有应用程序中启用 SSO
*   如果有 IdP（例如 OpenAM、Shibboleth），我将无法直接从任何 Web 应用程序访问它。`*`

就我而言，这些都是**不可变的要求——我必须在不违反上述任何限制的情况下使 SSO 工作。**

鉴于这一切，我认为我无法实现典型的 SSO 设置，因为这需要我能够去`SP -> IdP -> SP`，但我将无法执行该`SP -> IdP`步骤 - 我将只能执行该`IdP -> SP`步骤。

现在，这里有解决方案。我已经看到`mod_mellon`、`mod_auth_saml`和`mod_shib`，它们都支持 Apache 中的 SAML，并且我知道至少`mod_mellon`会在 HTTP 请求的标头中通过 SAML 身份验证的结果。所以这基本上解决了我的问题，但我会在一分钟内完成一些事情。

我最终想要的是与此类似的东西，除了 Apache 将执行身份验证并将该身份验证的结果发送到 Web 应用程序。

因此，流程将类似于：

`Request -> Not Authenticated -> Redirect to Login Page -> Authenticate (e.g. via LDAP) -> Add results to headers -> Redirect to requested page`，都无需离开 Apache。

这与典型的 SSO 提供程序完全相同，除了 Apache 本质上同时充当 IdP 和反向代理，它通过将结果包含在标头中来通知 SP 身份验证成功。使用单独的 IdP可能*更简单*，但如果可能的话，我想避免开销。

最后，无论我使用 Apache *plus* IdP，还是使用 Apache*作为*IdP，我都需要能够保护添加到标头中的内容，例如通过对其进行签名。

不过，请稍等——如果我想签署这些东西，也许我应该只包含一个 SAML 令牌，因为 SAML 标准（和库）会处理这个问题......

那么最后一个问题：~~是否可以让 Apache 充当 SP，调用 IdP，然后将 SAML 令牌转发到反向代理后面的应用程序？~~进一步阅读后，似乎`ECP`, 或“增强的客户端或代理配置文件”可能允许这样做。它不适用于这个用例（它实际上是用于例如 WAP 代理），但它可能允许我做我想做的事。~~SAML 标准是否允许 SP 以外的其他东西发起登录请求？~~它确实如此，并且被称为`IdP-Initiated SSO`. ~~但是，我相信这个问题的第一部分仍然是相关的。~~

我真的很感谢任何人的任何建议或评论（甚至“你想做什么？！”评论表示赞赏）。

`*`我应该注意，虽然在这种情况下，我们可以控制所有难题，但出于安全相关的原因，我们可能需要允许客户的用户通过他们的应用程序登录到我们的应用程序。 SSO 基础架构，但我们无法通过网络访问他们的 IdP。但是，他们的 IdP 可以通过网络访问我们的反向代理。我相信这是对最近的潜在客户的实际要求。

# tridion - 在提交部署阶段发布失败

> ID：12794225
> 
> 赞同：2
> 
> 时间：2012-10-09T06:43:11.180
> 
> 标签：tridion, tridion-2011

我正在尝试使用 Tomcat 服务器中的 Webservice 部署程序从 Tridion 发布一页。但它在提交部署阶段失败了。请你帮助我好吗？

错误信息：

> 阶段：部署准备提交阶段失败，无法准备事务：tcm：0-60-66560，
> org.hibernate.exception.SQLGrammarException：无法打开连接，
> org.hibernate.exception.SQLGrammarException：无法打开连接，
> 无法准备事务： tcm:0-60-66560,
> org.hibernate.exception.SQLGrammarException: 无法打开连接,
> org.hibernate.exception.SQLGrammarException: 无法打开连接

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T06:54:04.503

在 cd_storage_config.xml 中，我输入了加密密码，我将其替换为普通密码并且它有效。

# postgresql - PostgreSQL 中的函数

> ID：12794228
> 
> 赞同：0
> 
> 时间：2012-10-09T06:43:21.107
> 
> 标签：postgresql, postgresql-8.4

我有 PostgreSQL 8.4 和 3 对这样的表：

```
CREATE TABLE filedata_temp
(
 num serial NOT NULL,
 id integer,
 mydata character(25),
 the_geom geometry,
 CONSTRAINT filedata_temp_pkey PRIMARY KEY (num)
)

CREATE TABLE filedata
(
 num serial NOT NULL,
 id integer,
 mydata character(25),
 the_geom geometry,
 CONSTRAINT filedata_pkey PRIMARY KEY (num)
) 
```

和3个这样的功能：

```
-- Function: insert_into_wgs()

-- DROP FUNCTION insert_into_wgs();

CREATE OR REPLACE FUNCTION insert_into_wgs()
RETURNS void AS
$BODY$
BEGIN
INSERT INTO filedata (num,id,mydata,the_geom)  
SELECT num,id,mydata,ST_TRANSFORM(the_geom,4326)
FROM filedata_temp
WHERE id NOT IN (SELECT id FROM filedata);
end;
$BODY$
LANGUAGE plpgsql VOLATILE
COST 100;
ALTER FUNCTION insert_into_wgs() OWNER TO postgres;
); 
```

所以我有 3 对表的 3 个模拟函数。这样不好。那么我可以为所有 3 对创建一个函数吗？这个怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T09:25:19.473

是的你可以。使用 PL/PgSQL`EXECUTE ... USING`语句动态构造 SQL 字符串并执行它。不过这会慢很多，因为有 PL/PgSQL 调用开销和每次重新计划语句的成本。

更重要的是，您似乎正在尝试编写 upsert / merge 函数。这个函数是错误的。有关原因，请参阅[depesz 关于 upsert/merge 的优秀文章](http://www.depesz.com/2012/06/10/why-is-upsert-so-complicated/)。

# sql - SQL查询根据同一张表中的相关id获取记录

> ID：12794237
> 
> 赞同：4
> 
> 时间：2012-10-09T06:43:41.983
> 
> 标签：sql, sql-server

**表结构：**

![在此处输入图像描述](../Images/23f6044ae15ee4e3135898d255f20242.png)

**我试过这个：**

```
select Id, Name from Color where ParentId=4
UNION
select Id, Name from Color where ParentId=(select Id from Color where ParentId=4) 
```

在这种情况下，上述方法是静态的，我必须知道所有 Id。我正在寻找一些动态方法，因为我只有 Color 的 ParentId 值。

例如：对于 ParentId=4 有两条记录；命名蓝色和红色，它们的 ID 分别为 6 和 10。现在在这里，我需要获取 ID 为 6 和 10 的所有记录。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:00:18.277

试试这个：

```
;WITH cte
AS
(
    SELECT Id, Name, ParentId  
    FROM Color 
    WHERE ParentId = @parentIdValue
    UNION ALL
    SELECT c2.Id, c2.Name, c2.ParentId  
    FROM cte c1
    INNER JOIN Color c2 ON c2.ParentId = c1.Id
)
SELECT * FROM cte; 
```

## [现场演示](https://data.stackexchange.com/stackoverflow/query/81956/sql-query-to-fetch-records-based-on-related-id-in-the-same-table)

# javascript - JavaScript/jQuery 组合具有相同优先级的数字

> ID：12794238
> 
> 赞同：2
> 
> 时间：2012-10-09T06:43:45.113
> 
> 标签：javascript, jquery, regex, arrays, json

假设我有这个数组

```
[1,2,3,4,5,6,7,9] 
```

我要输出的是一个字符串：

```
"{1 to 7;9}" 
```

我有这个代码：

```
var _checkbox = [1,2,3,4,5,6,7,9];
for (i=0; i<_checkbox.length; i++) {
    //if ($($(_checkbox)[i]).is(":checked"))
       ignore_response_from.push(i+1)
} 
```

我唯一的问题是输出字符串**"{1 to 7;9}"**。我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:09:39.187

这应该可以解决问题：

```
var _checkbox = [1,2,3,4,5,6,7,9],
    start=null, out= [];
for (i=0; i<_checkbox.length; i++) {
    if(start === null) {
        if(_checkbox.length < i+1 || _checkbox[i+1] !== _checkbox[i]+1){
            out.push(_checkbox[i]);
        } else {
            start=_checkbox[i];
        }
    } else {
        if(_checkbox.length < i+1 || _checkbox[i+1] !== _checkbox[i]+1){
            out.push(start + " to " + _checkbox[i]);
            start=null;            
        }
    }
}
console.log( '{' + out.join(';') + '}'); 
```

[http://jsfiddle.net/Vandeplas/HzdsG/](http://jsfiddle.net/Vandeplas/HzdsG/)

***UPDATE*** 将它移动到一个函数中，并使用与 epoch 相同的测试数据进行比较

[http://jsfiddle.net/Vandeplas/HzdsG/2/](http://jsfiddle.net/Vandeplas/HzdsG/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T07:23:11.250

在这里，我还包括了一个基本的测试用例：

```
var tests = [
    [1,2,3,4,5,6,7,9],
    [1,2,3,4,5,6,7,12,13,14,15,16,20],
    [1,2,3,4,5,6,7,12,13,14,15,16,20,21,22,23],
    [1,2,3,4,5,6,7,120,13,14,15,16,2890,21,22,23],
    [1,2,3,4,8,9,10,11,12,14,16,18,20,21,22,23,30,31,34]
];

var processArray = function(arr, sep) {
    var l = arr.length, i, sl, res = [], succ = [];

    for (i = 0; i < l; i++) {
        var c = (i != 0 && (arr[i - 1] + 1 !== arr[i]));
        if ((i == l - 1) || c) {   
             if (!c) succ.push(arr[i]);

             if ((sl = succ.length) > 0) {
                 res.push(succ[0] + sep + succ[sl - 1]);
                 succ = [];
             } 

             if (arr[i + 1] - 1 === arr[i]) {
                 succ.push(arr[i])
             } else if (c) {
                 res.push(arr[i]);
             }
         } else {
             succ.push(arr[i]);                 
         }
    }

    return res;
}

// setup
for (var i = 0; i < tests.length; i++) {
    console.log('Test ' + i + ' : { ' + processArray(tests[i], ' to ').join('; ') + ' }');
} 
```

这是[小提琴](http://jsfiddle.net/epoch/XTSC7/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:07:25.303

这是想到的第一个方法。是的，它*很*丑陋，但它似乎有效：

```
function renderArray(_checkbox) {
    var output = [],
        rangeStart = 0;

    function outputCurrent() {
        if (rangeStart < i - 1)
            output.push(_checkbox[rangeStart] + " to " + _checkbox[i - 1]);
        else
            output.push(_checkbox[i - 1]);
        rangeStart = i;
    }
    for (var i = 1; i < _checkbox.length; i++)
        if (_checkbox[i] != _checkbox[i - 1] + 1)
           outputCurrent();
    outputCurrent();

    return "{" + output.join("; ") + "}";
}

console.log(renderArray([1,3,4,5,7,9,10,11,14]));
// logs "{1; 3 to 5; 7; 9 to 11; 14}" 
```

演示：http: [//jsfiddle.net/Jq2sQ/2/](http://jsfiddle.net/Jq2sQ/2/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:54:34.863

你是这个意思吗：

```
var _checkbox = [1,2,3,4,5,6,7,9], ignore_response_from= "{";
for (i=0; i<_checkbox.length; i++) {
    //if ($($(_checkbox)[i]).is(":checked"))
       ignore_response_from += (i+1)+",";
}
ignore_response_from += "}"; 
```

ignore_response_from 将是字符串格式的“{1,2,3,4,5,6,7,8,}”。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:05:37.787

您可以使用`Array.filter`创建一个数组，然后将结果转换为字符串：

```
function combineEqualPrecedence(arr) {
 var combined = arr.filter(
      function(a,i,x){
       var cando = a-(x[i+1]||0) !== prev;
       prev = a-(x[i+1]||0);
       return cando;
      }, prev = 0
     )
    ,str = [];
 for (var i=0;i<combined.length;i+=2){
  str.push(combined[i+1] ? combined[i] + ' to '+ combined[i+1] : combined[i])
 }
 return '{'+str.join('; ')+'}';
}
// usage
combineEqualPrecedence([1,2,3,4,5,6,7,9]); 
              //=> {1 to 7; 9}
combineEqualPrecedence([1,2,3,4,5,6,7,9,10,11,13,14,15,17]); 
              //=> {1 to 7; 9 to 11; 13 to 15; 17} 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-10-09T07:08:00.450

试试这个

```
"{" + _checkbox[0] + "to" + _checkbox.slice(_checkbox.length -2).join(';') +"}" 
```

# android - -Android 中的 O2 标志

> ID：12794240
> 
> 赞同：1
> 
> 时间：2012-10-09T06:43:55.803
> 
> 标签：android, android-ndk, dalvik, android-ndk-r7

当我使用“-O2”标志时，在 linux 中的性能会大大提高，但是当我转到 android 时速度很慢，我想在 android 中构建我的共享库，我使用 -O2 标志，但性能很慢，

android中是否有任何其他标志可用于提高性能。

# iphone - 如何更改 ABPeoplePickerNavigationController 的 UINavigationBar 的颜色？

> ID：12794241
> 
> 赞同：6
> 
> 时间：2012-10-09T06:43:55.893
> 
> 标签：iphone, objective-c, ios, abpeoplepickerview

我`ABAddressBookRef`用来为我的电话簿获取人们的信息。它工作正常，但我想改变 的颜色`UINavigationBar`。`ABPeoplePickerNavigationController`

这可能吗？如果可能，请告诉我该怎么做。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-09T06:49:31.263

设置色调颜色，像这样....

```
ABPeoplePickerNavigationController *objPeoplePicker = [[ABPeoplePickerNavigationController alloc] init];
[objPeoplePicker setPeoplePickerDelegate:self];
objPeoplePicker.topViewController.navigationController.navigationBar.tintColor = [UIColor colorWithRed:0.294 green:0.278 blue:0.247 alpha:1.0];
[self presentModalViewController:objPeoplePicker animated:YES]; 
```

**更改 UISearchBar 颜色**

```
if( picker.searchDisplayController == nil ) 
  NSLog(@"searchDisplayController is nil");
if( picker.topViewController.searchDisplayController == nil ) 
  NSLog(@"topViewController.searchDisplayController is nil");

static BOOL foundSearchBar = NO;
- (void)findSearchBar:(UIView*)parent mark:(NSString*)mark {

  for( UIView* v in [parent subviews] ) {

    if( foundSearchBar ) return;

    NSLog(@"%@%@",mark,NSStringFromClass([v class]));

    if( [v isKindOfClass:[UISearchBar class]] ) {
      [(UISearchBar*)v  setTintColor:[UIColor blackColor]];
      foundSearchBar = YES;
      break;
    }
    [self findSearchBar:v mark:[mark stringByAppendingString:@"> "]];
  }
}

- (void)pickPerson:(BOOL)animated {
  foundSearchBar = NO;
  ABPeoplePickerNavigationController *picker = [[ABPeoplePickerNavigationController alloc] init];
  [[picker navigationBar] setTintColor:[UIColor blackColor]];

  picker.peoplePickerDelegate = self;
  picker.displayedProperties = [NSArray arrayWithObjects:
                  [NSNumber numberWithInt:kABPersonEmailProperty],
                  nil];

  [self presentModalViewController:picker animated:animated];
  [picker release];

  [self findSearchBar:[picker view] mark:@"> "];
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-31T19:00:25.520

您可以使用外观代理来管理导航栏的外观，`ABPeoplePickerNavigationController`如下所示：

对于带有白条按钮项的红条：

```
[[UINavigationBar appearanceWhenContainedIn:[ABPeoplePickerNavigationController class], nil] setBarTintColor:[UIColor redColor]];
[[UIBarButtonItem appearanceWhenContainedIn:[ABPeoplePickerNavigationController class], nil] setTintColor:[UIColor whiteColor]]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:53:55.020

您可以尝试使用此代码更改`UINavigationBar`颜色

```
 abPeoplePicker.navigationBar.tintColor=[UIColor redColor]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:50:33.573

```
if ([navigationBar respondsToSelector:@selector(setBackgroundImage:forBarMetrics:)]) {
    UIImage *backGroundImage = [[UIImage imageNamed:kNavigationBarBackGroundImage] stretchableImageWithLeftCapWidth:5 topCapHeight:5];
    [[UINavigationBar appearance] setBackgroundImage:backGroundImage forBarMetrics:UIBarMetricsDefault];
} 
```

这将影响所有导航栏，但您设置背景图像而不是设置背景图像，但 settintcolor 设置仅设置栏的颜色

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:20:09.240

您可以尝试使用此代码更改**ABPeoplePickerNavigationController**颜色

```
objPicker.ViewController.navigationController.navigationBar.tintColor = [UIColor redColor]; 
```

或者你可以设置**RGB**颜色

```
 objPicker.ViewController.navigationController.navigationBar.tintColor = [UIColor colorWithRed:0.274 green:0.270 blue:0.268 alpha:0.8]; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T07:49:36.920

改变**ABPeoplePickerNavigationController的****UISearchBar**的颜色 使用这样的方式....

 **```
objPicker.ViewController.searchDisplayController.searchBar.tintColor = [UIColor colorWithRed:0.294 green:0.278 blue:0.247 alpha:1.0]; 
```

[在 ABPeoplePickerNavigationController 中更改 UISearchBar 的 tintColor](https://stackoverflow.com/questions/3618976/changing-tintcolor-of-uisearchbar-inside-abpeoplepickernavigationcontroller)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-09T09:23:18.853

试试这个：

```
static BOOL foundSearchBar = NO;
- (void)findSearchBar:(UIView*)parent mark:(NSString*)mark {

  for( UIView* v in [ subviews] ) {

    if( foundSearchBar ) return;

    NSLog(@"%@%@",mark,NSStringFromClass([v class]));

    if( [v isKindOfClass:[UISearchBar class]] ) {
      [(UISearchBar*)v  setTintColor:[UIColor blackColor]];
      foundSearchBar = YES;
      break;
    }
    [self findSearchBar:v mark:[mark stringByAppendingString:@"> "]];
  }
}

- (void)pickPerson:(BOOL)animated {
  foundSearchBar = NO;
  ABPeoplePickerNavigationController *picker = [[ABPeoplePickerNavigationController alloc] init];
  [[picker navigationBar] setTintColor:[UIColor blackColor]];

  picker.peoplePickerDelegate = self;
  picker.displayedProperties = [NSArray arrayWithObjects:
                  [NSNumber numberWithInt:kABPersonEmailProperty],
                  nil];

  [self presentModalViewController:picker animated:animated];
  [picker release];

  [self findSearchBar:[picker view] mark:@"  "];
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-07-30T08:24:30.787

```
picker.topViewController.navigationController.navigationBar.titleTextAttributes = @{NSForegroundColorAttributeName: [UIColor whiteColor]}; 
```**

# php - MySQL START Transaction 和 COMMIT 分别发生

> ID：12794242
> 
> 赞同：0
> 
> 时间：2012-10-09T06:44:01.047
> 
> 标签：php, transactions, mysqli

这是场景：我有多个用户使用 PHP 页面/表单同时编辑数据。该表具有多行数据，并且每个用户都可以一次编辑任何一行。系统选择要编辑的行；因此，只需给用户一行进行编辑；他不决定要编辑哪一行。

用户第一次访问带有表单的页面时，它会加载一行。此外，为了让系统可以决定将哪一行提供给任何其他并发用户，它在数据库表中设置一个标志，指示该行已被加载以进行编辑（给另一个并发用户）。

现在，如果用户在没有单击提交按钮的情况下刷新页面或退出页面，我想回滚标志更改，以便可以再次使加载的行可用于编辑。

为此，我打算使用 MySQL 事务。- 在事务开始时，将设置标志。- 然后，将要编辑的数据加载到表单中。

一次，用户编辑数据并提交（通过单击按钮），然后才会发出 Commit。

所以，我的理解是 START 事务和 Commit 将分别发生。

有人可以提供一些关于如何实现这一目标的指导吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T03:48:02.747

猜猜这是不可能的；我正在使用 PHP 会话变量来实现我的目标。

# actionscript-3 - Flex FileReference.upload 不会在后续调用中触发任何事件

> ID：12794244
> 
> 赞同：0
> 
> 时间：2012-10-09T06:44:08.390
> 
> 标签：actionscript-3, flash, filereference

我正在使用 PLUpload 库进行浏览器文件上传。它的 Flash 模块使用 FileReference。

在测试上传时，我会终止 Web 服务器以查看它如何处理它并且可以通过编程方式从中恢复。似乎不是很多人测试的东西，因为 HTML5 模块也不检查 0 状态响应。无论如何，解决了这个问题。

基本上 FileReference.upload() 在第一次调用中按预期工作。后续调用不会触发任何事件。我试过 FileReference.cancel，没有区别。如果上传成功，可以确认重复调用上传工作正常。

在每次上传开始之前/之后设置和拆除事件侦听器。

这是这个问题的副本，从未得到回答。

[Flex 文件引用在失败时自动重试（如错误 #2038）](https://stackoverflow.com/questions/10471060/flex-filereference-automatically-retry-when-failed-like-error-2038)

我根本不是 Flash 人，我第一次玩 AS。虽然看起来像一个错误。

# ios - 应用程序如何从苹果商店获取更新？

> ID：12794252
> 
> 赞同：0
> 
> 时间：2012-10-09T06:44:32.087
> 
> 标签：ios, cordova

我想知道从苹果商店更新应用程序的过程。我在下面提到了对过程的怀疑：

1.  代码库覆盖或只是替换？

2.  更新过程中是否会重新安装和安装应用程序？

3.  如果假设该应用程序正在设备中运行，请从苹果商店进行更新。现在用户再次获得相同的屏幕或应用程序启动？

4.  我使用电话间隙进行申请。如果假设该应用程序正在运行并且用户获取更新..那时mew js文件工作还是旧的？

请与我分享相同的信息。实际上，我在 iOS 和 Android 环境中都提交了应用程序，它在两个平台上都可以正常工作。一段时间后，我在两个平台上重新提交了 Apple/Google 商店提供的更新。当我从谷歌市场更新 android 应用程序时，它工作正常，但是当我从苹果商店更新应用程序时，它不能正常工作..simlpy 挂在登录屏幕上。当刚刚安装新版本时，它的工作正常。

你能帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:53:03.590

如果在系统开始安装更新时应用程序正在运行，系统会在安装前终止正在运行的应用程序。该应用程序将在用户下次打开它时启动。

当系统安装应用程序更新时，它会删除旧版本的应用程序包中的所有文件，然后安装新版本的应用程序包中的文件。如果旧应用程序包中存在任何文件但新应用程序包中不存在任何文件，则它们会在应用程序更新后消失。

用户的文件（例如应用程序的 Documents 目录的内容）不会被触及。

如果您的应用程序在更新后挂起，那么您有一个错误，您应该尝试在调试器中追踪它。

### 更新

如果用户手动卸载应用程序，系统会删除该应用程序的所有用户文档，删除用户的首选项，并删除与该应用程序关联的任何其他文件（如缓存文件）。因此，当用户在安装新应用程序之前卸载旧应用程序时，他是从“白板”开始的。

如果用户只是从应用商店更新应用，而不是先手动卸载旧版本，那么他所有现有的文档和用户偏好以及缓存文件仍然存在。如果新版本的应用程序不理解这些文件或首选项之一，它可能会崩溃。

作为应用程序开发人员，**您有责任**确保您的应用程序的新版本与旧版本的文档、用户首选项、缓存或升级后可能存在的任何其他内容兼容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:52:56.707

我不知道 PhoneGaps 是如何工作的，但据我所知，对于 iOS，当您从 AppStore 或其他地方（MAM/MDM）下载代码但保存了内容（例如用户首选项）时，代码会被新版本替换没有被删除。

首先，用户从商店下载应用程序，然后替换代码，最后 iOS 会检查您的证书的有效性。如果一切正常，新应用程序可用。

没有强制更新，这意味着用户必须点击 AppStore 上的下载按钮。

# apache-flex - Flex 应用程序中的静默打印

> ID：12794256
> 
> 赞同：0
> 
> 时间：2012-10-09T06:44:52.200
> 
> 标签：apache-flex, printing, silent

我在这里有一种情况要打印我的一份报告，并为用户提供了两个选项：

1.  打印预览
2.  静默打印（打印机没有弹出窗口可供选择；默认配置的打印机将自动获取打印作业）

第二点 - 我们如何在 Flex 4 中实现它？

用于实现它的任何特定代码或组件或 API。

我有一个按钮单击将其发送到打印机..

如果 flex 支持静默打印或跳过 Adob​​e Reader 的打印对话框和/或我们可以在外部调用 javascript 并调用静默 ptint，对此有何想法？

提前致谢

# smarty - 聪明的：爆炸

> ID：12794269
> 
> 赞同：0
> 
> 时间：2012-10-09T06:45:41.963
> 
> 标签：smarty

> branch_name = ["计算机科学","科学与信息技术","信息科学"]

这些数组值是用户输入值。我想显示这个分支名称，但我只能显示 15 个字母，然后它会输出如下：

```
computer scienc
science and inf
information sci 
```

但我想要

```
computer
science and
information 
```

```
{assign var="bn" value=""|explode:"Computer Information Science "} 
{$bn|@count} 
```

但它给出错误的输出为 1

# ios - 有什么方法可以手动创建 PayPal 复选框？

> ID：12794274
> 
> 赞同：1
> 
> 时间：2012-10-09T06:46:01.827
> 
> 标签：ios, checkbox, paypal, landscape

我在横向应用程序中遇到了 PayPal 复选框方向的问题（不支持纵向模式）。

这是 MPL 指南的引述：注意：结帐体验仅在纵向。当前不支持横向。

我正在考虑创建自己的视图来输入 PayPal 登录名和密码，以避免出现问题。是否可以将 PayPal MPL 与自定义视图一起使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T20:53:12.800

在我在 PayPal MPL 的文档中遇到该行之后，我认为不可能在横向模式下显示复选框视图。幸运的是，有一种方法可以手动完成。感谢我的同事:)

[https://stackoverflow.com/a/13057499/1689376](https://stackoverflow.com/a/13057499/1689376)

# php - 如何为我的 apache solr 搜索结果实现排序和分页

> ID：12794277
> 
> 赞同：1
> 
> 时间：2012-10-09T06:46:20.513
> 
> 标签：php, drupal, solr

我已经在 drupal 7 中集成了 apache solr 搜索模块，并且工作正常。我需要一些关于如何为我的 apache solr 搜索结果实现排序和分页的帮助。

我已修改 schema.xml 文件以指定哪些是所有可用于排序的字段。从我的 drupal 的 solr 模块索引时，我得到所有字段的列表以及排序选项。

因此，请指导我下一步如何在搜索结果表中实现按列排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-23T19:09:21.513

首先，您需要为要排序的字段添加索引。这将需要重新索引 solr 才能生效

```
function MY_MODULE_apachesolr_index_document_build_node(ApacheSolrDocument $document, $entity, $entity_type, $env_id) {
if(isset($entity->your_field['und'][0]['value'])){
    $your_field = $entity->your_field['und'][0]['value'];
    $document->addField('ss_your_field', $last_name);
} 
```

}

请注意，这里的 'ss' 是字段类型， solr 将其识别为第一个 s 用于字符串，第二个 s 用于“single”而不是“multiple”。只能对单个字段进行排序。

然后更改搜索查询以使排序可用并像这样使用：

```
function MY_MODULE_apachesolr_query_prepare(&$query){
    $query->setAvailableSort('ss_your_field', array('title' => t('Field Name'), 'default' => 'asc'));
    $query->setSolrSort('ss_your_field', 'asc');
} 
```

# jquery - 在 ASP.Net MVC 3 中异步交换 html 部分？

> ID：12794280
> 
> 赞同：0
> 
> 时间：2012-10-09T06:46:24.917
> 
> 标签：jquery, asp.net-mvc-3, asynchronous

在 ASP.Net MVC 3 中，我有一个控制器和视图，其中包含视图的 html 的一部分，`<div>`我想根据某些操作交换其文本 - 例如按下按钮。

假设我的视图有两个`<div>s,`顶部是我想根据选择的下部输入元素换出的部分`<div>`，那么异步执行此操作的好方法是什么？尽管不是必需的，但欢迎使用 jQuery 和 ajax 来完成这项任务。

[编辑] 我本来应该提到的，我想通过调用局部视图或类似的东西来呈现异步的内容。不幸的是，我对此有点陌生，并希望快速指导如何（如果？）使用 ajax 或其他此类技术调用局部视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:52:38.423

这个比较简单。

```
<input type="button" onclick="$('div#id').html('the new html');" /> 
```

其中 id 是您分配给 div 的 id。或者您可以使用任何其他选择器来选择正确的 div。

这里的例子：http: [//api.jquery.com/html/](http://api.jquery.com/html/)

# c++ - C++中动态结构中的动态结构

> ID：12794284
> 
> 赞同：0
> 
> 时间：2012-10-09T06:46:58.080
> 
> 标签：c++, dynamic, structure

如何做到这一点？我知道如何创建动态结构，但是是否可以在另一个内部拥有动态结构..？假设我想要一张发票，其中名为 Customer 的动态结构将包括客户 ID、客户名称、项目数量，然后是包含产品描述、数量和价格的项目结构......

我会很感激任何样品。我不知道，我不知所措，开始感到筋疲力尽。让我看看我能不能得到帮助。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:53:05.757

是的，你可以，我相信你可以通过标准列表来实现这一点。（实际上还有许多其他方式）

```
class Customer
{
private:
    int ID;
    ...
    std::list<Item> items;
}   

std::list<Customer> customers; 
```

使用动态的项目数组：

```
class Customer
{
public:
   Customer(int size) : nItems(size)
   {
       items = new Item[nItems];
   }
   Customer(const Customer& customer) : Customer(customer.getItems())
   {
       memcpy(items, customer.getItems(), nItems);
   }
   ~Customer() {delete [] items;}
   int getNumItems() {return nItems;}
   Item *getItems() {return items;}
private:
    int ID;
    ...
    Item *items;
    int nItems;
} 
```

# c# - 一个类的所有成员都是对象类型

> ID：12794287
> 
> 赞同：1
> 
> 时间：2012-10-09T06:47:12.397
> 
> 标签：c#, .net, object

我有一个 C# 类，它的所有成员都是`object`.

有哪些风险和警告？会占用更多资源吗？

C#中的对象和对象有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:51:58.453

`object`和之间没有区别`Object`。`object`只是 C# 的一个内置关键字，它代表`Object`（或者更确切地说`System.Object`），就像`int`代表`System.Int32`.

为什么你的所有属性都是`object`类型？它不会占用更多资源（类型检查和类型转换除外），但肯定存在风险，因为您在编译时不知道正在使用哪些类型。您需要一直检查类型并进行强制转换。如果您要使用更具体的类型，编译器会为您检查。您确定没有更适合您的属性的类型，例如`int`或`string`其他类型吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:53:05.117

object 类型的成员只是对其他内容的引用。这意味着您必须将一堆引用转换为它们的实际类型才能将它们用于任何事情，这也意味着您必须跟踪它们的实际类型是什么。如果可能，您应该将类​​型更改为您要存储的实际类型。

对象引用本身不会比任何其他引用类型使用更多或更少的资源，但是由于每次使用它都必须强制转换它，因此处理数据需要更多代码。

C# 中的关键字是框架`object`中类的别名。`System.Object`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:05:14.973

唯一的问题是您必须将对象转换为真实类型才能操作它们。如果您知道将使用字符串或 int，则最好使用字符串或 int 而不是对象。此外，这将使代码在将来易于阅读。对象太通用了，什么都没有告诉你。

# php - php手动可见性示例混淆

> ID：12794290
> 
> 赞同：6
> 
> 时间：2012-10-09T06:47:40.793
> 
> 标签：php, visibility

我对 php 手册中的示例感到困惑。这是关于能见度的。这是示例。

```
class Bar {
    public function test() {
        $this->testPrivate();
        $this->testPublic();
    }
    public function testPublic() {
        echo "Bar::testPublic\n";
    }
    private function testPrivate() {
        echo "Bar::testPrivate\n";
    }
}
class Foo extends Bar {
    public function testPublic() {
        echo "Foo::testPublic\n";
    }
    private function testPrivate() {
        echo "Foo::testPrivate\n";
    }
}
$myFoo = new foo();
$myFoo->test();  
?> 
```

[http://www.php.net/manual/en/language.oop5.visibility.php](http://www.php.net/manual/en/language.oop5.visibility.php)

此示例输出

```
Bar::testPrivate 
Foo::testPublic 
```

请你解释一下这是怎么发生的？

**为什么两者`testPublic()`都不叫？**

我**`var_dump($this)`**在 Bar 类结构中放置了一个。它打印`object(Foo)[1]`。我知道的是私有属性可以在同一个类中调用。

**那么“ `Bar::testPrivate`”怎么称呼呢？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:56:45.287

> 那么如何调用“Bar::testPrivate”呢？

当您调用 时`$myFoo->test()`，它会在 的上下文中运行代码，`Bar`因为`Foo`该类没有覆盖它。

在内部`Bar::test()`，当`$this->testPrivate()`被调用时，解释器会`Foo`首先查看，但该方法是私有的（并且不能从后代类调用私有方法`Bar`），因此它会向上一层，直到找到合适的方法；在这种情况下，那将是`Bar::testPrivate()`。

相反，当`$this->testPublic()`被调用时，解释器会立即在其中找到合适的方法`Foo`并运行它。

**编辑**

> 为什么两个 testPublic() 都没有被调用？

运行时只调用一种方法`$this->testPublic()`，即最远的一种（就与基类的距离而言）。

如果`Foo::testPublic()`还需要执行父级的实现，你应该`parent::testPublic()`在那个方法里面写。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:57:12.230

您的函数位于`Bar`类中，并且您正在使用魔术`$this`指针来调用成员函数。

尝试将函数`test()`移至`Foo`类，看看会发生什么。输出应为：

```
Foo::testPrivate
Foo::testPublic 
```

在您的示例中，调用了 Bar 的私有函数，因为它仅适用于该类。Foo 类中没有`test`函数，因此`Bar`类中的测试函数无权调用它们。

然后，由于函数重载`Foo`，调用了 class 的公共函数而不是's。`Bar`

这两个类都有一个同名的函数，所以子类的函数很重要。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:51:32.857

`Private`并不意味着你不能调用它。这意味着您只能从**当前类**调用它。`Public`意味着您可以从**任何类**调用它。

要打电话`Bar::testPrivate`，试试这个：

```
$Bar->testPublic(); 
```

**或者**

```
parent::testPublic(); 
```

但是，您不能调用`$Bar->testPrivate()`，因为方法是`private`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T06:57:26.557

你打电话

```
$myFoo->test(); 
```

见功能`test`：

```
public function test() {
    $this->testPrivate();
    $this->testPublic();
} 
```

当在一个`Bar`类的实例（包括继承的类）上调用 this 时，它会调用`testPrivate`和`testPublic`。

这些方法在 class 中被覆盖`Foo`，这意味着使用了 的方法`Foo`。您始终可以调用基类的方法：

```
// in Foo
public function testPublic() {
    parent::testPublic();
    echo "Foo::testPublic\n";
} 
```

`Bar::testPrivate`被调用是因为它被`private`而不是被覆盖`Foo::testPrivate`。

[在此处](https://stackoverflow.com/questions/2994758/function-overloading-and-overriding-in-php)或[此处](http://docstore.mik.ua/orelly/webprog/pcook/ch07_08.htm)查看更多信息。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T07:05:56.003

我猜用户 'omega at 2093 dot es' ( [http://www.php.net/manual/en/language.oop5.visibility.php#109324](http://www.php.net/manual/en/language.oop5.visibility.php#109324) ) 的评论描述了同样的事情。有人说：“在父类中定义的方法不能访问从它们继承的类中定义的私有方法。但是，它们可以访问受保护的。”

在您的情况下，方法中的`$this`对象是类型（您的 var_dump 证明了这一点）。因为方法是私有的，所以不能从父类 Bar 访问，只能访问的方法仍然存在（尝试注释定义，会出现致命错误）。这就是为什么第一个输出是.`Bar::test()``Foo``Foo::testPrivate()``Bar::testPrivate()``Bar::testPrivate`

该行`$this->testPublic();`调用`Foo::testPublic()`方法，因为`$this`它的`Foo`类型和方法被定义为公共的。

简而言之，私有方法只能从定义它们的类中访问。它们既不能从子类也不能从父类访问。

要使该方法可从子类或父类访问，请使其受到保护。例如，如果您要`testPrivate()`在两个类中都设置受保护的方法，它将打印`Foo::testPrivate Foo::testPublic`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T06:57:57.737

Foo 类扩展了 Bar 类。然后调用函数测试，它在 Bar 中定义。在这个函数中有两个调用。一个用于公共函数，一个用于 Bar 类中的私有函数。

# android - 限制android中应用程序之间的剪切/复制和粘贴

> ID：12794293
> 
> 赞同：1
> 
> 时间：2012-10-09T06:47:47.067
> 
> 标签：android, copy-paste, clipboarddata

我想限制应用程序内的程序剪切/复制并粘贴到应用程序外。但是我必须能够在我的应用程序中剪切/复制和粘贴。我该如何实施？

我面临的问题是，一旦我退出应用程序，我尝试粘贴它不会粘贴任何内容，但是如果我打开剪贴板，那么我可以从我的应用程序中看到我存储在剪贴板中的所有项目。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:51:54.080

好吧，我认为这应该可行。

使用 [ClipboardManager](http://developer.android.com/reference/android/text/ClipboardManager.html)类

如果它

```
hasText() 
```

看看是否使用 clipdata.newPlainText 方法在 onPause() 方法中将空字符串添加到剪贴板可以解决它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T10:26:35.540

> 我该如何实施？

您不使用剪贴板。剪贴板是设备范围的系统服务。你放在那里的任何东西都可以用于其他应用程序。

欢迎您在应用程序中创建自己的“剪贴板”结构并尝试使用它。这将不是完全可靠的，因为您将无法控制`EditText`所有设备上的系统剪贴板的行为，但这可能是也可能不是您特别关注的领域。

# linux - 读取/写入特定内存地址（非常简单的 memtest）-> 分段错误

> ID：12794301
> 
> 赞同：1
> 
> 时间：2012-10-09T06:48:03.837
> 
> 标签：linux, testing, memory, pointers, segmentation-fault

我创建了一个简单的 memtest 程序。

但是，当我尝试运行它（当然是使用 sudo）时，它会在以下行崩溃：

main -> test_all -> test_running -> for (j=0; j<=memsize; j++) p[j]=1-value; //（第一次赋值操作）

它没有指定错误。我在考虑两种可能性：

**1）**错误的内存范围，应该选择另一个（哪个？）

**2）**我的代码有问题（在哪里？）

```
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define MEM_start 0xFD002000
#define MEM_end 0xFDFFFFFF
#define MEM_size 16769023

int test_running(int value) {
    int i, j;
    int flag=0;
    int *p = (int *)MEM_start;
    int memsize = (int)MEM_size;
    for (i=0; i<=memsize; i++) {
        for (j=0; j<=memsize; j++) p[j]=1-value;
        p[i]=value;
        if (p[i]!=value) { printf("Error at address: %p\n", &p[i]); flag++; }
        for (j=0; j<=memsize; j++) {
            if ((j!=i)&&(p[j]==value)) {
                printf("Error at address: %p\n", &p[j]);
                flag++;
            }
        }
    }
    return flag;
}

int test_chess() {
        int i;
        int flag=0;
        int *p = (int *)MEM_start;
        int memsize = (int)MEM_size;
        for (i=0; i<=memsize; i++) p[i]=i%2;
        for (i=0; i<=memsize; i++) if (p[i]!=i%2) { printf("Error at address: %p\n", &p[i]); flag++; }
        for (i=0; i<=memsize; i++) p[i]=(i+1)%2;
        for (i=0; i<=memsize; i++) if (p[i]!=(i+1)%2) { printf("Error at address: %p\n", &p[i]); flag++; }
        return flag;
    }

int test_random() {
    int i, j;
    int flag=0;
    int *p = (int *)MEM_start;
    int memsize = (int)MEM_size;
    int buffer[32];
    int buffer_size=32;
    for (i=0; i<=memsize; i=i+buffer_size) {
        for (j=0; j<=buffer_size; j++) buffer[j]=(0==(rand()%2));
        for (j=0; j<=buffer_size; j++) p[i+j]=buffer[j];
        for (j=0; j<=buffer_size; j++) if (p[i+j]!=buffer[i]) { printf("Error at address: %p\n", &p[i+j]); flag++; }
    }
    return flag;
}

int test_all() {
    int test=0;
    int flag;
    flag=test_running(1);
    if (flag) { test++; printf("Running 1 - FAIL\n"); }
    else printf("Running 1 - SUCCESS\n");
    flag=test_running(0);
    if (flag) { test++; printf("Running 0 - FAIL"); }
    else printf("Running 0 - SUCCESS\n");
    flag=test_chess();
    if (flag) { test++; printf("Chess - FAIL\n"); }
    else printf("Chess - SUCCESS\n");
    flag=test_chess();
    if (flag) { test++; printf("Random - FAIL\n"); }
    else printf("Random - SUCCESS\n");
    if (test!=0) { printf("SOME TESTS FAILED: %i", test); return 1; }
    else { printf("ALL TESTS PASSED!!!"); return 0; }
}

int main() {
    srand(time(NULL));
    test_all();
    return 0;
} 
```

更新：以下链接非常有帮助：1）[FixUnix：写入已知物理地址的设备](http://fixunix.com/embedded/261343-writing-device-known-physical-address.html)

2) [DesignSomething：从用户空间读/写物理地址的简单代码](http://designsomething.org/leopardboard/f/23/t/77.aspx)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T06:57:06.993

`0xFD002000` 您尝试读取/写入的地址未映射到您的进程中。它对您的进程访问它无效。这就是为什么您在第一次访问它时遇到分段错误的原因。

另外，请注意（在 Windows、linux、Mac 等主流桌面操作系统中）进程中的地址是虚拟地址，而不是实际的物理地址。更多[虚拟地址空间](http://en.wikipedia.org/wiki/Virtual_address_space)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:44:20.513

使用`malloc`or `new`- 这取决于您使用的是 C 还是 C++。

还要避免强制转换——它们通常暗示你做错了什么。

# salesforce - Salesforce 身份验证失败

> ID：12794302
> 
> 赞同：87
> 
> 时间：2012-10-09T06:48:05.220
> 
> 标签：salesforce, oauth-2.0, force.com

我正在尝试使用 OAuth 身份验证来获取 Salesforce 身份验证令牌，所以我参考了[wiki 文档](http://wiki.developerforce.com/page/Digging_Deeper_into_OAuth_2.0_on_Force.com)，但是在获取授权代码之后，当我使用 5 个必需参数发出 Post 请求时，我得到了以下异常

```
{"error":"invalid_grant","error_description":"authentication failure"} CODE 400
JSON = {"error":"invalid_grant","error_description":"authentication failure"} 
```

我猜这是一个糟糕的要求。

```
PostMethod post = new PostMethod("https://login.salesforce.com/services/oauth2/token");
post.addParameter("code",##############);
post.addParameter("grant_type","authorization_code");
post.addParameter("redirect_uri","#################");  
post.addParameter("client_id",this.client_id);
post.addParameter("client_secret",this.client_secret);
httpclient.executeMethod(post);
String responseBody = post.getResponseBodyAsString();
System.out.println(responseBody+" CODE "+post.getStatusCode()); 
```

请回复，如果知道异常？

* * *

## 回答 #1

> 赞同：208
> 
> 时间：2015-03-18T00:38:23.267

对于任何像我一样陷入困境和沮丧的人，我已经在整个过程中留下了一篇详细的博客文章（附有图片和粗俗的评论！）。如果需要，请单击链接：

[http://www.calvinfroedge.com/salesforce-how-to-generate-api-credentials/](http://www.calvinfroedge.com/salesforce-how-to-generate-api-credentials/)

这是一个纯文本的答案：

步骤1：

创建一个帐户。您可以在 developer.salesforce.com 创建一个（免费）开发者帐户

* * *

第2步：

忽略所有登陆页面并开始使用废话。这是一个无止境的营销循环。

* * *

第 3 步：

点击“设置”链接

* * *

第4步：

在左侧工具栏中的“创建”下，单击“应用程序”

* * *

第 5 步：

在“连接的应用程序”下单击“新建”

* * *

第 6 步：

填写表格。重要字段是标记为必填的字段和 oauth 部分。请注意，您可以为回调留下任何 url（我使用 localhost）。

* * *

第 7 步：

请注意，Salesforce 的可用性很差。

* * *

第 8 步：

按继续。你终于有了你的 client_id 密钥（标记为“Consumer Key”）和 client_secret（标记为“Consumer Secret”）。

* * *

第 9 步：

可是等等！你还没有完成；选择“管理”，然后选择“编辑策略”

1.  确保将*IP 放宽*设置为*放宽 IP 限制*，

2.  并确保允许的用户设置为“所有用户都可以自我授权”，

3.  并确保您的安全 > 网络访问 > 受信任的 IP 范围已设置

[![OAuth 设置](../Images/a32d963b4ac041466fdc0cd31425d7e9.png)](https://i.stack.imgur.com/6LwlZ.png)

[![安全 > 网络访问 > 可信 IP 范围](../Images/39a0cf36d24f7965a18835e84f2cc5ec.png)](https://i.stack.imgur.com/jy7iR.png)

如果您担心禁用安全性，请暂时不要这样做，您只想让此功能暂时正常工作，以便进行 API 调用。一旦一切正常，一次一个地收紧权限，这样您就可以弄清楚是什么设置给了您身份验证错误。

* * *

第 10 步：

庆祝！这个 curl 调用应该成功：

*生产*：_

```
curl -v https://login.salesforce.com/services/oauth2/token \
  -d "grant_type=password" \
  -d "client_id=YOUR_CLIENT_ID_FROM_STEP_8" \
  -d "client_secret=YOUR_CLIENT_SECRET_FROM_STEP_8" \
  -d "username=user@wherever.com" -d "password=foo@bar.com" 
```

在*沙箱*或*测试*上：

```
curl -v https://test.salesforce.com/services/oauth2/token \
  -d "grant_type=password" \
  -d "client_id=YOUR_CLIENT_ID_FROM_STEP_8" \
  -d "client_secret=YOUR_CLIENT_SECRET_FROM_STEP_8" \
  -d "username=user@wherever.com" -d "password=foo@bar.com" 
```

**笔记：**

*   如果您正在构建一个多租户应用程序，那么您不应该进行密码授权，用户需要授权他们自己的应用程序。为此，请使用 Oauth2 工作流程。

*   您可能需要传递附加到密码的安全令牌。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-09-30T21:52:59.953

我们也有这个问题。

检查您的`Connected App`设置 - 在 下`Selected OAuth Scopes`，您可能需要调整所选权限。我们的应用主要使用*Chatter*，所以我们必须同时添加：

*   访问和管理您的 Chatter 摘要 ( `chatter_api`)
*   随时代表您执行请求 ( `refresh_token`)。

同样，您的里程可能会有所不同，但会根据您的应用程序所做/需要的内容尝试不同的权限组合。

此外，实际**`invalid_grant`**错误似乎是由于**IP 限制**而发生的。确保允许运行 OAuth 身份验证代码的服务器 IP 地址。我发现如果 SFDC 环境设置了 IP 限制设置`Enforce IP restrictions`( *`Setup`-> `Administer`-> `Manage Apps`->`Connected Apps`* )，那么每个*用户配置文件*也必须具有允许的 IP 地址。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2018-04-18T18:40:04.340

## TL:博士

对于 OAuth 2 令牌，如果您登录...

*   在`login.salesforce.com`使用[https://login.salesforce.com/services/oauth2/token](https://login.salesforce.com/services/oauth2/token)
*   在`test.salesforce.com`使用[https://test.salesforce.com/services/oauth2/token](https://test.salesforce.com/services/oauth2/token)

## 故事：

1.  我正在关注[Salesforce“设置 OAuth 2.0”](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/quickstart_oauth.htm)
2.  凭据是正确的（许多字符逐字符检查）
3.  当我调用`curl https://login.salesforce.com/services/oauth2/token -d "...credentials..."`它时仍然失败：

    `{"error":"invalid_grant","error_description":"authentication failure"}`

## 解决方案：

[在阅读Digging Deeper into OAuth 2.0 in Salesforce](https://help.salesforce.com/articleView?id=remoteaccess_authenticate_overview.htm)时，意识到有不同的 OAuth 环境（强调添加）：

> ### OAuth 2.0 身份验证端点
> 
> OAuth 端点是您用来向 Salesforce 发出 OAuth 身份验证请求的 URL。当您的应用程序发出身份验证请求时，请确保您使用的是正确的 Salesforce OAuth 端点。主要终点是：
> 
> *   授权—<a href="https://login.salesforce.com/services/oauth2/authorize" rel="noreferrer">https://login.salesforce.com/services/oauth2/authorize
> *   令牌—<a href="https://login.salesforce.com/services/oauth2/token" rel="noreferrer">https://login.salesforce.com/services/oauth2/token
> *   撤销—<a href="https://login.salesforce.com/services/oauth2/revoke" rel="noreferrer">https://login.salesforce.com/services/oauth2/revoke（请参阅撤销 OAuth 令牌以了解撤销访问的详细信息）
> 
> 除了***login.salesforce.com***，客户还可以在这些端点中使用***My Domain***、***community***或***test.salesforce.com***（沙盒）域。

## 使固定

`test.salesforce.com`因为我通过切换登录到我的环境`curl https://test.salesforce.com/services/oauth2/token -d "...credentials..."`导致**“恭喜！(>^_^)> 提供 OAuth 令牌响应”**

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2016-01-05T21:11:32.217

要将 IP 地址范围列入白名单，请执行以下步骤：

1.  点击`Setup`右上角的
2.  从左侧导航中选择`Administer`> `Security Controls`>`Network Access`
3.  点击`New`
4.  添加您的 IP 地址范围
5.  点击`Save`

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2017-04-06T12:34:47.810

Salesforce 要求在 2017 年 7 月 22 日之前升级到 TLS 1.1 或更高版本，以符合安全和数据完整性的行业最佳实践： [来自 help.salesforce.com](https://help.salesforce.com/articleView?id=000221207&type=1)。

尝试添加此代码：

```
System.Net.ServicePointManager.SecurityProtocol = 
SecurityProtocolType.Tls | SecurityProtocolType.Tls11 | SecurityProtocolType.Tls12; 
```

另一种选择是编辑您的注册表：

```
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\v4.0.30319]
"SchUseStrongCrypto"=dword:00000001

[HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\.NETFramework\v4.0.30319]
"SchUseStrongCrypto"=dword:00000001 
```

检查此链接以获得更详细的答案： [Default SecurityProtocol in .NET 4.5](https://stackoverflow.com/questions/28286086/default-securityprotocol-in-net-4-5)

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2018-07-10T07:30:55.123

将您的 Salesforce 密码替换为密码和安全令牌的组合。例如，如果您的密码是“MyPassword”并且您的安全令牌是“XXXXXX”，则您需要在密码字段中输入“MyPasswordXXXXXX”。

如果您没有安全令牌，您可以如下重置它。

*   转到您的姓名 --> 我的设置 --> 个人 --> 重置我的安全令牌。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2019-01-29T11:31:54.987

[如果您在访问令牌设置中输入消费者密钥和消费者秘密，您可以使用Postman](https://www.getpostman.com)调用您的 APEX 控制器- 您不需要安全令牌。

像这个截图一样设置授权......

[邮递员 OAuth 2.0](https://i.stack.imgur.com/uf2EZ.png)

并在点击 Get New Access Token 按钮后在窗口中输入您的凭据...

[获取访问令牌](https://i.stack.imgur.com/CbPeK.png)

然后点击 Request Token 按钮生成一个令牌，然后点击 Use Token 按钮，它将填充 Authorization 选项卡上的 Access Token 字段，您点击 Get New Access Token 按钮。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2019-02-23T16:31:50.790

我正用头撞桌子，试图让它发挥作用。原来我的问题是复制和粘贴，这弄乱了“字符。我去手动输入”将其粘贴到命令行中，然后它就起作用了。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-08-05T14:48:43.340

我在所有键设置正确时都遇到了同样的错误，并且花了很多时间试图找出我无法连接的原因。

最后我发现在*Setup -> Manage Connected Apps -> Click "MyAppName" -> Click "Edit Policies"*。

在“允许的用户”字段值中，应设置“所有用户都可以自我授权”。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2020-08-04T16:42:56.753

确保您的密码中*仅*包含字母数字字符。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-04-20T17:48:52.633

除了遵循上述建议之外，我发现 Salesforce 不喜欢`axios`将数据编码为 JSON 的方式。我从默认的 JSON 编码切换到使用`qs`字符串化和发布为表单数据，并且工作正常。仍然不确定*为什么*Salesforce 不喜欢 JSON 版本，如果有人有更好的想法，我很想了解更多。

这有效：

```
axios.post(
  url,
  qs.stringify({
    grant_type: "password",
    username: process.env.USERNAME,
    password: process.env.PASSWORD,
    client_id: process.env.SF_ID,
    client_secret: process.env.SF_SECRET,
  }),
  { headers: "Content-Type": "application/x-www-form-urlencoded", },
) 
```

这没有：

```
axios.post(
  url,
  {
    grant_type: "password",
    username: process.env.SF_USERNAME,
    password: process.env.SF_PASSWORD,
    client_id: process.env.SF_ID,
    client_secret: process.env.SF_SECRET,
   }
); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-08-21T14:52:41.683

我遇到了这个问题，在尝试了几个失败的教程后，我发现一篇文章说 Salesforce 不会接受其中包含特殊字符（！、@、#）的密码。我在 Salesforce 中将我的密码更改为没有特殊字符的密码，终于让它工作了。

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2019-07-10T17:26:24.530

我尝试了许多以上对我不起作用的解决方案。然而，实际上对我有用的技巧是停止使用 curl 并使用[邮递员](https://www.getpostman.com/)应用程序来发出请求。

通过在邮递员中复制请求，使用 POST 请求和以下参数

1.  授予类型
2.  client_id
3.  client_secret
4.  用户名
5.  密码

这为我解决了这个问题。

只是将其发布在这里，以防其他人尝试了所有可能的解决方案但无济于事（就像我一样）。

# html - 如何包装选择下拉列表的选项

> ID：12794308
> 
> 赞同：0
> 
> 时间：2012-10-09T06:48:38.127
> 
> 标签：html, css

> **可能重复：**
> [选择列表中的自动换行选项](https://stackoverflow.com/questions/3587942/word-wrap-options-in-a-select-list)

我有一个标准的选择下拉菜单，宽度设置为 250px。但是选项长度非常大，我想将其限制为 250 并且要换行的文本

例如

```
<select>
<option>OPtion 1</option>
<option>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500Lorem Ipsum is simply dummy text of the printing and typesetting industry</option>
</select> 
```

# javascript - 在链接的悬停上创建文本区域

> ID：12794309
> 
> 赞同：-1
> 
> 时间：2012-10-09T06:48:43.697
> 
> 标签：javascript, jquery, hover, jquery-hover

我想在给定链接中的鼠标悬停上创建一个文本区域。

我尝试过的就是这个[小提琴代码。](http://jsfiddle.net/viralshah/nmZb9/5/)

但是当鼠标悬停在链接上时，我想动态创建文本区域。

该文本区域将设置在**右侧**（单击链接时），并**为该文本区域声明一些支持 CSS 的**字段，以便能够修改文本区域的样式。

谁可以帮我这个事？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:51:06.303

在链接的鼠标悬停时调用一个 ajax，它获取 textarea 的 html 或在 html 中创建一个隐藏的元素，并在 jquery 的鼠标悬停事件上使用 jquery 显示/隐藏功能

例如链接 id 是 #link1 和一个 div 元素，其中包含 textare id div1

jQuery('#link1').hover(function() { jQuery('#div1').show(); }, function() { jQuery('#div1').hide(); });

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:52:45.263

html:

```
<div id="container" style="height:100px;">
</div>
<a href="foo.com" onmouseover="addTextarea('foo.com is a great site')" onmouseout="$('#container').empty();">Foo.com</a>
<a href="bar.com" onmouseover="addTextarea('bar.com is a terrible site')" onmouseout="$('#container').empty();">Bar.com</a> 
```

JS：

```
function addTextarea(str) {
    $('#container').html(
    $('<textarea></textarea>')
      .val(str))
}​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:04:28.427

你想要这样的东西吗？[http://jsfiddle.net/nmZb9/18/](http://jsfiddle.net/nmZb9/18/)

**更新：* *如果它是您正在寻找的工具提示，我会这样做[http://jsfiddle.net/nmZb9/24/](http://jsfiddle.net/nmZb9/24/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:09:02.150

这是我的 2 美分，[http://jsfiddle.net/BsTTr/4/](http://jsfiddle.net/BsTTr/4/)

完全香草 javascript（无框架）

编辑：添加 css 规则以将 textarea 容器向右浮动

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:24:56.690

我认为这是您正在寻找的答案：

html:

```
<span>
    <textarea id="text1" style="display:none" onmouseout="showText(1,false)"></textarea>
    <a href="foo.com" id="link1" onmouseover="showText(1,true)">foo.com</a>
</span>
<span>
    <textarea id="text2" style="display:none" onmouseout="showText(2,false)"></textarea>
    <a href="bar.com" id="link2" onmouseover="showText(2,true)">bar.com</a>
</span> 
```

js：

```
function showText(i, show) {

    var text, link;

    if (i == 1) {
        text = document.getElementById('text1');
        link = document.getElementById('link1');
    } else {
        text = document.getElementById('text2');
        link = document.getElementById('link2');
    }
    if (show) {
        text.style.display = 'inline';
        link.style.display = 'none';
    }
    else {
        text.style.display = 'none';
        link.style.display = 'inline';
    }

}​ 
```

这是尝试的链接：http: [//jsfiddle.net/dNuy6/3/](http://jsfiddle.net/dNuy6/3/)

这是我从你的问题中了解到的。我用鼠标悬停的文本区域替换链接。如果这不是您要查找的内容，请给出更准确的解释。

这种方法的问题是用户永远无法点击链接！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T08:20:02.747

您也可以通过这种方式实现您的目标 - [http://jsfiddle.net/nmZb9/27/](http://jsfiddle.net/nmZb9/27/)。
这个没有突兀的 js（onmouseover 属性）

# wcf - 如何以编程方式从 XSD 文件和服务合同创建 WCF 服务？

> ID：12794311
> 
> 赞同：1
> 
> 时间：2012-10-09T06:48:48.380
> 
> 标签：wcf, xsd, wsdl

我已经多次发布这个主题，但没有运气。我会再尝试。

我们有一个项目，我们应该根据从客户端和固定服务合同获得的 XSD 文件创建 WCF 服务，如下所示：

消息自定义操作（消息输入消息）；

因此，操作将是相同的，但 XSD 文件会发生变化。

我们应该以编程方式做的所有事情。

以下是我的问题：

1) 如何以编程方式从 XSD 文件创建 WSDL 文件，了解服务的外观（见上文）？

2）如何使用1）中生成的WSDL文件以编程方式创建WCF服务？

3) 如何从上面的服务中读取输入/请求和输出/响应 SOAP 消息的正文？

有不止一种方法，我不知道哪一种是正确的。我还没有接近解决方案。

有一种使用 ServiceDescription 类以编程方式编写 WSDL 文件的方法，但它很复杂，如何正确执行，创建 WSDL 文件后要做什么等。

有一种使用 IXmlSerializable 接口的方法，但我不需要创建 C# 类型，因为我只有 XSD 文件。一切都应该以编程方式完成。

我想我应该使用原始消息，但是如何将该方法与我应该从中创建 WSDL 文件的现有 XSD 文件连接起来，以及如何将该 WSDL 文件传递​​到...在哪里？

先感谢您。

问候，

戈兰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:37:30.483

在这一点上，您可能应该质疑您是否提出了正确的问题。你已经发布了 4 次关于这个问题的帖子（[1](https://stackoverflow.com/questions/12721816/how-to-use-existing-in-memory-wsdl-in-order-to-create-wcf-service)）、（[2](https://stackoverflow.com/questions/12668942/how-to-dynamically-invoke-wcf-service-using-existing-wsdl)）、（[3](https://stackoverflow.com/questions/12636252/dynamically-invoking-wcf-service)），但是你没有一次用简单的语言真正解释过你想要实现的目标。

如果您只是要求解决方案而不分享您的问题，那么人们很难正确回答。

是的，您想做的事情是可能的，但这不是我自己想尝试的事情。

在回答您的问题时：

1.  这正是 WSCF.blue 所做的。去下载他们的[源代码](http://wscfblue.codeplex.com/SourceControl/BrowseLatest)。

2.  使用 powershell 或其他一些自动化环境，针对 svcutil.exe 运行 wsdl 并生成要在服务上公开的类型。然后编译代码。然后在运行时使用某种 IoC 容器将类型作为依赖项注入服务代码（我认为[Castle Windsor](http://docs.castleproject.org/Windsor.WCF-Facility-Registration.ashx)有很多 WCF 集成）。

3.  使用 powershell 或其他一些自动化环境，将 svcutil.exe 指向正在运行的服务并生成代码代理。编译代码，然后在运行时将代理注入您的客户端代码，类似于上面。

# android - 如何使错误日志更详细地说明未定义的引用

> ID：12794315
> 
> 赞同：1
> 
> 时间：2012-10-09T06:48:57.800
> 
> 标签：android, c++, c, android-ndk, cygwin

我需要编译一些 c/c++ 代码。使用 NDK 和 Cygwin 的工具，我不止一次想出了错误“未定义的引用”。大多数人说这是由于调用了一个 lib 文件未包含在源文件中的函数。但是，我对 c/c++ 知之甚少，而且错误日志给出了模糊的信息，所以我不知道哪个文件中的哪一行导致了问题，甚至不知道我真正需要的是哪个 lib 文件。

我希望我能找到一些工具或方法来处理此类问题，以便我可以找到错误行或获取有关错误的更多详细信息。

非常感谢。

**安卓.mk**

```
LOCAL_PATH:= $(call my-dir)
include $(CLEAR_VARS)
include ../includeOpenCV.mk
ifeq ("$(wildcard $(OPENCV_MK_PATH))","")
#try to load OpenCV.mk from default install location
include $(TOOLCHAIN_PREBUILT_ROOT)/user/share/OpenCV/OpenCV.mk
else
include $(OPENCV_MK_PATH)
endif
LOCAL_MODULE:=AvatarSpeak
LOCAL_SRC_FILES:=AvatarSpeak.cpp
LOCAL_LDLIBS    := -llog
include $(BUILD_SHARED_LIBRARY) 
```

**$NDK/ndk-build V=1**

```
$ $NDK/ndk-build V=1
rm -f ./libs/armeabi/lib*.so ./libs/armeabi-v7a/lib*.so ./libs/mips/lib*.so        ./libs/x86/lib*.so
rm -f ./libs/armeabi/gdbserver ./libs/armeabi-v7a/gdbserver ./libs/mips/gdbserver     ./libs/x86/gdbserver
rm -f ./libs/armeabi/gdb.setup ./libs/armeabi-v7a/gdb.setup ./libs/mips/gdb.setup      ./libs/x86/gdb.setup
Gdbserver      : [arm-linux-androideabi-4.6] libs/armeabi/gdbserver
mkdir -p ./libs/armeabi
install -p /cygdrive/d/android-ndk-r8b/prebuilt/android-arm/gdbserver/gdbserver   ./libs/armeabi/gdbserver
Gdbsetup       : libs/armeabi/gdb.setup
mkdir -p ./libs/armeabi
echo "set solib-search-path ./obj/local/armeabi" > ./libs/armeabi/gdb.setup
echo "directory D:/android-ndk-r8b/platforms/android-14/arch-arm/usr/include   "../../OpenCV-2.3.1/share/OpenCV/../../include/opencv" "../../OpenCV-    2.3.1/share/OpenCV/../../include" D:/android-ndk-r8b/sources/cxx-stl/gnu-     libstdc++/4.6/include D:/android-ndk-r8b/sources/cxx-stl/gnu-    libstdc++/4.6/libs/armeabi/include jni" >> ./libs/armeabi/gdb.setup
SharedLibrary  : libAvatarSpeak.so
/cygdrive/d/android-ndk-r8b/toolchains/arm-linux-androideabi-     4.6/prebuilt/windows/bin/arm-linux-androideabi-g++  -Wl,-soname,libAvatarSpeak.so  -shared       --sysroot=D:/android-ndk-r8b/platforms/android-14/arch-arm  ./obj/local/armeabi/objs-      debug/AvatarSpeak/com_huawei_avatar_AvatarSpeak.o ./obj/local/armeabi/libopencv_contrib.a       ./obj/local/armeabi/libopencv_calib3d.a ./obj/local/armeabi/libopencv_objdetect.a       ./obj/local/armeabi/libopencv_features2d.a ./obj/local/armeabi/libopencv_video.a      ./obj/local/armeabi/libopencv_imgproc.a ./obj/local/armeabi/libopencv_highgui.a          ./obj/local/armeabi/libopencv_ml.a ./obj/local/armeabi/libopencv_legacy.a     ./obj/local/armeabi/libopencv_flann.a ./obj/local/armeabi/libopencv_core.a        ./obj/local/armeabi/libopencv_androidcamera.a ./obj/local/armeabi/liblibjpeg.a       ./obj/local/armeabi/liblibpng.a ./obj/local/armeabi/liblibtiff.a      ./obj/local/armeabi/liblibjasper.a ./obj/local/armeabi/libzlib.a       ./obj/local/armeabi/libgnustl_static.a    -Wl,--no-undefined -Wl,-z,noexecstack -Wl,-      z,relro -Wl,-z,now  -LD:/android-ndk-r8b/platforms/android-14/arch-arm/usr/lib -llog -lc -           lm  -o obj/local/armeabi/libAvatarSpeak.so
./obj/local/armeabi/objs-debug/AvatarSpeak/AvatarSpeak.o: In function      `Java_com_hachi_avatar_AvatarSpeak_speak':
D:\eclipse_workspace\TestSo/jni/com_hachi_avatar_AvatarSpeak.cpp:52: undefined     reference to `Fap2Avi2D(char const*, char const*, char const*, char const*, char const*,    int)'
collect2: ld returned 1 exit status
/cygdrive/d/android-ndk-r8b/build/core/build-binary.mk:378: recipe for target     `obj/local/armeabi/libAvatarSpeak.so' failed
make: *** [obj/local/armeabi/libAvatarSpeak.so] Error 1 
```

**AvatarSpeak.cpp**

```
if (fImage != NULL && fPot != NULL) {

    bool sucavi = Fap2Avi2D(str3, str5, str4, str1, str2, -1);
    LOGI("sucess and exit!");
} else {
    LOGI("unsucess and exit!");
} 
```

**Animation2D_new.h**（定义方法**Fap2Avi2D**的头文件）

```
#ifndef ANIMATION_2D_NEW_H_
#define ANIMATION_2D_NEW_H_

#include <vector>
#include <string>
#include "public.h"
#include "FaceExpressionEditor.h"
//#define  __declspec(dllexport)

bool Fap2Avi2D(const char *fap_file,const char *avi_file,const char *wav_file, const   char* image_file,const char *pot_file=NULL,int codec_type=-1);
... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T11:09:04.757

通常，“未定义的引用”意味着您的构建配置错误。例如，`Android.mk`文件中的意外换行可能会导致**make**工具为您的项目选择错误的链接命令。

通常，错误消息包括缺少的函数或全局变量的名称，以及正在查找此引用的模块（文件）。如果名称不是一目了然，您通常可以在源代码中找到该名称，然后将其追溯到您使用的外部库之一，因为它很可能在某些标头**（****.h**或**. hpp** ) 文件包含在您的源代码中。

 ****您不太可能无意中使用了必须下载的某些外部库，因为通常当编译器找不到必要的包含（头）文件时，此类错误会更早地表现出来。

Android 原生项目显示“未定义引用”错误的一种特殊情况是项目使用非官方 Android API，例如 OpenMax/stagefreight。在这种情况下，可以在 Android 源代码树中找到头文件，但链接阶段所需的编译库不存在。通常的解决方法是从您的开发设备中提取二进制文件，例如

```
adb pull /system/lib/libstagefreight.so . 
```

无论如何，它通常有助于以**V=1**`ndk-build`运行以准确查看执行了哪些构建命令。

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T10:24:28.627

没有通用的方法可以找到“丢失的库”。这是你作为程序员（和谷歌用户）的技能必须被激活的地方。

第一步始终是确定函数属于哪个库。使用谷歌总是一个不错的选择。

当您知道这一点时，您需要确定该库是否安装在您的系统上。如果没有，那就这样吧。

然后，您需要将此依赖项添加到您的构建系统中。如何做到这一点取决于使用的环境和工具。Google 再次成为您的最佳选择。******

# android - 内容丢失如果我离开我的 Android 手机一段时间

> ID：12794317
> 
> 赞同：0
> 
> 时间：2012-10-09T06:49:03.980
> 
> 标签：android, text, android-edittext

我开发了一个应用程序，其中可扩展列表有几个 EditText 和 Radio 按钮。一切正常，但是一旦我在 EditText 中输入文本并离开手机一段时间，我就会丢失输入的文本.....所以任何人都可以在这个问题上帮助我。

在此先感谢 RK

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:04:22.790

您应该了解当您“离开手机一段时间”时会发生什么：

*   另一个进程可以启动（例如电话呼叫），操作系统会为它释放一些内存
*   手机可以休眠以节省电池电量

无论如何，您应该保存用户所做的任何更改。查看[这篇文章](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)以了解您可以在哪里保存用户数据。通常是`onStop`或`onDestroy`方法。

# mobile - 与 iOS 不兼容的移动网络应用程序

> ID：12794319
> 
> 赞同：2
> 
> 时间：2012-10-09T06:49:11.177
> 
> 标签：mobile, facebook-javascript-sdk

我为 Facebook App Center 创建了一个 HTML5+Javascript 移动网络应用程序。它可以在 Android 手机上正常运行，但是当我在 iPhone 和 iPad 上运行它时，它显示：

“APPNAME与您的设备不兼容。请访问应用中心查找此设备的应用程序。”

我的应用程序可能有什么问题？我在 Facebook 应用中心创建了另一个移动网络应用，将 URL 更改为简单的测试页面，还更改了权限和高级 -> 迁移选项卡上的设置，该应用仍然无法在 iOS 上运行。

当我尝试在 iPhone Safari 网络浏览器上通过 Facebook App Center 运行应用程序时，以及使用 iPhone 用户代理在桌面 Chrome 浏览器上运行应用程序时，也会出现同样的问题。当我直接通过我的 iPhone Safari 网络浏览器打开我的移动网站时，它工作正常。

# database - 在数据库中存储名称

> ID：12794320
> 
> 赞同：4
> 
> 时间：2012-10-09T06:49:13.713
> 
> 标签：database, database-design

我最近盯着建立一个小型社交网络，我对存储名称有点迷茫和困惑。

所以重点是，这个网络将开放给 4 个不同的国家，匈牙利、俄罗斯、法国和美国。

不好的部分是，如果我想将名称存储为`first name`,`last name`在数据库中，那不是一个好主意，因为例如，在匈牙利，名称会被转换，例如，如果 Amirecian Citizen 注册为 Scott Summers, Scott is the `first name`and Summers is the`last`但是例如在匈牙利语中它完全不同，名字是姓氏，姓氏是第一个，所以如果斯科特在匈牙利语中，他的名字将是这样的：萨默斯斯科特。

我在我的国家（匈牙利）的经历，当他们在 Facebook 上注册时改名时，他们真的很沮丧，所以我想避免这种情况。

我想`full name`在表格中给出一个字段，但这也不是一个好主意（在我看来）。

所以如果可能的话我想问问更有经验的开发人员的意见，谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T06:59:43.157

*如果*您工作的每个领域都有一个约定，即每个人都有一个姓氏、一个或多个名字，并且更喜欢将这些名称格式化为特定格式，**并且**您需要处理名称的各个部分，然后存储这些事实：

`Family Name`, `Given Name`,`Other Names`和`Preferred Name Format`. 我还建议您让他们输入一个`Preferred Name`.

你通常`Preferred Name`用来解决它们的地方，你将`Preferred Name Format`用来控制组装`Family Name`，`Given Name`并`Other Names`以他们的文化可以接受的格式。

设计 UI 以允许他们无错误地输入这些内容作为练习留给读者:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:57:44.000

您可以为包含名称的表创建一个视图，并在表本身中存储一个标志。您可以从 SQL 中检索全名。例如：

```
SELECT 
    IF(nametable.last_name_first,
        CONCAT(nametable.last_name,' ',nametable.first_name),
        CONCAT(nametable.first_name,' ',nametable.last_name)) AS fullname 
    FROM nametable; 
```

# jquery - jQuery Smooth Scroll 锚点和更新浏览器位置

> ID：12794324
> 
> 赞同：0
> 
> 时间：2012-10-09T06:49:26.753
> 
> 标签：jquery, jquery-animate

我正在使用此代码在页面上的锚点之间平滑滚动作为渐进增强

```
$('a[href*=#]').click(function(e) {
    if (location.pathname.replace('/^\//','') == this.pathname.replace('/^\//','')
        && location.hostname == this.hostname) {
        var $target = $(this.hash);
        $target = $target.length && $target
            || $('[name=' + this.hash.slice(1) +']');
        if ($target.length) {
            $('.active').removeClass('active');
            $(this).parent().addClass('active');
            var targetOffset = $target.offset().top;
            $('html,body')
            .animate({
                scrollTop: targetOffset
            }, 750);
            e.preventDefault();
            //location.hash = $(this.hash);
        }
    }
}); 
```

我的问题是，有没有办法像平常一样更新浏览器中的 URL，但仍然可以平滑滚动？如果我取消注释最后一行，它将跳转到锚点，然后执行动画。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:49:26.753

我刚刚在发布时解决了它。发布此信息以帮助他人。基本上，我只是在动画完成时使用回调来更新浏览器位置。

```
$('a[href*=#]').click(function(e) {
    if (location.pathname.replace('/^\//','') == this.pathname.replace('/^\//','')
        && location.hostname == this.hostname) {
        var hash = this.hash;
        var $target = $(this.hash);
        $target = $target.length && $target
            || $('[name=' + this.hash.slice(1) +']');
        if ($target.length) {
            $('.active').removeClass('active');
            $(this).parent().addClass('active');
            var targetOffset = $target.offset().top;
            $('html,body')
            .animate({
                scrollTop: targetOffset
            }, 750, function() {
                location.hash = hash;
            });
            e.preventDefault();

        }
    } 
```

# spotify - 如何在不安装的情况下阅读共享的 Spotify 播放列表的内容？

> ID：12794329
> 
> 赞同：2
> 
> 时间：2012-10-09T06:49:47.947
> 
> 标签：spotify

在我的国家，我没有 Spotify 服务，也没有我正在使用的系统的安装权限/权限，但我想从 subbreddit 上共享的 Spotify 播放列表中提取歌曲名称/艺术家元数据`/r/spotify`。

例如，用户在`/r/spotify` [http://open.spotify.com/user/1224703396](http://open.spotify.com/user/1224703396)上分享了他的播放列表。现在，只要您访问上面的页面，它就会要求`do you have spotify installed`.

那么，是否可以使用 spotify API 从用户共享的播放列表中提取内容，或者是否有任何在线服务可以做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T08:45:21.813

没有用于执行此操作的直接 Web API。但是，我想到了两种解决方法：

1) 使用 libspotify 或 CocoaLibSpotify 并编写一个小应用程序来做到这一点。

2)使用播放列表的 URL创建一个[Spotify 播放按钮小部件。](https://developer.spotify.com/technologies/spotify-play-button/)

# netbeans - 在 Net beans IDE 6.5 中打开一个 ear 项目

> ID：12794336
> 
> 赞同：-3
> 
> 时间：2012-10-09T06:50:29.567
> 
> 标签：netbeans

是否可以在 Net beans IDE 6.5 中打开 .ear 项目

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T08:49:43.447

EAR file is Enterprise Archive. NETBeans IDE 6.5 cant open a ear file. You can use JDeveloper or Eclipse to open a .ear project.

# jquery - 我可以使用 jQuery 切换功能为 div 设置动画吗

> ID：12794339
> 
> 赞同：0
> 
> 时间：2012-10-09T06:50:37.330
> 
> 标签：jquery

我想使用 jQuery 切换功能为 div 设置动画，所以我搜索了 Google 并找到了我使用的代码，但它不起作用。这是我使用的代码。

```
doDiv.toggle(function()
{
return oDiv.animate({ opacity: 'toggle', marginTop:('-' + allChildDivHeight +    'px') }, speed, easing, callback);
},function()
{
 return oDiv.animate({ opacity: 'toggle', marginTop:('-' + (margin_top+allChildDivHeight )+ 'px') }, speed, easing, callback);
}); 
```

上面的脚本有什么问题？需要一些帮助。谢谢。

# google-maps - 当我们将街景小人放在地图中的任何标记上时如何抓取事件

> ID：12794348
> 
> 赞同：0
> 
> 时间：2012-10-09T06:51:30.157
> 
> 标签：google-maps, google-maps-api-3, google-street-view

如果用户将街景小人拖放到地图上的标记上，我需要抓取该事件。这该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:16:01.660

您可以手动设置街景小人的位置，如下[**例所示**](http://maps.forum.nu/v3/gm_streetview_search.html)：

短代码版本是这样的：

```
var G = google.maps;

var svpOptions = {
//      navigationControl: false,
//      addressControl: false,
//      linksControl: false,
        addressControlOptions: {
            style: { 
              border: '1px solid white', 
              backgroundColor: 'black',
              font: 'normal 10px verdana',
              color: 'white'
            }
        }
    };

    var latlon = new google.maps.LatLng(45.0, -90.0);
    svpContainer = document.getElementById('svpDiv');
    var svp = new G.StreetViewPanorama(svpContainer,svpOptions);
    svp.setPosition(latlon); 
```

# android - 如何在表单元素的底部显示列表视图？

> ID：12794356
> 
> 赞同：1
> 
> 时间：2012-10-09T06:52:20.617
> 
> 标签：android, android-layout, android-listview

我想显示一些表单元素，下面我想显示一个列表视图。

我使用 CursorAdapter 方法生成列表视图。

我的布局文件是：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:text="Name:"
        android:textAppearance="?android:attr/textAppearanceMedium" 
        android:layout_marginTop="10dp" 
        android:layout_marginLeft="10dp" 
        android:layout_marginRight="10dp"/>

    <EditText
        android:id="@+id/txtName"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/name"
        android:ems="10" 
        android:layout_marginLeft="10dp" 
        android:layout_marginRight="10dp">

        <requestFocus />
    </EditText>

    <TextView
        android:id="@+id/startdate"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/txtName"
        android:text="Start Date:"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:layout_marginTop="10dp" 
        android:layout_marginLeft="10dp" 
        android:layout_marginRight="10dp"/>

    <EditText
        android:id="@+id/txtStartDate"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/startdate"
        android:ems="10" 
        android:layout_marginLeft="10dp" 
        android:layout_marginRight="10dp"/>

    <TextView xmlns:android="http://schemas.android.com/apk/res/android"
     android:id="@+id/categories"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:padding="10dp"
    android:textSize="20sp" >
    </TextView>

    <Button
        android:id="@+id/btnSave"
        style="?android:attr/buttonStyleSmall"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentLeft="true"
        android:text="Save" 
        android:layout_marginLeft="10dp" 
        android:layout_marginRight="10dp"/>

</RelativeLayout> 
```

生成列表的代码是：

```
DBAdapter db = new DBAdapter(Demo.this);
        db.open();
        final Cursor c = db.getAllCategories();
        CategoriesCursorAdapter categoriescursoradapter = new CategoriesCursorAdapter(Demo.this,c,CursorAdapter.NO_SELECTION); 
        ListView lv = getListView();
        lv.setAdapter(categoriescursoradapter);
        lv.setTextFilterEnabled(true);
        lv.setOnItemClickListener(new OnItemClickListener() {

                @Override
                public void onItemClick(AdapterView<?> parent, View view, int pos, long id) {
                  c.moveToPosition(pos);
                  int rowId = c.getInt(c.getColumnIndexOrThrow("_id"));
                  Toast.makeText(getApplicationContext(), "rowid:"+rowId, Toast.LENGTH_LONG).show();
                }

              });  
        db.close(); 
```

分类CursorAdapter代码：

```
public class CategoriesCursorAdapter extends CursorAdapter {

    public CategoriesCursorAdapter(Context context, Cursor c, int flags) {
        super(context, c, flags);
    }

    @Override
    public View newView(Context context, Cursor cursor, ViewGroup parent) {

        LayoutInflater inflater = LayoutInflater.from(parent.getContext());
        View retView = inflater.inflate(R.layout.activity_demo, parent, false);

        return retView;
    }

    @Override
    public void bindView(View view, Context context, Cursor cursor) {

        TextView textViewCategory = (TextView) view.findViewById(R.id.categories);
        textViewCategory.setText(cursor.getString(cursor.getColumnIndex(cursor.getColumnName(1))));
    }
} 
```

当我运行应用程序时，每个表单元素都会为每个列表视图重复。

![布局](../Images/52c1efee925bcc7724a70e70501a03fc.png)

相反，表单元素应生成一次，列表视图应位于该表单元素下方，保存按钮应位于页面底部。

# python-3.x - 无法使用 cx_freeze 创建和运行 Python 脚本的独立可执行文件

> ID：12794357
> 
> 赞同：2
> 
> 时间：2012-10-09T06:52:25.363
> 
> 标签：python-3.x, executable, cx-freeze

我的 c:\Python32 1)Tima_guess.py 中有 2 个 python 脚本，如下所示：

```
#Author:Roshan Mehta
#Date  :9th October 2012

import random,time,sys
ghost ='''
0000 0 000----
00000-----0-0
----0000---0
'''

guess_taken = 0

print('Hello! What is your name?')
name = input()
light_switch = random.randint(1,12)
print("Well, " + name + ", There are 12 switches and one of them turns on the Light.\nYou just need to guess which one is it in 4 guesses.Purely a luck,but i will help you to choose")
print("Choose a switch,they are marked with numbers from 1-12.\nEnter the switch no.") 
while guess_taken < 4:

    try:
        guess = input()
        guess = int(guess)
    except: 
        print("invalid literal,Plese enter an integer next time.")
        x = input()
        sys.exit(1)

    guess_taken = guess_taken + 1
    guess_remain = 4 - guess_taken
    time.sleep(1)

    if guess < light_switch:        
        print("The Light's switch is on right of your current choice.You have {} more chances to turn on the light.".format(guess_remain)) 

    if guess > light_switch:
        print("The Light's switch is on left of your current choice.You have {} more chances to turn on the light.".format(guess_remain))

    if guess == light_switch:
        print("Good,you are quiet lucky,You have turned on the light in {} chances.".format(guess_taken))
        sys.exit(1)

if guess != light_switch:
    print("Naah,You don't seems to be lucky enough,The switch was {}.".format(light_switch))
    for i in range(3):
        time.sleep(2)
        print(ghost)
    print("The Devil in the room has just killed you....Ha ha ha")

input() 
```

2）setup.py 看起来像这样：

```
from cx_Freeze import setup, Executable
setup(
    name = "Console game",
    version = "0.1",
    description = "Nothing!",
    executables = [Executable("Tima_guess.py")]) 
```

当我运行 python setup.py build 时，它会在 c:\Python32\build 内的 build 目录中创建一个可执行文件，但是当我运行 Tima_guess.exe 时，它​​只会显示黑屏，并且会立即关闭，甚至无法看到它抛出的消息。请帮助我获得我的 Tima_guess.py 游戏的独立可执行文件。

问候。

根据 Thomas 的建议，当我通过 Tima_guess.exe 明确地在 cmd 中运行时。我收到以下错误，但仍然无法找出问题所在。

```
c:\Python32\build\exe.win32-3.2>Tima_guess.exe
Traceback (most recent call last):
  File "c:\Python32\lib\site-packages\cx_Freeze\initscripts\Console3.py", line 2
7, in <module>
    exec(code, m.__dict__)
  File "Tima_guess.py", line 4, in <module>
  File "c:\Python32\lib\random.py", line 39, in <module>
    from warnings import warn as _warn
  File "C:\Python\32-bit\3.2\lib\warnings.py", line 6, in <module>
  File "C:\Python\32-bit\3.2\lib\linecache.py", line 10, in <module>
  File "C:\Python\32-bit\3.2\lib\tokenize.py", line 28, in <module>
ImportError: No module named re

c:\Python32\build\exe.win32-3.2> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T07:21:13.680

构建完成后，将 re.pyc 添加到 library.zip 文件中。
要获取re.pyc，你需要做的就是成功运行re.py，然后打开`__pycache__`文件夹，然后你会看到一个类似re.cpython-32.pyc的文件，将它重命名为re.pyc，瞧！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T10:43:06.313

**安装程序.py**

```
from cx_Freeze import setup, Executable

build_exe_options = {"includes": ["re"]}

setup(
        name = "Console game",
        version = "0.1",
        description = "Nothing!",
        options = {"build_exe": build_exe_options},
        executables = [Executable("Tima_guess.py")]) 
```

# string - 如何在 Erlang 中去除字符串中的所有空白字符？

> ID：12794358
> 
> 赞同：11
> 
> 时间：2012-10-09T06:52:25.803
> 
> 标签：string, erlang, trim, strip, chomp

我知道 erlang 中有 string:strip 。但它的行为对我来说很奇怪。

```
A = "  \t\n"  % two whitespaces, one tab and one newline
string:strip(A)   % => "\t\n"
string:strip(A,both,$\n)  %  string:strip/3 can only strip one kind of character 
```

我需要一个函数来删除所有前导/尾随空白字符，包括空格、\t、\n、\r 等。

```
some_module:better_strip(A)    % => [] 
```

erlang有一个功能可以做到这一点吗？或者如果我必须自己这样做，最好的方法是什么？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-09T08:37:01.697

试试这个：

```
re:replace(A, "(^\\s+)|(\\s+$)", "", [global,{return,list}]). 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-09T07:09:16.630

试试这个结构：

```
re:replace(A, "\\s+", "", [global,{return,list}]). 
```

示例会话：

```
Erlang R15B01 (erts-5.9.1) [source] [async-threads:0] [hipe] [kernel-poll:false]

Eshell V5.9.1  (abort with ^G)
1> A = "  21\t\n  ".
"  21\t\n  "
2> re:replace(A, "\\s+", "", [global,{return,list}]).
"21" 
```

**更新**

上述解决方案也会在字符串中去除空格符号（不仅是前导和尾随）。

如果您只需要去除前导和尾随，则可以使用以下内容：

```
re:replace(re:replace(A, "\\s+$", "", [global,{return,list}]), "^\\s+", "", [global,{return,list}]). 
```

示例会话：

```
Erlang R15B01 (erts-5.9.1) [source] [async-threads:0] [hipe] [kernel-poll:false]

Eshell V5.9.1  (abort with ^G)
1> A=" \t \n 2 4 \n \t \n  ".
" \t \n 2 4 \n \t \n  "
2> re:replace(re:replace(A, "\\s+$", "", [global,{return,list}]), "^\\s+", "", [global,{return,list}]).
"2 4" 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-10-29T21:16:18.620

现在用`string:trim`

```
1> string:trim("  \t\n").
[] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-10T06:04:31.173

使用内置函数：`string:strip/3`，你可以有一个通用的抽象

```
clean(Text,Char)-> string:strip(string:strip(Text,right,Char),left,Char)。

```

你会像这样使用它：

```
Microsoft Windows [版本 6.1.7601]
版权所有 (c) 2009 Microsoft Corporation。版权所有。

C:\Windows\System32>erl
Eshell V5.9（使用 ^G 中止）
1> Clean = fun(Text,Char) -> string:strip(string:strip(Text,right,Char),left,Char) 结束。
#Fun<erl_eval.12.111823515>
2> 清洁（“穆扎亚”，32）。
“穆萨亚”
3> Clean("--Erlang 程序--",$-).
“Erlang 程序”
4> Clean(Clean("** WhatsApp 在其后端使用 Erlang 和 FreeBSD ",$*),32)。
“WhatsApp 在其后端使用 Erlang 和 FreeBSD”
5>

```

这是一种干净的方式，而且是通用的。`Char`必须是 ASCII 值。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-02-11T23:53:31.937

这是在erlang中执行此操作的简短方法：

```
145> A = "  \t\n".
"  \t\n"
146> A1 = [X || X<-A, X =/= 32].
"\t\n" 
```

上面的 32 代表一个`' '`字符。

# android - 如何将照片添加到Android中的foursquare应用程序的签到中

> ID：12794360
> 
> 赞同：0
> 
> 时间：2012-10-09T06:52:35.297
> 
> 标签：android, image, foursquare

我在我的android应用程序中做foursquare插件，我可以签入并可以使用以下代码添加提示。

办理登机手续：

```
Result<Checkin> result = getFoursquareApi().checkinsAdd(venueId, null, getString(R.string.checkin_msg), null, null,null,null,null); 
```

添加提示：

```
Result<CompleteTip> resultTip = getFoursquareApi().tipsAdd(venueId, Appsconstant.SOCIAL_NETWORK_MESSAGE, "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRpdDBUIVfZo3tcyuNKZU_2lHjvMri6ChfQ03DetZITYPi-HI9-RA"); 
```

但在提示中，我已经给出了图片的网址。但它没有添加到提示中。我犯了什么错误？以及如何使用提示添加图像。请任何人帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:03:20.067

API 并没有说您可以专门添加图像，只是您可以在此提示中添加“感兴趣的 url”。你在做什么

参考：[https ://developer.foursquare.com/docs/tips/add](https://developer.foursquare.com/docs/tips/add)

# java - 我收到两个 NullPointerExceptions，但不知道如何解决

> ID：12794363
> 
> 赞同：2
> 
> 时间：2012-10-09T06:52:40.937
> 
> 标签：java, nullpointerexception, linked-list, doubly-linked-list

我正在制作一个包含向量的双向链接循环列表，但我无法弄清楚如何修复我得到的两个 NullPointerExceptions。它们都与我的 add 方法一起使用，一个 add 方法在列表末尾插入一个对象，另一个在给定索引处插入对象。这是我有问题的代码。

```
import java.util.Iterator;
import java.util.NoSuchElementException;
import java.util.Vector;

public class DList<T> implements ADTListInterface<T> {
private int size;
private int BUCKET;
private DListNode head;
private DListNode last;

public DList() {
    head = new DListNode(null);
    head.next = last;
    head.prev = head;
    BUCKET = 1;
}

public DList(int bucket){
    if (bucket <= 0)
        throw new IllegalArgumentException("Cannot have a bucket lower than 1");

    this.BUCKET = bucket;
    head = new DListNode(null);
    head.next = last;
    head.prev = head;
}

private class DListNode {
    private Vector<T> item;   //Line 29
    private DListNode next;   //Line 30
    private DListNode prev;

    public DListNode(T o) {
        this(o, null, null);
    }

    public DListNode(T o, DListNode next, DListNode prev) {
        item = new Vector<T>(BUCKET);

        item.add(o);
        this.next = next;
        this.prev = prev;
    }

    public void add(T item) {
        if (this.item.size() == this.item.capacity()) {
            DListNode newNode = new DListNode(item, this.next, this);
            this.next = newNode;
        }

        else {
            insertAfter(item);
        }
    }

    public void add(T item, int idx) {
        if (this.item.size() == this.item.capacity()) {
            DListNode newNode = new DListNode(this.item.elementAt(BUCKET), this.next, this);
            this.next = newNode;
        }
        else {
            this.item.add(idx, item);
        }
    }

    public boolean remove(T o){
        if (item.indexOf(o) != -1){
            item.remove(o);
            if (item.size() == 0){
                this.prev.next = this.next;
                this.next.prev = this.prev;
            }
            size--;
            return true;
        }
        return false;
    }

    public void insertAfter(T item) {
        next = new DListNode(item, next, prev);
        next.next.prev = next;
    }

    public DListNode nth(int index) {
        if (index == 1)
            return this;
        else if (index < 0 || next == null) {
            throw new java.util.NoSuchElementException("No Such Element");
        } else
            return next.nth(index - 1);
    }
}

@Override
public void add(T o) {

    DListNode last = head;
    while (last.item.size() >= BUCKET && last.next != head) {
        last = last.next;
    }

    if (last.item.size() == BUCKET) { //Line 102
        DListNode n = new DListNode(o, head, last);
        head.prev.next = n;
        head.prev = n;
        size++;
    } else {
        last.item.add(o);
    }

}

    @Override
public void add(T o, int index) {
    DListNode temp = head, testNext;
    int count = 0;

    while (count+1 <= index) {
        count += temp.item.size();
        temp = temp.next;
        if (temp == head) {
            throw new IndexOutOfBoundsException("Out Of Bounds!");
        }
    }
    testNext = temp.next;   //Line 126
    temp.add(o, index);
    if (testNext != temp.next)
        size++;
} 
```

}

我得到的两个错误是：

1.  在 DListNodeDriver.main(DListNodeDriver.java:7) 的 DList.add(DList.java:102) 的 DList$DListNode.access$0(DList.java:29) 的线程“main”java.lang.NullPointerException 中的异常

2.  DList$DListNode.access$1(DList.java:30) 处 DListNodeDriver.main(DListNodeDriver.java:6) 处 DList.add(DList.java:126) 处的线程“main”java.lang.NullPointerException 中的异常

    谢谢，任何帮助表示赞赏。

主要方法

```
import java.util.Iterator;

public class DListNodeDriver {
    public static void main(String[] args) {
        DList<String> students = new DList<String>();
        students.add("Other", 1);
        students.add("New", 3);
        Iterator<String> t = students.iterator();
        while (t.hasNext()) {
            String temp = t.next();
            StdOut.println("Student: " + temp);
        }

    }
}

import java.util.Iterator;

public class DListNodeDriver {
    public static void main(String[] args) {
        DList<String> students = new DList<String>();
        students.add("Other");
        students.add("New");
        Iterator<String> t = students.iterator();
        while (t.hasNext()) {
            String temp = t.next();
            StdOut.println("Student: " + temp);
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:25:15.360

`temp`由于显而易见的原因，您的为空。逐步完成它：

1.  无参数构造函数 ->`head.next`是`null`.
2.  `students.add("other",1);`->`temp = temp.next`在循环中，因此`null`。

类似的问题发生在`students.add("other")`.

根据您的实现，我会做这样的事情：

```
@Override
public void add(T o, int index) {
    DListNode temp = head
    int count = 0;

    // < instead of <= because if index = size, your temp will be null otherwise.
    // if index = 1 , you'll want to add after head. Watch out for index > size! 
    // It is an IndexOutOfBounds, index = size => add behind last element.
    while (count+1 < index) { 
        count++;
        if( temp.next == null ) { /*Handle that case */ }
        else {temp = temp.next;}
        //if (temp == head) {
        //    throw new IndexOutOfBoundsException("Out Of Bounds!");
        //}
    }
    // temp should now be the element just before the index at which to insert.
    // I'd do a temp.insertAfter( o );

    /* DO YOUR ADDING HERE*/
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:03:05.600

您知道容器的最大大小并且您自己管理插入，我建议使用 T[] 代替 Vector。您可能会期待更好的性能（无锁）和更明确的错误。

在下面的代码示例中，将 Object 替换为参数化参数 T

[http://fr.scribd.com/doc/81926911/37/The-Circular-Linked-List](http://fr.scribd.com/doc/81926911/37/The-Circular-Linked-List)

# wpf - 数据网格为空时显示消息

> ID：12794365
> 
> 赞同：0
> 
> 时间：2012-10-09T06:52:50.213
> 
> 标签：wpf, xaml, datatrigger, xceed-datagrid, xceed

当数据网格中没有显示项目时，我想在数据网格中显示一条简单的消息。现在我有以下 XAML 代码：

```
 <xcdg:DataGridControl x:Name="lsvSleutels"
                          ItemsSourceName="Registratiesleutels"
                          ItemsSource="{Binding Source={StaticResource DataViewSource}}"
                          Style="{StaticResource SmbDataGridControlStyle}"
                          IsRefreshCommandEnabled="False"
                          rf:XceedGridService.SettingsKeyName="RegistratieSleutelOverzichtGridKey"
                          rf:XceedGridService.IsGroupingEnabled="True"
                          rf:XceedGridService.ItemContextMenu="{StaticResource ItemContextMenu}"
                          rf:XceedGridService.ItemsContextMenu="{StaticResource ItemsContextMenu}"
                          rf:XceedGridService.GroupBarVisibility="Collapsed"
                          rf:XceedGridService.LoadUserSettings="True"  >
          *columns and stuff*
    </xcdg:DataGridControl>

        <TextBlock x:Name="txtNoDataFound"
                   FontSize="18"
                   Foreground="Blue"
                   Text="No items found"
                   Margin="10,25,20,10"
                   VerticalAlignment="Top"
                   HorizontalAlignment="Center"
                   Visibility="Hidden">
            <TextBlock.Style>
                <Style TargetType="{x:Type TextBlock}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding ElementName=lsvSleutels, Path=Items.Count}"
                                     Value="0">
                            <Setter Property="Visibility"
                                    Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock> 
```

但是该消息未显示。我的第一个猜测是 DataTrigger 有问题，但我不知道是什么。有任何想法吗？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-03T17:17:19.157

在 XAML 中添加 InvertBoolToVisibility 转换器：

```
 <utils:InvertBoolToVisibilityConverter x:Key="BoolToVisibility" /> 
```

在 C# 中：

```
 public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        var hasItems = (bool) value;

        return hasItems ? Visibility.Collapsed : Visibility.Visible;
    } 
```

向 ControlTemplate 添加行：

```
<Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type DataGrid}">
                    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="True">
                        <ScrollViewer x:Name="DG_ScrollViewer" Focusable="false">
                            <ScrollViewer.Template>
                                <ControlTemplate TargetType="{x:Type ScrollViewer}">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <Button Command="{x:Static DataGrid.SelectAllCommand}" Focusable="false" Style="{DynamicResource {ComponentResourceKey ResourceId=DataGridSelectAllButtonStyle, TypeInTargetAssembly={x:Type DataGrid}}}" Visibility="{Binding HeadersVisibility, ConverterParameter={x:Static DataGridHeadersVisibility.All}, Converter={x:Static DataGrid.HeadersVisibilityConverter}, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}" Width="{Binding CellsPanelHorizontalOffset, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"/>
                                        <DataGridColumnHeadersPresenter x:Name="PART_ColumnHeadersPresenter" Grid.Column="1" Visibility="{Binding HeadersVisibility, ConverterParameter={x:Static DataGridHeadersVisibility.Column}, Converter={x:Static DataGrid.HeadersVisibilityConverter}, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"/>
                                        <ScrollContentPresenter x:Name="PART_ScrollContentPresenter" CanContentScroll="{TemplateBinding CanContentScroll}" Grid.ColumnSpan="2" Grid.Row="1"/>
                                        <ScrollBar x:Name="PART_VerticalScrollBar" Grid.Column="2" Maximum="{TemplateBinding ScrollableHeight}" Orientation="Vertical" Grid.Row="1" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" ViewportSize="{TemplateBinding ViewportHeight}"/>
                                        <Grid Grid.Column="1" Grid.Row="2">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="{Binding NonFrozenColumnsViewportHorizontalOffset, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <ScrollBar x:Name="PART_HorizontalScrollBar" Grid.Column="1" Maximum="{TemplateBinding ScrollableWidth}" Orientation="Horizontal" Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}" Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" ViewportSize="{TemplateBinding ViewportWidth}"/>                                            
                                        </Grid>
                                        <!--<TextBlock Grid.ColumnSpan="2" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="#FFD9DEE3" Text="No Data Shown" Visibility="{Binding HasItems, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}, Converter={StaticResource BoolToVisibility}}" />-->
                                    </Grid>
                                </ControlTemplate>
                            </ScrollViewer.Template>
                            <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T09:20:21.320

下面是一个带有列表框控件的示例代码：

```
 <ListBox x:Name="lsvSleutels">
                <ListBoxItem>asdasdasd</ListBoxItem>
                <ListBoxItem>asdasdasd</ListBoxItem>
                <ListBoxItem>asdasdasd</ListBoxItem>
                <ListBoxItem>asdasdasd</ListBoxItem>
                <ListBoxItem>asdasdasd</ListBoxItem>
                <ListBoxItem>asdasdasd</ListBoxItem>
                <ListBoxItem>asdasdasd</ListBoxItem>
                <ListBox.Style>
                    <Style TargetType="{x:Type ListBox}">
                        <Style.Setters>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListBox">
                                        <Grid>
                                            <ItemsPresenter/>
                                            <TextBlock x:Name="txtNoDataFound"
                                                   FontSize="18"
                                                   Foreground="Blue"
                                                   Text="No items found"
                                                   Margin="10,25,20,10"
                                                   VerticalAlignment="Top"
                                                   HorizontalAlignment="Center"
                                                   Visibility="Hidden">

                                            </TextBlock>
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                            <DataTrigger Binding="{Binding Path=Items.Count, RelativeSource={RelativeSource Self}}" Value="0">
                                                <Setter TargetName="txtNoDataFound" Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style.Setters>
                    </Style>
                </ListBox.Style>
            </ListBox> 
```

希望这对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-16T13:18:14.147

发生这种情况是因为 WPF 属性层次结构的工作方式。在根级别设置的属性不能被样式覆盖。

您需要从文本框声明中取出 visibility="Hidden" 属性，并将其移动到样式中的设置器中。

像这样：

```
<TextBlock x:Name="txtNoDataFound"
               FontSize="18"
               Foreground="Blue"
               Text="No items found"
               Margin="10,25,20,10"
               VerticalAlignment="Top"
               HorizontalAlignment="Center">
        <TextBlock.Style>
            <Style TargetType="{x:Type TextBlock}">
                <Setter Property="Visibility" Value="Hidden" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding ElementName=lsvSleutels, Path=Items.Count}"
                                 Value="0">
                        <Setter Property="Visibility"
                                Value="Visible"/>
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </TextBlock.Style>
    </TextBlock>a 
```

# sql - SQL Server 删除 nowait 不起作用

> ID：12794366
> 
> 赞同：3
> 
> 时间：2012-10-09T06:52:50.403
> 
> 标签：sql, sql-server, transactions

我有 3 张桌子：

架构： ![在此处输入图像描述](../Images/f353fefbc5c393826173ae58041a758b.png)

例如，我有如下数据：

```
1> select id, iddep, idservice from transactions where id = 22
2> go
 id          iddep       idservice
 ----------- ----------- -----------
          22           6          12 
```

我运行以下查询，结果是可预测的：

首次连接查询：

```
1> begin tran
2> go
1> select id from transactions with (updlock) where id = 22
2> go
 id
 -----------
          22 
```

第二次连接查询：

```
1> begin tran
2> go
1> delete from transactions with (nowait) where id = 22
2> go
SQL Server Error: 1222 Lock request time out period exceeded 
```

这是 NOWAIT 提示的正常行为，[此处描述的内容](http://msdn.microsoft.com/en-us/library/ms187373.aspx)

但！如果我做以下查询，结果很奇怪！

第一个连接查询与第一个示例中的相同：

```
1> begin tran
2> go
1> select id from transactions with (updlock) where id = 22
2> go
 id
 -----------
          22 
```

第二次连接查询：

```
1> begin tran
2> go
1> delete from services with (nowait) where id = 12
2> go 
```

我只是尝试删除父行并且..没有任何反应！`nowait`尽管有提示，它只是等待行释放。当我释放该行时，父行将被删除。

那么，为什么我不像第一个示例那样只收到 1222 错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:17:55.107

它就在您链接到的页面中，但可能并不明显。[`NOWAIT`](http://msdn.microsoft.com/en-us/library/ms187373.aspx)：

> **指示数据库引擎在表**上遇到锁时立即返回一条消息。`NOWAIT`相当于`SET LOCK_TIMEOUT 0`为特定表指定。

**强调添加**

在您问题的最后一种情况下，`DELETE`不等待锁定`services`（**表**） - 它正在等待锁定，`transactions`以便它可以验证不会违反外键约束。

同样的引用指出了解决它的方法：[`SET LOCK_TIMEOUT 0`](http://msdn.microsoft.com/en-us/library/ms189470.aspx)在你的第二个连接上指定，它不会等待*任何*表上的锁。

# python - 带有 for 循环和列表的 Python 语法，导出到文本文件

> ID：12794371
> 
> 赞同：-1
> 
> 时间：2012-10-09T06:53:00.633
> 
> 标签：python, for-loop, append

> **可能重复：**
> [加入列表与 python 具有整数值](https://stackoverflow.com/questions/3590165/joining-list-has-integer-values-with-python)

我在 python 中遇到了 for 循环和列表的语法问题。我正在尝试导出已导出到以空格分隔的文本文件的数字列表。

示例：文本文件中应该包含什么 **0 5 10 15 20**

我正在使用的代码如下，任何想法如何解决这个问题。

```
f = open("test.txt", "w")
mylist=[]
for i in range(0,20+1, 5):      
    mylist.append(i)
    f.writelines(mylist)

f.close() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T07:00:27.703

如果你想用来`range()`生成你的数字列表，那么你可以使用这个：

```
mylist = map(str, range(0, 20 + 1, 5))
with open("test.txt", "w") as f:
    f.writelines(' '.join(mylist)) 
```

`map(str, iterable)`将应用于`str()`此可迭代对象中的所有元素。

[`with`](http://docs.python.org/reference/compound_stmts.html#the-with-statement)用于使用[上下文管理器](http://docs.python.org/reference/datamodel.html#context-managers)定义的方法包装块的执行 这允许封装常见的`try...except...finally`使用模式以方便重用。在这种情况下，它会*一直*关闭`f`。使用它而不是手动调用是一个好习惯`f.close()`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-09T06:55:14.807

试试这个：

```
mylist = range(0,20+1,5)
f = open("test.txt", "w")
f.writelines(' '.join(map(str, mylist)))
f.close() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:08:21.450

您必须将整数列表转换为字符串*map()*上的列表以使其可连接。

```
mylist = range(0,20+1,5)
f = open("test.txt", "w")
f.writelines(' '.join(map(str, mylist)))
f.close() 
```

另见[Joining List has Integer values with python](https://stackoverflow.com/questions/3590165/joining-list-has-integer-values-with-python)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:01:30.423

```
>>> with open('test.txt', 'w') as f:
...     f.write(' '.join((str(n) for n in xrange(0, 21, 5)))) 
```

# java - 如何在java中打印带有换行符的字符串

> ID：12794382
> 
> 赞同：9
> 
> 时间：2012-10-09T06:53:36.097
> 
> 标签：java, printing

我需要使用 java 打印一个字符串，所以在搜索了很多之后，我喜欢以下解决方案。我做了一些更改来打印字符串而不显示打印对话框。我的问题是，尽管此方法正确打印了字符串，但它并没有像我定义的那样中断行。请告诉我如何打印带有换行符的字符串。

```
public class PrintBill implements Printable {

    private static final String mText = "SHOP MA\n"
            + "----------------------------\n"
            + "Pannampitiya\n"
            + "09-10-2012 harsha  no: 001\n"
            + "No  Item  Qty  Price  Amount\n"
            + "1 Bread 1 50.00  50.00\n"
            + "____________________________\n";

    private static final AttributedString mStyledText = new AttributedString(mText);

    static public void main(String args[]) throws PrinterException {
        PrinterService ps = new PrinterService();
        PrintService pss = ps.getCheckPrintService("Samsung-ML-2850D-2");//get the printer service by printer name

        PrinterJob printerJob = PrinterJob.getPrinterJob();
        printerJob.setPrintService(pss);

        Book book = new Book();
        book.append(new PrintBill(), new PageFormat());       

        printerJob.setPageable(book);

        try {
            printerJob.print();
            System.out.println(printerJob.getPrintService().getName());
            System.out.println("Print compleated..");
        } catch (PrinterException exception) {
            System.err.println("Printing error: " + exception);
            exception.printStackTrace();
        }

    @Override
    public int print(Graphics g, PageFormat format, int pageIndex) {
        Graphics2D g2d = (Graphics2D) g;

        g2d.translate(format.getImageableX(), format.getImageableY());

        g2d.setPaint(Color.black);        

        Point2D.Float pen = new Point2D.Float();
        AttributedCharacterIterator charIterator = mStyledText.getIterator();
        LineBreakMeasurer measurer = new LineBreakMeasurer(charIterator, g2d.getFontRenderContext());
        float wrappingWidth = (float) format.getImageableWidth();

        while (measurer.getPosition() < charIterator.getEndIndex()) {
            TextLayout layout = measurer.nextLayout(wrappingWidth);
            pen.y += layout.getAscent();
            float dx = layout.isLeftToRight() ? 0 : (wrappingWidth - layout.getAdvance());
            layout.draw(g2d, pen.x + dx, pen.y);
            pen.y += layout.getDescent() + layout.getLeading();

        }
        return Printable.PAGE_EXISTS;
    }
} 
```

打印机服务提供类

```
public class PrinterService {

    public PrintService getCheckPrintService(String printerName) {
        PrintService ps = null;
        DocFlavor doc_flavor = DocFlavor.STRING.TEXT_PLAIN;
        PrintRequestAttributeSet attr_set =
                new HashPrintRequestAttributeSet();

        attr_set.add(new Copies(1));
        attr_set.add(Sides.ONE_SIDED);
        PrintService[] service = PrintServiceLookup.lookupPrintServices(doc_flavor, attr_set);

        for (int i = 0; i < service.length; i++) {
            System.out.println(service[i].getName());
            if (service[i].getName().equals(printerName)) {
                ps = service[i];
            }
        }
        return ps;
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-09T06:58:05.770

这样做： -

```
String newline = System.getProperty("line.separator");

private static final String mText = "SHOP MA" + newline +
        + "----------------------------" + newline +
        + "Pannampitiya" + newline +
        + "09-10-2012 harsha  no: 001" + newline +
        + "No  Item  Qty  Price  Amount" + newline +
        + "1 Bread 1 50.00  50.00" + newline +
        + "____________________________" + newline; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-15T04:54:18.023

好的，最后我为我的账单打印任务找到了一个很好的解决方案，它对我来说工作正常。

该类提供打印服务

```
public class PrinterService {

    public PrintService getCheckPrintService(String printerName) {
        PrintService ps = null;
        DocFlavor doc_flavor = DocFlavor.STRING.TEXT_PLAIN;
        PrintRequestAttributeSet attr_set =
                new HashPrintRequestAttributeSet();

        attr_set.add(new Copies(1));           
        attr_set.add(Sides.ONE_SIDED);
        PrintService[] service = PrintServiceLookup.lookupPrintServices(doc_flavor, attr_set);

        for (int i = 0; i < service.length; i++) {
            System.out.println(service[i].getName());
            if (service[i].getName().equals(printerName)) {
                ps = service[i];
            }
        }
        return ps;
    }
} 
```

这个类演示票据打印任务，

```
public class HelloWorldPrinter implements Printable {

    @Override
    public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {
        if (pageIndex > 0) { /* We have only one page, and 'page' is zero-based */
            return NO_SUCH_PAGE;
        }

        Graphics2D g2d = (Graphics2D) graphics;
        g2d.translate(pageFormat.getImageableX(), pageFormat.getImageableY());

        //the String to print in multiple lines
        //writing a semicolon (;) at the end of each sentence
        String mText = "SHOP MA;"
                + "Pannampitiya;"
                + "----------------------------;"
                + "09-10-2012 harsha  no: 001 ;"
                + "No  Item  Qty  Price  Amount ;"
                + "----------------------------;"
                + "1 Bread 1 50.00  50.00 ;"
                + "----------------------------;";

        //Prepare the rendering
        //split the String by the semicolon character
        String[] bill = mText.split(";");
        int y = 15;
        Font f = new Font(Font.SANS_SERIF, Font.PLAIN, 8);
        graphics.setFont(f);
        //draw each String in a separate line
        for (int i = 0; i < bill.length; i++) {
            graphics.drawString(bill[i], 5, y);
            y = y + 15;
        }

        /* tell the caller that this page is part of the printed document */
        return PAGE_EXISTS;
    }

    public void pp() throws PrinterException {
        PrinterService ps = new PrinterService();
        //get the printer service by printer name
        PrintService pss = ps.getCheckPrintService("Deskjet-1000-J110-series-2");

        PrinterJob job = PrinterJob.getPrinterJob();
        job.setPrintService(pss);
        job.setPrintable(this);

        try {
            job.print();
        } catch (PrinterException ex) {
            ex.printStackTrace();
        }

    }

    public static void main(String[] args) {
        HelloWorldPrinter hwp = new HelloWorldPrinter();
        try {
            hwp.pp();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-12-11T10:39:44.773

```
String newline = System.getProperty("line.separator");
System.out.println("First line" + newline);
System.out.println("Second line" + newline);
System.out.println("Third line"); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-09-05T03:41:15.800

```
private static final String mText = "SHOP MA" + "\n" +
        + "----------------------------" + "\n" +
        + "Pannampitiya" + newline +
        + "09-10-2012 harsha  no: 001" + "\n" +
        + "No  Item  Qty  Price  Amount" + "\n" +
        + "1 Bread 1 50.00  50.00" + "\n" +
        + "____________________________" + "\n"; 
```

这应该有效。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T08:07:28.473

您可以尝试使用`StringBuilder`：-

```
 final StringBuilder sb = new StringBuilder();

    sb.append("SHOP MA\n");
    sb.append("----------------------------\n");
    sb.append("Pannampitiya\n");
    sb.append("09-10-2012 harsha  no: 001\n");
    sb.append("No  Item  Qty  Price  Amount\n");
    sb.append("1 Bread 1 50.00  50.00\n");
    sb.append("____________________________\n");

    // To use StringBuilder as String.. Use `toString()` method..
    System.out.println(sb.toString()); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-12T12:30:45.597

我认为你把它弄得太复杂了。当您想要存储属性时使用 AttributedString - 在打印上下文中。但是您正在其中存储数据。[属性字符串](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/AttributedString.html)

简单地说，将您的数据存储到 Document 对象中，并在 AttributedString 中传递 Font、Bold、Italic 等属性。

希望这会有所帮助 [快速教程](http://kalanir.blogspot.in/2010/10/how-to-print-from-java-jps-javaxprint.html)和 [深入教程](http://www.javaworld.com/community/node/7635)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-07-06T14:21:37.017

在字符串之间添加 /r/n 为我解决了这个问题。试试看。粘贴时不要包含用于排除的“//”。

例如：选项01\r\n选项02\r\n选项03

这将输出为
Option01
Option02
Option03

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-10-09T07:30:26.830

使用字符串缓冲区。

```
 final StringBuffer mText = new StringBuffer("SHOP MA\n"
        + "----------------------------\n"
        + "Pannampitiya\n"
        + "09-10-2012 harsha  no: 001\n"
        + "No  Item  Qty  Price  Amount\n"
        + "1 Bread 1 50.00  50.00\n"
        + "____________________________\n"); 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2018-04-08T17:16:56.610

```
package test2;

public class main {

    public static void main(String[] args) {
        vehical vehical1 = new vehical("civic", "black","2012");
        System.out.println(vehical1.name+"\n"+vehical1.colour+"\n"+vehical1.model);
    }
} 
```

# iphone - iPhone 不通过 UIWebView 播放高清视频，而 iPad 可以

> ID：12794383
> 
> 赞同：0
> 
> 时间：2012-10-09T06:53:43.353
> 
> 标签：iphone, ipad, uiwebview, html5-video

我尝试使用此代码播放视频：

```
 CGRect frame = CGRectMake(0, 0, 300, 160);

    NSString *embedHTML = @"<html><head>\
                            <body>\
                            <video src=\"http://cs13006.userapi.com/u57385256/video/c27ebefdeb.360.mp4\" controls</video>\
                            </body></html>";

    UIWebView *videoView = [[UIWebView alloc] initWithFrame:frame];

    [videoView loadHTMLString:embedHTML baseURL:nil];
    [self.view addSubview:videoView]; 
```

它就像魅力一样，但如果我将 src 更改为

[http://cs13006.userapi.com/u57385256/video/c27ebefdeb.480.mp4](http://cs13006.userapi.com/u57385256/video/c27ebefdeb.480.mp4) (480p)

或者

[http://cs13006.userapi.com/u57385256/video/c27ebefdeb.720.mp4](http://cs13006.userapi.com/u57385256/video/c27ebefdeb.720.mp4) (720p)

它停止在 iPhone 上运行，但仍在 iPad 上运行。

或者它可能只是模拟器错误，它可以在设备上运行？（我没有 iPhone 可以测试它）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-08T05:25:47.223

它已在较新版本的 iOS 中得到修复。现在这段代码工作正常。

# android - 使用 IntelliJ 为 ViewPagerIndicator 编译示例

> ID：12794384
> 
> 赞同：2
> 
> 时间：2012-10-09T06:53:54.523
> 
> 标签：android, intellij-idea, actionbarsherlock, viewpagerindicator

我正在尝试使用 IntelliJ 为 ViewPagerIndicator 构建示例。

我得到的当前错误是这样的（我得到了一堆）：

```
[Sample] ~/projects/ViewPagerIndicator-2.4.1-0/sample/res/values/styles.xml:19: error: Error: No resource found that matches the given name: attr 'vpiCirclePageIndicatorStyle'. 
```

到目前为止我做了什么：

1.  我使用现有的示例源创建了一个新项目
2.  然后我进入项目结构，从现有源中添加新模块，用于 ActionBarSherlock 和 ViewPagerIndicator 浏览到“库”文件夹
3.  项目清单
4.  我使 ActionBarSherlock 模块成为 ViewPagerIndicator 的依赖项
5.  我将 ActionBarSherlock 模块和 ViewPagerIndicator 都设置为“samples”模块的依赖项

他们都使用Android 4.1 Platform SDK。我没有对源代码进行任何更改。

编辑：根据要求，示例的 styles.xml 和 AndroidManifest.xml 发布在此处： http: [//pastebin.com/YQxYy3md](http://pastebin.com/YQxYy3md)

同样，我没有做任何修改，原始源代码可在 ViewPagerIndicator 网站上访问

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T09:11:17.970

实际上在另一个问题中找到了解决方案：[https ://stackoverflow.com/a/10627940/347565](https://stackoverflow.com/a/10627940/347565)

我缺少的是检查项目结构中的“是一个库项目”... -> 模块 -> ViewPagerIndicator -> Android

我想这是允许依赖于该库的项目使用资源和属性的部分......

**编辑**：为确保我捕获所有详细信息，依赖项设置如下：

*   *ActionBarSherlock*依赖于 android-support-v4.jar （这个被设置为导出）
*   *ViewPagerIndicator*依赖于 ActionBarSherlock
*   *示例*（用于 ViewPagerIndicator）依赖于 ActionBarSherlock 和 ViewPagerIndicator

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T08:15:02.780

复制任何资源：

`/library/src/com/viewpagerindicator` 进入`/sample/src/com/viewpagerindicator`

`/library/res/color` 进入 `/sample/res/`

`/library/res/drawable/vpi__tab_indicator.xml`进入`/sample/res/drawable/`

`/library/res/drawable-hdpi` 进入`/sample/res/drawable-hdpi`

`/library/res/values/` 进入 `/sample/res/values`

我使用这个[源代码](https://github.com/JakeWharton/Android-ViewPagerIndicator/tarball/master)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-12T19:35:21.060

同时导入示例项目附带的库项目。它会修复它

# php - cakephp 使相同的查询递归

> ID：12794386
> 
> 赞同：0
> 
> 时间：2012-10-09T06:54:02.930
> 
> 标签：php, cakephp, cakephp-2.0, cakephp-model

我有一个用 cakephp 2.0 开发的网站。我有一个与 hasMany 属性相关的表“产品”，以及与产品相关的 HABTM。一个产品可以包含许多产品，而该产品可以包含许多产品。我可以拥有多个级别的产品。为了建立这种关系，我使用了这个模型（解释为这个问题：[cakephp HABTM same model](https://stackoverflow.com/questions/12773185/cakephp-habtm-to-the-same-model)）：

```
class Product extends AppModel {
    public $name = 'Product';
    public $useTable = 'products';
    public $belongsTo = 'User';
    public $actsAs = array('Containable');

        public $hasAndBelongsToMany = array(
        'Ingredient' => array(
            'className' => 'Product',
            'joinTable' => 'ingredients_products',
            'foreignKey' => 'product_id',
            'associationForeignKey' => 'ingredient_id', 
            'unique' => true
        )
    );

} 
```

我知道如何检索产品示例：我有一个包含其他产品的产品，我使用条件进行查找，并使用它们的属性检索所有数据，如下所示：

```
$this->set('product',$this->Product->find('all', array(
                    'contain' => array(
                            'Property',
                            'IngredientProduct'
                        ),
                    'conditions' => array('id' => $id)  
                ))); 
```

（只是一个例子我不知道的查询是否好取决于许多事情只是一个例子）

但是，如果我在我的产品中找到 3/4 产品，并且如果找到的产品包含其他产品，我该怎么做？因为我不知道我有多少“级别”，所以我可以拥有 1 级或 6 级的产品。一个产品包含许多产品，这个找到的产品包含其他产品等等。我怎样才能做到这一点并为每个产品检索其属性？这是一个递归查询，但问题是我不知道我有多少级别。一些想法？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T12:20:54.657

Containable 不会遍历那么深。我建议您手动解除关联并加入表格。看看[这里](https://stackoverflow.com/questions/3470182/how-to-change-the-sequence-of-joins-in-cakephp)以查看示例和[本](http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#joining-tables)食谱章节（您需要了解您的情况下的 SQL）。或者您可以按照 Dave 的建议使用[TreeBehavior 。](http://book.cakephp.org/2.0/en/core-libraries/behaviors/tree.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:27:22.130

也许您可以/应该使用类似的东西-所有产品都在“产品”表中，然后您有一个保留整个产品层次结构的树表？

# assembly - 通过移位以二进制显示数字

> ID：12794387
> 
> 赞同：-1
> 
> 时间：2012-10-09T06:54:10.593
> 
> 标签：assembly, mips, bit-shift, pcspim

我制作了一个程序，尝试显示用户输入的数字的二进制形式。但是程序没有正确地进行掩蔽。我应该怎么做才能解决它？

$s0 中的用户输入

```
Loop:

and $t0,$s0,2147483648  // anding it with this number because only its MSB is 1 all other bits are zero

sll $s0,$s0,1

move $a0,$t0

li $v0,1
syscall

beq $t1,31,Exit

addi $t1,$t1,1
j Loop 
```

**更新：** 我按照 dbrank0 的建议修改了这段代码，但现在它只显示一位而不是 32 位

```
Loop:

and $t0,$s0,2147483648

sll $s0,$s0,1

beq $t1,31,Exit

move $a0,$t0

addi $t1,$t1,1

bgtu $t0,0,Check

li $t0,0
j Loop

Disp:
li $v0,1
syscall

j Loop

Check:
li $t0,1

j Disp 
```

如果有人可以帮助我解决这个问题，那将是一件好事。

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T17:30:21.537

这里有一个问题：

```
bgtu  $t0, 0, Check
li    $t0, 0
j     Loop 
```

如果它是零，则不会显示，因为您要跳转到`Loop`而不是`Disp`. 哦，看，`Disp`反正是在这个指令之后立即写的！解决方案：完全摆脱跳跃。

这是另一个问题，如 dbrank0 所述：

```
Disp:
li $v0,1
syscall 
```

这会将 的内容显示`$a0`为整数。但如果该位为 1，则值为`$a0`0x80000000，而不是 1！当您尝试打印 0x80000000 时，它会将其视为有符号整数并改为打印 -2147483648。

这是另一个问题：

```
beq $t1,31,Exit 
```

首先，这个指令是在一个尴尬的地方。`and`为什么要在and之后检查退出条件`shift`？您应该在开始或结束时检查它，而不是在中间。此外，您需要检查 32，因为有 32 位，并且您在打印每个位之前进行检查。目前，最后一位将因此被砍掉。

* * *

有一个聪明的方法可以让你的程序做的工作比它需要的少。利用您从左到右显示的事实（即首先显示最高有效位）。当设置了 MSB 时，可以将其视为二进制补码中的负数！

```
li     $t0, 32
li     $v0, 1

Loop:
bltz   $s0, Bit1
li     $a0, 0
j      Disp

Bit1:
li     $a0, 1

Disp:
syscall

Tail:
subi   $t0, $t0, 1
beqz   $t0, Exit
sll    $s0, $s0, 1
j      Loop

Exit: 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-04T21:14:33.040

给定一个指向 中足够大的缓冲区末尾的指针`$a1`和 中的输入整数`$a0`，此函数存储 ASCII 数字以形成字符串。

这使用 AND 来提取低位。它从低位到高位工作，所以我们从缓冲区的末尾向后存储，留下一个 ASCII 字符串以打印顺序。

```
.globl to_base2_end    # args: (unsigned a, char *buf_end)
to_base2_end:

  # Runs at least once, so we get "0" instead of the empty string for 0
.loop:                           # do {
    andi  $t0,  $a0, 1           #    extract the low bit
    ori   $t0,  $t0, '0'         #    ASCII digit

    addiu $a1,  $a1, -1
    sb    $t0,  ($a1)            #    *--buf = ASCII digit

    srl   $a0,  $a0, 1           #    a0 >>= 1
    bne   $a0, $zero,  .loop     # }while (a0!=0);

    move  $v0, $a1           # return pointer to the first digit
    jr   $ra 
```

请注意，这在第一次存储之前递减，因此您可以将指针传递给`'\n'`缓冲区末尾的 a 。

您当然可以内联此循环，而不是将其用作可调用函数。它在整数为零时停止，而不是循环固定 32 次，因此它不会打印前导零。

该算法是基本的 base2 特例
`do { digit = a % base; } while(a /= base);`。

如果您要按生成的顺序打印数字，您可以使用

```
 slt   $t0,  $a0, $zero       #    t0 = 0 or 1 = high bit of a0
    sll   $a0,  $a0, 1 
```

这将为您提供@JeffE 代码的无分支版本。但是，如果您关心效率，写入整个字符串的一个系统调用比写入 32 个整数的 32 个系统调用要高效得多。（当然，真正的操作系统没有 write-int 系统调用；那是 Mars/SPIM 的事情。）

# eclipse-rap - 可以通过 URL 将命令行参数传递给 RAP-Application

> ID：12794388
> 
> 赞同：2
> 
> 时间：2012-10-09T06:54:16.450
> 
> 标签：eclipse-rap

是否可以通过 URL 将命令行参数传递给 RAP-Application？我正在使用 RAP 1.4。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:59:24.260

我找到了解决方法。首先我阅读了请求参数：

```
RWT.getRequest().getParameterMap(); 
```

其次，我阅读了命令行参数以获取在 web.xml 中输入的默认值：

```
Platform.getCommandLineArgs(); 
```

最后，我将它们与 http 参数合并为前导参数。

# c# - 如何在不单击保存按钮的情况下将图像上传到页面，同时避免在 asp.net 中刷新

> ID：12794389
> 
> 赞同：0
> 
> 时间：2012-10-09T06:54:19.563
> 
> 标签：c#, asp.net

实际上，我正在使用控件来上传两个图像，但我想通过单击浏览按钮而不单击保存按钮来更改图像我希望浏览的图像稳定，但是在选择任何下拉方式时它会消失，而页面刷新它会消失？我正在使用以下代码：

```
<input type="file" id="files" name="files[]" multiple />
<output id="list"></output>
        <!-- Place updatable markup and controls here. -->
<script>
    function handleFileSelect(evt) {
        var files = evt.target.files; // FileList object

        // Loop through the FileList and render image files as thumbnails.
        for (var i = 0, f; f = files[i]; i++) {

            // Only process image files.
            if (!f.type.match('image.*')) {
                continue;
            }

            var reader = new FileReader();

            // Closure to capture the file information.
            reader.onload = (function (theFile) {
                return function (e) {
                    // Render thumbnail.
                    var span = document.createElement('span');
                    span.innerHTML = ['<img class="thumb" src="', e.target.result,
                            '" title="', escape(theFile.name), '"/>'].join('');
                    document.getElementById('list').insertBefore(span, null);
                };
            })(f);

            // Read in the image file as a data URL.
            reader.readAsDataURL(f);
        }
    }

    document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script> 
```

# javascript - Nodejs交互式控制台和文件执行运行时的'this'有什么区别？

> ID：12794390
> 
> 赞同：1
> 
> 时间：2012-10-09T06:54:23.743
> 
> 标签：javascript, node.js

在交互式 nodejs 控制台中：

```
> var a = 1;
> console.log(a);
1
> console.log(this.a);
1 
```

所以我认为

```
a === this.a 
```

但是当我将它保存在一个 JS 文件中并执行它时，我得到了不同的响应：

```
1 
undefined 
```

为什么`this.a`现在是未定义的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:23:21.227

当您从控制台执行节点时，“this”指的是控制台的全局范围。所以'a'会自动添加到全局中，就像在浏览器中以类似的方式声明一个变量会将'a'添加到window，即window.a

从脚本执行时，“this”是一个对象。变量不会以相同的方式添加到全局范围。为什么，我不知道。但这似乎正在发生。

# .htaccess - .htacces 重写 url 不起作用

> ID：12794391
> 
> 赞同：0
> 
> 时间：2012-10-09T06:54:24.477
> 
> 标签：.htaccess, mod-rewrite, url-rewriting

我已经搜索了 2 天，还没有找到解决这个问题的完整方法。

我的目录（在本地主机上）：
root
- fons（这是我的**htaccess**文件所在的位置）
- - 函数（一些函数）
- - web (index.php)
- - docs (index.php)
- - user (index.php)

当我去 localhost/fons/ 时，我想看到 web 地图的内容，但 url 应该保持 localhost/fons。如果我去 localhost/fons/docs/ 然后我会看到文档内容和 localhost/fons/user/ -> 用户内容

我写的.htaccess：

```
RewriteEngine on
RewriteCond %{REQUEST_URI} !^/(fons/user|fons/docs)
RewriteRule ^$ /fons/web 
```

当我转到 localhost/fons/ 时，有了这个 htaccess，我被重定向到 web-subfolder 并且 url 发生了变化。

我必须更改什么以使 url 保持不变，但我看到了 web 文件夹的内容？

如果可能的话，有没有办法在 htaccess 中抛弃“fons”，所以将来当我创建另一个具有相同结构的项目时，我可以复制粘贴 htaccess 而不需要更改它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:57:23.497

您应该能够使用 RewriteBase 来消除 /fons ，如下所示：

```
RewriteEngine on
RewriteBase /fons
RewriteCond %{REQUEST_URI} !^/(user|docs)
RewriteRule ^$ /web [NC] 
```

同样根据经验，除非您设置了 [R] 标志，否则重写器实际上不应转发到浏览器 url 栏中的新 url。我添加了 [NC]（不区分大小写标志）以明确声明没有 [R] 标志。如果它正在这样做，您能否提供一个链接以进一步测试？

# mysql - 没有 WHERE 子句的 MySQL LEFT JOIN 不返回空行

> ID：12794392
> 
> 赞同：0
> 
> 时间：2012-10-09T06:54:27.160
> 
> 标签：mysql, row, left-join

编辑：这是我的桌子：

```
CREATE TABLE IF NOT EXISTS `punch` (
  `name` varchar(50) NOT NULL,
  `date` varchar(50) NOT NULL,
  `duration` int(11) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

INSERT INTO `punch` (`name`, `date`, `duration`) VALUES
('foo', '1', 2),
('bar', '1', 3),
('bar', '2', 5),
('foo', '3', 6),
('foo', '4', 8),
('bar', '4', 9); 
```

我有以下值的表：

```
SELECT * FROM `punch` P1 WHERE P1.date BETWEEN 1 AND 3 ORDER BY P1.name , date; 
```

结果：

```
name    date    duration
bar        1    3
bar        2    5
foo        1    2
foo        3    6 
```

我想像这样对日期 1 到 3 进行报告：

```
name    date    duration
bar        1    3
bar        2    5
bar        3    null
foo        1    2
foo        2    null
foo        3    6 
```

我尝试了这个查询（注意注释的 WHERE）：

```
SELECT * FROM (
    SELECT DISTINCT date FROM punch WHERE date BETWEEN 1 AND 3
) P1
LEFT JOIN (
    SELECT * FROM punch -- WHERE name = 'bar'
) P2 ON P1.date=P2.date

ORDER BY P2.name, P1.date 
```

我得到了结果：

```
date    name    date    duration
1       bar     1       3
2       bar     2       5
1       foo     1       2
3       foo     3       6 
```

我期待类似的东西：

```
date    name    date    duration
2       NULL    NULL    NULL
3       NULL    NULL    NULL
1       bar     1       3
2       bar     2       5
1       foo     1       2
3       foo     3       6 
```

现在，当我删除评论的 WHERE 时，我得到了结果：

```
date    name    date    duration
3       NULL    NULL    NULL
1       bar     1       3
2       bar     2       5 
```

我的问题是，为什么上面的 LEFT JOIN 在没有 WHERE 子句的情况下表现得像 INNER JOIN？

上面我预期的报告的正确查询是什么？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T13:28:53.360

嗨，这样的事情会起作用:)

```
 SELECT DISTINCT 
    P1.name, 
    P2.date,
    (SELECT PP.duration 
     FROM punch PP 
       WHERE P1.name = PP.name
         AND P2.date = PP.date ) AS duration
    FROM
      (SELECT DISTINCT name FROM  `punch`) P1,
      (SELECT DISTINCT date FROM punch)P2
        WHERE P2.date BETWEEN 1 AND 3
        ORDER BY P1.name , P2.date 
```

结果：

```
NAME    DATE    DURATION
bar        1    3
bar        2    5
bar        3    (null)
foo        1    2
foo        2    (null)
foo        3    6 
```

**[SQLFIDDLE 示例](http://sqlfiddle.com/#!2/c7ac9/12)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:36:46.480

尝试以下操作：

```
SELECT * FROM (
    SELECT DISTINCT date FROM punch WHERE date BETWEEN 1 AND 3
) P1
LEFT OUTER JOIN (
    SELECT * FROM punch  WHERE name = 'bar'
) P2 ON P1.date=P2.date 
```

一个`OUTER JOIN`应该回答你的问题。它包括第二个表中的不匹配元素。

在此处查看有关其工作原理的更多信息：http: [//infogoal.com/sql/sql-outer-join.htm](http://infogoal.com/sql/sql-outer-join.htm)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T08:54:59.847

创建带有天数的附加表并`punch`与该表连接表。

```
CREATE TABLE days(day_num INT(11));

INSERT INTO days(day_num) VALUES (1),(2),(3),(4),(5); 
```

如果需要，添加更多记录

* * *

结果查询——

```
SELECT p.* FROM days d
LEFT JOIN punch p
  ON p.date = d.day_num
WHERE
  d.day_num BETWEEN 1 AND 3
ORDER BY
  p.name, p.date; 
```

# c++ - 通过类构造函数初始化成员变量 STL 向量

> ID：12794397
> 
> 赞同：2
> 
> 时间：2012-10-09T06:54:43.127
> 
> 标签：c++, stl

我有以下似乎有效的代码：

```
class MapCell
{
    public:
    int x, y, z;
};

void Test3DVector(int size_x, int size_y, int size_z)
{
    vector< vector< vector<MapCell> > > m(size_x, vector<vector<MapCell>>(size_y, vector<MapCell>(size_z)));

    for (int x = 0; x < size_x; ++x)
    {
        for (int y = 0; y < size_y; ++y)
        {
            for (int z = 0; z < size_z; ++z)
            {
                m[x][y][z].x = x;
                m[x][y][z].y = y;
                m[x][y][z].z = z;
            }
        }
    }
} 
```

我想编写一个将 3D 向量作为成员变量的类，其尺寸在构造函数中设置，如下所示：

```
class MyClass
{
    public:
        vector< vector< vector<MapCell>>> m;    // I'm not sure how to write this
    MyClass::MyClass(int size_x, int size_y, int size_z)
    {
        // Do the same initialization as Test3DVector did.

    }
 }; 
```

这样我就可以做这样的事情：

```
void SomeFunction()
{
   MyClass grid(5, 5, 5);
   cout << grid->m[1][3][2].x << grid->m[1][3][2].y << grid->m[1][3][2].z << endl;
   // Should output 132
} 
```

做这个的最好方式是什么？当向量变得非常大时，为了获得最佳速度，我应该避免任何常见错误吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:57:33.417

**更新**了可变参数版本

## 1\. 简单、明确的代码

```
class MyClass {
public:
    vector<vector<vector<MapCell>>> m;
    MyClass(int size_x, int size_y, int size_z)
        : m(size_x,
            vector<vector<MapCell> >(
                size_y,
                vector<MapCell>(size_z)
            )
           ) {
    }
}; 
```

## 2.有帮手

```
class MyClass {
    vector<vector<vector<MapCell>>> m;
public:
    MyClass(int size_x, int size_y, int size_z)
        : m(Dim(size_z, Dim(size_y, Dim(size_x, MapCell())))) {
    }

private:
    template <typename T>
    static std::vector<T> Dim(size_t n, T&& v) {
        return std::vector<T>(n, std::move(v));
    }
}; 
```

## 3\. 使用可变参数助手

因为[*可变参数是函数式的！*](http://channel9.msdn.com/Events/GoingNative/GoingNative-2012/Variadic-Templates-are-Funadic)这是一个使用可变参数来制作东西的版本......更漂亮（取决于口味）：

```
struct MyClass
{
    vector<vector<vector<MapCell>>> m;
    MyClass(int size_x, int size_y, int size_z)
        : m(vec_matrix(MapCell(), size_z, size_y, size_x))
    { }

private:
    template <typename T> static std::vector<T> vec_matrix(T v, size_t n) {
        return { n, std::move(v) };
    }

    template <typename T, typename... Dim> static auto vec_matrix(T v, size_t n, Dim... other)
        -> std::vector<decltype(vec_matrix(v, other...))> {
        return { n, vec_matrix(v, other...) };
    }
}; 
```

**附言**。我稍微编辑了代码以更符合标准。[*模板和trailing-return-type*](http://en.wikipedia.org/wiki/C%2B%2B11#Alternative_function_syntax)存在一个微妙的问题，它指的是同名的重载。有关此处问题的详细说明，请参阅[聊天中的此讨论书签](https://chat.stackoverflow.com/rooms/10/conversation/latereturntype-and-variadics)

如果您的编译器不相信它应该工作，请**[在 gcc 4.7.2 上](http://liveworkspace.org/code/d72e6a6134dbfe5aebbc32bd06a685c0)**查看它。*它仅使用 boost 来格式化输出：*

```
. . . .
. . . .
. . . .
. . . .
. . . .
-------
. . . .
. . . .
. . . .
. . . .
. . . . 
```

* * *

避免链接腐烂的完整代码：

```
#include <iostream>
#include <vector>
#include <boost/spirit/include/karma.hpp> // for debug output only

using namespace std;

struct MapCell 
{
    friend std::ostream& operator <<(std::ostream& os, MapCell const&)
    { return os << "."; }
};

struct MyClass
{
    vector<vector<vector<MapCell>>> m;
    MyClass(int size_x, int size_y, int size_z)
        : m(vec_matrix(MapCell(), size_z, size_y, size_x))
    { }

private:
   ///////////////////////////////////////////////////
   // variadics are funadic!
   template <typename T> static std::vector<T> vec_matrix(T v, size_t n) 
   {
      return { n, std::move(v) };
   }

   template <typename T, typename... Dim> static auto vec_matrix(T v, size_t n, Dim... other)
      -> std::vector<decltype(vec_matrix(v, other...))> 
   {
      return { n, vec_matrix(v, other...) };
   }
   ////////////
};

int main()
{
    MyClass a(4,5,2);

    using namespace boost::spirit::karma;
    std::cout 
        << format(stream % ' ' % eol % "\n-------\n", a.m) 
        << std::endl;
} 
```

# django - 具有无效排序的 django 查询集不处理异常

> ID：12794401
> 
> 赞同：0
> 
> 时间：2012-10-09T06:54:54.663
> 
> 标签：django, django-queryset

虽然使用无效字段订购 django 查询集不会引发任何异常，但这是我的代码

```
try:
    object_list = Foo.objects.all().order_by('zz')#invalid
except:
    object_list = Foo.objects.all().order_by('-id')#valid 
```

但它不会阻止我如何解决请帮忙？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:11:41.477

I tryed your exemple. An invalid order_by raise:

```
FieldError: Cannot resolve keyword 'zz' into field. Choices are: [...] 
```

How do you see it doesn't go in your except block? if you are looking in database logs, nothing will be loaded until you evaluate your queryset.

# c# - 从其他线程更改按钮颜色

> ID：12794402
> 
> 赞同：3
> 
> 时间：2012-10-09T06:54:58.933
> 
> 标签：c#, multithreading

在我的 c# 程序中，我在主（UI）线程中创建了一堆按钮。然后我启动一个运行方法的计时器`Timeline()`。`Timeline()`现在我希望在方法运行时更改按钮的外观。但是我不允许访问这些对象，因为它们归主线程所有。我该如何解决这个问题？

错误：`The calling thread cannot access this object because a different thread owns it.`

我发现`Dispatcher disp = Dispatcher.CurrentDispatcher;`which 有一个`Invoke()`方法，但我不确定这是否是正确的方法，我无法让它工作。

这是我的代码的一部分：

```
 private static SurfaceButton[,] buttons = new SurfaceButton[dimensionBeats, dimensionsNotes];

    public SurfaceWindow1()
    {
        try
        {
            InitializeComponent();
        }
        catch (Exception ex)
        {
        }

        LoadAudioContent();
        // Add handlers for Application activation events
        AddActivationHandlers();

        InitializeButtons();

        try
        {
            t = new Timer(Timeline, null, 1, dimensionBeats*500);
        }
        catch (Exception e)
        {

        } 
    }

    private void InitializeButtons()
    {
        for (int i = 0; i < 8; i++)
        {
            for (int j = 0; j < 6; j++)
            {
                SurfaceButton btn = new SurfaceButton();
                //btn.Content = files[j].Substring(0,1);
                btn.Name = "a" +i + j;
                btn.Width = 120;
                btn.Height = 120;
                btn.ContactEnter+=StartSound;
                btn.ContactLeave+=StopSound;
                btn.Opacity = 0.01;
                btn.ClickMode = ClickMode.Release;

                buttons[i,j] = btn;

                // add the newly generated button to the correct column (left to right one panel per column)
                switch (i)
                {
                    case 0:
                        rowPanel0.Children.Add(btn);
                        break;
                    case 1:
                        rowPanel1.Children.Add(btn);
                        break;
                    case 2:
                        rowPanel2.Children.Add(btn);
                        break;
                    case 3:
                        rowPanel3.Children.Add(btn);
                        break;
                    case 4:
                        rowPanel4.Children.Add(btn);
                        break;
                    case 5:
                        rowPanel5.Children.Add(btn);
                        break;
                    case 6:
                        rowPanel6.Children.Add(btn);
                        break;
                    case 7:
                        rowPanel7.Children.Add(btn);
                        break;
                }
            }
        }
    }

    private void Timeline(Object state)
    {     

        for (int i = 0; i < pressed.GetLength(0); i++)
        {
            sendRequest(url, postMethod, tabelId, buttsToString(butts));

            for (int j = 0; j < pressed.GetLength(1); j++)
            {
                if (pressed[i,j])
                {
                    buttons[i, j].Background = Brushes.Red;
                }
            }
            Thread.Sleep(500);
            for (int j = 0; j < pressed.GetLength(1); j++)
            {
                buttons[i, j].Background = Brushes.White;
            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:25:35.177

您需要使用`Invoke/BeginInvoke`将更新转发到 GUI 线程：

```
int i1 = i; // local copies to avoid closure bugs
int j1 = j;
buttons[i1, j1].Dispatcher.BeginInvoke(
    ((Action)(() => buttons[i1, j1].Background = Brushes.Red))); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:06:38.410

你就是这样做的——

```
Button1.Invoke(new MethodInvoker(delegate {
// Executes the following code on the GUI thread.
Button1.BackColor="Red";})); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:00:56.413

尝试用

```
Application.Current.Dispatcher.BeginInvoke((ThreadStart)delegate
{
    // TODO: Implement task to do on main thread
}); 
```

必须始终在主线程上访问控件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:02:14.400

是的，需要使用`Invoke`方法。它在 Dispatcher 关联的线程上同步执行指定的委托。

# r - 使用 R 将数据添加到 3-d 数组

> ID：12794404
> 
> 赞同：1
> 
> 时间：2012-10-09T06:55:01.747
> 
> 标签：r, loops, plyr, multidimensional-array

我在 MATLAB 中有一系列函数需要转换为 R。不幸的是，我不太了解 R。

一个主要障碍是将每个 50x86069 的 csv 100 文件加载到 100、50、86069 数组中。

我将代码设置为打开/写入数组，然后将每个 50x86069 csv 文件作为循环的一部分读取。

```
l <- list.files(inputs)
data.array<-array(0,dim=c(100,50,86069))

# loop through the input files to get the data loaded into an array
for(i in 1:5)
in.file <- read.csv(paste(inputs,"/",l[[i]], sep = ""))

    in.file = in.file[,-1] ## remove the first column 
```

现在我需要将 in.file 放入 data.array(i,50,86069)。

任何帮助将不胜感激！

谢谢-

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T10:31:08.547

您可以很容易地利用包中的`laply`功能`plyr`来获得所需的结果：

```
list_csv = list.files("/path/to/csv_files/", pattern = "csv")
muli_dim_array = laply(list_csv, read.csv) 
```

该`laply`函数将函数应用于`read.csv`列表`list_csv`并产生一个数组作为结果，因此函数名称为`la`ply。有关. [_](http://www.jstatsoft.org/v40/i01) _`plyr`

对于`rbind`可扩展到多个维度 (>2) 的类似函数，请查看包中的`abind`函数`abind`。使用`abind`and的解决方案`lapply`：

```
list_arrays = lapply(list_csv, read.csv)
n = length(dim(list_arrays[[1]]))
multi_dim_array = do.call("abind", list_arrays, along = n + 1) 
```

这消除了对`plyr`（但依赖于`abind`:)）的需要，并且可能在 CPU 时间和 RAM 方面表现出不同的性能。在这种情况下，也许一些基准可以提供一些指导（还包括`for`@Roman 的基于循环的解决方案）。

归根结底，我真的很喜欢 的简短、中肯的语法`plyr`，我会首先尝试该解决方案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T08:06:06.313

你在寻找这样的东西吗？

```
> ar1 <- array(1:9, dim = c(3, 3))
> ar1
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9
> ar2 <- array(10:18, dim = c(3, 3))
> ar3 <- array(19:27, dim = c(3, 3))
> ar.list <- list(ar1, ar2, ar3)
> bigarray <- array(NA, dim = c(3, 3, 3))
> for (i in 1:3) {
+     
+     intr <- vector("list", 3)
+     for(j in 1:3) {
+         intr[[j]] <- ar.list[[j]][i, ]
+     }
+     bigarray[, , i] <- do.call("rbind", intr)
+ }
> bigarray
, , 1

     [,1] [,2] [,3]
[1,]    1    4    7
[2,]   10   13   16
[3,]   19   22   25

, , 2

     [,1] [,2] [,3]
[1,]    2    5    8
[2,]   11   14   17
[3,]   20   23   26

, , 3

     [,1] [,2] [,3]
[1,]    3    6    9
[2,]   12   15   18
[3,]   21   24   27 
```

# php - php中图像名称的问题

> ID：12794405
> 
> 赞同：1
> 
> 时间：2012-10-09T06:55:03.680
> 
> 标签：php, php-gd

在我的项目中，我在`"banner_".time()`对图像进行某些操作后给出了站点徽标名称。图像在目标文件夹中以指定名称成功上传。问题是图像未显示在网站上，图像内容丢失并且仅显示 1x1 长度。在进行某些图像处理后，我在同一文件夹中上传和显示了其他图像，没有任何问题。我认为指定名称可能有问题，所以我将`"banner_".time()`“更改为`site_logo_".time()`，更改名称后工作正常。我的问题是“php 中的图像名称是否有任何限制？”或者“横幅”这个词不应该在 php 中使用对于图像名称？我正在为我的项目使用 kohana 框架。

# php - 为什么我的数组值在我的数据库中被截断？

> ID：12794407
> 
> 赞同：2
> 
> 时间：2012-10-09T06:55:13.507
> 
> 标签：php, database

出于某种原因，我的数据库中的数组值被截断了。这是我的php

```
<?php
$con = mysql_connect("localhost","Andrew","password");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db("mydb", $con);

$sql="INSERT INTO persons (firstname, lastname, modelid, system, department, comm,    other, shift, comments)
VALUES
('$_POST[firstname]','$_POST[lastname]','$_POST[modelid]','". implode(",",       $_POST['system']) ."','$_POST[department]','". implode(",", $_POST['comm']) ."','".   implode(",", $_POST['other']) ."','$_POST[shift]','$_POST[comments]')";

if (!mysql_query($sql,$con))
  {
 die('Error: ' . mysql_error());
  }
 echo "1 record added";

mysql_close($con);
?> 
```

我所说的截止是我的复选框条目输入正确，用逗号和所有分隔，但它几乎就像我可以输入单个字段的某种字符限制一样。只是乱七八糟我已经添加了 mysql_real_escape_string 没有错误认为这是问题，但我仍然有同样的问题。有没有人见过这个或知道任何可能的修复？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:04:13.447

就像我在评论中说的那样，最好不要使用用户`mysql_*`功能-最好使用 PDO 或 MySQLi。

您的代码中的问题在这里：

```
$sql="INSERT INTO persons (firstname, lastname, modelid, system, department, comm,    other, shift, comments)
VALUES
('$_POST[firstname]','$_POST[lastname]','$_POST[modelid]','". implode(",",       $_POST['system']) ."','$_POST[department]','". implode(",", $_POST['comm']) ."','".   implode(",", $_POST['other']) ."','$_POST[shift]','$_POST[comments]')"; 
```

1.  您应该在使用 POST 参数之前对其进行清理和验证
2.  如果你会做#1，你可以使用没有字符串连接的参数（在前 3 个 POST 参数之前和之后`$firstname`都有缺失。`"`

我实现这个的方式是这样的：

```
 /*** first sanitize your POST params ***/
   $firstname = mysql_real_escape_string($_POST['firstname']));
   $lastname= mysql_real_escape_string($_POST['lastname']));
   //etc ...

   /**the query ***/
   $stmt = $dbh->prepare("INSERT INTO persons (firstname, lastname, modelid, system, department, comm,    other, shift, comments)
VALUES(:firstname, :lastname, :modelid, :system, :department, :comm, :other, :shift, :comments)");

   /*** bind the paramaters ***/
   $stmt->bindParam(':firstname', $firstname, PDO::PARAM_STR);
   $stmt->bindParam(':lastname', $lastname, PDO::PARAM_STR);
   // etc...

   /*** execute the prepared statement ***/
   $stmt->execute(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:14:45.033

哦，哇，我现在绝对觉得自己像个新手！！！我的长度/值设置为 15！在问这个问题之前，我应该多看看周围，但感谢所有评论的人！！！

# ios - 如何在同一视图中重新加载 iPhone 中 UITableView 中的数据

> ID：12794411
> 
> 赞同：0
> 
> 时间：2012-10-09T06:55:34.023
> 
> 标签：ios, uitableview, uitextview, reloaddata

我正在开发一个 iPhone 应用程序，在一个视图中，我已经将`UITextView`和`UITableView`. `ViewController`我需要做的是，在文本视图中输入数据后，用户将点击下方的按钮。单击按钮后，在 textview 中输入的数据应该会加载到 tableview 中。但它不是这样工作的。

在这里，我所做的是，我在按钮操作中编写了以下代码，

```
[self.tableView reloadData]; 
```

非常感谢任何建议

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:57:48.140

确保您`NSMutableArray`使用新值更新 ，您用于在`UITableView`.

在点击按钮时，

```
[arrValues addObject:txtBox.text];
[self.tableView reloadData]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:10:36.563

This method handle your rowCount of `TableView`

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [arrayData count];
} 
```

And this method will make your cell and showing cell data.

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
```

So you will have to add `textField.text` in that `array` which you're using for `numberOfRowsInSection:` and `cellForRowAtIndexPath:`

```
-(void)buttonClick:(id)sender
 {
     [arrayData addObject:textField.text];
     [self.tableView reloadData];
 } 
```

And make sure `textField.text` should not be empty other wise data will not be visible. After calling `[self.tableView reloadData]` method all `tableView` delegates method will be call again and `arrayData` will increase the `numberOfRows` for your `tableView`.

**EDIT:** As you're saying in comment that you're navigating the view so each time your `viewDidLoad:` will be call and your array will have the same object which your initialize in `viewDidLoad:` if you want that your `array` remain same `objects` then dont initialize it static, use `plist` or `Database` and save your `array` data in `Database` in `viewDidDisappear:` method and refresh your `array` in `viewWillAppear:` method before adding your `tableView`.

# django - Django Admin - save_model 方法忽略保存

> ID：12794412
> 
> 赞同：0
> 
> 时间：2012-10-09T06:55:40.200
> 
> 标签：django, django-admin

我正在尝试覆盖 django UserAdmin save_model 方法。在某些情况下，我想忽略保存数据，但它总是保存数据。我是不是错过了什么。这是我的代码

```
class MyUserAdmin(UserAdmin):

    def save_model(self, request, obj, form, change):

        attrs = request.POST

        role=attrs.getlist('userProfile_user-0-role',None)
        if change:
            if int(role[0]) == 1:
                super(MyUserAdmin, self).save_model(request, obj, form, change)
            else:
                messages.error(request, "Subscriptions cannot be changed.")
                # In this case I did not want save data 
```

谢谢

# javascript - 在灯箱按钮中使用 Javascript

> ID：12794413
> 
> 赞同：0
> 
> 时间：2012-10-09T06:55:40.810
> 
> 标签：javascript, lightbox2

我正在寻找一种在提交信息后关闭灯箱窗口的方法。

现在，如果这还不够；我还希望有一个灯箱刷新它的父页面。

既然你知道我有多需要，我就展示一下我现在拥有的东西。

我的更新查询按钮的 JavaScript：

```
<script type='text/javascript'>
function close_and_refresh(){
    //Reload The Parent Page
    opener.location.reload();
    //And then Close the Entry Page
    close();
}
</script> 
```

我分配的按钮：

```
<input type="submit" value="Update" onclick="close_and_refresh();" /> 
```

我认为它会起作用，但事实证明不是。如果有人知道这将如何实现，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:01:19.057

更改输入类型提交到输入类型按钮

```
<input type="button" value="Update" onclick="close_and_refresh();" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:32:16.337

提交表单后，在 litebox iframe 中，您可以让 iframed 页面写出一些调用父文档中函数的 javascript。

一个非常基本的设置是这样的：

在父 javascripts 中：

```
<script type="text/javascript">
    function closeLitebox() {
        // close your litebox
    }
</script> 
```

在iframe页面中，提交成功后：

```
<script type="text/javascript">
    parent.closeLitebox();
</script> 
```

在 Google 上搜索类似“从 iframe 调用父级”之类的内容，有大量可用示例......

# java - Smooks EDI 作家

> ID：12794416
> 
> 赞同：4
> 
> 时间：2012-10-09T06:55:56.207
> 
> 标签：java, edi, smooks

在 smooks 网站上可以看到它支持 EDI 生成。但是没有办法为 edi writer 指定配置（就像在 schema [http://www.milyn.org/xsd/smooks/edi-1.1.xsd](http://www.milyn.org/xsd/smooks/edi-1.1.xsd)中定义的 reader 的情况一样）。

在某些论坛的一些旧帖子中，我看到smooks正在筹划这样的作家。是可用的么？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-03-03T14:24:52.923

我设法使用 unedifact:reader 中使用的相同模式来做到这一点

烟雾配置：

```
<?xml version="1.0"?>
<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd"
                      xmlns:core="http://www.milyn.org/xsd/smooks/smooks-core-1.4.xsd">
    <import file="/org/milyn/edi/unedifact/d96a/message-bindingconfig.xml" />
    <import file="/org/milyn/smooks/edi/unedifact/model/r41/bindings/unedifact-interchange.xml" />
    <core:exports>
        <core:result type="org.milyn.payload.JavaResult"/>
    </core:exports>
</smooks-resource-list> 
```

结果是读取了元素的 HashMap。现在我有了对象，我可以进行任何修改，之后我使用文档交换工厂：ex D96AInterchangeFactory

```
D96AInterchangeFactory factory = D96AInterchangeFactory.getInstance();
UNEdifactInterchange41 unEdifactInterchange = (UNEdifactInterchange41) map.get("unEdifactInterchange");
StringWriter ediOutStream = new StringWriter();
factory.toUNEdifact(unEdifactInterchange, ediOutStream); 
```

最后我可以使用 toString() 来获取我的文档：

```
System.out.println("document: " + ediOutStream.toString()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-10T17:08:08.150

根据[Smooks 网站](http://www.smooks.org/)：

> Smooks 可以读写 XML 以外的数据格式，包括 EDI、CSV、JSON、YAML、Java。要读取非 XML 数据，您通常需要为该数据类型配置一个。写入数据通常涉及配置一个模板，该模板在由 （如 XSLT 的情况）或 BeanContext 中的 bean（如 FreeMarker 的情况）产生的事件流上运行。您还可以简单地允许 Smooks 序列化输入阅读器产生的事件流，这将产生 XML，通过简单地为输入源配置阅读器来提供有效的 NNN 到 XML 转换。

所以，是的，有可能使用 Smooks 生成 EDI。

# iphone - 自定义标签栏问题

> ID：12794420
> 
> 赞同：0
> 
> 时间：2012-10-09T06:56:15.940
> 
> 标签：iphone, uitabbar

我的应用程序包含标签栏和状态栏。标签栏的构造类似于带有背景图像的按钮，并在标签栏上添加了此按钮。问题是，按钮的高度为 47。但我们的默认标签栏的高度为 49。所以标签栏和视图之间存在间隙。在 xib 中，我试图更改视图的框架大小。但这是不可能的。默认是 411。我该如何解决这个问题？有没有办法创建自定义标签栏？

这是我的标签栏代码

```
viewController1 *viewController1Obj = [[viewController1 alloc] initWithNibName:@"viewController1" bundle:nil];
viewController2 *viewController2Obj = [[viewController2 alloc] initWithNibName:@"viewController2" bundle:nil];

viewController3 *viewController3Obj = [[viewController3 alloc] initWithNibName:@"viewController3" bundle:nil];
viewController4 *viewController4Obj = [[viewController4 alloc] initWithNibName:@"viewController4" bundle:nil];
viewController5 *viewController5Obj = [[viewController5 alloc] initWithNibName:@"viewController5" bundle:nil];

UINavigationController *nav1=[[UINavigationController alloc]initWithRootViewController:viewController1Obj];
UINavigationController *nav2=[[UINavigationController alloc]initWithRootViewController:viewController2Obj];
UINavigationController *nav3=[[UINavigationController alloc]initWithRootViewController:viewController3Obj];
UINavigationController *nav4=[[UINavigationController alloc]initWithRootViewController:viewController4Obj];
UINavigationController *nav5=[[UINavigationController alloc]initWithRootViewController:viewController5Obj];

nav1.navigationBarHidden=YES;
nav2.navigationBarHidden=YES;
nav3.navigationBarHidden=YES;
nav4.navigationBarHidden=YES;
nav5.navigationBarHidden=YES;

self.tabBarController = [[UITabBarController alloc] init];

self.tabBarController.viewControllers = [NSArray arrayWithObjects:nav1, nav2,nav3,nav4 ,nav5, nil];

self.tabBarController.tabBar.frame = CGRectMake(0.0f, self.tabBarController.tabBar.frame.origin.y, 320.0f, 47.0f);

[self.window addSubview:self.tabBarController.view];

self.tabBarController.view.backgroundColor = [UIColor redColor];

self.tabBtn1 = [[UIButton alloc] initWithFrame:CGRectMake(0.0f, 0.0f, 64.0f, 47.0f)];
[self.tabBtn1 setImage:[UIImage imageNamed:@"button1.png"] forState:0];
[self.tabBtn1 setTag:77777];
self.tabBtn1.adjustsImageWhenHighlighted = NO;
[self.tabBtn1 addTarget:self action:@selector(btnPressed:) forControlEvents:UIControlEventTouchUpInside];

self.tabBtn2 = [[UIButton alloc] initWithFrame:CGRectMake(64.0f, 0.0f, 64.0f, 47.0f)];
[self.tabBtn2 setImage:[UIImage imageNamed:@"button2.png"] forState:0];
[self.tabBtn2 setTag:77778];
self.tabBtn2.adjustsImageWhenHighlighted = NO;
[self.tabBtn2 addTarget:self action:@selector(btnPressed:) forControlEvents:UIControlEventTouchUpInside];

self.tabBtn3 = [[UIButton alloc] initWithFrame:CGRectMake(128.0f, 0.0f, 64.0f, 47.0f)];
[self.tabBtn3 setImage:[UIImage imageNamed:@"button3.png"] forState:0];
[self.tabBtn3 setTag:77779];
self.tabBtn3.adjustsImageWhenHighlighted = NO;
[self.tabBtn3 addTarget:self action:@selector(btnPressed:) forControlEvents:UIControlEventTouchUpInside];

self.tabBtn4 = [[UIButton alloc] initWithFrame:CGRectMake(192.0f, 0.0f, 64.0f, 47.0f)];
[self.tabBtn4 setImage:[UIImage imageNamed:@"button4.png"] forState:0];
[self.tabBtn4 setTag:77780];
self.tabBtn4.adjustsImageWhenHighlighted = NO;
[self.tabBtn4 addTarget:self action:@selector(btnPressed:) forControlEvents:UIControlEventTouchUpInside];

self.tabBtn5 = [[UIButton alloc] initWithFrame:CGRectMake(256.0f, 0.0f, 64.0f, 47.0f)];
[self.tabBtn5 setImage:[UIImage imageNamed:@"button5.png"] forState:0];
[self.tabBtn5 setTag:77781];
self.tabBtn5.adjustsImageWhenHighlighted = NO;
[self.tabBtn5 addTarget:self action:@selector(btnPressed:) forControlEvents:UIControlEventTouchUpInside];

[self.tabBarController.tabBar addSubview:self.tabBtn1];
[self.tabBarController.tabBar addSubview:self.tabBtn2];
[self.tabBarController.tabBar addSubview:self.tabBtn3];
[self.tabBarController.tabBar addSubview:self.tabBtn4];
[self.tabBarController.tabBar addSubview:self.tabBtn5]; 
```

并且在我得到的间隙中显示出红色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:05:28.753

是的，您可以创建自己的自定义标签栏。使用以下链接解决您的问题。

[iPhone：如何构建自己的 TabBar？](https://stackoverflow.com/questions/4911975/iphone-how-can-i-build-my-own-tabbar)

[iOS 自定义标签栏](https://stackoverflow.com/questions/10345426/ios-custom-tabbar)

[我怎么能创建一个类似于这个的自定义标签栏](https://stackoverflow.com/questions/6480258/how-could-i-create-a-custom-tabbar-similar-to-this)

[http://kurrytran.blogspot.in/2011/10/ios-5-tutorial-creating-custom-tab-bar.html](http://kurrytran.blogspot.in/2011/10/ios-5-tutorial-creating-custom-tab-bar.html)

我给你一个链接，它有预先制作的自定义标签栏，可以在这里帮助你。

[http://www.cocoacontrols.com/search?utf8=%E2%9C%93&q=tabbar](http://www.cocoacontrols.com/search?utf8=%E2%9C%93&q=tabbar)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:06:02.993

我不确定你是如何创建标签栏的，但也许这个链接可以帮助你。它将栏的高度设置为大于 49 的值

[https://gist.github.com/869331](https://gist.github.com/869331)

或者你也可以检查这个线程

[我怎么能创建一个类似于这个的自定义标签栏](https://stackoverflow.com/questions/6480258/how-could-i-create-a-custom-tabbar-similar-to-this)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T12:49:25.080

我通过在 UITabbarController 子视图中设置 UITransitionView 的框架解决了这个问题

```
[[[self.tabBarController.view subviews]objectAtIndex:0] setFrame:CGRectMake(0, 0, 320, 521)]; 
```

现在差距已经过去了。

# php - 验证所见即所得编辑器文本区域

> ID：12794421
> 
> 赞同：2
> 
> 时间：2012-10-09T06:56:20.857
> 
> 标签：php

我在我的网站的表单中使用 WYSIWYG 编辑器框作为文本区域。我想验证 textarea (From WYSIWYG) 。您能否提出任何建议以在 javascript 中验证此文本区域（不是从所见即所得编辑器添加的普通文本区域）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:13:53.473

我想你需要这样的东西，希望它会有所帮助

```
$(document).ready(function(){

    $("#formId").submit(function(){
        var textArea = $('#textArea').val();

        if (textArea == "") {
              textArea.show();
              textArea.focus();
            return false;
        }
        else 
        {
            return true; 
        }
    });

}); 
```

# hibernate - 将 sql 转换为 HQL

> ID：12794424
> 
> 赞同：0
> 
> 时间：2012-10-09T06:56:31.513
> 
> 标签：hibernate

我使用[http://www.mkyong.com/struts2/struts-2-hibernate-integration-with-full-hibernate-plugin/](http://www.mkyong.com/struts2/struts-2-hibernate-integration-with-full-hibernate-plugin/) 作为 struts+hibernate 的参考。我需要替换“return session.createQuery(”来自客户").list();" 在 CustomerDAOIMPL.java 中使用以下查询

```
select u.Loginid,c.CID,CNAME,CTICKER,STOCKVALUE,VARIATE,VARIATE_PERCENT,PREVIOUS_DAY_STOCK,MARKET
from company_details c,users_details u,user_company uc where uc.loginpk=u.loginpk AND uc.CID=c.CID AND uc.loginpk IN (select LOGINPK from users_details where LOGINID="check") 
```

如何用 HQL [Hibernate Query Language] 编写这样的查询简单易懂

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:18:11.947

如果您是初学者，请浏览这些简单示例的链接：

*   [http://www.tutorialspoint.com/hibernate/hibernate_query_language.htm](http://www.tutorialspoint.com/hibernate/hibernate_query_language.htm)
*   ~~[http://dev.wavemaker.com/wiki/bin/Dev/HqlTutorial](http://dev.wavemaker.com/wiki/bin/Dev/HqlTutorial)~~（[存档](https://web.archive.org/web/20170527141302/http://dev.wavemaker.com/wiki/bin/Dev/HqlTutorial)）

更多参考： [http ://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html)

# postgresql - Squeryl 和 PostgreSQL 的自增

> ID：12794427
> 
> 赞同：1
> 
> 时间：2012-10-09T06:56:46.190
> 
> 标签：postgresql, squeryl

当我尝试使用 Squeryl 的 Table.insert 在 PostgreSQL 表中插入新记录时，它会触发以下查询：

```
insert into "users" ("id", "email", "fullname") values (nextval('"s_users_id"'),?,?) 
```

这不起作用，因为我没有定义序列，而是将 id 列定义为“自动增量”：

```
CREATE TABLE Users (
    id BIGSERIAL,
    email varchar(255) NOT NULL,
    fullname varchar(255),
    PRIMARY KEY (id)
); 
```

我在另一个论坛上阅读了一些关于这个问题的旧帖子，我想知道现在的状态是什么。我们是否不鼓励使用自动增量并改为定义序列？或者有一个简单的解决方法可以让它工作吗？

编辑：实际上我刚才看到自动增量本身创建了一个序列，但使用了另一个名称：users_id_seq 有没有办法告诉 Squeryl 改为查看这个名称，或者遵循 PostgreSQL 的约定？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-13T19:49:09.750

您可以声明序列的名称：

```
 case class Author(id: Long, firstName: String)             

 val author = table[Author]

 on(author)(s => declare(
    s.id is(autoIncremented("your_seq_name"))
 )) 
```

更多信息：[http ://squeryl.org/schema-definition.html](http://squeryl.org/schema-definition.html)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-09T17:56:15.063

目前还没有一种非常干净的方法可以做到这一点，但可以做到。只需继承 PostgreSqlAdapter 并覆盖：

`def createSequenceName(fmd: FieldMetaData)`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-09T06:59:55.663

`serial`或`bigserial` **将**在后台创建一个序列，从中获取列的值。所以插入基本上是正确的。

`bigserial`只是以下的简写：

```
create sequence users_id_seq;
create table users (id bigint default nextval('users_id_seq')); 
```

唯一看起来错误的是，您的 id 列的序列的默认名称将是`users_id_seq`，而不是`s_users_id`您的工具使用的。

手册中的更多详细信息：[http ://www.postgresql.org/docs/current/static/datatype-numeric.html#DATATYPE-SERIAL](http://www.postgresql.org/docs/current/static/datatype-numeric.html#DATATYPE-SERIAL)

**编辑**：
如果该工具假定错误的命名约定，一种可能的解决方法是重命名生成的序列。正如 Postgres“知道”它属于该列的那样，事情仍然可以工作。

```
ALTER SEQUENCE users_id_seq RENAME TO s_users_id; 
```

# position - 在像素着色器中计算世界空间坐标

> ID：12794428
> 
> 赞同：5
> 
> 时间：2012-10-09T06:56:52.000
> 
> 标签：position, directx, hlsl, pixel-shader

我有一个像素着色器，我想根据我的世界空间坐标计算每个像素的位置。我该怎么做？我需要什么？

我有一个`ps_input`具有 float4 位置的结构：`SV_POSITION`。我假设这很重要，但存储在其中的值似乎有点有趣。

我似乎无法弄清楚它们与什么有关。例如，如果一个像素是 2d 的，那么它怎么会有 aw 分量或 az 分量呢？

我正在使用`DirectX`并且像素着色器位于`HLSL`. `C++`作为我在 CPU 上的编程语言。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T08:45:27.150

如果我没记错的话，SV_POSITION 只是 0->W 0->H，所以它描述了它在屏幕上的位置。该站点包含更多信息： http: [//msdn.microsoft.com/en-us/library/windows/desktop/bb509647 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb509647(v=vs.85).aspx)

要将像素转换为世界空间，请将像素坐标转换回世界空间。数学有点棘手（我认为是！）但这篇文章应该可以帮助你！ [http://jcoluna.wordpress.com/2011/01/27/reconstructing-view-space-position-from-depth/](http://jcoluna.wordpress.com/2011/01/27/reconstructing-view-space-position-from-depth/)

否则明智地搜索像素到视图空间。我知道您想要世界空间，但是将所有内容转换为视图空间可能会更快。

# java - 泛型的协方差

> ID：12794440
> 
> 赞同：0
> 
> 时间：2012-10-09T06:57:50.187
> 
> 标签：java, generics

> **可能重复：**
> [Java 泛型中的“超级”和“扩展”有什么区别](https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics)
> [Java 泛型通配符问题：List<? 扩展 A>](https://stackoverflow.com/questions/5495383/java-generics-wildcard-question-list-extends-a)

我发现了一个我无法向自己解释的 Java 泛型的奇怪行为。

如果我尝试以下代码，我希望它应该可以工作

```
List<? extends Number> list = new ArrayList<>();
list.add(new Integer(2));
list.add(new Float(2.0f)); 
```

但这会导致编译器错误。

如果我将第一行更改为

```
List<? super Number> list = new ArrayList<>(); 
```

它适用于编译器。

谁能给我解释一下？和有什么区别**？扩展**和**？超级**？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:06:04.400

请参阅 Effective Java 第 2 版，第 28 条：

生产者扩展，消费者超级

如果您的参数是生产者，则应该是`<? extends T>`，如果是消费者，则必须是`<? super T>`

这里是消费者，所以它必须是`<? super Number>`

# c# - 带有 HTML 字符串的 C# 正则表达式

> ID：12794443
> 
> 赞同：0
> 
> 时间：2012-10-09T06:58:03.470
> 
> 标签：c#, html, regex, string

我正在做一个小任务，需要使用带有 HTML 字符串的正则表达式。我当前的问题是正确获取包含在 HTML 标记中的字符串。

例如：

我有一个字符串

```
<p>&lt;Placeholder&gt;</p> 
```

我已经能够使用以下正则表达式获取内容

```
private string Unescape(){
    string s = WebUtility.HtmlDecode("<p>&lt;Placeholder&gt;</p>");
    string dec = Regex.Replace(s, "^<.*?>|^<.*?><.*?>", "");
    return Regex.Replace(dec, "</.*?>$|</.*?></.*?>$", "");
} 
```

哪个会返回：

```
<Placeholder> 
```

但是，字符串是否应该包含额外的 HTML 标记，例如：

```
<p><strong>Placeholder</strong></p> 
```

我会得到这个

```
<strong>Placeholder 
```

看来我只能成功删除结束标签，但我不能对开始标签做同样的事情。谁能告诉我哪里出错了？

**编辑：**

总而言之，我有没有办法将 HTML 标签中包含的字符串视为文字？覆盖字符串可能包含特殊字符的可能性（例如 > <）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:57:34.920

我不确定您是否会对在 html 上使用正则表达式感到满意，但我想解释一下您的“错误”匹配的问题是什么：

**替代将使用它将找到的第一个匹配项，**并且不会寻找进一步的匹配项。因此，当您在开始时搜索

```
^<.*?>|^<.*?><.*?> 
```

在弦上

```
<p><strong>Placeholder</strong></p> 
```

它将匹配第一个备选方案，因此它将以第一个备选方案的成功匹配结束。所以如果你想`<p><strong>`在一开始就匹配，你应该改变交替的顺序。但仅适用于字符串开头的部分，对于字符串的结尾，您的排序很好。

因此**，对于您的示例，**这将起作用：

```
private string Unescape(){
    string s = WebUtility.HtmlDecode("<p>&lt;Placeholder&gt;</p>");
    string dec = Regex.Replace(s, "^<.*?><.*?>|^<.*?>", "");
    return Regex.Replace(dec, "</.*?>$|</.*?></.*?>$", "");
} 
```

**==> 交替中的顺序可能很重要**

另一种方法是使用量词而不是交替：

```
string dec = Regex.Replace(s, "^(?:<.*?>)+", "");
return Regex.Replace(dec, "(?:</.*?>)+$", ""); 
```

这也适用于 2 个以上的标签。

# android - MainActivity 已泄漏窗口

> ID：12794447
> 
> 赞同：4
> 
> 时间：2012-10-09T06:58:18.733
> 
> 标签：android

我是 Android 新手，我才 7 天前才开始。我遇到了这种类型的错误，并且还参考了同一论坛中的大部分主题，询问了类似的问题，但没有得到解决方法。

这是我的代码：

```
class CreateNewCustomer extends AsyncTask<String, String, String> {

      @Override
      protected void onPreExecute() {
              super.onPreExecute();
              pDialog = new ProgressDialog(MainActivity4.this);
              pDialog.setMessage("Creating Customer..");
              pDialog.setIndeterminate(false);
              pDialog.setCancelable(true);
              pDialog.show();
      }

      @Override
      protected String doInBackground(String...args) {
              String fname = inputFName.getText().toString();
              String lname = inputLName.getText().toString();
              String phone = inputPhone.getText().toString();

              List<NameValuePair> params = new ArrayList<NameValuePair>();
              params.add(new BasicNameValuePair("fname", fname));
              params.add(new BasicNameValuePair("lname", lname));
              params.add(new BasicNameValuePair("phone", phone));
              JSONObject json = jsonParser.makeHttpRequest(url_create_customer,
                                                           "POST", params);
              Log.d("Create Response", json.toString());

              try {
                      int success = json.getInt(TAG_SUCCESS);
                      if (success == 1) {
                              Intent i = new Intent(getApplicationContext(),MainActivity5.class );
                              startActivity(i);
                              finish();
                      } else {
                              // This is the Else part
                      }
              } catch (JSONException e) {
                      e.printStackTrace();
              }
              return null;
      }

      @Override
      protected void onPostExecute(String file_url) {
              pDialog.dismiss();
      }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:01:33.730

在这部分：

```
if (success == 1) {
    Intent i = new Intent(getApplicationContext(),
                          MainActivity5.class );
    startActivity(i);
    finish();
} 
```

在您打电话之前，`finish()`您需要关闭进度对话框。它没有被解雇，因此窗口被泄漏并导致异常。

请改用此代码：

```
if (success == 1) {
    Intent i = new Intent(getApplicationContext(), MainActivity5.class );
    startActivity(i);
    pDialog.dismiss();
    finish();
} 
```

另外，从 开始您的新活动`onPostExecute()`，而不是`doInBackground()`。使用标志来检查您的活动是否成功并`onPostExecute()`像这样开始一个新活动：

```
@Override
protected String doInBackground(String...args) {
    //...
    if (success == 1) {
        successFlag=true;
    }
    //...

}

@Override
protected void onPostExecute(String file_url) {
    if(successFlag=true) {
        Intent i = new Intent(getApplicationContext(), MainActivity5.class );
        startActivity(i);
        pDialog.dismiss();
        finish();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:32:51.213

永远不要在 doInBackground() 中执行 startActivity。

在 onPostExecute() 中关闭进度对话框后执行 startActivity

# c++ - 什么是独立功能？

> ID：12794448
> 
> 赞同：6
> 
> 时间：2012-10-09T06:58:22.170
> 
> 标签：c++

> **可能重复：**
> [C++ 中的“自由函数”一词是什么意思？](https://stackoverflow.com/questions/4861914/what-is-the-meaning-of-the-term-free-function-in-c)

我不确定什么是独立功能。

它是在类内还是与主类和类外的正常功能相同？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:59:35.730

独立函数只是一个普通函数，它不是任何类的成员，并且位于全局命名空间中。例如，这是一个成员函数：

```
class SomeClass
{
public:
    SomeClass add( SomeClass other );
};
SomeClass::add( SomeClass other )
{
    <...>
} 
```

这是一个独立的：

```
SomeClass add( SomeClass one, SomeClass two ); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T07:00:11.080

一个独立的函数通常是

*   一个不属于任何`class`or的全局函数`namespace`。
*   服务于做某事的单一目的（例如实用程序`strcpy()`）

应该明智地使用它们，因为太多会使代码混乱。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-09T07:00:42.730

独立功能是不依赖于任何*可见*状态的功能：

```
int max(int a, int b) { return a > b ? a : b; } 
```

这`max`是一个独立的功能。

独立函数是无状态的。在 C++ 中，它们被称为*自由*函数。

# python - 如何以垂直角度对穿过斑点的线进行采样？（在 Python/OpenCV 中，除非您建议切换到其他东西）

> ID：12794452
> 
> 赞同：7
> 
> 时间：2012-10-09T06:58:39.873
> 
> 标签：python, algorithm, opencv, computer-vision

我正在开发一个程序，该程序将跟踪类似于弯曲五彩纸屑的二进制斑点中心的点。稍后，我将使用跟踪曲线的三次样条拟合这些点。

作为该计划的一部分，我需要：

-**创建一个 2D 矢量，对二值图像上的斜线进行采样**，

-**计算在沿五彩纸屑斑点的每个位置使用的角度**。

以下是一些图像示例，以及所追踪的点可能看起来的草图：

![在此处输入图像描述](../Images/9c4cdbc8c4d6e45ecac9cf66686fa426.png) ![在此处输入图像描述](../Images/6816b4b34db7bea10d1dd50f947f2257.png) ![在此处输入图像描述](../Images/079bcf9fd7c46434895e8f7f851a9208.png) ![在此处输入图像描述](../Images/2c9979a5b25ccc00f80ffbacf2ee873b.png) ![在此处输入图像描述](../Images/80d240962b8ee06976bc333afeee18b1.png) ![在此处输入图像描述](../Images/8cfbbeef6518f4fb6ef164985e5f46da.png)

找到黑色五彩纸屑垂直部分的中心很简单。假设你在一个黑色像素中，找到左右白色边缘，中间是它们之间距离的一半。这样做很容易，因为用于进行上述计算的二维向量只是图像的一行。

![这是其中一个五彩纸屑的 10 像素高度段](../Images/03741a0946d1e6ff4a6a6b18d48a6070.png)

![在此处输入图像描述](../Images/9fde79d5c91790b1047213ec68989b49.png)

但五彩纸屑并不总是笔直垂直排列！有时它们是弯曲的或水平对齐的。这里需要的是一个 2d 向量，它以一定角度穿过五彩纸屑。 **从图像中采样这个有角度的矢量的最有效方法是什么？**实际上，在 Python PIL 或 OpenCV 等图像处理库中，是否存在可以通过图像以角度获取线向量的操作？如果我做一个，我怎么能注意确保它是有效的？

**计算所需矢量角度的最有效方法是什么？** 获得适当角度的一种方法是在返回的 2d 向量中找到导致最小宽度黑色段的角度。我不需要详尽地做到这一点，只需以 30 度的增量循环 360 度获得适当角度的另一种方法可能是找到五彩纸屑曲线的切线，并使用垂直于该切线的线 - 但是可能更复杂。

任何关于如何更好地解决问题的想法都会非常有帮助。关于如何在图像上获取二维线的任何具体建议，以及获得垂直角度的有效方法也很棒。

![在此处输入图像描述](../Images/b39e82ad94fc34ffb36182e7cc49c26b.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T15:41:48.603

您似乎对“中轴拟合”感兴趣 - 以及方向的估计（如果您有轴，那么通常轴在任何点的切线就足够了）。

从技术上讲，对于 OpenCV，您可能会考虑使用距离变换 ( `cv.PointPolygonTest`)，使用 Voronoi 单元 ( `cv.cvCalcSubdivVoronoi2D`)，或者 - 正如 @remi*形态细化*所建议的那样......

但是，如果您不想使用该`scikits-image`软件包，而只需要使用 OpenCV - 这是使用一些骨架化代码（[基于快速简便的技术](http://felix.abecassis.me/2011/09/opencv-morphological-skeleton/)）的入门尝试。

![简单的第一个图像骨架](../Images/d7e90bbc013dd4e7a92950d0e052489b.png)![在此处输入图像描述](../Images/25ef5a58ac9287cc6e99c21fcdb9be55.png)![在此处输入图像描述](../Images/eade0e3e2e01abc622ab70a51fb93155.png)

然后，您可以通过沿着发现的点进行一些样条拟合来计算您的样本和切线（但这需要更多的工作来发现末端并消除任何杂散点/间隙......）

```
import cv

# get images 
orig = cv.LoadImage('o1Mlp.png')

# create storage images
grey = cv.CreateImage(cv.GetSize(orig), 8, 1) 
skel = cv.CreateImage(cv.GetSize(orig),8, 1) 
temp = cv.CreateImage(cv.GetSize(orig),8,1)

# convert image to pure binary B&W based on threshold
cv.CvtColor(orig, grey, cv.CV_RGB2GRAY)
cv.Threshold(grey,grey,200,255,cv.CV_THRESH_BINARY_INV)

# Create cross operator - good for skeletonization 
elem = cv.CreateStructuringElementEx(3,3,1,1,cv.CV_SHAPE_CROSS)

# Loop until we have consumed all the values in the original image
while True:
  cv.MorphologyEx(grey,temp,None,elem,cv.CV_MOP_OPEN) # Shrink..
  cv.Not(temp,temp) # ...invert...
  cv.And(grey,temp,temp) # ...intersect with original...
  cv.Or(skel,temp,skel) # ... add to current skeleton...
  cv.Erode(grey,grey,elem) # and reduce original ready for next.

  (minVal,maxVal,minLoc,maxLoc)= cv.MinMaxLoc(grey)
  if (maxVal==0): # Any pixels left?
    break

# show result 
cv.ShowImage("orig", orig)
cv.ShowImage("skel", skel)
cv.WaitKey(-1) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T18:49:06.590

关于问题的最后一部分，找到法线：我使用自己的算法。它似乎工作。如果您找到标准解决方案或改进我的解决方案，请告诉我们！

```
 /// <summary>
    /// Returns absolute angle between points at offset length, or double.MinValue when not found.
    /// </summary>
    /// <param name="sequence">Ordered array of points (e.g., from OpenCV Contour)</param>
    /// <param name="length">Number of points used to calculate angle</param>
    /// /// <param name="increment">number of points between each angle calculation (e.g., 1 to attempt to determine angles for all points)</param>
    /// <returns></returns>
    public static double[] FindAbsoluteAngles(Point[] sequence, int length, int increment)
    {
        double[] angles = new double[sequence.Length];
        for (int i = 0; i < sequence.Length; i++)
            angles[i] = double.MinValue;

        double last = double.MinValue;
        for (int i = length; i < sequence.Length; i += increment)
        {
            int i1 = i - length;
            int i2 = i - ((int)length / 2);
            int i3 = i;

            Point p1 = sequence[i1];
            Point p2 = sequence[i2];
            Point p3 = sequence[i3];

            if (p1.X != p3.X & p1.Y != p3.Y)//Is a diagonal
            {
                angles[i2] = 180 - Math.Atan(1.0 * (p1.X - p3.X) / (p1.Y - p3.Y)) * 180 / Math.PI;
            }
            else if (last != double.MinValue)
            {
                //USe previous angle to determine non-diagonals (which can be: 0 or 180; 90 or 270) 
                double error;
                if (p1.X == p3.X)//Is a vertical
                {
                    error = Math.Abs(last - 180);
                    if (Math.Min(error, 180 - error) == error)
                        angles[i2] = 180;
                    else
                        angles[i2] = 0;
                }
                else if (p1.Y == p3.Y)//Is a horizontal
                {
                    error = Math.Abs(last - 270);
                    if (Math.Min(error, 180 - error) == error)
                        angles[i2] = 270;
                    else
                        angles[i2] = 90;
                }
            }

            last = angles[i2];
        }

        return angles;
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T15:30:32.017

This looks like contour thinning or skeleton. Have a look at [that answer](https://stackoverflow.com/questions/9980270/thinning-contour-lines-in-a-binary-image). There is even a link to a Python package.

# jquery - jQuery 可选择禁用自动取消选择

> ID：12794454
> 
> 赞同：0
> 
> 时间：2012-10-09T06:58:57.157
> 
> 标签：jquery, selectable

我正在使用带有类似网格的表的jquery[可选小部件。](http://jqueryui.com/selectable/#display-grid)从示例中可以看出，如果您选择框 1-4，然后选择 5-6，则第一个选择的值将自动取消选择。有没有办法扭转这种影响？我希望能够选择左侧的多个框，然后等待，然后选择右侧的多个框，而不选择先前选择的值。当我们这样做时，我只想在选择已选择的框时取消选择它们。

我试过使用

```
unselecting: function () {
    if ($(this).hasClass('ui-selected') == false) {
        return;
    }
} 
```

和类似但没有运气。

# c# - 如何通过运行 .exe 在特定文件夹中生成输出

> ID：12794455
> 
> 赞同：0
> 
> 时间：2012-10-09T06:58:57.703
> 
> 标签：c#, wpf, exe, system.diagnostics

我正在用 C# 开发 wpf 应用程序。我能够运行以下 exe 文件

```
public static void GenerateCsvFile(string fileName)
        {
            System.Diagnostics.Process process = new System.Diagnostics.Process();
            System.Diagnostics.ProcessStartInfo startInfo = new System.Diagnostics.ProcessStartInfo();
            startInfo.WindowStyle = System.Diagnostics.ProcessWindowStyle.Hidden;
            startInfo.FileName = @"C:\ndfd\degrib\bin\degrib.exe";
            startInfo.Arguments = fileName +  " -C -msg 1 -Csv";
            process.StartInfo = startInfo;
            process.Start();

            System.Diagnostics.Process process1 = new System.Diagnostics.Process();
            System.Diagnostics.ProcessStartInfo startInfo1 = new System.Diagnostics.ProcessStartInfo();
            startInfo1.WindowStyle = System.Diagnostics.ProcessWindowStyle.Hidden;
            startInfo1.FileName = @"C:\ndfd\degrib\bin\degrib.exe";
            startInfo1.Arguments = fileName + " -C -msg all -nMet -Csv";
            process1.StartInfo = startInfo1;
            process1.Start();
        } 
```

上面的代码成功地为我生成了 csv 文件。但是 .csv 文件会根据文件名在不同的位置生成。意味着 .csv 文件每次都会在不同的文件夹中生成。我可以强制 exe 在特定文件夹中生成 .csv 文件吗？您能否提供我可以解决上述问题的任何代码或链接？

编辑：用户选择 zip 文件并提交表单。App.ApplicationPath 是硬编码路径。以下是我的代码

```
private void ShowPointsButton_Click(object sender, RoutedEventArgs e)
        {
            ZipHelper.UnZip(FileNameTextBox.Text, App.ApplicationPath, safeFileName, 9999999);
}

public static void UnZip(string SrcFile, string DstFile, string safeFileName, int bufferSize)
        {
            //ICSharpCode.SharpZipLib.Zip.UseZip64.Off;

            FileStream fileStreamIn = new FileStream(SrcFile, FileMode.Open, FileAccess.Read);

            ZipInputStream zipInStream = new ZipInputStream(fileStreamIn); ;
            //if (SrcFile.Contains(".bz2"))
            //{
            //BZip2InputStream zipInStream = new BZip2InputStream(fileStreamIn);
            //}
            //else
            //{
            //    zipInStream = new ZipInputStream(fileStreamIn);
            //}

            string rootDirectory = string.Empty;
            if (safeFileName.Contains(".zip"))
            {
                rootDirectory = safeFileName.Replace(".zip", string.Empty);
            }
            else
            {
                rootDirectory = safeFileName;
            }

            Directory.CreateDirectory(App.ApplicationPath + rootDirectory);

            while (true)
            {
                ZipEntry entry = zipInStream.GetNextEntry();

                if (entry == null)
                    break;

                if (entry.Name.Contains("/"))
                {
                    string[] folders = entry.Name.Split('/');

                    string lastElement = folders[folders.Length - 1];
                    var folderList = new List<string>(folders);
                    folderList.RemoveAt(folders.Length - 1);
                    folders = folderList.ToArray();

                    //string folderPath = "";
                    //foreach (string str in folders)
                    //{
                        //folderPath = folderPath + @"\" + str;
                        //string blackslash = folderPath.Substring(0, 1);

                        //if (blackslash == "\\")
                        //{
                        //    folderPath = folderPath.Remove(0, 1);
                        //}

                        //if (!Directory.Exists(App.ApplicationPath + rootDirectory + "/" + folderPath))
                        //{
                        //    Directory.CreateDirectory(App.ApplicationPath + rootDirectory + "/" + folderPath);
                        //}
                    //}

                    if (!string.IsNullOrEmpty(lastElement))
                    {
                        //folderPath = folderPath + @"\" + lastElement;

                        //string blackslash = folderPath.Substring(0, 1);

                        //if (blackslash == "\\")
                        //{
                        //    folderPath = folderPath.Remove(0, 1);
                        //}

                        WriteToFile(DstFile + rootDirectory + @"\" + lastElement, bufferSize, zipInStream, rootDirectory, entry);
                    }

                }
                else
                {
                    WriteToFile(DstFile + rootDirectory + @"\" + entry.Name, bufferSize, zipInStream, rootDirectory, entry);
                }
            }

            zipInStream.Close();
            fileStreamIn.Close();
        }

private static void WriteToFile(string DstFile, int bufferSize, ZipInputStream zipInStream, string rootDirectory, ZipEntry entry)
        {
            WriteFileContents(DstFile, bufferSize, zipInStream);

            if (DstFile.Contains(".grb"))
            {
                Utility.GenerateCsvFile(DstFile);
            }

            //if(DstFile.Contains(".csv"))
            //{
            //    WriteFileContents(@"D:\Documents" + rootDirectory + @"\" + entry.Name, bufferSize, zipInStream);
            //}
        }

        private static void WriteFileContents(string DstFile, int bufferSize, ZipInputStream zipInStream)
        {
            FileStream fileStreamOut = new FileStream(DstFile, FileMode.OpenOrCreate, FileAccess.Write);
            int size;
            byte[] buffer = new byte[bufferSize];

            do
            {
                size = zipInStream.Read(buffer, 0, buffer.Length);
                fileStreamOut.Write(buffer, 0, size);
            } while (size > 0);

            fileStreamOut.Close();
        } 
```

在上面的代码中，请参见 Utility.GenerateCsvFile(DstFile); 我想在“DstFile”位置生成 .csv 文件。简而言之，我在其中解压缩文件的文件夹，在我希望 .exe 写入 .csv 文件的同一文件夹中。例如，考虑有一个 D:/XYZ 文件夹，我在其中解压缩我的 zip 文件。在这个文件夹中有 test.grib 文件。我想为 test.grib 运行 exe 并生成 .csv 文件。我希望将这些 .csv 文件写入 XYZ 文件夹。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:17:01.703

processStartInfo.WorkingDirectory = @"你的目录";

请试试这个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:01:20.357

文件名需要指向正确的目录和文件，如c:\somedir\mycsvfile.csv

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:06:04.010

```
string folder = "c:\temp";
string fileName = "c:\somedir\blah\file.csv";

string outputFilePath = Path.Combine(folder, new FileInfo(fileName).Name); 
```

这应该会为您提供 c:\temp\file.csv 的文件路径。这是你追求的那种东西吗？

# php - MongoDB - PHP - MongoCursorException'找不到光标

> ID：12794459
> 
> 赞同：1
> 
> 时间：2012-10-09T06:59:08.747
> 
> 标签：php, mongodb, mongodb-php

找到类似问题的解决方案 - 超时（-1）；和不朽的（真）；- 没有任何帮助:(

当此代码时，我收到此错误：

```
$this->start_time = microtime(true);
    $documents = 0;
    $offset = 0; 
    $files = array();

    $mongo = new Mongo();

    $db = Yii::app()->params['mongo']['db'];
    $db->immortal(true);
    $collection = Yii::app()->params['mongo']['collection'];
    $collection_serial = 'new_serial_number';

    $serial_numbers = $mongo->$db->$collection_serial->find();
    $serial_numbers->timeout(-1);

    $update = false;

    foreach ($serial_numbers as $serial_number) {

   //some code here        
    } 
```

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T16:57:29.410

**注意：： timeout**和**immortal**之间有一个重要的区别！*Timeout 表示在客户*端等待的时间，而 immortal 将光标设置在*服务器*端。

它对于分片环境中的大型结果集特别有用。

--

你在哪一行得到异常？

确保在光标上使用 timeout 或 immortal：

```
$cursor = $collection->find();
$cursor->immortal(true); // this
$cursor->timeout(-1); // or this 
```

# httpwebrequest - 使用大量 cpu 的 Httpwebrequest

> ID：12794462
> 
> 赞同：1
> 
> 时间：2012-10-09T06:59:17.630
> 
> 标签：httpwebrequest

我用 smartthreadpool 将以下功能排队，一切都运行顺利，直到它运行了一段时间，然后 cpu 上升到 98-99%

我已经用 dotTrace 拍摄了一张快照，它告诉我下面的函数正在使用大部分的 cpu .. 任何想法可能是什么问题？

```
 public string websocketExtended(string URL, int socketTimeOut)
    {
        string _html = "";
        HttpWebResponse _wResp;

        try
        {
            HttpWebRequest _wReq;
            System.Text.ASCIIEncoding _enc = new System.Text.ASCIIEncoding();
            _wReq = (HttpWebRequest)WebRequest.Create(URL);
            _wReq.UserAgent = "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)";
            _wReq.Accept = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8";
            _wReq.Method = "GET";
            _wReq.CookieContainer = cookieJarf;
            _wReq.KeepAlive = false;
            _wReq.Timeout = socketTimeOut;
            _wReq.ReadWriteTimeout = socketTimeOut;

            _wResp = (HttpWebResponse)_wReq.GetResponse();
            using (StreamReader sr = new StreamReader(_wResp.GetResponseStream()))
            {
                _html = sr.ReadToEnd();
            }

            cookieJarf = _wReq.CookieContainer;
            _wResp.Close();

        }
        catch (WebException wexc1)
        {
            if (wexc1.Status == WebExceptionStatus.ProtocolError)
            {
                return "";
            }

        }

        return _html;
    } 
```

# windows-8 - SetHeading 不适用于 BingMap 控件

> ID：12794463
> 
> 赞同：0
> 
> 时间：2012-10-09T06:59:21.403
> 
> 标签：windows-8, microsoft-metro

我得到了指南针数据，并希望将地图旋转到移动，但 SetHeading 对我没有任何作用。

它说“确保 RotationEnabled 设置为 true”。但它等于 false 并且没有设置器。

请指教。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T14:37:45.190

事实证明，Heading 仅适用于 Birds Eye 模式，并且只能接受 Nx90 值。

# c# - 如何使用变量作为类型

> ID：12794464
> 
> 赞同：5
> 
> 时间：2012-10-09T06:59:30.303
> 
> 标签：c#, wcf, transfer

我想将 BusinessObjects 从一台 PC 转移到另一台 PC。如果我考虑使用大约 40 种不同的对象类型来转移对不同对象的许多合同的使用，对于总是相同的任务来说似乎是相当多的过载：“将对象 A 发送到计算机 B 并将对象保存到 DB”（对象都有一个持久化方法）。

由于对象可以有许多不同的类型，我只想使用通用方法来：

1.  序列化一个 BO 对象
2.  将其转移到另一台 PC
3.  用正确的类型反序列化它
4.  进行一致性检查
5.  保存到数据库
6.  是我的问题。

目前我正在考虑将类型作为 eytra 信息发送。然后我想做类似的事情：

```
BinaryFormatter aFormatter = new BinaryFormatter();
aFormatter.AssemblyFormat = System.Runtime.Serialization.Formatters.FormatterAssemblyStyle.Simple;
Object.ParseTypeFromString(aObjektType) aObject = aFormatter.Deserialize(stream) as Object.ParseTypeFromString(aObjektType); 
```

之后只需使用基础对象中的通用方法将对象保存到数据库，以使传输类尽可能简单。

有没有可能做这样的事情？还是我走错了方向，用另一种方法更容易完成这项任务？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T07:11:13.647

如果您事先不知道类型，那么您目前***无法***在 C# 中执行任何取决于类型的操作。*已经*`BinaryFormatter`使用正确的对象类型对其进行反序列化，但是您的代码通常可以将对象称为.... ：*`object`*

 *```
object aObject = aFormatter.Deserialize(stream); 
```

此时，您可以使用多种选项：

*   使用通用接口/基类
*   使用`dynamic`（有趣的用途`dynamic`包括调用最合适的方法重载，并切换到泛型方法）
*   `is`使用,`as`或,显式测试类型以`GetType()`用于特殊情况

作为中间选项的示例：

```
object aObject = aFormatter.Deserialize(stream);
GenericMagic((dynamic)aObject);
OverloadMagic((dynamic)aObject);

...

void GenericMagic<T>(T obj) // possibly some constraints here too
{
    T x = ... // now we *have* the type, but as `T`;
              // of course, you still can't do many exciting
              // things unless you add constraints
}

// the correct one of these will be chosen at runtime...
void OverloadMagic(Customer cust) {...}
void OverloadMagic(User user) {...}
void OverloadMagic(Order order) {...} 
```

坦率地说，如果我不得不反序列化（等）未知的东西，我通常更喜欢*保持*非泛型，只使用`object`, `GetType()`，也许还有一些反射 - 它仍然是*泛型*的，即使它不使用*泛型*。*

# jquery - JQuery 保持专注于 div

> ID：12794465
> 
> 赞同：0
> 
> 时间：2012-10-09T06:59:32.917
> 
> 标签：jquery, html

我有一个按钮`updateLogButton`，单击时会显示 div，再次单击时会隐藏它。我已经让这部分工作了。唯一的问题是每次单击按钮时，焦点都会移动到页面的开头，而不是关注 div 中的内容。

jQuery代码：

```
 //hide div on page load
$('#updateLogText').hide();

$('#updateLogButton').click(function() {

    if ($('#updateLogText').is(':visible')){

        //hide div if content is visible
        $('#updateLogText').fadeOut();

    }else{

        $('#updateLogText').fadeIn();       
    }

}); 
```

HTML 代码：

```
<tr>
    <td><a href="#"  id="updateLogButton">Update Log</a></td>
</tr>
<tr>
    <td colspan="3" >
        <div id="updateLogText" style="width:100%;">
            <?php echo $data['updates']; ?>
        </div>

    </td>
</tr> 
```

有人知道如何实现吗？我查看了 JQuery 文档并尝试过：

```
$("#updateLogText").focus();
$("#updateLogText").attr("tabindex",-1).focus(); 
```

上面的不行。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:06:38.097

这是因为 `<a href="#"`删除`#`或`href`属性本身

写成——

```
<a id="updateLogButton">Update Log</a> 
```

CSS -

```
a{ cursor: pointer; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:10:37.920

Try this I think you should use `fadeToggle()` instead of checking div is visible or not and after that set focus

```
 //hide div on page load
$('#updateLogText').hide();

$('#updateLogButton').click(function() {

          $('#updateLogText').fadeToggle();       
          $('#updateLogText').focus();       
    }

); 
```

[http://jsfiddle.net/cF4Bb/5/](http://jsfiddle.net/cF4Bb/5/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-22T16:59:52.033

Ud 下面的行它会起作用，你没有在引号中给出-1，为什么要专注于不来

$("#updateLogText").attr("tabindex",-1).focus();

# asp.net - 如何在 Asp.net mvc4 中创建管理面板

> ID：12794470
> 
> 赞同：-2
> 
> 时间：2012-10-09T06:59:49.187
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, asp.net-mvc-4

请帮助我在 MVC4 中制作管理面板。如果我想从头开始创建它，任何人都可以为我提供逐步编码.. 提前致谢..

这是我的基本模型接下来呢？？？

```
public class userlogon
{
    [Required]
    [Display(Name = "Admin Login")]
    public string UserName { get; set; }

    [Required]
    [DataType(DataType.Password)]
    [Display(Name = "Password")]
    public string Password { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:08:49.217

也许你可以尝试从这个网站学习。

[http://www.asp.net/mvc/tutorials/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3](http://www.asp.net/mvc/tutorials/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3)

对我来说这很有帮助。它一步一步地告诉你该怎么做。这是学习 MVC 的最佳方式。

# android - 按钮背景图像拉伸（wrap_content 或 dp 使用）

> ID：12794472
> 
> 赞同：10
> 
> 时间：2012-10-09T07:00:00.923
> 
> 标签：android, button, background-image, android-linearlayout

我正在为我的自定义按钮设置背景图像。我为我的应用程序制作了一个屏幕截图，并提到当我使用“wrap_content”作为按钮的宽度和高度时，按钮会被拉伸。当我在 dp 中固定大小时，它会看起来不错（例如：在我的 mdpi 文件夹中，我有 48x48px 的图标，所以我在宽度和高度上放置了 48dp）。你能解释一下为什么吗？

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/definition_layout"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical"
android:padding="5dp"
android:layout_alignParentTop="true" >

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/buttons"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="5dp" >

    <Button
        android:id="@+id/addToFavorites"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="5dp"
        android:background="@drawable/favorites_button" />

    <Button
        android:id="@+id/fontup"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="5dp"
        android:background="@drawable/fontup_button" />

    <Button
        android:id="@+id/fontdown"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="5dp"
        android:background="@drawable/fontdown_button" />

    <Button
        android:id="@+id/comment"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="5dp"
        android:background="@drawable/comment_button" />

    <Button
        android:id="@+id/speak"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="5dp"
        android:background="@drawable/speak_button" />
    </LinearLayout>

    <ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent" 
        android:layout_height="fill_parent"
        android:layout_below="@id/buttons">

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content">

    <ImageView
        android:id="@+id/image_frame"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />
    <WebView
        android:id="@+id/webView1"
        android:layout_below="@id/image_frame"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />
    </LinearLayout>
    </ScrollView>

    </RelativeLayout> 
```

上面的代码显示了我的 XML 文件。您可以查看此链接以查看我的问题的屏幕截图： [https ://www.dropbox.com/s/phnxt5p335ltqef/buttons_icon_altered.png](https://www.dropbox.com/s/phnxt5p335ltqef/buttons_icon_altered.png)

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2014-05-20T12:17:13.887

您可以通过将 minWidth 和 minHeight 设置为 0dp 来避免按钮背景拉伸

```
<Button
    android:id="@+id/addToFavorites"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:minWidth="0dp"
    android:minHeight="0dp"
    android:layout_margin="5dp"
    android:background="@drawable/favorites_button" /> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-07-30T09:37:41.807

It is pretty easy:

*   Use *ImageButton* instead of *Button*
*   set the **background** attribute to *null*
*   set the **src** attribute
*   set the **scaleType** attribute to *centerInside*

Working example:

```
<ImageButton
android:id="@+id/my_awesome_button"
android:scaleType="centerInside"
android:background="@null"
android:gravity="center"
android:layout_height="wrap_content" 
android:layout_width="wrap_content"
android:src="@drawable/my_awesome_drawable"/> 
```

**Note:** You can also use a **dp** value instead of "**wrap_content**".

I hope it helps.

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-09T07:12:01.620

It appears stretched because "wrap_content" means android will stretch the image to fit the enclosing layout.

In your case, the buttons in the linear layout will take as much space as they can within the layout. So unless you set the height and width for the buttons, they will stretch out to fill the space occupied by the linear layout and consequently, their background images will also stretch along with the buttons.

But if you set the button size to 48dp, then the images won't have to stretch since they are also 48px in size and hence they will look nice.

Go through the excellent official developer docs for more info on layouts here: [https://developer.android.com/guide/topics/ui/declaring-layout.html](https://developer.android.com/guide/topics/ui/declaring-layout.html)

and for learning how to manage your layouts and assets for multiple android screen sizes and resolutions here:

[https://developer.android.com/guide/practices/screens_support.html](https://developer.android.com/guide/practices/screens_support.html)

# php - 如何在php中获取wordpress帖子的标题

> ID：12794473
> 
> 赞同：0
> 
> 时间：2012-10-09T07:00:02.910
> 
> 标签：php, wordpress, post, get, title

如何在此 php 代码中获取 WordPress 帖子的标题

```
 <?php include("imdb.php");   $imdb = new Imdb(); $movieArray =
 $imdb->getMovieInfo("**.get_the_title().**"); echo '<table
 cellpadding="3" cellspacing="2" border="1" width="80%"
 align="center">'; foreach ($movieArray as $key=>$value){
     $value = is_array($value)?implode("<br />", $value):$value;
     echo '<tr>';
     echo '<th align="left" valign="top">' . strtoupper($key) . '</th><td>' . $value . '</td>';
     echo '</tr>'; } echo '</table>'; ?> 
```

我试图输入`".get_the_title()."`但没有得到当前帖子的标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:23:42.153

我假设您的代码在 wordpress 循环中，所以您只需要使用：

```
$imdb->getMovieInfo(get_the_title()); 
```

使用`$imdb->getMovieInfo("**.get_the_title().**");`不起作用，因为 PHP 不处理字符串中的函数：[http ://www.php.net/manual/language.types.string.php](http://www.php.net/manual/language.types.string.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:24:18.297

`get_the_title()``$id`如果您不在**循环**中，函数要求您传递它。如果您在循环中，并且想要使用当前帖子的 id 来获取标题，那么您可以调用该函数而不传递任何内容。

见[`get_the_title`](http://codex.wordpress.org/Function_Reference/get_the_title)，[`the_loop`](http://codex.wordpress.org/The_Loop)。

# php - 当动态添加表单字段未从帖子中获取价值时

> ID：12794479
> 
> 赞同：0
> 
> 时间：2012-10-09T07:00:26.873
> 
> 标签：php, jquery, ajax, forms, post

我正在`getattributes.php`使用`ajax`并从该文件中调用一个文件，我正在附加一个包含一些复选框的表。它已成功附加，但问题是当我提交表单时，我没有获得动态添加的那些字段的值。我也知道stackoverflow中有类似的问题，但我仍然有问题。

getattributes.php :-

```
 <tr><th><?php echo($exquery['specification_name']);?></th>

    <?php $getattribute = "SELECT * FROM attributes WHERE specification_id = '".$specifi_id[$i]."'  ";
    $executeattribute = mysql_query($getattribute);

    while($attibutes = mysql_fetch_assoc($executeattribute))
    {
        $attributecount = $attributecount + 1;
    ?>

        <td><input type='checkbox' value='<?php echo($attibutes['attribute_id']);?>' name='attribute_id<?php echo($i);?>[]'>&nbsp;<?php echo($attibutes['attribute_name']);?></td>
        <input type='hidden' name = 'attribute_id<?php echo($i);?>[]' value='<?php echo($attibutes['attribute_id']);?>' id='spec<?php echo $i;?>attr<?php echo $attributecount?>'/>
    <?php }?>

    </tr>
    <?php
        $attributecount = 0;
    ?>
    <!--<input type='hidden' name = 'test' value='<?php echo $attributecount;?>' id='spec<?php echo $i;?>'/>-->

<?php } 
```

我还添加了快照，表明它已成功附加到我的表单上：-

![在此处输入图像描述](../Images/21d3b0d172c90cf212df917e2a61a3bd.png)

这里规格表是动态添加的，我想获取品牌和颜色复选框的值。我不知道是什么问题。

编辑：-发布方法代码

```
<form method="POST" action="" enctype="multipart/form-data" class="myform">
  // some field //

</form> 
```

我正在检查 post 值`print_r($_POST)`，我得到了表单的所有值，但没有得到动态添加的字段值

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:13:46.950

`print_r($_POST)`如果在提交表单时选中了该特定复选框，则只会显示一个复选框值

要检查是否已选中复选框，请使用以下命令：

```
if( isset($_POST["Name-Of-Checkbox"]) ) {
    $checkboxIsChecked = true;
} 
```

# java - 如何为“cmd param1，param2，paramm”编写正则表达式

> ID：12794483
> 
> 赞同：-3
> 
> 时间：2012-10-09T07:00:43.870
> 
> 标签：java, regex

如何写`regex`for `cmd` `$param1`, `$param2`, ...., `$paramn?

我的解决方案是这样的，但它只有 4 个参数

```
 "(\\w+)\\s*(\\$\\w+)*,*\\s*(\\$\\w+)*,*\\s*(\\$\\w+)*,*\\s*(\\$\\w+)*" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:07:34.893

由于您只对实际参数感兴趣，因此您只需要 (\w*)，这将为您提供一个包含所有没有美元的单词的数组。

如果您需要美元，请使用： (\$\w*)

你可以在[regexPal上测试一下](http://regexpal.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:18:12.000

```
"^\\w+\\s+(\\$[^\\,^\\s,^\\$]+\\s*,\\s*)*\\$[^\\,^\\s,^\\$]+$" 
```

# c++ - 如何获取文件的大小

> ID：12794484
> 
> 赞同：2
> 
> 时间：2012-10-09T07:00:45.483
> 
> 标签：c++, c, file-io

> **可能重复：**
> [使用 C++ 文件流 (fstream)，如何确定文件的大小？](https://stackoverflow.com/questions/2409504/using-c-filestreams-fstream-how-can-you-determine-the-size-of-a-file)
> [c程序中的文件大小](https://stackoverflow.com/questions/5757353/file-size-in-c-program)

我想检索文件的大小，为此我以这种方式实现

```
(void)fseek(m_fp, 0, SEEK_END); // Set the file pointer to the end of the file
pFileSize = ftell(m_fp);        // Get the file size
(void)fseek(m_fp, oldFilePos, SEEK_SET);  // Put back the file pointer at the original location 
```

这对于出于需要是不可行的，还有其他方法可以获取文件大小或检查文件是否包含数据

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:03:10.763

你可以使用统计

```
#include <sys/types.h>
#include <sys/stat.h>
#if defined (_WIN32)
#  include <io.h> // make portable for windows
#else
#include <unistd.h>
#endif

struct stat st;
stat (filename, &st);
std::cout << st.st_size; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:04:37.640

如果是二进制流，那么 pFileSize 就是从 oldFilePos 到文件末尾的字节数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:59:18.367

你写的是一种 100% 多平台的方式来做你需要的事情。`stat()`在类 Unix 操作系统或`GetFileAttributesEx()`Windows上，使用您的操作系统调用来做更多事情。

# javascript - 在 Internet Explorer 7 中出现“页面错误”错误

> ID：12794489
> 
> 赞同：-2
> 
> 时间：2012-10-09T07:01:06.383
> 
> 标签：javascript, c#, infragistics

我在 javascript 中创建了一个页面，并在其中创建了一个 Infragistics Grid 控件，我可以在其中显示搜索条件的数据。C# 代码工作正常。它正在从数据库中读取数据，但不在网页上显示结果。页面在角落加载一个黄色标记，上面写着“页面错误”。该怎么办？是代码问题还是浏览器问题。我该如何解决？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:02:38.007

您应该看到错误详细信息。这些应该是错误消息弹出窗口上的详细信息按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:03:58.223

*   打开 f12 窗口设置 start debubbing 并查看错误发生在哪里
*   或者您可以在浏览器上右键单击您的页面并查看源代码并转到第 200 行，看看您是否可以找到任何 js 代码。

我建议你在 f12 中进行调试，看看你是否发现任何错误

# jquery - 使用 jquery 加载页面的一部分

> ID：12794490
> 
> 赞同：0
> 
> 时间：2012-10-09T07:01:10.620
> 
> 标签：jquery

有两个页面，webform3.html加载完成后，将webform4.html的部分页面内容添加到webform3.html的div中。但是当我点击Button4时，事件不起作用。如何解决这个问题？非常感谢！

WebForm3.html

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1" runat="server">
<title></title>
<script src="scripts/jquery-1.7.2.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        $("#W4").load("WebForm4.html #CC");
        $("#Button4").click(function () {
            alert("webform4.html");
        })
    })
</script>
</head>
<body>
<form>
<div id="W4">
</div>
<input id="Button1" type="button" value="button" />
</form>
</body>
</html> 
```

WebForm4.html

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
<title></title>
</head>
<body>
<div id="CC">
    <input id="Button4" type="button" value="button"/>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:20:58.980

`delegate()`在回调中加载完成后附加您的事件处理程序或附加它：

```
<script type="text/javascript">
    $(function () {
        $("#W4").load("WebForm4.html #CC", function () {
            $("#Button4").click(function () {
                alert("webform4.html");
            });
        });
    })
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:21:07.547

尝试使用.on**而**不是**.click**：

 **```
$(function () {
    $("#W4").load("WebForm4.html #CC");
    $("#Button4").on("click", function () {
        alert("webform4.html");
    });
}); 
```**

# java - 检票口页面有 2 个表单，检测表单修改行为

> ID：12794491
> 
> 赞同：0
> 
> 时间：2012-10-09T07:01:11.110
> 
> 标签：java, wicket

我在 wicket 框架中工作了 6 个月。

导航或关闭页面时如何检测表单中的字段发生更改并显示对话框？

我正在序列化表单`onload`，`onunload`但是当我在页面中有 2 个表单时它不起作用。

我如何将此行为应用于文件组件。

在此先感谢，萨加尔。

# c++ - 编译时出现字符串数组错误

> ID：12794498
> 
> 赞同：0
> 
> 时间：2012-10-09T07:01:33.070
> 
> 标签：c++, string

这是我的示例代码：

```
#include <iostream>
#include <cstring>
#include <vector>
#include <iterator>
#include "MQmessage.h"

using namespace std;

int main()
{
    // declaring an array to store name/value pair
    struct Property  user_property[15];
    const char* const list[] = {"stateCode","errorCode"};
    const size_t len = sizeof(list) / sizeof(list[0]);
    for (size_t i = 0; i < len; ++i) {
        strcpy(user_property[0].name,list[i]);
    }
    for (size_t i = 0; i < len; ++i) {
        std::cout<<user_property[i]<<endl;
    }
    return 0;
} 
```

我在代码中遇到以下错误：

> 与 std::cout 中的 'operator<<' 不匹配

有人可以告诉我我做错了什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:04:29.690

我猜你想要`std::cout<<user_property[i].name<<endl`，否则你将不得不重载 of 的`<<`运算符`Property`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:04:01.417

您需要`operator<<`为`struct Property`.

请注意，如果您只想输出`Property::name`它，`std::string`您还需要`#include <string>`使其`operator<<`可用`std::string`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:21:05.270

只需为“属性”添加一个打印功能，如下所示：

```
void print()
{
    std::cout<<this->name<<endl;
    std::cout<<this->othermember<<endl;  //if you have some other members
} 
```

并在您的主要只是执行以下操作：

```
for (size_t i = 0; i < len; ++i) {
    user_property[i].print(); } 
```

# android - 触摸绘制 android 油漆颜色

> ID：12794513
> 
> 赞同：0
> 
> 时间：2012-10-09T07:02:31.770
> 
> 标签：android, drawing, touch, draw

我正在使用这段代码让用户用手指画线：

```
public class DrawingView extends View {

private Paint paint;
private Path path;

public DrawingView(Context context , AttributeSet attrs) {
    super(context, attrs);

    this.paint = new Paint();
    this.paint.setAntiAlias(true);
    this.paint.setColor(Color.BLACK);
    this.paint.setStyle(Paint.Style.STROKE);
    paint.setStrokeJoin(Paint.Join.ROUND);
    paint.setStrokeWidth(5f);

    this.path = new Path();
}

@Override
protected void onDraw(Canvas canvas) {
    canvas.drawPath(path, paint);
}

@Override
public boolean onTouchEvent(MotionEvent event) {
    float eventX = event.getX();
    float eventY = event.getY();

    switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:
            path.moveTo(eventX, eventY);
            return true;
        case MotionEvent.ACTION_MOVE:
        case MotionEvent.ACTION_UP:
            path.lineTo(eventX, eventY);
            break;
        default:
            return false;
    }

    // Schedules a repaint.
    invalidate();
    return true;
}

public void clear() {
    path.reset();
    invalidate();
}

public void setPaintColor(int color) {
    paint.setColor(color);
}

public int getCurrentPaintColor() {
    return paint.getColor();
}
} 
```

使用方法 setPaintColor() 我正在改变油漆的颜色。但是当我改变颜色时，整个绘图都会改变（甚至是我之前画的线条）。如何更改油漆的颜色并使以前的图纸保持不变？我尝试创建新路径，但之前的绘图消失了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:36:45.643

您需要为此创建一个小型数据结构，它将存储绘图的颜色和路径。这是一个示例：

```
class PaintClass
{
    Path path;
    int Color;
    public int getColor() { return color; }
    public void setColor(int color){this.Color = color;}
    public int getPath() { return path; }
    public void setPath(Path path){this.path = path;}

    ...
    ...
    ...   
} 
```

现在维护一个包含 PaintClass 对象的数组列表。

在 onDraw 方法中这样实现

```
{    
    for(PaintClass item : yourArrayListOfPaintClassObjects)
    {
        //set Paint color like this
        setPaintColor(item.getPaintColor());
        canvas.drawPath(.....,paint);
    }
} 
```

**注意：在每个新绘图上，在 arraylist 中添加新创建的 PaintClass 对象...**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-26T12:45:26.910

您需要使用此代码，它将帮助您画一条线

```
 public class MainActivity extends Activity implements OnTouchListener  {
private float x;
private float y;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    MyCustomPanel view = new MyCustomPanel(this);

    ViewGroup.LayoutParams params = 
                        new ViewGroup.LayoutParams(LayoutParams.FILL_PARENT,
                                                   LayoutParams.FILL_PARENT);
    addContentView(view, params);
    view.setOnTouchListener(this);

}
private class MyCustomPanel extends View {

    public MyCustomPanel(Context context) {
        super(context);

    }
    @Override
    public void draw(Canvas canvas) {

        Paint paint = new Paint();
        paint.setColor(Color.GREEN);
        paint.setStrokeWidth(6);

        canvas.drawLine(10,10,50,50,paint);
        paint.setColor(Color.RED);

        canvas.drawLine(50, 50, 90, 10, paint);
        canvas.drawCircle(50, 50, 3, paint);

        canvas.drawCircle(x,y,3,paint);

    }
}
public boolean onTouch(View v, MotionEvent event) {
    x = event.getX();
    y = event.getY();

    v.invalidate();
    return true;
} 
```

}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:17:06.207

您需要使用您的逻辑来保存颜色并将它们加载到 onDraw() 方法中，因为有时我创建了具有 positionX、positionY、color 属性的对象 Point ..:)

# sql - 如何使用 Sql Server 2008 重构具有子查询的 select 语句？

> ID：12794515
> 
> 赞同：0
> 
> 时间：2012-10-09T07:02:38.287
> 
> 标签：sql, sql-server, sql-server-2008, refactoring

有时，子查询很好并且有它们的位置，如以下代码所示：

```
select x1.test, (select r from table) from ...... 
```

但是，添加更多子查询会在查询中产生更多障碍，例如性能问题和可重用性问题等等/

我将如何重构下面的 sql 代码以使其比以前运行得更快...

```
 Select f.c1
      ,f.c2
         ,f.c3 As 'c3Id'
         ,p.Value As 'c3'
         ,m.c4 As 'r1'

         ,(Select SUM(t1.table1x)
             From [ap].table1 t1
             Where t1.table1x = 1 
               And f.c1 = t1.c1 
               And f.c2 = t1.c2
               And f.c3 = t1.c3) As 'r2'

         ,(Select SUM(t2.x)
             From [ap].table2 t2
             Where t2.c1 = f.c1
               And t2.c1 = f.c2
               And t2.c3 = f.c3) As 'r3'

         ,(Select SUM(t1.table1x)
             From [ap].table3 t3
             Where t3.table3Turu = 2
               And f.c1 = t3.c1 
               And f.c2 = t3.c2
               And f.c3 = t3.c3) As 'r4'

         ,(Select SUM(t4.x)
             From [ap].table4 t4
             Where t4.c1 = f.c1
               And t4.c1 = f.c2
               And t4.c3 = f.c3) As 'r5'

From [ap].table1 f 
Inner Join [dbo].table5 m On f.c1 = m.col11
Inner Join [dbo].table6 p On f.c3 = p.col22

Where p.xxxx = 'test'
Group By f.c1, f.c2, f.c3, m.c4, p.Value 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:10:27.487

You can use UDF (User Defined Functions) to simplify the code. Include your subquery into a function and send required parameters to this function from your main query. For Example, you can send 3 parameters f.c1, f.c2 and f.c3 to a function say GetSumT1() and use that in the query in place of your sub query.

```
Select f.c1       
,f.c2          
,f.c3 As 'c3Id'          
,p.Value As 'c3'          
,m.c4 As 'r1'            
, GetSumT1(f.c1, f.c2, f.c3) As 'r2'
...
... 
```

# html - 浮动内的 z-index 没有溢出到兄弟节点

> ID：12794516
> 
> 赞同：1
> 
> 时间：2012-10-09T07:02:40.730
> 
> 标签：html, css

**考虑以下 DIV 结构：**

```
<style>
#content{float:left;width:100%;}
#overlay{position:absolute;z-index:100;}
</style>

<body>
    <div id="header">header</div>
    <div id="overlayBox">
        <div id="overlay">
            I want to overlay #content. 
            If my height is greater than
            #content, I don't want to 
            spill onto other elements. 
            I want to push them away.
        </div>
    </div>
    <div id="content">content</div>
    <div id="footer">footer</div>
</body> 
```

**在示例中，我想：**

如果高度大于`#header`_`#footer``#overlay``#content`

*即使这个 DIV 结构是完全错误的，它也只是用来说明需要。*

* * *

这是我遇到的问题的一个很好的例子：http: [//jsfiddle.net/Udqkc/](http://jsfiddle.net/Udqkc/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:38:48.997

好吧，`#content`搬进`#overlayBox`：

```
 <div id="overlayBox">
        <div id="overlay">
            I want to overlay #content. 
            If my height is greater than
            #content, I don't want to <br />
            spill onto other elements. <br />
            I want to push them away.
        </div>
        <div id="content">content</div>
    </div> 
```

稍微改变了CSS：

```
#overlay {float:left;}
#overlayBox {overflow:hidden;}
#content {position:absolute;}​ 
```

工作示例 - [http://jsfiddle.net/nKwQF/14/](http://jsfiddle.net/nKwQF/14/)

希望这会有所帮助，因为我不确定你是否能够移动`#content`

# ruby-on-rails - ActionView::Template::Error（dyld：未加载库：/opt/local/lib/libssl.1.0.0.dylib

> ID：12794518
> 
> 赞同：1
> 
> 时间：2012-10-09T07:02:55.307
> 
> 标签：ruby-on-rails, ruby

当我尝试启动 Rails 应用程序（使用来自 Ryan Bates 的 railscasts.com 的代码）时，出现以下错误。根据谷歌搜索，其他人在卸载 Macports 后也遇到了类似的错误，我最近也这样做了。但是，他的错误与我的代码未使用的 pg gem 有关。在 SO 上还有其他几个类似的帖子，但它们与是否有人知道可能出了什么问题有关

```
h: line 1:  1511 Trace/BPT trap          node /var/folders/rc/rcFucU9oF5qT5vZE\+tL1JE\+\+\+TI/-Tmp-/execjs20121008-1505-1v364bs.js 2>&1

Started GET "/" for 127.0.0.1 at 2012-10-08 23:45:06 -0700
Processing by TopicsController#index as HTML
  Topic Load (0.3ms)  SELECT "topics".* FROM "topics" ORDER BY sticky desc
   (0.2ms)  SELECT COUNT(*) FROM "posts" WHERE "posts"."topic_id" = 4
   (0.2ms)  SELECT COUNT(*) FROM "posts" WHERE "posts"."topic_id" = 1
   (0.2ms)  SELECT COUNT(*) FROM "posts" WHERE "posts"."topic_id" = 2
   (0.2ms)  SELECT COUNT(*) FROM "posts" WHERE "posts"."topic_id" = 3
  Rendered topics/index.html.erb within layouts/application (216.9ms)
Completed 500 Internal Server Error in 1479ms

ActionView::Template::Error (dyld: Library not loaded: /opt/local/lib/libssl.1.0.0.dylib
  Referenced from: /usr/local/bin/node
  Reason: image not found

  (in /Users/mm/Sites/authorizationPart1/forum-after/app/assets/javascripts/sessions.js.coffee)):
    3:   <head>
    4:     <title>Forum</title>
    5:     <%= stylesheet_link_tag    "application", media: "all" %>
    6:     <%= javascript_include_tag "application" %>
    7:     <%= csrf_meta_tag %>
    8:   </head>
    9:   <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb___3636075050981736840_2167808160'

^C[2012-10-08 23:48:50] INFO  going to shutdown ...
[2012-10-08 23:48:50] INFO  WEBrick::HTTPServer#start done.
Exiting 
```

宝石清单

```
aaronh-chronic (0.3.9 ruby)
abstract (1.0.0)
actionmailer (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
actionpack (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
activemodel (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
activerecord (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
activeresource (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
activesupport (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
acts-as-taggable-on (2.3.3)
acts_as_indexed (0.7.8)
addressable (2.3.2, 2.2.8, 2.2.6 ruby, 2.0.2)
ansi (1.4.3, 1.4.2)
arel (3.0.2 ruby, 2.2.3, 2.0.10, 2.0.8)
awesome_nested_set (2.1.5, 2.1.3)
awesome_print (1.1.0)
babosa (0.3.8, 0.3.7)
backbone-on-rails (0.9.2.1, 0.9.2.0)
bcrypt-ruby (3.0.1 ruby)
binding_of_caller (0.6.8)
bson (1.7.0)
bson_ext (1.7.0)
builder (3.1.3, 3.0.3 ruby, 3.0.2, 3.0.0 ruby, 2.1.2)
bundler (1.2.1, 1.2.0.pre.1)
capybara (1.1.2 ruby)
cargo_wiki (1.0.1)
carrierwave (0.5.8)
childprocess (0.3.5, 0.3.0 ruby)
chunky_png (1.2.6)
coderay (1.0.7, 1.0.5 ruby, 0.9.7)
coffee-rails (3.2.2 ruby, 3.1.1)
coffee-script (2.2.0 ruby)
coffee-script-source (1.3.3 ruby, 1.3.1)
columnize (0.3.6)
commonjs (0.2.6)
compass (0.12.2)
compass-rails (1.0.3)
cucumber (1.2.1, 1.1.4 ruby, 0.10.0)
cucumber-rails (1.3.0, 1.2.1 ruby, 0.3.2)
cucumber-websteps (0.9.0 ruby)
daemons (1.1.9, 1.1.8)
data_mapper (1.2.0, 0.9.11)
data_objects (0.10.9, 0.9.12)
database_cleaner (0.7.0 ruby)
debugger (1.2.0)
debugger-linecache (1.1.2)
debugger-ruby_core_source (1.1.3)
devise (2.1.2, 2.0.4)
diff-lcs (1.1.3 ruby, 1.1.2)
dm-aggregates (1.2.0, 0.9.11)
dm-cli (1.2.0, 0.9.11)
dm-constraints (1.2.0)
dm-core (1.2.0, 0.9.11)
dm-is-tree (1.2.0, 0.9.11)
dm-migrations (1.2.0, 0.9.11)
dm-observer (1.2.0, 0.9.11)
dm-serializer (1.2.2, 0.9.11)
dm-timestamps (1.2.0, 0.9.11)
dm-transactions (1.2.0)
dm-types (1.2.2, 0.9.11)
dm-validations (1.2.0, 0.9.11)
do_mysql (0.10.9)
dragonfly (0.9.12)
dropbox-sdk (1.5.1, 1.1)
eco (1.0.0)
eco-source (1.1.0.rc.1)
ejs (1.1.1, 1.0.0)
erubis (2.7.0 ruby, 2.6.6)
eventmachine (1.0.0, 1.0.0.rc.4, 0.12.10)
exception_notification (2.5.2 ruby)
excon (0.16.4, 0.16.1)
execjs (1.4.0 ruby, 1.3.0)
extlib (0.9.15)
factory_girl (4.1.0, 2.4.2 ruby, 1.3.3)
factory_girl_rails (4.1.0)
faraday (0.8.4 ruby)
fastercsv (1.5.5)
ffi (1.1.5, 1.0.11 ruby)
filters_spam (0.3)
formtastic (2.2.1 ruby, 1.2.3)
friendly_id (4.0.8, 4.0.7)
fssm (0.2.9)
gherkin (2.11.2, 2.7.3 ruby, 2.3.3)
gli (2.3.0)
globalize3 (0.2.0)
gmaps4rails (1.5.5)
guard (1.4.0)
guard-rspec (2.0.0)
haml (3.1.7)
haml-rails (0.3.5)
hashie (1.2.0)
hello-world (1.2.0)
hello_world (0.0.2)
heroku (2.32.8, 2.30.3)
heroku-api (0.3.5, 0.3.4)
hike (1.2.1 ruby)
hirb (0.7.0)
htmlentities (4.3.1)
httpauth (0.2.0, 0.1)
i18n (0.6.1 ruby, 0.6.0 ruby, 0.5.0)
jist (1.0.1)
journey (1.0.4 ruby)
jquery-rails (2.1.3, 2.1.2 ruby, 2.1.1 ruby, 2.0.2, 1.0.19)
jquery-ui-rails (2.0.2, 2.0.0)
json (1.7.5 ruby, 1.7.3, 1.6.6, 1.6.3, 1.4.6)
json_pure (1.7.5)
jwt (0.1.5)
launchy (2.1.2, 2.0.5 ruby)
less (2.2.2)
less-rails (2.2.3)
lesstile (1.1.0, 1.0.1 ruby)
libv8 (3.11.8.3 x86_64-darwin-10, 3.3.10.4 x86_64-darwin-10)
libwebsocket (0.1.5)
listen (0.5.3)
mail (2.4.4 ruby, 2.3.3, 2.2.19, 2.2.15)
market_beat (0.2.0)
method_source (0.8)
methodfinder (1.2.5)
mime-types (1.19 ruby, 1.18, 1.16)
mongo (1.7.0)
mongodb (2.1.0)
multi_json (1.3.6 ruby, 1.2.0, 1.0.4 ruby)
multipart-post (1.1.5 ruby)
netrc (0.7.7)
nokogiri (1.5.5, 1.5.0 ruby)
oauth (0.4.7, 0.4.5)
oauth2 (0.8.0)
omniauth (1.1.1)
omniauth-facebook (1.4.1)
omniauth-oauth2 (1.1.1, 1.1.0)
open_id_authentication (1.1.0 ruby)
orm_adapter (0.4.0, 0.0.7)
paper_trail (2.6.3)
pg (0.14.0)
polyglot (0.3.3 ruby, 0.3.1)
pry (0.9.10, 0.8.3)
pry-doc (0.4.4)
pry-nav (0.2.2 ruby)
pry-rails (0.2.2, 0.2.0)
pry-remote (0.1.6 ruby)
pry-stack_explorer (0.4.7)
rack (1.4.1 ruby, 1.3.6, 1.2.5, 1.2.1)
rack-cache (1.2 ruby)
rack-flash (0.1.2)
rack-mount (0.8.3, 0.6.14, 0.6.13)
rack-openid (1.3.1 ruby, 1.2.0)
rack-protection (1.2.0 ruby)
rack-ssl (1.3.2 ruby)
rack-test (0.6.2, 0.6.1 ruby, 0.5.7)
rails (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
rails3-generators (0.17.6)
rails_autolink (1.0.9)
railties (3.2.8 ruby, 3.2.6, 3.1.3, 3.0.4)
rake (0.9.2.2 ruby, 0.8.7)
rb-fsevent (0.9.2)
rdiscount (1.6.8)
rdoc (3.12 ruby)
redcarpet (2.1.1)
RedCloth (4.2.9 ruby, 4.2.8)
refinerycms (2.0.8, 2.0.5)
refinerycms-authentication (2.0.8, 2.0.5)
refinerycms-blog (2.0.4)
refinerycms-core (2.0.8, 2.0.5)
refinerycms-dashboard (2.0.8, 2.0.5)
refinerycms-i18n (2.0.2, 2.0.0)
refinerycms-images (2.0.8, 2.0.5)
refinerycms-pages (2.0.8, 2.0.5)
refinerycms-resources (2.0.8, 2.0.5)
refinerycms-settings (2.0.2)
rest-client (1.6.7)
rmagick (2.13.1)
routing-filter (0.3.1)
rspec (2.11.0, 2.8.0 ruby, 2.5.0)
rspec-core (2.11.1, 2.8.0 ruby, 2.5.1)
rspec-expectations (2.11.3, 2.8.0 ruby, 2.5.0)
rspec-mocks (2.11.3, 2.8.0 ruby, 2.5.0)
rspec-rails (2.11.0, 2.8.1 ruby, 2.5.0)
ruby-openid (2.2.1, 2.1.8 ruby)
ruby_parser (2.3.1)
rubyzip (0.9.9, 0.9.5 ruby)
sass (3.2.1 ruby, 3.1.20, 3.1.15, 3.1.12 ruby)
sass-rails (3.2.5 ruby, 3.2.3 ruby, 3.1.6)
scrapi (2.0.0, 1.2.0)
selenium-webdriver (2.25.0, 2.17.0 ruby)
seo_meta (1.3.0)
sexp_processor (3.2.0)
simple_form (2.0.3, 2.0.2)
simple_oauth (0.1.9)
sinatra (1.3.3 ruby)
sinatra-static-assets (1.0.4)
slop (3.3.3)
sprockets (2.6.0, 2.1.3 ruby, 2.0.3)
sqlite3 (1.3.6 ruby, 1.3.5 ruby, 1.3.3)
sqlite3-ruby (1.3.3)
stringex (1.4.0)
strong_parameters (0.1.3)
term-ansicolor (1.0.7 ruby, 1.0.5)
therubyracer (0.10.2)
thin (1.5.0, 1.4.1 ruby)
thor (0.16.0 ruby, 0.15.4, 0.14.6)
tidy (1.1.2)
tidy_ffi (0.1.4)
tilt (1.3.3 ruby)
treetop (1.4.10 ruby, 1.4.9)
truncate_html (0.5.5)
turn (0.9.6, 0.8.2)
twitter (4.0.0, 3.7.0)
twitter-bootstrap-rails (2.1.3)
twix (0.0.1)
tzinfo (0.3.33 ruby, 0.3.24)
uglifier (1.3.0 ruby, 1.2.6, 1.2.4)
uuidtools (2.1.3)
warden (1.2.1, 1.1.1)
webrat (0.7.3 ruby)
will_paginate (3.0.3, 3.0.2 ruby, 3.0.pre2)
xml-simple (1.1.1)
xpath (0.1.4 ruby)
yahoo_sports (0.2.1, 0.2.0)
yard (0.8.2.1) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T07:57:00.597

为了解决我所做的问题

```
brew uninstall node

brew install node 
```

这似乎是卸载 MacPorts 的人的常见问题。谷歌搜索，我发现人们也不得不卸载 postgres 或 mysql，这取决于独特的情况。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2019-05-16T19:52:30.310

你应该更新`yarn`：

```
brew upgrade yarn 
```

并运行

```
yarn install 
```

# javascript - 如何使用 jquery 多选显示组名以及下拉列表项？

> ID：12794524
> 
> 赞同：1
> 
> 时间：2012-10-09T07:03:10.953
> 
> 标签：javascript, jquery, asp.net, jquery-ui

嗨，我正在使用[http://www.erichynds.com/jquery/jquery-ui-multiselect-widget](http://www.erichynds.com/jquery/jquery-ui-multiselect-widget) 插件进行带有选项组的下拉菜单的多选。

我还想显示组名以及项目。请在下面找到我用于相同的代码。

```
<script type="text/javascript">
    $(document).ready(function () {
        $(".multiselect").multiselect({
            selectedList: 10,
            noneSelectedText: 'Select Options',
            header: false,
            show: ['slide', 100],
            hide: ['explode', 100], //explode,bounce
            height: 200,
            multiple: true,
            autoOpen: false,
            position: {
                my: 'center',
                my: 'top',
                at: 'center',
                at: 'bottom'
            }
        });

        var target = $('#<%=hdnftest.ClientID %>');
        var a = "";
        $(".multiselect").multiselect().bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
            var checkedValues = $.map($(this).multiselect("getChecked"), function (input) {
                return (input.value + ':' + input.title);
            });
            target.val(
            checkedValues.length
                ? checkedValues.join(', ')
                : 'Please select a checkbox'
        );

        }).triggerHandler("multiselectclick");
        $(".multiselect").multiselect("close");

    });

      </script>

    <select class="multiselect" multiple="multiple">
         <optgroup label="EAST">
             <option>Testing1</option>
                <option>Testing2</option>
                <option>Testing3</option>
                <option>Testing4</option>
            </optgroup>
            <optgroup label="NORTH">
                <option>Testing5</option>
                <option>Testing6</option>
                <option>Testing7</option>
                <option>Testing8</option>
            </optgroup>
            <optgroup label="SOUTH">
                <option>Testing9</option>
                <option>Testing10</option>
                <option>Testing11</option>
                <option>Testing12</option>
            </optgroup>
       </select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:15:30.143

您可以处理多选小部件的创建事件并更改其中复选框的标签：

```
$(".multiselect").multiselect({
    selectedList: 10,
    noneSelectedText: 'Select Options',
    header: false,
    show: ['slide', 100],
    hide: ['explode', 100],
    //explode,bounce
    height: 200,
    multiple: true,
    autoOpen: false,
    position: {
        my: 'center',
        my: 'top',
        at: 'center',
        at: 'bottom'
    },
    create: function(event, ui) {
        var checkBoxes = $(this).multiselect("widget").find(":checkbox");
        checkBoxes.each(function() {
            var caption = $(this).next("span");
            var groupText = $(this).parents("li").prevAll(".ui-multiselect-optgroup-label:first").text();
            caption.text(groupText + " - " + caption.text());
        });
    }
});​ 
```

[JSFiddle 链接](http://jsfiddle.net/1stein/wNDge/)

# php - 变量的回声不起作用

> ID：12794527
> 
> 赞同：0
> 
> 时间：2012-10-09T07:03:24.320
> 
> 标签：php, sql

嘿伙计们，我写了一小段代码，它连接到数据库，然后将一些数据输出，`echo`但它不像我想要的那样工作：编辑更新代码：

```
 <html>
 <head>
  <title>Automatische E-mails</title>
 </head>
 <body>
 <?php
    include("db_login.php");

    $link = mysql_connect($host, $user, $pass) or die ("Keine Verbindung zu der Datenbank moeglich.");
    mysql_select_db($db, $link);
    $sql = "SELECT `ID_Zuordnung`, `Username`, `Hostname_alt`, `Datum_Ausgabe` FROM `zuordnung` WHERE `Status_Tausch` = 'OK' AND `Status_Altgeraet` = 'NOK' ORDER BY `Hostname_alt` ASC";

    $result = mysql_query($sql);

    while($resultarray = mysql_fetch_array($result))
    {
            echo '<p>'.$resultarray['HW_Typ'].'</p>';
            echo '<p>'.$resultarray['Hostname_alt'].'</p>';
            echo '<p>'.$resultarray['Username'].'</p>';
            echo '<p>'.$resultarray['Emailadresse'].'</p>';
            echo '<p>'.$resultarray['Datum_Ausgabe'].'</p>';
            echo '<p>'.$resultarray['Abteilung'].'</p>';
    }

    ?> 
 </body>
</html> 
```

运行产生了这个输出：

```
'.$resultarray['HW_Typ'].'

'; echo '

'.$resultarray['Hostname_alt'].'
'; echo '

'.$resultarray['Username'].'
'; echo '

'.$resultarray['Emailadresse'].'
'; echo '

'.$resultarray['Datum_Ausgabe'].'
'; echo '

'.$resultarray['Abteilung'].'
'; } ?> 
```

我不知道我的错误在哪里，因为昨天一切正常！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T11:23:25.417

我看到有几件事可能会导致问题：

**1：**

1.1：查询。你有一个 ) 但无处是一个 ( 所以可以删除一个......最后你还有一个 ; 。不能伤害它，但不是必需的

1.2 你在 Zuordnung_ID 之后缺少一个 ,

1.3 按订单，您是否错过了订单的方式（ASC 或 DESC）

1.4 另一个注意事项（据我所知不需要，但它是这样教给我的，字段名必须用 ` 包围

所以 sql 代码将如下所示：

```
$sql = "SELECT `Zuordnung_ID`, `HW_Typ`, `Hostname_alt`, `Username`, `Emailadresse`, `Datum_Ausgabe`, `Abteilung`
        FROM `zuordnung`
            ON `users.Username` = `zuordnung.Username`
        WHERE `Status_Tausch`='OK' AND `Status_Altgeraet`='NOK'
        ORDER BY `Hostname_alt` ASC"; 
```

**2：**

echo 不需要 ()，并尝试在开头和和处使用相同的引号。所以它看起来像这样：

```
while($resultarray = mysql_fetch_array($result))
    {
            echo '<p>'.$resultarray['HW_Typ'].'</p>';
            echo '<p>'.$resultarray['Hostname_alt'].'</p>';
            echo '<p>'.$resultarray['Username'].'</p>';
            echo '<p>'.$resultarray['Emailadresse'].'</p>';
            echo '<p>'.$resultarray['Datum_Ausgabe'].'</p>';
            echo '<p>'.$resultarray['Abteilung'].'</p>';
    } 
```

你应该试试这个

**版本 2：** 试试这个：

```
$textHolder = "";
while($resultarray = mysql_fetch_array($result))
    {
            $textHolder .= '<p>' . $resultarray['HW_Typ'] . '</p>';
            $textHolder .= '<p>' . $resultarray['Hostname_alt'] . '</p>';
            $textHolder .= '<p>' . $resultarray['Username'] . '</p>';
            $textHolder .= '<p>' . $resultarray['Emailadresse'] . '</p>';
            $textHolder .= '<p>' . $resultarray['Datum_Ausgabe'] . '</p>';
            $textHolder .= '<p>' . $resultarray['Abteilung'] . '</p>';
    }
echo $textHolder; 
```

如果第 2 版不起作用，请尝试第 3 版

**版本 3：**

您可以尝试的是我用来解析数据库中的数据的方法。mysql_fetch_assoc。那么代码将如下所示：

```
$textHolder = "";
while($resultassoc = mysql_fetch_assoc($result))
    {
            $textHolder .= '<p>' . $resultassoc['HW_Typ'] . '</p>';
            $textHolder .= '<p>' . $resultassoc['Hostname_alt'] . '</p>';
            $textHolder .= '<p>' . $resultassoc['Username'] . '</p>';
            $textHolder .= '<p>' . $resultassoc['Emailadresse'] . '</p>';
            $textHolder .= '<p>' . $resultassoc['Datum_Ausgabe'] . '</p>';
            $textHolder .= '<p>' . $resultassoc['Abteilung'] . '</p>';
    }
echo $textHolder; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:08:37.547

采用

```
 echo "<p>$resultarray['HW_Typ']</p>";
        echo "<p>$resultarray['Hostname_alt']</p>";
        echo "<p>$resultarray['Username']</p>";
        echo "<p>$resultarray['Emailadresse']</p>";
        echo "<p>$resultarray['Datum_Ausgabe']</p>";
        echo "<p>$resultarray['Abteilung']</p>"; 
```

将工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:20:36.047

代码未正确复制到此处，`'`或者`db_login.php`. 非常仔细地检查。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:21:29.277

您的 Sql 查询似乎有错误。可能您错过了前 2 列（Zuordnung_ID、HW_Typ）之间的逗号，并且查询使用了 ON 连接条件，但用户表没有 JOIN。

确保您的查询是正确的，或者以下查询是否正确？

```
SELECT Zuordnung_ID, HW_Typ, Hostname_alt, Username, Emailadresse, Datum_Ausgabe, Abteilung
FROM zuordnung
    INNER JOIN users ON users.Username = zuordnung.Username)
WHERE Status_Tausch='OK' AND Status_Altgeraet='NOK'
ORDER BY Hostname_alt 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T11:39:13.333

这实际上看起来就像您的网络服务器没有启用 PHP，而是为您提供原始源文件。我敢打赌，如果您查看源代码，您将看到整个 PHP 源代码。

# ruby-on-rails - 在 ruby 单元测试中测试 activerecord 查询的数量

> ID：12794528
> 
> 赞同：1
> 
> 时间：2012-10-09T07:03:27.457
> 
> 标签：ruby-on-rails, unit-testing, activerecord

有没有办法测试特定函数进行的 mysql 查询的数量？只想检查查询限制，因为函数中的微小更改会触发 1000 个查询而不是一个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:18:39.417

是的，您可以使用[assert_queries](http://apidock.com/rails/v3.2.8/ActiveRecord/TestCase/assert_queries)方法。[在这里](https://github.com/rails/rails/blob/19fa8fa3c436ed5b25e7ed0005f128487a7d1f0b/activerecord/test/cases/batches_test.rb#L15)查看如何使用它：

```
def test_each_should_excecute_one_query_per_batch
  assert_queries(Post.count + 1) do
    Post.find_each(:batch_size => 1) do |post|
      assert_kind_of Post, post
    end
  end
end 
```

# css - 如何在一个表单上正确显示客户端错误和服务器端？

> ID：12794529
> 
> 赞同：0
> 
> 时间：2012-10-09T07:03:31.187
> 
> 标签：css, ruby-on-rails, jquery-validate

我正在使用 RubyOnRails 和 jQuery 验证插件。我想让所有错误看起来都一样。

这是我的错误代码：

```
 <% if @website.errors.any? %>//for server errors
  <div class="error_explanation">
  <ul>
    <% @website.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
  </ul>  
 </div>
<% end %>
 <div id="messageBox1"> //for client side errors
  <ul></ul> 
</div> 
```

我试图以一种形式包装所有内容，但如果这样做：

```
 <div class="error_background">
      if ...server side ...
      end
     ... client site ...
    </div> 
```

CSS：

```
.error_background{
padding: 20px 0 20px 20px;
width: 285px;
background: rgb(252, 248, 227) ;
border-radius: 5px;
 } 
```

但是当没有服务器端错误时它会显示背景。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T10:20:12.280

如果您希望它们看起来相同，那么您所要做的就是在您的 css 中使用逗号为它们制作一个阶梯，如下所示：

```
.error_explanation, #messageBox1 {} 
```

并且只有在出现错误时才应该将它们插入 dom 中，或者将背景放在它们里面

```
.error_explanation, #messageBox1 ul {
    padding: 20px 0 20px 20px;
    width: 285px;
    background: rgb(252, 248, 227) ;
    border-radius: 5px;
} 
```

# asp.net-mvc - (asp.net mvc) 同时从两封不同的电子邮件发送信件

> ID：12794532
> 
> 赞同：0
> 
> 时间：2012-10-09T07:03:36.220
> 
> 标签：asp.net-mvc, mvcmailer

`my1@gmail.com`我从（**我正在使用`MvcMailer`它**）向用户发送信件。

**但我还需要同时从另一封电子邮件 my2@gmail.com 发送这封信的副本。**

如何实施？

# security - 重载 jQuery.ajax() 方法以向数据参数添加额外的标记值

> ID：12794534
> 
> 赞同：0
> 
> 时间：2012-10-09T07:03:41.403
> 
> 标签：security, jquery, token

我必须向网站传递一个额外的令牌值，以便我可以验证请求。

添加值的函数是这样的：

```
AddPageTokenToAjaxRequest = function (data)
{
    data.hfPageToken = $('#hfPageToken').val();
    return data;
}; 
```

，它必须像这样使用：

```
function asociate(id)
{

    $.ajax({
        url: postbackURL, 
        type: 'POST',
        data: AddPageTokenToAjaxRequest( { id: id} ),
        success: function (result)
        {
            refresh();
        }
    });
} 
```

问题是我不想在大约 100 个这样的调用中更改代码。有没有办法覆盖发送 ajax 调用的数据，这样我就不必进行 100 次更改？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:21:53.007

您可以在发送之前使用[jQuery.ajaxSend()](http://api.jquery.com/ajaxSend/)修改您的数据吗？

> 每当即将发送 Ajax 请求时，jQuery 都会触发 ajaxSend 事件。此时会执行已使用 .ajaxSend() 方法注册的所有处理程序。

类似于（伪代码）：

```
var modify = function(event, jqXHR, ajaxOptions)
{
    ajaxOptions.data = AddPageTokenToAjaxRequest( { id: ajaxOptions.data} )
}
$.ajaxSend(modify(e, jqXHR, opts)); 
```

只是一个想法。似乎它可能会起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:29:52.570

在看到 Polymorphix 的回答后，我又进行了一次搜索，并在这里找到了这段代码： [https ://stackoverflow.com/a/12116344/249895](https://stackoverflow.com/a/12116344/249895)

```
$(document).ready(function ()
{
    var securityToken = $('#hfPageToken').val()
    $('body').bind('ajaxSend', function (elm, xhr, s)
    {
        if (s.hasContent && securityToken)
        {   // handle all verbs with content
            var tokenParam = "hfPageToken=" + encodeURIComponent(securityToken);
            s.data = s.data ? [s.data, tokenParam].join("&") : tokenParam;
            // ensure Content-Type header is present!
            if (s.contentType !== false || options.contentType)
            {
                xhr.setRequestHeader("Content-Type", s.contentType);
            }
        }
    });
}); 
```

我对此进行了测试，效果很好。

# bash - Makefile 的基于任务的语言替代方案

> ID：12794537
> 
> 赞同：2
> 
> 时间：2012-10-09T07:04:04.177
> 
> 标签：bash, programming-languages, makefile

在`Makefile`'s 我可以定义任务，以便用户可以指定他/她想要做什么：

```
make run
make serve
make deploy
.. 
```

这似乎工作正常，但我觉得`Makefile`'s 对于所有这些依赖分析和相对晦涩的语法/执行来说，对于这个目的来说太过分了。是否有任何专门为此目的设计的语言/工具最好在大多数系统上提供？或任何想法如何`bash`为此目的使用类似的东西？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T08:38:34.183

所以在Arjun的建议下，我想出了一个`sh`脚本：

```
#!/usr/bin sh

# only one task at a time
if [ $# != 1 ]; then
    echo "usage: $0 <task_name>"
fi

run() {
    echo "I'm now running"
}

serve() {
    echo "I'm now serving"
}

deploy() {
    echo "I'm now deploying"
}

case $1 in
    "run")        run;;
    "serve")      serve;;
    "deploy")     deploy;;
esac 
```

这比我想象的要容易得多。我已命名该文件`task`，以便我现在可以将任务运行为：

```
$ sh task serve
I'm now serving 
```

或者如果文件是可执行的：

```
$ ./task deploy
I'm now deploying 
```

声明中有一点重复，`switch`但对我来说已经足够了。如果它可以变得更好，请随时给我发表评论。

# android - android中的编程设备

> ID：12794539
> 
> 赞同：0
> 
> 时间：2012-10-09T07:04:20.510
> 
> 标签：android, mobile, tablet

我想知道，如果所有支持 Android OS 的设备都可以手动重新编程，或者它们是否允许制作自己的应用程序并加载它们，以防万一我想为自己编写一个应用程序或者它仅限于特定设备。我怎么知道？

更新：例如，我想编写一个个人应用程序，以使用手写笔在手写模式下准备笔记，并将其他数学工具集成到其中。期待添加空间等功能，以防我想在稍后的某个时间点添加笔记或完全删除一些笔记页面的特定部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:06:50.967

不可以。Android SDK 允许将任何 Android 设备用作开发平台。除非制造商明确禁用此功能。（您始终可以手动重新启用它。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:07:04.243

您可以创建自己的自定义应用程序，并可以将它们加载到您的安卓手机中，但您的安卓手机的 api 级别应该高于应用程序的 api 级别。

# php - 从数据库中获取日期的分组

> ID：12794546
> 
> 赞同：1
> 
> 时间：2012-10-09T07:04:40.017
> 
> 标签：php, mysql

我正在使用此查询从数据库中选择行

```
$date=mysql_query("SELECT party_id, advo_id, max(fixed_date) as d FROM `case_proceeding` group by party_id order by fixed_date"); 
```

```
 while($drow=mysql_fetch_array($date)){  

    if($drow['d']<$today){

        $decide=mysql_query("select * from case_decision where party_id='$drow[party_id]'");

        if(mysql_num_rows($decide)=='0')
        {

            if($drow['d']!='0000-00-00')
            {
                echo '<a href=case-tracking.php?date='.$drow['d'].'&party_id='.$drow['party_id'].'&advo_id='.$drow['advo_id'].' style=color:#000000;>'.date('d/m/Y',strtotime($drow['d'])).'</a>';
            }

        } 
```

有许多行具有相同的固定日期。

例如。party_id=1 有 fixed_date=2012-08-12 和 party_id=5 也有相同的日期 fixed_date=2012-08-12

现在我想将具有相同固定日期的行分组。

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:12:37.137

尝试这个：

```
SELECT t1.party_id, t2.advo_id, t1.MaxDate
FROM
(
    SELECT party_id, 
      MAX(fixed_date) AS MaxDate 
    FROM `case_proceeding` 
    GROUP BY party_id 
) t1
INNER JOIN case_proceeding t2  ON t1.party_id = t2.party_id 
                              AND t1.MaxDate  = t2.fixed_date
ORDER BY fixed_date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T15:03:59.280

在不知道您的表格和关系的情况下涉及一定数量的猜测，但请尝试一下：

SELECT cd.*, cp.party_id, cp.advo_id, cp.MaxDate FROM (SELECT party_id, advo_id, MAX(fixed_date) AS MaxDate FROM `case_proceeding` GROUP BY party_id) cp INNER JOIN case_decision cd ON cp.party_id = cd.party_id ORDER BY cp .MaxDate

# c# - c#.Net中“var”关键字的意义是什么？

> ID：12794547
> 
> 赞同：2
> 
> 时间：2012-10-09T07:04:42.280
> 
> 标签：c#, var

> **可能重复：**
> [在 C# 中使用 var 关键字](https://stackoverflow.com/questions/41479/use-of-var-keyword-in-c-sharp)
> [var 关键字的意义何在？](https://stackoverflow.com/questions/209199/whats-the-point-of-the-var-keyword)

在使用隐式类型而不是显式类型时，我在这里有点困惑。

正如 MSDN 在 C# 编码标准中所引用的：

> 当变量的类型从赋值的右侧显而易见时，或者当精确类型不重要时，对局部变量使用隐式类型。

我的问题是，当我们已经知道底层变量类型时，为什么我们需要在这里使用隐式类型？

会有什么优势？

请帮助澄清我的疑问。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T07:11:50.570

take this as an example:

```
var q = from c in myCollection
        select new
    { c.Value1, c.Value2 }; 
```

we can't determine the datatype of q here because it's generated at run time "anonymus-type"
and that is the main purpose of it

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T07:34:02.367

看看这个：

```
Collection<KeyValuePair<Predicate<T>, Action<T>>> x = 
new Collection<KeyValuePair<Predicate<T>, Action<T>>>(); 
```

现在看看这个：

```
var x = new Collection<KeyValuePair<Predicate<T>, Action<T>>>(); 
```

`var`而且，我敢，我敢让你告诉我，使用关键字没有冒险。

注意：这是基于我不想提及的某个项目中的实际声明。

您可能认为使用`var`关键字有一些缺点，嗯，有，但它们都在编译时。您的可执行文件一如既往地好。没错，`var`就是不一样`object`，，，，根本不一样！相反，它告诉编译器使用您分配给它的任何类型来声明变量。`dynamic``variant`

例如：

```
var x = 1;
x  = "something"; //Error!!! 
```

好吧，这听起来可能很傻。“我知道类型”——你说——“为什么我不能把它放下？” - 你问 - “看，这很容易：”

```
int x = 1; 
```

嗯，三个原因：

*   [正如Star 提到](https://stackoverflow.com/a/12794657/402022)的，有时您不知道类型。
*   有时您只是不想输入类型（提示：查看此答案的开头）。
*   有时您希望具有不需要告诉类型的灵活性。

这最后一点在创建文本转换模板或代码片段时特别有用，而且在您日常复制粘贴时也很方便。

然而，只要考虑一下你是否改变了一些神秘方法的返回类型......说你有：

```
List<string> MamboJambo()
{
    //...
} 
```

现在您已将其更改为：

```
IList<string> MamboJambo()
{
    //...
} 
```

不好了！您现在必须更新 50 个课程。等什么？不，你没有！因为你一直在遵循那个说总是使用的建议`var`。

注意：好的，不是现实的例子，但它仍然可以理解。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-09T07:07:12.107

> 当我们已经知道底层变量类型时，为什么我们需要在这里使用隐式类型？会有什么优势？

它只是为了编码方便，快速打字，如果你愿意，加上你的行变得*更短*。

最后，在这种情况下，类型在赋值的*右侧可见。*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T07:09:36.720

当您知道底层类型时，您从隐式类型变量中获得的唯一好处是，如果您更改原始类型（对于兼容的类型），则不必重新定义它们。

基本上，隐式类型变量的最大优势是分配往往很长且不断变化的类型（如 linq enumerables 或 queryables）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:05:17.553

它声明了一个隐式类型的变量。也就是说，在编译时它将自行确定类型，因此您不必键入它。**它的主要目的是声明一个变量，例如你想要分配一个匿名方法。**基本上，它允许您输入更少，仅此而已，从代码阅读器的角度来看，尽可能指定确切的类型要好得多。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T07:09:12.087

var 关键字用于变量声明而不是类型。var 的技术术语是“隐式类型的局部变量声明”。变量本身仍然是静态类型的（类型是在编译代码时确定的），它仍然是强类型的（类型一旦被声明就不能改变）。不同之处在于我们不再在源代码中明确说明变量的类型。相反，编译器根据变量的初始化来推断变量的类型。例如：

```
var maxValue = 500;    
var customerFirstName = "Jimmy";
var stopwatch = new System.Timers.Timer(); 
```

在此示例中，maxValue 使用 System.Int32 类型编译，customerFirstName 是 System.String，秒表是 System.Timers.Timer。如果不明显，当使用 var 声明变量时，声明中的初始化程序是强制性的。此外，初始化器对其有一些限制，其中包括：

它必须是一个返回具有类型的值的表达式；例如，匿名函数声明（如 lambda）是无效的，但允许使用文字表达式和对象构造函数。它不能返回 null 类型。它不能引用被声明的变量。每个声明只允许一个声明；不允许多次声明。更多信息： [http ://www.techrepublic.com/blog/programming-and-development/code-concepts-cs-var-keyword/1461](http://www.techrepublic.com/blog/programming-and-development/code-concepts-cs-var-keyword/1461)

# c# - 识别网络中的工作站 c#

> ID：12794550
> 
> 赞同：2
> 
> 时间：2012-10-09T07:05:00.907
> 
> 标签：c#, networking, network-programming, wmi

我正在尝试使用 c# 识别我的网络中的工作站，使用 c# 检索它的可能方法是什么。

我正在使用以下代码：

```
 [DllImport("Netapi32.dll")]
    static extern unsafe int NetWkstaGetInfo(IntPtr servername, int level, byte** bufptr);

    [DllImport("Netapi32.dll")]
    static extern unsafe int NetApiBufferFree(byte* bufptr);

    [STAThread]
    static unsafe void Main(string[] args)
    {
        byte* bp = null;
        int rc = NetWkstaGetInfo(IntPtr.Zero, 102, &bp);

        WkstaInfo102* wip = (WkstaInfo102*)bp;
        Console.WriteLine("System {0} has {1} users logged on", Marshal.PtrToStringAuto(wip->computername), wip->logged_on_users);

        rc = NetApiBufferFree(bp);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T14:15:46.713

谢谢大家，我有解决办法：

```
using System;
using System.Management;
using System.Windows.Forms;

namespace WMISample
{
    public class MyWMIQuery
    {
        public static void Main()
        {
            try
            {
                ManagementObjectSearcher searcher = 
                    new ManagementObjectSearcher("root\\CIMV2", 
                    "SELECT * FROM Win32_OperatingSystem WHERE ProductType = 2"); 

            foreach (ManagementObject queryObj in searcher.Get())
            {
                Console.WriteLine("-----------------------------------");
                Console.WriteLine("Win32_OperatingSystem instance");
                Console.WriteLine("-----------------------------------");
                Console.WriteLine("ProductType: {0}", queryObj["ProductType"]);
            }
        }
        catch (ManagementException e)
        {
            MessageBox.Show("An error occurred while querying for WMI data: " + e.Message);
        }
    }
} 
```

}

这里 ProductType 我有以下值：

价值含义

1 个工作站

2 域控制器

3 服务器

参考：[Win32_OperatingSystem 类](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394239%28v=vs.85%29.aspx)

谢谢，

阿尔沙德

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:18:38.220

这有帮助，几个月前我用过这个东西，这对我有用。

```
public void GetAllWorkstations()
{
List<string> objWorkstationNames = new List<string>();

//Creating Directory Entry object by LDAP Query
DirectoryEntry objEntry = new DirectoryEntry("LDAP://YourActiveDirectoryDomain.no");

DirectorySearcher objDirectoriesManager = new DirectorySearcher(objEntry);

//LDAP Query that will surely do the trick, filtering out only workstations/Computer
objDirectoriesManager.Filter= ("(objectClass=computer)");

//Setting up maximum directory/Computer/Workstations limit
objDirectoriesManager.SizeLimit= int.MaxValue;

//Setting up page size
objDirectoriesManager.PageSize= int.MaxValue;

foreach(SearchResult resEnt in objDirectoriesManager.FindAll())
{
    string WorkstationName = resEnt.GetDirectoryEntry().Name;
    //Here you can add different type of check in order to filter out you results.
    objWorkstationNames.Add(ComputerName);
 }

 objDirectoriesManager.Dispose();
 objEntry.Dispose();

 //objWorkstationNames is the required list of Network Computer

} 
```

或者你也可以尝试另一种方法，不确定这个，没有亲自尝试过

```
using (DirectoryEntry objEntry = new DirectoryEntry("WinNT://Workgroup"))
{
    foreach (DirectoryEntry objEntry in workgroup.Children)
    {
        Console.WriteLine(child.Name);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:21:19.593

检查这个：

[是否有一种 .NET 方法来枚举所有可用的网络打印机？](https://stackoverflow.com/questions/1018001/is-there-a-net-way-to-enumerate-all-available-network-printers)

它仅适用于打印机，但它可以帮助您。

# mysql - MySQL SELECT 基于多列的聚合

> ID：12794552
> 
> 赞同：0
> 
> 时间：2012-10-09T07:05:06.117
> 
> 标签：mysql, sql

我在 MySQL 中有一个表，其中包含许多普通字段和许多“批准”字段，其中包含一个`1`如果有问题的数据被批准，`0`否则。例如，

```
*==============================================================*
* id  |  fname  | lname | fname_approved | lname_approved | ...*
*--------------------------------------------------------------*
* ... |   ...   |  ...  |        0       |        1       | ...* 
```

实际上，还有更多的列，但只是更多相同。我想要做的是选择一个值，`all_approved`如果*所有*`_approved`字段都包含 1 则等于 1，如果任何*字段*包含 0 则等于 0。有什么简单的方法可以在 SQL 中执行此操作，还是我需要在我的应用程序逻辑中处理它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:09:25.083

您可以使用乘法

```
select (fname_approved * lname_approved) as all_approved from my_table; 
```

这样，如果任何 _approved 为 0，则 all_approved 将为 0，否则为 1

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:16:40.137

试试这个查询，

```
SELECT IF(fname_approval = 1 && lname_approval   = 1 && mname_approval= 1, 'all_approved ', 'Not-Approved') AS approved_status 
from table_name 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:14:51.620

如果批准列的数量是固定的并且其中的值是 0 或 1，那么这样的事情会有所帮助

```
Select (fname_approval + lname_approval + mname_approval) from <table_name> 
```

此查询将为您提供总数，例如 3.. 这意味着所有内容都已被批准，因为列数与总数相同。如果总数较少，则意味着您没有获得所有批准。

您需要对列数进行硬编码（这不是一个好主意）。希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:16:36.673

```
select 
  case 
    when  fname_approved=1 and lname_approved=1  then 1 as all_approved
    else 0 as not_approved
  end ;
 from my_table 
```

# eclipse - Eclipse & Maven 输出目录

> ID：12794558
> 
> 赞同：1
> 
> 时间：2012-10-09T07:05:25.663
> 
> 标签：eclipse, maven-2

我正在使用 eclipse juno & maven 2.2.1。

有没有一种简单的方法可以将 eclipse 输出文件夹与 maven 分开？所以我想在目标目录中构建eclipse，在target-maven目录中构建maven。

我尝试使用

```
 <directory>target-maven</directory> 
```

在 pom.xml 中。

如果我在创建项目后这样做，它工作正常。
但是当从 svn（没有 .classpath .target ... 只有 src 文件夹）和 eclipse:eclipse 恢复项目时，一切都在 target-maven 中构建。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:14:13.650

您可以为此创建[不同的配置文件](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)。`mvn-eclipse`为 Eclipse 和`mvn-cmd`指定不同目标目录的命令行创建配置文件。您需要在 Eclipse Launch Configurations 中激活配置文件（选择`Run as -> Maven Build ...`并出现该`Profiles`字段），或者您可以[创建两个不同的`settings.xml`](http://maven.apache.org/settings.html). 在您指定的一个

```
 <activeProfiles>
    <activeProfile>mvn-eclipse</activeProfile>
  </activeProfiles> 
```

而在另一个

```
 <activeProfiles>
    <activeProfile>mvn-cmd</activeProfile>
  </activeProfiles> 
```

您应该将包含的设置文件命名`mvn-cmd`为活动配置文件`settings.xml`，以便在命令行上使用 maven 时不必进行任何更改。在 Eclipse 中，您可以通过`Preferences -> Maven -> User settings`.

但是我不建议这样做，因为您可能会遇到两个输出文件夹不同步的问题。因此，请务必为此提供充分的理由。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-19T23:44:13.377

作为对第一个答案的回应，这是为 Maven 和 Eclipse 设置单独的输出文件夹的正当理由：

我正在尝试处理一个相当大的基于 Maven 的项目（200 多个子项目），涉及最新的 Scala（2.13），Eclipse 不支持该项目。[Scala-IDE 在 2.12 时实际上已经死了](https://gitter.im/scala-ide/scala-ide?at=5d78f6626e889c4bbdd9c4ca)。没有它，在 Eclipse 中进行干净的构建将删除 Maven 编译的 Scala 类并彻底破坏一切。我不确定是否需要提及 m2e 也无法使用。

所以这一切都以几行 perl 来修复我的工作区而告终。相信我，我已经尝试了很多其他方法。这个解决方案仍然需要我在另一个脚本步骤中将已编译的 Scala 类提供给 Eclipse，但这并不是真正的问题。

此解决方案不会更改 Maven 的，而是 Eclipse 的输出文件夹，方法是调整`.classpath`由`mvn eclipse:eclipse`. 将调用中的目标文件夹更改`setAttribute(...)`为您喜欢的并在项目根目录中运行脚本。

```
#!/usr/bin/perl
use strict;
use XML::XPath;

my $files = [];
find_files( '.', '^\.classpath$', $files );

for my $file ( @$files ) {
    my $xp = XML::XPath->new( filename => $file );

    $xp->find( '/classpath/classpathentry[@kind="output"]' )
       ->[0]
       ->setAttribute( 'path', 'target-eclipse' );

    open my $ofh, '>', $file or die 'Cannot open for writing: '.$file;
    print $ofh $xp->getNodeAsXML;
    close $ofh;
}

sub find_files {
    my ( $path, $mask, $hits ) = @_;
    opendir my $dh, $path or die 'Cannot open path: '.$path;
    for my $entry ( grep { ! /^\.{1,2}$/ } readdir $dh ) {
        my $fullpath = $path.'/'.$entry;
        if ( -d $fullpath ) {
            find_files( $fullpath, $mask, $hits );
        } elsif ( $entry=~/$mask/ ) {
            push @$hits, $fullpath;
        }
    }
    closedir $dh;
} 
```

**更新：**如果您不介意重新生成*所有*Eclipse 文件（这将擦除您可能拥有的任何其他自定义设置），您可以简单地执行以下操作：

```
mvn eclipse:eclipse -DoutputDirectory=target-eclipse 
```

# python - 为什么 Python 中的 ['hello'] is ['hello'] 返回 False？

> ID：12794560
> 
> 赞同：3
> 
> 时间：2012-10-09T07:05:36.237
> 
> 标签：python

> **可能重复：**
> [Python：为什么是（“hello”是“hello”）？](https://stackoverflow.com/questions/1392433/python-why-is-hello-is-hello)

```
['hello'] is ['hello']    # gives False 
```

为什么？他们的身份证不一样。为什么元组或数字最终没有返回 False？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-09T07:26:43.337

考虑以下（Python 2.7.3，64 位）：

```
>>> a = "Hello"
>>> b = "Hello"
>>> a is b
True 
```

Python 对短字符串进行实习`'Hello'`，只存储一次。这是一个实现细节，语言标准**不**保证。它可能会在较长的字符串上失败：

```
>>> a = "this is a long string"
>>> b = "this is a long string"
>>> a is b
False 
```

现在考虑一下：

```
>>> a = ["Hello"]
>>> b = ["Hello"]
>>> a is b
False 
```

`a`和`b`是两个不同的对象。您可以通过以下方式检查`id()`：

```
>>> id(a)
33826696L
>>> id(b)
33826952L 
```

^(这是一件)好事，因为当你这样做时

```
>>> a[0] = "Goodbye"
>>> a
['Goodbye']
>>> b
['Hello'] 
```

但是，如果你这样做

```
>>> a = ["Hello"]
>>> b = a
>>> a is b
True
>>> a[0] = "Goodbye"
>>> b
['Goodbye'] 
```

因为`a`和`b`是指同一个对象的名称 ( `id(a) == id(b)`)。最后，表明即使你得到

```
>>> a = ["Hello"]
>>> b = ["Hello"]
>>> a is b
False 
```

字符串仍被保留并仅存储一次：

```
>>> id(a[0])
33846096L
>>> id(b[0])
33846096L 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-09T07:08:44.880

运算符测试两个`is`对象引用是否引用同一个对象（它不是一个相等运算符，而是一个恒等运算符）。在您的示例中，您创建了两个单独的列表，因此您有两个不同的对象，这就是您看到`False`被返回的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:21:46.587

当您使用`[]`语法创建列表时，会创建一个新的列表对象。列表是可变对象，因此，即使两个列表碰巧包含相同的元素，它们也不是相同的对象。您可以观察到通过调用其中一种修改方法来更改列表实际上不会更改 ID：

```
In [1]: a = ["hello"]
In [2]: b = ["hello"]
In [3]: id(a)
Out[3]: 4477468112
In [4]: id(b)
Out[4]: 4477467824
In [5]: a.append("world")
In [6]: id(a)
Out[6]: 4477468112 
```

# git - 如何配置 Git 提交后挂钩

> ID：12794568
> 
> 赞同：133
> 
> 时间：2012-10-09T07:06:03.413
> 
> 标签：git, jenkins, hook, commit

如何从 Jenkins 远程触发构建？
如何配置 Git 提交后挂钩？

我的要求是，每当在特定项目的 Git 存储库中进行更改时，它将自动为该项目启动 Jenkins 构建。

在 Jenkins 触发器构建部分，我选择了远程触发器构建。
在`.git`目录中，有 hooks 目录，我们必须配置 post commit 文件。
我很困惑如何从那里触发构建（我知道我们应该使用 curl 命令的某些部分）。

* * *

```
curl cmbuild.aln.com/jenkins/view/project name/job/myproject/buildwithparameters?Branch=feat-con 
```

我已将此命令放在我的 git 服务器挂钩目录（提交后挂钩）中。
每当存储库中发生更改时，它都会运行自动构建。

我想检查变更集中是否至少有一个 java 文件应该开始构建。
假设开发人员只更改了构建不应启动的 xml 文件或属性文件。
除了`xml`，假设`.java`文件在那里，构建应该开始。

* * *

## 回答 #1

> 赞同：169
> 
> 时间：2012-10-09T07:29:00.503

如“[轮询必须死：从 git hook 触发 Jenkins 构建](http://kohsuke.org/2011/12/01/polling-must-die-triggering-jenkins-builds-from-a-git-hook/)”中所述，您可以通知 Jenkins 新的提交：

> 使用最新的[Git 插件 1.1.14](https://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin)（我现在刚刚发布），您现在可以更轻松地执行此操作，只需执行以下命令：
> 
> ```
> curl http://yourserver/jenkins/git/notifyCommit?url=<URL of the Git repository> 
> ```
> 
> 这将扫描所有配置为检查指定 URL 的作业，如果它们也配置了轮询，它将立即触发轮询（如果发现值得构建的更改，则会依次触发构建。 )
> 
> 这允许脚本在 Jenkins 中来来去去时保持不变。
> 或者，如果您在单个存储库主机应用程序（例如 Gitosis）下有多个存储库，则可以与所有存储库共享一个接收后挂钩脚本。最后，即使对于受保护的 Jenkins，此 URL 也不需要身份验证，因为服务器不直接使用客户端发送的任何内容。它在实际开始构建之前运行轮询以验证是否存在更改。

如此[处所述](http://jenkins.361315.n4.nabble.com/triggering-Jenkins-builds-from-a-git-hook-td4173543.html)，请确保为您的 Jenkins 服务器使用正确的地址：

> 由于我们在端口 8080 上将 Jenkins 作为独立 Web 服务器运行，因此 URL 应该没有`/jenkins`，如下所示：
> 
> ```
> http://jenkins:8080/git/notifyCommit?url=git@gitserver:tools/common.git 
> ```

为了强调最后一点，[ptha](https://stackoverflow.com/users/1860867/ptha)[在评论中](https://stackoverflow.com/questions/12794568/how-to-configure-git-post-commit-hook/12794930#comment50886496_12794930)添加：

> 这可能很明显，但我遇到了以下问题：
> 
> ```
> curl http://yourserver/jenkins/git/notifyCommit?url=<URL of the Git repository>. 
> ```
> 
> **url**参数应该与您在Jenkins 作业的**Repository URL**中的内容完全匹配。
> 在复制示例时，我省略了协议，在我们的例子`ssh://`中，它没有工作。

* * *

您还可以使用简单的 post-receive 挂钩，如“[使用 Jenkins 和 GIT 的基于推送的构建](http://blog.avisi.nl/2012/01/13/push-based-builds-using-jenkins-and-git/)”中的

```
#!/bin/bash
/usr/bin/curl --user USERNAME:PASS -s \

http://jenkinsci/job/PROJECTNAME/build?token=1qaz2wsx 
```

> 将您的 Jenkins 作业配置为能够“远程触发构建”并使用身份验证令牌（`1qaz2wsx`在本例中）。

但是，这是一个特定于项目的脚本，作者提到了一种概括它的方法。
第一个解决方案更容易，因为它不依赖于身份验证或特定项目。

* * *

> 我想检查更改集是否至少有一个 java 文件，构建应该开始。
> 假设开发人员只更改了 XML 文件或属性文件，那么构建不应该开始。

基本上，您的构建脚本可以：

*   [`git notes`](http://git-scm.com/docs/git-notes)在第一次通话时添加“构建”注释（参见）
*   在随后的调用中，获取`HEAD`您的分支候选构建与`git notes`“构建”（`git show refs/notes/build`）引用的提交之间的提交列表：`git diff --name-only SHA_build HEAD`。
*   您的脚本可以解析该列表并决定是否需要继续构建。
*   在任何情况下，创建/移动你`git notes`的 ' `build`' 到`HEAD`.

* * *

2016 年 5 月：[cwhsu](https://stackoverflow.com/users/2160028/cwhsu)[在评论](https://stackoverflow.com/questions/12794568/how-to-configure-git-post-commit-hook/12794930#comment61593376_12794930)中指出以下可能的网址：

> `curl --user USER:PWD http://JENKINS_SERVER/job/JOB_NAME/build?token=YOUR_TOKEN`如果您在项目中设置触发器配置，则可以使用

[![http://i.imgur.com/IolrOOj.png](../Images/64e1a53ee0f019854a8bd4bc1ea527d4.png)](https://i.stack.imgur.com/Hc7Ps.png)

* * *

2016 年 6 月，[polaretto](https://stackoverflow.com/users/255931/polaretto)[在评论中](https://stackoverflow.com/questions/12794568/how-to-configure-git-post-commit-hook/12794930#comment61946577_12794930)指出：

> 我想补充一点，只需一点 shell 脚本，您就可以避免手动配置 url，尤其是当您在一个公共目录下有许多存储库时。
> 例如，我使用这些参数扩展来获取 repo 名称
> 
> ```
> repository=${PWD%/hooks}; 
> repository=${repository##*/} 
> ```
> 
> 然后像这样使用它：
> 
> ```
> curl $JENKINS_URL/git/notifyCommit?url=$GIT_URL/$repository 
> ```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2014-02-07T19:58:00.763

希望这会有所帮助： http: [//nrecursions.blogspot.in/2014/02/how-to-trigger-jenkins-build-on-git.html](http://nrecursions.blogspot.in/2014/02/how-to-trigger-jenkins-build-on-git.html)

这只是`curl`使用 git 提供的 git hooks 来触发 Jenkins 作业的问题。
命令

```
curl http://localhost:8080/job/someJob/build?delay=0sec 
```

可以运行 Jenkins 作业，这里`someJob`是 Jenkins 作业的名称。

在隐藏的 .git 文件夹中搜索该`hooks`文件夹。`post-commit.sample`将文件重命名为`post-commit`. 用记事本打开它，删除该`: Nothing`行并将上面的命令粘贴到其中。

就是这样。每当您进行提交时，Git 都会触发文件中定义的提交后命令。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-24T12:08:54.253

正如前面的答案确实显示了一个完整挂钩的示例，这里是我的工作后接收挂钩的代码：

```
#!/usr/bin/python

import sys
from subprocess import call

if __name__ == '__main__':
    for line in sys.stdin.xreadlines():
        old, new, ref = line.strip().split(' ')
        if ref == 'refs/heads/master':
            print "=============================================="
            print "Pushing to master. Triggering jenkins.        "
            print "=============================================="
            sys.stdout.flush()
            call(["curl", "-sS", "http://jenkinsserver/git/notifyCommit?url=ssh://user@gitserver/var/git/repo.git"]) 
```

在这种情况下，我仅在推送到 master 而不是其他分支时触发 jenkins 作业。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-12-16T15:44:53.980

我想在上面的答案中补充一点，如果启用 Jenkins 授权会变得有点困难。

启用它后，我收到一条错误消息，指出匿名用户需要读取权限。

我看到了两种可能的解决方案：

1：将我的钩子更改为：

```
curl --user name:passwd -s http://domain?token=whatevertokenuhave 
```

2：设置基于项目的授权。

前一种解决方案的缺点是我必须在挂钩文件中公开我的密码。在我的情况下是不可接受的。

第二个对我有用。在全局身份验证设置中，我必须启用整体>为匿名用户读取。在我想触发的项目中，我必须启用 Job>Build and Job>Read for Anonymous。

这仍然不是一个完美的解决方案，因为现在您无需登录即可在 Jenkins 中查看该项目。使用http登录的前一种方法可能会有更好的解决方案，但我还没有弄清楚。

# android - 基于 NFC 标签上的 Id 调用 Android 应用程序

> ID：12794571
> 
> 赞同：0
> 
> 时间：2012-10-09T07:06:14.103
> 
> 标签：android, android-intent, nfc

我们能否为我的 NFC 标签上具有相同 ID 的 Android 应用程序提供一个 ID。现在的用例是当我扫描 NFC 标签时，android 操作系统应该将标签中的 ID 与应用程序 ID 匹配并启动该应用程序。

现在我正在使用自定义 MIME 类型启动特定应用程序。但我想在标签上的 ID 的帮助下调用应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:40:50.783

您可能正在寻找[Android Application Records](http://developer.android.com/guide/topics/connectivity/nfc/nfc.html#aar)。这将让您指定要在标签上启动的应用程序，因此您不需要保留 ID<-> 应用程序映射。

# ruby-on-rails - Debugging 500 error on Heroku without any error message

> ID：12794572
> 
> 赞同：3
> 
> 时间：2012-10-09T07:06:18.550
> 
> 标签：ruby-on-rails, heroku

This is driving me nuts. There is no error in development environment. There was no error in production environment when I deployed to Amazon EC2\.

However, on Heroku, it is giving me a 500 error when accessing a particular page. There is no other message than 500 error message.

```
2012-10-09T06:50:02+00:00 app[web.1]: Completed 500 Internal Server Error in 72ms (Views: 11.5ms | ActiveRecord: 44.2ms) 
```

That's all I have. No other error message. I even set the logging level to "DEBUG".

What can I do to find out what's causing the 500 error on Heroku?

I appreciate your help.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:38:41.970

Have you checked your assets are being precompiled on deploy to Heroku? A broken asset pipeline can create 500 errors with little logged explanation at runtime.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-16T05:27:58.080

It turned out to be nothing to do with sass. I had to catch 500 error and display stack trace to figure out exactly what was causing the error and fix it.

In the helper function, I had

```
rand(1..size) 
```

and that was causing the error on Heroku, but not on development environment nor on EC2\. I had to modify it to

```
rand(size) 
```

and that fixed it.

After printing stack trace, it was easy to pinpoint what was causing the error.

I wrote a blog post about catching 400 and 500 errors so that you can do more interesting things.

[http://blog.yangtheman.com/2012/10/11/user-friendly-500-and-404-pages-on-rails-3/](http://blog.yangtheman.com/2012/10/11/user-friendly-500-and-404-pages-on-rails-3/)

# node.js - 如何使用 mocha 测试 node.js http 客户端？

> ID：12794573
> 
> 赞同：5
> 
> 时间：2012-10-09T07:06:18.690
> 
> 标签：node.js, mocha.js

我有一个 HTTP POST JSON 请求的 node.js 模块，

我想测试正确的 url、标头、请求正文以及请求是否实际执行。

我正在使用 Mocha 作为测试框架。我该如何测试它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-25T02:12:35.800

你可以使用[nock](https://github.com/flatiron/nock)。您可以拦截 http 请求并具有某些属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-25T04:33:24.460

我已经将 Sinon.js 用于这种类型的事情。

```
sinon = require 'sinon'
assert = require "assert"
describe 'client', ->
  describe '#mainRequest()', ->
    it 'should make the correct HTTP call', ->
      url = "http://some.com/api/blah?command=true"
      request = {}
      sinon.stub request, 'get', (params, cb) -> cb null, { statusCode: 200 }, "OK"
      client = new MyHttpClient request  
      client.sendRequest()
      assert.ok request.get.calledWith(url) 
```

为了简化测试 MyHttpClient 类将请求对象作为构造函数的参数。如果没有提供，它只使用 require 'request'。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-11T14:55:41.070

尝试[将 SuperTest](https://github.com/visionmedia/supertest)与[superagent](https://github.com/visionmedia/superagent)结合使用。express 的所有测试都是用[SuperTest](https://github.com/visionmedia/express/blob/master/test/support/http.js)编写的。

例如：

```
var request = require('supertest')
  , express = require('express');

var app = express();

app.get('/user', function(req, res){
  res.send(201, { name: 'tobi' });
});

describe('GET /users', function(){
  it('respond with json', function(done){
    request(app)
      .get('/user')
      .set('Accept', 'application/json')
      .expect('Content-Type', /json/)
      .expect(200, done);
  })
}) 
```

# jakarta-ee - 这个堆栈跟踪是什么意思？

> ID：12794581
> 
> 赞同：0
> 
> 时间：2012-10-09T07:06:51.963
> 
> 标签：jakarta-ee, jpa, websphere, openjpa

我有一个我不明白的例外：

```
[2012-10-09 08:59:56:152 CEST] 000000a0 SystemOut     O 08:59:56,151  INFO ArendesokningActionHandler:84 - i search
[2012-10-09 08:59:56:152 CEST] 000000a0 SystemOut     O 08:59:56,152 DEBUG AnsokanDAOImpl:36 - 0\. sökning utförs
[2012-10-09 08:59:56:152 CEST] 000000a0 SystemOut     O 08:59:56,152 DEBUG AnsokanDAOImpl:38 - 1\. sökning utförs
[2012-10-09 08:59:56:160 CEST] 000000a0 SystemOut     O 08:59:56,160 DEBUG AnsokanDAOImpl:40 - 2\. sökning utförs
[2012-10-09 08:59:56:160 CEST] 000000a0 SystemOut     O 08:59:56,160 DEBUG AnsokanDAOImpl:42 - 3\. sökning utförs
[2012-10-09 08:59:56:160 CEST] 000000a0 SystemOut     O 08:59:56,160  INFO AnsokanDAOImpl:44 - sökning utförs
[2012-10-09 08:59:56:167 CEST] 000000a0 SystemOut     O 08:59:56,165 ERROR AnsokanDAOImpl:48 - Kunde inte söka på: 1201322-3
<openjpa-2.1.1-SNAPSHOT-r422266:1141200 nonfatal user error> org.apache.openjpa.persistence.ArgumentException: No metadata was found for type "class java.lang.String". The class is not enhanced. 
```

代码是

```
@Stateless
public class AnsokanDAOImpl implements AnsokanDAO {

    @PersistenceContext(unitName = EJBConstants.PERSISTENCE_UNIT_NAME)
    private EntityManager em;

    private final static Logger logger = Logger.getLogger(AnsokanDAOImpl.class);

    @SuppressWarnings("unchecked")
    public List<Ansokan> search(String search) {
        List<Ansokan> ansokningar = new ArrayList<Ansokan>();
        logger.debug("0\. sökning utförs");
        try {
            logger.debug("1\. sökning utförs");
            Query query = em.createNamedQuery("search");
            logger.debug("2\. sökning utförs");
            query.setParameter("search", search);
            logger.debug("3\. sökning utförs");

            logger.info("sökning utförs");
            ansokningar = (List<Ansokan>) query.getResultList();
            logger.info("antal träffar i sökning: "+ansokningar.size());            
        } catch(Exception e){ 
            logger.error("Kunde inte söka på: "+search, e);
        }

        return ansokningar;
    } 
```

你能帮助我吗？

这是命名查询：

```
/**
 * Entity implementation class for Entity: Ansokan
 *
 */
@Entity(name = "Ansokan")
@Table(name="TP003_ANSOKAN")
@NamedQueries({
    @NamedQuery(name = "search", query = "SELECT a FROM Ansokan a WHERE a.prvnummer LIKE :search"),
    @NamedQuery(name = "findAnsokanByNumId", query = "SELECT a FROM Ansokan a WHERE a.prvnummer.numId = :numId"),
}) 
```

这是完整的 Ansokan 实体：

```
package se.prv.pandora.arendeprocess.entity;

/**
 * @author Fredrik Gunnfors (adbfgu)
 *
 */

import java.io.Serializable;
import java.sql.Timestamp;
import java.sql.Date;
import java.util.ArrayList;
import java.util.List;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

import javax.persistence.CascadeType;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.NamedQueries;
import javax.persistence.NamedQuery;
import javax.persistence.OneToMany;
import javax.persistence.SequenceGenerator;
import javax.persistence.Table;

/**
 * Entity implementation class for Entity: Ansokan
 *
 */
@Entity(name = "Ansokan")
@Table(name="TP003_ANSOKAN")
@NamedQueries({
    @NamedQuery(name = "search", query = "SELECT a FROM Ansokan a WHERE a.prvnummer LIKE :search"),
    @NamedQuery(name = "findAnsokanByNumId", query = "SELECT a FROM Ansokan a WHERE a.prvnummer.numId = :numId"),
})

public class Ansokan implements Serializable {

    private static final long serialVersionUID = 1L;

    @Id
    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator="Seq_ansokan_id")
    @SequenceGenerator(name="Seq_ansokan_id", sequenceName="SEQ_TP003_ANSID", allocationSize=1)
    @Column(name = "ANSID", nullable = false)
    private int ansId;

    @ManyToOne
    @JoinColumn(name="numId")
    PRVNummer prvnummer;

    private Integer systemTypId; 
    private Integer systemTypDelId; 

    private Timestamp loggTid; 

    @Column(name = "INGDATUM", length = 10)
    private Date ingivningsDatum;

    @Column(name = "STATUSID")
    private Integer statusId;

    @Column(name = "BENAMNING", length = 500)
    private String benamning; //ASTATUS

    @Column(name = "ANKDATUM", length = 10)
    private Date ankomstDatum;

    @Column(name = "INKDATUM", length = 10)
    private Date inkomDatum;

    @Column(name = "BESLUTSDATUM", length = 10)
    private Date beslutsDatum;

    @Column(name = "ANSVARIG_HANDLID")
    private Integer ansvarigHandlaggareId;

    @Column(name = "SKAPAD_HANDLID")
    private Integer skapadHandlaggareId;

    @Column(name = "EGENSKAPID")
    private Integer egenskapId;

    @Column(name = "PRIORITET", length = 1)
    private String prioritet; 

    @OneToMany(mappedBy="ansokan", cascade=CascadeType.ALL)
    private List<ArbetsMomentLog> arbetsuppgifter = new ArrayList<ArbetsMomentLog>();

    // Konstruktor
    public Ansokan() {
        super();
    }

    public int getAnsId() {
        return ansId;
    }

    public void setAnsId(int ansId) {
        this.ansId = ansId;
    }

    public PRVNummer getPrvnummer() {
        return prvnummer;
    }

    public void setPrvnummer(PRVNummer prvnummer) {
        this.prvnummer = prvnummer;
    }

    public Integer getSystemTypId() {
        return systemTypId;
    }

    public void setSystemTypId(Integer systemTypId) {
        this.systemTypId = systemTypId;
    }

    public Integer getSystemTypDelId() {
        return systemTypDelId;
    }

    public void setSystemTypDelId(Integer systemTypDelId) {
        this.systemTypDelId = systemTypDelId;
    }

    public Timestamp getLoggTid() {
        return loggTid;
    }

    public void setLoggTid(Timestamp loggTid) {
        this.loggTid = loggTid;
    }

    public Integer getStatusId() {
        return statusId;
    }

    public void setStatusId(Integer statusId) {
        this.statusId = statusId;
    }

    public String getBenamning() {
        return benamning;
    }

    public void setBenamning(String benamning) {
        this.benamning = benamning;
    }

    public Date getIngivningsDatum() {
        return ingivningsDatum;
    }

    public void setIngivningsDatum(Date ingivningsDatum) {
        this.ingivningsDatum = ingivningsDatum;
    }

    public Date getAnkomstDatum() {
        return ankomstDatum;
    }

    public void setAnkomstDatum(Date ankomstDatum) {
        this.ankomstDatum = ankomstDatum;
    }

    public Date getInkomDatum() {
        return inkomDatum;
    }

    public void setInkomDatum(Date inkomDatum) {
        this.inkomDatum = inkomDatum;
    }

    public Date getBeslutsDatum() {
        return beslutsDatum;
    }

    public void setBeslutsDatum(Date beslutsDatum) {
        this.beslutsDatum = beslutsDatum;
    }

    public Integer getAnsvarigHandlaggareId() {
        return ansvarigHandlaggareId;
    }

    public void setAnsvarigHandlaggareId(Integer ansvarigHandlaggareId) {
        this.ansvarigHandlaggareId = ansvarigHandlaggareId;
    }

    public Integer getSkapadHandlaggareId() {
        return skapadHandlaggareId;
    }

    public void setSkapadHandlaggareId(Integer skapadHandlaggareId) {
        this.skapadHandlaggareId = skapadHandlaggareId;
    }

    public Integer getEgenskapId() {
        return egenskapId;
    }

    public void setEgenskapId(Integer egenskapId) {
        this.egenskapId = egenskapId;
    }

    public String getPrioritet() {
        return prioritet;
    }

    public void setPrioritet(String prioritet) {
        this.prioritet = prioritet;
    }

    public List<ArbetsMomentLog> getArbetsuppgifter() {
        return arbetsuppgifter;
    }

    public void setArbetsuppgifter(List<ArbetsMomentLog> arbetsuppgifter) {
        this.arbetsuppgifter = arbetsuppgifter;
    }

    public void addArbetsuppgifter(List<ArbetsMomentLog> arbetsuppgifter) {
        if(this.arbetsuppgifter!=null)
            this.arbetsuppgifter.addAll(arbetsuppgifter);
        else {
            this.arbetsuppgifter = arbetsuppgifter;
        }
    }

    public ArbetsMomentLog getArbetsuppgiftByTyp(int arbMomTyp) {
        ArbetsMomentLog amlog = null;
        for(ArbetsMomentLog aml: this.arbetsuppgifter) {
            if(aml.getArbetsMomentId()==arbMomTyp) {
                amlog = aml;
                break;
            }

        }
        return amlog;
    }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T07:55:12.223

您正在绑定一个 String 值以`prvnummer`从 type中搜索 Field `PRVNummer`。更改`public List<Ansokan> search(String search)`为`public List<Ansokan> search(PRVNummer search)`

# javascript - 如何检查我的 AJAX 调用的状态？

> ID：12794582
> 
> 赞同：0
> 
> 时间：2012-10-09T07:07:02.620
> 
> 标签：javascript, html, ajax

我有一个 Web 应用程序，我正在其中进行 AJAX 调用以获取一些数据。数据可以从 100 Kb 到 1 Mbs 不等。此外，这个调用需要很多时间，因为我需要在后端进行大量处理。

我遇到了两个基本问题：

1）这需要很多时间，所以我需要向最终用户显示 AJAX 调用的一些状态，以免他们感到沮丧。我在想是否有办法在一段时间后进行 AJAX 调用以检查初始 AJAX 调用的进度，或者您可以建议什么？

2）收到数据后，有时它甚至会挂起浏览器选项卡一两分钟，因为我正在通过 JavaScript 绘制页面。有没有办法停止或减少这种悬挂时间？

任何建议都会非常有帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:20:14.237

1.  AJAX 在客户端提供状态事件，但是在您的情况下，我认为这不会很好，因为您想将进度发送给最终用户，我宁愿建议您通过使用 iframe 进行 ajax 调用来欺骗它，这将不断刷新从服务器到客户端的进度。

2.  如果数据很大并且您开始绘制很明显您的浏览器将挂起，我建议您改进绘制机制以使用 setTimeout / setInterval，如果您按照步骤 1 进行操作，您可以开始使用来自服务器的刷新数据，而无需等待完整的数据直到结束

**编辑 - 如何通过 iframe 显示进度**

假设你有 main.aspx，你有你的全部内容并进行 ajax 调用

您还有一个 info.aspx，它将为您提供来自服务器的数据。

您的 info.aspx 包含 6 个步骤，并且您希望每一步都通知用户。

```
//Step 1 - do some thing
Response.Write("<script>progress = '10'; progressText = 'Completed step 1'; ");
Response.Write(" updateProgress(); </script>");
Response.Flush();

//Step 2 - do some thing
Response.Write("<script>progress = '30'; progressText = 'Completed step 2'; ");
Response.Write(" updateProgress(); </script>");
Response.Flush(); 
```

在上述情况下，我们正在更新 progress 和 progressText 变量并调用`updateProgress()`javascript，updateProgress 看起来像

```
function updateProgress()
{
    //update parent window/container on the progress which will show an visual indicator of the progress
} 
```

updateProgress() 函数在开始时被刷新

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T12:34:23.437

好吧，我有办法了。我能够在不实际绘制任何 iFrame 的情况下检查进度。我只是创建了一个会话变量并继续在服务器端更新它的值。我设置了一个超时函数以每秒触发一次，并通过 AJAX 调用检查会话变量的值。我知道它在服务器上产生了一些额外的负载，但我现在不知道任何其他方式。欢迎任何更多建议。

# css - 我们可以将背景图像固定在 IE 上吗？

> ID：12794584
> 
> 赞同：0
> 
> 时间：2012-10-09T07:07:03.213
> 
> 标签：css, internet-explorer

我正在使用下面给出的 css 来修复身体的背景图像。

```
 body { 
     font-family:Arial, Helvetica, sans-serif;
    font-size:12px;
    background-image:url(../images/main-bg.jpg);
    -webkit-background-size: cover; 
    -moz-background-size: cover; 
    -o-background-size: cover; 
    background-size: cover;   
    margin: 0; 
    padding: 0;
} 
```

它在所有其他浏览器上都可以正常工作，但是在 IE 中，如果我按 cntrl + 滚动，图像会重复出现我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:08:45.803

我用：

```
body { 
    background-color: #963F23;
    background-image: url('/docs/background/bgtheme/bg.jpg'); 
    background-position: center top;
    background-attachment: fixed;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:10:58.733

试试这个：

```
body {  
     font-family:Arial, Helvetica, sans-serif; 
    font-size:12px; 
    background:url(../images/main-bg.jpg) fixed; 
    -webkit-background-size: cover;  
    -moz-background-size: cover;  
    -o-background-size: cover;  
    background-size: cover;   
    margin: 0;  
    padding: 0; 
} 
```

# java - 以编程方式布局标签和按钮

> ID：12794585
> 
> 赞同：7
> 
> 时间：2012-10-09T07:07:09.420
> 
> 标签：java, swing, user-interface, layout, springlayout

我正在尝试用 Java 创建一个 SpringLayout，这是我拥有的代码（从 Oracle Java 文档中获得）

```
import javax.swing.*;
import java.awt.*;

public class SpringForm {

    private static void createAndShowGUI() {
        String[] labels = {"Side1: ", "Side2: ", "Side3: "};
        int numPairs = labels.length;
        //Create and populate the panel.
        JPanel p = new JPanel(new SpringLayout());
        javax.swing.JButton calculate_btn;
        calculate_btn = new javax.swing.JButton();             

        for (int i = 0; i < numPairs; i++) {
            JLabel l = new JLabel(labels[i], JLabel.TRAILING);
            p.add(l);
            JTextField textField = new JTextField(10);
            l.setLabelFor(textField);
            p.add(textField);
        }
        calculate_btn.setText("Calculate");
        p.add(calculate_btn);
        //Lay out the panel.
        SpringUtilities.makeCompactGrid(p,
            numPairs, 2, //rows, cols
            6, 6,        //initX, initY
            6, 6);       //xPad, yPad     
        //Create and set up the window.
        JFrame frame = new JFrame("Test");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);     
        //Set up the content pane.
        p.setOpaque(true);  //content panes must be opaque
        frame.setContentPane(p);     
        //Display the window.
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        //Schedule a job for the event-dispatching thread:
        //creating and showing this application's GUI.
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

使用上面的代码，我得到了这个

![在此处输入图像描述](../Images/cb2af638334f272f37d84486f4dc9ec0.png)

但实际上我希望得到这个

![在此处输入图像描述](../Images/1371c1603141fb2b7319f48e8a94405b.png)

我不介意任何其他布局！只是 oracle 帮助表明 springlayout 非常接近我的需要我正在尝试做的是得到如下图所示的布局，我不确定下面使用的布局是什么，而且在我的尝试中我正在使用 SpringLayout 我注意到当我们扩展窗口大小时，控件会自动改变它们的大小

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:13:46.800

从（实际上几乎是第一行）的[Java 跟踪](http://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html)中：`SpringLayout`

> 该类`SpringLayout`是在 JDK 1.4 版中添加的，以支持 GUI 构建器中的布局。`SpringLayout`是一个非常灵活的布局管理器，可以模拟其他布局管理器的许多功能。`SpringLayout`然而，它是非常低级的，因此**您真的应该只将它与 GUI 构建器一起使用，而不是尝试手动编写 spring 布局管理器**。（强调补充。）

多年来，我一直在专业地使用 Java 进行编程，甚至我也不会`SpringLayout`手动编程。我的建议是改用[MigLayout 库](http://www.miglayout.com/)。他们的 API 对于手动布局代码要简单得多，并且可以生成非常接近原生的布局。我已经使用它很长时间了，我更喜欢它而不是我尝试过的任何其他东西。[`BorderLayout`](http://docs.oracle.com/javase/6/docs/api/java/awt/BorderLayout.html)由于空间填充的工作方式，与 Java 结合使用时特别好。我强烈推荐它。

* * *

第一件事：

1.  MigLayout 是基于单元格的，但也支持拆分和跨越单元格。如果您曾经使用过 HTML 或 Excel，那么您应该知道这意味着什么。这是不言自明的。
2.  MigLayout 的默认输入方法是字符串，它们是最容易理解的，但它们也有一个非常好的 API 来创建布局。
3.  MigLayout 支持的内容远远超出我在 SO 问题中所能涵盖的范围，因此请点击上面的链接并查看快速入门指南和备忘单。到目前为止，它们是您可以放入约束中的最佳资源。

这是一个示例，`MigLayout`用于生成与您发布的示例图像类似的布局：

```
public static void main(String[] args) {
    JFrame frame = new JFrame("Testing MigLayout");
    JPanel contentPane = new JPanel(new MigLayout("fillx"));

    // Row 1
    JLabel areaLabel = new JLabel("Area of Triangle");
    areaLabel.setFont(areaLabel.getFont().deriveFont(16.0f));
    areaLabel.setHorizontalAlignment(JLabel.CENTER);
    contentPane.add(areaLabel, "spanx, growx, wrap");
    // wrap indicates a new row

    // Row 2
    JLabel side1Label = new JLabel("Side 1:");
    contentPane.add(side1Label, "alignx trailing");
    JTextField side1Field = new JTextField();
    side1Field.setColumns(6);
    contentPane.add(side1Field, "alignx leading, wrap");

    // Row 3
    JLabel side2Label = new JLabel("Side 2:");
    contentPane.add(side2Label, "alignx trailing");
    JTextField side2Field = new JTextField();
    side2Field.setColumns(6);
    contentPane.add(side2Field, "alignx leading, wrap");

    // Row 4
    JLabel side3Label = new JLabel("Side 3:");
    contentPane.add(side3Label, "alignx trailing");
    JTextField side3Field = new JTextField();
    side3Field.setColumns(6);
    contentPane.add(side3Field, "alignx leading, wrap");

    // Row 5
    JButton calculateButton = new JButton("Calculate Area");
    contentPane.add(calculateButton, "spanx, growx");

    frame.setContentPane(contentPane);
    // Resizes automatically
    frame.pack();
    // Centers automatically
    frame.setLocationRelativeTo(null);
    // Exit when the frame is closed
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    frame.setVisible(true);
} 
```

及其输出：

![MigLayout 示例](../Images/8b1db00becb552c832e6d13f25aa7d83.png)

当然，这没有任何逻辑，但它仍然显示了 MigLayout 的强大功能。当您开始进入更复杂的应用程序并希望组件随窗口扩展和收缩时，MigLayout 做得很好。如果您曾经使用过`GridBadLayout`，您会注意到这`MigLayout`只是它的升级版。

有关这一切的参考资料，请查看备忘单。我使用的每一件作品都有一个解释。具体来说，在`MigLayout`构造函数中声明的任何内容（此处为`"fillx"`）都是布局约束，而在`add`方法中声明的任何内容（例如`"spanx"`和`"wrap"`）都是组件约束。您还可以通过实践和实验来获得创建出色 GUI 的正确组合。

话虽如此，总会有其他更简单的布局管理器，例如`GridLayout`or `BoxLayout`。对于像您这样的简单应用程序，那些布局管理器非常好。当您开始进入更密集的应用程序时，我建议您进入 MigLayout。为了阅读这些内容，我推荐 Java trails。那里还有一个[布局的视觉指南](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)，您可以将其用作起点。我建议坚持使用这些手动布局：

*   `BorderLayout`
*   `BoxLayout`
*   `CardLayout`
*   `FlowLayout`
*   `GridBagLayout`
*   `GridLayout`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:16:45.737

我尝试使用 spring 布局，但在 GUI 编辑器之外我发现它非常混乱。如果可以的话，我会建议你换一个经理。

*   JGoodies[的 FormLayout](http://www.jgoodies.com/freeware/libraries/forms/)非常有名，许多 GUI 构建器都支持它。语法一开始可能很难掌握，但是一旦掌握了，构建漂亮的表单真的很容易
*   [据说MigLayout](http://www.miglayout.com/)也很不错

# c - 我们如何在c中的套接字编程中接收数据时实现定时器

> ID：12794589
> 
> 赞同：1
> 
> 时间：2012-10-09T07:07:20.573
> 
> 标签：c, linux, sockets, timer

我已经完成了与计时器相关的不同问题。它接缝我的代码应该可以工作。但是当在套接字上接收数据时发生超时时它不起作用。我做了一个名为 timeout_timer 的函数，函数的定义如下：

```
timeout_timer(long seconds, long micro_seconds)
{
    struct itimerval *alarm_set;

    if (micro_seconds >= MILLION) {
        seconds = seconds + micro_seconds / MILLION;
        micro_seconds = micro_seconds % MILLION;
    }

    alarm_set = malloc(sizeof (struct itimerval));

    alarm_set->it_value.tv_sec = seconds;
    alarm_set->it_value.tv_usec = micro_seconds;

    alarm_set->it_interval.tv_sec = (seconds == 0 && micro_seconds == 0) ? 0 : 2;
    alarm_set->it_interval.tv_usec = 0;

    if (setitimer(ITIMER_REAL, alarm_set, (struct itimerval *) NULL) == -1) {
        pause();
    }
    free(alarm_set);
} 
```

我已经调用了这个 timeout_timer 函数，如下所示：

```
timeout_timer(3,0);

memset(rcv_msg,0x0, MAX_MSG); 
if ((n = recv(sd, rcv_msg, MAX_MSG, 0)) <= 0) 
{
    timeout_timer(0,0);
    close(sd);
    break;  
}
else
{
    timeout_timer(0,0);
    trim_space(rcv_msg);
} 
```

在超时限制内接收数据时，它工作正常。但是当计时器到期时它卡住了。请帮我弄清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T09:33:02.790

使用或实现您的事件循环，可能使用[libevent](http://libevent.org/)或 Gtk/Glib 或 Qt/QCore，或者使用[poll(2)](http://www.kernel.org/doc/man-pages/online/pages/man2/poll.2.html)和可能[timerfd_create(2)](http://www.kernel.org/doc/man-pages/online/pages/man2/timerfd_create.2.html)系统调用来实现它。

顺便说一句，在多线程方法中，您可以让主线程执行事件循环，而其他线程执行其他处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T10:27:15.913

您的 SIGALRM 信号处理程序是什么样的？

一个空的身体很好，但你需要一个真正的处理程序，安装*时不带* 标志`SA_RESTART`；否则信号传递不会中断阻塞 I/O 功能。

由于信号可能会在已经有一些数据可用的时候到达（只是不是*所有*的预期），中断的 I/O 函数可能会返回一个短计数。这可能很难检测到，所以最好让超时中断重复（很快，比如每十毫秒）。当您的代码注意到它已被中断时，您应该明确解除计时器，以停止重复中断。

我个人也会使用一个全局`volatile sig_atomic_t keep_running;`标志，它在设置超时时设置为非零，并由信号处理程序清除。

# iphone - 如何在 .pem 中提取指数和模数

> ID：12794592
> 
> 赞同：1
> 
> 时间：2012-10-09T07:07:25.583
> 
> 标签：iphone, objective-c, security, rsa, pem

我有一个 Private.pem 文件，我需要提取私有指数和私有模数。他们有什么方法可以这样做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T09:44:13.607

在我的项目中，我们确实围绕 openSSL 编写了一个objective-c 包装器来实现这一点。

# iphone - 禁用可编辑属性 UITextField

> ID：12794594
> 
> 赞同：1
> 
> 时间：2012-10-09T07:07:32.447
> 
> 标签：iphone, combobox, uitextfield

我在禁用`UITextField`. 我正在尝试将我的文本字段用作组合框，但是当我使用组合框样式时，我的文本是可编辑的。当我设置`userInteractionEnabled = NO`为阻止编辑时，我看不到我的文本字段作为组合框。我可以为这个问题做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T14:04:20.283

您在文本字段编辑上显示一个操作表。

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField {
    if ([textField isEqual:myTextField]){
       UIActionSheet *actionsheet = [[UIActionSheet alloc] initWithTitle:@"Please select an option" delegate:self cancelButtonTitle:nil destructiveButtonTitle:nil otherButtonTitles:@"Option1", @"Option2", @"Option3", nil];
       [actionsheet showInView:self.view];
       return NO; 
    } 
    return YES;
}

- (void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex {

[myTextField setText:[actionSheet buttonTitleAtIndex:buttonIndex]];

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:09:27.470

用这个：

```
txtBox.editable = NO; 
```

而不是，

```
txtBox.userInteractionEnabled = NO; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:43:21.653

使用这个 UITextField 委托：

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField; 
```

设置返回 NO 并打开您的组合框。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:44:31.883

将按钮或其他东西放在 UITextFields 上怎么样。将 Textfields editable 设置为 NO 不是一个好主意，但只会欺骗您的 UI。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:11:26.100

I do not think that using uitextfield as combobox is a good solution.The problem is is you disable the userinteraction or make your textview uneditable how would you catch user taps and activate the list?

If i were you i would refer to a button an a small tableview that pops up whe nyou click the button.It is not easy to implement but a more elegant solution.

# r - 如何使用ggplot2填充圆的一部 分

> ID：12794596
> 
> 赞同：5
> 
> 时间：2012-10-09T07:07:32.370
> 
> 标签：r, plot, ggplot2

```
circleFun <- function(center = c(0,0),diameter = 1, npoints = 100){
r = diameter / 2
tt <- seq(0,2*pi,length.out = npoints)
xx <- center[1] + r * cos(tt)
yy <- center[2] + r * sin(tt)
return(data.frame(x = xx, y = yy))
}
dat <- circleFun(c(1,-1),2.3,npoints = 100)
ggplot(dat,aes(x,y)) + geom_path(color="black") + ggtitle("circle") 
```

我正在用 ggplot2 绘图。我只想在第一象限用蓝色填充圆圈。我应该怎么办？

谢谢 ！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T12:31:29.693

这是你要找的吗？

```
# Define the circle; add a point at the center if the 'pie slice' if the shape is to be filled
circleFun <- function(center=c(0,0), diameter=1, npoints=100, start=0, end=2, filled=TRUE){
  tt <- seq(start*pi, end*pi, length.out=npoints)
  df <- data.frame(
    x = center[1] + diameter / 2 * cos(tt),
    y = center[2] + diameter / 2 * sin(tt)
  )
  if(filled==TRUE) { #add a point at the center so the whole 'pie slice' is filled
    df <- rbind(df, center)
  }
  return(df)
}

#Define separate data frames for the filled and unfilled circle
quarterCircle <- circleFun(c(1,-1), diameter = 2.3, start=0., end=0.5, filled=TRUE)
fullCircle <- circleFun(c(1, -1), 2.3, start=0, end=2, filled=FALSE)

ggplot() + 
  geom_polygon(data=quarterCircle, aes(x,y), color="black", fill="black") + 
  geom_path(data=fullCircle, aes(x, y), color="black") +
  coord_equal() 
```

![在此处输入图像描述](../Images/fc5553ea03369715ac943e2823c181bb.png)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-09T07:21:44.740

两件事情：

1.  使用您对圆几何的知识并调整圆函数以在任意点开始和结束，在这种情况下`0.5*pi`，`1.5*pi`

2.  使用`geom_polygon`代替`geom_path`

像这样：

```
circleFun <- function(center=c(0,0), diameter=1, npoints=100, start=0, end=2){
  tt <- seq(start*pi, end*pi, length.out=npoints)
  data.frame(
    x = center[1] + diameter / 2 * cos(tt),
    y = center[2] + diameter / 2 * sin(tt)
  )
}

dat <- circleFun(c(1,-1), 2.3, start=0.5, end=1.5)
ggplot(dat,aes(x,y)) + 
  geom_polygon(color="black") + 
  ggtitle("half circle") +
  coord_equal() 
```

![在此处输入图像描述](../Images/d1f39b274fee18e012623c6686107eb3.png)

# ios - 将 Pinterest 与我的 iOS 应用程序集成

> ID：12794598
> 
> 赞同：5
> 
> 时间：2012-10-09T07:07:39.280
> 
> 标签：ios, pinterest, url-scheme

我想从我的 iPhone 应用程序将图像发布到 pinterest 帐户，pinterest 没有任何 API 版本，这就是我试图将它与 URL Scheme 集成但没有成功的原因。这是它的代码，

```
- (void)pinThroughURLScheme {
    NSString *urlString = PinterestURLMake(self.image, nil, @"alt", @"image.jpeg", NO);
    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];
}

NSString *PinterestURLMake(UIImage *image, NSString *urlString, NSString *alt, NSString    *title, BOOL isVideo) {
    NSString *base64ImageString = [NSString stringWithFormat:@"data:image/png;base64,%@",    NSStringFromUIImage(image)];
    NSString *encodedBase64ImageString = [base64ImageString urlEncodeUsingEncoding:NSUTF8StringEncoding];
    NSString *encodedURLValue = [urlString urlEncodeUsingEncoding:NSUTF8StringEncoding];
    NSString *encodedAltValue = [alt urlEncodeUsingEncoding:NSUTF8StringEncoding];
    NSString *encodedTitleValue = [[NSString stringWithFormat:@"%@ %.0fx%.0f pixels", title, image.size.width, image.size.height] urlEncodeUsingEncoding:NSUTF8StringEncoding];
    NSString *videoValue = isVideo ? @"true" : @"false";    
    return [NSString stringWithFormat:@"pinterest://pin/create/bookmarklet/?url=URL-OF-THE-PAGE-TO-PIN&media=URL-OF-THE-IMAGE-TO-PIN&description=ENTER-YOUR-DESCRIPTION-FOR-THE-PIN",
        encodedBase64ImageString,
        urlString ? [NSString stringWithFormat:@"&url=%@", encodedURLValue] : @"",
        alt ? [NSString stringWithFormat:@"&alt=%@", encodedAltValue] : @"",
        title ? [NSString stringWithFormat:@"&title=%@", encodedTitleValue] : @"",
        videoValue];
} 
```

运行此代码后，我的 iPhone 设备没有收到任何响应。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:15:05.827

好吧，既然您了解了基础知识，也许您可​​以查看以下链接，希望对您有所帮助:)

[iOS 应用程序与 pinterest 的集成](https://stackoverflow.com/questions/9909511/ios-application-integration-with-pinterest)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-22T09:36:44.337

截至 2013 年 5 月 20 日，Pinterest 已发布用于固定内容的 iOS SDK。

查看[他们的开发者网站](http://developers.pinterest.com)了解更多信息。

# linux - 在 64 位 Linux 机器上的 gcc 中制作“长”4 个字节

> ID：12794603
> 
> 赞同：12
> 
> 时间：2012-10-09T07:08:04.537
> 
> 标签：linux, gcc, 64-bit, long-integer

我正在将应用程序移植到 Linux 平台上的 64 位。该应用程序目前支持 Linux、Windows、Mac 32 位和 Windows 64 位。我们经常遇到的问题之一是将 long 用于 int，反之亦然。到目前为止，这不是问题，因为 long 和 int 在当前支持应用程序的平台中是可互换的（都是 4 个字节）。代码库是一个庞大的代码库，有许多带有#defines 的遗留代码用于许多数据类型，这使得搜索 long 的所有用法并用 int 适当地替换变得很麻烦。

1.  作为短期解决方案，有没有办法让 GCC 使用 4 个字节而不是 8 个字节来表示“长”？
2.  如果有，我们可能会面临哪些问题？如果没有，是否有更简单的方法来解决 long 和 int 问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-09T07:22:00.840

`-m32`生成 32 位代码。

`-mx32`生成 64 位代码，但使用 32 位长整数和指针。

[Intel 386 和 AMD x86-64 选项](http://gcc.gnu.org/onlinedocs/gcc/i386-and-x86_002d64-Options.html#i386-and-x86_002d64-Options)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-09T07:55:32.100

1.  不会。在 Linux x86_64 上，ABI 指定 long 是 8 字节类型 (LP64)。事实上，大多数（如果不是全部）64 位 Unix 系统（包括 64 位 OS X、AFAIK）都是 LP64，所以这不是 Linux 特有的。

2.  除了修复你的代码，没有。

如果您需要一个足够大的可移植整数类型来存储指针值，请使用 intptr_t 或 uintptr_t （但通常想要将指针值存储为整数意味着您做错了，所以三思而后行！）。对于能够表示两个指针之间差异的整数类型，请使用 ptrdiff_t。对于对象的大小，请使用 size_t。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-03-16T12:14:12.650

这取决于“移植到 64 位”的含义。

1.  您只希望您的应用程序在 64 位 linux 上运行：您可以在 32 位上编译它，它将在大多数提供 32 位库的发行版上以兼容模式运行。为此，您必须使用 32 位版本的 gcc（例如`gcc:i386`Ubuntu 上的包），或者使用`-m32`带有本地 gcc 版本的标志。

2.  您想从处理器的[长模式](https://en.wikipedia.org/wiki/Long_mode)（又名 x86_64 架构）中受益，但仍使用大多数 32 位 C 约定（包括`long int`4 个字节）：您可以通过使用 gcc 的标志来使用[x32 ABI](https://en.wikipedia.org/wiki/X32_ABI)`-mx32`，这需要您的发行版允许它（必须在您的内核中启用支持，并且需要特定的库，例如在 中`/libx32`）。我使用的是 Ubuntu 16.04，这种模式工作得非常好，只是可用的预编译库要少得多。

3.  您想完全使用 x86_64 架构和 ABI，但使用 4 个字节`long`：这是不可能的，因为 x86_64 ABI 需要`long`8 个字节。

# c - 字符串到十六进制代码的奇怪问题

> ID：12794604
> 
> 赞同：1
> 
> 时间：2012-10-09T07:08:14.397
> 
> 标签：c, parsing, hex

我编写了一些代码来将补丁应用于二进制文件，补丁是十六进制值的定界 ascii 表示，例如：00FF00:A155F3;9210BC。

我的问题是我将十六进制的值误算为 256，但仅限于分隔符 ':' 和 ';' 因为无论代码中的位置如何，我都使用相同的 hex2char() 函数，所以我无法弄清楚为什么它在这一特定区域失败了。我想与其浪费太多时间，不如注册 stackoverflow 并获得一些帮助。

我不想使用任何外部库，我不想包含除 stdio.h 和 stdlib.h 之外的任何内容（我将删除 sys/stat.h 以及 fread() 和 realloc() 直到 EOF，但这是另一个问题，我不担心）

这是代码，我的主循环接近尾声，我清楚地标记了我得到错误输出的位置：

```
#include <stdio.h>
#include <stdlib.h>
#include <sys/stat.h>

//I'll populate this later
struct _pos {
    unsigned pos;
} pos;

//raise x to the power of y
unsigned power( unsigned x, unsigned y )
{
    if ( y == 0 )
    {
        return 1;
    }
    else
    {
        return x * power( x, y - 1 );
    }
}

//convert ascii hex values to integers
unsigned h2i(const char *input, int len) {
    unsigned retval = 0;
    char cur = 0;
    int loops = 0;
    while (0 < len) {
        cur = input[--len];
        //check if we are out of the range hex would be in
        //we assume capital letters A - F
        if ( cur < 0x30 || cur > 0x46 ) {
            printf("Hex out of range: %X\n", cur);
            exit(EXIT_FAILURE);
        }

        //numerical
        if ( cur < 0x3a ) {
            cur -= 0x30;
        }

        //alphabetical
        else {
            cur -= 0x37;
        }

        retval += (cur * power(16, loops));
        ++loops;
        }
    return retval;
}

//take 2 chars from the input and get a hex value from it
char hex2char(const char *input) {
    char buff[2];
    buff[0] = input[pos.pos++];
    buff[1] = input[pos.pos++];
    printf("\nBUFF: %c%c : POS: %i\n", buff[0], buff[1], pos.pos);
    return h2i(buff, 2);
}

//turn a delimiter terminated string into a number
unsigned hex2int(const char *input, char delimiter) {
    int offset = 0;
    char buff[13]; //max int length if represented by string

    //copy string into the buffer
    while (input[offset] != delimiter) {
        if (offset == 12) {
            printf("parse error: offset\n");
            exit(EXIT_FAILURE);
        }
        buff[offset] = input[offset];
        ++offset;
    }
   //printf("BUFF: %s : OFFSET: %i\n", buff, offset);
    pos.pos += offset;
    return h2i(buff, offset);

}

char *fast_cache( char *Filename, unsigned long *size ) {
    FILE *FilePointer;
    FilePointer = fopen( Filename, "r" );
    if ( FilePointer != NULL ) {
        char *ptr;
        struct stat FileStat;
        fstat( fileno( FilePointer ), &FileStat );
        *size = FileStat.st_size;
        ptr = ( char * ) malloc( *size );
        fread( ptr, 1, *size, FilePointer );
        fclose( FilePointer );
        return ptr;
        }
    else {
        return NULL;
        }
    }

int main(int argc, char **argv)
{
    // print greeting
    printf("Hello World!\n");

    unsigned long size;
    char *file = fast_cache(argv[1], &size);
    if (file == NULL) {
        printf("You must specify an input!\n");
        exit(EXIT_FAILURE);
    }

    //okay, patchfile found, opened, and cached, time to convert
    pos.pos = 0; //file position

    //this will be the output, unused right now
    FILE *out = fopen("output", "w");
    //a line in the file is formatted like this
    //0000FF:A9DF23;A7FF11
    unsigned fileoffset = 0;
    unsigned trash = 0;

    //loop through all lines in the patchfile
    while (pos.pos < size) {
        fileoffset = hex2int(file, 0x3a);
        ++pos.pos;
        printf("offset: %u CUR: %c\n", fileoffset, file[pos.pos]);
        while(file[pos.pos] != 0x3b ) {
            //check current values with file values
            //not implimented yet, i just print it out

///////////////////////////////////////////////////////////////////
///////////This is the issue right here///////////////////////////
//printf prints a near MAX_INT number hex value > 0xFFFFFF00
//and it is off by exactly 256 every time, but that would mean overflowing
            printf("%X ", hex2char(file));

        }
//////////////////////////////////////////////////////////////////
//but right here until EOF, everything is fine and works normally
//and it's the same freaking function

        printf("\nfound delimiter: %c @ %u\n", file[pos.pos], pos.pos);
        ++pos.pos;

        //second half of the line
        while(file[pos.pos] != '\n' && pos.pos < size) {
            printf("%X ", hex2char(file));
        }
        //eat the new line if there is one
        ++pos.pos;
        printf("\nLine complete\n");
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T08:02:59.120

在 C 中使用 printf 时，您的字符将被提升为整数。由于它们是无符号字符，因此您必须屏蔽剩余的位。

代替：

```
printf("%X ", hex2char(file)); 
```

和：

```
printf("%X ", hex2char(file) & 0xff); 
```

您可以在此处找到此问题的完整描述： [Printing hexadecimal characters in C](https://stackoverflow.com/questions/8060170/printing-hexadecimal-characters-in-c) 和此处[http://en.wikipedia.org/wiki/Sign_extension](http://en.wikipedia.org/wiki/Sign_extension)

如果您必须在汇编中实现这一点，我建议您通过简单的位移操作来替换您的 pow 函数。X << 4 == X * 16。还要注意，在微控制器或其他嵌入式系统上，您可以找到 16 位系统。在这种情况下，您的 int 的大小可以不同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T08:03:08.823

您将字符串转换为整数的代码......非常复杂，因为它的作用。

涉及一个（递归！）函数真的有点矫枉过正，就像`power()`你需要的只是`x <<= 4`将值向左移动 4 位。

无需在代码中介绍太多细节，请尝试将十六进制字符串替换为整数函数，例如：

```
/* Parse hexadecimal number at s into value stored in v. Returns pointer to first
 * character that is not part of the number. Doesn't protect against overflow.
*/
const char * parse_int_hex(const char *s, unsigned long *v)
{
  *v = 0;
  for(; ; s++ )
  {
    char here = *s;
    unsigned long dv;
    if( here >= '0' && here <= '9' )
      dv = here - '0';
    else if( here >= 'a' && here <= 'f' )
      dv = 10 + here - 'a';
    else if( here >= 'A' && here <= 'F' )
      dv = 10 + here - 'A';
    else
      return s;
    *v <<= 4;
    *v += dv;
  }
  return s;
} 
```

以上没有依赖关系，这就是字符检查如此繁琐的原因。:) 这大约是您期望的普通十六进制到整数转换例程的大小。

# jquery - jQuery - z-index 操作和自动值而不是数字

> ID：12794606
> 
> 赞同：4
> 
> 时间：2012-10-09T07:08:19.717
> 
> 标签：jquery, z-index

当你`add new`点击按钮时，jQuery 会插入新`dragrable DIVs`的`CONTAINER`. 当我单击其中一些时`DIVs`，我想更改`z-index`值。但是 jQuery 无法将 z-index 值作为数字获取。它只显示`'auto'`......是否有解决方案来显示真正的 z-index 值和`increase it by 1`？

jsFiddle 示例 - [http://jsfiddle.net/ynternet/84nVQ/10/](http://jsfiddle.net/ynternet/84nVQ/10/)

**HTML**

```
<div id="add" style="background:yellow; width:100px;"> add new </div>
<div id="container"> </div> 
```

**jQuery**

```
function handler() {
    if ($(this).find("#menu").length) {
        return;
    }
    var currentIndex = $(this).css('z-index');
    alert(currentIndex);
    var newIndex = currentIndex + 1;
    alert(newIndex);
    $(this).css('z-index', newIndex);
}
$("#add").on({
    click: function(e) {
        var timestamp = Date.now();
        var posx = Math.floor(Math.random() * 400);
        var posy = Math.floor(Math.random() * 400);
        $('#container').append(function() {
            return $('<div class="add_to_this" id="' + timestamp + '" style="left:' + posx + 'px; top:' + posy + 'px; ">Click me, drag a change z-index</div>').click(handler).draggable({
                containment: "#container",
                scroll: false,
                cursor: 'lock'
        });
    });
    }
}); 
```

**CSS**

```
#container {
    width:500px;
    height:500px;
    background: palegoldenrod;
    position: relative;
    top:20px;
    left: 100px;
    padding: 0px;
}
.add_to_this {
    padding:5px;
    background:yellowgreen;
    position: absolute;
    display:inline-block;
    width:200px;
    height:50px;
    -moz-user-select: none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    -o-user-select: none;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T07:11:29.760

Two problems in your code :

*   you don't have a real `z-index` to start with because you didn't set it, so you have `'auto'`
*   you manipulate the `z-index` as string because you don't parse it

What you need to do :

*   add in the css a `z-index` : `z-index:100;`
*   parse the `z-index` : `var currentIndex = parseInt($(this).css('z-index'), 10);`

[**DEMONSTRATION**](http://jsfiddle.net/m7c7e/) (without the alerts as they were annoying)

# python - 在 settrace 'return' 调用中处理异常

> ID：12794610
> 
> 赞同：5
> 
> 时间：2012-10-09T07:08:33.650
> 
> 标签：python, python-3.x

在 Python 2.x 中，传递给[`settrace`](http://docs.python.org/py3k/library/sys.html#sys.settrace)处理程序的框架对象有一个`f_exc_type`属性。

在 Python 3.x 中，这`f_exc_type`已被删除。

如果函数正在传播异常，则调用跟踪“return”，但参数 is`None`和`sys.exc_info()`is `(None,None,None)`。这在[文档](http://docs.python.org/py3k/library/sys.html#sys.settrace)中有所描述：

> `[return]`一个函数（或其他代码块）即将返回。调用本地跟踪函数；arg 是将返回的值，如果事件是由引发的异常引起的，则返回 None。跟踪函数的返回值被忽略。

在 Python 3 中，跟踪器如何在`return` 挂钩中确定正在传播异常？它如何与正常返回的函数区分开来`None`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T13:15:36.677

这似乎相当破碎。这有点小技巧，但您可以通过查看最后一条指令的字节码来区分：

```
import opcode

def tracer(frame, event, arg):
    if event == 'return':
        if arg is not None or (opcode.opname[frame.f_code.co_code[frame.f_lasti]]
                               in ('RETURN_VALUE', 'YIELD_VALUE')):
            print('exit via return', arg)
        else:
            print('exit via exception') 
```

# python - 在 Python Nose 中打印测试类型

> ID：12794631
> 
> 赞同：0
> 
> 时间：2012-10-09T07:09:51.730
> 
> 标签：python, nose, nosetests

我正在使用 Python Nose 并想打印运行测试的类型，比如它是 Doctest 还是 unittest 等？如何才能做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:14:08.090

使用`--with-doctests`意味着您正在运行文档测试。doctest 之外的任何内容都可以视为单元测试。AFAIK，它们不是相互排斥的，所以如果你启用了`--with-doctests`.

话虽如此，文档测试通常*是*单元测试的一种形式，所以我不太确定你想要达到什么目的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T03:02:00.303

您可以创建自己的插件来更改测试的打印名称。然后，当您使用详细标志时，将打印测试类型。尝试这样的事情：

```
from nose.plugins import Plugin
import doctest

class CustomName(Plugin):
    def describeTest(self, test):
        if isinstance(test, doctest.DocTestCase):
            return "Doctest: %s" % test
        else:
            return "Unittest: %s" % test 
```

[安装后](https://nose.readthedocs.org/en/latest/plugins/writing.html#registering)，运行如下：

```
nosetests --with-customname -sv test_directory 
```

请注意，这是未经测试的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:26:53.960

这可能有点脆弱。但请注意，nosetests 只是在 unittest 之上

```
import inspect

def is_nose_test():
    assert "nose" in inspect.stack()[1][1] 
```

# ruby-on-rails - rails回形针无法调整图像大小

> ID：12794632
> 
> 赞同：0
> 
> 时间：2012-10-09T07:09:53.007
> 
> 标签：ruby-on-rails, paperclip

我在使用回形针时遇到了一些问题。

上传图片时似乎无法调整图片大小。如果我不调整大小，那很好。我得到的错误是这样的：

```
[paperclip] An error was received while processing: #<Paperclip::Errors::NotIdentifiedByImageMagickError: /var/folders/xd/6z05jyw16_vcvwxdr6qwtz2w0000gn/T/DS44526.jpg is not recognized by the 'identify' command.> 
```

现在，我尝试在环境文件中设置东西，但没有任何效果。

事情是这样的：我从网络上找到的项目，比如来自 thinkbot 的项目（https://github.com/thoughtbot/paperclip_demo）

所以我实际上做了一个新项目，并从回形针演示中复制并粘贴了代码，但我仍然无法让它工作。同样的错误。

那么，我到底能在这里错过什么？

所以，来自thoughtbot：作品。我使用 rails new 制作的一个：没有。我从thinkbot复制/粘贴的一个：没有。

所以..可能有什么不同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T18:57:07.477

弄清楚了。回答我自己的问题以供其他人使用。

为 thinkbot 演示应用程序清除 gemfile.lock 能够重现该问题。

所以，在我的项目中，我清除了 gemfile.lock，将回形针设置为 2.7，它工作了！升级到 3 也同样有效。因此，在新安装时，似乎 3 对我有一些错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:37:33.977

也许 JPG 有问题，例如它可能是一个名为 JPG 的 PNG，或者它的压缩格式错误。尝试将其转换为其他格式，例如 PNG，然后重新上传。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T13:53:34.477

首先：检查 identify 是否正确运行：从命令行以 jpg 作为参数运行它。如果它运行正常，您知道它必须访问作为罪魁祸首的识别命令，或者通过提供错误的路径（参见上面的评论，我也花了一些时间才起作用）或者无法访问路径（确实webrick/thin 作为另一个用户运行？）。

如果它给出错误，则可能您的 jpg 已损坏。

# excel - 在经典asp中创建excel文件

> ID：12794633
> 
> 赞同：0
> 
> 时间：2012-10-09T07:10:07.920
> 
> 标签：excel, asp-classic, xls

我使用以下代码在经典 asp 中创建了一个 excel 文件。

```
Set objExcel = CreateObject("Excel.Application")
objExcel.Visible = TRUE
objExcel.Workbooks.Add

Set objWorksheet = objExcel.Worksheets("Sheet2")
objWorksheet.Activate

objWorksheet.Cells(1, 1).Value = "A" 
```

我有以下错误。

```
Microsoft Office Excel (0x800A03EC)
Microsoft Office Excel cannot open or save any more documents because there is not enough available memory or disk space. • To make more memory available, close workbooks or programs you no longer need. • To free disk space, delete files you no longer need from the disk you are saving to. 
```

我该如何解决这个问题？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T12:57:02.973

我建议您考虑将数据输出为一个大 HTML 表，并强制浏览器在您的回复开始时使用以下内容在 Excel 中打开它：

```
<%
response.ContentType = "application/vnd.ms-excel"
response.AppendHeader "content-disposition", " filename=export.xls"
%> 
```

# android - 如何禁用水平滚动视图？

> ID：12794635
> 
> 赞同：0
> 
> 时间：2012-10-09T07:10:09.797
> 
> 标签：android, gallery

我正在使用 ICS 源代码中的原始 Gallery 应用程序。现在的问题是，我想禁用水平滚动并通过 Grid 中的垂直滚动来实现它。这该怎么做 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:15:38.500

试试这个

`Add android:screenOrientation="portrait" to the activity in the AndroidManifest.xml. For example:`

```
 <activity android:name=".SomeActivity"
          android:label="@string/app_name"
          android:screenOrientation="portrait"> 
```

或者试试这样...

我能想到的一种编程方式是创建一个超类来扩展活动并从那里扩展所有类。

在受保护方法的超类中进行以下设置并调用 super.xxx() 来启动它：

```
setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_PORTRAIT); 
```

如果您以不同的方式进行特定活动，您可以简单地覆盖它。

[我还没有尝试过，但是根据 OOP 的知识，这是可行的]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:29:27.120

试试这个：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical"
android:layout_width="fill_parent"
android:layout_height="fill_parent">

<ScrollView android:id="@+id/ScrlView" 
android:layout_width="fill_parent" 
android:layout_height="fill_parent" >

<Gallery android:id="@+id/gallery"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:gravity="bottom"/>

</ScrollView>
</LinearLayout> 
```

# iphone - 将特殊符号点（。）插入sqlite？

> ID：12794637
> 
> 赞同：3
> 
> 时间：2012-10-09T07:10:20.417
> 
> 标签：iphone, database, sqlite, special-characters

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:17:15.143

# eclipse-rcp - Eclipse RCP 可见命令取决于活动视图

> ID：12794638
> 
> 赞同：1
> 
> 时间：2012-10-09T07:10:24.833
> 
> 标签：eclipse-rcp

我需要根据活动视图在工具栏中显示/隐藏命令。我怎样才能做到这一点。任何帮助将不胜感激。

我正在尝试使用 visiblewhen 但它不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T09:55:21.470

以下代码在视图处于焦点时将操作添加到工具栏。

```
 <visibleWhen
        checkEnabled="false">
     <with
           variable="activePartId">
        <equals
              value="com.example.activeViewID">
        </equals>
     </with>
  </visibleWhen> 
```

# java - Eclipse running a java application and a jar file

> ID：12794644
> 
> 赞同：1
> 
> 时间：2012-10-09T07:10:43.227
> 
> 标签：java

I am using Eclipse for running my applications.

=> All this time I have been running as a java application (using Run as Java application option) and it works.My program executes for 20 minutes and prints some data .

Now I tried to create a Runnable jar. I am able to get jar file and execute.But it exits after 1 minutes.There are no prints from SOP.I have kept one just immediately after main and that is also not getting printed. How to debug this?

I am getting this Error now:

```
JAR export finished with warnings. See details for additional information.
  Exported with compile warnings:input.java
  Jar export finished with problems. See details for additional information.
    Could not find main method from given launch configuration. 
```

But there is a `public static void main(String[] args)` in the input.java file. I am not sure why is it complaining when I try to run from command prompt and it gives `no main manifest attribute`.I did not create any file with that name. What has gone wrong here ?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:51:34.940

您提到的问题是因为编译器在 jar 中找不到主类。为了解决这个问题，我们使用 MANIFEST 文件。

MANIFEST 文件是一个特殊文件，其中包含有关打包在 JAR 中的文件的信息

有关清单的详细信息，请参阅[此处](http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html)

来解决你的问题。我们需要定义一个 MANIFEST 文件并在其中定义主类。

创建一个`MANIFEST.MF`

jar 文件并使用格式指定具有主要方法的类

```
Main-Class: Mypackage.yourPackhage.OurClass 
```

更新

创建 JAR 时，请遵循[Define Jar Manifest](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/tasks-35.htm)

在你的 jar 中包含一个 Manifest 文件

更新 2

结构应该像

```
YourJAR
    META-INF\MANIFEST.MF
    CLASS1
    CLASS2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T09:36:42.740

清单是带有“Main-Class”指令的单行文本文件。您需要在记事本或任何地方创建此文件（称其为有用的东西，例如 manifest.txt）。

在你想要的文件中： Main-Class: file2

确保在行尾有一个硬回报。

然后像这样使用jar： `jar cvfm sample.jar manifest.txt *.class`

# php - Remove or reduce noise from a recorded audio using FFMPEG

> ID：12794645
> 
> 赞同：4
> 
> 时间：2012-10-09T07:10:51.370
> 
> 标签：php, ffmpeg

Is it possible to remove/reduce noise from an already recorded audio file (.mp3/.wav) using FFMPEG?

What is the command?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-03-29T12:39:57.213

有点晚了，但如果有人觉得这有帮助，我写了一个简单的脚本来做到这一点（它减少了音频和视频文件的噪音），在这里找到它：[https ://github.com/yonilevy/noiseclean](https://github.com/yonilevy/noiseclean)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:14:01.387

直接使用FFMPEG是不可能的，因为它只是各种音频/视频格式的编码器/转换器，你需要像Audacity这样的第三方工具（[http://wiki.audacityteam.org/wiki/Release_Notes_2.0.0](http://wiki.audacityteam.org/wiki/Release_Notes_2.0.0)），它是免费的或Adobe Audition，付费。

# nuget - Error Giving in Nuget package manager while enable Migrations

> ID：12794648
> 
> 赞同：0
> 
> 时间：2012-10-09T07:11:06.017
> 
> 标签：nuget, nuget-package

I am developing MVC application with EF 5.0 I am trying to install DBMigration package from Nuget, but its giving an error

```
PM> Enable-Migrations
No context type was found in the assembly 'DBMigrationEXP'.
PM> Enable-Migrations
No context type was found in the assembly 'DBMigrationEXP'. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T22:06:56.367

包管理器中的项目下拉菜单需要选择其中包含 DbContext 的项目。

# android - 如何更改 Ad-mob 网站和应用程序上的 URL 包？

> ID：12794650
> 
> 赞同：0
> 
> 时间：2012-10-09T07:11:20.243
> 
> 标签：android, admob

首先，我注册了 Ad-mob，并且我在 URL 市场 http:// 上没有输入任何内容，现在我已经发布了我的应用程序，我担心它需要那个 URL 才能通过我的应用程序获利，所以我想再次更改它但我找不到在哪里编辑它。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:17:08.773

站点和应用程序 -> 管理设置（在所需的应用程序上）-> 编辑（靠近应用程序的标题）

你会在那里找到它

# ruby-on-rails - How to run metric_fu command on a specific task

> ID：12794655
> 
> 赞同：0
> 
> 时间：2012-10-09T07:11:41.510
> 
> 标签：ruby-on-rails, metrics, metric-fu

`rake metrics:all` seems to generate all metric reports as flog,flay..etc. How to run report for a single metric (say flog) `rake metrics:flog` The following error occurs while running this command

```
rake aborted!
Don't know how to build task 'metrics:flog' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T02:05:26.483

metric_fu 3.0 现已推出，您可以从命令行或通过“.metrics”文件（我是维护者）执行此操作。 [https://github.com/metricfu/metric_fu](https://github.com/metricfu/metric_fu) 例如你可以运行

```
metric_fu -r --no-flay --no-reek --no-saikuro --no-churn --no-roodi --no-rcov 
```

# magento - magento editable grid column values not posting using massaction

> ID：12794656
> 
> 赞同：1
> 
> 时间：2012-10-09T07:11:45.490
> 
> 标签：magento, grid

I want to edit gridview product values using massaction. here i created a column like this.

```
$this->addColumn('fineness',
            array(
                'header'=> Mage::helper('catalog')->__('% Increase'),
                'width' => '80px',
                'index' => 'fineness',
                'type' => 'input',
                'editable' => 'TRUE',

        )); 
```

it is working fine but how can i post these value to massaction? here i wrote action like this

```
$this->getMassactionBlock()->addItem('update', array(
             'label'=> Mage::helper('catalog')->__('Bulk Update'),
             'url'  => $this->getUrl('*/*/massUpdate'),
             'confirm' => Mage::helper('catalog')->__('Are you sure?'),

        )); 
```

so how can i get column values in massaction.in the action i wrote like this but not working

```
public function massUpdateAction()
    {
        $productIds = $this->getRequest()->getParam('product');
        $increase_fineness = $this->getRequest()->getParam('increase_fineness');
        $fineness = $this->getRequest()->getParam('fineness');
        print_r($fineness);die;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T14:05:38.913

我认为您可以采用更简单的解决方案：
只需为群众活动表单创建自己的模板，并在那里更改 onclick 事件（或为提交事件添加您自己的侦听器）。
这里的想法是使用您自己的 JS 代码（您可以将其包含在新的 .phtml 中）在提交之前使用您的自定义信息将一些输入添加到批量处理表单中。

// 这将在您的网格内（您现在可能拥有此方法，因为您应该在此处添加质量项：

```
protected function _prepareMassaction()
{

        // you can use widget/grid/massaction.phtml as a reference
        $this->getMassactionBlock()->setTemplate('your_custom_template_here.phtml');
                ... 
```

作为旁注，这（基本上）是批量处理表单的工作方式：
当您选择输入复选框时，它将在批量处理表单上创建一个输入元素，该输入将具有您所选行的 ID，以逗号分隔。
然后 Magento 有一个观察者（监听“adminhtml_controller_action_predispatch_start”）

```
Mage_Adminhtml_Model_Observer::massactionPrepareKey 
```

这会将逗号分隔的值转换为数组，这就是您在 massaction Action 中接收所选项目数组的方式。

# html - 通过两个相同的类值来获取标签是否有效？

> ID：12794660
> 
> 赞同：1
> 
> 时间：2012-10-09T07:12:00.150
> 
> 标签：html, css, class

如果 HTML 代码有两个相同的类值，像这样：

```
<div class="aaa aaa">
</div> 
```

像这样在 CSS 中通过两个相同的值来获取它是否有效？

```
div.aaa.aaa { } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:14:39.337

拥有`<div class="aaa aaa">`，就等于拥有`<div class="aaa">`。
`div.aaa.aaa`是有效的，以及`div.aaa`，并且它们都选择相同的元素。

`div.aaa.aaa`寻找`<div>`s`class=aaa`和`class=aaa`，这是多余的。

# java - Solaris：TOP 命令，RES mem 没有出现（java 程序）

> ID：12794670
> 
> 赞同：0
> 
> 时间：2012-10-09T07:12:37.050
> 
> 标签：java, jakarta-ee, memory, memory-management, solaris

我正在通过我的 java 程序运行负载并通过 jconsole 和 top 命令分析内存消耗。

我正在使用的“uname -a”机器是：

SunOS 5.10 Generic_142909-17 sun4v sparc sun4v

我的问题是，如果我通过 top 命令看到内存消耗，那么当负载运行时 RES 内存会增加，这很好，但是当我停止负载时它不会下降。

如果 GC 发生，那么 RES mem 也不会下降。与 Jconsole 中的相反，我可以看到当 GC 发生时 mem 消耗下降。

最高输出：

PID 用户名 LWP PRI NICE SIZE **RES**状态时间 CPU 命令
16959 aconyx 836 59 0 7559M **3696M** sleep 61:27 0.04% java

JConsole 输出：

![在此处输入图像描述](../Images/a046b82785003e73f4d80ae47f13f580.png)

在同一时间点，jconsole 显示使用了 384 MB，顶部 RES 显示使用了 3696 MB。

为什么顶部 RES 内存没有像 jconsole 中可见的那样下降的任何指针。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:23:56.673

要知道的重要一点是，java GC 不会将内存释放给操作系统，它只是释放它以便 JVM 可以重用它。

# php - 注册页面以使用 ODBC 和 php 检查用户是否存在于 sql server 2012 中

> ID：12794671
> 
> 赞同：-3
> 
> 时间：2012-10-09T07:12:44.770
> 
> 标签：php, sql-server, odbc

以下代码能够注册用户，但无法检查用户是否已存在。请修改代码以检查用户是否已存在。我正在使用从 navision 表中获取数据的 sql server 2012。该代码包含两个部分，即 php 代码和 html 代码（其中包含注册表单）

```
<?php 
include 'core/database/conn.php';
include 'includes/overall/header.php';
// Process the POST data.
if (isset($_POST['log22'])){
$username = $_POST['username'];
$password = $_POST['password'];
$confirm_password = $_POST['confirm'];
$email = $_POST['email'];
//echo $getemail;
//echo "<script>alert('The Email is already registered');</script>";

        $id=md5(rand(1,123));
        $id='ADM'.strtoupper(substr($id,0,10));

        $username = strtoupper($username);
        $password = substr(md5($password),0,9);
        $email = strtoupper($email);

        //header ('Location: register.php');

        $sql = "INSERT INTO[ICPAK_FORMS].[dbo].[ICPAK\$User Register](
                                                        [ID],[Username],[Password],[Email])                         
                                                VALUES  ('$id','$username','$password','$email')"; 

        global $DBCONN; 
        odbc_exec($DBCONN,$sql);

}
?>
<h1>Register</h1>

    <!----><script type="text/javascript" src="js/regform.js"></script>
    <form id="formreg" name="formreg" method="post" action="register.php" onSubmit="return regformValidation()">
        <ul>

            <li>
        Username:<br/><input type="text"  name="username" value="<?php //if(isset($_POST['username'])){ echo $_POST['username']; } ?>"/>
         </li>
            <li>
        Password:<br/> <input minlength="5" type="password"  name="password" value="<?php //if(isset($_POST['password'])){ echo $_POST['password']; } ?>"/>
         </li>
            <li>
        Confirm Password:<br/><input type="password"  name="confirm"  value="<?php //if(isset($_POST['confirm'])){ echo $_POST['confirm']; } ?>" />
         </li>
            <li>
        E-mail<br/>
        <input type="text" name="email" id="email" value="<?php if(isset($_POST['email'])){ echo $_POST['email']; } ?>"/>   
        </li>
            <li>
        <input type="submit" value="submit" /><input type="hidden" name="log22" id="log22" value="Login" /></td>
    </li>
            <li>

    <table>
        <tr><td colspan="2">If you are registered click <a href="login.php">here</a> to Login</td><tr>
        </table>
        </li>           
        </ul>
    </form>
<?php include 'includes/overall/footer.php';?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:23:36.733

您可以简单地做的是检查输入用户名的用户是否存在，您可以按照以下方式进行操作.. 例如

```
$result = odbc_exec( $connection, "SELECT username FROM users_table WHERE username like '$username' ");
if ( odbc_num_rows($queryresult) > 0) {
    echo 'User with this name already exist.. Please select a different username';
    ....
    ....
    // your logic what you want to do after that
}
else{
       //Save and Register User
} 
```

我建议你自己努力去做，如果你努力后失败了，那么你应该在这里问..反正祝你好运

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:21:37.580

写这个

```
$sql_select = "select * from [ICPAK_FORMS].[dbo].[ICPAK\$User Register] where [Username] = $username";
$queryresult = odbc_exec($DBCONN,$sql_select);
if ( odbc_num_rows($queryresult) > 0 ) { 
{
     // code for insert
}
else {
   // show error that username already exist.
} 
```

# inno-setup - Inno 设置：wpselectDir 不显示新建文件夹

> ID：12794672
> 
> 赞同：1
> 
> 时间：2012-10-09T07:12:47.953
> 
> 标签：inno-setup

在 wpselectdir 向导上单击浏览按钮时，弹出窗口不显示“新建文件夹”。在帮助中，他们说如果`DefaultDirName`设置为否，则会导致对话框上出现“新建文件夹”按钮。我试图在 [setup] 部分设置为 no，但没有用。请帮忙。

注意：我从 中创建了一个向导页面`CreateInputDirPage`，在其中我可以选择让它显示，这工作正常。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:33:49.630

`Browse For Folder`对话框的按钮`Make New Folder`可见性有一个特殊的规则。您必须将[`AppendDefaultDirName`](http://www.jrsoftware.org/ishelp/index.php?topic=setup_appenddefaultdirname)指令显式设置为，`no`因为默认情况下是`yes`. 因此，它将禁用自动添加到所选文件夹的路径，但没有其他方法可以使`Make New Folder`按钮可见（在 InnoSetup 源中检查）：

```
[Setup]
AppendDefaultDirName=no 
```

# php - 用于谷歌分析的 PHP API

> ID：12794674
> 
> 赞同：2
> 
> 时间：2012-10-09T07:12:50.747
> 
> 标签：php, google-analytics

我想开始使用 Google Analytics PHP API。

我找到了 2 个库，但我不明白我应该使用哪一个以及它们之间的主要区别是什么：**[gapi-google-analytics-php-interface](http://code.google.com/p/gapi-google-analytics-php-interface/)**和**[google-api-php-client](https://code.google.com/p/google-api-php-client/)**

PS 使用此 API 的主要原因是需要使用目标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:16:14.013

`google-api-php-client`适用于 Google API，而不是专门用于 Google Analytics。

`gapi-google-analytics-php-interface`是一个连接到您的 Google Analytics 帐户并提取数据的库。你应该使用这个客户端。

> *GAPI（称为“g、a、p、i”）是 Google Analytics PHP5 接口。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-04T19:23:26.760

建议遵循本教程。

[你好分析](https://developers.google.com/analytics/solutions/articles/hello-analytics-api#environment)

虽然，我记得，最新的 github 库与脚本不匹配，我必须找到以前的版本。

如果您收到一堆包含错误，请检查文件夹结构。我最终下载了以前的版本（匹配的）并且从那以后使用 GA API 没有任何问题。

# c# - 组合框中显示的限定类型而不是属性值

> ID：12794675
> 
> 赞同：0
> 
> 时间：2012-10-09T07:12:51.463
> 
> 标签：c#, winforms, combobox

我的组合框有问题。我设置了包含对象列表、DisplayMember 和 ValueMember 的 DataSource，但有时组合框会显示放置对象类的命名空间。例如：**Project.Interface.Object**

```
cmbAuto.DataSource = Collections.ProfileList.FindAll(t => t.IsAuto);
cmbAuto.DisplayMember = "Name";
cmbAuto.ValueMember = "ID";
cmbAuto.SelectedIndex = -1; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T13:11:20.880

我建议你使用`Where operator`

```
cmbAuto.DataSource = Collections.ProfileList.Where(t => t.IsAuto); 
```

注意：FindAll() 是 List 类型的函数，它不是像 Where 那样的 LINQ 扩展方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-23T09:49:21.890

我通过覆盖对象的 ToString 方法解决了这个问题。

# heroku - 在 PAAS 中部署 SOA 风格的应用程序

> ID：12794676
> 
> 赞同：5
> 
> 时间：2012-10-09T07:12:53.257
> 
> 标签：heroku, cloud, soa, cloud-foundry

我目前正在考虑将 SOA 风格的应用程序部署到云上的 PAAS 中。

我正在评估一些 PAAS 提供商，包括 Cloud Foundry、Heroku 和 Jelastic。

目前，为了简单起见，我只有一个 grails 应用程序和一个带有嵌入式 Jetty 服务器的服务 jar 文件。这将扩展为多个服务和 Web 前端，中间有一种服务方式，所有通过 rabbit mq 和 http 的混合进行通信。

我目前正在努力了解如何将这些部署到 PAAS 上的拓扑。

我的问题是：

1.  是否必须将所有服务和 Web 应用程序部署为 PAAS 中的顶级“应用程序”（例如，dynos 可以在 Heroku 中使用吗？）

2.  如果是这样，是否可以限制对服务的访问，以便只能从 webapp（最终网关）向它们发出请求。

3.  它们是否需要作为顶级应用程序存在才能从负载平衡（和自动缩放）中受益，因为每个服务可能有多个实例。

4.  如果每个服务都有自己的数据存储，我再次假设这需要它是一个应用程序？

5.  如果有一种方法可以在不为每个服务使用完整应用程序的情况下实现这一点，那么节点如何单独寻址？他们可以使用某种目录服务注册自己吗？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T09:00:39.420

我将为 CloudFoundry 回答，因为这是我最精通的（也是我得到报酬的：）

**前言：** CloudFoundry 具有应用程序（运行的代码片段，可能会或可能不会暴露于外部世界，*即*存在`standalone` *运行时*）和服务（数据存储等，RabbitMQ 属于该类别）的概念。您部署*应用程序*并将它们绑定到零个或多个*服务*。

1.  我会回答“是”，假设您希望能够单独重新部署和扩展您所谓的服务（*即*不是 CF 意义上的服务，而是 SOA 意义上的服务）
2.  对于 CloudFoundry，答案是“否”，您必须以编程方式执行此操作。请注意，如果服务仅*通过**eg* RabbitMQ 进行通信，那么您会将它们部署为独立应用程序，但它们一开始就无法通过 Web 寻址
3.  CloudFoundry 中没有“顶级”和“其他级别”。这些应用程序是您可以扩展的。绑定到 URL 的应用程序会自动进行负载平衡。
4.  是的。请注意，您可以将多个 SOA“服务”打包为一个“应用程序”，并让其中的一部分与 CloudFoundry 服务 A 对话，而其他部分与服务 B 对话。请参阅 1) 了解缺点。
5.  从之前的答案来看，答案是否定的。如果您使用*例如*RabbitMQ 作为您的消息代理，那么路由键将用作一种“目录”。

希望这是有道理的:)

# html - 使块级元素具有像内联元素一样的调整宽度？

> ID：12794678
> 
> 赞同：2
> 
> 时间：2012-10-09T07:13:10.087
> 
> 标签：html, css

默认情况下，即使没有内容，块级元素也有 100% 的宽度，它水平占据其父元素的空间。

另一方面，内联元素根据其内容调整其宽度。如果内容长，则元素变宽，如果内容短，则宽度缩小。

![在此处输入图像描述](../Images/c2f4c5407ce9e0d864a98d9b9312275e.png)

这是一个[演示](http://jsfiddle.net/FWXVa/1/)。

我想在这里实现的是使块级元素的宽度可以根据其内容（如内联元素）进行调整。我将如何做到这一点？

笔记：

*   我希望块元素是块，而不是内联块或内联。
*   我想避免浮动，我认为它可以在没有浮动元素的情况下实现。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:55:12.467

我记得桌子的宽度正是我想要模仿的。它根据内容的长度进行调整。我找到了 HTML 4 的默认样式表，表格的 display 属性设置为“table”，所以我尝试将它设置为 div 并且它可以工作：

```
div{ display:table; background:yellow; }

<div>lorem ipsum dolor</div> 
```

[演示](http://jsfiddle.net/bbYJ2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:16:37.610

您可以像这样将块元素向左浮动

CSS

```
div { background:yellow; float: left;} 
```

[**我的小提琴**](http://jsfiddle.net/FWXVa/4/)

您可以稍后简单地破坏您的元素，或者您可以`<div style="clear: both;"></div>`在浮动 div 之后使用...

[我的小提琴](http://jsfiddle.net/FWXVa/6/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:21:00.387

好吧，我建议你在你的主 div中添加一个 div 或`display: inline-block` *span*`display: block`。然后使用**javascript**计算内部元素的大小。然后将父元素的宽度设置为相同的值。

反正你的要求很奇怪

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:21:42.490

我给你小样

*   HTML

```
lorem ipsum dolor
lorem ipsum dolorlorem ipsum dolorlorem ipsum dolorlorem ipsum dolor more longger

```

*   CSS

    ```
    div { background:yellow; }
    span { background:orange; float:left;display:inline; width:auto;padding:0 3px; border-right:1px solid red;} 
    ```

元素跨度是向左浮动的，宽度取决于内容。

# iphone - 在iphone中将json字符串转换为xml字符串

> ID：12794690
> 
> 赞同：0
> 
> 时间：2012-10-09T07:14:02.550
> 
> 标签：iphone, xml, json, nsdictionary

我的 json 字符串来自我的 Web 服务，我将其存储到 nsdictionary 对象中。现在我想将其转换为 xml 字符串。任何人都知道如何在不使用任何外部库的情况下执行此操作...！？！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:16:51.613

查看以下链接。希望这是您正在寻找的。:)

[如何使用 iPhone sdk 将 XML 字符串转换为 JSON](https://stackoverflow.com/questions/6354159/how-to-convet-xml-string-to-json-using-iphone-sdk)

[如何在目标 C 中将 JSON 转换为 XML？](https://stackoverflow.com/questions/10717669/how-to-convert-json-to-xml-in-objective-c)

[Objective-c 中的自动解析库 - [自动 XML/JSON 到对象转换]](https://stackoverflow.com/questions/5124805/automatic-parsing-library-in-objective-c-automated-xml-json-to-object-convers)

# c# - 将文件拖放到 WPF 窗口中

> ID：12794694
> 
> 赞同：6
> 
> 时间：2012-10-09T07:14:23.627
> 
> 标签：c#, wpf, drag-and-drop

我有将文件拖放到 WPF 窗口中的代码：

XAML（在 Home.xaml 中）：

```
Drop="HomeWindow_Drop" AllowDrop="True"> 
```

C#（在 Home.xaml.cs 中）

```
private void HomeWindow_Drop(object sender, DragEventArgs e)
{
    // Handle this
} 
```

但是当我尝试将文件拖到主窗口中时，我得到了窗口“不可用”光标（尽管有一条线的圆圈），并且该事件不会被触发。我不知道它为什么这样做。

我在 Windows 7 上从未遇到过这个问题，而我现在在 Windows 8 上，但我认为这与它没有任何关系吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:21:36.643

事件是否发生或没有发生任何事情？如果事件正在发生，我认为还有另一个事件必须用来告诉它正在开始，然后更改光标。

快速查看这些是[DragEnter、DragLeave 和 DragOver](http://msdn.microsoft.com/en-us/library/system.windows.window.aspx)。只需更改这些事件的光标

# svn - 用于验证 Eclipse 代码格式化程序 xml 的 shell 脚本

> ID：12794695
> 
> 赞同：1
> 
> 时间：2012-10-09T07:14:34.457
> 
> 标签：svn, pre-commit-hook

我打算在 svn 中编写一个预提交挂钩，用于在签入 svn 存储库之前验证代码格式。我使用 eclipse 作为我的 IDE，并设置了自定义代码格式化规则，我的所有团队成员都在使用 xml 来格式化 java 代码。

但是，我需要在 svn 的预提交中验证签入符合正在定义的代码格式。eclipse 代码格式化程序以 xml 格式导出格式化规则。在预提交钩子中，我计划编写一个 shell 脚本，它应该根据代码格式 xml 验证要签入的文件。

您能否让我知道如何实现这一点。

问候， Pradeep

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T18:06:11.623

它不是专门的预提交钩子，但这是我开始使用的：

[http://code.google.com/p/maven-java-formatter-plugin/](http://code.google.com/p/maven-java-formatter-plugin/)

您可以将格式任务包装为我想象的预提交挂钩。每次执行“mvn 包”时，我都会使用它来格式化（按照他们的示例了解如何执行此操作）。您将能够使用您一直在使用的相同的 Eclipse 格式化规则。它非常光滑。

# asp.net - 为什么我的地址链接中有其他地址？

> ID：12794704
> 
> 赞同：0
> 
> 时间：2012-10-09T07:15:04.597
> 
> 标签：asp.net, web, webaddress

我在一个网站上工作，当我打开第一页时，我会收到地址链接的附加信息。例如我应该有：`www.rpcmap.com/`但实际上我有这个链接：

`www.rpcmap.com/(S(japkjl0zot2rvmfc0v104b0j))/default.aspx` 有谁知道这些附加链接的原因？[您可以在此处](http://www.rpcmap.com/)访问该网站

提前致谢：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:22:08.323

我不是 100% 了解 .NET，但我几乎可以大胆猜测它是由您的 web.config 的 URL 重写注入的会话/状态信息。

第一个调用端口是打开您的 web.config 并查看它为什么注入会话信息 - 并隐藏或删除它。

请注意 - 纯粹是猜测！

# asp.net - 部署后和在 Web 部件页面上添加时用户控件上的解析器错误

> ID：12794707
> 
> 赞同：0
> 
> 时间：2012-10-09T07:15:33.510
> 
> 标签：asp.net, sharepoint, sharepoint-2010, sharepoint-2007

我在我的测试服务器上为 sharepoint 2007 站点创建了一个用户控件，它工作正常。今天我将它部署在生产上它给出了解析器错误：

## “/”应用程序中的服务器错误。

解析器错误描述：解析服务此请求所需的资源时发生错误。请查看以下特定的解析错误详细信息并适当地修改您的源文件。

解析器错误消息：无法加载类型“EditSkillNew.EditSkill”。

源错误：

第 1 行：<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="EditSkill.ascx.cs" Inherits="EditSkillNew.EditSkill" %>

第 2 行：

第 3 行：.style1

源文件：/_controltemplates/MySkill/EditSkill.ascx 行：1

* * *

版本信息：Microsoft .NET Framework 版本：2.0.50727.832；ASP.NET 版本：2.0.50727.832 请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:51:30.647

我们可能需要更多信息来解决此问题，但您可以检查一些事项。

*   事件日志中是否有任何帮助？
*   包含您的控件的程序集是否已签名？如果是这样，您的`Inherits`属性将需要看起来像`Inherits="EditSkillNew.EditSkill, EditSkill, Version=a.b.c.d, Culture=someculture, PublicKeyToken=xyzabc"`
*   您的测试环境和生产环境之间是否存在任何配置差异？
*   您要部署到 GAC 吗？

# wpf - MouseEnter/MouseMove 面板，包括空格

> ID：12794709
> 
> 赞同：1
> 
> 时间：2012-10-09T07:15:42.907
> 
> 标签：wpf, events, xaml, mouseevent, stackpanel

WPF 面板支持来自 IInputElement 接口的事件（大多数鼠标事件都在这里声明）

在面板中执行 MouseEnter 或 MouseMove 时，它​​只会在您将鼠标悬停在该面板中的 childcpntrol 而不是整个面板空间上时执行该事件

示例：带有文本块（WPF 中的标签）、文本框和按钮的 Stackpanel（方向 = 水平）。按钮上的边距为 5。Stackpanel 有一个 MouseEnter 和一个 MouseLeave 处理程序。当这些事件触发时，将在文本块和文本框中设置一些文本（例如：'Stackpanel enter'和'Stackpanel left'）。文本块的文本将被更新，文本框文本将被添加。

如果您从左到右（从文本块到按钮）转到您的堆栈面板，您将看到文本框中的文本如下：“堆栈面板已输入堆栈面板左侧堆栈面板已输入”。

触发 MouseLeave 事件。这是因为文本框和按钮之间的空白（如果你记得的话，按钮的边距）。

我的问题是：为了在相同的情况和条件下不触发 MouseLeave 事件，必须在堆栈面板上进行哪些更改？

换句话说：如何将 MouseEnter 和 MouseLeave 事件链接到 Stackpanel 本身而不是他的孩子，以便 stackpanel 的所有空间都是“事件区域”？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T08:24:38.363

看起来答案与背景颜色有关。Presentation Core 假定空白属于 Stackpanel 的父级（或父级之一）。

好的解决方案：覆盖默认背景或设置背景。这是“透明”（RGB：0 255 255 255，十六进制：#00FFFFFF）。值必须不那么透明（RGB：1 255 255 255，十六进制：#01FFFFFF）。

# ios - iOS 5：基于 mysql 数据库地址的地理编码

> ID：12794713
> 
> 赞同：0
> 
> 时间：2012-10-09T07:15:58.790
> 
> 标签：ios, annotations, mkmapview, geocoding

我可以使用以下代码在 MKMapView 上放置一个注释：

```
[self.geocoder geocodeAddressString:value completionHandler:^(NSArray *placemarks, NSError *error) {
                if ([placemarks count] > i) {
                    CLPlacemark *placemark = [placemarks objectAtIndex:0];
                    location = placemark.location;
                    coordinate = location.coordinate;
                    coordinate.latitude = location.coordinate.latitude;
                    coordinate.longitude = location.coordinate.longitude;

                    MKCoordinateRegion newRegion;
                    newRegion.center.latitude = coordinate.latitude;
                    newRegion.center.longitude = coordinate.longitude;
                    newRegion.span.latitudeDelta = 0.029321;
                    newRegion.span.longitudeDelta = 0.034589;
                    //newRegion.span.latitudeDelta = 0.579321;
                    //newRegion.span.longitudeDelta = 1.234589;
                    MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init];
                    [annotation setCoordinate:coordinate];
                    //  AppDelegate *dataCenter = (AppDelegate *) [[UIApplication sharedApplication] delegate];
                    NSArray *web = [detail valueForKeyPath:@"Name"];
                    NSString *value = [web objectAtIndex:0];
                    [annotation setTitle:value];

                }
            }]; 
```

值是我传递的地址。

但是现在，我想使用相同的代码（可能在一个）for 循环中，这样我就可以对从 mysql 数据库的数组中获得的所有地址值进行地理编码。请指导我如何做到这一点

更新：

我从数组中的 sql 数据库中获取值。

```
 $count = [web count];

    for (int i=0; i< count ; i++) {
            NSString *value = [web objectAtIndex:i];
            [self.geocoder geocodeAddressString:value completionHandler:^(NSArray *placemarks, NSError *error) {
                if ([placemarks count] > i) {
                    CLPlacemark *placemark = [placemarks objectAtIndex:0];
                    location = placemark.location;
                    coordinate = location.coordinate;
                    coordinate.latitude = location.coordinate.latitude;
                    coordinate.longitude = location.coordinate.longitude;

                    MKCoordinateRegion newRegion;
                    newRegion.center.latitude = coordinate.latitude;
                    newRegion.center.longitude = coordinate.longitude;
                    newRegion.span.latitudeDelta = 0.029321;
                    newRegion.span.longitudeDelta = 0.034589;
                    //newRegion.span.latitudeDelta = 0.579321;
                    //newRegion.span.longitudeDelta = 1.234589;
                    MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init];
                    [annotation setCoordinate:coordinate];
                    //  AppDelegate *dataCenter = (AppDelegate *) [[UIApplication sharedApplication] delegate];
                    NSArray *web = [detail valueForKeyPath:@"Name"];
                    NSString *value = [web objectAtIndex:0];
                    [annotation setTitle:value];

                }
            }];
} 
```

完整的方法::

```
-(void) showSourceDest {
if (!self.geocoder) {
    self.geocoder = [[CLGeocoder alloc] init];
}
AppDelegate *dataCenter = (AppDelegate *) [[UIApplication sharedApplication] delegate];
NSLog(@"Opening: %@", dataCenter.data);
[self setTitle:@"Map"];

NSString *address = dataCenter.data;

[self.geocoder geocodeAddressString:address completionHandler:^(NSArray *placemarks, NSError *error) {
    if ([placemarks count] > 0) {
        CLPlacemark *placemark = [placemarks objectAtIndex:0];
        location = placemark.location;
        coordinate = location.coordinate;
        coordinate.latitude = location.coordinate.latitude;
        coordinate.longitude = location.coordinate.longitude;

        //for first co-ordinate :: SOURCE
        MKCoordinateRegion newRegion;
        newRegion.center.latitude = coordinate.latitude;
        newRegion.center.longitude = coordinate.longitude;
        newRegion.span.latitudeDelta = 0.029321;
        newRegion.span.longitudeDelta = 0.034589;

        MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init];
        [annotation setCoordinate:coordinate];
         AppDelegate *dataCenter = (AppDelegate *) [[UIApplication sharedApplication] delegate];
        [annotation setTitle:dataCenter.hotelname];
        [self.mapView addAnnotation:annotation];

        //second annotation for SDSU :: DESTINATION
       location2 = placemark.location;
        coordinate2 = location.coordinate;
        coordinate2.latitude = 32.774774;
        coordinate2.longitude = -117.072262;

        MKCoordinateRegion collRegion;
        collRegion.center.latitude = 32.774774;
        collRegion.center.longitude = -117.072262;
        collRegion.span.latitudeDelta = 0.029321;
        collRegion.span.longitudeDelta = 0.044589;
        MKPointAnnotation *annotation2 = [[MKPointAnnotation alloc] init];
        [annotation2 setCoordinate:coordinate2];

        [annotation2 setTitle:@"SDSU"];
        [self.mapView addAnnotation:annotation2];

        NSArray *web = [detail valueForKeyPath:@"Address"];
        NSLog(@"NO OF VALUES:: %@", web);
        int count = [web count];

        //Other place of interest nearby
        for (int i = 0; i < count; i++)
        {
            NSString *value = [web objectAtIndex:i];
            [self.geocoder geocodeAddressString:value completionHandler:^(NSArray *placemarks, NSError *error) {
                if ([placemarks count] > 0) {
                    CLPlacemark *placemark = [placemarks objectAtIndex:0];
                    location = placemark.location;
                    coordinate = location.coordinate;
                    coordinate.latitude = location.coordinate.latitude;
                    coordinate.longitude = location.coordinate.longitude;

                    MKCoordinateRegion newRegion;
                    newRegion.center.latitude = coordinate.latitude;
                    newRegion.center.longitude = coordinate.longitude;
                    newRegion.span.latitudeDelta = 0.029321;
                    newRegion.span.longitudeDelta = 0.034589;
                    MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init];
                    [annotation setCoordinate:coordinate];
                    [annotation setTitle:value];
                    [self.mapView addAnnotation:annotation];
                    [self.mapView setRegion:collRegion animated:YES];

                }
            }];
        }
    }
 }]; 
```

}

for 循环内的块只执行一次！:( 不确定，但是否因为块变量没有得到更新？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T22:34:04.813

这里有几个问题：

*   i 是数据库地址数组中的索引，它不能用于计算从地理编码一个地址返回的所有地标。仅仅因为您位于第 49 个地址，该地址不太可能从地理编码中生成 50 个地标。
*   `detail`变量从何而来，为什么在循环的每次迭代中都得到相同的值？
*   该`web`数组已被用作 for 循环的目标，您不能期望在循环中重新声明它。

如果你解决了这些问题，你也许可以自己解决剩下的代码。CLGeocoder 也将您一次限制为 50 个请求。如果你做了那么多，你应该考虑将坐标与地址字符串一起存储在数据库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T06:18:04.603

问题解决了：

```
MKCoordinateRegion newRegion;
newRegion.center.latitude = [[[detail valueForKey:@"Latitude"] objectAtIndex:i] doubleValue];
newRegion.center.longitude = [[[detail valueForKey:@"Longitude"] objectAtIndex:i] doubleValue]; 
```

在哪里 ：

```
NSDictionary *detail; 
```

所以基本上，[doubleValue];

# performance - 链接点击后如何保持网页在屏幕上，只有在新页面加载后才刷新？

> ID：12794717
> 
> 赞同：1
> 
> 时间：2012-10-09T07:16:17.313
> 
> 标签：performance, optimization, webserver

我见过一些网站这样做，我将解释发生了什么。

通常，当您单击任何站点内的链接时，浏览器屏幕会变白，等待几秒钟，然后开始渲染页面，加载图像等。

但是有些网站，在你点击链接后，即使你看到浏览器的预加载器在旋转并且服务器在后台处理请求，当前页面仍然保持不变。但它永远不会变白。它只会显示下一页的空白背景，并且仅显示一瞬间。

网站如何做到这一点？

这里有两个示例链接进行比较：

1.  [http://www.blackhatworld.com/](http://www.blackhatworld.com/)（无白色背景）
2.  [http://www.moneymakerdiscussion.com/](http://www.moneymakerdiscussion.com/)（显示白色背景）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:30:17.890

Grigore，我相信这与页面的内容有关，尤其是 SWFobjects 和 JavaScript。要删除白屏，请尝试在 HTML 中移动底部的 JavaScript（以便稍后加载）并减少/删除 SWF 对象（Flash 广告、游戏等）。希望这可以帮助！

# java - 是否可以在 Java 构建的 Android 应用程序中运行 AIR 播放器（OSMF）？

> ID：12794718
> 
> 赞同：1
> 
> 时间：2012-10-09T07:16:25.440
> 
> 标签：java, android, air

我有一个使用在 Webview 中运行的 Flash 播放器的应用程序。我想切换到 AIR 播放器，因为 flash 即将消失，而且我想使用 RTMPE 或 HLS、AES 为我的播放器提供视频内容。

*   我需要将我的应用程序重写为 AIR 吗？
*   是否可以让我的应用保持原样并以某种方式调用外部 AIR 播放器？
*   可以在 webview 中运行 AIR 播放器吗？
*   有没有其他解决方案可以在安卓设备上播放 RTMPE 或 HLS AES？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T15:56:12.363

我正在用 Java 开发一个使用 Wowza Media Server 和 Red5 的 Android 应用程序。我的应用程序是 Java，它使用 JAVA RTMP 客户端库（这些也存在于其他语言中，php 等）它可以在 android 和其他 java 平台中使用。

我使用这个开源库 [http://sourceforge.net/projects/rtmpjavaclient/](http://sourceforge.net/projects/rtmpjavaclient/) 使用 RTMP 还没有发现任何问题，我不确定它是否支持 RTMPE，如果不支持，请在谷歌搜索 RTMPE java 客户端.

希望这可以帮助！

# android - 在 android Application 类中持久化状态

> ID：12794719
> 
> 赞同：4
> 
> 时间：2012-10-09T07:16:30.153
> 
> 标签：android, object-persistence

我正在开发一个包含 10 多个活动的 Android 应用程序。我有一些状态对象，我几乎在每个活动中都可以访问它们，为此，它们在 MyApplication 类中实现为全局静态变量。

我注意到只要用户在应用程序中，这种方法就可以了。但是，当他按下主页按钮并打开另一个应用程序，然后通过“最近的活动”按钮返回我的应用程序时，我看到 Android 系统从 MyApplication 重置了静态，所以我必须处理 NullPointerExceptions。我知道这种行为是由Android杀死并重新创建应用程序进程引起的。

我知道保留此类数据的最佳方法是使用 SharedPreferences 或 SQLite，并且我在 onCreate for 中检查 MyState==null 并恢复它没有问题，但问题是我不知道**何时**正确存储我的状态对象（在首选项或数据库中）。我试图覆盖 MyApplication 的 finalize() - 不好，我看到 onLowMemory 可能不会被调用，我不知道如何使用 onPause、OnStop 等，因为我有太多的活动，序列化反序列化会相当多减慢应用程序。

有什么想法吗？提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T08:38:53.000

`Application`除非您需要加载一些数据，否则最好不要依赖类，然后再开始其他任何操作。Android 可以随时终止您的进程以释放资源，因此您的应用程序应该能够处理此问题。将所有数据保存在 snigleton 类中，然后延迟加载——检查 null，如果是，则在首次访问时加载。如果状态需要保持不变，请考虑将其保存为文件/共享首选项。如果没有，您的应用程序可能没有它就可以生存，所以只需确保检查`null`等。

通常，您应该在活动变为非活动状态时保持状态 -- `onStop()`, `onPause()`，但您可以在有意义时立即保存（例如，用户输入了所有必需的数据）。分拆一个`AsyncTask`以在后台保存数据并让用户继续他们的工作。

# jquery - 导航到 不使用锚标签

> ID：12794730
> 
> 赞同：1
> 
> 时间：2012-10-09T07:17:03.563
> 
> 标签：jquery, html, window.location

我在单个 HTML 中有两个 div 标签，数据角色为“页面”。第一个是一个表单，其中包含一个表格，其中包含两列 A 和 B 以及一个按钮。第二个页面包含一个文本框和下拉菜单和 sublit 按钮。单击第一页中的按钮时，jquery 应调用 web-service 并应导航到第二个 div，其中的下拉列表应填充 webservice 的结果。最后点击提交时，整个数据应该被转换为 xml 并且应该被发布到另一个 web 服务。

请在这种情况下帮助我

网页

```
 <body>
    <div data-role="page" id="page-a">
        <div data-role="header"><h1>Place order</h1></div>
        <div data-role="content">
            <table align="center">
            <tr>
            <th>Part Number</th>
            <th>Quantity</th>
            </tr>
            <tr>
            <td><input type="text" id="t1"></td>
            <td><input type="text" id="q1"></td>
            </tr>
            <tr>
            <td><input type="text" id="t2"></td>
            <td><input type="text" id="q2"></td>
            </tr>
            <tr>
            <td><input type="text" id="t3"></td>
            <td><input type="text" id="q3"></td>
            </tr>
            <tr>
            <td><input type="text" id="t4"></td>
            <td><input type="text" id="q4"></td>
            </tr>
            <tr>
            <td><input type="text" id="t5"></td>
            <td><input type="text" id="q5"></td>
            </tr>
            </table>
    </div>
    <center>
    <div>
        <a href="#page-b" id="nextpage" data-role="button">Next</a></center>
        <!--<button  onclick="jaffa()">NEXT  </button>-->
    </div>
    </center>
    </div>

    <div data-role="page" id="page-b">
        <div data-role="header"><h1>Head</h1></div>
        <div data-role="content">
        <table align="center">
        <tr>
        <td> <label for="uname" class="floatleft" >Customer Reference ID</label>     </td>
        <td> <input id="cref"type="text" name="name" size="20"  data-mini="true"  autocomplete="off" style="width:220px;" class="floatleft1"/></td>
        </tr>
        <tr>
        <td><label for="address" class="floatleft">Address</label></td>
        <td><select id="addr">
        <option>--SELECT--</option>
        </select></td>
        </tr>
       </table>             
        </div>
        <div>
      <button  onclick="execute()"> place order </button>
      </div>

    </div> 
```

脚本

```
 <script type="text/javascript"> 
       $.("#nextpage").click(function)()        {
    alert("jaffa");
    $.ajax({

            type: "POST",

            url:"http://172.18.98.31/TrwAftermarket_M/login.asmx/GetShipToList",
            data: {UserId:"TRW2008" , Storefront:"DE" , CustomerNumber:"987654"},
            dataType: 'xml',
            success:function(data, textStatus, jqXHR){

            var xml = '';
            xml = $(data).find('string').text();
            xmlDoc = $.parseXML(xml),
            $xml = $( xmlDoc ),
            $(xml).find('shiptoName').each(function(){
                                    var value = $(this).text();
                                    //alert(value);

                                    $(addr).append("<option class='ddlcustomer' value='"+ value +"'>"+value+"</option>");
                                });
        },

         error: function (jqXHR, textStatus, errorThrown) { 
                                      alert("Error occured");
                                        alert(textStatus); 
                                       alert(errorThrown);
                         } 

                    });
               }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:21:14.927

尝试

```
var position = $('#page-a').position();

$("html, body").animate({
    scrollTop: position.top
}); 
```

# java - How to edit a curve in java

> ID：12794735
> 
> 赞同：0
> 
> 时间：2012-10-09T07:17:24.990
> 
> 标签：java, swing

I am making a Java program which is able to draw a curve on JPanel on mouse events.

Now I want to ask after drawing that curve, how can I edit that curve?

This is my Java program:

```
import java.awt.*;
import java.awt.event.*;
import java.awt.geom.QuadCurve2D;
import java.awt.image.BufferedImage;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import java.util.Vector;

import javax.swing.*;

public class MouseTestHovercraft extends JPanel {
    private static final int PREF_W = 600;
    private static final int PREF_H = PREF_W;
    private static final int MAX_CLR = 5;
    private static final Color CURRENT_LIST_COLOR = new Color(190, 190, 255);
    private List<Color> colors = new ArrayList<Color>();
    private boolean tracking = false;
    private List<Point> currentList = null;
    private BufferedImage bufferedImage = new BufferedImage(PREF_W, PREF_H,
            BufferedImage.TYPE_INT_ARGB);
    private Random random = new Random(); 
```

This contructor is used to change the color of the curve as soon as mouse is released.

```
 public MouseTestHovercraft() {
        for (int redIndex = 0; redIndex < MAX_CLR; redIndex++) {
            int r = (redIndex * 256) / (MAX_CLR - 1);
            r = (r == 256) ? 255 : r;
            for (int greenIndex = 0; greenIndex < MAX_CLR; greenIndex++) {
                int g = (greenIndex * 256) / (MAX_CLR - 1);
                g = (g == 256) ? 255 : g;
                for (int blueIndex = 0; blueIndex < MAX_CLR; blueIndex++) {
                    int b = (blueIndex * 256) / (MAX_CLR - 1);
                    b = (b == 256) ? 255 : b;
                    Color c = new Color(r, g, b);
                    colors.add(c);
                }
            }
        }

        add(new JToggleButton(new AbstractAction("TrackMouse") {
            public void actionPerformed(ActionEvent ae) {
                trackMouse(ae);
            }
        }));
        add(new JButton(new AbstractAction("Clear Image") {
            public void actionPerformed(ActionEvent e) {
                bufferedImage = new BufferedImage(getWidth(), getHeight(),
                        BufferedImage.TYPE_INT_ARGB);
                repaint();
            }
        }));

        MyMouseAdapter myMA = new MyMouseAdapter();
        addMouseListener(myMA);
        addMouseMotionListener(myMA);
    } 
```

This is used to listen the event of tracking button.

```
 private void trackMouse(ActionEvent ae) {
        JToggleButton toggleBtn = (JToggleButton) ae.getSource();
        tracking = toggleBtn.isSelected();
    }

    @Override
    public Dimension getPreferredSize() {
        return new Dimension(PREF_W, PREF_H);
    }

    public void msg(String message) {
        System.out.println(message);
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);
        g.drawImage(bufferedImage, 0, 0, null);
        if (currentList != null) {
            drawList(g, currentList, CURRENT_LIST_COLOR, 1f);
        }
    } 
```

This will draw a curve on jpanel using quadcurve

```
 private void drawList(Graphics g, List<Point> ptList, Color color,
            float strokeWidth) {
        if (ptList.size() > 1) {
            Graphics2D g2 = (Graphics2D) g.create();
            //        Graphics2D g2 = (Graphics2D) g;
            g2.setColor(color);
            //         g2.setStroke(new BasicStroke(strokeWidth));
            QuadCurve2D selectedCurve = null;
            for (int j = 0; j < ptList.size() - 1; j++) {
                int x1 = ptList.get(j).x;
                int y1 = ptList.get(j).y;
                int x2 = ptList.get(j + 1).x;
                int y2 = ptList.get(j + 1).y;

                selectedCurve =new QuadCurve2D.Float(x1, y1, 5, 5, x2,y2);

                g2.draw(selectedCurve);

            }
            g2.dispose();
        }
    } 
```

On mouse press this code will first add the starting point into currentlist list and after that till mouse released all the points are added into currentlist.

```
 private class MyMouseAdapter extends MouseAdapter {

        @Override
        public void mousePressed(MouseEvent e) {
            if (tracking && e.getButton() == MouseEvent.BUTTON1) {
                currentList = new ArrayList<Point>();

                currentList.add(e.getPoint());
            }
        }

        @Override
        public void mouseReleased(MouseEvent e) {
            if (tracking && e.getButton() == MouseEvent.BUTTON1) {
                currentList.add(e.getPoint());
                Graphics2D g2 = bufferedImage.createGraphics();
                Color color = colors.get(random.nextInt(colors.size()));
                drawList(g2, currentList, color, 3f);
                currentList = null;
                repaint();
            }
        }

        @Override
        public void mouseDragged(MouseEvent e) {
            if (tracking && currentList != null) {
                currentList.add(e.getPoint());
                repaint();
            }
        }
    }

    private static void createAndShowGui() {
        MouseTestHovercraft mainPanel = new MouseTestHovercraft();

        JFrame frame = new JFrame("MouseMotion Eg");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.getContentPane().add(mainPanel);
        frame.setResizable(false);
        frame.pack();
        frame.setLocationByPlatform(true);
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGui();
            }
        });
    }
} 
```

# php - Warning: preg_match() [function.preg-match]: Unknown modifier '{' i

> ID：12794736
> 
> 赞同：0
> 
> 时间：2012-10-09T07:17:43.787
> 
> 标签：php, regex

> **Possible Duplicate:**
> [Warning: preg_match() [function.preg-match]: Unknown modifier '/'](https://stackoverflow.com/questions/3327848/warning-preg-match-function-preg-match-unknown-modifier)

I am having troubles with this code wich gives me the next error:

```
Warning: preg_match() [function.preg-match]: Unknown modifier '{' in /usr/home/anubis-cosmetics.com/web/includes/functions/functions_email.php on line 568

Warning: preg_match() [function.preg-match]: No ending delimiter '^' found in /usr/home/anubis-cosmetics.com/web/includes/functions/functions_email.php on line 586 
```

Line 568:

```
 if email domain part is an IP address, check each part for a value under 256
    if (!preg_match ($valid_ip_form, $domain)) {
      $digit = explode( ".", $domain );
      for($i=0; $i<4; $i++) {
        if ($digit[$i] > 255) {
          $valid_address = false;
          return $valid_address;
          exit;
        } 
```

Line 586:

```
if (!preg_match($space_check, $email)) { // trap for spaces in
      if (!preg_match ($valid_email_pattern, $email)) { // validate against valid email patterns
        $valid_address = true;
      } else {
        $valid_address = false;
        return $valid_address;
        exit;
      }
    }
    return $valid_address;
  }

?> 
```

I don't know how to do it, can someone help me with this?

EDIT/////

I've tried to change the delimiters for this: # --->

```
// if email domain part is an IP address, check each part for a value under 256
    if (!preg_match ($valid_ip_form, $domain))#
      $digit = explode( ".", $domain ); 
```

And the other one for this:

```
if (!preg_match($space_check, $email)) { // trap for spaces in
      if (!preg_match ($valid_email_pattern, $email)) { // validate against valid email patterns
        $valid_address = true;
      } else {
        $valid_address = false;
        return $valid_address;
        exit;
      }
    }
    return $valid_address;# 
```

And still without work... Can someone be more especific (showing me some example inline) about the problem? Thanks!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:19:34.303

The problem is with your `$valid_ip_form` respectively `$space_check`. They will be invalid php PCRE expressions.

I guess you're missing [opening and closing delimiters](http://php.net/manual/en/regexp.reference.delimiters.php) and your expression looks like:

```
^[0-9]{3}$ 
```

Instead of:

```
~^[0-9]{3}$~
/^[0-9]{3}$/
#^[0-9]{3}$# 
```

or whatever else you like.

[Post them if you want more info]

# android - Is it possible to call setSelected() on a widget's TextView?

> ID：12794738
> 
> 赞同：2
> 
> 时间：2012-10-09T07:17:54.140
> 
> 标签：android, android-widget, textview

I have a `TextView` in my widget's layout, and I [have it set up as a marquee](https://stackoverflow.com/a/7941802/848393). I'm exploring any possible methods of pausing the marquee scrolling on regular intervals.

One way of doing this, at least in a "normal" scenario, is to call `setSelected(false)`, but because I don't readily know how to--or if I even can--get a reference to the `TextView` I'm not sure how this would work.

Is it even possible to call [`TextView.setSelected()`](http://developer.android.com/reference/android/widget/TextView.html#setSelected%28boolean%29) on a `TextView` that is inside a widget's layout? Are there any other ways that I could start/stop the marquee effect of a widget's `TextView`?

# html - Location of DTD file on local machine, defined in DOCTYPE declaration, which gets referred while validating?

> ID：12794740
> 
> 赞同：1
> 
> 时间：2012-10-09T07:17:57.690
> 
> 标签：html, dtd

If we can validate the html page without internet connection, the DTD file must be somewhere on local machine.

Can someone tell me the location of the DTD file OR how the page can get validated without internet connection?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T15:41:34.247

如何在没有 Internet 连接的情况下验证页面？有两种明显的可能性。

首先，对于任何 DTD，都可以构建一个专用程序来根据该 DTD 验证文档；由于 DTD 的所有规则都由这样的程序体现，因此这样的程序运行不需要 DTD 本身。

其次，任何程序都可能附带有问题的 DTD 的本地副本。HTML DTD 相对稳定，所以缓存本地副本并不难，实际上[W3C 系统工作人员建议将副本缓存在本地](http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic/)。

你怎么能找到它？在 Unix 机器上，你可以输入`find / -name xhtml1-strict.dtd`or `find / -name html401.dtd`; 在 Windows 机器上，您必须识别并运行具有类似功能的命令。

# google-ads-api - google remarketing - Google Remarketing on custom tags list

> ID：12794742
> 
> 赞同：0
> 
> 时间：2012-10-09T07:18:01.260
> 
> 标签：google-ads-api

I have few web pages, which correspond to certain keywords which the user will enter on the search band of my website.

I want to put google remarketing code on some specific pages based on these keywords. I have list of 1350 combinations. How should I proceed with adding google remarketing code on these web pages?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-24T20:58:32.177

您应该为您的整个网站添加一个全球网站范围的 Google 再营销标签：

此处的说明 [http://support.google.com/adwords/bin/answer.py?hl=en&answer=2476688](http://support.google.com/adwords/bin/answer.py?hl=en&answer=2476688)

“将您的再营销代码添加到您的整个网站”

接着

通过在 URL 中显示关键字，为每个关键字创建一个再营销列表。

说明： http: [//support.google.com/adwords/bin/answer.py ?hl=en&answer=2454064](http://support.google.com/adwords/bin/answer.py?hl=en&answer=2454064)

由于您有很多关键字，我建议检查哪些关键字的流量最多，然后开始使用前 10 个关键字，看看它是否带来了您正在寻找的结果。

我不知道批量创建 1350 个列表的方法。

# ruby - What is the current status of named arguments (named method parameters, keyword arguments) in Ruby?

> ID：12794745
> 
> 赞同：7
> 
> 时间：2012-10-09T07:18:11.340
> 
> 标签：ruby, methods, arguments, ruby-2.0

I have heard that named method arguments will be among the feature improvements in Ruby 2.0\. Can someone let me in on their current established syntax in Ruby 2.0?

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-09T07:21:32.647

更新：这是Peter Cooper 关于 Ruby 2.0 中的关键字参数的[6 分钟截屏视频。](http://www.youtube.com/watch?v=u8Q6Of_mScI)

旧：看看昨天[关于 Ruby 2.0 中的关键字参数的博客文章。](http://brainspec.com/blog/2012/10/08/keyword-arguments-ruby-2-0/)

# android - Android：空指针问题

> ID：12794750
> 
> 赞同：0
> 
> 时间：2012-10-09T07:18:24.717
> 
> 标签：android

我对 Nullpointer 的期望让我很难过。我在 FindViewByID 处收到空指针异常。这是我的一段代码

```
public class numberActivity extends Activity {

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.number);

}    

ImageView portrait = (ImageView) findViewById(R.id.numberImage);
public void numberClick(View v) {   
    switch(v.getId()){
            case R.drawable.numberone:
                portrait.setImageResource(R.drawable.numbertwo);
                break;

            case R.drawable.numbertwo:
                portrait.setImageResource(R.drawable.numberthree);
                break;

        }

} 
```

}

我的 number.xml 在这里

```
<ImageView
    android:id="@+id/numberImage"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/numberone" 
    android:onClick="numberClick" /> 
```

我认为非常简单的代码，但自昨晚以来，空指针异常让我感到沮丧。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:31:03.857

就像其他人指出的那样，`ImageView`在 onCreate 方法中获取。

您收到空指针异常的原因是您不能`initialize`在 java 中的任何函数之外创建对象。必须在函数中进行初始化，在这种情况下是 on `onCreate()`。`function`在or之外声明的任何非静态的东西`constructors`都不会被初始化。它就在那里。要开始使用它，请在函数中对其进行初始化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:21:36.110

问题是由这条线引起的。

```
 ImageView portrait = (ImageView) findViewById(R.id.numberImage); 
```

将“肖像”变量移动到类成员并在 setContentView() 之后在 onCreate() 中对其进行初始化，这将解决您的问题。

或像这样更改您的代码

```
public class numberActivity extends Activity {

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.number);

} 

  public void numberClick(View v) {   
     switch(v.getId()){
        case R.drawable.numberone:
            ((ImageView)v).setImageResource(R.drawable.numbertwo);
            break;

        case R.drawable.numbertwo:
            ((ImageView)v).setImageResource(R.drawable.numberthree);
            break;

    }

  }
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:21:58.277

试试这个

```
 public class numberActivity extends Activity {

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.number);

ImageView portrait = (ImageView) findViewById(R.id.numberImage);
}    

public void numberClick(View v) {   
    switch(v.getId()){
            case R.drawable.numberone:
                portrait.setImageResource(R.drawable.numbertwo);
                break;

            case R.drawable.numbertwo:
                portrait.setImageResource(R.drawable.numberthree);
                break;

        }

}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:22:18.000

把这个

```
 ImageView portrait = (ImageView) findViewById(R.id.numberImage); 
```

在 onCreate 方法中..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:23:32.037

```
ImageView portrait = (ImageView) findViewById(R.id.numberImage); 
```

此行必须在 onCreate 方法中。像这样

```
 public class numberActivity extends Activity {

    ImageView portrait;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.number);
//This element will be found once your contentview is set
        portrait = (ImageView) findViewById(R.id.numberImage);

    }    

    public void numberClick(View v) {   
        switch(v.getId()){
                case R.drawable.numberone:
                    portrait.setImageResource(R.drawable.numbertwo);
                    break;

                case R.drawable.numbertwo:
                    portrait.setImageResource(R.drawable.numberthree);
                    break;

            }

    } 
```

# sql - ORDER BY items must appear in the select list if SELECT DISTINCT is specified

> ID：12794751
> 
> 赞同：0
> 
> 时间：2012-10-09T07:18:33.060
> 
> 标签：sql, database, sql-order-by, distinct

I have sql query in which i want return rows with distinct value order by particular column. like say,i want disntict batchno from ordertable order by locationid.

i have tried google also but not able to find out solution

```
ORDER BY items must appear in the select list if SELECT DISTINCT is specified. 
```

that what i got every time i tried.

when not using distinct i got output but with duplicate rows using this query

```
Select Batchno,LocationId from Ordertbl order by case when[LocationId] =3 THEN 0 ELSE 1 END, [LocationId] 
```

if i use distinct it gives me error these are query i tried out.

```
Select distinct CAST(Batchno as Varchar(MAX)),LocationId from Ordertbl order by case when[LocationId] =3 THEN 0 ELSE 1 END,[LocationId] 
```

or

```
Select distinct CAST(Batchno as Varchar(MAX)),LocationId from Ordertbl order by case when[LocationId] =3 THEN 0 ELSE 1 END,[LocationId],[Batchno] 
```

so this is things i tried but no luck.please help me.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:21:10.487

`DISTINCT`不允许任何`ORDER BY`不在`SELECT`列表中的表达式（即使在这种情况下，表达式只能为每个不同的行产生一个特定值）。您可以使用。

```
SELECT Batchno,
       LocationId
FROM   Ordertbl
GROUP  BY Batchno,
          LocationId
ORDER  BY CASE
            WHEN[LocationId] = 3 THEN 0
            ELSE 1
          END,
          [LocationId] 
```

# jquery - Can we combine two html selector with jquery

> ID：12794755
> 
> 赞同：2
> 
> 时间：2012-10-09T07:18:50.433
> 
> 标签：jquery, html

I have two html button element like this.

```
<input type="button" class="button-a" value="Button a"/>  
<input type="button" class="button-b" value="Button b"/> 
```

So on clicking any of the button I want to trigger the same event. So I can do that by writing some jquery code like.

```
<script>
  $(document).ready(function() {
    //button-a click event
    $('.button-a').click(function(){
      alert("The event triggered");
    });

    //button-b click event
    $('.button-b').click(function(){
      alert("The event triggered");
    });
 });
</script> 
```

So can we combine both the `event()` together like OR condition with jQuery?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T07:20:29.013

试试这个代码：

```
<script>  
$(document).ready(function() { 
    $('.button-a, .button-b').click(function(){
          alert("The event triggered");
    });
});
</script> 
```

[http://jsfiddle.net/gNths/](http://jsfiddle.net/gNths/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:21:25.190

它们是选择器，因此与 css 相同，您只需要像在 css 中那样用逗号分隔，`$('.button-a,.button-b')`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:31:27.733

```
<script>  
    $(document).ready(function() { 
        $('.button-a, .button-b').click(function(){
              alert("The event triggered");
        });
    });
</script> 
```

这个脚本对我有用。感谢大家的时间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:21:14.637

尝试`$('[class^="button-"]').click( function() {...} );`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:21:32.570

是的。这应该这样做：

```
<script>  
$(document).ready(function() { 
    $('.button-a, .button-b').click(function() { 
        alert("The event triggered");    
    });
});
</script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T07:23:03.180

```
<script>
  $(document).ready(function() {
    //button-a click event
    $('.button-a').click(function(){
      ButtonClick("#button_a");
    });

    //button-b click event
    $('.button-b').click(function(){
      ButtonClick("#button_b");
    });
 });

function ButtonClick(id){
 //do something
}
</script> 
```

# php - exporting xls using csv

> ID：12794758
> 
> 赞同：0
> 
> 时间：2012-10-09T07:19:08.983
> 
> 标签：php, csv, xls

I need to export a .xls file based on a .csv file i am able to export the same but the file once opened in excel format does not show proper result.

This is what i have done :

```
$filename = 'file';
$list = array (
    array('aaa', 'bbb', 'ccc', 'dddd'), // this should be the heading
    array('123', '456', '789'),
    array('"aaa"', '"bbb"')
);

$fp = fopen('file.csv', 'w');

foreach ($list as $fields) {
    fputcsv($fp, $fields);
}

fclose($fp);
header("Pragma: public");
header("Content-Type: application/download");
header("Content-Disposition: attachment;filename=".$filename.".xls");
header("Content-Transfer-Encoding: binary ");
echo file_get_contents($filename.".csv"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:47:59.573

您可以使用库[PHPExcel](https://github.com/PHPOffice/PHPExcel)创建 Excel 。您可以在此处创建格式化的 XLS。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:46:13.757

[阅读它](http://blogs.coldbuffer.com/convert-xls-to-csv-via-php) 使用 PHP 从 MS Excel 文件中读取数据有时对大多数开发人员来说是一件痛苦的事。之所以如此，是因为过去 PHP 和 xls 文件存在一些兼容性问题。此外，使用 PHP 在逗号分隔值 (csv) 文件中读取和操作数据比 Microsoft 拥有的专有格式更容易。一个也是解决这个问题的完美方法是将 xls 转换为 csv 格式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:34:33.737

你为什么不做这样的事情：

```
<?php

$filename = 'file';

header('Content-type: application/msexcel');
header('Pragma: public');
header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
header("Content-Disposition: attachment;filename=".$filename.".xls");

$header = 'aaa'."\t".'bbb'."\t".'ccc'."\t".'dddd';
$data   = '123'."\t".'456'."\t".'789'."\n";

$data = $header."\n".$data;

$data = trim($data)."\n";
$data = str_replace("\r", "", $data);

echo $data."\n";

?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:38:08.450

我有java程序来做到这一点。查看代码并尝试一下。这对我有用。在此我们需要将 csv 文件作为输入，并基于 csv 文件生成 excel 文件。为此，我们需要一个 jar 文件 jxl.jar。

```
 package com.sample.java.testing;

 import java.io.BufferedReader;
 import java.io.File;
 import java.io.FileReader;
 import java.io.IOException;
 import java.util.Locale;
 import jxl.CellView;
 import jxl.Workbook;
 import jxl.WorkbookSettings;
 import jxl.format.UnderlineStyle;
 import jxl.write.Label;
 import jxl.write.Number;
 import jxl.write.WritableCellFormat;
 import jxl.write.WritableFont;
 import jxl.write.WritableSheet;
 import jxl.write.WritableWorkbook;
 import jxl.write.WriteException;
 import jxl.write.biff.RowsExceededException;

    public class CSVToExcelSample {

private WritableCellFormat timesBoldUnderline;
private WritableCellFormat times;
private String inputFile;

//=========================================================================

public void setOutputFile(String inputFile) {
    this.inputFile = inputFile;
}

//=========================================================================

public void write() throws IOException, WriteException {
    File file = new File(inputFile);
    WorkbookSettings wbSettings = new WorkbookSettings();
    wbSettings.setLocale(new Locale("en", "EN"));
    WritableWorkbook workbook = Workbook.createWorkbook(file, wbSettings);
    workbook.createSheet("Report", 0);
    workbook.createSheet("Report1", 1);
    WritableSheet excelSheet = workbook.getSheet(0);
    WritableSheet excelSheet1 = workbook.getSheet(1);
    createLabel(excelSheet);
    createContent(excelSheet);
    createLabel(excelSheet1);
    createContent(excelSheet1);
    workbook.write();
    workbook.close();
}

//=========================================================================

private void createLabel(WritableSheet sheet) throws WriteException {
    // Lets create a times font
    WritableFont times10pt = new WritableFont(WritableFont.TIMES, 10);
    // Define the cell format
    times = new WritableCellFormat(times10pt);
    // Lets automatically wrap the cells
    times.setWrap(true);
    // Create create a bold font with unterlines
    WritableFont times10ptBoldUnderline = new WritableFont(
            WritableFont.TIMES, 10, WritableFont.BOLD, false,
            UnderlineStyle.SINGLE);
    timesBoldUnderline = new WritableCellFormat(times10ptBoldUnderline);
    // Lets automatically wrap the cells
    timesBoldUnderline.setWrap(true);

    CellView cv = new CellView();
    cv.setFormat(times);
    cv.setFormat(timesBoldUnderline);
    cv.setAutosize(true);

    // Write a few headers
    addCaption(sheet, 0, 0, "Header 1");
    addCaption(sheet, 1, 0, "This is another header");

}

//=========================================================================

private void createContent(WritableSheet sheet) throws WriteException,
        RowsExceededException, IOException {
    // Write a few number
    /*
     * for (int i = 1; i < 10; i++) { // First column addNumber(sheet, 0, i,
     * i + 10); // Second column addNumber(sheet, 1, i, i * i); }
     * InputStream inputStream = new FileInputStream(file);
     * BufferedReader CSVFile = new BufferedReader(new InputStreamReader(inputStream, "UTF-8"));
     */
    File file = new File("C:/code/csv/depression_scale.csv");
    BufferedReader CSVFile = new BufferedReader(new FileReader(file));
    int i = 1;
    // int j = 0;
    // int k = 0;
    String dataRow = CSVFile.readLine(); // Read the first line of data.
    // The while checks to see if the data is null. If it is, we've hit
    // the end of the file. If not, process the data.
    while (dataRow != null) {
        String[] dataArray = dataRow.split(",");
        int j = 0;
        for (String item : dataArray) {
            System.out.print(item);
            addLabel(sheet, j, i, item);
            // i++;
            j++;
        }
        i++;
        // k++;
        System.out.println(); // Print the data line.
        dataRow = CSVFile.readLine(); // Read next line of data.
    }

    // Close the file once all data has been read.
    CSVFile.close();
    // Lets calculate the sum of it
    /*
     * StringBuffer buf = new StringBuffer(); buf.append("SUM(A2:A10)");
     * Formula f = new Formula(0, 10, buf.toString()); sheet.addCell(f); buf
     * = new StringBuffer(); buf.append("SUM(B2:B10)"); f = new Formula(1,
     * 10, buf.toString()); sheet.addCell(f);
     * 
     * // Now a bit of text for (int i = 12; i < 20; i++) { // First column
     * addLabel(sheet, 0, i, "Boring text " + i); // Second column
     * addLabel(sheet, 1, i, "Another text"); }
     */
}

//=========================================================================

private void addCaption(WritableSheet sheet, int column, int row, String s)
        throws RowsExceededException, WriteException {
    Label label;
    label = new Label(column, row, s, timesBoldUnderline);
    sheet.addCell(label);
}

//=========================================================================

@SuppressWarnings("unused")
private void addNumber(WritableSheet sheet, int column, int row,
        double integer) throws WriteException, RowsExceededException {
    Number number;
    number = new Number(column, row, integer, times);
    sheet.addCell(number);
}

//=========================================================================

private void addLabel(WritableSheet sheet, int column, int row, String s)
        throws WriteException, RowsExceededException {
    Label label;
    label = new Label(column, row, s, times);
    sheet.addCell(label);
}

//=========================================================================

public static void main(String[] args) throws WriteException, IOException {

    CSVToExcelSample test = new CSVToExcelSample();
    test.setOutputFile("filepathhere like C:/code/excel/lars.xls");
    test.write();
    System.out.println("Please check the result file under C:/code/excel/lars.xls ");
}

//========================================================================= 
```

}

# php - 尝试记住表单输入时未定义的索引

> ID：12794759
> 
> 赞同：0
> 
> 时间：2012-10-09T07:19:09.493
> 
> 标签：php, forms, post, input

我有一个表格，我想在提交失败后记住输入。

我无法弄清楚出了什么问题。

我正在使用这个：

```
<?php 

    session_start();
    $_SESSION['isb-vraag1'] = $_POST['isb-vraag1'];
    $_SESSION['isb-vraag3'] = $_POST['isb-vraag3'];

?>
<?php 
    if(isset($_POST['Submitform']) && $_SERVER['REQUEST_METHOD'] == "POST")
    {
        $strerror = "";
        if(empty($_POST['isb-vraag1']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br />";
        }
        if(empty($_POST['isb-vraag2']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag4']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag5']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag6']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag7']))
        {
            $strerror = $strerror."UU dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag8']))
        {
            $strerror = $strerror."UU dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag9']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag10']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag11']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag12']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag13']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag14']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag15']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag16']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag18']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(empty($_POST['isb-vraag19']))
        {
            $strerror = $strerror."U dient deze vraag in te vullen<br/>";
        }
        if(strip_tags($_POST['isb-vraag1']) != $_POST['isb-vraag1'] || strip_tags($_POST['isb-vraag3']) != $_POST['isb-vraag3'] || strip_tags($_POST['isb-vraag4']) != $_POST['isb-vraag4'] || strip_tags($_POST['isb-vraag5']) != $_POST['isb-vraag5'] || strip_tags($_POST['isb-vraag6']) != $_POST['isb-vraag6'] || strip_tags($_POST['isb-vraag7']) != $_POST['isb-vraag7'] || strip_tags($_POST['isb-vraag8']) != $_POST['isb-vraag8'] || strip_tags($_POST['isb-vraag9']) != $_POST['isb-vraag9'] || strip_tags($_POST['isb-vraag10']) != $_POST['isb-vraag10'] || strip_tags($_POST['isb-vraag11']) != $_POST['isb-vraag11'] || strip_tags($_POST['isb-vraag12']) != $_POST['isb-vraag12'] || strip_tags($_POST['isb-vraag13']) != $_POST['isb-vraag13'] || strip_tags($_POST['isb-vraag14']) != $_POST['isb-vraag14'] || strip_tags($_POST['isb-vraag15']) != $_POST['isb-vraag15'] || strip_tags($_POST['isb-vraag16']) != $_POST['isb-vraag16'] || strip_tags($_POST['isb-vraag17']) != $_POST['isb-vraag17'] || strip_tags($_POST['isb-vraag18']) != $_POST['isb-vraag18'] || strip_tags($_POST['isb-vraag19']) != $_POST['isb-vraag19'] || strip_tags($_POST['isb-vraag20']) != $_POST['isb-vraag20'] || strip_tags($_POST['fm-lastname']) != $_POST['fm-lastname'] || strip_tags($_POST['fm-email']) != $_POST['fm-email'])
        {
            $$strerror = $strerror."Script is niet toegestaan<br/>";
        }
        if(empty($strerror))
        {
            $to = "test@company.nl";
            $subject = "Enquete Comany B.V.";
            $header = "MIME-Version: 1.0\r\n";
            $header .= "Content-type: text/html; charset=iso-8859-1\r\n";
            $header .= "From: ".$_POST['fm-email']."\r\n";
            $header .= "Reply-To: ".$_POST['fm-email'];
            $bericht = '
<html>
    <head>
    </head>
    <body style="font-family: Arial;">
        <div class="fm-req">
                <b><label for="fm-lastname">De volgende enquete is ingevuld door:</label></b><br/>
                <br/>
                '.$_POST['fm-lastname'].'
            </div>
        <br/>
            <div class="fm-req">
                <b><label for="isb-vraag20">Afzender / Bedrijf:</label></b><br/>
                <br/>
                '.$_POST['isb-vraag20'].'
            </div><br/>
        <fieldset>
        <b><legend>De Antwoorden:</legend></b>
        <br/>
        <br/>
            <b><legend>Vraag 1:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag1">Waarom heeft u gekozen voor Company als leverancier?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag1'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 2:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag2">Koopt u ook bij andere leveranciers in de markt?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag2'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 3:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag3">Zo ja? Wat zijn de redenen en wat kunnen wij doen om u beter van dienst te zijn?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag3'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 4:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag4">Wat vindt u van onze telefonische bereikbaarheid?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag4'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 5:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag5">Wat is uw algemene indruk van onze verkoopafdeling?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag5'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 6:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag6">Wat is uw mening over de klantgerichtheid van onze verkoopafdeling?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag6'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 7:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag7">Wat vindt u van onze voorraad A-merken?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag7'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 8:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag8">Wat vindt u van onze voorraad B-merken?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag8'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 9:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag9">Wat vindt u van onze administratieve afhandeling / creditnota afhandeling?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag9'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 10:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag10">Wat vindt u van onze E-commerce website?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag10'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 11:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag11">Wat vindt u van onze bonusshop?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag11'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 12:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag12">Wat vindt u van onze bezoekfrequentie buitendienst medewerkers?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag12'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 13:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag13">Wat vindt u van de kwaliteit van deze bezoeken?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag13'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 14:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag14">Wat vindt u van de productondersteuning?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag14'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 15:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag15">Wat vindt u van onze uitleverprestatie / kwaliteit?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag15'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 16:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag16">Wat vindt u van de Company leveringen</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag16'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 17:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag17">Wat vindt u van de leveringen via Plaats? ( indien van toepassing )</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag17'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 18:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag18">Wat is uw algemene indruk / mening over ons bedrijf?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag18'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 19:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag19">Wat zou u graag veranderd willen zien, in onze organisatie?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag19'].'</font>
            </div>
            <br/>
            </fieldset>
            <fieldset>
            <div class="fm-req">
                <b><label for="isb-vraag20">Afzender / Bedrijf:</label></b><br/>
                <br/>
                '.$_POST['isb-vraag20'].'
            </div>
            <br/>
            <div class="fm-req">
                <b><label for="fm-lastname">Ingevuld door:</label></b><br/>
                <br/>
                '.$_POST['fm-lastname'].'
            </div>
        <br/>
            <div class="fm-req">
                <b><label for="fm-email">E-mail</label></b><br/><br/>
                '.$_POST['fm-email'].'
            </div>
        </fieldset>
    </body>
</html>';
            if(mail($to, $subject, $bericht, $header))
            {
                $to2 = $_POST['fm-email'];
                $subject2 = "Enquete succesvol ingevuld";
                $header2 = "MIME-Version: 1.0\r\n";
                $header2 .= "Content-type: text/html; charset=iso-8859-1\r\n";
                $header2 .= "From: test@company.nl\r\n";
                $header2 .= "Reply-To: test@company.nl";
                $bericht2 = '
<html>
    <head>
    </head>
    <body style="font-family: Arial;">
        Hartelijk dank voor het invullen van deze enquete<br/>
        <br/>
        <br/>
        Met vriendelijke groet,<br/>
        <br/> 
        <font style="font-weight: Bold">Company B.V.</font><br/>
        <br/>
        <br/>
        Antwoorden:<br/>
        <br/>
        <fieldset>
        <b><legend>De Antwoorden:</legend></b>
        <br/>
        <br/>
            <b><legend>Vraag 1:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag1">Waarom heeft u gekozen voor Company als leverancier?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag1'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 2:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag2">Koopt u ook bij andere leveranciers in de markt?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag2'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 3:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag3">Zo ja? Wat zijn de redenen en wat kunnen wij doen om u beter van dienst te zijn?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag3'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 4:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag4">Wat vindt u van onze telefonische bereikbaarheid?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag4'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 5:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag5">Wat is uw algemene indruk van onze verkoopafdeling?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag5'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 6:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag6">Wat is uw mening over de klantgerichtheid van onze verkoopafdeling?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag6'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 7:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag7">Wat vindt u van onze voorraad A-merken?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag7'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 8:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag8">Wat vindt u van onze voorraad B-merken?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag8'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 9:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag9">Wat vindt u van onze administratieve afhandeling / creditnota afhandeling?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag9'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 10:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag10">Wat vindt u van onze E-commerce website?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag10'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 11:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag11">Wat vindt u van onze bonusshop?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag11'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 12:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag12">Wat vindt u van onze bezoekfrequentie buitendienst medewerkers?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag12'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 13:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag13">Wat vindt u van de kwaliteit van deze bezoeken?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag13'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 14:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag14">Wat vindt u van de productondersteuning?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag14'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 15:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag15">Wat vindt u van onze uitleverprestatie / kwaliteit?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag15'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 16:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag16">Wat vindt u van de company leveringen</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag16'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 17:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag17">Wat vindt u van de leveringen via Plaats? ( indien van toepassing )</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag17'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 18:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag18">Wat is uw algemene indruk / mening over ons bedrijf?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag18'].'</font>
            </div>
            <br/>
                        <b><legend>Vraag 19:</legend></b>
            <br/>
            <div class="fm-req">
                <label for="isb-vraag19">Wat zou u graag veranderd willen zien, in onze organisatie?</label>
                <br/>
                <br/>
                <font color="red">'.$_POST['isb-vraag19'].'</font>
            </div>
            <br/>
            </fieldset>
            <fieldset>
            <div class="fm-req">
                <b><label for="isb-vraag20">Afzender / Bedrijf:</label></b><br/>
                <br/>
                '.$_POST['isb-vraag20'].'
            </div>
            <br/>
            <div class="fm-req">
                <b><label for="fm-lastname">Ingevuld door:</label></b><br/>
                <br/>
                '.$_POST['fm-lastname'].'
            </div>
        <br/>
            <div class="fm-req">
                <b><label for="fm-email">E-mail</label></b><br/><br/>
                '.$_POST['fm-email'].'
            </div>
        </fieldset>
    </body>
</html>';
                if(mail($subject2, $bericht2, $header2))
                {
                echo "\t\t\t\t\t<blockquote class=\"goed\">Hartelijk dank voor het invullen van de enquete.<br/></blockquote>\n";
                }
            }
            else
            {
                echo "\t\t\t\t\t<blockquote>Uw enquete is niet correct verzonden, probeer het later opnieuw</blockquote>\n";
            }
        }
        else
        {
            echo "\t\t\t\t\t<blockquote>" . $strerror . "</blockquote>\n";
            GetForm();
        }
    }
    else
    {
        GetForm();
    }

    function GetForm()
    {
?>  
                    <form name="aanvraag" method="post" action="index.php?action=checkform">
                    <fieldset>
                    <div>
                    <img width="300" height="108" alt="Company B.V." src="logogroot.png" style="float:right;">
                    <p>Geachte relatie, <br/><br/>
                    Company streeft er naar om de service aan haar klanten continu te verbeteren. <br/><br/>
                    Uw mening, als gewaardeerde klant, vinden wij hierin heel belangrijk. <br/>
                    Wat verwacht u van uw bandenleverancier, bent u tevreden of heeft u opbouwende kritiek. Wij vernemen het graag van u. <br/><br/>
                    Wij willen u dan ook vriendelijk verzoeken onderstaande vragen te beantwoorden en het ingevulde formulier 

                    </div>
                    </fieldset><br/>
                        <fieldset>
                            <legend>Enquete Company B.V.</legend>
                            <div>
                                <label for="isb-vraag1">Waarom heeft u gekozen voor Company als leverancier?</label><br/>
                                <textarea name="isb-vraag1" value="<?php echo $_SESSION['isb-vraag1'];?>" cols="60" rows="7" id="isb-vraag1"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag1']) == $_POST['isb-vraag1']){ echo $_POST['isb-vraag1']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag2">Koopt u ook bij andere leveranciers in de markt?</label>
                                <br/><br/>
                                <input id="isb-vraag2" name="isb-vraag2" type="radio" value="Ja" <?php if(isset($_POST['Submitformk']) && $_POST['isb-vraag2'] == "Ja"){ echo "checked=\"checked\" "; } ?>style="width: 20px;"/> Ja
                                <input name="isb-vraag2" type="radio" value="Nee" <?php if(isset($_POST['Submitformk']) && $_POST['isb-vraag2'] == "Nee"){ echo "checked=\"checked\" "; } ?>style="width: 20px;" /> Nee
                            <br/>
                                <label>&nbsp;</label>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag3">Zo ja? Wat zijn de redenen en wat kunnen wij doen om u beter van dienst te zijn?</label><br/><br/>
                                <textarea name="isb-vraag3" value="<?php echo $_SESSION['isb-vraag3'];?>" cols="60" rows="7" id="isb-vraag3"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag3']) == $_POST['isb-vraag3']){ echo $_POST['isb-vraag3']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag4">Wat vindt u van onze telefonische bereikbaarheid?</label><br/><br/>
                                <textarea name="isb-vraag4" cols="60" rows="7" id="isb-vraag4"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag4']) == $_POST['isb-vraag4']){ echo $_POST['isb-vraag4']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag5">Wat is uw algemene indruk van onze verkoopafdeling?</label><br/><br/>
                                <textarea name="isb-vraag5" cols="60" rows="7" id="isb-vraag5"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag5']) == $_POST['isb-vraag5']){ echo $_POST['isb-vraag5']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag6">Wat is uw mening over de klantgerichtheid van onze verkoopafdeling?</label><br/><br/>
                                <textarea name="isb-vraag6" cols="60" rows="7" id="isb-vraag6"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag6']) == $_POST['isb-vraag6']){ echo $_POST['isb-vraag6']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag7">Wat vindt u van onze voorraad A-merken?</label><br/><br/>
                                <textarea name="isb-vraag7" cols="60" rows="7" id="isb-vraag7"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag7']) == $_POST['isb-vraag7']){ echo $_POST['isb-vraag7']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag8">Wat vindt u van onze voorraad B-merken?</label><br/><br/>
                                <textarea name="isb-vraag8" cols="60" rows="7" id="isb-vraag8"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag8']) == $_POST['isb-vraag8']){ echo $_POST['isb-vraag8']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag9">Wat vindt u van onze administratieve afhandeling / creditnota afhandeling?</label><br/><br/>
                                <textarea name="isb-vraag9" cols="60" rows="7" id="isb-vraag9"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag9']) == $_POST['isb-vraag9']){ echo $_POST['isb-vraag9']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag10">Wat vindt u van onze E-commerce website?</label><br/><br/>
                                <textarea name="isb-vraag10" cols="60" rows="7" id="isb-vraag10"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag10']) == $_POST['isb-vraag10']){ echo $_POST['isb-vraag10']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag11">Wat vindt u van onze bonusshop?</label><br/><br/>
                                <textarea name="isb-vraag11" cols="60" rows="7" id="isb-vraag11"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag11']) == $_POST['isb-vraag11']){ echo $_POST['isb-vraag11']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag12">Wat vindt u van onze bezoekfrequentie buitendienst medewerkers?</label><br/><br/>
                                <textarea name="isb-vraag12" cols="60" rows="7" id="isb-vraag12"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag12']) == $_POST['isb-vraag12']){ echo $_POST['isb-vraag12']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag13">Wat vindt u van de kwaliteit van deze bezoeken?</label><br/><br/>
                                <textarea name="isb-vraag13" cols="60" rows="7" id="isb-vraag13"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag13']) == $_POST['isb-vraag13']){ echo $_POST['isb-vraag13']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag14">Wat vindt u van de productondersteuning?(Zoals folders etc)</label><br/><br/>
                                <textarea name="isb-vraag14" cols="60" rows="7" id="isb-vraag14"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag14']) == $_POST['isb-vraag14']){ echo $_POST['isb-vraag14']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag15">Wat vindt u van onze uitleverprestatie / kwaliteit?</label><br/><br/>
                                <textarea name="isb-vraag15" cols="60" rows="7" id="isb-vraag15"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag15']) == $_POST['isb-vraag15']){ echo $_POST['isb-vraag15']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag16">Wat vindt u van de "Company" leveringen?</label><br/><br/>
                                <textarea name="isb-vraag16" cols="60" rows="7" id="isb-vraag16"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag16']) == $_POST['isb-vraag16']){ echo $_POST['isb-vraag16']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag17">Wat vindt u van de leveringen via Plaats? (indien van toepassing)</label><br/><br/>
                                <textarea name="isb-vraag17" cols="60" rows="7" id="isb-vraag17"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag17']) == $_POST['isb-vraag17']){ echo $_POST['isb-vraag17']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag18">Wat is uw algemene indruk / mening over ons bedrijf?</label><br/><br/>
                                <textarea name="isb-vraag18" cols="60" rows="7" id="isb-vraag18"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag18']) == $_POST['isb-vraag18']){ echo $_POST['isb-vraag18']; } ?></textarea>
                            </div><br/>
                                                        <div>
                                <label for="isb-vraag19">Wat zou u graag veranderd willen zien, in onze organisatie?</label><br/><br/>
                                <textarea name="isb-vraag19" cols="60" rows="7" id="isb-vraag19"><?php if(isset($_POST['Submitformk']) && strip_tags($_POST['isb-vraag19']) == $_POST['isb-vraag19']){ echo $_POST['isb-vraag19']; } ?></textarea>
                            </div><br/>
                        </fieldset>
                        <fieldset>
                        <div>
                        <p>U bent niet verplicht onderstaande bedrijfsgegevens in te vullen. Anoniem deelnemen mag ook. <br/><br/>
                        Wij stellen uw eerlijke antwoorden zeer op prijs en willen u vriendelijk danken voor uw tijd. <br/><br/>
                        Met vriendelijke groet, <br/>
                        Company B.V. <br/><br/><br/>
                        Door u als klant in te vullen.

                        </div><br/>
                            <div>
                                <label for="isb-vraag20">Afzender / Bedrijf:</label><br/><br/>
                                <input name="isb-vraag20" id="isb-vraag19" type="text" value="<?php if(isset($_POST['Submitform']) && strip_tags($_POST['isb-vraag20']) == $_POST['isb-vraag20']){ echo $_POST['isb-vraag20']; } ?>" />
                            </div><br/>
                            <div>
                                <label for="fm-lastname">Ingevuld door:</label><br/><br/>
                                <input name="fm-lastname" id="fm-lastname" type="text" value="<?php if(isset($_POST['Submitform']) && strip_tags($_POST['fm-lastname']) == $_POST['fm-lastname']){ echo $_POST['fm-lastname']; } ?>" />
                            </div><br/>
                            <div>
                                <label for="fm-email">E-mail:</label><br/><br/>
                                <input name="fm-email" id="fm-email" type="text" value="<?php if(isset($_POST['Submitformk']) && strip_tags($_POST['fm-email']) == $_POST['fm-email']){ echo $_POST['fm-email']; } ?>" />
                            </div>
                        </fieldset>
                        <div id="fm-submit">
                            <input name="Submitform" value="Verstuur" type="submit" />
                        </div>
                    </form> 
<?php
    }
?> 
```

并在不提交的情况下收到此错误：

注意：`Undefined index: isb-vraag1 in /company.nl/enquete/index.php on line 4`

有人可以帮帮我吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T07:24:36.520

您的错误意味着它所说的。:-)

```
$_SESSION['isb-vraag1'] = $_POST['isb-vraag1']; 
```

这只是 mneans $_POST['isb-vraag1'] 没有设置。这通常发生在您第一次使用脚本时。

试试这个：

```
if (isset($_POST['isb-vraag1'])){
 $_SESSION['isb-vraag1'] = $_POST['isb-vraag1'];
} else {
  // do whatever you deem usefull. eg:
   $_SESSION['isb-vraag1'] = "";
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T07:23:50.297

您正在尝试将`$_POST`变量分配给`$_SESSION`变量而不检查它们是否已设置。

采用[`isset()`](http://php.net/manual/en/function.isset.php)

```
if (isset($_POST['isb_vraag1'])) {
  $_SESSION['isb-vraag1'] = $_POST['isb-vraag1'];
} 
```

# c# - UPnP Multicast: missing answers from M-SEARCH (Discovery)

> ID：12794761
> 
> 赞同：15
> 
> 时间：2012-10-09T07:19:17.460
> 
> 标签：c#, windows, upnp, ssdp

I created a small program to test UPnP Multicast (Visual C# 2010 Express, running on Windows 7 Professional 64 Bit). I can receive the UPnP NOTIFY Messages from UPnP Devices in my Network. But when i send the M-SEARCH Message, i get no Answers.

I have tested the same code on a iOS environment (Monotouch for iOS, running on a iPhone simulator on a Mac). There it runs fine and i get all the search responses from my UPnP devices. I can also see the M-SEARCH message from my windows program.

It looks like Windows (or a Firewall?) is hiding the search responses. Any idea?

Here is the code:

```
IPEndPoint LocalEndPoint = new IPEndPoint(IPAddress.Any, 1900);
IPEndPoint MulticastEndPoint = new IPEndPoint(IPAddress.Parse("239.255.255.250"), 1900);

Socket UdpSocket = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp);

UdpSocket.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
UdpSocket.Bind(LocalEndPoint);
UdpSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.AddMembership, new MulticastOption(MulticastEndPoint.Address, IPAddress.Any));
UdpSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.MulticastTimeToLive, 2);
UdpSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.MulticastLoopback, true);

Console.WriteLine("UDP-Socket setup done...\r\n");

string SearchString = "M-SEARCH * HTTP/1.1\r\nHOST:239.255.255.250:1900\r\nMAN:\"ssdp:discover\"\r\nST:ssdp:all\r\nMX:3\r\n\r\n";

UdpSocket.SendTo(Encoding.UTF8.GetBytes(SearchString), SocketFlags.None, MulticastEndPoint);

Console.WriteLine("M-Search sent...\r\n");

byte[] ReceiveBuffer = new byte[64000];

int ReceivedBytes = 0;

while (true)
{
    if (UdpSocket.Available > 0)
    {
        ReceivedBytes = UdpSocket.Receive(ReceiveBuffer, SocketFlags.None);

        if (ReceivedBytes > 0)
        {
            Console.WriteLine(Encoding.UTF8.GetString(ReceiveBuffer, 0, ReceivedBytes));
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-10T08:46:54.900

是的，我解决了这个问题！小错误，大影响：

我的程序在绑定到 UPnP 多播组的端口 1900 上发送 M-SEARCH。因为我将 LocalEndPoint 绑定到同一个端口，UPnP 设备以单播方式响应端口 1900。在 iOS 上它可以工作，因为我的程序是唯一绑定到该端口的服务。但是在 PC 上，我发现了几个绑定到端口 1900 的服务（使用“netstat -p UDP -a”找到）。因此，来自 UPnP 设备的单播消息被其他服务之一吸收。

解决方案：我将 LocalEndPoint 绑定到一个空闲端口（例如 60000），现在它可以正常工作了！

```
IPEndPoint LocalEndPoint = new IPEndPoint(IPAddress.Any, 60000); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-04-02T20:26:49.477

在创建本地端点时，使用端口 0（零）绑定不使用固定端口的空闲端口。又发现了一点。绑定 IPAddress.Any 或 IPAddress.Loopback 从 Microsoft（本地？）系统获取响应，其中绑定到 LAN 地址之一从本地网络获取响应。获取第一个 IPV4 地址可以这样完成：

```
IPAddress localNetwork = Dns.GetHostAddresses(Environment.GetEnvironmentVariable("COMPUTERNAME")).Where(ia => (ia.AddressFamily == AddressFamily.InterNetwork)).First(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-02T22:37:02.420

对于后代：设置上述所有这些选项对于 M-SEARCH 来说是不必要的，甚至可能适得其反：

```
UdpSocket.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
UdpSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.AddMembership, new MulticastOption(MulticastEndPoint.Address, IPAddress.Any));
UdpSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.MulticastTimeToLive, 2);
UdpSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.MulticastLoopback, true); 
```

所以不要这样做。

# sql - sql join int varchar

> ID：12794767
> 
> 赞同：4
> 
> 时间：2012-10-09T07:19:38.283
> 
> 标签：sql, int, inner-join, varchar

I've been searching the questions but haven´t found an answer. I would like to do an inner join with Table 1 and Table 2 , but one field is INT and other is VARCHAR (with the structure "A-INT"). Something like:

```
 Table1                    Table2

    ID NAME   WHATEVER        ID USER
    1  A-001  ---             1  001 
    2  A-002  ---             2  002
    3  A-003  ---             3  003
    3  A-004  ---             4  004  
    ... 
```

How can I construct the query? Something like:

```
... Table1 INNER JOIN Table2 ON Table1.NAME = Table2.[A-USER] ... 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-09T07:25:45.877

您需要将`int`值转换为`varchar`并将其与 连接`'A-'`，或者获取值的数字部分`varchar`并转换为`int`。

根据您使用的数据库，这会有所不同，对于 SQL Server，它看起来像这样：

```
select t1.ID, t1.WHATEVER, t2.USER
from Table1 t1
inner join Table2 t2 on t2.ID = cast(substring(t1.NAME, 3, 3) as int) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:23:15.987

通过串联尝试，

```
SELECT *
FROM Table1 a, Table2 b
WHERE a.Name = 'A-' + b.User 
```

但请注意，这会降低性能。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-10-09T07:26:06.390

您想在 Table1.NAME = Table2.[A-USER] 上进行内部联接。

如果 Table1.NAME、Table2.[A-USER] 列数据类型不同，则不能使用内连接。

# tfs - TFS Build keeps 'in progress' state without finishing build with error or success [TFS 2012]

> ID：12794768
> 
> 赞同：6
> 
> 时间：2012-10-09T07:19:40.963
> 
> 标签：tfs

I created a new build definition.

Then "Queue new build ..."

Build state changes its value to 'In progress'

And... that's all !

No errors, no result

Here is the activity log

**user1 triggered SimpleWeb(Test_BuildDeploy) for latest sources Running for 0 seconds (vm-tfs-Controller)**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:58:27.273

尝试将日志记录详细程度提高到诊断 - 按要求截屏 ![尝试将日志记录详细程度提高到诊断](../Images/b22220a4f693ee334c91bbbadf53d80b.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T10:50:33.277

如果您仍然没有解决方案，请在此处查看[此答案。](https://stackoverflow.com/questions/15387652/build-never-starts-on-tfs2012/15387988#15387988)这是同一个，我也遇到过同样的问题。

# wpf - 如何在 WPF C# 中的关闭按钮上淡出窗口窗体

> ID：12794773
> 
> 赞同：2
> 
> 时间：2012-10-09T07:20:11.293
> 
> 标签：wpf, wpf-controls, storyboard, fadeout

```
int FadeOut;
        for (FadeOut = 90; FadeOut >= 10; FadeOut += -10)
        {
            this.Opacity = FadeOut / 100;
            this.refresh();
            System.Threading.Thread.Sleep(50);
        } 
```

我做了类似的事情但没有工作 // this.refresh(); 不管用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:53:51.487

[这里讨论](https://stackoverflow.com/questions/5958508/fading-out-a-window)了同样的问题。

您也可以使用触发器：事件触发器或数据触发器来启动动画，以及动画的 Completed 事件来设置动画结束时的回调。这是数据触发器（您的数据上下文中应该有 FadeOut 属性）

```
<Window.Resources>
    <Storyboard x:Key="FadeOut">
        <DoubleAnimation From="0" To="1" Storyboard.TargetProperty="(UIElement.Opacity)" Duration="0:0:1.5"/>
    </Storyboard>
</Window.Resources>
<Window.Style>
    <Style>
        <Style.Triggers>
            <DataTrigger Binding="{Binding Path=FadeOut}" Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard Storyboard="{StaticResource FadeOut}"/>
                </DataTrigger.EnterActions>
            </DataTrigger>
        </Style.Triggers>
    </Style>
</Window.Style> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:50:17.433

我做了这样的事情，你可以继续努力。
不幸的是，您必须实现自己的 Window 标题栏：

```
<Window x:Class="WpfApplication2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525"
        Name="myWindow"  WindowStyle="None" AllowsTransparency="True"
        >
    <Window.Resources>
    </Window.Resources>
        <Grid>
        <Button Margin="337,0,0,155">
            <Button.Triggers>
                <EventTrigger  RoutedEvent="Button.Click">
                    <BeginStoryboard >
                        <Storyboard Duration="0:0:5">
                            <DoubleAnimation Storyboard.TargetName="myWindow" Storyboard.TargetProperty="Opacity" From="1" To="0"></DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Button.Triggers>
        </Button>

    </Grid>
</Window> 
```

# graphics - 鼠标滚轮滚动时缩放到光标的数学

> ID：12794779
> 
> 赞同：0
> 
> 时间：2012-10-09T07:20:44.443
> 
> 标签：graphics, zooming, directx-9, scrollwheel

必须实现一个**Directx9**项目，该项目涉及 使用鼠标滚轮 像**Google 地图一样****向光标缩放**[（类似于](http://phrogz.net/tmp/canvas_zoom_to_cursor.html)[Phrogz](https://stackoverflow.com/users/405017/phrogz)的这个实现）。

 **需要数学和相同所需的变量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-27T19:41:17.870

使用以下步骤解决了这个问题

*   决定每次滚动移动，称为 Z-SHIFT，在 Z 方向上朝向目标点，这样相机应该以固定滚动（SCROLL_COUNT）行进到目标

*   计算沿 X 和 Y 方向行驶的距离，例如 DIST_X 和 DIST_Y

*   X 方向和 Y 方向每个滚动的移动量将计算为

    *   X-SHIFT = DIST_X/SCROLL_COUNT

    *   Y-SHIFT = DIST_Y/SCROLL_COUNT

    *   Z-SHIFT = 预先确定的合适值

我们有数学方程来指导每次滚动的相机坐标，当放置在代码中时，它会提供所需的缩放到光标效果。**

# php - 可以搜索 SQL 数据库的 HTML 下拉表单的“任何”选项？

> ID：12794786
> 
> 赞同：0
> 
> 时间：2012-10-09T07:20:58.130
> 
> 标签：php, sql

我正在创建一个搜索表单，该表单使用多个表单从包含肉类包装信息的数据库中获取匹配结果。我最终希望用户能够使用表单来搜索包裹的宽度、长度、类型、形状和描述。仅显示匹配结果。

目前我有 3 个下拉框，所有的工作都可以找到匹配的结果。不幸的是，它们似乎完全覆盖了其他表单术语（另一个问题），但我想添加一个“任何”功能，这样用户就可以搜索任何内容，而不必每次都对所有下拉框进行特定搜索，从而限制结果的数量那将会出现。

HTML 代码：

```
 <body>

    <form action="form3.php" method="post"> 
    <label for ="toolcode">Toolcode: </label> 
    <input type="text" name="term" /><br />
    <label for ="delyncode">Delyn code: </label>
    <input type="text" name="term" /><br />
    <label for ="description">Description: </label>
    <input type="text" name="term" /><br />
    <label for ="traysize">Traysize: </label>
    <input type="text" name="term" /> <br />
    <label for ="trayheight">Trayheight: </label>
    <input type="text" name="term" /> <br /> 
    <label for ="traywidth">Traywidth: </label>
    <input type="text" name="term" /> <br />
    <label for ="traydepth">Traydepth: </label>
    <input type="text" name="term" /> <br />

         <label for="trayrange">Trayrange: </label>
                <select name="trayrange">
                    <option value="Other">--Any--</option>
                    <option value="BBQ">BBQ</option>
                    <option value="Dessert">Dessert</option>
                    <option value="Display">Display</option>
                    <option value="Meat">Meat</option>   
                    <option value="Microwave">Microwave</option>
                    <option value="Party">Party</option>
                    <option value="Salad/Wet Pasta">Salad/Wet Pasta</option>
                    <option value="Snacks">Snacks</option>
                    <option value="Standard">Standard</option>
                </select>

        <label for ="traytype">Traytype: </label> 
                <select name="traytype">
                    <option value="Other">--Any--</option>
                    <option value="Open">Open</option>
                    <option value="Cavitised">Cavitised</option>
                    <option value="Lid">Lid</option>
                    <option value="Tray">Tray</option>
                    <option value="Coallition">Coallition</option>
                    <option value="Bowl">Bowl</option>
                    <option value="Hinge pack">Open</option>
                    <option value="Pot">Pot</option>
                    <option value="Base & Lid">Base and Lid</option>
                    <option value="Rectangular">Rectangular</option>
                    <option value="Specalist">Specialist</option>
                </select><br />

        <label for="trayshape">Trayshape: </label>
                <select name="trayshape">
                    <option value="Other">--Any--</option>
                    <option value="Rectangular">Rectangular</option>
                    <option value="Oval">Oval</option>
                    <option value="Square">Square</option>
                    <option value="Insert">Insert</option>
                    <option value="Round">Round</option>
                    <option value="Open">Open</option>
                </select><br />
        <input type="submit" value="Submit" /> 
    </form> 

      </body> 
```

我上面的当前“任何”选项只是一个测试。它不起作用，没有结果显示。

PHP代码：

```
 <body>

        <?php
            $con = mysql_connect ("localhost", "root", "");
                   mysql_select_db ("delyn_db", $con);

            if (!$con)
                { 
                    die ("Could not connect: " . mysql_error());
                }

            $varRange = $_POST['trayrange'];
            $varType = $_POST['traytype'];
            $varShape = $_POST['trayshape'];
            $term = mysql_real_escape_string($_POST['term']);    

    $sql = "SELECT * FROM delyn WHERE toolcode LIKE '%".$term."%' AND delyncode LIKE
                   '%".$term."%' AND description LIKE '%".$term."%' AND traysize LIKE
                   '%".$term."%' AND trayheight LIKE '%".$term."%' AND traywidth LIKE
                   '%".$term."%' AND traydepth LIKE '%".$term."%' AND trayrange LIKE
                   '%".$varRange."%' AND traytype LIKE '%".$varType."%' AND trayshape LIKE
                   '%".$varShape."%' ";

            $r_query = mysql_query($sql);

        while ($row = mysql_fetch_array($r_query))
                    { 
               echo '<br /> Delyn code:  ' .$row['delyncode']; 
           echo '<br /> Tool Code:   '.$row['toolcode'];
           echo '<br /> Description: '.$row['description']; 
           echo '<br /> Tray range   '.$row['trayrange']; 
           echo '<br /> Tray type:   '.$row['traytype'];
           echo '<br /> Tray size:   '.$row['traysize']; 
           echo '<br /> Tray height: '.$row['trayheight']; 
           echo '<br /> Tray width:  '.$row['traywidth']; 
           echo '<br /> Tray depth:  '.$row['traydepth'];
           echo '<br /> Tray shape:  '.$row['trayshape'] . '<br />' . '<br />'; ;  
                    }

        ?>
            </body> 
```

我需要添加什么以允许用户搜索允许任何“托盘范围”、“托盘形状”和“托盘类型”。这在理论上应该显示与输入了信息的表单相匹配的结果。

提前感谢任何可以提供帮助的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:36:01.420

对不同的文本字段使用不同的名称，否则它们将被覆盖，即最后一个文本在服务器端得到首选，您将仅获得托盘宽度，因为它是最后一个名称为 term

# php - 使用 timthumb 保存图像

> ID：12794796
> 
> 赞同：1
> 
> 时间：2012-10-09T07:21:18.817
> 
> 标签：php, timthumb

我正在使用 timthumb 生成缩略图。我希望将缩略图保存在指定的文件夹中，而不是将它们保存在缓存文件夹中，因为我想将缩略图图像保存到数据库中。不需要进行缓存。如何使用 timthumb 或我更喜欢这使用其他一些 PHP 缩略图库。哪个库适合这个目的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T22:37:57.860

我使用[WideImage](http://wideimage.sourceforge.net)取得了很大的成功。

这是我为您正在寻找的东西找到的最好的一个。

# android - 我如何在android中通过蓝牙发送文件？

> ID：12794800
> 
> 赞同：1
> 
> 时间：2012-10-09T07:21:27.793
> 
> 标签：android

我已经搜索了很多，但我没有找到任何解决方案，但我在这个例子的某个地方：

```
ContentValues values = new ContentValues(); 
values.put(BluetoothShare.URI, "content://" + uritoSend);
values.put(BluetoothShare.DESTINATION, deviceAddress);
values.put(BluetoothShare.DIRECTION, BluetoothShare.DIRECTION_OUTBOUND);    
Long ts = System.currentTimeMillis();  
values.put(BluetoothShare.TIMESTAMP, ts); 
```

但是这个例子给出了错误不受支持的内容。请给我正确的答案。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T04:35:13.217

```
Intent intent = new Intent();  
intent.setAction(Intent.ACTION_SEND);  
intent.setType("image/*");

String uri = "/mnt/sdcard/test.jpg";
intent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(new File(uri)));
startActivity(intent); 
```

# linux - 阻止访问者访问 .xml 文件，但允许 flash 打开它们

> ID：12794809
> 
> 赞同：0
> 
> 时间：2012-10-09T07:21:50.540
> 
> 标签：linux, flash, apache, .htaccess, file-permissions

我想拒绝访问者访问[http://example.com/xml_folder/xml_file1.xml](http://example.com/xml_folder/xml_file1.xml)和 xml_folder 中的任何其他 .xml 文件的权限。我可以轻松地修改文件夹权限。问题是我的网站上还有一个小闪存需要访问这些 .xml 文件，一旦我从“公共权限”中删除“读取”，闪存也无法访问这些文件（我认为这很正常） .

所以..我的问题是：如何限制访问者访问 .xml 文件而不是 flash.swf 文件？顺便说一句，它在 linux vps 上运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:49:10.120

这是不可能的。如果 Flash 可以检索文件，那么使用 FireBug 观看并捕获 URL 的用户也可以。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:08:14.507

尝试仅使用 XML 文件托管受密码保护的 HTTPS 虚拟服务器。使用 flash 中的用户名和密码（此 flash 代码也必须隐藏用户名和密码）。我不熟悉闪存编程。但我希望你能明白。

# c# - 如何在 XtraReport 中将数字转换为字符串

> ID：12794811
> 
> 赞同：0
> 
> 时间：2012-10-09T07:21:55.783
> 
> 标签：c#, devexpress, xtrareport

在 Crystal Reports 中，该`ToWords`命令将数字转换为字符串。

我的问题是：如何在 DevExpress XtraReport 中实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T09:51:08.517

嘿……因为没有任何直接的功能可以做到这一点。可以通过在 XtraReports 中更改其 XRLabel.BeforePrint 事件处理程序中的 XRLabel.Text 属性来实现。例如，您必须点击链接：[http](http://www.osix.net/modules/article/?id=46) ://www.osix.net/modules/article/?id=46 。希望这对你有帮助！

# php - 在 PHP 中发送邮件：SMTP 错误：无法验证

> ID：12794813
> 
> 赞同：1
> 
> 时间：2012-10-09T07:21:58.187
> 
> 标签：php, smtp, phpmailer, smtp-auth

我正在尝试发送邮件`PHP`。我对本地主机和服务器使用相同的代码。但是当我在服务器上使用代码时，它似乎不起作用：

```
SMTP Error: Could not authenticate. Message was not sent.Mailer error: SMTP Error: Could not authenticate. 
```

这是我的代码供您参考。

```
require("class.phpmailer.php"); // path to the PHPMailer class

$mail = new PHPMailer();

$mail->IsSMTP(); // telling the class to use SMTP
$mail->Mailer = "smtp";
$mail->Host = "ssl://smtp.gmail.com";
$mail->Port = 465;
$mail->SMTPAuth = true; // turn on SMTP authentication
$mail->Username = "myname"; // SMTP username
$mail->Password = "password"; // SMTP password

$mail->From = "me@gmail.com";
$mail->AddAddress("sample@gmail.com");

$mail->Subject = "First PHPMailer Message";
$mail->Body = "Hi! \n\n This is my first e-mail sent through PHPMailer.";
$mail->WordWrap = 50;

if(!$mail->Send()) {
echo 'Message was not sent.';
echo 'Mailer error: ' . $mail->ErrorInfo;
} else {
echo 'Message has been sent.';
} 
```

我已经做了很多搜索，没有任何弹出。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:48:05.600

尝试 TLS 和端口 587：

```
$mail->SMTPSecure = "tls";
$mail->Host       = "smtp.gmail.com";
$mail->Port       = 587; 
```

如您所见，您还可以在 SMTPSecure 变量中指定您想要 SSL 连接，并将主机用作 smtp.gmail.com

也尝试用这个替换`$mail->IsSMTP();`它`$mail->Mailer = "smtp";`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:24:32.600

只需检查一下它可能会有所帮助：
它是用于 smtp 连接工作的 telnet 吗？在 windows 7 防火墙阻止（默认） smtp 连接所以， [http://support.microsoft.com/kb/153119](http://support.microsoft.com/kb/153119)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T06:54:18.273

一些托管服务提供商，例如 1and1 阻止外发电子邮件端口，例如 25、465 和 587。AFAIK 的唯一解决方案是更改托管服务提供商。

尝试制作一个简单的 php 文件，对您尝试使用的端口执行“fsokopen”，看看是否可行

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T07:25:06.500

这是因为密码包含特殊字符。我尝试在特殊字符之前使用“\”，`Password="djgh\^dfgfjk".`但它对我没有帮助。
我只是创建没有任何特殊字符的新 ID 和简单密码，而且令人惊讶的是它的工作。
使用不带特殊字符的密码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-11-21T11:13:02.520

它可能由于各种原因而发生。在我的情况下，它通过改变从

```
$phpmailer->isSMTP(); 
```

到

```
$phpmailer->Mailer     = 'smtp'; 
```

工作。

# vmware - 适用于 VMware 开发环境的产品

> ID：12794817
> 
> 赞同：0
> 
> 时间：2012-10-09T07:22:09.293
> 
> 标签：vmware, virtual-machine, vmware-workstation

我们正在考虑使用 VMware 产品创建新的软件开发环境。目标是： 1 个生产数据库 (Oracle) 1 个 Web 服务器（托管 Web 应用程序） 3 个带有适当 IDE 的 Windows 7 OS 客户端

我对 VMware 工作站有一些（初学者的）经验，即同时使用一些 win7 VM-Images。问题是我不知道哪些 VMware 产品适合上述配置 - 规范。这些将托管在具有 32GB 内存的 Windows Server 2008 R2 企业版上。vmware 工作站产品是否足够/高效/可靠/一致？有任何想法吗？

谢谢你，安德烈亚斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T19:33:19.877

我推荐你看看 vFabric，Java Spring 开发环境。它可以托管在 vSphere 中。这是良好的下一代开发环境的核心。使用具有 32GB RAM 的服务器作为 vCenter 主机并将所有 VM 放置在其中。至少，您需要 vFabric Suite。转到 VMWARE.COM 并查看它。

# blackberry - 如何在黑莓中从 url 加载图像

> ID：12794818
> 
> 赞同：-2
> 
> 时间：2012-10-09T07:22:09.400
> 
> 标签：blackberry, blackberry-simulator, blackberry-eclipse-plugin, blackberry-jde, blackberry-webworks

> **可能重复：**
> [在黑莓中显示来自 URL 的图像](https://stackoverflow.com/questions/12049101/show-images-from-url-in-blackberry)

嗨，我正在尝试直接从黑莓中的 url 加载图像。黑莓中没有直接调用的选项。有什么可以这样做的。请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:40:06.453

这样做没有捷径可走。您需要通过代码来完成。

```
public static InputStream getInputStream(String url)
{
     InputStream inputStream = null;
     HttpConnection httpConnection = null;
     try
     {                        
         httpConnection = (HttpConnection)Connector.open(url+connectiontype));
         httpConnection.setRequestMethod(HttpConnection.POST);
         final int r=httpConnection.getResponseCode();
         if(r==200)
             inputStream = httpConnection.openDataInputStream();
     }
     catch(final Exception e)
     {
         System.out.println("Error is "+e.getMessage());
     }
     return inputStream;
} 
```

并`getInputStream()`像这样使用：

```
InputStream is=getInputStream(s1);
int length=is.available();
//System.out.print("length ==========="+length);        
byte[] data=new byte[length];

data = IOUtilities.streamToBytes(is);

// code to save image in sd card
saveFile.create();
OutputStream outStream = saveFile.openOutputStream();
outStream.write(data);
outStream.close();
saveFile.close();
is.close(); 
```

此代码将从 url 保存图像。

# algorithm - 将迭代算法转换为递归算法

> ID：12794819
> 
> 赞同：1
> 
> 时间：2012-10-09T07:22:16.133
> 
> 标签：algorithm, recursion

我已经编写了一个代码来使用队列（数组）按级别顺序打印树。

```
 void printLevelOrder(node *root) {
         node* queue[10];
         node*t=root;
         int y=0;
         queue[y]=t;
         for(int i=0;i<10;i++)
         {
                 printf("%d,",queue[i]->val); 

                 t=queue[i];
                 if((t->left)!=NULL){
                 queue[++y]=t->left;
                 }
                 if((t->right)!=NULL){
                 queue[++y]=t->right;
                 }
         } 
} 
```

我想将该方法转换为递归方法。我试过了，但我没有得到正确的解决方案。是否可以将此类问题转换为使用递归调用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:14:21.610

可以进行递归，但在这种情况下，结果可能看起来就像上面代码中的循环体正在执行，然后为队列中的下一个元素调用自身。*不可能*将其转换为在树遍历算法中更常见的一种递归，其中递归方法为它作为参数接收的子节点调用自身。因此没有预期的性能提升——你仍然需要队列或类似的结构——而且我真的不明白执行转换的意义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T14:53:07.463

据我了解，以“级别顺序”打印树实际上是对给定树的[BFS](http://en.wikipedia.org/wiki/Breadth-first_search)遍历，递归不适合。递归是一种非常适合[DFS](http://en.wikipedia.org/wiki/Depth-first_search)的方法。

递归在内部使用**堆栈**（LIFO 结构），而 BFS 使用**队列**（FIFO 结构）。如果根的解决方案取决于（结果，或只是遍历顺序）子树的解决方案，则树算法适用于递归。递归到树的“底部”，从底部向上解决问题。由此，前序、中序和后序遍历可以作为递归完成：

*   *pre-order* : 打印根，打印左子树，打印右子树
*   *in-order*：打印左子树，打印根，打印右子树
*   *post-order* : 打印左子树，打印右子树，打印根

然而，级别顺序不能分解为“为根做一些事情，为每个子树做一些事情”。唯一可能的“递归”实现将遵循@Qnan 的建议，并且正如他所说，没有多大意义。

然而，可以相当优雅地将任何*递归*算法转换为*迭代算法。*由于内部递归实际上与堆栈一起工作，因此在这种情况下唯一的技巧是使用您自己的堆栈而不是系统堆栈。这种递归和迭代实现之间的一些细微差别是：

*   通过*迭代*，您可以节省函数调用的时间
*   使用*递归*，您通常会得到更直观的代码
*   使用*递归*，每个函数调用都会为返回地址分配额外的内存
*   使用*iterative*，您分配内存，并确定分配内存的位置

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T13:37:22.137

我不确定这是否是您正在寻找的，但它是部分递归。

```
void print_level_part(node* p, level) {
    if(p) {
        if(level==1) {
            printf("%d", p->val);
        } else {
            print_level_part(p->left, level-1);
            print_level_part(p->right, level-1);
        }
    }
}

//the loop in main which does the main printing.
for(int i=0; i<n; ++i) {
    print_level_part(root, i);
} 
```

如果您想要完全递归的解决方案，那么我可能会建议您更改递归函数`for`中的循环。`main`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T14:25:38.237

这是 Qnan 所说的一个例子：

```
void printNext(node **queue,int i,int y)
{
  if (i==y) return;

  node *t = queue[i++];
  printf("%d,",t->val);

  if (t->left)  queue[y++] = t->left;
  if (t->right) queue[y++] = t->right;

  printNext(queue,i,y);
}

void printLevelOrder(node *root)
{
  node *queue[10]; /* be careful with hard-coded queue size! */
  int y=0, i=0;

  queue[y++]=root;
  printNext(queue,i,y);
  printf("\n");
} 
```

# pdf - 美德 2 产品 pdf 不显示自定义字段

> ID：12794823
> 
> 赞同：0
> 
> 时间：2012-10-09T07:22:29.027
> 
> 标签：pdf, joomla2.5, product, virtuemart, custom-fields

我正在将 VirtueMart 2.0.10 与 Joomla 一起使用！2.5.6，我的问题是每个产品的自动生成的 pdf 文档不包括我的自定义字段。我不是 php 专家，但我认为文件**/components/com_virtuemart/views/productdetails/tmpl/default_pdf.php**中的这些行与它有关，从第 145 行开始：

```
 <?php // Product custom_fields TODO relation to Childs
if (!empty($this->product->customfields)) { ?>
    <div class="product-fields">
    <?php
    $custom_title = null ;
    foreach ($this->product->customfields as $field){
        ?><div style="display:inline-block;" class="product-field product-field-type-<?php echo $field->field_type ?>">
        <?php if ($field->custom_title != $custom_title) { ?>
            <span class="product-fields-title" ><strong><?php echo JText::_($field->custom_title); ?></strong></span>
            <?php //echo JHTML::tooltip($field->custom_tip, $field->custom_title, 'tooltip.png');
        } ?>
        <span class="product-field-display"><?php echo $field->display ?></span>
        <span class="product-field-desc"><?php echo jText::_($field->custom_field_desc) ?></span>
        </div>
        <?php
        $custom_title = $field->custom_title;
    } ?>
    </div>
    <?php
} // Product custom_fields END ?> 
```

我测试了在上面的 if 语句之后添加一个 else 语句来回显一些文本，它执行了。所以显然没有自定义字段......但确实有......

我还没有发现其他人遇到这个问题，我认为这很奇怪，但我不认为我搞砸了。我在**/components/com_virtuemart/views/productdetails/tmpl/default.php**文件中做了一些更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T12:06:47.300

我删除了我在问题中输入的所有代码，并将其替换为**/components/com_virtuemart/views/productdetails/tmpl/default.php**文件中的以下代码：

```
<?php
$custom_title = null;
foreach ($this->product->customfieldsSorted['normal'] as $field) { // I set the position to normal
if ( $field->is_hidden )
continue;
if ($field->display) {
?>
<?php if ($field->custom_title != $custom_title) { ?>
<b><?php echo JText::_($field->custom_title); ?></b><br />

<?php
if ($field->custom_tip)
echo JHTML::tooltip($field->custom_tip, JText::_($field->custom_title), 'tooltip.png');
}
?>
<?php echo $field->display ?><br />
<?php echo jText::_($field->custom_field_desc) ?><br />
<?php
$custom_title = $field->custom_title;
}
}
?> 
```

我不是专家，但这对我有用。PDF 现在包括自定义字段。

正如您在代码中的注释中看到的，我将位置更改为**'normal'**。其他位置似乎是**'ontop'**和**'onbot'**。但我不会更改该设置，所以我保留它。

*编辑：我忘了提到我在该段中添加了一些其他的 html 代码，就像`<br />`并且`<b>`只是为了出现。**所以没什么大不了的，只是为了澄清代码与文件default.php**中的代码不完全一样*

# unicode - ISO-8859-1 是 Unicode 字符集吗？

> ID：12794825
> 
> 赞同：7
> 
> 时间：2012-10-09T07:22:36.843
> 
> 标签：unicode, character-encoding, iso-8859-1

我一直在参加一个关于 XML 的讲座，其中写着“ISO-8859-1 是一种 Unicode 格式”。这听起来对我来说是错误的，但是当我研究它时，我很难准确地理解 Unicode 是什么。

你能把 ISO-8859-1 称为 Unicode 格式吗？您实际上可以称之为 Unicode 什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-09T07:36:27.967

### ISO 8859-1 不是 Unicode

[ISO 8859-1](http://czyborra.com/charsets/iso8859.html)也称为 Latin-1。它不是直接的[Unicode](http://www.unicode.org/)格式。

但是，它确实具有独特的特权，即其代码点 0x00 .. 0xFF 一对一映射到 Unicode 代码点[U+0000 .. U+00FF](http://www.unicode.org/charts)。因此，Unicode 的前 256 个代码点，被视为 1 字节无符号整数，映射到 ISO 8859-1。

* * *

### 控制字符

[Peregring-lk](https://stackoverflow.com/users/1794803/peregring-lk) [观察](https://stackoverflow.com/questions/12794825/is-iso-8859-1-a-unicode-charset/12795038#comment54929113_12795038)到 ISO 8859-1 没有定义控制代码。[U+0000..U+007F](https://www.unicode.org/charts/PDF/U0000.pdf)和[U+0080..U+00FF](https://www.unicode.org/charts/PDF/U0080.pdf)的 Unicode 图表表明位于 U+0000..U+001F 和 U+007F 位置的 C0 控件来自 ISO/IEC 6429:1992 和同样位于 U+0080..U+9F 位置的 C1 控件。[C0 和 C1 控件](https://en.wikipedia.org/wiki/C0_and_C1_control_codes)的 Wikipedia建议该标准改为 ISO/IEC 2022。请注意，其中三个 C1 控件没有正式名称。

一般来说，ISO 8859-1 代码集的控制代码点被假定为来自 ISO 6429（或 2022）的 C0 和 C1 控制。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-12-07T03:08:32.480

ISO-8859-1 包含 UTF-8 Unicode 的一个子集，它与 ASCII 基本重叠。

所有 ASCII 都是 UTF-8 Unicode。

代码 7f 十六进制以下的所有 ISO 8859-1（ISO 拉丁语 1）字符在一个字节中都兼容 ASCII 和 UTF-8。带有变音符号的连字和字符使用多字节 Unicode UTF-8 表示，并使用 Unicode*兼容性代码点*。

所有 UTF-8 单字节字符都包含在 ASCII 中。

UTF-8 还包含多字节序列，其中一些是由兼容性代码点表示的字符的可整理（即可排序）等价物 -*组合*等价物，其中一些是由除 ASCII 和 ISO 之外的所有其他字符集表示的字符拉丁语 1。

[![在此处输入图像描述](../Images/c9d1073f504096acfe255a61c7944f3b.png)](https://i.stack.imgur.com/ShQbE.png)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-09T10:02:37.117

不，ISO 8859-1 不是 Unicode 字符集，仅仅是因为 ISO 8859-1 没有为所有 Unicode 字符提供编码，只是其中的一小部分。“字符集”这个词有时使用松散（因此通常最好避免使用），但作为一个技术术语，它表示字符编码。

放宽定义以使“Unicode 字符集”意味着涵盖部分 Unicode 的编码将毫无意义。那么每个编码都是一个“Unicode 字符集”。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-09T07:31:21.087

不可以。ISO/IEC 8859-1 早于 Unicode。例如，您不会在其中找到 €。Unicode 在某种程度上与 ISO 8859-1 兼容。对于 Unicode 中的字符编码，请查看 UCS / UTF8 / UTF16。

如果您查看代码格式，您会有类似的东西

*   抽象字母 - 您正在使用的字母
*   代码表 - 以某种形式输入字母（如字母顺序）
*   代码格式——说出代码表中哪个位置是哪个字母，（即UTF8或UTF16编码）
*   代码模式 - 如果您使用更多词来访问代码位置，它们的顺序是什么？（UTF16 中的 Big Endian、Little Endian）[转向指令的字符编码（例如 XML 中的 <）]

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T19:30:24.260

这取决于您如何定义“Unicode 格式”。

我想大多数人会认为它意味着一种能够表示 Unicode 范围内的任何代码点（U+0000 - U+10FFFF）的编码。

在这种情况下，不，ISO 8859-1 不是 Unicode 格式。

然而，其他一些定义可能是“作为 Unicode 字符集子集的字符集”或“可以被认为包含 Unicode 数据（不一定是任意 Unicode 数据）的编码”。ISO 8859-1 符合这两个定义。

Unicode 有很多东西。它包含一个字符集，其中“字符”被分配了代码点值。它定义字符的属性并提供字符及其属性的数据库。它定义了许多算法，用于对 Unicode 文本数据进行各种处理，例如比较字符串的方法、将字符串划分为字素簇、单词等。它定义了一些特殊的编码，可以对任何 Unicode 代码点进行编码并具有一些其他有用的属性。它定义了 Unicode 代码点和遗留字符集的代码点之间的映射。

在这里您可以找到更完整的答案：[Unicode.org](http://www.unicode.org/versions/Unicode6.2.0/)

# javascript - 单击按钮时在浏览器上启用 JavaScript（非自动）

> ID：12794826
> 
> 赞同：1
> 
> 时间：2012-10-09T07:22:39.207
> 
> 标签：javascript, jquery

我在我的网站上使用了很多 JavaScript（目前正在建设中）。我担心的是，如果某些客户端系统禁用了 JavaScript，那么我的网站将“惨遭失败”。

我知道我们不能以编程方式覆盖以启用 JavaScript，因为这将是一个安全问题。但是我想要的是，如果客户端系统禁用了 JavaScript，那么应该会出现一个带有按钮的弹出窗口，这样当用户单击该按钮时，无论他在哪种浏览器中查看该站点，都会自动启用 JS。

我问这个是因为当我查看其他网站时，我自己也看到了同样的事情。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:26:21.307

这是不可能的。但是，您可以在页面上显示有关如何启用 JavaScript 的说明，但考虑到禁用 JavaScript 的人通常知道他们在做什么，他们将知道如何自己启用它。

我想说很少有人会意外禁用 JavaScript，所以您的担心可能是不必要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:29:53.380

您可能正在寻找的是[渐进增强](http://en.wikipedia.org/wiki/Progressive_enhancement)。

与其通过 JavaScript 显示一条消息，告诉用户启用 JavaScript，不如反其道而行之。

默认情况下，您会显示一条消息，例如在 div 中，当 JavaScript 启用时，您会隐藏 div。您仅使用 JavaScript 来增强用户体验，但在用户未启用 JavaScript 时提供“合理”的体验。在您的情况下，合理可能意味着一个空白页面，其中包含一些解释您真正需要 JavaScript 的原因的文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T07:26:32.320

好吧，如果你想出现一个弹出窗口，那么你需要使用 javascript 来实现它，所以我想答案是你可以忽略一小部分浏览器禁用 javascript 的人。

# java - Java：调用 UnicastRemoteObject.exportObject() 时的完整 GC？

> ID：12794827
> 
> 赞同：1
> 
> 时间：2012-10-09T07:22:40.547
> 
> 标签：java, garbage-collection, rmi

在研究这个问题时：[Java：RMI 目标对象的垃圾收集？](https://stackoverflow.com/questions/12746652/java-garbage-collection-for-rmi-target-object)我看到第一次调用时触发了完整的 GC：

```
UnicastRemoteObject.exportObject(new Remote(){}, 0); 
```

我运行了一个包含上述调用的非常简单的程序，并设置了 -verbose:gc，并且始终看到触发了完整的 GC，例如`[Full GC 1070K->184K(47552K), 0.0070096 secs]`

我通过 Eclipse、命令行以及虚拟机和物理机运行它。我正在使用 Sun jdk 和热点 1.6。

有没有人观察到类似的行为？可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:50:50.977

有一个后台线程检查 GC 是否已在 java.rmi.dgc.leaseValue 中运行，默认为一小时。

如果在任何 GC 运行之前启用此功能，我怀疑它会看到自上次 GC 以来的时间太长并触发完整的 gc。

执行此操作的类是[sun.misc.GC](http://www.docjar.com/html/api/sun/misc/GC.java.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:46:45.237

是的，我认为，它会触发 Full GC。

RMI 系统使用的分布式垃圾收集算法是一种引用计数算法。当客户端第一次收到对远程对象的引用时，会向导出该对象的服务器发送“引用”消息。客户端本地计算机中的每个后续引用都会导致引用计数器递增。随着本地引用的最终确定，引用计数会减少，一旦计数变为零，就会向服务器发送“未引用”消息。一旦服务器不再有对对象的实时引用并且没有本地引用，它就可以自由地完成并进行垃圾收集。

另请参阅下面的链接，了解**默认 GC 间隔延长至一小时 (6200091)**部分

[http://docs.oracle.com/javase/7/docs/technotes/guides/rmi/relnotes.html](http://docs.oracle.com/javase/7/docs/technotes/guides/rmi/relnotes.html)

# css - 半透明背景的推拉门技术？

> ID：12794829
> 
> 赞同：1
> 
> 时间：2012-10-09T07:22:50.823
> 
> 标签：css

我正在开发一个外观有光泽的按钮。按钮可以有各种颜色和大小。这是我到目前为止所做的：

```
.btn-zen-inverse, .btn-zen-inverse:hover{
    color: white;
    background: 
    url("../img/btn_right.png") no-repeat right 0,
    url("../img/btn_left.png") no-repeat  left 0,
    url("../img/btn_center.png") repeat-x 42px 0;
  background-color: #273032;
  background-size: contain; 
  line-height: 50px;
  margin: 12px 18px 3px 0;
  padding: 0;
  border: 2px solid white !important;
} 
```

引用的图像是 alpha 透明的。这个想法是根据背景颜色属性设置颜色。该图像还有一些其他属性，但这些只是审美。

这 ofcorse 渲染的图像看起来像这样！我希望中心图像仅在图像的中心部分可见。正如你从我的css中看到的那样。这只需要在四大浏览器的最新版本中正常工作。

![在此处输入图像描述](../Images/698cbb6c52f7b79ff486a60990ec4305.png)

这就是我希望它看起来的样子：

![在此处输入图像描述](../Images/c39b4d34ed0eb7b954fee7cbb79c530d.png)

一种建议是使用背景渐变来执行此操作。如果可能的话，我需要按照填充/边距的工作方式来定义背景位置。那可能吗？

设计包含：2 个边框：一个白色一个渐变，一个背景渐变。顶部有一个 1px 厚的垂直渐变。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T09:42:25.953

这是我只能用 CSS 得到的最接近的结果。

请注意，IE8 不支持多背景。以下代码也不是，但至少您不需要图像。

![按钮预览](../Images/0eb15bf4289c79249b6411643c2e0519.png)

[**现场演示**](http://jsfiddle.net/eH36t/)

HTML：

```
<a class="button dark" href="#"><span>Prova Zenconomy Gratis</span></a> 
```

CSS：

```
.button {
    display:inline-block;
    border:2px solid;
    -webkit-border-radius:5px;
    -moz-border-radius:5px;
    border-radius:5px;
    line-height:40px;
    text-decoration:none;
    font-family:Helvetica,Arial,sans-serif;
    -webkit-box-shadow: 0 0 4px 1px rgba(204, 204, 204, 0.7);
    -moz-box-shadow: 0 0 4px 1px rgba(204, 204, 204, 0.7);
    box-shadow: 0 0 4px 1px rgba(204, 204, 204, 0.7);
}
.button > span {
    padding:0 40px;
    display:block;
    border:3px solid;
    -webkit-border-radius:5px;
    -moz-border-radius:5px;
    border-radius:5px;
}
.button.dark {
    border-color:#FFF;
    color:#FFF;
    background:#030303;
}
.button.dark > span {
    border-color:#000;
    -webkit-box-shadow: inset 0 3px 5px -1px rgba(255,255,255,0.3);
    -moz-box-shadow: inset 0 3px 5px -1px rgba(255,255,255,0.3);
    box-shadow: inset 0 3px 5px -1px rgba(255,255,255,0.3);
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjMiLz4KICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2dyYWQtdWNnZy1nZW5lcmF0ZWQpIiAvPgo8L3N2Zz4=);
    background: -moz-linear-gradient(top, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 100%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,0.3)), color-stop(100%,rgba(255,255,255,0)));
    background: -webkit-linear-gradient(top, rgba(255,255,255,0.3) 0%,rgba(255,255,255,0) 100%);
    background: -o-linear-gradient(top, rgba(255,255,255,0.3) 0%,rgba(255,255,255,0) 100%);
    background: -ms-linear-gradient(top, rgba(255,255,255,0.3) 0%,rgba(255,255,255,0) 100%);
    background: linear-gradient(to bottom, rgba(255,255,255,0.3) 0%,rgba(255,255,255,0) 100%);
} 
```

有 2 个类（`.button`用于布局以及`.dark`用于颜色和渐变），因此您可以在页面中拥有不同类型的按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T09:21:17.700

请[检查此代码](http://jsfiddle.net/xQvfd/)作为您查询的解决方案。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>

<style type="text/css">
    .btn-zen-inverse, .btn-zen-inverse:hover{
    color:#fff;
    background: 
    url("https://lh4.googleusercontent.com/-V_jjGSjquMg/UHPqq7_FfvI/AAAAAAAAA6s/fK5QEHGzC9I/s128/left.png") no-repeat right 0,
    url("https://lh4.googleusercontent.com/-V_jjGSjquMg/UHPqq7_FfvI/AAAAAAAAA6s/fK5QEHGzC9I/s128/left.png") no-repeat  left 0,
    url("https://lh3.googleusercontent.com/-JgxTtVru7R8/UHPqq1RgAII/AAAAAAAAA6o/gmfFayABGfQ/s128/center.png") repeat-x 42px 0;
  background-color: #ff09f9;
  background-size: contain; 
  line-height: 50px;
  margin: 12px 18px 3px 0;
  padding: 0;
  border: 2px solid white !important;
  text-align:center
}

</style>

</head>

<body>
<div class="btn-zen-inverse">Content</div>
</body>
</html> 
```

# python - 从 Python 中的字符串列表中获取连接的字符串

> ID：12794833
> 
> 赞同：12
> 
> 时间：2012-10-09T07:23:03.707
> 
> 标签：python

我有一个列表列表和一个分隔符字符串，如下所示：

```
lists = [
    ['a', 'b'],
    [1, 2],
    ['i', 'ii'],
]
separator = '-' 
```

结果，我希望将字符串列表与子列表中的字符串中的分隔符字符串相结合：

```
result = [
    'a-1-i', 
    'a-1-ii', 
    'a-2-i', 
    'a-2-ii',
    'b-1-i', 
    'b-1-ii', 
    'b-2-i', 
    'b-2-ii',
] 
```

结果中的顺序无关紧要。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-09T07:29:55.220

```
from itertools import product
result = [separator.join(map(str,x)) for x in product(*lists)] 
```

`itertools.product`返回一个迭代器，该迭代器产生提供的可迭代对象的笛卡尔积。我们需要`map` `str`遍历结果元组，因为其中一些值是整数。最后，我们可以加入字符串化的元组并将整个内容放入列表推导式（或生成器表达式，如果处理大型数据集，您只需要它进行迭代）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T07:31:29.790

```
>>> from itertools import product
>>> result = list(product(*lists))
>>> result = [separator.join(map(str, r)) for r in result]
>>> result
['a-1-i', 'a-1-ii', 'a-2-i', 'a-2-ii', 'b-1-i', 'b-1-ii', 'b-2-i', 'b-2-ii'] 
```

* * *

正如@jpm 指出的那样，您实际上并不需要强制`list`转换为`product`生成器。我有这些可以在我的控制台中查看结果，但这里并不真正需要它们。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-09T11:46:29.167

您可以使用内置函数执行此操作：

```
>>> map(separator.join, reduce(lambda c,n: [a+[str(b)] for b in n for a in c], lists, [[]]))
['a-1-i', 'b-1-i', 'a-2-i', 'b-2-i', 'a-1-ii', 'b-1-ii', 'a-2-ii', 'b-2-ii'] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T07:32:22.287

```
["%s%c%s%c%s" % (a, separator, b, separator, c) for a in lists[0] for b in lists[1] for c in lists[2]] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-18T08:34:46.240

```
from _ast import List
from itertools import product
import itertools

list1 = [
    ['1', '2', '3'], 
    ['4', '5', '6'], 
    ['7', '8', '9']
]
result = list(map(''.join, product(*list1)))
for s in result:
    print(repr(s))

print('............')   

for s in map(''.join, product(*list1)):
    print(repr(s))  

print('............')
res = [*map(''.join,product(*list1))]
print(res)
print('............')

ra = list(map(''.join, product(*list1)))
print(ra)

print('............')
for element in itertools.product(*list1):
    print(element)

#If there is a separator 
separator = '-'

#Then,

res2 = [ separator.join(map(str,r))  for r in product(*list1) ]
print(res2)
``````````````````````````

The Output :

```````````````````

['147', '148', '149', '157', '158', '159', '167', '168', '169', '247', '248', '249', '257', '258', '259', '267', '268', '269', '347', '348', '349', '357', '358', '359', '367', '368', '369']
............
['147', '148', '149', '157', '158', '159', '167', '168', '169', '247', '248', '249', '257', '258', '259', '267', '268', '269', '347', '348', '349', '357', '358', '359', '367', '368', '369']
............
('1', '4', '7')
('1', '4', '8')
('1', '4', '9')
('1', '5', '7')
('1', '5', '8')
('1', '5', '9')
('1', '6', '7')
('1', '6', '8')
('1', '6', '9')
('2', '4', '7')
('2', '4', '8')
('2', '4', '9')
('2', '5', '7')
('2', '5', '8')
('2', '5', '9')
('2', '6', '7')
('2', '6', '8')
('2', '6', '9')
('3', '4', '7')
('3', '4', '8')
('3', '4', '9')
('3', '5', '7')
('3', '5', '8')
('3', '5', '9')
('3', '6', '7')
('3', '6', '8')
('3', '6', '9')
['1-4-7', '1-4-8', '1-4-9', '1-5-7', '1-5-8', '1-5-9', '1-6-7', '1-6-8', '1-6-9', '2-4-7', '2-4-8', '2-4-9', '2-5-7', '2-5-8', '2-5-9', '2-6-7', '2-6-8', '2-6-9', '3-4-7', '3-4-8', '3-4-9', '3-5-7', '3-5-8', '3-5-9', '3-6-7', '3-6-8', '3-6-9']
```````````````````````````` 
```

# arm - gdbserver 共享库

> ID：12794834
> 
> 赞同：1
> 
> 时间：2012-10-09T07:23:05.753
> 
> 标签：arm, libraries, shared, gdbserver

我正在使用 gdb 7.1 开发 ARM 系统（我也尝试过 7.5）。我正在使用这个工具来调试由几个共享库组成的应用程序。

如果我在 ARM 端调试这个应用程序，使用 gdb 7.1 我可以看到共享的加载库（数字化“共享”）。完美的！

我正在尝试在 Windows 主机上使用 gdb for arm 和在 ARM 上使用 gdbserver 远程执行相同的操作。

所以我有：1）windows上的gdb for arm v.7.4.1（我也试过7.3.1）2）arm v.7.1上的gdbserver（我也试过7.5）

在 Windows 上，我可以完美地调试除共享库之外的所有内容：事实上，当我尝试数字“共享”时，它说没有任何共享加载库。我绝对确定至少已经加载了一个库（在手臂一侧，同样的情况也可以正常工作）。

任何想法？

编辑：可能我发现了一些东西：

在 arm 上的 gcc 中，当我要求共享加载库（“share”）时，它调用函数 solib.c:info_sharedlibrary_command 并完全支持 solib。（它工作正常）

相反，当我在 windows 上的 gdb 和 arm 上的 gdbserver 上请求相同的命令时，它传递的命令“qXfer:libraries:read:”不管理任何 solib，只管理 dll！并且 dll 列表显然是空的。

我错过了什么？

解决了！[http://sourceware.org/bugzilla/show_bug.cgi?id=14670](http://sourceware.org/bugzilla/show_bug.cgi?id=14670)

# c# - 如何使用 PC 扬声器发出蜂鸣声？

> ID：12794846
> 
> 赞同：7
> 
> 时间：2012-10-09T07:23:45.000
> 
> 标签：c#, hardware, beep

我想在 C# 中使用 PC 扬声器发出哔声。使用以下代码时：

```
[DllImport("kernel32.dll", EntryPoint = "Beep", SetLastError = true,
ExactSpelling = true)]
public static extern bool Beep(uint frequency, uint duration);

static void Main()
{
    while (true)
    {
        Beep(1000, 500);
        Thread.Sleep(2000);
    }
} 
```

它不是通过 PC 扬声器发出哔哔声，而是简单地将给定频率和持续时间的声音输出到默认声音设备（例如耳机）。使用`Console.Beep()`.

为什么？

笔记：

*   PC 扬声器已打开。当我启动电脑时，它会发出哔哔声。

*   操作系统是 Windows 8。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:35:16.057

从 Windows 7 开始，您将无法再通过内置扬声器轻松发出声音。

> 对于 Windows 7，我们完全解决了这个问题——我们将 Beep.Sys 中包含的所有功能移到了用户模式系统声音代理中——现在，当您调用 Beep() API 而不是操纵 8254 芯片时，调用是重新路由到实际播放声音的用户模式代理。

[…]

> 还有一些意想不到的后果。最大的是人们开始注意到当应用程序调用 Beep() 时。他们将 PC 放置得足够远（或者环境噪音足够大），以至于当声音开始从扬声器中传出之前，他们从未注意到 PC 对他们发出哔哔声。

有关详细信息，请参见此处：

[https://docs.microsoft.com/en-us/archive/blogs/larryosterman/whats-up-with-the-beep-driver-in-windows-7](https://docs.microsoft.com/en-us/archive/blogs/larryosterman/whats-up-with-the-beep-driver-in-windows-7)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-09T07:36:38.340

你身边有 32 位 Windows 机器吗？试一试`Console.Beep();`，PC 扬声器会发出哔哔声。

在 64 位 Windows（XP、Vista、7 或 8）上，执行此操作的驱动程序不存在，因此它会从插入机器的扬声器中出来。

另外，如果我错了，请纠正我，但我会冒昧地猜测，每当你的电脑开机时你听到的哔哔声来自你的 BIOS，在你实际运行 Windows 8 之前。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-09T07:29:59.333

您可以使用`SystemSounds.Beep`例如：`SystemSounds.Beep.Play();`

另请参阅：[SystemSounds.Beep 属性](http://msdn.microsoft.com/en-us/library/system.media.systemsounds.beep.aspx)

# import - Sqoop 的增量类型 lastmodified 不做增量导入

> ID：12794850
> 
> 赞同：1
> 
> 时间：2012-10-09T07:23:55.860
> 
> 标签：import, mapreduce, hdfs, sqoop

我正在使用 Sqoop v1.4.2 对作业进行增量导入。这些职位是：
`--create job_1 -- import --connect <CONNECT_STRING> --username <UNAME> --password <PASSWORD> -m <MAPPER#> --split-by <COLUMN> --target-dir <TARGET_DIR> --table <TABLE> --check-column <COLUMN> --incremental append --last-value 1`

笔记：

1.  增量类型是追加

2.  就业创造成功

3.  作业执行多次成功

4.  可以看到在 HDFS 中导入的新行

`--create job_2 -- import --connect <CONNECT_STRING> --username <UNAME> --password <PASSWORD> -m <MAPPER#> --split-by <COLUMN> --target-dir <TARGET_DIR> --table <TABLE> --check-column <COLUMN> --incremental lastmodified --last-value 1981-01-01`

笔记：

1.  增量类型是 lastmodified

2.  作业创建成功，表名与job_1中使用的不同

3.  作业执行仅第一次成功

4.  可以看到为在 HDFS 中首次执行而导入的行

5.  后续作业执行失败并出现以下错误：

    ```
    ERROR security.UserGroupInformation: PriviledgedActionException as:<MY_UNIX_USER>(auth:SIMPLE) cause:org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory <TARGET_DIR_AS_SPECIFIED_IN_job_2> already exists
    ERROR tool.ImportTool: Encountered IOException running import job: org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory <TARGET_DIR_AS_SPECIFIED_IN_job_2> already exists
        at org.apache.hadoop.mapreduce.lib.output.FileOutputFormat.checkOutputSpecs(FileOutputFormat.java:132)
        at org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:872)
        at org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:833)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:396)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1177)
        at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:833)
        at org.apache.hadoop.mapreduce.Job.submit(Job.java:476)
        at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:506)
        at org.apache.sqoop.mapreduce.ImportJobBase.runJob(ImportJobBase.java:141)
        at org.apache.sqoop.mapreduce.ImportJobBase.runImport(ImportJobBase.java:202)
        at org.apache.sqoop.manager.SqlManager.importTable(SqlManager.java:465)
        at org.apache.sqoop.manager.MySQLManager.importTable(MySQLManager.java:108)
        at org.apache.sqoop.tool.ImportTool.importTable(ImportTool.java:403)
        at org.apache.sqoop.tool.ImportTool.run(ImportTool.java:476)
        at org.apache.sqoop.tool.JobTool.execJob(JobTool.java:228)
        at org.apache.sqoop.tool.JobTool.run(JobTool.java:283)
        at org.apache.sqoop.Sqoop.run(Sqoop.java:145)
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)
        at org.apache.sqoop.Sqoop.runSqoop(Sqoop.java:181)
        at org.apache.sqoop.Sqoop.runTool(Sqoop.java:220)
        at org.apache.sqoop.Sqoop.runTool(Sqoop.java:229)
        at org.apache.sqoop.Sqoop.main(Sqoop.java:238)
        at com.cloudera.sqoop.Sqoop.main(Sqoop.java:57) 
    ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-11-04T22:33:20.490

如果你想一次又一次地执行 job_2 那么你需要使用 --incremental lastmodified --append

```
sqoop --create job_2 -- import --connect <CONNECT_STRING> --username <UNAME> 
--password <PASSWORD> --table <TABLE> --incremental lastmodified --append 
--check-column<COLUMN> --last-value "2017-11-05 02:43:43" --target-dir 
<TARGET_DIR> -m 1 
```

# asterisk - 从星号 pbx 呼叫到 Skype 帐户

> ID：12794852
> 
> 赞同：0
> 
> 时间：2012-10-09T07:24:00.590
> 
> 标签：asterisk, skype, pbx

我有一个星号 pbx。我想从我的 pbx 中呼叫到 Skype 帐户。我没有商务 Skype 帐户，也没有任何 Skype 号码，它只是一个简单的 Skype 帐户。我该怎么做？我必须在我的 sip.conf 文件中进行哪些设置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T09:52:23.913

如果您在基于闪存星号的 pbx 中使用 Pbx，那么您可以按照以下方法

[http://nerdvittles.com/?p=784](http://nerdvittles.com/?p=784)

它也适用于普通的 asteirsk 安装。

# python - 升级 Python 模块的最佳实践

> ID：12794856
> 
> 赞同：7
> 
> 时间：2012-10-09T07:24:16.393
> 
> 标签：python, numpy, deprecated, statsmodels

我已经学习 Python 几个月了，但现在我发现我的 2.7 安装存在一些问题，因为我研究了诸如 nltk 之类的模块。

但是，当我想使用帮助（“模块）列出模块时，我有一个主要错误，我认为可以解释问题是：

```
 /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/distribute-0.6.28-py2.7.egg/setuptools/command/install_scripts.py:3: UserWarning: Module numpy was already imported from /Library/Python/2.7/site-packages/numpy-override/numpy/__init__.pyc, but /Library/Python/2.7/site-packages/numpy-1.8.0.dev_5c944b9_20120828-py2.7-macosx-10.8-x86_64.egg is being added to sys.path
from pkg_resources import Distribution, PathMetadata, ensure_directory 
```

我还收到以下与不推荐使用的模块有关的错误：

```
 /Library/Python/2.7/site-packages/statsmodels-0.5.0-py2.7-macosx-10.8-intel.egg/scikits/statsmodels/__init__.py:2: UserWarning: scikits.statsmodels namespace is deprecated and will be removed in 0.5, please use statsmodels instead 
```

我仍在努力掌握路径。以后如何避免这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T08:20:31.280

你已经在你的操作系统 Python 库下安装了包。这是大不，不。您应该做的是使用 virtualenv 工具创建一个隔离的、一次性的 Python 环境：

[http://opensourcehacker.com/2012/09/16/recommended-way-for-sudo-free-installation-of-python-software-with-virtualenv/](http://opensourcehacker.com/2012/09/16/recommended-way-for-sudo-free-installation-of-python-software-with-virtualenv/)

这样，当您升级包或需要摆脱它们时，您始终可以通过简单地删除环境并创建新环境来重置所有 Python 包的状态。

**通过pip**或**easy_install**命令安装的Python 包易于安装，但无法卸载...

但是，当损坏已经发生时，您需要手动尝试清理 /Library/Python/2.7/site-packages/ 通过删除文件并尽量不要在此过程中破坏您的系统 Python。

# node.js - 如何在 EJS 视图中使用节点模块（如 MomentJS）？

> ID：12794860
> 
> 赞同：50
> 
> 时间：2012-10-09T07:24:20.527
> 
> 标签：node.js, express, ejs, momentjs

要在views/custom.ejs 中使用MomentJS，正确的方法是什么（如果有的话）？

1.  服务器端

    路线/索引等我们可以轻松使用`require('moment');`等，它工作正常。

2.  服务器端（EJS 视图）

    views/custome.ejs，类似的东西`<% var m = require('moment'); %>`不起作用

我使用 ExpressJS 和 EJS 作为模板引擎。

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2013-08-29T01:20:57.603

我找到了另一种方法，我认为它有一些优势。

*   不要污染您的代码导出过滤器。
*   无需全部导出即可访问任何方法。
*   更好的 ejs 使用（无 | 管道）。

在您的控制器或 view.js 上执行以下操作：

```
var moment = require('moment');
exports.index = function(req, res) {
    // send moment to your ejs
    res.render('index', { moment: moment });
} 
```

现在你可以在你的 ejs 中使用 moment：

```
<html>
    <h1><%= moment().fromNow() %></h1>
</html> 
```

我不是 Node 专家，所以如果有人看到这样做有什么不好的地方，请告诉我！:)

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2014-11-03T06:07:28.710

另一种选择：

这样，您将 moment 变量设置为站点上任何 EJS 页面中所有脚本都可用的本地变量。

在您的“index.js”（或“app.js”）文件中执行以下操作：（在您使用 Express 设置您的“应用程序”之后）

```
var moment = require('moment');
var shortDateFormat = "ddd @ h:mmA"; // this is just an example of storing a date format once so you can change it in one place and have it propagate
app.locals.moment = moment; // this makes moment available as a variable in every EJS page
app.locals.shortDateFormat = shortDateFormat; 
```

然后在您的 EJS 文件中，您可以将时刻（和 shortDateFormat）称为如下变量：

```
<%= moment(Date()).format(shortDateFormat) %> 
```

也许这更优雅一些？

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2017-06-02T02:43:28.273

```
var moment = require('moment');
app.locals.moment = require('moment'); 
```

在视图中使用：

```
<%= moment(myDateValue).fromNow() %> 
```

现在您可以简单地在您的 EJS 文件中使用 moment。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2012-10-09T08:05:49.523

我在服务器端使用 ejs 的时刻。我写了一个从Now返回的ejs过滤函数。

```
npm install moment 
```

./views/page.ejs

```
<span class="created_at"><%=: item.created_at | fromNow %></span> 
```

./routes/page.js

```
var ejs = require('ejs')
  , moment = require('moment');

ejs.filters.fromNow = function(date){
  return moment(date).fromNow()
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-04-02T15:53:20.753

您可以创建函数并将其附加到 app.locals。并在服务器端的 ejs 模板中使用它。

在你的路线文件中，你做

../routes/page.js

```
var ejs = require('ejs')
  , moment = require('moment');

app.locals.fromNow = function(date){
  return moment(date).fromNow();
} 
```

../views/page.ejs

```
<span class="created_at"><%= fromNow(item.created_at) %></span> 
```

请记住将时刻添加到您的 package.json 文件中

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-06-19T14:07:00.797

像这样传下去怎么`require`样：

```
res.render('index', { require: require }); 
```

您可能需要调整以维护路径：

```
res.render('index', { require: module => require(module /* here you may insert path correction */) }); 
```

显然，这仅适用于 Node（后端）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-09T07:47:24.363

您上面提到的服务器端（EJS 视图）是在浏览器上而不是在您的服务器上运行的。您不能使用 require ，因为浏览器无法理解它。您需要导入 moment.js 才能使用它

```
<script src="/js/moment.min.js"></script> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-03-08T12:25:13.753

我也认为如果你想添加一个中间件是个好主意，你可以在其中添加任何你想要的东西到主题层，包括用户、配置和时刻：

```
// config, user, moment to the theme layer
app.use(function (req, res, next) {
    // grab reference of render
    var _render = res.render;
    // override logic
    res.render = function (view, options, fn) {
        // extend config and continue with original render
        options = options || {};
        options.config = config;
        options.moment = moment;
        if (req.user && req.user.toJSON) {
            options.user = req.user.toJSON();
        }
        _render.call(this, view, options, fn);
    }
    next();
}); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-06-05T07:27:46.773

我写了一个助手来返回使用`ejs`视图和布局的时刻。

`./helpers/utils/get-moment.js`

```
const moment = require('moment');

module.exports = {
    friendlyName: 'formatMoney',
    description: 'format money number.',
    inputs: {},
    sync: true,
    exits: {},
    fn: function (inputs, exits) {
        return exits.success(moment);
    }
}; 
```

然后使用：

```
const moment = sails.helpers.utils.getMoment(); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-08-26T13:00:53.363

从 Node v12.8.3 开始，您似乎可以`require`直接传递给 EJS 模板，即这样可以：

```
const ejs = require('ejs')
let renderedHTML = ejs.render(`<% const moment = require('moment') %>`, { require }) 
```

# c - 在 C 中为 unsigned long long 赋值

> ID：12794863
> 
> 赞同：0
> 
> 时间：2012-10-09T07:24:30.493
> 
> 标签：c, long-integer

在 C 中为 unsigned long long 变量赋值时，变量的值未正确赋值。代码是：

```
#include <stdio.h>
int main()
{
  unsigned long long x;
  printf("%d\n\n",sizeof(x));
  x=0xAAAAAAAAAAAAAAAAULL;
  printf("%u\n\n",x);
  printf("%ld\n\n",x);
  return 0;
} 
```

变量的最右边 32 位被忽略。有人可以告诉我如何正确地做到这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T07:26:55.500

`unsigned long long`用打印`%llu`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T07:26:31.707

如果要打印 unsigned long long，请为 printf 使用 llu 或 Lu 格式说明符。格式说明符取决于编译器。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-09T07:27:44.283

分配正确发生。但是，该程序未正确显示该值。

```
printf("%Lu\n\n",x); 
```

或者

```
printf("%llu\n\n",x); 
```

甚至可能

```
printf("%LLu\n\n",x); 
```

取决于编译器和特定的运行时库。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-09T07:29:29.527

您需要更改`printf`s 才能正确打印。

```
#include <stdio.h>
int main()
{
    unsigned long long x;
    printf("%d\n\n",sizeof(x));
    x=0xAAAAAAAAAAAAAAAAULL;
    printf("%u\n\n",x);  // not work
    printf("%llu\n\n",x);  // works
    printf("%016llx\n\n",x); // bonus check
    return 0;
} 
```

# android - Android：当页面移动到纵向到横向时停止刷新活动

> ID：12794867
> 
> 赞同：3
> 
> 时间：2012-10-09T07:24:43.380
> 
> 标签：android, landscape-portrait, android-screen

当我从纵向心情转到横向心情时，我想停止活动刷新，并且我还想在它从纵向转到横向心情时加载文件布局，而不需要对活动进行任何刷新。

我用`<activity android:name=".Login" android:configChanges="orientation|screenSize">`

但是，在这种方法中，当我从纵向转为横向时，它不会从 layout-land 文件夹加载文件。我该怎么办？请有人帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:27:06.263

在 onConfigurationChanged() 中调用方法 setContentView(R.layout.main)

```
 @Override
    public void onConfigurationChanged(Configuration newConfig) {
        super.onConfigurationChanged(newConfig);

        ///in case you have some EditTexts , save their input before setting the new layout.
        emailForConfigChanges = emailTextBox.getText().toString().trim();
        passwordForConfigChanges = passwordTextBox.getText().toString().trim();

        setContentView(R.layout.main);

        //Now set the values back to the EditTexts .
    } 
```

如果您在清单中声明了“方向”，您只需将此方法添加到您的活动中，因为它会处理所有方向更改。

**编辑：**如果 EditTexts 在旋转时丢失它们的值，请在 onConfigurationChanged() 中调用 setContentView() 之前获取它们的值。请参阅上面的编辑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:31:23.427

我只通过添加来处理这个问题`android:configChanges="keyboardHidden|orientation"`

希望这会帮助你。

# servlets - 如何使用 Apache HttpClient 将序列化对象发送到 servlet

> ID：12794868
> 
> 赞同：1
> 
> 时间：2012-10-09T07:24:46.280
> 
> 标签：servlets, serialization, http-post, apache-httpclient-4.x, apache-httpcomponents

我有一个`Main()`类，我在其中序列化一个名为`Names`. 我正在使用`Apache HttpClient`'s`HttpPost()`来调用`servlet`.

```
public static void main(String[] args) {

    Names names = new Names();
    names.setName("ABC");
    names.setPlace("Bangalore");
    ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream("Name.txt"));
    out.writeObject(names);
    out.close();

HttpClient httpclient = new DefaultHttpClient();
HttpPost httppost = new HttpPost("http://localhost:6080/HttpClientGson/FirstHttpPostServlet"); 
```

现在，我如何发送`ObjectOutputStream`对象？我写了以下行 `httppost.setEntity(out)`

但`setEntity()`只能取对象`HttpEntity`类型。有没有其他方法`HttpClient`可以用来发送序列化对象？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T15:51:01.710

您可以`SerializableEntity`与 HttpClient 一起上课

```
httpost.setEntity(new SerializableEntity(mySerializableObj, false)); 
```

但请注意，仅在绝对需要时才应使用二进制对象序列化。通常应首选其他序列化格式，例如 XML 或 JSON。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T22:50:45.573

您可以使用 XStream 将对象序列化为 XML/JSON。 [http://x-stream.github.io/](http://x-stream.github.io/) 然后传递它。

# javascript - 如何选择两个元素之间的所有元素

> ID：12794874
> 
> 赞同：5
> 
> 时间：2012-10-09T07:25:12.367
> 
> 标签：javascript, jquery

我想选择两个给定元素之间的所有元素。我有这样的html...

```
<h2>This is firsty</h2>
<p>Some para</p>
<ul>
  <li>list items</li>
  <li>list items</li>
  <li>list items</li>
  <li>list items</li>
  <li>list items</li>
</ul>
<h2>Secondy</h2>
<p>More text</p> 
```

我想选择从 first`h2`到 second的所有内容`h2`，所以我可以将它包装在 a 中`div`，最后将所有部分都放在它们自己的包装器中。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:26:23.563

我建议：

```
var elems = $('h2:first').nextUntil('h2'); 
```

或者，要执行实际的包装：

```
$('h2:first').nextUntil('h2').wrapAll('<div />'); 
```

更一般地说：

```
$('h2').each(
    function(i,e) {
        $(this)
            .nextUntil(this.tagName)
            .wrapAll('<div />');
    });​ 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/dahD4/1/)。

为了包含起始元素，只需将`andSelf()`其用作选择器链的一部分：

```
$('h2:first').nextUntil('h2').andSelf().wrapAll('<div />'); 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/dahD4/)。

参考：

*   [`andSelf()`](http://api.jquery.com/andSelf/).
*   [`nextUntil()`](http://api.jquery.com/nextUntil/).
*   [`wrapAll()`](http://api.jquery.com/wrapAll/).

# opencv - 如何验证网络摄像头校准的正确性？

> ID：12794876
> 
> 赞同：66
> 
> 时间：2012-10-09T07:25:19.117
> 
> 标签：opencv, computer-vision, camera-calibration

我对相机校准技术完全陌生……我正在使用 OpenCV 棋盘技术……我正在使用 Quantum 的网络摄像头……

这是我的观察和步骤..

1.  我保持每个国际象棋正方形边 = 3.5 厘米。它是一个 7 x 5 棋盘，内有**6 x 4 个**角。我在距网络摄像头 1 到 1.5 m 的距离处总共拍摄了 10 张不同视图/姿势的图像。
2.  我正在按照**Bradski的****Learning OpenCV**中的 C 代码进行校准。我的校准代码是

     **```
    cvCalibrateCamera2(object_points,image_points,point_counts,cvSize(640,480),intrinsic_matrix,distortion_coeffs,NULL,NULL,CV_CALIB_FIX_ASPECT_RATIO); 
    ```** 
***   在调用此函数之前，我将沿固有矩阵的对角线的第一个和第二个元素设为一个，以保持焦距比恒定并使用`CV_CALIB_FIX_ASPECT_RATIO`

    *   随着棋盘距离的变化，和`fx`几乎等于1。当我改变距离时，和的值在200到400之间。和在300到700之间。`fy``fx:fy``cx``cy``fx``fy`

    *   目前我已经把所有的失真系数都归零了，因为我没有得到包括失真系数在内的好结果。我的原始图像看起来比未失真的图像帅！** 

 **我是否正确进行校准？`CV_CALIB_FIX_ASPECT_RATIO`我应该使用除?之外的任何其他选项。如果是，是哪一个？

* * *

## 回答 #1

> 赞同：143
> 
> 时间：2012-10-10T13:55:19.337

嗯，你在找“帅”还是“准”？

相机校准是计算机视觉中为数不多的可以直接用物理术语量化精度并通过物理实验验证的主题之一。通常的教训是（a）您的数字与您投入的努力（和金钱）一样好，并且（b）真正的准确性（与想象的相反）是昂贵的，因此您应该提前弄清楚您的应用程序确实需要精确度。

如果您查看即使非常便宜的镜头/传感器组合（百万像素及以上）的几何规格，很明显亚亚毫米校准精度在理论上可以在桌面空间内实现。只需计算（从相机传感器的规格表）跨越一个像素的立体角 - 你会被你钱包里的空间分辨率所迷惑。然而，实际上要达到接近理论精度的可重复性需要工作。

以下是一些建议（来自个人经验），可帮助您获得良好的国产设备校准体验。

1.  如果您的方法使用平面目标（“棋盘”或类似目标），请制造一个好的目标。选择一个非常平坦的背衬（对于您提到的 5 毫米厚或更大的窗户玻璃尺寸非常好，尽管显然很脆弱）。验证其对另一个边缘（或者，更好的是激光束）的平整度。在不易拉伸的厚纸上打印图案。在胶合前将其打印在背衬上，并验证方形边确实非常接近正交。廉价的喷墨或激光打印机并非专为严格的几何精度而设计，不要盲目相信它们。最佳做法是使用专业的打印店（即使是 Kinko 的打印机也会比大多数家用打印机做得更好）。然后非常小心地将图案贴在背衬上，使用喷胶并用软布慢慢擦拭以避免气泡和拉伸。等待一天或更长时间，让胶水固化，胶纸应力达到长期稳定状态。最后*用好的卡尺和放大镜*测量拐角位置。*您可能会得到一个“平均”平方大小的数字，但它必须是实际测量的平均值，而不是希望-n-祈祷的平均值。最佳实践是实际使用测量位置表。*

**   注意您的温度和湿度变化：纸张从空气中吸收水分，背衬膨胀和收缩。令人惊讶的是，您可以找到许多文章报告亚毫米校准精度，而无需引用环境条件（或目标对它们的响应）。不用说，他们大多是垃圾。与普通金属板相比，玻璃的较低温度膨胀系数是首选前者作为背衬的另一个原因。

    *   不用说，您必须*禁用相机的自动对焦*功能，如果它有：对焦会物理移动镜头内的一块或多块玻璃，从而（轻微）改变视野和（通常很多）镜头畸变和主点。

    *   将相机放在不易振动的稳定支架上。根据应用程序的需要（而不是校准 - 校准程序和目标必须针对应用程序的需求进行设计，而不是相反），对焦（和 f-stop 镜头，如果它有光圈的话）。之后甚至不要*想*触摸相机或镜头。如果可能，请避免使用“复杂”镜头——例如变焦镜头或广角镜头。例如，变形镜头需要的模型比现有的 OpenCV 提供的模型要复杂得多。

    *   进行大量测量和图片。每个图像需要数百个测量值（角）和数十个图像。在数据方面，越多越好。10x10 棋盘是我会考虑的绝对最小值。我通常以 20x20 的速度工作。

    *   **拍照时跨越校准体积**。理想情况下，您希望您的测量值均匀分布在您将使用的空间体积中。最重要的是，确保在某些图片中**相对于焦轴显着倾斜目标**- 校准您需要“看到”一些真实透视缩短的焦距。为获得最佳效果，请使用可重复的机械夹具来移动目标。一个好的是单轴转盘，它会给你一个很好的目标运动先验模型。

    *   拍照时尽量减少振动和相关的运动模糊。

    *   使用良好的照明。真的。令人惊讶的是，我经常看到人们在游戏后期意识到您需要大量的光子来校准相机:-) 使用漫反射环境照明，并将其从视野两侧的白卡上反射回来。

    *   观察你的角落提取代码在做什么。在图像顶部绘制检测到的角位置（例如在 Matlab 或 Octave 中），并判断它们的质量。使用严格的阈值及早去除异常值比信任捆绑调整代码中的鲁棒性更好。

    *   如果可以的话，约束你的模型。例如，如果您没有充分的理由相信您的镜头明显偏离图像中心，请不要尝试估计主要点，只需在第一次尝试时将其固定在图像中心即可。主点位置通常很难观察到，因为它本质上*与*非线性失真的中心以及与目标到相机平移的图像平面平行的分量*混淆。*要做到这一点，需要一个精心设计的程序，该程序产生三个或更多独立的场景消失点，*并且*一个很好的包围非线性失真。同样，除非您有理由怀疑镜头焦轴确实相对于传感器平面倾斜，否则请将相机矩阵的 (1,2) 分量固定为零。一般来说，请使用满足您的测量*和*应用需求的最简单模型（这就是 Ockam 的剃须刀）。

    *   当您从优化器获得具有足够低 RMS 误差的校准解决方案时（通常为十分之几像素，另请参见下面 Josh 的答案），绘制残差的 XY 模式（predicted_xy - 所有图像中每个角的测量 xy）**看看它是否是以 (0, 0) 为中心的圆形**云。异常值的“团块”或残差云的不圆度正在发出警报，表明存在非常错误的情况 - 可能是由于角检测或匹配不良或镜头畸变模型不合适而导致的异常值。

    *   拍摄额外的图像以验证解决方案的准确性 - 使用它们来验证镜头畸变是否实际被消除，并且校准模型预测的平面单应性实际上与从测量角恢复的平面单应性相匹配。* 

 ** * *

## 回答 #2

> 赞同：43
> 
> 时间：2014-06-09T11:33:33.023

这是一个相当晚的答案，但对于来自谷歌的人来说：

检查校准精度的正确方法是**使用 OpenCV 提供的重投影误差**。我不确定为什么在答案或评论中没有提到这一点，您不需要手动计算 - 它是`calibrateCamera`. 在 Python 中，它是第一个返回值（后面是相机矩阵等）。

重投影误差是使用固有系数投影点的位置与它们在真实图像中的位置之间的 RMS 误差。 **通常，您应该期望 RMS 误差小于 0.5 像素**——我通常可以使用机器视觉相机获得大约 0.1 像素。许多计算机视觉论文中都使用了重投影误差，没有一种更容易或更准确的方法来确定您的校准有多好。

除非您有立体系统，否则您只能确定某物在 3D 空间中的位置，直到一条射线，而不是一个点。然而，由于可以计算出每个平面校准图像的姿态，因此可以计算出每个棋盘角应该落在图像传感器上的位置。校准过程（或多或少）试图找出这些光线落在哪里，并将所有不同校准图像的误差最小化。在 Zhang 的原始论文和随后的评估中，大约 10-15 张图像似乎就足够了；在这一点上，错误并没有随着添加更多图像而显着降低。

其他软件包（如 Matlab）将为您提供每个固有的误差估计，例如焦距、投影中心。我一直无法让 OpenCV 吐出这些信息，但也许它就在某个地方。相机校准现在在 Matlab 2014a 中是原生的，但您仍然可以使用非常受计算机视觉用户欢迎的相机校准工具箱。

[http://www.vision.caltech.edu/bouguetj/calib_doc/](http://www.vision.caltech.edu/bouguetj/calib_doc/)

目视检查是必要的，但在处理结果时还不够。寻找最简单的事情是，**世界上的直线在您未失真的图像中变得笔直**。除此之外，仅通过查看输出图像就无法真正确定您的相机是否校准良好。

Francesco提供的套路很好，照着做。我使用架板作为我的飞机，图案印在海报纸上。确保图像曝光良好 - 避免镜面反射！我使用标准的 8x6 模式，我尝试过更密集的模式，但我还没有看到准确性的提高，以至于它有所作为。

我认为这个答案对于大多数想要校准相机的人来说应该足够了——实际上，除非你试图校准像鱼眼这样的异国情调的东西，或者你出于教育原因这样做，OpenCV/Matlab 就是你所需要的。张的方法被认为足够好，几乎所有计算机视觉研究人员都在使用它，其中大多数人要么使用 Bouguet 的工具箱，要么使用 OpenCV。***

# javascript - 在 Titanium Mobile 中从 TableView 打开新窗口

> ID：12794877
> 
> 赞同：0
> 
> 时间：2012-10-09T07:25:25.020
> 
> 标签：javascript, titanium, titanium-mobile

我在 Titan Mobile 中创建了一些应用程序，用于在用户单击 TableView 中的一行时打开一个窗口。

这是我的代码：

菜单.js

```
function Menu() {
    Titanium.UI.setBackgroundColor('#000');

    var masterMenu = Titanium.UI.createTabGroup();

    var winMenu1 = Titanium.UI.createWindow({  
        title:'Menu 1',
        backgroundColor:'#fff'
    });
    var tabMenu1 = Titanium.UI.createTab({  
        icon:'KS_nav_views.png',
        title:'Menu 1',
        window:winMenu1
    });

    var menuData1 = [
        {title: 'Account', url: 'Account.js'}, 
        {title: 'Meetings', url: 'Meetings.js'} 
    ];

    var menuList1 = Ti.UI.createTableView({
      data: menuData1
    });

    menuList1.addEventListener('click', function(e) { 
        var newWindow = Titanium.UI.createWindow({ 
            url:e.rowData.url,
            title:e.rowData.title 
        }); 
        newWindow.open({
            animated:true
        });
    });

    winMenu1.add(menuList1);

    var winMenu2 = Titanium.UI.createWindow({  
        title:'Menu 2',
        backgroundColor:'#fff'
    });
    var tabMenu2 = Titanium.UI.createTab({  
        icon:'KS_nav_ui.png',
        title:'Menu 2',
        window:winMenu2
    });

    masterMenu.addTab(tabMenu1);  
    masterMenu.addTab(tabMenu2);  

    return masterMenu;
}

module.exports = Menu; 
```

当用户单击某行时，它将根据 menuData1 上的 url 重定向并打开新窗口。例如，我点击了 Account 行，它应该被重定向到 Account.js。这是我的 Account.js 代码：

```
var win = Ti.UI.currentWindow;

var label1 = Titanium.UI.createLabel({
    color:'#999',
    text:'Close',
    font:{fontSize:20,fontFamily:'Helvetica Neue'},
    textAlign:'center',
    width:'auto'
});

label1.addEventListener('click', function() {
    win.close();
});

win.add(label1); 
```

主要问题是 Account.js 中的 label1 未在新窗口中打开但显示在菜单列表中。有谁知道如何在新窗口中打开 Account.js？先谢谢了。。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:53:55.720

尝试为您的窗口设置 backgroundColor：

```
menuList1.addEventListener('click', function(e) { 
    var newWindow = Titanium.UI.createWindow({ 
        backgroundColor: '#fff',
        url:e.rowData.url,
        title:e.rowData.title 
    }); 
    newWindow.open({
        animated:true
    });
}); 
```

# .net - CLR 集成以返回结果集

> ID：12794882
> 
> 赞同：0
> 
> 时间：2012-10-09T07:25:42.120
> 
> 标签：.net, sql-server-2008, .net-assembly, clrstoredprocedure

我正在将 CLR 与 SQL Server 2008 集成，它已成功配置。但我在这个 SqlProcedure 中调用了一个 web 服务。

这是代码，我试图返回 xml 响应。

```
[Microsoft.SqlServer.Server.SqlProcedure]
public static void SendReceiveAsXML(SqlString request)
{
    SqlPipe sp;
    sp = SqlContext.Pipe;
    MsgWS obj = new MsgWS();
    string s = obj.SendAndReceiveAsXml(request.ToString());

    sp.Send(s);

} 
```

可能存在“最大长度超出异常”的可能性。为了防止这种情况，我需要以阅读器的身份检索响应，这是我与 sql 集成的最终组件的要求。

![在此处输入图像描述](../Images/8b41eea9b2d82483b1e5158e9923f8ae.png)

欢迎任何建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:37:06.773

[`Pipe.Send(string)`](http://msdn.microsoft.com/en-us/library/ms127319.aspx)用于将消息返回给客户端。对于如此大的一段文本，您可能应该创建一个[`SqlDataRecord`](http://msdn.microsoft.com/en-us/library/microsoft.sqlserver.server.sqldatarecord.aspx), 以将其作为结果集返回给客户端 - 您可以在其中有效地将其作为`varchar(max)`列返回。

* * *

因此，您可以将方法的结尾编辑为：

```
string s = obj.SendAndReceiveAsXml(request.ToString());

var md = new SqlMetaData("ColumnA", SqlDbType.VarChar, -1);
var row = new SqlDataRecord(md);
row.SetString(0, s);

sp.Send(row); 
```

# java - org.xml.sax.SAXException：反序列化时在数组元素中找到字符数据

> ID：12794883
> 
> 赞同：0
> 
> 时间：2012-10-09T07:25:44.610
> 
> 标签：java, mysql, web-services

我有下一个错误，为什么会发生这种情况？这就是痕迹。我正在使用 Web 服务来攻击 mysql 数据库

```
org.xml.sax.SAXException: Found character data inside an array element while deserializing
org.apache.axis.AxisFault.makeFault(AxisFault.java:101)
org.apache.axis.client.Call.invoke(Call.java:2470)
org.apache.axis.client.Call.invoke(Call.java:2366)
org.apache.axis.client.Call.invoke(Call.java:1812)
es.uniway.wscloud.WscloudImplSoapBindingStub.consultarCuentas(WscloudImplSoapBindingStub.java:753)
es.uniway.action.cuentas.CuentasAction.execute(CuentasAction.java:50)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
java.lang.reflect.Method.invoke(Method.java:601)
com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:453)
com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:292)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:255)
org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:510)
org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)

causa raíz 

org.xml.sax.SAXException: Found character data inside an array element while deserializing
org.apache.axis.encoding.ser.ArrayDeserializer.characters(ArrayDeserializer.java:502)
org.apache.axis.encoding.DeserializationContext.characters(DeserializationContext.java:966)
org.apache.axis.message.SAX2EventRecorder.replay(SAX2EventRecorder.java:177)
org.apache.axis.message.MessageElement.publishToHandler(MessageElement.java:1141)
org.apache.axis.message.RPCElement.deserialize(RPCElement.java:236)
org.apache.axis.message.RPCElement.getParams(RPCElement.java:384)
org.apache.axis.client.Call.invoke(Call.java:2467)
org.apache.axis.client.Call.invoke(Call.java:2366)
org.apache.axis.client.Call.invoke(Call.java:1812)
es.uniway.wscloud.WscloudImplSoapBindingStub.consultarCuentas(WscloudImplSoapBindingStub.java:753)
es.uniway.action.cuentas.CuentasAction.execute(CuentasAction.java:50)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
java.lang.reflect.Method.invoke(Method.java:601)
com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:453)
com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:292)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:255)
org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:510)
org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434) 
```

nota La traza completa de la causa de este error se encuentra en los archivos de diario de Apache Tomcat/7.0.12。

来自 ws 的引发这种情况的方法是：

```
public String[][] consultarCuentas(int id_tipo_cuenta){  //Acabar método para login

    String [][] params = null; 

    try {
        this.conexion=conectar();
        System.out.println("Vamos a usar el id tipo cuenta:"+id_tipo_cuenta);
        int id_tipo_cuenta_padre=id_tipo_cuenta-1;

        SQL="SELECT t1.id_cuenta                                             as id_cuenta,"+     
                "t1.n_cuenta                                              as n_cuenta,"+
           "SUBSTRING_INDEX(t1.n_cuenta,'.',"+id_tipo_cuenta_padre+")                       as n_cuenta_padre,"+
           "t1.nombre_cuenta                                         as nombre,"+         
           "(SELECT tt1.cif"+
           "  FROM cuentas_rs tt1"+
            " WHERE tt1.id_cuenta = t1.id_cuenta"+
            " ORDER BY tt1.f_inicio DESC "+
            " LIMIT 1)                                                as cif,"+                          
            "(SELECT tt2.porcentaje "+
            " FROM impuestos tt2"+
            " WHERE tt2.id_pais = (SELECT tt1.cif"+
            "                     FROM cuentas_rs tt1"+
            "                     WHERE tt1.id_cuenta = t1.id_cuenta"+
            "                     ORDER BY tt1.f_inicio DESC"+
            "                     LIMIT 1)"+
            " ORDER BY tt2.f_inicio DESC "+
            "LIMIT 1)                                                as impuesto,"+
           "t1.descuento                                             as descuento,"+      
           "t1.id_tipo_cuenta                                        as nivel,"+          
           "t1.borrado                                               as borrado,"+        
           "t1.cod_cliente                                           as cod_cliente "+     
           "FROM cuentas t1 "+
           "LEFT OUTER JOIN cuentas_rs t2 ON t2.id_cuenta = t1.id_cuenta"+ 
           " WHERE t1.id_esquema_asociado = 1"+  
           " AND t1.id_proveedor_cloud = 1"+
           " AND SUBSTRING(t1.n_cuenta,1,LENGTH(001.00001))"+
           " AND t1.id_tipo_cuenta =("+id_tipo_cuenta+")"+
           " AND t1.borrado = false"+         
           " AND t1.nombre_cuenta LIKE '%'" +         
           " ORDER BY t1.nombre_cuenta ASC";

        this.stm    = this.conexion.prepareStatement(SQL);

        this.rs =  this.pstm.executeQuery();

        this.rs.last(); 
        int numRows = this.rs.getRow(); 
        this.rs.beforeFirst();
        System.out.println("Vamos a hacer:"+numRows);
        params = new String[numRows][10];

        int i=0;
         while(this.rs.next()){

                params[i][0]=String.valueOf(this.rs.getInt("id_cuenta"));
                params[i][1]=this.rs.getString("n_cuenta");
                params[i][2]=this.rs.getString("n_cuenta_padre");
                params[i][3]=this.rs.getString("nombre");
                params[i][4]=this.rs.getString("cif");
                params[i][5]=String.valueOf(this.rs.getDouble("impuesto"));
                params[i][6]=String.valueOf(this.rs.getDouble("descuento"));
                params[i][7]=String.valueOf(this.rs.getInt("nivel"));
                params[i][8]=String.valueOf(this.rs.getBoolean("borrado"));
                params[i][9]=this.rs.getString("cod_cliente");

            i++;        

            }
         return params;  
    } catch (SQLException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    return params;  

} 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-26T11:25:24.860

请尝试使用文档/文字而不是文档/文字（已包装）生成 Web 服务。这将解决您的问题。

# c# - 付款和付款

> ID：12794888
> 
> 赞同：0
> 
> 时间：2012-10-09T07:26:14.577
> 
> 标签：c#, asp.net-mvc, payment-gateway, payment-processing

我需要接收并作为回报付款（本质上是将收到的部分付款转发给另一方）。

收到付款很常见。有很多服务可以做到这一点：CheddarGetter、PayPal、Chargify 等……

反面呢？是否有一个系统可以让网站从会员那里接收付款，然后立即将部分付款发送给另一个会员？

如果没有……这是怎么做到的？

谢谢你。

（PS，如果有帮助的话......我正在使用 RavenDB 用 ASP.NET MVC、C# 开发网站）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:56:06.170

例如，PayPal 可以让您根据需要自动从您的帐户中付款。我不知道其他人。

请注意，您可能不想在收到钱后立即自动执行付款。这是等待发生的安全风险。相反，我会将两者分离。根据用户的输入接收付款，但将资金转出作为定期运行的批处理过程的一部分，希望在完全不同的服务器上。

这样，如果有人破坏了您的网络服务器，他们仍然无法从您的帐户中取款。您还可以更好地控制资金流出。

一旦钱从您的帐户中取出，它就从您的帐户中取出，并且无法取回。如果您需要将钱还给某人，解决此问题的唯一方法是从自己的口袋里掏钱。所以在这里练习正确的程序。

# java - 在多线程java程序中不断监控动态更新的文件

> ID：12794899
> 
> 赞同：0
> 
> 时间：2012-10-09T07:26:46.300
> 
> 标签：java, multithreading, parallel-processing

我想知道实现以下内容的有效（在时间和内存方面）java代码是什么：

我需要一个java程序来不断检查两个文件，第一个文件让我们称之为A将不断添加产品名称，另一个文件B将是来自不同来源的相应价格。这两个文件都在动态更新。程序要做的是，每当将产品添加到 A 时，它都会将该词添加到列表中，并且只要没有添加新产品，它就会认为从那时起添加到文件 B 的每个新价格都是价格的相应产品。然后它将创建产品和价格的映射。

所以，这是文件

## 一种

MacBook Pro

戴尔 XPS

联想

## 乙

（Macbook pro 在文件 A 中添加）

100

200

（戴尔 XPS 添加到文件 A 中）

300

400

（联想在A中添加）

500

600

700

所以它会创建一个映射，比如，

Macbook Pro -> 100,200

戴尔 XPS -> 300、400

联想 -> 500、600、700

上面的例子说明了我想要实现的目标。到目前为止，我的想法是，保持两个线程监视每个文件，每当将产品添加到 A 时从 B 开始计数（标记 B 中的先前位置），每当将新产品添加到 A 时，从 B 从先前标记的位置开始。这是一个正确的方法吗？我怎样才能不断地阅读动态文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:34:50.227

我会使用[Apache Commons-IO FileAlterationObserver](http://commons.apache.org/io/api-2.4/org/apache/commons/io/monitor/FileAlterationObserver.html)，这样您就可以使用在文件更改时收到通知的侦听器。

# symfony - 我不明白如何为索引页面配置我的 security.yml 文件

> ID：12794901
> 
> 赞同：1
> 
> 时间：2012-10-09T07:26:52.050
> 
> 标签：symfony, firewall, fosuserbundle

我使用所需的身份验证（使用 FOSUserBundle）开发了我的 symfony2 网站。现在我决定为匿名访问者添加另外 2 个例外：索引页面 ("/") 和联系表单 ("/contact")。

当我修改我的 security.yml 时，这些会被破坏：

*   在我的 twig 联系表单页面中，我所有的“{% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}”都不再起作用了。真的就像我不再经过身份验证一样。
*   在我的树枝索引页面中，我也有同样的问题。

这是我的security.yml。我知道这可能是微不足道的，但我没有在文档中找到它，在那里我可以通过 security.yml 文件获得有关“让我与经过身份验证的会话生活保持联系”的更多信息。我尝试过的一切都不起作用。

```
security:
    encoders:
        "FOS\UserBundle\Model\UserInterface": sha512

    role_hierarchy:
        ROLE_AUTHOR:            ROLE_USER
        ROLE_ADMIN:             [ROLE_USER, ROLE_AUTHOR]

    providers:
        fos_userbundle:
            id: fos_user.user_manager

    firewalls:
        dev:
            pattern:  ^/(_(profiler|wdt)|css|images|js)/
            security: false

        login:
            pattern:   ^/(login$|register|resetting)
            anonymous: true

        token:
            pattern:    ^/administration/create-user/confirmation-token/
            anonymous: true

        #this is where it fail....
        contact:
            pattern:    ^/contact$
            anonymous: true

        index:
            pattern:    ^/$
            anonymous: true

        # Main Firewall
        main:
            pattern: ^/+
            form_login:
                provider:    fos_userbundle
                remember_me: true
            remember_me:
                key:         %secret%
            anonymous:       false
            logout:          true
            #http_basic:
            #    realm: "Secured Demo Area"

    access_control:
        #- { path: ^/login, roles: IS_AUTHENTICATED_ANONYMOUSLY, requires_channel: https }
        #- { path: ^/_internal, roles: IS_AUTHENTICATED_ANONYMOUSLY, ip: 127.0.0.1 } 
```

先感谢您

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:55:25.407

你做错了:) 你只需要几个防火墙。不是每个 url 的每个防火墙。

这样做：

```
firewalls:
    main:
        pattern:        ^/
        switch_user:    true
        anonymous:      ~
        form_login:
            provider:   fos_userbundle
            login_path: /login
        logout:
            path:       /logout
access_control:
    - { path: ^/login$, role: IS_AUTHENTICATED_ANONYMOUSLY }
    - { path: ^/, role: IS_AUTHENTICATED_ANONYMOUSLY, requires_channel: https } 
```

接下来将另一个项目添加到 access_control。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T12:30:19.443

您不必为联系人和索引创建不同的防火墙，而是必须将它们添加到`access_control`，因为它们应该由与应用程序的其余部分相同的防火墙处理 ( `main`)，它们的区别仅在于您要修改哪些角色可以访问它们：

```
main:
    pattern:        ^/
    ...
access_control:
    - { path: ^/$, roles: IS_AUTHENTICATED_ANONYMOUSLY }
    - { path: ^/contact$, roles: IS_AUTHENTICATED_ANONYMOUSLY }
    #- { path: ^/login, roles: IS_AUTHENTICATED_ANONYMOUSLY, requires_channel: https }
    #- { path: ^/_internal, roles: IS_AUTHENTICATED_ANONYMOUSLY, ip: 127.0.0.1 } 
```

编辑澄清：像你一样指定不同的防火墙，将这些页面放在你当前的安全上下文之外，因此从防火墙主登录不适用于这些防火墙。

# windows-8 - 启动/停止罗盘传感器

> ID：12794906
> 
> 赞同：0
> 
> 时间：2012-10-09T07:27:05.177
> 
> 标签：windows-8, microsoft-metro, compass-geolocation

在请求罗盘传感器后，是否有任何选项可以启动/停止罗盘。

我会停止接收来自指南针的事件以节省电池，但没有找到这样的选项（没有处理，没有关闭，没有停止，就像我们对 windows phone 所做的那样）

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T09:23:35.147

如果您使用的是 C#，您可以取消订阅该事件以停止接收来自指南针的通知。我认为不可能完全关闭指南针，因为其他应用程序可能正在使用它

订阅：

```
 _compass.ReadingChanged += new TypedEventHandler<Compass, CompassReadingChangedEventArgs>(ReadingChanged); 
```

退订：

```
 _compass.ReadingChanged -= ReadingChanged; 
```

# java - solr不能部署在tomcat6

> ID：12794910
> 
> 赞同：0
> 
> 时间：2012-10-09T07:27:16.090
> 
> 标签：java, tomcat, solr, tomcat6

我在 Ubuntu 上安装并运行了 tomcat6。当我复制`solr.war`到`/var/lib/tomcat6/webapps/solr.war`时，`/solr`路径出现在 Tomcat 管理器中。

**问题：**但是，当我添加`solr.xml`到时`/var/lib/tomcat6/conf/Catalina/localhost/solr.xml`，`/solr`路径在 tomcat 管理器中消失了。调查`catalina.out`：

```
WARNING: Problem with directory [/usr/share/tomcat6/server/classes], exists: [false], isDirectory: [false], canRead: [false]
Oct 9, 2012 7:24:16 AM org.apache.catalina.startup.ClassLoaderFactory validateFile
WARNING: Problem with directory [/usr/share/tomcat6/server], exists: [false], isDirectory: [false], canRead: [false]
Oct 9, 2012 7:24:16 AM org.apache.catalina.startup.ClassLoaderFactory validateFile
WARNING: Problem with directory [/usr/share/tomcat6/shared/classes], exists: [false], isDirectory: [false], canRead: [false]
Oct 9, 2012 7:24:16 AM org.apache.catalina.startup.ClassLoaderFactory validateFile
WARNING: Problem with directory [/usr/share/tomcat6/shared], exists: [false], isDirectory: [false], canRead: [false]
Oct 9, 2012 7:24:17 AM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http-8080
Oct 9, 2012 7:24:17 AM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 496 ms
Oct 9, 2012 7:24:17 AM org.apache.catalina.core.StandardService start
INFO: Starting service Catalina
Oct 9, 2012 7:24:17 AM org.apache.catalina.core.StandardEngine start
INFO: Starting Servlet Engine: Apache Tomcat/6.0.35
Oct 9, 2012 7:24:17 AM org.apache.catalina.startup.HostConfig deployDescriptor
INFO: Deploying configuration descriptor host-manager.xml
Oct 9, 2012 7:24:17 AM org.apache.catalina.startup.HostConfig deployDescriptor
INFO: Deploying configuration descriptor manager.xml
Oct 9, 2012 7:24:17 AM org.apache.catalina.startup.HostConfig deployDescriptor
INFO: Deploying configuration descriptor ROOT.xml
Oct 9, 2012 7:24:17 AM org.apache.catalina.startup.HostConfig deployWAR
INFO: Deploying web application archive solr.war
Oct 9, 2012 7:24:17 AM org.apache.catalina.startup.ContextConfig init
SEVERE: Exception fixing docBase for context [/solr] 
java.util.zip.ZipException: error in opening zip file
    at java.util.zip.ZipFile.open(Native Method)
    at java.util.zip.ZipFile.<init>(ZipFile.java:131)
    at java.util.jar.JarFile.<init>(JarFile.java:150)
    at java.util.jar.JarFile.<init>(JarFile.java:87)
    at sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:90)
    at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:66)
    at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:86)
    at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
    at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89)
    at org.apache.catalina.startup.ExpandWar.expand(ExpandWar.java:148)
    at org.apache.catalina.startup.ContextConfig.fixDocBase(ContextConfig.java:886)
    at org.apache.catalina.startup.ContextConfig.init(ContextConfig.java:1021)
    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:279)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.StandardContext.init(StandardContext.java:5707)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4449)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)
    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:616)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Oct 9, 2012 7:24:17 AM org.apache.catalina.core.StandardContext resourcesStart
SEVERE: Error starting static Resources
java.lang.IllegalArgumentException: Invalid or unreadable WAR file : /var/lib/tomcat6/webapps/solr.war
    at org.apache.naming.resources.WARDirContext.setDocBase(WARDirContext.java:130)
    at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4320)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4489)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)
    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:616)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Oct 9, 2012 7:24:17 AM org.apache.catalina.core.StandardContext start
SEVERE: Error in resourceStart()
Oct 9, 2012 7:24:17 AM org.apache.catalina.core.StandardContext start
SEVERE: Error getConfigured
Oct 9, 2012 7:24:17 AM org.apache.catalina.core.StandardContext start
SEVERE: Context [/solr] startup failed due to previous errors
Oct 9, 2012 7:24:17 AM org.apache.catalina.core.StandardContext stop
INFO: Container org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/solr] has not been started 
```

**Solr.xml**

```
<Context path="/solr" docBase="/usr/share/solr"
   debug="0" privileged="true" allowLinking="true" crossContext="true">
  <!-- make symlinks work in Tomcat -->
  <Resources className="org.apache.naming.resources.FileDirContext" allowLinking="true" />

  <Environment name="solr/home" type="java.lang.String" value="/usr/share/solr" override="true" />
</Context> 
```

知道似乎是什么问题吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:42:52.497

如果您使用上下文来更改任何 web 应用程序的 docBase（更不用说 Solr），您需要确保这些目录和文件存在。要么将它们移到你想要指向的地方，要么在那里重新创建它们。

您更改 docBase 的原因是什么？将其与 Tomcat 安装分开。如果没有，我会把它留在那里，如果您希望 Solr 引用它的数据目录以进行索引和数据，您可以将其作为系统参数或 solrconfig.xml 中的更改传递

# ruby - MongoDB 关于 collection.insert 和数据大小的困境

> ID：12794914
> 
> 赞同：0
> 
> 时间：2012-10-09T07:27:46.387
> 
> 标签：ruby, mongodb, mongoid, mongodb-ruby

我正在做这个项目，我必须在 MongoDB 数据库上执行批量插入

我知道 MongoDB 是一个文档数据库，每个文档的大小都有限制，如此处[所示](http://www.mongodb.org/display/DOCS/Documents)

现在批量插入代码看起来像这样

```
RockBand.collection.insert(mass_data) 
```

`mass_data`是这样的数组哈希

```
[
  {
   name: "LedZepplin",
   member : 4, 
   studio_album : 10,
   ... 
   ...
   ...
  },
  { 
   name: "Linkin Park",
   member: 5,
   studio_album: 7,
   ...
   ... 
   ...
  },
  {
   ... 
   ...
   },
  ...
  ...
 ] 
```

数组的总**长度**为 500K - 100K

我确定数组中没有上述哈希值（基本上是 MongoDB 中的文档）的大小为 16MB

所以每当我表演这个

```
RockBand.collection.insert(mass_data) 
```

为什么它一直给我 16MB 限制错误，如上所述我很确定数组中存在的上述文档（即散列）中没有一个不称重是 16MB 个体。

那么为什么文档的数据大小错误超过

是否应该考虑将整个数组视为单个文档

数组的每个散列作为一个单独的文档

任何人都可以建议

顺便说一句，我在 MongoDB rub​​y​​ 驱动程序之上使用 Mongoid 驱动程序来连接到 MongoDB

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:31:50.660

当您插入这样的数组时，您将整个数组作为单个文档插入。您必须将每个对象插入数组中，就像使用单独的插入命令一样。

# .net - wpf 动画和间接定位：无法解析所有属性引用

> ID：12794918
> 
> 赞同：1
> 
> 时间：2012-10-09T07:27:55.767
> 
> 标签：.net, wpf, animation

我在这里有点困惑，所以请帮助我。

我有一个简单的 wpf 动画：

```
<DropShadowEffect Color="Transparent" ShadowDepth="0" Opacity="0.75" x:Key="Shiny" x:Shared="False"/>

<Storyboard x:Key="ShinyAnim" x:Shared="False">
    <ColorAnimation From="Transparent" To="Red" Duration="0:0:1" Storyboard.TargetProperty="(Effect).Color" />
    <DoubleAnimationUsingKeyFrames RepeatBehavior="Forever" Storyboard.TargetProperty="(Effect).BlurRadius" AutoReverse="True">
        <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:0.15" Value="2"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="3"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:0.45" Value="4"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:0.6" Value="5"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:0.75" Value="6"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:0.9" Value="7"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:1.05" Value="8"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="9"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:1.35" Value="10"/>
        <DiscreteDoubleKeyFrame KeyTime="0:0:1.5" Value="11"/>
    </DoubleAnimationUsingKeyFrames>
</Storyboard>

<Style x:Key="AnimShape" TargetType="Shape">
<Setter Property="Stroke" Value="DarkGray"/>
<Setter Property="Effect" Value="{StaticResource Shiny}/>
<Style.Triggers>
    <DataTrigger Binding="{Binding HasChannelWarnings}" Value="True">
        <Setter Property="Stroke" Value="Red"/>
        <DataTrigger.EnterActions>
            <BeginStoryboard x:Name="ChannelAnim" Storyboard="{StaticResource ShinyAnim}"/>
        </DataTrigger.EnterActions>
        <DataTrigger.ExitActions>
            <RemoveStoryboard BeginStoryboardName="ChannelAnim"/>
        </DataTrigger.ExitActions>
    </DataTrigger>
</Style.Triggers>
</Style> 
```

如果我使用这种样式加载控件，而 HasChannelWarnings==false - 一切正常：当属性更改时 - 我得到闪亮的动画。但是，如果我加载控件，当 HasChannelWarnings==true 我得到一个错误：

无法解析属性路径“(Effect).Color”中的所有属性引用。验证适用的对象是否支持这些属性。

有人可以解释一下发生了什么吗？触发器会在效果器之前触发吗？如果是这样，如何正确应用此动画？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:46:27.070

我通过将触发器更改为多触发器解决了这个问题

```
<MultiDataTrigger.Conditions>
    <Condition Binding="{Binding HasChannelWarnings}" Value="True">
    <Condition Binding="{Binding Effect, RelativeSource={RelativeSource Mode=Self}, Converter={Converters:IsNullConverter}}" Value="False"/>
</MultiDataTrigger.Conditions> 
```

但我真的不喜欢这个解决方案。肯定有更好的办法。

# objective-c - 如何识别摩擦手势？

> ID：12794920
> 
> 赞同：0
> 
> 时间：2012-10-09T07:27:59.013
> 
> 标签：objective-c, xcode, touch, uigesturerecognizer, swipe

我想知道如何为摩擦手势创建某种类型的识别器。你可以在会说话的汤姆猫应用程序中看到这个手势，我很想在我的应用程序克隆中使用这个手势。你能指导我一点吗？

据我了解，它可能是向上滑动和向下滑动，但是我不知道如何像在会说话的汤姆猫中那样实现它——也就是说，在我摩擦角色的同时播放动画和声音。（我知道如何播放声音和动画，只是不知道如何用这个手势来实现）

我也不确定，使用 UIGestureRecognizer 或 touchesBegan、Moved、Ended 等是否更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:27:23.043

你可以尝试这样的事情：

首先在您设置视图的位置添加手势识别器。

```
[myView addGestureRecognizer:[[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(handlePan:)]]; 
```

然后添加代码来处理手势。

```
-(void)handlePan:(UIGestureRecognizer *)sender
{
    if(sender.state == UIGestureRecognizerStateBegan) {

        [self startAnimation];

    } else if (sender.state == UIGestureRecognizerStateEnded) {

        [self stopAnimation];
    }
} 
```

希望有帮助。

# wpf - 将 WPF 只读视图绑定到视图模型

> ID：12794921
> 
> 赞同：0
> 
> 时间：2012-10-09T07:28:08.547
> 
> 标签：wpf

我有一个使用 MVVM 设计的 WPF 应用程序。我有一个永远是只读的视图。这是一个产品结果视图。因此，用户将在其他视图中搜索产品并显示搜索结果。因此，当用户双击特定结果记录时，将打开产品详细信息视图，这是一个只读视图。当用户双击搜索结果中的另一条产品记录时，sam 产品详细信息视图将使用新的详细信息数据刷新（未实例化）。我正在考虑使用 OneWayToSource 绑定模式将产品详细信息视图绑定到视图模型。这很好吗？我相信这会减少内存占用。请确认？另外，即使视图是只读视图，我是否必须在视图模型属性中实现 INotifyPropertyChanged？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:36:47.107

我怀疑绑定模式会对内存占用产生任何影响，只是需要输入额外的内容。只要您使用只读控件和文本块等，请保持简单。

至于 NotifyPropertyChanged：不，它不是必需的。但是，如果您有一个共享相同视图模型的编辑视图，那么它可能是有益的，因为对这些属性的编辑将自动传播到一个打开的只读视图。如果有任何命令等可能导致 viewmodel 的值发生变化，同样如此，如果没有 INotifyPropertyChanged，视图将不会刷新这些更改。如果不需要这些类型的刷新，那么 INotifyPropertyChanged 也不需要。

# redirect - 标头位置重定向中的奇怪问题

> ID：12794932
> 
> 赞同：0
> 
> 时间：2012-10-09T07:29:00.387
> 
> 标签：redirect, apache2

我在服务器上托管了三个网站（example1.com、example2.com、example3.com）。example1.com 上有一个页面 (test.php)，其中只有以下代码：

```
<?php
  header('Location:http://example2.com/a.php');
?> 
```

当我浏览 test.php 时，它会转到[http://example1.com/a.php](http://example1.com/a.php)。它不明白它是另一个域 url，它试图在自身上找到该页面。

但是当我把[http://google.com](http://google.com)而不是 example2.com/a.php 它工作正常。我真的很困惑。

问题是什么 ？我应该在服务器上设置一些配置吗？

（我是托管服务器的管理员）。附言。该服务器位于英镑服务器后面。

编辑：

这是 example1.com/test.php 的 Firebug Net 输出

```
Response Headers: 

HTTP/1.1 302 Found
Date: Tue, 09 Oct 2012 09:03:34 GMT
Server: Apache/2.2.16 (Debian)
Location: http://example1.com/a.php
Vary: Accept-Encoding
Content-Encoding: gzip
Content-Length: 21
Keep-Alive: timeout=15, max=100
Connection: Keep-Alive
Content-Type: text/html; charset=utf-8

Request Headers:

Accept  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Encoding gzip, deflate
Accept-Language en-us,en;q=0.5
Connection  keep-alive
Cookie  mycookie  
Host    example1.com
User-Agent  Mozilla/5.0 (X11; Linux i686; rv:14.0) Gecko/20100101 Firefox/14.0.1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T05:07:12.557

问题已经解决了。这是因为磅服务器配置。磅服务器配置中的“RewriteLocation”条目必须设置为 2，以使此服务器不会更改重定向位置。

无论如何，谢谢你的回答。

# c++ - 我将如何实现 SJF 和循环调度模拟器？

> ID：12794933
> 
> 赞同：1
> 
> 时间：2012-10-09T07:28:59.950
> 
> 标签：c++, algorithm, vector, struct, scheduling

我有一个结构向量，结构看起来像这样：

```
struct myData{
    int ID;
    int arrivalTime;
    int burstTime;
}; 
```

用这些数据填充我的向量后：

```
1 1 5
2 3 2
3 5 10 
```

其中每一行是一个单独的结构的 ID、到达时间和突发时间，我将如何使用“for”或“while”循环来逐步遍历我的向量的索引并以我可以打印出类似这样的方式计算数据：

```
Time 0 Processor is Idle
Time 1 Process 1 is running
Time 3 Process 2 is running
Time 5 Process 1 is running
Time 8 Process 3 is running 
```

我知道 SJF 和 RR 调度非常相似，只是 RR 具有时间量，因此在被另一个进程抢占之前，没有进程可以持续超过任意时间限制。考虑到这一点，我认为在我实现 SJF 之后，只需对 SJF 算法进行一些修改，RR 就会很容易实现。

我考虑实现 SJF 的方式是首先根据到达时间对向量进行排序，然后如果两个或多个向量索引具有相同的到达时间，则首先根据最短的 burstTime 对其进行排序。之后，使用

```
int currentTime = 0; 
```

跟踪已经过去了多少时间，以及

```
int i = 0; 
```

用作我的向量的索引并控制“while”循环，我将如何实现一个允许我打印出上面显示的所需输出的算法？我对需要发生的事情有一个大致的了解，但我似乎无法以一种可行的方式将其全部放在代码中。

我知道，每当 currentTime 小于下一个最快到达时间时，这意味着处理器处于空闲状态，需要将 currentTime 设置为此到达时间。

如果vector[i+1].arrivalTime < currentTime + vector[i].burstTime，我需要将vector[i].burstTime设置为vector[i+1].arrivalTime - currentTime，然后将currentTime设置为vector[i +1].arrivalTime，然后打印出currentTime和进程ID

我知道这些是要实现的简单数学运算，但我想不出如何以我想要的方式将它们全部展开。它循环的方式以及有时几个进程具有相同的到达时间的方式让我大吃一惊。我是否需要更多变量来跟踪正在发生的事情？每次进程被突发时间较短的新进程抢占和中断时，我是否应该改变向量中所有项目的到达时间？非常感谢 C++ 代码甚至伪代码方面的任何帮助。我觉得我对 SJF 如何工作的概念非常了解，但我只是在将我理解的内容翻译成代码时遇到了麻烦。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T10:02:47.583

> 我知道 SJF 和 RR 调度非常相似，只是 RR 具有时间量，因此在被另一个进程抢占之前，没有进程可以持续超过任意时间限制。

我不认为这是对的。至少我不是这样学的。与 SJF 相比，RR 更接近 FCFS（先到先得）。

实现 SJF 的一种方法是根据运行时间将传入的作业插入待处理列表中。如果这个新作业的运行时间比末尾作业的运行时间长，则插入位置在末尾；否则它在第一个作业之前，运行时间比传入作业长。调度很简单：删除待处理列表头部的作业并运行该作业直到完成。如果短作业不断进入并在运行时间长的作业之前得到处理，那么运行时间长的作业可能永远不会运行。

实现循环的一种方法是使用 FIFO，就像使用 FCFS 一样。新作业被添加到队列的末尾。调度再次变得简单：移除队列头部的作业并处理它。到目前为止，这正是 FCFS 所做的。两者的不同之处在于 RR 对作业可以运行的时间有限制。如果作业完成的时间长于某个时间段，则作业仅运行该时间量，然后将其添加回队列的末尾。请注意，使用此公式，如果时间片长于运行时间最长的作业的运行时间，则 RR 等效于 FCFS。

我想您可以像 SJF 那样将那些不完整的作业重新插入到进程列表的中间，但这对我来说似乎不是很循环，而且调度会很麻烦。您不能使用“始终在头部运行作业”调度规则，因为那样您将拥有的只是 SJF，只是变得更加复杂。

# android - 在 ActivityGroup 内的 Activity 中使用 Pull 刷新 viewpager 中的 gridview 会导致 ClassCastException

> ID：12794934
> 
> 赞同：10
> 
> 时间：2012-10-09T07:29:04.333
> 
> 标签：android, android-viewpager

我正在尝试将 PullToRefresh GridView 与 ViewPager 一起使用，这会导致崩溃并给出 ClassCastException。这是例外。

```
FATAL EXCEPTION: main java.lang.ClassCastException: android.support.v4.view.ViewPager$LayoutParams 
at android.widget.LinearLayout.measureVertical(LinearLayout.java:360) 
at android.widget.LinearLayout.onMeasure(LinearLayout.java:309) 
at android.view.View.measure(View.java:8313) 
at android.widget.RelativeLayout.measureChild(RelativeLayout.java:566) 
at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:381) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:581) 
at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:365) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1017) 
at android.widget.LinearLayout.measureVertical(LinearLayout.java:386) 
at android.widget.LinearLayout.onMeasure(LinearLayout.java:309) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138) 
at android.widget.FrameLayout.onMeasure(FrameLayout.java:250) 
at android.view.View.measure(View.java:8313) 
at android.view.ViewRoot.performTraversals(ViewRoot.java:845) 
at android.view.ViewRoot.handleMessage(ViewRoot.java:1865) 
at android.os.Handler.dispatchMessage(Handler.java:99) 
at android.os.Looper.loop(Looper.java:130) 
at android.app.ActivityThread.main(ActivityThread.java:3687) 
at java.lang.reflect.Method.invokeNative(Native Method) 
at java.lang.reflect.Method.invoke(Method.java:507) 
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625) 
at dalvik.system.NativeStart.main(Native Method) 
```

这是实现它的代码片段。

```
PULL_TO_REFRESH = (PullToRefreshGridView)findViewById(R.id.groupList);
mGroupList = PULL_TO_REFRESH.getAdapterView();
Vector<View> pages = new Vector<View>();

        pages.add(mGroupList);

        ViewPager vp = (ViewPager)findViewById(R.id.myfivepanelpager);
        CustomPagerAdapter adapter = new CustomPagerAdapter(this, pages);
        vp.setAdapter(adapter);
        // Set a listener to be invoked when the list should be refreshed.

        PULL_TO_REFRESH.setOnRefreshListener(new OnRefreshListener() {

            @Override
            public void onRefresh() {
                // TODO Auto-generated method stub

            }
        }); 
```

这是来自 PullToRefresh 库的代码片段，这可能是原因。

```
package com.syncusup.pulltorefresh.library.my;

import android.content.Context;
import android.os.Handler;
import android.util.AttributeSet;
import android.view.LayoutInflater;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnTouchListener;
import android.view.ViewGroup;
import android.view.animation.AccelerateDecelerateInterpolator;
import android.view.animation.Animation;
import android.view.animation.Interpolator;
import android.view.animation.LinearInterpolator;
import android.view.animation.RotateAnimation;
import android.widget.AdapterView;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.ListAdapter;
import android.widget.ProgressBar;
import android.widget.TextView;

import com.syncusup.R;

public abstract class PullToRefreshBase<T extends AdapterView<ListAdapter>> extends LinearLayout implements
        OnTouchListener {

    private final class SmoothScrollRunnable implements Runnable {

        static final int ANIMATION_DURATION_MS = 190;
        static final int ANIMATION_FPS = 1000 / 60;

        private final Interpolator interpolator;
        private final int scrollToY;
        private final int scrollFromY;
        private final Handler handler;

        private boolean continueRunning = true;
        private long startTime = -1;
        private int currentY = -1;

        public SmoothScrollRunnable(Handler handler, int fromY, int toY) {
            this.handler = handler;
            this.scrollFromY = fromY;
            this.scrollToY = toY;
            this.interpolator = new AccelerateDecelerateInterpolator();
        }

        @Override
        public void run() {

            /**
             * Only set startTime if this is the first time we're starting, else
             * actually calculate the Y delta
             */
            if (startTime == -1) {
                startTime = System.currentTimeMillis();
            } else {

                /**
                 * We do do all calculations in long to reduce software float
                 * calculations. We use 1000 as it gives us good accuracy and
                 * small rounding errors
                 */
                long normalizedTime = (1000 * (System.currentTimeMillis() - startTime)) / ANIMATION_DURATION_MS;
                normalizedTime = Math.max(Math.min(normalizedTime, 1000), 0);

                final int deltaY = Math.round((scrollFromY - scrollToY)
                        * interpolator.getInterpolation(normalizedTime / 1000f));
                this.currentY = scrollFromY - deltaY;
                setHeaderScroll(currentY);
            }

            // If we're not at the target Y, keep going...
            if (continueRunning && scrollToY != currentY) {
                handler.postDelayed(this, ANIMATION_FPS);
            }
        }

        public void stop() {
            this.continueRunning = false;
            this.handler.removeCallbacks(this);
        }
    };

    // ===========================================================
    // Constants
    // ===========================================================

    static final int PULL_TO_REFRESH = 0;
    static final int RELEASE_TO_REFRESH = PULL_TO_REFRESH + 1;
    static final int REFRESHING = RELEASE_TO_REFRESH + 1;
    static final int EVENT_COUNT = 3;

    // ===========================================================
    // Fields
    // ===========================================================

    private int state = PULL_TO_REFRESH;
    private T adapterView;
    private boolean isPullToRefreshEnabled = true;

    private ProgressBar headerProgress;
    private TextView headerText;
    private ImageView headerImage;
    private Animation flipAnimation, reverseAnimation;
    private int headerHeight;

    private final Handler handler = new Handler();

    private OnTouchListener onTouchListener;
    private OnRefreshListener onRefreshListener;

    private SmoothScrollRunnable currentSmoothScrollRunnable;

    private float startY = -1;
    private final float[] lastYs = new float[EVENT_COUNT];

    private String releaseLabel;
    private String pullLabel;
    private String refreshingLabel;

    // ===========================================================
    // Constructors
    // ===========================================================

    public PullToRefreshBase(Context context) {
        this(context, null);
    }

    public PullToRefreshBase(Context context, AttributeSet attrs) {
        super(context, attrs);
        init(context, attrs);
    }

    // ===========================================================
    // Getter & Setter
    // ===========================================================

    /**
     * Get the Wrapped AdapterView. Anything returned here has already been
     * added to the content view.
     * 
     * @return The AdapterView which is currently wrapped
     */
    public final T getAdapterView() {
        return adapterView;
    }

    /**
     * Whether Pull-to-Refresh is enabled
     * 
     * @return enabled
     */
    public boolean isPullToRefreshEnabled() {
        return isPullToRefreshEnabled;
    }

    /**
     * Mark the current Refresh as complete. Will Reset the UI and hide the
     * Refreshing View
     */
    public void onRefreshComplete() {
        resetHeader();
    }

    public void setOnRefreshListener(OnRefreshListener listener) {
        onRefreshListener = listener;
    }

    /**
     * A mutator to enable/disable Pull-to-Refresh for the current AdapterView
     * 
     * @param enable
     *            Whether Pull-To-Refresh should be used
     */
    public void setPullToRefreshEnabled(boolean enabled) {
        this.isPullToRefreshEnabled = enabled;
    }

    public void setReleaseLabel(String releaseLabel) {
        this.releaseLabel = releaseLabel;
    }

    public void setPullLabel(String pullLabel) {
        this.pullLabel = pullLabel;
    }

    public void setRefreshingLabel(String refreshingLabel) {
        this.refreshingLabel = refreshingLabel;
    }

    public void setHeaderProgress(ProgressBar headerProgress) {
        this.headerProgress = headerProgress;
    }

    // ===========================================================
    // Methods for/from SuperClass/Interfaces
    // ===========================================================

    @Override
    public void setOnTouchListener(OnTouchListener listener) {
        onTouchListener = listener;
    }

    @Override
    public boolean onTouch(View view, MotionEvent ev) {
        if (isPullToRefreshEnabled) {
            // Returning true here stops the ListView being scrollable while we
            // refresh
            if (state == REFRESHING) {
                return true;
            } else {
                return onAdapterViewTouch(view, ev);
            }
        }
        return false;
    }

    /**
     * This is implemented by derived classes to return the created AdapterView.
     * If you need to use a custom AdapterView (such as a custom ListView),
     * override this method and return an instance of your custom class.
     * 
     * Be sure to set the ID of the view in this method, especially if you're
     * using a ListActivity or ListFragment.
     * 
     * @param context
     * @param attrs
     *            AttributeSet from wrapped class. Means that anything you
     *            include in the XML layout declaration will be routed to the
     *            AdapterView
     * @return New instance of the AdapterView
     */
    protected abstract T createAdapterView(Context context, AttributeSet attrs);

    // ===========================================================
    // Methods
    // ===========================================================

    protected final void resetHeader() {
        state = PULL_TO_REFRESH;
        initializeYsHistory();
        startY = -1;
        headerImage.setVisibility(View.VISIBLE);
        headerProgress.setVisibility(View.GONE);

        smoothScrollTo(0);
    }

    private void init(Context context, AttributeSet attrs) {
        setOrientation(LinearLayout.VERTICAL);

        // Header
        ViewGroup header = (ViewGroup) LayoutInflater.from(context).inflate(R.layout.pull_to_refresh_header, this,
                false);
        headerText = (TextView) header.findViewById(R.id.pull_to_refresh_text);
        pullLabel = context.getString(R.string.pull_to_refresh_pull_label);
        refreshingLabel = context.getString(R.string.pull_to_refresh_refreshing_label);
        releaseLabel = context.getString(R.string.pull_to_refresh_release_label);
        headerImage = (ImageView) header.findViewById(R.id.pull_to_refresh_image);
        headerProgress = (ProgressBar) header.findViewById(R.id.pull_to_refresh_progress);
        addView(header, ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);
        measureView(header);
        headerHeight = header.getMeasuredHeight();

        // AdapterView
        // By passing the attrs, we can add ListView/GridView params via XML
        adapterView = this.createAdapterView(context, attrs);
        adapterView.setOnTouchListener(this);
        addView(adapterView, ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT);

        // Animations
        flipAnimation = new RotateAnimation(0, -180, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);
        flipAnimation.setInterpolator(new LinearInterpolator());
        flipAnimation.setDuration(250);
        flipAnimation.setFillAfter(true);

        reverseAnimation = new RotateAnimation(-180, 0, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF,
                0.5f);
        reverseAnimation.setInterpolator(new LinearInterpolator());
        reverseAnimation.setDuration(250);
        reverseAnimation.setFillAfter(true);

        // Hide Header View
        setPadding(getPaddingLeft(), -headerHeight, getPaddingRight(), getPaddingBottom());
    }

    private void measureView(View child) {
        ViewGroup.LayoutParams p = child.getLayoutParams();
        if (p == null) {
            p = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);
        }

        int childWidthSpec = ViewGroup.getChildMeasureSpec(0, 0 + 0, p.width);
        int lpHeight = p.height;
        int childHeightSpec;
        if (lpHeight > 0) {
            childHeightSpec = MeasureSpec.makeMeasureSpec(lpHeight, MeasureSpec.EXACTLY);
        } else {
            childHeightSpec = MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED);
        }
        child.measure(childWidthSpec, childHeightSpec);
    }

    private boolean onAdapterViewTouch(View view, MotionEvent event) {

        switch (event.getAction()) {
            case MotionEvent.ACTION_MOVE:
                updateEventStates(event);

                if (isPullingDownToRefresh() && startY == -1) {
                    if (startY == -1) {
                        startY = event.getY();
                    }
                    return false;
                }

                if (startY != -1 && !adapterView.isPressed()) {
                    pullDown(event, startY);
                    return true;
                }
                break;
            case MotionEvent.ACTION_UP:
                initializeYsHistory();
                startY = -1;

                if (state == RELEASE_TO_REFRESH) {
                    setRefreshing();
                    if (onRefreshListener != null) {
                        onRefreshListener.onRefresh();
                    }
                } else {
                    smoothScrollTo(0);
                }
                break;
        }

        if (null != onTouchListener) {
            return onTouchListener.onTouch(view, event);
        }
        return false;
    }

    private void pullDown(MotionEvent event, float firstY) {
        float averageY = average(lastYs);

        int height = (int) (Math.max(averageY - firstY, 0));
        setHeaderScroll(height);

        if (state == PULL_TO_REFRESH && headerHeight < height) {
            state = RELEASE_TO_REFRESH;
            headerText.setText(releaseLabel);
            headerImage.clearAnimation();
            headerImage.startAnimation(flipAnimation);
        }
        if (state == RELEASE_TO_REFRESH && headerHeight >= height) {
            state = PULL_TO_REFRESH;
            headerText.setText(pullLabel);
            headerImage.clearAnimation();
            headerImage.startAnimation(reverseAnimation);
        }
    }

    private void setHeaderScroll(int y) {
        scrollTo(0, -y);
    }

    private int getHeaderScroll() {
        return -getScrollY();
    }

    private void setRefreshing() {
        state = REFRESHING;
        headerText.setText(refreshingLabel);
        headerImage.clearAnimation();
        headerImage.setVisibility(View.INVISIBLE);
        headerProgress.setVisibility(View.VISIBLE);
        smoothScrollTo(headerHeight);
    }

    private float average(float[] ysArray) {
        float avg = 0;
        for (int i = 0; i < EVENT_COUNT; i++) {
            avg += ysArray[i];
        }
        return avg / EVENT_COUNT;
    }

    private void initializeYsHistory() {
        for (int i = 0; i < EVENT_COUNT; i++) {
            lastYs[i] = 0;
        }
    }

    private void updateEventStates(MotionEvent event) {
        for (int i = 0; i < EVENT_COUNT - 1; i++) {
            lastYs[i] = lastYs[i + 1];
        }

        float y = event.getY();
        int top = adapterView.getTop();
        lastYs[EVENT_COUNT - 1] = y + top;
    }

    private boolean isPullingDownToRefresh() {
        return isPullToRefreshEnabled && state != REFRESHING && isUserDraggingDownwards() && isFirstVisible();
    }

    private boolean isFirstVisible() {
        if (this.adapterView.getCount() == 0) {
            return true;
        } else if (adapterView.getFirstVisiblePosition() == 0) {
            return adapterView.getChildAt(0).getTop() >= adapterView.getTop();
        } else {
            return false;
        }
    }

    private boolean isUserDraggingDownwards() {
        return this.isUserDraggingDownwards(0, EVENT_COUNT - 1);
    }

    private boolean isUserDraggingDownwards(int from, int to) {
        return lastYs[from] != 0 && lastYs[to] != 0 && Math.abs(lastYs[from] - lastYs[to]) > 10
                && lastYs[from] < lastYs[to];
    }

    private void smoothScrollTo(int y) {
        if (null != currentSmoothScrollRunnable) {
            currentSmoothScrollRunnable.stop();
        }

        this.currentSmoothScrollRunnable = new SmoothScrollRunnable(handler, getHeaderScroll(), y);
        handler.post(currentSmoothScrollRunnable);
    }

    // ===========================================================
    // Inner and Anonymous Classes
    // ===========================================================

    public static interface OnRefreshListener {

        public void onRefresh();

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T22:16:30.127

为了获得更好的答案，我必须查看您对`CustomPagerAdapter`.

但是由于构造函数`CustomPagerAdapter`将数组/集合/向量`Views`作为参数，假设`CustomPagerAdapter`' 的`instantiateItem`方法（或`getItem`方法，如果你`CustomPagerAdapter`是 a `FragmentPagerAdapter`）使用论文`Views`来构建`ViewPager`' 页面是否正确？

如果是这样，那可能是你的问题。

该`Vector<View> pages`变量包含`Views`已经*是*布局的一部分。在这种情况下，那里的（唯一）`View`是`mGroupList`. 这`mGroupList`是`already`布局的一部分。你不能让`View`（`mGroupList`在这种情况下）成为两个不同父母的孩子。

而不是“找到” ，在您的方法中`mGroupList`创建一个全新的（通过代码或通过膨胀适当的 layout-xml）。全新的实例不会有父级，但会在 ViewPager 认为有必要时成为 ViewPager 的子级。`PullToRefreshGridView``instantiateItem``CustomPagerAdapter``PullToRefreshGridView`

为了使事情更简单，我建议使用`FragmentPagerAdapter`or`FragmentStatePagerAdapter`代替，它将`Fragment`在其`getItem`方法中返回正确的。然后`Fragment`将在其`onCreateView`方法中返回正确的视图，其中包含`PullToRefreshGridView`您想要的。 [https://developer.android.com/reference/android/support/v13/app/FragmentPagerAdapter.html](https://developer.android.com/reference/android/support/v13/app/FragmentPagerAdapter.html)

# php - 在mysql中查询显示纬度经度多边形

> ID：12794935
> 
> 赞同：1
> 
> 时间：2012-10-09T07:29:18.933
> 
> 标签：php, mysql, gis, polygon

我有一个多边形和点

我使用查询来检测经纬度位置点与查询mysql`SELECT X(coord), Y(coord) FROM geometry`

它有效

但是如何在mysql中显示顶点（点）多边形？像

```
POLYGON((
107.623303663647 -6.94958690332541,
107.623303663647 -6.94969839983204,
107.623038859444 -6.94970835487728,
107.623028904398 -6.94956699323494,
107.623303663647 -6.94958690332541)) 
```

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T03:02:37.697

试试这个。`SELECT AsText(your shape) FROM your table;`

# php - 更改嵌入自动启动，OnClick

> ID：12794936
> 
> 赞同：-1
> 
> 时间：2012-10-09T07:29:20.260
> 
> 标签：php, javascript, embed

目前，我有一个默认自动启动的嵌入源，并且是隐藏的。我需要通过标签进行控制来阻止嵌入播放，而无需从 URL 中删除 "?ID=(number)。

我的想法是禁用自动启动并以某种方式重新加载页面。

我知道不可能更改嵌入的属性并使其与 JQuery 一起使用（至少我最后知道），所以这可能意味着寻找一种方法来使用 javascript 刷新页面并以某种方式更改自动启动属性（不要'不知道怎么做），但也许有更有效的方法来做到这一点，无论如何？

我的另一个想法是将嵌入源包含在隐藏的 IFrame 中，并在点击链接时更改 IFrame 的源，因此不需要查询，但这会或多或少有效吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T19:51:18.127

我又看了几个小时，我决定将嵌入放在一个 div 标签中，然后使用

```
<SCRIPT>function pStop() {document.getElementById('playstat').innerHTML = '';} 
```

像魅力一样工作。:)

# git - 身份验证后 git pull 挂起

> ID：12794941
> 
> 赞同：3
> 
> 时间：2012-10-09T07:29:32.703
> 
> 标签：git, ssh, repository, bitbucket

我有一个项目的 bitbucket 回购。我想在我的本地网络中的服务器上拥有当前的最新版本。我通过连接到该服务器`ssh`并执行`git pull`. Git 通过 ssh 工作。

输入密码后，它会挂起，光标闪烁。如果我输入了错误的密码，我会得到一个`fatal: Authentication failed`.

如果我在另一个目录中克隆相同的 repo，然后进行拉取，它就可以工作。

与我一起工作的人对整个文件夹 (cp) 进行了“备份”，并稍微移动了文件夹。那会破坏一些东西吗？

我不想从生产版本中手动挑选不在 bitbucket 存储库中的东西并将其放回原处。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-05T09:15:42.583

> 如果我在另一个目录中克隆相同的 repo，然后进行拉取，它就可以工作。

和

> 我不想从生产版本中手动挑选不在 bitbucket 存储库中的东西并将其放回原处。

建议/解决方法：从 bitbucket 获取工作克隆，将损坏的生产 repo 添加为遥控器，从该遥控器中提取并推回 bitbucket。

# android - android GridView 或 ListView 的自定义适配器

> ID：12794942
> 
> 赞同：0
> 
> 时间：2012-10-09T07:29:33.037
> 
> 标签：android, listview, gridview, adapter

下面是扩展 BaseAdapter 的 ImageAdapter。它包含将图像位图设置为 ImageView 的代码和将文本设置为 TextView 的 setText 方法。但我仍然需要将 TextView 和 ImageView 都绑定到适配器的父级。每个图像和文本将出现的实际 gridView。这个怎么做？我的代码中遗漏了一些东西。

image_item 是 listView 或 gridView 中单个视图的 xml 布局设计。它包含一个 ImageView 和一个 TextView。基本上是一个 jpeg 图像，在每个图像下方是将出现的图像的标题。

```
 public class ImageAdapter extends BaseAdapter {

       private Context mContext;

        public ImageAdapter(Context c) {
             mContext = c;
        }

        public int getCount() {
              return count;
        }
        public Object getItem(int position) {
              return position;
        }
        public long getItemId(int position) {
              return position;
        }

        public View getView(int position, View convertView, ViewGroup parent) {

              if (convertView == null) {

                  LayoutInflater inflater = (LayoutInflater) mContext
                          .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

                  view = inflater.inflate(R.layout.image_item, null);
              } else {

                  view = convertView;
              }

              ImageView i = (ImageView) view.findViewById(R.id.adapterImageView);

              i.setImageBitmap(bm); // bm = bitmap object

              // bm is the bitmap returned by an intent get extras, that code not shown

              TextView t = (TextView) view.findViewById(R.id.adapterTitleView);

              t.setText("test text");

              return view;
          }

        } 
```

# php - 创建基于用户兴趣的推荐算法

> ID：12794943
> 
> 赞同：1
> 
> 时间：2012-10-09T07:29:33.290
> 
> 标签：php, mysql, algorithm

我目前正在构建一个应用程序，它会根据他们的标签推荐网站。

在我的网站上，当用户注册时，它会填写一个兴趣。所以这是一个样本兴趣：

```
football, model trains, hockey 
```

所以这是用逗号分隔的。因此，当用户单击注册时，该注册将保存在我的数据库中。这是我的数据库的设计。

```
userID |  name     | interest
001    | John Doe  | sports, model trains, hockey 
```

所以另一方面，我的网站中也有用户上传网站 URL 并创建与之相关的标签。所以这是我的数据库设计：

```
 postID  |  title           | tags
     001    |  techcrunch.com  | technology,softwares,startups
     002    |  nba.com         | basketball,sports,all-star
     003    |  tmz.com         | gossip, showbiz 
```

所以这个逻辑是，我想向用户 John Doe 推荐 NBA.com，因为 NBA.com 有一个运动标签，而 John Doe 的兴趣有一个运动标签。

你知道怎么做吗？只是一个后续问题，数据库设计是否正确，或者我应该创建一个新表来存储所有标签。类似的东西（虽然不确定）。

您的帮助将不胜感激和奖励！提前致谢！:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:35:42.723

我会规范化数据库，以便您在单独的表和关系表中有标签来连接它。像这样：

用户表：

```
UserId Name
001    John Does 
```

标记用户关系

```
UserId TagId
001     001 
```

标记表：

```
TagId TagName
001   Sports 
```

TagUrlRelation

```
TagId Url
001   nba.com
001   nhl.com 
```

为了提高性能，我将继续创建具有必要连接的索引视图并实现存储过程来处理它们。

如前所述，另一种选择是全文搜索，但这会慢得多，并且在这种情况下通常不被认为是好的数据库设计。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:34:43.130

这可以通过使用来完成 `full text search`

[参考这里](http://dev.mysql.com/doc/refman/5.5/en//fulltext-search.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:35:21.657

您应该创建两个单独的表格，其中包含单个标签，每个人或每个帖子都有几个。如果您愿意，可以为它创建一个多列主键。

```
userID | interest
001    | sports
001    | model trains
001    | hockey
... 
```

和帖子一样的方式：

```
postID | tags
003    | gossip
003    | showbiz
... 
```

这大大增加了您编写高效 SQL 的机会。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T07:39:55.983

单独存储标签会好得多。这样您就有一个用于标签的表和另外两个表 - 一个用于用户和标签之间的关系，一个用于帖子和标签之间的关系。

```
users
----------------------------------------
userId |   name    |   password   | ....
  1    | John Doe  | $p$fgA       |  

tags
--------------------
tagId  | tagname
1      | basketball
2      | hockey

user_interests
----------------------------
id   |   user_id  |  tag_id
1    |  1         |  1
2    |  1         |  2

post_tags
--------------------------
id  |  post_id  |  tag_id
1   |  1        |  2 
```

然后你使用`JOIN`s 来获取所需的信息

# javascript - 在 Javascript 中打印所有 ASCII 字符

> ID：12794944
> 
> 赞同：6
> 
> 时间：2012-10-09T07:29:35.603
> 
> 标签：javascript, unicode, ascii

我需要做这样的事情：

1.  有某种类型的变量。
2.  循环运行并将所有可能的 ASCII 字符分配给该变量并逐个打印它们。

UNICODE 也有类似的可能吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-09T07:32:12.127

我不确定您要打印的确切程度，但这将是`console.log`可打印的 ascii

```
for(var i=32;i<127;++i) console.log(String.fromCharCode(i)); 
```

`document.write`如果这是你的意图，你可以。如果环境是 unicode，我相信它也应该适用于 unicode。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:35:36.000

有一些 ASCII 字符是不可打印的，但例如从 32（空格）到 126（~），您可以使用：

```
var s = '';
for (var i = 32; i <= 127; i++) s += String.fromCharCode(i); 
```

unicode 字符集有超过 110,000 个不同的字符（参见[Unicode](http://en.wikipedia.org/wiki/Unicode)），但普通字体并不包含所有这些字符，因此无论如何您都无法显示它们。您必须指定您感兴趣的字符空间的哪些部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T08:49:30.877

其他人已经展示了如何打印可打印的 Ascii 字符。也可以打印所有其他 Ascii 字符，尽管它们是具有系统相关效果的控制字符（通常没有效果）。要将包含所有 Ascii 字符的字符串创建为字符串，您可以执行以下操作：

```
var s = '';
for (var i = 0; i <= 127; i++) s += String.fromCharCode(i); 
```

Unicode 要复杂得多，因为从 0 到 0x10FFFF 的 Unicode 编码空间包含大量未分配的代码点以及指定为非字符的代码点。还有私人使用代码点，可用于通过“私人协议”来表示字符，但没有普遍指定的含义。此外，许多 Unicode 字符是无间距的，即与前面的字符组合（例如，将“a”转换为“â”），因此您无法直观地连续打印它们。JavaScript 中没有简单的方法可以从整数确定相应代码点的类 - 您可能需要读取 UnicodeData.txt 文件，对其进行解析，并使用其中的信息对代码点进行分类。

最后还有一个编程问题，JavaScript 的字符概念对应一个 16 位的代码单元（不是代码点），任何大于 0xFFFF 的 Unicode 代码点都需要用两个代码单元（所谓的代理）来表示。如果您在 HTML 文档的上下文中使用 JavaScript，并且想要打印 HTML 内容中的字符，那么最简单的方法是使用字符引用（如`&#x10400;`（表示代码点`10400`十六进制的 Unicode 字符））并将字符串分配给`innerHTML`元素的属性。

如果您需要输入 Unicode 字符范围，您可以查看我最近编写的[完整 Unicode 输入实用程序。](http://www.cs.tut.fi/~jkorpela/fui.html8)它的源代码说明了在 JavaScript 中处理 Unicode 字符的一些方法。

# heroku - 无法从 heroku 提取代码：远程端意外挂断

> ID：12794950
> 
> 赞同：0
> 
> 时间：2012-10-09T07:30:00.573
> 
> 标签：heroku, public-key

我是heroku的新手。我上传了我的 rsa 密钥，然后尝试提取我正在尝试制作的 Facebook 应用程序的启动代码，但是当我使用 git clone 命令时，我不断收到致命的消息：

```
The remote end hung up unexpectedly. 
```

出现此消息的可能原因是什么。我已经通过使用命令 heroku keys 验证了我的 rsa 密钥存在于 heroku 服务器上，并且它确实返回了我创建的相同密钥。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T14:13:07.660

尝试这个

heroku 键：添加

我添加了密钥，然后再次执行了 git phush 的整个过程，它对我来说很好，希望这会有所帮助

“管理您的 SSH 密钥”中的详细信息：[https ://devcenter.heroku.com/articles/keys](https://devcenter.heroku.com/articles/keys)

# html - IE中的两个背景图片

> ID：12794956
> 
> 赞同：0
> 
> 时间：2012-10-09T07:30:30.120
> 
> 标签：html, css

我如何使用 2 张图片作为正文第一个背景将在顶部没有重复，第二张图片将在第一个重复之后，在 Firefox 中我可以轻松做到这一点，但我在 IE 中的问题 ![在此处输入图像描述](../Images/86b8d347ecf915783396db896ce88718.png)

![在此处输入图像描述](../Images/c29dfcaa4f9f0a252234cea88df07d50.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:36:45.413

一个接一个接一个接`html`一个`body`-

```
html{
  background: url() repeat-y left top;
}
body{
  background: url() no-repeat left top;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:35:09.463

可以使用专有过滤器[在 IE](http://cookbooks.adobe.com/post_Cross_Browser_Multi_background_images__including_I-16839.html)中添加多个背景

取自链接站点，IE代码如下：

```
<!--[if gt IE 7]> 
<style type="text/css"> 
/* The proprietary zoom property gives IE the hasLayout property which addresses several bugs, dont forget to insert your wrappers id */ 
#outerWrapper #contentWrapper, #outerWrapper #contentWrapper #content { 
  zoom: 1; 
} 
/* Now lets make it IE8 Multi-background images */ 
#multipleBackgroundImages { 
  background-image: url(../images/lilys.jpg); 
  background-position: bottom right; 
  background-repeat: no-repeat; 
  -ms-filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='../images/lakeside2.png', sizingMethod='crop')"; 
  border: 1px solid black; 
  padding: 0 1em; 
} 
/* Fix for IE clearType */ 
#multipleBackgroundImages p { 
    position: relative; /* required to re-enable IE's clearType */ 
   } 
</style> 
<![endif]--> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:35:32.077

使用下面的代码。这支持包括IE在内的所有浏览器

```
body{
    width:800px; height:750px;
    background: url(http://www.google.com/logos/2012/indonesiaind12-hp.jpg), url(http://www.google.com/logos/2012/india12-hp.jpg);
    background-position:top, bottom;
    background-repeat:no-repeat, no-repeat   
   }​ 
```

你可以在[这里得到详细的解释](http://userinterfacehome.blogspot.in/2012/09/css-multiple-background.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T07:35:33.443

使用嵌套的 div 并为一个应用一个背景，为另一个应用另一个背景

```
<div class="background-bottom"><div class="background-top"></div></div> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:38:00.850

它很简单，您必须将主体分成两个单独的 div，因为您可以轻松地做到这一点。top div 和 bottom div 必须以这两个图像作为背景。

它可能在IE中工作

# php - PHP5 + PostgreSQL - pg_fetch_row() 返回字符串而不是数组

> ID：12794957
> 
> 赞同：3
> 
> 时间：2012-10-09T07:30:30.667
> 
> 标签：php, postgresql, row, fetch, pg

PHP5 + PostgreSQL (ubuntu 12.04) 根据文档返回 pg_fetch_row() 的数组。通过我的测试结果表明它正在返回一个字符串，是否有一些配置选项？

```
$db = openDatabase(<blah>);
$query = "SELECT (id,serial,tag) FROM devices ORDER BY tag ASC";
$result = pg_query($db,$query);
if ($result)
{
    while ($row = pg_fetch_row($result))
        echo "IN: $row[0] - $row[1] - $row[2]";
} 
```

我期待看到

```
IN: <value> - <value> - <value> 
```

但我明白了

```
IN: (<value>,<value>,<value>) - - 
```

我猜这意味着 pg_fetch_row() 返回的是字符串而不是数组？！

例如实际运行：

```
IN: (10,7426573,________) - - 
IN: (7,6862,FMUX-TAG) - - 
IN: (9,6914082,L6) - - 
```

这似乎是一个简单的问题，但我找不到答案。我知道我可以解析结果，但这很麻烦。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:18:05.817

换成你就完成了`SELECT (id,serial,tag)`。`SELECT id,serial,tag`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T08:20:33.003

答案很简单 - 只需从 SELECT 语句中删除括号，如下所示：

```
$query = "SELECT id,serial,tag FROM devices ORDER BY tag ASC"; 
```

否则它是输出中的字符串。

# apache - mod_rewrite -> 没有按预期工作

> ID：12794966
> 
> 赞同：2
> 
> 时间：2012-10-09T07:31:23.707
> 
> 标签：apache, mod-rewrite

我使用以下**.htaccess**将所有请求重定向到我的 index.php，除非存在文件夹或文件。

```
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule ^(.*)$ index.php?uri=$1 [QSA] 
```

但是，如果我尝试使用**domain.com/thing/a/thing/b**之类的 url ，我会被重定向到我的 index.php，但其他一切都搞砸了。html 没有正确链接到样式表等等。

我的应用程序工作起来有点像 MVC 框架，即一切都发生在 index.php 上。所以我不希望其他文件可以访问，除了公共文件夹中的文件和一些特定文件。即根目录中的 cron.php 和文件夹结构中的一些 css/js/image 文件。

有关文件结构的更多详细信息：[https ://bitbucket.org/BrainInBlack/source-motd-plus/src](https://bitbucket.org/BrainInBlack/source-motd-plus/src)

还是我必须用绝对路径链接样式表和其他东西，即**“http://domain.com/path/to/style.css”**等等？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:38:50.563

之前使用斜线客户端`(.*)$ index.php?uri=$1`。

使用此代码：

```
RewriteRule ^/client(.*)$ index.php?uri=$1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T05:09:44.477

您要么需要将所有链接更改为绝对链接，要么添加

```
<base href="http://domain.com/"> 
```

到页面的标题。

# jms - 使用 Jms 发送对象 - HornetQ（性能问题）

> ID：12794968
> 
> 赞同：-2
> 
> 时间：2012-10-09T07:31:28.403
> 
> 标签：jms, hornetq

发送对象消息的性能哪个更好？

1.  创建 ObjectMessage 并发送它。
2.  将 Object 序列化为 xml，创建 TextMessage，并发送 xml 内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T16:26:29.720

将您的对象转换为字节并发送它。

序列化很烂... XML很烂

如果您使用 ObjectMessage，请使您的对象可外部化并避免在可外部化的内部写入对象，这样您的转换就会飞起来。

手动解析为字节将使您获得最佳性能。这不仅仅是 hornetQ（任何 JMS 服务器）。序列化很烂！（我也是JBoss Serialization的作者，所以我知道我在说什么……对于上面的JBoss名字不多，但我知道序列化的内部工作）

为了使事情顺利进行，必须有人提出代码生成序列化。

# c# - 如何向 GridView 字段添加验证？

> ID：12794971
> 
> 赞同：0
> 
> 时间：2012-10-09T07:31:33.567
> 
> 标签：c#, asp.net

我有gridview如下：

```
<asp:GridView runat="server" ID="gvOverrideData" AutoGenerateColumns="false" AlternatingRowStyle-BackColor="LightGreen" Width="800" OnRowEditing="OverrideGrid_OnRowEditing" OnRowCancelingEdit="OverrideGrid_OnRowCancelingEdit" OnRowUpdating="OverrideGrid_RowUpdating">
    <HeaderStyle BackColor="LightGray" />
    <Columns>
        <asp:TemplateField HeaderText="Path">
            <ItemTemplate>
                <%# GetOverrideTemplatePath(DataBinder.Eval(Container.DataItem, "Path").ToString())
                %>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:BoundField DataField="FileName" HeaderText="File Name" />
        <asp:BoundField DataField="Extension" HeaderText="File Extension" />
        <asp:BoundField DataField="FileType" HeaderText="File Type" />
        <asp:BoundField DataField="Iteration" HeaderText="Iteration" />
        <asp:CommandField ButtonType="Link" ShowEditButton="true" ShowDeleteButton="true"
        ShowCancelButton="true" />
    </Columns>
</asp:GridView> 
```

我想验证该`FileType`字段，使其仅接受 InDesign、XML、CorelDraw、StaticImage 文件类型，其中扩展名应为以下之一

> .indd、.tif、.wmf、.idms、.eps、.pdf、.xml、.inds、.emf、.jpg、.cdr、.gif、.ai、.u01

当用户添加/编辑时，如何执行此验证检查？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:49:44.333

您可以添加验证`before you bind with DataSource`

```
var expression = "FileType == '.indd' OR FileType == '.tif' OR ..... ";
DataRow[] foundRows;
// Use the Select method to find all rows matching the filter.
var foundRows = table.Select(expression); 
```

您还可以`DataView`在`filter`您的`DataView`

```
var dataView = new DataView(YourDataTable);
dataView.RowFilter = "FileType == '.indd' OR FileType == '.tif' OR .....";
YourGridView.DataSource = dataView ; 
```

# delphi - 修复 Delphi XE3 中的 VCL 样式目录

> ID：12794973
> 
> 赞同：2
> 
> 时间：2012-10-09T07:31:38.343
> 
> 标签：delphi, ide, styles, vcl, delphi-xe3

我对 Delphi IDE 中的 VCL 样式有疑问。当我在 delphi IDE 中将 VCL 样式从默认样式更改为另一种样式并运行程序时，出现“找不到样式'样式名称'”错误。我试图在 IDE 中找到一个选项来修复 Style 目录，但我找不到任何选项。请帮我解决这个问题并修复 IDE 选项。非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T10:10:09.590

我发现当从我的项目中删除一个文件时，我突然看到这个“找不到样式'样式名称'”错误，我的项目文件中显示的行

{$R *.RES}

不经意间被换成了

{R *.RES}

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-09T13:51:44.943

哦，过了一段时间，我找到了解决这个问题的方法。为了解决这个问题，必须运行“redistsetup.bat”文件。此文件默认位于“C:\Program Files\Embarcadero\RAD Studio\10.0\Redist\redistsetup.bat”。(^_^)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-02-13T02:18:06.960

我遇到了同样的问题，在项目（选项）中添加了一些样式后，我有错误“找不到样式”我删除了项目中的所有样式->选项但总是出现相同的问题

进入源项目后，我找到了那些行（ TrySetStyle ）

```
 begin

  TStyleManager.TrySetStyle('Turquoise Gray');
  TStyleManager.TrySetStyle('Cobalt XEMedia');
  Application.CreateForm(TFormLogin, FormLogin);
  Application.CreateForm(TFormMain, FormMain);
  Application.Run;
end. 
```

解决方案就是删除这些行

但我认为问题出在程序找不到路径的地方

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T09:24:09.990

我认为修复 IDE 问题的唯一受支持方法是运行 Delphi 设置并选择修复（如果问题确实是 Styles 文件夹）

您可以使用[Sysinternals 的 Procmon](http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx)来检查您的程序（或 IDE）是否无法找到/打开样式文件。

您也可以看看：[如何将 Delphi XE2 皮肤应用于 DLL 中的表单？](https://stackoverflow.com/questions/7335976/how-can-i-apply-delphi-xe2-skins-to-forms-in-a-dll)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T10:18:22.530

也许检查这个目录 C:\Users\Public\Documents\RAD Studio\10.0\Styles

我不知道也无法重现该问题。

在帮助文件 - 部分应用程序外观。

问候迈克

# php - 从数据库中获取总大小（以 MB 为单位）

> ID：12794980
> 
> 赞同：0
> 
> 时间：2012-10-09T07:32:24.427
> 
> 标签：php, mysql, megabyte

我正在尝试从数据库中获取并显示行的总大小，

PHP：

```
$swall = $db->super_query("SELECT sum(size) as sum FROM dle_photo_post");
$tpl->set("{swall}", $swall['sum']); 
```

使用上面的代码，我的结果就像他的：82447456

示例 2：使用此代码：

```
$swall = $db->super_query("SELECT sum(size)/1024 as sum FROM dle_photo_post");
$tpl->set("{swall}", $swall['sum']); 
```

我得到了这个：80515.0938

但我需要以 MB 为单位显示总数，如下所示：**80 MB**

我如何以兆字节显示总大小结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:40:36.873

```
$swall = $db->super_query("SELECT sum(size)/1024/1024 as sum FROM dle_photo_post");
$tpl->set("{swall}", number_format($swall['sum'], 0)); 
```

然后你可以使用 number_format (http://www.php.net/manual/en/function.number-format.php) 来格式化大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:43:04.867

值以字节为单位返回。您必须将该值除以 1024 (B > KB > MB) 的两倍。

`(sum(size)/1024)/1024 or $tpl->set("{swall}", ($swall['sum'])/1024);`

# php - 网络游戏如何将玩家联系在一起？

> ID：12794983
> 
> 赞同：3
> 
> 时间：2012-10-09T07:33:09.677
> 
> 标签：php, sockets, multiplayer

我一直在制作基于在线的 connect4 游戏，在大多数情况下，它运行良好。

唯一的问题是，当移动时，游戏会调用一个 PHP 脚本，该脚本将用于会话的数据写入一个公开可见的文本文件，然后由其他玩家（使用 jQuery）读取，并且其计算机更新并相应地呈现它。

但是，我觉得这是实现这一目标的一种非常糟糕的方式。我曾考虑过使用套接字，但由于计算机上没有运行监听传入数据包的守护程序，并且端口没有在玩家计算机上转发，我不确定如何使用套接字来实现这种效果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:54:57.590

通常你使用带有 PHP 的 mySQL 数据库而不是文件。它允许您像这样编写游戏状态，但更好的是使用像 PDO 这样的数据库层：

```
$gamestate_serialized= mysql_real_escape_string(serialize($gamestate_array));
$gameID= intval($gameID);
$query= "insert into gamestate (gameID, state) values ($gameID,'$gamestate_serialized')";
$handle= mysql_query($query);
if(!$handle) print mysql_error(); 
```

并像这样阅读：

```
$gameID= intval($gameID);
$query= "select state from gamestate where gameID=$gameID"; 
$handle= mysql_query($query);
if(!$handle) print mysql_error();
$row = mysql_fetch_assoc($handle);
$state_array= unserialize($row['state']); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T08:00:47.310

很少有网络游戏直接连接玩家。在几乎所有在线游戏中，所有数据交换都通过中央服务器进行。这对防止作弊很重要。只要中立的服务器管理游戏状态，任何客户端都无法操纵它来发挥自己的优势。

为了节省带宽，每一步都读取整个游戏状态并不是一个好方法。最好只告知客户另一位玩家做出的一个动作，因为所有其他信息都是多余的。

Javascript Websockets 是向其他玩家推送更新的最佳选择。不幸的是，并非所有浏览器都支持它（Internet Explorer 不太可能在 Windows 7 之前的任何操作系统上支持它）。AJAX 是一个较差但更广泛支持的选项。

# c# - Windows 8 Metro 和复古应用

> ID：12794987
> 
> 赞同：0
> 
> 时间：2012-10-09T07:33:35.627
> 
> 标签：c#, xaml, windows-8, microsoft-metro, windows-store-apps

我已经开始为 Windows 8 Metro 应用程序开发，我有一个奇怪的问题要问大家。

假设我有带有 Metro 视图和桌面（复古视图）的 Windows 8 专业版。如果我创建了地铁风格的应用程序，它也应该可以用于地铁视图或复古视图。或者有一些方法可以在 Metro 和复古视图中切换一个应用程序。就像我的应用程序在 Metro 视图中打开并且我切换到复古视图我应该可以在这里访问我的应用程序以及复古视图，因为它在 Metro 视图中打开并且我们都知道应用程序是专为 Metro 而不是复古但任何访问应用程序的方式在两个视图中，但可以根据当前视图切换 UI。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:35:55.780

不，没有办法做到这一点。Metro/Desktop 是 100% 不兼容的，因为 Metro 应用程序是 Sandoxed。

Windows 8 的理念是拥有 Metro 应用程序。桌面视图的存在本质上是为了重新兼容。但实际上只有 WinRT 组件不兼容（图形部分），.NET 4.5 部分 - 对于最重要的部分 - 兼容。

Metro Style 应用程序是全屏体验，因此在桌面环境中没有意义。但是工具可以帮助您轻松编写这两个应用程序，例如“可移植类库”（PCL）

# c# - 在应用程序 Metro 中移动标题或文本

> ID：12794988
> 
> 赞同：1
> 
> 时间：2012-10-09T07:33:39.770
> 
> 标签：c#, wpf, xaml, windows-8, microsoft-metro

我需要在我的 Windows 8 应用程序中添加移动文本或移动标题。我怎么能用 XAML 做到这一点？这是一个 HTML 示例：[http ://www.astwinds.com/astuces/html/textedefilant.html](http://www.astwinds.com/astuces/html/textedefilant.html)

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T16:25:02.923

这是一种方法。当然还有更多。

向 OnNavigatedTo 事件中的 Composition Target Rending 事件添加对 MoveMarqueeText 函数的调用。

```
protected override void OnNavigatedTo(NavigationEventArgs e)
{
     CompositionTarget.Rendering += MoveMarqueeText;
} 
```

添加一个函数，该函数将删除字符串的第一个字符并将其附加到末尾。

```
void MoveMarqueeText(object sender, object e)
{
     Marquee.Text = Marquee.Text.Substring(1)  + Marquee.Text.Substring(0,1);
} 
```

使用 XAML

```
<TextBlock Text="woot hey woot woot hey woot hey woot woot hey woot hey woot woot hey" Width="250" x:Name="Marquee" TextWrapping="NoWrap"> 
```

要减慢它的速度，请在 MoveMarqueeText 函数中添加条件语句和计数器增量，以将其减慢到基于时间的速度，请在条件中使用计时器。

# mysql - 选择具有特定范围 sql 查询的行

> ID：12794991
> 
> 赞同：-7
> 
> 时间：2012-10-09T07:33:51.880
> 
> 标签：mysql, sql

我有一张如下表。

它存储学生的详细信息。

我想要一个 sql 查询来获取 15 到 27 岁之间的学生姓名。

```

```
CREATE TABLE Students(Sno       INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
                      Name      VARCHAR(255),
                      Age_Start INT,
                      Grade     VARCHAR(255));

INSERT INTO Students(Name, Age_Start, Grade)
              VALUES('Student 1', 10, 'Grade A'),
                    ('Student 2', 15, 'Grade B'),
                    ('Student 3', 18, 'Grade C'),
                    ('Student 4', 21, 'Grade D'),
                    ('Student 5', 24, 'Grade E'),
                    ('Student 5', 27, 'Grade F'),
                    ('Student 5', 30, 'Grade G'); 
```

输出

```

  学生的姓名
  学生 2
  学生 3
  学生 4
  学生 5

```

提前致谢

            回答 #1

赞同：1

时间：2012-10-09T07:35:05.950

```
select distinct Name as `Students Name`
 from Students
where Age_Start between 15 and 27 
```

[SQL Fiddle 演示](http://www.sqlfiddle.com/#!2/ec34f/3)

            回答 #2

赞同：1

时间：2012-10-09T07:38:00.610

```
Select distinct Name as `Students Name` 
from Students 
where Age_Start between 15 and 27 
```

```

# xcode - 自学 iPad 开发...文档窗口中的 AppDelegate

> ID：12794992
> 
> 赞同：0
> 
> 时间：2012-10-09T07:33:56.670
> 
> 标签：xcode

我正在阅读“SAMS 在 24 小时内自学 iPad 应用程序开发”，在这本书中，它有一个关于选项卡栏 (UITabBarController) 的部分，您需要通过文档窗口将 Interface Builder 中的 UITabBarController 组件链接到应用程序委托，但在我的情况下XCode 4.5 (iOS 6) Xcode 的 Interface Builder 中没有列出应用程序委托...我做错了吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:44:58.480

我想这本书已经过时了，xcode 与 4.2 版本发生了很大变化。我向您推荐 iOS 编程的第 3 版：大书呆子牧场指南，它已更新。或者查找您的书的更新版本，如果它是电子书，他们可能会免费向您发送新版本。

# jquery - 没有插件的jQuery toc生成

> ID：12794995
> 
> 赞同：1
> 
> 时间：2012-10-09T07:34:06.407
> 
> 标签：jquery, jquery-selectors

我想用 jQuery 为 html 文档生成一种目录 - 不使用任何插件。我刚刚开始学习/改进我的 jQuery 知识。

HTML 输入：

```
<div id="toc"></div>
<h3><a name="construction-block"></a>Construction Block</h3><p>...</p>
<h3><a name="construction-box"></a>Construction Box</h3><p>...</p>
... 
```

JS：

```
$(document).ready(function(){
$("#toc").append('<p>table of contents:</p>');
$("h3").each(function(i) {
    var current = $(this);
    $("#toc").append("<h3>"+current.html()+"</h3>");
});
}) 
```

HTML 输出

```
<div id="toc">
<p>table of contents:</p>
<h3>
<a name="construction-block"></a>
Construction Block
</h3>
<h3>
<a name="construction-box"></a>
Construction Boxk
</h3>
</div> 
```

这只是部分成功。

所需的 HTML 输出

```
<div id="toc">
<p>table of contents:</p>
<h3>
<a href="#construction-block">Construction Block</a>
</h3>
<h3>
<a href="#construction-box">Construction Box</a>
</h3>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:49:17.887

我建议以下内容（鉴于 HTML 中的一些更改）：

```
$('<p />', {
    'text': 'Table of contents'
}).appendTo('#toc');
$('<ol />').appendTo('#toc');

$('h3').each(
    function() {
        var that = this,
            $that = $(that),
            a = $('<a />', {
                'href': '#' + that.id,
                'text': $that.text()
            }),
            li = $('<li />').append(a).appendTo('#toc ol');
    });​ 
```

这个 jQuery 创建一个有序列表（本质上，它是目录的语义定义*）*，并将`h3`元素的文本附加到`a`新创建的和附加的列表项中的新元素。

HTML 更改是删除`<a>`元素，因为使用`id`can （和*should*）而不是命名锚点（这在 IE 中也适用）。

新的 HTML：

```
<div id="toc"></div>
<h3 id="construction-block">Construction Block</h3>
<p>...</p>
<h3 id="construction-box">Construction Box</h3>
<p>...</p> 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/jRtsH/)。

直到现在我才想到这一点，但是即使没有元素`id`上的属性，您也可以实现相同的效果`h3`，并且只需使用 jQuery 来创建相关的`id`属性：

```
$('<p />', {
    'text': 'Table of contents'
}).appendTo('#toc');
$('<ol />').appendTo('#toc');

$('h3').each(
    function(i,el) {
        var $that = $(el),
            text = $that.text(),
            id = text.toLowerCase().replace(/\s+/,'-');
        el.id = id;
        var a = $('<a />', {
            'href' : '#' + id,
            'text' : text
        }),
            li = $('<li />').append(a).appendTo('#toc ol');
    });​ 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/jRtsH/1/)。

参考：

*   [`append()`](http://api.jquery.com/append/).
*   [`appendTo()`](http://api.jquery.com/appendTo/).
*   [jQuery（如何使用 jQuery 创建元素）](http://api.jquery.com/jQuery/#jQuery2)。
*   [正则表达式](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions)。
*   [`String.replace()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/replace).
*   [`String.toLowerCase()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/toLowerCase).
*   [`text()`](http://api.jquery.com/text/).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:39:33.047

```
$("#toc").append("<h3>").text(current.html()); 
```

# android - getItemId 返回列表中的第一个文本视图 ID，而不是单击的 ID

> ID：12794996
> 
> 赞同：0
> 
> 时间：2012-10-09T07:34:09.887
> 
> 标签：android, textview, contextmenu

我有一个动态创建的 TextView 列表，我正在为其创建上下文菜单。但是，我的代码返回第一个文本视图的 id，而不是单击的那个。

```
public void onCreateContextMenu(ContextMenu menu, View v,ContextMenu.ContextMenuInfo menuInfo) {
    super.onCreateContextMenu(menu, v, menuInfo);
    // Create your context menu here
    menu.setHeaderTitle("Context Menu");
    menu.add(0, v.getId(), 0, "Edit n Replace");
    menu.add(0, v.getId(), 1, "Delete");
}
@Override
public boolean onContextItemSelected(MenuItem item) {
    // Call your function to preform for buttons pressed in a context menu
    // can use item.getTitle() or similar to find out button pressed
    // item.getItemID() will return the v.getID() that we passed before
    super.onContextItemSelected(item);

    if ( item.getTitle().toString().equals("Delete")){
        NotesDatabase db =new NotesDatabase(this);

        TextView tv = (TextView) findViewById(item.getItemId());
        db.searchAndDelete(tv.getText().toString());
    }
    return true;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:44:14.333

您为两个 TextView 添加相同的 ID

```
menu.add(0, v.getId(), 0, "Edit n Replace");
menu.add(0, v.getId(), 1, "Delete"); 
```

尝试为每个文本视图使用不同的 id。像这样 ：

```
menu.add(0, 1, 0, "Edit n Replace");
menu.add(0, 2, 1, "Delete"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:20:44.337

您应该需要监听 List Action onClick(View v) 事件，请参见示例。

//声明字符串全局变量 String result=null;

//点击contextmenu前onClick时获取TextView

```
public void onClick(View v)
{
   TextView tv = (TextView)v.findViewById(R.id.yourTextViewId);
    result=tv.getText().toString();
}

 public boolean onContextItemSelected(MenuItem item) 
{

        super.onContextItemSelected(item);

        if ( item.getTitle().toString().equals("Delete")){
            NotesDatabase db =new NotesDatabase(this);

            TextView tv = (TextView) findViewById(item.getItemId());
            db.searchAndDelete(result);
        }
        return true;
    } 
```

# android - 具有半径顶部底部的 Android ListView

> ID：12794997
> 
> 赞同：0
> 
> 时间：2012-10-09T07:34:14.050
> 
> 标签：android, listview, adapter

当我滚动 ListView 时，有谁知道如何使半径始终显示在顶部？

![在此处输入图像描述](../Images/c7aa7528379071fd080502ef3efc79b0.png)

![在此处输入图像描述](../Images/bceecf41cd1f8b20038e70a2c7ba2da9.png)

![在此处输入图像描述](../Images/3ccb9e3ad1ed34edf7fb533bf2feb9be.png)

我正在使用 BaseAdapter 来实现第一个和最后一个项目背景。

这是适配器代码，

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
    if(this.dataset != null && !this.dataset.isEmpty() && this.dataset.size() > 0){
        if(convertView == null){
            convertView = inflater.inflate(R.layout.corner_list_item_layout, null);
        }

        ViewHolder holder = (ViewHolder) convertView.getTag();
        if(holder == null){
            holder = new ViewHolder();  
            holder.item = (RelativeLayout) convertView.findViewById(R.id.corner_list_item_relativelayout);
            holder.label = (TextView) convertView.findViewById(R.id.corner_list_item_label);
            convertView.setTag(holder);
        }           

        if (position == 0) {
            if (position == (this.getCount() - 1)) {
                holder.item.setBackgroundResource(R.drawable.app_list_corner_round_light);
            } else {
                holder.item.setBackgroundResource(R.drawable.app_list_corner_round_top_dark);
            }
        } else if (position == (this.getCount() - 1)) {
            if(position % 2 == 0){
                holder.item.setBackgroundResource(R.drawable.app_list_corner_round_bottom_dark);
            }else{
                holder.item.setBackgroundResource(R.drawable.app_list_corner_round_bottom_light);
            }

        } else {
            if(position % 2 == 0){
                holder.item.setBackgroundResource(R.drawable.app_list_corner_middle_dark);
            }else{
                holder.item.setBackgroundResource(R.drawable.app_list_corner_middle_light);
            }
        }

        String str = String.valueOf(this.dataset.get(position));        
        holder.label.setText(str);

    }
    return convertView;
}` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:38:03.177

1.  将 ListView 放置在任何布局中。
2.  准备一个 9-patch 边框图像并将其作为布局的背景。

![在此处输入图像描述](../Images/0b596238019ddc67f9ed82fcbaedc247.png)