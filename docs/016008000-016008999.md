# StackOverflow 问答 16008000-16008999

# c# - 在变量名的开头使用数字

> ID：16008007
> 
> 赞同：4
> 
> 时间：2013-04-15T05:06:39.867
> 
> 标签：c#, entity-framework-5

我正在将 SQL 数据库中的数据映射到 c# 中的对象。问题是，不幸的是，其中一列被命名为“100_hrs”。所以当我创建我的 C# 对象时，我在声明中得到一个错误：

```
public float 100_hrs {get; set;} 
```

我试过`@`在前面使用，但它不起作用。如果该属性的名称与表列的名称不同，则它不会映射。我怎样才能映射这个？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T05:14:39.607

您可以使用列属性如下

```
[Column("100_hrs")]
public float hundred _hrs {get; set;} 
```

*   [MSDN](http://msdn.microsoft.com/en-us/library/system.data.linq.mapping.columnattribute.aspx)

*   [MVC3 命名以数字开头的列](https://stackoverflow.com/questions/7203897/mvc3-naming-a-column-beginning-with-a-number)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-15T05:12:24.073

回答为什么`@`不起作用。

`@`允许您使用关键字名称声明变量，它不允许您使用无效标记。

[MSDN](http://msdn.microsoft.com/en-us/library/x53a06bb.aspx)

关于主要问题，您似乎应该更改表列名称。
如果您使用某种映射引擎，例如 EntityFramework 的 NHibernate，您可以更改映射文件。例子：

```
[Column("100_hrs")]
public float hrs100 {get; set;} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T05:22:32.083

Why not use underscore before the number say _100_hrs since you could easily manipulate it by string extraction if you want to map it to your column? Although there is a little overhead it sure solve your problem.

# .net - 任务中的连续while循环

> ID：16008013
> 
> 赞同：1
> 
> 时间：2013-04-15T05:07:03.047
> 
> 标签：.net, task-parallel-library

当我在任务中调用无限while循环时，我正在学习TPL C#，它终止而没有任何错误。难道我做错了什么？下面是示例代码。

```
class Work2
{
    public void DoWork()
    {
        List<string> scenarios = new List<string>();
        scenarios.Add("work");
        scenarios.Add("climb");
        scenarios.Add("walk");
        scenarios.Add("run");

        List<int> id = new List<int>();
        id.Add(1);
        id.Add(2);
        id.Add(3);
        id.Add(4);

        for (int i = 0; i < 2; i++)
        {
            Task.Factory.StartNew(() =>
            {
                workInstance(id[i], scenarios);
            }, TaskCreationOptions.LongRunning);

            Thread.Sleep(500);
        }     
    }

    public void workInstance(int id, List<string> scenario)
    {
        string Guid = System.Guid.NewGuid().ToString();
        for (int i = 0; i < scenario.Count(); i++)
        {
            scenario[i] = scenario[i] + " " + Guid + " " + Thread.CurrentThread.ManagedThreadId;
        }

        while (true)
        {
            for (int i = 0; i < scenario.Count(); i++)
            {
                Console.WriteLine(scenario[i]);
            }
        }
    }        
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T10:54:26.407

问题是您没有等待`Task`s 完成。A`Process`在其所有前景`Thread`完成时结束。如果您手动创建一个，默认情况下它是作为前台线程创建的，因此您的应用程序在您创建的所有 s`Thread`完成之前不会结束。`Thread`

但是`Task`s （默认情况下）在后台线程上运行（即使您指定`LongRunning`）。这意味着即使有一些`Task`s 仍在运行，您的应用程序也会结束。

您应该做的是等待所有`Task`s 完成。就像是：

```
var tasks = new Task[2];

for (int i = 0; i < 2; i++)
{
    tasks[i] = Task.Factory.StartNew(() =>
    {
        workInstance(id[i], scenarios);
    }, TaskCreationOptions.LongRunning);
}

Task.WaitAll(tasks); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:59:13.877

如您所想，这是一个无限循环，请检查以下代码

```
static void Main(string[] args)
{
    Work2 w = new Work2();
    w.DoWork();
    Console.ReadKey();
} 
```

请注意，我已添加以下代码**Console.ReadKey();**

我现在看到一个滚动窗口，其中正在打印输出并且它仍在我的 PC 上运行 :)

调试您的代码，您将看到在**workInstance**方法中调用的线程有

```
Thread.CurrentThread.IsBackground=true 
```

当主线程退出时，即您的应用程序退出时，.NET Framework 将自动终止所有**IsBackground**属性设置为**“True”的线程**

供你参考，

*   [Thread.IsBackground 属性](http://msdn.microsoft.com/en-us/library/system.threading.thread.isbackground.aspx)

"*线程要么是后台线程，要么是前台线程。后台线程与前台线程相同，只是后台线程不会阻止进程终止。一旦属于某个进程的所有前台线程都已终止，公共语言运行时将结束过程。* ”

# actionscript-3 - actionscript 3（关于 ysqu、 ydf 和 ymo）（制作菜单）

> ID：16008028
> 
> 赞同：-1
> 
> 时间：2013-04-15T05:08:43.593
> 
> 标签：actionscript-3, actionscript-2

我现在正在处理一个 Flash 任务。但是，将 as2 更改为 as3 存在问题

你知道as3的代码是什么吗？

```
onClipEvent (enterFrame) {
Ysqu = _root.menu._y;
Ydf = Ypa-Ysqu;
Ymo = Ydf/10;
_root.menu._y = Ysqu+Ymo;
updateAfterEvent(enterFrame);
} 
```

非常感谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-20T12:34:17.497

要了解转换，您必须了解它们...

```
addEventListener(Event.ENTER_FRAME, sup);
function sup(e:Evt):void
{
Ysqu = MovieClip(root).menu.y;
Ydf = Ypa-Ysqu;
Ymo = Ydf/10;
MovieClip(root).menu.y = Ysqu+Ymo;
e.updateAfterEvent
} 
```

您将收到有关 updateevent 的警告，但它仍然有效。

`_y`改为`y`。 `OnClipEvent`改为`addEventListener`。 `_root`改为`MovieClip(root)`。

# javascript - Mobiscroll，我无法显示基本的滚动条

> ID：16008029
> 
> 赞同：0
> 
> 时间：2013-04-15T05:08:43.940
> 
> 标签：javascript, mobiscroll

我试图在我的网络应用程序中获得一个 mobiscroll 滚动器。我尝试按照他们在这里找到的最基本的教程：http: [//docs.mobiscroll.com/25](http://docs.mobiscroll.com/25)并且我没有得到任何显示。当谈到 javascript 时，我是一个超级大的菜鸟，我觉得我无法通过三行教程。这是一些代码：

```
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <!-- Bootstrap -->
    <link href="http://universitylunchbox.com/static/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="http://universitylunchbox.com/static/css/bootstrap-responsive.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://universitylunchbox.com/static/js/bootstrap.min.js"></script>

<style>
...
</style>
...

<input id="scroller" name="scroller" />

 ...

  </body>
<script type="text/javascript"> 
...
//google analytics stuff
...
$(function(){
    // create a datetimepicker with default settings
    $("#scroller").mobiscroll().datetime(); // Shorthand for: $("#scroller").mobiscroll({ preset: 'datetime' });
});
</script>

</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:37:55.633

您必须在 head 部分（在 jquery 之后）包含下载的 mobiscroll js 和 css 文件。此外，将您的初始化代码移到结束标记**之前**`</body>`

```
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<!-- Bootstrap -->
<link href="http://universitylunchbox.com/static/css/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="http://universitylunchbox.com/static/css/bootstrap-responsive.css" rel="stylesheet">
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://universitylunchbox.com/static/js/bootstrap.min.js"></script>

<!--Mobiscroll-->
<link href="css/mobiscroll.custom-2.5.0.min.css" rel="stylesheet" type="text/css" />
<script src="js/mobiscroll.custom-2.5.0.min.js" type="text/javascript"></script>

</head> 
```

# c++ - 为什么我的石头、纸、剪刀没有给出正确的结果？

> ID：16008031
> 
> 赞同：-1
> 
> 时间：2013-04-15T05:08:48.907
> 
> 标签：c++, opengl

下面的代码是我的石头剪刀布的实现。但是，问题是用户和计算机的动作不同步。

这是我执行它时发生的事情：

首先是计算机的选择（它显示“纸”）。然后当我选择我的移动（岩石）时，它会显示它的移动（岩石）。这是第二次（纸v / s岩石）。然后在第三次我给出我的移动（剪刀）并且它给出它的移动（纸）时，结果显示为“并列”，但我应该赢了。

我无法理解代码是如何做到这一点的，因为我在没有 OpenGL 部分的情况下使用 c++ 实现了逻辑并且它运行良好。

有人可以在代码中看到问题吗？

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<GL/glut.h>

int a; //GLOBAL VARIABLE TO CHECK USER'S CHOICE IN menu()
int n=0,sa,sb; //n IS NO. OF MOVES WE WANT- WE HAVE 3 MOVES IN THIS PROGRAM. sa & sb ARE THE SCORES OF USER AND COMPUTER RESPECTIVELY 
char ch;

int comp_move();//THIS CALCULATES COMPUTER'S MOVE
void check(int,int);//CHECKS WHO HAS WON/LOST IN ONE PARTICULAR MOVE

int comp_move()
{
    int c=0;
    c=rand()%3;
    if(c==1)drawrock(newrock);
    if(c==2)drawpaper(newpaper);
    if(c==3)drawscissor(newscissor);
    return c;
}

void check(int b)
{
    if(a==1) //rock is player's selection
    {
        if(b==2)sb++;
        if(b==3)sa++;
    }
    else if(a==2) //paper is player's selection
    {
        if(b==1) sa++;
        if(b==3) sb++;
    }
    else //scissor is player's selection
    {
        if(b==1)sb++;
        if(b==2)sa++;
    }
}

void menu(int id) //THE MENU FUNCTION
{
    switch(id)
    {
    case 1: a=1;n++;
            break;
    case 2: a=2;n++;
            break;
    case 3: a=3;n++;
            break;
    }
    glutPostRedisplay();
}

void display()
{
    //glClearColor(1.0,1.0,1.0,1.0);
    glColor3f(1.0,0.0,0.0);
glClear(GL_COLOR_BUFFER_BIT);

    if(a==1)drawrock(rock);
    if(a==2)drawpaper(paper);
    if (a==3)drawscissor(scissor);

    //for(int i=1;i<=n;i++)
    int b=comp_move();
    check(b);

    if(n==3)//3 rounds
    {
        if(sa>sb)
            sprint(150,450,a);//prints win
        else if(sa==sb)
            sprint(150,450,a);//prints loss
        else
            sprint(150,450,a);//prints tied
    }

    if(n>4) exit(0); //here i want to see the computer's third move
    glFlush();
}

void MYINIT()
{
    glClearColor(1.0,1.0,1.0,1.0);
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    gluOrtho2D(0,500,0,500);
    glMatrixMode(GL_MODELVIEW);
}

int main()
{
    glutInitWindowSize(500,500);
    glutInitDisplayMode(GLUT_SINGLE|GLUT_RGB);
    glutCreateWindow("rock, paper, scissors");
    glutCreateMenu(menu);
    glutAddMenuEntry("Rock",1);
    glutAddMenuEntry("Paper",2);
    glutAddMenuEntry("Scissors",3);
    glutAttachMenu(GLUT_RIGHT_BUTTON);
    MYINIT();
    glutDisplayFunc(display);
    glutMainLoop();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T06:12:54.407

线

```
c=rand()%3; 
```

将产生一个介于`0`and之间的值，而`2`不是`1`and `3`。将其替换为：

```
c = 1 + (rand()%3); 
```

# asp-classic - 根据用户在asp中的输入上传文件创建动态文件夹

> ID：16008033
> 
> 赞同：0
> 
> 时间：2013-04-15T05:08:53.443
> 
> 标签：asp-classic

这是我将文件上传到文件夹的代码......但我需要将文件上传到可能尚不存在的文件夹。我如何在上传文件之前创建一个文件夹，或者在 asp 中是否有一个参数可以在将文件复制到那里之前创建一个文件夹，如果它没有退出？...我需要根据用户输入创建文件夹...

```
<%
Class FileUploader
    Public  Files
    Private mcolFormElem

    Private Sub Class_Initialize()
        Set Files = Server.CreateObject("Scripting.Dictionary")
        Set mcolFormElem = Server.CreateObject("Scripting.Dictionary")
    End Sub

    Private Sub Class_Terminate()
        If IsObject(Files) Then
            Files.RemoveAll()
            Set Files = Nothing
        End If
        If IsObject(mcolFormElem) Then
            mcolFormElem.RemoveAll()
            Set mcolFormElem = Nothing
        End If
    End Sub

    Public Property Get Form(sIndex)
        Form = ""
        If mcolFormElem.Exists(LCase(sIndex)) Then Form = mcolFormElem.Item(LCase(sIndex))
    End Property

    Public Default Sub Upload()
        Dim biData, sInputName
        Dim nPosBegin, nPosEnd, nPos, vDataBounds, nDataBoundPos
        Dim nPosFile, nPosBound

        biData = Request.BinaryRead(Request.TotalBytes)
        nPosBegin = 1
        nPosEnd = InstrB(nPosBegin, biData, CByteString(Chr(13)))

        If (nPosEnd-nPosBegin) <= 0 Then Exit Sub

        vDataBounds = MidB(biData, nPosBegin, nPosEnd-nPosBegin)
        nDataBoundPos = InstrB(1, biData, vDataBounds)

        Do Until nDataBoundPos = InstrB(biData, vDataBounds & CByteString("--"))

            nPos = InstrB(nDataBoundPos, biData, CByteString("Content-Disposition"))
            nPos = InstrB(nPos, biData, CByteString("name="))
            nPosBegin = nPos + 6
            nPosEnd = InstrB(nPosBegin, biData, CByteString(Chr(34)))
            sInputName = CWideString(MidB(biData, nPosBegin, nPosEnd-nPosBegin))
            nPosFile = InstrB(nDataBoundPos, biData, CByteString("filename="))
            nPosBound = InstrB(nPosEnd, biData, vDataBounds)

            If nPosFile <> 0 And  nPosFile < nPosBound Then
                Dim oUploadFile, sFileName
                Set oUploadFile = New UploadedFile

                nPosBegin = nPosFile + 10
                nPosEnd =  InstrB(nPosBegin, biData, CByteString(Chr(34)))
                sFileName = CWideString(MidB(biData, nPosBegin, nPosEnd-nPosBegin))
                oUploadFile.FileName = Right(sFileName, Len(sFileName)-InStrRev(sFileName, "\"))

                nPos = InstrB(nPosEnd, biData, CByteString("Content-Type:"))
                nPosBegin = nPos + 14
                nPosEnd = InstrB(nPosBegin, biData, CByteString(Chr(13)))

                oUploadFile.ContentType = CWideString(MidB(biData, nPosBegin, nPosEnd-nPosBegin))

                nPosBegin = nPosEnd+4
                nPosEnd = InstrB(nPosBegin, biData, vDataBounds) - 2
                oUploadFile.FileData = MidB(biData, nPosBegin, nPosEnd-nPosBegin)

                If oUploadFile.FileSize > 0 Then Files.Add LCase(sInputName), oUploadFile
            Else
                nPos = InstrB(nPos, biData, CByteString(Chr(13)))
                nPosBegin = nPos + 4
                nPosEnd = InstrB(nPosBegin, biData, vDataBounds) - 2
                If Not mcolFormElem.Exists(LCase(sInputName)) Then mcolFormElem.Add LCase(sInputName), CWideString(MidB(biData, nPosBegin, nPosEnd-nPosBegin))
            End If

            nDataBoundPos = InstrB(nDataBoundPos + LenB(vDataBounds), biData, vDataBounds)
        Loop
    End Sub

    'String to byte string conversion
    Private Function CByteString(sString)
        Dim nIndex
        For nIndex = 1 to Len(sString)
           CByteString = CByteString & ChrB(AscB(Mid(sString,nIndex,1)))
        Next
    End Function

    'Byte string to string conversion
    Private Function CWideString(bsString)
        Dim nIndex
        CWideString =""
        For nIndex = 1 to LenB(bsString)
           CWideString = CWideString & Chr(AscB(MidB(bsString,nIndex,1))) 
        Next
    End Function
End Class

Class UploadedFile
    Public ContentType
    Public FileName
    Public FileData

    Public Property Get FileSize()
        FileSize = LenB(FileData)
    End Property

    Public Sub SaveToDisk(sPath)
        Dim oFS, oFile
        Dim nIndex

        If sPath = "" Or FileName = "" Then Exit Sub
        If Mid(sPath, Len(sPath)) <> "\" Then sPath = sPath & "\"

        Set oFS = Server.CreateObject("Scripting.FileSystemObject")
        If Not oFS.FolderExists(sPath) Then Exit Sub

        Set oFile = oFS.CreateTextFile(sPath & FileName, True)

        For nIndex = 1 to LenB(FileData)
            oFile.Write Chr(AscB(MidB(FileData,nIndex,1)))
        Next

        oFile.Close
    End Sub

    Public Sub SaveToDatabase(ByRef oField)
        If LenB(FileData) = 0 Then Exit Sub

        If IsObject(oField) Then
            oField.AppendChunk FileData
        End If
    End Sub

End Class
%> 
```

![主屏幕](https://i.stack.imgur.com/xGC0t.jpg)

![上传画面](https://i.stack.imgur.com/T484S.jpg) 有谁能够帮我？

我需要上传与该形式编号对应的一组文档...所以我需要以用户输入的形式编号的名称创建一个文件夹...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:16:21.907

只需使用文件系统对象创建一个目录，如下所示：

```
dim fso : set fso = server.createobject("scripting.filesystemobject")
dim absolutePath : absolutePath = "d:\path\to\new\directory"
if not fso.FolderExists(absolutePath) then
    fso.createFolder( absolutePath )
end if
set fso = nothing 
```

检查fso的[api 文档](http://msdn.microsoft.com/de-de/library/aa711216%28v=vs.71%29.aspx)

要使用该“形式”编号，只需从 request.form("name_for_proforma_field")...

当您使用上传类时，您必须使用

```
fileUploader.Form("name_for_proforma_field") 
```

代替

```
request.form 
```

因为使用后`request.binaryread`您无法访问该`request.forms`集合...

简要示例（未测试）：

```
dim upl : set upl = new FileUploader()
upl.upload()
' from now on you have to use upl.Form() instad of request.form

dim folderName : folderName = upl.Form("name_for_proforma_field")
dim fso : set fso = server.createobject("scripting.filesystemobject")
dim absolutePath : absolutePath = "d:\path\to\new\directory\" & folderName
if not fso.FolderExists(absolutePath) then
    fso.createFolder( absolutePath )
end if
set fso = nothing 
```

有关 fileupload 类的更多信息，请查看[此处](http://www.freeaspupload.net/)

# blackberry-10 - 包含错误 在 BB10 应用程序开发的 cpp 文件中

> ID：16008042
> 
> 赞同：0
> 
> 时间：2013-04-15T05:09:45.180
> 
> 标签：blackberry-10, qtnetwork

我目前正在开发 BB10 应用程序。

我正在尝试黑莓开发者门户中提供的一些演示应用程序。

我目前正在开发基于[HTTP Communication](https://developer.blackberry.com/cascades/documentation/device_comm/networking/wrapping_up.html)的应用程序。

当我构建项目时，它给出了一个错误 `fatal error: QtNetwork: No such file or directory`。

同样在cpp文件中给出了一个`?`包含声明的前面`#include <QtNetwork>` 说`Unresolved Inclusion : <QtNetwork>`

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:44:44.183

QtNetwork 是一个模块，而不是要导入的类。例如写：

```
#include <QNetworkAccessManager> 
```

# sql - 基于键的透视列

> ID：16008043
> 
> 赞同：1
> 
> 时间：2013-04-15T05:09:48.790
> 
> 标签：sql, sql-server, tsql, ssis, bids

我有下表：

```
key_column INT,
column_type_id INT, --has only 3 values, e.g. 1,2,3
value INT 
```

我想将该表中的数据传输到我的 DW 事实表中，如下所示：

```
key_column INT,
column_type_id INT,
column_type_1 INT,
column_type_2 INT,
column_type_3 INT 
```

匹配标准如下：

1) 使用 key_column 匹配列 2) 使用 column_type_id 确定应该插入哪个列值（如果 column_type_id = 1 则将值插入 column_type_1 等，然后丢弃 column_type_id 并且不要重复行，因此 key_column 是不同的）。

有谁知道如何通过 TSQL 或（最好是）SSIS 来做到这一点？我还应该提到合并或重复消除的排序不是一种选择，因为我的硬件太弱，无法处理我拥有的数据量的排序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:36:07.767

您可以执行`INSERT INTO...SELECT`以插入原始表中的透视数据，

```
INSERT INTO DWFACT( key_column, 
                    column_type_id, 
                    column_type_1, 
                    column_type_2, 
                    column_type_3
                    )
SELECT  key_column, ColTypeID, [1], [2], [3]
FROM    
        (
            SELECT  key_column, 
                    column_type_id as ColTypeID, 
                    column_type_id, 
                    value
            FROM    TableName
        ) org
        PIVOT
        (
            MAX(value)
            FOR column_type_id IN ([1], [2], [3])
        ) pvt
ORDER   BY key_column 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!6/b9348/1)

# api - 通过 Paypal API 我可以使用什么调用从我的贝宝余额转移到我的银行账户

> ID：16008044
> 
> 赞同：3
> 
> 时间：2013-04-15T05:10:08.010
> 
> 标签：api, paypal, transfer, bank

我想将我的贝宝余额自动存入我的银行。厌倦了必须每周去点击转账到我的银行。

我可以使用什么 API 调用将我的贝宝余额转回我的关联银行账户？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T12:59:00.690

没有可用于将资金转入银行的 API。但是您可以在您的帐户上设置自动扫描。在您的 PayPal 帐户上启用此功能后，PayPal 将每天将您 PayPal 帐户中的任何资金发送到您的银行帐户。这意味着您不需要每次都进入您的帐户并手动执行此操作，它会自动完成。

为了在您的帐户上启用此功能，您首先需要联系 PayPal 客户服务，并请求在您的帐户上启用此功能。一旦您的帐户启用了此功能，您将需要进入您的帐户并将其打开。

# linux - 如何从 shell 脚本中的文件中读取用户名和密码？

> ID：16008045
> 
> 赞同：1
> 
> 时间：2013-04-15T05:10:18.653
> 
> 标签：linux, bash, shell

我想通过 ssh 使用 shell 脚本登录到远程计算机，我想从文本文件中传递用户名和密码。怎么做？

这是我尝试过的代码。

```
 #!/bin/sh
    #
    username=user
    ip=192.168.2.21
    ssh $username@$ip < user.txt 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:23:55.560

您不能以您所指的方法进行 SSH。您将需要使用为帮助您完成工作而创建的 SSH 密钥。

此外，请避免将密码存储在文本文件中。

# ember.js - 我们如何重新加载路由 Ember JS（版本 1.0.0-rc.1）

> ID：16008047
> 
> 赞同：0
> 
> 时间：2013-04-15T05:10:42.497
> 
> 标签：ember.js, ember-router

我有一个条件，我的路线：

`application.com/#/sample/:id`被重定向回`application.com/#/sample/:id` 例如， `application.com/#/sample/1`获取一个重定向到的事件`application.com/#/sample/2`

这不会导致重新加载。有没有人解决这个案子？

实际上我有一个案例 `application.com/#/parent/123/sample/1`导致重定向到`application.com/#/parent/123/sample/2`

事件由`ParentRouter`to接收`transitionTo("parent.sample",{id:2})`。

我在日志中得到的是：

> 未捕获的错误：断言失败：不允许清空处于 inBuffer 状态的视图，并且在正常情况下不应发生。您的应用程序中很可能存在错误。这可能是由于过多的属性更改通知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:16:58.620

对于手动转入路线，您可以尝试以下两种方法：

1.  对于具有**不同**名称的路线：

    `App.Router.router.transitionTo(name, params);`

2.  对于**同名**路线：

    `App.Router.router.getHandler(name).enter();`

    它应该与`enter`路由的调用事件相同。（我不确定）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T12:11:23.943

问题已解决。这是车把中的 NULL 处理问题。我对空值做了一些额外的检查。现在可以了。

Github 上有一些类似的问题，我们总是可以重新加载当前路由并重定向回任何路由。

感谢帮助。

# actionscript-3 - 在 flex 移动应用程序中显示印地语

> ID：16008048
> 
> 赞同：0
> 
> 时间：2013-04-15T05:10:44.467
> 
> 标签：actionscript-3, apache-flex, air, flash-builder, hindi

我想在 flex 移动应用程序中将印地语显示为标签文本。我正在使用 adobe flash builder 4.5

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:08:22.733

为此，您需要考虑以下事项：

1.  在您的项目中使用 UTF-8 文件编码。
2.  使用支持印地语字符的字体。

我不太明白你的问题是什么，也许你可以更新你的问题。

# asp.net - 我想重写网址

> ID：16008051
> 
> 赞同：0
> 
> 时间：2013-04-15T05:11:00.680
> 
> 标签：asp.net

我的路径是[http://www.infotrackls.com/PdfQuotation/Eng.pdf](http://www.infotrackls.com/PdfQuotation/Eng.pdf)。我想将给定路径重写为[http://www.infotrackls.com/eng](http://www.infotrackls.com/eng)。你能帮我吗？

web.config 代码是

```
 <urlrewrites>
          <rule>
            <url>Eng</url>
            <rewrite>/PdfQuotation/Eng.pdf</rewrite>
         </rule> </urlrewrites> 
```

页面代码是

```
<a href ="Eng"> eng</a> 
```

以上所有代码都在本地主机上运行，​​但这些代码不在服务器上运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:34:47.703

**注意：**我已根据您的评论编辑了我的答案

我有一种感觉，你正在以错误的方式解决问题。

由于您希望用户知道[http://www.infotrackls.com/eng](http://www.infotrackls.com/eng)的存在，因此您应该在超链接中使用它。

因此，当用户点击超链接时，他会在地址栏中看到[http://www.infotrackls.com/eng](http://www.infotrackls.com/eng)。

**[并将http://www.infotrackls.com/eng](http://www.infotrackls.com/eng)**映射到**[http://www.infotrackls.com/PdfQuotation/Eng.pdf](http://www.infotrackls.com/PdfQuotation/Eng.pdf)**，您应该修改您的**webconfig。**文件如下

```
<system.web>
   ...
    <urlMappings enabled="true">
        <add url="~/eng/" mappedUrl="~/PdfQuotation/eng.pdf" />
    </urlMappings>
   ...
</system.web> 
```

# asp.net-mvc-4 - 如何将 MVC 4 应用程序部署到基于 Windows Web Server 的专用主机？

> ID：16008058
> 
> 赞同：0
> 
> 时间：2013-04-15T05:11:43.783
> 
> 标签：asp.net-mvc-4

我想将 MVC 4 Web 应用程序部署到基于 Windows Web Server 2008 的专用主机。我使用 SQL Server 2008 R2 Express 作为我的后端数据库。我需要采取哪些步骤来处理以下问题：

1.  在 Web 服务器上安装 SQL Server 2008 R2 Express 并部署我的数据库。
2.  使用 SSMS 远程管理 SQL Express 数据库。
3.  在我的 EF5 生成的模型中配置数据库路径
4.  部署我的应用程序
5.  管理对我的应用程序的更改。

有人可以给我一个详细的答案/一些好的链接吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T05:43:28.920

> 在 Web 服务器上安装 SQL Server 2008 R2 Express 并部署我的数据库。

这取决于您的提供商。大多数提供程序（如果不是全部）都允许您安装自己的**许可**SQL Server。如果您将使用 Express 版本，那么您的提供商 100% 允许并且应该允许。您在这里需要的唯一步骤是[转到 SQL Server 2008 R2 的下载页面](http://www.microsoft.com/en-us/download/details.aspx?id=30438)并下载您需要的相应文件。您在该页面上需要的文件是名称中带有**“ADV”**的文件。如果您要安装 64 位操作系统，请选择**x64 ；如果您要安装 32 位操作系统，请选择****x86**。

> 使用 SSMS 远程管理 SQL Express 数据库。

这取决于您的提供商设置的防火墙。但基本上这是允许远程访问 SQL Server 的方式：

**对于 Windows 2008 R2**

1.  使用远程桌面登录到您的专用服务器。如果您不知道如何执行此操作，最好咨询您的提供商。
2.  转到开始 > 所有程序 > Microsoft SQL Server 2008 R2 > 配置工具 ->`SQL Server Configuration Manager`
3.  在步骤 #2 中打开的窗口中，展开 SQL Server Configuration Manager (Local) -> SQL Server Network Configuration -> Protocols for SQLExpress
4.  在右侧窗格中，右键单击 TCP/IP 并选择属性。
5.  选择 IP 地址选项卡，然后滚动到**IP All**部分。
6.  将 TCP 端口值设置/更改为/从 1433 到 14333（或任何其他端口），然后单击确定。
7.  再次右键单击 TCP/IP，`Enable`它
8.  通过转到开始 -> 所有程序 -> 管理工具 -> 服务 -> SQL Server (SQLEXPRESS) -> 重新启动来重新启动 SQL Server。位于`Restart`左侧窗格中。

> 在我的 EF5 生成的模型中配置数据库路径

不幸的是，我无法回答这个问题，因为我相信您正在使用 EF 设计器来创建模型。我从来没有以这种方式与 EF 合作过，而只是通过代码优先。我必须跳过这部分，让你谷歌一下。

> 部署我的应用程序

这里已经[有一个很好的文档，](http://www.iis.net/learn/install/installing-publishing-technologies/installing-and-configuring-ftp-7-on-iis-7)所以我不会在这里复制它。基本上你需要做的是在你的专用服务器上启用 FTP。然后，一旦设置好，您就可以继续对您的应用程序进行**bin 部署。**

> 管理对我的应用程序的更改。

我假设您在这里要问的是，如果您对应用程序进行了更改，您将如何重新部署它。一个**bin-deployment**不会受到伤害。仅部署您有更改的文件是一种好方法。了解哪些文件已更改可能因您使用的工具而异。此外，如果您没有任何花哨的设置来告诉您的用户您正在将更改部署到您的站点，您可能想[看看这篇文章](http://weblogs.asp.net/scottgu/archive/2005/10/06/426755.aspx)。它告诉您将`App_Offline.htm`文件放在您的根 Web 目录中。这应该仍然适用于 MVC，毕竟 MVC 仍然是 ASP.Net。

# php - php：刷新数据并结束客户端连接

> ID：16008062
> 
> 赞同：0
> 
> 时间：2013-04-15T05:12:20.350
> 
> 标签：php, apache

我有一个 php 脚本（在普通的 LAMP 环境中），它在脚本末尾运行几个家务任务。

我使用 flush() 将所有数据推送到客户端，效果很好（页面已完全加载），但浏览器仍在等待数据（由“加载”动画指示），这让用户感到困惑，但当然很清楚，因为 Apache 无法知道 PHP 是否会在 flush() 之后生成更多输出 - 但是在我的情况下它永远不会。

有没有办法告诉客户端输出已经完成并且即使脚本继续运行也应该立即关闭 http 连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:20:08.533

It sounds like you have a long running script performing varioous tasks. Especially it appears to script goes on doing things after it has sent the reply to the client. This is a design that opens a whole lot of potential problems. You should re-think your architecture.

Keep house keeping tasks and client communication strictly separate. For example you could have a client request processed and trigger internal sub requests (which you can detach from) or deligate tasks to a cron like system. Then offer a second view to the client which visualized the progress and result of those tasks. This approach is much safer, more flexible and easier to extend when required. And your problem at hand is solved, too :-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:39:30.520

您可以使用此功能`fastcgi_finish_request()`特殊功能来完成请求并刷新所有数据，同时继续做一些耗时的事情（视频转换，统计处理等）；[http://php.net/manual/en/install.fpm.php](http://php.net/manual/en/install.fpm.php)但你需要为它安装 FPM

```
<?php
 echo "You can see this from the browser immediately.<br>";
 fastcgi_finish_request();
 sleep(10);
 echo "You can't see this form the browser.";
?> 
```

# php - 基本的PHP类问题

> ID：16008063
> 
> 赞同：0
> 
> 时间：2013-04-15T05:12:22.020
> 
> 标签：php

又要开始了！

我有一个用于登录的表单。

```
<form method="post" action="user.php">

<label>Username:</label><label class="error"><?php echo $form->error("username"); ?></label>
<input type="text" name="username" maxlength="25" class="text" value="<?php echo $form->value("username"); ?>"/>

<label>Password:</label><label class="error"><?php echo $form->error("password"); ?></label>
<input type="password" name="password" value="<?php echo $form->value("password"); ?>" class="text" />

<input type="submit" name="login" class="button" value="Login" /> 
```

这是我的 user.php 文件

```
class User {

public function __construct() {

    $this->db = new Database(DB_TYPE, DB_HOST, DB_NAME, DB_USER, DB_PASS);

}

public function login() {

    //check username for errors
    $user = $_POST['username'];

    $field = "username";

    //check username isn't empty
    if (empty($user)) {
        $form->setError($field, "* Username not entered");
    }
    //username taken
    else {
        $query = $this->db->select("SELECT userid FROM user WHERE username = :username", array('username' => $user));
        if (!$query) {
            $form->setError($field, "*Username not found");
        }
    }

    //check passwords for error
    $pass = $_POST['pass'];

    $field = "pass";

    //check password isn't empty
    if (empty($pass)) {
        $form->setError($field, "*Password not entered");
    }
    //incorrect password
    else {
        $query = $this->db->select("SELECT userid FROM user WHERE username = :username AND password = :password", array('user' => $user, 'password' => Hash::create('sha256', $pass, HASH_PASSWORD_KEY)));
        if (!$query) {
            $form->setError($field, "*Password not found");
        }
    }

    //if errors exist, return to user - otherwise insert into db
    if ($form->num_errors > 0) {
        return 1;  //Errors with form
    } 
    else{

        //use the userid and set it as session variable
        $query = $this->db->select("SELECT userid FROM user WHERE username = :username AND password = :password", array('user' => $user, 'password' => Hash::create('sha256', $pass, HASH_PASSWORD_KEY)));
        $_SESSION['userid'] = $query[0]['userid'];

        $_SESSION['logged_in'] = true;

        header("Location ".URL."dashboard.php");
    }
}
} 
```

如您所见，我使用`$form`的是 form.php。

从表单本身访问此类的最佳方法是什么？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T05:16:00.290

```
if(isset($_POST['login'])){
    $this->login();
}
if(isset($_POST['register'])){
    $this->register();
}
else{
    $this->logout();
} 
```

注销将始终被执行。这是因为 $_POST['register'] 没有设置，总是采用 else 条件。将第二个更改`if`为`else if`.

# php - 使用定期 PayPal 付款配置文件的参考交易

> ID：16008066
> 
> 赞同：0
> 
> 时间：2013-04-15T05:12:34.393
> 
> 标签：php, reference, paypal

我想在下一个计费周期开始之前用不同的金额修改我的定期付款的计费周期，建议我应该为此使用参考交易。但正如我们所知，经常性支付配置文件调用不会以交易 ID 响应，那么如何进行参考交易呢？请帮我解决这个问题。

谢谢你，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T22:14:06.700

如果您使用的是通过 Payments Pro 或 Express Checkout 创建的定期付款资料，则需要使用[UpdateRecurringPaymentsProfile](https://www.x.com/developers/paypal/documentation-tools/api/updaterecurringpaymentsprofile-api-operation-nvp)对其进行更新。您也可以通过 PayPal 帐户手动操作。

如果配置文件是使用信用卡设置的，则更新金额没有任何限制。不幸的是，如果配置文件是使用 PayPal 帐户设置的，您只能每 180 天将金额增加 20%。

这可能就是推荐参考交易的原因。使用参考交易，您可以构建自己的定期支付系统并避免此限制。

# mysql - MySQl 错误 #1064 存储过程 IF ELSE 与多个 SELECT 语句

> ID：16008067
> 
> 赞同：2
> 
> 时间：2013-04-15T05:12:37.490
> 
> 标签：mysql, select, stored-procedures, phpmyadmin

我在 GoDaddy 上通过 phyMyAdmin 使用 MySQL。我可以执行这个语句，返回一个整数值，没有任何问题：

```
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = 2) LIMIT 0,1; 
```

但是，当我尝试创建以下存储过程时，出现以下错误：

> # 1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 25 行的 '' 附近使用正确的语法

```
DROP PROCEDURE IF EXISTS `spGetPreferredRunNumbers`$$
CREATE PROCEDURE `spGetPreferredRunNumbers`(IN prefTimeRange INT(4), INOUT run1 INT(4), INOUT run2 INT(4), INOUT run3 INT(4), INOUT run4 INT(4), INOUT run5 INT(4))
BEGIN
IF (prefTimeRange = 2) THEN BEGIN
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 0,1  INTO run1;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 1,1  INTO run2;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 2,1  INTO run3;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 3,1  INTO run4;
SET run5 = -1;
END;
ELSE IF (prefTimeRange = 3) THEN BEGIN
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 0,1  INTO run1;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 1,1  INTO run2;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 2,1  INTO run3;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 3,1  INTO run4;
SET run5 = -1;
END;
ELSE BEGIN
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 0,1  INTO run1;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 1,1  INTO run2;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 2,1  INTO run3;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 3,1  INTO run4;
SELECT DISTINCT `runNumber` FROM RideSlot WHERE (timeRange = prefTimeRange) LIMIT 4,1  INTO run5;
END;
END IF;
END$$
DELIMITER; 
```

是的，我已经单独测试了具有不同限制的其他选择语句，它们也可以正常工作，除非在选择 LIMIT 4,1 时使用 2 或 3 作为 prefTimeRange。prefTimeRange 的 2 和 3 仅返回四个结果，因此如果 prefTimeRange 为 2 或 3，我将 -1 分配给 run5。

无论我是否这样做，我都会得到同样的错误：`prefTimeRange = 3` 或者这个： `prefTimeRange = "3"`

是的，我记得告诉 phpMyAdmin 正确的分隔符是 $$。

我错过了什么？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T22:14:54.310

已解决：事实证明 ELSE 和 IF 之间的空间需要删除！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-25T23:19:33.207

这是一个非常糟糕的 mysql 问题，并且没有正确记录。MYSQL 存储过程 - 如果您在 ELSE 之前留下额外的行或空格，则 else 部分无论如何都会执行。

```
IF <your condition> then
<do this code>
                   <-- extra empty line
ELSE
<this always executes no matter what is in IF statement> 
```

在上面的示例中 - 如果您在 ELSE 上方留下一个空行，则 else 部分始终执行。不要在 if-else 的 else 部分上方留下 EXTRA LINE。

# php - 发送带有附件的电子邮件以编码格式 PHP 显示

> ID：16008073
> 
> 赞同：0
> 
> 时间：2013-04-15T05:13:23.547
> 
> 标签：php, email

这是用于发送附有 doc 文件的电子邮件的代码，正在接收电子邮件，但电子邮件中的内容以编码文本格式显示

```
<?php

$to = $_POST['to'];
$from = $_POST['from'];
$subject = $_POST['subject'];
$message = $_POST['message'];

$fileatt = $_FILES['upload_file']['tmp_name'];
$fileatt_type = $_FILES['upload_file']['type'];//application/msword
$fileatt_name = $_FILES['upload_file']['name'];

$headers = "From: $from";

if (is_uploaded_file($fileatt)) {

$file = fopen($fileatt,'rb');
$data = fread($file,filesize($fileatt));
fclose($file);

$semi_rand = md5(time());
$mime_boundary = "==Multipart_Boundary_x{$semi_rand}x";

$headers .= "\nMIME-Version: 1.0\n" .
"Content-Type: multipart/mixed;\n" .
" boundary=\"{$mime_boundary}\"";

$message = "This is a multi-part message in MIME format.\n\n" .
"--{$mime_boundary}\n" .
"Content-Type: text/plain; charset=\"iso-8859-1\"\n" .
"Content-Transfer-Encoding: 7bit\n\n" .
$message . "\n\n";

$data = chunk_split(base64_encode($data));

$message .= "--{$mime_boundary}\n" .
"Content-Type: {$fileatt_type};\n" .
" name=\"{$fileatt_name}\"\n" .
"Content-Disposition: attachment;\n" .
" filename=\"{$fileatt_name}\"\n" .
"Content-Transfer-Encoding: base64\n\n" .
$data . "\n\n" .
"--{$mime_boundary}--\n";
}

mail($to, $subject, $message, $headers);
?> 
```

**我收到的电子邮件是这样的**

```
message:This is a multi-part message in MIME format. --==Multipart_Boundary_x788f8ac40875c8c7a6540be6654be9c8x Content-Type: text/plain; charset="iso-8859-1" Content-Transfer-Encoding: 7bit --==Multipart_Boundary_x788f8ac40875c8c7a6540be6654be9c8x Content-Type: application/msword; name="File_name.doc" Content-Disposition: attachment; filename="File_name.doc" Content-Transfer-Encoding: base64 s pcEAW4AJBAAA+BK/AAAAAAAAEAAAAAAACAAAMhMAAA4AYmpiaqz6rPoAAAAAAAAAAAAAAAAAAAAA AAAJBBYAuEAAAM6QAQDOkAEAFwsAAAAAAAAaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//w8AAAAA AAAAAAD//w8AAAAAAAAAAAD//w8AAAAAAAAAAAAAAAAAAAAAALcAAAAAAEgHAAAAAAAASAcAAIsU AAAAAAAAixQAAAAAAACLFAAAAAAAAIsUAAAAAAAAixQAADQAAAAAAAAAAAAAAP////8AAAAAvxQA AAAAAAC/FAAAAAAAAL8UAABoAAAAJxUAAEwAAABzFQAAbAAAAL8UAAAAAAAAj0UAAMYCAADfFQAA FgAAAPUVAAAQAAAABRYAAAAAAAAFFgAAAAAAAAUWAAAAAAAAJBcAACYAAABKFwAADAAAAFYXAAAI AAAADkUAAAIAAAAQRQAAAAAAABBFAAAAAAAAEEUAAAAAAAAQRQAAAAAAABBFAAAAAAAAEEUAACQA AABVSAAAogIAAPdKAAA8AAAANEUAABUAAAAAAAAAAAAAAAAAAAAAAAAAixQAAAAAAABeFwAAAAAA AAAAAAAAAAAAAAAAAAAAAAAkFwAAAAAAACQXAAAAAAAAXhcAAAAAAABeFwAAAAAAADRFAAAAAAAA AAAAAAAAAACLFAAAAAAAAIsUAAAAAAAABRYAAAAAAAAAAAAAAAAAAAUWAAAfAQAASUUAABYAAADc GgAAAAAAANwaAAAAAAAA3BoAAAAAAABeFwAADAEAAIsUAAAAAAAABRYAAAAAAACLFAAAAAAAAAUW AAAAAAAADkUAAAAAAAAAAAAAAAAAANwaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAXhcAAAAAAAAORQAAAAAAAAAAAAAAAAAA3BoAAAAAAADcGgAA pgEAAJY+AAAwAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKkIAAAAAAAAFFgAAAAAAAP////8AAAAA0NGIQpry zAEAAAAAAAAAAL8UAAAAAAAAahgAACIAAADGPwAAJAAAAAAAAAAAAAAA+kQAABQAAABfRQAAMAAA AI9FAAAAAAAA6j8AAEACAAAzSwAAAAAAAIwYAABQAgAAM0sAAEgAAAAqQgAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAADNLAAAAAAAAAAAAAAAAAACLFAAAAAAAACpCAADQAgAAXhcAAAAAAABeFwAAAAAAANwa AAAAAAAAXhcAAAAAAABeFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAXhcA AAAAAABeFwAAAAAAAF4XAAAAAAAANEUAAAAAAAA0RQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAA== --==Multipart_Boundary_x788f8ac40875c8c7a6540be6654be9c8x--

headers:From:  MIME-Version: 1.0 Content-Type: multipart/mixed; boundary="==Multipart_Boundary_x788f8ac40875c8c7a6540be6654be9c8x" 
```

所以任何人都可以帮助我一个完美的代码提前谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:24:54.163

*通过真正调试手头的问题而不是猜测*自己找出原因：

1.  将您生成的消息内容转储到文本文件中。
2.  将您在电子邮件客户端中收到的任何有效消息内容转储到文件中（消息源代码）。
3.  比较两个文件并从差异中得到答案。

这确实有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:32:16.407

PHP 不支持默认的 utf-8 编码，您需要将下面给出的相关编码函数传递给您的 headers

```
Replace your code 

Content-Type: text/plain; charset=\"iso-8859-1\"\n

to

"Content-Type:text/html;charset=utf-8" 
```

# ios - 为什么我不能在 XCode 中选择代码签名身份来验证应用程序

> ID：16008075
> 
> 赞同：2
> 
> 时间：2013-04-15T05:13:45.870
> 
> 标签：ios, distribution

非常简单的问题变成了灾难=）。我无法在 Xcode 中选择所需的代码签名身份。为什么会这样？？证书和密钥都可以。这是图片： ![在此处输入图像描述](https://i.stack.imgur.com/IUa87.png)

有任何想法吗？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:21:03.420

请检查您的捆绑包标识符。这是猜测，但可能是这种情况。您的捆绑包标识符必须与您的应用 ID 匹配。您可以从 .plist 文件中更改捆绑 ID。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-14T13:20:42.663

你检查过你的证书吗？`Code Signing Identity`今天我遇到了同样的问题，选择后我无法选择`Provisioning Profile`，结果证明我的证书已过期。

# ruby-on-rails - 无法将代码推送到heroku

> ID：16008077
> 
> 赞同：0
> 
> 时间：2013-04-15T05:13:56.513
> 
> 标签：ruby-on-rails, gem

```
git push heroku master

Using rails (3.2.13)
   Installing rdiscount (2.0.7.2)
   Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.
   /usr/local/bin/ruby extconf.rb
   checking for random()... yes
   checking for srandom()... yes
   checking for rand()... yes
   checking for srand()... yes
   checking size of unsigned long... long
   checking size of unsigned int... int
   no int with size 4
   *** extconf.rb failed ***
   Could not create Makefile due to some reason, probably lack of
   necessary libraries and/or headers.  Check the mkmf.log file for more
   details.  You may need configuration options.
   Provided configuration options:
   --with-opt-dir
   --without-opt-dir
   --with-opt-include
   --without-opt-include=${opt-dir}/include
   --with-opt-lib
   --without-opt-lib=${opt-dir}/lib
   --with-make-prog
   --without-make-prog
   --srcdir=.
   --curdir
   --ruby=/usr/local/bin/ruby
   --with-rdiscount-dir
   --without-rdiscount-dir
   --with-rdiscount-include
   --without-rdiscount-include=${rdiscount-dir}/include
   --with-rdiscount-lib
   --without-rdiscount-lib=${rdiscount-dir}/lib
   Gem files will remain installed in /tmp/build_cnp5x6n0104p/vendor/bundle/ruby/1.9.1/gems/rdiscount-2.0.7.2 for inspection.
   Results logged to /tmp/build_cnp5x6n0104p/vendor/bundle/ruby/1.9.1/gems/rdiscount-2.0.7.2/ext/gem_make.out
   An error occurred while installing rdiscount (2.0.7.2), and Bundler cannot
   continue.
   Make sure that `gem install rdiscount -v '2.0.7.2'` succeeds before bundling. 
```

！！无法通过 Bundler 安装 gem。！！Heroku 推送被拒绝，无法编译 Ruby/rails 应用程序

这是我的 Gemfile：

```
source 'https://rubygems.org'

gem 'rails', '3.2.13'
gem 'bootstrap-sass', '2.1'
gem 'google-webfonts'
gem 'postmarkdown'
gem 'rdiscount', "~> 2.0.7.2"

group :development, :test do 
  gem 'sqlite3', '1.3.5'
  gem 'rspec-rails', '2.11.0'
end

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '3.2.5'
  gem 'coffee-rails', '3.2.2'
  gem 'uglifier', '1.2.3'
end

gem 'jquery-rails', '2.0.2'

group :test do 
gem 'capybara', '1.1.2'
end

group :production do 
gem 'pg', '0.12.2'
end 
```

添加 postmarkdown gem 后，我似乎开始遇到问题。我还在命令行中运行了 `gem install rdiscount -v '2.0.7.2' 但我仍然收到此错误。感谢您的帮助，或者如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:23:49.860

你可以添加`ruby "1.9.3"`你的gemfile，比如

```
source 'https://rubygems.org'
ruby "1.9.3" 
```

然后再一次`bundle install`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:23:32.543

尝试将 ruby​​ 版本添加到 Gem 文件

```
source :rubygems
ruby "1.9.3"

gem 'rails', '3.2.13'
gem 'bootstrap-sass', '2.1'
gem 'google-webfonts'
gem 'postmarkdown'
gem 'rdiscount', "~> 2.0.7.2"
.... 
```

ruby 1.9.2 似乎对 heroku 有问题

# java - java字节码类定义

> ID：16008079
> 
> 赞同：4
> 
> 时间：2013-04-15T05:14:29.120
> 
> 标签：java, compiler-construction, jvm, bytecode

目前我正在从事一个处理字节码分析的项目。我遇到了代码，

```
char[] buff = new char[1];
//some code tainting the buff   
return (new String(buff)); 
```

在字节码中我发现相关的映射`new String(buff)`是

```
Ljava/lang/StringValue.cache 
```

你们中的任何人都可以解释这个`cache`领域从哪里来的场景吗？

* * *

它来自 jdk i.6, [StringValue](http://j6a.ru/classjava_1_1lang_1_1_string_value.html)。根据描述，“这个类完全由静态方法组成，这些方法对字符串用于存储值的字符数组进行操作。”

任何人都可以对此有所了解吗？它的实际目的是什么？我认为这主要是因为他们使用的字符缓冲区作为参数传递给字符串。这个类并没有修改缓冲区的内容，而是我认为它只是一个网关来说明缓冲区的内容仅用于初始化一个字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T12:14:24.807

这应该是不可能的。这是您发布的序列在最近的 Javac 编译后的样子。

```
iconst_1
newarray char
astore_1
new java/lang/String
dup
aload_1
invokespecial java/lang/String <init> ([C)V
areturn 
```

此外，`java/lang/StringValue`至少在 jre1.7.0_17 中甚至不存在。此外，句点的存在表明它可能是 Jasmin 合并的类/方法标记之一，在这种情况下，它实际上是指`Ljava`包中的一个类，无论它应该是什么。

有两种主要可能性——编译器损坏或反汇编器损坏。如果您在此处发布类文件，我们至少可以弄清楚是哪种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T23:21:00.667

如果已经存在具有相同内容的字符串，那么它显然是一种返回缓存字符串的方法。实际上就像 String.intern() 一样。

# javascript - Facebook div 为空

> ID：16008080
> 
> 赞同：0
> 
> 时间：2013-04-15T05:14:29.840
> 
> 标签：javascript, facebook, facebook-graph-api

html:

```
<div id="fb-root"></div> 
```

js：

```
$(document).ready(function(){
    window.fbAsyncInit = function() {
        FB.init();

        FB.getLoginStatus(function(response){
            runFbInitCriticalCode(); 
            console.log(response);
        });
    };

    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/ru_RU/all.js#xfbml=1";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
}); 
```

代码执行后，div 被 iframe 和其他 facebook 标签填充，但它是空的。我在页面中看不到任何内容，那么可能是什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:37:31.197

替换`facebook-jssdk`为`fb-root`js 文件中给定代码的倒数第二行。

```
(document, 'script', 'fb-root')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:21:11.083

Try this code:

```
<div id="fb-root"></div>
<script type="text/javascript">
window.fbAsyncInit = function() {
    if(typeof(FB) != 'undefined') {
        FB.init({
            appId: facebookAppId, xfbml: true, status: true, cookie: true, oauth: true
        });
    }
};
(function() {
    var e = document.createElement('script');
    e.async = true;
    e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
    document.getElementById('fb-root').appendChild(e);
}());
</script> 
```

In my case `facebookAppId` is a JavaScript variable with your Facebook application id. You need to create one [here](https://developers.facebook.com/). Only after this you can take advantage on their JS API.

More info [here](https://developers.facebook.com/docs/reference/javascript/FB.init/).

# yii - 如何在 CGridView 中设置默认值

> ID：16008082
> 
> 赞同：0
> 
> 时间：2013-04-15T05:14:40.310
> 
> 标签：yii, cgridview

`$data->pic==""`如果在我的 dataprovider 值中，如何设置默认值。将数据图片设置为`na.jpg`

```
widget('zii.widgets.grid.CGridView', array(
    'dataProvider'=>$dataProvider,
    'columns'=>array(
    array(
        'type'=>'raw',
        'name'=>'pic',
        'value'=>'CHtml::image("http://localhost/studentpics/".$data->pic)',
    ),
)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:27:03.243

`value`被评估为 php 表达式，因此可以在其中使用条件

```
'value'=>'CHtml::image(($data->pic)?"http://localhost/studentpics/".$data->pic:"default_image_url")', 
```

PS 在任何地方都使用绝对网址是个坏主意。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:20:39.690

```
widget('zii.widgets.grid.CGridView', array(
'dataProvider'=>$dataProvider,
'columns'=>array(
 array(
                    'name'=>'your Image URL',
                    'type'=>'image',
                    'htmlOptions'=>array('width'=>'30px','height'=>'30px'),
            ),
)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T18:23:57.130

我认为您可以覆盖 CActiveRecord 的 afterFind 方法

```
protected function afterFind()
{
 if($this->pic ===null)
   {
    $this->pic = na.jpg;
   }
  parent::afterFind();
} 
```

# c++ - C++ 枚举类型作为函数

> ID：16008084
> 
> 赞同：0
> 
> 时间：2013-04-15T05:14:51.280
> 
> 标签：c++, visual-studio-2010, enums

我正在编写 C++ 代码，试图构建一个 FlipIt 游戏程序。我有一个头文件和一个 .cpp 文件。在头文件中，我有一个翻转类，其中一个函数是枚举类型函数。例如在头文件 FlipIt.h 中：

（枚举声明）

```
enum  Color  { clear_ = false, solid_ = true }; 
```

（功能）

```
Color  fetch( int  row, int  col ) const; 
```

（在 FlipIt.cpp 文件中，这是我在类中实现的函数）

```
int FlipIt::fetch( int  row, int  col ) const 
```

当我这样做时，VS2010 说 IntelliSense：声明与“FlipIt::Color FlipIt::fetch(int row, int col) const”不兼容

这是什么意思？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:21:11.097

但`Color`不是`int`。它是`enum`并且它有一些底层类型（这取决于编译器），但无论如何它是另一种类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T05:21:34.283

这意味着您`FlipIt::Color`在方法声明中承诺的返回值与您在实现中提供的类型不同。而`enum`不是`int`。
尝试

```
FlipIt::Color FlipIt::fetch(int row, int col) const { } 
```

为您的实施。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:09:29.993

您必须区分枚举类型是在哪个命名空间中定义的。如果您的枚举只是在头文件中定义，而不是在 cpp 文件中。你包含头文件，链接器可以找到定义的类型，如果你在类中定义，你必须添加类前缀。链接器可以找到类型的定义。因此，如果您的枚举类型是在全局区域中定义的，则没有问题。如果在类中定义，则必须使用“Class::Type”。

# php - 在 Zend 而不是 application.ini 中，我可以将我的配置存储在 php 文件中，如 config.php

> ID：16008085
> 
> 赞同：0
> 
> 时间：2013-04-15T05:14:54.403
> 
> 标签：php, zend-framework, encoding, encode, ioncube

我正在开发一个基于 Zend 1.12 的项目。有一个新要求，我们必须对所有文件进行编码以防止黑客入侵。我们使用了 ioncube 编码器，它对所有的 .php 文件进行编码，但不是在 application.ini 中存储数据库信息用户名、密码、密钥等。有两种方法：

1) 将配置驻留在 .php 文件中，例如 config.php 而不是 application.ini

2）有ioncube编码application.ini

通过第一种方法，我发现[Zend Config Introduction](http://framework.zend.com/manual/1.12/en/zend.config.introduction.html) 可以将配置存储在数组中。我需要一个在 Bootstrap.php 中设置的具体示例，它可以利用这些配置。现在我们所有的模型都从 Zend_Db_Table_Abstract 扩展而来。当我将所有 application.ini db 配置迁移到 config.php 时，我真的希望所有 db 操作都能正常工作，并且前端控制器中有几个实例使用 $this->applicationOptions。我希望我的推杆配置也能正常工作。请帮忙

使用第二种方法，我没有发现 ioncube 能够对 application.ini 进行编码的分辨率

这是我的配置文件

> 返回 $configArray = 数组（
> 
> > ```
> >  'db' => array(
> >        'adapter' => 'pdo_mysql',
> >        'params'  => array(
> >            'host'     => 'localhost',
> >            'username' => 'root',
> >            'password' => 'root',
> >            'dbname'   => 'test'
> >        )
> >    )
> > ); 
> > ```
> > 
> > 当我在 Bootstrap.php 中执行此操作时，它可以工作
> > 
> > > ```
> > >  $config = new Zend_Config(require APPLICATION_PATH  .'/configs/config.php');
> > >    $db = Zend_Db::factory($config->db->adapter,
> > >                           $config->dv->params->toArray());
> > >    $db = Zend_Db::factory($config->db);        
> > >    Zend_Db_Table::setDefaultAdapter($db); 
> > > ```

但是当我这样做的时候

> ```
>  protected function _initDatabase(){ 
>      $config = new Zend_Config(require APPLICATION_PATH  .'/configs/config.php');
>      $resource = $this->getPluginResource('db');
>      var_dump($this->getPluginResource('db'));  // this will be null. 
> ```

我的问题是我是否应该在配置中做任何不同的事情，这样它就会模仿 resources.db.adapter、resources.db.params.host 等，它会被 pluginResources 或 getoptions 接收

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:33:23.850

通常期望用户使用诸​​如 Zend_Config_Ini 或 Zend_Config_Xml 之类的适配器类之一，但如果配置数据在 PHP 数组中可用，则可以简单地将数据传递给 Zend_Config 构造函数，以利用简单的面向对象接口.

基本上，您首先创建一个包含配置的 PHP 文件：

```
// config.php
return array(
  ...
  ...
); 
```

然后，从另一个文件中，使用比配置文件：

```
$config = new Zend_Config(require 'config.php'); 
```

在您的 Bootstrap.php 中尝试获取这样的配置

```
protected function _initDb()
{
    $resource = $bootstrap->getPluginResource('db');

    $db = $resource->getDbAdapter();

    Zend_Registry::set("db", $db);
} 
```

在 Bootstrap.php 中注册 db 变量后，您可以像这样访问它

```
$dbAdapter = Zend_Registry::get("db"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T09:38:42.737

`getPluginResource()`因此，您需要通过以下方式使用配置密钥：

```
resources.db.adapter = ...
resources.db.params.host = ...
... 
```

或者您的 config.php 应该如下所示：

```
// config.php
return array(
  'resources' => array(
    'db' => array(
       ...
    ),
  ),
  ...
); 
```

此[页面](http://framework.zend.com/manual/1.12/en/zend.application.available-resources.html)可能会有所帮助。

# wcf - 带有 NLB 的 WCF 服务

> ID：16008086
> 
> 赞同：2
> 
> 时间：2013-04-15T05:14:56.213
> 
> 标签：wcf, load-balancing

我有一个 WCF 服务，它目前托管在 NLB 后面的两台服务器上。这两个服务器地址是（例如）`t001.mydomain.com`和`t002.mydomain.com`NLB 地址是`services.mydomain.com`。两者`t001`都有`t002`SSL 证书`services.mydomain.com`

我们将几项`ASMX`服务转移到一个新`WCF`模型中。当我第一次将服务放在两台服务器上时，我在使用 WSDL 时遇到了问题。一项服务正在运行，但其他服务给了我一个错误，他们无法创建安全连接，因为证书无效。

我将 URL 放入 Chrome 中，我注意到正在运行的服务具有这样的 WSDL URI：`http://services.mydomain.com/services/service1.svc`而无法运行的服务的 URI 为`http://t001.mydomain.com/services/service2.svc`. 所以我明白为什么证书对这些服务无效。

我为解决这个问题所做的（在查看了配置文件中的差异之后）将以下行添加到不工作的服务的配置文件中：

`<serviceHostingEnvironment multipleSiteBindingsEnabled="true" />`

现在，我有点明白为什么会这样了。我知道它是一个解决方案，但我不知道它是否是我问题的解决方案。

这是解决这个问题的方法吗？有没有更好/更推荐的方法来解决这个问题？也许有人可以向我指出一个解释这一点的权威来源，因为我真的找不到一个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:41:57.823

这不起作用，因为 cert. 域部分不同。看

关于主机名的事情 - 除非您使用完全限定的域名，否则某些系统将无法正常工作。其他人就没那么挑剔了。在任何情况下 - 证书的主题 DN 应该唯一地描述它所代表的服务、应用程序或服务器。

从这篇文章[集群环境中的相互 WCF 证书身份验证/SSL](https://stackoverflow.com/questions/4519527/mutual-wcf-certificate-authentication-ssl-in-cluster-environment)

更多细节可以在这里找到：[http ://technet.microsoft.com/en-us/library/dd439393(v=exchg.80).aspx](http://technet.microsoft.com/en-us/library/dd439393(v=exchg.80).aspx)

# python - 在 Python 中解析 XML

> ID：16008089
> 
> 赞同：0
> 
> 时间：2013-04-15T05:15:50.207
> 
> 标签：python, xml

我有一个 xml 数据，例如 .

```
<rentals type="array">
  <rental>
    <account-id type="integer">130</account-id>
    <created-at type="datetime">2011-08-26T23:27:13Z</created-at>
    <description>1 - 1 br apt, walk-up - </description>
    <id type="integer">218</id>
    <name>Apt.1</name>
    <notes nil="true"/>
    <position type="integer">1</position>
    <updated-at type="datetime">2011-12-06T09:00:58Z</updated-at>
  </rental>
  <rental>
    <account-id type="integer">130</account-id>
    <created-at type="datetime">2011-08-22T03:06:49Z</created-at>
    <description>2 - Alcove Studio, walk-up, remote 3</description>
    <id type="integer">210</id>
    <name>Apt.2</name>
    <notes nil="true"/>
    <position type="integer">2</position>
    <updated-at type="datetime">2012-09-26T21:37:20Z</updated-at>
  </rental>

</rentals> 
```

我使用[Pyxml2obj](https://pypi.python.org/pypi/pyxml2obj/) python 库将其解析为 python dict 。使用 XMLin

我去响应像。

```
{u'rental': {u'Apt.19': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'19 - big, spot lights studio', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-11T18:03:24Z', u'type': u'datetime'}, u'created-at': {'content': u'2013-01-19T02:07:02Z', u'type': u'datetime'}, u'position': {'content': u'11', u'type': u'integer'}, u'id': {'content': u'1303', u'type': u'integer'}}, u'Apt.20': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'20 - same as 19', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-14T23:19:58Z', u'type': u'datetime'}, u'created-at': {'content': u'2013-01-19T02:07:23Z', u'type': u'datetime'}, u'position': {'content': u'12', u'type': u'integer'}, u'id': {'content': u'1304', u'type': u'integer'}}, u'Apt.8': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'8 - studio, walk-up', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-08T13:18:07Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-08-27T01:25:36Z', u'type': u'datetime'}, u'position': {'content': u'5', u'type': u'integer'}, u'id': {'content': u'222', u'type': u'integer'}}, u'Apt.10': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'10 - semi luxury studio, elevator', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-08T13:40:52Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-09-01T15:02:21Z', u'type': u'datetime'}, u'position': {'content': u'6', u'type': u'integer'}, u'id': {'content': u'226', u'type': u'integer'}}, u'Apt.7': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'7 - studio, remote', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-07T20:40:58Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-08-27T01:25:00Z', u'type': u'datetime'}, u'position': {'content': u'4', u'type': u'integer'}, u'id': {'content': u'221', u'type': u'integer'}}, u'Apt.5': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'5 - huge studio', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-07T19:24:30Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-08-27T01:23:56Z', u'type': u'datetime'}, u'position': {'content': u'3', u'type': u'integer'}, u'id': {'content': u'219', u'type': u'integer'}}, u'Apt.2': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'2 - Alcove Studio, walk-up, remote 3', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2012-09-26T21:37:20Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-08-22T03:06:49Z', u'type': u'datetime'}, u'position': {'content': u'2', u'type': u'integer'}, u'id': {'content': u'210', u'type': u'integer'}}, u'Apt.15': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'15 - alcove, walk-up', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-14T22:39:41Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-11-04T20:13:49Z', u'type': u'datetime'}, u'position': {'content': u'9', u'type': u'integer'}, u'id': {'content': u'344', u'type': u'integer'}}, u'Apt.16': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'16 - Studio', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-09T23:12:45Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-11-29T06:12:33Z', u'type': u'datetime'}, u'position': {'content': u'10', u'type': u'integer'}, u'id': {'content': u'378', u'type': u'integer'}}, u'Apt.1': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'1 - 1 br apt, walk-up - ', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2011-12-06T09:00:58Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-08-26T23:27:13Z', u'type': u'datetime'}, u'position': {'content': u'1', u'type': u'integer'}, u'id': {'content': u'218', u'type': u'integer'}}, u'Apt.25': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'studio with back yard', u'notes': {}, u'updated-at': {'content': u'2013-04-14T20:32:07Z', u'type': u'datetime'}, u'created-at': {'content': u'2013-04-01T13:02:59Z', u'type': u'datetime'}, u'position': {'content': u'17', u'type': u'integer'}, u'id': {'content': u'2683', u'type': u'integer'}}, u'Apt.24': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'24 - studio', u'notes': {}, u'updated-at': {'content': u'2013-04-12T16:18:23Z', u'type': u'datetime'}, u'created-at': {'content': u'2013-03-22T21:15:29Z', u'type': u'datetime'}, u'position': {'content': u'16', u'type': u'integer'}, u'id': {'content': u'1910', u'type': u'integer'}}, u'Apt.23': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'23 - alcove studio', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-15T01:01:13Z', u'type': u'datetime'}, u'created-at': {'content': u'2013-02-02T19:06:33Z', u'type': u'datetime'}, u'position': {'content': u'15', u'type': u'integer'}, u'id': {'content': u'1351', u'type': u'integer'}}, u'Apt.11': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'11 - Split Studio, remote', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-11T20:02:19Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-10-07T14:55:38Z', u'type': u'datetime'}, u'position': {'content': u'7', u'type': u'integer'}, u'id': {'content': u'308', u'type': u'integer'}}, u'Apt.21': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'21 - walk up, alcove studio', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-14T06:05:49Z', u'type': u'datetime'}, u'created-at': {'content': u'2013-02-02T19:05:03Z', u'type': u'datetime'}, u'position': {'content': u'13', u'type': u'integer'}, u'id': {'content': u'1349', u'type': u'integer'}}, u'Apt.22': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'22 - 1br big', u'notes': {u'nil': u'true'}, u'updated-at': {'content': u'2013-04-10T13:45:47Z', u'type': u'datetime'}, u'created-at': {'content': u'2013-02-02T19:06:08Z', u'type': u'datetime'}, u'position': {'content': u'14', u'type': u'integer'}, u'id': {'content': u'1350', u'type': u'integer'}}, u'Apt.14': {u'account-id': {'content': u'130', u'type': u'integer'}, u'description': u'14 - 1 BR walk-up', u'notes': {}, u'updated-at': {'content': u'2013-04-12T17:31:31Z', u'type': u'datetime'}, u'created-at': {'content': u'2011-11-01T03:37:15Z', u'type': u'datetime'}, u'position': {'content': u'8', u'type': u'integer'}, u'id': {'content': u'339', u'type': u'integer'}}}, u'type': u'array'} 
```

现在我正在尝试遍历这个 dict 以获取单个数据，例如，

```
for rentall in getdictobj.items():
    rentall.name 
```

我收到错误

```
AttributeError: 'tuple' object has no attribute 'name' 
```

我知道该对象没有属性名称，但在 Xml 名称中明确提及。

请帮我弄清楚我在这里做错了什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:26:28.487

Dict.items 返回一个元组列表（名称。值），其中名称是字典索引，并且可以是任何不是可变对象的东西。你应该说名字，价值......

例子：

```
 for i, value in d.items():
   print i, value 
```

或者，您可以将 dict 转换为元组或列表，这样：

```
T = tuple (d.items())
T = list (d.items()) 
```

现在您可以迭代元组/列表而不是字典。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:50:07.837

有另一种获取所有名称节点的方法。

```
from xml.dom import minidom
xmldoc = minidom.parse(r'C:\Users\kvivek\Desktop\rentals.xml')
nameNodes = xmldoc.getElementsByTagName('name')
for nameNode in nameNodes:
    print namenode.toxml() 
```

# python - TypeError：__getitem__() 正好需要 2 个参数（给定 2 个）TypeError？(Python 3)

> ID：16008092
> 
> 赞同：4
> 
> 时间：2013-04-15T05:16:10.460
> 
> 标签：python, python-3.x, typeerror

我定义了以下函数：

```
def eigval(matrix):
    a = matrix[0, 0]
    b = matrix[0, 1]
    c = matrix[1, 0]
    d = matrix[1, 1]
    c1 = (a + d) + sqrt((4 * b * c) + ((a - d)**2))
    c2 = (a + d) - sqrt((4 * b * c) + ((a - d)**2))
    return c1 / 2, c2 / 2 
```

创建它是为了找到 2 X 2 矩阵的特征值。我正在使用它在矩阵上迭代地运行 Jacobi 算法。传入的矩阵是一个字典，它使用元组作为键来表示位置，浮点数作为值。这个函数可以正常工作大约 6 次迭代，但是我会得到：

```
TypeError: __getitem__() takes exactly 2 arguments (2 given) 
```

在块的第一行（带有 a 的行）。

我对此完全感到困惑，因为就像我说的那样，它可以正常运行大约 6 次然后停止。

编辑：这是一个创建我要传入的矩阵类型的函数：（鉴于每次迭代的矩阵都不同）

```
def create():
    matrix = {}
    matrix[0, 0] = 2
    matrix[0, 1] = 1
    matrix[1, 0] = 1
    matrix[1, 1] = 2
    return matrix 
```

任何帮助是极大的赞赏！（PS第一次发帖）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-07T06:47:56.377

您的矩阵是使用元组作为键的字典，这可能不是您想要做的。

尝试使用嵌套列表：

```
from math import sqrt

def create():
    matrix = [[1, 2], [1, 2]]
    return matrix

def eigval(matrix):
    a = matrix[0][0]
    b = matrix[1][0]
    c = matrix[0][1]
    d = matrix[1][1]
    c1 = (a + d) + sqrt((4 * b * c) + ((a - d)**2))
    c2 = (a + d) - sqrt((4 * b * c) + ((a - d)**2))
    return [c1 / 2, c2 / 2]

>>> m = create() 
>>> eigval(m)
[3.0, 0.0] 
```

或者使用 numpy：

```
import numpy

def eigval(matrix):
    a = matrix[0, 0]
    b = matrix[1, 0]
    c = matrix[0, 1]
    d = matrix[1, 1]
    c1 = (a + d) + sqrt((4 * b * c) + ((a - d)**2))
    c2 = (a + d) - sqrt((4 * b * c) + ((a - d)**2))
    return numpy.array([c1 / 2, c2 / 2])

>>> m = numpy.array([[1, 2], [1, 2]])
>>> m
array([[1, 2],
       [1, 2]])
>>> eigvalues, eigvectors = numpy.linalg.eig(m)
>>> eigvalues
array([ 0.,  3.])

>>> eigval(m)
array([ 3.,  0.]) 
```

# android - 异常：游标索引超出范围

> ID：16008103
> 
> 赞同：0
> 
> 时间：2013-04-15T05:17:11.677
> 
> 标签：android, database, eclipse

这是活动中的代码：

```
//query
final dbhelper helper = new dbhelper(this);
Cursor c = helper.query();
boolean exist =false;
if(c != null && c.moveToFirst()){
Log.d("atestdbChar1no",String.valueOf(c.getCount()));   
int i=0;
while(c.isAfterLast()){
Log.d("atestdb1",String.valueOf(i++));
Log.d("atestdb2",String.valueOf(c.getInt(0)));
Log.d("atestdb3",c.getString(1));
Log.d("atestdb4",c.getString(2));
c.moveToNext(); 
}

//insert
      ContentValues values = new ContentValues();
      if(!finWords.equals("null")){
      if(finWords.length()>index){
      String selectWord = finWords.substring(index, index+1);
       values.put("character", finChar);
      values.put("word", selectWord);
      helper.insert(values); 
```

这是 SQLiteOpenHelper 中的代码：

```
public void insert(ContentValues values) {
    SQLiteDatabase db = getWritableDatabase();
    db.insert(TBL_NAME, null, values);
    Log.d("test", "dbinsert");
    db.close();
}

public Cursor query() {
    SQLiteDatabase db = getWritableDatabase();
    Cursor c = db.query(TBL_NAME, null, null, null, null, null, null);
    Log.d("test", "dbquery");
    return c;
} 
```

我可以将数据插入数据库，但我无法查询它们 logcat 说游标索引超出范围并仅输出一些数据，例如仅输出 id 1,2,4,7 然后强制关闭应用程序但我已经插入 14 个数据什么我的代码错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:24:03.320

您忘记否定 c.isAfterlast() 并且除非您将 null 传回，否则您不必检查 null 游标。

```
if(c.moveToFirst()){
Log.d("atestdbChar1no",String.valueOf(c.getCount()));   
int i=0;
while(!c.isAfterLast()){
Log.d("atestdb1",String.valueOf(i++));
Log.d("atestdb2",String.valueOf(c.getInt(0)));
Log.d("atestdb3",c.getString(1));
Log.d("atestdb4",c.getString(2));
c.moveToNext(); 
} 
```

# ios - how to get a NSArray object using JSONModel

> ID：16008105
> 
> 赞同：0
> 
> 时间：2013-04-15T05:17:31.843
> 
> 标签：ios, json, jsonmodel

i have a problem in reading JSON by JSONModel library [https://github.com/icanzilb/JSONModel](https://github.com/icanzilb/JSONModel)

and use the KivaDemo at the JSonModel app,the json :

```
"loans": [
{
  "id": 547665,
  "name": "Veronica",
  "description": {
    "languages": [
      "en"
    ]
  },
  "status": "fundraising",
  "funded_amount": 0, 
```

i want to get the "en" ,

```
@interface KivaFeed : JSONModel

@property (strong, nonatomic) NSArray<LoanModel, ConvertOnDemand>* loans;

@property (strong, nonatomic) Paging *paging;

@end

@protocol LoanModel @end    

@interface LoanModel : JSONModel

@property (strong, nonatomic) NSString* name;
@property (strong, nonatomic) NSString* status;
@property (strong, nonatomic) NSString* use;

@property (strong, nonatomic) NSString* id;
@property (strong, nonatomic) NSString* funded_amount;

@property (strong, nonatomic) LocationModel* location;

@property (strong, nonatomic) Image* image;

@property (strong, nonatomic) Description* description;

@end 
```

@interface Description : JSONModel

```
@property (strong, nonatomic) NSArray<Languages, ConvertOnDemand>* languages;

@end

@protocol Languages @end    

@interface Languages : JSONModel

@end

kiva = [[KivaFeed alloc] initFromURLWithString:@"http://api.kivaws.org/v1/loans/search.json?status=fundraising"
        completion:^(JSONModel *model, JSONModelError *e) {

            [table reloadData];

            NSLog(@"kiva.paging.page:%@",kiva.paging.page);

            if (e) {
                [[NSAlert alertWithError:e] beginSheetModalForWindow:self.view.window modalDelegate:nil didEndSelector:nil contextInfo:nil];
            }

            [self setLoaderVisible:NO];
        }];

   LoanModel* loan = kiva.loans[row];
            NSString* message = [NSString stringWithFormat:@"%@ from %@(%@) needs a loan %@",
                                 loan.name, loan.location.country, loan.location.countryCode, loan.use
                                 ];

            NSLog(@"loan:%@",loan.id);
            NSLog(@"loan:%@",loan.funded_amount);
            NSLog(@"loan.image.id:%@",loan.image.id);

            NSLog(@"loan.description.languages:%@",loan.description.languages[0]); 
```

last it give me 2013-04-15 13:16:09.163 JSONModelDemo_OSX[2308:303] loan.description.languages:(null). how to get the en,what mistake at my code?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:57:40.297

修改为：

```
 @interface Description : JSONModel
  @property (strong, nonatomic) NSArray* languages;
  @end 
```

一切都好

# jqplot - JQPlot - 如何在 JQPlot 中将光标更改为 Hover to Bar 上的指针？

> ID：16008106
> 
> 赞同：5
> 
> 时间：2013-04-15T05:17:35.577
> 
> 标签：jqplot

当光标悬停在 JQPlot 的条上时，我想将光标更改为“指针”。

我试图改变CSS。但它没有用。请帮我。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-15T06:35:12.203

您需要 - 正如您所尝试的那样 - 使用 CSS 对其进行修改。您可能没有在正确的元素上应用 CSS 更改，您需要将其应用到**.jqplot-event-canvas**：

```
$('#chart1').on('jqplotDataHighlight', function () {
   $('.jqplot-event-canvas').css( 'cursor', 'pointer' );
}); 
```

请[在此处查看一个工作示例](http://jsfiddle.net/AnthonyLeGovic/6gGZt/2/)

**编辑**Fiddle 并根据**sdespont**的评论更新代码。

**PS**正如 Lukas Jelinek 所写，您可以在取消突出显示数据时重新定义默认指针：

```
$('#chart1').on('jqplotDataUnhighlight', function() {
    $('.jqplot-event-canvas').css('cursor', 'auto');
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-11T17:30:47.913

正如 AnthonyLeGovic 所写，使用以下方法绑定它：

```
$('#chart1').on('jqplotDataHighlight', function () {
   $('.jqplot-event-canvas').css( 'cursor', 'pointer' );
}); 
```

但不要忘记在您移出时也取消绑定以设置正常光标：

```
$('#chart1').on('jqplotDataUnhighlight', function() {
    $('.jqplot-event-canvas').css('cursor', 'auto');
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-17T03:35:22.083

感谢您的回答。

我们也可以通过这种方式做同样的事情：

光标：{样式：'指针'，显示：真，showTooltip：假}

但我希望光标：“指针”在条形图上而不是在整个图表区域上时应该显示。

# android - 是否可以将 AndroidHttpClient 与 PersistentCookieStore 一起使用？

> ID：16008110
> 
> 赞同：1
> 
> 时间：2013-04-15T05:18:12.887
> 
> 标签：android, apache, android-networking, apache-commons-httpclient, androidhttpclient

我想使用 AndroidHttpClient 而不是 DefaultHttpClient。在[文档](http://developer.android.com/reference/android/net/http/AndroidHttpClient.html)中说：

> 此客户端处理 cookie，但默认情况下不保留它们。要保留 cookie，只需将 cookie 存储添加到 HttpContext：

```
context.setAttribute(ClientContext.COOKIE_STORE, cookieStore); 
```

我从哪里得到这个上下文？？？我应该从 AndroidHttpClient 获取它还是应该先创建它然后传递它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-24T22:07:53.693

```
AndroidHttpClient client = AndroidHttpClient.newInstance(...);
HttpContext ctx = new BasicHttpContext();
ctx.setAttribute(...);
HttpGet get = new HttpGet(...);

client.execute(get, ctx); 
```

# android - 使用 if 和 else 来改变布局文件@runtime

> ID：16008111
> 
> 赞同：0
> 
> 时间：2013-04-15T05:18:16.977
> 
> 标签：android, android-layout, if-statement

我目前正在做一个项目，我正在尝试添加一个图标制作比赛，获胜者将收到一个只有比赛获胜者才能获得的特殊应用程序插件，我希望我的应用程序检查包（特殊应用程序插件）是否存在在用户设备上，如果是的话，我希望应用程序在运行时显示备用显示。我会使用“if”和“else”语句来实现这一点吗？如果是这样，我将如何解决这个问题并在此致谢.

注意：我已成功使应用程序根据 android 版本加载不同的布局，所以我有一点想法，但需要一些帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:42:37.030

检查此项以了解是否已安装应用程序..

```
public class Example extends Activity
{
    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        //Put the package name here...
        boolean installed  =   appInstalledOrNot("com.Ch.Example.pack");  
        if(installed)
        {
        //This intent will help you to launch if the package is already installed
        Intent LaunchIntent = getPackageManager()
            .getLaunchIntentForPackage("com.Ch.Example.pack");
    startActivity(LaunchIntent);

                  System.out.println("App already installed om your phone");

        }
        else
        {
            System.out.println("App is not installed om your phone");
        }
    }
    private boolean appInstalledOrNot(String uri)
    {
        PackageManager pm = getPackageManager();
        boolean app_installed = false;
        try
        {
               pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);
               app_installed = true;
        }
        catch (PackageManager.NameNotFoundException e)
        {
               app_installed = false;
        }
        return app_installed ;
}
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T06:00:31.347

好吧，如果您的插件有一个唯一的名称（我相信它应该），您可以检查它。

请阅读下面链接的帖子以检查插件是否存在

链接：[https ://stackoverflow.com/a/6758962/1542720](https://stackoverflow.com/a/6758962/1542720)

希望这可以帮助 ！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T05:29:16.653

您可以根据 onCreate() 中的要求更改您的 xml 文件。

正如我在代码中所做的那样，对于不同的密度，我使用了不同的 xml 文件。

```
 if (metrics.densityDpi == DisplayMetrics.DENSITY_MEDIUM) {
    setContentView(R.layout.activity_main);
 } else if (metrics.densityDpi == DisplayMetrics.DENSITY_LOW) {
    setContentView(R.layout.activity_main_small);
 } else {
    setContentView(R.layout.activity_main_large);
 } 
```

# android - out of memory in android while opening a customized dialog view?

> ID：16008116
> 
> 赞同：0
> 
> 时间：2013-04-15T05:19:01.240
> 
> 标签：android

on click opening a dialog view it giving an out of memory? In dialog i have two images in it and 1 image button, even the size of image is 40 50kb.

```
04-15 10:11:07.085: E/dalvikvm-heap(29896): Out of memory on a 16384016-byte allocation.
04-15 10:11:07.085: I/dalvikvm(29896): "main" prio=5 tid=1 RUNNABLE
04-15 10:11:07.085: I/dalvikvm(29896):   | group="main" sCount=0 dsCount=0 obj=0x40c51460 self=0x12938
04-15 10:11:07.085: I/dalvikvm(29896):   | sysTid=29896 nice=0 sched=0/0 cgrp=default handle=1075008808
04-15 10:11:07.085: I/dalvikvm(29896):   | schedstat=( 1269958584 831219251 1666 ) utm=105 stm=21 core=0
04-15 10:11:07.085: I/dalvikvm(29896):   at android.graphics.Bitmap.nativeCreate(Native Method)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.graphics.Bitmap.createBitmap(Bitmap.java:605)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.graphics.Bitmap.createBitmap(Bitmap.java:551)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:437)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.graphics.BitmapFactory.finishDecode(BitmapFactory.java:618)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:593)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:445)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:773)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.content.res.Resources.loadDrawable(Resources.java:1968)
04-15 10:11:07.090: I/dalvikvm(29896):   at android.content.res.TypedArray.getDrawable(TypedArray.java:601)
04-15 10:11:07.095: I/dalvikvm(29896):   at android.widget.ImageView.<init>(ImageView.java:119)
04-15 10:11:07.095: I/dalvikvm(29896):   at android.widget.ImageView.<init>(ImageView.java:109)
04-15 10:11:07.095: I/dalvikvm(29896):   at java.lang.reflect.Constructor.constructNative(Native Method)
04-15 10:11:07.095: I/dalvikvm(29896):   at java.lang.reflect.Constructor.newInstance(Constructor.java:417)
04-15 10:11:07.095: I/dalvikvm(29896):   at android.view.LayoutInflater.createView(LayoutInflater.java:586)
04-15 10:11:07.100: I/dalvikvm(29896):   at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
04-15 10:11:07.100: I/dalvikvm(29896):   at android.view.LayoutInflater.onCreateView(LayoutInflater.java:653)
04-15 10:11:07.100: I/dalvikvm(29896):   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:678) 
```

# java - Ibatis insert operation

> ID：16008117
> 
> 赞同：-1
> 
> 时间：2013-04-15T05:19:12.617
> 
> 标签：java, database, ibatis

Hi I am trying to insert a list of object through ibatis but i am getting an exception like org.apache.ibatis.mapping.SqlMapperException: The expression 'boxlist' evaluated to a null value.

```
<insert id="insertList" parameterType="java.util.List">
    INSERT INTO boxtable (
    size,length)
    VALUES
    <foreach item="box" collection="boxList" separator=",">
        (#{box.size},#{box.length})
    </foreach>
</insert> 
```

My dao class is like

```
public void insert(List<box> boxList)
        throws SQLException {

    try {                            
        sqlSession = sqlSessionFactory.openSession(AUTO_COMMIT); 
        int status = sqlSession.insert("insertlist", boxList);
        logger.debug("status :: " + status);
        sqlSession.commit();
    } catch (Throwable ee) {
        logger.error("e", ee);
    sqlSession.rollback();
    } finally {
        sqlSession.close();
    }

} 
```

Can anyone help me out???

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:45:06.373

如果我没记错的话，你需要传递一个包含属性的对象，或者你可以传递一个包含键`boxList`的映射。`boxList`例如

```
public class Wrapper {
    private List<box> boxList;
}

<insert id="insertList" parameterType="Wrapper">
    INSERT INTO boxtable (
    size,length)
    VALUES
    <foreach item="box" collection="boxList" separator=",">
        (#{box.size},#{box.length})
    </foreach>
</insert> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:24:37.433

尝试 在您的 sql 语句中使用`<isPropertyAvailable>`之前。`<foreach>`您也可以尝试使用`<iterate>`但不要忘记将 [] 附加到您的盒子列表（如`#boxlist[]#`）

有关 ibatis 中动态 sql 语句的更多信息，请点击此[链接](http://ibatis.apache.org/docs/dotnet/datamapper/ch03s09.html)

# javascript - 运行脚本时在firebug中获取typeError：e未定义

> ID：16008119
> 
> 赞同：2
> 
> 时间：2013-04-15T05:19:18.227
> 
> 标签：javascript, jquery, codeigniter

我无法弄清楚我的代码有什么问题。我从帖子中获取数据作为数组，然后在框中显示该数据。

```
function worker() {
    var a = $("#BeeperBox");
    var delay =2000;

    $.ajax({
        url: '/index.php/admin/getLatest', 
        success: function(data) {
            $.each(data.upda,function(i, v){
                var out = v.name + v.mob ;
                $('span.blueName').html(out);
                $("#BeeperBox").show();
                timerId = setTimeout(function () {
                    a.hide();
                }, delay);
            });
        },
        complete: function() {
            // Schedule the next request when the current one's complete
            setTimeout(worker, 50000);
        }
    });
} 
```

当我运行它时，firebug 显示错误：TypeError：e 未定义。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T05:38:26.790

因为您将响应发送为 JSON .. 最好将您的响应指定`dataType`为 JSON（尽管如此 `If none is specified, jQuery will try to infer it based on the MIME type of the response`），这样您就不必手动解析它了..我认为这里的问题是您没有解析作为响应得到的 json

尝试这个

```
 $.ajax({
    url: '/index.php/admin/getLatest', 
    dataType: 'json',
    success: function(data) {
      $.each(data.upda,function(i, v){
      var out = v.name + v.mob ;
       ......
   }, 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-29T03:00:03.153

检查 data.upda 是否未定义，我认为问题在于该变量不存在并且您正在尝试迭代未定义的元素。

# twitter-bootstrap - Twitter Bootstrap 是否有任何 RTL 或 i18n 支持？

> ID：16008123
> 
> 赞同：11
> 
> 时间：2013-04-15T05:19:33.673
> 
> 标签：twitter-bootstrap, internationalization, right-to-left

我需要为我的网站添加从右到左 (RTL) 的支持，该支持已经使用 Twitter Bootstrap 实现。据我所知，发行版没有。我错过了什么吗？是否有任何外部库/框架/工具？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-15T07:18:49.717

[回答我自己的问题]

**引导程序中缺乏**RTL 支持是众所周知、讨论和记录的问题。显然，整个网络都有讨论，特别是在 GitHub 项目中。

在 GitHub 中，问题[#6409](https://github.com/twitter/bootstrap/pull/6409)是最近的讨论，@mdo 非常有希望的[评论](https://github.com/twitter/bootstrap/pull/6409#issuecomment-11725361)说这将在 3.0 中出现。

与此同时，有几件事可以做。到目前为止，最简单的方法是使用 Hamed Ramezanian 的 RTL Bootstrap。Hamed 手动更改了源文件（主要是 *.less 文件），并为从右到左构建了一个类似的框架。他甚至转换了文档，并创建了一个波斯语网站：[http](http://rbootstrap.ir/) ://rbootstrap.ir/ （我说希伯来语，所以该网站对我来说不是很有用）。截至 2013 年 4 月，该项目维护得非常好，最新的 Bootstrap drop (v2.3.1) 已转换。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-29T12:05:34.173

您可以从该站点 [http://rbootstrap.ir/](http://rbootstrap.ir/)下载 rtl 版本的 bootstrap （下载点击 => [http://rbootstrap.ir/assets/bootstrap.zip](http://rbootstrap.ir/assets/bootstrap.zip)）

# neo4j - neo4j：getProperty() 的替代方法

> ID：16008132
> 
> 赞同：0
> 
> 时间：2013-04-15T05:20:24.227
> 
> 标签：neo4j

我使用 getProperty()，但它的速度很慢。我可以在没有 getProperty() 的情况下获取节点的属性吗？也许，存在一些更快的方式？

谢谢！

UPD。我可以将属性存储为数组并像这样使用：node.getProperty(i) where "i" - 数组的索引？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:17:54.263

也许您可以显示一些代码，以便我们可以查明导致响应缓慢的原因。

您只能使用*getProperty()*方法获取属性。虽然您可以在 Neo4j 中保存原始数组，但无法通过索引（第 n 个元素）直接访问它。

# android - 在自定义类中实现 onClickListener

> ID：16008133
> 
> 赞同：0
> 
> 时间：2013-04-15T05:20:25.780
> 
> 标签：android, android-widget

我正在尝试实现一个自定义切换按钮类，可以使用 onClickListener 在其上识别触摸事件

但是，如果我在重写的 onClick() 方法中输入任何代码，应用程序就会崩溃。可能是什么问题？

我的自定义类如下所示：

```
package com.example.buttoncontrollertest;

import android.content.Context;
import android.widget.Toast;
import android.widget.ToggleButton;
import android.os.Handler;
import android.util.AttributeSet;
import android.view.View;
import android.view.View.OnClickListener;

public class ButtonController extends ToggleButton implements OnClickListener{

    public static final int UPDATE_LED_SETTING = 1;
    private boolean enabled;
    private Handler uiHandler;

    public ButtonController(Context context) {
        super(context);
        init();
    }

    public ButtonController(Context context,AttributeSet attrs){
        super(context,attrs);
        init();
    }

    public ButtonController(Context context,AttributeSet attrs, int i){
        super(context,attrs,i);
        init();
    }

    private void init(){
        enabled = false;
        this.setChecked(false);
        this.setEnabled(false);
        super.setOnClickListener(this);
        uiHandler = null;
    }

    public void setHandler(Handler handler){
        uiHandler = handler;
    }

    @Override
    public void setEnabled(boolean en){
        enabled=en;
        super.setEnabled(en);

    }

    @Override
    public void onClick(View v) {
        Toast.makeText((Context)getApplicationWindowToken(), "button pressed", Toast.LENGTH_SHORT).show();  
    }       
} 
```

我不能使用直接的 ToggleButton，因为这个新类也应该做很多其他的事情

以下是错误日志：

```
04-15 11:10:14.904: D/libEGL(7836): loaded /vendor/lib/egl/libEGL_POWERVR_SGX540_120.so
04-15 11:10:14.912: D/libEGL(7836): loaded /vendor/lib/egl/libGLESv1_CM_POWERVR_SGX540_120.so
04-15 11:10:14.920: D/libEGL(7836): loaded /vendor/lib/egl/libGLESv2_POWERVR_SGX540_120.so
04-15 11:10:15.021: D/OpenGLRenderer(7836): Enabling debug mode 0
04-15 11:10:22.896: D/~~~~(7836): ~~~~ button pressed
04-15 11:10:22.896: D/AndroidRuntime(7836): Shutting down VM
04-15 11:10:22.896: W/dalvikvm(7836): threadid=1: thread exiting with uncaught exception (group=0x4144d2a0)
04-15 11:10:22.896: E/AndroidRuntime(7836): FATAL EXCEPTION: main
04-15 11:10:22.896: E/AndroidRuntime(7836): java.lang.ClassCastException: android.view.ViewRootImpl$W cannot be cast to android.content.Context
04-15 11:10:22.896: E/AndroidRuntime(7836):     at com.example.buttoncontrollertest.ButtonController.onClick(ButtonController.java:70)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at android.view.View.performClick(View.java:4222)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at android.widget.CompoundButton.performClick(CompoundButton.java:100)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at android.view.View$PerformClick.run(View.java:17337)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at android.os.Handler.handleCallback(Handler.java:615)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at android.os.Handler.dispatchMessage(Handler.java:92)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at android.os.Looper.loop(Looper.java:137)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at android.app.ActivityThread.main(ActivityThread.java:4895)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at java.lang.reflect.Method.invokeNative(Native Method)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at java.lang.reflect.Method.invoke(Method.java:511)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:994)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:761)
04-15 11:10:22.896: E/AndroidRuntime(7836):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:50:53.547

您应该使用 getContext() 而不是 (Context)getApplicationWindowToken()。

# ios - how to add UITableviewcell subview as uiscrollview

> ID：16008134
> 
> 赞同：0
> 
> 时间：2013-04-15T05:20:49.780
> 
> 标签：ios, objective-c, uiscrollview, uipagecontrol

I have UITableViewCell subview as UIScrollview and UIscrollview as dynamic uilabels and i need to scroll horizontally with pagination. but i need to scroll synchronously all the table view cell. problem is not able to scroll all the cell togeather.

here is my source code.

Customcell source:

```
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        // Initialization code

        //ScrollView
        self.kpiScrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, 300, 70)];
        [self.kpiScrollView setPagingEnabled:YES];
        [self.contentView addSubview:self.kpiScrollView];
        [self.kpiScrollView release];                       

        NSArray *colors = [NSArray arrayWithObjects:[UIColor grayColor], [UIColor greenColor], [UIColor blueColor], nil];

        for (int i =0; i<colors.count; i++) {
            CGRect frame;
            frame.origin.x = self.kpiScrollView.frame.size.width *i;
            frame.origin.y = 0;
            frame.size = self.kpiScrollView.frame.size;

            subView  = [[UIView alloc] initWithFrame:frame];
            subView.backgroundColor = [colors objectAtIndex:i];
            [self.kpiScrollView addSubview:subView];
            [subView release];
        }
        self.kpiScrollView.contentSize = 
            CGSizeMake(self.kpiScrollView.frame.size.width*colors.count,
                       self.kpiScrollView.frame.size.height); 
    }
} 
```

and TableView source:

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
         static NSString *cellIdentifier = @"CellIdentifier";
        PageCell *cell = (PageCell *)[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        if (cell == nil) {
            cell = [[[PageCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier]autorelease];
        }
        //    cell.pageDelegate = self;
        cell.self.kpiScrollView.delegate= self;
        cell.tag = indexPath.row+1;
        NSLog(@"cell tag:%d", cell.tag);

        return cell;
    } 
```

UIScrollView delegate methods:

```
- (void)scrollViewDidScroll:(UIScrollView *)sender {
    if (kpiScrollView == self.kpiTableView) {
        return;
    }
    CGPoint contentOffset = kpiScrollView.contentOffset;
    for (PageCell *cell in [self.kpiTableView visibleCells]) {
        cell.kpiScrollView.contentOffset = contentOffset;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:58:18.453

略读代码，不确定是否还有其他问题，但首先要修复的是您获取内容偏移量的位置....

```
- (void)scrollViewDidScroll:(UIScrollView *)sender {

    // note the change here...
    if (sender == self.kpiTableView) return;

    // get the content offset from the cell's scrollview that posted this delegate message
    CGPoint contentOffset = sender.contentOffset;
    for (PageCell *cell in [self.kpiTableView visibleCells]) {
        cell.kpiScrollView.contentOffset = contentOffset;
    }
} 
```

# workflow - Assigning task to mutiple users in scrpted assignment of kaleo worlflow of liferay

> ID：16008136
> 
> 赞同：1
> 
> 时间：2013-04-15T05:21:06.897
> 
> 标签：workflow, liferay, liferay-6

I have created a workflow using kaleo workflow.In this i am trying to assign a task to multiple users,I used groovy script in scripted assignment tag for this.But its not working .when am putting two userid's in user object,first one gets replaced and second user got the approvel task. also i used users arraylist for this,like roles in kaleo single approver scripted assignment definition.but no use.

How can i manage this.

This is my code.

```
 roles=null;
            Connection con = null;
            Statement stmt = null;
            ResultSet rs = null;
            String secondid;
            try
            {                   

            Class.forName(dbDriver);
            con= (Connection) DriverManager.getConnection(dbUrl,dbUser,dbPwd);

                stmt = con.createStatement();                   
                rs = stmt.executeQuery("select ap1,ap2 from test where id = '"+userId+"'");
                users=new ArrayList<User>();                    
                while (rs.next()) 
                    {                       
                    println "approverid one"+rs.getInt(1);
                    println "approverid two"+rs.getInt(2);
                       user=UserLocalServiceUtil.getUser(Long.parseLong(rs.getString(1)));
user=UserLocalServiceUtil.getUser(Long.parseLong(rs.getString(2)));

                    users.add(user);
                    println "array list:"+users;
                    }
                rs.close(); 
                con.close();                
             }                              
            catch(SQLException e)
            {
                e.printStackTrace();
            }
            catch(ClassNotFoundException e)
            {
                e.printStackTrace();
            }           

            ]]>
    </script>
            <script-language>groovy</script-language>
        </scripted-assignment> 
```

when am adding two user id in user tag.also it indicate error in definition while uploading.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-16T05:04:54.370

简而言之，使用角色。在控制面板中，您可以指定角色并向其添加用户。或者，如果您更愿意以编程方式执行此操作，（尽管我仍会事先创建角色）如下所示：（并且我假设您可以获得或拥有一组 userIds

```
//Already created array of userIds like
// [10180,10191], etc.
roles=new ArrayList<Role>();
try {
    Role r = RoleLocalServiceUtil.getRole(companyId, roleName);
    if (r.getType()==RoleConstants.TYPE_REGULAR) {
        UserLocalServiceUtil.addRoleUsers(r.getRoleId(), userIds);
    } else {
        UserGroupRoleLocalServiceUtil.addUserGroupRoles(userIds, groupId, r.getRoleId());
    }
    roles.add(r);
} catch (SystemException e) {
    e.printStackTrace();
} catch (PortalException e) {
    e.printStackTrace();
} 
```

只需在您的脚本分配定义中扔掉它或它的一些近似值或调用它。如果需要，请先使用`UserLocalServiceUtil.unsetRoleUsers`或类似的方法从角色中清除旧用户。

# javascript - 为什么不使用 fb 登录将用户数据存储到 mysql 中？

> ID：16008140
> 
> 赞同：0
> 
> 时间：2013-04-15T05:21:33.577
> 
> 标签：javascript, mysql, facebook, facebook-login

我正在使用 facebook javascript SDK 注册用户并将其登录到我的站点。登录工作正常。

但是，我想将数据存储到 mysql 中，但每次我在控制台日志中出现“$ 未定义”的错误。经过数小时的尝试和搜索，我无法理解

1.  我在这里做错了什么？

2.  我可以使用相同的代码来验证 facebook 画布应用程序吗？

我正在学习使用 fb 身份验证。请帮助我。

```
 <script type="text/javascript">
     var button;
     var userInfo;

    window.fbAsyncInit = function () {
    FB.init({ appId:'abccccc', //change the appId to your appId
    status:true,
    cookie:true,
    xfbml:true,
    oauth:true});

showLoader(true);

function updateButton(response) {
    button = document.getElementById('fb-auth');
    userInfo = document.getElementById('user-info');

    if (response.authResponse) {
        register();

        FB.api('/me?', function (info) {
            login(response, info);

        });

        button.onclick = function () {
            FB.logout(function (response) {
                logout(response);
            });
        };

    } else {
        //user is not connected to your app or logged out
        button.innerHTML = 'Login';
        button.onclick = function () {
            showLoader(true);
            FB.login(function (response) {
                if (response.authResponse) {
                    FB.api('/me', function (info) {
                        login(response, info);
                    });
                } else {
                    //user cancelled login or did not grant authorization
                    showLoader(false);
                }
            }, {scope:'email,user_birthday,status_update,publish_stream,user_about_me'});
        }
    }

}

function register() {

    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function (response) {

        console.log('Good to see you, ' + response.name + '.' + ' Email: ' + response.email + ' Facebook ID: ' + response.id);

    });
    $.post('send.php', { option:'fb_register', name:response.name, email:response.email}, function (data) {
        alert('registerd')
    });

}

// run once with current status and whenever the status changes
FB.getLoginStatus(updateButton);
FB.Event.subscribe('auth.statusChange', updateButton);
};
(function () {
var e = document.createElement('script');
e.async = true;
e.src = document.location.protocol
        + '//connect.facebook.net/en_US/all.js';
document.getElementById('fb-root').appendChild(e);
 }());

 function login(response, info) {
 if (response.authResponse) {
    var accessToken = response.authResponse.accessToken;

    userInfo.innerHTML = '<img src="https://graph.facebook.com/' + info.id + '/picture">' + info.name
            + "<br /> Your Access Token: " + accessToken;
    button.innerHTML = 'Logout';
    showLoader(false);
    document.getElementById('other').style.display = "block";
   }
  }

function logout(response) {
userInfo.innerHTML = "";
document.getElementById('debug').innerHTML = "";
document.getElementById('other').style.display = "none";
showLoader(false);
}

 //stream publish method
 function streamPublish(name, description, hrefTitle, hrefLink, userPrompt) {
showLoader(true);
FB.ui(
        {
            method:'stream.publish',
            message:'',
            attachment:{
                name:name,
                caption:'',
                description:(description),
                href:hrefLink
            },
            action_links:[
                { text:hrefTitle, href:hrefLink }
            ],
            user_prompt_message:userPrompt
        },
        function (response) {
            showLoader(false);
        });

}
function showStream() {
FB.api('/me', function (response) {
    //console.log(response.id);
    streamPublish(response.name, 'I like the articles of Thinkdiff.net', 'hrefTitle', 'http://thinkdiff.net', "Share thinkdiff.net");
});
 }
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:26:32.980

您的函数`register`正在调用一个函数`$.post`，大概来自 jQuery。如果您没有加载任何定义的内容`$`，它将不会被定义，因此调用`$.post`将失败。

我建议加载 jQuery，它提供`$.post`.

# ruby - 如何在 Ruby 中访问此值？

> ID：16008142
> 
> 赞同：0
> 
> 时间：2013-04-15T05:21:41.403
> 
> 标签：ruby, object, yaml

对 Ruby 来说是全新的，浏览文档，似乎找不到我要找的东西。我有一个对象，我正试图深入研究它以访问某些东西。对象 tweets[0] 看起来像这样......

```
--- !ruby/object:Twitter::Tweet
attrs:
  :created_at: Wed Apr 10 00:58:21 +0000 2013
  :user:
    :location: ''
    :entities:
      :description:
        :urls: []
    :protected: false
  :geo:
  :entities:
    :hashtags:
    - :text: adult
      :indices:
      - 34
      - 40
    :urls: []
    :user_mentions: []
    :media:
      :indices:
      - 41
      - 63
      :url: http:t.co/i-need-this-image
      :type: photo
      :sizes:
        :thumb:
          :w: 150
          :h: 150
          :resize: crop
        :small:
          :w: 340
          :h: 453
          :resize: fit
        :medium:
          :w: 600
          :h: 800
          :resize: fit
        :large:
          :w: 768
          :h: 1024
          :resize: fit 
```

我尝试了很多不同的方法，但似乎都没有正常工作。为了把它们扔掉，我一直在使用

```
puts YAML::dump(tweets[0])
--
puts YAML::dump(tweets[0].media) # returns the media method correctly
puts YAML::dump(tweets[0]['media']) # also seems to do it
puts YAML::dump(tweets[0].media.url) # idk
puts YAML::dump(tweets[0]['media']['url']) # I feel like this should work but it doesn't 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:49:38.203

以下对我有用：

```
require 'yaml'
tweets = YAML.load_file('test.yml') # this file contains a copy of the YAML
p tweets["attrs"][:entities][:media][:url] # "http:t.co/i-need-this-image" 
```

# java - 如何在Java中使JTable可编辑

> ID：16008145
> 
> 赞同：5
> 
> 时间：2013-04-15T05:22:14.767
> 
> 标签：java, swing, jtable

我在 java 中使用 JTable，但它不允许我编辑单元格。

```
private final TableModel dataModel = new AbstractTableModel() {

        public int getColumnCount() { 
            return 5; 
        }

        public int getRowCount() { 
            return 10;
        }

        public Object getValueAt(int row, int col) { 
            return new Integer(row*col); 
        }
};

private final JTable table = new JTable(dataModel); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-15T05:27:06.137

添加以下代码

```
 public boolean isCellEditable(int row, int col)
      { return true; }
 public void setValueAt(Object value, int row, int col) {
    rowData[row][col] = value;
    fireTableCellUpdated(row, col);
  } 
```

你应该有一个数组来保存更改

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T05:29:00.590

`isCellEditable()`在匿名内部类中添加函数`AbstractTableModel`

```
public boolean isCellEditable(int row, int col) { 
    return true; 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T05:29:08.630

尝试

```
 private final TableModel dataModel = new AbstractTableModel() {

        public int getColumnCount() { 
            return 5; 
        }

        public int getRowCount() { 
            return 10;
        }

        public Object getValueAt(int row, int col) { 
            return new Integer(row*col); 
        }

        public boolean isCellEditable(int row, int col) {
                    return true;
                }
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T11:31:26.883

将 isCellEditable() 添加到您希望它们可编辑的行和列中，例如，如果您不希望某些列（如 ID）可编辑，则返回 false。请记住，您需要将编辑数据保存在某个位置

```
 public boolean isCellEditable(int row, int col) { 
       return true;  // or false for none editable columns
    }
 public void setValueAt(Object value, int row, int col) {
  rowData[row][col] = value; // save edits some where
  fireTableCellUpdated(row, col); // informe any object about changes
} 
```

# jquery - Tracking of a button click in jquery

> ID：16008149
> 
> 赞同：-4
> 
> 时间：2013-04-15T05:22:32.307
> 
> 标签：jquery

Following is the html code for a button.I need to track this button click.

```
<div class="abc">
    <a class="btn" data-wap="{"linktype":"xyz"}" href="#content">
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T05:23:53.227

```
$('a.btn').click(function(){
    //here
}); 
```

笔记：

*   `<a>`不是按钮。
*   如果要取消默认行为和`return false`回调中的冒泡。
*   修正`data-wap`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T05:24:10.950

你可以这样做：

```
$('.btn').click(function() {
    // Your code here
}); 
```

您还需要使用 关闭锚标记`</a>`。正如@MichaelWright 所建议的，您还需要调整您的引号`data-wap`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T05:25:48.743

像这样附加要单击的事件：

```
$('.btn').click(function () {
    // code here
}); 
```

此外，您的引号不正确，可能会给您带来问题，请在双引号中使用单引号，以免破坏它们。

```
<a class="btn" data-wap="{'linktype':'xyz'}" href="#content"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T05:27:34.533

您可以使用

```
$('a.btn').click(function(){
    //here
}) ; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T05:27:45.097

尝试这个

**HTML**

```
 <div class="abc">
    <a class="btn" data-wap="{'linktype':'xyz'}" href="#content"></a>
 </div> 
```

**jQuery**

```
$('a.btn').click(function(e){
  e.preventDefault();
  alert("clicked");
}); 
```

# javascript - HTML 中的 Javascript 无法显示特定的 div

> ID：16008153
> 
> 赞同：0
> 
> 时间：2013-04-15T05:23:10.560
> 
> 标签：javascript, html

我的 HTML 中有一个 javascript 代码。这是代码：

```
<body>
<div id="div_inner_title">
    <img class="img_title" src="../common/img/header_logo.png"></img>
    <a id="menuId"><img class="img_menu" src="img/btn_menu.png"></img></a>                     
    <script type='text/javascript'>
    $(document).ready(function (){
        $("#menuId").click(function (){
        $('html, body').animate({
            scrollTop: $("#div_menu_links").offset().top
        }, 1000);
        });
});</script>
</div>
.
.
.
.
.<!--Somewhere really below is a menu-->
.
.
<div class="div_menu_links">
    <a href="....">
        <img src="../common/img/menu_01.png" class="img_menu_button"></img>
    </a>
    <img class="img_menu_line_button" src="../common/img/menu_line.gif"></img>
<a href="....">
        <img src="../common/img/menu_02.png" class="img_menu_button"></img>
    </a> 
<img class="img_menu_line_button" src="../common/img/menu_line.gif" ></img>
<a href="....">
        <img src="../common/img/menu_03.png" class="img_menu_button"></img>
    </a> 
<img class="img_menu_line_button" src="../common/img/menu_line.gif"></img>
 <a href="....">
        <img src="../common/img/menu_04.png"class="img_menu_button"></img>
    </a>        
</div>
</body> 
```

我真正想做的是当用户使用javascript单击图像按钮时，div菜单显示在屏幕上（因为它位于实际网站的下方）。但是，上面的代码不起作用。只是为了获得更多信息，从图像按钮到 div 菜单的“转移”具有动画效果。

老实说，我不是超级天才程序员，所以请帮帮我。这是我页面上唯一没有工作的东西。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:40:28.487

检查这个简单的示例并尝试实现相同的目标：

[http://jsfiddle.net/kxGRN/2/](http://jsfiddle.net/kxGRN/2/)

**HTML**

```
<a href="#" id="menuId">Go Down</a>

<div id="div_menu_links">
    Reached the bottom menu! :)
</div> 
```

**CSS**

```
// Just for demonstration
#div_menu_links { margin-top:2000px;} 
```

**查询**

```
$(document).ready(function (){
    $("#menuId").on("click", function (e){
        e.preventDefault();
        $('html, body').animate({
            scrollTop: $("#div_menu_links").offset().top
        }, 1000);
    });
}); 
```

**一张纸条**

不要依赖他人来检测您的错误。通过这个简单的教程开始学习如何使用`firebug`：[Firebug 教程](http://www.w3resource.com/web-development-tools/firebug-tutorials.php)

# ruby-on-rails - Exporting and/or displaying multiple records in Rails

> ID：16008156
> 
> 赞同：2
> 
> 时间：2013-04-15T05:23:23.417
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activerecord

I have been working in Rails (I mean serious working) for last 1.5 years now. Coming from .Net background and database/OLAP development, there are many things I like about Rails but there are few things about it that just don't make sense to me. I just need some clarification for one such issue.

I have been working on an educational institute's admission process, which is just a small part of much bigger application. Now, for administrator, we needed to display list of all applied/enrolled students (which may range from 1000 to 10,000), and also give a way to export them as excel file. For now, we are just focusing on exporting in CSV format.

My questions are:

1.  Is Rails meant to display so many records at the same time?

2.  Is will_paginate only way to paginate records in Rails? From what I understand, it still fetches all the records from DB, and then selectively displays relevant records. Back in .Net/PHP/JSP, we used to create stored procedure and from there we selectively returns relevant records. Since, using stored procedure being a known issue in Rails, what other options do we have?

3.  Same issue with exporting this data. I benchmarked the process i.e. receiving request at the server, execution of the query and response return. The ActiveRecord creation was taking a helluva time. Why was that? There were only like 1000 records, and the page showed connection timeout at the user. I mean, if connection times-out while working on for 1000 records, then why use Rails or it means Rails are not meant for such applications. I have previously worked with TB's of data, and never had this issue.

4.  I never understood ORM techniques at the core. Say, we have a table `users`, and are associated with multiple other tables, but for displaying records, we need data from only tables `users` and its associated table `admissions`, then does it actually create objects for all its associated tables. I know, the data will be fetched only if we use the association, but does it create all the objects before-hand?

I hope, these questions are not independent and do qualify as per the guidelines of SF.

Thank you.

EDIT: Any help? I re-checked and benchmarked again, for 1000 records, where in we are joining 4-5 different tables (1000 users, 2-3 one-to-one association, and 2-3 one-to-many associations), it is creating more than 15000 objects. This is for eager loading. As for lazy loading, it will be 1000 user query plus some 20+ queries). What are other possible options for such problems and applications? I know, I am kinda bumping the question to come to top again!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:08:46.267

Rails 可以处理具有 TB 数据的数据库。

> will_paginate 是在 Rails 中对记录进行分页的唯一方法吗？

还有许多其他宝石，例如“kaminari”。

> 它从数据库中获取所有记录..

不。它不是那样工作的。例如，采取以下查询，`Users.all.page(1).per(10)`

User.all 不会触发数据库查询，它会返回一个代理对象。然后在代理（ActiveRecord::Relation）上调用 page(1) 和 per(10)。当您尝试从代理对象访问数据时，它将执行数据库查询。活动记录将累积您传递的所有条件和参数，并在需要时执行 sql 查询。

进入rails控制台并输入`u= User.all; "f";`（第二条语句：“f”，是为了防止rails控制台调用代理上的to_s来显示结果。）

它不会触发任何查询。现在尝试`u[0]`，它会触发一个查询。

> ActiveRecord 的创建非常耗时

1000 条记录应该不会花费太多时间。

*   检查从 db 触发的 sql 查询的数量。寻找 n+1 问题的迹象并通过预先加载来修复它们。
*   检查任何 cpu 或内存密集型操作的记录序列化为 csv 格式。
*   使用分析器并跟踪大部分时间消耗的函数。

# python-3.x - Python，将整数转换为字节。

> ID：16008171
> 
> 赞同：0
> 
> 时间：2013-04-15T05:24:26.060
> 
> 标签：python-3.x, bytearray, blowfish

我是python的新手，不能做一些简单的事情。我有一个来自java的代码

```
raw[j] = (byte) (chksum & 0xff)
raw[j + 1] = (byte) (chksum >> 0x08 & 0xff)
raw[j + 2] = (byte) (chksum >> 0x10 & 0xff)
raw[j + 3] = (byte) (chksum >> 0x18 & 0xff) 
```

其中 raw 是我需要在 python 中执行的字节数组。但是我怎样才能将 int 转换为字节？也许有人知道我在哪里可以获得使用 Blowfish 加密的库？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T05:38:14.510

使用`struct`模块来转换字节。

你的例子是：

```
raw[j] = struct.pack("B", chksum & 0xff)
etc.. 
```

参考：[http ://docs.python.org/3/library/struct.html](http://docs.python.org/3/library/struct.html)

# python - 如果以“”或“，”开头，python删除字符串的开头

> ID：16008176
> 
> 赞同：1
> 
> 时间：2013-04-15T05:24:56.647
> 
> 标签：python

我想让一个函数检查一个字符串是否以“”或“”开头，然后删除它们直到它到达一个字母，例如

我想转弦

```
" , , abcd" into
"abcd"

or ",,,,,      abcd" into
"abcd" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T05:26:55.447

使用 lstrip() 函数作为：

```
>>> test = " , , abcd"
>>> test.lstrip(" ,")
'abcd' 
```

谢谢谁提醒我。

strip() 函数将删除前导字符和尾随字符

lstrip() 函数将只删除前导的

rstrip() 函数将只删除尾随的一个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T05:29:24.660

请注意，`strip()`将从两侧剥离，`lstrip()`仅从左侧剥离：

```
>>> " , , abcd".lstrip(' ,')
'abcd'
>>> ",,,,,      abcd".lstrip(' ,')
'abcd' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T05:52:08.420

如果只有空格和逗号，此处发布的解决方案将起作用。如果要删除每个非字母数字字符，可以使用如下正则表达式：

```
pattern = re.compile(r'^[^\w]+(.*?)[^\w]+$') 
```

或者，如果您只想允许使用字母，请替换`\w`为`A-Za-z`：

```
pattern = re.compile(r'^[^A-Za-z]+(.*?)[^A-Za-z]+$') 
```

要立即使用它，请执行以下操作：

```
str = re.sub(pattern, '\\1', str) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T05:54:08.247

```
In [15]: s = " , , abcd"

In [23]: s.strip(', ')
Out[23]: 'abcd'

In [24]: s = ",,,,,      abcd"

In [25]: s.strip(', ')
Out[25]: 'abcd' 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-15T05:45:53.927

我必须使用拆分功能来做到这一点：

字符串 = ",, ,,, abcd"

打印 (string.split(' '))[-1]

# gwt - Gwt 单选按钮问题

> ID：16008181
> 
> 赞同：0
> 
> 时间：2013-04-15T05:25:56.470
> 
> 标签：gwt, radio-button

我为我的两个 GWT-RadioButtons 使用相同的组名。当我单击其中一个时，另一个未选中，这很好。但是以编程方式（当我进行调试时）其他单选按钮值仍保持为 'true' 。根据我的要求，它应该是错误的。我认为这是 GWT-RadioButton Group 概念的问题。

GWT - RadioButton 有这个问题吗？

下面是代码片段

```
indiaRadioBtn.setValue(true);     
  indiaRadioBtn.addClickHandler(new IndianRadioClickHandler());     
  othersRadioBtn.addClickHandler(new InternationalRadioClickHandler());     

    if (contactInfo != null) {     
    if (contactInfo.getPostalAddress().getCountry() != null) {    
      othersRadioBtn.setValue(true);      
    }     

    if (indiaRadioBtn.getValue()) {    
      index = -1;    
      for (StateOrProvince stateOrProvince : StateOrProvince.values()) {    
        index++;
        if ((contactInfo.getPostalAddress().getState() != null)    
            && contactInfo.getPostalAddress().getState().equals(stateOrProvince.name())) {   
          stateListBox.setSelectedIndex(index);     
        }    
      }    
    } else {    
          //some code  } 
```

类 IndianRadioClickHandler 实现 ClickHandler {

```
 @Override
  public void onClick(ClickEvent event) {
    //newOrUpdateContactInfoFormPanel.clear();
    ContactInfo contactInfo = getSelectedContactInfo();

    /**
     * Used same panel and elements for both addresses, so clearing address for Indian.
     */
    if (contactInfo != null) {
      if (contactInfo.getPostalAddress().getCountry() != null
          || title.equals("Create New Address")) {
        contactInfo = null;
      }
    }
    newOrUpdateContactInfoFormPanel.add(getCompleteFormPanel(contactInfo));
  }
}

if contactInfo != null then it is executing that loop, i am setting  othersRadioBtn.setValue(true); 
```

所以我的另一个单选按钮应该根据组概念设置为 false ..但它没有做它的工作。

# java - ESB 中的传输是什么

> ID：16008185
> 
> 赞同：0
> 
> 时间：2013-04-15T05:26:20.210
> 
> 标签：java, open-source, integration, wso2esb

我搜索了很多，但无法得到正确的答案。我希望为 wso2 esb 编写一个新的适配器，它将能够识别新的消息传递协议（wso ESb 尚不支持）。我发现我必须为此编写一个传输。我只需要知道运输是做什么的？它应该具有使用消息构建器理解消息的能力吗？并且该组件是否进行所有消息转换等。请解释一下。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:34:10.613

传输基本上是一种携带消息的方法。传输基本上是一种协议，例如http，https，vfs，它端到端地携带消息，

要检查 WSO2 方式请参阅文档“WSO2 碳传输目录”在 [1]。

编写新的传输 WSO2 ESB 基于 Apache Synapse，它使用 Axis2 Transports 来提供传输。您可以编写一个新的 Axis2 传输并将其插入 WSO2 ESB。你可以参考[2]和[3]。

[1]。[http://wso2.org/project/esb/java/3.0.1/docs/transports/transports-catalog.html](http://wso2.org/project/esb/java/3.0.1/docs/transports/transports-catalog.html)

[2] [http://axis.apache.org/axis2/java/core/docs/axis2config.html#Receiver](http://axis.apache.org/axis2/java/core/docs/axis2config.html#Receiver)

[3] [http://synapse.apache.org/transports.html](http://synapse.apache.org/transports.html)

谢谢你，达沙那。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T14:13:00.543

Axis2 Transport（我们在 WSO2 ESB 中使用）位于 SOAP 处理引擎的最外层。有关详细信息，请参阅 [1]。

对此进行更多解释。想象一下您需要将 SMS 协议转换为 Axis2 传输。这里需要在TransportListner 将传入的sms 消息转换为SOAP 消息，然后将其传递给Axis2 引擎。在传输侦听器中，您可以使用 MessageBuilder 将 SMS 消息转换为 SOAP 消息。

同样，当您向外部发送 SMS 消息时。您可以使用消息格式化程序将 SOAP 消息转换为 SMS 消息并将其传递给 TransportSender 到 SMS 端点。

是否使用消息构建器或传输取决于用例。假设您需要使用 JSON 消息。在那里，您可以使用任何现有的兼容传输来发送 JSON 消息，然后使用 JSON 消息构建器来执行此操作。（因为您可以通过 HTTP 等发送 JSON。）但是如果您需要使用 HTML5 Websockets 并通过它发送消息。您需要定义一个新的传输，因为没有其他方法可以监听和与 Web 套接字通信。

[1] [http://axis.apache.org/axis2/java/core/docs/Axis2ArchitectureGuide.html](http://axis.apache.org/axis2/java/core/docs/Axis2ArchitectureGuide.html)

# mysql - 阻止空值进入数据库

> ID：16008188
> 
> 赞同：0
> 
> 时间：2013-04-15T05:26:34.943
> 
> 标签：mysql, sql

我有一个数据库，我正在通过应用程序访问它。该应用程序采用包括空白在内的所有类型的值（我的错误:( 应该只在我的应用程序中限制它）。我想运行一个脚本来阻止它的条目空值到我的数据库。

例如： Books 是我的数据库，包含作者、价格、标题列我想阻止空作者姓名条目，我使用了如下所示的触发器；

分隔符 |

```
CREATE TRIGGER trigger1  AFTER INSERT ON books
  FOR EACH ROW BEGIN
    IF NEW.author = '' THEN    
    delete from books where author = '';
    END IF;      
  END;
|books
DELIMITER ; 
```

该脚本满足阻止空值的目标，但有一些不一致（在某些点之后我根本无法访问数据库，我既不能输入值也不能访问一个值）。谁能告诉我可能是什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:33:24.977

有多种方法可以实现这一点 -
1）将触发器更改为 BEFORE INSERT，如果作者姓名为空，则返回 false 这将阻止应用程序插入空白作者姓名。

2）更改表架构，并在作者姓名中添加一个非空约束。

请参阅[阻止空值条目进入数据库](https://stackoverflow.com/questions/15872630/blocking-null-value-entries-into-database?rq=1)

# java - 播放框架在保存之前检索同一对象的旧记录

> ID：16008197
> 
> 赞同：1
> 
> 时间：2013-04-15T05:27:22.533
> 
> 标签：java, database, playframework, record, playframework-1.x

**看法 ：**

```
#{form @UserController.editUser()}

<input type="hidden" value=${user?.id} name="user.id">

  #{input key:'user.instructions', label: 'Instructions', value: user?.instructions /}               

//// Assume the value of the instructions is "Old" (currently in the database) and the user changes it in the view to "New" using the input box

***(input is a tag I created.)***

  <div class="form-actions">

          <button id="save" type="submit" class="btn btn-primary" name="event" value="update">      

                     <i class="icon-save"></i> Save

          </button>

</div>

#{/form} 
```

**控制器 ：**

```
public static void editUser(User user) {

User old = User.findById(user.id);            

 /// Right here I need the old record before i edit it. How do i get the old value? That is, i need record with user.instructions = "Old".   I always get the record where user.instructions = "New" even though it is not saved in the database

user.save();                           

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T13:49:49.560

我认为这是因为在提交表单后，Play!Framework JPA 对象绑定对内存上的数据进行了更改（不是数据库上的数据，因为它没有被持久化）。

我已经尝试过这段代码，它对我有用.. :) 要克服这个问题，您的`editUser`控制器操作可能如下所示：

```
public static void editUser(User user) {
   JPA.em().detach(user); // detach framework managed user object
   User old = User.findById(user.id); // get old value from database (get original data)

   // in this scope, "old" variable has same value as in database
   ...

   user = JPA.em().merge(user); // tell framework to manage user object again and reassign variable reference
   user.save(); // persist change to database
} 
```

* * *

> 这篇文章可以作为一个很好的参考：
> 
> *   [分离和合并 JPA 实体](http://www.objectdb.com/java/jpa/persistence/detach)

# javascript - 帆布矩形喜怒无常边框

> ID：16008201
> 
> 赞同：-2
> 
> 时间：2013-04-15T05:28:06.660
> 
> 标签：javascript, html, canvas

在画布上绘制一个矩形时，我得到一个喜怒无常的淡出边框，我希望它变得清晰，如何？

```
 ctx.fillStyle = "#CF0"
    ctx.fillRect(0,0,20,20) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:44:41.050

在画布中有两种不同且独立的尺寸：

*   屏幕尺寸 (`.offsetWidth`和`.offsetHeight`)
*   以像素为单位的大小 (`.width`和`.height`)

如果两者不相同，您的图形将看起来不准确（如果以像素为单位的尺寸较小，则更具体地模糊）。

在某些情况下（例如Apple“视网膜”显示器），您需要将像素大小精确地设置为屏幕大小的两倍才能获得准确的渲染。

# javascript - 检测到错误后如何让我的循环从头开始

> ID：16008205
> 
> 赞同：1
> 
> 时间：2013-04-15T05:28:15.360
> 
> 标签：javascript

当遇到用户输入错误时，我试图让我的循环重新启动。我需要它从一开始就重新启动，而不仅仅是最后一个问题。

所以下面当它说validImput = false时，这就是我试图让它重新启动的地方。

```
{
var validInput = true;
var start = confirm('Add item to shoping cart');
if (start == true) {

    // ask first question
    var orderProductCodeArr = parseInt(prompt('Enter input: '), 10);

    if (isNaN(orderProductCodeArr)) {
        alert("input is not a valid number");
        validImput = false

    } else if (orderProductCodeArr < 0 || orderProductCodeArr >= PRODUCT_LIST.length) {
        alert("code does not match any item");
        validInput = false;
    }

    // ask second question

     else if(validInput == true) {
        var item = PRODUCT_LIST[orderProductCodeArr];
        alert("item is: " + item);
    }
        // get quantity input

    var quanityArr = parseInt (prompt('Enter quality amount'),10);
        if (isNaN(quanityArr)) {
        alert("input is not a valid number");
        validInput = false;

    }

} else {
    document.writeln('still to come')
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:38:15.093

尝试

```
function test()
{

   for(var s=0;s<5;s++)
   {
    try
    { 

     //body of the for loop

    }catch(e){s=0;}
   }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:58:42.890

重新开始的常用方法是某种循环结构，通常使用`while`如下：

```
while (true) {
    // your loop code here

    // you can use break; to break out of the while loop 
    //     anywhere to stop repeating
    // you can use continue; to jump to the next iteration immediately

} 
```

或者，有时您使用这样的循环条件：

```
var doAgain = true;
while (doAgain) {

    // within the loop, you set doAgain to false when you are done
    // and don't want to repeat the loop again

} 
```

# c - 如果父母有多个孩子，什么决定了它将在 WEXITSTATUS 上检索哪个状态？

> ID：16008212
> 
> 赞同：1
> 
> 时间：2013-04-15T05:29:01.970
> 
> 标签：c

对不起，我不熟悉 fork() 的机制，所以答案可能很简单。为了详细说明我的问题，如果我多次运行 fork()，例如使用 for 循环，并且我使用 WEXITSTATUS(status) 从 /a 孩子那里检索信息，是什么决定了我获得谁的信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:32:32.320

[`wait()`or`waitpid()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/waitpid.html)函数返回尸体的PID，状态值是属于该尸体的状态。

```
int   status;
pid_t corpse = wait(&status);

if (corpse > 0)
{
    if (WIFEXITED(status))
        printf("Process %d died with exit status %d\n", (int)pid, WEXITSTATUS(status));
    else if (WIFSIGNALED(status))
        printf("Process %d died from signal %d\n", (int)pid, WTERMSIG(status));
    else
        printf("Process %d was reported with status 0x%.4X\n", (int)pid, status);
} 
```

您可以在大多数实际系统（通常）上找到有关核心转储的信息`WCOREDUMP(signal)`，但 POSIX 并未对其进行标准化。该`else`子句涵盖的选项包括`WIFSTOPPED`and `WIFCONTINUED`，也许还有其他一些选项。请查阅`waitpid()`您系统的手册页。

# ruby-on-rails - HTTP 错误 500：solr 配置中的严重错误。Ruby on rails

> ID：16008219
> 
> 赞同：0
> 
> 时间：2013-04-15T05:29:32.347
> 
> 标签：ruby-on-rails, dih

当我尝试使用 DIH 从 mysql 表中导入数据时，出现此错误。

```
HTTP ERROR 500

Problem accessing /solr/dataimport. Reason:

    Severe errors in solr configuration.

Check your log files for more detailed information on what may be wrong.

If you want solr to continue after configuration errors, change: 

    <abortOnConfigurationError>false</abortOnConfigurationError>

in solr.xml

    org.apache.solr.common.SolrException: Error loading class 'org.apache.solr.handler.dataimport.DataImportHandler'
        at org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:389)
        at org.apache.solr.core.SolrCore.createInstance(SolrCore.java:425)
        at org.apache.solr.core.SolrCore.createRequestHandler(SolrCore.java:461)
        at org.apache.solr.core.RequestHandlers.initHandlersFromConfig(RequestHandlers.java:157)
        at org.apache.solr.core.SolrCore.<init>(SolrCore.java:565)
        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:463)
        at org.apache.solr.core.CoreContainer.load(CoreContainer.java:316)
        at org.apache.solr.core.CoreContainer$Initializer.initialize(CoreContainer.java:133)
        at org.apache.solr.servlet.SolrDispatchFilter.init(SolrDispatchFilter.java:94)
        at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:97)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:713)
        at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)
        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)
        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)
        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
        at org.mortbay.jetty.Server.doStart(Server.java:224)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.xml.XmlConfiguration.main(XmlConfiguration.java:985)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:616)
        at org.mortbay.start.Main.invokeMain(Main.java:194)
        at org.mortbay.start.Main.start(Main.java:534)
        at org.mortbay.start.Main.start(Main.java:441)
        at org.mortbay.start.Main.main(Main.java:119)
    Caused by: java.lang.ClassNotFoundException: org.apache.solr.handler.dataimport.DataImportHandler
        at java.net.URLClassLoader$1.run(URLClassLoader.java:217)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:205)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
        at java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:615)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:264)
        at org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:373)
        ... 33 more 
```

这是我的 schema.xml 代码

```
<fields>
    <field name="brands_test_id" type="string" indexed="true" stored="true" required="true" />
    <field name="categories_test_id" type="string" indexed="true" stored="true" required="true" />
  </fields> 
```

data-config.xml 有以下代码：

```
<dataConfig>
    <dataSource type="JdbcDataSource" 
                driver="com.mysql.jdbc.Driver"
                url="jdbc:mysql://localhost/Webpage"      
                user="test" 
                password="test123"/>
    <document name="Products">
        <entity name="products" query="select brands_test_id,categories_test_id from products"
            <field name="brands_test_id" column="brands_test_id"
            <field name="categories_test_id" column="categories_test_id"
            <entity name="brands_test" query="select name from brands_test where id='$products.brands_test_id' "
                    <field name="brands_test" column="brands_test"/>
            </entity>
            <entity name="categories_test" query="select name from categories_test where id='$products.categories_test_id' "
                    <field name="categories_test" column="categories_test"/>
            </entity>
        </entity>
    </document>
</dataConfig> 
```

这是 solrconfig.xml 文件

```
<lib dir="../../../dist/" regex="apache-solr-dataimporthandler-\d.*\.jar" />

<requestHandler name="/dataimport"           class="org.apache.solr.handler.dataimport.DataImportHandler">
    <lst name="defaults">
      <str name="config">data-config.xml</str>
    </lst>
  </requestHandler> 
```

我下载了 mysql-connector-java-3.1.14.tar.gz 并将其解压缩并复制到 lib 目录。Ami正确定义文件目录？请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T01:38:57.547

您遇到的错误与您的代码无关，只是 Solr 不再将 DIH jar 显式捆绑在主 Web 应用程序存档中。幸运的是，它很容易克服，请参阅：[Solr 4.1 DataImportHandler ClassNotFoundException](https://stackoverflow.com/questions/14827375/solr-4-1-dataimporthandler-classnotfoundexception)

# appfabric - DataCache 的 Add 方法 'Timeout' 属性是否在本质上滑动

> ID：16008221
> 
> 赞同：1
> 
> 时间：2013-04-15T05:29:48.130
> 
> 标签：appfabric, appfabric-cache

我正在为分布式缓存实现appfabric，需要知道其中一个重载中提供的超时属性是否滑动，即每次使用都会增加超时，以及如果可能的话如何将设置从滑动更改为绝对

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T10:03:18.117

[MSDN 文档](http://msdn.microsoft.com/en-us/library/microsoft.applicationserver.caching.datacache.add.aspx)没有明确说明，但我希望如果它使用滑动到期，它会在评论中讨论它，因此我认为它是*绝对*超时。

# php - 如何设置可以接受 oAuth 回调的本地服务器？

> ID：16008226
> 
> 赞同：1
> 
> 时间：2013-04-15T05:30:45.960
> 
> 标签：php, apache, localhost

我不确定这个问题在这里是否有用，但我在设置本地开发服务器时遇到了很多麻烦，我可以从那里在 Facebook、Twitter、Google+ 和其他应用程序上工作。

到目前为止，我有一个 Apache 环境，并且正在基于 PHP 的平台上工作。数据库服务器是标准的 MySQL 服务器。另外，我正在基于身份验证的代理背后工作。

我遇到的主要问题是，当我在 Twitter 上提出申请并输入相关详细信息时，例如 - `website`、`callbackurl`as `127.0.0.1`。我的应用程序在尝试检索 oAuth 密钥时无法检索。我什至尝试将我的听力帖子更改为 以外的其他`80`内容，但它也不起作用。

我了解任何此类应用程序都会遇到此问题，因为`127.0.0.1`它不是精确指向我的计算机的地址。而且我不知道除此之外的任何其他方法。我是在某处做错了什么，还是无法通过本地部署的服务器开发/测试需要 oAuth 的应用程序。

## 更新

端口转发不是解决方案，因为我在防火墙后面并且我是专用网络的一部分。因此，我的问题是——

在这样的设置下，这种发展是不可能的吗？如果是，那我该怎么办？如果我使用加密狗工作，可以吗？还是我需要购买静态 IP？

# matlab - 使用 imnoise 为图像添加高斯噪声

> ID：16008228
> 
> 赞同：9
> 
> 时间：2013-04-15T05:31:00.707
> 
> 标签：matlab, noise

如何使用 SNR=5dB 向图像添加高斯白噪声`imnoise`？

我知道语法是：

```
J = imnoise(I,type,parameters) 
```

和：

> `SNR = 10log[10][var(image)/var(error image)]`

如何使用此 SNR 值向图像添加噪点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-15T09:37:50.217

让我们先看看 SNR 与噪声的关系。您的错误图像是原始图像和噪声图像之间的差异，这意味着错误图像是噪声本身。因此，SNR 实际上是：

> `SNR = 10log[10][var(image)/var(noise)]`

对于给定的图像和 SNR=5db，噪声的方差为：

> `var(noise) = var(image)/10^(SNR/10) = var(image)/sqrt(10)`

现在让我们将所有这些转换成 MATLAB 代码。`I`要使用该命令将高斯白噪声添加到图像（表示为） `imnoise`，语法为：

```
I_noisy = imnoise(I, 'gaussian', m, v) 
```

其中`m`是平均噪声，`v`是其方差。还需要注意的是，`imnoise`假设图像中的强度`I`范围为 0 到 1。

在我们的例子中，我们将添加零均值噪声，其方差为`v = var(I(:))/sqrt(10)`。完整的代码是：

```
%// Adjust intensities in image I to range from 0 to 1
I = I - min(I(:));
I = I / max(I(:));

%// Add noise to image
v = var(I(:)) / sqrt(10);
I_noisy = imnoise(I, 'gaussian', 0, v); 
```

澄清：我们`var(I(:))`用来计算图像中所有样本的方差`I`（而不是`var(I)`计算沿列的方差）。

希望这可以帮助！

### 例子

```
I = imread('eight.tif');
I = double(I);

%// Adjust intensities in image I to range from 0 to 1
I = I - min(I(:));
I = I / max(I(:));

%// Add noise to image
v = var(I(:)) / sqrt(10);
I_noisy = imnoise(I, 'gaussian', 0, v);

%// Show images
figure
subplot(1, 2, 1), imshow(I), title('Original image')
subplot(1, 2, 2), imshow(I_noisy), title('Noisy image, SNR=5db') 
```

结果如下：

![在此处输入图像描述](https://i.stack.imgur.com/zOPtv.jpg)

# php - 我需要保护我的网站免受 iframe 的影响。同时，我需要通过我自己的网站和一些允许的网站进行 iframe。我怎样才能做到这一点？

> ID：16008232
> 
> 赞同：-2
> 
> 时间：2013-04-15T05:31:28.950
> 
> 标签：php, javascript, security, .htaccess, iframe

我需要保护我的网站免受 iframe 的影响。同时，我需要通过我自己的网站和一些允许的网站进行 iframe。我怎样才能做到这一点？

在我允许之前，每个网站都不能使用 iframe。我看到它可以通过javascript证明。

看这个链接实现代码查看-源码： http: [//onlinefreetv.net/test.php/](http://onlinefreetv.net/test.php/)

通过上面的代码，我可以保护任何 iframe，但是这个系统没有设施允许我自己的网站或允许的网站做 iframe。

我希望我能描述一切以获得实际帮助。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:44:58.593

我相信这就是您正在寻找的。

```
if (top.location !== self.location){
    top.location = self.document.location;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:02:30.067

如果可以，最好在*.htaccess*隐藏文件中尝试这些配置指令：

```
Options +FollowSymlinks
RewriteEngine on

RewriteCond %{HTTP_REFERER} !yoursite\.com$
RewriteRule . /abuse.txt [L] 
```

并在您的文件管理器上创建一个*/abuse.txt文件，其中包含您想要的滥用语句，例如任何警告或警告。*但请确保您的网络托管帐户**具有**带有`mod_rewrite`.

# c# - 使用 jqgrid 更新记录后选择行

> ID：16008236
> 
> 赞同：0
> 
> 时间：2013-04-15T05:31:51.640
> 
> 标签：c#, javascript, jqgrid

我对 JQgrid 有疑问。

这是我的网格代码。我正在使用“beforerowselect”和“loadcomplete”的客户端事件
注意：每次重新加载网格时，我都会使用加载完成来重新加载网
格，它将选择该项目。

```
<trirand:JQGrid ID="jqgrid" runat="server" Height="475px" Width="1510px" MultiSelect="false" ShrinkToFit="true" AutoWidth="true">
<ClientSideEvents BeforeRowSelect="beforeSelect" LoadComplete="loadComplete"/> 
```

在“beforeselectevent”中，我在这里所做的是获取
“itemid”的rowid的单元格值。

我尝试创建一个会话变量来存储“ItemID”的值并将其存储在 var sessionItemID 中，以便我能够在“加载完成事件”上传递它。

问题：但每次我尝试在这里插入断点时，它总是给我 '' 值。

```
function beforeSelect(rowid, e) {
                grid = $("#<%= jqgrid.ClientID %>");
                ItemID = grid.jqGrid('getCell', rowid, 'ItemID');
                var sessionItemID = '<%=Session["ItemID"] %>';
} 
```

在“加载完成”事件中。我传递了 sessionItemID，以便我可以获得 ItemID。所以每次我更新网格上的项目。
它将重新加载页面并选择我更新的项目。

问题：重新加载后，重新加载后不选择项目。

```
function loadComplete(sessionItemID ) {
                if (ItemID != 0 || ItemID != null) {
                    grid = $("#<%= jqgrid.ClientID %>");
                    grid.trigger("reloadgrid");
                    grid.jqgrid('setselection', "2" );
                }
            } 
```

我想要实现的是这个（为了让故事简短）
1\. 在网格上选择行，表单将弹出然后更新记录。
2.更新记录后，用户将保存页面然后关闭。
3\. 网格将重新加载
4\. 它会记住选择/更新的项目。

我真的很困惑我接下来要做什么。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:59:12.373

我认为您的方法名称中有一些拼写错误，

更改`grid.jqgrid('setselection', "2" );`为`grid.jqGrid('setSelection', "2" );`

2`jqgrid`对`jqGrid`和`setselection`对的变化`setSelection`

更新：如果要在更新后保留选择，您可以通过`current:true`reloadgrid来实现

删除 loadComplete 中的代码并将其添加到 aftersaveFunc 如下所示

```
 grid = $("#<%= jqgrid.ClientID %>");
                    grid.trigger("reloadGrid",[{current:true}]); 
```

请注意`reloadGrid`是驼色外壳（G 是上部）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T07:43:40.013

要解决所描述的问题，您可以尝试使用表单编辑的[reloadAfterSubmit: false](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aform_editing#properties)选项来*防止*在行编辑结束时重新加载网格。如果您不添加新行，则该选项可能是最好的方法。

或者，您可以使用`afterSubmit`回调或`jqGridAddEditAfterSubmit`事件来保存当前选择并在网格的文本加载后恢复它。相应的代码可能如下：

```
$("#jqgrid").bind("jqGridAddEditAfterSubmit", function () {
    this.grid.selectionPreserver(this);
}); 
```

# sql - 如何在我的 sql 查询中排除特定值？

> ID：16008239
> 
> 赞同：0
> 
> 时间：2013-04-15T05:31:57.127
> 
> 标签：sql, sqlite, equality

我有以下查询，它可以正确输出所有内容，除了我不想要它给我的行之一：

```
SELECT r.Region_Cd, r.Region_Desc, 
COUNT(a.Region) AS Count
FROM Region r
--WHERE r.Region_Desc <> "Unspecified"
LEFT JOIN HU_UNIT_STATE_LEVEL a ON r.Region_Cd = a.Region
GROUP BY r.Region_Cd, r.Region_Desc; 
```

我想排除 r.Region_Desc 为“未指定”的条目，但我不确定该子句的放置位置。我注释掉了我认为可以解决问题的行，但最终给了我一个错误。我能否解释一下为什么我当前的查询没有意义？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:34:30.903

加入后使用 where 条件。

```
SELECT r.Region_Cd, r.Region_Desc, 
COUNT(a.Region) AS Count
FROM Region r
LEFT JOIN HU_UNIT_STATE_LEVEL a ON r.Region_Cd = a.Region
WHERE r.Region_Desc <> 'Unspecified'
GROUP BY r.Region_Cd, r.Region_Desc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:37:50.990

我们不能为我们试图加入其他表的父表编写 where 条件。但是我们可以用其他连接表编写条件。所以加入后使用条件。

```
SELECT r.Region_Cd, r.Region_Desc, 
COUNT(a.Region) AS Count
FROM Region r
LEFT JOIN HU_UNIT_STATE_LEVEL a ON r.Region_Cd = a.Region
WHERE r.Region_Desc <> 'Unspecified'
GROUP BY r.Region_Cd, r.Region_Desc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T14:58:58.297

通过考虑性能，您应该使用这样的东西。

```
SELECT r.Region_Cd, r.Region_Desc, 
COUNT(a.Region) AS Count
FROM Region r
LEFT JOIN HU_UNIT_STATE_LEVEL a ON r.Region_Cd = a.Region and r.Region_Desc <> "Unspecified"
GROUP BY r.Region_Cd, r.Region_Desc; 
```

# java - 调用 registry.lookup 时表中没有此类对象

> ID：16008240
> 
> 赞同：0
> 
> 时间：2013-04-15T05:32:00.000
> 
> 标签：java, rmi

我在尝试使用 RMI 在服务器和客户端之间运行通信时遇到问题。我的代码附在下面。服务器运行良好，我可以在 pc 端口列表中看到监听端口，客户端在 registry.lookup 上失败。我没有发现任何类似的问题。请帮忙。

服务器：

```
public class Main {

private static int port = Registry.REGISTRY_PORT; 
private static Registry registry;
/**
 * @param args the command line arguments
 */
public static void main(String[] args) {

   if (args.length == 1) {
        try {
                port = Integer.parseInt(args[0]);
                }
            catch (NumberFormatException e) {
    System.out.println("Port number is not valid!");
    System.exit(0);
            }
}

    if (System.getSecurityManager() == null)
        System.setSecurityManager(new RMISecurityManager());
String name = "DBInterface";

    System.out.println("Starting server.");

    try {        
        DBInterface DBInterface = new DBClass();
        DBInterface stub = (DBInterface) UnicastRemoteObject.exportObject(DBInterface, 5000); 
        registry = LocateRegistry.createRegistry(port);
        registry.rebind(name, stub);
    }
    catch (RemoteException e)
    {
        System.out.println(e.getMessage());
    }
    System.out.println("Server succesfully started.");

} 
```

}

客户：

```
public class Client {

private static String ipAddress = "localhost";
private static int port = Registry.REGISTRY_PORT;
private static String confFile = "";
public static DBInterface dbServer = null;
public static String name = "DBInterface";

public static void main(String[] args) {
    System.out.println("Starting client.");

    if (System.getSecurityManager() == null)
        System.setSecurityManager(new RMISecurityManager());

    if (args.length == 3) {
        try {
            ipAddress = args[0];
            port = Integer.parseInt(args[1]);
            confFile = args[2];
        }
        catch (NumberFormatException e) {
    System.out.println("Port number is not valid!");
    System.exit(0);
        }
}
    else
    {
        System.out.println("Some parameter is missing!");
        System.out.println("Valid parameters are: IP(0) Port(1) Config_file_name(2).");
    }

    ArrayList<ArrayList<String>> commands = Tools.loadConfigFile(confFile);
    Iterator<ArrayList<String>> commandsIterator = commands.iterator();
    Registry registry;

try {
        registry = LocateRegistry.getRegistry(ipAddress, port);    
        dbServer = (DBInterface) registry.lookup(name);  //code fails here                   
} catch (RemoteException e) { 
        System.out.println(e.getMessage());  //"no such object in table" is printed on the screen
} catch (NotBoundException e) {
        System.out.println(e.getMessage());
}        
    Tools tools = new Tools(dbServer); 
```

...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T02:28:41.053

你描述的基本上是不可能的。该异常意味着您正在使用的存根（在本例中为 Registry）不再引用目标 JVM 中的实时导出对象。但是，由于注册表存根是在本地创建的，因此它们根本没有机会过期。唯一的机制是您创建的注册表退出，但静态注册表引用应该阻止这种情况。

我会改变一些事情：

```
 DBInterface stub = (DBInterface) UnicastRemoteObject.exportObject(DBInterface, 5000); 
    registry = LocateRegistry.createRegistry(port); 
```

反转这两行，并`port`用于注册表和导出。您不需要两个端口。此外，在你所有的 catch 块中，永远不要仅仅为了你自己而抑制异常消息。您应该始终至少记录实际的异常消息。

# javascript - 动态分配 ID

> ID：16008241
> 
> 赞同：0
> 
> 时间：2013-04-15T05:32:11.320
> 
> 标签：javascript, jquery, node.js

我正在使用 nodejs 和 expressjs。

我从数据库加载列表。选择任何列表元素会弹出一个覆盖以编辑和删除所选项目。我不知道如何将选定的列表项发送到快速路线。

我认为需要做的事情：动态地为叠加层上的按钮分配一个 ID。我试图制作一个 jfiddle，但覆盖不起作用。

有任何想法吗？我正在使用 jquery 将叠加层滑动到视图中。

感谢您抽出时间来阅读

我有一个动态创建的列表，每个项目都有“.recordlongpress”类，我将这个 Jquery 功能应用于它。

```
 $(document).ready(function(){           
    $('.recordlongpress').bind('tap', function() {
        return;
    });
    $('.recordlongpress').bind('taphold', function() {
        $('#overlay').fadeIn('fast',function(){
            $('#box').animate({'top':'100px'},500);
        }); 

    });
    $('#boxclose').click(function(){
        $('#box').animate({'top':'-100px'},500,function(){
            $('#overlay').fadeOut('fast');
        });
    });

}); 
```

这带来了我的叠加层，它是由 CSS 和这个 HTML 的组合完成的

```
 <div class="overlay" id="overlay" style="display:none;"></div>
    <div class="box" id="box">  
        <a class="boxclose" id="boxclose"></a>
            <button onclick="location.href='/scape/editcustomerform/id'">Edit Contact</button>
            <button onclick="location.href='/scape/deletecustomer/ID'">Delete Contact</button>
            <button>E-mail Customer</button>
            <button>Call Customer</button>
            <button>GPS to Address</button>
            <button>Create Quote</button>
            <button>Create Sales Order</button>
            <button>Create Cash Sale</button>
        </div>
    </div> 
```

我试图将路径 id 附加到我的路线的末尾，但它只是字面上使用了 id 这个词。感谢您的任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:07:25.000

尝试这个：

```
var box     = document.getElementById('box'),
    buttons = box.getElementsByTagName('button');

for(var i = 0; i < buttons.length; i++){
    buttons[i].id = [ 'my', 'button', 'id', i ].join('-');
} 
```

[提琴手](http://jsfiddle.net/app8Q/)

此外，您可以尝试“映射”操作：

```
var box     = document.getElementById('box'),
    buttons = box.getElementsByTagName('button');

var map = [
    'editcustomerform',
    'deletecustomer',
    'emailcustomer',
    'callcustomer',
    'gpstocustomer',
    'createquote',
    'createsalesorder',
    'createcashsale'
];

for(var i = 0; i < buttons.length; i++){
    buttons[i].id = [ 'my', 'button', 'id', i ].join('-');
    buttons[i].onclick = function(){ location.href = [ '/scape', map[i], 'id' ].join('/'); }
} 
```

# java - JSON 序列化在 java POJO 中给出 null

> ID：16008243
> 
> 赞同：0
> 
> 时间：2013-04-15T05:32:18.130
> 
> 标签：java, json, jsonserializer

我有一个设置了值的 java POJO。我设置如下值：

```
CreateRequisitionRO[] request = new CreateRequisitionRO[1];
        request[0].setPortfolio("HEXGENFUND");
        request[0].setTransSrlNo(new BigDecimal(1));
        request[0].setTransCode("BUY");
        request[0].setInvestReason("009");
        request[0].setInflowOutflow(InflowOutflow.I);
        request[0].setTradeDate(new LocalDate());
        request[0].setTradeDate(new LocalDate()); 
```

这是我的 json 序列化方法：

```
public String serialiseRequisionRO(CreateRequisitionRO[] requestObj) {
        //CreateRequisitionRO requestObj = new CreateRequisitionRO();
        JSONSerializer serializer = new JSONSerializer();
        System.out.println("JSON : "+serializer.serialize(requestObj));
        return serializer.serialize(requestObj);
    } 
```

但是当我执行程序时，我在这一行得到空指针异常`request[0].setPortfolio("HEXGENFUND");`

如何解决它。什么可能是解决方案。

请帮我解决这个问题。

最好的问候安托

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:35:05.560

您需要初始化数组元素。

```
 request[0] = new CreateRequisitionRO(); 
```

# c# - 在 Gridview 中显示逗号分隔值

> ID：16008244
> 
> 赞同：4
> 
> 时间：2013-04-15T05:32:21.347
> 
> 标签：c#, asp.net, gridview, updatepanel

**我有的**

我有一个绑定到某个数据源的gridview。在其中，我添加了另一列（“资源”），明确绑定到另一个数据源。

**代码.aspx**

```
<asp:GridView ID="GridView1"    OnRowCommand="GridView1_RowCommand" OnRowDataBound="GridView1_RowDataBound" runat="server" AutoGenerateColumns="False" DataSourceID="EntityDataSource1">
    <Columns>
        <asp:BoundField DataField="Name" HeaderText="Name" ReadOnly="True" SortExpression="Name" />
        <asp:BoundField DataField="Description" HeaderText="Description" ReadOnly="True" SortExpression="Description" />
        <asp:BoundField DataField="TFSId" HeaderText="TFSId" ReadOnly="True" SortExpression="TFSId" />
        <asp:CheckBoxField DataField="IsBillable" HeaderText="IsBillable" ReadOnly="True" SortExpression="IsBillable" />
        <asp:BoundField DataField="Estimate" HeaderText="Estimate" ReadOnly="True" SortExpression="Estimate" />
        <asp:BoundField DataField="Id" HeaderText="Id" ReadOnly="True" SortExpression="Id" />
        <asp:TemplateField HeaderText="Resources">
             <ItemTemplate  >
             <asp:UpdatePanel ID="updatepanel1" runat="server" >
                <ContentTemplate>
                     <asp:TextBox ID="TextBox1" runat="server" Width="100px"></asp:TextBox>
                    <asp:PopupControlExtender ID="TextBox1_PopupControlExtender" runat="server"
                                 Enabled="True"  TargetControlID="TextBox1" 
                                 PopupControlID="Panel1" OffsetY="22">
                     </asp:PopupControlExtender>
                    <asp:Panel ID="Panel1" runat="server" Height="116px" Width="145px" 
                         BorderStyle="Solid" BorderWidth="2px" Direction="LeftToRight"
                         ScrollBars="Auto" BackColor="#CCCCCC" Style="display: none">
                             <asp:CheckBoxList ID="CheckBoxList1" runat="server" 
                                 DataSourceID="SqlDataSource1" DataTextField="UserId"
                                 DataValueField="UserId" AutoPostBack="True"
                                 OnSelectedIndexChanged="CheckBoxList1_SelectedIndexChanged">
                             </asp:CheckBoxList>
                            <asp:SqlDataSource ID="SqlDataSource1" runat="server" 
                                 ConnectionString="<%$ ConnectionStrings:42HNetDbConnectionString %>"
                                 SelectCommand="SELECT DISTINCT [UserId] FROM [Resources]">
                            </asp:SqlDataSource>
                    </asp:Panel>
                </ContentTemplate>
        </asp:UpdatePanel>
       </ItemTemplate>
        </asp:TemplateField>
    </Columns>
</asp:GridView> 
```

**我想要的是：**

只要用户单击文本框，我就能够显示所有资源的名称。用户可以根据需要选择任意数量的资源。我需要实现以下目标：

1.我想在用户单击复选框列表后立即显示所有资源的逗号分隔名称。为此，我创建了 onselectedindexchanged 事件。

2.我还想知道如何记住用户上次选择的内容，因为它不记得了。

**我尝试了什么：**

**代码背后**

```
 protected void CheckBoxList1_SelectedIndexChanged(object sender, EventArgs e)
    {

        /*
        string name = "";
        for (int i = 0; i < CheckBoxList1.Items.Count; i++)
        {
            if (CheckBoxList1.Items[i].Selected)
            {
                name += CheckBoxList1.Items[i].Text + ",";
            }
        }
        TextBox1.Text = name;*/
    } 
```

真正的**问题**是我无法在 onselectedindexchanged 事件中访问 CheckBoxList。

[如何使用 asp.net Web 表单从代码后面的代码访问文本框、更新面板内的标签](https://stackoverflow.com/questions/9096077/how-to-access-textbox-label-inside-update-panel-from-code-behind-using-asp-net)似乎不太有用。

任何帮助，将不胜感激。谢谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:45:50.180

最后我得到了它：

**代码背后**

```
 protected void CheckBoxList1_SelectedIndexChanged(object sender, EventArgs e)
    {
        for (int j = 0; j < GridView1.Rows.Count; j++)
        {
            UpdatePanel up1 = GridView1.Rows[j].FindControl("updatepanel1") as UpdatePanel;
            TextBox tb1 = up1.FindControl("TextBox1") as TextBox;
            CheckBoxList cb1 = up1.FindControl("CheckBoxList1") as CheckBoxList;

            string name = "";
            for (int i = 0; i < cb1.Items.Count; i++)
            {
                if (cb1.Items[i].Selected)
                {
                    name += cb1.Items[i].Text + ",";
                }
            }
            tb1.Text = name;
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:37:59.773

```
 string strVendorId = string.Empty;
            var vender = new StringBuilder();
            var vendorcollection = cmbVendorId.CheckedItems;
            foreach (var item in vendorcollection)
                vender.Append(item.Value + ",");
            strVendorId = vender.ToString();
            if (strVendorId != "")
            {
                strVendorId = strVendorId.Remove(strVendorId.Length - 1, 1);
            } 
```

您可以将此代码用作逗号分隔的参考代码

# c# - 如何在 wpf 数据网格中找到显示记录数？

> ID：16008247
> 
> 赞同：1
> 
> 时间：2013-04-15T05:32:37.410
> 
> 标签：c#, wpf, wpfdatagrid

如果我想在 wpf 数据网格中绑定 15 条记录，它会显示 15 条没有滚动查看器的记录。如果我想在 wpf 数据网格中绑定 20 条记录，它会显示 15 条带有滚动查看器的记录，我必须滚动滚动条才能查看剩余的 5 条记录。这种情况将根据系统屏幕高度而改变。如果我在另一个具有大屏幕高度的系统中运行该程序，它将在数据网格中显示 20 条记录，而无需滚动查看器。所以我想找到当前在网格中显示的记录数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:33:56.653

```
DataGrid.Items.Count 
```

你可以使用这个。

希望它有帮助。

# vb.net - 检测音频峰值

> ID：16008248
> 
> 赞同：2
> 
> 时间：2013-04-15T05:32:38.550
> 
> 标签：vb.net, audio

是否可以检测音频中的峰值（来自 mp3 或 wav 文件）？我一直在新的 Windows 8 .NET 环境中创建音乐播放器，到目前为止，我的选择似乎非常有限。我希望使用有关音频峰值的信息来触发事件。谁能阐明我如何做到这一点？

# java - 将数组从 Jsp 传递到动作类

> ID：16008254
> 
> 赞同：0
> 
> 时间：2013-04-15T05:33:50.773
> 
> 标签：java, arrays, jsp, struts

我需要将动态创建的对象数组从 jsp 传递给 java 动作类，同时我正在尝试以下代码将数组对象设置为动作表单的请求参数。但是在动作类中获取时会产生空结果，因为数组对象不会传递给动作形式。请为我提供一种将数组列表传递给动作类的正确方法。提前致谢 ////

```
<script>
var i;
var arraya = new Array();
var arrayb = new Array();
var arrayc = new Array();
var idCount = 1;
function arr()
{
for (var j=0;j<idCount;j++)
{
arraya[j]=  document.getElementsByName("a"+j)[0].value;
arrayb[j]=  document.getElementsByName("b"+j)[0].value;
arrayc[j]=  document.getElementsByName("c"+j)[0].value;
}
var one=arraya.valueOf();
var two=arrayb.valueOf();
var three=arrayc.valueOf();
} 
</script>
    <input type="text" name="a0">
<input type="text" name="b0">
<input type="text" name="c0">
    <input type="button" onclick="addDiv();" value="Add"/>
<input type="hidden" name="one" value="<%= request.getParameter("one") %>" />
<input type="hidden" name="two" value="<%= request.getParameter("two") %>" />
<input type="hidden" name="three" value="<%= request.getParameter("three") %>" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:57:56.777

你可以通过这样做来实现它 -

只需有这样的输入类型。注意没有使用索引。

```
<input type="text" name="a"/>
<input type="text" name="b"/>
<input type="text" name="c"/> 
```

在你的行动课上，你可以这样做。这些值将按顺序排列。

```
String[] a = request.getParameterValues("a");
String[] b = request.getParameterValues("b");
String[] c = request.getParameterValues("c"); 
```

尽管由于您使用的是 Struts，您实际上应该创建一个具有属性 a、b 和 c 的对象。以数组方式使用对象。

# ios - 无法在 Apple Developer 网站中创建分发认证

> ID：16008255
> 
> 赞同：4
> 
> 时间：2013-04-15T05:33:54.013
> 
> 标签：ios, xcode, app-store-connect

我想在 Apple Developer 网站上创建分发证书，我有管理员权限，我们的帐户中已经有 5 个证书，当我尝试创建证书时，`Add iOS Certificate`屏幕完全禁用，无法选择任何单选按钮。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-16T01:27:45.787

从苹果文档：`Each team can have only one active distribution certificate`，由于我使用的帐户已经有分发证书，我无法创建一个。删除现有的分发证书后，我能够创建一个新的分发证书

# web-services - java.lang.NoSuchMethodError: org.apache.ws.security.WSSConfig.setHandleCustomPasswordTypes(Z)VI am

> ID：16008257
> 
> 赞同：2
> 
> 时间：2013-04-15T05:33:54.750
> 
> 标签：web-services, security, rampart

我收到以下错误。我正在使用 WSS4j1.5.8，即 Rampart 1.5 和 AXIS2-1.4：

> java.lang.NoSuchMethodError: org.apache.ws.security.WSSConfig.setHandleCustomPasswordTypes(Z)V

当我使用 Rampart 1.4 即 wss4j 1.5.7 和 AXIS2 1.4 时，它给了我以下错误：

> java.lang.NoSuchMethodError: org.apache.ws.security.WSSecurityEngineResult.get(Ljava/lang/Object;)Ljava/lang/Object;

这里至少调用 PasswordCallbackHandler 类但给出了上述错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-02T19:40:25.140

您可能使用了不兼容的 wss4j 和壁垒版本。如果您在应用程序服务器中运行代码，则可能是类加载器问题 - 服务器包含不同版本的 wss4j，在类加载器链中具有更高优先级。

# windows-7-x64 - 如何将 TortoiseGit 设置从一台计算机复制到另一台计算机？

> ID：16008260
> 
> 赞同：7
> 
> 时间：2013-04-15T05:34:17.750
> 
> 标签：windows-7-x64, tortoisegit

我想将 TGit 的菜单设置从一台 PC 移动到另一台 PC，但在 HDD 上找不到它们。它在某个地方的注册表中吗？如果这很重要，我在 Windows 7 上。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T08:15:01.200

[TortoiseGit Issue 1013](https://tortoisegit.org/issue/1013)的最后一条评论似乎表明这些条目位于：

```
HKCU/Software/TortoiseGit/ 
```

# android - Android 4.2.x 未触发 KEYCODE_MEDIA_FAST_FORWARD

> ID：16008261
> 
> 赞同：0
> 
> 时间：2013-04-15T05:34:20.917
> 
> 标签：android, android-intent, bluetooth, keyevent, remote-control

在我的应用程序中，我试图实现远程控制按钮事件的处理，例如：

```
KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE
KeyEvent.KEYCODE_MEDIA_NEXT
KeyEvent.KEYCODE_MEDIA_PREVIOUS
KeyEvent.KEYCODE_MEDIA_FAST_FORWARD 
```

使用 BroadcastReceiver 侦听`android.intent.action.MEDIA_BUTTON`或覆盖一切都可以完美运行`Activity.onKeyDown()`。

但是，由于某种原因，在 Android 4.2.2 设备上，使用蓝牙耳机，我们无法`KEYCODE_MEDIA_FAST_FORWARD`使用以下任一方法接收事件：

BroadcastReceiver：没有事件产生

`Acitivity.onKeyDown()`: 生成未知 KeyEvent (keyCode = 0)。

知道为什么会发生这种情况以及如何解决这个问题吗？

Android 4.2.x 似乎有一个更新的蓝牙堆栈，这和这个有什么关系吗？

# java - 使用 Java 访问 URL

> ID：16008264
> 
> 赞同：1
> 
> 时间：2013-04-15T05:34:44.590
> 
> 标签：java, android, url

我正在编写一个需要使用 GET 变量访问 URL 的 Android 程序，这些变量将被记录到数据库中。我需要做的就是打开一个 URL，这样 Web 服务器就会记录数据！我该怎么办？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:56:53.513

```
// default HTTP Client
            DefaultHttpClient  httpClient = new DefaultHttpClient();
            HttpGet httpGet = new HttpGet(url);
        try {
            HttpResponse httpResponse = httpClient.execute(httpGet);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();           

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:36:43.803

用这个。

```
Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse("URL HERE"));
startActivity(browserIntent); 
```

希望这可以帮助。

***编辑：***

好的，用这个。它在不打开浏览器的情况下调用 URL

```
HttpClient httpClient = new DefaultHttpClient();
HttpContext localContext = new BasicHttpContext();
HttpGet httpGet = new HttpGet("URL HERE");
HttpResponse response = httpClient.execute(httpGet, localContext); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-01T15:48:03.490

您还可以使用 HttpUrlConnection。示例代码 -

```
// Given a URL, establishes an HttpUrlConnection and retrieves
// the web page content as a InputStream, which it returns as
// a string.

private String downloadUrl(String myurl) throws IOException {
    InputStream is = null;
    // Only display the first 500 characters of the retrieved
    // web page content.
    int len = 500;

try {
    URL url = new URL(myurl);
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setReadTimeout(10000 /* milliseconds */);
    conn.setConnectTimeout(15000 /* milliseconds */);
    conn.setRequestMethod("GET");
    conn.setDoInput(true);
    // Starts the query
    conn.connect();
    int response = conn.getResponseCode();
    Log.d(DEBUG_TAG, "The response is: " + response);
    is = conn.getInputStream();

    // Convert the InputStream into a string
    String contentAsString = readIt(is, len);
    return contentAsString;

// Makes sure that the InputStream is closed after the app is
// finished using it.
} finally {
    if (is != null) {
        is.close();
    } 
}
}

// Reads an InputStream and converts it to a String.
public String readIt(InputStream stream, int len) throws IOException, UnsupportedEncodingException {
    Reader reader = null;
    reader = new InputStreamReader(stream, "UTF-8");        
    char[] buffer = new char[len];
    reader.read(buffer);
    return new String(buffer);
} 
```

很明显，因为它是一个网络调用，所以你不能在主/UI线程中执行它。所以你可以在异步任务中做到这一点。[更多细节和来源](https://developer.android.com/training/basics/network-ops/connecting.html#AsyncTask)

# sql - 选择数据协助

> ID：16008266
> 
> 赞同：0
> 
> 时间：2013-04-15T05:34:59.560
> 
> 标签：sql

我正在尝试显示两组数据。第一组显示了拥有租户的综合体的人。第二组显示拥有没有任何租户的综合体的人。

这是复杂名称的完整列表：

```
COMPN
-----
CM700
CM350
CM300
CM600
CM900
CM200
CM100 
```

我想出了如何过滤掉那些目前有租赁协议的人。我使用了以下命令。

```
 SELECT DISTINCT customer.custlname,
                customer.custfname
FROM customer,
     own,
     rental
WHERE own.custid = customer.custid
  AND rental.compname = own.compname; 
```

然后我得到以下结果：

```
CUSTLNAME  CUSTFNAME
---------- ----------
Pearson    Robert
Garnet     Kylie
Agassi     Pamela 
```

这对应于这些值：

```
COMPN
-----
CM350
CM900
CM200 
```

我现在正试图弄清楚如何展示在他们的建筑群中没有租户的人。我不完全确定如何解决这个问题。我已经搞砸了一段时间，我不太清楚要使用的正确操作程序。

谢谢

关于表的附加信息：

顾客

```
CUSTID CUSTLNAME  CUSTFNAME  BDATE     S MGR 
```

CUSTID 是 PK。

自己的：

```
CUSTID COMPNAME 
```

CUSTID 是一个引用表 Customer 的 FK。COMPNAME 是一个引用表 Complex 的 FK。

出租：

```
CUSTID COMPNAME   APTNUM 
```

CUSTID 是引用表 Customer 的 FK。COMPNAME 是一个引用表 Complex 的 FK。APTNUM 是一个 FK，指的是 table 公寓。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:45:06.780

~~从**目前的信息**~~

 ~~```
select distinct customer.custlname, customer.custfname
from customer
left join own on own.custid = customer.custid
inner join rental on rental.compname = own.compname
where own.custid is null 
```~~  ~~**编辑：1**

***如何显示在他们的综合体中没有租户的人***

使用**不在**

以下查询将为我提供**没有租户的****COMPNAME**

 **```
select Complex.COMPNAME
from Complex,
Where COMPNAME NOT IN
(select COMPNAME
from rental) 
```

**编辑2：**

根据**OP** ***愿望清单***

```
SELECT DISTINCT customer.custlname,
                customer.custfname
FROM customer,
     own,
     rental
WHERE own.custid = customer.custid
AND rental.compname = own.compname
AND rental.compname in (select Complex.COMPNAME
                        from Complex,
                        Where COMPNAME NOT IN
                        (select COMPNAME
                        from rental)) 
```**~~

# c++ - 为什么 c++11 随机分布是可变的？

> ID：16008271
> 
> 赞同：37
> 
> 时间：2013-04-15T05:35:56.210
> 
> 标签：c++, random, c++11

我认为由 c++11 随机分布（`uniform_int_distribution`例如）生成的值仅取决于传递给`operator()`. `const`但是，由于某种原因， 的签名中没有说明符`operator()`。这是什么意思，我应该如何将分布作为函数参数传递？我以为我必须将它作为任何非可变参数传递：通过 const 引用，但现在我不确定。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-15T06:40:27.107

起初我误解了这个问题，但是，现在我明白了，这是一个很好的问题。对 for g++ 实现源代码的一些挖掘`<random>`给出了以下内容（为清楚起见，省略了一些位）：

```
template<typename _IntType = int>
  class uniform_int_distribution
  {

  struct param_type
  {
    typedef uniform_int_distribution<_IntType> distribution_type;

    explicit
    param_type(_IntType __a = 0,
       _IntType __b = std::numeric_limits<_IntType>::max())
    : _M_a(__a), _M_b(__b)
    {
      _GLIBCXX_DEBUG_ASSERT(_M_a <= _M_b);
    }

     private:
    _IntType _M_a;
    _IntType _M_b;
};

public:
  /**
   * @brief Constructs a uniform distribution object.
   */
  explicit
  uniform_int_distribution(_IntType __a = 0,
           _IntType __b = std::numeric_limits<_IntType>::max())
  : _M_param(__a, __b)
  { }

  explicit
  uniform_int_distribution(const param_type& __p)
  : _M_param(__p)
  { }

  template<typename _UniformRandomNumberGenerator>
result_type
operator()(_UniformRandomNumberGenerator& __urng)
    { return this->operator()(__urng, this->param()); }

  template<typename _UniformRandomNumberGenerator>
result_type
operator()(_UniformRandomNumberGenerator& __urng,
       const param_type& __p);

  param_type _M_param;
}; 
```

如果我们仔细观察所有`_`，我们可以看到它只有一个成员参数 ，`param_type _M_param`它本身只是一个嵌套结构，包含两个整数值 - 实际上是一个范围。`operator()`只在这里声明，没有定义。更多的挖掘将我们带到了定义上。代替在这里发布所有代码，这非常丑陋（而且相当长），只要说这个函数内部没有任何变化就足够了。事实上，添加`const`到定义和声明中会很高兴地编译。

那么问题就变成了，对于其他所有发行版都是这样吗？答案是不。如果我们查看 的实现`std::normal_distribution`，我们会发现：

```
template<typename _RealType>
template<typename _UniformRandomNumberGenerator>
  typename normal_distribution<_RealType>::result_type
  normal_distribution<_RealType>::
  operator()(_UniformRandomNumberGenerator& __urng,
     const param_type& __param)
  {
result_type __ret;
__detail::_Adaptor<_UniformRandomNumberGenerator, result_type>
  __aurng(__urng);

    //Mutation!
if (_M_saved_available)
  {
    _M_saved_available = false;
    __ret = _M_saved;
  }
    //Mutation! 
```

这一切都只是理论上的，但我想它不受限制的原因是`const`允许实现者在需要时改变他们的实现。此外，它保持了一个更统一的界面——如果有些`operator()`是`const`，有些不是`const`，这一切都会变得有点混乱。

~~但是，为什么他们不简单地将它们设为 const 并让实施者使用`mutable`我不确定。很可能，除非附近有人参与了这部分标准化工作，否则您可能无法得到很好的答案。~~

编辑：正如 MattieuM 指出的那样，`mutable`多个线程不能很好地协同工作。

顺便说一句，有点有趣的是，`std::normal_distribution`一次生成两个值，缓存一个（因此是`_M_saved`）。它定义的`operator<<`实际让您在下一次调用之前看到这个值`operator()`：

```
#include <random>
#include <iostream>
#include <chrono>

std::default_random_engine eng(std::chrono::system_clock::now().time_since_epoch().count());
std::normal_distribution<> d(0, 1);

int main()
{
   auto k = d(eng);
   std::cout << k << "\n";
   std::cout << d << "\n";
   std::cout << d(eng) << "\n";
} 
```

在这里，输出格式是`mu sigma nextval`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-02-26T11:06:19.453

另一个答案说：

> 这一切都只是理论上的，但我想它不限于 const 的原因是允许实现者在需要时改变他们的实现。此外，它保持了一个更统一的接口——如果一些 operator() 是 const 而一些是非常量，这一切都会变得有点混乱。

这大部分是正确的，但它甚至比泛型编程的上下文更深。`const`（正如@Calimo 所说，这留下了“以防万一”省略的想法）。

考虑到这一点，我得出的结论是，问题转化为以下成员函数是否可以*在原则* `const`上真正取决于`_UniformRandomNumberGenerator`.

```
template<typename _UniformRandomNumberGenerator>
result_type
operator()(_UniformRandomNumberGenerator& __urng) 
```

在（通用）规范的这个级别上，这是不知道的，所以只有这样“[规范]允许实现者改变[内部状态]”并且为了通用性而这样做。

因此，常量的问题在于，*在编译时*应该知道是否 `_UniformRandomNumberGenerator`能够为分布生成足够的随机性（位）以产生样本抽取。

在当前规范中，这种可能性被排除在外，但原则上可以通过拥有两个独有版本的成员函数来实现（或指定）：

```
template<typename _URG, typename = std::enable_if<not has_enough_randomness_for<_URG, result_type>::value > >
result_type
operator()(_UniformRandomNumberGenerator& __urng){..statefull impl..}

template<typename _URG, typename = std::enable_if<has_enough_randomness_for<_URG, result_type>::value > >
result_type
operator()(_UniformRandomNumberGenerator& __urng) const{..stateless impl...} 
```

一个想象的布尔元函数在哪里`has_enough_randomness_for`可以判断特定实现是否可以是无状态的。

但是，还有另一个障碍，一般来说，实现是否无状态取决于分布的*运行时参数*。但由于这是运行时信息，所以它不能作为类型系统的一部分传递！

如您所见，这会打开另一罐蠕虫。`constexpr`分布参数原则上可以检测到这一点，但我完全理解委员会在这里停下来。

如果您需要一个不可变的分布（例如“概念上”正确），您可以通过付出代价轻松实现：

1.  每次使用前复制原始发行版。
2.  以无状态方式自己实现分发逻辑。

(1) 效率可能非常低； (2) 正确实施可能效率低下且*极其*棘手。

由于（2）一般来说几乎不可能正确，即使正确，它也会有些低效，我只会展示如何实现一个正常工作的无状态分布：

```
template<class Distribution>
struct immutable : Distribution{
   using Distribution::Distribution;
   using Distribution::result_type;
   template<typename _URG> result_type operator()(_URG& __urng) const{
      auto dist_copy = static_cast<Distribution>(*this);
      return dist_copy(__urng);
   }
// template<typename _URG> result_type operator()(_URG& __urng) = delete;
}; 
```

以这种方式`immutable<D>`替代`D`. （`immutable<D>`可能的另一个名称是`conceptual<D>`。）

例如，我已经对此进行了测试，`uniform_real_distribution`并且`immutable`替换速度几乎是两倍（因为它复制/修改/丢弃了名义状态），但是正如您指出的那样，如果这对您很重要，它可以在更“概念”的上下文中使用设计（我能理解）。

（还有另一个不相关的小优势，即您可以跨线程使用共享的不可变分布）

* * *

**不正确但说明性的代码如下：**

为了说明做 (2) 有多么困难，我将做一个*幼稚*的专业化，`immutable<std::uniform_int_distribution>`这对于某些用途几乎是正确的（或者非常不正确，取决于你问的是谁。）

```
template<class Int>
struct immutable<std::uniform_int_distribution<Int>> : std::uniform_int_distribution<Int>{
   using std::uniform_int_distribution<Int>::uniform_int_distribution;
   using std::uniform_int_distribution<Int>::result_type;
   template<typename _URG> result_type operator()(_URG& __urng) const{
      return __urng()%(this->b() - this->a()) + this->a(); // never do this ;) for serious stuff, it is wrong in general for very subtle reasons
   }
// template<typename _URG> result_type operator()(_URG& __urng) = delete;
}; 
```

这种无状态实现非常“高效”，但对于`a`and的任意值`b`（分布的限制）并非 100% 正确。正如您可能看到的，对于其他发行版（包括连续发行版），这条路径非常困难、棘手且容易出错，因此我不推荐它。

* * *

这主要是个人意见：**情况可以改善吗？**

是的，但只是轻微的。

分布可能有两个版本`operator()`，一个是 no- `const`（即`&`），它是最优的（当前一个），一个是`const`它可以不修改状态的版本。然而，尚不清楚它们是否必须具有确定性一致（即给出相同的答案）。（即使回退到副本也不会给出与完整的可变分布相同的结果。）。但是，我认为这不是一条可行的道路（同意其他答案）；您要么使用不可变版本，要么使用不可变版本，但不能同时使用两者。

我认为可以做的是有一个可变版本，但对 r 值引用 ( `operator() &&`) 有一个特定的重载。这样可以使用可变版本的机制，但是可以省略现在“无用”的更新（例如重置）状态的步骤，因为特定实例将不再被使用。这样可以在某些情况下节省一些操作。

这样，`immutable`上面描述的适配器就可以用这种方式编写并利用语义：

```
template<class Distribution>
struct immutable : Distribution{
   using Distribution::Distribution;
   using Distribution::result_type;
   template<typename _URG> result_type operator()(_URG& __urng) const{
      auto dist_copy = static_cast<Distribution>(*this);
      return std::move(dist_copy)(__urng);
// or return (Distribution(*this))(__urng);
   }
}; 
```

# java - 在方法中声明类 - Final 关键字

> ID：16008272
> 
> 赞同：3
> 
> 时间：2013-04-15T05:35:59.107
> 
> 标签：java

给定方法中的以下内部类（IsSomething）：

```
public class InnerMethod {

private int x;

public class Something {
    private int y;

    public void printMyNumber(double x)
    {
        class IsSomething extends Something {

            public void print() {
                System.out.println(x);
            }

        }
    }
}

} 
```

为什么 X 变量必须是 FINAL 才能使其工作..？（我说的是“printMyNumber”函数的 X 参数。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:38:34.043

匿名类中的方法实际上无法访问局部变量和方法参数。相反，当实例化匿名类的对象时，对象方法引用的最终局部变量和方法参数的副本作为实例变量存储在对象中。匿名类对象中的方法真正访问了那些隐藏的实例变量。

从 JLS ：

`Any local variable, formal method parameter or exception handler parameter used but not declared in an inner class must be declared final. Any local variable, used but not declared in an inner class must be definitely assigned (§16) before the body of the inner class.`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T05:39:06.177

区别在于局部变量与类成员变量之间。成员变量存在于封闭对象的生命周期中，因此它可以被内部类实例引用。然而，局部变量仅在方法调用期间存在，并且由编译器以不同方式处理，因为它的隐式副本作为内部类的成员生成。如果不声明局部变量 final，可以更改它，由于内部类仍然引用该变量的原始值而导致细微错误。

[最终局部变量](http://www.javaspecialists.eu/archive/Issue025.html)

> 我知道将局部变量或参数设为 final 有两个原因。第一个原因是您不希望代码更改局部变量或参数。许多人认为更改方法内的参数是不好的风格，因为它会使代码不清楚。作为一种习惯，一些程序员将所有参数设置为“最终”以防止自己更改它们。我不这样做，因为我发现它使我的方法签名有点难看。
> 
> 第二个原因是当我们想从内部类中访问局部变量或参数时。据我所知，这就是最终局部变量和参数在 JDK 1.1 中被引入 Java 语言的实际原因。

```
public class Access1 {
  public void f() {
    final int i = 3;
    Runnable runnable = new Runnable() {
    public void run() {
      System.out.println(i);
    }
    };
  }
} 
```

在 run() 方法中，只有在外部类中将其设为 final 时，我们才能访问 i。要理解其中的道理，我们必须

> 看看编译器做了什么。它生成两个文件，Access1.class 和 Access1$1.class。当我们用 JAD 反编译它们时，我们得到：

```
public class Access1 {
  public Access1() {}
  public void f() {
    Access1$1 access1$1 = new Access1$1(this);
  }
} 
```

和

```
class Access1$1 implements Runnable {
  Access1$1(Access1 access1) {
    this$0 = access1;
  }
  public void run() {
    System.out.println(3);
  }
  private final Access1 this$0;
} 
```

由于 i 的值是最终的，编译器可以将其“内联”到内部

> 班级。在我看到上面的内容之前，局部变量必须是最终的才能被内部类访问，这让我感到不安。
> 
> 当局部变量的值可以针对内部类的不同实例发生变化时，编译器将其添加为内部类的数据成员，并在构造函数中对其进行初始化。这背后的根本原因是Java没有指针，而C有。
> 
> 考虑以下类：

```
public class Access2 {
  public void f() {
    for (int i=0; i<10; i++) {
    final int value = i;
    Runnable runnable = new Runnable() {
      public void run() {
        System.out.println(value);
      }
    };
    }
  }
} 
```

这里的问题是我们每次通过for循环时都必须创建一个新的本地数据成员，所以我今天有一个想法

> 在编码时，是将上述代码更改为以下内容：

```
public class Access3 {
  public void f() {
    Runnable[] runners = new Runnable[10];
    for (final int[] i={0}; i[0]<runners.length; i[0]++) {
    runners[i[0]] = new Runnable() {
      private int counter = i[0];
      public void run() {
        System.out.println(counter);
      }
    };
    }
    for (int i=0; i<runners.length; i++)
    runners[i].run();
  }
  public static void main(String[] args) {
    new Access3().f();
  }
} 
```

我们现在不必声明额外的最终局部变量。事实上，这难道不是真的吗？

> int[] i 就像一个指向 int 的通用 C 指针？我花了 4 年时间才看到这一点，但如果您在其他地方听到过这个想法，我想听听您的意见。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T05:44:34.063

这是因为本地类实例的生命周期可能比定义该类的方法的执行时间长得多。出于这个原因，本地类必须拥有它使用的所有局部变量的私有内部副本（这些副本由编译器自动生成）。确保局部变量和私有副本始终相同的唯一方法是坚持局部变量是最终的。

# c# - 从 .NET 中的 HashSet 获取所有元素的有效方法

> ID：16008282
> 
> 赞同：0
> 
> 时间：2013-04-15T05:37:10.713
> 
> 标签：c#, asp.net, .net, hashset

说，我有一个带有元素的 HashSet：

```
HashSet<int> hsData = new HashSet<int>(); 
```

在某些时候我需要处理这些元素（一个接一个）。我当然可以将其转换为数组并以这种方式使用它：

```
int[] arr = hsData.ToArray(); 
```

但我不确定这种转换的效率如何？

我看到人们建议`foreach`在 HashSet 本身上使用，但由于我的代码架构，我不能使用它。我需要一些可以这样工作的东西：

> 它是最后一个元素吗？如果不是，则获取它并前进到下一个元素。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:47:27.553

正如您所说，转换为数组可能会有一些性能缺陷。`foreach`在幕后做的是在其中获取一个枚举器并`HashSet`运行它。

`HashSet<T>`还实现`IEnumerable<T>`了 ，可用于以更有效的方式枚举集合。[在此处](http://msdn.microsoft.com/en-us/library/9eekhta0.aspx)查找有关`IEnumerable`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:43:21.713

如果你愿意，你仍然可以使用 foreach。只需保持给定列表中所有元素的运行计数器，在进行迭代时递减，然后与计数器进行比较。

另一方面，把它变成一个数组有什么大不了的吗？此操作是否发生了 1000 次？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-14T09:04:49.527

ToArray （尚）不存在，但您可以使用[CopyTo](https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.hashset-1.copyto?view=netframework-4.8#System_Collections_Generic_HashSet_1_CopyTo__0___)

# opencv - 在 openCV 中训练 haar 和 lbp 分类器

> ID：16008283
> 
> 赞同：0
> 
> 时间：2013-04-15T05:37:22.307
> 
> 标签：opencv

我已经以 Windows 可执行文件的形式下载了 openCV 2.4.4。它具有预先构建的所有需要​​的库。现在我正在创建一个需要创建 haar 或 lbp 分类器的对象检测程序。我发现 opencv_traoncascade 现在是首选实用程序，而其他实用程序已弃用。问题是我无法在我下载的 opencv2.4.4.exe 中找到该实用程序。有一个文件夹 traincascade 但它只有一些 hpp 文件。有没有办法我可以得到它，我不想检查树干并使用 cmake 构建它。此外，对解释新实用程序的良好教程的一些参考也会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T12:55:20.487

你有（作为我的经验）两种你想要的方法：使用 CMake 或创建你的项目并从 opencv 复制你需要的代码（这不是一个好主意:)）。

我不明白你的意思：

> 我不想检查树干并使用 cmake 构建它

如果你已经

> 以 Windows 可执行形式下载 openCV 2.4.4

你必须使用 CMake：打开 cmake，设置源代码：“...\opencv”和二进制路径（可能相同）。下一步 - 按配置，下一步 - 启用选项“构建示例”，第二次按配置，按生成......就是这样。现在打开项目opencv，找到traincascade子项目并构建它：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:49:45.903

存档中有一些文件。例如 cascadeclassifier.cpp（样本文件夹中的 CPU 和 GPU 以及 opencv/modules 中的源代码）和 traincascade.cpp。还有[这个](http://docs.opencv.org/doc/user_guide/ug_traincascade.html)指南。听说训练有点难。如果您有完整的答案，请随时分享。

# java - 在Java Web应用程序中，如何在jsp页面的下拉字段中将国家名称列表从英语翻译成阿拉伯语？

> ID：16008284
> 
> 赞同：-3
> 
> 时间：2013-04-15T05:37:32.600
> 
> 标签：java, jquery, spring, jsp

我想用阿拉伯语显示国家名称（java web 应用程序）。国家名称是从数据库中加载的（名称是英文）。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:50:18.870

对于翻译，您应该需要 API 来执行此操作。我知道谷歌会这样做，他们也可能会提供这个 API 来使用。

检查此链接。它可能会帮助你。

[http://code.google.com/p/google-api-translate-java/source/browse/trunk/src/test/TranslateTest.java?r=49](http://code.google.com/p/google-api-translate-java/source/browse/trunk/src/test/TranslateTest.java?r=49)

# android - Facebook 登录对话框只出现一次

> ID：16008288
> 
> 赞同：0
> 
> 时间：2013-04-15T05:37:52.587
> 
> 标签：android, facebook

我在我的应用程序中使用新的 Facebook SDK，我直接使用 apk 提供的登录按钮作为 -

```
 <com.facebook.widget.LoginButton
            android:id="@+id/login_button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center_horizontal"
            android:layout_marginBottom="30dp" /> 
```

当我按下登录按钮时，登录对话框出现，当我取消对话框时，它消失了..这很好......但是当我再次按下登录按钮时，它就不起作用了.. 完全没有错误显示在日志猫..请帮我找出问题..

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T01:18:41.163

您需要覆盖 Activity 中的 onActivityResult 方法并将其传递给 LoginButton 实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-21T14:39:30.147

我`Fragment`在我的情况下使用过，但我忘了设置`setFragment()`

所以，试试这个

```
LoginButton mLoginButton = (LoginButton) findViewById(R.id.facebook_login_button);
mLoginButton.setFragment(this); 
```

# c - 错误没有重载函数“calMean”的实例与参数列表匹配

> ID：16008297
> 
> 赞同：2
> 
> 时间：2013-04-15T05:38:41.233
> 
> 标签：c, file, structure

我有错误说没有重载函数“calMean”的实例与参数列表匹配

这是我的代码

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define FILE_NAME  20
#define LIST_SIZE 50

float calMean(RECORD list[], int count)

typedef struct 
{
    char *name;
    int  score;
}RECORD;

int main (void)
{
    // Declarations
       float mean;
       FILE *fp;
       char fileName[FILE_NAME];
       RECORD list[LIST_SIZE];
       char buffer[100];
       int count = 0;
       int i;
    // Statements
       printf("Enter the file name: ");
       gets(fileName);

       fp = fopen(fileName, "r");

       if(fp == NULL)
           printf("Error cannot open the file!\n");
         while(fgets(buffer, 100, fp) != NULL)
          {
             if( count >= LIST_SIZE)
             {
                printf("Only the first 50 data will be read!\n");
                break;
             }
             if( count < LIST_SIZE)
             {
                list[count].name = (char*) malloc(strlen(buffer)*sizeof(char));
                sscanf(buffer,"%[^,], %d", list[count].name, &list[count].score);
                printf("name is %s and score is %d\n", list[count].name, list[count].score);
                count++;
             }
             for( i =0; i < (LIST_SIZE - count); i++)
             {   
             list[count + i].name = 0;
             list[count + i].score = 0;
             }
          }
       printf("Read in %d data records\n", count);  
       mean = calMean(list, count);        
       fclose(fp);
       return 0;
}

float calMean(RECORD list[], int count)
{
    float tempMean;
    int sum;
    int i;
    for(i = 0; i < count; i++)
        sum += list[i].score;
    tempMean = sum/count;

    return tempMean;
} 
```

错误发生在 main 中 calMean 函数的函数调用中，我是结构新手，所以我认为我在 calMean 函数调用中编写列表参数列表的方式是错误的，有没有办法解决这个问题？我正在尝试计算结构中成员分数的平均值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:49:48.660

麻烦很有趣。你展示的不是你正在编译的代码，这总是坏消息。你所拥有的是：

```
float calMean(RECORD list[], int count);  // semicolon missing in original

typedef struct 
{
    char *name;
    int  score;
}RECORD;

...

float calMean(RECORD list[], int count)
{
    ...
} 
```

请注意，类型在首次声明和定义`RECORD`之间以某种方式重新定义 - 不会导致编译错误。`calMean()`

这意味着您有两个声明`calMean()`，但它们在第一个参数中引用了不同的类型。因此，“超载”的说法。

您必须使用 C++ 编译器。

我想不出一种方法可以像所示那样编写代码，从而`RECORD`改变这样的含义。我试过这段代码：

```
struct RECORD { int x; };

float calMean(RECORD list[], int count);

typedef struct { int y; } RECORD;

float calMean(RECORD list[], int count); 
```

但是 G++ 4.7.1 说：

```
x.cpp:5:31: error: conflicting declaration ‘typedef struct RECORD RECORD’
x.cpp:1:12: error: ‘struct RECORD’ has a previous declaration as ‘struct RECORD’ 
```

# python - 无法使用 Django 访问 dev_appserver 中的 Google Cloud SQL 实例

> ID：16008300
> 
> 赞同：5
> 
> 时间：2013-04-15T05:38:56.013
> 
> 标签：python, django, google-app-engine, google-cloud-sql

我最近更新了我的 GAE SDK，更新后不久，它就开始起作用了。我在 Django 1.4.3 的后端使用 Google Cloud SQL。在我的本地开发服务器上，它给出了以下错误：

> 没有有效的 OAuth 2.0 凭据。在 dev_appserver 上使用 Google SQL 服务后端之前，您必须首先运行“manage.py syncdb”并按照给定的说明继续获取 OAuth 2.0 令牌。

我已经尝试删除 cacert.txt 以及从我的主目录中删除 google sql 身份验证，以通过运行 python manage.py syncdb 重新获得身份验证，但它没有帮助。

这里提出了同样的问题，提供了一个“补丁”：

> [http://code.google.com/p/googleappengine/issues/detail?id=9006](http://code.google.com/p/googleappengine/issues/detail?id=9006)

我尝试根据补丁更改我的 server.py 。但是没有效果。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-07T20:09:06.203

我遇到了同样的问题，这为我解决了：

1.  从 google oauth .dat json 文件中复制 refresh_token
2.  在 app.yaml 中添加：

`env_variables: GOOGLE_SQL_OAUTH2_REFRESH_TOKEN: "here the copied token"`

# selenium - 页面刷新期间的 selenium.common.exceptions.StaleElementReferenceException

> ID：16008302
> 
> 赞同：5
> 
> 时间：2013-04-15T05:39:07.863
> 
> 标签：selenium, webdriver

页面包含一些数据（有几行的表）。有一个“刷新”按钮，可以重新加载和重绘页面上的一些元素，而无需重新加载静态数据（ajax）。

我正在尝试为该页面创建适当的测试，但有时会收到 StaleElementReferenceException。

我的代码（python）：

```
from selenium import webdriver
browser=webdriver.Firefox()
browser.get('http://mytisite')
browser.implicitly_wait(10)
browser.find_element_by_id('start').click()
while browser.find_element_by_id('status').text!='Done':
    browser.find_element_by_id('refresh').click()
    for row in browser.find_elements_by_class_name('datarow'):
        if not is_correct(row.text):
           print "incorrect"
    time.sleep(10) 
```

5 次迭代中有 1 次在“if not is_correct(row.text)”行失败：

```
selenium.common.exceptions.StaleElementReferenceException: 
 Message: u'Element not found in the cache - perhaps the page 
 has changed since it was looked up' ; Stacktrace: Method 
 fxdriver.cache.getElementAt threw an error in 
 resource://fxdriver/modules/web_element_cache.js 
```

主要问题：页面已经包含以前的数据，所以我在 ajax 刷新和 webdriver 的`find_elements_by_class_name('datarow')`.

如何正确解决 ajax 刷新和 webdriver 之间的竞争？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T16:20:22.283

恐怕，我无法帮助您进行 python 绑定。但是，我可以为您提供有关 WebDriver 和一些 Java 代码片段的一般建议，这些建议可以帮助您（其他人）找到他们的 Python 等价物。在 Selenium 中，您可以做很多事情来处理 AJAX。

**1\. 隐式等待 -**这将告诉 Web 驱动程序轮询 DOM 一段时间。

```
driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS); 
```

**2\. 显式等待**- 我更喜欢这些！可以将这些与隐式等待结合使用。您可以告诉 WebDriver 等待特定条件。您需要使用 WebDriverWait 来使用显式等待。

```
WebDriverWait wait = new WebDriverWait(driver, 60/*timeout in seconds*/);
WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.id("refresh"))); 
```

[`ExpectedConditions`](http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html)免费提供许多等待条件，我觉得它非常有用。

如果我用 Java 编写你上面的代码片段，我会在下面做。注意我在编辑器中写了这个，所以它应该编译。我想这会让你对 WebDriverWait 的使用有所了解。

```
WebDriverWait wait = new WebDriverWait(driver, 60/*timeout in seconds*/);
ExpectedCondition<Boolean> untilIFindStatus = ExpectedConditions
                    .elementToBeSelected(By.id("status"));
while (wait.until(untilIFindStatus)) {
        WebElement refresh = wait.until(ExpectedConditions
                        .elementToBeClickable(By.id("refresh")));
        refresh.click();
        List<WebElement> allRows = wait.until(ExpectedConditions
                .presenceOfAllElementsLocatedBy(By.className("datarow")));
             for (WebElement row : allRows) {
                if (row.getText().equals("awesome"))
                    System.out.println("do something");
             }
 } 
```

最后，根据我的经验，许多现代 AJAX 应用程序都使用 jQuery。多年来，我已经成功使用 jQuery.active 标志来检查页面是否已加载。您可以将其与纯 javascript 结合使用`document.readyState`。这是我在每次“点击”我的 AJAX 应用程序后等待的一般方法。

```
ExpectedCondition<Boolean> jQueryActive_toBeZero = new ExpectedCondition<Boolean>()   {
        public Boolean apply(WebDriver driver) {
           try {
            return ((Long) jsExecutor
                .executeScript("return jQuery.active") == 0) ? true
                            : false;
         } catch (WebDriverException e) {
             log.debug("It looks like jQuery is not available on the page, skipping the jQuery wait, check stack trace for details");
             return true; //skip the wait
         }
           }
       };
ExpectedCondition<Boolean> document_readyState_toBeComplete = new ExpectedCondition<Boolean>() {
        public Boolean apply(WebDriver driver) {
          return jsExecutor.executeScript("return document.readyState")
             .toString().equals("complete") ? true : false;
         }
     };
    wait.until(jQueryActive_toBeZero);
    wait.until(document_readyState_toBeComplete); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T05:51:43.263

在以下两种情况之一中会引发过时的元素引用异常，第一种比第二种更常见：

*   该元素已被完全删除。
*   该元素不再附加到 DOM

请通过以下硒文档了解更多信息

[陈旧元素参考异常文档](http://docs.seleniumhq.org/exceptions/stale_element_reference.jsp)

# c# - RichTextBox 内文本中的工具提示

> ID：16008303
> 
> 赞同：0
> 
> 时间：2013-04-15T05:39:13.673
> 
> 标签：c#, visual-studio

我正在使用代码编辑器，我只想为在richtextbox（用作代码编辑器）中输入的每个文本添加工具提示。

直到我在这里看到本指南：

[http://www.codeproject.com/Articles/464085/WinForms-RichTextBox-ToolTip-like-Visual-Studios](http://www.codeproject.com/Articles/464085/WinForms-RichTextBox-ToolTip-like-Visual-Studios)

这与我想找到的东西是一样的，尽管在我下载它的时候有一个文件特别缺少它的 mainform 。

所以我只想问是否如何在不使用任何 .dll 文件的情况下做到这一点。

示例：我在 rtb 中输入“abc”，然后当我将鼠标悬停在它上面时，会出现一个带有文本的工具提示：这是一个字母表。当我将鼠标悬停在带有文本的工具提示时，与“123”相同：这是一个将出现的数字。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:42:45.387

你可以试试这个示例，实现的一种方法

```
 using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace WindowsFormsApplication3
{
    public partial class Form1 : Form
    {
        public string rtbTypedText = "";
        public Form1()
        {
            InitializeComponent();
        }

        private void richTextBox1_Leave(object sender, EventArgs e)
        {

           // MessageBox.Show(text);

        }

        private void richTextBox1_KeyPress(object sender, KeyPressEventArgs e)
        {
            if (char.IsWhiteSpace(e.KeyChar))
            {
                int result = 0;
                string s = richTextBox1.Text;

                string text = "";
                string[] sp = s.Split(' ');

                if (sp.Length == 0)
                    rtbTypedText = s;
                else
                    rtbTypedText = sp[sp.Length - 1];

                bool typeStatus = int.TryParse(rtbTypedText, out result);
                if (typeStatus == true)
                    toolTip1.Show("It is a Number", richTextBox1);
                else
                    toolTip1.Show("It is an Alphabet", richTextBox1);
            }

        }
    }
} 
```

![在此处输入图像描述](https://i.stack.imgur.com/2nkxz.png)

# ios - 如何经常更新用户的gps位置

> ID：16008306
> 
> 赞同：-2
> 
> 时间：2013-04-15T05:39:29.483
> 
> 标签：ios, gps

我正在开发一个游戏，我想在其中监控用户的位置。而且它应该如此频繁，就像游戏就是要击中我附近的用户一样，如果我击中他并且同时用户移出范围，那么这对我来说将是一个失误。

我知道一种方法可以调用具有时间间隔的位置更新方法，但这对我来说似乎不太好，还有其他方法可以实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:52:28.687

如果您在 core-location 上设置 distanceFilter，然后使用 startUpdatingLocation 启动位置跟踪，则只要您移动设置的距离，您就会得到更新。您想要做的事情可能很困难，具体取决于您希望“触摸”有多“接近”，因为慢速移动的位置不是非常准确，并且可能需要时间来更新。使用小于 10m 作为触摸可能很困难。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:46:47.610

您可以为此使用核心位置框架。委托方法如：

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
    if([self.delegate conformsToProtocol:@protocol(CoreLocationControllerDelegate)]) {  // Check if the class assigning itself as the delegate conforms to our protocol.  If not, the message will go nowhere.  Not good.
        [self.delegate locationUpdate:newLocation];
    }
} 
```

当用户更新位置时调用此方法。你也可以看看[这个](http://www.vellios.com/2010/08/16/core-location-gps-tutorial/)教程。

# javascript - JQuery 屏蔽输入插件在 IE7 上不起作用

> ID：16008308
> 
> 赞同：4
> 
> 时间：2013-04-15T05:39:39.443
> 
> 标签：javascript, jquery, internet-explorer, cross-browser

我正在使用 Jquery Masked 输入插件 [http://digitalbush.com/projects/masked-input-plugin/](http://digitalbush.com/projects/masked-input-plugin/)

根据更新日志，它应该支持 IE7

当尝试在 IE7 上使用它时它不起作用，我在 IE 调试器中收到以下错误

**对象不支持属性或方法“掩码”**

我的代码：

```
$("#" + "someid").mask(someformat); 
```

相同的代码适用于所有其他浏览器，包括 IE8 及更高版本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:10:38.057

对于 IE7 尝试使用 1.2.2 版本的掩码输入 [https://zk-sample-code.googlecode.com/svn-history/r27/trunk/WebContent/samples/sam/inputbox/js/jquery.maskedinput-1.2 .2.js](https://zk-sample-code.googlecode.com/svn-history/r27/trunk/WebContent/samples/sam/inputbox/js/jquery.maskedinput-1.2.2.js)

```
$(function () {
   $("[name='in1']").mask("99/99/9999");
   $("[name='in2']").mask("99-99-99");  
}); 
```

例如：http: [//jsfiddle.net/ishubin/aVwpn/](http://jsfiddle.net/ishubin/aVwpn/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-23T13:00:43.900

脚本 jquery.maskedinput.js 中的错误！

现在：

```
$.mask = {
    //Predefined character definitions
    definitions: {
        '9': "[0-9]",
        'a': "[A-Za-z]",
        '*': "[A-Za-z0-9]"
    },
    dataName: "rawMaskFn",
    placeholder: '_',
}; 
```

需要：

```
$.mask = {
    //Predefined character definitions
    definitions: {
        '9': "[0-9]",
        'a': "[A-Za-z]",
        '*': "[A-Za-z0-9]"
    },
    dataName: "rawMaskFn",
    placeholder: '_'
}; 
```

在 IE7 上工作！

# java - 按钮上的 ActionListener 未调用该函数

> ID：16008310
> 
> 赞同：0
> 
> 时间：2013-04-15T05:40:10.483
> 
> 标签：java, jsf, primefaces

您好我创建了一个小表单来创建和编辑我的应用程序的用户。我可以毫无问题地编辑它们，但我无法创建新用户。

我有一个显示数据库上的用户的数据表，我有一个名为 Nuevo for New user 的按钮

```
<p:commandButton id="nuevobtn" value="Nuevo"
                oncomplete="usuarioPanel.show()"
                actionListener="#{usuarioAdminController.nuevo}" /> 
```

所以当我点击这个按钮时，控制器调用控制器上的函数 nuevo 看起来像这样

```
public void nuevo() {
        System.out.println("nuevo usuario ");
        usuarioAdminDM.setUsuario(new Usuario());
    } 
```

这个想法是，当您单击按钮时，会显示一个包含用户表单的对话框，并且 Nuevo 函数会创建空白用户，因此我可以填写表单。

但是当我点击那个按钮时就会出现这种情况

```
<?xml version='1.0' encoding='UTF-8'?>
<partial-response><error><error-name>class javax.el.PropertyNotFoundException</error-name><error-message><![CDATA[/pages/admin/usuario.xhtml @52,27 value="#{usuarioAdminDM.usuario.usuario}": Target Unreachable, 'usuario' returned null]]></error-message></error></partial-response> 
```

并且查看我的 jboss 服务器的日志，我没有看到 System.out.println("nuevo usuario");

因此，usuario 为 null 是有道理的，因为它没有调用我的“nuevo”方法。我是 JSF 的新手，所以我很确定这是我忽略的东西。

这是我的 usuarioAdminDM 类

```
import java.io.Serializable;
import java.util.List;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;

import ec.edu.puce.biologia.model.Usuario;

@ManagedBean(name="usuarioAdminDM")
@ViewScoped
public class UsuarioAdminDM implements Serializable{

    private static final long serialVersionUID = 1L;
    private List<Usuario> usuarios;
    private Usuario usuario = new Usuario();
    private Usuario usuarioBusqueda = new Usuario();

    public List<Usuario> getUsuarios() {
        return usuarios;
    }
    public void setUsuarios(List<Usuario> usuarios) {
        this.usuarios = usuarios;
    }
    public Usuario getUsuario() {
        return usuario;
    }
    public void setUsuario(final Usuario usuario) {
        this.usuario = usuario;
    }
    public Usuario getUsuarioBusqueda() {
        return usuarioBusqueda;
    }
    public void setUsuarioBusqueda(final Usuario usuarioBusqueda) {
        this.usuarioBusqueda = usuarioBusqueda;
    }
} 
```

这是我的表格

```
<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    template="/WEB-INF/templates/biologiaTemplate.xhtml">
    <ui:define name="title">Administración de Usuarios</ui:define>
    <ui:define name="content">
        <h:messages />
        <h:form id="usuarioAdminForm">
            <p:commandButton id="nuevobtn" value="Nuevo"
                oncomplete="usuarioPanel.show()"
                action="#{usuarioAdminController.nuevo}" />
            <p:dataTable var="usuarios" rowKey="#{usuarios.id}"
                value="#{usuarioAdminDM.usuarios}" id="tablaUsuario"
                selection="#{usuarioAdminDM.usuario}" selectionMode="single">
                <f:facet name="header">  
                    Seleccionar el Boton EDITAR después de seleccionar el Usuario   
                </f:facet>
                <p:column headerText="Usuario">
                    <h:outputText value="#{usuarios.usuario}" />
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{usuarios.nombre}" />
                </p:column>
                <p:column headerText="E-mail">
                    <h:outputText value="#{usuarios.email}" />
                </p:column>
                <p:column headerText="Tipo">
                    <h:outputText value="#{usuarios.tipo}" />
                </p:column>
                <p:column headerText="Activo">
                    <h:outputText value="Si" rendered="#{usuarios.activo}" />
                    <h:outputText value="No" rendered="#{!usuarios.activo}" />
                </p:column>
                <f:facet name="footer">
                    <p:commandButton id="viewButton" value="Editar"
                        process="@this,tablaUsuario" icon="ui-icon-search"
                        update=":usuarioAdminForm:formUsuario"
                        oncomplete="usuarioPanel.show()" />
                </f:facet>
            </p:dataTable>

            <p:dialog id="usuarioModal" header="Usuario" widgetVar="usuarioPanel"
                modal="true">
                <p:messages id="messages" showDetail="true" autoUpdate="true" />
                <h:panelGrid columns="2" id="formUsuario">
                    <h:outputLabel value="Nombre" for="nombreInput" />
                    <h:inputText value="#{usuarioAdminDM.usuario.nombre}"
                        id="nombreInput" />
                    <h:outputLabel value="Usuario" for="usuarioInput" />
                    <h:inputText value="#{usuarioAdminDM.usuario.usuario}"
                        id="usuarioInput" />

                    <h:outputLabel for="passwordInput1" value="Contraseña: " />
                    <p:password id="passwordInput1"
                        value="#{usuarioAdminDM.usuario.password}" match="passwordInput2"
                        label="Password 1" />

                    <h:outputLabel for="passwordInput2" value="Validación: " />
                    <p:password id="passwordInput2"
                        value="#{usuarioAdminDM.usuario.password}" label="Password 2" />

                    <h:outputLabel value="E-mail" for="emailInput" />
                    <h:inputText value="#{usuarioAdminDM.usuario.email}"
                        id="emailInput" />
                    <h:outputLabel value="Tipo" for="tipoInput" />
                    <h:selectOneMenu id="tipoInput"
                        value="${usuarioAdminDM.usuario.tipo}">

                        <f:selectItem itemValue="ADMINISTRADOR" itemLabel="Administrador" />

                        <f:selectItem itemValue="EDITOR" itemLabel="Editor" />

                        <f:selectItem itemValue="VISITANTE" itemLabel="Visitante" />

                    </h:selectOneMenu>
                    <h:outputLabel value="Activo" for="activoInput" />
                    <p:selectOneRadio id="activoInput"
                        value="#{usuarioAdminDM.usuario.activo}">
                        <f:selectItem itemLabel="Sí" itemValue="True" />
                        <f:selectItem itemLabel="No" itemValue="False" />
                    </p:selectOneRadio>
                </h:panelGrid>
                <p:commandButton value="Guardar" update="tablaUsuario,messages"
                    id="guardarBtn" actionListener="#{usuarioAdminController.guardar}" />

            </p:dialog>

            <p:remoteCommand name="inicializar" process="@this"
                actionListener="#{usuarioAdminController.init()}"
                update="tablaUsuario" />

        </h:form>
        <script type="text/javascript">
        inicializar();
    </script>
    </ui:define>
</ui:composition> 
```

完整的控制器类在这里

```
@ManagedBean(name="usuarioAdminController")
@ViewScoped
public class UsuarioAdminController {

    @ManagedProperty(value="#{usuarioAdminDM}")
    private UsuarioAdminDM usuarioAdminDM;

    @EJB
    private SeguridadService servicio;

    @PostConstruct
    public void init() {
        System.out.println("Inicializando!");       
        obtenerUsuarios();
    }
    public void nuevo(ActionEvent event) {
        System.out.println("nuevo usuario ");
        usuarioAdminDM.setUsuario(new Usuario());
    }
    public void guardar() {
        //try {
            System.out.println("Grabar o guardar usuario");
            if (usuarioAdminDM.getUsuario() != null) {
                if (usuarioAdminDM.getUsuario().getId() == null) {
                    System.out.println("Nuevo usuario");
                    servicio.guardar(usuarioAdminDM.getUsuario());
                } else {
                    System.out.println("Actualizando");
                    servicio.actualizar(usuarioAdminDM.getUsuario());
                }

            }
            obtenerusuarios();

        /*} catch (EntidadNoGrabadaException e) {
            e.printStackTrace();
        }*/
    }
    public UsuarioAdminDM getUsuarioAdminDM() {
        return usuarioAdminDM;
    }
    public void obtenerusuarios() {
        usuarioAdminDM.setUsuarios(servicio.obtenerTodos());

    }

    public void setUsuarioAdminDM(UsuarioAdminDM usuarioAdminDM) {
        this.usuarioAdminDM = usuarioAdminDM;
    }
    public void obtenerUsuarios(){
        usuarioAdminDM.setUsuarios(servicio.obtenerTodos()) ;       
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T16:37:12.910

我认为有必要`p:commandButton`像这样发送 de 来处理自己

```
<p:commandButton id="nuevobtn" value="Nuevo"
                oncomplete="usuarioPanel.show()"
                action="#{usuarioAdminController.nuevo}" process="@this"/> 
```

# linux-kernel - 用于启用或禁用 dmesg 或 printk 语句的 Proc 文件

> ID：16008314
> 
> 赞同：0
> 
> 时间：2013-04-15T05:41:28.357
> 
> 标签：linux-kernel, kernel-module, kernel

我想编写一个 proc 文件，通过它我可以启用或禁用打印在控制台上的 printk msg。或者会在我的 proc 文件中打印所有 printk 消息。然后我将能够读取那些**printk 消息在我的 proc 文件**中。如何做到这一点。请给我一些建议。

谢谢

巴尔德夫·辛格

# command-line - curl命令行上的facebook

> ID：16008316
> 
> 赞同：1
> 
> 时间：2013-04-15T05:41:38.280
> 
> 标签：command-line, facebook-login, facebook-access-token

我正在尝试在命令行上为基于 MIPS 的 linux 机器使用 cURL 制作应用程序。作为使用 FB Graph API 的测试步骤，我可以将状态更新、照片等发布到用户的墙上。但为此，我必须首先在 PC 上使用基于浏览器的登录从 Graph API Explorer 获取访问令牌。

对于我的目标系统（将使用哪个应用程序），我无权访问浏览器。在这种情况下，我的应用程序如何获得有效的访问令牌？是否没有任何方式或端点或 API 可以让我的应用程序使用 curl 进行对话并代表用户获取访问令牌？

通过浏览器进行登录和接收访问令牌是唯一有效的方法吗？

在这里，我正在谈论获取 USER ACCESS-TOKEN... 我能够获得的应用程序访问令牌。

# git - 将 git checkout 中的子模块包含到 hook 中的 GIT_WORK_TREE

> ID：16008318
> 
> 赞同：5
> 
> 时间：2013-04-15T05:41:45.047
> 
> 标签：git, githooks, git-checkout

在更新后挂钩中使用以下代码时是否可以包含子模块？

```
GIT_WORK_TREE=/path/to/directory git checkout -f 
```

我还必须有哪些其他选项来分发代码，包括来自更新后挂钩的子模块？

谢谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T06:04:50.907

问题“[在后挂钩上](https://stackoverflow.com/q/7593467/6309)[使用`git submodule update --init`](https://stackoverflow.com/q/7593467/6309)”提到了如果在挂钩中使用它可以看到的错误消息`post-update`：

```
GIT_WORK_TREE=/path/to/directory git submodule update --init 
```

那将给出一个：

```
remote: You need to run this command from the toplevel of the working tree. 
```

所以最好`cd`直接在目标仓库中运行你的命令：

```
export GIT_DIR=$(pwd)

cd /path/to/target/workingtree

git checkout -f master
git submodule update --init --recursive 
```

但是，如“[在推送到裸工作目录后如何在工作树中初始化/更新 git 子模块？](https://stackoverflow.com/questions/7446681/how-do-i-init-update-a-git-submodule-in-a-working-tree-after-pushing-to-a-bare-w) ”中所示：

> 看起来当您运行“git submodule update”时您无法设置`GIT_WORK_TREE`：
> **它将尝试将其用作子模块的工作树，而不是超级项目**。

Aaron Adams的博文“ [Git push with submodules: a how-to guide](http://aaronadams.ca/post/37345904654/git-push-with-submodules) ”描述了与[OP iliveinapark](https://stackoverflow.com/users/405161/iliveinapark)在[评论](https://stackoverflow.com/questions/16008318/including-submodules-in-git-checkout-to-git-work-tree-in-hook#comment22865072_16008587)中显示的类似错误消息：

> 可悲的是，这不起作用，我怀疑是因为我的回购是一个裸回购。
> 我遵循这些命令得到的错误是：

```
fatal: This operation must be run in a work tree 
```

> 如果，为了克服上述错误，我使用类似的东西：

```
git --git-dir=<my bare repo> --work-tree=<where I export to> submodule update --init --recursive 
```

> 我得到：

```
fatal: working tree '<where I export to>' already exists. Clone of '<submodule repo>' into submodule path '<submodule path>' failed 
```

* * *

上面提到的博客文章建议了一种基于*非裸*仓库的方法（通常*不*建议推送到，但在这种情况下是必要的）：

### 使用 Git 管理带有子模块的网站：正确的方法

> 首先，让我们创建一个通用的 post-receive 挂钩，我不需要在每个存储库的基础上进行更改：

```
[aaron@aaronadams]$ cat > /usr/local/share/git-core/templates/hooks/post-receive.sample
#!/bin/sh
#
# An example hook script to update the working tree, including its
# submodules, after receiving a push.
#
# This hook requires core.worktree to be explicitly set, and
# receive.denyCurrentBranch to be set to false.
#
# To enable this hook, rename this file to "post-receive".

# Read standard input or hook will fail
while read oldrev newrev refname
do
:
done

# Unset GIT_DIR or the universe will implode
unset GIT_DIR

# Change directory to the working tree; exit on failure
cd `git config --get core.worktree` || exit

# Force checkout
git checkout --force

# Force update submodules
git submodule update --init --recursive --force
[aaron@aaronadams]$ chmod +x /usr/local/share/git-core/templates/hooks/post-receive.sample 
```

> 现在让我们继续打破所有规则。
> 
> 我们要：
> 
> *   在我们的网站目录中初始化一个非裸 Git 存储库；
> *   确保它可以从 git push 接收；
> *   将其工作树显式设置为其父目录；
> *   并启用我们刚刚创建的钩子。

```
[aaron@aaronadams]$ cd /var/www/vhosts/aaronadams.ca/sites/staging.aaronadams.ca
[aaron@aaronadams]$ git init && git config --bool receive.denyCurrentBranch false && git config --path core.worktree ../ && mv .git/hooks/post-receive.sample .git/hooks/post-receive
在 /var/www/vhosts/aaronadams.ca/sites/staging.aaronadams.ca/.git/ 中初始化空的 Git 存储库

```

> 最后，在我们的本地机器上，我们将更改远程以反映我们新存储库的位置，然后推送。

```
[aaron@aaronadams]$ git remote set-url staging aaron@aaronadams.ca:sites/staging.aaronadams.ca
[aaron@aaronadams]$ git push staging master
remote: Submodule 'codeigniter' (git://github.com/EllisLab/CodeIgniter.git) registered for path 'codeigniter'
remote: Cloning into 'codeigniter'...
remote: Submodule path 'codeigniter': checked out 'fd24adf31255822d6aa9a5d2dce9010ad2ee4cf0'
To aaron@aaronadams.ca:sites/staging.aaronadams.ca
 * [new branch]      master -> master 
```

> 天哪，它奏效了！
> 
> 这种方法不仅与子模块兼容，还只需要**一个命令来设置一个新的远程存储库**（好吧，它由四个命令组成）。
> 它还将存储库和工作树保持在同一位置；并且在我们的配置或钩子文件中不需要绝对路径，它现在也**完全可移植**。

* * *

[OP](https://stackoverflow.com/users/405161/iliveinapark) iliveinapark[提到](https://stackoverflow.com/questions/16008318/including-submodules-in-git-checkout-to-git-work-tree-in-hook/16008587?noredirect=1#comment22907880_16008587)：

> 不过，这变得有点太繁琐了，所以我进行了简单的强制结帐，并将管理手动更新我的子模块。

# jquery - 跨域ajax请求问题

> ID：16008324
> 
> 赞同：1
> 
> 时间：2013-04-15T05:42:39.343
> 
> 标签：jquery, asp.net, ajax, json, jsonp

我需要从跨域获取 json 数据。

```
$.getJSON('http://xx.xx.xx.xx/SampleService/Handler.ashx?callback=?', data, function (jsonData) {
                alert('1');
            })
            .done(function () { console.log("second success"); })
            .fail(function () { console.log("error"); })
            .always(function () { console.log("complete"); }); 
```

处理程序代码：

```
context.Response.ContentType = "application/json";
                SampleService service = new SampleService();

                List<List<Byte>> response = service.GetData();
                string jsonData = JsonConvert.SerializeObject(response);
                context.Response.Write(string.Format("{0}([{1}]);", context.Request["callback"], jsonData)); 
```

我得到的错误是：

```
"parsererror"
Error: jQuery19108131180874027861_1366004862133 was not called 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:43:21.820

对跨域请求使用 jsonp 调用。使用这样的东西

```
$.ajax({
        url : "http://xx.xx.xx.xx/SampleService/Handler.ashx",
        type: "GET",
        dataType: "jsonp",
        jsonp : "callback",
        success: function(data) {alert("Success");},
        error: function(data) { alert("Error"); }

        });        
   }); 
```

在你的 php 页面返回结果是这样的

```
echo $_GET['callback'] . "($result)";exit; 
```

其中 $result 是您的 json_encoded 数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:01:00.697

您看到的 jQuery19108131180874027861_1366004862133 是一个自动生成的回调包装函数，当您不指定回调函数时，jQuery 会附加该函数。即你有回调=？。如果您有权访问正在调用的服务器端脚本，则可以将 JSON 包装在一个函数中，并使用 JSONP 调用它来解决跨域问题。即 - 将您的回调函数命名为 jsonCallback。

服务器端脚本输出：

```
jsonCallback(
    {
        [insert your json code here]
    }
); 
```

然后客户端：

(函数($) { var url = ' [http://www.jquery4u.com/scripts/jquery4u-sites.json?callback=](http://www.jquery4u.com/scripts/jquery4u-sites.json?callback=) ?';

```
$.ajax({
   type: 'GET',
    url: url,
    async: false,
    jsonpCallback: 'jsonCallback',
    contentType: "application/json",
    dataType: 'jsonp',
    done: function(json) {
       console.dir(json);
    },
    fail: function(e) {
       console.log(e.message);
    }
});

})(jQuery); 
```

进一步阅读：[JQUERY 的 JSONP 举例说明](http://www.jquery4u.com/json/jsonp-examples/)

# asp.net-mvc - ASP MVC CreateUser 与 CreateAccount

> ID：16008326
> 
> 赞同：1
> 
> 时间：2013-04-15T05:42:48.677
> 
> 标签：asp.net-mvc, asp.net-membership, membership-provider, membership

SimpleMembershipProvider.CreateAccount 和 SimpleMembershipProvider.CreateUser 有什么区别？我应该使用哪一个？另外，WebSecurity 只有 createAccount 和 createAccountAndUser，为什么没有 createUser 一个呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:38:58.753

CreateUser 将在 User 表中创建一个新用户， CreateAccount 将在 account 表中创建一个基于现有用户的帐户 - 在创建用户之前您无法创建帐户。

[http://msdn.microsoft.com/en-us/library/gg538405(v=vs.111).aspx](http://msdn.microsoft.com/en-us/library/gg538405(v=vs.111).aspx)

[http://msdn.microsoft.com/en-us/library/webmatrix.webdata.simplemembershipprovider.createuser(v=vs.111).aspx](http://msdn.microsoft.com/en-us/library/webmatrix.webdata.simplemembershipprovider.createuser(v=vs.111).aspx)

CreateUserAndAccount 将在一个步骤中创建两者：http: [//msdn.microsoft.com/en-us/library/gg548257 (v=vs.111).aspx](http://msdn.microsoft.com/en-us/library/gg548257(v=vs.111).aspx)

# java - 使用 jstl 从子自定义标签访问父自定义标签属性结果

> ID：16008328
> 
> 赞同：1
> 
> 时间：2013-04-15T05:43:16.253
> 
> 标签：java, jsp, jstl

正在创建以下结构的自定义标签

```
<test test1="" test2="" test3="">
  <result1>result of the test1 condition</result1>
  <result2>result of the test2 condition</result2>
  <result3>result of the test3 condition</result3>
</test> 
```

所以，我想在子标签 result1、result2、result3 中访问父标签属性 test1、test2、test3（这些属性的返回值为真/假）的结果，以根据条件的返回值显示输出不管是真是假。

谢谢，开发者。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-15T02:52:53.890

我在研究类似问题时遇到了这个问题。为了子孙后代，这就是我在野外看到的完成的方式。我假设您的标签已在标签库描述符文件中正确定义。

**父标记类**

```
public class TestTag extends BodyTagSupport {

    // Attributes
    private String test1;
    private String test2;
    private String test3;

    // Setters
    public void setTest1(String str) {
        this.test1 = str;
    }
    // Et Cetera

    // Accessors
    public String getTest1() {
        return this.test1;
    }
    // Et Cetera

    @Override
    public int doStartTag() {
        // Do whatever is necessary here to set values for your attributes
    }

    // Process body
} 
```

由于`[doStartTag](http://docs.oracle.com/javaee/7/api/javax/servlet/jsp/tagext/BodyTagSupport.html#doStartTag%28%29)`在我们开始处理标签内的主体之前被调用，我们知道我们可以安全地访问子标签中我们关心的属性。

**子标签**

```
public class Result1Tag extends TagSupport {

    // Take care of declaring and setting attributes if necessary

    @Override
    public int doStartTag() throws JspException {
        //TestTag parent = (TestTag)super.getParent(); Not recommended
        TestTag parent = (TestTag)TagSupport.findAncestorWithClass(this, TestTag.class);

        if (parent == null) {
            throw new JspTagException("Result1Tag must be enclosed in a TestTag");
        }

        String test1 = parent.getTest1();

        // Whatever logic you need for this attribute to generate content
    }
} 
```

这里不鼓励使用 of 的原因`[getParent()](http://docs.oracle.com/javaee/7/api/javax/servlet/jsp/tagext/TagSupport.html#getParent%28%29)`是它只检索最近的封闭标记。如果我们需要重构代码，这会限制我们。

```
<test test1="foo" test2="bar" test3="foobar">
    <c:if test="${ condition }">
        <result1/>
    </c:if>
    <result2/>
    <result3/>
</test> 
```

*   使用 getParent() 实现，我们无法检索父标记，因为我们插入的 JSTL 标记现在是最近的封闭标记。
*   使用 findAncestorWithClass() 实现，我们成功地检索到父标签，因为我们迭代地搜索具有指定类的祖先标签。

# xml - 应用 XSL 转换后无法查看 XML

> ID：16008333
> 
> 赞同：0
> 
> 时间：2013-04-15T05:43:35.270
> 
> 标签：xml, xslt

我有以下代码结构：

XML：

```
<?xml version="1.0"?>
<?xml-stylesheet href="transform.xsl" type="text/xsl"?>
<javancss>
  <date>2013-02-28</date>
  <time>16:59:00</time>
  <packages>
    <package>
      <name>Package 1</name>
      <classes>3</classes>
      <functions>21</functions>
      <ncss>283</ncss>
      <javadocs>20</javadocs>
      <javadoc_lines>111</javadoc_lines>
      <single_comment_lines>11</single_comment_lines>
      <multi_comment_lines>221</multi_comment_lines>
    </package>
    <package>
      <name>Package 2</name>
      <classes>12</classes>
      <functions>411</functions>
      <ncss>8476</ncss>
      <javadocs>380</javadocs>
      <javadoc_lines>2193</javadoc_lines>
      <single_comment_lines>1224</single_comment_lines>
      <multi_comment_lines>6070</multi_comment_lines>
    </package>
    <package>
</packages> 
```

这是要应用于文件的 XSL 转换，以便每个包记录显示在结果 HTML 表的 1 行中

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:output method="xml"
            indent="yes"
            encoding="iso-8859-1"
            media-type="text/html"
            doctype-public="-//W3C//DTD HTML 4.0//EN"/>
<xsl:template match="/">
  <html>
  <body>
    <h2>Package List</h2>
    <table border="1">
      <tr bgcolor="#9acd32">
        <th>Name</th>
        <th>Classes</th>
    <th>Functions</th>
        <th>NCSS</th>
        <th>Javadocs</th>
        <th>Javadoc Lines</th>
    <th>Single Comment Lines</th>
      </tr>
      <xsl:for-each select="/javancss/packages/package">
        <tr>
          <td><xsl:value-of select="name"/></td>
          <td><xsl:value-of select="classes"/></td>
          <td><xsl:value-of select="functions"/></td>
          <td><xsl:value-of select="ncss"/></td>
          <td><xsl:value-of select="javadocs"/></td>
          <td><xsl:value-of select="javadoc_lines"/></td>
          <td><xsl:value-of select="single_comment_lines"/></td>
          <td><xsl:value-of select="multi_comment_lines"/></td>
        </tr>
      </xsl:for-each>
    </table>
  </body>
  </html>
</xsl:template>

</xsl:stylesheet> 
```

我无法在任何浏览器中查看输出。我想知道我哪里出错了。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:45:56.703

以下是一些建议，为什么它可能不起作用：

1) 尝试将 xsl:output 方法更改为“html”而不是“xml”，因为您实际上是在输出 HTML。

```
<xsl:output method="html" /> 
```

2) 确保该文件`transform.xsl`与您的 XML 文件位于同一位置。

3) 正如 JLRishie 在他的评论中提到的，确保你的 XML 文件格式正确，所有标签都正确关闭。

# android - 每个动态创建的线性布局中的按钮仅在最后一个线性布局中起作用

> ID：16008336
> 
> 赞同：1
> 
> 时间：2013-04-15T05:43:46.427
> 
> 标签：android, android-layout, button, android-linearlayout

```
 public class MyStock extends Activity
    {

        DatabaseHelper db;
        DownloadFileviaHTTP1 d;
        private mItems[] itemss;
        EditText txtPriceEdit=null;
        ProgressDialog progressDialog;
        public ListView lst_stockListing;
        List<HashMap<String, String>> fillMaps ;
        ArrayList<mItems> planetList = new ArrayList<mItems>();
        RelativeLayout slider = null,listview=null,topHeader=null,remaniningBucks=null,r,layoutName=null;
        Button btn_leftpanel,btn_editstock,btnbuy,btncancel,btnaccept,btnsub,btnadd,btnsell,b1,b2;
        String[] from = new String[] {"companyName", "ButtonBuy", "currentPrice", "ButtonSell"};
        int[] to = new int[] { R.id.txtstockname_custom, R.id.btnbuy_custom, R.id.txtcurrent_custom, R.id.btnsell_custom };
        TextView txtnifty=null,txtremainingbucks=null,txt_stockqty=null,txt_quantity=null,txtPrice=null,txtPriceChange=null,t1=null,t2=null;
        LinearLayout mainLinear=null,l=null;

        @Override
        public void onCreate(Bundle savedInstanceState) 
        {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.mystock);

            //Button
            r=(RelativeLayout)findViewById(R.id.mainStock);

            btn_leftpanel=(Button)findViewById(R.id.btn_leftpanel);
            btncancel=(Button)findViewById(R.id.btncancel);
            btnaccept=(Button)findViewById(R.id.btnaccept);
            btnsub=(Button)findViewById(R.id.btn_sub);
            btnadd=(Button)findViewById(R.id.btn_add);
            btn_editstock=(Button)findViewById(R.id.btn_editstock);

            //layout
            listview=(RelativeLayout)findViewById(R.id.listview);
            slider = (RelativeLayout)findViewById(R.id.layout_relative_slider);
            topHeader=(RelativeLayout)findViewById(R.id.layout_top_header);
            layoutName=(RelativeLayout)findViewById(R.id.layout_name);
            remaniningBucks=(RelativeLayout)findViewById(R.id.layout_remainingbucks);

            //TextView
            txtnifty=(TextView)findViewById(R.id.txtnifty50_text);
            txtremainingbucks=(TextView)findViewById(R.id.txtremainingbucks_text);
            txt_stockqty=(TextView)findViewById(R.id.txtstockqty);
            txt_quantity=(TextView)findViewById(R.id.txtquantity);
            txtPriceEdit=(EditText)findViewById(R.id.txtprice_edit);
            txtPrice=(TextView)findViewById(R.id.txtprice);
            txtPriceChange=(TextView)findViewById(R.id.txtprice_change);

            //listview
            lst_stockListing=(ListView)findViewById(R.id.lst_mystock);

            itemss = (mItems[]) getLastNonConfigurationInstance();

            d=new DownloadFileviaHTTP1();

            txtnifty.setText("100000.00");
            txtremainingbucks.setText("100000.00");
            txtremainingbucks.setTextColor(android.graphics.Color.rgb(105,160,38));

            ArrayList<Items>details = new ArrayList<Items>();

             mainLinear=new LinearLayout(this);
             mainLinear.setOrientation(LinearLayout.VERTICAL);
             mainLinear.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));

             DatabaseHelper db = new DatabaseHelper(MyStock.this,"StockApp");
             db.getReadableDatabase();
             Cursor cur=db.view_mystock("TBL_MYSTOCK", db);
             Log.d("cursor count : "," " +cur.getCount());

             Items item;
             int i=0;
             int j=52;
             Log.d("curcount : ",""+cur.getCount());
             while(cur.moveToNext())
             {
                    l=new LinearLayout(this);
                    l.setId(i);
                    l.setBackgroundResource(R.drawable.common_grid2);
                    l.setLayoutParams(new ViewGroup.LayoutParams(android.app.ActionBar.LayoutParams.MATCH_PARENT,70));

                    t1=new TextView(this);
                    t1.setWidth(210);
                    t1.setGravity(Gravity.CENTER);
                    t1.setHeight(55);

                    btnbuy=new Button(this);
                    btnbuy.setId(i);
                    btnbuy.setHeight(55);
                    btnbuy.setWidth(75);
                    btnbuy.setTextColor(Color.rgb(105, 160, 38));
                    btnbuy.setBackgroundResource(R.drawable.buy_stock);

                    t2=new TextView(this);
                    t2.setWidth(112);
                    t2.setHeight(55);

                    btnsell=new Button(this);
                    btnsell.setId(j);
                    btnsell.setBackgroundResource(R.drawable.sell_stock2);
                    btnsell.setWidth(75);
                    btnsell.setHeight(55);
                    Log.d("valu of i and j","" +i +" " + j);

                    l.addView(t1);
                    l.addView(btnbuy);
                    l.addView(t2);
                    l.addView(btnsell);
                    mainLinear.addView(l);              
                    i++;
                    j++;
                    t1.setText(cur.getString(1));
                    t2.setText(cur.getString(2));

                 if (Integer.parseInt(cur.getString(6).toString())>0)
                 {
                    btnbuy.setText(cur.getString(6));
                    btnbuy.setBackgroundResource(R.drawable.buy_stock_number);
                 }

                // details.add(item);
             } 
             listview.addView(mainLinear);

            function();
        }

       void function()
        {
            btn_leftpanel.setOnClickListener(new View.OnClickListener()
            {
                public void onClick(View v) 
                {   
                    Intent in =new Intent(MyStock.this,ListingItem.class);
                    startActivity(in);
                }
            });

            btn_editstock.setOnClickListener(new View.OnClickListener()
            {   
                public void onClick(View v) 
                {   

                    Log.d("top position ","" +listview.getTop());
                }
            });
            btncancel.setOnClickListener(new View.OnClickListener()
            {
                public void onClick(View v) 
                {
                    Log.d("cancel","called");
                    slider.setVisibility(View.GONE);
                }
            });
            btnaccept.setOnClickListener(new View.OnClickListener()
            {   
                public void onClick(View v) 
                {               

                }
            });
            btnadd.setOnClickListener(new View.OnClickListener()
            {
                public void onClick(View v)
                {
                    int val=Integer.parseInt(txt_stockqty.getText().toString());
                    if (val<100)
                        val=val+10;

                    txt_stockqty.setText(""+val);
                    txt_quantity.setText(""+val);
                    txtPriceEdit.setText(""+txtPrice.getText().toString());
                    float val1=Float.parseFloat(txtPriceEdit.getText().toString());             
                    txtPriceChange.setText("" + val*val1);
                }
            });
            btnsub.setOnClickListener(new View.OnClickListener()
            {   
                public void onClick(View v)
                {
                    int val=Integer.parseInt(txt_stockqty.getText().toString());
                    if (val>10)
                        val=val-10;

                    txt_stockqty.setText(""+val);
                    txt_quantity.setText(""+val);
                    txtPriceEdit.setText(txtPrice.getText().toString());
                    float val1=Float.parseFloat(txtPriceEdit.getText().toString());
                    txtPriceChange. setText(""+val*val1);
                }
            });
            txtPriceEdit.setOnClickListener(new View.OnClickListener() 
            {
                public void onClick(View v) 
                {

                }
            });
            btnbuy.setOnClickListener(new View.OnClickListener()
            {
                public void onClick(View v) 
                {
                    Log.d("button id : ",""+btnbuy.getId());
                        slider.setVisibility(View.VISIBLE);
                         DatabaseHelper db = new DatabaseHelper(MyStock.this,"StockApp");
                            db.getReadableDatabase();
                            Cursor cur=db.view_mystock("TBL_MYSTOCK", db);
                            Log.d("cursor count : "," " +cur.getCount());
                            db.close();
                            cur.move(btnbuy.getId());
                            while(cur.moveToNext())
                            {
                                Toast.makeText(MyStock.this,cur.getString(2), 1000).show();
                                txtPrice.setText(cur.getString(2));
                                txtPriceEdit.setText(cur.getString(2));
                                Float i=Float.parseFloat(txtPrice.getText().toString()) * Integer.parseInt(txt_quantity.getText().toString());
                                txtPriceChange.setText(""+i);
                                break;
                            }
                }
            });
        }
    } 
```

在运行时，我正在创建线性布局。创建的线性布局数是数据库中的记录数。线性布局有两个文本框和两个按钮。我面临的问题是只有最后一个线性布局的按钮有效。之前的线性布局的按钮不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:03:05.957

因为我的朋友，您将“onclicklistener”设置为“findViewById”（在while循环之前）选择的视图，因此只将侦听器设置为一组视图。你想要做什么将“function（）”的内容放在循环中，并将该函数的视图名称更改为while循环内的视图名称。

前任。

```
while(cur.moveToNext()){
    btnbuy=new Button(this);
    btnbuy.setId(i);
    btnbuy.setHeight(55);
    btnbuy.setWidth(75);
    btnbuy.setTextColor(Color.rgb(105, 160, 38));
    btnbuy.setBackgroundResource(R.drawable.buy_stock);
    btnbuy.setOnClickListener(new View.OnClickListener(){
        public void onClick(View v) {
            Log.d("button id : ",""+btnbuy.getId());
        }
    });
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:55:08.823

尝试使用下面的代码..

```
public class CustAdp extends ArrayAdapter<String> {

    Cursor cursor_subCat;

    public CustAdp(Context context, Cursor cursor_subcategory) {
        super(context, id);
        this.cursor_subCat = cursor_subcategory;
        cursor_subCat.moveToFirst();
    }

    public int getCount() {
        // TODO Auto-generated method stub
        return cursor_subCat.getCount();
    }

    public String getItem(int position) {
        // TODO Auto-generated method stub
        cursor_subCat.moveToPosition(position);
        return cursor_subCat.getString(cursor_subCat
                .getColumnIndex("Sub_CatName"));
    }

    public long getItemId(int position) {
        // TODO Auto-generated method stub
        cursor_subCat.moveToPosition(position);
        return cursor_subCat.getInt(cursor_subCat
                .getColumnIndex("Sub_IdAuto"));
    }

    @Override
    public void notifyDataSetChanged() {
        // TODO Auto-generated method stub
        super.notifyDataSetChanged();
        cursor_subCat.requery();
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub

        convertView = getLayoutInflater().inflate(R.layout.customsubcat,
                null);
        ImageView iv_subcat = (ImageView) convertView
                .findViewById(R.id.image_region1);
        TextView tv_subcat = (TextView) convertView
                .findViewById(R.id.txt_regionname1);
        Button btn_subcat = (Button) convertView
                .findViewById(R.id.button_delete_subcat);

        cursor_subCat.moveToPosition(position);
        try {
            byte[] subimage = cursor_subCat.getBlob(cursor_subCat
                    .getColumnIndex("Sub_CatImage"));
            Bitmap bm = BitmapFactory.decodeByteArray(subimage, 0,
                    subimage.length);
            iv_subcat.setImageBitmap(bm);
            tv_subcat.setText(cursor_subCat.getString(cursor_subCat
                    .getColumnIndex("Sub_CatName")));
            subcat_id = cursor_subCat.getLong(cursor_subCat
                    .getColumnIndex("Sub_IdAuto"));
            btn_subcat.setId((int) subcat_id);
            id = cursor_subCat.getInt(cursor_subCat
                    .getColumnIndex("Sub_MyReceipe"));
            convertView.setId(position);
        } catch (Exception e) {
            // TODO: handle exception
        }

        btn_subcat.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub
                temp = v.getId();
                Cursor c_subcat = db_SubCategory
                        .getReceipeFromSubCategory(temp);
                c_subcat.moveToFirst();

                if (c_subcat.getCount() == 0) {
                    data = false;
                    showDialog(0);
                } else {
                    data = true;
                    showDialog(0);
                }

            }
        });
        return convertView;

    }

    class ViewHolder {
        TextView tv_subcat;
        Button btn_subcat;
        ImageView iv_subcat;
    }
} 
```

根据您的要求对上述代码进行更改...希望对您有所帮助..

# iphone - 在 Cocos-2d 中使用滑块或进度控件控制动画

> ID：16008338
> 
> 赞同：1
> 
> 时间：2013-04-15T05:44:00.900
> 
> 标签：iphone, ios, cocos2d-iphone, cocos2d-x

*   我想使用**CCMoveTo** 函数和**CCspritesheets 执行时间控制动画。**

*   但是，我的关键点是我想更新一些滑块控件中动画的每一个进度。

*   此外，用户可以手动更改滑块的进度。这意味着滑块的更改应该与动画的状态同步。

    简而言之，动画应该用滑块的进度来控制，就像进度条控制视频中帧的时间一样。

    如何继续这个想法？对不起，糟糕的文档。请大伙儿牵手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T13:45:24.323

我实际上并不认为您可以使用标准 cocos2d 动作和 cocos2d 的标准动作管理器来做到这一点。您可以尝试实现自己不会运行的操作

```
[someNode runAction: action]; 
```

因为在这种情况下，动作将由动作管理器管理。因此，您自己的动作类将与标准动作类几乎相同，只是它不会从动作管理器接收更新，而是从滑块的值接收更新。我的意思是，cocos2d 动作的更新是标准化的，所以没有持续时间的区别。

# php - .htaccess 对文件夹的帮助？

> ID：16008339
> 
> 赞同：0
> 
> 时间：2013-04-15T05:44:03.197
> 
> 标签：php, .htaccess

我正在尝试使用 htaccess 制作漂亮的网址。我想`www.mysite.com/movie/name.html`从`www.mysite.com/movie/movie.php?url=name`

这里 movie/ 是一个文件夹，同样我还有两个文件夹，比如 albums/ 和 news/ ，我想制作如下所示的 url

*   www.mysite.com/albums/name.html 来自 ww.mysite.com/albums/album.php?id=name

*   www.mysite.com/news/name.html 来自 ww.mysite.com/news/album.php?id=name

.htaccess 如下

```
<IfModule mod_rewrite.c>
# removing .php extension 
RewriteEngine on 
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteCond %{REQUEST_FILENAME}\.php -f 
RewriteRule ^(.*)$ $1.php
#Code to rewrite www.mysite.com/movie/name to www.mysite.com/movie/movie.php?url=name
RewriteEngine On
RewriteRule ^(.+)/([a-zA-Z0-9_-]+)$ movie.php?url=$1
</IfModule> 
```

但我正在重定向每个页面

请建议正确的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:54:00.313

重定向 php 文件使用：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^/])/$ /$1.php [L] 
```

然后对于特定页面：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^/])/([0-9]+)/([^/])\.html$ /$1.php?url=$2 [L,QSA] 
```

你可以[在这里查看](http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html)**文档**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T05:54:41.027

尝试这个

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteCond %{REQUEST_FILENAME}\.php -f 
RewriteRule ^ - [S=3,L]

#www.mysite.com/movie/movie.php?url=name

RewriteRule ^movie/([^/]+)\.html?(.*)$ movie/movie.php?url=$1$2 [QSA,S=2,L]

#www.mysite.com/news/album.php?id=name

RewriteRule ^news/([^/]+)\.html?(.*)$ news/album.php?id=$1$2 [QSA,S=1,L]

#www.mysite.com/albums/album.php?id=name

RewriteRule ^([^/]+)/([^/]+)\.html?(.*)$ $1/$2.php?id=$2$3 [QSA,L] 
```

# vb.net - 将 vb.net 表单最小化到 mdiparent 底部，例如。adobe photoshop

> ID：16008340
> 
> 赞同：0
> 
> 时间：2013-04-15T05:44:03.177
> 
> 标签：vb.net, minimize, childwindow

vb.net 2008

我有 1 个 mdiparent 和许多子表单。单击子窗体的最小化按钮时，它应该最小化并显示在 mdiparent 的底部，而不是在任务栏中。就像在 Adob​​e Photoshop 中一样。有可能吗？如果是的话怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-30T05:44:26.450

您需要将子窗体的 MdiParent 属性设置为您的 MdiContainer。此示例假定有两个表单，一个名为 Form1，另一个名为 Form2。所有属性都以编程方式设置。

公开课形式1

```
Public Sub New()

    InitializeComponent()
    Me.IsMdiContainer = True
    Dim frm2 As Form2 = New Form2
    frm2.Owner = Me
    frm2.MdiParent = Me
    frm2.Show()

End Sub 
```

参考：[如何使用MDI父窗体制作mdi子窗体？](https://stackoverflow.com/questions/14867357/how-to-make-mdi-child-forms-using-mdi-parent-form)

# ruby-on-rails - 赫罗库 | 没有这样的应用程序没有在该主机名上配置应用程序（将域更改为新域）

> ID：16008349
> 
> 赞同：2
> 
> 时间：2013-04-15T05:44:57.630
> 
> 标签：ruby-on-rails, ruby, heroku, dns

我购买了一个新的自定义域，并决定将它用于我现有的 heroku 应用程序。

它是[http://www.xyz.com](http://www.xyz.com)我把它改成了[http://www.abc.com](http://www.abc.com)

我使用控制台从我的 heroku 应用程序中删除了 xyz.com 和 www.xyz.com

然后我添加了 abc.com 和 www.abc.com，它们工作得很好。

我去了我的 godaddy DNS 面板，并将以前的域 xyz.com（主机 www）指向了 rolling-bastion-xxxx.herokuapp.com。我还在 xyz.com 上转发到 www.abc.com。

大约 2 小时后，当我尝试访问以前的域 www.xyz.com 时，我收到 no such app 错误。Xyz.com（没有 www）似乎可以工作，因为它是转发的。

我错过了让 www.xyz.com 工作的一步吗？www.xyz.com 的“A 主机”需要指向哪里？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T11:30:05.260

在您的 DNS 面板中，`www.xyz.com`应该是一个`CNAME`to `boiling-bastion-xxxx.herokuapp.com`。

简而言之，顶级域应该转发到子域 (www)，然后该子域应该是您的 *.herokuapp.com 的 CNAME。

# javascript - 如何通过集合中的数组参数获取模型

> ID：16008356
> 
> 赞同：1
> 
> 时间：2013-04-15T05:45:11.743
> 
> 标签：javascript, backbone.js, coffeescript, underscore.js

我有一个这样的模型：

```
model = 
    from: "a@b.com"
    id: 1
    to: [c@d.com] 
```

我有一个包含这些模型的集合。集合需要过滤`from`。我知道`_.where`一个`underscore.js`函数。我这样使用它：

```
fromIds = _.pluck _.where(msgs, from : login), 'msgId' 
```

并且还需要按“到”过滤：

```
toIds = _.pluck _.where(msgs, to : login), 'msgId' 
```

它不起作用，因为`to`是一个数组。我该如何过滤`to`？如果有人帮助我，我将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T05:50:12.853

这时候你需要使用`_.filter`. 如果您查看[源代码](https://github.com/documentcloud/underscore/blob/master/underscore.js#L240)，您会发现它`_.where`只是一个有用的`_.filter`. `_.where`适用于基于原始比较的简单过滤，但任何更复杂的内容您都必须自己编写。

```
# Filter for messages that contain the target address.
matchedTo = _.filter msgs, (msg) -> _.contains msg.to, login

# Pluck as usual
toIds = _.pluck matchedTo, 'msgId' 
```

# sql - 使用外键约束传输数据

> ID：16008359
> 
> 赞同：0
> 
> 时间：2013-04-15T05:45:24.547
> 
> 标签：sql, sql-server, plsql, oracle11g, plsqldeveloper

我有四张桌子

Transaction(pay_id,pay_date,cust_name,cust_phone,cust_adrs,prod_name,amt,qty) 及其 3 个标准化版本

```
1\. customer(cust_id, cust_name, cust_phone, cust_add)
2\. product(prod_id,prod_name) 
```

（** cust_id 和 prod_id 是主键，我已经将数据从 Transaction 传输到 cutomer 和 product。使用 SEQUENCES 填充主键。**）

```
3\. payment(pay_id,pay_date,amt,qty,prod_id,cust_id) 
```

现在，我想将数据从交易转移到支付，但 cust_id、prod_id 是支付表中的外键。如何在不损害约束的情况下将数据从交易传输到支付？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:53:25.427

与客户和产品加入交易并插入付款

```
INSERT payment(pay_date,amt,qty,prod_id,cust_id)
SELECT T.pay_date,T.amt,T.qty,P.prod_id,C.cust_id
FROM Transaction T
    JOIN customer C
       ON T.cust_name = C.cust_name
          AND T.cust_phone = C.cust_phone
          AND T.cust_adrs = C.cust_adrs
    JOIN product P
        ON C.prod_name = P.prod_name 
```

# database - 有没有比存储它的名称并使用后期绑定来执行它更好的方法来将 c# 事件信息存储在数据库中？

> ID：16008360
> 
> 赞同：0
> 
> 时间：2013-04-15T05:45:28.327
> 
> 标签：database, function, late-binding

我正在设计一个纸牌游戏（在本示例中考虑 Magic the Gathering）并希望获取纸牌信息并将其存储在数据库中。在这个游戏中，有些事件（例如，一张牌可能会说“当它进入游戏时，对手受到 2 点伤害”）与一张特定的牌相关联。设计决策导致在制造商工厂松散地构建卡片，但我希望将卡片取出并将它们存储在数据库中。由于大多数卡片都是基本“卡片”类的实例，因此很容易加载每张卡片共有的功能（名称、成本等），但我一直在努力寻找一种将这些事件与单个卡片联系起来的好方法卡类型。到目前为止我想到的唯一方法是将函数名称存储在数据库中，并在加载卡时使用后期绑定来注册事件。有一个更好的方法吗？

我发现的唯一类似的帖子是：[Store function name in database and then execute it](https://stackoverflow.com/questions/14020129/store-function-name-in-database-and-then-execute-it)

使用 eval() 的答案似乎类似于后期绑定，但被否决了。但是，没有人对如何执行此功能提出了更好的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:01:52.740

这听起来像是一种可用的方法，但是它是否是一个好的方法是值得怀疑的。

为什么不从数据库中的卡片表示构造propper 对象？要么使用对象数据库，要么更可能的是使用对象关系映射。通过这种方式，您可以以一种干净、易于阅读和使用的方式表示每种类型的卡片，同时还可以使用从公共基类派生的专用类的丰富实例。

因此，您使用一个公共表来存储所有卡片，如下所示：

```
+-------------------------------------------------+
| card type | data1 | data2 | data3 | ... | dataN |
+-------------------------------------------------+
| Card      | 123   | 456   | 789   | ... | abc   |
| CardS1    | 123   | 456   | 789   | ... | abc   |
| CardS3    | 123   | 456   | 789   | ... | abc   |
| CardS2    | 123   | 456   | 789   | ... | abc   |
... 
```

像这样的类层次结构：

```
+---------------------------+
| class Card                |>-+
+---------------------------+  |
| var data1                 |  |
| var data2                 |  |
| var data3                 |  |
| ...                       |  |
| var dataN                 |  |
| baseMethod1()             |  |
| baseMethod2()             |  |
+---------------------------+  |
                               |
+---------------------------+  |
| class CardS1\. public Card |<-+
+---------------------------+  |
| specialMethod_1_1()       |  |
+---------------------------+  |
                               |
+---------------------------+  |
| class CardS2\. public Card |<-+
+---------------------------+  |
| specialMethod_2_1()       |  |
| specialMethod_2_2()       |  |
+---------------------------+  |
                               |
+---------------------------+  |
| class CardS3\. public Card |<-+
+---------------------------+
| specialMethod_3_1()       |
+---------------------------+ 
```

# android - 字节数组到字符串android

> ID：16008362
> 
> 赞同：0
> 
> 时间：2013-04-15T05:45:33.360
> 
> 标签：android, bytearray, bitmapimage

我正在尝试创建相机意图，下面给出了代码的子部分。

```
public void onPictureTaken(byte[] data, Camera camera) {
    String dat = new String(data);          
    byte[] datas = dat.getBytes();                  
    preview.setVisibility(View.GONE);
    ImageView iv2 = (ImageView)findViewById(R.id.iv1);
    Bitmap bMap = BitmapFactory.decodeByteArray(datas, 0, datas.length);
    iv2.setImageBitmap(bMap);           
} 
```

这保持`imageview`空白，但是当我给

```
Bitmap bMap = BitmapFactory.decodeByteArray(data, 0, data.length); 
```

已`imageview`正确加载。我在字节数组到字符串的转换中做错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:54:33.297

为什么需要这两行？

```
String dat = new String(data);          
byte[] datas = dat.getBytes(); 
```

直接在 decodeByteArray 中使用数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-24T09:19:58.253

您甚至不需要将 byte[] 转换为 String。照原样使用它。

```
public void onPictureTaken(byte[] data, Camera camera) {
    preview.setVisibility(View.GONE);
    ImageView iv2 = (ImageView)findViewById(R.id.iv1);

    // ensure ImageView is visible.
    iv2.setVisibility( View.VISIBLE);

    Bitmap bMap = BitmapFactory.decodeByteArray(data, 0, data.length);
    iv2.setImageBitmap(bMap);           
} 
```

只需使用上面修改过的代码。

# ruby-on-rails - 有没有办法从 rspec 代码的每一行中删除主题？

> ID：16008366
> 
> 赞同：0
> 
> 时间：2013-04-15T05:46:04.813
> 
> 标签：ruby-on-rails, rspec, ruby-on-rails-3.2

我想从每一行中删除主题，这使我的规范过于冗长，

我的模型有以下代码：-

描述“#clone_for_resubmit”做

```
let(:new_item) { @order_item1.clone_for_resubmit(:cart_group => @cart_group, :cloned_collections => { }, :order => @cart_group.order, :message => "this is just for testing purpose", :receiver => "example@example.com", :sender =>"ragarwal@kreeti.com" ) }
subject{ new_item}
it "should clone an order_item" do
  gift = FactoryGirl.create(:gift, :order_item_id => @order_item1.id, :user => @user)
 subject.cart_group.should == @cart_group
  subject.collection.name.should == @order_item1.collection.name
  subject.collection.book.title.should == @order_item1.collection.book.title
  subject.collection.user.should == @order_item1.collection.user
  subject.collection.book.book_chapters.count.should == @order_item1.collection.book.book_chapters.count
  subject.collection.book.book_chapters.last.chapter_title.should == @order_item1.collection.book.book_chapters.last.chapter_title
  subject.collection.items.last.user_recipe.recipe.name.should == @order_item1.collection.items.last.user_recipe.recipe.name
 subject.collection.book.book_chapters.last.items.last.user_recipe.recipe.name.should == @order_item1.collection.book.book_chapters.last.items.last.user_recipe.recipe.name
  subject.gift.recipient_email.should == gift.recipient_email
  subject.gift.message.should == "this is just for testing purpose"
  subject.gift.receiver.should == "example@example.com"
  subject.gift.sender.should == "ragajhk@vy.com"
  subject.payment.payment_amount.should == @order_item1.payment.payment_amount
  subject.payment.order.should == @cart_group.order
end 
```

结尾

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T13:22:35.433

David Chelimsky 将[“主题”的隐式使用描述为代码气味](http://blog.davidchelimsky.net/2012/05/13/spec-smell-explicit-use-of-subject/)，因此您想要摆脱它是正确的。但是，您的`it`块做得太多，无论如何都会极大地影响规范的可读性-为了使其更具可读性，我建议您执行以下操作：

```
describe Order do
  describe '#clone_for_resubmit' do
    before do
      # @user = ...
      # @order_item1 = ...          
      # @cart_group = ...          
      @new_item = @order_item1.clone_for_resubmit(:cart_group         => @cart_group,
                                                  :cloned_collections => { },                                                      
                                                  :order              => @cart_group.order,
                                                  :message            => "this is just for testing purpose",
                                                  :receiver           => "example@example.com",
                                                  :sender             =>"ragarwal@kreeti.com" ) }

      @gift = FactoryGirl.create(:gift, :order_item_id => @order_item1.id, :user => @user)
    end

    it 'should use the correct cart group' do
      @new_item.cart_group.should == @cart_group
    end

    it 'should use the correct collection name' do
      @new_item.collection.name.should == @order_item1.collection.name
    end

    it 'should use the correct book title' do
      # etc...
    end
  end
end 
```

这样，您不仅会有更多可读的规范，而且它们也会更好地失败 - 如果出现问题，其他的仍然是绿色的。

# java - 为什么显示“方法 getPreferenceOnScreen 已被贬低”？

> ID：16008368
> 
> 赞同：0
> 
> 时间：2013-04-15T05:46:24.020
> 
> 标签：java, android, sharedpreferences, android-preferences

我正在开发一个简单的安卓应用程序。我通过下面给出的方法设置了偏好 -

```
public void updateSummaries() {
    getPreferenceScreen().findPreference(PREF_SIP_DOMAIN).setSummary(settings.getString(PREF_SIP_DOMAIN, DEFAULT_SIP_DOMAIN));
    getPreferenceScreen().findPreference(PREF_SIP_PROXY).setSummary(settings.getString(PREF_SIP_PROXY, DEFAULT_SIP_PROXY));
    getPreferenceScreen().findPreference(PREF_SIP_PROXY_PORT).setSummary(settings.getString(PREF_SIP_PROXY_PORT, DEFAULT_SIP_PROXY_PORT));
    getPreferenceScreen().findPreference(PREF_STUN_UDP).setSummary(settings.getString(PREF_STUN_UDP, DEFAULT_STUN_UDP));
    getPreferenceScreen().findPreference(PREF_STUN_UDP_PORT).setSummary(settings.getString(PREF_STUN_UDP_PORT, DEFAULT_STUN_UDP_PORT));
    getPreferenceScreen().findPreference(PREF_STUN_TCP).setSummary(settings.getString(PREF_STUN_TCP, DEFAULT_STUN_TCP));
    getPreferenceScreen().findPreference(PREF_STUN_TCP_PORT).setSummary(settings.getString(PREF_STUN_TCP_PORT, DEFAULT_STUN_TCP_PORT));
    getPreferenceScreen().findPreference(PREF_TURN_UDP).setSummary(settings.getString(PREF_TURN_UDP, DEFAULT_TURN_UDP));
    getPreferenceScreen().findPreference(PREF_TURN_UDP_PORT).setSummary(settings.getString(PREF_TURN_UDP_PORT, DEFAULT_TURN_UDP_PORT));
    getPreferenceScreen().findPreference(PREF_TURN_TCP).setSummary(settings.getString(PREF_TURN_TCP, DEFAULT_TURN_TCP));
    getPreferenceScreen().findPreference(PREF_TURN_TCP_PORT).setSummary(settings.getString(PREF_TURN_TCP_PORT, DEFAULT_TURN_TCP_PORT));
    getPreferenceScreen().findPreference(PREF_TCP_MODE).setSummary(settings.getString(PREF_TCP_MODE, DEFAULT_TCP_MODE));
    getPreferenceScreen().findPreference(PREF_AFE_MODE).setSummary(settings.getString(PREF_AFE_MODE, DEFAULT_AFE_MODE));
    getPreferenceScreen().findPreference(PREF_BWM_MODE).setSummary(settings.getString(PREF_BWM_MODE, DEFAULT_BWM_MODE));
    getPreferenceScreen().findPreference(PREF_HTTP_PROXY).setSummary(settings.getString(PREF_HTTP_PROXY, DEFAULT_HTTP_PROXY));
    getPreferenceScreen().findPreference(PREF_HTTP_PROXY_PORT).setSummary(settings.getString(PREF_HTTP_PROXY_PORT, DEFAULT_HTTP_PROXY_PORT));
    getPreferenceScreen().findPreference(PREF_HTTP_DOMAIN).setSummary(settings.getString(PREF_HTTP_DOMAIN, DEFAULT_HTTP_DOMAIN));
    getPreferenceScreen().findPreference(PREF_TURN_USERNAME).setSummary(settings.getString(PREF_TURN_USERNAME, DEFAULT_TURN_USERNAME));
    getPreferenceScreen().findPreference(PREF_TURN_PASSWORD).setSummary(settings.getString(PREF_TURN_PASSWORD, DEFAULT_TURN_PASSWORD));
    getPreferenceScreen().findPreference(PREF_HTTP_PROXY_USERNAME).setSummary(settings.getString(PREF_HTTP_PROXY_USERNAME, DEFAULT_HTTP_PROXY_USERNAME));
    getPreferenceScreen().findPreference(PREF_HTTP_PROXY_PASSWORD).setSummary(settings.getString(PREF_HTTP_PROXY_PASSWORD, DEFAULT_HTTP_PROXY_PASSWORD));
    getPreferenceScreen().findPreference(PREF_TRANSPORT_MODE).setSummary(settings.getString(PREF_TRANSPORT_MODE, DEFAULT_TRANSPORT_MODE));
    getPreferenceScreen().findPreference(PREF_AUTO_ANSWER).setSummary(settings.getString(PREF_AUTO_ANSWER, DEFAULT_AUTO_ANSWER));
    } 
```

但是这里显示了警告消息，有时我没有在设置页面上设置任何首选项。谁能告诉我这个问题的根本原因是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:48:48.353

有人使用`@Deprecated`注释弃用了该方法，因为他们认为不应再使用它。您应该找到声明该方法的位置并阅读下面的文档（`@deprecated`如果提供），或者找到组织中管理该方法的人以找出他们建议的替代方案。

**编辑：**我很抱歉，没有意识到这是一个 Android 片段。请参阅另一个用户提出的[android - getPreferenceScreen问题。](https://stackoverflow.com/questions/14416561/getpreferencescreen)他们建议您应该`getPreferenceManager()`改用。

像这样：

```
getPreferenceManager().findPreference("keep").setEnabled(true); 
```

# c# - 开发 Sharepoint Windows 窗体

> ID：16008369
> 
> 赞同：1
> 
> 时间：2013-04-15T05:46:40.120
> 
> 标签：c#, windows-7, sharepoint-2010, system-tray, windows-applications

我们希望为我们的 SharePoint 用户提供一个托盘窗口应用程序，他们无法使用 ms-access 视图或 SharePoint 工作区......（该程序应该通过我们的自定义警报提醒人员，他们希望为这些最终用户定制小型用户界面。）

我使用这篇[文章](http://www.codeproject.com/Tips/566370/Developing-Sharepoint-Windows-Forms)和这篇[文章](https://sharepoint.stackexchange.com/q/49016/5170)，并为这个解决方案的可行性编写了一个简单的代码。但是在构建之后，这个客户端应用程序似乎只能在那个开发服务器上工作。

我们在 Windows 7 上试用它，经过 24 次它需要如下列表所示的 dll。

```
Microsoft.BusinessData.dll
Microsoft.HtmlTrans.Interface.dll
Microsoft.IdentityModel.dll
Microsoft.Internal.Mime.dll
Microsoft.SharePoint.AdministrationOperation.dll
Microsoft.SharePoint.Client.dll
Microsoft.SharePoint.Client.Runtime.dll
Microsoft.SharePoint.Client.ServerRuntime.dll
Microsoft.SharePoint.Diagnostics.dll
Microsoft.SharePoint.dll
Microsoft.SharePoint.Dsp.dll
Microsoft.SharePoint.Library.dll
Microsoft.SharePoint.PowerShell.dll
Microsoft.Sharepoint.Sandbox.dll
Microsoft.SharePoint.Search.dll
Microsoft.SharePoint.Security.dll
Microsoft.SharePoint.xml
Microsoft.Web.Administration.dll
Microsoft.Web.CommandUI.dll
Microsoft.Web.Design.Server.dll 
```

还有另一个dll。

```
Microsoft.sharepoint.intl.dll

Microsoft.SharePoint.CoreResource 
```

'Microsoft.SharePoint.CoreResource 在 windows 2008 sharepoint 2010 开发服务器中不存在。

我知道这不是部署它的标准方式，我想了解更多并简要介绍在客户端上部署和开发它的标准方式。

我知道我的服务器应该有 sharepoint 2010 64 位，但我的客户端是 windows 7 32-bt。这是我的问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T12:20:16.117

如果您在非 SharePoint 服务器上运行应用程序，则不能使用服务器对象模型，只能使用客户端对象模型。服务器对象模型仅适用于服务器。

请查看[第二个链接](https://sharepoint.stackexchange.com/questions/49016/windows-forms-application-how-to-connect-to-fba-site) 您只需参考 Microsoft.SharePoint.Client DLL。

# javascript - 自动填充量

> ID：16008377
> 
> 赞同：5
> 
> 时间：2013-04-15T05:47:47.150
> 
> 标签：javascript, jquery

我有这个拆分功能，我可以通过单击按钮添加更多字段。我的问题是如果我添加一个字段，如果我删除该字段，我将无法获得确切的金额并返回金额。

**示例场景：**

![在此处输入图像描述](https://i.stack.imgur.com/eyz8k.png)

上图显示了初始金额**-1,000.50**。现在这些是我的问题。

![在此处输入图像描述](https://i.stack.imgur.com/Wb6OP.png)

1.  我输入`50`第一个字段的金额，结果`Payee: 1 [-950.50]`为收款人的剩余金额。当我添加另一个字段时，它会自动填写金额，我希望`-950.50`这是剩余的金额。但我得到的是`-1,000.50`第二个字段中的初始金额。**如何获取更新后的余额？**

2.  如果我删除添加的字段，我想添加回金额。例如。如果该字段具有`50`且剩余金额为`-950.50`. 如果我删除包含金额的字段， `50`则必须将其添加回剩余金额中，它将是`-1,000.50`. **如何补回金额？**

这是我尝试过的：

**拆分.html**

```
<table id="dataTable" class="calendar fluid" data-calendar-options='{"maxHeight":70}'"
    <caption> Payee: 1 
        [<span id="remaining">-1,000.50</span>]
    </caption>

    <tbody>
        <tr>
            <td class="week-end" id="p_scents"><br/>
                *Note: Amount totals must equal transaction total and envelopes must be specified to 
                       enable the split button.<br/><br/>

                <p class="button-height">
                    <span class="input">
                        <label class="button orange-gradient">Envelope #1</label>

                        <select name="env[]" class="envelope select compact">
                            <option value="none">(Select)</option>

                            <optgroup label="Category">
                                <option value="1">Internet</option>
                                <option value="2">Savings</option>
                            </optgroup>
                        </select>

                        <input type="text" name="amt[]" placeholder="0.00" size="10" 
                            id="validation-required" class="input-unstyled input-sep validate[required]"
                            onkeyup="calculate(0)">

                        <input type="text" name="note[]" placeholder="note" class="input-unstyled" id="note">
                    </span>

                    <span class="with-tooltip">
                        <img src="{{STATIC_URL}}img/icons/tick.png" title="Default">
                    </span>
                </p><br/>
            </td>
        </tr>
    </tbody>

    <tfoot>
        <tr>
            <td>
                <a href="javascript:{}" id="addScnt" class="button orange-gradient icon-plus-round">
                    Another Envelope
                </a>
            </td>
        </tr>
    </tfoot>
</table>

<script>
    function calculate(difference) {
        var sum = 0;
        $(":text").each(function() {
            amt = replaceCommaDollar(this.value);
            if(!isNaN(amt) && amt.length!=0) {
                sum += parseFloat(amt);
                total = sum;
                difference = -1,000.50 + total                                  
            }
        });

        $("#remaining").html(numberWithCommas(difference.toFixed(2)));

        if(difference == 0){
            $("#split").html("<button type='submit' class='button orange-gradient'>Split Amount</button>");
        }else{
            $("#split").html("<button type='submit' class='button orange-gradient' disabled='disabled'>Split Amount</button>");
        }
    }

    $(function() {
        var scntDiv = $('#p_scents');
        var i = $('#p_scents p').size() + 1;
        var remain_amount = Math.abs(replaceCommaDollar($("#remaining").text())).toFixed(2);

        $('#addScnt').live('click', function() {  
            $('<p class="button-height">'+
              ' <span class="input">'+
              '     <label class="button orange-gradient">' + 'Envelope #' + i + '</label>' +
              '     <select name="env[]" class="envelope select compact">'+
              '         <option value="none" selected="selected">(Select)</option>' +
              '         <optgroup label="Category">' +
              '             <option value="1">Internet</option>' +
              '             <option value="2">Savings</option>' +
              '         </optgroup>' +
              '     </select>' +
              '    <input type="text" name="amt[]" id="split-amount' + i + '" placeholder="0.00" size="10" class="input-unstyled input-sep" onkeyup="calculate(0)" value="'+ remain_amount +'">'+
              '    <input type="text" name="note[]" placeholder="note" class="input-unstyled">'+
              ' </span>'+
              ' <a href="javascript:{}" id="remScnt" class="with-tooltip">Remove</a></p><br/\>'
              ).appendTo(scntDiv);

             $("#remaining").html('0.00');
             $("#split").html("<button type='submit' class='button orange-gradient'>Split Amount</button>");

             i++;
             return false;
        });

        $('#remScnt').live('click', function() {
            if( i > 2 ) {
                test = $('#split-amount'+i).val();
                alert(test);

                $(this).parents('p').remove();

                i--;
            }

            return false;
        });
    });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T17:31:57.127

1.  **如何获取更新后的余额？**您正在计算`remain_amount`准备好的文档，而不是单击添加按钮时。您需要在点击处理程序中移动它的计算`#addScnt`。只需将其作为该函数的第一行，它就会相应地重新计算。

2.  **如何补回金额？**我们可以通过从要删除的输入字段中读取值来做到这一点。这是修改后的删除点击处理程序来演示。

    ```
    $('#remScnt').live('click', function() {
        // Might not need the if statement
        if (i > 2) {
            //test = $('#split-amount' + i).val();
            //alert(test);

            var $p = $(this).parents('p');

            // Consider this approach to getting the removed value
            var textValue = $p.find('input[name="amt[]"]').val();
            var numValue = replaceCommaDollar(textValue);

            var $remaining = $("#remaining");
            var remainingValue = replaceCommaDollar($remaining.text());
            var difference = remainingValue - numValue;

            var newRemainingValue = numberWithCommas(difference.toFixed(2)))
            $("#remaining").text(newRemainingValue);

            $p.remove();

            // This might not be needed anymore
            i--;
        }

        return false;
    }); 
    ```

`i`请注意，鉴于我获取删除值的方法，除非您有其他工作要做，否则您可能可以摆脱涉及的逻辑。考虑根据要删除的元素搜索 DOM。这可能执行起来较慢，但并非不合理*。*这是您的选择，无论哪种方式都应该无关紧要。我认为我的建议更容易维护，如果我要优化，该页面的其他方面值得更多关注。

我还建议将来创建一个功能性 jsFiddle，使用功能性示例可以更容易地测试和解决您的问题。我尝试创建一个，但我不得不大幅更改 HTML 和 JavaScript，因为您提供的源代码中缺少 JavaScript 函数。

我希望这会有所帮助！请随时就我的回答提出任何问题，但请不要扩大您原始问题的范围。

# vba - Excel宏在一列中搜索多个网址

> ID：16008380
> 
> 赞同：1
> 
> 时间：2013-04-15T05:48:00.403
> 
> 标签：vba, excel

我有一个包含 27 列的工作表（Sheet2），第一行是列标题，它们是 AZ 和 NUM，共 27 列。每列都有一个非常长的受限 url 列表，按列的字母排序，最后（第 27 列）用于以数字开头的 url。列的长度在 300-60 万个单元格之间。

我一直在寻找的是一个宏脚本，它将检查 col A Sheet1 中所有新添加的 url，以确定它们是否存在于 Sheet2 中，从而将每个 url 标记为“已经存在”或“待添加”，类似于：

表 1

```
Col(A)          Col(B)
badsite1.com    already exist
badsite2.com    already exist
badsite3.com    to be added
badsite4.con    to be added
badsite5.com    already exist 
```

因此，在为该 url 运行另一个在线测试后，“待添加”的 url 将被添加到 Sheet2 中。

令人惊讶的是，我发现以下脚本（错过了它的源代码）在应用一些小的修改后完全符合我的要求：

```
Sub x()

Dim rFind As Range, sFind As Range, sAddr As String, ws As Worksheet, rng As Range, ms     As Worksheet
Application.ScreenUpdating = 0
Set ws = Sheets("Sheet2")
Set ms = Sheets("Sheet1")
ms.Range("B2:B" & Rows.Count).ClearContents
Set rng = ms.Range("A2:A" & Cells(Rows.Count, 1).End(xlUp).Row)

For Each sFind In rng
    With ws.UsedRange
        Set rFind = .Find(sFind, .Cells(.Cells.Count), xlValues, xlPart)
        If Not rFind Is Nothing Then
            sAddr = rFind.Address
            Do
                sFind.Offset(, 1) = rFind.Address
                sFind.Font.Color = -16776961
                Set rFind = .FindNext(rFind)
            Loop While rFind.Address <> sAddr
            sAddr = ""
            Else
            sFind.Offset(, 1) = "No Found"
            sFind.Offset(, 1).Font.Color = -16776961
        End If
    End With
Next
Set ms = Nothing
Set ws = Nothing
Set rng = Nothing
Set rFind = Nothing
Application.ScreenUpdating = True
End Sub 
```

使用一小部分 url（例如 5-10）运行这个脚本非常棒。Sheet1 col-A 中的列表较长，Sheet2 中的列表像我的一样长，这个脚本是“乌龟”，检查 167 个 url 的列表需要一个多小时！

这个脚本可以修改为“兔子”吗？:)

高度赞赏在这方面提供的任何帮助。

像往常一样..提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:36:56.990

试试这个 - 在 Excel 2010 中测试：

```
Sub x()

Dim rFind As Range, sFind As Range, sAddr As String, ws As Worksheet
Dim rng As Range, ms As Worksheet, s As String
Application.ScreenUpdating = False
'stop calculation
Application.Calculation = xlCalculationManual
Set ws = Sheets("Sheet2")
Set ms = Sheets("Sheet1")
ms.Range("B2:B" & ms.Rows.Count).ClearContents
ms.Range("A2:B" & ms.Rows.Count).Font.Color = 0
Set rng = ms.Range("A2:A" & ms.Cells(ms.Rows.Count, 1).End(xlUp).Row)

For Each sFind In rng
    'get first character of url
    s = Left(sFind, 1)
    'resort to column aa if not a a to z
    If Asc(UCase(s)) < 65 Or Asc(UCase(s)) > 90 Then s = "AA"
    'only look in appropriate column
    Set rFind = ws.Columns(s).Find(sFind, , xlValues, xlPart, xlByRows, xlPrevious)
    If Not rFind Is Nothing Then
        'only look once and save that cell ref
        sFind.Offset(, 1) = rFind.Address
        sFind.Font.Color = -16776961
    Else
        'if not found put default string
        sFind.Offset(, 1) = "No Found"
        sFind.Offset(, 1).Font.Color = -16776961
    End If
Next
Set ms = Nothing
Set ws = Nothing
Set rng = Nothing
Set rFind = Nothing
'enable calculation
Application.Calculation = xlCalculationAutomatic
Application.ScreenUpdating = True
End Sub 
```

![在此处输入图像描述](https://i.stack.imgur.com/TxKGy.jpg)

**非 VBA - 在 Excel 2010 上测试：**

```
=IFERROR(VLOOKUP(A2, INDIRECT("Sheet2!" & IF(OR(CODE(UPPER(LEFT(A2, 1)))<65,
    CODE(UPPER(LEFT(A2, 1)))>90), "AA:AA", LEFT(A2, 1)&":"& LEFT(A2, 1))), 1, FALSE), 
    "Not Found") 
```

# c# - 使用 form.submit() 时出错

> ID：16008383
> 
> 赞同：9
> 
> 时间：2013-04-15T05:48:18.077
> 
> 标签：c#, jquery, asp.net, .net, extjs4.1

我们正在使用`extjs and webapi(C#)`我们的应用程序。我的表单有一个`fileupload`控件。我们`form.sumbit()`在extjs中使用的时候，是不会去success函数的。

**WebAPI 代码：**

```
bool SaveData(Employee obj)
{
     return true;
} 
```

**extjs 代码：**

```
form.submit( {
               url: '../api/Empcontroller/SaveData',
               method: 'POST',
               headers: {
               'Content-Type': 'application/json'
                         },
               success: function ( fp, o )
               {

               },
               failure: function ( fp, o )
               {

               }
            } ); 
```

我在所有浏览器中都得到了正确的响应。在`Chrome`它走向成功，但在`Firefox its not.`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-19T23:33:45.157

尝试像这样添加 dataType 参数：

```
form.submit({
   url: '../api/Empcontroller/SaveData',
   method: 'POST',
   headers: {
       'Content-Type': 'application/json'
   },
   dataType: 'json',
   success: function (fp, o) {

   },
   failure: function (fp, o) {

   }
}); 
```

我也看到它是这样做的：（将**json_data_here**替换为您需要发送的任何数据）

```
form.submit(Ext.Ajax.request({    
    url: '/../api/Empcontroller/SaveData',
    method: 'GET',
    jsonData: json_data_here,
    headers: {'Content-Type' : 'application/json' , 'Accept' : 'application/json'}
})); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-25T06:03:23.893

嗯。奇怪的。我想我发现了这个错误。当我将“异步”状态设置为“假”以告诉脚本等待服务器请求的回复时，FireFox 不喜欢它。

所以而不是 http.open("GET", destURL, true); 我正在使用 http.open("GET", destURL, false);

[Firefox 不接受“false”上的异步选项](http://forums.codeguru.com/showthread.php?370372-AJAX-does-not-work-with-FireFox)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-23T21:03:29.117

试试这个：

```
form.submit( function(){
    url: '../api/Empcontroller/SaveData',method: 'POST',
    headers: {'Content-Type': 'application/json'},
    success: function (fp, o ){},
    failure: function (fp, o ){}
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-22T11:45:14.230

我不确定这是否是问题所在。但是文件上传不需要 enctype 尝试使用

```
enctype = multipart/form-data 
```

这可能会有所帮助

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-23T13:05:18.857

尝试在提交中添加匿名函数而不是 json：

```
form.submit( function(){
               url: '../api/Empcontroller/SaveData',
               method: 'POST',
               headers: {
               'Content-Type': 'application/json'
                         },
               success: function ( fp, o )
               {

               },
               failure: function ( fp, o )
               {

               }
            } ); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-19T18:33:42.083

似乎有一个 FireFox 错误，它可以插入内容类型......

[JQuery - Firefox 中的 $.ajax ContentType 问题](https://stackoverflow.com/questions/7179855/jquery-ajax-contenttype-problem-in-firefox)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-08-08T13:54:28.923

使用下面的代码。

```
form.submit( {
               url: '../api/Empcontroller/SaveData',
               method: 'POST',
               headers: {
               'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
                         },
               success: function ( fp, o )
               {

               },
               failure: function ( fp, o )
               {

               }
            } ); 
```

我只是更改了内容类型。

# actionscript-3 - 从 mxml 重定向到另一个 mxml

> ID：16008384
> 
> 赞同：0
> 
> 时间：2013-04-15T05:48:24.960
> 
> 标签：actionscript-3, apache-flex, flex3

我对 Flex & Action 脚本非常陌生，这是我的要求：

如果用户单击登录按钮（在 login.mxml 上），它会重定向到我的项目中已经实现的 success.mxml 页面。根据新要求，如果由于密码过期而导致登录失败，我需要重定向到其他一些 mxml (changepassword.mxml) 页面。

请告诉我，如何根据条件（成功/失败）将 mxml 重定向到另一个 mxml 页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T04:41:15.570

单击以下链接并查看如何从一个 mxml 重定向到另一个 mxml

[http://bkissuesolver.blogspot.in/2013/05/redirect-from-one-mxml-to-another-mxml.html](http://bkissuesolver.blogspot.in/2013/05/redirect-from-one-mxml-to-another-mxml.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T13:01:52.717

您需要使用 ViewStack 组件来实现这一点。应用程序的 onLoad 设置 viewStack selectedIndex = 0; 如果登录成功则更改为 selectedIndex = 1; 否则如果失败则更改为 selectedIndex = 2; 就像这是你的标签。（Login 是您的主要登录表单 mxml。而 LoginSuccess 和 LoginFailure 是另一个 mxml 文件）

`<mx:ViewStack id="myViewStack" selectedIndex="0" historyManagementEnabled="false"> <login:Login id="loginMxml" horizontalCenter="0" verticalCenter="0" > </login:Login> <login:LoginSuccess id="loginSuccess"> </login:LoginSuccess> <login:LoginFailure id="loginFailure"/> </login:LoginFailure> </mx:ViewStack>`

在行动脚本

`if(login == "success"){ myViewStack.selectedIndex = 1; }else if(login == "failure"){ myViewStack.selectedIndex = 2; }`

# ruby-on-rails - 视图中的模型方法

> ID：16008386
> 
> 赞同：1
> 
> 时间：2013-04-15T05:48:30.247
> 
> 标签：ruby-on-rails, ruby, caching, activerecord

在我看来，我有以下代码：

```
<% if @user.get_products.any? %>
  <%= f.select('products', @user.get_products.collect { |user| [user.name, user.id]}) %> 
```

在哪里对 DB`get_products`进行查询。`ActiveRecord`所以我想知道它是否真的执行两个相同的查询或在第二次调用时使用第一个查询的缓存结果？我试图在服务器日志中检查它 - 但什么也没找到。我还想知道我是否可以以某种方式控制这种行为，即为此视图设置/取消设置缓存。

谢谢！

**更新：**

我认为它也违反了 MVC，但让我感到困惑的是 IDE 警告：“视图不应与控制器共享两个以上的变量。”

但是，我正在创建有点“单页”的网站，所以我需要在同一个视图中拥有`@user`、`@nearest_users`和。`@user_products`所以我找到了以下文章： http:
[//matthewpaulmoore.com/post/5190436725/ruby-on-rails-code-quality-checklist#instances](http://matthewpaulmoore.com/post/5190436725/ruby-on-rails-code-quality-checklist#instances)

其中说

> 每个控制器和视图之间只共享一个或两个实例变量。
> 
> 实例变量地狱 - 当控制器和视图之间共享大量实例变量时 - 在 Rails 中很容易做到。这对性能也有潜在的危险，因为您最终可能会在不知不觉中对关联进行重复调用。相反，您的控制器应该只管理一个实例变量 - 可能还有第二个用于 current_user。这样，所有对关联的调用都是“按需”加载的，并且可以在一个地方缓存实例变量。
> 
> 这种方法也适用于片段缓存，因为您可以在实际加载关联之前检查视图中的缓存。
> 
> 例如，不要让您的博客控制器为@post 和@related_posts 创建一个实例变量，只需创建一个方法@post，并为您的帖子模型提供一个related_posts 方法，这样您就可以在您的意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:23:43.770

回答您的问题：**视图中的查询不会被缓存。**

此外，ERB 模板中的 Ruby 代码是使用 执行的`eval`，效率非常低。

所以我的建议是：避免在视图中编写逻辑，这是一种不好的做法。

# asp.net-mvc - 如何在 asp.net mvc 中将 ViewData 值分配为 div id

> ID：16008388
> 
> 赞同：0
> 
> 时间：2013-04-15T05:48:37.357
> 
> 标签：asp.net-mvc, viewdata

嗨朋友帮我摆脱这个..

```
//controller
{
ViewData["idvalue"]="id"+1;
return View();
}
// Viewpage

<div id="?? "> id has to set as id1.. 
```

帮帮我，我如何将 div id 设置为 id1 ..？

提前致谢。

问候，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T05:57:48.590

利用

```
//controller
{
  ViewData["idvalue"] ="id1";
  return View();
}
// Viewpage

<div id='@ViewData["idvalue"]'> 
```

但是，我建议使用[`ViewBag`](https://docs.microsoft.com/en-us/dotnet/api/system.web.mvc.controllerbase.viewbag)而不是`ViewData`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T05:55:06.977

```
{
ViewBag.idvalue ="id1";
return View();
}
// Viewpage

<div id='@ViewBag.idvalue'> 
```

我建议改用 ViewBag。它只是 ViewData 的一个更好的包装器

# c# - 无法在 c# 中打开 excel 文件以获取不同格式的扩展名错误

> ID：16008393
> 
> 赞同：0
> 
> 时间：2013-04-15T05:49:07.237
> 
> 标签：c#, .net, excel

无法在 c# 中打开 excel 文件，因为您尝试以与指定文件扩展名不同的格式打开的文件。在打开文件之前，请确认文件没有损坏并且来自受信任的来源。您现在要打开文件吗？

```
 private void button1_Click(object sender, EventArgs e)
        {
            string fileName = Directory.GetCurrentDirectory();
            fileName += "\\" + textBox1.Text + ".xls";

            var connectionString = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + fileName + ";Extended Properties=\"Excel 12.0;IMEX=1;HDR=NO;TypeGuessRows=0;ImportMixedTypes=Text\"";
            var conn = new OleDbConnection(connectionString);
            conn.Open();

            var sheets = conn.GetOleDbSchemaTable(System.Data.OleDb.OleDbSchemaGuid.Tables, new object[] { null, null, null, "TABLE" });
            var cmd = conn.CreateCommand();

            ///////////////////////     sheet 1
            cmd.CommandText = "SELECT * FROM [" + sheets.Rows[0]["TABLE_NAME"].ToString() + "] ";
            var adapter = new OleDbDataAdapter(cmd);
            var ds = new DataSet();
            adapter.Fill(ds);
            DataTable dt = new DataTable();
            dt = ds.Tables[0];
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:52:11.823

这是因为该文件实际上只是一个带有 XLS 扩展名的 CSV 文件，以便在 Excel 中打开它。

它发生在新版本的 Excel 中。年长的人会很高兴地出口它们。

有关详细信息，请参阅此 Microsoft 文档：

[http://support.microsoft.com/kb/948615](http://support.microsoft.com/kb/948615)

一种选择是简单地将文件名重命名为 .csv，并保持用户界面说它是一个 Excel 文件（Excel 很乐意读取 csv 文件）。鉴于 Windows 倾向于隐藏文件扩展名，这似乎是一个相当有吸引力的选择。

**编辑**

“外部表不是预期的格式。” 通常在尝试使用带有以下连接字符串的 Excel 2007 文件时发生：Microsoft.Jet.OLEDB.4.0 和 Extended Properties=Excel 8.0

经过：

[Excel“外部表格不是预期的格式。”](https://stackoverflow.com/questions/1139390/excel-external-table-is-not-in-the-expected-format)

希望它有帮助。

# silverlight - Firefox 和 chrome 上的 Silverlight 问题

> ID：16008397
> 
> 赞同：0
> 
> 时间：2013-04-15T05:49:52.120
> 
> 标签：silverlight

我在 IIS 6.0 的虚拟目录中托管了一个 wmv 文件。

当我们使用 Silverlight 播放器使用 IE 流和缓冲播放这部电影时，它可以工作，但是当我在 Firefox 中打开同一部电影时，该电影无法播放。

我只是想知道与浏览器相关的silverlight是否有一些特定的东西应该处理

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:04:24.423

我认为原因是某些浏览器对 mime 类型的行为不同。 [http://msdn.microsoft.com/en-us/library/system.windows.controls.mediaelement.mediafailed(v=vs.95).aspx](http://msdn.microsoft.com/en-us/library/system.windows.controls.mediaelement.mediafailed(v=vs.95).aspx)

如果它是您的应用程序，请注册媒体元素的 MediaFailed 事件。这可能会显示更多细节。也许不是像我以前遇到的那样流式传输返回给您的页面或消息。

```
<MediaElement MediaFailed="eventhandler" .../> 
```

# c++ - jenkins如何发布测试结果报告？

> ID：16008398
> 
> 赞同：2
> 
> 时间：2013-04-15T05:49:59.730
> 
> 标签：c++, jenkins, googletest

我想通过 xunit 插件发布通过 jenkins 中的 google cpp 测试工具生成的 xml 格式的测试报告。在配置插件时，我们必须指定模式。任何人都可以帮助在这个模式中写什么，因为如果我配置任何它会给出这个错误

**

```
[xUnit] [INFO] - [JUnit] - No test report file(s) were found with the pattern 'C:\Users\20040922\.jenkins\workspace\firstreport.xml' relative to 'C:\Users\20040922\.jenkins\jobs\jessy\workspace' for the testing framework 'JUnit'.  Did you enter a pattern relative to the correct directory?  Did you generate the result report(s) for 'JUnit'?
[xUnit] [ERROR] - No test reports found for the metric 'JUnit' with the resolved pattern 'C:\Users\20040922\.jenkins\workspace\firstreport.xml'. Configuration error?.
[xUnit] [INFO] - Setting the build status to FAILURE
[xUnit] [INFO] - Stopping recording.
Build step 'Publish xUnit test result report' changed build result to FAILURE
Finished: FAILURE 
```

**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T12:37:53.830

为了配置非 java 工具，我们必须使用 xunit 插件。在模式中，我们可以指定 *** */*.xml，它将在当前作业的工作区文件夹中搜索文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-21T03:28:11.500

我正在使用谷歌测试和 JUnit 测试结果报告。

要发布它的报告，发布的 *.xml 文件的*修改日期*需要更新。下面的代码是我的做法，它适用于 Windows Server

```
 GOOGLE_TEST.exe --gtest_output=xml 
    copy /b test_detail.xml+,, 
```

在 Linux 或 Mac 中，您可能需要执行`touch test_detail.xml`而不是`copy /b test_detail.xml`（我没有尝试过）

# jenkins - 删除插件后詹金斯失踪的工作

> ID：16008400
> 
> 赞同：7
> 
> 时间：2013-04-15T05:50:10.897
> 
> 标签：jenkins, jenkins-plugins, cloudbees

我在 Win 2008 上有一个 Jenkins 服务器（1.510），有大约 100 个工作。安装然后卸载 CloudBees [(Plugin_1](https://wiki.jenkins-ci.org/display/JENKINS/CloudBees+Free+Enterprise+Plugins) , [Plugin_2)](https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+Enterprise+by+CloudBees)插件集 + 重新启动后，我遇到以下问题：

1.  现在有一半的乔布斯失踪了。
2.  许多插件无法正常运行，例如 green-balls 插件无法正常运行，并且缺少启动备份插件的条目
3.  许多内置的 Jenkins 按钮，例如“Jenkins 配置”菜单中缺少新的“凭据”。

看着FS，我仍然看到所有的工作。

我已经尝试过：

1.  使用重载配置
2.  重新安装插件
3.  再次使用相同版本重新安装 Jenkins

仍然缺少工作

知道如何解决吗？

谢谢，

多伦

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T10:30:29.040

加载作业时，许多相关的 Java 类都会被实例化。如果实例化失败，通常是因为某些插件已被删除并且该类根本不再可用，则该作业被隐藏。

我怀疑您也意外删除了其他一些插件。

注意：在实际做任何事情之前，请进行完整备份！最简单的方法是备份整个 Jenkins 文件夹，其中包含作业、配置等。

最简单的解决方案可能是从头开始安装 Jenkins，安装您确实需要的插件（如果您缺少一些插件，请参阅下面的故障排除），然后将`jobs`子文件夹复制到新的 Jenkins。最好`Manage Jenkins`手动进行任何配置，但您也可以尝试复制相关的 XML 配置文件。

如果您缺少一个插件并且无法确定是哪个插件，您应该查看`jenkins.out.log`并`jenkins.err.log`记录文件并搜索 Jenkins 启动后发生的异常。这可能会给你一个关于你缺少什么插件的线索。

您还可以尝试编辑作业 XML 文件以删除您从异常中识别的构建步骤（记得先备份！），然后重新启动 Jenkins 或从*管理 Jenkins*页面选择*从磁盘重新加载配置。*

 *如果没有解决，但您发现相关的异常或其他有趣的东西，请用详细信息更新问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-16T09:39:28.937

在我升级 Jenkins 后，我的一份工作消失了。我发现虽然我的工作目录仍然存在，但`config.xml`里面的文件不知何故丢失了。

在更新了所有需要更新的插件并重新加载配置后，我从备份中恢复了这个文件，并且该工作重新出现在 Jenkins 中。*

# javascript - 用javascript将参数传递给另一个域网站的页面而不打开它

> ID：16008407
> 
> 赞同：-1
> 
> 时间：2013-04-15T05:50:32.340
> 
> 标签：javascript, asp.net

我正在尝试在 .net 中开发一个网站，该网站将生成广告图片。我可以将该图像链接放置在任何网站中。然后我想使用我放置广告的网站的 url 和其他信息来跟踪该图像的查看次数和点击次数。现在我想将 javascript 代码集成到第三方网站，这些网站会自动将他们网站的信息发送到我的域页面，该页面将接受这些值并将保存在数据库中。我如何从 javascript 传递值并在我的域中获取这些值而不在窗口中打开我的域页面。如果有人对此有所了解，请帮助我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:00:05.930

您可以使用 jQuery 的 ajax 方法将信息发送到您的域。该方法看起来像。

```
$.ajax({
    type: "GET",     // GET|POST
    url: remote_url, // your domain url
    async: true,     // set it to false if you want a sync request
    success : function(data) { // you can send back the data processed from your domain back to client side if needed

    }
}); 
```

# ios - 使用 AFNetworking 上传多个文件 - UIViewController 未解除分配

> ID：16008408
> 
> 赞同：0
> 
> 时间：2013-04-15T05:50:41.270
> 
> 标签：ios, objective-c, memory-management, objective-c-blocks, afnetworking

我必须上传多个文件，跟踪它们的进度并订阅完成和失败块，以便在操作结束时显示相关消息。

我编写了自己的 AFHTTPClient 包装器并创建了以下方法。

```
- (void) uploadFiles:(NSArray*)files
                path:(NSString*)path
          parameters:(NSDictionary*)parameters
       progressBlock:(void (^)(NSUInteger bytesWritten, long long totalBytesWritten, long long totalBytesExpectedToWrite))block
             success:(void (^)(AFHTTPRequestOperation *, id))success failure:(void (^)(AFHTTPRequestOperation *, NSError *))failure
{
    NSMutableURLRequest *request =
    [self multipartFormRequestWithMethod:@"POST"
                                    path:path
                              parameters:parameters
               constructingBodyWithBlock:
     ^(id <AFMultipartFormData>formData) {

         for (CRLMultiPartFile *file in files) {
             NSAssert(file.name, @"Name cannot be nil");
             NSAssert(file.file, @"Nothing found to upload");
             NSAssert(file.filename, @"FileName cannot be nil");
             NSAssert(file.mimeType, @"Must set Mime-Type for %@", file.filename);
             [formData appendPartWithFileData:file.file name:file.name fileName:file.filename mimeType:file.typeString];
         }
    }];

    AFHTTPRequestOperation *operation = [[AFHTTPRequestOperation alloc] initWithRequest:request];
    [operation setUploadProgressBlock:block];
    [operation setCompletionBlockWithSuccess:success failure:failure];
    [self enqueueHTTPRequestOperation:operation];
} 
```

调用此方法的视图控制器不会被释放，因此包含的所有图像也会保留在内存中，从而导致内存泄漏并最终导致内存警告。

进行分析表明，在整个操作结束时，视图控制器的 a`refCount`为 1。

当我注释掉上传文件的调用时，一切正常。

这是控制器中的代码。它使用进度块来更新 UI 上的元素。

```
NSMutableDictionary *params = [[NSMutableDictionary alloc] init];
ContactModel *model = (ContactModel*)[self.contacts lastObject];
[params setObject:model.phone forKey:@"receiver"];

__block typeof(self) sSelf = self;

[[JMClient sharedClient] uploadFiles:files
                                path:@"picture_share/"
                          parameters:params
                       progressBlock:^(NSUInteger bytesWritten, long long totalBytesWritten, long long totalBytesExpectedToWrite) {

                           CGFloat progPercent = ceilf(((CGFloat)totalBytesWritten / (CGFloat)totalBytesExpectedToWrite) * 100);

                           CGFloat widthToCut = (progPercent * sSelf.progWidth) / 100;

                           CGRect frame = sSelf.progresViewBG.frame;
                           frame.size.width = (sSelf.progWidth  - widthToCut);
                           frame.origin.x   = (sSelf.progOrigin + widthToCut);
                           sSelf.progresViewBG.frame = frame;

                           sSelf.progLabel.text = [NSString stringWithFormat:@"%i%%", (int)progPercent];

                           frame = sSelf.progTipView.frame;
                           frame.origin.x = (sSelf.progresViewBG.frame.origin.x - frame.size.width/2);
                           sSelf.progTipView.frame = frame;

                           frame = sSelf.progLabel.frame;
                           frame.origin.x = (sSelf.progresViewBG.frame.origin.x - frame.size.width/2);
                           sSelf.progLabel.frame = frame;

                       } success:^(AFHTTPRequestOperation *success, id reponse) {

                           CGRect frame = sSelf.progresViewBG.frame;
                           frame.size.width = 0;
                           frame.origin.x = sSelf.progOrigin;
                           sSelf.progresViewBG.frame = frame;
                           [sSelf.cancelButton setImage:[UIImage imageNamed:@"trnsfr_prgss_complt.png"] forState:UIControlStateNormal];

                           [sSelf performSelector:@selector(hideAwayProgressBars) withObject:nil afterDelay:3];

                       } failure:^(AFHTTPRequestOperation *failure, NSError *error) {

                           [Mediator showMessage:TGLocalizedString(kMessageKeyForUploadingFailed)];
                           [sSelf performSelector:@selector(hideAwayProgressBars) withObject:nil afterDelay:3];

                       }];

self.operation = [[self.client.sharedClient.operationQueue operations] lastObject];

- (void) hideAwayProgressBars
{
    [[NSNotificationCenter defaultCenter] postNotificationName:kNotifcationKeyForPhotoUploadComplete object:nil];
} 
```

通知由父控制器接收，从父视图中删除此控制器的视图并将其设置为 nil。

PS CRLMultiPartFile 是一个自定义类，用于保存要上传的文件的属性

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:55:19.043

如果您使用的是 ARC，则应使用`__weak`而不是`__block`，因此您不会`self`在块内捕获。

# python - python使用iteritems()替换字符串中的某些字母/单词

> ID：16008412
> 
> 赞同：1
> 
> 时间：2013-04-15T05:51:03.350
> 
> 标签：python

所以我有代码可以用其他字母/单词替换字符串中的某些字母/单词

```
c = {"u":"i", "c":"see", "me":"you"}

for a,b in c.iteritems():
        response = response.replace(a,b) 
```

这变成`["u c me"]`但`["i see you"]`
也`["uncalled"]`变成`["inseealled"]`

我只想更改第一个字符串，但保留第二个字符串相同

有没有解决的办法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:00:21.473

```
>>> d = {"u":"i", "c":"see", "me":"you"}
>>> ' '.join(d.get(word, word) for word in "u c me".split())
'i see you'
>>> ' '.join(d.get(word, word) for word in "uncalled".split())
'uncalled' 
```

* * *

```
>>> d = {'me': 'you', 'c': 'see', 'u': 'i', 'are': 'am'}
>>> ' '.join(d.get(word, word) for word in "u are big".split())
'i am big'
>>> ' '.join(d.get(word, word) for word in "unique".split())
'unique' 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-15T06:01:15.103

不完全完美，但如果只有几个你想替换你可以在搜索字母时包含空格，即：

```
b = {"u ":"i", "c ":"see", "me ":"you"," u ":"i", " c ":"see", " me ":"you",
     " u":"i", " c":"see", "me ":"you"} 
```

# asp.net - 使用 jmeter 进行 asp.net 登录测试

> ID：16008413
> 
> 赞同：1
> 
> 时间：2013-04-15T05:51:06.023
> 
> 标签：asp.net, testing, login, jmeter, load-testing

我是 jmeter 工具的新手。我想测试登录到一个 asp.net 网站。但是在网上搜索了2天后我没有成功。

我在下面列出了我遵循的步骤：

1.  添加一个`HTTP Request Defaults`.
2.  添加一个`HTTP Cookie Manager`.
3.  和加两个`Regular Expression Extractor`。`EVENTVALIDATION``VIEWSTATE`
4.  添加 HTTP URL 重写修饰符`ASP.NET_SessionId`（选中`Path Extension`and `Cache Session Id`）。

    ![在此处输入图像描述](https://i.stack.imgur.com/WJYLo.png)

5.  有两页，一是，`Login Get Page`一是`Login POST Page`。在登录帖子页面中，我添加了以下参数：

    *   用户名 ：`realUser`
    *   密码 ：`realPassword`
    *   __VIEWSTATE：`name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="(.+?)"`

    ![在此处输入图像描述](https://i.stack.imgur.com/veVaC.png)

    *   __事件验证：`name="__VIEWSTATE" id="__VIEWSTATE" value="(.+?)"`

    ![在此处输入图像描述](https://i.stack.imgur.com/jNDzl.png)

    *   登录按钮：`Log+In`
6.  添加一个`View Results Tree`.

我已经探索了以下链接，但没有成功。

*   [负载测试-aspnet-with-jmeter.html](http://blog.technicallyworks.com/2009/06/load-testing-aspnet-with-jmeter.html)
*   [负载测试-aspnet-sites-with-jmeter.html](http://blog.technicallyworks.com/2009/06/load-testing-aspnet-sites-with-jmeter.html)
*   [ASPNET 视图状态](http://wiki.apache.org/jmeter/JMeterTesting/ASPNETViewState)
*   [使用 Jmeter 对 ASP.NET Web 应用程序进行负载测试](http://www.qadit.com/blog/?p=1684)

**电流输出：**

![电流输出](https://i.stack.imgur.com/My2nN.png)

我错过了什么？
请有任何建议。

**更新：**

测试计划树结构：

![测试计划树结构](https://i.stack.imgur.com/0oShS.png)

**登录详细信息：** ![在此处输入图像描述](https://i.stack.imgur.com/KWRkw.png)

**登录请求选项卡：** ![在此处输入图像描述](https://i.stack.imgur.com/48H95.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:24:15.400

尝试使用 Jmeter 代理服务器进行录制：

*   [http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf](http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf)

然后添加您描述的所有元素以使所需的内容动态化，Http Url 重写修饰符除外。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-28T11:06:53.523

我们在 jmeter 中获取登录页面时也遇到了此类问题。最终我们让它工作了。需要注意的是：

*   您必须为登录页面创建两个 HTTP 请求采样器，第一个使用 GET 方法。这样视图状态就可以被正则表达式提取器捕获，然后是第二个使用 POST 方法进行登录的提取器。
*   使用 firebug 或任何其他捕获工具来捕获登录页面的 Post，并确保添加所有发布值的控件。如果您忘记了一个参数，那么您的页面将会出错。我们还需要空的 ___VIEWSTATE 参数。请参阅我们的 Post 请求的屏幕截图
*   对于某些页面，我们还必须添加带有空值的参数 __VIEWSTATEENCRYPTED

![登录 http post 请求的屏幕截图](https://i.stack.imgur.com/icduW.png)

# web-services - 集中认证 web2py 应用和 drupal 站点，有可能吗？

> ID：16008414
> 
> 赞同：0
> 
> 时间：2013-04-15T05:51:18.917
> 
> 标签：web-services, drupal, web2py

我正在编写一个 web2py 应用程序来管理需要用户信息的事件和其他活动，例如证书的 ID 和名称，另一方面，有一个已经拥有注册用户的 drupal 站点。

我希望将 drupal 用户分享到我的 web2py 应用程序，这样我就不必在我的应用程序中再次注册用户。

*   已经在 jainrain 和类似工具中考虑过，但我需要的信息已经在 drupal 数据库中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:22:38.527

可以使用基本身份验证模块对另一个支持基本身份验证的 Web 服务器进行身份验证。只需在身份验证初始化后将以下内容添加到您的模型文件中，并将正确的 http 地址替换为您的 Drupal ...

```
from gluon.contrib.login_methods.basic_auth import basic_auth
auth.settings.login_methods.append(
    basic_auth('https://basic.example.com')) 
```

有关详细信息，请参阅文档中的此部分： [其他登录方法和登录表单](http://web2py.com/books/default/chapter/29/09#Other-login-methods-and-login-forms)

# android - 如何强制Android重新索引手机上的所有照片？

> ID：16008419
> 
> 赞同：1
> 
> 时间：2013-04-15T05:51:49.233
> 
> 标签：android, file, photo, android-4.2-jelly-bean

我注意到 Galaxy Nexus 处理照片和文件目录的方式有些奇怪。我创建了它们，但 Android (4.2.2) 在您重新启动之前不知道它们存在。好吧，至少在我的 Nexus 4 上。我正在创建一个应用程序，当拍摄照片并将其存储在图片中时，当您将手机连接到计算机时，它不会显示在图库中，甚至不会显示在我的文件资源管理器中。但是当在手机上使用文件资源管理器时，它会找到它。当我重新启动手机时，它也会出现。这是特定于股票 Android 的吗？我做出这个假设是因为它不会发生在我朋友的 Galaxy S3 上。所以导致我的实际问题，有没有办法强制Android重新索引文件以更新信息而不重新启动？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T05:53:59.743

在 SD 库中保存照片后添加此代码..

```
sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED,
        Uri.parse("file://" + Environment.getExternalStorageDirectory()))); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T05:56:31.897

利用

```
sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED,
 Uri.parse("file://" +  Environment.getExternalStorageDirectory()))); 
```

希望你用过这个：

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

# java - 我的编码中的空指针异常问题

> ID：16008420
> 
> 赞同：0
> 
> 时间：2013-04-15T05:51:49.327
> 
> 标签：java, exception, null, nullpointerexception

我总是在 main 方法中的 validateCarPlate(nStr) 线上和 if(y.matches(rex)) 线上得到 nullPointerException。我应该如何编辑以删除 nullPointerException？

```
import javax.swing.*;
import java.lang.Exception;

public class Q2{
public static void main(String[]args){
boolean loop = true;
while(loop){
   String nStr = JOptionPane.showInputDialog("Enter car plate number: ");
   try{
       validateCarPlate(nStr);
}
catch(InvalidCarPlateException e){
}
}
}
public static void validateCarPlate(String y)throws InvalidCarPlateException{
String rex = "[a-zA-Z]{3}[0-9]{1,4}";
if(y.matches(rex)){
    computeCheckDigit(y);
}else{
    throw new InvalidCarPlateException();
}
}

public static void computeCheckDigit(String x){
char [] arr = new char[x.length()];
for(int i=0; i<x.length();i++){
    arr[i] = x.charAt(i);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:59:41.363

好像

```
String nStr = JOptionPane.showInputDialog("Enter car plate number: "); 
```

这返回空

像这样更改代码

```
public static void main(String[]args){
  boolean loop = true;
  while(loop){
   String nStr = JOptionPane.showInputDialog("Enter car plate number: ");
   if(nStr != null)
   {
     try{
       validateCarPlate(nStr);
        }
     catch(InvalidCarPlateException e){
     }
   }
  }
} 
```

因为，[javadocs](http://docs.oracle.com/javase/6/docs/api/javax/swing/JOptionPane.html#showInputDialog%28java.awt.Component,%20java.lang.Object%29)`JOptionPane#showInputDialog()`说***显示了一个请求用户输入的问题消息对话框，***我想你忘了提供输入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:04:55.540

如果单击`Cancel`按钮，`JOptionPane.showInputDialog`将返回一个`null`. `nStr`您可以在传递给之前检查返回值`validateCarPlate`。如果`null`返回，只需删除它`nStr`并继续循环（或根据您的要求中断它）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T05:59:10.393

像那样改变你的方法

```
public static void validateCarPlate(String y)throws InvalidCarPlateException{
String rex = "[a-zA-Z]{3}[0-9]{1,4}";
if(y == null){
     // put some message to handle that exception such as
     // JOptionPane.showMessageDialog(null,"Some Message");
}else if(y.matches(rex))
    computeCheckDigit(y);
}else{
    throw new InvalidCarPlateException();
}
} 
```

还要放上**computeCheckDigit(y)的代码；**方法。

# google-apps-script - 从 Google Apps 域中的电子邮件中获取用户名？

> ID：16008421
> 
> 赞同：0
> 
> 时间：2013-04-15T05:51:51.823
> 
> 标签：google-apps-script, google-apps

我有一封来自 Google Apps 域的电子邮件。我可以通过进入谷歌应用程序的联系人页面，在“域”下查看域中所有用户的列表。

如果我想从那封电子邮件中获取他们的全名，我该怎么做？我试过用`ContactsApp`没用。我也无法`UserManager`在域工具中使用，因为我无权访问管理工具。

关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T02:01:10.023

您的问题类似于[Google Script How do I getGivenName() of getActiveUser()](https://stackoverflow.com/questions/15016628/google-script-how-do-i-getgivenname-of-getactiveuser)，尽管在这种情况下，管理员试图创建一个由域成员运行的脚本可以用来获取他们自己的全名的服务。

正是[这个答案](https://stackoverflow.com/a/15628478/1677912)可能会有所帮助。作为域用户，您可以在自己的联系人列表中获取人员的全名。添加足够多的人（或合适的人），你的成功率会很高。

这是该脚本的修改版本。

```
/**
 * Get a user's name, by accessing contacts.
 *
 * @returns {String} FullName, or UserID
 *                   if record not found in contacts.
 */
function getUserName(email){
  var user = ContactsApp.getContact(email);

  // If user in contacts, return their name
  if (user) {
    // Get full name
    var name = user.getFullName();
  }
  if (!name) {
    // If not in Contacts, return the bald userID.
    name = email.split('@')[0];
  }
  return name;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-09T13:30:18.770

要求管理员为用户授予对配置 API 的只读访问权限。该问题的答案中涵盖了该内容和 GAL 提要：[如何获得对 Google Apps Profiles API 的只读访问权限？](https://stackoverflow.com/questions/16308651/how-can-i-get-read-only-access-to-the-google-apps-profiles-api/16381402#16381402)

# java - Spring上下文加载和组件扫描

> ID：16008422
> 
> 赞同：0
> 
> 时间：2013-04-15T05:51:55.717
> 
> 标签：java, spring

这似乎是一个基本查询，但想知道组件扫描标记是否可以在 jar 文件中加载 applicationcontext 文件？

例如：

我已经为包定义了组件扫描：com.xyz，它位于一个 jar 文件中，并且这个 jar 文件具有为 com.xyxspring 包中的 jar 文件定义的 applicationContext.xml。扫描组件时会加载此上下文文件吗？

此外，这个 applicationcontext 引用了同一个 jar 中的另一个 xml 文件。dat 也将与 applicationContext 文件一起加载。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:59:29.907

不要在 中进行组件扫描，而是尝试通过将其放置在您自己的 spring 上下文中来`com.x.y.z`导入该jar：`applicationContext.xml`

```
<import  resource="classpath:com/x/y/x/spring/applicationContext.xml"/> 
```

我想，这个上下文文件将定义`com.x.y.z`包的 bean。Spring 也将递归加载此导入文件引用的所有上下文文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:12:51.300

组件扫描仅查找具有 Spring 注释的类文件。

如果要加载 Spring 配置文件，则必须在邮件 spring 上下文配置中指定它们的路径。

# c++ - LNK2019 & LNK1120 未解决的外部问题

> ID：16008423
> 
> 赞同：1
> 
> 时间：2013-04-15T05:52:02.340
> 
> 标签：c++, unresolved-external

```
#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <sstream>

#include "FilmScore.h"
#include "HashedDictionary.h"

using namespace std;

string getFileName();
bool createRecord( const FilmScore & newRecord, const string & inputLine );
void eraseTrailingSpaces( string & input );
void extractData( string & composer, string & filmTitle, string & label, string & catalogNum, string & recordingYear, string & releaseYear, const string & inputLine );
void pause();

template <typename T>
void readFile( vector<T> & p_records );

template <typename T>
bool isDuplicate( const vector<T> & records, const T & newRecord );

template <typename T>
void displayVector( const vector<T> & vec );

const unsigned COMPOSER_FIELD_LENGTH = 24,
               FILM_TITLE_FIELD_LENGTH = 40,
               LABEL_FIELD_LENGTH = 16,
               CATALOG_NUM_FIELD_LENGTH = 24,
               RECORDING_YEAR_FIELD_LENGTH = 8,
               CD_RELEASE_YEAR_FIELD_LENGTH = 4;

const unsigned COMPOSER_BEGIN = 0,
               FILM_TITLE_BEGIN = COMPOSER_FIELD_LENGTH,
               LABEL_BEGIN = FILM_TITLE_BEGIN + FILM_TITLE_FIELD_LENGTH,
               CATALOG_NUM_BEGIN = LABEL_BEGIN + LABEL_FIELD_LENGTH,
               RECORDING_YEAR_BEGIN = CATALOG_NUM_BEGIN + CATALOG_NUM_FIELD_LENGTH,
               CD_RELEASE_YEAR_BEGIN = RECORDING_YEAR_BEGIN + RECORDING_YEAR_FIELD_LENGTH;

const string DEFAULT_FILE_NAME = "Soundtrack.txt";

template <class ItemType>
ostream& operator<<( ostream & out, const HashedDictionary<ItemType> & table )
{
    for ( unsigned i = 0; i < table.hashTableSize; i++ )
        if ( table.hashTable[i] != NULL )
            table.displayChain( out, table.hashTable[i] );

    return out;
}

int main()
{
    vector<FilmScore> records;

    readFile( records );

    pause();

    HashedDictionary<FilmScore> hashTable( records.size() * 3 );

    // load the films into the hash table:

    for ( size_t i = 0; i < records.size(); i++ )
        hashTable.add( records[i] );

    try
    {
        cout << "Get item with key \"FSMBox 03 Disc 8\":\n";
        cout << hashTable.getItem( static_cast<string>( "FSMBox 03 Disc 8" ) ); 
    }
    catch ( PrecondViolatedExcep e )
    {
        cout << e.what();
    }

    cout << endl << endl;

    try
    {
        cout << "Get item with key \"FSMBox 07 Disc 8\":\n";
        cout << hashTable.getItem( static_cast<string>( "FSMBox 07 Disc 8" ) );
    }
    catch ( PrecondViolatedExcep e )
    {
        cout << e.what();
    }

    cout << endl << endl;

    pause();

    cout << "Listing all items in the has table: (There are " << hashTable.getItemCount() << " items in the table)\n\n";

    cout << hashTable;

    return 0;
} 
```

错误：

```
error LNK2019: unresolved external symbol "class std::basic_ostream<char,struct std::char_traits<char> > & __cdecl operator<<(class std::basic_ostream<char,struct std::char_traits<char> > &,class HashedDictionary<class FilmScore> const &)" (??6@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@std@@AAV01@ABV?$HashedDictionary@VFilmScore@@@@@Z) referenced in function __catch$_main$0
1>C:\Users\user\Desktop\CS M20A\Topic E2 Project\Debug\Topic E2 Project.exe : fatal error LNK1120: 1 unresolved externals 
```

我查看了其他遇到此错误的人的问题，似乎它与没有定义的函数有关，但在这种情况下 operator<< 定义在 main() 的正上方。我不知道问题可能是什么。

# javascript - 有没有办法使用 Javascript 模拟鼠标悬停到特定元素上的特定 x/y 偏移？

> ID：16008430
> 
> 赞同：2
> 
> 时间：2013-04-15T05:52:34.613
> 
> 标签：javascript, dom-events, mouseevent, offset, mouseover

我需要单击图像的 x,y 偏移量。我如何使用 Javascript 来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T05:56:25.970

需要明确的是，您将无法移动到某个 x,y 并单击。您只能使用 createEvent 模拟事件。您可以在此处找到文档。 [https://developer.mozilla.org/en-US/docs/DOM/document.createEvent](https://developer.mozilla.org/en-US/docs/DOM/document.createEvent)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:08:19.443

总是有很多方法可以满足1的要求。但选择最好的总是很重要的。

在您的情况下，我的解释是，您想调用一个带有参数作为 X 和 Y 坐标的 JS 函数。如果您想要一些特定的 X、Y 值，那么当您可以直接使用静态坐标值调用 JS 时，为什么要模拟单击/悬停事件。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-04-15T06:12:02.687

你也可以参考这个。[jQuery触发器](http://api.jquery.com/trigger/)

# php - 为什么我的 HTML5 表单没有使用 PHP 提交我的选项列表的值？

> ID：16008432
> 
> 赞同：0
> 
> 时间：2013-04-15T05:52:50.363
> 
> 标签：php, html, forms, list, option

在我的代码中，除了选项下拉列表中的“类别”字段外，所有内容都已提交。使用的 PHP 文件`$category = $_POST['category'];`无法获取与每个选项值关联的文本字符串，但可以毫无问题地分配其他变量。

然后将表单中的这些信息放入我的数据库中，用户可以进行搜索——除了类别字段之外，一切都很好。

```
 <form method="post" action="add_item_action.php">
    <table>
    <tr><td>Item Name:</td> <td><input type="text" name="name"></td></tr>
    <tr><td>Vendor Name:</td> <td><textarea name="vendor"></textarea></td></tr><tr><td>Item Details:</td> <td><textarea name="description"></textarea></td></tr>
    <tr><td>Item Start Price ($):</td> <td><textarea name="price"></textarea></td></tr>
    <tr><td>Item </td>
    <tr><td><label>Category:</label></td>
             <td><select id = "category">
           <option value= "1">Select an option</option>
               <option value = "Electronics">Electronics</option>
               <option value = "Cars">Cars</option>
               <option value = "Fashion">Fashion</option>
               <option value = "Pets">Pets</option>
           <option value = "Miscellaneous">Miscellaneous</option>
           <option value = "Books">Books</option>
           <option value = "Sports">Sports</option>
             </select>
            </td></tr>
    <tr><td colspan=2><input type="submit" value="Add item">
    </table>
    </form> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T06:00:24.543

Jquery 使用“ID”或“类”来标识您的元素，但是，对于网络浏览器在提交时将表单数据发送回网络服务器，您需要“名称”属性：

```
<select id="category" name="category"> 
```

请记住：表单需要名称！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T05:55:37.227

应该`name=category`

```
<select id = "category" name="category">
    <option value= "1">Select an option</option>
    <option value = "Electronics">Electronics</option>
    <option value = "Cars">Cars</option>
    <option value = "Fashion">Fashion</option>
    <option value = "Pets">Pets</option>
    <option value = "Miscellaneous">Miscellaneous</option>
    <option value = "Books">Books</option>
    <option value = "Sports">Sports</option>
</select> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T05:54:20.770

您的选择

```
<select id = "category"> 
```

必须有名字才能发布

```
<select id = "category" name="category"> 
```

不会发布没有名称的用户输入值。

你所有的其他人都有一个:) 为什么不是你的类别..？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T05:54:49.743

在此处添加`name`属性

```
<select id = "category" name="category"> 
```

并`add_item_action.php`像这样访问

```
$_POST['category'] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T05:55:12.420

在您刚刚给出的选择框中

```
<select id = "category"> 
```

给它作为

```
<select id = "category" name="category"> 
```

# xcode - 复制文件时出现多个错误 - 但是，我可以看到它们是什么吗？

> ID：16008433
> 
> 赞同：8
> 
> 时间：2013-04-15T05:52:58.577
> 
> 标签：xcode

在我的 Xcode 项目中，我必须删除大约 200 个文件（是的，它们已被正确删除），现在我必须复制 200 多个文件，据说这些文件替换了我刚刚删除的文件。

我不断收到“复制文件时发生多个错误”。Xcode 窗口不显示新添加的文件，但如果我使用 Finder 浏览项目文件夹，我可以看到文件确实已添加 - 很可能有某个文件无法复制，因此导致错误。问题是，我不知道是哪一个，也不知道为什么。

那么，是否有可能让 Xcode 告诉我问题所在而不是告诉我有问题？

**编辑**：好的，我确实发现一些新文件与 Xcode 中未列出的一些文件同名，这解释了错误。但是，我仍然有兴趣知道是否有办法知道“多个错误”实际上是 Xcode 所说的。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2014-04-29T20:18:11.480

当 Xcode 发现重复文件时，它会生成此错误，然后它无法为它*确实*设法复制的文件添加引用。

您可以执行以下操作，而不是从查找器中删除文件并重新开始：

1.  打开源文件所在的项目的 Finder
2.  按住 Command 键单击缺少参考的那些（如果单击其他参考，则无关紧要）
3.  将它们拖入 Xcode。当确认对话框出现时，取消设置“将项目复制到目标组的文件夹（如果需要）”复选框。这将告诉 Xcode 仅进行引用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-11-23T14:35:15.603

我从 finder 中删除了文件，然后通过 Xcode 再次添加了对我有用的文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-09-28T07:41:17.993

当代码未正确合并时，有时会发生此错误。丢失的文件在 Xcode 中将不可用，但是一旦打开包含此项目的查找器，您将能够发现丢失的文件。

将这些丢失的文件添加回项目的最简单方法是：

1) 在您的 Xcode 中，导航到 Build Phases 选项卡。

2) 在编译源下，点击“+”以添加丢失的文件。

有时丢失的文件会在构建阶段显示为灰色，只需点击“-”并将它们添加回来。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-02T07:16:44.207

对我来说，这是可行的。我试图添加已经在我的包中的文件。因此，请确保您没有添加已添加的文件。我希望它可以帮助某人。

# javascript - 如何将十字渲染为高图标记？

> ID：16008435
> 
> 赞同：0
> 
> 时间：2013-04-15T05:53:11.133
> 
> 标签：javascript, svg, highcharts

我正在尝试扩展 highcharts 以包含一个十字符号。我的 svg 路径正在渲染一个三角形，我不知道为什么。

由于`highcharts`不接受实际的 svg 路径，因此这项任务比渲染水平线和垂直线更具挑战性。

我的路径应该这样做：

1.  从顶部中间开始
2.  线到底部中间
3.  线到中心
4.  向左中间的线

    ```
    $.extend(Highcharts.Renderer.prototype.symbols,
    {       
        Cross: function (x, y, w, h) 
        { 
        var trianglesArray = [];

        trianglesArray.push('M');
        trianglesArray.push(x + (w * .5));
        trianglesArray.push(y);

        trianglesArray.push('L');
        trianglesArray.push(x + (w * .5));
        trianglesArray.push(y + h);

        trianglesArray.push('L');
        trianglesArray.push(x + (w * .5));
        trianglesArray.push(y + (h * .5));

        trianglesArray.push('L');
        trianglesArray.push(x);
        trianglesArray.push(y + (h * .5));

        trianglesArray.push('L');
        trianglesArray.push(x + w);
        trianglesArray.push(y + (h * .5));

        trianglesArray.push('z');

        return trianglesArray;
      }
    }); 
    ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T13:29:28.070

您可以使用准备十字作为图像，然后将其用作符号，如示例中的其他图像：

[http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/demo/spline-symbols/](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/demo/spline-symbols/)

```
 marker: {
                    symbol: 'url(http://www.highcharts.com/demo/gfx/snow.png)'
                } 
```

# php - Cakephp 主题和图像

> ID：16008445
> 
> 赞同：1
> 
> 时间：2013-04-15T05:54:05.627
> 
> 标签：php, image, cakephp, themes, cakephp-2.0

我在 CakePHP 中有一个奇怪的问题。

我使用一个主题，所以我有一个文件夹 Themed/mytheme ，在这种情况下我有`Themed/mytheme/webroot/img/`

我担心的是，在这张文件图片中，我有几张图片。到目前为止，我所有的图像都显示在 url 中`/theme/mytheme/img/myimage.png`。

今天早上我创建了另一个图像，所以我保存在这个文件夹 img 中并且有问题。当我想显示我的图像时，出现以下错误：

```
missing Controller
Error: ThemeController could not be found.

Error: Create the class below in ThemeController file: app \ Controller \ ThemeController.php

<? php
ThemeController class extends AppController {

}
Notice: If you want to customize this error message, create app \ View \ Errors \ missing_controller.ctp

Stack Trace
APP \ webroot \ index.php line 92 → Dispatcher-> dispatch (CakeRequest, CakeResponse) 
```

我的错误是其余的图像不在同一个文件夹中。

你能告诉我或者它可能来自请吗？

谢谢你。

PS：对不起我的英语。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T21:49:13.223

## 网址有错别字

Cake 的默认 mod 重写规则是：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d 
    RewriteCond %{REQUEST_FILENAME} !-f 
    RewriteRule ^ index.php [L]
</IfModule> 
```

这意味着如果 url 不*匹配*目录并且不*匹配*文件 - 将请求发送到 CakePHP。由于您的请求正在由 CakePHP 处理 - 您请求的路径与您创建的文件不同。

## 不要硬编码主题路径

要得到这样的错误，视图文件中似乎很可能有这样的代码：

```
echo $this->Html->image('/theme/ThemeName/img/foo.png'); 
```

这不是必需的，这样做会导致问题——比如路径错误，以及请求不存在的文件。相反，只需使用：

```
echo $this->Html->image('foo.png'); 
```

如果当前请求是针对主题的 - 如果存在，Cake 将*自动*使用`/theme/ThemeName/img/foo.png`，`/img/foo.png`如果不存在。

# mysql - 如何按月计算行数

> ID：16008462
> 
> 赞同：3
> 
> 时间：2013-04-15T05:54:54.467
> 
> 标签：mysql, date, count, rows

有了这个查询，我可以数数

```
Created By  ProductGroup           Count
HNSHAK      MOBILE COMPUTING        13
HNSHAK      STORAGE                 2 
```

询问：

```
SELECT `Created By`, ProductGroup, COUNT(*) `Count`
FROM tablename
GROUP BY `Created By`, ProductGroup; 
```

现在我想像 MARCH/APRIL 或 04-2013/03-2013 一样计算同一个月，如果有可能我有一个数据库，我想向每个用户显示超过 15000 个条目，请按月计算......

我想要这样的输出

```
Created By  ProductGroup           Count    MONTH
HNSHAK      MOBILE COMPUTING        1       MARCH
HNSHAK      STORAGE                 2       MARCH

Created By  ProductGroup           Count    MONTH
HNSHAK      MOBILE COMPUTING        2       APRIL
HNSHAK      STORAGE                 1       APRIL

Created By  ProductGroup           Count    MONTH
HNSHAK      MOBILE COMPUTING        1       FEBRUARY 
```

桌子：

```
Productgroup    Created By  Initial Intl Created
STORAGE             HNSHAK  13.02.2013
SMART+MOBIL+FIX PH. KFKAIS  19.03.2013
SMART+MOBIL+FIX PH. KFKAIS  20.03.2013
SMART+MOBIL+FIX PH. KFKAIS  19.03.2013
SCANNERS            MDSALA  20.02.2013
STORAGE             HNSHAK  07.03.2013
STORAGE             HNSHAK  13.03.2013
MOBILE COMPUTING    HNSHAK  01.03.2013
MOBILE COMPUTING    HNSHAK  01.04.2013
MOBILE COMPUTING    HNSHAK  01.04.2013
PTV/FLAT            WSAHMA  12.03.2013
PTV/FLAT            WSAHMA  09.03.2013
STORAGE             HNSHAK  13.03.2013 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:14:01.683

**[月份名称](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_monthname)**

```
select [created by],
       ProductGroup,
       Count(Productgroup),
       MonthName([Initial Intl Created])
from tablename
group by [created by],ProductGroup,MonthName([Initial Intl Created]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:18:24.600

```
SELECT CreatedBy, Productgroup, COUNT(*) AS Count, DATE_FORMAT(CreateDate, '%Y-%m') AS Period
FROM tablename 
GROUP BY CreatedBy, Productgroup, Period ; 
```

您只需要添加月份/期间组。

示例：[http ://sqlfiddle.com/#!8/3f435/1](http://sqlfiddle.com/#!8/3f435/1)

# c++ - C++ - 改进复数数学的计算时间

> ID：16008463
> 
> 赞同：1
> 
> 时间：2013-04-15T05:54:57.537
> 
> 标签：c++, complex-numbers

我正在尝试计算 C++ 中二维数组的复数。代码运行非常缓慢，我已经缩小了 exp 函数的主要原因（即使我有 4 个嵌套循环，当我注释掉该行时程序运行速度很快）。

```
int main() {

    typedef vector< complex<double> > complexVect;
    typedef vector<double> doubleVect;

    const int SIZE = 256;
    vector<doubleVect> phi_w(SIZE, doubleVect(SIZE));
    vector<complexVect> phi_k(SIZE, complexVect(SIZE));
    complex<double> i (0, 1), cmplx (0, 0);
    complex<double> temp;
    int x, y, t, k, w;
    double dk = 2.0*M_PI / (SIZE-1);
    double dt = M_PI / (SIZE-1);
    int xPos, yPos;
    double arg, arg2, arg4;
    complex<double> arg3;
    double angle;
    vector<complexVect> newImg(SIZE, complexVect(SIZE));

    for (x = 0; x < SIZE; ++x) {
        xPos = -127 + x;
        for (y = 0; y < SIZE; ++y) {
            yPos = -127 + y;
            for (t = 0; t < SIZE; ++t) {
                temp = cmplx;
                angle = dt * t;
                arg = xPos * cos(angle) + yPos * sin(angle);
                for (k = 0; k < SIZE; ++k) {
                    arg2 = -M_PI + dk*k;
                    arg3 = exp(-i * arg * arg2);
                    arg4 = abs(arg) * M_PI / (abs(arg) + M_PI);
                    temp = temp + arg4 * arg3 * phi_k[k][t];
                }
            }
            newImg[y][x] = temp;
        }
    }
} 
```

有没有办法可以提高计算时间？我尝试使用以下辅助函数，但没有明显帮助。

```
complex<double> complexexp(double arg) {
    complex<double> temp (sin(arg), cos(arg));
    return temp;
} 
```

我正在使用 clang++ 编译我的代码

编辑：我认为问题在于我正在尝试计算复数。如果我只使用欧拉公式计算单独数组中的实部和虚部而不必处理复杂的类，会不会更快？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:01:31.470

也许这对你有用：

[http://martin.ankerl.com/2007/02/11/optimized-exponential-functions-for-java/](http://martin.ankerl.com/2007/02/11/optimized-exponential-functions-for-java/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T16:43:32.233

我看过callgrind。我能找到的唯一边际改进（大小 = 50 时约为 1.3%）是改变：

```
temp = temp + arg4 * arg3 * phi_k[k][t]; 
```

至

```
temp += arg4 * arg3 * phi_k[k][t]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-27T16:36:14.610

最昂贵的函数调用是 sin()/cos()。我怀疑使用复数参数调用 exp() 会在后台调用这些函数。

为了保持精度，该函数的计算速度会非常慢，而且似乎没有办法绕过它。但是，您可以用精度换取准确性，这似乎是游戏开发人员会做的事情：[sin 和 cos 很慢，有替代方案吗？](https://stackoverflow.com/questions/6091837/sin-and-cos-are-slow-is-there-an-alternatve)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-15T06:01:48.037

您可以将数字定义`e`为常量并使用`std::pow()`函数

# c# - 如何将控件添加到集合的开头？

> ID：16008464
> 
> 赞同：6
> 
> 时间：2013-04-15T05:55:00.023
> 
> 标签：c#, asp.net

例如;

`panel1.Controls.Add(myControl);`添加到集合的末尾。

有没有办法在不替换开头的情况下添加到集合的开头？

`panel1.Controls.AddAt(0, myControl)`将控件替换为 0。

**更新**

实际上它似乎工作而不是取代它。我可能弄错了。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T06:00:10.667

你可以使用[`ControlCollection.SetChildIndex`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.controlcollection.setchildindex.aspx)方法。

> 将集合中指定子控件的索引设置为指定的索引值。

* * *

> 当`SetChildIndex`被调用时，`Control`child 参数引用的对象被移动到 newIndex 指定的位置，并且重新排序中的其他 `Control`引用`Control.ControlCollection`以适应移动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:09:01.817

尝试这个 ：

```
List<Literal> persistControls = new List<Literal>();
protected void Page_Load(object sender, EventArgs e)
{          
     display();           
}

protected void commentButton_Click(object sender, EventArgs e)
{
    Literal myComment = new Literal();
    myComment.Text = "<p>" + commentBox.Text + "</p><br />";
    commentPanel.Controls.Add(myComment);
    persistControls.Insert(0,myComment);
    Session["persistControls"] = persistControls; 
    display();
}
void display()
{
    // if you already have some literal populated
    if (Session["persistControls"] != null)
    {
        // pull them out of the session
        persistControls = (List<Literal>)Session["persistControls"];
        foreach (Literal ltrls in persistControls)
            commentPanel.Controls.Add(ltrls); // and push them back into the page
    }
} 
```

# haskell - 从边列表构建图

> ID：16008465
> 
> 赞同：2
> 
> 时间：2013-04-15T05:55:00.643
> 
> 标签：haskell, data-structures, graph, edges

给定一个图形数据类型如下：

```
data Graph = Int :~> [Graph]
infixr :~> 
```

和这样的边缘列表：

```
edges = [(10,1), (10,5), (1,2), (2,3), (5,6), (5,9), (9,8)] 
```

将构建图形的函数如下：

```
result = 10 :~> [ 1 :~> [ 2 :~> 3 :~> [] ] 
                , 5 :~> [ 6 :~> [], 9 :~> 8 :~> [] ]
                ] 
```

我确信它就在我的脑海中，但我有点筋疲力尽，希望能得到帮助。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:39:38.613

1.  查找起始节点：该节点出现在`map fst edges`列表中但不在`map snd edges`列表中。正如 luqui 所说，您需要考虑找不到这样一个节点（或者如果您找到多个节点）的情况
2.  从这个起始节点递归地构建你的树。小心，因为你仍然可以在图中有循环

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-09T17:46:20.177

不是您真正想要的，但库的`Data.Graph`模块`containers`可以提供帮助。

```
import Data.Graph
bounds = (1,10) 
edges = [(10,1), (10,5), (1,2), (2,3), (5,6), (5,9), (9,8)]

> buildG bounds edges
array (1,10) [(1,[2]),(2,[3]),(3,[]),(4,[]),(5,[9,6]),(6,[]),(7,[]),(8,[]),(9,[8]),(10,[5,1])] 
```

# cloud-hosting - sequel pro 无法连接到 appfog mysql

> ID：16008467
> 
> 赞同：1
> 
> 时间：2013-04-15T05:55:05.813
> 
> 标签：cloud-hosting, appfog

如何将 appfog 数据库（mysql）连接到 GUI 数据库应用程序，例如 sequel pro？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T17:06:08.173

如果您使用`af tunnel`的主机将是端口 10000 上的 localhost (127.0.0.1)

[https://docs.appfog.com/services/tunneling#3rd-party-tools](https://docs.appfog.com/services/tunneling#3rd-party-tools)

更新：

在终端运行`af tunnel <service name>`并选择 option `1: none`。让终端窗口保持打开状态，然后打开 sequel pro 并使用 af tunnel 提供的用户名、密码和数据库名称创建一个新的数据库连接。使用`localhost`端口 10000 作为主机和端口。

# c# - 将 DataGridView 导出到 HTML 页面

> ID：16008477
> 
> 赞同：2
> 
> 时间：2013-04-15T05:55:40.627
> 
> 标签：c#, html, .net, datagridview, export

我试图找到这个问题的答案，但没有成功。我的问题是这个。我有一个组合框，其中列出了将报告导出到的不同格式。这些选项之一是 HTML。基本上我想做的是将dataGridView以windows形式导出并按原样导出到HTML页面。我只想导出到 HTML 表。我什至不知道如何开始，所以我没有任何示例代码可以提供。我正在使用 c sharp 2008 windows 应用程序。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:02:54.893

```
private StringBuilder DataGridtoHTML(DataGridView dg)
{
  StringBuilder strB = new StringBuilder();
  //create html & table
  strB.AppendLine("<html><body><center><" + 
                "table border='1' cellpadding='0' cellspacing='0'>");
  strB.AppendLine("<tr>");
  //cteate table header
  for (int i = 0; i < dg.Columns.Count; i++)
  {
     strB.AppendLine("<td align='center' valign='middle'>" + 
                    dg.Columns[i].HeaderText + "</td>");
   }
  //create table body
  strB.AppendLine("<tr>");
  for (int i = 0; i < dg.Rows.Count; i++)
  {
    strB.AppendLine("<tr>");
    foreach (DataGridViewCell dgvc in dg.Rows[i].Cells)
    {
        strB.AppendLine("<td align='center' valign='middle'>" + 
                        dgvc.Value.ToString() + "</td>");
    }
    strB.AppendLine("</tr>");

}
//table footer & end of html file
strB.AppendLine("</table></center></body></html>");
return strB;} 
```

上面的代码来自下面的链接，但我只是给你你需要的，即 DataGridView 到 HTML 的转换。

[DataGridView 到电子邮件](http://www.codeproject.com/Articles/23640/How-to-send-DataGridView-contents-by-email)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-09-10T01:47:50.133

这是我编写的一个方法，其中包括 DataGridView 的格式：

```
public string ConvertDataGridViewToHTMLWithFormatting(DataGridView dgv)
{
    StringBuilder sb = new StringBuilder();
    //create html & table
    sb.AppendLine("<html><body><center><table border='1' cellpadding='0' cellspacing='0'>");
    sb.AppendLine("<tr>");
    //create table header
    for (int i = 0; i < dgv.Columns.Count; i++)
    {
        sb.Append(DGVHeaderCellToHTMLWithFormatting(dgv, i));
        sb.Append(DGVCellFontAndValueToHTML(dgv.Columns[i].HeaderText, dgv.Columns[i].HeaderCell.Style.Font));
        sb.AppendLine("</td>");
    }
    sb.AppendLine("</tr>");
    //create table body
    for (int rowIndex = 0; rowIndex < dgv.Rows.Count; rowIndex++)
    {
        sb.AppendLine("<tr>");
        foreach (DataGridViewCell dgvc in dgv.Rows[rowIndex].Cells)
        {
            sb.AppendLine(DGVCellToHTMLWithFormatting(dgv, rowIndex, dgvc.ColumnIndex));
            string cellValue = dgvc.Value == null ? string.Empty : dgvc.Value.ToString();
            sb.AppendLine(DGVCellFontAndValueToHTML(cellValue, dgvc.Style.Font));
            sb.AppendLine("</td>");
        }
        sb.AppendLine("</tr>");
    }
    //table footer & end of html file
    sb.AppendLine("</table></center></body></html>");
    return sb.ToString();
}

//TODO: Add more cell styles described here: https://msdn.microsoft.com/en-us/library/1yef90x0(v=vs.110).aspx
public string DGVHeaderCellToHTMLWithFormatting(DataGridView dgv, int col)
{
    StringBuilder sb = new StringBuilder();
    sb.Append("<td");
    sb.Append(DGVCellColorToHTML(dgv.Columns[col].HeaderCell.Style.ForeColor, dgv.Columns[col].HeaderCell.Style.BackColor));
    sb.Append(DGVCellAlignmentToHTML(dgv.Columns[col].HeaderCell.Style.Alignment));
    sb.Append(">");
    return sb.ToString();
}

public string DGVCellToHTMLWithFormatting(DataGridView dgv, int row, int col)
{
    StringBuilder sb = new StringBuilder();
    sb.Append("<td");
    sb.Append(DGVCellColorToHTML(dgv.Rows[row].Cells[col].Style.ForeColor, dgv.Rows[row].Cells[col].Style.BackColor));
    sb.Append(DGVCellAlignmentToHTML(dgv.Rows[row].Cells[col].Style.Alignment));
    sb.Append(">");
    return sb.ToString();
}

public string DGVCellColorToHTML(Color foreColor, Color backColor)
{
    if (foreColor.Name == "0" && backColor.Name == "0") return string.Empty;

    StringBuilder sb = new StringBuilder();
    sb.Append(" style=\"");
    if (foreColor.Name != "0" && backColor.Name != "0")
    {
        sb.Append("color:#");
        sb.Append(foreColor.R.ToString("X2") + foreColor.G.ToString("X2") + foreColor.B.ToString("X2"));
        sb.Append("; background-color:#");
        sb.Append(backColor.R.ToString("X2") + backColor.G.ToString("X2") + backColor.B.ToString("X2"));
    }
    else if (foreColor.Name != "0" && backColor.Name == "0")
    {
        sb.Append("color:#");
        sb.Append(foreColor.R.ToString("X2") + foreColor.G.ToString("X2") + foreColor.B.ToString("X2"));
    }
    else //if (foreColor.Name == "0" &&  backColor.Name != "0")
    {
        sb.Append("background-color:#");
        sb.Append(backColor.R.ToString("X2") + backColor.G.ToString("X2") + backColor.B.ToString("X2"));
    }

    sb.Append(";\"");
    return sb.ToString();
}

public string DGVCellFontAndValueToHTML(string value,Font font)
{
    //If no font has been set then assume its the default as someone would be expected in HTML or Excel
    if (font == null || font == this.Font && !(font.Bold | font.Italic | font.Underline | font.Strikeout)) return value;
    StringBuilder sb = new StringBuilder();
    sb.Append(" ");
    if (font.Bold) sb.Append("<b>");
    if (font.Italic) sb.Append("<i>");
    if (font.Strikeout) sb.Append("<strike>");

    //The <u> element was deprecated in HTML 4.01\. The new HTML 5 tag is: text-decoration: underline
    if (font.Underline) sb.Append("<u>");

    string size = string.Empty;
    if (font.Size != this.Font.Size) size = "font-size: " + font.Size + "pt;";

    //The <font> tag is not supported in HTML5\. Use CSS or a span instead. 
    if (font.FontFamily.Name != this.Font.Name)
    {
        sb.Append("<span style=\"font-family: ");
        sb.Append(font.FontFamily.Name);
        sb.Append("; ");
        sb.Append(size);
        sb.Append("\">");
    }
    sb.Append(value);
    if (font.FontFamily.Name != this.Font.Name) sb.Append("</span>");

    if (font.Underline) sb.Append("</u>");
    if (font.Strikeout) sb.Append("</strike>");
    if (font.Italic) sb.Append("</i>");
    if (font.Bold) sb.Append("</b>");

    return sb.ToString();
}

public string DGVCellAlignmentToHTML(DataGridViewContentAlignment align)
{
    if (align == DataGridViewContentAlignment.NotSet) return string.Empty;

    string horizontalAlignment = string.Empty;
    string verticalAlignment = string.Empty;
    CellAlignment(align, ref horizontalAlignment, ref verticalAlignment);
    StringBuilder sb = new StringBuilder();
    sb.Append(" align='");
    sb.Append(horizontalAlignment);
    sb.Append("' valign='");
    sb.Append(verticalAlignment);
    sb.Append("'");
    return sb.ToString();
}

private void CellAlignment(DataGridViewContentAlignment align, ref string horizontalAlignment, ref string verticalAlignment)
{
    switch (align)
    {
        case DataGridViewContentAlignment.MiddleRight:
            horizontalAlignment = "right";
            verticalAlignment = "middle";
            break;
        case DataGridViewContentAlignment.MiddleLeft:
            horizontalAlignment = "left";
            verticalAlignment = "middle";
            break;
        case DataGridViewContentAlignment.MiddleCenter:
            horizontalAlignment = "centre";
            verticalAlignment = "middle";
            break;
        case DataGridViewContentAlignment.TopCenter:
            horizontalAlignment = "centre";
            verticalAlignment = "top";
            break;
        case DataGridViewContentAlignment.BottomCenter:
            horizontalAlignment = "centre";
            verticalAlignment = "bottom";
            break;
        case DataGridViewContentAlignment.TopLeft:
            horizontalAlignment = "left";
            verticalAlignment = "top";
            break;
        case DataGridViewContentAlignment.BottomLeft:
            horizontalAlignment = "left";
            verticalAlignment = "bottom";
            break;
        case DataGridViewContentAlignment.TopRight:
            horizontalAlignment = "right";
            verticalAlignment = "top";
            break;
        case DataGridViewContentAlignment.BottomRight:
            horizontalAlignment = "right";
            verticalAlignment = "bottom";
            break;

        default: //DataGridViewContentAlignment.NotSet
            horizontalAlignment = "left";
            verticalAlignment = "middle";
            break;
    }
} 
```

# asp.net-mvc - 如何从 URL 上传文件

> ID：16008478
> 
> 赞同：0
> 
> 时间：2013-04-15T05:55:50.767
> 
> 标签：asp.net-mvc

在我的应用程序中允许用户从 URL 上传文件

上传文件 URL 的代码：

```
function loadURL(box) {
       var box = dhtmlx.modalbox({
           title: "Load URL",
           text: "<div id='form_in_box'><div>Enter the URL of PDF file <hr/><input type='text' name='files' id='files' style='width: 400px; height: 27px;'></label><br></div><div><span class='dhtmlx_button'><input type='submit' value='Load URL' style='width: 86px' onclick='load_file(this)'></span><span class='dhtmlx_button'><input type='button' value='Cancel' onclick='close_file(this)' style='width:80px;'></span></label></div></div>",
           width: "300px"
       })
   }

function load_file(box) {
   var file = document.getElementById('files');
   if (file == "") {
       alert("Enter File URL");
       return false;
   }
   file = file.value;
  var filename = file.substring(file.lastIndexOf('/') + 1);
   dhtmlx.modalbox.hide(box);
   $.post("/FileUpload/UploadURL",
                   { file: '' + file + ''
                   }); 
```

}

控制器代码

```
public ActionResult UploadURL(string file)
    {
        string files = Path.GetFileName(file);
        string myStringWebResource = "";
        WebClient myWebClient = new WebClient();
        myStringWebResource = file;
        string path = Server.MapPath(_fileUploadPath + files);
        myWebClient.DownloadFile(myStringWebResource, path);
        string extFile = Server.MapPath(_fileUploadPath + files);
        return View();
    } 
```

文件下载成功。现在我想上传同一个文件我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:48:06.487

HTML 文件上传控件仅用于从客户端计算机**上传。**您要做的是从另一台服务器**下载**文件并将其保存在您的服务器上。[这个线程](http://forums.asp.net/t/1686462.aspx/1)应该有帮助。

# html - html 和 Objective-c、nsurlconnection 和 html 值的初学者

> ID：16008481
> 
> 赞同：0
> 
> 时间：2013-04-15T05:56:16.363
> 
> 标签：html, objective-c, nsurlconnection

我目前正在使用objective-c，并且遇到了有关javascript的问题。我正在通过 iphone 应用程序连接到一个网站，我的目标是登录到一个 html 表单 (Login.jsp)

```
<label class="login_label">Username</label>
     <input autocomplete="off" type="text" value="" name="ssusername" size="20" maxlength="50" />

     <label class="login_label">Password</label>
     <input autocomplete="off" type="password" name="sspassword" size="20" maxlength="20" value=""/> 
```

我正在尝试`NSUrlConnection`在objective-c中创建这个站点，但问题是：如果我输入

```
 https://www.login.com/Login.jsp?ssusername=%@&sspassword=%@, username.text, password.text 
```

它只会在 html 表单中输入输入密码。当我查看 javascript 时，我怀疑它与用户名 html 代码中的值有关 value=""

**我的问题：**是否可以在不更改 html 代码（因为我无权访问它）的情况下`NSUrlConnection`传递用户名和密码并从此 html 表单中检索答案，或者如果有人知道为什么用户名不会在地址输入如上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:02:49.470

我认为，登录方法可能使用 POST 方法，而您的 NSURLConnection 正在使用 get 方法。

您可以在[POST 中使用 NSURLConnection - NO JSON](https://stackoverflow.com/questions/8979317/post-with-nsurlconnection-no-json)进行检查。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:07:58.087

这取决于服务器端。您不能真正通过 GET 参数更改输入字段值——这是服务器端的工作。您可以执行 JS 代码输入用户名和密码，然后通过 UIWebView 的[stringByEvaluatingJavaScriptFromString](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebView_Class/Reference/Reference.html#//apple_ref/occ/instm/UIWebView/stringByEvaluatingJavaScriptFromString%3a)函数单击登录按钮，或者您可以查看此站点/服务器文档以获取某些身份验证方法，然后使用它们（如 @saturngod 建议的那样）。

# ruby-on-rails - 在 Ruby on Rails 中使用索引键获取数组值

> ID：16008482
> 
> 赞同：4
> 
> 时间：2013-04-15T05:56:18.940
> 
> 标签：ruby-on-rails, arrays, loops, key-value

我正在遍历数组或哈希，我想根据索引获取值。

```
@lv = {'apple' => ['round', 'red'], 'more names' => ['tags', 'more tags']}

@lv.each do |key, value|
   # if the value is from the index key and equal to key itself...
end 
```

我不确定如何从`@lv`. 可以说我想得到`apple`：

有没有`@lv[0]`应该等于苹果的东西？因为

```
[0] => apple
[1] => more names 
```

正确的？

所以我可以

```
@lv.each do |key, value|
   if @lv[0] == key
     # apple equals apple, then proceed
   end
end 
```

这样做的正确语法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T06:02:36.360

```
@lv.keys[0]   # => "apple"
@lv.values[0] # => ["round", "red"] 
```

# wpf - 我可以让 WPF 样式优先于本地值吗？

> ID：16008484
> 
> 赞同：4
> 
> 时间：2013-04-15T05:56:27.950
> 
> 标签：wpf, xaml, styles

我在我的 WPF 项目中创建了一个布尔附加属性，并且我希望将此属性设置为 true 的元素以某种方式显示，而不管在 XAML 中设置的任何本地本地值如何。

从[文档](http://msdn.microsoft.com/en-us/library/ms743230.aspx)中，我了解到默认情况下，本地值优先于样式设置器和样式触发器。是否可以创建优先于本地值的样式触发器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:18:36.153

使用 Erti-Chris Eelmaa 在他对我的问题的评论中提到的技术，我最终创建了一个可以解决问题的动画：

```
<Style TargetType="{x:Type Button}">
    <Style.Triggers>
        <Trigger Property="my:Ext.IsReadOnly" Value="True">
            <Trigger.EnterActions>
                <BeginStoryboard Name="IsReadOnly">
                    <Storyboard>
                        <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="(Button.IsEnabled)" Duration="0:0:0">
                            <DiscreteBooleanKeyFrame Value="False" KeyTime="0:0:0" />
                        </BooleanAnimationUsingKeyFrames>
                    </Storyboard>
                </BeginStoryboard>
            </Trigger.EnterActions>
            <Trigger.ExitActions>
                <RemoveStoryboard BeginStoryboardName="IsReadOnly" />
            </Trigger.ExitActions>
        </Trigger>
    </Style.Triggers>
</Style> 
```

这优先于 的任何本地值`Button.IsEnabled`。

# hadoop - 通过 Cloudera Manager 4.5 安装 Hadoop 后，HDFS 仅指向本地文件系统

> ID：16008486
> 
> 赞同：0
> 
> 时间：2013-04-15T05:56:34.230
> 
> 标签：hadoop, hdfs, cloudera

安装 Cloudera Manager 4.5 后，我发现它没有配置为指向正确的默认文件系统。如果我`haddop fs -ls /`从 tasktracker/datanode 框之一运行，我只会得到本地文件系统。

但是当我从 cloudera 检查 core-site.xml 时，我看到了这个设置，这似乎是正确的：

```
<property>
  <name>fs.defaultFS</name>
  <value>hdfs://hadoop-namenode1:8020</value>
</property> 
```

知道我应该在这里寻找什么吗？

```
davidparks21@hadoop-reducedslot2:~$ hadoop fs -ls /
Found 22 items
drwxr-xr-x   - root root       4096 2013-04-12 13:05 /bin
drwxr-xr-x   - root root       4096 2012-04-19 09:32 /boot
drwxr-xr-x   - root root       4096 2013-04-12 11:53 /dev
drwxr-xr-x   - root root       4096 2013-04-15 04:26 /dfs
drwxr-xr-x   - root root       4096 2013-04-15 05:52 /etc
drwxr-xr-x   - root root       4096 2013-03-30 02:44 /home
drwxr-xr-x   - root root       4096 2013-03-29 11:30 /lib
drwxr-xr-x   - root root       4096 2013-03-29 11:30 /lib64
drwxr-xr-x   - root root       4096 2013-04-15 04:44 /mapred
drwxr-xr-x   - root root       4096 2013-03-29 11:19 /media
drwxr-xr-x   - root root       4096 2012-04-19 09:32 /mnt
drwxr-xr-x   - root root       4096 2013-04-12 13:09 /opt
dr-xr-xr-x   - root root          0 2013-04-12 11:53 /proc
drwx------   - root root       4096 2013-04-10 09:49 /root
drwxr-xr-x   - root root        480 2013-04-15 05:52 /run
drwxr-xr-x   - root root       4096 2013-03-29 11:31 /sbin
drwxr-xr-x   - root root       4096 2012-03-05 17:54 /selinux
drwxr-xr-x   - root root       4096 2013-03-29 11:19 /srv
dr-xr-xr-x   - root root          0 2013-04-12 11:53 /sys
drwxrwxrwt   - root root       4096 2013-04-15 05:52 /tmp
drwxr-xr-x   - root root       4096 2013-03-29 11:19 /usr
drwxr-xr-x   - root root       4096 2013-03-29 11:19 /var 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:35:03.923

啊，我不清楚您需要从 cloudera 管理器“部署客户端配置”。

运行此命令帮助我弄清楚了这一点：

```
davidparks21@hadoop-reducedslot2:~$ hdfs getconf -confKey fs.defaultFS
file:/// 
```

![在此处输入图像描述](https://i.stack.imgur.com/D33PO.png)

# c - c中的非阻塞套接字

> ID：16008487
> 
> 赞同：1
> 
> 时间：2013-04-15T05:56:38.357
> 
> 标签：c, sockets, udp

目前我正在开发单个服务器、单个客户端 udp 聊天应用程序。最初我使用阻塞套接字，这是默认条件。现在我想将套接字转换为非阻塞，以便客户端和服务器之间的通信可以在没有转弯障碍的情况下完成......我现在已经在服务器端实现了选择功能，但是当它启动客户端时发送一条消息，该消息显示在服务器端，之后客户端和服务器都没有响应，所以现在我展示如何在服务器端实现 select() 函数：

```
 //Declaring a non-blocking structure
              fd_set readfds,writefds;
           // clear the set ahead of time
              FD_ZERO(&readfds);
              FD_ZERO(&writefds);
           // add our descriptor to the set
              FD_SET(sd, &readfds);
              FD_SET(sd, &writefds);
              /value of sd+1
              int n=sd+1; 
```

由于我想同时接收和发送数据，所以我在循环中实现了 select 函数：

```
 int client_length = (int)sizeof(struct sockaddr_in);
                int rv = select(n, &readfds, NULL, NULL, NULL);
                if(rv==-1)
                {
                 printf("Error in Select!!!\n");
                 exit(0);
                }
               else if(rv==0)
                { 
                 printf("Timeout occurred\n");
                }
               else 
                if (FD_ISSET(sd, &readfds))
                {
                int bytes_received = recvfrom(sd, buffer,SIZE, 0, (struct sockaddr *)&client, &client_length);
                if (bytes_received < 0)
               {
               fprintf(stderr, "Could not receive datagram.\n");
               closesocket(sd);
               WSACleanup();
               exit(0);
              }
                } 
```

进一步发送数据：

```
 fgets(buffer,SIZE,stdin);
              int rv1 = select(n, &writefds, NULL, NULL, NULL);
              if(rv1==-1)
              {
           printf("Error in Select!!!\n");
           exit(0);
              }
             else if(rv1==0)
             {
            printf("Timeout occurred\n");
             }
            else 
             if(FD_ISSET(sd,&writefds))
                  {
                     if(sendto(sd, buffer,strlen(buffer), 0, (struct sockaddr *) &client,client_length)<0)
                         {
                            printf("Error sending the file! \n");
                            exit(1);
                         }
                  }

                } 
```

所以如果somoone让我知道我是否做对了，我真的很感激，如果这没问题，那么客户端的相同实施会解决我的问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:08:51.367

这是不正确的：

```
select(n, &writefds, NULL, NULL, NULL); 
```

第二个参数仅用于检查可读性。要检查可写性，请使用第三个参数：

```
select(n, NULL, &writefds, NULL, NULL); 
```

# ios - 无法为 iPad 实现linkedin 集成

> ID：16008489
> 
> 赞同：0
> 
> 时间：2013-04-15T05:56:52.977
> 
> 标签：ios, linkedin

![在此处输入图像描述](https://i.stack.imgur.com/K4RHt.png)在使用 iPad 实现linkedin 时，我正在获取带有选项“允许访问”按钮而不是“登录并允许访问”按钮的登录窗口，在此先感谢。

![在此处输入图像描述](https://i.stack.imgur.com/K4RHt.png)

# java - 将字符串转换为整数 ascii 值

> ID：16008491
> 
> 赞同：0
> 
> 时间：2013-04-15T05:56:58.543
> 
> 标签：java, string, integer, ascii, numberformatexception

我被困在问题的最后，得到一个**NumberFormatException**。

我想获取一个字符串，例如**Wsup**，并将其转换`ASCII`为结果，'87115117112'。

我已经通过几种不同的方式成功构建了那串数字，但是当我尝试`parseInt(string)`使用它时，我得到了例外。我尝试将字符串打印为字符数组以查找隐藏的空格，但我`String.trim()`没有运气使用，我很困惑为什么它不被识别为有效整数。

```
public static int toAscii(String s){
    StringBuilder sb = new StringBuilder();
    String ascString = null;
    long asciiInt;
            for (int i = 0; i < s.length(); i++){
                sb.append((int)s.charAt(i));
                char c = s.charAt(i);
            }
            ascString = sb.toString();
            asciiInt = Integer.parseInt(ascString); // Exception here
            return 0;// asciiInt;    0 in place just to run
} 
```

感谢您提供的任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:02:40.577

**你的 asciiInt**是长类型所以这样做

```
 asciiInt =  Long.parseLong(ascString); 
```

这是你的全部功能

```
public static long toAscii(String s){
        StringBuilder sb = new StringBuilder();
        String ascString = null;
        long asciiInt;
                for (int i = 0; i < s.length(); i++){
                    sb.append((int)s.charAt(i));
                    char c = s.charAt(i);
                }
                ascString = sb.toString();
                asciiInt = Long.parseLong(ascString);
                return asciiInt;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:06:42.323

只要不是整数，您就需要返回我已经用一点点实现了您的 toAscii()

```
public static long toAscii(String s){
        StringBuilder sb = new StringBuilder();
        long asciiInt;
        for (int i = 0; i < s.length(); i++){
            char c = s.charAt(i);
            asciiInt = (int)c; 
            System.out.println(c +"="+asciiInt);
            sb.append(asciiInt);
        }
        return Long.parseLong(sb.toString());
} 
```

# c - GtkNotebook：附加到默认弹出菜单

> ID：16008494
> 
> 赞同：3
> 
> 时间：2013-04-15T05:57:26.117
> 
> 标签：c, gtk, gtk3

有没有办法在右键单击 GtkNotebook 的选项卡（包含所有打开的选项卡名称的选项卡）时默认出现的弹出菜单中附加一个菜单项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T09:32:52.777

查看源代码，似乎无法附加到现有菜单：菜单保存在私有结构中，并在按钮按下事件时直接弹出。

您可以禁用默认菜单，连接到按钮按下事件，并弹出您自己的菜单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-17T09:37:49.713

作为一个有点粗暴的黑客，它*可以*用来[`gtk_notebook_get_menu_label()`](https://developer.gnome.org/gtk3/stable/GtkNotebook.html#gtk-notebook-get-menu-label)在该菜单上的一个选项卡的菜单项中获取 GtkLabel，然后使用 parent-walking 从那里找到菜单。

可能这仅在实现/显示菜单时才有效，您可以尝试在该标签上添加事件处理程序来检测它。

另一方面，[user4815162342](https://stackoverflow.com/a/16056480/28169)重新实现菜单的建议要容易得多。

# jquery - Isotope StraightDown Layout 模式与 Infinite Scroll 之间的空间不均匀

> ID：16008499
> 
> 赞同：0
> 
> 时间：2013-04-15T05:57:48.420
> 
> 标签：jquery, yii, jquery-isotope

我在 Yii MVC 中有一个带有 Infinite Scroll 的产品列表。我已经实现了两种布局模式来增加用户体验

```
$(".layouts .list").click(function () {
 jQuery(function() {
            var jQuerycontainer = jQuery('.items');
            jQuerycontainer.find('.view ').each(function() {
                jQuery(this).addClass('large');
            });
            jQuerycontainer.isotope({
                layoutMode: 'straightDown',
                itemSelector: '.view',
                straightDown: {
                      columnWidth: 50
                } 
            });
            $(document).ajaxComplete(function() {
                jQuery(".layouts .list").click();
            });
            jQuerycontainer.find('.view').removeClass('small');
            jQuery(this).addClass('large');});
   return false; });

//-----------------Grid Click Function---------------//   
    $(".layouts .grid").click(function () {
        jQuery(function() {
            var jQuerycontainer = jQuery('.items');
            jQuerycontainer.find('.view ').each(function() {
                jQuery(this).addClass('small');
            });
            jQuerycontainer.isotope({ 
                layoutMode: 'masonry',
                itemSelector: '.view',

                masonry: {
                    columnWidth: 50
                }
            });
            $(document).ajaxComplete(function() {
               jQuery(".layouts .grid").click();
            });
            jQuerycontainer.find('.view').removeClass('large');
            jQuery(this).addClass('small');
            jQuerycontainer.isotope('reLayout');

        }); 
 return false;   });
  });` 
```

主要问题是，当我切换到网格时，它以网格样式显示项目。但是当我切换回列表模式时，它正确显示列表，但在某些项目之后有一些不均匀的空格，当我重新单击列表时它会自动相应地重新排列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T23:47:17.717

你应该尝试这样的事情：

```
$container.isotope({
    masonry {
    columnWidth: 50,
    },
    straightDown: {
    columnWidth: 50,
    }
});

var isMasonry = true;

$('.layouts .grid').click( function() {

    isMasonry= !isMasonry;
    var sizeStyle = isMasonry ?
      { minWidth: '100%', minHeight: '100%' } :
      { minWidth: '100%', height: '100%' };

    $container.addClass('no-transition').css( sizeStyle );
    var redraw = $container[0].offsetHeight;

    $container.removeClass('no-transition')
    .isotope({
        layoutMode: isMasonry ? 'masonry' : 'straightDown'
    }); 
```

为了避免同位素元素之间的任何间隙，您需要使用 css 转换做一些技巧。

在此处查看 David Desandro 制作的示例：http: [//codepen.io/desandro/pen/ivjAI](http://codepen.io/desandro/pen/ivjAI)

# json - 在 Perl 中，如何深入比较序列化为 JSON 格式的数据结构？

> ID：16008501
> 
> 赞同：-4
> 
> 时间：2013-04-15T05:57:49.127
> 
> 标签：json, perl, compare, perl-data-structures

我有两个 JSON 格式的数据结构。它们是深度嵌套的哈希。如何深入比较这些结构？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:37:54.870

[您可以使用JSON](http://search.cpan.org/perldoc/JSON)解码JSON，如果它安装在您的系统上，它只使用[JSON::XS 。](http://search.cpan.org/perldoc/JSON%3a%3aXS)

```
use JSON;
use Data::Compare;

my $h1 = JSON->new->utf8->decode($perl_scalar1);
my $h2 = JSON->new->utf8->decode($perl_scalar2);
my $c = Data::Compare->new($h1, $h2);
print 'structures of $h1 and $h are ',
$c->Cmp ? "" : "not ", "identical.\n"; 
```

# vb.net - 如何在 LINQ 查询表达式期间设置局部变量？

> ID：16008508
> 
> 赞同：2
> 
> 时间：2013-04-15T05:58:05.807
> 
> 标签：vb.net, linq, ienumerable

如何`counter`在 LINQ 查询中递增？

考虑以下

```
Public Class SimpleString
    Public Property Value As String
End Class 
```

...

```
Public Shared Sub SetStuff()

    Dim stringList As IEnumerable(Of SimpleString) =
        {New SimpleString With {.Value = "0"},
         New SimpleString With {.Value = "0"},
         New SimpleString With {.Value = "0"},
         New SimpleString With {.Value = "0"},
         New SimpleString With {.Value = "0"}}

    Dim counter As Integer = 0

    Dim newIntegerList As IEnumerable(Of SimpleString) =
        (From i In stringList
        Select New SimpleString With
            {
                .Value = (counter = counter + 1).ToString
            })
End Sub 
```

以上不起作用。

规则：

*   没有 C#（我知道它可以在 C# 中完成，但这是 VB.NET）
*   没有方法语法（我的查询很复杂，所以查询语法更可取）
*   没有 ToList 或 List(Of) （我不在我的应用程序中的任何地方使用列表，我宁愿不开始一致性。此外 IEnumerable 意味着查询在必要时才会执行）
*   没有循环（我没有使用具体的类。还有一致性，因为我尽量减少使用循环并主要使用 LINQ）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:08:23.060

因为 VB.NET 中的赋值和等号运算符完全相同，所以不能在 VB.NET 中等效于：

```
Value = (counter = counter + 1).ToString() 
```

增加一个变量并将其打印为字符串。

但是，您可以编写辅助方法，它接受一个`Integer` `ByRef`，递增它并返回：

```
Public Function Increment(ByRef value As Integer) As Integer
    value = value + 1
    Return value
End Function 
```

并在您的查询中使用它：

```
Dim newIntegerList As IEnumerable(Of SimpleString) =
    (From i In stringList
    Select New SimpleString With
        {
            .Value = Increment(counter).ToString
        }) 
```

但不得不说，**我真的一点都不懂你们的*规矩***……

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:21:02.463

只是为了好玩，除了[Marcin 的正确答案](https://stackoverflow.com/a/16008640/142637)之外，您还可以使用枚举器并使用 - 子句产生副作用`Let`：

```
Dim gen = Enumerable.Range(1, Int32.MaxValue).GetEnumerator()
Dim newIntegerList As IEnumerable(Of SimpleString) = _
    (From i In stringList
     Let tmp = gen.MoveNext()
     Select New SimpleString With
            {
                .Value = gen.Current()
            }) 
```

* * *

另外，为了记录，使用方法语法（在这种情况下我更喜欢）：

```
Dim newIntegerList As IEnumerable(Of SimpleString) = _
    stringList.Select(Function(v, i) New SimpleString With
        {
            .Value = i + 1
        }) 
```

# python - 如何在 Python 中修改表？

> ID：16008511
> 
> 赞同：-3
> 
> 时间：2013-04-15T05:58:21.900
> 
> 标签：python, text, io

我在 .txt 文件中有一个表格，如下所示：

```
GROUP TYPE FRACTION
1     A    0.1
1     B    0.6
1     C    0.3
2     A    0.7
2     C    0.3 
```

如何重新排列记录以使表格看起来像这样并在 Python 中写入另一个 txt 文件：

```
GROUP TYPE_A TYPE_B TYPE_C
1     0.1    0.6    0.3
2     0.7    0.0    0.3 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:20:01.313

```
from collections import defaultdict
d = defaultdict(dict)

with open('test.txt') as f:
    next(f, None) # skip header

    for line in f:
        group, type_, fraction = line.split()
        d[group][type_] = fraction

types = sorted(set(k for g in d.values() for k in g))

print 'GROUP ' + ''.join('{:<7}'.format('TYPE_' + t) for t in types)
for i, g in sorted(d.items()):
    print '{0:<6}'.format(i) + ''.join('{:<7}'.format(g.get(k, 0.0)) 
                                       for k in types) 
```

输出：

```
GROUP TYPE_A TYPE_B TYPE_C 
1     0.1    0.6    0.3    
2     0.7    0.0    0.3 
```

# windows-phone-7 - 性能进度条不可见

> ID：16008512
> 
> 赞同：0
> 
> 时间：2013-04-15T05:58:23.700
> 
> 标签：windows-phone-7, silverlight-4.0

我在我的应用程序中使用性能进度条。我正在做的是在开始一些冗长的操作并在操作完成时折叠它之前使进度条可见性可见。但在开始该操作之前它是不可见的。这是我的代码

```
 ucSearch.prograssBarCanvas.Visibility = System.Windows.Visibility.Visible;
        var obj = wb1.InvokeScript("SearchText", ucSearch.txtSearch.Text.Trim());
        var result = JsonConvert.DeserializeObject<List<BookChapter>>(obj.ToString());
        if (result.Count == 0)
        {
            ucSearch.txtBlMessage.Visibility = System.Windows.Visibility.Visible;
            ucSearch.lstBxResults.Visibility = System.Windows.Visibility.Collapsed;
        }
        else
        {
            ucSearch.txtBlMessage.Visibility = System.Windows.Visibility.Collapsed;
            ucSearch.lstBxResults.Visibility = System.Windows.Visibility.Visible;
        }

        ucSearch.lstBxResults.DataContext = null;
        ucSearch.lstBxResults.DataContext = result;
        ucSearch.prograssBarCanvas.Visibility = System.Windows.Visibility.Collapsed; 
```

我想问为什么看不到？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T14:53:10.960

确保进度条的`IsEnabled`和属性为。`IsIndeterminate``true`

# database - 数据库驱动的网站，（几乎）没有编程

> ID：16008515
> 
> 赞同：0
> 
> 时间：2013-04-15T05:58:57.813
> 
> 标签：database, web-applications

是否有任何相当有吸引力的方法来构建一个基本的数据库驱动网站，只需要非常轻量/简单的编程（即，不使用 PHP、Python、Ruby、.NET 等）？我正在想象一些用于在服务器端处理的数据库查找的简单声明性语言。任何具有 HTML 和 SQL 知识的人都可以在一两天内弄清楚。

我听说过 ColdFusion，但它似乎正在走下坡路。

我读到了[非程序员友好的 CMS](https://webmasters.stackexchange.com/questions/18239/which-cms-can-i-use-to-build-a-website-without-programming-knowledge)，但我需要能够编写自己的 SQL 查询，我怀疑 CMS 是否允许这样做。（另外，我只有几个网页的内容，所以 CMS 可能有点矫枉过正。）

这是否意味着只要网站需要与数据库通信，开发人员就必须参与其中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:23:25.273

假设您没有绑定到特定的 RDBMS，我建议您使用 APEX。它

*   是 Oracle 数据库的一部分
*   不需要外部工具（您的浏览器就是 IDE）
*   允许快速开发数据库驱动的应用程序（报告、主/详细信息、CRUD 功能）

您可以[在线试用](http://apex.oracle.com/i/index.html)（需要免费注册）。

# eclipse - 在hadoop集群上运行时不会调用configure()，但可以在Eclipse上调用，DistributedCache FIleNotFoundException

> ID：16008518
> 
> 赞同：0
> 
> 时间：2013-04-15T05:59:17.180
> 
> 标签：eclipse, hadoop, configure, filenotfoundexception, distributed-cache

我的程序使用 DistributedCache 来缓存文件

```
JobConf conf = new JobConf(new Configuration(), ItemMining.class);
DistributedCache.addCacheFile(new URI("output1/FList.txt"), conf);
DistributedCache.addCacheFile(new URI("output1/GList.txt"), conf); 
```

我把文件放进去

```
configure(){

..
localFiles = DistributedCache.getLocalCacheFiles(job);
FileSystem fs = FileSystem.get(job);
FSDataInputStream inF = fs.open(localFiles[0]);
..

} 
```

整个程序可以在 Eclipse 上运行并得到正确的结果。但是当我在Hadoop集群中运行它时，我发现这部分没有被调用！为什么会这样？我需要在配置中设置一些东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T16:48:35.147

问题解决了，原来我犯了两个错误：

1）我在configure（）的开头添加了一个System.out.println（），但它没有显示，事实证明mapreduce不能在mapreduce阶段使用System.out.println（），如果我们想要要查看它，我们需要检查我们的日志，感谢[hadoop mapreduce 框架在哪里发送我的 System.out.print() 语句的详细信息？（标准输出）](https://stackoverflow.com/questions/3207238/where-does-hadoop-mapreduce-framework-send-my-system-out-print-statements-s)

2）我真正的错误与分布式缓存有关，我添加了一个文件并想将其读入内存，打开路径，我们需要 FileSystem.getLocal() 如下：

```
 localFiles = DistributedCache.getLocalCacheFiles(job);
    FileSystem fs = FileSystem.getLocal(job);
    FSDataInputStream inF = fs.open(localFiles[0]); 
```

感谢[Hadoop：从 DistributedCache 获取文件时的 FileNotFoundExcepion](https://stackoverflow.com/questions/13508707/hadoop-filenotfoundexcepion-when-getting-file-from-distributedcache?rq=1)

# ios - 如何暂停/恢复 NSTIMER？

> ID：16008519
> 
> 赞同：2
> 
> 时间：2013-04-15T05:59:20.533
> 
> 标签：ios, objective-c, uiview, nstimer

我正在使用这样的 NSTimer

```
 GameTimer=[NSTimer scheduledTimerWithTimeInterval:60.0/60.0 target:self selector:@selector(Move) userInfo:nil repeats:YES]; 
```

在 Move 方法中，我更新了视图的位置。

```
-(void)Move
{

CGRect OldPosition=self.JumbleWordView.frame;
CGRect NewPosition=CGRectMake(OldPosition.origin.x, OldPosition.origin.y+MovementPerSec, OldPosition.size.width, OldPosition.size.height);

[self.JumbleWordView setFrame:NewPosition];
if (NewPosition.origin.y>=Slot_Left*CurrentBlockSize)
{
    [self checkResult];
    [Mytimer invalidate];
if (!isAnswerCorrect)
{
    [self swapViews];
    TotalRowPenalty=TotalRowPenalty+1;
    Score=Score+RowIncompletePoints;
    ScoreLab.text=[NSString stringWithFormat:@"%d",Score];
}
[self LoadNextWord];

} 
```

如何暂停和恢复游戏计时器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:03:01.173

NSTimer 没有暂停之类的东西，您必须停止并重新启动它。

```
[GameTimer invalidate]; //will stop the timer after which you can start it again 
```

# windows-phone-7 - 解决方案设置多目标 Windows Phone 应用程序

> ID：16008524
> 
> 赞同：0
> 
> 时间：2013-04-15T05:59:42.523
> 
> 标签：windows-phone-7, visual-studio-2012, windows-phone-8, multitargeting

我需要编写一个与 WP 7.5/7.8 和 WP 8 兼容的 windows phone 应用程序。

现在我必须如何设置我的解决方案以针对这两个平台？

我已经创建了一个用于访问数据的类库。

编辑

如何创建包含与 WP7.X 兼容的应用程序版本和仅与 WP8 兼容但在商店中有一个应用程序的另一个版本的 Windows Phone Projec？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:18:07.277

您可以创建解决方案并以 WP 7.1 为目标

您的应用程序将与 WP 7.5/7.8 和 WP8 兼容。

在这里查看答案：[https ://stackoverflow.com/a/13725010/1565574](https://stackoverflow.com/a/13725010/1565574)

# c# - ASP .NET VS2010 表中对象的内容

> ID：16008525
> 
> 赞同：1
> 
> 时间：2013-04-15T05:59:53.213
> 
> 标签：c#, asp.net, visual-studio-2010

**在ASP.NET**中将对象的内容放入表中的最佳方法是什么？

我在`OnButtonClick`页面上创建了一个事件，然后它会使用一堆变量和一个列表获取一个对象，我怎样才能让这些变量和列表最容易地呈现在一个（最初隐藏的）表中？

我应该使用本指南吗？[表类](http://msdn.microsoft.com/en-AU/library/system.web.ui.webcontrols.table.aspx)还是有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T22:38:51.470

仅供参考，我最终使用了 table 类，我创建了一个 table maker 类，我可以将我的对象和实体扔到它上面，它会吐出格式很好的表格，它很挑剔，但我觉得比拖放编程更好的解决方案。

谢谢大家！

# selenium - PHPUnit 与 Selenium

> ID：16008531
> 
> 赞同：1
> 
> 时间：2013-04-15T06:00:24.280
> 
> 标签：selenium

我正在用 PHP 开发 Web 应用程序，我想测试注册功能，只有我的 php 脚本不是 GUI，因为 GUI 尚未正确开发。最近我通过 Selenium 来了。撞到墙上后，我意识到它仅对 GUI 测试有用。如果想测试我应该只通过 PHPUnit。我对么 ？？或者有什么建议？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T15:22:04.677

作为一般规则，您应该在应用程序中混合使用单元测试集成测试和 GUI 测试。人们经常参考自动化测试三角形来指导他们，这基本上表明你应该有大量的单元测试，更少的集成测试，更少的 GUI 测试，在三角形的顶端，一个小的手动测试的数量。所有这些测试都有不同的目的，您的单元测试将测试孤立的功能“单元”以证明它们独立工作，而您的 GUI 测试将测试您的整个系统。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-02T12:01:23.873

是的你是对的。Selenium WebDriver 将驱动浏览器并操作页面上的元素（查找文本、单击按钮等）。使用 PHPUnit，您将执行您的测试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-10T14:50:26.897

如果您想测试 Web 应用程序的功能，而不是您在浏览器中看到的 Web 应用程序的图形表示，您应该使用 PHPUnit。

如果您还使用 symfony 或 zend 框架等 MVC 框架来构建您的 Web 应用程序，那么应用 PHPUNit-Tests 就很简单了。识别您的单元，其中包含您的功能并编写相应的测试用例。

在您的情况下，“注册”功能可能是 MVC-Controller 中的一项操作，因此您必须编写一个像这样的 MVC-Controller-Unit-Test 例如：[http ://www.phpriot.com/manual /zf/zend.test.phpunit.testing](http://www.phpriot.com/manual/zf/zend.test.phpunit.testing)

# linux - 从 crontab 执行的文件返回的结果与从命令行执行的不同

> ID：16008534
> 
> 赞同：1
> 
> 时间：2013-04-15T06:00:33.980
> 
> 标签：linux, bash, cron, crontab

我需要从 crontab 运行一个脚本，它有一个简单的服务器负载检查，如下所示：

```
server_load=$(bash -c '/bin/more /proc/loadavg | 
              /usr/bin/cut -d" " -f1 | /usr/bin/cut -d"." -f1') 
```

如果我从命令行运行脚本，我会得到服务器负载，如果我从 crontab 运行它，我会得到一个奇怪且无用的结果。

我确实寻找过有类似问题的帖子，但所建议的内容并没有帮助我解决我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:09:41.757

整行可以简化为：

```
server_load=`cut -d. -f1 /proc/loadavg` 
```

我怀疑这些问题与`more`想要一个终端并因此发出终端控制序列有关。

# ruby-on-rails - 隐藏 ActiveAdmin 菜单但不禁用它

> ID：16008536
> 
> 赞同：1
> 
> 时间：2013-04-15T06:00:36.997
> 
> 标签：ruby-on-rails, activeadmin

在我的 AA 应用程序中，我使用以下说明隐藏我不希望非管理员用户看到的菜单：

```
menu :if => proc{ current_user.is_admin? } 
```

但这并不妨碍这些用户在 url 中输入 /admin/users 并访问用户菜单内容。防止非管理员用户访问隐藏菜单的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:23:40.517

您可以使用 cancan 执行此操作，也可以像这样编写自己的过滤器，

```
controller do
  before_filter :check_admin
  def check_admin
    unless current_user.is_admin?
     redirect_to "/", :error => "Access denied"
    end
  end
end 
```

对于 cancan gem，您需要定义能力文件，然后您可以使用

```
 controller.authorize_resource 
```

由activeadmin提供的方法。

# php - PHP-Codeigniter 字符串加解密

> ID：16008538
> 
> 赞同：0
> 
> 时间：2013-04-15T06:00:41.947
> 
> 标签：php, encryption, codeigniter-2, session-cookies

在 CI 的一个 Web 应用程序中，他们曾经将 COOKIE 数据保存为加密形式，然后通过解密来检索。由于某些安全原因（不知道为什么），它工作正常，因为“GoDaddy”阻止了“base64_encode”。这是我得到的错误

```
A PHP Error was encountered
Severity: Warning
Message: base64_decode() has been disabled for security reasons
Filename: models/extras.php
Line Number: 196 
```

我的加密和解密代码如下。有没有其他方法可以在没有“base64_encode”的情况下做同样的事情？

```
function encodeString($str){
  for($i=0; $i<5;$i++)
  {
    $str=strrev(base64_encode($str)); //apply base64 first and then reverse the string
  }
  return $str;
}

function decodeString($str){
  for($i=0; $i<5;$i++)
  {
    $str=base64_decode(strrev($str)); //apply base64 first and then reverse the string}
   }
   return $str;
} 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:08:10.010

为了消除此错误消息，您需要执行以下操作之一：

*   从 php.ini* 文件的 disable_functions 中删除 base64_decode 字符串
*   如果您无权访问 php.ini* 文件，请让您的托管服务提供商删除上面的字符串
*   更改允许运行 base64_decode 函数的托管服务提供商。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-20T14:16:41.257

```
$data =array(           

 'password'    => md5($this->input->post('password')),

); 
```

# extjs - 如何在 Sencha touch 的 Ext.dataview.DataView 上方添加工具栏？

> ID：16008540
> 
> 赞同：0
> 
> 时间：2013-04-15T06:00:44.920
> 
> 标签：extjs, sencha-touch, sencha-touch-2, toolbar, dataview

我有一个`Ext.dataview.DataView`如何在此视图中添加工具栏？我已经尝试将它添加到配置中，但无法正常工作。我的数据视图消失了。还尝试在中添加工具栏`initialise()`，我的数据视图又消失了。有什么选择吗？

```
Ext.define('Proj.ListItems', {
    extend: 'Ext.dataview.DataView',

    requires : ['Ext.dataview.List'],

    xtype: 'listitms',

    config: {

        xtype: 'dataview',

        id: 'listItemsDataView',

        itemTpl: '<div class="tweetdiv"></div></div>', //
        store:'Item',
        listeners: {

        }

} }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:33:37.280

您的代码结构在您的`config`块内似乎特别错误。也许你想拥有`dataview`一个项目......如：

```
...
config: {
    items: [
        {
            xtype: 'dataview',
            id: 'listItemsDataView',
            itemTpl: '<div class="tweetdiv"></div></div>', //
            store:'Item',
            listeners: {

            }
        },
        ...
    ],
    ...
},
... 
```

如果不是这样，我不知道你可以忽略。无论如何，您是否正在尝试做这样的事情：[Demo](http://www.senchafiddle.com/#36YOk)。

**编辑：**

这段代码也对我有用：

```
Ext.define('MyApp.view.MyDataView', {
    extend: 'Ext.dataview.DataView',
    alias: 'widget.listitms',

    config: {
        id: 'listItemDataView',
        data: [
            {
                string: 'car'
            },
            {
                string: 'bike'
            },
            {
                string: 'van'
            }
        ],
        itemTpl: [
            '<div>Data View Item {string}</div>'
        ],
        items: [
            {
                xtype: 'toolbar',
                docked: 'top',
                title: 'I\'m A Toolbar'
            }
        ]
    }

}); 
```

# javascript - WinJS.绑定多个源

> ID：16008542
> 
> 赞同：1
> 
> 时间：2013-04-15T06:00:58.780
> 
> 标签：javascript, data-binding, windows-8, winjs

我是数据绑定的新手，但它看起来像是实现我需要做的事情的简单方法。

我的问题（如您所见）是我有两个（或更多）这些框，每页上​​有不同的数据。该代码工作正常，但它**在两个 divs 中显示相同的内容**。

这是我的示例代码：

*Javascript：*

```
var people = {
   name: "Jeff",
   age: 37,
   location: "New Jersey"
}

var animals = {
   name: "Kiki",
   age: 2,
   location: "Canada"
}

var elementPeople = document.getElementById("peopleBox");
var bindingSrcPeople = WinJS.Binding.as(people);

var elementAnimals = document.getElementById("animalBox");
var bindingSrcAnimals = WinJS.Binding.as(animals);

.
.
.

WinJS.Binding.processAll(elementPeople, bindingSrcPeople);
WinJS.Binding.processAll(elementAnimals, bindingSrcAnimals); 
```

*HTML：*

```
<div id="peopleBox">
  <div class="" data-win-bind="textContent:name"></div>
  <div class="" data-win-bind="textContent:location"></div>
</div>

<div id="animalBox">
  <div class="" data-win-bind="textContent:name"></div>
  <div class="" data-win-bind="textContent:location"></div>
</div> 
```

任何帮助，将不胜感激。非常感谢。

# c++ - c ++将接口连接到基类

> ID：16008544
> 
> 赞同：2
> 
> 时间：2013-04-15T06:01:03.533
> 
> 标签：c++, interface

我的设计有问题。

```
/// Generic class. Not owned by myself
class Node
{
    add(Node* v) { /* do somthing */ }
 };

/// interface writtern by myself
class ImyNode
{
    add(ImyNode* v) = 0;

    /// More functions
};

/// Implement ImyNode, use Node for implementation of SOME functions. 
class myNode:
    public ImyNode,
    public Node
{
    add(ImyNode* v) { Node::add(v); } // Error: ImyNode is not a type of Node
}; 
```

错误当然是正确的。这并不奇怪。但我需要一个解决方案。如何解决此编译错误。

我有4个建议：

1.  在函数 myNode::add() 中使用 reinterpret_cast 运算符
2.  创建一个接口 INode 并让 ImyNode 扩展这个 INode
3.  将 ImyNode::add(ImyNode* v) 更改为 ImyNode::add(myNode* v)
4.  让 ImyNode 扩展 Node

所有 4 条建议对我来说都是不可接受的。为什么？

1.  不会工作。丑陋的。馊主意
2.  如果我没有 Node 怎么办？如果类层次结构比那更复杂怎么办？
3.  接口不应该知道任何关于它的派生类
4.  不喜欢接口扩展非接口类。即使我确实走这条路，如果没有 ImyNode CTOR，我将如何调用 Node CTOR

如果有人有更好的设计或优雅的解决方案，或者可以说服我我的建议之一是好的，请这样做。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:31:58.290

你的层次结构被打破了，你需要重新考虑它。

如果有人`ImyNode`以你没想到的方式延伸怎么办

```
class IUnexpectedNode : public ImyNode {}; // note: not inheriting Node 
```

然后打电话给你的`myNode::add`？

```
IUnexpectedNode unexpected;
myNode my;
my.add(unexpected); 
```

届时您将无法履行您的义务。

**更新**

如果假设 every`ImyNode`最终也是 a `Node`，那么履行义务的最简单方法就是更改 的签名`ImyNode::add()`。

```
class ImyNode
{
  virtual void add(Node*) = 0; // This method follows the Node::add(Node*) 
                               // signature, although the classes are unrelated.
                               // The intent is that each class that implements 
                               // ImyNode also extends Node, so the two methods 
                               // merge into one.

}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:49:31.143

在您的设计中，您应该使用某种访问者模式，我的意思是将所有派生节点放在您的界面中。其他解决方案是使用动态转换和/或从 ImyNode 到 Node 的一些适配器。像那样：

```
 class myNode;
  class someOtherNode; // if any.  
  class ImyNode {
  public:
     virtual void add(myNode* node) = 0;
     virtual void add(someOtherNode* node) = 0;
   }; 
```

如您所见，此处无法将 ImyNode 添加到 ImyNode，您应该知道自己在做什么。如果没有比 myNode 更多的专业化，那么摆脱你的接口，因为它被证明是无用的。

# multithreading - EPPlus 多线程获取“内存不足”异常

> ID：16008548
> 
> 赞同：0
> 
> 时间：2013-04-15T06:01:27.527
> 
> 标签：multithreading, memory, out-of-memory, epplus

我试图通过使用多线程来并行化 EPPlus。我尝试生成 20 个线程，每个线程生成 1000 张 10 列和 26 行的表。该程序消耗了高达 1.8GB 的​​内存并引发了“内存不足”异常。

有谁知道如何解决这个问题？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T08:26:03.413

这是一个简单的程序，我尝试在多线程中执行，但出现“内存不足”异常：

```
 class Program
                {
                    private static int fileID=0;
                    static void Main(string[] args)
                    {
                        List<Thread> threadPool = new List<Thread>();
                        int threadCount = 20;

                        for(int i=0;i<threadCount;i++)
                        {
                            System.Threading.Thread reportThread = new System.Threading.Thread(() => GenerateThousandSheets());
                            threadPool.Add(reportThread);
                            reportThread.Start();
                        }

                        threadPool.ForEach(x => x.Join());
                        Console.WriteLine("Finished!");
                        Console.ReadKey();
                    }

                    private static void GenerateThousandSheets()
                    {
                        FileInfo newFile = new FileInfo(outputDir.FullName + @"\sample6.xlsx");
                        ExcelPackage pck = new ExcelPackage(newFile);

                        ExcelWorksheet ws = pck.Workbook.Worksheets[0];

                        for(int x= 0;x<1000;x++)
                        {
                            int newPosition = ws.Index + x;
                            pck.Workbook.Worksheets.Copy("Template","Sheet"+x);
                        }

                        FileInfo outputFile = new FileInfo(outputDir.FullName +fileID+ "-output.xlsx");
                        pck.SaveAs(outputFile);
                        counter++
                    }
                } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-03T09:15:23.700

如果您的操作系统是 32 位，那么单个可执行文件最多可以使用 2GB。事实上，1.8GB 确实接近这个门槛。使用具有更多 RAM 的 64 位操作系统，或者在使用 Paralle.ForEach 使用不同的处理器亲和性时产生更少的线程或使用更少的线程

# sqlite - 如果使用 Ebean ManyToOne 关系，数据库表会是什么样子？

> ID：16008550
> 
> 赞同：1
> 
> 时间：2013-04-15T06:01:38.643
> 
> 标签：sqlite, playframework-2.0, ebean

我在 Play 2 框架中使用 Ebean。两者对我来说都很新。我有两个模型`Algorithm`和`Solution`. （一个`Algorithm`可以拥有多个`Solution`s。）

```
@Entity
public class Algorithm extends Model{

    @Id
    public Long id;

    @Required    
    public String name;

    public String description;

    @OneToMany(mappedBy="algorithm", cascade=CascadeType.ALL)
    public List<Solution> solutions;

    ...
} 
```

和

```
@Entity
public class Solution extends Model {

    @Id
    public Long id;

    @Required
    public String explanation;
    public String code;

    @ManyToOne (cascade=CascadeType.ALL)
    public Algorithm algorithm;

    // **** I added it because the error message said algorithm_id is missing!!
    public Long algorithm_id;

    ...
} 
```

我正在使用 sqlite3，两个表算法和解决方案的架构是：

```
CREATE TABLE algorithm(id INTEGER primary key, name varchar(255), description varchar(255)); 
```

和

```
CREATE TABLE "solution"(id INTEGER primary key, explanation varchar(255), code varchar(255), algorithm_id INTEGER); 
```

所以在我的`Solution`模型中，我最初没有这条线`public Long algorithm_id;`。**问题是**当我尝试创建一个新`Algorithm`实例时，播放框架抱怨我错过了 table 中的一`algorithm_id`列`solution`。所以我在模型定义和数据库表中手动添加了 algorithm_id 以使错误消息消失。但是，ebean 的级联保存似乎没有按预期工作：algorithm_id 列永远不会被 ebean 自动填充。它总是空的。换句话说，解决方案实体和算法实体在数据库中没有连接。

所以我的问题是：

1.  我应该在模型和数据库中手动添加 algorithm_id 吗？如果没有，如何使 algorithm_id 自动生成？

2.  在我的情况下，我的模型和数据库表模式应该是什么样的？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:47:06.710

在添加时从模型中删除该`algorithm_id`字段`public Algorithm algorithm`- Ebean 应该在调用的 DB 中创建列，`algorithm_id`但您不应该在模型中手动复制它。

当然，如果您启用了 ebean 插件，它会起作用，如果您手动进行更改，请将`algorithm_id`列添加到您的`solution`表中。

**小费**

如果您不能和/或不想使用其他数据库引擎，请花一些时间使用 Ebean 插件支持的一些数据库 - 例如 MySQL 或 Postgres - 您将能够使用免费的 GUI 轻松检查它。创建一些用于测试目的的裸项目，创建几个具有不同方向关系的模型，并检查 Ebean 如何创建表、列、索引、约束等。保留此项目以供参考。

# javascript - 返回 false 在 Firefox 中不起作用

> ID：16008551
> 
> 赞同：0
> 
> 时间：2013-04-15T06:01:46.870
> 
> 标签：javascript, firefox

嘿伙计们，我正在尝试从我的 javascript 方法返回 false。它在 chrome 中运行良好，但是当在 firefox 中执行相同的操作时，它被重定向到显示错误字符串的页面。

下面是我的代码

```
 if(emptyCheck(form.corpId.value)){
        alert("Please select Corporate of the traveler");
        form.corpId.focus();
        return false;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:06:21.010

在事件处理程序中创建一个名为`event`or`evt`或其他的参数。

调用`preventDefault()`它：

```
document.getElementById('element').addEventListener('click', function(event) {
    alert('this works');
    evt.preventDefault();
}, false); 
```

`false`仅当您像这样附加事件时返回才有效：

```
document.getElementById('element').onclick = function() {
    alert('this works');
    return false;
}; 
```

我前段时间在stackoverflow上学到了这一点，我会为你找到原始帖子。

另一件事是：如果 javascript 抛出异常，它将通过 return false，因此浏览器将执行默认行为。就像单击 ling 将导航到该位置一样。

打开javascript控制台并检查是否有任何异常抛出！

编辑：这是 Tim Down 的原帖：[Returning false from click handler doesn't work in Firefox](https://stackoverflow.com/questions/5422770/returning-false-from-click-handler-doesnt-work-in-firefox)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-25T12:55:25.453

你可以试试这个；

```
if(emptyCheck(form.corpId.value)){
    alert("Please select Corporate of the traveler");
    form.corpId.focus();
    throw("exeption message");
} 
```

[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw)

# c++ - 在 MFC 中使用 Qt dll

> ID：16008558
> 
> 赞同：1
> 
> 时间：2013-04-15T06:02:12.803
> 
> 标签：c++, qt, mfc

Qt dll定义了一些接口，其中一个需要使用`QNetworkManageAccess`Object，而MFC进程进入`QNetworkManageAccess.post()`时，出现死循环，服务没有响应。

但如果 Qt 应用程序调用 Qt dll，一切正常，谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:49:56.870

尝试使用 WinMigration。我不确定，但它可能会有所帮助。 [http://doc.qt.digia.com/solutions/qtwinmigrate/winmigrate-walkthrough.html](http://doc.qt.digia.com/solutions/qtwinmigrate/winmigrate-walkthrough.html)

# python - 尝试在 Google App Engine webapp 上添加“上传文件”表单字段，什么会导致它抛出 No such File 错误？

> ID：16008559
> 
> 赞同：0
> 
> 时间：2013-04-15T06:02:18.030
> 
> 标签：python, google-app-engine

这方面的新手，所以我可能会遗漏一些简单的东西。我正在尝试创建一个允许用户上传 csv 文档的应用程序，然后我对其进行解析，然后根据 csv 文件中的数据执行其他操作。

我用以下html 设置了一个*非常基本的表单。*

### HTML

```
<html> 
    <head>
        <title>
            Paginator!
        </title>
    </head>

    <body>
        <form method="post">
            Enter name of page
            <br><input type="text" name="pagename">
            <br>
            Upload page info: <input type="file" name="csvfile" size="chars"><br>
            <input type="submit">
        </form>
    </body>
</html> 
```

### Python代码：

```
import os
import csv
import webapp2

with open('index.html', 'rb') as f:
    HTML = f.read()
    print HTML

class MainPage(webapp2.RequestHandler):

    def get(self):
        self.response.headers['Content-Type'] = 'text/html'
        self.response.write(HTML)

    def post(self):
        self.response.write(self.request.get('pagename'))
        in_file = self.request.get('csvfile')

        if in_file:
            with open(in_file, 'rb') as f:
                csvreader = csv.reader(f, delimiter=',')
                data = [row for row in csvreader]

app = webapp2.WSGIApplication([('/', MainPage)],
                              debug=True) 
```

所以我加载了带有表单信息的 HTML 文件，并在有 GET 请求时将其写入页面`/`。

当我尝试处理 POST 请求时，问题就出现了。当我尝试通过“选择文件”按钮上传任何内容时，我收到来自 GoogleApp Engine 的无此类文件错误。

### 错误信息：

```
Traceback (most recent call last):
  File "C:\Program Files (x86)\Google\google_appengine\lib\webapp2-2.5.2\webapp2.py", line 1535, in __call__
    rv = self.handle_exception(request, response, e)
  File "C:\Program Files (x86)\Google\google_appengine\lib\webapp2-2.5.2\webapp2.py", line 1529, in __call__
    rv = self.router.dispatch(request, response)
  File "C:\Program Files (x86)\Google\google_appengine\lib\webapp2-2.5.2\webapp2.py", line 1278, in default_dispatcher
    return route.handler_adapter(request, response)
  File "C:\Program Files (x86)\Google\google_appengine\lib\webapp2-2.5.2\webapp2.py", line 1102, in __call__
    return handler.dispatch()
  File "C:\Program Files (x86)\Google\google_appengine\lib\webapp2-2.5.2\webapp2.py", line 572, in dispatch
    return self.handle_exception(e, self.app.debug)
  File "C:\Program Files (x86)\Google\google_appengine\lib\webapp2-2.5.2\webapp2.py", line 570, in dispatch
    return method(*args, **kwargs)
  File "C:\Users\Chris\Documents\Code\Python\iqm segmetizer\index.py", line 20, in post
    with open(in_file, 'rb') as f:
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\dev_appserver_import_hook.py", line 610, in __init__
    super(FakeFile, self).__init__(filename, mode, bufsize, **kwargs)
IOError: [Errno 2] No such file or directory: u'test_page_info.csv' 
```

我需要做什么才能允许用户（在这种情况下是我自己）能够通过表单上传 csv 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:24:18.007

首先添加`enctype="multipart/form-data"`到您的表单：

```
<form method="post" enctype="multipart/form-data">
        Enter name of page
        <br><input type="text" name="pagename">
        <br>
        Upload page info: <input type="file" name="csvfile" size="chars"><br>
        <input type="submit">
</form> 
```

这将确保您的浏览器正确编码要上传到服务器的文件。

然后修改您的 Python 代码以使用[Blobstore](https://developers.google.com/appengine/docs/python/blobstore/overview)和[BlobReader](https://developers.google.com/appengine/docs/python/blobstore/blobreaderclass)：

```
import csv
from google.appengine.ext import blobstore
from google.appengine.ext.webapp import blobstore_handlers

class UploadHandler(blobstore_handlers.BlobstoreUploadHandler):
  def post(self):
    upload_files = self.get_uploads('csvfile')
    blob_info = upload_files[0]
    blob_reader = blobstore.BlobReader(blob_info.key())
    csv_data = blob_reader.read()
    csv_reader = csv.reader(csv_data)
    ... 
```

# android - 图片未使用 MultipartEntity 上传

> ID：16008574
> 
> 赞同：1
> 
> 时间：2013-04-15T06:03:08.740
> 
> 标签：android

我想使用 MultipartEntity 上传单个图像。我尝试了下面的代码。

但是图片没有上传。我没有收到任何错误。我已经为此添加了足够的库

```
 try {

            HttpClient httpClient = new DefaultHttpClient();
            HttpPost postRequest = new HttpPost(
                    "http://192.168.1.6/uploadimg.php");
            httpClient.getParams().setParameter(
                    CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);
            File f = null;
            FileBody fo = null;

            MultipartEntity reqEntity = new MultipartEntity(
                    HttpMultipartMode.BROWSER_COMPATIBLE);

            // code for send image using post method
            f = new File("/mnt/sdcard/a.png");
            fo = new FileBody(f);
            reqEntity.addPart("uploaded", fo);

            Log.i("uploaded", "image added Parameter added");

            postRequest.setEntity(reqEntity);

            HttpResponse response = httpClient.execute(postRequest);

            BufferedReader reader = new BufferedReader(new InputStreamReader(

            response.getEntity().getContent(), "UTF-8"));

            String sResponse;

            StringBuilder s = new StringBuilder();

            while ((sResponse = reader.readLine()) != null) {

                s = s.append(sResponse);

            }
            Log.v("Upload photo", "Response" + s);

            // return getUploadResponce(s.toString());
            // Log.i("Response ", );

        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();

        } 
```

PHP 文件

```
<?php

$file = $_FILES['uploaded']

move_uploaded_file($_FILES['uploaded']['tmp_name'], $_FILES['uploaded']['name']);

            ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:14:04.460

获取图像路径似乎有问题，更改单行代码；

利用：

```
String xtStorageDirectory = Environment.getExternalStorageDirectory()+ "/a.png";
 f = new File(xtStorageDirectory); 
```

反而：

```
f = new File("/mnt/sdcard/a.png"); 
```

并确保您已在清单文件中授予访问[外部存储的权限，低于一个。](http://developer.android.com/reference/android/Manifest.permission.html#READ_EXTERNAL_STORAGE)

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

# java - 扩展外部类如何在java中工作

> ID：16008583
> 
> 赞同：1
> 
> 时间：2013-04-15T06:04:18.480
> 
> 标签：java, inner-classes, extends, outer-classes

参考这个[问题](https://stackoverflow.com/questions/16008272/declaring-class-inside-a-method-final-keyword)中的代码，我想知道外部类的扩展是如何工作的。我的意思是一个类（内部类）如何在两个地方有它的定义（由于是内部类而在外部类中，由于扩展了外部类而在其本身中）。完成后里面有什么。

谢谢

**编码**

```
public class Something {
    private int y;

        class IsSomething extends Something {

            public void print() {
                System.out.println("123");
            }

        }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:06:31.370

内部类具有对其外部类实例的引用。这是一种*有*关系。

如果它扩展了它的外部类，它和它的外部类也有一个*is-a*关系。

所以它相当于以下两个顶级类：

```
public class Foo {
    ...
}

public class Bar extends Foo {
    private Foo outerFoo;
    ...
} 
```

# ssrs-2008 - 商业智能开发工作室无法连接到数据库

> ID：16008584
> 
> 赞同：1
> 
> 时间：2013-04-15T06:04:29.950
> 
> 标签：ssrs-2008, dynamics-crm-2011, dynamics-crm, reporting-services

我正在尝试使用 Business Intelligence Development Studio 2008 创建一个 SSRS 报告；

我想在线连接到 CRM，这样我就可以创建报告。我正在`Data Source= LINE500\sage;Initial Catalog=cs3live; Integrated Security=false; User Id=normuser;Password=password`用作连接字符串。但它无法连接，显示连接字符串无效。我在哪里可以获得有效的连接字符串？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:24:49.037

为了能够连接到您需要安装的 CRM Online `Microsoft Dynamics CRM 2011 Report Authoring Extension`，您可以从这里下载：

[http://www.microsoft.com/en-us/download/details.aspx?id=27823](http://www.microsoft.com/en-us/download/details.aspx?id=27823)

还有 CRM 2013 版本，您可以从这里下载：

[http://www.microsoft.com/en-us/download/details.aspx?id=40343](http://www.microsoft.com/en-us/download/details.aspx?id=40343)

在您需要将数据源的类型设置为`Microsoft Dynamics CRM Fetch`

要构建您的连接字符串，请遵循本文：

[http://garethtuckercrm.com/2011/03/24/fetch-xml-reports-for-crm-2011-online/](http://garethtuckercrm.com/2011/03/24/fetch-xml-reports-for-crm-2011-online/)

# shell - 将文件从不同目录复制到公共目录

> ID：16008585
> 
> 赞同：0
> 
> 时间：2013-04-15T06:04:34.997
> 
> 标签：shell

我有很多包含`.c`文件的目录。我想`.c`使用 shell 脚本将不同目录中的所有文件复制到单个目录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:39:21.150

```
find -name '*.c' -exec cp -t /tmp {} + 
```

*   start 将当前目录中的所有项目（递归）
*   取名称结尾的项目`.c`
*   将这些项目复制到`/tmp`

如果你想避免冲突，你可以添加这个

```
find -name '*.c' -exec cp --parents -t /tmp {} + 
```

[`ref`](http://linux.die.net/man/1/find)

# c# - 如何为 IObservable 实现 Switch > 用于 C# 中的响应式扩展

> ID：16008588
> 
> 赞同：0
> 
> 时间：2013-04-15T06:04:52.153
> 
> 标签：c#, system.reactive

在反应式扩展中，我们有

```
IObservable<T> Switch(this IObservable<IObservable<T>> This) 
```

我想要一个实施

```
IObserver<T> Switch(this IObservable<IObserver<T>> This) 
```

这会将传出事件切换到不同的观察者，但呈现为单个观察者。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T19:46:08.090

这个版本处理了几个问题：

*   存在可能导致丢失事件的竞争条件。如果观察者在一个线程上观察到一个事件，而源 observable 在另一个线程上产生一个新的观察者，如果你不使用任何类型的同步，你最终可能会`OnCompleted`在另一个线程调用之前调用一个线程上的当前`OnNext`观察者同一个观察者。这将导致事件丢失。

*   与上述相关，默认情况下，观察者不是线程安全的。你不应该同时调用观察者，否则你将违反主要的 Rx 合同。如果没有任何锁定，订阅者可能会`OnCompleted`在`currentObserver`另一个线程调用`OnNext`同一个观察者时调用。开箱即用，这种事情可以通过使用同步主题来解决。但是由于前面的问题也需要同步，所以我们可以只使用一个简单的互斥锁。

*   我们需要一种取消订阅源 observable 的方法。我假设当生成的观察者完成（或出错）时，这是取消订阅源的好时机，因为我们的观察者被告知不要期待更多事件。

这是代码：

```
public static IObserver<T> Switch<T>(this IObservable<IObserver<T>> source)
{
    var mutex = new object();
    var current = Observer.Create<T>(x => {});
    var subscription = source.Subscribe(o =>
    {
        lock (mutex)
        {
           current.OnCompleted();
           current = o;
        }
    });

    return Observer.Create<T>(
        onNext: v =>
        {
            lock(mutex)
            {                
              current.OnNext(v);
            }
        },
        onCompleted: () =>
        {
             subscription.Dispose();
             lock (mutex)
             {
                 current.OnCompleted();
             }
        },
        onError: e =>
        {
             subscription.Dispose();
             lock (mutex)
             {
                 current.OnError(e);
             }
        });
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:18:38.407

```
public static IObserver<T> Switch<T>(this IObservable<IObserver<T>> This)
{
    IObserver<T> currentObserver = Observer.Create<T>(x => { });

    This.Subscribe(o => { currentObserver.OnCompleted(); currentObserver = o; });

    return Observer.Create<T>
        ( onNext: v => currentObserver.OnNext(v)
        , onCompleted: () => currentObserver.OnCompleted()
        , onError: v => currentObserver.OnError(v));
} 
```

# statistics - Gretl - 如何计算矩阵

> ID：16008590
> 
> 赞同：0
> 
> 时间：2013-04-15T06:04:56.020
> 
> 标签：statistics, linear-regression, gretl

我有一个线性回归模型：

```
yi = α + βxi + ui 
```

我想计算：

```
(\sigma_u)^2(X'X)^(-1) 
```

我可以在 gretl 中做到这一点吗？如果不是，如何从 gretl 中获取 X 矩阵？

真的很感谢你的回复！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:40:40.467

这是一种方法。如果您想了解更多信息，我强烈建议您阅读[gretl 指南](http://www.google.com/url?q=http://ricardo.ecn.wfu.edu/pub//gretl/manual/en/gretl-guide-a4.pdf&sa=U&ei=mbxrUcecDcimPfXjgaAL&ved=0CBgQFjAA&usg=AFQjCNG0JUoQNIzHJLlA1SKPt4H4WDcGPg)的第 13 章。

```
open galton
list xlist = const parent child # or list xlist 0 1 2 
matrix X = {xlist}
ols const child parent --quiet
scalar sigma_u = $sigma
matrix res = sigma_u^2 * inv(X'X)
res

##  res
## res (3 x 3)

##    0.0010799  -1.2533e-05  -3.2771e-06 
##  -1.2533e-05   2.7165e-07  -8.8464e-08 
##  -3.2771e-06  -8.8464e-08   1.3688e-07 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-12T14:40:29.993

dickoa：我想你的回答是：

```
open galton
list xlist = const parent # or list xlist 0 1 2 
matrix X = {xlist}
ols child const parent --quiet
scalar sigma_u = $sigma
matrix res = sigma_u^2 * inv(X'X)
res 
```

无论如何，它甚至是一种更简单的方法：

```
open galton
list xlist = const parent # or list xlist 0 1 2 
matrix X = {xlist}
ols child const parent --quiet
matrix res = $vcv
res 
```

# java - android 媒体播放器中的完成监听器

> ID：16008591
> 
> 赞同：2
> 
> 时间：2013-04-15T06:05:08.290
> 
> 标签：java, android

我想一个接一个地播放 MediaPlayer，我可以获取第一个文件但无法获取剩余的文件...

此代码是否正确...

```
private void playRecording()  {

    player = new MediaPlayer();

    player.setOnCompletionListener(new OnCompletionListener() {
        @Override
        public void onCompletion(MediaPlayer mp) {
            // TODO Auto-generated method stub
            player.stop();
            if (i < numberOfFiles) {

                i++;
                playAudio(Environment.getExternalStorageDirectory()
                        .getAbsolutePath()
                        + "/android"
                        + i
                        + ".3gp");
            }else i=0;
        }

    });
    player.start(); 
```

播放音频：

```
 private void playAudio(String filename) {
      try {
      player.setDataSource(filename); 
      player.prepare();
      player.start();
  } catch (Exception e) { 
      // TODO Auto-generated catch block
      e.printStackTrace(); 
      } 
      } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:50:39.980

更改`OnCompletionListener`如下：

```
player.setOnCompletionListener(new OnCompletionListener() {
        @Override
        public void onCompletion(MediaPlayer mp) {
            // TODO Auto-generated method stub
            mp.stop();
            mp.release();
            if (i < numberOfFiles) {
                i++;
 String path=Environment.getExternalStorageDirectory() .getAbsolutePath()+ "/android"+"/"+i+".3gp";
           playAudio(path);
            }
            else i=0;
        } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-04T06:39:43.890

代替打电话`mp.release();`最好打电话`mp.reset();`

其中 release 将释放对象并重置就像创建对象一样。

# python - OpenERP 用户自定义错误

> ID：16008592
> 
> 赞同：0
> 
> 时间：2013-04-15T06:05:23.637
> 
> 标签：python, openerp

```
class res_users(osv.osv):

    def create(self, cr, uid, values, context=None):
        res_users_obj = self.pool.get('res.users')
        # res_users_obj.create(cr, uid, values)
        return res_users_obj.create(cr, uid, {
            'login': values['login'],
            'password': values['password'],
            'company_id': values['bpl_company_id'],
            'partner_id': values['officer_id'],
            'name': values['login']
            })

    # _inherit = "res.users"
    _name = "bpl.res.users"
    _columns = {
        'bpl_company_id':fields.many2one(
            'bpl.company.n.registration',
            'Company'),
        'bpl_estate_id':fields.many2one(
            'bpl.estate.n.registration',
            'Estate',
            help='Estate',
            domain="[('company_id','=',bpl_company_id)]"),
        'officer_id':fields.many2one(
            'bpl.officer',
            'User',
            domain="[('bpl_company_id','=',bpl_company_id)]"),
        'login': fields.char('Login', size=20),
        'password': fields.char('Password', size=20),
    }
res_users() 
```

上面的代码显示了我`res_user`在`bpl`模型中的类。我将在我的页面中创建用户，并在`res_users`我在这里创建用户时添加记录。

问题现在是我的用户在`res_users`表中创建，但不在`bpl_res_users`表中。当我按下`save`按钮时，它会等待表单视图而不是导航到树视图。控制台中没有显示任何错误。

我在这里上传了我的整个代码[@GitHub](https://github.com/priyankahdp/openerp.git)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:25:58.940

```
class res_users(osv.osv):

    def create(self, cr, uid, values, context=None):
        res_users_obj = self.pool.get('res.users')
        res_users_obj.create(cr, uid, {
            'login': values['login'],
            'password': values['password'],
            'company_id': values['bpl_company_id'],
            'partner_id': values['officer_id'],
            'name': values['login'],
        }, context=context)
        return super(res_users, self).create(cr, uid, values, context=context)

    # _inherit = "res.users"
    _name = "bpl.res.users"
    _columns = {
        'bpl_company_id':fields.many2one('bpl.company.n.registration', 'Company'),
        'bpl_estate_id':fields.many2one('bpl.estate.n.registration', 'Estate', help='Estate', domain="[('company_id','=',bpl_company_id)]"),
        'officer_id':fields.many2one('bpl.officer', 'User', domain="[('bpl_company_id','=',bpl_company_id)]"),
        'login': fields.char('Login', size=20),
        'password': fields.char('Password', size=20),
    }

res_users() 
```

现在它的工作。它需要添加 super() 方法..现在在两个表中保存记录。

@Arya
感谢您的 4 条建议

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T18:34:13.583

更好的解决方案是

```
class bpl_res_users(osv.osv):
    _inherits = {
        'res.users': 'user_id',
    }
    _name = "bpl.res.users"
    _columns = {
        'user_id': fields.many2one('res.users', required=True,
        string='Related User', ondelete='restrict',
        help='User-related data of the bpluser'),
        #define all other additional fields needed in your new model.
    }
bpl_res_users() 
```

如果您在此 bpl.res.users 模型中创建一条记录，那么将在 res.users 中自动创建一条记录。`base`您可以在模块中找到类似的示例。检查 res.users 模型是如何创建的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T06:24:22.463

你在你的代码中做什么是

```
def create(self, cr, uid, values, context=None):
        res_users_obj = self.pool.get('res.users')
        # res_users_obj.create(cr, uid, values)
        return res_users_obj.create(cr, uid, {        'login': values['login'],
                                                      'password': values['password'],
                                                      'company_id': values['bpl_company_id'],
                                                      'partner_id': values['officer_id'],
                                                      'name': values['login']
                                                      }) 
```

res_users_obj = self.pool.get('res.users') 你池化 res.user 对象，而不是使用

```
def create(self, cr, uid, values, context=None):

    return self.create(cr, uid, {        'login': values['login'],
                                                  'password': values['password'],
                                                  'company_id': values['bpl_company_id'],
                                                  'partner_id': values['officer_id'],
                                                  'name': values['login']
                                                  }) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T06:33:12.160

试试这个：

```
class bpl_res_users(osv.osv):

    _name = "bpl.res.users"
    _columns = {
        'bpl_company_id':fields.many2one('bpl.company.n.registration', 'Company'),
        'bpl_estate_id':fields.many2one('bpl.estate.n.registration', 'Estate', help='Estate', domain="[('company_id','=',bpl_company_id)]"),
        'officer_id':fields.many2one('bpl.officer', 'User', domain="[('bpl_company_id','=',bpl_company_id)]"),
        'login': fields.char('Login', size=20),
        'password': fields.char('Password', size=20),
    }

bpl_res_users() 
```

从 xml 添加相关的视图、操作和菜单。更新您的模块并检查它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-23T12:42:44.583

```
 def write_employee(self, cr, uid, ids, context=None):
       user_id=self.browse(cr,uid,ids,context=context).user_id
       if not user_id:
            for rec in self.browse(cr,uid, ids, context=context):
                  vals = { 'name':rec.name ,    'login':rec.work_email,'active':True }
                   user=self.pool.get('res.users').create( cr, uid, vals, context=context )
                   self.write( cr, SUPERUSER_ID, ids, {'user_id':user})
      return True 
```

> 试试这个，不要忘记**从 openerp 导入 SUPERUSER_ID**作为头文件

# wcf - SharePoint 2010 的自定义 Wcf 服务应该驻留在哪里？

> ID：16008593
> 
> 赞同：0
> 
> 时间：2013-04-15T06:05:28.363
> 
> 标签：wcf, sharepoint-2010, sharepoint-object-model

我想为 SharePoint 2010 创建 Wcf 服务。我非常想使用服务器对象模型。我浏览了两篇文章[http://www.dotnetcurry.com/ShowArticle.aspx?ID=760](http://www.dotnetcurry.com/ShowArticle.aspx?ID=760)

[http://nikspatel.wordpress.com/2012/02/29/step-by-step-building-custom-wcf-services-hosted-in-sharepoint-part-i/](http://nikspatel.wordpress.com/2012/02/29/step-by-step-building-custom-wcf-services-hosted-in-sharepoint-part-i/)

我想知道我们是否使用 sharepoint 2010 服务器对象模型，那么自定义 wcf 是否必须驻留在安装了 sharepoint 的同一台机器上（如第二个链接中所述）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:43:39.087

如果要使用服务器对象模型，则必须在安装 SharePoint 的同一台服务器上托管 WCF 服务。

如果 WCF 服务必须位于不同的服务器上，您可以使用客户端对象模型或 SharePoint Web 服务与 SharePoint 进行通信。

[（链接到关于在不同服务器上使用服务器对象模型的问题](https://sharepoint.stackexchange.com/questions/42615/can-you-call-spsite-on-a-different-machine-to-sharepoint-setup)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:09:57.400

我认为，文章是不同的。

第二个描述了如何在“内部”共享点环境中托管您的 wcf 服务，而第一个描述了它们之间的通信。

对于第一个模型 - 它只不过是一些 wcf 服务，调用一些 SharePoint api（服务器模型？）。在这种情况下 - 它们也可以托管在不同的机器上。

# dotcmis - 如何使用 DotCMIS 获取文档类型？

> ID：16008594
> 
> 赞同：0
> 
> 时间：2013-04-15T06:05:29.703
> 
> 标签：dotcmis

使用 OpenCMIS，我会使用`mydoc.getType()`.

DotCMIS 的等价物是什么？
`mydoc.GetType()`不起作用，因为`GetType`是`Object`in的一种方法`mscorlib.dll`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:16:28.750

用这个：`mydoc.ObjectType`

这是 DotCMIS 命名不同于 OpenCMIS 命名的罕见情况之一。

# sql - SQL 查询返回无效序列

> ID：16008595
> 
> 赞同：3
> 
> 时间：2013-04-15T06:05:39.287
> 
> 标签：sql, sql-server

您好我正在使用带有 IN 运算符的简单查询。我正在使用以下查询

```
SELECT CustID  FROM Customer WHERE CustID in (6,34,5,4,3,2,1) 
```

现在它显示以下订单

```
custId  
1   
2   
3   
4   
5   
6   
34 
```

`IN`但我希望结果与我在子句中传递的序列相同。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:12:23.567

```
SELECT CustID  FROM Customer WHERE CustID in (6,34,5,4,3,2,1)
ORDER BY  CASE WHEN CustId = 34
               THEN 5.5
               ELSE CustId
          END DESC 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T04:02:43.883

试试这个 Query Ramdas ......

```
SELECT CustID  FROM Customer WHERE CustID in (6,34,5,4,3,2,1) 
ORDER BY CHARINDEX(','+CAST(CustID as varchar(MAX))+',', ',6,34,5,4,3,2,1,') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:13:54.333

试试这个——

```
DECLARE @id TABLE
(
      i INT IDENTITY(1,1)
    , id INT
)

INSERT INTO @id (id)
VALUES (6),(34),(5),(4),(3),(2),(1)

SELECT c.CustID  
FROM dbo.Customer c
JOIN @id i ON i.id = c.CustID
ORDER BY i.i 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T09:31:03.237

使用带有有序值的拆分字符串 CTE。因此，您将能够对任何数据集进行排序

```
DECLARE @test nvarchar(100) = '6,34,5,4,3,2,1';
;WITH cte AS
 (
  SELECT SUBSTRING(@test , 0, CHARINDEX( ',', @test)) AS val ,
         CAST(STUFF (@test + ',' , 1, CHARINDEX( ',', @test), '') AS nvarchar(100 )) AS stval,
         1 AS [level]
  UNION ALL
  SELECT SUBSTRING(stval , 0, CHARINDEX( ',', stval)),
         CAST(STUFF (stval, 1, CHARINDEX(',' , stval ), '' ) AS nvarchar(100 )),
         [level] + 1
  FROM cte
  WHERE stval != ''
  )
  SELECT c2.CustID
  FROM dbo.Customer c2 JOIN cte c ON c2.CustID = c.val
  ORDER BY c.[level] 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/7f6d1/2)上的演示[](http://sqlfiddle.com/#!3/7f6d1/2)

 **您也可以将 CTE 包装在函数中

```
CREATE FUNCTION dbo. SplitStrings_CTE(@List nvarchar( 1000), @Delimiter nvarchar(1 ))
RETURNS TABLE
AS
RETURN
WITH cte AS
 (
  SELECT SUBSTRING(@List , 0 , CHARINDEX (@Delimiter, @List)) AS val ,
         CAST(STUFF (@List + @Delimiter, 1 , CHARINDEX (@Delimiter, @List), '') AS nvarchar (1000)) AS stval, 1 AS [level]
  UNION ALL
  SELECT SUBSTRING(stval , 0 , CHARINDEX (@Delimiter, stval)),
         CAST(STUFF (stval , 1, CHARINDEX( @Delimiter , stval ), '' ) AS nvarchar(1000 )), [level] + 1
  FROM cte
  WHERE stval != ''
  )
  SELECT REPLACE(val , ' ' , '' ) AS val, [level]
  FROM cte 
```

使用函数的 SELECT 语句

```
DECLARE @test nvarchar(100) = '6,34,5,4,3,2,1';
SELECT CustID
FROM dbo.Customer c2 JOIN (SELECT val, [level] FROM dbo.SplitStrings_CTE(@test, ',')
                           ) c ON c2.CustID = c.val
ORDER BY c.[level] 
```

或者

```
DECLARE @test nvarchar(100) = '6,34,5,4,3,2,1';
SELECT CustID
FROM dbo.Customer c2 CROSS APPLY dbo.SplitStrings_CTE(@test, ',') c                           
WHERE c2.CustID = c.val
ORDER BY c.[level] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T06:08:11.910

标准 SQL 没有在`select`语句或`in`子句中指定默认顺序。这些行将以 DBMS 想要的任何顺序返回。

如果您想强制执行特定的顺序，则需要使用 order-by 子句。

一些 SQL*实现*可能允许配置它，但不是我经常使用的任何一个。最坏的情况，您可以尝试以下方法：

```
select 1 as x, custid from customer where custid = 6
union all select 2 as x, custid from customer where custid = 34
union all select 3 as x, custid from customer where custid = 5
order by x 
```

但它非常丑陋而且效率不高。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-15T06:08:32.987

你不能，如果你想让这种情况发生，你需要一个新的字段，比如“showorder”之类的，你可以在上面订购你的结果：

```
SELECT CustID FROM Customer WHERE CustID IN (6,34,5,4,3,2,1) ORDER BY showorder 
```**

# python - 按原样在 Bottle 中上传文件，然后使用

> ID：16008596
> 
> 赞同：0
> 
> 时间：2013-04-15T06:05:48.883
> 
> 标签：python, file-upload, bottle

上传 .csv 文件后，我在访问它时遇到问题。

HTML：

```
<form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="data" />
    <input type="submit" />
</form> 
```

我只知道如何访问位于文件夹中的文件，有没有办法将上传的文件作为参数传递？

```
import csv
reader = csv.DictReader(open('4cls.csv'.decode('utf-8')), delimiter=';') 
```

太感谢了伙计们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T09:27:40.383

我想通了！

HTML：

```
<form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="upload" />
    <input type="submit" />
</form> 
```

Python：

```
upload = bottle.request.files.get('upload')
reader = csv.DictReader(upload.file, delimiter=';') 
```

并像普通字典一样进行操作。

# java - 如何衡量时间成本？

> ID：16008598
> 
> 赞同：2
> 
> 时间：2013-04-15T06:05:53.717
> 
> 标签：java, time

如何衡量运行 Java 程序的时间成本？如何估计我的程序的时间成本。（程序在eclipse中运行）

代码：

```
import java.util.Scanner;

public class S1_4 {

public static void main(String[] args) {
    int i,j,k=1;
    int[] table = new int[1000001];
    for(i = 2;i<1000000;i++)
     {
      if(table[i]==0)
         {
         for(j=1;i*j<999999;j++)
            table[i*j]=k;
            k++;
         }
     }

    int a;
    Scanner cin = new Scanner(System.in);

    while(cin.hasNext()) {
        a = cin.nextInt();          
        System.out.println(table[a]);
    }
    cin.close();
}

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T06:12:24.793

使用`System.nanoTime()`而不是 System.currentTimeMillis()，因为 currentTimeMillis() 依赖于系统时钟，但`nanoTime()`返回一个相对时间，而不依赖于系统时钟。

如果您的系统时钟在 currentTimeMillis() 的两次调用之间发生了变化，则时间间隔是没有意义的。

```
long start = System.nanoTime();
    //time consuming code here.
    //...
    long end = System.nanoTime();
    long used = end-start;
    System.out.println("used:"+TimeUnit.NANOSECONDS.toMillis(used)+" ms"); 
```

有关详细信息，请参见[此处](https://blogs.oracle.com/dholmes/entry/inside_the_hotspot_vm_clocks)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:09:29.897

```
public static void main(String[] args) {
  long startTime = System.currentTimeMillis();
  ...
  System.out.println("Time taken-"+(System.currentTimeMillis() -startTime));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:26:58.707

如果方法花费的时间很少，那么测量运行方法所需的时间会更加困难。纳米计数器不够稳定。我建议多次运行该方法并测量组合运行时间。这也将允许 JIT 编译器对其进行优化，以便您知道在运行时实际需要多少。

您可以使用 jmeter 或其他性能测试框架，也可以编写自己的循环来多次执行代码。其他两个答案为您提供了如何衡量代码所用时间的良好指示。我建议您以大量的跑步次数（例如 10k）而不是一次跑步来测量时间。

# windows-phone-8 - Pivot 中的图像滑动功能

> ID：16008601
> 
> 赞同：1
> 
> 时间：2013-04-15T06:06:01.340
> 
> 标签：windows-phone-8, pivot

我正在使用枢轴控件，它工作正常我想移动枢轴控件的背景图像作为全景控件中的单个图像移动是否可能？

请让我知道是否有人有解决方案。

# go - 为什么在 Golang 的闭包体后添加“()”？

> ID：16008604
> 
> 赞同：53
> 
> 时间：2013-04-15T06:06:13.890
> 
> 标签：go, closures

我正在阅读`The Go Programming Language Specifications`并发现自己在闭包体之后并没有真正理解“（）”：

在`Function literals`：

> func(ch chan int) { ch <- ACK } **(replyChan)** `

在`Defer statements`的例子中：

```
// f returns 1
func f() (result int) {
    defer func() {
        result++
    }() // why and how?
    return 0
} 
```

我不清楚在闭包体之后添加和使用“（）”的原因，希望有人能解释清楚。

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2013-04-15T06:17:43.520

不是`()`必须（仅*）*在`defer`. [defer 语句](http://golang.org/ref/spec#Defer_statements)的语言规范要求其“表达式”*始终*必须是函数调用。

为什么会这样？它与任何其他功能相同，无论是否在“延迟”中：

考虑：

```
func f() int { return 42 } 
```

和

```
a := f 
```

对比

```
b := f() 
```

第一个表达式 RHS 是一个函数值。在第二个版本中，RHS 是函数*返回的*值——即函数调用。

的语义也是如此：

```
defer f 
```

对比

```
defer f() 
```

除了第一个版本在'defer'的上下文中没有意义，因此规范提到它必须是第二种形式（仅）。

恕我直言，由于在“defer”语句之外与上述函数调用的正交性，它也更容易学习。

另请注意，函数调用不仅是 fn-expr 后跟`()`，而且表达式列表通常位于括号内（包括空列表）。两者之间有很大区别：

```
for i := range whatever {
        defer func() { fmt. Println(i) }()
} 
```

和

```
for i := range whatever {
        defer func(n int) { fmt. Println(n) }(i)
} 
```

第一个版本在闭包*执行*时打印“i”的值，第二个版本在执行 defer 语句时打印“i”的*值*。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2019-02-18T10:44:00.890

如果您不想阅读冗长的答案：

```
str := "Alice"
go func(name string) {
    fmt.Println("Your name is", name)
}(str) 
```

等同于：

```
str := "Alice"
f := func(name string) {
    fmt.Println("Your name is", name)
}
go f(str) 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2013-04-15T12:43:10.097

> 参考
> 
> [Go 编程语言规范](http://golang.org/ref/spec)
> 
> [函数类型](http://golang.org/ref/spec#Function_types)
> 
> 函数类型表示具有相同参数和结果类型的所有函数的集合。
> 
> ```
> FunctionType   = "func" Signature .
> Signature      = Parameters [ Result ] .
> Result         = Parameters | Type .
> Parameters     = "(" [ ParameterList [ "," ] ] ")" .
> ParameterList  = ParameterDecl { "," ParameterDecl } .
> ParameterDecl  = [ IdentifierList ] [ "..." ] Type . 
> ```
> 
> [函数声明](http://golang.org/ref/spec#Function_declarations)
> 
> 函数声明将标识符（函数名称）绑定到函数。
> 
> ```
> FunctionDecl = "func" FunctionName Signature [ Body ] .
> FunctionName = identifier .
> Body         = Block . 
> ```
> 
> [函数字面量](http://golang.org/ref/spec#Function_literals)
> 
> 函数字面量表示匿名函数。它由函数类型的规范和函数体组成。
> 
> ```
> FunctionLit = FunctionType Body . 
> ```
> 
> 函数字面量是闭包：它们可以引用在周围函数中定义的变量。然后，这些变量在周围的函数和函数字面量之间共享，只要它们可以访问，它们就会继续存在。
> 
> 函数文字可以分配给变量或直接调用。
> 
> [来电](http://golang.org/ref/spec#Calls)
> 
> `f`给定函数类型的表达式`F`，
> 
> ```
> f(a1, a2, … an) 
> ```
> 
> `f`带参数的调用`a1, a2, … an`。
> 
> 在函数调用中，函数值和参数按通常的顺序计算。在它们被评估之后，调用的参数按值传递给函数，被调用的函数开始执行。函数的返回参数在函数返回时按值传回调用函数。
> 
> [延迟语句](http://golang.org/ref/spec#Defer_statements)
> 
> " `defer`" 语句调用一个函数，该函数的执行推迟到周围函数返回的那一刻。
> 
> ```
> DeferStmt = "defer" Expression . 
> ```
> 
> 表达式必须是函数或方法调用。每次`defer`执行 " " 语句时，调用的函数值和参数都会像往常一样进行评估并重新保存，但不会调用实际函数。相反，延迟调用在周围函数返回之前立即按 LIFO 顺序执行，在返回值（如果有的话）被评估之后，但在它们返回给调用者之前。

由于您仍然感到困惑，因此这是另一种尝试为您的问题提供答案。

在您的问题的上下文中，`()`是函数调用运算符。

例如，函数字面量

```
func(i int) int { return 42 * i } 
```

表示匿名函数。

函数字面量后跟`()`函数调用运算符

```
func(i int) int { return 42 * i }(7) 
```

表示一个匿名函数，然后直接调用它。

通常，在函数调用中，函数值和参数按通常的顺序计算。在它们被评估之后，调用的参数按值传递给函数，被调用的函数开始执行。函数的返回参数在函数返回时按值传回调用函数。

但是，通过 defer 语句调用函数是一种特殊情况。每次执行“defer”语句时，调用的函数值和参数都会像往常一样进行评估并重新保存，但不会调用实际函数。相反，延迟调用在周围函数返回之前立即按 LIFO 顺序执行，在返回值（如果有的话）被评估之后，但在它们返回给调用者之前。

defer 语句表达式必须是直接调用的函数或方法调用，而不仅仅是不直接调用的函数或方法字面量。因此，函数或方法字面量后面需要跟`()`函数调用运算符，这样defer语句表达式就是函数或方法调用。

延迟声明

```
defer func(i int) int { return 42 * i }(7) 
```

已验证。

延迟声明

```
defer func(i int) int { return 42 * i } 
```

无效：`syntax error: argument to go/defer must be function call`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-09T19:10:09.840

如果没有 ()，您将不会执行该函数。

# codeigniter - 代码点火器

> ID：16008605
> 
> 赞同：0
> 
> 时间：2013-04-15T06:06:18.873
> 
> 标签：codeigniter, jquery

我有 jquery 脚本

> wamp/www/codeigni/js/script.php

我有welcome.php作为控制器。我想通过来自'script.php'的ajax从控制器'welcome.php'访问方法“getOneUserAjax”

```
 $.post("<?php echo site_url('/welcome/getOneUserAjax');?>",formData,function(data)
{
       alert("hi");
   alert("success");
}); 
```

我尝试了其他方法可以如何在 script.php 中给出路径

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:07:06.703

如果我理解正确，你的 jQuery 代码`/js/`需要知道 ajax 控制器/方法 url，对吗？如果是这样：在您看来，**在**调用该 jquery 代码之前，请输入以下内容：

```
<script>var base_url = '<?php echo base_url(); ?>';</script> 
```

`base_url`js 变量现在可用于您的 jquery 。

您现在应该能够执行以下操作：

```
$.post(base_url + "welcome/getOneUserAjax",formData,function(data){ //etc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:40:35.337

假设这是你的 base_url 到自动加载文件

```
$config['base_url'] = 'http://localhost/site_name/'; 
```

在你的脚本中试试这个

```
$.post('<?php echo base_url()?>welcome/getOneUserAjax', 
          function(data) {

                  alert(data);
      }); 
```

并假设这是你的班级`welcome.php`，这是功能`getOneUserAjax`

```
function getOneUserAjax()
{
     echo 'success';
} 
```

# css - 在网站中包含大量图标的最佳方法？

> ID：16008612
> 
> 赞同：0
> 
> 时间：2013-04-15T06:06:47.223
> 
> 标签：css, fonts, svg, icons, sprite

我正在开发几个都属于同一个站点的 Web 应用程序。因为这里有几个项目，所以我需要大量的图标，每个图标都有大约 12 种不同的颜色。（有这么多图标的原因是需要特定自定义图标的非常具体的操作）。如果包括所有颜色变化，我正在使用的图标总数很容易达到 400 多个。

我一直在使用 css sprite 图像来包含所有这些图标，但此时我不得不添加更多图标，从 sprite 生成这些图标所涉及的 CSS 变得非常长，并且 sprite 图像变得更大.

有没有更好的方法将这些图标包含到网站中？我已经研究过制作一个图标字体（它们都是简单的单色图标，所以这很好），但不确定更新有多容易。我还考虑过为图标制作单独的文件，并将其作为图像包含在内。然后还有 SVG 路线。

根据我需要多少图标，并且定期添加更多图标，您认为包含图标的最佳途径是什么？

每页最多可能有 10 个不同的图标，但不幸的是我不能保证它会是 10 个特定图标。（如，没有我可以组合在一起的特定类型的图标）。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:21:03.763

只是给你一些选择，试着看看[IcoMoon](http://icomoon.io/)

这是一个在 Chrome 中运行的网络应用程序，允许您导入自己的 SVG 以创建自定义图标字体。它需要*一些*修修补补，但我只想说生成一个精灵表。然后，您就可以灵活地使用图标字体；分辨率独立，简单的颜色修正等。

@Bojangles 对 Stitches 的建议看起来很有趣；今天下午我会修改一下！如果您在 Mac 上使用[SpriteRight](http://spriterightapp.com/)，如果您更喜欢原生应用程序，它会提供类似的功能。

# php - 递归函数不执行代码第二次调用及以后

> ID：16008613
> 
> 赞同：0
> 
> 时间：2013-04-15T06:06:53.883
> 
> 标签：php

所以我有一个文档数组来添加每个字符串作为数组中的一个元素，以及一个具有私有成员函数 add document 的类的实例，这实际上将文档添加到一个新的添加文档数组中。函数 don() 接受 3 个参数，它需要添加到添加文档数组的字符串，从函数内部添加文档的类的实例，以及要添加的更多内容的数组。

在伪代码中它是这样的：

```
$contentsAdded = []; //blank array
$contents = ['document one text', 'document two text', 'document three text';
$firstDoc = 'hello I am the first document';

function don($currentString, $instance, $contentArray){
    //addDocument() adds strings to  /         //$contentsAdded
    $instance->addDocument($currentString);
    //Travel through array $contentArray
    //if $contentArray[iterator] is not in     //$contentsAdded, then
    don($contentArray[i], $instance, $contentArray);
}
don($firstDoc, $instance, $contents); 
```

做这个的最好方式是什么？

尤其是当我按照自己的想法进行操作时， $contentsAdded 中只有 $firstDoc ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:10:16.510

您不需要将第一个文档与另一个文档分开，因为您必须制定一个通用流程。并且在这种情况下不需要进行递归函数（递归函数可能会占用更多资源，请谨慎使用）。

您应该简单地遍历您的文档数组，并使用您的实例对象一一添加它们。

```
// Initialize the list of document to add
$contents = array('first document',
                  'document one text',
                  'document two text',
                  'document three text');

// Loop over your array of document
foreach($contents as $oneDocument)
    $instance->addDocument($oneDocument); 
```

# jquery - jquery html insert 未显示在源代码中，因此下游事件处理程序不起作用？

> ID：16008616
> 
> 赞同：0
> 
> 时间：2013-04-15T06:07:06.947
> 
> 标签：jquery, checkbox

我正在尝试制作一个 jquery 脚本，如果单击复选框，则值将附加到 div 中，如果要从 div 中删除值，则可以单击它并显示带有选定复选框的灯箱。

这是 html 标记

这是灯箱

这是通向灯箱的 div

```
<div id="fasta_reader" class="hidden" style="height: 500px; width: 200px; border:2px solid #000000;">

<div id="test_boxes">
<input type="checkbox" name="vehicle" class="checkers" value="Bike">I have a bike<br>
<input type="checkbox" name="vehicle" class="checkers" value="Car">I have a car <br>
<input type="checkbox" name="vehicle" class="checkers" value="gel">I have a gel <br>
<input type="checkbox" name="vehicle" class="checkers" value="gol">I have a gol<br>
<input type="checkbox" name="vehicle" class="checkers" value="feet">I have a feet<br>
<input type="checkbox" name="vehicle" class="checkers" value="hand">I have a hand <br>
<input type="checkbox" name="vehicle" class="checkers" value="ear">I have a ear<br>
<input type="checkbox" name="vehicle" class="checkers" value="nose">I have a nose <br>
</div> 
```

第一个事件，即'.checkers' onclick 发送/删除 div 值工作正常。第二个事件 div onclick 启动灯箱也在工作

这是第一个事件的 jquery

```
$(document).ready(function(){
$('.checkers').click(function(){
if (this.checked) 
{
var div_val = $.trim($("#fasta_reader").text());
var check_val = $(this).val();
var box_val = '<span class="box_breaks"><input type="checkbox"class="lightbox_checkbox" name="lightbox_val" id='+check_val+'_checkbox'+' value='+check_val+'>'+check_val+'</input></span>';
var div_class = $("#fasta_reader").attr("class");
if(div_val == "" && div_class == "hidden")
{
var new_val = div_val + check_val;
$("#fasta_reader").removeClass("hidden");
$("#fasta_reader").append(new_val);
}
else if(div_val != "" && div_class != "hidden")
{
var new_val = " "+check_val;
$("#fasta_reader").append(new_val);
}
$('.box').append(box_val);
$("#"+check_val+"_checkbox").prop('checked',true);
}
else if(!(this.checked))
{
var check_val = $(this).val();
var div_val_index = $.trim($("#fasta_reader").text()).indexOf(check_val);
var div_val = $.trim($("#fasta_reader").text());
var box_id = "#"+check_val+'_checkbox';
$(box_id).parent('span').remove();

if(div_val_index > 0)
{
var new_val = div_val.replace(" "+check_val, "");
$("#fasta_reader").text(new_val);
}
else
{
div_val = div_val.replace(check_val, "");
$("#fasta_reader").text(div_val);
}
}
if(div_val == "" && div_class != "hidden")
{
$("#fasta_reader").addClass("hidden");
}

});
}); 
```

这是灯箱 onclick 事件处理程序的代码

```
$(document).ready(function(){
            $('.lightbox_checkbox').click(function(){
            alert("HEHE");
            if(!(this.checked))
            {
            $("#test_boxes input:checkbox[value="+this_val+"]").attr("checked", false);
            }
            else if(this.checked)
            {
            $("#test_boxes input:checkbox[value="+this_val+"]").attr("checked", true);
            }
            });
            }); 
```

这是不工作的事件我尝试将文档准备好更改为 .lightbox_checkbox 加载功能，但它没有工作，

我也删除了 if else 语句，但警报不会启动。为什么警报语句没有触发？

我还发现我使用 jquery 所做的 html 插入实际上都没有出现在我页面的源代码中

那么是否有可能由于内容在物理上不存在，代码无法工作？

我问是因为 html 插入，即 lightbox 和 #fasta_reader 都是通过单击页面的物理内容来加载的。所以实际上这两个元素在视觉上是相互链接的，但在物理上链接到页面上的内容。

请告知我在这方面是否正确，以及使该过程正常工作的可能解决方案是什么，即 jquery 生成的灯箱复选框 onclick 启动事件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:35:08.593

对于变量 box_val，不要直接使用纯 html。而是使用 $.html() 创建 DOM 元素来插入 HTML 值。

我正在使用：

```
var tr = document.createElement("tr");
var td1 = document.createElement("td");
td1.setAttribute("align","center");
$(td1).html(executeFormatter());
tr.appendChild(td1);
$("#tableBody").append(tr); 
```

我的 executeFormatter 看起来像：

```
function executeFormatter(){
    return html = "<span onclick=\"clickFunc()\" class=\"ui-icon ui-icon-circle-triangle-e\" style=\"cursor:pointer;\" height=\"16\" width=\"16\" ></span>";
} 
```

并且非常适合我。

问候， 阿米特

# html - 某些浏览器不支持滚动条

> ID：16008618
> 
> 赞同：0
> 
> 时间：2013-04-15T06:07:15.607
> 
> 标签：html, layout, scroll

我正在运行一个网站代码，`Crome`并且`IE`工作正常，显示整页并能够滚动它，但在`mozilla Firefox`滚动器中不存在。我正在附加屏幕，请查看这些图像。

但在 Mozilla 滚动条中不存在。这是什么类型的问题？如何在 JSP 和 servlet 代码中删除它。

我的 HTML 代码是：

```
<title> GleeWorks.net </title>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="expires" content="0">
<script type="text/javascript" language="JavaScript1.2" src="js/stm31.js"></script>
<script type="text/javascript" language="JavaScript1.2" src="js/check_session_timeout.js"></script>
<link href="stylesheets/style.css" rel=stylesheet> 
```

我也在所有表格中使用了 I 框架：

```
<IFRAME name="contentFrame" id="contentFrame" SRC="<c:out value="${defaultContentURL}"/>" marginwidth=0 marginheight=0 
                        scrolling=no WIDTH=780 height="1000" frameborder="0" allowtransparency="true"
                        style="position:absolute;overflow:hidden;border:none;">
                    </IFRAME> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:13:24.220

这不一定是 html 问题，因为我在通过 Microsoft Sharepoint 开发时遇到了这个问题，我能够通过使用以下方法解决它：

**CSS 文件：**

```
html {
       overflow-y: scroll;
} 
```

**选项 2：直接在您的 html 页面中：**

```
<style type="text/css">

     html {
               overflow-y: scroll;
        }

</style> 
```

# android - 如何从 ext-sdcard 中查询音乐？

> ID：16008619
> 
> 赞同：1
> 
> 时间：2013-04-15T06:07:16.787
> 
> 标签：android

我用

```
Uri deviceMusic = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;
String selection = MediaStore.Audio.Media.IS_MUSIC + " != 0";
String sortOrder = MediaStore.Audio.Media.DISPLAY_NAME;
Cursor cursor = this.getContentResolver().query(deviceMusic, null,
            selection, null, sortOrder); 
```

从设备查询音乐，

但它在“extSdCard”中找不到音乐。

那么，当设备同时有mnt/sdcrad和“extSdCard”时，如何查询音乐呢？

编辑：对不起，我的意思是我可以在 mnt/sdcard 中获取音乐

但我无法在 mnt/extSdCard 中获取音乐

extSdCard 是真正的 sdcard，可以在设备上手动移除

图片： [在此处输入链接描述](https://dl.dropboxusercontent.com/u/98165109/extsdcard.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:11:31.557

使用我开发的这个方法....获取sd卡的mp3文件

为了获得详细信息，我还问了一个问题**[Observing changes in android content observer for Audio.Media.EXTERNAL_CONTENT_URI](https://stackoverflow.com/questions/15899110/detecting-changes-in-android-content-observer-for-audio-media-external-content-u)**

此代码适用于**mnt/sdcrad**和**extSdCard**

在这段代码中我检索到

1.  文件名

2.  文件路径

3.  时间

4.  期间

对于每个 mp3 文件。您可以检索很多字段，请参阅此[http://developer.android.com/reference/android/provider/MediaStore.Audio.AudioColumns.html](http://developer.android.com/reference/android/provider/MediaStore.Audio.AudioColumns.html)

```
 private void showAllAudio() {
     Cursor mCursor = null;

     try {
         mCursor = context.getContentResolver().query(
             Audio.Media.EXTERNAL_CONTENT_URI, null, null, null, "_id");

         System.out.println("Cursor count is " + mCursor.getCount());

         if (mCursor.getCount() != 0) {

             do {

                 long date = mCursor.getLong(mCursor
                     .getColumnIndexOrThrow(Audio.Media.DATE_ADDED));

                 String Duration = mCursor.getString(mCursor
                     .getColumnIndexOrThrow(Audio.Media.DURATION));
                 String DISPLAY_NAME = mCursor.getString(mCursor
                     .getColumnIndexOrThrow(Audio.Media.DISPLAY_NAME));
                 String DATA = mCursor.getString(mCursor
                     .getColumnIndexOrThrow(Audio.Media.DATA));
                 double TIME_STAMP = mCursor.getInt(mCursor
                     .getColumnIndexOrThrow(Audio.Media.DATE_ADDED));

                 System.out.println("Name:" + DISPLAY_NAME);
                 System.out.println("data " + DATA);
                 System.out.println("time " + TIME_STAMP);
                 System.out.println("time " + Duration);
             } while (mCursor.moveToNext());

         }
     } catch (Exception e) {
         e.printStackTrace();
     } finally {
         if (mCursor != null) {
             mCursor.close();
             mCursor = null;
         }
     }

 }
 } 
```

# regex - 从日志文件中删除日期

> ID：16008622
> 
> 赞同：3
> 
> 时间：2013-04-15T06:07:21.647
> 
> 标签：regex, awk, sed

我有一个irc日志如下

```
04/14/13 21:38<@Hamatti> Lorem ipsum dolor sit amet
04/14/13 21:39<@Hamatti> consectetur adipiscing elit.
04/14/13 21:45<@Hamatti> Duis facilisis convallis lacus 
```

**编辑1**。对不起，我不清楚我的意图。所以我希望前一个的输出是

```
21:38<@Hamatti> Lorem ipsum dolor sit amet
21:39<@Hamatti> consectetur adipiscing elit.
21:45<@Hamatti> Duis facilisis convallis lacus 
```

所以时间很重要。

**EDIT2** 还有部分日志，格式较早的

```
20:12<@Hamatti> Something.
20:13<@Hamatti> Funny.
20:13<@Hamatti> Happened. 
```

我需要这些行不被修改。

由于我的旧日志格式没有日期戳，我想从以后的日志中删除日期。

```
sed 's/[0-9]{2}\/[0-9]{2}\/[0-9]{2}//g' logfile 
```

sed 中的正则表达式似乎在正则表达式测试器中工作，但这个 sed 没有做任何事情。我想知道问题出在哪里？非常欢迎使用 bash 工具（sed、awk 等）的任何提示。由于只有部分日志有日期，我不能使用类似的东西

```
awk '{$1 = ""; print}' 
```

因为我需要先检查。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T06:24:01.190

这个 sed 命令将完成这项工作：

```
sed -i.bak 's/^[^<]*//' logfile 
```

**编辑：**根据您的评论，这只会清除日期部分并保留时间戳：

```
sed -i.bak 's/^[^ ]* //' logfile 
```

**编辑 2：**根据您第二次编辑的问题：

```
sed -i.bak 's#^[0-9]*/[0-9]*/[0-9]* ##' logfile 
```

或者在 sed 中使用扩展的正则表达式功能，如下所示：

**苹果电脑：**

```
sed -E -i.bak 's#^[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,2} ##' logfile 
```

**Linux：**

```
sed -r -i.bak 's#^[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,2} ##' logfile 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-04-10T17:29:16.917

cut 命令在这里很容易应用：

```
cut -d " " -f "2-" logfile 
```

它的意思是：

*如果每一行都用空格分隔（分隔符，-d 选项），则从第二个开始取出所有项目。*

# c++ - struct 构造函数中不允许不完整的类型

> ID：16008624
> 
> 赞同：2
> 
> 时间：2013-04-15T06:07:25.313
> 
> 标签：c++

尝试执行此操作时出现此错误：

```
#include <iostream>
using namespace std;
struct VertexStatus
{
private:
    int _CurrentStatus;

public:
    static VertexStatus Discovered = new VertexStatus(1); //incomplete type is not allowed
    VertexStatus(int iStatus)
    {
        this->_CurrentStatus = iStatus;
    }
}; 
```

有什么不对？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T06:09:52.720

将初始化移出类体：

```
struct VertexStatus
{
    ...
    static VertexStatus Discovered; // declaration
    ...
};

VertexStatus VertexStatus::Discovered(1); // definition (with initializer) 
```

如果类在头文件中声明，则将最后一行（定义）放入相应的`.cpp`文件中。

请注意，我已删除`new`: 它返回一个指针，并且此代码中不涉及任何指针。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-15T06:10:00.740

的大小`VertexStatus`直到它被完全声明后才知道，它并没有在它自己的定义中。

而是在声明后初始化静态变量，如下所示：

```
struct VertexStatus {
    static VertexStatus Discovered;
    // ... other stuff
};

VertexStatus::Discovered = new VertexStatus(1); 
```

如果这是在头文件中，则需要将最后一行放在其对应的 .cpp 文件中。

# windows - 为什么将 RtlFillMemory/RtlCopyMemory 定义为宏

> ID：16008625
> 
> 赞同：4
> 
> 时间：2013-04-15T06:07:29.583
> 
> 标签：windows, winapi, macros, crt

根据定义（winnt.h）：

```
#define RtlCopyMemory(Destination,Source,Length) memcpy((Destination),(Source),(Length))
#define RtlFillMemory(Destination,Length,Fill) memset((Destination),(Fill),(Length)) 
```

我们看到这个函数实际上是宏，它调用 memset/memcpy 函数。

问题是为什么？

最初这些函数是由**kernel32.dll**导出的（但仅作为**ntdll.dll**的存根），那么将它们用作 CRT 函数的原因是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T13:30:04.473

Windows api 是使用层实现的。上面有详细记录的 winapi，每个 Windows 程序都应该使用它来进行操作系统调用。微软永远无法改变它，这样做会破坏很多遗留程序。最下面的是原生操作系统api，函数名以Nt或Zw开头。除了编写驱动程序所需的之外，没有记录。微软会随着每个 Windows 版本定期更改它，这是它可以在 Windows 上进行创新而不会破坏太多代码的基本方式。Vista 是 Windows 的最后一个版本，在底层发生了巨大的变化，产生的抱怨已经很好地公布了。

中间还有一层，帮助函数从已发布的 API 转换为未记录的 API 并返回。它的名字以 Rtl 开头。

它们也应该是无证的，但程序员对它们进行了逆向工程，最终依赖于它们。一些已被 Microsoft 记录，因为它们通常对调试有用或填补了 winapi 中的空白。这对微软来说是痛苦的，当底层发生变化时，不可避免地，那些 Rtl 功能也需要改变。RtlCopyMemory 和 RtlFillMemory 被特别滥用，很多 VB6 代码都使用它，因为它没有发布的函数来做同样的事情。

好吧，那只猫已经出局了。因此，您发现的声明是 Microsoft 试图让程序使用已记录的函数并停止依赖可能需要更改的函数。它可以做的唯一合理的事情来解决这个问题。

# javascript - 使用 classlist.add javascript 添加类

> ID：16008628
> 
> 赞同：0
> 
> 时间：2013-04-15T06:07:55.513
> 
> 标签：javascript, css

我正在尝试在某些事件上添加一个新课程。

新班级具有不同的形象，我希望将其强加于先前存在的班级。

所以我在 DOM 中观察到的，我可以看到这两个类（现有的和新添加的）。我希望最新添加的内容生效，但 DOM 将添加的类显示为已删除，并将现有的类显示为已应用。

有没有人在某个时候遇到过这个问题，并告诉我可能出了什么问题。在代码中的另一个地方，同样的事情起作用并且 DOM 将现有类显示为已删除，而将新类显示为已应用？

# mysql - mysql查询分组逻辑

> ID：16008637
> 
> 赞同：0
> 
> 时间：2013-04-15T06:08:21.893
> 
> 标签：mysql, select, group-by

我的这个查询从 shipwynum 151513 的转售表中获取 6 条记录：-

```
 select re.recdat,
        re.resaleid,
        IF (re.benownsal != '', owsal.ownshortnam, if ((re.grptypsal != '' &&
         re.bogrpidsal != ''), if (bosal.bogrpshort != '', bosal.bogrpshort,
          bosal.bogrpnam), cou1.nation)) as seller,
        IF (re.benownpur != '', owpur.ownshortnam, if ((re.grptyppur != '' &&
         re.bogrpidpur != ''), if (bopur.bogrpshort != '', bopur.bogrpshort,
          bopur.bogrpnam), cou.nation)) as buyer,
        re.benownpur,
        re.grptyppur,
        re.bogrpidpur,
        re.statuscod,
        re.showinob,
        re.benownsal,
        re.grptypsal,
        re.bogrpidsal
 from resale as re
      left join owner as owpur on owpur.ownwynum = re.benownpur
      left join owner as owsal on owsal.ownwynum = re.benownsal
      left join bogroup as bopur on bopur.bogrpid = re.bogrpidpur
      left join bogroup as bosal on bosal.bogrpid = re.bogrpidsal
      left join country as cou on cou.coucod = re.buynation
      left join country as cou1 on cou1.coucod = re.selnation
 where re.shipwynum = '151513' and
       re.deleted = 'N' 
 order by re.saltyp desc,
          re.recdat 
```

在这里，我添加了从上面查询 shipwynum 15153 获得的示例数据屏幕截图：-

![在此处输入图像描述](https://i.stack.imgur.com/kr5Ok.png) 当我添加限制子句时`LIMIT 1`，它会获得我期望的第一个记录。但它只适用于一艘船有shipwynum = 151513。我想为每艘船获得第一个记录。

我所做的更改是为了获得每艘船的此类记录。

任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T11:24:25.663

您可以将查询用作内部查询并将其分组到外部。尝试您的查询：

```
select abc.recdat, abc.resaleid, abc.seller, abc.buyer,abc.benownpur,
abc.grptyppur, abc.bogrpidpur, abc.statuscod, abc.showinob, abc.benownsal, abc.grptypsal, abc.bogrpidsal

  from ( select re.recdat,
        re.resaleid,
        IF (re.benownsal != '', owsal.ownshortnam, if ((re.grptypsal != '' &&
         re.bogrpidsal != ''), if (bosal.bogrpshort != '', bosal.bogrpshort,
          bosal.bogrpnam), cou1.nation)) as seller,
        IF (re.benownpur != '', owpur.ownshortnam, if ((re.grptyppur != '' &&
         re.bogrpidpur != ''), if (bopur.bogrpshort != '', bopur.bogrpshort,
          bopur.bogrpnam), cou.nation)) as buyer,
        re.benownpur,
        re.grptyppur,
        re.bogrpidpur,
        re.statuscod,
        re.showinob,
        re.benownsal,
        re.grptypsal,
        re.bogrpidsal,
        re.shipwynum
 from resale as re
      left join owner as owpur on owpur.ownwynum = re.benownpur
      left join owner as owsal on owsal.ownwynum = re.benownsal
      left join bogroup as bopur on bopur.bogrpid = re.bogrpidpur
      left join bogroup as bosal on bosal.bogrpid = re.bogrpidsal
      left join country as cou on cou.coucod = re.buynation
      left join country as cou1 on cou1.coucod = re.selnation
 where re.shipwynum = '151513' and
       re.deleted = 'N' 
 order by re.saltyp desc,
          re.recdat)abc group by abc.shipwynum 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T09:34:04.913

您可以使用此查询 - 目的是为每个 shipwynum 获取 [n] 个转售标识，其中 [n=2] 是

```
SELECT (SUBSTRING_INDEX(GROUP_CONCAT(CONVERT(resaleid, CHAR(8)) ORDER BY resaleid DESC), ',', 2)) AS ID FROM resale WHERE deleted = 'N' GROUP BY shipwynum 
```

请注意，GROUP_CONCAT 结果被截断为 max len 1024 (group_concat_max_len)。这可能存在性能问题，因此请随时根据需要进行更新和优化。

其他建议是设置排名，但不设置如何为您工作。您可以查看排名：[http ://www.oracle-base.com/articles/misc/rank-dense-rank-first-last-analytic-functions.php#rank](http://www.oracle-base.com/articles/misc/rank-dense-rank-first-last-analytic-functions.php#rank)

希望这可以帮助。

```
SELECT  re.recdat,
        re.resaleid,
        IF (re.benownsal != '', owsal.ownshortnam, if ((re.grptypsal != '' && re.bogrpidsal != ''), if (bosal.bogrpshort != '', bosal.bogrpshort, bosal.bogrpnam), cou1.nation)) as seller,
        IF (re.benownpur != '', owpur.ownshortnam, if ((re.grptyppur != '' && re.bogrpidpur != ''), if (bopur.bogrpshort != '', bopur.bogrpshort, bopur.bogrpnam), cou.nation)) as buyer,
        re.benownpur,
        re.grptyppur,
        re.bogrpidpur,
        re.statuscod,
        re.showinob,
        re.benownsal,
        re.grptypsal,
        re.bogrpidsal

FROM resale AS re
      left join owner as owpur on owpur.ownwynum = re.benownpur
      left join owner as owsal on owsal.ownwynum = re.benownsal
      left join bogroup as bopur on bopur.bogrpid = re.bogrpidpur
      left join bogroup as bosal on bosal.bogrpid = re.bogrpidsal
      left join country as cou on cou.coucod = re.buynation
      left join country as cou1 on cou1.coucod = re.selnation 

WHERE LOCATE (re.resaleid, 
(
    SELECT GROUP_CONCAT(it.resaleid) AS ids
        FROM (
                SELECT (SUBSTRING_INDEX(GROUP_CONCAT(CONVERT(resaleid, CHAR(8)) ORDER BY resaleid DESC), ',', 2)) AS ID FROM resale WHERE deleted = 'N' GROUP BY shipwynum
            ) it
)) <> 0 
    /* AND re.deleted = 'N' */
 order by re.saltyp desc,
          re.recdat 
```

# asp.net - 如何为 Umbraco 创建项目包？

> ID：16008641
> 
> 赞同：7
> 
> 时间：2013-04-15T06:08:26.480
> 
> 标签：asp.net, umbraco

我需要为 umbraco 创建一个项目。我不知道从哪里开始以及在哪里看到这个。我用谷歌搜索并没有发现任何有用的东西，相反我对什么是 umbraco 项目感到困惑。要创建 umbraco 项目，我是否需要在 Visual Studio 中创建 Web 应用程序或类库。

我知道这些是基本的，但我只是对此感到困惑。有人能帮我为 umbraco CMS 创建项目吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-16T15:21:09.440

如果我理解正确，您正在寻找有关如何创建 Umbraco 包的资源。

一旦你想出了一种方法来扩展 Umbraco 的功能（即：一个新的数据类型、一个新的部分、一些在发布时触发的事件处理程序等），你就会想找到一种方法来打包它并重新分发它，甚至可能在[Our Umbraco](http://our.umbraco.org/projects)上。有几种方法可以做到这一点：

1.  **Umbraco 后台提供了一种打包文档类型、数据类型、模板、程序集等的方法：**

    1.  在**Developer**部分，展开**Packages**。
    2.  右键单击**Created packages**，然后选择**Create**。
    3.  填写包详细信息、选择内容和文件、编写包操作等。
2.  **使用 MSBuild 在 Visual Studio 中创建包**。这是一种更高级（因此也很复杂）的方法。我发现查看一些流行包的源代码（例如[uComponents](http://ucomponents.codeplex.com/SourceControl/changeset/view/d4d3e337953d#BuildPackage/BuildPackage.msbuild)）有助于更好地理解这是如何完成的。

包文件只是一个包含 xml 的 zip 文件，其中包含 Umbraco 安装时的操作说明。

# android-sqlite - 服务 com.android.exchange.ExchangeService 已泄露 ServiceConnection com.android.emailcommon.service

> ID：16008649
> 
> 赞同：5
> 
> 时间：2013-04-15T06:08:46.967
> 
> 标签：android-sqlite

我只是想将数据发送到服务器。但它不这样做，我已经粘贴了我的程序，请更正它。

```
 public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        System.out.println("before try blockkkkkkkkkkkkkkkkkkkkkkkk");
        try {

            Class.forName("com.mysql.jdbc.Driver");
            System.out.println("after loading of driverssssssssssssssssssssss");

            Connection con=DriverManager.getConnection("jdbc:mysql://111.118.182.212/dbbio","root", "");
            System.out.println("after creating coonnectionnnnnnnnnnnnnnnn");
            Statement stmt=con.createStatement();

            String SQL="insert into LKRAJ VALUES ('02','01','amritsar','01','mohali','lkraj')";
              stmt.executeUpdate(SQL);          
        } catch (Exception e) {
            // TODO: handle exception
            Toast.makeText(this,"can not create connectionnnnnnn",Toast.LENGTH_LONG).show();
        }
        }

} 
```

我的 logcat 错误是：

```
04-15 06:07:15.107: E/ActivityThread(558): Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d31a88 that was originally bound here
04-15 06:07:15.107: E/ActivityThread(558): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d31a88 that was originally bound here
04-15 06:07:15.107: E/ActivityThread(558):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
04-15 06:07:15.107: E/ActivityThread(558):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
04-15 06:07:15.107: E/ActivityThread(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
04-15 06:07:15.107: E/ActivityThread(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
04-15 06:07:15.107: E/ActivityThread(558):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
04-15 06:07:15.107: E/ActivityThread(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
04-15 06:07:15.107: E/ActivityThread(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
04-15 06:07:15.107: E/ActivityThread(558):  at com.android.emailcommon.service.AccountServiceProxy.getDeviceId(AccountServiceProxy.java:116)
04-15 06:07:15.107: E/ActivityThread(558):  at com.android.exchange.ExchangeService.getDeviceId(ExchangeService.java:1249)
04-15 06:07:15.107: E/ActivityThread(558):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1856)
04-15 06:07:15.107: E/ActivityThread(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
04-15 06:07:15.107: E/ActivityThread(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
04-15 06:07:15.107: E/ActivityThread(558):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
04-15 06:07:15.107: E/ActivityThread(558):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
04-15 06:07:15.107: E/ActivityThread(558):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
04-15 06:07:15.107: E/ActivityThread(558):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
04-15 06:07:15.107: E/ActivityThread(558):  at java.lang.Thread.run(Thread.java:856)
04-15 06:07:15.246: E/StrictMode(558): null
04-15 06:07:15.246: E/StrictMode(558): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d31a88 that was originally bound here
04-15 06:07:15.246: E/StrictMode(558):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
04-15 06:07:15.246: E/StrictMode(558):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
04-15 06:07:15.246: E/StrictMode(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
04-15 06:07:15.246: E/StrictMode(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
04-15 06:07:15.246: E/StrictMode(558):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
04-15 06:07:15.246: E/StrictMode(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
04-15 06:07:15.246: E/StrictMode(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
04-15 06:07:15.246: E/StrictMode(558):  at com.android.emailcommon.service.AccountServiceProxy.getDeviceId(AccountServiceProxy.java:116)
04-15 06:07:15.246: E/StrictMode(558):  at com.android.exchange.ExchangeService.getDeviceId(ExchangeService.java:1249)
04-15 06:07:15.246: E/StrictMode(558):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1856)
04-15 06:07:15.246: E/StrictMode(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
04-15 06:07:15.246: E/StrictMode(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
04-15 06:07:15.246: E/StrictMode(558):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
04-15 06:07:15.246: E/StrictMode(558):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
04-15 06:07:15.246: E/StrictMode(558):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
04-15 06:07:15.246: E/StrictMode(558):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
04-15 06:07:15.246: E/StrictMode(558):  at java.lang.Thread.run(Thread.java:856)
04-15 06:07:15.246: W/ActivityManager(288): Unbind failed: could not find connection for android.os.BinderProxy@40e07cd0
04-15 06:07:15.376: E/ActivityThread(558): Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40ce6e38 that was originally bound here
04-15 06:07:15.376: E/ActivityThread(558): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40ce6e38 that was originally bound here
04-15 06:07:15.376: E/ActivityThread(558):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
04-15 06:07:15.376: E/ActivityThread(558):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
04-15 06:07:15.376: E/ActivityThread(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
04-15 06:07:15.376: E/ActivityThread(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
04-15 06:07:15.376: E/ActivityThread(558):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
04-15 06:07:15.376: E/ActivityThread(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
04-15 06:07:15.376: E/ActivityThread(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
04-15 06:07:15.376: E/ActivityThread(558):  at com.android.emailcommon.service.ServiceProxy.test(ServiceProxy.java:191)
04-15 06:07:15.376: E/ActivityThread(558):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1850)
04-15 06:07:15.376: E/ActivityThread(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
04-15 06:07:15.376: E/ActivityThread(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
04-15 06:07:15.376: E/ActivityThread(558):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
04-15 06:07:15.376: E/ActivityThread(558):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
04-15 06:07:15.376: E/ActivityThread(558):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
04-15 06:07:15.376: E/ActivityThread(558):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
04-15 06:07:15.376: E/ActivityThread(558):  at java.lang.Thread.run(Thread.java:856)
04-15 06:07:15.496: E/StrictMode(558): null
04-15 06:07:15.496: E/StrictMode(558): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40ce6e38 that was originally bound here
04-15 06:07:15.496: E/StrictMode(558):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
04-15 06:07:15.496: E/StrictMode(558):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
04-15 06:07:15.496: E/StrictMode(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
04-15 06:07:15.496: E/StrictMode(558):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
04-15 06:07:15.496: E/StrictMode(558):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
04-15 06:07:15.496: E/StrictMode(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
04-15 06:07:15.496: E/StrictMode(558):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
04-15 06:07:15.496: E/StrictMode(558):  at com.android.emailcommon.service.ServiceProxy.test(ServiceProxy.java:191)
04-15 06:07:15.496: E/StrictMode(558):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1850)
04-15 06:07:15.496: E/StrictMode(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
04-15 06:07:15.496: E/StrictMode(558):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
04-15 06:07:15.496: E/StrictMode(558):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
04-15 06:07:15.496: E/StrictMode(558):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
04-15 06:07:15.496: E/StrictMode(558):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
04-15 06:07:15.496: E/StrictMode(558):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
04-15 06:07:15.496: E/StrictMode(558):  at java.lang.Thread.run(Thread.java:856)
04-15 06:07:15.506: W/ActivityManager(288): Unbind failed: could not find connection for android.os.BinderProxy@40e2be70 
```

# android - 如果强制关闭则重新启动服务

> ID：16008650
> 
> 赞同：0
> 
> 时间：2013-04-15T06:08:49.543
> 
> 标签：android, android-service

在我的应用程序中，我每隔一分钟从活动中重新启动我的服务。但如果应用程序被强制关闭，它将启动服务。当时的活动状态如何。

这是我的代码。

```
void toggleLogging(boolean isStart, int interval) 
{
    AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
    PendingIntent loggerIntent = PendingIntent.getBroadcast(this, 0,new Intent(this,AlarmReceiver.class), 0);       
    long duration = interval * 60 * 1000;
    manager.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP,
    SystemClock.elapsedRealtime(), duration, loggerIntent);
    AppSettings.setServiceRunning(this, true);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:21:58.910

是的，即使应用程序被强制关闭，也会注册警报，所以不用担心

根据您的要求，我添加了代码

```
public class SampleActivity extends Activity{
    public static AlarmManager mAlarmManager;
    public static PendingIntent mPintent;
    public static Intent mIntent;

    @Override
    protected void onCreate(Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        Context context = getApplicationContext();
        SampleActivity.startAlarmManager(context);
    }

    public static void startAlarmManager(Context context){
        SampleActivity.mIntent = new Intent(context, YourService.class);
        mAlarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
        mPintent = PendingIntent.getService(context, 0, SampleActivity.mIntent, 0);
        Calendar cal = Calendar.getInstance();
        mAlarmManager.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), 2000, mPintent);
    }
} 
```

然后在启动完成时启动相同的警报

```
public class SampleBootComplete extends BroadcastReceiver{

    @Override
    public void onReceive(Context context, Intent arg1) {
        SampleActivity.startAlarmManager(context);
    }

} 
```

在清单文件中注册启动完成接收器

```
<receiver android:name="com.sample.receiver.SampleBootComplete">
           <intent-filter >
               <action android:name="android.intent.action.BOOT_COMPLETED"/>
           </intent-filter>
       </receiver> 
```

# paradox - 无法使用 Paradox 数据编辑器打开 Paradox 数据库

> ID：16008651
> 
> 赞同：0
> 
> 时间：2013-04-15T06:08:51.320
> 
> 标签：paradox

我有一个 .db 悖论文件。当我尝试使用 Paradox 数据编辑器版本 2.5.1.0 打开它时，我收到以下错误“网络初始化失败。权限被拒绝。文件：C:\Program Files (x86)\PDE\PDOXUSRS.Net Directory:C:\Program文件 (x86)\PDE。” 无法继续。请帮忙...

谢谢，斯里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T19:09:18.947

这可能不是一个完整的答案，但您需要对 PDoxUsrs.net 文件具有读写权限。C:\Program Files (x86) 下的文件夹通常是写保护的。

尝试使用 BDE 管理/配置实用程序将“NET DIR”的位置（在“配置”选项卡下的“配置|驱动程序|本机|悖论”树节点中）更改为您拥有完全权限的文件夹。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-05-13T14:48:39.880

好的，伙计们，按照 Tor Langlo 上面的指示进行操作，即：

将 PDOXUSERS.NET 文件复制到远离 C 根系统驱动器的另一个（最好是根 - 容易找到）位置。如果您的系统上只有一个硬盘驱动器，则可以将其放在 USB 驱动器上。如果您愿意，可以将原始文件保留在原处。

打开可执行文件，转到查看>BDE 属性>会话并在网络控制文件目录中键入或选择移动文件的新路径并选中确定退出。

启动程序并找到您要打开的数据库。您应该会发现它现在可以正确打开。祝你好运。

# mootools - 在mootools 1.1中的slideOut之后的slideIn

> ID：16008654
> 
> 赞同：0
> 
> 时间：2013-04-15T06:09:05.063
> 
> 标签：mootools, delay, mootools-events

我正在尝试在**mootools 1.1**中构建自定义代码，正在做的是当您首先单击容器 slideOut 的按钮并延迟几秒钟让说 2 秒然后再次 slideIn 时，首先容器是打开的......

编码：-

```
$('showMore').addEvent('click', function(e){
   e = new Event(e);
   mySlide.slideOut().delay(5000).slideIn();
   e.stop();
}); 
```

代码不起作用，它滑出但不是下一个...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:36:52.747

阅读有关延迟函数的文档 - 您在函数而不是对象上调用它。

```
mySlide.slideOut().slideIn.delay(5000, mySlide); 
```

# vba - VBA：显示在运行时完成的行号

> ID：16008656
> 
> 赞同：0
> 
> 时间：2013-04-15T06:09:17.893
> 
> 标签：vba

我无法观察到运行时完成的行数。因此，我在想为什么不只写几行代码来显示运行时完成的行数。

以下是我的实现：

```
Dim ownCntrl As Control
Set ownCntrl = UserForm1.Controls.Add("Forms.TextBox.1")
With ownCntrl
    .Name = "RowNoTextBox"
    .Value = "test"
    .Width = 150
    .Height = 25
    .Top = 10
    .Left = 10
    .ZOrder (0)
End With
UserForm1.Show 
```

以下是我的查询：

1）除了TextBox对象，还有没有其他像Java中的标签一样的对象在VBA中显示信息？

2）如果最初没有创建一个名为“UserForm1”的用户窗体，我可以在运行时直接创建文本框对象或其他合适的对象吗？原因，不调用 UserForm1.Show 函数，TextBox 对象不会显示

3）如何在运行时保持 UserForm 或 TextBox 显示而无需用户交互来关闭它以继续？

我刚开始学习VBA。欣赏各位的建议。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:45:57.643

根据评论中的一些附加信息，保持子程序进度信息的最简单方法是使用 Excel 状态栏。因此，我们在我们的子程序中放入如下内容：

```
Application.StatusBar = "Current progress- Row No.: " & rowNum 
```

其中`rowNum`是表示当前行的变量（循环变量）。这很重要 - 您需要在程序结束之前返回调用此行的标准状态栏行为：

```
Application.StatusBar = False 
```

# python - Python ascii 元组

> ID：16008659
> 
> 赞同：1
> 
> 时间：2013-04-15T06:09:27.763
> 
> 标签：python, string, ascii, tuples

我需要与接受 Python 中 uint8_t 元组输入的模块进行通信。假设有一个字符串：

```
str="9,2,..." 
```

是否有可以将字符串转换为元组的函数，例如：

```
encoded_tuple=(57,44,50,...) 
```

元组包括对应于 ( `0x39,0x2c,0x32,...`) 的 uint8_t 十进制值，它们是字符串中字符的 ASCII 值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T06:12:27.443

使用[`map`](http://docs.python.org/2/library/functions.html#map)和[`ord`](http://docs.python.org/2/library/functions.html#ord)函数。

```
>>> mystr = '9,2,...'
>>> tuple(map(ord, mystr))
(57, 44, 50, 44, 46, 46, 46) 
```

该`ord`函数返回单个字符的 unicode 值。该`map`函数适用`ord`于字符串中的每个字符，只剩下元组。

另外，注意不要`str`用作变量名，因为它会覆盖内置函数。

# python - 如何使用python打印文本文件中的特定行

> ID：16008661
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:09:30.927
> 
> 标签：python

这是我的输入文本文件，其中包含三个字段。（描述、值、极性）

```
this is good
01
positive
this is bad
-01
negetive
this is ok
00
neutral 
```

所以我需要根据值字段获取所有描述。例如：`"This is good"`当我检查 if 条件时，我想打印`"01"`。有没有办法做到这一点。请给我建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:30:26.610

使用`grouper`配方 from[`itertools`](http://docs.python.org/2/library/itertools.html#recipes)以 3 行为一组迭代文件：

```
>>> from itertools import izip_longest, imap
>>> def grouper(n, iterable, fillvalue=None):
        "Collect data into fixed-length chunks or blocks"
        # grouper(3, 'ABCDEFG', 'x') --> ABC DEF Gxx
        args = [iter(iterable)] * n
        return izip_longest(fillvalue=fillvalue, *args)

>>> with open('test.txt') as f:
    d = dict((val, (desc, pol)) 
             for desc, val, pol in grouper(3, imap(str.rstrip, f)))

>>> d['00']
('this is ok', 'neutral')
>>> d['00'][0]
'this is ok'
>>> d['01'][0]
'this is good' 
```

**注意：**在 Python 3 中使用 normal`map`代替（不再需要导入）并且`izip_longest`现在`zip_longest`

# ruby-on-rails - Rails Memcached 用法

> ID：16008665
> 
> 赞同：1
> 
> 时间：2013-04-15T06:09:59.237
> 
> 标签：ruby-on-rails, caching, memcached

我正在考虑将 memcached 用于我的 rails 应用程序。我正在考虑在我的会员搜索中使用它，但我很困惑，因为搜索的多个参数将通过用户选择而改变。

这是搜索查询的示例：

```
 @results = Painter.city(params[:city].downcase).state(params[:state]).tools(tools).transportation(trans).travel_distance(params[:travel_distance]).insurance(insurance).employee(emp).subcontractor(sub).available(true).paginate(:page => params[:page], :per_page => 20).where("premium = ? AND banned = ?", false, false).order('last_name') 
```

这似乎是 memcached 的可能候选者，但我不确定。

请提供方向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:19:56.567

您当然可以使用 Memcached 缓存它。您必须首先确定**缓存键**的格式，并且当您有几个不同的标准/字段可以唯一地确定缓存记录（例如在您的情况下）时，您可能可以使用一些预先确定的顺序将它们连接起来一种将它们分开的字符串。例如，您的缓存键可能如下所示：

```
@results = Rails.cache.fetch([params[:city].downcase,
                   params[:state],
                   tools,
                   trans,
                   params[:travel_distance],
                   insurance,
                   emp,
                   sub,
                   params[:page]
                  ].join('/')) do
  Painter.city(params[:city].downcase)...  # rest of your query
end 
```

您可能想要调整或清理格式，但其要点是您必须能够将*一致*的缓存键计算为字符串。对多个字段执行此操作的最简单方法是`join`使用分隔符（我选择了`/`，但如果您选择，您可以使用其他分隔符。）

另请注意，我省略了`:per_page => 20`, 因为它在您的控制器代码中是硬编码的，并且不会根据用户输入而变化。如果您决定允许用户自定义返回的记录数，您还需要将其包含在缓存键中。`where("premium = ? AND banned = ?", false, false)`子句也是如此，并且`available(true)`.

您可以将 Rails 缓存用于从其原始源查找非平凡的任何类型的内容（即，如果它涉及 DB 查询）。

当然，要记住的一个非常重要的考虑因素是**缓存过期**：如果/当您向数据库添加符合缓存中数据标准的新记录时，您必须确保手动使缓存中的数据**过期**，或者否则在您访问缓存时设置自动过期，`write`以便最终自行清除和刷新。

在 Rails 中使用 Memcached，手动过期缓存涉及`delete`：

```
Rails.cache.delete(key) 
```

或者要使用自动过期，请使用以下`:expires_in`选项：

```
Rails.cache.write(key, value, :expires_in => 1.minute) 
```

# browser - 在浏览器缓存中设置图像

> ID：16008668
> 
> 赞同：0
> 
> 时间：2013-04-15T06:10:07.087
> 
> 标签：browser, browser-cache

有没有办法在浏览器的缓存中设置图像？我正在搜索，但我找不到任何东西。如果可以在缓存中设置图像，请给我正确的方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:19:25.533

尝试这个

```
img2=new Image();
img2.src="landscape3.gif";
function changeImage() 
```

来自[http://www.w3schools.com/dhtml/tryit.asp?filename=trydhtml_image_preload](http://www.w3schools.com/dhtml/tryit.asp?filename=trydhtml_image_preload)

# python - 如何将一个字符串散列成 8 位数字？

> ID：16008670
> 
> 赞同：146
> 
> 时间：2013-04-15T06:10:19.053
> 
> 标签：python, arrays, algorithm, random, hash

无论如何，我可以在不自己实现任何算法的情况下将随机字符串散列成 8 位数字吗？

* * *

## 回答 #1

> 赞同：203
> 
> 时间：2013-04-15T06:17:59.020

是的，您可以使用内置[`hashlib`](http://docs.python.org/library/hashlib.html#module-hashlib)模块或内置[`hash`](http://docs.python.org/library/functions.html#hash)函数。然后，在散列的整数形式上使用模运算或字符串切片运算去掉最后八位数字：

```
>>> s = 'she sells sea shells by the sea shore'

>>> # Use hashlib
>>> import hashlib
>>> int(hashlib.sha1(s.encode("utf-8")).hexdigest(), 16) % (10 ** 8)
58097614L

>>> # Use hash()
>>> abs(hash(s)) % (10 ** 8)
82148974 
```

* * *

## 回答 #2

> 赞同：133
> 
> 时间：2017-02-07T11:57:54.957

Raymond 的回答非常适合 python2（不过，您不需要 abs() 也不需要 10 ** 8 左右的括号）。但是，对于 python3，有一些重要的警告。首先，您需要确保传递的是编码字符串。如今，在大多数情况下，回避 sha-1 并改用 sha-256 之类的东西可能会更好。因此，hashlib 方法将是：

```
>>> import hashlib
>>> s = 'your string'
>>> int(hashlib.sha256(s.encode('utf-8')).hexdigest(), 16) % 10**8
80262417 
```

如果您想改用 hash() 函数，重要的警告是，与 Python 2.x 不同，在 Python 3.x 中，hash() 的结果只会在进程内保持一致，而不是跨 python 调用。看这里：

```
$ python -V
Python 2.7.5
$ python -c 'print(hash("foo"))'
-4177197833195190597
$ python -c 'print(hash("foo"))'
-4177197833195190597

$ python3 -V
Python 3.4.2
$ python3 -c 'print(hash("foo"))'
5790391865899772265
$ python3 -c 'print(hash("foo"))'
-8152690834165248934 
```

这意味着建议使用基于 hash() 的解决方案，可以将其缩短为：

`hash(s) % 10**8`

只会在给定的脚本运行中返回相同的值：

```
#Python 2:
$ python2 -c 's="your string"; print(hash(s) % 10**8)'
52304543
$ python2 -c 's="your string"; print(hash(s) % 10**8)'
52304543

#Python 3:
$ python3 -c 's="your string"; print(hash(s) % 10**8)'
12954124
$ python3 -c 's="your string"; print(hash(s) % 10**8)'
32065451 
```

因此，根据这在您的应用程序中是否重要（在我的应用程序中确实如此），您可能希望坚持使用基于 hashlib 的方法。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2017-11-15T22:02:45.947

只是为了完成 JJC 答案，在 python 3.5.3 中，如果您以这种方式使用 hashlib，则行为是正确的：

```
$ python3 -c '
import hashlib
hash_object = hashlib.sha256(b"Caroline")
hex_dig = hash_object.hexdigest()
print(hex_dig)
'
739061d73d65dcdeb755aa28da4fea16a02b9c99b4c2735f2ebfa016f3e7fded
$ python3 -c '
import hashlib
hash_object = hashlib.sha256(b"Caroline")
hex_dig = hash_object.hexdigest()
print(hex_dig)
'
739061d73d65dcdeb755aa28da4fea16a02b9c99b4c2735f2ebfa016f3e7fded

$ python3 -V
Python 3.5.3 
```

* * *

## 回答 #4

> 赞同：-8
> 
> 时间：2019-10-28T19:03:17.810

我正在分享由@Raymond Hettinger 实现的解决方案的nodejs 实现。

```
var crypto = require('crypto');
var s = 'she sells sea shells by the sea shore';
console.log(BigInt('0x' + crypto.createHash('sha1').update(s).digest('hex'))%(10n ** 8n)); 
```

# django - django admin 只读数据（无编辑，无添加）

> ID：16008671
> 
> 赞同：1
> 
> 时间：2013-04-15T06:10:24.743
> 
> 标签：django, django-admin

管理员.py

```
class ChatMessageAdmin(admin.ModelAdmin):
    def has_add_permission(self, request, obj=None):
        return False

    def has_change_permission(self, request, obj=None):
        return False

    list_display = ('username','ip', 'timestamp','message',)
    search_fields = ['message']
    list_filter = ('username','ip')

admin.site.register(ChatMessage,ChatMessageAdmin) 
```

当我重写`has_change_permission`类似上层的方法时，我看不到显示所有聊天条目的 http://[domain]/admin/chat 页面 我如何重写`has_change_permission`才能访问此页面？

**编辑** 我没有 auth_user 可以编辑聊天条目，但如果他想要我想要删除它的能力。

# xml - 来自 XSD 的自定义 XML 生成器 UI

> ID：16008672
> 
> 赞同：1
> 
> 时间：2013-04-15T06:10:44.280
> 
> 标签：xml, user-interface, xsd, xml-generation

我有一个 XSD 文档。我的要求是创建一个 UI，它将根据 XSD 文档中的一些输入字段值和规则生成 XML。

是否有任何可用的在线工具，可以获取 XSD 文档并为 xsd 中的每个节点创建一个带有输入元素的 UI，并基于 XSD 生成自定义 XML？

如果我的问题不清楚，请告诉我。

谢谢，哈雷什

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:07:59.237

我认为你应该看看[这个答案](https://stackoverflow.com/questions/8274615/get-html-form-from-xsd/8359238#8359238)。当然，不清楚的是您想要生成和维护什么样的 UI；我提到的帖子涵盖了广泛的场景，即使问题是针对 HTML 的。

转折点可能是，如今 XSD 中的规则，特别是当您开始考虑 XSD 1.1 时，具有全新的含义。这就是您的想法，虽然共同约束可能仍然很容易添加，但条件类型分配却不是。无论如何，XSD 1.1 距离获得任何重大采用还有很长的路要走，哪怕只是因为完全兼容和免费的处理器的可用性有限。

# javascript - 如何使用 javascript 渲染模板值 - Meteor

> ID：16008676
> 
> 赞同：2
> 
> 时间：2013-04-15T06:10:58.760
> 
> 标签：javascript, templates, dynamic, meteor, render

如何呈现模板的内容..我不能通过这一点：/感谢您的帮助

例子 ：

```
<body>
  {{> dash}}
</body>

<template name="dash">
<div id="example2" class='example_block'> 
    <form name = "frm">
        <table>
            <tr>
                <td>Template Name
                <td>:
                <td><input type="text" name = tname class = "tname">
      </frm>
       <div class='demo'>
            <input type='button' value='Click Here to Create Window' class="btn"/> 
        </div> 
    </div>
<div id = "window_block8" style="display:none;"></div>
</template>

<template name="t1">
    try1
</template>

<template  name="t2">
    try2 
</template>

   //client.js
 Template.dash.events({
'click input.btn' : function(){
    var temp = document.frm.tname.value ;
    Session.set("template" , temp);
            $('body').append(Meteor.render(Template[Session.get("currentTemplate")]()));
     }
 }); 
```

像这样的东西..但是那个代码对我不起作用

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:00:38.577

[`Meteor.render(Template.try)`](http://docs.meteor.com/#meteor_render)返回一个文档片段，您可以使用 jQuery 或 vanilla JS 将其插入到您的页面中。

例如

```
Template.dash.aw = function() {
    document.body.appendChild(Meteor.render(Template.try));
} 
```

请注意，如果模板名称是可变的，则可以使用数组样式表示法：

```
document.body.appendChild(Meteor.render(Template[Session.get("currentTemplate")])); 
```

或者，如果您只想返回一个变量而不是整个模板：

```
Template.try.var = function() {
    return 'Hello';
}
Template.dash.aw = function() {
    return Template.try.var();
}
// Template.dash.aw = Template.try.var = function() {
//    return 'Hello';
// } 
```

注释的功能可能不够充分，因为您需要一些逻辑`Template.dash.aw`

# android - 在列表视图中显示 arraylist

> ID：16008680
> 
> 赞同：0
> 
> 时间：2013-04-15T06:11:09.457
> 
> 标签：android, listview, arraylist

代码根据此[示例](http://www.ezzylearning.com/tutorial.aspx?tid=1763429)进行更改。相关文件在下面指定。我没有使用该示例的 imageicon 部分，因为我不需要它。

**待定.java**

```
public class Pending {

public String title;
public Pending(){
    super();
}

public Pending(String title) {
    super();

    this.title = title;
}

} 
```

**PendingAdatapter.java**

```
public PendingAdapter(Context context, int layoutResourceId, Pending[] data) {

    super(context, layoutResourceId, data);
    this.layoutResourceId = layoutResourceId;
    this.context = context;
    this.data = data;

}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View row = convertView;
   PendingHolder holder = null;

   if(row == null)
   {
       LayoutInflater inflater = ((Activity)context).getLayoutInflater();
       row = inflater.inflate(layoutResourceId, parent, false);

       holder = new PendingHolder();

       holder.txtTitle = (TextView)row.findViewById(R.id.txtTitle);

       row.setTag(holder);
   }
   else
   {
       holder = (PendingHolder)row.getTag();
   }

   Pending weather = data[position];
   holder.txtTitle.setText(weather.title);

   return row;

}

static class PendingHolder
{

    TextView txtTitle;
} 
```

**MainActivity.java**

```
WayDataBase way1=new WayDataBase(Dashboard.this);
    Pending weather_data[] = new Pending[]
            {

                new Pending(way1.returnFormName().toString())
            };

    PendingAdapter adapter = new PendingAdapter(this, 
            R.layout.listview_item_row, weather_data);
    lstvw=(ListView)findViewById(R.id.forms_list);

    View header = (View)getLayoutInflater().inflate(R.layout.listview_header_row, null);
    lstvw.addHeaderView(header);

    lstvw.setAdapter(adapter); 
```

数据库的**returnFormname函数**

```
public ArrayList<String> returnFormName()
{

    openOrCreateDatabase();
    createlandtTable();
    createrefertable();
    createassettable();
    createofficeusetable();
    ArrayList<String> form = new ArrayList<String>();

    int appcount=0,refercount=0,assetcount=0,officecount=0;
    appcount=db.rawQuery("select * from "+TableNameis+";" ,null).getCount();
    refercount=db.rawQuery("select * from "+ReferenceTable+";" ,null).getCount();
    assetcount=db.rawQuery("select * from "+AssetTable+";" ,null).getCount();
    officecount=db.rawQuery("select * from "+OfficeUse+";" ,null).getCount();
    if(appcount==0)
    {
        form.add("Applicant");
    }
    if(refercount==0)
    {
        form.add("Reference");
    }
    if(assetcount==0)
    {
        form.add("Asset Details");
    }
    if(officecount==0)
    {
        form.add("Office Use");
    }

    return form;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:30:46.087

你的问题是这条线`formname.add(way1.returnFormName().toString());`。我不知道`WayDataBase`返回什么，但你想要做的是将每个值添加`way1`到`formname`. 您所做的是以`way1.returnFormName()`字符串形式返回对象的单个表示，这就是`toString()`所做的。

从中获取每个值`way1.returnFormName()`并将其添加到`formname`自身。

注意：要将`int`or转换`double`为 a `String`，只需将空字符串连接到它。前任。

```
int number = 5;
String some;
some = number +""; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:16:52.977

像这样更改您的代码

**MainActivity.java**

```
WayDataBase way1=new WayDataBase(Dashboard.this);
ArrayList<String> weather_data = way1.returnFormName();    

PendingAdapter adapter = new PendingAdapter(this, R.layout.listview_item_row, weather_data);
lstvw=(ListView)findViewById(R.id.forms_list);

View header = (View)getLayoutInflater().inflate(R.layout.listview_header_row, null);
lstvw.addHeaderView(header);

lstvw.setAdapter(adapter); 
```

**PendingAdatapter.java**

```
public PendingAdapter(Context context, int layoutResourceId, ArrayList<String> data) {
    super(context, layoutResourceId, data);
    this.layoutResourceId = layoutResourceId;
    this.context = context;
    this.data = data;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
   View row = convertView;
   PendingHolder holder = null;

   if(row == null)
   {
      LayoutInflater inflater = ((Activity)context).getLayoutInflater();
      row = inflater.inflate(layoutResourceId, parent, false);

      holder = new PendingHolder();

      holder.txtTitle = (TextView)row.findViewById(R.id.txtTitle);

      row.setTag(holder);
   }
   else
   {
      holder = (PendingHolder)row.getTag();
   }

   holder.txtTitle.setText(data.get(position));
   return row;
} 
```

# javascript - 如何使用鼠标拖动选项在 jQuery 数据表中选择多行

> ID：16008683
> 
> 赞同：0
> 
> 时间：2013-04-15T06:11:31.670
> 
> 标签：javascript, jquery, asp.net-mvc-3, datatable, fullrowselect

我在我的应用程序中使用 jQuery DataTables 插件。我需要使用鼠标拖动选项在 jQuery 数据表中选择多行。这怎么可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-20T04:54:36.010

使用 jQuery-UI 可选择和代码类似如下：

```
$( "#yourTable" ).selectable(
  {
     distance: 10,
     stop: function()
     {
       $( this ).find( "tr" ).each(
         function () {
           if ( $( this ).hasClass( 'ui-selected' ) )
             $( this ).addClass( 'row-selected' );
           else
             $( this ).removeClass( 'row-selected' );
         });
     }
  }); 
```

我使用“距离：10”，因为我发现否则我的鼠标按下表处理程序不会收到事件——这对你来说可能并不重要。

# java - java中以10为底到2、8、16的转换

> ID：16008685
> 
> 赞同：4
> 
> 时间：2013-04-15T06:11:43.457
> 
> 标签：java, string, binary, base-conversion

我在这个面向对象的课程中，但我只是不知道该怎么做。我知道基本的基础知识，但没有这样的。我被要求创建一个程序，将 # 的基数 10 转换为基数 2、基数 8 和基数 16。然后，在我们被要求将其从 2、8、16 转换回基数 10 之后。我收集了一些信息来自其他网站，实际上我最终编辑了一些。请帮忙！如果你们真的帮助和编辑自己并将其发送给我，我会更喜欢它，但如果这要求太多，请尝试指导我完成它，因为我不太了解 Java。到目前为止，我有：

```
import java.util.Scanner;

public class baseconverterr
{

public static void main(String[] args) {

      // Read the conversion choice from the user

      System.out.println("Choose 1 or 2 or 3:");

      System.out.println("1: conversion from base 10 to base 2 ");

      System.out.println("2: conversion from base 10 to base 8");

      System.out.println("3: conversion from base 10 to base 16");
      // do you want 1, 2 , or 3? you have your choice
      Scanner in = new Scanner(System.in);

      int choice = in.nextInt();

      String string = in.nextLine();

      // Read in the number to be converted and do the conversion

      String output= "";

      System.out.println("Please enter the number to be converted:");

      int input = in.nextInt();

      if (choice == 1)
      // if the user chooses choice #1, it will convert from base 10 to base 2
          output = Integer.toString(input, 2);

      else if (choice == 2)

          output = Integer.toString(input, 8);

    // if the user chooses choice #2, it will convert from base 10 to base of 8 
     else if (choice == 3)

          output = Integer.toString(input, 16);
   // if the user chooses choice #3, it will convert from base 10 to base 16
  else

      System.out.println("invalid entry");
      // everything else, it is invalid
      System.out.println("final output=" + output);
      // this prints the final output. 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-04-15T06:14:58.997

对于十进制 x（以 10 为底），您可以分别用于二进制、八进制、十六进制转换

`Integer.toString(x, 2)`,

`Integer.toString(x, 8)`

`Integer.toString(x, 16)`.

然后将其转回十进制，分别由二进制、八进制、十六进制转换

`Integer.valueOf(binary_value, 2)`

`Integer.valueOf(octal_value, 8)`

`Integer.valueOf(hex_value, 16)`

在您的代码中，更改以下内容：

```
output = Integer.toString(input, 16) //replace 16 for hex, 8 for octal, 2 for binary 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:17:42.363

用这个

```
 if (choice == 1)

          output = Integer.toString(input, 2);

      else if (choice == 2)

          output = Integer.toString(input, 8);

    // if the user chooses choice #2, it will convert from base 10 to base of 8 
     else if (choice == 3)

          output = Integer.toString(input, 16);

  else

      System.out.println("invalid entry"); 
```

# javascript - 附加的 h1 标签无法识别

> ID：16008687
> 
> 赞同：2
> 
> 时间：2013-04-15T06:11:51.393
> 
> 标签：javascript, jquery, html, seo

我有这个页面，我将我的 h1-tag 附加到 jquery 中，例如：

```
 $('.name').append('<h1 style="margin-bottom=20px;">' + name +'</h1>'); 
```

h1 标记和标记的内容显示得很好，但是当我在各种 seo 工具中测试我的页面时（例如这个：[http](http://www.seositecheckup.com/) ://www.seositecheckup.com/ ）我收到页面没有的消息h1 标签。

从 seo 的角度来看，这当然不是那么好。有没有人认识到这个问题？在类似的注释上：在主页上，我使用 javascript for 循环打印出一个列表，并附加列表 html 和内容：

```
 $('#list').append("<div class='point'><a href='" + str + "&id=" + id + "' onmouseover='infoShow(" + i + ")'  onmouseout='infoClose(" + i + ")'><H3>" + titel + 
"</H3></a><div class='address'>" + name + "</div>" + trivsel + "<div class='star"+i+"'></div></div></a>"); 
```

我在页面上看起来很好，但是当我查看网站的 googles cahced 版本时，列表不存在并且页面看起来是空白的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T06:14:41.943

网络爬虫不会执行您的 JavaScript，因此`<h1>`不会创建标签。如果您希望此标签对网络爬虫可见，则需要使用您的服务器端语言生成它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:14:52.593

你在期待什么？您链接的“不同的 seo 工具”（通常）不执行任何 javascript。它们适用于 HTML 的原始状态。

# events - MFC-ActiveX 不会自动刷新/重绘

> ID：16008690
> 
> 赞同：0
> 
> 时间：2013-04-15T06:12:09.283
> 
> 标签：events, mfc, activex, ocx

我有一个基于 MFC 的 ActiveX 控件，其中一些重要的东西不起作用。永远不会调用大小事件，并且仅当我单击控件的边框（在 ActiveX 测试容器中）时才会重绘控件内容。

这是我在头文件中的 size-event 代码：

```
public:
    afx_msg void OnPaint(); 
```

...在源文件中：

```
BEGIN_MESSAGE_MAP(CBeamConstruXCtrl, COleControl)
    ON_WM_SIZE()
    ON_WM_PAINT()
    ON_OLEVERB(AFX_IDS_VERB_PROPERTIES, OnProperties)
END_MESSAGE_MAP()

void MyCtrl::OnPaint()
{
   //this is never called also when I change the size of the control in test container
} 
```

任何想法这里缺少什么？

编辑：只是澄清一下： OnSize() 在 OCX 的初始化阶段被调用一次，但在我更改控件大小时从未调用过。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T08:33:09.750

正如 Roger Rowland 所说： OnDraw() 可以解决问题。

# android - 删除所有项目（可见和不可见）自定义列表视图Android？

> ID：16008699
> 
> 赞同：0
> 
> 时间：2013-04-15T06:13:11.330
> 
> 标签：android, android-listview

我的代码有问题。我想`listview`用这段代码删除所有自定义项：

```
public void delete_all()
{
    int count = getCount();
    if(count>0)
      {
         for (int i = 0; i < count; i++) 
          {
              data.remove(data.get(i));
          }
       notifyDataSetChanged();
    }
}

public Object getItem(int position) 
{
    return position;
} 
```

但结果，只有删除的**项目可见**，例如：**count** = 5 item，结果只有 3**个可见**的项目被删除，2 个项目没有被删除，

```
data.remove(data.get(i)); 
```

我也尝试改变，`data.remove(i);` 结果相同；

该代码的logcat是

```
> 04-15 13:07:58.340: E/AndroidRuntime(2111): FATAL EXCEPTION: main
04-15 13:07:58.340: E/AndroidRuntime(2111): java.lang.IllegalStateException: Could not execute method of the activity
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.view.View$1.onClick(View.java:3044)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.view.View.performClick(View.java:3511)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.view.View$PerformClick.run(View.java:14105)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.os.Handler.handleCallback(Handler.java:605)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.os.Handler.dispatchMessage(Handler.java:92)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.os.Looper.loop(Looper.java:137)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.app.ActivityThread.main(ActivityThread.java:4456)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at java.lang.reflect.Method.invokeNative(Native Method)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at java.lang.reflect.Method.invoke(Method.java:511)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:787)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:554)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at dalvik.system.NativeStart.main(Native Method)
04-15 13:07:58.340: E/AndroidRuntime(2111): Caused by: java.lang.reflect.InvocationTargetException
04-15 13:07:58.340: E/AndroidRuntime(2111):     at java.lang.reflect.Method.invokeNative(Native Method)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at java.lang.reflect.Method.invoke(Method.java:511)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at android.view.View$1.onClick(View.java:3039)
04-15 13:07:58.340: E/AndroidRuntime(2111):     ... 11 more
04-15 13:07:58.340: E/AndroidRuntime(2111): **Caused by: java.lang.IndexOutOfBoundsException: Invalid index 3, size is 2**
04-15 13:07:58.340: E/AndroidRuntime(2111):     at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at java.util.ArrayList.get(ArrayList.java:304)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at com.droidersuin.imagelistfromurl.LazyAdapter.delete_all(LazyAdapter.java:60)
04-15 13:07:58.340: E/AndroidRuntime(2111):     at com.droidersuin.app.SearchActivity.search(SearchActivity.java:306)
04-15 13:07:58.340: E/AndroidRuntime(2111):     ... 14 more 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T06:16:27.843

如果您想删除所有 Item 然后只需调用`clear()`而不是`remove()`. 像这样

```
data.clear(); // this will clear your list
yourAdapter.notifyDataSetChanged(); 
```

注意：永远不要使用相同的对象大小来删除循环中的项目，这意味着它会改变你的大小，`list/arraylist`所以你在每个迭代器上都会得到不可预测的大小。您可以在另一个列表中使用商店，然后使用

```
List<String> yourSelectData; store your data in this at iterate time then remove after loop complete

data.removeAll(yourselectData); // using this you can remove collection of element from list 
```

# c++ - 算法永远运行的整数的排列

> ID：16008700
> 
> 赞同：0
> 
> 时间：2013-04-15T06:13:14.150
> 
> 标签：c++, algorithm

我在我的大学有以下问题：

*从0*到*n - 1*的整数排列，算法永远运行的最小*n是多少？*

 **```
#include <iostream>
#include <vector>
int main()
{
    std::vector<int> v;
    v.push_back(3);
    v.push_back(1);
    v.push_back(0);
    v.push_back(6);
    v.push_back(2);
    v.push_back(7);
    v.push_back(5);
    v.push_back(4);
    int j = 0;
    int i = 0;
    for(i = 0; i < v.size(); i++)
    {
        if(v[i] > i) 
        {
            j = i;
            while( j < v.size() && v[j] >= j )
            {
                j = j + 1;
            }
            int temp = v[i];
            v[i] = v[j];
            v[j] = temp;
            i = 0;
        }

    }
    return 0;
} 
```

我手动找到了排列 {3, 1, 0, 6, 2, 7, 5,4}。如果有人检查我的答案或找到更小的排列，我将不胜感激。

我尝试了很多排列，但不是通过蛮力，而是通过逻辑选择，我认为这是算法循环的最小序列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:10:25.067

最小 n 为 6。可能的解决方案：

0 3 4 5 2 1 导致 0 2 4 5 3 1 导致回到 0 3 4 5 2 1**

# javascript - 获取 localhost+htdocs 文件夹的 Java 脚本

> ID：16008705
> 
> 赞同：1
> 
> 时间：2013-04-15T06:13:32.853
> 
> 标签：javascript, jquery, localhost, hostname

我有以下要构建的网址，

```
http://localhost/myweb/cart/index.php 
```

我想`http://localhost/myweb/`动态地构建位。

要在我的实时网站[http://www.myweb.com/cart/index.php](http://www.myweb.com/cart/index.php)上执行此操作，我可以使用以下 JavaScript 代码，

```
var http = location.protocol;
var slashes = http.concat("//");
var host = slashes.concat(window.location.hostname); 
```

但是我如何让我的开发环境正常工作`http://localhost/myweb/`呢？如果我运行上面的代码，它只会给我`http://localhost/`。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:20:49.510

`window.location.pathname`是你搜索的东西。

我建议你阅读[window.location](https://developer.mozilla.org/en-US/docs/DOM/window.location)的 MDN 描述。就像 MDN 中的其他所有内容一样，这也非常简单且信息丰富。

如果您知道 URL 末尾有不必要的 index.html 部分，您可以：

```
var path = window.location.pathname.split('/');
path.pop();
path.join('/'); 
```

或者你可以切片它（因为它通常更快）：

```
path.slice(0,path.lastIndexOf('/')+1) 
```

* * *

**编辑**：

看到您的新问题，我可以说仅通过当前 URL 无法始终如一地安全地完成您想要的工作。

您需要该`http://localhost/myweb/`部分，它是您的应用程序的 URL 根。在 javascript 中，您可以获取 url 的协议和域。在您的实时站点上，这 2 个匹配，但如果您的应用程序位于子文件夹`myweb`中（如本地主机上的文件夹），这将失败。

您需要以某种方式识别应用程序 URL（应用程序的 URL 根）。

问题在于，仅通过检查 URL，javascript 无法判断您的应用程序所在的位置。

假设您将站点部署到：`http://localhost/myweb/site1/`

您将拥有以下网址：`http://localhost/myweb/site1/cart/index.php`

Javascript 可以用斜杠 ( ) 分割你的 URL，`/`但它现在无法知道它应该选择多少个子文件夹。例如，应用程序根目录上方的 URL 可以是以下任何一种：`http://localhost/`, `http://localhost/myweb/`, `http://localhost/myweb/site1/`, `http://localhost/myweb/site1/cart/`.

通过另一种方法（我首先建议），您可以删除 URL 的末尾（在您的情况下是`cart/index.php`部分）。这仅在您的 URL 结构非常严格的情况下才有效，因此执行此脚本的所有页面都位于一个子文件夹中。

因此它将在以下 URL:`http://localhost/myweb/site1/gallery/old/index.php`或类似的 URL 上中断。

您**最好**的选择是将其设置为一个单独的文件中的“配置变量”，您可以在它部署到的每个位置上对其进行编辑。

`$appRoot = "http://localhost/myweb/"`可以作为生成 javascript的 PHP 变量 ( )。

或者更简单地说是一个 javascript 变量 ( `var appRoot = 'http://localhost/myweb/'`)。制作一个单独的 js 文件，将其命名为`config.js`，将上面的行添加到其中并在其他 javascripts 之前引用它。

# asp.net - 页面展开时页脚需要始终位于底部

> ID：16008706
> 
> 赞同：0
> 
> 时间：2013-04-15T06:13:33.287
> 
> 标签：asp.net, css

这是我的 Aspx 代码，页脚需要在页面展开时始终位于底部

, , 请稍等...> 技术支持 FFReporting" CssClass="footer" Font-Italic="false"Font-Bold="false" Font-Size="X-Small" ForeColor="#000">

这是css文件

```
.wrapper
{
    min-height: 99%;
    height: auto !important;
    height: 100%;
    margin: 0 auto -15px;  /* ;the bottom margin is the negative value of the footer's height */
    padding: 0;
}
.footer, .push
{
    height: 16px; /* .push must be the same height as .footer */
    clear: both;
    text-align: center;
    /*font: 10px Verdana, Arial;*/
    font: 10px Arial;
    background: url("../Images/invida_06.jpg") repeat-x;
    /*background-color: #497097;*/
    color: White !important;
} 
```

我需要底线总是在底部，当页面信息较少时，但是当页面有更多显示数据时，它总是在所有数据之后打印

我尝试了该站点中的所有内容，但直到找到解决方案。帮我！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:15:37.463

[这种技术](http://www.cssstickyfooter.com/)总是有效的，它被称为粘页脚

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:20:31.237

现在习惯了这段代码

这是示例 css 代码

```
html, body {height: 100%;}

#wrap {min-height: 100%;background:red;}

#main {overflow:auto;
padding-bottom: 180px;}  /* must be same height as the footer */
#footer {position: relative;background:green;
margin-top: -180px; /* negative value of footer height */
        height: 180px;
        clear:both;} 
```

**HTML**

```
<div id="wrap">

    <div id="main">

    </div>

</div>

<div id="footer">

</div> 
```

**[现场演示](http://jsfiddle.net/PFDAw/2/)**

# hibernate - SQL 到 HQL - 日期转换问题

> ID：16008710
> 
> 赞同：0
> 
> 时间：2013-04-15T06:14:05.380
> 
> 标签：hibernate, hql

我希望将以下 SQL 转换为 HQL：

```
SELECT DISTINCT a.aid from atable a, btable b 
where a.aid=b.id and 
STR_TO_DATE(a.somecolumn, '%Y-%m-%d') BETWEEN CURDATE() - INTERVAL 10 DAY AND CURDATE(); 
```

简而言之，我们将日期作为字符串存储在表中的一列中。想在 HQL 中使用相同的方法来获取特定范围的记录。

这可以使用单个 HQL 完成吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T02:41:15.070

使用 DATEDIFF 函数让它工作-

```
SELECT DISTINCT a.aid from atable a, btable b 
where a.aid=b.id and DATEDIFF(current_date(), a.somecolumn) < 10 
```

*a.somecolumn*中的日期以**yyyy-MM-dd**格式存储，但存储为*字符串*（a.somecolumn 类型为 varchar）。可能需要检查 DATEDIFF 函数默认支持哪些其他格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:38:10.137

```
Criteria.add(Restrictions.between("propertyName","startDate", "endDate")) 
```

# php - 我想在 $.post 中实时更新，无需重新加载或刷新

> ID：16008712
> 
> 赞同：2
> 
> 时间：2013-04-15T06:14:10.473
> 
> 标签：php, jquery, mysql, ajax, .post

这是我的 PHP 代码_

```
if(isset($_REQUEST['show']))
{
        $con=mysqli_connect("localhost","root","","server_name");

        $show = mysqli_query($con, "SELECT * FROM name1 ORDER BY date DESC");
        $html='';
        while($showE = mysqli_fetch_array($show)) 
        {
        $html.= '<h3>'.$showE['un_name'].'</h3>';
        $html.= '<div>'.$showE['un_name_dec'].'</div>';
        }
        echo $html;
       //End of while loop

} 
```

这是jQuery代码_

```
$.post('preprocessor.php', '&show=', function(data) {
    $("#accordion").html(data);
    $("#accordion").accordion({
       collapsible: true,
       icons: {
            activeHeader: "ui-icon-triangle-1-s",
            header: "ui-icon-triangle-1-e"
        }
    });
    }); 
```

这是身体_

```
<div id='accordion'>
</div> 
```

我没有得到实时更新，一切正常，但是 Ajax 的东西不起作用......如果我刷新或重新加载页面但它本身不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:19:09.173

您正在寻找的是`setTimeout`.

```
 $("#accordion").accordion({
       collapsible: true,
       icons: {
            activeHeader: "ui-icon-triangle-1-s",
            header: "ui-icon-triangle-1-e"
        }
    });
setInterval(makePostCall, 15000); // decide interval to fetch new updates. 15 sec for example

function makePostCall(){
$.post('preprocessor.php', '&show=', function(data) {
    $("#accordion").html(data);

    });
} 
```

但这不是做这种事情的正确方法。考虑使用[Ajax 推送引擎](http://www.ape-project.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:21:21.527

您是否设置间隔以特定间隔调用代码？您需要做的就是，在 JavaScript 上添加：

```
 setinterval(function(){/* do the post here */ },1000 /*this is time */); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:24:15.997

***如果我刷新或重新加载页面而不是它本身，它会起作用***

为此，您需要使用`setInterval();`将检查给定的每个特定时间段的功能：

```
 setInterval(function(){
      $.post('preprocessor.php', '&show=', function(data) {
         $("#accordion").html(data);
         $("#accordion").accordion({
                   collapsible: true,
                   icons: {
                   activeHeader: "ui-icon-triangle-1-s",
                   header: "ui-icon-triangle-1-e"
                   }
         });
      });
   },5000); //<---- runs every 5000 ms 
```

这将每 5 秒运行一次并更新`#accordion`div。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T06:24:45.117

尝试：

```
$.post('preprocessor.php', {show:''}, function(data) {
$("#accordion").html(data);
$("#accordion").accordion({
   collapsible: true,
   icons: {
        activeHeader: "ui-icon-triangle-1-s",
        header: "ui-icon-triangle-1-e"
    }
});
},'html'); 
```

# php - CakePHP 2.3.1 updateAll 查询不起作用

> ID：16008714
> 
> 赞同：1
> 
> 时间：2013-04-15T06:14:23.993
> 
> 标签：php, mysql, cakephp, cakephp-2.0

我无法更新 CakePHP 2.3.1 中的记录

询问：

`$this -> Staff -> updateAll(array('Staff.last_login' => date('Y-m-d H:i:s')), array('Staff.id' => $staff['Staff']['id']));`

错误：

`Error: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-15T13:31:06.190

请参阅[http://book.cakephp.org/2.0/en/models/saving-your-data.html#model-updateall-array-fields-array-conditions](http://book.cakephp.org/2.0/en/models/saving-your-data.html#model-updateall-array-fields-array-conditions)：

```
The $fields array accepts SQL expressions. 
Literal values should be quoted manually using Sanitize::escape(). 
```

您可以使用

```
NOW() 
```

但是，在您的情况下，它也适用于引用：

```
"'" . date('Y-m-d H:i:s') . "'" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-12T05:08:58.733

尝试这个：

```
$date = date('Y-m-d H:i:s');
$this->Staff->updateAll(array('Staff.last_login' => "'$date'"), array('Staff.id' => $staff['Staff']['id'])); 
```

# php - 无法让异常控制器工作 - Symfony2

> ID：16008719
> 
> 赞同：0
> 
> 时间：2013-04-15T06:14:42.403
> 
> 标签：php, symfony

```
namespace etc...

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Symfony\Bundle\TwigBundle\Controller\ExceptionController;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpKernel\HttpKernel;
use Symfony\Component\HttpKernel\Exception\FlattenException;
use Symfony\Component\HttpKernel\Log\DebugLoggerInterface;
use Symfony\Component\HttpFoundation\Response;

class MyExceptionController extends ExceptionController
{
    public function showAction(Request $request, FlattenException $exception, DebugLoggerInterface $logger = null, $format = 'html')
    {

    }
} 
```

在控制器内不执行任何操作会返回“未捕获的异常 'Symfony\Component\Routing\Exception\ResourceNotFoundException' in...”错误。不确定这是否正确，或者这是否是另一个问题。我希望它只是做通常的动作。

我只需要这样做，它就可以像访问 domain.com/page 一样显示指定的路线。

我试过这个：

```
 $httpKernel = $this->container->get('kernel');
   $response = $httpKernel->forward('AcmeMyBundle:Default:pageAction');
   $this->setResponse(new Response($response)); 
```

...但得到这个错误：

```
Call to a member function get() on a non-object in... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:31:38.900

您的代码看起来与我昨天所做的类似。我想获取所有 NotFoundHttpException 异常并尝试将它们转发到默认控制器。我通过这样的异常监听器实现了这一点：

```
<?php

namespace Acme\MyBundle\Listener;

use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;
use Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent;

class NotFoundHttpExceptionListener
{
    protected $container;

    public function setContainer($container)
    {
        $this->container = $container;
    }

    public function onKernelException(GetResponseForExceptionEvent $event)
    {
        $exception = $event->getException();
        if ($exception instanceof NotFoundHttpException) {
            $httpKernel = $this->container->get('http_kernel');

            $response = $httpKernel->forward(
                'AcmeMyBundle:Controller:action',
                array(
                    'uri'  => $_SERVER['REQUEST_URI'],
                )
            );

            $response->headers->set('X-Status-Code', '200');
            $event->setResponse($response);
            $event->stopPropagation();
        }
    }
} 
```

请注意，如果您想返回除 404 之外的另一个状态代码，则 X-Status-Code 是必需的，因为 HttpKernel 中的 handleException 方法将使用它来设置最终状态代码并将其从标题部分中删除。

我的 services.yml 看起来像这样：

```
notfoundhttp.exception.listener:
  class: Acme\MyBundle\Listener\NotFoundHttpExceptionListener
  calls:
    - [ setContainer, [@service_container] ]
  tags:
    - { name: kernel.event_listener, event: kernel.exception, method: onKernelException } 
```

# c - 枚举名称的用途是什么？

> ID：16008723
> 
> 赞同：12
> 
> 时间：2013-04-15T06:14:55.727
> 
> 标签：c, enums

*   枚举是“命名的常量集合”： `enum MyType_e {A, B, C};`
*   这些常量在枚举的父范围内声明，即如果枚举在文件范围内声明，并且未命名，则相当于一系列 eg`#define A 0`语句
*   枚举常量的底层类型总是`int`ie`int var = A`是完全合法的，虽然`var`不是类型`MyType_e`

那么枚举**名称**的作用是什么？

**编辑** 根据下面的评论，我对枚举的理解似乎有很大缺陷。**枚举与#define 语句无关。** [枚举在编译时被解析](https://stackoverflow.com/q/16100283/1145760)，并被输入。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T06:40:58.893

使用`enum`类型传达意图。

假设您有一个将`enum`常量作为参数的函数。

```
void foo(enum MyType_e e); 
```

是关于什么是有效输入的自我记录，但是：

```
void foo(int e); 
```

不是。此外，如果您尝试为该`enum`类型传递不兼容的值，编译器可能会发出警告。来自 ISO C99 规范的附录 I（“常见警告”）：

> 一个实现可能会在许多情况下产生警告......以下是一些更常见的情况。
> 
> [...]
> 
> *   为枚举类型的对象赋予值，而不是通过分配作为该类型成员的枚举常量，或具有相同类型的枚举变量，或返回相同枚举类型的函数的值（ 6.7.2.2)。

`switch`如果您在`enum`类型上使用但忽略处理其所有常量并且没有`default`大小写，某些编译器（例如 gcc）甚至可能会生成警告。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T06:16:58.460

虽然你可以完美地说

```
int var = A 
```

变体

```
enum mytype var = A 
```

出于文档原因更好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-19T09:57:45.477

上面的答案是好的和正确的，我只想补充一点，某些调试器能够在悬停或监视枚举类型变量时显示枚举名称。这确实有助于清晰，尤其是当枚举用于状态机实现中的状态时。

# ios - 无法识别的选择器发送到实例 0xa046cc0

> ID：16008725
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:15:03.167
> 
> 标签：ios, mkmapview, uigesturerecognizer

当我在任何地方按下地图视图时，地图由于未捕获的异常而终止。

```
-[MapViewController handleGuesture]：无法识别的选择器发送到实例 0xa046cc0
2013-04-15 10:41:23.316 CabServiceProvider [912:c07] *** 由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“-[MapViewController handleGuesture]：无法识别的选择器发送到实例 0xa046cc0”

```

```
Here is code which is causing this error.

- (void)viewDidLoad{
    [super viewDidLoad];
    [self.mapView.userLocation addObserver:self
                                forKeyPath:@"location"
                                   options:(NSKeyValueObservingOptionNew|NSKeyValueObservingOptionOld)  
                                  context:NULL];
    mapView.userTrackingMode=YES;
    [mapView setUserTrackingMode:MKUserTrackingModeFollow];
     UITapGestureRecognizer  *gr=[[UITapGestureRecognizer alloc]initWithTarget:self        action:@selector(handleGuesture)];
    gr.numberOfTapsRequired=1;
    [mapView addGestureRecognizer:gr]; 
}

- (void)handleGesture:(UIGestureRecognizer *)gestureRecognizer{
    if (gestureRecognizer.state != UIGestureRecognizerStateEnded)
    return;
    CLLocationCoordinate2D coordinate; //= annotationView.annotation.coordinate;
    NSLog(@"dropped at %f,%f", coordinate.latitude, coordinate.longitude);
    CGPoint touchPoint = [gestureRecognizer locationInView:mapView];
    coordinate = [mapView convertPoint:touchPoint toCoordinateFromView:mapView];
    NSLog(@"latitude  %f longitude %f",coordinate.latitude,coordinate.longitude);
} 
```

请帮助为什么会出现此错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:27:49.870

好的检查这一行：

```
UITapGestureRecognizer  *gr=[[UITapGestureRecognizer alloc]initWithTarget:self        action:@selector(handleGesture:)]; 
```

当你调用你的方法时，你也会用错误的拼写调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:16:51.563

按照我的想法改变这条线。

```
UITapGestureRecognizer *gr=[[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(handleGuesture:)];
-------------------------------------------------------------------------------------------------------------^ 
```

您需要在传递参数时添加`:`with 。`handleGuesture`

请检查

# exchangewebservices - EWS API 流订阅停止工作

> ID：16008728
> 
> 赞同：2
> 
> 时间：2013-04-15T06:15:10.980
> 
> 标签：exchangewebservices, exchange-server, exchange-server-2010

创建了一个 Windows 服务，它将所有接收和发送的电子邮件保存到我的本地驱动器，我的服务成功地做到了。我还重新订阅了我的流订阅 onDisconnect 事件和 Onerror 事件。但是我的服务在一段时间后停止响应并且没有捕获到异常即使我已经正确处理了所有事情。看到其他论坛并发现人们面临同样的问题，但没有适当的解决方案。

```
 static private void OnDisconnect(object sender, SubscriptionErrorEventArgs args)
        {
            try
            {

                // Cast the sender as a StreamingSubscriptionConnection object.  

                StreamingSubscriptionConnection connection = (StreamingSubscriptionConnection)sender;
                if (!connection.IsOpen)
                    connection.Open();

        }

 static void OnError(object sender, SubscriptionErrorEventArgs args)
        {

                // Cast the sender as a StreamingSubscriptionConnection object.
                StreamingSubscriptionConnection connection = (StreamingSubscriptionConnection)sender;
                if (!connection.IsOpen)
                    connection.Open();

        } 
```

这是否与 Microsoft 错误有关，或者它需要 Exchange 服务器上的任何设置来更改 EWS 订阅的限制。

即使我在下面检查了与节流限制相关但没有成功的内容：http: [//msdn.microsoft.com/en-us/library/exchange/hh881884 (v=exchg.140).aspx](http://msdn.microsoft.com/en-us/library/exchange/hh881884(v=exchg.140).aspx)

提前一百万谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-04T14:12:09.023

我们有完全相同的问题。我们会在 OnError 事件中重新创建整个订阅以防万一。有趣的是，在不同的盒子上运行的多个应用程序实例表现出相同的行为：在某些时候它们只是停止接收通知。重新启动所有这些都无济于事；他们确实成功订阅，但除了 OnDisconnect 之外仍然没有通知。重新启动 Exchange Server 确实有帮助，尽管有一段时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-31T12:24:11.247

我可以看到这里的问题是您试图在 OnError 处理程序中打开连接。这里的问题是，当 OnError 发生时，连接通常会丢失所有订阅，因此您可能需要考虑在打开订阅之前再次创建订阅。

# image-processing - 检查图像是否包含文本？

> ID：16008729
> 
> 赞同：5
> 
> 时间：2013-04-15T06:15:11.860
> 
> 标签：image-processing

我的图片很少。一些图像包含文本，而其他一些则根本不包含文本。我想要一个强大的算法，可以得出图像是否包含文本的结论。

即使是概率算法也很好。

任何人都可以提出这样的算法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T14:06:45.407

您需要确定一些细节：

1.  图像中会有很多文字吗？还是只是一两个角色？
2.  文本的方向是否正确？或者是否也需要进行轮换？
3.  您希望文本有多大？
4.  背景与文本的相似程度如何？

由于图像可能会有很大差异，因此您希望定义问题并找到尽可能多的约束以使问题尽可能简单。这是一个难题。

对于这样的算法，您需要关注使文本与背景不同的原因（字符和行之间的一致间距、一致的高度、一致的基线等）。您需要研究“文本检测”的一个领域调查，你会在那里找到一些算法。可以在[这里](http://www.ctie.monash.edu.au/terry/text%20from%20images.pdf)和[这里找到其中一些方法的两个调查](http://www.cs.cmu.edu/~datong/survey.pdf)

# c# - 为什么我在跳过列表中插入的时间复杂度是线性的？

> ID：16008730
> 
> 赞同：1
> 
> 时间：2013-04-15T06:15:12.257
> 
> 标签：c#, list, insertion, skip, skip-lists

我已经为整数实现了跳过列表。在测试方法插入时，我在带有计数器 j 的 for 循环中插入从 1 到 1000000 的自然数。我也在使用秒表。附录：在实际程序中，值是双精度值，因为我在 double.NegativeInfinity 中使用了值为 double.PositiveInfinity 的哨兵。（但这不应该是问题）伪代码：

```
MyList = new SkipList();
stopwatch.start();    
t1 = stopwatch.Elapsed.TotalMilliseconds;
for(int j = 0; j<1000000; j++){
    steps = MyList.insert(j);
    if(j%500==0){
        t2= stopwatch.Elapsed.TotalMilliseconds -t1;
        write j,t2 in a file1;
        write j,steps in a file2;
        t1 = t2;
    }
} 
```

当我制作图形时间/节点数时，它是线性的，但图形步骤/节点是预期的对数。（步骤是方法插入中的循环次数（~操作））。

方法 insert 创建额外的节点并设置一些指针。节点的实现方式如下：

```
class Node 
{
    public Node right;//his right neighbour - maybe "null"
    public Node down;//his bottom neighbour -maybe null
    public int? value;//value
    public int depth;//level where node is present: 0, 1, 2 ...

    public Node(int i,Node rightt,Node downn,int depthh) {
        //constructor for node with two neighbours.
        value = i;
        right = rightt;
        down = downn;
        depth = depthh;
    }
   //there are some other contructors (for null Node etc.)
}
class SkipList
{
    public Node end;//upper right node
    public Node start;//upper left node
    public int depth;//depth of SkipList
    //there are left (-inf) and right sentinels (inf) in the SkipList.
} 
```

跳过列表由节点组成。

Insert 在类 SkipList 中定义，并以下列方式工作：

```
public int Insert(int value2, int depth2)
    {
        //returns number of steps
        //depth2 is calculated like (int)(-Math.Log(0<=random double<1 ,2))
        //and works as expected - probability P(depth = k) = Math.Pow(0.5,k)

        //lsit of nodes, which will get a new right neighbour
        List<Node> list = new List<Node>();
        Node nod = start;
        int steps = 0;
        while (true) {
            if (nod.right.value >= value2)
            {
                //must be added to our list
                lsit.Add(nod);
                if (nod.down != null)
                    nod = nod.down;
                else
                    break;
            }
            else {
                nod = nod.right;
            }
            steps++;
        }

        //depth (of skipList) is maybe < depth2, so we must create
        //k = 2*(depth2-depth) new edge nodes and fix right pointers of left sentinels
        List<Node> newnodes = new List<Node>();
        for (int jj = 0; jj < depth2 - depth;jj++ )
        {
            steps++;
            //new sentinels
            Node end2 = new Node(double.PositiveInfinity, end,depth+jj+1);
            Node start2 = new Vozlisce(double.NegativeInfinity, end2,
                                                               start,depth+jj+1);
            start = start2;
            end = end2;
            newnodes.Add(start2);
        }

        //fix right pointers of nodes in the List list (from the beginning)
        Node x = new Node(value,list[list.Count-1].right,0);
        list[list.Count-1].right=x;
        int j =1;
        while(j<=Math.Min(depth2,depth)){
            steps++;
            //create new nodes with value value
            x = new Node(value,lsit[list.Count -(j+1)].right,x,j);
            list[list.Count-(j+1)].right = x;
            j++;
        }
        //if there are some new edge sentinels, we must fix their right neighbours
        // add the last depth2-depth nodes
        for(int tj=0;tj<depth2-depth;tj++){
            steps++;
            x = new Node(value,newnodes[tj].right,x,depth+tj+1);
            newnodes[tj].right = x;
        }

         depth = Math.Max(depth, depth2);           
         return steps;
    } 
```

我还实现了一个跳过列表版本，其中节点是块并且具有 n = node.depth 右邻居，存储在数组中，但图形时间/数量。节点的数量仍然是线性的（并且节点的步数/数量是对数的）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:27:42.523

`^`是“异或”；

```
10 : 1010
 6 : 0110
---------
 ^ : 1100 = 12 
```

如果你从 0 循环到 11，那么是的——它看起来很线性——你不会注意到这个大小有任何退化。您可能想要`Math.Pow`而不是`^`，但硬编码会更简单`1000000`。

# php - 通过xml将数据插入mysql数据库

> ID：16008734
> 
> 赞同：0
> 
> 时间：2013-04-15T06:15:41.653
> 
> 标签：php, mysql, xml, phpmyadmin

当我使用普通 xml 树结构将数据插入数据库时​​，数据已成功插入，但是当我尝试使用不同的 xml 结构将数据插入数据库时​​，它没有给我任何错误，但同时创建了字段，但我不能可视化表格中的内容，

```
<?xml version="1.0"?>
<xml>
<draw>
<candelete>yes</candelete>
<forpayroll>no</forpayroll>
<name>hello</name>
</draw>
</xml> 
```

以上xml格式成功将数据插入mysql数据库

以下 xml 格式不允许我将数据插入 mysql 数据库

```
<ENVELOPE>
<HEADER>
<VERSION>1</VERSION>
<STATUS>1</STATUS>
</HEADER>
<BODY>
<DESC>
</DESC>
<DATA>
<TALLYMESSAGE>
<LEDGER NAME="Dena" RESERVEDNAME="" ID="2240" REQNAME="dena">
<PARENT TYPE="String">Bank Accounts</PARENT>
<TAXTYPE TYPE="String">Others</TAXTYPE>
<ISBILLWISEON TYPE="Logical">No</ISBILLWISEON>
<ISCOSTCENTRESON TYPE="Logical">No</ISCOSTCENTRESON>
<ISREVENUE TYPE="Logical">No</ISREVENUE>
<ISDEEMEDPOSITIVE TYPE="Logical">Yes</ISDEEMEDPOSITIVE>
<CANDELETE TYPE="Logical">Yes</CANDELETE>
<FORPAYROLL TYPE="Logical">No</FORPAYROLL>
<MASTERID TYPE="Number"> 2240</MASTERID>
<TNETBALANCE TYPE="Amount">0.00</TNETBALANCE>
<LANGUAGENAME.LIST>
<NAME.LIST TYPE="String">
<NAME>Dena</NAME>
</NAME.LIST>
<LANGUAGEID TYPE="Number">0</LANGUAGEID>
</LANGUAGENAME.LIST>
</LEDGER>
</TALLYMESSAGE>
</DATA>
</BODY>
</ENVELOPE> 
```

下面是我的 php 插入连接代码

```
<?php

$con = mysql_connect("localhost:3306","root","");
if (!$con)
{
die('Could not connect: ' . mysql_error());
}

mysql_select_db("temp", $con);

if(!$xml=simplexml_load_file('./xml/data.xml')){
trigger_error('Error reading XML file',E_USER_ERROR);
}

foreach ($xml as $syn) 
{
$candelete = $syn->candelete;  
$forpayroll = $syn->forpayroll;  
$name = $syn->name;

$sql    = "INSERT INTO vtiger (candelete, forpayroll, name) VALUES  ('$candelete','$forpayroll','$name')";
$query  = mysql_query($sql);

if (!$query)
{
    echo ('Error: ' . mysql_error());
}
else 
{
    echo "Record added";
}
}
mysql_close($con);
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T06:59:12.477

您需要更多地考虑您的 foreach 循环，因为在您的工作 xml 文件中只有一个数组，因此您可以仅使用一个 foreach 循环检索数据，但您的另一个 xml 文件我认为它包含更多数组，因此您需要创建一个或多个foreach 循环根据其结构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:35:17.927

我想让你看看你的`foreach`循环来读取 xml：

```
foreach ($xml as $syn) 
{
    $candelete = $syn->candelete;  
    $forpayroll = $syn->forpayroll;  
    $name = $syn->name; 
```

正如您在此处看到的，您取消了与新 xml 完全不同的 xml 节点，因此您需要解析文档并获取所有相关数据来构建查询。一个好的方法是循环`<TALLYMESSAGE>`检索所有相关数据并将其存储到您将能够用于新查询的变量中。

你可以用它`simplexml_load_file`来做到这一点。 **文档：** [这里](http://php.net/manual/en/function.simplexml-load-file.php)

**注意**您的查询也必须根据新的 xml 进行更改，您将需要一个具有正确模式的新表。

`UPDATED`

您仍然可以使用相同的方式来解析文件，但是您需要更改脚本，并且最终会使用更多行代码来解析整个新的 xml。如您所见，结构完全不同，手有许多子节点，无法通过使用简单的 foreach 来检索，就像您对第一个没有任何子节点的文件所做的那样。这就是为什么你真的应该使用 simplexml_load_file，更少的工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:24:21.107

你定义你的连接到 mysql`$con` 你还必须使用`mysql_query($sql, $con);`

# caching - 查找线程访问的页面

> ID：16008735
> 
> 赞同：1
> 
> 时间：2013-04-15T06:15:46.670
> 
> 标签：caching, memory, operating-system, scheduling, shared-memory

我正在寻找一些基于线程访问的数据的调度选项。有什么方法可以找到特定线程访问的缓存页面。如果我有来自两个不同进程的两个线程，是否可以找到两个线程访问的公共数据/页面

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T10:09:42.763

来自同一进程的两个线程可能共享整个进程内存空间。如果程序不限制线程对某些内存区域的访问，则可能很难确切知道应该将哪个线程分配给哪个 cpu。

对于更多的线程，问题变得更加困难，因为一个线程可能与几个不同的线程共享不同的数据，并创建一个关系网络。如果两个线程之间的关系要求它们与给定的 cpu 核心具有亲和力，则通过传递性，它们关系网络的所有线程也应该绑定到同一个核心。也许关系的数量或某种形式的聚类分析（双连通性）会有所帮助。

* * *

关于您的具体问题，如果两个线程正在共享数据，但来自不同的进程，那么这些进程必然会通过使用`shm_open` （创建共享内存段）和`mmap`（将该段映射到进程内存中）自愿共享这些页面。否则不可能在进程之间共享数据页面，除非（再次）隐含地（再次）使用操作系统用于分叉进程的写时复制机制，在这种情况下，每个页面都保持共享，直到一个进程对其进行写入。

页面的显式共享 (by `shm_open`) 可用于以编程方式为两个线程定义相同的 CPU 亲和性——可能是按照两个程序中的约定将相关线程与第一个核心相关联，或者通过在某个点建立的小型握手协议通过共享内存对象（例如，内存段的第一个字节可以设置为选择的 cpu 编号 + 1 由第一个线程访问它，0 表示还没有亲和性）。

不幸的是，posix 线程 API 没有提供为线程设置 cpu 亲和性的方法。您可以使用 linux 平台上提供的不可移植的扩展`pthread_attr_setaffinity_np`，以及`cpuset`一系列函数来配置线程亲和性。

参考：

*   [处理器组](http://linux.die.net/man/7/cpuset)
*   [pthread_attr_setaffinity_np](http://linux.die.net/man/3/pthread_attr_setaffinity_np)

# java - 通过带有 json 参数的 httpclient 调用方法不起作用

> ID：16008739
> 
> 赞同：0
> 
> 时间：2013-04-15T06:16:07.467
> 
> 标签：java, json, jsonserializer

我有一个 json 字符串，它是：

```
`{
    "portfolio": "HEXGENFUND",
    "transSrlNo": "1",
    "transCode": "BUY",
    "investReason": "004",
    "inflowOutflow": "I",
    "transDate": "2012-09-01",
    "tradeDate": "2012-09-01",
    "tradeDateUpto": "2012-09-01",
    "tradeTime": "11:27:9",
    "investCategory": "FVTPL",
    "custodian": "DEUTSCHE",
    "holdType": "HOLD",
    "securityType": "INV",
    "security": "DABU02",
    "assetClass": "EQU",
    "issuer": "DABU",
    "marketType": "MKT",
    "tradePriceType": "S",
    "requisitionType": "SO",
    "priceFrom": "100000",
    "priceTo": "100000",
    "marketPrice": "100000",
    "averagePrice": "100000",
    "price": "100000",
    "quantity": "2",
    "grossAmtTcy": "200000",
    "exchRate": "1",
    "grossAmtPcy": 200000,
    "grossIntTcy": "0",
    "grossIntPcy": 0,
    "netAmountTcy": 200000,
    "netAmountPcy": 200000,
    "acquCostTcy": 200000,
    "acquCostPcy": 200000,
    "yieldType": "N",
    "purchaseYield": "0",
    "marketYield": "0",
    "ytm": "0",
    "mduration": "0",
    "currPerNav": "0",
    "desiredPerNav": "0",
    "currHolding": "0",
    "noofDays": "0",
    "realGlPcy": 0,
    "realGlTcy": "0",
    "nowLater": "N",
    "isAllocable": "false",
    "acquCostReval": 0,
    "acquCostHisTcy": 200000,
    "acquCostHisPcy": 0,
    "exIntTcy": 0,
    "exIntPcy": 0,
    "accrIntReval": 0,
    "accrIntTcy": 0,
    "accrIntPcy": 0,
    "grossAodTcy": 0,
    "grossAodPcy": 0,
    "grossAodReval": 0,
    "bankAccAmtAcy": 200000,
    "bankAccAmtPcy": 200000,
    "taxAmountTcy": 0,
    "unrelAmortTcy": 0,
    "unrelAmortPcy": 0,
    "unrelGlTcy": 0,
    "unrelGlPcy": 0,
    "realGlHisTcy": 0,
    "realGlHisPcy": 0,
    "tradeFeesTcy": 0,
    "tradeFeesPcy": 0
}` 
```

我尝试通过httpclient调用采用上述参数的方法。当我调用如下方法时：

```
uri = "http://localhost:8080/api/trade/createrequisition";
HttpPost postURI = new HttpPost(uri);
            postURI.setHeader("Content-type", "application/json");
            // Setup the request parameters
            BasicHttpParams params = new BasicHttpParams();
            params.setParameter("CreateRequisitionRO", jsonROConverter.serialiseRequisionRO(request));
            params.setBooleanParameter("validateOnly", validateOnly);
            postURI.setParams(params);

            HttpResponse responseURL = client.execute(postURI); 
```

这就是所谓的方法的签名：

```
public @ResponseBody
    void createRequisition(@RequestBody CreateRequisitionRO[] request,
            @RequestHeader("validateOnly") boolean validateOnly) {....} 
```

这是我得到的例外：

```
java.io.EOFException: No content to map to Object due to end of input 
```

可能是什么问题呢。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-15T06:36:38.647

```
StringRequestEntity requestEntity = new StringRequestEntity(
    JSON_STRING,
    "application/json",
    "UTF-8");

PostMethod postMethod = new PostMethod("http://localhost:8080/api/trade/createrequisition");
postMethod.setRequestEntity(requestEntity);

int statusCode = httpClient.executeMethod(postMethod); 
```

# c# - 获取动态文本框和组合框的选定值

> ID：16008742
> 
> 赞同：5
> 
> 时间：2013-04-15T06:16:22.060
> 
> 标签：c#, winforms

我在 c# 中有一个 winform，我动态创建了两个组合框和一个文本框。当用户选择说月份和年份并在文本框中输入一个值时，我希望在单击按钮保存时获取相关的组合框值。默认情况下，月份和年份组合框将选择当前月份和年份。

同一屏幕中还有另一个部分，其中将在组合框和文本框中（如果可用）填充上个月的数据，例如当年的一月至三月。

我不确定这种方法是否正确，或者我应该使用 datagridview。下面是截图和我的代码。关于如何做到这一点的任何建议。

**截屏** ![在此处输入图像描述](https://i.stack.imgur.com/qAQha.png)

**代码**

```
private void createComboMonths()
{
   int width = 79;
   int height = 24;
   int spacing = 28;
   ComboBox[] SubMonths = new ComboBox[12];
   for (int i = 0; i <= 11; ++i)
   {
       SubMonths[i] = new ComboBox();
       SubMonths[i].Name = "SubMonths";
       SubMonths[i].DropDownStyle = ComboBoxStyle.DropDownList;
       SubMonths[i].Size = new Size(width, height);
       SubMonths[i].Location = new Point(56, (i * height) + spacing);
       SubMonths[i].Items.Add("January");
       SubMonths[i].Items.Add("February");
       SubMonths[i].Items.Add("March");
       SubMonths[i].Items.Add("April");
       SubMonths[i].Items.Add("May");
       SubMonths[i].Items.Add("June");
       SubMonths[i].Items.Add("July");
       SubMonths[i].Items.Add("August");
       SubMonths[i].Items.Add("September");
       SubMonths[i].Items.Add("October");
       SubMonths[i].Items.Add("November");
       SubMonths[i].Items.Add("December");
       SubMonths[i].SelectedItem = DateTime.Today.ToString("MMMM");
       plSubscription.Controls.Add(SubMonths[i]);

    }
}

private void createComboYears()
{
   int width = 79;
   int height = 24;
   int spacing = 28;
   ComboBox[] SubYears = new ComboBox[12];
   for (int i = 0; i <= 11; ++i)
   {
       SubYears[i] = new ComboBox();
       SubYears[i].Name = "SubYears";
       SubYears[i].DropDownStyle = ComboBoxStyle.DropDownList;
       SubYears[i].Size = new Size(width, height);
       SubYears[i].Location = new Point(145, (i * height) + spacing);
       plSubscription.Controls.Add(SubYears[i]);
       fillComboData(SubYears[i]); // Function to fill the last 5 years
    }
}

private void createTextBoxes()
{
   int width = 79;
   int height = 24;
   int spacing = 28;
   TextBox[] subAmt = new TextBox[12];
   for (int i = 0; i <= 11; ++i)
   {
      subAmt[i] = new TextBox();
      subAmt[i].Name = "SubAmt" + i;
      subAmt[i].Border.Class = "TextBoxBorder";
      subAmt[i].Size = new Size(width, height);
      subAmt[i].Margin = new Padding(10, 10, 10, 10);
      subAmt[i].Location = new Point(279, (i * height) + spacing);
      subAmt[i].KeyPress += new KeyPressEventHandler(txtJanAmt_KeyPress);
      plSubscription.Controls.Add(subAmt[i]);

    }
 }

private void btnSave_Click(object sender, EventArgs e)
{
    DataTable dtSubs = new DataTable();
    dtSubs.Columns.Add("SubscriberID", typeof(string));
    dtSubs.Columns.Add("Month", typeof(string));
    dtSubs.Columns.Add("Year", typeof(string));
    dtSubs.Columns.Add("SubAmt", typeof(string));
    DataRow row = dtSubs.NewRow(); 
    foreach (Control c in plSubscription.Controls)
    {
        //<- Not sure how do I get the selected row as in the screenshot
    }
} 
```

编辑 1

我使用以下代码从数据表中获取数据但无法执行以下操作

1.  当我从数据表中获取组合框时，如何设置组合框的值
2.  对于文本框，我如何从数据表中获取值
3.  每当有可用数据时，我希望该行是只读的。

提前致谢

**更改代码**

```
for (int i = 0; i < dt.Rows.Count; i++)
{
   #region Grid Column Names
   DataGridViewComboBoxColumn mntCmb = new DataGridViewComboBoxColumn();
   mntCmb.HeaderText = "Month";
   mntCmb.Name = "Month";
   mntCmb.DataSource = dt;
   mntCmb.DisplayMember = "paidformonth";
   mntCmb.ValueMember = "paidformonth";
   // <-How do I set the column as selected.

   DataGridViewComboBoxColumn yearCmb = new DataGridViewComboBoxColumn();
   yearCmb.HeaderText = "Year";
   yearCmb.Name = "Year";
   yearCmb.DisplayMember = "paidforyear";
   yearCmb.ValueMember = "paidforyear";
   // <-How do I set the column as selected.

   DataGridViewTextBoxColumn amount = new DataGridViewTextBoxColumn();
   amount.HeaderText = "Subscription Amount";
   amount.Name = "Subscription Amount";
   amount.DefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleRight;
   // <-How do I set this column with the value from the datatable

   #endregion

   dgvSubscriptions.Columns.AddRange(mntCmb, yearCmb, amount);
} 
```

**编辑 2**

我似乎对为什么我得到 3 行 6 列感到困惑。数据表只有 2 行 3 列。我正在使用上面的代码。我添加了 ID 列只是为了看看会发生什么。请参阅下面的屏幕截图。我有

```
dgvSubscriptions.AllowUserToAddRows = true 
```

因为我希望用户添加行并输​​入更多数据以保存。我在这里要做的是获取已付费月/年的订阅列表，并允许用户添加订阅，假设 1 月至 4 月已支付，例如 5 月、6 月。

![在此处输入图像描述](https://i.stack.imgur.com/BatJD.png)

**编辑 3**

我什至设置了 DataPropertyName 而不是 ValueMember 仍然没有变化

**编辑代码**

```
DataGridViewComboBoxColumn yearCmb = new DataGridViewComboBoxColumn();
yearCmb.HeaderText = "Year";
yearCmb.Name = "Year";
//yearCmb.DataSource = dt;
yearCmb.DisplayMember = "paidforyear";
//yearCmb.ValueMember = "paidforyear";
yearCmb.DataPropertyName= "paidforyear";
yearCmb.DefaultCellStyle.NullValue = dt.Rows[i][2].ToString();
yearCmb.ReadOnly = true;
dgvSubscriptions.Columns.Add(yearCmb); 
```

**编辑 4**

下面是导致重复列的实际代码

```
dgvSubscriptions.AutoGenerateColumns = false;
dgvSubscriptions.ColumnCount = 1;
dgvSubscriptions.Columns[0].Name = "ID";
dgvSubscriptions.Rows.Clear();
for (int i = 0; i <dt.Rows.Count; i++)
{
     dgvSubscriptions.Rows.Add();
     #region Grid Column Names
     DataGridViewComboBoxColumn mntCmb = new DataGridViewComboBoxColumn();
     mntCmb.HeaderText = "Month";
     mntCmb.Name = "Month";
     //mntCmb.DataSource = dt;
     mntCmb.DisplayMember = "paidformonth";
     mntCmb.DataPropertyName = "paidformonth";
     //mntCmb.ValueMember = "paidformonth";
     mntCmb.DefaultCellStyle.NullValue = dt.Rows[i][1].ToString();
     mntCmb.ReadOnly = true;
     dgvSubscriptions.Columns.Add(mntCmb);

     DataGridViewComboBoxColumn yearCmb = new DataGridViewComboBoxColumn();
     yearCmb.HeaderText = "Year";
     yearCmb.Name = "Year";
     //yearCmb.DataSource = dt;
     yearCmb.DisplayMember = "paidforyear";
     //yearCmb.ValueMember = "paidforyear";
     yearCmb.DataPropertyName= "paidforyear";
     yearCmb.DefaultCellStyle.NullValue = dt.Rows[i][2].ToString();
     yearCmb.ReadOnly = true;
     dgvSubscriptions.Columns.Add(yearCmb);

     DataGridViewTextBoxColumn amount = new DataGridViewTextBoxColumn();
     amount.HeaderText = "Subscription Amount";
     amount.Name = "Subscription Amount";
     amount.DefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleRight;
     //amount.DataPropertyName = dt.Rows[i][2].ToString();
     amount.DataPropertyName="subamount";
     amount.DefaultCellStyle.NullValue = dt.Rows[i][0].ToString();
     amount.ReadOnly = true;
     dgvSubscriptions.Columns.Add(amount);

     #endregion

} 
```

**编辑 5**

我使用 IRSOG 代码进行了一些修改，下面是完整的工作代码。

**工作代码**

```
public struct Data
{
    public List<string> Mon { get; set; }
    public List<string> Year { get; set; }
}

private void fillGridData(DataTable dt)
{
  List<string> Mon = new List<string>() { "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" };

  List<string> Year = new List<string>();
  int CurrentYear = DateTime.UtcNow.Year;
  int NextYear = CurrentYear + 1;
  int LastFiveYears = CurrentYear - 5;
  for (int i = LastFiveYears; i <= NextYear; i++)
  {
     Year.Add(i.ToString());
  }
  List<Data> _Data = new List<Data>();
  for (int i = 1; i <= 12; i++)
  {
     _Data.Add(new Data() { Mon = Mon, Year = Year });
  }

   dgvSubscriptions.Rows.Clear();
   dgvSubscriptions.Refresh();
   dgvSubscriptions.Visible = true;
   dgvSubscriptions.ColumnHeadersDefaultCellStyle.Font = new Font("Trebuchet MS", 8F, FontStyle.Regular);
   dgvSubscriptions.AutoSizeColumnsMode = DataGridViewAutoSizeColumnsMode.Fill;
   dgvSubscriptions.AutoResizeColumns();
   dgvSubscriptions.AllowUserToResizeColumns = true;
   dgvSubscriptions.AllowUserToOrderColumns = true;
   dgvSubscriptions.ColumnHeadersDefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleCenter;
   dgvSubscriptions.Dock = DockStyle.None;
   dgvSubscriptions.BackgroundColor = this.BackColor;
   dgvSubscriptions.BorderStyle = BorderStyle.None;
   dgvSubscriptions.AllowUserToAddRows = true;

  // If dt.Rows.Count > 0 then show the data - do not allow to change existing data
  if (dt.Rows.Count > 0)
  {

    dgvSubscriptions.Rows.Clear();
    dgvSubscriptions.Refresh();

    #region Grid Column Names
    dgvSubscriptions.AutoGenerateColumns = false;
    dgvSubscriptions.Rows.Clear();
    DataGridViewComboBoxColumn mntCmb = new DataGridViewComboBoxColumn();
    mntCmb.HeaderText = "Month";
    mntCmb.Name = "Month";
    mntCmb.DataSource = Mon;
    mntCmb.DefaultCellStyle.NullValue = "";
    dgvSubscriptions.Columns.Add(mntCmb);

    DataGridViewComboBoxColumn yearCmb = new DataGridViewComboBoxColumn();
    yearCmb.HeaderText = "Year";
    yearCmb.Name = "Year";
    yearCmb.DataSource = Year;
    yearCmb.DefaultCellStyle.NullValue = "";
    dgvSubscriptions.Columns.Add(yearCmb);

    DataGridViewTextBoxColumn amount = new DataGridViewTextBoxColumn();
    amount.HeaderText = "Subscription Amount";
    amount.Name = "Subscription Amount";
    amount.DefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleRight;
    amount.DefaultCellStyle.NullValue = "";
    dgvSubscriptions.Columns.Add(amount);
    #endregion

    #region Populate Grid
    for (int i = 0; i <dt.Rows.Count; i++)
    {
       dgvSubscriptions.Rows.Add();

       dgvSubscriptions.Rows[i].Cells[0].Value = dt.Rows[i][1].ToString();  // Month
       dgvSubscriptions.Rows[i].Cells[0].ReadOnly = true; // do not allow the user to make changes
       dgvSubscriptions.Rows[i].Cells[1].Value = dt.Rows[i][2].ToString(); // Year
       dgvSubscriptions.Rows[i].Cells[1].ReadOnly = true; // do not allow the user to make changes
       dgvSubscriptions.Rows[i].Cells[2].Value = dt.Rows[i][0].ToString();  // Subscription amount
       dgvSubscriptions.Rows[i].Cells[2].ReadOnly = true; // do not allow the user to make changes

    }
    #endregion

  }
  else // We come here if dt.Rows.Count is 0 we allow the user to select and save 
  {

    #region Grid Column Names
    DataGridViewComboBoxColumn mntCmb = new DataGridViewComboBoxColumn();
    mntCmb.HeaderText = "Month";
    mntCmb.Name = "Month";
    mntCmb.DataSource = Mon;

    DataGridViewComboBoxColumn yearCmb = new DataGridViewComboBoxColumn();
    yearCmb.HeaderText = "Year";
    yearCmb.Name = "Year";
    yearCmb.DataSource = Year;

    DataGridViewTextBoxColumn amount = new DataGridViewTextBoxColumn();
    amount.HeaderText = "Subscription Amount";
    amount.Name = "Subscription Amount";
    amount.DefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleRight;
    #endregion
    dgvSubscriptions.Columns.AddRange(mntCmb, yearCmb, amount);

    dgvSubscriptions.DataSource = _Data;
  }
  dgvSubscriptions.RowsDefaultCellStyle.Font = new Font("Trebuchet MS", 8F, FontStyle.Regular);

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:34:12.940

而不是使用这个，使用`DataGridView` 试试这个：

使用调用`GetCurrentRowValues`方法，您可以获得选定的行信息。

**完整代码**

```
public Form1()
        {
            InitializeComponent();
            dataGridView1.MultiSelect = false;
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            List<string> Mon = new List<string>() { "January", "February", "March", "April", "May", " June", "July", "August", "September", "October", "November", "December" };
            List<string> Year = new List<string>() { "2001", "2002", "2003", "2004", "2005", "2006" };
            List<Data> _Data = new List<Data>();
            for (int i = 1; i <= 12; i++)
            {
                _Data.Add(new Data() { Mon = Mon, Year = Year });
            }
            DataGridViewComboBoxColumn moonCmb = new DataGridViewComboBoxColumn();
            moonCmb.HeaderText = "Month";
            moonCmb.Name = "Month";
            moonCmb.DataSource = Mon;

            DataGridViewComboBoxColumn yearCmb = new DataGridViewComboBoxColumn();
            yearCmb.HeaderText = "Year";
            yearCmb.Name = "Year";
            yearCmb.DataSource = Year;
            DataGridViewTextBoxColumn amount = new DataGridViewTextBoxColumn();
            amount.HeaderText = "Amount";
            amount.Name = "Amount";
            dataGridView1.Columns.AddRange(moonCmb, yearCmb, amount);

            dataGridView1.DataSource = _Data;

        }

        private void GetCurrentRowValues()
        {
            var mon = dataGridView1.CurrentRow.Cells["Month"].Value;
            var year = dataGridView1.CurrentRow.Cells["Year"].Value;
            var amont = dataGridView1.CurrentRow.Cells["Amount"].Value;
        }

    }
    public struct Data
    {
        public List<string> Mon { get; set; }
        public List<string> Year { get; set; }
    } 
```

**结果**

![在此处输入图像描述](https://i.stack.imgur.com/e4sDf.png)

**新的edit-From数据表**

```
 #region Grid Column Names
        dgvSubscriptions.AutoGenerateColumns = false;
        dgvSubscriptions.ColumnCount = 1;
        dgvSubscriptions.Columns[0].Name = "ID";
        dgvSubscriptions.Rows.Clear();

        DataGridViewComboBoxColumn mntCmb = new DataGridViewComboBoxColumn();
        mntCmb.HeaderText = "Month";
        mntCmb.Name = "Month";
        //mntCmb.DataSource = dt;
        mntCmb.DisplayMember = "paidformonth";
        mntCmb.DataPropertyName = "paidformonth";
        //mntCmb.ValueMember = "paidformonth";
        mntCmb.DefaultCellStyle.NullValue = "";
        mntCmb.ReadOnly = true;
        mntCmb.Items.Add("april");
        mntCmb.Items.Add("jun");
        mntCmb.Items.Add("jull");
        dgvSubscriptions.Columns.Add(mntCmb);

        DataGridViewComboBoxColumn yearCmb = new DataGridViewComboBoxColumn();
        yearCmb.HeaderText = "Year";
        yearCmb.Name = "Year";
        //yearCmb.DataSource = dt;
        yearCmb.DisplayMember = "paidforyear";
        //yearCmb.ValueMember = "paidforyear";
        yearCmb.DataPropertyName = "paidforyear";
        yearCmb.DefaultCellStyle.NullValue = "";
        yearCmb.Items.Add("2001");
        yearCmb.Items.Add("2002");
        yearCmb.Items.Add("2003");
        yearCmb.ReadOnly = true;
        dgvSubscriptions.Columns.Add(yearCmb);
        DataGridViewTextBoxColumn amount = new DataGridViewTextBoxColumn();
        amount.HeaderText = "Subscription Amount";
        amount.Name = "Subscription Amount";
        amount.DefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleRight;
        //amount.DataPropertyName = dt.Rows[i][2].ToString();
        amount.DataPropertyName = "subamount";
        amount.DefaultCellStyle.NullValue = "";
        amount.ReadOnly = true;
        dgvSubscriptions.Columns.Add(amount);
        #endregion 
```

**填充**

```
 for (int i = 0; i < dt.Rows.Count; i++)
        {
            dgvSubscriptions.Rows.Add();
            dgvSubscriptions.Rows[i].Cells[0].Value = dt.Rows[i][0].ToString();
            dgvSubscriptions.Rows[i].Cells[1].Value = dt.Rows[i][1].ToString();
            dgvSubscriptions.Rows[i].Cells[2].Value = dt.Rows[i][2].ToString();
            dgvSubscriptions.Rows[i].Cells[3].Value = dt.Rows[i][0].ToString();
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:31:57.357

forms`ActiveControl`属性可以帮助您。

```
var focusedCtrl = this.ActiveControl;
var siblings = Controls.Where(c => c.Location.Y == focusedCtrl.Location.Y).ToList();
foreach (Control c in siblings)
{
   // all thise controls are on the same row, providede that the allign
} 
```

我仍然会建议[DataGridView](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.aspx)。对于看起来像您的结构，这似乎是一个更好的选择。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T08:36:42.163

我会使用 DataGridView 但如果您仍想保留此结构，您可能需要更新 KeyPressed 事件处理程序以使其看起来像这样

```
private string lastUsedTextBox = string.Empty;
private string lastEnteredValue = string.Empty;

private void txtJanAmt_KeyPress(object sender, KeyPressEventArgs e)
{
lastUsedTextBox = (sender as TextBox).Name;                      
lastEnteredValue = (sender as TextBox).Text;                       
} 
```

然后，当您按下保存按钮时，您将所有内容都存储在这里。

如果您需要保存所有数据，您可以使用字典或类似的东西。

# browser - 有没有办法显示由应用程序设置的浏览器窗口属性？

> ID：16008747
> 
> 赞同：0
> 
> 时间：2013-04-15T06:16:47.393
> 
> 标签：browser, window, google-chrome-devtools

在 Chrome 开发工具中：

有谁知道如何查看当前应用程序设置的窗口属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T15:30:36.713

我认为你能得到的最近的东西是

```
Object.keys(window); 
```

这实际上列出了几个“原始”属性，例如`document`or `chrome`，但在 Chrome 28 dev 中只有 8 个，其他的可以认为是由应用程序设置的。

# java - 在javascript中重定向到JSP不起作用（使用Spring MVC）

> ID：16008752
> 
> 赞同：0
> 
> 时间：2013-04-15T06:17:12.723
> 
> 标签：java, javascript, spring-mvc

我想要的是确认 Javascript 我想重定向到 Redirect.JSP 页面。该 jsp 页面包含使用 Spring MVC 实现的重定向到 HomePage.jsp 的代码。

现在它被重定向到 Redirect.jsp，但从内部它没有将它重定向到 HomePage.jsp。如果我刷新页面，那么只有它会被重定向。

我的代码..

```
<script type="text/javascript"> 

if (confirm("Data Saved Successfully")) {
    window.location.href("http://localhost:8383/AdminPricingModule/Redirect.jsp");
}

</script> 
```

和 Redirect.jsp 的代码

```
<body >
    <% response.sendRedirect("startPublish.htm");%>
</body> 
```

上面的代码使用 SpringMVC 重定向到 HomePage。帮助...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:09:59.057

不要使用小脚本，在控制器中进行重定向。

```
public String myMethod(){
return "redirect:startPublish.htm";
} 
```

# prolog - prolog中输入/输出参数的区别

> ID：16008754
> 
> 赞同：2
> 
> 时间：2013-04-15T06:17:24.417
> 
> 标签：prolog, parameter-passing

Prolog谓词定义中的输入和输出参数有什么区别吗？这与其他语言（如 Scheme 和 C）相比如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T09:20:02.647

我希望我能理解你的问题。你应该研究一下 Prolog 是如何实现统一的，因为它会让事情变得更清晰。反正：

简而言之，没有内置方法可以将 Prolog 谓词的参数声明为输入、输出或输入/输出。

在 C 中，你可以说：

```
void foo(int const *a, int *b)
{
    *b += *a;
} 
```

您可以争辩说，在 的上下文中`foo`，`a`是输入参数，而`b`是输出参数。在 Prolog 中，您可以在描述谓词时使用[这种表示法](http://www.swi-prolog.org/pldoc/doc_for?object=section%282,%274.1%27,swi%28%27/doc/Manual/preddesc.html%27%29%29)，但无法在谓词定义的头部**声明在调用谓词时****必须**绑定参数或自由变量。无论如何，纯 Prolog 中的大多数谓词都有可以是*input*、*output*或*input/output*的参数，具体取决于谓词的使用方式。查看[SWI-Prolog 的列表库以](http://www.swi-prolog.org/pldoc/doc_for?object=section%282,%27A.12%27,swi%28%27/doc/Manual/lists.html%27%29%29)获取许多示例。

您当然可以要求实例化参数或自由变量，但这是在谓词定义的主体中完成的：

```
add_2(A, B) :- integer(A), var(B), B is A+2. 
```

将此与以下内容进行比较：

```
plus_2(A, B) :- integer(A), integer(B), B =:= A+2. 
```

它检查 B=A+2 是否成立，而不是将 A 加 2 并将结果与​​ B 统一。`integer/1`,`var/1`和[其他验证术语类型的谓词](http://www.swi-prolog.org/pldoc/doc_for?object=section%282,%274.6%27,swi%28%27/doc/Manual/typetest.html%27%29%29)不能在纯 Prolog 中实现。

在我对 Prolog 的非常有限的经验中，我注意到只要有足够的参数被实例化，就会尝试定义可以工作的谓词：

1.  根据谓词的逻辑实例化其他变量
2.  推断谓词所描述的参数之间的关系是否成立。

例如，`length(List, Integer)`可以告诉你一个列表有多长，制作一个给定长度的未实例化变量列表，或者检查列表是否那么长。

但是，您可以做的是在谓词定义的头部添加一个基本术语，例如`foo(1)`。这种谓词称为*事实*。头部带有基本术语的子句是定义递归谓词的递归结束的常用方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T14:51:37.577

> Prolog定义中的输入/输出参数有什么区别吗？

不，实际上参数可以是任何一个，具体取决于它的使用方式。Boris 的长度示例是一个很好的示例，因为您可以计算长度：

```
?- length([1,2,3], X).
X = 3. 
```

或测试一个答案：

```
?- length([1,2,3], 3).
true. 
```

或者生成指定长度的列表：

```
?- length(X, 3).
X = [_G273, _G276, _G279]. 
```

甚至生成列表和长度：

```
?- length(X, Y).
X = [],
Y = 0 ;
X = [_G15],
Y = 1 ;
X = [_G15, _G18],
Y = 2 ;
... 
```

因此，您看到是否`length/2`可以实例化的任何一个参数，您仍然会得到有意义的答案。并非 Prolog 中的每个谓词都如此灵活，但很多都是。

> 这与其他语言（如 scheme 和 C ）相比如何？

这是Prolog 和其他语言之间*的主要区别。*没有其他更知名的语言可以类似地帮助您理解它。这意味着，除其他差异外，没有隐含的“返回值”，您必须有一个参数才能将结果传回，但您不仅限于一个结果参数。在两个参数`length/2`都未实例化的情况下，它们都充当返回值。

按照惯例，您将希望编写谓词，以便在常见情况下输入参数位于输出参数之前（或者至少，以您选择的名称的合理方式）。

# java - 无法从 java tcp 套接字中的输入流中读取数据字节

> ID：16008755
> 
> 赞同：0
> 
> 时间：2013-04-15T06:17:36.650
> 
> 标签：java, tcp, inputstream

在我的服务器代码中，我向客户端发送不同的请求并返回响应，但只访问了第一个读取请求，在访问第二个读取语句期间，它无法读取数据字节，我的代码如下。

```
private static boolean Rt_Request(int id,Object client)throws Exception  
{ 

int size=5; 

byte[] buf=new byte[size];

char[] cbuf=new char[32]; 

int byteRead; Socket s=(Socket)client;

BufferedReader in1= new BufferedReader(new InputStreamReader(s.getInputStream()));

PrintStream out=new PrintStream(s.getOutputStream());

try {
    buf[0]=0x02;            
    buf[1]=0x09;            
    buf[2]=0x01;            
    buf[3]=0x00;            
    buf[4]=0x03;
    Thread.sleep(5000);

    out.write(buf, 0, 5);      
} catch(Exception e) {        
     System.out.println("Error Occured...."+e);                             
}

byteRead=0;

while(byteRead!=1) {
        try {

            byteRead=in1.read(cbuf, 0, 1);// Have problem on this line,here I am unable to read data bytes.
            for(int i=0;i<byteRead;i++)
            {
            System.out.println(cbuf[i]);
            }
            if(byteRead==0)
            {
                System.out.println("Breaking.....");
                return false;
            }         
        }
        catch(Exception e) {
            System.out.println("Error Occured...."+e);
            return false;
        }

    }       
        return true;   
    } catch(Exception e) {
        System.out.println("System is not Connected..."+e);
        return false;
    } 
```

几乎尝试了所有套接字未关闭的东西，read.available();,read.fully(); 等..无法得到解决方案。我在TimerTask类的run方法中编写了这个函数。任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T23:12:03.213

`read()`阻塞直到至少有一个字节可用。也许您还没有发送它，或者没有正确刷新它，或者您正在`BufferedReaders`同一个套接字上创建多个。

成功后NB`bytesRead`永远不能为零`read(cbuf, 0, 1).`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:32:25.960

```
byteRead=in1.read(cbuf, 0, 1); 
```

此行仅读取一个值，并且由于在进入 for 循环之前您不会再次调用它，因此您应该在 stdout 中显示读取的值的 1 个 println。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:52:26.550

如果没有数据可用[，底层`InputStream`](http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#read%28byte%5B%5D,%20int,%20int%29)的读取方法将阻塞（即挂起/等待）。

> 在输入数据可用、检测到文件结尾或引发异常之前，此方法会一直阻塞。

我强烈怀疑是这种情况。您可以通过调用`in1.ready()`读者来检查这一点。

刷新输出缓冲区

`out.flush();`

写入字节后，或者它们可能会在本地缓冲。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T06:28:41.107

[javadocs](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#read%28char%5B%5D,%20int,%20int%29)说 BufferedReader#read(char[], int, int) 返回：读取的 字符数，如果已到达流的末尾，则为 -1

既然你这样做了

```
byteRead=in1.read(cbuf, 0, 1); 
```

在

`while(byteRead!=1)`

将其更改为

```
while(byteRead != -1) 
```

# java - 如果无法创建抽象类的新对象，那么在抽象类中使用非抽象方法有什么意义？

> ID：16008762
> 
> 赞同：0
> 
> 时间：2013-04-15T06:18:19.763
> 
> 标签：java, inheritance, abstract-methods

抽象类可以同时具有抽象方法和非抽象方法。如果无法创建抽象类的新对象，那么在抽象类中使用非抽象方法有什么意义？

我知道您可以覆盖子类中的非抽象方法，然后通过子类的对象使用它。但是，如果您这样做，那么首先需要具有实现的非抽象方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:21:28.523

多思考或多谷歌。

1.  如果您的子类具有通用功能，那么为什么要在每个类中覆盖该方法？您可以使用基类（在这种情况下是抽象的）方法。需要非抽象（他们通常称为具体）方法。
2.  虽然在那里有抽象方法（你已经知道我认为），但我们可以根据我们的要求覆盖。
3.  如果您需要根据每个子类的要求覆盖所有方法，那么您可以选择接口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:22:49.337

简单的答案：重用和可维护性。

假设有 4 个具体类扩展了您的抽象类，它们都将共享一些行为。

在这种情况下，最好在抽象类中实现该方法，而不是在所有具体类中单独定义它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:20:16.030

具体的子类可以使用抽象超类中的方法。所以子类之间的所有共享功能都可以进入基础抽象类。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T06:22:06.653

代码重用。如果您不在继承类中覆盖非抽象方法，则从抽象类继承它们。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T06:22:24.573

取而代之将它们放在子类中违反了 DRY 原则（不要重复自己）：如果所有子类都具有相同的功能，为什么要在每个类中重复编写呢？

# php - PHP Single Sign On using NTLMv2

> ID：16008765
> 
> 赞同：5
> 
> 时间：2013-04-15T06:18:25.607
> 
> 标签：php, proxy, nginx, single-sign-on, ntlmv2

I have a nginx web server, using php-fpm for script execution, and I want to get the NTLMv2 credentials of the client browsing the the server. I have a proxy server within my local network to authenticate my users. The question is, how to do I make the nginx server authenticate, or PHP get the credentials of my users using NTLMv2 and pass me back information? I would obviously need to know their username at least to make sure that the client gets the correct credentials within the system.

I'm fine with making a upstream connection to the proxy server when for example I go to /login.php, so long as it passes the information about the client back to the server about the client, for example the user name found in the Type-3 message, I could then save this information within their session and use it from that point on.

* * *

I have a Linux server running nginx, PHP and SQLite within a local area network. The computers that are connecting to this server are all Windows based using Windows Login to the network. The login uses NTLMv2 authentication and to get to websites outside of the network via a proxy that all clients must go through to make a connection to the outside web. What I want to do, is use the NTLMv2 authentication information for the login into the LAN web server. Any suggestions on how I could do this?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-19T17:39:58.637

I think the easiest way to accomplish something like that, is to simulate a NTLMv2 authentication at the nginx server, redirect the requests to the proxy and check the answer. I can't reproduce your setup, so the code below is not tested but it should work or it should give you a bit of help.

```
<?php
$headers = getallheaders() //Equivalent to apache_request_headers() to get the headers of the request.

if(!isset($headers['Authorization'])) //Check Authorization Header
{
    header('HTTP/1.1 401 Unauthorized'); //Return Unauthorized Http-Header (NTLM protocol)
    header('WWW-Authenticate: NTLM'); //Authenticcation Information (NTLM protocol)
}
else
{
    if(substr($headers['Authorization'],0,4) == 'NTLM') //Check whether Authorization Header is valid
    {
        $message = base64_decode(substr($headers['Authorization'], 5)) //Get NTLM Message from Authrization header
        if(substr($message, 0, 8) == "NTLMSSP\x00") //Check whether NTLM Message is valid
        {
            if($message[8] == "\x01") //Check whether it's type-1-NTLM Message
            {
                //$message holds the base64 encoded type-1-NTLM message
                $ch = curl_init(); //Use cURL to connect to web via proxy
                curl_setopt($ch, CURLOPT_URL, "http://www.google.com");
                curl_setopt($ch, CURLOPT_HTTPHEADER, array('Authorization: '.$headers['Authorization']));
                curl_setopt($ch, CURLOPT_PROXY, <Your Proxy Adress>);
                curl_setopt($ch, CURLOPT_PROXYPORT, <Your Proxy Port>);
                curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
                $result = curl_exec($ch);
                $info = curl_getinfo($ch);
                curl_close($ch);
                $header = substr($result, 0, $info['header_size']);
                $body = substr($result, $info['header_size'], $info['download_content_length']-$info['header_size']);
                $c_headers = explode("\r\n", $header);
                for($i = 0; $i < (count($c_headers) - 2); $i++)
                {
                    header($c_headers[$i]);
                    if(substr($c_headers[$i], 0, 16) == "WWW-Authenticate")
                    {
                        //Thats your type-2-message header Format: WWW-Authenticate: NTLM <base64-type-2-message>
                    }
                }
            }
            else if ($message[8] == "\x03") //Check whether it's type-3-NTLM Message
            {
                $ch = curl_init(); //Use cURL to connect to web via proxy 
                curl_setopt($ch, CURLOPT_URL, "http://www.google.com");
                curl_setopt($ch, CURLOPT_HTTPHEADER, array('Authorization: '.$headers['Authorization']));
                curl_setopt($ch, CURLOPT_PROXY, <Your Proxy Adress>);
                curl_setopt($ch, CURLOPT_PROXYPORT, <Your Proxy Port>);
                $result = curl_exec($ch);
                $info = curl_getinfo($ch);
                curl_close($ch);
                if($info['CURLINFO_HTTP_CODE'] == 200)
                {
                    //Authenticated
                    //$msg holds the base64 encoded type-3-NTLM message (which includes username, domain, workstation)
                }
            }
        }
    }
}?> 
```

I used this reference of the NTLM protocol: [http://davenport.sourceforge.net/ntlm.html](http://davenport.sourceforge.net/ntlm.html)

I hope it will help you. Feel free to comment.

# iphone - 2-3天后推送通知？

> ID：16008774
> 
> 赞同：0
> 
> 时间：2013-04-15T06:19:22.253
> 
> 标签：iphone, ios, apple-push-notifications

我正在开发一个需要推送通知的应用程序。我提供了推送通知功能，但我需要知道如果用户关闭了他/她的 iDevice 2-3 天或出于任何原因，设备关闭了几个小时/天/分钟等。

如果我在那个时间点发送推送通知，用户打开设备时会收到通知吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:32:25.753

如果您在短时间内向同一设备或计算机发送多个通知，推送服务将仅发送最后一个。

这就是为什么。设备或计算机确认收到每个通知。在推送服务收到该确认之前，它只能假设设备或计算机由于某种原因已离线，并将通知存储在服务质量 (QoS) 队列中以供将来重新传递。这里的往返网络延迟当然是一个主要因素。

所有这一切都表明，通知的目的是向应用程序指示提供程序上感兴趣的某些内容发生了变化，并且应用程序应与提供程序签入以获取详细信息。通知不应包含在其他地方也不可用的数据，它们也不应该是有状态的。

由于您的设备未连接到服务，任何未立即发送的推送通知都将排队等待将来重新发送。“立即”当然需要考虑您的连接延迟。异常情况将超过 60 秒，因为此时 APN 将超时。

您仍有任何疑问，然后您可以参考以下链接 [http://developer.apple.com/library/ios/#technotes/tn2265/_index.html](http://developer.apple.com/library/ios/#technotes/tn2265/_index.html)

# c# - 如何指定多个文件扩展名来制作文件夹的 rar？

> ID：16008777
> 
> 赞同：0
> 
> 时间：2013-04-15T06:19:30.777
> 
> 标签：c#, windows-applications, winrar

我正在使用 c# 代码制作文件夹的 .rar 文件。

## 代码

```
string zipFileToWrite, folderPath;
zipFileToWrite = @"D:\jack.zip";
folderPath = @"D:\New folder";
System.Diagnostics.Process MyProcess = new System.Diagnostics.Process();
MyProcess.StartInfo.WorkingDirectory = @"D:\NetworkPathChecking\FileBackup\FileBackup\bin\Debug\App_Files\";
MyProcess.StartInfo.FileName = "winrar.exe";
MyProcess.StartInfo.Arguments = "a -r " + "\"" + zipFileToWrite + "\"" + " " + "\"" + folderPath + "\"";
MyProcess.Start();
MyProcess.WaitForExit(); 
```

现在我需要指定多个扩展名作为文件的过滤器，以便从文件夹中生成 .rar。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:12:14.627

通过使用带有 *.FileExtension 的文件列表来解决问题。

## 程序

```
public static string RarFilesT(string rarPackagePath, Dictionary<int, string> accFiles)
{
   string error = "";
   try
   {
       string[] files = new string[accFiles.Count];
       int i = 0;
       foreach (var fList_item in accFiles)
       {
           files[i] = "\"" + fList_item.Value;
           i++;
       }
       string fileList = string.Join("\" ", files);
       fileList += "\"";
       System.Diagnostics.ProcessStartInfo sdp = new System.Diagnostics.ProcessStartInfo();
       string cmdArgs = string.Format("A {0} {1} -ep1 -r",
                String.Format("\"{0}\"", rarPackagePath),
                fileList);
       sdp.ErrorDialog = true;
       sdp.UseShellExecute = true;
       sdp.Arguments = cmdArgs;
       sdp.FileName = rarPath;//Winrar.exe path
       sdp.CreateNoWindow = false;
       sdp.WindowStyle = System.Diagnostics.ProcessWindowStyle.Hidden;
       System.Diagnostics.Process process = System.Diagnostics.Process.Start(sdp);
       process.WaitForExit();
       error = "OK";
   }
   catch (Exception ex)
   {
       error = ex.Message;
   }
   return error;
} 
```

## 呼叫程序

```
private void btnSave_Click(object sender, EventArgs e)
{
    Dictionary<int, string> accFiles = new Dictionary<int, string>();
    accFiles.Add(1, @"D:\New folder\New folder\*.txt");
    accFiles.Add(2, @"D:\New folder\*.html");
    RarFilesT(@"D:\test.rar",accFiles );
} 
```

现在这个过程工作正常。它需要完整备份具有选定扩展名的文件夹。

# java - 问题通过 LogCat 检查 Null - 数据未出现在日志中

> ID：16008778
> 
> 赞同：0
> 
> 时间：2013-04-15T06:19:38.087
> 
> 标签：java, android, eclipse, logging, logcat

我试图在我的源代码中找到返回数据的字符串或长值（所以我可以将它们发布到我的服务器）但是当我尝试使用以下方法对它们进行空值检查时：

Log.d(TAG, String.valueOf(WifiInfo.LINK_SPEED_UNITS));

数据永远不会出现在日志中。任何建议都非常感谢！

服务类来源：

```
public class Service_class extends Service {
    public static String TAG="TEST TAG";
  TextView textSsid, textSpeed, textRssi;

  public Handler mHandler = new Handler();
    public long mStartRX = 0;
  public long mStartTX = 0;
  public long txBytes;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate();

  textSsid = (TextView) findViewById(R.id.Ssid);
  textSpeed = (TextView) findViewById(R.id.Speed);
  textRssi = (TextView) findViewById(R.id.Rssi);
  Long.toString(mStartTX);
  Long.toString(mStartRX);
  Long.toString(txBytes);

   mStartRX = TrafficStats.getTotalRxBytes();
     mStartTX = TrafficStats.getTotalTxBytes();
     if (mStartRX == TrafficStats.UNSUPPORTED || mStartTX == TrafficStats.UNSUPPORTED) {
      AlertDialog.Builder alert = new AlertDialog.Builder(this);
          alert.setTitle("Uh Oh!");
          alert.setMessage("Your device does not support traffic stat monitoring.");
          alert.show();
     } else {
      mHandler.postDelayed(mRunnable, 1000);
     }

  }

 private TextView findViewById(int speed) {
      //   TODO Auto-generated method stub
      return null;
  }

private final Runnable mRunnable = new Runnable() {
     public void run() {
      TextView RX = (TextView)findViewById(R.id.RX);
      TextView TX = (TextView)findViewById(R.id.TX);
      long rxBytes = TrafficStats.getTotalRxBytes()- mStartRX;
      RX.setText(Long.toString(rxBytes));
      long txBytes = TrafficStats.getTotalTxBytes()- mStartTX;
      TX.setText(Long.toString(txBytes));
      mHandler.postDelayed(mRunnable, 1000);
      ParseObject testObject = new ParseObject("TestObject");
      testObject.put("DataOut", Long.valueOf(txBytes));
      testObject.put("DataIn", Long.valueOf(mStartRX));
      testObject.put("DataRSSI", String.valueOf(textRssi));
      testObject.put("DataSpeed", String.valueOf(textSpeed));
      testObject.saveInBackground();

      final Chronometer myChronometer = (Chronometer)findViewById(R.id.chronometer);
      myChronometer.start();

      DisplayWifiState();
      this.registerReceiver(this.myWifiReceiver, new IntentFilter(
              ConnectivityManager.CONNECTIVITY_ACTION));

  }

  private Chronometer findViewById(int chronometer) {
      //   TODO Auto-generated method stub
      return null;
  }

  private void registerReceiver(BroadcastReceiver myWifiReceiver2,
              IntentFilter intentFilter) {
         //    TODO Auto-generated method stub

      }

      private BroadcastReceiver myWifiReceiver = new BroadcastReceiver() {

      @Override
      public void onReceive(Context arg0, Intent arg1) {
         //    TODO Auto-generated method stub
          NetworkInfo networkInfo = (NetworkInfo) arg1
                  .getParcelableExtra(ConnectivityManager.EXTRA_NETWORK_INFO);
          if (networkInfo.getType() == ConnectivityManager.TYPE_WIFI) {
              DisplayWifiState();
          }
      }
  };

  public void DisplayWifiState() {

      ConnectivityManager myConnManager = (ConnectivityManager) getSystemService(CONNECTIVITY_SERVICE);
      NetworkInfo myNetworkInfo = myConnManager
              .getNetworkInfo(ConnectivityManager.TYPE_WIFI);
      WifiManager myWifiManager = (WifiManager) getSystemService(Context.WIFI_SERVICE);
      WifiInfo myWifiInfo = myWifiManager.getConnectionInfo();

      if (myNetworkInfo.isConnected()) {

          textSsid.setText(myWifiInfo.getSSID());

          textSpeed.setText(String.valueOf(myWifiInfo.getLinkSpeed()) + " "
                  + WifiInfo.LINK_SPEED_UNITS);
          Log.d(TAG, String.valueOf(WifiInfo.LINK_SPEED_UNITS));
          textRssi.setText(String.valueOf(myWifiInfo.getRssi()));

      } else {
          textSsid.setText("---");

          textSpeed.setText("---");
          textRssi.setText("---");
         }}};

    @Override
    public IBinder onBind(Intent arg0) {
        return null;
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        Toast.makeText(this, "Hello World", Toast.LENGTH_LONG).show();
     //   Log.d(TAG, "starting service");

        ParseObject testObject = new ParseObject("TestObject");

        testObject.put("DataOut", Long.valueOf(txBytes));
      testObject.put("DataIn", Long.valueOf(mStartRX));
      testObject.put("DataRSSI", String.valueOf(textRssi));
      testObject.put("DataSpeed", String.valueOf(textSpeed));
      testObject.saveInBackground();

        return START_STICKY;
    }

    @Override
    public void onDestroy() {

        super.onDestroy();
        Toast.makeText(this, "Service Stopped", Toast.LENGTH_LONG).show();

    }

    @Override
    public void onCreate() {
        super.onCreate();
    }

} 
```

主程序.Java

```
public class Main extends Activity {    

TextView textSsid, textSpeed, textRssi;

public Handler mHandler = new Handler();
public long mStartRX = 0;
public long mStartTX = 0;
public long txBytes;
public static String TAG="TEST TAG";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Start service using AlarmManager

    Calendar cal = Calendar.getInstance();
    cal.add(Calendar.SECOND, 10);
    Intent intent = new Intent(Main.this, Service_class.class);
    PendingIntent pintent = PendingIntent.getService(Main.this, 0, intent,
            0);
    AlarmManager alarm = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
    alarm.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),
            12 * 1000, pintent);

    // click listener for the button to start service
    Button btnStart = (Button) findViewById(R.id.button1);
    btnStart.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            startService(new Intent(getBaseContext(), Service_class.class));

        }
    });

    // click listener for the button to stop service
    Button btnStop = (Button) findViewById(R.id.button2);
    btnStop.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            stopService(new Intent(getBaseContext(), Service_class.class));
        }
    });

        textSsid = (TextView) findViewById(R.id.Ssid);
        textSpeed = (TextView) findViewById(R.id.Speed);
        textRssi = (TextView) findViewById(R.id.Rssi);
        Long.toString(mStartTX);
        Long.toString(mStartRX);
        Long.toString(txBytes);

        ParseAnalytics.trackAppOpened(getIntent());

         mStartRX = TrafficStats.getTotalRxBytes();
            mStartTX = TrafficStats.getTotalTxBytes();
            if (mStartRX == TrafficStats.UNSUPPORTED || mStartTX == TrafficStats.UNSUPPORTED) {
                AlertDialog.Builder alert = new AlertDialog.Builder(this);
                alert.setTitle("Uh Oh!");
                alert.setMessage("Your device does not support traffic stat monitoring.");
                alert.show();
            } else {
                mHandler.postDelayed(mRunnable, 1000);
            }}

        private final Runnable mRunnable = new Runnable() {
            public void run() {

                TextView RX = (TextView)findViewById(R.id.RX);
                TextView TX = (TextView)findViewById(R.id.TX);
                long rxBytes = TrafficStats.getTotalRxBytes()- mStartRX;
                RX.setText(Long.toString(rxBytes));
                long txBytes = TrafficStats.getTotalTxBytes()- mStartTX;
                TX.setText(Long.toString(txBytes));
                mHandler.postDelayed(mRunnable, 1000);

                final Chronometer myChronometer = (Chronometer)findViewById(R.id.chronometer);
                myChronometer.start();

                DisplayWifiState();
                this.registerReceiver(this.myWifiReceiver, new IntentFilter(
                        ConnectivityManager.CONNECTIVITY_ACTION));

            }

            private void registerReceiver(BroadcastReceiver myWifiReceiver2,
                    IntentFilter intentFilter) {
                // TODO Auto-generated method stub

            }

            private BroadcastReceiver myWifiReceiver = new BroadcastReceiver() {

                @Override
                public void onReceive(Context arg0, Intent arg1) {
                    // TODO Auto-generated method stub
                    NetworkInfo networkInfo = (NetworkInfo) arg1
                            .getParcelableExtra(ConnectivityManager.EXTRA_NETWORK_INFO);
                    if (networkInfo.getType() == ConnectivityManager.TYPE_WIFI) {
                        DisplayWifiState();
                    }
                }
            };

            public void DisplayWifiState() {

                ConnectivityManager myConnManager = (ConnectivityManager) getSystemService(CONNECTIVITY_SERVICE);
                NetworkInfo myNetworkInfo = myConnManager
                        .getNetworkInfo(ConnectivityManager.TYPE_WIFI);
                WifiManager myWifiManager = (WifiManager) getSystemService(Context.WIFI_SERVICE);
                WifiInfo myWifiInfo = myWifiManager.getConnectionInfo();

                if (myNetworkInfo.isConnected()) {

                    textSsid.setText(myWifiInfo.getSSID());

                    textSpeed.setText(String.valueOf(myWifiInfo.getLinkSpeed()) + " "
                            + WifiInfo.LINK_SPEED_UNITS);
                    textRssi.setText(String.valueOf(myWifiInfo.getRssi()));

                } else {
                    textSsid.setText("---");

                    textSpeed.setText("---");
                    textRssi.setText("---");

                }
    };
};} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:24:41.443

你可以添加一个字符串（任何虚拟）值，以便它们出现，我想

```
Log.d(TAG,"Null: "+String.valueOf(WifiInfo.LINK_SPEED_UNITS)); 
```

# ios - 在有多个零时显示警报消息

> ID：16008779
> 
> 赞同：0
> 
> 时间：2013-04-15T06:19:48.110
> 
> 标签：ios, uitextfield, uialertview

我有两个 UITextfields -`textfield1`和`textfield2`.

我只是在做两个文本字段的乘法。`textfield2`具有固定值，`textfield1`用户可以自行设置值。

现在，我面临一个问题。如果用户将值设置为 0，那么我将显示一条警报消息。

```
if ([textfield1.text isEqualToString:@"0"])
{
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:APP_NAME message:@"You can not set Zero." delegate:nil cancelButtonTitle:@"OK" otherButtonTitles: nil];
    [alert show];
} 
```

但是，如果用户设置了多个零或十进制零（0.0 或 0.00），则我无法显示警报消息。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T06:21:45.173

不要使用字符串。转换为数字：

```
double value1 = [textfield1.text doubleValue];
if (value1 == 0.0) {
    // show alert
} 
```

**更新**：实际上，使用`doubleValue`不是一个好主意，因为您想支持来自世界各地的用户。一些用户可能会输入值，`0.5`而另一些用户可能会使用`0,5`等。最好使用 an`NSNumberFormatter`将输入的文本转换为数字。

```
NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
NSNumber *number = [formatter numberFromString:textfield1.text];
double value1 = [number doubleValue]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:30:44.767

```
float value1 = [textfield1 text] floatValue];
int value2 = [textfield1 text] intValue];
if (value1 == 0.0 || value2 == 0) {
    // show alert
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:28:18.057

您可以将 < UITextFieldDelegate > 添加到您的 xxclass.h

并在 xxclass.m 中实现委托

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{

    if([textField.text isEqualToString:@""] && [string isEqualToString:@"0"]){
     UIAlertView *alert = [[UIAlertView alloc] initWithTitle:APP_NAME message:@"You can not set Zero." delegate:nil cancelButtonTitle:@"OK" otherButtonTitles: nil]; [alert show];
    return NO; 
    }

    return YES;
} 
```

# mysql - 什么是以及如何从我的数据库中删除表空间错误？

> ID：16008782
> 
> 赞同：6
> 
> 时间：2013-04-15T06:20:11.860
> 
> 标签：mysql, mysql-workbench

由于负载阴影问题，我的数据库中的一个表被破坏了。我删除了表，现在我想再次创建表。

我收到此**错误**：

> 错误 1813：表 ' 的表空间`zorkif`。`sys_user_accounts`'存在。请在 IMPORT 之前丢弃表空间。

**SQL 语句：**

```
CREATE  TABLE `zorkif`.`sys_user_accounts` (
    `UserID` INT NOT NULL AUTO_INCREMENT ,    
    PRIMARY KEY (`UserID`) ,    
    UNIQUE INDEX `UserID_UNIQUE` (`UserID` ASC)
) 
```

什么是表空间以及如何丢弃这个表空间？我必须在查询中运行任何命令吗？如何处理这个问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-02-21T04:12:47.560

这对我有用，但我在本地服务器中使用它。

打开安装xampp的目录，例如

```
C:/xampp/mysql/data/... 
```

选择要删除的表空间的文件夹（类似于数据库名称），然后删除扩展名为`idb`. 仅删除与要创建/删除的表对应的一个文件。

就我而言，我的文件是`karyawan.idb`，

希望这对你有用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-12-27T22:34:48.933

我花了很长时间在我的一个生产数据库上解决这个问题。以下步骤实际上非常干净地解决了这个问题：

```
-> deactivate your app/page - any requests to your db (if you dont have a service mode in your app - build one :P)
-> mysqldump your db (optionally with --routines=true);
-> kill the folder with db name
-> create schema db name;
-> drop schema db name;
-> restart mysql (service mysql restart - or similar depending on your os)
-> create schema db name;
-> mysql import your previously created dump; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-04-27T07:15:58.620

重复[错误：表 xxx 的表空间存在。请在 IMPORT 之前丢弃表空间](https://stackoverflow.com/questions/15694168/error-tablespace-for-table-xxx-exists-please-discard-the-tablespace-before-imp)

```
<WAMP or XAMPP path >\bin\mysql\mysqlX.X.XX\data\<your database name> 
```

删除整个数据库文件夹并重新启动 apache。

再次创建数据库并导入数据库。

有用。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-09-07T03:24:54.350

步骤 1：备份 mysql/database/*.ibd 到另一个文件夹

第二步：删除所有mysql ib_logfile*

第三步：重启mysql服务

第 4 步：从 shell 登录 mysql

第 5 步：运行：

```
- use database;
- ALTER TABLE table_name DISCARD TABLESPACE; 
```

（对所有表空间有问题的表重复）

第 6 步：将 *.ibd 从备份文件夹复制到 mysql/database/ 文件夹

第 7 步：通过运行查询重复第 3,4 步：

```
- use database;
- ALTER TABLE table_name IMPORT TABLESPACE; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-06-18T04:47:11.030

尝试删除表空间可能会给您带来其他错误。对我来说，我收到以下错误：

```
DROP TABLESPACE `tablename`

Error Code: 1478\. Table storage engine 'InnoDB' does not support the create option 'TABLESPACE or LOGFILE GROUP' 
```

我的解决方案是删除数据库。这将删除与其相关的所有表空间，并允许您再次创建表。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-02-05T00:06:47.760

以下适用于 MariaDB 10.3.12：

*   在另一个数据库中创建另一个同名表
*   sudo cp -p otherdb/tablename.frm 问题db/tablename.frm
*   删除表问题db.tablename

在此之后一切都应该工作并且是干净的。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-04-29T06:50:31.567

打开安装MAMP的目录，例如

Macintosh ▸ Applications ▸ MAMP ▸ db ▸ ... 选择要删除的表空间的文件夹（类似于数据库名称），然后删除扩展名为 idb 的文件。仅删除与要创建/删除的表对应的一个文件。

例如文件：Macintosh ▸ Applications ▸ MAMP ▸ db ▸ mysql57 ▸ example_db ▸ amc_customer.ibd

尝试这个。这对我有用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-15T06:25:02.757

在创建此表之前运行此查询以删除`TABLESPACE`

```
DROP TABLESPACE `zorkif`.`sys_user_accounts`

TABLESPACE can contain one or more data files, providing storage space for tables. 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-10-03T08:52:22.613

在我的情况下，即使在导入之前删除表之后，我也无法丢弃 TABLESPACE，因为 mysql 说不存在 TABLESPACE，如果是这种情况，是因为该表的索引仍然存在，所以您需要删除这些索引

```
DELETE FROM innodb_index_stats WHERE table_name='table_name_here'; 
```

之后丢弃表空间错误不再发生，我可以成功导入表

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-03-23T13:01:24.940

解决此问题的步骤：

1.  将您的架构导出到备份文件
2.  删除模式
3.  修改导出的 SQL 脚本，添加您需要的“创建表”
4.  创建相同的架构
5.  从备份文件中导入您的架构

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-08-23T14:28:33.973

如果您使用的是 Mac，请转到 Applications->XAMPP->xamppfiles->var-mysql 查找您的数据库名称。您可能必须以特权授予“每个人”的“读写”访问权限。此后，删除相关的 .idb 文件。重新启动 XAMPP，您应该一切顺利。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-03-22T22:59:24.123

如果您在本地主机上遇到此错误，只需转到 xamp 文件夹，移动到 mysql 文件夹，移动到 data 文件夹，在 data 文件夹中您将看到基于数据库名称的数据库列表，选择数据库的文件夹那是给你错误，给你错误的特定表名并重新导入你的数据库。

现在就在我的系统上解决这个问题

# css - 无法弄清楚，网站正在“跳跃”

> ID：16008785
> 
> 赞同：-3
> 
> 时间：2013-04-15T06:20:20.690
> 
> 标签：css, hyperlink

我希望有人可以帮助我，我一直在我的 CSS 中搜索有什么问题，但无法弄清楚。如果您查看此网站：http: [//viversa.nl/v2/index.html](http://viversa.nl/v2/index.html)，然后单击一下页面，您会注意到站点之间的一些跳转。如果您从“Projecten”单击“People”并返回，您会特别注意到它。看来“HOME”和“PROJECTEN”是一样的，布局都不错。在“OVER ONS”、“PEOPLE”、“CONTACT”和“SITEMAP”旁边，它们的布局也很好。但是我不知道出了什么问题以及它是如何跳跃的，因为我只是简单地复制了菜单+徽标页+ css。希望有人可以帮助我解决这个问题！谢谢！

真诚的，斯特凡

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:23:41.647

问题是项目页面比屏幕长，从而导致出现垂直滚动条。由于您将布局居中，并且滚动条占用了您网站所用空间的 20px 左右，因此当滚动条出现时，被视为中心的部分会稍微“移动”。

要摆脱跳跃，您可以强制垂直滚动条始终可见：

```
html {
   overflow-y: scroll;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:25:40.573

似乎您的图像的文字太多，高度仅为 410 像素，可能会删除一些文字或使背景图像更长，并在 CSS 中添加一些最小高度？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:22:32.803

不同之处在于浏览器滚动条。与可以滚动的较长页面相比，不需要滚动的短页面具有稍宽的可用空间。

# apache-flex - 从动作脚本调用 mxml

> ID：16008791
> 
> 赞同：0
> 
> 时间：2013-04-15T06:20:50.830
> 
> 标签：apache-flex, actionscript

我对 Flex & Action 脚本非常陌生，这是我的要求：

动作脚本中有一个布尔标志，如果标志值为 true，则重定向到 success.mxml 页面，如果标志值为 false，则重定向到 error.mxml 页面。

谁能建议我，如何根据某些条件从动作脚本重定向到 mxml 页面/组件网。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T10:34:37.303

MXML 文件是 Actionscript 类文件。它们不是 JSP 中的页面。

尽管您可以将 success.mxml 和 error.mxml 添加为 Application 标记中的子项，并且根据您的标志值，您可以将可见性设置为`true`或`false`。

请先学习一些 Flex 教程或书籍，因为这个问题太基础了，无法回答。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T08:35:26.787

您必须创建两个数据类型均为 mxml 的变量。

因此，当您的标志为真时，只需创建该变量的新实例，您还可以将其所有公共变量/函数作为文件调用。如果您给了他们 id，您也可以调用他们的布局对象。

它不绑定在 Flex 中。如果没有，您可以在任何地方调用任何形式，然后尝试事件。

尝试为此学习 flex 教程。您也可以尝试环法自行车赛。

问候， 马尼什

# oracle - 调用 HTTP 页面时如何提供用户名和密码？

> ID：16008796
> 
> 赞同：2
> 
> 时间：2013-04-15T06:21:15.277
> 
> 标签：oracle, model-view-controller, authentication, plsql, oracle11g

当我运行此代码时，我有此代码，但出现凭据错误。如何提供凭据。身份验证设置为 https 页面中的窗口。意味着弹出将出现以获取凭据

```
declare
      req    UTL_HTTP.REQ;
      resp   UTL_HTTP.RESP;
      value  varchar2(1024);
      p_url  varchar2(4000);
      OPT    varchar2(1000);
    BEGIN
      dbms_output.put_line('');
      p_url:='http://www.xyz.com/';

      dbms_output.put_line(p_url);
      req := UTL_HTTP.begin_REQUEST(p_url);
      utl_http.set_header(req, 'User-Agent', 'Mozilla/4.0');

      resp := utl_http.get_response(req);
      loop
         utl_http.read_line(resp, value, true);
         dbms_output.put_line(value);
      end loop;

    exception
        when utl_http.end_of_body then
           utl_http.end_response(resp);
    END; 
```

当我运行这个我得到

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<title>401 - Unauthorized: Access is denied due to invalid credentials.</title>
<style type="text/css"> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-13T12:29:26.123

您有两个选择（假设远程服务器接受 HTTP 基本身份验证）：

1.  你可以在 url 前面加上 username:password@url(eg
    `p_url:='http://username:password@www.xyz.com/';`)
2.  或者您可以使用 Authorization 标头。（例如
    `utl_http.set_header(req, 'Authorization', 'Basic ' || utl_encode.base64_encode('username:password'));`）

# forms - 使用条码扫描仪读取表格中的条码 10g

> ID：16008799
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:21:30.867
> 
> 标签：forms, oracle, oracle10g, barcode

我想使用条形码读取而不是使用键盘输入。我使用 Key Enter 触发器并将 null 传递给它，但它没有触发。任何解决方案......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:31:32.057

我用谷歌搜索并找到[了这篇文章](http://www.erpgreat.com/oracle-database/how-to-read-bar-codes-in-oracle-forms.htm)。相关线路是

> “为了使 key-next-item 执行，您需要确保条形码阅读器在每次扫描结束时发送一个 TAB 键序列，以便 key-next-item 触发器会触发。”

我不知道这是否会解决您的问题，但解决方案可能会是这样的：阅读器的配置。

# c# - Sharepoint 连接到另一个 SQL 服务器？

> ID：16008802
> 
> 赞同：3
> 
> 时间：2013-04-15T06:21:36.940
> 
> 标签：c#, sharepoint, sharepoint-2010, web-parts

这是我正在检查的任务：1）有一个产品数据库，它由另一个应用程序管理（它与共享点无关）。2) 现在，我的老板想要在 sharepoint 门户内有一个应用程序来搜索这个数据库，另外，审计搜索，即谁在什么时间搜索了什么......

如果这是常规的 asp.net 应用程序，则没有问题。但是，在 sharepoint 中执行此操作的最佳方法是什么？

我的计划是：使用团队网站模板（或空白模板），创建一个 webpart。然后有 UI 和 gridview 来显示结果。

这是这样做的吗？我尝试在 webpart 中找到使用 gridview 的示例，但找不到。在 webpart 中使用 asp.net 控件有什么限制吗？在 webpart 中使用 ajax 工具箱控件怎么样？有什么例子吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:44:55.660

大致有两种方法可以选择：

1.  webpart 方法，正如您所描述的那样。您可以在 Web 部件中毫无问题地使用 ASP.NET gridview。因此，webpart 只不过是（简化的......）一个带有一些修饰的用户控件。
2.  去 BDC/BCS。这将允许您使用外部数据库并将信息显示为“本机”SharePoint 数据。这具有额外的好处，即可以从 SharePoint 中搜索内容。使用这种方法，您也不必创建 UI 来呈现数据，因为 SharePoint 将使用开箱即用的视图页面等来呈现它。

webpart 方法（选项 1）的缺点是，如果您的场中有多个前端服务器，则需要以某种方式处理会话（例如，通过在负载均衡器上设置粘性会话，或通过在某个地方集中共享会话（例如在数据库中）），因为您不希望用户在一个会话中在服务器之间切换，而他们可能正在使用您的 Web 部件。

选项 2 的缺点是，起初它可能看起来很复杂，但不要吓到你 :-)

[http://msdn.microsoft.com/en-us/magazine/ee819133.aspx](http://msdn.microsoft.com/en-us/magazine/ee819133.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:13:47.307

您应该将其编码为一个或多个 Web 部件。您可以在 Web 部件中使用几乎任何 asp.net 控件。如果你想使用任何第三方工具，比如 DevExpress，你必须确保二进制文件是强类型的，这样你就可以在 web.config 中注册它们，注意如果配置正确，注册可以由 wsp 部署完成。

除了我提到的所有引用程序集必须是“安全的”这一事实之外，Web 部件的行为与任何 .net 代码一样。

# javascript - InvalidStateError html5 webrtc 数据通道测试

> ID：16008803
> 
> 赞同：0
> 
> 时间：2013-04-15T06:21:38.900
> 
> 标签：javascript, html, webrtc

我正在研究 webRTC。我收到了视频通话，现在正在测试数据通道，但在创建时出现无效状态错误。

```
var pc_config = {
        "iceServers" : [ {
            "url" : "stun:stun.l.google.com:19302"
        } ]
    };

    this.peerConn = new RTCPeerConnection(pc_config,{optional: [{RtpDataChannels: true}]});
this.channel=this.peerConn.createDataChannel("DataChannel",{reliable: false}); 
```

创建数据通道的最佳状态是什么？流量有多重要？

# android - 如何检查 SOAP Web 服务连接性

> ID：16008815
> 
> 赞同：1
> 
> 时间：2013-04-15T06:22:54.123
> 
> 标签：android, soap

我正在使用 SOAP webservice 开发一个 android 应用程序。在这个应用程序中，我需要检查网络服务的连接性，因为如果连接可用，我必须以在线模式显示数据，如果连接不可用，我必须以离线模式显示数据，即。我正在使用 SQLlite 数据库来存储来自 web 服务的数据

我的应用程序如何测试服务器的可用性，以控制应用程序是在联机模式还是脱机模式下运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:25:42.157

在设计时，您可以将 Web 浏览器指向 Web 服务并检查响应。如果您没有得到响应，或者不是您所期望的，您可以使用[Fiddler获取更多详细信息](http://fiddler2.com/home)

在运行时，您可以简单地尝试在 try/catch 异常处理程序中访问服务器。在适当范围内可见的东西上定义一个公共 bool IsOnline，并在成功执行后将其设置为 true，并在异常处理程序中将其设置为 false。自从我使用 Java 以来已经有几十年了，但这与您在几乎任何 OO 半过程语言中使用的方法相同，例如 C#、C++ 或 Java 或就此而言的 VB。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:20:37.660

为此，我遵循了这种方法

1.  我在我的网络服务（服务器）中创建了一个**Pogo 函数（网络方法）**来检查连接性

2.  在客户端创建一个方法来调用 web-method 。当我第一次进入应用程序时，我使用客户端功能从手机调用此客户端方法。然后等待响应。客户端方法应被**try-catch**块包围

3.  如果发生任何异常或超时，响应将为空并进入异常阶段。所以购买检查响应。我根据响应状态**（空或非空）设置一个****标志（布尔或整数变量）**来决定离线或在线模式

 ****代码示例**

```
 public class CallSOAP {

private String SOAP_ACTION="your action url";
private String OPERATION_NAME="";//The web method OR web service you are going to call
private final String WSDL_TARGET_NAMESPACE=SOAP_ACTION;
private  final String SOAP_ADDRESS=Configuration.WEB_SERVICE_URL;//ip-address of serever where you host your service 
private Exception exception;
private String ErrorMsg="";
private String TERST_URL="" ;
public Object call(String MethodeName,ArrayList<PropertyInfo> Parameters){
  this.OPERATION_NAME=MethodeName;
  SoapObject request = new SoapObject(WSDL_TARGET_NAMESPACE, OPERATION_NAME);
 if(Parameters != null && Parameters.size()>0){
   for(PropertyInfo propertyInfo : Parameters){
      request.addProperty(propertyInfo);
 }
}

SoapSerializationEnvelope  envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
envelope.dotNet= true;
envelope.setOutputSoapObject(request);
HttpTransportSE httpTransport =null;
if(!this.TERST_URL.equals(""))
  httpTransport = new HttpTransportSE(this.TERST_URL);
else
  httpTransport = new HttpTransportSE(SOAP_ADDRESS);
 Object Response =null;
 try{
    httpTransport.call(SOAP_ACTION+OPERATION_NAME, envelope);
    Response=envelope.getResponse();
  }
 catch (SocketTimeoutException ex) {
     this.ErrorMsg="Unable to connect";
      Response=null;
     this.exception=ex;
  }
  catch (IOException ie) {
   this.ErrorMsg="Unable to connect";
  Response=null;
   this.exception=ie;
  }
   catch (Exception e) {
    this.ErrorMsg="Unable to connect";
    Response=null;
    this.exception=e;
 }
      return Response;
   }
} 
```

在代码`ErrorMsg="Unable to connect";`中显示连接现在不可用。所以我将响应设置为 null，您可以将此响应传递给活动并在那里检查

参考[这个](http://javatutorialspoint.blogspot.in/2012/02/android-web-service-access-using-ksoap2.html)**

# backbone.js - 无法访问属性模型主干 js

> ID：16008820
> 
> 赞同：0
> 
> 时间：2013-04-15T06:23:13.317
> 
> 标签：backbone.js

我正在骨干 js 中创建我的“Hello world”应用程序。我被困在非常基本的地方。

var gs = { documentRoot: "" }; // 为我们的应用创建命名空间

```
gs.Test = Backbone.Model.extend({
    url: gs.documentRoot+'/test.php',
    initialize: function(){
        this.fetch();
    }
});

gs.TestView = Backbone.View.extend({
    render: function(){
                    console.log(this.model);
        console.log(this.model.get('testId'));
    }
});

var testM = new gs.Test();

var test = new gs.TestView({model: testM});
test.render(); 
```

在这里，当我在控制台中记录模型时，它显示从服务器获取的属性，但我无法从 test.get('attribute') 访问这些属性。我尝试记录 test.attributes，它给出了空对象，但是当我记录测试时，它在属性对象中显示了这些属性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:44:33.923

`model#fetch`方法有一个`success`和`error`回调选项，可以传递给 fetch。当来自服务器的响应到来时，成功回调被调用。

测试模型获取属性的正确方法是

```
test.fetch({
    success: function(model){
        // model here and test are same
        console.log(model);
        console.log(test.toJSON());
        // access your attribute with name `attributeName`
        console.log(test.get('attributeName'));
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:30:44.477

`fetch`是异步方法，所以你必须等待一段时间。在这种情况下，最好的解决方案是 promise：

```
test.fetch().done(function() {
  console.log(test);
}); 
```

* * *

您更新的模型：

```
initialize: function() {
  // save link to promise
  this.deferred = this.fetch();
} 
```

还有你的渲染功能：

```
render: function() {
  // use promise to render view after model will be fetched
  // use `bind` to save context of this view
  this.model.deferred.done(_.bind(function () {
    // model is fetched
    // all operations goes here
    console.log(this.model.get('testId')); // <- proper value
  }, this));
  console.log(this.model.get('testId')); // <- undefined
} 
```

* * *

更多关于 ajax 你可以在这里阅读[http://api.jquery.com/jQuery.ajax](http://api.jquery.com/jQuery.ajax)

```
var TestModel = Backbone.Model.extend({
  url : '/test.php'
});

var test = new TestModel();

// `context` context to be passed to any callback function
test.fetch({context:test}).done(function () {
  // `this` is equals to `test` (`context` option)

  // In case if you want to get all model data:
  // the best way to get model data for read-only mode.
  // this metod return a copy of the model's attributes
  console.log(this.toJSON());
  // you can also use `this.attributes` but this is not recommended
  console.log(this.attributes());      

  // In case if you want to get some model data:
  console.log(this.get('some_attribute'));   
  // If you want to get `c` from this model ({a:{b:{c:1}}}):
  console.log(this.get('a').b.c);    
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T10:10:43.603

对于那些遇到同样问题的人，这里是图书馆本身的解决方案。

调用后使用模型的内置`'sync'`事件获取模型属性。`fetch()/save()`

```
testM.on('sync',function(){
   test.render();
}); 
```

# c - 将字符串分成不同的部分

> ID：16008823
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:23:29.407
> 
> 标签：c, strtok

```
 //PROBLEM NUMBER 2
    //how to store word from pointer2char into wordList array? 
```

`New_sentence`是一个包含字符串（用户输入的句子）的数组。

`pointers2char`是一个指针数组，应该保存指向 `New_sentence`.

函数输出时，只显示字符串的第一个单词，然后程序结束。

如何获取所有单词`New_sentence`以存储`pointers2char`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:43:41.453

在您的`for`-loop 中，您从`i = 1`. 在循环的第一次迭代之前，`pointers2char[i] != NULL`评估。由于`pointers2char[1]`此时很可能未初始化，它很可能会返回`NULL`. 结果，您永远不会进入循环。

尝试以下操作：

```
pointers2char[0] = strtok(New_sentence, " \t");
for (i = 0; pointers2char[i] != NULL; i++) {
    printf("%s\n", pointers2char[i]);
    pointers2char[i + 1] = strok(NULL, " \t");
}
*nWords = i; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:12:24.943

你的for循环有问题使用这个。我认为它会解决你的问题

```
for(i = 0; pointers2char[i] != NULL;)
{
   printf("%s\n", pointers2char[i]);
   nWords++;
   pointers2char[++i] = strtok(NULL, "\t");
} 
```

# c# - Gridview 文本框中的 TextChange 阻止按钮事件

> ID：16008825
> 
> 赞同：0
> 
> 时间：2013-04-15T06:23:36.057
> 
> 标签：c#, asp.net, silverlight, button, gridview

我在 Gridview 上有一个文本框，我允许编辑一些数据。当按下回车键时，TextChanged 事件就会发生，就像我所期望的那样。但是当我更改数据并单击按钮时，按钮效果不会发生。我必须再次单击按钮才能触发按钮事件。我认为这是因为网格没有失去焦点。

如何使一键触发按钮事件成为可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:31:54.777

您可以将 gridview 元素的`IsTabStop`属性更改为 false 以获得该效果。

此外，如果您想使用 Tab 循环，您可以`TabNavigation="Cycle"`.

这两项更改都在 xaml 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T09:09:14.020

如果没有代码本身，我们无法为您提供太多帮助，但您可以尝试以下几件事来调试它：

*   尝试不同的浏览器——这可能是浏览器的问题
*   尝试一些客户端调试 - 只需打开控制台并查看第一次单击按钮时是否发生任何事情

# asp.net - asp.net mvc3中的页面加载问题

> ID：16008826
> 
> 赞同：0
> 
> 时间：2013-04-15T06:23:38.197
> 
> 标签：asp.net, sql-server, asp.net-mvc-3

我的网站在其索引页面中有很多菜单和子菜单，这些子菜单是从 db 加载的。Ajax 用于加载子菜单。因此，加载整个页面需要花费大量时间。我将如何减少加载时间。我正在使用 asp.net mvc3 和 sql server 2008 数据库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:37:15.107

在没有实际看到的情况下很难说出解决方案中的瓶颈是什么，但听起来你可以通过[缓存](http://www.asp.net/mvc/tutorials/older-versions/controllers-and-routing/improving-performance-with-output-caching-cs)受益匪浅，在 ASP.NET MVC 中这很容易做到，这里是关于这个主题的另一个很棒的[教程](http://stevescodingblog.co.uk/net4-caching-with-mvc/)。哦，记住 -> “计算机科学中有 2 个难题：缓存、命名和非 1 错误”；）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T09:00:24.710

There are many things that could be going wrong and causing your application to run slowly.

I’d recommend you turn the [trace](http://msdn.microsoft.com/en-us/library/0x5wc973%28v=vs.100%29.aspx) feature on because that will tell you what may be wrong. As Dimitar Dimitrov already mentioned you can try to cache the query in some way so you don’t have to retrieve it every time.

Another option would be to optimize the query so that it fetches all menus and submenus in one query.

But again, don’t do anything specifically until you’ve profiled your application to see where specifically is the issue.

# php - 选择在索引上显示的内容，Php

> ID：16008829
> 
> 赞同：-5
> 
> 时间：2013-04-15T06:23:41.040
> 
> 标签：php, html, option

我将如何制作一种选择选项，我可以看到索引上显示的内容，我猜这是一个选择正在使用的文件的选项。

有人有什么建议吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:32:31.543

```
$mypages = array("page1" => "page_1.php", "page2" => "pages_2.php", "yummy" => "food.php");
$page = reset ($mypages);
if (@isset ($_GET['page']) {
    if (array_key_exists ($_GET['page'], $mypages)) {
        $page = $mypages[$_GET['page']];
    }
}
require_once $page; 
```

我猜这就是你正在寻找的东西。只需提供 $_GET['page']

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:39:43.813

我会努力让你走上正确的道路。但是您必须尝试自己更新它以满足您的需求。

下面的代码可能是您的索引页。

```
<?php
if(isset($_POST['submit']))
{
    $page = $_POST['page'];
}
else {
    $page = 'home';
}
?>
<form method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
   <select name="page">
        <option value="home">Home</option>
        <option value="something">Some other page</option>
    </select>
   <br><input type="submit" name="submit" value="Submit Form"><br>
</form>

<div id="content">
    <?php include($page.'.php'); ?>
</div> 
```

所以现在您可以`content div`在 index.php 页面中包含 'what-ever-value-of-select'.php。

注意：您确实应该检查帖子数据是否具有保存价值等。我建议使用谷歌搜索操作方法。

# java - Apache Maven：本地安装的依赖项和库在哪里？

> ID：16008831
> 
> 赞同：3
> 
> 时间：2013-04-15T06:23:52.690
> 
> 标签：java, maven

我正在构建一个依赖于库的 Java 项目。`mvn.bat clean install`按预期生成`target`子目录，并且项目也可以正常构建`mvn.bat clean install`。

没想到的是，当我删除了库的整个目录时，外部项目仍然可以正常构建，尽管它所依赖的库已经消失了。

这是如何运作的？

**更新**：原来 Maven 在`%USERPROFILE\.m2`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T06:33:57.447

您很可能会想到您的本地存储库，您在本地安装的所有内容（以及从中央存储库为您下载的 Maven）都被放置以供以后使用。

您描述的行为是有意的，并且允许构建 A 一次，然后让 B 在需要时引用它，而不必每次都重新编译 A。这通常是非常可取的，尤其是在团队或具有大型代码库的情况下。

请注意，要更改代码，您应该使用 -SNAPSHOT 工件。它们的处理方式略有不同。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T06:39:54.733

您的依赖项*总是*下载到 .m2/repository 中。

如果您想对团队中下载的库有一些可预测性，您可以安装像 Nexus 这样的存储库管理器：[https ://repository.apache.org/index.html#welcome](https://repository.apache.org/index.html#welcome)

您的开发人员将从这个存储库管理器下载他们的依赖项，而不是从 Maven 中心下载依赖项。

# php - 在 .htaccess 中应用超过 1 301 个重定向

> ID：16008841
> 
> 赞同：0
> 
> 时间：2013-04-15T06:24:25.060
> 
> 标签：php, .htaccess, redirect

在根级别的 .htaccess 文件中，我尝试了这个 301 重定向代码，它可以工作：-

```
redirect 301  /en/about/product.html  http://mydomain.com/shop? 
```

但是，当我尝试复制句子时，对于其他页面，它总是以服务器错误 500 告终。

实际上我应该如何在 .htaccess 中包含 10 条重定向规则？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:26:27.860

尝试这个

```
RewriteEngine On
RewriteRule ^/en/about/product\.html?(.*)$ http://mydomain.com/shop/?$1 [R=301,L,S=1]

#other page

RewriteRule ^/en/about/product1\.html?(.*)$ http://mydomain.com/shop1/?$1 [R=301,L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:28:57.433

好吧，为了获得最佳可移植性，我建议您完全按照 Apache`mod_alias`文档中显示的方式键入指令，否则它们是正确的。

```
Redirect 301 /the_old_page.htm http://example.com/the-new-page.htm
Redirect 301 /the_old_page2.htm http://example.com/the-new-page2.htm
Redirect 301 /the_old_page3.htm http://example.com/the-new-page3.htm 
```

现在，您可能不需要 50 条规则。这是一个示例，将您的示例 URL 视为真正的 URL：

```
RedirectMatch 301 ^/the_old_([^.]+)\.htm$ http://example.com/the-new-$1.htm 
```

这会将表单的*所有*URL重定向`"/the_old_<something>.htm"`到`"/the-new-<something>.htm"`仅使用一个指令而不是 50 个指令。

如果您的旧 URL 具有这种共性，您可以利用它来减少您需要编写、测试和维护的重定向指令的数量。

希望能帮助到你..

# javascript - 不使用 settimeout 延迟 JavaScript

> ID：16008842
> 
> 赞同：0
> 
> 时间：2013-04-15T06:24:34.373
> 
> 标签：javascript

如果我使用 setTimeout 如下

```
setTimeout(function (){
   console.log("Delay");
}, 100); 
```

但是我们怎么知道 100 毫秒对于所有条件下的所有计算机来说都是正确的时间量呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:30:01.137

如果您想构建一个依赖时间的系统 - 在页面上应用“基准”并测量时间。例如，以毫秒为单位获取 time()，运行一个半重循环，然后获取另一个 time() 并计算两次之间的差异。然后，您可以使用一系列兼容的延迟时间来获得大量结果。

# javascript - 当页面 A 在 iframe 之外加载时，重定向到页面 B 并在 iframe 中加载页面 A

> ID：16008843
> 
> 赞同：1
> 
> 时间：2013-04-15T06:24:34.760
> 
> 标签：javascript, redirect, iframe

抱歉，标题太长，不太清楚如何简单地说。

无论如何，我正在为博客制作主题，在这个主题中，我正在 iframe 中加载一些页面。但是，其中一些页面是从其他地方链接到的。

所以我需要检测页面 A 何时加载而不是 iframe，并重定向到我博客的主页。但随后我需要在主页的 iframe 中打开页面 A。

老实说，我不知道该怎么做，或者是否有可能……有可能吗？

（一个简单的“不，那是不可能的”很好。我认为我无法访问任何 JS 库或 php，并且通过搜索这些是人们使用过的。我刚刚得到了 html、css、javascript。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:27:45.290

1/ 检测它是否在没有 iframe 的情况下打开：

```
 if ( window.self === window.top ) { 
      redirectAsRequired(window.location);
} 
```

2 /根据您的要求重定向：

```
 function redirectAsRequired(currentUrl)
    {
      var newUrl = page_B_url + ...( ?prev=encodeUriComponent(currentUrl) ; // GET OR POST to the new URL
      window.location = newUrl;
      return;
    } 
```

3/ 在页面B中，获取“prev”请求变量的值，并将其设置为其中包含的iframe的url。

step#2 的 POST 可以如下所示完成：[JavaScript post request like a form submit](https://stackoverflow.com/questions/133925/javascript-post-request-like-a-form-submit)

# javascript - 如何使用 javascript/jquery 在较少的 css 中更改主题颜色

> ID：16008847
> 
> 赞同：7
> 
> 时间：2013-04-15T06:24:45.990
> 
> 标签：javascript, jquery, html, css, less

我正在使用以下较少的 css 来更改不同的主题颜色

```
@lightRed:   #fdd;
@lightGreen: #dfd;
@lightBlue:  #ddf;

@defaultThemeColor:@lightBlue;

#header{
.wrapper();
width:@defaultWidth;
height:80px;
margin-bottom:20px;
background:@defaultThemeColor;
}

#menu{
background:@defaultThemeColor;
} 
```

而html如下：

```
<div id="swatch">
<ul>
<li><a href="">theme1</a></li>
<li><a href="">theme2</a></li>
<li><a href="">theme3</a></li>
</ul>
</div> 
```

当 theme1 被点击时，@lightRed 主题应该被加载，对于 theme2 @lightBlue 和对于 theme3 @lightGreen

请让我知道我的 javascript/jquery 应该如何在点击时更改主题颜色

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T18:08:03.863

您可以尝试使用 less.js 函数，例如：

```
less.refreshStyles() 
```

或者

```
less.modifyVars() 
```

你可以在这里阅读更多内容：[Dynamicly changed less variables](https://stackoverflow.com/questions/7823204/dynamically-changing-less-variables)

在事件上使用**jQuery**和**modifyVars**`.click`可能会起作用：

```
$('.theme_option').click(function(event){
    event.preventDefault();
    less.modifyVars({
        '@defaultThemeColor': $(this).attr('data-theme')
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:31:35.670

正如 prem 建议的那样，最好为每个主题应用一个类

**CSS：**

```
/* -- [ light blue theme (default) ] ---------- */

#header, #header.lightblue {
    background: #ddf;
    height: 80px;
    margin-bottom: 20px;
    width: 300px;
}
#menu, #menu.lightblue {
    background: #ddf;
}

/* -- [ light red theme ] ---------- */

#header.lightred {
    background: #fdd;
    height: 95px;
    margin-bottom: 10px;
    width: 400px;
}
#menu.lightred {
    background: #fdd;
}

/* -- [ light green theme ] ---------- */

#header.lightgreen {
    background: #dfd;
    height: 72px;
    margin-bottom: 15px;
    width: 290px;
}
#menu.lightgreen {
    background: #dfd;
} 
```

这样，要更改每个主题，您只需更改容器对象的类。假设容器对象是文档正文，然后将正文的类更改为所需的主题。

**HTML：**

```
<div id="swatch">
    <ul>
        <li><a class="theme_option" data-theme="red" href="#">theme1</a></li>
        <li><a class="theme_option" data-theme="green" href="#">theme2</a></li>
        <li><a class="theme_option" data-theme="blue" href="#">theme3</a></li>
    </ul>
</div> 
```

**JavaScript (jQuery):**

```
jQuery('a.theme_option').click(function(e){
    e.preventDefault();
    var theme_class = jQuery(this).attr('data-theme');
    jQuery(body).attr('class', theme_class);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T06:59:45.243

使用点击事件改变背景颜色

这是使用 on change 更改背景颜色的示例。请检查一下 [示例][http://jsfiddle.net/6YVes/]

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T07:05:27.170

如果您只想更改 onclick li 的背景颜色，请为每个 li 分配一个类并在每个类上触发一个 jQuery click 事件，如下所示：

HTML：

```
<div id="swatch">
    <ul>
        <li><a class="red" href="">theme1</a></li>
        <li><a class="green" href="">theme2</a></li>
        <li><a class="blue" href="">theme3</a></li>
    </ul>
</div> 
```

JS：

```
$('.red').click(function(){
   $(this).css('background-color',"red")
 });
$('.green').click(function(){
   $(this).css('background-color',"red")
 });
$('.blue').click(function(){
   $(this).css('background-color',"blue")
 }); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-15T07:28:10.013

请注意，lesscss 是必须编译的 Css。这意味着您不能直接修改 lesscss 的行为，但可以使用 css 编译。浏览器不了解lesscss，您必须牢记这一点。

所以，我认为最好的方法是在要修改的对象上使用两个类，一个带有形状，另一个带有主题。通过这种方式，您可以通过使用 jQuery 修改主题类来从一个切换到另一个。想象一下：

少CSS：

```
.theme-1 {
    //Here goes your theme colors
}
.theme-2 {
    //Here goes more theme colors and rules
}
#header {
    .wrapper();
    width:@defaultWidth;
    height:80px;
    margin-bottom:20px;
    background:@defaultThemeColor;
} 
```

还有你的html：

```
<div id="header" class="theme-1"/>
<button onclick="$('.theme-1').removeClass('theme-1').addClass('theme-2');" name="Change to theme 2"/>
<button onclick="$('.theme-2').removeClass('theme-2').addClass('theme-1');" name="Change to theme 1"/> 
```

希望能帮助到你。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-15T07:34:57.383

css 中的变量现在是草稿！

[http://www.w3.org/TR/css-variables/](http://www.w3.org/TR/css-variables/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-10-06T05:55:58.817

通过每种颜色创建类 将类存储到本地存储中 使用 javascript 函数对其进行更改

```
 <!DOCTYPE html>
 <html lang="en" class="theme_name_1">
 <head>
 <style>
.theme_name_1{
   color: #FFFF;
 }
.theme_name_2{
 color: #000;
}
</style>
 </head>
 <body>
 <button id="switch" onclick="changeTheme()">Switch</button>
 <script>
/* Script Save theme local storage to first load */
    if (localStorage.getItem('theme') === 'theme_name_2') {
       setTheme('theme_name_1');
    } else {
      setTheme('theme_name_2');
    }

    function setTheme(theme_name) {
        localStorage.setItem('theme', theme_name);
        document.documentElement.className = theme_name;
    }

/*Change theme button click */
    function changeTheme() {
        if (localStorage.getItem('theme') === 'theme_name_2') {
            setTheme('theme_name_1');
        } else {
            setTheme('theme_name_2');
        }
    }
 </script>
 </body>
 </html> 
```

# performance - PDF文档数据表示很慢...如何显示进度？

> ID：16008851
> 
> 赞同：1
> 
> 时间：2013-04-15T06:24:58.747
> 
> 标签：performance, macos, cocoa, pdf, pdfkit

我目前正在开发一个适用于 PDF 的 Cocoa 应用程序，并且正在使用 Apple 的 PDFKit 来完成这项工作。保存 PDF 被证明是一个问题，因为我想在发生这种情况时显示一个进度条，这似乎使用标准`writeToURL:`方法是不可能的。所以，我去使用了 Grand Central Dispatch。

这样做的问题是，`dataRepresentation`用于写入 NSData 的方法在将任何大于 ~3MB 的 PDF 转换为 NSData 时非常慢，因此当我的程序等待数据时，进度条会停顿几秒钟，这似乎使用户认为程序已完全停止。我真的不希望他们这么想。

我的问题是，我能做些什么来加快该`dataRepresentation`方法的速度，或向用户报告其进度吗？

这是我最终编写的 Grand Central Dispatch 代码：

```
NSData *pdf = [doc dataRepresentation]; // R-e-a-l-l-y S-l-o-w

dispatch_queue_t queue = dispatch_get_current_queue();
dispatch_data_t dat = dispatch_data_create([pdf bytes], [pdf length], queue, DISPATCH_DATA_DESTRUCTOR_DEFAULT);

__block dispatch_io_t channel =
dispatch_io_create_with_path(DISPATCH_IO_STREAM,
                             [path UTF8String],     // Convert to C-string
                             O_WRONLY,              // Open for writing
                             0,                     // No extra flags
                             queue,
                             ^(int error){
                                 // Cleanup code for normal channel operation.
                                 // Assumes that dispatch_io_close was called elsewhere.
                                 if (error == 0) {
                                     dispatch_release(channel);
                                     channel = NULL;
                                 }
                             });
// The next two lines make sure that the block in dispatch_io_write
// gets called about 60 times, so that it can update the progress bar.
dispatch_io_set_low_water(channel,[pdf length]/60);
dispatch_io_set_high_water(channel,[pdf length]/60);

dispatch_io_write(channel,
                  0,
                  dat,
                  queue,
                  ^(bool done, dispatch_data_t data, int error) {
                      if (data) {
                          // Increment progress bar
                      }
                      if (error) {
                          // Handle errors
                      }
                      if (done) {
                          dispatch_io_close(channel, NULL);
                      }
                  });
dispatch_release(dat);
dispatch_release(queue); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T13:44:56.480

使用[`PDFDocumentDidBeginPageWriteNotification`和`PDFDocumentDidEndPageWriteNotification`](https://developer.apple.com/library/mac/#documentation/GraphicsImaging/Reference/QuartzFramework/Classes/PDFDocument_Class/Reference/Reference.html)期间发送的通知`-writeToURL:`。通知会告诉您正在处理哪个页面，您可以将其与文档中的总页数进行比较以显示进度。

# javascript - window.print 在 IE 和 Chrome 中打印不同的 URL？

> ID：16008856
> 
> 赞同：2
> 
> 时间：2013-04-15T06:25:34.687
> 
> 标签：javascript, asp.net, html

我有一个网页，其中有一个 iframe。此 iframe 作为单击打印时的打印图标，仅打印 iframe 的内容。这可以。

现在，在打印页面底部的 URL 时，是 IE 中 iframe 的 URL。

在 Chrome 中，打印的 URL 是父页面 URL。我需要在页面上打印父页面的 URL，就像在 Chrome 中一样。

关于如何控制在 IE 中打印 URL 的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:42:01.350

根据[MDN](https://developer.mozilla.org/en-US/docs/DOM/window.print)，`window.print()`实际上不是任何标准的一部分。因此，浏览器可以选择打印他们想要的任何内容，或者将内容放置在他们想要的任何地方。

# shell - shell 脚本不明确的重定向

> ID：16008862
> 
> 赞同：1
> 
> 时间：2013-04-15T06:25:58.073
> 
> 标签：shell, redirect, ambiguous

我正在尝试创建简单的 shell 脚本，它将识别两个文本文件的输出之间的差异。当我重定向到文件（即> a 和> b）时，我能够成功运行脚本。

我在下面尝试的是将输出重定向到变量而不是文件以避免不必要的文件创建，但我收到错误`ambiguous redirect`。

有人可以教我如何解决这个错误吗？

```
 sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/msmscgateway |grep "CIMD2:" | awk '{print $1, $2}' > $a
    sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/last/msmscgatewaylast |grep "CIMD2:" |awk '{print $1, $2}'  > $b
    echo="diff $a $b"

#echo "$DIFF" 
```

`test2.sh: line 2: $b: ambiguous redirect`

我也尝试过其他方式但得到不同的错误

```
$a=`sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/msmscgateway |grep "CIMD2:" |awk '{print $1, $2}'`
$b=`sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/last/msmscgatewaylast |grep "CIMD2:"|awk '{print $1, $2}'`
echo="diff <$a <$b" 
```

`test1.sh: line 1: =CSMSH3: command not found` `test1.sh: line 2: =CSMSH3: command not found`

但是从 shell 提示符执行时，个别命令工作正常

`"sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/msmscgateway |grep "CIMD2:" |awk '{print $1, $2}'"`

也从命令提示符下尝试但在脚本中失败

diff <(sed -n '/eTopUp MU(55) 网关状态1:/,/eTopUp MU(60) 网关状态:/p' /root/scripts/msmscgateway |grep "CIMD2:" |awk '{print $1, $2 }') <(sed -n '/eTopUp MU(55) 网关状态1:/,/eTopUp MU(60) 网关状态:/p' /root/scripts/last/mscgatewaylast |grep "CIMD2:" |awk '{ print $1, $2}') 得到下面的错误 test4.sh: line 1: syntax error near unexpected token `('

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:40:04.433

您的：

```
sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/msmscgateway |grep "CIMD2:" | awk {print $1, $2}' > $a
sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/last/msmscgatewaylast |grep "CIMD2:" |awk '{print $1, $2}'  > $b 
```

真的应该是：

```
a=$(sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/msmscgateway |grep "CIMD2:" | awk '{print $1, $2}')
b=$(sed -n '/eTopUp MU(55) Gateway Status1:/,/eTopUp MU(60) Gateway Status:/p' /root/scripts/last/msmscgatewaylast |grep "CIMD2:" |awk '{print $1, $2}') 
```

将输出放入变量中。现在它可能会抱怨，因为`$a`在`$b`你的情况下，它在扩展时不会转化为任何东西。

但是，正如有人提到的，这可能不适用于`diff $a $b`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T11:07:40.387

如果您不想（至少在 Bash 中），则根本不需要变量：

```
diff <(echo -e "a\nb\nc") <(echo -e "a\nc\nc") 
```

基本语法是

```
diff <(CMD1) <(CMD2) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:28:36.857

您可以使用 [命令替换来做到这一点](http://mywiki.wooledge.org/CommandSubstitution)

```
foo=$(sed 'bar' baz.txt) 
```

或 [过程替换](http://mywiki.wooledge.org/ProcessSubstitution)

```
read foo < <(sed 'bar' baz.txt) 
```

或使用 Bash 4.2，您可以使用 [`lastpipe`](http://mywiki.wooledge.org/BashFAQ/024)

```
shopt -s lastpipe
sed 'bar' baz.txt | read foo 
```

# android - 飞溅和主要活动错误

> ID：16008863
> 
> 赞同：0
> 
> 时间：2013-04-15T06:26:16.420
> 
> 标签：android

有人可以帮忙吗。在启动活动之后，主要活动没有打开。但是，如果我输入任何其他意图过滤器名称，它就可以工作，但不是主要活动。提前致谢！

飞溅活动：

```
package com.hellhog.tfreqpro;

import android.app.Activity;
import android.content.Intent;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.view.Window;
import android.view.WindowManager;

public class Splash extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.splash);

    MediaPlayer mp = MediaPlayer.create(Splash.this, R.raw.smusic);
    mp.start();

    Thread pro = new Thread(){
        public void run(){
            try{
                sleep(6000);
            }catch (InterruptedException e){
                e.printStackTrace();
            }finally{
                Intent yo = new Intent ("android.intent.action2.MAINACTIVITY");
                startActivity(yo);
            }
        }
    };

    pro.start();
}

@Override
protected void onPause() {
    // TODO Auto-generated method stub
    super.onPause();
    finish();
}

} 
```

主要活动：

```
package com.hellhog.tfreqpro;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.Menu;
import android.view.View;
import android.view.Window;
import android.view.WindowManager;
import android.widget.Button;

public class MainActivity extends Activity{

Button a, c;
Intent b, d;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.activity_main);

    a= (Button) findViewById(R.id.tacan);
    c= (Button) findViewById(R.id.flp);

    a.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            // TODO Auto-generated method stub
            b = new Intent ("android.intent.action.CONVERTER");
            startActivity(b);
        }
    });

    c.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            d = new Intent ("android.intent.action.NEWFLP");
            startActivity(d);
        }
    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
}
} 
```

显现：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.hellhog.tfreqpro"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="10" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.hellhog.tfreqpro.Splash"
        android:label="@string/app_name"
        android:screenOrientation="landscape" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.hellhog.tfreqpro.MainActivity"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action2.MAINACTIVITY" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.hellhog.tfreqpro.Converter"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.CONVERTER" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.hellhog.tfreqpro.Flightplan"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.FLIGHTPLAN" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.hellhog.tfreqpro.NewFLP"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.NEWFLP" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>        
</application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:30:06.050

在你的 Splash Activity 中试试这个。

```
 Intent yo = new Intent (Splash.this, MainActivity.class);
        startActivity(yo); 
```

在您的清单文件中

```
<activity
    android:name="com.hellhog.tfreqpro.MainActivity"
    android:label="@string/app_name"
    android:screenOrientation="portrait" >
    <intent-filter>
        <action android:name="android.intent.action2.MAINACTIVITY" />
        <category android:name="android.intent.category.DEFAULT" />
    </intent-filter>
</activity> 
```

删除以下意图过滤器行

```
 <intent-filter>
        <action android:name="android.intent.action2.MAINACTIVITY" />
        <category android:name="android.intent.category.DEFAULT" />
    </intent-filter> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:30:49.320

这对我来说是完美的！

```
 protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    this.requestWindowFeature(Window.FEATURE_NO_TITLE); // Removes title bar
    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);  // Removes notification bar

    setContentView(R.layout.splashscreen);

    // Start timer and launch main activity
    IntentLauncher launcher = new IntentLauncher();
    launcher.start();
}

private class IntentLauncher extends Thread {

    @Override
    /**
     * Sleep for some time and than start new activity.
     */
    public void run() {
        try {
            // Sleeping
            Thread.sleep(SLEEP_TIME*1000);
        } catch (Exception e) {
            Log.e(TAG, e.getMessage());
        }

        // Start main activity
        Intent intent = new Intent(SplashActivity.this,FullscreenActivity.class);
        SplashActivity.this.startActivity(intent);
        SplashActivity.this.finish();
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T06:34:55.653

尝试使用下面的代码..

```
 public class SplashScreenextends Activity {
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.splashscreen);
    Handler handler = new Handler();
    handler.postDelayed(new Runnable() {

        public void run() {
            // TODO Auto-generated method stub
            finish();
            Intent menu = new Intent(getBaseContext(), MainActivity.class);
            startActivity(menu);
        }
    }, 3000);
} 
```

}

它会将您的 SplashScreen 设置为 3 秒，然后启动您的 mainactivity 或您想要启动的任何活动。它可以帮助您..

# android - 显示超过 3 个 PagerTitleStrip

> ID：16008864
> 
> 赞同：3
> 
> 时间：2013-04-15T06:26:16.457
> 
> 标签：android, android-viewpager

我正在使用 a`ViewPager`我可以拥有 3 `PagerTabStrip`。但我想要超过 3 个，可能是 4 个或 5 个。我尝试使用`setTextSpacing()`但没有用。也没有直接的选择来拥有一些`PaperTitleStrip`.

任何建议我们如何实施。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:29:43.457

这就是 javadoc 所说的：

> PagerTabStrip 是 ViewPager 的当前、下一页和上一页的交互式指示器。

但是，如果您仍然有疑问，请参阅 sources:`PagerTabStrip.java`及其基类`PagerTitleStrip.java`，并会看到：

```
public class PagerTitleStrip extends ViewGroup implements iewPager.Decor {
    private static final String TAG = "PagerTitleStrip";

    ViewPager mPager;
    TextView mPrevText;
    TextView mCurrText;
    TextView mNextText; 
```

这意味着：只有三个条带：上一个、当前和下一个。

# c++ - 检查点是否在向量内

> ID：16008865
> 
> 赞同：1
> 
> 时间：2013-04-15T06:26:17.517
> 
> 标签：c++, opencv

我想检查一个给定的点`x`和`y`值是否在点向量内：

```
bool inside_vector(int x, int y, vector<Point2i>& points)
{
  for(vector<Point2i>::const_iterator it = points.begin();
    it != points.end();
    ++it)
  {
    if(it->x == y && it->y == y)
    {
      return true;
    }
  }
  return false;
} 
```

还有其他没有`for`循环的方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T06:29:15.110

您可以将[std::find 或 std::find_if](http://en.cppreference.com/w/cpp/algorithm/find)与合适的仿函数一起使用，以避免编写自己的循环。但是你并没有获得复杂性：它仍然是 O(n)。例如，

```
bool operator==(const Point2i& lhs, const Point2i& rhs)
{
  return lhs.x == rhs.x && lhs.y == rhs.y;
}

Point2Di somePoint = Point2Di(x,y); // point to find
auto it = std::find(points.begin(), points.end(), somePoint); 
```

或者，没有相等运算符，

```
auto it = std::find_if(points.begin(), 
                       points.end(), [&somePoint](const Point2Di& p)
                                     {return somePoint.x == p.x && somePoint.y == p.y;}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T06:33:31.970

假设您已`operator==`为您的`Point2i`结构定义，您可以使用[std::find()](http://www.cplusplus.com/reference/algorithm/find/)，如下所示：

```
std::vector<Point2i>::const_iterator findIt = std::find(
    points.begin(),
    points.end(),
    Point2i(x, y)); 
```

我还假设您有一个`Point2i`采用两个坐标的构造函数。

# php - 上传图片到服务器

> ID：16008867
> 
> 赞同：0
> 
> 时间：2013-04-15T06:26:29.173
> 
> 标签：php, html, mysql

我想知道如何将图像上传到服务器目录？有人可以教我吗，因为我也想了解更多关于这件事的信息。这是因为我对这种编码不太熟悉。我试图将图像上传到数据库，它可以工作，但图像没有进入服务器。只有插入数据库的文件名。请帮帮我 ！谢谢

```
<?php
include("db.php");
 $id = $_POST['id'];
 $bg = trim($_POST['com_bg']);
 $ben = trim($_POST['com_benefit']);
 $rem = trim($_POST['com_remark']);
//print_r($_FILES);
//echo "<br><br>";
$name = $_FILES['file']['name'];
$format = substr($name, strpos($name, '.'), strlen($name) - 1);

//if they DID upload a file...
if($_FILES['file']['name'])
{
//Check if the file is JPEG,PNG or GIF image
if(($_FILES["file"]["type"] == "image/jpeg")||($_FILES["file"]["type"] == "image/png")||($_FILES["file"]["type"] == "image/gif"))
{
    $newname = dirname(__FILE__).'/upload/'.$name;
    //Check if the file with the same name is already exists on the server
    if (!file_exists($newname)) 
    {   
        //move it to where we want it to be
        move_uploaded_file($_FILES["file"]["tmp_name"],"upload/" .        $_FILES["file"]["name"]);
        $sql= "UPDATE company SET com_logo='$name' WHERE com_idx = '$id'";
        $result = mysql_query($sql);
    }
    else 
    {
        header("Location: profile_2.php?note=1");
        //echo "Error: File ".$_FILES["file"]["name"]." already exists";
    }
}
else
{
    header("Location: profile_2.php?note=2");
    //echo 'wrong extension ';
}

}

$sql= "UPDATE company SET com_intro='$bg',com_description='',com_benefit='$ben',com_remark='$rem' WHERE com_idx = '$id'";
$result = mysql_query($sql);
header("Location: profile_2.php");

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T15:01:20.843

试试这个例子

```
 <header>
    <?php
    function UploadOne($fname)
    {
    $uploaddir = 'uploadedfiles/';
    if (is_uploaded_file($fname['tmp_name']))
    {
    $filname = basename($fname['name']);
    $uploadfile = $uploaddir . basename($fname['name']);
    if (move_uploaded_file ($fname['tmp_name'], $uploadfile))
    $res = "File " . $filname . " was successfully uploaded and stored.<br>";
    else
    $res = "Could not move ".$fname['tmp_name']." to ".$uploadfile."<br>";
    }
    else
    $res = "File ".$fname['name']." failed to upload.";
    return ($res);
    }
    ?>
    </header>
    <body>
    <?php
    if ($_FILES['picture']['name'] != "")   
    {
    $res = UploadOne($_FILES['picture']);
    $filname = $_FILES['picture']['name'];
    echo ($res);
    }
    ?>
    <h1>UPLOADING FILES</h1>
    <form name="fupload" enctype="multipart/form-data" action="upfiles.php" method="post">
    <input type="file" name="picture" />
    <input type="submit" value="Submit" />
    </form>
    </body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:29:21.153

首先，您应该在 php.ini 文件中检查这些配置

```
file_uploads
upload_max_filesize
max_input_time
memory_limit
max_execution_time
post_max_size 
```

其次确保yopu要上传文件的文件夹必须存在并且应该具有适当的权限

**建议** 避免使用mysql_*函数学习PDO或mysqli

# android - PhoneGap App 内的搜索功能

> ID：16008869
> 
> 赞同：0
> 
> 时间：2013-04-15T06:26:43.360
> 
> 标签：android, cordova

我正在使用 PhoneGap 开发一个相对简单的应用程序，该应用程序旨在作为现场指南。基本上会有用于现场指南不同部分的按钮。点击其中一个按钮会将用户转换到包含内容的另一个页面。

但是，如果可能的话，我想实现搜索功能。例如，用户可以输入一个查询，应用程序将返回该查询出现在哪些“页面”上。我不太确定实现这一点的最佳方法是什么，所以任何建议都将不胜感激。

到目前为止，我在 PhoneGap 中使用的唯一类型的搜索功能是使用过滤器搜索来搜索一组列表元素。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:07:58.970

如果您的内容中有很多 .html 文件，一个不错的选择是使用[Zoom 搜索引擎](http://www.wrensoft.com/zoom/index.html)。您必须执行一个程序，它会扫描您的 .html 文件和索引关键字。您必须自己设置“搜索结果”页面的样式，因为默认设置不适合移动设备

# java - 打开 Java 套接字与 Telnet？

> ID：16008870
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:26:45.153
> 
> 标签：java, sockets, telnet

如果我执行以下代码（注意：不是正在使用的真实 IP 地址）

```
Socket s = new Socket("120.200.100.111", 80);
s.setSoTimeout(10 * 1000);
BufferedReader in = new BufferedReader(new InputStreamReader(s.getInputStream()));
in.readLine(); 
```

10 秒后，我得到“SocketTimeoutException：读取超时”

但如果我远程登录，我会得到：

```
telnet> open 120.200.100.111 80
Trying 120.200.100.111...
Connected to foo.bar.org.
Escape character is '^]'. 
```

请注意，我知道对于一个完整的应用程序，我应该使用某种现有的 API 进行套接字通信，但上述测试不应该从服务器获得某种及时的响应吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:34:49.710

> 上述测试不应该从服务器获得某种及时的响应吗？

不，Telnet 交换不会从服务器向您发送任何内容开始。*你*必须发送一些东西。服务器在等你；你在等它；您是读取超时的人，因此您会收到读取超时。

Telnet 客户端默认不使用读取超时。

# ios - 如何在没有徽章编号的情况下推送通知？

> ID：16008873
> 
> 赞同：1
> 
> 时间：2013-04-15T06:26:55.550
> 
> 标签：ios, apple-push-notifications, badge

我不想在应用程序图标上看到徽章编号。但我想将通知保留在通知中心。

如何做到这一点？

以下内容不起作用，因为它会清除通知中心中的所有通知。

```
[UIApplication sharedApplication].applicationIconBadgeNumber = 0; 
```

以下内容也不起作用，因为它仅在打开应用程序后删除徽章计数器。

```
[UIApplication sharedApplication].applicationIconBadgeNumber = -1; 
```

我在想是否可以推送一个值为 -1 的负徽章编号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:42:19.573

您应该能够在发送推送通知时指定所需的徽章编号。从[Apple 的本地和推送通知编程指南](https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/PayloadKeyReference.html#//apple_ref/doc/uid/TP40008194-CH17-SW1)中，如果您发送带有“徽章”作为密钥的号码。

> 显示为应用程序图标标记的数字。如果此属性不存在，则徽章不会更改。要移除徽章，请将此属性的值设置为 0。

# c++ - 你如何编写（可移植的）反向网络字节顺序？

> ID：16008879
> 
> 赞同：11
> 
> 时间：2013-04-15T06:27:04.473
> 
> 标签：c++, c, portability, endianness

*背景*

在设计二进制文件格式时，一般建议按网络字节顺序写入整数。为此，有像`htonhl()`. 但是对于像 WAV 这样的格式，实际上使用的是小端格式。

*问题*

**无论您的代码运行的 CPU 是大端还是小端架构，您如何可移植地编写小端值？**（想法：标准宏可以以某种方式“反向”使用吗？或者如果代码在小端或大端 CPU 上运行并选择适当的代码路径，是否应该只测试运行时？`ntohl()`）`htonl()`

[所以问题不在于文件格式，文件格式只是一个例子。它可以是任何需要小端“在线”的序列化，例如（异端）网络协议。]

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-15T06:32:21.667

**警告：**这仅适用于无符号整数，因为有符号右移是实现定义的并且可能导致漏洞（[https://stackoverflow.com/a/7522498/395029](https://stackoverflow.com/a/7522498/395029)）

C 已经提供了对主机字节序的抽象：*[数字](http://en.wikipedia.org/wiki/Number)*† 或*int* †。

以给定的字节顺序生成输出可以通过不试图变得聪明来便携地完成：只需将数字解释为数字并使用位移来提取每个字节：

```
uint32_t value;
uint8_t lolo = (value >> 0) & 0xFF;
uint8_t lohi = (value >> 8) & 0xFF;
uint8_t hilo = (value >> 16) & 0xFF;
uint8_t hihi = (value >> 24) & 0xFF; 
```

然后，您只需按照您想要的任何顺序写入字节。

当您将具有某种字节序的字节序列作为输入时，您可以通过再次使用位操作构造数字来以主机的字节序重构它们：

```
uint32_t value = (hihi << 24)
               | (hilo << 16)
               | (lohi << 8)
               | (lolo << 0); 
```

* * *

† 只有数字作为字节序列的表示具有字节顺序；数字（即数量）没有。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-15T07:03:08.370

这是一个基于模板的版本：

```
#include <iostream>
#include <iomanip>

enum endianness_t {
   BIG,         // 0x44332211  => 0x44 0x33 0x22 0x11
   LITTLE,      // 0x44332211  => 0x11 0x22 0x33 0x44
  UNKNOWN
};

const uint32_t test_value    = 0x44332211;
const bool is_little_endian  = (((char *)&test_value)[0] == 0x11) && (((char *)&test_value)[1] == 0x22);
const bool is_big_endian     = (((char *)&test_value)[0] == 0x44) && (((char *)&test_value)[1] == 0x33);

const endianness_t endianness = 
   is_big_endian ? BIG: 
  (is_little_endian ? LITTLE : UNKNOWN);

template <typename T>
T identity(T v){
  return v;
}

// 16 bits values ------

uint16_t swap_(uint16_t v){
  return ((v & 0xFF) << 8) | ((v & 0xFF00) >> 8);
}

// 32 bits values ------

uint32_t swap_(uint32_t v){
  return ((v & 0xFF) << 24) | ((v & 0xFF00) << 8) | ((v & 0xFF0000) >> 8) | ((v & 0xFF000000) >> 24);
}

template <typename T, endianness_t HOST, endianness_t REMOTE>
 struct en_swap{
  static T conv(T v){
    return swap_(v);
  }
};

template <typename T>
struct en_swap<T, BIG, BIG>{
  static T conv(T v){
    return v;
  }
};

template <typename T>
struct en_swap<T, LITTLE, LITTLE> {
  static T conv(T v){
    return v;
  }
};

template <typename T>
T to_big(T v) {

  switch (endianness){
  case LITTLE :
    return en_swap<T,LITTLE,BIG>::conv(v);
  case BIG :
    return en_swap<T,BIG,BIG>::conv(v);
  }
}

template <typename T>
T to_little(T v) {
   switch (endianness){
   case LITTLE :
     return en_swap<T,LITTLE,LITTLE>::conv(v);
   case BIG :
     return en_swap<T,BIG,LITTLE>::conv(v);
  }
}

int main(){

  using namespace std;

  uint32_t x = 0x0ABCDEF0;
  uint32_t y = to_big(x);
  uint32_t z = to_little(x);

  cout << hex << setw(8) << setfill('0') << x << " " << y << " " << setw(8) << setfill('0') << z << endl;

} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-15T06:38:33.113

实际上，MSDN 中的函数[ntohl](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740069%28v=vs.85%29.aspx) () 和[htonl](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738556%28v=vs.85%29.aspx) ()*是互*逆的：

> htonl 函数将 u_long 从主机转换为 TCP/IP 网络字节顺序（大端序）。
> 
> ntohl 函数将 u_long 从 TCP/IP 网络顺序转换为主机字节顺序（在 Intel 处理器上是 little-endian）。

是的，[运行时检测字节序](https://stackoverflow.com/questions/1001307/detecting-endianness-programmatically-in-a-c-program)是一件非常明智的事情，基本上任何现成的宏/函数在某个时候都会做的事情。

如果您想自己进行小端大端转换，请参阅@R-Martinho-Fernandes 的回答。

# html - Joomla 2.5 HTML5 模板

> ID：16008887
> 
> 赞同：1
> 
> 时间：2013-04-15T06:27:46.903
> 
> 标签：html, joomla, joomla-template

我正在学习如何在 Joomla 2.5 中创建模板，并且我正在关注 Lynda 课程中的以下代码：

```
<head>
<?php
defined('_JEXEC') or die;
$app = JFactory::getApplication();
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php echo $this->language; ?>" lang="<?php echo $this->language; ?>" >
<head>
<jdoc:include type="head" />
<link rel="stylesheet" href="<?php echo $this->baseurl ?>/templates/system/css/system.css" type="text/css" />
<link rel="stylesheet" href="<?php echo $this->baseurl ?>/templates/system/css/general.css" type="text/css" />
<link rel="stylesheet" href="<?php echo $this->baseurl ?>/templates/<?php echo $this->template ?>/css/default.css" type="text/css" />
</head> 
```

我想使用 HTML5。我可以将上面的 xhtml 1.0 文档类型换成以下内容（或者我错过了包含 html5 的任何其他内容吗？）：

```
<head>
<?php
defined('_JEXEC') or die;
$app = JFactory::getApplication();
?>
<!DOCTYPE html>
<?php echo $this->language; ?>" lang="<?php echo $this->language; ?>" >
<head>
<jdoc:include type="head" />
<link rel="stylesheet" href="<?php echo $this->baseurl ?>/templates/system/css/system.css" type="text/css" />
<link rel="stylesheet" href="<?php echo $this->baseurl ?>/templates/system/css/general.css" type="text/css" />
<link rel="stylesheet" href="<?php echo $this->baseurl ?>/templates/<?php echo $this->template ?>/css/default.css" type="text/css" />
</head> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-02T10:13:54.703

对于 Joomla 3.2：

```
$doc = JFactory::getDocument();
$doc->setHtml5(true); 
```

你可以[看到](http://www.newsroom.cz/joomla/81-joomla-english/129-how-to-set-the-head-section-of-joomla-3-2-to-html5.html)...

# asp.net-mvc-4 - 刷新后 Visual Studio 2012 MVC 页面不更新

> ID：16008890
> 
> 赞同：0
> 
> 时间：2013-04-15T06:27:50.450
> 
> 标签：asp.net-mvc-4, visual-studio-2012

在 Visual Studio 2010 中，我可以在项目运行时更改 cshtml 文件，保存它，在浏览器中刷新页面并查看我的更改是否生效。但是，由于某种原因，当我在运行 Visual Studio 2012 项目时刷新页面时，我看不到我的更改。我必须重新运行项目才能看到我的更改。不用说，这使得在 VS 2012 中进行开发变得不可能，因为我无法很快测试我的更改。所以，除非我可以让它在 VS 2012 中工作，否则我将不得不坚持使用 VS 2010。任何人都可以帮我解决这个问题吗？

PS 我已经安装了 Visual Studio Update 2 希望它能解决这个问题，但它没有得到修复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:17:24.943

工具->选项->环境->文档->

使用子选项检查第一个选项

文件更改时检测到...自动加载更改..

我希望在 ctrl+f5 之后它可以工作......

或者可能

工具->选项->项目和解决方案->构建和运行->运行时，当项目过期时选择始终构建

# database - 如何从控制器访问网格面板以将网格数据保存到数据库

> ID：16008900
> 
> 赞同：0
> 
> 时间：2013-04-15T06:28:31.070
> 
> 标签：database, model-view-controller, controller, gridpanel

我有一个`gridpanel`并且我想将网格中的数据更新到数据库，但我无法访问控制器中的网格，以便我可以继续并更新数据库中的数据库。

# c# - 如何在表格布局中选择一个特定的单元格并用不同的颜色绘制

> ID：16008904
> 
> 赞同：0
> 
> 时间：2013-04-15T06:28:41.620
> 
> 标签：c#, winforms, datagridview, tablelayoutpanel

我已经在 Windows 窗体中创建了一个表格布局，如图所示，我在我的表格中添加了一个鼠标右键单击菜单，我想在我右键单击 perticuler 单元格时为单元格着色，所以我该怎么做。

当我单击`add device`单元格时应涂成绿色，单击`delete device`时应显示默认颜色，单击`fire`时应将单元格涂成红色，依此类推

下面是我的表格和表格布局

[![http://i48.tinypic.com/33ok3cw.jpg](https://i.stack.imgur.com/Jwx30.jpg)](https://i.stack.imgur.com/Jwx30.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:28:35.090

嗨，我没有你要找的东西，但是，

TableLayoutPanel 本身并没有真正的“单元格”，实际上是作为控件的容器。这意味着您无法真正检索单个行、列或单元格。另一种方法是使用面板并在每个面板上放置单独的点击事件。

但是，如果您确定要使用 TableLayoutPanels，则可以使用 EventArgs 中 TableLayoutPanel 上发生鼠标单击的位置的 XY 坐标。并确定它是哪个块，因为你有均匀分布的行/列。

例如，如果您的所有单元格大小相同并且 TableLayoutPanel 停靠在表单中，这将获得选定的单元格。：

```
Point selectedCell = new Point();
private void tableLayoutPanel1_MouseClick(object sender, MouseEventArgs e)
{
    if (e.Button == MouseButtons.Right)
    {

       //show contextMenuStrip
        selectedCell = new Point(e.X / (tableLayoutPanel1.Width / tableLayoutPanel1.ColumnCount), e.Y / (tableLayoutPanel1.Height / tableLayoutPanel1.RowCount));
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T08:48:04.263

我得到了我的问题的答案，可以如下所示首先我们需要找到发送事件的标签控件（发送者），如下所示

```
 private void AssignClickEvent()
    {
        foreach (Control c in tableLayout.Controls.OfType<Label>())
        {

            c.MouseClick += tablelayout_MouseClick;
            addDevice.Click += addDevice_Click;
            deleteDevice.Click += deleteDevice_Click;
            fire.Click += fire_Click;
            fault.Click += fault_Click;
            suppress.Click += suppress_Click;

        }
    } 
```

有一个指针控制的全局变量

```
 public Label h = new Label(); 
```

然后我们需要将发送者复制到控件

```
 private void tablelayout_MouseClick(object sender, MouseEventArgs e)
    {
        Label l = (Label)sender;

        if (e.Button == MouseButtons.Right)
        {
            h = l;
            num = l.Text;
            m.MenuItems.AddRange(new MenuItem[] { addDevice, deleteDevice, fire, fault,suppress  });
            tableLayout.ContextMenu = m;
            m.Show((Control)(sender), e.Location);
        }           

    } 
```

然后使用全局控件“h”为控件设置颜色

```
 public void addDevice_Click(object sender, EventArgs e)
    {
        try
        {
            h.BackColor = Color.Green; ;
            comport.Write("AB");
            comport.Write(num);
            comport.Write(" "); 
            stausLable.Text = "Device "+num+" added";
            comport.WriteLine("000000000000");
        }
        catch (InvalidOperationException )
        {
            stausLable.Text = "Open communication port";

        }
    } 
```

![http://i.imgur.com/XkfHENW.png?1](https://i.imgur.com/XkfHENW.png?1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T09:09:05.007

有一种更简单的方法，无需实现这些事件以及额外的变量。假设上下文菜单名为“DeviceActionsContextMenu”并链接到标签控件（根据您的评论），实现工具条项目的点击事件 -

```
 private void addDeviceToolStripMenuItem_Click(object sender, EventArgs e)
    {
        (contextMenuStrip1.SourceControl as Label).BackColor = Color.Green;
    } 
```

或实现上下文菜单的项目点击事件 -

```
 private void DeviceActionsContextMenu_ItemClicked(object sender, ToolStripItemClickedEventArgs e)
    {
        if (e.ClickedItem == addDeviceToolStripMenuItem)
        {
            (contextMenuStrip1.SourceControl as Label).BackColor = Color.Green;
        }
    } 
```

# sql - 需要有关 Stackoverflow 相关项目的数据库建议

> ID：16008907
> 
> 赞同：0
> 
> 时间：2013-04-15T06:28:49.043
> 
> 标签：sql, database, nosql

我正在努力实现类似于 SO 的“相关问题”功能的功能。我想为 C、C++ 等少数标签建议最匹配的问题。如果我想要良好的性能，或者我应该坚持使用像 MySQL 这样的传统关系数据库，那么在这种项目中使用像 MongoDB 这样的 NoSQL DB 更可取吗？

我已经看到了一些类似的问题，但不完全是我正在寻找的问题 - [用于搜索类似于 Stackoverflow 上的“相关问题”的 SQL 是什么](https://stackoverflow.com/questions/937059/what-is-the-sql-used-to-do-a-search-similar-to-related-questions-on-stackoverf?rq=1)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:38:04.477

一点点更多的信息将有助于为您提供指导。您期望的数据量是多少？有多少并发用户会查询数据库？您打算将所有问题存储在数据库中还是仅通过 ID:s 与它们相关联？

另外，对环境有什么要求吗？Java、.NET 还是其他？

如果您的目标是标签和问题/主题之间的关系实现，我会选择一个具有一些易于使用的查询语言的面向对象的数据库。喜欢：

```
public class Question
{
   String QuestionsText;
}

public class Tag
{
   String Tag;
}

public class TagPerQuestion
{
    Tag ConnectedTag;
    Question ConnectedQuestion;
} 
```

然后，您可以使用 TagPerQuestion 轻松查询具有相似标签的所有问题。这将是干净和容易的。此实现可以在 Starcounter (.NET)、VoltDB (Linux) 中轻松完成。

如果您的项目数量不是极端的并且同时用户数量很少，您也可以使用 MySQL 等传统数据库并将类替换为表。

# ruby-on-rails - Heroku 上的 Postgres 错误导致 ActiveRecord::StatementInvalid

> ID：16008908
> 
> 赞同：0
> 
> 时间：2013-04-15T06:28:50.860
> 
> 标签：ruby-on-rails, heroku, rails-postgresql

我运行一个 Rails 应用程序/网站（Rails v.3.0.3），每天有大约 10.000 次浏览量，但有时，当 Digg.com 或类似链接到它时，我会获得 2 或 3 倍的流量。发生这种情况时，我倾向于在 Heroku 上的 postgres 数据库出现问题，并且我收到一条错误消息（通过 exception_notification），如下所示：

> ActiveRecord::StatementInvalid 发生在 home#index:
> 
> PG::Error: 错误：当前事务被中止，在事务块结束之前忽略命令：SELECT "c_types".* FROM "c_types"
> .bundle/gems/ruby/1.9.1/gems/activerecord-3.0.20/lib /active_record/connection_adapters/postgresql_adapter.rb:518:in `exec'

此错误消息永远不会发生，但是当我看到它时，通常是当我有异常的流量时。这使我相信数据库连接“过热”。这是我的第一个 Rails 应用程序，它确实没有针对数据库请求进行适当的优化，所以看起来很有可能。

我的问题：

1.  有人可以确认这与“同时有太多数据库连接”有关吗？

2.  除了尝试限制数据库调用的数量之外，我还能做些什么呢？

提前致谢。

# android - 我可以同时使用单个 AndroidHttpClient 实例进行多个调用吗

> ID：16008910
> 
> 赞同：4
> 
> 时间：2013-04-15T06:29:05.000
> 
> 标签：android, apache, android-networking, apache-commons-httpclient, androidhttpclient

`AndroidHttpClient`据说[是线程安全](https://stackoverflow.com/questions/11103109/is-androidhttpclient-thread-safe)的。只是为了确保 - 这是否意味着我可以在我的应用程序中使用单个客户端实例来处理所有 HTTP 请求？有理由不这样做吗？

在其源代码中，我注意到它使用`BasicHttpContext`而不是`SyncBasicHttpContext`. 是否`ThreadSafeClientConnManager`处理所有线程复杂性？

# sql - 使用case sql server2008在select语句中使用运算符

> ID：16008913
> 
> 赞同：4
> 
> 时间：2013-04-15T06:29:16.377
> 
> 标签：sql, sql-server-2008, select, case

我创建选择语句来比较男性和女性并替换一些值。我有两张桌子。

**表格1：**

*   男（对或错）
*   女（对或错）

**表 2：**

*   性别值（'M'、'F'、'B'）

我想创建从表 2 到表 1 的选择语句。我的查询如下，

```
select 'insert into table1(Male,female)values('+
   Isnull(cast(case  Gender when  'M' or 'B' Then '''True''' else '''false''' end as varchar),'NULL')+','+
   Isnull(cast(case  Gender when 'F' or'B' Then '''True''' else '''false''' End as varchar),'NUll')+')'
   from Table2 
```

但是我在或操作员不在这里使用时遇到错误。如何使用运算符选择两个值。有人建议我...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:42:23.180

要使用动态 SQL，您需要声明一个变量。它还将帮助您进行代码测试

```
DECLARE @dml nvarchar(max) = N''
select @dml += 'insert into table1(Male,female)values('+
   Isnull(cast(case when Gender IN('M', 'B') 
                    Then '''True''' else '''false''' 
               end as varchar),'NULL')+','+
   Isnull(cast(case when Gender IN('F', 'B') 
                    Then '''True''' else '''false''' 
               end as varchar),'NUll')+')' + CHAR(13) + CHAR(10)
from Table2
PRINT @dml 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T06:38:22.057

你可以这样尝试：

```
select 'insert into table1(Male,female)values('+
   Isnull(cast(case when Gender = 'M' or Gender = 'B' Then '''True''' else '''false''' end as varchar),'NULL')+','+
   Isnull(cast(case when Gender = 'F' OR Gender = 'B' Then '''True''' else '''false''' End as varchar),'NUll')+')'
   from Table2 
```

或像这样：

```
select 'insert into table1(Male,female)values('+
   Isnull(cast(case Gender when 'M' Then '''True''' when 'B' Then '''True''' else '''false''' end as varchar),'NULL')+','+
   Isnull(cast(case Gender when 'F' Then '''True''' when 'B' Then '''True''' else '''false''' End as varchar),'NUll')+')'
   from Table2 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T06:37:46.470

```
select 'insert into table1(Male,female)values('+
   Isnull(cast(case  Gender when  'M' or Gender when 'B' Then '''True''' else '''false''' end as varchar),'NULL')+','+
   Isnull(cast(case  Gender when 'F' or Gender when 'B' Then '''True''' else '''false''' End as varchar),'NUll')+')'
   from Table2 
```

试试这个查询。

希望它有帮助。

# ruby-on-rails - Postmarkdown ruby gem 的未定义方法“捕获”

> ID：16008917
> 
> 赞同：0
> 
> 时间：2013-04-15T06:29:31.450
> 
> 标签：ruby-on-rails, ruby, haml, markdown

我的 Rails 应用程序由于某种原因没有加载

```
index.html.haml where line #4 raised:
undefined method `captures' for nil:NilClass 
```

我的配置/路线：

```
 postmarkdown :as => :blog
 root :to => 'posts#index' 
```

我的帖子/index.html.haml

```
= render 'feed_link'

%section#posts
  - if collection.present?
    = render collection, :summary => true
    = paginate collection
  - else
    No posts found. 
```

我正在使用这个宝石：[https ://github.com/ennova/postmarkdown](https://github.com/ennova/postmarkdown)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:41:43.993

> 您的 app/posts/ 中的一个或多个文件似乎不符合 Postmarkdown 要求的文件名格式。请参阅我们自述文件中的示例。

请检查 github 项目问题：

[https://github.com/ennova/postmarkdown/issues/15](https://github.com/ennova/postmarkdown/issues/15)

# android - 如何跨活动更改背景颜色

> ID：16008918
> 
> 赞同：1
> 
> 时间：2013-04-15T06:29:36.487
> 
> 标签：android, sdk, background

这是我的第一个应用程序，也是我第一次发帖，所以请多多包涵。

我正在尝试这样做，以便用户可以从更改皮肤屏幕中选择整个应用程序的背景颜色。但是，就我现在所拥有的而言，它只会改变活动的颜色，直到它回到主要活动。

这是更改皮肤屏幕的代码

```
package cs.pacificu.mypace;

import android.R.layout;
import android.annotation.SuppressLint;
import android.app.Activity;
import android.graphics.Color;
import android.os.Bundle;
import android.text.Layout;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import android.widget.AdapterView.OnItemClickListener;

public class Skin extends Activity
{

    @Override
    public void onCreate(Bundle savedInstanceState)
{
    final String[] SKINS = new String[] {"Light", "Dark"};

    super.onCreate(savedInstanceState);
    setContentView(R.layout.playlist);
    final ListView listView = (ListView) findViewById (R.id.playlists);

    listView.setAdapter(new ArrayAdapter<String>            (this,R.layout.single_list_item,SKINS));

    listView.setTextFilterEnabled(true);
    listView.setOnItemClickListener(new OnItemClickListener()
    {
        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id)
        {
            // When clicked, show a toast with the TextView text
            Toast.makeText(getApplicationContext(),
            ((TextView) view).getText(), Toast.LENGTH_SHORT).show();

            //
            View layout = findViewById(R.layout.activity_main);
            String selectedFromList = (listView.getItemAtPosition(position).toString ());

            if (SKINS [0] == selectedFromList)
            {
                listView.setBackgroundColor(Color.CYAN);
                 //layout.setBackgroundColor(android.R.color.darker_gray);

            }
            else if (SKINS[1] == selectedFromList)
            {
                listView.setBackgroundColor(Color.BLACK);
                //layout.setBackgroundColor(android.R.color.black);
            }

                //

                finish();
            }
        });

    }
} 
```

这是主要的活动代码

```
package cs.pacificu.mypace;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.Menu;
import android.view.MenuItem;
/*import com.actionbarsherlock.app.ActionBar;
import com.actionbarsherlock.view.MenuItem;
import com.actionbarsherlock.view.MenuInflater;*/
import android.view.View;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        //setContentView(R.layout.activity_main);
        startPlaylists(null);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu)
    {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);

        return true;
    }

    @Override
    public boolean onOptionsItemSelected (MenuItem item)
    {
        switch (item.getItemId()) {
        case R.id.skin:
            changeSkin();
            return true;
        case R.id.action_settings:
            settingsList();
            return true;
        default:
            return super.onOptionsItemSelected(item);
        }
    }

    public void startPlaylists (View view)
    {
        Intent intentPlaylists = new Intent();
        intentPlaylists.setClassName("cs.pacificu.mypace", "cs.pacificu.mypace.Playlist");
        intentPlaylists.setAction("@strings/action_playlists");
        startActivity(intentPlaylists);
    }

    public void changeSkin ()
    {
        Intent intentSkin = new Intent();
        intentSkin.setClassName("cs.pacificu.mypace", "cs.pacificu.mypace.Skin");
        intentSkin.setAction("@strings/action_skin");
        startActivity(intentSkin);
    }

    public void settingsList ()
    {
        Intent intentSettings = new Intent();
        intentSettings.setClassName("cs.pacificu.mypace", "cs.pacificu.mypace.Settings");
        intentSettings.setAction("@strings/action_settings");
        startActivity(intentSettings);
    }

} 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:32:10.597

把这个放在你的`xml`

```
android:background="#025cd8" 
```

取决于你选择的颜色。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:43:08.817

您可以做的是`SharedPreferences`为用户选择的内容设置一个值，然后在每个活动开始时，将该值设置为布局的背景颜色。这是我认为解决这个问题的最好方法。

因此，在您的所有活动中，您可以将它们设置为 中的值`SharedPreferences`，如果未设置，则使用您的默认值。至于存储可能的值，您可以使用 XML 文件或将值硬编码到一个全局类中，尽管前者更可取。

[看看这里，看看他们做了什么（Android-page-about-data-storage）](http://developer.android.com/guide/topics/data/data-storage.html#pref)

编辑：如果你要保持这样简单，只是背景颜色，那么你可以做这样的事情：

|- 保持这些有点全局，也许在一个类中并根据需要访问它们，

```
// Make sure to maintain the connection
String[] SKINS = {"Light", "Dark"};
int[] COLOURS = {Color.CYAN, Color.BLACK}; 
```

|- 对于`onItemClick()`,

```
@Override
public void onItemClick(AdapterView<?> parent, View view,
int position, long id)
{
    // You may wish to make these two variables class-global
    SharedPreferences settings = getPreferences(MODE_PRIVATE);
    SharedPreferences.Editor editor = settings.edit();

    editor.putInt("mskin", COLOURS[position]);
    editor.commit();

    // For on the spot changes
    listView.setBackgroundColor(COLOURS[position]);

    // Your other code, as you wish, before or after, depends on how you need it. 
```

|- 至于您的其他活动，或在`onCreate()`所有活动中，

```
SharedPreferences settings = getPreferences(MODE_PRIVATE);
listView.setBackgroundColor(settings.getInt("mskin", COLOURS[0])); 
```

# excel - 删除 Excel VBA 中包含特定数据的完整行

> ID：16008919
> 
> 赞同：1
> 
> 时间：2013-04-15T06:29:42.327
> 
> 标签：excel, vba

我正在尝试删除第一个单元格中包含值“THD”的完整行。内容可能看起来像“THD_C_L10.0W5.0H15.0P7.5”，但 THD 始终存在。

我尝试了以下循环：

```
For i = 1 To ActiveSheet.UsedRange.Rows.Count
    If InStr(1, LCase(Tabelle2.Cells(i, 1)), "THD") <> 0 Then
        Rows(i).EntireRow.Delete
    End If
Next 
```

但不幸的是它不起作用。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:36:37.443

当您删除行时，您必须从最后一个元素开始循环并直接进入第一个元素。因此，而不是：

```
For i = 1 To ActiveSheet.UsedRange.Rows.Count 
```

你应该有这样的东西：

```
For i = ActiveSheet.UsedRange.Rows.Count to 1 Step -1 
```

一个不应该影响您当前子的附加提示`InStr`具有您可以使用的附加参数。这条线相当于你的一条：

```
If InStr(1, Tabelle2.Cells(i, 1), "THD",vbTextCompare) <> 0 Then 
```

# iphone - 在具有相同父级的两个上下文中调用 executeFetchRequest

> ID：16008922
> 
> 赞同：1
> 
> 时间：2013-04-15T06:29:45.503
> 
> 标签：iphone, core-data, concurrency

嗨，我已经声明了两个具有相同 (NSMainQueueConcurrencyType) 父级的私有上下文，一个在这里：

```
- (NSManagedObjectContext *)childObjectContext{
if (_childObjectContext != nil) {
    return _childObjectContext;
}
_childObjectContext=[[NSManagedObjectContext alloc]   initWithConcurrencyType:NSPrivateQueueConcurrencyType];
[_childObjectContext setParentContext:self.managedObjectContext];
return _childObjectContext;
} 
```

和第二个私人上下文：

```
- (NSManagedObjectContext *)childObjectContext2{
if (_childObjectContext2 != nil) {
    return _childObjectContext2;
}
_childObjectContext2=[[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];
[_childObjectContext2 setParentContext:self.managedObjectContext];
return _childObjectContext2; 
```

}

我认为问题出在“executeFetchRequest:error:”上，因为我的应用程序冻结了它。我会尝试简化我的问题。我在每个上下文中调用 performBlock，并在里面调用 'executeFetchRequest:error:'。如果每个上下文都分配给他自己的线程，为什么这个冻结应用程序？它不是线程安全的吗？

```
[childObjectContext performBlock:^{
    [childObjectContext executeFetchRequest:request1 error:nil]
}];

[childObjectContext2 performBlock:^{
    [childObjectContext2 executeFetchRequest:request2 error:nil]
}]; 
```

# c# - 在 linq 中加入不同的字段类型

> ID：16008924
> 
> 赞同：0
> 
> 时间：2013-04-15T06:29:51.107
> 
> 标签：c#, linq, c#-4.0, entity-framework-4, entity-framework-4.1

在 linq 中加入不同的字段类型

```
public partial class Product
{
    public int ID { get; set; }

    public string CategoryID
    {
        get { return Myclass.increse(CategoryID); }
        set { CategoryID = value; }
    }
    public string Name { get; set; }

}

public partial class ProductCategory
{
    public int ID { get; set; }
    public string Name { get; set; }
}
var query = (from c in dContext.ProductCategories
                    join p in dContext.Products
                     on Myclass.EncodeMD5(c.ID.ToString()) equals p.CategoryID
                    select new { id = p.ID, cat = p.CategoryID, name = p.Name, cat1 = c.Name }
                  ).ToList(); 
```

该字段应转换为字符串然后函数运行EncodeMD5

错误：

> *LINQ to Entities 无法识别方法 'System.String EncodeMD5(System.String)' 方法，并且此方法无法转换为存储表达式。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:40:30.057

您不能在 LINQ-to-（某些数据库后端）中调用任意 .NET 方法 - EF（等）的全部意义在于它想要从您的表达式创建 SQL - 涉及`where`子句的东西。它可以使用简单的属性和运算符，以及它知道的一些方法并且可以映射到 SQL，但是它不能执行它从未听说过的事情（`increse`、`EncodeMD5`等）它怎么知道要编写什么 SQL？

对于像 MD5 这样的东西，最好的办法是将 MD5 哈希***与***ID 一起存储在基础表中。同样与`CategoryID`' 的“增加”（无论是什么）。因此，您的查询最终会处理这些预先计算的值：

```
on c.IDHash equals p.CategoryIDHash 
```

# php - 将数组值分配给单独的类值

> ID：16008926
> 
> 赞同：0
> 
> 时间：2013-04-15T06:29:59.033
> 
> 标签：php, arrays, oop, class

我有一个 configuration.php 作为一个单独的文件。它在 pardFactory 类中有 11 个变量。我需要从数组中分配它们的值。$ConfigData 在另一个文件中。我该怎么做？

班级

```
 <?php 
     class PardFactory { 
     public $TITLE = 'Sri lanka Accommodation';
     public $ONLINE = 'Site Online';
     public $OFFLINE =  '';
     public $EMAIL =  '';
     public $METADESCRIPTION =   '';
     public $METAKEYWORDS =  '';
     public $COPYRIGHT =  '';
     public $HOST =  '';
     public $DATABASE =  '';
     public $USERNAME =  '';
     public $PASSWORD =  '';
     } 
     ?> 
```

大批

```
$ConfigData = array($adminConfig->TITLE,
 $adminConfig->ONLINE,
 $adminConfig->OFFLINE,
 $adminConfig->EMAIL,
 $adminConfig->METADESCRIPTION,
 $adminConfig->METAKEYWORDS,
 $adminConfig->COPYRIGHT,
 $adminConfig->HOST,
 $adminConfig->DATABASE,
 $adminConfig->USERNAME,
 $adminConfig->PASSWORD); 
```

我想将数组值传递给类值。

此外，我只需要在该 configuration.php 中具有上述 pardFactory 类。如果我像上面那样做，我需要首先将 pardFactory 类包含到 configuration.php 中。我需要有这个文件，比如 joomla configuration.php 文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:40:50.173

尝试这样的事情

```
 $obj = new PardFactory($ConfigData);

class PardFactory {
public function __construct(Array $config=array()){
  foreach($config as $key => $value){
    $this->{$key} = $value;
  }
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:36:26.177

这样做会创建一个类文件的对象，如下所示：

```
$obj = new PardFactory($ConfigData); 
```

并创建一个构造函数

```
function __construct($config) {
    $this->TITLE = $config->TITLE;
    $this->ONLINE = $config->ONLINE;
} 
```

等等。

# localhost - 通过 Android 设备连接到本地主机

> ID：16008937
> 
> 赞同：1
> 
> 时间：2013-04-15T06:30:42.310
> 
> 标签：localhost

我编写了一个应用程序，其中我通过模拟器使用系统的 IP 地址连接到本地主机，但现在我想通过 Android 设备连接到 LocalHost

问题是每当我尝试通过应用程序连接时遇到问题，简而言之：本地主机没有响应.....

我正在使用 Wifi 连接本地主机..请提供任何帮助....

代码：

```
 public void onClick(View v) {

                String url = "http://ipaddress/checkLogin.php";
                List<NameValuePair> params = new ArrayList<NameValuePair>();
                params.add(new BasicNameValuePair("strUser", txtUser.getText().toString()));
                params.add(new BasicNameValuePair("strPass", txtPass.getText().toString()));
                String resultServer  = getHttpPost(url,params);
                Log.d("Entire string::", " "+resultServer); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:33:00.583

不要使用Wifi通过Android设备连接，始终使用USB通过设备连接LocalHost或放置文件并使用在线服务器制作数据库......

您的代码没有任何问题：

```
 public void onClick(View v) {

            String url = "http://ipaddress/checkLogin.php";
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            params.add(new BasicNameValuePair("strUser", txtUser.getText().toString()));
            params.add(new BasicNameValuePair("strPass", txtPass.getText().toString()));
            String resultServer  = getHttpPost(url,params);
            Log.d("Entire string::", " "+resultServer); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T11:59:31.560

**USB 不为移动设备提供网络。如果它已连接到您的 wifi，则点击路由器提供的笔记本电脑地址。如果它连接到您的移动网络，则首先找出您的路由器外部 IP 地址，然后将某个端口转发到该 10.0.2.2:portno，最后您将能够从您的设备上看到该服务器。**

C:\wamp\bin\apache\Apache2.2.11\conf\httpd.conf

```
onlineoffline tag - don't remove
    Order Deny,Allow
    Allow from all // change it Allow
    Allow from 127.0.0.1 
```

# php - 从mysql数据库中搜索输入词并根据最相关的排序

> ID：16008943
> 
> 赞同：4
> 
> 时间：2013-04-15T06:30:55.540
> 
> 标签：php, mysql, sorting, search

我想得到一个结果并在最相关的基础上进行排序。这是一个 mysql 表

```
id     sentence  
1      website download free idm here  
2      get a free idmas5 from here  
3      check out this idm  
4      Here is other softwares 
```

这是一个代码。

```
<?php
$word1 = 'download';
$word2 = 'idm';
mysql_query("SELECT * FROM phrase WHERE MATCH(sentence)   
AGAINST('+$word1 +$word2' IN BOOLEAN MODE"))
//above query does not work 
```

我想从中得到结果`MATCH.....AGAINST`并对结果进行排序。
必需的结果。

```
1   website download free idm here  
3   check out this idm
2   get a free idmas5 from here 
```

因为**download**和**idm**都存在于第一个 id 中，所以它位于顶部，而在第三个 id 中只有**idm**存在，它位于第二个位置。在第二个 id 中， **idmas5**这个词是从**idm**开始的，所以它位于第三个位置。最后id 没有匹配的词所以不能显示。

我正在使用`MATCH......AGAINST`我认为这对它有好处。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:52:17.367

`mysql_query()`返回 上的结果集`SELECT`。所以你需要像这样分配结果

```
$result=mysql_query("SELECT * FROM phrase WHERE MATCH(sentence)   
AGAINST('+download +idm' IN BOOLEAN MODE")) 
```

然后用类似的函数检索结果`mysql_fetch_array()`

```
while ($row = mysql_fetch_array($result)) {
    printf("ID: %s  SENTENCE: %s", $row[0], $row[1]);  
} 
```

# php - 尝试理解 php 中的 Iterator 接口

> ID：16008946
> 
> 赞同：4
> 
> 时间：2013-04-15T06:31:02.963
> 
> 标签：php

我正在阅读[http://php.net/manual/en/class.iterator.php](http://php.net/manual/en/class.iterator.php)，但很难理解示例 #1 的基本用法。问题：

1.  `var_dump(__METHOD__);`

    我知道你可以在这里使用变量，例如：`var_dump($count)`，但是**METHOD**不是变量，或者它是全局变量/常量？

2.  ```
    foreach($it as $key => $value) {
        var_dump($key, $value);
        echo "\n";
    } 
    ```

    如果我将其更改为：

    ```
    foreach($it as $key => $value) {
    } 
    ```

    如果我运行脚本，它仍然可以显示结果，为什么？

3.  `var_dump($key, $value);`

    结果是

    > int 0 字符串“第一个元素”（长度=12）
    > 
    > int 1 字符串 'secondelement' (长度=13) ...

    为什么是这个结果？`foreach($it as $key => $value)`, $it 是对象，它不是 $array，怎么会这样呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:43:46.203

该`Iterator`接口允许类在`foreach`语句中表现得像一个数组。

因为它不是数组，所以类必须知道在这种情况下如何表现。这是通过调用（通过`foreach`，为了简单起见）一些从`Iterator`接口实现的方法来完成的。由于它是接口要求，因此所有方法都应该实现，即使您不打算使用其中一些方法，例如检索密钥。

在方法中，您可以输入您喜欢的任何内容，甚至是在循环中没有意义的`foreach`内容（比如您不增加 counter `$position`）。

在手册中，`var_dump()`s 用于显示调用了哪些方法。`__METHOD__`伪常量是返回当前方法名称的字符串。您应该删除这些行，因为它们仅用于示例目的。

接口中的每个方法`Iterator`都是公共的，因此您可以从代码中的任何位置调用它们，但无需在程序中调用它们。在`foreach`循环中它们被自动调用，这就是你的空循环起作用的原因。

# android - 用于 xml 解析的 Android SAXParser

> ID：16008950
> 
> 赞同：0
> 
> 时间：2013-04-15T06:31:35.193
> 
> 标签：android, android-layout, android-intent

我正在尝试解析以下 xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/"
            xmlns:content="http://purl.org/rss/1.0/modules/content/"
            xmlns:wfw="http://wellformedweb.org/CommentAPI/"
                        xmlns:slash="http://purl.org/rss/1.0/modules/slash/" ><channel >
<title>TORi : Hosts Profiles</title>
<link>http://www.teugadio.com</link>
<description>TRi : TelOne Rdio Hots Prfiles</description>
<dc:language>en-us</dc:language>
<dc:rights>Copyright @copy; 2000-11, teluone.com, All Rights Reserved..</dc:rights>
<dc:date>2013-04-14T23:07:55+01:00</dc:date>
<dc:creator>TORi : TeluguOne Radio</dc:creator>
<dc:subject>TORi : TeluguOne Radio</dc:subject>
<item >
<title>Rajesh </title>
<link>http://www.teluradio.com/rssHstDescr.php?hostId=146</link>
<guid isPermaLink="false">http://www.telugeradio.com/rssHostDescr.php?hostId=146</guid>
<pubDate>2013-04-12</pubDate>
<description>Rajesh</description>
<media:thumbnail width='66' height='49' url='http://hostphotos/Rajh-Photo.jpg'></media:thumbnail>
</item>
<item >
<title>Prasanthi </title>
<link>http://www.tuguonadio.com/rssHostDescr.php?hostId=145</link>
<guid isPermaLink="false">http://www.telugadio.com/rsHostDescr.php?hostId=145</guid>
<pubDate>2013-04-10</pubDate>
<description>Prasanthi</description>
<media:thumbnail width='66' height='49' url='http://hostphotos/Pri-image.jpg'></media:thumbnail>
</item>
etc.......
</channel>
</rss> 
```

我能够解析数据，我的输出是：

```
TITLE TORi : Hosts Profiles
TITLE http://www.teluguoneradio.com
TITLE TORi : TeluguOne Radio Hosts Profiles
TITLE en-us
TITLE Copyright @copy; 2000-11, teluguone.com, All Rights Reserved..
TITLE 2013-04-14T23:31:24+01:00
TITLE TORi : TeluguOne Radio
TITLETORi : TeluguOne Radio
TITLE Rajesh 
TITLE Prasanthi 
TITLE Maireyi Ganaaju 
etc.......... 
```

但是，我想在项目标签本身中获取详细信息？谁能告诉我我应该在代码中更改什么？

我需要的输出是：

```
TITLE Rajesh 
TITLE Prasanthi 
TITLE Maireyi Ganaaju 
etc.......... 
```

这是我的代码：

```
import static com.tort.BaseFeedParser.ITEM;
import static com.tort.BaseFeedParser.LINK;
import static com.tort.BaseFeedParser.TITLE;
import static com.tort.BaseFeedParser.PUBDATE;

import java.util.ArrayList;
import java.util.List;

import org.xml.sax.Attributes;
import org.xml.sax.SAXException;
import org.xml.sax.helpers.DefaultHandler;

public class HostsRssHandler extends DefaultHandler {
    private List<HostsProfile> messages;
    private HostsProfile currentMessage;
    private StringBuilder builder;

    public List<HostsProfile> getMessages(){
        return messages;
    }
    @Override
    public void characters(char[] ch, int start, int length)
            throws SAXException {
        super.characters(ch, start, length);
        builder.append(ch, start, length);
    }
    @Override
    public void endElement(String uri, String localName, String name)
            throws SAXException {
        super.endElement(uri, localName, name);
        if (this.currentMessage != null){
            if (localName.equalsIgnoreCase(TITLE)){
                currentMessage.setTitle(builder.toString());
            } else if (localName.equalsIgnoreCase(LINK)){
                currentMessage.setLink(builder.toString());
            }

             else if (localName.equalsIgnoreCase(PUBDATE)){
                currentMessage.setDate(builder.toString());
            }

            else if (localName.equalsIgnoreCase(ITEM)){
                messages.add(currentMessage);
            }
            builder.setLength(0);   
        }
    }

    @Override
    public void startDocument() throws SAXException {
        super.startDocument();
        messages = new ArrayList<HostsProfile>();
        builder = new StringBuilder();
    }

    @Override
    public void startElement(String uri, String localName, String name,
            Attributes attributes) throws SAXException {
        super.startElement(uri, localName, name, attributes);

        if (localName.equalsIgnoreCase(ITEM)){
            this.currentMessage = new HostsProfile();
        }
        if (localName.equalsIgnoreCase("thumbnail")) { 
              currentMessage.setMediathumbnail(attributes.getValue("url"));
            }

    }   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T10:21:33.803

加个`boolean`flag`insideItem`怎么样？

```
public class HostsRssHandler extends DefaultHandler {
  private boolean insideItem;

  @Override
  public void endElement(String uri, String localName, String name)
        throws SAXException {
    super.endElement(uri, localName, name);
    if (this.currentMessage != null && insideItem){
      if (localName.equalsIgnoreCase(TITLE)){
        currentMessage.setTitle(builder.toString());
      } else if (localName.equalsIgnoreCase(LINK)){
        currentMessage.setLink(builder.toString());
      } else if (localName.equalsIgnoreCase(PUBDATE)){
        currentMessage.setDate(builder.toString());
      } else if (localName.equalsIgnoreCase(ITEM)){
        messages.add(currentMessage);
        insideItem = false;
      }
      builder.setLength(0);   
    }
  }

  @Override
  public void startElement(String uri, String localName, String name,
        Attributes attributes) throws SAXException {
    super.startElement(uri, localName, name, attributes);

    if (localName.equalsIgnoreCase(ITEM)){
      this.currentMessage = new HostsProfile();
      insideItem = true;
    } else if (localName.equalsIgnoreCase("thumbnail") && insideItem) { 
      currentMessage.setMediathumbnail(attributes.getValue("url"));
    }
  }   

} 
```

# objective-c - 导入 MagicalRecord 时单元测试构建失败

> ID：16008956
> 
> 赞同：2
> 
> 时间：2013-04-15T06:31:41.847
> 
> 标签：objective-c, xcode, unit-testing, magicalrecord, cocoapods

我有一个使用 Apple 提供的 UnitTest 模板的项目设置。我也将 MagicalRecord 添加到前缀标题中。当我在设备和模拟器上运行时，一切正常。除了单元测试，当我为单元测试编译时，构建失败并使用以下命令：`'CoreData+MagicalRecord.h' file not found`. 这发生在前缀标头中。

前缀.pch

```
//
// Prefix header for all source files of the '123tv' target in the '123tv' project
//

#import <Availability.h>

#ifndef __IPHONE_3_0
#warning "This project uses features only available in iOS SDK 3.0 and later."
#endif

#ifdef __OBJC__
    #import <UIKit/UIKit.h>
    #import <Foundation/Foundation.h>
    #import "Environments.h"
    #import "CoreData+MagicalRecord.h"    
    #import "PBLog.h"
#endif 
```

有人有想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T12:37:53.247

确保`Header Search Paths`为您的测试目标正确设置。

我通常使用[CocoaPods](http://cocoapods.org)，它会为你自动化这些东西

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-27T07:49:50.243

尝试在终端中运行命令（1），然后在步骤（2）中添加导入

1.  在您的项目目录中

`run pod update`

2.  您现在应该可以添加

`#import <MagicalRecord/CoreData+MagicalRecord.h>`

到目标的任何源文件并开始使用 MagicalRecord！

# android - 如何使用 Google App Engine 作为 Android 应用程序的后端数据库

> ID：16008958
> 
> 赞同：7
> 
> 时间：2013-04-15T06:31:50.300
> 
> 标签：android, database, google-app-engine, database-connection, backend

我实际上是android的初学者，需要很多帮助。我已经制作了一个带有嵌入式数据库的应用程序，现在想将它放到某个动态位置。具有简单的数据形式（一些地址和分支信息等）。我实际上不知道如何使用放置在动态位置的动态服务器。

我怎样才能做到这一点？请逐步指导我

我浏览并找到了一些术语，如“**编写服务**”、“**关闭/打开后端**”等。请指导我。我的另一个问题是：我是否需要某种注册、api-key 或任何其他东西。我刚刚为 Eclipse 添加了“谷歌插件”，我可以创建**与 Android 应用程序连接的应用程序引擎**

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-15T07:11:13.923

是的，你确实需要一把钥匙。看看这个[http://developer.android.com/google/gcm/gs.html](http://developer.android.com/google/gcm/gs.html)

**首先，我们需要为**您设置的示例（[与 Android App 连接的 App 引擎](https://developers.google.com/eclipse/docs/endpoints-androidconnected-gae)）向/从客户端发送数据，使用

```
com.google.android.gcm.server.Sender helper class 
```

同样，该帮助程序类是第 4 步，如何使用它是在[编写服务器端应用程序服务器端应用程序](http://developer.android.com/google/gcm/gs.html#server-app)

**自然，您想要持久化或查找数据。** 您可以在用于发送/接收消息的任何类中执行此操作（当然使用上面的 Sender 助手类）

*如果您使用 Java，那么对于 AppEngine 来说，最简单也是最好的方法是使用 Objectify。* 相信我或谷歌它，看看它有多好。 [https://code.google.com/p/objectify-appengine/](https://code.google.com/p/objectify-appengine/)

Objectify 的文档非常好，我第一次真的没有遇到任何麻烦。

他们的简单例子是：

```
@Entity
class Car {
    @Id String vin; // Can be Long, long, or String
    String color;
}

ofy().save().entity(new Car("123123", "red")).now();
Car c = ofy().load().type(Car.class).id("123123").get();
ofy().delete().entity(c); 
```

我觉得你很适合去。

概括：

*   YourMessageClass（在 Appengine 上）

    -- 使用 com.google.android.gcm.server.Sender 发送/接收数据

    -- 使用 Objectify 来持久化数据。

下一个问题是您将YourMessageClass 放在哪里。它会在处理短期请求的 Servlet 中吗？（[https://developers.google.com/appengine/docs/java/runtime#Requests_and_Servlets](https://developers.google.com/appengine/docs/java/runtime#Requests_and_Servlets)）它会在一个长期运行的后端吗？( [https://developers.google.com/appengine/docs/java/backends/](https://developers.google.com/appengine/docs/java/backends/) ) 但这超出了本次讨论的范围。

# ios - iOS 开发/生产推送证书：何时以及如何？

> ID：16008961
> 
> 赞同：4
> 
> 时间：2013-04-15T06:31:55.457
> 
> 标签：ios, push-notification, apple-push-notifications

文档对此非常模糊，因此我无法找到这些问题的真正答案：

*   在哪种情况下我应该使用开发证书而不是生产证书来发送推送通知？
*   苹果如何检测到应用程序处于“开发”模式？这是根据构建配置在编译期间硬编码的吗？
*   如果我创建一个完全自定义的构建配置——比如说“TestFlight”——我应该使用哪个证书？
*   是否可以将开发证书与临时版本（在 beta 测试人员圈内）一起使用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:46:56.140

1) 推送通知由 App ID 处理。因此，您可以在生产环境和测试环境（开发）（[参考](https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ProvisioningDevelopment/ProvisioningDevelopment.html)）中使用该 App ID。

2）我会说基于您创建的证书（开发或分发）

3) 如果我没记错的话，TestFlight 使用分发配置文件。从他们的网站：

> 在 Code Signing Identity 下拉列表中，选择在“创建基本应用程序”部分的第 5 步的发布配置中指定的相同分发配置文件，然后单击下一步。注意：在为 TestFlight 上的分发生成 IPA 时，您应该始终为存档和分发选项使用 Ad Hoc 分发配置文件。（[参考](http://help.testflightapp.com/customer/portal/articles/494413-how-to-create-an-ipa-xcode-4-3-)）

4) 这是一个带有 Ad-hoc 选项的分发配置文件（而不是 Apple 商店）。使用 Ad-Hoc 的分发配置文件，您可以指定哪些设备可以使用（[参考](http://useyourloaf.com/blog/2010/12/23/creating-iphone-ad-hoc-distribution-builds.html)）

# android - 在android中创建一个搜索框

> ID：16008962
> 
> 赞同：0
> 
> 时间：2013-04-15T06:31:56.227
> 
> 标签：android, search, arraylist

我需要`search box`在 android 中创建一个检查数据的位置，`arraylist`如果它在那里，它将返回到该页面。

代码：

```
 String[] text = { "One", "Two", "Three", "Four", "Five", "Six", "Seven",
   "Eight", "Nine", "Ten" };

edittext.addTextChangedListener(new TextWatcher()
  {

   public void afterTextChanged(Editable s)
   {

   }

   public void beforeTextChanged(CharSequence s, int start,
    int count, int after)
   {

   }

   public void onTextChanged(CharSequence s, int start,
    int before, int count)
   {

    textlength = edittext.getText().length();
    text_sort.clear();
    image_sort.clear();

    for (int i = 0; i < text.length; i++)
    {
     if (textlength <= text[i].length())
     {
      if (edittext.getText().toString().
   equalsIgnoreCase((String) text[i].subSequence(0, textlength)))
      {

      }
     }
    } 
```

我得到了上面的代码，`search functionality`但我需要用户何时`search any keyword`检查`array list`，如果它在那里，它将返回到该页面，否则它将显示`no data found`！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:36:51.147

安装了 EditText 使用`AutoCompleteTextView`

[AutoCompleteTextView](https://stackoverflow.com/questions/15804805/android-actionbar-searchview-as-autocomplete/15877582#15877582)：这里我在 ActionBar 中使用了它。你也可以在活动中使用它。它非常简单。

有关更多详细信息，请查看这篇[文章](https://developers.google.com/places/training/autocomplete-android)和[代码](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)。

对于 Actionbar，您必须在代码中添加**android-suport-v4.jar**文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:52:35.467

[您应该尝试使用在 ActionBar](http://developer.android.com/guide/topics/search/search-dialog.html)中使用 SearchView 的 android 功能

还有它的兼容性提供了[Collapsable SearchView](http://johnkil.github.io/Android-CollapsibleSearchMenu/)

以下是您可以从`ArrayList`试用中实现搜索的方式：

> ```
>  public class SearchActivity extends ListActivity
>    {
>      private ArrayAdapter<String> m_arrayAdapter;
>      private SearchView m_searchView;
> @Override
> protected void onCreate(Bundle p_savedInstanceState)
> {
>     super.onCreate(p_savedInstanceState);
>     // setContentView(R.layout.search);
>     m_arrayAdapter =
>             new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, m_items);
>     setListAdapter(m_arrayAdapter);
> }
> public boolean onCreateOptionsMenu(android.view.Menu menu)
> {
>     // MenuInflater inflater = getMenuInflater();
>     // inflater.inflate(R.menu.activity_main, menu);
>     getMenuInflater().inflate(R.menu.activity_main, menu);
>     m_searchView = (SearchView) menu.findItem(R.id.menu_search).getActionView();
>     m_searchView.setSubmitButtonEnabled(true);//Set the submit button on search view.
>     // Associate searchable configuration with the SearchView
>     // SearchManager searchManager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);
>     // SearchView searchView = (SearchView) menu.findItem(R.id.menu_search).getActionView();
>     // searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));
>     m_searchView.setOnQueryTextListener(new OnQueryTextListener()
>     {
>         @Override
>         public boolean onQueryTextSubmit(String p_query)
>         {
>             m_arrayAdapter.getFilter().filter(p_query);
>             return true;
>         }
>         @Override
>         public boolean onQueryTextChange(String p_newText)
>         {
>             m_arrayAdapter.getFilter().filter(p_newText);
>             return false;
>         }
>     });
>     return true;
> };
> String[] m_items = new String[] { "China", "India", "United States", "Indonesia", "Brazil",
>         "Pakistan", "Nigeria", "Bangladesh", "Russia", "Japan", "Mexico", "Philippines",
>         "Vietnam", "Ethiopia", "Egypt", "Germany", "Iran", "Turkey",
>         "Democratic Republic of the Congo", "Thailand", "France", "United Kingdom", "Italy",
>         "South Africa", "Myanmar", "South Korea", "Colombia", "Spain", "Ukraine", "Tanzania",
>         "Kenya", "Argentina", "Poland", "Algeria", "Canada" };
>   } 
> ```

# c++ - 当通过快捷方式访问主应用程序时，为什么 SDL 不加载我的图像？

> ID：16008965
> 
> 赞同：0
> 
> 时间：2013-04-15T06:32:01.997
> 
> 标签：c++, image, sdl, shortcut

我最近使用 C++ 和 SDL 库创建了一个程序。最初，所有图像和 DLL 都与主应用程序位于同一文件夹中。我想让主应用程序更容易找到，所以我将所有图像移到了它们自己的文件夹中，并修改了我的源代码以在正确的文件夹中找到它们。到目前为止，一切都很好。主应用程序仍保留在与 DLL 相同的文件夹中。

我创建了主应用程序的快捷方式并将其放在自己的文件夹中。我将目标更改为**%windir%\system32\cmd.exe /q/c start "" ""%SystemRoot%\explorer.exe %UserProfile%\Desktop\Cupcake Corner Build 2.0 (exe test)\dependecies\Cupcake Corner。 exe”**以尝试创建通用快捷方式，以便该快捷方式适用于我将文件发送到的任何用户。

毕竟，我遇到了一个问题。如果我打开主应用程序本身，它将加载图像并完美运行。如果我尝试通过其快捷方式访问主应用程序，则窗口将正确打开并显示正确的标题，尽管不会加载任何图像。我尝试移动一些文件，看看如果我将资源文件夹放在其他地方，快捷方式是否会看到它们，但到目前为止还没有运气。

图片在这里 -> C:\Users\Admin\Desktop\Cupcake Corner Build 2.0\dependecies\resources
main app/dlls 这里 -> C:\Users\Admin\Desktop\Cupcake Corner Build 2.0\dependecies\
快捷方式在这里 -> C: \Users\Admin\Desktop\Cupcake Corner Build 2.0\

我正在使用 Microsoft Visual Studio Express 2010。我认为这与我在项目选项中设置项目目录的方式有关，但在这一点上我真的很困惑。谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:02:36.157

通常，在处理应用程序中的文件时（至少应用程序内部知道），您将需要绝对路径。

解决此问题的最佳方法是使用（一组）添加绝对路径的函数（通过[`GetModuleFilename(0, ...)`](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms683197%28v=vs.85%29.aspx)或从某些配置中找到，例如在注册表中）

std::string myfiles_root_path = FindMyFilesRootPath();

std::string MakeFullPath(const std::string &filename) { return myfiles_root_path + filename; }

该函数`FindMyFilesRootPath()`使用上述方法之一来查找适当的路径，并且`filename`是应用程序本地文件的名称。

# java - 奇怪的 Java Unicode 正则表达式 StringIndexOutOfBoundsException

> ID：16008974
> 
> 赞同：14
> 
> 时间：2013-04-15T06:32:29.977
> 
> 标签：java, regex, unicode

我的问题很简单但令人费解。可能是有一个简单的开关可以解决这个问题，但我在 Java 正则表达式方面没有太多经验......

```
String line = "";
line.replaceAll("(?i)(.)\\1{2,}", "$1"); 
```

这崩溃了。如果我卸下`(?i)`开关，它就可以工作。这三个 unicode 字符不是随机的，它们是在一个大韩文文本中发现的，但我不知道它们是否有效。

奇怪的是，正则表达式适用于除此之外的所有其他文本。为什么我会收到错误消息？

这是我得到的例外

```
Exception in thread "main" java.lang.StringIndexOutOfBoundsException: String index out of range: 6
    at java.lang.String.charAt(String.java:658)
    at java.lang.Character.codePointAt(Character.java:4668)
    at java.util.regex.Pattern$CIBackRef.match(Pattern.java:4846)
    at java.util.regex.Pattern$Curly.match(Pattern.java:4125)
    at java.util.regex.Pattern$GroupTail.match(Pattern.java:4615)
    at java.util.regex.Pattern$CharProperty.match(Pattern.java:3694)
    at java.util.regex.Pattern$GroupHead.match(Pattern.java:4556)
    at java.util.regex.Pattern$Start.match(Pattern.java:3408)
    at java.util.regex.Matcher.search(Matcher.java:1199)
    at java.util.regex.Matcher.find(Matcher.java:592)
    at java.util.regex.Matcher.replaceAll(Matcher.java:902)
    at java.lang.String.replaceAll(String.java:2162)
    at tokenizer.Test.main(Test.java:51) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T09:53:15.950

您提到的字符实际上是“[双字节字符](http://en.wikipedia.org/wiki/DBCS)”。这意味着两个字节形成一个字符。但是对于 Java 来解释这一点，编码信息（*当它与默认平台编码*不同时）需要显式传递（*否则将使用默认平台编码*）。

为了证明这一点，请考虑以下

```
String line = "";
System.out.println(line.length()); 
```

这将**长度打印为 6**！而我们只有三个角色，

现在下面的代码

```
String line1 = new String("".getBytes(),"UTF-8");
System.out.println(line1.length()); 
```

**将长度**打印为预期的 3。

如果你换行

```
String line = ""; 
```

和

```
 String line1 = new String("".getBytes(),"UTF-8"); 
```

**它有效，正则表达式不会失败**。我在这里使用了 UTF-8。请使用您预期平台的适当编码。

Java 正则表达式库严重依赖于[字符序列](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/CharSequence.html)，而字符序列又依赖于编码方案。对于字符编码与默认编码不同的字符串，无法正确解码字符（它显示 6 个字符而不是 3 个！），因此正则表达式失败。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T19:16:25.570

Santosh 在[此答案](https://stackoverflow.com/a/16012272/365237)中的解释是不正确的。这可以通过运行来证明

```
String str = "";
System.out.println("code point: " + .codePointAt(0)); 
```

这将输出（至少对我而言）值 128149，[此页面](http://www.isthisthingon.org/unicode/index.php?page=1F&subpage=4&glyph=1F495)已确认该值是正确的。所以Java不会以错误的方式解释字符串。使用 getBytes() 方法时，它确实解释错了。

但是，正如 OP 所解释的那样，正则表达式似乎崩溃了。我没有其他解释，因为它是java中的一个错误。要么，要么它在设计上不完全支持 UTF-16。

编辑：

基于[这个答案](https://stackoverflow.com/a/5771326/365237)：

> 正则表达式编译器搞砸了 UTF-16。同样，这永远无法修复，否则它将改变旧程序。您甚至无法通过使用 java -encoding UTF-8 编译来解决 Java 的 Unicode-in-source-code 问题的正常解决方法来解决该错误，因为愚蠢的东西将字符串存储为讨厌的 UTF-16，这必然会破坏它们字符类。哎呀！

这似乎是java中正则表达式的限制。

* * *

既然你这么评论

> 如果我可以简单地忽略 UTF-16 字符并应用正则表达式而不是抛出异常，那将是最好的。

这当然可以做到。一种直接的方法是将您的正则表达式仅应用于某个范围。[此答案](https://stackoverflow.com/questions/12013341/removing-characters-of-a-specific-unicode-range-from-a-string)中已解释了过滤 unicode 字符范围。基于该答案，该示例似乎并没有令人窒息，而只是将问题字符留在了原处：

```
line.replaceAll("(?Ui)([\\u0000-\\uffff])\\1{2,}", "$1")    

// "" -> ""
// "foo  foo" -> "foo  foo"
// "foo aAa foo" -> "foo a foo" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-17T19:19:40.620

实际上，这只是一个错误。

这就是堆栈跟踪和开源的用途。

当`CIBackRef`（对于不区分大小写的反向引用）与组进行比较时，它不会正确地碰撞循环索引。这显示了修复：

```
 // Check each new char to make sure it matches what the group
        // referenced matched last time around
        int x = i;
        for (int index=0; index<groupSize; ) {
            int c1 = Character.codePointAt(seq, x);
            int c2 = Character.codePointAt(seq, j);
            if (c1 != c2) {
                if (doUnicodeCase) {
                    int cc1 = Character.toUpperCase(c1);
                    int cc2 = Character.toUpperCase(c2);
                    if (cc1 != cc2 &&
                        Character.toLowerCase(cc1) !=
                        Character.toLowerCase(cc2))
                        return false;
                } else {
                    if (ASCII.toLower(c1) != ASCII.toLower(c2))
                        return false;
                }
            }
            int n = Character.charCount(c1);
            x += n;
            index += n;  // was index++
            j += Character.charCount(c2);
        } 
```

`groupSize`是组的总 charCount。`j`是引用组的索引。

考试

```
 //9ff0 9592 9ff0 9592 9ff0 9592
  val line = "\ud83d\udc95\ud83d\udc95\ud83d\udc95"
  Console println Try(line.replaceAll("(?ui)(.)\\1{2,}", "$1")) 
```

正常失败

```
apm@mara:~/tmp$ skalac kcharex.scala ; skala kcharex.Test
Failure(java.lang.StringIndexOutOfBoundsException: String index out of range: 6) 
```

但修复成功

```
apm@mara:~/tmp$ skala -J-Xbootclasspath/p:../bootfix kcharex.Test
Success() 
```

原始示例代码中的另一个错误是内联标志应该包括`?ui`. 上的 javadoc`Pattern.CASE_INSENSITIVE`说：

> 默认情况下，不区分大小写的匹配假定仅匹配 US-ASCII 字符集中的字符。可以通过将 UNICODE_CASE 标志与此标志一起指定来启用 Unicode 感知的不区分大小写匹配。

正如您从代码片段中看到的那样，`u`如果没有 ASCII.toLower 不比较相等，它只会失败，这不是故意的。我不够老练，不知道有一个补充字符会在不编写代码来解决的情况下通过该测试。

# jquery - 如何使用 jquery 替换 ViewData 中 div id 的内容

> ID：16008977
> 
> 赞同：0
> 
> 时间：2013-04-15T06:32:34.993
> 
> 标签：jquery, asp.net-mvc

我想在我的 div 中访问 viewdata["id"] 的值。

```
<!-- Viewpage -->
<div id='@ViewData["id"]'> old contents </div> 
```

```
//Script 
var contents="div new contents are here";
$("??  .content").html(contents); // i want to replace the @ViewData["id"] contents 
```

任何人都可以帮忙试试这个..

提前致谢..

问候cooldharma06

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:49:37.477

你不必那样做

```
<div id='@ViewData['@ViewData["id"]'> old contents </div> 
```

只需用 命名 div`ViewData`并通过其类访问其 html 元素获取值

例如

```
<div id="@ViewData["id"]" class="FieldData"> old contents </div> 
```

并从 jquery 中获取值

```
$(document).ready(function (){
var a = $(".FieldData").attr("id");
/// do other stuff here
// for changing the content within the div you can do
$(".FieldData").html("/* new content here*/");
// for changing the id of div(replacing the id of div)
$(".FieldData").attr("id","/*new id*/");   
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:49:48.923

你可以试试这个：

```
var content="div new contents are here";
$('[id^="@ViewData"]').html(content); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:44:09.300

不确定这里有什么困扰您？不管你的“id”是什么，你在jquery中需要做的就是在“#”之后附加id（最好是元素的类型，比如'div'），然后调用“html”方法。

为此，您需要的只是这样的：

```
$('div#@ViewData["id"]').html("New Content"); 
```

# ruby - 如何在 ruby 中设置 header['content-type']='application/json'

> ID：16008978
> 
> 赞同：8
> 
> 时间：2013-04-15T06:32:37.527
> 
> 标签：ruby, rest, net-http

```
require 'net/http'

require 'rubygems'

require 'json'

url = URI.parse('http://www.xyxx/abc/pqr')

resp = Net::HTTP.get_response(url) # get_response takes an URI object

data = resp.body

puts data 
```

这是我在 ruby​​ 中的代码，resp.data 以 xml 形式给我数据。

rest api 默认返回 xml 数据，如果 header content-type 是 application/json 则返回 json。

但我想要 json 格式的数据。为此我必须设置 header['content-type']='application/json'。

但我不知道，如何使用 get_response 方法设置标头。获取 json 数据。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-15T08:17:52.240

```
def post_test
  require 'net/http'
  require 'json'
  @host = '23.23.xxx.xx'
  @port = '8080'
  @path = "/restxxx/abc/xyz"

  request = Net::HTTP::Get.new(@path, initheader = {'Content-Type' =>'application/json'})
  response = Net::HTTP.new(@host, @port).start {|http| http.request(request) }

  puts "Response #{response.code} #{response.message}: #{response.body}"
end 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T06:48:39.863

使用实例方法[`Net::HTTP#get`](http://ruby-doc.org/stdlib-2.0/libdoc/net/http/rdoc/Net/HTTP.html#method-i-get)修改 GET 请求的标头。

```
require 'net/http'

url = URI.parse('http://www.xyxx/abc/pqr')
http = Net::HTTP.new url.host
resp = http.get("#{url.path}?#{url.query.to_s}", {'Content-Type' => 'application/json'})
data = resp.body
puts data 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-01-04T09:36:27.470

你可以简单地这样做：

```
uri = URI.parse('http://www.xyxx/abc/pqr')
req = Net::HTTP::Get.new(uri.path, 'Content-Type' => 'application/json')

res = Net::HTTP.new(uri.host, uri.port).request(req) 
```

# java - 将数组的值从 javascript 获取到 java 作为列表

> ID：16008981
> 
> 赞同：0
> 
> 时间：2013-04-15T06:32:50.373
> 
> 标签：java, javascript, arrays, list, dwr

```
var catids = new Array(); 
```

我有一个 catids 数组，我在其中存储选中的复选框值，如下所示。

```
cat = $("input[name=catChkBox]:checked").map(function () {
  return $(this).data('name');
  }).get().join(","); 
```

cat 变量形成这样的 1,2,3..

我想将此“猫”发送到 java 方法并打印这些值。

我通过这样的 dwr 调用将值传递给 java

```
 DataHandler.getTasks( categories, {callback:function(data){
  }, errorHandler:function(){
  },async:false
   }); 
```

我已经为 pojo 配置了 dwr。我应该为参数配置任何东西吗？

我尝试了下面的代码，但我没有得到任何东西。

```
public List<Facade> getTasks(String myIds){
 String[] ids = catids .split(",");
 System.out.println("-------size of cat id------------" + myIds.length);
 for (int i=0; i<myIds.length;i++)
 System.out.println(myIds[i]); 
```

//最后它将返回一个pojo，它将在dwr调用的数据中接收它。

--------猫 id 的大小------------ 为 1 myIds[i] 不打印任何内容

我需要它作为一个整数回来。我在做什么错？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:38:13.967

我会这样做。

1.  JavaScript 像这样创建 json 对象`{"categoryIds": [1,2,3,4,5]}`
2.  Java 转换器将 json 转换为 java POJO 对象，例如使用[Gson](https://code.google.com/p/google-gson/)或[Jackson](http://jackson.codehaus.org/)库将 json 转换为 java POJO 对象。
3.  转换后，您可以使用具有类别列表的 java POJO 对象。

如果您使用此解决方案，您的代码将更加清晰，并且您将能够使用相同的清晰解决方案在 JavaScript 和 Java 之间共享更多对象。

示例（伪代码）

分类列表类

```
public class CategoryList {
    private ArrayList<Category> categoryList;
    // getters and setters
} 
```

转换器

```
public class CategoryListConverter {
    public CategoryList convert(String json) {
        Gson g = new Gson();
        CategoryList cl = g.fromJson(json, CategoryList.class);

        return cl;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:37:04.780

我尝试了它工作正常的代码

```
 getTasks("1,2,3"); 
```

检查 categoryIds 的值发送到 getTask

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:39:49.770

将此作为`form parameter`来自网页的发送。然后从`HttpServletRequest request`java中的对象获取这个。

```
request.getParameter('categoryId'); 
```

# ios - IOS fb邀请已发送但未显示在用户墙上

> ID：16008985
> 
> 赞同：1
> 
> 时间：2013-04-15T06:33:05.667
> 
> 标签：ios, facebook-graph-api, apprequests, facebook-app-requests, facebook-invite

我正在从我的应用程序向 fb 朋友发送请求，但我没有在我发送请求的 fb 用户的墙上收到任何通知？

我正在使用 FB SDK 3.2（我希望它是最新的）

以下是我用来发送请求的代码

```
NSMutableDictionary* params =   [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                     friendList, @"to",
                                     nil];
    [FBWebDialogs presentRequestsDialogModallyWithSession:nil
        message:[NSString stringWithFormat:@"I just smashed %d friends! Can you beat it?", 15]
        title:@"Total Smashed Score"
        parameters:params
        handler:^(FBWebDialogResult result, NSURL *resultURL, NSError *error) {
            if (error) {
                // Case A: Error launching the dialog or sending request.
                NSLog(@"Error sending request.");
            } else {
                if (result == FBWebDialogResultDialogNotCompleted) {
                    // Case B: User clicked the "x" icon
                    NSLog(@"User canceled request.");
                } else {
                    NSLog(@"Request Sent.");
                }
            }
        }
     ]; 
```

请求对话框正确显示，当我单击发送按钮时，邀请已发送但未显示在用户墙上。任何类型的帮助将不胜感激。

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-28T13:14:59.593

邀请永远不会显示在用户的墙上/时间线上。只有他们被发送到的用户才能私下查看。将显示在“[请求”页面上](http://www.facebook.com/appcenter/requests)或作为通知用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-26T06:18:29.520

这是我的解决方案

```
//friendlist = NSString of fb id's

NSMutableDictionary* params =   [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                     friendList, @"to",
                                     nil];
    [FBWebDialogs presentRequestsDialogModallyWithSession:nil
        message:[NSString stringWithFormat:@"message!"]
        title:@"title"
        parameters:params
        handler:^(FBWebDialogResult result, NSURL *resultURL, NSError *error) {
            if (error) {
                // Case A: Error launching the dialog or sending request.
                NSLog(@"Error sending request.");
            } else {
                if (result == FBWebDialogResultDialogNotCompleted) {
                    // Case B: User clicked the "x" icon
                    NSLog(@"User canceled request.");
                } else {
                    NSDictionary *urlParams = [self parseURLParams:[resultURL query]];
                    if (![urlParams valueForKey:@"request"]) {
                        // User clicked the Cancel button
                        NSLog(@"User clicked cancel button.");
                    } else {
                        nslog("succesfully sent invites");
                    }
                }
            }
        }
     ]; 
```

# jquery - 如何在 jQuery 中将 .live 转换为 .on

> ID：16008991
> 
> 赞同：-4
> 
> 时间：2013-04-15T06:33:38.777
> 
> 标签：jquery

我想转换`.live`为使用不多的`.on`方法，`.live`但我无法转换它。请帮我改一下。

```
$(".delete").live('click', function () {
    var id = $(this).attr('id');
    var b = $(this).parent().parent();
    var dataString = 'id=' + id;
    if (confirm("Sure you want to delete this update?")) {
        $.ajax({
            type: "POST",
            url: "delete.php",
            data: dataString,
            cache: false,
            success: function (e) {
                b.hide();
                e.stopImmediatePropagation();
            }
        });
        return false;
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:44:23.597

改变：

```
$(".delete").live('click',function() 
```

至：

```
$("body").on('click', '.delete', function () { 
```

解决方案：

```
$("body").on('click', '.delete', function () {
    var id = $(this).attr('id');
    var b = $(this).parent().parent();
    var dataString = 'id=' + id;
    if (confirm("Sure you want to delete this update?")) {
        $.ajax({
            type: "POST",
            url: "delete.php",
            data: dataString,
            cache: false,
            success: function (e) {
                b.hide();
                e.stopImmediatePropagation();
            }
        });
        return false;
    }
}); 
```

另请参阅[jQuery 1.9 .live() 不是函数](https://stackoverflow.com/a/14354091/584192)和[jQuery - 如何使用“on()”方法而不是“live()”？](https://stackoverflow.com/a/14703668/584192)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:35:18.007

```
$(".delete").live('click',function() 
```

可以转换为

```
$(document).on('click', ".delete", function() 
```

[文档](http://api.jquery.com/on/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:35:59.607

```
$("#someArbitraryContextNode").on('click',".delete",function(){}); 
```

# java - Java Android 增强现实应用程序图像坐标

> ID：16008992
> 
> 赞同：3
> 
> 时间：2013-04-15T06:33:47.813
> 
> 标签：java, android, augmented-reality

我目前是增强现实编程的新手，我想问一个关于 cameraView 的问题。我的目标是在特定的现实坐标处显示一个可点击的 imageButton 并将其显示在 cameraView 中。在这种情况下，我想在我的 cameraView（这是一个世界）中显示的东西是我的按钮。在我决定调用它的使用权限很麻烦之前，我尝试使用 Wikiitude/AndAR/Layar API，而我目前正在使用 DroidAR 作为库和参考。但是我似乎无法找到正确显示我想要的内容的方法。我想就这个问题寻求帮助。请告诉我或指导我实现它的正确方法。非常感谢 ！以下是我当前使用 droidAR 库 SDK 的代码。

```
public class DisplayAR extends Setup {
private static final float MIN_DIST = 15f;
private static final float MAX_DIST = 55f;

private Button b = null;
protected static final String LOG_TAG = "StaticDemoSetup";

World world;
GLCamera camera;

private TimeModifier timeModifier;

@Override
public void _a_initFieldsIfNecessary() {

    // allow the user to send error reports to the developer:
}

@Override
public void _b_addWorldsToRenderer(GL1Renderer renderer,
        GLFactory objectFactory, GeoObj currentPosition) {

    camera = new GLCamera(new Vec(0, 0, 1));
    world = new World(camera);

    timeModifier = new TimeModifier(1);
    RenderList l = new RenderList();
    timeModifier.setChild(l);
    world.add(timeModifier);

    initI9Tests(world);

    addTestGeoObj(world, camera);

    renderer.addRenderElement(world);

}

private void addTestGeoObj(World w, GLCamera c) {
    GeoObj o = new GeoObj();
    w.add(o);
}

private void initI9Tests(World w) {

    {
        // transform android ui elements into opengl models:
        b = new Button(getActivity());
        b.setText("L.311");

        MeshComponent button = GLFactory.getInstance().newTexturedSquare("buttonId", IO.loadBitmapFromView(b));
        button.addChild(new AnimationFaceToCamera(camera, 0.5f));
        button.setScale(new Vec(10, 10, 10));
        button.setColor(Color.red());
        button.setOnClickCommand(new CommandShowToast(getActivity(), "THIS IS L.311"));
        GeoObj treangleGeo = new GeoObj();
        treangleGeo.setVirtualPosition(new Vec(MIN_DIST, MAX_DIST, 0.0f));
        treangleGeo.setComp(button);
        w.add(treangleGeo);
    }
}

@Override
public void _c_addActionsToEvents(EventManager eventManager,
        CustomGLSurfaceView arView, SystemUpdater updater) {

    ActionWASDMovement wasdAction = new ActionWASDMovement(camera, 25f,
            50f, 20f);
    ActionRotateCameraBuffered rotateAction = new ActionRotateCameraBuffered(
            camera);

    eventManager.addOnLocationChangedAction(new ActionCalcRelativePos(
            world, camera));

    updater.addObjectToUpdateCycle(wasdAction);
    updater.addObjectToUpdateCycle(rotateAction);

    arView.addOnTouchMoveAction(wasdAction);
    eventManager.addOnOrientationChangedAction(rotateAction);

    eventManager.addOnTrackballAction(new ActionMoveCameraBuffered(camera,
            5, 25));

}

@Override
public void _d_addElementsToUpdateThread(SystemUpdater worldUpdater) {
    // add the created world to be updated:
    worldUpdater.addObjectToUpdateCycle(world);

}

@Override
public void _e2_addElementsToGuiSetup(GuiSetup guiSetup, Activity activity) {

    guiSetup.setBottomMinimumHeight(50);
    guiSetup.setBottomViewCentered();

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:44:45.110

尝试在 www.wikitude.com 上使用 wikiitude 库进行增强现实它有示例 simpleArbrowser 是你想要的

# php - PHP - 动态下拉列表并将值提取/插入到不同的表中

> ID：16008993
> 
> 赞同：0
> 
> 时间：2013-04-15T06:33:49.690
> 
> 标签：php, drop-down-menu

需要帮助的人...

我创建了一个表单，用户可以在其中输入名字和姓氏，然后发送到数据库。

然后，

我创建了一个动态下拉列表，用户可以在其中选择职位或注册年份等项目。所选选项将与用户的名字一起存储到不同的表中

和姓氏。

虽然我能够从我的数据库中填充下拉列表。如何获取价值

从下拉列表中将其与提交的表单一起插入到不同的表中。

这是我的代码。请帮助... tnx

```
<html>
<head>
<title>NEW EMPLOYEE</title>

<?php

    mysql_connect("localhost","root","");
    $db1 = "emp_db1";
    $t3 ="emp_table";
    mysql_query("create database $db1");
    mysql_select_db($db1);
    mysql_query("create table $t3(id int not null auto_increment primary key,fname varchar(50),lname varchar(50),mname varchar(50),post_name varchar(50)) engine = InnoDB");

?>

</head>

<BODY bgcolor ="pink">

<?php

    if(isset($_POST['submit'])){
    $fname =$_POST['fname'];
    $lname =$_POST['lname'];
    $mname =$_POST['mname'];
    $post_name =$_POST['post_name'];
    $submit=$_POST['submit'];

    error_reporting(E_ALL ^ E_NOTICE);

    mysql_query("INSERT INTO emp_table(fname,lname,mname,post_name) VALUES('$fname','$lname','$mname','$post_name')");

    }

?>

<form name="add_data" method="post" target="<?php $_SERVER['PHP_SELF']?>">

    Register New Employee <br/><br/>
    First Name:<input size = "20" type="text" name="fname"/>
    Middle Name:<input size = "20" type="text" name="mname"/>
    Last Name:<input size = "20" type="text" name="lname"/><br/>
    Job Position List:
        <select name='post_name'>
        <option value="">--- Select ---</option>
        <?php
            if (isset ($db1)&&$db1!=""){

            }
        ?>
        <?php
            $list=mysql_query("select * from post_table order by id asc");

            //Warning: mysql_fetch_assoc() expects parameter 1 to be resource, boolean given in C:\wamp\www\testA\index.php on line 56
            while($row_list=mysql_fetch_assoc($list)){
        ?>
                <option value="<?php echo $row_list['id']; ?>"<?php if($row_list['id']==$db1){echo "selected"; } ?>>
                                     <?php echo $row_list['post_name'];?>
                </option>
            <?php
            }
            ?>
        </select>

    <input type="submit" name="submit" value="REGISTER" />

   </form>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:23:01.077

一篇文章就有很多问题和问题:)

1.  在脚本开头创建一个新表似乎不是一个好主意。

2.  这些`mysql_*`功能已弃用。请参阅以下警告：[https ://www.php.net/manual/en/function.mysql-query.php](https://www.php.net/manual/en/function.mysql-query.php)

3.  `<form target="...">`如果您希望表单回发到相同的 URL，则不需要该属性。

4.  对于实际问题：看起来您实际上已经准备好所有代码。它只是需要一些改进。有什么特定的东西不适合你吗？

应该做什么：

*   插入数据后重定向到“成功”页面。除非您想留在提交路径上以允许另一个插入。但是您至少应该插入一个带有“成功”消息的段落（例如在表格上方）。
*   字段的验证。
*   一些错误处理。

另见问题：

*   [PHP - 在回发中保留表单值的最佳实践](https://stackoverflow.com/q/4565004/850848)
*   [处理表单处理的最佳实践](https://stackoverflow.com/q/2975306/850848)

# c - 奇怪的c函数语法

> ID：16008994
> 
> 赞同：3
> 
> 时间：2013-04-15T06:33:51.290
> 
> 标签：c, linux, windows, syntax

到目前为止，我知道我的 C。我正在查看我下载的 PHP 的源文件，我看到了这个奇怪的语法：

```
PHPAPI int php_printf(const char *format, ...)
{
    // code...
} 
```

`PHPAPI`返回类型之前做什么`int`？我已经尝试过搜索，但我无法理解这意味着什么。它是第二种返回类型吗？不可能是因为该函数确实返回了一个 int。也许它扩展到头文件中声明的其他结构？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T06:45:29.500

## 艰难的道路：

转到makefile并添加编译源代码的行：`-E`，通过这样做，您将在预处理阶段之后看到源代码。

## 简单的方法：

在所有项目中搜索`PHPAPI`：

[在php.h](http://www.opensource.apple.com/source/apache_mod_php/apache_mod_php-4.3/php/main/php.h)中找到它：

```
#ifdef PHP_WIN32
#include "win95nt.h"
#   ifdef PHP_EXPORTS
#   define PHPAPI __declspec(dllexport) 
#   else
#   define PHPAPI __declspec(dllimport) 
#   endif
#define PHP_DIR_SEPARATOR '\\'
#else
#define PHPAPI
#define THREAD_LS
#define PHP_DIR_SEPARATOR '/'
#endif 
```

现在你需要知道的是什么是什么`__declspec(dllexport)`，什么是`__declspec(dllimport)`

在 SO 线程[中 - 什么是 __declspec 以及何时需要使用它？](https://stackoverflow.com/questions/2284610/what-is-declspec-and-when-do-i-need-to-use-it)

见[Alexander Gessler 的回答](https://stackoverflow.com/a/2284630/1031417)：

> 典型的例子是`__declspec(dllimport)`and `__declspec(dllexport)`，它指示链接器从 DLL 导入和导出（分别）符号。
> 
> ```
> // header
> __declspec(dllimport) void foo();
> 
> // code - this calls foo() somewhere in a DLL
> foo(); 
> ```
> 
> （`__declspec(..)`只是包装了微软的特定东西——为了实现兼容性，通常会用宏把它包装起来）

# url-rewriting - 从子目录在 asp.net 中重写 URL

> ID：16008995
> 
> 赞同：0
> 
> 时间：2013-04-15T06:33:51.840
> 
> 标签：url-rewriting

谁能告诉我，如何在 asp.net 4.0 中重定向 url，我有一个基于 http 的 url，起始页调用 Home.aspx 在目录内。我只想使用 domainname.com 。请建议我如何处理这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:35:41.853

您不需要为此重写 URL。

`Administrative Tools -> IIS Manager -> You server name -> Your site name -> Under HTTP features -> Default document -> Add "Home.aspx"`

或通过 Web.config

```
<configuration>
  <system.webServer>
    <defaultDocument>
      <files>
        <add value="Home.aspx" />
      </files>
    </defaultDocument>
  </system.webServer>
</configuration> 
```

# java - 识别java中的注解类

> ID：16008997
> 
> 赞同：0
> 
> 时间：2013-04-15T06:34:02.457
> 
> 标签：java, reflection, annotations

我有一个实用程序可以扫描类路径中的不同类，并检查未使用的类。

有些类需要特殊处理，如接口和抽象类。这些可以使用反射轻松识别。当试图识别一个类是注释类（即@interface）时，就会出现问题。是否有可能知道一个类是否真的是一个注释？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:05:08.783

是的.. 可以知道一个类是否真的是一个注释。请试试这个：

[http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#isAnnotation%28%29](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#isAnnotation%28%29)

[http://java.dzone.com/articles/discovering-java-annotations](http://java.dzone.com/articles/discovering-java-annotations)

它可以帮助你

# c# - 如何在 bing.com 的 windows phone 7 中注册我的文本转语音应用程序？

> ID：16008998
> 
> 赞同：0
> 
> 时间：2013-04-15T06:34:03.040
> 
> 标签：c#, windows-phone-7

我的要求是 Windows Phone 7 中的文本到语音。所以我在 google 中搜索并找到了链接，然后我尝试在 bing.com/developers 页面上注册，但它去了一些地方

我已尝试使用此网页链接，但它会转到 Windows azure 页面。

[http://www.bing.com/developers/appids.aspx](http://www.bing.com/developers/appids.aspx)

我已经按照本教程进行操作。

[http://www.codeproject.com/Articles/259727/Text-to-speech-in-windows-phone7](http://www.codeproject.com/Articles/259727/Text-to-speech-in-windows-phone7)

或者请向我建议任何有用的链接来解决这个问题。

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-25T19:09:18.913

我刚刚使用[带有 Microsoft Translator Service 的 Text-To-Speech向](http://translatorservice.codeplex.com/)[我的 Windows Phone 7 应用程序](http://www.windowsphone.com/s?appid=013fb625-cce4-4bc4-a577-1a183073a644)（嗯，测试版）添加了简单的文本到语音转换功能。

您可以从他们的网站[NuGet](http://www.nuget.org/packages/translatorservice.speech)或从 Visual Studio 中下载它（这就是我找到它的方式 - 管理 NuGet 包 - 搜索“文本转语音”）。

这是一些开始的 C# 代码...

```
// required for SpeechSynthesizer
using TranslatorService.Speech;

namespace AppName
{
    public partial class MainPage : PhoneApplicationPage
    {
        private void TextToSpeech_Play(object sender, EventArgs e)
        {
            SpeechSynthesizer speech = new SpeechSynthesizer(CLIENT_ID, CLIENT_SECRET);
            speech.SpeakAsync("This is a beautiful day!");
        }
    }
} 
```

要使用此库，您需要转到 [Azure DataMarket](https://datamarket.azure.com/developer/applications)并注册您的应用程序以获取使用该服务所需的客户端 ID 和客户端密码。您还需要访问 [https://datamarket.azure.com/dataset/1899a118-d202-492c-aa16-ba21c33c06cb](https://datamarket.azure.com/dataset/1899a118-d202-492c-aa16-ba21c33c06cb)并订阅 Microsoft 翻译服务。根据每月的字符数量，有很多选项。该服务每月最多免费提供 200 万个字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-11T19:45:19.513

刚刚偶然发现这个问题。它很旧，但我认为您不需要 Bing。Bing 语音控件是我将用于语音到文本的东西，但你说你想要文本到语音。这可以通过使用 SpeechSynthesizer 在 Windows 手机上轻松完成。请在此处查看本教程：http: [//msdn.microsoft.com/en-us/library/windowsphone/develop/jj207057 (v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207057(v=vs.105).aspx)

# android - Android SDK 3.0：请求发布权限会导致再次登录

> ID：16008999
> 
> 赞同：0
> 
> 时间：2013-04-15T06:34:03.987
> 
> 标签：android, facebook-android-sdk

当我尝试通过 facebook 对话框登录后请求发布权限（未安装 fb 应用程序）时，我被要求再次登录，之后一切正常运行。有没有办法避免这个问题？这是我的代码：

```
private void login() {
        Session.Builder builder = new Session.Builder(activity);
        builder.setApplicationId(activity.getString(R.string.app_id));
        builder.setTokenCachingStrategy(new SharedPreferencesTokenCachingStrategy(activity));
        Session session = builder.build();

        Session.setActiveSession(session);
        Session.OpenRequest request = new Session.OpenRequest(activity).setCallback(new Session.StatusCallback() {
            @Override
            public void call(Session session, SessionState state, Exception exception) {
                if (exception!=null) {
                    Toast.makeText(activity, exception.getMessage(), Toast.LENGTH_SHORT).show();
                    return;
                }
                if (session.isOpened())
                    checkAndRequestPermissions();
            }
        });
        session.openForRead(request);
    }

private void checkAndRequestPermissions() {
        Session session = Session.getActiveSession();
        List<String> permissionsList = new ArrayList<String>();
        if (!session.getPermissions().contains(USER_PHOTOS_PERMISSION))
            permissionsList.add(USER_PHOTOS_PERMISSION);
        if (!session.getPermissions().contains(PUBLISH_ACTIONS_PERMISSION))
            permissionsList.add(PUBLISH_ACTIONS_PERMISSION);
        if (permissionsList.size()>0) {
            Session.NewPermissionsRequest request = new Session.NewPermissionsRequest(activity, permissionsList);
            session.requestNewPublishPermissions(request);
        }
        else {
            publishOnFacebook(filesToPublish);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T12:40:42.010

好的，我已经弄清楚如何请求读取和发布权限。您应该使用 Session.openForPublish 方法：

```
 Session.Builder builder = new Session.Builder(activity);
        builder.setApplicationId(activity.getString(R.string.app_id));
        builder.setTokenCachingStrategy(new SharedPreferencesTokenCachingStrategy(activity));
        Session session = builder.build();

        List<String> permissionsList = new ArrayList<String>();
        if (!session.getPermissions().contains(USER_PHOTOS_PERMISSION))
            permissionsList.add(USER_PHOTOS_PERMISSION);
        if (!session.getPermissions().contains(PUBLISH_ACTIONS_PERMISSION))
            permissionsList.add(PUBLISH_ACTIONS_PERMISSION);

        Session.OpenRequest request = new Session.OpenRequest(activity).setCallback(new Session.StatusCallback() {
            @Override
            public void call(Session session, SessionState state, Exception exception) {
                if (exception!=null) {
                    Toast.makeText(activity, exception.getMessage(), Toast.LENGTH_SHORT).show();
                    return;
                }
                if (session.isOpened())
                    checkAndRequestPermissions();
            }
        });
        request.setPermissions(permissionsList);
        request.setLoginBehavior(SessionLoginBehavior.SUPPRESS_SSO);
        session.openForPublish(request); 
```

一切对我来说都很好