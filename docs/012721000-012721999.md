# StackOverflow 问答 12721000-12721999

# android - 有没有办法列出当前 Android 设备上可用的 XMLPullParser 功能？

> ID：12721001
> 
> 赞同：4
> 
> 时间：2012-10-04T05:48:25.717
> 
> 标签：android, xml-parsing, xmlpullparser

我正在使用 XMLPullParser 解析 XML，并且我想使用 XmlPullParser.FEATURE_PROCESS_DOCDECL 功能。这在我的 Galaxy Nexus / JB 上效果很好，但在带有 Froyo 的模拟器上，我得到一个“不支持的功能”异常。

该功能不是强制性的，但我想在可以的手机上使用它。有没有办法列出当前设备上的可用功能，或者如果某个功能不可用，则使 XmlPullParserFactory 不会崩溃，而只是忽略它？

**编辑**：这是我得到的确切错误以及我的代码

> 10-04 06:45:51.107：W/System.err(309)：org.xmlpull.v1.XmlPullParserException：无法创建解析器：org.kxml2.io.KXmlParser：org.xmlpull.v1.XmlPullParserException：不支持的功能： [http://xmlpull.org/v1/doc/features.html#process-docdecl](http://xmlpull.org/v1/doc/features.html#process-docdecl) （位置：START_DOCUMENT null@0:0）；10-04 06:45:51.137: W/System.err(309): 在 org.xmlpull.v1.XmlPullParserFactory.newPullParser(XmlPullParserFactory.java:199)

```
XmlPullParserFactory factory;
XmlPullParser xpp;

factory = XmlPullParserFactory.newInstance();
factory.setNamespaceAware(true);
factory.setFeature(XmlPullParser.FEATURE_PROCESS_DOCDECL, true);
factory.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES, true);
xpp = factory.newPullParser(); // Exception is thrown here 
```

# vb.net - 在 vb.net 中移动一些具有相同扩展名的文件

> ID：12721006
> 
> 赞同：2
> 
> 时间：2012-10-04T05:48:51.237
> 
> 标签：vb.net

第一个借口，因为我不是英语母语，甚至英语也不是我的第二语言。我想将一些扩展名为 .txt 的文件从一个文件夹（例如 F:\From）移动到另一个文件夹，例如。F:\到。使用 VB.net 我不想移动所有文件，但其中一些文件，例如 20 或 30 个，而将其他文件留在目标文件夹 (F:\To)。例如，120个文本文件在源文件夹（F:\From）中，我可以将其中一半移到目标文件夹（F:\To），另一半留在源文件夹，即两个中的每个文件夹（源和目标）应该有相同数量的文件。实际上，目标文件夹中的文件数量可能会发生变化，但我只想移动其中的一部分，而不是全部。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T08:22:20.030

你没有说哪个版本的 VB.NET。使用最新版本（.NET Framework 4.0），您可以执行以下操作：

```
Dim filesToMove = From f In New DirectoryInfo("F:\From").EnumerateFiles("*.txt") _
         Where <insert condition selecting the files to move>

For Each f In filesToMove
    f.MoveTo("F:\To")
Next 
```

您需要使用较旧的框架`.GetFiles`，为此目的，它具有不同的性能特征，如果您使用的是没有 LINQ 的旧 VB.NET，则需要类似：

```
For Each f In New DirectoryInfo("F:\From").GetFiles("*.txt")
  If Not <condition selecting files> Then _
    Continue For

  f.MoveTo("F:\To")
Next 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-06T07:23:01.253

谢谢马克赫德，你帮了我很好。我尝试了以下代码并且它有效：

```
 Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click

    Dim sourceDir = "F:\From"
    Dim destinationDir = "F:\To"

    ' get the filenames of txt files
    Dim SourceFiles = From f In Directory.GetFiles(sourceDir, "*.txt")
    Dim DestinationFiles = From f In Directory.GetFiles(destinationDir, "*.txt")

    'Calculate the difference in files between the two folders, and move files if the files
    'in source folder are more than the files of the destination folder
    Dim s As Integer
    s = SourceFiles.Count - DestinationFiles.Count

    'Find the remainder 
    Dim a = s Mod 2

    'If the remainder is zero, then divide the 
    If a = 0 Then
        Dim files = From f In Directory.GetFiles(sourceDir, "*.txt").Take(s / 2)

        If Not Directory.Exists(destinationDir) Then
            Directory.CreateDirectory(destinationDir)
        End If

        Dim n As Integer = 0
        For Each f In files

            File.Move(f, Path.Combine(destinationDir, Path.GetFileName(f)))
        Next
    Else
        Dim files = From f In Directory.GetFiles(sourceDir, "*.txt").Take((s + 1) / 2)
        If Not Directory.Exists(destinationDir) Then
            Directory.CreateDirectory(destinationDir)
        End If

        Dim n As Integer = 0
        For Each f In files

            File.Move(f, Path.Combine(destinationDir, Path.GetFileName(f)))
        Next
    End If
End Sub 
```

# c# - 如何通过使用 web 服务中的 where 条件获取特定记录？

> ID：12721008
> 
> 赞同：0
> 
> 时间：2012-10-04T05:49:04.340
> 
> 标签：c#, asp.net, sql-server, web-services

我想从网络服务返回特定记录。我仍然成功地做的是，通过以下代码获取所有记录：

```
 SqlConnection con;
    SqlDataAdapter adap;
    DataSet ds;
    [WebMethod]
    public DataSet Getmember()
    {

        con = new SqlConnection(@"Data Source=SQLDOTNET\MSSQLSERVER2008;Initial Catalog=doctor;Persist Security Info=True;User ID=sa;pwd=test123#;");
        adap = new SqlDataAdapter("select * from tblusers", con);
        ds = new DataSet();
        adap.Fill(ds, "tblusers");
        return ds;
    } 
```

现在我想通过 Emailid 获取特定记录，因为我尝试了以下代码：

```
SqlConnection con;
    SqlDataAdapter adap;
    DataSet ds;
    [WebMethod]
    public DataSet Getmember(String Emailid)
    {
        Emailid = "test@test.com";
        con = new SqlConnection(@"Data Source=SQLDOTNET\MSSQLSERVER2008;Initial Catalog=doctor;Persist Security Info=True;User ID=sa;pwd=test123#;");
        adap = new SqlDataAdapter("select * from tblusers where EmailAddress=" + Emailid, con);
        ds = new DataSet();
        adap.Fill(ds, "tblusers");
        return ds;
    } 
```

但是这段代码抛出了以下错误：

```
System.Data.SqlClient.SqlException: Invalid column name 'test@test.com'. 
```

请帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:53:33.853

改变

```
Emailid = "test@test.com"; 
```

至

```
Emailid = "'test@test.com'"; 
```

注意 emailid 周围的额外单引号

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:53:56.647

一开始你应该使用 SQL 参数......不是普通的 SQL 查询，所以最好检查[SQL 参数](http://www.csharp-station.com/Tutorial/AdoDotNet/lesson06)

```
adap = new SqlDataAdapter("select * from tblusers where EmailAddress=" + Emailid, con); 
```

应该改为

```
adap = new SqlDataAdapter("select * from tblusers where EmailAddress='" + Emailid + "'", con); 
```

你错过了在你的查询中有“'”..你最好看看[语句语法](http://www.codeproject.com/Articles/13419/SelectQueryBuilder-Building-complex-and-flexible-S)......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:54:37.737

不知道这是否会有所帮助，因为我有一段时间没有使用 C#

我认为你的错误发生在这部分

```
select * from tblusers where EmailAddress=" + Emailid 
```

尝试将其更改为

```
"select * from tblusers where EmailAddress='" + Emailid + "'" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T05:55:30.097

您需要在 SQL 中将字符串文字括在单引号中：

```
"select * from tblusers where EmailAddress = '" + Emailid + "'" 
```

**但这会使您容易受到 SQL 注入攻击，因此不建议这样做。**（检查如果`Emailid`设置为会发生什么`"' OR 1=1 OR ''='"`。）

您应该指定`Emailid`为参数值：

```
var cmd = new SqlCommand("select * from tblusers where EmailAddress = ?");
cmd.Parameters.Add(Emailid);
adap = new SqlDataAdapter(cmd, con); 
```

# android - 如何在android中停止服务

> ID：12721009
> 
> 赞同：0
> 
> 时间：2012-10-04T05:49:22.860
> 
> 标签：android, service

我在android中做了一个活动。从按钮单击的那个活动中，我正在调用一个意图，在该意图中我调用了一个 AIR 应用程序。与此同时，我正在启动包含与 AIR 应用程序的套接字通信的服务。但是当我从 AIR 回到活动时，服务没有停止。它在后台运行。我使用过 onDestroy、startService、stopService 但无法正常工作。任何人都可以建议我从 AIR 到应用程序的后退导航如何停止服务。所以如果我想再次从活动切换到 AIR，我可以再次刷新它。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-04T06:03:33.303

服务无法停止可能有多种原因。您可能已经完成了一些事情，例如使用服务上下文或将其生命周期附加到服务的某些对象注册广播接收器。

解决方案是在停止服务之前释放或释放对象。

# javascript - 有人可以提供一个如何在 Ember.js 中定义自定义事件的示例吗？

> ID：12721011
> 
> 赞同：2
> 
> 时间：2012-10-04T05:49:31.180
> 
> 标签：javascript, ember.js

在 Ember 指南中：

[http://emberjs.com/guides/view_layer/](http://emberjs.com/guides/view_layer/)

在内置事件表的下方，给出了添加自定义事件的示例：

```
App = Ember.Application.create({
  customEvents: {
    // add support for the loadedmetadata media
    // player event
    'loadedmetadata': "loadedMetadata"
  }
}); 
```

但是，对于如何准确地实现自定义事件，我仍然有些困惑。例如，如果我想将自定义事件“leftArrow”映射到键码 37，我将如何命名它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T00:29:04.663

对于您的活动，我不会将其归类为“自定义活动”。自定义事件是浏览器或 jQuery 原生支持但尚未在 Ember 中实现的事件类型。

您想要实现的目标已经作为“关键”事件存在，您只需要捕获关键代码并做出相应的响应。例如：

```
App.SomeView = Em.View.extend({
    keyDown: function (e) {
        if (e.keycode === 37) {
            // do your stuff or call a function
        }
    }
}); 
```

应用程序创建构造函数不是执行此操作的地方，您需要根据您想要执行的操作来处理视图或控制器中的关键事件。查看 EmberJs 文档页面上自定义事件上方的部分。这些是您可以处理的事件。

# php - 使用php中的按钮保存功能

> ID：12721012
> 
> 赞同：0
> 
> 时间：2012-10-04T05:49:34.910
> 
> 标签：php, mysql

我对以下代码有疑问。单击保存按钮时不会调用我的函数。

这是保存功能的以下代码，

```
 if(isset($_POST['Save'])) // If the submit button was clicked
    {
        echo "hgfd";
        $post['ProductSegmentCode'] = $_POST['ProductSegmentCode'];
        $post['ProductSegment'] = $_POST['ProductSegment'];
        $post['ProductGroup'] = $_POST['productgroup'];

        // This will make sure its displayed
        if(!empty($_POST['ProductSegment'])&&!empty($_POST['ProductSegmentCode'])&&!empty($_POST['productgroup']))
        {   

                echo "SAVE";
             $news->addNews($post);
        ?>
            <script type="text/javascript">
            alert("Created Sucessfully..!!");
            </script>
            <?
        }
        else
        {
            ?>
            <script type="text/javascript">
            alert("Enter Mandatory Fields");
            </script>
            <?
        }
    } 
```

以下是html中的按钮格式，

```
<div style="width:70px; height:32px; float:left; margin-top:16px; margin-left:4px;">

                      <input name="Save" type="button" class="button" value="Save">
                           </div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:55:53.047

你的按钮是`type="button"`; 要获得要提交的表单，它需要是`type="submit"`. 尝试用这个更新它，它应该可以工作（也等待你的表单有`action="post"`，或者没有指定动作；默认是`post`）：

```
<input name="Save" type="submit" class="button" value="Save" onclick="Save" /> 
```

此外，您正在使用`onclick="Save"`按钮。这表明您有一个名为的相应 JavaScript 函数`Save()`- 但是，根据您的代码示例，您没有显示一个。我假设这是错误的并且可以安全地删除（`value="Save"`也可以删除，因为您只需要检查`isset($_POST['Save'])`而不是它的实际值）。所有就地更改都应为您提供：

```
<input name="Save" type="submit" class="button" /> 
```

如果你确实有一个名为 的 JavaScript 函数`Save()`，请发布它的代码，我可以修改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:55:39.783

用于`form`发送数据和使用类型`submit`

```
<form action="" method="post">
  <input name="Save" type="submit" class="button" value="Save">
</form> 
```

如果你想用这个

```
<input name="Save" type="button" class="button" value="Save" onclick="Save()"> 
```

`Save()`在 javascript 中创建函数并使用`ajax`call 发送数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:57:03.247

看起来你应该改变

```
<input name="Save" type="button" class="button" value="Save" onclick="Save"> 
```

到峰会按钮。

```
<input name="Save" type="submit" class="button" value="Save"> 
```

# c# - 使用 Json.NET 反序列化 Json 中的 JsonSerializationException

> ID：12721013
> 
> 赞同：1
> 
> 时间：2012-10-04T05:49:35.137
> 
> 标签：c#, windows-phone-7, json.net, deserialization

我有一个这样的Json：

```
[{"id":"54718","title":"Khaleda to visit China","corres":"Special Correspondent","details":"DHAKA: On a 7-day visit, opposition BNP Chairperson Khaleda Zia will leave Dhaka for China on October 14.","photo":"2012October\/SM\/Khaleda-new-sm20121003132805.jpg"}] 
```

要解析这个 Json ，到目前为止我已经完成了：

```
public class Attributes
{
    [JsonProperty("id")]
        public string ID{ get; set; }
        [JsonProperty("title")]
        public string TITLE { get; set; }
        [JsonProperty("corres")]
        public string CORRES { get; set; }
        [JsonProperty("details")]
        public string  DETAIL { get; set; }
        [JsonProperty("photo")]
        public string LINK { get; set; }
}

public class DataJsonAttributeContainer
{
    public List<Attributes> NewsList{ get; set; }
    //public Attributes attributes { get; set; }
}

public static T DeserializeFromJson<T>(string json)
{   //I'm getting the error here     
    T deserializedProduct = JsonConvert.DeserializeObject<T>(json);
    return deserializedProduct;
} 
```

& 在我的代码中：

```
 void webClient_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
    {
        //parse data
            var container = DeserializeFromJson<DataJsonAttributeContainer>(e.Result);

            //load into list
            for (i = 0; i < container.NewsList.Count ; i++)
            {
                newData[i] = new data();
                newData[i].id = container.NewsList[i].ID;
                newData[i].title = container.NewsList[i].TITLE;
                newData[i].price = container.NewsList[i].CORRES;
                newData[i].image = container.NewsList[i].DETAIL;
                newData[i].link = container.NewsList[i].LINK;
            } 
```

**问题是：** `container`正在从 web 服务器获取 json，我可以在调试器中看到，但是在反序列化时它会出现异常。有人可以帮忙吗？我得到的例外：

```
Cannot deserialize the current JSON array (e.g. [1,2,3]) into type 'BanglaNewsPivot.MainPage+DataJsonAttributeContainer' because the type requires a JSON object (e.g. {"name":"value"}) to deserialize correctly.To fix this error either change the JSON to a JSON object (e.g. {"name":"value"}) or change the deserialized type to an array or a type that implements a collection interface (e.g. ICollection, IList) like List<T> that can be deserialized from a JSON array. JsonArrayAttribute can also be added to the type to force it to deserialize from a JSON array.Path '', line 1, position 1. 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:02:11.737

您的 json 是一个*数组*（不是*包含数组的单个对象*）。打电话给你`DeserializeFromJson`如下

```
var attrs = DeserializeFromJson<List<Attributes>>(e.Result); 
```

足够的。

- 编辑 -

```
foreach (var attr in attrs)
{
     Console.WriteLine("{0} {1}", attr.ID, attr.TITLE);
} 
```

# powershell - 操纵桌面元素的 Powershell 脚本不适用于调度程序

> ID：12721014
> 
> 赞同：1
> 
> 时间：2012-10-04T05:49:39.300
> 
> 标签：powershell, windows-7, scheduled-tasks

当我手动启动它们时，我有 2 个脚本在工作。

将鼠标光标移出屏幕：

```
[system.Reflection.Assembly]::LoadWithPartialName("System.Windows.Forms") | out-null
[System.Windows.Forms.Cursor]::Position = New-Object System.Drawing.Point(1999,100) 
```

如果打开带有标题 HUD 的 chrome 浏览器，请将其置于信息亭模式：

```
[void] [System.Reflection.Assembly]::LoadWithPartialName("'Microsoft.VisualBasic")             
[Microsoft.VisualBasic.Interaction]::AppActivate("Hud - Google Chrome")
[void] [System.Reflection.Assembly]::LoadWithPartialName("'System.Windows.Forms")     
[System.Windows.Forms.SendKeys]::SendWait("{F11}") 
```

如果我将它们放在 Windows 7 上的计划任务中，它们将不起作用。

如果我启动一个调用脚本文件的批处理文件，它们就会起作用

```
C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -noninteractive -command "&C:\Users\Miniuser\Documents\chromeHUD.ps1" 
```

但如果我在计划任务中启动批处理文件，则不会。

似乎在计划任务中我无法访问我的 UI 元素。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-11T09:46:01.283

正如 alroc 回答的那样，它确实在另一个上下文/会话下运行。

我找不到任何解决方法来通过这个...使用纯powershell ...但是我能够使用wscript完成工作。

在你的 PS 脚本中，用这个打开你的 chrome

```
 (new-object -com wscript.shell).run("http://localhost/",3) 
```

它将全屏打开默认浏览器。我可以在任务调度程序中将它与 sendkeys 一起使用！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-09T13:40:21.667

当脚本作为计划任务运行时，它在不同的上下文/会话中运行，并且没有它可以“看到”的 GUI，也没有任何与现有会话交互的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-07T20:35:02.040

要将脚本作为必须与桌面交互的计划任务运行您必须创建一个文件夹（或在 64 位 Windows 上创建两个）：（32 位，始终）C:\Windows\System32\config\systemprofile\Desktop（64 位） C:\Windows\SysWOW64\config\systemprofile\Desktop

# css - 使用 CSS 在单击按钮时更改图像精灵

> ID：12721019
> 
> 赞同：0
> 
> 时间：2012-10-04T05:50:00.050
> 
> 标签：css, button, onclick, sprite

单击更改按钮图像然后单击后返回原始图像

```
<style>
img.button-send {
background: url(img/agentsprite.png) 0 0;
width:87px;
height:34px;
opacity:0;
}
img.button-send:active {
background: url(img/agentsprite.png) 34 174;
width:87px;
height:34px;
}

</style>
      <button type="submit">
      <img class="button-send" src="img/img_trans.gif" width="1" height="1" />
          </button> 
```

我为此使用了一个精灵，当我单击它时它似乎不会转到那个图像位置，有什么办法可以让它工作吗？按下时，我不想对该字段产生按钮效果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T05:51:23.170

…………………………………………………………………………………………………………………………

嗨，现在习惯了图像中的px**值**`background-position`

像这样

```
img.button-send:active {
background: url(img/agentsprite.png) 34px 174px;
} 
```

或者你也可以使用它

```
img.button-send:active {
    background-position:34px 174px;
    } 
```

`px`根据您的**设计价值**

# jquery - 使用 jQuery 在 5 秒内显示一个 div

> ID：12721029
> 
> 赞同：5
> 
> 时间：2012-10-04T05:50:41.563
> 
> 标签：jquery

我想在 5 秒内淡入我网站上的 div。另外，我不想使用css`Display:none`隐藏div，因为这个div非常重要，我在想如果用户没有启用JS，div将永远隐藏。那么你们能告诉我如何在网站加载时隐藏 div 并使其在 5 秒内可见吗？多谢了。

```
<div id="lead_form"></div> 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-04T05:52:52.483

```
setTimeout(function(){
   $('#lead_form').show();// or fade, css display however you'd like.
}, 5000); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-04T06:17:46.130

如果你想制作一个不显眼的功能，你应该让 div 默认可见。

当页面正确加载后，首先要做的就是用 jQuery 隐藏 DIV，然后运行动画在 5 秒内显示出来。

通过这种方式，如果没有激活JS，则DIV已经可用。

```
$(document).ready(function() {

    // Hide the div
    $("#lead_form").hide();

    // Show the div in 5s
    $("#lead_form").delay(5000).fadeIn(500);

}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T06:21:47.203

使用 noscript 标签并将 div 放入其中以在浏览器中禁用 java 脚本时显示。

```
<noscript>
    <div id="lead_form"></div>
</noscript> 
```

对于启用了 java 脚本的浏览器，使用下面的代码在五秒钟内淡入

```
$("#lead_form").fadeIn(5000); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-04T06:12:13.170

试试这个

```
 $('#lead_form').hide("fast",function(){
    $("#lead_form").show(5000);
    }); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-03-13T16:51:09.743

如果您打算显示 Div 几秒钟，则以下代码对我有用...

```
$('#divInfo').fadeIn("fast", function(){        
        $("#divInfo").fadeOut(4000);
    }); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T06:05:18.713

如果 JS 被禁用，您不想永远隐藏 div，因此您希望在准备好的文档时隐藏它，然后在 5 秒内再次显示它。这是一个演示该行为的[小提琴。](http://jsfiddle.net/bhayden1/hHJ5H/)但是，如果 div 足够重要，可以在关闭 JS 的情况下一直显示，那么我不确定您是否真的想隐藏它然后首先显示它。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-04T06:28:11.520

`$('#load_form')`首先你应该在附加到页面之前隐藏：`$('#load_form').hide()`然后你应该用这个函数显示它，`.fadeIn( [duration] [, callback] )` 你必须设置`duration`5000。

# c# - 想在桌面或任何位置查看输出“data.csv”

> ID：12721030
> 
> 赞同：2
> 
> 时间：2012-10-04T05:50:44.043
> 
> 标签：c#, .net, excel, c#-4.0, export-to-csv

```
 public void CreateFileOutput(object parameter)
        {
            string workSheetName, targetFile;
            workSheetName = "data"; targetFile = "data.csv";
            string strConn = @"Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" + SourceAppFilePath + ";Extended Properties='Excel 8.0;HDR=YES;IMEX=1;';";
            OleDbConnection conn = null;
            StreamWriter wrtr = null;
            OleDbCommand cmd = null;
            OleDbDataAdapter da = null;
            try
            {
                conn = new OleDbConnection(strConn);
                conn.Open();
                cmd = new OleDbCommand("SELECT * FROM [" + workSheetName + "$]", conn);
                cmd.CommandType = CommandType.Text;
                wrtr = new StreamWriter(targetFile);
                da = new OleDbDataAdapter(cmd);
                DataTable dt = new DataTable();
                da.Fill(dt);
                for (int x = 0; x < dt.Rows.Count; x++)
                {
                    string rowString = "";
                    for (int y = 0; y < dt.Columns.Count; y++)
                    {
                        rowString += "\"" + dt.Rows[x][y].ToString() + "\",";
                    }
                    wrtr.WriteLine(rowString);
                }
                Console.WriteLine();
                Console.WriteLine("Done! Your " + SourceAppFilePath + " has been converted into " + targetFile + ".");
                Console.WriteLine();
            }
            catch (Exception exc)
            {
                Console.WriteLine(exc.ToString());
                Console.ReadLine();
            }
            finally
            {
                if (conn.State == ConnectionState.Open)
                    conn.Close();
                conn.Dispose();
                cmd.Dispose();
                da.Dispose();
                wrtr.Close();
                wrtr.Dispose();
            }
        } 
```

XLS 文件正在转换为 csv。我可以在 for 循环中看到它`wrtr.WriteLine(rowString);` 但是我想在桌面位置看到最终输出文件**“Data.csv”**，因为我正在从桌面获取源 .xls 文件。给我一个解决方案。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:58:48.550

您需要使用完整路径将文件保存到桌面。您可以使用 获取路径`Environment.GetFolderPath(Environment.SpecialFolder.DesktopDirectory`，如下所示：

```
string targetFolder =  Environment.GetFolderPath(Environment.SpecialFolder.DesktopDirectory);
string targetPath = Path.Combine(targetFolder, "Data.csv"); 
```

然后使用带有完整路径的 FileStream：

```
fs = new FileStream(targetPath, FileMode.Create); 
```

**根据下面的评论编辑**

关键是指定要保存文件的路径。只需提供一个文件名，它就会放在应用程序正在执行的目录中。一个简单的方法是使用类的`GetDirectoryName`方法`Path`。假设文件被传入，从配置文件中读取，硬编码等：

字符串路径 = Path.GetDirectoryName(sourceFile); 字符串目标=路径+@“\”+“Data.csv”；

如果源文件是 C:\Data\Input.xml，那么路径将等于“C:\Data”，目标将是 C:\Data\Data.csv。

这里的好处是你可以传递一个带有路径的文件名，它总是将目标文件放在同一个位置。这很适合方法的参数化，甚至可能让用户通过 OpenFileDialog 框或类似机制选择文件。

**根据约翰的评论进行附加编辑**

根据您发布的代码，Data.xsl 文件位于执行应用程序的文件夹中。在这种情况下，您只需要执行以下操作：

```
fs = new FileStream("data.csv", FileMode.Create); 
```

无需弄乱路径，因为文件流也将转到正在执行的应用程序的目录。

最后，这一切都是关于使用源文件中可用的信息（即位置/路径数据）并将其应用于目标文件的完整路径和名称。

# twitter-bootstrap - 如何在我现有的 Web 应用程序中使用 Twitter Bootstrap？

> ID：12721040
> 
> 赞同：0
> 
> 时间：2012-10-04T05:51:23.443
> 
> 标签：twitter-bootstrap

我使用自己的 StyleSheets 开发了一个网站。现在有什么简单的方法可以在其中添加 twitter 引导程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:19:32.650

Bootstrap 是一组样式表和 JS 脚本，您可以简单地将其插入您的网站。它的实现实际上取决于您想为您的网站使用哪些功能。如果您想使用样式表并将您的网站 DOM 结构重新编写为响应式或基于网格，那么您应该包含 CSS 文件，在[脚手架](http://twitter.github.com/bootstrap/scaffolding.html)下找到方法。

您还可以通过包含 bootstrap.js 文件来使用 Bootstrap 中可用的模式、滑块。[在Javascript 部分](http://twitter.github.com/bootstrap/javascript.html)下查找说明。.

此外，您应该查看他们的[示例](http://twitter.github.com/bootstrap/getting-started.html#examples)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T05:54:03.967

你可以看看他们提供[的例子。](http://twitter.github.com/bootstrap/examples.html)

# javascript - 在手机和平 板电脑中使用 jQuery mobile 开发的网站的行为

> ID：12721054
> 
> 赞同：1
> 
> 时间：2012-10-04T05:52:35.313
> 
> 标签：javascript, jquery, jquery-mobile

例如，如果我正在为 iPhone、Blackberry 手机开发 Web 应用程序。我将尝试根据设备屏幕设计内容。如果我在平板电脑中打开同一个网站，屏幕大小会有所不同，内容会扩展到屏幕宽度，因为它是流式布局。这就是我想知道的。如果我使用 jQuery mobile 设计一个按钮，它将占据屏幕的总宽度（虽然我们可以更改，但这不是我的情况）。但是在平板电脑上会扩大到屏幕的总宽度，看起来不太好。是不是？所以，我的问题是 jQuery 移动开发人员应该注意什么。是否有必要为不同的屏幕分辨率开发网站...？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-17T08:59:35.467

如果您使用的是 Jquery mobile 最新版本。它支持响应式网页设计。jquery mobile中网页的页眉、内容、页脚有一定的规范。顺其自然。网格布局也可以在跨设备中整齐地显示网页。开发人员需要使用 jquery mobile css 相应地自定义所需的设计。

# linux - 在具有相同顶级父目录的文件夹内使用多个 Git 存储库？

> ID：12721055
> 
> 赞同：3
> 
> 时间：2012-10-04T05:52:36.600
> 
> 标签：linux, git, magento, symlink, git-submodules

我正在开发一个[Magento](http://magentocommerce.com)商店（连接到 Git 的 SVN 存储库），利用基于 HTML5 样板的[Magento-Boilerplate](https://github.com/aligent/Magento-Boilerplate)主题（GitHub 存储库）并用我自己的子主题（私有 Git 存储库）扩展它。这些都存在于一个 www 文件夹中，该文件夹恰好是所有三个项目的顶级目录。我想将所有这些干净地集成到它们各自的存储库中，但是我发现的单个目录中多个存储库的唯一解决方案是子模块（我喜欢这个想法，但据我所知，要求每个项目位于主 Git 存储库的子文件夹中）并将文件符号链接到适当的位置（应该可以工作，但有点混乱而且很难跟上）。

有没有一种干净的方法来完成这项工作？这是我的文件夹结构的示例。我已经指出每个文件/目录所在的 repo(s) - M = Magento，B = Boilerplate，P = Private：

```
/www
   |-- app [M]
       |-- frontend [M]
           |-- base [M]
           |-- magento-boilerplate [B]
               |-- default [B]
               |-- myprivatetheme [P]
   |-- skin [M]
       |-- frontend [M]
           |-- base [M]
           |-- magento-boilerplate [B]
               |-- default [B]
               |-- myprivatetheme [P]
   |-- .htaccess [M][B][P]
   |-- favicon.ico [M][P] 
```

如您所见，即使没有整个 .htaccess 和 favicon.ico 位于多个存储库中（我只会在 Magento 和 Boilerplate 存储库中使用 gitignore 或 --assume-unchanged 并使用我的私有存储库）顶级目录是 www，因为 Magento 将代码和主题拆分到具有 www 的共同父级的单独文件夹中的方式。因此，从技术上讲，您甚至可以说应用程序、皮肤和各种前端文件夹也存在于多个存储库中，因为它们必须存在于每个存储库中，一直到结构的顶级目录。

从单独的文件夹中符号链接这些存储库是我唯一的解决方案吗？这不是一个大问题，但我真的很想知道 Git 是否足够灵活来处理我的情况。看起来[modman](https://github.com/colinmollenhour/modman)可能是专门为解决这个符号链接问题而创建的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:28:15.127

我确认没有简单的方法将 Git 存储库结构映射到*部署*结构（这基本上是您的文件夹结构显示的内容：部署到 Web 文件夹）

“ [modman](https://github.com/colinmollenhour/modman) ” 似乎是一种有效的自动化方式，但您需要记住，如果您对其中一个子模块进行任何更改，您将需要提交它们，将它们推送到各自的上游，*然后*转到父 git repo ，*再次*提交并推送。
modman似乎没有考虑到所有这些。

[OP Colt McCormack](https://stackoverflow.com/users/569674/colt-mccormack)报告研究[modgit](https://github.com/jreinke/modgit)：

> `modgit`是优秀`modman`工具的替代品。
> 直接受其启发，**modgit 允许您在项目中物理部署 Git 模块（无符号链接）**。
> 此外，您可以定义包含/排除过滤器以仅部署您选择的文件和文件夹。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-07T23:51:29.933

工具[**vcsh**](https://github.com/RichiH/vcsh)用于在不使用符号链接的情况下将 $HOME 中的文件组织到几个 repos（ssh、zsh、vim、emacs 等）中。vcsh 为此使用了假的裸 git 存储库。它还可以与[mr](http://kitenet.net/~joey/code/mr/)一起很好地工作，可以轻松组织多个 repos（同步拉、推……）。

尽管 vcsh 是为 $HOME 设计的，但它可以用于任何目录。

vcsh 的[自述](https://github.com/RichiH/vcsh/blob/master/README.md)文件是一个很好的开始，它应该可以帮助您（决定）它是否是您正在寻找的工具。vcsh 的维护者 Richard Hartmann 在 FOSDEM 2012 上谈到了它：[信息](http://richardhartmann.de/talks/)–[幻灯片](https://raw.github.com/RichiH/talks/slides/2012/fosdem/vcsh/fosdem-2012-vcsh-talk.pdf)–[视频](http://video.fosdem.org/2012/lightningtalks/vcsh.webm)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-10-31T10:29:59.843

还有[multigit](https://github.com/capr/multigit)。

> Multigit 允许您在一个公共目录上检出多个 git 存储库，并提供简单的工具让您可以像以前一样继续使用 git，而 multigit 不会妨碍您。
> 
> 对于由单独开发的不同组件组成但需要在项目目录结构的不同部分部署文件的项目很有用。
> 
> 这不能使用 git 子模块或 git 子树来完成，它们只允许子项目在自己的子目录中部署文件。Multigit 允许子项目在项目的任何目录中部署文件，类似于联合文件系统，其中每个存储库是一个层。
> 
> 变更管理和模块管理的这种组合可能有用的一些示例：
> 
> 1.  在单独的存储库中管理对 Web 应用程序所做的自定义。
> 2.  将您的主目录置于源代码控制之下。
> 3.  Linux 发行版的包和/或配置管理器。

# tfs - 将解决方案迁移到 TFS 后扩展方法错误

> ID：12721058
> 
> 赞同：0
> 
> 时间：2012-10-04T05:52:44.513
> 
> 标签：tfs

> **可能重复：**
> [将项目放入 TFS 后的错误和警告](https://stackoverflow.com/questions/12720718/errors-warnings-after-putting-project-in-tfs)

错误 161 以下方法或属性之间的调用不明确：“ExtensionMethods.ChkDBNull(object)”和“ExtensionMethods.ChkDBNull(object)”

将我的解决方案迁移到 TFS 后出现上述错误，在它正常工作之前请帮助我

# html - 按钮类型=“图像”不起作用

> ID：12721066
> 
> 赞同：1
> 
> 时间：2012-10-04T05:53:35.803
> 
> 标签：html, image, button, input

遇到一个奇怪的情况 - 当我将按钮的“类型”从“按钮”更改为“图像”时，它停止工作。我已经在我的网站上进行了 100 次这种更改，而且我以前从未遇到过这个问题。

相关代码如下所示：

```
//working
<input type="button" value="Back" onClick="window.location='some/page.php'" />

//not working
<input type="image" src="/link/to/image.png" onClick="window.location='some/page.php'" /> 
```

我已经使用第一个代码对其进行了测试，并检查它会将我转移到所需的页面。然后我只是简单地改变了类型并用相关的“src”替换了“value”。该按钮显示正常，但单击时，我只是回到原来的页面。

真正困扰我的是第二段代码在我网站的其他部分运行得非常好。只是这个页面无法正常工作。

真的很困惑 - 有人遇到过这个问题或有任何建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:04:22.933

您需要`return false`从**事件处理程序**中防止将**默认操作**作为输入`type=image`作为**提交按钮**。

您也可以使用简单`<img />`标签代替`<input />`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:56:47.833

您可能已经将图像映射放在了一个表格中。当您单击它时，您正在提交表单。

您应该改用常规链接。这里不需要使用图像映射或 JavaScript。

```
<a href="some/page.php">
    <img src="/link/to/image.png" alt="appropriate alternative text goes here">
</a> 
```

# ruby-on-rails - nil 的未定义方法“[]”：用于 RoR 文件上传的 NilClass

> ID：12721067
> 
> 赞同：1
> 
> 时间：2012-10-04T05:53:35.757
> 
> 标签：ruby-on-rails, ruby

我的模型名为 Projects，它有一个字符串文件名和一个字符串位置。我有一个上传表单，它应该将文件作为输入，将其上传到 public/data/，并将文件名和路径存储为新的 Projects 对象。当我尝试上传文件时，我得到“nil:NilClass for RoR 文件上传的未定义方法`[]'”。错误在我的控制器文件的第 86 行，即“name = params[:upload][:file].original_filename”

看法：

```
<%= form_tag( { :action => 'upload' }, :multipart => true ) %>
Upload file: <%= file_field( "form", "file" ) %>
<br />
<%= submit_tag( "Upload file" ) %> 
```

控制器：

```
def upload 
    ### THE LINE BELOW IS WHERE THE ERROR OCCURS
    name = params[:upload][:file].original_filename
    directory = "/public/data"
    path = File.join(directory, name)
    File.open(path, "wb") { |f| f.write(params[:upload][:file].read) }
    @project = Project.new({:filename => name, :location => path})

    respond_to do |format|
      if @project.save
        format.html { redirect_to @project, notice: 'Project was successfully created.' }
        format.json { render json: @project, status: :created, location: @project }
      else
        format.html { render action: "new" }
        format.json { render json: @project.errors, status: :unprocessable_entity }
      end
    end
end 
```

谁能猜出什么是错的？我是 RoR 和 Ruby，新手。

编辑：我尝试使用 params[:form[:file]] 而不是 params[:upload][:file]，并在同一行出现错误“无法将符号转换为整数”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:20:21.543

在您的控制器中，您尝试使用 params[:upload][:file] 获取文件，但在您的表单中，您将名称创建为**form**。所以你需要改变表格来上传。所以你的代码应该是，

```
Upload file: <%= file_field( "upload", "file" ) %> 
```

# php - 将变量值插入 MySQL 表时的问题

> ID：12721068
> 
> 赞同：1
> 
> 时间：2012-10-04T05:53:42.527
> 
> 标签：php, mysql

嘿，我目前正在尝试将全局变量插入表中。我传递的其他值也是变量，但它们被正确发送。

这是我的查询。我的错误处理没有捕捉到任何东西

```
$result = mysql_query("INSERT INTO IPmanagement (userId, NameUsed, EmailUsed, IPStatus, Ip) VALUES ('" .$masterUserId . "', '" . $Entry['LeadName'] . "', '" . $Entry['LeadEmail'] . "', '0', '" . $ip . "')") or die(ErrorException("Function 6", "Error when processing the current lead. your data is unaffected and if the proccess continues please contact an Admin.", mysql_error(),$_SERVER['REMOTE_ADDR'], CurrentPath(), $masterUserId)); 
```

我的变量在函数之前是全局定义的

```
 $masterUserId = "1"; 
```

我尝试在变量发送之前回显它，它正确回显但我的表的值为 0。

这是我如何设置表格的屏幕截图。

![在此处输入图像描述](../Images/19f07b8e4f3e5dff14690a99d718ae3f.png)

[点击查看**大图**](https://i.imgur.com/5px4d.png)

知道发生了什么。我很困惑并尝试以不同的方式编写相同的代码，但它仍然给我同样的问题。此外 $masterUserId 将始终是一个 int 值

编辑：还想提一下变量是不同的.php，它包含变量和数据库登录信息。它被包括在顶部。（不知道这是否相关）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:00:58.427

因为你没有插入`IP STATUS`.Which 不为空

![数据库架构](../Images/68942b9ddb994745033b0b68ac0dd7eb.png)

\

您应该将其设置为`null`或输入一些值。

如果您在函数中使用查询而不是像这样使用

```
function (){
//than define 
 $globat $masterUserId;
// use the global defination 
// than use this variable with global value
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:02:31.310

不要使用`mysql_*`. `mysqli_*`用或替换它们`PDO::`。

你试过`echo`吗`mysql_query()`？做这个。替换`mysql_query("...");`为`die("...");`并将其放入 phpMyAdmin 并尝试执行。

在你的表中，我看到这`IP Status`是一个`NOT NULL`. 所以这可能会引发异常。使用`default`表中的值。

是的，你得到什么结果`mysql_error()`？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:01:25.743

[为什么在查询中使用 ''' 或 "'？我已经使用 PHP 函数sprintf](http://php.net/manual/en/function.sprintf.php)清理了查询，并将 NULL 用于 EntryID(Autoincrement)

```
$query = sprintf("INSERT INTO IPmanagement (EntryID,userId, NameUsed, EmailUsed, IPStatus, Ip) VALUES (NULL,%s,%s,%s,'0',%s)",
$masterUserId , $Entry['LeadName'] , $Entry['LeadEmail'] , $ip ));
$result = mysql_query($query); 
```

您还应该使用 MySQLi 或 PDO

# wordpress - wordpress如何删除？从使用 htaccess 的 url

> ID：12721074
> 
> 赞同：1
> 
> 时间：2012-10-04T05:54:15.383
> 
> 标签：wordpress, .htaccess, plugins, url-rewriting, query-string

我有一个 URL [http://www.domain.com/wp/application/?productname](http://www.domain.com/wp/application/?productname)

我想将其更改为[http://www.domain.com/wp/application/productname](http://www.domain.com/wp/application/productname)。如果我这样处理，则显示找不到页面错误。我的应用程序页面中没有使用产品名称，我只想在 SEO 的 URL 中显示产品名称。page 应该是显示应用程序页面的内容。

wp 是我的根文件夹，应用程序是我的页面

请告诉我任何解决方案 htaccess 或任何插件

如何去除？从使用 Htacccess(Wordpress) 的 URL

我使用以下 htaccess 代码。但这不适用于我的情况。否则所有页面都运行良好

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /wp/
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /wp/index.php [L]
</IfModule> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:49:48.267

您需要设置永久链接结构。

去`Settings > Permalinks > Check the box 'Post Name', i.e. /%postname%/` ![在此处输入图像描述](../Images/eca8430467f9d3ccebca276064686e7f.png)

如果你的 。`htaccess`文件不可写，请转到 WordPress 安装的根目录并添加它告诉您添加的内容（如下）：

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule> 
```

# android - Android - 是否可以通过清理项目来获得两个不同的 apk？

> ID：12721075
> 
> 赞同：0
> 
> 时间：2012-10-04T05:54:18.630
> 
> 标签：android

我使用相同的来源制作 apk 文件。但是我发现我只是因为清理项目而得到了不同的apk文件。为什么我认为我有两个不同的 apk 文件，我尝试更改语言环境，一个 apk 改变了语言，一个没有。

`AndroidManifest.xml`我认为我的“ ”文件中可能有问题。这种事情会发生吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:05:43.743

我想你有两个应用程序启动器......请检查你的清单文件。

```
 <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
</intent-filter> 
```

这应该只在清单中声明一次。检查是否有重复项？

# java - 在 Java 中验证 null 和空集合的最佳实践

> ID：12721076
> 
> 赞同：276
> 
> 时间：2012-10-04T05:54:21.553
> 
> 标签：java, collections

我想验证一个集合是否为空并且`null`. 任何人都可以让我知道最佳做法。

目前，我正在检查如下：

```
if (null == sampleMap || sampleMap.isEmpty()) {
  // do something
} 
else {
  // do something else
} 
```

* * *

## 回答 #1

> 赞同：414
> 
> 时间：2012-10-04T07:30:59.060

如果您在项目中使用[Apache Commons Collections](https://commons.apache.org/proper/commons-collections/)库，您可以使用`CollectionUtils.isEmpty`和`MapUtils.isEmpty()`方法分别检查集合或地图是否为*空*或为*空*（即它们是“空安全的”）。

这些方法背后的代码或多或少是用户@icza 在他的回答中写的。

无论您做什么，请记住，您编写的代码越少，随着代码复杂性的降低，您需要测试的代码就越少。

* * *

## 回答 #2

> 赞同：85
> 
> 时间：2012-10-04T05:56:24.020

这是最好的检查方法。您可以编写一个辅助方法来做到这一点：

```
public static boolean isNullOrEmpty( final Collection< ? > c ) {
    return c == null || c.isEmpty();
}

public static boolean isNullOrEmpty( final Map< ?, ? > m ) {
    return m == null || m.isEmpty();
} 
```

* * *

## 回答 #3

> 赞同：50
> 
> 时间：2016-12-07T02:32:25.530

如果您使用 Spring 框架，那么您可以使用`CollectionUtils`来检查集合（列表、数组）和映射等。

```
if(CollectionUtils.isEmpty(...)) {...} 
```

* * *

## 回答 #4

> 赞同：22
> 
> 时间：2012-10-04T05:57:06.920

就个人而言，我更喜欢使用空集合而不是`null`让算法以某种方式工作，对于算法来说，集合是否为空并不重要。

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2017-03-06T09:40:32.337

当您使用弹簧时，您可以使用

```
boolean isNullOrEmpty = org.springframework.util.ObjectUtils.isEmpty(obj); 
```

其中 obj 是任何 [map,collection,array,aything...]

否则：代码是：

```
public static boolean isEmpty(Object[] array) {
    return (array == null || array.length == 0);
}

public static boolean isEmpty(Object obj) {
    if (obj == null) {
        return true;
    }

    if (obj.getClass().isArray()) {
        return Array.getLength(obj) == 0;
    }
    if (obj instanceof CharSequence) {
        return ((CharSequence) obj).length() == 0;
    }
    if (obj instanceof Collection) {
        return ((Collection) obj).isEmpty();
    }
    if (obj instanceof Map) {
        return ((Map) obj).isEmpty();
    }

    // else
    return false;
} 
```

最好的字符串是：

```
boolean isNullOrEmpty = (str==null || str.trim().isEmpty()); 
```

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2020-03-18T06:02:23.947

我们将检查 Collection 对象是否为空、是否为空。下面给出的所有方法都存在于 org.apache.commons.collections4.CollectionUtils 包中。

检查列表或设置集合对象的类型。

```
CollectionUtils.isEmpty(listObject);
CollectionUtils.isNotEmpty(listObject); 
```

检查对象的地图类型。

```
MapUtils.isEmpty(mapObject);
MapUtils.isNotEmpty(mapObject); 
```

所有方法的返回类型都是布尔值。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2017-08-22T17:25:40.700

您可以使用`org.apache.commons.lang.Validate`“ [notEmpty](https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/Validate.html#notEmpty(T)) ”方法：

`Validate.notEmpty(myCollection)`-> 验证指定的参数集合既不是 null 也不是零大小（没有元素）；否则抛出异常。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2012-10-04T06:03:11.720

如果您需要检查null，那就是这样。但是，如果您对此有控制权，请尽可能返回空集合，然后仅检查是否为空。

[这个线程](https://stackoverflow.com/questions/1969993/is-it-better-to-return-null-or-empty-collection)与 C# 大致相同，但原则同样适用于 java。就像那里提到的那样，只有在

> *   null 可能意味着更具体的东西；
> *   您的 API（合同）可能会强制您返回 null。

* * *

## 回答 #9

> 赞同：-3
> 
> 时间：2017-09-13T05:08:59.867

对于包括地图在内的所有集合，请使用`isEmpty`这些集合对象上的方法。但是你必须先做一个空检查：

```
Map<String, String> map;

........
if(map!=null && !map.isEmpty())
...... 
```

# java - 使用 zxing 库读取多个条形码的问题

> ID：12721077
> 
> 赞同：3
> 
> 时间：2012-10-04T05:54:25.027
> 
> 标签：java, image, image-processing, zxing

我正在尝试使用 zxing 库（GenericMultipleBarcodeReader）读取二维数据矩阵条码。我在一个图像上有多个条形码。

> 问题是zing阅读器的效率非常低，它从图像1.png中识别1个条形码，而从具有48个条形码的图像2.png中识别不出条形码。有没有办法获得 100% 的效率或任何其他产生 100% 的库

我读取条形码的代码是：

```
public static void main(String[] args) throws Exception {
        BufferedImage image = ImageIO.read(new File("1.png"));
        if (image != null) {
            LuminanceSource source = new BufferedImageLuminanceSource(image);
            BinaryBitmap bitmap = new BinaryBitmap(new HybridBinarizer(source));

            DataMatrixReader dataMatrixReader = new DataMatrixReader();

            Hashtable<DecodeHintType, Object> hints = new Hashtable<DecodeHintType, Object>();
            hints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);

            GenericMultipleBarcodeReader reader = new GenericMultipleBarcodeReader(
                    dataMatrixReader);
            Result[] results = reader.decodeMultiple(bitmap, hints);

            for (Result result : results) {
                System.out.println(result.toString());
            }
        }
    } 
```

我使用的图像是：

![1.png](../Images/a59497b679eae8677715c09a116e363a.png) ![2.jpg](../Images/5ee1dcd1faa7424c44b556d2408549fd.png)

**请帮助解决此问题。**

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T07:08:19.000

这种方式不太适用。它不会读取网格中的条形码，因为它假设它可以以某种与网格不兼容的方式切割图像。您必须编写自己的方法将图像切割成可扫描区域。

数据矩阵解码器也假设图像的中心在条形码内部。这是您需要将图像预先切割成圆柱体周围的正方形然后扫描的另一个原因。那时它应该工作得很好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-21T22:55:23.833

另一种解决方案是考虑一个条形码引擎，它可以检测一个文档上不同方向的多个条形码。如果您在 Windows 上运行，[ClearImage Barcode SDK](http://www.inliteresearch.com/barcode-recognition/)有一个 Java API，应该能够在不进行预处理的情况下处理您的需求。[您可以使用他们的Online Barcode Reader](http://online-barcode-reader.inliteresearch.com/)测试他们的引擎是否可以读取您的图像。

一些示例代码：

```
public static void testDataMatrix () {
  try { 
       String filename  = "1.png ";
       CiServer objCi = new CiServer();
       Ci = objCi.getICiServer();

       ICiDataMatrix reader = Ci.CreateDataMatrix(); // read DataMatrix Barcode
       reader.getImage().Open(filename, 1);
       int n = reader.Find(0); // find all the barcodes in the doc
       for (i = 1; i <= n; i++) {
          ICiBarcode Bc = reader.getBarcodes().getItem(i); // getItem is 1-based
          System.out.println("Barcode " + i + " has Text: " + Bc.getText());
       }
   } catch (Exception ex) {System.out.println(ex.getMessage());}
 } 
```

免责声明：我过去曾为 Inlite 做过一些工作。

# iphone - 如何在一个视图中制作多个自定义的 uiimageview 框架？

> ID：12721080
> 
> 赞同：0
> 
> 时间：2012-10-04T05:54:36.587
> 
> 标签：iphone, ios, uiimageview, uiimage, cgcontext

我必须查看会有多个弯曲或不规则形状的图像视图。现在，当我触摸 UIImageview 时，它将从照片库中导入图像。例如：假设

*   我有一个带有背景图像的 UIView。
*   在那个视图上，我有 3 个**不规则形状的**UIImageview。每个 UIImageview 都相互**连接**。
*   现在假设我触摸了第一个 UIImageview，然后它将从照片库中获取图像。
*   当我导入图像时，该图像将作为 UIImageview 的背景图像。
*   我必须确保如果我的 UIImageview 小于其背景图像，那么我将能够移动图像或旋转图像或缩放或缩放图像以根据 UIImageview 的大小调整图像。

我该怎么做整个过程？？？链接、源代码、教程或其他任何帮助都将非常感激。

**基本上我的首要任务是如何以编程方式制作那些不规则形状的 UIImageView。**

如果有任何进一步的问题要问，请不要犹豫。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:01:40.577

一种方法如下：

`UIImageView`每个 UIImageView 的set方法的子类，`touchesBegan`用于导入图像、背景设置以及您想要在触摸时执行的任何操作。

“附”是什么意思？如果所有这些都应该一起移动，那么，再次，您必须在方法中处理它`touchesBegan`，发送诸如“嘿视图，我已经在这个向量上移动：[向量]，请也这样做”之类的消息。

在pt。3.2 我没明白你的意思。:( 您可以在`UIImageView`子类`self.contentMode = UIViewContentModeScaleAspectFit`或中设置`UIViewContentModeScaleToFill`，因此它的图像将始终适合视图。

关于不规则形状，您阅读下面的链接了吗？我想没有一个超级简单的方法来做到这一点:(

[http://www.iphonedevsdk.com/forum/iphone-sdk-development/76923-hittest-collision-for-irregular-shape-uiviews.html](http://www.iphonedevsdk.com/forum/iphone-sdk-development/76923-hittest-collision-for-irregular-shaped-uiviews.html)

[可拖动的 UIImageView 部分透明和不规则形状](https://stackoverflow.com/questions/5732526/draggable-uiimageview-partially-transparent-irregular-shaped)

[使用不规则形状按钮的简单方法](https://stackoverflow.com/questions/3755572/simple-way-of-using-irregular-shaped-buttons)

# php - WordPress 插件中的 URL 隐藏

> ID：12721082
> 
> 赞同：0
> 
> 时间：2012-10-04T05:54:50.160
> 
> 标签：php, redirect, wordpress

我打算用以下方式隐藏链接网址。它将 url 存储在一个数组中，然后如果它检测到 $_GET 数组中的参数，它会重定向到保存的 url。

```
<?
/* Plugin Name: Sample Link Cloak  */

add_action('admin_menu', 'sample_link_cloak');
function sample_link_cloak() {
    add_options_page(
        'Sample Link Cloak', 
        'Sample Link Cloak', 
        'manage_options',
        'sample_link_cloak', 
        'sample_link_cloak_admin');
}
function sample_link_cloak_admin() {
    ?>
    <div class="wrap">
    <?php
        $links = '<p><a href="http://www.google.com">google.com</a></p>' . PHP_EOL
                . '<p><a href="http://www.wordpress.org">wordpress.org</a></p>' . PHP_EOL
                . '<p><a href="http://www.stackoverflow.com">stackoverflow.com</a></p>' . PHP_EOL;

        $doc = new DOMDocument();   
        @$doc->loadHTML($links);    
        $array_urls = array();
        foreach ($doc->getElementsByTagName('a') as $node) {
            $url = $node->getAttribute('href');
            $hash = md5($url);
            $array_urls[$hash] = $url;
            $url = site_url('?urlcloak=' . $hash);
            $node->setAttribute('href', $url);
        }       
        echo $doc->saveXML();
        update_option('sample_urlcloak', $array_urls);
    ?>
    </div>
    <?php
}
add_action('init', 'cloakurls');
function cloakurls() {
    if (isset($_GET['urlcloak'])) {
        $array_urls = get_option('sample_urlcloak');
        wp_redirect($array_urls[$_GET['urlcloak']]);
        exit;       
    }
} 
```

我可以用这种方法预测一个问题。链接的数量每天都在增加，因此存储的数据在达到一定程度时必须删除。但是如果访问者将网页保存在本地驱动器上并稍后阅读内容并单击链接，此时如果服务器不存储url，则不会重定向。

我认为这与此处描述的问题几乎相同。[寻找更有效的方式来提供大量链接重定向？](https://stackoverflow.com/questions/4307155/looking-for-more-efficient-way-to-serve-numerous-link-redirects)但是对于分布式插件，编辑 .htaccess 文件是否现实/实用？我猜不是所有用户都有权修改.htaccess。我不知道。

我想知道是否有人可以指导我正确的方向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:04:00.410

这取决于您的应用程序。通常你可以做其他SO帖子描述的事情，但如果它真的是随机的；或者您无法控制重定向的站点 - 使用数据库。它的功能是在硬盘驱动器上快速找到您要查找的内容。

现在想知道比您当前的方法更进一步 - 双向混淆怎么样？如果只是混淆（而不是安全），请使用这样一种算法，您可以同时加密和解密 url。这样你就不需要存储任何数据。

# c - 在未对齐的地址处设置整数值？

> ID：12721087
> 
> 赞同：2
> 
> 时间：2012-10-04T05:55:26.070
> 
> 标签：c, embedded

我有一个简短的采访，问题是这样的：设置一个整数值`0xaa55`在 address `0x*****9`。

我注意到的唯一一件事是给定的地址没有在字边界上对齐。所以设置`int *p`地址应该不起作用。那么它只是使用 a`unsigned char *p`来按字节分配值吗？这是这个面试问题的重点吗？在现实生活中这样做是没有意义的，不是吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T06:06:38.057

您需要向面试官提出一些附属问题：

1.  的大小（以字节为单位）是`int`多少？
2.  机器是小端还是大端？
3.  机器是否自动处理非对齐访问？
4.  自动处理非对齐访问的性能损失是多少？
5.  这有什么意义？

可能有人正在考虑以快速而肮脏的方式编组数据。

你是对的，一个基本过程是通过 a 写入字节，`char *`或者`unsigned char *`初始化为相关地址。我的附属问题 1 和 2 的答案确定了要使用的确切机制，但是对于`int`little-endian 格式的 2 字节，您可以使用：

```
unsigned char *p = 0x*****9; // Copied from question!
unsigned int v = 0xAA55;

*p++ = v & 0xFF;
v >>= 8;
*p   = v & 0xFF; 
```

您可以轻松推广到 4 字节或 8 字节整数；处理大端整数有点繁琐。

* * *

我组装了一些计时代码来查看相对成本是多少。在 MacBook Pro（2.3 GHz Intel Core i7、16 GiB 1333 MHz DDR3 RAM、Mac OS X 10.7.5、自制 GCC 4.7.1）上测试，我得到以下非优化代码的时间：

```
Aligned:          0.238420
Marshalled:       0.931727
Unaligned:        0.243081
Memcopy:          1.047383
Aligned:          0.239070
Marshalled:       0.931718
Unaligned:        0.242505
Memcopy:          1.060336
Aligned:          0.239915
Marshalled:       0.934913
Unaligned:        0.242374
Memcopy:          1.049218 
```

当使用优化编译时，即使没有，我也会遇到分段错误`-DUSE_UNALIGNED`——这让我有点困惑。调试并不容易；似乎有很多积极的内联优化，这意味着调试器无法打印变量。

代码如下。`Clock`类型和标题`time.h`（和`timer.c`来源）未显示，但可以根据要求提供（请参阅我的个人资料）。它们在大多数平台上提供高分辨率计时（Windows 最不稳定）。

```
#include <string.h>
#include <stdio.h>
#include "timer.h"

static int array[100000];
enum { ARRAY_SIZE = sizeof(array) / sizeof(array[0]) };
static int repcount = 1000;

static void uac_aligned(int value)
{
    int *base = array;
    for (int i = 0; i < repcount; i++)
    {
        for (int j = 0; j < ARRAY_SIZE - 2; j++)
            base[j] = value;
    }
}

static void uac_marshalled(int value)
{
    for (int i = 0; i < repcount; i++)
    {
        char *base = (char *)array + 1;
        for (int j = 0; j < ARRAY_SIZE - 2; j++)
        {
            *base++ = value & 0xFF;
            value >>= 8;
            *base++ = value & 0xFF;
            value >>= 8;
            *base++ = value & 0xFF;
            value >>= 8;
            *base   = value & 0xFF;
            value >>= 8;
        }
    }
}

#ifdef USE_UNALIGNED
static void uac_unaligned(int value)
{
    int *base = (int *)((char *)array + 1);
    for (int i = 0; i < repcount; i++)
    {
        for (int j = 0; j < ARRAY_SIZE - 2; j++)
            base[j] = value;
    }
}
#endif /* USE_UNALIGNED */

static void uac_memcpy(int value)
{
    for (int i = 0; i < repcount; i++)
    {
        char *base = (char *)array + 1;
        for (int j = 0; j < ARRAY_SIZE - 2; j++)
        {
            memcpy(base, &value, sizeof(int));
            base += sizeof(int);
        }
    }
}

static void time_it(int value, const char *tag, void (*function)(int value))
{
    Clock c;
    char buffer[32];
    clk_init(&c);
    clk_start(&c);
    (*function)(value);
    clk_stop(&c);
    printf("%-12s  %12s\n", tag, clk_elapsed_us(&c, buffer, sizeof(buffer)));
}

int main(void)
{
    int value = 0xAA55;

    for (int i = 0; i < 3; i++)
    {
        time_it(value, "Aligned:",   uac_aligned);
        time_it(value, "Marshalled:", uac_marshalled);
#ifdef USE_UNALIGNED
        time_it(value, "Unaligned:", uac_unaligned);
#endif /* USE_UNALIGNED */
        time_it(value, "Memcopy:",   uac_memcpy);
    }
    return(0);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T06:21:35.300

```
memcpy((void *)0x23456789, &(int){0xaa55}, sizeof(int)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T14:33:07.113

是的，您可能需要处理现实生活中未对齐的多字节值。想象一下，您的设备与另一台设备交换数据。例如，该数据可能是通过网络发送的消息结构或保存到磁盘的文件结构。该数据的格式可能是预定义的，不受您的控制。并且数据结构的定义可能不考虑设备的对齐（甚至字节序）限制。在这些情况下，您在访问这些未对齐的多字节值时需要小心。

# xcode4 - 由于 XCode 4.5 没有 ViewController 标识符，如何以编程方式实例化 ViewController？

> ID：12721088
> 
> 赞同：1
> 
> 时间：2012-10-04T05:55:28.107
> 
> 标签：xcode4, uiviewcontroller, ios6

我需要`ViewController`使用 Storyboard 以编程方式实例化一个，因为这个 ViewController 只被有条件地调用（它在 a`UIBarButtonItem`存在时加载，这是有条件的）。

我知道我可以按照本[Apple 开发人员指南](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/UsingViewControllersinYourApplication/UsingViewControllersinYourApplication.html)的指示，通过调用此方法`instantiateViewControllerWithIdentifier:(NSString *)identifier`来做到这一点（请参阅以**编程方式实例化 Storyboard 的视图控制器**）。`UIStoryboard`

 **这一切都很好，直到我坚持使用`identifier`，因为 XCode 4.5 Interface Builder`identifier`在 Attributes Inspector 下没有属性。它只有 Identity Inspector 下的 Storyboard ID，这并没有真正的帮助。

任何人都知道如何解决这个问题？**

# php - 如何将一个字符串插入另一个字符串？

> ID：12721090
> 
> 赞同：-2
> 
> 时间：2012-10-04T05:55:34.943
> 
> 标签：php, youtube, embed

我想将一个字符串插入另一个字符串。

我有 youtube 链接： [http ://www.youtube.com/9bZkp7q19f0](http://www.youtube.com/9bZkp7q19f0)

我想在 .com 之后添加 /embed 以便我可以即时嵌入它们。

我怎样才能让它们看起来像这样？： [http ://www.youtube.com/embed/9bZkp7q19f0](http://www.youtube.com/embed/9bZkp7q19f0)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T05:57:00.957

```
$url = str_replace("youtube.com/", "youtube.com/embed/", $url); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:03:43.140

您可以使用“substr_replace”，这意味着您正在替换字符串的一部分内的文本。

看看这个，可以进一步了解 substr_replace， [http ://php.net/manual/en/function.substr-replace.php](http://php.net/manual/en/function.substr-replace.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:21:00.307

```
$link = "http://www.youtube.com/9bZkp7q19f0"; 
$link = str_replace("youtube.com/", "youtube.com/embed/", $link); 
```

现在

```
$link = "http://www.youtube.com/embed/9bZkp7q19f0"; 
```

# database - 如何在soapui中连接derby数据库？

> ID：12721097
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:56:01.890
> 
> 标签：database, derby, soapui

`soapui`尽管我能够连接 Oracle 数据库，但我无法连接 derby数据库。

谁能帮我吗。如何连接德比数据库`soapui`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:14:13.753

提供 JDBC 连接设置的方法有两种：

1.  使用项目级别的 JDBC 连接 - 在这种情况下，驱动程序、连接字符串和密码属性将填充为所选 JDBC 连接的配置值（但这些字段将被禁用并且是只读的）。
2.  使用驱动程序/连接字符串/密码的文本字段值 - 在这种情况下，数据库连接设置为“无”。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-12-08T06:05:28.813

jdbc:derby://localhost:1527/databasename.db;create=true;user=sa;password=sa

# c - 线程间共享内存

> ID：12721100
> 
> 赞同：2
> 
> 时间：2012-10-04T05:56:10.727
> 
> 标签：c, shared-memory

我正在寻找 C 程序源代码。您能否帮我找到下面提到的所需源代码。

程序创建多个线程（一个主线程和其余工作线程）并使用线程写入和读取共享内存。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:11:10.617

所有的全局变量都是线程的共享内存区域。'x' 是全局的，并在以下示例中的所有线程之间共享。

```
#include<pthread.h>
#include<stdio.h> 
int sharedx=0;
void *threadFunc(void *arg)
{
    printf(" %d %s", sharedx,(char*)arg);
    sharedx++;
}
int main(void)
{
    pthread_t pth[10];  // this is our thread identifier
    int i = 0;
    for(i; i<10; i++) {  
       pthread_create(&pth[i],NULL,threadFunc,"processing...");
    }
} 
```

# single-sign-on - 如何在 PingFederate 中创建新的 SP 连接？

> ID：12721101
> 
> 赞同：1
> 
> 时间：2012-10-04T05:56:16.663
> 
> 标签：single-sign-on, pingfederate, zendesk

我们正在使用 PingFederate 来启用 SSO。它正在与 LDAP 目录服务器进行映射，并且我们的站点能够使用 SSO。现在，我们正在集成一个帮助台软件应用程序，该应用程序托管在我们自己站点的某个位置。我们希望帮助台用户能够使用我们的站点凭据登录。为此，我需要将帮助台添加为 PingFederate 中的合作伙伴 (SP)，充当 IdP。

我怎样才能做到这一点？一个简短的解释会很有帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T17:48:59.630

我们的文档中有很多关于管理 SP 连接的好信息： https: [//support.pingidentity.com/s/document-item?bundleId=pingfederate -92&topicId=adminGuide%2FmanagingSpConnections.html](https://support.pingidentity.com/s/document-item?bundleId=pingfederate-92&topicId=adminGuide%2FmanagingSpConnections.html)

如何建立连接在很大程度上取决于您如何验证用户身份、您发送的属性以及您的帮助台软件的 SAML 功能/详细信息。如果没有可用的 SAML 功能，您可能必须使用我们的一种[集成](https://support.pingidentity.com/s/marketplace-integration-home-page)来将其作为前端（使用 Web 服务器插件，如 Apache 或 IIS）或修改应用程序（使用我们的一种语言工具包或无代理集成方法）。

您可能还想考虑参加我们关于 PingFederate 基础知识的培训课程之一：[https ://www.pingidentity.com/en/resources/training.html](https://www.pingidentity.com/en/resources/training.html)

如果一切都失败了，如果您有有效的合同，我们的支持中心会为您提供帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T13:13:22.703

您可能想查看我们网站上的入门 - 第 3 部分录音。它演示了如何设置与典型服务提供商的连接。

[https://www.pingidentity.com/support/training-center/index.cfm/103-creating-a-connection?id=1011570451001](https://www.pingidentity.com/support/training-center/index.cfm/103-creating-a-connection?id=1011570451001)

简而言之，您需要与您的合作伙伴就联合进行沟通并共享一些信息，例如：联合标准/协议、基本 URL、实体 ID、端点、绑定、SSO 配置文件、属性等。

以上所有内容取决于您的合作伙伴使用的联合服务器。获得所有信息后，您可以在 PingFederate 中快速设置与您的合作伙伴的连接。我希望这有帮助。我也给你发了一个PM。

# c# - ServiceStack 在没有 MVC 的情况下开启 Razor 智能感知支持

> ID：12721108
> 
> 赞同：6
> 
> 时间：2012-10-04T05:56:57.460
> 
> 标签：c#, razor, servicestack

我已将 SS.Razor 安装到我的测试项目中。如果我只是更改 default.htm -> cshtml，它可以工作，但没有 vs intellisense 语法支持。所以剃刀代码是纯文本黑白。

我想知道如何在不将项目作为 .net MVC 项目打开的情况下打开 Razor。谢谢！

编辑 - - - - - - - - - - - - - - - - - - - - -

这是我的 web.config

（注意 add extension=".cshtml" ... 有没有...）

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
      <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
      <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
    </sectionGroup>
  </configSections>
  <appSettings>
    <add key="webPages:Enabled" value="false" />
  </appSettings>
  <connectionStrings />
  <!--
    For a description of web.config changes for .NET 4.5 see http://go.microsoft.com/fwlink/?LinkId=235367.

    The following attributes can be set on the <httpRuntime> tag.
      <system.Web>
        <httpRuntime targetFramework="4.5" />
      </system.Web>
  -->
  <system.web>
    <compilation debug="true" targetFramework="4.5">
      <assemblies>
        <add assembly="System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
      </assemblies>
      <buildProviders>
        <add extension=".cshtml" type="ServiceStack.Razor.CSharpRazorBuildProvider, ServiceStack.Razor" />
      </buildProviders>
    </compilation>
    <!--
            The <authentication> section enables configuration 
            of the security authentication mode used by 
            ASP.NET to identify an incoming user. 
        -->
    <authentication mode="Windows" />
    <!--
            The <customErrors> section enables configuration 
            of what to do if/when an unhandled error occurs 
            during the execution of a request. Specifically, 
            it enables developers to configure html error pages 
            to be displayed in place of a error stack trace.

        <customErrors mode="RemoteOnly" defaultRedirect="GenericErrorPage.htm">
            <error statusCode="403" redirect="NoAccess.htm" />
            <error statusCode="404" redirect="FileNotFound.htm" />
        </customErrors>
        -->
    <httpHandlers>
      <add path="*" type="ServiceStack.WebHost.Endpoints.ServiceStackHttpHandlerFactory, ServiceStack" verb="*" />
    </httpHandlers>
    <pages controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID" />
  </system.web>
  <!-- 
        The system.webServer section is required for running ASP.NET AJAX under Internet
        Information Services 7.0\.  It is not necessary for previous version of IIS.
    -->
  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <handlers>
      <add path="*" name="ServiceStack.Factory" type="ServiceStack.WebHost.Endpoints.ServiceStackHttpHandlerFactory, ServiceStack" verb="*" preCondition="integratedMode" resourceType="Unspecified" allowPathInfo="true" />
    </handlers>
  </system.webServer>
  <system.web.webPages.razor>
    <host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <pages pageBaseType="ServiceStack.Razor.ViewPage">
      <namespaces>
        <add namespace="ServiceStack.Html" />
        <add namespace="ServiceStack.Razor" />
        <add namespace="ServiceStack.Text" />
        <add namespace="ServiceStack.OrmLite" />
        <add namespace="Backbone.Todos" />
      </namespaces>
    </pages>
  </system.web.webPages.razor>
</configuration> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:14:30.490

为了在 VS.NET 中获得智能感知，您的 ASP.NET Web 应用程序需要注册必要的构建提供程序，这些提供程序告诉 VS.NET 编译剃刀视图、要包含的基类以及要添加的命名空间。您可以在[Razor Rockstars 示例项目中找到必要的](http://razor.servicestack.net/)[Web.Config](https://github.com/ServiceStack/RazorRockstars/blob/master/src/RazorRockstars.WebHost/Web.config)示例。

注意：当您创建自托管控制台应用程序时，您还需要存储在 Web.config 中的 App.Config 的副本（这是 VS.NET 在设计时查看的内容）。在开发/设计时间之后不需要或使用 Web.config 也是如此。

[安装ServiceStack.Razor](https://nuget.org/packages/ServiceStack.Razor) NuGet 包时，应已自动包含必要的 web.config 信息。因此，如果您删除了应用于 Web.config 的[web.config 转换](https://github.com/ServiceStack/ServiceStack/blob/master/NuGet/ServiceStack.Razor/content/web.config.transform)，则需要将其添加回来。如果要手动复制 web.config.transform 文件，则需要`$rootnamespace$`使用项目命名空间手动修改占位符，例如更改：

```
<add namespace="$rootnamespace$" /> 
```

到

```
<add namespace="Amce.MyWebProject" /> 
```

嗯，看起来 VS 2012 上的智能感知可能存在一个突出问题，您需要恢复使用 VS2010，直到我们弄清楚 VS.NET 团队对 Razor 的构建提供程序所做的更改。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-06-07T13:28:28.980

除了确保`<buildProviders>`在 web.config 中定义正确之外，如果您在 VS 中打开 .cshtml 文件时看到以下警告。

> ASP.NET 运行时错误：无法加载文件或程序集“ServiceStack.Razor”或其依赖项之一。该系统找不到指定的文件。

您需要将 ServiceStack.*.dll 和 System.Web.Razor.dll 复制到 /bin 目录中。没错，不是 /bin/debug 或 /bin/release 目录。即使在自托管项目中（无需创建 Web 项目），这也将为您提供完整的 Intellisense 支持。

# wordpress - 如何将子页面重定向到 wordpress 多站点中的父页面？

> ID：12721114
> 
> 赞同：1
> 
> 时间：2012-10-04T05:57:09.997
> 
> 标签：wordpress

如何将子页面重定向到 wordpress 多站点中的父页面？

有没有办法将使用 wordpress 多站点创建的子域重定向到主域？

全部

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:20:14.793

您可以使用诸如来自 wpmudev的[域映射插件之类的东西。](http://premium.wpmudev.org/project/domain-mapping/)我们已经将它用于少数客户。

或者，如果您不介意效率不高，您可以在`<head>`子域中放置一个 javascript 重定向（可能是 header.php 中的当前主题），例如

```
<script type="text/javascript">
    window.open('http://www.domain.com/', '_self');
</script> 
```

或者可能是同一文件顶部的 PHP 函数？

```
<?php header("Location: http://www.domain.com/"); ?> 
```

但是，必须在将其他任何内容发送到浏览器之前使用 PHP，否则您将收到“标头已发送”错误并且天会塌陷。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-02T08:45:13.750

您还可以通过 htaccess 重定向您的页面。

```
Redirect http://www.yourchildthemurl.com http://yourmaintheme.com 
```

通过在您的网站中添加此代码，您可以轻松地重定向您的网站或页面。

# zip - 带有 .csv 扩展名的 Zip 文件在文件系统中的某处丢失

> ID：12721119
> 
> 赞同：-2
> 
> 时间：2012-10-04T05:57:26.190
> 
> 标签：zip, file-search

该文件也被winzip锁定，我不记得名称或目录，我将它隐藏在一个非常不起眼的目录中。可能在windows系统文件可能在程序目录文件中。我搜索了我有 4-5K 的所有 .CSV 文件。关于如何做到这一点的任何建议？

我通过用记事本加号突出显示一堆按编辑的方式分批打开文件。比经历每一个。我知道一旦在记事本中打开文件，它就不会显示任何文字。是图片。我拥有一个电子商务网站，并且我有我购买的 $X,XXX 的主副本，并且不想冒任何机会被我网络上的其他人找到并转售。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:12:27.013

在十六进制编辑器中打开任何`zip`文件都表明每个`zip`文件都以`PK`. 我们可以利用它对我们有利。:)

下载此软件：[EditPad Pro](http://www.editpadpro.com/)

该软件所做的是，它从指定的基本文件夹开始遍历整个文件系统，以搜索驻留在任何子文件中的任何字符串，它们可能是文本或二进制文件，它对它们进行相同的处理，从而给出准确的结果。

在我们的例子中，它是一个正则表达式：`^PK`

当您执行此搜索时，软件将返回所有以 data 开头的文件，`PK`请确保您进行区分大小写的搜索。

# actionscript-3 - Flex UIComponent 不允许使用“ALPHA”填充创建矩形

> ID：12721129
> 
> 赞同：0
> 
> 时间：2012-10-04T05:58:36.040
> 
> 标签：actionscript-3, apache-flex

使用 Alpha 填充创建矩形时遇到问题。似乎 UIComponent 不允许填充矩形的“Alpha”，并将其转换为 100% alpha（alpha=1）。如何在 flex 的 UIComponent 中制作一个 alpha 填充的矩形？

```
var uic:UIComponent = new UIComponent(); 

var mc:MovieClip = new MovieClip(); 

mc.graphics.beginFill(0xffcc33,0.2) // <<<<<<NOTICE THE ALPHA FILL
mc.graphics.lineStyle( 1,0xffcc33);
mc.graphics.drawRect(0,0,100,100);
mc.graphics.endFill();
uic.addChild(mc);

addElement(uic); 
```

PS：另外，在 UIComponent 中添加动画剪辑时，即使是像“发光”这样的滤镜效果也不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T09:50:26.667

您可以使用此代码创建具有“ALPHA”填充的矩形

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
               xmlns:s="library://ns.adobe.com/flex/spark"
               minWidth="955"
               minHeight="600">

    <fx:Script>
        <![CDATA[
        import mx.graphics.SolidColor;
        import mx.graphics.SolidColorStroke;

        import spark.primitives.Rect;

        public function makeRect():void {
            var rect:Rect = new Rect();
            rect.width = 100;
            rect.height = 100;

            rect.fill = new SolidColor(0xffcc33, 0.2);
            rect.stroke = new SolidColorStroke(0xffcc33, 1);

            addElement(rect);
        };
    ]]>
    </fx:Script>

    <s:Button click="makeRect()"/>

</s:Application> 
```

# android - android 2.2 音乐播放器中光盘视图的源代码

> ID：12721138
> 
> 赞同：0
> 
> 时间：2012-10-04T05:59:11.763
> 
> 标签：android, audio-player, android-music-player

嘿，我想制作自己的音乐播放器，我想在光盘视图中显示歌曲列表，如此处所示[，](http://forum.xda-developers.com/showthread.php?t=1188757)这在所有安卓手机的音乐播放器中都可用。那么我在哪里可以找到代码。我听说所有这些源代码都是免费提供的。我努力寻找它，但找不到它。

提前谢谢你。您的帮助将不胜感激。

# liferay - Liferay 6.1中两个页面可以共享相同的url吗

> ID：12721141
> 
> 赞同：0
> 
> 时间：2012-10-04T05:59:45.433
> 
> 标签：liferay

我正在开发一个有标签的网站，每个标签都有子标签。我使用页面来显示标签。我有一个问题，我的标签内容和它的第一个子标签是相同的。我正在尝试一种方式，通过这种方式可以让两个人共享 url。在控制面板中，当我尝试同时使用一个 url 时，您有友好的 url - 它显示**友好的 url 必须是唯一的**。就像 TAB_A 有 TAB_A,TAB_A1,TAB_A2,TAB_A3 作为子页面。并且 TAB_A（父页面）和 TAB_A（子页面）应该相同。

TAB_A-

*   选项卡_A
*   选项卡_A1
*   TAB_A2
*   TAB_A3

如果它涉及要做什么的主题，请提供帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:07:58.037

是的他们可以。这两个页面之一可以是“链接到页面”类型。

要使父页面成为子页面的链接：

1.  选择“控制面板”->“站点页面”
2.  选择父页面
3.  在“类型”组合框中选择“链接到页面”
4.  在出现的组合框中选择子页面“链接到页面”

# objective-c - Objective C 初始化器基础

> ID：12721144
> 
> 赞同：1
> 
> 时间：2012-10-04T06:00:12.440
> 
> 标签：objective-c, ios, xcode, initialization

我有一个关于与内存管理重叠的初始化程序的问题。我相信这是一个功能完善的初始化程序（即使它在不鼓励的 init 方法中调用 setter）。. .

```
@synthesize age = _age, name = _name, delegate = _delegate;

- (id)initWithName:(NSString *)name Age:(int)age delegate:(MyDelegateClass *)delegate
{
    if (self = [super init]) {

        [self setName:name];
        [self setAge:age];
        [self setDelegate:delegate];
     }

  return self;

} 
```

但是这个初始化器呢？我需要为这些 ivars 分配内存还是像这样开箱即用？

```
- (id)initWithName:(NSString *)name Age:(int)age delegate:(MyDelegateClass *)delegate
{
    if (self = [super init]) {

        _name = name;
        _age = age;
        _delegate = delegate;
     }

  return self;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:15:02.970

一些东西：

1.  (void) 返回类型不起作用。实现（id）
2.  编译器将警告条件中的赋值，使用两行
3.  通常的做法是直接在 init 中设置 ivars，而不是指 self*
4.  您建议的任何一种形式都不分配内存。这是在分配对象时完成的。

所以 ...

```
- (id)initWithName:(NSString *)name age:(int)age delegate:(MyDelegateClass *)delegate {

    self = [super init];
    if (self) {
        _name = name;
        _age = age;
        _delegate = delegate;
    }
    return self;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:28:06.923

通常，您需要复制字符串而不是分配它们——即使您已指定它`name`是一个`NSString*`，它指向的对象实际上可能是一个`NSMutableString`。所以这样做：

```
_name = [name copy]; 
```

# c++ - 在 C++ 中创建网络链接

> ID：12721147
> 
> 赞同：0
> 
> 时间：2012-10-04T06:00:26.883
> 
> 标签：c++

我想知道是否可以用 ANSI C/C++ 编写代码，以便从可执行文件中将我重定向到原始链接。

我在这个对话框上有一个对话框我在这个“关于我”菜单选项中有一个关于我的菜单选项我想要一个指向外部网站的链接，比如 www.google.com。对话框是用 c++ 创建的。例如，

```
On click of Google->www.google.co.in 
```

这可以使用 acrobat sdk 实现吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:13:48.650

This is not actually possible in ANSI C/C++ without operating-system specific extensions. So the answer to this question will depend on what operating system you're targetting.

On Linux, recently distributions have been including an [xdg-open wrapper script](https://stackoverflow.com/a/5116553/36723) to invoke the default browser. You can use `system()` or `fork()` and [one of the `exec*()` family of functions](http://linux.die.net/man/3/execvp) to invoke it.

On Windows, [use `ShellExecute` to open the default browser.](http://support.microsoft.com/kb/224816)

On Mac OS X, use the `open` CLI call via `system` or `fork()` and `exec` (as in Linux), [or you can use the Core Foundation native calls.](https://stackoverflow.com/a/4177902/36723)

On Android, [send a browser intent.](https://stackoverflow.com/a/2201999/36723) And on iPhone, [there are some calls to open the browser as well.](https://stackoverflow.com/a/3989642/36723)

All of this I got by googling for things like "windows open browser url". I encourage you to try using search engines to find API references in the future; for finding the right API call, this is often a lot faster than asking on stackoverflow.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:05:21.070

如果您想在默认浏览器中打开它，您应该为您的操作系统执行适当的命令。例如，要在 Linux 下的 Firefox 中在新选项卡中打开 Google，您必须执行

`firefox -new-tab "http://www.google.com"`

这可以通过调用`system()`函数来完成，例如：

`system( "firefox -new-tab \"http://www.google.com\"" );`

如果您希望站点出现在您的应用程序中，则必须将浏览器集成到其中。许多现代 IDE 都内置了可以处理基本操作的浏览器小部件，并且可以轻松集成到您的应用程序中。

# c# - 选择 gridview 行/ASP/AJAX/C# 时模式弹出窗口关闭

> ID：12721148
> 
> 赞同：0
> 
> 时间：2012-10-04T06:00:32.027
> 
> 标签：c#, asp.net, asp.net-ajax

我有一个从`LinkButton`内部启动的模态弹出窗口`GridView`。在 Modal Popup 里面有 3`TextBox`和 3 `GridView`。用户从`GridView`行中选择项目，然后将其填充到文本框中。

当用户选择`GridView`一行时，模式弹出窗口关闭。如果您再次打开模式弹出窗口，`TextBox`则会填充但我需要模式弹出窗口保持打开状态。

主页网格视图

```
<asp:ScriptManager ID="ScriptManager1" runat="server" EnablePageMethods="true">
</asp:ScriptManager>
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
    <ContentTemplate>
        <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="false"
            OnSelectedIndexChanged="GridView1_SelectedIndexChanged"
            OnRowDataBound="GridView1_RowDataBound" CssClass="mGrid" 
            AlternatingRowStyle-CssClass="alt">
            <Columns>
                <asp:BoundField DataField="Name" HeaderText="Name" 
                    HtmlEncode="true" />
                <asp:BoundField DataField="Order" HeaderText="Order" 
                    HtmlEncode="true" />
                <asp:BoundField DataField="Drinks" HeaderText="Drinks" 
                    HtmlEncode="true" />
                <asp:BoundField DataField="Comments" HeaderText="Comments" 
                    HtmlEncode="true" />
                <asp:CommandField ShowSelectButton="true" ButtonType="Link" 
                    Visible="false" SelectText="Enroll" />
                <asp:TemplateField ItemStyle-Width="60px">
                    <ItemTemplate>
                        <asp:LinkButton ID="lnkEdit" runat="server" 
                            Text="Add Lunch" OnClick="Edit"/>
                    </ItemTemplate>
                </asp:TemplateField>
            </Columns>
        </asp:GridView>
    </ContentTemplate>
</asp:UpdatePanel> 
```

主页模式弹出窗口

```
<asp:Panel ID="Panel2" runat="server" class="modalPopup" Style="display: none">
    <table>
        <tr>
            <td>
                <asp:Label ID="Header" runat="server" Text=""></asp:Label>
            </td>
        </tr>
        <tr>
            <td valign="top">
                <asp:Label ID="Label1" runat="server" Text="Order"></asp:Label>
            </td>
            <td valign="top">
                <asp:Label ID="Label2" runat="server" Text="Drinks">
                </asp:Label>
            </td>
            <td valign="top">
                <asp:Label ID="Label3" runat="server" Text="Comments">
                </asp:Label>
            </td>
        </tr>
        <tr>
            <td valign="top">
                <asp:TextBox ID="txtOrder" runat="server" Rows="3" 
                    TextMode="MultiLine" Width="100%"></asp:TextBox>
            </td>
            <td valign="top">
                <asp:TextBox ID="txtDrinks" runat="server" Rows="3" 
                    TextMode="MultiLine"></asp:TextBox>
            </td>
            <td valign="top">
                <asp:TextBox ID="txtComments" runat="server" Rows="3" 
                    TextMode="MultiLine"></asp:TextBox>
                <asp:TextBox ID="txtName" runat="server" Visible="false">
                </asp:TextBox>
                <asp:TextBox ID="txtDate" runat="server" Visible="false">
                </asp:TextBox>
            </td>
        </tr>
        <tr>
            <td>
                Order History
            </td>
        </tr>
        <tr>
            <td valign="top">
                <asp:GridView ID="gvOrder" runat="server" CssClass="mGrid" 
                    AlternatingRowStyle-CssClass="alt"
                    AutoGenerateColumns="false" 
                    OnSelectedIndexChanged="gvOrder_SelectedIndexChanged">
                    <Columns>
                        <asp:BoundField DataField="Order" HeaderText="Order" 
                            HtmlEncode="true" />
                        <asp:CommandField SelectText="Add To Order" 
                            ShowSelectButton="True" />
                    </Columns>
                </asp:GridView>
            </td>
            <td valign="top">
                <asp:GridView ID="gvDrinks" runat="server" CssClass="mGrid" 
                    AlternatingRowStyle-CssClass="alt"
                    AutoGenerateColumns="false" 
                    OnSelectedIndexChanged="gvDrinks_SelectedIndexChanged">
                    <Columns>
                        <asp:BoundField DataField="Drinks" HeaderText="Drinks" 
                            HtmlEncode="true" />
                        <asp:CommandField SelectText="Add To Order" 
                            ShowSelectButton="True" />
                    </Columns>
                </asp:GridView>
            </td>
            <td valign="top">
                <asp:GridView ID="gvComments" runat="server" CssClass="mGrid" 
                    AlternatingRowStyle-CssClass="alt"
                    AutoGenerateColumns="false">
                    <Columns>
                        <asp:BoundField DataField="Comments" 
                            HeaderText="Comments" 
                            HtmlEncode="true" />
                        <asp:CommandField SelectText="Add To Order" 
                            ShowSelectButton="True" />
                    </Columns>
                </asp:GridView>
            </td>
        </tr>
        <tr>
            <td>
                <div class="popup_Buttons">
                    <asp:Button ID="Okaybtn" runat="server" Text="Done" 
                        OnClick="Save" />
                    <input id="Button1" type="button" value="Cancel" />
                </div>
            </td>
        </tr>
    </table>
</asp:Panel>
<asp:Button ID="btnShowPopup" runat="server" Style="display: none" />
<cc1:ModalPopupExtender ID="popup" runat="server" DropShadow="false" 
    PopupControlID="Panel2" TargetControlID="btnShowPopup" 
    BackgroundCssClass="modalBackground">
</cc1:ModalPopupExtender> 
```

谁能解释为什么会发生这种情况以及我可以做些什么来解决它？如果您需要查看一些代码隐藏，请告诉我。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-06T14:23:19.553

有点晚了，但你可以打电话

modalPopupExpander.Show();

可能的方法是注册到您的模态内容页面的事件。

# php - 此 mysql 查询的 Codeigniter 等效项

> ID：12721150
> 
> 赞同：0
> 
> 时间：2012-10-04T06:00:56.650
> 
> 标签：php, mysql, codeigniter

我试图掌握 CI 数据库助手/类/库。而核心基础我可以做的没有问题。但是我习惯于直接编写查询而不是使用 ORM，这有点令人困惑。反正..

我有这个查询

```
SELECT * FROM my_table 
  WHERE ((a_id = xx OR b_id = xx) AND (a_id = zz OR b_id = zz)) 
  AND active = 1 
```

基本上我有一个表，我有 2 个用户相互关联，但是有多个用户，所以我需要确保连接存在，特别是在 2 之间，其中活动标志是什么。

但是不确定如何在 CI 的 ORM 中处理该查询，因此我正在寻求有关该问题的一些指导。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:12:29.433

试试下面的代码

```
$this->db->select('*');
$this->db->where('(a_id = "xx" or b_id = "xx")';
$this->db->where('(a_id = "zz" or b_id = "zz")';
$this->db->where('active', '1'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:32:10.333

看看我的这个回答。这将使您对如何在活动记录中使用子查询或这种情况有一个很好的了解

[如何将此 SQL 重写到 CodeIgniter 的活动记录中？](https://stackoverflow.com/questions/10502778/how-can-i-rewrite-this-sql-into-codeigniters-active-records/10546395#10546395)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T15:44:48.133

如果您不想使用活动记录，您可以这样做

```
$this->load->database();
$sql = "SELECT * FROM mytable WHERE visible = 't' ORDER BY symbol";
$query = $this->db->query($sql);
return $query->result(); 
```

请参阅[http://codeigniter.com/user_guide/database/queries.html](http://codeigniter.com/user_guide/database/queries.html)

# php - wordpress 网站上的 setcookie 问题

> ID：12721151
> 
> 赞同：0
> 
> 时间：2012-10-04T06:00:57.260
> 
> 标签：php, wordpress, setcookie

起初我有我`setcookie()`的：

```
$school = "Some Value";
setcookie("default_school", $school, time()+3600);
var_dump($_COOKIE); 
```

没用，于是我搜索了一下，发现我可能只是需要设置一个路径，所以我将其更改为：

```
$school = "Some Value";
setcookie("default_school", $school, time()+3600, "/", ".mydomain.com");
var_dump($_COOKIE); 
```

那仍然没有用，所以我做了更多调查，并确定我的问题一定是我设置 cookie 太晚了。所以我然后开始检查我的标题是否设置在我的代码的某些部分中，需要返回`bool(false)`.

```
var_dump(headers_sent()); 
```

首先是 my 的顶部`index.php`，然后是 my 的顶部`header.php`，但结果仍然相同；他们都返回真实？

我觉得这应该很简单，而且我无处可去。朝着正确的方向推动将受到高度赞赏。

谢谢，艾萨克

编辑：刚刚尝试将它放在 init 钩子之前，它返回 false。然后我把 setcookie 函数放在那里，仍然没有运气。

编辑2：最终添加：

```
function set_user_cookie() {
    $school = "Some Value";
    setcookie('default_school', $school, time()+3600);
}

add_action('init', 'set_user_cookie'); 
```

现在它完美地工作了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:32:47.427

要调试这种情况，您应该从启用正确的错误报告开始（不要在生产环境中使用）：

```
error_reporting(-1);
ini_set('display_errors', 'On'); 
```

如果您随后调用`setcookie()`它，它将发出警告，告诉您输出开始的位置。

如果你不能这样做，你可以用`headers_sent()`这种方式来确定输出的开始位置：

```
if (headers_sent($file, $line)) {
    echo "Output started in $file on line $line\n";
} 
```

# shell - log4j 配置文件未加载

> ID：12721154
> 
> 赞同：0
> 
> 时间：2012-10-04T06:01:12.970
> 
> 标签：shell, log4j

我正在运行一个 shell 脚本来执行一个 java 程序。调用我正在传递的java程序时

```
-Dlog4j.configuration=${SRD_BATCH_HOME}/propertyfile/log4j.properties 
```

当我运行程序时，我在日志顶部看到了这个

> ```
> log4j: Trying to find [/some path/log4j.properties] using context classloader 
> ```
> 
> sun.misc.Launcher$AppClassLoader@4aad3ba4。log4j：尝试使用 sun.misc.Launcher$AppClassLoader@4aad3ba4 类加载器查找 [/some path/log4j.properties]。log4j：尝试使用 ClassLoader.getSystemResource() 查找 [/some path/log4j.properties]。log4j：找不到资源：[/some path/log4j.properties]。

但是我的 log4j 就在这个地方 //log4j.properties

我`BasicConfigurator.configure()`在我的 java 程序中添加并且日志开始打印，但现在它打印所有内容，因为它没有查看我的属性文件。有人可以帮助解决这里可能出现的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T16:51:38.857

尝试将“file：/”添加到文件路径的开头

```
-Dlog4j.configuration=file:/${SRD_BATCH_HOME}/propertyfile/log4j.properties 
```

[在这里](https://stackoverflow.com/questions/875663/log4j-properties-in-a-custom-place/875705#comment17216594_875705)指定

# variables - 每个 Wordpress 帖子的动态变量都不同：如何在循环中声明？

> ID：12721157
> 
> 赞同：0
> 
> 时间：2012-10-04T06:01:22.313
> 
> 标签：variables, wordpress, dynamic-variables

我需要一个 wordpress 循环，它为每个帖子检查以前分配给每个帖子分类法的元数字变量，并返回这些元变量的总和。为此，我想我需要一个动态变量名来表示总数。我的意思是：

变量relatedtopost = metataxonomy1 + metataxonomy2 + ... + metataxonomyn
echo variablerelatedtopost

我怎样才能做到这一点？是否可以通过循环生成动态数值变量？我怎么能以一般的方式引用它，而不用它的名字来称呼它？
感谢大家！对于可能出现的英语错误，我们深表歉意：P

编辑：我刚刚意识到 Alex 的代码不是我想要的。我需要一个在每个帖子中更改名称并且值始终为 0 的变量。有解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T14:25:20.297

我找到了我的问题的解决方案：一个在循环的每个 cicle 处增加其长度的数组。我知道这很简单，但由于我只是一个初学者，所以我花了一些时间来考虑它。我在这里发布代码，所以也许它可以帮助某人（如果你发现错误或有改进，请告诉我）

```
//Before the loop, empty array
$totale = array();

// WP Loop
while ( $loop->have_posts() ) : $loop->the_post();

$totale[] = 0;
$indice = (count($totale)) - 1;

// $termvariable was previously set up as a term meta value
if( has_term( 'numberofterm', 'nameoftaxonomy' ) ) {
$totale[$indice] = $termvariable + $totale[$indice];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:16:08.883

你能不能像这样在你的循环中添加一个计数器？

```
//Total should start @ 0 before the loop
$total = 0;

// The Query
$the_query = new WP_Query($args);

// The Loop
while ( $the_query->have_posts() ) : $the_query->the_post();
$amount = get_post_meta($post->ID, 'the_meta_data_field', true);
$total = $total + $amount;
endwhile;

//echo total
echo $total; 
```

# wpf - 如何对网格列进行分区？

> ID：12721160
> 
> 赞同：1
> 
> 时间：2012-10-04T06:01:28.397
> 
> 标签：wpf, layout, windows-phone-7

我有一个有 4 个分区的网格。

```
<Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions> 
```

现在对于相等的分区，我们可以使用它，

```
<Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions> 
```

但我的要求是按比例分区。我怎样才能使比例成为可能，即 1:3:1.3:1.7

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:10:59.273

你离得太近了！

```
<Grid.ColumnDefinitions>
    <ColumnDefinition Width="1*" />
    <ColumnDefinition Width="3*" />
    <ColumnDefinition Width="1.3*" />
    <ColumnDefinition Width="1.7*" />
</Grid.ColumnDefinitions> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:09:16.097

一个整数可以放在星号之前以形成一个权重（例如 3*）。请参阅[MSDN：ColumnDefinition.Width 属性](http://msdn.microsoft.com/en-us/library/system.windows.controls.columndefinition.width%28v=vs.95%29.aspx)，部分语法 > XAML 值 > 星号大小。

在您的情况下，我建议使用 3:9:4:5 作为 1:3:1.3:1.7 的近似值。如果您愿意，也可以使用 10:30:13:17。

这是取自[MSDN 的示例： Grid Class](http://msdn.microsoft.com/en-us/library/system.windows.controls.grid%28v=vs.95%29.aspx)：

```
<Grid.RowDefinitions>
    <RowDefinition Height="2*" />
    <RowDefinition Height="*"/>
</Grid.RowDefinitions> 
```

# image - 是否可以通过 Metro Style App 将图像或文件上传到 SkyDrive？

> ID：12721162
> 
> 赞同：0
> 
> 时间：2012-10-04T06:01:43.140
> 
> 标签：image, file, upload, microsoft-metro, onedrive

是否可以通过 Metro Style App 将图像或文件上传到 SkyDrive？
我已经找到了如何从 SkyDrive 浏览文件。但我还没有找到关于将文件上传到 SkyDrive 的信息。如果您回复我，将非常感谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T14:40:19.710

除非用户安装了桌面应用程序，否则我认为文件选择器方法不起作用。

您应该使用共享合同。如果您添加要共享的数据文件（存储项），则 SkyDrive 将被列为共享目标，并且用户会获得一个 UI，他们可以在其中选择要在 SkyDrive 中保存的位置。这就是我在我的应用程序中实现它的方式。

欲了解更多信息...

[http://msdn.microsoft.com/en-us/library/windows/apps/hh771179.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh771179.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:08:04.073

假设您使用的是 XAML/JavaScript，建议的解决方案是使用 FilePicker。

以下链接可能对您有所帮助。

[http://msdn.microsoft.com/en-us/library/windows/apps/jj150595.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/jj150595.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T08:22:41.097

您可以使用 FileSavePicker 来保存文件。这当然会让用户有机会选择他想要保存到本地文档文件夹或天空驱动器的位置。用户处于控制之中。

```
 FileSavePicker savePicker = new FileSavePicker();
        savePicker.SuggestedStartLocation = PickerLocationId.DocumentsLibrary;
        savePicker.DefaultFileExtension = ".YourExtension";
        savePicker.SuggestedFileName = "SampleFileName";
        savePicker.FileTypeChoices[".YourExtension"] = new List<string>() { ".YourExtension"};

        StorageFile file = await savePicker.PickSaveFileAsync();
        if (file != null)
        {
            await FileIO.WriteTextAsync(file, "A bunch of text to save to the file");
        } 
```

请注意，在示例代码中，我正在代码中创建文件的内容。如果您希望用户从计算机中选择现有文件，那么您必须首先使用 FileOpenPicker，获取文件，然后使用 FileSavePicker 将所选文件的内容保存到 SkyDrive

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T09:43:12.977

感谢 Mamta Dalal 和 Dangling Neuron，但有问题。但看起来我不能使用 FileSavePicker。我必须上传文件（文档、照片）而不仅仅是文本文件。我必须从一条路径复制到另一条路径。如果我使用 FileSavePicker，我必须编写每个文件内容（文本、png、pdf 等）并且无法复制。目前我正在使用 FolderPicker。但不幸的是，FolderPicker 不支持 SkyDrive。我的代码如下：

```
>FolderPicker saveFolder = new FolderPicker();
>saveFolder.ViewMode = PickerViewMode.Thumbnail;
>saveFolder.SuggestedStartLocation = PickerLocationId.Desktop;                
>saveFolder.FileTypeFilter.Add("*");
>StorageFolder storagefolderSave = await saveFolder.PickSingleFolderAsync();
>StorageFile storagefileSave = [Selected storagefile with file picker];
>await storagefileSave.CopyAsync(storagefolderSave,storagefileSave.Name,NameCollisionOption.ReplaceExisting); 
```

如果 FolderPicker 支持 SkyDrive 或者可以使用 FileSavePicker 复制文件，那就太好了。

# c - 为什么“while”的一个主体有效，而另一个无效？

> ID：12721164
> 
> 赞同：1
> 
> 时间：2012-10-04T06:01:55.730
> 
> 标签：c, function, pointers

我正在尝试获取 3 个数字并从最小到最大打印它们。我当前的 while{} 主体和 while{} 的第二个主体（在底部）在它们位于 main() 时工作​​，但我当前的 while{} 主体不起作用..即使 while{} 的第二个主体（在底部）有效。

基本上我必须同时处理身体。{} 它们都在函数 main() 中工作。只有一个在它自己的函数中工作（第二个在最底部），我需要完整代码中显示的那个才能工作。有任何想法吗？？？非常感谢您的帮助！

通过不工作，我的意思是控制台只是在输入 3 个整数后等待。

```
#include <stdio.h>
#include <stdlib.h>

void sortThree(int *a, int *b, int *c);

int main(int argc, char *argv[])
{
    int a, b, c, hold;

        printf("Please input three numbers\n"
               "with a space between each and then press enter:  ");
        scanf("%lf %lf %lf", &a, &b, &c);

        sortThree( &a, &b, &c);

        printf("\n\n%lf %lf %lf", a, b, c);

    system("PAUSE");
    return 0;
}

void sortThree(int *a, int *b, int *c)
{

    while ((*a>*b)||(*b>*c)||(*a>*c))
    {
         if (*a>*b)
           *b = (*a += *b -= *a) - *b;

         if (*b>*c)
           *b = (*c += *b -= *c) - *b;

         if (*a>*c)
           *c = (*a += *c -= *a) - *c;
    }
} 
```

这是第二个 while{} 正文。它在 main() 和它自己的函数中工作。

```
 if (*a>*b)
        {
            int hold;
        hold= *a;
        *a = *b;
        *b = hold;
    }

    if (*b>*c)
    {
        int hold;
        hold= *b;
        *b = *c;
        *c = hold;
    }

    if (*a>*c)
    {
        int hold;
        hold= *a;
        *a = *c;
        *c = hold;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:35:49.837

第一个不起作用，因为您不能依赖从左到右的评估顺序。表达方式

```
*b = (*a += *b -= *a) - *b; 
```

是一个问题，因为您试图在没有中间序列点的情况下两次更改变量的值。你不能这样做 - 这是未定义的行为。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T06:07:24.080

由于语法错误，第一个不起作用。你应该使用

```
If (*a > *c) 
```

代替

```
If (a > c) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:40:25.730

奇怪的是，问题不是函数，而是以 double 而不是 int 扫描和打印的问题。

```
scanf("%i %i %i", &a, &b, &c);
sortThree( &a, &b, &c);
printf("\n\n%i %i %i", a, b, c); 
```

这没有问题（至少在 Code::Blocks 中）。据我所知，效果很好！

```
*b = (*a += *b -= *a) - *b; 
```

# php - 从 JSON 数组的差异中获取新的 JSON 数组

> ID：12721167
> 
> 赞同：-7
> 
> 时间：2012-10-04T06:02:17.303
> 
> 标签：php, json

我需要帮助来解决 php 中的这个问题`array_diff`。谁能帮我解决这个问题。

第一个数组

```
$array1 = array( [0]=> array( [id]=>1 [name]=>n1)
                [1]=> array( [id]=>2 [name]=>n2) 
                [2]=> array( [id]=>3 [name]=>n3)
              ) 
```

第二个数组

```
$array2 = array( [0]=> array( [id]=>1 [name]=>n1)
              ) 
```

输出应该看起来像

```
$outarray =array( 
                [0]=> array( [id]=>2 [name]=>n2) 
                [1]=> array( [id]=>3 [name]=>n3)
               ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:06:47.720

有很多方法可以做到这一点，这是一种明确比较`'id'`键的功能：

```
$ids = array_map(function ($i) { return $i['id']; }, $array2);
$outarray = array_filter($array1, function ($i) use ($ids) {
    return !in_array($i['id'], $ids);
}); 
```

* * *

对初学者更友好的实现，做同样的事情：

```
$ids = array();
foreach ($array2 as $value) {
    $ids[] = $value['id'];
}

$outarray = array();
foreach ($array1 as $value) {
    if (!in_array($value['id'], $ids)) {
        $outarray[] = $value;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:06:38.967

你`$`在变量前面缺少 s 吗？你可以这样使用：

```
$outarray[] = $array1;
$outarray[] = $array2; 
```

# actionscript-3 - AS3中如何缓存音频流数据并访问

> ID：12721169
> 
> 赞同：1
> 
> 时间：2012-10-04T06:02:29.453
> 
> 标签：actionscript-3, flash, caching, audio, stream

我在 AS3 中流式传输 MP3 文件。一切正常（我可以玩），但我希望实现一个“搜索”栏。这意味着我需要缓存文件（因为它正在被下载），然后当用户在歌曲中寻找特定时间时访问缓存的数据。

实际播放 mp3 流的代码：

```
function openStream( stream )
{
    var s:Sound = new Sound();
    var req:URLRequest = new URLRequest(stream);
    var context:SoundLoaderContext = new SoundLoaderContext(500, true);
    s.load(req, context);
    s.play();

} 
```

那么如何在下载文件时缓存文件，然后从缓存中访问数据？

我知道这远非一项微不足道的任务，所以如果您能提供一些教程/文档/文章的链接，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:33:38.227

您不需要为此缓存声音。

只要声音对象存在于内存中，下载的声音数据就可用。

因此，您需要做的就是将函数外部的声音对象带入类范围。

play 函数还返回 Sound 使用的当前 SoundChannel。

```
private var snd:Sound = new Sound();
private var channel:SoundChannel;

function openStream( stream ) { 

     ... 

     channel = snd.play();
} 
```

要实现您可以使用的搜索功能，

*   [bytesLoaded](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/Sound.html#bytesLoaded)（要知道下载了多少声音）

*   [soundChannel.position](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/SoundChannel.html#position)（了解当前声音位置）

# solr - 如何让 SOLR 操纵结果？

> ID：12721173
> 
> 赞同：1
> 
> 时间：2012-10-04T06:02:35.850
> 
> 标签：solr, lucene, search-engine

对于电子商务网站，我们将产品存储为具有以下字段和权重的 SOLR 文档：标题：5 描述：4

对于某些产品，我们需要确保它们出现在前 10 名结果中，即使它们在上述两个领域的相关性并不能使它们进入前 10 名。例如：P1、P2、...。P10 是合法的给定搜索关键字“iPhone”的产品。我有 S1 ... S100 作为想要出现在前 10 名中的赞助产品。我的政策是这 100 个赞助产品中只有 2 个将被随机选择并显示在前 10 名中，因此结果将是：S5、S31 , P1, P2, ... P8。在下一个请求中，滑入的赞助产品可能是 S4、S99。

QueryElevationComponent 允许我们为关键字指定 docID，但不允许我们随机化结果，以便在结果中仅发送完整的赞助 docID 集合中的 2 个。

任何实现这一点的建议将不胜感激。

谢谢， 亚什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:48:58.060

这听起来像是您需要向 Solr 发出两个单独的查询的情况，一个针对合法产品，另一个针对赞助产品。然后，您将需要根据返回的两个 Solr 结果手动操作/构造结果，以便它们满足预期的行为。我不知道有什么方法可以直接在 Solr 中完成此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T13:48:40.863

只是一个可能会引导您朝着正确方向前进的想法：

您可以使用[FunctionQuery](http://wiki.apache.org/solr/FunctionQuery)进行排序。在此 FunctionQuery 中，您可以检查结果是否是赞助结果。[如果是，则根据 spnsored 结果的索引 (0-99) 和ms()](http://wiki.apache.org/solr/FunctionQuery#ms)获得的实际时间的两个两位数部分，您可以通过返回初始查询的分数来决定是否提升结果或修改过的。

如果结果的索引与两个两位数部分之一相同，则结果将被提升。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-14T12:27:53.403

这已解决，请使用海拔组件。

[https://cwiki.apache.org/confluence/display/solr/The+Query+Elevation+Component](https://cwiki.apache.org/confluence/display/solr/The+Query+Elevation+Component)

# iphone - 如何从左侧打开视图并且应该适用于所有视图控制器

> ID：12721174
> 
> 赞同：0
> 
> 时间：2012-10-04T06:02:52.953
> 
> 标签：iphone, objective-c, ios5

![图片](../Images/896b391d10dba093244185f66ab0a24f.png)

我想实现如上图所示的功能。当按下我管理的按钮时，侧面菜单（蓝色面板）应该从左侧打开，但我的问题是**我必须创建这个侧面菜单，以便它可以在其他视图上重复使用**

但是我不明白我应该如何实现它以便可以在其他视图上重用它？

如果有人有想法请分享？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:30:51.490

如果你想为所有 UIViewControllers 拥有自己的转换，你可以为 UIViewController 创建一个类别。

这是你可以做的界面：

*.h 文件：

```
#import <UIKit/UIKit.h>

@interface UIViewController(Transitions)

- (void) presentViewController:(UIViewController *)viewController withPushDirection: (NSString *) direction;
- (void) dismissViewControllerWithPushDirection:(NSString *) direction;

@end 
```

*.m 文件

```
#import "UIViewControllerWithTransitions.h"
#import <QuartzCore/QuartzCore.h>

@implementation UIViewController(Transitions)

- (void) presentViewController:(UIViewController *)viewController withPushDirection: (NSString *) direction {

    [CATransaction begin];

    CATransition *transition = [CATransition animation];
    transition.type = kCATransitionPush;
    transition.subtype = direction;
    transition.duration = 0.25f;
    transition.fillMode = kCAFillModeForwards;
    transition.removedOnCompletion = YES;

    [[UIApplication sharedApplication].keyWindow.layer addAnimation:transition forKey:@"transition"];        
    [[UIApplication sharedApplication] beginIgnoringInteractionEvents];
    [CATransaction setCompletionBlock: ^ {
        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(transition.duration * NSEC_PER_SEC)), dispatch_get_main_queue(), ^ {
            [[UIApplication sharedApplication] endIgnoringInteractionEvents];        
        });
    }];

    [self presentViewController:viewController animated:NO completion:NULL];

    [CATransaction commit];

}

- (void) dismissViewControllerWithPushDirection:(NSString *) direction {

    [CATransaction begin];

    CATransition *transition = [CATransition animation];
    transition.type = kCATransitionPush;
    transition.subtype = direction;
    transition.duration = 0.25f;
    transition.fillMode = kCAFillModeForwards;
    transition.removedOnCompletion = YES;

    [[UIApplication sharedApplication].keyWindow.layer addAnimation:transition forKey:@"transition"];        
    [[UIApplication sharedApplication] beginIgnoringInteractionEvents];
    [CATransaction setCompletionBlock: ^ {
        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(transition.duration * NSEC_PER_SEC)), dispatch_get_main_queue(), ^ {
            [[UIApplication sharedApplication] endIgnoringInteractionEvents];        
        });
    }];

    [self dismissViewControllerAnimated:NO completion:NULL];

    [CATransaction commit];

}

@end 
```

这是一个示例调用：

```
[self presentViewController: myVC withPushDirection:@"fromRight"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:16:17.907

You can add the View to your window... See the link below for further details :)

[Programmatically creating Views in IOS (how does it work)?](https://stackoverflow.com/questions/4820094/programmatically-creating-views-in-ios-how-does-it-work)

[iOS - adding/removing a subview programmatically](https://stackoverflow.com/questions/7373544/ios-adding-removing-a-subview-programmatically)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:16:33.053

Use something like this:

```
[UIView transitionWithView:self.view duration:0.5 options:UIViewAnimationOptionTransitionFlipFromLeft animations:^{["Set your view's new frame here"];} completion:nil]; 
```

or you can set the frame of your view to some default location outside the visible area and then in the animation block set your frame where you want it to be finally after sliding out.

```
[UIView beginAnimation];
//Your new frame here
[UIView commitAnimation]; 
```

something like this.. google it accordingly...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T06:17:24.173

嘿首先看到我在我的项目中实现的这种类型的逻辑..

如果需要，这里给出打开和关闭视图的布尔值

```
-(IBAction)yourButtonOpen_Clicked:(id)sender
    {

        [UIView beginAnimations:nil context:NULL];
        [UIView setAnimationDuration:0.5];
        [UIView setAnimationTransition:UIViewAnimationTransitionNone forView:viewObjectSlider cache:YES];
        viewObjectSlider.frame=CGRectMake(828, 0, 196, 694);// set your frame here
        [UIView commitAnimations];
    }
-(IBAction)yourButtonClosed_Click:(id)sender
{
    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:0.5];
    [UIView setAnimationTransition:UIViewAnimationTransitionNone forView:viewObjectSlider cache:YES];
    viewObjectSlider.frame=CGRectMake(984, 0, 196, 694);//set yourFrame
    [UIView commitAnimations];
} 
```

我在 iPad 应用程序中使用此登录名，所以给这种类型的框架，你可以给 iPhone 框架:)

还可以查看下面的链接，您可以在其中看到一个与您的要求相同的演示。

[http://www.highwaystech.com/index.php/source-code/ios/360-iiviewdeckcontroller-for-ios.html](http://www.highwaystech.com/index.php/source-code/ios/360-iiviewdeckcontroller-for-ios.html)

# c - 为什么我们不在scanf中使用'&'作为char数组

> ID：12721177
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:03:00.577
> 
> 标签：c, pointers

```
int age;
char name[10];

scanf("%d", &age);
scanf("%s", name); 
```

在第一个`scanf`函数中，我们`'&'`在年龄之前使用符号，但在第二个函数中，`scanf`我们不使用`'&'` 它，因为它是一个 char 数组。谁能告诉我为什么会这样？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:04:11.143

因为数组已经作为地址传递，而整数变量不是（因此明确需要通过`&`address-of 运算符传递其地址）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T06:39:42.843

数组名本身引用内存中该数组的开头。在这种情况下：

```
name == &name[0] 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T11:43:14.227

在大多数情况下，“N-element array of `T`”类型的表达式将被转换为（“decay”）类型“pointer to `T`”，表达式的值将是数组中第一个元素的地址。

当你写

```
scanf("%s", name); 
```

表达式`name`的类型为“10 元素数组`char`”；通过上面的规则，它被转换为类型“指针`char`”，它的值与`&name[0]`. 所以`scanf`接收一个指针值，而不是一个数组值。

此规则的例外情况是数组表达式是 、 或一元运算符的操作数`sizeof`，`_Alignof`或者`&`是用于在声明中初始化另一个数组的字符串文字。

请注意，表达式`name`和`&name`会给你相同的*值*（数组的第一个元素的地址与数组的地址相同），但它们的类型会不同；`name`将有 type `char *`，而`&name`将有 type `char(*)[10]`，或“指向 10 元素数组的指针`char`”。

# coldfusion - 如何在 Eclipse IDE 中使用 ColdFusion 插件

> ID：12721185
> 
> 赞同：0
> 
> 时间：2012-10-04T06:03:49.963
> 
> 标签：coldfusion, eclipse-plugin

您好我正在尝试在 Eclipse IDE 中安装 ColdFusion 插件。但是在 Eclipse Marketplace 中，ColdFusion 不存在。那么如何才能安装 ColdFusion 插件..？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T08:49:45.703

我通过在[CFEclipse](http://marketplace.eclipse.org/content/cfeclipse)上进行搜索找到了它。您也可以从[cfclipse.org下载它](http://cfeclipse.org/index.cfm/download/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T08:49:24.050

下载 ColdFusion Builder，您可以将其安装为独立的 IDE 或作为现有 Eclipse 安装的插件。

# wcf - 在点击 WCF 服务之前添加检查

> ID：12721191
> 
> 赞同：1
> 
> 时间：2012-10-04T06:04:26.103
> 
> 标签：wcf, web-services

> **可能重复：**
> [WCF API 部署版本控制](https://stackoverflow.com/questions/8703854/wcf-api-deployment-versioning)

我正在开发 WCF Rest 服务。我有几个服务。现在，在客户点击服务之前，我想添加一个检查即。一个版本号。如果版本号小于，假设 2.0，那么客户端应用程序应该得到一个错误“应用程序已过时”并且它不应该命中服务。

我的主要目的是，我不想在每个 web 服务中应用这个检查。我想要一些通用服务，它首先检查版本，然后只允许客户端访问所需的服务。

如何才能做到这一点。此外，这在 .NET 的经典 Web 服务中是否可行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T09:07:20.143

我认为这是一个非常糟糕的主意 - 您需要创建一个集中式服务，该服务以某种方式知道所有服务端点的所有版本详细信息，然后要求您的消费者进行额外调用以使用您的服务。

这会产生单点故障，因为如果“版本检查器”服务不可用，那么“有效”消费者（具有正确客户端版本的消费者）仍将无法调用您的服务。

此外，您还需要在此中心位置维护每个服务的当前版本，这会产生支持开销。

对服务进行版本控制的最佳方法是尝试进行非破坏性更改，以便支持旧版本的客户端。您可以通过多种方式做到这一点。我在[这里](https://stackoverflow.com/a/10295122/569662)和[这里](https://stackoverflow.com/a/8704864/569662)之前已经发布过这个。

如果您必须进行重大更改，那么您需要让您的消费者中断（因此被迫升级），或者您在不同的端点共同托管不同版本的服务。

**注意：**有一种东西是为您所想的而设计的，称为[UDDI](http://technet.microsoft.com/en-us/windowsserver/dd448618.aspx)。UDDI 服务器背后的想法是它可以存储有关您的服务的所有信息，包括端点地址、传输甚至您的公开类型，以便消费者可以在运行时查询 UDDI 并即时组装客户端。

这将导致您的消费者完全不需要知道您的服务版本，并且会在运行时从 UDDI 检索此信息。

然而，UDDI 很少使用（可能与它引入单点故障的原因相同）。在我的职业生涯中，当我为客户构建 ESB 时，我只使用过一次。

**编辑**

针对您的评论，我认为对您来说最好的解决方案是在您的服务操作请求合同类型上公开一个版本成员，这将要求消费者声明他们期望调用的服务版本。

收到请求后，您可以查询请求并检查版本。如果它们不匹配，那么您可以抛出您在 a 中定义的类型的异常`FaultContract`。（更多关于过错合同[在这里](http://msdn.microsoft.com/en-us/library/ms752208.aspx)）。

这将使您的消费者能够将服务操作调用包装在一个 catch 块中并处理传回的自定义异常类型。我认为没有任何内置异常可以涵盖“无效版本”错误，因此您需要自己定义。

这意味着消费者只有在尝试使用过时的版本属性调用您的服务时才会收到异常，并且避免了进行额外的服务调用。它还分发这些信息而不是集中它（这是更强大的方法）。

**编辑 2**

作为对您的评论的回应，asmx 不支持故障合同。您必须在服务上引发异常，然后在客户端上将异常捕获为[SoapException](http://msdn.microsoft.com/en-us/library/system.web.services.protocols.soapexception.aspx)。然后，在客户端上，您必须询问 SoapException 消息（不是很好）才能确定它是否是因为版本控制。

# java - selenium web 驱动程序：如何从 selenium Junit 程序中调用一个类

> ID：12721192
> 
> 赞同：1
> 
> 时间：2012-10-04T06:04:25.357
> 
> 标签：java, selenium, webdriver, selenium-webdriver

我必须创建一个设置 selenium webdriver 的通用类。我的设置基类：Setupbase.java

```
public void setUp() throws Exception {
driver = new FirefoxDriver();
baseUrl = "http://example.com/";
driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);} 
```

此安装程序类很常见。每当我编写一个新程序时，我都需要调用这个类。这是我的登录程序：Login.java

```
public class Login extends Setupbase{
super.setUp();
driver.get(baseUrl + "/");
driver.findElement(By.id("Email")).clear();
driver.findElement(By.id("Email")).sendKeys("username");
driver.findElement(By.id("Passwd")).clear();
driver.findElement(By.id("Passwd")).sendKeys("password");
driver.findElement(By.id("signIn")).click();} 
```

但是我在执行这段代码时遇到了错误。任何人都可以帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:47:17.043

我想代表我在项目中使用的结构。看来你忘了`@Before`,`@After`和 `@Test`符号。

```
public class BaseSeleniumTest extends SeleneseTestBase {
    static WebDriver driver;

    @Before
    public void openFirefox() throws IOException {

        driver = new FirefoxDriver();
        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);

        driver.get(propertyKeysLoader("login.base.url"));
        doAdminLogin();
    }

    @After
    public void closeFirefox(){
        driver.quit();
    }

    public void doAdminLogin() throws IOException {
        String curTitle=driver.getTitle();
        locatorFindingHandling("login.logininput", "login.admin.login");
        locatorFindingHandling("login.passinput", "login.admin.pass");
        locatorFindingHandling("login.loginbutton");

        String newTitle=driver.getTitle();
        Assert.assertFalse(curTitle.equals(newTitle));

    }

    public void locatorFindingHandling(String key) throws IOException /*throws IOException*/ {

        fluentWait(By.cssSelector(propertyKeysLoader(key))).click();

    }
    public void locatorFindingHandling(String key, String key1) throws IOException {

        driver.findElement(By.xpath(propertyKeysLoader(key))).sendKeys(propertyKeysLoader(key1));

    }

    public void doLogout() throws InterruptedException, IOException {
        String curTitle=driver.getTitle();
        jsClick("rms.home.logout");
        String newTitle=driver.getTitle();
        Assert.assertFalse(curTitle.equals(newTitle));

    }
....
} 
```

然后我`BaseSeleniumTest.java`以以下方式扩展我的：

```
public class LoginPageTestSuite extends BaseSeleniumTest {

    @Test
    public void loginWithEmptyCredentials() throws IOException, InterruptedException {
        doLogout();
        fluentWait(By.cssSelector(propertyKeysLoader("login.loginbutton"))).click();

        Assert.assertTrue(fluentWait(By.cssSelector(propertyKeysLoader("login.validator.invalidautentication"))).getText().trim().equals("Invalid authentication"));
    }

    @Test
    public void logoutAdminLogin() throws IOException, InterruptedException {
        doLogout();
        doAdminLogin();

    }

    @Test
    public void loginWithWrongPass() throws IOException, InterruptedException {
        doLogout();
        locatorFindingHandling("login.logininput", "login.admin.login");

        locatorFindingHandling("login.passinput", "login.invalidPass");

        locatorFindingHandling("login.loginbutton");
        Assert.assertTrue(fluentWait(By.cssSelector(propertyKeysLoader("login.validator.invalidautentication"))).getText().trim().equals("Invalid authentication"));

    }
.....
} 
```

因此，从您的代码来看，它类似于：

```
 public class Setupbase extends SeleneseTestBase {
        static WebDriver driver;

        @Before
        public void openFirefox() throws IOException {        

            driver = new FirefoxDriver();
            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);
            String baseUrl = "http://example.com";
            driver.get(baseUrl);                
        }       

        @After
        public void closeFirefox(){
            driver.quit();
        }
}   

public class Login extends Setupbase{

@Test
public void loginTest() {
    driver.findElement(By.id("Email")).clear();
    driver.findElement(By.id("Email")).sendKeys("username");
    driver.findElement(By.id("Passwd")).clear();
    driver.findElement(By.id("Passwd")).sendKeys("password");
    driver.findElement(By.id("signIn")).click();
  }
} 
```

希望这对你有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:16:58.157

This will be your setup class :

```
public class Setupbase {

WebDriver driver;
String baseUrl;
public void setUp() throws Exception {
    driver = new FirefoxDriver();
    baseUrl = "http://example.com";
    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);}

} 
```

The class that uses that setup class:

```
public class Login extends Setupbase
{
@Test

public void LoginTest() throws Exception{

    super.setUp();
    driver.get(baseUrl + "/");
    driver.findElement(By.id("Email")).clear();
    driver.findElement(By.id("Email")).sendKeys("username");
    driver.findElement(By.id("Passwd")).clear();
    driver.findElement(By.id("Passwd")).sendKeys("password");
    driver.findElement(By.id("signIn")).click();}

} 
```

# php - 如何将这个“R”公式翻译成 MySQL/PHP？

> ID：12721198
> 
> 赞同：0
> 
> 时间：2012-10-04T06:04:49.807
> 
> 标签：php, mysql, r, statistics

R用于统计计算。我不知道统计数据从未与 R 一起使用。我在“R”中得到了这个公式来解决问题，但需要帮助才能将其转换为 MySQL 或 PHP。以下是直接报价：

在 R 中，我们可以计算

```
x <- matrix(c(-954234, 3589, 43243455, 2521, 149940475, 3939,     243853640, 3936, 262995399, 3025, 751195421, 5333, 10677437299, 7477), ncol=2, byrow=TRUE); y     <- apply(x, 2, sum); y[1] / y[2], 
```

平均产生 406,697 美元。

这方面的一些背景信息。这是来自美国国税局 2008 年所得税数据的邮政编码数据。以上数据来自一个邮政编码（10021）。表（请参见下文）。任务是创建一个**平均**调整总收入 (AGI)，上面的 R 示例就是解决方案。谢谢！

```
1 = 'Under $10,000' 
2 = '$10,000 under $25,000' 
3 = '$25,000 under $50,000' 
4 = '$50,000 under $75,000' 
5 = '$75,000 under $100,000' 
6 = '$100,000 under $200,000' 
7 = '$200,000 or more ' 
```

“退货数量”是该 agi_class 的纳税申报数量。

```
mysql> select A00100,zipcode,agi_class,N1 as 'Number of Returns' from taxbyzip2008 where zipcode="10021";

+-------------+---------+-----------+-------------------+ 
| A00100      | zipcode | agi_class | Number of Returns | 
+-------------+---------+-----------+-------------------+ 
| -954234     | 10021   | 1         | 3589              | 
| 43243455    | 10021   | 2         | 2521              | 
| 149940475   | 10021   | 3         | 3939              | 
| 243853640   | 10021   | 4         | 3936              | 
| 262995399   | 10021   | 5         | 3025              | 
| 751195421   | 10021   | 6         | 5333              | 
| 10677437299 | 10021   | 7         | 7477              | 
+-------------+---------+-----------+-------------------+ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:24:27.080

试试这个 ：

```
select sum(A00100)/sum(N1) as 'average' from taxbyzip2008 where zipcode="10021"; 
```

或快速尝试：

```
mysql> select (-954234 + 43243455 +149940475 + 243853640 + 262995399 + 751195421+10677437299)/(3589+2521 +3939 +3936 +3025  + 5333 + 7477) ; 
```

你的公式是 A00100 的总和除以 N1 字段的总和:)

# c++ - 关于 C/C++ 中的函数过小数组大小的警告

> ID：12721200
> 
> 赞同：2
> 
> 时间：2012-10-04T06:04:51.947
> 
> 标签：c++, c, arrays, buffer-overrun

当参数被定义为比原型指定的更小的数组时，是否有任何工具（最好在 linux 上）可以发出警告？

例如：

```
void somefunc(float arg[10]);  /* normally this would be defined in a header */

void my_func(void)
{
    float arg[2];
    somefunc(arg);  /* <-- this could be a warning */
} 
```

我意识到这不是无效代码，但如果可以发出警告，它可以解决一些常见错误（最近遇到了这些错误之一）。

一些工具（例如，clang 静态检查器）会警告函数是否在同一个文件中并在数组边界之外设置一个值，但我想知道如果 arg 小于原型本身，是否会有任何警告。

我使用过 cppcheck、clang、smatch、splint、gcc 的 -Wextra ......但没有人抱怨这一点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T06:19:59.747

原型中的值对编译器没有意义，被忽略了！上面声明的函数等价于

```
void somefunc(float* arg); 
```

和

```
void somefunc(float arg[]); 
```

使用 C++ 时，您可以在编译时使用引用处理大小限制。如果你真的想要一个 10`float`的数组，你可以通过引用传递它，这将强制大小是正确的：

```
void somefunc(float (&arg)[10]); 
```

但是，这将阻止传递更大的数组。如果要传递更大的数组，可以使用模板转发功能：

```
void somefunc_intern(float* arg);
template <int Size>
typename std::enable_if<(10 <= Size)>::type
somefunc(float (&arg)[Size]) {
    somefunc_intern(arg);
} 
```

当然，如果传递的数组太小，这不会产生警告，而是会产生错误。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T07:00:46.420

在**C**语言中，`float arg[10]`参数数组的界限只是一种风格：它是给程序员的提示，而不是编译器。由于 C 具有弱类型检查，您可以将任何类型的浮点指针或数组传递给函数。有人可能会争辩说，在向函数传递参数之前没有阅读函数文档的程序员是在自找麻烦。但当然总是存在意外错误的可能性。

好的编译器会对此提出警告。如果你有一个糟糕的编译器，它不会发出警告，你确实应该考虑使用外部静态分析工具，它们总是对可疑的类型转换非常挑剔。[Lint](http://www.gimpel.com/html/flex.htm)有一个 Linux 版本，我没有使用过它，但它被认为是大型复杂版本的经济实惠的替代品。

从理论上讲，您可以编写会导致编译器产生更多警告的代码，但它会混淆程序。我不会推荐它，它看起来像：

```
void somefunc(float (*arr_ptr)[10])
{
  float* arg = *arr_ptr;
  ...
}

int main()
{
  float ten[10];
  float two[2];

  somefunc(ten);  // warning
  somefunc(&ten); // warning
  somefunc(two);  // warning
  somefunc(&two); // warning

  float (*ten_ptr)[10] = &ten;
  float (*two_ptr)[2] = &two;

  somefunc(ten_ptr) // ok
  somefunc(two_ptr) // warning

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-22T08:41:59.217

自从提出这个问题以来，cppcheck 已根据我的建议添加了此功能（谢谢大家！），

提交： [https ://github.com/danmar/cppcheck/commit/7f6a10599bee61de0c7ee90054808de00b3ae92d](https://github.com/danmar/cppcheck/commit/7f6a10599bee61de0c7ee90054808de00b3ae92d)

问题：http: [//sourceforge.net/apps/trac/cppcheck/ticket/4262](http://sourceforge.net/apps/trac/cppcheck/ticket/4262)

在撰写本文时，它还没有发布，但我认为它会在下一个版本中发布。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-04T06:32:16.333

`std::array<N>`如果您改用C 数组，一个完全普通的 C++ 编译器会给您一个编译错误。

所以就这么做？

# php - 谷歌地图保存优化方向

> ID：12721209
> 
> 赞同：2
> 
> 时间：2012-10-04T06:05:31.627
> 
> 标签：php, javascript, google-maps, google-maps-api-3

我可以在我的网络应用程序中创建标记，并使用这些标记创建带有谷歌方向的路线。我希望用户能够将路线保存到数据库。如果用户需要打开路线，他可以打开保存的路线。

有没有办法将方向保存到数据库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T08:22:13.347

乍一看，这应该很有用：

[保存可拖动路线 Google Directions API v3](https://stackoverflow.com/questions/5000473/saving-dragable-directions-google-directions-api-v3)

[http://vikku.info/programming/google-maps-v3/draggable-directions/saving-draggable-directions-saving-waypoints-google-directions-google-maps-v3.htm](http://vikku.info/programming/google-maps-v3/draggable-directions/saving-draggable-directions-saving-waypoints-google-directions-google-maps-v3.htm)

第二个是关于使用 AJAX、PHP 和 MySQL 保存方向的完整教程。看看它，告诉我它是否是你需要的。

# android - RSS阅读器没有得到完整的描述

> ID：12721211
> 
> 赞同：4
> 
> 时间：2012-10-04T06:05:43.140
> 
> 标签：android, rss-reader

我没有通过 getDescription() 方法得到完整的描述我错在哪里。？

RSSReader.java

```
 public class RSSReader extends Activity implements OnItemClickListener
{

    public final String RSSFEEDOFCHOICE = "someurloffeedburner?format=xml";

    public final String tag = "RSSReader";
    private RSSFeed feed = null;

    /** Called when the activity is first created. */

    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.main);

        // go get our feed!
        feed = getFeed(RSSFEEDOFCHOICE);

        // display UI
        UpdateDisplay();

    }

    private RSSFeed getFeed(String urlToRssFeed)
    {
        try
        {
            // setup the url
           URL url = new URL(urlToRssFeed);

           // create the factory
           SAXParserFactory factory = SAXParserFactory.newInstance();
           // create a parser
           SAXParser parser = factory.newSAXParser();

           // create the reader (scanner)
           XMLReader xmlreader = parser.getXMLReader();
           // instantiate our handler
           RSSHandler theRssHandler = new RSSHandler();
           // assign our handler
           xmlreader.setContentHandler(theRssHandler);
           // get our data via the url class
           InputSource is = new InputSource(url.openStream());
           // perform the synchronous parse           
           xmlreader.parse(is);
           // get the results - should be a fully populated RSSFeed instance, or null on error
           return theRssHandler.getFeed();
        }
        catch (Exception ee)
        {
            // if we have a problem, simply return null
            return null;
        }
    }
    public boolean onCreateOptionsMenu(Menu menu) 
    {
        super.onCreateOptionsMenu(menu);

        menu.add(0,0,0, "Choose RSS Feed");
        menu.add(0, 1, 1, "Refresh");
        Log.i(tag,"onCreateOptionsMenu");
        return true;
    }

    public boolean onOptionsItemSelected(MenuItem item){
        switch (item.getItemId()) {
        case 0:
            Log.i(tag,"Set RSS Feed");
            return true;
        case 1:
            Log.i(tag,"Refreshing RSS Feed");
            return true;
        }
        return false;
    }

    private void UpdateDisplay()
    {
        TextView feedtitle = (TextView) findViewById(R.id.feedtitle);
        TextView feedpubdate = (TextView) findViewById(R.id.feedpubdate);
        ListView itemlist = (ListView) findViewById(R.id.itemlist);

        if (feed == null)
        {
            feedtitle.setText("No RSS Feed Available");
            return;
        }

        feedtitle.setText(feed.getTitle());
        feedpubdate.setText(feed.getPubDate());

        ArrayAdapter<RSSItem> adapter = new ArrayAdapter<RSSItem>(this,android.R.layout.simple_list_item_1,feed.getAllItems());

        itemlist.setAdapter(adapter);

        itemlist.setOnItemClickListener(this);

        itemlist.setSelection(0);

    }

     public void onItemClick(AdapterView<?> parent, View v, int position, long id)
     {
         Log.i(tag,"item clicked! [" + feed.getItem(position).getTitle() + "]");

         Intent itemintent = new Intent(this,ShowDescription.class);

         Bundle b = new Bundle();
         b.putString("title", feed.getItem(position).getTitle());
         b.putString("description", feed.getItem(position).getDescription());
         b.putString("link", feed.getItem(position).getLink());
         b.putString("pubdate", feed.getItem(position).getPubDate());

         itemintent.putExtra("android.intent.extra.INTENT", b);

         startActivityForResult(itemintent,0);
     }
 } 
```

Showdescription.xml 文件

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >
<TextView  
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" 
    android:autoLink="all"
    android:text="story goes here ...."
    android:id="@+id/storybox"
    />
<Button
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:text="Back"
    android:id="@+id/back"
    />    

</LinearLayout> 
```

我从 feedburners url 获得了这段代码的前两三行描述。所以这是我的这两个文件的代码，帮助我了解我应该进行哪些更改以获得完整描述。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T07:01:53.523

您的 XML 全文有描述吗？一些 XML 仅提供摘要，您需要从博客管理属性面板启用完整文章。即使这种更改对 feedburner 也不起作用，请检查 feedburner 管理面板。

# css - CSS褪色边框

> ID：12721213
> 
> 赞同：0
> 
> 时间：2012-10-04T06:05:43.920
> 
> 标签：css, image, border, gradient, fading

我正在尝试创建一个带有褪色边框的盒子。我设法找到了这样的例子，但我无法创建我希望完成的事情。

```
 border:3px;
-webkit-border-image:-webkit-gradient(linear, 0 0, 0 100%, from(#382E5C), to(rgba(0, 0, 0, 0))) 1 100%;
-webkit-border-image:-webkit-linear-gradient(#382E5C, rgba(0, 0, 0, 0)) 1 100%;
-o-border-image:-o-linear-gradient(#382E5C, rgba(0, 0, 0, 0)) 1 100%;
-moz-border-image:-moz-linear-gradient(#382E5C, rgba(0, 0, 0, 0)) 1 100%; 
```

那个css给了我两边很酷的褪色边框，但我也希望顶部边框保持纯色。如何使顶部边框实心，并保持侧面褪色，底部透明。谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:27:57.927

请试试这个：如果我们使用border-top，边框将只停留在顶部。

```
border-top: 3px solid red; 
/***
------add your fading borders
***/ 
```

如果你不明白，请给我你的代码...

# php - 动态下拉框的预选值

> ID：12721214
> 
> 赞同：1
> 
> 时间：2012-10-04T06:05:45.383
> 
> 标签：php

这是我的问题，我有下拉菜单，用于将所选选项保存到 SQL 数据库。现在我有一个编辑选项，其中动态创建相同的下拉列表，以让用户选择和替代选项并保存编辑。当编辑页面启动时，我希望预先选择下拉列表中已经保存在数据库中的值。

我使用以下代码通过文本框完成类似的操作，但努力将相同的值属性放入下拉列表。

```
 <input name='routename' type='text'  value='".htmlentities($row['route'])."'> // This is working for the textbox 
```

有人可以告诉我如何使用下拉框执行此操作吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:09:04.073

它有点复杂，但可以通过以下方式实现：

```
<select name="something">
    <option value="1"<?=($row['something'] == 1)? ' selected="selected"':''?>>Option 1</option>
    <option value="2"<?=($row['something'] == 2)? ' selected="selected"':''?>>Option 2</option>
</select> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:09:50.630

`<option>`在生成节点时，您必须使用条件代码，如下所示：

```
<?php
echo '<option ';
if ($value == $selected_value)
    echo 'selected="selected"';
echo 'value="'.htmlspecialchars($value).'" />';
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:10:58.100

```
while($row=mysql_fetch_row($rs)){

if($row['id']==$value){
   $selected='selected';
}else{
    $selected='';
}

echo '<option value="$row['id']" $selected >$row['value']</option>';
} 
```

# entity-framework - 在场景中，只有存储过程用于 ASP.NET MVC 4 应用程序——ADO.NET 还是 EntityFramework 5 更好？

> ID：12721226
> 
> 赞同：1
> 
> 时间：2012-10-04T06:06:57.337
> 
> 标签：entity-framework, stored-procedures, ado.net

我想知道你的意见。

在仅使用存储过程进行数据操作的场景中，最好使用标准**ADO.NET** *或* **Entity Framework 5**。

使用 EF 的唯一（也是主要）原因是强类型类（生成的复杂类），可以用作**ASP.NET MVC 4**中的模型。与 ADO.NET 相比，在 EF 中更新复杂类型可能更简单。

使用 ADO.NET 的原因是使与数据库的通信更加简单。

谢谢您的意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:12:41.443

您还可以查看基于“原始”ADO.NET[的 Dapper-Dot-Net](http://code.google.com/p/dapper-dot-net/)（或其他一些“微 ORM”），但也提供转换为漂亮的 .NET 对象（您的主要 EF 优势）案例，我相信）来自存储过程结果

# api - Facebook API 静默登录

> ID：12721227
> 
> 赞同：0
> 
> 时间：2012-10-04T06:07:01.160
> 
> 标签：api, login, facebook-javascript-sdk, silent

我正在尝试使用 facebook API 来提供静默登录功能。

应用程序必须在不提示输入用户名和密码的情况下登录 Facebook。身份验证可以通过应用程序完成。

我想知道这是否可以使用 facebook API 来完成。我还想知道是否有一些付费设施可以做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:22:43.463

Facebook 不支持静默登录。Facebook 只允许通过自己的服务器和浏览器窗口进行授权，因为它不信任第三方开发人员来处理他们的密码。您必须进行一次身份验证，然后获取访问令牌，然后您可以继续使用访问令牌自动登录用户，直到它过期。在此处查看或在 Google 上搜索“如何获取 Facebook 访问令牌 c#”

[来自 ASP.NET C# 的自动 Facebook OAuth](https://stackoverflow.com/questions/6494865/auto-facebook-oauth-from-asp-net-c-sharp)

# android - 在android中动态更改标题栏高度

> ID：12721229
> 
> 赞同：2
> 
> 时间：2012-10-04T06:07:08.817
> 
> 标签：android, titlebar

我在我正在制作的应用程序中使用为我自己使用而创建的自定义标题栏，其中包含标题和一些按钮。但是，有时我会得到对于标题栏来说有点太长的标题，这些标题是我无法控制的。

当前通过标题栏主题中的“android：windowTitleSize =“70dp””设置标题栏的高度，但是如果我可以检测到传入的标题太长并且分成两行，有没有办法动态更改它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:18:47.707

我也没有找到解决方案.. 但你可以试试 android:ellipsize="end"。这样，如果文本将流出 TextView 的边界，文本将在末尾被剪切，并且“...”将添加到文本中。 [这里](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3aellipsize)也是文档。

# c++ - glLinkProgram() 在程序执行中未定义，即使 glew 报告它存在

> ID：12721237
> 
> 赞同：2
> 
> 时间：2012-10-04T06:07:36.407
> 
> 标签：c++, opengl, glew

我正在使用（非常）低端图形适配器（intel g31）。

我正在编写一个使用 VBO 和着色器（GLSL 1.2）的 OpenGL 程序。该程序编译完美，但是当它调用时`glLinkProgram()`，抛出异常：

```
Unhandled exception at 0x1027101A (ig4icd32.dll) in Test.exe: 0xC0000005: Access violation reading location 0x00000000. 
```

我使用 glew 的 glewinfo.exe 和 OpenGL Extensions Viewer 来查看是否`glLinkProgram()`存在——它确实存在。其他密切相关的功能（`glCreateProgram()`、`glCreateShader()`、`glCompileShader()`等）也可以按预期工作。

问题的实际根源可能是什么？这是一个问题还是glew的错误？是我司机的问题吗？

我已经设置`glewExperimental`了`GL_TRUE`它解决了我的许多其他问题。

**编辑：**我也使用`glLinkProgramARB()`并产生了与上面相同的错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:30:31.373

鉴于[ig4icd32.dll](http://www.processlibrary.com/directory/files/ig4icd32/402972/)是英特尔的驱动程序，这就是它崩溃的地方，我猜英特尔的驱动程序正在崩溃。

它不应该那样做，但不要难过。英特尔以糟糕的 OpenGL 驱动程序而闻名。最好尽可能避免它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-16T08:59:21.843

我在 Intel mobile 4 express 芯片组上遇到了同样的问题，着色器编译得很好，但是在链接实际程序时抛出异常，即使是微不足道的顶点或片段着色器也是如此。我没有使用 glew，在我的程序中 glLinkProgram 是这样调用的：

```
 ((PFNGLLINKPROGRAMPROC)wglGetProcAddress("glLinkProgram"))(p); 
```

然后我通过首先获取指针，然后调用实际函数来解决这个问题。我不知道为什么它会以这种方式工作。

```
 PFNGLLINKPROGRAMPROC glLinkProgram = ((PFNGLLINKPROGRAMPROC)wglGetProcAddress("glLinkProgram"));
glLinkProgram(p); 
```

我尝试更好地调试第一条语句，以便找到程序崩溃的原因。

# android - ActivityNotFoundException 即使在清单中声明后

> ID：12721239
> 
> 赞同：2
> 
> 时间：2012-10-04T06:07:40.510
> 
> 标签：android, android-intent

当我想向首选项屏幕启动意图时，我遇到了强制关闭。即使在清单中声明它之后，我仍然遇到这个问题。

显现

```
<activity android:name=".Preferences" ></activity> 
```

从 MainActivity 启动意图

```
Intent startPreference = new Intent(MainActivity.this,Preferences.class);
startActivity(startPreference); 
```

首选项屏幕

```
public class Preferences extends PreferenceActivity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        addPreferencesFromResource(R.xml.preferences);   
    }
} 
```

然而，每当我打开意图时，我遇到了

```
10-04 14:02:45.088: E/AndroidRuntime(11201): android.content.ActivityNotFoundException: Unable to find explicit activity class {dev.example.activity/java.util.prefs.Preferences}; have you declared this activity in your AndroidManifest.xml? 
```

编辑：完整清单

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="dev.example.activity"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="15" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="Example"
        android:theme="@android:style/Theme.Light.NoTitleBar" >
        <activity
            android:name=".MainActivity"
            android:label="Example" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".Individual"
            android:label="Example" >
        </activity>
        <activity android:name="dev.example.activity.Preferences" >
        </activity>
    </application>

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

</manifest> 
```

完整的日志猫

```
10-04 14:24:35.408: E/AndroidRuntime(12936): FATAL EXCEPTION: main
10-04 14:24:35.408: E/AndroidRuntime(12936): android.content.ActivityNotFoundException: Unable to find explicit activity class {dev.example.activity/java.util.prefs.Preferences}; have you declared this activity in your AndroidManifest.xml?
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1405)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1379)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.app.Activity.startActivityForResult(Activity.java:2827)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.app.Activity.startActivity(Activity.java:2933)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at dev.shaunidiot.mycolorscreen.MainActivity.onOptionsItemSelected(MainActivity.java:166)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.app.Activity.onMenuItemSelected(Activity.java:2205)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:768)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:147)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:855)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at com.android.internal.view.menu.IconMenuView.invokeItem(IconMenuView.java:532)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at com.android.internal.view.menu.IconMenuItemView.performClick(IconMenuItemView.java:122)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.view.View$PerformClick.run(View.java:9229)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.os.Handler.handleCallback(Handler.java:587)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.os.Handler.dispatchMessage(Handler.java:92)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.os.Looper.loop(Looper.java:130)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at android.app.ActivityThread.main(ActivityThread.java:3701)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at java.lang.reflect.Method.invokeNative(Native Method)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at java.lang.reflect.Method.invoke(Method.java:507)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:624)
10-04 14:24:35.408: E/AndroidRuntime(12936):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:16:13.607

您指向[java.util.prefs.Preferences](http://developer.android.com/reference/java/util/prefs/Preferences.html)：那不是您的活动。以这种方式创建意图：

```
Intent startPreference = new Intent(MainActivity.this,             
                           dev.example.activity.Preferences.class);
startActivity(startPreference); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:09:16.053

请声明您的活动全名

> com.packagename.classname

我认为它解决了你的错误。

编辑：-

您的活动扩展 了我忘记看到的**PreferenceActivity**，以便声明您的活动，如下所示。

```
<activity android:name=".Preferences" android:label="@string/prefTitle"
    android:screenOrientation="nosensor">
    <intent-filer>
        <action android:name=".Preferences" />
        <category android:name="android.intent.cetagory.PREFERENCE" />
    </intent-filer> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:14:53.593

只需将此行添加到清单

```
 <activity
    android:name=".Preferences"
    android:label="@string/set_preferences">
    <intent-filter>
        <category android:name="android.intent.category.DEFAULT"/>

    </intent-filter>  
</activity> 
```

仍然，如果您遇到错误。[点击这里](https://stackoverflow.com/a/3781179/1265724)

# sockets - 读取套接字缓冲区

> ID：12721246
> 
> 赞同：0
> 
> 时间：2012-10-04T06:08:14.620
> 
> 标签：sockets, tcp, ftp, client, buffer

我正在尝试编写一个 FTP 客户端，我需要打印出服务器对我的命令的响应。这些命令之一是 STAT。服务器返回响应，据我了解，响应位于套接字缓冲区中，我可以使用 read() 命令读取该缓冲区。问题是我只需要 STAT 的响应，所以我知道它将以 END OF STATUS 结束。这是我为阅读响应而编写的代码：

```
in = read(connFd, &timebuffer, sizeof(timebuffer));;
while(in>0){
    printf("%s", timebuffer);
    memset(&timebuffer, 0, sizeof timebuffer);
    in = read(connFd, &timebuffer, sizeof(timebuffer));
}
memset(&timebuffer, 0, sizeof timebuffer); 
```

我遇到的问题是，一旦 read() 函数通过缓冲区并完成读取，while 循环不会终止并无限继续，我的程序就坐在那里。我认为这是因为 read() 函数正在等待数据，所以我想知道是否有办法告诉 read() 在到达缓冲区末尾时停止。我认为这会自动发生，因为 read() 会返回 x<1 但如果它正在等待我明白问题是什么。那么我该如何解决呢？有没有办法设置超时（0），所以它只会读取已经存在的数据？我也知道有一些“标志”设置为 0，但我找不到太多关于它们的信息。我很感激任何帮助。唯一的方法是检查缓冲区中的“END OF STATUS”字符串吗？我会使用 strstr(buffer)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:22:37.743

`read`是一个阻塞调用（除非您已将套接字设置为非阻塞），因此只有在收到您请求的确切字节数或套接字关闭时才会返回。

如果套接字设置为非阻塞，那么您将获得“读取”的零返回，但即使您还没有到达响应的末尾，您也可能会得到它，因为您的程序肯定会比网络快。

`strstr()`作为附加说明...除非您连接所有读取，否则您不能使用。您可以在一次读取中获得 1/2 的终止消息，而在下一次读取中获得剩余消息。

# python - Python Sphinx 中的“未命名模块”几个导入错误

> ID：12721248
> 
> 赞同：1
> 
> 时间：2012-10-04T06:08:34.530
> 
> 标签：python, python-sphinx, cherrypy

我是狮身人面像文档的新手。我按照 [sphinx 文档](https://www.sphinx-doc.org/en/master/usage/quickstart.html)为我的cherrypy 项目配置 sphinx。但是当我运行`make html`它时，它会给我带来很多错误和警告，如下所示：

```
Traceback (most recent call last):.root                                                                                                                                                         
File "workspace/myproject-virtualenv/lib/python2.7/site-packages/sphinx/ext/autodoc.py", line 321, in import_object
__import__(self.modname)
ImportError: No module named myproject.apps.root.urls
Traceback (most recent call last):
File "workspace/myproject-virtualenv/lib/python2.7/site-packages/sphinx/ext/autodoc.py", line 321, in import_object
__import__(self.modname)
ImportError: No module named myproject.apps.root.views
Traceback (most recent call last):.search                                                                                                                                                       
 File "workspace/myproject-virtualenv/lib/python2.7/site-packages/sphinx/ext/autodoc.py", line 321, in       import_object                                                                  
__import__(self.modname)                                                                                                                                                                    
ImportError: No module named myproject.apps.search.searchBll                                                                                                                                          
Traceback (most recent call last):                                                                                                                                                              
File "workspace/myproject-virtualenv/lib/python2.7/site-packages/sphinx/ext/autodoc.py", line 321, in import_object                                                                  
__import__(self.modname)                                                                                                                                                                    
ImportError: No module named myproject.apps.search.searchDal                                                                                                                                          
Traceback (most recent call last):
File "workspace/myproject-virtualenv/lib/python2.7/site-packages/sphinx/ext/autodoc.py", line 321, in import_object
__import__(self.modname)
ImportError: No module named myproject.apps.search.urls
Traceback (most recent call last):
File "workspace/myproject-virtualenv/lib/python2.7/site-packages/sphinx/ext/autodoc.py", line 321, in import_object
__import__(self.modname)
ImportError: No module named myproject.apps.search.views
.
.
.
workspace/myproject/docs/api_doc/source/myproject.apps.root.rst:7: WARNING: autodoc can't   import/find module 'myproject.apps.root.urls', it reported error: "No module named myproject.apps.root.urls", please check your spelling and sys.path
workspace/myproject/docs/api_doc/source/myproject.apps.root.rst:15: WARNING: autodoc can't import/find module 'myproject.apps.root.views', it reported error: "No module named myproject.apps.root.views", please check your spelling and sys.path
workspace/myproject/docs/api_doc/source/myproject.apps.search.rst:7: WARNING: autodoc can't import/find module 'myproject.apps.search.searchBll', it reported error: "No module named myproject.apps.search.searchBll", please check your spelling and sys.path
workspace/myproject/docs/api_doc/source/myproject.apps.search.rst:15: WARNING: autodoc can't import/find module 'myproject.apps.search.searchDal', it reported error: "No module named myproject.apps.search.searchDal", please check your spelling and sys.path
workspace/myproject/docs/api_doc/source/myproject.apps.search.rst:23: WARNING: autodoc can't import/find module 'myproject.apps.search.urls', it reported error: "No module named myproject.apps.search.urls", please check your spelling and sys.path
workspace/myproject/docs/api_doc/source/myproject.apps.search.rst:31: WARNING: autodoc can't import/find module 'myproject.apps.search.views', it reported error: "No module named myproject.apps.search.views", please check your spelling and sys.path

looking for now-outdated files... none found
pickling environment... done
checking consistency... workspace/myproject/docs/api_doc/source/modules.rst::       WARNING: document isn't included in any toctree
done
preparing documents... done
writing output... [100%]   modules                                                                                                                                                                
writing additional files... (0 module code pages) genindex search
copying static files... done
dumping search index... done
dumping object inventory... done
build succeeded, 21 warnings.

Build finished. The HTML pages are in build/html. 
```

有希望吗？有人请帮忙..我还在我的 conf.py 中更改了以下行：

```
sys.path.append('workspace/myproject/src/myproject/') 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:53:41.053

`myproject`是一个模块。因此，您必须将其父容器添加到 PYTHONPATH（而不是 myproject-folder 本身）：

```
sys.path.append('workspace/myproject/src/') 
```

# mysql - SQL 中日期的默认值

> ID：12721249
> 
> 赞同：2
> 
> 时间：2012-10-04T06:08:38.437
> 
> 标签：mysql

如果我没有得到 created_date 的值，它会抛出 mysql 错误。如何解决这个问题呢？

```
var query1 = "INSERT INTO prospect_group(
    group_name,status_id,created_date,  
    is_eligible,mom_active_fromdt,
    mom_is_savings_discussed,
    is_full_attendence,is_internal_loan) VALUES
    ('"+groupNameArray[0]+"', '"
       +groupNameArray[14]+"', '"
       +groupNameArray[1]+"', '"
       +groupNameArray[15]+"','"
       +groupNameArray[7]+"','"
       +groupNameArray[8]+"','"
       +groupNameArray[9]+"','"
       +groupNameArray[10]+"'  )"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:24:26.220

将`created_date`字段默认值设置为*Null*

或者

`zeroDateTimeBehavior=convertToNull`在 JDBC 连接中使用

例子：

```
jdbc:mysql://192.168.6.1/test?zeroDateTimeBehavior=convertToNull 
```

参考： [在 JDBC 中处理 DATETIME 值 0000-00-00 00:00:00](https://stackoverflow.com/questions/782823/handling-datetime-values-0000-00-00-000000-in-jdbc)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:12:09.730

像这样（设置 created_date 字段的默认值）： [MySQL timestamp only on create](https://stackoverflow.com/questions/817396/mysql-timestamp-only-on-create)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:18:34.760

如果您可以为 created_date 列添加 NULL 设置默认值 NULL 并确保在插入表时您将拥有 date 或 null。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T06:48:07.830

您可以使用 SYSDATE() 或 NOW()

# android - 如何在android中计算声音频率？

> ID：12721254
> 
> 赞同：20
> 
> 时间：2012-10-04T06:09:04.950
> 
> 标签：android, audio, frequency-analysis

我想开发应用程序来计算 Android 中的声音频率。Android 设备将从麦克风获取声音（即外部声音），并且我在应用程序中有一个彩色背景屏幕。关于声音频率的变化，我必须改变屏幕的背景颜色。

所以我的问题是“我怎样才能获得声音频率”？

有没有可用的android API？

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T06:18:27.723

你的问题在[这里](http://netscale.cse.nd.edu/twiki/pub/Main/Projects/Analyze_the_frequency_and_strength_of_sound_in_Android.pdf)解决了编辑：在这里[存档](http://web.archive.org/web/20120131092650/http://netscale.cse.nd.edu/twiki/pub/Main/Projects/Analyze_the_frequency_and_strength_of_sound_in_Android.pdf)。您也可以使用[FFT](http://en.wikipedia.org/wiki/Fast_Fourier_transform)分析频率。

编辑：[FFTBasedSpectrumAnalyzer](https://github.com/sommukhopadhyay/FFTBasedSpectrumAnalyzer/tree/master/)（示例代码，来自评论的链接）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T09:37:12.117

感谢您的回复我已经通过在
[http://som-itsolutions.blogspot.in/2012/01/fft-based-simple-spectrum-analyzer.html上使用示例](http://som-itsolutions.blogspot.in/2012/01/fft-based-simple-spectrum-analyzer.html)

只需修改您的代码以使用以下方法计算声音频率

```
 // sampleRate = 44100 

public static int calculate(int sampleRate, short [] audioData){

    int numSamples = audioData.length;
    int numCrossing = 0;
    for (int p = 0; p < numSamples-1; p++)
    {
        if ((audioData[p] > 0 && audioData[p + 1] <= 0) || 
            (audioData[p] < 0 && audioData[p + 1] >= 0))
        {
            numCrossing++;
        }
    }

    float numSecondsRecorded = (float)numSamples/(float)sampleRate;
    float numCycles = numCrossing/2;
    float frequency = numCycles/numSecondsRecorded;

    return (int)frequency;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T15:22:19.363

其他答案显示了如何显示频谱图。我认为问题是如何检测基频的变化。在 Stack Exchange 上经常有人问这个问题，我写了一篇关于它的博客文章（带有代码！）：

[http://blog.bjornroche.com/2012/07/frequency-detection-using-fft-aka-pitch.html](http://blog.bjornroche.com/2012/07/frequency-detection-using-fft-aka-pitch.html)

诚然，代码是用 C 语言编写的，但我认为您会发现它很容易移植。

简而言之，您必须：

1.  低通输入信号，这样高频泛音就不会被误认为是基频（这在您的应用程序中似乎不是问题，因为您只是在寻找音高的变化，但我建议还是这样做是有原因的这太复杂了，无法进入这里）。

2.  窗口信号，使用适当的窗口函数。要获得最响应的输出，您应该重叠窗口，我在示例代码中没有这样做。

3.  对每个窗口中的数据进行 FFT，并使用最大绝对峰值的指数计算频率。

请记住，对于您可能希望准确快速地检测音高变化的应用，我描述的 FFT 方法可能还不够。你有两个选择：

1.  有一些技术可以使用相位信息来增加音高跟踪的特异性，而不仅仅是绝对峰值。

2.  使用基于自相关的时域方法。尹是个不错的选择。（谷歌“阴音高跟踪”）

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-05T08:32:17.523

这是提到的代码的链接。那里还有一些其他有用的代码。

[https://github.com/gast-lib/gast-lib/blob/master/library/src/root/gast/audio/processing/ZeroCrossing.java](https://github.com/gast-lib/gast-lib/blob/master/library/src/root/gast/audio/processing/ZeroCrossing.java)

这是与 ZeroCrossings 的交易：

根据 Android 上录制的音频精确确定频率是不准确的。也就是说，它仍然有助于让您的应用程序总体感觉它所听到的声音是一种恒定的歌声，而不仅仅是噪音。

这里的代码似乎可以很好地确定频率，（如果你可以将它从 C# 翻译成 java） [http://code.google.com/p/yaalp/](http://code.google.com/p/yaalp/)

# android - 包含多个动态微调器的 ListView 行

> ID：12721259
> 
> 赞同：2
> 
> 时间：2012-10-04T06:09:54.050
> 
> 标签：android, android-listview, android-spinner

我在特定行的 listview 控件中有多个 Spinner。我从 WebService 动态填充所有微调器，并且所有微调器值都可以在选定项目上更改。

经验。我有 3 个国家和州和城市的微调器，然后所有这 3 个微调器都从 WS 填充，而用户选择国家，然后在 countryselecteditem 上更改州和城市的所有数据。并在 State selected item city 数据更改...

而且我当时滚动并继续该行`getView()`调用所有3个选定项目并按选定项目填充所有适配器。

如何处理列表视图中的 3 个微调器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:18:29.243

1.  设计一个包含 3 个您希望的微调器的 ListItem 布局，然后将其设置为 ListView Adapter。
2.  然后使用包含 3 个 ID 的 POJO 类的通用类型的 SubClassArrayAdapter（如果需要更多），如下所示，并将 Adapter 设置为 ListView。

    ```
    class SpinnersStateInListItem
    {
      private int countrySelectedPosition=0;
      private int stateSelectedPosition=0;
      private int citySelectedPosition=0;
      //here you need to generate respective getters and setter methods.
     } 
    ```

    //执行以下代码将 SubClassArrayAdapter 设置为您从自定义视图的 ArrayAdapter 类派生的列表视图

    ```
     SubClassArrayAdapter<SpinnersStateInListItem> = new SubClassArrayAdapter<SpinnersStateInListItem>(context,resourceid,listof SpinnersStateInListItem Generic type); 
    ```

    在您的 SubClassArrayAdapter 类的 getView() 内，创建 3 个微调器对象并将数组适配器设置为第一个微调器，然后将 OnItemSelectedListeners 设置为 3 个微调器。然后在第一个 Spinner OnItemSelected 方法中将 ArrayAdapter 设置为 2nd Spinner，它将包含根据在第一个 Spinner 中选择的 Country 的 State 列表。然后在 2nd Spinners OnItemSelected 方法中将数组 Adapter 设置为 3rd Spinner，该方法包含根据所选国家和所选州的城市列表。在这里，您应该根据所选项目过滤数据。When Items are selected immediately save them to SpinnersStateInListItem respective object so that even if you reload the listview all the items state will remain as it is. 例如如下。

    ```
    OnItemSelected()
    {
     if(v==firstspinner)
      {
        listofSpinnersStateinListItem.get(listitemposition).setCountrySelectedPosition(spinnerselectposition);  
       } 
      } 
    ```

对于州和城市也采用上述相同的方式。

1.  最初，您获取第一个国家的数据并将其设置为 First Spinner，它同时获取第一个国家的州，然后是第一个国家，第一个州相关的城市。

希望这会帮助你。

# ruby-on-rails - s3_swf_upload 在将文件上传到 s3 时经常失败

> ID：12721260
> 
> 赞同：0
> 
> 时间：2012-10-04T06:09:55.087
> 
> 标签：ruby-on-rails, ruby, file-upload, amazon-s3, amazon-web-services

我一直有这个问题一段时间了。在 fillim.com（独立电影发行，文件很大）上，我们正在使用这个gem 的[fork](https://github.com/nathancolgate/s3-swf-upload-plugin)`s3_swf_upload` for rails。我们让每个人都抱怨它有时会失败 3-4 次才能完全上传文件，就像几乎每个人一样。

我们在 Heroku 上，然后我们当然需要直接上传到 S3。

我们没有在我们的日志或浏览器中生成任何错误，而且我们无法终生找到原因。

以前有人遇到过这些问题吗？有人知道替代品吗？如果有人知道支持大于 2GB 的文件的替代方案，那就更好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:30:15.393

如果您尝试在 amazon s3 上上传文件，请使用 AWS::S3 一个 Ruby 库来上传文件。

[http://amazon.rubyforge.org/](http://amazon.rubyforge.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T09:40:51.600

我的东西默认大小

```
:fileSizeLimit (integer = 524288000)
Individual file size limit in bytes (default is 512 MB) 
```

你需要增加你的文件大小限制

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T05:33:19.423

屡屡失败也就不足为奇了。如果您要上传那么大的文件，您需要利用 S3 的“分段上传”支持。从本质上讲，文件被分解成小块，分部分发送，然后在 S3 端重新组装。

适用于 Ruby的官方[AWS 开发工具包](http://docs.amazonwebservices.com/AWSRubySDK/latest/AWS/S3/MultipartUpload.html)支持此功能，但您必须将其实施到您的 gem 中。我不知道这是否超出了您正在寻找的范围。

另外，我是否正确理解您希望允许用户从他们的*网络浏览器*上传大于 2GB 的文件？

# java - 如何从Java中的字符串中提取多个整数？

> ID：12721261
> 
> 赞同：3
> 
> 时间：2012-10-04T06:09:59.380
> 
> 标签：java, string, int, type-conversion

我得到了一系列类似`"(123, 234; 345, 456) (567, 788; 899, 900)"`. 如何将这些数字提取到一个数组中`aArray[0]=123, aArray=[234], ....aArray[8]=900;`

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T06:23:11.697

这可能过于复杂，但是干草......

我们需要做的第一件事是删除所有我们不需要的垃圾......

```
String[] crap = {"(", ")", ",", ";"};
String text = "(123, 234; 345, 456) (567, 788; 899, 900)";
for (String replace : crap) {
    text = text.replace(replace, " ").trim();
}
// This replaces any multiple spaces with a single space
while (text.contains("  ")) {
    text = text.replace("  ", " ");
} 
```

接下来，我们需要将字符串的各个元素分离成更易于管理的形式

```
String[] values = text.split(" "); 
```

接下来，我们需要将每个`String`值转换为`int`

```
int[] iValues = new int[values.length];
for (int index = 0; index < values.length; index++) {

    String sValue = values[index];
    iValues[index] = Integer.parseInt(values[index].trim());

} 
```

然后我们显示值...

```
for (int value : iValues) {
    System.out.println(value);
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-04T06:55:28.143

**策略：**找到一个或多个在一起的数字，通过正则表达式添加到列表中。

**代码：**

```
 LinkedList<String> list = new LinkedList<>();
    Matcher matcher = Pattern.compile("\\d+").matcher("(123, 234; 345, 456) (567, 788; 899, 900)");
    while (matcher.find()) {
        list.add(matcher.group());
    }
    String[] array = list.toArray(new String[list.size()]);
    System.out.println(Arrays.toString(array)); 
```

**输出：**

```
[123, 234, 345, 456, 567, 788, 899, 900] 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-04T06:57:57.017

你几乎肯定看过这句话：

> 有些人在遇到问题时会想“我知道，我会使用正则表达式”。现在他们有两个问题。

但是正则表达式真的是你这类事情的朋友。

```
import java.util.ArrayList;
import java.util.List;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

class Numbers {
    public static void main(String[] args) {
        String s = "(123, 234; 345, 456) (567, 788; 899, 900)";
        Matcher m = Pattern.compile("\\d+").matcher(s);
        List<Integer> numbers = new ArrayList<Integer>();
        while(m.find()) {
            numbers.add(Integer.parseInt(m.group()));
        }
        System.out.println(numbers);
    }
} 
```

输出：

```
[123, 234, 345, 456, 567, 788, 899, 900] 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-04T06:12:18.207

遍历每个字符并将数字存储在一个临时数组中，直到找到一个字符（如`,`, `;`），然后将临时数组中的数据存储到您的数组中，然后清空该临时数组以供下次使用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T06:13:36.497

由于您的数字由一组特定的字符分隔，您可以查看该[`.split(String regex)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)方法。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T06:15:51.860

由于您的字符串中可能有许多不同的分隔符，您可以通过它并将所有非数字字符替换为`spaces`. 然后，您可以使用`split("\\s")`将字符串拆分为带有数字的子字符串数组。最后将它们转换为数字。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-04T06:19:07.487

此方法将从给定字符串中提取整数。它还处理使用其他字符来分隔数字的字符串，而不仅仅是您的示例中的那些：

```
public static Integer[] extractIntegers( final String source ) {
    final int    length = source.length();
    final char[] chars  = source.toCharArray();

    final List< Integer > list = new ArrayList< Integer >();

    for ( int i = 0; i < length; i++ ) {

        // Find the start of an integer: it must be a digit or a sign character
        if ( chars[ i ] == '-' || chars[ i ] == '+' || Character.isDigit( chars[ i ] ) ) {
            final int start = i;

            // Find the end of the integer:
            for ( i++; i < length && Character.isDigit( chars[ i ] ); i++ )
                ;

            // Now extract this integer:
            list.add( Integer.valueOf( source.substring( start, i ) ) );
        }
    }

    return list.toArray( new Integer[ list.size() ] );
} 
```

**注意：**由于整数之后的内部`for`循环位置和外部`for`循环在搜索下一个整数时会增加`i`变量，因此该算法将需要至少一个字符来分隔整数，但我认为这是可取的。例如，`"-23-12"`源将产生数字`[ -23, 12 ]`而不是`[ -23, -12 ]`（但`"-23 -12"`会按预期产生 [ -23, -12 ]）。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-04T06:23:05.187

最简单的方法是使用`String.indexOf()`（或类似的）和`NumberFormat.parse(ParsePosition)`方法的组合。算法如下：

1.  从字符串的开头开始
2.  从那个位置开始找一个数字
3.  使用提到的 NumberFormat 方法进行解析，该方法将在非数字字符上停止并返回一个值
4.  重复 2) 从该位置开始（直到到达字符串末尾）

同时，字符串具有特定的结构，因此恕我直言，一些解析器会是更好的方法，因为它还会检查格式的正确性（如果有必要，我不知道）。有很多工具可以根据语法描述生成 Java 代码（如 ANTLR 等）。但对于这个案例来说，这可能是太复杂的解决方案。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-10-04T06:31:17.427

我认为您可以使用正则表达式来获得结果。可能是这样的：

```
String string = "(123, 234; 345, 456) (567, 788; 899, 900)";
String[] split = string.split("[^\\d]+");
int number; 
ArrayList<Integer> numberList = new ArrayList<Integer>();

for(int index = 0; index < split.length; index++){
    try{
        number = Integer.parseInt(split[index]);
        numberList.add(number);
    }catch(Exception exe){

    }
}

Integer[] numberArray = numberList.toArray(new Integer[numberList.size()]);
for(int index = 0; index < numberArray.length; index++){
    System.out.println(numberArray[index]);
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-10-04T06:53:04.550

还有一种方式。如果您想编写更少的代码可能会很好，如果您无法将库添加到您的项目中可能会很糟糕

```
import com.google.common.base.Splitter;
import com.google.common.collect.Iterables;

public static void main(String[] args) throws IOException {
        String text = "(123, 234; 345, 456) (567, 788; 899, 900)";
        Splitter splitter = Splitter.onPattern("[,;\\)\\(]").omitEmptyStrings();
        String[] cleanString = Iterables.toArray(splitter.split(text), String.class);

        System.out.println(Arrays.toString(cleanString));

    } 
```

我确信大师可以进一步清理它。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2012-10-04T12:11:23.970

```
 for (int i = 0; i < faces.total(); i++) 
 {
    CvRect r = new CvRect(cvGetSeqElem("(123, 234; 345, 456)", i));             
    String x=""+Integer.toString(r.x());
    String y=""+Integer.toString(r.y());
    String w=""+Integer.toString(r.width());
    String h=""+Integer.toString(r.height());
    for(int j=0;j<(4-Integer.toString(r.x()).length());j++)   x="0"+x;
    for(int j=0;j<(4-Integer.toString(r.y()).length());j++)   y="0"+y;
    for(int j=0;j<(4-Integer.toString(r.width()).length());j++)   w="0"+w;
    for(int j=0;j<(4-Integer.toString(r.height()).length());j++)   h="0"+h;
    r_return=""+x+y+w+h;
 } 
```

上面的代码将返回一个字符串“0123023403540456”

```
int[] rectArray = new int[rectInfo.length()/4];
for(int i=0;i<rectInfo.length()/4; i++)
{
    rectArray[i]=Integer.valueOf(rectInfo.substring(i*4, i*4+4));
} 
```

它会得到 [123, 234, 345, 456]

# user-controls - 将 Umbraco“siteName”文本字符串添加到我的 .net 用户控件

> ID：12721262
> 
> 赞同：2
> 
> 时间：2012-10-04T06:10:00.987
> 
> 标签：user-controls, umbraco, asp.net-controls

我有一个文本字符串属性类型，用于在页面标题中显示“siteName”：

```
<title><umbraco:Item runat="server" field="siteName" recursive="true" /></title> 
```

我需要在我的 .net 用户控件中添加什么代码来添加“siteName”？

```
<asp:Label ID="siteName" runat="server" Text="siteName should go here!"></asp:Label> 
```

任何人都可以帮忙吗？

我已将此添加到 Umbraco 论坛并建议以下内容，但不确定如何将其包含在我的 .ascx 文件中：

```
dynamic node = new umbraco.MacroEngines.DynamicNode(umbraco.NodeFactory.Node.GetCurrent()); siteName.Text = node._siteName; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-07T07:42:55.093

您可以在用户控件中使用它

```
//var node = new Node(123); // Get node by Id, good if you have information on a certain page

var node = Node.GetCurrent(); // Get the current node
var nodeProperty = node.GetProperty("siteName").Value;
siteName.Text = nodeProperty; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T23:39:30.300

您希望在用户控件中有一个公共属性，然后当您通过宏将用户控件公开给 umbraco 时，该属性也将成为宏的参数。

当您在模板中引用宏时，您可以通过 page 属性。

您可能想查看 Umbraco 电视：

[http://umbraco.com/help-and-support/video-tutorials/introduction-to-umbraco/developer-introduction/macro-parameters.aspx](http://umbraco.com/help-and-support/video-tutorials/introduction-to-umbraco/developer-introduction/macro-parameters.aspx)

还有一个旧的（但大部分是准确的）pdf：

[http://umbraco.com/media/42a0202c-b0ba-4f84-bcf1-64dfd5230322-usingcontrolswithumbraco.pdf](http://umbraco.com/media/42a0202c-b0ba-4f84-bcf1-64dfd5230322-usingcontrolswithumbraco.pdf)

# java - HtmlUnit ScriptException 错误

> ID：12721277
> 
> 赞同：4
> 
> 时间：2012-10-04T06:11:15.400
> 
> 标签：java, htmlunit, htmlunit-driver

我正在使用 HtmlUnitDriver，这是我的代码。

```
 HtmlUnitDriver driver = new HtmlUnitDriver(true);
   driver.get("some url here"); 
```

我收到以下异常：

```
Caused by: com.gargoylesoftware.htmlunit.ScriptException: Wrapped com.gargoylesoftware.htmlunit.ScriptException: SyntaxError: missing ; before statement (http://sales.liveperson.net/hcp/html/mTag.js?site=7824460#1(eval)#1)
    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:595)
    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:537)
    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:538)
    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:545)
    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:520)
    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunctionIfPossible(HtmlPage.java:896)
    at com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeEventListeners(EventListenersContainer.java:162)
    at com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeBubblingListeners(EventListenersContainer.java:221)
    at com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:735)
    at com.gargoylesoftware.htmlunit.html.HtmlElement$2.run(HtmlElement.java:866)
    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:537)
    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:538)
    at com.gargoylesoftware.htmlunit.html.HtmlElement.fireEvent(HtmlElement.java:871)
    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeEventHandlersIfNeeded(HtmlPage.java:1162)
    at com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:202)
    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:440)
    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:311)
    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:373)
    at org.openqa.selenium.htmlunit.HtmlUnitDriver.get(HtmlUnitDriver.java:346)
    ... 8 more 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T01:55:09.590

很多问题都提到了这类问题。由于`ScriptException`您的 javascript 中有语法错误，因此引发了该错误。即使出现某种错误，大多数浏览器也会设法解释 JS，但 HtmlUnit 在这个意义上有点不灵活。

您的选择是：

1.  正确的JS代码
2.  禁用 JS 中的`WebClient`
3.  不要使用 HtmlUnit。使用具有更好 JS 支持的不同框架，例如[PhantomJS](http://phantomjs.org/)（注意它不是基于 Java 的框架）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-02-06T10:52:27.397

```
_webClient.getOptions().setThrowExceptionOnScriptError(false); 
```

在这个不正确的 JS 场景中工作。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-11T23:03:52.377

我对 liveperson mTag.js 有同样的错误

问题在于压缩的 mTag.js 响应。

有几种解决方法：

1.  用一个清晰​​的替换压缩的 mTag.js（需要 LivePerson 支持）
2.  使用“真正的”Selenium WebDriver（Firefox 驱动程序或类似驱动程序）

# asp.net-mvc-3 - 将复选框选定值传递给模式弹出窗口

> ID：12721278
> 
> 赞同：0
> 
> 时间：2012-10-04T06:11:15.793
> 
> 标签：asp.net-mvc-3

我需要根据选中的复选框向多个用户发送电子邮件。

在控制器中：

```
 [HttpGet]
        public ActionResult ChkBxSendMail(int[] check)
        {
            return View();
        }

    [HttpPost]
    public ActionResult ChkBxSendMail(int[] check, Profile profile, mail email)
    {
        foreach (var item in check)
        {
            var dbprofile = db.Profile.Single(p => p.ProfileId == item);
            string Emailid = dbprofile.EmailId;

            //var mailid = from p in db.Profile where p.ProfileId == id select p.EmailId;

            MailMessage msg = new MailMessage();
            MailAddress fromAddress = new MailAddress("xxxx");
            msg.From = fromAddress;
            msg.To.Add(Emailid);
            msg.Subject = email.Subject;
            msg.Body = email.Body;
            msg.Priority = MailPriority.High;

            SmtpClient client = new SmtpClient("smtp.gmail.com", 587);
            client.EnableSsl = true;
            client.DeliveryMethod = SmtpDeliveryMethod.Network;
            client.Credentials = new NetworkCredential("xxxxxx", "xxxx");
            client.Send(msg);
        }
        return RedirectToAction("Profiles", "profile");
    } 
```

在视图中：

"input type="checkbox" name="check" value="<%: item.ProfileId %>" /> " 用于表..

**问题**
无法将复选框选择的值传递给操作结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:27:34.670

你能显示所有视图代码吗？你使用 html.beginform 试试这个

```
<% using (Html.BeginForm("ChkBxSendMail", "here controler name", FormMethod.Post))
 { %>  
<table>
<tr> </tr> 
<% foreach (var item in Model) { %>
<tr> <td> <input type="checkbox" name="check" value="<%: item.ProfileId %>" /> </td>
<td> <%: Html.DisplayFor(modelItem => item.FirstName) %> </td>
<td> <%: Html.DisplayFor(modelItem => item.LastName) %> </td> 
 </tr> 
 </table>
 <input type="submit"/>
<% } %>
<%} %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:40:21.410

复选框是独立的。您不应使用具有相同名称属性的不同复选框。

此外，您的控制器上的 Request.Form["nameOfCheckbox"] 应该可以使用不同复选框的值

# javascript - 在 Javascript 中重构函数

> ID：12721281
> 
> 赞同：0
> 
> 时间：2012-10-04T06:11:46.427
> 
> 标签：javascript

我正在重构我的 javascript 代码，现在我遇到了一个问题，如果我在不使用函数的情况下将代码放入函数中，它就无法正常工作，见下文：

不工作：

```
function getFolderPath(){
    var winLocHref =  window.location.href;
    var path = winLocHref.substr(8+document.domain.length);
    var splits=path.split("/");
    path=path.substr(0,path.length-splits[splits.length-1].length);
    path = path.replace(/\//g, '\\\\');
    return path;
}
function getXlsxAbsolutePath(){
    var xslPath = getFolderPath() + "seating_plan_demo.xlsx";
    return xslPath;
}

var excel_file = excel.Workbooks.Open(getXlsxAbsolutePath()); 
```

在职的：

```
var   a   =  window.location.href;
var path = a.substr(8+document.domain.length);
var A=path.split("/");
path=path.substr(0,path.length-A[A.length-1].length);
path = path.replace(/\//g, '\\\\');
xslPath = path + "seating_plan_demo.xlsx";

var excel_file = excel.Workbooks.Open(xslPath); 
```

谁能告诉我我的问题是什么？

干杯。

<param name="DataURL" value="data.csv"> <param name="UseHeader" value="True"> 

| Number | English | French | German |
| --- | --- | --- | --- |
|  |  |  |  |

In data.csv file, number:Int,english,french,german 1,one,un,eins 2,two,deux,zwei 3,three,trois,drei 4,four,quattre,four 5,five,cinque,fuenf 6,six,six,sechs 7,seven,sept,sieben 8,eight,huit,acht 9,nine,neuf,neun 10,ten,dix,zehn It is not working for .txt file also. To load data from spreadsheet (Excel or OpenOffice Calc) into postgreSQL: Save the spreadsheet page as a CSV file. Prefered method is to open the spreadsheet on OpenOffice Calc and do the saving. On “Export to text file” window choose Character Set as Unicode (UTF8), Field Delimiter: “,” and Text Delimiter “ “ “. Message will be displayed saying only active sheet is saved. Note: This file has to be saved on a folder but not on desktop and have to save in UTF8 format (postgreSQL by dafault is step up for UTF8 encoding). If saved on desktop, postgreSQL will give “access denied” message and won't upload. In PostgreSQL, create an empty table with same number of column as the spreadsheet. Note: On each column, column-name has to be same, data type has to be same. Also, keep in mind the length of data where character varying with enough field. Then on postgreSQL, on SQL window, put the code: copy "ABC"."def" from E'C:\\tmp\\blabla.csv' delimiters ',' CSV HEADER; NOTE: Here C:\\tmp is the folder where CSV-file “blabla” is saved. “ABC”.”def” is the table created on postgreSQL where "ABC" is schema and"def" is the actual table. Then do “execute query” by pressing the green button on top. “CSV HEADER” is needed when CSV table has heading at the start of every column. If everythig is ok, no error message will be displayed and table data from CSV file will be loaded into the postgreSQL table. But if there is an error message do as following: If error message is saying that the data is too long for a specific column, then increase the column size. This happens mostly on character and character varying column. Then run the “execute query” command again. If error message is saying that the data type doesn't match to a particular column, then change the data type on postgreSQL table-column to match the one in CSV table. In your case, after creating CSV file, delete the unwanted columns and match the columns in postgre table. htmlcsvobject-tag 4 1 回答 1 This answer is useful -1 看看这个你可能会明白。 使用 javascript 和 HTML5 File API 于 2012-10-04T06:18:08.317 回答 Related 3 sql - 如何保证带有子查询的原子 SQL 插入？ 2 jquery - Jquery Cookie 代码不起作用 2 sql - 初级 Oracle SQL 计数函数 多列 1 sed - 使用 awk 或 sed 编辑文件倒数第二行的一个衬垫？ 0 java - Java JSlider菱形是透明的吗？ 1 c# - 仅当第二个子级表满足列中的值的条件时才返回人员 ID 2 iphone - 这会垂直翻转我的 CIImage 吗？ 1 silverlight - 将 Silverlight 5 DataGrid HyperlinkBut ton 的内容传递给函数 2 javascript - 在coldfusion中使用js获取表单元素 1 python - 更新无限循环中使用的变量 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641 <link href="../Styles/Style.css" type="text/css" rel="stylesheet">

# html - 无法使用将 csv 文件中的数据获取到 html 中 I have tried the following code to get the data from csv file to html page,but I am not getting the values.here is my code. In table.html file, <tit 0="" 1567="" 问问题="" 2012-10-04t06:11:55.183="" 次="" this="" question="" shows="" research="" effort;="" it="" is="" useful="" and="" clear="" does="" not="" show="" any="" unclear="" or="" bookmark="" question.="" activity="" on="" post.="" i="" have="" tried="" the="" following="" code="" to="" get="" data="" from="" csv="" file="" html="" page,but="" am="" getting="" values.here="" my="" code.="" in="" table.html="" file,="" <html=""><title>Reading values into a table</title><param name="DataURL" value="data.csv"> <param name="UseHeader" value="True"> 

| Number | English | French | German |
| --- | --- | --- | --- |
|  |  |  |  |

In data.csv file, number:Int,english,french,german 1,one,un,eins 2,two,deux,zwei 3,three,trois,drei 4,four,quattre,four 5,five,cinque,fuenf 6,six,six,sechs 7,seven,sept,sieben 8,eight,huit,acht 9,nine,neuf,neun 10,ten,dix,zehn It is not working for .txt file also. To load data from spreadsheet (Excel or OpenOffice Calc) into postgreSQL: Save the spreadsheet page as a CSV file. Prefered method is to open the spreadsheet on OpenOffice Calc and do the saving. On “Export to text file” window choose Character Set as Unicode (UTF8), Field Delimiter: “,” and Text Delimiter “ “ “. Message will be displayed saying only active sheet is saved. Note: This file has to be saved on a folder but not on desktop and have to save in UTF8 format (postgreSQL by dafault is step up for UTF8 encoding). If saved on desktop, postgreSQL will give “access denied” message and won't upload. In PostgreSQL, create an empty table with same number of column as the spreadsheet. Note: On each column, column-name has to be same, data type has to be same. Also, keep in mind the length of data where character varying with enough field. Then on postgreSQL, on SQL window, put the code: copy "ABC"."def" from E'C:\\tmp\\blabla.csv' delimiters ',' CSV HEADER; NOTE: Here C:\\tmp is the folder where CSV-file “blabla” is saved. “ABC”.”def” is the table created on postgreSQL where "ABC" is schema and"def" is the actual table. Then do “execute query” by pressing the green button on top. “CSV HEADER” is needed when CSV table has heading at the start of every column. If everythig is ok, no error message will be displayed and table data from CSV file will be loaded into the postgreSQL table. But if there is an error message do as following: If error message is saying that the data is too long for a specific column, then increase the column size. This happens mostly on character and character varying column. Then run the “execute query” command again. If error message is saying that the data type doesn't match to a particular column, then change the data type on postgreSQL table-column to match the one in CSV table. In your case, after creating CSV file, delete the unwanted columns and match the columns in postgre table. htmlcsvobject-tag 4 1 回答 1 This answer is useful -1 看看这个你可能会明白。 使用 javascript 和 HTML5 File API 于 2012-10-04T06:18:08.317 回答 Related 3 sql - 如何保证带有子查询的原子 SQL 插入？ 2 jquery - Jquery Cookie 代码不起作用 2 sql - 初级 Oracle SQL 计数函数 多列 1 sed - 使用 awk 或 sed 编辑文件倒数第二行的一个衬垫？ 0 java - Java JSlider菱形是透明的吗？ 1 c# - 仅当第二个子级表满足列中的值的条件时才返回人员 ID 2 iphone - 这会垂直翻转我的 CIImage 吗？ 1 silverlight - 将 Silverlight 5 DataGrid HyperlinkBut ton 的内容传递给函数 2 javascript - 在coldfusion中使用js获取表单元素 1 python - 更新无限循环中使用的变量 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</tit>

> ID：12721284
> 
> 赞同：0
> 
> 时间：
> 
> 标签：html, csv, object-tag

I have tried the following code to get the data from csv file to html page,but I am not getting the values.here is my code.

In table.html file,

```
 <html>
<head><title>Reading values into a table</title></head>
<BODY>

<DIV CLASS="body">

<OBJECT id="elements" CLASSID="clsid:333C7BC4-460F-11D0-BC04-0080C7055A83">
  <PARAM NAME="DataURL" VALUE="data.csv">
  <PARAM NAME="UseHeader" VALUE="True">
</OBJECT>

<TABLE datasrc="#elements">
<THEAD><TR STYLE="font-weight:bold"><TD>Number</TD><TD>English</TD><TD>French</TD><TD>German</TD></TR></THEAD>
<TBODY>
<TR><TD><DIV datafld="Number"></DIV></TD><TD><DIV datafld="English"></DIV></TD><TD><DIV datafld="French"></DIV></TD><TD><DIV datafld="German"></DIV></TD></TR>
</TBODY>
</TABLE>

</DIV>
</BODY>

</html> 
```

In data.csv file,

```
number:Int,english,french,german
1,one,un,eins
2,two,deux,zwei
3,three,trois,drei
4,four,quattre,four
5,five,cinque,fuenf
6,six,six,sechs
7,seven,sept,sieben
8,eight,huit,acht
9,nine,neuf,neun
10,ten,dix,zehn 
```

It is not working for .txt file also.

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-04T06:18:08.317

看看这个你可能会明白。

[使用 javascript 和 HTML5 File API](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

# javascript - 设置超时以避免 over_query-limit

> ID：12721287
> 
> 赞同：0
> 
> 时间：2012-10-04T06:12:05.883
> 
> 标签：javascript, google-maps-api-3, google-geocoder

我正在尝试使用 googlemaps 地理编码器检索地址..但是我只得到几个地址..因为我看到我的 javascript 在 10 个地址之后无法检索..下面是我的代码

```
function fetchData(lat,lng,type){   

    $('#placedata').empty();
    myLatlng = new google.maps.LatLng(parseFloat(lat), parseFloat(lng));
    map = new google.maps.Map(document.getElementById('map'), {
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    center: myLatlng,
                    zoom: 10});
    var request = {location: myLatlng,radius: 50000,types: [type]};
    var service = new google.maps.places.PlacesService(map);
    service.search(request, callback);
  }

  function callback(results, status) {  

      for (var i = 0; i < results.length; i++) {
        if (status == google.maps.places.PlacesServiceStatus.OK) {  
          createMarker(results[i]);     
        }       
    }
  }

  function createMarker(place) {
    place.geometry.location});

    var request = {reference: place.reference,};
    service = new google.maps.places.PlacesService(map);
    service.getDetails(request, detailsDisplay);

    function detailsDisplay(details, status) {      
        $('#placedata').append('<tr><td><a href='+details.url+'>'+details.name+'</a></td></tr>');

    }

} 
```

正如我看到许多人有同样的问题..有没有办法或使用 setTimeout 函数并延迟请求所以我得到至少 20 个地址..任何帮助将不胜感激..谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T12:47:36.633

该解决方案`setTimeout`用于防止`OVER_QUERY_LIMIT`：

```
function createMarker(place) {
    //var placeLoc = place.geometry.location;
    //var marker = new google.maps.Marker({map: map,zIndex: 100,position: place.geometry.location});

    var request = {
        reference : place.reference,
    };

    service = new google.maps.places.PlacesService(map);

    service.getDetails(request, function(details, status) {
        if (status === google.maps.places.PlacesServiceStatus.OK) {
            $('#placedata').append('<tr><td><a href='+details.url+'>' + details.name + '</a></td></tr>');
        } else if (status === google.maps.GeocoderStatus.OVER_QUERY_LIMIT) {
            setTimeout(function() {
                createMarker(place);
            }, 200);
        }
    });
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-09-03T12:01:52.860

我有解决方案。

试试这个

```
if(pagination.hasNextPage){
pagination.nextPage();
}

if(pagination.b == null){
createMarker(place);
} 
```

//不需要setTimeout。试试这个。这将对您有所帮助。

# ember.js - `controller` 是 Ember 视图上下文中的特殊关键字吗

> ID：12721296
> 
> 赞同：1
> 
> 时间：2012-10-04T06:12:38.537
> 
> 标签：ember.js

今天我第四次阅读[Trek 的教程](http://trek.github.com/)，希望这次我能明白（不要误会，这是一个很棒的资源，但我一般是客户端开发的新手，发现该教程更适合专家）。无论如何，我注意到了这段代码：

```
<script type="text/x-handlebars" data-template-name="contributors">
  {{#each person in controller}}
    {{person.login}}
  {{/each}}
</script> 
```

很明显，我们在这里迭代控制器中的槽项并将它们称为`person`每次迭代中的内部。但是`controller`参考从何而来？这是由 Ember 定义并在每个视图的上下文中可用的一些特殊关键字吗？

如果`controller`是 Ember 提供的特殊参考，我想更多地了解它是如何工作的。您能否指出我定义了此类关键字的文档甚至 Ember 源，以便我可以从视图中了解哪些其他参考可用以及它们是如何工作的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:30:47.360

不，它不是一个特殊的关键字，它只是使用下面描述`view`的方法时设置的属性：`connectOutlet`

```
index: Ember.Route.extend({
  route: '/',
  connectOutlets: function(router){
    router.get('applicationController').connectOutlet('allContributors', [
      {login:'wycats'},
      {login:'tomdale'}
    ]);
  }
}) 
```

如果您阅读下面的示例，您会看到：

> 控制器有能力在他们控制的视图中连接出口。在上面的示例中，我使用 'allContributors' 作为参数调用 connectOutlet。这将为我们创建一个 AllContributorsView 的实例，将 AllContributorsController 的共享实例设置为视图的默认渲染上下文，并将其插入到我们的视图层次结构中 {{outlet}} 出现在应用程序模板中的位置。第二个参数，我硬编码为两个对象字面量的数组，设置为控制器实例的内容。

所以`connectOutlet`方法：

*   创建一个实例`AllContributorsView`
*   设置`AllContributorsController`为视图的默认渲染上下文（意思是`controller`视图的属性设置为`App.router.allContributorsController`，因为默认的视图渲染上下文是它的控制器，或者没有设置控制器时它的父视图上下文，见[视图上下文源码](http://goo.gl/2OrXM)。
*   `{{outlet}}`在出现的地方插入视图
*   设置`AllContributorsController`实例的内容（这里`[{login:'wycats'}, ...]`）

我建议你完整阅读这篇文章，然后尝试自己做。您还可以阅读很多 Ember 资源，请参阅[此 StackOverflow 答案](https://stackoverflow.com/questions/12075639/getting-more-detail-into-ember-js/12077079#12077079)。

# c# - 会员获取用户

> ID：12721297
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:12:40.437
> 
> 标签：c#, asp.net, asp.net-membership

我是 asp.net 的新成员。我面临一个问题。db 中有一个名为 profile 的表，其中名为 PropertyValueStrings 的列有一个值。我想通过使用 PropertyValueStrings 从 Memberships 表中获取用户。像

```
select * from Memberships where UserId = (select UserId from Profiles where PropertyValueStrings=12 ) 
```

在c#中可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:17:20.960

当然有可能。但是，不建议这样做。成员资格类提供了一个优秀的接口来列出所有用户，您也可以使用成员资格 API 获取他们的角色和每个角色的成员资格。

微软提供此功能的原因是，您不必编写 sql 和处理表。

角色库安全和配置文件服务广泛使用 SQL，它们是普通表。您可以按照与其他表完全相同的方式查询它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T15:25:45.173

感谢所有我得到的解决方案

```
var AllUsers = Membership.GetAllUsers().Cast<MembershipUser>(); 
var obj = AllUsers.Select(user => ProfileBase.Create(user.UserName, true)).Where(profile => profile.GetPropertyValue("PropertName").ToString() == "Value").SingleOrDefault(); 
```

它返回结果为

select * from Memberships where UserId = (select UserId from Profiles where PropertyValueStrings=12 )

# sql - DB2：如何从其他表中显示规范化表中的数据？

> ID：12721301
> 
> 赞同：1
> 
> 时间：2012-10-04T06:13:21.920
> 
> 标签：sql, database, join, db2

WINDOWS 7 上的 DB2 v10.1 数据库

我有三张桌子：

1.table Rase

```
     id Rases 长度
     1 莫斯科 300
     2 克拉斯诺 400

```

2.table计划

```
    id 姓名 日期
    1 ТУ124 10.12.1987
    2 Ан24 10.01.1998

```

3.table Kril

```
     ID 颜色重量    
      1 绿色 124,56
      2 蓝色 187,40
      3 黑色 231,00

```

需要在规范化表 ALL_D 中显示数据，如下所示： ID - 主键计划 - 对 Plan.Name Kril 的引用 - 对 Kril.Color 的引用 Race - 对 Race.Rases 的引用 Time_Start-departure time (CURRENT TIMESTAMP)

1.  表 ALL_D

```
     ID 名称 颜色 Rases Time_Start
     1 ТУ124 绿色莫斯科 2011-10-25-19.12.30.000000
     2 АН24 蓝色克拉斯诺 2011-10-27-17.14.30.000000

```

我不明白如何执行此任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:44:28.777

这是一个基本的连接查询。

```
insert into all_d
    select rase.id, plan.name, kril.color, rase.rases, 
           current timestamp as time_start
        from rase
        join plan on plan.id = rase.id
        join kril on kril.id = rase.id 
```

`join``inner join`与--only相同，将返回所有三个表共有的 id。

更新：还将插入添加到结果表中。

# c# - 解析 HTML 和 SGML 文件的建议

> ID：12721308
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:13:45.500
> 
> 标签：c#, .net, html, xml, sgml

我有一个项目将接受诸如（html、sgml、xml 和 txt）之类的输入。

我解析 XML 文件和 txt 文件没有问题，你能推荐一些我可以用来解析 html 或 sgml 文件的工具吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:19:32.590

对于**HTMl Parser**，使用 HTML Agilty Pack - 它是一个用于 .NET 的开源 HTML 解析器。

> 什么是 Html Agility Pack (HAP)？
> 
> 这是一个敏捷的 HTML 解析器，它构建一个读/写 DOM 并支持普通的 XPATH 或 XSLT（实际上你不必了解 XPATH 或 XSLT 就可以使用它，不用担心......）。它是一个 .NET 代码库，允许您解析“网络之外”的 HTML 文件。解析器对“真实世界”格式错误的 HTML 非常宽容。对象模型与 System.Xml 的提议非常相似，但用于 HTML 文档（或流）。

您可以使用它来查询 HTML 并提取您想要的任何数据。

对于**SGML 解析器**

查看此链接，SGMLReader - 将任何 HTML 转换为有效的 XML：

[http://developer.mindtouch.com/Community/SgmlReader](http://developer.mindtouch.com/Community/SgmlReader)

参考：[SGML 解析器 .NET 建议](https://stackoverflow.com/questions/1148083/sgml-parser-net-recommendations)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:20:52.803

对于解析 HTML，我不能推荐除[http://htmlagilitypack.codeplex.com/](http://htmlagilitypack.codeplex.com/)之外的任何东西，因为 SGML 基本相同，但对于其他元素，您可能也可以使用它。

# joomla - How to change contenteditable to false in JCE?

> ID：12721313
> 
> 赞同：1
> 
> 时间：2012-10-04T06:14:15.663
> 
> 标签：joomla, contenteditable, joomla1.5, joomla-content-editor

I am using JCE in Joomla 1.5.x.

How can I configure the 'contenteditable ' value to 'false' only for the backend/administrator?

# html - Div height issues ,div get collapsed in ie and firefox

> ID：12721318
> 
> 赞同：0
> 
> 时间：2012-10-04T06:14:55.137
> 
> 标签：html, struts2, cross-browser

I have a wrapper div in my page ,which is having rows of data.I haven't set any height to this div,as it should vary the size , with the change in the content.This div works fine with chrome.The problem is that in IE and Firefox div get collapsed . I have noticed , firefox and IE are giving a particular height to the div.But there is no such issue with chrome.Please suggest a solution..... Any help is appreciated....

The code I am using is attached

```
 <div id="list" class="roundBox" style="">
                <s:bean name="java.util.HashMap" id="qTableLayout">
                    <s:param name="tablecolspan" value="%{8}" />
                </s:bean>
                <table class="list">
                    <s:hidden name="selector"/>
                    <tr>
                        <th >row 1</th>
                        <th >row 2</th>
                        <th >row 3</th>
                        <th >row 4</th>
                        <th >row 5</th>
                        <th class="currency" >row 6</th>
                        <th>row 7</th>
                        <th>row 8</th>
                        <th>&nbsp;</th>
                    </tr>
                    <s:iterator value="logList">
                        <tr>
                            <td><s:property value="channelId"/></td>
                        <td><s:date format="MM/dd/yyyy HH:mm:ss" name="requestReceiveTime"/></td>
                        <td><s:date format="MM/dd/yyyy HH:mm:ss" name="processBeginTime"/></td>
                        <td><s:date format="MM/dd/yyyy HH:mm:ss" name="processEndTime"/></td>
                        <td><s:date format="MM/dd/yyyy HH:mm:ss" name="responseAccessTime"/></td>
                        <td class="currency"><s:property value="responseTime"/></td>
                        <td>[<s:property value="responseCode"/>] <s:property value="responseDesc"/></td>

                        <td>

                        <sx:a  
                            href="showchannel?channelId=%{channelId}&token=%{token}" 
                            onclick="javascript:showDropdown('%{token}','show');" executeScripts="true" targets="%{token}channel" 
                            title="View Channel Information" id="%{token}showlink"><img src="images/tree_closed.gif"/></sx:a>
                        <a href=javascript:showDropdown('<s:property value="token"/>','hide'); title="Show/Hide Details" id="<s:property value="token"/>hidelink" style="display:none;"><img src="images/tree_open.gif"/></a>

                        </td>
                        <td>
                        <sx:a 
                            href="audittrailchannel?channelId=%{channelId}&token=%{token}" 
                            onclick="javascript:showauditDropdown('%{token}','show');"
                            executeScripts="true" targets="%{token}auditchannel" title="View Audit Information" 
                            id="%{token}showauditlink"><img src="images/down.png" /></sx:a>
                        <a href=javascript:showauditDropdown('<s:property value="token"/>','hide'); title="Show/Hide Details" id="<s:property value="token"/>hideauditlink" style="display:none;"><img src="images/up.png" /></a>
                        </td>
                        </tr>

                        <tr id="<s:property value="token"/>dropdown" style="display: none">
                            <td colspan="9" valign="top" bgcolor="#a4a4a4">

                                <table class="reports_details" style="width:100%;" align="left" bgcolor="#ffffe2">
                                    <tr><td colspan="3" style="height: 10px">
                                    <sx:div id="%{token}channel">

                                    </sx:div>
                            </td></tr>
                        <tr>

                            <th>Date</th>
                            <th>Description</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td><s:date format="MM/dd/yyyy HH:mm:ss" name="requestReceiveTime"/></td>
                        <td>channel request</td>
                        <td><a href="#" onclick="showPopup('<s:property value="token"/>Request')">[View]</a></td>
                        </tr>

                        <tr>
                            <td><s:date format="MM/dd/yyyy HH:mm:ss" name="responseAccessTime"/></td>
                        <td>channel response</td>
                        <td><a href="#" onclick="showPopup('<s:property value="token"/>Response')">[View]</a></td>
                        </tr>

                        <s:iterator value="serverLogList">
                            <tr>
                                <td><s:date format="MM/dd/yyyy HH:mm:ss" name="requestTime"/></td>
                            <td><s:property value="requestType"/></td>
                            <td><a href="#" onClick="showPopup('<s:property value="serverLogId"/>ServerLog')">[View]</a></td>
                            </tr>

                        </s:iterator>

                </table></td>

            </tr>
            <tr id="<s:property value="token"/>auditdropdown" style="display: none;">
                <td colspan="9" valign="top" bgcolor="#a4a4a4">
            <sx:div id="%{token}auditchannel" cssStyle="height:100px;overflow:scroll"></sx:div>
            </td>
            </tr>

            </s:iterator>
            <s:if test="logList.size() >= 1">
                <tr>
                    <td class="tdLabel" colspan="9"><center><s:a href ='javascript: submitPrev()' > << Previous </s:a><s:property value="pageIndex"/> of <s:property value="pageCount"/><s:a href ='javascript: submitNext()' > Next >> </s:a></center></td>

                </tr>
            </s:if>
            <s:else>
                <tr><td>No records found</td></tr>
            </s:else>

            </table>

            </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:17:53.963

你在你的div里放了什么？在标准 html 中，即使您的样式具有任何宽度/高度，也不会呈现空 div 标签。如果我的回答没有帮助，请向我们展示代码，以便我们查看问题所在。

# android - Inserting data into database on SD card - when and how?

> ID：12721323
> 
> 赞同：0
> 
> 时间：2012-10-04T06:15:29.907
> 
> 标签：android, database, android-sdcard

I have read couple of links on SO regarding insertion of data into DB by creating DB on the card. One of the links mentioned has this, that writing to the card will reduce the lifespan of the card. It suggested on creating links to write data onto the card after a certain limit is reached. I want to know what is the limit for a DB in an app in Android and after that is hit, how to write into the DB on the card?

# nfc - nfctools UL--NDEF 编写示例

> ID：12721327
> 
> 赞同：0
> 
> 时间：2012-10-04T06:15:52.907
> 
> 标签：nfc

有人有将 ndef 记录写入 Mifare UL type2 标签的示例吗？与图书馆 [https://github.com/grundid/nfctools](https://github.com/grundid/nfctools)？我尝试过使用它，但无法成功（实际上无法编写它）。

```
NfcAdapter nfcAdapter = new NfcAdapter();
nfcAdapter.registerTagListener(new Type2NfcTagListener(new NdefWriter()));
nfcAdapter.registerUnknownTagListerner(new LoggingUnknownTagListener());
nfcAdapter.setTerminal(TerminalUtils.getAvailableTerminal()); 
```

实际上，使用 Mifare Classic 标签非常容易，但是这个 UL 在实现方式上却大不相同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T06:19:38.047

为 Type2NfcTagListener 提供适当的终端和自定义 NDEFWriter (txtRecordWriter()) 可以解决问题，并且通过在 nfcAdapter 上使用 startListening() 将开始侦听标记。此处包含示例片段。

```
NfcAdapter nfcAdapter = new NfcAdapter(TerminalUtils.getAvailableTerminal(), TerminalMode.INITIATOR);
    System.out.println("Terminal found, preparing ...");
    nfcAdapter.registerTagListener(new Type2NfcTagListener(new txtRecordWriter()));
    nfcAdapter.registerUnknownTagListerner(new LoggingUnknownTagListener());
    nfcAdapter.startListening(); 
```

# visual-c++ - what does these exceptions mean?

> ID：12721328
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:15:53.977
> 
> 标签：visual-c++, mfc

> **Possible Duplicate:**
> [what does this mfc appliction “First-chance exception” exception mean?](https://stackoverflow.com/questions/12722780/what-does-this-mfc-appliction-first-chance-exception-exception-mean)

First-chance exception at 0x00939044 in Media.exe: 0xC0000005: Access violation reading location 0x00000048.

Unhandled exception at 0x77b515de (ntdll.dll) in Media.exe: 0xC0000005: Access violation reading location 0x00000048

# .htaccess - 如何将子域的所有页面设置为重定向到单个页面？

> ID：12721334
> 
> 赞同：0
> 
> 时间：2012-10-04T06:16:17.577
> 
> 标签：.htaccess, redirect, http-status-code-301

假设我的域名是**website123.com**，我有一个**my.website123.com的子域**

我已经从站点中删除了“我的”子域，并希望确保任何使用 my.website123.com URL 访问任何页面的人都被重定向到主 www.website123.com URL。“我的”子域有很多页面，所以我需要确保无论用户在“我的”子域上访问哪个页面，他们都会被重定向到网站的主索引页面。

我想通过 .htaccess 来完成这个任务——这是最好的方法吗？如果是怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-03T20:18:06.043

如果您希望在此之后重定向所有页面和目录，这是正确的方法：

```
RewriteCond %{HTTP_HOST} nz.business2sell.com$
RewriteRule ^(.*) http://www.business2sell.co.nz/$1 [R=301,L] 
```

例如，`nz.business2sell.com/businesses/`或`nz.business2sell.com/broker_directory/` 两者都重定向到`www.business2sell.co.nz/businesses/`或`/broker_directory/`

这样就不会留下更多页面

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:32:10.460

直接使用 Apache 配置总是优于 .htaccess。你可以访问吗？

您是否要将所有用户从以前的子域重定向到主域的索引页面，或者您是否希望逐页映射它们（例如 my.domain.com/contact/ 到 www.domain.com/contact )?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T18:45:26.090

您可以做的一件事是转到 httpd.conf 文件并添加以下内容：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} subdomain.domain.com
RewriteRule /(.*) http://www.domain.com [R=301,L] 
```

这会将子域中的所有页面指向您的主域。

祝你好运！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T18:02:48.527

@joeh0717

是的，对于 .htaccess 文件，将其修改为：

```
<IfModule mod_rewrite.c>

    RewriteEngine On
    RewriteBase /
    RewriteCond %{HTTP_HOST} subdomain.domain.com
    RewriteRule /(.*) http://www.domain.com [R=301,L]

</IfModule> 
```

请注意，此代码必须位于子域的根目录中。如果，正如您之前提到的，您已经删除了这个子域，您将需要重新建立它并将这个 .htaccess 文件放在根目录中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-07-29T18:42:28.647

这对我有用：

```
<IfModule mod_rewrite.c>

    RewriteEngine On
    RewriteBase /
    RewriteCond %{HTTP_HOST} deleted_subdomain.example.com$
    RewriteRule ^(.*) https://example.com [R=301,L]

</IfModule> 
```

# android - PreferenceActivity，在EditTextPreference中隐藏密码长度

> ID：12721350
> 
> 赞同：3
> 
> 时间：2012-10-04T06:17:32.927
> 
> 标签：android, passwords, preferences, preferenceactivity, edittextpreference

我的行动：

我点击 EditTextPreference

出现一个带有密码的窗口

一切正常，但可以看到之前输入的密码长度

如何隐藏密码的长度？

![在此处输入图像描述](../Images/7236d4287505c01f14cac59eb8a347b5.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:56:07.690

您可以将 EditText 的 TextColor 设置为白色。这样用户输入的任何内容都将不可见，您也可以使用这些隐藏光标

```
android:textColor="@color/white" or  android:textColor="#FFFFFF"
android:cursorVisible="false" 
```

# maven - 在 Maven 中集成 SQLFire

> ID：12721352
> 
> 赞同：0
> 
> 时间：2012-10-04T06:17:41.203
> 
> 标签：maven, vmware, sqlfire

我正在尝试将 SQLFire 集成到 Maven 项目中。我特别想要的是 SQLFire 瘦客户端。

在网上搜索时，我发现了以下博客：http: [//blogs.vmware.com/sqlfire/2012/05/how-to-integrate-sqlfire-into-your-maven-project.html](http://blogs.vmware.com/sqlfire/2012/05/how-to-integrate-sqlfire-into-your-maven-project.html)

问题是在查看存储库 URL 时，您会得到：

```
<Error>
 <Code>NoSuchKey</Code>
 <Message>The specified key does not exist.</Message>
 <Key>maven/release</Key>
 <RequestId>6AD3E84E43925D03</RequestId>
 <HostId>r/GKK28ZnIkzXycfYARTMxjwTKclJzlgH+zv2yeq3erkcvdwdtZEGIRD3ESF8mF5</HostId>
</Error> 
```

在这种情况下，什么是“NoSuchKey”？访问存储库是否需要来自 VMWare 的密钥？

请指教。

谢谢，

伊卡。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T16:31:52.170

看来博客毕竟是正确的。我发现在咨询我的发布工程师后，我的环境问题得到了解决。

# jquery - 我应该如何在 json 文件中表示表格数据

> ID：12721356
> 
> 赞同：0
> 
> 时间：2012-10-04T06:17:53.527
> 
> 标签：jquery, json

我想在 json 文件中表示表格数据。我想使用 datatable ajaxsource 标签读取这个 json 文件，如下所示。

```
$(document).ready(function() {
    var oTable = $('#example').dataTable( {
        "bProcessing": true,
        "sAjaxSource": "sources/abc.json"
     });
}); 
```

表格数据是

```
Name      Age      City
sam        23       Mexico
Mike       29       Newyork
Sydney     24       London 
```

我应该如何在 json 文件中表示这些数据？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:20:33.607

```
[{"Name":"sam","Age":"23","City":"Mexico"},
{"Name":"Mike","Age":"29","City":"London"}] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:25:43.583

插件数据表的 JSON 源示例：

```
{ "aaData":[
    ["sam","23","Mexico"],
    ["Mike","29","NewYork"],
    ["Sydney","24","London"]
]} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:34:04.337

表格数据可以在 JSON 中表示为 JSON 对象数组，其中每个对象都是一行。

```
COL1     COL2     COL3
________________________
DATA11   DATA12   DATA13
DATA21   DATA22   DATA23 
```

可以在 Json 中表示为

```
[{"COL1":"DATA11","COL2":"DATA12","COL3":"DATA13"},{"COL1":"DATA21","COL2":"DATA22","COL3":"DATA23"}] 
```

# android - Android：隐藏顶部状态栏

> ID：12721359
> 
> 赞同：0
> 
> 时间：2012-10-04T06:18:16.880
> 
> 标签：android, statusbar

我可以隐藏 Android 顶部状态栏（出现时间和充电图标）吗？实际上，当我在设备和模拟器上运行东西时，元素的定位存在一些差异。我想运行我的代码和许多不同的模拟器来进行测试，有什么帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T12:05:18.040

从 Android Emulator 中完全删除系统栏（使用 Android 4.0.3 测试）：

*   导航到 %USER_HOME%\.android\avd\avd_name.avd\
*   编辑 config.ini ：

    hw.mainKeys=no - 关闭系统栏
    hw.mainKeys=yes - 打开系统栏

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:21:00.110

尝试这样的事情：

```
 <activity android:name=".MainActivity"
            android:label="@string/app_name"  android:theme="@android:style/Theme.NoTitleBar.Fullscreen">
           </activity> 
```

或者在 onCreate 中的 setContentView() 之前执行类似的操作

```
requestWindowFeature(Window.FEATURE_NO_TITLE) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:23:14.940

**在 Java 中动态地**

```
this.requestWindowFeature(Window.FEATURE_NO_TITLE);
this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

或者

在 menifest.xml 中声明，如..

```
Add the following in application if you want to remove it for all the activities in an app:

<application android:theme="@android:style/Theme.Black.NoTitleBar">

Or for a particular activity:

<activity android:theme="@android:style/Theme.Black.NoTitleBar"> 
```

编辑：-

```
android:theme="@android:style/Theme.NoTitleBar.Fullscreen" 
```

并在 oncreate() 方法中编写以下内容。

```
@Override
public void onCreate(android.os.Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);

    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
                            WindowManager.LayoutParams.FLAG_FULLSCREEN);

    setContentView(R.layout.main);
} 
```

# http - 我网站上的 Http 和 https

> ID：12721373
> 
> 赞同：0
> 
> 时间：2012-10-04T06:19:18.083
> 
> 标签：http, https, webserver, localhost, browser-cache

我有一个雄心勃勃的计划：我希望将注册、登录、交易等页面定向到 HTTPS 服务器，而其他操作如浏览我的网站，如“联系我们或反馈或条款和政策”我不想打扰使用 HTTPS 服务器，我只希望它是 HTTP

我怎样才能做到这一点？

我对这个“**选择性协议**”的主要目标是加快我的网站加载时间

还有一个无关紧要的小问题：浏览器是否“**缓存”**来自本地主机的页面？至少chrome没有，浏览器会缓存来自本地主机（XAMPP）的网页吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:23:46.390

这是常见的做法。只需使用绝对 URL 链接到安全页面（例如注册和登录），这样您就可以指定 https 协议。其他链接可以保持相对。

一个问题是，如果您在使用 https 提供的页面上使用相对链接，它们将保留在 https 中。例如，如果您有一个在所有页面上呈现的通用顶部导航栏……那么在普通 (http) 页面上，例如您的主页，该栏中的相对链接也将是 http。但是，在诸如注册之类的 https 页面上，如果用户使用该顶部导航栏点击离开，则相对链接将是 https，“继承”周围页面的协议。只是需要注意的事情。如果您不需要它，调用 https 并不理想，因为处理此类请求的计算成本更高。

**更新**

与@user1537158 的进一步讨论澄清说，正在为所有页面生成 https，这不是预期的行为。此外，服务器环境是由 Apache 提供的 PHP。

PHP 代码可能不会导致这种情况发生，某些 Apache 配置更可能是罪魁祸首。可能有一个“重写规则”导致了这种行为。“重写规则”是 Apache 的指令，告诉它以某种方式修改传入的请求，例如，重定向它或拒绝它。

这是我所指内容的快速概述： [http ://wiki.apache.org/httpd/RewriteHTTPToHTTPS](http://wiki.apache.org/httpd/RewriteHTTPToHTTPS)

因此，在这种特殊情况下的下一步：

1.  让您的系统管理员仔细检查配置。它可能位于 httpd.conf 或 Apache 引用的其他配置文件中，也有一种方法可以在 .htaccess 文件中执行此操作，该文件可以驻留在所服务的各个目录中。
    *   调查为什么所有 URL 都被重写为 https
    *   设置重写规则以强制某些 URL 为 https
2.  确保在导航到安全页面时，代码（PHP、模板、javascript 等）中的链接和操作正确引用了绝对 URL，包括 https 协议。

# asp.net - 如何让网站浏览器兼容不同的屏幕分辨率？

> ID：12721377
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:19:31.277
> 
> 标签：asp.net, html, css, cross-browser

我已经开发了一个有 10 页的网站，现在我面临一个主要问题，即当我在任何其他屏幕比我的网站更宽的机器上运行它时，它会变得不平衡并且不能像在我自己​​的机器上那样正确显示。

我想要帮助我如何使这个站点浏览器兼容，可以在具有相同布局的任何机器上运行，并且可以在具有相同布局的任何屏幕上运行。

请帮助我，我该怎么办？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:23:29.090

**首先，网站与您使用的机器**无关，只是**浏览器**的呈现方式不同（在您的情况下），因为如果您对 CSS 非常了解，您可以构建一个跨浏览器网站。

因此，为了制作一个跨浏览器的网站，您需要对 html 和更重要的 CSS 有深入的了解，您需要决定是要**修复**布局还是**动态/流动**布局，那里有很多书籍，搜索响应式设计，学习跨浏览器 CSS，你也可以`screen(width)/print specific stylesheets`用来把你的网站提升到一个更好的水平......也在 CSS 中学习**`POSITIONING`**

一些学习网页设计的最佳书籍：

## [自适应网页设计](http://www.amazon.co.uk/Adaptive-Web-Design-Experiences-ebook/dp/B0056ICETG/)

——**亚伦·古斯塔夫森**

## [响应式网页设计](http://www.abookapart.com/products/responsive-web-design)

-**伊桑·马科特**

## [手工 CSS：更防弹的网页设计](http://www.amazon.co.uk/Handcrafted-CSS-Bulletproof-Design-Voices/dp/0321643380/)

- **Dan Cederholm 和 Ethan Marcotte**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:27:02.070

你有多个问题。

首先，它与您的机器无关，而与浏览器无关，您需要进行适当的设计。基本的设计原则很少

即液体布局设计 - 适合任何屏幕宽度并随屏幕缩小/增长

另一个是固定布局 - 无论屏幕大小如何，此布局都保持不变。

您应该选择其中之一。网络上有许多免费的优秀 CSS 模板。你可以做的是，使用这个主题的骨架并应用你的样式和其他元素来创建你自己的。

浏览器兼容性是一个古老的问题，设计师处理不同的技术。有些人使用 javascript 来检测不同的浏览器并呈现适当的 css 以适应该浏览器，而有些人则编写条件 CSS。

您可以选择其中一种策略。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:32:37.910

您可以按照响应式网页设计来设计您的网站。

**三个关键技术特性是响应式网页设计的核心：**

1.  媒体查询和媒体查询监听器
2.  使用相对大小的灵活的基于网格的布局
3.  灵活的图像和媒体，通过动态调整大小或 CSS

阅读以下链接以获取更多信息 [http://msdn.microsoft.com/en-us/magazine/hh653584.aspx](http://msdn.microsoft.com/en-us/magazine/hh653584.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T06:26:40.953

创建一个跨浏览器兼容的网站：

*   仅使用符合标准的编码。

*   不要使用浏览器特定（专有）的 HTML 标记和功能。

这些仅适用于创建它们的浏览器，甚至可能在其他浏览器中查看时破坏您的网页。

验证您的网页。

*   使用 W3C 免费验证服务验证您的 HTML/XHTML 编码

*   使用 W3C 免费验证服务验证您的级联样式表

详情见链接

[http://www.netmechanic.com/products/Browser-Tutorial.shtml](http://www.netmechanic.com/products/Browser-Tutorial.shtml)

# php - 数组推送显示多维数组

> ID：12721383
> 
> 赞同：0
> 
> 时间：2012-10-04T06:20:12.900
> 
> 标签：php, arrays, multidimensional-array

我有以下数组：

```
Array
(
    [0] => Array
        (
            [id] => 23
            [title] => jkl
        )

    [1] => Array
        (
            [id] => 478
            [title] => lmn
        )

    [2] => Array
        (
            [id] => 22
            [title] => pqr
        )

    [3] => Array
        (
            [id] => 21
            [title] => abc
        )
) 
```

同样是第二个数组：

```
Array
(
    [0] => Array
        (
            [id] => 103
            [title] => Activities
        )

    [1] => Array
        (
            [id] => 76
            [title] => Top 10 Ideas
        )

    [2] => Array
        (
            [id] => 9
            [title] => Best Shopping Areas
        )    
) 
```

如果第一个数组的计数小于 3，我想将第一个数组附加到第二个数组中，因此我使用了数组推送功能并这样做：

```
if (count($secondArr) < 3) {
            echo "<pre>";
            echo array_push($secondArr, $firstArr);
            print_r($result);
            exit;
        } 
```

现在在 array_push 之后显示这样的数组（多维）

```
Array
(
    [0] => Array
        (
            [id] => 76
            [title] => Activities
        )

    [1] => Array
        (
            [id] => 103
            [title] => Top 10 Ideas
        )

    [2] => Array
        (
            [id] => 9
            [title] => Best Shopping Areas
        )

    [3] => Array
        (
            [0] => Array
                (
                    [id] => 23
                    [title] => jkl
                )

            [1] => Array
                (
                    [id] => 478
                    [title] => lmn
                )

            [2] => Array
                (
                    [id] => 22
                    [title] => pqr
                )

            [3] => Array
                (
                    [id] => 21
                    [title] => abc
                )   

        )

) 
```

我不想这样（多维）。我希望它附加键 4,5 等等。如果是的话，那有可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:21:57.383

你应该`array_merge`改用。

```
$result = array_merge($secondArr, $firstArr); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:21:46.750

`array_push`向数组中插入*一个新元素。*你想*合并*两个数组：

```
$firstArray = array_merge($firstArray, $secondArray); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:23:29.653

根据[array_push 的 PHP.net 规范：](http://au.php.net/manual/en/function.array-push.php)

```
array_push() treats array as a stack, and pushes the passed variables onto the end of array. The length of array increases by the number of variables pushed. Has the same effect as: 
```

所以它不会工作。您可能希望以完全相同的方式使用`array_merge`而不是,。`array_push`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-04T06:23:30.860

使用 array_merge

[http://in2.php.net/manual/en/function.array-merge.php](http://in2.php.net/manual/en/function.array-merge.php)

array_push — 将一个或多个元素压入数组末尾

[http://au.php.net/manual/en/function.array-push.php](http://au.php.net/manual/en/function.array-push.php)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T06:32:29.513

你可以做：

```
$array1 = array(array(1,2,3),array(1,2,3));
$array2 = array(array(4,5,6),array(4,5,6));

if(count($array2) > 3){
    foreach($array2 as $val){
            $array1[] = $val;
    }
}
print_r($array1); 
```

或者您可以简单地合并：

```
$new_array = array_merge($array1 , $array2); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T06:42:45.753

如果你仍然坚持使用数组推送，试试这个：

```
if (count($secondArr) < 3) {
    echo "<pre>";
    foreach($firstArr as $arr){
        array_push($secondArr,$arr);
    }
    print_r($secondArr);
    exit;
} 
```

但我同意使用array_merge。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-04T07:24:35.540

您可以使用 array_merge 尝试以下代码

```
if (count($secondArr) < 3) {
            array_merge($secondArr, $firstArr);
        } 
```

# ios - '[[myView viewWithTag:tag] removeFromSuperview]' 删除我所有的 UIButtons

> ID：12721388
> 
> 赞同：0
> 
> 时间：2012-10-04T06:20:56.670
> 
> 标签：ios, uiview

出于某种原因，我似乎无法在不删除所有 UIButton 的情况下删除 UIImageView。所有子视图都添加到我的主视图 _ourView 和 UIButtons 没有被赋予标签（默认 0），我的图像被赋予标签 = 5。

当我打电话

```
NSInteger o = [obj intValue]; //This is the letter "O" not 0, and o = 5 in this case (which is what my subview tag is)
UIView *hangmanView = [_ourView viewWithTag:o];
[hangmanView removeFromSuperview];
[_ourView setNeedsDisplay]; 
```

我所有的按钮也消失了。

任何指针？

编辑：如果您想查看更多代码，我已将我的项目上传到 github。这是文件的链接：[https ://github.com/elayman/Hangman/blob/master/Hangman/HangmanViewController.m#L172](https://github.com/elayman/Hangman/blob/master/Hangman/HangmanViewController.m#L172)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:26:12.257

您已经将按钮添加到图像视图中，或者与该标记匹配的视图是按钮的超级视图。

在调试器中检查标记值是什么（它可能不是您认为的那样）以及 viewWithTag 返回的视图是什么。

无论如何，标签在大多数情况下都是无用的。为什么不使用 outlet 或 outlet 集合，它更加明确和可读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:40:24.433

0 是标签的默认值...因此它采用没有标签的第一个视图，这可能不是您想要的。

记录您删除的内容，以便查看实际发生的情况：

```
NSLog(@"removing %@", hangmanView) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-06T00:16:19.590

发现我在将按钮添加到超级视图后意外释放了按钮，因此它们在 setNeedsDisplay 后消失了。谢谢你的帮助。我只是目标 c 的新手，并认为 addSubview 消息将 subView 的控制权交给了 superView。

# android - 机器人：如何验证 EditText 输入？

> ID：12721391
> 
> 赞同：0
> 
> 时间：2012-10-04T06:21:16.760
> 
> 标签：android, android-edittext, textwatcher

我有一个edittext，我只想在通过键盘插入英文字符或单词时显示一条消息，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:22:53.903

使用[http://developer.android.com/reference/android/text/TextWatcher.html](http://developer.android.com/reference/android/text/TextWatcher.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:26:40.173

使用 TextWatcher 观察 EditText 中的文本，每当在 TextWatcher 的“onTextChanged”方法中检测到英文字符或单词时，您都可以显示一条消息。

一个例子如下

```
TextWatcher textWatcher = new TextWatcher() {

            public void beforeTextChanged(CharSequence s, int start, int count,
                    int after) {
            }

            public void onTextChanged(CharSequence s, int start, int before,
                    int count) {
                // or here
            }

            public void afterTextChanged(Editable s) {
                // Check for English Character or word here and show message
        };

        // Set listener on the original text field
        itemText.addTextChangedListener(textWatcher);

    } 
```

希望能帮助到你！！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:26:50.500

就这样做——

```
((EditText)findViewById(R.id.et_testo)).addTextChangedListener(new TextWatcher() {

public void afterTextChanged(Editable s) {

}

public void beforeTextChanged(CharSequence s, int start, int count,
        int after) {
    // TODO Auto-generated method stub

}

public void onTextChanged(CharSequence s, int start, int before,
        int count) {
    // TODO Auto-generated method stub
    Toast.makeToast(activity.this, s.toString(), Toast.Long).show();
}
}); 
```

看看[TextWatcher](http://developer.android.com/reference/android/text/TextWatcher.html)

# android-button - TableRow 高度 wrap_content 不起作用

> ID：12721401
> 
> 赞同：2
> 
> 时间：2012-10-04T06:21:50.120
> 
> 标签：android-button, android-tablelayout

我有一个在 xml 中定义了几个 TableRows 的 TableLayout。所有行的权重为 1，但第一行的权重为 0，高度定义为“wrap_content”，如下所示：

```
<TableRow 
        android:layout_weight="0" 
        android:layout_height="wrap_content"
        android:id="@+id/row">
      <Button
         android:id="@+id/tbl_txt1"
         android:layout_width="0dip"
         android:layout_height="wrap_content"
         android:layout_weight="1"
         android:textAppearance="@android:style/TextAppearance.DeviceDefault.Small"
         android:gravity="center"/>

      <Button
         android:id="@+id/tbl_txt2"
         android:layout_width="0dip"
         android:layout_height="wrap_content"
         android:layout_weight="1"
         android:textAppearance="@android:style/TextAppearance.DeviceDefault.Small"
         android:gravity="center"/>
</TableRow> 
```

问题是在带有 android 2.3 的设备中它工作正常（包装按钮的内容）但在带有 android 4（ics）的设备中它不包装任何东西（具有固定高度）。我试过fill_parent，结果是一样的。

# asp.net - Azure Web 应用程序架构

> ID：12721404
> 
> 赞同：1
> 
> 时间：2012-10-04T06:22:01.797
> 
> 标签：asp.net, web-applications, ssl, azure, azure-web-roles

我正在构建一个将部署在 Microsoft Azure 上的 Web 应用程序。我的网站的一部分将受到 SSL 保护，而其余的则不会。我对 SSL 保护我的整个站点不感兴趣。SSL 安全区域包括会员登录部分和创建新会员页面。webappication 的其余部分只是公司介绍等，不需要保护。

我想将我的 web 应用程序托管在一个 webrole 中。

我应该如何组织我的申请？

# python - 如何在两个 python 脚本之间共享不断变化的变量？

> ID：12721406
> 
> 赞同：0
> 
> 时间：2012-10-04T06:22:04.977
> 
> 标签：python, python-2.7

我是 python 的新手，并且在尝试在两个脚本之间定义共享变量时备货，这样父脚本中共享变量的任何值更改都会立即“同步”到子脚本。

例如：

1.  每两秒，`Parent.py`将值 1 到 3 输入到共享变量 A，**一次一个**。
2.  `Child.py`一直等待 A 的值变化并打印出来。

所以我们应该得到类似的东西：

```
1

...(2 seconds past)

2

...(2 seconds past)

3 
```

这只是一个例子。我的实际脚本更复杂，需要同时运行，所以我正在考虑使用`multiprocessing.pipe`或`multiprocessing.queue` 不确定选择哪一个以及如何将其添加到我的脚本中。如果有人可以帮助我，我将不胜感激:)

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T16:43:49.473

Use `multiprocessing.Manager().Queue()`. The parent pushes to the queue, and the child pops. The Manager seems like an unecessary intermediate step, since there's a multiprocessing.Queue, but the implementation is much simpler and less prone to deadlocks and other bugs.

[http://docs.python.org/library/multiprocessing.html#multiprocessing.managers.SyncManager.Queue](http://docs.python.org/library/multiprocessing.html#multiprocessing.managers.SyncManager.Queue)

# android - 如何在安卓模拟器中拍照？

> ID：12721410
> 
> 赞同：0
> 
> 时间：2012-10-04T06:22:25.120
> 
> 标签：android, android-emulator, android-camera

我正在开发一个安卓应用程序。我想在其中启用相机。我正在使用 AVD2.2 Froyo。其中没有相机支持选项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:25:15.547

请参阅[此](http://viralpatel.net/blogs/enable-camera-in-android-emulator/)以在您的 Android 模拟器中启用相机...

# extjs4.1 - ExtJS 我们如何将网格数据导出到 Excel / PDF

> ID：12721412
> 
> 赞同：1
> 
> 时间：2012-10-04T06:22:31.570
> 
> 标签：extjs4.1

我目前正在使用 ExtJs 4.1.1 版本。

我已经检查了所有可能的方法来找出导出到 Excel 功能，但我没有找到确切的解决方案。

您能否建议，是否有任何规定可以使用 ExtJs 将网格数据导出到 Excel、PDF 中？如果是，请将正确的 URL 传递给我，以便我可以更改代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T18:21:46.263

你可以试试这个导出器插件。 [https://github.com/iwiznia/Ext.ux.Exporter](https://github.com/iwiznia/Ext.ux.Exporter)

还有其他方法是使用服务器端组件来呈现 CSV 或 xls 输出。这可能会给您更好的控制，但您必须手动编码所有部分。如果您使用的是 Java，那么您可以使用 POI 库来创建您的 Excel 工作簿等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-24T08:25:09.020

我试过这个：

[将 SDK2 网格导出为 CSV](https://stackoverflow.com/questions/15029462/exporting-sdk2-grid-to-csv)

代码是：

```
Ext.define("GridExporter", {
dateFormat : 'Y-m-d g:i',

exportGrid: function(grid) {
    if (Ext.isIE) {
        this._ieToExcel(grid);

    } else {
        var data = this._getCSV(grid);

        window.location = 'data:text/csv;charset=utf8,' + encodeURIComponent(data);
    }
},

_escapeForCSV: function(string) {
    if (string.match(/,/)) {
        if (!string.match(/"/)) {
            string = '"' + string + '"';
        } else {
            string = string.replace(/,/g, ''); // comma's and quotes-- sorry, just loose the commas
        }
    }
    return string;
},

_getFieldText: function(fieldData) {
    var text;

    if (fieldData == null || fieldData == undefined) {
        text = '';

    } else if (fieldData._refObjectName && !fieldData.getMonth) {
        text = fieldData._refObjectName;

    } else if (fieldData instanceof Date) {
        text = Ext.Date.format(fieldData, this.dateFormat);

    } else if (!fieldData.match) { // not a string or object we recognize...bank it out
        text = '';

    } else {
        text = fieldData;
    }

    return text;
},

_getFieldTextAndEscape: function(fieldData) {
    var string  = this._getFieldText(fieldData);

    return this._escapeForCSV(string);
},

_getCSV: function (grid) {
    var cols    = grid.columns;
    var store   = grid.store;
    var data    = '';

    var that = this;
    Ext.Array.each(cols, function(col, index) {
        if (col.hidden != true) {
            data += that._getFieldTextAndEscape(col.text) + ',';
        }
    });
    data += "\n";

    store.each(function(record) {
        var entry       = record.getData();
        Ext.Array.each(cols, function(col, index) {
            if (col.hidden != true) {
                var fieldName   = col.dataIndex;
                var text        = entry[fieldName];

                data += that._getFieldTextAndEscape(text) + ',';
            }
        });
        data += "\n";
    });

    return data;
},

_ieGetGridData : function(grid, sheet) {
    var that            = this;
    var resourceItems   = grid.store.data.items;
    var cols            = grid.columns;

    Ext.Array.each(cols, function(col, colIndex) {
        if (col.hidden != true) {
            console.log('header: ', col.text);
            sheet.cells(1,colIndex + 1).value = col.text;
        }
    });

    var rowIndex = 2;
    grid.store.each(function(record) {
        var entry   = record.getData();

        Ext.Array.each(cols, function(col, colIndex) {
            if (col.hidden != true) {
                var fieldName   = col.dataIndex;
                var text        = entry[fieldName];
                var value       = that._getFieldText(text);

                sheet.cells(rowIndex, colIndex+1).value = value;
            }
        });
        rowIndex++;
    });
},

_ieToExcel: function (grid) {
    if (window.ActiveXObject){
        var  xlApp, xlBook;
        try {
            xlApp = new ActiveXObject("Excel.Application"); 
            xlBook = xlApp.Workbooks.Add();
        } catch (e) {
            Ext.Msg.alert('Error', 'For the export to work in IE, you have to enable a security setting called "Initialize and script ActiveX control not marked as safe" from Internet Options -> Security -> Custom level..."');
            return;
        }

        xlBook.worksheets("Sheet1").activate;
        var XlSheet = xlBook.activeSheet;
        xlApp.visible = true; 

       this._ieGetGridData(grid, XlSheet);
       XlSheet.columns.autofit; 
    }
}}); 
```

它在 4.2.1 下也能完美运行

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T08:26:36.347

我现在无法为您提供代码，但我会这样做： 1\. 使用您在网格存储中的值构建一个简单的隐藏 html 表。2\. 找到合适的客户端导出脚本（使用 XML 和 Javascript） 3\. 将隐藏表的 ID 传递给将通过 XML 构建您的 excel 文件的函数。

希望这可以帮助。

# java - 编程康威的生命游戏

> ID：12721421
> 
> 赞同：0
> 
> 时间：2012-10-04T06:23:11.797
> 
> 标签：java

所以我以 GUI 形式编程康威生命游戏。输出不正确，我不知道为什么。这是处理“下一代”的代码。

```
for(int i=0; i < ROW; i++) {
    for(int j=0; j < COL; j++) {
        if(i > 0 && i < ROW-1 && j > 0 && j < COL -1) {
            if(grid.getButton(i-1, j-1).getBackground() == Color.BLUE) liveNeighbor++;
            if(grid.getButton(i-1, j).getBackground() == Color.BLUE) liveNeighbor++;
            if(grid.getButton(i-1, j+1).getBackground() == Color.BLUE) liveNeighbor++;
            if(grid.getButton(i, j-1).getBackground() == Color.BLUE) liveNeighbor++;
            if(grid.getButton(i, j+1).getBackground() == Color.BLUE) liveNeighbor++;
            if(grid.getButton(i+1, j-1).getBackground() == Color.BLUE) liveNeighbor++;
            if(grid.getButton(i+1, j).getBackground() == Color.BLUE) liveNeighbor++;
            if(grid.getButton(i+1, j+1).getBackground() == Color.BLUE) liveNeighbor++;

            if(grid.getButton(i, j).getBackground() == Color.WHITE) {
                if(liveNeighbor == 3) 
                    newGrid.getButton(i, j).setBackground(Color.BLUE);
                } else {
                    if(liveNeighbor > 3 || liveNeighbor < 2) 
                        newGrid.getButton(i, j).setBackground(Color.WHITE);
            }
            liveNeighbor=0;
        }
    }
} 
```

也许我错过了一些东西，但我很确定这是正确的。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:29:04.497

这就是问题：

```
if(grid.getButton(i, j).getBackground() == Color.WHITE) {
    if(liveNeighbor == 3) 
        newGrid.getButton(i, j).setBackground(Color.BLUE);
    } else {
        if(liveNeighbor > 3 || liveNeighbor < 2) 
            newGrid.getButton(i, j).setBackground(Color.WHITE);
} 
```

您的代码*仅*在当前图块已死时设置颜色。如果它还活着，它就永远不会死去。我会这样写：

```
boolean currentlyAlive = grid.getButton(i, j).getBackground() == Color.BLUE;
boolean aliveNextStep = (liveNeighbour == 3) ||
                        (currentlyAlive && liveNeighbor == 2);
newGrid.getButton(i, j).setBackground(aliveNextStep ? Color.BLUE : Color.WHITE); 
```

我还将逻辑数据（布尔值网格）与显示部分分开——这里的“业务逻辑”不应该对颜色有任何了解。

# android - JSONObject 无法转换为 JSONArray 错误

> ID：12721425
> 
> 赞同：0
> 
> 时间：2012-10-04T06:23:26.973
> 
> 标签：android, android-intent

我有这样的代码来显示来自mysql的数据，

它读取数据

```
protected String doInBackground(String... params) {
            // updating UI from Background Thread
            runOnUiThread(new Runnable() {
                public void run() {
                       // Building Parameters
                //  int success;
                    try {
                        // Building Parameters
                        List<NameValuePair> params = new ArrayList<NameValuePair>();
                        params.add(new BasicNameValuePair("phone", mPhoneNumber));
                        params.add(new BasicNameValuePair("id_store", id_store));

                        // getting store details by making HTTP request
                        // Note that store details url will use GET request
                        JSONObject json = jsonParser.makeHttpRequest(Constants.url_store_detail, "GET", params);

                        // check your log for json response
                        Log.d("Single Store Details", json.toString());

                        // json success tag

                            // successfully received store details
                            JSONArray storeObj = json.getJSONArray("store"); // JSON Array

                            // get first product object from JSON Array
                            JSONObject store = storeObj.getJSONObject(0);

                            // product with this pid found
                            // Edit Text
                            urledit = (EditText) findViewById(R.id.ETurledit);
                            storenameedit = (EditText) findViewById(R.id.ETusernameedit);
                            storedescedit = (EditText) findViewById(R.id.ETdescedit);
                            edittype=(Spinner)findViewById(R.id.Stypeedit);

                            String url = json.getString(TAG_URL);

                            // display store data in EditText
                            urledit.setText(store.getString(TAG_URL));
                            storenameedit.setText(store.getString(TAG_NAME));
                            storedescedit.setText(store.getString(TAG_DESC));               

                            if(store.getString(TAG_TYPE).equals("1")){
                                String mine = store.getString("Wordpress");
                                ArrayAdapter myadap = (ArrayAdapter)edittype.getAdapter();

                                int spinnerpos = myadap.getPosition(mine);
                                edittype.setSelection(spinnerpos);

                            }else{
                                String mine = store.getString("Prestashop");
                                ArrayAdapter myadap = (ArrayAdapter)edittype.getAdapter();

                                int spinnerpos = myadap.getPosition(mine);

                                edittype.setSelection(spinnerpos);

                            }

                    } catch (JSONException e) {
                        e.printStackTrace();
                    }
                }
            });

            return null;
        } 
```

但它显示这样的错误

```
10-04 13:08:57.377: DEBUG/dalvikvm(306): GC_EXPLICIT freed 42 objects / 2008 bytes in 260ms
10-04 13:08:59.837: INFO/ActivityManager(59): Starting activity: Intent { cmp=shoop3.android.edu/.editstoreActivity (has extras) }
10-04 13:09:01.148: DEBUG/dalvikvm(1272): GC_FOR_MALLOC freed 1456 objects / 269496 bytes in 198ms
10-04 13:09:01.407: DEBUG/Single Store Details(1272): {"store":{"id_user":"56","id_platform":"2","store_url":"prestashop","store_desc":"dasdasd","id_store":"38","store_logo":null,"store_name":"prestashop","store_curr":null}}
10-04 13:09:01.427: WARN/System.err(1272): org.json.JSONException: Value {"id_user":"56","id_platform":"2","store_url":"prestashop","store_desc":"dasdasd","id_store":"38","store_logo":null,"store_name":"prestashop","store_curr":null} at store of type org.json.JSONObject cannot be converted to JSONArray
10-04 13:09:01.457: WARN/System.err(1272):     at org.json.JSON.typeMismatch(JSON.java:96)
10-04 13:09:01.457: WARN/System.err(1272):     at org.json.JSONObject.getJSONArray(JSONObject.java:548)
10-04 13:09:01.507: WARN/System.err(1272):     at shoop3.android.edu.editstoreActivity$GetStoreDetails$1.run(editstoreActivity.java:189)
10-04 13:09:01.507: WARN/System.err(1272):     at android.os.Handler.handleCallback(Handler.java:587)
10-04 13:09:01.517: WARN/System.err(1272):     at android.os.Handler.dispatchMessage(Handler.java:92)
10-04 13:09:01.517: WARN/System.err(1272):     at android.os.Looper.loop(Looper.java:123)
10-04 13:09:01.517: WARN/System.err(1272):     at android.app.ActivityThread.main(ActivityThread.java:4627)
10-04 13:09:01.528: WARN/System.err(1272):     at java.lang.reflect.Method.invokeNative(Native Method)
10-04 13:09:01.528: WARN/System.err(1272):     at java.lang.reflect.Method.invoke(Method.java:521)
10-04 13:09:01.528: WARN/System.err(1272):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
10-04 13:09:01.537: WARN/System.err(1272):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
10-04 13:09:01.577: WARN/System.err(1272):     at dalvik.system.NativeStart.main(Native Method)
10-04 13:09:02.948: INFO/ActivityManager(59): Displayed activity shoop3.android.edu/.editstoreActivity: 3002 ms (total 3002 ms) 
```

这个怎么解决？？因为它显示 JSONObject 无法转换为 JSONArray 的错误，我希望有人可以帮助我，感谢您的建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:34:13.587

通过查看您的日志，使用它

```
JSONObject storeObj = json.getJSONObject("store"); 
```

代替

```
JSONArray storeObj = json.getJSONArray("store"); 
```

因为 store 是一个 JSON 对象

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:36:00.797

```
JSONObject json = jsonParser.makeHttpRequest(Constants.url_store_detail, "GET", params); 
```

如您所见，这里的 json 是一个`JSONObject`. 和这里

```
JSONArray storeObj = json.getJSONArray("store"); 
```

从`JSONObject`你试图得到一个`JSONArray`.

因此，与其将 json`JSONObject`声明为，不如将其声明为`JSONArray`.

然后删除 storeObj 并直接获取您的数据如下

```
JSONObject store = json.getJSONObject(0); 
```

# regex - 在 VBA 中使用 RegExp 将 d/m/yy 重新格式化为 yyyy-mm-dd 字符串

> ID：12721429
> 
> 赞同：3
> 
> 时间：2012-10-04T06:23:41.163
> 
> 标签：access, vba正则, 表达式, regex, vba

在[access](/questions/tagged/access "显示标记为“访问”的问题")中，报表中的澳大利亚日期`SQL`被分隔并格式化为*#d/m/yyyy#*。例如：

```
SELECT * FROM mytable WHERE mydate BETWEEN #2/1/2001# AND #4/3/2001# AND more... 
```

我需要抓住这个`SQL`声明并按摩它，这样我就可以把它呈现给`SQLite`：

```
SELECT * FROM mytable WHERE mydate BETWEEN '2001-01-02' AND '2001-03-04' AND more... 
```

那么，任务就是转换`#xd/xm/yyyy#`为`'yyyy-mm-dd'`. “你好，世界！” 正则表达式示例。

使用带有 的[vba正则](/questions/tagged/vba "显示标记为“vba”的问题")[表达式](/questions/tagged/regexp "显示标记为“正则表达式”的问题")`.Global = TRUE`，我可以一步替换分隔符并重新排序元素：

```
vOldPattern = "#([0-9]{1,2})/([0-9]{1,2})/([0-9]{4})#"
vNewPattern = "'$3-$2-$1'" 
```

这给出了以下中间结果：

```
SELECT * FROM mytable WHERE mydate BETWEEN '2001-1-2' AND '2001-3-4' AND more... 
```

我以为我可以一次通过填充所有个位数：

```
vOldPattern = "-(\d[-'])"
vNewPattern = "-0$1" 
```

但这种方法只填充了第一个（月）数字。我放弃并跑过两次，首先匹配 `"-(\d-)"`

然后继续 `"-(\d')"`

所以，三遍来改变格式和调整内容。当然，这个任务只有一个搜索/替换命令。有人可以自愿提供更优雅的解决方案吗？

而且，由于我必须编译和导出运行时，我想我不能使用后期绑定，而是需要加载对 MS VBScript 正则表达式的引用。我在 Win7/32 中开发，但应用程序需要与 WinXP 向后兼容（兼容？）。我应该加载哪个版本（1.0 或 5.5）的 VBScript RegEx 库？

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T08:59:01.973

您可以使用积极的前瞻来绕过仅填充第一个零 - 我认为这发生在您身上，因为最后一个`-`用于测试您的第二个非数字`-`

所以可以简化为以下两种模式

我不认为它可以一次性完成，但我想看到它。

我用
`2/12/2001`
而不是
`2/1/2001`
证明替换处理混合字符串

```
Sub Test()
Dim strIn As String
Dim objRegex As Object
strIn = "SELECT * FROM mytable WHERE mydate BETWEEN #2/12/2001# AND #4/3/2001# AND more"
Set objRegex = CreateObject("vbscript.regexp")
With objRegex
.Global = True
.Pattern = "#([0-9]{1,2})/([0-9]{1,2})/([0-9]{4})#"
strIn = .Replace(strIn, ("$3-$2-$1"))
.Pattern = "(-)(\d)(?=[^\d])"
strIn = .Replace(strIn, "$10$2")
MsgBox strIn
End With
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T08:18:56.720

[`Format()`我相信您可以使用该功能](http://msdn.microsoft.com/en-us/library/office/gg251755.aspx)执行整个任务。

如果没有，您可以使用 Format() 将前导零放入。这样的事情：

```
vNewPattern = _
    "'" & Format("$3","00") & "-" & Format("$2","00") & "-" & Format("$1","00") 
```

诚然，它并不优雅。但是，这很清楚，而且应该同样有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T08:24:18.803

正则表达式不是必需的。只需使用 format() 函数：

```
Dim myDate As Date
myDate = #4/3/2001#
Debug.Print Format(myDate, "yyyy-mm-dd") 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T02:19:07.913

布雷特上面的回答对我来说已经足够优雅了。我稍微简化了第二遍的语法，但留下了 Brett 的解决方案作为注释。

```
Sub Test()
Dim strIn As String
Dim objRegex As Object
strIn = "SELECT * FROM mytable WHERE mydate BETWEEN #2/12/2001# AND #4/3/2001# AND more"
Set objRegex = CreateObject("vbscript.regexp")
With objRegex
.Global = True
.Pattern = "#([0-9]{1,2})/([0-9]{1,2})/([0-9]{4})#"
strIn = .Replace(strIn, ("'$3-$2-$1'"))
'.Pattern = "(-)(\d)(?=[^\d])"
'strIn = .Replace(strIn, "$10$2")
.Pattern = "-(\d)(?=[^\d])"
strIn = .Replace(strIn, "-0$1")
MsgBox strIn
End With
End Sub 
```

brettdj 和我都希望看到这个问题的单通道解决方案。我敢打赌我们可以用好的 ol' perl 做到这一点！

我最初问题的第二部分是我应该注册哪个版本的 VBScript RegEx 库（1.0 或 5.5），以便生成运行时应用程序。我扣动扳机，只选择了 5.5。版本（自 1999 年以来真的存在吗？）。应用程序编译成功。如果它不作为独立运行，我会告诉你。

# c# - 上传图片和调整大小问题

> ID：12721432
> 
> 赞同：0
> 
> 时间：2012-10-04T06:23:53.743
> 
> 标签：c#, asp.net

我想上传一张图片并在保持其纵横比的同时调整其大小，然后将其保存到服务器。我希望它使图像的宽度为 200 像素。这样图像将从左到右填充图片框。我不确定如何做到这一点。现在我正在使用 FileUpload 控件。图像被上传到流中，经过转换，我希望它保存到文件系统中。我知道我在这里做错了什么。

```
string type = FileUpload1.PostedFile.ContentType;

byte[] snap = new byte[FileUpload1.PostedFile.ContentLength];

System.IO.Stream stream = FileUpload1.FileContent;

System.Drawing.Image imageLarge = System.Drawing.Image.FromStream(stream);
System.Drawing.Image imageLarge1 = ResizeImage(imageLarge, 200, 300);
MemoryStream memolarge = new MemoryStream();
imageLarge1.Save(memolarge, System.Drawing.Imaging.ImageFormat.Jpeg);
System.Drawing.Image returnImage = System.Drawing.Image.FromStream(memolarge); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:38:20.540

您使用的鳕鱼是正确的。但是，它不考虑纵横比。

要计算宽高比，你需要做的是，计算图片的实际宽度和高度，并计算上传图片的比例。

获得该比率后，您需要应用该比率来调整图像大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T08:43:27.413

您需要通过保持纵横比来设置正确的高度。

```
int newHeight = ActualImgHeight*200/ActualImgWidth;
Bitmap bmp = new Bitmap(200, newHeight);
Graphics g = Graphics.FromImage((Image)bmp);
g.InterpolationMode = InterpolationMode.HighQualityBilinear;
g.CompositingQuality = CompositingQuality.HighQuality;
g.SmoothingMode = SmoothingMode.HighQuality;
g.DrawImage(imgToResize, 0, 0, 200, newHeight);
g.Dispose();
bmp.Save(path,System.Drawing.Imaging.ImageFormat.Jpeg); 
```

希望这可以帮助。

# actionscript-3 - AS3 - 将表达式转换为字符串

> ID：12721433
> 
> 赞同：0
> 
> 时间：2012-10-04T06:23:56.840
> 
> 标签：actionscript-3, flash, profiling, type-conversion

有没有办法将 AS3 中的表达式转换为字符串？

我正在为我的 Flash AS3 文件制作一个非常小规模的分析器来查找瓶颈，这是当前的语法（这很乏味）：

```
PerformanceProfiler.start("updatePlayer");
updatePlayer(map, enemies);
PerformanceProfiler.stop(); 
```

我最终打电话`PerformanceProfiler.show()`来获取`trace`稍后的电话结果。

在内部，`PerformanceProfiler`保留了一个字典，通过函数的名称（例如`"updatePlayer"`）链接到传递给它的总毫秒数列表。该`show`函数仅列出函数名称以及在每个函数上花费的总时间。

对于我的需要，这可以解决问题。

然而，我想要的是避免整个`"updatePlayer"`事情，因为它是重复的。事实上，我想完全摆脱`start`and`stop`调用。

我的想法是用某种匿名函数来调用它，类似于（对不起，我不确定该功能的确切语法）：

```
PerformanceProfiler.profile( { updatePlayer(map, enemies); } ); 
```

并且只会以这种方式显示结果：

> { updatePlayer(地图, 敌人); } - 1202
> 
> { updateEnemies(地图, 玩家); } - 5126
> 
> ...

那么，有没有办法将匿名方法的内容作为字符串获取呢？这太棒了。不过，如果您对我的问题有更简单的解决方案，我将不胜感激，因为我们现在无法发现帧速率下降，并且不想浪费时间优化可能只需要 1%的处理时间。

*总之，我想要的是：*

`{ updatePlayer(map, enemies); }``"{ updatePlayer(map, enemies); }"`在 AS3 中转换为。

非常感谢您宝贵的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:49:20.200

我认为没有简单的方法可以做到这一点，并且知道在没有分析器的情况下调用了哪些函数。

但是您可以创建函数来读取 Namespace.Class.Function 名称并使用 'Error' 和 'arguments' 检查参数：

```
public function someFunction (param1:Object , param2:Object ):void {
   Profile(arguments);
   // function body ...
}

////////

public function Profile (args:Object):void {
    trace(new Error().getStackTrace()); // from this string You will read func name
    for each(var o:* in args) {
    trace("param:",o); // here are parameters
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T12:48:21.213

虽然它不能完全回答您的问题，但请查看 flash.sampler 包：[http ://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/sampler/package-detail.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/sampler/package-detail.html)

使用它，您根本不需要调用`PerformanceProfiler`，您只需要解析返回的样本。

如果您想快速了解它，请查看矿工： http: [//www.sociodox.com/theminer/index.html](http://www.sociodox.com/theminer/index.html)

添加到您的项目中非常容易，并且已经拥有所有这些示例/配置文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T09:46:14.810

另一个答案，因为为什么不呢:)

```
package  
{
    import flash.display.Sprite;
    import flash.system.System;
    import flash.utils.describeType;
    import flash.utils.Dictionary;
    import flash.utils.getTimer;

    public class TestDescribeType extends Sprite
    {
        private var m_cache:Dictionary      = null; // a cache that says if we've used this object before
        private var m_functions:Dictionary  = null; // the functions for this object

        public function TestDescribeType() 
        {
            this.m_cache        = new Dictionary;
            this.m_functions    = new Dictionary;

            this.profile( this, this.one );
            this.profile( this, this.two, 4.5 );
            this.profile( this, this.three, 4.5, "hello" );
            this.profile( this, this.four, 4.5, "hello" );
        }

        // profiles how long it takes a function to complete
        public function profile( obj:*, func:Function, ...params ):void
        {
            // if we don't have this object in our cache, parse it
            if ( !( obj in this.m_cache ) )
                this._parse( obj );

            // get our functions dictionary and get our function name
            var dict:Dictionary = this.m_functions[obj];
            var funcName:String = ( dict != null && ( func in dict ) ) ? dict[func] : "Unknown func";

            // start our timer and call our function
            var startTime:int = getTimer();
            func.apply( null, params );
            trace( "  " + funcName + " took " + ( getTimer() - startTime ) + "ms to finish" );
        }

        // some test functions
        public function one():void { trace( "one()" ) }
        public function two( one:Number ):void { trace( "two(" + one + ")" ) }
        public function three( one:Number, two:String ):void { trace( "three(" + one + ", " + two + ")" ) }
        public function four( one:Number, two:String, three:int = 0 ):void { trace( "four(" + one + ", " + two + ", " + three + ")" ) }

        // parses a class/object and removes all the functions from it
        private function _parse( obj:* ):void
        {
            // get our xml
            var x:XML           = describeType( obj );
            this.m_cache[obj]   = true; // we don't need to store the xml, just that we've parsed it

            // find our functions
            var funcs:Dictionary = new Dictionary;
            for each( var mx:XML in x.method )
            {
                var name:String     = mx.@name;
                var func:Function   = obj[name] as Function;

                // store the function with the name etc in our dictionary
                funcs[func] = name;
            }

            // store our functions
            this.m_functions[obj] = funcs;

            // kill our xml object immediately - helps memory
            System.disposeXML( x );
        }

    }

} 
```

运行代码以了解它的作用。基本上，我们`describeType()`在第一次遇到对象时对它执行 a 操作，并取出它的所有功能。然后，该`profile`函数获取我们想要的 - 我们检查缓存以获取正确的名称，然后调用它。

比在对象上抛出错误（初始）更快的优点`describeType()`是有点慢，但它是一次性的，如果你真的想要，你可能会添加一个预处理步骤。

您需要对其进行返工，以便`describeType()`唯一适用于类，而不适用于对象（就好像您有 10 个 Sprite，它将执行 10`describeType()`秒）。如果您这样做，则`m_functions`需要为每个对象设置字典，否则`(func in dict)`如果您明白我的意思，那么除了第一个对象之外的所有对象实例的检查都将失败。

无论如何，你明白了：D

# android - 在屏幕上创建标题（活动）

> ID：12721435
> 
> 赞同：1
> 
> 时间：2012-10-04T06:23:58.223
> 
> 标签：android, header, android-activity, footer

1.  我要做的就是在我的 android 活动（屏幕）中创建一个简单的页眉和页脚。我`RelativeLayout`在我的 UI 中使用过。
2.  而且，如果我想在标题中添加一个弹出菜单，我该怎么做。

请分别回答这两个问题。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:49:25.770

```
For Header You can make an activity_header.xml Class. & it will include in other classes like as-

<include
        android:id="@+id/header"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        layout="@layout/activity_header" />

& for Footer you can use Tab Bar:-
see this:-
http://www.technotalkative.com/android-tab-bar-example-1/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:39:25.173

```
You can use like as:activity_header.xml Or You can use RelativeLayout  for this
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:background="@drawable/header"
    android:orientation="horizontal" >

    <LinearLayout
        android:id="@+id/ll_header"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal|bottom"
        android:layout_marginBottom="2dip"
        android:layout_weight="1"
        android:clickable="true"
        android:gravity="center_vertical|center_horizontal"
        android:orientation="vertical" >

        <ImageView
            android:id="@+id/img_header_icon"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="10dp"
            android:src="@drawable/header_logo" />

    </LinearLayout>

</LinearLayout> 
```

# speech-recognition - 谷歌语音 API

> ID：12721436
> 
> 赞同：25
> 
> 时间：2012-10-04T06:24:05.017
> 
> 标签：speech-recognition

我现在正在处理我的项目，并且即将为台式计算机构建一个类似 Siri 的应用程序。我在想 Google Speech API 对于语音识别是否可靠且准确？你能建议我在语音识别方面哪个语音 API 最准确吗？最好是免费的 API。谢谢你。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-10-04T13:03:32.250

虽然 Google 语音 API 是免费的，但它不是官方的公共 API。有些人对其进行了逆向工程，如[本博客所述](http://mikepultz.com/2011/03/accessing-google-speech-api-chrome-11/)。如果您打算直接访问商业产品的 API，我不推荐它，因为他们可以在没有警告的情况下删除或更改它，从而破坏您的产品。这最近发生在使用[Google Weather API](http://kevin-junghans.blogspot.com/2012/08/google-weather-api-is-dead.html)的开发人员身上。如果您通过 Chrome 浏览器使用[x-webkit-speech访问它](https://stackoverflow.com/questions/4361826/does-chrome-have-built-in-speech-recognition-for-x-webkit-speech-input-element)另一方面，您可能是安全的，因为它受 Google 支持。谷歌的语音识别与许多更流行的商业解决方案一样。他们在其他项目中拥有丰富的经验，例如 Google Voice 和现已解散的 Google 411。他们有一些顶尖的语音科学家为他们工作。我能想到的唯一其他免费替代品是[Sphinx](http://cmusphinx.sourceforge.net/)，它是卡内基梅隆大学的一个开源项目。使用此解决方案的学习曲线陡峭，如果您希望将其设置为服务，则必须自己开发。 [Nuance](http://www.nuance.com/)是语音识别市场的另一个大玩家（我相信这是 Siri 使用的），他们确实有提供语音识别即服务的解决方案。但它们很贵。

***更新语言支持评论的答案***

Windows 语音识别支持其他语言，大多数语音识别系统也是如此。但需要注意的是，您必须告诉系统要使用哪种语言，并且它必须支持相关语言。每个供应商都有一个它支持的语言列表，并且它们特定于一个地区。例如，供应商可能支持墨西哥西班牙语、美国西班牙语和西班牙西班牙语；它们都有略微不同的方言。但是语音识别引擎在每个用户的计时器上只能支持一种语言/方言。如果不首先请求将其更改为该语言，用户就无法对语音识别系统说多种语言。

***2014 年 3 月 17 日更新***

由于其他浏览器缺乏支持，x-webkit-speech 输入字段已被弃用。这将被[Web Speech API](https://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html)取代，这是一个 javascript API。您可以[在此处找到有关如何使用它的示例](http://updates.html5rocks.com/2013/01/Voice-Driven-Web-Apps-Introduction-to-the-Web-Speech-API)。

# facebook - 如何知道哪个 FB 用户、其他 FB 用户加入/使用该应用程序的 FB 应用程序邀请

> ID：12721437
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:24:15.143
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk, facebook-php-sdk

我正在制作一个 FB 应用程序，我想在其中跟踪用户以及他们的应用程序邀请被接受的数量。

假设用户 A 向用户 B 和用户 C 发送了邀请。D 还向用户 B 和用户 C 发送了应用程序邀请。我如何知道 B 和 C 的邀请是谁在使用该应用程序。

我正在使用 FB apprequest 方法邀请朋友。

```
FB.ui({method: 'apprequests',
    message: 'Invited To Badge'
    }, requestCallback); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:28:55.377

> 假设用户 A 向用户 B 和用户 C 发送了邀请。D 还向用户 B 和用户 C 发送了应用程序邀请。我如何知道 B 和 C 的邀请是谁在使用该应用程序。

当用户接受邀请时，您将获得传输到您的应用程序的请求 ID（有关详细信息，请参阅[请求文档](https://developers.facebook.com/docs/requests/)）。*IDs*，复数，因为它不止一个 - 如果用户收到 A 和 D 对同一个应用程序的两个请求，那么您将获得这两个请求的 ID，因为它们都将被视为“已接受”。

这取决于您，如果您想将其计算为用户 A 和用户 D 的接受，或者您说您将只计算发送第一个请求的那个。（请求对象详细信息有一个字段`created_time`。）

# algorithm - 使用散列搜索

> ID：12721443
> 
> 赞同：1
> 
> 时间：2012-10-04T06:24:40.523
> 
> 标签：algorithm, hash

假设我们有一个包含 10 个桶的哈希表，并且最初使用使用线性探测的哈希函数输入符号 S1 到 S7。搜索不存在的项目所需的最大比较次数是多少？哈希图可以解释为：

`Index` `KEY`

*   0 - - S7

*   1 - - S1

*   2 - - 空

*   3 - - S4

*   4 - - S2

*   5 - - 空

*   6 - - S5

*   7 - - 空

*   8 - - S6

*   9 - - S3

假设我想找到一个元素 S8（显然不存在）..在计算 S8 的哈希函数时假设它跳转到索引 8。在索引 8 处找不到元素，通过线性探测它检查下一个索引等等.. `Now, the number of comparisons should come out to be total length of the array because by linear probing it should try to look in every index`...但实际答案是 5！:| 请任何人解释！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T06:26:07.353

线性探测将寻找一个元素，直到它碰到一个*空*的哈希桶。在这种情况下，它将检查 8、9、0、1 和 2；在 2 它将停止，因为桶是空的。

请注意，删除是通过用特殊的“墓碑”值替换存储桶来处理的，该值将元素标记为已删除，但避免破坏线性探测链。因此，在元素为空的情况下，线性探头仍然可以正常工作。

# java - 无法将 java 项目转换为动态项目，Project Facets 按钮在哪里？

> ID：12721444
> 
> 赞同：0
> 
> 时间：2012-10-04T06:24:51.843
> 
> 标签：java, eclipse, tomcat

我正在使用 Eclipse Juno，Tomcat 7。我无法将我的项目添加到服务器，它总是说：没有可以从服务器添加或删除的资源。我尝试通过更改 .project 文件来解决它，按照这里的说明[http://greatwebguy.com/programming/eclipse/converting-a-java-project-to-a-dynamic-web-project-in-eclipse/](http://greatwebguy.com/programming/eclipse/converting-a-java-project-to-a-dynamic-web-project-in-eclipse/)

但是，当显示项目属性对话框时，没有显示项目构面按钮，请参阅随附的屏幕截图。![在此处输入图像描述](../Images/cb5e6943d3f5b9f1af3a3b51c0065453.png)我错过了什么？谢谢

[PS：我知道有人问过这个问题，但是按照将 Java 项目转换为动态 Web 项目](https://stackoverflow.com/questions/838707/converting-a-java-project-to-a-dynamic-web-project)中列出的步骤并没有解决我的问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:31:44.110

Eclipse 不会将您`test-app`视为一个项目。到目前为止，它只是一个文件夹`Tomcat v7.0 Server`。

最初是在 Eclipse 中创建项目的吗？然后，您可以通过导入它再次使其成为一个项目（在 Eclipse 意义上）：*File -> Import -> (General) -> Existing project into Workspace*。然后选择包含该`.project`文件的根文件夹。

否则，您必须创建一个新的 Java 项目并添加现有的源文件和配置文件。

无论哪种情况，当您在工作区中有项目时，您可以选择它，选择*项目 -> 属性*，然后您可以编辑它的方面。

# bash - 使用数字键盘时退出 Shell 对话框

> ID：12721445
> 
> 赞同：1
> 
> 时间：2012-10-04T06:24:53.603
> 
> 标签：bash, dialog, putty

当我创建一个带有输入字段的对话框，然后使用键盘右侧的数字键盘输入一些数字时，它会退出。当我使用键盘顶部的数字时它不会退出...

任何想法如何防止这种情况？这是一个示例对话框

```
dialog --backtitle "Dialog Title" --title "Username required" --inputbox "Please enter a username" 8 60 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:11:02.087

我找到了解决方案。这是一个腻子问题。您需要选中“设置”->“终端”->“功能”中的“禁用应用程序键盘模式”框

![在此处输入图像描述](../Images/a255069f4c9f42e0dd9f1c490024332e.png)

# joomla1.5 - 如何专注于页面上的特定段落？

> ID：12721446
> 
> 赞同：0
> 
> 时间：2012-10-04T06:24:58.120
> 
> 标签：joomla1.5

我在一个 joomla 网站上工作，我有一个问题。

**问题**

我有一个带有一些菜单项的菜单。在菜单产品下说我有菜单项

1.  产品A
2.  产品B
3.  产品C

产品 A 到 C 位于单篇文章中。我想要的是，当我单击菜单项“产品 B”时，它应该重定向到产品 B 集中的产品文章页面。对于其他产品也是如此。

我怎样才能完成这件事？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:31:56.300

我会尝试使用锚。

您可以在 Google 中搜索“HTML 锚点”

或者这里是示例链接：

[http://www.hypergurl.com/anchors.html](http://www.hypergurl.com/anchors.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T19:30:15.993

1.  在文章中创建您的锚点。（即#productA、#productB、#productC）
2.  为该文章创建一个菜单项。（即[http://www.example.com/products](http://www.example.com/products)）
3.  为每篇文章创建一个“外部 URL”菜单项，并包含“产品”页面的 URL 以及该产品的锚点。（即[http://www.example.com/products#productA](http://www.example.com/products#productA)）

# sql - 在执行大型存储过程时在 SQL 中运行查询

> ID：12721447
> 
> 赞同：1
> 
> 时间：2012-10-04T06:24:58.950
> 
> 标签：sql, sql-server, wcf, silverlight, stored-procedures

我有一种情况，我需要运行一个存储过程（> 5 分钟）并希望我的（silverlight）应用程序保持“活动”

我使用异步 WCF 服务来使我的 UI 线程响应，至少在我再次从同一个数据库请求一些数据之前

然后，只有在 SP 完成后，才会执行其他请求

我可以以某种方式（我想在 SQL 中）将存储过程设置为能够与其他查询一起运行吗？

谢谢

**编辑：**

1.  数据库位于 SQL Server 上
2.  `[OperationContract(AsyncPattern = true)]`在服务方法中从 Linq2Sql 模型启动 SP
3.  其他数据由 WCF Ria 服务处理（来自 Linq2SQL 模型的域服务，相同的连接字符串）

**编辑2：**

@dan1111：通过测试，我看到直到 WCF 服务将结果返回给 Silverlight 时，DomainContext '冻结'

最初：

1.  我用 Thread.Sleep(15000) 调用 WCF 异步方法
2.  应用程序继续运行良好
3.  当我转到需要数据的页面时，我请求 DataContext.Load()
4.  DataContext.IsLoading 变为 true
5.  我必须等待剩下的 15 秒
6.  现在为先前的 DataContext.Load 触发了完成的事件

请告诉我你的意见

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:54:00.660

一个非常简单的解决方案是打开多个到数据库的连接。每个连接都可以做自己的事情。

但是，还有另一种方法可以实际设置一个异步运行的过程：

[http://rusanu.com/2009/08/05/asynchronous-procedure-execution/](http://rusanu.com/2009/08/05/asynchronous-procedure-execution/)

# asp.net - 网站工作速度

> ID：12721449
> 
> 赞同：0
> 
> 时间：2012-10-04T06:25:02.427
> 
> 标签：asp.net, web-applications, web, web-testing

有谁知道一个像样的网站分析工具（最好是免费软件）。

我搜索了它，但其中大多数报告了整体网页加载速度。

我需要找到单个组件消耗的速度百分比，例如

```
Javascripts/Jquery (http requests etc.)
Images
Objects Flash/Applets/Silverlight
Rendering time of CSS3 stylesheets 
Server Callbacks 
```

该网站是用asp.net编写的。它使用母版页。它有 ajax、jquery、flash、css3、html5 对象。它使用 Csharp 作为语言。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:54:55.733

尝试

[http://tools.pingdom.com](http://tools.pingdom.com)

这提供了单个文件（html、css、avascript、图像、文本文档和其他文件）的连接、等待和接收时间

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:34:18.620

我更喜欢这个

[http://www.webpagetest.org/](http://www.webpagetest.org/)

因为可以选择测试和浏览器的位置。

还可以选择运行多个测试，识别第一个通常比下一次慢，显示所有时间、屏幕截图、错误等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T15:26:55.637

您可以使用 YSlow 插件（例如[https://addons.mozilla.org/de/firefox/addon/yslow/](https://addons.mozilla.org/de/firefox/addon/yslow/)），您可以在其中单独查看图像、javascript 等的加载时间。

同样在 Firebug 浏览器插件中，您可以在网络设置下查看每个内容的加载时间。它是免费提供的。

# android - 在 dialogFragment 中自动启动可绘制动画

> ID：12721450
> 
> 赞同：1
> 
> 时间：2012-10-04T06:25:02.757
> 
> 标签：android, animation

我正在尝试创建一个显示动画“加载轮”的自定义加载对话框，但我似乎无法弄清楚要调用哪个方法来`AnimationDrawable.start()`自动启动`DialogFragment`.

我找到的唯一文档地址在`onWindowFocusChanged()`. 有谁知道调用 a 的适当方法是`DialogFragment`什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T03:10:00.577

弄清楚了。事实证明我一直使用的是正确的。它没有显示的原因是布局中的 ImageView 被 TextView 覆盖。

要在 DialogFragment 中启动动画，请覆盖 DialogFragment 的 onStart() 方法，因为它通常在调用 Activity 的 onStart() 方法时调用。

# iphone - Cocos2d坐标系

> ID：12721458
> 
> 赞同：5
> 
> 时间：2012-10-04T06:25:37.790
> 
> 标签：iphone, ios, cocos2d-iphone, drawing

在 cocos2d 中，坐标系非常简单。左下角是 (0,0)。每当我设置任何东西的位置时都很好。

假设一个图层是 TouchEnabled 的。

当我设置我的精灵的位置时，很好..

```
[crab setPosition:ccp(20, 50)]; 
```

但是如果我得到一个触摸的 x 和 y 坐标（并假设我点击了精灵..）：

```
- (void)ccTouchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    NSLog(@"Touches began!");
    NSArray *touchArray = [touches allObjects];
    UITouch *one = [touchArray objectAtIndex:0];
    pointOne = [one locationInView:[one view]];
    CCLOG(@"points are: %f and %f", pointOne.x, pointOne.y );
} 
```

y 坐标与 cocos2d 坐标系所暗示的相反，因为 y 从上到下增加！

所以我假设视图的坐标系与mac的坐标系不同..这很反直觉..对吗？

谢谢 ！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T11:51:54.790

OpenGL 使用左下角的 (0, 0) 而 iOS 和因此处理触摸的 UIKit 使用左上角 (0, 0)。转换你的观点很容易，你只需要记住去做。

cocos2d 2.0 上的正确方法是

```
CGPoint uiKitPoint = [touch locationInView:touch.view];
CGPoint cocos2dPoint = [[CCDirector sharedDirector] convertToGL:uiKitPoint]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:04:12.207

这个 cocos2d 教程可能会对你有所帮助

[http://www.gamefromscratch.com/post/2012/06/08/Cocos2D-HTML-Tutorial-3All-about-sprites-and-positioning.aspx](http://www.gamefromscratch.com/post/2012/06/08/Cocos2D-HTML-Tutorial-3All-about-sprites-and-positioning.aspx)

但是一般来说cocos2d中的点(0,0)是屏幕的左下角

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:19:48.390

Cocos2D 已经可以为您处理这个问题。CCDirector 对此有一些方法。请看一下这个较旧[的帖子](https://stackoverflow.com/questions/5953772/get-current-touch-location-anytime-in-cocos2d-for-iphone)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T07:22:56.320

通常，对于大多数与图形相关的应用程序，倾向于将 (0, 0) 放置在左下角（Mac 就是这种情况） - 在 iOS 上，它位于左上角我注意到了。

当您使用 Cocos 处理输入时，您可以使用 **convertTouchToNodeSpace**方法快速转换它（至少在 1.x 中 - 我没有足够地使用 2.0 - 但我相信它是从快速文档检查那里获得的**convertToNodeSpace ）。**然后，这将进行必要的转换，为您提供正确的坐标。

（注意：我需要挖掘我的一些其他代码来仔细检查 - 但我不记得这是否也计算了相机偏移量 - 我会在可以得到我的演示代码时进行编辑＆ 确认。）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T07:23:42.623

Touches 来自 UIKit，左上角为 (0,0)，因此您需要在处理此数据之前将其转换为 cocos2d 的坐标系。

有

```
[[CCDirector sharedDirector] convertToGL]; 
```

对于 UIkit -> cocos2d

# jquery - 如何切换（）以div为中心的元素，它总是从左边开始，稍后跳过

> ID：12721459
> 
> 赞同：1
> 
> 时间：2012-10-04T06:25:41.430
> 
> 标签：jquery, html, css

我的 . 有一些问题`.toggle()`，因为我有一个容器，并且里面有一个隐藏的 div。我曾经`.toggle()`显示和隐藏它，但由于某种原因，div 总是开始显示在左角，当它完全显示时，它的位置本身居中

这是一个[jsfiddle](http://jsfiddle.net/q56yM/2/)

**HTML：**

```
<a href="#" id="click_me">click me</a>
<div class="contain">
<div id="drop_down"></div>
</div>​ 
```

**CSS：**

```
#drop_down {
    height: 200px;
    width: 200px;
    background-color: #ccc;
    display: none;
    margin: 0 auto;
}

.contain {
    width: 100%;
    text-align;
} 
```

**JavaScript：**

```
$('#click_me').on('click', function() {
    $('#drop_down').toggle('slow'); 
});​ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:32:34.600

`.toggle("slow")`正在使用 jquery 切换效果，该效果与您的小提琴中的预期完全一样。如果你想使用不同的过渡，你需要看一下 jqueryui 的效果。

这是`.toggle()`使用 jqueryui [http://jqueryui.com/demos/toggle/的演示和不同效果列表](http://jqueryui.com/demos/toggle/)

的核心行为`.toggle()`不允许使用效果参数，只有持续时间、可选的缓动和回调。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:35:18.317

像这样更改html

```
<a href="#" id="click_me">click me</a>
<div class="contain">
   <div class="content"><div id="drop_down"></div></div>
</div>​ 
```

并添加此样式

```
.content{
  margin: 0 auto;width:200px;  
 } 
```

[演示](http://jsfiddle.net/afshinprofe/q56yM/3/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:52:56.207

它的样式边距：0 自动将 div 放置在中心。

# iphone - MFmailcomposer 有时会出错？

> ID：12721462
> 
> 赞同：9
> 
> 时间：2012-10-04T06:25:47.350
> 
> 标签：iphone, ios, ipad

我正在使用 MFMailcomposer 从我在 iPhone 中的应用程序发送邮件。一切正常，但是当我将它移植到 iPhone 5 和 ios6 时

`_serviceViewControllerReady:error: Error Domain=_UIViewServiceInterfaceErrorDomain Code=1 "The operation couldn’t be completed. (_UIViewServiceInterfaceErrorDomain error 1.`但是如果我再次运行就没有问题，它工作正常。

我正在展示这样的邮件作曲家`

```
action
{
Class mailClass = (NSClassFromString(@"MFMailComposeViewController"));
    if (mailClass != nil)
    {
        // We must always check whether the current device is configured for sending emails
        if ([mailClass canSendMail])
        {
            [self displayComposerSheet];
        }
        else
        {
            [self launchMailAppOnDevice];
        }
    }
    else
    {
        [self launchMailAppOnDevice];
    }

}

void)displayComposerSheet 
{

    AppDelegate *appdelegate=[[UIApplication sharedApplication] delegate];
    MFMailComposeViewController *picker = [[MFMailComposeViewController alloc] init];
    picker.mailComposeDelegate = self;  

    [picker setSubject:@"report"];

    // Set up recipients
    NSArray *toRecipients=[NSArray arrayWithObject:@""]; 
    NSArray *ccRecipients =[[NSArray alloc]init];//= [NSArray arrayWithObjects:@"", @"", nil]; 
    NSArray *bccRecipients=[[NSArray alloc]init];// = [NSArray arrayWithObject:@""];    
    [picker setToRecipients:toRecipients];
    [picker setCcRecipients:ccRecipients];  
    [picker setBccRecipients:bccRecipients];    
    [picker setMessageBody:@"Please send me  now." isHTML:YES];

    [appdelegate.navigationController presentModalViewController:picker animated:YES];
    [appdelegate.navigationController.navigationBar setHidden:NO];
    [picker release];
} 
```

`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-14T23:16:15.040

我有同样的问题，它似乎是一个与特定`UIAppearance`自定义相关的错误。当我删除对`UISearchBar`背景图像的自定义时，它完全消失了。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-04T06:46:02.167

您应该使用 : As `presentModalViewController`is deprecated in iOS 6。

```
[appdelegate.navigationController presentViewController:picker animated:YES completion:nil]; 
```

代替

```
[appdelegate.navigationController presentModalViewController:picker animated:YES]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-21T14:01:13.530

我也遇到了同样的问题，但最后解决了。

关闭xcode并重新启动系统，它会工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T11:31:03.610

尝试这个，

```
 [self presentModalViewController:picker animated:YES]; 
```

# animation - 按下主页按钮时如何保持动画运行 - Cocos2d？

> ID：12721465
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:25:58.863
> 
> 标签：animation, background, cocos2d-iphone, home-button

我有一个动画，我想在按下主页按钮时继续运行。

我看到`applicationDidEnterBackground`了`stopAnimation`。

我试过评论它，但动画仍然停止。按下主页按钮后是否可以保持动画运行？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T08:19:06.877

你不能。如果你强制更新 openGL 视图，那么你会崩溃。尝试使用 GLES 示例。

# php - PHP配置文件图像查看代码不起作用

> ID：12721470
> 
> 赞同：0
> 
> 时间：2012-10-04T06:26:32.380
> 
> 标签：php, html, image, user-profile

我有一个需要向用户展示他们自己的个人资料图片的网站。但我无法这样做。我已经构建了代码，但它不起作用。谁能建议我可能是什么原因。显示图像的代码如下：

```
 <p>
    <?php
    //We check if the users ID is defined
    if(isset($_GET['id']))
    {
        $id = intval($_GET['id']);
        $dn = mysql_query('select avatar from users where id="'.$id.'"');

        echo '<img src="'.htmlentities($dnn['avatar']).'" alt="Profile Picture" style="max-width:100px;max-height:100px;" />';
    }
    else
    {
        echo 'This user don't have an avatar.';
    }
    ?></p> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T06:29:09.690

你忘了得到结果：

```
$con = mysql_connect('localhost', 'user', 'pass') or die(mysql_error());
mysql_select_db('databasename', $con) or die(mysql_error());

$dn = mysql_query('select avatar from users where id="'.$id.'"') or die(mysql_error());
$dnn = mysql_fetch_assoc($dn);
echo '<img src="'.htmlentities($dnn['avatar']).'" alt="Profile Picture" style="max-width:100px;max-height:100px;" />'; 
```

您也可以尝试移动代码，`mysql_*`因为这些功能已被弃用，您可以尝试 MySQLi 或 PDO。[这](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)是一个很好的教程，可以帮助您开始使用 PDO。

# regex - 无法理解为什么 jQuery 验证插件的 URL 自定义验证方法不起作用

> ID：12721471
> 
> 赞同：1
> 
> 时间：2012-10-04T06:26:32.803
> 
> 标签：regex, jquery-validate, url-validation

我正在尝试验证 URL。我想让这些 URL 通过验证：

```
 www.site.com

    www.super.co.uk 
```

我正在这个网站上检查我的 RegEx - [http://www.rubular.com/](http://www.rubular.com/)

这是我的正则表达式：

```
 /^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/ 
```

它在 Rubular 站点中工作，但是当我尝试在我的自定义 jQuery 验证插件方法中使用它时 - 它不断告诉我，它是无效的：

```
 jQuery.validator.addMethod("complete_url", function(val, elem) {
// if no url, don't do anything
if (val.length == 0) { return true; }

    return /^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(val);
   });

   ...
   rules: {
         'website[url]': {
            required: true,
            url:  "complete_url",
            remote: {
            url: "http://127.0.0.1:3000/checkurl"
                  //url: "http://91.228.126.168:3000/checkurl"
            }
         }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:35:57.757

`/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test("www.super.co.uk");`在 chrome 的控制台中返回 true，因此它可能与您的插件有关。

# java - java中的uuencode压缩文件

> ID：12721472
> 
> 赞同：1
> 
> 时间：2012-10-04T06:26:38.323
> 
> 标签：java, file-upload, zip, uuencode

我是一个新手用户，试图弄清楚如何使用 uuencode 方法。我们有一个只允许上传单个文本文件的表单。现在看起来只会上传 zip 文件。我正在尝试包含 uuencode 方法来将字节转换为字符串，这样我们就不必修改其余代码来适应二进制文件。

原始代码：

```
public void SettingUpload(File inputfile) { 
    this.inputfile = inputfile;
} 
```

我把它改成

```
public void SettingUpload(File inputfile){
UUEncoder uuec = new UUEncoder();
    try{
        InputStream is = new FileInputStream(inputfile);
        OutputStream os = new FileOutputStream(inputfile);
        uuec.encodeBuffer(is, os);
        this.inputfile = inputfile;
    }catch (Throwable error) {
        reportError(error, "Error converting zipfile");
    }

} 
```

当我测试它时，我得到了一个 java.io.EOFException。我抓住了 uuencoded 文件并手动对其进行了 uudecoded。当我试图解压它时，

```
bash1:~>unzip s6b0c9e663c74f72941bd8271a5fac3b.bin 
 Archive:  s6b0c9e663c74f72941bd8271a5fac3b.bin

 End-of-central-directory signature not found.  Either this file is not
 a zipfile, or it constitutes one disk of a multi-part archive.  In the 
```

编辑：

我将其更改为：

```
 public void SettingUpload(File inputfile){
    UUEncoder uuec = new UUEncoder();
        try{
            InputStream is = new FileInputStream(inputfile);
                   File OutputFile=new File("Output");
                        OutputFile.createNewFile();
            OutputStream os = new FileOutputStream(OutputFile);
            uuec.encodeBuffer(is, os);
            this.OutputFile = OutputFile;
        }catch (Throwable error) {
            reportError(error, "Error converting zipfile");
        }

 } 
```

我收到以下错误：

```
cannot find symbol
symbol  : variable OutputFile 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:32:30.933

正如浩准所说，你不应该这样做：

```
InputStream is = new FileInputStream(inputfile); // Good
OutputStream os = new FileOutputStream(inputfile); // Bad 
```

您应该输出到单独的文件，否则第一次写入时，您将丢弃原始文件。

**更新示例**

这对我来说很好......

```
public static void main(String[] args) {

    File inputfile = new File("file/to/be/encoded");
    File outFile = new File("out.uue");

    UUEncoder uuec = new UUEncoder();
    InputStream is = null;
    OutputStream os = null;
    try {

        is = new FileInputStream(inputfile);
        os = new FileOutputStream(outFile);
        uuec.encodeBuffer(is, os);

    } catch (Exception error) {
        error.printStackTrace();
    } finally {
        try {
            is.close();
        } catch (Exception e) {
        }
        try {
            os.close();
        } catch (Exception e) {
        }
    }

    File newFile = new File("decoded.jpg");
    UUDecoder decoder = new UUDecoder();
    try {

        is = new FileInputStream(outFile);
        os = new FileOutputStream(newFile);
        decoder.decodeBuffer(is, os);

    } catch (Exception e) {
        e.printStackTrace();
    } finally {
        try {
            is.close();
        } catch (Exception e) {
        }
        try {
            os.close();
        } catch (Exception e) {
        }
    }

} 
```

另外，我会从您的编码方法返回输出文件

```
public void SettingUpload(File inputfile) throws IOException {
    UUEncoder uuec = new UUEncoder();
    File outFile = File.createTempFile("encoded", "uue");
    InputStream is = null;
    OutputStream os = null;
    try{
        is = new FileInputStream(inputfile);
        os = new FileOutputStream(outFile );
        uuec.encodeBuffer(is, os);
    } finally {
        try {
            is.close();
        } catch (Exception e) {
        }
            try {
        os.close();
        } catch (Exception e) {
        }
    }
    return outFile;
} 
```

你永远不应该压制异常。呼叫者如何知道是否出现问题？

此外，如果您打开一个流，您有责任关闭它，因此请确保您关闭了您的流。

# android - 屏幕闪烁，游戏卡在 AndEngine Android 中

> ID：12721475
> 
> 赞同：1
> 
> 时间：2012-10-04T06:26:40.970
> 
> 标签：android, andengine, game-engine

我正在开发一款几乎已开发的游戏。当我玩游戏有时它运行良好，但有时屏幕开始闪烁并且游戏卡住了。

谁能告诉我这个问题可能是什么，因为在日志中没有错误。

如果有人遇到过这个问题，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:35:46.947

当我遇到平铺地图问题时，我遇到了这个错误。实际上，这取决于我在创建 TiledMap 时的错误以及为它选择了错误的纹理大小。如果您的游戏中有平铺地图，请再次检查您的参数

# javascript - 有没有办法将大图片/照片/图像发布/发送给用户的朋友？

> ID：12721477
> 
> 赞同：1
> 
> 时间：2012-10-04T06:26:54.800
> 
> 标签：javascript, facebook, facebook-graph-api, facebook-javascript-sdk, facebook-opengraph

我的画布应用程序必须向用户的朋友发送吻。条件是：

*   图片必须很大，而不是开放式图表帖子的方形格式
*   必须以某种方式通知用户
*   必须指定指向应用程序画布的链接，以便其他用户可以发送一些吻

到目前为止找到的最佳解决方案是将图片上传给用户的朋友（以便可以以大格式看到图片）并将 URL 写入照片标题中的应用画布。通知用户有人在他的时间线上发布。

在此个人资料中，您有一些示例： http: [//www.facebook.com/tiberius.maximus.37](http://www.facebook.com/tiberius.maximus.37)

我知道

*   打开图形操作允许发布大图片，但前提是它们是用户制作的相机图片。
*   附有链接或图片的简单时间线帖子不符合大图要求

那么，我的问题有什么解决方案吗？

# javascript - Dojo 淡入淡出动画不起作用

> ID：12721479
> 
> 赞同：0
> 
> 时间：2012-10-04T06:27:12.470
> 
> 标签：javascript, dom, dojo

好吧，我今天一直在尝试在这里学习 Dojo，但我似乎无法弄清楚为什么我的元素无法淡化。我在这里所做的是从 json 对象加载一组图像并将它们放入 DOM 中。然后，我想使用数组和 shift 方法一次将它们淡入一个。这是我用 jQuery 编写的一个工作插件，用作 Dojo 的速成课程。奇怪的是我根本无法让淡入淡出动画工作，即使我剥离了数组并尝试定位单个 DOM 元素，但是如果我将[此处](http://dojotoolkit.org/reference-guide/1.8/dojo/_base/fx.html#dojo-base-fx-fadein)的示例之一直接粘贴到我的网页中， 这样可行。

这是代码：

```
define([
    "dojo/query", "dojo/dom-class", "dojo/domReady!", "dojo/request", "dojo/json", "dojo/_base/fx", "dojo/on", "dojo/dom-attr", "dojo/dom-style"
],      
    function(query, domClass, dom, request, fx, on, domAttr){

        var images = new Array(); //The array object created from the XML file
        var cur_first = 0; //Current first image, used as a counter to determine which images should be shown
        var running = true; //Flag to prevent multiple firings or next/prev
        var display_num = 4; //Num of images displayed at a time

        request.get('../../javascript/json/rotator_images.js',{handleAs:'json'}).then(
                function(response){
                    for(i=0; i < response.images.image.length; i++){
                        var src = response.images.image[i].src;
                        var title = response.images.image[i].title;
                        var desc = response.images.image[i].desc;
                        var thumb = response.images.image[i].thumb;
                        images[i]={src: src, title: title, desc: desc, thumb: thumb};
                    }
                    load_images();
                }
            );

        function load_images(){
            for(i=0; i < images.length; i++){
                if(i >= cur_first && i < cur_first+display_num){
                    dojo.create("div", {
                        innerHTML:"<a class='fancybox' rel='group' href='"+images[i].src+"'><img src='"+images[i].thumb+"' /></a>",
                        className:"r_image",
                        style:{opacity:'0'},
                        id:"r_image_"+(i+1)
                    },dojo.byId("images_wrap"));
                }
            }
            display_images();
        }

        function remainder(){
            //Find the remaining images left at the end inside our display_num control so we can determine when to start back at 0 or jump to the end
            var flr = Math.floor(images.length / display_num)
            return images.length - (flr*display_num);
        }       

        query("#arrow_r").on("click", function(){
            if(running == false){
                running = true;
                if(cur_first < images.length - remainder()){
                    cur_first = cur_first+display_num;
                }else{
                    cur_first = 0;
                }
                hide_images();
            }
        })

        query("#arrow_l").on("click", function(){
            if(running == false){
                running = true;
                if(cur_first > 1){
                    cur_first = cur_first-display_num
                    hide_images();
                }else{
                    cur_first = images.length - remainder();
                    hide_images();
                }
            }
        })

        function display_images(){
            var images_arr = [];
            dojo.query(".r_image").forEach(function(node) {
                images_arr.push(node);
            });
            function fadeThemIn(images_arr) {
                if (images_arr.length > 0) {
                    var currentImg = images_arr.shift();
                    var fadeArgs = {
                        node: currentImg,
                        duration: 200,
                    };
                    fx.fadeIn(fadeArgs).play();
                }else{
                    running = false;
                }
            }
            fadeThemIn(images_arr)
        }

    }
); 
```

很抱歉只是将整个代码转储到这里，但我认为它必须与 Dojo 的 AMD 和模块的加载方式有关（此时我觉得很头疼）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:07:50.737

您的 AMD 依赖注入将导致您的`fx`调用失败。

您要求：

```
"dojo/query", "dojo/dom-class", "dojo/domReady!", "dojo/request", "dojo/json", "dojo/_base/fx", "dojo/on", "dojo/dom-attr", "dojo/dom-style" 
```

但将它们映射到：

```
query, domClass, dom, request, fx, on, domAttr 
```

也就是说，您的`query`变量将获得`dojo/query`模块，`domClass`将获得`dojo/dom-class`，`dom`将获得`dojo/domReady!`，`request`将获得`dojo/request`，并且您的`fx`变量将获得`dojo/json`模块，因此`fx.fadeIn`将不起作用。

您需要确保您要求的模块以及您将它们放入的变量一一匹配。你可以要求比你想映射到变量更多的模块，但是任何这样的模块（`dojo/domReady!`是一个很好的例子）都需要放在最后。

所以，对你来说一个好的标题可能是：

```
define([
    // Modules I actually want, and have variables for:
    "dojo/query", "dojo/dom-class", "dojo/request", "dojo/json", "dojo/_base/fx", "dojo/on", "dojo/dom-attr", "dojo/dom-style",

    // Modules I want to be loaded, but don't have variables for:
    "dojo/domReady!"],      
    function(query, domClass, request, JSON, fx, on, domAttr, domStyle) { 
```

我不知道这是否*足以*让您的示例完全工作，但匹配模块绝对是您的直接问题。

# android - 键盘显示时部分布局消失

> ID：12721482
> 
> 赞同：1
> 
> 时间：2012-10-04T06:27:18.253
> 
> 标签：android, android-layout

我有一个布局，其中有部分标题和列表：

```
 <?xml version="1.0" encoding="utf-8"?>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/bisque">
    <LinearLayout 
        xmlns:treeView="http://schemas.android.com/apk/res/com.spot.p2a"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_toLeftOf="@+id/backArrow"
        android:orientation="vertical" 
        android:weightSum="100"
        android:background="@color/antiquewhite">

        <LinearLayout
            android:id="@+id/email_listview_top"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="20"
            android:orientation="vertical"
            android:background="@color/bisque" >

            <TextView
                android:id="@+id/email_listview_header"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/pdf_mail_versand_text"
                android:textColor="@color/black"
                android:layout_marginTop="30dp"
                android:layout_marginLeft="20dp"
                android:textStyle="bold"
                android:textSize="24dp" />

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_marginTop="20dp"
                android:orientation="vertical" 
                android:background="@color/antiquewhiter">
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="5dp"
                android:orientation="vertical" 
                android:background="@color/antiquewhite">
            </LinearLayout>
                <TextView
                    android:id="@+id/headList"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/datenblätter_text"
                    android:textColor="@color/black"
                    android:layout_marginLeft="20dp"
                    android:layout_marginTop="20dp"
                    android:textStyle="bold"
                    android:textSize="14dp" />

            </LinearLayout>

        </LinearLayout>

         <pl.polidea.treeview.TreeViewList 
            android:id="@+id/tree" 
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="80"
            android:background="@color/antiquewhiter" 
            treeView:indicator_gravity="right|center_vertical"
            android:scrollbars="vertical" 
            android:smoothScrollbar="true"/>

    <!--     <ListView  -->
    <!--         android:id="@android:id/list" -->
    <!--         android:layout_width="match_parent" -->
    <!--         android:layout_height="0dp" -->
    <!--         android:layout_weight="80"  -->
    <!--         android:fadingEdge="none" -->
    <!--         android:background="@color/antiquewhiter" -->
    <!--         android:divider="@color/bisque" -->
    <!--         android:dividerHeight="2dp" -->
    <!--         android:visibility="gone" -->
    <!--         > -->
    <!--     </ListView> -->

    </LinearLayout>
    <ImageView
        android:id="@+id/backArrow"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:visibility="gone"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:src="@drawable/back_android" />
</RelativeLayout> 
```

当我在手机上显示键盘时：

```
<LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:layout_marginTop="20dp"
                    android:orientation="vertical" 
                    android:background="@color/antiquewhiter">
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="5dp"
                    android:orientation="vertical" 
                    android:background="@color/antiquewhite">
                </LinearLayout>
                    <TextView
                        android:id="@+id/headList"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="@string/datenblätter_text"
                        android:textColor="@color/black"
                        android:layout_marginLeft="20dp"
                        android:layout_marginTop="20dp"
                        android:textStyle="bold"
                        android:textSize="14dp" />

                </LinearLayout>

            </LinearLayout> 
```

消失。我不知道为什么。当我隐藏键盘时，这部分再次显示。如果有人有这个问题，请解释为什么当键盘显示在屏幕上时某些部分会被隐藏？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T07:10:31.007

在“AndroidManifest”文件中的活动中尝试此操作。

```
<activity android:windowSoftInputMode="adjustResize|adjustPan"> 
```

更多请看：-

[https://developer.android.com/guide/topics/manifest/activity-element.html#wsoft](https://developer.android.com/guide/topics/manifest/activity-element.html#wsoft)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:35:12.267

了解[Android windowSoftInputMode](http://www.vogella.com/blog/2010/10/25/android-windowsoftinputmode/)

因此，您可以在“AndroidManifest”中的以下语句中将模式更改为“resize”。

```
<activity android:name=".YourActivity"
            android:windowSoftInputMode="adjustResize"> 
```

# android - 如何创建特定于设备的布局？

> ID：12721483
> 
> 赞同：0
> 
> 时间：2012-10-04T06:27:22.840
> 
> 标签：android, android-layout

我有一个 android 应用程序。我为平板电脑 600x1024dp 和 720x1280dp创建了**layout-sw600dp**和**layout-sw720dp布局文件夹以及其他手机的****布局**文件夹。我使用 samsung galexy 选项卡和大小为 720x1280 的模拟器进行了测试。但它总是需要布局文件夹中的布局。为什么即使这些布局是特定于设备的也会发生这种情况？

如何创建特定于平板电脑的布局。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-17T11:13:28.780

当我们使用 setContentView () 加载活动布局时，我们可以检查 BUILD 模型，并在此基础上给一个布局..

例如：

该代码看起来与此类似。

if(android.os.Build.MODEL.equals("XXX"))

设置内容视图（R.layout.x）；

别的

设置内容视图（R.layout.y）；

如果您需要任何帮助，请告诉我。

# python - 在 scikit-learn 中组合特征提取类

> ID：12721486
> 
> 赞同：16
> 
> 时间：2012-10-04T06:27:33.847
> 
> 标签：python, machine-learning, scikit-learn, feature-extraction

我正在使用`sklearn.pipeline.Pipeline`链接特征提取器和分类器。有没有办法并行组合多个特征选择类（例如来自 的那些`sklearn.feature_selection.text`）并加入它们的输出？

我的代码现在如下所示：

```
pipeline = Pipeline([
    ('vect', CountVectorizer()),
    ('tfidf', TfidfTransformer()),
    ('clf', SGDClassifier())]) 
```

结果如下：

```
vect -> tfidf -> clf 
```

我希望能够指定如下所示的管道：

```
vect1 -> tfidf1 \
                 -> clf
vect2 -> tfidf2 / 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-04T09:36:26.597

这最近在 scikit-learn 的 master 分支中实现，名称为`FeatureUnion`：

[http://scikit-learn.org/dev/modules/pipeline.html#feature-union](http://scikit-learn.org/dev/modules/pipeline.html#feature-union)

# ruby-on-rails-3 - 从父 mongoid 中删除嵌入的成员

> ID：12721493
> 
> 赞同：0
> 
> 时间：2012-10-04T06:28:04.233
> 
> 标签：ruby-on-rails-3, mongodb, mongoid, embed, nested-attributes

我有以下型号：

```
class User
  include Mongoid::Document
  embeds_many :user_missions
  attr_accessible :user_missions_attributes
  accepts_nested_attributes_for :user_missions, :allow_destroy => true
end

class UserMission
  include Mongoid::Document

  embedded_in :user, :inverse_of => :user_missions

  belongs_to :mission, :inverse_of => nil
  validates_presence_of :mission, :inverse_of => nil

  attr_accessible :mission_title

  def mission_title
    mission.try(:title)
  end

  def mission_title=(title)
    self.mission = Mission.find_or_create_by(:title => title) if title.present?
  end
end

class Mission
  include Mongoid::Document

  attr_accessible :title
  field :title, type: String
  validates_presence_of :title
end 
```

问题是我在删除用户的 user_mission 时遇到问题。

我认为我失败了（基本上是从[railscasts 逐字逐句](http://railscasts.com/episodes/196-nested-model-form-revised?view=asciicast)）：

```
jQuery ->
  $('form').on 'click', '.remove_fields', (event) ->
    $(this).prev('input[type=hidden]').val('1')
    $(this).closest('fieldset').hide()
    event.preventDefault()

<fieldset>
  <%= f.object.mission.title %>
  <%= f.hidden_field :_destroy %>
  <%= link_to "remove", '#', class: "remove_fields" %>
</fieldset> 
```

我似乎在以下规范中有问题

```
it "should delete using nested attributes" do
  user = User.create(:username => "username", :email => "user@example.com", :password => "password", :password_confirmation => "password")
  user.attributes = { 
    user_missions_attributes: { 
      "0" => { mission_title: "Mission A" } } }
  user.save!
  saved_user = User.first
  saved_user.user_missions.size.should == 1

  saved_user.attributes = { 
    user_missions_attributes: { 
      "0" => { :_destroy => '1' } } }
  saved_user.save!
  emptiedUser = User.first
  debugger

  emptiedUser.user_missions.size.should == 0
end 
```

它在找到 1 个 UserMission 的最后一行失败。

我正在使用 Mongoid 3.0.6 和 Rails 3.2.8。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:41:21.157

您需要包括`id`或`_id`销毁时。“0”只有一个键`user_missions_attributes`。在“0”键的散列中，您需要实际要删除的文档的 ID。所以像：

```
"0" => { :_id => ..., :_destroy => '1' } 
```

# css - Asp.net Mvc 中的 Css 图像路径

> ID：12721498
> 
> 赞同：0
> 
> 时间：2012-10-04T06:28:42.383
> 
> 标签：css, asp.net-mvc

在我的 cshtml 视图中，我有一个 div

id="顶部导航"

css 类在 css 中定义如下

```
div#top-navigation 
{
background:url('/Content/Images/bg-top-nav.jpg') 0 0 repeat-x;
height:37px;
border:1px solid #7bcdeb;
border-bottom:1px solid #7ad5f5;
} 
```

我的目标是给出如下

```
background:url('mysite.com/Content/Images/bg-top-nav.jpg') 
```

但问题是，我不想硬编码 mysite.com 域名。

有什么解决办法？我是否可以在 css 中访问服务器变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:35:45.417

尝试使用 Dot Less CSS

[http://www.dotlesscss.org/](http://www.dotlesscss.org/)

并尝试声明

@domain:'dynamic_domain_name' 在您的 .cshtml 页面中并使用它。这里就像页面中定义的 CSS。

# iphone - 弧形拼图背后的概念

> ID：12721499
> 
> 赞同：1
> 
> 时间：2012-10-04T06:28:44.847
> 
> 标签：iphone, xcode4, core-animation, core-graphics

[这里是 Arc 谜题的视频链接](http://www.youtube.com/watch?feature=player_embedded&v=GYE7tgD5AVs)

谁能告诉我这个游戏背后使用了什么概念。我刚开始学习iphone，这个游戏很酷。首先我认为它可能使用了核心动画和核心图形。但是看到物体的运动，它看起来要复杂得多。谁能告诉我需要什么样的方法来构建这样的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T03:33:07.043

那很可能是核心动画。您可以使用 CAShapeLayer 对象完成所有工作。如果弧拼图的每个“轨道/扇区”都是单独的形状层，则代码可能会最简单。

使用形状图层，如果更改定义形状的路径，只要旧路径和新路径具有相同数量和类型的控制点，就可以进行动画更改。因此，您可以为旋转其中一个轨道设置动画（围绕轨道中所有轨道/扇区形状的中心点进行旋转变换）或动画滑入或滑出轨道/扇区。

# templates - Freemarker 中的切换案例：TemplateException

> ID：12721500
> 
> 赞同：1
> 
> 时间：2012-10-04T06:28:44.533
> 
> 标签：templates, exception, freemarker

这是我的`testMacro.txt`

```
<#macro myMacro value1 value2>
<#list 1..value1 as x>
 <#if x=value1>
      <#switch value2>
           <#case value2 = 1>
                CASE1    
           <#break>
           <#case value2 =2 >
                CASE2   
           <#break>
           <#case value2 = 3>
                CASE3    
           <#break>
      </#switch>
 <#else>
             ELSE
 </#if>
</#list> 
```

```
<@myMacro value1=3 value2=1 /> 
```

这是我得到的例外。

`Exception in thread "main" java.lang.RuntimeException: freemarker.template.TemplateException: The only legal comparisons are between two numbers, two strings, or two dates. Left hand operand is a freemarker.template.SimpleNumber Right hand operand is a freemarker.template.TemplateBooleanModel$2`

现在这是在 switch case 语句中，虽然异常中没有给出行号，但是我注释了 switch 语句并且没有异常，因此我的结论是它的 case 语句有问题。

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:30:06.063

由于历史原因`=`，它是 的别名`==`，除非在需要分配的地方。So `'<#case value2 = 1>'`is `'<#case value2 == 1>'`，因此它最终是`'<#case true>'`or `'<#case false>'`，因此是错误消息。所以正如你所想的，它应该是`'<#case 1>'`这样的，就像在 C-ish 语言中一样。截至手册中的最后一个示例，该示例是错误的...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:35:18.443

事实证明，如果我执行以下操作

```
 <#case 1>
            CASE1    
       <#break>
       <#case 2 >
            CASE2   
       <#break>
       <#case 3>
            CASE3    
       <#break> 
```

那么它似乎确实有效。虽然我不明白为什么它不能与表达式一起使用，因为我是从[Freemarker 手册中看到的](http://freemarker.org/docs/ref_directive_switch.html)

# xamarin.ios - 在 XCode IB 中编辑后 Monotouch 不生成 .cs 和 .h 文件

> ID：12721501
> 
> 赞同：0
> 
> 时间：2012-10-04T06:28:55.843
> 
> 标签：xamarin.ios, storyboard, monodevelop, xamarin

我不确定我是否遗漏了某些东西，或者我的安装被破坏了，或者这是一个错误。

问题：遵循故事板教程：

[http://docs.xamarin.com/ios/tutorials/Introduction_to_Storyboards](http://docs.xamarin.com/ios/tutorials/Introduction_to_Storyboards)

不起作用。我应该关闭 IB 并在 MonoDevelop 中查看生成的 .cs 文件的部分不会发生。

我做了几种不同的方法，根据一个来源的建议重新启动计算机，尝试关闭，根据其他建议按每个顺序退出所有内容。

不起作用的是在 IB 中添加一个新的视图控制器并关闭故事板应该会导致生成新的 .cs 和 .h 文件，但它们不是

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T16:12:40.530

我想我错过了为视图控制器分配自定义类名称的细节。

确保在 IB 中选择视图控制器（不是内部的某些视图）并将自定义类（不是标签）设置为您想要的名称。保存并关闭 IB，MonoTouch 现在应该生成 .cs 文件

# java - 使 JAXB XJC 为简单类型生成包装类

> ID：12721508
> 
> 赞同：9
> 
> 时间：2012-10-04T06:29:40.047
> 
> 标签：java, jaxb, xjc

我有以下 xml 类型：

```
<xsd:element name="FaxNumbers" minOccurs="0">
    <xsd:complexType>
        <xsd:sequence>
            <xsd:element name="FaxNumber" type="FaxNumber" maxOccurs="unbounded" />
        </xsd:sequence>
    </xsd:complexType>
</xsd:element> 
```

FaxNumber 类型如下所示：

```
<xsd:simpleType name="FaxNumber">
    <xsd:restriction base="xsd:string">
        <xsd:minLength value="1" />
    </xsd:restriction>
</xsd:simpleType> 
```

生成的 xml 应该是这样的：

```
<FaxNumbers>
    <FaxNumber>3878374</FaxNumber>
    <FaxNumber>387833434</FaxNumber>
    <FaxNumber>3878334</FaxNumber>
</FaxNumbers> 
```

当运行 JAXB XJC 从 XSD 生成 java 类时，它会生成以下类：

```
@XmlType(name = "FaxNumbers")
public class FaxNumbers  {

    /**
     * No comment.
     */
    @XmlElement(name = "FaxNumber", required = true)
    protected List<String> faxNumber = new ArrayList<String>();

} 
```

但是我想像这样将**FaxNumber**绑定到复合类：

```
@XmlType(name = "FaxNumbers")
public class FaxNumbers  {

    /**
     * No comment.
     */
    @XmlElement(name = "FaxNumber", required = true)
    protected List<FaxNumber> faxNumber = new ArrayList<String>();

}

Where FaxNumber class looks like this:

public class FaxNumber{

    @XmlValue
    private String value;
} 
```

有没有办法在 JAXB 绑定 xml 中定义这种绑定？

注意：不幸的是，我无法控制也无法更改 XSD

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T08:28:44.780

我不认为您可以让 xjc 为您生成这样的 FaxNumber 类，但是您可以自己编写它，然后使用外部绑定文件将其插入正确的位置。

```
package com.example;
public class FaxNumber {
  private String value;
  // getter/setter

  public static FaxNumber parse(String s) {
    FaxNumber n = new FaxNumber();
    n.value = s;
    return n;
  }

  public static String print(FaxNumber n) {
    return n.value;
  }
} 
```

绑定：

```
<jaxb:bindings xmlns:jaxb="http://java.sun.com/xml/ns/jaxb"
           xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
           jaxb:version="2.0">
  <jaxb:bindings schemaLocation="example.xsd">
    <jaxb:bindings node="//xsd:simpleType[@name='FaxNumber']">
      <jaxb:javaType name="com.example.FaxNumber"
          parseMethod="com.example.FaxNumber.parse"
          printMethod="com.example.FaxNumber.print"/>
    </jaxb:bindings>
  </jaxb:bindings>
<jaxb:bindings> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:41:08.903

而不是`<xsd:element name="FaxNumber" type="FaxNumber" maxOccurs="unbounded" />`在您的 FaxNumbers xsd 定义中使用`<xsd:element name="FaxNumber" ref="FaxNumber" maxOccurs="unbounded" />`. 我认为这是你的问题

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:46:56.990

以下对我有用。希望有帮助！

**XSD**：

```
 <xsd:schema xmlns="http://www.hcentive.com/ws/eligibility/schema/beans"
    targetNamespace="http://www.hcentive.com/ws/eligibility/schema/beans"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<xsd:element name="FaxNumbers">
    <xsd:complexType>
        <xsd:sequence>
            <xsd:element name="FaxNumber" type="FaxNumber" maxOccurs="unbounded" />
        </xsd:sequence>
    </xsd:complexType>
</xsd:element>
<xsd:complexType name="FaxNumber">
    <xsd:sequence>
        <xsd:element type="xsd:string" name="value" />
    </xsd:sequence>
</xsd:complexType>
</xsd:schema> 
```

**生成对象：FaxNumbers.java**

```
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
    "faxNumber"
})
@XmlRootElement(name = "FaxNumbers")
public class FaxNumbers {

    @XmlElement(name = "FaxNumber", required = true)
    protected List<FaxNumber> faxNumber;

    /**
     * Gets the value of the faxNumber property.
     * 
     * <p>
     * This accessor method returns a reference to the live list,
     * not a snapshot. Therefore any modification you make to the
     * returned list will be present inside the JAXB object.
     * This is why there is not a <CODE>set</CODE> method for the faxNumber property.
     * 
     * <p>
     * For example, to add a new item, do as follows:
     * <pre>
     *    getFaxNumber().add(newItem);
     * </pre>
     * 
     * 
     * <p>
     * Objects of the following type(s) are allowed in the list
     * {@link FaxNumber }
     * 
     * 
     */
    public List<FaxNumber> getFaxNumber() {
        if (faxNumber == null) {
            faxNumber = new ArrayList<FaxNumber>();
        }
        return this.faxNumber;
    }

} 
```

# asp.net - 深入了解 ASP.NET Web API 身份验证

> ID：12721509
> 
> 赞同：1
> 
> 时间：2012-10-04T06:29:45.957
> 
> 标签：asp.net, asp.net-web-api, .net-4.5

我一直在使用 VS 2012 / MVC 4 / .NET 4.5 附带的（相对）新的 Web API，并有一个自定义消息处理程序来处理启动和运行的身份验证。我还设法将它连接到一个很棒的旧 .NET 2.0 Membership Provider。

我现在通过在 HTTP 请求标头中使用令牌来解决“对每个 HTTP 请求进行身份验证”问题，我很乐意这样做。

现在，对于移动应用程序，当用户打开应用程序时，我第一次显示登录屏幕，除非出于任何原因我收到“未授权”消息，否则不会再次显示它。但是对于我基于 Web 浏览器的项目，我登录一次，浏览器（只要它保持打开状态）将保持身份验证。

使用这种身份验证强制超时的最佳方法是什么？如果有人这样做，我宁愿根据不活动注销。这让我有点难过，所以任何指导表示赞赏:-)

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T16:17:49.050

您需要考虑两个空闲超时。

1.  服务器端空闲超时，过期到您提到的令牌
2.  客户端（移动应用程序）空闲超时，指示用户重新输入凭据

**对于 #1**，您必须跟踪哪些令牌处于活动状态，或者它们何时到期等......有多种方法可以做到这一点。我建议您如何实现它取决于您是部署到 IIS 还是 Azure 以及是否要向外扩展。通常，尽管您想要存储此信息的中央位置。数据库有效，但速度相对较慢。会话状态可以在 Azure 中工作，因为会话状态可以通过 App Fabric 跨服务器共享，但在 IIS 中，您必须使用附加组件在服务器之间共享会话状态。如果您在 .NET 中使用 HttpRuntimeCache，同样如此

*还应该注意的是，在服务器端进行此类检查至关重要，以防止有人根据您最终决定实现事物的方式劫持您引用的令牌。*

**对于 #2**，我们在 iOS 应用程序中所做的是跟踪空闲超时。每次用户在应用程序中提供任何类型的输入（例如 BeginTouch 事件）时，我们都会停止空闲计时器并重新启动它。计时器配置为在计时器触发时将用户带到登录屏幕。同样的事情应该在 Android、WP7 等中运行良好。

# perl - 为什么 Perl 中的索引函数在这里表现得很奇怪

> ID：12721511
> 
> 赞同：1
> 
> 时间：2012-10-04T06:29:50.700
> 
> 标签：perl

这是示例代码：

```
my $test = "Mike Xavier Smith/123-45-1111/student";
my $name = substr( $test, 0, index($test, "/") );
my $ssn = substr( $test,index($test,"/"));
my $type = substr( $test,index($test, "/", 2) );
print "$name, $ssn, $type \n";
exit; 
```

输出： Mike Xavier Smith，/123-45-1111/学生，/123-45-1111/学生

这一行 substr( $test,index($test, "/", 2) ); #offset 应该从“/”的第二次出现开始，这意味着它应该打印 /student。
**但是为什么它从第一次出现“/”开始打印？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T06:35:36.943

这根本不是第三个论点[`index`](http://perldoc.perl.org/functions/index.html)。

```
my $test = "Mike Xavier Smith/123-45-1111/student";

my $start = 0;
my $end   = index($test, "/", $start);
my $name  = substr($test, $start, $end);

$start  = $end+1;
$end    = index($test, "/", $start);
my $ssn = substr($test, $start, $end);

$start  = $end+1;
$end    = index($test, "/", $start);
my $type = substr($test, $start, $end);

print "$name, $ssn, $type\n"; 
```

大多数人只会使用`split`.

```
my $test = "Mike Xavier Smith/123-45-1111/student";
my ($name, $ssn, $type) = split(qr{/}, $test);
print "$name, $ssn, $type\n"; 
```

# c - 为什么 open() 创建的文件的权限与触摸不同？

> ID：12721512
> 
> 赞同：2
> 
> 时间：2012-10-04T06:29:52.827
> 
> 标签：c, linux

```
#include<apue.h>
#include<unistd.h>
#include<fcntl.h>
#include<string.h>

int main(int argc , char *argv[])
{
    int fd = open("test.txt",O_WRONLY | O_CREAT | O_TRUNC);
    int pid,status;
    const char *str_for_parent = "str_for_parent\n";
    const char *str_for_child = "str_for_child\n";
    if ((pid = fork()) < 0)
        err_sys("fork error");
    else if (pid == 0)
    {
        write(fd,str_for_child,strlen(str_for_child)+1);
        _exit(0);
    }
    wait(&status);
    write(fd,str_for_parent,strlen(str_for_parent)+1);

    return 0;
} 
```

`test.txt`是由 open() 创建的。但它的权限( )与我系统中由或任何其他软件创建的`---------x`文件() 不同。我的**umask**是`-rw-rw-r--``touch`**`0002`**

 *** * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:37:19.657

`open`实际上需要一个（可选的）第三个参数：

```
int open(const char *pathname, int flags, mode_t mode); 
```

新文件的模式设置为您的（即）的 AND`mode`和倒数。由于您没有通过，它会被初始化为一些垃圾，因此您会得到错误的模式。`umask``mode & ~umask``mode`

通常，如果您要通过`O_CREAT`，则应该通过 a `mode`of `0666`，除非您有特定原因使用其他模式（例如，如果您想确保文件不被其他用户读取，而不管 umask 设置为什么） .

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T06:37:12.073

如果将`O_CREAT`标志提供给`open()`，则还必须提供第三个`mode`参数，该参数与当前 umask 组合以设置创建文件的权限位。

除非您专门创建可执行文件，否则您几乎应该始终使用`0666`此参数：

```
int fd = open("test.txt",O_WRONLY | O_CREAT | O_TRUNC, 0666); 
```

这应该会给您与您看到的相同的结果`touch`。请注意，C 中的前导零表示八进制常数。**

# c# - 在 C# 中使用“#define IDENTIFIER String”作为别名？

> ID：12721514
> 
> 赞同：2
> 
> 时间：2012-10-04T06:30:07.660
> 
> 标签：c#, c-preprocessor

在 C++ 中，可以使用以下表达式：

```
#define IDENTIFIER NAME 
```

例如。`#define MY_NAME "Gideon"`

这在 C# 中是否同样可能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:31:27.950

No.`#define`只能用于定义要测试的标志`#if`（并且只能在文件的开头）。

请改用常量字符串：

```
const string MY_NAME = "Gideon"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:37:53.283

这些是完全不同的事情。在`C++`它基本上用*表达式**替换*字符串 `MY_NAME`*用 分配给它`"Gideon"`。*

 *同样的情况发生在`C#`, 在恒定表达式的情况下，但是`C++`您*可以*定义完整的宏（函数）`MY_NAME`以使它们运行，这是不可能的`C#`

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-10-04T07:43:42.437

我并不是说你应该这样做，或者它会按你期望的那样工作，但是没有什么能阻止你尝试在你的代码上使用 C 预处理器（例如 GNU cpp）。*

# silverlight - 游标复位查询

> ID：12721517
> 
> 赞同：0
> 
> 时间：2012-10-04T06:30:13.987
> 
> 标签：silverlight, silverlight-4.0

我们将 double 类型的属性绑定到 Silverlight 应用程序中的文本框，在运行应用程序更改文本框中的值时，光标移动到第一位，不允许用户输入值。

例如：如果用户尝试输入 99999.9，当我们尝试输入“.”时，在 99999 值之后。，光标转到第一个位置，因此不允许用户输入 99999.9

当我们在文本框绑定属性中添加 UpdateSourceTrigger=PropertyChanged 时，就会出现此问题。当我们删除此属性时，文本框将以正常方式工作。

请帮我解决这个问题。

谢谢

XAML：

```
<TextBox x:Name="txtUtil" IsReadOnly="{Binding IsReadable,Mode=TwoWay}" Text="{Binding Utilization,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnValidationError=True,ValidatesOnExceptions=True}" Width="70" Height="30"/> 
```

C＃

```
public double Utilization { 
  get { return utilization; } 
  set { utilization = value; 
        OnPropertyChanged("Utilization");
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T12:31:36.620

请使用 textchanged 事件并将 selectionstart 属性设置为 textlength

# sharepoint - Sharepoint 列表事件

> ID：12721519
> 
> 赞同：0
> 
> 时间：2012-10-04T06:30:36.050
> 
> 标签：sharepoint, sharepoint-2010, sharepoint-2007, splistitem, splist

更改 SharePoint 列表的当前视图时是否会引发事件。例如，当前视图显示列表中的所有项目，现在用户选择了一个不同的视图，比如我添加的，那么在这种情况下是否会引发任何事件。

任何帮助都会很棒。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:29:16.900

据我所知，没有这样的事件。当您将对列表的更改写入内容数据库时，会触发列表事件 ListUpdating、ListUpdated 等。

以下网页向您展示了如何创建自定义视图以根据当前用户过滤信息：

[http://sharepointchick.com/archive/2009/07/16/creating-a-custom-view-that-filters-on-the-current-user.aspx](http://sharepointchick.com/archive/2009/07/16/creating-a-custom-view-that-filters-on-the-current-user.aspx)

使用自定义 CAML 查询过滤器创建视图可能会解决该问题。

# apache-flex - 从 IconItemRenderer 访问全局变量

> ID：12721520
> 
> 赞同：0
> 
> 时间：2012-10-04T06:30:44.837
> 
> 标签：apache-flex, flash-builder

是否可以在下面定义的 myIconFunction 中使用 app.mxml 中定义的全局变量？

```
<s:List id="list" x="7" y="10" width="463" height="661"
        creationComplete="list_creationCompleteHandler(event)" labelField="name" click="list_clickHandler(event)">
    <s:itemRenderer>
        <fx:Component>
            <s:IconItemRenderer  labelField="name"
                                 iconFunction="myIconFunction"

                                decorator="@Embed(source='assets/images/general/arrow_next.jpg')"
                                 iconWidth="50"
                                 iconHeight="50">
                <fx:Script>
                    <![CDATA[
                        private function myIconFunction(item:Object):String
                        {
                            return "http://localhost/mydatapath/" + item.imagelink;
                           // how to use this.parentApplication.dataPath here
                        }
                    ]]>
                </fx:Script>
            </s:IconItemRenderer>
        </fx:Component>
    </s:itemRenderer>

</s:List> 
```

parentApplication.dataPath 变量存储我的服务器的 IP。由于我在应用程序的多个地方使用了类似的功能，因此当我从 localhost 移动到实际服务器时，它需要我在每个地方更改 IP。使用

```
 this.parentApplication.dataPath + item.imagelink 
```

给出编译时错误。那么是否可以在这样的函数中使用外部/全局变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:47:52.840

我相信您将主应用程序用作模型存储库，我会选择包含在其他地方的模型（可能是单例或注入实例）。无论如何， `FlexGlobals.topLevelApplication`包含对您的主应用程序的引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:35:12.710

我通过公开 myIconFunction 解决了这个问题

```
public function myIconFunction(item:Object):String
                    {
                        return this.parentApplication.dataIP + item.imagelink;
                       // works
                    } 
```

# c++ - 计算类型范围

> ID：12721526
> 
> 赞同：2
> 
> 时间：2012-10-04T06:31:09.703
> 
> 标签：c++, types

假设我有以下

```
class X {
    typedef some_numeric_type my_type;
} 
```

那怎么确定界限`my_type`呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T06:32:36.317

[`std::numeric_limits`](http://en.cppreference.com/w/cpp/types/numeric_limits)从头`<limits>`开始。

```
#include <limits>

std::numeric_limits<my_type>::min()
std::numeric_limits<my_type>::max() 
```

# javascript - 使用 css() 更改背景颜色的 JavaScript 开关

> ID：12721527
> 
> 赞同：1
> 
> 时间：2012-10-04T06:31:14.333
> 
> 标签：javascript, jquery, css, switch-statement, background-color

我有一个非常简单的功能，它应该根据单击的特定链接更改页面背景颜色，但我不知道为什么它不起作用。

这是我到目前为止的演示：http: [//jsfiddle.net/cF74Y/](http://jsfiddle.net/cF74Y/)

看来这一定是一个如此微不足道的错误，但我看不到。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:37:20.037

您将字符串与数字进行比较，更改`switch (currentItem)`为`switch (+currentItem)`将使您的演示工作。

***另外：***您可以将`currentItem`作为参数传递，而不是使用全局变量。

***[这是工作演示。](http://jsfiddle.net/cF74Y/24/)***

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T06:40:04.803

我觉得你把事情复杂化了，你不能这样做吗？

**html:**

```
<ul id="nav">
    <li><a class="color" href="#">red</a></li>
    <li><a class="color" href="#">green</a></li>
    <li><a class="color" href="#">blue</a></li>
    <li><a class="color" href="#">yellow</a></li>
</ul> 
```

**jQuery：**

```
$('a.color').click(function(){
    $('body').css('background-color', $(this).text());
}); 
```

**演示：http:** [//jsfiddle.net/elclanrs/8yev9/](http://jsfiddle.net/elclanrs/8yev9/)

**编辑：**如果您需要通过索引分配颜色使用数组，我认为您不需要那个丑陋的`switch`语句，对我来说似乎毫无用处，所有代码都可以简化为：

```
var colors = ['red', 'blue', 'green', 'yellow'];
$('a.color').click(function(){
    $('body').css('background-color', colors[$(this).parent().index()]);
}); 
```

**演示：http:** [//jsfiddle.net/elclanrs/8yev9/1](http://jsfiddle.net/elclanrs/8yev9/1)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T06:40:34.960

试试这个：

```
var index = parseInt($(this).attr('id'),10); 
```

那么它将起作用。

原因： .attr() 函数的返回类型是一个字符串，它总是使 case 1 为真。只需使用 parseInt 函数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T06:34:47.993

也许您必须在函数调用中提供参数“currentItem”。

```
changeBg(currentItem); // call 
```

您的函数将如下所示：

```
function changeBg(currentItem) {
    var bg = 'null';
    switch (currentItem) {
        case 1 :
            bg = '#6A6A6A';
[..] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T06:40:44.660

这是一个工作副本

[http://jsfiddle.net/cF74Y/34/](http://jsfiddle.net/cF74Y/34/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T06:45:00.310

用于`parseInt`与案例进行比较。与此无法比较。参见小提琴。 [http://jsfiddle.net/cF74Y/43/](http://jsfiddle.net/cF74Y/43/)

# struts2 - 删除struts2中的单引号

> ID：12721528
> 
> 赞同：0
> 
> 时间：2012-10-04T06:31:16.963
> 
> 标签：struts2, string-formatting

我的 JSP 中有以下代码。

```
<td style="text-align:center;"><s:property value="accountCode"/></td> 
```

当我从后端获取值时，我用单引号（例如'1234'）传递它。但是，当我显示它时，我想删除这些引号并只显示数字。（例如。1234）。我该怎么做呢？

我试过`<s:property value="accountCode.replace('\'','')"/> and <s:property value="accountCode.replaceAll('\'','')"/>,`了，但它不起作用！（没有向我展示价值本身！）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T08:19:48.663

如果使用 replaceAll 方法没问题，那么
`<s:property value="accountCode.replaceAll('\\'', '')" />`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:40:30.533

使用`escapeJavaScript`标签的属性：

`<s:property value="accountCode" escapeJavaScript="true"/>`

**编辑**：

用这个：

```
<s:property value="accountCode.replaceAll('\'','')" /> 
```

# java - 将 JOptionPane OptionDialog 的大小设置为适合屏幕

> ID：12721532
> 
> 赞同：2
> 
> 时间：2012-10-04T06:31:55.147
> 
> 标签：java, joptionpane

```
import javax.swing.JOptionPane;

public class trial
{
    private static final String EXIT_ON_CLOSE = null;

    public static void main(String[] args)
    {
        String[] option = {
            "Adlawan", "Angeles", "Arreza", "Benenoso", "Bermas", "Brebante","Cabaylo", "C. Cainglet", "O. Cainglet", 
            "Calunsag", "Cameros", "Casanaan", "Catulong", "Chicote", "Dela Paz", "Ea", "Echavez", "Esquivel", 
            "Fudadera", "Gales", "Gentallan", "Gerodias", "A. Guadalupe", "S. Guadalupe",
            "Hanuyan", "Jamero", "Macana","Mangmang","Moncano", "Ocon", "Ortiz", "Oquendo", "Palma", "Paran",           
            "Simbajon", "Torcido", "C. Ylagan", "E. Ylagan",
        };  

        int choose =  JOptionPane.showOptionDialog(null,
            "                    WHICH EMPLOYEE'S BEGINNING BALANCE WOULD YOU LIKE TO UPDATE?", "Click to Choose Employee",
            JOptionPane.DEFAULT_OPTION, JOptionPane.QUESTION_MESSAGE, null, option, option[37]);

        setDefaultCloseOperation(EXIT_ON_CLOSE);
    }

    private static void setDefaultCloseOperation(String exitOnClose) {
        // TODO Auto-generated method stub
    }
} 
```

这些是我上面的代码，我遇到的问题是我`JOptionPane OptionDialog`超出了我的屏幕。我的问题是，是否可以更改或设置我的指定尺寸`JOptionPane OptionDialog`以使其适合我的屏幕？

我尝试使用`JScrollPane`并将其添加到 a`JPanel`但我无法使其工作。

# gephi - 避免 Gephi 中的标签重叠

> ID：12721535
> 
> 赞同：12
> 
> 时间：2012-10-04T06:32:12.263
> 
> 标签：gephi

我已经下载了 Gephi，目前正在 Windows 中使用它。我已经制作了我的 Facebook 网络图，它有大约 469 个节点，我面临的问题是我看不清标签。它们重叠太多。有什么办法可以防止吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T07:03:40.723

基本上，Gephi 是为了生成清晰的地图而构建的，但是当网络有超过 1000 个笔记时，由于这些标签相互重叠，因此很难阅读。如果你想避免这个问题，那么你必须使用“标签调整”功能，这是一种算法。它通过自动避免标签重叠来帮助您。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T04:18:15.747

您可以在布局中使用“Force Atlas——调整大小”选项

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-20T17:30:22.237

我还喜欢将标签大小设置为按节点一侧缩放。您可以通过单击图形窗口正下方的灰色“A”按钮来设置此选项，然后选择“节点大小”选项。除了标签调整，这是您最好的选择，您还可以使用“Noverlap”插件，这也有助于将它们分散开。

![在此处输入图像描述](../Images/f7d340ed5646d8154b5dd7860dd07d9a.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-06-30T09:24:28.517

“标签调整”对我来说效果不佳（视觉上不吸引人），因为有几个节点位于很远的地方。

我改用“Noverlap”布局，看起来好多了

# ios - 如何下载 pdf 文件，在 iPhone 的 UITableViewCell 中显示当前状态的进度条

> ID：12721538
> 
> 赞同：0
> 
> 时间：2012-10-04T06:32:16.520
> 
> 标签：ios, download

我想使用我的自定义 Web 浏览器从 Internet 下载 pdf 文件，如果所选链接具有 pdf 文件，则它开始下载并显示文件的完整大小以及必须在进度条中显示其下载量。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:29:21.153

你应该试试 AFNetworking

[带有进度回调的文件上传](https://github.com/AFNetworking/AFNetworking#file-upload-with-progress-callback)

# iphone - 从 NSDate 获取时间返回 nil

> ID：12721553
> 
> 赞同：2
> 
> 时间：2012-10-04T06:33:26.780
> 
> 标签：iphone, time, nsdate, nsdateformatter

我正在尝试在图表上显示时间，并且我有一个完整的时间戳，格式为 @"2012-08-28 18:50:24"。当我尝试从该日期获取时间时，它在 NSDate 中返回 nil。

```
 NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@"HH:mm:ss"];
    NSDate *time = [formatter dateFromString:@"2012-08-28 18:50:24"]; 
```

在此代码中，仅当我将 `[formatter setDateFormat:@"HH:mm:ss"];`行 更改`[formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];`为时，它才会开始使用完整的日期和时间。但我只需要时间

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T06:52:39.993

你有字符串。所以您必须先根据您的字符串格式将其转换为日期。之后，您可以将日期转换为任何格式。所以遵循这个。

```
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
NSDate *time = [formatter dateFromString:@"2012-08-28 18:50:24"];
[formatter setDateFormat:@"HH:mm:ss"];
NSString *str = [formatter stringfromdate:time];
NSLog(@"%@",str); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T06:49:24.710

NSDateFormatter 用于根据您的要求格式化您的 NSDate。在这里，您从字符串中获取日期，因此您必须告诉 NSDateFormatter 查找具有该格式的字符串并将其转换为日期

NSDate 包含日期和时间，因此如果您只想显示时间，请使用 dateformatter 从 NSDate 获取时间组件

iOS 在 NSDate 中一起管理时间和日期。实际上它们应该一起工作。

```
 NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];   
   // GET  Proper NSDate 
    NSDate *time = [formatter dateFromString:@"2012-08-28 18:50:24"];        
    //To your requirement
    [formatter setDateFormat:@"HH:mm:ss"];
    NSString *timestr=[formatter stringFromDate:time];
    NSLog(@"%@",timestr); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T06:49:44.647

因为，首先您需要将字符串转换`NSDate`为正确的格式，即

```
[formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
NSDate *aDate = [formatter dateFromString:@"2012-08-28 18:50:24"]; 
```

现在您可以`NSDateFormatter`根据需要重新格式化。现在您可以从

```
[formatter setDateFormat:@"HH:mm:ss"];
NSString *newDate = [dateFormatter stringFromDate:aDate]; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-04T06:49:55.070

如果您需要从字符串生成日期，那么您需要相应地设置日期格式。

首先创建一个 NSDate 对象很重要！只有这样，您才能将时间与整个日期分开。

```
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
NSDate *time = [formatter dateFromString:@"2012-08-28 18:50:24"]; 
```

然后

```
[formatter setDateFormat:@"HH:mm:ss"];
NSString *timeStr = [formatter stringFromDate:time]; 
```

您还可以使用其他字符串连接函数来删除这样的日期模块[。](https://stackoverflow.com/questions/668228/string-replacement-in-objective-c)

但是，如果您首先有一个 NSDate，那么您之前的代码就可以工作。

```
NSDate *date = [NSDate date];
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setDateFormat:@"HH:mm:ss"];
NSString *timeStr = [formatter stringFromDate:date]; 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-04T07:04:31.753

```
NSDateFormatter *timeFormat = [[NSDateFormatter alloc] init];
[timeFormat setDateFormat:@"hh:mm:ss  a"];
NSString *theTime = [timeFormat stringFromDate:[NSDate date]];    
NSLog(@"time, %@",theTime); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-04T06:51:44.740

首先，您已将字符串日期和时间转换为日期格式。

```
YourTimeStr = @"2012-08-28 18:50:24";  

  NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    formatter.dateFormat = @"yyyy-mm-dd HH:mm:ss";
    NSDate *DateAndTime = [formatter dateFromString:LogOutTimeSTR]; 
```

然后

```
NSDateFormatter *dateFormatter1 = [[[NSDateFormatter alloc] init] autorelease];
    [dateFormatter1 setDateFormat:@"HH:mm:ss"];
    [dateFormatter1 setTimeZone:[NSTimeZone timeZoneWithName:@"UTC"]];

    NSString *YourTimeStr =[dateFormatter1 stringFromDate:DateAndTime]; 
```

# java - @embeddable 与 @entity 用于映射集合

> ID：12721556
> 
> 赞同：18
> 
> 时间：2012-10-04T06:33:50.513
> 
> 标签：java, spring, hibernate, jpa, orm

这一定很幼稚，但我对何时使用`@Entity`and有疑问`@Embeddable`。

说我有一个`User`和`Notification`类。

```
 @Entity
 public class User{
     //other properties
     @onetomany
     private List<Notification> notifications;
 }

 @Entity
 public class Notification{
     //properties
 } 
```

我知道将有用于 class`User`和`Notification`的表，以及用于映射的第三个表。如果我这样做呢？

```
 @Entity
 public class User {
     //other properties
     @ElementCollection
     private List<Notification> notifications;
 }

 @Embeddable
 public class Notification{
     //properties
 } 
```

我知道这不会为`Notification`. 但我仍然可以存储我的通知对象。我浏览了[文档](http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/collections.html#example.collection.mapping.annotations)，但有几个疑问：

1.  是否基于我是否希望将 B 类视为单独的表？
2.  创建表和可嵌入对象是否存在性能差异？
3.  除了直接查询表之外，我不能对可以对表执行的可嵌入对象做什么？

**笔记**

对于阅读此问题的任何人，此[问题](https://stackoverflow.com/questions/3418683/jpa-when-to-choose-multivalued-association-vs-element-collection-mapping)也可能对您有所帮助。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T07:31:59.523

1.  是否基于我是否希望将 B 类视为单独的表？

是的，当您使用时，您将该实体`@Embedded`嵌入到类中，这使得它可以在同一个类表中添加嵌入实体的列。`@Embeddable``@Entity``@Entity`

2.  创建表和可嵌入对象是否存在性能差异？

当您使用`@Embedded`, 创建表时，需要一个查询，也需要插入和选择一行。但是，如果您不使用它，则需要多个查询，因此，`@Embedded`我们可以说，使用会产生更高的性能。

3.  除了直接查询表之外，我不能对可以对表执行的可嵌入对象做什么？

可能会移除相应的嵌入实体，但可能会违反完整性约束。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:41:58.770

在 JPA 中，有几种方法可以创建复合键字段。让我们看看使用`@Embeddable annotation`.
让我们从 Entity 类开始。

```
@Entity
@Table
public class TraceRecord {
    @Id
    private TraceRecordPk id;

    @Version
    @Transient
    private int version;

    @Column(columnDefinition = "char")
    private String durationOfCall;

    @Column(columnDefinition = "char")
    private String digitsDialed;

    @Column(columnDefinition = "char")
    private String prefixCalled;

    @Column(columnDefinition = "char")
    private String areaCodeCalled;

    @Column(columnDefinition = "char")
    private String numberCalled;
} 
```

这是一个非常简单的 Entity 类，带有一个 @Id 和 @Version 字段以及一些 @Column 定义。无需过多介绍，您将看到@Version 字段也被注释为@Transient。我这样做只是因为我的表也没有用于跟踪版本的列，但是我的数据库是日志记录的，所以我不太关心版本控制。您还会注意到@Column 字段在 columnDefinition 属性上设置了“char”值。这是因为我的表中的字段被定义为 char 而不是 varchar。如果它们是 varchar，我不需要这样做，因为默认情况下 String 映射到 varchar 字段。

这个`@Id`领域是我现在感兴趣的。它不是标准的 Java 类型，而是我自己定义的类。这是那堂课。

```
@Embeddable
public class TraceRecordPk implements Serializable {

    private static final long serialVersionUID = 1L;

    @Temporal(TemporalType.DATE)
    @Column
    private Date dateOfCall;

    @Column(columnDefinition="char")
    private String timeOfCall;

    @Column(columnDefinition="char")
    private String callingParty;

    /**
     * Constructor that takes values for all 3 members.
     *
     * @param dateOfCall Date the call was made
     * @param timeOfCall Time the call was made
     * @param callingParty Extension from which the call originated
     */
    public TraceRecordPk(Date dateOfCall, String timeOfCall, String callingParty) {
        this.dateOfCall = dateOfCall;
        this.timeOfCall = timeOfCall;
        this.callingParty = callingParty;
    }
} 
```

为了使这个类能够成为实体类上的@Id 字段，它需要像我之前提到的那样使用@Embeddable 进行注释。我为复合键选择的 3 个字段只是普通的 @Column 定义。我没有为每个字段创建 getter/setter，而是简单地实现了一个构造函数，它为所有 3 个字段获取值，使任何实例都不可变。当使用 @Embeddable 注释一个类时，该类将需要实现 Serializable。所以我添加了一个默认的serialVersionUID 来适应。

现在您已经创建了一个用 注释的类`@Embeddable`，您现在可以将它用作 Entity 类中 @Id 字段的类型。简单的东西嗯。

# magento - Varnish Cache 和 Magento：Guru Meditation 和 500 内部服务器错误？

> ID：12721561
> 
> 赞同：0
> 
> 时间：2012-10-04T06:34:18.643
> 
> 标签：magento, varnish

我最近为我的 Magento 商店激活了清漆缓存模块，效果很好，没有问题。现在我复制了这个 Magento 安装的代码和数据库，并将其放在同一服务器上的其他位置以创建测试环境。**通过将system/varnishcache/enabled**设置为 0 并将**system/varnishcache/disable_caching**设置为 1 ，我在该测试环境中停用了 varnish 缓存。

现在的问题是，我总是得到：

*错误 500 内部服务器错误
内部服务器错误
Guru Meditation:
XID: 628339795*

不管我做什么，我清除了缓存，重新加载，尝试了不同的浏览器，激活了清漆缓存模块，没有帮助。有什么想法我还能尝试吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T13:45:36.520

默认情况下，Mageto 会关闭错误输出。如果您的 php 配置为不记录 php 错误，则 Web 服务器将发送 500 错误以防发生任何致命错误。

您可以检查 /var/log/exception.log 和 /var/log/system.log 中的错误或启用 magento 安装中所有错误的输出：

编辑你的 index.php ：

```
error_reporting(E_ALL | E_STRICT);
ini_set('display_errors', 1); 
```

和.htaccess：

```
SetEnv MAGE_IS_DEVELOPER_MODE "true" 
```

# firefox - 创建Firefox插件的最佳方法

> ID：12721563
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:34:28.493
> 
> 标签：firefox, firefox-addon, wiki

创建一个firefox插件需要哪些编程技巧......

我用谷歌搜索并找到了这些链接

[http://roachfiend.com/archives/2004/12/0](http://roachfiend.com/archives/2004/12/0) … [http://lifehacker.com/software/programmi](http://lifehacker.com/software/programmi) … 来源： [http](http://roachfiend.com/archives/2004/12/0) ://roachfiend.com/archives/2004/12/0 … [http ://lifehacker.com/software/programmi](http://lifehacker.com/software/programmi) ...</p>

任何人都请帮助我找出最好的方法......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:24:43.533

XUL 学校：[https ://developer.mozilla.org/en-US/docs/XUL_School](https://developer.mozilla.org/en-US/docs/XUL_School)

# c# - 如何在 Asp.net 中使用 Java 脚本禁用单选按钮列表？

> ID：12721564
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:34:37.393
> 
> 标签：c#, javascript, asp.net

我创建了一个 Web 表单，其中包含某些字段，例如姓名、年龄和两个单选按钮列表（必填和 ID）。我想在一个单选按钮列表“必需”的值上启用禁用某些字段。“必需”单选按钮列表有两个项目，“是”、“否”。如果我选择是，那么某些字段应该启用禁用，反之亦然。

我可以禁用 texboxes，但是我无法禁用单选按钮列表“ID”，该列表必须将其中的项目列为 taxId 和 PAN。我已经使用了以下代码

```
function EnableDisableID() {

        if (document.getElementById("<%=rdID.ClientID %>") != null) {

            var IDList = document.getElementById('<%= rdID.ClientID  %>');

            var isOpenID;

            if (IDList != null) {

                var openSubID = IDList.getElementsByTagName("input");

                for (var i = 0; i < openSubID.length; i++) {

                    if (openSubID[i].checked) {

                        openSubID = openSubID[i].value;
                     }
                }
            }
            if (openSubID == 'true') {                    
                document.getElementById('<%=fbo1RadioButtonList.ClientID %>').disabled = false;
                document.getElementById('<%=txtFbo1TaxId.ClientID %>').disabled = false;

            }
            if (isOpenSubAccount == 'false') {

                alert("Printing..." + isOpenSubAccount);
                document.getElementById('<%=fbo1RadioButtonList.ClientID %>').disabled = true;
                document.getElementById('<%=txtFbo1TaxId.ClientID %>').disabled = true;
            }
        }
    } 
```

我可以禁用 FBO1TaxId，但是，我无法禁用单选按钮列表“fbo1RadioButtonList”。我将如何实现它。我必须单独对待它的价值吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:04:06.653

我得到了答案。我稍微玩了一下我的代码并得出了以下解决方案：

```
function EnableDisableTaxID() {

        if (document.getElementById("<%=rdOpeningSubAccount.ClientID %>") != null) {

            var openSubAccountList = document.getElementById('<%= rdOpeningSubAccount.ClientID  %>');
            var rdFbo1TaxId = document.getElementById('<%=fbo1RadioButtonList.ClientID %>');
            var rdFBO1Items = rdFbo1TaxId.getElementsByTagName('input'); 

            var isOpenSubAccount;

            if (openSubAccountList != null) {

                var openSubAccount = openSubAccountList.getElementsByTagName("input");

                for (var i = 0; i < openSubAccount.length; i++) {

                    if (openSubAccount[i].checked) {

                        isOpenSubAccount = openSubAccount[i].value;                            
                    }
                }
            }               
            if (isOpenSubAccount == 'true') {
                for (var i = 0; i < rdFBO1Items.length; i++) {
                    rdFBO1Items[i].disabled = false; 
                }        
               document.getElementById('<%=txtFbo1TaxId.ClientID %>').disabled = false;

            }
            if (isOpenSubAccount == 'false') {

                for (var i = 0; i < rdFBO1Items.length; i++) {
                    rdFBO1Items[i].disabled = true;
                }                     
                document.getElementById('<%=txtFbo1TaxId.ClientID %>').disabled = true;
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:04:17.097

您将不得不遍历单选按钮并禁用每个单选按钮。如果您的按钮在表单中，并且您有对表单的引用，那么您可以使用按钮的通用名称来获取集合。循环遍历集合并设置每个按钮的`disabled`属性。

如果您可以启用或禁用按钮，则可以使用条件来设置值，例如：

```
var rbuttons = form.radioName;
var disabled = true;   // disables buttons, set to false to enable

for (var i=0, iLen=rbuttons.length; i<iLen; i++) {
  rbuttons[i].disabled = disabled;
} 
```

要启用按钮，请将`disabled`变量设置为 false。

# python - 如何使用python文件处理搜索确切的字符串

> ID：12721582
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:35:58.893
> 
> 标签：python

我有一个文件包含

```
"1111 1111 1111 // google 
1111 1111 1111 // google talk browser 
1111 1111 1111 // google talks 
1111 1111 1111 // google talk" 
```

我只想打印“// google talk”相关行（仅第 4 行）

像这样试过这不起作用......

```
with open('file.txt', 'r') as handle:
    for index, line in enumerate(handle, 1):
        if line.strip() == 'talk':
            print 'Match found on line', index 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:59:51.167

```
with open('file.txt', 'r') as handle:
    for index, line in enumerate(handle, 1):
        if line.rstrip().endswith("// google talk") # or .endswith("talk")
            print 'Match found on line', index 
```

# c++ - 用户定义的文字、下划线和全局名称

> ID：12721584
> 
> 赞同：10
> 
> 时间：2012-10-04T06:36:05.417
> 
> 标签：c++, c++11

在 C++11 中，我们得到用户定义的文字。C++ 标准有这些例子，例如：

```
long double operator "" _w(long double); 
```

它说文字应该以下划线开头：

> **17.6.4.3.5 用户定义的文字后缀**
> 不以下划线开头的文字后缀标识符保留用于将来的标准化。

但是，标准中有另一部分说

> **17.6.4.3.2 全局名称**
> 某些名称集和函数签名始终保留给实现：
> — 每个包含双下划线 _ _ 或以下划线后跟大写字母 (2.12) 的名称都保留给实现任何用途。
> — 每个以下划线开头的名称都保留给实现用作全局名称空间中的名称。

我希望更好地了解 17.6.4.3.2（全局名称）的确切含义/含义以及它与 17.6.4.3.5（用户定义的文字后缀）的关系。具体来说：

*   17.6.4.3.2（全局名称）的第二部分是否需要`_w`在命名空间（即不在全局命名空间）中定义用户定义的文字（如上面的）？如果是这样，我希望标准能够说明这一点。
*   我认为 17.6.4.3.2（全局名称）的第一部分排除了用户定义的文字，如`_W`（后跟大写字母）`__w`和`_w__`（两个连续的下划线）。正确的？

* * *

**编辑：**

作为跟进，标准的一部分说：

> **13.5.8 用户定义的文字**
> [...]
> 2*其 declarator-id 是文字操作符 id 的声明应是命名空间范围函数或函数模板的声明（它可以是友元函数 (11.3)）*，函数模板的显式实例化或特化，或使用声明（7.3.3）。使用 literal-operator-id 声明的函数是文字运算符。使用 literal-operator-id 声明的函数模板是文字运算符模板。

强调我的。当它说“命名空间范围”时，这是否意味着用户定义的文字需要在用户定义的命名空间中声明（即不在全局命名空间中）？

**后期编辑：**

刚开始问这个问题的时候是没有的，现在也有[这个相关的问答，](https://stackoverflow.com/q/13793996/1275653)读者可以在查看下面的答案后额外检查。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T06:47:11.807

名字里有什么？3 基本概念【基本】告诉我们：

> 4 名称是标识符 (2.11)、operator-function-id (13.5)、literal-operator-id (13.5.8)、conversion-function-id (12.3.2) 或 template-id (14.2) 的使用) 表示实体或标签 (6.6.4, 6.1)。

我们与 13.5.8 用户定义的文字 [over.literal] 交叉引用：

> *文字操作符 id*：
> `operator ""`标识符

虽然文字运算符的名称涉及标识符，但该标识符并不表示实体。（或者它是完全表示另一个实体或标签的不同标识符和不同名称。）因此，文字运算符的名称永远不会以下划线开头。

类似的东西`operator""__w` *是*有问题的，但这不是新的：`int i__0;`也是保留的。

# c# - 如何调用多个客户端的异步方法并将结果汇 总到一个任务中？

> ID：12721585
> 
> 赞同：1
> 
> 时间：2012-10-04T06:36:23.543
> 
> 标签：c#, linq, asynchronous, task, .net-4.5

以下代码旨在通过允许您在一组“getter”（数据检索客户端）上通用调用相同的选择器并将所有结果组合在一起来减少冗余代码。最终结果集是可等待的，允许系统在等待所有选择器完成时不会阻塞。

```
public async Task<T> GetBulkAsync<T>(Func<IGetter, Task<T>> selector) where T : IEnumerable<T>
{
    Task<T>[] tasks = new Task<T>[this.getters.Count];
    for (int i = 0; i < this.getters.Count; i++)
    {
        tasks[i] = selector(this.getters[i]);
    }

    T[] results = await Task.WhenAll(tasks);

    return results.SelectMany<T, T>(r => r);
} 
```

但是，我在这里的设计中出现了一个问题。在一种情况下，我只是想使用一个选择器来检索单个`IData`，然后有时选择器将检索一个`IEnumerable<IData>`或者可能是一个`List<IData>`完全不同的东西。

我曾考虑过使用反射来处理具有通用集合的特殊情况，但这很麻烦，并且需要对我想要处理的每种类型的集合进行额外的工作。

我关心`IEnumerable<IData>`（或真正关心`IEnumerable<T>`）的主要原因是因为我想使用 Linq 的 SelectMany 来展平大结果集中的所有结果。如果每个选择器都返回一个`IEnumerable<T>`，则需要将其缩减为一个`IEnumerable<T>`，而不是一个`IEnumerable<IEnumerable<T>>`。

除了编写几个不同的泛型方法，限制集合类型并且不使用反射之外，是否有解决这个问题的好方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T18:41:11.103

不要依赖*一个*类型参数，而是使用两个并在最后提供一个转换/投影函数，如下所示：

```
public async Task<TResult> GetBulkAsync<T, TResult>(
    Func<IGetter, Task<T>> selector,
    Func<IEnumerable<T>, TResult> aggregateSelector) 
        where T : IEnumerable<T>
{
    Task<T>[] tasks = new Task<T>[this.getters.Count];
    for (int i = 0; i < this.getters.Count; i++)
    {
        tasks[i] = selector(this.getters[i]);
    }

    T[] results = await Task.WhenAll(tasks);

    return results.Select<T, TResult>(aggregateSelector);
} 
```

`aggregateSelector`基本上会将每个转换`IEnumerable<T>`为一个新`TResult`实例，您将返回一个`IEnumerable<TResult>`.

但是，我建议不要这样做，因为您依赖组合*在*函数中发生，而实际上并非如此。

相反，我认为您应该返回一系列序列，如下所示：

```
public async Task<IEnumerable<IEnumerable<T>>> GetBulkAsync<T>(
    Func<IGetter, Task<T>> selector) 
        where T : IEnumerable<T>
{
    Task<T>[] tasks = new Task<T>[this.getters.Count];
    for (int i = 0; i < this.getters.Count; i++)
    {
        tasks[i] = selector(this.getters[i]);
    }

    T[] results = await Task.WhenAll(tasks);

    return results.Select(t => t.Result):
} 
```

通过这种方式，您可以以任何方式组合结果，而无需更改此方法。

# python - 当 url 包含非英语语言时如何使用 pycurl？

> ID：12721586
> 
> 赞同：2
> 
> 时间：2012-10-04T06:36:37.567
> 
> 标签：python, pycurl

这是 pycurl 的 sourceforge 页面上的示例。如果网址包含类似中文。我们应该做什么流程？既然pycurl不支持unicode？

```
import pycurl
c = pycurl.Curl()
c.setopt(pycurl.URL, "http://www.python.org/")
c.setopt(pycurl.HTTPHEADER, ["Accept:"])

import StringIO
b = StringIO.StringIO()
c.setopt(pycurl.WRITEFUNCTION, b.write)
c.setopt(pycurl.FOLLOWLOCATION, 1)
c.setopt(pycurl.MAXREDIRS, 5)
c.perform()
print b.getvalue() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T09:13:18.753

这是一个演示三个不同问题的脚本：

*   Python源代码中的非ASCII字符
*   url 中的非 ASCII 字符
*   html 内容中的非 ASCII 字符

```
# -*- coding: utf-8 -*-
import urllib
from StringIO import StringIO
import pycurl

title = u"UNIX时间" # 1
url = "https://zh.wikipedia.org/wiki/" + urllib.quote(title.encode('utf-8')) # 2

c = pycurl.Curl()
c.setopt(pycurl.URL, url)
c.setopt(pycurl.HTTPHEADER, ["Accept:"])

b = StringIO()
c.setopt(pycurl.WRITEFUNCTION, b.write)
c.setopt(pycurl.FOLLOWLOCATION, 1)
c.setopt(pycurl.MAXREDIRS, 5)
c.perform()

data = b.getvalue() # bytes
print len(data), repr(data[:200])

html_page_charset = "utf-8" # 3
html_text = data.decode(html_page_charset)
print html_text[:200] # 4 
```

注意：`utf-8`代码中的所有内容都是完全独立的。

1.  Unicode 文字使用您在文件顶部定义的任何字符编码。确保您的文本编辑器尊重该设置

2.  url 中的路径应在使用`utf-8`百分比编码（urlencoded）之前进行编码

3.  有几种方法可以找出 html 页面字符集。请参阅 [HTML 中的字符编码](https://en.wikipedia.org/wiki/Character_encodings_in_HTML)。[`requests`](http://docs.python-requests.org/en/latest/)@Oz123 提到的一些库会自动执行此操作：

    ```
    # -*- coding: utf-8 -*-
    import requests

    r = requests.get(u"https://zh.wikipedia.org/wiki/UNIX时间")
    print len(r.content), repr(r.content[:200]) # bytes
    print r.encoding
    print r.text[:200] # Unicode 
    ```

4.  [要将 Unicode 打印到控制台](http://wiki.python.org/moin/PrintFails)，您可以使用[`PYTHONIOENCODING`环境变量](http://docs.python.org/using/cmdline.html#envvar-PYTHONIOENCODING)来设置终端理解的字符编码

另请参阅[每个软件开发人员绝对、肯定必须了解 Unicode 和字符集（没有任何借口！）](http://www.joelonsoftware.com/Articles/Unicode.html)和 Python 特定的[实用 Unicode](http://nedbatchelder.com/text/unipain.html)的绝对最低要求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:41:44.660

试试 urllib.quote，它将用转义序列替换非 ASCII 字符：

```
import urllib

url_to_fetch = urllib.quote(unicode_url) 
```

编辑：只应引用路径，您必须使用 urlparse 拆分完整的 URL，引用路径，然后使用 urlunparse 获取要获取的最终 URL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-25T03:29:55.867

只需将您的网址编码为“utf-8”，一切都会好起来的。来自文档：

> 在 Python 3 下， bytes 类型包含任意编码的字节字符串。PycURL 将接受 libcurl 指定“字符串”参数的所有选项的字节值：

```
>>> import pycurl
>>> c = pycurl.Curl()
>>> c.setopt(c.USERAGENT, b'Foo\xa9')
# ok 
```

> str 类型保存 Unicode 数据。PycURL 将接受仅包含 ASCII 代码点的 str 值：

```
>>> c.setopt(c.USERAGENT, 'Foo')
# ok

>>> c.setopt(c.USERAGENT, 'Foo\xa9')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
UnicodeEncodeError: 'ascii' codec can't encode character '\xa9' in position 3: 
ordinal not in range(128)

>>> c.setopt(c.USERAGENT, 'Foo\xa9'.encode('iso-8859-1'))
# ok 
```

[1] [http://pycurl.io/docs/latest/unicode.html](http://pycurl.io/docs/latest/unicode.html)

# android - 在android中将背景图像设置为整个应用程序

> ID：12721592
> 
> 赞同：9
> 
> 时间：2012-10-04T06:37:06.473
> 
> 标签：android, background-image, android-theme

我想在 android 中为我的应用程序设置背景图像。所以我的应用程序已经在我的清单文件中设置了一个主题，如下所示

```
 <application   android:theme="@android:style/Theme.NoTitleBar" /> 
```

现在这是从 android 包的主题中实现的。

现在我想为我的整个应用程序添加背景图像，我该怎么做。

```
<style name="Theme.NoTitleBar.BackgroundImage">
    <item name="android:background">@drawable/bitzer_background</item>
</style> 
```

我也想要 Theme.NoTitleBar。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T11:34:48.770

我改变了下面的风格，通过这样做我覆盖了 Theme.NoTitlteBar

```
<style name="Background" parent="@android:style/Theme.NoTitleBar">
    <item name="android:windowBackground">@android:color/black</item>
    <item name="android:windowNoTitle">true</item>
</style> 
```

现在我的清单文件如下所示：

```
<application  android:theme="@style/Background"/> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-04T06:40:15.240

您必须使用样式来实现此查看此[链接](http://developer.android.com/guide/topics/ui/themes.html#ApplyATheme)

使用您的背景创建一个主题并使用该主题。

# javascript - JavaScript 中未命名的对象字面量

> ID：12721598
> 
> 赞同：1
> 
> 时间：2012-10-04T06:37:36.037
> 
> 标签：javascript

以下代码在 JavaScript 中完全有效：-

> `( { a:10 , b:20 , c:30 } );`

但是我们什么时候需要这样一个我们不能在我们的代码中引用的对象呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T06:42:35.067

您经常使用未命名的文字作为函数调用的参数。一个流行的例子是在元素上调用 jQuery 插件方法，例如：

```
$("div").someMethod({prop:'value',otherProp:'value2'}); 
```

也可以（并且通常是有益的）预先将这些对象分配给变量，然后将其传递进来，如下所示：

```
var options = {prop:'value',otherProp:'value2'};
$("div").someMethod(options); 
```

但有时它只是第一种方式更容易和更清洁。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T06:41:17.753

`( { a:10 , b:20 , c:30 } );`没有用，因为您没有对象的引用。但同样的方式我们可以定义匿名函数`(function(){ })()`；这是非常有用的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:40:02.767

此代码有点“毫无意义”，因为您无法引用它（正如您所说）。

您可以用许多“什么都不做”的语言构建有效的代码。

例如，

```
function foo() {
    var bar = 42;
} 
```

同样，上述函数完全有效，但作用不大。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-04T06:47:20.480

实际上，这可能非常方便。例如，您可以使用该方法完美处理 I18n：

```
({de: {title: 'foo'}, en: {title: 'bar'}})[navigator.language.slice(0,2)] 
```

所以你可能会得到这样的结果：

```
var lang = navigator.language.slice(0,2)
var dict = ({de: {title: 'foo'}, en: {title: 'bar'}})[lang]
console.log(dict.title) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T07:02:51.457

`()`是分组运算符。[[参考](http://ecma-international.org/ecma-262/5.1/#sec-11.1.6)]

此表达式返回评估结果。这可能是类型参考。

```
{a:10, b:20, c:30}['a'];   // invalid
({a:10, b:20, c:30})['a']; // valid. 
Because the object `{a:10, b:20, c:30}` is after being evaluated. 
```

# javascript - 如何获取有关 HTML5 LocalStorage 的系统信息

> ID：12721603
> 
> 赞同：0
> 
> 时间：2012-10-04T06:37:58.413
> 
> 标签：javascript, html, local-storage

是否可以使用 JavaScript 获取有关本地存储的系统信息？

例如，如果浏览器中有 3 个 localstorage DB：

```
mysite.com
yoursite.com
nobodyssite.come 
```

我想获得所有数据库的数量，即 3

也可以获得数据库的系统ID吗？我确信`mysite.com`DB 有一些整数 ID，例如`128475`，我可以用 JavaScript 得到这个吗？

# sprite - 浮动父容器时精灵中断

> ID：12721604
> 
> 赞同：0
> 
> 时间：2012-10-04T06:38:02.217
> 
> 标签：sprite, break, floating

我正在使用精灵来导航这个特定的项目。精灵工作正常，原始列表项向左浮动，以便它们保持有序。但是，我试图将它与页面的右侧对齐，而不是左侧。我试图将无序列表容器浮动到右侧，导航容器，然后是一个 div，它们都破坏了精灵。有谁知道为什么？

[http://lrroberts0122.github.com/DWS/lab4/index.html](http://lrroberts0122.github.com/DWS/lab4/index.html)

[http://lrroberts0122.github.com/DWS/lab4/css/main.css](http://lrroberts0122.github.com/DWS/lab4/css/main.css)

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T00:44:48.493

我最终发现我需要将 h1 元素向左浮动，并为其设置 340 的宽度和 100 的高度以匹配另一半。在那之后，导航很好地浮动。

# css - 子 div 扩展出父 div 问题

> ID：12721605
> 
> 赞同：6
> 
> 时间：2012-10-04T06:38:03.000
> 
> 标签：css, layout, html

我想要这样的东西[，点击这里](https://www.dropbox.com/s/326t3rhmyzm6n7q/layout.png)。

这是我的 HTML 中的一个简单代码：

```
 #mainContent {
        margin:0;
        width:100%;
        height:600px;
        padding: 0 0 30px 0;
    }
    #mainContent #sidebar { /* sidebar inside #mainContent */
        float:left;
        width:220px;
        height:560px;
        margin:10px 10px 40px 10px;
        padding:10px 5px 10px 5px;
        background-color:#CCCCCC;
    }
    #mainContent #featContent {
        height:560px;
        margin:10px 10px 40px 260px;
        padding:10px 5px 10px 5px;
        background-color:#CCCCCC;
        overflow:auto;
    }
```

```
 <div id="mainContent">
    <div id="sidebar"></div>
    <div id="featContent"></div>
</div> 
```

问题是其中一个 div 放置不正确。由于我不明白的原因，#featContent div 正在脱离其父 #mainContent div。[在此处](http://jsfiddle.net/4dBdR/1/)的 jsFiddle 中查看此内容。#featContent 的边距超出 #mainContent 范围。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T06:42:21.197

***[Demo](http://jsfiddle.net/4dBdR/2/)*** 将以下样式添加到`#mainContent`

```
#mainContent {
  overflow:hidden;
} 
```

***[现场演示](http://jsfiddle.net/4dBdR/2/)***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:41:38.707

向父 div 添加填充

```
#mainContent {
    margin:0;
    width:100%;
    height:auto;
    padding:10px 5px 40px 5px; background-color:red
}
#mainContent #sidebar { /* sidebar inside #mainContent */
    float:left;
    width:220px;
    height:560px;
    margin:10px 10px 40px 10px;
    background-color:#CCCCCC;
}
#mainContent #featContent {
    height:560px;  
    margin:10px 10px 40px 260px;
    background-color:#CCCCCC;
    overflow:auto;
}​ 
```

演示 hrer [http://jsfiddle.net/j4C7T/](http://jsfiddle.net/j4C7T/)

# ios - facebook SDK3.1 和 Xcode 4.5 链接器错误

> ID：12721606
> 
> 赞同：1
> 
> 时间：2012-10-04T06:38:03.517
> 
> 标签：ios, xcode, facebook

我以前有一个使用 Facebook SDK 3.0（适用于 iOS 5）的项目。我刚刚将我的 xcode 更新到 4.5 (iOS6) 并且编译器给了我链接器错误。所以我删除了 facebook (3.0) 并添加了 3.1 但仍然不起作用。有人知道如何解决吗？

非常感谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:44:58.633

您可能忘记添加新的框架。尝试阅读本指南： [https ://developers.facebook.com/docs/tutorial/iossdk/upgrading-from-3.0-to-3.1/](https://developers.facebook.com/docs/tutorial/iossdk/upgrading-from-3.0-to-3.1/)

# mongodb - 复制mongodb

> ID：12721608
> 
> 赞同：0
> 
> 时间：2012-10-04T06:38:07.523
> 
> 标签：mongodb

我有一个使用 NodeJS 构建的 Web 服务应用程序。我正在使用 mongodb 作为数据库。整个事情都在网络中的另一个系统（A）中。现在我需要将所有数据复制到我系统（B）中的 mongodb 数据库中。谁能详细告诉我整个过程，就像我应该从哪里执行命令一样。我是初学者，对mongodb知之甚少。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T12:36:48.420

您可以使用该`db.cloneDatabase()`命令（[docs](http://docs.mongodb.org/manual/tutorial/copy-databases-between-instances/#clone-a-database)）。

1.  `mongo`通过运行以下命令从目标服务器上的命令行启动shell：`mongo`
2.  确定要复制的数据库的名称：`use name`
3.  从源服务器复制数据库：`db.cloneDatabase("1.2.3.4")`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T13:04:44.780

使用`mongodump`和`mongorestore`效用。

# asp.net - 不允许的方法。AjaxEnabledSCFService 上的错误

> ID：12721614
> 
> 赞同：0
> 
> 时间：2012-10-04T06:38:36.017
> 
> 标签：asp.net, ajax, wcf, telerik-grid

我的 ASP.Net Web 表单中有一个 RadGrid。现在我想通过 AjaxEnabledWCFService 在客户端绑定它。在完成所有实现之后，似乎正在通过响应检索数据，而不是在网格中显示它，而是显示类似“方法不允许。”的消息。

我无法找到此错误背后的实际原因，以及未填充 dat 的原因是什么。

以下是我的实现细节：- 我已将特定服务添加到脚本管理器，如下所示：-

```
<telerik:RadScriptManager ID="RadScriptManager1" runat="server">
         <Services>
                <asp:ServiceReference Path="~/services/CustomerListService.svc" />
         </Services>
        <Scripts>
            <%--Needed for JavaScript IntelliSense in VS2010--%>
            <%--For VS2008 replace RadScriptManager with ScriptManager--%>
            <asp:ScriptReference Assembly="Telerik.Web.UI" Name="Telerik.Web.UI.Common.Core.js" />
            <asp:ScriptReference Assembly="Telerik.Web.UI" Name="Telerik.Web.UI.Common.jQuery.js" />
            <asp:ScriptReference Assembly="Telerik.Web.UI" Name="Telerik.Web.UI.Common.jQueryInclude.js" />
        </Scripts>
    </telerik:RadScriptManager> 
```

然后将该服务添加到 RadGrid ClientEvents - DataBindings 标记，如下所示：-

```
 <DataBinding SelectMethod="GetCustomers" Location="~/services/CustomerListService.svc" 
                     SortParameterType="Linq" FilterParameterType="Linq">
                </DataBinding> 
```

我有一个名为 orderListService 的服务，其中 DataContract 作为订单，ServiceContract 作为 GetCustomers()，如下代码：-

前任：

[ServiceContract(Namespace = "")] [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)] 公共类 CustomerListService {

```
[OperationContract]
public List<Customer> GetCustomers()
{
    CustomerData CustData = new CustomerData();
    System.Data.DataTable dt = CustData.GetCustomersList(1, 1, "");

    List<Customer> Customerist = new List<Customer>();//Here Customer is DataContract
    foreach (System.Data.DataRow dr in dt.Rows)
    {
        Customer cust = new Customer();
        SetPropertiesFromOrderRow(cust, dr);//set all the property values from DataRow to Order
        CustomerList.Add(cust);
    }

    return CustomerList;
} 
```

}

配置文件中的设置如下：-

```
 <endpointBehaviors>
    <behavior name="ClientSideBindingTest.services.CustomerListServiceAspNetAjaxBehavior">
     <enableWebScript />
    </behavior>
   </endpointBehaviors>

  <services>
   <service name="ClientSideBindingTest.services.CustomerListService">
    <endpoint address="" behaviorConfiguration="ClientSideBindingTest.services.CustomerListServiceAspNetAjaxBehavior"
     binding="webHttpBinding" contract="ClientSideBindingTest.services.CustomerListService" />
   </service>
  </services> 
```

如果有人在这里有任何建议，请告诉我，我还需要知道如何将参数传递给服务方法以根据提供的参数获取值。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:19:25.483

我得到了我的问题的解决方案，详细信息如下所述：-

原因：此“方法不允许”背后的主要原因。在我通过在 web.config 文件中设置配置启用 WCF 的跟踪功能后可能会被捕获。我在这里描述的是它所追踪的内容：-

描述：当我从 DB 向该字段分配值时，我有一个 DateTime 类型字段 NULL 值被避免分配，因此对于未分配默认值“01/01/0001 00:00:000”的字段，将自动分配分配给该领域。但是当这个字段被传递给 json 时，这个日期超出了 json Date 字段的范围，这导致了这里的实际错误，并在那里引发了异常和服务中断。

解决方案：解决方案很简单，只是我需要将 DateTime 字段设置为 Nullable，以便它将采用 NULL 而不是为该字段分配默认的超出范围的值，这解决了我的问题。感谢 WCF 跟踪工具，它帮助我跟踪确切的错误。

# iphone - 如何在键盘顶部添加视图？

> ID：12721615
> 
> 赞同：7
> 
> 时间：2012-10-04T06:38:46.603
> 
> 标签：iphone, objective-c, ios, cocoa-touch

我在键盘顶部添加了一个带有按钮的视图，使用`setInputAccessoryView`. 现在我想要一些功能，比如当我从视图中单击按钮时，我想在键盘顶部显示一个*pickerView 。*像添加*pickerView的意思*添加为键盘的子视图。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-04T07:23:28.297

在键盘顶部制作您想要的视图。您可以从 xib 或手动执行此操作，但我认为 xib 将是一个更好的选择。

然后通过这样做来引用这个视图

```
 - (BOOL)textFieldShouldBeginEditing:(UITextField *)textField {
   textField.inputAccessoryView = YOURCustomView;
   return YES;
} 
```

每当您想隐藏或删除此内容时，只需放置此内容

```
textField.inputAccessoryView = nil; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T06:53:45.183

```
self.pickerContainerView = [[UIView alloc] initWithFrame:CGRectMake(0, 194, 320, 224)];
    self.pickerContainerView.backgroundColor = [UIColor clearColor];
    [self.view addSubview:self.pickerContainerView];

    UIToolbar *pickerToolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, 320, 44)];
    pickerToolbar.barStyle = UIBarStyleBlackTranslucent;
    [pickerToolbar sizeToFit];

    self.lblPickerViewTitle = [[UILabel alloc] initWithFrame:CGRectMake(15, 7, 230, 30)];
        self.lblPickerViewTitle.backgroundColor = [UIColor clearColor];
    [self.lblPickerViewTitle  setFont: [UIFont fontWithName:@"Arial-BoldMT" size:17]];
        self.lblPickerViewTitle.textAlignment = UITextAlignmentLeft;
        self.lblPickerViewTitle.textColor =[UIColor whiteColor];
    [pickerToolbar addSubview:self.lblPickerViewTitle];

    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    [barItems addObject:flexSpace];
    [flexSpace release];

    UIBarButtonItem *btnCancel = [[UIBarButtonItem alloc] initWithTitle:@"Cancel" style:UIBarButtonItemStyleBordered target:self action:@selector(closePickerView:)];
    [barItems addObject:btnCancel];
    [btnCancel release];

    UIBarButtonItem *btnDone = [[UIBarButtonItem alloc] initWithTitle:@"ShowPicker" style:UIBarButtonItemStyleBordered target:self action:@selector(donePickerView:)];
    [barItems addObject:btnDone];
    [btnDone release];

    [pickerToolbar setItems:barItems animated:YES];
    [barItems release];
    [self.pickerContainerView addSubview:pickerToolbar]; 
```

并在**ShowPicker** Method 中，编写显示 UIPicker 的代码

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:48:56.080

就像键盘上的添加按钮一样，您还可以添加如下视图...

在这里你找到键盘窗口，然后设置按钮框架和你的视图，然后添加到键盘

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField{
    [[NSNotificationCenter defaultCenter] addObserver:self 
                                             selector:@selector(keyboardDidShow:) 
                                                 name:UIKeyboardDidShowNotification 
                                               object:nil];
    return YES;
}
- (void)keyboardDidShow:(NSNotification *)note {
    UIButton *returnBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    returnBtn.frame = CGRectMake(0,-25,320,25);
    returnBtn.adjustsImageWhenHighlighted = NO;
    returnBtn.backgroundColor=[UIColor darkGrayColor];
    returnBtn.titleLabel.textColor=[UIColor whiteColor];
    [returnBtn setBackgroundImage:[UIImage imageNamed:@"keyBtn.png"] forState:UIControlStateNormal];

    [returnBtn addTarget:self action:@selector(keyboardBtn:) forControlEvents:UIControlEventTouchUpInside];
    // locate keyboard view
    UIWindow* tempWindow = [[[UIApplication sharedApplication] windows] objectAtIndex:1];
    UIView* keyboard;
    for(int i=0; i<[tempWindow.subviews count]; i++) {
        keyboard = [tempWindow.subviews objectAtIndex:i];
        // keyboard found, add the button
        if([[keyboard description] hasPrefix:@"<UIPeripheralHost"] == YES)
            //  if (txtTag==5) {
            [keyboard addSubview:returnBtn];
    }
}
-(IBAction)keyboardBtn:(id)sender{
    UIWindow* tempWindow = [[[UIApplication sharedApplication] windows] objectAtIndex:1];
    UIView* keyboard;
    for(int i=0; i<[tempWindow.subviews count]; i++) {
        keyboard = [tempWindow.subviews objectAtIndex:i];
        // keyboard found, add the button
        if([[keyboard description] hasPrefix:@"<UIPeripheralHost"] == YES)
            //  if (txtTag==5) {
            [keyboard addSubview:yourView];// here add your view with frame
    }
} 
```

我希望这可以帮助你...

:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-04T06:45:12.247

您需要先创建另一个 UIWindow：

```
UIWindow *newWindow = [[UIWindow alloc] initWithFrame:CGRectMake(0,100,320,20)];
newWindow.windowLevel = UIWindowLevelStatusBar; // this will make to place your WINDOW above the keyboard
[newWindow makeKeyAndVisible]; // show the new window

// [newWindow addSubview:yourView]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-12T08:12:57.487

来自乔纳斯施内利的回答

```
UIWindow *newWindow = [[UIWindow alloc]initWithFrame:CGRectMake(0,100,320,20)];
newWindow.windowLevel = CGFLOAT_MAX; // this will make to place your WINDOW above the keyboard

[newWindow addSubview:yourView]; 
```

改成就好`UIWindowLevelStatusBar`了`CGFLOAT_MAX`。

# python - Cygwin 新手：如何从 Cygwin 卸载 Python 2.6.x 并安装 Python 2.7.x？

> ID：12721616
> 
> 赞同：6
> 
> 时间：2012-10-04T06:38:53.353
> 
> 标签：python, windows-7, cygwin, 64-bit

我正在尝试使用 Cygwin 在 Windows 7-64 位机器上运行 Python 脚本。我无法在此环境中安装最新版本的 Python。

问题：

*   如何卸载 Python 2.6
*   我应该为 Cygwin 使用哪个 Python 包？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T07:57:33.690

要从 Cygwin 卸载 Python 解释器（或任何其他包）：

*   运行`setup.exe`文件（为安装 Cygwin 下载的文件）
*   确保安装文件夹与您的 Cygwin 位置匹配
*   在包选择屏幕上，找到要卸载的包（此处`python`）
*   通过单击它 3 次将其状态从 更改`keep`为`uninstall`
*   点击下一步开始卸载

目前，Python 2.7 尚未移植到 Cygwin。最新的 Python 2 版本是`2.6.8-2`. 但是，Python 3.2 已被移植，因此您应该检查您的脚本是否与它兼容。

您可以在 Cygwin 上同时安装 Python 2 和 3——第一个可以使用经典`python`命令触发，后者可以使用`python3`.

# java - Spring，Hibernate 检查我的 Maven Shade JAR 中的每个 jar

> ID：12721623
> 
> 赞同：2
> 
> 时间：2012-10-04T06:39:18.377
> 
> 标签：java, spring, hibernate, maven, maven-shade-plugin

当从 运行我的 jar 时，获得了数以千计的这些行，`java -jar foo.jar`因此应用程序至少需要 1 分钟才能启动。

```
2012-10-04 09:31:56,543 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.DependsOn
2012-10-04 09:31:56,546 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.EnableAspectJAutoProxy
2012-10-04 09:31:56,548 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.EnableLoadTimeWeaving$AspectJWeaving
2012-10-04 09:31:56,553 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.EnableLoadTimeWeaving
2012-10-04 09:31:56,558 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.FilterType
2012-10-04 09:31:56,561 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.Import
2012-10-04 09:31:56,563 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.ImportAware
2012-10-04 09:31:56,567 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.ImportBeanDefinitionRegistrar
2012-10-04 09:31:56,571 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.ImportResource
2012-10-04 09:31:56,575 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.ImportSelector
2012-10-04 09:31:56,578 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.Jsr330ScopeMetadataResolver
2012-10-04 09:31:56,581 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.Lazy
2012-10-04 09:31:56,585 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.LoadTimeWeavingConfiguration
2012-10-04 09:31:56,589 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.LoadTimeWeavingConfigurer
2012-10-04 09:31:56,593 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.MetadataUtils
2012-10-04 09:31:56,596 [AWT-EventQueue-0] DEBUG org.hibernate.ejb.packaging.AbstractJarVisitor - Filtering: org.springframework.context.annotation.Primary 
```

我正在使用 Maven Shade 创建我的 JAR：

```
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-shade-plugin</artifactId>
<version>2.0</version> 
```

Spring 和 Hibernate 配置：

```
<bean id="entityManagerFactory" 
      class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
  <property name="dataSource" ref="dataSource"/>
</bean>
<bean id="transactionManager"
      class="org.springframework.orm.jpa.JpaTransactionManager">
  <property name="entityManagerFactory" ref="entityManagerFactory"/>
</bean>
<tx:annotation-driven transaction-manager="transactionManager"/> 
```

如何过滤它以不搜索 POM 下载的所有 JAR？

**编辑：**

完整的 Spring 配置：

```
<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:context="http://www.springframework.org/schema/context"
   xmlns:tx="http://www.springframework.org/schema/tx"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context-3.1.xsd
    http://www.springframework.org/schema/tx
    http://www.springframework.org/schema/tx/spring-tx-3.1.xsd">

<context:component-scan base-package="my.foo.bar" />

<context:property-placeholder location="classpath:/config/database.properties"/>

<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
    <property name="driverClassName" value="${database.driverClassName}"/>
    <property name="url" value="${database.url}"/>
    <property name="username" value="${database.username}"/>
    <property name="password" value="${database.password}"/>
</bean>

<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
    <property name="dataSource" ref="dataSource"/>
</bean>
<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
    <property name="entityManagerFactory" ref="entityManagerFactory"/>
</bean>
<tx:annotation-driven transaction-manager="transactionManager"/> 
```

完全坚持：

```
 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd"
         version="1.0">
<persistence-unit name="persistenceUnit">
    <provider>org.hibernate.ejb.HibernatePersistence</provider>
    <properties>
        <property name="hibernate.dialect" value="dialect.ImprovedH2Dialect"/>
        <property name="hibernate.default_schema" value="ags" />
        <property name="hibernate.show_sql" value="true"/>
        <!-- value="create" to build a new database on each run; value="update" to modify an existing database; value="create-drop" means the same as "create" but also drops tables when Hibernate closes; value="validate" makes no changes to the database -->
        <property name="hibernate.hbm2ddl.auto" value="create"/>
        <property name="hibernate.ejb.naming_strategy" value="org.hibernate.cfg.ImprovedNamingStrategy"/>
        <property name="hibernate.connection.charSet" value="UTF-8"/>
    </properties>
</persistence-unit> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:44:22.340

您需要调整一些设置`persistence.xml`，添加：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd"
         version="1.0">
<persistence-unit name="persistenceUnit">
    <provider>org.hibernate.ejb.HibernatePersistence</provider>
    <class>my.foo.bar</class>
    <exclude-unlisted-classes>true</exclude-unlisted-classes>
    <properties>
        <property name="hibernate.dialect" value="dialect.ImprovedH2Dialect"/>
        <property name="hibernate.default_schema" value="ags" />
        <property name="hibernate.show_sql" value="true"/>
        <!-- value="create" to build a new database on each run; value="update" to modify an existing database; value="create-drop" means the same as "create" but also drops tables when Hibernate closes; value="validate" makes no changes to the database -->
        <property name="hibernate.hbm2ddl.auto" value="create"/>
        <property name="hibernate.ejb.naming_strategy" value="org.hibernate.cfg.ImprovedNamingStrategy"/>
        <property name="hibernate.connection.charSet" value="UTF-8"/>
    </properties>
</persistence-unit> 
```

并指定所有实体类。

见[http://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/configuration.html](http://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/configuration.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T10:26:20.550

尝试添加到您的 persistence.xml

```
 <exclude-unlisted-classes>true</exclude-unlisted-classes>

 <class>my.foo.bar.Entity1</class>
 <class>my.foo.bar.Entity2</class>
...
 <class>my.foo.bar.EntityN</class> 
```

并删除`<class>my.foo.bar</class>`

而且，也许`<jar-file>jar_with_my_foo_bar_Entity.jar</jar-file>`会有所帮助

# c++ - C++ 类型转换错误

> ID：12721627
> 
> 赞同：2
> 
> 时间：2012-10-04T06:39:43.603
> 
> 标签：c++, casting

> **可能重复：**
> [void 指针：C 和 C++ 之间的区别](https://stackoverflow.com/questions/1736833/void-pointers-difference-between-c-and-c)

您好我有以下功能：

```
void task2(int a)
{
    printf("  Task 2 running..\n");
    sleep(2);
    printf("  Task 2 exiting..\n");
}

thpool_add_work(threadpool, (void*)task2, (void*)a);

int thpool_add_work(thpool_t* tp_p, void *(*function_p)(void*), void* arg_p)
{
    // some code here
} 
```

上面的代码在 C 中运行良好，但不能在 C++ 中编译。我收到以下错误：

```
error: invalid conversion from ‘void*’ to ‘void* (*)(void*)’
error:   initializing argument 2 of ‘int thpool_add_work(thpool_t*, void* (*)(void*), void*)’ 
```

我无法弄清楚这个错误的原因。知道为什么当我将文件扩展名更改为 CPP 并编译时会出现此错误吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:53:47.580

您必须更改签名`task2`以匹配`thpool_add_work`参数的类型：

```
void* task2(void* a) 
```

创建线程的调用将变为

```
thpool_add_work(threadpool, task2, &a); 
```

假设`a`是`int`。

如果您需要使用 的参数`task2`，您可以执行以下操作：

```
int ia = *(int*)a; 
```

**更新以回答 OP 评论**

`thpool_add_work`期望一个带`void*`参数的函数是有原因的。通过这种方式，您可以将任何类型的参数传递给线程函数，尽管是以类型不安全的方式。

您将转换为的参数的地址`void*`作为 的第三个参数传递`thpool_add_work`。之后，您将指针转换`void`回指向预期参数类型的指针并取消引用它以获取参数的值。我给出了`int a`上面的例子，现在它会如何寻找一个浮点数：

```
void* test3(void* a)
{
float fa = *(float*)a;
.....
return NULL;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:49:32.417

尝试这个

```
thpool_add_work(threadpool, (void* (*)(void*))task2, (void*)a); 
```

C 会自动转换`void*`为任何类型，C++ 不会。

您可以使用 typedef 改进代码

```
typedef void* (*worker_func_t)(void*);

thpool_add_work(threadpool, (worker_func_t)task2, (void*)a);

int thpool_add_work(thpool_t* tp_p, worker_func_t function_p, void* arg_p)
{
    // some code here
} 
```

# android - Android：如何使用 MTK 6575 调试我的 android 应用程序

> ID：12721632
> 
> 赞同：-1
> 
> 时间：2012-10-04T06:40:12.233
> 
> 标签：android, android-emulator

我有**MTK 6575 N8000 Android 4.0.3**手机，我想运行我在 Eclipse 中开发的应用程序。但是当我尝试运行我的应用程序时，Eclipse 没有检测到这个设备。所以任何人都可以建议我需要设置或下载什么来在这个设备上运行我的应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:55:23.850

安装 Google usb 驱动程序或选择运行配置选择手册以在您的设备上编译程序

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:23:31.150

转到我的电脑图标 右键单击​​我的电脑图标并选择管理

选择设备管理器

并选择 USB 端口

Un Plug and Plugin ur USB 设备

然后选择你的USB端口......

提供更新驱动程序并浏览文件夹

Androis SDK 在您的计算机中并选择 Google Usb 文件夹并选择 OK .....

它将安装一个支持所有 USB 驱动程序的驱动程序......试试看吧

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T11:22:53.803

```
To install the Android USB driver on Windows XP for the first time:

Connect your Android-powered device to your computer's USB port. Windows will detect the device and launch the Hardware Update Wizard.
Select Install from a list or specific location and click Next.
Select Search for the best driver in these locations; un-check Search removable media; and check Include this location in the search.
Click Browse and locate the USB driver folder. (The Google USB Driver is located in <sdk>\extras\google\usb_driver\.)
Click Next to install the driver.
Or, to upgrade an existing Android USB driver on Windows XP with the new driver:

Connect your Android-powered device to your computer's USB port.
Right-click on My Computer from your desktop or Windows Explorer, and select Manage.
Select Device Manager in the left pane.
Locate and expand Android Phone in the right pane.
Right-click Android Composite ADB Interface and select Update Driver. This will launch the Hardware Update Wizard.
Select Install from a list or specific location and click Next.
Select Search for the best driver in these locations; un-check Search removable media; and check Include this location in the search.
Click Browse and locate the USB driver folder. (The Google USB Driver is located in <sdk>\extras\google\usb_driver\.)
Click Next to upgrade the driver. 
```

# spring-security - Spring 中的 Oauth 安全性

> ID：12721649
> 
> 赞同：1
> 
> 时间：2012-10-04T06:41:22.913
> 
> 标签：spring-security

我如何在我们的 Spring 应用程序中实现 oauth 安全性。

请为此提供一些教程/示例代码，我已经用谷歌搜索了很多次，但找不到任何好的教程或示例代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:45:30.043

你可以参考[http://oauth.net/documentation/getting-started/](http://oauth.net/documentation/getting-started/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-04T12:45:34.617

我们已经编写了一个 Spring 4 / Java 8 应用程序，它就是这样做的。它是开源的，您可以在此处阅读有关安全层的信息[http://blog.techdev.de/using-spring-oauth-in-trackr/](http://blog.techdev.de/using-spring-oauth-in-trackr/)

# blackberry - 处理 xml 代码时的 InputStream 异常

> ID：12721655
> 
> 赞同：2
> 
> 时间：2012-10-04T06:41:51.657
> 
> 标签：blackberry, io

您好我正在尝试 tp 解析存储在服务器中的黑莓中的 xml。但它在输入流行中出现不同的异常。主要是数据报协议和 TcpInput 异常。我在这里附上了我的代码，请指导我。

```
try {
    Document doc;
    StreamConnection conn = null;
    InputStream is = null;
    conn = (StreamConnection) Connector.open("http://xyz.com/GetImageDetails.xml;deviceside=true;");

    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();
    docBuilderFactory.setIgnoringElementContentWhitespace(true);
    docBuilderFactory.setCoalescing(true);

    DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();
    docBuilder.isValidating();
    is = conn.openInputStream();
    doc = docBuilder.parse(is);
    doc.getDocumentElement().normalize();

    NodeList list = doc.getElementsByTagName("IMG_URL");
    for (int i = 0; i < list.getLength(); i++) {
        Node textNode = list.item(i).getFirstChild();
        System.out.println(textNode);
    }
} catch (Exception e) {
    System.out.println(e.toString());
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:06:19.540

```
The XML parsing class is
/***/ 
```

包 com.application.xmlParser;

导入 java.io.ByteArrayInputStream；导入 java.io.InputStream；导入 java.util.Hashtable；导入 java.util.Vector；

导入 org.xml.sax.Attributes；导入 org.xml.sax.InputSource；导入 org.xml.sax.SAXException；导入 org.xml.sax.XMLReader；导入 org.xml.sax.helpers.DefaultHandler；导入 org.xml.sax.helpers.XMLReaderFactory；

导入 com.application.log.Log；

公共类 CopyOfXMLParser 扩展 DefaultHandler {

```
private String RecordElement;
private String xmlURL;
private Hashtable newObj = new Hashtable();
private Vector Records = new Vector();
private CallBack callBack ;
private String _localEndTag = "";

public void ParseInputStream(String stream,String rootElement, String recordElement , CallBack callBack) 
{
    RecordElement = recordElement;
    this.callBack = callBack;

    InputStream in = new ByteArrayInputStream(stream.getBytes());
    try 
    {
        XMLReader reader = XMLReaderFactory.createXMLReader();
        reader.setContentHandler(this);
        reader.parse(new InputSource(in));
    } 
    catch ( Exception e ) 
    {
        System.out.println("#### ##### Parse Exception : " + e + "#### #####" + xmlURL);
      /*  callbackAdapter.callback(Records);*/
    }
}

public void startElement(String Uri, String localName, String qName, Attributes attributes) throws SAXException 
{
}

public void characters(char [ ] ch, int start, int length) throws SAXException 
{
   String elementValue = new String(ch, start, length).trim();

    Log.d("End Tag", _localEndTag); 
    Log.d("Tag Value ", elementValue);  

    if(_localEndTag ==  null || _localEndTag.equalsIgnoreCase(""))
    {

    }
    else
    {
        newObj.put((String)_localEndTag, (String)elementValue);
    }
}

public void endElement(String Uri, String localName, String qName) throws SAXException 
{
    _localEndTag = localName;

    if ( localName.equalsIgnoreCase(RecordElement) ) 
    {
        Records.addElement(newObj);
        callBack.callBack(Records);
        System.out.println("###### ###### FINISH ###### ######" +RecordElement);
    }
} 
```

}

```
/***/

/***/
How to Implement

take the (Http)InputStream response into String  and call the below method ..your problem is solved 

new CopyOfXMLParser().ParseInputStream(new String(baos.toByteArray()) ,"SOAP:Envelope", "SOAP:Envelope"); 
```

我得到了所有元素的价值，用这个代码/ *** /

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:11:10.117

使用 Sax 解析进行 XML 解析。请参阅此链接：[http ://stackoverflow.com/questions/11901822/xml-parsing-using-sax-for-blackberry/11914662#11914662](http://stackoverflow.com/questions/11901822/xml-parsing-using-sax-for-blackberry/11914662#11914662)

# php - 32 位 PHP 是否受到地址空间分配限制的影响？

> ID：12721662
> 
> 赞同：0
> 
> 时间：2012-10-04T06:42:02.280
> 
> 标签：php, linux, memory, ram

我最近了解到 Perl 在编译为 32 位时只会寻址 4GB 内存，尽管内核通过 PAE 支持和使用更多内存。

PHP 是否也受此影响？做所有的编程语言吗？

来源： http: [//linux.die.net/man/1/perlsolaris](http://linux.die.net/man/1/perlsolaris) 验证：浪费了半天。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T06:56:08.700

这已在[64 位 Linux 操作系统上运行的 32 位进程的内存限制中得到更普遍的回答](https://stackoverflow.com/questions/5079519/memory-limit-to-a-32-bit-process-running-on-a-64-bit-linux-os)

那里的最佳答案的简短引用：

> 无论操作系统如何，32 位进程都只能访问 4GB 的虚拟内存。这是因为进程只能映射 32 位的内存地址。如果您进行数学运算，您会发现 32 位地址最多只能访问 4GB，即使您在 128 位操作系统上运行也是如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:56:55.273

是的，所有 32 位语言都有一个 32 位地址空间，（它的 32 位）将内存访问限制为 4GB。（即使对于bios和其他东西也少一点）

我不明白这怎么可能是一个问题，当然不是 PHP。如果有问题，只需在 64 位操作系统上运行即可。Linux、Windows、Mac，任你选择。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-04T06:54:18.560

[http://www.marco.org/2008/06/03/64-bit-php-overcomes-the-stupid-signed-integer-limit](http://www.marco.org/2008/06/03/64-bit-php-overcomes-the-stupid-signed-integer-limit)

这是我在 1 分钟谷歌搜索中找到的 :)

# ajax - ASP.NET MVC 4、ajax 和 JSON 中的异常详细信息

> ID：12721669
> 
> 赞同：1
> 
> 时间：2012-10-04T06:42:27.897
> 
> 标签：ajax, asp.net-mvc, error-handling, asp.net-mvc-4

我是 ASP.NET 和 MVC 的新手。在我的控制器中，我抛出`ArgumentException`了无效的用户输入。我喜欢客户端以 JSON 格式获取一些信息的事实。但我不想发送*整个*堆栈跟踪，只发送异常消息（其中包含对错误的有用的本地化解释）。

我该怎么做呢？

我见过一些`Application_Error()`and `FilterException`，但它们似乎都重定向到一个特殊的“错误”视图，而我想留在同一页面上，只是打印出一个带有用户友好解释的对话框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:12:02.773

看看这个答案[ASP.NET MVC Ajax 错误处理](https://stackoverflow.com/questions/4707755/asp-net-mvc-ajax-error-handling)，如果你需要`StatusCode`：

```
filterContext.HttpContext.Response.StatusCode = 500; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T03:35:59.983

```
HttpContext.Response.StatusCode = 400
return new ContentResult{Content="My custom error"}; 
```

在这种情况下，ajax 会将响应视为错误状态，您可以指定自定义消息并从 response.responseText 属性获取它

```
$.ajax({
 .....
error: function(e){
  alert(e.responseText); // your  error message
}
}); 
```

# arrays - 数组的不同排列的总数，其中两个不相交的子数组中元素的相对顺序保持不变

> ID：12721675
> 
> 赞同：1
> 
> 时间：2012-10-04T06:42:51.517
> 
> 标签：arrays, permutation

给出一个整数数组。

例如 a = {1,2,20,19} 让两个不相交的子数组为 {1,2} 和 {20,19}。有 5 种这样的排列，其中“1”总是在“2”之前，“20”总是在“19”之前，例如：

1.  {1、2、20、19}
2.  {1、20、2、19}
3.  {1、20、19、2}
4.  {20、1、19、2}
5.  {20、19、1、2}

我的问题是：

**给定一个数组，大小为 n+m 的 a[1...n+m]。求两个子数组 a[1..n] 和 a[n+1..n+m] 中元素的相对顺序保持不变的排列数。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:10:52.383

1.  在您的示例中，它将是 6 个排列。您错过了 {20,1,2,19}。

2.  这是一个纯数学（组合）问题。这个问题等价于 -
    找出方程所有可能解的数量：

    `x0+x1+....+xn = m`

答案由公式定义——`(n+m)!/(m!n!)`

例如，在您的情况下，`n=m=2`答案是`4!/2!2! = 6`

# python - Python Bool 和 int 比较以及使用布尔值对列表进行索引

> ID：12721676
> 
> 赞同：14
> 
> 时间：2012-10-04T06:42:54.057
> 
> 标签：python, list, indexing, boolean

使用布尔值对列表进行索引工作正常。虽然索引应该是一个整数。

以下是我在控制台中尝试过的：

```
>>> l = [1,2,3,4,5,6]
>>> 
>>> l[False]
1
>>> l[True]
2
>>> l[False + True]
2
>>> l[False + 2*True]
3
>>> 
>>> l['0']
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
TypeError: list indices must be integers, not str
>>> type(True)
<type 'bool'> 
```

当我尝试`l['0']`它时，会打印出索引中预期的 int 类型的错误，这很明显。然后，即使是 和 的类型，`'True'`列表`'False'`上`Bool`的索引也可以正常工作，并自动将其转换为 int 类型并执行操作。

请解释内部发生的情况。我是第一次发问题，如有错误请见谅。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-04T06:46:27.413

发生的事情是布尔值实际上*是*整数。True 为 1，False 为 0。Bool 是 int 的子类型。

```
>>> isinstance(True, int)
True
>>> issubclass(bool, int)
True 
```

所以它没有将它们转换为整数，它只是将它们用作整数。

（由于历史原因，bool 是整数。在 Python 中存在 bool 类型之前，人们使用整数 0 表示假，1 表示真。因此，当他们添加 bool 类型时，他们将布尔值设为整数以保持向后兼容性使用使用这些整数值的旧代码。参见例如[http://www.peterbe.com/plog/bool-is-int](http://www.peterbe.com/plog/bool-is-int)。）

```
>>> help(True)
Help on bool object:

class bool(int)
 |  bool(x) -> bool
 |  
 |  Returns True when the argument x is true, False otherwise.
 |  The builtins True and False are the only two instances of the class bool.
 |  The class bool is a subclass of the class int, and cannot be subclassed. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T06:48:35.820

Python*过去常常*缺少布尔值，我们只使用整数，0 表示`False`，任何其他整数表示`True`. 因此，当布尔值添加到语言中时，值`False`和`True`可以被视为整数值`0`，并且`1`仍然由解释器处理，以帮助向后兼容。在内部，`bool`是 的子类`int`。

换句话说，以下等式为真：

```
>>> False == 0
True
>>> True == 1
True
>>> isinstance(True, int)
True
>>> issubclass(bool, int)
True 
```

正如你发现的：

```
>>> True * 3
3 
```

然而，这并没有扩展到字符串。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T06:46:44.913

> ...布尔值是普通整数的子类型。

[来源](http://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex)。

如您所见，`False`is`0`和`True`is `1`。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-02-07T22:11:23.443

Python 源文档没有直接提到所有非零整数`True`在传递给`if`语句时计算为，而只有零计算为`False`. 您可以使用以下 Python 代码向自己证明：

```
for test_integer in range(-2, 3, ):
    if not test_integer:
        print('{} evaluates to False in Python.'.format(test_integer))
    else:
        print('{} evaluates to True in Python.'.format(test_integer))
>>>-2 evaluates to True in Python.
-1 evaluates to True in Python.
0 evaluates to False in Python.
1 evaluates to True in Python.
2 evaluates to True in Python. 
```

尽可能在零的任一侧尝试它；此代码仅显示 -2、-1、0、1 和 2（含）。

# wxpython - 如何在 wxpython 中的两个帧（两个不同的文件）之间传递值？

> ID：12721682
> 
> 赞同：0
> 
> 时间：2012-10-04T06:43:47.383
> 
> 标签：wxpython

我在一个文件中有一个网格，我在另一个文件中有文本控件。当用户单击确定时，所有文本控件的值都必须显示在网格中。

```
mainDialog.self.mainGrid.InsertRows(len(allData), 1)
gridsize = mainDialog.self.mainGrid.GetGridCursorRow()
mainDialog.self.mainGrid.SetCellValue(len(allData), 0, str(eventName))
mainDialog.self.mainGrid.SetCellValue(len(allData), 1, str(eventDate))
mainDialog.self.mainGrid.SetCellValue(len(allData), 2, str(eventTimeReal))
mainDialog.self.mainGrid.SetCellValue(len(allData), 3, str(eventVenue)) 
```

在这里，mainDialog 是一个必须向其传递值的文件。

它显示以下错误：

```
theGrid = mainDialog.mainDialog.mainGrid()
AttributeError: type object 'mainDialog' has no attribute 'mainGrid' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:32:45.203

我不认为你说得对。您可能想要“self.mainGrid.SetCellValue”或“mainDialog.mainGrid.SetCellValue”。就个人而言，我认为这种多帧之间通信的最佳方式是使用 pubsub 提供的 Publish/Subscribe 模型。我在这里写了一个关于这个主题的教程：http: [//www.blog.pythonlibrary.org/2010/06/27/wxpython-and-pubsub-a-simple-tutorial/](http://www.blog.pythonlibrary.org/2010/06/27/wxpython-and-pubsub-a-simple-tutorial/)

# asp.net - 如何在 ASP.NET MVC 3 Razor 中实现多表单验证？

> ID：12721683
> 
> 赞同：1
> 
> 时间：2012-10-04T06:43:55.180
> 
> 标签：asp.net, asp.net-mvc-3

我有 3 张桌子：

> TableMaster <-- TableDetails1（一对多关系）
> TableMaster <-- TableDetails2

如何使用 ASP.NET MVC 3 Razor 在单个页面上实现这一点？
我想我应该对每个表单使用多表单和验证，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:49:56.317

您不需要多个表格。对不起，如果我误解了你的问题

```
@model TableMaster

@using (Html.BeginForm())
{

    @Html.TextBoxFor(model => model.Name)

    @foreach(int i = 0; i < Model.TableDetails1.Count; i++)
    {
        @Html.TextBoxFor(model => Model.TableDetails1[i].Name)
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:59:05.593

你能更具体一点吗？

如果您只是收集数据，并且整个表单只提交一次，请使用这样的模型：

```
public class MyBigForm
{
   public MyForm1 Form1 { get; set; }
   public MyForm2 Form2 { get; set; }
   public MyForm3 Form3 { get; set; }
} 
```

每个类（MyForm1-3）都可以有自己的验证。

* * *

但是，如果您使用 Ajax 或其他东西来加载详细表单，那么在 MVC 中不可能一次验证所有表单。然后，您必须将自定义 jquery 验证写入 ajax 响应（接收数据后），然后写入 Controller。

# xcode - iOS 6 导航 - 我必须使用情节提要吗？

> ID：12721689
> 
> 赞同：0
> 
> 时间：2012-10-04T06:44:40.267
> 
> 标签：xcode, uikit, storyboard, ios6

我有一个适用于 iOS 5 的应用程序，我刚刚安装了 iOS 6 模拟器，但我的导航根本无法正常工作。我的 viewWillAppear 和 viewDidAppear 方法也不再触发。

我正在使用 [self.navigationController pushViewController:vc animated:YES]; 导航。我必须使用 StoryBoards 在 iOS 6 中导航吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:48:34.757

不，Storyboards 是可选的，并且自 iOS 5.0 以来一直存在。如果你的导航坏了，那是因为你的代码有错误。

# ruby-on-rails - 任何与设计“1.5.3”兼容的refinerycms 版本

> ID：12721695
> 
> 赞同：1
> 
> 时间：2012-10-04T06:45:21.060
> 
> 标签：ruby-on-rails, ruby

伙计们，我不是专家，只是初学者，我正在研究 Rails 项目（rails 3.2.8），我想将炼油厂与这个现有项目集成，但问题是当我编写 **gem 'refinerycms'，'~> 2.0 时。 8'**并**运行捆绑更新**它给出了一个错误，即refinerycms依赖于设计2.0.0而我设计了1.5.3。如果我选择最新的设计版本，我想将设计 1.5.3 与炼油厂一起使用，让我们说（设计 2.0.0）我现有的应用程序行为发生变化。你能告诉我一种摆脱这种情况的方法吗？任何帮助都会非常高赞赏。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T08:23:28.157

您可以尝试使用 Refinery 的 1.0 版本（已维护）：[https ://github.com/refinery/refinerycms/tree/1-0-stable](https://github.com/refinery/refinerycms/tree/1-0-stable)

但我强烈建议升级`devise`到 2.0 版本，而不是使用旧的炼油厂版本。这很简单，只需遵循指南：[https ://github.com/plataformatec/devise/wiki/How-To:-Upgrade-to-Devise-2.0](https://github.com/plataformatec/devise/wiki/How-To:-Upgrade-to-Devise-2.0)

# directshow - 将声音流与视频流同步

> ID：12721696
> 
> 赞同：0
> 
> 时间：2012-10-04T06:45:22.213
> 
> 标签：directshow, multicast, directsound

我正在做一个视频/音频会议项目，我遇到了下一个问题：

1.  每次音频缓冲区已满（大约 200 毫秒）的 pcm 原始格式时，我都会使用 DirectSound 录制声音并通过网络（多播）发送。
2.  使用 DirectX.Capture 项目（代码项目），我通过网络（多播）发送图像。

你有什么想法如何同步这两个流吗？在局域网上我没有同步问题，但我认为在互联网上会因为对等点之间的网速、路由等的差异而出现一些问题。

谢谢！

# sencha-touch - 将 AJAX 响应数据添加到商店

> ID：12721698
> 
> 赞同：0
> 
> 时间：2012-10-04T06:45:31.573
> 
> 标签：sencha-touch, sencha-touch-2, sencha-architect

如果我的数据来自后端 AJAX 调用，如何将数据添加到 json 存储。

我的店铺如下。

```
Ext.define('MyApp.store.GeographyMasterStore', {    extend: 'Ext.data.Store',

requires: [
    'MyApp.model.GeographyMasterModel'
],

config: {
    model: 'MyApp.model.GeographyMasterModel',
    storeId: 'geographyMasterStore',
    proxy: {
        type: 'ajax',
        reader: {
            type: 'json'
        }
    }
}
}); 
```

我的模型如下：

```
Ext.define('MyApp.model.GeographyMasterModel', {
extend: 'Ext.data.Model',

config: {
    fields: [
        {
            name: 'Code'
        },
        {
            name: 'Description'
        },
        {
            name: 'Level_Code',
            mapping: 'Level Code'
        },
        {
            name: 'Name'
        }
    ]
}
}); 
```

如果我像这样添加数据

```
var geographyMasterStore = Ext.getStore('geographyMasterStore');
geographyMasterStore.add(<data from backend AJAX call>); 
```

它没有向我显示映射字段，即 Level_Code

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T15:40:34.157

您需要创建一个模型：

`var record = Ext.create('model.GeographyMasterModel', Ext.JSON.decode(response.responseText));`

保存模型：

`record.save()`

重新加载商店：

`geographyMasterStore.load()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T09:33:44.810

通常我在向商店添加记录时是这样的：

```
Ext.create('App.model.MyModel', JSON.parse(response.responseText); 
```

其中 response 是来自`Ext.Ajax.request`

希望这可以帮助

# android - android 应用程序中的错误（main 无法解析或不是字段/wglGetExtensionsStringARB' 在 Android Emulator 中运行地图应用程序时出错）

> ID：12721704
> 
> 赞同：1
> 
> 时间：2012-10-04T06:45:55.770
> 
> 标签：android, eclipse, android-emulator, android-manifest, android-sdk-tools

1.Iam导入现有项目或创建新项目时显示错误：R无法解析为变量，导入R后似乎无法访问xml布局文件尝试修复此问题

```
 http://stackoverflow.com/questions/5143369/main-cannot-be-resolved-or-is-not-a-field 
```

2.同时在另一台机器上运行我的应用程序“.apk 文件”正在创建但无法反映模拟器上的输出

```
 [2012-10-04 15:24:29 - HelloAndroid] Android Launch!
[2012-10-04 15:24:29 - HelloAndroid] adb is running normally.
[2012-10-04 15:24:29 - HelloAndroid] No Launcher activity found!
[2012-10-04 15:24:29 - HelloAndroid] The launch will only sync the application package on the device!
[2012-10-04 15:24:29 - HelloAndroid] Performing sync
[2012-10-04 15:24:29 - HelloAndroid] Automatic Target Mode: launching new emulator with compatible AVD 'android2.1'
[2012-10-04 15:24:29 - HelloAndroid] Launching a new emulator with Virtual Device 'android2.1'
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] Failed to create Context 0x3005
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] could not get wglGetExtensionsStringARB
[2012-10-04 15:24:37 - Emulator] emulator: WARNING: Could not initialize OpenglES emulation, using software renderer.
[2012-10-04 15:24:37 - Emulator] emulator: warning: opening audio input failed
[2012-10-04 15:24:37 - Emulator] 
```

主屏幕->

```
package com.example.new_xyz_fertilizer;

import android.app.Activity;
import android.os.Bundle;

public class Home extends Activity {

    public void onCreate(Bundle HomeBundle){
        super.onCreate(HomeBundle);
        setContentView(R.layout.home);

    }

} 
```

并在 xml 布局文件中 --> home.xml

```
?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal"
    android:background="@drawable/BG01"
    >

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        android:gravity="bottom"
        >
        <ImageView
            android:id="@+id/home"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/home_s"/>
        <ImageView
            android:id="@+id/nc"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/nc_s"
            />
        <ImageView
            android:id="@+id/locncon"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/locncon_s"
           />
        <ImageView
            android:id="@+id/ft"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/ft_s"
            />

          <ImageView
            android:id="@+id/csf"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/csf_s"
            />
    </LinearLayout>

</LinearLayout>       

Thanks in advance 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:08:23.783

从其他项目导入 R.java 可能会产生问题。

试试这个：右键单击项目 -> Android 工具 -> 修复项目属性。

比检查问题是否解决。

还有一件事，据我所知，GPS 主要在物理设备上工作，而不是在模拟器/模拟器上工作。

# sql-server-2008 - 让 SQL Server 2008 Management Studio 的 Intellisense 忽略大小写？

> ID：12721705
> 
> 赞同：5
> 
> 时间：2012-10-04T06:45:56.710
> 
> 标签：sql-server-2008, smss

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T07:13:33.957

此问题已在 Microsoft Connect 上至少报告过两次：

*   [http://connect.microsoft.com/SQLServer/feedback/details/672196/t-sql-is-not-case-sensitive-but-t-sql-intellisense-is](http://connect.microsoft.com/SQLServer/feedback/details/672196/t-sql-is-not-case-sensitive-but-t-sql-intellisense-is)
*   [http://connect.microsoft.com/SQLServer/feedback/details/402225/ssms-intellisense-make-text-matching-case-insensitive](http://connect.microsoft.com/SQLServer/feedback/details/402225/ssms-intellisense-make-text-matching-case-insensitive)

这两个问题都已关闭，并且该问题显然已在[SQL Server 2008 R2 SP1](http://www.microsoft.com/en-us/download/details.aspx?id=26727)和 SQL Server 2012 中得到修复。

您应该能够在您的开发 PC 上安装更新的 SQL Server Management Studio 来解决您遇到的问题，而无需升级您的数据库服务器。

# macos - 可可使用WebView加载swf文件

> ID：12721706
> 
> 赞同：0
> 
> 时间：2012-10-04T06:45:56.913
> 
> 标签：macos, cocoa, webkit, flash

我使用 webview 在 Mac OS X 中加载 SWF 文件，但它注意到“缺少插件”。

这是我的代码：

```
NSString *htmlString = [NSString stringWithFormat:@"<html><body style='overflow:hide;'><object width=\"344\" height=\"298\"><param name=\"movie\" value=\"%@\"<embed type=\"application/x-shockwave-flash\" src=\"%@\" width=\"344\" height=\"298\"/></body></html>", flashLink, flashLink];
[[webView mainFrame]loadHTMLString:htmlString baseURL:nil];
WebPreferences *prefs = [vwWeb preferences];
[prefs setPlugInsEnabled:YES]; 
```

我怎样才能加载这个瑞士法郎？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:55:05.813

我不知道您通过更改另一个 webview 的首选项在做什么，但是在加载这样的页面之前尝试更改您的首选项

```
NSString *htmlString = //Your string here
[[webView preferences] setPlugInsEnabled:YES];
[[webView mainFrame] loadHTMLString:htmlString baseURL:nil]; 
```

# sql-server - SQL Server 数据库引擎内存泄漏

> ID：12721708
> 
> 赞同：0
> 
> 时间：2012-10-04T06:46:04.193
> 
> 标签：sql-server, database, sql-server-2008, memory-leaks

我们有一个 Windows 窗体应用程序，应用程序的后端是 SQL Server Express 2005/2008。我们的应用程序可以安装在 Windows XP SP3/Windows Vista/Windows 7 上。

我们在 SQL Server Express 中观察到了巨大的内存泄漏。

通常，即使用户不使用应用程序，也会有两个进程在运行：

1.  检查文件可用性的轮询过程。（如果文件不可用，则只触发一个查询来检查某些配置设置）

2.  一个调度过程。（此过程每分钟触发一次查询以检查任何计划任务）

我们观察到 SQL Server (sqlsrvr.exe) 的内存使用量不断增加。在大约一个小时内，内存使用量达到了 1GB，并且从未下降。

我们还注意到，如果轮询过程的间隔增加，那么内存使用量会逐渐增加，但确实会增加。

SQL Server 较高的内存使用率会降低机器性能和机器上运行的所有其他应用程序的性能。

在这种情况下，请提供控制 SQL Server 内存使用的建议。

PFB详细信息：

1.  导致问题的软件：SQL Server 2005/2008 Express 版本（命名实例）

2.  可模拟问题的操作系统：Windows XP SP3/ Windows Vista/ Windows 7

问候，

阿布奈特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:51:55.457

SQL Server 旨在获取系统上的所有内存并将其用于其内部缓存。永远不要在与 SQL Server 相同的机器上运行任何其他东西。这不是泄漏，是预期和期望的行为。按设计。请参阅[内存管理器架构](http://msdn.microsoft.com/en-us/library/cc280359%28v=sql.105%29.aspx)

作为一种特殊情况，SQL Server Express 版本将其内部缓冲池大小限制为 1Gb。但是，缓冲池并不是 SQL Server 消耗的唯一内存。您可以通过为[`max server memory`](http://msdn.microsoft.com/en-us/library/ms178067.aspx).

# c# - tcpclient 上的序列化数据需要说明数量吗？

> ID：12721710
> 
> 赞同：0
> 
> 时间：2012-10-04T06:46:14.567
> 
> 标签：c#, serialization, .net-4.0, tcpclient

我已经使用 TcpClient 将数据作为字节发送，我想发送我自己的类而不是数据字节。

通过数据字节，我的意思是我正在发送转换为字节的数据，如下所示：

```
using (MemoryStream bufferStream = new MemoryStream())
{
    using (BinaryWriter bufferData = new BinaryWriter(bufferStream))
    {
        // Simple PONG Action
        bufferData.Write((byte)10);
    }

    _logger.Info("Received PING request, Sending PONG");
    return bufferStream.ToArray();
} 
```

相反，我想像这样发送它，而不必声明它的大小或 w/e

```
public class MyCommunicationData
{
    public ActionType Action { get; set; }
    public Profile User { get; set; }
    ...
} 
```

通常，当我以字节形式发送数据时，前 5 个字节用于指示操作和消息大小。

但是，如果我迁移以将所有数据序列化为一个类，我是否仍然需要发送它是什么动作和大小，或者使用客户端和服务器知道要读取什么等的序列化消息，或者有没有办法这样做我可以无需从序列化对象中指定内容即可发送它？

不确定这是否重要，我正在使用`AsyncCallback`读写网络流：

```
_networkStream = _client.tcpClient.GetStream();
_callbackRead = new AsyncCallback(_OnReadComplete);
_callbackWrite = new AsyncCallback(_OnWriteComplete); 
```

如果您需要我发布任何其他功能，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:52:03.413

如果您使用基于文本的序列化程序（例如 Json），您可以使用 StreamReader`ReadLine`和 StreamWriter `WriteLine`（从 tcpClient.GetStream 创建）。

您的代码将类似于

```
 writer.WriteLine(JsonConvert.SerializeObject(commData)) 
```

并在另一端获取数据

```
var myobj = JsonConvert.DeserializeObject<MyCommunicationData>(reader.ReadLine()) 
```

- 编辑 -

```
//**Server**
Task.Factory.StartNew(() =>
{
    var reader = new StreamReader(tcpClient.GetStream());
    var writer = new StreamReader(tcpClient.GetStream());
    while (true)
    {
        var myobj = JsonConvert.DeserializeObject<MyCommunicationData>(reader.ReadLine());
        //do work with obj 
        //write response to client
        writer.WriteLine(JsonConvert.SerializeObject(commData));
    }
}, 
TaskCreationOptions.LongRunning); 
```

# php - 在 PHP 中动态填充关联数组

> ID：12721719
> 
> 赞同：5
> 
> 时间：2012-10-04T06:47:03.287
> 
> 标签：php, arrays

我有一个包含以下 6 个字符串的数组。

```
user1 A
user2 B
user4 C
user2 D
user1 E 
```

我需要创建一个字典，如：

```
arr['user1'] => ['A', 'E']
arr['user2'] => ['B', 'D']
arr['user4'] => ['C'] 
```

如何在 PHP 中做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T06:49:02.697

这似乎工作......

```
$arr = array();

foreach($lines as $line) {
    list($user, $letter) = explode(" ", $line);
    $arr[$user][] = $letter;
} 
```

[键盘](http://codepad.org/VkMaT8cb)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T06:51:53.740

这是你可以做的：

```
$strings = array(
    'user1 A',
    'user2 B',
    'user4 C',
    'user2 D',
    'user1 E',
);

$arr = array();

foreach ($strings as $string) {
    $values = explode(" ", $string);
    $arr[$values[0]][] = $values[1];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:49:01.833

试试这个，假设 $string 是你拥有的值的字符串：

```
$mainArr = array();
$lines = explode("\n", $string);
foreach ($lines as $line) {
    $elements = explode(' ', $line);
    $mainArr[$elements[0]][] = $elements[1];
}
print_r($mainArr); 
```

假设 $mainArr 是值数组，并且您已经拥有该数组：

```
$newArr = array(); // Declaring an empty array for what you'll eventually return.
foreach ($mainArr as $key => $val) { // Iterate through each element of the associative array you already have.
    $newArr[$key][] = $val; // Pop into the new array, retaining the key, but pushing the value into a second layer in the array.
}
print_r($newArr); // Print the whole array to check and see if this is what you want. 
```

您需要查看 PHP 中的多维数组：http: [//php.net/manual/en/language.types.array.php](http://php.net/manual/en/language.types.array.php)

# php - 多个命名空间中的 Doctrine2 实体

> ID：12721725
> 
> 赞同：9
> 
> 时间：2012-10-04T06:47:21.837
> 
> 标签：php, namespaces, doctrine-orm, entity, zend-framework2

我正在使用 Zend Framework 2 开发一个 Web 应用程序，它将由几个模块组成，我想将实体类放在它们所属的模块中。

是否可以使用 Doctrine2 ORM 做到这一点？通过阅读文档，似乎总是希望所有实体至多在一个命名空间下，而我希望拥有

*   模块 1\实体
*   模块 2\实体
*   等等...

这怎么可能？

谢谢大家！

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-04T08:17:55.320

教义配置的第一步是在您的全局配置文件中设置连接。我个人在两个文件中执行此操作，第一个是`./config/autoload/global.php`，第二个是`./config/autoload/local.php`

这是出于一个原因，即任何包含的内容`local`都不会发布到我的 git 存储库中。所以我的凭据是安全的。

**./config/autoload/global.php**

```
return array(
  'doctrine' => array(
    'connection' => array(
      'orm_default' => array(
        'driverClass' => 'Doctrine\DBAL\Driver\PDOMySql\Driver',
        'params' => array(
          'host'     => 'localhost',
          'port'     => '3306',
          'dbname'   => 'dbname'
        )
      )
    )
  ),
); 
```

**./config/autoload/local.php**

```
return array(
  'doctrine' => array(
    'connection' => array(
      'orm_default' => array(
        'params' => array(
          'user'     => 'root',
          'password' => ''
        )
      )
    )
  ),
); 
```

第二步是为您的实体创建驱动程序。这是在模块命名空间基础上完成的。

**./modules/ModuleNamespace/config/module.config.php**

```
<?php
namespace ModuleNamespace;

return array(
  //... some more configuration

  'doctrine' => array(
    'driver' => array(
      __NAMESPACE__ . '_driver' => array(
        'class' => 'Doctrine\ORM\Mapping\Driver\AnnotationDriver',
        'cache' => 'array',
        'paths' => array(__DIR__ . '/../src/' . __NAMESPACE__ . '/Entity')
      ),
      'orm_default' => array(
        'drivers' => array(
          __NAMESPACE__ . '\Entity' => __NAMESPACE__ . '_driver'
        )
      )
    )
  )
); 
```

那里发生了什么？好吧，我们通过添加一个新的驱动程序来扩展教义['driver'] 数组。驱动程序具有我们模块的命名空间。为此，我们还需要在配置文件中定义命名空间。驱动程序定义该驱动程序的所有实体都在某个路径内。

下一步是`orm_defaults`通过定义所有`ModuleNamespace\Entity`类都从我们的`ModuleNamespace_driver`配置中加载的分配来扩展驱动程序。

最终这是针对每个模块完成的。因此，无论您是否拥有一个`Filemanager\Entity\File`或多个`PictureDb\Entity\File`课程，两者都可以工作并且都将被加载。模块本质上是相互独立的。尽管它们可以有依赖关系，或者更确切地说可以很好地协同工作，但它们可以独立运行。所以具有多个实体的多个模块根本没有问题；）

我希望这能让你稍微理解这个话题。对于实时工作示例，我写了两篇涵盖该主题的博客文章。

*   [为 Zend Framework 2 安装 Doctrine 2](http://samminds.com/2012/07/install-doctrine-2-for-zend-framework-2/)
*   [教义 2 的第一步](http://samminds.com/2012/07/a-blog-application-part-1-working-with-doctrine-2-in-zend-framework-2/)

这些也可能对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-14T10:26:55.013

如果您使用**DoctrineORMModule** *代理*将被写入*/data/DoctrineORMModule/Proxy*。我不确定您是否必须手动创建文件夹并调整权限。

注意：由于某种原因，*ZendSkeletonApplication*没有设置命名空间！ [ZendSkeletonApplication/module/Application/config/module.config.php](https://github.com/zendframework/ZendSkeletonApplication/blob/master/module/Application/config/module.config.php#L2)

如果您忘记在每个*module.config.php中设置***命名空间**，您可能会收到此错误！ *在链配置的命名空间 ZfcUser\Entity、\Entity、ZfcUserDoctrineORM\Entity 中找不到类 ...*

# android - 我可以阻止 Android 相机旋转吗？

> ID：12721727
> 
> 赞同：0
> 
> 时间：2012-10-04T06:47:27.140
> 
> 标签：android, rotation, actionbarsherlock

我在我的应用程序中使用 SherlockActionBar 菜单。现在，我的整个应用程序设置为仅在纵向模式下使用所有活动：

```
"android:screenOrientation="portrait" 
```

现在，发生的事情是，我从我的应用程序中打开相机，拍照，然后在返回时进行一些编辑，这或多或少都很好。

如果我在 Android 2.2 上拍照时转动相机，在“恢复”期间，我可以在横向模式下看到我的应用一小会儿，然后它发现它不应该处于横向模式，它会旋转回纵向模式但是我的操作栏加倍，我得到两个图标，两个菜单，然后如果我继续使用我的应用程序它会崩溃。

这是日志：

```
10-04 08:34:24.602: E/AndroidRuntime(8954): FATAL EXCEPTION: main
10-04 08:34:24.602: E/AndroidRuntime(8954): java.lang.NullPointerException
10-04 08:34:24.602: E/AndroidRuntime(8954):     at android.graphics.Canvas.drawBitmap(Canvas.java:1115)
10-04 08:34:24.602: E/AndroidRuntime(8954):     at my.specapp.apps.BitmapRender.onDraw(BitmapRender.java:58)
10-04 08:34:24.602: E/AndroidRuntime(8954):     at android.view.View.draw(View.java:6739)
10-04 08:34:24.602: E/AndroidRuntime(8954):     at android.view.ViewGroup.drawChild(ViewGroup.java:1648)
10-04 08:34:24.602: E/AndroidRuntime(8954):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1375)
10-04 08:34:24.602: E/AndroidRuntime(8954):     at android.view.View.buildDrawingCache(View.java:6499) 
```

这很可能是绘制第二个菜单的地方，然后如果我继续它会崩溃：

```
10-04 08:35:05.242: E/AndroidRuntime(8966): FATAL EXCEPTION: main
10-04 08:35:05.242: E/AndroidRuntime(8966): java.lang.RuntimeException: Unable to start activity ComponentInfo{bla bla/bla bla.MainActivity}: java.lang.NullPointerException
10-04 08:35:05.242: E/AndroidRuntime(8966):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2787)
10-04 08:35:05.242: E/AndroidRuntime(8966):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2803)
10-04 08:35:05.242: E/AndroidRuntime(8966):     at android.app.ActivityThread.access$2300(ActivityThread.java:135) 
```

如果我不转动设备，我不会遇到这种问题，所以我想我可以以某种方式要求设备不允许相机转向横向，或者我必须阻止我的应用程序进入横向模式，然后就完成了通过清单，所以我不明白如何解决它。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:55:49.417

尝试将下一行添加到您的相机类：

```
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT); 
```

或到 android 清单：

```
<activity android:name=".activityname" android:orientation="portrait"/> 
```

# algorithm - 香槟金字塔分布拼图

> ID：12721730
> 
> 赞同：3
> 
> 时间：2012-10-04T06:47:38.020
> 
> 标签：algorithm

我最近采访了微软，他们问我以下难题，我必须为此编写一个算法和随附的测试用例。我无法破解它，它对我来说仍然是一个谜。

问题陈述 ：

香槟金字塔是由香槟酒杯制成的金字塔，每个杯的容量相等，例如，n。金字塔从顶层的一个玻璃杯开始，第二层的两个玻璃杯，然后再下面的三个玻璃杯，依此类推，直到无限层。因此，金字塔的第 x 层有 x 号。香槟杯。

源源不断的香槟从顶层倾泻而下，滴落到较低的楼层。在给定级别 i 的玻璃杯中香槟的分布是什么？

这个问题非常抽象，这些都是我得到的所有输入。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T07:01:03.630

我相信答案是[正态分布。](http://en.wikipedia.org/wiki/Normal_distribution)

看一下图表：

```
 |1|
           ---
        |2|   |3|
        ---   ---
     |4|   |5|   |6|
     ---   ---   ---
   |7|  |8|   |9|   |10|
   ---  ---   ---   ---- 
```

假设你有一个 X 流

1 将均匀地流入 2,3，因此每个得到 1/2X
每个将均匀地流入它下面的玻璃，所以 4 得到 1/4X，6 得到 1/4X，5 得到 2*1/4X= 1/
2X下一级——同样的原则适用：

```
7 gets 1/8X
8 gets 1/8X from 4 and 1/4X from 5, totaling 3/8X,
9 gets same as 8 and 10 same as 8. 
```

在无穷大 - 它应该收敛到正态分布。

在任何有限数处`i`- 它应该是`f(i,n)/ 2^(i-1)`水平多项式的`f(i,n)`第`n`th 个[二项式数。](http://en.wikipedia.org/wiki/Binomial_theorem)`i`正如@veredmarald 在评论中指出的那样，该分布函数实际上是p = 1/2 的[二项分布，因此为您提供](http://en.wikipedia.org/wiki/Binomial_distribution)`flow(i)~Bin(i-1,1/2)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:30:19.310

我相信分布是均匀的，即使香槟的流动遵循二项分布，它在无穷远处接近正态分布。

玻璃尺寸具有有限的体积。

# maven - 在 Maven 中创建专属配置文件

> ID：12721732
> 
> 赞同：0
> 
> 时间：2012-10-04T06:47:57.973
> 
> 标签：maven, maven-profiles

我目前有一个带有特定平台配置文件的 pom（例如 linux 32 位、windows 64 位等）。此外，我已将其设置为自动选择调用者的平台作为默认值。

现在，假设我在一台 linux 32 机器上：我还想通过调用为 win64 构建，`mvn -Pwin64 pakage`但这样做，linux32 和 win64 配置文件都被激活。我尝试`activeProfiles`使用`ativation`标签激活本地平台配置文件。问题在于 -P 不会禁用所有其他配置文件，如[文档](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)中所述：

> 此选项采用一个参数，该参数是以逗号分隔的要使用的配置文件 ID 列表。指定此选项时，不会激活选项参数中指定的配置文件以外的配置文件。

我理解错了吗？你会怎么处理这个？

注意：我知道我可以运行*，*`mvn -P-linux32,win64`但这仅在 linux32 平台上有效，任何错误都可能导致带有重复类的臃肿构建。

 *谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T17:41:35.987

[个人资料文档](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)中的此声明：

> 从 Maven 3.0 开始，POM 中的配置文件也可以根据 settings.xml 中活动配置文件的属性来激活。

将引导我尝试以下解决方案。每个开发人员将他的默认平台定义为他的 settings.xml 文件中的一个属性，并在需要时在 cmdline 上覆盖它。

**开发者的settings.xml**

```
<profile>
    <id>platform-config</id>
    <property>
        <name>build.platform</name>
        <value>win32</value>
    </property>
</profile>
....
<activeProfiles>
    <activeProfile>platform-config</activeProfile>
</activeProfiles> 
```

**项目的 pom.xml**

```
<project>
...
<profiles>
    <profile>
        <id>win32</id>
        <activation>
            <property>
                <name>build.platform</name>
                <value>win32</value>
            </property>
        </activation>
        ...
    </profile>
    <profile>
        <id>linux32</id>
        <activation>
            <property>
                <name>build.platform</name>
                <value>linux32</value>
            </property>
        </activation>
        ...
    </profile>
</profiles> 
```

然后，`mvn install`应该激活 win32 配置文件，因为该`build.platform`属性的默认值为 win32，而`mvn install -Dbuild.platform=linux32`将覆盖默认属性设置并改用 Linux 配置文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:32:45.987

你为什么不使用这样的平台激活配置文件：

```
<project>
    ...
    <profiles>
        <profile>
            <id>win32</id>
            <activation>
                <activeByDefault>false</activeByDefault>
                <os>
                   <name>Windows XP</name>
                                <family>Windows</family>
                                <arch>x86</arch>
                                <version>5.1.2600</version>
                        </os>
            </activation>
            ...
        </profile>
    </profiles>
</project> 
```*

# java - 如何在java中接收地图的差异？

> ID：12721735
> 
> 赞同：19
> 
> 时间：2012-10-04T06:47:59.450
> 
> 标签：java, collections, map, set, set-difference

我有两张地图：

```
Map<String, Object> map1;
Map<String, Object> map2; 
```

我需要接收这些地图之间的差异。是否存在可能是 apache utils 如何接收这种差异？现在似乎需要获取每个映射的条目集并找到 diff1 = set1 - set2 和 diff2 = set2- set1。create summary map =diff1 + diff2 后看起来很别扭。是否存在另一种方式？谢谢。

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-10-04T06:52:40.870

[谷歌番石榴](https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Maps.html#difference-java.util.Map-java.util.Map-)怎么样？：

```
Maps.difference(map1,map2) 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2014-07-17T21:53:51.883

这是一个简单的片段，您可以使用它来代替大量的 Guava 库：

```
public static <K, V> Map<K, V> mapDifference(Map<? extends K, ? extends V> left, Map<? extends K, ? extends V> right) {
    Map<K, V> difference = new HashMap<>();
    difference.putAll(left);
    difference.putAll(right);
    difference.entrySet().removeAll(right.entrySet());
    return difference;
} 
```

**[查看整个工作示例](http://ideone.com/lsnRhS)**

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-04T16:16:19.063

如果我理解得很好，您正在尝试计算两个地图条目集之间的[对称差异。](http://mathworld.wolfram.com/SymmetricDifference.html)

```
Map<String, Object> map1;
Map<String, Object> map2;

Set<Entry<String, Object>> diff12 = new HashSet<Entry<String, Object>>(map1.entrySet());
Set<Entry<String, Object>> diff21 = new HashSet<Entry<String, Object>>(map2.entrySet());
Set<Entry<String, Object>> result;

diff12.removeAll(map2.entrySet());
diff21.removeAll(map1.entrySet());
diff12.addAll(diff21); 
```

考虑到你提到的尴尬行为，让我们仔细看看上面的代码行为。例如，如果我们从上面给出的链接中获取数字示例：

```
Map<String, Object> map1 = new HashMap<String, Object>();
map1.put("a", 1);
map1.put("b", 2);
map1.put("c", 3);
map1.put("d", 4);

Map<String, Object> map2 = new HashMap<String, Object>();
map2.put("a", 1);    
map2.put("d", 4);
map2.put("e", 5); 
```

如图所示计算差异后，输出：

```
System.out.println(Arrays.deepToString(diff12.toArray())); 
```

给出：

```
[e=5, c=3, b=2] 
```

这是正确的结果。但是，如果我们这样做：

```
public class CustomInteger {
    public int val;

    public CustomInteger(int val) {
        this.val = val;
    }

    @Override
    public String toString() {
        return String.valueOf(val);
    }        
}   

map1.put("a", new CustomInteger(1));
map1.put("b", new CustomInteger(2));
map1.put("c", new CustomInteger(3));
map1.put("d", new CustomInteger(4));

map2.put("a", new CustomInteger(1));    
map2.put("d", new CustomInteger(4));
map2.put("e", new CustomInteger(5)); 
```

相同的算法给出以下输出：

```
[e=5, a=1, d=4, d=4, b=2, a=1, c=3] 
```

这是不正确的（可能会被描述为尴尬:)）

在第一个示例中，地图填充了 int 值，这些值会自动[装箱](http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html)为 Integer 值。

[Integer 类](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html)有自己的[equals](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#equals%28java.lang.Object%29)和[hashCode](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#hashCode%28%29)方法实现。

CustomInteger 类没有实现这些方法，因此它从无所不在的[Object 类中](http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html)[继承](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)它们。

[Set 接口中](http://docs.oracle.com/javase/6/docs/api/java/util/Set.html)[removeAll 方法](http://docs.oracle.com/javase/6/docs/api/java/util/Set.html#removeAll%28java.util.Collection%29)的API 文档说明如下：

> 从此集合中删除指定集合中包含的所有元素（可选操作）。如果指定的集合也是一个集合，这个操作有效地修改了这个集合，使得它的值是两个集合的不对称集合差。

为了确定两个集合中包含哪些元素，removeAll 方法使用集合元素的 equals 方法。

这就是问题所在：如果两个数值相同，整数的 equals 方法返回 true，而 Object 的 equals 方法仅在它是**同一个**对象时才返回 true，例如：

```
Integer a = 1; //autoboxing
Integer b = new Integer(1);
Integer c = 2;

a.equals(b); //  true
a.equals(c); //  false

CustomInteger d = new CustomInteger(1);
CustomInteger e = new CustomInteger(1);
CustomInteger f = new CustomInteger(2);

d.equals(e); //false
d.equals(f) // false

d.val == e.val //true
d.val == f.val //false 
```

如果它仍然有点模糊，我强烈建议阅读以下教程：

*   [学习 Java 语言](http://docs.oracle.com/javase/tutorial/java/index.html)
*   [收藏品](http://docs.oracle.com/javase/tutorial/collections/index.html)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-04T06:50:37.500

```
 Set<Entry<String, Object>> diff = new HashSet<Entry<String, Object>>((map1.entrySet()));
    diff.addAll(map2.entrySet());//Union
    Set<Entry<String, Object>> tmp = new HashSet<Entry<String, Object>>((map1.entrySet()));
    tmp.retainAll(map2.entrySet());//Intersection
    diff.removeAll(tmp);//Diff 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-05-19T20:51:14.440

基于[Vlad 的示例](https://stackoverflow.com/a/24814200/2301224)来处理不同大小的地图

```
public static <K, V> Map<K, V> mapDiff(Map<? extends K, ? extends V> left, Map<? extends K, ? extends V> right) {
        Map<K, V> difference = new HashMap<>();
        difference.putAll(left);
        difference.putAll(right);

        difference.entrySet().removeAll(left.size() <= right.size() ? left.entrySet() : right.entrySet());

        return difference;
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T06:54:10.840

尝试使用番石榴的[MapDifference](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/MapDifference.html)。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-06-19T08:20:52.310

简单的方法来做到这一点。如果你想要复杂的方式，你可以改变过滤器来比较值。

```
 Map<String, Object> map1 = new HashMap<String, Object>() {{
        put("A", "1");
        put("B", "2");
        put("C", "3");
    }};
    Map<String, Object> map2 = new HashMap<String, Object>() {{
        put("A", "1");
        put("B", "2");
        put("D", "3");
    }};
    Map<String, Object> newList = map1.keySet().stream().filter(str -> !map2.containsKey(str)).collect(Collectors.toMap(v -> v, v -> map1.get(v)));
    Map<String, Object> oldList = map2.keySet().stream().filter(str -> !map1.containsKey(str)).collect(Collectors.toMap(v -> v, v -> map2.get(v)));

    System.out.println(newList);
    System.out.println(oldList); 
```

# asp.net - 必须在参数化查询中声明标量变量“@user_code”

> ID：12721753
> 
> 赞同：1
> 
> 时间：2012-10-04T06:49:45.367
> 
> 标签：asp.net, vb.net, parameterized

Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) 处理 Me.Load

```
 Dim ds As DataSet = New DataSet()
    Dim param As SqlParameter = New SqlParameter("@user_code", SqlDbType.Char, 4)
    param.Value = "0016"
    Const sqlstr As String = "select sectors.sector_code,sector_name   from user_sectors inner join sectors on user_sectors.sector_code = sectors.sector_code  where user_code = @user_code  and sectors.sector_code not in ('z')"

    Dim da As SqlDataAdapter = New SqlDataAdapter(sqlstr, _con)
    da.Fill(ds)
    ddl.DataValueField = "sector_code"
    ddl.DataTextField = "sector_name"
    ddl.DataSource = ds.Tables(0)
    ddl.DataBind()

End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:51:50.793

向数据适配器添加参数的代码

```
 SqlConnection conn = new SqlConnection("Data 
             Source=localhost;Database=Northwind;Integrated Security=SSPI");
  SqlCommand command = new SqlCommand("GetProducts", conn);
  command.CommandType = CommandType.StoredProcedure;
  command.Parameters.Add("@CategoryID", SqlDbType.Int).Value = 1;
  SqlDataAdapter adapter = new SqlDataAdapter(command);
  DataSet ds = new DataSet();
  adapter.Fill(ds, "Products"); 
```

**像这样向您的数据适配器对象添加参数**

```
da.Parameters.Add(param) 
```

您的代码中缺少此内容

MSDN：[**将参数与 DataAdapter 一起使用**](http://msdn.microsoft.com/en-us/library/bbw6zyha%28v=vs.71%29.aspx)

# .net-4.0 - System.IO.dll 的意义何在？

> ID：12721757
> 
> 赞同：18
> 
> 时间：2012-10-04T06:50:13.383
> 
> 标签：.net-4.0, .net

据我所知，以下大多数类型现在并且一直是在`mscorlib`和/或中定义的`System.dll`。

但是，在查看 v4 框架目录（我安装了 4.5，不确定它是否也存在于 Vanilla v4 中）时，我找到了一个名为`System.IO.dll`.

在反射器中检查它，我看不到任何实际代码。我能找到的只有以下条目：

```
[assembly: TypeForwardedTo(typeof(BinaryReader))]
[assembly: TypeForwardedTo(typeof(BinaryWriter))]
[assembly: TypeForwardedTo(typeof(EndOfStreamException))]
[assembly: TypeForwardedTo(typeof(FileNotFoundException))]
[assembly: TypeForwardedTo(typeof(InvalidDataException))]
[assembly: TypeForwardedTo(typeof(IOException))]
[assembly: TypeForwardedTo(typeof(MemoryStream))]
[assembly: TypeForwardedTo(typeof(SeekOrigin))]
[assembly: TypeForwardedTo(typeof(Stream))]
[assembly: TypeForwardedTo(typeof(StreamReader))]
[assembly: TypeForwardedTo(typeof(StreamWriter))]
[assembly: TypeForwardedTo(typeof(StringReader))]
[assembly: TypeForwardedTo(typeof(StringWriter))]
[assembly: TypeForwardedTo(typeof(TextReader))]
[assembly: TypeForwardedTo(typeof(TextWriter))] 
```

所有都指向`mscorlib`（我认为，还没有检查所有这些）。我环顾四周，看不到这些类型不在`mscorlib`. 那么，有谁知道这个程序集为什么存在（为什么是现在）？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T13:28:08.707

您找到了一个*参考程序集*。这听起来可能很奇怪，因为您绝对不会在以 .NET >= 4.0 为目标的 .NET 项目中使用这样的参考程序集。您通常从开发机器上的 C:\Program Files (x86)\Reference Assemblies 目录中获取它们。但这不是使用编译器的唯一场景。当您在程序中使用 System.CodeDom 或依赖 XML 序列化时，您也会使用编译器。

System.CodeDom 和 XML 序列化的具体内容是编译器在您的用户机器上运行。而且您不能针对特定的 .NET Framework 版本。您的用户的机器没有您的机器具有的目标包。因此，它获取机器上恰好安装的任何版本。C:\Windows\Microsoft.NET\Framework\v4.0.30319 中的文件包含与已安装版本匹配的参考程序集。如果机器使用另一个 .NET 4.x 版本更新，那么这些参考程序集也会更新。

不是唯一可能的情况，您可能还会在从命令行构建时使用它们。或者在构建服务器上并决定不支付 VS 许可证，这是非常糟糕的主意。或者在 ILMerge 命令中，这是一个非常糟糕的主意。这些场景要麻烦得多。只要构建的组件位于同一台机器上，它就可以正常工作。但如果他们前往另一台机器，即安装了不同框架版本的机器，则不会。这会产生非常神秘的运行时异常，在[这个 Q+A](https://stackoverflow.com/questions/13748055/could-not-load-type-system-runtime-compilerservices-extensionattribute-from-as)中很明显。

System.IO.dll 相当奇特。只有在引用 PCL 程序集运行 System.CodeDom 时才需要它。它的主要作用是*隐藏*声明，即不应该在您选择的配置文件中使用的那种。System.IO 命名空间需要隐藏，因为以 WinRT 为目标时无法使用这些类型。但除此之外，它不包含任何类型的原因，[TypeForwardedTo] 告诉编译器该类型在台式机上受支持，并在其他地方查找声明 mscorlib.dll

# http - 为什么 request.getRequestDispatcher 不起作用？

> ID：12721759
> 
> 赞同：1
> 
> 时间：2012-10-04T06:50:16.423
> 
> 标签：http, jsp, request, response

我有一个主 JSP 和进程 JSP。在进程jsp中，我正在提交响应并将响应转发到成功页面。

```
 request.getRequestDispatcher("success.jsp").forward(request, response); 
```

我能够在服务器端提交响应。Process jsp 也能够将响应转发到成功的JSP。但网址显示例如： [http://process.jsp?param1=value1&parm2=value2](http://process.jsp?param1=value1&parm2=value2)

我希望我的输出显示干净，如 url [http://success.jsp](http://success.jsp)

请注意：这对 Java Servlet 非常有效，我刚刚尝试过。我只使用 JSP 而不是 Java servelet，因为这是我们的项目要求。

谁能建议我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:48:23.670

[`RequestDispatcher#forward()`](http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#forward%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29)应该将请求和响应对象都转发到服务器内的另一个资源。当您执行 a 时，没有响应返回给客户端`forward()` ，这就是客户端显示相同初始 URL 的原因。

为了让客户端显示另一个 URL，您可以使用[`HttpServletResponse#sendRedirect()`](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendRedirect%28java.lang.String%29). 这确实会返回给客户端，使其向您想要的 URL 发出新请求。所以改成：

```
response.sendRedirect("success.jsp"). 
```

请记住在执行此操作之前不要提交响应，否则您会得到一个`IllegalStateException`

至于您为什么说在 Servlet 上有效，我不确定为什么，但不是`forward()`应该如何工作，并且 JSP 被编译为 Servlet，因此最终它们的行为应该相同。

# c - C中的结构大小

> ID：12721760
> 
> 赞同：1
> 
> 时间：2012-10-04T06:50:16.887
> 
> 标签：c, data-structures, structure, memory-layout

```
 1 #include <stdio.h>
      2 
      3 
      4 struct test {
      5     char c;
      6     int i;
      7     double d;
      8     void *p;
      9     int a[0];
     10 };  
     11     
     12 int main (void) {
     13     struct test t;
     14     printf("size of struct is: %d\n", sizeof(t));
     15     return 0;
     16 } 
```

输出：

```
size of struct is: 20 
```

为什么`int a[0]`不考虑？

我试过了：

```
 1 #include <stdio.h>
  2 
  3 
  4 struct test {
  5     int a[0];
  6 };  
  7     
  8 int main (void) {
  9     struct test t;
 10     printf("size of struct is: %d\n", sizeof(t));
 11     return 0;
 12 } 
```

并输出：

```
size of struct is: 0 
```

`a[0]`是结构的成员。那怎么不考虑结构的大小呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T07:40:38.263

这实际上比最初看起来要复杂得多。

首先，成员`int a[0]`是标准 C 中的约束违规（“语法错误”）。您必须遇到编译器提供的扩展。

C99 之前的编译器经常使用零大小的数组来模拟*灵活数组成员*的效果，这些成员的语法`int a[]`没有限制，是 a 的最后一个成员`struct`。

对于整体的大小`struct`，这样的数组本身不算数，但它可能会施加对齐约束。特别是，它可能会在结构的其他部分的末尾添加填充。如果你做同样的测试

```
struct toto {
   char name[3];
   double a[];
}; 
```

（`[0]`如果您的编译器需要它），您很可能会看到`4`或的大小`8`，因为这些通常是`double`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:53:41.157

现在试试这个：

```
 1 #include <stdio.h>
  2 
  3 
  4 struct test {
  5     int a[0];
  6 };  
  7     
  8 int main (void) {
  9     struct test t;
 10     printf("size of struct is: %d\n", sizeof(t)==sizeof(t.a));
 11     return 0;
 12 } 
```

如果你的银行账户里没有钱，你根本就没有钱:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:02:03.150

`array`零元素的大小是`0`.you 可以检查 .`sizeof(a[0])`所以它不考虑在结构的大小中。

# joomla1.5 - 自定义 Joomla 1.5 用户注册流程

> ID：12721762
> 
> 赞同：1
> 
> 时间：2012-10-04T06:50:24.227
> 
> 标签：joomla1.5

我对 joomla 很陌生。我一直在维护我们公司的网站。谈到这个问题，该网站有一个两步的用户注册过程，用户将填写注册表单，一旦他们提交，就会向他们发送一封带有激活链接的验证邮件。一旦他们点击邮件中的激活链接，他们就会被激活。现在，由于这给我们带来了很多垃圾用户，我们想要改变这个过程。我们要做的是：当用户想要注册时，他会被要求提供他的电子邮件 ID。提供并提交电子邮件后，将向他发送一封邮件以及激活链接。单击激活链接后，他将被带到网站进行进一步注册。只有在此之后，用户才会作为有效用户被放入我们的数据库中。

所以基本上，首先我想检查电子邮件是否有效，然后才继续注册，因为电子邮件 ID 对我们的业务非常重要

请帮忙。提前致谢， 阿克谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T12:42:40.340

在他将提供他的电子邮件 ID 的数据库表中，创建一个名为“状态”的字段，该字段将只显示活动和非活动。您可以使用它来确定用户是否处于活动状态。

# css - 使用 CSS 强制元素滚动条到顶部

> ID：12721767
> 
> 赞同：0
> 
> 时间：2012-10-04T06:50:43.513
> 
> 标签：css

我的网站上有一个 100% 的屏幕宽度的容器，并且有自己的滚动条，使用`overflow: auto`. 标准滚动条不会显示在我的网站上，我使用它是因为在我的网站主层后面还有另一层也有自己的滚动条（您可以[在此处查看我的网站](http://martywallace.com/)并单击博客文章以了解我的意思） .

我有一个蓝条，我想将它固定在屏幕顶部。就以这种方式定位而言，这很容易，`position: fixed`但是栏的宽度需要是屏幕宽度的 100%，我发现该栏将与应用于其父容器的滚动条重叠。

这是一个显示我的意思的[jsFiddle ：http:](http://jsfiddle.net/xUTR2/1/) [//jsfiddle.net/xUTR2/1/](http://jsfiddle.net/xUTR2/1/)

我曾考虑根据滚动条的宽度将条向左偏移，但后来我决定我不能依赖估计不同浏览器的滚动条的宽度，如果有的话，那会留下一个差距没有滚动条。

有没有一种明显的方法可以强制滚动条在顶部呈现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:53:11.317

这是不可能以干净/稳健的方式实现的，因为您定位为固定的任何内容都是在主浏览器的上下文中（以及它拥有的任何滚动条）完成的，但是因为您删除了主体滚动条（并且您必须因为你不能在它上面放置 z-index 位置）它不认为有任何东西，但是你在它下面有这个 div 所以你唯一的选择是为这两个元素使用固定的边距和高度或使用[一些 javascript 方法](https://stackoverflow.com/questions/986937/how-can-i-get-the-browsers-scrollbar-sizes)确定顶部 div 的正确宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:10:12.157

在某些情况下，您可以通过 jquery 轻松完成此操作。

```
 $("body").load(function () {
    $('scrollable container').css('overflow-y', 'auto');
 }); 
```

尝试将蓝条和其他页面内容保存在单独的容器中，我认为它会为您解决问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:10:43.747

由于我还不能发表评论，我被迫给出答案。
如果我正确，您希望在**向下滚动时将顶部蓝色条置于固定位置，如可见**。

我个人会制作单独的容器
，例如

```
<div id='page'>
    <div id='bluebar'></div>
    <div id='content'></div>
</div> 
```

演示可以在[这里](http://limpid.nl/lab/css/fixed/header)找到 （[http://limpid.nl/lab/css/fixed/header](http://limpid.nl/lab/css/fixed/header)）

# javascript - 在 Windows Phone 8 应用程序中动态添加 HTML

> ID：12721770
> 
> 赞同：2
> 
> 时间：2012-10-04T06:51:09.410
> 
> 标签：javascript, jquery, html, jquery-mobile, windows-phone-8

我正在为 Windows Phone 8 开发一个应用程序。

基本上，该应用程序是使用 jQuery/jquery Mobile、Javascript 和 HTML 开发的，我想动态添加内容。

每当我尝试这样做时，都会发生错误，即：

```
0x800c001c - JavaScript runtime error: Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property to add script or malformed HTML will generate this exception. Use the toStaticHTML method to filter dynamic content, or explicitly create elements and attributes with a method such as createElement.  For more information, see http://go.microsoft.com/fwlink/?LinkID=247104. 
```

我搜索了一下，发现由于安全原因不能动态添加 HTML 内容。我还发现我们可以在函数中强制执行此操作：

```
MSApp.execUnsafeLocalFunction(function () {}); 
```

但问题是，在整个应用程序中，我必须动态添加 HTML 内容。因此，使用该函数编写的任何小内容都会产生额外的开销。

我要添加的 HTML 内容例如：

```
var Html = '<div class="boxgrid2 cover" style="background-image: url(images/' + varimage + '), url(images/BoxTrade.png);" ><div id="qty1" class="AniQty1 allfont">' + quantity + '</div><div id="name1" class="AniName1 allfont">' + varaname + '</div><div id="rate1" class="AniRate1 allfont">' + buyrate1 + '</div></div>';
$("#tradeAnimalDiv").html(Html); 
```

所以基本上内容包含从本地数据库获取的 div 和动态内容。

如果有任何其他解决方案或设置可用于允许动态添加 HTML 内容的权限，请帮助我。

感谢和问候

# xml - 如何从单个 HL7 文件生成两个 XML 文件并将它们作为单个记录插入到两个不同的列中？

> ID：12721771
> 
> 赞同：2
> 
> 时间：2012-10-04T06:51:12.600
> 
> 标签：xml, hl7, mirth

我的源连接器类型为“文件阅读器”，它正在读取 HL7 文件，目标连接器类型为“数据库编写器”。我的数据库表有两列

1.  参与者_信息
2.  SPR_信息

我想将单个 HL7 文件转换为两个 XML 文件，一个用于 Participant_Information 列，另一个用于 SPR_Information 列，并且需要将两者作为单个记录插入到数据库表中。

我能够一次插入一个 XML，但无法找到将这两个 XML 作为单个记录插入数据库表的方法。

非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-06T05:54:12.163

我的答案基于这个问题，以及你在评论中对我的回应。

请注意，就我而言，我引用的是 Mirth 的 1.8.2 版本。如果您使用的是更新的东西，虽然我相信这里描述的技术仍然有效，但用户界面可能会偏离我的指示。

我在这里提出两种解决这个问题的技术。虽然我个人倾向于技术 1，但如果您对 Javascript 和 E4X 不太熟悉，那么技术 2 可能会更受欢迎。

## 技术1。

使用 Javascript 转换器而不是消息生成器。使用消息构建器的挑战在于它获取输入消息，并将其转换为单个输出消息。Javascript 给你更多的力量，但前提是你知道语言。

# 一种。

使用单个 Javascript 转换器制作消息的两个副本。使用 Javascript E4X 表示法根据需要转换每个变量，然后将它们都存储在 channelMap 中。

```
// init local message variables
var messageParticipant= msg;
var messageSPR= msg.copy();

// messageParticipant transformations using E4X notation: example
messageParticipant['PID']['PID.5']['PID.5.1'][0] = 'Blah';

// messageSPR transformations using E4X notation: example
messageSPR['PID']['PID.5']['PID.5.1'][0] = 'Hey There';

// stick messages in channel map so they can be accessed in your SQL script
channelMap.put('messageParticipant', messageParticipant);
channelMap.put('messageSPR',messageSPR); 
```

# 湾。

在您的 SQL 代码中引用两个 channelMap 变量。

```
INSERT INTO report_queue (PARTICIPANT_IDENTIFICATION, SPR_Information)
VALUES (${'messageParticipant'}, ${'messageSPR'}) 
```

## 技术2。

如果您不太习惯使用 Javascript 进行转换，您可能会发现这种技术更容易一些——不过，我觉得解释起来有点棘手。

基本上，您将拥有三个目的地，并且您将强制它们按顺序执行。第一个目的地为 PARTICIPANT_IDENTIFICATION 构建 XML，第二个目的地为 SPR_Information 构建 XML。前两个目的地实际上并没有在除了 channelMap 之外的任何地方发送消息。第三个目的地利用前两个的结果，并运行 SQL 代码。

# 一种。

在摘要选项卡上，确保选中“同步频道”。这将强制三个目的地按顺序执行。

# 湾。

在目标选项卡上，除了现有的数据库编写器之外，还创建两个 Javascript 编写器。组织三个目的地按此顺序出现：

```
Destination           Connector Type
---------------------------------------
Build Participant     JavaScript Writer
Build SPR             JavaScript Writer
SQL                   Database Writer 
```

# C。

选择目标“Build Participant”，然后在 Javascript 文本区域中输入以下内容：

```
channelMap.put('messageParticipant', messageObject.getTransformedData()); 
```

# d。

选择目标“Build SPR”，然后在 Javascript 文本区域中输入以下内容：

```
 channelMap.put('messageSPR', messageObject.getTransformedData()); 
```

# e.

在 Sql 目标中，使用与技术 1 中相同的 SQL 代码。

```
INSERT INTO report_queue (PARTICIPANT_IDENTIFICATION, SPR_Information)
VALUES (${'messageParticipant'}, ${'messageSPR'}) 
```

# F。

对于两个 Javascript 目标中的每一个： i. 点击“编辑变压器” ii. 单击选项卡“消息模板 iii. 在“出站消息模板”部分中，确保数据类型设置为 XML。iv. 添加您需要的所有转换器步骤，并随意使用类型消息生成器。（在目标构建参与者，您将添加适用于参与者 XML 的转换器步骤。同样适用于目标构建 SPR）。

# G。

SQL 目标不应有任何转换器。如果是这样，它们不会对输出产生任何影响。

祝你好运

# php - CodeIgniter 的 Mahana 模块

> ID：12721772
> 
> 赞同：2
> 
> 时间：2012-10-04T06:51:19.887
> 
> 标签：php, codeigniter, module, messaging

我正在 CodeIgniter 中创建一个应用程序，我需要一个消息库模块，我得到了一个库名称 Mahana。链接如下。

[https://github.com/jrmadsen67/Mahana-Messaging-library-for-CodeIgniter/tree/master/application](https://github.com/jrmadsen67/Mahana-Messaging-library-for-CodeIgniter/tree/master/application)

但我无法应用它，因为它没有控制器和视图部分。我对 CodeIgniter 很陌生。任何人都可以为我提供整个 Mahana Librery 或 CodeIgniter 的任何其他消息库的任何链接吗

谢谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T08:51:23.503

你怎么了 ？首先，您必须在数据库中创建来自转储 mahana.sql 的表，然后使用配置文件*config/mahana.php*（**USER_TABLE_TABLENAME、USER_TABLE_ID**和**USER_TABLE_USERNAME**）中的变量来集成快速表访问。要使用库，只需放入您的控制器：

```
$this->load->library('mahana_messaging'); 
```

之后，当您想要获取消息时，创建一个对象，并将消息 id 和发件人 id 放入方法 *get_message* 中，它将返回一条消息，包括指定用户的状态。

```
$mahana = new Mahana_messaging();
$msg = $mahana->get_message($msg_id, $sender_id); 
```

你也可以使用 *get_full_thread* 方法获取对话的完整线程，它会返回一个完整的线程对话。要发送一条新的内部消息，即创建一个新线程，您必须使用方法 *send_new_message* 并传递发件人 ID、收件人、主题、正文，最后是优先级（此信息通常来自Web 表单，您之前创建的）

```
function send_new_message($sender_id, $recipients, $subject='', $body='', $priority=PRIORITY_NORMAL) 
```

等等...还有其他功能可以让您回复消息，获得参与者...干得好

这有帮助吗？？？？

# c++ - 如何将值与给定的对齐方式对齐

> ID：12721773
> 
> 赞同：9
> 
> 时间：2012-10-04T06:51:30.170
> 
> 标签：c++, math

我有一个想要与给定对齐方式对齐的值，即如果它尚未对齐，则将该值增加到对齐的下一个倍数。

在 C++ 中执行此操作的简洁方法是什么？

例如

```
int x;
int alignment;
int y = ???; // align x to alignment 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-04T06:56:58.390

可以说对齐是`a`

```
---(k-1)a-----------x--------------ka---------
         <----r----><-----(a-r)---> 
```

其中`k`是一个整数（`ka`对齐的倍数也是如此）

先找余数

`r = x%a`

然后将 x 递增到下一个倍数

`y = x + (a-r)`

但是如果 r = 0，那么 y = x

所以最后

```
r = x%a;
y = r? x + (a - r) : x; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-10-28T15:51:04.473

如果对齐是 2 的幂，并且机器对负数使用 2 的补码，则：

```
mask = alignment - 1;
aligned_val = unaligned_val + (-unaligned_val & mask); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-09-27T10:22:05.480

从我的片段库：

```
template <typename I=size_t>
inline I IntAlign( I sz, I step=16,  I min=16  ) {
  auto s = std::max(sz+step-1,min);
  return s - s%step;
} 
```

数学很简单，所以......这是测试代码的一个片段：

```
TEST(Sz,Basic) {
  EXPECT_EQ( 16U, IntAlign(0U) );
  EXPECT_EQ( 16U, IntAlign(1U) );
  EXPECT_EQ( 8U, IntAlign(5U,8U,8U) );
  EXPECT_EQ( 8U,  IntAlign(7U,8U,8U) );
  EXPECT_EQ( 64U,  IntAlign(7U,8U,64U) );

  EXPECT_EQ( 16, IntAlign(0) );
  EXPECT_EQ( 16, IntAlign(1) );
  EXPECT_EQ( 8, IntAlign(8,8,8) );
  EXPECT_EQ( 8,  IntAlign(7,8,8) );
  EXPECT_EQ( 64,  IntAlign(7,8,64) );
} 
```

> **笔记！**
> 从您的用例中添加测试并在需要时对其进行修复。没有任何保证！

# android - 将水印小图像添加到大图像opencv4android

> ID：12721774
> 
> 赞同：5
> 
> 时间：2012-10-04T06:51:39.653
> 
> 标签：android, image, opencv, image-processing, watermark

我一直在尝试将图像添加到所需位置的大图像。我找到了一种通过 addWeighted(src, alpha, water,--,dst,--) 在 opencv 中添加水印的方法，但问题是水印和表面图像的大小应该相同，这是我不想要的。

找到了另一种方式（我猜）

```
Mat srcMat = cvCanvasImage.submat(top/2, (top + height)/2, left/2, (left + width)/2);
Imgproc.cvtColor(mat, srcMat, Imgproc.COLOR_GRAY2BGR,4); 
```

但我不明白如何做到这一点？

谢谢..

**更新**

```
 Mat cvCanvasImage = Highgui.imread(Environment.getExternalStorageDirectory() + "/wallpapers/castle.jpg");

 // Small watermark image
Mat cvWaterImage = Highgui.imread(Environment.getExternalStorageDirectory() +"/square.png");

Size canvasSize = cvWaterImage.size();

   int rows = (int) canvasSize.height;
   int cols = (int) canvasSize.width;       
   int left = 0;
   int top = 0;         
   int width = rows;
   int height = cols;

   Rect ROI = new Rect(left, top, width, height);
   Core.addWeighted(cvCanvasImage.submat(ROI), alpha, cvWaterImage, beta, 0, cvCanvasImage.submat(ROI)); 

  //now it throws me this error   

                             "error: (-209) The operation is neither 'array op array' (where arrays have the same size and the same number of channels), nor 'array op scalar', nor 'scalar op array' in function void cv::arithm_op(const cv::_InputArray&, const cv::_InputArray&, const cv::_OutputArray&, const cv::_InputArray&, int, void (**)(const uchar*, size_t, const uchar*, size_t, uchar*, size_t, cv::Size, void*), bool, void*)" 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T04:45:11.187

我找到了一种正确的方法。

```
Mat b = Highgui.imread(Environment.getExternalStorageDirectory() + "/castle.jpg");

// Small watermark image
Mat a = Highgui.imread(Environment.getExternalStorageDirectory() +"/square.png");

Mat bSubmat = b.submat(a.rows(), a.rows()*2, a.cols(), a.cols()*2);        
a.copyTo(bSubmat);

Highgui.imwrite("mnt/sdcard/SubmatCopyToTest.png", b); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T09:07:26.260

像这样的东西应该工作：

```
Mat waterMark = new Mat(width, height); //assumed as a smaller image than your source mat, with size (width, height).

Rect ROI = new Rect(x, y, width, height); // Position and size of your watermark;

Core.addWeighted(source.submat(ROI), alpha, waterMark, beta, gamma, source.submat(ROI)); 
```

# extjs4 - 从 Extjs 4.0.7 转换为 Extjs 4.1

> ID：12721775
> 
> 赞同：0
> 
> 时间：2012-10-04T06:51:41.383
> 
> 标签：extjs4, extjs4.1

我已经在 extjs 4.0.7 中开发了一个应用程序。现在如果我想使用 extjs 4.1。以进一步实施该应用程序。

可能吗？请帮助我，如果答案是肯定的。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:05:42.000

当然升级也是可以的。将 extjs 脚本（ext-all.js 等）从 4.0.7 替换为 4.1。在大多数情况下，您应该不会遇到任何问题，因为这主要是一个以性能为中心的版本。[http://www.sencha.com/blog/whats-new-in-ext-js-4-1](http://www.sencha.com/blog/whats-new-in-ext-js-4-1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-17T11:49:37.777

是的，您可以将您的应用程序从 extjs 4.0.7 升级到 4.1.1 为此，您需要替换您的`ext-all.js/ext-debug-all.js`（出于调试目的），但替换后您可能会遇到一些与语法相关的问题，例如在编辑器中，以前我们使用的是记录，而不是其中我们需要使用`e.record`.

```
listeners : {
  'edit' : function(editor, e) {
    var grid = e.grid;
    var record = e.record;
  }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T06:57:59.110

从[Extjs 4.0.7 转换为 Extjs 4.1](http://www.sencha.com/forum/showthread.php?198501-ExtJS-4.0.7-to-4.1.0-Conversion)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T17:40:35.097

如果您在面板标题上使用任何自定义图像，则 ext-all.css 存在一些问题。小心它。而且面板中的 html 属性也不起作用。

# excel - 工作表粘贴值/另存为，然后使用 vba 返回原始文件

> ID：12721781
> 
> 赞同：0
> 
> 时间：2012-10-04T06:51:55.300
> 
> 标签：excel, vba

我有一个工作簿，它执行几个依赖于一个变量并自行填写的 Excel 函数。我有一个循环来创建这些表单并保存在一个目录中，但在此之前我想复制所有并粘贴特殊以便公式消失。

```
Sub SaveAs1()
For i = 172 To 225 
    Dim SaveName As Integer
    SaveName = ActiveWorkbook.Sheets(1).Range("bi1").value
    Application.ActiveWorkbook.SaveAs "C:\" & SaveName
    Range("bi1") = i + 1
Next
End Sub 
```

***我终于用试错法弄清楚了***

```
Sub Save()

Rem kaydetmece dongusu

For i = 172 To 180 Step 1

    Application.DisplayAlerts = False

    Workbooks.Open Filename:="C:\"

    Range("bi1") = i + 1

    Dim SaveName As Integer
    SaveName = ActiveWorkbook.Sheets(1).Range("bi1").value

    Range("A1:BE63").Select
    Range("a1").Activate
    Selection.Copy
    Selection.PasteSpecial Paste:=xlPasteValues, Operation:=xlNone, SkipBlanks _
        :=False, Transpose:=False
    Application.CutCopyMode = False

    Application.ActiveWorkbook.SaveAs "C:\" & SaveName

    Columns("BE:BU").Select
    Selection.Delete Shift:=xlToLeft

    Sheets("CAL").Select
    ActiveWindow.SelectedSheets.Delete

    Sheets("sahadan").Select
    ActiveWindow.SelectedSheets.Delete

    ActiveWorkbook.Close True

Next

End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T08:41:43.977

如果您要询问如何粘贴值，这就是您的操作方式。将“A1”替换为您需要使用的实际范围。

```
Range("A1").Copy
Range("A1").PasteSpecial xlPasteValues 
```

# android - 安装apk时执行具体操作？

> ID：12721783
> 
> 赞同：0
> 
> 时间：2012-10-04T06:52:01.413
> 
> 标签：android, database-schema, android-install-apk

我已经更新了应用程序的数据库。但是从市场上更新应用程序的用户每次启动应用程序时都会看到崩溃，因为新的数据库结构与旧数据库不兼容。要求他们卸载和安装应用程序不好，我需要在安装时只执行一次操作，即清除旧数据库并创建新数据库。这不应该在每次应用程序启动时调用，只能在安装时调用..或应用程序第一次启动时。

我想我已经清楚地定义了我的情况，现在我该去哪里？我应该让用户卸载和安装应用程序还是可以按照我的要求去做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:54:59.730

只需更改数据库的版本并覆盖`onUpgrade`您的`DatabaseHelper`类。

```
 private static final int DATABASE_VERSION = 2;

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        Log.w(TAG, "Upgrading database from version " + oldVersion + " to " + newVersion
                + ", which will destroy all old data");

        db.execSQL("DROP TABLE IF EXISTS " + TABLE_CREATION);
        onCreate(db);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:55:26.297

为什么不实现的 [onUpgrade()](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html#onUpgrade%28android.database.sqlite.SQLiteDatabase,%20int,%20int%29)方法`SQLiteOpenHelper`？这个类提供了有用`onCreate()`的`onUpgrade()`方法。

请参见此处：[是否调用过 onUpgrade 方法？](https://stackoverflow.com/q/3163845/615882)

或者在这里：[如何在 Android 上升级应用程序后更新表架构？](https://stackoverflow.com/questions/2232321/how-to-update-table-schema-after-an-app-upgrade-on-android)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:55:51.997

首先，清除旧数据库并创建一个新数据库确实是个坏主意（看到那里的数据丢失，用户会非常生气）。

您应该始终尝试使用新的列和内容来升级以前的数据。您应该始终尝试更改表的结构而不清除数据，而不是清除整个数据。

另一件事是您可以在 DBHelper 类的 onUpgrade() 方法中升级到新数据库。

# c++ - Visual c++ 项目中的#define _WIN32_DCOM a 是什么？

> ID：12721785
> 
> 赞同：8
> 
> 时间：2012-10-04T06:52:35.463
> 
> 标签：c++, com, activex, dcom

什么是

```
#define _WIN32_DCOM 
```

在视觉 C++ 项目中？如果我想将应用程序构建为 x64，是否需要将其更改为 WIN64_DCOM 对象？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-12T16:41:18.977

[来自 Microsoft 支持：](http://support.microsoft.com/kb/158723)

> 如果您的自定义接口使用 BSTR、VARIANT 或 SAFEARRAY，并且如果您只想在 DCOM 平台上使用自定义接口封送代码，则可以使用 MIDL 生成的封送代码。您需要在 MIDL 生成代码的构建过程中使用 -D_WIN32_DCOM 作为 C 编译器标志。否则，将生成一个编译器错误，表明您的代码只有在您将其标记为仅可在 DCOM 平台上运行时才能编译。

该符号为逻辑符号，在 Windows 64 位下可以原样使用

# mongodb - MongoDB 分组

> ID：12721787
> 
> 赞同：4
> 
> 时间：2012-10-04T06:52:39.880
> 
> 标签：mongodb, aggregation-framework

如何在 Mongodb 中进行查询以查找用户对某个位置的进入和退出组的计数。上述集合有许多用户可以进入或退出的位置。

```
{ "ActivityList" : [ 
{ "type" : "entry",
  "timestamp" : Date( 1344473257320 ),
  "user" : { "$ref" : "userProfile",
    "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } }, 
  { "type" : "exit",
  "timestamp" : Date( 1348792321111 ),
  "user" : { "$ref" : "userProfile",
    "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } }, 
{ "type" : "entry",
  "timestamp" : Date( 1348881701129 ),
  "user" : { "$ref" : "userProfile",
    "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } }, 
{ "type" : "exit",
  "timestamp" : Date( 1348942808700 ),
  "user" : { "$ref" : "userProfile",
    "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } }, 
{ "type" : "entry",
  "timestamp" : Date( 1348957400052 ),
  "user" : { "$ref" : "userProfile",
    "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } }, 
{ "type" : "exit",
  "timestamp" : Date( 1349024290729 ),
  "user" : { "$ref" : "userProfile",
    "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } } ],
"Loc" : { "$ref" : "location",
      "$id" : ObjectId( "501cb6d4e7e9a8f958f903c5" ) },
 "_id" : ObjectId( "502308a9e7e91ab176f6708e" ) } 
```

我正在尝试这样的事情但没有成功，[请参见此处](http://www.mongodb.org/display/DOCS/Aggregation)

```
select a,b,sum(c) csum from coll where active=1 group by a,b

db.coll.group(
       {key: { a:true, b:true },
        cond: { active:1 },
        reduce: function(obj,prev) { prev.csum += obj.c; },
        initial: { csum: 0 }
        }); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T12:55:16.520

您正在使用的文档结构（项目数组）将需要在函数中进行一些操作，使用 MapReduce 或MongoDB 2.2 中的新[聚合框架](http://docs.mongodb.org/manual/applications/aggregation/)`$group()`更容易完成。

这是使用聚合框架的示例：

```
db.activity.aggregate(

    // Find matching documents first (can take advantage of index)
    { $match : {
        Loc: DBRef("location", ObjectId("501cb6d4e7e9a8f958f903c5"))
    }},

    // Unwind the ActivityList array as a document stream
    { $unwind : "$ActivityList" },

    // Group the stream by activity types for a user
    { $group : {
        _id : "$ActivityList.user",
        activity: { $push: "$ActivityList.type" } 
    }},

    // Unwind the activity types so they can be counted
    { $unwind : "$activity" },

    // Final grouping: count of action (entry or exit) for each user
    { $group : {
        _id : { user: "$_id", action: "$activity" },
        count: { $sum: 1 }
    }}
) 
```

产生类似于以下的结果：

```
{
    "result" : [
        {
            "_id" : {
                "user" : DBRef("userProfile", ObjectId("4fdeaf6fde26fd298262bb81")),
                "action" : "exit"
            },
            "count" : 6
        },
        {
            "_id" : {
                "user" : DBRef("userProfile", ObjectId("4fdeaf6fde26fd298262bb81")),
                "action" : "entry"
            },
            "count" : 3
        },
        {
            "_id" : {
                "user" : DBRef("userProfile", ObjectId("4fdeaf6fde26fd298262bb82")),
                "action" : "entry"
            },
            "count" : 2
        },
        {
            "_id" : {
                "user" : DBRef("userProfile", ObjectId("4fdeaf6fde26fd298262bb85")),
                "action" : "entry"
            },
            "count" : 1
        }
    ],
    "ok" : 1
} 
```

# html - 如何在 kendo ui 中验证多个电子邮件

> ID：12721789
> 
> 赞同：2
> 
> 时间：2012-10-04T06:52:45.417
> 
> 标签：html, kendo-ui

我给了喜欢

```
<td> <label for="email" class="required">To:</label></td>
       <td><input type="email" id="email" name="Email" class="k-textbox" placeholder="e.g. myname@example.net"  required data-email-msg="Email format is not valid"  "/></td> 
```

并且在

```
document.ready(function(){} 
```

我已经定义为

```
var validator = $("#email").kendoValidator().data("kendoValidator"); 
```

它正在验证单个电子邮件，我想一次验证多个电子邮件。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:52:03.327

然后，您应该将属性添加`multiple`到输入标签：

```
<input type="email" 
       id="email" 
       name="Email" 
       class="k-textbox" 
       placeholder="e.g. myname@example.net" 
       required 
       data-email-msg="Email format is not valid" 
       multiple="multiple"/> 
```

您现在可以添加多个以逗号分隔的电子邮件地址。

# sql-server-2012 - 在 EF4.1 和 SQL 2012 中使用事务 - 为什么需要 DTC？

> ID：12721792
> 
> 赞同：0
> 
> 时间：2012-10-04T06:52:59.247
> 
> 标签：sql-server-2012, transactionscope, msdtc

我一直在做大量的阅读，其中一些文档似乎与现实无关。一些潜在的原因在这里是合适的，但它们只与 2008 年或更早的时间有关。

我定义了一个事务范围。我在事务范围内使用了许多不同的 EF 上下文（在不同的方法调用中），但是除了其中一个之外，它们都仅用于数据读取。Context的最终用途是创建并添加一些新对象到上下文中，然后调用

```
context.SaveChanges() 
```

IIS 在一台服务器上运行。DB (Sql2012) 正在另一台服务器 (WinServer 2012) 上运行。

当我执行此代码时，我收到错误：

> 分布式事务管理器 (MSDTC) 的网络访问已被禁用。请使用组件服务管理工具在 MSDTC 的安全配置中启用 DTC 以进行网络访问。

显然，如果我在 IIS 机器上启用 DTC，这就会消失。但是我为什么需要？

这个：

[http://msdn.microsoft.com/en-us/library/ms229978.aspx](http://msdn.microsoft.com/en-us/library/ms229978.aspx)

状态：

> • 在事务中登记了至少一个不支持单阶段通知的持久资源。• 在事务中登记了至少两个支持单阶段通知的持久资源

我的理解不是这里的情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T00:51:31.690

好的。我不完全确定这是否应该发生（根据 MS doco），但我已经弄清楚了原因和解决方案。

我正在使用 ASPNet 成员资格提供程序，并且在我的 web.config 中有两个连接字符串。我认为他们指向同一个数据库这一事实足以让他们被认为是同一个“持久资源”。

但是我发现会员连接字符串也有：

```
Connection Timeout=60;App=EntityFramework 
```

而实体框架连接字符串没有。

将这些值设置为相同的连接字符串意味着事务不会升级到 MSDTC。

# google-apps-script - Google Apps 脚本中的服务器错误

> ID：12721797
> 
> 赞同：1
> 
> 时间：2012-10-04T06:53:14.840
> 
> 标签：google-apps-script

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:06:45.770

GAS 问题跟踪器上有一个[关于此问题的主题。](http://code.google.com/p/google-apps-script-issues/issues/detail?id=1847)请给它加星号以促进它的支持。

> 如何摆脱这些消息？

现在的解决方案是在您的电子邮件系统中过滤此类消息，或者等待 GAS 团队修复它。

# c++ - OpenCV：我是否正确声明了矩阵？

> ID：12721798
> 
> 赞同：1
> 
> 时间：2012-10-04T06:53:25.353
> 
> 标签：c++, opencv, for-loop, matrix, type-conversion

我想改变：

```
int q[10] ;
double weight[10];

for ( int i = 0; i < 10; i ++ ) 
{
    q ++ ;
    weight[i] = 10;
} 
```

变成 cv::Mat 形式，所以我这样做了：

```
cv::Mat q = cv::Mat ( 1, 10, CV_8UC3 );
cv::Mat w = cv::Mat ( 1, 10, CV_8UC3 );    

for ( int i = 0; i < 10; i ++ )
{
    uchar* p = q.ptr ( i );
    *p += 1; 
}
    weight.setTo ( 10 ); 
```

代码编译没有错误，但由于我没有任何参考来判断结果，我怀疑我的更改可能有错误。还是我在这里做所有事情？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:11:36.487

`int q[10]`将改为`cv::Mat q = cv::Mat(1,10,CV_32SC1);`

`double w[10]`将更改为`cv::Mat w = cv::Mat(1,10,CV_64FC1);`.

您可以通过以下方式访问原始指针：

`int* qPtr = q.ptr<int>();`

`double* wPtr = w.ptr<double>();`

# dns - 使用 tld 进行地理定位

> ID：12721800
> 
> 赞同：0
> 
> 时间：2012-10-04T06:53:38.237
> 
> 标签：dns, seo, tld, geotargetting

我想问一下这种情况的最佳策略是什么：

我们有一个站点 example.de，我们正在为奥地利市场推出一个专用版本。由于 .de 和 .at 站点在最初几个月都使用德语，我们将在两个站点中显示相同的内容（两个域都指向相同的服务器，这些服务器选择动态显示的内容）。这是否会因为重复而惩罚我们的排名（以及我们如何告诉谷歌“at 是 de 站点的副本”）。

一两个月后，.at 用户将开始看到他们所在地区的独家内容（尽管网站的某些部分将保持不变）。

既然我们没有试图作弊或其他什么，我们如何确保谷歌不会错误地惩罚我们？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T09:45:30.397

如果您要在两个域上显示相同的内容，我建议您将一个域重定向到另一个域，否则它将被视为重复内容，最终您会丢失一些东西。

您可以使用 302 进行临时重定向，或者您可以使用 301 进行永久重定向，告诉谷歌内容已永久移动到其他域。

但是，如果您打算几个月后在两个域上保留不同的内容，那么我会说使用 302 重定向。

如果您将相同的内容放在**example.de**和**example.au**上，这不会造成任何严重的问题，因为您拥有具有相同二级域的不同 tld。

**但是，如果您在example.com**和**something.com**上放置相同的内容，则会出现一些严重的重复内容问题。

但是更好的方法是对国家/地区执行类似**example.com/us、example.com/au、example.com/uk****等**的操作，或者针对语言执行**example.com/en、example.com/fr****等**操作**。**

# mysql - 由 MAX() 区分？

> ID：12721806
> 
> 赞同：5
> 
> 时间：2012-10-04T06:54:00.590
> 
> 标签：mysql, sql

如何获得`TypeID`具有最大不同的行`EffectivityDate`？

### 原始表

```
-----------------------------------------
| ID | TypeID | Value | EffectivityDate |
-----------------------------------------
|  1 |      1 |   2.3 |      1990-01-01 |
|  2 |      1 |   3.4 |      1999-10-31 |
|  3 |      2 |   1.1 |      1990-01-01 |
|  4 |      2 |   2.2 |      1999-10-31 |
|  5 |      3 |   6.1 |      1999-10-31 |
----------------------------------------- 
```

### 查询结果

```
-----------------------------------------
| ID | TypeID | Value | EffectivityDate |
-----------------------------------------
|  2 |      1 |   3.4 |      1999-10-31 |
|  4 |      2 |   2.2 |      1999-10-31 |
|  5 |      3 |   6.1 |      1999-10-31 |
----------------------------------------- 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-04T06:55:32.123

您可以在子查询中获得它们的最大值`EffectiveDate`，然后使用自己的表再次加入它，

```
SELECT  a.*
FROM    tableName a
        INNER JOIN
        (
            SELECT TypeID, MAX(EffectivityDate) maxDate
            FROM tableName
            GROUP BY TypeID
        ) b ON  a.TypeID = b.TypeID AND
                a.EffectivityDate = b.maxDate 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/9ac97/1)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-04T06:56:12.507

试试这个：

```
select * 
from   your_table t
join
       (select TypeID ,max(EffectivityDate ) as EffectivityDate 
        from your_table
        group by TypeID )a
on   t.TypeID =a.TypeID 
and  t.EffectivityDate =a.EffectivityDate 
```

# vb.net - 我们如何在 Crystal Report 中将字符串转换为时间格式？

> ID：12721807
> 
> 赞同：0
> 
> 时间：2012-10-04T06:54:02.727
> 
> 标签：vb.net, crystal-reports, business-objects

我有一个数据库可以访问的报告。现在我们迁移了该报告，数据库是 SQL SERVER。我们有一个字段 seltime，其中 sql server 数据类型是“时间”。但是当报告被迁移时，我们得到了 seltime 的公式字段细绳。

我们在公式字段中有一些计算，当我们尝试以 24 格式显示它时会引发错误。

为什么“时间”数据类型在报告中转换为字符串？如果是这样，如何在报告格式字段中将字符串转换为 24 格式？我们在这里得到的值是'10:50:00.0000'。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T13:28:41.140

经过大量 RDI 为我的问题找到了解决方案。

```
CStr(Time(Left ({interview.seltime},5)), "h:mm tt", "AM", "PM") + "  " + Cstr(date({interview.seltime}),"dddd d MMMM, yyyy") 
```

# ios - GLSL ES Phong 着色器结果中的设备/操作系统不一致

> ID：12721810
> 
> 赞同：5
> 
> 时间：2012-10-04T06:54:12.870
> 
> 标签：ios, opengl-es, opengl-es-2.0, glsl, fragment-shader

[Apple 的 OpenGL ES 最佳实践](http://developer.apple.com/library/ios/documentation/3DDrawing/Conceptual/OpenGLES_ProgrammingGuide/BestPracticesforShaders/BestPracticesforShaders.html#//apple_ref/doc/uid/TP40008793-CH7-SW12)建议不要对片段着色器中计算的结果进行分支。但是[Phong 着色](http://en.wikibooks.org/wiki/GLSL_Programming/GLUT/Specular_Highlights)通常涉及当光源位于表面的“错误”一侧时跳过镜面反射项，对此直接的方法是点单位法线方向`N`和光方向`L`并检查是否为正结果。

我试图在我的着色器中没有分支的情况下做到这一点：我没有使用`if`语句，而是对镜面反射项进行所有计算，然后给它一个系数，`1.0`如果`dot(N, L)`大于零，`0.0`否则。（我使用内置`step()`函数实现了这一点。组合`max()`并`sign()`产生相同的结果，但据说速度有点慢。）

然而，这似乎会导致奇怪的、特定于设备和/或 iOS 版本的结果：

![带分支](../Images/7bc4176bb5345927c2840706565bef04.png)![无分支](../Images/98233a162ef290031632490c006b3e7b.png)

*   在我运行 iOS 6.0 的 iPhone 4 上，带有分支的版本具有宽高光（左图）；如果没有分支，我会看到一个狭窄的镜面高光（右图），尽管“光泽度”指数保持不变。
*   在 iOS 6.0 模拟器上，我看到了带有两个版本的着色器的第二张图像。
*   在我的 iPad（最初的 2010 型号，卡在 iOS 5.1）上，我看到了带有两个版本的着色器的第一张图像。

显然，问题不在于分支或缺乏分支。（顺便说一下，右边的图像是“正确的”渲染。）

这是我的片段着色器：

```
precision mediump float;

uniform lowp vec3 ambientLight;
uniform lowp vec3 light0Color;
uniform lowp vec3 materialAmbient;
uniform lowp vec3 materialDiffuse;
uniform lowp vec3 materialSpecular;
uniform lowp float materialShininess;

// input variables from vertex shader (in view coordinates)
varying vec3 NormDir;
varying vec3 ViewDir;
varying vec3 LightDir;

void main (void)
{
    vec3 L = normalize(LightDir);
    vec3 N = normalize(NormDir);
    vec3 E = normalize(ViewDir);

    lowp vec3 ambient = ambientLight * materialAmbient;

    float cos_theta = dot(L, N);

    lowp vec3 diffuse = materialDiffuse * light0Color * max(0.0, cos_theta);

    lowp vec3 specular = vec3(0.0, 0.0, 0.0);
//  if (cos_theta > 0.0) {
        lowp vec3 R = reflect(-L, N);
        lowp vec3 V = normalize(-E);
        float cos_alpha = dot(R, V);
        specular =  step(0.0, cos_theta) *  materialSpecular * light0Color * pow(max(0.0, cos_alpha), materialShininess);
        //          ~~~~~~~~~~~~~~~~~~~~~~
        //          should produce the same results as the commented branch, right?
//  }
    gl_FragColor = vec4(ambient + diffuse + specular, 1.0);
} 
```

我也欢迎提供进一步的建议，以提高此着色器在 iOS 硬件上的性能！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T18:35:45.987

正如@BradLarson 的评论中所指出的，`lowp`限定符 on`materialShininess`原来是问题所在；相反`mediump`，它会在我手头的所有设备和操作系统版本上正确渲染（右侧图像），无论使用的是分支版本还是无分支（带有`step`）版本的着色器。

（对输入使用`lowp`vs并从中计算不会产生任何明显的差异，这是有道理的：这些是​​归一化的向量，因此它们的分量的幅度在 0.0 到 1.0 的范围内。这与颜色分量的范围相同，对于似乎是故意的。）`mediump``R``V``cos_alpha``lowp`

# xml - 从 txt 文件在 xml 中创建数据

> ID：12721815
> 
> 赞同：1
> 
> 时间：2012-10-04T06:54:27.583
> 
> 标签：xml, delphi, nativexml

我想从一个 txt 文件创建这个 xml 文件...

我做这个代码：

```
 FXml := TNativeXml.CreateName('Root');
 FXml.XmlFormat := xfReadable;
 open the file
 AssignFile(TFile,'user.txt');
 Reset(TFile);
 while not eof(TFile) do 
 begin
    Readln(TFile,text);
    r :=  Pos(' ',text);
    t2 := Trim(Copy(text,1,Length(text)));
    t1 := Trim(Copy(t2,0,r));
    FXml.Root.NodeNew('row');
    FXml.Root.NodeByName('row').WriteAttributeString('user',t2);
    FXml.Root.NodeByName('row').WriteAttributeString('pin',t1);
 end;
   FXml.SaveToFile('new.xml');
 FXml.free; 
```

我对 nodebyname 做错了什么，但是……

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:36:39.130

如果您的文本文件包含多行，则您将创建多个名为“row”的节点。NodeByName 将始终返回具有给定名称的第一个节点。

您应该将 NodeNew 的结果存储在 TXmlNode 类型的局部变量中，并使用该变量来设置属性。

```
var
  node: TXmlNode
...
node := FXml.Root.NodeNew('row');
node.WriteAttributeString('user',t2);
node.WriteAttributeString('pin',t1); 
```

# wcf - 如何使用内存中现有的 WSDL 来创建 WCF 服务？

> ID：12721816
> 
> 赞同：1
> 
> 时间：2012-10-04T06:54:41.673
> 
> 标签：wcf, wsdl

1）我知道当我们想使用现有的 WCF 服务时，WSDL 文件是在客户端生成的。这是在我们使用 Visual Studio 中的“添加服务引用...”选项的情况下。我不明白的是 - 当我们使用客户端代理调用 WCF 服务时，究竟在什么时候使用了 WSDL 文件？

2）在创建WCF服务的过程中，不知道如何使用或连接或附加内存中存在的WSDL。我的意思是我应该写什么？就像是：

```
Uri mexAddress = new Uri("http://localhost:2240/Service1.svc?wsdl"); 
```

或者：

```
Uri mexAddress = new Uri("http://localhost:2240/Service1.svc?" + SomeName.wsdl); 
```

或者：

```
? 
```

先感谢您。

戈兰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:50:38.877

> 1）我知道当我们想使用现有的 WCF 服务时，WSDL 文件是在客户端生成的。这是在我们使用 Visual Studio 中的“添加服务引用...”选项的情况下。我不明白的是 - 当我们使用客户端代理调用 WCF 服务时，究竟在什么时候使用了 WSDL 文件？

不，wsdl 是在服务器端生成的。它是描述服务的基于 XML 的文档。它指定服务的位置以及服务公开的操作或方法。添加服务引用时，Visual Studio（或 svcutil）保存此 wsdl 的副本，仅用于生成客户端代理。wsdl 在那一代之后将永远不会被使用，并且不会嵌入到资源中。您还可以创建没有 wsdl 的客户端代理。

> 2）在创建WCF服务的过程中，不知道如何使用或连接或附加内存中存在的WSDL。我的意思是我应该写什么？

不清楚。你是什​​么意思 ？在服务器端，当您激活 metadata 的 expostion 时，WCF 将自动管理 WSDL 创建（它也是可扩展的）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T09:51:48.590

运行时客户端不使用 WSDL 来调用服务。它仅在设计时用于生成客户端代理代码以调用服务。

# sql - 如何删除所有表中的所有外键约束？

> ID：12721823
> 
> 赞同：33
> 
> 时间：2012-10-04T06:55:00.650
> 
> 标签：sql, sql-server, sql-server-2008

我想编写 sql 命令来删除所有表中的所有约束。我在互联网上搜索并发现以下如果数据库很小且不复杂，则可以正常工作。

```
DECLARE @name VARCHAR(128) 
DECLARE @constraint VARCHAR(254) 
DECLARE @SQL VARCHAR(254) 
DECLARE @schema VARCHAR(128)

SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME) 
SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.objects WHERE [name] = @name) 

WHILE @name is not null 
BEGIN 
    SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' AND TABLE_NAME = @name ORDER BY CONSTRAINT_NAME) 
    WHILE @constraint IS NOT NULL 
    BEGIN 
        SELECT @SQL = 'ALTER TABLE ' + @schema + '.[' + RTRIM(@name) +'] DROP CONSTRAINT [' + RTRIM(@constraint) +']' 
        EXEC (@SQL) 
        PRINT 'Dropped FK Constraint: ' + @constraint + ' on ' + @name 
        SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' AND CONSTRAINT_NAME <> @constraint AND TABLE_NAME = @name ORDER BY CONSTRAINT_NAME) 
    END 
SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME) 
SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.objects WHERE [name] = @name) 
END 
GO 
```

如果我用更复杂的数据库甚至 AdventureWork 运行它，它就不起作用。它显示了一些错误，如下所示。

```
Msg 3728, Level 16, State 1, Line 1
'FK_ap_invoice_modification_type_id' is not a constraint.
Msg 3727, Level 16, State 0, Line 1
Could not drop constraint. See previous errors.
Msg 3725, Level 16, State 0, Line 1
The constraint 'PK_ap_invoice' is being referenced by table '_drop_now_ap_invoice_detail', foreign key constraint 'FK_ap_invoice_detail_ap_invoice'.
Msg 3727, Level 16, State 0, Line 1
Could not drop constraint. See previous errors. 
```

原因是因为某些 FK 被其他表引用。我必须运行这个脚本几次，直到数据库干净为止。

我想知道如何清除数据库中的所有 FK。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-10-04T07:45:18.083

有很多关于这个主题的信息。检查@AaronBertrand 的[详细答案](https://stackoverflow.com/a/11639982/1297603)。它谈到临时禁用外键，但阅读所有内容并随意修改，您将拥有一个不错的脚本来玩并取得很多成就。

在我这边，我可以提出 2 个不同的脚本来获取所有外键。在这两种情况下，取消注释`--EXEC (@SQL)`以执行您的`ALTER`代码。或者你可以等到它打印出所有的 alter 子句，然后复制粘贴来执行它们。

第一个使用`INFORMATION_SCHEMA`来获取约束：

```
DECLARE @SQL VARCHAR(MAX)=''
SELECT @SQL = @SQL + 'ALTER TABLE ' + QUOTENAME(FK.TABLE_SCHEMA) + '.' + QUOTENAME(FK.TABLE_NAME) + ' DROP CONSTRAINT [' + RTRIM(C.CONSTRAINT_NAME) +'];' + CHAR(13)
--SELECT K_Table = FK.TABLE_NAME, FK_Column = CU.COLUMN_NAME, PK_Table = PK.TABLE_NAME, PK_Column = PT.COLUMN_NAME, Constraint_Name = C.CONSTRAINT_NAME
  FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS C
 INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS FK
    ON C.CONSTRAINT_NAME = FK.CONSTRAINT_NAME
 INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS PK
    ON C.UNIQUE_CONSTRAINT_NAME = PK.CONSTRAINT_NAME
 INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE CU
    ON C.CONSTRAINT_NAME = CU.CONSTRAINT_NAME
 INNER JOIN (
            SELECT i1.TABLE_NAME, i2.COLUMN_NAME
              FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS i1
             INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE i2
                ON i1.CONSTRAINT_NAME = i2.CONSTRAINT_NAME
            WHERE i1.CONSTRAINT_TYPE = 'PRIMARY KEY'
           ) PT
    ON PT.TABLE_NAME = PK.TABLE_NAME

--EXEC (@SQL)

PRINT @SQL 
```

这个使用不同的系统视图和 CTE 表。

```
DECLARE @SQL varchar(4000)=''
;WITH ReferencingFK AS 
(
    SELECT fk.Name AS 'FKName', OBJECT_NAME(fk.parent_object_id) 'ParentTable',
            cpa.name 'ParentColumnName', OBJECT_NAME(fk.referenced_object_id) 'ReferencedTable',
            cref.name 'ReferencedColumnName'
    FROM sys.foreign_keys fk
    INNER JOIN sys.foreign_key_columns fkc ON fkc.constraint_object_id = fk.object_id
    INNER JOIN sys.columns cpa ON fkc.parent_object_id = cpa.object_id AND fkc.parent_column_id = cpa.column_id
    INNER JOIN sys.columns cref ON fkc.referenced_object_id = cref.object_id AND fkc.referenced_column_id = cref.column_id
)
SELECT @SQL = @SQL + 'ALTER TABLE ' + ParentTable + ' DROP CONSTRAINT [' + RTRIM(FKName) +'];' + CHAR(13)
--SELECT FKName, ParentTable, ParentColumnName, ReferencedTable, ReferencedColumnName
  FROM ReferencingFK
 WHERE ReferencedTable = 'Employee'
 ORDER BY ParentTable, ReferencedTable, FKName

--EXEC (@SQL) 

PRINT @SQL 
```

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2016-10-12T18:50:25.727

这是我使用的一个简短而实用的脚本（在 SQL Server 2008 及更高版本上）来删除所有还考虑到对象架构的外键：

```
declare @sql nvarchar(max) = (
    select 
        'alter table ' + quotename(schema_name(schema_id)) + '.' +
        quotename(object_name(parent_object_id)) +
        ' drop constraint '+quotename(name) + ';'
    from sys.foreign_keys
    for xml path('')
);
exec sp_executesql @sql; 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2014-11-28T23:22:56.400

我已经改进了@Yaroslav 提供的第一个脚本和@Quandary 提供的脚本，因此它们现在适用于那些SQL 查询一个一个地删除所有外键的数据库超出了为`SQL`变量（`4000`或`MAX`字符）分配的大小。

更改后的脚本每次迭代都会删除`5`外键（为了安全起见，通过添加来实现`TOP 5`）。当没有外键可以删除时脚本停止（`SQL`运行后变量保持为空`SELECT`）。

@Yaroslav 的第一个脚本

```
DECLARE @SQL varchar(4000)
IterationStart:
SET @SQL=''
SELECT TOP 5 @SQL = @SQL + 'ALTER TABLE ' + FK.TABLE_NAME + ' DROP CONSTRAINT [' + RTRIM(C.CONSTRAINT_NAME) +'];' + CHAR(13)
  FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS C
 INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS FK
    ON C.CONSTRAINT_NAME = FK.CONSTRAINT_NAME
 INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS PK
    ON C.UNIQUE_CONSTRAINT_NAME = PK.CONSTRAINT_NAME
 INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE CU
    ON C.CONSTRAINT_NAME = CU.CONSTRAINT_NAME
 INNER JOIN (
            SELECT i1.TABLE_NAME, i2.COLUMN_NAME
              FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS i1
             INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE i2
                ON i1.CONSTRAINT_NAME = i2.CONSTRAINT_NAME
            WHERE i1.CONSTRAINT_TYPE = 'PRIMARY KEY'
           ) PT
    ON PT.TABLE_NAME = PK.TABLE_NAME
IF @SQL <> ''
BEGIN
  EXEC(@SQL)
  GOTO IterationStart
END 
```

@Quandary 编写的脚本

```
DECLARE @sql nvarchar(MAX) 

IterationStart:
SET @sql = '' 

SELECT TOP 5 @sql = @sql + 'ALTER TABLE ' + QUOTENAME(RC.CONSTRAINT_SCHEMA) 
    + '.' + QUOTENAME(KCU1.TABLE_NAME) 
    + ' DROP CONSTRAINT ' + QUOTENAME(rc.CONSTRAINT_NAME) + '; ' 
FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS AS RC 

INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE AS KCU1 
    ON KCU1.CONSTRAINT_CATALOG = RC.CONSTRAINT_CATALOG  
    AND KCU1.CONSTRAINT_SCHEMA = RC.CONSTRAINT_SCHEMA 
    AND KCU1.CONSTRAINT_NAME = RC.CONSTRAINT_NAME 

IF @SQL <> ''
BEGIN
  EXEC(@SQL)
  GOTO IterationStart
END 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2014-11-10T15:51:04.697

最简单的变体：

```
DECLARE @sql nvarchar(MAX) 
SET @sql = N'' 

SELECT @sql = @sql + N'ALTER TABLE ' + QUOTENAME(KCU1.TABLE_SCHEMA) 
    + N'.' + QUOTENAME(KCU1.TABLE_NAME) 
    + N' DROP CONSTRAINT ' -- + QUOTENAME(rc.CONSTRAINT_SCHEMA)  + N'.'  -- not in MS-SQL
    + QUOTENAME(rc.CONSTRAINT_NAME) + N'; ' + CHAR(13) + CHAR(10) 
FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS AS RC 

INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE AS KCU1 
    ON KCU1.CONSTRAINT_CATALOG = RC.CONSTRAINT_CATALOG  
    AND KCU1.CONSTRAINT_SCHEMA = RC.CONSTRAINT_SCHEMA 
    AND KCU1.CONSTRAINT_NAME = RC.CONSTRAINT_NAME 

-- PRINT @sql 
EXECUTE(@sql) 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-05-06T11:10:27.817

我使用了@Yaroslav 提到的 INFORMATION_SCHEMA 解决方案，但我的数据库中有太多外键常量，无法将它们全部放入 varchar(MAX) 中。所以我不得不修改脚本以使用临时表和游标。

另外，我`[]`在表名周围添加了。

```
DECLARE @SQL TABLE (Command VARCHAR(MAX))

INSERT @SQL
SELECT 'ALTER TABLE [' + FK.TABLE_NAME + '] DROP CONSTRAINT [' + RTRIM(C.CONSTRAINT_NAME) +'];' + CHAR(13)
  FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS C
 INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS FK
    ON C.CONSTRAINT_NAME = FK.CONSTRAINT_NAME
 INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS PK
    ON C.UNIQUE_CONSTRAINT_NAME = PK.CONSTRAINT_NAME
 INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE CU
    ON C.CONSTRAINT_NAME = CU.CONSTRAINT_NAME
 INNER JOIN (
            SELECT i1.TABLE_NAME, i2.COLUMN_NAME
              FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS i1
             INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE i2
                ON i1.CONSTRAINT_NAME = i2.CONSTRAINT_NAME
            WHERE i1.CONSTRAINT_TYPE = 'PRIMARY KEY'
           ) PT
    ON PT.TABLE_NAME = PK.TABLE_NAME

DECLARE cmdCursor CURSOR
    FOR SELECT Command FROM @SQL
OPEN cmdCursor
DECLARE @Command VARCHAR(MAX)

FETCH NEXT FROM cmdCursor INTO @Command
WHILE @@FETCH_STATUS = 0
BEGIN
    PRINT @Command
    EXEC (@Command)
    FETCH NEXT FROM cmdCursor INTO @Command
END

CLOSE cmdCursor;
DEALLOCATE cmdCursor; 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2015-09-11T13:13:18.373

```
CREATE TABLE #Commands (Command VARCHAR(MAX))

INSERT #Commands
SELECT 'ALTER TABLE ' + QUOTENAME(RC.CONSTRAINT_SCHEMA)
    + '.' + QUOTENAME(KCU1.TABLE_NAME)
    + ' DROP CONSTRAINT ' + QUOTENAME(rc.CONSTRAINT_NAME) + '; '
FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS AS RC

INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE AS KCU1
    ON KCU1.CONSTRAINT_CATALOG = RC.CONSTRAINT_CATALOG
    AND KCU1.CONSTRAINT_SCHEMA = RC.CONSTRAINT_SCHEMA
    AND KCU1.CONSTRAINT_NAME = RC.CONSTRAINT_NAME
WHERE ORDINAL_POSITION=1

--SELECT * FROM #Commands

DECLARE @Command VARCHAR(MAX)
DECLARE curCommand CURSOR FOR
SELECT Command FROM #Commands

OPEN curCommand

FETCH NEXT FROM curCommand INTO @Command

WHILE @@FETCH_STATUS =0
BEGIN

    EXEC(@Command)
    FETCH NEXT FROM curCommand INTO @Command

END

CLOSE curCommand
DEALLOCATE curCommand

DROP TABLE #Commands 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-01-13T22:28:38.840

从此链接查看 Pinal 的答案，非常有帮助

[https://blog.sqlauthority.com/2014/04/11/sql-server-drop-all-the-foreign-key-constraint-in-database-create-all-the-foreign-key-constraint-in-数据库/](https://blog.sqlauthority.com/2014/04/11/sql-server-drop-all-the-foreign-key-constraint-in-database-create-all-the-foreign-key-constraint-in-database/)

```
SET NOCOUNT ON
DECLARE @table TABLE(
RowId INT PRIMARY KEY IDENTITY(1, 1),
ForeignKeyConstraintName NVARCHAR(200),
ForeignKeyConstraintTableSchema NVARCHAR(200),
ForeignKeyConstraintTableName NVARCHAR(200),
ForeignKeyConstraintColumnName NVARCHAR(200),
PrimaryKeyConstraintName NVARCHAR(200),
PrimaryKeyConstraintTableSchema NVARCHAR(200),
PrimaryKeyConstraintTableName NVARCHAR(200),
PrimaryKeyConstraintColumnName NVARCHAR(200)
)
INSERT INTO @table(ForeignKeyConstraintName, ForeignKeyConstraintTableSchema, ForeignKeyConstraintTableName, ForeignKeyConstraintColumnName)
SELECT
U.CONSTRAINT_NAME,
U.TABLE_SCHEMA,
U.TABLE_NAME,
U.COLUMN_NAME
FROM
INFORMATION_SCHEMA.KEY_COLUMN_USAGE U
INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS C
ON U.CONSTRAINT_NAME = C.CONSTRAINT_NAME
WHERE
C.CONSTRAINT_TYPE = 'FOREIGN KEY'
UPDATE @table SET
PrimaryKeyConstraintName = UNIQUE_CONSTRAINT_NAME
FROM
@table T
INNER JOIN INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS R
ON T.ForeignKeyConstraintName = R.CONSTRAINT_NAME
UPDATE @table SET
PrimaryKeyConstraintTableSchema = TABLE_SCHEMA,
PrimaryKeyConstraintTableName = TABLE_NAME
FROM @table T
INNER JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS C
ON T.PrimaryKeyConstraintName = C.CONSTRAINT_NAME
UPDATE @table SET
PrimaryKeyConstraintColumnName = COLUMN_NAME
FROM @table T
INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE U
ON T.PrimaryKeyConstraintName = U.CONSTRAINT_NAME
--SELECT * FROM @table
--DROP CONSTRAINT:
SELECT
'
ALTER TABLE [' + ForeignKeyConstraintTableSchema + '].[' + ForeignKeyConstraintTableName + ']
DROP CONSTRAINT [' + ForeignKeyConstraintName + ']

GO'
FROM
@table 
```

# bash - bash中的前字符转义

> ID：12721824
> 
> 赞同：0
> 
> 时间：2012-10-04T06:55:02.813
> 
> 标签：bash

我读[了这篇文章](http://wiki.bash-hackers.org/syntax/quoting)，在部分

```
### NO NO NO: this passes three strings:
###      (1)  "my
###      (2)  multiword
###      (3)  argument"
MYARG="\"my multiword argument\""
somecommand $MYARG

### THIS IS NOT (!!!!) THE SAME AS ###
command "my multiword argument"

### YOU NEED ###
MYARG="my multiword argument"
command "$MYARG" 
```

这两种方法都解释为完整的字符串，与文章中所说的不同：

```
test.bash

#! /bin/bash
echo $1

./test.bash "\"my good ness\""
"my good ness" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:14:24.477

您直接将其作为参数传递，而不是将其放入变量中并传递。两种方法之间没有有效的比较。

# wpf - 在 MVVM 中更改另一个属性时如何更改属性

> ID：12721826
> 
> 赞同：1
> 
> 时间：2012-10-04T06:55:06.250
> 
> 标签：wpf, mvvm

我正在为一个项目使用 WPF 和 MVVM。我有一个带有 GridView 控件的视图。用户可以在网格视图中插入/更新/删除。当任何动作发生时，变化都会反映在 ViewModel 中。这部分工作正常。但是当我想保存数据库中的更改时，我需要一个一个地遍历 ItemSource 中的每个项目。这需要额外的时间才能完成。我只想处理那些更改的项目。

为此，我在我的模型中添加了一个布尔属性来指示项目是否已更改或注释。但问题是，无论何时更改任何其他属性，我都看不到任何设置此布尔属性的方法。

任何机构都可以帮助我怎么做吗？

**编辑** 我有一个 SelectedItem 属性，我假设每当在 GridView 中选择一个项目时，用户都会更新或插入该行。等等 SelectedItem 属性我已将 SelectedItem 的布尔属性设置为 True。并且在循环保存记录时，我正在保存所有那些在其布尔属性中具有 True 的记录。我知道这不是完美的方式，但现在我没有任何其他方式可以做到这一点。你的意见？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:16:51.840

您可以订阅模型上的 PropertyChanged 事件并将标志设置为 True。但是请记住，从数据库加载数据后，必须将 Flag 设置为 false，因为模型的初始化也会调用 propertychanged 事件。

带有 IsDirty-Flag 的类示例：

```
public class Sample : INotifyPropertyChanged
{
    private int id;
    private string name;
    private bool isDirty;

    public event PropertyChangedEventHandler PropertyChanged;

    public int Id
    {
        get { return id; }
        set
        {
            if(id != value)
            {
                id = value;
                RaisePropertyChanged("Id");
            }
        }
    }

    public string Name
    {
        get { return name; }
        set
        {
            if (name != value)
            {
                name = value;
                RaisePropertyChanged("Name");
            }
        }
    }

    public bool IsDirty
    {
        get { return isDirty; }
        set
        {
            if (isDirty != value)
            {
                isDirty = value;
                RaisePropertyChanged("IsDirty");
            }
        }
    }

    protected virtual void RaisePropertyChanged(string propertyName)
    {
        if (propertyName != "IsDirty")
        {
            IsDirty = true;
        }

        var handler = PropertyChanged;

        if (handler != null)
        {
            handler(this, new PropertyChangedEventArgs(propertyName));
        }
    }
} 
```

如果您使用的是 ObservableCollection，您还可以添加一个事件处理程序来跟踪新添加或删除的行

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:14:17.233

如果你使用 MVVM，你应该有**INotifyPropertyChanged**的​​实现。**您可以添加一些逻辑来在OnPropertyChanged**处理程序中设置您的布尔属性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-07T05:26:00.820

如果你愿意依赖于构建时间工具，你可以使用 ILWeaving 来做到这一点。

因此，如果您将[Fody](https://github.com/Fody/Fody)与[PropertyChanged](https://github.com/Fody/PropertyChanged)插件结合使用，则开箱即用即可支持 IsDirty 功能。

那么马丁斯的例子可以简化为

```
public class Sample : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;
    public int Id { get; set; }
    public string Name { get; set; }
    public bool IsChanged { get; set; }
} 
```

注意使用 if`IsChanged`而不是`IsDirty`.

然后这将存在于编译的程序集中

```
public class Sample : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;

    public virtual void OnPropertyChanged(string propertyName)
    {
        var propertyChanged = PropertyChanged;
        if (propertyChanged != null)
        {
            propertyChanged(this, new PropertyChangedEventArgs(propertyName));
        }
    }

    int id;
    public int Id
    {
        get { return id; }
        set
        {
            if (id != value)
            {
                id = value;
                IsChanged = true;
                OnPropertyChanged("Id");
            }
        }
    }

    bool isChanged;
    public bool IsChanged
    {
        get { return isChanged; }
        set
        {
            if (isChanged != value)
            {
                isChanged = value;
                OnPropertyChanged("IsChanged");
            }
        }
    }

    string name;
    public string Name
    {
        get { return name; }
        set
        {
            if (!string.Equals(name, value, StringComparison.Ordinal))
            {
                name = value;
                IsChanged = true;
                OnPropertyChanged("Name");
            }
        }
    }
} 
```

# java - 如何检查 SD 卡是否已插入平板电脑：Android？

> ID：12721827
> 
> 赞同：4
> 
> 时间：2012-10-04T06:55:07.350
> 
> 标签：java, android, android-sdcard

我正在开发一个简单的应用程序，它应该能够从内部存储和外部存储（可移动卡）访问文件，如 Micro SD 卡（当用户插入 SDCARD 时）。

（不是设备自带的内部sdcard，我知道可以使用访问 `Environment.getExternalStorageDirectory()`）

是否可以查明用户是否在设备中插入了 SD 卡？如果是，是否可以获得该 SD 卡的路径？

我发现硬编码路径不是一个好的选择，因为不同的设备对用户插入的 sdcard 有不同的路径。

很感谢任何形式的帮助。谢谢你。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-04T07:09:23.917

> （不是设备附带的内部 sdcard，我知道可以使用 Environment.getExternalStorageDirectory() 访问它）

Android 仅将可移动存储介质（例如 SD 卡）或内部（不可移动）存储视为外部存储。

以下是表格 developer.android.com

> 每个与 Android 兼容的设备都支持一个共享的“外部存储”，您可以使用它来保存文件。这可以是可移动存储介质（例如 SD 卡）或内部（不可移动）存储。保存到外部存储的文件是世界可读的，并且可以由用户在启用 USB 大容量存储以传输计算机上的文件时进行修改。

要检查 SDCard 可用性，您可以使用以下代码。

```
private boolean isExternalStorageAvailable() {

        String state = Environment.getExternalStorageState();
        boolean mExternalStorageAvailable = false;
        boolean mExternalStorageWriteable = false;

        if (Environment.MEDIA_MOUNTED.equals(state)) {
            // We can read and write the media
            mExternalStorageAvailable = mExternalStorageWriteable = true;
        } else if (Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {
            // We can only read the media
            mExternalStorageAvailable = true;
            mExternalStorageWriteable = false;
        } else {
            // Something else is wrong. It may be one of many other states, but
            // all we need
            // to know is we can neither read nor write
            mExternalStorageAvailable = mExternalStorageWriteable = false;
        }

        if (mExternalStorageAvailable == true
                && mExternalStorageWriteable == true) {
            return true;
        } else {
            return false;
        }
    } 
```

请阅读[http://developer.android.com/guide/topics/data/data-storage.html#filesExternal](http://developer.android.com/guide/topics/data/data-storage.html#filesExternal)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-04T07:00:26.497

尝试：

```
Boolean mSDcheck = android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-03T15:39:35.420

我将在这里向您展示最简单的解决方案。如果要显示是否插入了sdcard，则只需尝试查找外部sdcard路径的文件，代码在这里：

```
File file = new File("/mnt/extSdCard");
         try
         {
         File list[] = file.listFiles();
         Toast.makeText(getApplicationContext(), "Yes sdcard is mounted, file count "+list.length, Toast.LENGTH_LONG).show();
         }
         catch(NullPointerException o)
         {
         Toast.makeText(getApplicationContext(), "Sorry no sdcard is mounted:", Toast.LENGTH_LONG).show();
         } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-09-12T16:24:48.890

“外部存储”不一定是 SD 卡，但可以安装内部存储器。许多带有 SD 卡的新时代 Android 设备上的方法`getExternalStorageState()`检查内部存储器而不是 SD 卡。更简单的选择是在 Context 类中使用`getExternalMediaDirs()` [方法。](https://developer.android.com/reference/android/content/Context.html#getExternalMediaDirs())它返回具有绝对路径的文件数组，可用于检测 SD 卡的存在。

# android - 如何获得自定义的警报对话框，如图所示？

> ID：12721828
> 
> 赞同：0
> 
> 时间：2012-10-04T06:55:10.873
> 
> 标签：android

![想要有这样的警报对话框](../Images/10e6801fa94c07fee6e8c27648bd8cae.png)我想构建一个自定义对话框，就像图片中显示的那样：

我创建了两个布局，一个用于自定义标题，另一个包含两个编辑文本视图以及两个按钮。这里是 xml

自定义标题

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="vertical" 
    android:background="@drawable/popup_title"
    android:gravity="center_vertical">

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/addView"
        android:textColor="@color/black" 

        android:paddingLeft="15dp"/>

</LinearLayout> 
```

custom_dialog.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@color/white" >

    <EditText
        android:id="@+id/textView1"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:hint="@string/title"
        android:layout_weight="1" />

    <EditText
        android:id="@+id/textView2"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:hint="@string/details"
        android:layout_weight="1" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <Button
            android:id="@+id/button1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/btn_add" 
            android:layout_weight="1"/>

        <Button
            android:id="@+id/button2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/btn_cancel" 
            android:layout_weight="1"/>

    </LinearLayout>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:07:18.623

你只需要用你的 xml 文件来扩展对话框。我只是给你一个示例代码，然后你可以轻松地跟随

```
private View mView;
private Dialog mDialog;
private LayoutInflater mInflater; 
```

现在创建一个函数：-

```
private void showCustomDialog() {
    mInflater = (LayoutInflater) getBaseContext().getSystemService(
            LAYOUT_INFLATER_SERVICE);
    ContextThemeWrapper mTheme = new ContextThemeWrapper(this,
            R.style.YOUR_STYE);

    mView = mInflater.inflate(R.layout.YOUR_XML_LAYOUT_FILE, null);
    // mDialog = new Dialog(this,0); // context, theme

    mDialog = new Dialog(mTheme);
    mDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
    mDialog.setContentView(this.mView);
    mDialog.show();

    TextViiew someText = (TextView) mView.findViewById(R.id.textViewID);
    // do some thing with the text view or any other view 

} 
```

最后确保你的风格是： -

```
<style name="YOUR_STYLE">
    <item name="android:windowBackground">@android:color/transparent</item>
    <item name="android:windowFrame">@null</item>
    <item name="android:windowNoTitle">true</item>
    <item name="android:windowIsFloating">false</item>
    <item name="android:windowIsTranslucent">false</item>
    <item name="android:windowContentOverlay">@android:color/transparent</item>
    <item name="android:backgroundDimEnabled">false</item>
</style> 
```

就是这样......你完成了......只要在你想显示自定义对话框的地方调用这个函数......

希望解释是有用的....

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T07:05:06.293

看看[这个](http://www.mkyong.com/android/android-custom-dialog-example/)教程，它可能会有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T07:07:40.747

在这里查看一个使用自定义 AlertDialog 的示例。它可以帮助你。

检查[链接](http://deadmango.com/index.php/archives/1025)

谢谢

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T07:03:47.063

```
<TextView
    android:id="@+id/textView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:layout_centerVertical="true"
    android:paddingLeft="30dp"
    android:text="Add Your View" />

<EditText
    android:id="@+id/editText1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/textView1"
    android:layout_margin="10dp"
    android:hint="Title" >
</EditText>

<EditText
    android:id="@+id/editText2"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/editText1"
    android:layout_margin="10dp"
    android:hint="Details" >
</EditText>

<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignLeft="@+id/editText2"
    android:layout_below="@+id/editText2"
    android:layout_marginLeft="70dp"
    android:layout_marginTop="24dp"
    android:text="Add" />

<Button
    android:id="@+id/button2"
    android:layout_width="wrap_content"
    android:layout_marginRight="70dp"
    android:layout_height="wrap_content"
    android:layout_alignBottom="@+id/button1"
    android:layout_alignRight="@+id/editText2"
    android:text="Cancel" /> 
```

这是你需要的代码

# com - 在兼容模式下使用 COM 对象？

> ID：12721837
> 
> 赞同：0
> 
> 时间：2012-10-04T06:55:54.710
> 
> 标签：com, windows-8, compatibility

我有一个无法在 Windows 8 上运行的第 3 方 COM 组件，但如果在 Windows 8 上以 Windows 7 兼容模式运行，则可以完美运行。但是，我不希望软件在兼容模式下运行，只需要 COM 组件. 可能吗？

顺便说一句，不可能获得 COM 组件的更新/工作版本。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:00:33.907

兼容模式一次适用于整个进程。执行您要求的唯一方法是在不同的容器进程中运行 COM 对象，或者使用 DCOM（如果 COM 对象的接口具有注册为进程外对象的必要存根和代理）或通过编写自己的远程处理层。

# sql-server - SQL Server：当过滤器值超出索引直方图范围时使用错误的索引

> ID：12721838
> 
> 赞同：1
> 
> 时间：2012-10-04T06:55:56.643
> 
> 标签：sql-server, database, histogram, query-performance

我们有一个非常大的表，每天有 1-2 百万行被添加到表中。

在此查询中：

```
SELECT jobid, exitstatus 
FROM jobsData 
WHERE finishtime >= {ts '2012-10-04 03:19:26'} AND task = 't1_345345_454' 
GROUP BY jobid, exitstatus 
```

`Task`和都存在索引`FinishTime`。

我们预计`task`将使用该索引，因为它的行数要少得多。我们看到的问题是 SQL Server 创建了一个错误的查询执行计划，它使用`FinishTime`索引而不是任务，并且查询需要很长时间。

当完成时间值超出`FinishTime`索引直方图时会发生这种情况。

统计信息每天/几个小时更新一次，但仍有很多情况是查询最近的值。

问题：在估计的执行计划中我们可以清楚地看到，在这种情况下估计的行数`FinishTime`是`1`，所以选择了`FinishTime`索引。为什么 SQL Server 假定这是`1`在没有数据的情况下？有没有办法告诉它使用更合理的东西？

当我们用更早的日期替换日期时，直方图中存在统计信息，估计的行数约为 7000

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T08:57:01.013

您可以使用[计划指南](http://technet.microsoft.com/en-us/library/ms190417.aspx)来指示优化器为您使用特定的查询计划。这非常适合您无法修改以添加提示的生成查询。

# ember.js - {{each}} 辅助上下文的输入值是否不同？

> ID：12721843
> 
> 赞同：2
> 
> 时间：2012-10-04T06:56:15.203
> 
> 标签：ember.js

我正在使用 emebr-1.0.pre.js

对每个助手上下文有疑问，下面的代码供参考。在输出 UI 标题中替换“book1”和“book2”，但输入字段为空。

我的疑问是每个助手中使用了哪个上下文，在 {{each}} 助手中“this”指的是什么？

```
window.App = Ember.Application.create({});

App.Book = Ember.Object.extend({
   title : null,
  author : null
 }); 
```

BooksController.js

```
App.BooksController = Ember.ObjectController.extend({
    content : [
                App.Book.create({title : "Book1", author : 'author1'}),
                App.Book.create({title: 'Book2', author : 'author2'})
               ]           
}); 
```

BooksListView.js

```
 App.BooksView = Ember.View.extend({
  templateName : "books_list",
  controllerBinding : "App.BooksController"
}) 
```

车把

```
{{#each content}}
   <label>{{this.title}}</label>
   {{view Ember.TextField valueBinding="this.author"}}
{{/each}} 
```

JSFiddle[在这里](http://jsfiddle.net/zmPLF/)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:18:35.530

首先，`BooksListView`有一`controllerBinding`组 to `App.BooksController`。

它应该是类似的东西`App.booksController`，因为你想将它绑定到一个实例而不是一个类：

```
App.booksController = App.BooksController.create();

App.BooksListView = Ember.View.extend({
   controllerBinding: "App.booksController"
}); 
```

About the `{{each}}` context, `this` refer to the current object, so this work as expected. Except that you don't should use `{{this.aproperty}}` on the `{{each}}` helper, just write `{{aproperty}}`:

```
{{#each content}}
  <label>{{title}}</label>
  {{view Ember.TextField valueBinding="author"}}
{{/each}} 
```

[And here is the JSFiddle which works](http://jsfiddle.net/wemhr/). I have intentionally added `{{this}}` in order to let you see on which object it refers.

# javascript - javascript - 拆分而不丢失分隔符

> ID：12721844
> 
> 赞同：4
> 
> 时间：2012-10-04T06:56:21.543
> 
> 标签：javascript, arrays, split

> **可能重复：**
> [JavaScript 拆分而不丢失字符](https://stackoverflow.com/questions/3047201/javascript-split-without-losing-character)

我有一个字符串：

```
"<foo>abcdefg</bar><foo>abcdefg</bar><foo>abcdefg</bar><foo>abcdefg</bar>" 
```

我想将“abcdefg”的所有实例分成这样的数组：

```
["<foo>abcdefg</bar>", "<foo>abcdefg</bar>", "<foo>abcdefg</bar>", "<foo>abcdefg</bar>"]; 
```

我尝试：

```
var str="<foo>abcdefg</bar><foo>abcdefg</bar><foo>abcdefg</bar><foo>abcdefg</bar>";
var Array_Of_FooBars = str.split("</bar>"); 

alert(Array_Of_FooBars); 
```

但它返回：

```
["<foo>abcdefg", "<foo>abcdefg", "<foo>abcdefg", "<foo>abcdefg",] 
```

它正在删除分隔符''。我不想要那个。

如何使用 split 而不会丢失字符串中的分隔符？

谢谢。肯

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-04T07:03:01.893

试试这个。这不是一个完美的解决方案，但它应该在大多数情况下都有效。

```
str.split(/(?=<foo>)/) 
```

也就是说，将其拆分在每个开始标签之前的位置。

**编辑：**你也可以这样做`match()`，像这样：

```
str.match(/<foo>.*?<\/bar>/g) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T07:06:41.720

看来您很可能希望使用匹配：

```
var s = "<foo>abcd1efg</bar><foo>abc2defg</bar><foo>abc3defg</bar><foo>abc4defg</bar>"
s.match(/(<foo>.+?<\/bar>)/g)
// =>["<foo>abcd1efg</bar>", "<foo>abc2defg</bar>", "<foo>abc3defg</bar>", "<foo>abc4defg</bar>"] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T07:05:28.127

您可以迭代一个简单的正则表达式并以这种方式构建数组：

```
var x = new RegExp('<foo>(.*?)</bar>', 'ig'),
s = "<foo>abcdefg</bar><foo>abcdefg</bar><foo>abcdefg</bar><foo>abcdefg</bar>",
matches = [];

while (i = x.exec(s)) {
    matches.push(i[0]);
} 
```

刚刚意识到使用`String.match()`会更好；此代码对于匹配标签内的内容会更有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T06:59:46.547

使用[正向前瞻](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions#special-lookahead)，以便正则表达式断言特殊字符存在，但实际上并不匹配：

```
string.split(/<br \/>(?=&#?[a-zA-Z0-9]+;)/g); 
```

# c++ - 从具体类派生抽象模板类

> ID：12721847
> 
> 赞同：0
> 
> 时间：2012-10-04T06:56:49.417
> 
> 标签：c++, templates, inheritance, interface, abstract-class

假设我有以下课程：

```
template <typename T>
class CModule{
public:
  virtual void process( std::multiamp<int, T>)  = 0;
 } 
```

和派生类：

```
template <typename T>
class CModuleDeriv: public CModule<T>{
public:
  virtual void process( std::multiamp<int, T>){....};

 } 
```

和我不想实现这个功能的类：

```
class Client{

std::vector<CModule<T>*> oModuleList_; // <--- this is not possible error

public:
  void moduleLoader(){
    oModuleList_.resize(1);
    if( some_condition ){
      oModuleList_[0] = CModuleDeriv<int>();
    }else{
      oModuleList_[0] = CModuleDeriv<double>();
    }
  }
} 
```

是否可以？还有其他解决方案吗？我不能使用提升：/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:46:25.757

首先，将来请发布几乎可以编译的代码（甚至更好的编译代码！），因为您忽略的那些“小”细节有时会改变代码的语义。因此，提交几乎可编译的代码具有几乎明确的语义......

这是一些可能会或可能不会解决您的问题的代码：

```
#include<map>
#include<vector>

template <class, class>
class TypedMultimap;

class TypeErasedMultimap {
public:
    template <class T1, class T2>
    std::multimap<T1,T2> & getMap() {
        return  static_cast<TypedMultimap<T1,T2> &> (*this); // This is not type safe, it can be made to be, but boost people already did it so I won't bother
    }

    virtual ~TypeErasedMultimap(){}
};

template <class T1, class T2>
class TypedMultimap: public TypeErasedMultimap, public std::multimap<T1,T2> {};

class CModule{

    virtual void process( TypeErasedMultimap &)  = 0;

};

template <typename T>
class CModuleDeriv: public CModule{

    // At his point, please ask yourself, how will you make sure that the right kind
    // of map arrives at this call? I can't answer this, since this is related to
    // the semantics...
    virtual void process( TypeErasedMultimap & map_){
        std::multimap<int,T> &map = map_.getMap<int,T>();
        //...
    };

};

class Client{

// Why are you using raw pointers?!?
std::vector<CModule*> oModuleList_; 

public:
  void moduleLoader(){
    oModuleList_.resize(1);
    if( 1/*some condition*/ ){
      oModuleList_[0] = new CModuleDeriv<int>();
    }else{
      oModuleList_[0] = new CModuleDeriv<double>(); // the types are lost forever...
    }
  }

// ~Client() you MAY OR MAY NOT!!! need a destructor since your vector is holding pointers: use smart pointers!!!
};

int main() {
} 
```

这本身并不能解决您的问题，因为您的未编译代码片段即使已编译也不会解决任何问题。您将具有固有不同类型的事物推送到一个通用列表并丢失它们的类型，那么您将如何知道将来如何使用这些元素？这是一个语义问题。

我会有一个疯狂的猜测，这可能是你想要做的：

```
#include<boost/variant.hpp>
#include<boost/shared_ptr.hpp>
#include<boost/make_shared.hpp>
#include<map>
#include<vector>

typedef boost::variant<std::multimap<int,int>, std::multimap<int,double> /* possibly some others */ > VariantMap;

class CModule{
public:
    virtual void process( VariantMap &)  = 0;

};

class CModuleDeriv1: public CModule, public boost::static_visitor<> {
public:
    virtual void process( VariantMap & in){
    boost::apply_visitor(*this, in);    
    };

    template < class T>
    void operator()(std::multimap<int,T> & in) {
    // do your type safe processing here
    }
};

class CModuleDeriv2: public CModule, public boost::static_visitor<>{
public:
    virtual void process( VariantMap & in){
    boost::apply_visitor(*this, in);
    };

    template < class T>
    void operator()(std::multimap<int,T> & in) {
    // do other kind of processing here
    }
};

class Client{

// Why are you using raw pointers?!?
std::vector<boost::shared_ptr<CModule> > oModuleList_; 

public:
  void moduleLoader(){
    oModuleList_.resize(1);
    if( 1/*some condition*/ ){
      oModuleList_[0] = boost::make_shared<CModuleDeriv1>();
    }else{
      oModuleList_[0] = boost::make_shared<CModuleDeriv1>(); // the types are safe now, even though not known
    }
  }

// ~Client() you MAY OR MAY NOT!!! need a destructor since your vector is holding pointers: use smart pointers!!!
};

int main() {
} 
```

看，没有更多的评论唠叨:)

# mysql - 从数据库中获取获取的值

> ID：12721851
> 
> 赞同：0
> 
> 时间：2012-10-04T06:56:59.750
> 
> 标签：mysql, perl

我需要存储从 MySQL 数据库中获取的数据。所以我使用了这段代码。

```
while (@row = $statement->fetchrow_array) 
{
  print "@row.\n"; #        ------printing data
}

foreach $key(@row)
{
  print $key."\n"; # ------empty data
} 
```

在 foreach 循环中，@row 数据为空。如何解决这个问题

**更新**：它实际上应该是这样的：

```
while (my @row = $statement->fetchrow_array) { 
  # print "@row.\n";
  foreach my $key(@row) { 
    $query= "ALTER TABLE tablename DROP FOREIGN KEY $key;"; 
    $statement = $connection->prepare($query); 
    $statement->execute() 
      or die "SQL Error: $DBI::errstr\n"; 
  } 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:02:07.493

嗯，*应该*是这样的：

```
while (my @row = $statement->fetchrow_array) {
  foreach my $key (@row) {
    print $key."\n";
  }
} 
```

否则，所有结果集都将在第一个循环中消耗。

作为旁注，`fetchrow_array`返回一个行集作为字段*值*数组，而不是*键*。要获取密钥，您应该使用`fetchrow_hashref`：

```
while (my $row = $statement->fetchrow_hashref) {
  while (my ($key, $value) = each %$row) {
    print "$key => $value\n";
  }
} 
```

**更新：**从您的评论看来，您实际上需要一个列名数组。有一种方法可以做到：

```
my $row = $statement->fetchrow_hashref;
$statement->finish;
foreach my $key (keys %$row) {
  # ... dropping $key from db as in your original example
} 
```

但事实上，有更方便的方法来做你想做的事。首先，有一种方法可以准备和提取单行：`selectrow_hashref`. 其次，如果您只想获取外键信息，为什么不使用特定的 DBI 方法 - `foreign_key_info`？例如：

```
my $sth = $dbh->foreign_key_info( undef, undef, undef,
                                  undef, undef, $table_name);
my $rows = $sth->fetchall_hashref;
while (my ($k, $v) = each %$rows) {
  # process $k/$v
} 
```

# ios4 - 什么是 iOS 中的块调度？

> ID：12721852
> 
> 赞同：0
> 
> 时间：2012-10-04T06:57:01.803
> 
> 标签：ios4, objective-c-blocks

您好我想了解什么是块调度？在什么情况下我们可以使用块调度也想知道串行块调度和异步块调度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:06:03.353

查看来自 Apple的[并发编程指南](http://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html)和[块编程主题。](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/00_Introduction.html)它们非常完整，是一个很好的资源。

如果您是注册的 Apple 开发人员，那么 WWDC 上有一些关于 2011 年和 2012 年这两个主题的精彩视频。

# spring - Spring WS 客户端使用 kerberos 进行身份验证

> ID：12721854
> 
> 赞同：0
> 
> 时间：2012-10-04T06:57:17.793
> 
> 标签：spring, spring-security, kerberos, spring-ws

如何设置 spring ws 客户端，即“WebServiceTemplate”来向服务发出请求并使用 kerberos 进行身份验证。该服务是tomcat 上的一个spring ws 端点，它是kerberized。

遇到以下帖子[Spring Security Kerberos/SPNEGO Extension](http://blog.springsource.org/2009/09/28/spring-security-kerberos/)

此设置是否允许 spring ws 客户端使用 kerberos 进行身份验证？

```
<sec:http entry-point-ref="spnegoEntryPoint">
    <sec:intercept-url pattern="/secure/**" access="IS_AUTHENTICATED_FULLY" />
    <sec:custom-filter ref="spnegoAuthenticationProcessingFilter" position="BASIC_PROCESSING_FILTER" />
</sec:http>

<bean id="spnegoEntryPoint" class="org.springframework.security.extensions.kerberos.web.SpnegoEntryPoint" />

<bean id="spnegoAuthenticationProcessingFilter" class="org.springframework.security.extensions.kerberos.web.SpnegoAuthenticationProcessingFilter">
    <property name="authenticationManager" ref="authenticationManager" />
</bean>

<sec:authentication-manager alias="authenticationManager">
    <sec:authentication-provider ref="kerberosServiceAuthenticationProvider" />
</sec:authentication-manager>

<bean id="kerberosServiceAuthenticationProvider" class="org.springframework.security.extensions.kerberos.KerberosServiceAuthenticationProvider">
    <property name="ticketValidator">
        <bean class="org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator">
            <property name="servicePrincipal" value="HTTP/web.springsource.com" />
            <property name="keyTabLocation" value="classpath:http-web.keytab" />
        </bean>
    </property>
    <property name="userDetailsService" ref="dummyUserDetailsService" />
</bean>

<!-- Just returns the User authenticated by Kerberos and gives him the ROLE_USER -->
<bean id="dummyUserDetailsService" class="org.springframework.security.extensions.kerberos.sample.DummyUserDetailsService"/> 
```

如果我可以使用它来使用 kerberos 对服务进行身份验证，有人可以告诉我以下行的目的。“dummyUserDetailsS​​ervice”的实施应该包括什么

```
<bean id="dummyUserDetailsService" class="org.springframework.security.extensions.kerberos.sample.DummyUserDetailsService"/> 
```

另外，我如何设置通过 SSL 进行这些调用

非常感谢，

灰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T04:02:38.207

您提到的 Spring 配置用于设置 Web 应用程序（服务器端），以便它可以处理 Kerberos 身份验证。您的问题实际上是关于如何使客户端与可以进行 Kerberos 身份验证的服务器一起工作。我的建议是首先让您的服务器使用 kerberos 身份验证。您最初可以使用浏览器对其进行测试。

之后，您可以使用普通的 Java 客户端代码连接到服务器。有关详细信息，请参阅以下线程：[Java 中的简单 Kerberos 客户端？](https://stackoverflow.com/questions/5804314/simple-kerberos-client-in-java)

# c# - 如何从数据集中的多个表中获取数据？

> ID：12721860
> 
> 赞同：0
> 
> 时间：2012-10-04T06:58:04.953
> 
> 标签：c#, .net

我正在尝试使用 gridview 中的数据集显示来自 XML 的数据。现在我正在获取表格格式的数据。我能够显示单个表中的数据，但不能同时显示所有表数据，并且我有 7 个表可以显示数据。

这是我的代码：

```
protected void Page_Load(object sender, EventArgs e)
{
    LoadData();
}

public void LoadData()
{
    string filePath = Server.MapPath("~/App_Data/dummy.xml");
    DataSet dsData = new DataSet();
    FileStream fsReadSchema = new FileStream(filePath, FileMode.Open);
    dsData.ReadXml(fsReadSchema);
    fsReadSchema.Close();
    gv.DataSource = dsData.Tables[4];
    gv.DataBind();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:09:12.543

如果我得到正确 - 我会将这七个表合并为一个 - 合并，因为您知道它们包含什么以及合并标准是什么。其他解决方案 - 在页面上放置七个网格并单独绑定数据集中的每个表。

# windows - “二进制文件未使用调试信息构建”mfc 应用程序中的警告含义？

> ID：12721864
> 
> 赞同：26
> 
> 时间：2012-10-04T06:58:49.917
> 
> 标签：windows, visual-studio-2010, visual-c++, mfc, media-player

当我在 Windows 7 中运行我的 Windows 应用程序（MFC）时，我收到以下**警告。**

`'XXX.exe': Loaded 'C:\2010\Debug\bin\plugins\control\libhotkeys_plugin.dll', Binary was not built with debug information.`

请帮帮我。谢谢

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-10-04T07:22:32.620

看来您的二进制文件是在发布模式下构建的

现在有两种方法可以遵循......

*   使用“调试”配置构建二进制文件
*   更改项目设置，以便在发布模式下生成程序数据库文件 (PDB)。

    现在您可以从属性窗口生成 PDB...

![在此处输入图像描述](../Images/1c963733e0ef68166bc913a8e255e673.png) ![在此处输入图像描述](../Images/074f97828e8b9d563b0f70dc520ebc0c.png)

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2015-05-21T04:52:39.637

如果您的项目已经处于**调试模式**。请检查项目**构建选项卡中的****高级**构建设置对话框。

 **确保**Debug Info**未设置为 none ![在此处输入图像描述](../Images/6ec4bb7ec28915b51ccb27c4a76e5855.png) 参考：

[堆栈溢出](https://stackoverflow.com/a/27307748/2073920)

[MSDN](https://msdn.microsoft.com/query/dev12.query?appId=Dev12IDEF1&k=k%28cs.AdvancedBuildSettings%29;k%28TargetFrameworkMoniker-.NETFramework,Version%3Dv4.5%29&rd=true)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-01-29T00:40:46.447

看到此错误的另一种可能方式是，如果您尝试从托管代码 (C#) 调试本机代码 (C++)，并且管理代码的 csproj 设置为**仅本机**调试。要解决这个问题：

1.  在VS中右键单击您的csproj并选择**属性**
2.  在**Debug**选项卡上，将**Debugger type - Application process:**设置为*Mixed (Managed and Native)*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-03-17T05:27:56.770

在 VS 2010 中： **项目属性>>配置属性>>链接器>>调试>>生成调试信息**：*将其设置为“是”*

在 VS 2015 中： **项目属性>>配置属性>>链接器>>调试>>生成调试信息**：将其设置为“真”

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-09-23T09:59:21.750

如果你确定没有问题。您还可以检查应用程序池**物理路径**，因为有时路径会保留本地路径，因此它涉及不同的版本。

对于 IIS 中的实例，

->网站

->>指定站点

->>>看右边的窗口

->>>>查看操作按钮并单击基本设置

->>>>>检查物理路径**

# codeigniter - tinyMCE 图像输出

> ID：12721865
> 
> 赞同：0
> 
> 时间：2012-10-04T06:58:51.257
> 
> 标签：codeigniter, tinymce

我正在使用 TinyMCE 自定义插入图像，问题是当我使用 advimage 插入图像时，例如

```
http://mysite/folder/image.jpg 
```

但是加载时的图像链接变成

```
<img title="" src="../../image.jpg" alt=" " width="450" height="581" /> 
```

我怎样才能让输出变得像

```
<img title="" src="http://mysite/folder/image.jpg" alt=" " width="450" height="581" /> 
```

对不起，我的英语不好

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:52:15.990

查看 moxiecodes tinymce 示例页面之一： [http ://www.tinymce.com/tryit/url_conversion.php](http://www.tinymce.com/tryit/url_conversion.php)

我想这将向您展示如何配置您的 tinymce。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T16:13:35.293

```
 tinyMCE.init({
        // General options
        convert_urls : false, 
```

...

# php - 数组中的变量：真或假

> ID：12721867
> 
> 赞同：0
> 
> 时间：2012-10-04T06:59:06.237
> 
> 标签：php, mysql, arrays

我试图确定数组中的变量是否存在，如果它是“真”的状态，如果不是“假”的状态。问题是我收到所有数组变量的响应，当我只想知道页面变量是否存在于数组中，链接如h​​ttp://example.com/product.php? [image_id =50](http://example.com/product.php?image_id=50)

```
<?php 
$page = $_GET['image_id'];
if (!empty($_SESSION)){
foreach($_SESSION as $name => $value2)   {
  if (substr($name, 0, 7)=='images_') {
  $id = substr($name, 7, (strlen($name)-7));
  $get = mysql_query('SELECT * FROM images WHERE image_id='.mysql_real_escape_string((int)$id));
     while ($cart_info_row = mysql_fetch_assoc($get)) {
        $cart = array('image_id' => $cart_info_row['image_id'],);
        if (in_array($page, $cart)){echo 'true';} else {echo 'false';}
     }
  }
  }
  } 
  }   
?> 
```

假设以下数字在 SESSION print_r ($cart) 中：

```
Array ( [image_id] => 42 ) false

Array ( [image_id] => 45 ) false

Array ( [image_id] => 50 ) true

Array ( [image_id] => 49 ) false 
```

现在，我如何才能**确定**变量 50`($page = $_GET['image_id'];)`是否存在而没有其他三个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T09:07:03.527

据我了解，您的代码做了两件事：1 - 检查`images_$page`会话中是否存在密钥，2 - 检查`image_id=$page`数据库中是否存在图像。

```
<?php
$page = $_GET['image_id'];
if(isset($_SESSION['images_'.$page]))
{
    $get = mysql_query("SELECT * FROM images WHERE image_id='".mysql_real_escape_string($page)."' LIMIT 1");
    if($cart_info_row = mysql_fetch_row($get))
    {
        echo 'true';
    }
    else
    {
        echo 'false';
    }
}
else
{
    echo 'false';
} 
```

这里`isset`用于检查密钥是否`images_$page`存在于`$_SESSION`. 它比调用 2 次`substr()`函数更快。

此外，由于我们只需要检查给定图像是否存在，`foreach`因此将循环替换为`if`.

之后，一个 MySQL 查询运行，并且由于我们只需要第一个匹配，`LIMIT 1`因此添加以使查询更快。与 image_id 的比较也已包含在查询中，因此足以测试是否有返回的行（这就是为什么 original`while`被替换为`if`）。

# sql - 更改 SQL 服务器函数以接受新的可选参数

> ID：12721869
> 
> 赞同：81
> 
> 时间：2012-10-04T06:59:21.027
> 
> 标签：sql, sql-server-2005

我已经在 SQL Server 2005 中有一个函数：

```
ALTER function [dbo].[fCalculateEstimateDate] (@vWorkOrderID numeric)
Returns varchar(100)  AS
Begin
  <Function Body>
End 
```

我想修改这个函数来接受额外的可选参数@ToDate。如果提供了@Todate，我将在函数中添加逻辑，然后使用现有代码继续执行其他操作。

我将函数修改为：

```
ALTER function [dbo].[fCalculateEstimateDate] (@vWorkOrderID numeric,@ToDate DateTime=null)
Returns varchar(100)  AS
Begin
  <Function Body>
End 
```

现在我可以调用函数：

```
SELECT dbo.fCalculateEstimateDate(647,GETDATE()) 
```

但它在以下调用时出错：

```
SELECT dbo.fCalculateEstimateDate(647) 
```

作为

> 为过程或函数 dbo.fCalculateEstimateDate 提供的参数数量不足。

根据我的理解，这不应该发生。

我错过了什么吗？提前致谢。

* * *

## 回答 #1

> 赞同：122
> 
> 时间：2012-10-04T07:07:28.453

来自[`CREATE FUNCTION`](http://msdn.microsoft.com/en-us/library/ms186755%28v=sql.90%29.aspx)：

> 当函数的参数有默认值`DEFAULT`时，调用函数时必须指定关键字才能取回默认值。此行为与在存储过程中使用具有默认值的参数不同，其中省略参数也意味着默认值。

所以你需要这样做：

```
SELECT dbo.fCalculateEstimateDate(647,DEFAULT) 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2015-05-06T15:05:46.933

保持`SELECT dbo.fCalculateEstimateDate(647)`通话工作的方法是：

```
ALTER function [dbo].[fCalculateEstimateDate] (@vWorkOrderID numeric)
Returns varchar(100)  AS
   Declare @Result varchar(100)
   SELECT @Result = [dbo].[fCalculateEstimateDate_v2] (@vWorkOrderID,DEFAULT)
   Return @Result
Begin
End

CREATE function [dbo].[fCalculateEstimateDate_v2] (@vWorkOrderID numeric,@ToDate DateTime=null)
Returns varchar(100)  AS
Begin
  <Function Body>
End 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-10-03T20:42:15.913

我发现这里建议的 EXECUTE 命令[T-SQL - 使用默认参数的函数](https://stackoverflow.com/questions/8358315/t-sql-function-with-default-parameters)可以正常工作。使用这种方法，调用函数时不需要“DEFAULT”，您只需像使用存储过程一样省略参数。

# jquery - 如何通过单击关闭按钮关闭弹出窗口？

> ID：12721870
> 
> 赞同：0
> 
> 时间：2012-10-04T06:59:29.137
> 
> 标签：jquery, asp.net, popup

这是我在 aspx 页面中的 div：

```
<div id="pop-up">

    <button id="btnClose">Close</button>
        <div id="mopopuptitle">
        </div>
        <table id="popuptable" cellspacing="15">
        </table>
    </div> 
```

这是我的 js 代码：

```
$('td#' + parentElement).find('span.download_active').next().hover(function (e) {
                topPos = e.pageY - ($('div#pop-up').height()) - 35;
                leftPos = e.pageX - ($('div#pop-up').width()) - 30;
                if (leftPos < 0) { leftPos = 10; }
                GetAssociatedPeopleList(json_row.value.task_id);
                $('div#pop-up').show().css('top', topPos).css('left', leftPos).appendTo('body');
                $('#mopopuptitle').html('People who have taken up this Request');
                $('#btnClose').button({ icons: { primary: "ui-icon-closethick" }, text: false })
            .css({ width: '30px', height: '20px', position: 'absolute', right: -'25px', top: '-25px' })
            .click($(this).close());
            }, function() {

            }); 
```

上面的代码有一些业务逻辑。不要为此烦恼..我需要的是当我单击关闭按钮时必须关闭弹出窗口..

我试过这些线..

```
$('div#pop-up').show().css('top', topPos).css('left', leftPos).appendTo('body');
                $('#mopopuptitle').html('People who have taken up this Request');
                $('#btnClose').button({ icons: { primary: "ui-icon-closethick" }, text: false })
            .css({ width: '30px', height: '20px', position: 'absolute', right: -'25px', top: '-25px' })
            .click($(this).close()); 
```

我可以通过尝试这段代码来实现..我应该改变什么？有没有其他选择？请帮帮我。。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:01:53.663

在关闭按钮的“OnClientClick”事件上尝试此代码

```
$find('yourpopId').hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:42:15.617

您可以从后面的代码中控制它：

Page.asp：

```
<div id="pop-up" runat="server">
   <button id="btnClose" runat="server" Text="Close" />
    ...
</div> 
```

Page.asp.vb：

```
Private Sub btnClose_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnClose.Click
  pop-up.visible = False
End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:10:06.977

你也可以试试下面的代码。

**查询：**

```
$('div#pop-up').dialog({ 
      buttons: [{ text: "Close" , click: function () {
    $(this).dialog("close"); }
                }]
 }); 
```

# jquery - 将一页水平滑动到另一页上

> ID：12721879
> 
> 赞同：0
> 
> 时间：2012-10-04T07:00:05.433
> 
> 标签：jquery, horizontal-scrolling

我正在尝试创建一个水平滚动页面，将一个页面滑过另一个页面。我希望顶部的页面在主页上滑动，直到它到达页面左侧的主要内容（用叉号标记）。然后我希望顶部的页面停止水平滑动，而是在页面内滚动内容。希望这个描述清楚。我在下面添加了一张图片。

![在此处输入图像描述](../Images/8e05bc36e70f4a79cbfcbee7114e4fed.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:08:30.227

听起来你需要在彼此之上构建所有“页面”，所以如果你禁用了 javscript，你可以向下滚动。然后让jquery找到浏览器的高度，然后将其`height`放在每个“页面”上并将每个页面设置为`overflow-y:scroll;`然后将每个“页面”设置为“远离屏幕”左右。然后简单地调用left animate到0px；

# ruby-on-rails-3 - 尝试在测试商店中安装 shopify 应用程序时出错

> ID：12721881
> 
> 赞同：0
> 
> 时间：2012-10-04T07:00:12.377
> 
> 标签：ruby-on-rails-3, shopify

我正在按照[rails 3 指南](http://wiki.shopify.com/Creating_an_app_and_deploying_it_to_Heroku_using_Rails_3 "指导")创建使用 oauth2 进行身份验证的 shopify 应用程序，但是一旦我尝试在测试商店中安装该应用程序，我就会收到此错误。

```
{"error":"invalid_request","error_description":"The redirect_uri and application url must have matching hosts"} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:36:55.237

该错误意味着您在应用程序设置中设置的应用程序 URL 和您在 OAuth 请求中传递的重定向 URL 用于不同的域。去检查您的应用程序设置以及 Omniauth 设置文件，并确保它们设置正确。

# android - 如何剪辑过渡动画以仅在子视图中绘制？

> ID：12721882
> 
> 赞同：2
> 
> 时间：2012-10-04T07:00:18.173
> 
> 标签：android, android-animation

我正在为活动中的视图运行从屏幕顶部到底部的过渡动画。它位于屏幕标题视图的顶部。如何仅在视图中（仅针对子级）或从特定的 Y 或 X 位置应用动画？

我正在使用下面的代码

XML 代码

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android" android:interpolator="@android:anim/accelerate_interpolator">
<translate android:fromYDelta="-100%p" android:toYDelta="0" android:duration="500" />
</set> 
```

Java 代码

```
Animation in = AnimationUtils.loadAnimation(_activity, R.anim.in_from_top);
view.setAnimation(in); 
```

现在这个视图来自屏幕顶部。我希望动画在特定的 X、Y 点而不是屏幕顶部开始。动画视图位于 Activity 标题之上，根据我的要求，这是一个缺陷。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T17:13:53.310

如果您已将两个孩子添加到单亲，则会出现此问题。将子项添加到另一个布局，然后将此布局添加到实际布局。这将解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T20:30:47.313

您只能从 java 代码中尝试动画

```
Animation animation1=new TranslateAnimation(0.0f, 0.0f, 10.0f, 250.0f);
animation1.setDuration(5000);
view.startAnimation(animation1); 
```

`TranslateAnimation(fromX, toX, fromY, toY)`你可以像我在上面的代码中所做的那样设置你的 X 和 Y 坐标。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:48:20.603

您将需要创建一个自定义动画类，如下所示：

```
public class ExpandAnimation extends Animation {
private View mAnimatedView;
private LayoutParams mViewLayoutParams;
private int mMarginStart, mMarginEnd;
private boolean mIsVisibleAfter = false;
private boolean mWasEndedAlready = false;

/**
 * Initialize the animation
 * 
 * @param view
 *            The layout we want to animate
 * 
 * @param duration
 *            The duration of the animation, in ms
 */
public ExpandAnimation(View view, int duration) {
    setDuration(duration);
    mAnimatedView = view;
    mViewLayoutParams = (LayoutParams) view.getLayoutParams();
    mIsVisibleAfter = (mViewLayoutParams.bottomMargin == 0);
    mMarginStart = mViewLayoutParams.bottomMargin;
    mMarginEnd = (mMarginStart == 0 ? (0 - view.getHeight()) : 0);
    view.setVisibility(View.VISIBLE);
}

@Override
protected void applyTransformation(float interpolatedTime, Transformation t) {
    super.applyTransformation(interpolatedTime, t);

    if (interpolatedTime < 0.5f) {
        mViewLayoutParams.bottomMargin = mMarginStart + (int) ((mMarginEnd - mMarginStart) * interpolatedTime);
        mAnimatedView.requestLayout();
    } else if (!mWasEndedAlready) {
        mViewLayoutParams.bottomMargin = mMarginEnd;
        mAnimatedView.requestLayout();

        if (mIsVisibleAfter) {
            mAnimatedView.setVisibility(View.GONE);
        }
        mWasEndedAlready = true;
    }
} 
```

}

然后将此动画应用于所需的 x,y 坐标。

假设您在某个 x,y 坐标处有一个按钮，单击它时我们会为视图设置动画，然后将其向后滚动。你将不得不做这样的事情：

```
 private View previous = null;
 private void doTransformation() {
    if (previous != null) {
        ((LinearLayout.LayoutParams) previous.getLayoutParams()).bottomMargin = -200;
        ExpandAnimation anim = new ExpandAnimation(previous, 300);
        previous.startAnimation(anim);
        previous = null;
    } else {
        View yourlayout= findViewById(R.id.your_layout);
        ExpandAnimation anim = new ExpandAnimation(yourLayout, 300);
        detailLayout.startAnimation(anim);
        previous = yourLayout;
    }
} 
```

# iphone - ios中json的URL解码

> ID：12721885
> 
> 赞同：0
> 
> 时间：2012-10-04T07:00:30.713
> 
> 标签：iphone, ios, url, connection, json

我在 php 中有 1 个 web 服务，其中提到了 bel 浏览器 url：

```
http:Domain/webservice/ACTEC_WebService.php?lastupdate=2012-09-01 01:00:00 
```

现在，当我尝试在我的 iphone 应用程序中获取 url 时，它正在使用这个 url：

```
http://Domain/webservice/ACTEC_WebService.php?lastupdate=2012-09-01%2001:00:00 
```

这正在制造问题。

我已使用此代码从我的 url 中获取数据。

```
 SBJSON *json = [SBJSON new];
        json.humanReadable = YES;
        responseData = [[NSMutableData data] retain];

        NSString *service = @"";
        NSString *str;
        str = @"LastUpdated";

        NSString *requestString = [NSString stringWithFormat:@"{\"LastUpdated\":\"%@\"}",str];

       // [[NSUserDefaults standardUserDefaults] setValue:nil forKey:@"WRONGANSWER"];

        NSLog(@"request string:%@",requestString);
        NSData *requestData = [NSData dataWithBytes: [requestString UTF8String] length: [requestString length]];

        NSString *fileLoc = [[NSBundle mainBundle] pathForResource:@"URLName" ofType:@"plist"];
        NSDictionary *fileContents = [[NSDictionary alloc] initWithContentsOfFile:fileLoc];
        NSString *urlLoc = [fileContents objectForKey:@"URL"];
        //urlLoc = [urlLoc stringByAppendingString:service];
        NSLog(@"URL : %@",urlLoc);

        NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL: 
                                        [NSURL URLWithString:urlLoc]];  
        NSString *postLength = [NSString stringWithFormat:@"%d", [requestData length]];
        [request setHTTPMethod: @"POST"];
        [request setValue:postLength forHTTPHeaderField:@"Content-Length"];
        [request setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
        [request setHTTPBody:requestData];

        NSError *respError = nil;
        NSData *returnData = [NSURLConnection sendSynchronousRequest: request returningResponse: nil error: &respError ];
        NSString *responseString = [[NSString alloc] initWithData:returnData encoding: NSUTF8StringEncoding];
        NSLog(@"Resp : %@",responseString);

        if (respError) 
        {
            //        NSString *msg = [NSString stringWithFormat:@"Connection failed! Error - %@ %@",
            //                         [respError localizedDescription],
            //                         [[respError userInfo] objectForKey:NSURLErrorFailingURLStringErrorKey]]; 
            UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"ACTEC" 
                                                                message:@"check your network connection" delegate:self cancelButtonTitle:@"OK" 
                                                      otherButtonTitles:nil];
            [alertView show];
            [alertView release];

        } 
        else
        {
......
} 
```

在这里，我得到空响应，因为 url 正在被解码......我怎样才能解决这个问题......帮帮我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:49:27.800

```
NSString *urlLoc = [[fileContents objectForKey:@"URL"] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]; 
NSMutableData *postData = [NSMutableData data];
    NSMutableURLRequest *urlRequest;        
    [postData appendData: [[NSString stringWithFormat: @"add your data which you want to send"] dataUsingEncoding: NSUTF8StringEncoding]];  
    NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];
    urlRequest = [[NSMutableURLRequest alloc] init];
    [urlRequest setURL:[NSURL URLWithString:urlLoc]];
    [urlRequest setHTTPMethod:@"POST"];
    [urlRequest setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [urlRequest setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
    [urlRequest setHTTPBody:postData];

    NSString *temp = [[NSString alloc] initWithData:postData encoding:NSUTF8StringEncoding];
    NSLog(@"\n\nurl =%@ \n posted data =>%@",urlLoc, temp); 
```

检查nslog。您发送给服务的数据。

```
NSData *response = [NSURLConnection sendSynchronousRequest:urlRequest returningResponse:nil error:nil];
NSString *json_string = [[NSString alloc] initWithData:response encoding:NSUTF8StringEncoding];
NSLog(@"json_string >> %@",json_string); 
```

也许这会对你有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:09:28.177

嘿亲爱的只是另一个例子我只是发布我的这段代码..

首先创建新的 SBJSON 解析器对象

```
SBJSON *parser = [[SBJSON alloc] init];

NSURLRequest *request = [NSURLRequest requestWithURL:
    [NSURL URLWithString:@"http:Domain/webservice/ACTEC_WebService.php?lastupdate=2012-09-01%2001:00:00"]]; 
```

执行请求并将 JSON 作为 NSData 对象返回

```
NSData *response = [NSURLConnection sendSynchronousRequest:request 
    returningResponse:nil error:nil]; 
```

从 NSData 响应中获取 JSON 作为 NSString

```
NSString *json_string = [[NSString alloc] 
    initWithData:response encoding:NSUTF8StringEncoding]; 
```

将 JSON 响应解析为对象这里我们使用 NSArray 因为我们正在解析 JSON 状态对象的数组

```
NSArray *statuses = [parser objectWithString:json_string error:nil] 
```

在状态数组中，您拥有所需的所有数据。

我希望这可以帮助你...

:)

# rvm - rvm 不使用 zsh 设置默认 ruby

> ID：12721890
> 
> 赞同：3
> 
> 时间：2012-10-04T07:00:46.770
> 
> 标签：rvm, zsh

我在带有 rvm 的 OSX 中使用 zsh，但它不会在登录时加载默认的 ruby​​：

在我的 .zshrc 我有

```
source $ZSH/oh-my-zsh.sh
[[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm" 
```

我试图交换这两条线，但它仍然不起作用..

（当然在 bash 中它可以工作..）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-07T22:14:30.000

问题是 OMZ 是`~/.zshrc`用 hardcoded生成的`PATH`，这使得每次读取这个文件时shell都会覆盖它。

ZSH 中还有一个错误或一些神秘的力量使 ZSH 被读取`~/.zshrc`-`~/.zprofile`这导致重置 PATH。

只需注释掉该`PATH=...`行`~/.zshrc`，它应该可以工作。

至于提到的错误 - 它应该已经修复，更新 RVM -`rvm get head`并打开一个新终端......如果它仍然出现 -[为 RVM 打开一个新问题](https://github.com/wayneeseguin/rvm/issues)。

# deployment - 如何在 ProjectName.deploy.cmd 中传递站点名称

> ID：12721896
> 
> 赞同：7
> 
> 时间：2012-10-04T07:01:11.193
> 
> 标签：deployment, msbuild, msdeploy

我正在尝试运行参数`/p:DeployOnBuild=True`传递时由 MSBuild 生成的 ProjectName.deply.cmd。参数“ComputerName”之一将作为`https://WebServer01:8172/MSDeploy.axd?SiteName=MySiteName`. 我的命令行是

```
ProjectName.deploy.cmd /Y /M:https://WebServer01:8172/MSDeploy.axd?Site=MySiteName 
                       -AllowUntrusted /U:DeployUserName /P:Password /A:Basic 
```

它返回

```
Error: Unrecognized argument 'MySiteName'. All arguments must begin with "-". 
```

实际执行的命令是

```
"C:\Program Files\IIS\Microsoft Web Deploy V3\\msdeploy.exe" 
    -source:package='Y:\ProjectName.zip'
    -dest:auto,computerName='https://WebServer01:8172/MSDeploy.axd?Site',userName='DeployUserName',password='Password',authtype='Basic',includeAcls='False'
    -verb:sync -disableLink:AppPoolExtension -disableLink:ContentExtension 
    -disableLink:CertificateExtension 
    -setParamFile:"Y:\ProjectName.SetParameters.xml"
    MySiteName
    -AllowUntrusted 
```

请注意， /M 的参数`https://WebServer01:8172/MSDeploy.axd?Site=MySiteName`分为两个参数，因此创建了`computerName='https://WebServer01:8172/MSDeploy.axd?Site'`and 和额外的参数`MySiteName`。

我已经完成了[在 Visual Studio 2010 Service Pack 1 中运行带引号参数的部署包失败，](http://support.microsoft.com/kb/2537134)但这仅处理`ArgMsDeployAdditionalFlags`而不是参数，例如`/M:ComputerName`.

当 SiteName 未通过时，我可以使用在服务器上具有管理员权限的用户进行部署，但是当使用标准 IIS 用户 DeployUserName 时，我得到 401

```
ProjectName.deploy.cmd /Y /M:https://WebServer01:8172/MSDeploy.axd
                       -AllowUntrusted /U:DeployUserName /P:Password /A:Basic 
```

服务器返回 401

```
Error Code: ERROR_USER_UNAUTHORIZED
More Information: Connected to the remote computer ("WebServer01") using the Web 
Management Service, but could not authorize. Make sure that you are using the
correct user name and password, that the site you are connecting to exists, and
that the credentials represent a user who has permissions to access the site.
Learn more at: http://go.microsoft.com/fwlink/?LinkId=221672#ERROR_USER_UNAUTHORIZED.

Error: The remote server returned an error: (401) Unauthorized. 
```

该用户的权限很好，因为使用该用户`VS2012`的`MSDeploy`配置文件发布工作正常。我也可以构建`msdeploy.exe`命令，并且运行良好。我必须使用`ProjectName.deploy.cmd`它作为`Team Build`from的一部分生产的`TFS2010`。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-04T11:43:11.370

您是否尝试过引用该论点？

```
ProjectName.deploy.cmd /Y "/M:https://WebServer01:8172/MSDeploy.axd?Site=MySiteName" 
                   -AllowUntrusted /U:DeployUserName /P:Password /A:Basic 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-03-26T13:07:01.953

以为我会为像我这样偶然发现此问题的其他人添加答案，试图弄清楚为什么这不起作用，以及谁想要等效的 msdeploy 命令。

正如评论中提到的那样，由于参数解析方式存在错误，引用该参数将不起作用，来自 MS 文档：

> 在撰写本文时，由于 Web 发布管道 (WPP) 中的错误，您无法使用包含查询字符串的端点地址运行 .deploy.cmd 文件。在这种情况下，您需要直接使用 MSDeploy.exe 部署您的 Web 包。

来源：[https ://docs.microsoft.com/en-us/aspnet/web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages](https://docs.microsoft.com/en-us/aspnet/web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages)

因此，您应该直接使用 MSDeploy。相当于问题中的 deploy.cmd 参数：

```
MSDeploy.exe -source:package='<fullPathToDeployable>\<projectName>.zip' 
-dest:auto,computerName="https://<ipOrDnsName>:8172/MSDeploy.axd",userName="<userName>",password="<pwd>",authtype="Basic",includeAcls="False" 
-verb:sync 
-disableLink:AppPoolExtension 
-disableLink:ContentExtension 
-disableLink:CertificateExtension 
-setParamFile:"<fullPathToDeployable>\<projectName>.SetParameters.xml"  
-setParam:name="IIS Web Application Name",value="<siteName>" 
-AllowUntrusted 
```

（替换带尖括号的单词）

# ads - 带有重定向的广告中的社交背景

> ID：12721897
> 
> 赞同：4
> 
> 时间：2012-10-04T07:01:30.727
> 
> 标签：ads, facebook-ads-api

我正在尝试将“带有重定向的广告中的社交上下文”应用到我们的创意编辑器，但没有成功。使用重定向到我的 Facebook 页面的 URL 并将“follow_redirect”标志设置为 1 创建类型 1 广告素材。广告素材已成功创建，但没有 related_fan_page。

想知道我做错了什么，或者我的APP尚未获得批准。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T05:34:40.283

如果 FB 在他们身边没有找到相关的粉丝页面，则他们会删除相关的粉丝页面属性。

使用[https://graph.facebook.com/search?type=adobjectbyurl&q=URL&access_token=XXX检查哪个对象映射到您的 URL，并使用](https://graph.facebook.com/search?type=adobjectbyurl&q=URL&access_token=XXX)[https://developers.facebook.com/docs](https://developers.facebook.com/docs/reference/ads-api/connectionobjects/)检查您是否是该对象的管理员[/reference/ads-api/connectionobjects/](https://developers.facebook.com/docs/reference/ads-api/connectionobjects/)。

# java - 在 Java 中的多线程 Web 爬虫中控制线程数和控制对象访问

> ID：12721900
> 
> 赞同：2
> 
> 时间：2012-10-04T07:01:43.827
> 
> 标签：java, multithreading, web-crawler

我构建了一个网络爬虫，但它是单线程的。现在我正在扩展它以使用多个线程。我无法理解以下内容：

1.  我应该创建多少线程？它应该是一个固定的数字还是一个动态的，根据持有 URI 的队列的长度而变化？（也考虑到可用内存）
2.  我已经通过 Runnable 接口为线程创建了一个新类，我希望每个线程的`run`方法都能访问我在 Main 类中创建的正在调用`thread.start()`. 我应该如何从每个线程访问这个对象？

我正在使用 NetBeans。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T07:28:42.337

对于第一个问题，我猜在您的情况下，最好使用动态调整的线程池，例如：

```
ExecutorService exec = Executors.newCachedThreadPool(); 
```

> 创建一个线程池，根据需要创建新线程，但在可用时将重用以前构造的线程。这些池通常会提高执行许多短期异步任务的程序的性能。如果可用，对执行的调用将重用以前构造的线程。如果没有可用的现有线程，将创建一个新线程并将其添加到池中。六十秒内未使用的线程将被终止并从缓存中删除。因此，保持空闲足够长时间的池不会消耗任何资源。

对于第二个问题，您可以创建一个构造函数并以这种方式传递对象：

```
class ThreadTask implements Runnable {
     private Object obj;

     public ThreadTask(Object obj) {
         this.obj = obj;
     }

     public void run() {
     }
}

public static void main(String[] args) {
     Object obj = new Object();
     exec.submit(new ThreadTask(obj));
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T07:40:52.140

你肯定会想要一个网络爬虫的并发性:)

而且您可能会想要设置一个线程池，以便您可以重用线程，而不会花费为每个任务实例化新线程的成本。

您拥有的线程池选项是 FixedThreadPool 和 CachedThreadPool。[Java 并发教程](http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html)中详细解释了其中每一个的好处。CachedThreadPool 的一大缺点是可以创建的线程数没有限制。如果将大量线程添加到池中，您可能会看到一些显着的性能下降或超时（如果您定义了套接字超时）。

无论哪种情况，设置线程池的最佳实践是通过[java.util.concurrent.Executors](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executors.html)

这只是通过调用以下之一来创建[ExecutorService的问题：](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html)

```
ExecutorService threadPool = Executors.newCachedThreadPool();
ExecutorService threadPool = Executors.newFixedThreadPool(500); 
```

拥有线程池后，您可以使用 submit() 方法调用单个可运行对象（不返回响应）或[可调用对象（返回响应）。](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Callable.html)

如果您使用可调用对象生成[期货](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html)，也可以运行 .invokeAll() ：

```
futures = cachedThreadPool.invokeAll(tasks,
                                     timeout,
                                     TimeUnit.MILLISECONDS); 
```

然后得到结果：

```
for (Future f: futures) {
   someList.add(f.get())
} 
```

如果您希望多个线程能够修改同一个对象，则需要[在 setter 中使用 synchronized 关键字](http://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html)或使用[线程安全数据类型](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/package-summary.html)。

希望这可以帮助。祝你好运！！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T07:22:06.317

不可能有任何具体的答案。但是您可以学习以下内容-

*对于第 1 点研究`ExecutorService and ThreadPoolExecutor`。*

*对于第 2 点研究`callable and Future`。*

# android - 文本在 Android 的 AlertDialog 中不可见？

> ID：12721905
> 
> 赞同：0
> 
> 时间：2012-10-04T07:01:54.070
> 
> 标签：android, android-alertdialog

我正在使用必须在整个屏幕上显示的警报对话框，并且高度不会取决于文本的长度。但是我在显示文本时遇到了问题。我正在使用以下代码：

```
AlertDialog.Builder adb = new AlertDialog.Builder(getParent()); 
                WindowManager.LayoutParams lp = new WindowManager.LayoutParams();
                lp.width = WindowManager.LayoutParams.FILL_PARENT;
                lp.height = WindowManager.LayoutParams.FILL_PARENT;
                adb.setTitle("Alert");  
                adb.setCancelable(true);  
                adb.setNeutralButton(android.R.string.ok,  
                        new DialogInterface.OnClickListener() {  
                    public void onClick(DialogInterface dialog, int whichButton){
                    }  
                }); 
                adb.setMessage(ConfigClass.MSG_USER_INFO_EMPOWEREDON);
                Dialog d = adb.setView(new View(this)).create();
                lp.copyFrom(d.getWindow().getAttributes());
                d.getWindow().setAttributes(lp);
                d.show(); 
```

请让我知道我错过了什么。 ![在此处输入图像描述](../Images/2ca8b42be3349b78e1178a3c9b820b52.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:14:54.837

```
AlertDialog alertDialog = new AlertDialog.Builder(this).create();
alertDialog.setTitle("Title");
alertDialog.setMessage("Are you ok?");
alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
   public void onClick(DialogInterface dialog, int which) {
      // here you can add ok click events
   }
});
alertDialog.setIcon(R.drawable.icon);
alertDialog.show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:10:16.663

您可以直接调用： adb.show();

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:29:47.313

您正在向 AlertDialog 添加新视图，因此无法再显示消息。我不理解您将 View 添加到 AlertDialog 的座右铭，但如果您的要求是这样，请添加一个 TextView 以向 View 显示消息，然后将 View 设置为 AlertDialog，如下所示。

```
TextView tv = new TextView(this);
tv.setText("your message");
View v = new View(this);
v.addView(tv);
alertDialog.setView(v); 
```

# c# - 如何使控制台能够打印 65535 个 UNICODE 字符中的任何一个

> ID：12721907
> 
> 赞同：14
> 
> 时间：2012-10-04T07:02:02.253
> 
> 标签：c#, unicode

我正在尝试使用 unicode 字符并从[Wikipedia](http://en.wikipedia.org/wiki/List_of_Unicode_characters)页面获取 unicode 值

我的问题是我的控制台显示所有**C0 控件和基本拉丁**unicode 字符，即从 U+0000 到 U+00FF 但对于所有其他类别，如**拉丁扩展 -B、西里尔文、其他语言等，**控制台打印问号字符 ( **?** ) .

我的 C# 代码是

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace DataTypes
{
    class Program
    {
        static void Main(string[] args)
        {

            char ch = '\u0181';

            Console.WriteLine("the unicode character is  value" + ch);

        }
    }
} 
```

我正在使用 Windows 7、Visual Studio 2010。我应该怎么做才能增加对 Unicode 的支持。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-06T14:39:07.213

这个问题背后有很多历史，我会先讨论一下。控制台模式应用程序只能使用 8 位文本编码运行。这可以追溯到 42 年前 Ken Thompson 等人在设计 Unix 时做出的设计决定。Unix 的一个核心特性是终端 I/O 是通过管道完成的，您可以将管道链接在一起以将一个程序的输出馈送到另一个程序的输入。此功能也在 Windows 中实现，并且由 .NET 以及 ProcessStartInfo.RedirectStandardXxxx 属性支持。

不错的功能，但是当操作系统开始采用 Unicode 时，这成为了一个问题。Windows NT 是第一个以完全 Unicode 为核心的系统。Unicode 字符必须始终进行编码，当时的常见选择是 UCS，后来演变为 utf-16。现在有一个 I/O 重定向问题，当它被重定向到仍然使用 8 位编码字符的程序时，一个吐出 16 位编码字符的程序将无法正常运行。

归功于 Ken Thompson 以及为这个问题找到解决方案，他发明了 utf-8 编码。

这也适用于 Windows。在控制台模式应用程序中很容易做到，您必须重新分配 Console.OutputEncoding 属性：

```
using System;
using System.Text;

class Program {
    static void Main(string[] args) {
        Console.OutputEncoding = Encoding.UTF8;
        Console.WriteLine("Ĥėļŀō ŵŏŗłđ");
        Console.ReadLine();
    }
} 
```

但是，您现在会遇到另一个问题，为控制台窗口选择的字体可能无法呈现文本。按 Alt+Space 调用系统菜单、属性、字体选项卡。您需要选择一种非光栅字体。采摘非常苗条，在 Vista 及以上您可以选择 Consolas。重新运行您的程序，重音字符应该会正确呈现。不幸的是，以编程方式强制使用控制台字体是一个问题，您需要记录此配置步骤。此外，像 Consolas 这样的字体没有完整的可能的 Unicode 字形集。您可能会看到没有字形的 Unicode 代码点出现矩形。这一切都在提醒你，创建一个 GUI 程序确实是你最好的选择。

# c++ - c++，如何验证输入的数据是否是正确的数据类型

> ID：12721911
> 
> 赞同：13
> 
> 时间：2012-10-04T07:02:21.647
> 
> 标签：c++, cin

> **可能重复：**
> [如何在 C++ 中将用户输入验证为双精度？](https://stackoverflow.com/questions/3273993/how-do-i-validate-user-input-as-a-double-in-c)

我是 C++ 新手，我有一个函数，我希望用户在其中输入一个`double`值。我将如何确保输入的值是正确的数据类型？另外，如何处理错误？目前，这就是我所拥有的：

```
if(cin >> radius){}else{} 
```

我使用 `try{}catch(){}，但我认为这不是解决此问题的正确方法。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-04T07:20:34.213

如果`ostream& operator>>(ostream& , T&)`格式化数据（例如整数、双精度、浮点数等）的提取失败，则为`stream.fail()`真，因此`!stream`也将评估为真。

所以你可以使用

```
cin >> radius;
if(!cin){
    cout << "Bad value!";
    cin.clear();
    cin.ignore(numeric_limits<streamsize>::max(), '\n');
    cin >> radius;
} 
```

或者干脆

```
while(!(cin >> radius)){
    cout << "Bad value!";
    cin.clear();
    cin.ignore(numeric_limits<streamsize>::max(), '\n');
} 
```

这`ignore`对行的其余部分很重要，因为`operator>>`不会再从流中提取任何数据，因为它的格式错误。所以如果你删除

```
cin.ignore(numeric_limits<streamsize>::max(), '\n'); 
```

你的循环永远不会结束，因为输入没有从标准输入中清除。

也可以看看：

*   [`std::basic_istream::ignore`](http://en.cppreference.com/w/cpp/io/basic_istream/ignore)( `cin.ignore`)
*   [`std::basic_istream::fail`](http://en.cppreference.com/w/cpp/io/basic_ios/good) ( `cin.fail()`)
*   [`std::numeric_limits`](http://en.cppreference.com/w/cpp/types/numeric_limits)（用于忽略字符的最大数量，定义在 中`<limits>`）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T07:33:21.987

您需要使用`std::getline`and阅读整行`std::string`。这是完全验证整行数据类型是否正确的方法：

```
std::string line;
while(std::getline(std::cin, line))
{
    std::stringstream ss(line);
    if ((ss >> radius) && ss.eof())
    {
       // Okay break out of loop
       break;
    }
    else
    {
       // Error!
       std::cout << "Invalid input" << std::endl;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T07:35:14.610

`int`这个例子是不言自明的，但是用这种方法你不能区分`double`数据类型。

```
int main()
{
  double number = 0;

  if (!(std::cin >> number))
  {
    std::cout << "That's not a number; ";
  }
  else
  {
    std::cout << "That's  a number; ";
  }
} 
```

# performance - Matlab矩阵乘法速度

> ID：12721912
> 
> 赞同：7
> 
> 时间：2012-10-04T07:02:42.037
> 
> 标签：performance, matlab, matrix, time-complexity, matrix-multiplication

我想知道 matlab 怎么能这么快地将两个矩阵相乘。将两个 NxN 矩阵相乘时，执行 N^3 次乘法。即使使用[Strassen 算法](http://en.wikipedia.org/wiki/Strassen_algorithm)，它也需要 N^2.8 次乘法，这仍然是一个很大的数字。我正在运行以下测试程序：

```
a = rand(2160);
b = rand(2160);
tic;a*b;toc 
```

使用 2160 是因为 2160^3=~10^10 （ a*b 应该是大约 10^10 次乘法）

我有：

```
Elapsed time is 1.164289 seconds. 
```

（我在 2.4Ghz 笔记本上运行并且没有发生线程）这意味着我的计算机在 1 秒多一点的时间内完成了 ~10^10 的操作。

这怎么可能？？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-04T07:20:09.020

这是几件事的结合：

*   Matlab 确实是多线程的。
*   内核使用向量指令进行了高度优化。

这是我机器上的数字：Core i7 920 @ 3.5 GHz（4 核）

```
>> a = rand(10000);
>> b = rand(10000);
>> tic;a*b;toc
Elapsed time is 52.624931 seconds. 
```

任务管理器显示 4 个核心的 CPU 使用率。

现在进行一些数学运算：

```
Number of multiplies = 10000^3 = 1,000,000,000,000 = 10^12

Max multiplies in 53 secs =
    (3.5 GHz) * (4 cores) * (2 mul/cycle via SSE) * (52.6 secs) = 1.47 * 10^12 
```

因此，Matlab 正在实现`1 / 1.47 = 68%`最大可能 CPU 吞吐量的效率。

我没有看到任何不寻常的地方。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-04T07:51:33.540

要检查您是否在 MATLAB 中使用多线程，请使用此命令

```
maxNumCompThreads(n) 
```

这会将要使用的核心数设置为 n。现在我有一个酷睿 i7-2620M，它的最高频率为 2.7GHz，**但**它也有一个[3.4GHz 的睿频模式](http://ark.intel.com/products/52231/Intel-Core-i7-2620M-Processor-4M-Cache-up-to-3_40-GHz)。CPU有两个核心。让我们来看看：

```
A = rand(5000);
B = rand(5000);
maxNumCompThreads(1);
tic; C=A*B; toc
Elapsed time is 10.167093 seconds.

maxNumCompThreads(2);
tic; C=A*B; toc
Elapsed time is 5.864663 seconds. 
```

于是就有了多线程。

我们来看看单CPU的结果。A*B 执行大约 5000^3 次乘法*和*加法。所以单线程代码的性能是

```
5000^3*2/10.8 = 23 GFLOP/s 
```

现在是 CPU。3.4 GHz，Sandy Bridge 每个周期最多可以使用 AVX 执行 8 次 FLOP：

```
3.4 [Ginstructions/second] * 8 [FLOPs/instruction] = 27.2 GFLOP/s peak performance 
```

所以单核性能峰值在 85% 左右，这对于这个问题是可以预料的。

您确实需要深入研究 CPU 的功能以获得准确的性能估计。

# view - 如何从子表单将多行插入嵌入式视图？莲花便笺

> ID：12721918
> 
> 赞同：-1
> 
> 时间：2012-10-04T07:03:01.380
> 
> 标签：view, lotus-notes, rows

我有一个包含子表单的部分（包含用户的 3 个可编辑字段）。

然后我有一个嵌入视图，分类有两个操作：添加和垃圾箱。

我想要做什么：用户完成 3 个字段然后按添加后，嵌入视图中的第一行将出现。（我做的这件事很简单）。但是在第一次单击“添加”之后，我希望刷新所有 3 个字段，所有这些字段的值都为：“”。

之后，如果用户想在嵌入视图中添加另一行（具有不同的值），在我的情况下，它会在第一行被覆盖。我想按顺序分开行。

我在添加操作代码中尝试了一些东西，`@Command(ViewRefreshFields)`但我没有让它工作。请帮忙，朱

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:49:48.080

Jazir，我猜你的名字也叫“Florin G Mihalache”、“Josh Mitchell”和“Yveniss Ltoreau”，我和许多其他专业的 Notes 开发人员一直在关注你的应用程序的开发。

我真的认为您需要回到最初的基础，找出表单、子表单、文档、视图、嵌入式视图和 Lotus Notes 数据库的其他重要组件之间的区别。

我强烈怀疑几个星期以来，您一直在尝试使用表单通过子表单创建其他文档，以显示在该表单的嵌入式视图中，而您应该使用的只是一个视图和文档. 也许您可能需要使用页面、大纲和框架集。在混淆那些试图帮助你的人之前，理解这些基本概念是非常重要的，你可能对他们撒了谎。

我否决了您的问题，不仅因为您表现出缺乏研究，还因为当人们对您失去耐心时，您似乎不断更换 ID。如果我确信你不是弗洛林，我将撤消该投票。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:48:07.497

嵌入视图中显示的文档由视图的选择公式控制。你没有表现出来。您尚未在“添加”按钮中显示您的代码。您还没有显示您在嵌入视图上设置的属性——例如，显示单个类别。所以你没有给我们足够的信息来诊断你的问题并帮助你。

但总的来说，我认为如果您想控制将单个文档插入嵌入式列表的顺序，那么使用嵌入式文件夹可能比嵌入式视图更好。

# android - 动态获取 Android 设备的供应商 ID

> ID：12721922
> 
> 赞同：5
> 
> 时间：2012-10-04T07:03:22.940
> 
> 标签：android

我想`Vendor ID`通过我的代码获取我的 Android 设备。

我读过这个： http: [//developer.android.com/tools/device.html](http://developer.android.com/tools/device.html)，但它没有告诉你如何通过代码检索它。

我什至搜索过，`android.os.Build.<attributes>`但没有一个给出`VendorID`.

谁能告诉我？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-01T18:04:32.943

如果您正在运行 Ubuntu/Linux，只需输入终端`lsusb -v`并按 Enter。它将显示所有 USB 设备的详细信息。检查`idVendor`结果中调用的字段并找到您的设备。

例如，我的 Motorola Defy (vendor id = 22b8) 给出：

```
idVendor           0x22b8 Motorola PCS 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T07:16:06.717

可能是[android.os.Build.MANUFACTURER](http://developer.android.com/reference/android/os/Build.html#MANUFACTURER)是你要找的..

还有一个名为brand [android.os.Build.BRAND](http://developer.android.com/reference/android/os/Build.html#BRAND)的字段，它指定软件定制的品牌（例如，运营商），如果有的话。

您还可以从应用商店尝试我们的[电话信息](https://play.google.com/store/apps/details?id=sysinfo.sysinfo.sysinfo)应用，以检查您设备上的这些值。

# javascript - javascript 仅在第一次点击时返回 null

> ID：12721928
> 
> 赞同：0
> 
> 时间：2012-10-04T07:04:03.313
> 
> 标签：javascript, jquery

我正在制作一个模式，以更大的形式向客户端显示图像以供查看。然后向左滑动，然后在单击时从左侧滑入新图像。当我单击页面上的缩略图时，它会完美地显示在模式中。但是当我单击第一个显示图像的模式时，它返回 null 并且左侧设置关闭。但是当我点击新图像时，一切都很好，并且从那里开始完美运行。为什么它返回 null 以及如何停止它。

***代码***

```
 $( '#modal img').live('click',function(e){
    var index = $(this).attr('img_index');
    var img_og = $( '#viewer ul li img[img_index="' + index + '"] ');
    var imgOgWidth= img_og.width();
    index++;
    if(index > $( '#viewer ul li img').length ) {index = 0;}
    var left = ($( window ).width() - imgOgWidth  )/ 2;
    var src = img_og.attr('src');
    console.log($( window ).width() + " - " + img_og.width() + " = " + left);
    $(this).animate({"left":'-2000px'},300,function(){
        $(this).attr({'src':src,'img_index':index}).css({'width':imgOgWidth,"left":'2000px'}).animate({'left':left},300);
    });
}); 
```

***控制台日志***

```
1288 - null = 644
1288 - 470 = 409
1288 - 900 = 194
1288 - 900 = 194
1288 - 900 = 194 
```

***HTML***

```
<div id="modal" class="none">
<img src="" img_index="" />
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:08:04.830

我已经解决了这个问题，我试图在增加索引之前访问“新”图片。感谢您的帮助。

# java - 小程序事件编程

> ID：12721933
> 
> 赞同：0
> 
> 时间：2012-10-04T07:04:17.850
> 
> 标签：java, graphics, applet, awt, paint

我在小程序中做了一个笑脸..现在我想要的是，当我将鼠标移到笑脸上时，它会变成悲伤的脸......我不明白（事件编程中的新手）...... .所以请建议我下一步该怎么做......

这是我的笑脸代码->>>

# 笑脸.java

```
 import java.applet.*;
    import java.awt.*;
    import java.awt.event.*;
    public class smiley extends Applet implements MouseListener
     {

      public void init()
       {
         }
      public void paint(Graphics g)
        {

      g.setColor(Color.yellow);
      g.fillOval(40,40,120,150);
      g.setColor(Color.black);
      g.drawOval(61,75,20,20);
      g.setColor(Color.black);
      g.drawOval(115,75,20,20);
      g.fillOval(68,81,10,10);
      g.fillOval(121,81,10,10);
      g.setColor(Color.black);
      g.drawArc(75,95,50,50,180,180);

         }
      public void mouseEntered(MouseEvent me)
       {
        }
       public void mouseExited(MouseEvent me)
        {

         }
        public void mouseClicked(MouseEvent me)
        {

         }
       public void mousePressed(MouseEvent me)
       {

         }
        public void mouseReleased(MouseEvent me)
       {

         } 

         } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:11:27.340

在某些时候，您需要向小程序注册您的侦听器。

请参阅[Component.addMouseListener](http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#addMouseListener%28java.awt.event.MouseListener%29)。

尝试在您的`init`or`start`方法中添加`addMouseListener(this)`

一些指针。

*   你应该总是打电话`super.paint()`。绘制方法在幕后做了很多重要的工作
*   您应该尽可能避免覆盖`paint`顶级组件的方法。它们不是双缓冲的，并且会在重绘时“闪烁”。
*   如果可以的话，你应该支持 AWT 组件的 Swing 组件

因为我知道问题会来...

```
public class SadApplet extends JApplet {

    private boolean mouseOver = false;

    public void init() {
        setLayout(new BorderLayout());
        add(new FacePane());
    }

    protected class FacePane extends JPanel implements MouseListener {

        public FacePane() {
            addMouseListener(this);
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);

            g.setColor(Color.yellow);
            g.fillOval(40, 40, 120, 150);
            g.setColor(Color.black);
            g.drawOval(61, 75, 20, 20);
            g.setColor(Color.black);
            g.drawOval(115, 75, 20, 20);
            g.fillOval(68, 81, 10, 10);
            g.fillOval(121, 81, 10, 10);
            g.setColor(Color.black);
            if (!mouseOver) {
                g.drawArc(75, 95, 50, 50, 180, 180);
            } else {
                g.drawArc(75, 95 + 50, 50, 50, 180, -180);
            }

        }

        public void mouseEntered(MouseEvent me) {
            mouseOver = true;
            repaint();
        }

        public void mouseExited(MouseEvent me) {
            mouseOver = false;
            repaint();
        }

        public void mouseClicked(MouseEvent me) {
        }

        public void mousePressed(MouseEvent me) {
        }

        public void mouseReleased(MouseEvent me) {
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:11:37.540

将重新绘制您的笑脸的代码放入`mouseEntered()`并且`mouseExited()`：`mouseEntered()`应该绘制“其他”脸，`mouseExited()`应该再次绘制同一张脸。

# html5-canvas - 将 Actor 的图像显示为动画

> ID：12721942
> 
> 赞同：0
> 
> 时间：2012-10-04T07:05:22.940
> 
> 标签：html5-canvas

我正在尝试为演员的 4 张图像制作动画，但我看到的只是一张图像，没有其他变化。

```
function init()
{
i=0;
while(i<ActStandX.length) //ActStandX holds the x locations of actor in a image spritesheet
{
    for(var currentFrame=0;currentFrame<10;currentFrame++)
    {
       ctxBg.clearRect(0,0,800,600); //ctxBg is 2d context  of canvas
       ctxBg.drawImage(img,ActStandX[i],10,actWidth,actHeight,200,300,60,110);
            }
    i++;
}
requestAnimFrame(init); 
} 
```

到目前为止，我已经尝试过这段代码，但没有成功。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T19:00:44.117

尝试这个：

```
var i = 0;

function init()
{
    ctxBg.clearRect(0,0,800,600);
    ctxBg.drawImage(img,ActStandX[i++],10,actWidth,actHeight,200,300,60,110);

    if (i == ActStandX.length) i = 0; // loop the animation

    requestAnimFrame(init); 
} 
```

请注意，每次绘制时它都会更改帧，因此它可能比您实际想要的要快。根据经过的时间来限制增量并不难`i`，我相信你可以弄清楚。:)

# android - 如何在 Mac 10.7 上设置 BUILD_MAC_SDK_EXPERIMENTAL=1？

> ID：12721945
> 
> 赞同：0
> 
> 时间：2012-10-04T07:05:28.520
> 
> 标签：android, macos, android-build

我正在 Mac 10.7 上构建 Android OS 源代码，请按照以下网址的说明操作：http: [//source.android.com/source/building.html](http://source.android.com/source/building.html)。以下是我尝试运行时的错误代码`lunch full-eng`

> BinhNguyens-MacBook:WORKING_DIRECTORY CuongLy$ 午餐完整版 2012-10-04 14:02:58.544 xcodebuild[645:80b] XcodeColors: load (v10.1) 2012-10-04 14:02:58.560 xcodebuild[645:80b ] XcodeColors: pluginDidLoad: build/core/combo/HOST_darwin-x86.mk:62: ***** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ***build/core/combo/HOST_darwin-x86.mk:63: * 在 /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk build/core 找不到 SDK 10.6 /combo/HOST_darwin-x86.mk:65: * 如果你想使用更高版本的 SDK 构建，build/core/combo/HOST_darwin-x86.mk:66: * 尝试在 build/core/combo/ 之前设置 BUILD_MAC_SDK_EXPERIMENTAL=1 HOST_darwin-x86.mk:67: * 重新运行此命令 build/core/combo/HOST_darwin-x86.mk:69: ***** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** *** build/core/combo/HOST_darwin-x86.mk:70: ***停……停。

请告诉我如何设置 BUILD_MAC_SDK_EXPERIMENTAL=1 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T22:56:38.580

只需键入以下内容：

```
export BUILD_MAC_SDK_EXPERIMENTAL=1 
```

# android - 使用支持库实现 TabListener

> ID：12721949
> 
> 赞同：20
> 
> 时间：2012-10-04T07:05:46.247
> 
> 标签：android, android-fragments, android-support-library

我正在尝试实现选项卡导航，但我想确保拥有旧版本 Android 的人仍然可以使用我的应用程序。

ATM 中的应用程序相当简单，我只想能够了解如何实现布局，然后我将添加缺少的位。

无论如何，我有一个扩展**Fragment Activity**的容器 Activity （以确保兼容性），并且这个 Activity 使用**ActionBar**创建了一个 TabView （我相信我的问题就在这里）。该应用程序将尝试创建三个选项卡并将它们添加到 ActionBar，我想确保用户可以使用横向导航来回滚动。

这是我正在尝试实现的 TabListener：

```
public static class TabListener<T extends Fragment> implements ActionBar.TabListener {

    private Fragment mFragment;
    private final Activity mActivity;
    private final String mTag;
    private final Class<T> mClass;

    public TabListener(Activity activity, String tag, Class<T> clz) {
        mActivity = activity;
        mTag = tag;
        mClass = clz;
    }

    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        if (mFragment == null) {
            mFragment = Fragment.instantiate(mActivity, mClass.getName());
            ft.add(android.R.id.content, mFragment, mTag);
        } else {
            ft.attach(mFragment);
        }
    }

    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
        if (mFragment != null) {
            ft.detach(mFragment);
        }
    }

    public void onTabReselected(Tab tab, FragmentTransaction ft) {
    }
} 
```

这是我的导入，因为我想确保我使用的是支持库：

```
import android.app.ActionBar;
import android.app.ActionBar.Tab;
import android.app.Activity;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentTransaction;
import android.support.v4.view.ViewPager;
import android.view.Menu; 
```

但是，Eclipse 给了我**TabListener**方法的问题。它告诉我以下内容：“LayoutContainer.TabListener 类型必须实现继承的抽象方法 ActionBar.TabListener.onTabSelected(ActionBar.Tab, FragmentTransaction)”

当我选择**添加未实现的方法**时， Eclipse 基本上添加了**OnTabSelected OnTabReselected**和**OnTabUnselected**方法，但这次将不支持版本的 Fragment ( **android..app.Fragment** ) 作为参数传递。

关于如何通过支持库进行横向导航的另一个实现以确保兼容性的任何想法？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-02-04T11:34:19.353

嗯。虽然马雷克的作品并没有直接回答这个问题..

您可以简单地忽略在回调中获得的片段事务并使用您自己的：

```
android.support.v4.app.FragmentTransaction fft = mActivity.getSupportFragmentManager().beginTransaction(); 
```

只要确保您的活动是一个 FragmentActivity，您就可以开始一个新的片段事务。

而且 fragmentTransaction 中的 replace() 方法比 add() 和 remove() 方便得多

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-03-09T05:28:42.933

关键是用

```
import android.support.v7.app.ActionBar; 
```

... 而不是 ...

```
import android.app.ActionBar; 
```

这避免了 Nelson Ramirez 发布的巧妙解决方法。

以下完整示例基于[官方文档](http://developer.android.com/guide/topics/ui/actionbar.html#Tabs)，经过测试可在 Android 3.0、API 11 上运行

```
package com.example.myapp;

import android.app.Activity;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentTransaction;
import android.support.v7.app.ActionBar;
import android.support.v7.app.ActionBarActivity;
import android.view.*;
import android.widget.TextView;

public class NavigationTabsBasicDemoActivity extends ActionBarActivity {

    static public class TabListener<T extends Fragment> implements ActionBar
            .TabListener {

        private Fragment mFragment;
        private final Activity mActivity;
        private final String mTag;
        private final Class<T> mClass;

        /**
         * Constructor used each time a new tab is created.
         *
         * @param activity The host Activity, used to instantiate the
         *                 fragment
         * @param tag      The identifier tag for the fragment
         * @param pClass   The fragment's Class, used to instantiate the
         *                 fragment
         * @see <a
         * href="http://developer.android.com/guide/topics/ui/actionbar
         * .html#Tabs">
         * Developers Guide > Action Bar > Adding Navigation Tabs</a>
         */
        public TabListener(Activity activity, String tag, Class<T> pClass) {
            mActivity = activity;
            mTag = tag;
            mClass = pClass;
        }

        @Override
        public void onTabSelected(ActionBar.Tab tab, FragmentTransaction ft) {
            if (mFragment == null) {
                mFragment = Fragment.instantiate(mActivity, mClass.getName());
                ft.add(android.R.id.content, mFragment, mTag);
            } else {
                // If it exists, attach it in order to show it
                ft.attach(mFragment);
            }
        }

        @Override
        public void onTabUnselected(ActionBar.Tab tab, FragmentTransaction ft) {
            if (mFragment != null) {
                // Detach the fragment, because another one is about to be
                // attached.
                ft.detach(mFragment);
            }
        }

        @Override
        public void onTabReselected(ActionBar.Tab tab, FragmentTransaction ft) {
            // Do nothing.
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // No need for setContentView() to be used, Instead  we use the root
        // android.R.id.content as the container for each fragment,
        // which is set in the TabListener

        ActionBar actionBar = getSupportActionBar();
        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
        actionBar.setDisplayShowTitleEnabled(true);

        ActionBar.Tab tab = actionBar.newTab().setText("Artist").setTabListener(
                new TabListener<PlaceholderFragment>(this,
                                                     "artist",
                                                     PlaceholderFragment
                                                             .class));
        actionBar.addTab(tab);

        tab = actionBar.newTab().setText("Album").setTabListener(
                new TabListener<PlaceholderFragment>(
                    this,
                    "album",
                    PlaceholderFragment.class));
        actionBar.addTab(tab);
    }

    /**
     * In this example use one Fragment but display different data based on
     * which
     * tab is shown. In production you'd probably use a separate fragment.
     */
    public static class PlaceholderFragment extends Fragment {

        public PlaceholderFragment() {
        }

        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container,
                                 Bundle savedInstanceState) {
            View rootView = inflater.inflate(
                    R.layout.fragment_navigation_tabs_basic_demo,
                                             container,
                                             false);
            TextView outputTextView = (TextView) rootView.findViewById(
                                        R.id.output_textView);
            outputTextView.setText("Hello " + getTag());
            return rootView;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-04T07:23:07.967

```
actionBar = getActionBar();
actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

actionBar.setDisplayShowHomeEnabled(false);
actionBar.setDisplayShowTitleEnabled(false);

tabA = actionBar.newTab().setText("");
tabB = actionBar.newTab().setText("");

Fragment fragmentA = new AFragmentTab();
Fragment fragmentB = new BFragmentTab();

tabA.setTabListener(new MyTabsListener(fragmentA));
tabB.setTabListener(new MyTabsListener(fragmentB));

actionBar.addTab(tabA);
actionBar.addTab(tabB); 
```

选项卡监听器如下：

```
protected class MyTabsListener implements ActionBar.TabListener{
    private Fragment fragment;

    public MyTabsListener(Fragment fragment){
        this.fragment = fragment;
    }
    public void onTabSelected(Tab tab, FragmentTransaction ft){
        ft.add(R.id.layout2, fragment, null);
    }
    public void onTabReselected(Tab tab, FragmentTransaction ft) {
    }
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
        ft.remove(fragment);
    }
} 
```

然后为每个选项卡创建一个类：

```
public class BFragmentTab extends Fragment {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)
    {
        return inflater.inflate(R.layout.login, container, false);
    }
} 
```

但请记住，低于 3.0 的 android 版本不支持操作栏。如果您想在旧版本中使用它，我建议您使用 actionBarSherlock 库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-02T05:04:04.140

我想实现@nelson-ramirez，但访问 mActivity 时出错，所以这是这两个答案的组合，适用于我的项目，该项目使用带有 Facebook 登录的标签导航（需要 support.v4 库）。关键是，创建一个私有 mActivity，然后在启动侦听器时传入并分配它，并创建自己的 Fragment Transaction，而不是使用参数中的那个。此外，使用允许访问 getSupportFragmentManager() 的 v4 库将主活动更改为 FragmentActivity。

```
public class MyTabListener implements ActionBar.TabListener{
    private Fragment fragment;
    private FragmentActivity mActivity;

    public MyTabListener(Fragment fragment, FragmentActivity activity){
        this.fragment = fragment;
        this.mActivity = activity;
    }

    @Override
    public void onTabSelected(ActionBar.Tab tab, android.app.FragmentTransaction ft) {
        android.support.v4.app.FragmentTransaction fft = mActivity.getSupportFragmentManager().beginTransaction();
        fft.replace(R.id.fragment_container, fragment);
        fft.commit();
    }

    @Override
    public void onTabUnselected(ActionBar.Tab tab, android.app.FragmentTransaction ft) {
        android.support.v4.app.FragmentTransaction fft = mActivity.getSupportFragmentManager().beginTransaction();
        fft.remove(fragment);
    }

    @Override
    public void onTabReselected(ActionBar.Tab tab, android.app.FragmentTransaction ft) {

    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-09T12:16:52.560

> 关于如何通过支持库进行横向导航的另一个实现以确保兼容性的任何想法？

### 替代解决方案

自 2015 年 5 月 29 日起，您可以使用 [Android 设计支持库](http://android-developers.blogspot.de/2015/05/android-design-support-library.html)。它包括一个[选项卡布局](http://developer.android.com/reference/android/support/design/widget/TabLayout.html)并支持 Android 2.1 或更高版本的设备。

# windows - 使用 google Chrome V22 在 Windows 7 上将数据从 CouchDB 复制到 PouchDB 以进行离线存储

> ID：12721950
> 
> 赞同：3
> 
> 时间：2012-10-04T07:05:46.817
> 
> 标签：windows, html, google-chrome, couchdb, pouchdb

我正在尝试将数据从 CouchDB 复制到 PouchDB 以使用代码从 CouchDB 中提取数据以进行离线存储：

```
db.replicate.from('http://test.iriscouch.com/todo','idb://todo', function (err, changes) {
if (err) {
    console.log(err);
}
else {
    console.log(changes);
}});
$scope.loadTodos(response.rows); 
```

我收到这些错误：

*   加载资源失败：服务器响应状态为 405（不允许方法）
*   XMLHttpRequest 无法加载[http://test.iriscouch.com/todo/](http://test.iriscouch.com/todo/)。Access-Control-Allow-Origin 不允许 Origin null。
*   未捕获的类型错误：无法调用未定义的方法“id”

有什么我做的不对吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T15:35:12.233

为了使 PouchDB 与 CouchDB 通信，它需要在同一个域上运行，或者您需要在 Pouch 和 Couch 之间安装 CORS-Proxy，这是由于浏览器强制执行的同源策略，CouchDB 的下一个版本有望本机支持这一点，但同时对于生产站点，我会发现使用 nginx 让 pouch 和 couch 在同一个域中运行是最简单的

# javascript - 淘汰赛验证异步验证器：这是一个错误还是我做错了什么？

> ID：12721951
> 
> 赞同：16
> 
> 时间：2012-10-04T07:05:49.270
> 
> 标签：javascript, asynchronous, knockout.js, knockout-2.0, knockout-validation

我真的很喜欢[Eric Barnard 的淘汰验证库](https://github.com/Knockout-Contrib/Knockout-Validation)如何与 observables 集成，允许分组，并提供自定义验证器可插入性（包括即时验证器）。有几个地方可以使用户体验更加灵活/友好，但总体而言，它的文档记录得当……[除了 imo，当涉及到异步验证器时](https://github.com/Knockout-Contrib/Knockout-Validation/wiki/Async-Rules)。

我今天为此挣扎了几个小时，然后进行了搜索并[登陆](https://github.com/Knockout-Contrib/Knockout-Validation/issues/145)。我*想*我和原作者有同样的问题/疑问，但我同意不清楚 duxa 到底要什么。我想引起更多关注，所以我也在这里问。

```
function MyViewModel() {
    var self = this;
    self.nestedModel1.prop1 = ko.observable().extend({
        required: { message: 'Model1 Prop1 is required.' },
        maxLength: {
            params: 140,
            message: '{0} characters max please.'
        }
    });
    self.nestedModel2.prop2 = ko.observable().extend({
        required: { message: 'Model2 Prop2 is required' },
        validation: {
            async: true,
            validator: function(val, opts, callback) {
                $.ajax({                                  // BREAKPOINT #1
                    url: '/validate-remote',
                    type: 'POST',
                    data: { ...some data... }
                })
                .success(function(response) {
                    if (response == true) callback(true); // BREAKPOINT #2
                    else callback(false);
                });
            },
            message: 'Sorry, server says no :('
        }
    });
}

ko.validation.group(self.nestedModel1);
ko.validation.group(self.nestedModel2); 
```

关于上面代码的几点说明： 有 2 个单独的验证组，一个用于每个嵌套模型。嵌套模型 #1 没有异步验证器，嵌套模型 #2 同时具有同步（必需）和异步。异步调用服务器调用来验证输入。当服务器响应时，该`callback`参数用于`ko.validation`判断用户输入是好是坏。**如果您在指示的行上放置断点并使用已知的无效值触发验证，则最终会出现无限循环，其中 ajax`success`函数会导致`validator`再次调用该函数。**我破解了`ko.validation`源代码以查看发生了什么。

```
ko.validation.validateObservable = function(observable) {
    // set up variables & check for conditions (omitted for brevity)

    // loop over validators attached to the observable
    for (; i < len; i++) {
        if (rule['async'] || ctx['async']) {
            //run async validation
            validateAsync();
        } else {
            //run normal sync validation
            if (!validateSync(observable, rule, ctx)) {
                return false; //break out of the loop
            }
        }
    }

    //finally if we got this far, make the observable valid again!
    observable.error = null;
    observable.__valid__(true);
    return true;
} 
```

此函数位于附加到用户输入 observable 的订阅链中，因此当其值更改时，将验证新值。该算法在每个附加到输入的验证器上循环，并根据验证器是否异步执行单独的函数。如果同步验证失败，则循环中断并且整个`validateObservable`函数退出。如果所有同步验证器都通过，则执行最后 3 行，本质上告诉`ko.validation`该输入是有效的。库中的`__valid__`函数如下所示：

```
//the true holder of whether the observable is valid or not
observable.__valid__ = ko.observable(true); 
```

有两件事要从这里拿走：`__valid__`是一个可观察的，并且在函数退出`true`后设置为。`validateAsync`现在让我们来看看`validateAsync`：

```
function validateAsync(observable, rule, ctx) {
    observable.isValidating(true);

    var callBack = function (valObj) {
        var isValid = false,
            msg = '';

        if (!observable.__valid__()) {
            // omitted for brevity, __valid__ is true in this scneario
        }

        //we were handed back a complex object
        if (valObj['message']) {
            isValid = valObj.isValid;
            msg = valObj.message;
        } else {
            isValid = valObj;
        }

        if (!isValid) {
            //not valid, so format the error message...
            observable.error = ko.validation.formatMessage(...);
            observable.__valid__(isValid);
        }

        // tell it that we're done
        observable.isValidating(false);
    };

    //fire the validator and hand it the callback
    rule.validator(observable(), ctx.params || true, callBack);
} 
```

需要注意的是，在`ko.validation.validateObservable`将`__valid__`observable 设置为 true 并退出之前，只执行此函数的第一行和最后一行。该`callBack`函数是作为第三个参数传递给`validator`在`MyViewModel`. 然而，在此之前，`isValidating`会调用 observable 的订阅者来通知异步验证已经开始。服务器调用完成后，将调用回调（在这种情况下，只需传递 true 或 false）。

现在这就是为什么在`MyViewModel`服务器端验证失败时断点会导致无限乒乓循环的原因：在`callBack`上面的函数中，请注意`__valid__`当验证失败时 observable 是如何设置为 false 的。这是发生的事情：

1.  无效的用户输入会改变`nestedModel2.prop2`observable。
2.  通过`ko.validation.validateObservable`订阅此更改通知。
3.  该`validateAsync`函数被调用。
4.  调用自定义异步验证器，向服务器提交异步`$.ajax`调用并退出。
5.  将**observable 设置为**`ko.validation.validateObservable` **并退出`__valid__``true`**。
6.  服务器返回无效响应，并被`callBack(false)`执行。
7.  `callBack`函数设置`__valid__`为。`false`
8.  被`ko.validation.validateObservable`通知对`__valid__`可观察对象的更改（`callBack`将其从更改`true`为`false`）这基本上重复了上面的步骤 2。
9.  重复上述步骤 3、4 和 5。
10.  由于 observable 的值没有改变，服务器返回另一个无效响应，触发上面的步骤 6、7、8 和 9。
11.  我们自己有一场乒乓球比赛。

因此，问题似乎在于`ko.validation.validateObservable`订阅处理程序不仅在监听用户输入值的变化，而且还在监听其嵌套的`__valid__`observable 的变化。这是一个错误，还是我做错了什么？

**次要问题**

您可以从`ko.validation`上面的源代码中看到，带有异步验证器的用户输入值在服务器验证时被视为有效。`nestedModel2.isValid()`正因为如此， “真相”不能依靠呼唤。相反，看起来我们必须使用`isValidating`钩子来创建对异步验证器的订阅，并且只有在它们通知`false`. 这是设计使然吗？与库的其他部分相比，这似乎是最反直觉的，因为**非**异步验证器不需要`isValidating`订阅，并且**可以**依靠它来说`.isValid()`出真相。这也是设计使然，还是我在这里也做错了什么？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-09T22:38:45.820

所以我问的问题确实与如何在 ko.validation 中使用异步验证器有关。我从我的经验中学到了两个重要的东西：

1.  不要创建`async` [匿名或一次性自定义规则验证器](https://github.com/Knockout-Contrib/Knockout-Validation/wiki/Custom-Validation-Rules#anonymous-or-single-use-custom-rules)。相反，将它们创建为[自定义规则](https://github.com/Knockout-Contrib/Knockout-Validation/wiki/Custom-Validation-Rules#custom-rules)。否则，您将得到我的问题中描述的无限循环/ping ping 匹配。

2.  如果您使用验证器，请在所有验证器更改为 false之前`async`不要信任。`isValid()``async``isValidating` `subscriptions`

如果您有多个异步验证器，则可以使用如下模式：

```
var viewModel = {
    var self = this;
    self.prop1 = ko.observable().extend({validateProp1Async: self});
    self.prop2 = ko.observable().extend({validateProp2Async: self});
    self.propN = ko.observable();
    self.isValidating = ko.computed(function() {
        return self.prop1.isValidating() || self.prop2.isValidating();
    });
    self.saveData = function(arg1, arg2, argN) {

        if (self.isValidating()) {
            setTimeout(function() {
                self.saveData(arg1, arg2, argN);
            }, 50);
            return false;
        }

        if (!self.isValid()) {
            self.errors.showAllMessages();
            return false;
        }

        // data is now trusted to be valid
        $.post('/something', 'data', function() { doWhatever() });
    }
}; 
```

您还可以[通过类似的替代解决方案查看此内容以获取另一个参考](https://github.com/Knockout-Contrib/Knockout-Validation/issues/145)。

这是一个异步“自定义规则”的示例：

```
var validateProp1Async = {
    async: true,
    message: 'you suck because your input was wrong fix it or else',
    validator: function(val, otherVal, callback) {
        // val will be the value of the viewmodel's prop1() observable
        // otherVal will be the viewmodel itself, since that was passed in
        //     via the .extend call
        // callback is what you need to tell ko.validation about the result
        $.ajax({
            url: '/path/to/validation/endpoint/on/server',
            type: 'POST', // or whatever http method the server endpoint needs
            data: { prop1: val, otherProp: otherVal.propN() } // args to send server
        })
        .done(function(response, statusText, xhr) {
            callback(true); // tell ko.validation that this value is valid
        })
        .fail(function(xhr, statusText, errorThrown) {
            callback(false); // tell ko.validation that his value is NOT valid
            // the above will use the default message. You can pass in a custom
            // validation message like so:
            // callback({ isValid: false, message: xhr.responseText });
        });
    }
}; 
```

基本上，您使用函数的`callback`arg 来`validator`告诉 ko.validation 验证是否成功。该调用将触发已`isValidating`验证属性 observables 上的 observables 更改回`false`（意思是，异步验证已完成，现在知道输入是否有效）。

如果您的服务器端验证端点在验证成功时返回 HTTP 200 (OK) 状态，则上述方法将起作用。这将导致`.done`函数执行，因为它相当于`$.ajax` `success`. 如果您的服务器在验证失败时返回 HTTP 400 (Bad Request) 状态，它将触发`.fail`函数执行。如果您的服务器返回带有 400 的自定义验证消息，您可以从中获取该消息`xhr.responseText`以有效地覆盖默认`you suck because your input was wrong fix it or else`消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-05T11:56:39.077

我有同样的问题，带有验证的嵌套可观察对象。所以一个魔术： `self.errors = ko.validation.group(self.submissionAnswers, { deep: true, live: true });` 注意特殊的附加参数：包含字段的对象`live: true`

# javascript - 调用具有可变数量参数的函数

> ID：12721952
> 
> 赞同：-2
> 
> 时间：2012-10-04T07:05:50.220
> 
> 标签：javascript

> **可能重复：**
> [将任意数量的参数传递给 Javascript 函数](https://stackoverflow.com/questions/6770339/pass-arbitrary-number-of-parameters-into-javascript-function)

如何使用 n 个参数实现以下目标？

```
function aFunction() {

    if ( arguments.length == 1 ) {
        anotherFunction( arguments[0] );
    } else if ( arguments.length == 2 ) {
        anotherFunction( arguments[0], arguments[1] );
    } else if ( arguments.length == 3 ) {
        anotherFunction( arguments[0], arguments[1], arguments[2] );
    }

}

function anotherFunction() {
    // got the correct number of arguments
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:07:58.443

你不需要这样做。以下是您可以在不关心您有多少参数的情况下调用它的方法：

```
function aFunction() {
    anotherFunction.apply(this, arguments);
}

function anotherFunction() {
    // got the correct number of arguments
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:08:20.530

您可以使用该[`.apply()`方法](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply)调用将参数作为数组或类似数组的对象提供的函数：

```
function aFunction() {
    anotherFunction.apply(this, arguments);
} 
```

（如果您查看我链接到的 MDN 文档，您会看到它提到了将函数的所有参数传递给其他函数的具体示例，尽管显然还有许多其他应用程序。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:08:22.027

使用[`apply()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply). 原型上的此方法`Function`允许您调用具有指定`this`上下文的函数，并将参数作为数组或类似数组的对象传递。

```
anotherFunction.apply(this, arguments); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T07:09:10.107

像这样：

```
function aFunction() {
    var args = Array.prototype.slice.call(arguments, 0);
    anotherFunction.apply(this, args);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T07:21:40.187

这是示例功能...

```
functionName = function() {
   alert(arguments.length);//Arguments length.           
} 
```

# vb.net - VB.NET + 将文件夹添加到树视图，将文件添加到列表视图

> ID：12721960
> 
> 赞同：0
> 
> 时间：2012-10-04T07:07:05.510
> 
> 标签：vb.net, collections, directory

我想创建一个简单的打印机管理器以在我们的终端服务器环境中使用。由于 GPO 的限制，我可以使用的内置功能受到限制。所以我决定尝试编写自己的简单 GUI 来做到这一点。

现在，打印机分布在一个文件夹中，并带有用于对它们进行分类的子文件夹。在每个文件夹中，打印服务器上的实际打印机都有 .lnk 文件。

我想要做的是根据在树视图上单击的项目，在列表视图中填充文件夹和打印机的树视图。

我已经设法搜索目录并搜索我单击的每个项目的文件。但我意识到，为什么不在表单启动期间使用集合或类似的东西呢？这样，它会更快。因为现在，每次单击树视图中的项目时都会有一点延迟。因为它每次都会扫描文件。

如何将其添加到集合中并改用它？

这是我当前的代码：

```
Public Sub populateTreeView(ByVal strPath As String)

        Dim di As New IO.DirectoryInfo(strPath)
        Dim diar1 As IO.DirectoryInfo() = di.GetDirectories()
        Dim dra As IO.DirectoryInfo

        For Each dra In diar1
            ImageList1.Images.Add(GetSmallIcon(dra.FullName))

            TreeView1.Nodes.Add("", dra.Name, nIndex)
            nIndex = nIndex + 1
        Next
    End Sub

    Private Sub TreeView1_AfterSelect(sender As Object, e As TreeViewEventArgs) Handles TreeView1.AfterSelect
        ListView1.Clear()
        nIndex = 0

        Dim di As New IO.DirectoryInfo(strIniSettings & "\" & TreeView1.SelectedNode.Text)
        Dim diar1 As IO.FileInfo() = di.GetFiles()
        Dim dra As IO.FileInfo

        For Each dra In diar1
            Dim strName As String
            strName = Replace(dra.Name, ".lnk", "")
            ImageList2.Images.Add(GetLargeIcon(dra.FullName))

            ListView1.Items.Add("", strName, nIndex)
            nIndex = nIndex + 1
        Next
    End Sub 
```

注意图像列表？我也得到了每个项目的图标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T08:39:26.333

由于您的数据并不复杂，因此一个简单[`LookUp`](http://msdn.microsoft.com/en-us/library/bb460184.aspx)的集合可能适合您（或者只是一个普通的字典）。

只需查询打印机一次，并将其存储在成员变量中，或者仅使用 s 的`Tag`属性来`TreeNode`存储文件名。

在下面的示例中，我使用一个简单的 Linq 查询来创建一个`LookUp`where`Key`是目录名（您也可以只使用目录的完整路径），并且项目是文件名。

然后，您可以通过给定`Key`的（目录名称）查询集合，或使用该`Tag`属性。

* * *

**LINQPad 示例：**

```
Sub Main

    ' query printers once (just replace C:\test with your path)
    ' store the result in a member variable of your form
    Dim printer = new DirectoryInfo("C:\test").GetDirectories() _
                                              .SelectMany(Function(d) d.GetFiles()) _
                                              .ToLookup(Function(f) f.Directory.Name, Function(f) f.Name)

    ' Or, using a Dictionary
    ' Dim printer = new DirectoryInfo("C:\test").GetDirectories() _
    '                                           .ToDictionary(Function(d) d.Name, Function(d) d.GetFiles().Select(Function(f) f.Name).ToList())

    Dim l = new ListView() With {.Dock = DockStyle.Right}
    Dim t = new TreeView() With {.Dock = DockStyle.Left}                    
    AddHandler t.AfterSelect, Sub(s, e)
                                    ' This is your AfterSelect event handler
                                    ' The filenames are stored in the Tag of the TreeNode
                                    ' You could also use 'For Each p As String in printer(e.Node.Text)'
                                    l.Items.Clear()
                                    For Each p As String in e.Node.Tag
                                        Dim item = l.Items.Add(p.Replace(".lnk", ""))
                                        'TODO: Set Icon on item
                                    Next
                              End Sub

    ' Populate TreeView once
    For Each folder in printer
        Dim fNode = t.Nodes.Add(folder.Key)
        'TODO: Set Icon on fNode

        ' store the files in the Tag of the node.
        ' You don't have to, but it will make it easier
        fNode.Tag = folder
    Next

    ' Show test form            
    Dim w = new Form()
    w.Controls.Add(t)
    w.Controls.Add(l)
    w.Show()

End Sub 
```

# python - python中的openCV光流

> ID：12721961
> 
> 赞同：1
> 
> 时间：2012-10-04T07:07:10.110
> 
> 标签：python, opencv, opticalflow

我正在用 python 编写图像分析程序并尝试使用`cv.CalcOpticalFlowFarneback`. 我弄清楚了大部分事情并且分析工作，但是，我想玩一点`flags`参数。在 cv 文档中，它说 flags 是一个整数，描述如下：

```
flags –
Operation flags that can be a combination of the following:
OPTFLOW_USE_INITIAL_FLOW Use the input flow as an initial flow approximation.
OPTFLOW_FARNEBACK_GAUSSIAN ... 
```

问题是如何设置标志以使用其中一个选项或同时使用这两个选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:14:37.840

尝试：

```
flags = OPTFLOW_USE_INITIAL_FLOW | OPTFLOW_FARNEBACK_GAUSSIAN 
```

（`|`管道）字符是按位或。做标志的一种常见方法是对每个标志使用不同的 2 次方。例如，如果`OPTFLOW_USE_INITIAL_FLOW`是 2 和`OPTFLOW_FARNEBACK_GAUSSIAN`8，那么它们的组合是二进制的 1010。

它们的实际值可以在[文档](https://docs.opencv.org/3.4/dc/d6b/group__video__track.html)中看到：

```
OPTFLOW_USE_INITIAL_FLOW = 4
OPTFLOW_FARNEBACK_GAUSSIAN = 256 
```

# c# - 当参数是C#中的值或引用类型时调用函数？

> ID：12721963
> 
> 赞同：1
> 
> 时间：2012-10-04T07:07:13.960
> 
> 标签：c#

```
public class A
{
void methodA(int a){}
void methodA(ref int a){}
}

 static void Main()
  {
    int a=1;
    new classA().methodA(a);
  } 
```

在 Main 类中，调用了哪个方法？A类中的方法是否被重载？可以基于值或参考参数进行覆盖吗？请帮我说清楚。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:12:35.580

修复代码后：

```
public class ClassA
{
    public void methodA(int a) 
    {
        Console.WriteLine("Without ref");
    }

    public void methodA(ref int a) 
    {
        Console.WriteLine("With ref");
    }
}

class Program
{
    static void Main(string[] args)
    {
        int i = 1;
        var a = new ClassA();

        a.methodA(i);
        a.methodA(ref i);

        Console.ReadKey(true);
    }
} 
```

您会看到第一个调用将打印“Without ref”，第二个调用将打印“With ref”。你本可以自己做的。

[手册](http://msdn.microsoft.com/en-us/library/14akc2c7%28v=vs.100%29.aspx)说这是完全可能的：

> 但是，当一个方法具有 ref 或 out 参数而另一个具有 value 参数时，可以进行重载，如下例所示。
> 
> ```
> class RefOverloadExample
> {
>     public void SampleMethod(int i) { }
>     public void SampleMethod(ref int i) { }
> } 
> ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:12:01.420

```
new A().methodA(a); 
```

将调用非`ref`版本。

```
new A().methodA(ref a); 
```

将调用`ref`版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:28:02.133

```
public class A
{
void methodA(int a){}
void methodA(ref int a){}
}

 static void Main()
  {
    int a=1;
    new classA().methodA(a);
    new classA().methodA(ref a)//You can add this to see the difference

  } 
```

两者都是不同的...

```
new classA().methodA(a);
new classA().methodA(ref a) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T07:14:01.350

在 C# 中，您必须明确说明您是否通过引用传递。

以下调用不同

```
int a = 5;
methodA(a);
methodA(ref a ); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T07:14:31.163

[ref 关键字 MSDN](http://msdn.microsoft.com/en-us/library/14akc2c7.aspx)

> **当一个方法具有 ref 或 out**参数而另一个具有 value 参数时，可以进行重载，如下例所示

在您的情况下，它不会调用`methodA(int a){}`带有 ref 的那个。

你的班级应该是：

```
public class A
{
    public void methodA(int a) 
    { 
    }
    public void methodA(ref int a) 
    { 
    }
} 
```

如果要使用`ref`关键字调用重载方法，则需要`ref`在方法调用中指定。喜欢：

```
int a = 1;
A classAObj = new A();
classAObj.methodA(ref a); 
```

上面的代码将解析为重载`methodA(ref a)`

# google-apps-script - Google Apps 脚本：如何与其他用户共享日历？

> ID：12721975
> 
> 赞同：1
> 
> 时间：2012-10-04T07:08:05.553
> 
> 标签：google-apps-script, google-apps

我正在尝试使用谷歌应用程序脚本和 OAuth 授权与其他域中的另一个用户共享域中用户的谷歌日历。但我无法执行此任务。我获取了用户的所有日历事件，但无法进行共享。任何解决方案将不胜感激。谢谢你

这个问题的解决方法在这里：

```
function calenderSharing(user1,user2){

    var scope = 'https://www.google.com/calendar/feeds/';
    var fetchArgs = googleOAuth_('calenders', scope);
    var rawXml= "<entry xmlns='http://www.w3.org/2005/Atom' xmlns:gAcl='http://schemas.google.com/acl/2007'>"+
      "<category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/acl/2007#accessRule'/>"+
      "<gAcl:scope type='user' value='"+user2+"'></gAcl:scope>"+
      "<gAcl:role value='http://schemas.google.com/gCal/2005#owner'>  </gAcl:role></entry>"
    fetchArgs.method = 'POST';
    fetchArgs.payload = rawXml
    fetchArgs.contentType = 'application/atom+xml';

    try{
         var url='https://www.google.com/calendar/feeds/'+user1+'/acl/full'        
         var urlFetch=UrlFetchApp.fetch(url,fetchArgs)                         //Giving Permission To personal account as a owner
       }
    catch(err){
        var err1=err.toString()
        var ex='Exception: Request failed for  returned code 302'
        if(ex==err1.split('.')[0]){
              var tempCalenderUrl=[]
              tempCalenderUrl.id = err1.split('<A HREF="')[1];
              tempCalenderUrl.id = tempCalenderUrl.id.split('"')[0];
              var url=tempCalenderUrl.id
              try{
                  var urlFetch=UrlFetchApp.fetch(url,fetchArgs)   
                 }
              catch(err){}
         }         
     }
}

function googleOAuth_(name,scope) {
  var oAuthConfig = UrlFetchApp.addOAuthService(name);
  oAuthConfig.setRequestTokenUrl("https://www.google.com/accounts/OAuthGetRequestToken?scope="+scope);
  oAuthConfig.setAuthorizationUrl("https://www.google.com/accounts/OAuthAuthorizeToken");
  oAuthConfig.setAccessTokenUrl("https://www.google.com/accounts/OAuthGetAccessToken");
    oAuthConfig.setConsumerKey(consumerKey);
  oAuthConfig.setConsumerSecret(consumerSecret);
  return {oAuthServiceName:name, oAuthUseToken:"always"};
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T14:30:03.203

在谷歌脚本中你不能。日历脚本 API 不支持共享日历（目前）。您的解决方法可能是使用脚本获取日历 ID，并使用 UrlFetch（使用 OAuth）调用 Google 日历 API [https://developers.google.com/google-apps/calendar/v3/reference/](https://developers.google.com/google-apps/calendar/v3/reference/)。确保您进行身份验证，根据您从脚本中检索到的 ID 执行“获取”以获取日历，获取 ACL 并添加新条目以与域外的用户共享。

不是一个简单的解决方案。对不起。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-16T15:00:40.633

你为什么不制作一个允许该用户简单地订阅这个新日历的应用程序呢？所有必要的工具都在气体日历服务中-这是[此类应用程序的示例](https://sites.google.com/site/appsscriptexperiments/home/a-calendar-subscriber-app)

# oracle - 我需要在 oracle 视图中声明一个变量

> ID：12721979
> 
> 赞同：0
> 
> 时间：2012-10-04T07:08:22.393
> 
> 标签：oracle

基本上我有一个视图，它具有以下查询作为视图的一部分。

```
SELECT site_id ch_site_id 
  FROM bfg_router_pi_details 
 WHERE last_modified_date > (SELECT MAX (last_time_stamp) 
                               FROM saa_bfg_feed_ctl) 
```

现在在这个查询中，bfg_router_pi_details 是另一个数据库中的一个视图，而 saa_bfg_feed_ctl 是我们正在触发这个查询的同一个数据库中的一个表。

现在，当这个查询像上面那样在 where 子句中使用内部查询触发时，它需要 2 个小时才能完成，因为它正在遍历 db 链接。但是，如果我用实际日期值替换内部查询，则需要 2 分钟。所以我想看看是否有任何方法可以在视图中定义一个变量并将最后一个时间戳值分配给该变量，然后在查询的 where 子句中替换该变量，以便执行变得更快。希望你理解手头的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:33:24.780

这可能是因为 Oracle 选择远程站点作为查询的驱动站点。试试这个提示，告诉它从本地站点运行查询：

```
SELECT /*+DRIVING_SITE(saa_bfg_feed_ctl) */
       site_id ch_site_id 
FROM bfg_router_pi_details 
WHERE last_modified_date > (SELECT MAX (last_time_stamp) 
                           FROM saa_bfg_feed_ctl) 
```

我不能 100% 确定这一点 - 如果您发布查询计划可能会提供进一步的帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:31:05.967

有很多方法可以做到这一点，但肯定所有方法都需要 plsql 编程。最简单的一种是创建一个包，其中在对视图进行查询之前分配了一个带有 MAX 的变量。所以视图看起来像

```
begin
 SELECT MAX (last_time_stamp) 
 into your_package.your_variable
 FROM saa_bfg_feed_ctl
end; 
```

可能是你需要 no_data_found 但它不是我的一杯茶

```
SELECT site_id ch_site_id 
  FROM bfg_router_pi_details 
 WHERE last_modified_date > your_package.your_variable 
```

您可以通过相同的方式使用用户 plsql 上下文，因此请考虑原始文档 - [http://docs.oracle.com/cd/B28359_01/network.111/b28531/app_context.htm](http://docs.oracle.com/cd/B28359_01/network.111/b28531/app_context.htm)

# java - EclipseRCP - 以编程方式更新菜单项

> ID：12721985
> 
> 赞同：1
> 
> 时间：2012-10-04T07:08:35.220
> 
> 标签：java, eclipse, eclipse-plugin, eclipse-rcp

Ik 使用[本](http://www.vogella.com/blog/2009/12/03/commands-menu-runtime/)教程定义了一个在运行时构建的菜单。但是我想要采取的下一步是当某些事件发生时我想以编程方式重新构建这个菜单，例如通过对菜单管理器说，刷新或类似的东西？知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T14:13:17.383

您可以告诉菜单管理器在每次显示菜单时删除所有项目，让您有机会重建菜单：

```
MenuManager mm = new MenuManager();
mm.setRemoveAllWhenShown(true);

mm.addMenuListener(new IMenuListener() {
    public void menuAboutToShow(IMenuManager manager) {
        if(giraffes) {
            Action giraffeAction = new Action("Giraffe") {
                public void run() {
                    // do giraffe-y stuff
                }
            };
            mgr.add(giraffeAction);
        }
    }
});

Control myControl = myViewer.getControl();
myControl().setMenu(mm.createContextMenu(myControl)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T03:02:51.313

不使用`ExtensionContributionFactory`，使用`org.eclipse.ui.menus`将`dynamic`元素添加到所需的菜单。您提供子类的实现类`org.eclipse.ui.actions.CompoundContributionItem`，您将有机会在每次打开菜单时重建菜单的该部分。

编辑：添加指向示例的指针。

有关 plugin.xml 的区别，请参见[http://git.eclipse.org/c/platform/eclipse.platform.ui.git/tree/examples/org.eclipse.ui.examples.contributions/plugin.xml#n666](http://git.eclipse.org/c/platform/eclipse.platform.ui.git/tree/examples/org.eclipse.ui.examples.contributions/plugin.xml#n666)。实现类也包含在该插件中。

# php - 如何将用户输入的金额值传递给贝宝

> ID：12721986
> 
> 赞同：0
> 
> 时间：2012-10-04T07:08:38.513
> 
> 标签：php, paypal, paypal-ipn, paypal-sandbox

嗨，我正在用 php 编写的网站出现问题。我试图让 Paypal 接受用户输入的金额。但在重定向到 paypal 时它不接受，金额为空白。这可能与否。

这是我的表格

```
 <form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post" target=_blank>
         <input type="hidden" name="cmd" value="_s-xclick">
         <input type="hidden" name="encrypted" value="<?PHP echo $encrypted; ?>">

         <div  class="paypal_list2">   
         <input type="hidden"><h3>Enter the amount</h3><br /> </div>
         <input id="total" class="paypal_input_1" type="text" value="" name="amount">

        <input class="paypal_btn" type="image"src="https://www.sandbox.paypal.com/en_US/i/btn/btn_paynowCC_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online!">                                  
         </form> 
```

这是我的 php 代码

```
 <?php

        $MY_KEY_FILE = "/home/khader/smsmobilebase/certs/private-key.pem";

        $MY_CERT_FILE = "/home/khader/smsmobilebase/certs/publi-cert.pem";

        $PAYPAL_CERT_FILE = "/home/khader/smsmobilebase/certs/paypal_cert_pem.txt";

         $OPENSSL = "/usr/bin/openssl";

         $form = array('cmd' => '_xclick','business' => 'roki_1347003608_biz@gmail.com','cert_id' => '6BPQP9KEEBCJ6','currency_code' => 'USD',
    'no_shipping' => '1',
    'item_name' => 'PayNow',

    'cancel_return' => 'http://mobiletool.xichlomobile.com/',
    'amount' => "'$amount'"
);

      $encrypted = paypal_encrypt($form);

     function paypal_encrypt($hash)
       {

global $MY_KEY_FILE;
global $MY_CERT_FILE;
global $PAYPAL_CERT_FILE;
global $OPENSSL;

if (!file_exists($MY_KEY_FILE)) {
    echo "ERROR: MY_KEY_FILE $MY_KEY_FILE not found\n";
}
if (!file_exists($MY_CERT_FILE)) {
    echo "ERROR: MY_CERT_FILE $MY_CERT_FILE not found\n";
}
if (!file_exists($PAYPAL_CERT_FILE)) {
    echo "ERROR: PAYPAL_CERT_FILE $PAYPAL_CERT_FILE not found\n";
}

$data = "";
foreach ($hash as $key => $value) {
    if ($value != "") {
        //echo "Adding to blob: $key=$value\n";
        $data .= "$key=$value\n";
    }
}

$openssl_cmd = "($OPENSSL smime -sign -signer $MY_CERT_FILE -inkey $MY_KEY_FILE " .
                    "-outform der -nodetach -binary <<_EOF_\n$data\n_EOF_\n) | " .
                    "$OPENSSL smime -encrypt -des3 -binary -outform pem $PAYPAL_CERT_FILE";

exec($openssl_cmd, $output, $error);

if (!$error) {
    return implode("\n",$output);

    print $hash;
} else {
    return "ERROR: encryption failed";
}
     }
   ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:36:54.400

您只需要跳过该`amount`字段或其在表单中的值。

```
<form name="_xclick" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_xclick">
<input type="hidden" name="business" value="me@mybusiness.com">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="item_name" value="Teddy Bear">
<input type="hidden" name="amount" value="">
<input type="image" src="http://www.paypal.com/en_US/i/btn/btn_buynow_LG.gif" border="0" name="submit" alt="Make payments with PayPal - it's fast, free and secure!">
</form> 
```

这将要求您的用户输入金额！

# css - IE9 渐变背景大小

> ID：12721988
> 
> 赞同：0
> 
> 时间：2012-10-04T07:08:43.327
> 
> 标签：css, internet-explorer-9, gradient, linear-gradients

有没有办法使用`background-size`for ？因为在我的情况下，添加到没有任何效果。`IE9``gradients``background-size``CSS`

[更新]

示例代码：

```
-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#ccc', endColorstr='#ddd')";
background-size: 2px 100%; 
```

在这种情况下，背景大小不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T15:08:55.707

`background-size`不适`IE9`用于渐变。仅用于图像。这就是解决方案使用`SVG`.

我在某个网站上找到了一种解决方案，并将其更改为支持`RGBA`( `SASS`) 即使对于 IE9（webkit 除外）也可以正常工作：

```
@mixin svg-linear-gradient($angle, $color1, $color1Alpha, $offset1, $color2, $color2Alpha, $offset2:100, $color3:null, $color3Alpha: 1, $offset3:100, $color4:null, $color4Alpha: 1, $offset4:100, $color5:null, $color5Alpha:1, $offset5:100){
    $angle_webkit:'left top, left bottom';
    $angle_svg:'%20x2%3d%220%25%22%20y2%3d%22100%25%22';
    $color-stop1_svg:'%3cstop%20style%3d%22stop%2dcolor%3argba('#{red($color1)}'%2C'#{green($color1)}'%2C'#{blue($color1)}'%2C'#{$color1Alpha}')%22%20offset%3d%22'#{$offset1}'%25%22%2f%3e';
    $color-stop2_svg:'%3cstop%20style%3d%22stop%2dcolor%3argba('#{red($color2)}'%2C'#{green($color2)}'%2C'#{blue($color2)}'%2C'#{$color2Alpha}')%22%20offset%3d%22'#{$offset2}'%25%22%2f%3e';
    $color-stop3_svg:'';
    $color-stop4_svg:'';
    $color-stop5_svg:'';
    @if $angle == right{
         $angle_svg:'%20x2%3d%22100%25%22';
     }
    @if $angle == bottom{
         $angle_svg:'%20x2%3d%220%22%20y1%3d%22100%25%22';
     }
    @if $angle == left{
         $angle_svg:'';
     }
    @if $color3 != null {
         $color-stop3_svg:'%3cstop%20style%3d%22stop%2dcolor%3argba('#{red($color3)}'%2C'#{green($color3)}'%2C'#{blue($color3)}'%2C'#{$color3Alpha}')%22%20offset%3d%22'#{$offset3}'%25%22%2f%3e';
     }
    @if $color4 != null {
         $color-stop4_svg:'%3cstop%20style%3d%22stop%2dcolor%3argba('#{red($color4)}'%2C'#{green($color4)}'%2C'#{blue($color4)}'%2C'#{$color4Alpha}')%22%20offset%3d%22'#{$offset4}'%25%22%2f%3e';
     }
    @if $color5 != null {
         $color-stop5_svg:'%3cstop%20style%3d%22stop%2dcolor%3argba('#{red($color5)}'%2C'#{green($color5)}'%2C'#{blue($color5)}'%2C'#{$color5Alpha}')%22%20offset%3d%22'#{$offset5}'%25%22%2f%3e';
     }

    background: url('data:image/svg+xml,%3csvg%20xmlns%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20width%3d%22100%25%22%20height%3d%22100%25%22%3e%3cdefs%3e%3clinearGradient%20id%3d%22G%22#{$angle_svg}%3e#{$color-stop1_svg}#{$color-stop2_svg}#{$color-stop3_svg}#{$color-stop4_svg}#{$color-stop5_svg}%3c%2flinearGradient%3e%3c%2fdefs%3e%3crect%20width%3d%22100%25%22%20height%3d%22100%25%22%20fill%3d%22url%28%23G%29%22%2f%3e%3c%2fsvg%3e');
} 
```

以及如何使用它：

```
@include svg-linear-gradient(top, $first, $firstAlpha, 0, $second, $secondAlpha, 100); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-04T07:22:14.270

不确定你到底想要什么，但下面的链接会帮助你（大小和渐变在任何版本的 IE 中都可以正常工作）

[http://css3pie.com/](http://css3pie.com/)

# php - 使用 API 的 icontact 订阅/取消订阅

> ID：12721989
> 
> 赞同：1
> 
> 时间：2012-10-04T07:08:54.927
> 
> 标签：php, icontact

我正在使用 PHP icontact API 2.2。我遇到了使用此 API 订阅和取消订阅特定列表的联系人的问题。我可以正确订阅，但一旦我取消订阅联系人，我就无法再次订阅。

我正在使用下面的代码

```
For subscription
$oiContact->subscribeContactToList($contact_id , $list_id ,'normal' );

for unsubscription
$oiContact->subscribeContactToList($contact_id , $list_id ,'unsubscribed' ); 
```

我还检查了这个 [http://developer.icontact.com/documentation/subscriptions/](http://developer.icontact.com/documentation/subscriptions/)

任何人都可以帮我解决这个问题吗？他们在此链接中提到

```
https://app.sandbox.icontact.com/icp/a/{accountId}/c/{clientFolderId}/subscriptions/{subscriptionId} 
```

使用这种方法我写了一个函数

```
public function subscriptionStatus($subscriptionId,$sStatus = 'normal') {
        // Valid statuses
        $aValidStatuses = array('normal', 'pending', 'unsubscribed');
        // Setup the subscription and make the call
        $aSubscriptions = $this->makeCall("/a/{$this->setAccountId()}/c/{$this->setClientFolderId()}/subscriptions/{$subscriptionId}", 'POST', 

            array('status'    => $sStatus), 'subscriptions');
        // Return the subscription
        return $aSubscriptions;
    } 
```

但它会返回“错误：禁止”

# asana - QPS/通话配额限制？

> ID：12721990
> 
> 赞同：2
> 
> 时间：2012-10-04T07:09:09.073
> 
> 标签：asana

我不断得到：

响应：{"errors":[{"message":"您最近发出的请求太多。请冷静。"}]}

尝试下载我的所有任务时 - 是否有已发布的 QPS 或其他配额限制，所以我知道我应该在请求之间暂停多长时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T17:06:38.177

（我在 Asana 工作）

如[文档](http://developer.asana.com/documentation/#Errors)中所述，当前的请求限制约为 100/分钟。您返回的错误响应还包含一个`Retry-After`标头，其中包含您必须等待的秒数，直到您可以再次发出请求。

我们也可能在未来的某个时候制定每日限制——我们认为 100 / 分钟是一个合理的突发速率，但不是一个合理的全天持续速率。但是，我们尚未强制执行每日限制。

# c# - 显示 XML 文件的输出

> ID：12721993
> 
> 赞同：0
> 
> 时间：2012-10-04T07:09:13.077
> 
> 标签：c#, asp.net, xml

如果假设我有以下格式的 XML 文件：

```
<Employee>
  <EmpInfo>
     <Name> 1 </Name>
     <Age> 23 </Age>
     <Salary> 23234 </Salary>
  </EmpInfo>
  <EmpInfo>
     <Name> 2 </Name>
     <Age> 234 </Age>
     <Salary> 54 </Salary>
  </EmpInfo> *and so on in the similar fashion*
</Employee> 
```

我想显示输出。

**编辑：**

我尝试了这样的基本方法：

```
doc = new XmlDocument();
doc.Load(@"D:\new.xml");
root = doc.DocumentElement;
txtName1.Text = root.GetElementsByTagName("name1")[0].InnerText;
textBox2.Text = root.GetElementsByTagName("empid1")[0].InnerText;
textBox3.Text = root.GetElementsByTagName("deptt1")[0].InnerText;
textBox4.Text = root.GetElementsByTagName("name2")[1].InnerText;
textBox5.Text = root.GetElementsByTagName("empid2")[1].InnerText;
textBox6.Text = root.GetElementsByTagName("deptt2")[1].InnerText; 
```

除了使用 GetElementsByTagName 还有其他方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:15:46.143

这段代码将以表格形式为您提供行：

```
XDocument doc = XDocument.Load(@"[xml file]");

var rows = doc.Descendants("EmpInfo").Select(e => new()
{
    Name = e.Element("Name").Value,
    Age = e.Element("Age").Value,
    Salary = e.Element("Salary").Value
}); 
```

或者

```
class Entity
{
    public string Name { get; set; }
    public int Age { get; set; }
    public decimal Salary { get; set; }
}

var rows = doc.Descendants("EmpInfo").Select(e => new Entity()
{
    Name = e.Element("Name").Value,
    Age = Convert.ToInt32(e.Element("Age").Value),
    Salary = Convert.ToDecimal(e.Element("Salary").Value)
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T07:18:04.823

您可以读取数据`DataSet`并将其分配`DataSet`给 GridView ..

检查下面的代码

```
 string myXMLfile = Server.MapPath("XMLFile.xml");
      DataSet ds = new DataSet();
// Create new FileStream with which to read the schema.
      System.IO.FileStream fsReadXml = new System.IO.FileStream(myXMLfile, System.IO.FileMode.Open);

      try
      {
          ds.ReadXml(fsReadXml);
          gridView1.DataSource = ds;
          gridView1.DataBind();
      }
      catch (Exception ex)
      {
           Response.Write(ex.Message);
      }
      finally
      {
          fsReadXml.Close();
      } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:15:59.790

我会将 XML 数据解析为一个数组，然后遍历每个 EmpInfo，使用类似 printf 的函数打印员工姓名、年龄和薪水。也许也打印标题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T07:18:11.610

```
DataSet ds = new DataSet();
    ds.ReadXml("xml file path"); 
```

然后您可以将数据集与数据表和后续操作一起使用。例如，使用中继器或数据网格或类似方式

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T07:19:21.633

您的问题可能有一个广泛的答案，所以最好先尝试以下尝试使用[此链接](http://msdn.microsoft.com/en-us/library/4bektfx9.aspx)

阅读 Xml

尝试使用[此链接创建表](http://www.dotnetperls.com/datatable)

# javascript - jqGrid：以编程方式设置的可排序列

> ID：12721996
> 
> 赞同：0
> 
> 时间：2012-10-04T07:09:28.493
> 
> 标签：javascript, jquery, jqgrid, jquery-ui-sortable

我正在寻找一种以编程方式对列进行排序的方法。

**请记住，我并不是要像通常使用 sortGrid() 或诸如此类的那样对网格进行排序。我的意思是在渲染网格后以编程方式从左到右排列行顺序。**

所以，我知道：

```
$("#myGrid").jqGrid({sortable: true}); 
```

我可以通过按顺序拖放它们来对列进行排序。这个想法是允许用户对他们的列进行排序，并有一个回调将顺序保存在数据库中，这样每个用户都可以按照自己的意愿排列自己的列。

我正在做与显示和隐藏列类似的事情，但是在没有实际拖放它们的情况下，我无法以编程方式重新排列这些列。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:20:46.880

您可以使用`remapColumns`方法以编程方式对列重新排序，而无需使用拖放操作。

在[答案中](https://stackoverflow.com/a/8436273/315935)，您将找到显示如何将用户特定的列顺序选择保存在`localStorage`. 我个人更喜欢在服务器端将相同信息保存在数据库中的方式。不过，您可以实现将相同信息保存在数据库中，而不是`localStorage`. 为此，您只需更改`saveObjectInLocalStorage`和`getObjectFromLocalStorage`函数的实现，并包含 ajax 调用而不是 usage `window.localStorage`。

# asp.net-mvc - MvcMailer 中的 SendAsync 电子邮件错误

> ID：12721997
> 
> 赞同：2
> 
> 时间：2012-10-04T07:09:28.420
> 
> 标签：asp.net-mvc, mvcmailer

当我想使用 MvcMailer 的 SendAsync 方法在我的控制器中发送邮件异步时，我遇到了这个错误：

```
System.InvalidOperationException
An asynchronous operation cannot be started at this time. Asynchronous operations may only be started within an asynchronous handler or module or during certain events in the Page lifecycle. If this exception occurred while executing a Page, ensure that the Page is marked <%@ Page Async="true" %>. 
```

我使用 MVC4。

这个错误的原因是什么？

# c# - 保护 .NET 中的类或 DLL 不被 IronPython 使用

> ID：12721998
> 
> 赞同：0
> 
> 时间：2012-10-04T07:09:34.277
> 
> 标签：c#, security, ironpython

我想在我的 C# 应用程序中使用 ironpython，但我担心它会导致安全问题，我不希望最终用户使用我的应用程序的所有可用 DLL，而是我想提供用户可以的自定义类在python中使用。

我的问题是如何保护我的 dll 不被用于 Ironpython。最终用户可能会添加 dll 的引用，我想保护大多数类不被使用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T15:17:51.403

诀窍是在自己的 AppDomain 中运行 IronPython，只提供您希望用户能够调用该 AppDomain 的程序集，然后设置安全策略以防止它们引用更多。

# iphone - iOS 6 CoreLocation 不起作用

> ID：12721999
> 
> 赞同：3
> 
> 时间：2012-10-04T07:10:02.633
> 
> 标签：iphone, ios, ios6, core-location

我制作了一个位置应用程序。但核心位置不起作用。我在我的 iPhone 上测试了其他 iPhone 应用程序。
像google earth，一个导航软件。其他应用程序也不起作用。
为什么不更新位置？
为什么 'locationManager:didUpdateToLocation:fromLocation:' 消息只调用了 2 次？

也许……我的 iPhone 坏了？还是 iOS 6 CoreLocation 框架有一些错误？

定位服务 - 在 iPhone 设置上开启

信息列表

*   armv7
*   加速度计
*   位置服务
*   全球定位系统
*   麦克风
*   磁力计

代码示例：

```
- (CLLocationManager *)setupLocationManager
{
  if ([CLLocationManager locationServicesEnabled] && [CLLocationManager headingAvailable]) {

     CLLocationManager *locationManager = [[CLLocationManager alloc] init];
     locationManager.delegate = self;
     locationManager.desiredAccuracy = kCLLocationAccuracyBestForNavigation;
     locationManager.distanceFilter = kCLDistanceFilterNone;
     locationManager.headingFilter = kCLHeadingFilterNone;
     [locationManager startUpdatingLocation];
     [locationManager startUpdatingHeading];
     return locationManager;
  }
  return nil;
}

- (CLLocationManager *)locationManager
{
  switch([CLLocationManager authorizationStatus])
  {
    case kCLAuthorizationStatusAuthorized:
      _deltaTimeLocationReceived = 0.0;
      if (_locationManager == nil)
        _locationManager = [self setupLocationManager];
       return _locationManager;

      case kCLAuthorizationStatusDenied:
      case kCLAuthorizationStatusRestricted:
        if (_locationManager)
          _locationManager = nil;
        return _locationManager;

      case kCLAuthorizationStatusNotDetermined:
        _deltaTimeLocationReceived = 0.0;
        if (_locationManager == nil)
          _locationManager = [self setupLocationManager];
        return nil;
    }
    return nil;
}

- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation
{
  NSLog(@"%@ %@", NSStringFromSelector(_cmd), newLocation.description); 
  if (self.locationManager) _locationSignal++;
}

- (void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error
{
  NSLog(@"%@ %@", NSStringFromSelector(_cmd), error.description);
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-20T16:26:41.330

在 iOS 6 中，Apple 通过实现 AutoPause API 对 Core Location 进行了重大更改。当应用程序进入后台时，AutoPause API 会暂停位置更新，并适用于几个标准（即用户不移动、不定位位置、用户停止活动）。为了准确处理 Apple 请求的暂停事件，以帮助更好地预测是否暂停位置更新，设置活动类型（即导航、健身等）。在针对 iOS 6 编译应用程序时，默认情况下会启用 AutoPause API。

简单的解决方法是通过始终将“pausesLocationUpdatesAutomatically”设置为 NO 来暂时禁用 AutoPause API。即使应用程序在后台运行，也会发送位置更新，就像它过去在 < iOS 6 中工作一样。

更多细节在这里：

[http://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html](http://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T09:27:31.027

`- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation`ios 6 中不再存在委托。

而是使用

```
- (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray*)locations 
```

查看[Apple 文档以获取 startUpdateLocation](https://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html#//apple_ref/occ/instm/CLLocationManager/startUpdatingLocation)

此代码（以及 pausesLocationUpdatesAutomatically）只能在 XCode 4.5（其中基础 SDK 为 6）中编译。

如果您想定位 6.0 之前的 iOS 版本，请使用此宏

```
#define IOS_VERSION_GREATER_THAN_OR_EQUAL_TO(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedAscending) 
```

以及在哪里创建 CLLocationManager 对象

```
if(IOS_VERSION_GREATER_THAN_OR_EQUAL_TO (@"6.0"))
{
    locationManagerObj.pausesLocationUpdatesAutomatically = NO;
} 
```

从 Xcode 4.5 编译时，locationManager 委托应在所有版本中工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-14T17:22:54.887

您有来自委托方法的任何消息吗？

如果没有消息，检查你的类的接口描述。

@interface ... <... CLLocationManagerDelegate ...>