# StackOverflow 问答 14828000-14828999

# groovy - How to assign values to array using groovy?

> ID：14828000
> 
> 赞同：0
> 
> 时间：2013-02-12T08:02:50.113
> 
> 标签：groovy

***Response:***

```
[
    {"msisdn":"85237009372","name":"Vicky","carrier":"AIRTEL"},
    {"msisdn":"85237009373","name":"Vicky1","carrier":"AIRTEL"}
] 
```

I want to extract the all name from response and assign it to array/list?

***Code:***

```
import groovy.json.JsonSlurper

// Retrieve valid mptu Amounts from GET mptu-amounts response
context.responseContent = context.testCase.getTestStepByName("xxxx").getPropertyValue("r_responseContent")

try
{
  responseContentParsed = new JsonSlurper().parseText( context.responseContent )

  context.mptuValidAlias = responseContentParsed.name[0]
  log.info(context.mptuValidAlias)
} 
```

It is retrieving the first row, name (i.e) vicky only.. i wanted to extract name of all rows and assign it to list.. How to do this?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:23:43.737

Change this line:

```
context.mptuValidAlias = responseContentParsed.name[0] 
```

to this:

```
context.mptuValidAlias = responseContentParsed.name 
```

# android - 考虑到对话框和系统窗口，如何跟踪活动可见性？

> ID：14828008
> 
> 赞同：2
> 
> 时间：2013-02-12T08:03:22.257
> 
> 标签：android, android-activity, dialog, keyguard

一项任务：我应该跟踪整个 Android 应用程序的可见性，并在它进入后台或前台时生成事件。任务的第一部分已完成：我有特殊的全局计数器，我在 Activity onStart() 中递增*并在 Activity* *onStop()*中递减，当此计数器降至零时，我的应用程序已进入后台。

任务的第二部分是诡计多端的。我知道[*onResume()*](http://android-developers.blogspot.ru/2011/11/making-android-games-that-play-nice.html)[的奇怪行为](http://android-developers.blogspot.ru/2011/11/making-android-games-that-play-nice.html)*以及使用*onWindowFocusChanged(boolean)*的建议。我查看了*onWindowFocusChanged(boolean)*的文档并注意到这样的事情：*

 *> 但是，作为一般规则，恢复的活动将具有窗口焦点...除非它显示了其他**对话框**或获取输入焦点的弹出窗口，在这种情况下，当其他窗口具有焦点时，活动本身将没有焦点。同样，系统可能会显示系统级窗口（例如状态栏通知面板或系统警报），这些窗口将暂时获取窗口输入焦点，而不会暂停前台活动。

有什么方法可以检查：谁的窗口显示在我的应用程序恢复的活动上？是我的对话还是键盘保护？有什么方法可以捕捉事件：除了我的恢复活动的窗口之外的所有窗口都被删除了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:13:32.243

您基于计数器的方法是完全错误的。原因之一： onStop() 不能保证执行。

我假设您对“背景”和“前景”的概念应该与 Android 相同。但是，当我读到您到目前为止所做的事情时，您似乎对“背景”和“前景”的含义与 Android 有不同的想法。

从那里：

*   如果您知道背景和前景的含义与 Android 不同，那么您不是在帮自己一个忙，并且可能会走错路，因此请重新考虑调整前景和背景的含义。
*   一旦您对背景和前景有了与 Android 相同的想法，问题是，为什么您必须在 Android 已经这样做的情况下生成事件。如果您必须将事件发送到服务等，那么通过侦听[Activity 生命周期事件](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)并为您的服务触发相应的事件将很简单。

关于onWindowFocusChanged：是的，当然通知面板可以暂时隐藏你的App；你用过安卓设备吗？这里最大的问题是你是否会在后台考虑你的应用程序，因为如果正在显示通知面板，Android 会认为你的应用程序在后台。

更新：我刚刚重新阅读了您的 Q 标题。不幸的是，您并没有说明您真正想要/需要做什么，因为*可见性*可能意味着很多事情。例如，如果一个半透明的通知面板被放置在它上面，你是否认为你的应用是可见的？但底线保持不变：如果您将您想要的内容与 Android 提供的内容保持一致，那将是最简单的。;)

更新 2：如果您真的需要知道您的 Activity 是否已通过您自己的活动弹出窗口或您自己移动到后台，[这里的答案](https://stackoverflow.com/questions/14749508/how-to-determine-if-the-foreground-app-is-the-launcher/)应该为您提供所需的信息。*

# javascript - 谷歌图表容器未定义..但 div 在那里

> ID：14828015
> 
> 赞同：4
> 
> 时间：2013-02-12T08:03:54.413
> 
> 标签：javascript, charts, google-visualization

我在页面上的 JS 发布到图表生成 PHP 脚本，然后 PHP 脚本返回的内容被添加到页面（div 的 .html()）。但是，使用 Google Charts API.. 页面是空白的。我收到错误容器未从谷歌的库中定义。以下是 PHP 脚本传递的内容：

```
<script>google.load('visualization', '1', {packages: ['corechart']});
google.setOnLoadCallback(drawChart);
    function drawChart() {
    var data = google.visualization.arrayToDataTable([
        ['Date', 'BTC Price'],['2013-02-12', 22.5]
    ]);
    alert(document.getElementById('chart_div'));
    var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
    chart.draw(data, {title: 'BTC/USD price'});
    }</script><div id='chart_div' style='width: 900px; height: 500px;'></div> 
```

为什么在 chartContent 存在时 document.getElementByID 会返回 null？

**编辑**：现在警报没有出现，但页面仍然是空白的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:42:43.700

您需要等待来自谷歌的数据加载。检查 api 文档，在第一个示例中，有 `google.setOnLoadCallback(drawChart);` 而不是`drawChart()`

在加载绘图之前，您太早调用绘图图表

# fonts - True Type字体字符中的虚线圆圈？

> ID：14828016
> 
> 赞同：0
> 
> 时间：2013-02-12T08:04:02.300
> 
> 标签：fonts

任何人都可以提及真字体字符中使用的“虚线圆圈部分”的名称（示例ൌ - 字符代码=U+0D4C）我可以使用任何字体创建软件编辑该部分吗？我这样做是为了在 android Jelly bean Os 中正确渲染它

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T20:18:05.423

在作文中用作占位符的虚线圆圈称为[“DOTTED CIRCLE”](http://www.fileformat.info/info/unicode/char/25cc/index.htm)，代码U+25CC。

使用[示例中的 U+0D4C](http://www.fileformat.info/info/unicode/char/0D4C/index.htm)：这个字符是马拉雅拉姆元音。在 Unicode 用语中，它是一个“间距组合标记”，这意味着它需要与另一个字符组合才能“完整”。当以不完整状态表示时，虚线圆圈用于指示缺失部分的相对位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T17:08:39.013

这是“点圆”代码=U+25CC。检查[Unicode 图表](http://www.unicode.org/charts)。如果你想要一个多平台的免费字体编辑器，
你可以在[Fontforge中编辑它。](http://fontforge.org)

# c - 结构中的整数设置为零

> ID：14828017
> 
> 赞同：-1
> 
> 时间：2013-02-12T08:04:05.003
> 
> 标签：c, arrays, struct, int

我已经编写了这段代码，但输出不是我期望的那样。我将 integer: 设置`proj.startP`为`1000`，但在做了一些 for 循环之后，变量又被设置为`0`。

```
#include <stdio.h>

struct vezelstruct{
    float verd[10][10][10];
    int startP;
};

struct vezelstruct proj;

int main(int argc, char *argv[])
{
    int g, i;

    proj.startP=1000;                           // variable set to 1000
    printf("%i\n", proj.startP);

    for(g=1;g<=10;g++)
    {
        for(i=1;i<=10;i++){
                proj.verd[g][10][i]=0.0;
        }
    }

    printf("should be 1000: %i\n", proj.startP); // it's equal to 0 here
    return 0;
} 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:08:27.137

这里:`for(g=1;g<=10;g++)`和这里:`for(i=1;i<=10;i++)`你应该从, 即开始`0`和结束。`9``for(i = 0; i < 10; i++)`

当您尝试访问`proj.verd[10][10][10]`时，您实际上是在尝试访问数组边界之外的内存。这导致**未定义的行为**，在这种情况下导致重写`proj.startP`为`0`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:08:36.410

您已经溢出了数组并成功进入了[未定义行为](http://en.wikipedia.org/wiki/Undefined_behavior)的领域，在您的情况下，它已经覆盖了结构的其他成员。正确的代码应该是：

```
for(g=0;g<10;g++)
{
        for(i=0;i<10;i++){
                proj.verd[g][9][i]=0.0;
        }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-12T08:11:00.710

看起来您超出了数组的范围并因此将值设置为零。如果你从 0 到 9 而不是从 1 到 10，它应该可以工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T09:22:34.957

当您越过数组边界的限制时，编译器会尝试替换分配给您的堆栈的其他部分中的值。如果它越过堆栈的边界，那么你会得到一个分段错误。在这里，由于您尝试访问的不仅仅是数组边界，因此它在 proj.startP 中放置了 0。

# php - somsone 填写表单后自动生成的 PHP 页面

> ID：14828018
> 
> 赞同：0
> 
> 时间：2013-02-12T08:04:10.753
> 
> 标签：php, html, mysql, auto-generate

有人填写注册表后如何以这种样式制作自动生成的页面：

```
 <div class="data">
                <h1>Name of the User</h1>
                <h3>Age of the user</h3>
                <h4><a href="http://letstalk.nl.ae">www.letstalk.nl.ae</a></h4>
                <div class="sep"></div>
                <ul class="numbers clearfix">
                    <li>Reputatie<strong>0</strong></li>
                    <li>Badges<strong>0</strong></li>
                    <li class="nobrdr">Checkins<strong>0</strong></li>
                </ul>
            </div>
        </div>` 
```

目前我正在使用 HTML、PHP、MySQL。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:08:54.373

如果要将注册页面值存储到数据库，则可以从表中获取并显示。否则，您直接将值发布到页面意味着，您可以这样做，

```
<div class="data">
                <h1>Name of the User : <?php echo $_POST['name']; ?></h1>
                <h3>Age of the user : <?php echo $_POST['age']; ?></h3>
                <h4><a href="http://letstalk.nl.ae">www.letstalk.nl.ae</a></h4>
                <div class="sep"></div>
                <ul class="numbers clearfix">
                    <li>Reputatie<strong>0</strong></li>
                    <li>Badges<strong>0</strong></li>
                    <li class="nobrdr">Checkins<strong>0</strong></li>
                </ul>
            </div>
        </div> 
```

`<?php echo $_POST['name']; ?>`在我上面提到的第一种情况下，`<?php echo $_POST['age']; ?>`用您的数据库值替换,

# java - JAXB/MOXy：元素的命名空间错误

> ID：14828021
> 
> 赞同：2
> 
> 时间：2013-02-12T08:04:17.797
> 
> 标签：java, jaxb, eclipselink, moxy

我正在使用 MOXy 和属于不同命名空间的类，但 MOXy 总是将错误的命名空间添加到引用的对象。为什么这个简单的例子没有按预期工作？

**AtomLink.java：**

```
package org.atom;

@XmlAccessorType(XmlAccessType.NONE)
public class AtomLink {

    @XmlAttribute
    protected String rel;
    @XmlAttribute(required = true)
    @XmlSchemaType(name = "anyURI")
    protected String href;

    public AtomLink() {
    }

    public AtomLink(String rel, String href) {
        this.rel = rel;
        this.href = href;
    }

} 
```

**人.java**

```
package org.example;

import org.atom.AtomLink;

@XmlRootElement(name = "person")
@XmlAccessorType(XmlAccessType.NONE)
public class Person {

    @XmlElement
    protected String name;
    @XmlElement
    protected AtomLink link;

    public Person() {
    }

    public Person(String name, AtomLink link) {
        this.name = name;
        this.link = link;
    }

} 
```

**包信息.java**

```
@XmlSchema(namespace = "http://www.w3.org/2005/Atom", xmlns={
    @XmlNs(namespaceURI = "http://www.w3.org/2005/Atom", prefix = "atom")}, elementFormDefault = XmlNsForm.QUALIFIED, attributeFormDefault = XmlNsForm.QUALIFIED) 
package org.atom; 
```

**包信息.java**

```
@XmlSchema(namespace = "http://www.test.org", xmlns={
    @XmlNs(namespaceURI = "http://www.test.org", prefix = "test")}, elementFormDefault = XmlNsForm.QUALIFIED, attributeFormDefault = XmlNsForm.UNQUALIFIED) 
package org.example; 
```

**测试代码：**

```
Person person = new Person("Test", new AtomLink("self", "http://www.test.org/person/Test"));
try {
    JAXBContext context = JAXBContextFactory.createContext(new Class[] { Person.class }, null);
    Marshaller marshaller = context.createMarshaller();
    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
    marshaller.marshal(person, System.out);
} catch (JAXBException e) {
    e.printStackTrace();
} 
```

**结果：**

```
<?xml version="1.0" encoding="UTF-8"?>
<test:person xmlns:atom="http://www.w3.org/2005/Atom" xmlns:test="http://www.test.org">
    <test:name>Test</test:name>
    <test:link atom:rel="self" atom:href="http://www.test.org/person/Test"/>
</test:person> 
```

**但我期待：**

```
...
    <atom:link atom:rel="self" atom:href="http://www.test.org/person/Test"/>
... 
```

为什么 MOXy 无法识别 AtomLink 类属于不同的命名空间？如您所见，只有元素的命名空间是错误的，但它的属性被分配给了正确的命名空间。

# 更新

我已按照建议进行了以下更改。这些类如下所示：

**原子链接.java**

```
@XmlRootElement(name = "link")
@XmlAccessorType(XmlAccessType.NONE)
public class AtomLink {

    @XmlAttribute
    protected String rel;
    @XmlAttribute(required = true)
    @XmlSchemaType(name = "anyURI")
    protected String href;

    public AtomLink() {
    }

} 
```

**人.java：**

```
@XmlRootElement(name = "person")
@XmlAccessorType(XmlAccessType.NONE)
public class Person {

    @XmlElement
    private String name;
    @XmlElementRef
    private AtomLink link;

    public Person() {
    }

    public Person(String name, AtomLink link) {
        this.name = name;
        this.link = link;
    }

} 
```

结果是一个无效的 XML 文档，它将 n0 定义为链接元素的 targetNamespace，但它的属性被分配给我的 atom-prefix。

```
<?xml version="1.0" encoding="UTF-8"?>
<test:person xmlns:test="http://www.test.org" xmlns:ns0="http://www.w3.org/2005/Atom>
    <test:name>Test</test:name>
    <ns0:link atom:rel="self" atom:href="http://www.test.org/person/Test"/>
</test:person> 
```

用 atom-entry扩展“ [http://www.test.org](http://www.test.org) ”命名空间并不是一个解决方案，因为即使 XML 文档中不存在 atom-element，这也总是会导致命名空间声明。

# 更新2

如果我使用 Java 内部 JAXB-Implementation，一切都按预期工作...... MOXy 实现中一定有错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:29:02.683

这就是 JAXB 的工作方式。局部元素的命名空间（就像它的名字一样，很自然）由其`@XmlElement`注解的属性指定。

如果你想要`AtomLink`而不是`Person`决定这些（命名空间和名称，因为它们一起出现），你必须在 Person中创建`@XmlRootElement`并使用它。`@XmlElementRef`

如果你想留下来`@XmlElement`

```
@XmlElement(namespace="http://www.w3.org/2005/Atom")
private AtomLink link; 
```

是要走的路。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T21:04:48.263

您遇到的是 MOXy 中的一个[错误](http://bugs.eclipse.org/400536)，该错误现已在 EclipseLink 2.4.2 和 2.5.0 流中得到修复。自 2013 年 2 月 13 日起，您可以从以下位置下载每晚构建的版本。

*   [http://www.eclipse.org/eclipselink/downloads/nightly.php](http://www.eclipse.org/eclipselink/downloads/nightly.php)

关于正确的映射，请参见[Michał Politowski 给出的答案](https://stackoverflow.com/a/14828386/383861)。

# javascript - 清除 Chrome 控制台

> ID：14828022
> 
> 赞同：2
> 
> 时间：2013-02-12T08:04:20.950
> 
> 标签：javascript, google-chrome, console

我一直在尝试清除 Chrome 控制台，但是它一直给我这个错误：

```
Uncaught TypeError: Object #<Console> has no method 'clear' 
```

老实说，我不知道为什么它一直给我这个错误。`console.log(...)`有效，许多其他控制台功能也有效，只是没有`clear()`.

```
<!DOCTYPE HTML>
<html>
    <head>
         <script>
            console.log("Hello, World.");

            console.clear();
        </script>
    </head>

    <body>

    </body>
</html> 
```

有任何想法吗？

编辑： [https ://developers.google.com/chrome-developer-tools/docs/console#clearing_the_console_history](https://developers.google.com/chrome-developer-tools/docs/console#clearing_the_console_history)

声明“从 JavaScript 调用 console.clear() 控制台 API。” 所以我想有一些方法可以在 javascript 脚本中使用 clear() 函数，但我想我误解了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:06:04.540

`clear()`不允许从页面的脚本中调用。

在控制台中，`clear()`可以执行。它存在于`window.console._commandLineAPI.clear`控制台并在控制台中工作，因为它是在这种情况下运行的......

```
with ((window && window.console && window.console._commandLineAPI) || {}) {
    // console executed code
} 
```

# mysql - cakePHP 1.2 中的搜索查询

> ID：14828024
> 
> 赞同：0
> 
> 时间：2013-02-12T08:04:27.270
> 
> 标签：mysql, cakephp, cakephp-1.2

我有这个查询：

```
$conditions = array(
            'editore LIKE' => "%$e%",
            'titolo LIKE' => "%$t%"
        );
        if (isset($autore_diviso))
            $conditions[] = array('autori LIKE ? AND ?' => array("%$autore1%","%$autore2%"));                   
        else
            $conditions[]=array('autori LIKE' => "%$a%");
        if (!$anno&&!$anno2) // I HAVE TO CHANGE THIS - if the user does not insert any year
            $conditions=$conditions;
        else {
        if (!$anno)
            $conditions[] = array('anno <=' => "$anno2");          
        if (!$anno2)
            $conditions[] = array('anno >=' => "$anno");
        }
        if ($anno&&$anno2)
            $conditions[] = array('anno BETWEEN ? AND ?' => array($anno,$anno2)); 
```

anno 表示年份，edite 表示出版商，titolo 表示标题。

它不能准确地搜索 2 位作者。
如果我调试 $conditions，我有例如：

```
Array (
[editore LIKE] => %%
[titolo LIKE] => %%
[0] => Array
    (
        [autori LIKE ? AND ?] => Array
            (
                [0] => %massi%
                [1] => %palu%
            )

    ) ) 
```

但结果是空的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T15:39:32.583

使用此代码解决：

```
$conditions = array(
        'editore LIKE' => "%$e%",
        'titolo LIKE' => "%$t%"
    );
    if (isset($autore_diviso))
        $conditions[] = array('autori LIKE ? AND autori LIKE?' => array("%$autore1%","%$autore2%"));                    
    else
        $conditions[]=array('autori LIKE' => "%$a%");
    if (!$anno&&!$anno2)    // Da sistemare.
        $conditions=$conditions;
    else {
    if (!$anno)
        $conditions[] = array('anno <=' => "$anno2");          
    if (!$anno2)
        $conditions[] = array('anno >=' => "$anno");
    }
    if ($anno&&$anno2)
        $conditions[] = array('anno BETWEEN ? AND ?' => array($anno,$anno2));
    debug($conditions); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:10:01.623

这不是在 PHP 中向数组添加元素的方式。此外，不需要使用 explicit `AND`，这是默认设置。仅当存在多个相同的数组键时才需要它。

```
$conditions = array(
    'autori LIKE ? AND ?' => array("%$autore1%","%$autore2%"), 'editore LIKE' => "%$e%",
    'titolo LIKE' => "%$t%"
);

if (!$anno)
    $conditions[] = array('anno <=' => "$anno2");          

if (!$anno2)
    $conditions[] = array('anno >=' => "$anno");

if ($anno&&$anno2)
    $conditions[] = array('anno BETWEEN ? AND ?' => array($anno,$anno2)); 
```

# php - 带有 jPlayer 的 Grooveshark 公共流 API

> ID：14828025
> 
> 赞同：0
> 
> 时间：2013-02-12T08:04:36.790
> 
> 标签：php, html, streaming, jplayer, grooveshark

我可以使用公共流 API 从 Grooveshark 流式传输歌曲。我将它与 jPlayer(jplayer.org) 一起使用，它可以正确播放歌曲。

但问题是，**在 Firefox 中**（检查最新版本），歌曲的**完整持续时间**从 00:00 一直增加到完整的歌曲长度。基本上完整的歌曲持续时间**是歌曲缓冲的数量**。

例如**，长度为 04:00**分钟的歌曲开始缓冲。现在，当**它缓冲歌曲的四分之一**时（即 01:00 分钟），**jPlayer 将歌曲持续时间显示为 01:00**分钟，而它应该是 04:00 分钟。

**截图：（**播放的歌曲总时长05:06分钟）

[http://i.stack.imgur.com/wzxPx.png](http://i.stack.imgur.com/wzxPx.png)

**在谷歌浏览器**（检查最新版本）**中显示歌曲的完整持续时间，** jplayer 显示整首歌曲甚至从歌曲开始就被缓冲。

**截图：**（Chrome显示整首歌曲已缓冲但仍在缓冲中）

[http://i.stack.imgur.com/PSkct.png](http://i.stack.imgur.com/PSkct.png)

jPlayer 首先使用 HTML5，如果不支持 HTML5，则回退到 Flash。Google Chrome 支持使用 HTML5 播放 mp3（Grooveshark 流是一种 mp3）。但 Firefox 不支持 HTML5 中的 mp3。

所以很明显**Firefox 使用的是 flash 而 Chrome 使用的是 HTML5**。

现在我要解决的问题是：-

*   **在 Firefox 中获得完整的歌曲持续时间并保持其他所有内容不变。**
*   **在 Chrome 中保持歌曲的完整持续时间并显示缓冲的歌曲数量。**

所有这一切都应该是可能的，因为grooveshark 网站本身也使用相同的stream.php 文件。

Grooveshark 也提供了它自己的 Flash 播放器，但它没有足够的功能，特别是它不是 HTML5。

如果 jPlayer 无法实现，请向我推荐一个更好的替代方案，它支持 HTML5 并且适合流式传输。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T20:21:27.457

Grooveshark 有时可以做的一件事是获取歌曲的当前长度并将其除以加载的百分比。这将使您对文件的实际持续时间有一个很好的估计，除了可能的 VBR 文件。您也可以尝试查看 ID3 标签。

# java - JMeter 安装

> ID：14828027
> 
> 赞同：10
> 
> 时间：2013-02-12T08:04:44.903
> 
> 标签：java, jmeter

运行 JMeter 时如何解决此错误：

```
[root@bx1 bin]#./jmeter.sh 
```

> java.lang.Throwable：无法访问 /opt/apache-jmeter-2.6/lib/ext 在 org.apache.jmeter.NewDriver.(NewDriver.java:98)
> 
> java.lang.Throwable：无法访问 /opt/apache-jmeter-2.6/lib/junit 在 org.apache.jmeter.NewDriver.(NewDriver.java:98)
> 
> java.lang.ClassNotFoundException: org.apache.jmeter.JMeter
> 
> 在 java.net.URLClassLoader$1.run(URLClassLoader.java:217) 在 java.security.AccessController.doPrivileged(Native Method) 在 java.lang.ClassLoader 在 java.net.URLClassLoader.findClass(URLClassLoader.java:205)。 loadClass(ClassLoader.java:321) at java.lang.ClassLoader.loadClass(ClassLoader.java:266) at org.apache.jmeter.NewDriver.main(NewDriver.java:212)

JMeter 主目录被检测为：`/opt/apache-jmeter-2.6`.

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T10:46:11.993

您的 JMeter 安装可能已损坏。
您可以尝试以下方法：

1.  尝试使用最新安装的[最新可用 JMeter 版本](http://jmeter.apache.org/download_jmeter.cgi#binaries)而不是当前版本 - 如果您的情况不需要使用 2.6；
2.  [根据PGP 或 MD5 签名](http://www.apache.org/info/verification.html)检查下载的 JMeter 存档的完整性；
3.  类`org.apache.jmeter.JMeter`应该在文件中`JMETER_HOME/lib/ext/ApacheJMeter_core.jar`。检查这是否存在。检查罐子没有破损；
4.  检查`$JAVA_HOME`已定义并指向[实际的 JDK](https://jmeter.apache.org/usermanual/get-started.html#java_versions)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-07-10T23:49:52.590

基本上没有安装Jmeter，你不用执行或者设置文件来安装它。当您从 Apache 站点解压缩下载 zip/gzip 时，导航到该`bin`文件夹​​并单击`ApacheJmeter.Jar`. 这将启动 Jmeter UI 实例。还要确保您的系统中安装了 Java JDK 和 JRE。

您能告诉我们您要安装的操作系统版本吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-05T17:30:31.327

ClassNotFoundException 有两种可能的含义：

1.  您没有定义类的 jar
2.  您有该类的*重复定义。*

也许您在所有 Java 程序共有的文件夹中遇到了一些 jar？例如你的路径，或 library/java/extensions

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-16T03:35:01.643

这听起来可能很奇怪，但我看到许多 java 程序在使用 CentOS 默认附带的 openjdk 运行时会引发此类随机错误。在这种情况下，我可以使用 SUN/Oracle JDK 运行相同的程序。

如果其他一切都失败了，你应该尝试一下。

您必须适当设置 JAVA_HOME 和 PATH，其中包含较新的 java。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-12T11:01:03.290

看起来您的 JMeter 安装不成功。

```
java.lang.ClassNotFoundException: org.apache.jmeter.JMeter 
```

org.apache.jmeter.JMeter 类应该在 jar 文件`<JMETER_HOME>/lib/ext/ApacheJMeter_core.jar`中。运行以下 jar 命令以检查 jar 中是否存在该文件。

```
jar -tf <JMETER_HOME>/lib/ext/ApacheJMeter_core.jar 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-05-04T10:47:15.487

下载最新版本的 jmeter 并运行 jar 文件。

检查以下链接[http://www.thetestingworld.com/category/docs/jmeter/](http://www.thetestingworld.com/category/docs/jmeter/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-11T17:04:53.100

请使用最新版本的 jmeter，因为它包含您可能正在寻找的所有修复程序

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-08-30T19:28:45.417

检查您的 JDK 版本。它应该始终是 jmeter 的最新版本。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-11-09T18:27:24.563

以下是可能的问题

1.  Java 路径设置不正确
2.  您的 JMeter 安装不正确
3.  试图从一个无效的目录结构中运行 JMeter，在该目录结构中找不到必要的 lib 文件
4.  最后是你的 Java 版本兼容性。

快速解决：

1.  使用 java -version 从 cmd promt 检查您的 Java 安装，该版本应为 1.7 或更高版本
2.  如果上述步骤有效，请下载并将 JMeter 解压缩/解压缩到新目录中，然后重试。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-11-09T07:11:42.873

`ClassNotFoundException`在以下情况下发生：

1.  包含类定义的 jar 不存在。

2.  存在一些重复的类定义。

错误：

```
java.lang.ClassNotFoundException: org.apache.jmeter.JMeter
means that the jar file is missing/corrupted, due to which you're getting this error message. 
```

你可以试试这些方法：

*   检查此类是否存在于 /lib/ext/ApacheJMeter_core.jar
*   检查此 jar 文件是否未损坏。
*   尝试使用最新的可用 jmeter 版本的全新安装
*   根据 PGP 或 MD5 签名检查下载的 jmeter 存档的完整性
*   检查 $JAVA_HOME 是否已定义并指向 JDK 1.6.0 或更高版本。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-10-05T14:39:12.053

```
JAVA_HOME=path JAVA_HOME 
```

并在脚本 jmeter 中修改这一行

```
java $JVM_ARGS $JMETER_OPTS -jar "$PRGDIR/ApacheJMeter.jar" "$@" 
```

为了这

```
$JAVA_HOME/bin/java $JVM_ARGS $JMETER_OPTS -jar "$PRGDIR/ApacheJMeter.jar" "$@" 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-05-03T14:52:53.243

JMeter 插件管理器安装 -

为此，从 [THIS LINK][1] 下载 jar 文件并放入 lib/ext 并重新启动 JMeter。您将能够按照下面的屏幕截图查看 JMeter 插件管理器图标。

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2018-06-11T14:33:23.907

运行 Jmeter 唯一需要的是 JDK 和 JRE（要安装的 JDK/JRE 版本取决于您正在安装的 Jmeter 版本），它们应该安装在您的系统上。并且 JRE 路径应该在环境变量中设置。这应该足以运行 Jmeter。还要检查 JDK/JRE 版本与您安装的 Jmeter 版本的兼容性。

* * *

## 回答 #14

> 赞同：-3
> 
> 时间：2015-07-23T08:41:50.293

似乎权限错误，试试这个命令行，

> sudo chmod -R 777 /opt/

确保你已经安装了 oracle jdk，检查这个，

> java版本
> 
> java版本“1.8.0_45”
> 
> Java(TM) SE Runtime Environment (build1.8.0_45-b14)
> Java HotSpot(TM) 64-Bit Server VM（build 25.45-b02，混合模式）

检查 java_home

> 回声 $JAVA_HOME
> 
> /usr/lib/jvm/java-8-oracle/jre

* * *

## 回答 #15

> 赞同：-5
> 
> 时间：2015-07-24T09:37:36.300

尝试这个

> sudo chmod -R 777 /opt/

# java - libgdx 中的手势检测器

> ID：14828028
> 
> 赞同：7
> 
> 时间：2013-02-12T08:04:53.290
> 
> 标签：java, android, libgdx, pinchzoom, gesturedetector

我是 libgdx 的新手。我有以下问题。我想为我的游戏做捏缩放。为此，我`GestureDetectorListener`在我的`GameStage`.

在`GameStage`我有以下代码`GestureDetector`：

```
OrthographicCamera camera = new OrthographicCamera(Gdx.graphics.getWidth(), Gdx.graphics.getHeight());
this.setCamera(camera);

GestureDetector gestureDetector = new GestureDetector(20, 0.5f, 2, 0.15f, new GestureDetectorListener());
Gdx.input.setInputProcessor(gestureDetector);

class GestureDetectorListener implements GestureListener {
    float initialScale = 1;

    @Override
    public boolean touchDown(float x, float y, int pointer, int button) {
        initialScale = camera.zoom;
        return true;
    }

    @Override
    public boolean tap(float x, float y, int count, int button) {
        // TODO Auto-generated method stub
        return true;
    }

    @Override
    public boolean longPress(float x, float y) {
        // TODO Auto-generated method stub
        return true;
    }

    @Override
    public boolean fling(float velocityX, float velocityY, int button) {
        // TODO Auto-generated method stub
        return true;
    }

    @Override
    public boolean pan(float x, float y, float deltaX, float deltaY) {
        return true;
    }

    @Override
    public boolean zoom(float initialDistance, float distance) {
        float ratio = initialDistance / distance;
        camera.zoom = initialScale * ratio;
        return true;
    }

    @Override
    public boolean pinch(Vector2 initialPointer1, Vector2 initialPointer2,
            Vector2 pointer1, Vector2 pointer2) {
        // TODO Auto-generated method stub
        return true;
    }

} 
```

我还设置`InputListener`了我舞台的演员，以便拖动他们。问题是，当我设置`InputProcessor`为时`GestureDetector`，我的演员的拖动不起作用。我想用相机和 进行捏缩放`GestureDetector`，但它不会对拖动产生影响。我怎样才能做到这一点？

请提供任何帮助！谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-12T14:16:08.943

CodeNoob 走在正确的道路上，但我认为您可能希望以不同的方式构建事物。

您可以使用 an[`InputMultiplexer`](http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/InputMultiplexer.html)来安装全局`GestureListener`和舞台的侦听器：

```
GestureDetector gd = ...
Stage myStage = ...
InputMultiplexer im = new InputMultiplexer(gd, myStage); // Order matters here!
Gdx.input.setInputProcessor(im); 
```

要注意的另一件事是`boolean`输入侦听器中所有方法的返回值。任何返回“true”的事件都会将该事件标记为“已处理”，并且多路复用器不会将事件传递给其对等方。此外，多路复用器中输入处理器的顺序会有所不同（因为它可能会隐藏来自底层 inputProcessor 的事件）。因此，在您的示例中返回“true”的自动生成的存根将“吃掉”一堆事件。如果此处理程序首先在多路复用器中，则将从阶段隐藏事件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T11:23:40.803

您需要创建一个 InputMultiplexer`InputMultiplexer myInputMultiplexer = new InputMultiplexer()`

然后将 GestureDetector 和 InputListener 添加到 InputMultiplexer ( `myInputMultiplexer.addProcessor()`)。

最后，您必须将多路复用器设置为主 InputProcessor，如下所示：`Gdx.input.setInputProcessor(myInputMultiplexer)`

# jquery - 具有 CSS-toggle-effect 的响应式 DIV：Firefox 中的奇怪行为，所有其他浏览器都可以吗？

> ID：14828029
> 
> 赞同：3
> 
> 时间：2013-02-12T08:04:55.097
> 
> 标签：jquery, css, firefox, toggle

我用 Jquery 制作了一个包含几个单词和图片的菜单。它在所有浏览器中都能正常工作，除了 Firefox。如果您将鼠标悬停在第三个项目（始终是最后一个，因为每个项目的宽度约为 30%），则会发生我无法解释的奇怪效果。

你能看看我的小提琴，你能帮我解决这个问题吗？非常感谢提前:-))

```
$(document).ready(function() {
    $(".lvl3 li a").hover(function() {
        $(this).find(".lvl3-hover").toggle(10);
        $(this).find(".lvl3-pic-hover").toggle(10);
        $(this).find(".lvl3-title-hover").toggle(10);
        $(this).find(".lvl3-title").toggle(10);
        $(this).find(".lvl3-subtitle-hover").toggle(10);
        $(this).find(".lvl3-subtitle").toggle(10);
        $(this).find(".lvl3-projektdetails").toggle(10);
    });
}); 
```

[看我的小提琴](http://jsfiddle.net/rheingau360/HNUWZ/2/)

**编辑：**

这是我首先尝试的，只是切换`<div>`应该出现在悬停上的那个。闪烁会更好，但是当我将第三个元素悬停时（也许您必须稍微调整浏览器窗口的大小才能看到它），我的菜单中有一个奇怪的“跳跃”。

我尝试了几个小时来解决这个问题，但我还没有找到解决方案。

你能再检查一下吗？

```
$(document).ready(function() {
    $(".lvl3 li a").hover(function() {
        $(this).find(".lvl3-hover").toggle();
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T10:39:55.727

尽管我看到元素跳跃（和返回）更快，但我也可以在 Chrome 中重现该问题。我相信这是由于浮点舍入错误造成的，但老实说 HTML、CSS 和 JavaScript 过于复杂，我认为更简单的解决方案不仅仅涉及舍入某些长度值。因此，尽管它可能不是您所追求的，但我在 Firefox 和 Chrome 中看到了预期的行为。不幸的是，我无法测试 IE。

[**jsFiddle 演示**](http://jsfiddle.net/ZZkcD/)

我整理/弄乱了 HTML 和 CSS 来解决问题，只使用[`:hover`](https://developer.mozilla.org/en-US/docs/CSS/%3ahover)悬停效果的伪类并四舍五入所有百分比长度，因此它不会是*完全相同*的布局。

此外，这可以在没有任何 JavaScript 的情况下解决！

**HTML**

```
<ul class="lvl3">
    <li>
        <a href="1" target="_self">
            <div class="lvl3-normal">
                <div class="lvl3-pic"></div>
                <div class="lvl3-title">Test</div>
                <div class="lvl3-subtitle">Frankfurt</div>
            </div>
            <div class="lvl3-hover"></div>
            <div class="lvl3-projektdetails">&rarr; Projektdetails</div>
        </a>
    </li>
    <li>
        <a href="1" target="_self">
            <div class="lvl3-normal">
                <div class="lvl3-pic"></div>
                <div class="lvl3-title">Test</div>
                <div class="lvl3-subtitle">Munich</div>
            </div>
            <div class="lvl3-hover"></div>
            <div class="lvl3-projektdetails">&rarr; Projektdetails</div>
        </a>
    </li>
    <li>
        <a href="1" target="_self">
            <div class="lvl3-normal">
                <div class="lvl3-pic"></div>
                <div class="lvl3-title">Test</div>
                <div class="lvl3-subtitle">Cologne</div>
            </div>
            <div class="lvl3-hover"></div>
            <div class="lvl3-projektdetails">&rarr; Projektdetails</div>
        </a>
    </li>
    <li>
        <a href="1" target="_self">
            <div class="lvl3-normal">
                <div class="lvl3-pic"></div>
                <div class="lvl3-title">Test</div>
                <div class="lvl3-subtitle">Hamburg</div>
            </div>
            <div class="lvl3-hover"></div>
            <div class="lvl3-projektdetails">&rarr; Projektdetails</div>
        </a>
    </li>
</ul> 
```

**CSS**

```
html,
body {
    margin: 0;
    padding: 0;
    font-family: Arial, Helvetica, sans-serif;
}
img {
    max-width: 100%;
    width: 100%;
    height: auto;
}
ul {
    list-style: none;
    margin: 0;
    padding: 0;
}
.lvl3 a {
    text-decoration: none;
    padding: 0;
    margin: 0;
    display:block;
}

.lvl3 li {
    float: left;
    margin-left: 0.83%;
    margin-right: 0.83%;
    margin-bottom: 0.83%;
    width: 31%;
    position: relative;
}

.lvl3-normal {
    background-color: #f0f0f5;
    width: 100%;
    height: 0;
    padding-bottom: 83%;
}

.lvl3-hover {
    background-color:#ee7029;
    width: 100%;
    height: 0;
    padding-bottom: 53%;
    display: none;
    opacity:.8;
    position:absolute;
    top:0;
}

.lvl3-pic {
    width: 100%;
    height: 0;
    padding-bottom: 53%;
    background-image:url(http://p183853.webspaceconfig.de/uploads/media/objekt_10.jpg);
}

.lvl3-title {
    margin-left: 2%;
    margin-top: 3%;
    line-height: 30px;
    font-size: 14px;
    color: #ee7029;
    text-decoration: none;
    font-weight: bold;
}

.lvl3-subtitle {
    margin-left: 2%;
    font-size: 12px;
    color: #022236;
    text-decoration: none;
}

.lvl3-projektdetails {
    width: 80%;
    height: 30px;
    position: absolute;
    top: 0;
    margin: 20% 10% 0 10%;
    line-height: 30px;
    background-color: #333;
    text-align: center;
    font-size: 14px;
    color: #FFF;
    display:none;
}

a:hover .lvl3-hover, a:visited .lvl3-hover, a:hover .lvl3-projektdetails, a:visited .lvl3-projektdetails  {
    display: block;
}

a:hover .lvl3-normal, a:visited .lvl3-normal  {
    background-color:#ee7029;
}

a:hover .lvl3-title, a:visited .lvl3-title {
    color:#fff;
} 
```

另请注意，标记将受益于进一步的整理，我也希望使用更具语义的标记，例如使用标题元素而不是`<div>`样式作为标题。

希望这可以帮助。

# css - 每个按钮组的按钮上的阴影效果

> ID：14828033
> 
> 赞同：0
> 
> 时间：2013-02-12T08:05:23.073
> 
> 标签：css, extjs, shadow

我有一个按钮组，其中有两个按钮。现在，当我选择一个按钮时，该按钮应该有一些阴影效果，这将向查看者显示该按钮正在被按下，而其他按钮应该被视为未按下。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:12:38.983

这是非常简单的方法

```
 .youButton:active{
        box-shadow: 10px 10px 5px #888888;
-moz-box-shadow: 10px 10px 5px #888888;
-webkit-box-shadow: 10px 10px 5px #888888;
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:13:19.883

我知道如果您使用链接来设置按钮样式，这是可能的：

```
/*HTML*/
<a href="#" class="button">Click Me</a>

/*CSS*/
a.button:active{
    -moz-box-shadow: 10px 10px 5px #888;
    -webkit-box-shadow: 10px 10px 5px #888;
    box-shadow: 10px 10px 5px #888;
} 
```

*活动*选择器将在其处于按下状态时更改链接的样式。但是，如果您正在寻找使用真正的 html*按钮*，我不知道有什么简单的方法可以解决这个问题。

你可以看看这个教程：[Pressed Button State With CSS](http://www.usabilitypost.com/2008/12/16/pressed-button-state-with-css/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-12T08:35:39.903

尝试这个。

```
 <div class="buttonSet">
         <a href="#" class="button">Button 1</a>
         <a href="#" class="button">Button 2</a>
 </div> 
```

CSS

```
 .buttonSet { padding:20px;}
  a.button{ 
         padding:5px 10px; 
         border:solid 1px #cccccc; 
         background:#efefef;
         font-family:Arial, Helvetica, sans-serif; color:#333333;
         text-decoration:none;
 }
 a.button:active {
     color:#000000;
     -moz-box-shadow: 0px 1px 2px rgba(0,0,0,0.3);
     -webkit-box-shadow: 0px 1px 2px rgba(0,0,0,0.3);
      box-shadow:0px 1px 2px rgba(0,0,0,0.3);
  } 
```

[**演示**](http://jsfiddle.net/74eEn/)

# php - Querybuilder Inner Join 在教义2中返回太多

> ID：14828037
> 
> 赞同：2
> 
> 时间：2013-02-12T08:05:40.007
> 
> 标签：php, symfony, doctrine, doctrine-orm

这是我在 Symfony2-Project 中的查询，使用原则：

```
 $qb->select(array('r', 'fp', 'p'))
    ->from('Farmerguide\BackendBundle\Entity\Farmerproduct', 'fp')
    ->innerJoin('fp.product', 'p')
    ->innerJoin('p.rubric', 'r')
    ->andWhere('fp.farmer= :id')
    ->setParameter('id', $farmerId); 
```

有关表/实体的信息：Farmerproduct 有一个 id、farmer_id 和一个 product_id 产品有一个 id 和 rubric_id（产品是某种 rubric 的“子目录”）

对于一个农民，我现在想要所有的量规，没有其他任何东西。但是当我更改`select`-part 时出现错误，它说它需要`joined`选择所有实体......

好吧，现在我得到了所有加入的信息，所以对于 1 个农民的 100 种产品，我得到了每一个带有标题和农民的产品（我不知道为什么我也得到了农民..）

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T10:49:31.087

您必须选择 DQL 查询的根实体。假设您没有双向关联，它如下所示：

```
SELECT
    r
FROM
    Farmerguide\BackendBunle\Entity\Rubric r
WHERE
    r.id IN (
        SELECT
            r2.id
        FROM
            Farmerguide\BackendBundle\Entity\Farmerproduct fp
        JOIN
            fp.product p
        JOIN
            p.rubric r2
        WHERE
            fp.farmer = :id
    ) 
```

在`QueryBuilder`API 中，这如下所示：

```
$qb1 = $em->createQueryBuilder();
$qb2 = $em->createQueryBuilder();

$qb2
    ->select(array('r2.id'))
    ->from('Farmerguide\BackendBundle\Entity\Farmerproduct', 'fp')
    ->innerJoin('fp.product', 'p')
    ->innerJoin('p.rubric', 'r2')
    ->andWhere('fp.farmer= :id')

$qb1
    ->select('r')
    ->from('Farmerguide\BackendBunle\Entity\Rubric', 'r')
    ->where($qb->expr()->in('r.id', $qb2->getDQL()))

$rubrics = $qb1
    ->setParameter('id', $farmerId)
    ->getQuery()
    ->getResult(); 
```

如果您真的不需要`QueryBuilder`这里，请考虑使用普通的 DQL：如您所见，它更简单。

# database - 基于 RDF 的异构关系数据库集成是如何工作的？

> ID：14828039
> 
> 赞同：2
> 
> 时间：2013-02-12T08:05:46.523
> 
> 标签：database, rdf, heterogeneous

我的问题是**如何集成两个基于 RDF 的异构关系数据库？**难道只是把两个关系型数据库，一一分别转成RDF语句，然后存到一张RDF表中？或者我必须在将它们保存在 RDF 数据库表中之前进行一些集成？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T19:26:42.983

您可能想查看[D2RQ](http://d2rq.org/)项目。您可以使用该中间件公开您的两个关系数据库。引用 D2RQ 页面，D2RQ 允许：

*   以 RDF 格式创建数据库的自定义转储以加载到 RDF 存储中
*   使用 SPARQL 查询非 RDF 数据库

如果您的数据库不是很大，这应该对您有用，并且如果您的数据库经常更新，这是一个好方法。如果您需要运行访问两个数据库的查询，您可以使用[SPARQL](http://en.wikipedia.org/wiki/SPARQL)查询联合。[Jena/ARQ](http://jena.apache.org/documentation/query/service.html)非常容易。

如果您的数据是静态的或不会经常更新。您可以通过转储 RDF 三元组并将它们断言到本机三元组存储（[Jena/TDB](http://jena.apache.org/documentation/tdb/index.html)、[4store](http://4store.org)、[Virtuoso](http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/VOSRDF)）来获得更好的可伸缩性。对于这些三重存储中的任何一个，您都可以使用 SPARQL 访问数据。

# java - 如何从 facelet 获得隐藏的价值？

> ID：14828041
> 
> 赞同：0
> 
> 时间：2013-02-12T08:05:53.633
> 
> 标签：java, jsf, jsf-2

我的 .xhtml 页面中有一些隐藏字段。

```
<h:inputHidden value="1" id="hidePrev"/>
.....
<h:inputHidden value="1" id="hideNext"/> 
```

而且我无法从我的 JSF bean 中获取它们的值。

```
public class FacesUtil {
public static Object getMapValue(String key) {
    return FacesContext.getCurrentInstance().getExternalContext().getApplicationMap().get(key);
}

public static void setMapValue(String key, Object value) {
    FacesContext.getCurrentInstance().getExternalContext().getApplicationMap().put(key, value);
}

} 
```

我的豆子代码：

```
 nextFlag = (String)FacesUtil.getMapValue("hideNext");
    prevFlag = (String)FacesUtil.getMapValue("hidePrev"); 
```

字段`nextFlag`和`prevFlag`仍然是空的。他们有 getter 和 setter 方法。我正在使用 JSF 2.2 版本。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T12:09:16.410

无`<h:inputHidden>`意向表单提交添加自定义请求参数。它的目的是在回发中记住已经定义的 bean 属性。要添加自定义请求参数，您应该使用`<f:param>`命令组件或“plain vanilla” `<input type="hidden">`。

因此，所以

```
<h:commandButton ...>
    <f:param name="prev" value="1" />
    <f:param name="next" value="1" />
</h:commandButton> 
```

或者

```
<input type="hidden" name="prev" value="1" />
<input type="hidden" name="next" value="1" />
<h:commandButton ... /> 
```

无论哪种方式，这些值都在请求范围的 bean 中，可用作

```
@ManagedProperty("#{param.prev}")
private String prev;

@ManagedProperty("#{param.next}")
private String next; 
```

或者在更广泛的 bean 中作为

```
String prev = externalContext.getRequestParameterMap().get("prev");
String next = externalContext.getRequestParameterMap().get("next"); 
```

请注意，您将请求参数与应用程序范围的属性混淆了。这真的是一个相当大的混淆，它证明你不知道你在做什么。我强烈建议暂停一下，再重新阅读一次基本的 JSF 教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:14:41.050

你确定的`getApplicationMap()`部分`FaceUtil`？当我触摸外部上下文时，它是从请求映射中检索值：

```
Map<String, String> pMap = FacesContext.getCurrentInstance().getExternalContext().getRequestParameterMap(); 
```

在您的情况下，`pMap`应该包含一个 key `hideNext`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:44:32.197

尝试 (String)context.getExternalContext().getRequestParameterMap().get(parameterName); 在您的情况下 parameterName 可能是 nextFlag 或 prevFlag

# java - 在 IntelliJ 中用接口替换抽象基类

> ID：14828048
> 
> 赞同：4
> 
> 时间：2013-02-12T08:06:13.727
> 
> 标签：java, intellij-idea, refactoring

我有一个抽象基类，它带有一个我想摆脱的抽象方法。我想用该方法引入一个新接口，并使所有现有的子类都实现该接口，而不是扩展基类。

从：

```
public abstract class Base {
  public abstract Foo getFoo();
}

public class Concrete extends Base {
  public Foo getFoo() {
    throw new UnsupportedOperationException();
  }
} 
```

至：

```
public interface Base {
  Foo getFoo();
}

public class Concrete implements Base {
  public Foo getFoo() {
    throw new UnsupportedOperationException();
  }
} 
```

我试图内联基类但没有成功，手动创建接口，拉成员然后删除然后为空的基类，但我似乎无法让 IntelliJ 自动完成此操作。

关于如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T13:17:39.467

我现在意识到我设法欺骗自己认为这是一个 IDEA 问题。相反，它与我试图内联的抽象类型有关，在很多泛型引用中使用，即

```
final MyMapping<Base, String>  = (...) 
```

IDEA 无法猜测我想对所有这些通用引用做什么。这些必须手动解决，除此之外，以下确实有效。我开始：

```
public abstract class AbstractSomething {
    public abstract void foo();
}

public class ConcreteSomething extends AbstractSomething {
    @Override
    public void foo() {
        throw new UnsupportedOperationException();
    }
} 
```

然后我补充说：

```
public abstract class AbstractSomething implements Something {..} 
```

并在选择添加该界面的某物上按 alt-enter。然后我重构->拉起成员并确认将抽象方法移动到Something接口，结果是：

```
public interface Something {
    void foo();
}
public abstract class AbstractSomething implements Something {
} 
```

当光标在 ConcreteSomething 中的 AbstractSomething 上闪烁时，按 ctrl+alt+n 来内联超类。AbstractSomething 已经过去了，我只剩下

```
public class ConcreteSomething implements Something {
    @Override
    public void foo() {
        throw new UnsupportedOperationException();
    }
} 
```

你只需要喜欢这个 IDE，它总是比我聪明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-09-30T12:11:41.307

在超类的名称上键入 Alt+Enter 并调用 Convert class to interface。

此快速修复由“抽象类可能是接口”检查提供，默认情况下在“不突出显示，仅修复”模式下启用。但如果您已禁用它，则需要再次启用它

# c# - 在条件下禁用c#中的按钮

> ID：14828049
> 
> 赞同：0
> 
> 时间：2013-02-12T08:06:18.050
> 
> 标签：c#, arrays, button, arraylist, listbox

所以，我有这个数组，它按一个按钮一个一个地添加元素，它用这个添加元素： `arreglo.Add(textBox1.Text.ToString());`

我只想将它可以添加到数组中的元素数量限制为 10。它最多可以有 10 个元素，不能再多了。我怎么做？

如果有帮助，这些是我认为可以提供帮助的代码的一部分：

```
ArrayList arreglo;
    public Form1()
    {
        InitializeComponent();
        arreglo = new ArrayList();
    } 
```

和

```
 private void button5_Click(object sender, EventArgs e)
    {
        //Agregar
        arreglo.Add(textBox1.Text.ToString());
        /*if (arreglo.Count > 10)
        {
            listBox1.Items.Add("No more than ten elements");
        }*/
        this.textBox1.Clear();
        this.textBox1.Focus();
    } 
```

顺便说一句，我还需要对该数组进行一些计算，但我已经涵盖了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:10:08.047

你可以简单地解决这个问题：

```
private void button5_Click(object sender, EventArgs e)
    {
        //Agregar
        arreglo.Add(textBox1.Text.ToString());
        if (arreglo.Count > 10)
        {
            button5.Enabled = false;
        }
        this.textBox1.Clear();
        this.textBox1.Focus();
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:16:07.293

这是一种更改数组容量的方法，在这种情况下，数组可以从 0 到 9（10 个元素）

```
class Program
{
    static void Main(string[] args)
    {
        ArrayList list = new ArrayList();
        for(int i = 1; i < 20; i++)
        {
            try
            {
                list.Capacity = 9;
            }
            catch (Exception)
            { button5.Enabled = false; }
            list.Add("teststring");
        }
        list = list;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:10:01.370

只需在添加数组有多少元素后检查并将`Button`enabled 属性设置为 false - 它会禁用按钮。

```
private void button5_Click(object sender, EventArgs e)
{
   arreglo.Add(textBox1.Text.ToString());
   this.textBox1.Focus();       
   this.textBox1.Clear();   

   if (arreglo.Count >= 10)
   {
       button5.Enabled = false;
   }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:18:25.427

为什么`ArrayList`？你的目的是什么？

```
 private void button10_Click(object sender, EventArgs e)
    {
        if (arreglo.Count < 10)
        {
            arreglo.Add(textBox1.Text);
            this.textBox1.Clear();
            this.textBox1.Focus();
        }
        else
            button10.Enable = false;
    } 
```

# iphone - 使用 CGContextRef 在圆形路径中绘制 16 个点

> ID：14828051
> 
> 赞同：0
> 
> 时间：2013-02-12T08:06:20.213
> 
> 标签：iphone, ios, objective-c, cgcontextref

当用户在我的视图中选择位置 x,y 并且这些点应该等距时，如何在圆形路径中添加 16 个点，

所以当用户在视图中点击一个位置时，我会用 16 个点完成圆圈，见附件。

![在此处输入图像描述](../Images/d0f17fec9931cecea75caf475d79b6f4.png)

该图像是此代码的用途：

```
CGPoint CenterPoint = CGPointMake(self.frame.size.width / 2, self.frame.size.height / 2);
CGPoint Point;
float Angel = 360/16;

for (int i = 0 ; i < 16;i++)
{
    float distance = [self distanceFrom:newPoint to:centerPoint];
    Point.x = CenterPoint.x + distance * cos(Angel);
    Point.y = CenterPoint.y + distance * sin(Angel);

    CGContextMoveToPoint(cacheContext, Point.x, Point.y);
    CGContextAddLineToPoint(cacheContext, Point.x, Point.y);
    CGContextStrokePath(cacheContext);

    Angel+= 10;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:25:11.010

检查下面的代码它可能对你帮助不大

```
int startAngle = 0;

while (startAngle < 360)
{
    CAShapeLayer *slice = [CAShapeLayer layer];
    slice.fillColor = _buttonColor.CGColor;
    slice.strokeColor = [UIColor clearColor].CGColor;
    slice.lineWidth = 3.0;

    CGFloat angle = DEGREES_TO_RADIANS(-60.0);
    CGPoint center = CGPointMake(self.frame.size.width/2.0, self.frame.size.height/2.0);
    CGFloat radius = self.frame.size.width/2.0;

    UIBezierPath *piePath = [UIBezierPath bezierPath];
    [piePath moveToPoint:center];

    //[piePath addLineToPoint:CGPointMake(center.x + radius * cosf(DEGREES_TO_RADIANS(startAngle)), center.y + radius * sinf(DEGREES_TO_RADIANS(startAngle)))];

    [piePath addArcWithCenter:center radius:radius startAngle:DEGREES_TO_RADIANS(startAngle) endAngle:DEGREES_TO_RADIANS(startAngle + 63) clockwise:YES];

    //   [piePath addLineToPoint:center];
    [piePath closePath]; // this will automatically add a straight line to the center
    slice.path = piePath.CGPath;

    startAngle += (360/15);

    [self.layer addSublayer:slice];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T10:14:26.737

`cos`and`sin`函数期望以弧度而不是度数（您提供的）为单位的角度。请尝试这种替代方法。

```
float distance = [self distanceFrom:newPoint to:centerPoint];
CGContextSaveGState(cacheContext);
CGContextTranslateCTM(cacheContext, CenterPoint.x, CenterPoint.y);

for (int i = 0 ; i < 16;i++)
{
    float angle = i * (M_2_PI / 16);
    CGPoint pt = CGPointMake(distance * cos(angle), distance * sin(angle));

    CGContextMoveToPoint(cacheContext, 0, 0);
    CGContextAddLineToPoint(cacheContext, pt.x, pt.y);
    CGContextStrokePath(cacheContext);
}
CGContextRestoreGState(cacheContext); 
```

这种方法可以转换上下文，因此原点（也称为中心点）确实是，`CenterPoint`因此您无需担心添加`CenterPoint`任何内容。由于`distance`不受循环内任何内容的影响，因此应将其移出，以免不必要地重新计算。

# android - 如何将 EditText 的更改存储在 ListView 的项目中？

> ID：14828052
> 
> 赞同：0
> 
> 时间：2013-02-12T08:06:22.217
> 
> 标签：android, listview, android-edittext, adapter, textwatcher

我有`ListView`一个自定义适配器。每行都有一个`EditText`. 每个`EditText`都有一个与该行相关的初始值，用户可以使用 更改此值`EditTexts`。

我想存储这些更改的值。`TextWatcher`我为每个都定义了，`EditText`但它不能正常工作，尤其是当我滚动或过滤数据时。

我怎样才能做到这一点？

我是否使用了合适的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:06:36.347

问题出在`TextWatcher`. 我使用以下方法解决了它 `OnKeyListener`：

```
private boolean programmaticalTextChange = false;

private KeyEvent UnknownKey = new KeyEvent(KeyEvent.ACTION_DOWN,
            KeyEvent.KEYCODE_UNKNOWN);

    public class MyTextWatcher implements TextWatcher
    {
        private EditText editText;

        public MyTextWatcher(EditText editText)
        {
            this.editText = editText;
        }

        @Override
        public void afterTextChanged(Editable s) {
            // TODO Auto-generated method stub

        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
            if (!programmaticalTextChange)
                editText.dispatchKeyEvent(UnknownKey);
        }
    }

@Override
public View getView(final int position, View convertView, ViewGroup parent) {
       //...
       myEditText.setOnKeyListener(new OnKeyListener() {

            @Override
            public boolean onKey(View v, int keyCode, KeyEvent event) {
                updateItem(item, v, rowView);
                return false;
            }
        });
        myEditText.addTextChangedListener(new MyTextWatcher(myEditText));

}

protected void updateItem(MyClass item, View v) {
        try {
            item.Qty = Double.valueOf(((EditText) v).getText()
                    .toString());
        } catch (Exception e) {

        }
    } 
```

# ruby-on-rails - 保存到 Rails 服务器上页面重定向时生成的可变参数

> ID：14828053
> 
> 赞同：0
> 
> 时间：2013-02-12T08:06:22.470
> 
> 标签：ruby-on-rails, get

我有一个由用户签名的 Echosign pdf，一旦发生这种情况，用户将被重定向到附加了 ?documentKey=3r3t33hhjijij 的 url。我不生成密钥，它仅在 pdf 签名后生成。对于每个签名的 pdf，此密钥都不相同。

我可以在控制台中观看：

```
Started GET "/webpage?documentKey=3r3t33hhjijij" for ip address ....
Processing by Controller#index as HTML
  Parameters: {'documentKey"=>3r3t33hhjijij"}... 
```

我不知道如何将其记录/获取到变量中，因为它发生在 pdf 签名之后，而不是在我调用 Echosign API 方法之后。

感谢您提前提供任何帮助。

我正在使用 Rails 3.2.8

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:36:34.157

在`index`您的控制器的操作中，您可以访问作为查询字符串传入的任何参数`params[:key]`，例如`params[:documentKey]`。

因此，以下内容将输出到控制台：

```
@docKey = params[:documentKey]
logger.info "Key: #{@docKey}" 
```

**编辑**

如果路由出现问题，请定义以下内容（让我们调用您的控制器`mypdf`和操作`echosign`）。将以下行添加到您的`config/routes.rb`.

```
match 'mypdf/echosign' => 'mypdf#echosign', :as => 'echosign' 
```

假设用户`/echosign?documentKey=ksdjfshdfjh`在您的网站上被定向到。

因此，在您的控制器中，如果定义了以下内容：

```
class MypdfController < ApplicationController
  def echosign
     logger.info "Reached echosign"
     logger.info "Document key is #{params[:documentKey]}"
     redirect_to(root_url)
  end
end 
```

那么当用户在签署 PDF 后被定向到该页面时，您应该会看到：

```
Started GET "/echosign?documentKey=ksdjfshdfjh" for 127.0.0.1 at 2013-02-14 23:27:49 -0700
  Processing by MypdfController#echosign as HTML
  Parameters: {"documentKey"=>"ksdjfshdfjh"}
Reached echosign
Document key is ksdjfshdfjh 
```

# ruby-on-rails - 在编辑期间避免重复 options_for_select

> ID：14828055
> 
> 赞同：1
> 
> 时间：2013-02-12T08:06:34.120
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2

我有一个表单，用户可以在其中编辑以前输入的数据，其中一些数据来自新表单上的选择框。在编辑表单中，再次选择这些相同的字段，以避免覆盖当前值，我将其作为选项传入。（如下）

```
<%= f.select :ldn, options_for_select([[@subcontractor.ldn], ["No"], ["Yes"]]) %> 
```

这样做的结果是选择框有三个选项，其中两个是重复的。

[![例子](../Images/a7433dcf8b46846da43202bbcdb53a61.png)](https://i.stack.imgur.com/tnFGj.png)

任何人都可以建议一个体面的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:20:32.890

见[options_for_select](http://apidock.com/rails/ActionView/Helpers/FormOptionsHelper/options_for_select)

```
<%= f.select :ldn, options_for_select(["No", "Yes"],@subcontractor.ldn)  %> 
```

# php - 在 php 中创建一个 .sql 文件

> ID：14828056
> 
> 赞同：2
> 
> 时间：2013-02-12T08:06:41.477
> 
> 标签：php, sql

我已经使用下面的代码来获取 wp-option 值。

```
function option_value_change () {
  global $wpdb;
  $myrows = $wpdb->get_results( "SELECT *
  FROM `wp_options`");
    foreach ($myrows as $rows){
      $option = get_option($rows->option_name);
            $optin_id = $rows->option_id;
            $option_name = $rows->option_name;
            $option_value = $row->option_value;
            $option_load = $row->option_autoload;
            echo $option_value;
    }
} 
```

现在我想使用上述值创建一个 .sql 文件。如何使用这些值创建 .sql 文件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T08:10:22.783

您必须手动生成创建表和插入语句。这里有一篇很好的文章，其中有一个用 PHP 编写的备份脚本。

[http://davidwalsh.name/backup-mysql-database-php](http://davidwalsh.name/backup-mysql-database-php)

# ruby-on-rails - 在新的 ruby on rails 应用程序中有一些错误

> ID：14828057
> 
> 赞同：0
> 
> 时间：2013-02-12T08:06:47.533
> 
> 标签：ruby-on-rails

当我想在 Rails 上创建一个新的 ruby​​ 应用程序时，我在终端中输入“rails new depot”，它会显示如下错误消息：

```
"An error occurred while installing multi_json (1.5.1), and Bundler cannot continue.
Make sure that `gem install multi_json -v '1.5.1'` succeeds before bundling." 
```

这是完整的输出：

```
rails new depot
  create
  create  README.rdoc
  create  Rakefile
  create  config.ru
  create  .gitignore
  create  Gemfile
  create  app
  create  app/assets/images/rails.png
  create  app/assets/javascripts/application.js
  create  app/assets/stylesheets/application.css
  create  app/controllers/application_controller.rb
  create  app/helpers/application_helper.rb
  create  app/views/layouts/application.html.erb
  create  app/mailers/.gitkeep
  create  app/models/.gitkeep
  create  config
  create  config/routes.rb
  create  config/application.rb
  create  config/environment.rb
  create  config/environments
  create  config/environments/development.rb
  create  config/environments/production.rb
  create  config/environments/test.rb
  create  config/initializers
  create  config/initializers/backtrace_silencers.rb
  create  config/initializers/inflections.rb
  create  config/initializers/mime_types.rb
  create  config/initializers/secret_token.rb
  create  config/initializers/session_store.rb
  create  config/initializers/wrap_parameters.rb
  create  config/locales
  create  config/locales/en.yml
  create  config/boot.rb
  create  config/database.yml
  create  db
  create  db/seeds.rb
  create  doc
  create  doc/README_FOR_APP
  create  lib
  create  lib/tasks
  create  lib/tasks/.gitkeep
  create  lib/assets
  create  lib/assets/.gitkeep
  create  log
  create  log/.gitkeep
  create  public
  create  public/404.html
  create  public/422.html
  create  public/500.html
  create  public/favicon.ico
  create  public/index.html
  create  public/robots.txt
  create  script
  create  script/rails
  create  test/fixtures
  create  test/fixtures/.gitkeep
  create  test/functional
  create  test/functional/.gitkeep
  create  test/integration
  create  test/integration/.gitkeep
  create  test/unit
  create  test/unit/.gitkeep
  create  test/performance/browsing_test.rb
  create  test/test_helper.rb
  create  tmp/cache
  create  tmp/cache/assets
  create  vendor/assets/javascripts
  create  vendor/assets/javascripts/.gitkeep
  create  vendor/assets/stylesheets
  create  vendor/assets/stylesheets/.gitkeep
  create  vendor/plugins
  create  vendor/plugins/.gitkeep
     run  bundle install
    Fetching gem metadata from https://rubygems.org/...........
    Fetching gem metadata from https://rubygems.org/..
    Using rake (10.0.3)
    Using i18n (0.6.1)

    Gem::RemoteFetcher::FetchError: SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello     

    A:  unknown protocol (https://s3.amazonaws.com/production.s3.rubygems.org/gems/multi_json-1.5.1.gem) 
    An error occurred while installing multi_json (1.5.1), and Bundler cannot continue.
    Make sure that `gem install multi_json -v '1.5.1'` succeeds before bundling. 
```

我该如何处理这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-15T03:33:50.120

[编辑] 经过一番研究，我意识到我的问题是没有最新的 openssl 证书。在旧的 Ruby 环境中它们很好，但在我的 RVM 2.0+ 安装中它们不是。

要更新证书，请按照此处的说明进行操作：[http ://railsapps.github.io/openssl-certificate-verify-failed.html](http://railsapps.github.io/openssl-certificate-verify-failed.html)

欲了解更多信息（警告，有很多“我也是”评论需要通过），请查看这个 RubyGems 问题：[https ://github.com/rubygems/rubygems/issues/515](https://github.com/rubygems/rubygems/issues/515)

# maven - Maven 构建后的 Jenkins 标记

> ID：14828059
> 
> 赞同：0
> 
> 时间：2013-02-12T08:06:51.270
> 
> 标签：maven, tags, jenkins, cvs, maven-release-plugin

我有一个多模块 Maven 项目。

詹金斯的工作管道在我的例子中是这样的：

1.  为变量版本注入环境变量
2.  从 cvs 签出
3.  通过 shell 编辑我的项目的 Version.properties 文件（使用注入的变量）
4.  执行 mvn release:update-version 以更新 POM 版本（使用注入的变量）
5.  项目清单
6.  执行 mvn 构建
7.  最后执行 CVS 标记（使用注入的变量）

但是现在 POM 和 Version.properties 的更改并没有在标签中更新。所以我的问题是，CVS 中标记了哪个工作区。我必须做什么才能在我的标签中包含版本更改？

* * *

感谢您的快速回复！

我在第 6 步（maven 构建）之后添加了一个 cvs 提交：

```
cvs commit -m "blabla" 
```

结果是提交了更改，但在标签中仍然存在preversion。因此，我的问题是詹金斯正在标记哪个工作区。

*   他是否使用詹金斯的工作区（我不这么认为，因为更改不存在）
*   他是否使用了 cvs 的头部（在 cvs 提交后头部包含新版本，所以我认为詹金斯也不使用头部）
*   他是否使用一些缓存的工作空间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:31:09.940

您在第 6 步和第 7 步之间缺少 CVS 提交。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T06:15:46.793

我在第 6 步（maven 构建）之后添加了一个 cvs 提交：

```
cvs commit -m "blabla" 
```

结果是提交了更改，但在标签中仍然存在preversion。因此，我的问题是詹金斯正在标记哪个工作区。

*   他是否使用詹金斯的工作区（我不这么认为，因为更改不存在）
*   他是否使用了 cvs 的头部（在 cvs 提交后头部包含新版本，所以我认为詹金斯也不使用头部）
*   他是否使用一些缓存的工作空间？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T13:05:36.430

我通过以下方式解决了这个问题：

我使用的是 Jenkins CVS Tagging Plug-in v1.7

这个插件使用`cvs rtag`应该执行 cvs 头部标记的命令。但在我的情况下，成功提交新文件后对头部的标记标记了错误的文件（就像我在上一条评论中所说的那样）

现在我正在使用构建后的 shell 命令`cvs tag`（它标记 jenkins 工作区而不是 cvs 的头部）并且它工作正常！

# facebook - 如何使用 facebook api 获取墙视频

> ID：14828067
> 
> 赞同：4
> 
> 时间：2013-02-12T08:07:19.290
> 
> 标签：facebook, facebook-graph-api

facebook 中的用户主页有来自朋友和页面的共享链接，这个链接有时有 youtube 链接我需要获取这些链接，我试图阅读

[https://graph.facebook.com/userID/](https://graph.facebook.com/userID/)**主页**?access_token=access_token

或者

[https://graph.facebook.com/userID/feed ?](https://graph.facebook.com/userID/) **access_token** =access_token

当我使用

[https://graph.facebook.com/userID/](https://graph.facebook.com/userID/)**链接**?access_token=access_token

我只有我分享的链接，而不是我的朋友或页面，而我需要我的朋友和页面视频

我的访问令牌有很多权限，例如：friends_status friends_videos photo_upload read_stream share_item status_update user_status user_videos video_upload

但我仍然无法获得共享视频

我必须做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:33:37.707

如果您需要的朋友视频及以上您的要求不起作用，那么这个查询您可以试一试

```
https://graph.facebook.com/USER_ID?fields=friends.fields(videos.fields(source,embed_html)) 
```

这将返回用户的所有朋友及其视频。如果我的问题正确，希望对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T11:43:32.973

[如本文](http://pulkitgoyal.in/2012/12/26/getting-all-photos-and-videos-from-facebook-news-feed/)所述，您可以使用它`FQL`来获取所有视频的列表。

```
SELECT actor_id, created_time, likes, post_id, attachment 
FROM stream 
WHERE filter_key IN ( 
    SELECT filter_key 
    FROM stream_filter 
    WHERE uid = me() AND (name = "Video")
) 
```

`stream_filter`包含用于过滤帖子流的过滤器。这包含几个过滤器，其中包括用户构建的列表和一些默认过滤器，例如用于照片和视频的过滤器。

# salesforce - Salesforce：System.LimitException：SOQL 查询太多：101

> ID：14828074
> 
> 赞同：1
> 
> 时间：2013-02-12T08:07:30.147
> 
> 标签：salesforce, force.com, soql

几天前一切正常，除了配置文件外，没有对系统进行任何新的更改。

突然我收到这个错误信息：

> 错误：无效数据。查看以下所有错误消息以更正您的数据。
> Apex 触发器 generateUniqueBidId 导致意外异常，请联系您的管理员： generateUniqueBidId: System.LimitException: Too many SOQL queries: 101

```
 trigger generateUniqueBidId on Bids__c (before insert) {

    Map<String, String> profilePrefixMap = new Map<String, String>();
    profilePrefixMap.put('Sales User', 'rds');
    profilePrefixMap.put('Super User', 'rds');
    profilePrefixMap.put('Standard User','SU');
    profilePrefixMap.put('System Administrator','SysAdmin');

    String defaultPrefix = ' ';
    User user = [SELECT ProfileId FROM User Where Id = :Userinfo.getUserId() LIMIT 1];
    Profile profile = [SELECT Name FROM Profile Where Id = :user.ProfileId LIMIT 1];
    List<Bids__c> recentBids = [SELECT Id, CreatedById, Bid_unique_label__c From Bids__c WHERE Bid_unique_label__c = NULL];

    /**Logics for updating old Bids with correct Bid_id. May be refactored away when all bids are updated
       Could cause problems if trigger system becomes to complicated. 
    */
    for (Bids__c bid : recentBids){
        String recentProfileName = [SELECT Profile.Name FROM User Where Id = :bid.CreatedById LIMIT 1].Profile.Name;
        String bidId = profilePrefixMap.get(recentProfileName);
        bid.Bid_unique_label__c =  ((bidId == null) ? defaultPrefix : bidId);           
    }
    upsert recentBids;

    for (Bids__c bid : trigger.new){
        String bidId = profilePrefixMap.get(String.valueOf(profile.Name));
        bid.Bid_unique_label__c = ((bidId == null) ? defaultPrefix : bidId);
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:37:23.403

您在循环中有一个 SOQL。

```
for (Bids__c bid : recentBids){
    String recentProfileName = [SELECT Profile.Name FROM User Where Id = :bid.CreatedById LIMIT 1].Profile.Name;
    String bidId = profilePrefixMap.get(recentProfileName);
    bid.Bid_unique_label__c =  ((bidId == null) ? defaultPrefix : bidId);           
}
upsert recentBids; 
```

这是一个性能杀手，事实上我很惊讶限制是 100 个查询，过去在触发器上下文中不超过 20 个查询。一个快速解决您的问题的方法是使用带有“点符号”的关系查询。这将消除在循环中进行查询的需要。

```
List<Bids__c> recentBids = [SELECT Id, CreatedBy.Profile.Name, Bid_unique_label__c 
FROM Bids__c 
WHERE Bid_unique_label__c = NULL];

for (Bids__c bid : recentBids){
    String recentProfileName = bid.CreatedBy.Profile.Name;
    String bidId = profilePrefixMap.get(recentProfileName);
    bid.Bid_unique_label__c =  ((bidId == null) ? defaultPrefix : bidId);           
}
upsert recentBids; 
```

这段代码还有一些问题。

1.  You might hit a limit of no more than 10K rows inserted/updated in single transaction (you should at least add LIMIT clause).
2.  You're mixing work on data that's in the context of the trigger with data fixes on some unrelated stuff. You shouldn't "piggyback" because users won't understand why they see an error coming from data they didn't touch.
3.  Not to mention the fact that "last modified by" is now worthless in your system.

If it's one time activity to clean up your bad data (fix unique labels) - consider running a data fix and removing this code. If it's really a recurring situation - write a batch job.

Or investigate if you can write a workflow rule to generate the unique keys, looks like it's be doable and config beats coding a solution.

# c++ - 使用 OpenCV 检测图像翻译

> ID：14828076
> 
> 赞同：0
> 
> 时间：2013-02-12T08:07:37.063
> 
> 标签：c++, opencv, image-processing, computer-vision

我需要做一个简单的任务：**有一个参考图像，计算另一个图像的像素平移，**考虑到**没有缩放**和**旋转**，只是平移：（x，y）。有了这个，这是最简单的方法吗？自相关？特征提取？我想根本不需要特征提取，因为它是一项简单的任务。

任何帮助将不胜感激，干杯，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T14:38:00.327

最后我找到了一个可以实现我的目标的解决方案：

```
// Prepare required variables
cv::Point point;
cv::Mat correlation;
double max_val;

// Compute the template matching
cv::matchTemplate(image_crop, ref_crop, correlation, cv::TM_CCORR_NORMED);

// Find the position of the max point
cv::minMaxLoc(correlation, NULL, &max_val, NULL, &point); 
```

其中点变量包含平移坐标 x 和 y。

# javascript - 将值从一个页面传输到另一个页面主干 Js

> ID：14828080
> 
> 赞同：0
> 
> 时间：2013-02-12T08:07:42.610
> 
> 标签：javascript, backbone.js, global-variables

我想将值表单弹出视图传递给父视图如何使用 Backbone JS

我完成了这样的代码

用于弹出视图

```
loadPopupGeoBox: function () {         
  var newUserlist = new TripsdetailsModel(); 
  selectModel = newUserlist;
  var that = this;

  require(['views/searchlocationek'], function (view) {
    var view = new view({ model: selectModel}); 
    view.open();
    that.addview = view;
  });

  $('#popup_geocode').fadeIn("slow");
  $("#container").css({ 
    "opacity": "0.3"
  });
}, 
```

从弹出页面提交按钮我们完成了以下代码

```
clickClose: function() {
  require(['views/trip'], function (view) {  
    var view1 = new view();
    view1.openfilter(final); 
  }); 

  $('#popup_geocode').fadeOut("slow");
  $("#container").css({ // this is just for style       
    "opacity": "1"
  });
}, 
```

如何在父视图中获取“最终”的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T04:58:37.873

我不确定最佳实践，但一种方法是将`this`引用从父视图传递到`popup`页面：

```
loadPopupGeoBox: function () {         

  // existing code

  var $this = this;

  require(['views/searchlocationek'], function (view) {
    var view = new view({ 
      model: selectModel,
      parent_view: $this
    });   
  });

  // existing code

}, 
```

在`popup`视图中：

```
clickClose: function() {
  // storing this reference to be used in the require call back
  var $this = this;
  require(['views/trip'], function (view) {  
    // existing code

    // set the value of the final variable on the parent_view with
    $this.options.parent_view["final_var"] = final;

  }); 

  // existing code
}, 
```

并且在`clickClose`执行之后， 的值`final`将在`parent`视图中可用`this["final_var"]`.

# ms-access - 更新时具有总和控制源的 MS Access 表单字段

> ID：14828081
> 
> 赞同：3
> 
> 时间：2013-02-12T08:07:42.993
> 
> 标签：ms-access

我在 MS Access 中有一个表单，它有 3 个输入字段（[Day1]、[Day2] 和 [Day3]）和一个字段（[Total]），它显示这三个字段的总数，使用 ControlSource=[Day1 ]+[第 2 天]+[第 3 天]。

现在，我想根据 [Total] 的变化更新另一个字段。换言之，[Total] 字段的“on change”。

我尝试使用 Change 事件和 AfterUpdate 事件，但是当更改通过 ControlSource 时，它​​们都不会触发。

当然，我可以通过执行每个单独字段的 AfterUpdate 代码来更新字段，但这感觉不太优雅。

是否有任何事件触发我可以用于此目的的“通过控制源进行更改”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:24:10.653

据我所知，当计算控件（如您的 Total 控件）更改其计算值时，无法触发事件。我发现过去有两种方法对我有用：

#1：照你说的做，将“其他”字段的更新与 Day1、Day2 和 Day3 控件的 AfterUpdate 事件联系起来。

#2：将“其他”字段的更新与表单本身的 AfterUpdate 方法联系起来。提交记录更改后（例如，在重新查询或更改记录后），您将拥有可用于更新的持久数据。

# android - 创建按钮列表并将它们添加到布局

> ID：14828089
> 
> 赞同：0
> 
> 时间：2013-02-12T08:08:24.540
> 
> 标签：android, android-layout

我有两种方法：

```
public View addNewLinearLayout(Context context) {
    LinearLayout linearLayout = new LinearLayout(context);
    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
    params.height = 120;
    linearLayout.setLayoutParams(params);
    linearLayout.setBackgroundColor(Color.RED);
    linearLayout.setGravity(Gravity.TOP);
    linearLayout.addView(buttonsGenerator(context));
    return linearLayout;
}
public View buttonsGenerator(Context context){
    ListView lst;
    lst = new ListView(context);

    Button button = new Button(context);

    return lst;
} 
```

在 addNewLinearLayout 中，我添加了要查看的布局。在buttonsGenerator 中，我想将一些按钮添加到列表中，并在我的布局中从addNewLinearLayout 中添加带有按钮的列表。我如何创建按钮列表并使用方法buttonGenerator将它们添加到线性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:14:52.290

例如：

```
public View addNewLinearLayout(Context context) {
    LinearLayout linearLayout = new LinearLayout(context);
    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
    params.height = 120;
    linearLayout.setLayoutParams(params);
    linearLayout.setBackgroundColor(Color.RED);
    linearLayout.setGravity(Gravity.TOP);

    List<View> components = getButtons(context);
    for(View component : components) {
       linearLayout.addView(component);
    }

    return linearLayout;
}

public List<View> getButtons(context) {
    List<View> buttons = new ArrayList<View>();
    for(int i = 0; i < 10; i++) {
       buttons.add(createButton(context));
    }
    return buttons;
}

public View createButton(Context context){
    ListView lst;
    lst = new ListView(context);

    Button button = new Button(context);

    return lst;
} 
```

但最好使用列表视图而不是这个。

# xml - 在 apache pig 中为用户定义的属性解析 xml

> ID：14828094
> 
> 赞同：1
> 
> 时间：2013-02-12T08:08:32.040
> 
> 标签：xml, xml-parsing, apache-pig

我需要解析 xml 并根据用户为 pig 脚本指定的参数生成列。

例如，考虑以下 xml

```
<school>
    <students>
        <student>
            <name>test</test>
            <rno>1</rno>
            <rank>3</rank>
        </student>
        <student>
            <name>xyz</test>
            <rno>3</rno>
            <rank>2</rank>
        </student>
    <students>
</school> 
```

我的要求是解析xml并根据用户指定的字段名称生成属性。例如，如果用户将字段名称指定为 'name|rno' ，则解析器应解析 xml 并返回包含名称和 rno 的元组。

我正在使用 XML Loader 将 xml 解析为学生，然后编写了一个 java UDF 来解析学生 xml。我试图在我的 java UDF 类中定义一个参数化构造函数，其中我传递要解析的列/属性。然后我覆盖了 outputSchema(Schema input) 方法，在该方法中我获取列名并添加新的字段模式。

然而，这并不像预期的那样工作。有没有办法做到这一点？

# nhibernate - Fluent NHibernate - 是否可以将属性映射到 Sql Server 中的持久计算列

> ID：14828100
> 
> 赞同：3
> 
> 时间：2013-02-12T08:08:51.223
> 
> 标签：nhibernate, fluent-nhibernate, fluent-nhibernate-mapping, calculated-columns, database-indexes

我想使用 Fluent NHibernate 将只读属性映射到 Sql Server 中的计算列。该属性是另一个的子字符串。我这样做是为了使子字符串可索引并具有更好的搜索性能。但是当我在映射中使用公式函数时，该属性不会映射到数据库中的计算列，而是在使用查询时计算。

```
Class Person{
   public virtual string name {get; set;}
   public virtual string subName {get; set;}
}

Class PersonMap : ClassMap<Person>{
   Map(p => p.name);
   Map(p => p.subName).Generated.Always().Formula("substring(name, 0, 5)");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T12:43:15.497

您需要在代码中复制该功能 - 如果您更改 name 属性，NHibernate 默认不会向数据库发送新查询来评估生成的属性。

您需要执行以下操作：

```
 public virtual string subName { get { return name.Substring(0, 5); } set { } } 
```

请注意，您将需要空设置器，否则 NHibernate 会抱怨

编辑：我看到您想要索引数据库中的列，因此您需要为数据库中的该表创建一个计算列。这本身与 NHibernate 无关，您可以在映射中完全忽略该列（只要您在代码中复制它），或者删除 .Formula(..) 部分（因为这是在计算列中指定的已经）

# c#-4.0 - 直接编辑 Google Drive 文档

> ID：14828106
> 
> 赞同：0
> 
> 时间：2013-02-12T08:09:01.903
> 
> 标签：c#-4.0, asp.net-mvc-4, cloud, google-drive-api

我想知道是否可以执行以下操作：我目前有一个网页，其中列出了我可以访问的所有 google 驱动器文件，其中一些是标准的 microsoft office 文件（.docx、.xlsx）。

我想做的是当我单击其中一个链接时，而不是先下载然后打开，而是直接在文件类型的标准编辑器中打开它...所以当我单击 docx 文件时，它应该在 Microsoft word 中打开，或者当我单击 xlsx 文件时，它应该在 Microsoft excel 中打开......所以我可以编辑文档，当我点击保存时，它会将我的更新直接保存在 google drive 文档中。它可能并不总是 microsoft office，...如果我使用 mac 登录该站点，那么当我单击链接时，我希望它会在 openoffice 中打开...

这甚至可能吗？（如果没有，我可以使用其他提供者来执行此操作。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T14:57:50.890

Box 可以直接从他们的网页编辑文件（甚至可以锁定其他用户的更新）。

当您保存它时，它会直接保存到 Box 云中，而不必弄乱本地文件夹。非常好。

IMO，这对 Google Drive 来说是一个巨大的失误。我明白了 - 他们希望您将您的办公室文档转换为他们的格式，但在 Corp. America 中，这行不通。

当然谷歌会说获取谷歌同步，然后你可以从本地同步文件夹中双击并编辑/保存。好的，但是如果您已经将云下载到您的笔记本电脑上，那还有什么意义呢？离线，但如果其他人在您离线时更新文档，这是有风险的。

# php - 显示 $_post 出错的结果，显示为空

> ID：14828118
> 
> 赞同：0
> 
> 时间：2013-02-12T08:10:05.860
> 
> 标签：php, mysql

我得到了用于获取类别名称并显示此类别中的项目的代码：

```
<?php 
// This block grabs the whole list for viewing
$cat_list="";
$cat=$_POST['cat'];
$cat_sql="SELECT * FROM products,prod_cat,categories WHERE categories.id=prod_cat.cat_id AND products.id=prod_cat.prod_id AND categories.id=$cat";
$cat_query=mysql_query($cat_sql) or die(mysql_error());
$results=mysql_fetch_assoc($cat_query);
$cat_list= "$results[cat_name]";
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>show</title>

</head>
<?php echo $cat_list; ?>

</html> 
```

它给了我这个错误：

> 注意：未定义的索引：第 12 行 show.php 中的 cat
> 
> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 '' 附近使用正确的语法

我需要的只是显示变量`cat_name`中的类别，如.`$cat``show.php?cat=6`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:14:41.790

`$_GET`并且`$_POST`不一样。在这种情况下，您正在尝试访问**cat** in `show.php?cat=6`，因此您应该使用`$_GET['cat']`.

一般来说：

*   $_GET 从查询字符串或您的 URL 中检索变量。
*   $_POST 从 POST 方法中检索变量，例如表单。

PHP.net 手册：
**$_GET** - [http://php.net/manual/en/reserved.variables.get.php](http://php.net/manual/en/reserved.variables.get.php)
`An associative array of variables passed to the current script via the URL parameters.`

**$_POST** - [http://php.net/manual/en/reserved.variables.post.php](http://php.net/manual/en/reserved.variables.post.php)
`An associative array of variables passed to the current script via the HTTP POST method.`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:19:01.897

首先使用 $_GET 或 $_REQUST 而不是 $_POST。并确保您保护您的输入。试试这个功能：

```
function protect($string){
    $string = urldecode($string); // url decode to make things like %20 into whitespace
    $string = trim(strip_tags($string)); //remove whitespaces
    $string = preg_replace("/'/", "", $string); //remove single quotes
    return $string;
} 
```

并像这样使用它

```
$cat = protect($_REQUEST['cat']); 
```

最后，我认为这里有一个语法。这条线在这里

```
$cat_list= "$results[cat_name]"; 
```

应该

```
$cat_list= $results['cat_name']; 
```

它正在寻找一个名为 cat_name 的常量。数组的键总是字符串。希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:13:09.000

这样做，

```
$cat = "";
if(isset($_GET['cat'])) {
    $cat=$_GET['cat'];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:13:50.347

1.  您没有获得 $cat 值，请将其更改为`$_GET`;

2.  为确保您的查询在未来不会像那样中断，`'`也向 ids 发送广告：

```
选择
    *
从
    产品
    ,prod_cat
    , 类别
在哪里
    categories.id=prod_cat.cat_id
    AND products.id=prod_cat.prod_id
    AND categories.id='$cat'
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-12T08:14:09.800

```
show.php?cat=6 
```

在您的网址中表示您正在使用`GET`变量。利用

```
$_GET['cat'] 
```

此外：

1.  请做一些关于安全的事情。人们可以将他们想要的任何东西放入该 GET 变量中，这样他们就可以将他们想要的东西添加到您的 SQL 中！！这是不好的！
2.  请阅读`mysql*`函数的 PHP 手册页上的通知：它们已被弃用，不应使用。使用 PDO 或 MySQLi

# sql-server - 为什么使用声明的变量作为参数调用 UDF 比使用硬编码参数调用要快得多

> ID：14828121
> 
> 赞同：3
> 
> 时间：2013-02-12T08:10:15.780
> 
> 标签：sql-server, performance, tsql, user-defined-functions

在我看来，我遇到了以下非常奇怪的问题。当我通过以下方式调用**UDF时：**

```
DECLARE @contact_id uniqueidentifier
DECLARE @group_id uniqueidentifier
SET @group_id = 'EE57E2AD-204B-4078-AFA4-11FA8375C2FD'
set @contact_id = 'E6EFCC9F-9D1C-4C38-A950-C45372F2A6D2'

SELECT COUNT( ID )  AS [CountAll] 
FROM [Document] As [Document] 
WHERE ([Document].[ID] IN (SELECT ID FROM [fs_Document_View_ee57e2ad_204b_4078_afa4_11fa8375c2fd](@contact_id, @group_id))) 
```

它运行了 4 秒，我得到以下执行计划： [快速](http://dox.bg/files/dw?a=28e812712e)

当我使用硬编码参数调用**UDF时：**

```
SELECT COUNT( ID )  AS [CountAll] 
FROM [Document] As [Document] 
WHERE ([Document].[ID] IN (SELECT ID FROM [fs_Document_View_ee57e2ad_204b_4078_afa4_11fa8375c2fd]('E6EFCC9F-9D1C-4C38-A950-C45372F2A6D2', 'EE57E2AD-204B-4078-AFA4-11FA8375C2FD'))) 
```

我得到了这个执行计划：[慢](http://dox.bg/files/dw?a=3c0013a7b6)，需要 91 秒。

谁能解释我为什么会这样？

该函数调用 4 个其他嵌套函数，向它们传递相同的参数。它与项目查看权限有关。

我在这里先向您的帮助表示感谢。

**更新**

我使用了 Ivan G. 提到的[这篇文章中的选项 2。](http://www.simple-talk.com/sql/t-sql-programming/parameter-sniffing/)

问题是参数嗅探，选项 2 解决了这个问题。

> 解决参数嗅探问题的另一种方法是完全禁用参数嗅探。这不是通过开关或数据库选项来完成的，但可以在存储过程代码的脚本中完成。这是我如何创建 > 存储过程以禁用参数嗅探的示例：

```
DROP PROC [dbo].[DisplayBillingInfo]
GO
CREATE PROC [dbo].[DisplayBillingInfo]
  @BeginDate DATETIME,
  @EndDate DATETIME
WITH RECOMPILE
AS
DECLARE @StartDate DATETIME;
DECLARE @StopDate DATETIME;
SET @StartDate = @BeginDate;
SET @StopDate = @EndDate;
SELECT BillingDate, BillingAmt
  FROM BillingInfo
  WHERE BillingDate between @StartDate AND @StopDate; 
```

> 要禁用参数嗅探，我所做的只是更改在存储过程中使用参数值的方式。通过在我的过程中创建两个不同的局部变量（@StartDate 和@EndDate），将这些变量设置为传递的参数，然后在 BETWEEN 条件中使用局部变量，我能够禁用参数嗅探。参数嗅探被禁用，因为优化器无法识别实际 SELECT 语句中的参数值。因为 SQL Server 无法判断在哪里调用存储过程的参数值，所以优化器会根据统计信息创建一个通用计划。
> 
> 当我使用上面的代码执行我的存储过程时，使用一个狭窄的日期范围或一年的日期，编译的执行计划总是执行“索引扫描”操作。我可以告诉参数嗅探已关闭，因为我知道较短的日期范围通常会创建索引查找操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:15:44.220

我相信这是由于参数化。您的查询的第一个版本是参数化的，而第二个不是。“*参数化的查询需要较少的重新编译，而动态构建的查询需要非常频繁地编译和重新编译*”（[来源](http://blog.sqlauthority.com/2007/10/25/sql-server-2005-forced-parameterization-and-simple-parameterization-t-sql-and-ssms/)）

对于使用参数构建的查询版本，会创建执行计划然后重用：“*如果 SQL 查询有参数，SQL Server 会通过称为“参数嗅探”的过程为它们创建一个定制的执行计划以提高性能。这个计划被存储并重用，因为它通常是最好的执行计划*”（[来源](http://www.simple-talk.com/sql/t-sql-programming/parameter-sniffing/)）。

# java - 如何在 Java 中调试无法解释的线程中断

> ID：14828123
> 
> 赞同：0
> 
> 时间：2013-02-12T08:10:20.150
> 
> 标签：java, multithreading, jenkins, hudson, interrupted-exception

我`InterruptedException`从 Jenkins 那里得到一个堆栈跟踪的相关部分：

```
java.lang.InterruptedException
    at java.lang.Object.wait(Native Method)
    at hudson.remoting.Request.call(Request.java:127)
    at hudson.remoting.Channel.call(Channel.java:646)
    at hudson.remoting.RemoteInvocationHandler.invoke(RemoteInvocationHandler.java:158)
    at $Proxy33.join(Unknown Source)
    at hudson.Launcher$RemoteLauncher$ProcImpl.join(Launcher.java:861) 
```

这种中断是出乎意料的，迄今为止无法解释。实际上，我无法在调试器下实现这一点，它只发生在生产使用的 CI 中，而且很少发生，远低于 1% 的 Jenkins 作业执行。到目前为止，梳理各种日志并没有产生任何有用的原因提示。远程 Jenkins 节点当时似乎没有断开连接。

问题：如何找出 InterruptedException 的原因，或任何其他可能有用的，具有上述约束？

也欢迎任何其他用于追踪此类异常原因的想法！[也许是 Jenkins/Hudson 特定的东西，这个早先的问题](https://stackoverflow.com/questions/2476002/who-interrupts-my-thread)没有涵盖（这个问题的答案在这里并没有真正的帮助）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:48:14.263

InterruptedException 看起来很正常。检查 Jenkins 源代码，我发现它得到了处理（它们关闭了 catch 块中的资源），然后重新抛出。开箱即用，我不明白他们为什么这样做（首先等待）。

在等待之前查看评论：

```
// I don't know exactly when this can happen, as pendingCalls are cleaned up by Channel,
// but in production I've observed that in rare occasion it can block forever, even after a channel
// is gone. So be defensive against that.
wait(30*1000); 
```

我会说有人添加了等待来克服“罕见的永远阻塞的情况”，同时引入了等待中断而导致的死亡。

你最好的办法是检查 Jenkins 问题跟踪器并提交一份报告，说明你的工作失败了，因为等待时不时地被打断，它会取消远程调用。我认为如果他们想花这么多时间等待，他们应该回到等待，或者继续但此时不失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-04T05:35:06.233

不幸的是，它并没有得到很好的强调，但是等待条件的最好方法是编写如下代码：

> 而（条件<>真）{
> 
> ```
> try {
>   wait(1000L);
>   //do something
> } 
> catch (InterrruptedException e) {
> } 
> ```
> 
> }

您必须注意虚假中断，并围绕这些进行编码。

# android - runOnUiThread 无法始终如一地工作

> ID：14828126
> 
> 赞同：0
> 
> 时间：2013-02-12T08:10:30.420
> 
> 标签：android, android-layout, viewflipper

我正在使用`Thread`以更新 UI。
我有一个基本的注册表，在输入地址时要求输入*州*和*国家。*我在具有摘要的最终屏幕上显示这两个值。

现在，有一个`Edit`按钮可以编辑我想要在各个字段中检索*州*和*国家/地区*值的信息，因此我使用以下方法。

但它的工作不一致，即有时两者都被填充，有时其中之一，有时没有。

请注意我`ViewFlipper`在我的应用程序中使用（我不知道它是否有任何关系）。

我从一天开始就在敲我的头，但没有找到任何解决方案/建议。

任何帮助表示赞赏。

```
Thread thread = new Thread() {
                    public void run() {
                        while (true) {
                            runOnUiThread(new Runnable() {
                                @Override
                                public void run() {
                                    setState.setText(dispState.getText());
                                    setCountry.setText(dispCoun.getText());
                                }
                            });
                            constants.threadCount =0;
                            try {
                                if (constants.threadCount == 0)
                                    Thread.sleep(500);
                                    constants.threadCount = 1;
                                } else {
                                    break;
                                }
                            } catch (InterruptedException e) {
                                e.printStackTrace();
                            }
                        }
                    }
                };
                thread.start(); 
```

## 编辑

```
edit.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
// DO SOMETHING
// Starting Thread
vf.setDisplayedChild(9);
}
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T12:07:19.787

以下为我工作：

```
constants.threadCount = 0;
                final Handler handler=new Handler();
                final Runnable r = new Runnable()
                {
                    public void run() 
                    {
                        if (constants.threadCount <4) {
                            setState.setText(dispState.getText());
                            setCountry.setText(dispCoun.getText());

                        handler.postDelayed(this, 1000);
                        constants.threadCount++;
                        }
                    }
                };

                Thread threadnew = new Thread()
                {
                    @Override
                    public void run() {
                        try {
                            if (constants.threadCount <4) {
                                sleep(1000);
                                handler.post(r);
                                constants.threadCount++;
                            }
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
                };

                threadnew.start(); 
```

# google-maps-api-3 - Google Map API 3：重命名 MapTypId

> ID：14828128
> 
> 赞同：2
> 
> 时间：2013-02-12T08:10:32.083
> 
> 标签：google-maps-api-3, map, controls, panel

在我的地图控制面板中，我想将 MapTypId 'Hybrid' 标记为更具体的设置，例如'Orthophoto'。我找不到任何选项来执行此操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-23T19:15:03.687

有一种方法可以更改地图名称。看下面的例子。

```
var map = new google.maps.Map(document.getElementById('map'), {
 zoom : 15,
 center : new google.maps.LatLng(43.439,39.914),
 mapTypeControlOptions : {
  mapTypeIds : ['hybrid']
 }
});
google.maps.event.addListenerOnce(map, 'idle', function() {
 this.mapTypes.hybrid.name = 'Orthophoto';
 this.setOptions({mapTypeControl:{}});
}); 
```

我用来重建/重绘mapTypeControl的最后一个字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T22:47:07.567

没有实现更改标签的选项，但您可以创建自定义 mapType（例如 styledMapType ）并`HYBRID`在选择自定义 mapType 时应用 -mapType。

演示：http: [**//jsfiddle.net/doktormolle/BGQxj/**](http://jsfiddle.net/doktormolle/BGQxj/)

# java - Hadoop 中的 Mappers 和 Reducers 必须是静态类吗？

> ID：14828131
> 
> 赞同：5
> 
> 时间：2013-02-12T08:10:45.150
> 
> 标签：java, hadoop, mapreduce

我试图在 Hadoop 中做一些简单的事情，发现在编写映射器和化简器时，到处都被定义为静态的。我的任务将被分解为几个`map`部分和一个最终部分`reduce`。如果我想在其他工作中重用我的一个映射器怎么办？如果我将映射器类定义为内部类，`static`我可以在其他工作中使用它吗？同样重要的问题可能需要更多更复杂的映射器，因此在维护时将它们全部放在一个巨大的文件中会变得很糟糕。

有没有办法让映射器和减速器作为常规类（甚至可能在单独的 jar 中）而不是作业本身？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-12T08:19:43.130

您的问题是类必须是静态的、可能是静态的、可能是内部的还是应该是内部的？

Hadoop 本身需要能够实例化您的`Mapper`或`Reducer`通过反射，给定在您的`Job`. 如果它是一个非静态内部类，这将失败，因为只能在您的其他一些类的上下文中创建实例，而这些类可能 Hadoop 一无所知。（除非内部类扩展了它的封闭类，我想。）

所以回答第一个问题：它不应该是非静态的，因为这几乎肯定会使其无法使用。回答第二个和第三个：它可以是一个静态（内部）类。

对我来说，`Mapper`or`Reducer`显然是一个顶级概念，应该得到顶级课程。有些人喜欢使它们成为内部静态以将它们与“Runner”类配对。我不喜欢这个，因为它确实是子包的用途。您注意到另一个避免这种情况的设计原因。对于第四个问题：不，我认为内部类不是好的做法。

最后一个问题：是的`Mapper`和`Reducer`类可以在一个单独的 JAR 文件中。您告诉 Hadoop 哪些 JAR 文件包含所有这些代码，这就是它将发送给工作人员的那个。工人不需要你的`Job`. 然而，他们需要在他们的同一个 JAR 中依赖的任何`Mapper`东西`Reducer`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-30T14:20:18.830

我觉得上面的答案非常准确，并且确实满足了基本原理。除了，我觉得在创建 map 和 reduce 时应该利用内部类。IMO，所有代码都应该在一个地方。

并且可以在单个类中谨慎地使用泛型，确保没有类型转换错误。

# html - 在编写文本的 Css 属性时没有得到预期的输出

> ID：14828142
> 
> 赞同：1
> 
> 时间：2013-02-12T08:11:55.973
> 
> 标签：html, css, css-transitions

我希望我的文本显示属性包含 Open Sans、Regular、Crisp。我准备的课程如下。

```
.sms {
    font:"Open Sans" "Regular";
    font-weight:bold;
    font-size:16pt;
    color:#04323b;
    letter-spacing:1px;
    font-smooth: Crisp;

} 
```

但不准确。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T08:20:16.010

请记住，速记字体属性应包含多个值： [https ://developer.mozilla.org/en-US/docs/CSS/Shorthand_properties#Font_Properties](https://developer.mozilla.org/en-US/docs/CSS/Shorthand_properties#Font_Properties)

这是一个正确的 CSS 声明：

```
字体：粗体 16pt 'Open Sans'；
```

此外，[W3C 草案](http://www.w3.org/TR/WD-font/#font-smooth)`font-smooth`中存在一个属性，但目前没有浏览器支持。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T08:17:23.107

用这个，其余都是正确的

```
font-family: "Open Sans";
font-weight: normal; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-12T08:30:50.000

尝试这个..

```
font-family:"Open Sans";
font-weight:normal;
font-size:16pt;
color:#04323b;
letter-spacing:1px;
font-smooth: always; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-12T08:22:33.110

尝试这个 ：

```
.sms {
    font-family:"Open Sans", "Regular";
    font-weight:bold;
    font-size:16pt;
    color:#04323b;
    letter-spacing:1px;

    /* font smooth */
    -webkit-font-smoothing: antialiased;
    text-shadow: 1px 1px 1px rgba(0,0,0,0.004);    
} 
```

更多细节：[如何使用 CSS3 正确平滑字体](http://www.icondeposit.com/blog%3ahow-to-properly-smooth-font-using-css3)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-12T08:20:42.147

据我所知，问题出在这一行：

```
font:"Open Sans" "Regular"; 
```

它不是有效的字体定义。[在这里](https://developer.mozilla.org/en-US/docs/CSS/font)，您可以找到有关如何使用字体快捷方式的一些详细信息。尝试将其替换为：

```
font-family:"Open Sans","Regular"; 
```

另外，不确定这里有什么规律。我对css中字体的这种属性一无所知。通常是正常的（比如字体粗细），所以我认为它也是字体系列。

其他一切看起来都很好

# inno-setup - Inno Setup - 如何编辑“关于设置”对话框文本框

> ID：14828144
> 
> 赞同：4
> 
> 时间：2013-02-12T08:12:08.807
> 
> 标签：inno-setup, pascalscript

我需要编辑或替换`About Setup`Inno Setup 对话框文本中的文本。

这是一张图片：

![在此处输入图像描述](../Images/71ec8068993e536f8c2e546cc4f2ab26.png)

在互联网上我得到了这个代码：

```
[Files]
Source: CallbackCtrl.dll; Flags: dontcopy

[Code]
type
  TWFProc = function(h:hWnd;Msg,wParam,lParam:Longint):Longint;

function CallWindowProc(lpPrevWndFunc: Longint; hWnd: HWND; Msg: UINT; wParam: Longint; lParam: Longint): Longint; external 'CallWindowProcA@user32.dll stdcall';
function SetWindowLong(Wnd: HWnd; Index: Integer; NewLong: Longint): Longint; external 'SetWindowLongA@user32.dll stdcall';
function WrapWFProc(Callback: TWFProc; ParamCount: Integer): Longword; external 'wrapcallbackaddr@files:CallbackCtrl.dll stdcall';

var
  OldProc:Longint;

procedure AboutSetupClick;
begin
  //Edit your text here
  MsgBox('CUSTOM TEXT HERE', mbInformation, MB_OK);
end;

function WFWndProc(h:HWND;Msg,wParam,lParam:Longint):Longint;
begin
  if (Msg=$112) and (wParam=9999) then begin
    Result:=0;
    AboutSetupClick;
  end else begin
    if Msg=$2 then SetWindowLong(WizardForm.Handle,-4,OldProc);
    Result:=CallWindowProc(OldProc,h,Msg,wParam,lParam);
  end;
end;

procedure InitializeWizard;
begin
  OldProc:=SetWindowLong(WizardForm.Handle,-4,WrapWFProc(@WFWndProc,4));
end; 
```

似乎工作正常。。

![在此处输入图像描述](../Images/4503ec6f9e5ba0f08cddd03ac30bbde8.png)

但是如果我关闭安装程序，我会收到崩溃消息。

![在此处输入图像描述](../Images/b9730d5977b8ff05d2d74bd802971d20.png)

请我需要帮助来修复此代码或提供更好的示例来更改“关于设置”对话框文本框中的文本。

我使用的DLL。 [这里](http://www.mediafire.com/?ahsufiayt7fp8p2)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T14:21:35.497

在退出设置应用程序之前，您需要将保存的原始 Windows 程序返回到向导窗体。为此，请使用以下内容：

```
const
  GWL_WNDPROC = -4;

procedure DeinitializeSetup;
begin
  SetWindowLong(WizardForm.Handle, GWL_WNDPROC, OldProc);
end; 
```

无论如何，您可以使用更可靠的库来包装回调，即[`InnoCallback`](http://www.sherlocksoftware.org/page.php?id=55)库。我已经审查了您使用的代码并添加了对 Unicode InnoSetup 版本的支持，期望使用该`InnoCallback`库：

```
[Files]
Source: "InnoCallback.dll"; DestDir: "{tmp}"; Flags: dontcopy

[Code]
#ifdef UNICODE
  #define AW "W"
#else
  #define AW "A"
#endif
const
  GWL_WNDPROC = -4;
  SC_ABOUTBOX = 9999;
  WM_SYSCOMMAND = $0112;

type
  WPARAM = UINT_PTR;
  LPARAM = LongInt;
  LRESULT = LongInt;
  TWindowProc = function(hwnd: HWND; uMsg: UINT; wParam: WPARAM; 
    lParam: LPARAM): LRESULT;

function CallWindowProc(lpPrevWndFunc: LongInt; hWnd: HWND; Msg: UINT; 
  wParam: WPARAM; lParam: LPARAM): LRESULT;
  external 'CallWindowProc{#AW}@user32.dll stdcall';  
function SetWindowLong(hWnd: HWND; nIndex: Integer; 
  dwNewLong: LongInt): LongInt;
  external 'SetWindowLong{#AW}@user32.dll stdcall';    
function WrapWindowProc(Callback: TWindowProc; ParamCount: Integer): LongWord;
  external 'wrapcallback@files:InnoCallback.dll stdcall'; 

var
  OldWndProc: LongInt;

procedure ShowAboutBox;
begin
  MsgBox('Hello, I''m your about box!', mbInformation, MB_OK);
end;

function WndProc(hwnd: HWND; uMsg: UINT; wParam: WPARAM; 
  lParam: LPARAM): LRESULT;
begin
  if (uMsg = WM_SYSCOMMAND) and (wParam = SC_ABOUTBOX) then
  begin
    Result := 0;
    ShowAboutBox;
  end
  else
    Result := CallWindowProc(OldWndProc, hwnd, uMsg, wParam, lParam);
end;

procedure InitializeWizard;
begin
  OldWndProc := SetWindowLong(WizardForm.Handle, GWL_WNDPROC, 
    WrapWindowProc(@WndProc, 4));
end;

procedure DeinitializeSetup;
begin
  SetWindowLong(WizardForm.Handle, GWL_WNDPROC, OldWndProc);
end; 
```

# vba - 如何使用vba在excel2010中将保存类型从excel工作簿更改为excel 97-2003？

> ID：14828146
> 
> 赞同：0
> 
> 时间：2013-02-12T08:12:11.223
> 
> 标签：vba, excel, save, excel-2010

由于`activewoorkbook.close true`我的宏打开 saveFileDialog 但它默认选择其保存类型为“Excel Workbook”。我需要将其更改为“excel 97-2003 工作簿”。即使我在 excel 保存选项中更改了我的默认格式。但它仅在我手动保存文件时才有效。谁能给我一些建议？

Sub OpenAllWorkbooksnew() Set destWB = ActiveWorkbook Dim DestCell As Range

```
 Dim cwb As Workbook
    For Each cwb In Workbooks

        **Call donemovementReport**
        ActiveWorkbook.Close True
        ActiveWorkbook.Close False
    Next cwb
End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T09:29:28.600

您可以调用 SaveAs 方法（使用 DisplayAlerts = False）而不是 Close。首先更改目标目录并在 SaveAs 中指定文件格式。这对你有帮助吗？

```
Dim targetDirectory As String
targetDirectory = "c:\temp\VBA\test\"
ChDir targetDirectory

Application.DisplayAlerts = False
Workbooks(ActiveWorkbook.Name).SaveAs ActiveWorkbook.Name, xlExcel8
Application.DisplayAlerts = True

ActiveWorkbook.Close False 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T11:57:16.743

好吧，我不知道我是否理解。您可以首先显示文件对话框，从中获取文件名及其路径，然后调用 save-as 方法。

```
Sub test2()

    Dim targetDirectory As String
    targetDirectory = "c:\temp\VBA\test\"
    ChDir targetDirectory

    Dim excelFileName As Variant
    excelFileName = Application.GetSaveAsFilename(FileFilter:="Excel Files,*.xls,All Files,*.*", Title:="Save As File Name")
    If excelFileName = False Then Exit Sub
    If LCase$(Right$(excelFileName, 4)) <> ".xls" Then
      excelFileName = excelFileName & ".xls"
    End If

    Application.DisplayAlerts = False
    ActiveWorkbook.SaveAs fileName:=excelFileName, FileFormat:=xlExcel8
    Application.DisplayAlerts = True

    ActiveWorkbook.Close False

End Sub 
```

或者这样你就可以只显示另存为对话框：

```
Application.Dialogs(xlDialogSaveAs).Show "c:\temp\VBA\test\test.xls" 
```

# ruby - 每次在 ruby 中调用数组的方法时，添加数组的最后两个值

> ID：14828148
> 
> 赞同：0
> 
> 时间：2013-02-12T08:12:23.430
> 
> 标签：ruby, arrays

我想编写一个程序，每当调用方法时，都会添加数组中的最后两位数字。

例如，如果方法/数组是

```
def add
 array = [1,2,3,4]
end 
```

如果我打电话`array`，它应该返回我`7 (4 + 3)`。如果我`array`再次调用，它应该返回`9 (7+2)`。由于`4`和`3`现在被替换为`7`.

我想做但没有成功的方式是

```
def add
        num = 0
        @sum = [1,2,3]
        @sum.map{|w| sum += w}.last
      end

def result 
 return add
end 
```

这就是我调用它的方式

```
class = Test.new
class.add
class.result # Should return 7
class.add
class.result #should return 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:18:59.343

Prakmya，有人对你投了反对票，因为你的问题很难理解。首先，您为什么要打扰`class Tests`and `attr_accessor :map`？我想知道你在哪里对货物狂热 :-) 做你（也许）想要的一种可能的方法是：

```
def join_last_2 array
  return if array.empty?
  last = array.pop
  if array.empty? then
    array << last
  else
    array[-1] = array[-1] + last
  end
end

a = 1, 2, 3, 4, 5
#=> [1, 2, 3, 4, 5]
join_last_2( a )
#=> 9
a
#=> [1, 2, 3, 9]
join_last_2( a )
#=> 12
a
#=> [1, 2, 12]
# etc. 
```

# mysql - 自动统计mysql表中1-n实例的数量

> ID：14828153
> 
> 赞同：1
> 
> 时间：2013-02-12T08:12:42.510
> 
> 标签：mysql, sql

我有两个 1-n 关系的 mySql 表。在第一个表中，我需要设置一个表示第二个表实例数的字段，并保持更新。实现这一目标的最佳方法是什么？每次在第二个表中插入/删除记录时，我都必须更新计数器，或者是否有自动的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:14:50.300

要将其作为第一个表中的字段，您需要在每次插入/删除第二个表中的记录时更新计数器。

或者，当您需要检索数据时，您可以只查询第二个表，加入第一个表并从第一个表中过滤 Id。如果您每次从第一个表中检索记录时都不需要数据，并且如果您要从第二个表中插入/删除批次，那么这将是更有效的途径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:10:20.830

如果@Najzero 建议的运行时查询不是首选，您可能会考虑**`View`**使用此查询创建并从中获取数据**`View`**

此外，如果您需要在每次插入/删除时更新字段，您可以考虑**`Trigger`**在 INSERT 和 DELETE 操作上创建。

# jquery - 液体（尾声）滑块高度未调整

> ID：14828157
> 
> 赞同：0
> 
> 时间：2013-02-12T08:13:07.453
> 
> 标签：jquery, slider, height, responsive-design

我正在为我的投资组合网站使用[Liquid Slider](http://liquidslider.kevinbatdorf.com/)（Coda Slider 的响应版本）。

其中一张幻灯片是项目/客户列表。当用户单击一个时，他们会停留在同一张幻灯片中，但列表会被替换为项目详细信息。我的想法是通过将幻灯片的内容换成 AJAX 引入的另一个 HTML 页面/div 来减少加载时间。

问题是高度没有针对新内容进行调整。如果您前进一张幻灯片然后后退，则高度会调整。如果您调整窗口大小，高度也会调整。

```
$(document).ready( function () {
    $("#dc3").click(function (){
            $(".clientlist").hide().load('dc3.html').fadeIn('slow');
        });
}); 
```

这适用于交换内容，但不适用于调整高度。我尝试使用替换 div 的高度来设置高度：

```
$(document).ready( function () {
    $("#dc3").click(function (){
            $(".clientlist").hide().load('dc3.html').fadeIn('slow');
            $(".liquid-slider").css({'height':($("#content").height()+'px')});
        });
}); 
```

但这也没有用...

我可以手动设置高度，但我希望自动调整高度。滑块脚本中有一些 adjustHeight 函数，但我不确定在换出内容时如何调用它。

该站点的暂存区在[这里](http://austingriffithphoto.com/newsite)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T02:35:52.047

有几种方法可以从滑块外部调用内部函数。您可能想在 ajax 回调中调用 adjustHeight() 或 adjustHeightNoAnimation() 函数。看看本教程是否回答了您的问题，如果没有，请随时通过 LS 网站上的联系表向我发送电子邮件。

[http://liquidslider.kevinbatdorf.com/tutorials/dynamically-add-content-to-a-panel-when-clicked-using-ajax/](http://liquidslider.kevinbatdorf.com/tutorials/dynamically-add-content-to-a-panel-when-clicked-using-ajax/)

# drag-and-drop - 拖动两个重叠的形状

> ID：14828159
> 
> 赞同：0
> 
> 时间：2013-02-12T08:13:13.407
> 
> 标签：drag-and-drop, kineticjs, overlap

我有两个重叠的形状，当我单击重叠时我想拖动两者。是否有捷径可寻？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T15:12:55.210

[http://jsfiddle.net/JPeJF/1/](http://jsfiddle.net/JPeJF/1/)

这是一个小错误，但你可以修饰它，它可以满足你的要求，只需要更多的逻辑/抛光。

您需要查看的主要代码是：

```
 shapesLayer.on('mousedown', function(){
     var userPos = stage.getUserPosition();
     var intersected = shapesLayer.getIntersections(userPos); //gets all shapes intersecting at click position
     for(var i = 0; i < intersected.length; i++) {
       intersected[i].moveTo(group2);   // moves intersected shapes to a new group , need to add some code so that when item is moved to new group it keeps it's position
     }
     group2.simulate('dragstart'); //simulate dragging
     shapesLayer.draw();
  });

  shapesLayer.on('mouseup', function(){  //when mouse is released
    var kids = group2.getChildren();
     for(var i = 0; i < kids.length; i++) {
       kids[i].moveTo(shapesLayer);      //place back in original container
     }
    shapesLayer.draw();
  }); 
```

# php - 如何将模型存储在文件夹中

> ID：14828160
> 
> 赞同：4
> 
> 时间：2013-02-12T08:13:15.017
> 
> 标签：php, codeigniter

我有 3 个独立的门户，不想将所有模型混合在一个文件夹中。我尝试将模型分成 3 个单独的文件夹，但它不起作用 codeigniter 一直说找不到模型。我什至试过

```
$this->load->model('folder_path/my_model'); 
```

到目前为止，我正在这样做（例如，管理员、成员和公众）

```
admin_my_model
members_my_model
public_my_model 
```

会不会有别的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:16:52.457

CodeIgniter 确实支持下面的一个子文件夹`models`：

```
$this->load->model('admin/my_model'); 
```

应该可以工作（`admin`CI`models`目录的子文件夹在哪里）。确保仅包含模型文件夹中的相对路径（因此不是从 CI 安装一直向上的完整路径）。

另请参阅：[http ://ellislab.com/codeigniter/user-guide/general/models.html#loading](http://ellislab.com/codeigniter/user-guide/general/models.html#loading)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:23:22.713

在应用程序文件夹下创建`modules` 文件夹。然后在模块下`members` 为成员模块创建文件夹。在成员文件夹中，它将包含 3 个文件夹

```
1) controllers (will contain member.php controller)

2) models  (will contain members_model.php model)

3) views  (will contain members_view.php view) 
```

然后像这样加载你的模型

```
$this->load->model('members/members_model'); 
```

# c# - C# 和 Visual Studio 命令提示符

> ID：14828162
> 
> 赞同：0
> 
> 时间：2013-02-12T08:13:20.277
> 
> 标签：c#, visual-studio-2010, command-prompt

每当我在 Visual Studio 上运行 C# 控制台应用程序时，它都会使用 Windows 的默认 cmd 而不是 Visual Studio cmd。我怎样才能改变这个？

# ios - 如何在 iOS 中获取 UI 元素的标准背景图像？

> ID：14828164
> 
> 赞同：0
> 
> 时间：2013-02-12T08:13:30.043
> 
> 标签：ios, uialertview

我需要下一个问题的帮助。我创建自定义 UI 元素，如 UIAlertView。但我需要让它看起来像标准的 UIAlertView。但我找不到标准背景的 png 文件。也许，我可以以某种方式从 UIAlertView 的资源中获取它？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:27:08.747

我敢打赌，您所指的 UI 元素部分是绘制的并且没有使用图像，这是典型的。如果你正在寻找类似的东西，你可以看看[这个 github 项目](https://github.com/TomSwift/TSAlertView/blob/master/TSAlertView/TSAlertViewBackground2.png)

希望这会有所帮助

# oracle - 在 FUNCTION 中创建临时表

> ID：14828167
> 
> 赞同：0
> 
> 时间：2013-02-12T08:13:35.343
> 
> 标签：oracle, function, plsql, temp-tables

如何创建一个可以在调用函数时返回的临时表？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-12T08:24:29.040

看到这个：

```
create or replace procedure maketemptab 
    is 
    sqlstmt varchar2(500); 
    begin 
    sqlstmt := 'CREATE GLOBAL TEMPORARY TABLE(col1 varchar2(10))'; 
    execute immediate sqlstmt; 
    end; 
```

# django - Django：在“用户更改”管理页面上显示 filter_horizo ntal

> ID：14828168
> 
> 赞同：3
> 
> 时间：2013-02-12T08:13:39.270
> 
> 标签：django, many-to-many

我有以下模型：

```
class Hospital(models.Model):
    name = models.CharField(max_length=200)
    authorized_users = models.ManyToManyField(User) 
```

在 Hospital 管理页面上显示 filter_horizo​​ntal 小部件来管理 ManyToManyField 非常简单：

```
class HospitalAdmin(admin.ModelAdmin):
    filter_horizontal = ('authorized_users', )

admin.site.register(models.Hospital, HospitalAdmin) 
```

但是，我真正想要的是在“更改用户”管理页面上显示该小部件，与用户的其余信息内联。理所当然地，ManyToManyFields 应该可以从两个方向修改 - 为单个医院授权多个用户，上述事实情况很好。然而，要在多家医院授权一个用户，目前的情况需要访问每家医院的管理页面并选择一个有问题的用户 - 荒谬。

我将补充一点，我正在使用 UserProfile 方法来存储有关用户的其他信息（他们是什么类型的用户等）。一种可能的解决方案是让医院的 ManyToManyField 引用 UserProfile 而不是 User。然后我可以添加一个`ManyToManyField(Hospital, through=Hospital.authorized_users.through)`to `UserProfile`，从而允许我将 filter_horizo​​ntal 小部件添加到两端。但是，这是不理想的，因为稍后引用该连接会很痛苦。想象一下，我想获得给定医院的第一个用户授权。而不是`hosp_name.authorized_users.all()[0]`，我必须做类似的事情`hosp_name.authorized_users.all()[0].user`。我什至不确定如何完成相当于`hosp_name.authorized_users.all()`获取完整列表的操作（因为这将返回 s 的列表`UserProfiles`，而不是`User`s.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-20T09:37:25.793

更雄辩地说，我的目标是使多对多医院-用户关系的管理成为双向的。也就是说，在医院的管理页面上，您将获得用户的 filter_horizo​​ntal，而在用户管理页面上，您将获得医院的 filter_horizo​​ntal。

我放弃了与 User 建立关系的想法，而是使用 UserProfile 建立关系。我最终使用了[这张 7 岁的 Django ticket](https://code.djangoproject.com/ticket/897)底部提到的确切代码。

最后，我的代码是

```
#models.py
class ReverseManyToManyField(models.ManyToManyField):
    pass
try:
    import south
except ImportError:
    pass
else:
    from south.modelsinspector import add_ignored_fields
    add_ignored_fields([".*\.ReverseManyToManyField$",])

class Hospital(models.Model):
    name = models.CharField(max_length=200)
    authorized_users = models.ManyToManyField('UserProfile', blank=True)
    def __unicode__(self):
        return self.name

class UserProfile(models.Model):
    user = models.OneToOneField(User)
    authorized_hospitals = ReverseManyToManyField(Hospital, through=Hospital.authorized_rads.through)

    def __unicode__(self):
        return self.user.username 
```

和

```
#admin.py
##### Stuff to register UserProfile fields in the admin site
class UserProfileInline(admin.StackedInline):
    model=models.UserProfile
    can_delete = False
    verbose_name_plural = 'profiles'
    filter_horizontal = ('authorized_hospitals',)

class UserAdmin(UserAdmin):
    inlines = (UserProfileInline, )

class HospitalAdmin(admin.ModelAdmin):
    filter_horizontal = ('authorized_users', )

admin.site.unregister(User)
admin.site.register(User, UserAdmin)
##### END UserProfile Stuff

admin.site.register(models.Hospital, HospitalAdmin) 
```

# mysql - CONCAT 在 mysql 存储过程中不起作用

> ID：14828172
> 
> 赞同：0
> 
> 时间：2013-02-12T08:14:05.670
> 
> 标签：mysql, stored-procedures

```
DROP PROCEDURE IF EXISTS Cursor_Test;# MySQL returned an empty result set (i.e. zero rows).

DELIMITER $$

CREATE PROCEDURE Cursor_Test()
BEGIN

  DECLARE Project_Number_val VARCHAR( 255 );
  DECLARE Project_List_val VARCHAR(255);

  DECLARE no_more_rows BOOLEAN;
  DECLARE loop_cntr INT DEFAULT 0;
  DECLARE num_rows INT DEFAULT 0;

  DECLARE projects_cur CURSOR FOR
    SELECT Project_Id
    FROM Project_Details;

  DECLARE CONTINUE HANDLER FOR NOT FOUND
    SET no_more_rows = TRUE;

  OPEN projects_cur;
  select FOUND_ROWS() into num_rows;

  the_loop: LOOP

    FETCH  projects_cur
    INTO   Project_Number_val;

    IF no_more_rows THEN
        CLOSE projects_cur;
        LEAVE the_loop;
    END IF;

SET Project_List_val=CONCAT(`Project_Number_val`,'_List') 
```

-

```
> ---> **Please check am I doing CONCAT correct here?**

Insert Into test (Panel_Id) select Panel_Id from Project_List_val where Project_Number_val='9';  

> --->**Is this taking 9_List as table name?**

    SET loop_cntr = loop_cntr + 1;
  END LOOP the_loop;

  select num_rows, loop_cntr;

END $$# MySQL returned an empty result set (i.e. zero rows).

DELIMITER 
```

有什么建议么？大家好，

我在存储过程中有一个名为 Project_Number 的变量，它是 varchar 类型。

我的要求是“对于每个项目编号查询表 project_Number_List 从列表中获取结果并插入其他表”

可以说，Project_Number 可能是这样的 22,21,34,43,434 我需要查询的对应表是这样的 22_List, 21_List,34_List .....

我正在使用光标遍历 Project_Number 但我的问题是如何混合 project_number 和 _list 即 22_list 来查询表 22_List

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T08:16:55.377

试试这个：

```
SET Project_List_val=CONCAT(Project_Number_val,'_List') 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-12T08:20:31.233

```
SET Project_List_val=CONCAT(Project_Number_val,'_List'); 
```

不要将单引号 For Project_Number_val 可变。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-12T08:18:01.777

你的 var 调用是错误的，试试这个：

```
 SET Project_List_val = CONCAT(Project_Number_val,'_List') 
```

# c# - 图像放大滞后

> ID：14828177
> 
> 赞同：0
> 
> 时间：2013-02-12T08:14:37.060
> 
> 标签：c#, lag, magnification

我创建了一个应用程序，允许用户放大背景图片的某个部分。主要问题是，如您在图片中看到的那样，放大场滞后。这也是一个单线程应用程序。有没有人有任何建议我可以做些什么来解决我的问题？

![在此处输入图像描述](../Images/a0790833b87b72ae22a410c9fc623e4e.png)

我的代码：

```
 public void Magnifier(Point e)
    {
        magnifiedPicture.Size = new Size(MagnifierSize, MagnifierSize);    
        magnifiedPicture.Visible = true;
        magnifiedPicture.Location = new Point(e.X-MagnifierSize/2, e.Y-MagnifierSize/2);  
        magnifiedPicture.BackgroundImage = CutThePicture(CanvasImage, new Rectangle(_ptOnCanvas.X - 18, _ptOnCanvas.Y - 18, 16, 16)); 
        magnifiedPicture.Refresh(); // <-- just for probe, but without any effect
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T07:20:16.983

我在鼠标移动事件上使用 InvokePaint，问题就解决了。

```
InvokePaint( this, new PaintEventArgs( this.CreateGraphics(), this.DisplayRectangle ) ); 
```

# iis - Membership.ValidateUser 在 IIS 上总是返回 false

> ID：14828185
> 
> 赞同：7
> 
> 时间：2013-02-12T08:15:00.213
> 
> 标签：iis, web-config, asp.net-membership, cassini

Membership.ValidateUser 方法适用于开发服务器（iis express 和 cassini）。但是在我的 IIS 上（它作为我的开发机器上的应用程序发布）它总是返回**false**。

即使用户被批准，没有被锁定并且用户名和密码正确。没有跟踪错误。?

**http请求1：** davutg-pc：**6423** /BpmService/Login?userName=abc&password=0035

**结果1：** <boolean> **true** </boolean>

**http请求2：** davutg-pc/BPM/BpmService/Login?userName=abc&password=0035

**结果2：** <布尔>**假**</布尔>

这是我的设置

```
<roleManager enabled="true" defaultProvider="MySQLRoleProvider"/>

<machineKey validationKey="E8B40EEA5A8EFC6F...key" decryptionKey="385..." validation="SHA1" />

<membership defaultProvider="MySQLMembershipProvider"  hashAlgorithmType="SHA1">
  <providers>
    <remove name="MySQLMembershipProvider"  />
    <add type="MySql.Web.Security.MySQLMembershipProvider, MySql.Web, Version=6.5.5.0, Culture=neutral, 
         PublicKeyToken=c5687fc88969c44d"
         name="MySQLMembershipProvider"
         connectionStringName="LocalMySqlServer"
         minRequiredPasswordLength="3"
         minRequiredNonalphanumericCharacters="0"
         requiresUniqueEmail="false"
         requiresQuestionAndAnswer="false"
         passwordFormat="Encrypted"/> 
```

我比较了 machine.configs 是相同的 Framework 64 和 Framework。

它适用于开发服务器，但在 IIS 上总是返回 false。我可以用 IIS**查询不同的服务，没有这样的问题。**

**另外：** 当我输入错误密码时，开发服务器的**“FailedPasswordAttemptCount”会增加**。但它**不会改变 IIS**。IIS 出了什么问题。我只是打电话给 Membership.ValidateUser(user,pass)

任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T09:30:09.863

解决了！希望这会节省某人的时间。

问题是**应用程序名称。**

主机：端口/服务

主机/ **BPM** /服务

注意：BPM 是您在 IIS 上提供的应用程序名称。

成员加密算法使用“ApplicatonName”。当我设置应用程序时，我使用 BPM 作为应用程序名称。在开发服务器上，“名称”返回“/”。但它在 IIS 上的“BPM”！

我所有的旧密码都是用“/”应用程序名称生成的。所以总是提供一个应用程序名称。阅读Scott-Gu 博客中的这篇[文章](http://weblogs.asp.net/scottgu/archive/2006/04/22/Always-set-the-_2200_applicationName_2200_-property-when-configuring-ASP.NET-2.0-Membership-and-other-Providers.aspx)。

```
 public bool Login(string userName,string password)
    {
        var provider = Membership.Provider;
        string name = provider.ApplicationName;

        return Membership.ValidateUser(userName, password);
    } 
```

//错一个

```
 <membership>
        <providers>
            <clear/>
            <add name="AspNetSqlMembershipProvider"
                type="System...bla bla"
                connectionStringName="LocalSqlServer"
                enablePasswordRetrieval="false"
                enablePasswordReset="true"
                requiresQuestionAndAnswer="true"
                requiresUniqueEmail="false"
                passwordFormat="Hashed"
                maxInvalidPasswordAttempts="5"
                minRequiredPasswordLength="7"
                minRequiredNonalphanumericCharacters="1"
                passwordAttemptWindow="10"
                passwordStrengthRegularExpression=""
                applicationName="/" //Wrong
            />
         </providers>
    </membership> 
```

//正确对象，真爱

```
 <membership>
                <providers>
                <clear/>
            <add name="AspNetSqlMembershipProvider"
                type="System.Web.Security.S.. bla bla"
                connectionStringName="LocalSqlServer"
                enablePasswordRetrieval="false"
                enablePasswordReset="true"
                requiresQuestionAndAnswer="true"
                requiresUniqueEmail="false"
                passwordFormat="Hashed"
                maxInvalidPasswordAttempts="5"
                minRequiredPasswordLength="7"
                minRequiredNonalphanumericCharacters="1"
                passwordAttemptWindow="10"
                passwordStrengthRegularExpression=""
                applicationName="MyAPPNAME" //Well :)
            />
         </providers>
    </membership> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-15T02:13:20.843

我也遇到了这个问题，两周内无法解决。

专注于使用以下方法创建成员`CreateUser()`：

```
MembershipCreateStatus createStatus;
MembershipUser member = 
Membership.CreateUser(TextBox_username.Text.Replace("'", "''"), 
           TextBox_password.Text.Replace("'", "''"), 
           TextBox_email.Text.Replace("'", "''"), null, null, true, out createStatus); 
```

检查`CreateUser()`函数是如何被调用的。应该是这样的。

# .net - 如何衡量 .net 桌面应用程序的性能？

> ID：14828191
> 
> 赞同：0
> 
> 时间：2013-02-12T08:15:32.237
> 
> 标签：.net, performance

如何衡量 .net 桌面应用程序的性能？

我有使用 .net 开发的桌面应用程序

之后我想测量每个事务的请求时间，例如登录和其他操作

有什么工具可以用来测量.net 应用程序的每个请求的准确时间吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:24:15.623

您可以使用[`dotTrace`](http://www.jetbrains.com/profiler/)JetBrains 来实现这一点。虽然它不是免费工具（但他们提供 10 天免费试用版）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:35:32.487

我都用过[`ANTS Performance Profiler`](http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/)，[`dotTrace`](http://www.jetbrains.com/profiler/)而且我发现 ANTS 是两者中更易读和更易理解的，两者都是为了钱，但如果你愿意，两者都提供试用。

# oracle-coherence - 一致性缓存设置脏标志

> ID：14828192
> 
> 赞同：0
> 
> 时间：2013-02-12T08:15:38.263
> 
> 标签：oracle-coherence

如何为一致性缓存中的少数实体设置脏标志。因此，缓存将在后台或一段时间后将其加载回。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:02:00.483

您不能任意让缓存刷新实体的子集。

唯一与您描述的内容接近的是[refresh-ahead caching](http://docs.oracle.com/cd/E24290_01/coh.371/e22837/cache_rtwtwbra.htm#CHDGFFIA)，如果正在访问条目，它将在条目过期之前刷新它们。如果不是，它们将过期并在下一次获取时重新加载。

如果这不能满足您的需求，您需要让另一个进程为您执行更新。

# android - 意图调用相机、拍摄照片并接收 uri？

> ID：14828198
> 
> 赞同：0
> 
> 时间：2013-02-12T08:16:08.543
> 
> 标签：android, android-intent, camera

我的应用程序使用`Camera API`.

但是，我更喜欢调用`stock Camera application`并接收`Uri`保存的图片。

（我更喜欢这样，因为相机应用程序有许多现成的功能，否则我必须在我的应用程序中编写代码）。

你知道是否有调用`stock Camera`这种方式的意图吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:47:22.757

要使用相机捕获图像，请调用此意图

```
Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
startActivityForResult(cameraIntent, requestCode); 
```

并使用 onActivityResult 函数处理回调

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

Bitmap mImageBitmap;
            Bundle extras = data.getExtras();
            mImageBitmap = Bitmap.createScaledBitmap(
                    (Bitmap) extras.get("data"), 100, 100, false);
} 
```

mImageBitmap 将保存您捕获的图像

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:25:16.227

要利用默认值`Camera API`并取回保存的图片`URI`，您可以使用此[答案](https://stackoverflow.com/questions/5945517/default-camera-to-take-a-picture-in-android/5945529#5945529)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:44:13.237

尝试这样的事情：

```
Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
startActivityForResult(intent, 100); 
```

并检索图像尝试：

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
super.onActivityResult(requestCode, resultCode, data);
Bitmap bitmap = null;
    if (requestCode == IMAGE_CAPTURE_REQUEST_CODE) {
      if (resultCode == Activity.RESULT_OK) {
        try {
          bitmap = (Bitmap) intent.getExtras().get("data");
        } catch (Exception e) {
          e.printStackTrace();
        }
      }
    }
} 
```

# perl - Perl 内联数组排序（如何避免“隐式拆分”错误）

> ID：14828199
> 
> 赞同：0
> 
> 时间：2013-02-12T08:16:08.853
> 
> 标签：perl, unix, sorting

我有以下数组：

```
 my @anim = ('rn4,mm8,bosTau2,canFam2,dasNov1,echTel1',
  'rn4,mm8,oryCun1,bosTau2,canFam2,dasNov1,echTel1'); 
```

它包含多个字符串，每个字符串以逗号分隔。我想做的是根据字符串中最大的成员对它们进行排序。因此，我试图做的是：

```
my @animsort = sort{scalar(split(",",$b)) <=> scalar(split(",",$a))} @anim; 
```

但它给出了这个错误：

```
Use of implicit split to @_ is deprecated at ./scripts/mycode.pl line 35 
```

正确的方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-12T08:34:01.487

如果“最大成员”是指最后一个成员，请使用列表切片：

```
my @sorted_anim = sort {
    (split /,/, $b)[-1] cmp (split /,/, $a)[-1]
} @anim; 
```

使用 Schwartzian 变换：

```
my @sorted_anim = map $_->[0],
    sort { $b->[1] cmp $a->[1] }
    map [ $_, (split /,/, $_)[-1] ],
    @anim; 
```

或 Guttman-Rosler 变换：

```
my @sorted_anim = map /,(.*)/s,
    sort { $b cmp $a }
    map { (split /,/, $_)[-1] . ",$_" }
    @anim; 
```

施瓦茨变换旨在通过对每个元素只计算一次排序键来提高效率；Guttman-Rosler 做得更好，它还临时将排序键与完整数据（通常使用 pack，其中排序键的长度已知；这里只是使用已知的分隔符）组合在一起，这样 perl 将使用优化的构建-in 排序例程，而不是为每个比较执行 perl 代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T08:28:27.037

`scalar()`不返回“字符串的最大成员”或导致`split`这样做。也许您正在寻找[List::Util](http://search.cpan.org/perldoc?List%3a%3aUtil)的`maxstr`？

```
use List::Util qw( maxstr );

my @sorted_anim = sort {
   maxstr(split /,/, $b) cmp maxstr(split /,/, $a)
} @anim; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-12T08:36:28.923

如果您想按每个字符串中的元素计数进行排序，您的代码将执行此操作。我在 Perl 5.16 中发布的代码没有任何错误。你有旧版本的 Perl 吗？（我发现[一些证据](https://stackoverflow.com/questions/2436160/why-does-perl-complain-use-of-implicit-split-to-is-deprecated)表明您的代码可能会在旧版本中产生错误）。

这是另一种选择：

```
my @animsort = sort{(() = $b =~ /,/g) <=> (() = $a =~ /,/g)} @anim; 
```

这通过计算逗号进行排序，而不是实际拆分字符串。有趣的`() =`语法是确保正则表达式被视为在列表上下文中，因此我们可以计算匹配项。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T09:06:51.960

正则表达式可以排除所有内容，或者您​​可以使用“无警告”删除警告；本地编译指示。

```
my $comma_re = qr!,!;   
my @animsort = sort{$b =~ s!$comma_re!!g <=> $a =~ s!$comma_re!!g} @anim;
print Dumper(\@anim,\@animsort); 
```

# java - 如何纠正此处不允许的 void 和此处无法应用 java.io.PrintStream 错误？

> ID：14828201
> 
> 赞同：0
> 
> 时间：2013-02-12T08:16:19.900
> 
> 标签：java, file-io

有一种方法正在生成 content.html。

```
contentPage(new PrintStream(socket.getOutputStream(), false)); 
```

我想看内容，我试过了

```
br.write("Content Page: : : "+contentPage()); 
```

但得到了错误

> contentPage(java.io.PrintStream) 无法应用..

我试过

```
br.write("Content Page: : : "+contentPage(ps)); 
```

`ps`的参考在哪里`PrintStream`，并得到了错误

> 此处不允许使用 void 类型

我是 Java 新手，请帮我打印内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:20:02.817

`contentPage(ps)`返回类型可能是`void`这意味着它不会返回任何东西。

所以你不应该`contentPage(ps)`在`br.write()`方法中使用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:25:57.357

您可以调用 contentPage(ps) 两次：

```
contentPage(new PrintStream(socket.getOutputStream(), false));
contentPage(System.out); 
```

将html输出到控制台，

或者，您可以先将 html 放入缓冲区：

```
ByteArrayOutputStream bos = new ByteArrayOutputStream();
PrintStream ps = new PrintStream(bos, false);
contentPage(ps);
ps.close();
byte[] data = bos.toByteArray();

OutputStream out = socket.getOutputStream();
out.write(data);

br.write("Content Page: : : " + new String(data)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:27:41.950

您必须查看使用哪种类型的参数`contentPage()`。

从你的错误：

1.  `contentPage(java.io.PrintStream) can not be applied..`因为你的方法参数不是`PrintStream`.
2.  `void type not allowed here`因为`contentPage(ps)`返回类型是无效的。

所以看你的方法`contentPage()`参数类型和传递参数相同。

# html - 更改 HTML 中下拉列表的样式

> ID：14828202
> 
> 赞同：1
> 
> 时间：2013-02-12T08:16:19.573
> 
> 标签：html, css

我使用创建了以下下拉列表

```
<select></select> 
```

标签。我使用的代码是：

```
<html>
<body>
<select name="ans" >
<option> select 1</option>
<option> select 2</option>
</select>
</body>
</html> 
```

他们是我可以更改列表样式的一种方式，例如下拉箭头或其中的文本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:59:58.787

如果您想设置下拉按钮的样式，您可以提出以下方法。这个想法是通过将其不透明度降低到 0 来隐藏原始选择，但仍保留其功能。为此，我们还需要一点 JS（只需一点点），以便在您更改 select 中的 options-value 时更改 Text-value。

CSS：

```
.selectWrap {
  /* Style your own select-box here */
  background: #ddd;
  border: 1px solid black;
  color: #333;

  /* Your new Arrow */
  /* Created with the after-pseudo-element to save Markup,
     Styled the arrow with help of the border-trick to provide Retina-ready arrow */
  &:after {
    border-width: 6px;
    border-style: solid;
    border-color: transparent transparent transparent #000;
    content: "";
    right: 20px;
    position: absolute;
    top: 20px;
  }

  height: 30px;
  position:relative;
}

/* Hide the original select */
select {
  height: 30px;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;

  /* Hide the select cross-browser */
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  -moz-opacity: 0.0;
  -khtml-opacity: 0.0;
  opacity: 0.0;
} 
```

的HTML：

```
<div class="selectWrap">
  <select>
    <option>one</option>
    <option>two</option>
  </select>

  <div class="selectText">Please choose..</div>
</div> 
```

JavaScript（jQuery）：

```
/* Always when the option in the select is changed, change the text of our selectWrap */
$(document).ready(function () {
  $('.selectWrap select').on('change', function (e) {
     var wrap = $(e.target).parents('.selectWrap');
     wrap.find('.selectedText').html(this.options[this.selectedIndex].innerHTML);
  });
}); 
```

# javascript - IFrame 焦点上的父级滚动

> ID：14828205
> 
> 赞同：2
> 
> 时间：2013-02-12T08:16:24.637
> 
> 标签：javascript, html, events, iframe, google-sheets

我的 html 页面中嵌入了一个谷歌电子表格。问题是每当我单击电子表格单元格时，父页面都会向上滚动，从而难以使用嵌入的电子表格。

重现步骤 - 1\. 让谷歌电子表格在 iframe 中加载。2\. 单击父页面中的某处 3\. 单击 google spreadhseet 的任何单元格。4\. 父页面向上滚动到页面顶部。

我在 FF、Chrome 中遇到过这个问题。在 IE9 中，我无法加载电子表格 - 被浏览器拒绝。

任何人都可以提供一些指示吗？

# c++ - 如何在标题中连接字符串？

> ID：14828206
> 
> 赞同：1
> 
> 时间：2013-02-12T08:16:27.747
> 
> 标签：c++, header

我想在专用的头文件中定义一堆常量。

由于某些前缀经常出现，我想定义一次，然后在需要时添加它们。

我的问题是：

如何将前缀与另一个没有空格的字符串连接起来？

例子：

```
#define PREFIX "pre_"
#define KEYWORD "keyword"
#define BOTH PREFIX+KEYWORD 
```

两者的期望结果：pre_keyword

显然 + in

```
BOTH PREFIX+KEYWORD 
```

不管用。那么如何将这些令牌连接起来呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-12T08:16:54.487

只是

```
#define BOTH PREFIX KEYWORD 
```

会做的。

相邻的文字会自动连接，所以

```
"pre_" "keyword" 
```

会成为

```
"pre_keyword" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:37:25.027

如果您想坚持使用宏，这是对正在发生的事情以及如何改进它的简短说明。

```
#define PREFIX "pre_"
#define KEYWORD "keyword" 
```

定义了两个宏，它们将在预处理期间被它们的定义替换。

```
#define BOTH PREFIX+KEYWORD 
```

然后将被替换为

```
"pre_"+"keyword" 
```

导致指针加法，显然不是你想要的。与在 C 和 C++ 中一样，我们可以通过将部分彼此相邻地写入而不使用任何运算符来拆分 C 字符串（它们将被视为*一个*C 字符串文字，而不是*两个*C 字符串的串联）：

```
"pre_" "keyword" 
```

所以你希望宏是

```
#define BOTH PREFIX KEYWORD 
```

如果在你的程序中经常使用这样的前缀，我宁愿推荐以下方法：

```
#define PRE(x) "pre_" x 
```

并使用“调用”宏

```
PRE("keyword") 
```

这将扩展为`"pre_" "keyword"`.

现在 if`"keyword"`永远是一个编译时的 C 字符串，可以写成一个*标记*（没有特殊字符），你甚至可以让它在没有引号的情况下工作：

```
#define PRE(x) "pre_" #x 
```

`#x`会将标记“转换”为`x`C 字符串文字。然后，您可以编写以下内容：

```
PRE(keyword) 
```

请注意，这是由预处理器完成的，因此`keyword`甚至可以是 C/C++ 关键字，它仍然有效，例如`PRE(if)`.

为了完整性：如果您希望结果仍然是一个令牌，您可以使用预处理器运算符执行令牌连接`##`：

```
#define PRE(x) pre_ ## x 
```

然后，`PRE(keyword)`将扩展为`pre_keyword`。

# php - 如何使用 imagemagick 和 php 获得更好的分辨率？

> ID：14828211
> 
> 赞同：3
> 
> 时间：2013-02-12T08:17:01.150
> 
> 标签：php, imagemagick, imagemagick-convert

我已经存储了一个 PDF，我想将其转换为 JPG 并使用 imagemagick 增加照片的大小。它工作正常，但它返回给我一张分辨率不好的照片 [http://goo.gl/Gj7bE](http://goo.gl/Gj7bE)

```
$save_toB = $uploaddir . "/" . $pdfNameB;
$imga2 = new imagick($pdfB . '[0]');
$imga2->scaleImage(2500, 2400);
$imga2->setImageFormat('jpg');
$imga2->writeImages($save_toB, true); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T12:31:07.767

在加载图像之前添加 setResolution：

就像是：

```
$save_toB = $uploaddir . "/" . $pdfNameB;
$imga2 = new imagick();
$imga2->setResolution(300,300);
$imga2->readImage($pdfB . '[0]') 
```

另请阅读：[Pdf to image using php-imagick api](https://stackoverflow.com/questions/4211913/pdf-to-image-using-php-imagick-api)

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T17:14:51.920

放大图像总是会导致图像模糊。

即使是被认为是最强大的图像处理软件的 Photoshop，当您放大一张小照片时，也会产生模糊的照片。

这些软件无法推断放大小照片所需的额外像素。

最好的选择是从一个更高分辨率的图像开始。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T12:30:36.770

[http://www.php.net/manual/en/imagick.resizeimage.php](http://www.php.net/manual/en/imagick.resizeimage.php)

> 注意：参数 bestfit 的行为在 Imagick 3.0.0 中发生了变化。在此版本给定尺寸 400x400 之前，尺寸为 200x150 的图像将保持不变。在 Imagick 3.0.0 及更高版本中，图像将被放大到 400x300 的大小，因为这是给定尺寸的“最佳拟合”。如果使用最佳拟合参数，则必须同时给出宽度和高度。

也许有帮助

# android - Android 地图 v2 缩放以显示所有标记

> ID：14828217
> 
> 赞同：309
> 
> 时间：2013-02-12T08:17:28.260
> 
> 标签：android, google-maps, google-maps-api-2, google-maps-android-api-2

我有 10 个标记`GoogleMap`。我想尽可能放大并保留所有标记？在早期版本中，这可以实现，`zoomToSpan()`但在 v2 中，我不知道该怎么做。此外，我知道需要可见的圆的半径。

* * *

## 回答 #1

> 赞同：860
> 
> 时间：2013-02-12T08:53:20.027

您应该使用`CameraUpdate`该类来执行（可能）所有程序化地图移动。

为此，首先计算所有标记的边界，如下所示：

```
LatLngBounds.Builder builder = new LatLngBounds.Builder();
for (Marker marker : markers) {
    builder.include(marker.getPosition());
}
LatLngBounds bounds = builder.build(); 
```

然后通过工厂获取一个动作描述对象`CameraUpdateFactory`：：

```
int padding = 0; // offset from edges of the map in pixels
CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, padding); 
```

最后移动地图：

```
googleMap.moveCamera(cu); 
```

或者如果你想要一个动画：

```
googleMap.animateCamera(cu); 
```

就这样 ：）

**说明 1**

几乎所有的移动方法都要求`Map`对象已经通过了布局过程。`addOnGlobalLayoutListener`您可以使用构造等待这种情况发生。可以在对此答案和剩余答案的评论中找到详细信息。您还可以[在此处找到](https://stackoverflow.com/q/13692579/1820695)[用于设置地图范围的完整代码`addOnGlobalLayoutListener`](https://stackoverflow.com/q/13692579/1820695)。

**说明 2**

一条评论指出，仅对一个标记使用此方法会导致地图缩放设置为“奇异”缩放级别（我认为这是给定位置可用的最大缩放级别）。我认为这是意料之中的，因为：

1.  该`LatLngBounds bounds`实例将具有`northeast`等于 的属性`southwest`，这意味着它所覆盖的地球面积部分`bounds`正好为零。（这是合乎逻辑的，因为单个标记没有区域。）
2.  通过传递`bounds`给`CameraUpdateFactory.newLatLngBounds`您本质上请求计算这样的缩放级别`bounds`（具有零区域）将覆盖整个地图视图。
3.  您实际上可以在一张纸上执行此计算。作为答案的理论缩放级别是+∞（正无穷大）。实际上，该`Map`对象不支持此值，因此它被限制在给定位置允许的更合理的最大级别。

另一种说法：对象如何知道它应该为*单个位置*`Map`选择什么缩放级别？也许最佳值应该是 20（如果它代表一个特定的地址）。或者可能是 11（如果它代表一个城镇）。或者可能是 6（如果它代表一个国家）。API 不是那么聪明，决定权在你。

 *因此，您应该简单地检查是否`markers`只有一个位置，如果是，请使用以下之一：

*   `CameraUpdate cu = CameraUpdateFactory.newLatLng(marker.getPosition())`- 转到标记位置，保持当前缩放级别不变。
*   `CameraUpdate cu = CameraUpdateFactory.newLatLngZoom(marker.getPosition(), 12F)`- 转到标记位置，将缩放级别设置为任意选择的值 12。

* * *

## 回答 #2

> 赞同：136
> 
> 时间：2016-06-24T12:19:50.963

### 谷歌地图 V2

以下解决方案适用于 Android Marshmallow 6（API 23、API 24、API 25、API 26、API 27、API 28）。它也适用于 Xamarin。

```
LatLngBounds.Builder builder = new LatLngBounds.Builder();

//the include method will calculate the min and max bound.
builder.include(marker1.getPosition());
builder.include(marker2.getPosition());
builder.include(marker3.getPosition());
builder.include(marker4.getPosition());

LatLngBounds bounds = builder.build();

int width = getResources().getDisplayMetrics().widthPixels;
int height = getResources().getDisplayMetrics().heightPixels;
int padding = (int) (width * 0.10); // offset from edges of the map 10% of screen

CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, width, height, padding);

mMap.animateCamera(cu); 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2014-07-15T08:31:48.203

我无法使用 onGlobalLayoutlistener，所以这是防止 `"Map size can't be 0\. Most likely, layout has not yet occured for the map view. Either wait until layout has occurred or use newLatLngBounds(LatLngBounds, int, int, int) which allows you to specify the map's dimensions."`错误的另一种解决方案：

```
mMap.setOnMapLoadedCallback(new GoogleMap.OnMapLoadedCallback() { 
@Override 
public void onMapLoaded() { 
    mMap.moveCamera(CameraUpdateFactory.newLatLngBounds(builder.build(), 15));
 } 
}); 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2014-01-04T11:43:49.070

所以

> 我需要使用 addOnGlobalLayoutListener 来获取适当的样本

例如，您的 Google 地图位于 RelativeLayout：

```
RelativeLayout mapLayout = (RelativeLayout)findViewById(R.id.map_layout);
mapLayout.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {
        @Override
        public void onGlobalLayout() {
            //and write code, which you can see in answer above
        }
    }); 
```

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2016-08-05T11:20:37.557

> 对我来说工作得很好。

从这段代码中，我在地图屏幕上显示了多个具有特定缩放比例的标记。

// 声明的变量

```
private LatLngBounds bounds;
private LatLngBounds.Builder builder; 
```

// 用drawable icon添加多个标记点的方法

```
private void drawMarker(LatLng point, String text) {

        MarkerOptions markerOptions = new MarkerOptions();
        markerOptions.position(point).title(text).icon(BitmapDescriptorFactory.fromResource(R.drawable.icon));
        mMap.addMarker(markerOptions);
        builder.include(markerOptions.getPosition());

    } 
```

// 用于添加地图上可见的多个标记

```
@Override
    public void onMapReady(GoogleMap googleMap) {
        mMap = googleMap;
        builder = new LatLngBounds.Builder();
    for (int i = 0; i < locationList.size(); i++) {

        drawMarker(new LatLng(Double.parseDouble(locationList.get(i).getLatitude()), Double.parseDouble(locationList.get(i).getLongitude())), locationList.get(i).getNo());

     }
     bounds = builder.build();
     CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, 0);
     mMap.animateCamera(cu); 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2016-03-02T11:32:16.403

**注意**- 这不是原始问题的解决方案。这是对上述子问题之一的解决[方案](https://stackoverflow.com/a/14828739/4440874)。

@andr**澄清 2**的解决方案-

当边界中只有一个标记并且因此缩放级别设置为非常高的级别（**级别 21**）时，它确实有问题。谷歌目前没有提供任何设置最大缩放级别的方法。当有超过 1 个标记但它们都彼此非常接近时，也会发生这种情况。然后也会出现同样的问题。

**解决方案**- 假设您希望地图的缩放级别永远不会超过 16。然后在做之后 -

```
CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, padding);
mMap.moveCamera(cu); 
```

检查您的缩放级别是否超过了 16 级（或任何您想要的） -

```
float currentZoom = mMap.getCameraPosition().zoom; 
```

如果此级别大于 16（仅当标记非常少或所有标记彼此非常接近时），则只需将缩放级别设置为 16 即可在该特定位置缩小地图。

```
mMap.moveCamera(CameraUpdateFactory.zoomTo(16)); 
```

这样你就永远不会遇到@andr 很好地解释的“奇怪”缩放级别的问题。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2016-03-29T11:10:52.793

这会有所帮助..来自google apis demos

```
private List<Marker> markerList = new ArrayList<>();
Marker marker = mGoogleMap.addMarker(new MarkerOptions().position(geoLatLng)
                .title(title));
markerList.add(marker);
    // Pan to see all markers in view.
    // Cannot zoom to bounds until the map has a size.
    final View mapView = getSupportFragmentManager().findFragmentById(R.id.map).getView();
    if (mapView!=null) {
        if (mapView.getViewTreeObserver().isAlive()) {
            mapView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {
                @SuppressWarnings("deprecation") // We use the new method when supported
                @SuppressLint("NewApi") // We check which build version we are using.
                @Override
                public void onGlobalLayout() {
                    //Calculate the markers to get their position
                    LatLngBounds.Builder b = new LatLngBounds.Builder();
                    for (Marker m : markerList) {
                        b.include(m.getPosition());
                    }
                    // also include current location to include in the view
                    b.include(new LatLng(mLocation.getLatitude(),mLocation.getLongitude()));

                    LatLngBounds bounds = b.build();
                    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.JELLY_BEAN) {
                        mapView.getViewTreeObserver().removeGlobalOnLayoutListener(this);
                    } else {
                        mapView.getViewTreeObserver().removeOnGlobalLayoutListener(this);
                    }
                    mGoogleMap.moveCamera(CameraUpdateFactory.newLatLngBounds(bounds, 50));
                }
            });
        }
    } 
```

有关清晰的信息，请查看此 url。 [https://github.com/googlemaps/android-samples/blob/master/ApiDemos/app/src/main/java/com/example/mapdemo/MarkerDemoActivity.java](https://github.com/googlemaps/android-samples/blob/master/ApiDemos/app/src/main/java/com/example/mapdemo/MarkerDemoActivity.java)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-10-16T10:26:54.850

**使用谷歌地图显示所有标记**

在这些方法中存储所有标记并自动缩放以显示谷歌地图中的所有标记。

```
// Declare the Markers List.
List<MarkerOptions> markerList;
private BitmapDescriptor vnrPoint,banPoint;

public void storeAllMarkers()
{
      markerList=new ArrayList<>();
      markerList.removeAll(markerList);

      // latitude and longitude of Virudhunagar

      double latitude1=9.587209;
      double longitude1=77.951431;
   vnrPoint=BitmapDescriptorFactory.fromResource(R.drawable.location_icon_1);
      LatLng vnr = new LatLng(latitude1, longitude1);
      MarkerOptions vnrMarker = new MarkerOptions();
      vnrMarker.position(vnr);
      vnrMarker.icon(vnrPoint);
      markerList.add(vnrMarker);

      // latitude and longitude of Bengaluru

      double latitude2=12.972442;
      double longitude2=77.580643;

    banPoint=BitmapDescriptorFactory.fromResource(R.drawable.location_icon_2);

      LatLng ban = new LatLng(latitude2, longitude2);
      MarkerOptions bengalureMarker = new MarkerOptions();
      bengalureMarker.position(ban);
      bengalureMarker.icon(banPoint);
      markerList.add(bengalureMarker);

      // You can add any numbers of MarkerOptions like this.

     showAllMarkers();

 }

public void showAllMarkers()
{
    LatLngBounds.Builder builder = new LatLngBounds.Builder();

    for (MarkerOptions m : markerList) {
        builder.include(m.getPosition());
    }

    LatLngBounds bounds = builder.build();

    int width = getResources().getDisplayMetrics().widthPixels;
    int height = getResources().getDisplayMetrics().heightPixels;
    int padding = (int) (width * 0.30); 

    // Zoom and animate the google map to show all markers

    CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, width, height, padding);
    googleMap.animateCamera(cu);
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2017-06-12T12:17:38.073

我有类似的问题，使用以下代码解决了这个问题：

`CameraUpdateFactory.newLatLngBounds(bounds, 200, 200, 5)`一般来说，在我的情况下，位置差异不超过两个相邻城市。

[缩放以适合地图上的所有标记谷歌地图 v2](https://stackoverflow.com/questions/16416041/zoom-to-fit-all-markers-on-map-google-maps-v2)

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2017-12-14T09:18:03.157

我还有另一种方法可以完美地完成同样的事情。所以在屏幕上显示所有标记背后的想法是我们需要一个中心纬度和缩放级别。这是一个功能，它将为您提供并需要所有标记的 Latlng 对象作为输入。

```
 public Pair<LatLng, Integer> getCenterWithZoomLevel(LatLng... l) {
    float max = 0;

    if (l == null || l.length == 0) {
        return null;
    }
    LatLngBounds.Builder b = new LatLngBounds.Builder();
    for (int count = 0; count < l.length; count++) {
        if (l[count] == null) {
            continue;
        }
        b.include(l[count]);
    }

    LatLng center = b.build().getCenter();

    float distance = 0;
    for (int count = 0; count < l.length; count++) {
        if (l[count] == null) {
            continue;
        }
        distance = distance(center, l[count]);
        if (distance > max) {
            max = distance;
        }
    }

    double scale = max / 1000;
    int zoom = ((int) (16 - Math.log(scale) / Math.log(2)));
    return new Pair<LatLng, Integer>(center, zoom);
} 
```

此函数返回您可以使用的 Pair 对象

> 对对 = getCenterWithZoomLevel(l1,l2,l3..); mGoogleMap.moveCamera(CameraUpdateFactory.newLatLngZoom(pair.first,pair.second));

您可以不使用填充来使标记远离屏幕边界，而是可以通过 -1 调整缩放。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-12-23T19:08:05.643

使用“getCenterCoordinate”方法获取中心坐标并在CameraPosition中使用。

```
private void setUpMap() {
    mMap.setMyLocationEnabled(true);
    mMap.getUiSettings().setScrollGesturesEnabled(true);
    mMap.getUiSettings().setTiltGesturesEnabled(true);
    mMap.getUiSettings().setRotateGesturesEnabled(true);

    clientMarker = mMap.addMarker(new MarkerOptions()
            .position(new LatLng(Double.valueOf(-12.1024174), Double.valueOf(-77.0262274)))
            .icon(BitmapDescriptorFactory.fromResource(R.mipmap.ic_taxi))
    );
    clientMarker = mMap.addMarker(new MarkerOptions()
            .position(new LatLng(Double.valueOf(-12.1024637), Double.valueOf(-77.0242617)))
            .icon(BitmapDescriptorFactory.fromResource(R.mipmap.ic_location))
    );

    camPos = new CameraPosition.Builder()
            .target(getCenterCoordinate())
            .zoom(17)
            .build();
    camUpd3 = CameraUpdateFactory.newCameraPosition(camPos);
    mMap.animateCamera(camUpd3);
}

public LatLng getCenterCoordinate(){
    LatLngBounds.Builder builder = new LatLngBounds.Builder();
    builder.include(new LatLng(Double.valueOf(-12.1024174), Double.valueOf(-77.0262274)));
    builder.include(new LatLng(Double.valueOf(-12.1024637), Double.valueOf(-77.0242617)));
    LatLngBounds bounds = builder.build();
    return bounds.getCenter();
} 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-09-15T05:50:02.997

我使用片段在 Kotlin 中显示多个标记时遇到了同样的问题

首先声明一个标记列表

```
private lateinit var markers: MutableList<Marker> 
```

在 frament 的 oncreate 方法中初始化 this

```
override fun onCreateView(
    inflater: LayoutInflater,
    container: ViewGroup?,
    savedInstanceState: Bundle?
                         ): View? {
    //initialize markers list

    markers = mutableListOf()

    return inflater.inflate(R.layout.fragment_driver_map, container, false)
} 
```

在 OnMapReadyCallback 上将标记添加到标记列表

```
private val callback = OnMapReadyCallback { googleMap ->

    map = googleMap

    markers.add(
        map.addMarker(
            MarkerOptions().position(riderLatLng)
                .title("Driver")
                .snippet("Driver")
                .icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_RED))))

    markers.add(
        map.addMarker(
            MarkerOptions().position(driverLatLng)
                .title("Driver")
                .snippet("Driver")
                .icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_GREEN)))) 
```

仍在回调中

```
//create builder
    val builder = LatLngBounds.builder()

    //loop through the markers list
    for (marker in markers) {

        builder.include(marker.position)
    }
    //create a bound
    val bounds = builder.build()

    //set a 200 pixels padding from the edge of the screen
    val cu = CameraUpdateFactory.newLatLngBounds(bounds,200)

    //move and animate the camera
    map.moveCamera(cu)
    //animate camera by providing zoom and duration args, callBack set to null
    map.animateCamera(CameraUpdateFactory.zoomTo(10f), 2000, null) 
```

快乐的编码家伙

* * *

## 回答 #13

> 赞同：-3
> 
> 时间：2016-01-05T07:27:42.140

```
 //For adding a marker in Google map
        MarkerOptions mp = new MarkerOptions();
        mp.position(new LatLng(Double.parseDouble(latitude), Double.parseDouble(longitude)));
        mp.snippet(strAddress);
        map.addMarker(mp);

        try {

            b = new LatLngBounds.Builder();

            if (MapDetailsList.list != null && MapDetailsList.list.size() > 0) {

                for (int i = 0; i < MapDetailsList.list.size(); i++) {

                    b.include(new LatLng(Double.parseDouble(MapDetailsList.list.get(i).getLatitude()),
                            Double.parseDouble(MapDetailsList.list.get(i).getLongitude())));

                }
                LatLngBounds bounds = b.build();

                DisplayMetrics displayMetrics = getResources().getDisplayMetrics();
                int width = displayMetrics.widthPixels;
                int height = displayMetrics.heightPixels;

                // Change the padding as per needed
                CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, width-200, height-200, 5);
                // map.setCenter(bounds.getCenter());

                map.animateCamera(cu);

            }

        } catch (Exception e) {

        } 
```

[http://i64.tinypic.com/2qjybh4.png](http://i64.tinypic.com/2qjybh4.png)

[http://i63.tinypic.com/flzwus.png](http://i63.tinypic.com/flzwus.png)

[http://i63.tinypic.com/112g5fm.png](http://i63.tinypic.com/112g5fm.png)*

# php - PHPUnit & Behat; 补充还是替代？

> ID：14828218
> 
> 赞同：33
> 
> 时间：2013-02-12T08:17:55.703
> 
> 标签：php, phpunit, bdd, behat, mink

我一直在寻找 SO 和 Google，但我无法真正得到明确的答案。

PHPUnit 是一个单元测试框架，类似于 JUnit。我使用它，还与 Selenium-extension 结合使用进行功能测试。浏览时，我看到 Behat/Mink 不断被提及。但我不完全理解 Behat 是如何适应这里的。

使用 Behat，您可以以人类可读的格式编写场景。然后 Behat 可以将其转换为新项目的骨架类吗？但它是否也为单元测试提供了骨架类？您是使用 Behat 编写单元测试，还是使用 PHPUnit / SimpleTest 来编写单元测试？

但是，Behat/Mink 确实取代了 PHPUnit_Selenium-extension 进行功能测试？

您是仅将 Behat 用于新项目，还是也可以适应现有项目？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-08-10T18:17:29.150

我认为 Behat 是对 PHPunit 的*补充*。我的意思是通过使用 Behat 来测试行为、使用 PHPUnit 来测试代码来补充。使用 BDD/TDD，首先要根据用户故事编写测试。为了使测试通过，您通常会使用 TDD 编写几个 PHPUnit 测试来创建能够通过 BDD 测试的应用程序。

BDD 应该测试行为并且不知道应用程序的代码，例如实体/控制器/接口。当应用程序的行为相同时，您应该能够将整个应用程序换成另一个应用程序并且仍然通过所有测试。

TDD，除了你的想法之外，应该指导你的类结构和它们之间的交互。除此之外，他们证明你的方法做了他们应该做的事情，明确了意图，并且可以毫无畏惧地进行重构。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-02-12T11:20:51.243

是的，我认为 Behat 是 phpUnit 的替代品，既可用于一般代码测试，也可用于使用浏览器自动化进行功能测试。

对于一般测试，phpUnit 是一个更成熟的产品，而 Behat 专注于使用“BDD”方法（行为驱动设计）编写的测试。phpUnit 也有 BDD 特性，但 Behat 更倾向于这种风格。

由于我们讨论的是功能性浏览器测试而不是单元测试，因此您可能没有考虑它们具有的一些更强大的单元测试功能；您只想编写浏览器自动化。为此，您真的可以选择最适合您的两者中的任何一个。

有一些微妙的边缘情况，它们中的每一个都比另一个强，但在大多数情况下，它们都能够在各种浏览器上运行测试脚本。

我更喜欢 Behat/Mink，因为它更灵活；它可以支持多个浏览器自动化引擎，包括 Selenium 和 Sahi，这意味着如果您遇到一个问题，您可以将测试切换到另一个并继续。我们遇到了这种情况，试图让一些 Mink 测试脚本在 Selenium 中工作；切换到 Sahi 使其工作，并且只需要更改一行测试代码。

还值得补充的是，如果您不想编写 BDD 样式测试，则可以在没有 Behat 的情况下单独使用 Mink。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-08-13T19:55:41.527

这个答案似乎全错了。

phpunit 是单元测试，因此它遵守 TDD。

phpspec 和 behat 是功能测试，所以它是 BDD。

它们相互补充，一个完美的场景是一个项目，你同时拥有这两种类型的测试，但这可能仅限于能够负担得起的大型项目。

TDD 测试单个或几个类。BDD 跨应用程序中的多个模块测试完整功能。

# javascript - FIPS 批准的 VB 脚本和 Java 脚本中的随机数生成器

> ID：14828221
> 
> 赞同：0
> 
> 时间：2013-02-12T08:18:03.607
> 
> 标签：javascript, vbscript, prng, fips

我的项目是关于从客户端向服务器端发送一个随机数。由于我的随机数应该得到 FIPS 196 的批准，我想知道是否有一种方法可以在 VBscript 和 Javascript 中生成这个随机数。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T05:05:38.427

我找到了一个解决方案，它可以通过 GetRandom 方法使用 CAPICOM 对象来完成。似乎这个解决方案是在 VBscript 中生成随机数的最安全的方法。

# c# - 为什么字符串的索引器是只读的？

> ID：14828222
> 
> 赞同：2
> 
> 时间：2013-02-12T08:18:07.540
> 
> 标签：c#, .net, string

当我尝试分配给字符串中的单个字符时，`s[i] = c`出现编译器错误：

```
string s = "bcc";
s[0] = 'a'; // shows compile time error - indexer cannot be assigned - it's readonly 
```

但是，这有效：

```
s.ToCharArray()[0] = 'a'; 
```

我们还可以将字符串完全分配给`acc`：

```
s = "acc" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T08:20:30.097

这：

```
s="acc" 
```

...正在更改*变量*的值以引用不同的字符串。如果允许：

```
s[0] = 'a'; 
```

这不会改变变量的值——它必须改变所`s`引用的字符串的内容。字符串在 .NET 中是不可变的，因此这是不允许的。

区分更改变量的值和更改它所引用的对象中的数据很重要。

更改的内容`s.ToCharArray()`不会对字符串`s` *或*字符串做任何事情 - 它只会改变新创建的数组，该数组是字符串中数据的*副本*。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T08:21:17.517

来自[MSDN](http://msdn.microsoft.com/en-us/library/vstudio/362314fe.aspx)：

> 字符串是不可变的——字符串对象的内容在创建对象后不能更改，尽管语法使它看起来好像您可以这样做。例如，当您编写此代码时，编译器实际上会创建一个新的字符串对象来保存新的字符序列，并将该新对象分配给 b。然后字符串“h”就可以进行垃圾回收了。

`s.ToCharArray()`正在将字符串的内容复制到数组中。但是你不能修改这个字符串引用中的第一个字符——这个字符串本身永远不会改变。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-12T08:20:59.773

字符串在 .NET 中实现为写时复制（更准确地说：基于字符串池）和引用类型。您要做的是获取构成字符串的基础 char[] 并更改它。但是，由于`string`它是作为写时复制实现的，因此如果成功，您不仅会更改一个字符串，还会更改所有字符串。

例如，如果您的代码更改字符串会发生这种情况：（以说明不正确的假设）：

```
string s = "foo"; // create instance with foo
string t = s;     // copy reference, contents aren't changed
char[] ch = s.ToCharArray(); // attempt to access underlying contents
ch[0] = 'b';      // attempts to change the underlying contents
Console.WriteLine(t); // 'boo'? 
```

当你尝试它时，t 将是 'foo'，因为底层内容保持不变。ToCharArray 复制底层内容，从而保护底层内容，以便对同一字符串对象的其他引用不受影响。

这也是这样的代码是一种不好的做法的原因：

```
string s = "";
for (int i=0; i<10000; ++i) 
{
    // makes a new instance of the string, copies the contents 
    // and appends a single char... as you can see 10K times...
    s = s + "a"; 
} 
```

这就是字符串被实现为不可变的原因：保护对字符串的引用不被获取不同的内容。

另请参阅[此处](https://stackoverflow.com/questions/3577287/net-string-cache-pool)以了解字符串池的行为。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:20:39.383

不能`s[0]`直接比较`s.ToCharArray()[0]`。

随着`s[0]`您尝试访问 String 对象的第一个元素。

`s.ToCharArray()`返回一个字符数组，例如 c[N]。有了这个，您可以访问第 0 个定位元素。

并且随着`s = "pqr";`您更改对象 s 指向的字符串值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-12T08:37:50.417

这个答案不是为了解释这个`readonly`问题，而是如果你想修改`char`索引的基础。

```
 var s = "bcc".ToCharArray();
        s[0] = 'a';
        Console.WriteLine(s[0].ToString()); 
```

# java - Android：单击下一个按钮时显示第二天的日期并显示数组中的文本视图

> ID：14828223
> 
> 赞同：0
> 
> 时间：2013-02-12T08:18:14.603
> 
> 标签：java, android, string-formatting

我在原始文件夹中保存了一组引号，并有一个下一步按钮。第一个报价与今天的日期一起显示，但是当我单击下一步按钮时，下一行报价可见但日期相同。我需要获取第二天的日期以显示下一个报价等等.. 我该怎么做？

```
//calender code
    mdate = (TextView) findViewById(R.id.datetext);
    final Calendar c = Calendar.getInstance();
    yy = c.get(Calendar.YEAR);
    mm = c.get(Calendar.MONTH);
    dd = c.get(Calendar.DAY_OF_MONTH);

    // set current date into textview
    mdate.setText(new StringBuilder()
    // Month is 0 based, just add 1
            .append(dd).append(" ").append("-").append(mm + 1).append("-")
            .append(yy)); 
```

请帮我解决一下这个。非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:33:41.010

这是一个很好的方法：

```
private static SimpleDateFormat  dateFormat  = new SimpleDateFormat("dd -MM-yyyy", Locale.US);

int dayShift = n; // Positive for next days, negative for previous days
Calendar c = Calendar.getInstance();
if (dayShift  != 0) {
        c.add(Calendar.DAY_OF_YEAR, dayShift);
}
mdate.setText(dateFormat.format(c.getTime()); 
```

使用 DateFormat 类允许您轻松更改显示的日期，同时保持代码相同

# .net - 如何在vb中将图像添加到数据集中？

> ID：14828225
> 
> 赞同：1
> 
> 时间：2013-02-12T08:18:24.767
> 
> 标签：.net, vb.net, dataset

我在VB中有方法图像条形码我想将图像条形码保存到数据集中？在frm_Reporting中，我有水晶报表查看器并放入barcodeImage，当调用btnEncode时，创建图像条形码，然后必须插入数据集。

```
Private Sub Frm_Reporting_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        CrystalReportViewer1.ReportSource = Nothing
        Dim rptbarcode As RptPacking
        rptbarcode = New RptPacking
        Dim xrep As DataSet1
        xrep = New DataSet1
        Dim row As DataRow
        Dim MyImg As Image = Nothing
        Try
            btnEncode(MyImg, BarcodeText)
            row = xrep.Tables(0).NewRow
            xrep.Tables("DataTable1").Rows(0).SetAdded = MyImg
            CrystalReportViewer1.ReportSource = rptbarcode
            rptbarcode.SetDataSource(xrep)
            rptbarcode.PrintToPrinter(1, False, 0, 0)
        Catch ex As Exception
        End Try     
    End Sub

 Private Sub btnEncode(ByRef pic As Image, ByVal txtData As String)
        Dim W As Integer = 160
        Dim H As Integer = 110
        Dim b As BarcodeLib.Barcode
        Dim type As BarcodeLib.TYPE = BarcodeLib.TYPE.UNSPECIFIED
        type = BarcodeLib.TYPE.CODE128
        b = New BarcodeLib.Barcode()
        Try
            If type <> BarcodeLib.TYPE.UNSPECIFIED Then
                b.IncludeLabel = True

                '===== Encoding performed here ===== 
                pic = b.Encode(type, txtData, W, H)
                'CType(Frm, frm_submitentery).pic_img.Image = pic.Image
                '=================================== 

            End If

        Catch ex As Exception
            'try 
            MessageBox.Show(ex.Message)
            'catch 
        End Try

    End Sub 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-15T09:18:03.847

您可以将图像存储在虚拟目录中，然后使用 Files Stream 转换为字节数组

# javascript - Bootstrap typeahead 未使用更新程序回调设置字段的值

> ID：14828226
> 
> 赞同：0
> 
> 时间：2013-02-12T08:18:29.900
> 
> 标签：javascript, jquery, backbone.js, twitter-bootstrap, bootstrap-typeahead

我正在开发一个主干应用程序，其视图具有以下几行：

```
c.$(".itemName").typeahead({source:itemNames,updater:function(item){
c.$(".itemName").val(item);
}}); 
```

这不是设置文本字段的值。我已经控制台记录了 item 变量的值，并且它被正确记录。此外，我可以轻松访问诸如

`c.$(".itemname").attr('class')`

这意味着该元素是可访问的。只是不知道为什么它没有设置值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T11:09:04.537

updater 函数应该**返回**要使用的值。它不负责实际设置它。例如：

```
$(".itemName").typeahead({
    source: itemNames,
    updater: function(item) {
        // Opportunity to execute logic based on selected value
        // ...
        return item;
    }
}); 
```

这就是我从 bootstrap v2.3.0 文档中解释它的方式......

# c# - C# Win 形成用于在主窗口上显示许多视频的对象

> ID：14828227
> 
> 赞同：-2
> 
> 时间：2013-02-12T08:18:31.863
> 
> 标签：c#, .net, controls, panel

我有 15 个播放视频的 Windows.control 对象，我需要制作一个在 gui 上显示 15 个视频的图块。
视频被添加到面板中。存储这些控件以便将屏幕划分为 15 并同时呈现它们的最佳方式是什么？
数字 15 是预先定义的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:38:39.127

将它们添加到[`FlowLayoutPanel`](http://msdn.microsoft.com/en-gb/library/system.windows.forms.flowlayoutpanel.aspx).

您可以更改`FlowDirection`和`WrapContents`属性以按您想要的顺序布置面板。

# three.js - 三.js材质组合参数

> ID：14828229
> 
> 赞同：1
> 
> 时间：2013-02-12T08:18:41.777
> 
> 标签：three.js, webgl

是什么意思

> 结合：三.MixOperation

在这个材料定义中

```
"shiny"  :
        {
            m: new THREE.MeshPhongMaterial( { color: 0x550000, specular: 0x440000, envMap: reflectionCube, combine: THREE.MixOperation, reflectivity: 0.3, metal: true } ),
            h: 0, s: 0.9, v: 0.3
        }, 
```

这个例子在这里找到[mrdoob.github.com/three.js/examples/webgl_marching_cubes.html](http://mrdoob.github.com/three.js/examples/webgl_marching_cubes.html)

我搜索了很多文档但什么也没找到？如果有任何资源我可以阅读有关所有材料参数的信息，将会有很大帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:25:43.503

如果您使用`THREE.MixOperation`材质`combine`参数，则该`reflectivity`参数控制环境贴图颜色与材质颜色混合的程度。

```
gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity ); 
```

（在这种情况下，`specularStrength`= 1.0）

唯一的文档是[这些](http://mrdoob.github.io/three.js/docs/)，它们远未完成。

最好的办法是阅读代码。

三.js r.55

# php - PHP HTML DOM从标签中提取文本而不在嵌套标签中包含文本

> ID：14828244
> 
> 赞同：0
> 
> 时间：2013-02-12T08:19:30.877
> 
> 标签：php, dom

我有以下格式的html

```
<html>
    <body>
        <div>
            Hello
            <span>world1
            </span> 
            <span>world2
            </span> 
            <span>world3
            </span> 
        </div>
        <div>
            Hello
            <span>world1
            </span> 
            <span>world2
            </span> 
            <span>world3
            </span> 
        </div>
    </body>
</html> 
```

我需要从 div 中提取数据而不包括跨度内的文本..并将其存储在一个变量中，并在另一个变量中提取每个 div 内的第三个跨度内的文本。IE。在第一个变量中我需要你好。在第二个变量中，我需要 world3。怎么做 。每个 div 的 nodeValue 属性返回文本，包括跨度内的文本。如何避免这种情况

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:30:40.710

遍历`childNodes`div 并从所有作为 textNodes 的 childNodes 的 nodeValues 构建一个字符串（它们有一个`nodeType`of `3`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:47:04.717

我想你正在寻找这样的东西。[小提琴](http://jsfiddle.net/jpuZJ/)

```
document.getElementsByTagName("div")[0].childNodes[0].textContent;
document.getElementsByTagName("div")[0].childNodes[5].textContent; 
```

# apache - 如何让 apache 服务器验证中间证书中缺少 basicConstraints 扩展

> ID：14828245
> 
> 赞同：1
> 
> 时间：2013-02-12T08:19:31.693
> 
> 标签：apache, ssl, x509certificate, client-certificates, cac

我使用 apache 服务器作为 SSL 终止符进行相互 SSL 身份验证。

是否可以向 Apache 服务器添加一些配置以验证所有中间证书（客户端证书链）是否具有 basicConstraints 扩展。

我在使用带有 apache 的 Oracle Web 服务器插件时看到了这样的配置：

> **EnforceBasicConstraints** - 此参数关闭了 SSL 证书验证中存在的安全漏洞，其中具有无效 V3 CA 证书的证书链将不会被正确拒绝。这允许具有无效中间 CA 证书、以有效 CA 证书为根的证书链被信任。X509 V3 CA 证书需要包含 BasicConstraints 扩展，标记为 CA，并标记为关键扩展。此检查可防止伪装成中间 CA 证书的非 CA 证书。

问题是没有那个插件就可以有这样的功能吗？

谢谢

# html - div 上的 CSS 位置如何影响同级划分的位置？

> ID：14828251
> 
> 赞同：5
> 
> 时间：2013-02-12T08:20:06.320
> 
> 标签：html, css

我一直在浏览[Alistpart 上的 CSS Positions 文章](http://alistapart.com/article/css-positioning-101)。下面的片段引起了我的注意，无法理解背后的理论。

下面的 html/css 显示了两个盒子一个接一个。但是如果我将#box_1 的位置更改为绝对位置，那么#box_2 会与#box_1 重叠。

```
<!DOCTYPE html >
<html lang="en">
<head>
    <style>
        #box_1 { 
            position: relative;
            width: 200px;
            height: 200px;
            background: #ee3e64;
        }
        #box_2 { 
            position: absolute;
            width: 200px;
            height: 200px;
            background: #44accf;
        }
    </style>
</head>
<body>
    <div id="box_1"></div>
    <div id="box_2"></div>
</body>
</html> 
```

1.  另一个盒子 (box_1) 的位置如何影响不同/兄弟 div(box_2) 的位置。“绝对”不应该始终只对直接的非静态父级是绝对的吗？

2.  在上面的css中（在box_1中带有“position：relative;”），如果我添加“top：0;” 到 #box_2，然后 box_2 似乎再次重叠。为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T08:37:18.383

如果您不指定其*任何*`top`、或属性，则绝对定位元素将保持在其静态位置`right`，无论其任何祖先是否已定位。这就是为什么当您简单地将其设置为时似乎没有发生任何事情的原因——相反，它受到的影响就像您没有指定.`bottom``left``#box_2``position: absolute``#box_1``position: absolute`

但是，请注意，仅因为 1 在 2 之前才会产生`#box_1`影响；`#box_2`一旦您绝对定位`#box_2`它，它就会从流程中取出，并且任何跟随它的兄弟姐妹都会像`#box_2`不再存在一样流动。请参阅[此示例](http://jsfiddle.net/BoltClock/PUTAF)，其中我创建了一个`#box_3`与 相同的`#box_1`并将其添加到*之后* `#box_2`，其中`#box_3`重叠`#box_2`是因为 3 在正常流程中看不到 2；它只看到 1。

一旦设置`top: 0`为`#box_2`，它就知道它必须附加到视口的顶部（作为它的包含块，因为它的祖先都没有被定位）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:53:10.767

div 上的 CSS 位置不影响兄弟划分的位置，但会影响子元素。例如：

HTML：

```
 <div id="parent_1">
     <div id="child_1"></div>
     <div id="child_2"></div>
  </div> 
```

CSS：

```
 #parent_1{ 
        position: relative;
        width: 400px;
        height: 400px;
        background: gray;
    }
 #child_1 {
    position: absolute;
    left:20px;
    top:20px;
    width:40px; 
    background:yellow;
 }
#child_2 {
    position: absolute;
    right:20px;
    top:20px;
    width:40px; 
    background:blue;
 } 
```

现在**#parent_1**将创建一个 400*400 的框，**#child_1**将放置在父 div 内，并将位于距左侧 20px 和距顶部 20px 的位置。

# c# - C#中的WriteLine方法

> ID：14828268
> 
> 赞同：0
> 
> 时间：2013-02-12T08:21:06.180
> 
> 标签：c#, class, struct

{0} 是否代表第一个参数“分子”，{1} 是否代表传递给 writeLine 方法参数的第二个参数“分母”？

另一个问题是为什么方法说参数#1 和#2 是对象？整数是原始数据类型。

我来自 Java 背景，因此方法描述似乎令人困惑。

```
using System;

    struct Fraction
    {
        public int denominator;
        public int numerator;

        public void Print()
        {
            Console.WriteLine("{0}/{1}", numerator, denominator);
            Console.ReadKey();
        }

    }

    public class structTest
    {
        public static void Main()
        {
            Fraction f; 
            f.numerator = 8;
            f.denominator = 6;

            f.Print();
        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:25:46.507

第一个问题：是的。

第二个问题：

> 在 C# 原语（int、double 等）中，它们只是 .NET 定义类型的别名。这就是为什么它们不是正确的“原语”，因为它们实际上隐藏了标准的类和结构。

等等`int`的别名`Int32`也是如此。更多[在这里](http://www.dreamincode.net/forums/topic/217947-c%23-primitives-built-in-types/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T08:26:32.473

是的，你的参数的顺序是根据你的想法，因为[接受的](http://msdn.microsoft.com/en-us/library/828t9b9h.aspx)[重载`WriteLine``params object[]`](http://msdn.microsoft.com/en-us/library/828t9b9h.aspx)，这意味着一个对象实例数组，在特殊情况下，项目可以作为最后一个参数集合传递。

`WriteLine`接受`object`某些重载，在这种情况下，那是因为 A) 类型可以很好，而且最常见的是，不同并且*事先*不知道，并且没有泛型重载（同样，这可能会使事情复杂化多个类型），以及 B）它无论如何都会调用`ToString`对象，并且所有事物都是对象^([（即重要）](http://blogs.msdn.com/b/ericlippert/archive/2009/08/06/not-everything-derives-from-object.aspx))，并假定该方法的合理实现。

但是，有显式接受、、等的[方法的](http://msdn.microsoft.com/en-us/library/system.console.writeline.aspx)[重载。`WriteLine`](http://msdn.microsoft.com/en-us/library/system.console.writeline.aspx)`int``bool``decimal``double`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-12T08:33:44.733

1.  是的。

    {0} 是一个保留位置，用于填充第一个参数中的任何值，{1} 用于第二个参数，依此类推。项目清单

2.  在 C# 中，一切都是对象。有些是从结构创建的（例如 int、double 等），而许多其他是从类创建的。因此，如果您愿意，您实际上可以执行以下操作：

    ```
     int a = new int(); 
    ```

    你可以这样做：

    ```
     string aString = a.ToString(); 
    ```

# c# - 可以在 C# 中重写静态方法吗？

> ID：14828271
> 
> 赞同：47
> 
> 时间：2013-02-12T08:21:09.757
> 
> 标签：c#, overriding, static-methods, final

我被告知`static`方法是隐式的`final`，因此不能被覆盖。真的吗？

1.  有人可以举一个更好的覆盖静态方法的例子吗？

2.  如果静态方法只是类方法，那么拥有它们的真正用途是什么？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-02-12T08:30:10.560

(1) 静态方法不能被覆盖，但是可以使用'new'关键字隐藏它们。大多数覆盖方法意味着您引用基类型并希望调用派生方法。由于静态是类型的一部分，并且不受没有意义的 vtable 查找的影响。

例如静态不能做：

```
public class Foo { 
    public virtual void Bar() { ... }
}
public class Bar : Foo {
    public override void Bar() { ... }
}

// use:
Foo foo = new Bar(); // make an instance
foo.Bar(); // calls Bar::Bar 
```

因为静态不适用于实例，所以您始终明确指定 Foo.Bar 或 Bar.Bar。所以覆盖在这里没有意义（尝试在代码中表达它......）。

(2) 静态方法有不同的用法。例如，它在 Singleton 模式中用于获取类型的单个实例。另一个例子是“static void Main”，它是程序中的主要访问点。

基本上，只要您不想或不能在使用之前创建对象实例，就可以使用它们。例如，当静态方法创建对象时。

**[更新]**

一个简单的隐藏示例：

```
public class StaticTest
{
    public static void Foo() { Console.WriteLine("Foo 1"); }
    public static void Bar() { Console.WriteLine("Bar 1"); }
}

public class StaticTest2 : StaticTest
{
    public new static void Foo() { Console.WriteLine("Foo 2"); }
    public static void Some() { Foo(); Bar(); } // Will print Foo 2, Bar 1
}

public class TestStatic
{
    static void Main(string[] args)
    {
        StaticTest2.Foo();
        StaticTest2.Some();
        StaticTest.Foo();
        Console.ReadLine();
    }
} 
```

请注意，如果您制作课程`static`，则不能这样做。静态类必须派生自`object`.

The main difference between this and inheritance is that the compiler can determine at compile-time which method to call when using static. If you have instances of objects, you need to do this at runtime (which is called a vtable lookup).

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-12T08:27:08.487

好吧，您不能覆盖静态方法。静态方法不能是虚拟的，因为它与类的实例无关。

派生类中的“重写”方法实际上是一种新方法，与基类中定义的方法无关（因此使用了 new 关键字）。

理解这一点很重要：当类型从其他类型继承时，它们履行一个共同的契约，而静态类型不受任何契约的约束（从纯 OOP 的角度来看）。语言中没有技术方法可以将两种静态类型与“继承”契约联系在一起。如果您要在两个不同的地方“覆盖” Log 方法。

如果您考虑覆盖静态方法，那真的没有意义；为了进行虚拟调度，您需要一个对象的实际实例来检查。

静态方法也不能实现接口；如果这个类正在实现一个 IRolesService 接口，那么我认为该方法根本不应该是静态的。拥有实例方法是更好的设计，因此您可以在准备好时将 MockRoleService 换成真实的服务

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-12T08:24:31.910

您不会覆盖静态方法。你把它藏起来。有关更多信息，请参阅[此答案](https://stackoverflow.com/a/4196834/51)。

使用静态方法的一些原因：

1.  它们比实例方法[快一点。](https://stackoverflow.com/a/3016750/51)另请参阅此[msdn 文章](http://msdn.microsoft.com/en-us/library/ms973852.aspx)，它提供了性能数据来支持这一点（内联静态调用平均值 0.2 ns，静态调用平均值 6.1ns，内联实例调用平均值 1.1 ns，实例调用平均值 6.8 ns）
2.  写出来不那么冗长 - 不需要实例化一个类来获取它们（实例化也会影响性能）

# php - PHP 包括，下拉导航选择的问题

> ID：14828272
> 
> 赞同：0
> 
> 时间：2013-02-12T08:21:10.720
> 
> 标签：php, include

我有一个 PHP 包含用于我的导航。而且我想确保显示当前菜单链接，以便我有一个类`current-menu-item`。除下拉链接外，一切正常...

每个页面都有一个`<?php $current_page = "pageName"; ?>`

我有`<li class="<?php if($current_page == 'dev' || 'seo' || 'mobile' || 'social' || 'hosting') echo "current-menu-item";?>">`

`<li>`当您在任何子链接上时，在主链接上将显示为选中...但是当我尝试这种方式时，它在我网站上的每个页面上都显示为选中...

如果您需要参考，我的网站是 thwebco.com。

这是代码...

```
<ul id="nav" class="sf-menu">
                        <li class="<?php if($current_page == 'home') echo "current-menu-item";?>"><a href="index.php">Home<span class="subheader">Welcome</span></a></li>
                        <li class="<?php if($current_page == 'development' || 'seo' || 'mobile' || 'social' || 'hosting') echo "current-menu-item";?>"><a href="#">Services<span class="subheader">What we offer</span></a>
                            <ul>
                                <li><a href="development.php"><span> Web Design & Development</span></a></li>
                                <li><a href="seo.php"><span> Search Engine Optimization </span></a></li>
                                <li><a href="mobile.php"><span> Mobile </span></a></li>
                                <li><a href="social.php"><span> Social Media </span></a></li>
                                <li><a href="hosting.php"><span> Web Hosting & Email </span></a></li>
                            </ul>
                        </li>

                        <li><a href="#">Our Work <span class="subheader">See our work</span></a>
                        <ul>
                                <li class="<?php if($current_page == 'portfolio') echo "current-menu-item";?>"><a href="portfolio.php"><span>Portfolio </span></a></li>
                                <li class="<?php if($current_page == 'case') echo "current-menu-item";?>"><a href="case.php"><span>Case Studies </span></a></li>
                                </ul>
                                </li>
                        <li class="<?php if($current_page == 'about') echo "current-menu-item";?>"><a href="about.php">About Us<span class="subheader">Who we are</span></a>

                        </li>
                        <li class="<?php if($current_page == 'contact') echo "current-menu-item";?>"><a href="contact.php">Contact<span class="subheader">Get in touch</span></a></li>
                        <li class="<?php if($current_page == 'quote') echo "current-menu-item";?>"><a href="quote.php">Get A Quote<span class="subheader">Let us help</span></a></li>
                    </ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:31:53.717

这个 if 语句：

```
if($current_page == 'development' || 'seo' || 'mobile' || 'social' || 'hosting') 
```

没有必要这样 INVALID ，但你用错了。意思是`||`或，所以它本质上分裂了你的条件。**这是您当前状况的处理方式：**

```
if(
    $current_page == 'development' ||
    'seo' == true; ||
    'mobile' == true; ||
    'social' == true; ||
    'hosting' == true;
) 
```

因此，当然，由于 seo、移动、社交和托管不等于 false，它**总是**正确的。

执行您要执行的操作的最佳方法是创建一个具有可接受值的数组，然后使用 来检查该值[`in_array()`](http://php.net/manual/en/function.in-array.php)，如下所示：

```
$pages = Array("development","seo","mobile","social","hosting");
if(in_array($current_page,$pages); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:30:22.220

你的用法`if`不正确。如果其中一个`$current_page=='dev'`or `seo`，它的计算结果为真，并且非空字符串总是计算为真。

它应该是：

```
<?php if ($current_page == 'dev' || $current_page == 'seo' || $current_page == 'mobile' || $current_page == 'social' || $current_page == 'hosting') echo "current-menu-item"; ?> 
```

或者更简单：

```
<?php if (in_array($current_page, array('dev', 'seo', 'mobile', 'social', 'hosting')) echo "current-menu-item"; ?> 
```

# yii - Yii / Gii 模型代码生成添加方法到生成器

> ID：14828273
> 
> 赞同：1
> 
> 时间：2013-02-12T08:21:13.923
> 
> 标签：yii, code-generation, gii

我在网上浏览了一下，找不到很好的解释。

使用 Gii 我生成模型。我想知道如何让生成器也为我生成的所有模型添加自定义方法？我想添加一个方法，将“->queryAll()”的结果传递给它，并将它映射到我自己。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:46:58.387

你应该阅读这个：

[http://www.yiiframework.com/doc/guide/1.1/en/topics.gii#extending-gii](http://www.yiiframework.com/doc/guide/1.1/en/topics.gii#extending-gii)

> Gii 可以通过两种方式进行扩展：自定义现有代码生成器的代码模板，以及编写新的代码生成器。

但是为所有模型添加自定义方法的正确方法是扩展 CActiveRecord，并相应地修改 Gii 模板。

# delphi - TActionlist、OnUpdate、CPU 使用率高？

> ID：14828279
> 
> 赞同：0
> 
> 时间：2013-02-12T08:22:07.167
> 
> 标签：delphi, events, cpu-usage

我使用 TActionslists OnUpdate 事件来启用或禁用我的应用程序中的按钮。
但我注意到我的 CPU 使用了 25% 的能力。
当我删除事件触发的代码时，我的 cpu 使用率仍然保持 25%。
只有当我完全解开事件时，我的 cpu 才会以预期的 1% 运行。

似乎 OnUpdate 事件触发了很多次。
有没有办法防止这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:25:17.437

VCL 提供了[Application.ActionUpdateDelay](http://docwiki.embarcadero.com/Libraries/en/Vcl.Forms.TApplication.ActionUpdateDelay)来帮助解决这种情况。将其设置为非零值以强制在连续动作更新之间延迟。

但是，找出为什么您的操作会迫使无休止的重复 OnIdle 条件可能会更谨慎。如果您可以阻止它这样做，那么就不需要更新延迟。

# php - 肥皂客户端不在实时服务器上工作

> ID：14828281
> 
> 赞同：1
> 
> 时间：2013-02-12T08:22:11.863
> 
> 标签：php, json, web-services, soap-client

我正在使用肥皂客户端从 .asmx 方法获取数据。它在本地主机上运行良好，但在实时服务器上运行不正常。这是我的代码。

```
//turn off WSDP caching if not in a production environment
$ini = ini_set("soap.wsdl_cache_enabled","1");
xdebug_disable();
try {
    //instantiate the SOAP client
    $client = new SoapClient("http://ip_address/appName/common/TaskTrackingService.asmx?wsdl");
} catch (Exception $e) {
    exit("Fatal error: SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://ip_address/appName/common/TaskTrackingService.asmx?wsdl'");
}

//checking if object is created
if ($client) {
    //updating user in timings 
    //getting data from GetAllEmployeeIntimesByDay method from timesheet 
    $params->month = date('m');
    $params->year = date('Y');
    $params->day = date('d',strtotime('yesterday'));
    $result = $client->GetAllEmployeeIntimesByDay($params)->GetAllEmployeeIntimesByDayResult;
} 
```

# linq - SqlFunctions.StringConvert 和动态 linq

> ID：14828290
> 
> 赞同：1
> 
> 时间：2013-02-12T08:22:43.317
> 
> 标签：linq, dynamic

我有一个 Int64 字段，我想在我的 EF Dynamic Linq 查询中进行转换。这是因为我想使用 teh Contains 函数来检查 Int64 是否包含某个系列的数字。所以我使用 SqlFunctions.StringConvert 之类的

```
SqlFunctions.StringConvert(MyField).Contains("2012") 
```

动态库引发 ParseException：“SqlFunctions”类型中不存在适用的方法“StringConvert”。

我在动态库中更改了这个数组，以便定义 SqlFunctions：

```
static readonly Type[] predefinedTypes = {
        typeof(Object),
        ...
        typeof(Math),
        typeof(Convert),
        typeof(EntityFunctions), 
        typeof(SqlFunctions)
    }; 
```

奇怪的是：我还添加了 EntityFunctions，效果很好，例如：

```
EntityFunctions.TruncateTime(LastCommentDate) = @0 
```

更新： SqlFunctions 不支持 Int64：

```
public static string StringConvert(decimal? number);
public static string StringConvert(double? number);
public static string StringConvert(decimal? number, int? length);
public static string StringConvert(double? number, int? length);
public static string StringConvert(decimal? number, int? length, int? decimalArg);
public static string StringConvert(double? number, int? length, int? decimalArg); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-03T19:04:04.667

这是我使用 EF Dynamic Linq 查询扩展使 SqlFunctions.StringConvert 在我的项目中工作所做的工作。

当我遇到与您相同的问题时，这是我试图开始工作的代码行，但我的“属性”是 Int32 而不是 Int64。

```
query.Where("SqlFunctions.StringConvert(Property).Contains(\"12\")"); 
```

我在 CompareConversions 方法中添加了以下代码行

```
if (s == typeof (Int32) && t1 == typeof (Decimal?)) return 1; 
```

我猜你会想要添加如下一行来让你的代码工作

```
if (s == typeof (Int64) && t1 == typeof (Decimal?)) return 1; 
```

我知道这看起来像一个黑客，但问题是图书馆不能选择哪种方法

```
public static string StringConvert(decimal? number);
public static string StringConvert(double? number); 
```

更好，所以我强制它的手（以及具有相同签名的任何其他方法）通过使其使用 Int32 到 Decimal 的转换来表示表达式，或者在你的情况下是 Int64 到 Decimal 的转换。

这是完成的方法供参考

```
 private static int CompareConversions(Type s, Type t1, Type t2)
    {
        if (t1 == t2) return 0;
        if (s == t1) return 1;
        if (s == t2) return -1;
        bool t1t2 = IsCompatibleWith(t1, t2);
        bool t2t1 = IsCompatibleWith(t2, t1);
        if (t1t2 && !t2t1) return 1;
        if (t2t1 && !t1t2) return -1;
        if (IsSignedIntegralType(t1) && IsUnsignedIntegralType(t2)) return 1;
        if (IsSignedIntegralType(t2) && IsUnsignedIntegralType(t1)) return -1;
        // HACK: SqlFunctions.StringConvert - Force it to think the Decimal Signature
        // is better than the double for Int32
        if (s == typeof (Int32) && t1 == typeof (Decimal?)) return 1;
        return 0;
    } 
```

希望这可以帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-29T21:10:53.363

我认为首先将其转换为双精度（或十进制）会更容易，因为它们在[这里](https://stackoverflow.com/a/3292773/1343595)做的然后进行转换（你可能有溢出，因为这些浮点类型不能处理与 Int64 相同数量的值）

```
query.Where("SqlFunctions.StringConvert((double)Property).Contains(\"12\")"); 
```

# php - 为每个注册的用户制作一张表格（实用吗？）

> ID：14828291
> 
> 赞同：1
> 
> 时间：2013-02-12T08:22:48.577
> 
> 标签：php, mysql, database, database-design

我正在为我的 C# 应用程序开发身份验证系统，身份验证系统使用 PHP。它有用户，并且现在对一个人来说非常有效，比如我自己。我可以添加我自己的客户、设置他们的权限、更新我的程序以及做更多的事情。

但...

我希望它能够工作，这样我就可以让用户注册一个开发者帐户，他们可以从中控制自己的客户。但问题是，仅凭我的帐户，我就已经拥有三张桌子了。（客户、文件和全局）

那么我应该为每个客户制作一张全新的桌子吗？或者我应该把它们都放在一张大桌子上，用一列说明他们父开发者的 ID。

我真的希望这足够清楚......

如果您仍然感到困惑，这里有一些可能会有所帮助的图片（这是我的开发者帐户所需的三个表）

![](../Images/6bbdc1de06220d073ad5f48819b55e07.png)

* * *

![](../Images/200b6d1b9a1764bf9027b867b68fbd19.png)

* * *

![](../Images/760d0dfa2ce6803f1ae30a3dcbeb4d2b.png)

（别担心这些不是我的实际用户密码......我仍在网站上工作，现在都是示例内容）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:25:06.653

您应该将它们全部放在一个表中，并使用 ID 将它们链接到父级/您需要存储的任何其他信息。

如果您需要区分，您甚至可以有一个客户类型列。

无论哪种方式，为每个用户创建一个新表都不是正确的方法。

编辑：如果您担心桌子的大小，那就不要担心。只要您实施正确的[索引](https://www.google.co.uk/search?q=mysql%20indexing&oq=mysql%20indexing&aqs=chrome.0.57l2j60l4.1634&sourceid=chrome&ie=UTF-8)，那么访问此信息就不会成为问题。MySQL 可以处理表中的数百万条记录。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T08:25:18.897

“我希望它能够工作，这样我就可以让用户注册一个开发者帐户，他们可以从中控制自己的客户。”

所以，你有一对多的关系。

用户表...

还有一张客户表，他们有一个外键引用用户。

那是两张桌子。如果你认为你需要为每个用户创建新表，或者任何类似的想法，你几乎肯定是错的。

# spring - 如何创建具有多个状态的身份验证管理器

> ID：14828293
> 
> 赞同：-3
> 
> 时间：2013-02-12T08:22:51.080
> 
> 标签：spring, spring-security

如何使用数据库创建身份验证管理器？

users-by-username-query="SELECT a AS username, b AS password, userstatus AS enabled. 这个userstatus有多个值.0,1,2,3...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T11:01:02.327

使用 if 进行查询（假设：userstatus 0 被禁用，另一个被启用）：

```
SELECT a AS username, b AS password, if(userstatus=0,0,1) AS enabled 
```

你可以在里面添加另一个 if 语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:59:26.780

您的用户状态字段中的值代表什么？它不仅仅是一个二进制启用/禁用标志，但尚不清楚它的确切含义。

检查您是否可以将这些值映射到`UserDetails`接口的属性（启用、帐户过期、帐户锁定、凭据过期）。如果是这样，您只需`JdbcDaoImpl.loadUsersByUsername()`在子类中覆盖，以便它`User`根据`userstatus`数据库中的字段创建对象。然后将此自定义子类配置为`UserDetailsService`：

```
<authentication-manager>
    <authentication-provider user-service-ref='myUserDetailsService'/>
</authentication-manager>

<beans:bean id="myUserDetailsService" class="YourCustomJdbcDaoImpl">
    <beans:property name="dataSource" ref="dataSource"/>
</beans:bean> 
```

Spring Security 的其他组件将确保用户只有在启用、未锁定等情况下才能获得身份验证。

# symfony - Symfony2 应用程序从 app.php 和 app_dev.php 返回 500

> ID：14828294
> 
> 赞同：0
> 
> 时间：2013-02-12T08:22:51.880
> 
> 标签：symfony, web-deployment

我最近问了这个问题。让我的 symfony 应用程序的生产环境在我的服务器上运行。

它在我的 domain.com/dev/ 文件夹中工作。现在我正试图将其移至 domain.com/。

我首先将所有文件移至 domain.com/，这意味着该应用程序应该在 domain.com/web/ 上可用，但在 prod 和 dev 模式下，它都会返回 HTTP 500 错误代码。我尝试删除并清除缓存但没有结果。

会发生什么？我的服务器满足 Symfony 的所有要求（app/check.php 和 web/config.php）。

最后，我是否应该将应用程序向后移动一步，并将我的服务器配置为查找“web”文件夹作为 Web 根目录而不是“httpdocs”？

谢谢。

编辑：

错误日志给出了这个：

```
Failed opening required '/var/www/vhosts/mydomain.com/httpdocs/dev/web/../app/bootstrap.php.cache 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:58:56.043

你不应该把你的整个项目放在 httpdocs 下。只有 web 目录应该是公开的。

你运行作曲家安装了吗？`bootstrap.php.cache`由安装后处理程序之一生成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:39:46.590

我已经解决了我的问题。

我重新配置了我的服务器以使用我的 web 目录作为文档根目录，手动清除缓存，然后通过控制台使用 --env=prod 参数清除。已安装的资产，它可以完美地工作。:)

# perl - 有人知道服务“perlfiddle”吗？

> ID：14828295
> 
> 赞同：9
> 
> 时间：2013-02-12T08:22:53.483
> 
> 标签：perl

我找不到运行 Perl 脚本的服务，例如http : [//jsbin.com、http:](http://jsfiddle.net) [//jsfiddle.net、http](http://jsbin.com) : [//sqlfiddle.com、http](http://sqlfiddle.com) : [//phpfiddle.org、http](http://phpfiddle.org) : [//pythonfiddle.com](http://pythonfiddle.com)。有人知道 Perl 服务的链接吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T08:30:02.700

我已经非常成功地 使用了[http://ideone.com/ 。](http://ideone.com/)

我相信一些更彻底的搜索也会挖掘更多的地方。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-12T11:27:04.563

还有[http://perltuts.com](http://perltuts.com)，它有一些教程材料和一个评估器。

# java - Tomcat 7：更改 context.xml 时避免自动重启

> ID：14828296
> 
> 赞同：17
> 
> 时间：2013-02-12T08:22:58.593
> 
> 标签：java, tomcat

当我编辑`conf/context.xml`我的 Tomcat 7.0.34 的全局时，服务器似乎会自动重新启动。我想避免自动重启，服务器应该使用“旧”配置运行，直到我手动重启它。

所以我的问题是：当我**在 Tomcat 7.0.34 中****更改全局时，如何避免自动重启？`conf/context.xml`**

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-12T08:47:28.247

根据[Automatic Application Deployment](http://tomcat.apache.org/tomcat-7.0-doc/config/host.html#Automatic%20Application%20Deployment)，当检测到更改时将重新部署应用程序

> 更新上下文文件将触发应用程序的取消部署，并删除任何关联的工作目录。不会保留任何当前用户会话。下次自动部署程序检查更改时，将重新部署应用程序。

要停止此功能，`autodeploy`必须将标志设置为`false`：

> 此标志值指示 Tomcat 是否应在 Tomcat 运行时定期检查新的或更新的 Web 应用程序。如果为 true，Tomcat 会定期检查 appBase 和 $CATALINA_BASE/conf/[engine_name]/[host_name] 目录并部署任何新的 Web 应用程序或找到的上下文 XML 描述符。

或者，您可以`deployIgnore`使用正则表达式设置标志，定义应从自动部署中忽略哪些应用程序

# java - 当对象是数组时将对象转换为字符串（java）

> ID：14828301
> 
> 赞同：0
> 
> 时间：2013-02-12T08:23:32.373
> 
> 标签：java, arrays

当对象是这样的数组时，我想将对象转换为字符串

```
 public void convertValue(Object value) {

    if(value.getClass().isArray()){
        Arrays.deepToString(value.toArray());
    }

} 
```

我如何将值转换为“value.toArray()”？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-12T08:25:22.913

如果您*只想*处理对象数组（而不是原始数组），则可以转换为`Object[]`，由于数组差异：

```
if (value instanceof Object[]) {
    String text = Arrays.deepToString((Object[]) value);
    ...
} 
```

当然，对于您无论如何都无法调用的原始数组`deepToString`。

演示数组方差的示例代码：

```
public class Test {

    public static void main(String[] args) {
        Object x = new String[] { "Hello", "there" };
        Object[] array = (String[]) x;
        // Prints "class [Ljava.lang.String;"
        System.out.println(array.getClass()); 
    }
} 
```

如您所见，该`array`值仍然引用字符串数组 - 但`String[]`可以将引用分配给`Object[]`变量。

# c# - System.Net.Mail.SmtpException：操作已超时。使用 godaddy 托管的 asp.net 发送邮件代码中的错误

> ID：14828304
> 
> 赞同：13
> 
> 时间：2013-02-12T08:23:39.460
> 
> 标签：c#, asp.net, sendmail, smtpclient

我正在使用以下代码和平来使用 godaddy 托管发送邮件。

但它的投掷**`System.Net.Mail.SmtpException: The operation has timed out.`**

```
protected void sendmail()
    {
        var fromAddress = "frommailid@site.com";
        // any address where the email will be sending
        var toAddress = "to@gmail.com";
        //Password of your gmail address
        const string fromPassword = "mypassword";
        // Passing the values and make a email formate to display
        string subject = "HI test mail ";
        string body = "From: pro@e-hotelspro.com";
        // smtp settings
        var smtp = new System.Net.Mail.SmtpClient();
        {
            //smtp.Host = "relay-hosting.secureserver.net";
            smtp.Host = "smtpout.secureserver.net";
            smtp.Port = 80;
            smtp.EnableSsl = true;
            smtp.DeliveryMethod = System.Net.Mail.SmtpDeliveryMethod.Network;
            smtp.Credentials = new NetworkCredential(fromAddress, fromPassword);
            smtp.Timeout = 20000;
        }
        // Passing values to smtp object
        smtp.Send(fromAddress, toAddress, subject, body);
    } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T09:32:26.927

我认为这是 System.Net.Mail 著名的 SSL 问题

[System.Net.Mail 使用 SSL 对端口 465 进行身份验证](https://web.archive.org/web/20100215001207/http://blogs.msdn.com/webdav_101/archive/2008/06/02/system-net-mail-with-ssl-to-authenticate-against-port-465.aspx)

您应该使用一些外部库或等到 Microsoft 在框架版本中包含此功能

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2014-04-22T14:12:56.117

只是改变：

`smtp.Timeout = 20000;`

至

`smtp.Timeout = 2000000;`

# c# - C# 在 if 语句中声明变量

> ID：14828307
> 
> 赞同：9
> 
> 时间：2013-02-12T08:23:54.627
> 
> 标签：c#, variables, if-statement

我想用 C# 做这样的事情：

```
if (i == 0)
{
 button a = new button();
}
else
{
 TextBlock a = new TextBlock();
}
mainpage.children.add(a); 
```

但我得到一个错误

> 错误 1 ​​当前上下文中不存在名称“a”

有任何想法吗 ？

先感谢您 ！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-12T08:25:47.813

您需要一个共同的基类，它既来自`button`又`Textblock`派生，并且`if`如果要在完成后访问它，则需要在语句之外声明它`if`。`Control`也许？

```
Control a;
if (i == 0)
{
 a = new button();
}
else
{
 a = new TextBlock();
}
mainpage.children.add(a); 
```

不知道您正在使用什么特定的控制工具包（可能是 WPF？）我无法提供进一步的建议。但我会查看签名`Add`以获得线索 - 声明的参数是什么？

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-12T08:26:49.817

尝试`a`在 if/else 范围之外声明。像这样：

```
Control a;
if (i == 0)
{
  a = new button();
}
else
{
  a = new TextBlock();
}
mainpage.children.add(a); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-12T08:30:33.773

您需要在父范围内声明您的变量并为其提供一个公共基类。`System.Windows.Controls.TextBlock`和的通用基类`System.Windows.Controls.Button`可以是例如`System.Windows.UIElement`或`System.Windows.FrameworkElement`。所以你的代码看起来像这样：

```
UIElement a;
if (i == 0)
{
    a = new Button();
}
else
{
    a = new TextBlock();
}
mainpage.children.add(a); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-12T08:27:16.220

我在这里找到了关于在条件内声明和分配变量的讨论：http: [//social.msdn.microsoft.com/Forums/en-US/csharplanguage/thread/11a423f9-9fa5-4cd3-8a77-4fda530fbc67](http://social.msdn.microsoft.com/Forums/en-US/csharplanguage/thread/11a423f9-9fa5-4cd3-8a77-4fda530fbc67)

似乎它不能用 C# 完成，即使你可以用其他语言

# oracle - 在 Oracle 中查看触发器历史记录

> ID：14828308
> 
> 赞同：0
> 
> 时间：2013-02-12T08:23:53.960
> 
> 标签：oracle, triggers, oracle8

我想在数据库 Oracle 8 上创建多个触发器。即使我没有 DDL 触发器，我也可以查看触发器历史记录（即修改）吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:28:38.943

不。

不过，您应该有一个版本控制系统，您的脚本的每个修订版都将存储在其中。你有一个版本控制系统，不是吗？如果没有，就买一个；尽早。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-28T19:17:17.077

您可以使用我们编写的名为 DB History 的软件来做到这一点。如果您只想查看架构历史记录（ddl 触发器是架构的一部分），免费版本足以解决您的问题。
[https://www.seracode.com/Oracle](https://www.seracode.com/Oracle)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-12T08:31:37.893

试试下面的数据字典。

```
DESC user_triggers; 
```

# php - 使用 Jquery 在多选框的 onchange 中获取要选择的值

> ID：14828310
> 
> 赞同：1
> 
> 时间：2013-02-12T08:24:01.640
> 
> 标签：php, javascript, jquery, html

尝试获取值以更改`<select>`其他`<select>`标记值。我有两个名为vehicle_type 和part_type 的下拉列表。选择车辆类型和零件类型时我想要做什么需要更改零件名称下拉列表。它与车辆类型和零件类型组合不同。所以我写了以下代码。有人可以帮我找出这段代码的错误吗？我是 jquery 的新手

我的 html

```
<div>
                    <label>Vehicle Type</label>
                    <label>
                        <select name="vehicle_type" id="vehicle_type" required>
                          <option value='' disabled selected style='display:none;'>Select Vehicle</option>
                          <option value="Car">Car</option>
                          <option value="Van">Van</option>
                          <option value="SUV/4WD">SUV/4WD/CAB</option>
                          <option value="Truck">Truck</option>
                        </select>
                    </label>
                </div>
                <div>
                    <label>Part Type</label>
                    <label>
                        <select name="part_type" id="part_type" required>
                            <option value='' disabled selected style='display:none;'>Select Part Type</option>
                            <option value="Engine">Engine</option>
                            <option value="Body">Body</option>
                        </select>
                    </label>
                </div>
                <div>
                    <label>Part Name</label>
                    <label>
                        <select name="part_name" id="part_name" required>
                            <option value='' disabled selected style='display:none;'>Select Part Name</option>
                        </select>
                    </label>
                </div>

#dropdown.js
function setSelect(vehicle_type, part_type){
$.post("dropdown.php",{"vehicle_type":vehicle_type, "part_type":part_type},function(data){
    $("#part_name").html(data);
});
}

$(document).ready(function(){

$("#vehicle_type").live('change', function(){
    var vehicle = $(this+"option:selected").val();
});

$("#part_type").live('change', function(){
    var part = $(this+"option:selected").val();     
});

setSelect($("#vehicle_type option:selected").val(), $("#part_type option:selected").val());
}); 
```

我的 dropdown.php

```
<?php
if(isset($_POST['vehicle_type'])&&isset($_POST['part_type'])){

    $vehicle_type =$_POST['vehicle_type'];
    $part_type    =$_POST['part_type'];

    if(($vehicle_type=="Car")&&($part_type=="Engine")){
        $partname  = "<option value=\"Engine Head Block\">Engine Head Block</option>";
        $partname .= "<option value=\"Engine Complete W/O Gear Box\">Engine Complete W/O Gear Box</option>";
        $partname .= "<option value=\"Engine With A/T CVT Gear Box\">Engine With A/T CVT Gear Box</option>";
} elseif(($vehicle_type=="Car")&&($part_type=="Body")){
        $partname  = "<option value=\"Nose Pannel / Parts\">Nose Pannel / Parts</option>";
        $partname .= "<option value=\"Front Bumper With Fog Lamp L/R\">Front Bumper With Fog Lamp L/R</option>";
        $partname .= "<option value=\"Front Bumper Bracket Retainer L/R\">Front Bumper Bracket Retainer L/R</option>";
} 
```

请告诉我错误。我是 jquery 的新手

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:22:48.587

尝试这个：

```
<?php
if(isset($_POST['vehicle_type'])&&isset($_POST['part_type'])){

$vehicle_type =$_POST['vehicle_type'];
$part_type    =$_POST['part_type'];

if(($vehicle_type=="Car")&&($part_type=="Engine")){
    $partname  = "<option value=\"Engine Head Block\">Engine Head Block</option>";
    $partname .= "<option value=\"Engine Complete W/O Gear Box\">Engine Complete W/O Gear Box</option>";
    $partname .= "<option value=\"Engine With A/T CVT Gear Box\">Engine With A/T CVT Gear Box</option>";
 } elseif(($vehicle_type=="Car")&&($part_type=="Body")){
    $partname  = "<option value=\"Nose Pannel / Parts\">Nose Pannel / Parts</option>";
    $partname .= "<option value=\"Front Bumper With Fog Lamp L/R\">Front Bumper With Fog Lamp L/R</option>";
    $partname .= "<option value=\"Front Bumper Bracket Retainer L/R\">Front Bumper Bracket Retainer L/R</option>";
 }
 echo $partname;
}
?> 
```

无需更改 HTML。只需将 JS 更改为

```
<script type="text/javascript">

function setSelect(vehicle_type, part_type){
//alert(vehicle_type+part_type);
 $.post("dropdown.php",{"vehicle_type":vehicle_type, "part_type":part_type},function(data){
  $("#part_name").html(data);

 });
 }

 $(document).ready(function(){

 $("#vehicle_type").change(function(){
var vehicle = $("option:selected",this).val();

 });

 $("#part_type").change(function(){
 var part = $("option:selected",this).val();   
 setSelect($("#vehicle_type option:selected").val(), $("#part_type option:selected").val());
 });

  });
</script> 
```

# iphone - 使用 xcode 和 tablecells 登录表单

> ID：14828313
> 
> 赞同：0
> 
> 时间：2013-02-12T08:24:14.337
> 
> 标签：iphone, ios, xcode, uitableview

我知道有与此类似的问题，但由于我的方法不同，我将继续询问。我有一个 tableview 控制器，我打算将其用作我的应用程序的登录表单。它应该由两部分组成；第一部分有两个表格单元；第一行是用户名文本字段，第二行是密码文本字段，第二部分将只有一行用作登录按钮。我已经能够实现用户名和密码部分，但由于第二行只有一行，所以实现它有点令人困惑。这是我的代码示例；

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
return 2;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
return 2;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"Cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil)
{
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

    cell.backgroundColor = [UIColor clearColor];
    cell.selectionStyle = UITableViewCellSelectionStyleNone;

}
if ([indexPath section] == 0)
{ // Email & Password Section
    if ([indexPath row] == 0)
    { // Email
        cell.textLabel.text = @"Username";

    }
    else
    {
        cell.textLabel.text = @"Password";
    }
}

if ([indexPath section] == 1)
{
    cell.textLabel.textAlignment = NSTextAlignmentCenter;
    cell.textLabel.text = @"Sign In to App";
}
return cell; 
```

}

第二部分产生两行，它应该只有一个，请帮助谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:27:49.777

该函数`- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section`始终返回 2，因此每个部分将有两行。您应该将逻辑放入函数中以获取所需的行数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T08:48:41.913

请使用此代码 -

```
-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    if (section==0) {
         return 2;
    }
    else
    {
         return 1;
    }  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:29:34.803

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Foobar"];
    if (cell == nil) 
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"Foobar"];

        cell.selectionStyle = UITableViewCellSelectionStyleBlue;
    }

    if (indexPath.row == 0 && indexPath.section == 0)
    {
        // create and add your userName TextFierld in cell.contentView;
    }
    if (indexPath.row == 1 && indexPath.section == 0)
    {
        // create and add your Password TextFierld in cell.contentView;
    }
    if (indexPath.row == 0 && indexPath.section == 1)
    {
        // create and add your Login UIButton in cell.contentView;
    }
} 
```

# ruby-on-rails - 是否可以将 joomla/wordpress 与 ruby on rails 集成？

> ID：14828315
> 
> 赞同：2
> 
> 时间：2013-02-12T08:24:18.377
> 
> 标签：ruby-on-rails, ruby-on-rails-3, wordpress, joomla, content-management-system

是否可以将 joomla/wordpress 与 ruby​​ on rails 集成？如果没有，谁能建议我一些用于 ruby​​ on rails 的 CMS 工具？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:28:08.257

这些概念是不同的：

*   Joomla 和 Wordpress 是 PHP 中的 CMS 框架

*   Ruby-on-Rails 是 Ruby 中的 Web 应用程序框架

Ruby-on-Rails 中流行的 CMS 有：

*   [http://locomotivecms.com/](http://locomotivecms.com/)

*   [http://refinerycms.com/](http://refinerycms.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-07T09:52:31.103

如果您对具有编辑-审核-批准流程的 CMS 感兴趣，可以查看[browserCMS](http://www.browsercms.org/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-26T12:34:27.570

您的 ruby​​ on rails Api 可以使用一些预定义的方法与 wordpress 应用程序通信，WP 中提供的方法可用于以 json 格式获取 api 的数据。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-12T08:27:33.220

关于集成 - 不确定它是否存在。关于 CMS - 试试炼油厂 CMS - 很简单，可以自己扩展。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-21T14:06:19.480

对的，这是可能的。[您可以使用ruby​​press](https://github.com/zachfeldman/rubypress) gem来实现这一点。该 gem 为您提供了 XML RPC API 的接口。如果您想上传特色图片，请参考我[的](https://stackoverflow.com/a/30367039/3962760)stackoverflow 答案。

# wordpress - wordpress：在 ubuntu 的开发版本中禁用 ftp

> ID：14828321
> 
> 赞同：0
> 
> 时间：2013-02-12T08:24:55.270
> 
> 标签：wordpress, ubuntu, plugins, ftp

我运行自己的 apache 和 php 进行开发，并安装了一个 Wordpress 博客，但是当我尝试从管理员添加插件时，它要求访问 FTP。我不使用 FTP，也不想使用。

`sudo apt-get install libssh2-php`我为 PHP ( )安装了 ssh 扩展

但它仍然在询问 FTP 详细信息。

请帮助我摆脱 2 小时的挣扎。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:27:24.343

允许网络服务器直接写入文件系统（`chown -R www-data wordpress`），如果它可以直接写入，它不会要求 FTP 凭据。

# jquery - 如何更好地创造新元素？

> ID：14828327
> 
> 赞同：3
> 
> 时间：2013-02-12T08:25:09.217
> 
> 标签：jquery

1.  `jQuery('body').append('<div id="my-div" style="background: #fff">my text</div>');`
2.  `jQuery('<div/>').attr('id', 'my-div').css('background', '#fff').html('my text');`
3.  `jQuery('<div/>', {id: 'my-div', html: 'my text', css: {background: '#fff'}});`

那么最好的方法是什么？可能你有别的东西吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-12T08:26:50.347

第三种解决方案是最简洁、最容易阅读和扩展的，并且通常被认为是最干净的，尽管不需要迭代属性的第二种解决方案可能会快一点。

第一个比较慢，因为它要求浏览器解析 HTML（也因为它是唯一将元素添加到 DOM 的，正如 Jan 所注意到的）。

这是性能测试：http: [//jsperf.com/add-element](http://jsperf.com/add-element)

但事实上，你可以为所欲为。即使是速度差异在这里也很少重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:28:07.860

我会使用：

```
jQuery('<div/>').attr({'id': 'my-div',
                       'class': 'my-class'})
                .css({'background': '#fff',
                      'color':'#000'})
                .html('my text'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:29:02.530

我认为nr.3

1.) 如果要更改或访问 div，则必须在追加后调用选择器！

2.) 很多方法调用，但遍及 jquery 定义

3.）最快的方法，一个方法调用

你忘了`jQuery('body').append(yourGeneratedDiv);`在 2.) 和 3.) 解决方案之后打电话

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:45:18.487

这是我的意见。如果错了，请纠正我。例如，如果我得到完整的 HTML 字符串，我会使用第一个，因为它会更快。例如，如果我从不同的来源获取元素配置，例如你可以说像 MVC 中的模型，你实际上是从中构造元素，那么第二第三方法很方便。第二种和第三种方法几乎相同。在第二种方法中，您只是使用链接，但它会使事情变得更脏。这比在第一种方法中仅附加 HTML 慢得多。第三种方法将遍历传递对象的所有属性并构造相同的。但是如果你想使用更简洁的 JavaScript 来做同样的事情，这里是代码

```
var div = document.createElement('div');
div.innerHTML = "Your HTML Content";
div.id = "someID";
div.cssText = "Your CSS Code" // or you can use below way
var divStyle = div.style;
divStyle['background-color'] = "#CCC" // Like this
document.getElementById('parentDIV').appendChild(div); 
```

[这](http://jsperf.com/native-appendchild-vs-jquery-append/4)是jquery方式和native方式之间的速度比较
但是再次，

如果您要即时添加许多小部件，我的建议是根据配置创建 HTML 内容，并且`innerHTML`每次使用它都比 appendChild 快得多。我已经测试并观察到了这一点。

我的建议是请在实际上不需要的时候避免使用 jQuery，我同意它曾经是强大的 DOM 库，但是在实际上不需要它的地方应用它会降低你的性能。

# php - Angular.js，在表单中重复并提交 POST 值

> ID：14828331
> 
> 赞同：0
> 
> 时间：2013-02-12T08:25:17.287
> 
> 标签：php, angularjs

我对 Angular.js 还是很陌生，正在尝试弄清楚如何从提交的表单中获取数据。但是这些字段是 ng-repeat 的一部分。在我使用 ajaxSubmitButton 提交到只显示帖子值的 php 服务器端脚本时，它只显示最后一个输入字段......如果这有任何意义的话。这是表单代码：

```
<form class="form">
<div id="client-form" ng:controller="ClientForm">
  <div class="client" ng:repeat="client in form.clients">
    <div class="row">
      <input type="text" name="client.name" size="80" />
    </div>
  </div>

<div>
    <?php echo  CHtml::ajaxSubmitButton(
                    'Submit',
                    CHtml::normalizeUrl(array('client/create.php')),
                    array(
                        'success'=>'function(data){
                            alert("success:"+data);
                        }',
                    )
                ); ?>
</div> 
```

JavaScript如下：

```
<script src="'/js/angular.min.js'; ?>" ng:autobind></script>
<script>
function ClientForm(){
  this.form = {
    clients : [
      { name: 'test1', },
      { name: 'test2', },
      { name: 'test3', },
    ]
  };

}
</script> 
```

PHP 脚本非常简单：

```
<?php
    print_r($_POST);
?> 
```

ajaxSubmitButton 调用中的警报返回以下内容：

```
success:Array
(
  [client]=>test3
) 
```

如您所见，它仅返回最后一个输入文本字段的值。

我敢肯定我在这里做错了什么，但似乎看不到。任何指导都会很棒。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T13:28:44.193

感谢 IRC for Yii 上的某个人，我设法找到了答案 - 不记得你的名字，但谢谢！基本上我必须将字段的名称属性更改为数组。

```
<input name="client[name][]" value="{{client.name}}" /> 
```

这现在非常适用于文本字段。但是对于选择下拉列表，它不再选择预定义的值。

```
<form class="form">
<div id="client-form" ng:controller="ClientForm">
  <div class="client" ng:repeat="client in form.clients">
    <div class="row">
      <input name="client[name][]" value="{{client.name}}" /><input name="client[id][]" value="{{client.id}}" />
      <?php
        echo CHtml::dropDownList('client[select][]', '{{client.select}}', CHtml::listData(Region::model()->findAll(array('order' => 'name')), 'id', 'name'), array('empty' => 'Select a Region'));
      ?>{{client.id}}
    </div>
  </div>

<div> 
```

Javascript：

```
<script src="<?php echo Yii::app()->baseUrl . '/js/angular.min.js'; ?>" ng:autobind></script>
<script>
function ClientForm(){
  this.form = {
    clients : [
      { name: 'test1', id:'1', select:'1'},
      { name: 'test2', id:'2', select:'2'},
      { name: 'test3', id:'3', select:'3'},
    ]
  };

}
</script> 
```

知道如何确保我的选择列表现在已预先填充吗？

谢谢。

# jsf - dataList 中的 Commandlink 不起作用

> ID：14828335
> 
> 赞同：1
> 
> 时间：2013-02-12T08:25:23.853
> 
> 标签：jsf, primefaces, datalist, commandlink

```
 <h:form id="myform">
                    <h:panelGrid columns="1" cellpadding="10">
                        <p:selectOneMenu id="suburbs" value="#{cityBean.cityName}" style="width: 200px" >  
                            <f:selectItems value="#{cityBean.cityNames}" style="width: 200px"/> 
                            <p:ajax update="@form"  
                                    listener="#{cityBean.handleCityChange}" />
                        </p:selectOneMenu>

                        <p:dataTable   style="padding: 20px"  value="#{cityBean.getSchoolList()}" var="school" id="schools"  >  
                            <f:facet name="header">  
                                Okullar 
                            </f:facet> 
                            <p:column>
                                <p:commandLink async="false" process="@all"  value="#{school.schoolName}"  update=":tabv"  title="View Detail" action="#{cityBean.schoolAction(school.schoolId)}"/> 
                            </p:column>
                            <br></br>
                            <br></br>
                        </p:dataTable> 

                    </h:panelGrid>
                </h:form> 
```

打开第一页时，数据列表中有 3 个学校，这三个链接都在工作。当我选择另一个有 5 所学校的城市时，只有三个链接在工作，两个不工作。这个问题有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T13:45:32.970

您缺少`rowKey`< 组件中的属性，`p:dataTable>`因此我假设您使用的是 PrimeFaces 的早期版本，例如 2.2 版。

旧版本的 primefaces 存在已知错误，其中从 dataTable 中调用的 ajax 事件无法正确更新页面内容。

[http://blog.primefaces.org/?p=2119](http://blog.primefaces.org/?p=2119)

然而，从根本上说，问题可能比这更简单：

```
<p:commandLink ... update=":tabv" ... /> 
```

你有这个 commandLink 组件更新你从未提供过代码的 id。如果这里没有其他问题，就不可能说。同时，我建议您尝试使用 Javascript 在 dataTable 之外的 commandLink 或 commandButton 中调用点击事件，看看是否能解决您的问题。如果没有，那么您应该考虑升级到更新版本的 PrimeFaces。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-02-07T14:23:59.110

我在使用 dataList 时遇到了同样的问题。这有助于：

```
<p:dataList type="definition"...
    <f:facet name="description">
    ... 
```

# html - 剑道ui移动数据图标不显示图像

> ID：14828338
> 
> 赞同：3
> 
> 时间：2013-02-12T08:25:37.470
> 
> 标签：html, mobile, kendo-ui

这是我的代码。

```
<div data-role="layout" data-id="main-layout">`enter code here`
    <div data-role="footer"> <div data-role="tabstrip"><a data-icon="home" href="#home">Home</a> 
```

设置

这里数据图标不起作用。我的意思是数据图标没有显示属性没有显示任何图像。有什么建议么 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-02T00:08:11.720

[这篇文章](http://docs.telerik.com/kendo-ui/getting-started/mobile/icons#custom-icons-in-wp8)可能会有所帮助。它详细介绍了在移动应用程序中使用字体图标，这就是您正在做的事情。我不知道您正在测试什么移动设备（如果有的话），但文章指出它们不能在 Window Phone 8 上运行。当通过开发人员工具模拟 WP8 时，它们在 IE11 桌面上似乎工作得很好。对于 WM8，您必须使用常规的旧图像图标而不是字体图标。同样，这是根据文章。我自己没有在 WP8 设备上进行过测试。

# grails - 在grails中的字符串内插入变量

> ID：14828342
> 
> 赞同：2
> 
> 时间：2013-02-12T08:25:56.227
> 
> 标签：grails, gsp, string-interpolation

假设我有一个字符串以格式保存到数据库中的域属性中

```
 "This variable needs to be interpolated: ${variable}." 
```

从控制器，我传递这个变量的值，例如，`"FooBar"`。然后在 GSP 中，如果我做某事，页面。像

```
<%
    def testVar = ${MyDomainObj?.get(1)?.myProperty}
%>
variable is: ${variable}
variable is: ${testVar} 
```

我得到如下输出：

```
variable is: FooBar
variable is: "This variable needs to be interpolated: ${variable}." 
```

看到直接从数据库返回的 ${variable} 没有被插值。需要做什么才能获得保存在数据库实例中的表达式 ${variable} 的正确插值形式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:41:27.190

1.  简而言之：如果用户有权访问该数据库记录，则最好不要。您将允许在应用程序中执行任意代码。好吧，它的执行上下文将受到您提供的变量[Binding](http://groovy.codehaus.org/api/groovy/lang/Binding.html)的限制，但无论如何这将是一个具有很多方法的域对象。

2.  如果您确定它是安全的，则需要解释该字符串。[GStringTemplateEngine](http://groovy.codehaus.org/gapi/groovy/text/GStringTemplateEngine.html)有一个完整的例子。

或者，[Eval](http://groovy.codehaus.org/api/groovy/util/Eval.html)类可能会满足您的需求——尽管它不接受超过 3 个名称为 x、y、z 的参数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T08:41:59.300

试试[Groovy 模板](http://groovy.codehaus.org/Groovy+Templates)。

您可以像现在一样将字符串留在域中。要将变量绑定到字符串，您需要一个实例并`groovy.text.SimpleTemplateEngine`调用它。`createTemplateEngine``make`

```
import groovy.text.SimpleTemplateEngine
// ...
def engine = new SimpleTemplateEngine()
def binding = ["variable": variable]
def testVar = engine.createTemplate(MyDomainObj?.get(1)?.myProperty).make(binding) 
```

您的输出将如预期的那样：

```
variable is: FooBar
variable is: "This variable needs to be interpolated: FooBar." 
```

# mysql - 如何在 MySQL 中创建嵌套 SQL 查询？

> ID：14828356
> 
> 赞同：1
> 
> 时间：2013-02-12T08:27:12.920
> 
> 标签：mysql, tsql, select, nested

在编写以下查询时，它抱怨“so.id”列是未知的！下面的查询在 MS SQL 中可以正常工作，但在 MySQL 中不行？如何在 MySQL 中编写嵌套的 select 语句？

它的等价物是什么？

```
 select so.*  
from smart_objects as so
    inner join (
        SELECT  st.objectid, st.issueid
        FROM smart_targets as st            
        WHERE st.issueid != 0
            AND
            (   (st.objectid = so.id)
                OR 
                (               
                st.objectid in (
                    SELECT sor.parent 
                    FROM smart_objectrelations as sor       
                    WHERE sor.child = so.id)
                )
            )) as soi
    on soi.objectid = so.id
where so.id < 100; 
```

我基本上需要内部加入嵌套的 Select SQL。我的select语句比上面的更复杂，上面只是解释嵌套表的简化版本。

我还尝试了另一个建议：

```
select so.*  
    from smart_objects as so
        inner join (
            SELECT  st.objectid, st.issueid
            FROM smart_targets as st, smart_objects as so           
            WHERE st.issueid != 0
                AND
                (   (st.objectid = so.id)
                    OR 
                    (               
                    st.objectid in (
                        SELECT sor.parent 
                        FROM smart_objectrelations as sor       
                        WHERE sor.child = so.id)
                    )
                )) as soi
        on soi.objectid = so.id
    where so.id < 100; 
```

上面的代码进入了一个永无止境的循环，而我只是想让嵌套的 sql 为父级的每一行运行。

更新了答案：

您如何简化以下查询？

```
select so.* 
from smart_objects as so
    inner join (
        SELECT  st.objectid, st.issueid
        FROM smart_targets as st, smart_objects as so           
        WHERE st.objectid = so.id
            and st.issueid != 0
            AND
            (   (st.objectid = so.id)
                OR 
                (               
                st.objectid in (
                    SELECT sor.parent 
                    FROM smart_objectrelations as sor, smart_objects as so      
                    WHERE sor.child = so.id)
                )
            )
        ) as soi
    on soi.objectid = so.id 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:31:08.767

试试这个：我想这应该可行

```
 select so.*  
    from smart_objects as so
    inner join (SELECT  st.objectid, st.issueid FROM smart_targets as st,smart_objects as so          
        WHERE st.objectid = so.id) as soi
    on soi.objectid = so.id 
```

# php - 以无人身份运行 wkhtmltopdf (qt) 时出现 ATSFontGetFileReference 错误

> ID：14828368
> 
> 赞同：1
> 
> 时间：2013-02-12T08:27:58.353
> 
> 标签：php, qt, fonts, wkhtmltopdf

我正在使用基于 Qt 的[wkhtmltopdf](http://code.google.com/p/wkhtmltopdf/)来生成本地网页的 PDF 版本。到目前为止，当我直接从命令行运行它时，它完全符合我的需要。例如，这有效：

`wkhtmltopdf http://localhost/~acobster/foo/?render=1 ~/Desktop/foo.pdf`

但是，当我尝试从 PHP 脚本调用它时，它会失败。它似乎与运行 as 有关`nobody`，因为

`sudo -u nobody wkhtmltopdf http://localhost/~acobster/foo/?render=1 ~/Desktop/foo.pdf`

导致它吐出这个错误大约一百次：

> wkhtmltopdf[45642]：ATSFontGetFileReference 失败：错误 -120。Qt：内部：-108：错误 ATSUMeasureTextImage 文本/qfontengine_mac.mm：1136

我相信它抱怨无法呈现我在页面内的 CSS 字体系列规则中指定的字体“Palatino”。但即使我用 Times 替换 Palatino 并再次以无人身份运行，我也会得到：

```
QPainter::begin(): Returned false 
```

为什么我能以普通用户的身份处理这种字体，但不能以 身份处理`nobody`？Qt 有什么东西不能很好地与那个用户一起玩吗？

# android - 三星 Galaxy S2 ICS 上的 Android 滚轮

> ID：14828369
> 
> 赞同：0
> 
> 时间：2013-02-12T08:28:06.353
> 
> 标签：android, galaxy, android-wheel

在我们的应用程序中，我们使用 Android Wheel 库。问题出在 Galaxy SII 上。滚轮只有在用户触摸它时才起作用，将手指移到侧面（离开滚轮）然后向上或向下滚动。有没有人也有这个问题和可能的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:41:36.320

这是 kankan android-wheel 库的错误。在第 611 行的 WheelView.java 中，将 switch 语句更改为以下内容：

```
switch (event.getAction()) {
    case MotionEvent.ACTION_DOWN: //added to fix problem
    case MotionEvent.ACTION_MOVE:
        if (getParent() != null) {
            getParent().requestDisallowInterceptTouchEvent(true);
    }
    break;

    case MotionEvent.ACTION_UP:
        if (getParent() != null) { //added to fix problem, this may be uneeded
            getParent().requestDisallowInterceptTouchEvent(false);
        }

    if (!isScrollingPerformed) {
        int distance = (int) event.getY() - getHeight() / 2;
        if (distance > 0) {
            distance += getItemHeight() / 2;
        } else {
                distance -= getItemHeight() / 2;
        }
        int items = distance / getItemHeight();
        if (items != 0 && isValidItemIndex(currentItem + items)) {
                notifyClickListenersAboutClick(currentItem + items);
            }
    }
    break;
} 
```

# ember.js - EmberJs：在 Handlebars-helper 中渲染模板

> ID：14828372
> 
> 赞同：1
> 
> 时间：2013-02-12T08:28:09.793
> 
> 标签：ember.js, handlebars.js, helpers

我有这种情况，我将模板名称存储在一个变量中。我注意到，如果你有例如

```
var config = { view: "PeopleView", .... } ; 
```

你做不到的

```
{{view App[config.view]}} 
```

如果这是可能的，我仍然对解决方案感兴趣！无论如何，我决定使用 Handlebars 助手来解决这个问题：

```
{{setVariableView config}}

...

Ember.Handlebars.registerBoundHelper('setVariableView', function(value, options) {
    return App[value.view].create(value) ; // <-- this doesn't work :)
}) ; 
```

此时我不知道如何调用编译好的 PeopleView ？有什么建议么 ？

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:50:15.633

首先，您需要创建配置对象，就像您所做的那样：

```
App.config = Ember.Object.create({ view: 'App.MyView' }); 
```

然后你想注册你的助手，你已经完成了，但它需要稍微修改一下，因为`append`当你采用这种方法时需要手动编辑视图：

```
Ember.Handlebars.registerBoundHelper('setVariableView', function(value, options) {
    var view = eval(value.view).create();
    view.append();
}); 
```

现在你可以将配置文件传递给你的`setVariableView`助手，它会渲染传入你的配置的视图：

```
{{setVariableView App.config}} 
```

唯一关心的是`eval`. 也许是清晨没有帮助，但我现在想不出更好的选择。

# objective-c - 不支持 JSON 序列化目标 c

> ID：14828373
> 
> 赞同：0
> 
> 时间：2013-02-12T08:28:11.853
> 
> 标签：objective-c, json, nsdictionary, json-framework

当我将 Dictionary 与对象数组一起使用时，出现以下错误：

```
NSMutableDictionary *jsonDict=[[NSMutableDictionary alloc] init];
[jsonDict setObject:checkMarkPresetRecipientsArray forKey:@"Names"];
[jsonDict setObject:checkMarkDocumentGroupNameArray forKey:@"Address"];
json =  [jsonDict JSONFragment]; 
```

错误：JSONFragment 失败。错误跟踪是：( "Error Domain=org.brautaset.JSON.ErrorDomain Code=1 \"DocumentType 不支持 JSON 序列化\" UserInfo=0xb5cc270 {NSLocalizedDescription=DocumentType 不支持 JSON 序列化}", "Error Domain=org. brautaset.JSON.ErrorDomain Code=1 \"Unsupported value for key DocumentTypes in object\" UserInfo=0xb580e60 {NSUnderlyingError=0xb585320 \"JSON serialization not supported for DocumentType\", NSLocalizedDescription=Unsupported value for key DocumentTypes in object}" )

但没有得到相同的错误：

```
NSMutableDictionary *jsonDict=[[NSMutableDictionary alloc] initWithObjectsAndKeys:@"Nitesh",@"Name", @"Balaghat",@"Address",nil];
    NSString *json=[jsonDict JSONRepresentation];
    NSLog(@"%@",json); 
```

上面给了我正确的 JSON 表示。

我做错了什么？任何人都可以在上面帮助我....

实际上我的数组包含核心数据类对象，它不支持 JSON 表示，所以我通过实现进行了更改，现在它工作正常。如果有任何方法可以更改 JSON 中的 coredata 类对象表示，请更新我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T13:32:31.007

谢谢@Abezern @graver @iPatel

实际上我的数组包含核心数据类对象，它不支持 JSON 表示，所以我通过实现进行了更改，现在它工作正常。

# stream - VLC录制rtsp流

> ID：14828374
> 
> 赞同：2
> 
> 时间：2013-02-12T08:28:14.350
> 
> 标签：stream, record, rtsp, vlc, transcode

我在使用 VLC 播放器录制 rtsp 流时遇到问题。实际上，我的方法适用于 MacOS X，但不适用于 Windows。命令行：

```
vlc -vvv rtsp://admin:admin@192.168.0.151/live/h264/ --sout="#transcode{vcodec=mp4v,vfilter=canvas{width=800,height=600}}:std{access=file,mux=mp4,dst=C:\123.mp4}" 
```

在 MacOS 上它工作正常，但在 Windows 下它会创建不可读的文件。媒体信息输出：

```
General
Complete name                            : C:\123.mp4
Format                                   : MPEG-4
Format profile                           : Base Media
Codec ID                                 : isom
File size                                : 1.08 MiB 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-03-11T08:35:55.007

您的目标网址似乎不正确。试试这个：

```
vlc -vvv rtsp://admin:admin@192.168.0.151/live/h264/ --sout="#transcode{vcodec=mp4v,vfilter=canvas{width=800,height=600}}:std{access=file,mux=mp4,dst=C:\\123.mp4}" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-02-03T16:10:47.800

对于 Linux 用户，`ffmpeg`单独使用即可。

如果您想在录制时观看流，请写入 a`.mkv`而不是 a `.mp4`。

此示例将覆盖`video.mp4`您的主文件夹中的文件，而不会因为参数而询问`-y`，并保留原始编解码器。

```
ffmpeg -i rtsp://192.168.42.1/live -vcodec copy -acodec copy -y ~/video.mp4 
```

* * *

注意：此示例 url 适用于*[Ambarella Xiaomi Mijia 4K 相机](https://github.com/Theliel/Xiaomi-Mijia-4K)*，与许多 wifi ip 相机一样，您必须先**通过 telnet 激活流**，对于此特定型号，在通过 rtsp:// 读取流之前要发送的命令：

```
echo '{"msg_id":257,"token":0}' | telnet 192.168.42.1 7878 
```

# rgb - 使用 libav 将 rgb 编码为 yuv420p

> ID：14828376
> 
> 赞同：1
> 
> 时间：2013-02-12T08:28:20.143
> 
> 标签：rgb, multimedia, yuv, libav

我正在尝试使用 libav 将 RGB 图像数据的向量（源自 .png 图像）转换为 YUV420p 格式。

在 libav 示例代码中，以下内容用于创建虚拟图像：

```
/* prepare a dummy image */
static void fill_yuv_image(AVFrame *pict, int frame_index, int width, int height)
{
    int x, y, i;

    i = frame_index;

    /* Y */
    for(y=0;y<height;y++) {
        for(x=0;x<width;x++) {
            pict->data[0][y * pict->linesize[0] + x] = x + y + i * 3;
        }
    }

    /* Cb and Cr */
    for(y=0;y<height/2;y++) {
        for(x=0;x<width/2;x++) {
            pict->data[1][y * pict->linesize[1] + x] = 128 + y + i * 2;
            pict->data[2][y * pict->linesize[2] + x] = 64 + x + i * 5;
        }
    }
} 
```

我不清楚这里的一些事情：

首先，我是否需要重新排列输入向量中的 RGB 数据，使其适合编码为 YUV420p？

其次，我知道每个像素都有一个 Y 值，而 Cb 和 Cr 值用于四个 (2x2) 像素。我不明白的是 RGB 数据是如何“减少”到 Cb 和 Cr 值的——有没有一个例子说明如何在任何地方做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T07:23:53.540

我不完全确定你想要达到什么目标，所以我会尽我所能直接回答你的问题（请随时跟进澄清评论）：

1) 您将 RGB 数据转换为 YUV，这将涉及一些重新排列。打包的 RGB 数据在哪里都很好。你真的不需要调整它。实际上，出于缓存位置的原因，最好将其打包。

2) 如您所知，YUV 4:2:0 为每个像素编码一个 Y 样本，但每个 2x2 块共享一个 Cb 和一个 Cr 值。但是，也有 YUV 4:4:4 的数据。这是每个像素都有自己的 Y、Cb 和 Cr 样本的地方。转换 RGB -> YUV 4:2:0 的简单策略是转换 RGB -> YUV 4:4:4，然后平均（算术平均值）每个 2x2 Cb 样本块。还有其他算法（例如涉及更多周围样本的过滤器），但是如果您只是在试验这些东西的工作原理，这应该可以工作。

实验（和速度）的另一个策略是只计算 Y 平面并将 Cb 和 Cr 平面保持在 128 不变。这将产生灰度图像。

对于实际工作，您可能希望利用 libav 提供的内置转换工具。

# python - 使用 Python 解析 XML SOAP 响应

> ID：14828379
> 
> 赞同：3
> 
> 时间：2013-02-12T08:28:30.750
> 
> 标签：python, xml, soap

我想从 SOAP 解析此响应并在以下内容之间提取文本`<LoginResult>`：

```
<?xml version="1.0" encoding="utf-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
     <soap:Body>
      <LoginResponse xmlns="http://tempuri.org/wsSalesQuotation/Service1">
        <LoginResult>45eeadF43423KKmP33</LoginResult>
      </LoginResponse>
     </soap:Body>
</soap:Envelope> 
```

我如何使用 XML Python 库来做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T08:46:00.003

```
import xml.etree.ElementTree as ET
tree = ET.parse('soap.xml')    

print tree.find('.//{http://tempuri.org/wsSalesQuotation/Service1}LoginResult').text

>>45eeadF43423KKmP33 
```

而不是打印，做一些对它有用的事情。

# ios - iOS Wifi SSID 配置在设置描述单元格中显示字幕

> ID：14828383
> 
> 赞同：4
> 
> 时间：2013-02-12T08:28:48.820
> 
> 标签：ios, settings, wifi, subtitle, ssid

有谁知道如何配置wifi连接以便在设置中有以下描述（包括标题和副标题的单元格）。

![图片](../Images/65666efc8d1abad59bfeafb42978baae.png)

# windows-phone-7 - 展开状态下的 ExpanderView 标头样式

> ID：14828384
> 
> 赞同：0
> 
> 时间：2013-02-12T08:28:50.267
> 
> 标签：windows-phone-7, silverlight-toolkit

我想自定义 ExpanderView Header 的样式（来自 Silverlight Toolkit for Windows Phone）。例如，我想将 Header 的前景更改为橙色。我怎样才能达到它？这是我的 ExpanderView 样式（我删除了标题上的垂直线和倾斜效果，但不能做我想要的）：

```
 <Style x:Key="ExpanderViewStyle1" TargetType="toolkit:ExpanderView">
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <StackPanel/>
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="toolkit:ExpanderView">
                    <Grid>
                        <Grid.Resources>
                            <QuadraticEase x:Key="QuadraticEaseOut" EasingMode="EaseOut"/>
                            <QuadraticEase x:Key="QuadraticEaseInOut" EasingMode="EaseInOut"/>
                        </Grid.Resources>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="ExpansionStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition From="Collapsed" GeneratedDuration="0:0:0.15" To="Expanded">
                                        <Storyboard>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Height)" Storyboard.TargetName="ItemsCanvas">
                                                <EasingDoubleKeyFrame EasingFunction="{StaticResource QuadraticEaseOut}" KeyTime="0:0:0.00" Value="0"/>
                                                <EasingDoubleKeyFrame x:Name="CollapsedToExpandedKeyFrame" EasingFunction="{StaticResource QuadraticEaseOut}" KeyTime="0:0:0.15" Value="1"/>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ItemsCanvas"/>
                                        </Storyboard>
                                    </VisualTransition>
                                    <VisualTransition From="Expanded" GeneratedDuration="0:0:0.15" To="Collapsed">
                                        <Storyboard>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Height)" Storyboard.TargetName="ItemsCanvas">
                                                <EasingDoubleKeyFrame x:Name="ExpandedToCollapsedKeyFrame" EasingFunction="{StaticResource QuadraticEaseInOut}" KeyTime="0:0:0.00" Value="1"/>
                                                <EasingDoubleKeyFrame EasingFunction="{StaticResource QuadraticEaseInOut}" KeyTime="0:0:0.15" Value="0"/>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ItemsCanvas">
                                                <EasingDoubleKeyFrame EasingFunction="{StaticResource QuadraticEaseInOut}" KeyTime="0:0:0.00" Value="1.0"/>
                                                <EasingDoubleKeyFrame EasingFunction="{StaticResource QuadraticEaseInOut}" KeyTime="0:0:0.15" Value="0.0"/>
                                            </DoubleAnimationUsingKeyFrames>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="ItemsCanvas">
                                                <EasingDoubleKeyFrame EasingFunction="{StaticResource QuadraticEaseInOut}" KeyTime="0:0:0.00" Value="0.0"/>
                                                <EasingDoubleKeyFrame EasingFunction="{StaticResource QuadraticEaseInOut}" KeyTime="0:0:0.15" Value="-35"/>
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualTransition>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Collapsed">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="0" Storyboard.TargetProperty="(FrameworkElement.Height)" Storyboard.TargetName="ItemsCanvas"/>
                                        <DoubleAnimation Duration="0" To="0.0" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ItemsCanvas"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Expanded">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" Storyboard.TargetProperty="(FrameworkElement.Height)" Storyboard.TargetName="ItemsCanvas"/>
                                        <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ItemsCanvas"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="ExpandabilityStates">
                                <VisualState x:Name="Expandable"/>
                                <VisualState x:Name="NonExpandable">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="ExpandableContent">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.0" Value="Collapsed"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="NonExpandableContent">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.0" Value="Visible"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <ListBoxItem x:Name="ExpandableContent" toolkit:TiltEffect.IsTiltEnabled="False" Grid.ColumnSpan="2" Grid.Column="0" Grid.Row="0" Grid.RowSpan="2">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <ContentControl x:Name="Header" Grid.ColumnSpan="2" ContentTemplate="{TemplateBinding HeaderTemplate}" Content="{TemplateBinding Header}" Grid.Column="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" Grid.Row="0"/>
                                <ContentControl x:Name="Expander" ContentTemplate="{TemplateBinding ExpanderTemplate}" Content="{TemplateBinding Expander}" Grid.Column="1" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" Grid.Row="1"/>
                                <Grid x:Name="ExpanderPanel" Background="Transparent" Grid.ColumnSpan="2" Grid.Column="0" Grid.Row="0" Grid.RowSpan="2"/>
                            </Grid>
                        </ListBoxItem>
                        <ContentControl x:Name="NonExpandableContent" Grid.ColumnSpan="2" ContentTemplate="{TemplateBinding NonExpandableHeaderTemplate}" Content="{TemplateBinding NonExpandableHeader}" Grid.Column="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" Grid.Row="0" Grid.RowSpan="2" Visibility="Collapsed"/>
                        <Canvas x:Name="ItemsCanvas" Grid.Column="1" Opacity="0.0" Grid.Row="2">
                            <Canvas.RenderTransform>
                                <CompositeTransform TranslateY="0.0"/>
                            </Canvas.RenderTransform>
                            <ItemsPresenter x:Name="Presenter"/>
                        </Canvas>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:58:50.283

你可以在这里检查你自己的自定义模板

“ [http://www.dotnetspeaks.com/DisplayArticle.aspx?ID=184](http://www.dotnetspeaks.com/DisplayArticle.aspx?ID=184) ”

希望这可以帮助

# javascript - 从一个纹理文件中获取单独的纹理

> ID：14828387
> 
> 赞同：0
> 
> 时间：2013-02-12T08:29:03.053
> 
> 标签：javascript, jquery, html5-canvas, textures

我正在使用 Canvas 元素在 Javascript 中使用 jQuery 制作基于 2D 瓷砖的计算机游戏。我有一个在一个文件中有多个纹理的图像文件，如下图所示：

![纹理文件示例](../Images/9949579c26aa26d0a7470ea7a174f316.png)

比如我知道每个纹理的宽度是，那`50 px`我有什么办法呢蓝色是 2，黄色是 3)，是画布的 2D 上下文。`drawTexture(id, canvas)``id``canvas`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:40:20.080

使用 中的[切片](https://developer.mozilla.org/en-US/docs/HTML/Canvas/Tutorial/Using_images#Slicing)功能`drawImage`。

```
<img id="source" src="myTileSheet.png" style="display:none"/> 
```

```
var columns    = 2,   //  The amount of tile columns,
    tileWidth  = 50,  //  Tile width,
    tileHeight = 50,  //  Tile height.
    image      = document.getElementById('source'),
    canvas     = document.getElementById('myCanvas'),
    ctx        = canvas.getContext('2d');

function drawTileAt(number, targetX, targetY){
    var sx = tileWidth * (Math.floor(number / columns)); // Get the X position.
    var sy = tileHeight * (number % columns);            // Y.

    // Where you want it on the canvas.
    ctx.drawImage(image,                  // Source image,
                  sx, sy,                 // Source X / Y to get the tile from,
                  tileWidth, tileHeight,  // Source Width / Height to crop out,
                  targetX, targetY,       // Destination X / Y to place the image,
                  tileWidth, tileHeight); // Destination W / H (can be used to scale a tile)
} 
```

但是，这假设`number`从 0 开始计数。如果您希望您的第一个图块被编号`1`，请在函数的第一行添加：

```
number--; 
```

所以：

```
function drawTile(number){
    number--;
    var image = document.getElementById('source');
    // etc. 
```

# gcc - 如何显示详细的 gcc 版本号？

> ID：14828388
> 
> 赞同：3
> 
> 时间：2013-02-12T08:29:06.907
> 
> 标签：gcc, mingw, versioning

我知道`g++ --version`，但它只显示非常简单的版本号，没有构建 ID 或构建日期。如何获得更详细的信息？

例如这里： http: [//sourceforge.net/projects/mingwbuilds/files/host-windows/releases/4.7.2/64-bit/threads-posix/sjlj/](http://sourceforge.net/projects/mingwbuilds/files/host-windows/releases/4.7.2/64-bit/threads-posix/sjlj/)是 9 个版本，它们在询问时显示相同的信息这边走。

# c#-4.0 - 如何在 ToTraceString() 不起作用的情况下获取由实体框架生成的真实 T-SQL

> ID：14828389
> 
> 赞同：2
> 
> 时间：2013-02-12T08:29:16.667
> 
> 标签：c#-4.0, linq-to-entities, entity-framework-5

```
 //get full list of active employees

    public static object EmployeeList()
    {
        string traceFile = Environment.GetFolderPath(Environment.SpecialFolder.Desktop);

        var empList = (from emp in dbViews.EmployeeList
                       where emp.StatusID == 7
                       orderby emp.EmpNo
                       select new  
                       {
                           emp.id, 
                           emp.Name, 
                           emp.EmpNo,
                           emp.Telephone,
                           emp.EmployeeType,
                           emp.DepartmentName,
                           emp.Supervisor,
                           emp.ImmediateSupervisor,
                           emp.StatusID 
                       });

        File.AppendAllText(traceFile, ((ObjectQuery)empList).ToTraceString()); 
        return empList.ToList();
    } 
```

执行上述代码时，出现以下错误，不知道为什么

*

> 无法投射类型为“System.Data.Entity.Infrastructure.DbQuery `1[<>f__AnonymousType0`9 [System.Int32,System.String,System.String,System.String,System.String,System.String,System.String,System.String, System.Nullable`1[System.Int32]]]' 键入'System.Data.Objects.ObjectQuery'。

*

我只想得到上面实体框架代码生成的真正的T-SQL。错误在下面的行

```
File.AppendAllText(traceFile, ((ObjectQuery)empList).ToTraceString()); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:31:27.677

您正在使用 DbContext API，因此您可以只使用`empList.ToString()`.

# iphone - 如何在iphone中获取十天后的日期？

> ID：14828391
> 
> 赞同：2
> 
> 时间：2013-02-12T08:29:22.080
> 
> 标签：iphone, xcode

这是我可以将今天的日期作为字符串获取的代码：

```
 NSString *string;
    NSDateFormatter *formatter;
    string = [formatter stringFromDate: [NSDate date]];
    formatter = [[[NSDateFormatter alloc] init] autorelease];
    [formatter setDateFormat: @"yyyy-MM-dd "];
    string = [formatter stringFromDate: [NSDate date]]; 
```

但是现在我希望我将此字符串作为参数，并且一个方法将在此日期的 10 天之后的日期作为字符串返回。但我找不到任何解决方案。有谁能够帮助我？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T10:01:12.013

我的答案会更长一些，可能会有点过时，但我认为最好让您了解日期管理中的概念，而不是“复制和粘贴”答案。事实上，即使直观，日期管理也是一项相当复杂的任务。为了正确使用 Cocoa，您必须了解一些基本概念。

“日期”概念本身只是从参考日期经过多少秒的数字表示。这是一个绝对的衡量标准，没有什么可以改变它：如果你说现在是时间 0，那么 10 秒后就是时间 10，以此类推。它由带有“NSDate”的 Cocoa 表示。

现在要将“数字日期”转换为“日历日期”，您需要将此数字日期应用于“日历”（“NSCalendar”Cocoa 类）。显然，周围有许多类型的日历，所以您必须选择要使用的正确日历，然后将数字日期应用到它：有效的结果将是“日历化日期”。请注意，所有日历共有的相同“数字日期”是一个绝对度量，在不同的日历上会提供不同的结果。日历是一个复杂的算法或表格，将每个数字日期映射到特定的“日历日期”。

制作日历日期的组件称为“日期组件”，由 Cocoa 类“NSDateComponents”表示。正如您可能已经理解的那样，您不能直接将“日期组件”与“日期”联系起来，但您需要通过“日历”来协调它们。这就是为什么与“Date”和“NSDateComponents”类相关的所有方法都在“NSCalendar”类中定义，这解释了为什么特定的“NSDateComponents”实例与特定的“NSCalendar”实例相关联。

最后，您的最后一步是将“日期组件”转换为“人类可读格式”。为此，您使用“NSDateFormatter”对象。虽然将日期格式化程序链接到日期组件会更合适，但为了方便从日期到字符串的转换，反之亦然，NSDateFormatter 方法直接使用 NSDate 对象而不是 NSDateComponents。显然 NSDateFormatter 类必须与特定的日历相关联（并且要小心：它是使用默认日历初始化的）。

现在您已经掌握了这些信息包，您可以轻松了解如何进行操作。您的任务是在 10 天后将“字符串格式”的日期转换为相同格式的日期。所以要完成的任务是（代码如下）：

```
1\. identify the Calendar you want to use
2\. create a NSDateFormatter that accepts your input string and link the Calendar to it
3\. use NSDateFormatter to import the string to a "NSDate"
4\. use the NSCalendar to convert the date to a NSDateComponents object
5\. add 10 days to the "day" component of NSDateComponents; don't take care of "end of month" or "end of year", because NSDateComponents + NSCalendar know how to do it!
6\. use NSCalendar again to convert the new recalculated NSDateComponents instance to NSDate
7\. use the NSDateFormatter you defined before to convert the new NSDate to a NSString. 
```

你可能会问：为什么我不能只总结我导入的 NSDate 10*24*60*60 秒？虽然在大多数情况下，此解决方案会起作用，但在某些情况下，此操作会提供不正确的结果。例如，在夏令时开关中，您将时钟调回 1 小时，即 60*60 = 3600 秒。这意味着在您的日历中，1 小时的秒数范围将映射到两个不同的日期/时间（切换前 1 小时和切换后 1 小时）。此信息不为 NSDate 所知，但为 NSCalendar 所知。您可以通过这种方式直观地看到正在发生的事情：想象一条无限长的线（时间线），其中每一个“滴答”都是 1 秒。如果您保留您现在所在的“时间点”，则此标记将与您日历和时钟中的特定日期和时间相关联。现在想象一下，在这个时间线上确定您进行夏令时切换的点，并假设您当时需要将时钟恢复到 1 小时前。你所做的是将时间线分成两部分，然后取下半部分并将其第一个小时与上半场的最后一个小时重叠。然后您会看到时间仍在继续，但是您在这 1 小时重叠中的日历将与两个给定的时间范围相关联！这是您的日历 + 区域设置 + 时区仅知道的信息，而不是 NSDate 单独知道的信息（顺便说一下，我故意跳过这里关于“时区”和“区域设置”的任何讨论：它们是相关的，因为时区负责将绝对时间与一天中的有效时间相关联，而区域设置可以更改某些日历规则，例如夏令时开关）。

```
NSString *startDateStr = @"2013-02-25";
NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
dateFormatter.calendar=calendar;
[dateFormatter setDateFormat:@"yyyy-MM-dd"];
NSDate *startDate = [dateFormatter dateFromString:startDateStr];
NSDateComponents *startComponents = [calendar components:NSDayCalendarUnit|NSMonthCalendarUnit|NSYearCalendarUnit fromDate:startDate];
startComponents.day+=10;
NSDate *endDate = [calendar dateFromComponents:startComponents];
NSString *endDateStr = [dateFormatter stringFromDate:endDate];
NSLog(@"Date %@ + 10 days gives %@",startDateStr,endDateStr); 
```

请注意，使用 NSCalendar 可以简化上述计算，`dateByAddingComponents:toDate:options:`但我更喜欢第一种方法，以便更好地了解类之间的交互。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T08:35:54.833

```
NSDate *now = [NSDate date];
NSDate *newDate1 = [now dateByAddingTimeInterval:60*60*24*10]; 
```

这将在 10 天后返回日期。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-12T09:04:21.607

将您的 fromDate 字符串转换为 Date 类型并使用以下函数并将 days 参数作为 10 传递：

```
NSString *fromDateString = @"Your_date_string";

// Convert string to date object
NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
[dateFormat setDateFormat:@"YOUR_DATE_FORMAT"];
NSDate *fromDate = [dateFormat dateFromString:dateStr];  
[dateFormat release];

+ (NSDate *) getDate:(NSDate *)fromDate daysAhead:(NSUInteger)days
{
    NSDateComponents *dateComponents = [[NSDateComponents alloc] init];
    dateComponents.day = days;
    NSCalendar *calendar = [NSCalendar currentCalendar];
    NSDate *previousDate = [calendar dateByAddingComponents:dateComponents
                                                     toDate:fromDate
                                                    options:0];
    [dateComponents release];
    return previousDate;
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-12T08:46:53.303

日期后 10 天的代码 ::

```
NSDateFormatter *entryDateFormat;
entryDateFormat = [[NSDateFormatter alloc]init];
[entryDateFormat setDateFormat:@"dd-MM-yyyy HH:mm:ss"];

NSString *s = [NSString stringWithFormat:@"%@", [entryDateFormat stringFromDate:[[NSDate date] dateByAddingTimeInterval:60*60*24*10]]];
NSLog(@" --> %@", s); 
```

# sql-server-2008 - 让 sp_executesql 使用 varchar 而不是 nvarchar？

> ID：14828393
> 
> 赞同：0
> 
> 时间：2013-02-12T08:29:28.957
> 
> 标签：sql-server-2008

我有一个很长的内联查询，即使我将 nvarchar 属性设置为 MAX，文本也会被截断。有没有办法让 sp_executesql 改为使用 varchar。

当我尝试将 nvarchar 更改为 varchar 时，出现错误，我也尝试过 ntext 但结果相同。

编辑：

根据我在答案上发布的问题所读到的内容，这应该可行，但没有人能告诉我为什么？

```
 Declare @X varchar(MAX)
    SET @X = N'Select * From Users'
    Execute sp_executesql @X 
```

虽然这没有问题：

```
 Execute sp_executesql N'Select * From Users' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:48:58.857

不`sp_executesql`，@stmt 和 @params 参数需要 nvarchar

*您的*参数不必是 nvarchar。

请参见[使用 varchar 参数调用 sp_executesql](https://stackoverflow.com/questions/14828534/call-sp-executesql-with-varchar-parameter/14828575#14828575)

如果您的 nvarchar(max) 被截断，则您连接错误。
请参阅[For Nvarchar(Max) 我在 TSQL 中只得到 4000 个字符？](https://stackoverflow.com/questions/1371383/for-nvarcharmax-i-am-only-getting-4000-characters-in-tsql/1371584#1371584)为什么

sp_executesql 的重点是避免字符串构建：它允许您参数化固定查询以重用执行计划。为什么要连接来构建一个字符串？

# sql-server-2008 - 根据车型年末月拆分多条记录

> ID：14828396
> 
> 赞同：-3
> 
> 时间：2013-02-12T08:29:37.393
> 
> 标签：sql-server-2008

我有一个记录，我希望根据月份拆分。当我进行拆分时，我试图按原样复制所有数据，但只对增量更改 FromMonth 字段感兴趣。

例如，

```
 Record to be split:
    c1  c2  c3  c4  FromMonth  ToMonth  Y
    ---------------------------------------
    AA  BB  CC  DD  Feb         Dec    2013

    Resultant Records:
    1.)

    c1  c2  c3  c4  FromMonth  ToMonth  Y
    ---------------------------------------
    AA  BB  CC  DD  Mar         Dec    2013

    2.)
    c1  c2  c3  c4  FromMonth  ToMonth  Y
    ---------------------------------------
    AA  BB  CC  DD  Apr        Dec    2013

    3.)
    c1  c2  c3  c4  FromMonth  ToMonth  Y
    ---------------------------------------
    AA  BB  CC  DD  May         Dec    2013
    .
    .
    .
    . 
```

任何建议或解决方法都会很有用。

这是我所做的，我是新手，我只是在学习：

```
 DECLARE @FromMonth Int;
    DECLARE @ToMonth Int;
    DECLARE @Result int;
    DECLARE @C1 int;
    DECLARE @C2 int;
    DECLARE @C3 int;
    DECLARE @C4 decimal(20,8);
    DECLARE @C5 uniqueidentifier;
    DECLARE @C6 varchar(1000);
    DECLARE @C7 int;
    DECLARE @C8 int;
    DECLARE @C9 int;
    DECLARE @C10 bit;
    DECLARE @C11 date;
    DECLARE @C12 date;
    set @FromMonth = (select FromMonth from master..t where t.c1=1 );
    set @ToMonth = (select ToMonth from master.t where t.c1=1 );
    set @Result=@ToMonth - @FromMonth;

    while(@Result!=0) 
    begin
    set @FromMonth = @FromMonth+1
    insert into master..t(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,FromMonth,ToMonth)
    values(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,@FromMonth,ToMonth);
    set @Result = @Result -1;
    break;
    end; 
```

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:42:28.190

我猜你需要生成从 'FM' 到 'TM' 月份的行，试试这个：

```
DECLARE @t TABLE (c1  VARCHAR(10),c2  VARCHAR(10),c3  VARCHAR(10),c4  VARCHAR(10),FM  VARCHAR(10),TM  VARCHAR(10),Y VARCHAR(10))
INSERT @t VALUES
('AA',  'BB',  'CC',  'DD',  '02',  '12',  '13')

SELECT  a.c1
        , a.c2
        , a.c3
        , a.c4
        , number FM
        , a.TM
        , a.Y
FROM    @t a
JOIN    master..spt_values b ON
        type = 'P' 
AND     number > CAST(a.FM AS INT) AND number <= CAST(a.TM AS INT) 
```

此示例根据在单行中找到的数据生成新行。它复制除字段外的所有字段`FM`，该字段的值为`spt_values.number`。表`master..spt_values`用于生成新行。

例如：

```
SELECT  number
FROM    master..spt_values b
WHERE   type = 'P' 
```

将生成从 0 到 2047 的序数。写入该表的连接以便它生成`TM`-`FM`行数从 3 到 12。

**更新**

语句的结果`SELECT`可以插入到表中，条件是表中字段的数量和类型与结果相同。`INSERT`statement 可以从已执行的`SELECT`语句中获取要插入的值：

```
INSERT  @t
SELECT  a.c1
        , a.c2
        , a.c3
        , a.c4
        , number FM
        , a.TM
        , a.Y
FROM    @t a
JOIN    master..spt_values b ON
        type = 'P' 
AND     number > CAST(a.FM AS INT) AND number <= CAST(a.TM AS INT) 
```

# xml - 从维基百科页面获取 xml

> ID：14828399
> 
> 赞同：3
> 
> 时间：2013-02-12T08:29:48.973
> 
> 标签：xml, parsing, wikipedia

我正在尝试从 xml 解析维基百科页面。我正在使用 Special:Export 链接来获取带有如下链接的页面的 xml：

[http://en.wikipedia.org/wiki/Special:Export/Bruce_Willis](http://en.wikipedia.org/wiki/Special:Export/Bruce_Willis)

但是当我尝试获取文件或类别页面时，我无法使用此链接，例如，此页面不返回 xml：

http://en.wikipedia.org/wiki/Special:Export/Category:English-language_films

http://en.wikipedia.org/wiki/Special:Export/File:Bruce_Willis_by_Gage_Skidmore.jpg

我找到了一个解决方案，但我不明白：

1.  将命名空间作为页面名称的前缀（例如“Help:Contents”），除非选定的命名空间是主命名空间。
2.  对其他命名空间重复上述步骤（例如 Category:、Template: 等）

我在[http://meta.wikimedia.org/wiki/Help:Export](http://meta.wikimedia.org/wiki/Help:Export)找到了这个解决方案。请问这是什么意思。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-13T00:10:28.890

`[Special:Export](http://en.wikipedia.org/wiki/Special:Export)`生成给定页面的内容，但“类别文章列表”或“文件”不是页面。您从导出中得到的只是类别或文件描述页面的 xml。

要检索属于某个类别的页面列表，您需要 MediaWiki API：`[Categorymembers](http://www.mediawiki.org/wiki/API:Categorymembers).`

试试[这个例子](http://en.wikipedia.org/w/api.php?action=query&list=categorymembers&cmtitle=Category:English-language_films)。您还可以使用[API Sandbox](http://en.wikipedia.org/wiki/Special:ApiSandbox#action=query&list=categorymembers&format=xml)来了解不同的参数。

您不能直接下载文件。但是，`[imageinfo](https://www.mediawiki.org/wiki/API:Properties#imageinfo_.2F_ii)`API 可以为您生成文件的 URL，例如[this example](https://en.wikipedia.org/w/api.php?action=query&prop=imageinfo&format=xml&iiprop=url&titles=File%3ABruce_Willis_by_Gage_Skidmore.jpg)。

另请参阅：[使用 MediaWiki API 下载图像？](https://stackoverflow.com/questions/12500021/download-images-with-mediawiki-api)

# iphone - 当屏幕高度改变时如何改变按钮的位置

> ID：14828402
> 
> 赞同：0
> 
> 时间：2013-02-12T08:30:15.210
> 
> 标签：iphone, ios, xcode, autosize

我想在屏幕改变时移动按钮，我成功地移动了按钮，但问题是我的按钮动作在以前的地方是一样的，它只是改变了位置我该怎么办？这是我的 btnShr 代码

```
if ([[UIScreen mainScreen] bounds].size.height > 480)
    {
        lbltype.frame=CGRectMake(7, 208, 306, 250);
        imgBckgrund.frame = CGRectMake(0, 44, 320, 455);
        [btnShr setFrame:CGRectMake(231, 364, 74, 240)];
    } 
```

# php - ZF2表格格式化？

> ID：14828405
> 
> 赞同：3
> 
> 时间：2013-02-12T08:30:30.513
> 
> 标签：php, zend-framework2

我正在使用 ZF2 并有一个定义一堆元素的表单，然后我在我的 phtml 中呈现它，如下所示：

```
<?php 

$form = $this->form;
$form->prepare();

echo $this->form()->openTag($form);
echo $this->formlabel($form->get('description'));
echo $this->formRow($form->get('radioButton'));
echo $this->form()->closeTag();

?> 
```

它绘制了一个标签和一个单选按钮。我的问题是如何根据自己的喜好格式化这些元素？例如，使单选按钮水平而不是垂直显示，并且可能会更改标签的位置。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T09:16:32.253

没有什么能阻止你像你一样格式化它们，你可以将元素放在一个列表中，或者添加任何你想要设置样式的附加标记。

```
<?php 
$form = $this->form;
$form->prepare();

echo $this->form()->openTag($form);
?>
<ul class="form-list">
    <li>
    <div class="form-control">
        <?php echo $this->formlabel($form->get('description')); ?>
        <?php echo $this->formElementErrors($form->get('description')) ?>
        <?php echo $this->formElement($form->get('description')); ?>
    </div>
    <div class="form-control">
        <?php echo $this->formlabel($form->get('radioButton')); ?>
        <?php echo $this->formElementErrors($form->get('radioButton')) ?>
        <?php echo $this->formElement($form->get('radioButton')); ?>
    </div>
    </li>
</ul>
<?php echo $this->form()->closeTag() ?> 
```

如果您想控制实际的元素/输入本身，您可以执行以下操作：

```
<label>
    <?php echo $form->get('radioButton')->getLabel() ?>
    <input class="bob" type="radio" 
           name="<?php echo $form->get('radioButton')->getName() ?>"
           value="<?php echo $form->get('radioButton')->getValue() ?>"
    />
</label> 
```

# php - Phalcon 不渲染视图

> ID：14828408
> 
> 赞同：1
> 
> 时间：2013-02-12T08:30:35.313
> 
> 标签：php, phalcon

我试图创建多模块 phalcon 应用程序，但它无法呈现视图。例如 Application\IndexController::indexAction 不渲染 view/index/index.phtml。这里的所有代码：[GitHub](https://github.com/3axap4eHko/Falconet) Phalcon 版本：0.9

# windows - 读取存储在注册表中的 GUID 值

> ID：14828410
> 
> 赞同：5
> 
> 时间：2013-02-12T08:30:40.743
> 
> 标签：windows, delphi, registry, delphi-7

我尝试读取存储为`binary`Delphi 注册表中的值的 GUID 值。当我用 BintoHex 阅读它时，结果是相反的。看来我必须交换字节，但我认为 BinToHex 会这样做。

我参考了这个线程，但我找不到正确的解决方案： [如何将字节数组转换为 Delphi 中的十六进制表示，](https://stackoverflow.com/questions/1060321/how-to-convert-byte-array-to-its-hex-representation-in-delphi/1060455#1060455) 这似乎是由于小 Eendian。

下面，您可以看到存储在注册表中的 GUID

这是我的代码：

```
var
s : string;
buffer : pointer;
...

begin
getmem(buffer, 1024*1024);
....
reg.ReadBinaryData(iValueOfregistry, buffer^, 1024*1024);
....
bintohex(pointer(longint(buffer)+14), PChar(s), 32); 
```

s 的输出： **90E24D373F126545916439C4925E467B**

GUID 应为 FOLDERID_Downloads GUID：
**{374DE290-123F-4565-9164-39C4925E467B}**

请帮忙 ![这里](../Images/3848c07517e9d23e8ca758c4dac2f972.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-12T08:46:26.533

最好将二进制形式的 GUID 视为记录。事实上，在 Delphi 中，记录已经存在——它是[`TGUID`](http://docwiki.embarcadero.com/Libraries/en/System.TGUID).

您需要做的就是将相关字节直接复制到类型变量中`TGUID`，您的工作就完成了。如果你想要一个字符串表示，使用`GUIDToString`.

```
var
  GUID: TGUID;
  strGUID: string;
....
GUID := PGUID(PAnsiChar(buffer)+14)^;
strGUID := GUIDToString(GUID); 
```

这将自动处理所有字节序问题。让我们看一下 的声明`TGUID`：

```
TGUID = packed record
  D1: LongWord;
  D2: Word;
  D3: Word;
  D4: array[0..7] of Byte;
end; 
```

您的代码将其视为直接的字节数组。但是，在记录中`D1`，`D2`和`D3`是小端机器上的整数类型。所以你的代码反转了前 4 个字节，那些属于`D1`. 然后它反转 的两个字节`D2`，以及 的两个字节`D3`。当然，GUID 末尾的 8 字节数组不会反转。

因此，虽然您可以自己轻松地进行所有字节交换，但最好使用记录来执行此操作，并利用将二进制 GUID 记录转换为格式正确的 GUID 字符串的辅助函数。

# java - 检索 MCC、MNC、LAC、CellID 等详细信息

> ID：14828416
> 
> 赞同：2
> 
> 时间：2013-02-12T08:30:57.333
> 
> 标签：java, android

是否可以在android中获取来电号码的以下信息

1.  中冶
2.  跨国公司
3.  拉丁美洲和加勒比
4.  小区标识

我试过代码

```
 TelephonyManager tel = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
        String networkOperator = tel.getNetworkOperator();

        if (networkOperator != null) {
            mcc = Integer.parseInt(networkOperator.substring(0, 3));
            mnc = Integer.parseInt(networkOperator.substring(3));
        } 
```

它返回当前 SIM 卡的详细信息，但我想为传入号码找到它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-30T05:23:55.000

这很棘手，因为您还需要在该用户的手机中实现应用程序。因为当您接到某个用户的电话时，您将只能获得 MSISDN，您无法通过它获取详细信息。其他用户手机上应该有一个应用程序，如果他拨打电话，它将触发一个事件，现在该应用程序可以获取 MCC.MNC 和小区 ID，并可以通过短信发送给被叫方，然后被叫方可以处理这个短信到获取详细信息。它的简单逻辑是，如果您想监视某人，那么您必须在他的末端安装一些东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:37:40.073

这会给你 # ：

```
TelephonyManager telephonyManager = (TelephonyManager)getSystemService(TELEPHONY_SERVICE);
String sim = telephonyManager.getSimSerialNumber(); 
```

还要将此权限添加到清单：

```
<uses-permission android:name="android.permission.READ_PHONE_STATE"/> 
```

获取手机#将其更改为：

```
String sim = telephonyManager.getLine1Number(); 
```

您也可以参考：[Access the SIM Card with an Android Application?](https://stackoverflow.com/questions/2372757/access-the-sim-card-with-an-android-application)

要获取来电者 SIM 卡详细信息，请参阅：[http](http://sms411.net/2006/07/finding-out-someones-carrier/) ://sms411.net/2006/07/finding-out-someones-carrier/ 以及 [如何在 android 中获取来电号码的运营商名称..？](https://stackoverflow.com/questions/12669653/how-do-i-get-the-carrier-name-of-an-incoming-number-in-android)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-20T13:51:37.560

解决方案 ：

**你不能**因为来电的数据只包含数字作为字符串，并且通过短信？也没有，因为消息的用户数据头可以为空！！！

如果您开发当前位置应用程序，它只能由手机所有者使用。

另一方面，有一些开发者想用AT命令来请求通话，但通话附带的数据只有号码，只有号码！！！

# android - windowBackground 不随主题变化

> ID：14828421
> 
> 赞同：7
> 
> 时间：2013-02-12T08:31:30.960
> 
> 标签：android, actionbarsherlock, android-theme

我的应用程序中有两个主题。我有一个蓝色背景的蓝色主题：

```
<style name="Theme.BlueTheme" parent="Theme.Sherlock">
    <item name="android:panelBackground">@drawable/menu_hardkey_panel_actionbar</item>
    <item name="android:buttonStyle">@style/ButtonAppTheme</item>
    <item name="android:windowBackground">@drawable/bground_blue</item>
    <item name="android:spinnerItemStyle">@style/SpinnerItem</item>
    <item name="android:editTextStyle">@style/Widget.EditText.White</item>
   <item name="android:spinnerItemStyle">@style/SpinnerItem</item>
    <item name="android:textViewStyle">@style/whitestyle</item>

 </style> 
```

我也有一个白色背景的白色主题：

```
<style name="Theme.AppTheme" parent="Theme.Sherlock.Light.DarkActionBar">
    <item name="android:panelBackground">@drawable/menu_hardkey_panel_actionbar</item>
    <item name="android:buttonStyle">@style/ButtonAppTheme</item>
    <item name="android:windowBackground">@drawable/bground_white</item>
    <item name="android:spinnerItemStyle">@style/SpinnerItem</item>
    <item name="android:editTextStyle">@style/Widget.EditText.Black</item>
</style> 
```

当我在代码中设置蓝色主题时，除了背景始终是白色之外，一切正常。

我的应用程序主题设置为清单中的白色主题：

```
<application
    android:allowBackup="true"
    android:icon="@drawable/launcher_icon"
    android:label="@string/app_name"
    android:theme="@style/Theme.AppTheme" > 
```

然后我在 onCreate 的 ActivityBase 类中设置蓝色主题：

```
@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    ActionBar actionBar = getSupportActionBar();
    if (actionBar != null) {
        actionBar.setDisplayHomeAsUpEnabled(true);
    }
    setTheme(R.style.Theme_BlueTheme);
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-12T08:48:38.833

您必须在调用 super.onCreate() 和 setContentView() 之前设置主题。

# visual-studio-2012 - 将 TF.exe 与 Team Foundation Service 一起使用？

> ID：14828429
> 
> 赞同：3
> 
> 时间：2013-02-12T08:32:15.787
> 
> 标签：visual-studio-2012, tfs, cloud, azure-devops, tf-cli

我们正在将我们的构建从 Team Build（Team Foundation Service）移动到使用 Jenkins CI 进行构建的本地构建机器。但是，我们仍然希望将 Cloud 用于源代码管理。所以现在我们需要访问云 TFS 以获取最新版本。Jenkins 有一个 TFS 插件，但它是为 TFS 2008 制作的。

现在我遇到的问题是我无法使用 VS2012 中的 TF.exe 访问云 TFS。我在这里找到了一篇文章，向我展示了 TFS 2008 和 2010 之间的区别（我需要添加`/tfs/DefaultCollection`到服务器 URL），但这不适用于云 TFS。

这是错误：

> TF31002：无法连接到此 Team Foundation Server：[https](https://myserver.visualstudio.com/tfs/DefaultCollection) ://myserver.visualstudio.com/tfs/DefaultCollection 。
> 
> Team Foundation Server 网址：[https](https://myserver.visualstudio.com/tfs/DefaultCollection) ://myserver.visualstudio.com/tfs/DefaultCollection 。
> 
> 失败的可能原因包括： - Team Foundation Server 的名称、端口号或协议不正确。- Team Foundation Server 处于脱机状态。- 密码已过期或不正确。
> 
> 技术信息（针对管理员）：远程服务器返回错误：(404) 未找到。

我已经尝试过使用和不使用`/tfs/DefaultCollection`. 结果相同。

根据我的发现，文档几乎没有。

有没有人成功使用 TF.exe 访问云 TFS？

编辑：浏览其他文章，我看到其他人没有 . `/tfs`，所以只需添加`/DefaultCollection` （感谢 Microsoft 更改每个版本的 URL ...）但是，输出仍然是废话。

> C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE>tf workspaces -format:brief /server: [https://myserver.visualstudio.com/DefaultCollection](https://myserver.visualstudio.com/DefaultCollection) /login :myuser,mypassword

结果：

> [在 Team Foundation Server https://myserver.visualstudio.com/DefaultCollection](https://myserver.visualstudio.com/DefaultCollection)中找到计算机 MYMACHINE 上没有匹配 *;[NAME OF ANOTHER USER] 的工作区。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:16:42.880

好的，找到解决方案...如果之前运行 tf.exe 的机器上没有映射工作区，请添加“/computer:*”...

结论：连接到 TFS 中您的收藏的 URL 在每个版本中都发生了变化。

> TFS 2008：mytfs
> 
> TFS 2010：mytfs/tfs/DefaultCollection
> 
> TFS 2012：mytfs/DefaultCollection

我的天啊..

# c# - 从 MSMQ 日志中读取消息队列发送时间

> ID：14828430
> 
> 赞同：2
> 
> 时间：2013-02-12T08:32:22.353
> 
> 标签：c#, properties, message-queue, journal

我有一个启用了日志的 MSMQ。由于我们每天收到超过 1000 条消息，我想清除日志以仅保留最近 2 天的消息。因此，我想阅读所有消息并根据“当前日期 - 2 天”检查它们的 SentTime 属性。但目前该程序将停止，因为不会提供 Property SentTime。

错误：“PropertyFilter 未正确设置”

编码：

```
class Program {

    static void Main(string[] args) {

        string queueName = ".\\private$\\TEST;journal";

        MessageQueue msgQueue = new MessageQueue(queueName);
        Message[] messages = msgQueue.GetAllMessages();

        try{

            foreach (Message msg in messages){
                //if(msg.SentTime < DateTime.Today.AddDays(-2)){
                    Console.WriteLine(msg.SentTime);
                //}
            }

        }catch (Exception e){

            Console.WriteLine(e.Message);

        }

        Console.Read();

    }

} 
```

为什么我无法访问该物业？谁能帮忙？非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-19T16:16:09.917

您可以使用

```
msgQueue.MessageReadPropertyFilter.SetAll(); 
```

它会将所有过滤器属性设置为true。

# html - 根据字段类型自动选项卡到下一个字段

> ID：14828435
> 
> 赞同：1
> 
> 时间：2013-02-12T08:32:42.743
> 
> 标签：html

我觉得这很有趣，并且找不到任何特殊原因来解释为什么当字段类型为“下拉选择”或“单选按钮”时光标不应前进到下一个表单字段。在这两种情况下，逻辑上都不能有任何额外的输入。

是否有任何属性可以应用，以便光标移动到下一个字段。

考虑一下全世界每天填写多少表格，如果没有特殊原因，会浪费多少时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T08:51:12.233

停止！您正在尝试做的事情会破坏键盘用户。事实上，[您所做的任何更改都会破坏*某人的*工作流程](http://xkcd.com/1172/)。

*永远*不要将自动选项卡用于任何字段。

谁知道你的领域会自动标签？没有人。为什么？因为这不是字段在网络上所做的。所以，我出于习惯按 Tab 键进入下一个字段，我做了什么？哦，不，由于意外的自动选项卡，我已经跳过*了下一个字段。*现在我只需要退后一步。

我正在编辑一个字段，字段中已经有足够的字符了，我想覆盖字段中的一些字符，哦不！在我完成之前，我会自动退出它！

我是键盘用户，我使用向上和向下箭头来更改选择或单选中的值。每次按下它们都会触发 onchange 事件，即使我还没有完成将值更改为我想要的值。

当我想跳到下一个字段时，我会很高兴自己按下它，谢谢。

不使用 autotab 有一个非常特殊的原因，这并不会浪费任何时间（除非您正在开发一些东西供某人一次持续使用几个小时）。特殊原因是您[遵循最小惊讶原则](http://en.wikipedia.org/wiki/Principle_of_least_astonishment)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:50:55.547

从属性 tabindex="-1" 开始

jQuery 风格： $('.something').each(function(){ this.tabIndex = -1; });

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T09:15:24.130

好的，我在问逻辑，看起来我已经为自己找到了一个合理的答案。

光标停留在那里并且不会自动跳到下一个字段，因为下一个字段类型可能是单选字段或下拉选择字段，其中自动选项卡无法执行任何操作，例如从多个单选选项中选择一个选项.

但我还是觉得应该有一个auto-tab的选项，这取决于它可以在哪里使用或在哪里可以省略。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-17T01:08:30.393

自动选项卡是一项重要且需要的功能。例如，为什么我必须在输入区号后按 Tab 键才能输入接下来的 3 个数字？从用户体验的角度来看，这真的很烦人。我认为 HTML5 或 CSS3 中会内置一个属性来完成此操作。我在寻找它时找到了这个线程。如果有人有更新，请分享。

# apache - Apache Nutch 2.1 不同的批次 id (null)

> ID：14828438
> 
> 赞同：8
> 
> 时间：2013-02-12T08:33:01.840
> 
> 标签：apache, nutch, web-crawler

我用 Apache Nutch 2.1 抓取了几个网站。

在抓取时，我在很多页面上看到以下消息：
例如。跳过[http://www.domainname.com/news/subcategory/111111/index.html](http://www.domainname.com/news/subcategory/111111/index.html)；不同的批次 ID（空）。

是什么导致了这个错误？
我该如何解决这个问题，因为具有不同批次 id (null) 的页面没有存储在数据库中。

我爬的网站是基于drupal的，但我尝试过许多其他非drupal网站。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T09:37:16.853

我认为，消息没有问题。batch_id 未分配给所有 url。因此，如果 batch_id 为 null ，请跳过 url。为 url 关联 batch_id 时生成 url。

# c# - 在c#中获取带有文件扩展名的当前进程名称

> ID：14828440
> 
> 赞同：-3
> 
> 时间：2013-02-12T08:33:12.537
> 
> 标签：c#, c#-4.0

GetAllProccess 函数返回 Windows 中所有正在运行的进程。我想获取当前进程名称，扩展名是`".avi", ".mkv", ".mpg", ".mp4", ".wmv"`
例如，如果我在 Windows 媒体播放器中播放它返回的任何视频文件（wmplayer.exe），或者如果我在 KM PLAYER 中播放它返回的任何视频文件（kmplayer.exe）
谢谢这是我的代码此代码运行速度非常慢参考[http://vmccontroller.codeplex.com/SourceControl/changeset/view/47386#195318](http://vmccontroller.codeplex.com/SourceControl/changeset/view/47386#195318)

字符串文件名；Process[] procs = Process.GetProcesses() ; foreach（过程中的进程 prc）{

```
 if (procs.Length > 0)
            {
                int id = prc.Id;
                IEnumerator<FileSystemInfo> fie = DetectOpenFiles.GetOpenFilesEnumerator(id);

                while (fie.MoveNext())
                {
                    if (fie.Current.Extension.ToLower(CultureInfo.InvariantCulture) == ".mp3")
                    {
                        filename = fie.Current.FullName;
                        break; // TODO: might not be correct. Was : Exit While
                    }
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T08:43:55.583

你可以先看看[Mark Russinovich 的 Handle](http://technet.microsoft.com/en-gb/sysinternals/bb896655.aspx)。只需以管理员身份运行它，它将返回所有进程使用的所有文件。

您可以使用以下语法将结果放入文本文件中：

```
handle.exe > log.txt 
```

之后，您可以使用`PowerShell`这些数据文件提取有关进程的信息：

```
Get-Content log.txt | 
    where{$_.readcount -gt 6} | 
    foreach{
        if($_.Substring(0,1) -ne " " -and $_.Substring(0,1) -ne "-")
        {$process = $_.ToString()}
        elseif($_.ToLower() -like "*.avi" `
            -or $_.ToLower() -like "*.mkv" `
            -or $_.ToLower() -like "*.mpg" `
            -or $_.ToLower() -like "*.mp4" `
            -or $_.ToLower() -like "*.wmv" `
            )
        {$process.ToString()}
    } 
```

这是来自 C# 的相同方法（您需要以管理员身份运行应用程序）：

```
class Program
{
    static void Main(string[] args)
    {
        var processes = GetProcesses();

        // enumerate the processes
        foreach (Tuple<int,string> mediaFile in processes.Distinct())
        {
            var process = Process.GetProcesses().Where(i => i.Id == mediaFile.Item1).FirstOrDefault();
            Console.WriteLine("{0} ({1}) uses {2}", process.ProcessName, process.Id, mediaFile.Item2);
        }
        Console.ReadLine();
    }

    private static List<Tuple<int,string>> GetProcesses()
    {
        string line = "";
        int counter = 0;
        string currentProcess = "";
        List<Tuple<int, string>> mediaFiles = new List<Tuple<int, string>>();

        Process compiler = new Process();
        compiler.StartInfo.FileName = @"c:\YourPath\Handle.exe";
        compiler.StartInfo.CreateNoWindow = true;
        compiler.StartInfo.UseShellExecute = false;
        compiler.StartInfo.RedirectStandardOutput = true;
        compiler.Start();

        while ((line = compiler.StandardOutput.ReadLine()) != null)
        {
            // skipping applicaion info
            if (++counter > 6)
            {
                if (!" -".Contains(char.Parse(line.Substring(0, 1))))
                {
                    currentProcess = line;
                }
                else if ((new[] { ".avi", ".mkv", ".mpg", ".mp4", ".wmv" })
                    .Contains(line.ToLower().Substring(line.Length - 4)))
                {
                    int pos = currentProcess.IndexOf("pid:") + 5;
                    string pid = currentProcess.Substring(pos, currentProcess.IndexOf(" ", pos) - pos);
                    mediaFiles.Add(new Tuple<int, string>(Int32.Parse(pid),line.Substring(21)));
                }
            }
        }
        compiler.WaitForExit();

        return mediaFiles;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:37:29.037

您需要做的就是枚举所有进程并找到您的句柄所属的进程。..NET 没有为此提供 AFI，您需要更深入地了解 WINAPI - 到 nt.dll 级别，您可以在其中找到未记录的 ZwQueryObject()。

使用此方法不是一项简单的任务，因为它返回有关属于您的进程的句柄的名称和信息。因此，您需要执行额外的任务 - 使用 DuplicateHandle() 为您的流程带来外部句柄。

我建议您学习此示例[http://www.codeguru.com/Cpp/WP/syst...icle.php/c2827](http://www.codeguru.com/Cpp/W-P/system/processesmodules/article.php/c2827)

它提供了您需要的所有功能。

# ios - 表视图中核心数据的聚合操作，按日期计数和分组

> ID：14828441
> 
> 赞同：1
> 
> 时间：2013-02-12T08:33:34.190
> 
> 标签：ios, core-data, aggregate-functions, nsexpression

我有一个带有实体“事件”的核心数据数据库和一个带有“日期”类型的属性“事件日期”。该任务显示按日期分组的事件，并按日期显示事件的数量（@“count”）。例如 eventDate (mm-dd-yyyy) 数据：

```
events     eventDate
event 1    01-01-2013
event 2    01-01-2013
event 3    01-02-2013
event 4    01-03-2013
... 
```

表格视图中的结果：

```
date         count
01-01-2013     2
01-02-2013     1
01-03-2013     1
... 
```

不喜欢获取所有数据库，因为它可能很大，所以我使用聚合操作而不是获取每个对象。代码正常工作，但结果数组为空。我猜问题是日期类型属性和 NSAttribute/attributeType 的分组，但无法使其工作。事件的类别文件中的代码是：

```
+ (NSArray *)aggregateOperationOnEvent:(NSString *)attributeName withFunction:(NSString *)function withPredicate:(NSPredicate *)predicate inManagedObjectContext: (NSManagedObjectContext*)context {

NSEntityDescription* entity = [NSEntityDescription entityForName:@"Event" inManagedObjectContext:context];

NSAttributeDescription* attributeDesc = [entity.attributesByName objectForKey:attributeName];

NSExpression *keyPathExpression = [NSExpression expressionForKeyPath: attributeName];
NSExpression *functionExpression = [NSExpression expressionForFunction: [NSString stringWithFormat:@"%@:", function] arguments: [NSArray arrayWithObject:keyPathExpression]];

NSExpressionDescription *expressionDescription = [[NSExpressionDescription alloc] init];
[expressionDescription setName: function];
[expressionDescription setExpression: functionExpression];
[expressionDescription setExpressionResultType: NSInteger32AttributeType];

NSFetchRequest* request = [NSFetchRequest fetchRequestWithEntityName:@"Event"];

[request setPropertiesToFetch:[NSArray arrayWithObjects:attributeDesc, expressionDescription, nil]];
[request setPropertiesToGroupBy:[NSArray arrayWithObject:attributeDesc]];
[request setResultType:NSDictionaryResultType];

if (predicate != nil)
    [request setPredicate:predicate];

NSError* error = nil;
NSArray *results = [context executeFetchRequest:request error:&error];

return results; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T20:02:04.560

聚合 a`NSDate`不是一个好主意，因为它是由浮点类型支持的。如果您将**自参考日期以来的天数**存储为`int32_t`. 您需要使用`NSDateComponents`：

```
@implementation NSDate (Days)

-  (NSInteger)daysSinceReferenceDate;
{
    NSCalendar *cal = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
    NSDateComponents *comp = [cal components:NSDayCalendarUnit fromDate:[NSDate dateWithTimeIntervalSinceReferenceDate:0] toDate:self options:0];
    return [comp day];
}

@end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T14:27:36.657

唯一的问题是当我将“结果”数组转移到另一个数组时，后者的分配代码不小心被注释掉了，这就是为什么我在 NSLog 中得到空数组的原因。所以好消息可以对 DATE 属性使用聚合操作，解决方案在上面。“结果”数组的打印输出：

```
 2013-02-13 19:19:48.063 YourAppsName[35147:c07] -------- results = (
    {
    count = 2;
    eventDate = "2013-01-01 00:00:00 +0000";
},
    {
    count = 1;
    eventDate = "2013-01-02 00:00:00 +0000";
},
    {
    count = 1;
    eventDate = "2013-01-03 00:00:00 +0000";
} 
```

)

# javascript - three.js - 片段着色器基础 - 根据片段的位置为片段着色

> ID：14828442
> 
> 赞同：1
> 
> 时间：2013-02-12T08:33:40.767
> 
> 标签：javascript, glsl, three.js, webgl, shader

我尝试根据它们在最高和最低顶点之间的位置为我的着色器中的片段着色。以下是着色器：

```
<script type="x-shader/x-vertex" id="vertexshader">

    uniform     float   span;

    attribute   float   displacement;

    varying     vec3    vNormal;
    varying     float   color_according_to_z;

                float   z_actual;

    void main() {
        vNormal = normal;

        vec3 newPosition = position + normal * vec3(0.0, 0.0, displacement);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);

        z_actual = gl_Position.z + span / 2.0;
        color_according_to_z = 1.0 / span * z_actual;
    }

</script>

<script type="x-shader/x-fragment" id="fragmentshader">

    uniform     float   span;

    varying     float   color_according_to_z;

    void main()
    {
        gl_FragColor = vec4(color_according_to_z, 0.5, 0.5, 1.0);
    }

</script> 
```

这是我的渲染功能：

```
function render() {
    requestAnimationFrame(render);

    plane.rotation.x = global_x_rotation;
    plane.rotation.z = global_z_rotation;

    for(var i = attributes.displacement.value.length - 1; i >= 0; i--) {
        attributes.displacement.value[i] = attributes.displacement.value[i] - 0.5 + Math.random();
    };

    uniforms.lowest = attributes.displacement.value.min();
    uniforms.highest = attributes.displacement.value.max();
    uniforms.span = uniforms.highest - uniforms.lowest;

    attributes.displacement.needsUpdate = true;

    uniforms.lowest.needsUpdate = true;
    uniforms.highest.needsUpdate = true;
    uniforms.span.needsUpdate = true;

    renderer.render(scene, camera);
} 
```

我将位移从帧更改为帧，并重新计算最高和最低顶点之间的跨度。

最后一块，如何根据片段的最高或最低位置绘制片段，我还想不通。

**[这是一个带有上述代码的jsfiddle。](http://jsfiddle.net/ichbinadrian/c2jry/)**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:34:33.100

你有几个我可以看到的错误。检查变量中的 NaN。

着色器逻辑看起来不错，但它可能不会产生您想要的颜色。

```
var max = -1.0e30;
var min = +1.0e30;
var x;
for(var i = attributes.displacement.value.length - 1; i >= 0; i--) {
    x = attributes.displacement.value[i] += - 0.5 + Math.random();
    if (x < min ) min = x;
    if (x > max ) max = x;
};

uniforms.lowest.value = min; // lowest.value !
uniforms.highest.value = max;
uniforms.span.value = max - min;

attributes.displacement.needsUpdate = true;

//uniforms.lowest.needsUpdate = true; // not needed for uniforms
//uniforms.highest.needsUpdate = true;
//uniforms.span.needsUpdate = true; 
```

小提琴：http: [//jsfiddle.net/c2jry/2/](http://jsfiddle.net/c2jry/2/)

# php - allow_url_fopen=0 如何正确检查错误，还有其他选择吗？

> ID：14828451
> 
> 赞同：-1
> 
> 时间：2013-02-12T08:34:11.010
> 
> 标签：php, javascript, xml-parsing

> 警告：simplexml_load_file() [function.simplexml-load-file]: http:// 包装器在服务器配置中被 /home/vol6/byethost22.com 中的 allow_url_fopen=0 禁用

此主机（免费主机）已禁用此功能。所以我打算研究一个付费选项（我假设它在那里找不到任何关于它教过的东西。无论如何我教过，如果整个脚本实际上停止执行，因为它稍后我可能会从中学习，更改我的代码为了更好地使用java脚本后备或其他东西。

> 致命错误：在非对象上调用成员函数 xpath()

所以这是我的代码：

```
} elseif ( $provider == 'vimeo' ) {
        $vimeo_hash = unserialize(file_get_contents('http://vimeo.com/api/v2/video/' . $id . '.php'));
        $thumbnail = $vimeo_hash[0]['thumbnail_medium'];
} elseif ( $provider == 'bliptv' ) {
        $blip_xml = simplexml_load_file("http://blip.tv/players/episode/$id?skin=rss");
        $blip_result = $blip_xml->xpath("/rss/channel/item/media:thumbnail/@url");
        $thumbnail = (string) $blip_result[0]['url'];

if ( $thumbnail ) {
    if ( ! list( $width_orig, $height_orig ) = getimagesize( $thumbnail ) ) {
        return "ERROR!";
    } 
```

getimagesize() 产生一个错误，就像第一次提到的那样

**1.**

我是否正确地假设我不能使用许多其他 php 方法之一来进行此 xml 处理，因为这一切都会失败？如果是的话，这会引出我更多的问题。

**2.**

我知道我可以做一些事情，比如把东西放在这样的 if 语句中，但是我如何能够检测图像的 id (if) 是否实际上是错误的/没有被引导或者函数本身是不可能的？

```
if ( $blip_xml = simplexml_load_file("http://blip.tv/players/episode/$id?skin=rss") ){
    [...]
} 
```

**3.**

我认为上面的代码是有效的，但我讨厌它的外观。看起来我忘记使用双“==”而只使用了一个。做这样的事情会让php做两次同样的事情吗？是否正在进行一些缓存（无需额外添加我的主机/软件）

```
if ( simplexml_load_file("http://blip.tv/players/episode/$id?skin=rss" ) ){
    $blip_xml = simplexml_load_file("http://blip.tv/players/episode/$id?skin=rss")
} 
```

**4.**

我可以用 javascript 做同样的事情，我只需要拉图像并将其加载为 div 背景。我是否应该打扰 php 并为 js 做一个后备并首先在 js 中做它？我发现这个[js 脚本的 simplexml 是](http://code.google.com/p/simplexmljs/downloads/detail?name=simplexml.march.2011.js&can=2&q=)4k 并且似乎在 js 中模拟 simplexml。这是正确的开始方式吗？我想用 jquery 很容易，我实际上在 atm 使用它，但后来可能想在没有 jquery 的情况下使用它。或者我可以用更少的 js 代码来做这个简单的事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:56:02.420

该 js 不适用于远程主机，因为它受与它使用的相同源策略的约束`XMLHttpRequest()`。

您应该检查主机是否启用了 curl，然后您可以使用它。/然后`simplexml_load_string()`改用。

# objective-c - 从项目更改 png 图像

> ID：14828452
> 
> 赞同：1
> 
> 时间：2013-02-12T08:34:27.343
> 
> 标签：objective-c, xcode, xcode4.5

我想在我的项目中更改一个 png 图像，我删除了第一个，并添加了新的，但显示了最后一个。

我从项目中删除了第二个，原始图像仍然显示。我在项目中寻找图像，它不存在。

如何删除第一个？我试图清理项目，但图像继续存在。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:37:44.187

你试过了吗：

*   从设备/模拟器中删除应用程序？
*   关闭`Xcode`？
*   重新启动计算机？
*   重新启动您的设备？
*   重置模拟器？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T12:18:37.803

尝试产品 -> 清洁；然后再次运行该应用程序。

如果它不起作用，则关闭 Xcode 并再次打开并运行。

即使问题存在，只需重置您的模拟器（ResetContentsAndSettings）并重新启动 Mac。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:42:28.460

首先从您的模拟器中删除该构建。

然后再次清理并构建项目。

它应该工作。

# ios - 如何从ios中的另一个nib文件访问变量

> ID：14828456
> 
> 赞同：0
> 
> 时间：2013-02-12T08:34:35.207
> 
> 标签：ios, ios5

我有两个视图控制器文件，它们是`InputViewController`和`CurrencyViewController`. 我想访问在`InputView`里面声明的变量`CurrencyView`。它是在空应用程序项目中设计的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T11:30:03.927

```
You can declare the variable globally in AppDelegate & then can access in both viewController.
The changes made in the variable will reflect in both controllers.
Make the variable as a property of AppDelegate.h class
eg. @property (strong, nonatomic) NSString *Var;
& synthesize it in AppDelegate.m
@synthesize Var;

declare "AppDelegate * appDelegate" in both Controllers.h & then in controller.m in viewDidLoad write  appDelegate=[[UIApplication sharedApplication]delegate];

now the variable can accessible using appDelegate.var anywhere in your code of both ViewController & changes are also reflected in both.
Hope this will work more efficiently for your need. 
```

# java - (ning) Async HTTP Client 是否对查询参数进行编码？

> ID：14828462
> 
> 赞同：1
> 
> 时间：2013-02-12T08:35:07.367
> 
> 标签：java, asynchttpclient

我正在使用 ning Async HTTP 客户端，它以以下 URL 格式向下游服务器发送请求：

`http://{downstream-server}:4080/object/id?query_parameters=a1,a2`

注意`,`查询参数中的 。我的问题是 HTTP 客户端似乎在执行请求之前对查询参数进行了编码，如下所示：

`query_parameters=a1%2Ca2`

我知道这是因为下游服务器抛出以下异常：

`Invalid query parameter value: a1%2Ca2\. Can be a1 or a2`

由于某种原因，下游服务器不解码查询参数。就在客户端执行请求之前，我检查了查询参数的值，`request.getQueryParameters()`它仍然存在`query_parameters : a1,a2`。

我可以让 HTTP 客户端不对查询参数进行编码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-01T13:44:46.823

尝试

```
setUseRawUrl(true) 
```

配置客户端时，如下所示：

```
new AsyncHttpClient(new AsyncHttpClientConfig.Builder()
    .setUseRawUrl(true)
    .build()
) 
```

这应该保持 URL 不变。

# security - 将密码存储到未加密的数据库是一个_bug_？

> ID：14828463
> 
> 赞同：-1
> 
> 时间：2013-02-12T08:35:12.883
> 
> 标签：security, testing

所以我作为 QA 工程师做了一个简短的工作，构建测试环境和测试。我看到存储在数据库中的密码未加密。我对该主题进行了一些阅读，很明显这是一种不好的做法。

我应该将其报告为错误吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T08:37:54.093

如果系统上的规定要求是密码应该加密存储，那么这是一个错误。如果没有这样的明确要求，我会将其报告为潜在的安全漏洞。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:38:14.133

不，这不是错误，但作为建议的一部分，您可以强制开发人员加密，因为密码不是任何简单的信息。但最终它取决于 org 到 org。讨论权威。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T18:02:51.840

错误是与预期行为的差异。如果您的系统的预期行为包括“不以纯文本形式存储密码”或“遵守最低安全标准”，那么实际行为就是一个错误。如果不存在这样的期望，则此行为不是错误。我们不了解您的产品，因此我们无法回答这种行为是否是错误的问题。如果您不知道给定行为是否是错误，请询问负责定义您的产品的人员。

# c# - 动态创建对象

> ID：14828469
> 
> 赞同：0
> 
> 时间：2013-02-12T08:35:39.807
> 
> 标签：c#, interface

我有一个界面

```
public interface ITask
{
  void MethodA();
} 
```

和两个实现 ITask 的类

```
public class TaskA: ITask
{
  public void MethodA();
} 
```

和

```
public class TaskB : TaskA,ITask
{
} 
```

现在基于某些条件，我希望创建一个 TaskA 或 TaskB 的实例。我如何在这里使用泛型以及如何初始化对象

```
public void MethodB(int a)
{
  ITask task;
  if(a=1)
  {
    // use TaskA
  }
  else
  {
    //use TaskB
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:39:48.393

如果你的意思是你可能有一个泛型类型或方法参数，你可以这样做：

```
public class A<T> where T : ITask, new()
{
    public void Some() 
    {
         T instanceOfITask = new T();
    }
} 
```

...或者：

```
public class A
{
    public void Some<T>() where T : ITask, new()
    {
         T instanceOfITask = new T();
    }
} 
```

通用约束允许您指定`T`必须实现`ITask`并且必须具有公共无参数构造函数。

## 更新

由于 OP 已经编辑了这个问题，我目前的答案可能已经过时了。

顺便说一句，由于我不知道您的实际要求，我可以争辩说您仍然可以使用此解决方案。

与其在应该处理*ITask实例的方法中执行**if some 条件*，不如在调用者中执行并再次利用泛型约束来避免反射及其性能损失。

 *归根结底，这是使用*抽象工厂模式*：

```
// The abstract factory!
public static class TaskFactory
{
    public static T Create<T>() where T : ITask, new()
    {
         T instanceOfITask = new T();
         // more stuff like initializing default values for the newly-created specific task

         return instanceOfITask;
    }
} 
```

后来，某处：

```
ITask task = null;

// Depending on the condition, you invoke the factory method with different implementation of ITask
if([some condition])
{
   task = TaskFactory.Create<MySpecificTaskImplementationA>();
}
else
{
   task = TaskFactory.Create<MySpecificTaskImplementationB>();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:39:15.263

假设在你的 Itask 我们有

```
public interface Itask
    {
        IQueryable<T> TaskA();
        Iqueryable<T> TaskB();
    } 
```

然后创建实例..

```
public class Tasks:Itask
    {
        CategoryDataEntities db = new CategoryDataEntities();

        public IQueryable<Category> CategoryList()
        {
            IQueryable<Category> categoryLiist = db.Categories.AsQueryable();

            return categoryLiist;
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:40:24.977

我质疑是否需要泛型。你已经有了一个接口契约，这很好。在这种情况下，您只需要一个基于某些输入条件构建实例的工厂类或方法。

使用 Activator.CreateInstance() 假定 ITask 的实现者可以在动态加载的程序集中。

```
class Factory 
{
    public ITask Build(string input)
    {
        switch(input) {
            case "A":
                return (ITask)Activator.CreateInstance(typeof(TaskA));
            case "B":
                return (ITask)Activator.CreateInstance(typeof(TaskB));
            default;
                throw new Exception();
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:43:05.153

您似乎根本不需要泛型，似乎您需要一个工厂。这是一个简单而幼稚的实现：

```
public static class TaskFactory
{
   public static ITask CreateTask(TaskType taskType)
   {
      switch (taskType)
        cast TaskType.TaskA:
          return new TaskA();
        cast TaskType.TaskB:
          return new TaskB();
        default:
          throw new InvalidArgumentException("unknown task type");
   }
} 
```

`TaskType`枚举定义如下：

```
public enum TaskType
{
   TaskA,
   TaskB,
} 
```

您可以在代码中使用它

```
ITask myTast = TaskFactory.CreateTask(TaskType.TaskA); 
```

因此，如您所见，在这种情况下，泛型不是强制性的。但是，如果您确实有无参数构造函数，并且类型在编译时是已知的，那么您确实可以使用泛型为`CreateTask`方法提供类型参数，如下所示：

```
public static T CreateTask<T>() where T : ITask, new()
{
   return new T();
} 
```

可以这样使用：

```
ITask myTast = TaskFactory.CreateTask<TaksA>(); 
```

两种实现都可以并存，并且在某些情况下两者都很有用。*

# django - Django URLconf 到 URLconf 错误

> ID：14828473
> 
> 赞同：0
> 
> 时间：2013-02-12T08:35:54.493
> 
> 标签：django, mapping

我正在使用教程[https://docs.djangoproject.com/en/dev/intro/tutorial03/](https://docs.djangoproject.com/en/dev/intro/tutorial03/)编写我的第三个 django 应用程序，但我无法将 URLconf 映射到另一个 URLconf 。

我将尝试尽可能清楚地解释我的问题。我有一个 mysite 目录和 app 目录，我在 mysite 目录中调用了 myapp。我试图将 mysite 目录的 URLconf 指向 myapp 目录的 URLconf。一旦它被指出，它将从 myapp view.py 中执行一个“你好”。

路径是：

家/超人/我的网站

我的 myapp 路径是

主页/超人/mysite/myapp

我的 urls.conf 的 mysite 是

```
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
   url(r'^admin/', include(admin.site.urls)),
   url(r'^polls/',include('mysite.myapp.urls')),
) 
```

我在 myapp 中的 view.py 是

```
from django.http import HttpResponse
def index(request):
    return HttpResponse("hello")# Create your views here. 
```

我在 myapp 中的 urls.py 是

```
django.conf.urls import patterns,url
from mysite.myapp.views import index

urlpatterns=patterns('',
    url(r'^$',index, name'index')
        ) 
```

感谢你们对我的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:49:48.200

我想你已经用 line 做到了

```
url(r'^polls/',include('mysite.myapp.urls')), 
```

在您的*mysite/urls.py*中。该`index`视图将在 url 上可见`http://yourserver/polls/`

我希望您已经修复了适当的 python 路径，以便像这样的导入`from mysite.myapp.views import index`效果很好。如果没有，您可以将它们修复为`from myapp.views import index`.

然后将 urls.py 更新为

```
url(r'^polls/',include('myapp.urls')), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:40:39.677

```
from django.conf.urls import patterns, include, url
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^polls/',include('myapp.urls', namespace="myapp")),
) 

------------------------------------------------------------
django.conf.urls import patterns, url

urlpatterns=patterns('myapp.views',
    url(r'^$','index', name='index')
) 
```

# email - Outlook 2007：创建检测自动转发邮件并处理它们的邮件规则

> ID：14828475
> 
> 赞同：5
> 
> 时间：2013-02-12T08:36:05.247
> 
> 标签：email, outlook, rules, forward

我正在寻找与创建自动转发电子邮件的规则相反的东西。我想创建一个规则来处理收到的自动转发的电子邮件，但不是任何由同一个人手动转发或回复的邮件。

例如，Jim 将所有主题中带有“blah”的电子邮件转发给我，我想将这些自动转发移动到我的“Jim's auto-forwards”文件夹，但如果他手动向我转发一条消息，上面写着“blah”但他添加了自己的评论，我希望它留在我的收件箱中。

Outlook 似乎知道它是自动转发的，因为它在您查看电子邮件时显示为这样。就在“发件人”部分的上方，但就在功能区的下方，它说的是：

```
"This message was AutoForwarded." 
```

但是我还没有找到任何选项来创建过滤这些的规则。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-09-07T03:36:42.773

我们的交换服务器（可能是 Outlook？）在自动转发时添加了以下标头：

```
Auto-Submitted: auto-generated
X-MS-Exchange-Generated-Message-Source: Mailbox Rules Agent 
```

（通过打开电子邮件并查看消息“属性”以查看标题可以看到）这些似乎是 Outlook 用来检测邮件是否被自动转发（或至少一致）的内容

并且 Outlook/Exchange 2013 具有过滤选项“在邮件标题中包含指定的单词”

我使用了类似于以下内容的规则，成功地将仅从“Jim”自动转发的“blah”主题消息移动到特定文件夹：

```
Apply this rule after the message arrives
from 'jim@example.com'
 and with 'blah' or 'blurg' in the subject
 and with 'auto-generated' or 'Auto-Submitted' in the message heade
move it to the 'Jims auto-forwards' folder 
```

这似乎可以防止他手动转发的任何内容被相同的规则处理。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-06-24T02:25:13.073

我们的 Exchange 服务器为自动转发和自动回复添加了以下标头

```
X-MS-Exchange-Inbox-Rules-Loop: abc@company.com 
```

其中**abc@company.com**是自动转发电子邮件的人的电子邮件。

我使用已设置规则的 MS Outlook 2010 ->

`From: abc@company.com and with 'X-MS-Exchange-Inbox-Rules-Loop: abc.xyz@company.com' or 'X-MS-Exchange-Inbox-Rules-Loop: abc.XYZ@company.com' in the message header move it to the 'xyz' folder`

我已经检查了邮件标题中的**abc.xyz@company.com**和**abc.XYZ@company.com**，因为在某些自动 Fwd/Re 电子邮件标题中，发件人的姓氏是大写的。

*注意：如前所述，此规则适用于该人的所有自动转发和自动回复（例如外出/休假自动回复）。不过滤手动转发/RE 电子邮件*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T18:34:20.933

我不认为规则可以做到这一点。

尝试一些VBA。**未经测试**

编辑 2013 02 26

将代码放入 ThisOutlookSession [http://www.slipstick.com/outlook-developer/how-to-use-outlooks-vba-editor/](http://www.slipstick.com/outlook-developer/how-to-use-outlooks-vba-editor/)

这里有一些参考，因此您可以在必要时进行调试。

NewMailEx： http: [//msdn.microsoft.com/en-us/library/office/bb147646 (v=office.12).aspx](http://msdn.microsoft.com/en-us/library/office/bb147646(v=office.12).aspx)

自动转发属性：http: [//msdn.microsoft.com/en-us/library/office/ff867162.aspx](http://msdn.microsoft.com/en-us/library/office/ff867162.aspx)

```
 Private Sub Application_NewMailEx(ByVal EntryIDCollection As String)
    Dim varEntryIDs
    Dim objItem
    Dim i As Integer

    Dim myOlApp As Outlook.Application
    Dim myNameSpace As Outlook.NameSpace
    Dim myInbox As Outlook.MAPIFolder
    Dim myDestFolder As Outlook.MAPIFolder

    varEntryIDs = Split(EntryIDCollection, ",")
    For i = 0 To UBound(varEntryIDs)
        Set objItem = Application.Session.GetItemFromID(varEntryIDs(i))

        'Debug.Print "NewMailEx " & objItem.Subject

        If objItem.SenderName = "Jim Smith" Then

            If objItem.AutoForwarded then

              Set myNameSpace = myOlApp.GetNamespace("MAPI")
              Set myInbox = myNameSpace.GetDefaultFolder(olFolderInbox)

              ' Assumes destination folder is directly under the Inbox
              Set myDestFolder = myInbox.Folders("Jim AutoForwarded")
              objItem.Move myDestFolder

            End If
        End If

   Next
   Set objItem = Nothing
   Set myDestFolder = Nothing
   Set myInbox = Nothing
   Set myNameSpace = Nothing
   End Sub 
```

# c++ - 混淆使用 std::less 和 std::greater 与 std::sort

> ID：14828476
> 
> 赞同：7
> 
> 时间：2013-02-12T08:36:06.010
> 
> 标签：c++, c, sorting, stl, std

在 C 中，sort 通常按以下示例实现：

```
#include <stdio.h>

void Sort( int* arr, int n, bool(*cmp)(int,int) )
{
    for( int i=0; i<n-1; i++ )
    {
        for( int j=i+1; j<n; j++ )
        {
            if( cmp(arr[i], arr[j]) )
                swap( arr[i], arr[j] );
        }
    }
}

int ascending( int a, int b ) { return a > b; }    // greater
int descending( int a, int b ) { return a < b; }   // less

void main()
{
    int arr[10] = { 1,3,5,7,9,2,4,6,8,10 };

    // ascending
    Sort( arr, 10, ascending );
    for( int i=0; i<10; i++ )
        printf( "%d ", arr[i] );

    printf( "\n" );

    // descending
    Sort( arr, 10, descending );
    for( int i=0; i<10; i++ )
        printf( "%d ", arr[i] );

    printf( "\n" );
} 
```

所以我写了一些源代码，如下例所示，期望得到相同的结果：

```
#include <iostream>
#include <algorithm>    // for sort
#include <functional>   // for less & greater
using namespace std;

bool gt( int a, int b ) { return a > b; }   // greater
bool ls( int a, int b ) { return a < b; }   // less

void main()
{
    int x[10] = { 1,3,5,7,9,2,4,6,8,10 };

    // ascending but descending
    sort( x, x+10, gt );
    for( int i=0; i<10; i++ )
        cout << x[i] << " ";

    cout << endl;

    // descending but ascending
    sort( x, x+10, ls );
    for( int i=0; i<10; i++ )
        cout << x[i] << " ";

    cout << endl;

    greater<int> g; // a > b
    less<int> l;    // a < b

    // ascending but descending
    sort( x, x+10, g );
    for( int i=0; i<10; i++ )
        cout << x[i] << " ";

    cout << endl;

    // descending but ascending
    sort( x, x+10, l );
    for( int i=0; i<10; i++ )
        cout << x[i] << " ";

    cout << endl;
} 
```

但我的预期并不正确。

为什么 STL 中的排序不像 C 中的排序那样工作？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T08:55:19.303

[`std::sort`](http://www.cplusplus.com/reference/algorithm/sort/)默认按升序排序。如果您正在寻找降序，这里的诀窍是：

```
int x[10] = { 1,3,5,7,9,2,4,6,8,10 };
std::vector<int> vec(x, x+10);          // construct std::vector object
std::sort(vec.rbegin(),vec.rend());     // sort it in reverse manner 
```

这样，您明确地说`std::sort`应该将您的数组视为它的结尾是它的开头，反之亦然，这导致您的数组按降序排序。[这是完整的示例。](http://ideone.com/iGlzVd)

* * *

如果你想使用[`std::less`](http://www.cplusplus.com/reference/functional/less/)and [`std::greater`](http://www.cplusplus.com/reference/functional/greater/)，那么它可能看起来像这样：

```
int x[10] = { 1,3,5,7,9,2,4,6,8,10 };
std::sort(x, x + 10, std::less<int>());     // for ascending order
std::sort(x, x + 10, std::greater<int>());  // for descending order 
```

第二种解决方案的完整示例在[这里](http://ideone.com/Hamls3)。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-12T08:43:11.817

`std::sort`之所以如此，是因为它基于[*严格的弱排序*](http://en.wikipedia.org/wiki/Strict_weak_ordering)的思想，这（通常）是根据`<`运算符定义的。

至于你的问题；目前似乎是“我编写了一个行为与 . 不同的 C 函数`std::sort`。为什么不同？”。答案是：因为你写了一个不同的函数！

# ipad - 我如何从 ibook 链接到另一个？

> ID：14828477
> 
> 赞同：0
> 
> 时间：2013-02-12T08:36:09.400
> 
> 标签：ipad, hyperlink, ibooks

我正在为一位客户制作一个包含他所有产品的目录。每个产品都有自己的 pdf 文件。现在我想从主目录链接到我 ibook 中的另一个 pdf 文件。

这些文件已经在 ibook 中，需要在没有 Internet 连接的情况下进行链接。现在有谁可以链接到这个文件？或者有谁知道到达这个文件的路径？

我期待着你的任何答案！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T16:31:22.717

据我所知，这是不可能的。

# javascript - Ember.js ember-data 恢复适配器无法加载 json

> ID：14828478
> 
> 赞同：11
> 
> 时间：2013-02-12T08:36:12.893
> 
> 标签：javascript, json, ember.js, ember-data

干杯! 我有 ember 数据存储：

```
TravelClient.Store = DS.Store.extend({
  revision: 11,
  adapter: DS.RESTAdapter.create({ bulkCommit: false, url: "http://someIP:somePORT"})
}); 
```

和路由器：

```
TravelClient.ToursRoute = Ember.Route.extend({
  model: function() {
    return TravelClient.Tour.find();
  }
}); 
```

我从远程服务器收到这个 JSON：

```
{
  "tours": [
    {
      "id": "5110e8b5a8fefe71e0000197",
      "title": "qui deserunt dolores",
      "description": "Id velit nihil.",
      "seats": 12,
      "options": [

      ],
      "images": [
        {
          "id": "5110e8b5a8fefe71e0000196",
          "url": "url"
        }
} 
```

但是当我尝试`return TravelClient.Tour.find()`它失败时：

```
http://someIP:somePORT/tours 404 (Not Found)

XMLHttpRequest cannot load http://someIP:somePORT/tours. Origin http://localhost:3000 is not allowed by Access-Control-Allow-Origin. 
```

它似乎 RESTAdapter 不知道，它必须接收 JSON 还是什么？

**更新：**

在 Rails 服务器端的应用程序控制器中：

```
def set_access_control_headers
  headers['Access-Control-Allow-Origin'] = '*'
  headers['Access-Control-Request-Method'] = '*'
end 
```

但它仍然是：

```
OPTIONS http://someIP:somePORT/tours 404 (Not Found) 
```

看起来 RESTAdapter 试图加载 tours 资源，而不是 tours.json：

```
Request URL:http://someIP:somePORT/tours 
```

**工作解决方案**

扩展 RESTAdapter：

```
TravelClient.CUSTOMAdapter = DS.RESTAdapter.extend({
  bulkCommit: false, 
  url: "http://remote_server_address",    
  buildURL: function(record, suffix) {
    var s = this._super(record, suffix);
    return s + ".json";
  }
}) 
```

并使用正确的标头响应 OPTIONS 请求

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-12T08:47:43.683

`RESTAdapter`期望这`JSON`不是问题，但页面和 json 不在同一个域中，这是一个安全问题。您可以使用以下两种解决方案之一来解决此问题。

您遇到了应该使用或的[相同来源策略](http://en.wikipedia.org/wiki/Same_origin_policy)。最快的解决方法可能是告诉 ember-data 你想使用.`JSONP``CORS``JSONP`

对于`CORS`您的服务器需要响应`OPTIONS`带有标头的请求：

*   `Access-Control-Allow-Origin`
*   `Access-Control-Request-Method`

我不是 Rails 专家，但您可能需要对 gem 做一些事情，`rack-cors`请参见[此处](http://blog.carbonfive.com/2012/02/27/supporting-cross-domain-ajax-in-rails-using-jsonp-and-cors/)或[此处](https://rubygems.org/gems/rack-cors)。

你可以通过像这样覆盖`ajax`钩子来做到这`RESTAdapter`一点：

```
App.store = DS.Store.create({
    revision: 11,
    adapter: DS.RESTAdapter.create({
        namespace: "data",
        url: "",
        ajax: function (url, type, hash) {
            hash.url = url;
            hash.type = type;
            hash.dataType = 'jsonp';
            hash.contentType = 'application/json; charset=utf-8';
            hash.context = this;

            if (hash.data && type !== 'GET') {
                hash.data = JSON.stringify(hash.data);
            }

            jQuery.ajax(hash);
        },
    })
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-05T13:33:24.487

我在 Rails 中有一个简单的工作（到目前为止对我有用。）它不整洁，但可以很容易地通过控制器中的逻辑来收紧。

在`routes.rb`：

```
match   ':path' => 'authentications#allow', constraints: {method: 'OPTIONS'} 
```

它只是将状态返回`OK`给任何`OPTIONS`请求。

```
def allow
  head :ok
end 
```

然后`application_controller.rb`为每个请求设置跨域资源共享 (CORS) 标头：

```
before_filter :cors
def cors
  response.headers.merge! 'Access-Control-Allow-Origin' => '*', 'Access-Control-Allow-Methods' => 'POST, PUT, GET, DELETE', 'Access-Control-Allow-Headers' => 'Origin, Accept, Content-Type'
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-22T21:37:28.900

`ajaxOptions`如果您正在寻找使用 JSONP，覆盖私有函数而不是使用`jQuery`和覆盖该`ajax`方法要容易得多。Ember 的管道包括删除 jQuery 依赖项。所以改为这样做：

`adapters/application.js`：

```
import DS from 'ember-data';

export default DS.RESTAdapter.extend({
    ajaxOptions: function(url, type, options) {
        var hash = this._super(url, type, options);
        hash.dataType = "jsonp";
        return hash;
    }
}); 
```

如果 Ember 核心团队可以公开一个公共方法来正式支持这一点（而不是破解私有 api），它将被创建。

[https://github.com/emberjs/data/blob/1.0.0-beta.15/packages/ember-data/lib/adapters/rest_adapter.js#L915](https://github.com/emberjs/data/blob/1.0.0-beta.15/packages/ember-data/lib/adapters/rest_adapter.js#L915)

# ios - 在分组的 TableView 布局中增加 UITableViewCell 的宽度

> ID：14828479
> 
> 赞同：1
> 
> 时间：2013-02-12T08:36:15.077
> 
> 标签：ios, uitableview

我试图摆脱组内一组单元格左右两侧的单元格边距。

我环顾四周，找到[了这个问题/答案](https://stackoverflow.com/questions/10070854/set-the-width-of-an-grouped-cell-in-xcode) ，但这似乎可能会导致很多问题。

我也尝试改变 cell.indentationWidth 和 cell.indentationLevel 但这些似乎改变了单元格内的缩进，而不是单元格本身。

是否有 Apple 批准的方法来更改这些单元格以拉伸 Tableview 的宽度？

提前感谢您，非常感谢您的帮助。

斯科特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:38:46.017

做一件事。在此添加标签或任何其他控件，然后将其添加到您的`UITableviewcell`.

然后你可以根据你的需要给出你想要的任何格式。

# c++ - 使用 Magick++ 将蒙太奇保存到 Blob

> ID：14828486
> 
> 赞同：3
> 
> 时间：2013-02-12T08:37:15.197
> 
> 标签：c++, imagemagick, magick++, montage

我有一个蒙太奇，我可以在指定目标路径时将它保存到磁盘。但是当我尝试将它保存到 Blob 时它失败了。

**我错过了一些设置吗？**

版本：ImageMagick 6.8.2-5 2013-02-05 Q8

机器：Windows 7 x64

**编辑**：例外：

```
Unhandled Exception: System.Runtime.InteropServices.SEHException: External component has thrown an exception.
   at Magick.throwException(_ExceptionInfo* )
   at Magick.writeImages<class std::_List_iterator<class std::_List_val<class Magick::Image,class std::allocator<class Magick::Image> > > >
   (_List_iterator<std::_List_val<Magick::Image\,std::allocator<Magick::Image> > > first_, _List_iterator<std::_List_val<Magick::Image\,std::allocator<Magick::Image
   > > > last_, Blob* blob_, Boolean adjoin_) in d:\dev\projects\ecs\layers\tools\imagemagicknet\include8\magick++\stl.h:line 2562 
```

[源图像](http://torgyik.co.uk/montage/montage.rar)

编码：

```
 void test()
   {
      list<Magick::Image> sourceImageList;
      Magick::Image image;

      image.read("d:\\imtest\\Montage\\1.jpg");
      sourceImageList.push_back(image);
      image.read("d:\\imtest\\Montage\\2.jpg");
      sourceImageList.push_back(image);
      image.read("d:\\imtest\\Montage\\3.jpg");
      sourceImageList.push_back(image);

      Magick::Color color("rgba(0,0,0,0)");

      Montage montageSettings;
      montageSettings.geometry("100x100-0-0");
      montageSettings.shadow(true);
      montageSettings.backgroundColor(color);
      montageSettings.tile( "3x1" );

      list<Magick::Image> montagelist;
      Magick::montageImages( &montagelist, sourceImageList.begin(), sourceImageList.end(), montageSettings);

      // This will give the expected result
      Magick::writeImages(montagelist.begin(), montagelist.end(), "d:\\imtest\\Montage\\out.png");

      Magick::Blob *b = new Magick::Blob();
      // This will throw an exception mentioned above
      Magick::writeImages(montagelist.begin(), montagelist.end(), b);
      Magick::Image imageFromBlob(*b);
      imageFromBlob.write("d:\\imtest\\Montage\\outBlob.png");

   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T16:02:16.083

您应该为异常添加try/catch 块，以便捕获并诊断异常（例如将异常打印到stderr 以便可以看到“what”字符串）。无法诊断未处理的异常。

[Magick::Exception] 详细介绍了处理 Magick++ 抛出的异常的正确方法。[1](http://www.graphicsmagick.org/Magick++/Exception.html)

# android - 视差背景上的 AndEngine 动画精灵帮助！:)

> ID：14828487
> 
> 赞同：3
> 
> 时间：2013-02-12T08:37:14.903
> 
> 标签：android, andengine, parallax, sprite, animated

![例子](../Images/df3b5c1811eba3bc270a213ac561863e.png)

嗨，我的名字是 Jonas，我正在上一门 Android 编程的大学课程。我总是不得不采取艰难的方式去 AndEngine。

在上图中，您可以看到我正在使用具有三层的视差背景。我正在制作一个横向卷轴，因此底部带有蓝色线条的冰轨正在滚动。我想为这张图片制作动画并将其放在轨道上。

![我想要动画的图片](../Images/09a97a36de4406ebdb7554826c3f55bb.png)

当我在为背景中的两个人设置动画时加载它时，模拟器将以相同的方式进行动画处理，并在屏幕一角向我显示图片的一个小三角形。一张有效的动画图片是这样的：

![（有效的图片。）](../Images/772682f063e0190cce80b2c81b5f7379.png)

我的马动画图片是大还是我做错了什么。我在互联网上找不到太多关于这个问题的信息！我真的很感激我能得到的所有帮助！

这是我的代码示例，我知道它是 andEngine 示例的盗版，但我是来学习的。

```
package com.example.towerofhanoi;

import org.andengine.engine.camera.Camera;
import org.andengine.engine.options.EngineOptions;
import org.andengine.engine.options.ScreenOrientation;
import org.andengine.engine.options.resolutionpolicy.RatioResolutionPolicy;
import org.andengine.entity.scene.Scene;
import org.andengine.entity.scene.background.AutoParallaxBackground;
import org.andengine.entity.scene.background.ParallaxBackground.ParallaxEntity;
import org.andengine.entity.sprite.AnimatedSprite;
import org.andengine.entity.sprite.Sprite;
import org.andengine.entity.util.FPSLogger;
import org.andengine.opengl.texture.TextureOptions;
import org.andengine.opengl.texture.atlas.bitmap.BitmapTextureAtlas;
import       org.andengine.opengl.texture.atlas.bitmap.BitmapTextureAtlasTextureRegionFactory;
import org.andengine.opengl.texture.region.ITextureRegion;
import org.andengine.opengl.texture.region.TiledTextureRegion;
import org.andengine.opengl.vbo.VertexBufferObjectManager;
import org.andengine.ui.activity.SimpleBaseGameActivity;

/**
 * (c) 2010 Nicolas Gramlich
 *
 * @author Nicolas Gramlich
 * @since 19:58:39 - 19.07.2010
 */
public class MainActivity extends SimpleBaseGameActivity {
// ===========================================================
// Constants
// ===========================================================

private static final int CAMERA_WIDTH = 720;
private static final int CAMERA_HEIGHT = 480;

// ===========================================================
// Fields
// ===========================================================

private BitmapTextureAtlas mBitmapTextureAtlas;
private TiledTextureRegion mPlayerTextureRegion;
private TiledTextureRegion mEnemyTextureRegion;

private BitmapTextureAtlas mAutoParallaxBackgroundTexture;

private ITextureRegion mParallaxLayerBack;
private ITextureRegion mParallaxLayerMid;
private ITextureRegion mParallaxLayerFront;

// ===========================================================
// Constructors
// ===========================================================

// ===========================================================
// Getter & Setter
// ===========================================================

// ===========================================================
// Methods for/from SuperClass/Interfaces
// ===========================================================

@Override
public EngineOptions onCreateEngineOptions() {
    final Camera camera = new Camera(0, 0, CAMERA_WIDTH, CAMERA_HEIGHT);

    return new EngineOptions(true, ScreenOrientation.LANDSCAPE_FIXED, new RatioResolutionPolicy(CAMERA_WIDTH, CAMERA_HEIGHT), camera);
}

@Override
public void onCreateResources() {
    BitmapTextureAtlasTextureRegionFactory.setAssetBasePath("gfx/");

    this.mBitmapTextureAtlas = new BitmapTextureAtlas(this.getTextureManager(), 256, 128, TextureOptions.BILINEAR);
    this.mPlayerTextureRegion = BitmapTextureAtlasTextureRegionFactory.createTiledFromAsset(this.mBitmapTextureAtlas, this, "player.png", 0, 0, 3, 4);
    this.mEnemyTextureRegion = BitmapTextureAtlasTextureRegionFactory.createTiledFromAsset(this.mBitmapTextureAtlas, this, "enemy.png", 73, 0, 3, 4);
    this.mBitmapTextureAtlas.load();

    this.mAutoParallaxBackgroundTexture = new BitmapTextureAtlas(this.getTextureManager(), 1024, 1024);
    this.mParallaxLayerFront = BitmapTextureAtlasTextureRegionFactory.createFromAsset(this.mAutoParallaxBackgroundTexture, this, "parallax_background_layer_front.png", 0, 0);
    this.mParallaxLayerBack = BitmapTextureAtlasTextureRegionFactory.createFromAsset(this.mAutoParallaxBackgroundTexture, this, "parallax_background_layer_back.png", 0, 188);
    this.mParallaxLayerMid = BitmapTextureAtlasTextureRegionFactory.createFromAsset(this.mAutoParallaxBackgroundTexture, this, "parallax_background_layer_mid.png", 0, 669);
    this.mAutoParallaxBackgroundTexture.load();
}

@Override
public Scene onCreateScene() {
    this.mEngine.registerUpdateHandler(new FPSLogger());

    final Scene scene = new Scene();
    final AutoParallaxBackground autoParallaxBackground = new AutoParallaxBackground(0, 0, 0, 5);
    final VertexBufferObjectManager vertexBufferObjectManager = this.getVertexBufferObjectManager();
    autoParallaxBackground.attachParallaxEntity(new ParallaxEntity(0.0f, new Sprite(0, CAMERA_HEIGHT - this.mParallaxLayerBack.getHeight(), this.mParallaxLayerBack, vertexBufferObjectManager)));
    autoParallaxBackground.attachParallaxEntity(new ParallaxEntity(-5.0f, new Sprite(0, 80, this.mParallaxLayerMid, vertexBufferObjectManager)));
    autoParallaxBackground.attachParallaxEntity(new ParallaxEntity(-10.0f, new Sprite(0, CAMERA_HEIGHT - this.mParallaxLayerFront.getHeight(), this.mParallaxLayerFront, vertexBufferObjectManager)));
    scene.setBackground(autoParallaxBackground);

    /* Calculate the coordinates for the face, so its centered on the camera. */
    final float playerX = (CAMERA_WIDTH - this.mPlayerTextureRegion.getWidth()) / 2;
    final float playerY = CAMERA_HEIGHT - this.mPlayerTextureRegion.getHeight() - 5;

    /* Create two sprits and add it to the scene. */
    final AnimatedSprite player = new AnimatedSprite(playerX +230, playerY-180, this.mPlayerTextureRegion, vertexBufferObjectManager);
    player.setScaleCenterY(this.mPlayerTextureRegion.getHeight());
    player.setScale(2);
    player.animate(new long[]{100, 100, 100}, 6, 8, true);

    final AnimatedSprite enemy = new AnimatedSprite(playerX + 200, playerY -180, this.mEnemyTextureRegion, vertexBufferObjectManager);
    enemy.setScaleCenterY(this.mEnemyTextureRegion.getHeight());
    enemy.setScale(2);
    enemy.animate(new long[]{200, 200, 200}, 6, 8, true);

    scene.attachChild(player);
    scene.attachChild(enemy);

    return scene;
}

// ===========================================================
// Methods
// ===========================================================

// ===========================================================
// Inner and Anonymous Classes
// ===========================================================
} 
```

提前致谢...

/乔纳斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T17:02:16.683

您正在使用相同的纹理图集来生成两种纹理。这是你的 textureatlas 定义：

```
this.mBitmapTextureAtlas = new BitmapTextureAtlas(this.getTextureManager(), 256, 128, TextureOptions.BILINEAR); 
```

他们那里的 Y 尺寸 (128) 对于这张图片来说太小了。相反，为玩家图像制作第二个纹理图集，高度至少为 256（它需要 2 的幂），它将覆盖它。

另外，我想确保您是故意这样做的：

```
 this.mPlayerTextureRegion = BitmapTextureAtlasTextureRegionFactory.createTiledFromAsset(this.mBitmapTextureAtlas, this, "player.png", 0, 0, 3, 4); 
```

最后两个数字（3 和 4）代表马精灵表的列数和行数。但是当我看你的马时，我只看到三乘三，而不是三乘四：

![在此处输入图像描述](../Images/b99743299560ecf0c2d20a07832d4d62.png)

您可能希望将空白作为动画中的三个附加单元格，但请确保您是故意这样做的。createTiledFromAsset() 方法假定精灵适合网格。

# python - UDP数据包与python

> ID：14828491
> 
> 赞同：0
> 
> 时间：2013-02-12T08:37:27.747
> 
> 标签：python, udp, packet

我有一个移动路由器，可以使用不同的 Python 脚本进行配置。我需要做的是在具体的 UDP 端口中读取到达路由器的所有数据包，然后将这些信息复制到 .txt 文件中。

任何人都可以给我一些关于如何使用 Python 做到这一点的提示？每次数据包到达路由器时如何检测？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:41:24.897

这是一个快速示例，说明如何绑定到 UDP 端口并在收到数据报时执行一些操作：

```
import socket

s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
s.bind(('', 9800))
try:
    while True:
        result, who = s.recvfrom(256)
        print result, who
finally:
    s.close() 
```

# kendo-ui - KendoUI仪表最大值

> ID：14828493
> 
> 赞同：0
> 
> 时间：2013-02-12T08:37:34.267
> 
> 标签：kendo-ui, gauge

如果输入字段的值大于指针的数量，我如何设置 Kendo UI Radial Gauge 动态最大指针数：

```
<input id="gauge-value" value="180">

$(".gauge").kendoRadialGauge({
                        pointer: {
                            value: $("#gauge-value").val(),
                            color: "#000"
                        },
                        scale: {
                        minorUnit: 5,
                        startAngle: -30,
                        endAngle: 210,
                        max: 100
                    }
                    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T01:05:46.533

定义`max`为表达式。

示例：如果您希望它为 100 或`value`大于 100，请使用：

```
$(".gauge").kendoRadialGauge({
    pointer: {
        value: $("#gauge-value").val(),
        color: "#000"
    },
    scale  : {
        minorUnit : 5,
        startAngle: -30,
        endAngle  : 210,
        max       : Math.max(100, $("#gauge-value").val())
    }
}); 
```

# jquery - 带有 Asp.net 母版页的 Jquery 验证插件不起作用

> ID：14828495
> 
> 赞同：3
> 
> 时间：2013-02-12T08:37:35.823
> 
> 标签：jquery, asp.net, twitter-bootstrap, jquery-validate, master-pages

你好我正在使用jquery验证插件，它没有显示任何消息

我的 javascript 是

```
<script type="text/javascript">

         $(document).ready(function () {

             $('#mainform').validate({
                 rules: {
                     DishNameTextBox: { required: true, minlength: 2 },
                     DishDescriptionTextBox: { required: true }
                 },
                 highlight: function (label) {
                     alert('hi');
                     $(label).closest('.control-group').addClass('error');
                 },
                 success: function (label) {

                     label
                         .text('OK!').addClass('valid')
                         .closest('.control-group').addClass('success');
                 }
             });
         });
     </script> 
```

我正在使用母版页，它的 HTML 如下

```
<head runat="server">
    <title></title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>        window.jQuery || document.write('<script src="js/vendor/jquery-1.8.2.min.js"><\/script>')</script>
     <script src="js/jquery.validate.js" type="text/javascript"></script>
    <script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/twitter-bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
    <script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
    <script src="js/main.js"></script>
    <link href="css/bootstrapNew.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="css/main.css">
    <link href="css/Custom.css" rel="stylesheet" type="text/css" />
    <link href="themes/default/default.css" rel="stylesheet" type="text/css" />
    <!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
    <form runat="server" id="mainform">
    <uc1:TopNavigationUserControl ID="TopNavigationUserControl1" runat="server" />
    <asp:ContentPlaceHolder ID="ContentPlaceHolderMain" runat="server">
    </asp:ContentPlaceHolder>
    </form>
</body>
</html> 
```

我不确定我要去哪里错了。

请帮忙，因为我已经浪费了 5 个小时来调试这个问题，但没有任何运气.. :(

好的..这是我的观点。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head><title>

</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>        window.jQuery || document.write('<script src="js/vendor/jquery-1.8.2.min.js"><\/script>')</script>
     <script src="js/jquery.validate.js" type="text/javascript"></script>
    <script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/twitter-bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
    <script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
    <script src="js/main.js"></script>
    <link href="css/bootstrapNew.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" href="css/main.css" /><link href="css/Custom.css" rel="stylesheet" type="text/css" /><link href="themes/default/default.css" rel="stylesheet" type="text/css" />
    <!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
    <form method="post" action="ListingNew.aspx" id="mainform">
<div class="aspNetHidden">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKLTUwMzgyNTgzOQ9kFgJmD2QWAgIDD2QWAgIBD2QWAgIHD2QWBAIBDxYCHgRocmVmBTlBdXRoZXRpY2F0aW9uUmVkaXJlY3Rpb24uYXNweD9SZWRpcmVjdFVybD1MaXN0aW5nTmV3LmFzcHhkAgMPFgIfAAU5QXV0aGV0aWNhdGlvblJlZGlyZWN0aW9uLmFzcHg/UmVkaXJlY3RVcmw9TGlzdGluZ05ldy5hc3B4ZGS3V8AKZc9NhSdqUZ2aX1LviwL8XQhOzd4kclkeoKvXZw==" />
</div>

<div class="aspNetHidden">

    <input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWCwL3i6GVDwKcgKH7AgLYwYSQBQKJ9q3+BgKGmYeQCgKHmYeQCgKEmYeQCgKFmYeQCgKCmYeQCgKCmZOTCgL0jMC/B2nnxU9EgXEphsgiaKRpHC6YUG09Nnz/Q/pjswj/I9Po" />
</div>

<div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span
                    class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
                </a><a class="brand" href="/Home.aspx">
                    Khana-wal</a>
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        <li class="dropdown"><a class="dropdown-toggle js-activated" href="#">Browse Dishes
                            <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a tabindex="-1" href="#">Most Popular</a></li>
                                <li><a tabindex="-1" href="#">Near to you</a></li>
                            </ul>
                        </li>
                    </ul>

                    <a class="btn btn-primary pull-right" style="margin-left: 20px" href="NewListing.aspx">Add Your Dish</a>

                    <ul id="TopNavigationUserControl1_LoginUl" class="nav pull-right">
                        <li class="dropdown"><a class="dropdown-toggle js-activated" href="#">Login<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="AutheticationRedirection.aspx?RedirectUrl=ListingNew.aspx" id="TopNavigationUserControl1_FaceBookRedirectUrl" tabindex="-1">FaceBook</a></li>
                                <li><a href="AutheticationRedirection.aspx?RedirectUrl=ListingNew.aspx" id="TopNavigationUserControl1_TwitterRedirectUrl" tabindex="-1">Twitter</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <!-- .nav-collapse -->
            </div>
            <!-- .container -->
        </div>
        <!-- .navbav-inner -->
    </div>

    <script>
        // very simple to use!
        $(document).ready(function () {
            $('.js-activated').dropdownHover(true);
        });
    </script>

    <div class="container" style="margin-top: 60px">
        <div class="span12">
            <div class="navbar-inner" style="text-align: center">
                <h5>
                    Add New Dish</h5>
            </div>
            <div class="form-horizontal" style="margin-top: 10px">
                <div class="control-group">
                    <label class="control-label" for="DishNameTextBox">
                        Dish Name</label>
                    <div class="controls">
                        <input name="ctl00$ContentPlaceHolderMain$DishNameTextBox" type="text" id="DishNameTextBox" name="DishNameTextBox" style="width:300px;" />
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="DishDescriptionTextBox">
                        Dish Description</label>
                    <div class="controls">
                        <textarea name="ctl00$ContentPlaceHolderMain$DishDescriptionTextBox" rows="20" cols="40" id="DishDescriptionTextBox" style="height:250px;width:500px;">
</textarea>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="PeopleDropDownList">
                        People <i class="icon-question-sign" rel="tooltip" title="How many people can sufficiently eat in a single dish">
                        </i>
                    </label>
                    <div class="controls">
                        <select name="ctl00$ContentPlaceHolderMain$PeopleDropDownList" id="ContentPlaceHolderMain_PeopleDropDownList">
    <option value="">-- Select --</option>
    <option selected="selected" value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="5+">5+</option>

</select>
                    </div>
                </div>
                <div class="control-group">
                    <div class="controls">
                        <input type="submit" name="ctl00$ContentPlaceHolderMain$btnSave" value="Connect To facebook and Save" id="ContentPlaceHolderMain_btnSave" class="btn btn-primary" />
                    </div>
                </div>
            </div>
        </div>
    </div>

    </form>

    <script type="text/javascript">

        $(document).ready(function () {

            $('#mainform').validate({
                rules: {
                    DishNameTextBox: "required",
                    DishDescriptionTextBox: { required: true }
                },
                highlight: function (label) {
                    alert('hi');
                    $(label).closest('.control-group').addClass('error');
                },
                success: function (label) {

                    label
                         .text('OK!').addClass('valid')
                         .closest('.control-group').addClass('success');
                }
            });
        });
    </script>

</body> 
```

对于任何正在阅读本文的人

1) ClientModeID = "Static" 将使您的控件 ID 静态，但名称不会[如果您使用母版页，名称会有所不同]

2) Jquery 验证插件适用于**name 和 id 并且两者应该相同**。

我希望它会节省一些人的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:25:38.930

您需要找出在浏览器中呈现的字段名称——我敢打赌它们不叫 DishNameTextBox 和 DishDescriptionTextBox。

他们更有可能被称为

```
ctl00$ctl00$ContentPlaceHolderMain$DishNameTextBox 
```

这就是 asp.net 呈现母版页中包含的表单字段的方式。右键单击 chrome/firefox 中的字段和“检查元素”，或查看源代码并搜索 DishNameTextBox。

**编辑**

你可以看到你的输入有两个名字 jQuery validate 不能很好地配合这个。也许这与 'ClientIDMode="Static"' 我不知道，但你需要解决这个问题

```
<input name="ctl00$ContentPlaceHolderMain$DishNameTextBox" type="text" id="DishNameTextBox" name="DishNameTextBox" style="width:300px;" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T12:11:51.697

获取 jquery 在验证中使用的控件名称，例如

## <%= DishDescriptionTextBox.UniqueID %> 将产生 ctl00$ContentPlaceHolderMain$DishDescriptionTextBox

使用唯一标识

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-12T09:10:18.743

你可以试试这个

```
 $("#aspnetForm").validate({
        rules: {
            <%= txtfname.UniqueID %>: {
                required: true
            }
        }
    }); 
```

# c# - Lambda - C# - 动态表达式，使用 string.IsNullOrEmpty

> ID：14828501
> 
> 赞同：3
> 
> 时间：2013-02-12T08:37:50.310
> 
> 标签：c#, dynamic, lambda, expression

我有以下代码块用于对通用 IQueryable 列表执行一些动态过滤

```
 private static MethodInfo miTL = typeof(String).GetMethod("ToLower", Type.EmptyTypes);

    public static IQueryable<T> Where<T>(IQueryable<T> source, string member, object value)
    {
        if (source == null)
        {
            throw new ArgumentNullException("source");
        }
        if (member == null)
        {
            throw new ArgumentNullException("member");
        }
        if (value == null)
        {
            throw new ArgumentNullException("value");
        }

        if (value is string && !string.IsNullOrWhiteSpace(value.ToString()))
        {
            //If the type is string, force lowercase equals comparison for both sides.
            value = value.ToString().ToLower();

            var parameter = Expression.Parameter(typeof(T), "item");
            var parameterProperty = Expression.Property(parameter, member);

            //ToLower dynamic expression
            var dynamicExpression = Expression.Call(parameterProperty, miTL);

            var constantValue = Expression.Constant(value);
            var equalsExpression = Expression.Equal(dynamicExpression, constantValue);

            var lambdaExpression = Expression.Lambda<Func<T, bool>>(equalsExpression, parameter);

            return source.Where(lambdaExpression);
        }
        else
        {
            var item = Expression.Parameter(typeof(T), "item");
            var prop = Expression.Property(item, member);
            var soap = Expression.Constant(value);
            var equal = Expression.Equal(prop, soap);
            var lambda = Expression.Lambda<Func<T, bool>>(equal, item);
            return source.Where(lambda);
        }
    } 
```

这一切都很好 - 除了我的源可能包含空值，然后返回空引用异常。

它直接转换为（当字段为“交易对手”时：- {item => (item.Counterparty.ToLower() == "交易对手名称")}

我实际需要的 Lambda 表达式形式是：-

{item => !string.IsNullEmptyOrWhitespace(item.Counterparty) && (item.Counterparty.ToLower() == "交易对手名称")}

任何想法如何动态实现这一目标？

--已审核--

这是整个替换代码，使用了更好的字符串。等于检查

```
 public static IQueryable<T> Where<T>(IQueryable<T> source, string member, object value)
    {
        if (source == null)
        {
            throw new ArgumentNullException("source");
        }
        if (member == null)
        {
            throw new ArgumentNullException("member");
        }
        if (value == null)
        {
            throw new ArgumentNullException("value");
        }

        if (value is string && !string.IsNullOrWhiteSpace(value.ToString()))
        {
            var parameter = Expression.Parameter(typeof(T), "item");
            var parameterProperty = Expression.Property(parameter, member);

            var body =
                Expression.AndAlso(
                    Expression.Not(
                        Expression.Call(typeof(string), "IsNullOrEmpty", null, parameterProperty)
                    ),
                    Expression.Call(typeof(string), "Equals", null,
                        parameterProperty, Expression.Constant(value),
                        Expression.Constant(System.StringComparison.InvariantCultureIgnoreCase))
                );

            var body2 = Expression.Call(typeof(string), "Equals", null,
                parameterProperty, Expression.Constant(value),
                Expression.Constant(System.StringComparison.InvariantCultureIgnoreCase));

            var lambdaExpression = Expression.Lambda<Func<T, bool>>(body, parameter);

            return source.Where(lambdaExpression);
        }
        else
        {
            var item = Expression.Parameter(typeof(T), "item");
            var prop = Expression.Property(item, member);
            var soap = Expression.Constant(value);
            var equal = Expression.Equal(prop, soap);
            var lambda = Expression.Lambda<Func<T, bool>>(equal, item);
            return source.Where(lambda);
        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:44:42.307

直译是这样的：

```
var body =
    Expression.AndAlso(
        Expression.Not(
            Expression.Call(typeof(string), "IsNullOrWhiteSpace", null,
                                                       parameterProperty)
        ),
        Expression.Equal(
            Expression.Call(parameterProperty, "ToLower", null),
            Expression.Constant("name of counterparty")
        )
    ); 
```

但是，您最好查看各种`string.Equals`重载。例如：

```
var body = Expression.Call(typeof(string), "Equals", null,
    parameterProperty, Expression.Constant("name of counterparty"),
    Expression.Constant(System.StringComparison.InvariantCultureIgnoreCase)); 
```

# c# - 使用泛型重构

> ID：14828503
> 
> 赞同：0
> 
> 时间：2013-02-12T08:37:53.057
> 
> 标签：c#, .net

当只有 Object 发生变化时，我几乎没有具有相同程序的功能。我试图为该组方法编写通用函数，但未能获得 T 的 ID。

你能帮我重构一下吗？

```
List<ObjectOfSomeKind> allObjects = new List<ObjectOfSomeKind>() { new ObjectOfSomeKind{ ID = 1}, new ObjectOfSomeKind { ID = 2 }};
List<ObjectOfSomeKind> objects = new List<ObjectOfSomeKind>();
            for (int i = 0; i < ids.Count(); i++)
            {
                int id = ids.ElementAt(i);
                ObjectOfSomeKind object = allObjects .Where(item => item.ID.Equals(id)).SingleOrDefault();
                if (object == null)
                {
                    throw new Exception("error");
                }

                objects.Add(object);
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:41:58.180

使用 ID 属性定义接口（或基类）

```
public interface IEntity
{
   int ID { get; set; }
} 
```

通过你的类实现这个接口

```
public class Foo : IEntity
{
   public int ID { get; set; }
} 
```

然后`IEntity`在您的代码中使用，或者（如果您想使用泛型）向您的泛型类或方法添加约束

```
where T : IEntity 
```

更新如果你所有的类都有 ID 属性，你也可以使用`dynamic`对象（有时它也是解决方案，但我更喜欢编译时检查）：

```
List<dynamic> allObjects = new List<dynamic>() { 
    new ObjectOfSomeKind{ ID = 1}, new ObjectOfSomeKind { ID = 2 }};
List<dynamic> objects = new List<dynamic>();

for (int i = 0; i < ids.Count(); i++)
{
    int id = ids.ElementAt(i);
    dynamic obj = allObjects.Where(item => item.ID.Equals(id)).SingleOrDefault();
    if (obj == null)                
        throw new Exception("error");                

    objects.Add(obj);
} 
```

# dynamics-ax-2009 - 如何在报告中获取静态范围

> ID：14828505
> 
> 赞同：0
> 
> 时间：2013-02-12T08:37:57.157
> 
> 标签：dynamics-ax-2009, dynamics-ax-2012, axapta, ax

在 AX 报告中，用户可以选择不同的范围。我试图表明用于过滤报告本身中的用户的标准甚至

该表达式`"parameter!CustomerAccount.Value"`不起作用，因为此过滤器不是静态参数。

用户可以使用查询中的任何表以及表中的任何字段以及任何条件。我正在锁定获取哪个表、哪个字段以及它使用的条件的技巧。

![在此处输入图像描述](../Images/a3d68b0efba15ab74069162f62635a89.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:25:54.153

这个方法效果很好^_^

（（（我用它女贞而不是静态的））

```
 static void getQueryRanges2(Args _args)
{
 Query query;
 QueryRun queryRun;
 QueryBuildDataSource qbd;
 QueryBuildRange range;
 QueryFilter filter;
 int cnt, filtercnt, i,j, k;
 DictTable dictTable;
 DictField dictField;
 str fieldLabel;
 ;
 query = new query(queryStr(smmSalesCustItemStatistics));
 queryRun = new QueryRun(query);
 queryRun.prompt();
 query = queryRun.query();  for(i = 1; i <= query.dataSourceCount(); i++)
 {
    cnt = query.dataSourceNo(i).rangeCount();
    filtercnt = 0;
    if(!query.dataSourceNo(i).embedded())
    {
        filtercnt = query.queryFilterCount(query.dataSourceNo(i));
    }
    dictTable = new DictTable(query.dataSourceNo(i).table());
    for (k=1; k<= filtercnt; k++)
    {
        filter = query.queryFilter(k, query.dataSourceNo(i));
        dictField = new DictField(query.dataSourceNo(i).table(), fieldname2id(query.dataSourceNo(i).table(), filter.field()));
        info (strFmt("%1, %2\. Range = %3", dictTable.label(), dictField.label(), filter.value()));
    }
    for (j=1; j<=cnt; j++)
    {
        range = queryRun.query().dataSourceNo(i).range(j);
        dictField = new DictField(query.dataSourceNo(i).table(), fieldname2id( query.dataSourceNo(i).table(), range.AOTname()));
        if(range.value())
        {
            info(strfmt("%1, %2\. Range = %3",dictTable.label(), dictField.label(), range.value()));
        }
    }
 }
} 
```

请享用 ：）

# database - 如何从同一数据库的 VBA 代码中的 MS ACCESS 中提取字段

> ID：14828507
> 
> 赞同：2
> 
> 时间：2013-02-12T08:38:04.320
> 
> 标签：database, vba, ms-access, outlook

我在 MS ACCESS 中有一个数据库，其中我有一个包含一些计数的 ECount 字段有什么方法可以在 VBA 代码中拉出该调用，我正在生成一封新邮件，该邮件应该拉出邮件中的计数。

```
Private Sub Command_Click()
Dim objOutlook As Outlook.Application
Dim objEmail As Outlook.MailItem
Dim ThisDay As Date

ThisDay = Format(Now, "mm/dd/yy")

Set objOutlook = CreateObject("Outlook.application")
Set objEmail = objOutlook.CreateItem(olMailItem)

With objEmail
    .To = ""
    .CC = ""
    .Subject = "Daily Email Processed " *(Thisday)
    .Body = "Hi," + vbNewLine + vbNewLine + vbNewLine + "Please find below the number of Emails processed for the  " + vbNewLine + vbNewLine + "Email Count = " (**ECOUNT**) + vbNewLine + "O Count = " (**OCount**)
    .Attachments.Add ""
    .Attachments.Add ""
    .Display
    '.ReadReceiptRequested

End With 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:46:02.690

从表/查询中检索单个字段的最简单方法是使用`DLOOKUP`Access 的功能。

所以你可以写：

```
    .Body = "嗨" + vbNewLine + vbNewLine + vbNewLine + _
        "请在下面找到为 " + vbNewLine + vbNewLine + _ 处理的电子邮件数量
        "Email Count = " + DLookup("ECount", "SourceTableOrQuery", "Criteria1 = 5 and Criteria2 = ""Test""") + vbNewLine + _
        "O 计数 = " + DLookup("OCount", "SourceTableOrQuery")

```

或者，如果您还没有计数，但想计算项目数，您可以使用“DCount”函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:46:07.267

```
Dim db As DAO.Database
Dim rs1 As DAO.Recordset
Dim sCount As String

Set db = CurrentDb()
Set rs1 = db.OpenRecordset("SELECT TOP 1 ECounter FROM [Email Query]")

If rs1.RecordCount > 0 Then
    rs1.MoveFirst
    sCount = rs1.Fields("ECount")
End If
rs1.Close
set rs1 = Nothing
set db = Nothing 
```

`sCount`将保持价值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T10:42:16.840

```
Dim db As DAO.Database
Dim rs1 As DAO.Recordset
Dim sCount As String

Set db = CurrentDb()
Set rs1 = db.OpenRecordset("SELECT TOP 1 ECounter FROM [Email Query]")

If rs1.RecordCount > 0 Then
    rs1.MoveFirst
    sCount = rs1.Fields("ECount")
End If
rs1.Close
set rs1 = Nothing
set db = Nothing 
```

# php - 如何将 HTML 页面连接到 MySQL

> ID：14828511
> 
> 赞同：0
> 
> 时间：2013-02-12T08:38:19.990
> 
> 标签：php, html, mysql, post

例如，如何将 html 页面连接到 MySQL，我想`<?php echo $_POST['username']; ?>`在 HTML 文件中使用。我如何连接到 MySQL。我试过这个：

```
<?php
$con=mysql_connect("HOST", "USERNAME", "PASSWORD");
mysql_select_db("DATABASE"); 
?> 
```

但它没有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:44:56.340

HTML是标记语言，基本上它们是一组标签，例如`<html>, <body>,`用于使用css和javascript呈现网站的标签。所有这些都发生在客户端系统或您将浏览网站的用户中。

现在，连接到数据库发生在另一个层面。它发生在服务器上，这是托管网站的地方。

因此，为了连接到数据库并执行各种与数据相关的操作，您必须使用服务器端脚本，如 php、jsp、asp.net 等。

现在，让我们看看使用 PHP 的 MYSQLi 扩展的连接片段

```
$db = mysqli_connect('hostname','username','password','databasename'); 
```

单行代码，足以让您入门，您可以混合这些代码，结合 HTML 标签创建一个 HTML 页面，即显示基于数据的页面。例如：

```
<?php
    $db = mysqli_connect('hostname','username','password','databasename');
?>
<html>
    <body>
          <?php
                $query = "SELECT * FROM `mytable`;";
                $result = mysqli_query($db, $query);
                while($row = mysqli_fetch_assoc($result)) {
                      // Display your datas on the page
                }
          ?>
    </body>
</html> 
```

为了将新数据插入数据库，您可以使用 phpMyAdmin 或编写 INSERT 查询并执行它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:39:54.950

您不能在 html 页面中执行此操作，您需要将代码写入 PHP 文件并将其保存在服务器上然后执行。

注意：不推荐使用 mysql_* 函数，您应该使用更新的 mysqli_* 或 PHP 的 PDO 功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:40:54.620

您需要在服务器上运行它，而不仅仅是在浏览器中。

下载 Apache，安装 PHP 并使用`.php`扩展名保存文件。然后它应该工作。

然后你可以回显一个`$_POST`值，但你不需要 SQL。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:41:12.073

1.  您不能将任何 PHP 代码添加到 HTML 页面。它必须是一个 PHP 页面。
2.  您不需要 mysql 连接来回显 $_POST['username']
3.  你不应该回显任何 $_POST 变量。处理 POST 请求后，网络服务器**应该**命令浏览器使用 GET 方法重新加载页面。但 AJAX 调用不需要。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-12T08:41:15.430

您不能在 HTML 文件中运行 PHP 脚本。您的文件必须具有`.php`扩展名才能运行 php 脚本。

您应该使用[MySQLi](http://php.net/manual/en/book.mysqli.php)而不是`mysql_`函数，因为这些函数已被弃用！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-12T08:42:46.930

当然它不应该工作，因为 html 是客户端，并且您正在服务器端进行连接，因此您可能需要一种称为服务器端脚本语言的很棒的东西来完成您的任务。

您仍然可以使用 ajax 在 html 页面中执行此操作，但正如我所说，您必须使用服务器端脚本语言。

# iphone - UITextView 子类中的viewDidLoad？

> ID：14828514
> 
> 赞同：2
> 
> 时间：2013-02-12T08:38:32.897
> 
> 标签：iphone, ios, objective-c, cocoa

Cocoa/Objective-C 菜鸟在这里。

我正在开发一个简单的应用程序来了解更多关于 iOS 开发的信息，并且正在努力了解我的子类是如何调用`UITextView`它的`viewDidLoad`方法的。

我正在`UITextView`继承`CMTextView`.

使用情节提要，我`CMTextView`在窗口中有一个。

在`CMTextView.m`中，我有以下内容：

```
#import "CMTextView.h"

@interface UITextView ()

- (id)styleString;

@end

@implementation CMTextView

- (id)styleString {
    return [[super styleString] stringByAppendingString:@"; line-height: 1.1em"];
}

- (void)viewDidLoad {
    NSLog(@"LOADED!"); // not doing anything...
} 
```

我没有做任何花哨的事情来将它添加为我的窗口的子视图，但我认为情节提要为我做了这件事？

有人有建议吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-12T08:47:52.357

如果您手动初始化`UITextView`. 如果从笔尖加载它们，则需要覆盖该`-awakeFromNib`方法。

```
-(void)awakeFromNib
{
    [super awakeFromNib]; // Don't forget to call super

    //Do more intitialization here
} 
```

如果你想处理调整大小也覆盖该`-layoutSubviews`方法

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-12T08:42:22.610

`viewDidLoad`是`UIViewController`not `UIView`/中的一个方法`UITextView`

如果你想做任何初始化然后把它放进去`initWithFrame:`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-12T08:42:28.923

`viewDidLoad`是一种`UIViewController`方法（参见[此处](http://developer.apple.com/library/ios/documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/viewDidLoad)）。

`UIKit`确保在您实例化视图控制器的视图时在适当的时间调用它，但它在like`viewDidLoad`中没有任何作用。`UIView``UITextView`

通常，你会`initWithFrame`及时准备好你的观点。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-12T08:46:37.947

视图永远不能有 viewDidLoad 方法。某些方法仅与视图控制器绑定，并且`viewDidLoad`是其中之一。

视图的方法构造函数是

```
-(id)init;
-(id)initWithFrame; 
```

# asp.net - VS 2010 检查辅助功能的问题

> ID：14828518
> 
> 赞同：0
> 
> 时间：2013-02-12T08:38:45.837
> 
> 标签：asp.net, html, visual-studio-2010, accessibility

我正在处理我项目中的可访问性问题。我正在使用 VS 2010 在项目中添加了一个 .htm 文件并粘贴了以下 html。

[代码片段](http://i.stack.imgur.com/s4qie.png)

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <a href="">Submit Go Question</a>
</body>
</html> 
```

当我右键单击 Visual Studio 中的 html 页面并说检查可访问性时，它会引发以下错误。

> 错误 18 **WCAG 13.1**：清楚地识别链接的目标。不要使用“点击这里”。使用描述性的东西，例如“校园地图”。C:\Raghu\Official\MVC\Lab 01 -ASP.NET-MVC-Fundamentals MVC3\Source\Ex01-CreatingMusicStoreProject\Begin\TestAccessibility\TestAccessibility\TestPage.htm 8

当我分析此错误时，我发现每当 HTML 锚标记内有一个带有字母**“Go”**组合的单词时，它都会引发此错误。

**GO**或**go**字母组合不会引发错误。**即使是诸如目标**、**治理**等词也会引发错误，

我认为这与大写字母“G”和小写字母“o”的组合有关。

如何解决该错误（转义组合“Go”）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:30:55.933

这本身并不是一个错误，而是更多关于您应该作为链接的文本的指南。

此页面[http://www.w3.org/WAI/wcag-curric/sam97-0.htm](http://www.w3.org/WAI/wcag-curric/sam97-0.htm)应该让您了解您应该拥有的链接。

在您的示例中`<a href="">Submit Go Question</a>`，链接文本没有意义。通过使用提交一词，您暗示该链接是用于可访问性目的的按钮，而实际上它是一个不会提交表单的链接。

放置可能符合可访问性指南的文本的更好方法是

```
<a href="" title="Begin the questionnaire">Start the questionnaire</a>
<a href="" title="Go to question 5">Next question</a>
<a href="" title="Go to question 3">Previous question</a> 
```

基本上，您必须描述链接将您带到哪里。遵循 W3 指南`click here`就是一个不好的例子，因为在可访问性方面你可能会说“点击哪里？”

# c# - 如何使用 C# 创建我的 json 字符串？

> ID：14828520
> 
> 赞同：6
> 
> 时间：2013-02-12T08:38:54.280
> 
> 标签：c#, asp.net, json, c#-4.0, json.net

我是 json 格式的新手。我想使用 C# 和 json.net 包创建以下 json 字符串。

这是我的目标 Json 格式：

```
{
  "GetQuestions": 
  {
    "s1":"Q1,Q2",
    "s2":"Q1,Q3",
    "s3":"Q4,Q5"
  }
} 
```

在这里，我存储每个学生的问题。但有时，学生的总数可能会有所不同。例如，它可能只是 s1,s2 或 s1,s2,s3,s4.... 这是在 C# 运行时计算的。所以，我想根据学生列表创建 json 字符串......

请指导我摆脱这个问题？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-12T09:04:25.443

json有点奇怪，就像学生是“GetQuestion”对象的属性一样，应该很容易成为List.....

关于您可以使用的库是。

*   [JavaScriptSerializer](http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.aspx)
*   [NewtonSoft.Json](http://james.newtonking.com/pages/json-net.aspx)
*   [简单的Json](https://github.com/facebook-csharp-sdk/simple-json) ...

可能还有更多，但这就是我用过的

关于json，我现在不知道可能是这样的

```
public class GetQuestions
{
    public List<Student> Questions { get; set; }
}

public class Student
{
    public string Code { get; set; }
    public string Questions { get; set; }
}

void Main()
{
    var gq = new GetQuestions
    {
        Questions = new List<Student>
        {
            new Student {Code = "s1", Questions = "Q1,Q2"},
            new Student {Code = "s2", Questions = "Q1,Q2,Q3"},
            new Student {Code = "s3", Questions = "Q1,Q2,Q4"},
            new Student {Code = "s4", Questions = "Q1,Q2,Q5"},
        }
    };

    //Using Newtonsoft.json. Dump is an extension method of [Linqpad][4]
    JsonConvert.SerializeObject(gq).Dump();
} 
```

[Linqpad](http://www.linqpad.net/)

结果是这样的

```
{
     "Questions":[
        {"Code":"s1","Questions":"Q1,Q2"},
        {"Code":"s2","Questions":"Q1,Q2,Q3"},
        {"Code":"s3","Questions":"Q1,Q2,Q4"},
        {"Code":"s4","Questions":"Q1,Q2,Q5"}
      ]
 } 
```

是的，我知道 json 是不同的，但是你想要的 json 是字典。

```
void Main()
{
    var f = new Foo
    {
        GetQuestions = new Dictionary<string, string>
                {
                    {"s1", "Q1,Q2"},
                    {"s2", "Q1,Q2,Q3"},
                    {"s3", "Q1,Q2,Q4"},
                    {"s4", "Q1,Q2,Q4,Q6"},
                }
    };

    JsonConvert.SerializeObject(f).Dump();
}

class Foo
{
    public Dictionary<string, string> GetQuestions { get; set; }
} 
```

有了 Dictionary 就如你所愿......

```
{
      "GetQuestions":
       {
              "s1":"Q1,Q2",
              "s2":"Q1,Q2,Q3",
              "s3":"Q1,Q2,Q4",
              "s4":"Q1,Q2,Q4,Q6"
       }
 } 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-12T08:41:11.577

不需要 JSON.NET 包。你可以使用[`JavaScriptSerializer`](http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.aspx). 该[`Serialize`方法](http://msdn.microsoft.com/en-us/library/bb292287.aspx)会将托管类型实例转换为 JSON 字符串。

```
var serializer = new JavaScriptSerializer();
var json = serializer.Serialize(instanceOfThing); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-02-12T08:52:37.247

要将任何对象或对象列表转换为 JSON，我们必须使用函数 JsonConvert.SerializeObject。

下面的代码演示了 JSON 在 ASP.NET 环境中的使用：

```
using System;
using System.Data;
using System.Configuration;
using System.Collections;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;
using Newtonsoft.Json;
using System.Collections.Generic;

namespace JSONFromCS
{
    public partial class _Default : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e1)
        {
            List<Employee> eList = new List<Employee>();
            Employee e = new Employee();
            e.Name = "Minal";
            e.Age = 24;

            eList.Add(e);

            e = new Employee();
            e.Name = "Santosh";
            e.Age = 24;

            eList.Add(e);

            string ans = JsonConvert.SerializeObject(eList, Formatting.Indented);

            string script = "var employeeList = {\"Employee\": " + ans+"};";
            script += "for(i = 0;i<employeeList.Employee.length;i++)";
            script += "{";
            script += "alert ('Name : ='+employeeList.Employee[i].Name+' 
            Age : = '+employeeList.Employee[i].Age);";
            script += "}";

            ClientScriptManager cs = Page.ClientScript;
            cs.RegisterStartupScript(Page.GetType(), "JSON", script, true);
        }
    }
    public class Employee
    {
        public string Name;
        public int Age;
    }
} 
```

运行此程序后，您将收到两个警报

在上面的示例中，我们创建了一个 Employee 对象列表并将其传递给函数“JsonConvert.SerializeObject”。此函数（JSON 库）会将对象列表转换为 JSON 格式。JSON的实际格式可以在下面的代码片段中查看：

```
{ "Maths" : [                {"Name"     : "Minal",        // First element
                             "Marks"     : 84,
                             "age"       : 23 },
                             {
                             "Name"      : "Santosh",    // Second element
                             "Marks"     : 91,
                             "age"       : 24 }
  ],                       
  "Science" :  [ 
                             {
                             "Name"      : "Sahoo",     // First Element
                             "Marks"     : 74,
                             "age"       : 27 }, 
                             {                           
                             "Name"      : "Santosh",    // Second Element
                             "Marks"     : 78,
                             "age"       : 41 }
  ] 
            } 
```

句法：

*   {} - 充当“容器”

*   [] - 保存数组

*   : - 名称和值用冒号分隔

*   , - 数组元素用逗号分隔

此代码适用于希望使用 C# 2.0 创建 JSON 并在 ASPX 页面中使用的中级程序员。

您可以从 JavaScript 端创建 JSON，但是如何将对象列表从 C# 转换为等效的 JSON 字符串。这就是我写这篇文章的原因。

在 C# 3.5 中，有一个用于创建名为 JavaScriptSerializer 的 JSON 的内置类。

以下代码演示了如何使用该类在 C#3.5 中转换为 JSON。

```
JavaScriptSerializer serializer = new JavaScriptSerializer()
return serializer.Serialize(YOURLIST); 
```

**因此，尝试使用 Questions 创建一个数组列表，然后将此列表序列化为 JSON**

# ios - @"" 的替代品？

> ID：14828521
> 
> 赞同：0
> 
> 时间：2013-02-12T08:38:55.857
> 
> 标签：ios, xcode, string

我有一个包含多个字符串的字符串，`"`它写在里面，`@""`当然，xcode 认为这是我结束`@"`. 有没有我可以用来`@""`做同样事情的替代品？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-12T08:40:54.150

它是用转义字符完成的。`@"My name is \"Someone\". Blabla.";`

# php - 用php显示图片

> ID：14828523
> 
> 赞同：0
> 
> 时间：2013-02-12T08:38:57.770
> 
> 标签：php, mysql, image

现在我需要展示产品的图片，它以 id 号命名。不像这样工作：

```
 $cat_list .= "Product ID: $id - <strong>$product_name</strong> - <img src=inventory_images/'$id'.jpg"> <br />"; 
```

我该怎么做！？？！它不是那样工作的，整个代码是这样的：

```
<?php 
$cat_list="";
$cat=$_GET['cat'];
$cat_sql="SELECT * FROM products,prod_cat,categories WHERE categories.id=prod_cat.cat_id AND products.id=prod_cat.prod_id AND categories.id=$cat";
$cat_query=mysql_query($cat_sql) or die(mysql_error());
$productCount = mysql_num_rows($cat_query); // count the output amount
if ($productCount > 0) {
    while($row = mysql_fetch_array($cat_query)){ 
             $id = $row["id"];
             $product_name = $row["product_name"];
             $cat_list .= "Product ID: $id - <strong>$product_name</strong> -&nbsp; &nbsp; &nbsp; <br />";
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:08:52.633

$cat_list = "";
$cat = $_GET['cat'];
$cat_sql="SELECT * FROM products,prod_cat,categories WHERE categories.id=prod_cat.cat_id AND products.id=prod_cat.prod_id AND categories.id=$cat";

$cat_query = mysql_query($cat_sql) 或死(mysql_error());
$productCount = mysql_num_rows($cat_query); // 统计输出数量

if ($productCount > 0) {
        while($row = mysql_fetch_array($cat_query)) {
               $id = $row["id"];
               $product_name = $row["product_name"];
               $ext = "jpg" ;
               echo sprintf('产品 ID: %s - **%s** -      
', $id , $product_name , %id , $ext);
} }

请确保图像扩展名是 jpg，如果不是则替换 $ext 变量的值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:44:02.753

$cat_list 字符串中的语法错误：

```
$cat_list .= "Product ID: $id - <strong>$product_name</strong> - <img src='inventory_images/$id.jpg'> <br />"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:44:05.173

由于引用设置不正确，您的第一个代码段无法工作。将其更改为

```
$cat_list .= "Product ID: $id - <strong>$product_name</strong> - <img src='inventory_images/$id.jpg'> <br />"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:44:19.943

```
$cat_list .= "Product ID: $id - <strong>$product_name</strong> - <img src=\"inventory_images/$id.jpg\"> <br />"; 
```

你忘了把“qoute”放在后面`src=`吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-12T08:45:47.093

你没有回应任何东西。

```
$cat_list="";
$cat=$_GET['cat'];
$cat_sql="SELECT * FROM products,prod_cat,categories WHERE categories.id=prod_cat.cat_id AND products.id=prod_cat.prod_id AND categories.id=$cat";
$cat_query=mysql_query($cat_sql) or die(mysql_error());
$productCount = mysql_num_rows($cat_query); // count the output amount
if ($productCount > 0) {
    while($row = mysql_fetch_array($cat_query)){ 
             $id = $row["id"];
             $product_name = $row["product_name"];
             echo 'Product ID: $id - <strong>$product_name</strong> - <img src="inventory_images/'.$id.'.jpg" />&nbsp; &nbsp; &nbsp; <br />';
    }
} 
```

# php - .htaccess / php 重定向 301 302 专门用于网络爬虫

> ID：14828528
> 
> 赞同：0
> 
> 时间：2013-02-12T08:39:30.023
> 
> 标签：php, .htaccess, redirect, google-crawlers

是否只重定向来自网络爬虫（主要是谷歌）的流量，同时保持“正常”用户流量不变？

我的情况如下：

客户在他出售的域 (www.domain-1.com) 上拥有一个网站（该域）。该网站现在正在移动到第二个域 (www.domain-2.com)。

有没有办法告诉爬虫 SAME 网站已从 domain-1 移动到 domain-2 而不会忘记 domain-1 现在拥有不同的内容？（从而以某种方式维护旧的域 2 索引链接和排名？）

通常，我知道在 PHP 中我会执行正常的永久重定向发送标头，例如：

```
 header('Location: http://www.example.com/', true, 301);
    exit; 
```

但在上述情况下，我不确定是否应该使用：

*   一种 。302 / 302 / 其他一些我不知道的
*   B .php / .htaccess

这甚至可能吗？

请任何建议都会非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:49:27.653

通常，向爬虫显示与用户不同的内容被认为是一种不好的做法。同样让谷歌索引两个不同域中的相同内容可能会损害页面排名。

如果您确定将相同的内容保存在不同的域中是个好主意，请尝试使用[跨域 rel="canonical" 链接元素](http://googlewebmastercentral.blogspot.hu/2009/12/handling-legitimate-cross-domain.html)来标记从 移动`domain-1`到的内容，`domain-2`不标记新内容。谷歌的爬虫应该明白这些。

* * *

### 提炼评论讨论：

1.  如果您移动您的站点（最终从旧站点中删除内容） - 根据[移动站点](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=83105)指南操作，并尽可能使用 301 重定向从旧站点到新站点。（您可以尝试[调整抓取速度](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=48620)，使链接更新更快）
2.  如果您的情况最终会在站点内或多个域上创建重复的内容（旧站点也保留内容），请使用[canonical rels](http://googlewebmastercentral.blogspot.hu/2009/10/reunifying-duplicate-content-on-your.html)。
3.  避免以不同于用户的方式威胁搜索机器人（在[google 的网站管理员文档](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=66355)中称为“伪装” ），这会损害期望并可能损害页面排名。

# django - Django 和 Tastypie：如何一次性发布新资源并创建相关资源？

> ID：14828531
> 
> 赞同：3
> 
> 时间：2013-02-12T08:39:42.770
> 
> 标签：django, tastypie

我正在尝试一次性创建资源和相关资源，但出现错误。我究竟做错了什么？

这是我的代码，也是我要发布的内容：

**楷模**

```
class Asset(models.Model):
    basename = models.CharField(max_length=256, unique=True)

    def __unicode__(self):
        return self.basename

class CommonAssetLocation(models.Model):
    asset = models.ForeignKey(Asset, related_name='%(class)s_locations')

    class Meta:
        abstract = True

class LocalDirectory(CommonAssetLocation):
    directory = models.CharField(max_length=256)

    def __unicode__(self):
        return self.directory 
```

**API 资源**

```
class AssetResource(ModelResource):
    localdirectory_locations = fields.ToManyField(to='ondemandbackend.api.LocalDirectoryResource', attribute='localdirectory_locations', related_name='localdirectory_location', full=True)

    class Meta:
        resource_name = 'asset'
        queryset = Asset.objects.all()
        authorization = Authorization()

class LocalDirectoryResource(ModelResource):
    asset = fields.ToOneField(to='ondemandbackend.api.AssetResource', attribute='asset', related_name='asset')

    class Meta:
        resource_name = 'localdirectory_location'
        queryset = LocalDirectory.objects.all()
        authorization = Authorization() 
```

**如何引发错误**

```
curl --dump-header - --header 'Content-Type: application/xml' -X POST -d @post_asset.xml 'http://localhost:8000/ondemandbackend/api/v1/asset/' 
```

**post_asset.xml 的内容**

```
<?xml version="1.0"?>
<object>
  <basename>post_test</basename>
  <localdirectory_locations type="list">
    <object>
      <directory>/tmp/hello/sup_again3</directory>
    </object>
    <object>
      <directory>/tmp/hello/sup_again2</directory>
    </object>
  </localdirectory_locations>
</object> 
```

**卷曲的输出**

```
HTTP/1.0 404 NOT FOUND Date: Mon, 11 Feb 2013 13:09:28 GMT Server:
WSGIServer/0.1 Python/2.7.3 Content-Type: application/json;
charset=utf-8

{
"error_message": "", "traceback": "Traceback (most recent call last):
File "tastypie/resources.py", line 192, in wrapper  response = callback(request, *args, **kwargs)
File "tastypie/resources.py", line 397, in dispatch_list  return self.dispatch('list', request, **kwargs)
File "tastypie/resources.py", line 427, in dispatch  response = method(request, **kwargs)
File "tastypie/resources.py", line 1165, in post_list  updated_bundle = self.obj_create(bundle, request=request, **self.remove_api_resource_names(kwargs))
File "tastypie/resources.py", line 1783, in obj_create  m2m_bundle = self.hydrate_m2m(bundle)
File "tastypie/resources.py", line 743, in hydrate_m2m  bundle.data[field_name] = field_object.hydrate_m2m(bundle) 
File "tastypie/fields.py", line 742, in hydrate_m2m  m2m_hydrated.append(self.build_related_resource(value, **kwargs))
File "tastypie/fields.py", line 593, in build_related_resource  return self.resource_from_data(self.fk_resource, value, **kwargs)
File "tastypie/fields.py", line 559, in resource_from_data  return fk_resource.full_hydrate(fk_bundle)
File "tastypie/resources.py", line 698, in full_hydrate  value = field_object.hydrate(bundle)
File "tastypie/fields.py", line 636, in hydrate  value = super(ToOneField, self).hydrate(bundle)
File "tastypie/fields.py", line 154, in hydrate  elif self.attribute and getattr(bundle.obj, self.attribute, None):
File "django/db/models/fields/related.py", line 343, in __get__  raise self.field.rel.to.DoesNotExist
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T01:58:53.017

您必须传入`resource_uri`文档中描述的内容：

```
curl --dump-header - -H "Content-Type: application/json" -X POST --data '{"body": "This will prbbly be my lst post.", "pub_date": "2011-05-22T00:46:38", "slug": "another-post", "title": "Another Post", "user": "/api/v1/user/1/"}' http://localhost:8000/api/v1/entry/ 
```

这就是`"user": "/api/v1/user/1/"`部分。我以前没有使用过 XML 或 m2m 字段，但对我来说，您似乎没有这样做。

省略该部分时，我遇到了与您相同的错误。

# sql - 使用 varchar 参数调用 sp_executesql

> ID：14828534
> 
> 赞同：0
> 
> 时间：2013-02-12T08:39:58.847
> 
> 标签：sql, sql-server-2008

我打电话时遇到了问题`sp_executesql`，我传递了 varchar 参数。
我收到了这个错误：

> 过程需要类型为“ntext/nchar/nvarchar”的参数“@statement”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:43:13.570

心理调试器说您要么传递给`SP_ExecuteSQL`varchar 类型的变量（使其成为 nvarchar），要么您有一个未使用 unicode 前缀的字符串：

例如

```
Exec sp_executesql 'select * from something' 
```

要修复它，请使用：

```
Exec sp_executesql N'select * from something' 
```

注意`N`字符串上的前缀。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:42:32.353

这意味着 expect的`@statement`参数。`sp_executesql``nvarchar`

这并不**意味着**您*的*参数必须是 nvarchar。
当然，如果你没有参数，你为什么要使用sp_executesql呢？

```
CREATE TABLE #foo (bar varchar(100) NOT NULL);
DECLARE @filter varchar(100) = 'bob';
EXEC sys.sp_executesql
      N'SELECT * FROM #foo WHERE bar = @p1', --NVARCHAR because of N prefix
      N'@p1 varchar(100)', --NVARCHAR because of N prefix
      @filter --VARCHAR
DROP TABLE #foo 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:43:06.560

尝试这个 ：

例如，这将给出错误，因为@SQL 需要是 NVARCHAR

下面给出错误：

```
DECLARE @SQL VARCHAR(100)
SET @SQL = 'SELECT TOP 1 * FROM sys.tables'
EXECUTE sp_executesql @SQL 
```

所以：使用`NVARCHAR(100)`

```
DECLARE @SQL NVARCHAR(100)
SET @SQL = 'SELECT TOP 1 * FROM sys.tables'
EXECUTE sp_executesql @SQL 
```

# c# - 来自 .NET Web 服务的时间/持续时间格式“PT12H30M”

> ID：14828540
> 
> 赞同：1
> 
> 时间：2013-02-12T08:40:19.723
> 
> 标签：c#, .net, web-services, datetime-format

我以这种格式从 .NET Web 服务获取时间/持续时间：`PT12H30M`如何处理？

下面是我从 web 服务获取的 Xml

```
<a:Date>2013-01-09T00:00:00</a:Date> 
<a:StartTime>PT11H30M</a:StartTime> 
<a:EndTime>PT12H</a:EndTime> 
```

我只想将其转换为标准 C# DateTime 格式。有人可以帮我吗？

注意：我已经解析了 xml ......现在我有两个值，但是如何转换？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:47:45.543

正如我评论的那样，指定这样的时间很奇怪（将日期指定为日期/时间也很奇怪），但[Noda Time](http://noda-time.googlecode.com)处理这样的时间段：

```
LocalDateTimePattern dateTimePattern = LocalDateTimePattern.ExtendedIsoPattern;
LocalDateTime date = dateTimePattern.Parse(dateText).Value;

PeriodPattern pattern = PeriodPattern.RoundtripPattern;
Period startTime = pattern.Parse(startTimeText).Value;
Period endTime = pattern.Parse(endTimeText).Value;

LocalDateTime startDateTime = date + startTime;
LocalDateTime endDateTime = date + endTime; 
```

如果您真的愿意，您*可以*在之后将其转换为 BCL`DateTime`值，但我鼓励您在整个应用程序中使用 Noda Time，当然 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:06:54.490

符号

```
<a:StartTime>PT11H30M</a:StartTime> 
<a:EndTime>PT12H</a:EndTime> 
```

对应于 datatypes.xsd 中指定的 dayTimeDuration（基于持续时间数据类型） - 请查看[此处](http://www.schemacentral.com/sc/xsd/t-xsd_dayTimeDuration.html)以获取说明。

```
P = duration marker
nD = optional unsigned integer corresponding to number of days
T = date time separator
nH = number of hours 
```

等等 - 你明白了:)

因此，要解析它，您可以执行以下快速而肮脏的示例：

```
 var xmla = @"
<root xmlns:a=""a"">
<a:Date>2013-01-09T00:00:00</a:Date> 
<a:StartTime>PT11H30M</a:StartTime> 
<a:EndTime>PT12H</a:EndTime> 
</root>";
    var ns = new XmlNamespaceManager(new NameTable());
    ns.AddNamespace("a", "a");
    var ele = XElement.Parse(xmla);
    var start = ele.XPathSelectElement("//a:StartTime", ns);
    var end = ele.XPathSelectElement("//a:EndTime", ns);
    var startTime = XmlConvert.ToTimeSpan(start.Value);
    var endTime = XmlConvert.ToTimeSpan(end.Value);
    var date = ele.XPathSelectElement("//a:Date", ns);
    var dateTime = XmlConvert.ToDateTime(date.Value, XmlDateTimeSerializationMode.RoundtripKind);

    Console.WriteLine("Ran at {0} for a duration of  {1}", dateTime + startTime, endTime - startTime); 
```

# android - 在 Android 上运行 QT 软件

> ID：14828542
> 
> 赞同：4
> 
> 时间：2013-02-12T08:40:26.023
> 
> 标签：android, linux, qt, embedded

我对仅在 Android 上运行的`Device Driver`for a有疑问。`camera`我有一个`QT`用`Ubuntu`. 是否可以在 Android 上单独运行该软件？运行它就像一个`gui`和一切？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-07T06:46:19.427

是的，Qt5.1 提供了对 Android 和 iOS 的初步支持。完整的 Android 和 iOS 支持将在 Qt5.2 中。

在这个 digia 博客文章中有更多关于 Qt5.1 aplha 的信息和下载链接：http: [//blog.qt.digia.com/blog/2013/04/08/qt-5-1-alpha-available/](http://blog.qt.digia.com/blog/2013/04/08/qt-5-1-alpha-available/)

当 Qt5.1 和 5.2 正式发布时，您可以在这里下载它们：http: [//qt-project.org/downloads](http://qt-project.org/downloads)

# ruby - 要转换为混合数组的字符串数组

> ID：14828546
> 
> 赞同：1
> 
> 时间：2013-02-12T08:40:40.283
> 
> 标签：ruby, arrays, string

我正在尝试将由 Ruby 字符串组成的数组数组转换为由字符串和浮点数组成的数组数组。

这是我的尝试：

```
array = [["My", "2"], ["Cute"], ["Dog", "4"]] 
array.collect! do |x|
  x.each do |y|
    if y.gsub!(/\d+/){|s|s.to_f}
    end
  end
end

 => [["My", "2.0"], ["Cute"], ["Dog", "4.0"]] 
```

我正在寻找这个宁愿返回`[["My", 2.0], ["Cute"], ["Dog", 4.0]]`我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:45:42.867

你做错的是你使用了`gsub!`. 这需要一个字符串并更改字符串。无论您做什么，它都不会将其变成其他任何东西（即使您将其转换为中间的浮点数）。

实现您想要的一个简单方法是：

```
[["My", "2"], ["Cute"], ["Dog", "4"]].map{|s1, s2| [s1, *(s2.to_f if s2)]} 
```

如果您不想创建元素数组，而是替换其内容，则：

```
[["My", "2"], ["Cute"], ["Dog", "4"]].each{|a| a[1] = a[1].to_f if a[1]} 
```

如果数字字符串出现在随机位置，则：

```
 [["My", "2"], ["Cute"], ["Dog", "4"]]
.each{|a| a.each.with_index{|e, i| a[i] = a[i].to_f if a[i] and a[i] =~ /\d+/}} 
```

# android - Achartengine 标签轴 x

> ID：14828548
> 
> 赞同：2
> 
> 时间：2013-02-12T08:40:47.740
> 
> 标签：android, achartengine, axis-labels

我`AChartEngine`用来创建一个`Bar Graph`: `x axis`，我有由名字和姓氏组成的字符串。例如，“约翰·史密斯”。可以在更多行上写这个标签吗？像约翰（另一行，如 /r）史密斯？希望你能帮忙。谢谢有趣！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:04:03.733

这是可能的，如下所示：

```
renderer.addXTextLabel(0.5, "line1\nline2"); 
```

# javascript - 使用 JavaScript 动态获取标签中的选定值

> ID：14828557
> 
> 赞同：-3
> 
> 时间：2013-02-12T08:41:17.870
> 
> 标签：javascript, html

我必须使用 for 循环在**javascript中动态打印 10 个值。**在这里我拿**标签**打印。

现在，当我单击标签上的特定文本时，我可以显示一个带有该文本名称的警报，

任何人帮助我如何做到这一点。

```
<html>
<head>
<script type = "text/javascript">

var x = "";
function checkCookie(){

var arr = new Array("One","Two","Three");
for(var i=0; i<arr.length; i++) {
    x =  x + arr[i] + "<br>" + "<br>";
    document.getElementById("idval").innerHTML = x;
}

}

function getItem(){
// here i want to display the selected label item
}

</script>
</head>
<body onload = "checkCookie()">
<label id = "idval" onclick = "getItem()"> </label>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:55:31.350

从您的问题描述中根本不清楚您需要什么。如果您想要动态创建标签，并可以访问它们的 onclick 事件；看看 Javascript 函数 appendChild 和 setAttribute。我创建了一个 JSfiddle 来演示您可能需要的内容：

```
function createLabels() {    
    for(var i=0; i<10; i++) {
        var label = document.createElement('label');        
        label.innerHTML = "item " + i;       
        label.onclick = onClick;
        document.body.appendChild(label);    
    }
}

function onClick(e){
    alert(e.srcElement.innerHTML)
} 
```

[http://jsfiddle.net/R4abH/2/](http://jsfiddle.net/R4abH/2/)

**编辑 1**：添加 onclick 属性被认为是不好的做法。改用事件侦听器重做答案。

**编辑 2**：根据 Benjamin Gruenbaum 在下面的评论，IE 似乎不支持 AddEventListener（请参阅[MSIE 和 addEventListener Problem in Javascript？](https://stackoverflow.com/questions/1695376/msie-and-addeventlistener-problem-in-javascript)）。根据dystroy的建议，重新设计了jsfiddle以使用onclick。

# webmatrix-2 - 无法在 Webmatrix2 中使用 TinyMCE 编辑或更新内容

> ID：14828563
> 
> 赞同：1
> 
> 时间：2013-02-12T08:41:49.207
> 
> 标签：webmatrix-2

如果有人可以帮助我，那就太好了。我正在尝试提交任何更改而没有得到...

“从客户端检测到潜在危险的 Request.Form 值。

我在我的项目中使用 tinyMCE，如果我输入任何包含任何 HTML 字符的内容，我会收到上述消息

我在 Stackoverflow 和其他地方尝试了各种解决方案，但它们对我不起作用。我尝试的最后一个解决方案是[**here**](http://geekswithblogs.net/renso/archive/2011/08/26/a-potentially-dangerous-request-value-was-detected-from-the-client.aspx)

另一个看起来[**很有宣传**](http://blogs.msdn.com/b/scothu/archive/2010/10/06/web-pages-beta-2-request-validation.aspx)但没有运气的网站......

我有一段时间没有进行任何开发，所以我有点生疏，直到你问我才知道你需要什么。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T20:04:11.033

使用[Request.Unvalidated](http://msdn.microsoft.com/en-us/library/system.web.unvalidatedrequestvalues.aspx)在代码块中引用您的 textarea：

```
var html = Request.Unvalidated("myTextArea"); 
```

如果要输出用户提交的任何内容，并且希望浏览器尊重其中包含的 HTML 标记，则需要使用 Html.Raw：

```
You entered: @Html.Raw(html) 
```

# javascript - 统一 CSS - 在选择框右侧添加图标

> ID：14828564
> 
> 赞同：0
> 
> 时间：2013-02-12T08:41:51.453
> 
> 标签：javascript, css, twitter-bootstrap, uniform

我在表单上使用当前的 uniformjs 库和引导程序。使用库，选择框得到了很好的设计：

```
<div class="control-group">
<label class="control-label">Some Label:</label><div class="controls">
    <select class="uni_style">
        <option>Lorem ipsum dolor sit amet amet, lorem ipsum</option>
        <option>Lorem ipsum dolor sit amet</option>
        <option>Lorem ipsum dolor sit amet</option>
        <option>Lorem ipsum dolor sit amet</option>
        <option>Lorem ipsum dolor sit amet</option>
    </select>
    <img src="../img/bullet_red.png"/>
</div> 
```

目前我的问题是 bullet_red 将在新行中呈现，但我想让子弹在同一行。

几次尝试后，我需要一些帮助。我试过：

*   在图像上显示内联
*   改变 div.uni-selector 的样式
*   改变 div.uni-selector span 的样式

有没有人可以解决这个问题？

![在此处输入图像描述](../Images/3238133955ec995c14939514ae2da195.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T10:27:11.177

您可以将 select 和 img 元素包装在 div 中，并将两个元素向左浮动，如下例所示：

```
<div class="control-group">
<label class="control-label">Some Label:</label><div class="controls">
    <div>
        <select style='float:left;' class="uni_style">
            <option>Lorem ipsum dolor sit amet amet, lorem ipsum</option>
            <option>Lorem ipsum dolor sit amet</option>
            <option>Lorem ipsum dolor sit amet</option>
            <option>Lorem ipsum dolor sit amet</option>
            <option>Lorem ipsum dolor sit amet</option>
        </select>
        <img style='float:left;'src="../img/bullet_red.png"/>
    </div>
</div> 
```

[http://jsfiddle.net/mpHug/2/](http://jsfiddle.net/mpHug/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T08:17:01.727

从另一个来源获得解决方案：

我需要这种风格：

```
div.reqselect {display:inline-block; vertical-align:middle; margin-bottom: 0;} 
```

然后我需要将类加上原始类添加到统一初始化中

```
$(".uni_style").uniform({
selectClass: 'uni-selector reqselect',}); 
```

# asp.net-mvc - ASP.NET MVC，CRUD 2 表 1 与外键

> ID：14828569
> 
> 赞同：0
> 
> 时间：2013-02-12T08:42:07.783
> 
> 标签：asp.net-mvc, foreign-keys, crud

我的数据库中有 2 个表合同和帐户，只有当帐户代码在帐户表中时，我才想修改合同表。

这些表已经在数据库中创建。我的 mvc 应用程序中有 2 个实体：

合同实体：

```
 public class Contract
     {
         [Key]
         [HiddenInput(DisplayValue = false)]
         public int ContractID { get; set; }

         [Display(Name = "Account Code")]
         //[ForeignKey("AccountCode")] 
         public string AccountCode { get; set; }
         //public virtual Account AccountCode { get; set; }

         [Display(Name = "Product Code")]
         public string ProductCode { get; set; }

     } 
```

在我的帐户实体中：

```
 public class Accounts
     {
        [Key]
         public string AccountCode { get; set; }
         public string CompanyName { get; set; }
         public string CompanyNumber { get; set; }
         public string VATNumber { get; set; }
         public string Telephone { get; set; }
         public string AddressLine1 { get; set; }
         public string AddressLine2 { get; set; }
         public string City { get; set; }
         public string County { get; set; }
         public string PostCode { get; set; }
         public string Country { get; set; }

         //public virtual ICollection<Contract> Contract { get; set; } 
     } 
```

CRUD 目前在没有外键的情况下工作，因为我已经将它们注释掉了。

我在链接到帐户表的合同表上的数据库中有一个外键（帐户代码）。如何使用上面的实体在我的 mvc 应用程序上实现它？我已经阅读了谷歌并尝试了上面的注释代码，但没有成功。

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:54:14.300

这将为您完成

```
 public class Contract
         {   
             [Key]
             [HiddenInput(DisplayValue = false)]
             public int ContractID { get; set; }
             public virtual Account Account{ get; set; }
             [Display(Name = "Product Code")]
             public string ProductCode { get; set; }
             public string AccountAccountCode {get;set;} 
 //automatically treated as foreign key of Account[Notice ClassNameKey Format]

     } 
```

# database - 重型计算网站的数据库建议（和可能的读数）

> ID：14828576
> 
> 赞同：0
> 
> 时间：2013-02-12T08:42:33.510
> 
> 标签：database, web, computation

我正在建立一个网站，该网站将依靠大量计算来对对象的对象进行猜测和建议（考虑到用户偏好和具有相似配置文件的用户的偏好）。现在我在我的项目中使用 MongoDB，但我想我将不得不为这个项目返回 SQL。

不幸的是，我在这方面的知识是高中水平。我知道有很多关系数据库，并且想知道什么可能最适合这种高度动态的集群分析。此外，我真的很感谢一些关于可能阅读的建议（如果免费和在线会非常好，但我不介意读一本书。如果可能的话，也许不是 1k 页）。

感谢您的帮助，非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:48:57.620

推荐通常是类似图形的问题，因此您还应该考虑查看图形数据库，例如[Neo4j](http://www.neo4j.org)

# python - 无法使用请求下载网页

> ID：14828577
> 
> 赞同：0
> 
> 时间：2013-02-12T08:42:36.083
> 
> 标签：python, python-requests

我在使用 python 请求库下载网页时遇到问题。代码工作正常，直到它突然停止工作。这是代码：

```
import requests
user_agent = {'User-agent': 'Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.52 Safari/537.17'}
url = 'http://maya.tase.co.il/bursa/index.asp?view=search&group_first_level=1&company_group=3000&arg_comp=&srh_comp_lb=1349&srh_from=2013-2-2&srh_until=2013-2-12&srh_anaf=-1&srh_event=9999&is_urgent=0&srh_company_press='
r  = requests.get(url, headers = user_agent)
r.text 
```

我得到某种与 CRC 相关的响应：

> u'\r\n\r\n\r\n\r\nfunction str_reverse(in_str) { return ((in_str.split("")).reverse()).join(""); }\r\nfunction test(){var table = " charCodeAt(0);\r\nvar arr = new Array(n);\r\nvar m = Math.pow(((end - start) + 1),n);\r\nfor (var i=0; i=0;--j) {\r\nvar t = arr[j].charCodeAt(0);\r\nt++; arr[j] = String.fromCharCode(t);\r\nif (arr[j].charCodeAt(0)<=end) {\r\nbreak;} else { arr[j] = s1 ;}}\r \nvar chlg = arr.join(""); var str = chlg + slt;\r\nvar crc = 0;\r\nvar crc = crc ^ (-1);\r\nfor( var k = 0, iTop = str.length; k < iTop; k++ ) { crc = (crc >> 8) ^ ("0x" + table.substr(((crc ^ str.charCodeAt(k) ) & 0x000000FF) * 9, 8));}\r\ncrc = crc ^ (- 1);\r\ncrc = Math.abs(crc);\r\nif (crc == parseInt(c)){break;}}\r\ndocument.cookie = "TSe8eecf_75=" + "679f30133acfc6e01dcf7ef59af22666:" + chlg + ":" + slt + ":" + crc + ";Max-Age=3600;path=/";\r\ndocument.forms[0].elements[2]。

当尝试使用与 chrom 页面下载相同的 url 时没有问题，所以它不是 IP 或用户代理被阻止..

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:06:50.107

该页面的工作方式是，当对 URL 发出 GET 请求时，会返回一个 javascript 片段，并且 js 片段会向服务器发出 POST 请求。查看“Live HTTP Headers”firefox 扩展捕获的 http 标头的输出。

```
http://maya.tase.co.il/bursa/index.asp?view=search&group_first_level=1&company_group=3000&arg_comp=&srh_comp_lb=1349&srh_from=2013-2-2&srh_until=2013-2-12&srh_anaf=-1&srh_event=9999&is_urgent=0&srh_company_press=

GET /bursa/index.asp?view=search&group_first_level=1&company_group=3000&arg_comp=&srh_comp_lb=1349&srh_from=2013-2-2&srh_until=2013-2-12&srh_anaf=-1&srh_event=9999&is_urgent=0&srh_company_press= HTTP/1.1
Host: maya.tase.co.il
User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:16.0) Gecko/20100101 Firefox/16.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
Cookie: LBMaya=2; TS7c8b94=21efb14c7892000e308875477ef97a44a4e4ec0c353c57aa511a0278; TSe8eecf=577463c4dff39a4cd00ac387822be6f8a4e4ec0c353c57aa511a06039dbef3f4669e6cc2; ASPSESSIONIDAQRASAAB=APJODHLAKLHBLDBFFIJFBMKD; __utma=204212108.1708073596.1360658775.1360658775.1360658775.1; __utmb=204212108; __utmc=204212108; __utmz=204212108.1360658775.1.1.utmccn=(direct)|utmcsr=(direct)|utmcmd=(none); TSe8eecf_75=607adbfcad09964b707d73029eb6c75e:ywvw:I5Krl8W8:448224545; TSe8eecf_31=52f39e84b867da063487356c8141f112a4e4ec0c353c57aa000000000000000000fe8ffe0cfdc0fd2efc81fc6ffb87fafffa28f6def59df515f4baf390ef06ede6ed08eca7ec49eba1ea0ee757e533e49ce375dff9df7dded2de56dd9ddd87d93ad895d7a8d607d5cccfdfcfb5cf5bcef4ce70ce1acc14cc0ecb3ac91cc8b3c78ec621c445c1dfbbe4bb0abaa5ba4bb331b29eb1d7b1c8b0faad85ad6bacc4ac2aabc2ab2caa83aa6da317a2b8a1739ff09f1e9eb19e5f99b7995998f6981893e8918c90238fd68f388f0b8e978e798c678991897f88d0883e826181aa80057a967a8c72dd718870276b1f6b05635461ae60015be05a4f599e53db527451cf4bc64a69481743fd42524046362734f931eb30442f5f271326cd257021cd206217eb066202cf

HTTP/1.1 200 OK
Content-Length: 4323
Pragma: no-cache
Date: Tue, 12 Feb 2013 09:02:43 GMT
Connection: keep-alive
----------------------------------------------------------
http://maya.tase.co.il/bursa/index.asp?view=search&group_first_level=1&company_group=3000&arg_comp=&srh_comp_lb=1349&srh_from=2013-2-2&srh_until=2013-2-12&srh_anaf=-1&srh_event=9999&is_urgent=0&srh_company_press=

POST /bursa/index.asp?view=search&group_first_level=1&company_group=3000&arg_comp=&srh_comp_lb=1349&srh_from=2013-2-2&srh_until=2013-2-12&srh_anaf=-1&srh_event=9999&is_urgent=0&srh_company_press= HTTP/1.1
Host: maya.tase.co.il
User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:16.0) Gecko/20100101 Firefox/16.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
Referer: http://maya.tase.co.il/bursa/index.asp?view=search&group_first_level=1&company_group=3000&arg_comp=&srh_comp_lb=1349&srh_from=2013-2-2&srh_until=2013-2-12&srh_anaf=-1&srh_event=9999&is_urgent=0&srh_company_press=
Cookie: LBMaya=2; TS7c8b94=21efb14c7892000e308875477ef97a44a4e4ec0c353c57aa511a0278; TSe8eecf=577463c4dff39a4cd00ac387822be6f8a4e4ec0c353c57aa511a06039dbef3f4669e6cc2; ASPSESSIONIDAQRASAAB=APJODHLAKLHBLDBFFIJFBMKD; __utma=204212108.1708073596.1360658775.1360658775.1360658775.1; __utmb=204212108; __utmc=204212108; __utmz=204212108.1360658775.1.1.utmccn=(direct)|utmcsr=(direct)|utmcmd=(none); TSe8eecf_75=b1977e80a3c5a7cb63469954c8ac6e05:lmnj:yjv3396F:69895458; TSe8eecf_31=52f39e84b867da063487356c8141f112a4e4ec0c353c57aa000000000000000000fe8ffe0cfdc0fd2efc81fc6ffb87fafffa28f6def59df515f4baf390ef06ede6ed08eca7ec49eba1ea0ee757e533e49ce375dff9df7dded2de56dd9ddd87d93ad895d7a8d607d5cccfdfcfb5cf5bcef4ce70ce1acc14cc0ecb3ac91cc8b3c78ec621c445c1dfbbe4bb0abaa5ba4bb331b29eb1d7b1c8b0faad85ad6bacc4ac2aabc2ab2caa83aa6da317a2b8a1739ff09f1e9eb19e5f99b7995998f6981893e8918c90238fd68f388f0b8e978e798c678991897f88d0883e826181aa80057a967a8c72dd718870276b1f6b05635461ae60015be05a4f599e53db527451cf4bc64a69481743fd42524046362734f931eb30442f5f271326cd257021cd206217eb066202cf
Content-Type: application/x-www-form-urlencoded
Content-Length: 69
TSe8eecf_id=1&TSe8eecf_md=1&TSe8eecf_rf=0&TSe8eecf_ct=0&TSe8eecf_pd=0
HTTP/1.1 200 OK
Content-Type: text/html
X-Maya: 2
Vary: Accept-Encoding
X-Powered-By: ASP.NET
Content-Encoding: gzip
Date: Tue, 12 Feb 2013 09:02:45 GMT
Content-Length: 10652
Connection: keep-alive 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T08:47:50.360

该页面可能包含用于加载真实数据的 ajax/javascript 代码。将输出写入文件并使用浏览器/文本编辑器打开文件。

# uitableview - .plist 数据不能从 NSArray 加载到 NSDictionary

> ID：14828578
> 
> 赞同：0
> 
> 时间：2013-02-12T08:42:38.830
> 
> 标签：uitableview, nsarray, plist, nsdictionary

我对Objective-C相当陌生。

我在 .plist 上创建了所有数据，其中所有数据都存储在`Response`Dictionary 中。

```
NSString *myListPath = [[NSBundle mainBundle] pathForResource:@"OffersList" ofType:@"plist"];
dic = [NSDictionary dictionaryWithContentsOfFile:myListPath];
tableData = [dic objectForKey:@"Response"]; 
```

现在我已将其转换`tabledata`为字典。

```
 NSDictionary *dict = [tableData objectAtIndex:indexPath.row];
 cell.titleLabel.text = [dict  objectForKey:@"title"];
 cell.nowLabel.text = [dict objectForKey:@"price"];
 cell.saveLabel.text = [dict objectForKey:@"rondel"]; 
```

现在，问题是它只加载前 10 个数据。我也尝试在日志中打印，但在第 10 个数据之后，它的值被视为`NULL`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:51:05.120

尝试对整体进行转储，`dic`以便您可以准确检查其中包含的数据：

```
NSLog(@"Content of tableData", [dic description]); 
```

然后仔细检查`tableData`具有 .plist 内容的元素的日志内容。

# spring - Spring 3.x 和 Hibernate 4 中的事务管理

> ID：14828579
> 
> 赞同：1
> 
> 时间：2013-02-12T08:42:41.393
> 
> 标签：spring, hibernate, spring-transactions

嗨，当我尝试使用 Spring 3.x 和 Hibernate 4 进行事务管理时，我遇到了一面墙。我
在 Internet 上进行了搜索，但在 Hibernate 3 中有一些方法可以做到这一点，而在 Hibernate 4 中没有这么多。
我我很困惑，我不确定这个设置是否有效。

我正在使用的东西......
Spring 3.x
Hibernate 4

我已经阅读了这些
[http://static.springsource.org/spring/docs/2.0.x/reference/transaction.html#transaction-declarative](http://static.springsource.org/spring/docs/2.0.x/reference/transaction.html#transaction-declarative)
[spring, hibernate 和声明式事务实现：没有活动事务](https://stackoverflow.com/questions/4138663/spring-hibernate-and-declarative-transaction-implementation-there-is-no-active)
等等......

**跟进**
我已经成功地运行了我的课程。我已经添加`proxy-target-class="true"`到

```
<aop:config> 
```

但我不确定这是否在事务中运行。它说`true`当我使用

```
TransactionSynchronizationManager.isActualTransactionActive() 
```

但是当我故意在 save 方法中抛出错误时，它不会回滚。

**编辑**
按照 NimChimpsky 的建议，我尝试通过 Spring MVC(dispatcher servlet) 调用相同的方法，它说

```
 Cannot convert value of type 
[$Proxy19 implementing kr.co.sgis.services.web.cooingbee.Crudable,org.springframework.aop.SpringProxy,
org.springframework.aop.framework.Advised] to required type
[test.TXTestDAO] for property 'dao': 
no matching editors or conversion strategy found 
```

我希望我越来越近了。

**编辑**
log4j 说这个。

```
INFO : org.hibernate.Version - HHH000412: Hibernate Core {4.1.7.Final}
INFO : org.hibernate.cfg.Configuration - HHH000041: Configured SessionFactory: null
INFO : com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1bqomxn8s1l3dkxojzz69x|e4865ce, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1bqomxn8s1l3dkxojzz69x|e4865ce, idleConnectionTestPeriod -> 0, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://211.115.111.229:3306/yoursmart, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 50, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, statementCacheNumDeferredCloseThreads -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, userOverrides -> {}, usesTraditionalReflectiveProxies -> false ]
INFO : org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
INFO : org.hibernate.engine.jdbc.internal.LobCreatorBuilder - HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
INFO : org.hibernate.engine.transaction.internal.TransactionFactoryInitiator - HHH000399: Using default transaction strategy (direct JDBC transactions)
INFO : org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory - HHH000397: Using ASTQueryTranslatorFactory 
```

它确实说但是 c3p0 连接池如何初始化而没有错误`' Configured SessionFactory: null'`？ 我的 spring 应用程序上下文如下所示。`'TransactionFactoryInitiator - HHH000399: Using default transaction strategy (direct JDBC transactions)'`

```
<bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
    <property name="dataSource"><ref bean="dataSource"/></property>
    <property name="configLocation">
            <value>classpath:hibernate.cfg.xml</value>
    </property>

</bean>

<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
    <property name="driverClass" value="com.mysql.jdbc.Driver"/>
    <property name="jdbcUrl" value="****"></property>
    <property name="user" value="****"></property>
    <property name="password" value="****"></property>
    <property name="initialPoolSize"><value>3</value></property>
    <property name="minPoolSize"><value>3</value></property>
    <property name="maxPoolSize"><value>50</value></property>
</bean>

<bean id="txManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager">
  <property name="sessionFactory" ref="sessionFactory" />
</bean>

<tx:advice id="txAdvice" transaction-manager="txManager">
    <tx:attributes>
    <tx:method name="*" propagation="REQUIRED"/>
    </tx:attributes>
</tx:advice> 
```

```
<bean id="txDAO" class="test.TXTestDAO">
        <property name="sessionFactory" ref="sessionFactory"/>
    </bean>
<bean id="testTxService" class="test.TXTestService">
        <property name="dao" ref="txDAO"/>
    </bean> 
```

休眠.cfg.xml

```
 <property name="connection.driver_class">com.mysql.jdbc.Driver</property>
         <property name="connection.url">****</property>
         <property name="connection.username">****</property>
         <property name="connection.password">****</property>
         <property name="dialect">org.hibernate.dialect.MySQLDialect</property>
         <property name="connection.pool_size">5</property>
         <property name="cache.provider_class">org.hibernate.cache.NoCacheProvider</property>
          <property name="hibernate.c3p0.min_size">5</property>
          <property name="hibernate.c3p0.max_size">20</property>
          <property name="hibernate.c3p0.timeout">300</property>
          <property name="hibernate.c3p0.max_statements">50</property>
          <property name="hibernate.c3p0.idle_test_period">3000</property> 
```

TXTestDAO.java
我的 DAO 没有实现 HibernateDAOSupport。我必须实施吗？

```
public int save(CooingbeeFetchable bean) {
        // TODO Auto-generated method stub
        try{

            sessionFactory.getCurrentSession().getTransaction().begin();
            //Using sessionFactory is low level
            sessionFactory.getCurrentSession().save(bean);

            sessionFactory.getCurrentSession().getTransaction().commit();
            System.out.println("committed");

        }catch(Exception e){
            e.printStackTrace();
        }
        return 0;
    } 
```

我的测试类
我只是使用 FileSystemResource 进行测试。

```
public class Tester {       
public static void main(String[] args){

            FileSystemResource fSysSrc = new FileSystemResource("C:\\SGI_Project\\eclipseWorkspace\\SPSWeb\\WebContent\\WEB-INF\\SpringDispatcher-servlet.xml");
            BeanFactory xmlBeanFactory = new XmlBeanFactory(fSysSrc);
            TXTestService txDAO= (TXTestService) xmlBeanFactory.getBean("testTxService");

            TXTestBean bean = new TXTestBean();

            bean.setName("bodybody");
            txDAO.save(bean);

        }
    } 
```

```
public class TXTestService implements Crudable{

    private TXTestDAO dao;

    public void setDao(TXTestDAO nDAO){
        dao = nDAO;
    }
public int save(CooingbeeFetchable bean) {
        // TODO Auto-generated method stub
        return dao.save(bean);
    }
} 
```

到目前为止，我没有找到当前线程异常的会话。
另外我试图不使用注释。
我感到很失落 @。@ ！
你能指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:59:41.113

XMLBean 工厂已弃用，如果可以的话，我建议使用注释和最新最好的 spring 版本（spring 3.2 的测试功能很棒）。它会为你简化一些事情，dao/repository 可以有这个

```
@Resource(name = "sessionFactory")
private SessionFactory sessionFactory;

@Transactional(propagation = Propagation.REQUIRED)
 public T save(final T o) {
        return (T) sessionFactory.getCurrentSession().save(o);
    } 
```

然后可以注入其本身，并在您的配置中添加：

```
 <tx:annotation-driven transaction-manager="transactionManager"/> 
```

# javascript - 如何仅使用 javascript 在 DIV 中换入和换出文本？

> ID：14828580
> 
> 赞同：0
> 
> 时间：2013-02-12T08:42:41.990
> 
> 标签：javascript, html, css

我在这样的 DIV 中有文本：

```
<div>

@*<p class="header">xxx</p>
<p>
yyy
</p>
<p>
yyy
</p>*@

<p class="header">xxx</p>
<p>
yyy
</p>
<p>
yyy
</p>

</div> 
```

我注释掉了前三段并用后三段替换了它们。有没有办法让它每十秒钟在显示前三段和后三段之间改变一次。请注意，我在此页面上不使用 jQuery。我想找到一个不使用 jQuery 的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:50:43.033

查看[setTimeout()](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)和[setInterval()](https://developer.mozilla.org/en-US/docs/DOM/window.setInterval)函数。

第一个允许您定义超时结束时要执行的代码，第二个将继续执行指定的代码，直到您停止它。

至于在*没有 jquery 的情况下替换标签的内容*，我将把它留给你作为练习。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:05:47.387

**没有 jQuery：**

将两组

在两个带有他们的 id 的 div 中。

```
document.getElementById('idDiv1').style.display = "none"; --> make invisibile the div1
document.getElementById('idDiv2').style.display = "block"; --> make visibile the div2 
```

为了让它在自动模式下，你必须使用javascript的定时器功能，看[这里](http://www.w3schools.com/js/js_timing.asp)。这是 W3School 的链接。

# javascript - 如何从 RegExp 模式中删除转义？

> ID：14828583
> 
> 赞同：0
> 
> 时间：2013-02-12T08:42:46.497
> 
> 标签：javascript, regex

我正在尝试为我的用户简化特定正则表达式的输入。正则表达式的一个简单示例可能是

```
\b(C|C\+\+|Java)\b 
```

我现在通过将原始字符串输入到`<input type="text">`字段中，为用户提供在正则表达式末尾附加另一个分支的选项。分支将按字面意思解释，所以我需要转义它。我已经使用[https://stackoverflow.com/a/2593661/785663](https://stackoverflow.com/a/2593661/785663)来`RegExp.quote`做到这一点。然后我将完整的正则表达式存储在数据库中。

现在，当我从数据库中检索正则表达式并将其拆分备份并向用户显示分支时，我需要再次删除所有转义字符。是否有一些预制功能或者我需要自己动手？

是的，我知道我应该用要搜索的字符串列表替换它。但这只是更大（基于正则表达式）图片的一部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:10:34.253

最佳解决方案是更改您的设计：存储未转义的正则表达式，然后仅在您实际使用它时转义它。这样一来，您就不必担心一直来回转换这种混乱的业务。

如果你经常使用这个正则表达式并且担心必须一直转义它的开销，那么存储未转义*和*转义的版本。每当用户进行更改时更新两者。

ps 允许用户输入的正则表达式可能会使您的站点[容易受到攻击](https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS)。*（更新：虽然在这种情况下它不太可能成为问题，因为您只允许文字字符串）*

# java - Java＆Regex：匹配前面没有特定字符的子字符串

> ID：14828586
> 
> 赞同：4
> 
> 时间：2013-02-12T08:42:47.130
> 
> 标签：java, regex

这是已经被问过并回答了数百次的问题之一，但我很难根据自己的需要调整其他解决方案。

在我的 Java 应用程序中，我有一种方法可以审查聊天消息中的坏词。它适用于我的大部分话，但有一个特殊的（和流行的）诅咒词我似乎无法摆脱。这个词是“faen”（在所讨论的语言中，这只是“撒旦”的现代俚语）。

使用模式“fa+e+n”来匹配多个 A 和 E 确实有效；然而，在这种语言中，“那个沙发”或“那个沙发”的词是“沙发”。我尝试了很多不同的方法，使用 [^so] 和 (?!=so) 的变体，但到目前为止，我还没有找到一种方法来匹配一个而不是另一个。

这里的真正目标是能够匹配坏词，不管元音的数量是多少，也不管单词的组成部分之间有没有任何非字母。

以下是我正在尝试做的一些示例：

```
"String containing faen"                        Should match
"String containing sofaen"                      Should not match
"Non-letter-censored string with f-a@a-e.n"     Should match
"Non-letter-censored string with sof-a@a-e.n"   Should not match 
```

有什么提示可以让我朝着正确的方向前进吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:51:16.907

你想要类似的东西`\bf[^\s]+a[^\s]+e[^\s]+n[^\s]\b`。请注意，这是正则表达式；如果你想要 Java，那么你需要使用`\\b[^\\s]+f[^\\s]+a[^\\s]+e[^\\s]+n[^\\s]\b`.

另请注意，这并不完美，但确实可以处理您建议的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:53:08.063

这是一个可怕的想法开始。你认为，你的用户会写一些类似“f-aeen”的东西来避开你的过滤器，但不会想出“ffaen”或“-faen”或任何你没有准备好的变体？这是一场你无法赢得的比赛，真正的输家是可用性。

# iphone - 无法显示异步加载的纹理

> ID：14828589
> 
> 赞同：0
> 
> 时间：2013-02-12T08:43:04.473
> 
> 标签：iphone, ios, objective-c, cocos2d-iphone, grand-central-dispatch

在我的游戏中，我必须在游戏期间更改场景的背景。当我为背景设置新纹理时，游戏会变慢一会儿。为了避免这种情况，我试图异步预加载纹理，然后在主线程上显示它。我就是这样做的：

```
NSString *filename = [NSString stringWithFormat:@"res/src/level_%i/background.png", [GameLevel sharedGameLevel].currentLevelIndex + 1];
__block CCTexture2D *texture;

dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{

    NSLog(@"FILENAME %@", filename);
    [[CCTextureCache sharedTextureCache] addImage:filename];
    NSLog(@"%@", [CCTextureCache sharedTextureCache]);

    dispatch_async(dispatch_get_main_queue(), ^{

        texture = [[CCTextureCache sharedTextureCache] textureForKey:filename];

        [spareBackground setTexture:texture];

        [dayBackground runAction:[CCSequence actions:fadeOut,[CCCallBlockN actionWithBlock:^(CCNode *node)
        {
            NSLog(@" TEXTURE %@", texture);
            [dayBackground setTexture:texture];
            CCFadeIn *fadeIn = [[[CCFadeIn alloc] initWithDuration:5] autorelease];
            [dayBackground runAction:fadeIn];
        }], nil]];      

    });
}); 
```

但是尽管纹理已成功加载，但我总是收到一个空白屏幕而不是背景，它不是`nil`。如果在主线程上加载纹理而不使用 gcd，则此代码可以正常工作。我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:05:04.390

我怀疑这`CCTextureCache`不是线程安全的（并且作为共享对象，它需要是线程安全的才能从另一个线程安全地调用）。

另一方面，Cocos2d 已经提供了异步加载纹理的机制，因此您可以改用它们。这应该是签名：

```
[[CCTextureCache sharedTextureCache] addImageAsync:filename target:self selector:@selector(textureLoaded:)]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T15:07:19.637

如果你能负担得起用'空间'换'时间'，即你的游戏的内存占用是合理的，在场景开始时预加载两个纹理，在游戏过程中，只需翻转纹理的可见性。

此外，我发现加载 pvr 纹理而不是 png 会运行得更快（即消耗更少的 cpu 我猜）。您可以尝试将其作为第一次尝试 - 希望从用户体验的角度来看“暂停”是可以接受的。

附言。我对性能的任何评论都是基于对真实设备的实际测量和测试。模拟器没用。在花费任何精力进行优化之前，请确保设备上存在此“暂停”。

# apache-flex - 在 Flash builder 中从项目更新主题

> ID：14828590
> 
> 赞同：0
> 
> 时间：2013-02-12T08:43:05.373
> 
> 标签：apache-flex, flash-builder, flex4.5

我正在做一个项目，我们有一个使用另一个项目作为主题的主项目。当我们通过 Project -> Properties -> Flex Theme 手动更新主题时，一切都很棒。我/我们的问题是，当我们的自动构建系统重新编译解决方案时，主题没有得到更新。

目前我们正在做以下工作： 重新编译主题项目。将 SWC 复制到当前主题 SWC 之上，然后重新编译主项目，但仍然无法正常工作。

有谁能帮忙吗？

更新：我们正在使用一个每次运行的 build.bat 文件，其中包含以下内容： - 一个 build.xml 文件，它指定了我们使用的各种项目。- 执行构建的 build.bat 文件

构建.xml：

```
<?xml version="1.0"?>
<project default="main">   
    <target name="theme">
        <fb.exportReleaseBuild project="theme" destdir="bin"/>
    </target>
    <target name="main">
        <fb.exportReleaseBuild project="Main project" destdir="bin-output"/>
    </target>
</project> 
```

Build.bat：（**仅关于主题和主项目的部分**

```
echo **building theme**
%FLASHBUILDER_GUI% --launcher.suppressErrors -noSplash -application org.eclipse.ant.core.antRunner -data "%WORKSPACE%" -file "%BUILDXML%" theme
if %errorlevel% == 0 goto theme_ok
if %errorlevel% == 13 goto theme_ok rem Seems to happen after a successful build
echo Failed to build, error code %errorlevel%
exit /b %errorlevel%

:theme_ok
echo copying theme
if not exist "%appdata%\Adobe" mkdir "%appdata%\Adobe"
if not exist "%appdata%\Adobe\Flash Builder" mkdir "%appdata%\Adobe\Flash Builder"
if not exist "%appdata%\Adobe\Flash Builder\Themes" mkdir "%appdata%\Adobe\Flash Builder\Themes"
if not exist "%appdata%\Adobe\Flash Builder\Themes\theme" mkdir "%appdata%\Adobe\Flash Builder\Themes\theme"
copy ..\theme\bin\theme.swc "%appdata%\Adobe\Flash Builder\Themes\theme"
:theme_copy_ok

echo **Building Main Project**
%FLASHBUILDER% --launcher.suppressErrors -noSplash -application org.eclipse.ant.core.antRunner -data "%WORKSPACE%" -file "%BUILDXML%" main
if %errorlevel% neq 0 exit /b %errorlevel% 
```

# python - 无法从 Python 中的 subprocess.Popen 输出解析 xml

> ID：14828597
> 
> 赞同：2
> 
> 时间：2013-02-12T08:43:45.157
> 
> 标签：python, xml-parsing, subprocess, xml.etree, celementtree

我正在使用这个库来解析我的 xml：

```
import xml.etree.cElementTree as xml 
```

解析器的 xml 输入是以下输出`subprocess.Popen`：

```
XMLFile = subprocess.Popen(xml_command,shell=True,stdout=subprocess.PIPE, executable="/bin/ksh").communicate()[0]
root = xml.XML(XMLFile) 
```

我收到此错误：

```
IOError: [Errno 36] File name too long: ' <?xml version=\...' 
```

但是，当我传递从与`xml_command`文件相同的命令生成的 xml 时，它工作得非常好：

```
root = xml.parse("/home/test.xml") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-06-01T13:17:06.043

尝试这个：

```
import xml.etree.cElementTree as xml
p = subprocess.Popen(xml_command, shell=True, stdout=subprocess.PIPE, executable="/bin/ksh")
text, err = p.communicate()
root = xml.fromstring(text) 
```

使用 python 2.6.6

> [将 subprocess.Popen 调用的输出存储在字符串中](https://stackoverflow.com/questions/2502833/store-output-of-subprocess-popen-call-in-a-string?rq=1)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-06-19T15:48:14.987

尝试这个

```
from xml.etree.ElementTree import fromstring
root = fromstring(subprocess.check_output(['/bin/ksh'])) 
```

# android - 如何通过 Web 服务调用 android 库中的方法？

> ID：14828601
> 
> 赞同：0
> 
> 时间：2013-02-12T08:44:04.507
> 
> 标签：android, web-services, static-libraries

我创建了一个 android 库项目，用于通过`gallery`或从`camera`. 此浏览的图像将被压缩然后上传到服务器。`web service`现在，我想通过made in访问上述库中的方法`asp.net`。有可能吗？如果可以，怎么做？

或者有没有办法将 jar 文件添加到 Web 服务并使用它的方法？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:44:27.127

这是可能的。我从事过用 php 和 SOAP 制作的 Web 服务，它在调用时返回了一个 JSON 对象。调用 .net 服务相对简单。您应该在 stackoverflow 或 google 中搜索特定答案。以下是我发现的一些问题。

[如何使用 Get 方法在 android 中调用 Web 服务](https://stackoverflow.com/questions/4524401/how-to-use-get-method-for-calling-web-services-in-android?rq=1)
[Call .NET Webservice with Android](https://stackoverflow.com/questions/2992258/call-net-webservice-with-android)

# visual-studio - Visual Studio Ultimate 无法在设计视图中添加表格

> ID：14828604
> 
> 赞同：0
> 
> 时间：2013-02-12T08:44:14.520
> 
> 标签：visual-studio

我在 VS 2012 中创建表时遇到问题，似乎无法解决这个问题。我昨天加载了 Visual Studio 2012 Ultimate，没有进行任何手动配置，只是让它安装。几天后尝试通过右键单击服务器资源管理器中的表图标在我的解决方案中的设计视图中添加一个表，并且出现下图中看到的错误，我认为这可能是我的解决方案的问题，所以我创建了另一个，和另一个，但仍然有同样的问题。

这是 VS 2012 Ultimate 中的一个已知问题，还是我在这里遗漏了什么？有修复或解决方法吗？

![尝试在 VS 2012 中打开表设计器时显示错误](../Images/e1294d29aaa3575e2bfeac66153012c4.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-14T02:32:37.523

转到Windows的程序和功能，就好像您要卸载VS并单击修复一样。它解决了我的问题

# coldfusion - 用户名和密码的数据库验证不起作用。

> ID：14828605
> 
> 赞同：-1
> 
> 时间：2013-02-12T08:44:19.553
> 
> 标签：coldfusion, coldfusion-9

我正在尝试登录部分，但它没有使用数据库验证用户名和密码。谁能告诉我这段代码有什么问题？

服务/用户.cfc

```
 <cffunction name="login" access="public" output="false" returntype="any">
               <cfargument name="username" required="true">
               <cfargument name="password" required="true">
                    <cfquery name="getUser">
                             SELECT users.Id,
                                    users.username,
                                    users.password       
                             FROM  Users
                             Where UserName = <cfqueryparam value="#arguments.username#" cfsqltype="CF_SQL_VARCHAR">
                             AND   Password = <cfqueryparam value="#arguments.password#" cfsqltype="CF_SQL_VARCHAR">
                    </cfquery>
                    <cfif getUser.recordcount gt 0>
                       <cfreturn getUser>
                    </cfif>
      </cffunction> 
```

控制器/login.cfc

```
<cffunction name="login" access="public" returntype="void">
                          <cfargument name="rc" type="struct" required="true">
                          <cfset user = getUserService().login(arguments.rc.Username,arguments.rc.password)>
                               <cfif arguments.rc.username EQ UserName and arguments.rc.password EQ password>
                                     <cfset session.auth = structNew()>
                                     <cfset session.auth.isLoggedin = "yes"/>
                                     <!--- <cfset session.auth.id = users.id />  --->
                                     <cfset session.auth.username = UserName />
                                     <cfset session.auth.password = password />
                               <cfelse>
                                     <cfset rc.message = createMessage('error','','entered password is wrong')>
                                     <cfset variables.fw.redirect('login.default','message')>
                               </cfif>

             </cffunction> 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:06:46.783

在您检查调用 login() 的结果时，您没有限定用户名和密码。尝试 user.UserName 和 user.Password：

```
<cfif arguments.rc.username EQ user.UserName and arguments.rc.password EQ user.password> 
```

您还需要检查 login() 的响应是否是查询。目前，如果用户名/密码不匹配，login() 将不返回任何内容。您可以在结果上使用 IsQuery() 或更改 login() 以始终返回结果集并检查代码中的长度。如果用户名和密码不匹配，您也可以寻找抛出异常。然后，您可以尝试 login() 调用并在控制器的 login() 方法中捕获并处理故障。

您可能需要考虑将服务中的登录方法重命名为 validateUserCredentials 或类似的东西，因为真正的登录（设置会话状态）发生在您的控制器中，尽管这只是个人喜好问题。

Although not part of the question (and possibly addressed elsewhere in your code), you should look at [hashing and salting your passwords](https://www.owasp.org/index.php/Password_Storage_Cheat_Sheet) in order to protect your users

# javascript - JS - 标签的文本值 - 当标签为字符串时

> ID：14828611
> 
> 赞同：-2
> 
> 时间：2013-02-12T08:44:45.843
> 
> 标签：javascript, regex, dom

标签存储为字符串时，如何获取标签的文本值？

```
var value = "<div>teeext</div>"; 
```

标签可以是任何东西，它的属性也可能包含“>”字符串，正则表达式可能很危险——文本值本身也可以是另一个标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:51:00.923

我猜您正在尝试剥离标签。在这种情况下，您可以这样做：

```
originalString = "<div>teeext</div>";
var value = originalString.replace(/(<([^>]+)>)/ig,""); 
```

测试一下。如果您需要处理任何异常，请在此处发表评论，我会尽力为您提供进一步帮助。

编辑多个标签：

```
originalString = "<div>teeext</div>";
outputString = originalString;
while (outputString.indexOf(/(<([^>]+)>)/ig) !== -1){
    outputString = outputString.replace(/(<([^>]+)>)/ig,"");
    }
value = outputString; 
```

没有测试过，但你明白了;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T08:51:25.653

您可以制作一个虚拟元素：

```
var value = "<div>teeext</div>";

var div = document.createElement('div');
div.innerHTML = value;

var text = div.innerText || div.textContent; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:56:44.497

仅使用 javascript：

```
 var div = document.createElement('div');
    var value = "<div>teeext</div>";
    div.innerHTML = value; 
    var element = div.firstChild

    console.log(element.innerHTML); //this the stuff in the tag 
```

使用 jquery：

```
$(value).html(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T09:09:18.387

这对初学者有帮助吗？

```
function getText(tagString) {
    var firstOpenTag = tagString.indexOf(">"),
        lastCloseTag = tagString.lastIndexOf("</"),
        substrLength;

    if (firstOpenTag == -1 || lastCloseTag == -1) {
        return tagString;
    }

    substrLength = (tagString.length - firstOpenTag) - (tagString.length - lastCloseTag) - 1;
    return tagString.substr(firstOpenTag + 1, substrLength);
}

var value = "<div>teeext</div>";

console.log(getText(value));

var moreTags = "<div><ul><li>Text</li></ul></div>",
    returnValue = moreTags,
    prevReturnValue = "";

while (returnValue !== prevReturnValue) {
    prevReturnValue = returnValue;
    returnValue = getText(returnValue);
}

console.log(returnValue); 
```

# actionscript-3 - Action script 3 绘图应用程序撤消和重做功能

> ID：14828613
> 
> 赞同：0
> 
> 时间：2013-02-12T08:44:52.803
> 
> 标签：actionscript-3, flash, drawing, undo, redo

谁能告诉我如何进行撤消和重做功能？所以这是我当前的动作脚本。我不知道该怎么做，我在一些网站上看到了一些例子，动作脚本很长，无法理解。请展示一个简单的方法，我可以使这项工作..

对不起语法不好...

```
import flash.display.MovieClip;
import flash.events.MouseEvent;

var pen_mc:MovieClip;
var drawing:Boolean = false;
var penSize:uint = 1;
var penColor:Number = 0x000000;

var shapes:Vector.<Shape>=new Vector.<Shape>(); 
var position:int=0;
const MAX_UNDO:int=10;

function init():void{

pen_mc = new MovieClip();
stage.addEventListener(MouseEvent.MOUSE_DOWN, startDrawing);
stage.addEventListener(MouseEvent.MOUSE_MOVE, isDrawing);
stage.addEventListener(MouseEvent.MOUSE_UP, finishedDrawing);
addChild(pen_mc);

}

init();

function startDrawing(e:MouseEvent):void{

trace("Pen Has started drawing");

drawing = true;
pen_mc.graphics.lineStyle(penSize, penColor);
pen_mc.graphics.moveTo(mouseX, mouseY);

}

function isDrawing(e:MouseEvent):void{
if(drawing){

    pen_mc.graphics.lineTo(mouseX, mouseY);
}

}

function finishedDrawing(e:MouseEvent):void{

     trace("finished drawing");
     drawing = false;

     var sh:Shape=new Shape();
     sh.graphics.copyFrom(pen_mc.graphics); // put current state into the vector
     shapes.push(sh);
     if (shapes.length>MAX_UNDO) shapes.unshift(); // drop oldest state
     position=shapes.indexOf(sh);
}
function undo():void {
    if (position>0) {
        position--;
        pen_mc.graphics.copyFrom(shapes[position].graphics);
    } // else can't undo
}
function redo():void {
    if (position+1<shapes.length) {
        position++;
        pen_mc.graphics.copyFrom(shapes[position].graphics);
    } // else can't redo
}

 function btn_undo(e:MouseEvent):void
        {
            undo();
        }

 function btn_redo(e:MouseEvent):void
        {
            redo();
        }

undo_btn.addEventListener(MouseEvent.CLICK, btn_undo);
redo_btn.addEventListener(MouseEvent.CLICK, btn_redo); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:41:04.403

您可以`copyFrom()`在 Shape.graphics 中使用来存储当前状态，并且与“重做”相同，因为您的画布是一个形状。

```
var shapes:Vector.<Shape>=new Vector.<Shape>(); 
var position:int=0;
const MAX_UNDO:int=10;
...
function finishedDrawing(e:MouseEvent):void{

     trace("finished drawing");
     drawing = false;

     var sh:Shape=new Shape();
     sh.graphics.copyFrom(penMC.graphics); // put current state into the vector
     shapes.push(sh);
     if (shapes.length>MAX_UNDO) shapes.unshift(); // drop oldest state
     position=shapes.indexOf(sh);
}
function undo():void {
    if (position>0) {
        position--;
        penMC.graphics.copyFrom(shapes[position].graphics);
    } // else can't undo
}
function redo():void {
    if (position+1<shapes.length) {
        position++;
        penMC.graphics.copyFrom(shapes[position].graphics);
    } // else can't redo
} 
```

这种方法缺乏一些特性，例如如果先撤消到某个点，然后再绘制，则丢弃部分撤消/重做堆栈。您可以尝试自己添加此功能。

# grails - 圣杯 和

> ID：14828615
> 
> 赞同：-1
> 
> 时间：2013-02-12T08:44:57.317
> 
> 标签：grails, gsp

`<r:use module=""/>`我只是好奇，和 有什么区别`<r:require module="" />`？它们似乎工作相同，或者是吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:06:04.590

从[文档](http://grails-plugins.github.com/grails-resources/ref/Tags/use.html)中：

> r：使用标签
> 
> 此标签已弃用，请参阅要求。

# java - 有什么方法可以截断 org.eclipse.swt.widgets.Table 项目的文本

> ID：14828618
> 
> 赞同：2
> 
> 时间：2013-02-12T08:45:31.507
> 
> 标签：java, swt

我正在使用`org.eclipse.swt.widgets.Table`. 我有一个宽度为 100 的列，例如，如果相应`TableItem`的文本长于列宽，我希望剩余的文本出现在该单元格的新行中。

是否可以？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T09:00:21.403

您可以使用 multiline `TableItem`，如[本](http://www.java2s.com/Tutorial/Java/0280__SWT/MultilineTablecell.htm)例所示：

![在此处输入图像描述](../Images/2246263ac5c8ce842ba2d4b76b5761b5.png)

**但是**，您必须自己处理换行符（即`\n`）的插入。`TableItem`s**不**支持自行[换行](https://bugs.eclipse.org/bugs/show_bug.cgi?id=19496)。

# javascript - 有没有办法在 Javascript 中访问 Firefox 错误列表？

> ID：14828625
> 
> 赞同：0
> 
> 时间：2013-02-12T08:45:54.493
> 
> 标签：javascript, firefox, firefox-addon, firebug

我想知道我是否可以以某种方式访问​​安装了 Firebug 的 Firefox 中所有错误的列表。我试图找到一些存储它的变量或从 Firebug 控制台读取数据。不幸的是，没有运气。可能吗？如果是这样，你能给我一些提示吗？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:56:21.613

不，[Firebug 控制台 API](http://getfirebug.com/wiki/index.php/Console_API)不包含任何从控制台检索信息的方法，它只有将信息推送到控制台的方法。

# php - PHP integration with PayPal IPN returning empty POST data

> ID：14828630
> 
> 赞同：1
> 
> 时间：2013-02-12T08:46:05.460
> 
> 标签：php, paypal, paypal-ipn

i have looked through the other threads on here and am yet to find a solution for the issue i have. I am using the "IPN Simulator" on the paypal sandbox website, i put in the url to my ipn processing script which sends me an email notifying me of what happened. Every request that the IPN sends has empty POST data, any idea what i could be doing wrong here?

The following piece of code is what i am using to fetch the POST data, any help is much appreciated!

```
$req = 'cmd=_notify-validate';
foreach ($_POST as $key => $value) {
    $value = urlencode(stripslashes($value));
    $req .= "&$key=$value";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T14:13:02.707

You could also try testing this with a test sandbox seller and buyer account. Set the IPN up on your test sandbox seller account, and go through and make a test purchase. Once you have done this, you can log into the seller account and go to your IPN history and actually see the IPN string that got sent out. This will help you to verify that atleast an IPN POST is being sent out. It should also show you if it was successful, or if it failed or is in a retrying status. If it failed, it will show you the status code that your server returned back if your server is responding back with something. You could also try using the IPN sample script found at [https://www.x.com/developers/PayPal/documentation-tools/code-sample/216623](https://www.x.com/developers/PayPal/documentation-tools/code-sample/216623) I have tested the PHP one and it was working for me.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T10:13:02.803

Have you added rm hidden field into form? Without rm field,It may return empty data.

# php - 将 Microsoft Office 和 PDF 文档离线转换为 HTML

> ID：14828639
> 
> 赞同：0
> 
> 时间：2013-02-12T08:46:37.233
> 
> 标签：php

是否有任何开源/付费转换器可用于将 Microsoft Office 和 PDF 文档转换为 HTML，以便您的用户可以直接在 Web 应用程序中查看它们，特别是寻找可以离线执行的东西。Scribd、crocdoc、google doc viewer 可以在线工作，但需要使其离线工作。甚至可能吗？

# git - 如何从 symfony 2.1 中的本地项目导出包到 github

> ID：14828646
> 
> 赞同：0
> 
> 时间：2013-02-12T08:46:58.260
> 
> 标签：git, github, symfony-2.1

我想将我的包（不是整个项目）从*symfony 2.1*导出到我的 github 帐户以供社区使用。

一个很好的例子，我的意思是[https://github.com/Gregwar/CaptchaBundle](https://github.com/Gregwar/CaptchaBundle)

谁能给我进一步的建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T22:34:56.927

您肯定应该阅读[可重用捆绑包的最佳实践](http://symfony.com/doc/current/cookbook/bundles/best_practices.html)和[有关捆绑包配置的文章。](http://symfony.com/doc/current/cookbook/bundles/extension.html)

基本上你应该移动一些东西，例如：从`src/YourBundlePrefix/YourBundle`单独的目录/github存储库中。

然后您应该为该存储库创建 composer.json （您可以检查它在其他包中的外观）并将包添加到[packagist.org](http://packagist.org/)。在这些步骤之后，您应该更新您的应用程序 composer.json 以便可以使用您的包并将其下载到供应商目录中。

# ruby-on-rails - Rails 应用程序未在默认的 80 端口上运行。但在 80 以外的所有端口上运行

> ID：14828651
> 
> 赞同：0
> 
> 时间：2013-02-12T08:47:08.330
> 
> 标签：ruby-on-rails, ruby, apache, centos, passenger

我对 apache vhost 有疑问。我正在运行`rails 2.0.2`应用程序`centos6`。该应用程序正在**Webrick 服务器**上运行。现在我已经在 apache 中设置了虚拟主机，但问题是应用程序不在**端口 80**上运行。但它在除 80 之外的所有其他端口上运行。

应该是什么原因？

以下是我`app.conf`文件中的代码-

> /etc/httpd/sites-enabled/app.conf

```
Listen 80

<VirtualHost *:80>

 DocumentRoot /var/www/app/public
 ServerName www.domainname.com
 ServerAlias domainname.com

 ErrorLog /var/log/httpd/app/error.log
 CustomLog /var/log/httpd/app/access.log common

 <Directory /var/www/app/public>
    Allow from all
    Options -MultiViews
 </Directory>

</VirtualHost> 
```

我已通过以下语句将此`app.conf`文件包含在我的文件中。`httpd.conf`

```
Include sites-enabled/*.conf 
```

请建议我是否在**app.conf**和**httpd.conf**文件中都缺少某些内容。它非常紧迫。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:54:16.637

如果您正在运行`apache`并且`webrick`同时，它们不能*同时*侦听端口 80。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:55:59.287

您可能正在端口 80 上运行其他应用程序，这实际上可能是您用来测试应用程序的 WebRick。

用于`netstat -lnptu`检查哪些端口被使用，它可能表明它被webrick使用，或其他东西。

您还必须以 开头，`apache`因为`root`1024 以下的端口只能通过`root`访问权限打开。（你可以在centos中改变这个行为，参考：[https](https://serverfault.com/questions/84360/regular-user-using-ports-below-1024) ://serverfault.com/questions/84360/regular-user-using-ports-below-1024 ）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:58:05.290

找出端口 80 上正在运行的进程。

采用 -

```
netstat -ant 
```

如果要打开单个端口，请使用：

```
-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT 
```

您也可以帮助了解[哪个进程正在侦听端口 80](http://www.xerxesb.com/2009/finding-out-whats-process-is-listening-on-port-80/)。

# java - 使用 JXL 一次将多个数据插入到 Excel 工作表中

> ID：14828661
> 
> 赞同：2
> 
> 时间：2013-02-12T08:48:05.410
> 
> 标签：java, excel, jxl

我有一个场景，我必须在 Excel 表中插入多行数据。为此，我正在使用 JXL API。然而问题是，只有循环中的最后一组数据被写入 Excel 工作表。有人可以帮我实现它或提供代码片段或示例吗？

非常感谢。

```
 int ccount = ws.getColumns();
    int rc = ws.getRows();

    int rnum = rc - 10;

    for(int i=1;i(lesser than symbol)3; i++){
        rnum++;
        String srnum = String.valueOf(rnum);
        wsheet.addCell(new jxl.write.Label(1, rc, srnum, wcf1));
        wsheet.addCell(new jxl.write.Label(2, rc, "b", wcf1));
        wsheet.addCell(new jxl.write.Label(3, rc, "c", wcf1));
        wsheet.addCell(new jxl.write.Label(4, rc, "d", wcf1));
        System.out.println("executing...........");
        wsheet.addCell(new jxl.write.Label(5, rc, "e", wcf1));
        wsheet.addCell(new jxl.write.Label(6, rc, "f", wcf1));  

        wb.write();

        rc++;   
    } 

```

这里，wcf1 指的是我在另一个方法中定义的 WritableCellFormat。在这张表中，我在第 11 行之前插入了一些信息，现在我需要在此之后插入多个数据。所以我用for循环。但它没有正确给出结果。这个你能帮我吗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:49:27.517

我不能就这个问题直接询问更多细节（低代表）。你能写出你得到的输出吗？

我不确定 ws.getRows() 是否能正常工作。你打印出rc的值了吗？

按照代码，您将获得类似

```
 |A   |B  |C  |D  |E  |F  |
...|....|...|...|...|...|...|
x  |bla |bla|bla|bla|bla|bla| 
x+1|x-10|b  |c  |d  |e  |f  |
x+2|x-9 |b  |c  |d  |e  |f  | 
```

# java - java - 如何通过类org.apache.hadoop.conf.Configuration在java客户端中设置hadoop复制？

> ID：14828662
> 
> 赞同：2
> 
> 时间：2013-02-12T08:48:06.343
> 
> 标签：java, api, file-upload, replication

我使用java Api作为客户端上传文件，但它总是设置`dfs.replication`为3，结果当我使用命令（hadoop dfsadmin -report）检查情况时，所有块都在复制因子下，因为我只有两个数据节点进行测试。

我只想知道如何按类`org.apache.hadoop.conf.Configuration`或其他方式在java客户端中设置hadoop dfs.replication？谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T23:00:51.850

IF 文件已经通过 3 块复制复制到 HDFS，您可以使用 setReplication API 以及您的文件 src 和预期复制计数来设置特定于您的文件的复制，如下所示：

```
FileSystem fs = FileSystem.get(new Configuration());
fs.setReplication(new Path("hdfs_path:/foldername/filename"), (short)2); 
```

[此处](http://hadoop.apache.org/docs/current/api/org/apache/hadoop/fs/FileSystem.html)描述了 setReplication API ：public boolean setReplication(Path src, short replication)

此外，如果要复制具有 2 个块复制因子的文件，您可以直接在命令中传递复制计数，如下所示：

```
hadoop fs -D dfs.replication=2 YOUR_COMMANDS 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T13:57:38.123

根据[Hadoop FileSystem 类的 Java API，](http://hadoop.apache.org/docs/current/api/org/apache/hadoop/fs/FileSystem.html)您可以在创建输出流以将文件写入集群时指定文件的复制因子。例如

```
create(Path f, short replication) 
```

我目前无法在本地测试它，因为我这里只有一个 Zookeeper 节点运行。

# android - 比较日期后获取记录

> ID：14828665
> 
> 赞同：0
> 
> 时间：2013-02-12T08:48:11.600
> 
> 标签：android, sqlite

我想检索所有记录，在与当前日期前 3 天之前和之后的 Parsed_Reminder_Date 进行比较后，在我的数据库中 Parsed_Reminder_Date 是一个用于保存日期的列，它的数据类型很长，这是我的代码

```
Calendar calendar = Calendar.getInstance(); // This will give you the current time.
        // Removing the timestamp from current time to point to todays date
        calendar.set(Calendar.HOUR_OF_DAY, 0);
        calendar.set(Calendar.MINUTE, 0);
        calendar.set(Calendar.SECOND, 0);
        calendar.set(Calendar.MILLISECOND, 0);

        calendar.add(Calendar.DATE, -3); // Will subtract 3 days from today.
        Date beforeThreeDays = calendar.getTime();

        calendar.add(Calendar.DATE, 6); // Will be your 3 days after today
        Date afterThreeDays = calendar.getTime();

        long threedaybefore=beforeThreeDays.getTime() ;
        long threedayafter=afterThreeDays.getTime() ;

        Log.i("beforeThreeDays",Long.toString(threedaybefore));
        Log.i("afterThreeDays",Long.toString(threedayafter));

        String Reminder_Main = "Reminder_Main",ID = "ID", Reminder_Date = "Reminder_Date", Parsed_Reminder_Date = "Parsed_Reminder_Date";
        Cursor remindercursor = sdb
                .rawQuery(
                        "select Reminder_Id,Reminder_Type,Reminder_Time,Reminder_Date,Reminder_Alert,Reminder_Done,Reminder_byodometer,Reminder_bydate from "
                                + Reminder_Main
                                + " where "                             
                                + ID 
                                + " = ? AND "
                                + Parsed_Reminder_Date
                                + " >= ? OR  " 
                                + Parsed_Reminder_Date 
                                + " <= ? ",
                        new String[] {summaryid, Long.toString(threedaybefore), Long.toString(threedayafter)});

        remindercursor.moveToFirst(); 
```

当我执行此操作时，我得到了所有我不想要的记录，请纠正我哪里出错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:05:25.807

使用这样的简单查询

```
String query = "select Reminder_Id,Reminder_Type,Reminder_Time,Reminder_Date,Reminder_Alert,Reminder_Done,Reminder_byodometer,Reminder_bydate from "
                            + Reminder_Main
                            + " where "                             
                            + ID 
                            + " = "+ summaryid +" AND "
                            + Parsed_Reminder_Date
                            + " >= "+ threedaybefore +" AND  " 
                            + Parsed_Reminder_Date 
                            + " <= " + threedayafter;
Cursor remindercursor = sdb.rawQuery(query, null); 
```

或使用其他技巧

1）编写查询以获取所有数据；

```
String query = "select Reminder_Id,Reminder_Type,Reminder_Time,Reminder_Date,Reminder_Alert,Reminder_Done,Reminder_byodometer,Reminder_bydate from "
                            + Reminder_Main
                            + " where "                             
                            + ID 
                            + " = "+ summaryid;
Cursor remindercursor = sdb.rawQuery(query, null);
Date d = null
if (cursor.getCount() > 0) {
        if (cursor.moveToFirst()) {
            do {
                d = (<use Date Parser Here as per your dateFormat>cursor.getString(<Index>));
                if(d.after(beforeThreeDays) && d.before(afterThreeDays)){
                        // go Ahead.....
                } 
            } while (cursor.moveToNext());
        }
    }
    cursor.close(); 
```

# jasper-reports - iReport 中的条形图定制器类

> ID：14828670
> 
> 赞同：1
> 
> 时间：2013-02-12T08:48:37.267
> 
> 标签：jasper-reports, ireport, jfreechart, jasperserver

我面临 Ireport 条形图的问题。在饼图中，对于图例和图例标签，我使用 0、1、2 并显示值及其百分比。我想为条形图做类似的事情。我想沿其类别显示每个栏的值，如下所示 ![条形图](../Images/5315bacc7e94859eec8e805fac7ddef7.png)

在整个论坛中，已提出使用定制器类的建议。有没有更简单的方法来做我需要的事情？如果我需要使用定制器类，是否有可用的示例？我正在使用我报告的最新版本和 jasper server 5.0

任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:11:53.483

据我所知，JasperReports 不支持通过配置对条形图的这一要求，但正如您通过定制发现的那样。

图表定制器允许您访问 jfreechart 对象和 jasperreports 图表对象的全部功能。

您需要实现接口`net.sf.jasperreports.engine.JRChartCustomizer`。在该`customize`方法中，您将访问条形图并修改标签配置。

可以在JasperReports的[示例参考中找到一个示例。](http://jasperreports.sourceforge.net/sample.reference/charts/index.html#chartcustomizers)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T13:46:28.543

选择图表的“图表数据”并单击“详细信息”部分并打开您创建的“类别”并转到“项目超链接”部分，在“工具提示”部分中，您可以通过以下方式定义类别和值连接它们。

```
 "Category Name" + " = " + $F{Value_column} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-20T15:14:56.270

在每个条上放置一个值：

*   创建一个新的类型字段`String $F{FieldBarChart}`
*   选择图表数据->详细信息->修改类别系列->并填写标签表达式，如 `$F{FieldBarChart}.valueOf($F{value_column})`

# c++ - Disconnecting lambda functions in Qt5

> ID：14828678
> 
> 赞同：41
> 
> 时间：2013-02-12T08:49:11.017
> 
> 标签：c++, lambda, qt5

Is it possible to disconnect a lambda function? And if "yes", how?

According to [https://qt-project.org/wiki/New_Signal_Slot_Syntax](https://qt-project.org/wiki/New_Signal_Slot_Syntax) I need to use a `QMetaObject::Connection` which is returned from the QObject::connect method, but then how can I pass that object to the lambda function?

Pseudo-code example:

```
QMetaObject::Connection conn = QObject::connect(m_sock, &QLocalSocket::readyRead, [this](){
    QObject::disconnect(conn); //<---- Won't work because conn isn't captured

    //do some stuff with sock, like sock->readAll();
} 
```

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-02-12T09:42:04.840

If you capture `conn` directly, you're capturing an uninitialised object by copy, which results in undefined behaviour. You need to capture a smart pointer:

```
std::unique_ptr<QMetaObject::Connection> pconn{new QMetaObject::Connection};
QMetaObject::Connection &conn = *pconn;
conn = QObject::connect(m_sock, &QLocalSocket::readyRead, [this, pconn, &conn](){
    QObject::disconnect(conn);
    // ...
} 
```

Or using a shared pointer, with slightly greater overhead:

```
auto conn = std::make_shared<QMetaObject::Connection>();
*conn = QObject::connect(m_sock, &QLocalSocket::readyRead, [this, conn](){
    QObject::disconnect(*conn);
    // ...
} 
```

From Qt 5.2 you could instead use a context object:

```
std::unique_ptr<QObject> context{new QObject};
QObject* pcontext = context.get();
QObject::connect(m_sock, &QLocalSocket::readyRead, pcontext,
    [this, context = std::move(context)]() mutable {
    context.release();
        // ...
 }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-08-19T05:21:19.813

The context solution from ecatmur's answer is the easiest option, but I think the use of the smart pointer makes it harder to understand. I'd use a raw pointer instead:

```
QObject *context = new QObject(this);
connect(sender, &Sender::signal, context, [context] {
  delete context;
  // ...
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-27T06:20:20.297

You can define the `conn` as a private variable in the .h file. `QMetaObject::Connection conn`.
in the lambda function, you can use `conn` and disconnect it.

```
 conn = QObject::connect(m_sock, &QLocalSocket::readyRead, [=](){
    QObject::disconnect(conn); //<---- Won't work because conn isn't captured

    //do some stuff with sock, like sock->readAll();
} 
```

# java - 基准测试：多次相同的过程，只有一次预热？

> ID：14828681
> 
> 赞同：4
> 
> 时间：2013-02-12T08:49:24.577
> 
> 标签：java, concurrency, benchmarking

我目前正在开发一个 Java 应用程序（基准测试），其目的是测量与数据库相关的一些进程。

我的应用程序应该运行具有以下内容：

我有几个我想多次运行的用例（数据库中的简单插入、简单更新等）。运行之间的唯一区别是同时运行的线程数。

我需要使用 1、2、4、8、16 等线程来处理这些用例，以便在我的测试中包含并发性（使用 ExecutorService）。

**我的问题 ：**

我的应用程序是否需要在每次运行之前运行预热？或者只有一个就足够了。换句话说，我的应用程序是否必须执行以下操作：

```
--warmup
--process(1) (1 thread)
--warmup
--process(2) (2 threads)
etc. 
```

或者

```
--warmup
--process(1)
--process(2)
etc. 
```

基本上，“process()”方法是完全一样的，与线程数无关。我倾向于相信一个显然就足够了，因为 JVM 不会真正优化任何东西，因为代码不会改变。但是，我仍然更喜欢寻求一些经验丰富的建议:)

感谢您的帮助 ！

注意：我阅读了很多关于基准测试的内容：

*   [http://www.ibm.com/developerworks/library/j-jtp12214/](http://www.ibm.com/developerworks/library/j-jtp12214/)
*   [http://www.ibm.com/developerworks/java/library/j-benchmark1/index.html](http://www.ibm.com/developerworks/java/library/j-benchmark1/index.html)
*   [http://www.ibm.com/developerworks/java/library/j-benchmark2/](http://www.ibm.com/developerworks/java/library/j-benchmark2/)

这就是为什么我会说只需要一次热身。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:52:40.847

需要一次热身。如果您涵盖了这些文章并进行了适当的预热（足够的迭代，确保您的预热代码不会被消除等），那么您的预热就足够了，并且您不会在每次测试之前运行它获得任何额外的好处。

# jquery - 输入元素的流体宽度

> ID：14828683
> 
> 赞同：2
> 
> 时间：2013-02-12T08:49:27.017
> 
> 标签：jquery, html, css, layout, stylesheet

我有一个**固定位置**和**宽度为 100%**的顶栏（黄色） 。在条形图中，左侧`div`（红色）可以是任何`width`（流体）。右侧`div`（绿色）包含`input`以下元素：

1.  需要有宽度作为顶部栏的剩余空间（意思是：**绿色区域应该覆盖所有黄色区域，无论红色的宽度如何**）
2.  我不想添加更多的 html 元素。因此，鉴于下面代码中的这种结构，我尝试使用 css。
3.  我可以使用*js*轻松地做到这一点，但我现在想避免它。

**示例代码**：http: [//jsfiddle.net/qhoc/jBQDB/2/](http://jsfiddle.net/qhoc/jBQDB/2/)

如您所见，现在我使用`right: 0`了`.input input`它，但它不起作用。右边还有黄色空间。这意味着`input`元素宽度没有扩大。我试过了`position: absolute`，它仍然是一团糟。

帮助是感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T09:00:04.557

[http://jsfiddle.net/thirtydot/jBQDB/3/](http://jsfiddle.net/thirtydot/jBQDB/3/)

```
.input {
    overflow: hidden;
}
.input input {
    width: 100%;
    height: 50px;
    border: 0;
    outline: 0;
    /* you want this if there's any border/padding on the input */
    -moz-box-sizing: border-box;
         box-sizing: border-box;
} 
```

[为什么有`overflow: hidden`帮助？](http://colinaarts.com/articles/the-magic-of-overflow-hidden/#making-room-for-floats)

* * *

如果您不能`overflow: hidden`在输入的父级上使用，还有其他方法可以做到这一点，也许最常见的原因是需要`box-shadow`on`input:focus`或类似的。

这是一个使用示例：http `display: table-cell`: [//jsfiddle.net/thirtydot/jBQDB/4/](http://jsfiddle.net/thirtydot/jBQDB/4/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:04:24.390

尝试使用

```
display: table; 
```

和

```
display: table-cell; 
```

因为它会自动调整大小。

修订样本：http: [//jsfiddle.net/2VmFT/](http://jsfiddle.net/2VmFT/)

# php - 基本站点搜索代码

> ID：14828687
> 
> 赞同：1
> 
> 时间：2013-02-12T08:49:38.340
> 
> 标签：php, html, mysql, sql

我在我的网站上进行基本搜索时遇到问题，因为它仅在词序完全匹配时才找到匹配项。

例如，如果我搜索红鞋，它不会显示红鞋的结果。

如果您搜索 Red Shoe Laces，它不会显示 Red Laces 的结果（因为单词 shoe 会影响这个订单）。以下是我认为搜索框正在使用的代码。谁能告诉我如何“放松”这个搜索，这样它要么更广泛，要么不需要精确的词序？

这是当前代码：我的 php 代码知识是基本的，所以如果可能的话，请参考如何解决这个问题的确切位置（如果可能的话）：

```
case 'search':
          if (intval($filter) != 0) {       
              $filter = JString::strtolower($filter);
              $id = intval($filter);
              $search .= $temp."(a.id = $id OR LOWER(a.ad_headline) LIKE '%".$this->_db->getEscaped($filter,true)."%' OR LOWER(a.ad_text) LIKE '%".$this->_db->getEscaped($filter,true)."%')";
          } else {
              $filter = JString::strtolower($filter);
              $search .= $temp."(LOWER(a.ad_headline) LIKE '%".$this->_db->getEscaped($filter,true)."%' OR LOWER(a.ad_text) LIKE '%".$this->_db->getEscaped($filter,true)."%')";
          }
          break;
          }
          }
      }
      return $search;
 } 
```

这里有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:57:47.777

你需要使用`Full-Text Search`函数

请参阅以下语法：

**`MATCH`**`(field_name1,field_name2)`**`AGAINST`**`(value)`

在您的上下文中，如下所示：

```
$search .= $temp."MATCH(a.ad_headline,a.ad_text) AGAINST ('".$this->_db->getEscaped($filter,true)."')"; 
```

更多详情，[参考链接](http://dev.mysql.com/doc/refman/5.5/en//fulltext-search.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-08T02:51:54.133

并非所有数据库都始终提供全文搜索。

这是穷人的选择。

我通常在空格上拆分查询，然后有很多类似的条件，但是没有结果权重，但它在一定程度上缩小了结果。

```
 $pattern_parts = preg_split('/\s+/', $pattern);

 $sql = "SELECT * FROM tablename WHERE " 

 foreach ($pattern_parts as $pattern_part) {
    $sql.= " (field1 LIKE '%$pattern_part%' OR field2 LIKE '%$pattern_part%') AND ';
 }

 $sql .= " (fieldx = 'y') "; // other conditions go here
 $sql .= "ORDER BY field1 ASC"; 
```

显然，您需要处理转义数据等

如果您需要全文搜索无法提供的功能，请查看 phplucence

# javascript - Knockout js - beforeRemove 动画，同时将项目添加到可观察数组

> ID：14828688
> 
> 赞同：33
> 
> 时间：2013-02-12T08:49:40.710
> 
> 标签：javascript, knockout.js

我在淘汰 js 并将可观察数组显示为列表时遇到问题；在 beforeRemove 动画运行时添加项目时，被移除的元素会移动到列表的底部，而不是停留在其位置，直到动画完成并移除元素。

这是一个更好地解释问题的jsfiddle：http: [//jsfiddle.net/bPP5Q/8/](http://jsfiddle.net/bPP5Q/8/)

有谁知道我怎么能解决这个问题？

javascript:

```
jQuery(function ($) {
    var ViewModel = function (data) {
        var self = this;
        self.data = ko.observableArray(data);
        self.removeLine = function (elem) {
            if (elem.nodeType === 1) $(elem).fadeOut(3000, function () {
                $(elem).remove();
            });
        }

        self.addLine = function (elem) {
            if (elem.nodeType === 1) 
                $(elem).hide().fadeIn(3000);
        }

        self.removeItem = function() {
            self.data.remove(function(item) { return item.test && item.test == 2; });   
        }

        self.addItem = function() {
            self.data.splice(1, 0, { test: 9 }); 
        }

        self.addremove = function () {
            self.removeItem();
            var id = setInterval(function() {
                self.addItem();
                clearInterval(id);
            },1000);
        }
    }

    var vm = new ViewModel([{ test: 9 }, { test: 2 }, { test: 1 }, { test: 1 }, { test: 1 }, { test: 1 }, { test: 1 }]);

    ko.applyBindings(vm);
}); 
```

HTML：

```
<button id="button" data-bind="click: addremove">Click</button>
<table id="grid">
    <tbody data-bind='template: { foreach: data, afterAdd: addLine, beforeRemove: removeLine }'>
        <tr>
            <td data-bind="text: test"></td>
            <td>

            </td>
        </tr>
    </tbody>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-09-19T20:15:58.177

您的函数“addItem”在 1 秒（setInterval 1000 毫秒）后执行，因此“self.data”包含一个新元素，而动画淡出未完成（需要 3000 毫秒）。那就是解释你的问题。

要解决此问题，您必须为“addItem”设置与“fadeout”相同的间隔，例如它是 3000。代码变为：

```
jQuery(function ($) {
    var ViewModel = function (data) {
        var self = this;
        self.data = ko.observableArray(data);
        self.removeLine = function (elem) {
            if (elem.nodeType === 1) $(elem).fadeOut(3000, function () {
                $(elem).remove();
            });
        }

        self.addLine = function (elem) {
            if (elem.nodeType === 1) 
                $(elem).hide().fadeIn(3000);
        }

        self.removeItem = function() {
            self.data.remove(function(item) { return item.test && item.test == 2; });   
        }

        self.addItem = function() {
            self.data.splice(1, 0, { test: 9 }); 
        }

        self.addremove = function () {
            self.removeItem();
            var id = setInterval(function() {
                self.addItem();
                clearInterval(id);
            },3000); // the same interval as the "fadeout"
        }
    }

    var vm = new ViewModel([{ test: 9 }, { test: 2 }, { test: 1 }, { test: 1 }, { test: 1 }, { test: 1 }, { test: 1 }]);

    ko.applyBindings(vm);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-30T03:43:00.580

As a workaround, if possible, you want to do all of your changes to the observable array in a single operation. For example, instead of adding and/or removing elements individually, you want to update the entire observable array at once, perhaps using ko.utils.arrayFilter to assign a filtered version of the observableArray back to itself.

```
self.data( ko.utils.arrayFilter(self.data(), function(x) {
    return shouldKeepElement(x);
}) ); 
```

If this is not possible (as is probably the case for you), you'll need to delay the adding of the item into the array until the remove animation is complete. This will probably involve an elaborate system of "levers and pulleys", so the resulting code is going to be pretty undesirable. The user experience will possibly also suffer, since "fast" user actions are going to need to be queued or disallowed.

Obviously an ideal solution is that this gets addressed in the next release of knockout. Until then, you can either "downgrade" to 2.1, or make [a small patch](https://github.com/knockout/knockout/issues/790#issue-9803689) to the existing knockout codebase. I can't vouch for this patch, and it may have undesirable consequences, but it should be a good stop-gap for this problem.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-14T18:06:26.410

问题在于 addItem 的时间——在开始添加新项目的过程之前，您需要等待动画结束。

工作小提琴：http: [//jsfiddle.net/bPP5Q/26/](http://jsfiddle.net/bPP5Q/26/)

```
jQuery(function ($) {
// this runs after the window loads
var ViewModel = function (data) {
    var self = this;
    self.data = ko.observableArray(data);
    self.removeLine = function (elem) {
        if (elem.nodeType === 1) $(elem).fadeOut(3000, function () {
            $(elem).remove();
            self.addItem();
        });
    }

    self.addLine = function (elem) {
        if (elem.nodeType === 1) 
            $(elem).hide().fadeIn(3000);
    }

    self.removeItem = function() {
        self.data.remove(function(item) { return item.test && item.test == 2; });   
    }

    self.addItem = function() {
        self.data.splice(1, 0, { test: 9 }); 
    }

    self.addremove = function () {
        self.removeItem();
    }
}

var vm = new ViewModel([{
    test: 9
}, {
    test: 2
}, {
    test: 1
}, {
    test: 1
}, {
    test: 1
}, {
    test: 1
}, {
    test: 1
}]);

ko.applyBindings(vm);

}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-13T13:25:40.297

此处描述的问题已在 3.4.0 中修复。见[https://github.com/knockout/knockout/issues/790](https://github.com/knockout/knockout/issues/790)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-09-23T07:45:14.353

混合 'splice' 和敲除的 'array.remove' 可能会导致意外行为，您最好始终如一地处理它，例如，只使用如下所示的 'splice'：

```
 self.addItem = function () {
                    var index = $.map(self.data(), function (item, index) {
                        if (item.test && item.test == 2) {
                            return index;
                        }
                    })[0];
                    self.data.splice(index + 1, 0, { test: 9 });
                    self.data.splice(index, 1);
                }

                self.addremove = function () {
                    //self.removeItem();
                    var id = setInterval(function () {
                        self.addItem();
                        clearInterval(id);
                    }, 1000);
                } 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-12-13T16:09:01.223

更新了您的示例，我认为只有 aumeti 时间将项目添加到 1 秒到 3

```
self.removeItem();
var id = setInterval(function() {
  self.addItem();
  clearInterval(id);
},3000); 
```

[http://jsfiddle.net/bPP5Q/15/](http://jsfiddle.net/bPP5Q/15/)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-12-05T13:28:07.247

您可以使用 beforeAdd 绑定在显示添加的元素时删除项目

** 编辑 **

这是小提琴：http: [//jsfiddle.net/janarde/U6Um5/5/](http://jsfiddle.net/janarde/U6Um5/5/)

```
<button id="button" data-bind="click: addremove">Click</button>
<table id="grid">
    <tbody data-bind='template: { foreach: data, afterAdd: addLine, beforeAdd: removeLine }'>
        <tr>
            <td data-bind="text: test"></td>
            <td>

            </td>
        </tr>
    </tbody>
</table> 
```

# vim - vim：在插入模式下撤消换行符？

> ID：14828692
> 
> 赞同：21
> 
> 时间：2013-02-12T08:49:53.330
> 
> 标签：vim

在插入模式下输入时，我经常不小心按回车键。要撤消意外返回，我通常会按几次退格键。首先删除所有自动缩进，然后最后删除换行符。

有没有更好的办法。类似于撤消最后一次击键的效果的东西？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-12T09:17:45.783

在完全相同的情况下，我这样做`<C-w><C-w>`。`<C-w>`是插入模式下的一项重要资产。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-13T09:33:52.527

`CTRL-W`删除最后输入的单词。如果您键入了多个单词或识别级别较深，则`CTRL-U`可能更适合您的需要，因为它会删除您在当前插入模式会话中键入的所有内容。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-12T08:57:06.677

是的，您可以使用“u”命令进行撤消。如果您处于插入模式，只需按“Ctrl+C”停止插入，然后按“u”并按 Enter。

这对你有用吗？

*顺便说一句，要重做更改，请使用“Ctrl+R”..*

# ios - 错误：“文件是为存档而构建的，它不是被链接的架构（armv7s）”

> ID：14828693
> 
> 赞同：42
> 
> 时间：2013-02-12T08:50:05.327
> 
> 标签：ios, xcode, static-libraries, armv7

我已经构建了自己的静态 C++ 库，它是使用以下设置构建的：

*   架构：armv7、armv7s
*   仅构建活动架构：否
*   支持平台：iOS
*   有效架构：armv7、armv7s

库项目构建良好，我得到了 .a 文件（我已经清理了构建文件夹并再次构建项目以确保我的设置有效）。

我已将库（.a 文件）添加到我的 iOS 项目中，但即使我在 iOS 项目上设置了完全相同的设置，该项目也不会构建：

*   架构：armv7s、armv7
*   仅构建活动架构：是
*   支持平台：iOS
*   有效架构：armv7、armv7s

我不断收到此错误：

> **ld：警告：忽略文件**/Users/hidden/Library/Developer/Xcode/DerivedData/HelloWorldCppLib-fomvvtklwijvqicyhahxleiscein/Build/Products/Debug-iphoneos/libHelloWorldCppLib.a，**文件是为存档而构建的，它不是被链接的架构（armv7s） ：** /Users/hidden/Library/Developer/Xcode/DerivedData/HelloWorldCppLib-fomvvtklwijvqicyhahxleiscein/Build/Products/Debug-iphoneos/libHelloWorldCppLib.a

我错过了什么？它告诉我 .a 文件不是为 armv7s 构建的，但这正是我构建库时使用的设置。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-06-22T03:09:05.823

我自己也遇到了类似的问题。`@graver`的解决方案绝对有效。

问题是该库是为`armv7`而不是为`armv7s`. 您可以使用自己验证这一点`lipo <path/to/lib.a> -info`。

设置`Build Active Architectures Only`选项以`No`解决问题。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-02-12T08:56:47.900

当您构建库时，您必须为模拟器和设备编译它，然后将两个输出（.a 文件）合并到 1 个库中，然后将其链接到您的 iOS 项目。

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2014-03-08T10:09:02.003

另一个注意事项是：

```
 Build Active Architectures Only  set to no 
```

用于 lib 项目。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2015-12-16T17:48:25.650

使用 cocapods 时我遇到了完全相同的错误：对我来说，解决方案是为目标和 pod 构建两个不同的 Active Architecture。

应用目标：

```
Build Active Architectures Only  **Yes** 
```

豆荚目标

```
Build Active Architectures Only  **No** 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-08-18T05:32:03.737

不幸的是，所有这些建议对我都不起作用-Xcode 7.3.1 (7D1014)、iPhone 5。但是一旦我删除了所有 Xcode 临时文件（+ 重新启动 Xcode）并再次重建，它就开始工作了。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-06-27T08:00:55.127

通过 CocoaPods 使用的 Facebook SDK (v 4.24.0) 确实发生在我身上。

清洁或设置`Build Active Architectures Only`到Pod`NO`并不能解决问题。

解决方案是清空构建目录（请参阅构建设置/构建位置/CONFIGURATION_BUILD_DIR）或`$(CONFIGURATION_BUILD_DIR)`Xcode 变量。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-08-16T11:21:50.127

我使用 XCode 5.1.1 并遇到了所描述的问题。解决这个问题的一种更方便的方法似乎只是创建一个存档（通过菜单 Build/Archive）并分发它。分布式库文件将包含所有定义的架构。

# asp.net - 如何更改asp.net弹出窗口中的弹出图标？

> ID：14828696
> 
> 赞同：2
> 
> 时间：2013-02-12T08:50:36.747
> 
> 标签：asp.net

我想从asp.net中的默认浏览器图标更改弹出窗口的图标。在下面的屏幕截图中，我标记了该图标。

![在此处输入图像描述](../Images/1fff4022778de91aaccbf0ce78ec902c.png)

请让我知道如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T08:52:18.853

它被称为网站图标。只需在您的 html 头部更改您的快捷方式图标

```
<link runat="server" rel="shortcut icon" href="http://path/images/favicon.ico" type="image/x-icon"/> 
```

它们通常很小 - 不大于 50x50 像素

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T10:08:01.977

要更改网站的 favicon，请将此代码添加到母版页的`<head>`标记中。

```
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" /> 
```

# capistrano - 在使用 Chef 设置服务器后使用 Capistrano 部署应用程序

> ID：14828697
> 
> 赞同：0
> 
> 时间：2013-02-12T08:50:38.347
> 
> 标签：capistrano, chef-infra

我有一个使用 Chef 食谱设置的应用程序服务器。该配方使用 opscode[应用程序](https://github.com/opscode-cookbooks/application)说明书从私有 GitHub 存储库中对应用程序代码进行初始部署。现在我想将 Capistrano 添加到组合中以处理未来的代码部署。在这里我遇到了麻烦。应用程序说明书使用与 Capistrano 相同的文件夹结构，所以我认为它们是为了相互合作，但我很难让它们玩得很好。

谁能解释一下我的 Capistrano 食谱可能会是什么样子来处理这样的事情。由于我使用的是私有 repo，并使用应用程序说明书的内置 ssh-wrapper 功能，我很确定我需要配置 Capistrano 以同样的方式工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T10:31:17.537

一个可能对您有用的选项是只使用部署您的应用程序的配方进行厨师客户端运行：

```
chef-client -o "recipe[myapp]" 
```

# c++ - 这种 C++ 类声明是什么意思？

> ID：14828700
> 
> 赞同：1
> 
> 时间：2013-02-12T08:50:54.530
> 
> 标签：c++, class, declaration

我下载了 Ogre3D 源代码，发现了这种类声明：

```
class _OgreExport TimeIndex
{ ... 
```

我知道“TimeIndex”是类名，但中间的“_OgreExport”是什么？CPP 参考不包括这种类声明表。这是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T08:52:21.983

`_OgreExport`是一个预处理器指令，可扩展为

```
__declspec(dllimport) 
```

当文件包含在其模块之外或

```
__declspec(dllexport) 
```

除此以外。在 Windows 下，您必须指定要导出/导入的类/方法，以便它们可以跨二进制文件使用。

从技术上讲，正如詹姆斯在评论中指出的那样，宏名称是非法的，因为它以下划线开头。这些名称是为实现保留的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T08:54:11.033

[从OgrePlatform.h:138](http://code.google.com/codesearch#uqJ9JRFhZl0/trunk/Ogre-1.7/OgreMain/include/OgrePlatform.h&q=_OgreExport&type=cs&l=138)看到这段代码

```
#       if defined( OGRE_NONCLIENT_BUILD )
#           define _OgreExport __declspec( dllexport )
#       else
#           if defined( __MINGW32__ )
#               define _OgreExport
#           else
#               define _OgreExport __declspec( dllimport )
#           endif
#       endif
#       define _OgrePrivate
#   endif 
```

如果您还有其他此类问题，我强烈建议您使用[谷歌代码搜索。](http://code.google.com/codesearch)只需输入，例如 _OgreExport 并查看其他人如何使用它或如何定义它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-12T08:52:44.517

它是一个扩展为类似 的宏[`__declspec(dllexport)`](http://msdn.microsoft.com/en-us/library/vstudio/3y1sfaz2.aspx)，标记要由链接器导出的类。

# iphone - 水平画廊视图

> ID：14828705
> 
> 赞同：1
> 
> 时间：2013-02-12T08:51:07.560
> 
> 标签：iphone, objective-c

我创建了一个水平的galleyview，第一次加载默认图像并且它们的大小是200 X 200，下载后图像大小可以是200或更小，一旦图像下载完成，我调用layoutSubview来调整滚动视图中的大陆。因此，每个图像下载完成它都会在滚动视图中设置所有图像视图的框架，而不是每次调用 layoutsubview 是否有另一种方法来处理它......？

# tridion - 在 XPM 编辑中禁用点击事件 (Razor)

> ID：14828706
> 
> 赞同：9
> 
> 时间：2013-02-12T08:51:09.917
> 
> 标签：tridion, tridion-2011, experience-manager

一段时间以来，我一直在尝试解决这个问题，但我想不出可以正常工作的东西。

您会看到，在我们的网站上有很多可点击的图像或 div，并提供了覆盖整个图像的组件链接。如果您激活 XPM 并尝试选择组件，它将触发其组件链接单击事件，并将您引导到正确的页面。

我一直在寻找一种仅在编辑时禁用此行为的快速解决方案，到目前为止，我已经提出了一些解决方法，坦率地说，这不是我想要的。

例如，您可以使用出色的 Razor 中介条件 (IsSiteEditEnabled)，但是，如果您当前的出版物/页面/服务器已启用站点编辑，则此函数始终解析为 true。这意味着如果您插入特定于模板的代码，例如

```
@if(!IsSiteEditEnabled){
<a tridion:href="#"> other code, ending in closing of </a>...
} 
```

站点编辑 (XPM) 未激活时不会输出链接，但可以激活。简而言之，登台服务器。

除非没有其他选择，否则我将需要一个 Live 发布服务器来使代码正常工作，但这会造成编辑者认为暂存服务器上的链接已损坏的问题。

我有一种感觉，我在这里缺少一些东西。我相信像你这样的人可能遇到过这个问题:)

这是块之一

```
<article class="block-2x2 banner">
    <tcdl:ComponentField name="component_link"></tcdl:ComponentField>
    @if(!IsSiteEditEnabled){
        @:<a tridion:href="@Fields.component_link">
        }
        <div class="image-container">
            <tcdl:ComponentField name="image"><img src="@Fields.image" alt="@Fields.image.altText"></tcdl:ComponentField>
        </div>
        <div class="hgroup">
            <h4 class="primary-title">@RenderComponentField("header", 0)</h4>
            <h5 class="secondary-title">@RenderComponentField("title", 0)</h5>
        </div>
    @if(!IsSiteEditEnabled){</a>}
</article> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-15T21:11:11.100

您可能会考虑只放入某种形式的 else 像这样：

```
@if(!IsSiteEditEnabled){
   <a tridion:href="#"> other code, ending in closing of </a>...
}else{
   <a href="#" onclick="alert('Image links not supported in XPM');"></a>
} 
```

这至少应该解释为什么这些链接不适用于您的编辑。虽然我没有测试这是否真的解决了你的问题。

只添加一个`class="NoClickImageLink"`属性，并在页面加载时将 JavaScript 操作添加到具有该类的所有标签会更简洁，这会将 onclic 事件与标签相关联。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T10:23:25.263

使用 JQuery 时，您可以使用以下代码阻止锚链接工作：

```
$('a').click(function(event) {
    event.preventDefault();
}); 
```

`$(this)`将引用单击的元素，然后您可以在需要一些锚链接才能继续工作的情况下对其进行验证。

如果您使用 XPM 进行编辑，则可以注入此代码，这将大大简化您的模板。

PS。我没有测试这个建议。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-07-08T08:37:51.800

由于 XPM 纯粹是客户端......我想你必须使用我所描述的一些技巧来做到这一点；[http://tcm4lex.wordpress.com/2013/07/04/javascript-detection-of-experience-manager/](http://tcm4lex.wordpress.com/2013/07/04/javascript-detection-of-experience-manager/)

这篇文章是根据我在 Tridion 2013 上使用 XPM 的经验编写的，但无论如何都是一个很好的起点。一旦你有了这种方法来检测页面何时处于编辑模式，你就可以像上面描述的那样做一些 Javascript 技巧。

# sql - 数据库对象跟踪

> ID：14828710
> 
> 赞同：1
> 
> 时间：2013-02-12T08:51:18.303
> 
> 标签：sql, entity-framework, orm

以前有没有人实施过这个？即数据库实体的更改跟踪机制。所以我们可以看到实体的不同版本。只是不想重新发明轮子，因为它似乎是软件工程中的一项常见任务。我对包含一对多和多对多关系的复杂实体跟踪特别感兴趣，即属性分散在多个表中的实体。某种数据库级别的版本控制。有什么想法吗？

PS 我使用 SQL Server 2008 和实体框架（代码优先）作为 ORM。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:36:17.140

变更数据捕获是一项很棒的功能，但它仅适用于企业版 SQL Server。

您可以尝试的其他事情是：

*   DDL 和 DML 触发器 - 为要跟踪的所有表和/或对象编写触发器，并将以前的值存储在存储表中。这需要你做一些工作，但它肯定会奏效。有一个基于触发器的审计工具 - [ApexSQL Audit](http://www.apexsql.com/sql_tools_audit.aspx)。您可以安装试用版，查看如何在那里创建触发器，然后为您的环境创建类似的东西。

*   版本控制 - 有 3rd 方工具允许您对对象和数据进行版本控制，您可能可以将这些自动化，这样您就不会忘记将某些内容放入版本控制中。尝试Red Gate 的[SQL 源代码控制或 ApexSQL 的](https://www.red-gate.com/products/sql-development/sql-source-control/)[ApexSQL 版本](http://www.apexsql.com/sql_tools_version.aspx)。

*   读取事务日志 - 如果您的数据库处于完全恢复模式，那么几乎所有数据都存储在事务日志中（DML 和 DDL，SELECT 除外）。不幸的是，您只能使用[ApexSQL Log](http://www.apexsql.com/sql_tools_log.aspx)或[Toad for SQL Server](http://www.quest.com/toad-for-sql-server/)等 3rd 方工具来执行此操作。

# html - 这个网页设计元素/技巧的名称是什么？

> ID：14828712
> 
> 赞同：1
> 
> 时间：2013-02-12T08:51:26.323
> 
> 标签：html, css

网上冲浪 我看到带有浮动设计元素的网站。但我找不到它是如何被调用的。有人知道以下元素的名称：

在 adobe 网站上有一个黄色框，上面写着“这有帮助吗？”。当您向下滚动时，它会停留在屏幕顶部。 [http://www.adobe.com/devnet/fireworks/learning_guide/design/design_guide_pt4.html](http://www.adobe.com/devnet/fireworks/learning_guide/design/design_guide_pt4.html)

我在哪里可以找到有关它的更多信息？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:56:02.717

有一个名为 Sticky sidebar 的插件可以做到这一点。

[文章](http://www.marcofolio.net/webdesign/create_a_sticky_sidebar_or_box.html)和[演示](http://demo.marcofolio.net/create_a_sticky_sidebar_or_box/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T08:53:40.223

看看[Sticky jQuery 插件](http://plugins.jquery.com/sticky/)。它应该做你想做的事。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-12T09:04:25.693

它被称为粘性侧边栏。

[这](http://www.htmldrive.net/items/show/1053/jQuery-Sticky-scrolling-Sidebar)是演示和代码的链接。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-12T11:21:08.353

它使用简单的 css 样式`position:fixed`来确保元素在页面滚动时保持在视口中的位置。

但是，您提供的链接对其进行了扩展，因为该`position:fixed`样式仅在您向下滚动页面一定距离后才会应用。实现它的最简单方法是在用户向下滚动到元素时使用 jQuery 更改元素的类。

这是一个可以相应地更改类的函数。

```
jQuery(document).ready(function($){
// Check the initial Position of the Sticky Element
    var stickyElementTop = $('#stickyElement').offset().top;

// Apply the CSS class if you scroll past
    $(window).scroll(function(){
            if( $(window).scrollTop() > stickyElementTop ) {
                    $('#stickyElement').addClass('sticky');                      
                } else {
                    $('#stickyElement').removeClass('sticky');                        
            }
    });
} 
```

然后使用 css

```
#stickyElement{
    position:absolute/relative/whatever;
    }
.sticky{
    position:fixed!important;
    } 
```

# python - python：导入文件中的变量可用性

> ID：14828714
> 
> 赞同：0
> 
> 时间：2013-02-12T08:51:40.987
> 
> 标签：python, scope

我有一个关于变量范围的 noob python 问题。

我创建了两个脚本。一个包含在另一个中：

**文件1.py**

```
a = 10
from file2 import * 
```

**文件2.py**

```
print a 
```

当我尝试执行 file1.py 时，出现此错误： *NameError: name 'a' is not defined*

所以，这是我的问题。是否可以使脚本的变量在包含的脚本中可用？

**更新：** 我实际上想要做的是这样的：main.py

```
from config include *
from utils include * 
```

在 config.py 我有

```
filename = "/tmp/file.txt" 
```

在 utils.py 我有

```
def write_file(): 
```

问题是我有一大堆小函数都需要文件名。现在我在 utils.py 中没有这些功能。我在 main.py 中有它们。但是随着时间的推移 main.py 变得越来越大，我正在考虑是否有一种简单的方法可以将实用程序函数从主脚本中移开。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:56:21.347

第二`print a`个文件中的在该范围内执行，而不是在第一个范围内。Python 模块不像 C 头文件，因为代码没有“嵌入”到文件中 - 模块被加载，代码运行，因此允许您从该模块访问名称。

`if __name__ == '__main__':`模块中常见的块就是一个很好的证明。如果此代码实际嵌入到脚本中，则块内的代码每次都会运行，就像`__name__`往常一样`'__main__'`。但是因为所有代码都在导入模块的范围内运行`__name__`，所以会有不同的值，所以代码只有在顶级脚本中才会运行。

为了能够`print a`成功，您需要`from file1 import a`在第二个文件中。

解决您的更新，这应该不是问题。`from config import filename`在`utils`脚本中将允许它使用该变量，只要它在`filename`被引用之前被导入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:32:01.243

从您的更新来看，它是为了假设您想要在`config.py`. 解决问题的最佳方法是将文件名作为参数发送给`utils.py`方法。

```
def write_file(filename) 
```

是一个更有用的效用函数

```
def write_file() 
```

这取决于变量`filename`是否在范围内！恕我直言，它也是很好的编程实践（更喜欢显式而不是隐式是吗？）。

# angularjs - 将数据从控制器移动到工厂，但无法从那里获取

> ID：14828717
> 
> 赞同：0
> 
> 时间：2013-02-12T08:51:47.337
> 
> 标签：angularjs, factory

```
This is a shortened version of the js file

var linksManager = angular.module('linksManager', ['ui']);
angular.bootstrap(document, ['linksManager']);

linksManager.factory('linksData', function () {
    var linksData = [
        {
            text: 'Menu Item 1',
            url: '#'
        }, {
            text: 'Menu Item 2',
            url: '#',
            submenu: [
 // more data ...

}); 
```

函数 linksRarrange($scope, linksData) { $scope.links = linksData; }

之前`linksData`是直接在`linksRearrange`控制器内部

```
$scope.links = [
        {
            text: 'Menu Item 1',
            url: '#'
        }, {
            text: 'Menu Item 2',
            url: '#',
            submenu: [
 // more data ... 
```

而且效果很好，为什么现在共享不起作用？

这是 HTML，它现在不显示任何内容：

```
<div class="nav-manage clearfix" ng-app="linksManager">

    <div class="links-arrange" ng-controller="linksRarrange">
        <ul class="sortable">
            <li ng-repeat="level1link in links">
                <a href="{{level1link.url}}">{{level1link.text}}</a>
                <ul class="sortable">
                    <li ng-repeat='level2link in level1link.submenu'>
                        <a href="{{level2link.url}}">{{level2link.text}}</a>
                        <ul class="sortable">
                            <li ng-repeat='level3link in link.level2link'>
                                <a href="{{level3link.url}}">{{level3link.text}}</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:59:13.230

`factory`角度应该返回对象。

我想你忘了

```
return linksData; 
```

在工厂功能结束时。

# hibernate - 如何在 Hibernate 中编写 sql Native Query

> ID：14828722
> 
> 赞同：0
> 
> 时间：2013-02-12T08:52:29.060
> 
> 标签：hibernate

```
Query query = session.createSQLQuery(
"SELECT ColumnName, COUNT(*) FROM xyz GROUP BY ColumnName")
.addEntity(xyz.class);
return query.list(); 
```

但它在会话时向我显示错误（**会话无法解决**）如果有人可以帮助我执行此查询，我将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T10:27:18.080

看来您的 Session 对象未声明。

还要检查导入：

```
import org.hibernate.cfg.Configuration;
import org.hibernate.SessionFactory;
import org.hibernate.Session; 
```

典型的休眠会话代码：

```
SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();

Session session = sessionFactory.openSession(); 
```

然后使用您的代码：

```
Query query = session.createSQLQuery(
"SELECT ColumnName, COUNT(*) FROM xyz GROUP BY ColumnName")
.addEntity(xyz.class);
return query.list(); 
```

# html - 如何选择除第一个以外的子父母中的所有孩子

> ID：14828728
> 
> 赞同：1
> 
> 时间：2013-02-12T08:52:43.873
> 
> 标签：html, css, css-selectors

这应该是一件简单的事情，但我似乎无法找到我所追求的。我有一个父 div，里面有子父和子。

```
<div class="parent">
  <div class="subparent1">
    <div class="foo">foo1 </div>
    <div class="bar">bar1 </div>
  </div>
  <div class="subparent2"> 
    <div class="foo">foo2 </div>
  </div>
  <div class="subparent3">
    <div class="bar">bar2 </div>
    <div class="foo">foo3 </div>
    <div class="bar">bar3 </div>
  </div>
</div> 
```

我想隐藏除第一个之外的所有“.foo”类。我如何使用 CSS3 选择除第一个之外的所有“.foo”的其余部分？

PS -- '.foo' 的数量是动态的并且会改变。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:53:18.213

这种情况取决于对 HTML 结构的先验知识；如果没有可预测的 HTML，就没有办法单独使用 CSS，因为 CSS 没有能力选择某种类型的第一个孙子，只有第一个*孩子*。

例如，如果您知道第一个`.foo`总是出现*在*第一个子父项中，您可以选择 any显示为一个块，然后使用[通用兄弟组合](http://www.w3.org/TR/selectors/#general-sibling-combinators)`.foo`器选择所有后续子父项和`.foo`s并隐藏它们：[`~`](http://www.w3.org/TR/selectors/#general-sibling-combinators)

```
.parent > .subparent1 > .foo {
    display: block;
}

.parent > .subparent1 > .foo ~ .foo, /* .foo after the first in .subparent1 */
.parent > .subparent1 ~ div > .foo { /* .foo in subparents after .subparent1 */
    display: none;
} 
```

如果`.subparent1`可能根本不包含任何`.foo`元素，并且您想选择第一个非常`.foo`不考虑其子父级的元素，我认为仅使用 CSS 选择器是不可能的。您可能必须找到不同的方法，例如通过为第一个类分配一个额外的类，`.foo`因为它是动态生成的，或者使用 JavaScript 来应用样式。

# asp.net-mvc - 访问 ASP.NET 网页中数据的正确方法？

> ID：14828733
> 
> 赞同：0
> 
> 时间：2013-02-12T08:53:02.530
> 
> 标签：asp.net-mvc, web-services, wcf-data-services, data-access-layer

我有一个公开我的数据模型的 WCF 数据服务。数据安全/过滤和业务规则是使用查询拦截器和基于表单身份验证 cookie 中的当前用户的服务操作来实施的。

数据服务用于在某些页面上提供 AJAX 控件，也可能在某些时候被移动应用程序使用。

我还有几个需要显示和编辑相同数据的非 AJAX MVC 视图。如果我要直接在控制器中使用实体框架，我需要为登录用户重新实现任何相关的数据过滤。正确的方法是在同一应用程序中本地查询相同的数据服务吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T17:26:36.497

我的建议是重构您的 DataFiltering 层，以便它可以在两种情况下使用（即您现有的 WCFDS 并直接用于 EF），方法是将其拉出到带有包装器的单独模块中，以抽象出哪种身份验证方法的详细信息正在使用（FormsAuthentication 或 LoggedIn 用户）。这在实现方面有更多的前期成本，但它肯定比重新查询同一个应用程序更有效（如果您将来必须实现另一个模块，它将为您节省一些成本）。

# dataframe - 如何将方程应用于 Pandas 数据框 ByGroup

> ID：14828734
> 
> 赞同：3
> 
> 时间：2013-02-12T08:53:05.707
> 
> 标签：dataframe, pandas

一天中的那个时候，我的头撞在键盘上太久了，我会很感激任何建议。我的总体目标是摄取一个每小时温度的数据文件，其中有间隙。我想使用来自附近站点的温度线性回归来填补这些空白。但我想按年和按月执行此操作。因此，在这里的人们的帮助下，我已经能够做到这一点。现在我已经按年和月应用了线性回归函数，例如

```
Corr_grouped=DF_grouped.apply(lambda x: stats.linregress(x [Labels[0]], x [Labels[3]])) 
```

这产生了以下输出，输出斜率、截距、r_value、p_value、std_err 并显示如下。

```
> 2010  1     (0.806190897504, 5.75672188581, 0.901179913935...
>       2     (0.739906365408, 8.05204746237, 0.894050112908...
>       3     (0.773199101365, 6.88505178697, 0.898475211997... ...
>       10    (0.87497855294, 4.10227036556, 0.939948762031,...
>       11    (0.793072407801, 6.38604194806, 0.923659962858... 
```

我整天都在阅读找不到确切的解决方案。现在我的问题是如何将其应用回原始数据框。我想要 DF 中的一个新列，将线性回归 y=mx+c 应用到原始数据中的每一行，使用第 3 列作为输入，但是使用不同的特定系数（斜率、截距）来做到这一点每年和每月。任何想法最受欢迎:) 干杯杰森

编辑：太好了。所以DF看起来像这样。多年来，它每 30 分钟有一个时间戳。它有可能是 1 个或多个间隔的间隙 (NaN)。我需要使用与附近车站 (T_nearby) 的关系来填补原始列 (T_original) 中的空白。但这不是简单的替代。该地点通常相距一段距离，并且温度是相关的，但并不相同（即一个可能比 2oC 高）。所以必须先调整 T_nearby 站，然后再使用它来填补空白。

```
 T_original  T_nearby
2010-01-01 00:00:00  25.87873       25.4
2010-01-01 00:30:00  25.73089       25.4
2010-01-01 01:00:00  25.56144       25.4
2010-01-01 01:30:00  NaN         25.4
2010-01-01 02:00:00  25.24789       25.6
2010-01-01 02:30:00  25.17758       25.4
2010-01-01 03:00:00  NaN         25.6
2010-01-01 03:30:00  NaN         25.6
2010-01-01 04:00:00  25.07633       25.6
2010-01-01 04:30:00  24.99211       25.5 
```

我想按年和月细分分析。因此，对于每年的每个月计算 T_original 和 T_nearby 之间的线性回归拟合。这给出了上面具有线性回归参数的分组对象。例如 2010 年和第 1 个月，截距为 5.75，斜率为 0.806。

所以我想将这种关系应用到所有 Year=2010 和 Month=1 看起来像这样。然后对于 DF 的其余部分，每年的每个月都采用相同的方法。

```
 T_original      T_nearby    T_adjusted
1/01/2010 0:00  25.87873    25.4    26.2224
1/01/2010 0:30  25.73089    25.4    26.2224
1/01/2010 1:00  25.56144    25.4    26.2224
1/01/2010 1:30  NaN             25.4    26.2224
1/01/2010 2:00  25.24789    25.6    26.3836
1/01/2010 2:30  25.17758    25.4    26.2224
1/01/2010 3:00  NaN             25.6    26.3836
1/01/2010 3:30  NaN             25.6    26.3836
1/01/2010 4:00  25.07633    25.6    26.3836
1/01/2010 4:30  24.99211    25.5    26.303 
```

然后我将使用 T_adjusted 列来填补 T_original 中的空白。谢谢杰森

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:14:14.303

您的第一步是将分组对象与 DF 合并。为此，首先创建一个公共分组列。

对于分组对象：

```
from datetime import date
grouped['common'] = grouped.index.map(lambda x : date(x[0],x[1],1)) 
```

对于 DF：

```
DF['common'] = DF.index.map(lambda x : date(x.year,x.month,1)) 
```

现在您可以合并它：

```
merged = DF.merge(grouped)
del merged['common'] 
```

我不确定计算 T_adjusted 列的确切公式是什么，但现在回归参数与 T_nearby 值匹配，它可以通过数组运算来计算。

要使用 T_adjusted 填补 T_original 中的空白：

```
merged['T_original']=merged['T_original'].combine_first(merged['T_adjusted']) 
```

# java - java生态系统中有没有类似phusionpassenger的web服务器？

> ID：14828740
> 
> 赞同：5
> 
> 时间：2013-02-12T08:53:25.497
> 
> 标签：java, webserver, jruby, passenger

是否有任何 web 服务器或应用程序服务器用于运行具有以下功能的 java 应用程序由 phusion 乘客提供

**1）基于流量的动态流程管理**

phusion 乘客根据流量动态调整应用进程的数量，并重新启动任何崩溃的进程。通过这种方式，我们确保资源使用保持在定义的限制内。

**2) 额外可靠性的进程外架构**

乘客在 Web 服务器地址空间之外运行应用程序和大多数支持代码。如果任何组件发生故障，我们会使用我们的看门狗自动重新启动它。

至于我的理解，ruby on rails 服务器会为每个请求创建或分叉进程，在 java 服务器中，将为每个请求创建新线程

问题

1) 在 Java 生态系统中，任何 Web 服务器或应用程序服务器都会在组件故障或内存不足问题或任何其他内部问题时自动重启

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-12-06T00:19:07.600

[Marathon](https://mesosphere.github.io/marathon/)可以**2)**使用部署在[docker](https://www.docker.com/)容器中的任何应用程序。Marathon 目前不根据流量进行自动缩放。

Marathon 需要一个[Mesos](https://mesos.apache.org/)集群和一个[Zookeeper](https://zookeeper.apache.org/)集群。

Marathon 将在 Mesos 集群上运行多个 docker 映像实例，并重新启动任何失败的实例。您的 docker 镜像需要为 Marathon 提供一个健康检查端点。如果健康检查失败，Marathon 将终止 docker 实例并启动一个新实例。

# powershell - Powershell Reg exp 并替换其中的一部分

> ID：14828741
> 
> 赞同：-1
> 
> 时间：2013-02-12T08:53:28.553
> 
> 标签：powershell

我在像 3875-01-12T04:30:00Z 这样的文件中有一行我想将 T***Z 字符串替换为 NULL。

请注意 T 和 Z 之间的字符串可以不同，所以我需要获取 T 和 Z 中的字符串并替换它。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:03:29.070

如果我关注你：

```
'3875-01-12T04:30:00Z' -replace 'T(.+)Z$' 
```

如果您想保留“TZ”：

```
'3875-01-12T04:30:00Z' -replace 'T(.+)Z$','TZ' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:01:13.587

```
$result = $subject -creplace 'T[\d:.]*Z', '' 
```

应该做。我添加了点以防您遇到比秒更精确的时间。

如果你想确保`T...Z`只有在它跟随一个`yyyy-mm-dd`字符串时才被删除，然后使用

```
$result = $subject -creplace '(?<=\d{4}-\d{2}-\d{2})T[\d:.]*Z', '' 
```

# java - 为什么当我调用 setOnPageChangeListener() 方法时 viewpager 显示空指针异常

> ID：14828744
> 
> 赞同：0
> 
> 时间：2013-02-12T08:53:33.817
> 
> 标签：java, tabs, android-actionbar, android-viewpager, adapter

我有一个 mainactivity，其中包含一个按钮单击按钮我正在显示具有五个屏幕的 viewpager。我想显示 viewpager 的操作栏屏幕更改，但是当我尝试调用 `mViewPager.setOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener())`.

它向我展示了空指针异常。

这是我的代码：

`MainActivity.java`

```
public class MainActivity extends FragmentActivity implements
    ActionBar.TabListener 
{

     private Button mAddButtonB,mPreviousB,mNextB,mhandle,mSave;
     SectionsPagerAdapter mSectionsPagerAdapter;
     ViewPager mViewPager;

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_ACTION_BAR);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);
    // getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);
    setContentView(R.layout.activity_main);

            final ActionBar actionBar = getActionBar();
     actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
     context = this;
     mAddButtonB = (Button) findViewById(R.id.addnewB);
    mAddButtonB.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            mAddSearchV.setVisibility(View.GONE);
            mSectionsPagerAdapter = new SectionsPagerAdapter(
                    getSupportFragmentManager());
            mViewPager = (ViewPager) findViewById(R.id.customviewpager);
            mViewPager.setAdapter(mSectionsPagerAdapter);

        }
    });

     mViewPager.setOnPageChangeListener(new
             ViewPager.SimpleOnPageChangeListener() {

     @Override public void onPageSelected(int position) {
     actionBar.setSelectedNavigationItem(position); } });

     // For each of the sections in the app, add a tab to the action bar.
     for (int i = 0; i < mSectionsPagerAdapter.getCount(); i++) {  

    actionBar.addTab(actionBar.newTab()
     .setText(mSectionsPagerAdapter.getPageTitle(i))
     .setTabListener(this)); }

}
     public void onTabReselected(ActionBar.Tab tab,
        android.app.FragmentTransaction arg1) {
    // TODO Auto-generated method stub
    mViewPager.setCurrentItem(tab.getPosition());
}

public void onTabSelected(ActionBar.Tab tab,
        android.app.FragmentTransaction ft) {
    // TODO Auto-generated method stub

}

public void onTabUnselected(ActionBar.Tab tab,
        android.app.FragmentTransaction ft) {
    // TODO Auto-generated method stub

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
} 
```

这是 MainActivity 中的 Adapter 类

```
 public class SectionsPagerAdapter extends FragmentPagerAdapter {

    PageZero p0;
    PageOne p1;
    PageTwo p2;

    public SectionsPagerAdapter(FragmentManager fm) {
        super(fm);
        /*
         * p0 = new PageZero(); p1 = new PageOne(); p2 = new PageTwo();
         */
    }

    @Override
    public Fragment getItem(int position) {
        // getItem is called to instantiate the fragment for the given page.
        // Return a DummySectionFragment (defined as a static inner class
        // below) with the page number as its lone argument.

        switch (position) {
        case 0:
            return new PageZero();

        case 1:
            return new PageOne();

        case 2:
            return new PageTwo();

        case 3:
            return new PageThree();

        case 4:
            return new PageFour();
        }
        return null;
    }

     /*int index = mViewPager.getCurrentItem(); 
     SectionsPagerAdapter adapter= ((SectionsPagerAdapter)mViewPager.getAdapter()) ; 
     p0 =adapter.getFragment(index);*/

    @Override
    public int getCount() {
        // Show 5 total pages.
        return 5;
    }

    @Override
    public CharSequence getPageTitle(int position) {
        switch (position) {
        case 0:
            return "Red";
        case 1:
            return "Green";
        case 2:
            return "Blue";
        case 3:
            return "White";
        case 4:
            return "Orange";

        }
        return null;
    }
} 
```

等待任何答案。在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:29:09.723

我认为这是因为您还没有为 onPageChangeListener 实现所有继承的抽象方法

# java - 显示列表和 VBO OpenGL/LWJGL

> ID：14828748
> 
> 赞同：1
> 
> 时间：2013-02-12T08:53:42.723
> 
> 标签：java, opengl, lwjgl, vbo

我最近想出了如何使用 LWJGL 和 OpenGL 渲染 3D 立方体，我非常兴奋，我渲染了 2000 并有效地冻结了我的计算机。我听说过诸如显示列表和 VBO 之类的东西，但即使在谷歌搜索之后，我也不知道如何使用它们。

目前，我有

```
for (Block b : blocks) {
    GL11.glTranslatef(b.position.x, b.position.y, b.position.z); // Translate to draw the cube.
    GL11.glBegin(GL_QUADS); // Start to draw the quad.
    b.render(); // Renders the quad.
    GL11.glEnd(); // Finishes rendering.
} 
```

渲染我的立方体。该调用`b.render`仅呈现一个立方体

```
@Override
public void render() {
    //front face
    GL11.glNormal3f(0f, 0f, 1f);
    GL11.glTexCoord2f(0f, 1f);
    GL11.glVertex3f(1f, 0f, 0f);
    GL11.glTexCoord2f(1f, 1f);
    GL11.glVertex3f(0f, 0f, 0f);
    GL11.glTexCoord2f(1f, 0f);
    GL11.glVertex3f(0f, 1f, 0f);
    GL11.glTexCoord2f(0f, 0f);
    GL11.glVertex3f(1f, 1f, 0f);

    //back face
    GL11.glNormal3f(0f, 0f, -1f);
    GL11.glTexCoord2f(0f, 1f);
    GL11.glVertex3f(0f, 0f, 1f);
    GL11.glTexCoord2f(1f, 1f);
    GL11.glVertex3f(1f, 0f, 1f);
    GL11.glTexCoord2f(1f, 0f);
    GL11.glVertex3f(1f, 1f, 1f);
    GL11.glTexCoord2f(0f, 0f);
    GL11.glVertex3f(0f, 1f, 1f);

    cap.bind(); // top texture
    //top face
    GL11.glNormal3f(0f, -1f, 0f);
    GL11.glTexCoord2f(0f, 1f);
    GL11.glVertex3f(1f, 1f, 0f);
    GL11.glTexCoord2f(1f, 1f);
    GL11.glVertex3f(0f, 1f, 0f);
    GL11.glTexCoord2f(1f, 0f);
    GL11.glVertex3f(0f, 1f, 1f);
    GL11.glTexCoord2f(0f, 0f);
    GL11.glVertex3f(1f, 1f, 1f);

    //bottom face
    GL11.glNormal3f(0f, 1f, 0f);
    GL11.glTexCoord2f(0f, 1f);
    GL11.glVertex3f(1f, 0f, 1f);
    GL11.glTexCoord2f(1f, 1f);
    GL11.glVertex3f(0f, 0f, 1f);
    GL11.glTexCoord2f(1f, 0f);
    GL11.glVertex3f(0f, 0f, 0f);
    GL11.glTexCoord2f(0f, 0f);
    GL11.glVertex3f(1f, 0f, 0f);

    side.bind(); // left texture
    //left face
    GL11.glNormal3f(-1f, 0f, 0f);
    GL11.glTexCoord2f(0f, 1f);
    GL11.glVertex3f(1f, 0f, 1f);
    GL11.glTexCoord2f(1f, 1f);
    GL11.glVertex3f(1f, 0f, 0f);
    GL11.glTexCoord2f(1f, 0f);
    GL11.glVertex3f(1f, 1f, 0f);
    GL11.glTexCoord2f(0f, 0f);
    GL11.glVertex3f(1f, 1f, 1f);

    //right face
    GL11.glNormal3f(1f, 0f, 0f);
    GL11.glTexCoord2f(0f, 1f);
    GL11.glVertex3f(0f, 0f, 0f);
    GL11.glTexCoord2f(1f, 1f);
    GL11.glVertex3f(0f, 0f, 1f);
    GL11.glTexCoord2f(1f, 0f);
    GL11.glVertex3f(0f, 1f, 1f);
    GL11.glTexCoord2f(0f, 0f);
    GL11.glVertex3f(0f, 1f, 0f);
} 
```

其中 cap 是顶部纹理，side 是侧面纹理。

我真正需要帮助的是弄清楚如何使我的代码 VBO 和/或显示列表兼容以提高性能。我还认为，如果可以只渲染可见的面孔，它将节省许多计算，但无法想到如何做这样的事情。

**编辑：**

我现在让每个块通过以下代码创建自己的 VBO 对象...

```
private int vboID;
private FloatBuffer vertices;
private float[] verts = {0, 1, 2, 2, 3, 0, 0, 3, 4, 4, 5, 0, 0, 5, 6, 6, 1, 0, 1, 6, 7, 7, 2, 1, 7, 4, 3, 3, 2, 7, 4, 7, 6, 6, 5, 4}; // Not sure on the numbers for making a cube?

private void generateVBO() {
    vertices = BufferUtils.createFloatBuffer(verts.length); // Create a FloatBuffer...
    vertices.put(verts); // Add all the vertices in...
    vboID = GL15.glGenBuffers(); // Generate the VBO...
    GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, vboID); // Bind it...
    GL15.glBufferData(GL15.GL_ARRAY_BUFFER, vertices, GL15.GL_STATIC_DRAW); // Buffer in the data...
    verts = null; // Free up memory allocation because these are unnecessary now...
    vertices = null;
    System.out.println("VBO created with a vboID of '"+vboID+"'.");
} 
```

在我的程序开始时，我创建了 1000 个块对象，因此我的输出有效地是“VBO create with a vboID of n”，1000 次。

我明白在程序结束时，我需要处理 VBO（我假设我只是`GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, 0)`为每个 VBO 调用？）但首先，我需要绘制每个 VBO。

绘制 VBO 的命令是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:49:21.990

请不要使用显示列表，它们已过时且已弃用。有效地使用 VBO 需要使用顶点数组。使用顶点数组时，您将所有顶点位置和其他属性放入数组中，然后使用对 glDrawArrays 的一次调用批量绘制大量三角形（假设数组只是要一个接一个地处理的一长串顶点）或 glDrawElements （采用一个附加数组，其中包含引用顶点数组中元素的索引列表）。

这是关于顶点数组的教程：

[http://www.songho.ca/opengl/gl_vertexarray.html](http://www.songho.ca/opengl/gl_vertexarray.html)

一旦你让顶点数组工作，它只是 VBO 的一小步。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-22T03:30:57.223

显示列表仅存储 opengl 原语，这意味着它仅存储**glVertex/glTexCoord**等。并且不存储任何客户端函数，如**glEnableClientState/glDisableClientSate/glDrawArrays**等。

要在此处设置显示列表是示例代码：

```
int var = glGenLists(1);

glNewList(var, GL_COMPILE);
// put your vertex/primitives here
glEndList();

glCallList(var) // execute/draw them 
```

提示：不要将**glNewList/glEndList**放在一个循环中会导致性能下降，只有**glCallList**

有趣的事实：显示列表可以将性能提高约 5-10%。

但是**Display Lists**现在在早期版本的 opengl 中已弃用/删除，因此不要在现代 OpenGL 中使用它，而是使用**VBO**。

# sql-server - SQL Server OR 优先级说明？

> ID：14828749
> 
> 赞同：0
> 
> 时间：2013-02-12T08:53:43.643
> 
> 标签：sql-server, sql-server-2008

我正在阅读[这个](https://dba.stackexchange.com/q/5333/3473)关于 *逻辑运算符 OR AND 在条件和条件顺序中的问题 WHERE*

但是我想扩展这个问题。

**问题一：**

`IF (CONDITION 1) OR (CONDITION 2)`

我不是在谈论`If CONDITION 1 is TRUE, will CONDITION 2 be checked`

但是 - SQL 是否有可能会根据`condition 2`（这是第二个短语）而不是`condition 1`第一个短语来选择行？

例如 ：

```
columnA      columnB
  2              2 
```

`select * from table where id=columnA or id=columnB`

现在，我是否有可能得到该行，因为它**首先评估** `id=columnB`

**问题2 ：**

这个问题谈到了该`Where`条款。加入呢？这些角色是否也适用

`select * from Table1 join Table2 on Table1.id=Table2.id or Table1.aa = Table2.aa`

*   如果 CONDITION 1 为 TRUE，是否会检查 CONDITION 2？
*   SQL是否有可能基于`condition 2`（这是第二个短语）而不是`condition 1`第一个短语产生一行

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T09:41:50.757

我不明白你的问题中关于产生行的部分，所以到目前为止我唯一能回答的部分是：

> 如果 CONDITION 1 为 TRUE，将检查 CONDITION 2

这取决于。它可能，它可能不会。不保证 SQL 语句的任何部分的短路或评估顺序。

# javascript - highcharts：获取 yaxis 标题？

> ID：14828755
> 
> 赞同：4
> 
> 时间：2013-02-12T08:54:28.150
> 
> 标签：javascript, highcharts

我有一个带有 2 个 yaxis 的图表，我想在工具提示格式化程序中获取每个系列的 yaxis 标题。

这是我的格式化程序功能：

```
formatter: function() {
    var s = '<b>'+  Highcharts.dateFormat('$hc_date_long', this.x) +'</b><table>';
    sum = 0;
    var abweichung = 0;
    var stellen = 0;
    $.each(this.points, function(i, point) {
        var prev = jQuery.inArray(point.x, point.series.processedXData)-1;
        var percent = 0;
        if(prev>=0){
            prev = point.series.points[prev];
            percent = (point.y - prev.y) * 100 / point.y;
        }
        s += '<tr><td style=\"color: '+point.series.color+';padding:2px;\">'+ point.series.name +':</td><td style=\"text-align:right;padding:2px;\"> '+ extround(point.y,100) +' !!GETYAXISTITLE!!</td><td style=\"text-align:right;padding:2px;\">'+percent+'</td></tr>';
        sum += point.y;
    });
    s += '</table>';
     return s;
}, 
```

api只包含函数“setTitle()”没有getTitle()函数？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2015-06-10T05:22:07.120

在工具提示格式化程序中获取 Y 轴标题的正确方法是：

```
this.point.series.yAxis.axisTitle.textStr 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-12T09:18:23.853

在函数中获取标题

```
chart.options.yAxis[0].title.text 
```

或者像这样设置标题：

```
 yAxis: {
        title: {
            enabled: true,
            text: 'Custom with <b>simple</b> <i>markup</i>',
            style: {
                fontWeight: 'normal'
            }
        }
    }, 
```

[演示](http://jsfiddle.net/EUSVQ/1/)

# xml - 基于另一个 xml 文件自动生成 xml(vdx) 文件

> ID：14828758
> 
> 赞同：1
> 
> 时间：2013-02-12T08:54:49.540
> 
> 标签：xml, templates, xls, visio, text-processing

我需要一些帮助来生成 XML 文件。我需要使用某种模板`vdx`基于原始文件生成一个新文件。`vdx`新文件必须仅在一种方式上与原始文件不同，例如 ID 号。这种区别应该从一个`xls`文件中读取（每个`vdx`文件都应该用另一个数据生成）。哪些工具可以帮助我完成这项任务（仅使用 XML 代码是否可行）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T19:19:23.807

以下是提取数据的一些步骤：

*   将每个 xsl 文件保存为[xlsx](http://msdn.microsoft.com/en-us/library/dd922181%28v=office.12%29.aspx)
*   从生成的 SpreadsheetML 中解析唯一标识符
*   将提取的数据保存在 XML 文件中
*   使用 XSLT 将 XML 文件转换为 vdx

**参考**

*   [从 SpreadsheetML 读取数据](http://blogs.msdn.com/b/brian_jones/archive/2008/11/10/reading-data-from-spreadsheetml.aspx)
*   [XLSX-如何摆脱默认的命名空间前缀 x:？](https://stackoverflow.com/questions/1199041/xlsx-how-to-get-rid-of-the-default-namespace-prefix-x)
*   [来自 SpreadsheetML 样式表](http://www.ewbi.com/ewbi.develop/samples/from.spreadsheetml.xslt.txt)
*   [创建和处理电子表格ML](http://etutorials.org/XML/xml+hacks/Chapter+3.+Transforming+XML+Documents/Hack+42+Create+and+Process+SpreadsheetML/)
*   [使用 XSLT 转换 Open XML 文档](http://blogs.msdn.com/b/ericwhite/archive/2008/09/29/transforming-open-xml-documents-using-xslt.aspx)

# android - 在 datepickerdialog 之外单击设置日期

> ID：14828760
> 
> 赞同：2
> 
> 时间：2013-02-12T08:54:51.530
> 
> 标签：android, datepicker, android-dialog, android-datepicker

当我单击 时`Date Picker Dialog`，它会设置日期。知道如何解决这种行为吗？

```
click out of dialog : sets date

click on set date : sets date twice

click on cancel : cancels date and then sets it back. 
```

这是一个错误吗？

# php - 没有 css/js 的 Gii

> ID：14828763
> 
> 赞同：0
> 
> 时间：2013-02-12T08:55:21.287
> 
> 标签：php, javascript, css, yii, gii

我正在尝试使用 Yii 的自动代码生成工具 Gii，但它试图引用一堆不存在的 CSS 和 JS 文件。我从头开始尝试了多次，每次都设置权限。似乎没有生成文件，但是，确实生成了神秘的命名文件夹。我怎样才能解决这个问题？我找不到任何有同样问题的人。

这是截图：[http ://screencast.com/t/zZkuKGo7](http://screencast.com/t/zZkuKGo7)

非常感谢任何正确方向的帮助或指示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-03T10:33:47.497

您需要删除 /assets/ 中的所有文件夹，然后 yii 重新生成它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T01:30:07.083

*   尝试直接在浏览器中加载这些 CSS url。
*   转到 shell 或 sftp 中的文件系统并查看它们是否存在于 assets 文件夹中。
*   像评论者建议的那样清除资产。
*   检查 Web 服务器配置中虚拟主机的文档根设置。
*   检查会阻止访问这些文件的 htaccess 规则。
*   查看 Web 服务器访问日志以了解详细信息。
*   直接在服务器上解压缩一个新的 Yii，这样所有的权限都会自动设置。

# php - 为什么不能在 PHP 中将 trim 用作 array_walk 或 array_map 的回调？

> ID：14828764
> 
> 赞同：15
> 
> 时间：2013-02-12T08:55:29.837
> 
> 标签：php, trim, array-map, array-walk

为什么我的示例代码导致第一个字符串仍然有尾随空格？

```
$a=array('test_data_1 ','test_data_2');
array_walk($a, 'trim');
array_map('trim', $a);                    
foreach($a AS $b){
    var_dump($b);
} 
```

> 字符串（12）“test_data_1”字符串（11）“test_data_2”

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-02-12T08:59:03.787

首先， array_walk 对您的目的来说是错误的函数。

其次，array_map 不改变原始数组，而是返回映射后的数组。所以你需要的是：

```
$a = array_map('trim', $a); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-06-24T08:53:22.630

要`array_walk`修改数组中的项目（值），回调必须是一个函数，该函数通过引用获取其第一个参数并对其进行修改（这不是 plain 的情况`trim`），因此您的代码将变为：

```
$a=array('test_data_1 ','test_data_2');
array_walk($a, function (&$value) { $value = trim($value); }); // by-reference modification
// (no array_map)
foreach($a AS $b){
    var_dump($b);
} 
```

或者，`array_map`您必须使用返回值重新分配数组，因此您的代码将变为：

```
$a=array('test_data_1 ','test_data_2');
// (no array_walk)
$a = array_map('trim', $a); // array reassignment
foreach($a AS $b){
    var_dump($b);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:58:41.697

array_map 返回一个新数组，试试这个

```
$a=array('test_data_1 ','test_data_2');
array_walk($a, 'trim');
$a = array_map('trim', $a);
foreach($a AS $b){
    var_dump($b);
} 
```

# spring - 每天 3 分 0 钟的春季时间表

> ID：14828767
> 
> 赞同：1
> 
> 时间：2013-02-12T08:55:42.950
> 
> 标签：spring

我想安排一些需要在每天 3 点钟运行的任务。

春季版：3.0

任何帮助如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:11:30.587

可以通过在计划注释中使用 Cron 表达式来完成

```
@Scheduled(cron = "0 0 3 * * ?")
public void performTask() {

    //Do Something Here

} 
```

并在 application conext xml 文件中添加以下行

```
<task:annotation-driven /> 
```

Cron 表达式参考： [http ://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm](http://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm)

# scala - Scala 标准库：“显式实例化以减少子类中的类文件大小”

> ID：14828768
> 
> 赞同：1
> 
> 时间：2013-02-12T08:55:47.960
> 
> 标签：scala, abstract-class, standard-library, traits

在 Scala 标准库中，多次出现“显式实例化以减少子类中的类文件大小”模式。例如在 Iterator.scala 中：

```
/** Explicit instantiation of the `Iterator` trait to reduce class file size in subclasses. */
private[scala] abstract class AbstractIterator[+A] extends Iterator[A] 
```

在整个源文件中，抽象类用于构造匿名类，而不是 trait 本身。显然，评论已经给出了这样做的足够动力。但对我来说不是微不足道的：为什么这个技巧会减少文件大小，为什么影响子类的大小而不是 Iterator 本身？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T08:59:27.400

当您从 trait 混入或创建匿名类时，对于 trait 中的所有具体方法，将调用转发到具体实现的存根方法放入类文件中。这将在**每**节课上一遍又一遍地完成。如果您改为创建一个抽象超类，则方法只会放在那里。

**编辑**：根据 Régis Jean-Gilles 评论更改帖子。

# eclipse - org.eclipse.jetty.io.EofException 在构建和部署

> ID：14828769
> 
> 赞同：1
> 
> 时间：2013-02-12T08:55:54.183
> 
> 标签：eclipse, ibm-mobilefirst, eofexception

我正在尝试开发示例，但有时当我构建和部署应用程序时，该过程会失败，并且在 eclipse Worklight Console 中出现：

```
14-feb-2013 16:28:55 com.worklight.report.impl.GadgetReportsServiceImpl loadProperties
INFO: FWLSE3005I: Application raw reports are disabled.
14-feb-2013 16:28:55 com.worklight.server.bundle.project.ProjectBundleManager doStart
INFO: FWLST0010I: ====== Started server for project module_22_0_CustomLoginModule-project-customization; Worklight version=5.0.5.20130115-0926-developer-edition
14-feb-2013 16:32:25 org.jboss.resteasy.core.SynchronousDispatcher 
GRAVE: Failed executing POST /applications/upload
org.jboss.resteasy.spi.ReaderException: org.eclipse.jetty.io.EofException: timeout
    at org.jboss.resteasy.core.messagebody.ReaderUtility.doRead(ReaderUtility.java:123)
    at org.jboss.resteasy.core.messagebody.ReaderUtility.doRead(ReaderUtility.java:93)
    at org.jboss.resteasy.core.MessageBodyParameterInjector.inject(MessageBodyParameterInjector.java:146)
    at org.jboss.resteasy.core.MethodInjectorImpl.injectArguments(MethodInjectorImpl.java:114)
    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:137)
    at org.jboss.resteasy.core.ResourceMethod.invokeOnTarget(ResourceMethod.java:252)
    at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:217)
    at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:206)
    at org.jboss.resteasy.core.SynchronousDispatcher.getResponse(SynchronousDispatcher.java:503)
    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:480)
    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:119)
    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:207)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.equinox.http.servlet.internal.ServletRegistration.service(ServletRegistration.java:61)
    at org.eclipse.equinox.http.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:38)
    at com.worklight.core.auth.impl.AuthenticationFilter$1.execute(AuthenticationFilter.java:143)
    at com.worklight.core.auth.impl.AuthenticationServiceBean.accessResource(AuthenticationServiceBean.java:64)
    at com.worklight.core.auth.impl.AuthenticationFilter.doFilter(AuthenticationFilter.java:162)
    at org.eclipse.equinox.http.servlet.internal.FilterRegistration.doFilter(FilterRegistration.java:81)
    at org.eclipse.equinox.http.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:35)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:132)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:68)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:384)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:598)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:486)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1065)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:413)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:999)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
    at org.eclipse.jetty.server.Server.handle(Server.java:350)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:454)
    at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:900)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:954)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:851)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:77)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:606)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:46)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:603)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:538)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.eclipse.jetty.io.EofException: timeout
    at org.eclipse.jetty.http.HttpParser.blockForContent(HttpParser.java:1186)
    at org.eclipse.jetty.server.HttpInput.read(HttpInput.java:57)
    at java.io.SequenceInputStream.read(Unknown Source)
    at org.apache.james.mime4j.io.BufferedLineReaderInputStream.fillBuffer(BufferedLineReaderInputStream.java:94)
    at org.apache.james.mime4j.io.MimeBoundaryInputStream.fillBuffer(MimeBoundaryInputStream.java:196)
    at org.apache.james.mime4j.io.MimeBoundaryInputStream.read(MimeBoundaryInputStream.java:127)
    at org.apache.james.mime4j.io.BufferedLineReaderInputStream.fillBuffer(BufferedLineReaderInputStream.java:94)
    at org.apache.james.mime4j.io.BufferedLineReaderInputStream.read(BufferedLineReaderInputStream.java:137)
    at org.apache.james.mime4j.io.LineReaderInputStreamAdaptor.read(LineReaderInputStreamAdaptor.java:67)
    at java.io.FilterInputStream.read(Unknown Source)
    at org.apache.james.mime4j.codec.CodecUtil.copy(CodecUtil.java:42)
    at org.apache.james.mime4j.storage.AbstractStorageProvider.store(AbstractStorageProvider.java:57)
    at org.apache.james.mime4j.message.BodyFactory.binaryBody(BodyFactory.java:92)
    at org.apache.james.mime4j.message.MessageBuilder.body(MessageBuilder.java:150)
    at org.apache.james.mime4j.parser.MimeStreamParser.parse(MimeStreamParser.java:101)
    at org.apache.james.mime4j.message.Message.<init>(Message.java:141)
    at org.apache.james.mime4j.message.Message.<init>(Message.java:100)
    at org.jboss.resteasy.plugins.providers.multipart.MultipartInputImpl.parse(MultipartInputImpl.java:76)
    at org.jboss.resteasy.plugins.providers.multipart.MultipartReader.readFrom(MultipartReader.java:50)
    at org.jboss.resteasy.plugins.providers.multipart.MultipartReader.readFrom(MultipartReader.java:20)
    at org.jboss.resteasy.core.interception.MessageBodyReaderContextImpl.proceed(MessageBodyReaderContextImpl.java:105)
    at org.jboss.resteasy.plugins.interceptors.encoding.GZIPDecodingInterceptor.read(GZIPDecodingInterceptor.java:46)
    at org.jboss.resteasy.core.interception.MessageBodyReaderContextImpl.proceed(MessageBodyReaderContextImpl.java:108)
    at org.jboss.resteasy.core.messagebody.ReaderUtility.doRead(ReaderUtility.java:111)
    ... 46 more
14-feb-2013 16:32:25 com.worklight.core.auth.impl.AuthenticationFilter doFilter
GRAVE: FWLSE0048E: Unhandled exception caught: org.eclipse.jetty.io.EofException
org.jboss.resteasy.spi.UnhandledException: org.eclipse.jetty.io.EofException
    at org.jboss.resteasy.core.SynchronousDispatcher.handleFailure(SynchronousDispatcher.java:255)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleReaderException(SynchronousDispatcher.java:392)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleException(SynchronousDispatcher.java:206)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleInvokerException(SynchronousDispatcher.java:174)
    at org.jboss.resteasy.core.SynchronousDispatcher.getResponse(SynchronousDispatcher.java:518)
    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:480)
    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:119)
    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:207)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.equinox.http.servlet.internal.ServletRegistration.service(ServletRegistration.java:61)
    at org.eclipse.equinox.http.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:38)
    at com.worklight.core.auth.impl.AuthenticationFilter$1.execute(AuthenticationFilter.java:143)
    at com.worklight.core.auth.impl.AuthenticationServiceBean.accessResource(AuthenticationServiceBean.java:64)
    at com.worklight.core.auth.impl.AuthenticationFilter.doFilter(AuthenticationFilter.java:162)
    at org.eclipse.equinox.http.servlet.internal.FilterRegistration.doFilter(FilterRegistration.java:81)
    at org.eclipse.equinox.http.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:35)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:132)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:68)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:384)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:598)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:486)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1065)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:413)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:999)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
    at org.eclipse.jetty.server.Server.handle(Server.java:350)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:454)
    at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:900)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:954)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:851)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:77)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:606)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:46)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:603)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:538)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.eclipse.jetty.io.EofException
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:154)
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:101)
    at org.eclipse.jetty.util.ByteArrayISO8859Writer.writeTo(ByteArrayISO8859Writer.java:102)
    at org.eclipse.jetty.server.Response.sendError(Response.java:375)
    at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:154)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:71)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleFailure(SynchronousDispatcher.java:246)
    ... 42 more
14-feb-2013 16:32:25 org.eclipse.jetty.servlet.ServletHandler doHandle
ADVERTENCIA: /console/api/applications/upload
org.jboss.resteasy.spi.UnhandledException: org.eclipse.jetty.io.EofException
    at org.jboss.resteasy.core.SynchronousDispatcher.handleFailure(SynchronousDispatcher.java:255)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleReaderException(SynchronousDispatcher.java:392)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleException(SynchronousDispatcher.java:206)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleInvokerException(SynchronousDispatcher.java:174)
    at org.jboss.resteasy.core.SynchronousDispatcher.getResponse(SynchronousDispatcher.java:518)
    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:480)
    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:119)
    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:207)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.equinox.http.servlet.internal.ServletRegistration.service(ServletRegistration.java:61)
    at org.eclipse.equinox.http.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:38)
    at com.worklight.core.auth.impl.AuthenticationFilter$1.execute(AuthenticationFilter.java:143)
    at com.worklight.core.auth.impl.AuthenticationServiceBean.accessResource(AuthenticationServiceBean.java:64)
    at com.worklight.core.auth.impl.AuthenticationFilter.doFilter(AuthenticationFilter.java:162)
    at org.eclipse.equinox.http.servlet.internal.FilterRegistration.doFilter(FilterRegistration.java:81)
    at org.eclipse.equinox.http.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:35)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:132)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:68)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:384)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:598)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:486)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1065)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:413)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:999)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
    at org.eclipse.jetty.server.Server.handle(Server.java:350)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:454)
    at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:900)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:954)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:851)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:77)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:606)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:46)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:603)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:538)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.eclipse.jetty.io.EofException
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:154)
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:101)
    at org.eclipse.jetty.util.ByteArrayISO8859Writer.writeTo(ByteArrayISO8859Writer.java:102)
    at org.eclipse.jetty.server.Response.sendError(Response.java:375)
    at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:154)
    at org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:71)
    at org.jboss.resteasy.core.SynchronousDispatcher.handleFailure(SynchronousDispatcher.java:246)
    ... 42 more 
```

重新启动笔记本电脑可以解决问题，但花费的时间太长。

谁能帮我避免这个问题？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-12T09:05:19.037

增加使用 min 和 max args 的内存大小

# c++ - 如何通过 << 运算符将参数传递给函数？

> ID：14828775
> 
> 赞同：1
> 
> 时间：2013-02-12T08:56:04.633
> 
> 标签：c++, operator-overloading

是否可以重载`<<`运算符以使其有效？

```
void f (int f)
{
}

int main ()
{
    f << 2;
} 
```

我需要学习什么才能使它起作用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:34:45.023

如果您想拨打任何电话，例如

```
f << arg1 << ... << argN; 
```

行为相同

```
f(arg1, ..., argN); 
```

然后下面的**C++11**代码做你想要的。

对于您想像这样调用的每个函数，创建一个“代理对象”，其中包含要在函数上调用的参数`f`。这个对象应该返回一个新的“代理对象”，然后它需要一个更少的参数。很好的副作用：这可以用于参数柯里化。

这是带有运行示例的完整代码：http: [//ideone.com/NFtnuT](http://ideone.com/NFtnuT)

简而言之，这段代码做了以下事情： 它定义了一个带有可变模板参数的模板类：

```
template<class R, /* ... */>
class ProxyFunction
{
    // Underlying function:
    std::function<R(/* ... */)> f;

public:
    ProxyFunction(std::function<R(/* ... */)> f) : f(f) {}

    ProxyFunction<R, /* one arg less */> operator <<(/* one argument */) {
         /* create new proxy function with one argument less */
    }
}; 
```

对于最后一个参数，您应该在销毁或转换为返回类型时调用底层函数`R`。`/*...*/`这是通过针对实际*什么*都没有的情况部分专门化模板类来完成的。

然后代码被称为：

```
// Create proxy function. You can pass f around as you want.
auto f = makeProxy(/* underlying "real" function */);

// Call f using this syntax, discarding the result:
f << a << b;

// Use its result:
int result = f << a << b; 
```

现在关于它的好处是它支持**currying**：

```
auto g = (f << a);      // Bind first parameter, but don't call yet.
int result = (g << b);  // Bind second parameter, now call it. 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T08:56:40.003

`f`需要是具有重载的类的实例`operator <<`，或者它必须返回具有重载运算符的类型的对象（但您需要调用它`f()`）。

```
struct F
{
   F& operator << (int x) { return *this; }
};

//...
F f;
f << 2; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-12T09:32:41.203

仅当至少一个操作数具有用户定义的*类型*（类类型或枚举）时，重载运算符才是合法的。您可以想象定义如下内容：

```
?? operator<<( void (*f)( int ), MyType ); 
```

`MyType`enum 或类类型（但不是 ）在哪里`int`，但你想要吗？在 C++ 中，`<<`有两个既定含义：格式化数据（用于最终输出）和左移（两者都暗示左侧操作数中的状态）。重载操作员做一些不相关的事情是操作重载滥用。当读者看到 a`<<`时，他有权假设某种格式或转换正在发生。为不相关的事情超载`<<`会让他感到困惑。

# ruby-on-rails - 如何在 Rails 中实现多选自动完成文本框？

> ID：14828778
> 
> 赞同：0
> 
> 时间：2013-02-12T08:56:09.710
> 
> 标签：ruby-on-rails, ruby-on-rails-3, autocomplete, search-suggestion

如果您转到[此处](http://streeteasy.com/)，然后单击“位置”字段的搜索框并选择任何选项，您将看到它们已添加到该字段中，您可以继续将术语添加到“位置”字段中。

我在它自己的模型中实现了搜索功能，类似于 Ryan Bates 在[这个 Railscast](http://railscasts.com/episodes/111-advanced-search-form-revised?view=asciicast)中介绍的内容。

我不太确定如何使搜索建议和多选功能正常工作。任何教程或 Railscasts 的任何想法或链接，或者只是关于我如何实现它的一般建议？

谢谢。

PS 我可以查看[自动完成 Railscast](http://railscasts.com/episodes/399-autocomplete-search-terms)，但这不包括多选方面。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-12T09:23:31.773

在[AutoSuggest jQuery Plugin](https://drew.tenderapp.com/kb/autosuggest-jquery-plugin/)中，Drew Wilson`How to implement multi-select using AutoSuggest`用示例很好地说明了：“如何使用它以及它是如何工作的”。

# r - 在 R 中的同一图中绘制 2 条曲线

> ID：14828779
> 
> 赞同：0
> 
> 时间：2013-02-12T08:56:12.390
> 
> 标签：r, graph, plot

使用 R，我需要在同一张图中绘制 2 条曲线。所以，我必须绘制 x1 与 y1 以及 x2 与 y2。这里“x1”是0到12范围内的随机但已知的数字；“x2”是 0 到 9 范围内的随机但已知的数字；类似地，y1 和 y2 的其他一些已知范围。

我使用了以下代码：

```
d<-read.csv("ni1.csv")       # Reading in the data
x1<-d[,1]
y1<-d[,2]

d2<-read.csv("ni2.csv")
x2<-d2[,1]
y2<-d2[,2]

plot(x1,y1,pch="*", col='blue',xlim=c(0, 12), ylim=c(0,1300),main='Load Vs. Extension   Curves',xlab='Extension', ylab='Load')
par(new=TRUE)
plot(x2, y2, pch="*", col= 'red',xlim=c(0, 9), ylim=c(0,1400), axes= FALSE, xlab='', ylab='' ) 
```

现在的问题是，虽然我得到了 x1 与 y1 的正确曲线，但 x2 与 y2 的曲线在不正确的范围内。也就是说，x2 与 y2 的 x 范围超出了我绘制的值。

任何人都可以帮助解决这个问题吗？非常感谢您的支持...

问候。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T13:26:44.450

另一种方法是简单地将`par(new=TRUE)`两个不同的图叠加在一起。

```
vv <- ts(c(3875, 4846, 5128, 5773, 7327,
                6688, 5582, 3473, 3186,
                 rep(NA, 51))
plot(drunkenness, lwd=3, col="grey", ann=FALSE, las=2)
par(new=TRUE)
plot(nhtemp, ann=FALSE, axes=FALSE,col='blue') 
```

![在此处输入图像描述](../Images/bbf984d5ec0f37d80ee8c10b6b9a331a.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T09:07:51.147

考虑`points`改用。将您的替换`plot(x2, y2, ...)`为：

```
points(x2, y2, pch="*", col= 'red') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-12T09:25:30.643

您可以使用 ggplot2 包，但这需要您将数据重新排序到一个数据框中，并使用额外的列指定类别。

```
library(ggplot2)
d <- read.csv('ni1.csv',header=T)
d2 <- read.cv('ni2.csv',header=T)
#assuming header names are ´x´ and ´y´ 
df <- rbind(d,d2)
df$labels[(length(d[,1])+1):length(df[,1])] <- 'ni2'
df$labels[1:length(d[,1])] <- 'ni1'
qplot(x,y,data=df,geom='line') + facet_wrap(~labels) 
```

# javascript - jQuery悬停不起作用

> ID：14828785
> 
> 赞同：0
> 
> 时间：2013-02-12T08:56:36.900
> 
> 标签：javascript, jquery

我会尽可能多地解释，我只想在鼠标悬停时更改 img 标签的 src{on Hover}; html是

```
<ul id="nav-tabs" data-tabs="tabs">
  <li id="test" style="list-style: none;" class="active">
   <a href="#home" data-toggle="tabs" ><img src="assets/img/button_home_selected3.png" id="test2"  width="83"/><span  s>Home</span></a>
  </li>
</ul> 
```

li 标签是使用脚本动态添加的

```
$('.plus').click(function(e) {
 e.preventDefault();
 var li_count = $('#nav-tabs').length;
 if (li_count <= 3){
  if(counter <= 3){
   $('#nav-tabs').append('<li id="test" ><a href="#tab' + counter + '" data-toggle="tabs" ><img src="assets/img/button_home_plain1.png" width="83" id="test2">Tab' + counter + '</span><button type="button" class="close">&times;</button></a></li>');
} else { alert("Only 3 Tabs Allowed!")};
} 
```

还有一个活动标签可以在选项卡之间切换，这是使用脚本完成的

```
$('li#test').each(function() {
if($(this).hasClass('active'))
 {//Active class is applied
  $(this).children().children().attr("src", "assets/img/button_home_selected3.png");
 }
 else
 {
  $(this).children().children().attr("src", "assets/img/button_home_plain.png");
 } 
```

});

我尝试了一些东西，但它不起作用，可能是我把它放错地方了，我只是不知道

```
$('#test2').hover(function(e) {
  e.preventDefault();
  if ($(this).attr('src') == 'assets/img/button_home_plain1.png')
  {
   $(this).attr('src','assets/img/button_home_mouseOver1.png');
  }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T12:10:36.367

您可以尝试使用`.data()`来跟踪原始 URL 和`.on()`(jQuery >= 1.7) 来注册事件的回调：

```
$("#nav-tabs").on("mouseover", "#test2", function(){
    $(this).data("originalSrc", $(this).attr("src"));
    $(this).attr("src", "assets/img/button_home_mouseOver1.png");
});

$("#nav-tabs").on("mouseout", "#test2", function(){
    $(this).attr("src", $(this).data("originalSrc"));
}); 
```

[http://api.jquery.com/on/](http://api.jquery.com/on/)

# asp.net-mvc - 远程属性验证是否被视为服务器端验证？

> ID：14828792
> 
> 赞同：2
> 
> 时间：2013-02-12T08:56:52.807
> 
> 标签：asp.net-mvc

我想检查我的数据库中是否已经使用了用户名，所以我使用了远程属性，这被认为是服务器端验证还是客户端验证。

如果它是客户端，我是否需要在服务器上对此进行第二次检查，以及如何做，因为我过去只使用准备好的 as.net MVC 属性进行服务器端验证。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T16:54:06.527

这仍将被视为客户端验证。远程属性使用 jquery 验证插件。

您仍然需要在服务器上对此进行第二次检查，就像用户禁用了 javascript 一样，则不会进行此验证。

只需确保作为用户创建过程的一部分，在创建用户之前检查用户名是否已被使用。

# php - 在静态方法中使用扩展类

> ID：14828794
> 
> 赞同：0
> 
> 时间：2013-02-12T08:56:54.227
> 
> 标签：php, static-methods

OOP 新手。在静态方法中使用扩展类实例是否有任何解决方法。假设我有一个完整的数据库类。

```
class Mysql{

     public function getrecords(){

      } 

}

Class login extends Mysql{

     public static method(){

      $this->getrecords()

                           }

} 
```

现在使用喜欢：

```
login::method(); 
```

虽然上面写的代码无效，但是我怎样才能实现这个功能呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T10:04:00.413

您可以使用以下代码来实现此功能

类 Mysql{

```
 public function getrecords(){
        echo "test";
  } 
```

}

类登录扩展 Mysql{

```
 public static function method(){
        parent::getrecords();
} 
```

登录::方法();

# impress.js - 更改不同幻灯片的背景颜色

> ID：14828797
> 
> 赞同：2
> 
> 时间：2013-02-12T08:57:13.370
> 
> 标签：impress.js

我正在尝试 impress.js，但我想知道是否有办法更改某些幻灯片的主体背景颜色。我希望我的前 3 张幻灯片的背景与其他幻灯片不同。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-10-16T23:26:04.637

`body`当特定幻灯片处于焦点时，您不必求助于 javascript 来更改标签的背景颜色。

对于您制作的每张幻灯片，impress.js 要求您为幻灯片添加一个`id`;
impress.js 然后将其作为“动态构建”类名的一部分`id`添加到标签中。`body`

所以假设你有三张幻灯片：

```
<div id="impress">   
  <div id="first" class="step slide"  data-x="-1500" data-y="1200" data-transition-duration="2000">
    <p>First</p>
  </div>    
  <div id="second" class="step slide"  data-x="0" data-y="1200" data-transition-duration="2000">
    <p>Second</p>
  </div>    
  <div id="third" class="step slide"  data-x="1500" data-y="1200" data-transition-duration="3000">
    <p>Third</p>
  </div>
</div> 
```

现在，如果您在现代浏览器中使用 DOM 检查器，您将看到 impress.js 在`body` 每张幻灯片变为“实时”时更改标签上的一个 css 类，从而为您提供这些类可以使用：

*   `.impress-on-first`
*   `.impress-on-second`
*   `.impress-on-third`

...其中**impress-on-**是开头，您的**幻灯片 id**是类名的结尾。

使用 impress.js 提供的这个钩子，您可以`body`为每张幻灯片设置标签的 css 属性。

```
/* add css3 transition properties for smooth transitions */
.impress-on-first {
    background-color: yellow;
    color: #000;
}

.impress-on-second {
    background-color: orange;
    color: #fff;
}

.impress-on-third {
    background-color: red;
    color: #fff;
} 
```

 **jsbin 中的**演示工作演示：**
[https ://jsbin.com/dotudelaco/1/edit?html,css,js,output](https://jsbin.com/dotudelaco/1/edit?html,css,js,output)**

 *** * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T20:48:36.610

我有一个稍微不同的方法......如果你不害怕一点 jquery！使用 jquery 颜色插件 - ( [https://github.com/jquery/jquery-color](https://github.com/jquery/jquery-color) ) 您可以执行以下操作：

```
// keep a list of slide ids and desired background colours
var bgs = {
    "main": "#FFF",
    "other": "#000"
};

// use the 'stepenter' event (step leave is better but requires 
//a modification to impress, more on this below)
$(document).ready(function() {
    $(document).on('impress:stepenter', function(e) {
        var slide = $(e.target).attr("id");

        // the jquery-colour plugin allows animating background colours here
        $("body").animate({
            backgroundColor: bgs[slide]
        }, 500 );
    });
}); 
```

在评论中，我提到`stepleave`了一个更好的解决方案，因为它可用于在幻灯片之间切换时转换背景颜色。但是`stepleave`还没有公开下一张幻灯片。

如果您是修改 impress 核心的游戏，那么这个[拉取请求](https://github.com/bartaz/impress.js/pull/206)是一个很好的起点！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T06:13:44.357

也许不像reveal.js，这是不可能的，

您可以使用 jimpress [http://jmpressjs.github.com/jmpress.js/#/home](http://jmpressjs.github.com/jmpress.js/#/home)

这是一个背景变化的演示

[http://tympanus.net/Tutorials/SlideshowJmpress/](http://tympanus.net/Tutorials/SlideshowJmpress/)

根据您的要求对其进行定制，以去除滑动结构

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-09-29T07:53:00.050

请查看此示例[http://franciscomurillo.com/fio/#/credits](http://franciscomurillo.com/fio/#/credits) 您需要从事件中获取活动步骤，并自行更改背景，如下所示：

```
<script>
var api = impress();
api.init();

//Here you can show any background for current slide/step.
window.addEventListener('impress:stepenter', function(event) {
    console.log(":::   " + event.target.id);

    if (event.target.id == "credits") {
        console.log("In credits step");
        $("#mc_wallpaper").removeClass("fade-out");
        $("#mc_wallpaper").addClass("fade-in");

    }

}, false);

//Here you can hide any background you showed for current slide/step.
window.addEventListener('impress:stepleave', function(event) {
    console.log("impress:stepleave ");
    if (event.target.id == "credits") {
        console.log("Out of :: credits");
        $("#mc_wallpaper").addClass("fade-out");
        $("#mc_wallpaper").removeClass("fade-in");

    }
}, false);

</script> 
```

然后我在 style.css 中有这个 css 代码：

```
/* make keyframes that tell the start state and the end state of our object */
@-webkit-keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@-moz-keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

.fade-in {
    opacity:0;  /* make things invisible upon start */
    -webkit-animation:fadeIn ease-in 1;  /* call our keyframe named fadeIn, use animattion ease-in and repeat it only 1 time */
    -moz-animation:fadeIn ease-in 1;
    animation:fadeIn ease-in 1;

    -webkit-animation-fill-mode:forwards;  /* this makes sure that after animation is done we remain at the last keyframe value (opacity: 1)*/
    -moz-animation-fill-mode:forwards;
    animation-fill-mode:forwards;

    -webkit-animation-duration:1s;
    -moz-animation-duration:1s;
    animation-duration:1s;
}

/* make keyframes that tell the start state and the end state of our object */
@-webkit-keyframes fadeOut { from { opacity:1; } to { opacity:0; } }
@-moz-keyframes fadeOut { from { opacity:1; } to { opacity:0; } }
@keyframes fadeOut { from { opacity:1; } to { opacity:0; } }

.fade-out {
    opacity:0;  /* make things invisible upon start */
    -webkit-animation:fadeOut ease-in 1;  /* call our keyframe named fadeOut, use animattion ease-in and repeat it only 1 time */
    -moz-animation:fadeOut ease-in 1;
    animation:fadeOut ease-in 1;

    -webkit-animation-fill-mode:forwards;  /* this makes sure that after animation is done we remain at the last keyframe value (opacity: 1)*/
    -moz-animation-fill-mode:forwards;
    animation-fill-mode:forwards;

    -webkit-animation-duration:1s;
    -moz-animation-duration:1s;
    animation-duration:1s;
}

#mc_wallpaper{
    width: 100%;
    height: 100%;
    background: #fff url(../images/vUYioU8.jpg) no-repeat center center / cover;
    opacity: 0;

} 
```

最后是 index.html 中的 div 元素

```
<div id="mc_wallpaper"> </div> 
```

这不仅对颜色有用，而且对你想要的任何背景都有用。我希望这有帮助！

干杯!**

# css - 在 div 块上构建无表 div

> ID：14828798
> 
> 赞同：0
> 
> 时间：2013-02-12T08:57:14.343
> 
> 标签：css, html

好吧，这确实是一个基本问题！我想构建一个 div 块，其中包含可能在另一个 div 上溢出的其他 div！这是一个示例图片：

![在此处输入图像描述](../Images/bdf51a72220bc956ceee8834e9ef2f4e.png)

好吧，我使用位置：相对于顶部和左侧，但看起来很尴尬！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:02:07.180

确保您的容器 div 设置为“Position:relative;” 及其子 div 设置为“position:absolute;”。这样，所有子 div 都会以具有相对定位的 div 作为参考点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:03:10.630

这不是一个答案。这是另一种具有更多功能的相同方式。看看[jQuery masonry 插件](http://masonry.desandro.com/)。它可能对你有用。否则[订购砖石](https://github.com/tasuk/masonry-ordered)。

# c# - 如何在 page_load 中填写 DropDownList

> ID：14828800
> 
> 赞同：0
> 
> 时间：2013-02-12T08:57:18.087
> 
> 标签：c#, asp.net, xml, browser, html-select

我有一个`DropDownList`，我想检查浏览器有什么语言并相应地设置下拉列表中的值。

```
 protected void Page_Load(object sender, EventArgs e)
 {
     string language = Request.UserLanguages[0].ToString().Substring(0, 2);

     drpAnrede.DataSource = Server.MapPath("~/App_Data/" + language + ".xml");
 } 
```

**更新：**

我有这个问题的解决方案...

aspx：

```
 <form id="form1" runat="server">
    <div>
        <asp:DropDownList ID="drpAnrede" runat="server" DataTextField="display" DataValueField="id">
        </asp:DropDownList>
        <asp:XmlDataSource ID="xmldata" runat="server"></asp:XmlDataSource>
    </div>
    </form> 
```

C＃：

```
 protected void Page_Load(object sender, EventArgs e)
        {
            string language = Request.UserLanguages[0].ToString().Substring(0, 2);

            //drpAnrede.DataSource = Server.MapPath("~/App_Data/" + language + ".xml");
            xmldata.DataFile = Server.MapPath("~/App_Data/" + language + ".xml");
            drpAnrede.DataSourceID = xmldata.ID;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:02:01.360

假设 XML 是好的，你需要调用

```
drpAnrede.DataBind(); 
```

应用数据源后。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:02:18.230

设置数据源后，您必须调用`DataBind()`下拉列表，不是吗？

如：

[.Net 中的数据绑定下拉控件](https://stackoverflow.com/questions/251985/databinding-dropdown-control-in-net)

# java - MySql中的自动增量包括年份和月份

> ID：14828807
> 
> 赞同：6
> 
> 时间：2013-02-12T08:57:49.070
> 
> 标签：java, mysql

我有一个名为 > Project 的表，其中有一个用于项目估算投标号的自动增量字段，称为`Project_ID`.

该字段是自动递增的。我已将其创建为带有字段规则的 8 位字符字段。

我需要它自动递增为两个数字年份，两个数字月份，包括一个连字符，然后是一个从*001*开始的数字，用于该时间段的第一条记录。

> 以 2012 年 4 月为例，第一个记录为 1204-001，第二个记录为 1204-002，依此类推。然后当 5 月份滚动时，Project_ID 将更改为 1205-001。

我一直在尝试编写的内容如下，我将其保留为一个简单的默认表达式，默认值为

```
Cyear(date()) + (month()) + “-“ + “001” . 
```

我是如何做到这一点的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-09T10:23:45.070

我已经完全解决了，看看..

首先，您必须获取一个示例表，其中的列将与原始表的列相同，但 column 除外`project_id`。

然后首先在原始表中插入一行，其中列`project_id`=0，其他列为空，只需像这样手动插入第一行。

然后在示例表上创建一个触发器，如下所示...

///////////////////////////////////////// ///////////////////////////////////////// ///////////////////////////////////////// ///////////////

分隔符;;

插入后创建触发器 t`try`

对于每一行

开始

声明 v int;

声明 c int;

set v=(select max( `project_id`) from `original`);

如果（v=0）那么

插入`original`集合

`project_id`=concat((select concat(right(substring_index((select * from(select curdate() from `try`limit 1) as a),'-','1'),2),right(substring_index((select * from(select curdate() 来自`try`限制 1) 作为 a),'-','2'),2)) 来自`try`限制 1),'-001'),

`project`=新的。`project`;

别的

set c=(select right((select max( `project_id`) from `original`)as x,3) from `original`limit 1);

插入`original`集合

`project_id`=concat((select concat(right(substring_index((select * from(select curdate() from `try`limit 1) as a),'-','1'),2),right(substring_index((select * from(select curdate() 从`try`限制 1) as a),'-','2'),2)) 从`try`限制 1),concat('-00',c+1)),

`project`=新的。`project`;

`original`从限制 1中删除；

万一;

结尾;;

///////////////////////////////////////// ///////////////////////////////////////// ///////////////////////////////////////// ///////////////

在上面的触发器中，我的示例表是**`try`（`project`文本）**，原始表是**`original`（`project_id`文本，`project`文本）**。

在示例表上创建这样的触发器后，开始在示例表中插入行，这些行将自动插入到原始表中，`project_id`列中的 auto_increment 值如..1405-001,1405-002,1405-003.. .. 其中`14`is`2014`和`05`is`May`以及其余的是使用触发器递增的 auto_incremented 值。

只需按照上述步骤，您的问题一定会得到解决。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:17:49.550

基本上，您可以在要增加列的表上使用*BEFORE INSERT 。* `TRIGGER`

以下是创建简单算法并将此代码放入触发器中的一些步骤：

```
// get current YEAR
SET @cur_Year = CONCAT(DATE_FORMAT(CURDATE(), '%Y'));
// get current MONTH
SET @cur_MONTH = CONCAT(DATE_FORMAT(CURDATE(), '%m'));
// concatenate YEAR and MONTH
SET @Year_Month = CONCAT(@cur_Year, @cur_MONTH);
// get the last value for the current YEAR and MONTH
SET @max_ID = ( SELECT MAX(ID) 
                FROM    tableName 
                WHERE   ID LIKE CONCAT(@Year_Month, '-%'));
// get the last three characters from the id, convert in to
// integer and increment by 1
SET @last_ID = CAST(RIGHT(@max_ID, 3) AS SIGNED) + 1;
// pad zero on the left using LPAD and 
// concatenate it with YEAR and MONTH
SET @new_ID =   CONCAT(@Year_Month,'-',LPAD(CAST(@last_ID AS CHAR(3)), 3, '0')); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T09:25:45.860

```
INSERT INTO (Project_ID, col1, col2, col3)
SELECT DATE_FORMAT(NOW(), CONCAT('%y%m-', 
    ((  SELECT RIGHT(CONCAT('000', (RIGHT(Project_ID, 3) + 1)), 3) AS number
        FROM table_name
        WHERE LEFT(Project_ID, 5) = DATE_FORMAT(NOW(), '%y%m-'))
        ORDER BY Project_ID DESC
        UNION
    (   SELECT '001')
        LIMIT 1))),
'Col1 data', 'Col2 data', 'Col3 data' 
```

这*可能*看起来有点奇怪，所以我将解释一下流程：

我使用`INSERT INTO ... SELECT`它是为了检查现有数据，`table_name`以查看是否已经存在任何现有案例。将找到现有的案例，并且`WHERE`由于两者的原因，挖掘所需的相关数据并不难。如果没有找到行，则使用，然后您只需分配现有的列，如图所示。`RIGHT``LEFT``'001'`

# javascript - Ext JS 4.1.3：Ext.Direct 问题

> ID：14828812
> 
> 赞同：1
> 
> 时间：2013-02-12T08:58:10.990
> 
> 标签：javascript, extjs, extjs4

我在我的应用程序中实现 Ext.Direct 时遇到问题。我已经按照[文档](http://docs.sencha.com/ext-js/4-1/#!/guide/direct_grid_pt1)中的教程进行操作，但没有让它工作。

它的问题是它总是返回：`Invalid request`在我所有的呼吁中，这表明既没有`$HTTP_RAW_POST_DATA`也没有`$_POST['extAction']`设置。

**路由器.php**

```
...
if(isset($HTTP_RAW_POST_DATA)) {
    header('Content-Type: text/javascript');
    $data = json_decode($HTTP_RAW_POST_DATA);
} else if (isset($_POST['extAction'])) { // form post
    $isForm = true;
    $isUpload = $_POST['extUpload'] == 'true';
    $data = new Action();
    $data->action = $_POST['extAction'];
    $data->method = $_POST['extMethod'];
    $data->tid = isset($_POST['extTID']) ? $_POST['extTID'] : null; // not set for upload
    $data->data = array($_POST, $_FILES);
} else {
    die('Invalid request.');
}
... 
```

**POST 值如下：**

```
{
    "action": "viewResourceParticulars",
    "method": "getResults",
    "data": [
        {
            "page": 1,
            "start": 0,
            "limit": 25,
            "group": [
                {
                    "property": "groupField",
                    "direction": "ASC"
                }
            ],
            "sort": [
                {
                    "property": "groupField",
                    "direction": "ASC"
                }
            ]
        }
    ],
    "type": "rpc",
    "tid": 1
} 
```

我检查了我的 php.ini 并且`always_populate_raw_post_data`选项是`true`，但它仍然不起作用。所以我现在没有想法。

任何帮助表示赞赏。

## 编辑（2013-02-12 12:44）：

用于调用 Ext.Direct 的代码：

**索引.php**

```
$cs->registerScriptFile($baseUrl.'/js/direct/api.php'); 
```

**api.php 返回**

```
Ext.ns("Ext.app"); Ext.app.REMOTING_API = {"url":"js\/direct\/router.php","type":"remoting","actions":{"viewResourceParticulars":[{"name":"getResults","len":1}]}}; 
```

**扩展数据存储**

```
...
proxy: {
    type: 'direct',
    directFn: viewResourceParticulars.getResults
}, 
```

# java - 将日历设置为每月的 X 天

> ID：14828814
> 
> 赞同：5
> 
> 时间：2013-02-12T08:58:14.203
> 
> 标签：java, android

我试图从由四个输入构建的日历对象中将时间缩短到分钟：月（3 日）、日（星期四）、小时（1）、分钟（30）和上午/下午。此外，如果时间是过去，则月份应增加一。

如何将日历设置为这个时间？

这段代码似乎没有设置日期。小时、分钟和上午/下午设置正确。

日历设置：

```
long getTime() {
    Calendar calendar = Calendar.getInstance();

    calendar.set(Calendar.DAY_OF_WEEK_IN_MONTH, getDayOfWeekInMonth());
    calendar.set(Calendar.DAY_OF_WEEK, getDayOfWeek());
    calendar.set(Calendar.HOUR, getHour());
    calendar.set(Calendar.MINUTE, getMinute());
    calendar.set(Calendar.AM_PM, getAmPm());

    if (System.currentTimeMillis() > calendar.getTimeInMillis()) {
        calendar.add(Calendar.MONTH, 1);
    }

    return calendar.getTimeInMillis();

}

int getDayOfWeekInMonth() {
    return weekOfMonthSpinner.getSelectedItemPosition() + 1;
}

int getDayOfWeek() {
    switch(dayOfWeekSpinner.getSelectedItemPosition()) {
    case 0:
        return Calendar.SUNDAY;
    case 1:
        return Calendar.MONDAY;
    case 2:
        return Calendar.TUESDAY;
    case 3:
        return Calendar.WEDNESDAY;
    case 4:
        return Calendar.THURSDAY;
    case 5:
        return Calendar.FRIDAY;
    case 6:
        return Calendar.SATURDAY;
    default:
        return 0;
    }
}

int getHour() {
    return Integer.parseInt((String) hourSpinner.getSelectedItem());
}

int getMinute() {
    return Integer.parseInt((String) minuteSpinner.getSelectedItem());
}

int getAmPm() {
    switch(amPmSpinner.getSelectedItemPosition()) {
    case 0:
        return Calendar.AM;
    case 1:
        return Calendar.PM;
    default:
        return 0;
    }
} 
```

微调器设置：

```
<string-array name="week_of_month">
    <item>1st</item>
    <item>2nd</item>
    <item>3rd</item>
    <item>4th</item>
 </string-array>
<string-array name="day_of_week">
    <item>Sunday</item>
    <item>Monday</item>
    <item>Tuesday</item>
    <item>Wednesday</item>
    <item>Thursday</item>
    <item>Friday</item>
    <item>Saturday</item>
</string-array>
<string-array name="hour">
    <item>1</item>
    <item>2</item>
    <item>3</item>
    <item>4</item>
    <item>5</item>
    <item>6</item>
    <item>7</item>
    <item>8</item>
    <item>9</item>
    <item>10</item>
    <item>11</item>
    <item>12</item>
</string-array>
<string-array name="minute">
    <item>00</item>
    <item>05</item>
    <item>10</item>
    <item>15</item>
    <item>20</item>
    <item>25</item>
    <item>30</item>
    <item>35</item>
    <item>40</item>
    <item>45</item>
    <item>50</item>
    <item>55</item>
</string-array>
<string-array name="am_pm">
    <item>am</item>
    <item>pm</item>
</string-array>

adapter = ArrayAdapter.createFromResource(getActivity(), R.array.week_of_month, R.layout.spinner_item);
adapter.setDropDownViewResource(R.layout.spinner_dropdown_item);
weekOfMonthSpinner.setAdapter(adapter);

adapter = ArrayAdapter.createFromResource(getActivity(), R.array.day_of_week, R.layout.spinner_item);
adapter.setDropDownViewResource(R.layout.spinner_dropdown_item);
dayOfWeekSpinner.setAdapter(adapter);

adapter = ArrayAdapter.createFromResource(getActivity(), R.array.hour, R.layout.spinner_item);
adapter.setDropDownViewResource(R.layout.spinner_dropdown_item);
hourSpinner.setAdapter(adapter);

adapter = ArrayAdapter.createFromResource(getActivity(), R.array.minute, R.layout.spinner_item);
adapter.setDropDownViewResource(R.layout.spinner_dropdown_item);
minuteSpinner.setAdapter(adapter);

adapter = ArrayAdapter.createFromResource(getActivity(), R.array.am_pm, R.layout.spinner_item);
adapter.setDropDownViewResource(R.layout.spinner_dropdown_item);
amPmSpinner.setAdapter(adapter); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T09:04:02.987

使用`calendar.set(Calendar.WEEK_OF_MONTH, <week of the month>);`和`calendar.set(Calendar.DAY_OF_WEEK, 4);`。

例子 -

```
Calendar calendar = Calendar.getInstance();
System.out.println("Before - "+calendar.getTime());
calendar.set(Calendar.WEEK_OF_MONTH, 3);
calendar.set(Calendar.DAY_OF_WEEK, 4);
System.out.println("After - "+calendar.getTime()); 
```

结果 -

```
Before - Tue Feb 12 23:23:28 IST 2013
After - Wed Feb 13 23:18:16 IST 2013 
```

# javascript - jQuery 多文件上传插件检查是否为空

> ID：14828816
> 
> 赞同：0
> 
> 时间：2013-02-12T08:58:20.637
> 
> 标签：javascript, jquery, file-upload

我已经从这个站点下载了 JQuery 多文件上传器

[http://www.fyneworks.com/jquery/multiple-file-upload/](http://www.fyneworks.com/jquery/multiple-file-upload/)

在提交表单之前，我需要检查文件输入字段是否为空。

```
<form onsubmit="return validate();">
<input type="file" name="File" class="multi" />
<input type="file" name="File" class="multi" />
<input type="submit" name="BtnSubmit" value="save" />
</form> 
```

我试过了

```
function validate() {
  $(".multi").each(function () {
    var multi =  $(this).val();
    if (multi) {
      return true;
    } else {
      return false;
    }
  });
} 
```

不工作，因为归档总是空的。那么还有其他方法可以实现这一目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:07:55.787

尝试这个

```
 var multi = $(".multi").val();
    if (multi) {
        console.log("multi");
    } else {
        console.log("no multi");
    } 
```

小提琴：http: [//jsfiddle.net/w4qVv/](http://jsfiddle.net/w4qVv/)

**更新：**

或者你可以这样做

```
function validate(field) {
    var fieldVal = $(field).val();
      if(!fieldVal)   alert("No files selected");

} 
```

接着：

```
 validate(".multi"); 
```

小提琴：http: [//jsfiddle.net/jk8aZ/](http://jsfiddle.net/jk8aZ/)

**更新2：**

是的，你可以像这样使用每个

```
var multi = (".multi");
    $(multi).each(function () {
        validate(this);
    }); 
```

小提琴：http: [//jsfiddle.net/jk8aZ/1/](http://jsfiddle.net/jk8aZ/1/)

# java - 在 Java Servlet 中访问 HTML-Input 字段数组/输入字段的结构

> ID：14828818
> 
> 赞同：1
> 
> 时间：2013-02-12T08:58:30.770
> 
> 标签：java, html, servlets, input

我有一个动态数量的字段集，其中有 3 个输入字段，每个字段的顺序不同，例如：

```
<fieldset>
  <input type="text" name="fieldset[1][valueA]">
  <input type="text" name="fieldset[1][valueB]">
  <input type="text" name="fieldset[1][valueC]">
</fieldset>
<fieldset>
  <input type="text" name="fieldset[2][valueC]">
  <input type="text" name="fieldset[2][valueB]">
  <input type="text" name="fieldset[2][valueA]">
</fieldset> 
```

我想在循环中访问 Java servlet 中的这些字段，但我不知道如何处理这些字段。

通过这种方式输入的名称是可能的

```
fieldset[n][] 
```

并以这种方式循环（访问 fieldset[1] 的字段

```
String[] elements;
elements = request.getParameterValues("fieldset[1]");
for(int i = 0; i < elements.length; i++) {
out.write(elements[i]);
} 
```

但是有什么办法可以做到这一点，同时将信息保留在第二个括号中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T10:36:46.410

似乎使用 [] 表示法导致了问题。

可以像下面 `HttpServletRequest.getParameterValues()` 的链接一样循环。

检查这个[答案](https://stackoverflow.com/questions/11786486/sending-html-form-data-array-to-jsp-servlet)

# django - 如何在第二个数据库中保存 ManyToMany 字段

> ID：14828831
> 
> 赞同：3
> 
> 时间：2013-02-12T08:59:30.037
> 
> 标签：django, django-models

我有两个数据库：

```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(ROOT_PATH, 'db', 'sqlite.db'),
    },

    'slave': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(ROOT_PATH, 'db', 'slave.db'),
    }

} 
```

我有 ManyToMany 字段的表：

```
from django.db import models
from django.contrib.auth.models import User

class Data(models.Model):
    xml     = models.TextField(max_length=90000)
    users   = models.ManyToManyField(User) 
```

当我运行代码时：

```
for i in Data.objects.all():
    i.save(using='slave') 
```

'default' 数据库中的所有条目都出现在没有 ManyToMany 字段用户的 'slave' 中。如何将用户字段显式复制到“从”数据库？

编辑：

我尝试来自 Rohan 的建议：

```
for i in Data.objects.all():
    back_i = i
    # back_i.users.all().count() = 1
    i.save(using='slave')
    # back_i.users.all().count() = 0
    for u in back_i.users.all():
        i.users.add(u) 
```

所以我认为解决方案很近，但不在这里

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:13:40.653

django 不支持跨数据库关系。

[从跨数据库关系](https://docs.djangoproject.com/en/dev/topics/db/multi-db/#cross-database-relations)中提取

*Django 目前不支持外键或跨多个数据库的多对多关系。如果您使用路由器将模型分区到不同的数据库，则这些模型定义的任何外键和多对多关系必须在单个数据库内部。*

但是，正如[这里](https://docs.djangoproject.com/en/dev/topics/db/multi-db/#moving-an-object-from-one-database-to-another)所解释的，您可以为用户实现信号以在数据库`post_save`上拥有相同的用户记录。`slave`但是您必须保持该数据库的一致性，例如从两个数据库中删除用户。

*更新：*要保存`ManyToMany`在不同的数据库中，你可以试试这个

```
for i in Data.objects.all():
    back_i = i
    i.save(using='slave')
    for u in back_i.users.all():
        i.users.add(u) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-06T00:04:24.277

[对rohan的想法](https://stackoverflow.com/a/14829036/4638824)稍作修改……（假设从库中已经存在'User'）

```
for item in Data.objects.all():

    new_item = item
    item_users = item.users.all()

    new_item.save(using='slave')

    for u in item_users:
       u2 = User.objects.using('slave').get(pk=u.id)
       new_item.users.add(u2)

    new_item.save(using='slave') 
```

# c# - 在代码隐藏中找不到 HTML 控件

> ID：14828832
> 
> 赞同：2
> 
> 时间：2013-02-12T08:59:36.493
> 
> 标签：c#, asp.net, xml

我有一个 div (id=main)，里面包含 15 个 html 选择控件，它们的 ID 分别是 ddl1、ddl2、ddl3、...等等。

现在我想从 XML 文件中动态选择或分配它们的索引，所以我编写了这段代码。

```
private void readxml(string spath) {
  XmlDocument doc = new XmlDocument();
  doc.Load(spath);
  //doc.LoadXml(spath);
  XmlNodeList xmlnodes = doc.SelectNodes("/Hedge/*");
  for (int i=1; i <= 15; i++) {
    (main.FindControl("ddl" + i) as DropDownList).SelectedIndex = Int32.Parse(xmlnodes[i].InnerText);
  }
} 
```

但是这里发生错误...

> 你调用的对象是空的。

这可能是因为它无法找到控件（HTML 选择控件）......谁能告诉我原因或解决我的问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T09:08:46.577

你添加`runat="server"`到控件和一个`Id="ddl1"`？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T09:09:46.040

在这种标记的情况下：

```
<div id="main" runat="server">
    <select id="ddl1" runat="server"></select>
</div> 
```

类型`ddl1`不会是 DropDownList 而是 HtmlSelect，因此将代码更改为：

```
(main.FindControl("ddl" + i) as HtmlSelect).SelectedIndex = Int32.Parse(xmlnodes[i].InnerText); 
```

如果仍然是 null 错误，那么很有可能`xmlnodes`是 null，这意味着加载 XML 文档或选择节点时出错了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-12T09:18:30.377

有两件事可能出错了。一个很明显

```
 (main.FindControl("ddl" + i) as DropDownList).SelectedIndex = 
            Int32.Parse(xmlnodes[i].InnerText); 
```

由于您没有使用 asp.net 下拉列表，因此您不能将其转换为该列表。所以应该是

```
 (main.FindControl("ddl" + i) as HtmlSelect).SelectedIndex = 
                                                    Int32.Parse(xmlnodes[i].InnerText); 
```

`runat="server"`如果您要起诉`html controls`并希望在 C# 页面上访问它，另一个可能是需要存在的属性。

```
 <select id="Select1" runat="server">
     <option value="1" Selected="True"> Item 1 </option>
     .....
  </select> 
```

# c# - 我已经从远程机器加载 xml

> ID：14828833
> 
> 赞同：0
> 
> 时间：2013-02-12T08:59:37.083
> 
> 标签：c#, xml, xmldocument

我有像这样的网址

```
http://steepgraph5-pc/sgs/Client/Innovator.xml 
```

从该 url 我将 Innovator.xml 加载到 XmlDocument 并获取包含类似路径的节点

```
C:\\Program Files (x86)\\Aras\\Innovator\\InnovatorServerConfig.xml 
```

现在我必须将 InnovatorServerConfig.xml 加载到新的 XmlDocumnet 中，但此路径是服务器本地的，我必须从客户端加载它。我正在使用 C#

C#代码如下：

```
XmlDocument document = new XmlDocument();
document.Load("http://steepgraph5-pc/sgs/Client/Innovator.xml");
string path=document.SelectSingleNode("/ConfigFilePath/@value").Value;
XmlDocument ServerConfigdocument = new XmlDocument();
ServerConfigdocument.Load(path); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-11T13:11:06.730

Innovator server config 只是 Innovator 服务器在启动时加载的一个文件。

如果您对其进行编辑，它将在您重新启动 IIS 网络服务器之前无效。

我建议只使用远程桌面到服务器，编辑文件并重新启动网络服务器。

如果您希望远程执行此操作，则可以通过 WEBDAV 访问 Innovator 根文件夹。任何远程机器都可以像本地磁盘一样安装或浏览它。然后编辑完成后，使用 IIS 的远程管理功能重新启动服务器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:41:19.970

无法将任意文件系统路径转换为从远程计算机访问该路径的方法。

您需要有某种网络协议才能访问它。您似乎选择了 HTTP。

鉴于您使用的是 HTTP，您必须：

*   想要访问服务器实际提供的文件
*   了解服务器如何将其 Document Root 映射到文件系统

然后，您可以将文件路径转换为 ​​URL。

这对客户端来说是不明智的。服务器重写 XML 并用 HTTP URI 替换本地路径会更有意义。

# mysql - 如何在select语句中获取变量值作为表名

> ID：14828838
> 
> 赞同：0
> 
> 时间：2013-02-12T08:59:43.150
> 
> 标签：mysql, stored-procedures

```
SET Project_List_val=CONCAT(Project_Number_val,'_List');
Insert Into test (Manthan_Panel_Id) select Manthan_Panel_Id from Project_List_val where Project_Number_val='9'; 
```

在插入语句中有一个名为“Project_List_val”的变量，它由上述步骤中连接的表名组成。该语句没有将变量的内容作为表名，而是将“Project_List_val”作为表名并给出未找到表的错误。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:02:42.487

默认情况下*，您不能参数化*表名和列名，因此您需要为此创建*动态 SQL*，

```
SET @Project_List_val = CONCAT(Project_Number_val, '_List');
SET @projNum = 9;
SET @sql = CONCAT(' INSERT INTO test (Manthan_Panel_Id)
                    SELECT Manthan_Panel_Id 
                    FROM ', @Project_List_val, ' 
                    WHERE Project_Number_val = ?');

PREPARE stmt FROM @sql;
EXECUTE stmt USING @projNum;
DEALLOCATE PREPARE stmt; 
```

# angularjs - 来自控件值的 AngularJS 初始化模型

> ID：14828846
> 
> 赞同：0
> 
> 时间：2013-02-12T09:00:05.877
> 
> 标签：angularjs

我有非常大的表单（约 500 个控件）并希望在其上集成 AngularJS。我有一个问题，当我设置`ng-model`属性时，它会重置我的`value`属性。

有没有办法从输入值属性（文本区域和选择）自动设置模型值，而不会弄乱控制器代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:04:47.980

您可以使用“ng-init”

```
<input ng-model="data.instructions" ng-init="data.instructions='bla bla'"> 
```

但是，推荐的方法是使用控制器。

希望能帮助到你。

# android - onUserInteraction 在 DialogPreference 中不起作用

> ID：14828853
> 
> 赞同：10
> 
> 时间：2013-02-12T09:00:45.660
> 
> 标签：android, dialog, dialog-preference

预计`onUserInteraction`任何用户交互都会调用它。它在`PreferenceActivity`. 但是，当 a`DialogPreference`弹出时，`onUserInteraction`即使有触摸事件等用户交互，也不再调用。

这似乎 `DialogPreference`不是唯一的情况。无论何时`Dialog`显示，它都不会将用户交互报告给活动。

但是，如果我真的需要它，我该怎么办。谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-12T09:32:05.737

据我所知，`onUserInteraction()`在用户与对话框交互时（甚至从`Activity`您正在监视交互的位置开始）根本不会调用。

我知道的两个解决方案是：

*   子类`Dialog`/`DialogPreference`类和覆盖`dispatchTouchEvent()`。

*   通过发出以下命令实现`Window.Callback`接口并将其设置为s 窗口回调：`Dialog`

    ```
    dialog.getWindow().setCallback(callbackImplementation); 
    ```

    **注意：**这个实现应该通过调用适当的对话框方法来处理所有接收到的事件，或者以你自己的方式处理事件（例如通过手动调用`onUserInteraction()`）。

**编辑**

您有几种方法可以`Activity`从自定义`PreferenceDialog`实例中获取。

1.  调用`DialogPreference.getPreferenceManager()`返回的方法`PreferenceManager`。它有一个`getActivity()`方法**，但它是包私有的**，因此您必须将自定义`DialogPreference`放入`android.preference`包中才能访问它。

2.  在中`PreferenceActivity.onCreate()`，膨胀首选项后，使用按键`findPreference()`找到您的自定义`DialogPreference`。然后将其转换为您的自定义类并`this`通过访问器将活动设置为。

我会选择第二个选项。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2018-06-01T16:08:50.223

这是 a 的完整解决方案，它在触摸时`DialogFragment`触发 Activity并保留默认回调的行为：`onUserInteraction()`

```
public abstract class BaseDialogFragment extends DialogFragment {

    @Override
    public void onActivityCreated(final Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);
        final Window window = getDialog().getWindow();
        if (window != null) {
            window.setCallback(new UserInteractionAwareCallback(window.getCallback(), getActivity()));
        }
    }
} 
```

这是回调本身：

```
public class UserInteractionAwareCallback implements Window.Callback {

    private final Window.Callback originalCallback;
    private final Activity activity;

    public UserInteractionAwareCallback(final Window.Callback originalCallback, final Activity activity) {
        this.originalCallback = originalCallback;
        this.activity = activity;
    }

    @Override
    public boolean dispatchKeyEvent(final KeyEvent event) {
        return originalCallback.dispatchKeyEvent(event);
    }

    @Override
    public boolean dispatchKeyShortcutEvent(final KeyEvent event) {
        return originalCallback.dispatchKeyShortcutEvent(event);
    }

    @Override
    public boolean dispatchTouchEvent(final MotionEvent event) {
        switch (event.getAction()) {
            case MotionEvent.ACTION_DOWN:
            case MotionEvent.ACTION_MOVE:
            case MotionEvent.ACTION_UP:
                if (activity != null) {
                    activity.onUserInteraction();
                }
                break;
            default:
        }
        return originalCallback.dispatchTouchEvent(event);
    }

    @Override
    public boolean dispatchTrackballEvent(final MotionEvent event) {
        return originalCallback.dispatchTrackballEvent(event);
    }

    @Override
    public boolean dispatchGenericMotionEvent(final MotionEvent event) {
        return originalCallback.dispatchGenericMotionEvent(event);
    }

    @Override
    public boolean dispatchPopulateAccessibilityEvent(final AccessibilityEvent event) {
        return originalCallback.dispatchPopulateAccessibilityEvent(event);
    }

    @Nullable
    @Override
    public View onCreatePanelView(final int featureId) {
        return originalCallback.onCreatePanelView(featureId);
    }

    @Override
    public boolean onCreatePanelMenu(final int featureId, final Menu menu) {
        return originalCallback.onCreatePanelMenu(featureId, menu);
    }

    @Override
    public boolean onPreparePanel(final int featureId, final View view, final Menu menu) {
        return originalCallback.onPreparePanel(featureId, view, menu);
    }

    @Override
    public boolean onMenuOpened(final int featureId, final Menu menu) {
        return originalCallback.onMenuOpened(featureId, menu);
    }

    @Override
    public boolean onMenuItemSelected(final int featureId, final MenuItem item) {
        return originalCallback.onMenuItemSelected(featureId, item);
    }

    @Override
    public void onWindowAttributesChanged(final WindowManager.LayoutParams attrs) {
        originalCallback.onWindowAttributesChanged(attrs);
    }

    @Override
    public void onContentChanged() {
        originalCallback.onContentChanged();
    }

    @Override
    public void onWindowFocusChanged(final boolean hasFocus) {
        originalCallback.onWindowFocusChanged(hasFocus);
    }

    @Override
    public void onAttachedToWindow() {
        originalCallback.onAttachedToWindow();
    }

    @Override
    public void onDetachedFromWindow() {
        originalCallback.onDetachedFromWindow();
    }

    @Override
    public void onPanelClosed(final int featureId, final Menu menu) {
        originalCallback.onPanelClosed(featureId, menu);
    }

    @Override
    public boolean onSearchRequested() {
        return originalCallback.onSearchRequested();
    }

    @TargetApi(Build.VERSION_CODES.M)
    @Override
    public boolean onSearchRequested(final SearchEvent searchEvent) {
        return originalCallback.onSearchRequested(searchEvent);
    }

    @Nullable
    @Override
    public ActionMode onWindowStartingActionMode(final ActionMode.Callback callback) {
        return originalCallback.onWindowStartingActionMode(callback);
    }

    @TargetApi(Build.VERSION_CODES.M)
    @Nullable
    @Override
    public ActionMode onWindowStartingActionMode(final ActionMode.Callback callback, final int type) {
        return originalCallback.onWindowStartingActionMode(callback, type);
    }

    @Override
    public void onActionModeStarted(final ActionMode mode) {
        originalCallback.onActionModeStarted(mode);
    }

    @Override
    public void onActionModeFinished(final ActionMode mode) {
        originalCallback.onActionModeFinished(mode);
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2021-02-08T22:40:09.310

这是一个更独立、更完整的 Kotlin 实现：

```
/**
 * Sets up the receiver's [window][Dialog.getWindow] to call [Activity.onUserInteraction]
 * at appropriate times, mirroring the calls made in [Activity] itself.
 * This method should be called immediately after [Dialog.show].
 */
fun Dialog.reportUserInteraction() {
  window?.let { window ->
    val activity = window.decorView.activity

    val wrappedCallback = window.callback
    window.callback = object : Window.Callback by wrappedCallback {
      override fun dispatchGenericMotionEvent(event: MotionEvent): Boolean {
        activity.onUserInteraction()
        return wrappedCallback.dispatchGenericMotionEvent(event)
      }

      override fun dispatchKeyEvent(event: KeyEvent): Boolean {
        activity.onUserInteraction()
        return wrappedCallback.dispatchKeyEvent(event)
      }

      override fun dispatchKeyShortcutEvent(event: KeyEvent): Boolean {
        activity.onUserInteraction()
        return wrappedCallback.dispatchKeyShortcutEvent(event)
      }

      override fun dispatchTouchEvent(event: MotionEvent): Boolean {
        if (event.action == ACTION_DOWN) activity.onUserInteraction()
        return wrappedCallback.dispatchTouchEvent(event)
      }

      override fun dispatchTrackballEvent(event: MotionEvent): Boolean {
        activity.onUserInteraction()
        return wrappedCallback.dispatchTrackballEvent(event)
      }
    }
  }
} 
```

依靠：

```
val View.activity: Activity
  get() = context.activityOrNull!!

val Context.activityOrNull: Activity?
  get() {
    var context = this
    while (true) {
      if (context is Application) {
        return null
      }
      if (context is Activity) {
        return context
      }
      if (context is ContextWrapper) {
        val baseContext = context.baseContext
        // Prevent Stack Overflow.
        if (baseContext === this) {
          return null
        }
        context = baseContext
      } else {
        return null
      }
    }
  } 
```

# c - 在 C 中的列表中匹配（搜索）URL 的最佳方法（实现白名单或黑名单）？

> ID：14828856
> 
> 赞同：1
> 
> 时间：2013-02-12T09:00:53.560
> 
> 标签：c, string, list, hash, match

我正在写一个代理服务器。它对列表中匹配的网站应用不同的规则。例如，我们可以阻止 List A 并使用另一个代理来获取 List B 的内容。

例如，列表 A：

```
.google.com
blogger.com
sourceforge.net
ytimg.com
http://media-cache-*.pinterest.com/*
images-amazon.com
*.amazonaws.com
twitter.com
fbcdn.net
google-analytics.com
staticflickr.com 
```

清单 B：

```
ytimg.com
youtube.com 
```

目前，匹配功能为：

```
struct proxy_t *
match_list(char *url) {
  // 2KB line should be enough
  char buf[2048];
  int pos = 0, size;

  struct acllist *al = config->acl_h;
  struct acl *node = al->data; 

  while (node != NULL) { // iterate list
    pos = 0; // position in list file

    size = strlen(node->data); // node->data holds a URL list

    while (1) { // iterate each line in list

      readline(buf, node->data, &pos, size);

      if (buf[0] == 0) break;

      if (strcasestr(url, buf) != NULL 
      || !fnmatch(buf, url, FNM_CASEFOLD)) {

          return node->proxy;
      }
    }
    node = node->next;
  }

  printf("Not Matched\n");

  return config->default_proxy;
} 
```

即迭代两个列表文件，逐行读取，使用**strcasestr**和**fnmatch**匹配单个URL。

它工作正常。但是如果列表变得越来越大，比如每个列表有 10,000 行和 5 个列表，我想这不是一个有效的解决方案，因为它是一个 O(N) 算法。

我正在考虑为每条比赛线添加一个命中计数器。通过对匹配行进行排序，它可以减少平均搜索长度。像这样：

```
.google.com|150
blogger.com|76
sourceforge.net|43
ytimg.com|22 
```

有没有其他想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:27:18.733

有两种方法可以提高性能。

**1**

第一种方法是以某种方式对 URL 列表进行排序，因此您可以在其中优化搜索。 [快速排序](http://pages.cs.wisc.edu/~bobh/367/SORTING.html#quick)是目前最快的算法。

[冒泡排序](http://en.wikipedia.org/wiki/Bubble_sort)更容易实现。

然后您可以使用[二进制搜索](http://en.wikipedia.org/wiki/Binary_search_algorithm)在列表中进行搜索。二进制搜索具有对数性能，而您的循环具有线性性能，因此在大型列表上它会明显更快。

**2**

如果您的 URL 列表是静态的，您可以使用名为[flex](https://github.com/westes/flex)的特殊工具，它使您能够通过读取字符串来解析它。

这也意味着，当您的某些 URL 列表更新时，您必须编写新代码进行解析或创建代码生成器。

这是一种更有效的解析方式，然后是任何一种排序，因为它只需要 N 步，当 N 是你正在解析的 URL 的长度时，所以你的列表有多长并不重要，只要你能为输入编写正确的扫描仪。

# c# - 如何获取 PLC S7-300 串行十六进制数据

> ID：14828857
> 
> 赞同：2
> 
> 时间：2013-02-12T09:00:57.377
> 
> 标签：c#, java, plc

我们有带以太网通讯端口的西门子 PLC S7-300。哪种类型的 java 或其他语言编码可用于获取 plc 的帧数据？该 PLC 仅与 step-7 软件通信。

这个帧结构数据也可以存储在一些文本文件的xml中，这样我们就可以将它连续发送到互联网上。

请帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:44:25.633

有 3rd 方库允许这样做。在我们公司，我们正在使用[Accon AGLink](http://www.deltalogic.de/en/products/software/accon-aglink.html)。它是一个本地库，但它也提供了一个 .NET 包装器。图书馆有点快。你也可以试试[这个（indi.an PLCCom）](http://indi-an.de/index.php?option=com_content&view=article&id=65&catid=2&Itemid=71)，它是托管的，不是那么快，但它有一个免费版本。

或者，您可以尝试设置[OPC](http://www.opcfoundation.org/Default.aspx)服务器并使用 OPC 客户端读取 PLC 数据，但它们有点贵。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-25T17:08:07.437

看看**[Snap7](http://snap7.sourceforge.net)**，它是**用 C 语言编写的，但有许多可用的包装器和端口**，包括 Python、Node.js、.NET、C#、Arduino，以及一个名为[Moka7](http://snap7.sourceforge.net/moka7.html)的 Java 语言，因为你问过。

来自官方文档：

> *Snap7 是一个开源、32/64 位、多平台以太网通信套件，用于与 Siemens S7 PLC 进行本地接口。部分支持新 CPU 1200/1500、旧 S7200、小 LOGO 0BA7/0BA8 和 SINAMICS 驱动器。*

我假设您的设置包含在带有 CP 343 通信模块的 S7-300 CPU 上。要从 CPU 读取数据，系统必须运行 S7 服务器（可通过**NetPro**配置，在**SIMATIC Manager**中，如[Siemens 调试手册](http://extras.springer.com/2010/978-3-642-12014-5/CD_2/_Manuals/English/S7-CPs_for_Industrial_Ethernet.pdf)中所述）。远程机器应该使用 Snap7 客户端库。

该库包括读取不同内存区域的函数，例如进程输入 (I)、进程输出 (Q)、*merkers* (M)、定时器 (T) 和计数器 (C)，以及通用数据块 (DB) ）。如果服务器已启用，并且配置不受限制（例如特定 IP 地址），则默认情况下客户端应至少可以访问 I、Q 和 M，以及某些系统属性（如 CPU 型号）和固件版本）。

对于您使用 Java 的情况，**请查看 Moka7 文档**，该文档可在同一[下载包](https://sourceforge.net/projects/snap7/files/Moka7/1.0.2/)中找到。有几个代码示例可以开始。

如果成功，该`ReadArea`函数将返回您指定的字节的十六进制数据（即开始读取的内存位置和字节数）。作为备注，**请记住大多数 Siemens PLC 是 big-endian**，因此如果您正在读取保存不同类型数据的内存区域，则可能需要进行转换。

# c++ - select() 不会在 Bash 脚本中给出超时

> ID：14828861
> 
> 赞同：0
> 
> 时间：2013-02-12T09:01:02.980
> 
> 标签：c++

我有一个问题，当我在 Bash 脚本文件中运行程序时，select() 没有超时。这是我的实现：

```
#include <sys/select.h>

bool checkKeyPressed()
{
  struct timeval tv;

  tv.tv_sec = 1;
  tv.tv_usec = 0;

  fd_set descriptor;
  const int input = 0;

  FD_ZERO(&descriptor);
  FD_SET(input, &descriptor);

  return select(1, &descriptor, NULL, NULL, &tv) > 0;
} 
```

// 直接运行程序后的strace结果（修正有超时）

```
select(1, [0], NULL, NULL, {1, 0})      = 0 (Timeout) 
```

// strace 结果以在 bash 脚本文件中运行应用程序（无超时）

```
select(1, [0], NULL, NULL, {1, 0})      = 1 (in [0], left {0, 999996})
read(0, "", 1)                          = 0 
```

如何更改函数以使其在 Bash 脚本下运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T13:36:27.543

如果您只需要 1 秒超时，请不要将任何文件描述符传递给`select()`. 在这种情况下`select()`，作为一个便携式`sleep()`功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:19:50.743

如果您仔细查看`read`跟踪中的调用，您会注意到它返回零，表示文件结束。

当文件描述符处于 EOF（或远程套接字关闭等）时，描述符是可读的，`read`返回零。

如果您在交互式 shell 中按下`CTRL`+ `d`，您将得到相同的结果。

# javascript - 在获取之后和触发更改事件之前更改主干数据

> ID：14828862
> 
> 赞同：1
> 
> 时间：2013-02-12T09:01:05.810
> 
> 标签：javascript, backbone.js

我从服务器获取数据并希望在订阅者收到模型更改通知之前使用 I18n 字符串更改一些字符串。有没有办法添加一个在获取数据后总是首先调用的成功方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T09:03:28.523

好的，我自己找到的。

```
Model.parse 
```

[http://backbonejs.org/docs/backbone.html#section-65](http://backbonejs.org/docs/backbone.html#section-65)

# magento - 在 magento 中向产品集合过滤器添加多个列表属性

> ID：14828863
> 
> 赞同：0
> 
> 时间：2013-02-12T09:01:09.827
> 
> 标签：magento, collections, attributes, multi-select

我正在尝试进行与 ajax 相关的 magento 搜索，但我无法将多选类型产品属性正确添加到产品集合中，例如：

```
$productModel = Mage::getModel('catalog/product'); //getting product model
$productCollection = $productModel->getCollection();
$productCollection->addAttributeToSelect(
                        Mage::getSingleton('catalog/config')
                            ->getProductAttributes()
                    );
$productCollection->addAttributeToFilter(
             array(
                  array('attribute'=>'my_attribute_id', 
                          'finset' => Mage::getResourceModel('catalog/product')
                                        ->getAttribute('my_attribute_id')          
                                        ->getSource()
                                       ->getOptionId($searched))
                    ); 
```

其中 $searched 是我保存关键字的字符串。现在，让我们假设 my_attribute_id 是一个多选产品属性，它有一个名为“Red Bull”的选项......如果我搜索确切的字符串“red Bull”，它可以工作，但如果我搜索，我想工作仅在“红色”或“公牛”之后。即使搜索字符串不完整，有没有办法获取属性的选项 ID？因为问题出在这里：

```
 Mage::getResourceModel('catalog/product')
                        ->getAttribute('my_attribute_id')
                        ->getSource()
                        ->getOptionId($searched)) 
```

仅当我完全搜索此代码时，此代码才会返回属性选项的 ID。可能模型会执行类似这样的查询

```
"select...where value='$searched'" 
```

即使选项的值不完整，有没有办法获取属性选项 id 的列表？..so 做这样的查询

```
"select...where value like '%$searched%'" 
```

或者有没有更好的方法在多选属性部分值之后检索产品集合，而不是我正在尝试的解决方案？非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T11:21:28.553

请试试这个..

```
$collection = Mage::getModel('catalog/product')->getCollection();
    ->addAttributeToSelect('*')
    ->addFieldToFilter(
        'my_attribute_id',
        array(
            'like' => Mage::getResourceModel('catalog/product')
                        ->getAttribute('my_attribute_id')
                        ->getSource()
                        ->getOptionId($searched)
        )
    ); 
```

# java - 通过eclipse在Google应用引擎中部署时数据库未部署

> ID：14828869
> 
> 赞同：0
> 
> 时间：2013-02-12T09:02:05.530
> 
> 标签：java, eclipse, google-app-engine

我正在 Google 应用引擎中部署一个应用。它已成功部署，但数据库未部署。我使用 Google 应用引擎在 Java 中开发了此应用程序。当我在应用仪表板的数据存储查看器中看到数据时，它没有显示任何内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:07:25.380

Matt Salmon 是对的，您的本地数据存储和远程数据存储是两个不同的东西。为了开始在线查看数据存储查看器中的内容，您必须与已部署的应用程序交互并开始插入数据。由于您设法在本地拥有一些数据，因此您应该能够在线执行相同的操作。

此外，您的本地数据存储将不时重置，但如果您不希望它被删除，请使用参数运行您的开发服务器：`--datastore_path=`并且如果您还使用 blobstore: `--blobstore_path=DIR`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:10:01.073

我已经很长时间没有使用 Google App Engine，但我认为部署它并不重要 - 在初始部署之后，这显然是一个问题，因为您不想覆盖生产数据。

这篇文章可能会有所帮助：[Google AppEngine 数据库](https://stackoverflow.com/questions/5203901/google-appengine-database)

# objective-c - 如何通过更改子视图的位置来避免失真

> ID：14828876
> 
> 赞同：1
> 
> 时间：2013-02-12T09:02:37.073
> 
> 标签：objective-c, xcode, cocoa

我有一个`NSViewController`我分配给我的主要应用程序的代码：

```
self.masterViewController = [[MasterViewController alloc] initWithNibName:@"MasterViewController" bundle:nil];

[self.window.contentView addSubview:self.masterViewController.view]; 
```

我还设置了 autosizing 属性，这样如果我改变主窗口的大小，子视图也会相应地改变。

到目前为止，一切都很好。问题是子视图没有连接到主窗口的顶部，所以我添加了这一行：

```
self.masterViewController.view.frame = CGRectMake(0,120, self.masterViewController.view.frame.size.width, self.masterViewController.view.frame.size.height); 
```

现在，通过这条线，我看到了实际的问题。子视图的绘图被扭曲。

这个问题可以在这里看到：![在此处输入图像描述](../Images/a448684d92fef2320c5b6c27e0e32a41.png)

谢谢您的帮助。

-mcb

# html - 使用 Web 应用程序配置 PrimeUI

> ID：14828877
> 
> 赞同：1
> 
> 时间：2013-02-12T09:02:37.267
> 
> 标签：html, primefaces, prime-ui

我是 prime-ui 的新手（PrimeUI 是流行的 JSF 组件套件 PrimeFaces 的衍生项目）。我已经从[http://www.primefaces.org/downloads.html](http://www.primefaces.org/downloads.html)下载了 prime-ui-0.8.bundle.zip 文件。我想使用具有 html 页面的简单 Web 应用程序对其进行配置。我不知道我需要包含哪些 css 和 js 文件才能开始工作。

请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T09:32:06.167

您需要将两个文件放在您的页面中。prime-ui-0.8.min.css 和 prime-ui-0.8.min.js。这两个文件位于您下载的 zip 文件的生产文件夹中。除了 themeroller 主题之外，您还需要 jquery.js 和 jquery-ui.js。

# wix - Wix 3.6：有条件地触发“RemoveExistingProducts”

> ID：14828886
> 
> 赞同：1
> 
> 时间：2013-02-12T09:03:11.390
> 
> 标签：wix, upgrade, wix3.6

我爬网但没有找到解决方案，或者我只是没有线索。

我需要有条件地`RemoveExistingProducts`在我的设置中执行该操作。我希望我的设置默认卸载所有现有产品，如下所示：

```
<MajorUpgrade AllowDowngrades="no" DowngradeErrorMessage="No downgrades allowed" /> 
```

这工作正常。但是当用户在我的 UI 中取消选择一个复选框时，我希望安装程序不要卸载以前的产品版本。所以我尝试了这样的事情：

```
 <Property Id="PREVIOUSVERSIONSINSTALLED" Secure="yes" />

    <Upgrade Id="3E700BA7-CAF8-4C49-A53A-70F70DE0C8D6">
        <UpgradeVersion
             Minimum="1.0.0.0" Maximum="99.0.0.0"
             Property="PREVIOUSVERSIONSINSTALLED"
             IncludeMinimum="yes" IncludeMaximum="no" OnlyDetect="myVar" />
    </Upgrade>

    <Property Id="myVar" Value="no" /> 
```

希望，我可以设置`myVar`，但这是非法的。

有人知道如何解决我的问题吗？

原因是，我们希望允许用户 - 风险自负 - 安装我们产品的多个版本 - 这是我们客户的要求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T03:04:21.917

我认为，在默认顺序中，`RemoveExistingProducts`是在 UI 之前运行。

您可以尝试将`RemoveExistingProducts`操作重新连接到之后`InstallFinalize`并使用条件触发它：

```
<RemoveExistingProducts After="InstallFinalize">
    NOT CHECKBOX
</RemoveExistingProducts> 
```

不知道这在你的情况下会如何。

当您使用复选框退出对话框以手动卸载产品时，您还可以尝试运行自定义操作。也许您甚至可以强制启动`RemoveExistingProducts`上述自定义操作。

最后一个解决方案是制作一个单独的卸载程序，提示用户是否卸载产品并跟进实际的安装程序。

# yii - YII - 在配置文件中定义提取的引导程序

> ID：14828887
> 
> 赞同：0
> 
> 时间：2013-02-12T09:03:13.937
> 
> 标签：yii

我是 Yii 的新手。我正在使用这个[LINK](http://twitter.github.com/bootstrap/base-css.html)。

我在`/blog/protected/extensions`目录中提取引导程序并将数组定义为`config/main.php`：

```
 //BOOT STRAP
    'clientScript' => array(
        'scriptMap' => array(
        'jquery.js'=>false,
        'jquery.min.js'=>false,
        'core.css'=>false,
        'styles.css'=>false,
        'pager.css'=>false,
        'default.css'=>false,
        ),
        'packages'=>array(
        'jquery'=>array(
            'baseUrl'=>'bootstrap/',
            'js'=>array('js/jquery.js'=>true /* SET AS DEFAULT*/ ),
        ),          
        'bootstrap'=>array(
            'baseUrl'=>'bootstrap/',
            'js'=>array('js/bootstrap.min.js',
              'js/bootstrap-transition.js',
              'js/bootstrap-alert.js',
              'js/bootstrap-modal.js',
              'js/bootstrap-dropdown.js',
              'js/bootstrap-tab.js',
              'js/bootstrap-tooltip.js',
              'js/bootstrap-popover.js',
              'js/bootstrap-button.js',
              'js/bootstrap-collapse.js',
              'js/bootstrap-carousel.js',
              'js/bootstrap-typeahead.js',
              'js/bootstrap-affix.js',
              'js/holder.js',
              'js/prettify.js',
              'js/application.js',
             ),
            'css'=>array(
            'css/bootstrap.min.css',
            'css/custom.css',
            'css/bootstrap-responsive.min.css',
            ),
            'depends'=>array('jquery'),
        ),
        ),
    ),
    //BOOT STRAP 
```

如何更改`'baseUrl'=>'bootstrap/'`为正确的扩展路径？此路径不起作用：

```
'baseUrl'=>'/protected/extensions/bootstrap/', 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:15:44.500

如果您是新手，请[了解扩展](http://www.yiiframework.com/doc/guide/1.1/en/extension.use)。比为引导程序下载准备好的 yii 扩展：[Yii-Bootstrap](http://www.yiiframework.com/extension/bootstrap/)或[Yii-Booster](http://www.yiiframework.com/extension/yiibooster/)。

您不必定义任何 js 包，引导扩展会为您完成。

这是我使用的 yii-booster 的示例配置部分（实际上对于 yii-bootstrap 它应该是相同的）：

```
'components' => array(
// ... other components
    'bootstrap' => array(
        'class' => 'ext.bootstrap.components.Bootstrap',
        'coreCss' => true,
        'responsiveCss' => true,
        'yiiCss' => true,
    ),
    ),
// .. other components 
```

就是这样！引导程序将起作用。

# ruby-on-rails - 太阳黑子 - 在多个日期范围内搜索

> ID：14828889
> 
> 赞同：2
> 
> 时间：2013-02-12T09:03:26.650
> 
> 标签：ruby-on-rails, solr, model, sunspot, sunspot-rails

这是我的问题，我会尽量简洁。

我有一个`Course`模型`has_many` `Planning`。A`Planning`有一个`start_date`和一个`end_date`。

我想检索（使用黑子）`Courses`在给定`start_date`和`end_date`.

问题是，如果我存储在模型中`Course`：

```
searchable do
  date :start_date, multiple: true do
    plannings.map(&:start_date)
  end

  date :end_date, multiple: true do
    plannings.map(&:end_date)
  end
  ...
end 
```

我失去了这个事实，`start_date`并且`end_date`是夫妻。

有没有办法/技巧来存储范围？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T18:23:58.263

有几乎相同的问题，在我的情况下 start_date 和 end_date 并不是真正的日期，只是一年（整数），用多个值字段作为范围来解决它：

```
searchable do
  date :course_date, multiple: true do
    plannings.map{|p| (p.start_date..p.end_date).to_a}
  end
  ...
end 
```

所以 course_date 包含课程进行的所有年份。如果您有 2001-2003 和 2005-2007(2001, 2002, 2003, 2005, 2006, 2007) 并使用 equal_to 进行搜索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T13:30:30.743

一种可能性是两次进行查询。先找规划，再找ID限制课程的课程。

也许不是一个非常优化的，但为什么要尽快优化...

或使用函数索引小时数：

```
def happens_between_8_and_9
  return true if start_date > 8..
end

searchable do
  boolean :happens_between_8_and_9
  boolean :happens_between_9_and_10
end 
```

```

# shell - Unix shell 中的引号

> ID：14828893
> 
> 赞同：0
> 
> 时间：2013-02-12T09:03:40.200
> 
> 标签：shell

尝试为 git 准备简单的 shell 提交脚本，比如

```
git add .
git commit -m $@
git push origin master 
```

以 ./script.sh 'commit message' 方式运行它，

我遇到了包含空格的提交消息的问题。我知道我需要在字符串 2 上用引号将 $@ 括起来，但到目前为止我所有的尝试都失败了（我尝试了直接的 '，然后是 \'，然后是我在研究时发现的花哨的 '\''，但仍然没有运气）。请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:06:53.933

If you're running the script as:

```
./script.sh 'commit message' 
```

then the commit message is just `$1`, and your script should contain:

```
git commit -m "$1" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:07:09.383

只需替换`$@`为`"$@"`. 这应该够了吧。

# jquery - 如何停止同时执行两个悬停效果？

> ID：14828894
> 
> 赞同：0
> 
> 时间：2013-02-12T09:03:44.137
> 
> 标签：jquery

我正在使用以下代码生成工具提示框。当用户将鼠标悬停在指定范围上时，框会切换。问题是我在页面上有 20 或 30 个，所以如果用户在列表中向下移动鼠标，我会让所有 30 个依次出现和消失。如果当前可见或正在制作动画的过程中有另一个工具提示，有什么方法可以停止效果运行？

```
 $('td.aO .tTCont').hover( function(){
    $(this).siblings('div.toolTip').delay(100).fadeToggle('200');}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:07:36.683

您可以使用 停止当前动画`.stop()`并使用 删除所有排队/待处理的动画`.clearQueue()`。

在您查询另一个动画之前，为相应的选择器调用（其中一个）就可以了。

您可能必须与他们一起玩才能找到看起来不错的配置。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:07:25.270

试试这个代码：

```
$('td.aO .tTCont').hover( function(){
    $(this).children('.toolTip').delay(100).fadeToggle('200');}) 
```

# mercurial - 如何保持 mercurial 图形“平坦”

> ID：14828909
> 
> 赞同：3
> 
> 时间：2013-02-12T09:04:39.210
> 
> 标签：mercurial, tortoisehg

我有一个“主”存储库，我克隆它并在克隆中进行一些更改。与此同时，“main”中还有其他变化，所以我将它们拉出来并将它们合并到我的克隆中。我在克隆中进行了更多更改，并合并了“main”中的任何其他新更改。这给了我这个图表：

![在此处输入图像描述](../Images/eeef48734c1e65f460a575ebd497afd9.png)

当我在克隆中完成工作时，我推送到主存储库，现在“main”中的图形如下所示：

![在此处输入图像描述](../Images/f9c8e59a452ae04df4f1fcc7d43ef284.png)

我知道它们在拓扑上是相同的，但对我来说第一个更清楚（这是一个非常简单的案例，但事情可能会变得更复杂）。

有什么办法可以防止这种情况发生吗？我发现[了这个](https://stackoverflow.com/q/12455201/385646)关于事后重新排序图表的问题，但我在想我的工作流程中可能存在问题，或者我可以改变一些东西来防止它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T09:28:25.137

问题是图表是按修订号排序的，而不是按修订日期。这实际上是按修订出现在当前存储库中的日期/时间排序。thg 项目有一个悬而未决的问题，允许按修订日期对列表进行排序，但其中一位开发人员表示，此更改将需要隐藏图表，因为他认为重新编写绘图员对于收益太少（问题就[在这里](https://bitbucket.org/tortoisehg/thg/issue/580/)）。

我知道没有涉及合并的工作流来修复它，因为如果在多个存储库上执行工作，则修订在不同存储库上的顺序将永远不会相同。

整理树的一种方法是使用`rebase`而不是`merge`在拉取更改之后使用。这将导致没有合并的单个分支，因为它会重写历史记录以使其看起来好像您的`draft`修订是在您刚刚提取的更改之后实施的。如果您想继续阅读`rebase`，该信息就[在这里](http://mercurial.selenic.com/wiki/RebaseExtension)。

# javascript - 如何在jQuery中获取元素的特定值

> ID：14828911
> 
> 赞同：2
> 
> 时间：2013-02-12T09:04:59.497
> 
> 标签：javascript, jquery, attributes

我使用 jQuery 插件开发了一个图片库。现在我需要选择所选图像的属性值。为此，我使用了以下代码。

```
var img=$('li.selected');
var comm = $("textarea#comm").val();
var dataid=$(img).attr('data-id');
var dataalid=$(img).attr('data-alid'); 
```

在 html 页面中，选定的列表是：

```
<li class="selected" style="margin-right: 3px; width: 69px;"> 
```

那是以下列表：

```
<div class="es-carousel" id="loader">
<ul class="es-carousel">
<li><a href="#"><img src="data:image/jpeg;base64,/9j/4AAQSwAEASSlPA47U..../9kA"  alt="xyz" data-description="Retrieving images with jquery and servlet" data-id="1" data-alid="6"/></a></li>
 ...
</div> 
```

我需要得到`data-id`and的值`data-alid`。我不知道如何获得价值。我是 jQuery 的新手。

请任何人帮助我。谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-12T09:07:01.827

这样做时：

```
var img=$('li.selected'); 
```

您正在选择`LI`元素，而不是`IMG`. 你应该这样做：

```
var img = $('li.selected img'); 
```

此外，您不需要`img`再次包装在 jQuery 中，只需执行以下操作：

```
var dataid = img.attr('data-id'); 
```

甚至：

```
var dataid = img.data('id'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:08:19.533

第一行的变量称为 img，因此您可能的意思是在列表项中获取图像，但您只是获取列表项本身。

试试这个：

```
 var img = $('li.selected img'); 
```

# delphi - 寻找来自 csrss.exe 的应用程序错误

> ID：14828925
> 
> 赞同：3
> 
> 时间：2013-02-12T09:05:42.687
> 
> 标签：delphi, debugging, application-error, csrss

我是旧版 Delphi 应用程序的维护者。在运行这个程序的机器上，`Application Error`有时会出现一个引用这个 Delphi 应用程序的标题和如下所示的消息：

> “...”处的指令引用了“...”处的内存。无法“读取”内存。
> 
> 单击确定以终止程序。

任务管理器说属于这个消息框的进程是**[csrss.exe](http://en.wikipedia.org/wiki/Client/Server_Runtime_Subsystem)**。找到此错误根本原因的*系统方法*是什么？

问题是，这个Delphi程序相当复杂，错误信息出现的也比较少，所以我不能简单地单步调试代码，找出导致错误的部分。此外，该应用程序自动运行，无需用户中断，因此当消息出现时我无法询问用户她在做什么。应用程序和系统日志不表示任何问题。出现消息框时，应用程序不会停止工作。

我希望有人以前遇到过这样的错误消息并且能够解决问题。提前谢谢你的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T09:32:55.290

[`csrss`](http://en.wikipedia.org/wiki/Client/Server_Runtime_Subsystem)支持 Windows 控制台。我希望您的应用程序以控制台子系统为目标。

如果您不能让您的应用程序在调试器下失败，那么您需要向它添加一些诊断。我建议使用 madExcept 或 EurekaLog 之类的工具来执行此操作。我个人使用 madExcept 并且不能高度推荐它。据我了解，EurekaLog 也是一款不错的产品。

将其中一个工具与您的应用程序集成，下次出现故障时，它将生成详细的诊断报告。最重要的是，您将获得进程中每个线程的堆栈跟踪。错误线程的堆栈跟踪有望引导您找到程序错误的根本原因。

我的疑问是，如果发生故障，`csrss`那么在您的过程中包括诊断可能不会产生结果。您的应用程序可能已经出现故障，这又导致`csrss`. 在这种情况下，您的应用程序中的诊断会有所帮助。如果不是，那么您可能需要找到一种方法来使您的过程中发生故障。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-12T11:48:02.637

除了 David 的建议之外，我还建议使用sysinternals 的[procdump](http://technet.microsoft.com/en-us/sysinternals/dd996900.aspx)来监视进程，并在发生未处理的异常时让它写入转储文件。

[您可以使用Windbg](http://msdn.microsoft.com/en-us/windows/hardware/gg463009.aspx)等离线分析转储文件。虽然一开始这似乎让人难以接受，但我坚信让自己跟上 Windbg 的速度会收获很多。

> **介绍**
> 
> ProcDump 是一个命令行实用程序，其主要目的是监视应用程序的 CPU 峰值并在峰值期间生成崩溃转储，管理员或开发人员可以使用这些转储来确定峰值的原因。ProcDump 还包括挂起的窗口监控（使用与 Windows 和任务管理器相同的窗口挂起定义）、未处理的异常监控，并且可以根据系统性能计数器的值生成转储。
> 
> **例子**
> 
> 启动一个进程，然后监视它是否有异常：
> 
> ```
>  C:\>procdump -e 1 -f "" -x c:\dumps consume.exe 
> ```

# teamcity - 如何将 JetBrains TeamCity 与 Atlassian Stash 集成

> ID：14828928
> 
> 赞同：6
> 
> 时间：2013-02-12T09:05:58.340
> 
> 标签：teamcity, bitbucket-server

Stash 2.1 带有一个[新的 REST API](https://developer.atlassian.com/static/rest/stash/latest/stash-build-integration-rest.html)，允许您告诉 Stash 与特定变更集相关的构建。如何让 Stash 知道我在 TeamCity 中的构建？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-04T23:34:06.263

您可以使用这个[TeamCity 插件](http://mendhak.github.com/teamcity-stash/)，该插件将构建状态发布到 REST API。

注：我是开发者

编辑：Jetbrains 也有一个做同样事情的插件，见这里：

[http://confluence.jetbrains.com/display/TW/Commit+Status+Publisher](http://confluence.jetbrains.com/display/TW/Commit+Status+Publisher)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-07-25T14:22:08.680

[JetBrains 现在有一个名为“ Commit Status Publisher](http://confluence.jetbrains.com/display/TW/Commit+Status+Publisher) ”的官方插件，可以将构建状态发送到 Atlassian Stash 或 Gerrit Code Review 工具。

[源代码在 GitHub 上](https://github.com/JetBrains/commit-status-publisher)。

**注意**：安装插件后，将名为“提交状态发布者”的构建功能添加到您的 TeamCity 构建中。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-12T09:05:58.340

在您的构建配置中，插入此 Powershell 脚本作为第一个构建步骤：

```
curl -v -H "Content-Type: application/json" -X POST -d '{ \"state\": \"INPROGRESS\", \"key\": \"%teamcity.build.id%\", \"name\": \"#%build.number%: %system.teamcity.buildConfName%; %system.teamcity.projectName%\", \"url\": \"http://TEAMCITY-HOSTNAME/viewLog.html?buildId=%teamcity.build.id%\", \"description\": \"Revision: %build.vcs.number%; Triggered by: %build.triggeredBy%\" }' http://USERNAME:PASSWORD@STASH-HOSTNAME/rest/build-status/1.0/commits/%build.vcs.number% 
```

这会让 Stash 知道某个变更集的构建已经开始。

作为最后一个构建步骤，插入此 Powershell 脚本并选择即使构建失败也执行它的选项：

```
$xml = [xml](curl --request GET http://USERNAME:PASSWORD@TEAMCITY-HOSTNAME/httpAuth/app/rest/builds/%teamcity.build.id%)
Microsoft.PowerShell.Utility\Select-Xml $xml -XPath "/build" | %% { $status = $_.Node.status }
switch ($status) {
 "SUCCESS" { $stashStatus = "SUCCESSFUL"; }
 default { $stashStatus = "FAILED"; }
}
$do = @'
curl -v -H "Content-Type: application/json" -X POST -d '{ \"state\": \"$stashStatus\", \"key\": \"%teamcity.build.id%\", \"name\": \"#%build.number%: %system.teamcity.buildConfName%; %system.teamcity.projectName%\", \"url\": \"http://TEAMCITY-HOSTNAME/viewLog.html?buildId=%teamcity.build.id%\", \"description\": \"Revision: %build.vcs.number%; Triggered by: %build.triggeredBy%\" }' http://USERNAME:PASSWORD@STASH-HOSTNAME/rest/build-status/1.0/commits/%build.vcs.number%
'@
$do = $do -Replace '\$stashStatus', "$stashStatus"
Invoke-Expression $do 
```

这将使 Stash 知道某个变更集的构建成功或失败。

# jquery - 使用 jquery 将 HTML 表转换为 ul li

> ID：14828929
> 
> 赞同：5
> 
> 时间：2013-02-12T09:05:59.283
> 
> 标签：jquery, html, html-lists, html-table

我想将`HTML`表格转换为`ul`和`li`元素。我的表结构是

```
<table>
    <tbody>
        <tr>
            <th>1974</th>
            <td>UK</td>
        </tr>
        <tr>
                <th>1976</th>
            <td>Street</td>
        </tr>
        <tr>
            <th>1976-2002</th>
            <td>visitors.</td>
        </tr>

    </tbody> 
 </table> 
```

我试图将其转换为

```
 <ul>
            <li>
                <p>1974</p>
                <p>UK</p>
            </li>
            <li>
                    <p>1976</p>
                <p>Street</p>
            </li>
            <li>
                <p>1976-2002</p>
                <p>visitors.</p>
            </li>

        </ul> 
```

使用`jquery` `replaceWith`如下功能。在这里，我首先要转换`<tbody>`元素。

```
$(document).ready(function() {
    $("tbody").each(function(){
    var html = $(this).html();
    $(this).replaceWith("<ul>" + html + "</ul>");
    });
)}; 
```

但这并没有给出任何肯定的答案。任何人都知道如何做到这一点。

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-12T09:20:31.680

我会这样做：

```
$(document).ready(function() {
    var ul = $("<ul>");
    $("table tr").each(function(){
        var li = $("<li>")
        $("th, td", this).each(function(){
            var p = $("<p>").html(this.innerHTML);
            li.append(p);
        });
        ul.append(li);
    })    
    $("table").replaceWith(ul);    
}); 
```

首先创建 UL，然后将表替换为 UL。

演示：http: [//jsfiddle.net/yXyCk/](http://jsfiddle.net/yXyCk/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-12T09:16:01.190

尝试

```
$('table').replaceWith( $('table').html()
   .replace(/<tbody/gi, "<ul id='table'")
   .replace(/<tr/gi, "<li")
   .replace(/<\/tr>/gi, "</li>")
   .replace(/<td/gi, "<p")
   .replace(/<\/td>/gi, "</p>")
   .replace(/<th/gi, "<p")
   .replace(/<\/th>/gi, "</p>")
   .replace(/<\/tbody/gi, "<\/ul")
);
```

上面的代码已经过测试并为我工作..
干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-28T18:44:58.107

这里其他答案的问题是，将表格转换为列表时，所有样式都会丢失。这是我用来完成它并保持表格外观的：

```
function convert_table_to_list($table) {
    var $list = $("<ul></ul>");
    $list.css("list-style-type", "none");
    $list.css("padding", 0);

    $table.find("tr").each(function() {
        var $li = $("<li></li>");

        $li.height($(this).height());
        $(this).find("td").each(function() {
            var $div = $("<div></div>");

            // Add inline and external styling
            var style = css($(this));
            $div.css(style);

            // Add some browser default styles
            $div.css("display", "table-cell");
            $div.html($(this).html());
            $div.width($(this).width());
            $div.height($(this).height());
            $div.css("vertical-align", $(this).css("vertical-align"));
            $div.css("padding", $(this).css("padding"));

            // Add class(es)
            $div.addClass($(this).attr("class"));

            // Append to li
            $li.append($div);
        });
        // Append li to ul
        $list.append($li);
    });

    $list.insertAfter($table);
    $table.remove();

    return $list;
}

// The following are taken from http://stackoverflow.com/questions/754607/can-jquery-get-all-css-styles-associated-with-an-element
function css(a) {
    var sheets = document.styleSheets, o = {};
    for (var i in sheets) {
        var rules = sheets[i].rules || sheets[i].cssRules;
        for (var r in rules) {
            if (a.is(rules[r].selectorText)) {
                o = $.extend(o, css2json(rules[r].style), css2json(a.attr('style')));
            }
        }
    }
    return o;
}
function css2json(css) {
    var s = {};
    if (!css) return s;
    if (css instanceof CSSStyleDeclaration) {
        for (var i in css) {
            if ((css[i]).toLowerCase) {
                s[(css[i]).toLowerCase()] = (css[css[i]]);
            }
        }
    } else if (typeof css == "string") {
        css = css.split("; ");
        for (var i in css) {
            var l = css[i].split(": ");
            s[l[0].toLowerCase()] = (l[1]);
        }
    }
    return s;
} 
```

在[JSFiddle上查看](http://jsfiddle.net/9xTa4/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T09:37:34.370

使用此代码

```
function convertToList(element) {
    var list = $("<ul/>");

    $(element).find("tr").each(function() {
        var p = $(this).children().map(function() {
            return "<p>" + $(this).html() + "</p>";
        });

        list.append("<li>" + $.makeArray(p).join("") + "</li>");
    });

    $(element).replaceWith(list);
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2016-12-29T06:31:23.273

> 将`<table>`结构菜单转换为`<UL>`使用 jQuery

如果为了更好的速度/性能，我使用了`for`循环`each`

```
 for(var i=0; i<$anchorTarget.length; i++){
            var $eachAnchor = $anchorTarget.eq(i);
            //get anchor markup from table
            var getAnchor = $eachAnchor.parent().html();
            //append anchor on created ul
            $("."+convertedMenuCls).append("<li>"+getAnchor+"</li>");
            //hide old icon - if you've icon as a image in old table markup
            $eachAnchor.parent().parent().find("img").hide();
            //Add new icon
            $eachAnchor.parent().parent().find("img").after("<span>+</span>");
        } 
```

**表结构**

[![在此处输入图像描述](../Images/a2db9befe128e3e7a866907fcf8e6e74.png)](https://i.stack.imgur.com/9aQ82.jpg)

**UL 结构** *转换后* [![在此处输入图像描述](../Images/720f2cac7653a9c0abbe74a7b2810a59.png)](https://i.stack.imgur.com/mJUUA.jpg)

这是工作代码： [Convert Table structure menu to UL using jQuery](http://jsfiddle.net/hidaytrahman/ejbner45/)

# jquery - 从外部文件调用 jquery 动画

> ID：14828931
> 
> 赞同：1
> 
> 时间：2013-02-12T09:06:02.680
> 
> 标签：jquery, mysql, animation, twitter, auto-update

我的情况如下。我想每隔几秒钟检查一次 mysql 数据库是否有新条目。如果有新条目，如果有新的数据库条目，我想调用一个动画来滑动。

为此，我试图结合我找到的两个很好的教程。

[http://www.aleixcortadellas.com/main/2009/02/15/automatically-query-mysql-and-output-results-with-ajax/](http://www.aleixcortadellas.com/main/2009/02/15/automatically-query-mysql-and-output-results-with-ajax/)（这个每五秒检查一次数据库）

[http://www.fiveminuteargument.com/blog/scrolling-list](http://www.fiveminuteargument.com/blog/scrolling-list)（这个动画不错）

数据库刷新工作正常（boo.php），但我在调用动画时遇到了麻烦，或者这只是一个逻辑问题。

我认为要调用动画，我需要从 boo.php 文件中回显出这样的内容：

echo "smoothAdd('u10', 'text');";

我寻找了一些自动更新的新贴纸或 twitter 风格的更新，但我找不到一个会自动检查数据库并且有某种动画的新更新。

index.php 的代码：

```
<body id="scrolling-list">

<div id="wrapper">
<script type="text/javascript"> refreshdiv(); </script>
<div id="timediv">
</div>

<script type="text/javascript">
var t = 0;

$(function() {
 var h = $('#u10').height();
 var lih = $('#u10 li:last').outerHeight();
 var mb = $('#u10 li:last').css('margin-bottom');
 mb = parseInt(mb.substr(0, mb.length - 2));

$('#btn6').click(function() {
  smoothAdd('u10', '<?php echo $team; ?>');
});
});

function smoothAdd(id, text)
{
$('#u10').css('overflow', 'hidden');

var h = $('#u10').height();

var ulPaddingTop = $('#u10').css('padding-top');
ulPaddingTop = ulPaddingTop.substr(0, ulPaddingTop.length - 2);

var ulPaddingBottom = $('#u10').css('padding-bottom');
ulPaddingBottom = ulPaddingBottom.substr(0, ulPaddingBottom.length - 2);

$('#u10').css('height', h);

$('#u10').prepend('<li>' + text + '</li>');

var heightDiff = $('#u10 li:first').outerHeight() - $('#u10 li:last').outerHeight();

var oldMarginTop = $('#u10 li:first').css('margin-top');

$('#u10 li:first').css('margin-top', 0 - $('#u10 li:first').outerHeight());

$('#u10 li:first').css('position', 'relative');
$('#u10 li:first').css('top', 0 - ulPaddingTop);

$('#u10 li:last').css('position', 'relative');

$('#u10').animate({height: h + heightDiff}, 1500)

$('#u10 li:first').animate({top: 0}, 250, function() {
    $('#u10 li:first').animate({marginTop: oldMarginTop}, 1000, function() {
        $('#u10 li:last').animate({top: ulPaddingBottom}, 250, function() {
            $('#u10 li:last').remove();
            $('#u10').css('height', 'auto');
            $('#u10').css('overflow', 'visible');
        });
    });
});
}
</script>

<ul id="u10" class="example">
<li>Item one</li>
<li>Item two</li>
</ul> 
```

* * *

ajax.js 的代码

```
var seconds = 5;
var divid = "timediv";
var url = "boo.php";

function refreshdiv(){

// The XMLHttpRequest object

var xmlHttp;
try{
xmlHttp=new XMLHttpRequest(); // Firefox, Opera 8.0+, Safari
}
catch (e){
try{
xmlHttp=new ActiveXObject("Msxml2.XMLHTTP"); // Internet Explorer
}
catch (e){
try{
xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
}
catch (e){
alert("Your browser does not support AJAX.");
return false;
}
}
}

// Timestamp for preventing IE caching the GET request

fetch_unix_timestamp = function()
{
return parseInt(new Date().getTime().toString().substring(0, 10))
}

var timestamp = fetch_unix_timestamp();
var nocacheurl = url+"?t="+timestamp;

// The code...

xmlHttp.onreadystatechange=function(){
if(xmlHttp.readyState==4){
document.getElementById(divid).innerHTML=xmlHttp.responseText;
setTimeout('refreshdiv()',seconds*1000);
}
}
xmlHttp.open("GET",nocacheurl,true);
xmlHttp.send(null);
}

// Start the refreshing process

var seconds;
window.onload = function startrefresh(){
setTimeout('refreshdiv()',seconds*1000);
} 
```

* * *

boo.php 的代码：

```
...
$query = "SELECT * FROM $tablename ORDER BY id DESC LIMIT 1";
$result = mysql_query($query);

// Return the results, loop through them and echo

echo "<ul class=\"scroller\">";

while($row = mysql_fetch_array($result, MYSQL_ASSOC))
{ ?>

<li><?php echo $row['team'] . " " . $row['action'];?></li>

<?php } 

echo "</ul>"; 
```

# c# - OleDB INSERT 命令错误

> ID：14828935
> 
> 赞同：8
> 
> 时间：2013-02-12T09:06:28.027
> 
> 标签：c#, sql, winforms, ms-access, oledb

我有一个数据库（我使用 MS ACCESS）我有这个插入代码，我可以读取数据但在写入时出错，我按照说明进行操作，但它在这里不起作用是我的代码

```
OleDbConnection con = new OleDbConnection(@" provider=Microsoft.ace.Oledb.12.0; data source=\\sisc-erelim\4_Printing\VTDB\DB\VirginiTEADB2.accdb; Persist Security Info=False");

private void button1_Click(object sender, EventArgs e)
        {
            try
            {
                OleDbCommand cmd = new OleDbCommand();
                cmd.CommandType = CommandType.Text;
                cmd.CommandText = "INSERT INTO Accountstbl (Username, Password)" + "VALUES ('" + textBox1.Text + "','" + textBox2.Text + "')";
                cmd.Parameters.AddWithValue("@Username", textBox1.Text);
                cmd.Parameters.AddWithValue("@Password", textBox2.Text);
                cmd.Connection = con;
                con.Open();
                cmd.ExecuteNonQuery();
            }
            catch (Exception ex)
            {
                textBox1.Text = ex.ToString();
            } 
```

我总是得到这个错误，

```
System.Data.OleDb.OleDbException: Syntax error in INSERT INTO statement.
   at System.Data.OleDb.OleDbCommand.ExecuteCommandTextErrorHandling(OleDbHResult hr)
   at System.Data.OleDb.OleDbCommand.ExecuteCommandTextForSingleResult(tagDBPARAMS dbParams, Object& executeResult)
   at System.Data.OleDb.OleDbCommand.ExecuteCommandText(Object& executeResult)
   at System.Data.OleDb.OleDbCommand.ExecuteCommand(CommandBehavior behavior, Object& executeResult)
   at System.Data.OleDb.OleDbCommand.ExecuteReaderInternal(CommandBehavior behavior, String method)
   at System.Data.OleDb.OleDbCommand.ExecuteNonQuery()
   at VirginiTEAcorp.Form3.button1_Click(Object sender, EventArgs e) in C:\Documents and Settings\12-014s\My Documents\applications\Database\WindowsFormsApplication1\Form3.cs:line 34 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T09:10:07.840

您定义`@Username`了`@Password`参数，但从未在 sql 命令中使用过。

怎么样？

```
cmd.CommandText = "INSERT INTO Accountstbl (Username, [Password]) VALUES (@Username, @Password)";
cmd.Parameters.AddWithValue("@Username", textBox1.Text);
cmd.Parameters.AddWithValue("@Password", textBox2.Text);
cmd.Connection = con;
con.Open();
cmd.ExecuteNonQuery(); 
```

你也应该`Password`在你的 sql 命令中使用方括号，`[Password]`因为它是[*`reserved keyword`*](http://allenbrowne.com/AppIssueBadWord.html)MS Access 中的一个。

如果你不这样做，这可能会导致类似的错误；

> 关键字“密码”附近的语法不正确

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:09:06.907

尝试改变这种方式

```
 cmd.CommandText = "INSERT INTO Accountstbl (Username, Password) VALUES (@Username,@Password)"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T09:09:16.940

插入语句中需要一个空格：

```
ssword)" + "VALUES ('" 
```

例如，在您的声明中，您已在没有空格的情况下进行了连接。

应该：

```
ssword)" + " VALUES ('" 
```

例如。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T01:50:56.647

你可以有这个：

```
cmd.CommandText = "INSERT INTO Accountstbl (Username, [Password]) VALUES (@Username,@Password)";
            cmd.Parameters.AddWithValue("@Username", textBox1.Text);
            cmd.Parameters.AddWithValue("@Password", textBox2.Text); 
```

我希望这会奏效。

开心点。

# iphone - 从 uinavigationbar 中删除子视图

> ID：14828938
> 
> 赞同：1
> 
> 时间：2013-02-12T09:06:38.250
> 
> 标签：iphone, ios, uinavigationcontroller, uiimageview, subviews

嗨要从 UINavigation 栏中删除子视图，我正在使用以下代码。我在导航栏中将标签、按钮和 imageVIew 作为子视图。

```
 for (UIView *view in self.navigationController.navigationBar.subviews) {

    [view removeFromSuperview];
} 
```

当我运行它时，它正在删除我添加为的导航栏的背景图像

```
 [self.navigationController.navigationBar setBackgroundImage:[UIImagem imageNamed:@"header-background"] forBarMetrics:UIBarMetricsDefault]; 
```

after removing subViews i am adding the background agin,But it is not adding.

Is there any way to remove only subViews of navigation bar without removing the background.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T09:11:49.917

一个快速的选项是向`tag`要删除的视图的属性添加一个值，并在删除子视图之前检查它，例如，假设您向子视图添加一个非零值：

```
for (UIView *view in self.navigationController.navigationBar.subviews) {
    if (view.tag != 0) {
        [view removeFromSuperview];
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:19:02.210

尝试这个，

```
for (UIView *view in self.navigationController.navigationBar.subviews) {

if([view isKindOfClass:[UIImageView class]])
{
  //change your bar image
 }
else
 {
[view removeFromSuperview];
 }
 } 
```

# db2 - 如何在数据库中创建专用于一张大表的缓冲池？

> ID：14828944
> 
> 赞同：0
> 
> 时间：2013-02-12T09:06:57.443
> 
> 标签：db2, buffer, tablespace

我在数据库 (DB2) 中有 400K 记录的表 TICKET。

我希望创建一个巨大的缓冲池，它只专用于这个大表，以便更快地响应。有哪些步骤来做到这一点？

目前我还有一个缓冲池，它用数据库中的所有表（大约 200 个）覆盖整个表空间！那么我在那个旧的第一个创建的缓冲池中的特定表会发生什么？该表应该留在第一个缓冲池中还是如何从该缓冲池中删除？这个动作也有风险？？？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:07:51.943

我认为这篇文章会对你有所帮助：http: [//www.ibm.com/developerworks/data/library/techarticle/0212wieser/index.html](http://www.ibm.com/developerworks/data/library/techarticle/0212wieser/index.html)

将大表移动到不同的缓冲池中可能会提高性能，但这取决于您的用例。文章的相关引用：

> 拥有多个缓冲池可以将数据保存在缓冲区中。例如，您可能有一个数据库，其中包含许多非常常用的小表，这些小表通常整个都在缓冲区中，以便可以非常快速地访问。您可能还有一个针对使用相同缓冲池的非常大的表运行的查询，并且涉及读取比总缓冲区大小更多的页面。当此查询运行时，小型、非常频繁使用的表中的页面会丢失，因此需要在再次需要时重新读取它们。如果小表有自己的缓冲池，那么它们就必须有自己的表空间，那么它们的页就不能被大查询覆盖。这可以带来更好的整体系统性能，尽管代价是对大型查询的负面影响很小。

如果您决定这样做，每个表空间只能有一个缓冲池，因此您需要将大表移动到它自己的表空间中。本文给出了创建表空间和缓冲池的示例。

可以使用 将表移动到另一个表空间[`ADMIN_MOVE_TABLE`](http://pic.dhe.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.sql.rtn.doc/doc/r0055069.html)。我不认为这是有风险的。它捕获在移动过程中可能对源表进行的更改。它唯一做的就是在移动过程中禁用源表上的一些（很少使用）操作。

[`CREATE TABLESPACE`](http://pic.dhe.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.sql.ref.doc/doc/r0000929.html)通过在or[`ALTER TABLESPACE`](http://pic.dhe.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.sql.ref.doc/doc/r0000890.html)语句中指定缓冲池，可以将缓冲池分配给表空间。

# python - Python，多次调用包含递归的函数导致“RuntimeError：超出最大递归深度”

> ID：14828945
> 
> 赞同：0
> 
> 时间：2013-02-12T09:06:58.420
> 
> 标签：python, runtime-error

我正在参加 Coursera 的在线课程“算法：设计与分析，第 1 部分”，并且刚刚完成了第二个作业。但是在我做的过程中，我无法解释一个由python运行时错误引起的现象。

我不应该分发解决方案代码......所以我只写一些摘录。

```
def quick_sort_count (arr, index, median=False):
     # SOME OPERATIONS
     ......
     # Termination
     if len(arr)==0 or len(arr)==1:
         return arr, 0
     ........
     arr[:i-1], t1 = quick_sort_count(arr[:i-1], index, median)
     arr[i:], t2 = quick_sort_count(arr[i:], index, median)
     return arr, len(arr)+t1+t2-1 
```

该程序应分析具有 10,000 个唯一编号的数据文件，并计算快速排序中有多少“比较”。该问题包含三个部分：使用第一个元素作为比较的枢轴；使用最后一个；并使用“中位数”。

奇怪的是，我可以通过单独运行任何一个问题来得到正确的答案。但我不能在一个函数中同时运行这三个函数，例如

```
def main():
    # READING THE FILE
    ......
    _,result1 = quick_sort_count(arr1, 0)
    _,result2 = quick_sort_count(arr2, -1)
    _,result3 = quick_sort_count(arr3, 0, True) 
```

如果我这样做了，那么将出现“RuntimeError：超出最大递归深度”。喜欢的东西

```
....
arr[:i-1], t1 = quick_sort_count(arr[:i-1], index, median)
  File "/Users/c/algorithm/quick_sort.py", line 43, in quick_sort_count
arr[:i-1], t1 = quick_sort_count(arr[:i-1], index, median)
  File "/Users/c/algorithm/quick_sort.py", line 43, in quick_sort_count
arr[:i-1], t1 = quick_sort_count(arr[:i-1], index, median)
  File "/Users/c/algorithm/quick_sort.py", line 43, in quick_sort_count
arr[:i-1], t1 = quick_sort_count(arr[:i-1], index, median)
  File "/Users/c/algorithm/quick_sort.py", line 43, in quick_sort_count
arr[:i-1], t1 = quick_sort_count(arr[:i-1], index, median)
  File "/Users/c/algorithm/quick_sort.py", line 33, in quick_sort_count
arr = swap(arr, index, 0)
RuntimeError: maximum recursion depth exceeded 
```

“swap”只是一个简单的操作，改变了arr[index]和arr[0]的位置，这是第二个问题的要求——“使用最后一个元素作为pivot元素并将其交换到之前的第一个元素排序”。

如果我通过进一步增加递归限制

```
import sys
sys.setrecursionlimit(100000) 
```

那么第 2 题和第 3 题就会有错误的答案。

有人能告诉我为什么会这样吗？非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:47:10.753

由于您还没有发布完整的代码，这里有一些关于如何克服 python 递归限制的一般建议。

通用递归函数具有以下结构：

```
def foo:
    if termination-condition
        return value
    else
        new-value = some-calculations
        return foo(new-value) 
```

第一步是让你的函数尾递归，即消除`else`分支中的计算，并带入表格

```
def foo:
    if termination-condition
        return value
    else
        return foo(some-calculations) 
```

在支持尾递归优化的语言中就足够了，在 python 中你必须更进一步。与其立即进行递归调用`return foo(...)`，不如返回一个“thunk”，它基本上是对您打算做什么的描述或承诺。在 python 中，thunk 可以写成匿名`lambda`函数：

```
def foo:
    if termination-condition
        return value
    else
        return lambda: foo(some-calculations) 
```

当然，您将需要另一个中间函数来使用从返回的值`foo`，如果给出 thunk，则执行它直到返回终端（非函数）值：

```
def foo-interface:
    # get a thunk or a terminal
    t = foo()  
    # while it's a thunk...
    while callable(t):
        t = t() # ...carry it out
    # return the terminal
    return t 
```

## 例子

让我们有以下简单的阶乘实现，它在大参数上失败：

```
def fac(n):
    return 1 if n < 2 else n * fac(n - 1)

> fac(3000)
> RuntimeError: maximum recursion depth exceeded 
```

将其转换为尾递归...

```
def f(n, acc=1):
    return acc if n < 2 else f(n - 1, acc * n) 
```

...应用 thunk 转换...

```
def f(n, acc):
    return acc if n < 2 else lambda: f(n - 1, acc * n) 
```

...并将其包装在接口函数（消费者）中...

```
def fac(n):

    def f(n, acc):
        return acc if n < 2 else lambda: f(n - 1, acc * n)

    t = f(n, 1)
    while callable(t):
        t = t()
    return t 
```

有用！

```
> fac(3000)
> 41493596034.... 
```

这种技术被称为“蹦床”。不知道这对您的特定情况是否有帮助（因此是 CW），但我想这是值得了解的事情（并且偶然给您的教授留下深刻印象））。

## 装饰器

这种尾递归可以写成装饰器。[这里](http://web.mit.edu/kmill/www/programming/tailcall.html)`lambda`给出了一个使用类而不是很好的解释。

# idl-programming-language - 在idl中加扰一个数组

> ID：14828950
> 
> 赞同：0
> 
> 时间：2013-02-12T09:07:09.737
> 
> 标签：idl-programming-language, scramble

我想知道 idl 中是否有一个模块可以用来打乱浮点数数组。我尝试使用 scramble.pro 但问题是它返回整数，如果我尝试使用 float 它不会返回我输入的确切数字，例如：

```
array = [2.3, 4.5, 5.7,8.9]
scr_array = scramble(array)
print, scr_array

output:

4 2 8 5 
```

如果我使用浮动：

```
print, float(scr_array) 
```

输出是：

```
4.0000 2.0000 8.0000 5.0000 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T20:49:19.660

尝试使用[此](https://github.com/mgalloy/mglib/blob/master/src/analysis/mg_sample.pro)采样例程，但要求所有元素：

```
IDL> array = [2.3, 4.5, 5.7,8.9]
IDL> scramble_indices = mg_sample(4, 4)
IDL> print, scramble_indices
           1           3           0           2
IDL> print, array[scramble_indices]
      4.50000      8.90000      2.30000      5.70000 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T02:42:37.050

scramble.pro 假设输入是一个整数数组，所以它总是给出一个整数数组作为它的输出。但是，您可以使用它来生成索引的随机排序并将它们反馈到您的原始数组中（就像 mgalloy 对 mg_sample 所做的那样）：

```
IDL> array = [2.3, 4.5, 5.7,8.9]
IDL> scr_array = array[scramble(n_elements(array))]
IDL> print, scr_array
      8.90000      2.30000      5.70000      4.50000 
```

在这里，`scramble`给定一个整数值，因此它创建所需的随机索引。仅对于 vanilla IDL，我经常结合使用`randomu`and`sort`函数来获得相同的效果：

```
IDL> array = [2.3, 4.5, 5.7,8.9]                  
IDL> indices = sort(randomu(seed, n_elements(array)))
IDL> scr_array = array[indices]                      
IDL> print, indices                                  
           3           2           0           1
IDL> print, scr_array                                
      8.90000      5.70000      2.30000      4.50000 
```

在这里，我们`randomu`用来生成一组具有与 相同数量的元素的随机数`array`，并`sort`为我们提供将随机数组按顺序排列的索引。它们一起为您提供了随机排序的索引。当然，您也可以将其放在一行中：

```
IDL> array = [2.3, 4.5, 5.7,8.9]                     
IDL> scr_array = array[sort(randomu(seed, n_elements(array)))]
IDL> print, scr_array
      5.70000      2.30000      8.90000      4.50000 
```

# tfs - 如果您已关闭添加框，如何在 TFS 中将项目添加到产品积压

> ID：14828951
> 
> 赞同：3
> 
> 时间：2013-02-12T09:07:15.113
> 
> 标签：tfs

好的，你现在可以笑了，但说真的，我找不到如何找回“添加项目”框。

是的，这里的框，然后你点击添加： ![在此处输入图像描述](../Images/ef1341d6b8f20f43c73863e56936def0.png)

我关闭了它，并且无法将其恢复，有什么想法吗？我敢你关闭你的！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-12T20:47:24.987

在照片的右上角，在速度图下方，有一个标签，上面写着**add items**。单击它，该框应该会重新出现。

# .net - 使用 Microsoft Media Foundation 从文件播放视频

> ID：14828952
> 
> 赞同：0
> 
> 时间：2013-02-12T09:07:21.567
> 
> 标签：.net, ms-media-foundation

我正在尝试使用 Windows Media Foundation 播放一个简单的视频。

不幸的是，关于如何做到这一点的文档似乎很少。

实际上我正在使用sharpDX绑定来完成这个。但我也会对 C++ 示例感到高兴。

这是我到目前为止尝试遵循本教程的内容 [http://msdn.microsoft.com/en-us/library/windows/desktop/ms703190(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms703190(v=vs.85).aspx)

```
 MediaManager.Startup();

        MediaSession mediaSession;
        MediaFactory.CreateMediaSession(null, out mediaSession);

        SourceResolver sourceResolver;
        MediaFactory.CreateSourceResolver(out sourceResolver);

        ComObject comObject;
        ObjectType objectType;
        sourceResolver.CreateObjectFromURL("Jack.mp4", (int) SourceResolverFlags.None, null, out objectType, out comObject);

        Topology topology;
        MediaFactory.CreateTopology(out topology); 
```

这运行没有错误，但我还没有想出如何将它链接到窗口或纹理，以便我可以真正看到视频。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:13:57.793

Windows SDK 有许多[媒体基础示例](http://msdn.microsoft.com/en-us/library/windows/desktop/aa371827%28v=vs.85%29.aspx)(C++)，位于：

*   \Samples\multimedia\mediafoundation

例如，[MFPlayer2 Sample](http://msdn.microsoft.com/en-us/library/windows/desktop/dd798738%28v=vs.85%29.aspx)创建将其链接到视频窗口的播放器：

```
HRESULT MFPlayer2::Initialize(HWND hwndVideo)
{
   HRESULT hr = S_OK;

    SafeRelease(&m_pPlayer);

    hr = MFPCreateMediaPlayer(
        NULL,
        FALSE,          // Start playback automatically?
        0,              // Flags
        this,           // Callback pointer   
        hwndVideo,      // Video window
        &m_pPlayer
        ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-12-26T15:01:24.747

如果您可以放弃对 Windows 7 的支持，请使用 IMFMediaEngine 而不是会话。

[API 文档](https://docs.microsoft.com/en-us/windows/desktop/api/mfmediaengine/nn-mfmediaengine-imfmediaengine)，[示例代码](https://code.msdn.microsoft.com/windowsapps/media-engine-playback-ce1c82f0)。

不要忘记将 D3D11_CREATE_DEVICE_VIDEO_SUPPORT[标志](https://docs.microsoft.com/en-us/windows/desktop/api/d3d11/ne-d3d11-d3d11_create_device_flag)添加到您的 D3D 设备，创建[IMFDXGIDeviceManager并将管理器传递给](https://docs.microsoft.com/en-us/windows/desktop/api/mfobjects/nn-mfobjects-imfdxgidevicemanager)[MF_MEDIA_ENGINE_DXGI_MANAGER](https://docs.microsoft.com/en-us/windows/desktop/medfound/mf-media-engine-dxgi-manager)属性中的引擎。

# javascript - 无法连接时重定向网页

> ID：14828953
> 
> 赞同：0
> 
> 时间：2013-02-12T09:07:24.837
> 
> 标签：javascript, jquery, asp.net

我有一个基于网络的小型数字标牌系统。Internet 浏览器循环显示一系列页面。这决*不能*崩溃，即使目标页面失败，或者互联网连接失败。

我需要在浏览器中检测到这一点并暂时进入某种循环，直到目标页面启动，同时显示在浏览器中本地生成的默认“徽标”页面，以便浏览器可以：

1.  恢复互联网连接丢失（如何检测到这一点）
2.  服务器端错误
3.  连接建立时快速恢复（如何执行此操作）
4.  显示客户端生成的“错误”页面

是否有一种巧妙的方法可以在 JavaScript 中完成所有这些操作，或者还有其他解决方案吗？（我认为如果没有可用的互联网连接，那么服务器端脚本是无关紧要的，除了服务器端错误）

该系统是使用 ASP.NET MVC 制作的

# iphone - 在 iPhone 后台使用 http 请求下载文件（iOS 4.0 以上）

> ID：14828955
> 
> 赞同：0
> 
> 时间：2013-02-12T09:07:27.730
> 
> 标签：iphone, ios, ios4, nsurlconnection, nsurlrequest

我是 iOS 新手。我想知道我的应用程序的一些基本需求是否可能？“当我的应用程序启动时（点击我的应用程序图标），应用程序应该从服务器下载大约 5-10 个文件。如果按下“主页”按钮，它也应该在后台继续下载。我的应用程序有重试逻辑，即如果服务器是无法访问并发生请求超时，然后应用程序将等待一段时间并一次又一次地发送请求，直到下载完成。” 可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:17:57.617

所以你应该做的是在应用程序委托didFinishLaunchingWithOptions：中，你要求它发出一个nsurlrequest（或来自开源框架的类似东西）。此外，自己编写重试逻辑并不难。一种常见的方法是指数退避，这意味着您等待 2、4、8、16 等毫秒，然后在某个时间点，如果看起来服务器确实关闭了一段时间（如果您达到某个退避，停止尝试）。

当应用程序进入后台时处理它，这也在应用程序委托中。

# javascript - CSS3 列 屏蔽特定列

> ID：14828960
> 
> 赞同：4
> 
> 时间：2013-02-12T09:07:37.037
> 
> 标签：javascript, jquery, css

我有一个使用 CSS3 分为三列的 div

```
.div {column-count: 3;} 
```

这个 div 包含一个填充部分列的文本字符串。

谁能想到一种方法来阻止这些列中的一个或多个？

例如，第一列被阻止，文本从第二列的顶部开始。

div 的高度是未知的并且会发生变化。

div 也是 contenteditable。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T10:49:52.070

您可以使用蓝图 CSS。它是一个框架，可用于轻松创建复杂的多列布局。

[http://www.blueprintcss.org/](http://www.blueprintcss.org/)

此链接可以帮助您入门：[http ://www.cssbakery.com/2012/06/using-blueprint-css-framework.html](http://www.cssbakery.com/2012/06/using-blueprint-css-framework.html)

此外，列数仅适用于歌剧。Firefox 支持 -moz-column-count，而 Chrome 和 Safari 支持 -webkit-column-count。

神速。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T22:14:41.257

我最终这样做的方式是，如果我想阻止左列，我将应用`padding-left`等于一列的宽度，取下`width`等于一列的宽度并更改`column-count`为 2。

如果我想阻止中间列，我将更`column-count`改为 2 并将`column-gap`等于一列的宽度加上现有的列间隙。

# sql-server - SQL Server 获取最大 mdf 文件大小

> ID：14828964
> 
> 赞同：1
> 
> 时间：2013-02-12T09:07:58.660
> 
> 标签：sql-server

我在 sql server 中有一个增长限制，我使用以下语句为我的数据库设置：

```
ALTER DATABASE [" + databaseName + "] 
MODIFY FILE (NAME=dataFile,MAXSIZE = " + newSize + "MB)"; 
```

如何获取我为文件设置的大小？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T09:23:26.920

像这样的东西？

```
select db.name as [db_name], mf.name, mf.max_size
from sys.master_files mf
JOIN sys.databases db ON mf.database_id = db.database_id
order by db.name 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:18:59.500

在网上找到了以下存储过程（[查找几乎空间不足的SQL Server数据和日志文件](http://www.mssqltips.com/sqlservertip/2359/find-sql-server-data-and-log-files-that-are-almost-out-of-space/)）。

运行它`EXEC usp_get_db_files_near_maxsize <somepercentage>`以查找所有数据库文件，包括数据和日志，这些`<somepercentage>`文件仅适用于您设置了最大大小的文件。

```
CREATE PROCEDURE dbo.usp_get_db_files_near_maxsize (@nearMaxSizePct DECIMAL (5,1) = 10.0)
AS
BEGIN
SET NOCOUNT ON

CREATE TABLE ##ALL_DB_Files (
dbname SYSNAME,
fileid smallint,
groupid smallint,
[size] INT NOT NULL,
[maxsize] INT NOT NULL,
growth INT NOT NULL,
status INT,
perf INT,
[name] SYSNAME NOT NULL,
[filename] NVARCHAR(260) NOT NULL)

-- loop over all databases and collect the information from sysfiles
-- to the ALL_DB_Files tables using the sp_MsForEachDB system procedure
EXEC sp_MsForEachDB
@command1='use [$];Insert into ##ALL_DB_Files select db_name(), * from sysfiles',
@replacechar = '$'

-- output the results
SELECT
[dbname] AS DatabaseName,
[name] AS dbFileLogicalName,
[filename] AS dbFilePhysicalFilePath,
ROUND(size * CONVERT(FLOAT,8) / 1024,0) AS ActualSizeMB,
ROUND(maxsize * CONVERT(FLOAT,8) / 1024,0) AS MaxRestrictedSizeMB,
ROUND(maxsize * CONVERT(FLOAT,8) / 1024,0) - ROUND(size * CONVERT(FLOAT,8) / 1024,0) AS SpaceLeftMB
FROM ##ALL_DB_Files
WHERE maxsize > -1 AND -- skip db files that have no max size
([maxsize] - [size]) * 1.0 < 0.01 * @nearMaxSizePct * [maxsize] -- find db files within percentage
ORDER BY 6

DROP TABLE ##ALL_DB_Files

SET NOCOUNT OFF
END
GO 
```

# javascript - 使用 JavaScript 隐藏 H1 元素

> ID：14828965
> 
> 赞同：7
> 
> 时间：2013-02-12T09:08:08.670
> 
> 标签：javascript

我想`<h1>`使用普通的 javascript 隐藏元素，而不是 jQuery，而不添加`id="whatever"`或`class="whatever"`标记。这可能吗？

为什么我不能将 id="whatever" 添加到标签中？
*我在 xCode 中使用 UIButton，当单击它时，它将 javascript 注入 UIWebView。在那个 UIWebView 里面是一个 H1 元素，它位于我无权添加的网站上`<h1 id="whatever">`。我希望这是有道理的。*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T09:11:20.453

```
document.getElementsByTagName('h1')[0].style.display = 'none'; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-12T09:11:49.403

用于[`getElementsByTagName`](https://developer.mozilla.org/en-US/docs/DOM/element.getElementsByTagName)隐藏`h1`页面上的第一个：

```
document.getElementsByTagName("h1")[0].style.display = "none";
//                                  ^ index 0, so that's the first `h` that's found. 
```

或者将它们全部隐藏：

```
var headers = document.getElementsByTagName("h1");
for (var i = 0, l = headers.length; i < l; i++; ) {
    headers[i].style.display = "none";
} 
```

或者更好的是，如果您可以修改 CSS：

```
h1{
    display:none;
} 
```

对于 JavaScript 解决方案，请记住它们仅在 DOM 加载后才能工作。

添加`domready`事件侦听器，如下所示：

```
window.addEvent('domready', function() {
    // modify your DOM here.
}); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-12T09:11:51.160

您可以使用`getElementsByTagName`方法：

```
var h = context.getElementsByTagName('h1');
for (var i = h.length; i--; ) {
    h[i].style.display = 'none';
} 
```

您要在其中搜索标头的`context`位置或更具体的父节点在哪里。`document`

但是有更好的解决方案。您可以将特定类添加到某些父节点并使用 CSS 隐藏子标题：

```
.without-headers h1 {display: none;} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-12T09:11:23.380

你可以使用[getElementsByTagName](http://www.w3schools.com/jsref/met_doc_getelementsbytagname.asp)

```
document.getElementsByTagName("h1") 
```

但它会访问所有`h1`元素，所以更具体地说，`index`像这样访问它

```
document.getElementsByTagName("h1")[0].style.display = "none"; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-12T09:22:30.810

dfsq 代码的小改动

```
var h = document.getElementsByTagName('h1');

for (var i =0; i<h.length; i++) {
     document.getElementsByTagName('h1').item(i).style.display = 'none';
    } 
```

# c - 制作通用程序 - 构建执行图（树）并在ansi C引擎中执行它？

> ID：14828967
> 
> 赞同：2
> 
> 时间：2013-02-12T09:08:25.193
> 
> 标签：c, abstract-syntax-tree

我正在尝试实现像硬件这样的 PLC，它可以用某种通用编程语言（可以是 ANSI C 开始）进行编程。

我想分几个步骤对硬件进行编程：

*   在 txt 文件中编写通用程序（可以是 ANSI C 的子集）
*   解析该 txt 文件并构建某种执行图以发送到嵌入式硬件上的 ansi c 引擎
*   拥有可以一遍又一遍地执行“执行图”的ansi c引擎......

我在这里找到了非常相似和有趣的项目：http: [//collaboration.cmc.ec.gc.ca/science/rpn/biblio/ddj/Website/articles/DDJ/1989/8908/8908d/8908d.htm](http://collaboration.cmc.ec.gc.ca/science/rpn/biblio/ddj/Website/articles/DDJ/1989/8908/8908d/8908d.htm)

但这是解释器并将程序解析为每个步骤的文本，并且变得非常慢并且不适合空间。我想在这个故事中改变的是在执行结构（AST？）中解析 C 程序一次，然后在嵌入式硬件上使用 ansi c 引擎执行它。

我很确定类似的事情已经完成并分享了。请帮助我的起点，建议或任何其他意见...

提前致谢，

问候，

布莱克。

# hook - 使用 Liferay Hook 加载数据（页面、网页内容、结构...）

> ID：14828972
> 
> 赞同：0
> 
> 时间：2013-02-12T09:08:38.717
> 
> 标签：hook, liferay

我在 Liferay 5.2.3 中工作，我需要加载数据（创建页面，在某些页面中添加 portlet，创建一些结构，在结构中添加 web 内容..）。

我听说这样做的一种方法是使用钩子来部署这个脚本（用户liferay api加载数据的java类），但我认为不能以这种方式使用钩子项目liferay，数据应该加载一个时间并不总是，加载数据不会修改行为生命线，只是加载数据......

您认为在这种情况下使用 Hook 是一个好方法吗？或者我应该使用普通项目 java 来加载我将通过可执行文件启动的数据。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T10:58:30.790

看看 Sevencogs-hook 代码：这完全符合您的要求（并且整齐地记录了 API 的使用）

但要小心：在 5.2.3 中，它会检查数据库中是否存在“Bruno”（sevencogs 管理员）——如果他不存在，它将清除内容并用 Sevencogs 数据填充它。更高版本使用更安全的升级操作，例如只运行一次。

而且 - 你真的想升级到最新版本：5.2.3 是古老的

# events - 在 Backbonejs 的主视图中未触发单击事件

> ID：14828978
> 
> 赞同：2
> 
> 时间：2013-02-12T09:09:11.183
> 
> 标签：events, button, backbone.js, click

我有一个非常奇怪的问题。我正在尝试实现“根”视图，它也可以作为一些命名空间结构。codeschool.com 课程第二部分介绍了相同的原则。在这个根视图中，我想捕捉事件“单击按钮”，但这就是问题所在。当我单击按钮时，什么也没发生。

```
window.App = new (Backbone.View.extend({
  el: $("#app"),
  Collections: {},
  Models: {},
  Views: {},
  Routers: {},
  events: {
    'click button' : function(e) {
      alert("Thank god!");
    }
  },
  render: function(){
    //for test purposes
    console.log($("#app").find("button"));
    console.log(this.$el.find('button'));
  },
  start: function(){
    this.render();
    new App.Routers.PostsRouter();
    Backbone.history.start({pushState: true});
  }
}))();

$(document).ready(function() { App.start() }); 
```

HTML 看起来像这样

```
<body>
    <div id="app">
        <div id="posts"></div>

        <button>Click me</button>
    </div>
</body> 
```

真正奇怪的是console.log 在渲染函数中的输出。两个选择器都是一样的，甚至上下文也是一样的，那么问题出在哪里呢？

```
console.log($("#app").find("button")); //this returns correct button
console.log(this.$el.find('button')); //this returns 0 occurences (WTF?) 
```

**编辑**：在稍有改变后`el: "#app"`，仍然是同样的问题。问题是（感谢@nemesv）在加载 DOM 之前实例化此类。但是，在加载 DOM 后无法实例化，因为这样就无法使用该命名空间结构（例如 App.Model.Post = Backbone.Model.extend() ）。但是在 codeschool.com 课程中引入了这种“具有命名空间结构的主视图”作为某种良好实践。可以在那里找到解决方案[http://jsfiddle.net/BckAe](http://jsfiddle.net/BckAe/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T09:30:09.453

您已将您指定`el`为 jquery 选择器，但由于您位于对象文字内，因此在加载 DOM 之前它会立即评估。

所以`el: $("#app"),`不会选择任何东西。

您可以通过使用可以将其初始化`el`为包含选择器的字符串的主干功能之一来解决此问题。

因此，将您的`el`声明更改为：

```
el: "#app" 
```

您的点击事件不会被触发，因为您在加载 DOM 之前实例化了您的视图，因此主干无法为您执行事件委托。

因此，您需要将视图声明和创建分为两个步骤。并且仅在加载 DOM 时实例化您的视图：

```
var AppView = Backbone.View.extend({
   el: "#app",  
   //...
});

$(document).ready(function() 
{ 
    window.App = new AppView();
    App.start() 
}); 
```

演示：[JSFiddle](http://jsfiddle.net/45dhY)。

# jbpm - JBPM 中的 MarshalledContentWrapper 错误

> ID：14828982
> 
> 赞同：2
> 
> 时间：2013-02-12T09:09:19.360
> 
> 标签：jbpm

实际上我正在尝试此链接上的示例 [https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables](https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables)

现在，当它在到达 HUMAN TASK 时调用 ftl 文件时，它会在 jsp 页面上显示这个

```
Model Number: MarshalledContentWrapper{content=B@1e0d7c5,
marshaller=org.drools.marshalling.impl.SerializablePlaceholderResolverStrategy,
type=class java.lang.String} 
Quantity: MarshalledContentWrapper{content=[B@75ffe5,
marshaller=org.drools.marshalling.impl.SerializablePlaceholderResolverStrategy,         
type=class java.lang.String}
Priority: MarshalledContentWrapper{content=[B@f31cdb,
marshaller=org.drools.marshalling.impl.SerializablePlaceholderResolverStrategy, 
type=class java.lang.String} 
```

然后是文本框和提交按钮。

当我点击提交

我在我的控制台上得到这个输出。

```
Human Task Started....
Exception in thread "Thread-2" java.lang.ClassCastException: java.lang.String cannot be cast to org.jbpm.task.utils.MarshalledContentWrapper
          at org.jbpm.task.utils.ContentMarshallerHelper.unmarshall(ContentMarshallerHelper.java:157)
          at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler$TaskCompletedHandler.handleCompletedTask(GenericHTWorkItemHandler.java:208)
          at org.jbpm.process.workitem.wsht.GenericHTWorkItemHandler$TaskCompletedHandler$1.run(GenericHTWorkItemHandler.java:187)
          at java.lang.Thread.run(Thread.java:679) 
```

如何解决这个问题有没有人对此有想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T12:50:01.657

我在我的 BPMN 文件的脚本任务中编写了以下代码

```
map = new java.util.HashMap();

map.put("priority","High");
map.put("modelNumber","1234");
map.put("quantity","225");

kcontext.setVariable("map", map); 
```

我正在从这个链接做人工任务的例子

[https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables](https://community.jboss.org/people/bpmn2user/blog/2011/02/21/jbpm5-example-for-forms-with-variables)

# objective-c - nextKeyView 不工作

> ID：14828984
> 
> 赞同：2
> 
> 时间：2013-02-12T09:09:19.700
> 
> 标签：objective-c, cocoa, nstableview, nstextfield, nsresponder

我开发了一个应用程序，它有一个表格视图和 4 个文本字段。

当我运行该应用程序时，通过提供 TAB，控件不会按顺序运行。为此，我设置`initialResponder`为 tableView，然后将 tableview 的 nextKeyView 连接到 textfield，相应地我为其余字段提供了连接。但控制仍然没有有序进行。

问题是什么？我错过了什么吗？还是有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-06T02:51:40.423

您是否将“系统偏好设置”>“键盘”>“快捷方式”>“全键盘访问”设置为“所有控件”？如果它设置为“仅文本框和列表”，则选项卡可能不会在控件之间移动焦点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-26T22:45:23.893

确保窗口的**确保在检查器中未选中**Auto Recalculates View Loop 。****

 **然后使用 ctrl+F7 来切换 tab 键在系统范围内的工作方式。一种模式选项卡从文本字段到文本字段，其他选项卡到所有控件。**

# python - CPython 和 IronPython 的功能差异

> ID：14828985
> 
> 赞同：1
> 
> 时间：2013-02-12T09:09:23.683
> 
> 标签：python, .net, clr, ironpython

因此，据我了解，IronPython 被编译为字节码，字节码通过.net CLR 编译为机器码，而 CPython 被编译为字节码并使用 PVM 进行解释。这是真的？CLR 到底是什么？它也是虚拟机吗？这是否意味着 Iron Python 更快？我希望有人可以向我解释这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T09:57:15.503

IronPython 编译为 Microsoft 中间语言 (MSIL)，类似于 CPython 生成和解释的字节码。公共语言运行时 (CLR) 是执行 MSIL 的虚拟机。它有一个即时 (JIT) 编译器，可将 MSIL 转换为本机代码。

CPython 没有 JIT。[IronPython wiki](http://wiki.python.org/moin/IronPython)对性能有这样的说法：

> 性能与 CPython 相当——在某些方面要快得多（它可以利用底层平台中的 JIT 编译器），但在其他方面则较慢（特别是在优化方面已经完成了大量工作的内置容器类型） CPython 类型）。

# c++ - c ++，尾随逗号如何不是错误，会发生什么？富 x, y,;

> ID：14828986
> 
> 赞同：3
> 
> 时间：2013-02-12T09:09:30.703
> 
> 标签：c++, syntax, undefined-behavior

有人向我指出，我在某些 c++ 代码中出现了一个错字：

```
protected:
    Foo  x, y,; 
```

我会认为结尾的逗号会是一个错误，但显然不是吗？这是未定义的，还是发生了什么？大概是坏事，因为代码检查程序抱怨它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-12T09:16:40.603

相关的语法产生在 §9.2 中：

```
member-declarator-list:
  member-declarator
  member-declarator-list , member-declarator 
```

逗号只允许分隔声明符（名称）。*member-declarator*本身可能不包含逗号。

**编辑：**这里是*成员声明器*……它不是完全独立的，声明器的语法通常是蜘蛛网。

```
member-declarator:
  declarator virt-specifier-seq(opt) pure-specifier(opt)
  declarator brace-or-equal-initializer(opt)
  identifier(opt) attribute-specifier-seq(opt) : constant-expression 
```

不正确的语法不是未定义的行为；允许放错逗号的编译器有一个错误。拒绝这种事情是标准的要求。

请注意，枚举定义和大括号初始化器中允许使用尾随逗号。我认为这两种情况都是由 C++11 添加的，以简化编写源代码生成器。（最常得到这项工作的预处理器即使有如此简单的要求也很难。）通常，简单的生成器可能会避免创建具有多个名称的声明，因为由于语法复杂，它是一罐蠕虫。另一方面，`;`允许使用由 组成的空声明，如成员函数定义后的分号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:23:02.473

我的观察

GCC 4.6.2：

```
void myFunc()
{
  int x, y, ; // <-- Syntax error
} 
```

但

```
class MyClass
{
  int x, y,; // <-- No error (one extra comma) but last comma is ignored
}; 
```

MSVC 2008：

> 他们都犯了错误

OpenWatcom 1.8：

> 他们都犯了错误

# javascript - javascript mouseover/out 结合点击行为

> ID：14828995
> 
> 赞同：3
> 
> 时间：2013-02-12T09:10:11.973
> 
> 标签：javascript, jquery, html, css

我是编程新手，请多多包涵。下面是我的代码：

```
$(function(){
document.getElementById("custom_link").addEventListener("mouseover",function(){
document.getElementById("siteContent").contentDocument.getElementById("custom_div").classList.toggle('highlightDiv');
},false)})

$(function(){
    document.getElementById("custom_link").addEventListener("click",function(){
    document.getElementById("siteContent").contentDocument.getElementById("custom_div").classList.add('highlightDiv');
    },false)}) 
```

我想做的是：

1.  当用户**将鼠标悬停**在“custom_link”上时，“custom_div”被突出显示。
2.  当用户**将鼠标移出**“custom_link”时，“custom_div”处的突出显示将被消除。
3.  当用户**点击**“custom_link”时，“custom_div”再次被突出显示。但是，当用户将鼠标移出时，'highlightDiv' 仍然被添加到“custom_div”中。

根据我的代码，它不能正常工作，因为悬停时的行为很奇怪。如果您能用完整的代码结构或 jsfiddle 示例向我解释一下，那就太好了。感谢您的提前帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T09:16:16.867

您正在将 Javascript 与其框架 jQuery 混合。为此坚持使用 jQuery。

```
// CSS: Create the highlight accessible with two classnames.

.highlight, .highlight_stay{
    background:yellow;
} 
```

jQuery

```
$(function(){
     $('.custom_link').hover(function(){
          $(this).addClass('highlight');
      }, function(){
          $(this).removeClass('highlight');
      });

      $('.custom_link').click(function(){
           $(this).addClass('highlight_stay');
      });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T09:25:08.047

[http://jsfiddle.net/ETrjA/2/](http://jsfiddle.net/ETrjA/2/)

```
$('#custom_link').hover(function () {
    $('#custom_div').toggleClass('highlighted'); 
});

$('#custom_link').click(function (e) {
   $('#custom_div').addClass('highlighted');
   $(e.currentTarget).unbind('mouseenter mouseleave');
}); 
```

您只需要一个类，您可以通过在事件回调`highlighted`中直接访问链接元素。`click``e.currentTarget`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T10:03:03.807

这是一个链接[http://jsfiddle.net/8GV7B/2/](http://jsfiddle.net/8GV7B/2/)

```
 $(function(){
        mouse_is_clicked = false;
         $(".custom_link").hover(function(){ 
            $("#container").addClass("highlight");
        }, function(){ 
            if(!mouse_is_clicked){ 
                $("#container").removeClass("highlight");
            }else{
                mouse_is_clicked = false;
            }
        });

          $(".custom_link").click(function(){
               $("#container").addClass("highlight");
              mouse_is_clicked = true;
          });
    }); 
```

# android - 如何显示同步失败消息

> ID：14828998
> 
> 赞同：3
> 
> 时间：2013-02-12T09:10:30.853
> 
> 标签：android, sync, android-contacts, contactscontract, android-syncadapter

我已经建立了一个联系人同步适配器。一切正常，但我还需要一件事。如果由于某种原因同步未成功完成，我想在同步失败时显示一条消息，例如 Google 帐户正在显示

![截屏](../Images/9b2e17471e79800aa17fdfa9aa9915f2.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T10:07:46.167

解决方案是设置同步结果的延迟。在此延迟之后，同步将重新启动。

```
try {
    DO THE SYNCHRONIZATION
} catch (AuthenticationException e) {
    Log.e(TAG, "AuthenticationException");
    syncResult.stats.numAuthExceptions++;
    syncResult.delayUntil = 180;
} catch (ParseException e) {
    Log.e(TAG, "ParseException");
    syncResult.stats.numParseExceptions++;
} catch (IOException e) {
    Log.e(TAG, "IOException");
    syncResult.stats.numIoExceptions++;
    syncResult.delayUntil = 180;
} 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-02-12T09:30:02.167

我想你想要的是[Toasts](https://developer.android.com/guide/topics/ui/notifiers/toasts.html)

简单吐司：

```
Toast.makeText(context, text, duration).show(); 
```

`text`可以想象，是您想要显示的文本。 `duration`是 Toast.LENGTH_SHORT 或 Toast.LENGTH_LONG （取决于 Toast sahll 可见的时间）

吐司中带有图片的更复杂的方法：（sync_toast_lo.xml）

```
<?xml version="1.0" encoding="utf-8"?>
  <RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/SynctoastLayout"
    android:background="@android:color/black">

  <ImageView
    android:layout_height="wrap_content"
    android:layout_width="fill_parent"
    android:src="@drawable/your_logo"
    android:layout_toLeftOf="@+id/textView"
    android:layout_margin="5dip"
    android:id="@+id/syncLogo">
  </ImageView>

  <TextView
    android:id="@+id/syncFailedText"
    android:layout_height="wrap_content"
    android:layout_width="fill_parent"
    android:text="The sync has failed!"
    android:gravity="center"
    android:textColor="@android:color/white">
  </TextView>
</RelativeLayout> 
```

在您的代码中：

```
LayoutInflater inflater = getLayoutInflater();
View view = inflater.inflate(R.layout.Sync_toast_lo,
                               (ViewGroup) findViewById(R.id.SynctoastLayout));

Toast toast = new Toast(this);
toast.setView(view);
toast.show(); 
```