# StackOverflow 问答 12720000-12720999

# android - 只能 LinearLayout 指定一个固定大小的元素和使用剩余空间的相邻元素吗？

> ID：12720004
> 
> 赞同：2
> 
> 时间：2012-10-04T03:49:01.530
> 
> 标签：android, android-layout, android-linearlayout

我想要两个相邻的视图，第一个是固定大小的，第二个是与第一个相邻的使用剩余空间的视图。

我可以很容易地使用`LinearLayout`和 权重来做到这一点，但我想避免“嵌套权重不利于性能”的问题。

是否有另一种可以完成等效的布局类型？如果有，请举个例子。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T04:00:06.097

A`RelativeLayout`可以做你想做的事，例如：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

    <Button
        android:id="@+id/button1"
        android:layout_width="200dp"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:text="Button"
        android:background="#99cc00" />

    <Button
        android:id="@+id/button2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_toRightOf="@id/button1"
        android:text="Button" 
        android:background="#0077cc"/>

</RelativeLayout> 
```

第一个`Button`宽度为 200dp，第二个将拉伸以填充父级剩余宽度的其余部分。

您还可以使用 a`RelativeLayout`将两个视图拆分为相同大小，以避免在某些布局上具有双重权重。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T03:59:26.690

我相信这可以通过RelativeLayout 来完成。例子：

```
<RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <Button
        android:id="@+id/button"
        android:layout_width="100dp"
        android:layout_height="match_parent"
        android:layout_alignParentLeft="true" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_toRightOf="@id/button">
       ...
    </LinearLayout>

</RelativeLayout> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-04T03:57:51.167

你可以试试

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal" >

    <Button
        android:layout_width="50dp"
        android:layout_height="wrap_content"
        android:text="view with fixed size " />

    <Button
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="view with remaining space" />

</LinearLayout> 
```

这是权重在 LinearLayout 中的工作原理：

```
At first, it will deduct the fixed dimension, then according to the weight, divide the available space, assign to the views which specify the weight attribute 
```

# asp.net - 获取 SqlControlSource 以从 devexpress 网格传递参数

> ID：12720010
> 
> 赞同：0
> 
> 时间：2012-10-04T03:49:32.823
> 
> 标签：asp.net, vb.net, devexpress, sqldatasource

我正在创建一个连接到需要参数的存储过程的 SqlDataSource。我已将我的 SqlDataSource 连接到 ASP.NET devexpress 网格，并希望使用从网格下拉的组合框作为 SQLDataSource 参数源控件的参数。我可以在列表中看到其他控件，但在网格中看不到任何控件。![截屏](../Images/390a37f81b95d86a6e42d6022eb9fc52.png)

如何让 Combo Drop down 成为参数的控件？我正在使用 VB.Net

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T13:19:05.647

从 ControlID 列表和 ASPxComboBox.Value 属性中选择所需的 ASPxComboBox 控件作为 PropertyName：

[教程 5：声明性参数](http://msdn.microsoft.com/en-us/library/aa581786.aspx)

查看以下示例，这可能会有所帮助：

[E2040](http://www.devexpress.com/example=E2040)

[E2041](http://www.devexpress.com/example=E2041)

# html - 透明背景图片链接

> ID：12720021
> 
> 赞同：0
> 
> 时间：2012-10-04T03:51:13.127
> 
> 标签：html, css, background, hyperlink, transparent

如何使我的透明 gif 图像成为一个链接，如果按下透明部分，链接将不会响应？

```
<a href="{storeurl}?act=viewDoc&docId=1"><img src="skins/sunlift/styleImages/navbar_pic/leafshape.gif></a> 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T03:53:51.823

```
<img src="skins/sunlift/styleImages/navbar_pic/leafshape.gif>
            here is the problem ----------------------------^-- there should be " 
```

应该

```
 <img src="skins/sunlift/styleImages/navbar_pic/leafshape.gif"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:18:03.263

..................................................... …………

嗨，现在像这样给你的**锚**链接属性`display`

```
a{
display:inline-block;
vertical-align:top;
} 
```

因为`a`是`inline block`元素

# cordova - html5 视频标签，无需调用 quicktime 播放器

> ID：12720023
> 
> 赞同：5
> 
> 时间：2012-10-04T03:51:18.190
> 
> 标签：cordova, html5-video

我是一名 iOS 开发人员。最近我开始学习PhoneGap。这是我的问题：

我想做一个使用 PhoneGap 的视频播放器应用程序。当然，通过使用 video 标签，我们可以轻松地使用 quicktime 播放器播放视频。但是如何禁用此操作（调用 quicktime 播放器），因为我想使用自定义播放器。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-19T13:13:38.260

This might help knowing some limitation [https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html](https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html)

Or similar discussion here on Video.JS [https://github.com/videojs/video.js/issues/37](https://github.com/videojs/video.js/issues/37) "On iPhones, Apple has made the decision that all html5 video plays in the fullscreen, native player rather than letting it play inline."

# jquery - 仅引导程序的 twipsy 需要什么？（应该从 bootstrap.css 中包含的类/ID？）

> ID：12720037
> 
> 赞同：0
> 
> 时间：2012-10-04T03:53:31.027
> 
> 标签：jquery, css, twitter-bootstrap, tooltip

我已经包含了 bootstrap-twipsy.js 1.3.0 并从我的网站上的 bootstrap.css 复制了 twipsy 的 css。但是twipsy的效果是不行的。当我包含 bootstrap.css 时，twipsy 工作正常。我只需要twipsy的css，而不是bootstrap的css。这是CSS：

```
.twipsy {
  display: block;
  position: absolute;
  visibility: visible;
  padding: 5px;
  font-size: 11px;
  z-index: 1000;
  filter: alpha(opacity=80);
  -khtml-opacity: 0.8;
  -moz-opacity: 0.8;
  opacity: 0.8;
}
.twipsy.fade.in {
  filter: alpha(opacity=80);
  -khtml-opacity: 0.8;
  -moz-opacity: 0.8;
  opacity: 0.8;
}
.twipsy.above .twipsy-arrow {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid #000000;
}
.twipsy.left .twipsy-arrow {
  top: 50%;
  right: 0;
  margin-top: -5px;
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 5px solid #000000;
}
.twipsy.below .twipsy-arrow {
  top: 0;
  left: 50%;
  margin-left: -5px;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 5px solid #000000;
}
.twipsy.right .twipsy-arrow {
  top: 50%;
  left: 0;
  margin-top: -5px;
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 5px solid #000000;
}
.twipsy-inner {
  padding: 3px 8px;
  background-color: #000000;
  color: white;
  text-align: center;
  max-width: 200px;
  text-decoration: none;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;
}
.twipsy-arrow {
  position: absolute;
  width: 0;
  height: 0;
} 
```

和小提琴：http: [//jsfiddle.net/FArIZzX77/4Fz5T/](http://jsfiddle.net/FArIZzX77/4Fz5T/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:22:09.307

您在某些方面错过了使用 opacity 显示/隐藏部分最重要的 CSS 属性

```
.fade {
    -moz-transition: opacity 0.15s linear 0s;
    opacity: 0;
}
.fade.in {
    opacity: 1;
}​ 
```

添加了使用此 CSS 的小提琴：http: [//jsfiddle.net/4Fz5T/1/](http://jsfiddle.net/4Fz5T/1/)

当您将鼠标移入时，工具提示会添加到正文中，并且它会变为 class="twipsy fade in" 在工具提示的隐藏功能上删除 in，使其不可见（不透明度 = 0）。请注意，它不会从 DOM 中删除元素。

# mysql - 将字符串“September 23”转换为 DATETIME

> ID：12720039
> 
> 赞同：1
> 
> 时间：2012-10-04T03:53:46.753
> 
> 标签：mysql, datetime

我正在将一列带有部分日期的字符串导入 csv 文件。

在导入过程中，有没有办法将格式为“September 23”的字符串转换为 DATETIME 格式，使用部分日期填充月、日和年，并将插入时间作为时间？

编辑：我澄清了这个问题，所以下面的答案不太相关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T03:56:19.757

[https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:08:05.897

我认为您可以尝试 DATE_FORMAT()。

```
mysql> SELECT STR_TO_DATE('OCT 1, 2013','%M %d,%Y'); // -> '2013-10-01' 
```

**STR_TO_DATE** - 如果格式字符串包含日期和时间部分，则返回 DATETIME 值；如果字符串仅包含日期或时间部分，则返回 DATE 或 TIME 值。如果从 str 中提取的日期、时间或日期时间值非法，则 STR_TO_DATE() 返回 NULL 并产生警告。

[请参阅](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)此[链接](https://stackoverflow.com/questions/4472170/mysql-php-how-to-convert-a-string-to-datetime)和此链接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T15:58:28.527

这很丑陋，但它有效。主要问题是创建年份和时间，以及处理月份中各天的单个数值。`CONCAT_WS`是这种情况下的粘合剂：

```
STR_TO_DATE(CONCAT_WS(',','September 5',YEAR(NOW()), TIME(NOW())), '%M %e, %Y, %T') 
```

回报：

```
2012-09-05 11:51:46 
```

# javascript - Enyo 2 - Canvas 如何获得 Contex

> ID：12720044
> 
> 赞同：1
> 
> 时间：2012-10-04T03:54:39.660
> 
> 标签：javascript, canvas, graph, enyo

我正在尝试使用 Enyo 2.0 和 Javascript 在画布上绘制图形，已将画布组件定义如下..

```
{
      kind : "Canvas",
      name : "graph",
      nodeTag : "canvas",
      domAttributes : {
         width : "1020px",
         height : "656px",
         style : "border: 2px solid #98bf21;"
      }
   } 
```

需要获取此画布上下文的值。使用`this.$.graph.hasNode()`方法 return 的 false。

任何人都可以提出正确的方法来获取上下文。或者我做错了整个事情（画布的声明）。

由于正在使用的图形库需要上下文，因此在这种情况下无法使用解决方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:48:43.817

知道了...

我犯的错误是在渲染之前在图上调用 hasNode 方法，这总是会返回错误。在呈现页面后调用相同的方法会返回一个有效值。

# jackson - 为 Spring Data REST 注册 Jackson 模块

> ID：12720045
> 
> 赞同：10
> 
> 时间：2012-10-04T03:54:40.347
> 
> 标签：jackson, spring-data-rest

我有一个基于 Spring Data REST[示例项目](https://github.com/springsource/spring-data-rest-webmvc)的工作项目，我正在尝试使用基于此[wiki 页面的](https://github.com/SpringSource/spring-data-rest/wiki/Adding-custom-%28de%29serializers-to-Jackson%27s-ObjectMapper)[Jackson 模块](http://wiki.fasterxml.com/JacksonFeatureModules)进行自定义序列化。

这是我的杰克逊模块：

```
public class CustomModule extends SimpleModule {
    public static Logger logger = LoggerFactory.getLogger(CustomModule.class);

    public CustomModule() {
        super("CustomModule", new Version(1, 0, 0, null));
    }

    @Override
    public void setupModule(SetupContext context) {
        logger.debug("CustomModule.setupModule");
        SimpleSerializers simpleSerializers = new SimpleSerializers();
        simpleSerializers.addSerializer(new CustomDateTimeSerializer());
        context.addSerializers(simpleSerializers);
    }

} 
```

维基[页面](https://github.com/SpringSource/spring-data-rest/wiki/Adding-custom-%28de%29serializers-to-Jackson%27s-ObjectMapper)说：

> 在您的 ApplicationContext 范围内声明的任何 Module bean 都将被导出器拾取并在其 ObjectMapper 中注册。

我对 Spring 还是很陌生，所以我可能只是把我的模块 bean 定义放在了错误的地方；目前它在 中`src/main/resources/META-INF/spring-data-rest/shared.xml`，它是从以下位置导入的`repositories-export.xml`：

```
<bean id="customModule" class="org.hierax.wpa.schema.mapping.CustomModule" /> 
```

我没有在 中看到日志语句`setupModule`，但我确实看到了同一包中其他类的日志输出。

我正在使用 Spring Data REST 1.0.0.RC2。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2015-10-30T02:35:32.333

目前，可以像这样在 Spring Boot 中自定义模块：

```
@Bean
public Module customModule() {
  return new CustomModule();
} 
```

参考：[Spring 中最新的 Jackson 集成改进](https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#with-spring-boot)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-05T12:55:28.607

我已成功使用您链接到的 wiki 条目中概述的解决方案（尽管自此堆栈溢出帖子以来它可能已更改）

在我的实例中，我使用的是 spring-data-rest-webmvc@1.0.0.RELEASE

您的代码似乎是正确的，并且只要您的应用程序上下文被正确加载，我看不出它有任何不工作的原因。

我附上了我更简单的模块，它举例说明了日期格式化程序的使用：

```
@Component
public class JsonMarshallingConfigModule extends SimpleModule {

  public JsonMarshallingConfigModule() {
    super("JsonMarshallingConfigModule", new Version(1, 0, 0, "SNAPSHOT"));
  }

  @Override public void setupModule(SetupContext context) {
    context.getSerializationConfig().setDateFormat(new SimpleDateFormat("yyyy-MM-dd'T'HH:mm'Z'"));
  }
} 
```

也许它可以用来概述问题是杰克逊模块还是spring-data-rest-mvcweb。

# html - 如何访问名为 Test%3f.htm 的 Web 服务器上的文件

> ID：12720046
> 
> 赞同：1
> 
> 时间：2012-10-04T03:54:44.200
> 
> 标签：html, filenames, urlencode, url-encoding

我的网络服务器上有一个名为 Test%3f.htm 的文件。我正在尝试通过网络浏览器访问该文件。我意识到 %3f 解码为我不想要的问号。所以我试图以 [http://mysite.com/Test%253f.htm](http://mysite.com/Test%253f.htm)的身份访问它，但没有运气。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T03:57:00.913

你需要解码 url 这是编码的`%3f`url`?`

![在此处输入图像描述](../Images/6f4836601bc89c4d6416715fc86203c0.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-08T13:08:09.600

对于它的价值，我发现在 IIS7 上，我能够打开

```
<requestFiltering allowDoubleEscaping="true"/> 
```

在网络配置中。这允许使用文件名中的字符处理 url。

# php - 将文本从表单保存到数据库

> ID：12720050
> 
> 赞同：-3
> 
> 时间：2012-10-04T03:55:36.457
> 
> 标签：php, mysql, database, forms, content-management-system

我正在尝试创建选项页面，用户可以在其中输入然后将数据保存到几个表单中，然后在保存时将其添加到可以读取实习生的数据库中，我不确定如何执行此操作，所以我希望有人有帮助。

谢谢

丹佛

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:16:06.570

将数据插入数据库非常简单。

尝试：

```
<?php
$connect = mysql_connect("databaseserver", "username", "password");
if(!$connect)
{
echo 'Error';
}
mysql_select_db("databasename", $connect);
$fname = 'Tim';
$lname = 'Powell';
$email = 'tpowell@powellintellabs.com';
mysql_query("INSERT * INTO table (fname, lname, email) VALUES('$fname', '$lname', '$email')");
?> 
```

这应该将信息插入数据库“databasename”和表“table”。此外，如果您不熟悉数据库，那么某些东西必须是独一无二的。如果您将列“id”命名为主键并将其设置为自动递增，它会更容易。您可能还想研究防止 mysql 注入攻击。让我知道它是否有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T12:48:25.867

试试这个很简单易懂............

> php代码从这里开始
> 
> ?php
> 
> $hostname="你的主机名";
> 
> $username="你的用户名";
> 
> $password="你的密码";
> 
> $con = mysql_connect($hostname,$username,$password);
> 
> 如果（！$con）{
> 
> die('无法连接：' . mysql_error()); }
> 
> mysql_select_db("你的数据库名", $con);
> 
> $sql="插入表名 (colname1, colname2, colname3, colname4..) 值 ('$_POST[colname1]','$_POST[colname2]','$_POST[colname3]','$_POST[colname4] ')";
> 
> if (!mysql_query($sql,$con))
> 
> {
> 
> die('错误：' .mysql_error());
> 
> }
> 
> echo "添加了 1 条记录";
> 
> mysql_close($con); ?>

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T04:24:05.240

你可以很容易地说：

```
<?php
mysql$_connect("databaseserver", "username", "password");
mysql_select_db("databasename");
$fname = 'Tim';
$lname = 'Powell';
$email = 'tpowell@powellintellabs.com';
mysql_query("INSERT * INTO table (fname, lname, email) VALUES('$fname', '$lname', '$email')");
?> 
```

if(!$connect) 只是告诉您您的 Web 服务器和数据库服务器何时无法正常通信。

# python - Django contrib admin 视图限制自定义

> ID：12720052
> 
> 赞同：1
> 
> 时间：2012-10-04T03:56:39.327
> 
> 标签：python, django, django-admin

我正在寻找一种将寻呼机限制公开为管理视图中的表单的方法，方法是添加诸如`&?pager_limit=50`或类似的查询参数，以便它可以与各种公开的过滤器愉快地合并。

我自己在解决问题方面并没有真正取得任何进展。我一直在搜寻 contrib.admin 和 contrib.users.admin 却找不到我要找的东西。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-12T05:25:06.183

为了使`list_per_page`动态我们需要子类`ChangeList`，因为默认`ChangeList`类设置`list_per_page`一次。

例如：

```
class CustomUserChangeList(ChangeList):
    def __init__(self, request, model, list_display, list_display_links,
                 list_filter, date_hierarchy, search_fields, list_select_related,
                 list_per_page, list_max_show_all, list_editable, model_admin):
        list_per_page = get_user_list_limit()
        super(CustomUserChangeList, self).__init__(request, model, list_display, list_display_links,
            list_filter, date_hierarchy, search_fields, list_select_related,
            list_per_page, list_max_show_all, list_editable, model_admin) 
```

然后`get_changelist`在 ModelAdmin 子类中覆盖：

```
class CustomUserAdmin(UserAdmin):

    def get_changelist(self, request, **kwargs):
        return CustomUserChangeList 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T11:08:28.360

```
class ActionAdmin(admin.ModelAdmin):
    list_per_page = 25 
```

您可以在此处指定它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-16T13:41:36.637

这是我根据[DanH](https://stackoverflow.com/users/698289/danh)的[回答](https://stackoverflow.com/a/12852776/1091116)提出的（笨拙的）解决方案：

1.  创建一个全局函数`return_changelist_for_request`，可见于`admin.py`：

    ```
    def return_changelist_for_request(request):
        class CustomUserChangeList(django.contrib.admin.views.main.ChangeList):
            def __init__(self, request, model, list_display, list_display_links,
                 list_filter, date_hierarchy, search_fields, list_select_related,
                 list_per_page, list_max_show_all, list_editable, model_admin):
                    try:
                        page_size = request.session.get('page_size', 100)
                        list_per_page = int(page_size)
                    except ValueError:
                        list_per_page = 100
                        request.session['page_size'] = list_per_page
                    super(CustomUserChangeList, self).__init__(request,
                        model, list_display, list_display_links, list_filter,
                        date_hierarchy, search_fields, list_select_related,
                        list_per_page, list_max_show_all, list_editable,
                        model_admin)
        return CustomUserChangeList 
    ```

2.  在相关的 ModelAdmin 实例中，添加对该函数的调用，`get_changelist`如示例中所示：

    ```
    class DeviceTypeAdmin(admin.ModelAdmin):

        def get_changelist(self, request, **kwargs):
            return return_changelist_for_request(request)

        list_display = ('devicetype', ) 
    ```

3.  在`urls.py`中，添加一个`page_size`查看链接，我们稍后会添加：

    ```
    url(r'^page_size$', 'viewer.views.page_size', name='page_size'), 
    ```

4.  将视图添加到`views.py`：

    ```
    from django.http import HttpResponseRedirect

    def page_size(request):
        request.session['page_size'] = request.GET['page_size']
        return HttpResponseRedirect(request.META.get('HTTP_REFERER')) 
    ```

5.  将 Django 管理员的`base.html`模板从 site-packages 复制到您的模板目录并添加类似的 HTML 代码（此 HTML 示例假定[django-admin-bootstrapped](https://github.com/django-admin-bootstrapped/django-admin-bootstrapped)）：

    ```
    <form class="navbar-form navbar-left" action='/page_size'>
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Size" name="page_size" size="3">
      </div>
      <button type="submit" class="btn btn-default">Set page size</button>
    </form> 
    ```

（我在关闭`div`之前添加了它`{% block object-tools %}{% endblock %}`）

# javascript - Javascript - 如何从所有开始和结束字符串匹配实例中创建一个数组 - 在字符串中找到

> ID：12720054
> 
> 赞同：1
> 
> 时间：2012-10-04T03:56:40.263
> 
> 标签：javascript, arrays, string, search

我有一个这样的**字符串**：

```
var My_string = "<div id='some_id_1'>Some Div Text 1</div><div id='some_id_2'>Some Div Text 2</div><div id='some_id_3'>Some Div Text 3</div><div id='some_id_4'>Some Div Text 4</div>"; 
```

我想**搜索****字符串**并将找到的每个完整 div 添加到数组中。

所以我想在**字符串中****搜索**：

 **```
"<div" 
```

接着：

```
"</div>" 
```

并抓住中间的文字：

```
var My_Div_Value = "<div id='some_id_1'>Some Div Text 1</div>"; 
```

并将每个推入一个数组：

```
My_Divs_Array.push(My_Div_Value); 
```

所以 My_Divs_Array 将有：

```
["<div id='some_id_1'>Some Div Text 1</div>", "<div id='some_id_2'>Some Div Text 2</div>", "<div id='some_id_3'>Some Div Text 3</div>", "<div id='some_id_4'>Some Div Text 4</div>"] 
```

我只是不确定解决这个问题的最佳方法。我想象使用“ **IndexOf()** ”或者我不确定。我只想问专业人士实现这一目标的最佳方法是什么。

* * *

从最初的回复来看 - 我不确定我的帖子是否被理解。我可以很容易地使用字符串示例：

```
var My_string = "<foo>everything in between</bar><foo>everything in between</bar><foo>everything in between</bar><foo>everything in between</bar>"; 
```

`"<foo>"`我需要将每个++实例单独收集并存储到一个数组中`"everything in between"`： `"</bar>"``"<foo>everything in between</bar>"`

```
["<foo>everything in between</bar>", "<foo>everything in between</bar>", "<foo>everything in between</bar>", "<foo>everything in between</bar>"] 
```

* * *

谢谢你的帮助。问候，肯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:04:40.820

改用 DOM。

```
var My_string = "<div id='some_id_1'>Some Div Text 1</div><div id='some_id_2'>Some Div Text 2</div><div id='some_id_3'>Some Div Text 3</div><div id='some_id_4'>Some Div Text 4</div>";

var wrapper = document.createElement('div');
wrapper.innerHTML = My_string;

console.log(wrapper.getElementsByTagName('div')); // get all the div
console.log(wrapper.getElementById('some_id_1')); // if you know the id 
```

或者使用 jQuery。

```
$(My_string) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:21:18.367

要添加到 xdazz 的回复中：

```
var My_string = "<div id='some_id_1'>Some Div Text 1</div><div id='some_id_2'>Some Div Text 2</div><div id='some_id_3'>Some Div Text 3</div><div id='some_id_4'>Some Div Text 4</div>";

var wrapper = document.createElement('div'); Creates a DOM object.
wrapper.innerHTML = My_string; // Loads the string into DOM as HTML.
var objs = wrapper.getElementsByTagName('div'); // Get all the objects (each div tag element).

var My_Divs_Array; // Declare your output array.
for (var i = 0; i < objs.length; i++) { // Iterate through array of div elements.
    My_Divs_Array.push(objs[i].outerHTML); // Push the entire text portion of the div elements into array My_Divs_Array.
}
// Do what you want with My_Divs_Array, which now holds the strings that you want. 
```

你不需要对网页本身做任何事情。您只使用 DOM 及其 HTML 元素解析方法来处理您的字符串。

查看：[https ://developer.mozilla.org/en-US/docs/DOM/element.outerHTML](https://developer.mozilla.org/en-US/docs/DOM/element.outerHTML)

已编辑。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:26:03.317

```
var str = "<div id='some_id_1'>Some Div Text 1</div><div id='some_id_2'>Some Div Text 2</div><div id='some_id_3'>Some Div Text 3</div><div id='some_id_4'>Some Div Text 4</div>";

var Array_Of_Divs = str.split(/(?=<div )/);

alert(Array_Of_Divs); 
```

产生：

```
["<div id='some_id_1'>Some Div Text 1</div>", "<div id='some_id_2'>Some Div Text 2</div>", "<div id='some_id_3'>Some Div Text 3</div>", "<div id='some_id_4'>Some Div Text 4</div>"]; 
```

正是我要的:)

非常感谢：Namida Aneskans [https://stackoverflow.com/users/1662018/namida-aneskans](https://stackoverflow.com/users/1662018/namida-aneskans) [javascript - 拆分而不丢失分隔符](https://stackoverflow.com/questions/12721844/javascript-split-without-losing-the-separator)**

# mysql - 如何从 mySQL 表格式化营业时间

> ID：12720057
> 
> 赞同：1
> 
> 时间：2012-10-04T03:56:57.443
> 
> 标签：mysql, asp-classic

看过其他可能已经有我答案的问题后，我想为这个问题准备一些帮助。我有一个用于一堆业务的模板网站，其中大多数具有相同的开始和结束时间 - 周一。- 周五，周末休息。但是，有些可能会在周五早些时候关闭，并在周六开放。我相信所有周日都关闭。

我这样创建了一个表 -

```
CREATE TABLE `Shop_Hours` (
  `shop` mediumint(8) unsigned NOT NULL default '0',
  `d1s` time NOT NULL default '08:00:00',
  `d1e` time NOT NULL default '17:00:00',
  `d2s` time NOT NULL default '08:00:00',
  `d2e` time NOT NULL default '17:00:00',
.
.
.
  `d6s` time NOT NULL default '00:00:00',
  `d6e` time NOT NULL default '00:00:00',
  `d7s` time NOT NULL default '00:00:00',
  `d7e` time NOT NULL default '00:00:00'
) ENGINE=MyISAM DEFAULT CHARSET=utf8; 
```

以下是一些记录：

```
INSERT INTO `Shop_Hours` (`shop`, `d1s`, `d1e`, `d2s`, `d2e`, `d3s`, `d3e`, `d4s`, `d4e`, `d5s`, `d5e`, `d6s`, `d6e`, `d7s`, `d7e`, `Comments`) VALUES(104, '08:00:00', '17:00:00', '08:00:00', '17:00:00', '08:00:00', '17:00:00', '08:00:00', '17:00:00', '08:00:00', '16:00:00', '08:00:00', '12:00:00', '00:00:00', '00:00:00', '');
INSERT INTO `Shop_Hours` (`shop`, `d1s`, `d1e`, `d2s`, `d2e`, `d3s`, `d3e`, `d4s`, `d4e`, `d5s`, `d5e`, `d6s`, `d6e`, `d7s`, `d7e`, `Comments`) VALUES(105, '08:00:00', '17:30:00', '08:00:00', '17:30:00', '08:00:00', '17:30:00', '08:00:00', '17:30:00', '08:00:00', '17:00:00', '00:00:00', '00:00:00', '00:00:00', '00:00:00', '');
INSERT INTO `Shop_Hours` (`shop`, `d1s`, `d1e`, `d2s`, `d2e`, `d3s`, `d3e`, `d4s`, `d4e`, `d5s`, `d5e`, `d6s`, `d6e`, `d7s`, `d7e`, `Comments`) VALUES(106, '08:30:00', '17:30:00', '08:30:00', '17:30:00', '08:30:00', '17:30:00', '08:30:00', '17:30:00', '08:30:00', '17:30:00', '08:30:00', '14:00:00', '00:00:00', '00:00:00', ''); 
```

我的问题涉及如何使用经典 ASP 查询记录并显示为以下示例：

星期一。- 周五。上午 8:00 - 下午 5:00

周末休息

**或者**

星期一。- 钍。上午 8:00 - 下午 5:00

星期五。- 上午 8:00 - 下午 4:00

星期六。- 上午 8:00 - 下午 12:00`

**或者**

ETC...

我认为有多种方法可以做到这一点我只是想知道是否

*   我的数据库结构好吗？
*   获得目标最终结果的最有效方法是什么？

当然会感谢一些帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T21:34:52.077

对您的架构的一些评论：

1.  使用更好的变量名。'd1s'，是星期天还是星期一？'starttime_monday'，也许？
2.  “00:00:00”的默认值表示“午夜”。也许默认的 NULL 会更好。
3.  在下面，我的回答所做的第一件事是将您的列翻转为行。您可能会考虑以这种方式存储它们。
4.  如果大多数公司的工作时间相同，那么为每个人存储价值是低效的。仅存储异常。

也就是说，这是一个适用于您当前模式的（简化的）查询。

请注意，我使用的是 MySQL 的值`DAYOFWEEK`，如果您在上面解决我的评论，查询将会改变。

```
select shop,
  case when hours = "12:00AM - 12:00AM" then "Closed" else hours end as hours,
  min(weekday) as minday,
  max(weekday) as maxday
from (
  select shop, "2" as weekday,
    concat(time_format(d1s,"%h:%i%p"),' - ',time_format(d1e,"%h:%i%p")) as hours
  from Shop_Hours
  union
  select shop, "3",
    concat(time_format(d2s,"%h:%i%p"),' - ',time_format(d2e,"%h:%i%p"))
  from Shop_Hours
  union
  select shop, "7",
    concat(time_format(d6s,"%h:%i%p"),' - ',time_format(d6e,"%h:%i%p"))
  from Shop_Hours
) foo
group by 1,2; 
```

输出如下所示：

```
+------+-------------------+--------+--------+
| shop | hours             | minday | maxday |
+------+-------------------+--------+--------+
|  104 | 08:00AM - 05:00PM | 2      | 3      |
|  104 | Closed            | 7      | 7      |
+------+-------------------+--------+--------+ 
```

这将日期的格式留给您...

# css - 即使它在 div 之外，我如何指定一个 div 在 div 下

> ID：12720061
> 
> 赞同：0
> 
> 时间：2012-10-04T03:57:37.537
> 
> 标签：css

我希望一个 div 进入另一个 div，即使它在其他地方。我该怎么做？

```
<div id="main">
</div>
<div id="sub">
</div> 
```

我怎样才能将 div “sub” 放在 div “main” 中而不实际将 div “sub” 写在 “main” 中。但我想以相对的方式这样做，这样如果 sub 的内容也增加 main增加。有什么办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:33:05.220

我不知道css，但这可能对你有帮助。您可以通过创建一个 JQuery 函数来实现这一点，该函数将变量作为 div 元素的高度和宽度（以及定位）。保持这些变量的相关性，以便每当调整 div 元素的大小或更改时，相应的 div 元素都会发生变化。因此，子 div 元素将充当子 div。

例如：

```
var mainHeight = $('maindiv').height();
var mainWidth = $('maindiv').width();
var subHeight = $('subdiv').height();
var subWidth  = $('subdiv').width();

/*and then implement your own function*/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:20:12.223

请查看[此](http://net.tutsplus.com/tutorials/html-css-techniques/mastering-the-960-grid-system/)链接并查看推送和拉取类这些类可能会给您一些想法。你需要做类似的事情 `left: -40px;` 。据我所知，这通常是为了 SEO 目的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:21:41.693

检查这个小提琴 - [http://jsfiddle.net/bXaXS/24/](http://jsfiddle.net/bXaXS/24/)。
这不是您想要的完美解决方案，但它确实会改变`#main div`高度和宽度`#sub div`

# php - PHP 和 MySQL 从时间中减去秒数

> ID：12720064
> 
> 赞同：3
> 
> 时间：2012-10-04T03:57:50.673
> 
> 标签：php, mysql

我的表中有 2:00，我想从中减去 0:01。我在此之前的最近一篇文章中尝试过，但这没有帮助。

在 PHP 和 MySQL 中，我如何从 2 分钟中减去 1 秒？

```
if (isset($_GET['id']) && isset($_GET['time'])) {
    mysql_select_db("aleckaza_pennyauction", $connection);
    $query = "SELECT Current_Time FROM Live_Auctions WHERE ID='1'";
    $results = mysql_query($query) or die(mysql_error());

    while ($row = mysql_fetch_array($results)) {
        $newTime = $row['Current_Time'];
        $query = "INSERT INTO Live_Auctions(Current_Time) VALUES('".$newTime."')";
        $results = mysql_query($query) or die(mysql_error());
    }
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T04:00:49.230

您可以使用 MySQL 直接在数据库上执行此操作**[`SUBTIME()`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_subtime)**

```
// from the manual
mysql> SELECT SUBTIME('2007-12-31 23:59:59.999999','1 1:1:1.000002');
        -> '2007-12-30 22:58:58.999997' 
```

或者您可以从 MySQL 获取时间并在 PHP 上使用[**`DateTime::sub()`**](http://www.php.net/manual/en/function.date-sub.php)

```
 // again from the manual
 <?php 
 $dateA = date_sub('2000-01-20', date_interval_create_from_date_string('1 second')); 
 ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:05:49.070

使用您提供的内容，以 php 风格检查此代码-

```
<?php
$t1= '0:2:00';
$t2= '0:0:01';
$a1 = explode(":",$t1);
$a2 = explode(":",$t2);
$time1 = (($a1[0]*60*60)+($a1[1]*60)+($a1[2]));
$time2 = (($a2[0]*60*60)+($a2[1]*60)+($a2[2]));
$diff = abs($time1-$time2);
$hours = floor($diff/(60*60));
$mins = floor(($diff-($hours*60*60))/(60));
$secs = floor(($diff-(($hours*60*60)+($mins*60))));
$result = $hours.":".$mins.":".$secs;
echo $result; 
```

![截屏](../Images/f142c8212c996bb6b5ea296b30088b82.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T04:01:50.017

查看

[http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)用于 MySQL 函数，

和[http://www.php.net/manual/en/datetime.sub.php](http://www.php.net/manual/en/datetime.sub.php)对于 PHP。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T04:01:55.143

[PHP：时间（）](http://php.net/manual/en/function.time.php)：

> 返回自 Unix 纪元（格林威治标准时间 1970 年 1 月 1 日 00:00:00）以来以秒数测量的当前时间。

这个，-1，进入[PHP date()](http://pt.php.net/manual/en/function.date.php)应该可以解决问题。

# hadoop - Hadoop：减少端连接卡在地图 100% 减少 100% 并且永远不会完成

> ID：12720066
> 
> 赞同：1
> 
> 时间：2012-10-04T03:57:55.523
> 
> 标签：hadoop, mapreduce

我是 Hadoop 的初学者，这些天我正在尝试运行 reduce-side join 示例，但它卡住了：Map 100% 和 Reduce 100% 但从未完成。进度、日志、代码、示例数据和配置文件如下： 进度：

```
12/10/02 15:48:06 INFO util.NativeCodeLoader: Loaded the native-hadoop library
12/10/02 15:48:06 WARN snappy.LoadSnappy: Snappy native library not loaded
12/10/02 15:48:06 INFO mapred.FileInputFormat: Total input paths to process : 2
12/10/02 15:48:07 INFO mapred.JobClient: Running job: job_201210021515_0007
12/10/02 15:48:08 INFO mapred.JobClient:  map 0% reduce 0%
12/10/02 15:48:26 INFO mapred.JobClient:  map 66% reduce 0%
12/10/02 15:48:35 INFO mapred.JobClient:  map 100% reduce 0%
12/10/02 15:48:38 INFO mapred.JobClient:  map 100% reduce 22%
12/10/02 15:48:47 INFO mapred.JobClient:  map 100% reduce 100%

Logs from Reduce task:
2012-10-02 15:48:28,018 INFO org.apache.hadoop.mapred.Task:  Using ResourceCalculatorPlugin : org.apache.hadoop.util.LinuxResourceCalculatorPlugin@1f53935
2012-10-02 15:48:28,179 INFO org.apache.hadoop.mapred.ReduceTask: ShuffleRamManager: MemoryLimit=668126400, MaxSingleShuffleLimit=167031600
2012-10-02 15:48:28,202 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Thread started: Thread for merging on-disk files
2012-10-02 15:48:28,202 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Thread started: Thread for merging in memory files
2012-10-02 15:48:28,203 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Thread waiting: Thread for merging on-disk files
2012-10-02 15:48:28,207 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Thread started: Thread for polling Map Completion Events
2012-10-02 15:48:28,207 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Need another 3 map output(s) where 0 is already in progress
2012-10-02 15:48:28,208 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Scheduled 0 outputs (0 slow hosts and0 dup hosts)
2012-10-02 15:48:33,209 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Scheduled 1 outputs (0 slow hosts and0 dup hosts)
2012-10-02 15:48:33,596 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Scheduled 1 outputs (0 slow hosts and0 dup hosts)
2012-10-02 15:48:38,606 INFO org.apache.hadoop.mapred.ReduceTask: attempt_201210021515_0007_r_000000_0 Scheduled 1 outputs (0 slow hosts and0 dup hosts)
2012-10-02 15:48:39,239 INFO org.apache.hadoop.mapred.ReduceTask: GetMapEventsThread exiting
2012-10-02 15:48:39,239 INFO org.apache.hadoop.mapred.ReduceTask: getMapsEventsThread joined.
2012-10-02 15:48:39,241 INFO org.apache.hadoop.mapred.ReduceTask: Closed ram manager
2012-10-02 15:48:39,242 INFO org.apache.hadoop.mapred.ReduceTask: Interleaved on-disk merge complete: 0 files left.
2012-10-02 15:48:39,242 INFO org.apache.hadoop.mapred.ReduceTask: In-memory merge complete: 3 files left.
2012-10-02 15:48:39,285 INFO org.apache.hadoop.mapred.Merger: Merging 3 sorted segments
2012-10-02 15:48:39,285 INFO org.apache.hadoop.mapred.Merger: Down to the last merge-pass, with 3 segments left of total size: 10500 bytes
2012-10-02 15:48:39,314 INFO org.apache.hadoop.mapred.ReduceTask: Merged 3 segments, 10500 bytes to disk to satisfy reduce memory limit
2012-10-02 15:48:39,318 INFO org.apache.hadoop.mapred.ReduceTask: Merging 1 files, 10500 bytes from disk
2012-10-02 15:48:39,319 INFO org.apache.hadoop.mapred.ReduceTask: Merging 0 segments, 0 bytes from memory into reduce
2012-10-02 15:48:39,320 INFO org.apache.hadoop.mapred.Merger: Merging 1 sorted segments
2012-10-02 15:48:39,322 INFO org.apache.hadoop.mapred.Merger: Down to the last merge-pass, with 1 segments left of total size: 10496 bytes

Java Code:

public class DataJoin extends Configured implements Tool {

    public static class MapClass extends DataJoinMapperBase {

        protected Text generateInputTag(String inputFile) {//specify tag
            String datasource = inputFile.split("-")[0];
            return new Text(datasource);
        }

        protected Text generateGroupKey(TaggedMapOutput aRecord) {//takes a tagged record (of type TaggedMapOutput)and returns the group key for joining
            String line = ((Text) aRecord.getData()).toString();
            String[] tokens = line.split(",", 2);
            String groupKey = tokens[0];
            return new Text(groupKey);
        }

        protected TaggedMapOutput generateTaggedMapOutput(Object value) {//wraps the record value into a TaggedMapOutput type
            TaggedWritable retv = new TaggedWritable((Text) value);
            retv.setTag(this.inputTag);//inputTag: result of generateInputTag
            return retv;
        }
    }

    public static class Reduce extends DataJoinReducerBase {

        protected TaggedMapOutput combine(Object[] tags, Object[] values) {//combination of the cross product of the tagged records with the same join (group) key

            if (tags.length  != 2) return null;  
            String joinedStr = ""; 
            for (int i=0; i<tags.length; i++) {
                if (i > 0) joinedStr += ",";
                TaggedWritable tw = (TaggedWritable) values[i];
                String line = ((Text) tw.getData()).toString();
                if (line == null)
                    return null;
                String[] tokens = line.split(",", 2);
                joinedStr += tokens[1];
            }
            TaggedWritable retv = new TaggedWritable(new Text(joinedStr));
            retv.setTag((Text) tags[0]); 
            return retv;
        }
    }

    public static class TaggedWritable extends TaggedMapOutput {//tagged record

        private Writable data;

        public TaggedWritable() {
            this.tag = new Text("");
            this.data = null;
        }

        public TaggedWritable(Writable data) {
            this.tag = new Text("");
            this.data = data;
        }

        public Writable getData() {
            return data;
        }

        @Override
        public void write(DataOutput out) throws IOException {
            this.tag.write(out);
            out.writeUTF(this.data.getClass().getName());            
            this.data.write(out);
        }

        @Override
        public void readFields(DataInput in) throws IOException {
            this.tag.readFields(in);
              String dataClz = in.readUTF();            
              if ((this.data == null) || !this.data.getClass().getName().equals(dataClz)) {
                  try {
                    this.data = (Writable) ReflectionUtils.newInstance(Class.forName(dataClz), null);
                    System.out.printf(dataClz);
                } catch (ClassNotFoundException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }            
            this.data.readFields(in);
        }
    }

    public int run(String[] args) throws Exception {
        Configuration conf = getConf();

        JobConf job = new JobConf(conf, DataJoin.class);

        Path in = new Path(args[0]);
        Path out = new Path(args[1]);
        FileInputFormat.setInputPaths(job, in);
        FileOutputFormat.setOutputPath(job, out);

        job.setJobName("DataJoin");
        job.setMapperClass(MapClass.class);
        job.setReducerClass(Reduce.class);

        job.setInputFormat(TextInputFormat.class);
        job.setOutputFormat(TextOutputFormat.class);
        job.setOutputKeyClass(Text.class);
        job.setOutputValueClass(TaggedWritable.class);
        job.set("mapred.textoutputformat.separator", ",");
        JobClient.runJob(job); 
        return 0;
    }

    public static void main(String[] args) throws Exception { 
        int res = ToolRunner.run(new Configuration(),
                                 new DataJoin(),
                                 args);

        System.exit(res);
    }
} 
```

样本数据：

```
file 1: apat.txt(1 line) 4373932,1983,8446,1981,"NL","",16025,2,65,436,1,19,108,49,1,0.5289,0.6516,9.8571,4.1481,0.0109,0.0093,0,0
file 2: cite.txt(100 lines)
    4373932,3641235
    4373932,3720760
    4373932,3853987
    4373932,3900558
    4373932,3939350
    4373932,3941876
    4373932,3992631
    4373932,3996345
    4373932,3998943
    4373932,3999948
    4373932,4001400
    4373932,4011219
    4373932,4025310
    4373932,4036946
    4373932,4058732
    4373932,4104029
    4373932,4108972
    4373932,4160016
    4373932,4160018
    4373932,4160019
    4373932,4160818
    4373932,4161515
    4373932,4163779
    4373932,4168146
    4373932,4169137
    4373932,4181650
    4373932,4187075
    4373932,4197361
    4373932,4199599
    4373932,4200436
    4373932,4201763
    4373932,4207075
    4373932,4208479
    4373932,4211766
    4373932,4215102
    4373932,4220450
    4373932,4222744
    4373932,4225783
    4373932,4231750
    4373932,4234563
    4373932,4235869
    4373932,4238195
    4373932,4238395
    4373932,4248854
    4373932,4251514
    4373932,4258130
    4373932,4248965
    4373932,4252783
    4373932,4254097
    4373932,4259313
    4373932,4272505
    4373932,4272506
    4373932,4277437
    4373932,4279992
    4373932,4283382
    4373932,4294817
    4373932,4296201
    4373932,4297273
    4373932,4298687
    4373932,4302534
    4373932,4314026
    4373932,4318707
    4373932,4318846
    4373932,3773625
    4373932,3935074
    4373932,3951748
    4373932,3992516
    4373932,3996344
    4373932,3997657
    4373932,4011308
    4373932,4016250
    4373932,4018884
    4373932,4056724
    4373932,4067959
    4373932,4069352
    4373932,4097586
    4373932,4098876
    4373932,4130462
    4373932,4152411
    4373932,4153675
    4373932,4174384
    4373932,4222743
    4373932,4254096
    4373932,4256834
    4373932,4284412
    4373932,4323647
    4373932,3985867
    4373932,4166105
    4373932,4278653
    4373932,4194877
    4373932,4202815
    4373932,4286959
    4373932,4302536
    4373932,4020151
    4373932,4115535
    4373932,4152412
    4373932,4177253
    4373932,4223002
    4373932,4225485
    4373932,4261968 
```

配置：

```
core-site.xml
<!-- In: conf/core-site.xml -->
<property>
<name>hadoop.tmp.dir</name>
<value>/your/path/to/hadoop/tmp/dir/hadoop-${user.name}</value>
<description>A base for other temporary directories.</description>
</property>
<property>
<name>fs.default.name</name>
<value>hdfs://localhost:54310</value>
<description>The name of the default file system. A URI whose
scheme and authority determine the FileSystem implementation. The
uri's scheme determines the config property (fs.SCHEME.impl) naming
the FileSystem implementation class. The uri's authority is used to
determine the host, port, etc. for a filesystem.</description>
</property>

mapred-site.xml
<!-- In: conf/mapred-site.xml -->
<property>
<name>mapred.job.tracker</name>
<value>localhost:54311</value>
<description>The host and port that the MapReduce job tracker runs
at. If "local", then jobs are run in-process as a single map
and reduce task.
</description>
</property>

hdfs-site.xml
<!-- In: conf/hdfs-site.xml -->
<property>
<name>dfs.replication</name>
<value>1</value>
<description>Default block replication.
The actual number of replications can be specified when the file is created.
The default is used if replication is not specified in create time.
</description>
</property> 
```

我已经用谷歌搜索了答案，并对 (mapred/core/hdps)-site.xml 文件中的代码或配置进行了一些更改，但我输了。我以伪模式运行此代码。两个文件的连接键是等价的。如果我将 cite.txt 文件更改为 99 行或更少，它运行良好，而从 100 行或以上，它会像显示的日志一样卡住。请帮我找出问题所在。我很欣赏你的解释。

最好的问候， 海龙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-25T02:03:30.093

请检查您的 Reduce 课程。我遇到了类似的问题，结果证明这是一个非常愚蠢的错误。也许这会帮助您解决问题：

```
while (values.hasNext()) {
    String val = values.next().toString();
        .....
} 
```

您需要添加：`.next`

# ruby-on-rails-3 - 在 Rails 中处理 nil current_user

> ID：12720077
> 
> 赞同：0
> 
> 时间：2012-10-04T03:59:02.870
> 
> 标签：ruby-on-rails-3, devise

我是 Rails 新手，我安装了用于用户身份验证的设计。当我在尝试做诸如...之类的事情时遇到错误时，这一切都天真地开始了

```
div= current_user.username 
```

所以当然，我的第一个倾向是...

```
 -if current_user
   div= current_user.username
 -else
   div= "Guest" 
```

问题是我的模板充满了这种条件逻辑，我想清理我的烂摊子，但我不确定如何。我应该创建一个新的访客用户并将其分配给 current_user 吗？（即使那样，我也不知道该怎么做）。

`current_user`在 Rails中处理 nil 的好方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T04:39:30.343

Why not just put it in a helper?

```
def username
  if current_user
    div= current_user.username
  else
    div= "Guest"
  end
end 
```

# expressionengine - 表达式引擎 - exp:channel:entries 标签是否有可能具有复杂的过滤器？

> ID：12720080
> 
> 赞同：0
> 
> 时间：2012-10-04T03:59:18.220
> 
> 标签：expressionengine

来自 Codeigniter 和 Expression Engine 的新手，我不知道如何在 exp:channel:entries 标签上执行复杂的过滤器。

我对此过滤器感兴趣

```
status
start_on
stop_before 
```

你如何为这样的复杂条件实现过滤器？

```
(status=X|Y|Z AND start_on=A AND stop_before=B) OR (status=X AND start_on=C AND stop_before=D) 
```

这甚至可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:59:49.983

遗憾的是，您只能使用该`search=`参数搜索“文本输入”、“文本区域”和“下拉列表”字段。因此，您需要为此使用查询模块。

如果您只是查询这些参数，您应该能够从`exp_channel_titles`表中获取您需要的条目 id，然后使用类似[Stash](http://devot-ee.com/add-ons/stash)插件的东西`entry_id`将结果的 's 馈送到常规频道条目标签中。是的，这种方式名义上是另外一个查询，但是由于 EE 相当大量地抽象了 db 模式，因此另一种选择是迷失在一堆`JOIN`s 中。

所以像（伪代码，不会按原样工作）：

获取条目，状态只是 exp_channel_titles 中的一个字符串，`entry_date`是您想要的日期列 - 它存储为 unix 时间戳，因此您需要`DATE( FROM_UNIXTIME(entry_date))`根据过滤数据的格式选择它。

```
{exp:stash:set name="filtered_ids"}{exp:query sql="SELECT entry_id
              FROM exp_channel_titles 
              WHERE status LIKE ...<your filter here>"
            backspace="1"
              }{entry_id}|{/exp:query}{/exp:stash:set} 
```

稍后在模板中：

```
{exp:channel:entries
  entry_id="{exp:stash:get name="filtered_ids"}" 
}
  {!--loop --}
{/exp:channel:entries} 
```

是的，与您在纯 CI 中可能习惯的相比，这是一团糟，但权衡的是您从 EE 中免费获得的所有东西（CP、模板、成员管理等）。

顺便说一句，Stash 很棒 - 可用于大量缓解大多数 EE 性能问题/解决解析顺序问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T23:33:42.280

如果您使用日期，您可能会发现[DT 插件](http://devot-ee.com/add-ons/dt-plugin)很有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:22:12.507

您可以使用循环中的[`search=`](http://expressionengine.com/user_guide/modules/channel/channel_entries.html#search-field-name)参数获得很多此功能。`{exp:channel:entries...}`

我不清楚你将如何获得你所寻求的复杂性，所以你最终可能会诉诸于此[`query module`](http://expressionengine.com/user_guide/modules/query/index.html)。

# iphone - 如何从 ASINetworkQueue 中删除请求

> ID：12720082
> 
> 赞同：1
> 
> 时间：2012-10-04T03:59:26.547
> 
> 标签：iphone, objective-c, ios, ipad, asihttprequest

这是我用来取消下载的代码。

```
 NSArray *queueArray =  [downloadQueue operations];
    for (ASIHTTPRequest *request in queueArray) {
        NSString *objid = [request.userInfo objectForKey:Column_objectid];
        if ([objid isEqualToString:audioToDelete.objectId]) {
            [request clearDelegatesAndCancel];
            [request removeTemporaryDownloadFile];
            ...}} 
```

但是在我调用
[request clearDelegatesAndCancel]之后

downloadQueue.operations 或 downloadQueue.requestsCount 仍然是相同的计数（downloadQueue 是我的 ASINetworkQueue）

我怎样才能从队列中删除它？或者我怎样才能得到我的下载队列的正确操作计数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:28:40.340

做这个：

```
NSArray *queueArray =  [downloadQueue operations];
for (ASIHTTPRequest *request in queueArray) {
    NSString *objid = [request.userInfo objectForKey:Column_objectid];
    if ([objid isEqualToString:audioToDelete.objectId]) {
        [request cancel];
    }
 } 
```

# mysql - MySQL在查询中包含计数作为变量

> ID：12720083
> 
> 赞同：2
> 
> 时间：2012-10-04T03:59:49.483
> 
> 标签：mysql

在查询表以获取分页结果时，我经常使用单独的查询来计算行数以设置总变量。

返回表中的用户总数

```
SELECT Count(*) FROM users WHERE organizationId = :organizationId 
```

返回分页结果

```
SELECT * FROM users WHERE organizationId = :organizationId LIMIT :start, :end

public SearchResults findAll(User user, Paginator paginator) {
        HashMap<String, Object> namedParameters = new HashMap<String, Object>();
        namedParameters.put("organizationId", user.getOrganizationId());
        namedParameters.put("userId", user.getId());
        NamedParameterJdbcTemplate namedParameterJdbcTemplate = new NamedParameterJdbcTemplate(dataSource);

        //Get count
        int total = namedParameterJdbcTemplate.queryForInt(SQL_FIND_ALL_COUNT, namedParameters);
        int start = 0;
        int end = total;

        if(paginator != null) {         
            start = paginator.getFirst();
            end = paginator.getCount();
        }

        namedParameters.put("start", start);
        namedParameters.put("end", end);
        SqlRowSet results = namedParameterJdbcTemplate.queryForRowSet(SQL_FIND_ALL, namedParameters);
        return new SearchResults(mapUser(results), total);
    } 
```

收集总数的唯一原因是我可以将其作为搜索结果的一部分返回，因为它是分页所必需的，所以我知道要向用户显示多少页结果，而无需实际传递结果并在其中找到每条记录数据库。

有没有办法在一个查询中做到这一点？因此，换句话说，获取总计数，同时仍然使用 LIMIT 条件仅查询特定数量（例如一次 10 条记录）。如果是这样，从性能的角度来看，将它们保存在单独的查询中是否更有意义？

像这样的东西？

```
SELECT *, (SELECT Count(*) FROM users WHERE organizationId = :organizationId) FROM users WHERE organizationId = :organizationId" 
```

如果上述查询有效，我如何实际获取该子查询列，它是否有我可以引用的名称？

```
results.getInt("count"); //? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:01:11.280

`ALIAS`在子查询之后添加

```
SELECT  *, 
       (
        SELECT Count(*) 
        FROM users 
        WHERE organizationId = :organizationId
       ) `COUNT`
FROM users
WHERE organizationId = :organizationId 
```

您查询中的替代解决方案是使用`CROSS JOIN`

```
SELECT  *, x.totalCount
FROM users, 
       (
        SELECT Count(*) totalCount
        FROM users 
        WHERE organizationId = :organizationId
       ) x
WHERE organizationId = :organizationId 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T04:11:30.543

两个观察：

1> 您的计数查询不应使用“*”，而是可以编写如下查询：

> SELECT Count(1) FROM users WHERE organizationId = :organizationId

或者

> SELECT Count(column1) FROM users WHERE organizationId = :organizationId

2> 使用 count 作为子查询并不是一个好主意，因为它可能会被执行多次并增加性能开销。可以肯定的是，由于仍然是两个查询，您在性能方面没有任何收获。

如果预期的“结果集”**很大**，我建议使用 2 个不同的查询。一开始只使用一次计数查询。后续页面只能进行详情查询。

如果预期的“结果集”**很小**，您可以加载所有结果并进行客户端分页以获得最佳性能。在这种情况下，只对所有页面执行一个查询。

# iphone - iOS6 facebook 整合（图片贴）

> ID：12720087
> 
> 赞同：-2
> 
> 时间：2012-10-04T04:00:20.420
> 
> 标签：iphone, facebook, image

我只想在我的应用程序中添加 facebook 功能。我想通过我的应用在 facebook 上添加图像。

是否有适用于 iOS6 的示例。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T04:36:46.800

访问这个官方文档，*[SLComposeViewController 类参考](https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/SLComposeViewController_Class/Reference/Reference.html)*。

苹果创建了一个社交框架。`SLComposeViewController`是将处理所有社交交互请求的控制器。

```
if([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook])
{
    SLComposeViewController *objSLComposeViewController = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeFacebook];
    SLComposeViewControllerCompletionHandler __block completionHandler=^(SLComposeViewControllerResult result)
    {
        [objSLComposeViewController dismissViewControllerAnimated:YES completion:nil];
        switch(result)
        {
            case SLComposeViewControllerResultCancelled:
            default:
                break;
            case SLComposeViewControllerResultDone:
                break;
        }
    }
    [objSLComposeViewController addImage:yourImage];
    [objSLComposeViewController setInitialText:@"YourInitialText"];
    [objSLComposeViewController addURL:[NSURL URLWithString:@"YourURL"]];
    [objSLComposeViewController setCompletionHandler:completionHandler];
    [self presentModalviewController:objSLComposeViewController animated:YES completion:nil];
} 
```

我希望这有帮助。

# git - Git将功能分支的历史更改为新分支？

> ID：12720088
> 
> 赞同：3
> 
> 时间：2012-10-04T04:00:22.467
> 
> 标签：git, version-control, github, branch, dvcs

其他人可以更好地改写这个问题，但这是我想做的：

我一直在研究一个长期存在的主要重构分支 B。我一直在定期合并 master，现在分支 B 比 master 领先大约 200 次提交。我现在准备发送拉取请求，但我想稍微清理一下我的提交历史记录。基本上我想将我所有的 ~200 个提交压缩成 3 个提交：

*   提交 1 = 已删除的所有文件
*   提交 2 = 所有新添加的文件
*   提交 3 = 其他所有内容，即所有移动/编辑的文件

而且，为了不搞砸，我想在我自己的分支 B 的单独分支上进行历史重写，并将该分支作为我的拉取请求发送。

我可以在 git 中实现这一目标的最简单方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:05:04.480

假设您要合并到`master`：

1.  创建并签出一个新分支：

    ```
    git checkout -b going-to-squash 
    ```

2.  变基到主人

    ```
    git rebase --squash master 
    ```

3.  重置到主分支

    ```
    git reset master 
    ```

4.  现在，您的整个压扁分支将处于未提交状态。

    现在创建你的新提交。

    我会在这一步使用 gui，但它在命令行上完全可行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:58:33.533

A `git rebase --interactive`（如[Pro Git book 中所述](http://git-scm.com/book/en/Git-Tools-Rewriting-History#Changing-Multiple-Commit-Messages)）不实用，因为它允许选择或压缩提交（不是提交的一部分）

另一种方法可能是[生成一个巨大的补丁](https://stackoverflow.com/questions/5432396/create-a-patch-by-comparing-a-specific-branch-on-the-remote-with-a-specific-loca)（如`git format-patch origin/master`），然后解析该文件生成 3 个补丁文件：

*   一个包含所有删除
*   一个包含所有添加的
*   其余的部分

然后，您可以从提交的`branch B`来源创建一个分支（请参阅“[参考 Git 分支开始提交](https://stackoverflow.com/questions/2458055/reference-git-branch-start-commit)”），并应用这三个补丁。

# wpf - 如何使 TextBlock 成为可选择的，以便用户可以复制其文本

> ID：12720096
> 
> 赞同：11
> 
> 时间：2012-10-04T04:01:42.380
> 
> 标签：wpf, xaml

> **可能重复：**
> [有什么方法可以使 WPF 文本块可选？](https://stackoverflow.com/questions/136435/any-way-to-make-a-wpf-textblock-selectable)

我可以在 WPF 应用程序中选择文本块，以便用户可以复制它。

提前致谢。

DJ

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-04T04:14:48.627

你可以把它变成一个只读的文本框，它看起来像一个文本块，有点像；

```
<Style x:Key="ReadOnlyTextBox" TargetType="TextBox">
   <Setter Property="IsReadOnly" Value="True" />
   <Setter Property="Padding" Value="5"/>
   <Setter Property="Margin" Value="0"/>
   <Setter Property="Background" Value="Transparent"/>
   <Setter Property="BorderBrush" Value="Transparent"/>
   <Setter Property="BorderThickness" Value="0"/>
   <Setter Property="IsTabStop" Value="False"/>
   <Setter Property="HorizontalScrollBarVisibility" Value="Disabled"/>
   <Setter Property="VerticalScrollBarVisibility" Value="Disabled"/>
   <Setter Property="Template">
      <Setter.Value>
         <ControlTemplate TargetType="TextBox">
            <Grid x:Name="RootElement">
               <ScrollViewer x:Name="ContentElement"
                             Margin="{TemplateBinding Margin}"
                             Background="{TemplateBinding Background}"
                             BorderBrush="{TemplateBinding BorderBrush}"
                             BorderThickness="{TemplateBinding BorderThickness}"
                             IsTabStop="{TemplateBinding IsTabStop}"
                             Padding="{TemplateBinding Padding}" 
                             HorizontalScrollBarVisibility="{TemplateBinding HorizontalScrollBarVisibility}"
                             VerticalScrollBarVisibility="{TemplateBinding VerticalScrollBarVisibility}"/>
            </Grid>
         </ControlTemplate>
      </Setter.Value>
   </Setter>
</Style> 
```

默认情况下，ScrollViewer ContentElement 将位于 TextBox 中，如果您也喜欢，也可以替换为 ContentPresenter。

然后付诸实施；

```
<TextBox Text="Blah Blah Blah you can copy me!" Style="{StaticResource ReadOnlyTextBox}"/> 
```

希望这可以帮助！

**附录：**正如@doodleus 在评论中指出的那样。可能需要在模板中绑定内容属性的模板。因为“ContentElement”是 Silverlight TextBox 控件的*命名部分*。在不同的 xaml 变体中需要注意的细微差别之一。我最初创建示例时一定没有注意标签。所以感谢他纠正我。

# dynamic - PowerBuilder 动态命名对象

> ID：12720101
> 
> 赞同：0
> 
> 时间：2012-10-04T04:01:56.483
> 
> 标签：dynamic, powerbuilder

我有几个图片按钮，a1、b1、c1.. 等等.. 到 h8..

我正在使用这个 for 循环。

```
FOR i = 1 TO 6

    FOR j = 1 TO 8

        s_obj = CharA(96 + j) + String(i)

        l_found = ds_list.Find( "pos = '" + s_obj+ "'", 1, l_rows)

        IF l_found > 0 THEN

        ELSE
//      s_obj.  Text = ""
//
        END IF

    NEXT

NEXT 
```

我想更改图片按钮的文本和该图片按钮的标签，而不执行 CHOOSE CASE "a1" 等。

有没有办法缩短我的代码，当我得到“a1”时，我可以做 a1.text = “Blah”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:30:49.853

不使用窗口控件（不是没有 PBNI 扩展，我相信它会让你到达那里，或者循环通过 window.Control[] 数组来找到具有与 s_obj 匹配的 ClassName() 的控件），但是如果你把你的控件进入数据窗口，并将您的文本分配更改为 Modify() （例如`dw.Modify(s_obj + ".text='foo'")`）

祝你好运，

特里。

# iphone - 如何将音频文件附加到 MFMessage Composer

> ID：12720105
> 
> 赞同：3
> 
> 时间：2012-10-04T04:03:11.737
> 
> 标签：iphone, objective-c, mfmessagecomposeview

我是 Iphone 开发新手，现在我遇到了`MFMessageComposer`如何附加带有 MMS 等消息的音频文件的问题。我知道如何将附件附加到 MFMailComposeViewController 但我想要 MFMessageComposeViewController 请帮助...

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T07:38:19.800

不，您只是不能在 iOS 中分享您的应用程序中的图像、视频或音频文件 这可能是因为侵权问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-18T17:27:45.493

MFMessageComposeViewController 有几个 addAttachment... 方法，它们应该对您尝试做的事情有用。

[![MFMessageAddAttachments](../Images/2a901d4902dcf4569c920f4590e7ac1c.png)](https://i.stack.imgur.com/M8u0h.png)

# apache - Apache mod_rewrite 将路径别名为另一个路径

> ID：12720111
> 
> 赞同：0
> 
> 时间：2012-10-04T04:03:45.473
> 
> 标签：apache, .htaccess, mod-rewrite, url-rewriting

由于一些 Drupal 问题，我有一个奇怪的重写问题。我不知道如何修复 Drupal 问题，所以这将是一个临时修复：

路径`/the%20campanile/([0-9]+)/([0-9]+)/`（最好带有斜杠可选）应该是`/campanile/([0-9]+)/([0-9]+)/`.

我试过了：

```
RewriteBase /
RewriteRule ^campy/([0-9]+)/([0-9]+)/$ campanile/$1/$2/ 
```

除了 404 失败（可能重写错误）。我也尝试过使用通配符 ( `*`)，但无济于事。我浏览了 StackOverflow 和其他一些论坛上的大约 16 个帖子。

整个`.htaccess`看起来是这样的：

```
RewriteEngine on
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?q=$1 [QSA]
RewriteRule ^campy/([0-9]+)/([0-9]+)/$ campanile/$1/$2/
RewriteCond %{HTTP_HOST} ^danger-\.palyvoice\.com
RewriteRule ^(.*)$ /category/blogs/danger-zone [L] 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:29:03.193

不知道为什么你是正则表达式是`^campy/([0-9]+)/([0-9]+)/$`当你试图匹配像`/the%20campanile/([0-9]+)/([0-9]+)/`. 除了分组，**campy**永远不会匹配**%20campanile**。

您需要记住，URI 在通过 mod_rewrite 处理之前已被解码，因此您不想匹配`%20`，而只想匹配空格：

```
RewriteRule ^/?the\ campanile/([0-9]+)/([0-9]+)/?$ campanile/$1/$2/ [L] 
```

您还希望这些规则**在**您的`index.php`路由规则之前，因为路由规则会在它到达您的其他规则之前重写它：

```
RewriteEngine on
RewriteBase /
RewriteRule ^/?the\ campanile/([0-9]+)/([0-9]+)/?$ campanile/$1/$2/ [L]
RewriteCond %{HTTP_HOST} ^danger-\.palyvoice\.com
RewriteRule ^(.*)$ /category/blogs/danger-zone [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?q=$1 [QSA] 
```

# c++ - 从链表中删除元素，采访暴露书虫？

> ID：12720112
> 
> 赞同：2
> 
> 时间：2012-10-04T04:03:59.157
> 
> 标签：c++, linked-list

PG。暴露出来的 29 本书的 Programming interviews 有以下示例代码，用于从链表中删除一个元素：

```
bool deleteElement(IntElement **head, IntElement *deleteMe)
{

     IntElement *elem = *head;

     if(deleteMe == *head){ /*special case for head*/
         *head = elem->next;
         delete deleteMe;
         return true;
     }

     while (elem){
         if(elem->next == deleteMe){
             /*elem is element preceding deleteMe */
             elem->next = deleteMe->next;
             delete deleteMe;
             return true;
         }
         elem = elem->next;
     }

     /*deleteMe not found */
     return false;   
} 
```

我的问题是关于“delete deleteMe”语句，这是否达到了我们想要的效果，即实际删除该位置的元素，还是只是删除指向 deleteMe 元素的指针的副本？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:12:16.173

`delete deleteMe;`调用元素的析构函数并释放其关联的内存。这段代码是 C++，顺便说一句。

其余代码更改数据结构列表，以取消元素与其相邻元素的链接。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T05:01:33.653

您的问题已经得到解答，但我觉得有必要指出，如果我正在采访某人，并且他们以这种方式编写代码，我不会印象深刻。

对于初学者来说，这里使用指向指针的指针虽然在 C 中是合理的，但在 C++ 中完全没有必要。相反，我更愿意看到对指针的引用。其次，const 正确的代码通常更可取。

```
bool deleteElement(IntElement const *&head, IntElement const *deleteMe)
{
     IntElement *elem = head;

     if(deleteMe == head){ /*special case for head*/
         head = elem->next;
         delete deleteMe;
         return true;
     }    
     while (elem){
         if(elem->next == deleteMe){
             /*elem is element preceding deleteMe */
             elem->next = deleteMe->next;
             delete deleteMe;
             return true;
         }
         elem = elem->next;
     }    
     /*deleteMe not found */
     return false;   
} 
```

最后，我会再添加一个特殊情况，以避免不必要地遍历列表。除非要删除的项目恰好位于列表的最后，否则您可以避免遍历。假设您的 IntElement 类似于：

```
struct IntElement { 
    int data;
    IntElement *next;
}; 
```

在这种情况下：

```
bool simple_delete(IntElement *deleteMe) {
    IntElement *temp = deleteMe->next;
    deleteMe->data = temp->data;
    deleteMe->next = temp->next;
    delete temp;
    return true;
} 
```

他们正在搜索整个列表以找到前一个元素，因此他们可以删除它之后的元素。相反，我们只需将下一个节点复制到当前节点，然后删除下一个节点（注意：在某些情况下，交换数据而不是复制会更好/更快）。另请注意，如果其他东西可能持有指向下一个节点的指针，这可能/将会破坏事情（非常彻底）。

[对于它的价值，我最初是从Niklaus Wirth 的*Algorithms + Data Structures = Programs*中学习到这项技术的，尽管我相信它起源于 Knuth。]

无论如何，一旦我们有了它，我们只需添加一些代码来`deleteElement`使用它，除非要删除的节点恰好是列表中的最后一个：

```
bool deleteElement(IntElement const *&head, IntElement *deleteMe) { 
    if (deleteMe->next != NULL)
        return simple_delete(deleteMe);
    // previous body of deleteElement
} 
```

原件总是具有线性复杂性，而在大多数情况下，这具有恒定的复杂性。通过使用带有标记值的列表而不是末尾的 NULL 指针，您可以确保在所有情况下都保持恒定的复杂性（并`simple_delete`处理*所有*情况——您可以完全消除其余代码）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T04:08:17.640

它实际上是删除节点本身而不是它的副本。

# php - 检测 api 对密码保护区域的访问

> ID：12720119
> 
> 赞同：2
> 
> 时间：2012-10-04T04:04:43.883
> 
> 标签：php, pdf-generation, user-agent, referrer

我正在使用一项名为[I'm PDF](http://www.impdf.com/index.htm)的简单服务在在线发票上创建 PDF 版本。现在，客户端必须登录才能看到在线版本，但结果，api服务也无权访问它。我如何检测到 pdf 服务正在访问该站点并相应地允许它而不需要密码？

我以为 $_Server['http_referrer'] 会这样做，但我没有运气。我什至不确定变量是什么，所以每当访问该页面时，我都会通过电子邮件将 var_dump($_Server) 发送给我。当我转到页面时它发送得很漂亮，但是当生成 pdf 时，没有运气。

有任何想法吗？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T02:12:10.200

您需要识别用户。此服务的唯一方法似乎是将某些内容附加到 pdf URL（GET 参数）。

因此，在服务器端创建一些秘密，用它签署用户 ID，将其附加到 impdf URL 并根据请求使用您的秘密对其进行解析。您最终将获得可用于授权的用户 ID。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-16T04:06:51.133

您是否尝试过查看 IP 地址？

该服务可能从相同的 IP 地址（或地址范围）访问该站点。如果是这种情况，那么您所要做的就是检查请求的远程 IP 地址，我相信这`$_SERVER['REMOTE_ADDR']`适用于 PHP。

不过，我还应该提到 IP 地址[ACL](http://en.wikipedia.org/wiki/Access_control_list)并不完美，因为 IP 地址可能会被[欺骗](http://en.wikipedia.org/wiki/IP_address_spoofing)。除非对进出网络的数据包有绝对的控制（或安全保证），否则它们可能不应该过于依赖安全性。也就是说，它们很可能足以满足您的“简单”安全要求。

[绕过](http://en.wikipedia.org/wiki/Referer_spoofing)[HTTP 引用](http://en.wikipedia.org/wiki/HTTP_referer)非常简单。因此，它对安全性不够可靠，应该持保留态度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-19T10:29:34.147

我不会接受上述任何建议。基本上它们都会降低您的安全措施。

我会使用诸如 PDFmyURL 的 API 之类的 API，它允许您通过多种标准方式直接登录。这确保您不必构建任何新内容。

直接链接到访问安全区域的部分：[PDFmyURL API 文档](http://pdfmyurl.com/html-to-pdf-api#secure)

披露：我为拥有这项服务的 Kaiomi 工作。

# java - 在没有phonegap的情况下将Web应用程序部署到android

> ID：12720124
> 
> 赞同：2
> 
> 时间：2012-10-04T04:05:21.833
> 
> 标签：java, android, cordova, sencha-touch-2

我正在将我的 Sench touch 2 应用程序部署到 android。我正在使用 PhoneGap 来做到这一点。它工作正常，但速度很慢。我试图将没有 PhoneGap 的应用程序部署到嵌入式 Webview。

我让应用程序运行，但它没有通过煎茶加载屏幕。

这是我的 MainActivity

```
public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        WebView myWebView = (WebView) findViewById(R.id.webView1);
        WebSettings webSettings = myWebView.getSettings();
        webSettings.setJavaScriptEnabled(true);
        webSettings.setAllowFileAccess(true); // i was trying this, dont know if i need it
        myWebView.loadUrl("file:///android_asset/www/index.html");
    }
} 
```

这是我的布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <WebView
        android:id="@+id/webView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_alignParentBottom="true"
        android:layout_alignParentLeft="true" />

</RelativeLayout> 
```

这些是我启用的权限

```
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
```

我似乎无法弄清楚我错过了什么。我有什么特别的事情要做才能让这个运行吗？

哦，LogCat不显示任何东西......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T00:22:17.600

如果您不打算调用任何本机代码（通过 Ext.Device 除外），您也可以使用 Sencha SDK Tools/Sencha CMD 打包您的 Sencha 应用程序。

文档位于：
[http ://docs.sencha.com/touch/2-0/#!/guide/native_android](http://docs.sencha.com/touch/2-0/#!/guide/native_android)

请注意，Sencha SDK 工具最近已更新为 Sencha CMD，有关更多信息和更多文档，请参阅此处发布的博文：
[http ://www.sencha.com/blog/all-new-sencha-cmd/](http://www.sencha.com/blog/all-new-sencha-cmd/)

# javascript - 黄瓜异步javascript错误

> ID：12720125
> 
> 赞同：0
> 
> 时间：2012-10-04T04:05:26.473
> 
> 标签：javascript, ruby-on-rails, ajax, cucumber, capybara

每当按下 composition/index.html.erb 中的“保存”按钮时，就会完成一个 ajax 请求并附加一行来显示同一页面中的 Composition.content 字符串。但我的黄瓜测试显示错误：

```
Feature: User creates compositions

  Scenario: User creates a composition                                                   # features/composition.feature:2
    Given I go to the compositions page                                                  # features/step_definitions/composition_steps.rb:1
    And I fill in "Content" with "My Globe number: +63-916-475-4261"                     # features/step_definitions/composition_steps.rb:5
    When I press "Save"                                                                  # features/step_definitions/composition_steps.rb:9
    Then I should see "My Globe number: +63-916-475-4261" added in the compositions page # features/step_definitions/composition_steps.rb:18
      Unable to find xpath "/html" (Capybara::ElementNotFound)
      (eval):2:in `text'
      ./features/step_definitions/composition_steps.rb:22:in `/^I should see "(.*?)" added in the compositions page$/'
      features/composition.feature:6:in `Then I should see "My Globe number: +63-916-475-4261" added in the compositions page'

Failing Scenarios:
cucumber features/composition.feature:2 # Scenario: User creates a composition

1 scenario (1 failed)
4 steps (1 failed, 3 passed)
0m0.904s 
```

是否由于此时尚未呈现添加的行而导致错误？请给我一些答案。谢谢！

以下是涉及的文件。

组成.特征

```
Feature: User creates compositions
  Scenario: User creates a composition
    Given I go to the compositions page
    And I fill in "Content" with "My Globe number: +63-916-475-4261"
    When I press "Save"
    Then I should see "My Globe number: +63-916-475-4261" added in the compositions page 
```

composition_step.rb

```
Given /^I go to the compositions page$/ do
  visit compositions_path
end

Given /^I fill in "(.*?)" with "(.*?)"$/ do |arg1, arg2|
  fill_in(arg1, :with => arg2)
end

When /^I press "(.*?)"$/ do |arg1|
  click_button 'Save'
end

Then /^I should see "(.*?)" added in the compositions page$/ do |arg1|
  page.should have_content(arg1)
end 
```

组合物/index.html.erb

```
<%= form_for @new_composition, remote: true do |f| %>
  <%= f.label :content %>
  <%= f.text_field :content %>
  <%= f.submit 'Save', id: "composition_submit" %>
<% end %>

<h1>Listing compositions</h1>

<table id="compositions_table">
<% @compositions.each do |composition| %>
  <tr>
    <td><%= composition.content %></td>
  </tr>
<% end %>
</table> 
```

composition_controller.rb

```
class CompositionsController < ApplicationController
  def index
    @new_composition = Composition.new
    @compositions = Composition.all

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @compositions }
    end
  end

  def create
    @composition = Composition.new(params[:composition])

    respond_to do |format|
      if @composition.save
        format.js
        format.json { render json: @composition, status: :created, location: @composition }
      else
        format.js
        format.json { render json: @composition.errors, status: :unprocessable_entity }
      end
    end
  end
end 
```

创建.js.erb

```
$('#compositions_table').prepend("<%= j(render('compositions/composition', composition: @composition)) %>") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T12:21:19.387

在 composition_step.rb 中试试这个

```
When /^(?:|I )fill in "([^\"]*)" with "([^\"]*)"$/ do |field, value|
 fill_in(field, :with => value)
end

When /^(?:|I )press "([^\"]*)"$/ do |button|
 click_button(button)
end

Then /^I should see "([^"]*)" within "([^"]*)"$/ do |text, selector|
  find(:xpath, "//#{selector}[contains(text(),'#{text}')]").should_not(be_nil, "Could  not find the text '#{text}' within the selector '#{selector}'")
end

Then /^I should see "(.*?)" added in the compositions page$/ do |text|
  page.should have_content(text)
end 
```

像这样的场景

```
Scenario: User creates a composition
    Given I go to the compositions page
    When I fill in "Content" with "My Globe number: +63-916-475-4261"
    And I press "Save"
    Then I should see "My Globe number: +63-916-475-4261" added in the compositions page 
```

# json - 如何将jqgrid数据转换为excel

> ID：12720131
> 
> 赞同：0
> 
> 时间：2012-10-04T04:06:22.493
> 
> 标签：json, asp.net-mvc-3, jqgrid, export-to-excel

嗨，在我的`MVC3(Razor)`应用程序中，我使用`Jqgrid`and`JSON`作为其输入。我想`export all the data into excel`。有什么方法`export jqgrid to excel`或`export JSON to excel`吗？如果有人知道，请分享。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:00:21.723

在[答案中](https://stackoverflow.com/a/9349688/315935)，您将找到代码和说明，为什么我认为应该在*服务器端使用*[Open XML SDK 2.0 ，而不是在 jqGrid（在](http://www.microsoft.com/download/en/details.aspx?id=5124)*客户端*）中使用某种转换。

# ios - 无法绘制 mkpolyline

> ID：12720132
> 
> 赞同：1
> 
> 时间：2012-10-04T04:06:28.827
> 
> 标签：ios, xcode, gps, mkmapview

我曾经`MKMapView`显示正常工作的地图和当前用户位置。现在我想在用户移动时绘制一条折线，但它不起作用我尝试了以下代码：

```
for(int i = 0; i < [longarray count]; i++)
{
    NSNumber *latt=[latarray objectAtIndex:i];
    NSNumber *lonn=[longarray objectAtIndex:i];
    sklat =[[NSString stringWithFormat:@"%@",latt]doubleValue];
    sklongi =[[NSString stringWithFormat:@"%@",lonn]doubleValue];
    CLLocationCoordinate2D coordinate1 = CLLocationCoordinate2DMake(sklat,sklongi);
    // break the string down even further to latitude and longitude fields.
    MKMapPoint point = MKMapPointForCoordinate(coordinate1);
    // if it is the first point, just use them, since we have nothing to compare to yet.
    pointsArray[i] = point;
}
self.routeLine = [MKPolyline polylineWithPoints:pointsArray count:[latarray count]];
free(pointsArray);
[mapview addOverlay:self.routeLine]; 
```

然后我使用覆盖功能作为

```
- (MKOverlayView *)mapView:(MKMapView *)mapView viewForOverlay:(id<MKOverlay>)overlay
{
    MKOverlayView* overlayView = nil;
    if(overlay == self.routeLine)
    {
        routeLineView = [[MKPolylineView alloc] initWithPolyline:self.routeLine] ;
        routeLineView.fillColor = [UIColor colorWithRed:0.000 green:5.100 blue:0.100  alpha:1];
        routeLineView.strokeColor = [UIColor colorWithRed:0.000 green:5.100 blue:0.100 alpha:1];
        routeLineView.lineWidth = 4;
        overlayView = routeLineView;
    }
    return overlayView;
} 
```

# java - 读取未知数量的输入

> ID：12720133
> 
> 赞同：3
> 
> 时间：2012-10-04T04:06:48.233
> 
> 标签：java, c++, input

我需要使用 C++ 或 Java 读取未知数量的输入。输入每行正好有两个数字。我需要使用`cin`or a`System.in` `Scanner`因为输入来自控制台，而不是来自文件。

示例输入：

```
1 2

3 4

7 8

100 200

121 10 
```

我想将值存储在向量中。我不知道我有多少对数字。如何设计一个`while`循环来读取数字，以便将它们放入向量中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T04:11:12.000

您可以在 C++ 中使用惯用语`std::copy`：（[在此处使用虚拟化输入字符串查看它](http://liveworkspace.org/code/4e3022a35088da2ac80b8628fbd97a59)）

```
std::vector<int> vec;
std::copy (
    std::istream_iterator<int>(std::cin), 
    std::istream_iterator<int>(), 
    std::back_inserter(vec)
); 
```

这样，每次从输入流中读取整数时，它将附加到向量上，直到读取失败，无论是来自错误输入还是 EOF。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T04:10:15.330

爪哇：

```
Scanner sc = new Scanner(System.in);
String inputLine;
while(sc.hasNextLine()) {
  inputLine = sc.nextLine();
  //parse inputLine however you want, and add to your vector
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-09-08T19:31:09.707

除了使用缓冲阅读器，可以使用 Scanner 如下来完成相同的操作

```
import java.util.*; 
```

公共类解决方案{

```
public static void main(String[] args) {
    Scanner scan = new Scanner(System.in);
    while(true)
    {
        String Line = new String(scan.nextLine());
        if(Line.length()==0)
        {
            break;
        }
    }
} 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-21T08:23:17.907

我发现的唯一解决方法：

```
import java.io.*;

class Solution {
    public static void main(String args[] ) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int i=1 ;
        String line =br.readLine();
        while(line.length()>0){
            System.out.println(line);
            line = br.readLine();
        }    
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-02-10T18:26:30.517

对于寻找不太花哨的 C++ 代码的人：

```
 #include<iostream>
    #include<vector>
    int main(){
        std::vector<int>inputs;  //any container
        for(int i;std::cin>>i;)  //here the magic happens
            inputs.push_back(i); //press Ctrl+D to break the loop
        for(int num:inputs)      //optional 
            std::cout<<num<<endl;
    } 
```

# mysql - MySQL 存储过程查找最接近匹配的电话呼叫率

> ID：12720135
> 
> 赞同：0
> 
> 时间：2012-10-04T04:07:02.713
> 
> 标签：mysql, sql, performance, stored-procedures, string-matching

# 我有两个电话号码，一个 a-party 和 b-party，我想找到最匹配的通话费率。

有一个呼叫费率表，其中包含各种 a 方和 b 方号码以及每分钟的费率。

在查找通话费率时，首先会找到参与方中最具体的匹配项。如果找到 b 方匹配，则使用最具体 b 方匹配的费率。如果没有为 a 方找到 b 方匹配，则查看下一个最具体的 a 方匹配以查看它是否具有 b 方匹配。如果未找到匹配项，则必须返回单独的消息。

```
i.e 
call_rates
a-party     b-party    rate_per_min
6495631234  619234     0.10
6495631     6192       0.12
649         61923      0.09
649         61         0.16 
```

对于上述通话费率，请致电：

`a-party: 6495631234`将`b-party: 619234567`返回`rate_per_min: 0.10`

`a-party: 6495631111`将`b-party: 619234567`返回`rate_per_min: 0.12`

`a-party: 6495631111`将`b-party: 611112345`返回`rate_per_min: 0.16`

`a-party: 6495631111`将`b-party: 619234566`返回`rate_per_min: 0.09`

到目前为止，这就是我尝试的方式。这是一个非常粗略的大纲。我在编写存储过程方面经验有限。

我只是在寻找一些关于是否有更好的方法来解决这个问题的建议。调用率表会非常大，所以我可以想象双循环会非常低效。

任何反馈将不胜感激。

```
DELIMITER //
DROP PROCEDURE IF EXISTS `get_rate`;
CREATE PROCEDURE `get_rate` (a VARCHAR(45), b VARCHAR(45), OUT rate VARCHAR(45))
get_r:BEGIN
    DECLARE i, j INT;
    DECLARE match_string, result, temp_string VARCHAR(255);

    SET j = LENGTH(b);
    SET i = LENGTH(a);

    WHILE i > 0 DO
        SET temp_string = SUBSTRING(a,0,i);
        SET result = (SELECT * FROM call_rate_overrides WHERE a_party LIKE CONCAT(temp_string, '%'));
        WHILE j > 0 DO
            SET temp_string = SUBSTRING(b,0,j);
            SET match_string = (SELECT * FROM call_rate_overrides WHERE b_party LIKE CONCAT(temp_string,'%'));
            IF ISNOTNULL(match_string) THEN
                SET rate = match_string;
                LEAVE get_r;
            END IF;  
            SET j = j - 1;
        END WHILE;

        SET i = i - 1;
    END WHILE;
END // 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T02:55:34.157

最终以这种方式解决了问题：

```
SELECT     s.a_party, s.b_party, (
           SELECT  cr.rate_per_min
           FROM call_rate_overrides cr
           WHERE s.a_party LIKE CONCAT(cr.a_party, '%')
           AND s.b_party   LIKE CONCAT(cr.b_party,  '%')
           ORDER BY LENGTH(cr.a_party) + LENGTH(cr.b_party) DESC, cr.rate_per_min
           LIMIT 1
     ) as rate_per_min
FROM call_usages s 
```

其中呼叫用法是 a 方和 b 方的表。它通过根据匹配的长度对它们进行排序来匹配全长方的最长数据库条目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:58:24.903

这个查询：

```
SELECT 
  s.a_party,
  s.b_party,
  cr.rate_per_min
FROM
    call_rate_overrides cr
INNER JOIN
    call_usages s ON 
        s.a_party LIKE CONCAT(cr.a_party, '%') AND
        s.b_party LIKE CONCAT(cr.b_party, '%')
INNER JOIN
(
  SELECT 
    s.a_party,
    s.b_party,
    MAX(LENGTH(cr.a_party) + LENGTH(cr.b_party)) as len
  FROM
    call_rate_overrides cr
  INNER JOIN
    call_usages s ON 
      s.a_party LIKE CONCAT(cr.a_party, '%') AND
      s.b_party LIKE CONCAT(cr.b_party, '%')
  GROUP BY
    s.a_party,
    s.b_party
) d ON
    d.a_party = s.a_party AND
    d.b_party = s.b_party AND
    d.len = LENGTH(cr.a_party) + LENGTH(cr.b_party)
ORDER BY
  d.a_party,
  d.b_party 
```

返回

```
a_party     b_party     rate_per_min
6495631111  611112345   0.16
6495631111  619234566   0.12
6495631111  619234567   0.12
6495631234  619234567   0.10 
```

与您的问题中除一个结果之外的所有结果相匹配：

```
a-party: 6495631111 to b-party: 619234566 would return the rate_per_min: 0.09 
```

如果你仔细看，你会发现正确的答案，确实是 0.12。

有关工作示例，请参阅[http://sqlfiddle.com/#!2/b402c/13 。](http://sqlfiddle.com/#!2/b402c/13)

# php - 如何在 PHP 中表达这个 cURL 命令

> ID：12720141
> 
> 赞同：-2
> 
> 时间：2012-10-04T04:08:30.880
> 
> 标签：php, http, curl, https

命令行 curl 是：

```
curl https://sitea.com/v1 -X PUT \
         -d callback_url="https://siteb.com/event" \ 
```

我有

```
ch = curl_init();

$callback_url = " https://sitea.com/v1";
curl_setopt($ch, CURLOPT_URL, $callback_url);

curl_exec($ch); 
```

但是，我不确定如何处理剩余的选项。什么是-X、-d 等？以及如何通过 PHP（不是命令行）表达该 curl 命令

谢谢大家！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:19:34.137

`-X`指定要使用的命令（HTTP 动词）。在这种情况下，它的`PUT`. 等价的将是`curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');`

`-d`是您要与请求一起发送的数据（有效负载）。等价的将是`curl_setopt($ch, CURLOPT_POSTFIELDS, 'callback_url="https://siteb.com/event"');`

正如其他人在评论中提到的那样，首先要检查“此选项有什么作用”是手册页（称为手册页，因为`man`是用于加载文档的命令）。如果您没有安装 curl 实用程序，有很多网站提供 Linux 手册页的在线搜索。一个是[http://man.he.net/](http://man.he.net/)

# mongodb - 如何在 Symfony2 中使用 MongoDB 创建 WHERE ... OR ... 查询？

> ID：12720147
> 
> 赞同：0
> 
> 时间：2012-10-04T04:09:12.307
> 
> 标签：mongodb, symfony, doctrine-orm, symfony-2.1, doctrine-odm

在我的内部，我`UserRepository`想创建自定义查询，就像我`$dm->createQuery('some query')`在不使用 MongoDB 时可以创建的查询一样。

我怎样才能做到这一点？我看到该`$this->createQueryBuilder()`方法存在，但`$this->createQuery()`不存在。

我也试过这个，因为它是有道理的，但没有奏效：

```
$this->createQueryBuilder('u')
    ->where(array('$or' => array(
        array('u.username' => $username),
        array('u.email' => $username)
    )))
    // ... 
```

它说 $or 是一个无效的运算符。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:37:53.693

在这里找到它：[Doctrine2 Mongodb 添加更多 $or 运算符](https://stackoverflow.com/questions/7452536/doctrine2-mongodb-adding-more-or-operator)

```
/**
 * Adds an "or" expression to the current query.
 *
 * You can create the expression using the expr() method:
 *
 *     $qb = $this->createQueryBuilder('User');
 *     $qb
 *         ->addOr($qb->expr()->field('first_name')->equals('Kris'))
 *         ->addOr($qb->expr()->field('first_name')->equals('Chris'));
 *
 * @param array|QueryBuilder $expression
 * @return Builder
 */

/**
 * Adds an "and" expression to the current query.
 *
 * You can create the expression using the expr() method:
 *
 *     $qb = $this->createQueryBuilder('User');
 *     $qb
 *         ->addAnd($qb->expr()->field('first_name')->equals('Kris'))
 *         ->addAnd($qb->expr()->field('first_name')->equals('Chris'));
 *
 * @param array|QueryBuilder $expression
 * @return Query
 */ 
```

# python - 将项目分组到存储桶中的简单方法

> ID：12720151
> 
> 赞同：16
> 
> 时间：2012-10-04T04:09:44.350
> 
> 标签：python

我经常想在 python 中存储一个无序的集合。[`itertools.groubpy`](http://docs.python.org/library/itertools.html#itertools.groupby)做正确的事情，但几乎总是需要先对项目进行按摩，然后在迭代器被消耗之前捕获它们。

是否有任何快速的方法来获得这种行为，无论是通过标准的 python 模块还是简单的 python 成语？

```
>>> bucket('thequickbrownfoxjumpsoverthelazydog', lambda x: x in 'aeiou')
{False: ['t', 'h', 'q', 'c', 'k', 'b', 'r', 'w', 'n', 'f', 'x', 'j', 'm', 'p',
    's', 'v', 'r', 't', 'h', 'l', 'z', 'y', 'd', 'g'],
 True: ['e', 'u', 'i', 'o', 'o', 'u', 'o', 'e', 'e', 'a', 'o']}
>>> bucket(xrange(21), lambda x: x % 10)
{0: [0, 10, 20],
 1: [1, 11],
 2: [2, 12],
 3: [3, 13],
 4: [4, 14],
 5: [5, 15],
 6: [6, 16],
 7: [7, 17],
 8: [8, 18],
 9: [9, 19]} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-04T04:44:07.503

This has come up several times before -- [(1)](https://stackoverflow.com/questions/8793772/how-to-split-a-sequence-according-to-a-predicate), [(2)](https://stackoverflow.com/questions/949098/python-split-a-list-based-on-a-condition), [(3)](https://stackoverflow.com/questions/4578590/python-equivalent-of-filter-getting-two-output-lists-i-e-partition-of-a-list) -- and there's a partition recipe in the [`itertools` recipes](http://docs.python.org/dev/library/itertools.html#itertools-recipes), but to my knowledge there's nothing in the standard library.. although I was surprised a few weeks ago by `accumulate`, so who knows what's lurking there these days? :^)

When I need this behaviour, I use

```
from collections import defaultdict

def partition(seq, key):
    d = defaultdict(list)
    for x in seq:
        d[key(x)].append(x)
    return d 
```

and get on with my day.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-04T04:33:46.030

这是一个简单的两个班轮

```
d = {}
for x in "thequickbrownfoxjumpsoverthelazydog": d.setdefault(x in 'aeiou', []).append(x) 
```

**编辑：**

只需添加您的其他案例以确保完整性。

```
d={}
for x in xrange(21): d.setdefault(x%10, []).append(x) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-01-26T12:16:35.453

当谓词是布尔值时，这是上面的变体`partition()`，避免了`dict`/的成本`defaultdict`：

```
def boolpartition(seq, pred):
    passing, failing = [], []
    for item in seq:
        (passing if pred(item) else failing).append(item)
    return passing, failing 
```

示例用法：

```
>>> even, odd = boolpartition([1, 2, 3, 4, 5], lambda x: x % 2 == 0)
>>> even
[2, 4]
>>> odd
[1, 3, 5] 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-10-30T02:53:39.197

如果它`pandas.DataFrame`以下也有效，则利用[`pd.cut()`](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.cut.html)

```
from sklearn import datasets
import pandas as pd

# import some data to play with
iris = datasets.load_iris()
df_data = pd.DataFrame(iris.data[:,0])  # we'll just take the first feature

# bucketize
n_bins = 5
feature_name = iris.feature_names[0].replace(" ", "_")
my_labels = [str(feature_name) + "_" + str(num) for num in range(0,n_bins)]
pd.cut(df_data[0], bins=n_bins, labels=my_labels) 
```

屈服

```
0      0_1
1      0_0
2      0_0
[...] 
```

如果您不设置`labels`，输出将是这样的

```
0       (5.02, 5.74]
1      (4.296, 5.02]
2      (4.296, 5.02]
[...] 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-04T04:44:45.707

Edit:

Using DSM's answer as a start, here is a slightly more concise, general answer:

```
d = defaultdict(list)
map(lambda x: d[x in 'aeiou'].append(x),'thequickbrownfoxjumpsoverthelazydog') 
```

or

```
d = defaultdict(list)
map(lambda x: d[x %10].append(x),xrange(21)) 
```

#

Here is a two liner:

```
d = {False:[],True:[]}
filter(lambda x: d[True].append(x) if x in 'aeiou' else d[False].append(x),"thequickbrownfoxjumpedoverthelazydogs") 
```

Which can of course be made a one-liner:

```
d = {False:[],True:[]};filter(lambda x: d[True].append(x) if x in 'aeiou' else d[False].append(x),"thequickbrownfoxjumpedoverthelazydogs") 
```

# ruby-on-rails - 发送邀请后 Rails Devise_invitable 路由错误

> ID：12720155
> 
> 赞同：1
> 
> 时间：2012-10-04T04:09:51.573
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise

我安装了 devise_invitable gem 并获得了一个工作视图（用户/邀请/新），我可以在其中向某些电子邮件发送邀请。一旦我点击“发送邀请”按钮。我被重定向到 /invitations/user 并出现路由错误“没有路由匹配 [POST]”/invitations/user”。如果有人知道为什么 gem 重定向到这个未定义的新路由，我将不胜感激。我错过了一步吗在安装中？以下是我当前的 rake 路线信息：

```
root        /                                      landing#index
           landing_index GET    /landing/index(.:format)               landing#index
        new_user_session GET    /users/sign_in(.:format)               devise/sessions#new
            user_session POST   /users/sign_in(.:format)               devise/sessions#create
    destroy_user_session DELETE /users/sign_out(.:format)              devise/sessions#destroy
  user_omniauth_callback        /users/auth/:action/callback(.:format) devise/omniauth_callbacks#(?-mix:(?!))
cancel_user_registration GET    /users/cancel(.:format)                registrations#cancel
       user_registration POST   /users(.:format)                       registrations#create
   new_user_registration GET    /users/sign_up(.:format)               registrations#new
  edit_user_registration GET    /users/edit(.:format)                  registrations#edit
                         PUT    /users(.:format)                       registrations#update
                         DELETE /users(.:format)                       registrations#destroy
             user_unlock POST   /users/unlock(.:format)                devise/unlocks#create
         new_user_unlock GET    /users/unlock/new(.:format)            devise/unlocks#new
                         GET    /users/unlock(.:format)                devise/unlocks#show
  accept_user_invitation GET    /users/invitation/accept(.:format)     devise/invitations#edit
         user_invitation POST   /users/invitation(.:format)            devise/invitations#create
     new_user_invitation GET    /users/invitation/new(.:format)        devise/invitations#new
                         PUT    /users/invitation(.:format)            devise/invitations#update
                   posts GET    /posts(.:format)                       posts#index
                         POST   /posts(.:format)                       posts#create
                new_post GET    /posts/new(.:format)                   posts#new
               edit_post GET    /posts/:id/edit(.:format)              posts#edit
                    post GET    /posts/:id(.:format)                   posts#show
                         PUT    /posts/:id(.:format)                   posts#update
                         DELETE /posts/:id(.:format)                   posts#destroy
                profiles GET    /profiles(.:format)                    profiles#index
                         POST   /profiles(.:format)                    profiles#create
             new_profile GET    /profiles/new(.:format)                profiles#new
            edit_profile GET    /profiles/:id/edit(.:format)           profiles#edit
                 profile GET    /profiles/:id(.:format)                profiles#show
                         PUT    /profiles/:id(.:format)                profiles#update
                         DELETE /profiles/:id(.:format)                profiles#destroy 
```

# c# - 如何在每张账单上生成发票编号

> ID：12720158
> 
> 赞同：3
> 
> 时间：2012-10-04T04:10:08.423
> 
> 标签：c#

我在不使用数据库的情况下生成了一个 Bill Generator 应用程序。此应用程序生成账单并将其以文件名作为 HTML 文件保存在文件夹中。现在我正在使用时间戳为每张账单生成一个唯一的 ID。现在我想减少我的身份证的长度；我想使用序列号。

问题：我正在使用一个整数变量，点击时我将值加一，但是当我重新启动我的应用程序时，*计数器被重置*......

如何保存上次生成的值并在应用程序重新启动时从上次中断的地方继续？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T04:21:02.150

以下是一些选项，具体取决于您的应用程序和需求：

*   使用文本文件。
*   将值存储在[用户范围的 Setting](http://msdn.microsoft.com/en-us/library/aa730869%28v=vs.80%29.aspx)中。
*   将值保存在注册表中的某处。
*   从上次生成的账单中解析值并从您离开的地方继续。
*   将值保存在您的 Web 服务器上并在必要时检索它。
*   让您的 Web 服务器或其他持久的东西始终生成值，而不是在本地创建它们。
*   要求用户记住号码并在下次输入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:14:24.470

如果您坚持使用日期/时间驱动值，请使用以下？

```
DateTime.Now.Ticks 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:17:44.253

使用`Settings`.NET 的特性，您可以创建和访问在应用程序执行会话之间持续存在的值。设置可以代表用户偏好或应用程序需要使用的有价值的信息。有关更多信息，
请参阅此[MSDN 链接](http://msdn.microsoft.com/en-us/library/aa730869%28v=vs.80%29.aspx)`Settings`。

# python - pandas 替代字符串创建循环

> ID：12720159
> 
> 赞同：0
> 
> 时间：2012-10-04T04:10:11.520
> 
> 标签：python, string, for-loop, pandas

我有一些代码可以通过 PyWorkbooks 很好地与 excel spredsheets 配合使用，但我想在 pandas 上做同样的工作。这是原始代码：

```
from PyWorkbooks.ExWorkbook import ExWorkbook
B = ExWorkbook()
B.change_workbook("Somelist.xlsx")
B.change_sheet("Tab1")

#column 6 = 1 if row customer likes cucumber, 0 otherwise
#column 7 = 1 if row customer likes carrot, 0 otherwise
#column 8 = 1 if row customer likes spinach, 0 otherwise
string1 = "Likes %s."
string2 = "Likes %s and %s."
string3 = "Likes %s, %s, and %s."

def findveg(row):
    veggies = []
    if B[row,6] == 1:
        veggies.append('cucumber')
    if B[row,7] == 1:
        veggies.append('carrot')
    if B[row,8] == 1:
        veggies.append('spinach')
    return tuple(veggies)

for i in range(1,100):
    if len(veggies) == 1:
        veggies= findveg(i)
        B[i,9] = string1 % veggies
    if len(veggies) == 2:
        veggies= findveg(i)
        B[i,9] = string2 % veggies
    if len(veggies) == 3:
        veggies= findveg(i)
        B[i,9] = string3 % veggies 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:07:57.997

```
string1 = "Likes %s."
string2 = "Likes %s and %s."
string3 = "Likes %s, %s, and %s."

def findveg(row):
    veggies = []
    if DF['cucumber_lover'][row] == 1:
        veggies.append('cucumber')
    if DF['carrot_lover'][row] == 1:
        veggies.append('carrot')
    if DF['spinach_lover'][row] == 1:
        veggies.append('spinach')
    return tuple(veggies)

flist['msg'] = ''
for row in DF.index:
        veggies = findfac(row)
        if len(veggies) == 1:
            findveg['msg'][row] = string1 % veggies
        if len(veggies) == 2:
            findveg['msg'][row] = string2 % veggies
        if len(veggies) == 3:
            findveg['msg'][row] = string3 % veggies 
```

# android - 无法在 AVD Eclipse 中运行我的第一个 Hello World

> ID：12720163
> 
> 赞同：1
> 
> 时间：2012-10-04T04:11:00.470
> 
> 标签：android, eclipse, android-layout

我正在尝试按照[此链接](http://developer.android.com/training/basics/firstapp/building-ui.html)上的教程进行操作，但出现以下错误

```
[2012-10-03 22:02:16 - MyFirstApp] res\layout\activity_main.xml:0: error: Resource entry activity_main is already defined.
[2012-10-03 22:02:16 - MyFirstApp] res\layout\activity_main.out.xml:0: Originally defined here.
[2012-10-03 22:02:16 - MyFirstApp] D:\Users\Adam\workspace\MyFirstApp\res\layout\activity_main.out.xml:1: error: Error parsing XML: no element found
[2012-10-03 22:03:23 - MyFirstApp] Error in an XML file: aborting build.
[2012-10-03 22:04:47 - MyFirstApp] res\layout\activity_main.xml:0: error: Resource entry activity_main is already defined.
[2012-10-03 22:04:47 - MyFirstApp] res\layout\activity_main.out.xml:0: Originally defined here.
[2012-10-03 22:04:47 - MyFirstApp] D:\Users\Adam\workspace\MyFirstApp\res\layout\activity_main.out.xml:1: error: Error parsing XML: no element found
[2012-10-03 22:04:53 - SDK Manager] Warning: Ignoring library 'com.motorola.android.iextdispservice', missing property value
[2012-10-03 22:04:57 - SDK Manager] Warning: Ignoring library 'com.motorola.android.iextdispservice', missing property value
[2012-10-03 22:05:27 - MyFirstApp] Error in an XML file: aborting build. 
```

我的 activity_main.xml 中有以下代码

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

    <EditText android:id="@+id/edit_message"
        android:layout_weight="1"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:hint="@string/edit_message" />

      <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/button_send" />         
</LinearLayout> 
```

谁能告诉我出了什么问题。我花了很多时间试图解决这个问题。配置有问题吗？当我单击运行按钮时，会创建一个名为 activity_main.out.xml 的文件，该文件为空。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:13:36.063

您正在尝试运行 xml 文件`activity_main`。将焦点更改为任何 java 文件或通过右键单击项目从包资源管理器中运行它并运行它。在执行所有这些操作之前，请删除您的`activity_main.out`文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T04:17:23.487

删除**activity_main.out.xml** 并运行 -> 作为 Android 应用程序运行。会解决这个问题。

这个问题是因为当你按下 Run 时 Eclipse 会自动在 xml 上使用 XSLT。删除 main.out.xml 很烦人，你可以在 Windows->Preference->Run/Debug->Launching->Launching Operation->Always launch 以前启动的应用程序中修改启动操作。（我的 Eclipse 版本是 Indigo JavaEE）

还要检查[这个](http://situee.blogspot.in/2011/02/unparsed-aapt-error-mainoutxml.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T04:15:55.067

删除项目中的 activity_main.out.xml 然后选择项目 -> 清理 -> 选择您的项目

# c# - List 不能维护唯一元素，但 HashSet 不能通过索引访问。如何？

> ID：12720166
> 
> 赞同：0
> 
> 时间：2012-10-04T04:11:15.160
> 
> 标签：c#, list, data-structures, hashset

我还是 C# 的新手。我想`List<ElementObj>`在我正在编写的 C# 应用程序中有一个。必须维护一组独特的`List`元素，即`List`. 我还打算根据 的属性对列表的顺序进行*排序*。`type``ElementObj`

我打算使用`List`来自`System.Collections.Generics`. 但`List`不要单独保持*独特性*。所以，每次在我向列表中添加一个元素之前，我可能必须遍历整个列表来检查一个元素是否已经存在于`List`. 这听起来不是很有效。

我读到我可以使用`HashSet`. 这将确保集合中元素的唯一性。但是，问题是我无法`HashSet`通过索引访问元素，比如说`myHashSet[0]`。

在这种情况下，最好的数据结构或有效的解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:22:36.360

我会创建自己的集合类，将对象内部保存在哈希集和列表中。

```
public class HashList<T> {
   private HashSet<T> _hashSet;
   private List<T> _list;

   public T this[int i]
   {
       return _list[i];
   }

   public void add(T item) 
   {
       if (_hashSet.add(item))
          _list.add(item);
   }
} 
```

# sql - 计数不同的查询 MS Access

> ID：12720169
> 
> 赞同：1
> 
> 时间：2012-10-04T04:11:22.983
> 
> 标签：sql, ms-access

似乎我们不能使用`Count (Distinct column)`MS Access 中的功能。我有以下数据和预期结果，如下所示

寻找可以提供所需结果的 MS Access 查询。

数据

```
ID     Name     Category    Person  Office
1      FIL       Global     Ben     london
1      FIL       Global     Ben     london
1      FIL       Overall    Ben     Americas
106   Asset      Global     Ben     london
156   ICICI      Overall    Rimmer  london
156   ICICI      Overall    Rimmer  london
188   UBS       Overall     Rimmer  london
9    Fund      Global       Rimmer  london 
```

预期结果

```
Person  Global_Cnt  Overall_Cnt    
Ben          2         1
Rimmer       1         2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:56:54.743

使用子查询从表中选择不同的值。

在父查询中，对每个类别`GROUP BY Person`使用单独`Count()`的表达式。 `Count()`仅计算非 Null 值，因此`IIf()`用于为感兴趣的类别返回 1，否则返回 Null。

```
SELECT
    sub.Person,
    Count(IIf(Category = 'Global', 1, Null)) AS Global_Cnt,
    Count(IIf(Category = 'Overall', 1, Null)) AS Overall_Cnt
FROM
    (
        SELECT DISTINCT ID, Category, Person
        FROM YourTable
    ) AS sub
GROUP BY sub.Person; 
```

我不确定哪些字段可以识别您的唯一值，因此选择了`ID`、`Category`和`Person`。查询的结果集与您的要求相匹配；`SELECT DISTINCT`如果它不适合您的实际数据，请更改字段列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:31:02.773

在 Microsoft Access 中创建查询时，您可能只想返回不同或唯一的值。查询的属性表中有两个选项，“唯一值”和“唯一记录”：

DISTINCT 和 DISTINCTROW 有时提供相同的结果，但存在显着差异：

**DISTINCT** DISTINCT 仅检查 SQL 字符串中列出的字段，然后消除重复行。DISTINCT 查询的结果不可更新。它们是数据的快照。

DISTINCT 查询类似于 Summary 或 Totals 查询（使用 GROUP BY 子句的查询）。

**另一方面，**DISTINCTROW DISTINCTROW 检查正在查询的表中的所有字段，并根据整个记录（而不仅仅是选定的字段）消除重复项。**DISTINCTROW 查询的结果是可更新的。**

 **[阅读更多...](http://www.fmsinc.com/microsoftaccess/query/distinct_vs_distinctrow/unique_values_records.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-20T10:47:18.637

```
select count(column) as guessTable
from
(
    select distinct column from Table
) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-20T10:59:55.710

MS Access-Engine 不支持

```
 SELECT count(DISTINCT....) FROM ... 
```

你必须这样做：

```
 SELECT count(*) 
 FROM
 (SELECT DISTINCT Name FROM table1) 
```

它的一个小解决方法......你正在计算一个 DISTINCT 选择。**

# php - php登录脚本在本地工作，但不在主机上

> ID：12720172
> 
> 赞同：0
> 
> 时间：2012-10-04T04:11:50.940
> 
> 标签：php, mysql, login-script

```
<?php 
session_start();
include 'db.php';
include 'header.html'; 

if(!empty($_SESSION['LoggedIn']) && !empty($_SESSION['email'])) {
  header("location:profile.php");

} elseif(!empty($_POST['email']) && !empty($_POST['pass'])) {
  $email = mysql_real_escape_string($_POST['email']);
  $pass = md5(mysql_real_escape_string($_POST['pass']));

  $sql = mysql_query("SELECT id, name, email, pass FROM users WHERE email='$email' AND pass='$pass'");

  $row = mysql_fetch_array($sql);
  $id = $row['id'];
  $email1 = $row['email'];
  $name = $row['name'];

  $num = mysql_num_rows($sql);
  if($num == 1) {
    $_SESSION['id'] = $id;
    $_SESSION['email'] = $email1;
    $_SESSION['name'] = $name;
    $_SESSION['LoggedIn'] = 1;
    $update = mysql_query("UPDATE users SET lastlogin=NOW() WHERE email='$email1'");

    header("location:profile.php");

  } else {
    echo "<h1>Error</h1>";
    echo "<p>Sorry! Either your account could not be found or you have entered the wrong email or password. Please try again.</p>";
  }
}
?> 
```

该脚本在我的 localhost 环境中完美运行，但是当上传到主机时，登录后它不会转到 profile.php。此外，如果会话已设置或不为空，它也不会重定向到 profile.php。有任何想法吗？

第二个问题，我的代码对于将“lastlogin”更新到当前时间是否正确？为此，数据库结构必须是什么？它没有在我的数据库中更新。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:26:49.430

您的代码非常适合更新 lastlogin，但是您得到的错误是什么？请给出你在这方面遇到的错误类型。从逻辑上讲，您的代码似乎是正确的，可能是一些语法错误。在页面顶部添加 error_reporting(E_ALL) 并查看实际发生了什么错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:16:53.207

```
header("location: profile.php");
                ^ //space should present because in some host environment it creates problem 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T04:30:28.687

如果您从最可能使用 POST 的表单重定向到登录脚本，您不应该使用 $_POST[''] 而不是 $_SESSION 吗？

只是一个想法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T04:56:46.833

始终`exit();`在`header`重定向后使用

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T16:22:00.817

好的，通过广泛的搜索发现了它。标头已经与

```
include header.html 
```

行，所以它无法执行

```
header(location: profile.php) 
```

线。直到现在我才听说过这个问题。所以为了解决这个问题，我刚搬家

```
<?php
...
include header.html
?> 
```

在 HTML 开始之前到 php 代码的底部。现在包含标题行可以做到这一点，然后仍然会为页面加载标题。

感谢您对此的所有帮助。

# javascript - 在 Metro App 中实现计时器应用

> ID：12720173
> 
> 赞同：0
> 
> 时间：2012-10-04T04:12:00.633
> 
> 标签：javascript, timer, microsoft-metro, windows-runtime, winjs

我正在 Metro 应用程序中开发一个游戏，其中将有一个游戏运行的初始计时器，比如说大约 1 分 50 秒，计时器显示当前时间。如果 1 分 50 秒时间结束，游戏将结束它会显示一条消息，我将如何实施这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T04:41:27.537

这基本上可以解决问题，尽管这是我的应用程序唯一做的事情，因此您的实际性能可能会有所不同，并且可能还有其他改进，风格和其他方面，您可以：

```
var timer = setInterval(function () {
    var div = document.getElementById('time'); // this is just a div

    // the div shows the time like this: "1:20" - 1 minute, 20 seconds
    var lastValue = div.innerText.split(':');

    var newValue = parseInt(lastValue[0]) * 60 + parseInt(lastValue[1]) + 1;

    if (newValue === 110) {
        div.innerText = "Game over!";
        clearInterval(timer);
    } else {
        div.innerText = Math.floor(newValue / 60) + ':' + newValue % 60;
    }
}, 1000); 
```

如需更强大的功能，请查看[这篇文章](http://davidpallmann.blogspot.ca/2012/08/adventures-in-windows-8-timer-metro-app.html)。看起来它非常接近您想要做的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:42:27.610

I would say, you can try this (untested):

```
remainingTime = 110;
setInterval(function() {
        countdownStarted(); // game started
    }, 
    milliseconds // game will start in this much time
);

function countdownStarted() {
    setInterval(function() {
            remainingTime = remainingTime*100;
            updateTimeOnScreen(); // after every second
            if(remainingTime) countdownStarted();
        },
        100
    );
}

function updateTimeOnScreen() {
    if(remainingTime == 0) {
        timeUp(); // game over
    }
    // function continues
} 
```

For more examples, I would suggest you to read [this article](http://devhammer.net/blog/w8wil-3-timers-using-settimeout-in-a-windows-8-app).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T04:39:03.767

您可以创建一个对象，该对象的 setTimeout 和 clearTimeout 方法设置为某个用户定义的值。

[此链接](http://davidpallmann.blogspot.in/2012/08/adventures-in-windows-8-timer-metro-app.html)还可以为您提供一些有用的信息。

# .htaccess - 非 www 到 www .htaccess 重定向不起作用？

> ID：12720175
> 
> 赞同：0
> 
> 时间：2012-10-04T04:12:13.257
> 
> 标签：.htaccess

> **可能重复：**
> [apache 从非 www 重定向到 www](https://stackoverflow.com/questions/1100343/apache-redirect-from-non-www-to-www)

我希望我的域将非 www 重定向到 www 版本。由于某种原因，下面的代码不起作用。

有什么建议么？

很可能是任何简单的修复，但我无法让它工作。

```
<ifmodule mod_deflate.c>
<filesmatch \.(css|html|js|php|xml)$>
    setoutputfilter deflate
</filesmatch>
</ifmodule>
<ifmodule mod_security.c>
secfilterengine off
secfilterscanpost off
</ifmodule>

<ifmodule mod_rewrite.c>
    RewriteEngine on
RewriteCond %{HTTP_HOST} ^trailerpulse.com/
RewriteRule (.*) http://www.trailerpulse.com/$1 [R=301,L]
RewriteCond %{request_filename} -f
RewriteRule ^(.*) $1 [L]
RewriteRule ^([a-z]+)(/([^/]{0,32})(/.+)?)?$  index.php?a=$1&q=$3    [L]

</ifmodule>
<ifmodule mod_expires.c>
ExpiresActive On
ExpiresDefault A0
<filesmatch \.(css|js|gif|jpe?g|png)$>
    ExpiresDefault A604800
</filesmatch>
<filesmatch \.(html|xml)$>
    ExpiresDefault A10800
</filesmatch>
</ifmodule>

FileEtag None
Options All -Indexes
ServerSignature Off
ErrorDocument 404 /error 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:32:38.187

你的规则几乎就在那里。唯一的问题是主机名后面有一个斜杠，它*永远不会*出现在请求的“主机：”标头中。替换`/`with`$`并添加`[NC]`标志以忽略大小写：

```
RewriteCond %{HTTP_HOST} ^trailerpulse.com$ [NC]
RewriteRule (.*) http://www.trailerpulse.com/$1 [R=301,L] 
```

# c - 为什么我的按位除法函数会产生分段错误？

> ID：12720182
> 
> 赞同：0
> 
> 时间：2012-10-04T04:13:08.500
> 
> 标签：c, segmentation-fault, bit-manipulation

我的代码在下面，它适用于大多数输入，但我注意到对于非常大的数字（特定示例为 2147483647 除以 2），我遇到分段错误并且程序停止工作。请注意， badd() 和 bsub() 函数分别只是简单地加或减整数。

```
unsigned int bdiv(unsigned int dividend, unsigned int divisor){  
    int quotient = 1; 
    if (divisor == dividend)
    {
        return 1; 
    }
    else if (dividend < divisor)
    {   return -1; }// this represents dividing by zero

    quotient = badd(quotient, bdiv(bsub(dividend, divisor), divisor));

    return quotient;
} 
```

我的 bmult() 函数也有点麻烦。它适用于某些值，但程序对于诸如 -8192 乘以 3 之类的值会失败。还列出了此函数。提前感谢您的帮助。对此，我真的非常感激！

```
int bmult(int x,int y){
    int total=0;
    /*for (i = 31; i >= 0; i--)
    {
        total = total << 1;
        if(y&1 ==1)
        total = badd(total,x);
    }
    return total;*/ 
    while (x != 0)
    {
        if ((x&1) != 0)
        {
            total = badd(total, y);
        }
        y <<= 1;
        x >>= 1;
    }
    return total; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:34:12.870

在乘法中，这条线会溢出和截断`y`，因此`badd()`会得到错误的输入：

```
y<<=1; 
```

这一行：

```
x>>=1; 
```

不会为消极的`x`好工作。大多数编译器会在此处进行所谓的算术移位，这就像将 0 移到最高有效位的常规移位，但经过扭曲，最高有效位不会改变。所以，向右移动任何负值最终会给你-1。并且 -1 右移将保持 -1，导致你的乘法无限循环。

您不应该使用无符号整数乘法算法来乘以有符号整数。如果它在其核心中使用带符号的类型，它不太可能运行良好（如果有的话）。

如果要乘以有符号整数，可以首先使用无符号类型实现无符号整数的乘法。然后您实际上可以将其用于有符号乘法。这几乎适用于所有系统，因为它们使用有符号整数的 2 的补码表示。

示例（假设 16 位 2 的补码整数）：

-1 * +1 -> 0xFFFF * 1 = 0xFFFF -> 转换回有符号 -> -1
-1 * -1 -> 0xFFFF * 0xFFFF = 0xFFFE0001 -> 截断为 16 位并转换为有符号 -> 1

在划分以下两行

```
else if (dividend < divisor)
{   return -1; }// this represents dividing by zero 
```

是完全错误的。想一想，1/2 是多少？它是 0，而不是 -1 或 (unsigned int)-1。

此外，`UINT_MAX`/1 是多少？是`UINT_MAX`。因此，当您的除法函数返回时`UINT_MAX`，`(unsigned int)-1`您将无法区分，因为这两个值是相同的。您确实应该使用不同的机制来通知调用者溢出。

哦，当然还有这一行：

```
quotient = badd(quotient, bdiv(bsub(dividend, divisor), divisor)); 
```

当商预计很大时，将导致堆栈溢出。不要递归地执行此操作。至少，请改用循环。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:25:29.563

您的 bdiv 问题很可能是由递归深度引起的。在您给出的示例中，您将大约 1073741824 帧放入堆栈，基本上用完了分配的内存。

事实上，这个函数没有真正的理由需要递归。我可以很容易地转换为迭代解决方案，从而缓解堆栈问题。

# ios - 如何解决progressView的移动动画延迟

> ID：12720190
> 
> 赞同：1
> 
> 时间：2012-10-04T04:14:48.360
> 
> 标签：ios, uiprogressview

目前，我正在通过调用方法从 Web 服务器下载数据`fetchProducts`。这是在另一个单独的线程中完成的。当我在上述方法中成功下载了 50 个项目时，我通过方法调用`post`向. 请注意，这是另一个选择器。现在，当收到通知时，我设置了 my 的属性和一个告诉进度的标签。下面是我在 UI 中进行此更改的代码。`[NSNotification defaultCenter]``postNotificationName: object:``Observer``Observer``ViewController``updateProductsBeingDownloadedCount:``Observer``progressView`

```
dispatch_async(dispatch_get_main_queue(), ^{
    if ([notif.name isEqualToString:@"DownloadingProducts"]) {

        [self.progressBar setProgress:self.progress animated:YES];
        NSLog(@"SetupStore: progress bar value is %.0f", self.progressBar.progress);

        self.progressLabel.text = [NSString stringWithFormat:@"Downloading %.0f%% done...", self.progress * 100];
        NSLog(@"SetupStore: progress label value is %@", self.progressLabel.text);
        [self.view reloadInputViews];
    }
}); 
```

这个想法是`progressView`在下载更多项目时同时移动，直到完成。在我的情况下，`progressView`的动画将在项目已经下载后立即开始，因此会延迟。请告诉我这一点。

# c# - 在c#中从base64和UTF8转换后获取视频文件

> ID：12720197
> 
> 赞同：0
> 
> 时间：2012-10-04T04:16:04.127
> 
> 标签：c#, java, base64, fileinputstream

我需要做的是将文件从 java 发送到 c#。同时java充当客户端，c#充当服务器。

该文件通过fileinputstream加载到java中，然后转换为utf8然后base64。看代码。

```
FileInputStream fin=new FileInputStream(fileName);
          byte[] content = new byte[fin.available()];
          fin.read(content, 0, content.length);
          String asString = new String(content, "UTF8");
          byte[] newBytes = asString.getBytes("UTF8");
          String base64 = Base64.encodeToString(newBytes, Base64.DEFAULT); 
```

服务器（使用 c# 语言）将读取发送的数据并将其转换回文件。我使用base64然后到utf8，最后我不知道如何制作它。我试图发送的是 144kb 或更小的 video.mp4 大小。到目前为止，输出显示了“错误格式”的捕获。看代码。

```
 try
            {

                for (int i = 0; i <= _server.Q.NoOfItem - 1; i++)
                {
                    words = _server.Q.ElementAtBuffer(i).ToString();
                    //textBox1.Text = words;

                    byte[] encodedDataAsBytes = System.Convert.FromBase64String(words);
                    string returnValue = System.Text.Encoding.UTF8.GetString(encodedDataAsBytes);

                    textBox1.Text = returnValue;

                }
}
            catch (ArgumentNullException argNull) 
            {
                textBox1.Text = "Received null value";
            }
            catch (FormatException FrmtEx)
            {
                textBox1.Text = "Wrong format";
            } 
```

您可以忽略，`for (int i = 0; i <= _server.Q.NoOfItem - 1; i++)`因为这是我想要捕获/检索发送的数据的方式。

p/s：当我只是试图传递任何字符串而不加载文件（字符串 >> utf8 >> base64）并接收（base64 >> utf8 >> 字符串）时，它可以工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:10:38.307

> 该文件通过fileinputstream在java中加载并转换为utf8

然后你丢失了数据。视频数据*不是*文本数据，所以不要将其作为文本数据加载。将其视为二进制数据 - 如果您需要在某处将其表示为字符串但*不*对它执行任何文本解码，请务必将其编码为 base64，因为这仅适用于*编码的文本数据*，而事实并非如此。

了解这里出了什么问题非常*重要。*下面两行*唯一*能做的就是丢失数据。如果他们不丢失数据，他们将毫无用处 - 如果他们*确实*丢失了数据，他们显然是个坏主意：

```
String asString = new String(content, "UTF8");
byte[] newBytes = asString.getBytes("UTF8"); 
```

你应该首先分析你是如何得到这段代码的......为什么你觉得需要将字节数组转换为字符串并返回？

jowierun 的回答*也是*正确的——你根本不应该使用`available()`。您可能想要使用来自[Guava](http://guava-libraries.googlecode.com)的实用方法，例如，[`Files.toByteArray`](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/io/Files.html#toByteArray%28java.io.File%29)如果您确实需要一次性将整个文件读入内存。

> p/s：当我只是试图传递任何字符串而不加载文件（字符串 >> utf8 >> base64）并接收（base64 >> utf8 >> 字符串）时，它可以工作。

是的 - 如果你*从*文本数据开始，那很好 - UTF-8 可以表示每个有效字符串，并且 base64 是无损的，所以你很好。（诚​​然，您可以通过使用代理对的一半呈现无效字符串来破坏它，但是......）问题在于您首先将非文本数据视为文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:04:27.393

您不应该`fin.available()`假设您可以一口气读取文件。这可能只适用于小文件。相反，您需要循环读取并在编码之前将所有内容收集在一起。

（至少在 java 方面）有一个解码例程是有意义的，您可以使用该例程来测试您的编码是否正常工作（也许是单元测试？）。您可能会发现测试与您遇到的问题一致失败。

# javascript - 将变量值从页面发送到另一个页面

> ID：12720199
> 
> 赞同：1
> 
> 时间：2012-10-04T04:16:16.643
> 
> 标签：javascript, blackberry, blackberry-webworks

在我的例子中：我创建了一个表单，在表单中有一个按钮和一个包含数据的组合框（比如页面 A）。当我点击按钮时，我只想调用页面 B 来执行第二个进程。调用页面 B 的语法是：

```
bb.pushScreen('PageB.htm', 'PageB', {'Key': MyComboValue}); 
```

我如何在页面 B 之后的页面之后调用 B 将捕获并获取从页面 A 发送的“MyComboValue”的值？

问候， 贝托

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T18:13:23.227

首先，这在 bbUI 0.94（下一个分支）中可用，只是为了确保您运行的是正确的构建。

现在，您传递给新页面的对象在 ondomready 和 onscreenready 函数中可用，因此您可以执行以下操作：

```
onscreenready: function(element, id, passed_object) { } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:37:27.073

有几种方法可以实现这一点：

1.  使用 cookie 来保存数据。不会推荐太多。
2.  使用本地存储。适用于较新的浏览器，某些浏览器将无法享受它。
3.  更改 url 时将值作为查询字符串参数传递。

我自己会选择第三种选择。如果您只使用 JavaScript 而没有使用任何服务器端编程语言：

1.  将事件附加到按钮，以便在单击时获取数据并生成查询字符串。然后：top.location = "http://something/PageB.htm?" + 查询字符串；
2.  在页面 B 上，读取查询字符串 (top.location.href) 并对其进行解析以获取查询字符串。使用查询字符串的值在页面上设置您想要的任何内容。

如果您需要代码或我误解了，请告诉我，我会立即检查！

编辑：我刚刚意识到您将您的问题标记为使用 blackberry-webworks。我从未使用过它，因此我不知道我的解决方案是否有意义。如果可能，也尝试在您的问题上或在标题中指定它:)

# java - Eclipse Juno 与 Java SE 7 问题

> ID：12720200
> 
> 赞同：2
> 
> 时间：2012-10-04T04:16:29.457
> 
> 标签：java, eclipse, configuration, eclipse-juno

我正在尝试使用 Java SE 7 配置 Eclipse Juno 这是我的 eclipse.ini

```
-startup
plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20120522-1813
-product
org.eclipse.epp.package.jee.product
--launcher.defaultAction
openFile
--launcher.XXMaxPermSize
512M
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
512M
-vm
C:/Program Files/Java/jdk1.7.0_07/bin/javaw.exe
--launcher.defaultAction
openFile
-vmargs
-Dosgi.requiredJavaVersion=1.6
-Dhelp.lucene.tokenizer=standard
-Xms128m
-Xmx1024m 
```

我尝试更改为 -vm `C:/Program Files/Java/jdk1.7.0_07/bin`，甚至尝试删除。

还是一样的错误 `Failed to Create Java virtual machine.`

使用`Windows 7 x32 OS`.

我有 Java 6 SE 和 Java 7 SE 用于不同的目的。

如果我给 -vm 因为`C:/Program Files/Java/jdk1.6/bin`它工作正常。

这里有什么问题。JDK的路径很好。

我做了很少的实验，发现

```
-Xmx800m 
```

是我可以设置为 -Xmx 值的最大数量。如果我将其增加到超出此范围，则无法创建。为什么会这样？为什么 JAVA 6 SE 能够做到 Java 7 SE 无法做到的事情。我的项目很大。我有时会碰到 Eclipse 1.4Gb 内存。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:22:56.140

您尝试使用 Java 7 JVM 启动 Juno 是否有特定原因？您能否仅在 Juno 的 JRE 首选项（即：首选项-> JRE）中添加/配置 java 7 jdk/jre 并以这种方式使用它？或者您是否有特定原因尝试使用 java 7 启动它？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T15:46:12.973

试试`-vm C:/Program Files/Java/jdk1.7.0_07/bin/javaw.exe`。默认情况下，Eclipse 启动器使用 jvm.dll，它提供了一些好处（如任务栏中的 Eclipse 图标），但 Windows 上的 DLL 会受到内存碎片的影响。系统上的不同 DLL 被固定到不同的位置。这可能会出现问题，因为您通过 -Xmx 指定的数量必须是连续的，否则 JVM 将无法启动。

最终的解决方法是切换到 64 位版本的 Windows。即使你没有很多物理内存，更大的虚拟地址空间也会让内存碎片成为问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-10-12T20:35:00.903

不要试图编辑 eclipse.ini，如果你想将 eclipse 配置为 java 7，试试这个简单的东西。在系统变量中设置路径，使 java 7 应首先作为 C:\Program Files\Java\jdk1.7.0_02\bin;C:\Program Files (x86)\Java\jdk1.6.0_05\bin;.;C :\程序文件…………

# windows - DirectX redistributable 已安装，但不在 Windows 文件夹中

> ID：12720204
> 
> 赞同：1
> 
> 时间：2012-10-04T04:17:09.920
> 
> 标签：windows, directx

我已经在我的机器上安装了 2010 年 6 月的 directx redistributable （Win Xp servicepack 3）但它不存在于 Windows>Microsoft.NET 文件夹中。机器上安装了 Vs 2010。这是一个问题......让我看看知道，如果有解决方案......谢谢。

# google-maps - 计算两个注释之间的距离：iOS 5

> ID：12720209
> 
> 赞同：1
> 
> 时间：2012-10-04T04:17:42.823
> 
> 标签：google-maps, ios5, mapkit, xcode4.3, cllocation

我可以为所需的点删除两个注释（源、目标）。但是，现在我想确定它们之间的距离。我寻找解决方案并遇到了一个： [计算两点之间的距离](https://stackoverflow.com/questions/1980898/how-to-calculate-two-coordinates-distance-in-objective-c)

但解决方案：

```
CLLocationDistance distance = [location1 getDistanceFrom:location2]; 
```

`getDistanceFrom:`在 iOS 5 中已弃用。请任何人建议我使用 Google Maps API 查找点之间的实际距离的方法

在寻找选项时，我遇到了另一个解决方案：

```
CLLocation *locA = [[CLLocation alloc] initWithLatitude:coordinate.latitude longitude:coordinate.longitude];

        CLLocation *locB = [[CLLocation alloc] initWithLatitude:coordinate2.latitude longitude:coordinate2.longitude];

        CLLocationDistance distance = [locA distanceFromLocation:locB];
        NSLog(@"DISTANCE : %f", distance/1000); 
```

但是，我不确定这个解决方案是否正确。它返回的距离是公路从源到目的地的实际距离吗？我尝试在谷歌地图上比较它，它大致匹配。请验证其方法是否正确？

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T04:19:24.953

怎么样`distanceFromLocation:`？

[资源](http://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CLLocation_Class/CLLocation/CLLocation.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-09-16T09:05:10.460

distanceFromLocation：方法在我的代码中工作正常

> ** 以米为单位的距离显示

```
 CLLocation *location =[[CLLocation alloc] initWithLatitude:[@"23.039698" doubleValue] longitude:[@"72.571663" doubleValue]];
 CLLocation *loc = [[CLLocation alloc] initWithLatitude:[@"23.0422" doubleValue] longitude:[@"72.5644" doubleValue]];
 CLLocationDistance distanceMeter = [location distanceFromLocation:loc]; 
```

# ruby-on-rails - 在 Heroku 上记录用户统计信息

> ID：12720211
> 
> 赞同：0
> 
> 时间：2012-10-04T04:17:57.857
> 
> 标签：ruby-on-rails, heroku

我有一个在 Heroku 上运行的 Ruby on Rails 应用程序。是否有一种简单的方法可以记录简单数据，例如每天的唯一身份访问者，以便以后可以绘制一段时间内的唯一身份访问者数量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:50:29.107

您想跟踪什么样的事情？您所描述的内容可以通过[Google Analytics](http://google.com/analytics)轻松实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T14:08:12.987

您似乎正在寻找**Web 分析服务**。

[谷歌分析](https://www.google.de/analytics/)、[Chartbeat](http://chartbeat.com/)、[Kissmetrics](http://www.kissmetrics.com/)、[Mixpanel](https://mixpanel.com/)等。提供服务，例如记录访问您网站的唯一身份用户数量，并且独立于您运行应用程序的位置。

# ruby-on-rails - 我应该如何解析 Ruby on Rails 中的文件以存储在数据库中？

> ID：12720213
> 
> 赞同：0
> 
> 时间：2012-10-04T04:18:24.720
> 
> 标签：ruby-on-rails, ruby

我想创建一个简单的表单供用户上传文件，该文件将存储在数据库中。我还想在数据库中显示所有提交的文件及其名称和下载文件的链接。从原理上讲，在 Rails 中执行此操作的最佳方法是什么/我应该如何将文件存储在表中（我的表应该有哪些字段？等等）。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:23:09.843

我会使用回形针 gem 上传到 s3 而不是文件系统

[https://github.com/thoughtbot/paperclip](https://github.com/thoughtbot/paperclip)

查看自述文件，大多数示例都是针对图像的，但也适用于非图像文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:57:38.413

使用回形针上传文件，您可以将图像/文件存储在您的数据库以及 s3 (AWS) 中，请参见下面的链接如何在 rails 中使用回形针示例

这是如何在rails中使用回形针上传文件的步骤

```
http://patshaughnessy.net/2009/4/30/paperclip-sample-app 
```

对于 github

```
https://github.com/thoughtbot/paperclip
https://github.com/websymphony/Rails3-Paperclip-Uploadify 
```

# bison - 野牛班次减少冲突 - 无法解决

> ID：12720219
> 
> 赞同：4
> 
> 时间：2012-10-04T04:19:51.957
> 
> 标签：bison, shift-reduce-conflict

语法如下：

```
1\. program -> declaration-list
2\. declaration-list -> declaration-list declaration | declaration
3\. declaration -> var-declaration | fun-declaration
4\. var-declaration -> type-specifier ID ; | type-specifier ID [ NUM ] ;
5\. type-specifier -> int | void
6\. fun-declaration -> type-specifier ID ( params ) compound-stmt
7\. params -> param-list | void
8\. param-list -> param-list , param | param
9\. param -> type-specifier ID | type-specifier ID [ ]
10\. compound-stmt -> { local-declarations statement-list }
11\. local-declarations -> local-declarations var-declarations | empty
12\. statement-list -> statement-list statement | empty
13\. statement -> expression-stmt | compound-stmt | selection-stmt |
iteration-stmt | return-stmt
14\. expression-stmt -> expression ; | ;
15\. selection-stmt -> if ( expression ) statement |
if ( expression ) statement else statement
16\. iteration-stmt -> while ( expression ) statement
17\. return-stmt -> return ; | return expression ;
18\. expression -> var = expression | simple-expression
19\. var -> ID | ID [ expression ]
20\. simple-expression -> additive-expression relop additive-expression |
additive-expression
21\. relop -> <= | < | > | >= | == | !=
22\. additive-expression -> additive-expression addop term | term
23\. addop -> + | -
24\. term -> term mulop factor | factor
25\. mulop -> * | /
26\. factor -> ( expression ) | var | call | NUM
27\. call -> ID ( args )
28\. args -> arg-list | empty
29\. arg-list -> arg-list , expression | expression 
```

我通过 bison -d -v xyz.l 获得的转变减少冲突处于状态 97

```
state 97

   29 selection-stmt: IF LFT_BRKT expression RGT_BRKT statement .
   30               | IF LFT_BRKT expression RGT_BRKT statement . ELSE statement

    ELSE  shift, and go to state 100

    ELSE      [reduce using rule 29 (selection-stmt)]
    $default  reduce using rule 29 (selection-stmt) 
```

但我不知道如何解决这个冲突。等待答案。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T04:57:28.363

您可能希望解决冲突以转移“其他”。幸运的是，bison 自动为您完成了这项工作（但它仍然让您知道它。）

[Bison 手册的第 5.2 节](http://www.gnu.org/software/bison/manual/html_node/Shift_002fReduce.html#Shift_002fReduce)正是关于这种移位/减少冲突。正如它在那里所说，如果您想使用`%expect`声明，您可以消除警告消息。或者，您可以通过使用 bison/yacc 的优先级声明明确声明“更喜欢转移`else`”解决方案：赋予`else`令牌比`if`不带`else`子句的产品更高的优先级。（您可能希望`%prec IF`在产品本身中使用类似的东西，因为默认情况下，产品具有其*最后一个*终端的优先级，在这种情况下将是一个右括号。）

这种特定的 shift/reduce 冲突是原始解析器生成器解析策略的很大一部分动机`yacc`，如关于 yacc 的历史论文或 Dragon book 中所述，因为从语法。这个问题的解决方案是一个很好的脑筋急转弯，但在实践中，使用优先声明或 Bison 的内置歧义消除通常更容易且更易于维护。

这道题是龙书的习题之一。解决方案的基本轮廓如下所示：

1.  如果`statement`in`if (expression) statement`不能是一个`if`语句，就不会有问题。`else`不能开始一个语句，所以`if ( 0 ) break;`不能`else`在前瞻中减少。问题是`if (0) if (0) break; else`现在，是否应该转移 else （并因此附加到第二个 if ）或者是否`if`应该减少第二个，将`else`to 转移到第一个上并不明显`if`。常规做法（和 yacc 的歧义解决算法）规定了第一个。

2.  因此，让我们区分完整的 if 语句和不完整的 if 语句。不完整的 if 语句是可以用`else`子句完成的语句，因此不能立即跟在后面`else`（因为它会包含`else`）。完整的语句不能用 else 扩展，因此它也不能以不完整的语句结尾。

所以我们可以尝试这样的事情：

```
statement              : complete_statement
                       | incomplete_conditional

complete_statement     : complete_conditional
                       | statement_other_than_conditional

complete_conditional   : "if" '(' expression ')' complete_statement "else" complete_statement

incomplete_conditional : "if" '(' expression ')' statement
                       | "if" '(' expression ')' complete_statement "else" incomplete_conditional 
```

像 C 这样的语言还有其他可以以封闭语句结尾的语句类型（例如循环语句）。根据终止语句的完整性，所有这些也必须在“完整”和“不完整”之间进行划分。这就是使该解决方案令人讨厌的原因。

*注意：以上语法已从九年前发布的错误版本中更正。几个答案是指错误的答案；不幸的是，他们都没有想到用我可能会看到的评论来表示错误。如果有人使用了不正确的代码，我深表歉意。*

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T19:33:37.987

在这里查看我的答案：[Reforming the grammar to remove shift减少 if-then-else 中的冲突](https://stackoverflow.com/questions/12731922/reforming-the-grammar-to-remove-shift-reduce-conflict/12734499#12734499)。根据我的经验，你永远不应该离开“已知冲突”，解决它们。使用 %expect N 和 N != 0 是不安全的，恕我直言（当然 GLR 除外）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-03-14T22:23:33.597

我试过@rici 的答案（接受的答案），但它**失败**了。

```
statement: conditional | statement_other_than_conditional;
conditional: complete_conditional | incomplete_conditional;
complete_conditional: L_IF '(' expression ')' statement_other_than_conditional L_ELSE statement
| L_IF '(' expression ')' complete_conditional L_ELSE statement;
incomplete_conditional: L_IF '(' expression ')' statement;
statement_other_than_conditional: ';';
expression: IDENTIFIER; 
```

* * *

```
$ bison --report=all rrr.y
rrr.y: warning: 2 shift/reduce conflicts [-Wconflicts-sr] 
```

* * *

```
State 14 conflicts: 1 shift/reduce
State 15 conflicts: 1 shift/reduce 
```

* * *

```
State 14

3 conditional: complete_conditional .  [$end, L_ELSE]
6 complete_conditional: L_IF '(' expression ')' complete_conditional . L_ELSE statement

L_ELSE  shift, and go to state 16

L_ELSE    [reduce using rule 3 (conditional)]
$default  reduce using rule 3 (conditional)

State 15

2 statement: statement_other_than_conditional .  [$end, L_ELSE]
5 complete_conditional: L_IF '(' expression ')' statement_other_than_conditional . L_ELSE statement

L_ELSE  shift, and go to state 17

L_ELSE    [reduce using rule 2 (statement)]
$default  reduce using rule 2 (statement) 
```

* * *

[Chris Dodd 的回答](https://stackoverflow.com/a/12732388/9067653)（至少看起来）很好。有点适应：

```
statement: if_statement | noif_statement;

if_statement:
  IF '(' expression ')' statement
| IF '(' expression ')' noif_statement ELSE if_statement
;

noif_statement:
  IF '(' expression ')' noif_statement ELSE noif_statement
| RETURN ';'
;

expression: IDENTIFIER; 
```

如果您有进一步的*语句*规则：如果它不是**正确递归**的（不以 结尾`statement`），则仅添加到*noif_statement*（如`RETURN ';'`）。否则，例如

```
statement: blah '(' blah ')' statement ; 
```

复制它：

```
| blah '(' blah ')' if_statement
| blah '(' blah ')' noif_statement 
```

并将第一个变体添加到*if_statement* s 和第二个变体到*noif_statement* s。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-10T21:17:05.910

另一种有效的策略（@rici 接受的答案不起作用，@RaqaouPi 归功于 Chris Dodd 的答案）是将代码视为一系列 if-else/for/while 前缀，可能是一个悬空的 if或最后的简单陈述。此示例改编自[类似 C 语言的 Nearley 语法](https://github.com/calculemuscode/jaco/blob/7c01f6e92747627fe12ba2049b7bfe936c61ee8c/syntax/statement.ne#L31-L73)。

```
Statement         -> StatementPrefix:* (StatementEnd | DanglingIf)
StatementNoDangle -> StatementPrefix:* StatementEnd

StatementPrefix -> "if" _ "(" _ Expression _ ")" _ StatementNoDangle _ "else" _
                 | "while" _ "(" _ Expression _ ")" _

DanglingIf     -> "if" _ "(" _ Expression _ ")" _ Statement
StatementEnd   -> Simple _ ";"
                | "return" (_ Expression):? _ ";"
                | BlockStatement
                | "break" _ ";"
                | "continue" _ ";" 
```

# c# - 错误::::Index 超出范围。必须是非负数且小于集合的大小。参数名称：索引

> ID：12720220
> 
> 赞同：0
> 
> 时间：2012-10-04T04:19:57.033
> 
> 标签：c#, asp.net, gridview

> **可能重复：**
> [索引超出范围。必须是非负数且小于集合的大小。参数名称：索引](https://stackoverflow.com/questions/12719665/index-was-out-of-range-must-be-non-negative-and-less-than-the-size-of-the-colle)

当我单击更新按钮时，我收到此错误我的更新单击事件

```
protected void btnUpdate_Click(object sender, CommandEventArgs e)
{
    int idx = Convert.ToInt32(e.CommandArgument);
    GridViewRow gr = gvResTasks.Rows[idx]; 
```

当 `idx`值达到 19 时，它工作正常。当它大于 19 时会发生此错误。

更新按钮.aspx

```
<ItemTemplate> 
  <asp:Button runat="server" ID="btnUpdate" Text="Update" OnCommand="btnUpdate_Click" CommandArgument="<%# Container.DataItemIndex %>" /> 
  <%--<asp:Button runat="server" ID="Button1" Text="Update" onclick="btnUpdate_Click" />--%> 
</ItemTemplate> 
```

更新按钮.aspx.cs

```
protected void btnUpdate_Click(object sender, CommandEventArgs e)
{
   // int idx = Convert.ToInt32(e.CommandArgument);
    int idx = Convert.ToInt32(e.CommandArgument);
    GridViewRow gr = gvResTasks.Rows[idx];

    Label hf = (Label)gr.FindControl("hdEmployeeID");

    string sEmpID = hf.Text;
    lblEmployeeID.Text = sEmpID;
    lblEmployeeID2.Text = sEmpID;

    int Rows = gvResTasks.Rows.Count;
    for (int x = 0; x < Rows; x++)
    {
        GridViewRow tr = gvResTasks.Rows[x];
        tr.CssClass = "WhiteBack";
    }

    ClearMessages();

    gr.CssClass = "TealBack";

    string sSubTaskID = gr.Cells[0].Text;
    lblSubTaskID.Text = sSubTaskID;

    lblSubTaskName.Text = @gr.Cells[1].Text;

    LoadSubTaskInfo();

    Single sProgress = 0;
    Boolean bok = Single.TryParse(lblActualProgress.Text, out sProgress);

    DateTime dPF = DateTime.Parse(lblPlannedFinish.Text);

    if (dPF > DateTime.Now)
    {
        btnFinish.Enabled = false;
    }
    else if (dPF <= DateTime.Now)
    {
        if (sProgress >= 100)
        {
            btnFinish.Enabled = false;
        }
        else
        {
            btnFinish.Enabled = true;
        }
        //btnFinish.Enabled = true;
    }

    panelUpdate.CssClass = "float";
    panelUpdate.Visible = false;
    if (gr.Cells[7].Text != "True")
    {
        panelUpdate.Visible = true;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:11:56.870

您正在尝试从 gvResTasks 中获取一个值，该值位于 gridView 中高于其中行数的位置。因此，索引超出范围的错误。

# android - cocos2d-iphone 还是 cocos2d-x 用于游戏开发？

> ID：12720221
> 
> 赞同：0
> 
> 时间：2012-10-04T04:20:27.963
> 
> 标签：android, ios, cocos2d-iphone, cocos2d-x

我们是一个小团队（两个人），打算开发移动设备游戏。最初它将仅在 iOS 上，但将被移植到 android/windows 手机。Cocos2d 似乎是目前最好的开源游戏引擎。我正在和同事讨论的问题是我们应该使用 cocos2d-iphone (object-c) 还是 cocos2d-x (c++)。

我们都有相当多的 C++ 经验，我在空闲时间玩了几个月的 object-c。使用 object-c 并不难，但 C++ 更可取。

最初我打算使用 cocos2d-iphone，因为大多数在线文档/示例都是基于 cocos2d-iphone 的。在玩了一些 cocos2d-x 的样例之后，我觉得它们非常相似。考虑到我们会将游戏移植到android或windows phone，游戏引擎相关代码最好使用基于c++的cocos2d-x，这样移植游戏会更容易。

如果有人对 cocos2d-x 有实际工作经验，可以分享您的想法或意见吗？你会选择哪一个？cocos2d-iphone 还是 cocos2d-x？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:24:24.843

cocos2d-x 很难与平台指定的功能集成，例如 UITableView、GameCentre... 但适合跨平台。

如果您使用大量基于 iOS 的库，我认为 cocos2d-iphone 将是最佳选择。

如果你的游戏完全独立于平台运行（例如，从不使用摄像头、麦克风、网络、数据库），那么 cocos2d-x 将是一个很棒的框架。

实际上，数据库很好，因为您可以在大多数平台上毫无问题地插入 sqlite。

# android - android任务管理器清除内存

> ID：12720224
> 
> 赞同：1
> 
> 时间：2012-10-04T04:20:46.673
> 
> 标签：android, locationlistener

我运行包含位置侦听器的应用程序，一切都很好，并且我**清楚地记住了设备上的任务管理**器，然后我运行了我的应用程序。

> LocationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListenerNetwork)

在我重新启动设备和位置侦听器恢复正常运行之前，从未调用过上面的引用代码。

GPS_PROVIDER 称为完美，这仅发生在 NETWORK_PROVIDER

任何人都可以解释为什么会这样？

我在我的三星 Galaxy s2 ics 4.0.3 上运行

谢谢你。

# java - 带有查询字符串的 Google 应用引擎 openID 登录重定向

> ID：12720225
> 
> 赞同：1
> 
> 时间：2012-10-04T04:20:54.967
> 
> 标签：java, google-app-engine

我在我的应用引擎应用程序中使用 OpenID 联合登录。登录后使用重定向时遇到以下问题。

`userService.createLoginURL()`重定向到回调 URL 时 使用删除查询字符串生成的登录URL。

例如，从 URL 中点击登录链接，登录后`/handler?QueryString`会重定向到`/handler`，`QueryString`不会提供参数。

我认为这与[此线程](https://groups.google.com/forum/?hl=en&fromgroups=#!topic/google-appengine/ugzZ_-vo_PE)中描述的问题相同。

我想知道这个问题背后的原因以及可能的解决方法。

# c# - 如何根据按钮点击设置标签的内容

> ID：12720228
> 
> 赞同：2
> 
> 时间：2012-10-04T04:21:10.833
> 
> 标签：c#, wpf, button, mvvm, label

我的视图模型类中有一个方法，通过单击按钮调用并执行一些操作。现在我的 xaml 文件中有一个标签和按钮：

```
<Label Content="" Height="20" HorizontalAlignment="Center" Margin="0,50,0,0" Name="label1" VerticalAlignment="Top" Width="119" />
<Button Content="Sync" Height="23" Command="{Binding Path=SyncCommand}" HorizontalAlignment="Center" Margin="0,15,0,0" Name="button1" VerticalAlignment="Top" Width="100" /> 
```

我的视图模型：

```
 // This method is called when Sync Button is Clicked
    public void SyncCommandExecuted()
    {            
        string strBadResp = string.Empty;  
        Byte[] sendBuf = new Byte[256];
        Byte[] readBuf = new Byte[256];          
        sendBuf[0] = 0x80;
        mComm.setAddress(0x3e);
        mComm.WriteBytes(4, sendBuf);

        if (mComm.ReadBytes(4, ref readBuf) != 0)
        {                
            for (int cnt = 0; cnt < 4; cnt++ )
            {
                if (readBuf[cnt] != null)
                {
                    sendBuf[cnt] = readBuf[cnt];                        
                }
                else
                {                        
                    strBadResp = "Bad response";

                    // Here I want to display the content in strBadResp i.e. BAD RESPONSE on a label
                    sendBuf = null;                        
                }
            }

            if (sendBuf != null)
            {
                strBadResp = BitConverter.ToString(sendBuf);

                // Here I want to display the content in strBadResp on a label
            }                
        }
    } 
```

我的 ReadBytes 方法存储以下内容：

```
byteArray[0] = 0x01;
byteArray[1] = 0x02;
byteArray[2] = 0x03;
byteArray[3] = 0x04; 
```

所以基本上在这两个地方，结果（**strBadResp**）都应该在标签中。我希望我已经说清楚了。我是这个 WPF 世界的新手。请帮忙！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:56:39.223

将标签上的内容属性绑定到视图模型上的属性。当您想要更新标签时更新响应属性。

**看法**

```
<Label Content="{Binding Response}" Height="20" HorizontalAlignment="Center" Margin="0,50,0,0" Name="label1" VerticalAlignment="Top" Width="119" /> 
```

**视图模型**

```
public class YourViewModel : INotifyPropertyChanged {

    string response;

    public string Response {

        get  { return this.response; }

        set {
            if (this.response == value)
                return;

            this.response = value;
            NotifyPropertyChanged("Response");
        }
    }

    public event NotityPropertyChangedEventHandler  = delegate {}

    void NotifyPropertyChanged(string propertyName) {
        PropertyChanged(this, new PropertyChangedEventArgs(propertyName);   
    }
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:53:18.050

您必须在后面的代码中创建 Lable 对象，如下所示。

```
var lableMSG = new Lable();

lableMSG.Content = "Message string"; 
```

希望对你有帮助！！

# python - 我怎样才能在事务中读取我刚刚编写的实体？

> ID：12720233
> 
> 赞同：0
> 
> 时间：2012-10-04T04:21:58.507
> 
> 标签：python, google-app-engine, google-cloud-datastore

我正在使用 Python2.7、GAE 和 High Replication 数据存储。我正在尝试执行一个事务，该事务首先写入一个实体然后读取它，但读取从未找到实体。这是我的一个测试用例：

```
class DemoTestCase(unittest.TestCase):
  def setUp(self):
    self.testbed = testbed.Testbed()
    self.testbed.activate()
    self.policy = datastore_stub_util.PseudoRandomHRConsistencyPolicy(probability=0)
    self.testbed.init_datastore_v3_stub(consistency_policy=self.policy)

  def tearDown(self):
    self.testbed.deactivate()

  def test1(self):
    db.run_in_transaction(self._write)
    db.run_in_transaction(self._read)

  def test2(self):
    db.run_in_transaction(self._write_read)

  def _write(self):
    self.root_key = db.Key.from_path("A", "root")
    a             = A(a=1, parent=self.root_key)
    self.a_key    = a.put()

  def _read(self):
    b = sample.read_a(self.a_key)
    self.assertEqual(1, b.a)
    self.assertEqual(1, A.all().ancestor(self.root_key).count(5))

  def _write_read(self):
    root_key = db.Key.from_path("A", "root")
    a     = A(a=1, parent=root_key)
    a_key = a.put()
    b     = sample.read_a(a_key)
    self.assertEqual(None, b)
    self.assertEqual(0, A.all().ancestor(root_key).count(5)) 
```

两个测试用例现在都通过了。

Test1 正在运行一个执行写入的事务。然后它运行第二个事务，执行两次读取，一次通过键读取，一次通过祖先查询。在这种情况下，读取工作得很好。

Test2 运行的代码与 test1 完全相同，但这次一切都在同一个事务中运行。如您所见，按键读取实体返回无。执行祖先查询返回 0 个命中。

我的问题是：如何在事务中读取我刚刚编写的实体？或者这是不可能的？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:01:30.487

你不能。事务内的所有数据存储读取都显示事务启动时数据存储的快照。写不出来。

从理论上讲，您不必阅读，因为您将拥有您写入的每个实体的实例。使用该实例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T15:54:58.207

嗯，有时候重读真的很有帮助。实体更新可能会触发业务规则，并且需要重新加载它。BR 通常不知道是什么触发了他们，也无法立即访问新实体。

不知道 Python，但在使用 Objectify 的 Java 中，更新在事务中通过 Objectify 会话（事务）缓存可见。如果您正在使用的 Python 持久性框架中有会话缓存之类的东西，那可能是一个解决方案。

# jquery - 如何使用 jquery 来横向 javascript 对象

> ID：12720235
> 
> 赞同：0
> 
> 时间：2012-10-04T04:22:35.527
> 
> 标签：jquery, socket.io

这是我的客户端代码

```
<!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="utf-8">
   <title>Alerter</title>
 </head>
 <body>
   <script src="jquery.min.js"></script>
   <script src="http://www.example.com:8001/socket.io/socket.io.js"></script>
   <script>
     $(document).ready(function(){

       var socket = io.connect('http://www.example.com:8001');
       socket.on('message', function (data) { do_message(data) });
     });

   function do_message(data){
     var $obj=$(jQuery.parseJSON(data));
     //now what goes in here? 
   };
</script>
</body>
</html> 
```

我收到的 javascript 对象看起来像

```
{
    "root": {
        "status": [
            "OK"
        ],
        "alert": [
            {
                "$": { "src": "web" },
                "time": [ "1349316382" ],
                "id": [ "user1" ]
            },
            {
                "$": { "src": "web" },
                "time": [ "1349316391" ],
                "id": [ "user2" ]
            },
        ]
    }
} 
```

我想要做的是遍历每个“警报”条目并采取适当的措施（实际模式比我上面显示的要复杂一些）

jQuery 选择器是完成这项任务的正确工具，还是我应该回到原生 javascript（即 getElementsByTagName 或类似的）。所有 jQuery 文档都基于从 DOM 中选择有效的 html 标签，我不知道如何从收到的消息中选择任意标签。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:34:16.360

您可以尝试使用 jQuery 中的 $.each 来迭代您的对象.. 试试这个

```
console.log('status is : ' + data.root.status[0]);

     $.each(data.root.alert , function(i, value){
          console.log ('Dollar is : ' + value["$"]["src"]);
           console.log ('Time is : ' + value["time"][0]); 
           console.log ('ID is : ' + value["id"][0]); 
     }); 
```

[小提琴](http://jsfiddle.net/sushanth009/hYYDP/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:29:30.200

您可以使用以下方法迭代数据`$.forEach`：

```
var obj = jQuery.parseJSON(data);

$.each(obj['root']['alert'], function(index, value) {
    console.log(value.id);
}); 
```

或者你可以只使用普通的 JS：

```
var obj = jQuery.parseJSON(data);
var alerts = obj['root']['alert'];

for (var key in alerts) {
    var value = alerts[key];

    console.log(value.id);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T04:32:39.243

jQuery 选择器不能用于纯 JavaScript 对象。

[http://api.jquery.com/jQuery/](http://api.jquery.com/jQuery/)

> **处理普通对象**
> 目前，jQuery 封装的普通 JavaScript 对象支持的唯一操作是：.data()、.prop()、.bind()、.unbind()、.trigger() 和 .triggerHandler()。

您将不得不使用 jQuery.each() 或纯 JavaScript 循环进行迭代。

# ruby-on-rails - 重定向后不显示 Flash 消息

> ID：12720236
> 
> 赞同：-1
> 
> 时间：2012-10-04T04:22:38.757
> 
> 标签：ruby-on-rails

像这样设置一个Flash消息后：

```
flash[:notice] = "Invalid Username or Password"
format.html { redirect_to :action => :log} 
```

发生重定向，但不显示 Flash 消息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T04:48:23.910

尝试`flash[:notice]`在重定向方法中设置：

```
format.html { redirect_to :action => :log, notice: "Invalid Username or Password} 
```

# android - 使用 j2me 在各个角度旋转精灵图像

> ID：12720237
> 
> 赞同：3
> 
> 时间：2012-10-04T04:22:41.237
> 
> 标签：android, java-me, andengine

我正在用 Android 和 Java 开发游戏。在android中，我使用andengine作为精灵图像，我能够在各个方向旋转。

```
 int bikeFrame:
//bikeFrame++,bikeFrame--

bikeSprite.setRotation(bikeFrame); 
```

我也想在 j2me 中制作游戏。但是在j2me中我们只有四种旋转角度的方法

(TRANS_MIRROR,TRANS_MIRROR 90,TRANS_MIRROR 270,TRANS_MIRROR 180)..

如果我将图像作为帧，我仍然无法获得流畅的动画。

如何在j2me中以所有角度旋转精灵图像？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T08:55:05.163

看到[这个线程](http://www.developer.nokia.com/Community/Discussion/showthread.php?206189-J2me-Image-Rotation)，omarhassan123 创建了一个代码片段，它应该允许您将图像旋转您喜欢的任何角度。

有一个名为 J2ME ARMY KNIFE 的库，它提供了各种图像处理技术，您可以在[此处](http://www.j2mearmyknife.com/)获取。

另外，请参阅此问题： [图像旋转算法](https://stackoverflow.com/questions/484573/image-rotation-algorithm)

另一个想法：反编译一款名为 Flexis Extreme 的游戏。他们实时进行大量图像旋转，因此您可以尝试找出他们是如何做到的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T12:09:23.860

如果可以，请尝试 LWUIT [`Image.rotate`](http://lwuit.java.net/javadocs/com/sun/lwuit/Image.html#rotate%28int%29)，此页面上有一个示例[http://lwuit.blogspot.com.br/2008/11/round-round-infinite-progress-and.html](http://lwuit.blogspot.com.br/2008/11/round-round-infinite-progress-and.html)

# r - 每月为多个变量绘制一个 24 小时周期？

> ID：12720242
> 
> 赞同：1
> 
> 时间：2012-10-04T04:23:40.903
> 
> 标签：r, ggplot2

我有可以通过以下方式模仿的数据：

```
set.seed(1234)

foo <- data.frame(month = rep(month.name, each = 24),
              hour = rep(seq(1:24), 12),
              value1 = rnorm(nrow(foo), 60, 1),
              value2 = rnorm(nrow(foo), 60, 1))

foo <- melt(foo, id = c('month', 'hour')) 
```

我想使用 ggplot 创建一个全年的图，显示每个变量每月的 24 小时周期。

这是我到目前为止所尝试的：

```
t.plot <- ggplot(foo,
             aes(interaction(month,hour), value, group = interaction(variable,hour)))

t.plot <- t.plot + geom_line(aes(colour = variable))
print(t.plot) 
```

我明白了，这会使数据错位。对于这么小的 SD，您会看到前 24 个值应该更接近 60，但它们到处都是。我不明白是什么导致了这种差异。

[https://www.dropbox.com/s/rv6uxhe7wk7q35w/foo.png](https://www.dropbox.com/s/rv6uxhe7wk7q35w/foo.png)

当我绘制时：

```
plot(interaction(foo$month,foo$hour)[1:24], foo$value[1:24]) 
```

我得到了我期望的形状，但是 xaxis 非常奇怪，而不是我所期望的。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:51:31.833

解决方案是将您的日期设置为日期（不是因素的相互作用）

例如

```
library(lubridate)
library(reshape2)
Date <- as.Date(dmy('01-01-2000') + seq_len(24*365)*hours(1))
foo <- data.frame(Date = Date, 
  value1 = arima.sim(list(order = c(1,1,0), ar = 0.7), n = 24*365-1), 
   value2 = arima.sim(list(order = c(1,1,0), ar = 0.7), n = 24*365-1))
foo_melt <- melt(foo, id = 'Date')

# then you can use `scale_x_date` and `r` and ggplot2 will know they are dates
# load scales library to access date_format and date_breaks
library(scales) 
ggplot(foo_melt, aes(x=Date, y=value, colour = variable)) + 
 geom_line() +
 scale_x_date(breaks = date_breaks('month'), 
              labels = date_format('%b'), expand =c(0,0)) 
```

![在此处输入图像描述](../Images/c64e3a0d5e1459f91cd26071df96846f.png)

## 每月平均编辑 1 天

您可以使用 facet_wrap 按月分面

```
# using your created foo data set
levels(foo$month) <- sort(month.abb)
foo$month <- factor(foo$month, levels = month.abb)
ggplot(foo, aes(x = hour, y=value, colour = variable)) + 
 facet_wrap(~month) + geom_line() + 
 scale_x_continuous(expand = c(0,0))) 
```

![在此处输入图像描述](../Images/2e284bbc36e7d2b7d2d1967fef6300e6.png)

# javascript - 如何将 html 文本表单发送到 javascript？

> ID：12720246
> 
> 赞同：1
> 
> 时间：2012-10-04T04:24:18.623
> 
> 标签：javascript, html, forms

我的页面上有一个要发送到 javascript 函数的 html 表单。如何向该函数发送值/激活它以便函数运行？

```
<form  method="post" action="WHAT GOES HERE?">
<input type = "textarea" name = "link" placeholder="Submit a Link" style="color:black;max-width:133px;"></input>
<input type = "hidden" name = "ref" value="yes"></input>
<a href="javascript:void(0)" onclick="submit();">Submit</a> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T04:30:28.490

您不会在任何地方“发送”表格。Javascript 可以随时读取表单值。您通常将`onsubmit`事件附加到表单或将`onclick`事件附加到提交按钮，然后在发生这种情况时使用 Javascript 读取表单值。

例如，您可以通过首先给它一个 id 来读取“ref”输入的值...

```
<input id="ref" name="ref" ... 
```

然后像这样用Javascript阅读它，

```
document.getElementById('ref').value 
```

这取决于您如何使用该值。

此外，您的 HTML 有点偏离。输入应该是自动关闭 ( `<input/>`) 并创建一个你应该使用的文本区域`<textarea></textarea>`。

编辑：如果你只想要一个 1 行文本框，它不应该是`<input type="text" ...`textarea。它起作用的原因是因为 an 的默认值`input`恰好是`text`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:26:27.710

您可以使用表单`onsubmit`事件

```
<form  method="post" action="" onsubmit="validateForm()">
<input type = "textarea" name = "link" placeholder="Submit a Link" style="color:black;max-width:133px;"></input>
<input type = "hidden" name = "ref" value="yes"></input>
<a href="javascript:void(0)" onclick="submit();">Submit</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T04:58:54.570

```
<html>
<head>

<script type="text/javascript">
function getValue(){
var textValue=document.getElementById("textId").value;
alert(textValue);
}
</script>

</head>
<body>
<form  method="post" >
<input type = "textarea" id="textId" name = "link" placeholder="Submit a Link"       style="color:black;max-width:133px;"></input>
<input type = "hidden" name = "ref" value="yes"></input>
<a href="#" onclick="getValue();">Submit</a> 
</form>
</body>

</html> 
```

1.为textarea创建id。**id="textId"**

**2.使用在javascript中使用方法document.getElementById("textId").value**创建的id获取textarea的 值；

# android - Android：将 mysql(XAMPP) 连接到模拟器上的 android 应用程序

> ID：12720254
> 
> 赞同：5
> 
> 时间：2012-10-04T04:26:11.340
> 
> 标签：android, mysql, listactivity

我正在尝试为我的最后一年项目开发一个 android 应用程序，我正处于需要将数据库连接到我的应用程序的地步。我之前已经连接到内部和外部 SQLite 数据库，但我的主管说我必须使用 XAMPP localhost，所以稍后它是合理的，因为它与使用 Web 服务器的现实情况非常相似。这是我的 DBHelper 类的代码，我改编自我在网上找到的示例代码并确实改变了一些东西，但我很确定有很多错误。当按下会导致该类的查看数据的按钮时，它只会显示一个空白屏幕，并且在很长一段时间后会崩溃。

```
package com.example.parking_guide;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import org.apache.http.NameValuePair;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.ListActivity;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.Intent;
import android.database.Cursor;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.SimpleAdapter;
import android.widget.TextView;

public class DBHelper extends ListActivity {

    // Progress Dialog
    private ProgressDialog pDialog;

    // Creating JSON Parser object
    JSONParser jParser = new JSONParser();

    ArrayList<HashMap<String, String>> productsList;

    // url to get all products list
    private static final String url_all_products = "http://10.0.0.2/android_connect/get_all_products.php";

    // JSON Node names
    private static final String TAG_SUCCESS = "success";
    private static final String TAG_PRODUCTS = "products";
    private static final String KEY_ROWID = "_id";
    private static final String KEY_VACANT = "vacancy";

    // products JSONArray
    JSONArray table = null;  

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        ListView yourListView = getListView();

        // Hashmap for ListView
        productsList = new ArrayList<HashMap<String, String>>();

        // Loading products in Background Thread
        new LoadAllProducts().execute();

    }
    /**
     * Background Async Task to Load all product by making HTTP Request
     * */
    class LoadAllProducts extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override

        /**
         * getting All products from url
         * */
        protected String doInBackground(String... args) {
            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            // getting JSON string from URL
            JSONObject json = jParser.makeHttpRequest(url_all_products, "GET", params);

            // Check your log cat for JSON reponse
            Log.d("Level1: ", json.toString());

            try {
                // Checking for SUCCESS TAG
                int success = json.getInt(TAG_SUCCESS);

                if (success == 1) {
                    // products found
                    // Getting Array of Products
                    table = json.getJSONArray(TAG_PRODUCTS);

                    // looping through All Products
                    for (int i = 0; i < table.length(); i++) {
                        JSONObject c = table.getJSONObject(i);

                        // Storing each json item in variable
                        String _id = c.getString(KEY_ROWID);
                        String vacant = c.getString(KEY_VACANT);

                        // creating new HashMap
                        HashMap<String, String> map = new HashMap<String, String>();

                        // adding each child node to HashMap key => value
                        map.put(KEY_ROWID, _id);
                        map.put(KEY_VACANT, vacant);

                        // adding HashList to ArrayList
                        productsList.add(map);
                    }
                } 
            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;

        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {
            // dismiss the dialog after getting all products
            // updating UI from Background Thread
            runOnUiThread(new Runnable() {
                public void run() {
                    /**
                     * Updating parsed JSON data into ListView
                     * */
                    ListAdapter adapter = new SimpleAdapter(
                            DBHelper.this, productsList,
                            R.layout.list_item, new String[] { KEY_ROWID,
                                    KEY_VACANT},
                            new int[] { R.id.id, R.id.vac});
                    // updating listview
                    setListAdapter(adapter);
                }
            });

        }

    }
} 
```

所以我真的不知道出了什么问题，因为我不太擅长 android，只是在继续学习。谁能帮助我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-22T08:29:23.690

您应该使用 10.0.2.2 来访问您的本地主机，而不是 10.0.0.2 :) [http://developer.android.com/tools/devices/emulator.html#networkaddresses](http://developer.android.com/tools/devices/emulator.html#networkaddresses)

# java - 以下内容以简单易懂的方式有什么区别？（Java 文件）

> ID：12720255
> 
> 赞同：4
> 
> 时间：2012-10-04T04:26:12.387
> 
> 标签：java, file, io

1.  `getName()`,`getAbsoluteFile()`和`getCanonicalFile()`

2.  `getPath()`,`getAbsolutePath()`和`getCanonicalPath()`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T04:46:12.850

Concise version:

1.  [`File.getName()`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#getName--) returns the file name part as a string; i.e. the bit after the last file separator.
2.  [`File.getPath()`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#getPath--) returns the complete pathname as a string.
3.  [`File.getAbsolutePath()`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#getAbsolutePath--) turns the complete pathname as a string, after mapping the path to an absolute path if it is currently relative. No attempt is made to validate the path.
4.  [`File.getAbsoluteFile()`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#getAbsoluteFile--) does the same thing as `File.getAbsolutePath()`, except that the result is a `File`.
5.  [`File.getCanonicalPath()`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#getCanonicalPath--) maps the path to an absolute path (if it is currently relative) and then attempts to canonicalize it. This process is OS dependent, but it typically involves following symbolic links and replacing ".", ".." and empty names with their canonical equivalents. The result is the canonicalized path string.
6.  [`File.getCanonicalFile()`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#getCanonicalFile--) does the same as `File.getCanonicalPath()` except that its result is a `File`.

The first 4 are really just text-based manipulations of the original `File` object. They make no attempt to check that any part of the path corresponds to anything in the file system.

The last 2 involve checking the path to the last-named component of the `File`. If the path involves non-existent directories, broken links, directories than cannot be read and so on, you are liable to get an IOException.

For more details, follow to the respective methods' javadoc links.

* * *

**NOTE in 2020** - If you still are cutting new code that uses the `File` API, you should seriously consider using the `java.nio.file` APIs instead:

*   a `Path` object most directly corresponds to a `File` object
*   the `Files` and `Paths` classes provide numerous static methods that operate on `Path` objects,

The advantages of the newer APIs include:

*   Many operations now throw an exception to tell you *why* they failed.
*   There is support for a variety of file system semantics; e.g. different kinds of access control, file attributes and so on.
*   There is support for directory watchers, file tree traversal, and so on.
*   There is support for virtual file systems implemented within the JVM.
*   Some of the odd behaviors of `File` on Windows (which could not be fixed in `File` for compatibility reasons) have been addressed.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T04:36:32.663

Java API 具有 File 对象的完整描述以及它包含的所有方法。

获取名称（）：http : [//docs.oracle.com/javase/7/docs/api/java/io/File.html#getName](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getName)（）

getCanoniacalPath()： [http](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalPath) ://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalPath( )

getAbsolutePath()： [http](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getAbsolutePath) ://docs.oracle.com/javase/7/docs/api/java/io/File.html#getAbsolutePath ()

getAbsoluteFile()： [http](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getAbsoluteFile) ://docs.oracle.com/javase/7/docs/api/java/io/File.html#getAbsoluteFile ()

getCanonicalFile()： [http](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalFile) ://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalFile( )

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T04:30:47.997

此页面清楚地解释了所有这六种方法之间的差异：[http ://www.avajava.com/tutorials/lessons/whats-the-difference-between-a-files-path-absolute-path-and-规范路径.html](http://www.avajava.com/tutorials/lessons/whats-the-difference-between-a-files-path-absolute-path-and-canonical-path.html)

# android - 如何知道用户输入是否来自语音到文本功能

> ID：12720259
> 
> 赞同：1
> 
> 时间：2012-10-04T04:27:31.923
> 
> 标签：android, android-edittext, android-softkeyboard, speech-to-text, onkeydown

我有一个派生的类`EditText`，我需要知道用户的输入是来自软键盘还是来自语音到文本功能（通过软键盘上的麦克风键激活）。

为此，我覆盖`onKeyDown()`了 ，希望在按下键时设置一个标志，这样就表明输入来自键盘，而不是来自语音到文本功能。

正如预期的那样，当按下软键盘上的“完成”键时，我的`onKeyDown()`覆盖检测到 keyCode 。`KEYCODE_ENTER`但是，按软键盘上的任何其他键都不会触发 onKeyDown，因此我无法设置我想要的标志。

我在网上看到很多关于 onKeyDown 功能的帖子，但都与捕获“完成”键有关，并且没有关于在软键盘上捕获其他键的信息。

任何想法将不胜感激。

# php - 插入 mysql/php 的困难

> ID：12720261
> 
> 赞同：0
> 
> 时间：2012-10-04T04:27:39.187
> 
> 标签：php, mysql

我正在尝试制作一个拍卖网站并制作它，以便我可以在 mysql 表中更新它，但它不会更新 mysql 表中的任何内容。我得到一个 php 错误日志，我得到的所有错误都来自

```
t-2012 17:02:46] PHP Notice:  Undefined variable: auctionnum in /devel/cgreenheld/projects/Asgn2/auction.php on line 21

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: reserve_met in /devel/cgreenheld/projects/Asgn2/auction.php on line 116

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: reserve in /devel/cgreenheld/projects/Asgn2/auction.php on line 123

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: highest_bid in /devel/cgreenheld/projects/Asgn2/auction.php on line 123

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: highest_bid in /devel/cgreenheld/projects/Asgn2/auction.php on line 123
[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: auctionnum in /devel/cgreenheld/projects/Asgn2/auction.php on line 124

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: title in /devel/cgreenheld/projects/Asgn2/auction.php on line 130

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: bio in /devel/cgreenheld/projects/Asgn2/auction.php on line 131

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: reserve_met in /devel/cgreenheld/projects/Asgn2/auction.php on line 133

[04-Oct-2012 17:02:46] PHP Notice:  Undefined variable: reserve in /devel/cgreenheld/projects/Asgn2/auction.php on line 134 
```

我有相当多的代码，所以我会尝试将其缩小到我认为相关的位。这都是非常基本的atm，但我只是想让它能够将东西插入到mysql表中。所以这是他们进入拍卖的表格（这很好用）

```
<h2>Create a new Auction!</h2>
    <?php
        echo "<form method='post' action='createauction.php' enctype=multipart/form-data>";
    echo '<fieldset class="register">';
    echo"<h2>Auction Properties</h2>";
        echo "<ul>";
                echo '<li><label for="Title">Auction Title:</label> <input type="text" name="Title" id="Title"></li>';
                echo '<li><label for="Bio">Auction Description </label> <input type="text" name="Bio" id="Bio"></li>';
                echo '<li><label for="Reserve">Reserve</label><input type="text" name="Reserve" id="Reserve"></li>';
                echo '<li id="contentbox">Category:</li>';
                echo '<li><select name="Category"></li>';
                echo '<li><option value="clothing">Clothing</option></li>';
                echo '<li><option value="electronics">Electronics</option></li>';
                echo '<li><option value="living">Living</option></li>';
                echo '<li><input type="submit" value="Create"></li>';
                echo "</ul>";
    echo "</fieldset>";
    echo "</form>";
    ?> 
```

这是将其插入表中（这也可以正常工作）

```
<?php
    $clean_title = $_POST['Title'];
    $clean_bio = $_POST['Bio'];
    $clean_category = $_POST['Category'];
    $username = $_SESSION['user'];
    $reserve = $_POST['Reserve'];
    $insert = 'Insert INTO Auctions(closingtime, Title, Bio, Category, Username, reserver) VALUES (NOW() + INTERVAL 7 DAY,  "'.$clean_title.'", "'.$clean_bio.'", "'.$clean_category.'", "'.$_SESSION['user'].'", "'.$reserve.'")'; 
    $result = $conn->query($insert);
    $auction_query = "select Auctionno from Auctions ORDER BY Auctionno";
    $result2 = $conn->query($auction_query);
        while ($row = $result2->fetch_assoc()) {
        $auctionnum = $row['Auctionno'];
        }
?>

<p>Your auction has been started click <a href="auction.php?id=<?php echo $auctionnum;?>">here</a> to view it.
            </p> 
```

这将我们带到页面以查看我们的拍卖然后我们到达我们的拍卖页面，在哪里

```
if(isset($_GET['id'])){
  $auctionnum = $_GET['id'];
 }else{
  header("Location: browse.php");
  exit();
 }

$query = 'SELECT * FROM Auctions WHERE Auctionno = "'.$auctionnum.'";';
$result = $conn->query($query);
    while ($row = $result->fetch_assoc()) {
    $auctionnum = $row['Auctionno'];
    $title = $row['Title'];
    $bio = $row['Bio'];
    $category = $row['Category'];
    $reserve = $row['reserver'];
    $reserve_met = $row['reserve_MET'];
    $highest_bid = $row['highest_bid'];
    }
?>
<!DOCTYPE html>

<html>
    <head>
            <!--[if IE]>
    <link rel="stylesheet" href="IEstyle.css"/>
    <script>
    document.createElement('nav');
    document.createElement('section');
    document.createElement('footer'):
    document.createElement('header');
    </script>
    <![endif]-->
        <title>Bargin Bin: A place where Kiwis can buy and sell!</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <link rel="stylesheet" type="text/css" href="auction.css">
    </head>
    <body>
    <header>
        <img src="logo.gif" alt="Bargin Bin Logo">
        <ul>
        <li><a href="login.php"><b>Login</b></a></li>
        <li><a href="register.php"><b>Register</b></a></li>
        </ul>
        <?php
            if($_SESSION['authorisation'] == 'knownuser') {
                if(isset($_SESSION['user'])) {
        echo '<ul class="log">';
        echo '<li><h4>You are logged in as '.$_SESSION['user'].'</h4></li>';
        echo '<li><a href="logout.php">Logout</a></li>';
        echo "</ul>";
            }
        }
        else {
        echo "<h4>You are not logged in</h4>";
        }
        ?>
    </header>
    <nav>
    <ul>
    <li><a href="index.php">Home</a></li>
    <li><a href="browse.php"><b>Browse</b></a></li>
    <?php
    if(isset($_SESSION['authorisation'])) {
    if($_SESSION['authorisation'] == 'knownuser') {
    echo '<li><a href="account.php">MyAccount</a></li>';
    }
    }
    if(isset($_SESSION['admin'])) {
    echo '<li><a href="admin.php">Admin</a></li>';
    }
    if(isset($_SESSION['authorisation'])) {
    if($_SESSION['authorisation'] = 'knownuser') {
    echo '<li><b>MyAuction</b></li>';
    }
    }
    ?>
    </ul>
    </nav>
    <section>   
    <div id="bidbar">
    <?php
echo "<form action=\"bid.php\" method=\"post\">";
echo "<div id=\"bidbar\">";
if($reserve_met == 0){
  echo "<span>Starting bid:$</span>";
}else{
  echo "<span>Min next bid: $</span>";
}
?>

<input id="bidinput" type="text" name="bid" value="<?php echo $reserve > $highest_bid ? $reserve : $highest_bid + 1;?>" size="4">
<input type="hidden" name="auction_number" value="<?php echo $auctionnum;?>">
<input type="submit" id="bidbutton" value="click here to bid">
</div><!-- //bidbar -->
</form>

<?php
    echo "<h1 id=\"auctiontitle\">Auction Title: $title </h1>";
    echo "<p id=\auctionbio\">Auction Description: $bio</p>";
    echo "<div id=\"infobar\">";
    if($reserve_met == 0){
        echo "<span>Start Price: \$$reserve</span>";
        echo "</br>";
         echo "<span id=\"reserve\">No reserve</span>";
        }else{
        echo "<span>Highest Bid:\$$highest_bid</span>";
        echo "<span id=\"reserve\">Reserve Met</span>";
    }

?>
    </section>
    <hr>
    <footer>Courtney Greenheld Web Design 2012 Ltd.</footer>
    </body>
    </html> 
```

然后这是我处理投标的页面。

```
if(isset($_POST['bid']) && isset($_POST['auctionnum'])) {
  $clean_bid = $_POST['bid'];
echo $clean_bid;
  $auctionnum = $_POST['auctionnum'];
echo $auctionnum;
  $bidder = $_SESSION['user'];
echo $bidder;
}else{
  header("Location: auction.php");
  exit();
}
$query_highest_bid = 'SELECT highest_bid FROM Auctions WHERE Auctionno = "'.$auctionnum.'";';
$result = $conn->query($insert);
$highest_array = mysql_fetch_array($result);
$highest_bid = $highest_array[0];
$query1 = 'UPDATE Auctions SET highest_bid = "'.$clean_bid.'" WHERE Auctionno = "'.$auctionnum.'";';
$result1 = $conn->query($query1);
$query2 = 'UPDATE Auctions SET highest_bidder = "'.$bidder.'" WHERE Auctionno = "'.$auctionnum.'";';
$result2 = $conn->query($query2);
$query3 = 'UPDATE Auctions SET highest_bidder = "'.$bidder.'" WHERE Auctionno = "'.$auctionnum.'";';
$result3 = $conn->query($query3);
$query4 = 'INSERT INTO BiddingUsers(Auctionno, Username, Bid) VALUES("'.$auctionnum.'" , "'.$bidder.'", "'.$clean_bid.'");';
$result4 = $conn->query($query4);
header("Location: auction.php?id=$auctionnum");

?> 
```

我不太确定到底哪里出了问题，我认为 mysql_fetch_array 是个问题，我通常不使用它。但我对出了什么问题感到非常困惑。而且我还没有对我的输入进行分类，但我知道它们。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:46:30.847

**Where's the connection to your database ? ($conn) I cannot see it being initialized.**

Also, make sure you enable "`display_errors`", by adding the following code to the top of your file. this way you can debug your code properly, after that, comment or simply remove it.

```
ini_set('display_errors', 1);
error_reporting(E_ALL); 
```

As a side-note to your coding style I would recommend using `EOF` instead of multiple `echo`

EX: you have:

```
echo "<h1 id=\"auctiontitle\">Auction Title: $title </h1>";
    echo "<p id=\auctionbio\">Auction Description: $bio</p>";
    echo "<div id=\"infobar\">"; 
```

I would recommend:

```
$pagina = <<< EOF
<h1 id="auctiontitle">Auction Title: $title </h1>
<p id=\auctionbio">Auction Description: $bio</p>
<div id="infobar">
more html...
EOF;
echo $pagina ; 
```

It's easier to write and read and more error proof because you don't have to escape everything.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:36:33.273

这是因为那些变量在使用之前没有定义。`error_reporting(0)`在 aution.php 文件的顶部 使用或为变量分配空值，例如，

```
$auctionnum=$title=$bio=$category=$reserve=$reserve_met=$highest_bid=""; 
```

**原因：**

例如，

```
 $temp="test";
 echo $temp; 
```

在上面的代码`$temp`变量中赋值。所以它不会给你任何通知。但请看以下代码：

```
echo $tt; 
```

在此代码`$tt`中，变量在使用之前没有定义/分配任何值。所以它会像你提到的那样发出通知。当执行以下查询时，让我们转到您的代码，在 auction.php 中，

```
$query = 'SELECT * FROM Auctions WHERE Auctionno = "'.$auctionnum.'";'; 
```

您将获得变量的值，例如`$auctionnum`, `$title`, `$bio`, `$category`, `$reserve`, `$reserve_met`, `$highest_bid`。如果查询没有记录，那么它是未分配的，你会看到 php 通知。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-24T13:35:59.190

这是因为您使用了在使用它们之前未定义的变量。请在出现错误的行上使用，而不是：

```
 $clean_title = $_POST['Title'];
 $clean_bio = $_POST['Bio'];
 .... 
```

请用

```
$clean_title = (isset($_POST['Title'])?$_POST['Title']:"");
$clean_bio = (isset($_POST['Bio'])?$_POST['Bio']:"");
.... 
```

它也可以用于其他变量，例如：代替

```
$title 
```

利用

```
(isset($title)?$title:"") 
```

# sql - 使用游标递归 Oracle pl/sql

> ID：12720269
> 
> 赞同：1
> 
> 时间：2012-10-04T04:28:27.680
> 
> 标签：sql, oracle, recursion, hierarchical-data

我有下表

```
CREATE TABLE regions
(
        PARENT_NAME     VARCHAR2(30),
        CHILD_NAME      VARCHAR2(30)
); 
```

我需要使用 Pl/SQL 中的游标执行递归，就像接受来自用户输入的区域名称 (CHILD_NAME) 并显示其所有父区域。有什么建议么？。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T05:08:45.563

```
select parent_name
from regions
start with child_name = :CHILD_NAME
connect by prior parent_name = child_name; 
```

# android - 从操作栏中删除 Toast

> ID：12720272
> 
> 赞同：2
> 
> 时间：2012-10-04T04:28:48.407
> 
> 标签：android, actionbarsherlock

我有显示应用程序名称、搜索和更多操作菜单项的操作栏，尽管我为此使用了 sherlock 库。当我在操作栏中执行长按事件时，我想禁用搜索和更多项目的祝酒词。有谁知道如何禁用/重新定义长按事件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:44:48.027

这是本机操作栏的一个功能。它不能被删除。

# bash - Bash：如何从字符串数组创建变量？

> ID：12720273
> 
> 赞同：1
> 
> 时间：2012-10-04T04:28:49.413
> 
> 标签：bash

我有文件“Testfile”，每一行都有一个寄存器，每个寄存器都有一些字段：

```
foo1=32=test01=30/03/2012 10:03 p.m
foo2=54=test02=30/03/2012 10:05 p.m
foo3=912=test03=30/03/2012 10:08 p.m 
```

（“=”是字段分隔符）

我读取每个寄存器的第一个字段并将它们存储在一个数组中，对于每个寄存器的第二个字段也是如此：

```
NAMES=(`cut -f1 -d'=' Testfile`)
VALUES=(`cut -f2 -d'=' Testfile`) 
```

这给了我两个这样的数组： (foo1 foo2 foo3) 和 (32 54 912)

是否可以动态创建名为 foo1 foo2 和 foo3 的变量，并为它们分配各自的值？

我可以做：

```
foo1 = ${VALUES[0]}
foo2 = ${VALUES[1]}
foo3 = ${VALUES[2]} 
```

但我想动态获取变量的名称，关于我从文件中获得的名称。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:42:36.137

```
cat Testfile 
foo1=35
foo2=54
foo3=912

for v in $(cat Testfile); do declare "$v"; done

echo $foo1 
35

echo $foo2 
54 
```

如果文件中的行看起来完全像这样，这将起作用：

```
var=val 
```

这是一个适用于空格的版本：

```
cat Testfile
foo1 = 35
foo2 = 54
foo3 = 912

while read line; do
    if [ -z "$line" ]; then continue; fi
    var=$(echo $line | cut -d'=' -f1)
    val=$(echo $line | cut -d'=' -f2)
    declare "$(echo $var)=$(echo $val)"
done < Testfile

echo $foo1 
35 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T05:21:44.733

如果值没有空格（如示例中）或用引号括起来，这就像“采购”文件一样简单。

```
source Testfile 
```

这将基本上“运行”文件，在这种情况下，它只是定义了一些变量并返回。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:55:43.990

这可能对您有用（GNU sed）：

```
NAMES_VALUES=($(sed 's/\(\S*\)\s*\(\S*\)\s*.*/\1=\2/' Testfile))
eval "${NAMES_VALUES[@]}" 
```

编辑：

如果文件格式`=`用作分隔符：

```
NAMES_VALUES=($(sed 's/^\([^=]*=[^=]*\)=.*/\1/' Testfile))
eval "${NAMES_VALUES[@]}" 
```

# blackberry - BlackBerry os 6 的 QR 码屏幕弹出问题

> ID：12720275
> 
> 赞同：0
> 
> 时间：2012-10-04T04:29:10.947
> 
> 标签：blackberry, camera, screen, qr-code, blackberry-os6

我正在尝试用我的代码扫描 QR 码。我的代码在 5.0(Bold) 和 7.1(Torch) OS 手机上运行良好。它在 7.1 和 5.0 中运行良好。但在运行 6.0 OS（Bold 9700）时出现问题。问题是 - “在尝试扫描 QR 码时，应用程序扫描 QR 码但相机屏幕没有弹出并且它仍然在前面。事件它无法使用 Esc 键隐藏”。请帮我解决os6的问题。

**编辑：**

打开相机屏幕进行二维码扫描时的代码：

```
 Hashtable hints = new Hashtable();

    // The first thing going in is a list of formats. We could look for
    // more than one at a time, but it's much slower.
    Vector formats = new Vector();
    formats.addElement(BarcodeFormat.QR_CODE);
    hints.put(DecodeHintType.POSSIBLE_FORMATS, formats);

    // We will also use the "TRY_HARDER" flag to make sure we get an
    // accurate scan
    hints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);

    // We create a new decoder using those hints
    BarcodeDecoder decoder = new BarcodeDecoder(hints);

    // Finally we can create the actual scanner with a decoder and a
    // listener that will handle the data stored in the QR code. We put
    // that in our view screen to handle the display.
    try {
        _scanner = new BarcodeScanner(decoder, new LeadQRcodeDecoderListener());
        _QRcodeScreen = new LeadQRcodeScannerViewScreen(_scanner);

        // If we get here, all the QR code scanning infrastructure should be set
        // up, so all we have to do is start the scan and display the viewfinder
        _scanner.startScan();
        UiApplication.getUiApplication().pushScreen(_QRcodeScreen);
    }
    catch (Exception e) {
        e.printStackTrace();
        return;
    } 
```

关闭屏幕的代码是：

```
UiApplication.getUiApplication().invokeLater(new Runnable() { 
    public void run() { 
        UiApplication.getUiApplication().popScreen(_QRcodeScreen); 
    } 
}); 
```

我在扫描二维码后调用此代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:19:39.593

这是我的代码，它在**OS 6.0 设备 9830中运行良好**

```
 /**
      * First Invoke the QR Scanner 
      */
     ViewFinderScreen _viewFinderScreen = 
          new ViewFinderScreen(ShoopingCartScreen.this); // ShoopingCartScreen.this Current Screen Object 
     UiApplication.getUiApplication().pushScreen(_viewFinderScreen); 
```

* * *

```
package com.application.qrScanner;
import java.util.Hashtable;
import java.util.Vector;

import javax.microedition.media.MediaException;
import javax.microedition.media.Player;
import javax.microedition.media.control.VideoControl;

import net.rim.device.api.barcodelib.BarcodeDecoder;
import net.rim.device.api.barcodelib.BarcodeDecoderListener;
import net.rim.device.api.barcodelib.BarcodeScanner;
import net.rim.device.api.io.Base64InputStream;
import net.rim.device.api.io.http.HttpDateParser;
import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.FieldChangeListener;
import net.rim.device.api.ui.Keypad;
import net.rim.device.api.ui.UiApplication;
import net.rim.device.api.ui.component.ButtonField;
import net.rim.device.api.ui.container.MainScreen;

import com.application.data.ShoopingCartObj;
import com.application.global.Global;
import com.application.log.Log;
import com.application.main.MessageScreen;
import com.application.main.orderDetail.orderSection.InputPopUpScreen;
import com.application.main.shoopingSection.ShoopingCartScreen;
import com.google.zxing.BarcodeFormat;
import com.google.zxing.DecodeHintType;

public class ViewFinderScreen extends MainScreen 
{
    private BarcodeScanner _scanner;
    private short _frequency = 1046;
    private short _duration = 200;
    private int _volume = 100;
    private VideoControl vc;
    private ButtonField _btnCancel;
    private ShoopingCartScreen _shoopingCartScreen;

    /**
     * Creates a new ViewFinderScreen object
     */
    public ViewFinderScreen(ShoopingCartScreen _shoopingCartScreen)
    {

        this._shoopingCartScreen = _shoopingCartScreen;

        _btnCancel = new ButtonField("Cancel" , ButtonField.USE_ALL_WIDTH)
        {
            protected boolean navigationClick(int status, int time) 
            {
                fieldChangeNotify(1);
                return true;
            }
        };

        _btnCancel.setChangeListener(new FieldChangeListener() 
        {

            public void fieldChanged(Field field, int context) 
            {
                stopScan();
                UiApplication.getUiApplication().popScreen(ViewFinderScreen.this);

            }
        });

        // Initialize Hashtable used to inform the scanner how to
        // recognize the QR code format.
        Hashtable hints = new Hashtable();
        Vector formats  = new Vector(1);
        formats.addElement(BarcodeFormat.QR_CODE);
        hints.put(DecodeHintType.POSSIBLE_FORMATS, formats);

        // Initialize the BarcodeDecoder
        BarcodeDecoder decoder = new BarcodeDecoder(hints);

        // Create a custom instance of a BarcodeDecoderListener to pop the
        // screen and display results when a QR code is recognized.
        BarcodeDecoderListener decoderListener = new BarcodeDecoderListener()
        {
            /**
             * @see BarcodeDecoderListener#barcodeDecoded(String)
             */
            public void barcodeDecoded(String rawText)
            {
                try {

                    String encoded = rawText;
                    byte[] decoded = Base64InputStream.decode( encoded );

                    rawText  = new String(decoded);
                    System.out.println( new String( decoded ) );
                }
                catch (Throwable t) {

                    System.out.println( "Unable to decode string: " + t.getMessage() );
                }

                displayMessage(rawText);
                ViewFinderScreen.this. _shoopingCartScreen.beep();
            }
        };

        try
        {
            // Initialize the BarcodeScanner object and add the associated
            // view finder.                
            _scanner = new BarcodeScanner(decoder, decoderListener);

            vc = _scanner.getVideoControl();
            vc.setDisplayFullScreen(true);

            add(_scanner.getViewfinder());

            setStatus(_btnCancel);   
        }
        catch(Exception e)
        {
            displayMessage("Initilize Scanner: " + e.getMessage());
        }   

        startScan();
    }           

    /**
     * Informs the BarcodeScanner that it should begin scanning for QR Codes
     */
    public void startScan()
    {
        try
        {

            _scanner.startScan();
        }
        catch(MediaException me)
        {
            displayMessage(" Start Scan Error: " + me.getMessage());
        }
    }

    public void stopScan()
    {
        try 
        {
            Player p = _scanner.getPlayer() ;
            if(p != null)
            {
                p.stop();
                p.deallocate();
                p.close();
            }   
        } 
        catch (Exception e) 
        {
            MessageScreen.msgDialog("Exception in Stop Scanning "+e.toString());
        }
    } 

    /**
     * Pops the ViewFinderScreen and displays text on the main screen
     * 
     * @param text Text to display on the screen
     */
    private void displayMessage(final String text)
    {

        Log.d("QR Code String ", text);

        UiApplication.getUiApplication().invokeLater(new Runnable()
        {
            public void run()
            {
                stopScan();

            }

        });
    }

    protected boolean keyDown(int keycode, int time) 
    {
        if (Keypad.key(keycode) == Keypad.KEY_ESCAPE) 
        {
            stopScan();
            return true;
        }
        return super.keyDown(keycode, time);
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T14:04:28.440

这是之前在本网站上询问过的某些设备中 OS6 的问题。上一个是两天前：
[Blackberry OS6 相机在拍摄后不会关闭](https://stackoverflow.com/q/12688419/813951)

AFAIK 没有关闭相机应用程序的 API，因此必须通过密钥注入黑客来完成，这很棘手，因为它们需要准确的时间，并且由于某些型号的 CPU 不同，而且相机应用程序在某些方面具有不同的设计操作系统。

因此，您要么使用[JSR135](http://www.blackberry.com/knowledgecenterpublic/livelink.exe/fetch/2000/348583/800332/1089414/How_To_-_Take_a_snapshot_using_the_built-in_camera_of_a_BlackBerry_smartphone.html?nodeid=1443849&vernum=0)并使用重命名的 Zxing 包来提供包含在您的应用程序中的相机视图，或者只是按照您的方法而不是关闭相机应用程序，而是将您自己的应用程序置于前台。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T04:36:28.573

我已经解决了 os 6 的相同问题。扫描 QR 码后，关闭所有播放器和扫描仪连接。

您可以使用-

```
if (_scanner != null && _scanner.getPlayer() != null) {
    _scanner.getPlayer().close();
} 
```

这对我很有帮助。这肯定会对你有所帮助。

# iphone - 缩放后图像位置不正确

> ID：12720276
> 
> 赞同：1
> 
> 时间：2012-10-04T04:29:14.557
> 
> 标签：iphone, objective-c, ios, xcode, uiimageview

我正在使用`UIViewContentModeScaleToFill` 缩放图像。缩放后，图像没有显示在正确的位置。帮助我。

**下面是我的代码：**

```
 UIImage *image=[UIImage imageNamed:@"image2.png"];
    UIImageView *imageView = [[UIImageView alloc] initWithImage:image]; 
    imageView.frame=CGRectMake(0, 0, 200, 200);
    imageView.contentMode = UIViewContentModeScaleAspectFit;

    //change width of frame
    CGRect frame = imageView.frame;
    imageView.frame = frame;
    [self.view addSubview:imageView]; 
```

**缩放后：**

参考图[1](http://i.stack.imgur.com/pzrTf.png)

**缩放前：**

参考图[2](http://i.stack.imgur.com/RzcHJ.png)

我想从原点（0,0）开始缩放图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:53:01.797

首先，你有`UIViewContentModeScaleAspectFit`你的代码，而不是`UIViewContentModeScaleToFill`你说的。请发一张原图。
其次，“改变框架宽度”部分没用，`imageView.size.width`已经设置为`200`。缩放模式根本不会改变视图的框架，它们会改变它显示其内容的方式。

我不知道您所说的“正确位置”是什么，但请尝试`imageView`像这样进行全屏显示：

```
UIImageView *imageView = [[UIImageView alloc] initWithImage:image];
imageView.contentMode = UIViewContentModeScaleToFill;
imageView.frame = self.view.frame; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T08:37:04.047

嗨，试试下面的代码，我希望它可以帮助你了解......

```
 UIImage *image=[UIImage imageNamed:@"image2.png"];
    UIImageView *imageView = [[UIImageView alloc] initWithImage:image];
  //  imageView.contentMode = UIViewContentModeScaleToFill;
    imageView.contentMode = UIViewContentModeScaleAspectFit; 
    imageView.frame = self.view.bounds;
    [self.view addSubview:imageView]; 
```

**在以下评论后更新：**

> 我想在不改变纵横比的情况下裁剪图像。宽度为 200 像素。高度将根据宽度而变化。– 希瓦姆

您想要裁剪意味着您尝试以下类别代码：

**UIImage+MyImage.h**

```
#import <UIKit/UIKit.h>

@interface UIImage (MyImage)

+ (UIImage*)imageFromView:(UIView*)view;
+ (UIImage*)imageFromView:(UIView*)view scaledToSize:(CGSize)newSize;
+ (UIImage*)imageWithImage:(UIImage*)image scaledToSize:(CGSize)newSize;
+ (void)beginImageContextWithSize:(CGSize)size;
+ (UIImage *)croppedImage:(UIImage *)myImage :(CGRect)bounds;

+ (UIImage *) imageFromColor:(UIColor *)color;

@end 
```

**UIImage+MyImage.m**

```
#import "UIImage+MyImage.h"

@implementation UIImage (MyImage)

+ (void)beginImageContextWithSize:(CGSize)size
{
    if ([[UIScreen mainScreen] respondsToSelector:@selector(scale)]) {
        if ([[UIScreen mainScreen] scale] == 2.0) {
            UIGraphicsBeginImageContextWithOptions(size, YES, 2.0);
        } else {
            UIGraphicsBeginImageContext(size);
        }
    } else {
        UIGraphicsBeginImageContext(size);
    }
}

+ (void)endImageContext
{
    UIGraphicsEndImageContext();
}

+ (UIImage*)imageFromView:(UIView*)view
{
    [self beginImageContextWithSize:[view bounds].size];
    BOOL hidden = [view isHidden];
    [view setHidden:NO];
    [[view layer] renderInContext:UIGraphicsGetCurrentContext()];
    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    [self endImageContext];
    [view setHidden:hidden];
    return image;
}

+ (UIImage*)imageFromView:(UIView*)view scaledToSize:(CGSize)newSize
{
    UIImage *image = [self imageFromView:view];
    if ([view bounds].size.width != newSize.width ||
        [view bounds].size.height != newSize.height) {
        image = [self imageWithImage:image scaledToSize:newSize];
    }
    return image;
}

+ (UIImage*)imageWithImage:(UIImage*)image scaledToSize:(CGSize)newSize
{
    [self beginImageContextWithSize:newSize];
    [image drawInRect:CGRectMake(0,0,newSize.width,newSize.height)];
    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
    [self endImageContext];
    return newImage;
}

+ (UIImage *)croppedImage:(UIImage *)myImage :(CGRect)bounds {
    CGImageRef imageRef = CGImageCreateWithImageInRect(myImage.CGImage, bounds);
    UIImage *croppedImage = [UIImage imageWithCGImage:imageRef];
    CGImageRelease(imageRef);
    CGSize asd =  croppedImage.size;
    return croppedImage;
}

+ (UIImage *) imageFromColor:(UIColor *)color {
    CGRect rect = CGRectMake(0, 0, 1, 1);
    UIGraphicsBeginImageContext(rect.size);
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetFillColorWithColor(context, [color CGColor]);
    //  [[UIColor colorWithRed:222./255 green:227./255 blue: 229./255 alpha:1] CGColor]) ;
    CGContextFillRect(context, rect);
    UIImage *img = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return img;
}

@end 
```

电话将是：

```
imageView.image=[UIImage croppedImage:imageView.Image :CGRectMake(0,0,200,200) ]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-22T19:23:19.757

您可以使用此代码修复不需要的旋转图像

**Swift 5 扩展：**

```
extension UIImage {
    /// Fix image orientaton to protrait up
    func fixedOrientation() -> UIImage? {
        guard imageOrientation != UIImage.Orientation.up else {
            // This is default orientation, don't need to do anything
            return self.copy() as? UIImage
        }

        guard let cgImage = self.cgImage else {
            // CGImage is not available
            return nil
        }

        guard let colorSpace = cgImage.colorSpace, let ctx = CGContext(data: nil, width: Int(size.width), height: Int(size.height), bitsPerComponent: cgImage.bitsPerComponent, bytesPerRow: 0, space: colorSpace, bitmapInfo: CGImageAlphaInfo.premultipliedLast.rawValue) else {
            return nil // Not able to create CGContext
        }

        var transform: CGAffineTransform = CGAffineTransform.identity

        switch imageOrientation {
        case .down, .downMirrored:
            transform = transform.translatedBy(x: size.width, y: size.height)
            transform = transform.rotated(by: CGFloat.pi)
        case .left, .leftMirrored:
            transform = transform.translatedBy(x: size.width, y: 0)
            transform = transform.rotated(by: CGFloat.pi / 2.0)
        case .right, .rightMirrored:
            transform = transform.translatedBy(x: 0, y: size.height)
            transform = transform.rotated(by: CGFloat.pi / -2.0)
        case .up, .upMirrored:
            break
        @unknown default:
            fatalError("Missing...")
            break
        }

        // Flip image one more time if needed to, this is to prevent flipped image
        switch imageOrientation {
        case .upMirrored, .downMirrored:
            transform = transform.translatedBy(x: size.width, y: 0)
            transform = transform.scaledBy(x: -1, y: 1)
        case .leftMirrored, .rightMirrored:
            transform = transform.translatedBy(x: size.height, y: 0)
            transform = transform.scaledBy(x: -1, y: 1)
        case .up, .down, .left, .right:
            break
        @unknown default:
            fatalError("Missing...")
            break
        }

        ctx.concatenate(transform)

        switch imageOrientation {
        case .left, .leftMirrored, .right, .rightMirrored:
            ctx.draw(cgImage, in: CGRect(x: 0, y: 0, width: size.height, height: size.width))
        default:
            ctx.draw(cgImage, in: CGRect(x: 0, y: 0, width: size.width, height: size.height))
            break
        }

        guard let newCGImage = ctx.makeImage() else { return nil }
        return UIImage.init(cgImage: newCGImage, scale: 1, orientation: .up)
    }
} 
```

**目标 C 代码：**

```
-(UIImage *)scaleAndRotateImage:(UIImage *)image{
        // No-op if the orientation is already correct
        if (image.imageOrientation == UIImageOrientationUp) return image;

        // We need to calculate the proper transformation to make the image upright.
        // We do it in 2 steps: Rotate if Left/Right/Down, and then flip if Mirrored.
        CGAffineTransform transform = CGAffineTransformIdentity;

        switch (image.imageOrientation) {
            case UIImageOrientationDown:
            case UIImageOrientationDownMirrored:
                transform = CGAffineTransformTranslate(transform, image.size.width, image.size.height);
                transform = CGAffineTransformRotate(transform, M_PI);
                break;

            case UIImageOrientationLeft:
            case UIImageOrientationLeftMirrored:
                transform = CGAffineTransformTranslate(transform, image.size.width, 0);
                transform = CGAffineTransformRotate(transform, M_PI_2);
                break;

            case UIImageOrientationRight:
            case UIImageOrientationRightMirrored:
                transform = CGAffineTransformTranslate(transform, 0, image.size.height);
                transform = CGAffineTransformRotate(transform, -M_PI_2);
                break;
            case UIImageOrientationUp:
            case UIImageOrientationUpMirrored:
                break;
        }

        switch (image.imageOrientation) {
            case UIImageOrientationUpMirrored:
            case UIImageOrientationDownMirrored:
                transform = CGAffineTransformTranslate(transform, image.size.width, 0);
                transform = CGAffineTransformScale(transform, -1, 1);
                break;

            case UIImageOrientationLeftMirrored:
            case UIImageOrientationRightMirrored:
                transform = CGAffineTransformTranslate(transform, image.size.height, 0);
                transform = CGAffineTransformScale(transform, -1, 1);
                break;
            case UIImageOrientationUp:
            case UIImageOrientationDown:
            case UIImageOrientationLeft:
            case UIImageOrientationRight:
                break;
        }

        // Now we draw the underlying CGImage into a new context, applying the transform
        // calculated above.
        CGContextRef ctx = CGBitmapContextCreate(NULL, image.size.width, image.size.height,
                                                 CGImageGetBitsPerComponent(image.CGImage), 0,
                                                 CGImageGetColorSpace(image.CGImage),
                                                 CGImageGetBitmapInfo(image.CGImage));
        CGContextConcatCTM(ctx, transform);
        switch (image.imageOrientation) {
            case UIImageOrientationLeft:
            case UIImageOrientationLeftMirrored:
            case UIImageOrientationRight:
            case UIImageOrientationRightMirrored:
                // Grr...
                CGContextDrawImage(ctx, CGRectMake(0,0,image.size.height,image.size.width), image.CGImage);
                break;

            default:
                CGContextDrawImage(ctx, CGRectMake(0,0,image.size.width,image.size.height), image.CGImage);
                break;
        }

        // And now we just create a new UIImage from the drawing context
        CGImageRef cgimg = CGBitmapContextCreateImage(ctx);
        UIImage *img = [UIImage imageWithCGImage:cgimg];
        CGContextRelease(ctx);
        CGImageRelease(cgimg);
        return img;
} 
```

**代码的使用**

```
 UIImage *img=[info objectForKey:UIImagePickerControllerOriginalImage];

 img=[self scaleAndRotateImage:img];
 NSData *image = UIImageJPEGRepresentation(img, 0.1); 
```

# android - android：为什么getrotationmatrix返回false？

> ID：12720284
> 
> 赞同：5
> 
> 时间：2012-10-04T04:30:29.863
> 
> 标签：android, matrix, orientation, android-sensors, coordinate

我想获得手机的方向，并且我使用了这个代码，我发现很多人都在使用它。这是代码

```
 public void onSensorChanged(SensorEvent event) {
    //if the data sensor is unreliabel
    if(event.accuracy == SensorManager.SENSOR_STATUS_UNRELIABLE)
        return;

    //gets the value
    switch (event.sensor.getType()) {
    case Sensor.TYPE_ACCELEROMETER:
        gravity = event.values.clone();
        break;

    case Sensor.TYPE_MAGNETIC_FIELD:
        geomag = event.values.clone();
        break;
    }
    getOrientation();
}

private void getOrientation(){

    //if gravity n geomag have value, find the rotation matrix
            if(gravity != null && geomag != null){

                //check the rotation matrix found
                boolean success = SensorManager.getRotationMatrix(inR, I, gravity, geomag);

                if(success){
                    SensorManager.getOrientation(inR, orientVals);
                    azimuth = Math.toDegrees(orientVals[0]);

                    TextView azi = (TextView) findViewById(R.id.textAzi);
                    azi.setText("azi : " + azimuth);

                }
                TextView cek = (TextView) findViewById(R.id.cek);
                cek.setText("rotation: "+success);
            } 
```

但是为什么 getrotationmatrix 总是返回 false 呢？哪里有问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T21:12:46.540

我再次尝试并获得解决方案，但我将代码更改为如下所示

```
 public void onSensorChanged(SensorEvent event) {
    // TODO Auto-generated method stub
    switch (event.sensor.getType()) {
    case Sensor.TYPE_ACCELEROMETER:
        for(int i=0; i<3; i++){
            accelValues[i] =  event.values[i];
        }
        if(compassValues[0] != 0)
            ready = true;

        break;

    case Sensor.TYPE_MAGNETIC_FIELD:
        for(int i=0; i<3; i++){
            compassValues[i] = event.values[i];
        }
        if(accelValues[2] != 0)
            ready = true;

        break;
    }

    if(!ready)
        return;

    boolean cek = SensorManager.getRotationMatrix(inR, inclineMatrix, accelValues, compassValues);

    if(cek){
        SensorManager.getOrientation(inR, prefValues);
        mInclination = SensorManager.getInclination(inclineMatrix);

        //display every 30th values
        if(counter++ % 30 == 0){
            //do your code, what you want to do to the result
            counter = 1;
        }
    } 
```

一切正常

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T15:20:49.760

确保您已注册您的听众以收听加速度计、磁力场和陀螺仪（可选）。您可以在 onResume 方法中执行此操作。如果您忘记执行此操作，您将在调用 getRotationMatrix 时获得“假”返回值。

我希望这有帮助！

```
 protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);

   mSensorManager = (SensorManager)getSystemService(SENSOR_SERVICE);

   // do more staff here..
   }

   protected void onResume() {
    super.onResume();

    mSensorManager.registerListener(
            this, 
            mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),
             SensorManager.SENSOR_DELAY_NORMAL );
          mSensorManager.registerListener(
            this, 
            mSensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD), 
            SensorManager.SENSOR_DELAY_NORMAL );
          mSensorManager.registerListener(
                this, 
                mSensorManager.getDefaultSensor(Sensor.TYPE_GYROSCOPE), 
                SensorManager.SENSOR_DELAY_NORMAL );

}

protected void onPause() {
    super.onPause();
    mSensorManager.unregisterListener(this);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-10T10:17:35.727

问题在于这部分代码：

```
if(event.accuracy == SensorManager.SENSOR_STATUS_UNRELIABLE)
    return; 
```

对于加速度计 event.accuracy 返回 SensorManager.SENSOR_STATUS_UNRELIABLE 这就是为什么重力总是空的。

# c# - 如何在 Kernel32.dll 库中使用 RtlCaptureStackBackTrace()？

> ID：12720289
> 
> 赞同：2
> 
> 时间：2012-10-04T04:31:23.180
> 
> 标签：c#, interop, dllimport

我知道这`StackTrace`门课，但是由于所有的符号查找，我正在做的事情太慢了。

我听说过这个`RtlCaptureStackBackTrace`功能，`Kernel32.dll`但我似乎无法让它正常工作。我对 pinvoke 不熟悉，因为我很少需要对它做任何事情，而且我所做的事情在网上都有很好的报道，但这不是 :(。

这是我的定义：

```
[DllImport("kernel32.dll")]
public static extern ushort RtlCaptureStackBackTrace(uint FramesToSkip, uint FramesToCapture, out IntPtr BackTrace, out uint BackTraceHash); 
```

这就是我使用它的方式：

```
IntPtr trace = IntPtr.Zero;
uint traceHash = 0; 
int framesCaptured = 0;

framesCaptured = RtlCaptureStackBackTrace(0, 4, out trace, out traceHash);

int[] frames = new int[framesCaptured];
Marshal.Copy(trace, frames, 0, framesCaptured); 
```

我看到的是 framesCaptured 是 1，这应该是至少 4 个用户调用加上我的测试应用程序的系统调用。

编辑：我可能应该明确一点，我的问题是我做错了什么`RtlCaptureStackBackTrace`，我没有收到正确的堆栈地址信息，或者我是否正确使用它并且只是不知道如何传播数据？

# java - Java：由优先级队列组成的奇怪队列顺序

> ID：12720293
> 
> 赞同：1
> 
> 时间：2012-10-04T04:32:00.590
> 
> 标签：java, priority-queue

我写了一个迷宫求解程序，它应该支持 DFS、BFS、A*、Dijkstra 和贪心算法。无论如何，我选择 PriorityQueue 作为我的前沿数据结构，因为我认为优先级可以表现得像队列、堆栈或优先级队列，这取决于比较器的实现。

这就是我实现比较器以将优先级队列转换为队列的方式：

/**由于优先级队列的“自然排序”在头部具有最少元素，并且传统比较器在第一个小于第二个时返回 -1，因此被破解的比较器总是返回 1，因此当前（最后一个）方格将是放在尾部（这应该递归地工作）** /

```
public int compare(Square square1, Square square2)
{
    return 1;
} 
```

然而，在我进行 BFS 之后，我的迷宫解决方案并不是最优的。

迷宫从坐标（35,1）的右上角开始，我的程序检查左边，然后向上，然后向下，然后是右边的邻居。这是我做的println：

轮询 (35,1)

添加 (34,1)

添加 (35,2)

轮询 (34,1)

添加 (33,1)

添加 (34,2)

轮询 (35,2)

添加 (35,3)

轮询 (33,1)

添加 (32,1)

添加 (33,2)

轮询 (34,2)

添加 (34,3)

投票 (32,1)

……

注意 BFS (35,3) 应在 (32,1) 之前轮询，因为前者在后者之前添加到队列中。真正让我感到困惑的是，数据结构的行为就像一个队列——所有新成员都是从后面添加的——直到我添加了 (32,1)，它被放置在队列的头部。

我认为我的比较器应该强制优先级队列将新来者放在后面。更让我感到陌生的是，数据结构的性质从队列变成了中间的堆栈。

非常感谢你们，并为我糟糕的英语感到抱歉，真诚的，肖恩

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:36:38.560

您实现的方式`compare`是错误的，并且仅当仅以您假设的非常特定的方式调用它时才会起作用。但是，您不知道`PriorityQueue`实际调用`compare`. 该`compare`函数很可能在数据结构内的现有元素上调用，而不是在新元素上调用，反之亦然。

（即使您确实阅读了源代码并跟踪它并发现此特定实现以某种方式工作，如果您希望您的代码可维护，您也不应该依赖它。至少，您会让自己通过解释它为什么起作用来做更多的工作。）

您可以只使用某种计数器并将其分配为每个添加项目的值，然后`compare`根据该值正确实施。

的正确实现`compare`可能如下所示：

```
int compare(Object x, Object y){
    return x.getSomeProperty() - y.getSomeProperty();
} 
```

请注意，如果您切换参数的顺序，答案也会发生变化。不，返回的 int*不一定*来自 {-1, 0, 1}。规范要求 0，或者一个负整数或正整数。你可以使用任何你想要的，只要它是正确的标志。

# iphone - 如何在 iPhone 的 UITabbar（使用情节提要）中设置两行文本？

> ID：12720296
> 
> 赞同：2
> 
> 时间：2012-10-04T04:32:50.973
> 
> 标签：iphone, ios, text, uitabbarcontroller, uitabbaritem

目前我在 iPhone 应用程序中工作，使用 Storyboard 在 iPhone 中创建标签栏应用程序，然后我设置下载图像、下载书籍、下载音乐等文本。最后我运行 thae 应用程序，它似乎拉伸了所有标签栏项目，但我想要在每个 tabbaar 项目中设置文本两行，如“Dowload”作为第一行，“books”作为第二行，如何做到这一点？请帮我

提前致谢

![在此处输入图像描述](../Images/de1674a7f06851ace72193b4531134d1.png)

# r - 无法从 tmux 在 R 中绘图

> ID：12720297
> 
> 赞同：4
> 
> 时间：2012-10-04T04:33:01.373
> 
> 标签：r, tmux

我可以从常规终端`plot()`进入`R`，但不能从`tmux`伪终端进入。`png()`工作正常，但我无法写入显示器。

**更新：**对不起，没有错误信息。`R`只是无法“打印”到显示器。

**更新 2：** `ctrl` +`b` `:showenv`返回

```
DISPLAY=:0                                                                     
SSH_AGENT_PID=1786
-SSH_ASKPASS
SSH_AUTH_SOCK=/tmp/ssh-ebteUtjL1719/agent.1719
-SSH_CONNECTION
WINDOWID=18928777
XAUTHORITY=/home/me/.Xauthority 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-07-24T15:17:57.440

### 在 R 中修复

```
Sys.getenv('DISPLAY')
Sys.setenv("DISPLAY"=":0.0")
X11()
qplot(...)
.Devices
device.list() 
```

应该这样做。

* * *

### 在 tmux 中修复

您也可以键入`Ctrl`+ `b`，`:setenv DISPLAY :0.0`将其更改为 from`tmux`而不是 from `R`。

* * *

## 为什么会这样？

`tmux`当您最初运行命令以启动会话管理器时，它可能与您打开 tmux（虚拟终端与 GNOME 终端）的位置有关。

`echo $DISPLAY`在终端和R 中很好`Sys.getenv("DISPLAY")`。见[https://unix.stackexchange.com/questions/31283/error-in-r-unable-to-open-connection-to-x11](https://unix.stackexchange.com/questions/31283/error-in-r-unable-to-open-connection-to-x11)

你也可以`capabilities()`在 R 中运行，如果`capabilities()$X11 == FALSE`那样的话，那就是要修复的问题。

我搞砸了一段时间，然后能够做到`X11(); qplot( my.ggplot )`。检查`?X11`更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:37:06.483

如果您包含错误消息会有所帮助，但听起来您的`DISPLAY`环境变量在`tmux`. `echo $DISPLAY`从会话外部发出`tmux`，并确保`DISPLAY`在`tmux`.

您可以使用`update-environment`命令 in`tmux`进行配置`tmux`，以便它`tmux`使用来自外部环境的值自动更新特定环境变量。有关详细信息，请参阅[tmux 手册页](http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1)，或在 Web 上搜索“tmux update-environment”以获取描述此功能的各种其他页面。

# javascript - Rails - @提及使用 at.js

> ID：12720299
> 
> 赞同：2
> 
> 时间：2012-10-04T04:33:06.860
> 
> 标签：javascript, jquery, ruby-on-rails

我一直在尝试使用来自的 At.js 库为我的应用程序实现@mentions

[https://github.com/ichord/At.js](https://github.com/ichord/At.js)

我在触发 at 功能时遇到了一些问题（由下面代码中的回调触发）。我已经设置了以下咖啡脚本：

```
$ ->
  $("textarea").atWho "@", (query, callback) ->
    console.log("@who") 
    $.ajax 
      url: "/users/mentions.json"
      param: q: query 
      done: (data) ->
        console.log("in callback")
        console.log(data)
        names = $.parseJSON(data)
        console.log(names)
        callback names 
```

从 js 和 rails 控制台我可以看到控制器操作被调用，但是没有进行其他调用。

这个库对我来说在静态数据上工作得很好，所以我认为回调语法是一个问题。有人对此有任何指示吗？

编辑：

我在下面调整了 Nick 的解决方案并更改为使用 get 请求，这适用于使用以下修改后的代码从 rails 应用程序查询和返回数据：

```
$ ->
  $("textarea").atWho "@", (query, callback) ->
    console.log("@who") 
    $.get "/users/mentions.json", q: query, ((result) ->
      console.log("in callback")
      console.log("result: ")
      console.log(result)
      names = $.parseJSON(result)
      console.log(names)
      callback names
    ), "json" 
```

但是 parseJSON(result) 行仍然存在问题 - 它每次都返回 null。我尝试将要发送的 json 更改为非常简单的 {"name":"james"} 并且它仍然没有返回任何内容 - 任何人都可以帮助解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T05:11:22.597

尝试将行更改`param: q: data`为`data: q: data`. [$.ajax](http://api.jquery.com/jQuery.ajax/)函数不支持传递`param`选项。

# java - 迭代 ExecutionResult 返回关系

> ID：12720301
> 
> 赞同：0
> 
> 时间：2012-10-04T04:33:34.223
> 
> 标签：java, neo4j

```
String query1 =  "START
  a=node:node_auto_index(name=\"A\"),
  m=node:node_auto_index(name=\"M\"),
  b=node:node_auto_index(name=\"G\")
  MATCH  p=a-[*]-b-[*]-m " + 
  WHERE ALL(r in RELS(p) WHERE r.value >= 200) " 
  +   "WITH a, m, MIN(LENGTH(p)) AS l
  MATCH p=a-[*]-b-[*]-m WHERE ALL(r 
   in RELS(p) WHERE r.value >= 200)" +
  " AND LENGTH(p)=l RETURN p order by length(p) desc "; //limit 2
ExecutionResult eResult = exEngine.execute(query1); 
```

我正在使用上面的查询来获取两个节点之间的所有路径。我如何迭代返回的 RelationShips。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-07T20:59:46.423

您可以`return rels(p) as rels`只返回关系。或`nodes(p)`ftm。

如果您只对路径节点的名称感兴趣，请使用提取。

```
return extract(n in nodes(p) : n.name) as names 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T02:49:24.420

我使用以下方法做到了，上面发布的链接有帮助。

`final Iterator rels = eResult.columnAs("p");`

```
 while (rels.hasNext()){
            Path path = rels.next();

            Iterable<Relationship>  relationships = path.relationships();
            java.util.Iterator<Relationship> relIterator = relationships.iterator();
            while (relIterator.hasNext()){
                Relationship rel = relIterator.next();
                String aNode = (String) rel.getStartNode().getProperty("name");
                String zNode = (String) rel.getEndNode().getProperty("name");
                Long value = (Long) rel.getProperty("value");
                System.out.println(aNode +" is connected to "+zNode + " with value "+value);

            }

        }
    </code> 
```

# php - 如何使 GET TYPE www.url.com/script?id=value？

> ID：12720306
> 
> 赞同：-1
> 
> 时间：2012-10-04T04:34:26.857
> 
> 标签：php, apache, url

www.url.com/script?id=value。我想在 PHP 中获得那种获取类型。怎么做？在.htaccess 中？怎么做？如何得到它？如果文件没有扩展名，如何获取？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T04:37:37.937

特定 URL 的资源类型只能由`Content-Type`服务器返回的标头定义。

如果您希望确定资源的类型，则执行 a`HEAD`或`GET`请求，解析响应标头，并使用返回的类型。 [cURL](http://php.net/manual/en/book.curl.php)通常用于此目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T04:38:13.270

从理论上讲，您不需要 .htaccess 来完成此操作。您可以有一个名为“script”的文件夹，其中包含一个处理您的数据的“index.php”（`$_GET['id']`）。

# php - 如何在自定义路径上显示论坛？

> ID：12720308
> 
> 赞同：0
> 
> 时间：2012-10-04T04:34:42.077
> 
> 标签：php, drupal

默认情况下，我网站上的论坛启用了论坛；我希望他们转移到分享/论坛。我可以采取哪些不同的方法，哪种方法最好？

我尝试使用 Pathauto 模块执行此操作，但是当我希望它显示“主页 >> 分享 >> 论坛”时，面包屑显示“主页 >> 论坛”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:24:39.777

有很多方法，1）您可以使用 pathauto（您使用过，但它使用默认的 nid 来跟踪事物，这就是为什么在面包屑中它会这样显示）2）使用子域模块并转移您的论坛（如果您的主机支持） ) 3) 使用单独的论坛模块，如 phpbb 左右，并将其放到您想要的路径并使用重定向。

哪个适合你..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T16:39:00.143

如果您只想在共享/论坛上显示论坛页面，您可以在自定义模块中使用以下代码。

```
function mymodule_menu_alter(&$items) {
  if (isset($items['forum'])) {
    $items['share/forum'] = $items['forum'];
    unset($items['forum']);
  }
  if (isset($items['forum/%forum_forum'])) {
    $items['share/forum/%forum_forum'] = $items['forum/%forum_forum'];
    unset($items['forum/%forum_forum']);
  }
} 
```

如果您希望论坛在旧路径和新路径中都可见，可以使用以下代码。

```
function mymodule_menu() {
  $items['share/forum'] = array(
    'title' => 'Forums', 
    'page callback' => 'forum_page', 
    'access arguments' => array('access content'), 
    'file' => 'forum.pages.inc',
  );

  $items['share/forum/%forum_forum'] = array(
    'title' => 'Forums', 
    'page callback' => 'forum_page', 
    'page arguments' => array(1), 
    'access arguments' => array('access content'), 
    'file' => 'forum.pages.inc',
  );

  return $items;
} 
```

至于面包屑，您需要实施[hook_menu_breadcrumb_alter()](http://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_menu_breadcrumb_alter/7)，考虑文档页面中报告的内容。

> 实现应该考虑到 menu_get_active_breadcrumb()在调用此钩子*后随后对活动跟踪执行以下调整：*
> 
> *   如果 $active_trail 中的最后一个链接的“href”与 $item 的“href”相同，则删除它。发生这种情况是因为面包屑通常不包含指向当前页面的链接。
> *   如果当前 $item 是 MENU_DEFAULT_LOCAL_TASK，则删除 $active_trail 中的（倒数第二个）链接。发生这种情况是为了在默认本地任务的路径上不显示指向当前页面的链接；例如，当在路径 node/%/view 上时，面包屑不应包含指向 node/% 的链接。

# java - 重命名文件（如果存在）

> ID：12720311
> 
> 赞同：0
> 
> 时间：2012-10-04T04:34:53.503
> 
> 标签：java, eclipse, dialog

当我尝试使用已存在的文件名保存文件时，我需要提示用户重命名文件才能保存。提示用户将文件重命名为目录中存在相同文件的更好方法是什么？我需要通过我用来保存文件的同一个对话框来实现这一点。

```
File exportFile = new File(FilePath + "\\"+ FileName);
boolean exists = exportFile.exists();  

if (!exists) {  

    System.out.println("File does not exists");  
    // TODO code here             
}
else{  

    System.out.println( "File exists.");
    // TODO code here                                       
} 
```

代码将在 //TODO 部分中实现。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:38:36.263

`while(exists) { \\Prompt the user to enter another name & change "exists" status correspondingly}`

```
 while(exists) 
        {
         String temp=dis.readLine();
         exists = (FilePath + "\\"+ temp).exists();
         if(!exists) {exportFile = new File(FilePath + "\\"+ temp); break;}

          } 
```

其中 dis 是一个 DataInputStream 对象。祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:24:28.457

你可以做这样的事情，

```
 File f = new File("C:\\Users\\jayesh.patel\\Desktop\\mdn.txt");
    if(f.exists()){
        boolean renameResult = f.renameTo(new File("C:\\Users\\jayesh.patel\\Desktop\\mdn1.txt"));
        if(renameResult){
            System.out.println("Rename Success");
        }else{
            System.out.println("Rename Failed");
        }
    }else{
        System.out.println("File Not Exist");
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:26:45.023

您不应该尝试对 API 进行二次猜测。只需尝试重命名文件：如果失败，它仍然处于打开状态 (Windows) 或目标存在。根据*结果*​​做出决定，`rename()`而不是试图预测它将做什么。否则你只是在预测未来，所以在 Knob Hill 租一所大房子，把它连接起来，然后给自己买一块占卜板。

# sitecore - SiteCore-Shifting 上面的占位符并禁止在编辑模式下编辑页面中的其他项目

> ID：12720316
> 
> 赞同：0
> 
> 时间：2012-10-04T04:35:17.730
> 
> 标签：sitecore, placeholder

我在网站中有以下占位符的安排。

```
top-placeholder
bottom-placeholder 
```

这里顶部占位符将包含一个显示图像的子布局，底部占位符将显示站点中的一些导航链接。在编辑模式下，每当我删除顶部占位符中显示的子布局时，底部占位符中的导航都会移动到顶部，之后我无法进一步编辑，也无法再次将图像插入顶部占位符中我再也看不到顶部占位符了。

请让我知道我是否缺少任何设置，或者移动包含导航链接的子布局可能是什么问题，并且不允许我再次编辑/插入图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:10:02.643

看起来在您从**top-placeholder**中删除子布局后，它被折叠了，因为里面没有内容，并且没有 css 样式可以为这个占位符设置一些最小高度和宽度。这就是为什么您不能选择它来添加新的子布局。

尝试添加一些仅在页面编辑器编辑模式 ( **Sitecore.Context.PageMode.IsPageEditorEditing ) 中显示的额外 css 样式，这将设置****top-placeholder**的最小高度和宽度。

# javascript - 组合多个 jQuery 对话框选择器

> ID：12720317
> 
> 赞同：0
> 
> 时间：2012-10-04T04:35:23.363
> 
> 标签：javascript, jquery, jquery-ui, standards, jquery-ui-dialog

我想知道如何组合不同选择器的功能。所有功能打开和关闭对话框，但不同的对话框。所以我不知道这是否可能。它只是看起来不对，如果有人看到它，他们会称我为白痴。现在我有：

```
$(document).ready(function() {
    $('div#basic_dialog').dialog({
        autoOpen: false,
        buttons: {
            "Close": function () {
                $('div#basic_dialog').dialog("close");
                window.location.href = "#contact";
            }
        }
    })
    $('#basic_dialog_button').click(function(){ $('div#basic_dialog').dialog('open'); });
    $('div#caption_dialog').dialog({
        autoOpen: false,
        buttons: {
            "Close": function () {
                $('div#caption_dialog').dialog("close");
                window.location.href = "#contact";
    }
    }
    })
 $('#caption_dialog_button').click(function(){ $('div#caption_dialog').dialog('open'); });
    $('div#plus_dialog').dialog({
    autoOpen: false,
    buttons: {
        "Close": function () {
                $('div#plus_dialog').dialog("close");
        window.location.href = "#contact";
    }
    }
    })
$('#plus_dialog_button').click(function(){ $('div#plus_dialog').dialog('open'); });
$('div#skills_dialog').dialog({
    autoOpen: false,
    buttons: {
    "Close": function () {
        $('div#skills_dialog').dialog("close");
        window.location.href = "#contact";
    }
    }
})
$('#skills_dialog_button').click(function(){ $('div#skills_dialog').dialog('open'); });
}) 
```

但我很确定这可以以某种方式美化。他们都打开和关闭不同的盒子，所以我不知道。*如果他们都在做完全相同的*功能，我知道该怎么做，但是映射这种变化现在超出了我的范围。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:41:36.813

您可以一次使用[多个选择器](http://api.jquery.com/multiple-selector/)，方法是用逗号分隔它们。

```
$('div#basic_dialog, div#caption_dialog, etc...') 
```

但是，对于像你这样的情况，我想我会推荐使用一个类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:56:11.823

您可以指定任意数量的选择器组合成一个结果。你可以这样使用：

```
$(document).ready(function() {
        $('div#basic_dialog,div#caption_dialog,div#plus_dialog,div#skills_dialog').dialog({
            autoOpen: false,
            buttons: {
                "Close": function() {
                    $('div#basic_dialog').dialog("close");
                    window.location.href = "#contact";
                }
            }
        })
        $('#basic_dialog_button,#caption_dialog_button,#plus_dialog_button,#skills_dialog_button').click(function() {
            $('div#basic_dialog').dialog('open');
        });
    }) 
```

**编辑**
给每个可点击元素通用类，可以使用如下：

```
 $('.dialog_button').click(function() {
                $(this).dialog('open');
            }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-02T20:08:51.603

重新审视旧问题，在永远这样做之后，现在该怎么办：

```
$(function(){
    var close = function(){
        $(this).dialog("close");
        window.location.href = "#contact";});

    $(".dialog").dialog({
        autoOpen: false,
        buttons: {
            "Close": close
        }});

    $(".dialog-button").click(function(){
        var db = $(this).attr("data-val");
        $("#"+db).dialog('open');});
}); 
```

然后，我只需将类 .dialog 添加到所有对话框元素和唯一 ID。对于按钮处理程序，我将其控制的对话框的 ID 添加为数据属性。这种方式的好处是我什至可以将它们设置为 vars，然后在我动态创建更多对话框（如果需要）之后运行这些函数，它会继续将对话框功能添加到尚未在 DOM 中创建的元素中，而且我可以如果我也需要这样做，请使用另一个将按钮处理程序的 ID 附加为数据属性的 js 函数。

对我来说就像一个魅力，它就像我现在能得到的一样干净。仍在寻找任何可以改进这一点的人。

# iphone - 在会话iphone中存储用户名和密码

> ID：12720318
> 
> 赞同：0
> 
> 时间：2012-10-04T04:35:37.047
> 
> 标签：iphone, session

我想在会话中存储用户名和密码，如果用户成功登录，那么他将被引导到存在注销按钮的欢迎屏幕。

现在，如果用户在不注销帐户的情况下关闭应用程序并重新启动应用程序，他必须被引导到欢迎屏幕，跳过登录屏幕。如果用户在注销后重新启动应用程序，那么他必须输入用户名和密码才能进入欢迎屏幕。帮帮我。我是 iPhone 新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:43:50.963

you may store the username and password in User Defaults or in Keychain (if want to keep it secure ). So on loading the app if you find username and password stored in Userdefaults , you may directly login to welcome screen and if not stored then show the login screen...

see this is the same as you want [help with iphone session login](https://stackoverflow.com/q/5919328/1030951)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:09:28.793

您可以将整个数组存储在 Userdefault 中，UserDefault 是 iPhone 中的一种会话...

在这里，您可以在 UserDefaul.. 中存储任何值或数组。

在 AppDelegate.h 文件中只需声明变量...

```
NSUserDefaults  *userDefaults; 
```

这里不需要全局声明这个userDefault，你可以直接在你想要的地方使用userdefault

后...

在 AppDelegate.m 中填写 applicationDidFinishLonching: 方法或您要存储用户名和密码的任何地方

```
userDefaults = [NSUserDefaults standardUserDefaults];
[userDefault setObject:yourName forKey:@"UserName"];
[userDefault setObject:yourPassword forKey:@"Password"];
[userDefault synchronize]; 
```

之后，当您想从此 UserDefaults 获取数据时使用波纹管代码...

```
NSString *userName = [[NSUserDefaults standardUserDefaults] valueForKey:@"UserName"];
NSString *password = [[NSUserDefaults standardUserDefaults] valueForKey:@"Password"]; 
```

我希望这对你有帮助......

:)

# java - lucene 搜索

> ID：12720320
> 
> 赞同：1
> 
> 时间：2012-10-04T04:36:01.787
> 
> 标签：java, lucene, indexing, full-text-search, content-indexing

亲爱的 StackOverFlow 开发人员，我需要您的帮助。我被困在 Apache lucene 中，无法在 java swing 应用程序中使用。这个问题是如此复杂，以至于我什至困惑我应该如何问它。请尝试了解我的实际要求。情况很简单，我必须提供 html 文件，以便客户端可以在 swing 应用程序中访问它们，并且对于搜索工具，我决定使用 apache lucene 索引。这为我提供了搜索工具，但现在我想显示与搜索条件匹配的 html 文件数据。在 java API 中，我使用 swing，JEditorPane 是我必须在其中显示 html 文件内容的控件。请建议我如何索引 html 文件以及如何从 lucene 索引中获取 html 文件的内容。html 文件不仅有文本，而且还有链接，

在此先感谢希望您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:43:53.107

In one of our projects where we employed Lucene for full text indexing & search, we handled HTML files as follows:

*   Stored the HTML document as is on disk (you can store in the DB as well).
*   Using [Jericho HTMLParser](http://jericho.htmlparser.net/docs/index.html)'s HTML->Text converter, we extracted the text, links etc., out of the HTML documents.
*   The lucene document has attributes that stored the metadata about the HTML file apart from the text content in the HTML in tokenized format.
*   Used StandardAnalyzer to keep certain tokens like email, website links as is during the tokenization process before indexing.
*   Upon searching the index, the hits returned contained the metadata of the HTML files that matched the criteria. So, we were able to identify the HTML content to be displayed for a given search result.

HTH.

# java - 为什么我不能从 Java 中的 POST 请求中读取正文？

> ID：12720324
> 
> 赞同：2
> 
> 时间：2012-10-04T04:36:36.407
> 
> 标签：java, http, post

**代码**

```
public HttpRequest(BufferedReader from) {
String firstLine = "";

try {
    firstLine = from.readLine();
} catch (IOException e) {
    System.out.println("Error reading request line: " + e);
}

String[] tmp = firstLine.split(" ");
method = tmp[0];
URI = tmp[1];
version = tmp[2];
System.out.println("URI is: " + URI);

if(method.equals("POST")){
    try {
        String line = from.readLine();
        while (line.length() != 0) {
            headers += line + CRLF;
            if (line.startsWith("Host:")) {
                tmp = line.split(" ");
                if (tmp[1].indexOf(':') > 0) {
                    String[] tmp2 = tmp[1].split(":");
                    host = tmp2[0];
                    port = Integer.parseInt(tmp2[1]);
                } else {
                    host = tmp[1];
                    port = HTTP_PORT;
                }
            }
            line = from.readLine();
        }
        headers += "Connection: close" + CRLF;
        headers += CRLF;
    } 
    catch (IOException e) {
        System.out.println("Error reading from socket: " + e);
        return;
    }       
}
else {
    System.out.println("Error: Method not supported");
    return;
}

System.out.println("Host to contact is: " + host + " at port " + port); 
    } 
```

**问题**

我正在使用 Java 制作代理服务器。

上面的代码处理一个 HTTP POST 请求。它成功读取了 POST 标头并在命令提示符下打印它，但正文丢失了。

你能看看我的代码，看看问题吗？谢谢。

（注意：我排除了 GET 部分，因为它没有问题。）

**结果**

![结果](../Images/a92023e98060c4eaa81bbae223768eda.png)

![结果](../Images/bc3e93a69a901b775710fff9d4579651.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-27T21:19:32.913

问题是您仍然需要在 InputStream 上阅读内容。这就是为什么当您关闭浏览器时，没有其他内容可读取，因此会打印出来。您必须准确读取“Content-Length”中声明的字节数

尝试这样的事情：

```
int cL = Integer.valueOf(contentLength);
byte[]  buffer      = new byte[cL];
String  postData    = "";

System.out.println("Reading "+ cL + "bytes");
in.read(buffer, 0, cL);
postData = new String(buffer, 0, buffer.length);
System.out.println(postData); 
```

正文请求将在 postData 字符串中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:37:33.233

这不是如何编写代理服务器。代理服务器只需执行以下操作：

1.  接受传入连接。对于每个连接：
2.  读取 HTTP CONNECT 请求。
3.  连接到 CONNECT 请求中指定的目标主机并向客户端发送适当的响应。
4.  如果连接成功，则在上游服务器和下游客户端之间同时在两个方向上复制*字节。*
5.  当您在一个方向读取 EOS 时，关闭相反的插座以进行输出。
6.  当您在两个方向都关闭时，关闭两个套接字。

就是这样。不需要解析 POST 请求或其他任何内容。甚至不是读者。

# java - 将Java控制台输出（逐行）保存到不同的变量？

> ID：12720332
> 
> 赞同：0
> 
> 时间：2012-10-04T04:37:18.057
> 
> 标签：java, sockets, networking

我有一个java代码，它将关联计算机（本地主机除外）的所有IP地址和MAC ID返回到控制台。每个 IP 和关联的 MAC ID 将显示在新行中。我们可以将每一行存储在每个新变量中，比如 IP1、MACID1、IP2、MACID2 ... 吗？等待解决。提前致谢。

这是我的代码：

```
import java.net.*;
import java.util.*;
import java.net.InetAddress;
import java.net.NetworkInterface;
import java.net.SocketException;
import java.net.UnknownHostException;

public class NIC {

public static void main(String args[]) throws Exception {

    List<InetAddress> addrList = new ArrayList<InetAddress>();
    Enumeration<NetworkInterface> interfaces = null;
    try {
        interfaces = NetworkInterface.getNetworkInterfaces();
    } catch (SocketException e) {
        e.printStackTrace();
    }

    InetAddress localhost = null;

    try {
        localhost = InetAddress.getByName("127.0.0.1");
    } catch (UnknownHostException e) {
        e.printStackTrace();
    }

    while (interfaces.hasMoreElements()) {
        NetworkInterface ifc = interfaces.nextElement();
        Enumeration<InetAddress> addressesOfAnInterface = ifc.getInetAddresses();

        while (addressesOfAnInterface.hasMoreElements()) {
            InetAddress address = addressesOfAnInterface.nextElement();

            if (!address.equals(localhost) && !address.toString().contains(":")) {
                addrList.add(address);
                //System.out.println("\n");
                System.out.println(address.getHostAddress() + "\r");
                //System.out.println("\n");

try {
            //InetAddress address = InetAddress.getLocalHost();
            InetAddress address1 = InetAddress.getByName(address.getHostAddress());

            /*
             * Get NetworkInterface for the current host and then read
             * the hardware address.
             */
            NetworkInterface ni = 
                    NetworkInterface.getByInetAddress(address1);
            if (ni != null) {
                byte[] mac = ni.getHardwareAddress();
                if (mac != null) {
                    /*
                     * Extract each array of mac address and convert it 
                     * to hexa with the following format 
                     * 08-00-27-DC-4A-9E.
                     */
                    for (int i = 0; i < mac.length; i++) {

                        System.out.format("%02X%s",mac[i], (i < mac.length - 1) ? "-" : "" +"\n");
                    }
                } else {
                    System.out.println("Address doesn't exist or is not " +
                            "accessible.");
                }
            } else {
                System.out.println("Network Interface for the specified " +
                        "address is not found.");
            }
        } catch (UnknownHostException e) {
            e.printStackTrace();
        } catch (SocketException e) {
            e.printStackTrace();
        }
            }
        }
    }

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:40:30.480

您应该能够随时将每个 IP/MAC 地址添加到 ArrayList 中。然后当你完成时，你会把它们都放在一个地方

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:17:40.653

**使用地图**怎么样？？如果是这样，您可以将您的 IP 地址和 MAC ID 一起保存。

```
Map<String,String> addressMap = new HashMap<String,String>(); 
```

* * *

```
 String macStr = "";
        for (int i = 0; i < mac.length; i++) {
            System.out.format("%02X%s",mac[i], (i < mac.length - 1) ? "-" : "" +"\n");
            macStr += String.format("%02X%s",mac[i], (i < mac.length - 1) ? "-" : "" +"\n");
        }
        System.out.println("macStr" + macStr);
        addressMap.put(address.getHostAddress(), macStr); 
```

迭代地图。

```
for (Map.Entry<String, String> entry : addressMap.entrySet())
        {
            System.out.println(entry.getKey() + "/" + entry.getValue());
        } 
```

整个代码

```
import java.net.*;
import java.util.*;
import java.net.InetAddress;
import java.net.NetworkInterface;
import java.net.SocketException;
import java.net.UnknownHostException;

public class NIC {

    public static void main(String args[]) throws Exception {

        List<InetAddress> addrList = new ArrayList<InetAddress>();
        Map<String,String> addressMap = new HashMap<String,String>();

        Enumeration<NetworkInterface> interfaces = null;
        try {
            interfaces = NetworkInterface.getNetworkInterfaces();
        } catch (SocketException e) {
            e.printStackTrace();
        }

        InetAddress localhost = null;

        try {
            localhost = InetAddress.getByName("127.0.0.1");
        } catch (UnknownHostException e) {
            e.printStackTrace();
        }

        while (interfaces.hasMoreElements()) {
            NetworkInterface ifc = interfaces.nextElement();
            Enumeration<InetAddress> addressesOfAnInterface = ifc.getInetAddresses();

            while (addressesOfAnInterface.hasMoreElements()) {
                InetAddress address = addressesOfAnInterface.nextElement();

                if (!address.equals(localhost) && !address.toString().contains(":")) {
                    addrList.add(address);
                    //System.out.println("\n");
                    System.out.println(address.getHostAddress() + "\r");
                    //System.out.println("\n");

                    try {
                        //InetAddress address = InetAddress.getLocalHost();
                        InetAddress address1 = InetAddress.getByName(address.getHostAddress());

                        /*
                         * Get NetworkInterface for the current host and then read
                         * the hardware address.
                         */
                        NetworkInterface ni = 
                                NetworkInterface.getByInetAddress(address1);
                        if (ni != null) {
                            byte[] mac = ni.getHardwareAddress();
                            if (mac != null) {
                                /*
                                 * Extract each array of mac address and convert it 
                                 * to hexa with the following format 
                                 * 08-00-27-DC-4A-9E.
                                 */

                                String macStr = "";
                                for (int i = 0; i < mac.length; i++) {
                                    macStr += String.format("%02X%s",mac[i], (i < mac.length - 1) ? "-" : "" +"\n");
                                }
                                addressMap.put(address.getHostAddress(), macStr);
                            } else {
                                System.out.println("Address doesn't exist or is not " +
                                        "accessible.");
                            }
                        } else {
                            System.out.println("Network Interface for the specified " +
                                    "address is not found.");
                        }
                    } catch (UnknownHostException e) {
                        e.printStackTrace();
                    } catch (SocketException e) {
                        e.printStackTrace();
                    }
                }
            }
        }

        for (Map.Entry<String, String> entry : addressMap.entrySet())
        {
            System.out.println(entry.getKey() + "/" + entry.getValue());
        }
    }
} 
```

# simulink - 如何在两个独立模型之间的simulink中引入延迟（等待循环）

> ID：12720335
> 
> 赞同：1
> 
> 时间：2012-10-04T04:37:33.593
> 
> 标签：simulink

我在 simulink 中有一个模型，由图像处理和其他控制系统两部分组成。我想在两个独立模型之间引入延迟（等待循环），即在模拟图像处理部分和控制器部分时，一旦我想在第二次模拟之前引入一些延迟。我该怎么做？有什么帮助吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-29T16:21:51.623

您可以在它们之间放置一个指定延迟的[延迟块](http://www.mathworks.it/it/help/simulink/slref/delay.html "simulink离散延迟")z^-1，或者使用您的逻辑和延迟创建一个状态流块。

注意：连续功能也有延迟，看看最适合你的

# c - 如何使用 printf 显示完整的编写程序？

> ID：12720339
> 
> 赞同：-1
> 
> 时间：2012-10-04T04:38:05.823
> 
> 标签：c, printf

我的任务是使用 printf 显示一个程序。我的解决方案是用引号遍历每一行。但是我在编译时卡住了它要我声明“d”

我在打印整个程序时遇到错误。它要我定义“d”请帮助我。

```
#include <stdio.h>

int main(void)
{

printf(
"/* This program reads two integers from the keyboard and prints their product."
"Written by: A Katheravan"
"Date : 10/02/2012"
"*/"

"#include <stdio.h>"
"int main (void)"

"{"
"//Local Definitions"

"int number1;"
"int number2;"
"int result;"

"//Statements"

"scanf("%d", &number1);"
"scanf ("%d", &number2);"
"result = number1 * number2;"
"printf("%d", result);"
"return 0;"

"}"
"//main");

return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:49:45.943

以下内容可能对您有用：

```
FILE * fp = fopen("program.c", "r");  

char c;
while ((c = fgetc(fp)) != EOF)   
    printf("%c", c);

fclose(fp); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:09:47.527

那些产生自己的源代码作为输出的程序类型称为“Quines”。

根据维基百科奎因斯是

“quine 是一种计算机程序，它不接受任何输入并生成自己的源代码副本作为其唯一输出”

查看示例并完成说明[Quines](http://en.wikipedia.org/wiki/Quine_%28computing%29)

这是经典的C Quine

```
char*f="char*f=%c%s%c;
main()
     {
printf(f,34,f,34,10);
}%c";
     main(){printf(f,34,f,34,10);} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:38:42.180

```
#include <stdio.h>

int main(void)
{
    printf("%s",
       "#include <stdio.h>\n"
       "\n"
       "int main (void)\n"
       "\n"
       "{\n"
       "\n"
       "//Local Definitions\n"
       "\n"
       "int n1;\n"
       "int n2;\n"
       "int result;\n"
       "\n"
       "//Statements\n"
       "\n"
       "scanf(\"%d\", &n1);\n"
       "scanf (\"%d\" , &n2);\n"
       "result = n1 * n2;\n"
       "printf(\"%d\", result);\n"
       "return 0;\n"
       "\n"
       "}\n"
       "//main\n");

   return 0;
} 
```

这可能不太正确，因为 OP 在发布代码时没有格式化代码。插入空格和/或制表符以获得所需的缩进。

编辑：这是对原始问题的回答，但 OP 已将问题更改为（错误）尝试回答问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T05:38:50.407

好吧，基于对你想要得到的东西的一些深思熟虑，我最终认为你想要这个：

```
#include <stdio.h>

int main(void)
{

    printf(
        "/* This program reads two integers from the keyboard and prints their product.\n"
        "Written by: A Katheravan\n"
        "Date : 10/02/2012\n"
        "*/\n\n"

        "#include <stdio.h>\n\n"

        "int main (void)\n"
        "{\n"
        "\t//Local Definitions\n\n"

        "\tint number1;\n"
        "\tint number2;\n"
        "\tint result;\n\n"

        "\t//Statements\n\n"

        "\tscanf(\"%%d\", &number1);\n"
        "\tscanf (\"%%d\", &number2);\n"
        "\tresult = number1 * number2;\n"
        "\tprintf(\"%%d\", result);\n"
        "\treturn 0;\n\n"

        "}\n"
        "//main\n"
    );

    return 0;
} 
```

要在字符串内部打印`"`，您需要对其进行转义：`\"`，这是字符串内部的问题。

我还在每一行中包含了换行符和制表符，因此代码不会仅在控制台上的一行中打印出来。

`%`此外，要在 上打印`printf`，您必须使用`%%`，因为稍后您将了解到它`%`是为格式化字符串而保留的。

`\n`是“新行”，`\t`是“TAB”，仅供参考。

# c# - 在 C# 中的枚举之间进行强制转换

> ID：12720346
> 
> 赞同：9
> 
> 时间：2012-10-04T04:39:00.443
> 
> 标签：c#, .net, casting, enums

> **可能重复：**
> [将枚举转换为另一种类型的枚举](https://stackoverflow.com/questions/1818131/convert-an-enum-to-another-type-of-enum)

在不同类型的枚举之间进行转换时，是否可以像这样直接从一种类型转换为另一种类型？

```
LicenseTypes type;
TypeOfLicense type2;

type2 = (TypeOfLicense)type; 
```

或者是否有必要先将枚举转换为 int？编译器不会抱怨，但我想确保我不会在运行时遇到某种时髦的强制转换异常。

这似乎是一件奇怪的事情，但两个枚举在结构和值上是相同的。在这种情况下，只有类型名称不同。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-04T04:48:34.523

虽然它是重复的，但我也标记了它。您可以进行简单的转换，因为基础类型是`int`，您可以这样做：

```
LicenseTypes type = (LicenseTypes)TypeOfLicense.value3; 
```

这里`type`将保持值'0'；

假设你有：

```
public enum LicenseTypes 
{
    value1,
    value2,
}
public enum TypeOfLicense
{
    value3, 
    value4,
    value5
} 
```

但是，如果您尝试 Cast`TypeOfLicence.value5`那么变量`type`将保存 int 值`2`

```
LicenseTypes type = (LicenseTypes)TypeOfLicense.value5; 
```

您还可以查看此[链接](https://stackoverflow.com/a/1818296/961113)以创建用于枚举之间转换的扩展方法。*（它是类似问题的公认答案）*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T04:45:04.567

不，但你可以做一些假设来做到这一点......

```
LicenseTypes type = LicenseTypes.Type1;
TypeOfLicense type2 = TypeOfLicense.Type2;

type2 = (TypeOfLicense)(int)type; 
```

...这些假设就是这样。我们必须假设两者`LicenseTypes`并`TypeOfLicense`基于`int`它们的价值。我们还必须假设从业务角度来看，将基础价值相互转换是相关的（但从技术角度来看，这实际上既不存在也不存在）。

请注意，这适用于其他基本类型，并且可以构建更复杂的转换，允许您通过转换在不同类型之间进行转换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T04:48:19.973

不管你怎么做，它只是将整数赋值给另一个变量。请记住，枚举在内部被视为整数，因此没有区别。

# jquery - 可编辑数据表响应格式

> ID：12720349
> 
> 赞同：0
> 
> 时间：2012-10-04T04:39:14.817
> 
> 标签：jquery, servlets, datatables

我正在使用数据表和数据表可编辑插件进行内联编辑...我在请求更新时调用了 servlet...数据已正确更新...但问题是从 servlet 发送的响应显示为警报...

我的代码如下：

```
 $('#tablename').dataTable().makeEditable({
sUpdateURL: "servletname ,

     "aoColumns": [
                   null,
                   {
                   },
                   {
                       indicator: 'Saving Browser...',
                       tooltip: 'Click to edit browsers',
                       type: 'text',
                       onblur: 'cancel',
                       submit:'Save changes',
                       fnOnCellUpdated: function(sStatus, sValue, settings){
                           alert("as"+sValue);
                           alert("(Cell Callback): Cell is updated with value " + sValue);
                       }
                   }
                 ]                     

}); 
```

功能，

```
fnOnCellUpdated: function(sStatus, sValue, settings) 
```

收到 ajax 响应时不会被调用。

那么我应该如何响应调用该函数呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:45:56.520

在这种情况下，不需要发送特定的响应...发送更新的数据作为响应，如果更新没有失败，它将自动更新..

# html - HTML 5 离线应用程序，断开互联网后无法正常工作

> ID：12720353
> 
> 赞同：0
> 
> 时间：2012-10-04T04:39:22.587
> 
> 标签：html

如何创建即使 Internet 断开连接并且用户在浏览器上按 REFRESH (F5) 仍然可以工作的 html 5 页面。

我指的是这个[http://html5demos.com/offline](http://html5demos.com/offline)页面，当我断开互联网连接时它会显示离线，但是当我在浏览器上按刷新时，它不再工作并且找不到显示页面。

即使用户在浏览器上按下刷新，我也希望我的页面能够 100% 脱机工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:47:43.390

如果您想创建一个“离线”HTML5 Web 应用程序，例如通过使用 androids webview，我建议使用[phonegap 之](http://phonegap.com/)类的东西， 这将允许您创建 Web 应用程序，而不必连接到 Internet。就 html5demos 而言...我不确定您要达到什么目的...-希望这会有所帮助

# java - 如何通过发送验证消息从他的手机验证用户？

> ID：12720359
> 
> 赞同：0
> 
> 时间：2012-10-04T04:40:06.563
> 
> 标签：java, spring, jsf

如何通过发送验证消息（或使用任何第三方 API）从他的手机验证用户？在 Java JSF 中，Spring Web 应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T04:45:44.497

这完全取决于第三方api。大部分都可以通过java中的HTTPRequest调用。它们只是 url，大部分时间数据作为 url 参数传递。

他们中的许多人还提供一些免费的注册短信。您可以注册并试用它们。

# grails - grails 服务的首字母应该大写还是小写？

> ID：12720362
> 
> 赞同：1
> 
> 时间：2012-10-04T04:40:30.850
> 
> 标签：grails, service, naming-conventions

在创建 grails 服务时，许多教程显示如下内容：`grails create-service myproject.DoStuff`但它似乎也`grails create-service myproject.doStuff`同样有效，并且它们都创建了一个名为“DoStuffService”的服务，使用全部大写似乎工作正常，但似乎有很多地方显示它的首字母小写。我提交了这个小写示例（第一个代码片段和`def authorService`页面的大约一半）： http: [//grails.org/doc/2.1.0/guide/services.html](http://grails.org/doc/2.1.0/guide/services.html)

首选哪种方式？为什么？如果您在 grails 命令中使用小写创建服务，您需要将其注入小写`def doStuff`还是应该`def DoStuff`以任何一种方式工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T04:52:21.280

两者都有效，但我认为将名字小写更为常见，因为从概念上讲，您正在使用`grails create-service person`. 但是 Java 和 Groovy 中的约定是大写的类名，而在 Grails 中，服务类名的后缀是“Service”，因此类名是`PersonService`.

bean 名称与这一切是分开的。Spring bean 名称的约定是将变量的第一个字母小写，因此 Grails 自动将 PersonService 注册为`personService`bean，因此您应该使用`def personService`.

原因`def personService`是 Groovy 编译器将像这样的非作用域字段转换为私有字段和公共 getter 和 setter 方法。如果 getter 或 setter 方法已经存在，它不会取代你的。Grails 将其 bean 配置为按名称使用自动装配，因此 Spring 看到该`setPersonService`方法并调用它以将其值设置为`personService`bean。

# javascript - how do i add a timer into a fade in fade out javascript for it to run automatically?

> ID：12720366
> 
> 赞同：0
> 
> 时间：2012-10-04T04:41:29.623
> 
> 标签：javascript

This is my code.

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Fading JavaScript Example</title>
<link rel="stylesheet" type="text/css" href="style.css" />
<script type="text/javascript">

 var fadeEffect=function(){
return{
    init:function(id, flag, target){
        this.elem = document.getElementById(id);
        clearInterval(this.elem.si);
        this.target = target ? target : flag ? 100 : 0;
        this.flag = flag || -1;
        this.alpha = this.elem.style.opacity ? parseFloat(this.elem.style.opacity) * 100 : 0;
        this.si = setInterval(function(){fadeEffect.tween()}, 30);
    },
    tween:function(){
        if(this.alpha == this.target){
            clearInterval(this.si);
        }else{
            var value = Math.round(this.alpha + ((this.target - this.alpha) * .07)) + (1 * this.flag);
            this.elem.style.opacity = value / 100;
            this.elem.style.filter = 'alpha(opacity=' + value + ')';
            this.alpha = value

        }
    }
}
}();

var fadeEffect2=function(){
return{
    init:function(id, flag, target){
        this.elem = document.getElementById(id);
        clearInterval(this.elem.si);
        this.target = target ? target : flag ? 100 : 0;
        this.flag = flag || -1;
        this.alpha = this.elem.style.opacity ? parseFloat(this.elem.style.opacity) * 100 : 0;
        this.si = setInterval(function(){fadeEffect2.tween()}, 30);
    },
    tween:function(){
        if(this.alpha == this.target){
            clearInterval(this.si);
        }else{
            var value = Math.round(this.alpha + ((this.target - this.alpha) * .07)) + (1 * this.flag);
            this.elem.style.opacity = value / 100;
            this.elem.style.filter = 'alpha(opacity=' + value + ')';
            this.alpha = value

        }
    }
}
 }();
var fadeEffect3=function(){
return{
    init:function(id, flag, target){
        this.elem = document.getElementById(id);
        clearInterval(this.elem.si);
        this.target = target ? target : flag ? 100 : 0;
        this.flag = flag || -1;
        this.alpha = this.elem.style.opacity ? parseFloat(this.elem.style.opacity) * 100 : 0;
        this.si = setInterval(function(){fadeEffect3.tween()}, 30);
    },
    tween:function(){
        if(this.alpha == this.target){
            clearInterval(this.si);
        }else{
            var value = Math.round(this.alpha + ((this.target - this.alpha) * .07)) + (1 * this.flag);
            this.elem.style.opacity = value / 100;
            this.elem.style.filter = 'alpha(opacity=' + value + ')';
            this.alpha = value

        }
    }
}
}();

</script>

</head>
<body>

<div id="wrapper">
<div id="fade"></div>

<div id="fade1"></div>

<div id="fade2">
<div class="link"> <a href="http://www.your_link.com" style="display:block; height:100%;    width:100%;"></a></div>

</div>

</div>

<div class="button" onclick="fadeEffect.init('fade', 1);fadeEffect2.init('fade1',0);fadeEffect3.init('fade2',0);myFunction()">pic 1</div>
<div class="button" onclick="fadeEffect.init('fade',0);fadeEffect2.init('fade1',1);fadeEffect3.init('fade2',0)">pic 2</div>
<div class="button" onclick="fadeEffect.init('fade',0);fadeEffect2.init('fade1',0);fadeEffect3.init('fade2',1)">pic 3</div>

</body>
</html> 
```

I'm new to javascript. I can fade the image using the buttons but i want it to fade in and out automatically with a timer when untouched. Or if theres any easier way to go about doing this I'll appreciate it.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T04:56:04.530

是的。您应该使用 setTimeout 函数。用法与您已经使用的 setInterval 函数非常相似。不同之处在于 Interval 每 X 秒执行一次，而这只是进行一次调用（对不起，如果我对这个解释过于“duh”）。

```
setTimeout(function () {
    //here you fade out whatever you want
}, 3000); //the 3000 means milliseconds, so 3 seconds. 
```

# .htaccess - port forwarding using .htaccess

> ID：12720367
> 
> 赞同：0
> 
> 时间：2012-10-04T04:41:35.047
> 
> 标签：.htaccess, mod-rewrite, cpanel, whm, webmail

I want to forward the cpanel and webmail ports using .htaccess as follows:

www.mydomain.com:2082 -> www.sharedserver.com:2083

I tried the following but it doesn't seem to work:

```
RewriteCond %{HTTP_HOST} ^(www.mydomain.com):2082$ [NC,OR]
RewriteCond %{HTTP_HOST} ^(www.mydomain.com):2083$ [NC]
RewriteRule ^(.*)$ https://www.sharedserver.com:2083 [L,R=302] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T04:50:02.983

尝试这个

```
 RewriteCond %{SERVER_NAME} ^2082$
 RewriteRule .* https://www.sharedserver.com:2083 [L,R] 
```

检查此以供参考：[http ://www.askapache.com/htaccess/ssl-example-usage-in-htaccess.html](http://www.askapache.com/htaccess/ssl-example-usage-in-htaccess.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:39:18.360

不保证端口是“主机：”请求标头的一部分。您可以匹配`%{SERVER_PORT}`处理请求的 vhost/host 端口的变量：

```
RewriteCond %{HTTP_HOST} ^www.mydomain.com$ [NC]
RewriteCond %{SERVER_PORT} ^2082$
RewriteRule ^(.*)$ https://www.sharedserver.com:2083/$1 [L,R=302] 
```

# ruby-on-rails - Paperclip - 在活动记录查询中获取 attachment.url

> ID：12720371
> 
> 赞同：0
> 
> 时间：2012-10-04T04:42:07.220
> 
> 标签：ruby-on-rails, amazon-s3, paperclip

我有一个 Inventory.find(id)，它返回我需要的所有数据，包括使用回形针上传的图标。但是，在 format.json 之后返回结果是这样的

```
 "icon_content_type": "image/jpeg",
    "icon_file_name": "images_(2).jpeg",
    "icon_file_size": 994,
    "icon_updated_at": "2012-09-21T05:00:22Z", 
```

我如何包含“icon.url”所以它会说类似

```
 "icon_content_type": "image/jpeg",
     "icon_file_name": "images_(2).jpeg",
     "icon_file_size": 994,
     "icon_updated_at": "2012-09-21T05:00:22Z",
     "icon_url":"http://s3.amazonaws.com/*********/icons/000/000/130/original/images_(2).jpeg?1348203622" 
```

这是我的模型

```
 has_attached_file :icon, :presence => false, :default_url => "/assets/logo.png"
    validates_attachment :icon,
    :content_type => { :content_type => ["image/jpg","image/png","image/jpeg"] },
    :size => { :in => 0..50.kilobytes } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:58:44.490

[请参阅 doc](http://apidock.com/rails/ActiveRecord/Serialization/to_json)，您可以将所需的任何内容添加到 json 中：

```
your_object.to_json(:methods => :icon_url) 
```

对于更复杂的情况，您宁愿使用 json 构建器。

# xml - how to divide the screen with two buttons?

> ID：12720375
> 
> 赞同：0
> 
> 时间：2012-10-04T04:42:48.573
> 
> 标签：xml, android-layout

how to divide the screen,s width with two buttons using match_parent. I give match_parent to a button then it fills the screen. I want two buttons to fill the screen horizontally.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:22:48.277

您需要使用 WEIGHT 来划分宽度，而不是通过包装内容/匹配父级等...

因此，首先采用线性布局，将宽度作为填充父项，现在将 weightSum 属性添加为 2。

现在添加 2 个 layout_width = 0dp 的按钮

并在两个按钮中添加 layout_weight = 1 ....

完整的代码在这里：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:weightSum="2" >

<Button
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:text="Aamir Shah" />

<Button
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:text="Aamir Shah" />

 </LinearLayout> 
```

# mongodb - Pushing data from database to UI in realtime

> ID：12720377
> 
> 赞同：0
> 
> 时间：2012-10-04T04:43:14.420
> 
> 标签：mongodb, redis, real-time, server-sent-events, real-time-updates

I have a database (MySQL) to which data is being written to. I need to push new records and changed records to UI. A few constraints here: I do not have control on the code which writes to this database and I cannot modify it to write to a queue.

So far, I am reading the DB periodically for changes and new additions (using a last update timestamp) and pushing that data to a mongo db (as I do not want to hit main MySQL server for every request). Then I push these changes to frontend using cramp (ruby framework) and server sent events. To maintain per user queue, I have redis in the mix.

I realize that this is a convulated way of doing realtime push. I was wondering if there is a more neat solution to this mess.

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-04T04:56:28.750

如果您想从服务器实时推送数据，请使用提供实时访问的技术。我建议您使用[Websockets](http://en.wikipedia.org/wiki/WebSocket)。

唯一的问题是并非所有浏览器都支持 websockets，要解决这个问题，您可以使用基于 websockets 构建的可用框架，这些框架提供对浏览器支持的协议（如长轮询、流式传输等）的回退。以下是我的框架建议使用：

*   气氛框架 - [https://github.com/Atmosphere/atmosphere](https://github.com/Atmosphere/atmosphere)
*   玩框架！- [http://www.playframework.org/](http://www.playframework.org/)

# c# - Failing to Extract Hexadecimal Value from TextBox and Store It In A Integer Variable

> ID：12720388
> 
> 赞同：0
> 
> 时间：2012-10-04T04:44:38.503
> 
> 标签：c#, wpf, mvvm, textbox

I have a textbox

```
<TextBox Height="23" Grid.Column="1" PreviewTextInput="AddressBox_PreviewTextInput" HorizontalAlignment="Right" Margin="0,27,13,0" Name="AddressI2C" Text="{Binding Path=AddressMessage, Mode=TwoWay}" VerticalAlignment="Top" Width="128" />

    private string _AddressMessage = string.Empty;
    public string AddressMessage
    {
        get
        {
            return _AddressMessage;
        }
        set
        {
            _AddressMessage = value;
            NotifyPropertyChanged("AddressMessage");
        }
    } 
```

Now In my view Model class I have a method which requires me to get the text stored in this textbox and save it in a int variable. Now here is the trick, I have to save only the **hexadecimal** values inside this variable.

**Demonstration:**

Textbox value: 0x18

So I should first of all take the text inside the textbox and store only the hexadecimal value inside the variable int. Basically store only 18 inside the integer variable.

I had done this in my C++ aplication as follows:

```
int address = m_texteditAddress->getText().getHexValue32(); 
```

I tried doing the following:

```
string strValue = AddressMessage;
if(strValue.StartsWith("0x"))
{
    strValue = strValue.Remove(0,2);
    int address = Convert.ToInt32(strValue);         
} 
```

but AddressMessage is always empty even though I am entering "0x23" when I debug the code. The control doesnt enter the loop. Now how can I achieve this????

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T04:54:00.827

尝试这个：

```
int address = int.Parse(MyTextBox.Text, System.Globalization.NumberStyles.HexNumber); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:41:54.523

由于该值绑定到该`AddressMessage`属性，因此只需获取该值即可。此外，您的示例只是从十六进制字符串中删除了“0x”，所以只需使用`String.SubString()`.

例子：

```
int address = int.Parse(AddressMessage.Substring(2)); 
```

如果您需要将十六进制字符串实际转换为它代表的实际整数，请使用`System.Convert`：

```
int address = Convert.ToInt32(AddressMessage, 16); 
```

# python - 带有 elif 语句的“IndexError：列表索引超出范围”

> ID：12720392
> 
> 赞同：1
> 
> 时间：2012-10-04T04:45:11.410
> 
> 标签：python

我编写了一个脚本来解析来自某些网站的 html 代码以提取特定数据。我有两个不同的站点可以从中提取这些数据，因此我使用了 elif 语句。这是代码：

```
import urllib

class city :
    def __init__(self, city_name, link) :
            self.name = city_name
            self.url = link
            self.high0 = 0
            self.high1 = 0
            self.high2 = 0
            self.high3 = 0
            self.high4 = 0
            self.high5 = 0
            self.high6 = 0
            self.low0 = 0
            self.low1 = 0
            self.low2 = 0
            self.low3 = 0
            self.low4 = 0
            self.low5 = 0

    def retrieveTemps(self) :
            filehandle = urllib.urlopen(self.url)

            # get lines from result into array
            lines = filehandle.readlines()

            # (for each) loop through each line in lines
            line_number = 0 # a counter for line number
            for line in lines:
                    line_number = line_number + 1 # increment counter

# find string, position otherwise position is -1

                    position1 = line.rfind('#f2')
                    if position1 > 0 :
                            self.high0 = lines[line_number].split('&')[0].split('>')[1] # next line: high
                            self.low0 = lines[line_number + 10].split('&')[0].split('>')[1] # next line:low
                    elif position1 < 0 :
                            position1 = line.rfind('>Overnight')
                            if position1 > 0 :
                                    self.high0 = lines[line_number + 9].split('&')[0].split(':')[1] # next line: high
                                    self.low0 = lines[line_number + 15].split('&')[0].split(':')[1] # next line:low 
```

当 position1 = line.rfind('#f2') 时，该脚本可以完美运行。但是，当它找不到“#f2”（这仅位于第一个站点的 html 代码中，而不是第二个站点的 html 代码中）时，我试图告诉它查找“>过夜”，然后提取之间的数据':' 和 '&'。“数据”将始终是一个数字。我在想一个问题可能是我试图提取的这个数字的两边都有一个空格，但我不知道如何解决这个问题。当我运行脚本时，我收到错误：

self.high0 = lines[line_number + 9].split('&')[0].split(':')[1] # next line: high "IndexError: list index out of range"

作为参考，这是我为第一个网站解析的 html 代码：

```
</h3><img src="/weathericons/15.gif" longdesc="#f2" alt="Rain mixed with snow" title="Rain mixed with snow" /><ul>
              <li class="high" title="High">3&deg;C</li>
              <li class="low">&nbsp;</li>
              <li class="pop">&nbsp;</li>
            </ul>
          </div> 
```

并从第二个网站（我收到错误的那个网站）：

```
<p class="txt-ctr-caps">Overnight<br><br></p>
            <p><img src="/images/wtf/medium/nra60.png" width="86" height="86" alt="Rain Likely Chance for Measurable Precipitation 60%" title="Rain Likely Chance for Measurable Precipitation 60%" /></p>
        <p>Rain<br>Likely<br></p>
            <p class="point-forecast-icons-low">Low: 3 &deg;C</p>
    </div>
    <div class="one-ninth-first">
            <p class="txt-ctr-caps">Thursday<br><br></p>
            <p><img src="/images/wtf/medium/ra70.png" width="86" height="86" alt="Rain Likely Chance for Measurable Precipitation 70%" title="Rain Likely Chance for Measurable Precipitation 70%" /></p>
        <p>Rain<br>Likely<br></p>
            <p class="point-forecast-icons-high">High: 9 &deg;C</p>
    </div> 
```

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T05:02:32.840

现在你已经提供了完整的代码：试试这个

```
 def retrieveTemps(self) :
        filehandle = urllib.urlopen(self.url)
        lines = filehandle.read() # modified

        position1 = lines.rfind('#f2')
        if position1 > 0 :
                self.high0 = lines[position1:].split('&')[0].split('>')[1] # next line: high
                self.low0 = lines[position1+10:].split('&')[0].split('>')[1] # next line:low
        elif position1 < 0 :
                position1 = lines.rfind('>Overnight')
                if position1 > 0 :
                        self.high0 = lines[position1+9:].split('&')[0].split(':')[1] # next line: high
                        self.low0 = lines[position1+15:].split('&')[0].split(':')[1] # next line:low 
```

即使这样也无助于尝试使用基本的打印语句来调试代码，例如处理时变量中的行和行。

# javascript - Javascript 中的 ProcessMessages()

> ID：12720395
> 
> 赞同：0
> 
> 时间：2012-10-04T04:46:15.990
> 
> 标签：javascript, html, css, drop-down-menu

我想将 div 降低到某个高度以显示一些额外的内容。为此，我编写了以下 dropbox() 函数：

```
 <script type="text/javascript">
  function sleep(milliseconds) {
        var start = new Date().getTime();
        for (var i = 0; i < 1e7; i++) {
          if ((new Date().getTime() - start) > milliseconds){
          break;
          }
        }
      }

  function dropbox(element){
    var obj = document.getElementById(element);
    if(obj) {
      var element = document.getElementById(element),
          style = window.getComputedStyle(element),
          height = style.getPropertyValue('height');
          height = height.substring(0,2);
      var i = 0;
      for (i = height; i<200; i++)
        {
        sleep(100);
        var tst = i+"px";
        //alert(tst);
        obj.style.height = tst;
        }
        //alert(i);

    } else {
    }
  }
  </script> 
```

现在我遇到的问题是，该框实际上在下滚过程中不可见，但只有在循环完成后，但我希望它看起来像[http://www.thedana上的“检查可用性”框.com/](http://www.thedana.com/)。我如何完成这项工作？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:53:32.973

您不能在浏览器 javascript 中使用循环延迟，因为它会使浏览器对输入和屏幕更新都没有响应，并浪费移动设备上的电池。

相反，您应该使用`setTimeout()`which 让您在未来的某个时间安排活动。好的动画使用补间算法来安排动画的下一个刻度，然后比较经过的时间并计算下一个动画步骤应该在哪里绘制，并以这种方式不断地自我校正。

此外，如果您在 Google 上搜索`javascript animation`，您会发现许多有用的预先编写的代码，用于使用纯 JavaScript 制作动画。此外，所有主要的 javascript 库（如 jQuery 或 YUI）都内置并为您编写了重要的动画功能。

这是一个简单的例子：

```
function dropbox(elem, finalHt, duration) {
    var start = new Date().getTime();
    var tick = 20;
    var startHt = parseInt(elem.style.height, 10);
    var growHt = finalHt - startHt;

    function next() {
        var now = new Date().getTime();
        var percent = (now - start) / duration;
        var target = Math.round(startHt + (growHt * percent));
        elem.style.height = Math.min(target, finalHt) + "px";
        if (target < finalHt) {
            setTimeout(next, tick);
        }
    }

    setTimeout(next, tick);
}

function run() {
    var item = document.getElementById("box"); 
    item.style.height = "10px";    
    dropbox(item, 300, 2000);
} 
```

工作示例和更通用的代码：http: [//jsfiddle.net/jfriend00/QxXMK/](http://jsfiddle.net/jfriend00/QxXMK/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T04:59:11.440

这是一个示例代码。它可以帮助你

```
<div class="right_content">

         We deliver quick and easy registration.
        Mysites.com is our hosting server and we've buit our website under observation of Mysite.com

      </div>
        <p class="flip">Know About us</p>
     </div>
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js">
    </script>
   <script type="text/javascript"> 
    $(document).ready(function(){
    $(".flip").mouseover(function(){
        $(".right_content").slideToggle("slow");
      });
    });
  </script> 
```

# makefile - 为什么 Makefile 包含毕竟应该是：目标？

> ID：12720399
> 
> 赞同：0
> 
> 时间：2012-10-04T04:46:34.190
> 
> 标签：makefile

我一直在使用 Makefile 并且为了将一些东西分开，我决定包含一个新的通用 makefile。我面临的问题是我的第一个 makefile 看起来像这样：

文件名 Makefile.test

```
include ./Makefile.a
all: a b c
b:
    @echo "b"
c:
    @echo "c" 
```

文件名 Makefile.a

```
a:
    @echo "a" 
```

当我执行我的makefile时： make -f Makefile.test 我只打印出“a”并完成。

使其工作的唯一方法是将包含波纹管（任何地方）放在所有：目标

这样做有什么原因吗？

谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T05:06:07.110

当你这样说时：

```
include ./Makefile.a 
```

make 只是以与 C`Makefile.a`中相同的方式拉入当前 Makefile `#include <x.h>`：它插入内容`Makefile.a`以替换`include`语句并继续执行。结果是，当它开始弄清楚要做什么时，make 看到了这一点：

```
a:
    @echo "a"
all: a b c
b:
    @echo "b"
c:
    @echo "c" 
```

因此，源顺序中的第一个目标将是`a`，并且由于您没有指定目标，因此 make 将使用第一个目标。这就是您的结果的来源。

如果需要，您可以显式指定`all`目标：

```
make -f Makefile.test all 
```

`all`无论它出现在 Makefile 中的什么位置，它都会使用目标。

如果您使用的是 GNU Make，那么您可以使用[`.DEFAULT_GOAL`](http://www.gnu.org/software/make/manual/make.html#Special-Variables)在内部指定一个默认目标`Makefile.test`，然后您就不必担心顺序：

```
include ./Makefile.a
all: a b c
b:
    @echo "b"
c:
    @echo "c"

.DEFAULT_GOAL := all 
```

感谢[Idelic 对此](https://stackoverflow.com/users/109744/idelic)的提醒。

# c - 用函数调用初始化静态变量会产生编译错误？

> ID：12720400
> 
> 赞同：8
> 
> 时间：2012-10-04T04:46:59.873
> 
> 标签：c, static

```
#include <stdio.h>
int foo(){
    return 1;
}
int main(void) {
    static int q = foo(); 
    return 0;
} 
```

[这是相同的链接。](http://ideone.com/quV6J)这是 C 代码而不是 C++。它在 C++ 中编译和运行良好，但不是 C。

此代码出现编译错误。有人可以解释为什么会出错吗？静态成员只能由常量值初始化吗？在 C++ 中，我们需要在声明静态成员后定义它们，为什么在 C 中不需要？我找不到任何具有类似查询或好的答案的线程。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T04:58:51.440

全局变量和静态变量只能使用编译时已知的常量表达式进行初始化。调用您的`foo()`函数并不构成使用常量表达式。此外，未指定初始化全局变量和静态变量的顺序。通常，调用`foo()`意味着必须有一定的顺序，因为函数可以合理地预期一些其他变量已经初始化。

IOW，在 C 中，您的代码都没有在`main()`.

在 C++ 中有一些解决方法，但在 C 中没有。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-04T07:27:17.327

所有静态变量都是编译时，函数在运行时给出输出，所以你用运行时变量初始化编译时变量，这是不可能的，所以它给出了错误。

另一个例子可能如下

```
int main()
{
int p=9;
static int x=p;
} 
```

上面的代码也是给你编译时错误，原因同上。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T05:05:25.660

如果您在 C 而不是 C++ 中执行此操作，则只能分配编译期间可用的静态变量值。因此不允许使用 foo() ，因为它的值直到运行时才确定。

# sqlite - how to access local sqlite local database in blackberry for phonegap?

> ID：12720401
> 
> 赞同：-1
> 
> 时间：2012-10-04T04:47:01.253
> 
> 标签：sqlite, cordova, jquery-mobile, blackberry

I have a sqlite database which i want to load in blackberry,i found a source something like this
[click here](http://gauravstomar.blogspot.in/2011/08/prepopulate-sqlite-in-phonegap.html) like wise i want to deploy into blackberry..can u please suggest me something?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T04:56:32.520

查看[phonegap 文档](http://docs.phonegap.com/en/2.1.0/guide_getting-started_blackberry_index.md.html#Getting%20Started%20with%20Blackberry)以将应用程序部署到黑莓

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:07:56.483

检查这个线程：

[如何在 Phonegap 中实现 SQLite 数据库？](https://stackoverflow.com/questions/6647474/how-to-implement-a-sqlite-database-in-phonegap)

有一个示例显示了从 Javascript 代码访问现有 SQLite 数据库。

# python - Python & NumPy：使用条件搜索最小值（使用特定的 dtype）

> ID：12720405
> 
> 赞同：0
> 
> 时间：2012-10-04T04:47:28.360
> 
> 标签：python, numpy, indexing, where

我正在研究 Python 中的 A* 路径查找算法，并将数据很好地放入具有此 dtype 的 2D NumPy 数组中：

```
numpy.dtype([
  ('open', bool),
  ('closed', bool),
  ('parent', object),
  ('g', int),
  ('f', int)
]) 
```

按照[维基百科的“A* 搜索算法”条目中的伪代码](http://en.wikipedia.org/wiki/A%2a_search_algorithm#Pseudocode)，我需要解释一下：

```
current := the node in openset having the lowest f_score[] value 
```

该位将为我提供最低“f”值的索引（工作数组定义为 pathArray）：

```
numpy.unravel_index(numpy.argmin(pathArray['f']), pathArray['f'].shape) 
```

...并且这一位将找到“打开”为 True 的所有索引：

```
numpy.where(pathArray['open']) 
```

如何将这些条件一起使用，找到“open”为真的最低“f”值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:59:19.410

除了使用`np.argmin`on `pathArray['f']`，您可能还想使用 on `pathArray[pathArray['open']]['f']`。当然，您必须调整结果，以便可以将其与`pathArray['f']`...一起使用

* * *

另一种方法是`pathArray`沿`'f'`字段排序，然后找到第一个`pathArray_sorted['open']`为“真”的条目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:04:07.340

我不太熟悉，`numpy`但我仍然“认为”这不能使用内置函数来完成。但我仍然会尝试解释。这`Wikipedia`意味着您需要 a 之类的东西`priority queue`才能做到这一点：

```
current := the node in openset having the lowest f_score[] value 
```

您需要非常快地完成此操作，我建议构建一个二进制堆并将其用作您的优先级队列。这可以在 python 中轻松完成。[这](http://pravin.insanitybegins.com/posts/binary-heaps-and-priority-queues)是一篇很好的文章，解释了`heaps`它们`priority queues`在 python 中的实现。
祝你好运

# c# - 如何在 C#/XAML windows 8 应用程序中预先选择多个列表视图/网格视图项目？

> ID：12720408
> 
> 赞同：7
> 
> 时间：2012-10-04T04:47:54.393
> 
> 标签：c#, xaml, gridview, microsoft-metro, windows-runtime

在我的应用程序中有我的自定义类的网格视图。我正在使用自定义数据模板，并且值是从 SQLite 绑定的。现在，当用户启动应用程序时，应在 gridview/listview 中预先选择某些项目（不是单个）。Gridview/listview 允许多选。如何使用 SelectedItem 属性实现此目的？

**更新：我遵循[了这个](http://denismorozov.blogspot.in/2010/07/wpf-listboxselecteditemsadd-doesnt.html)，它对我不起作用。返回 0 个选择。**

**更新2：我已经发布了代码**

```
void MainPage_Loaded(object sender, RoutedEventArgs e)
{
    using (var db = new SQLite.SQLiteConnection(dbpath))
    {
        lvTags.ItemsSource = db.Table<Database.Tag>();  //lvTags is listview

        if (MyList.Count > 0) //MyList is the static list of class "Database.Tag"
        {
            foreach (var item in MyList)
                foreach (var lvitem in lvTags.Items)
                    if (lvitem.Equals(item))
                        lvTags.SelectedItems.Add(lvitem);
        }
    }
} 
```

**更新 3：**

```
public override bool Equals(object obj)
{
    Tag tag = obj as Tag;
    if (this.TagID == tag.TagID && this.TagName == tag.TagName)
        return true;
    else
        return false;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-16T07:22:26.403

终于从[MSDN](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/48fb5a15-e61d-415a-ae9c-78ae07f042c1/)得到答案。感谢[ForInfo](http://social.msdn.microsoft.com/profile/forinfo/?ws=usercard-mini)

XAML 页面

```
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <ListView x:Name="listView" SelectionMode="Multiple">
        <ListView.ItemTemplate>
            <DataTemplate>
                <StackPanel Orientation="Horizontal">
                    <TextBox Text="{Binding ID}" Margin="0,0,5,0"/>
                    <TextBox Text="{Binding Title}"/>
                </StackPanel>
            </DataTemplate>
        </ListView.ItemTemplate>
    </ListView>
</Grid> 
```

C＃

```
public sealed partial class MainPage : Page
{
    public MainPage()
    {
        this.InitializeComponent();
        LoadData();
    }
    protected override void OnNavigatedTo(NavigationEventArgs e)
    {
    }
    ObservableCollection<KiwiItem> sourceColl;
    IList<KiwiItem> selectionList;
    public void LoadData()
    {
        var dbPath = Path.Combine(Windows.Storage.ApplicationData.Current.LocalFolder.Path, "db.sqlite");

        // Exec (1)
        using (var db = new SQLite.SQLiteConnection(dbPath))
        {
            db.DropTable<KiwiItem>();
            db.CreateTable<KiwiItem>();
            db.RunInTransaction(() =>
            {
                db.Insert(new KiwiItem() { ID = 1, Title = "MyTitle1" });
                db.Insert(new KiwiItem() { ID = 2, Title = "MyTitle2" });
                db.Insert(new KiwiItem() { ID = 3, Title = "MyTitle3" });
                db.Insert(new KiwiItem() { ID = 4, Title = "MyTitle4" });
            });
            this.sourceColl = new ObservableCollection<KiwiItem>();
            this.selectionList = new List<KiwiItem>();
            // Query the db. In practice, fill the sourceColl according to your business scenario
            foreach (KiwiItem item in db.Table<KiwiItem>())
            {
                this.sourceColl.Add(item);
                if (item.ID == 2 || item.ID == 4)
                    this.selectionList.Add(item);
            }
        }

        // Exec (2)
        this.listView.ItemsSource = this.sourceColl;
        foreach (KiwiItem item in this.selectionList)
            this.listView.SelectedItems.Add(item);
    }
}
public class KiwiItem
{
    [SQLite.AutoIncrement, SQLite.PrimaryKey]
    public int ID { get; set; }
    public string Title { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T07:13:01.157

您可以使用 SelectedItems 属性。

```
 //
    // Summary:
    //     Gets the currently selected items.
    //
    // Returns:
    //     A collection of the currently selected items.
    public IList<object> SelectedItems { get; } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T16:42:19.383

您可以使用 SelectedItems 属性并调用 SelectedItems.Add() 或 SelectedItems.Remove() 从选择中添加/删除项目。

如果在 GridView 上使用 ItemsSource 绑定，则可以使用 WinRT XAML 工具包中的[ListViewExtensions.BindableSelection](http://jupitertoolkit.codeplex.com/SourceControl/changeset/view/18712#327670)附加属性（它也应该与 GridView 一起使用，因为它是 ListViewBase 的子类），如[示例页面](http://jupitertoolkit.codeplex.com/SourceControl/changeset/view/18712#309061)中所示。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-04T07:34:53.953

我删除了我原来的答案，因为你没有使用数据绑定，我的答案对你没有用。

我刚刚发现这可能对您有用：

“SelectedItems 属性是只读的，不能直接设置”

因此，有关可能提供帮助的解决方案，请参阅[本文](http://www.codeproject.com/Articles/412417/Managing-Multiple-selection-in-View-Model-NET-Metr)。

# python - 在 Django 中保存后如何获取对象？

> ID：12720410
> 
> 赞同：0
> 
> 时间：2012-10-04T04:48:00.753
> 
> 标签：python, django

我正在使用保存新对象

```
 new_document = form.save(commit=False)
    new_document.object_id = int(self.kwargs['pk'])
    new_document.content_type = ContentType.objects.get_for_model(self.target_model)
    # Set the document category
    new_document.category = self.get_document_category()
    new_document.save() 
```

现在想知道的是，保存对象后，如何获取对象的主键和其他属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:24:50.463

您已经在`new_document`.

# android - 跨多个活动的标题栏中的 Android 加载图标

> ID：12720416
> 
> 赞同：1
> 
> 时间：2012-10-04T04:48:41.240
> 
> 标签：android, android-activity

我正在使用[这篇](https://stackoverflow.com/questions/4399845/show-loading-icon-in-the-activity-titlebar)文章中的代码在我的 Android 应用程序的标题栏中放置一个加载图标：

```
 @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
        setContentView(R.layout.your_layout);
    } 
```

编码：

```
 activity.setProgressBarIndeterminateVisibility(true); 
```

在 AsyncTask 中调用。如果用户导航到新活动，则该图标不再出现在标题栏中，因为该图标仅为第一个活动设置。

有没有办法在所有活动上显示图标？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:52:15.583

您可以创建超级活动（即 Base Activity），在此超级活动中包含以下行：

```
 activity.setProgressBarIndeterminateVisibility(true); 
```

并将此活动扩展到所有子活动。

# linux - 如何在 Linux 内核中使用 bio 请求读取扇区

> ID：12720420
> 
> 赞同：11
> 
> 时间：2012-10-04T04:48:53.717
> 
> 标签：linux, kernel, driver

如何创建自己的生物请求以从磁盘驱动器读取扇区？

我正在尝试以下操作，但它会冻结系统。

```
static void read_bio()
{
    struct bio *b;
    struct page *p;

    b = bio_alloc(GFP_KERNEL, 1);
    if (!b) {
        printk(KERN_INFO "bio allocation failed\n");
    }
    bio_init(b);

    b->bi_sector = 10000;
    b->bi_bdev = bd;    /* "/dev/sda1" */
    b->bi_end_io = bio_end_clone;

    p = alloc_page(GFP_KERNEL);
    if (!p) {
        printk(KERN_INFO "page allocation failed\n");
    }
    bio_add_page(b, p, PAGE_SIZE, 0);
    b->bi_private = p;

    bio_get(b);
    submit_bio(READ, b);
    printk(KERN_DEBUG "submit read request\n");
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-07-30T08:58:50.413

这是一个老问题，但无论如何这里是阅读代码，我希望它会对某人有所帮助：

```
int readPage(struct block_device *device, sector_t sector, int size,
     struct page *page)
{
    int ret;
    struct completion event;
    struct bio *bio = bio_alloc(GFP_NOIO, 1);
    bio->bi_bdev = device;
    bio->bi_sector = sector;
    bio_add_page(bio, page, size, 0);
    init_completion(&event);
    bio->bi_private = &event;
    bio->bi_end_io = readComplete;
    submit_bio(READ | REQ_SYNC, bio);
    wait_for_completion(&event);
    ret = test_bit(BIO_UPTODATE, &bio->bi_flags);
    bio_put(bio);
    return ret;
} 
```

对于写作：

```
void writePage(struct block_device *device,
           sector_t sector, int size, struct page *page)
{
    struct bio *bio = bio_alloc(GFP_NOIO, 1);
    bio->bi_bdev = device;
    bio->bi_sector = sector;
    bio_add_page(bio, page, size, 0);
    bio->bi_end_io = writeComplete;
    submit_bio(WRITE_FLUSH_FUA, bio);
} 
```

`page`可以用 alloc_page(GFP_KERNEL) 分配。也用于更改`page`使用中的数据`page_address(page)`。它返回`void*`，因此您可以将该指针解释为您想要的任何内容。

# gwt - 我想使用与 SMARTGWT 相同的 GWT 创建分页样式

> ID：12720421
> 
> 赞同：0
> 
> 时间：2012-10-04T04:49:00.670
> 
> 标签：gwt, pagination, smartgit

我想使用与 SMARTGWT 相同的 GWT 创建分页样式。我对 HTML 和 CSS 有点薄弱。如何添加像[http://www.gwt-ext.com/demo/#remotePagingGrid](http://www.gwt-ext.com/demo/#remotePagingGrid)这样的图像。

请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T07:00:50.257

GWT 已经为它的 CellList 提供了非常好的分页功能。在这里查看：[GWT CwCellTable](http://gwt.google.com/samples/Showcase/Showcase.html#!CwCellTable)。如果设置正确，它可以在没有任何 CSS 或 HTML kowelege 的情况下开箱即用。

# xml - 仅剥离空的根元素

> ID：12720423
> 
> 赞同：2
> 
> 时间：2012-10-04T04:49:10.167
> 
> 标签：xml, xslt, strip

我有一个看起来像这样的输入 XML，并希望使用 XSL 转换获得如下所示的所需输出。我一直在浏览博客，但找不到与如何删除仅匹配根元素而不匹配子节点的空标签的任何相关性。

```
<?xml version="1.0" encoding="UTF-8"?>
<objects xmlns="urn:sobject.partner.soap.sforce.com">
  <Revenue__c/>
  <Revenue__c/>
  <Revenue__c/>
  <Revenue__c>
    <Sales_Org_ID__c>IV</Sales_Org_ID__c>
    <Branch_ID__c>1</Branch_ID__c>
    <Branch_Name__c>TEST</Branch_Name__c>
    <Therapy_Code__c>TEST</Therapy_Code__c>
    <Therapy_Name__c>TEST</Therapy_Name__c>
    <Therapy_Class_Code__c>TEST</Therapy_Class_Code__c>
    <Therapy_Class_Name__c>TEST</Therapy_Class_Name__c>
    <Payor_Type_Name__c>TEST</Payor_Type_Name__c>
    <Calendar_Year_Number__c>2011</Calendar_Year_Number__c>
    <Month_Revenue_Amount__c>100.01</Month_Revenue_Amount__c>
    <Payor_ID__c>TEST</Payor_ID__c>
    <Payor_Name__c/>
    <Payor_Type_Code__c>TEST</Payor_Type_Code__c>
    <MDM_Account_EID__c>66600001</MDM_Account_EID__c>
    <MDM_Physician_EID__c>99900001</MDM_Physician_EID__c>
    <Account__c>001a000001APU5OAAX</Account__c>
    <Contact__c>003a000001RL1EFAA1</Contact__c>
    <Revenue_ID__c>41</Revenue_ID__c>
    <Calendar_Year_Month__c>01</Calendar_Year_Month__c>
  </Revenue__c>
</objects> 
```

这正是我想要的结果：

```
<?xml version="1.0" encoding="UTF-8"?>
<objects xmlns="urn:sobject.partner.soap.sforce.com">
  <Revenue__c>
    <Sales_Org_ID__c>IV</Sales_Org_ID__c>
    <Branch_ID__c>1</Branch_ID__c>
    <Branch_Name__c>TEST</Branch_Name__c>
    <Therapy_Code__c>TEST</Therapy_Code__c>
    <Therapy_Name__c>TEST</Therapy_Name__c>
    <Therapy_Class_Code__c>TEST</Therapy_Class_Code__c>
    <Therapy_Class_Name__c>TEST</Therapy_Class_Name__c>
    <Payor_Type_Name__c>TEST</Payor_Type_Name__c>
    <Calendar_Year_Number__c>2011</Calendar_Year_Number__c>
    <Month_Revenue_Amount__c>100.01</Month_Revenue_Amount__c>
    <Payor_ID__c>TEST</Payor_ID__c>
    <Payor_Name__c/>
    <Payor_Type_Code__c>TEST</Payor_Type_Code__c>
    <MDM_Account_EID__c>66600001</MDM_Account_EID__c>
    <MDM_Physician_EID__c>99900001</MDM_Physician_EID__c>
    <Account__c>001a000001APU5OAAX</Account__c>
    <Contact__c>003a000001RL1EFAA1</Contact__c>
    <Revenue_ID__c>41</Revenue_ID__c>
    <Calendar_Year_Month__c>01</Calendar_Year_Month__c>
  </Revenue__c>
</objects> 
```

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T11:34:03.050

**这可能是最简单/最短的解决方案，同时完全是“推式”并且最具可扩展性和可维护性——没有硬编码的元素名称，没有文字结果元素，没有命名空间，没有`xsl:copy-of`：**

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="node()|@*">
     <xsl:copy>
       <xsl:apply-templates select="node()|@*"/>
     </xsl:copy>
 </xsl:template>
 <xsl:template match="/*/*[not(node())]"/>
</xsl:stylesheet> 
```

**当此转换应用于提供的 XML 文档时：**

```
<objects xmlns="urn:sobject.partner.soap.sforce.com">
    <Revenue__c/>
    <Revenue__c/>
    <Revenue__c/>
    <Revenue__c>
        <Sales_Org_ID__c>IV</Sales_Org_ID__c>
        <Branch_ID__c>1</Branch_ID__c>
        <Branch_Name__c>TEST</Branch_Name__c>
        <Therapy_Code__c>TEST</Therapy_Code__c>
        <Therapy_Name__c>TEST</Therapy_Name__c>
        <Therapy_Class_Code__c>TEST</Therapy_Class_Code__c>
        <Therapy_Class_Name__c>TEST</Therapy_Class_Name__c>
        <Payor_Type_Name__c>TEST</Payor_Type_Name__c>
        <Calendar_Year_Number__c>2011</Calendar_Year_Number__c>
        <Month_Revenue_Amount__c>100.01</Month_Revenue_Amount__c>
        <Payor_ID__c>TEST</Payor_ID__c>
        <Payor_Name__c/>
        <Payor_Type_Code__c>TEST</Payor_Type_Code__c>
        <MDM_Account_EID__c>66600001</MDM_Account_EID__c>
        <MDM_Physician_EID__c>99900001</MDM_Physician_EID__c>
        <Account__c>001a000001APU5OAAX</Account__c>
        <Contact__c>003a000001RL1EFAA1</Contact__c>
        <Revenue_ID__c>41</Revenue_ID__c>
        <Calendar_Year_Month__c>01</Calendar_Year_Month__c>
    </Revenue__c>
</objects> 
```

**产生了想要的正确结果**：

```
<objects xmlns="urn:sobject.partner.soap.sforce.com">
   <Revenue__c>
      <Sales_Org_ID__c>IV</Sales_Org_ID__c>
      <Branch_ID__c>1</Branch_ID__c>
      <Branch_Name__c>TEST</Branch_Name__c>
      <Therapy_Code__c>TEST</Therapy_Code__c>
      <Therapy_Name__c>TEST</Therapy_Name__c>
      <Therapy_Class_Code__c>TEST</Therapy_Class_Code__c>
      <Therapy_Class_Name__c>TEST</Therapy_Class_Name__c>
      <Payor_Type_Name__c>TEST</Payor_Type_Name__c>
      <Calendar_Year_Number__c>2011</Calendar_Year_Number__c>
      <Month_Revenue_Amount__c>100.01</Month_Revenue_Amount__c>
      <Payor_ID__c>TEST</Payor_ID__c>
      <Payor_Name__c/>
      <Payor_Type_Code__c>TEST</Payor_Type_Code__c>
      <MDM_Account_EID__c>66600001</MDM_Account_EID__c>
      <MDM_Physician_EID__c>99900001</MDM_Physician_EID__c>
      <Account__c>001a000001APU5OAAX</Account__c>
      <Contact__c>003a000001RL1EFAA1</Contact__c>
      <Revenue_ID__c>41</Revenue_ID__c>
      <Calendar_Year_Month__c>01</Calendar_Year_Month__c>
   </Revenue__c>
</objects> 
```

**说明**：

1.  身份规则“按原样”复制选择此模板执行的任何节点。

2.  对于作为顶部元素的子元素且没有子元素的任何元素，都有一个模板覆盖标识模板。这个模板没有正文（不产生任何输出），它有效地“删除”了匹配的节点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:34:20.210

应该这样做 - 它`apply-templates`仅用于具有子节点的收入节点，然后`copy-of`复制非空的收入树。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:x="urn:sobject.partner.soap.sforce.com"
                exclude-result-prefixes="x">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="no"/>

  <xsl:template match="/x:objects">
    <objects xmlns="urn:sobject.partner.soap.sforce.com">
      <xsl:apply-templates select="x:Revenue__c[*]" />
    </objects>
  </xsl:template>

  <xsl:template match="x:Revenue__c">
    <xsl:copy-of select="."/>
  </xsl:template>
</xsl:stylesheet> 
```

输出

```
<?xml version="1.0" encoding="utf-8"?>
<objects xmlns="urn:sobject.partner.soap.sforce.com">
  <Revenue__c>
    <Sales_Org_ID__c>IV</Sales_Org_ID__c>
    <Branch_ID__c>1</Branch_ID__c>
    <Branch_Name__c>TEST</Branch_Name__c>
    <Therapy_Code__c>TEST</Therapy_Code__c>
    <Therapy_Name__c>TEST</Therapy_Name__c>
    <Therapy_Class_Code__c>TEST</Therapy_Class_Code__c>
    <Therapy_Class_Name__c>TEST</Therapy_Class_Name__c>
    <Payor_Type_Name__c>TEST</Payor_Type_Name__c>
    <Calendar_Year_Number__c>2011</Calendar_Year_Number__c>
    <Month_Revenue_Amount__c>100.01</Month_Revenue_Amount__c>
    <Payor_ID__c>TEST</Payor_ID__c>
    <Payor_Name__c />
    <Payor_Type_Code__c>TEST</Payor_Type_Code__c>
    <MDM_Account_EID__c>66600001</MDM_Account_EID__c>
    <MDM_Physician_EID__c>99900001</MDM_Physician_EID__c>
    <Account__c>001a000001APU5OAAX</Account__c>
    <Contact__c>003a000001RL1EFAA1</Contact__c>
    <Revenue_ID__c>41</Revenue_ID__c>
    <Calendar_Year_Month__c>01</Calendar_Year_Month__c>
  </Revenue__c>
</objects> 
```

**编辑**- 可以简化：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:x="urn:sobject.partner.soap.sforce.com"
                exclude-result-prefixes="x">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="no"/>

  <xsl:template match="/x:objects">
    <objects xmlns="urn:sobject.partner.soap.sforce.com">
      <xsl:copy-of select="x:Revenue__c[*]" />
    </objects>
  </xsl:template>
</xsl:stylesheet> 
```

# heroku - Heroku 没有为非 Web Ruby 应用程序加载捆绑程序

> ID：12720425
> 
> 赞同：0
> 
> 时间：2012-10-04T04:49:23.970
> 
> 标签：heroku

我有一个使用 ruby​​ 编写的程序。它没有任何 Web 界面，但我使用 bundler 进行依赖管理。

在我的本地系统上，运行应用程序就像键入一样简单`rake app:start`，并且加载得很好。

但是，当我部署到 heroku 时，我的应用程序因`cannot load such file -- bundler`错误而崩溃。

我的 Procfile 看起来有这个条目`app: bundle exec rake app:start`。

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T23:34:41.853

问题是 Heroku 没有将 GEM_HOME 字段更改为 vendor/bundle 目录。

通过将以下配置变量添加到 Heroku，我的应用程序按预期运行：

```
GEM_HOME: /app/vendor/bundle/ruby/1.9.1
PATH:     /app/vendor/bundle/ruby/1.9.1/bin:bin:node_modules/.bin:/usr/local/bin:/usr/bin:/bin 
```

添加这些是通过`heroku config:set CONFIG_NAME=VALUE`命令完成的。

# ruby-on-rails - 如何将 Rails 3 初始化模块制作成 gem

> ID：12720426
> 
> 赞同：1
> 
> 时间：2012-10-04T04:49:24.563
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rubygems, gem

只是想学习一些创建 gem 的基础知识。现在我创建了一个看起来像......

```
# config/initializers/fun_logger.rb
module FunLogger
  def fun_before_filter
    logger.info("\n\n\nGOT IT!\n\n\n")
  end
end

ActionController::Base.send(:include, FunLogger) 
```

这允许我将以下内容添加到我的 ApplicationController 并打印出来！在日志中

```
before_filter :fun_before_filter 
```

所以我想弄清楚一些事情。

因此，要从中创建一个宝石...

1.  我相信我应该以其他方式设置这个 before_filter，但不知道该怎么做。
2.  我相信这个初始化程序应该被移动到 lib 目录并以某种方式使用 rails 应用程序自动加载。

这些信念是否正确，如果正确，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:31:33.220

你想看看[Railties](http://www.engineyard.com/blog/2010/extending-rails-3-with-railties/)。这将使您的 gem 运行一个初始化程序，或者您可能想要完成的任何其他 Rails 特定的事情。

至于制作一个前置过滤器......这通常不是最好的解决方案，而且很难从样本中准确地看出你想要完成什么。gems 将行为添加到请求/响应周期中的一种更习惯的方法是添加一个[Rack 中间件](http://railscasts.com/episodes/151-rack-middleware?view=asciicast)，它让用户的控制器独立。

# scala - Scala中的结构化输入不适用于Double？

> ID：12720428
> 
> 赞同：11
> 
> 时间：2012-10-04T04:49:28.637
> 
> 标签：scala

我正在尝试执行以下代码：

```
def sum(e: { def *(x: Double): Double}) = e * 2.0 
```

问题是，这不适用于任何数字类：

```
sum(20.0)
<console>:9: error: type mismatch;
 found   : Double(10.0)
 required: AnyRef{def *(x: Double): Double}
              algo(10.0)

sum(10)
<console>:9: error: type mismatch;
 found   : Int(10)
 required: AnyRef{def *(x: Double): Double}
              algo(10) 
```

我的代码有问题吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-04T05:50:16.417

Scala 的结构类型不需要 AnyRef。

当然，以下方法声明不能按预期工作。

```
def sum(e: { def *(x: Double): Double }) = e * 2.0 
```

原因是上面的代码被解释为如下：

```
def sum(e: AnyRef { def *(x: Double): Double}) = e * 2.0 
```

如果您明确指定 Any ，则代码有效：

```
scala> def sum(e: Any { def *(x: Double): Double }) = e * 2.0
sum: (e: Any{def *(x: Double): Double})Double

scala> sum(10.0)
res0: Double = 20.0 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-04T05:10:59.027

您的`sum`方法需要[AnyRef](http://www.scala-lang.org/api/current/scala/AnyRef.html)的子类型，而[Double](http://www.scala-lang.org/api/current/scala/Double.html)和其他数字类型是[AnyVal](http://www.scala-lang.org/api/current/scala/AnyVal.html)的子类型。相反，您应该做的是使用[Numeric](http://www.scala-lang.org/api/current/scala/math/Numeric.html)类型类。

```
def sum[E:Numeric](e:E) = {
  val n = implicitly[Numeric[E]]
  n.toDouble(e) * 2
} 
```

# android - 在 GridLayout 中拖放片段

> ID：12720429
> 
> 赞同：3
> 
> 时间：2012-10-04T04:49:28.887
> 
> 标签：android, drag-and-drop, android-fragments

我在互联网上搜索过，但找不到关于拖放动态片段的好教程，用户也可以在其中看到片段的拖动。此功能仅适用于小部件吗？我很困惑，所以请帮助我，因为我无法决定从哪里开始。

# php - Magento 删除“促销”项目

> ID：12720431
> 
> 赞同：0
> 
> 时间：2012-10-04T04:49:51.323
> 
> 标签：php, magento

如何从管理菜单中删除整个“促销”菜单项？它似乎没有单独的模块。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:17:24.610

**方法 1** - 使用 local.xml

打开 /app/etc/local.xml 并在下面添加“adminhtml”标签

```
<config>
    <global> 
        .....
    </global>
    <admin>
        ....
    </admin>
    <adminhtml>
        <menu>
          <promo translate="title" module="promo">
            <depends><module>HideMe</module></depends>
          </promo>
        </menu>
     </adminhtml>
</config> 
```

**方法 2** - 创建自定义模块

创建 /app/code/local/MagePal/RemovePromoMenu/etc/config.xml

```
<config>
   <modules>
        <MagePal_RemovePromoMenu>
            <version>0.9.5</version>
        </MagePal_RemovePromoMenu>
   </modules
   <adminhtml>
        <menu>
          <promo translate="title" module="promo">
            <disabled>1</disabled>
          </promo>
        </menu>
   </adminhtml>
</config> 
```

创建 /app/etc/modules/MagePal_RemovePromoMenu.xml

```
<?xml version="1.0"?>
<config>
    <modules>
        <MagePal_RemovePromoMenu>
            <active>true</active>
            <codePool>local</codePool>
        </MagePal_RemovePromoMenu>
    </modules>
</config> 
```

@dsueiro[从 Magento 的管理面板导航中删除项目](https://stackoverflow.com/questions/723828/removing-an-item-from-magentos-admin-panel-navigation)

# entity-framework - 映射私有属性时的问题

> ID：12720437
> 
> 赞同：4
> 
> 时间：2012-10-04T04:50:17.083
> 
> 标签：entity-framework, code-first, private-members

我有两个具有一对多关联的实体类 Project 和 Product：

```
public class Product
{
   public string Id {get; set;}

   public virtual Project Project {get; set;}
}

public class Project
{
    public string Id {get; set;}
    protected virtual List<Product> Products {get; set;}

    public ReadOnlyCollection<Product> GetProducts()
    {
        return Products.AsReadOnly();
    }

    public class PropertyAccessExpressions
    {
        public static Expression<Func<Project, ICollection<Product>>> Products = x => x.Products;
    }
}

public class MyDbContext: DbContext
{
    public MyDbContext(string connectionString): base(connectionString){}

    public DbSet<Project> Projects {get; set;}
    public DbSet<Product> Products {get; set;}

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
         //// project.GetProducts() fails for the following configuratin
         //modelBuilder.Entity<Product>()
         //  .HasRequired(p => p.Project).WithMany(Project.PropertyAccessExpressions.Products);

         // The following is OK             
         modelBuilder.Entity<Project>()
          .HasMany(Project.PropertyAccessExpressions.Products).WithRequired(p => p.Project);
    }
} 

class Program
{
    static void Main(string[] args)
    {
        var context = new MyDbContext(@"data source=localhost;initial catalog=MyTestDb;integrated security=True;");
        context.Database.Delete();
        context.Database.Create();

        var project1 = new Project { Id = "ProjectId1" };
        context.Projects.Add(project1);
        context.Products.Add(new Product { Id = "ProductId1", Project = project1 });
        context.Products.Add(new Product { Id = "ProductId2", Project = project1 });
        context.SaveChanges();

        var project = context.Projects.ToList()[0];;
        var products = project.GetProducts().ToList();
        Debug.Assert(products.Count == 2);
    }
} 
```

为了映射受保护的属性，我使用[了这个解决方案](http://blog.cincura.net/232731-mapping-private-protected-properties-in-entity-framework-4-x-code-first/)。

但是我遇到了以下问题：

1）如果我配置项目和产品之间的一对多关联

```
modelBuilder.Entity<Product>.HasRequied(p => p.Project).WithMany(Project.PropertyAccessExpressions.Products); 
```

然后 Project.GetProducts() 失败，似乎延迟加载不起作用。但如果我改为

```
modelBuilder.Entity<Project>
.HasMany(Project.PropertyAccessExpressions.Products).WithRequired(p => p.Project); 
```

然后一切正常。

2）如果我将属性“Project.Products”从 protected 更改为**public**，那么上述两种方式都可以。

在这种情况下有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T15:56:24.467

删除`GetProducts`并执行以下操作：

```
public virtual List<Product> Products {get; protected set;} 
```

注意`protected`setter 上的关键字。我刚试过这个，对我来说效果很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-17T15:25:44.263

属性必须是公开的才能让代理工作。看[这里](http://msdn.microsoft.com/en-us/library/vstudio/dd468057%28v=vs.100%29.aspx)

# jquery - chrome的window.showModalDialog

> ID：12720439
> 
> 赞同：1
> 
> 时间：2012-10-04T04:50:42.287
> 
> 标签：jquery

我有一个简单的 window.showModalDialog 打开一个新的弹出窗口。它在 FF 和 IE 中运行良好。但在 chrome 中它不起作用。当我浏览时，我知道 chrome 不支持模态功能。任何人都可以使用 jquery 或任何其他方法给我一个替代方案。这就是我想要做的。它应该打开 test.html 并且一旦打开子窗口，我们应该无法编辑父窗口。

```
window.showModalDialog("test.html", "Edit","dialogWidth:850px; dialogHeight:650px; center:yes"); 
```

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:53:00.073

您可以使用[jQuert UI 对话框](http://jqueryui.com/demos/dialog/)。

# sql-server-2005 - 创建日志系统的最佳解决方案

> ID：12720444
> 
> 赞同：2
> 
> 时间：2012-10-04T04:51:34.923
> 
> 标签：sql-server-2005, logging, vb.net-2010, audit-trail

有人可以告诉我创建日志系统（审计跟踪）的最佳解决方案是什么！？我正在使用带有 MSSQL 2005 的 vb.net

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:28:39.713

试试 Paul Nielsen 开发的 AutoAudit。

[http://autoaudit.codeplex.com/](http://autoaudit.codeplex.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-06T03:29:37.357

以下线程将为您提供有关音频跟踪机制的一些提示：

[http://www.universalthread.com/ViewPageArticle.aspx?ID=615](http://www.universalthread.com/ViewPageArticle.aspx?ID=615)

# visual-studio-2010 - 对 COM 组件的调用已返回错误 HRESULT E_FAIL。在visualStudio2010中

> ID：12720445
> 
> 赞同：2
> 
> 时间：2012-10-04T04:51:36.187
> 
> 标签：visual-studio-2010, silverlight

您好，我有一个 silverlight 应用程序，当我尝试运行它时，它会给我类似的错误

对 COM 组件的调用已返回错误 HRESULT E_FAIL。

我在其他 PC 上运行的相同代码然后它工作正常

错误详情

**"Silverlight 应用程序中未处理的错误\n代码: 1001 \n类别: RuntimeError \n消息: AG_E_UNKNOWN_ERROR \n方法名: \n"**

重新安装Visual Studio，但仍然出现同样的错误。

谁能告诉我为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:26:57.893

在我的情况下。我将引用的 dll 从文件夹中移出：C:\Program Files (x86)\Microsoft SDKs\Silverlight\v4.0\PivotViewer\Aug10

当我引用名为 System.Windows.Pivot 的 pivotViewer dll 时发生错误

我有一台win 7 64机器。

这似乎为我解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-30T10:00:44.790

解决方案：这个错误是因为Visual Studio的缓存删除缓存。您可以在“Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplatesCache”删除项目缓存，然后运行“devenv /setup”再次构建缓存，看看是否有帮助。 [在此处输入链接描述](http://rathodkrunal.blogspot.in/2011/11/visual-studio-2010-error-hresult-efail.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-17T05:33:55.877

我的项目中有单独的模块，此错误发生在具有设计视图 (xaml) 的模块之一中。经过多次尝试，终于删除了错误模块并重新添加并清理和构建解决了问题。

# android - 使用 Java 或 Html 开发 Android 应用程序？

> ID：12720447
> 
> 赞同：-4
> 
> 时间：2012-10-04T04:52:06.770
> 
> 标签：android, html, css

开发 Android 应用程序的最佳方法是什么。我应该使用 java 还是使用 HTML 或 css3 来实现

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:58:09.303

这取决于您要定位的目标。如果您想针对多个平台之类`android,iphone,windows phone`的，那么您应该使用`HTML5 & CSS`.

但是，如果您只针对 android，那么 java 是一个更好的选择。`Java`应用程序更强大、更快速。他们可以以更好、更轻松的方式使用设备的本机功能，如相机、gps 等，而`Html5`应用程序可以针对多个平台。

在 Html5 中，您还可以使用诸如相机、gps 等本机功能，使用一些第三方库`phonegap ,appcelerator`等，但性能不会那么好。

# python - 解包参数：只有命名参数可以跟在 *expression 之后

> ID：12720450
> 
> 赞同：47
> 
> 时间：2012-10-04T04:52:37.990
> 
> 标签：python, arrays, arguments

以下在 Python 中运行良好：

```
def f(x,y,z): return [x,y,z]

a=[1,2]

f(3,*a) 
```

的元素`a`被解包，就好像你已经调用它一样`f(3,1,2)`，它返回`[3,1,2]`。精彩的！

但我无法将 的元素解压缩`a`到*前*两个参数中：

```
f(*a,3) 
```

我没有调用 like `f(1,2,3)`，而是得到“SyntaxError: only named arguments may follow *expression”。

我只是想知道为什么它必须是这样，如果有任何聪明的技巧我可能不知道将数组解压缩到参数列表的任意部分而不诉诸临时变量。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-10-10T23:31:45.830

正如 Raymond Hettinger 的回答所指出的那样，这~~可能~~在 Python 3 中发生了变化，[这是一个相关的提案](http://www.python.org/dev/peps/pep-3132/)，已被接受。特别是与当前问题相关，以下是所讨论的提案的可能更改之一：

> 只允许星号表达式作为 exprlist 中的最后一项。这将稍微简化解包代码，并允许为带星号的表达式分配一个迭代器。这种行为被拒绝了，因为它太令人惊讶了。

所以解包函数参数的限制是有实现原因的，但这确实有点令人惊讶！

与此同时，这是我一直在寻找的解决方法，回想起来有点明显：

```
f(*(a+[3])) 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-10-04T05:07:03.800

不一定*要*那样。Guido 认为这只是规则。

在 Python 3 中，解包的规则有所放宽：

```
>>> a, *b, c = range(10)
>>> a
0
>>> b
[1, 2, 3, 4, 5, 6, 7, 8]
>>> c
9 
```

根据 Guido 是否认为它会改进语言，这种自由化也可以扩展到函数参数。

有关Python 3 更改规则的一些想法，请参阅关于[扩展可迭代解包的讨论。](http://www.python.org/dev/peps/pep-3132/)

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2015-09-22T13:25:09.490

感谢[PEP 448 - Additional Unpacking Generalizations](https://www.python.org/dev/peps/pep-0448/)，

```
f(*a, 3) 
```

现在[接受从 Python 3.5 开始的语法](https://docs.python.org/3/whatsnew/3.5.html#pep-448-additional-unpacking-generalizations)。同样，您可以在任何地方使用双星`**`进行关键字参数解包，并且可以多次使用其中任何一个。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-04T05:09:29.543

`f`期望 3 个参数（`x`, `y`, `z`, 按此顺序）。

假设`L = [1,2]`。当你调用`f(3, *L)`时，python 在幕后所做的就是调用`f(3, 1, 2)`，而不知道`L`.

那么如果`L`是会发生什么`[1,2,3]`呢？

然后，当您调用 时`f(3, *L)`，您最终会调用`f(3,1,2,3)`，这将是一个错误，因为`f`期望正好有 3 个参数，而您给了它 4 个。

现在，假设`L=[1,2]1\. Look at what happens when you call`f`：

```
>>> f(3,*L) # works fine
>>> f(*L) # will give you an error when f(1,2) is called; insufficient arguments 
```

现在，您隐含地知道何时调用`f(*L, 3)`3 将分配给`z`，但 python 不知道这一点。它只知道`j`输入 to 的最后许多元素`f`将由`L`. 但由于它不知道 的值`len(L)`，它无法假设是否`f(*L,3)`会有正确数量的参数。

然而，情况并非如此`f(3,*L)`。在这种情况下，python 知道除了第一个参数之外的所有参数都将由`L`.

但是，如果您已命名 arguments `f(x=1, y=2, z=3)`，则按名称分配的参数将首先被绑定。只有这样才能绑定位置参数。所以你做`f(*L, z=3)`。在这种情况下，`z`首先绑定`3`，然后绑定其他值。

现在有趣的是，如果你这样做了`f(*L, y=3)`，那会给你一个尝试分配`y`两次的错误（一次是关键字，一次是位置）

希望这可以帮助

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-02-01T07:34:10.660

用的`f(*a, z=3)`话可以用`f(*a, 3)`，不知道怎么解压参数给你提供2个参数，2是第二个。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-08-29T20:43:30.833

好的。这也适用于元组。不要忘记逗号：

```
a = (1,2)
f(*(a+(3,))) 
```

# ios - iOS 的蜘蛛（雷达）图表

> ID：12720462
> 
> 赞同：3
> 
> 时间：2012-10-04T04:54:04.377
> 
> 标签：ios, charts

我在哪里可以找到适用于 iOS 的好的蜘蛛（雷达）图表库？（如下所示）

![在此处输入图像描述](../Images/9dec7b5658a4ae49a56b92ebe1cfe2f1.png)

我检查了“Core Plot”和“iOSPlot”开源项目，但这些都不支持蜘蛛图。

BR，Wonil。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:07:48.810

在 Github 上尝试来自 raspu 的 RP Radar Chart。尽管作者声称它尚未完成，但它看起来相当坚固。[https://github.com/raspu/RPRadarChart](https://github.com/raspu/RPRadarChart)

# actionscript-3 - 如何将字节转换为十进制？

> ID：12720463
> 
> 赞同：1
> 
> 时间：2012-10-04T04:54:24.767
> 
> 标签：actionscript-3

我正在开发一个应用程序，其中 c# 处理程序将字节数据发送到闪存，其中一些 int 值在最后作为二进制写入连接。

C#代码：

```
 int pageNumber = 2;
 context.Response.BinaryWrite(Image);
 context.Response.BinaryWrite(pageNumber); 
```

我操作 script3 我正在接收该字节数组，并且需要从字节中获取页码。

AS3 代码：

```
 var imageData:ByteArray = event.target.data;
 var pageN:ByteArray = new ByteArray();
 pageN.writeBytes(imageData, imageData.length - 4, 4); 
```

如何将 pageN 字节数组转换为 int 。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T05:17:15.363

```
var yourInt:int=pageN.readInt(); 
```

如果您正确指定了 int 的位置，应该这样做。

# iphone - 如何在按钮单击时显示 UISplitViewcontroller

> ID：12720464
> 
> 赞同：5
> 
> 时间：2012-10-04T04:54:41.303
> 
> 标签：iphone, objective-c, ipad

有什么方法可以显示`UISplitViewController`on button click 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T10:27:54.223

请使用以下代码..

```
@interface ...

-(IBAction)Btn_OpenSplitView:(id)sender;

@end

@implementation ...

-(IBAction)Btn_OpenSplitView:(id)sender { 
    UIViewController* secondVC = [[UIViewController alloc] initWithNibName:@"ContentView"
                                                                    bundle:nil];

    UIViewController* firstVC = [[UIViewController alloc] initWithNibName:@"MenuView"
                                                                   bundle:nil
                                                withContentViewController:secondVC];

    UISplitViewController* splitVC = [[UISplitViewController alloc] init];
    splitVC.viewControllers = [NSArray arrayWithObjects:firstVC, secondVC, nil];

    [self addSubview:splitVC.view];   
}

@end
```

# c# - 虽然或不等于不工作？

> ID：12720466
> 
> 赞同：4
> 
> 时间：2012-10-04T04:55:02.113
> 
> 标签：c#, string, loops, while-loop

我对 C# 很陌生，正在尝试编写一个超级简单的循环

```
 while ((var_app_choice != "Exit") || (var_app_choice != "Test"))
        {
            //stuff
        } 
```

我有一个控制台应用程序，最终用户将在其中输入一个值

如果此值不等于 (!=) 到 Exit OR Test，那么它应该循环。

我在这里做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:00:36.977

如果您想退出循环，当用户进入时，`Exit`您`Test`需要`&&`操作员而不是`||`

```
while ((var_app_choice != "Exit") && (var_app_choice != "Test"))
    {
        var_app_choice = Console.ReadLine();
        //stuff
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T05:01:45.677

我想你想要而不是……

如果 的值为`var_app_choice`“Test”，则第一个条件为真，循环将执行。同样，如果是“退出”，则第二个条件为真。换句话说，你有一个无限循环......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:30:05.950

朋友，

考虑我有一个数据列表

List dataList = new List() { "Apple", "Microsoft", "exit", "Oracle", "Android" };

诠释 i = 0; while (dataList[i] != "exit" || dataList[i] != "test") { Console.WriteLine(dataList[i]); 我++；}

您会期望输出应该只有 Apple 和 Microsoft。当它在索引 2 中遇到“退出”时，它应该停止。

真正发生的事情（考虑它正在验证“退出”）是第一个条件失败，这意味着 NotEqualTo 运算符工作正常。问题是您的 OR 运算符。由于“exit”不等于“test”，因此条件通过，进一步进入循环。

您的数据不能等于“exit”，也不等于“test”。

认为你有问题。供您参考，While(condn){} 在这里您可以提及任何输出布尔值（真或假）的条件。

谢谢，如果我错了，请纠正我。

# sql-server-2008-r2 - 一个 CLR 函数，相当于 C# 中的 string.Format

> ID：12720467
> 
> 赞同：2
> 
> 时间：2012-10-04T04:55:33.453
> 
> 标签：sql-server-2008-r2, clr, user-defined-functions

我正在寻找一个与 C# 中的 String.Format 执行相同操作的 CLR 函数。例如，我想通过 CLR 函数执行以下操作：

```
String.Format("My name is {0}, and I live in {1}",myName, cityName) 
```

我希望能够在第一个参数之后传递可变数量的参数，这将与在此 CLR 函数的第一个参数中指定的占位符一样多。任何人都知道这样的 CLR 函数的 C# 代码是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T21:42:22.090

我正在寻找同样的东西。我遇到了这两个网站：[http](http://www.fotia.co.uk/fotia/Blog/2009/05/indispensable-sql-clr-functions.html) ://www.fotia.co.uk/fotia/Blog/2009/05/indispensable-sql-clr-functions.html & [http://stringformat-in-sql.blogspot.com /](http://stringformat-in-sql.blogspot.com/)。

第一个使用 CLR 函数，另一个使用存储过程。

在第一篇文章中，作者说 UDF 参数不是可选的，因此您不能拥有可变数量的参数（至少他这样做的方式）。他只是用他需要的数字或参数创建一个不同的函数。

```
[SqlFunction(DataAccess = DataAccessKind.None)]
public static SqlString FormatString1(SqlString 格式，对象 arg0，对象 arg1)
{
   返回格式。IsNull ？SqlString.Null ：
       string.Format(format.Value, SqlTypeToNetType(arg0, arg1));
}
```

**编辑：** 这就是我为我解决这个问题的方法。

使用第二篇文章中的存储过程，我创建了这个函数来使用数据透视表为我设置文本格式。我们的数据库设置有一个表`dbo.[Rules]`，该表的列`[Description]`具有需要格式化的字符串，例如：“NET INCOME MARGINAL (${0} TO BELOW ${1})”。然后我们有一个 1-many 表`dbo.[RuleParameters]`，其中每个需要替换的值都有一行。该列`dbo.[SortOrder]`指定参数进入的顺序。此函数将适用于我们拥有的最多 4 个参数。

```
CREATE FUNCTION [dbo].[GetRuleDescriptionWithParameters]
(
    @Code VARCHAR(3)
)
RETURNS NVARCHAR(MAX)
AS
BEGIN
DECLARE @Result NVARCHAR(400)

    SELECT 
        @Result =
            dbo.FormatString([Description], 
                ISNULL([1], '') + ',' + 
                ISNULL([2], '') + ',' + 
                ISNULL([3], '') + ',' + 
                ISNULL([4], '')
                )
    FROM
    (
        SELECT 
        r.[Description]
        ,rp.Value
        ,rp.SortOrder

        FROM 
            [Rules] r
        LEFT OUTER JOIN [RuleParameters] rp
            ON r.Id = rp.RuleId

        WHERE r.Code = @Code

    ) AS SourceTable
    PIVOT
    (
        MAX(Value)
        FOR SortOrder IN ([1], [2], [3], [4])
    ) AS PivotTable;

    RETURN @Result
END 
```

**编辑#2**：添加更多示例

格式化字符串函数：

```
CREATE FUNCTION [dbo].[FormatString]
(
    @Format NVARCHAR(4000) ,
    @Parameters NVARCHAR(4000)
)
RETURNS NVARCHAR(MAX)
AS
BEGIN
DECLARE @Message NVARCHAR(400),
@Delimiter CHAR(1)
DECLARE @ParamTable TABLE ( ID INT IDENTITY(0,1), Paramter VARCHAR(1000) )
SELECT @Message = @Format, @Delimiter = ','
;WITH CTE (StartPos, EndPos) AS
(
    SELECT 1, CHARINDEX(@Delimiter, @Parameters)
    UNION ALL
    SELECT EndPos + (LEN(@Delimiter)), CHARINDEX(@Delimiter,@Parameters, EndPos + (LEN(@Delimiter)))
FROM CTE
WHERE EndPos > 0
)
INSERT INTO @ParamTable ( Paramter )
SELECT
[ID] = SUBSTRING ( @Parameters, StartPos, CASE WHENEndPos > 0 THEN EndPos - StartPos ELSE 4000 END )
FROM CTE
UPDATE @ParamTable SET @Message = REPLACE ( @Message, '{'+CONVERT(VARCHAR,ID) + '}',     Paramter )
RETURN @Message
END
GO 
```

这是我调用存储过程的方式：

```
SELECT r.[Id]
        ,[Code]
        ,[Description]
        ,dbo.GetRuleDescriptionWithParameters([Code])
        ,rp.[Value]
        ,rp.SortOrder
FROM [Rules] r
INNER JOIN [RuleParameters] rp
    ON r.Id = rp.RuleId 
```

现在我可以像这样调用函数来为我格式化所有内容！这是带有结果的示例用法：

```
Id  Code    Description                     (No column name)          Value     SortOrder
1   1       NOT THE MINIMUM AGE             NOT THE MINIMUM AGE       18        1
3   8       NET INCOME (BELOW ${0})      NET INCOME (BELOW $400)   400    1
4   9       NET (${0} TO BELOW ${1})          NET ($400 TO BELOW $600)  400         1
4   9       NET (${0} TO BELOW ${1})          NET ($400 TO BELOW $600)  600         2 
```

通常在调用它时，我不会加入 [RuleParameters] 表，但在这种情况下我这样做是为了让您可以在一个数据集中查看前后的数据。

# node.js - “npm install”nodemailer 中给定编码中的无效字符

> ID：12720468
> 
> 赞同：3
> 
> 时间：2012-10-04T04:55:35.450
> 
> 标签：node.js, installation, npm

我试过了

```
npm install -g mongodb formidable nodemailer simplesmtp imap 
```

在我收到红线错误后：

```
.....AppData.....node_modules\iconv\build\icovcxproj(40,47)> error MSB4025: The project file could not be loaded: Invalid character in the given encoding. Line 40, position 47\. ... 

npm WARN optional dep failed, continuing iconv@1.2.3 ... 
```

在一些错误之后！行。

我能做些什么？

*（操作：Windows 8）*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-29T23:00:18.523

似乎问题在于安装依赖项之一，[`iconv`](https://github.com/bnoordhuis/node-iconv).

您应该向我们展示`npm install -g iconv`. 如果可以，[请将其发布到项目的问题列表中](https://github.com/bnoordhuis/node-iconv/issues/new)。

我不确定哪个项目（mongodb 强大的 nodemailer simplesmtp imap）有 iconv 作为依赖项，但单独安装它们应该会让你知道。

```
npm install -g mongodb
npm install -g formidable
npm install -g nodemailer
... 
```

# nhibernate - 从数据库中获取对象中的单个属性

> ID：12720470
> 
> 赞同：1
> 
> 时间：2012-10-04T04:55:57.730
> 
> 标签：nhibernate, queryover

我正在研究 NET MVC 3.0 和 Nhibernate 3.0。我只想从数据库中获取一个属性到一个对象。

例如，假设我有一个类 Module。我想从模块表中选择所有名称（如`select modulename from module`查询）并准备一个只有名称的模块对象列表。所有其他属性都可以`null`。

我使用 QueryOver API 进行了尝试：

```
IQueryOver<ProjectModule> module = session.QueryOver<ProjectModule>()
    .Select(a=>a.Name)                   
    .TransformUsing(
        NHibernate.Transform.Transformers.AliasToBean<ProjectModule>());

pm = module.List<ProjectModule>(); 
```

`pm`是`IList<ProjectModule>`类型。

事务成功提交。没有发生错误，但我得到了一个包含所有属性 = 的模块对象列表`null`。模块名称`null`、模块 ID`null`等。

我检查了使用 NUnit 在 SQL 上执行的查询并得到了这个：`SELECT this_Name as y0_ FROM ProjectModule this_`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T09:23:32.450

如果您只获取一个属性，则不需要使用转换器。尝试`List<string>`直接使用：

```
var moduleNames = session.QueryOver<ProjectModule>()
    .Select(a => a.Name)                   
    .List<string>(); 
```

[在NHibernate 博客](http://nhforge.org/blogs/nhibernate/archive/2009/12/17/queryover-in-nh-3-0.aspx)上阅读有关 QueryOver 语法的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:19:45.073

为了更准确地创建 DTO 对象，假设 ProjectModuleDto 将仅包含名称。通过代码使用具有未初始化值的域对象不是一个好习惯，因为它会在各种场景中造成填充数据的混淆。

下面的代码可以解决问题 - 使用数据库中项目模块的正确名称填充 DTO 列表： ProjectModuleDto：

```
ProjectModuleDto projectModuleDto = null;           
IQueryOver<ProjectModule> module = session.QueryOver<ProjectModule>()
    .SelectList(
        list=>list.Select(a => a.Name).WithAlias(() => projectModuleDto.Name)
    )                 
    TransformUsing(NHibernate.Transform.Transformers.AliasToBean<ProjectModuleDto>());

pm = module.List<ProjectModuleDto>(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T23:24:56.970

这是你要找的吗？

```
 List<ProjectModule> result = new List<ProjectModule>();

  session.QueryOver<ProjectModule>()
  .Select(a => a.Name)                   
  .ToList().ForEach(delegate(string mName)
  {
       result.Add(ProjectModule() { Name = mName });
  }); 
```

# c# - 使用 linq to sql 选择死锁

> ID：12720472
> 
> 赞同：2
> 
> 时间：2012-10-04T04:56:08.587
> 
> 标签：c#, sql, sql-server, linq-to-sql, azure-sql-database

我正在使用 linq to sql 并运行直接 SQL 查询 - select 语句 - 它使用 (XQuery) 查询 XML 列。多个这样的查询并行运行，我遇到了死锁异常。

select 在运行时是否会获得某种锁？也有与 Serializable 隔离级别并行发生的更新。

如何解决此问题的任何指示都可能会有所帮助。如何在 Linq To SQL 中指定 NOLOCK？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:16:44.580

Why are you getting a deadlock? SELECT on its own cannot deadlock with another SELECT. There must be more happening. [Capture the deadlock XML graph](http://msdn.microsoft.com/en-us/library/ms190465.aspx) and post it here so we can help you analyze it. Once we have the deadlock understanding we can recommend a solution, which is almost always a required index which you're missing.

Do **NOT** enable dirty reads (NOLOCK hints or read uncommitted isolation level), that is not the right approach. [Dirty reads are inconsistent reads](http://blogs.msdn.com/b/sqlcat/archive/2007/02/01/previously-committed-rows-might-be-missed-if-nolock-hint-is-used.aspx) and return *incorrect* data. If needed, [row versioning-based reads](http://msdn.microsoft.com/en-us/library/ms177404%28v=sql.105%29.aspx) may be required, that's [how this very site](http://www.codinghorror.com/blog/2008/08/deadlocked.html) once solved it's issues.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T05:00:26.523

我在[Scott Hanselman 的](http://www.hanselman.com/blog/GettingLINQToSQLAndLINQToEntitiesToUseNOLOCK.aspx)博客文章中查看了它。像这样尝试的示例

```
ProductsNewViewData viewData = new ProductsNewViewData();
using (var t = new TransactionScope(TransactionScopeOption.Required,
new TransactionOptions { 
    IsolationLevel = System.Transactions.IsolationLevel.ReadUncommitted 
}))
{
  viewData.Suppliers = northwind.Suppliers.ToList();
  viewData.Categories = northwind.Categories.ToList();
} 
```

希望它对你有帮助。在他的博客文章中阅读更多内容。

# python - eclispe 中有什么方法可以通过单击将子类链接到母类

> ID：12720481
> 
> 赞同：1
> 
> 时间：2012-10-04T04:56:54.633
> 
> 标签：python, django, eclipse, ide

我不知道什么是正确的提问方式，但我会在这里解释。

假设这是我在 eclispe 中的类 django

```
class DcumentCreate(ParentCreate):
    parent_model = models.Objective 
```

现在这意味着我正在从类扩展`ParentCreate`类。

现在在 Eclipse 中是否有任何设置我应该能够单击那些 ParentCreate 文本并打开该类或文档，而不是浏览文件夹

我真的不知道这是否可能，但只是问

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:21:38.133

在我的 PyDev 中，它似乎已经有一年的历史了，可以将鼠标放在任何标识符上，然后出现一个工具提示；工具提示有一个指向定义位置的可点击链接。

但是请注意，如果您碰巧有多个 ParentCreate 类，那么 Python IDE 很难真正知道其中哪一个是正确的。

@calderonmluis 提到的 ctrl-click 也有效。

# jquery - 画布图像像素处理优化

> ID：12720482
> 
> 赞同：2
> 
> 时间：2012-10-04T04:57:18.130
> 
> 标签：jquery, html, canvas

我已经使用画布标签完成了一个小的全屏背景覆盖，但已经碰到了性能墙。我所做的是创建一个名为#OverlayPic 的容器并将其设置为100% x 100%，显示：无。这个容器里面是我的画布元素。

触发时，jQuery 将图像加载到画布上并将像素信息作为数组获取。switch 语句接受用户为他们想要的过滤效果设置的选项。代码一切正常，但速度非常慢（我认为这主要是由于我的结构方式，但我不确定更好的方法）。

```
updateCanvas:function(onResize){
    var img=new Image(); img.src=Main.ConSRC,
    img.onload=function(){
        var canvas=document.getElementById('Box_Canvas'),  
            ctx=canvas.getContext("2d"),
        winW=$(window).width(), winH=$(window).height(), 
            imgW=this.width, imgH=this.height, smallestSide=Math.min(imgW,imgH);

    // SETUP IMAGE PROPORTIONS
    switch(smallestSide){
       case imgW: 
           var width=winW,height=width*(imgW/imgH);
           if(height < winH){ var height=winH, width=height*(imgW/imgH); };
        break;
        case imgH: 
           var height=winH,width=height*(imgW/imgH);
           if(width < winW){ var width=winW, height=width*(imgH/imgW); };
        break;
    };

        // DRAW IMAGE ON THE CANVAS
        ctx.clearRect(0, 0, width*1.3, height*1.3 );
    ctx.drawImage(img,0,0,width*1.3,height*1.3);

    // IMAGE FILTERS
    var imgdata=ctx.getImageData(0, 0, width, height), pix=imgdata.data, l=pix.length;
    switch($this.data.bg_pic_filter){
          // all filter code cases are here...
    };          

    // APPLY THE FILER
    ctx.putImageData(imgdata, 0, 0);

    // FADE IN OVERLAY
    if(!onResize){
           Main.OBJ.$OverlayPic.fadeTo( $this.data.bg_pic_speed, $this.data.bg_pic_opacity);
        };

    };
}, 
```

这个函数在 2 个地方被调用。

1.  当用户单击分配的元素时，叠加层会淡入，并且画布会加载过滤后的图像。

2.  在窗口调整大小事件（onResize arg）上，为了保持所应用的过滤器，否则它只是默认返回原始图像？

有人有任何优化建议吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T16:09:21.620

嗯，你看，你有一个巨大的图像，即使它只有 600x600，它仍然是 36,000 像素，所以即使你`//all filter code cases are here...`有类似的东西

```
case default:
   var totalPixels = imagedata.data.length * .25; //divide by 4 now, since dividing is expensive compared to multiplication ( multiply by a decimal place is sometimes cheaper than dividing using /, most browsers have fixed this though[ this is important if you need to know multiple colors at once ] )
   _data = imagedata.data
   for( var i = totalPixels-1; i>=0; i-- ){

     var index = i * 4 // this might be slower (creating a variable inside the loop) -- see next 2 lines

     _data[i * 4] += 1 // these next 2 lines are identical
     _data[index] += 1 // it might be faster to create an index, so you don't have to multiply, though usually multiplying is cheap and creating a variable inside a loop is expensive, so even if you have to multiple i * 4 a bunch, it might be faster than creating index

      _data[index + 1] +=2 //green
      _data[index + 2] +=2 //blue
      _data[index + 3] +=2 //blue

   } 
```

所以，如你所见，你做了多次 3600 次 X 4 次（每个像素 1 次）

这就是测试很重要的地方——比较相同的东西在不同浏览器中的性能提升

使用 / 4 除有时比乘以小数 * .25 如果除以 2 的倍数（例如 x / 2），则可以执行 x >> 1 或 x << 1，称为按位移位一些浏览器已经大大加强了它们的乘法，以至于实际上不再这样做了（chrome）

综上所述，假设您不能使用 web gl 着色器。看，到目前为止，我们已经有了一个函数来循环遍历每个像素，一次 1 个，通过处理器，这是单线程的，而且速度很慢。

来自[https://github.com/mrdoob/three.js/](https://github.com/mrdoob/three.js/) - THREE.js，它允许您使用着色器，因此您可以通过视频卡一次渲染多个像素，这确实是唯一的方法当您必须触摸每个像素时获得更快的速度。这需要一个支持 webGL 的浏览器，这意味着无论如何你都可能支持画布，所以希望这个答案有效。

# google-app-engine - GWT 应用程序未在应用程序引擎上上传

> ID：12720484
> 
> 赞同：1
> 
> 时间：2012-10-04T04:57:36.103
> 
> 标签：google-app-engine, gwt

我正在尝试将使用 GWT eclipse 插件创建的简单网络应用程序上传到谷歌应用程序引擎。我已经创建并尝试了三个 id，但我无法部署，相反它会引发错误

" `This application does not exist`"

```
ERROR:
Unable to update app: Error posting to URL: https://appengine.google.com/api/appversion/create?app_id=lathik6&version=1&
404 Not Found
This application does not exist (app_id=u'lathik6'). 
```

我在windows7中使用eclipse3.6和jdk1.6。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T12:23:21.307

您是否在 gwt 应用程序中添加了 App 引擎支持。. ?? 如果没有，则添加支持。

# ruby-on-rails - 使 Vim 的全能上下文感知 ruby /rails 的最佳方法是什么？（即智能感知）

> ID：12720489
> 
> 赞同：4
> 
> 时间：2012-10-04T04:58:07.603
> 
> 标签：ruby-on-rails, vim, intellisense, omnicomplete

Vim 的自动完成功能似乎只是把厨房水槽扔给我，希望其中一个词是我需要的。如果我知道成员方法的前几个字符，我没问题，但有时我不记得成员方法是 'obj.visible' 还是 'obj.is_visible'，在这种情况下，我有 50-1000 个选项涉过。

考虑以下代码：

```
 class MyClass
    def some_method
    end

    def another_method
    end
  end

  def a_global_method(stuff)
    return stuff + " more stuff"
  end 
```

现在如果我输入

```
obj = MyClass.<c-x><c-o> 
```

我有 50 个选项，从“<”开始。'new' 在这里将是一个很好的默认值。哎呀，即使我键入 n，cx/co new 也不是第一个选项。

情况变得更糟：

```
obj = MyClass.new
obj.<c-x><c-o> 
```

这又给了我 50 个选项，也许它们都是合法的，但为什么不默认为 'some_method' 和 'another_method' 呢？

但是等等，所有选项都不合法：

```
obj = MyClass.new
obj.a<c-x><c-o> 
```

这只给了我 2 个选项，但其中之一是“a_global_method”。所以显然它完全不知道类或模块是什么，至少在我当前的设置下。如果无论如何我必须输入一半的成员名称，我也可以使用。

说到这里，总结一下我目前的设置如下： rails.vim 设置如下：

```
"omnifunc=rubycomplete#Complete is set by rails.vim
autocmd FileType ruby,eruby let g:rubycomplete_buffer_loading = 1
autocmd FileType ruby,eruby let g:rubycomplete_rails = 1
autocmd FileType ruby,eruby let g:rubycomplete_classes_in_global = 1
autocmd FileType ruby,eruby let g:rubycomplete_include_object = 1
autocmd FileType ruby,eruby let g:rubycomplete_include_objectspace = 1 
```

我已经是 12 年以上的忠实 vim 用户，但完成对我来说从来没有真正正确地工作过。我在工作中使用 Visual Studio，并且经常使用智能感知作为拐杖。由于我在 Rails 中编码的频率不足以记住每种方法，因此一点点智能的爱会大有帮助。

有什么插件很好用吗？我只是缺少一个设置吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-17T02:10:09.750

你试过`YouCompleteMe`吗？

Here [You Completeme](https://github.com/Valloric/YouCompleteMe)

# android - 在操作栏中填充菜单项 sherlock

> ID：12720494
> 
> 赞同：5
> 
> 时间：2012-10-04T04:58:26.900
> 
> 标签：android, android-actionbar, actionbarsherlock

我有**标题名称**、**搜索**和**操作溢出**菜单项的操作栏，尽管我为此使用 ActionBarSherlock 库。我想删除操作栏中的搜索和操作溢出菜单项的填充。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-04T06:19:15.927

检查此链接：

[ActionBarSherlock - 如何设置每个操作栏图标的填充？](https://stackoverflow.com/questions/10759282/actionbarsherlock-how-to-set-the-padding-of-each-actionbars-icon#answers-header)

这个想法是创建一个新主题，其父主题为**Theme.Sherlock**

和较低的**actionButtonStyle** `minWidth`属性

```
<style name="MyTheme" parent="Theme.Sherlock">
    <item name="actionButtonStyle">@style/MyActionButtonStyle</item>
</style>

<style name="MyActionButtonStyle" parent="Widget.Sherlock.ActionButton">
    <item name="android:minWidth">28dip</item>
</style> 
```

并将此主题应用于清单中的活动。

# javascript - jQuery：单击元素之外的任何其他位置时隐藏元素

> ID：12720495
> 
> 赞同：51
> 
> 时间：2012-10-04T04:58:26.983
> 
> 标签：javascript, jquery

`div`如果用户单击除元素之外的任何位置，我正在尝试实现隐藏。`toggle()`如果用户单击按钮，我将执行以下代码。`Details`如果元素可见，我希望按钮单击保持加号，对屏幕的其他部分做出反应。

```
$('.nav-toggle').click(function() {
  //get collapse content selector
  var collapse_content_selector = $(this).attr('href');

  //make the collapse content to be shown or hide
  var toggle_switch = $(this);
  $(collapse_content_selector).toggle(function() {
    if ($(this).css('display') == 'none') {
      //change the button label to be 'Show'
      toggle_switch.html('Show Details');
    } else {
      //change the button label to be 'Hide'
      toggle_switch.html('Hide Details');
    }
  });
}); 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-10-04T05:07:10.330

您可以求助于[事件委托](https://davidwalsh.name/event-delegate)的概念。

```
$(function() {
    $(document).on('click', function(e) {
        if (e.target.id === 'div1') {
            alert('Div Clicked !!');
        } else {
            $('#div1').hide();
        }

    })
});​ 
```

检查[小提琴](http://jsfiddle.net/sushanth009/tSx22/)

我不明白你所说的与其他部分集成是什么意思。这是基本思想。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T05:05:38.020

`jQuery .blur()`当用户单击其他元素（如链接、按钮等）时，您可以使用该功能隐藏 div

当元素失去焦点时会触发 blur 事件（用户在 DOM 树上选择另一个元素）

我不明白与您的切换的链接。如果您的切换按钮管理 DIV，则它在切换功能中，您应该将 hide()/show() 放在 div 上，同时更新按钮的文本。

# jquery - 如何在phonegap ios中使用jquery将数据从一个html页面传递到另一个html

> ID：12720498
> 
> 赞同：1
> 
> 时间：2012-10-04T04:58:43.163
> 
> 标签：jquery, ios, cordova

我正在研究Phonegap ios。我想知道如何使用 jquery 将数据从一个 html 页面传递到另一个页面。

在第一个 html 页面 (Home.html) 中，我有一个文本字段来输入用户名。在这有**下一步**按钮。当我单击下一步按钮时，我必须将我为 TF 输入的数据移动到其他 html 页面并将其显示为标签。

由于我是 phonegap ios 的新手，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:00:42.740

您可以使用[jQuery post](http://api.jquery.com/jQuery.post/)来发布您想要下一页的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:01:43.777

就像开发普通网页一样。将表单提交到其他页面，然后在其他页面上从查询字符串中获取数据

# xcode - 时间未在范围内声明，我如何找到包含文件使用的时间？

> ID：12720501
> 
> 赞同：1
> 
> 时间：2012-10-04T04:58:53.587
> 
> 标签：xcode, macos, cocoa, time

这让我发疯，我已经在这个问题上停留了几个小时。我在项目的几个文件中使用 time.h，当我尝试使用函数 time() 时，每个文件都会出现错误“时间未在范围内声明”。奇怪的是 time_t 被定义了，我没有得到任何错误。我想也许它以某种方式引入了 C++ 版本，所以尝试使用命名空间 std:: 但这也不起作用。struct tm 和 localtime 也没有在范围内声明。顺便说一句，所有代码在其他系统上都可以正常编译。

我在这里发疯了，我怎样才能弄清楚文件正在使用什么头文件，定义了什么或发生了什么？我不知道如何继续，请帮助！

我在 Xcode 3.2.5 中使用 GCC 4.2 和 10.6 SDK

如果您想在这里查看代码，尽管它没有用，但我认为它必须是编译器/包含文件问题。

```
 time_t long_time;
            time(&long_time);
            tm* st = localtime(&long_time);
            sprintf(temp, "%02d:%02d:%02d %02d.%02d.%04d  ",
                    st->tm_hour, st->tm_min, st->tm_sec, st->tm_mon+1, st->tm_mday, st->tm_year+1900); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T17:44:07.880

发现了问题。我正在使用 enet，它有一个名为 time.h 的头文件，因为 xcode 在子目录下找不到 enet 文件我将它包含在我的用户头文件搜索路径中，显然编译器首先查看用户路径并拉入 enet time.h 而不是系统一

# objective-c - 在 Cordova 2.1.0 中查看控制器接口和实现文件

> ID：12720503
> 
> 赞同：2
> 
> 时间：2012-10-04T04:59:03.970
> 
> 标签：objective-c, ios, xcode, cordova

我安装了新发布的phonegap( `cordova`)版本`2.1.0`，用于`IOS`app开发，默认情况下`Classes dir`，`AppDelegate`和`MainViewController`（包含视图函数`webViewDidFinishLoad`，`webViewDidStartLoad`等）接口和实现文件都来了。我可以删除`MainViewController`文件并仅将`AppDelegate`文件用于所有内容，就像以前在`phonegap 1.3`.

任何帮助表示赞赏。

谢谢

# javascript - 移动 Webapp：用 PHP 或 Javascript 呈现数据列表？

> ID：12720504
> 
> 赞同：1
> 
> 时间：2012-10-04T04:59:07.400
> 
> 标签：javascript, performance, web-applications

我目前正在开发一个针对移动设备的 webapp，它基本上由几个长而复杂的列表、大量数据、可折叠的级联元素组成。

我正在将数据显示为 XML，现在我看到它有两个选择：

*   在服务器上构建列表并将 HTML 发送到客户端
*   将 XML 发送到客户端，使用 Javascript/jQuery 构建列表

不确定哪个更有效，传输的数据越少越好，（尤其是旧的）手机上的负载越少也是好的。

我没有看到的任何其他优点/缺点？建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:22:02.643

您发送的数据越少越好。

我经常喜欢制作一页的应用程序。所有需要的数据都通过 AJAX 或 Web Sockets 加载（查看 Socket.IO 以获得一个很好的包装器，它与不直接支持 Web Sockets 的移动浏览器兼容）。这样，您可以获得更流畅的用户体验，并在执行此操作时节省带宽。

这种方法的缺点是SEO。搜索引擎不会运行您的 JavaScript，因此不会索引您正在显示的任何数据。对于类似“应用程序”的站点，这通常不是问题。如果您的网站更多基于内容，那么这对您来说可能是个问题。有很多方法可以解决这个问题，而渐进式增强对解决这个问题大有帮助。您需要决定这是否适合您和您的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-03T09:02:06.653

Nicholas C. Zakas 关于velocity 2013 的介绍可以帮助您。 [JavaScript 已经够了](http://www.slideshare.net/nzakas/enough-withthejavascriptalready)。性能或 js 渲染非常糟糕，尤其是对于移动 webapp。我们在某些应用程序中将数据列表表单 js 的呈现更改为 php。您应该尝试比较性能或这两种方式，并选择更好的一种。我建议你在 php 中渲染大列表，只是为了性能。

# algorithm - 范围查询的数据结构

> ID：12720505
> 
> 赞同：10
> 
> 时间：2012-10-04T04:59:10.153
> 
> 标签：algorithm, data-structures

我最近被问到关于以下问题的编码问题。我有一些解决这个问题的方法，但我不太确定这些方法是否最有效。

* * *

问题：

编写一个程序来跟踪一组文本范围。起点和终点将是字符串。

```
Text range example : [AbA-Ef]
 Aa would fall before this range
 AB would fall inside this range
 etc. 
```

字符串比较就像 'A' < 'a' < 'B' < 'b' ... 'Z' < 'z'

我们需要在这个范围内支持以下操作

*   **添加范围**- 如果适用，这应该合并范围
*   **删除范围**- 从跟踪范围中删除范围并重新计算范围
*   **查询范围**- 给定一个字符，函数应该返回它是否是任何跟踪范围的一部分。

请注意，跟踪范围可以是不连续的。

* * *

我的解决方案：

我想出了两种方法。

1.  将范围存储为双向链表或
2.  将范围存储为某种平衡树，叶节点具有实际数据，并且它们以链表的形式相互连接。

您是否认为这个解决方案足够好，或者您可以想到任何更好的方法来做到这一点，以便这三个 API 为您提供最佳性能？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T06:32:53.070

您可能正在寻找**[区间树](http://en.wikipedia.org/wiki/Interval_tree)**。

将数据结构与您的自定义比较器一起使用以指示“范围内的内容”，您将能够有效地执行所需的操作。

**请注意**，区间树实际上是实现您的第二个想法的有效方法 ( `Store ranges as a some sort of balanced tree`)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:20:21.240

我不清楚“删除范围”操作应该做什么。可以;

*   删除先前插入的范围，并重新计算剩余范围的合并？

*   停止跟踪已删除的范围，无论其部分已添加多少次。

这在算法上并没有太大的区别。这只是簿记。但重要的是要澄清。另外，范围是封闭的还是半开放的？（另一个不影响算法但影响实现的细节）。

解决这个问题的基本方法是将跟踪集合并到不相交（非重叠）范围的排序列表中；作为向量或二叉搜索树，或者基本上任何支持 O(log n) 搜索的结构。

一种方法是将每个不相交范围的两个端点放入数据结构中。要确定目标值是否在范围内，请查找大于目标的最小端点的索引。如果索引是奇数，则目标在某个范围内；甚至意味着它在外面。

或者，通过起点索引所有不相交的范围；通过搜索不大于目标的最大起点找到目标，然后将目标与关联的终点进行比较。

我通常对排序向量使用第一种方法，如果 (a) 空间利用很重要并且 (b) 插入和合并相对较少，则这种方法是合理的。对于二叉搜索树，我选择第二种方法。但它们仅在细节和常数上有所不同。

合并和删除并不难，但有很多令人讨厌的情况。您首先找到与要插入/删除的范围的端点相对应的范围（使用标准查找操作），删除两者之间的所有范围，然后调整端点以纠正部分重叠的范围。虽然查找操作始终为 O(log n)，但树/向量操作为 o(n)（如果插入/删除的范围很大，无论如何）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:35:46.797

大多数语言，包括 Java 和 C++，都有某种有序映射或有序集合，您可以在其中查找一个值并找到一个值之后的下一个值或值之前的第一个值。您可以将其用作构建块 - 如果它包含一组不相交的范围，那么它将具有范围的最小元素，然后是范围的最大元素，然后是范围的最小元素，然后是范围的最大元素范围等。添加范围时，您可以检查是否保留了此属性。如果没有，您需要合并范围。同样，您希望在删除时保留它。然后，您可以通过查看查询点之前是否有最小元素和之后是否有最大元素来进行查询。

如果您想从头开始创建自己的数据结构，我会考虑某种 radix trie 结构，因为这样可以避免进行大量重复的字符串比较。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-01T03:08:21.993

我认为您会选择 B+ 树，这与您提到的第二种方法相同。

以下是 B+ 树的一些性质：

1.  所有数据都存储在叶节点中。
2.  每片叶子都处于同一水平。
3.  所有叶节点都有到其他叶节点的链接。

以下是一些应用程序 B+ 树：

1.  它减少了在树中查找元素所需的 I/O 操作数。
2.  常用于数据库索引的实现。
3.  B+ 树的主要价值在于在面向块的存储上下文中存储数据以进行有效检索 - 特别是文件系统。
4.  NTFS 使用 B+ 树进行目录索引。

基本上它有助于范围查询查找，最小化树遍历。

# emacs - 在 emacs 中禁用邮件 23

> ID：12720511
> 
> 赞同：1
> 
> 时间：2012-10-04T04:59:31.407
> 
> 标签：emacs, key-bindings, emacs23

我想知道是否可以在 emacs 23 中禁用邮件。基本上，我偶尔按下`C-x``m`它会在我的主目录中创建一个邮件文件夹，这让我很恼火。（我还想将其重新映射到“执行扩展命令”）。

我试过了

```
(global-unset-key "\C-x m")
(global-set-key (kbd "C-c m") 'execute-extended-command) 
```

但它似乎不影响任何事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:51:03.920

这将设置绑定`C-x``m`到`execute-extended-command`函数：

```
(global-set-key "\C-xm" 'execute-extended-command) 
```

或者

```
(global-set-key [?\C-x ?m] 'execute-extended-command) 
```

或者

```
(global-set-key (kbd "C-x m") 'execute-extended-command) 
```

# javascript - 如何在 firefox 插件中从 main.js 调用内容脚本函数

> ID：12720512
> 
> 赞同：6
> 
> 时间：2012-10-04T04:59:30.243
> 
> 标签：javascript, firefox-addon, firefox-addon-sdk

我是 Firefox 插件开发的新手。

我需要一种从 Firefox 插件中的 main.js 调用 contentscript 函数的方法。

我在每个打开的网页上都注入了 contentscript xyz.js。

我想从我的 main.js 调用我的 contentscript xyz.js 中存在的函数 abc() 点击我在导航工具栏中放置的按钮。

下面是我的代码。

主.js

```
..
function addToolbarButton() {
    var document = mediator.getMostRecentWindow('navigator:browser').document;        
    var navBar = document.getElementById('nav-bar');
    if (!navBar) {
        return;
    }
    var btn = document.createElement('toolbarbutton');  
    btn.setAttribute('id', 'mybutton-id');
    btn.setAttribute('type', 'button');
    btn.setAttribute('class', 'toolbarbutton-1');
    btn.setAttribute('image', data.url('icon_16.png'));
    btn.setAttribute('orient', 'vertical');
        btn.setAttribute('label', 'Test');
        btn.addEventListener('click', function() {
            tabs.activeTab.attach({
            //

                abc()     //here i want to call the function present in my contentscript 

            //
        });
        }, false)
    navBar.appendChild(btn);
}

.. 
```

xyz.js

```
..

function abc(){
//here is my code logic
}

.. 
```

我开始知道消息传递是这样做的方法，但无法在 Firefox 中实现。

请帮助我，我被困住了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T07:35:24.320

您不能直接调用该函数，您需要向内容脚本发送消息。意思是这样的：

```
var worker = tabs.activeTab.attach({
  ...
});

// Some time later
worker.postMessage("doABC"); 
```

在内容脚本中：

```
self.on("message", function(message) {
  if (message == "doABC")
    abc();
}); 
```

有关与内容脚本通信的更多信息，请参阅[文档](https://addons.mozilla.org/en-US/developers/docs/sdk/1.10/dev-guide/guides/content-scripts/using-postmessage.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-12T21:23:10.233

根据文档，它应该以这种方式工作；

但是，我有类似的问题 尚未解决[从 ActionButton 访问预加载的内容脚本。](https://stackoverflow.com/questions/25273925/firefox-addon-accessing-pre-loaded-content-script-from-actionbutton)

```
// main.js
function handleClick(state) {
    var myWorker = tabs.activeTab.attach({

    });   
    myWorker.port.emit("initialize", "Message from the add-on");
}

// content.js
/*BEGIN Listen events coming from Add-on script*/
self.port.on("initialize", function () {
    alert('self.port.on("initialize")');
    return;   
}); 
```

# visual-studio - 构建项目时将内容文件输出到特定文件夹

> ID：12720513
> 
> 赞同：10
> 
> 时间：2012-10-04T04:59:33.410
> 
> 标签：visual-studio, visual-studio-2012, build-process

我有 VS 2012 项目，其结构如下：

```
Project
   Folder1
      file.xml
      schema.xsd
      code.cs
   Folder2
      code1.cs
      code2.cs 
```

我设置了和的`Copy to output directory`属性，`file.xml`并`schema.xsd`希望`Copy always`将它们输出到程序集输出的同一文件夹（`bin\Debug`），但它们总是复制到文件夹`bin\Debug\Folder1`。有没有办法在不将文件移动到项目根目录的情况下实现我的目标？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-29T14:48:26.513

我建议您使用 Post-built 事件脚本来执行此操作。它并不像听起来那么忙碌，并为您提供了很大的灵活性。

*   右键单击您的项目并选择**Properties**。
*   转到**Build Events**选项卡，然后单击**Edit Post-build...**

（见下面的截图）

您现在可以指定每次成功构建项目后要执行的 shell 命令。以下实现了您问题中的示例：

```
copy "$(ProjectDir)Folder1\file.xml" "$(TargetDir)"
copy "$(ProjectDir)Folder1\schema.xsd" "$(TargetDir)" 
```

`$(ProjectDir)`并且`$(TargetDir)`是插入与您的项目相关的相应值的*宏。*您可以从编辑窗口的宏菜单中选择和插入宏。

上面包含引号，因为您的`ProjectDir`and`TargetDir`可能解析为包含空格的完整路径，`copy`如果空格不存在，这将破坏命令。

![打开项目属性](../Images/a70bf604c8bcf8e8134e8525b56204bf.png)

![编辑后期构建](../Images/1cc1d5f10f7b33683372c2fa6e436245.png)

# android - Android - 更改保证金问题？

> ID：12720514
> 
> 赞同：3
> 
> 时间：2012-10-04T04:59:36.453
> 
> 标签：android, android-linearlayout, margin

我有一个主要的线性布局，其中包含动态生成的线性布局。我在 ACTION_DOWN 上为这些布局设置动画。但是，如果我尝试更改一种布局的边距（顶部或底部），它也会影响其他布局。如何在不影响其他布局的情况下更改一个布局边距。

任何帮助将不胜感激。

谢谢。

**编辑**

```
public View getLinearView() {
    ChildLinearLayout linearLayout = new ChildLinearLayout(context);
    LayoutParams layoutParams = new LayoutParams(500, 500);
    linearLayout.setLayoutParams(layoutParams);
    linearLayout.setBackgroundColor(Color.RED);
    layoutParams.setMargins(20, 20, 20, 20);
    layoutParams.gravity = Gravity.CENTER_HORIZONTAL;
    TextView textView = new TextView(context);
    textView.setText("Hello World");
    linearLayout.addView(textView);
    System.out.println("View Added");
    views.add(linearLayout);
    return linearLayout;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:48:21.057

我想既然你打电话

```
layoutParams.setMargins(20, 20, 20, 20) 
```

对于每个动态生成的布局，如果您更改这些值，那么它将影响您的每个动态生成的布局。

相反，你可以改变你的

`getLinearView() method to getLinearView(int margin_value)`

每次为动态生成的布局调用此方法时，您都可以为该特定布局传递所需的值。

例如：如果我有 5 个布局，并且我想将第一个的边距设置为 50，其他设置为 20，那么

```
for(int i=0;i<5;i++)
{
 if(i==0)
  view=getLinearView(50);
 else
  view=getLinearView(20);
} 
```

# tfs - 从正常解决方案迁移到 TFS 错误

> ID：12720516
> 
> 赞同：1
> 
> 时间：2012-10-04T05:00:30.200
> 
> 标签：tfs

> **可能重复：**
> [将项目放入 TFS 后的错误和警告](https://stackoverflow.com/questions/12720718/errors-warnings-after-putting-project-in-tfs)

当解决方案没有 tfs 时，我将解决方案迁移到 TFS 后，我面临这些错误和警告，它正常工作，出现 0 个错误和 0 个警告

> 错误 108 以下方法或属性之间的调用不明确：'ExtensionMethods.ChkDBNull(object)' 和 'ExtensionMethods.ChkDBNull(object)' D:\Anuj\Projects\Travel\TravelsManagementSystem\App_Code\DAL\Master\DALCountry.cs 52 40 旅游管理系统

我在 5 个地方使用了这种扩展方法，在所有五个地方都出现了相同的错误，并且有超过 200 个警告

警告 1 'X.cs' 中的类型 'X' 与 ' ' 中的导入类型 'X' 冲突`~\bin\TravelsManagementSystem.dll`。使用 X.cs' 中定义的类型。

# c++ - Cython：使用来自基类的纯虚方法的 C++ 共享库和未定义符号

> ID：12720520
> 
> 赞同：3
> 
> 时间：2012-10-04T05:01:10.643
> 
> 标签：c++, shared-libraries, cython, pure-virtual, undefined-symbol

我使用 g++ 和 -fPIC（使用 eclipse）构建了一个 .so C++ 库。

仍然使用eclipse，我链接了这个库并在另一个C++项目中使用它没有任何问题。

但是，当我使用相同的库构建 Cython 项目以生成 python 扩展时，使用：

```
from distutils.core import setup
from distutils.extension import Extension
from Cython.Distutils import build_ext

setup(
    cmdclass = {'build_ext': build_ext},
    ext_modules = [
    Extension("cyelp", 
              sources=["cyelp.pyx", \
                       "adapter/ATestClass.cpp", \
                       "adapter/ALabSimulatorTime.cpp", \
                       ],
              libraries=["elp"],
              language="c++",
              )
    ]
) 
```

“libelp.so”是提到的库，构建也很好：我得到了我的 cyelp.so 库。

当我在运行时从 python 端脚本从库中获取特定类时，就会出现问题：

这是我的 cython 类（继承自 ALabSimulationTime:LabSimulationTime 类，实现方法 FireEvent() - 在 LabSimulationTime 中声明为“纯虚拟”的方法）：

```
cimport cpython.ref as cpy_ref

cdef extern from "adapter/ALabSimulatorTime.h" namespace "elps" :
    cdef cppclass ALabSimulatorTime:
        ALabSimulatorTime(cpy_ref.PyObject *obj)
        # Virtual overridable
        void ResetTime()
        double TimeStep()
        void FireEvent()
        void StepSimulation()
        int EndSimulation()
        void RunSimulation()
        # Others
        void UpdateEventsRate(double rate)
        void SetEndTime(double end_time)
        void SetOutputTimeStep(double out_time_step)
        double GetTime()
        int GetNbFiredEvents()
        void SetTime(double time)

cdef class PyLabSimulatorTime:
    cdef ALabSimulatorTime* thisptr

    def __cinit__(self):
       self.thisptr = new ALabSimulatorTime(<cpy_ref.PyObject*>self)

    def __dealloc__(self):
       if self.thisptr:
           del self.thisptr

    cpdef ResetTime(self):
        self.thisptr.ResetTime()

    cpdef double TimeStep(self):
        return self.thisptr.TimeStep() 
```

在这里，我的 python 加载尝试：

```
from cyelp import PyLabSimulatorTime; 
```

最后，这是错误消息：

```
Traceback (most recent call last):
  File "src/Spacial/BdmLsim2.py", line 1, in <module>
    from cyelp import PyLabSimulatorTime;
ImportError: setup/cyelp.so: undefined symbol: _ZN4elps16LabSimulatorTime9FireEventEv 
```

事实是，如果我从头文件中重新定义 ALabSimulatorTime 类中的“FireEvent()”方法，则不会发生这种情况：

```
virtual void FireEvent() {}; 
```

但是如果我从“.cpp”文件重新定义方法，确实会发生：

```
void ALabSimulatorTime::FireEvent()
{
    //...
} 
```

注意：如果我从基类“LabSimulatorTime”将 FireEvent 转换为“非纯”，一切正常。

当然，我可以尝试更具体一些，但可能你们中的一些人已经对正在发生的事情有所了解。

非常感谢

# java - Windows 注册表——子项列表

> ID：12720521
> 
> 赞同：2
> 
> 时间：2012-10-04T05:01:14.200
> 
> 标签：java, registry

我需要列出位于以下部分的 Windows 注册表**子项的名称 -**

**HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\Interfaces **

例如，我有这个 -

```
{138CB222-111B-4B51-80C9-88F9D69FB4B8}

{2BC51B32-5C8A-425D-9EB9-21FF787A2632}

{5D5FF183-9213-40AE-9E43-89F5F6DA6161}

{A2E02E9B-7262-45D1-88B2-D9B0C21763F9}

{A8427644-D51A-4D73-922D-BEA2FB68F663} 
```

即它们位于 -

```
+-HKEY_LOCAL_MACHINE
|
|-SYSTEM
| |
.. -CurrentControlSet
    |   
    |-Services
    | |
   ... -Tcpip
        |
        |-Parameters
       ...|
          |-Interfaces
          | |
         ...|+{138CB222-111B-4B51-80C9-88F9D69FB4B8}
            |+{2BC51B32-5C8A-425D-9EB9-21FF787A2632}
            |+{5D5FF183-9213-40AE-9E43-89F5F6DA6161}
            |+{A2E02E9B-7262-45D1-88B2-D9B0C21763F9}
            |+{A8427644-D51A-4D73-922D-BEA2FB68F663}
           ... 
```

Java中如何实现子键列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:28:12.017

您可能希望使用 JNA 库枚举密钥。请参阅[RegEnumKeyEx](http://jna.java.net/javadoc/platform/com/sun/jna/platform/win32/Advapi32.html#RegEnumKeyEx%28com.sun.jna.platform.win32.WinReg.HKEY,%20int,%20char%5B%5D,%20com.sun.jna.ptr.IntByReference,%20com.sun.jna.ptr.IntByReference,%20char%5B%5D,%20com.sun.jna.ptr.IntByReference,%20com.sun.jna.platform.win32.WinBase.FILETIME%29) -

# php - 在 linux debian 中发生新事件时提醒 php

> ID：12720531
> 
> 赞同：0
> 
> 时间：2012-10-04T05:02:05.780
> 
> 标签：php, c, linux

我有一个守护程序，可以在插入或移除新设备时在终端中打印，现在我希望它像在 linux 中打印的方式一样以 php 打印。这就像实时输出。当新设备插入 linux 时，它会提醒 php，而无需单击它只是在屏幕上打印的任何按钮。我的守护程序在 linux 中打印的内容也是 php 打印的。

我还有另一个扫描设备但不扫描守护进程的程序，我可以毫无问题地获得它的输出并将其打印在 php 中。

我应该如何在 php 中使用我的守护程序进行实时输出？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:49:41.360

> 它会在你不点击任何按钮的情况下提醒 php

所以你在谈论*客户端*PHP。

**最大的问题是提醒客户端浏览器。**

在*很短的时间内*，您可以忽略该问题并禁用所有缓冲并将守护程序输出发送到浏览器。从长远来看，它既不优雅也不真正起作用，而且它有……审美问题。此外，您根本无法真正操作输出客户端，至少不容易或干净。

所以你需要在客户端运行一个程序，这意味着Javascript。JS 和 PHP 程序必须通信，而且 PHP 还必须与守护进程通信，或者至少监视它在做什么。

有一些方法可以使用 Web Sockets，或者可能是 multipart-x-mixed-replace，但它们还不是很便携。

您可以刷新网页，但这很浪费，而且速度很慢。

在我看来，将通知发送到客户端浏览器的问题最好通过 AJAX 轮询来解决。您不会*立即*收到警报，但*会*在几秒钟内收到警报。

您将每隔 10 秒（10000 毫秒）从 AJAX 向 PHP 发送一个查询

```
function poll_devices() {
  $.ajax({
    url: '/json/poll-devices.php',
    dataType: 'json',
    error: function(data) {
      // ...
    },
    success: function(packet) {
       setTimeout(function() { poll_devices(); }, 10000);
       // Display packet information
    },
    contentType: 'application/json'
  });
} 
```

PHP会检查累积日志并发送情况。

另一种可能性是让 PHP 脚本*阻塞*长达 20 秒，不足以让 AJAX 超时并放弃，并在发生更改时立即返回。然后，您将使用异步 AJAX 函数来驱动轮询背靠背。

这样，异步函数启动并立即进入睡眠状态，同时 PHP 脚本也处于睡眠状态。20 秒后，呼叫返回并立即重新发出，再次休眠。

最终效果是保持一个连接不断打开，并且立即将更改回显到客户端 Javascript。但是，您必须管理连接中断。但是这样一来，每 20 秒您只发出*一个呼叫*，并且几乎可以立即收到警报。

服务器端 PHP 可以在开始时检查日志文件的大小（保存在会话中的最后读取位置），并在共享模式下保持打开只读`fgets()`，如果守护程序允许，则使用 阻止读取。

或者您可以将守护进程通过管道传输到`logger`，并将消息发送到 syslog。配置 syslog 以将这些消息发送到PHP 可读的特定*无缓冲文件。*现在 PHP 应该能够使用 , 和 完成所有操作`fopen()`，`ftell()`而`fgets()`无需额外的通知系统。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:16:43.267

Comments becoming long so I add a post here.

First off the redirection of `stderr` and `stdout` to file by `~$ my-daemon >> my_logfile 2>&1` - unless your daemon has a log-file option.

Then you could perhaps use [inotifywait](http://linux.die.net/man/1/inotifywait) with the `-m` flag on `modify` events (if you want to parse/do something on system outside PHP, i.e. by bash.)

Inotify can give you notification on various changes - This is i..e a short few lines of a bash script I use to check for new files in a specific directory:

```
notify()
{
    ...

    inotifywait -m -e moved_to --format "%f" "$path_mon" 2>&- |
    awk ' { print $0; fflush() }' |
    while read buf; do
        printf "NEW:[file]: %s\n" "$buf" >> "$file_noti_log"
            blah blah blah
        ...
     done
} 
```

What this does is: each time a file get **moved to** $path_mon the script enters inside the `while` loop and perform various actions defined by the script.

Haven't used inotify on PHP but this looks perhaps like what you want: [inotify_init](http://www.php.net/manual/en/function.inotify-init.php) (separate module in PHP).

[inotify](http://linux.die.net/man/7/inotify) check various events in one or several directories, or you can target a specific file. Check man inotifywait or inotify. You would most likely want to use the "modify" flag, "IN_MODIFY" under PHP: [Inotify Constants](http://www.php.net/manual/en/inotify.constants.php).

You could also write your own in C. Haven't read this page, but IBM's pages use to be quite OK : [Monitor file system activity with inotify](http://www.ibm.com/developerworks/linux/library/l-ubuntu-inotify/index.html)

Another option could be to use [PCNTL](http://php.net/manual/en/ref.pcntl.php) or similar under PHP.

# magento - 如何在 Magento 的产品列表中显示特定数量的产品？

> ID：12720533
> 
> 赞同：0
> 
> 时间：2012-10-04T05:02:24.730
> 
> 标签：magento, categories, product

我需要在主页上显示特定类别的产品。

所以我写了

```
 {{block type="catalog/product_list" category_id="3"  template="catalog/product/list.phtml"}} 
```

而且我需要将每页的产品数量限制为 6。所以如果我写`products_count="6"`，则无法正常工作

请帮助任何人...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T09:32:56.153

products_count="6" 不起作用。这是另一个有解决方案的用户提出的相同问题。 [Magento 限制主页中的产品数量](https://stackoverflow.com/questions/6760352/magento-limit-number-of-products-in-home-page)

# objective-c - 如何创建 Apple 邮件插件

> ID：12720536
> 
> 赞同：29
> 
> 时间：2012-10-04T05:02:41.967
> 
> 标签：objective-c, macos, cocoa, plugins

我将为 OS X Mail.app 应用程序创建一个邮件插件以获得一些附加功能。

我不知道从哪里开始，因为没有插件的官方文档。

谁能帮助我，我该如何开始这个项目。有没有初始链接或教程，请建议？

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2014-09-29T06:24:28.950

如前所述，编写 Apple Mail 插件并不简单，因为它只有一个私有插件 API，它完全没有文档记录，并且可以随着任何新版本的 Mail.app 更改。最好的代码示例是[GPGMail](https://github.com/GPGTools/GPGMail)，它是开源的并且仍然有效（已经[在 Yosemite 支持上工作](https://github.com/GPGTools/GPGMail/tree/yosemite)）。这是我成功地开始做的事情（完成后将把它放在 github 上）：

### 如何构建一个最小的 Apple Mail 插件（从 Mavericks 和 Xcode 6.0.1 开始）

1.  你需要在 XCode 中创建一个 OSX “Bundle”项目
2.  包装器扩展是`mailbundle`（在项目构建设置中的打包下）
3.  一个包需要存储在下面`~/Library/Mail/Bundles`（作为构建阶段添加一个复制文件操作，将其作为绝对路径目标，并将您的构建/文件夹中的 *.mailbundle 作为要复制的项目）
4.  对于开发，我已在我的运行方案中设置`/Applications/Mail.app`为可执行文件，以便在 XCode 中运行将构建它，复制包并启动邮件；请注意，此时您将收到来自 Mail 的错误消息，指出您的插件无法启动并被禁用
5.  你需要`SupportedPluginCompatibilityUUIDs`在 Info.plist 中提供一个列表，我[从 GPGMail 偷了它](https://github.com/GPGTools/GPGMail/blob/5baee96fa0e70e7f814c894e85a81713a999fa86/Resources/Info.plist#L45-L83)，这些[随着新的 Mail/OSX 版本而改变](http://hints.macworld.com/article.php?story=20130606035546805)
6.  使用[class-dump](http://stevenygard.com/projects/class-dump/)从 Mail.app 的私有 API 生成头文件
7.  起点是`MVMailBundle`，你必须从它继承，它有一种`registerBundle`方法可以吸引你
    *   我从生成的巨大头文件中提取了一个小的[MVMailBundle.h](https://github.com/GPGTools/GPGMail/blob/dev/MailHeaders/Mavericks_GM/MailUI/MVMailBundle.h)头文件，以包含在需要的地方（由 GPGMail 完成）
8.  创建一个新类`MyMailBundle`，继承自`NSObject`
    *   它需要一个`initialize`方法
    *   并将其设置为 Info.plist 中的“原理类”，以便在 Mail.app 加载捆绑包时运行它

```
#import <Cocoa/Cocoa.h>

@interface MyMailBundle : NSObject

+ (void)initialize;
@end 
```

9.  `initialize`实现：以前，您可以使用简单的方法并[直接继承](https://github.com/aaronharnly/Letterbox/blob/15e34007589bf27555e26a7b425659c3870dd13d/Letterbox-Leopard/Plugin/LetterboxBundle.h#L18)，就像[在 Letterbox 中所做的那样](https://github.com/aaronharnly/Letterbox/blob/15e34007589bf27555e26a7b425659c3870dd13d/Letterbox-Leopard/Plugin/LetterboxBundle.m#L35-L49)，但是，[由于 Objective-C 的 64 位运行时，](http://comments.gmane.org/gmane.mail.apple-mail.gpgpmail.user/10)您必须使用[GPGMail 所做的动态方法](https://github.com/GPGTools/GPGMail/blob/5dcb7a85726f06ba5d84ed4b4441e2d2cebd85a2/Source/GPGMailBundle.m#L137-L152)：
    *   用于`NSClassFromString`动态获取`MVMailBundle`类
    *   并`class_setSuperclass`从`<objc/runtime.h>`让你自己的类继承它
    *   然后调用`registerBundle`它铸造为`MVMailBundle`（需要包括`MVMailBundle.h`）

```
#import <objc/runtime.h>
#import "MVMailBundle.h"
#import "MyMailBundle.h"

@implementation MyMailBundle

+ (void)initialize
{
    NSLog(@"Loading MyMail plugin...");

    // since 64-bit objective-c runtimes, you apparently can't load
    // symbols directly (i.e. through class inheritance) and have to
    // resort to NSClassFromString
    Class mvMailBundleClass = NSClassFromString(@"MVMailBundle");

    // If this class is not available that means Mail.app
    // doesn't allow plugins anymore or has changed the API
    if (!mvMailBundleClass)
        return;

    // dynamically change super class hierarchy
#pragma GCC diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated"
    class_setSuperclass([self class], mvMailBundleClass);
#pragma GCC diagnostic pop

    // register our plugin bundle in mail
    [[((MyMailBundle *)self) class] registerBundle];

    NSLog(@"Done registering MyMail plugin.");
}
@end 
```

10.  添加一些`NSLog`日志调用以验证是否发生了正确的事情，当从 XCode 中运行/调试 Mail.app 或在 Console.app 的系统日志中时，它们将在 XCode 的控制台中可见
11.  这应该成功地在 Mail 中运行插件，没有错误！
12.  接下来的步骤涉及一些疯狂的事情，例如[MethodSwizzling](https://cocoadev.github.io/MethodSwizzling)和[ClassPosing](https://cocoadev.github.io/ClassPosing)来修改 Mail 的行为，其中 GPGMail 可以是一个[有用的示例](https://github.com/GPGTools/GPGMail/blob/525b9aec6a3420bb2c72ed4a8f31d4a1c59b03cb/Source/GMCodeInjector.m#L335-L348)。（我自己还没去过）

作为参考，这里有一些对我有帮助的资源：

*   [GPGMail](https://github.com/GPGTools/GPGMail)
*   [Adam Nash：准备为 Mac OS X 编写 Apple Mail.app 插件](http://blog.adamnash.com/2007/09/17/getting-ready-to-write-an-apple-mailapp-plug-in-for-mac-os-x/)- 一些不错的链接，但显然他从未完成该项目，所以没有代码
*   [James R. Eagan: Demystifying Mail.app Plugins on Leopard](http://eaganj.free.fr/weblog/?post/2009/07/14/Demystifying-Mail.app-Plugins-on-Leopard) - 使用 PyObjC 在 Python 中编写插件，解释了基本机制，非常有用
*   [Aaron Harnly：邮件插件模板](http://web.archive.org/web/20100612024558/http://harnly.net/2006/software/mail-plugin-template/mail-plugin-template-10/)- 我认为适用于 XCode 2，不幸的是，模板（下载 zip）在 Xcode 中不再用作模板，但代码仍然有用
*   [Aaron Harnly：信箱来源](https://github.com/aaronharnly/Letterbox)——来自同一个人，但也来自 2007 年，非常过时；包含[来自模板的自述文件](https://github.com/aaronharnly/Letterbox/blob/master/Letterbox-Leopard/ReadMe-Creating%20Plugins.html)，但如果您不能使用模板，它并没有真正的帮助。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T07:49:20.743

没有官方支持的方式来构建这样的工具 - 你需要开始尝试在没有任何官方支持的情况下连接到 Mail.app。

如果你想坚持这种事情，那么你需要了解 Mail.app 内部是如何工作的，这是一堆使用调试器和类转储来检查其他应用程序中的库：

[https://github.com/nygard/class-dump](https://github.com/nygard/class-dump)

您可能还需要一种将代码注入其他应用程序的方法，例如：

[https://github.com/rentzsch/mach_inject](https://github.com/rentzsch/mach_inject)

每次 Apple 更新 Mail.app 时，您都可能需要重做所有事情 :)

# java - 没有从java获取数据到mysql

> ID：12720537
> 
> 赞同：0
> 
> 时间：2012-10-04T05:03:06.103
> 
> 标签：java, mysql

我没有将数据输入 mysql

```
 void connectionDB() {
        try {
            Class.forName(fileReader.getdriver());
            String url = "jdbc:mysql://"+ fileReader.gethost() + ":" + fileReader.getDBport() +"/" + fileReader.getdbname();
            conn = DriverManager.getConnection(url, fileReader.getusername(),fileReader.getpasswd());
         } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException se) {
            se.printStackTrace();
        }
    }
public void snmp_mysql(String ipv6Address, String[] resString) {
try {
    stat = conn.createStatement();
    String sql =
        ("INSERT INTO Statistics3 VALUES ('" + ipv6Address + "','"
            + dateTime.trim() + "'," + battpercent + ")");
    stat.executeUpdate(sql);
    stat.close();

    System.out.println("updating");
 } catch (SQLException e) {
             e.printStackTrace();
             System.out.println("SQL statement is not executed!");
         }
    } 
```

该代码没有显示任何错误，它在 MySQL 中显示空集（0.01 秒）。以前它工作正常并得到输出。我没有做任何改变。我不知道为什么它不起作用。我在另一个项目中学习了另一个类，并在现有表 Statistics3 中添加了一些列，并为该类使用了 mysql。我没有在这个类中进行任何更改。这不会影响 mysql 知道当我运行项目时，我'在输出中间出现这些错误

```
java.sql.SQLException: Column count doesn't match value count at row 1
at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1073)
at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3597)
at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3529)
at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1990) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T05:29:51.410

您可以明确指定要插入数据的列。如您所见，您也可以跳过某些列。

```
String sql =
    "INSERT INTO Statistics3 (column1, column2, column4) VALUES ('" + ipv6Address
                            + "','" + dateTime.trim() + "'," + battpercent + ")"; 
```

`column1`、`column2`和`column4`是与您的值相对应的列 - `ipv6Address`、`datetime`和`battpercent`.. 在您的表中..

所以，如果你插入了一个列 - `column3`，那么你可以跳过它..它将获得你设置的默认值..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:45:43.360

> 向现有表 Statistics3 添加了一些列

有你的问题。值的数量与存在的列数不匹配。

您应该使用 SQL 语句的版本

```
 insert into table (col1,col2) values (val1,val2) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:57:32.530

插入查询中给出的值与数据库中的列不匹配。确保您的查询中的所有列（在您的表中）都有值。

# php - 在 PHP 中设置目标文件夹的正确语法

> ID：12720540
> 
> 赞同：1
> 
> 时间：2012-10-04T05:03:27.273
> 
> 标签：php, upload, directory

我正在尝试调整上传脚本以适应 000webhost。我不断收到有关目标文件夹不存在的错误。这就是我所拥有的：

```
define('DESTINATION_FOLDER','/uploads/'); 
```

我也试过

```
/public_html/uploads/ 
```

和

```
/subdomain/domain/com/uploads/ 
```

在示例中，我看到人们使用 /www/，但我不知道它在哪里。

在这种情况下使用的正确语法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:13:06.933

尝试这个：

```
define('DESTINATION_FOLDER',$_SERVER['DOCUMENT_ROOT'].'/uploads/'); 
```

如果平台独立性对您很重要，请考虑使用 PHP 常量 DIRECTORY_SEPARATOR：

```
define('DESTINATION_FOLDER',$_SERVER['DOCUMENT_ROOT'].DIRECTORY_SEPARATOR.
                            'uploads'.DIRECTORY_SEPARATOR); 
```

[http://php.net/manual/en/dir.constants.php](http://php.net/manual/en/dir.constants.php)

**编辑**：
在文档根目录下存储上传可能存在安全风险。除非您希望 Web 服务器可以直接访问这些文件，否则您应该考虑将它们存储在您的 Web 空间内的文档根目录之外。如果您在主机的“public_html”文件夹旁边创建了一个名为“uploads”的文件夹，您可以像这样访问它：

```
define('DESTINATION_FOLDER',$_SERVER['DOCUMENT_ROOT'].DIRECTORY_SEPARATOR.
                            '..'.DIRECTORY_SEPARATOR. // (up one level)
                            'uploads'.DIRECTORY_SEPARATOR); 
```

`/`或者直接指定文件夹的绝对路径（以 开头）。

# ruby-on-rails - has_one，belongs_to 我做错了什么？

> ID：12720542
> 
> 赞同：0
> 
> 时间：2012-10-04T05:03:37.820
> 
> 标签：ruby-on-rails, ruby-on-rails-3, form-for, belongs-to, has-one

我有用户，每个用户都设定了一个目标。因此，一个目标属于一个用户，一个用户拥有一个：目标。我试图在视图中使用 form_for 来允许用户设置他们的目标。

我想这就像微博（直接来自 Hartl 的教程），只是单数而不是复数。我已经查看了有关此问题的教程和问题，并尝试了许多不同的方法，但我无法使其正常工作。

我得到了 form_for 实际工作并且显然指向了正确的路线，但是我收到了以下错误，我不知道这意味着什么：

“减肥”的未定义方法“stringify_keys”：字符串

目标控制器

```
class GoalsController < ApplicationController
before_filter :signed_in_user

def create
 @goal = current_user.build_goal(params[:goal])
 if @goal.save
    redirect_to @user
 end
end

def destroy
    @goal.destroy
end

def new
    Goal.new
end

end 
```

目标模型

```
class Goal < ActiveRecord::Base
attr_accessible :goal, :pounds, :distance, :lift_weight
belongs_to :user

validates :user_id, presence: true
end 
```

用户模型

```
class User < ActiveRecord::Base

 has_one :goal, :class_name => "Goal"

end 
```

_goal_form（这是用户#show 上的一个模态）

```
 <div class="modal hide fade in" id="goal" >
      <%= form_for(@goal, :url => goal_path) do |f| %>
      <div class="modal-header">
       <%= render 'shared/error_messages', object: f.object %>   
        <button type="button" class="close" data-dismiss="modal">×</button>
        <h3>What's Your Health Goal This Month?</h3>
      </div>
        <div class="modal-body">
          <center>I want to <%= select(:goal, ['Lose Weight'], ['Exercise More'], ['Eat   Better']) %> </center>
        </div>
        <div class="modal-body">
          <center>I will lose  <%= select_tag(:pounds, options_for_select([['1', 1],   ['2', 1], ['3', 1], ['4', 1], ['5', 1], ['6', 1], ['7', 1], ['8', 1], ['9', 1], ['10', 1]])) %> lbs. this month!</center>
        </div>
        <div class="modal-footer" align="center">
           <a href="#" class="btn" data-dismiss="modal">Close</a>
           <%= f.submit "Set Goal", :class => "btn btn-primary" %>
        </div>
  <% end %>
</div> 
```

路由.rb

```
 resource  :goal,               only: [:create, :destroy, :new] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:20:21.450

试试这个

```
# in your user model
accepts_nested_attributes_for :goal 
```

在您的用户模型中编写上述代码，并且

对于选择标签，请尝试从此链接中使用

```
http://shiningthrough.co.uk/Select-helper-methods-in-Ruby-on-Rails 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T16:26:05.653

我希望`stringify_keys`错误归结为您在目标字段中列出选项的方式，它们需要分组以被视为一个参数。

除了按照`accepts_nested_attributes_for :goal`Dipak 的建议使用外，您还需要一个嵌套表单。

```
form_for @user do |form|
  fields_for @goal do |fields|
    fields.select :goal, ['Lose Weight', 'Exercise More', 'Eat Better'] 
```

保存操作现在在用户的上下文中，因此通过的属性将包括目标字段的一部分：

```
user =>{goal_attributes => {:goal => 'Eat Better'}} 
```

您可以通过更新用户来保存这些属性：

```
@user.update_attributes(params[:user]) 
```

顺便说一句，您的“新”操作应该是`@goal = Goal.new`，只是创建一个新目标没有任何作用，您需要将其分配给一个变量以使其进入页面。

祝你好运！

# javascript - 如何检查剑道网格是否对其进行了更改？

> ID：12720543
> 
> 赞同：21
> 
> 时间：2012-10-04T05:03:59.200
> 
> 标签：javascript, kendo-ui, kendo-grid

如何检查[剑道网格](http://demos.kendoui.com/web/grid/index.html)是否有变化？听说有`dirty`房产，但是找不到。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2014-06-10T16:22:32.380

您可以在 Grid 的底层 DataSource 上使用“hasChanges”方法：

```
grid.dataSource.hasChanges();

$('#divGrid').data('kendoGrid').dataSource.hasChanges(); 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-10-04T18:44:24.600

添加的行会将dirty 属性设置为true，更新的行也将如此。但是，删除的行存储在其他地方（在 _destroyed 集合中）。将此函数传递给网格的数据源以查看它是否有更改。

```
function doesDataSourceHaveChanges(ds)
{
    var dirty = false;

    $.each(ds._data, function ()
    {
        if (this.dirty == true)
        {
            dirty = true;
        }
    });

    if (ds._destroyed.length > 0) dirty = true;

    return dirty;
} 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-10-04T20:36:02.543

您可以获得通知并使用数据源的更改事件，该事件将在您分页/排序/组/过滤/创建/读取/更新/删除记录的任何位置发生。

要将处理程序附加到它，请使用：

```
$('#YourGrid').data().kendoGrid.dataSource.bind('change',function(e){
    //the event argument here will indicate what action just happned
    console.log(e.action)// could be => "itemchange","add" or "remove" if you made any changes to the items
}) 
```

更新：如果用户更新了任何模型，数据源的 .hasChanges() 方法将返回 true。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-10-20T13:56:54.780

grid.dataSource.hasChanges 将让您知道数据源是否已更改

```
 if (datasource.hasChanges() === true) {
                                alert('yes');
                            } else {
                                alert('no');
                            } 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-04-17T06:53:55.857

最方便的方法是使用`datasource.hasChanges()`. 但是，这需要`Id`在模式中定义字段。

从[文档](https://docs.telerik.com/kendo-ui/api/javascript/data/datasource/methods/haschanges)：

> 检查数据项是否已更改。需要在 schema.model.id 中配置 [ID 字段]，否则将始终返回 true。

如果您没有定义 Id 字段，则可以使用无数种方法之一来迭代数据本身。

```
var isDataSourceDirty = function (ds) {
    var dirty = ds._data.filter(function(x){
        return x.dirty === true;
    });
    return dirty.length > 0 || ds._destroyed.length;
}; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-05T00:47:27.200

值得一试：

```
var hasDirtyRow = $.grep(gridDataSource.view(), function(e) { return e.dirty === true; });
if (hasDirtyRow.length != 0)
{
     // grid has dirty row(s)
} 
```

# php - 使用 PHP 代码从多维数组中获取数据

> ID：12720545
> 
> 赞同：0
> 
> 时间：2012-10-04T05:04:18.533
> 
> 标签：php, multidimensional-array

我正在尝试`[label] => For Rent`从多维数组中获取这些数据。这是我的数组

```
Array ( [listing_id] => 0 
        [fields] => 
                   Array ( [1] => Property House 7 [2] => 30 [4] => sdfasd
                           [11] => Bungalow [10] => Philippines [12] => 1800100
                           [13] => 1 [14] => 1 [15] => Yes [16] => Yes [17] => Yes
                           [18] => Yes [26] => Yes [25] => Yes [24] => Yes
                           [23] => Yes [22] => Yes [21] => Yes [20] => Yes [19] => Yes) 
        [fees] => Array ( 
            [30] => stdClass Object ( [id] => 2 [label] => For Rent [amount] => 0.00
                                      [days] => 7 [images] => 0
                                      [categories] => 
                                        Array ( [all] => 0 
                                [categories] => Array ( [0] => 30 ) ) [extra_data] => ) ) 

                                [images] => Array ( ) [thumbnail_id] => 0 ) 
```

我将如何回显`label`具有`For Rent`使用 PHP 代码的价值

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:07:51.860

尝试

```
$array[fees][30]->label 
```

`$array`你的顶级变量在哪里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:08:08.617

```
echo $yourArray['fees'][30]->label 
```

它不仅仅是一个数组......它是一个包含一个对象的数组。使用`->`访问对象属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:27:50.147

您可以通过它们的键访问数组的任何值。只需 `For Rent`像这样访问：-

```
echo $arrayName['fees'][30]->label 
```

这将显示 For Rent like（一个箭头运算符，因为要访问对象属性，您必须使用它）

# translation - 如何在 Prestashop 中添加类别名称的翻译？

> ID：12720548
> 
> 赞同：1
> 
> 时间：2012-10-04T05:04:49.683
> 
> 标签：translation, prestashop

我知道当我们使用 smarty 模板语法在模板中添加一个新单词时

```
{l s="Example"} 
```

将显示在管理控制面板翻译页面中进行翻译，但是如何为类别名称添加翻译，这些名称是从管理控制面板添加的，而不是在模板中，模板只是从数据库中获取类别。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:18:11.723

您只需修改您的类别，在名称输入字段旁边您会看到标志，只需单击并修改相应的翻译。

![在此处输入图像描述](../Images/07a816a329caf57b99148859b40babea.png)

# matlab - Matlab ode45 基本设置

> ID：12720549
> 
> 赞同：0
> 
> 时间：2012-10-04T05:04:59.607
> 
> 标签：matlab, error-handling, initialization, syntax-error

我正在尝试使用 ode45 模拟神经元的 Morris-Lecar 模型。

我在初始化 ode45 调用时遇到问题，并且文档无法帮助我。我知道我必须通过一个函数调用 ode45，并从我的主脚本中调用该函数。

总的来说，我对 ODE 的了解有限，并且似乎无法理解初始化 ODE45 调用所需的语法。

此外，我被指示为变量“脉冲”使用时间范围，但在从主脚本接收输入并发送的函数中没有时间范围的输入（这似乎是一个变量，不是固定的）与 ode45 函数的其他函数一起使用。输入 ode45 的函数也有时间输入，但我还是不知道如何输入时间范围。说明非常清楚，主脚本中使用的函数不接受任何时间变量。

如果您能指出我在初始化中犯的任何明显错误，将不胜感激。

当前（以下）版本的错误代码如下：

```
Error using ODEequation (line 89)
Not enough input arguments.

Error in odearguments (line 88)
f0 = feval(ode,t0,y0,args{:});   % ODE15I sets args{1} to yp0.

Error in ode45 (line 114)
[neq, tspan, ntspan, next, t0, tfinal, tdir, y0, f0, odeArgs, odeFcn, ...

Error in ODEquestion (line 32)
[t Vm]=ode45(@ODEequation,[-20 20],[-30, 0.1]',[],constants, stim_on, stim_off, amp);

Error in YoonS_Lab3_EBME308_Fall2012 (line 355)
[t Vm] = ODEquestion(20,100,30) 
```

我认为这可以追溯到我不存在但需要的时间输入。

问题涉及

```
Cm * dVm / dt = -Gm(Vm-Vrest) - Gca Minf (Vm - Eca) - Gk w(Vm - Ek) + pulse(t)

dw/dt = (wInf - w) / Tau-w;

wInf = (1+tanh(Vm/30)) / 2;
mInf = (1+tanh(Vm+1)) / 2;
Tau-w = 5/ (cosh(Vm/60));
Cm = membrane leakage capacticance;
Gm = membrane leakage conductance;
Vm = membrane voltage;
Vrest = membrane voltage @ neuron resting
Gca = max Ca conductance through membrane
Gk = max K conductance through membrane;
mInf refers = P ( Ca ion channel open )
wInf refers = P ( K ion channel open )
Tau-w = rate which K channels respond to change in membrane voltage
Eca = reversal potential of Ca
Ek = reversal potential of K
pulse(t) = stimulus applied to neuron
pulse(t) = A (stim-on <= t <= stim-off) or 0 (else); 
```

作为变量。

我创建了一个发送到 ode45 的函数，如下所示。

```
function dy = ODEequation(t, Vm, w, constants, stim_on, stim_off, amp)

wInf = (1 + tan(Vm / 30)) / 2
mInf = (1 + tan((Vm + 1)/ 15)) / 2
tauW = 5/ (cosh(Vm/60))

pulse = amp * ((stim_on < t ) - ( t >= stim_off));

dy(1) = y(1) * ((-constants(2) - constants(4) * constants(9) - constants(5) * y(2)) + (constants(2) * constants(3) + constants(6) * constants(4) * constants(9) + constants(5) * y(2) * constants(7) + constants(11))) / constants(1) ;
dy(2) = = ( constants(8) - y(2) )/constants(10)
dy = dy' 
```

并且通过的函数如下

```
function [t Vm] = ODEquestion(stim_on, stim_off, amp)

%i)
Cm = 1;
Gm = 0.5;
Vrest = -50;
Gca = 1.1;
Gk = 2;
Eca = 100;
Ek = -70;

%ii)
Vm(1) = -30;
w(1) = 0.1;

%iii)
wInf = (1 + tan(Vm / 30)) / 2
mInf = (1 + tan((Vm + 1)/ 15)) / 2
tauW = 5/ (cosh(Vm/60))

IC1 = Vm(1) % = -30
IC2 = w(1) % = 0.1

pulse = amp %* ((stim_on < t ) - ( t >= stim_off));

constants = [Cm , Gm, Vrest, Gca, Gk, Eca, Ek, wInf, mInf, tauW, pulse];

[t Vm]=ode45(@ODEequation,[-20 20],[-30, 0.1]',[],constants, stim_on, stim_off, amp); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:19:12.633

来自`help ode45`：

> ODE45 求解非刚性微分方程，中阶方法。
> 
> ```
> [TOUT,YOUT] = ODE45(ODEFUN,TSPAN,Y0) with TSPAN = [T0 TFINAL] integrates 
> the system of differential equations y' = f(t,y) from time T0 to TFINAL 
> with initial conditions Y0\. ODEFUN is a function handle. For a scalar T
> and a vector Y, ODEFUN(T,Y) must return a column vector corresponding 
> to f(t,y). 
> ```

因此，该函数`ODEFUN`只需要两个输入（`t`和`y`），而您的函数需要 7 个输入。

您可以按照[本网站](http://www.mathworks.nl/support/solutions/en/data/1-19HM6/index.html?solution=1-19HM6)上的说明或[此问题解决此问题](https://stackoverflow.com/questions/2256229/matlab-how-do-i-pass-a-parameter-to-a-function)：

```
wrapper = @(t,Vm) ODEequation(t, Vm, w, constants, stim_on, stim_off, amp);
[t Vm]=ode45(wrapper, [-20 20],[-30, 0.1]',[],constants, stim_on, stim_off, amp); 
```

例如，通过创建一个小的包装函数来传递所有常量，同时转发由`ode45`.

# c# - Excel工作表未关闭

> ID：12720550
> 
> 赞同：1
> 
> 时间：2012-10-04T05:05:03.520
> 
> 标签：c#, .net, winforms

> **可能重复：**
> [如何在 C# 中正确清理 Excel 互操作对象](https://stackoverflow.com/questions/158706/how-to-properly-clean-up-excel-interop-objects-in-c-sharp)

我有一组功能。如果该函数通过，那么我将通过一个名为 ExcelRecorder() 的函数在名为 WebServices_output.xlsx 的 Excel 工作表中打印一些消息。如果它失败，那么我将通过 ExcelRecorder() 传递一些失败的消息

我在下面发布我的代码

```
public void ExcelRecorder(int error, string detailmessage, string message, int row)
        {  
            Excel.Application xlApp = new Excel.Application();                
            Excel.Workbook xlWorkbook = xlApp.Workbooks.Open(@"D:/WebServiceTestCases_Output.xlsx");
            Excel._Worksheet xlWorksheet = xlWorkbook.Sheets[1];
            Excel.Range xlRange = xlWorksheet.UsedRange;           
                if (!string.IsNullOrEmpty(message))
                {
                    ((Range)xlWorksheet.Cells[row, "M"]).Value2 = "FAIL";
                    ((Range)xlWorksheet.Cells[row, "N"]).Value2 = error;
                    ((Range)xlWorksheet.Cells[row, "O"]).Value2 = detailmessage;
                    ((Range)xlWorksheet.Cells[row, "P"]).Value2 = message;
                }
                else
                {
                    ((Range)xlWorksheet.Cells[row, "M"]).Value2 = "PASS";
                    ((Range)xlWorksheet.Cells[row, "N"]).Value2 = "";
                    ((Range)xlWorksheet.Cells[row, "O"]).Value2 = "";
                    ((Range)xlWorksheet.Cells[row, "P"]).Value2 = "";
                }
            xlWorkbook.Save();
            xlWorkbook.Close(0,0,0);
            xlApp.Quit();
        } 
```

虽然我特别保存我的工作簿，关闭它然后退出它，但当我打开任务管理器时，我看到 Excel.EXE 仍在运行。当我运行 ExcelRecorder() 五六次时，我在任务管理器中看到五六个 Excel.EXE，我的程序崩溃了。

这里有什么问题？为什么工作簿没有关闭，尽管我添加了关闭它的代码行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:50:27.140

你需要这样做：

```
xlApp.Quit(); 
```

然后这个：

```
System.Runtime.Marshal.ReleaseComObject(xlApp); 
```

# asp.net-mvc-3 - 在 IIS8 上部署 MVC3 - Cassette 应用程序时出错

> ID：12720552
> 
> 赞同：1
> 
> 时间：2012-10-04T05:05:18.457
> 
> 标签：asp.net-mvc-3, deployment, web-config, cassette

在本地机器上工作正常，但部署时会弹出此错误消息：

```
HTTP Error 500.19 - Internal Server Error
The requested page cannot be accessed because the related configuration data for the page is invalid.

Detailed Error Information:
Module     IIS Web Core
Notification       BeginRequest
Handler    Not yet determined
Error Code     0x80070021
Config Error       This configuration section cannot be used at this path. This happens when the section is locked at a parent level. Locking is either by default (overrideModeDefault="Deny"), or set explicitly by a location tag with overrideMode="Deny" or the legacy allowOverride="false".
Config File    \\?\C:\inetpub\foo\web.config
Requested URL      http://foo.net:80/
Physical Path      C:\inetpub\foo
Logon Method       Not yet determined
Logon User     Not yet determined

Config Source:
   71:     </modules>
   72:     <handlers> <--- This part is highlighted on the error page.
   73:       <add name="CassetteHttpHandler" path="cassette.axd" preCondition="integratedMode" verb="*" allowPathInfo="true" type="Cassette.Aspnet.CassetteHttpHandler, Cassette.Aspnet" />

More Information:
This error occurs when there is a problem reading the configuration file for the Web server or Web application. In some cases, the event logs may contain more information about what caused this error. 
```

关于我可以做些什么来解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:09:50.153

我解决此错误的方法是进入 IIS 管理窗口并选择`Feature Delegation`并设置读/写到处理程序映射和模块。

现在一切正常。

# python - 如何使用python在文件中搜索具有精确长度的字符串

> ID：12720554
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:05:27.627
> 
> 标签：python

我有文件包含

```
google 
google talk browser
google talks
google talk 
```

如何使用python在文件中搜索“talks”并在没有额外字符串的情况下精确搜索并使用python打印该行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:14:20.193

只需使用比较运算符：

```
with open('file.txt', 'r') as handle:
    for index, line in enumerate(handle, 1):
        if line.strip() == 'google talk':
            print 'Match found on line', index 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:19:57.200

```
import re

txt = open("youfile.txt").read()
if re.search(r'[^\s]?google talk[\s$]?',txt):
    //code for string present
else:
    //code for string not-present 
```

# php - 在 PHP 中对 select 语句进行排序的最佳方法

> ID：12720555
> 
> 赞同：1
> 
> 时间：2012-10-04T05:05:36.260
> 
> 标签：php, arrays, sorting

您好，任何人都可以在这里为我指明正确的方向。从表格中选择结果但以某种方式显示它们的最佳方法是什么，请参阅下面的首选排序。

```
10, 9, 8, 6, 5, 4, 3, 2, 1 
```

把它变成

```
6, 7, 8, 9, 10 
```

并按顺序显示？

到目前为止我有这个...

```
$result = mysql_query("SELECT * FROM Chat ORDER BY Time DESC LIMIT 5"); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:08:36.453

假设数字不仅是 1-10，请将其包装在子查询中并再次重新排序。

```
SELECT *
FROM
   (
          SELECT *
          FROM Chat 
          ORDER BY `Time` DESC
          LIMIT 5           -- <=== change this to the number of records you want
   ) a
ORDER BY `TIME` 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/1b23a/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:09:58.163

查询将是这样的

```
$result = mysql_query("select * from (SELECT * FROM Chat ORDER BY Time ASC LIMIT 0,5) order by time desc"); 
```

它首先将所有结果按降序排列，然后将前 5 行按升序排列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:11:15.807

```
$result = mysql_query("SELECT * FROM Chat ORDER BY Time ASC LIMIT 5,5"); 
```

升序排序，从第 6 个结果开始，返回 5 行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T05:08:21.430

试试下面的代码

```
$result = mysql_query("SELECT * FROM Chat ORDER BY Time ASC LIMIT 5,5"); 
```

# iphone - 对包含另一个字典的 NSDictionary 进行排序

> ID：12720558
> 
> 赞同：1
> 
> 时间：2012-10-04T05:05:42.287
> 
> 标签：iphone, ipad

我面临这个问题，当我对字典进行排序时，我无法从中获得输出。在这里，我展示了我的`NSMutableDictionary`哪个包含。

**ReasonMst**是我的`NSMutableDictionary`.

```
Printing description of ReasonMst:
{
1 =     {
    nReasonNo = 1;
    vReasonCode = 1;
    vReasonDesc = "Office Purpose";
    vReasonType = O;
};
10 =     {
    nReasonNo = 10;
    vReasonCode = 10;
    vReasonDesc = Transit;
    vReasonType = O;
};
2 =     {
    nReasonNo = 2;
    vReasonCode = 2;
    vReasonDesc = Personal;
    vReasonType = O;
};
3 =     {
    nReasonNo = 3;
    vReasonCode = 3;
    vReasonDesc = Specific;
    vReasonType = O;
};
4 =     {
    nReasonNo = 4;
    vReasonCode = 4;
    vReasonDesc = "Meeting";
    vReasonType = I;
};
5 =     {
    nReasonNo = 5;
    vReasonCode = 5;
    vReasonDesc = "Meeting arrange";
    vReasonType = I;
};
6 =     {
    nReasonNo = 6;
    vReasonCode = 6;
    vReasonDesc = "NATIONAL CONFERENCE";
    vReasonType = I;
};
7 =     {
    nReasonNo = 7;
    vReasonCode = 7;
    vReasonDesc = Other;
    vReasonType = O;
};
8 =     {
    nReasonNo = 8;
    vReasonCode = 8;
    vReasonDesc = "Briefing Meeting";
    vReasonType = I;
};
9 =     {
    nReasonNo = 9;
    vReasonCode = 9;
    vReasonDesc = "Meeting At HO";
    vReasonType = I;
};
KeyList =     (
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    ""
);
} 
```

我想明智地将其排序`NSMutableDictionary`为**vReasonDesc**。谁能告诉我我该怎么做这个最简单的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:42:25.913

假设 ReasonMst 是你的 NSMutableDictionary，这样做

```
NSArray *key=[[NSArray alloc]initWithArray:[ReasonMst objectForKey:@"KeyList"]];
NSMutableArray *vReasonDesc=[[NSMutableArray alloc]init];
NSMutableArray *sortedKeys=[[NSMutableArray alloc]initWithArray:nil];
NSDictionary *tempDict=[[NSDictionary alloc]init];

for (int i=0; i<[key count]; i++) {
    [vReasonDesc addObject:[[ReasonMst objectForKey:[key objectAtIndex:i]]objectForKey:@"vReasonDesc"]];
}
[vReasonDesc sortUsingSelector:@selector(caseInsensitiveCompare:)];    

for (int i=0; i<[vReasonDesc count]; i++) {
    for (int j=0; j<[key count]; j++) {
        tempDict=[ReasonMst objectForKey:[key objectAtIndex:j]];
        NSLog(@"%@ ... %@",[vReasonDesc objectAtIndex:i], tempDict);
        if ([[tempDict objectForKey:@"vReasonDesc"]isEqualToString:[vReasonDesc objectAtIndex:i]]) {
            [sortedKeys addObject:[tempDict objectForKey:@"vReasonNo"]];
        }
    }
}

NSLog(@"sdafa %@",sortedKeys); 
```

sortedKeys 包含根据您的 vReasonDesc 值排序的键......现在您可以根据 sortedKeys 中的键访问您的 ReasonMst。

```
for (int i=0; i<[sortedKeys count]; i++) {
    NSLog (@"%@",[ReasonMst objectForKey:[sortedKeys objectAtIndex:i]]);
} 
```

# java - 在java中搜索特定字符串后的空格

> ID：12720559
> 
> 赞同：0
> 
> 时间：2012-10-04T05:05:49.357
> 
> 标签：java

```
 String text = "select ename from emp"; 
```

我想知道**from**之后的空间索引。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:11:13.390

非常基本的答案可能看起来像......

```
String text = "select ename from emp";

text = text.toLowerCase();
if (text.contains("from ")) {
    int index = text.indexOf("from ") + "from".length();
    System.out.println("Found space @ " + index);
    System.out.println(text.substring(index));
} else {
    System.out.println(text + " does not contain `from `");
} 
```

或者你可以使用一些正则表达式（这是一个相当糟糕的例子，但是干草）

```
Pattern pattern = Pattern.compile("from ");
Matcher matcher = pattern.matcher(text);

String match = null;

int endIndex = -1;

if (matcher.find()) {

    endIndex = matcher.end();

}

if (endIndex > -1) {
    endIndex--;
    System.out.println("Found space @ " + endIndex);
    System.out.println(text.substring(endIndex));
} else {
    System.out.println(text + " does not contain `from `");
} 
```

要找到每个空间的索引，您可以执行以下操作...

```
Pattern pattern = Pattern.compile(" ");
Matcher matcher = pattern.matcher(text);

String match = null;

while (matcher.find()) {
    System.out.println(matcher.start());
} 
```

哪个会输出

```
6
12
17 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:08:22.080

如果您专门寻找单词“from”之后的第一个空格的索引，您可以使用：

```
text.substring(text.indexOf("from")).indexOf(' '); 
```

如果您尝试做一些更一般的事情，那么您需要提供更多信息。但是 indexOf() 方法可能对您非常有用。

编辑：这实际上应该是

```
text.indexOf(' ', text.indexOf("from")); 
```

第一个版本返回相对于“from”的索引，而第二个版本返回相对于原始字符串的索引。（感谢@jpm）

此循环将查找给定字符串中的所有空格字符：

```
int index = text.indexOf(' ');
while (index >= 0) {
    System.out.println(index);
    index = text.indexOf(' ', index + 1);
} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-10-04T05:11:55.323

使用 indexOf() 方法。希望你得到答案

# javascript - Backbone.js中不同视图的调用方法

> ID：12720561
> 
> 赞同：2
> 
> 时间：2012-10-04T05:06:00.047
> 
> 标签：javascript, jquery, backbone.js

我正在使用带有 ASP.NET MVC 4 的主干.js。

我想从一个视图调用不同视图的方法。为了使这更容易理解，我在下面创建了一个小示例。

在我想调用以下操作的 OperationCompleted 方法中的 MyView2 中...

*   调用 MyView 2 的 myMethodB
*   调用 MyView 1 的 myMethodA
*   调用 AppView 的 myMethodC

我该怎么做呢 ？我暂时使用了诸如创建视图对象并调用它们之类的东西。

像这样`var view1 = new MyView1();`，然后`view1.myMethodA();`，必须有更好的方法，请帮我找到它。谢谢

```
var MyModel = Backbone.Model.extends({
});

// View for a Main Grid
var MyView1 = Backbone.View.extend({
...
myMethodA: function(){
 // do something with View 1
}
...
});

// View for subgrid in Main Grid
var MyView2 = Backbone.View.extend({
...
myMethodB: function(){
 // do something with View 2
},
OperationCompleted: function(){
 // call myMethodB of MyView 2
 // call myMethodA of MyView 1
 // call myMethodC of AppView
}
...
});

var AppView = Backbone.View.extend({
...
myMethodC: function(){
 // do something with App View 
}
...
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:17:04.727

得到这个工作！必须使用聚合器模式，在下面粘贴了我如何使用它的示例......

```
Backbone.View.prototype.eventAggregator = _.extend({}, Backbone.Events);

var model = Backbone.Model.extend({
});

var view1 = Backbone.View.extend({
    initialize: function () {
        this.eventAggregator.bind("doSomething_event", this.doSomething);
    },
    doSomething: function(name){
        alert("Hey " + name + " !");
    }   
});

var view2 = Backbone.View.extend({    
    callToDoSomething: function(){
        self.eventAggregator.trigger("doSomething_event", "Yasser");
    }   
}); 
```

**参考**

[https://stackoverflow.com/a/11926812/1182982](https://stackoverflow.com/a/11926812/1182982)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-09T16:58:40.533

这里的另一种模式是通过触发视图附加到的 DOM 元素上的事件来调用视图的函数。

**例如：**

```
var AppView = Backbone.View.extend({
  el: 'body',
  events: {
    'alertMe': 'alertMe'
  },
  alertMe: function(ev, arg){
    console.log(args)
    alert("You've been alerted!")
  }
}); 
```

然后在稍后的代码中（甚至在另一个视图中）：

```
// Shows an alert and prints object.
$('body').trigger('alertMe', { foo: 'bar' }); 
```

# d3.js - 每个条形图的百分比拆分直方图？

> ID：12720566
> 
> 赞同：0
> 
> 时间：2012-10-04T05:06:57.057
> 
> 标签：d3.js

刚刚发现了这个令人难以置信的库，但对所有选项感到有点不知所措。考虑球员的可视化，比方说篮球运动员。我们想在一些品质上比较他们，比如传球、得分、篮板等。

在任何给定的质量上，我们都会比较每个玩家的得分相对于其他人的得分。因此，如果一个玩家得到 2 分，而另一个只有 1 分，那么第一个玩家将得到 66%，另一个玩家将得到 33%。如果分数相同，他们将各得 50%。

然而，这些品质的重要性各不相同。所以现在将每个质量想象成一个直方图条。它的高度将告诉您质量相对于其他质量的重要性，即相对于其他直方图条。并且每个条形图将用一种颜色着色，另一种颜色着色，向您显示每个玩家在该质量上的相对分数。

1.  第一个问题：我可以使用 D3 创建这样的图表吗？我可以使直方图水平吗？

2.  有没有更好的方法来可视化这两个同时比较？

谢谢！

## 编辑：

我发现[这个例子](http://www.nytimes.com/interactive/2012/09/06/us/politics/convention-word-counts.html#america)非常适合我的情况——圆圈的大小显示质量的重要性，圆圈分成红色/蓝色显示每个玩家的分数。但我不知道那是什么图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T06:03:01.673

气泡图是节点的力导向布局，我不认为节点显示两个数据点之间的关系这一事实有一个特殊的名称。也许如果迈克看到这一点，他可以让你知道，因为他是为《纽约时报》树立榜样的人。

有很多技巧可以让它工作，你可以在http://graphics8.nytimes.com/newsgraphics/2012/09/04/convention-speeches/ac823b240e99920e91945dbec49f35b268c09c38/index.js[查看](http://graphics8.nytimes.com/newsgraphics/2012/09/04/convention-speeches/ac823b240e99920e91945dbec49f35b268c09c38/index.js)代码未缩小。

# performance - 忘记在休眠状态下提交事务

> ID：12720569
> 
> 赞同：0
> 
> 时间：2012-10-04T05:07:20.223
> 
> 标签：performance, spring, hibernate

我正在为我的 Web 应用程序使用**休眠和弹簧。**

在某些地方，我忘记提交事务......就像下面的代码

```
 SessionFactory sf = HibernateUtils.getSessionFactory();
                session = sf.openSession();
                tx = session.beginTransaction();
..........................................Some Code.............................

But forgot to commit transaction.....

finally
{
session.flush();
session.close();
} 
```

现在我的问题是：-

*   这对我有什么问题吗？
*   关于内存泄漏的任何问题？
*   增加数据库的负载？？

或者**这对我的系统有什么影响？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:10:17.247

如果您不提交交易，那么

*   事务中涉及的表将被锁定，直到连接被删除/关闭。
*   作为事务的一部分对表所做的更改将仅适用于那些重用池中相同连接的人，而不适用于其他人。
*   如果`commit()`在关闭/删除之前从未在此类连接上调用方法，则在关闭/删除连接后所做的所有更改都将丢失。

基本上，您系统的行为将是任意的，这对您来说是个问题。但它不会导致任何内存泄漏。

# jquery - 使用ajax更改输入后重新加载jslider

> ID：12720571
> 
> 赞同：1
> 
> 时间：2012-10-04T05:07:20.823
> 
> 标签：jquery, html, ajax, jslider

我正在使用这个 jquery jslider 插件[http://egorkhmelev.github.com/jslider/](http://egorkhmelev.github.com/jslider/)效果很好。它基本上通过将“输入”项目“重绘”到滑块中来工作。

文档就绪工作正常，并按预期绘制滑块，但接下来我使用 ajax 调用，根据用户选择来更改页面上“输入”的数量以及滑块的数量，但我有什么困难在于让插件在 ajax 调用后在新输入上“重绘”滑块。

我尝试将滑块调用包装在函数 initSliders() 中，见下文，因此它可以在 ajax 调用后刷新，但它不会重绘滑块。

有什么建议么？

插件所需位：

//在ajax之前

```
<div id="decide1_right">
    <input id="Sliderx" type="slider" name="area" value="20;100" />
</div> 
```

//在ajax之后

```
<div id="decide1_right">
    <input id="Sliderx" type="slider" name="area" value="20;100" />
    <input id="Slidery" type="slider" name="area" value="20;100" />
</div> 
```

// ajax 发布

```
$.post(
   "<?php echo base_url('index.php/test/getCriteriaItems');?>", 
   {criteria: row_id}, 
   function(data) {
     $("#decide1_grp").html(data);  // returns <input>'s for sliders
   }
);
initSliders(); 
```

//滑块的东西

```
$(document).ready(function() {
  initSliders();
}); 
```

//滑块的东西

```
function initSliders() {
   $("#Sliderx").slider({ 
      from: 0, 
      to: 120, 
      step: 0.1, 
      format: { format: '##.0'},
      round:1,
      scale: ['0', '20%', '40%', '60%', '80%', '100%', '120%'], 
      limits: false,
   });
   $("#Slidery").slider({ 
      from: 0, 
      to: 120, 
      step: 0.1, 
      format: { format: '##.0'},
      round:1,
      scale: ['0', '20%', '40%', '60%', '80%', '100%', '120%'], 
      limits: false,
   });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T09:48:30.843

使用 jquery 的 ajaxComplete 函数。它应该在每次 ajax 调用后触发。

```
$("#Sliderx, #Slidery").ajaxComplete(function () {
   //logic here
}); 
```

[http://api.jquery.com/ajaxComplete/](http://api.jquery.com/ajaxComplete/)

# android - 烦人的吐司一直在展示如何阻止它

> ID：12720572
> 
> 赞同：1
> 
> 时间：2012-10-04T05:07:37.297
> 
> 标签：android

每次我按下输入键时，即使它不应该出来，吐司也会不断弹出......

在我的代码中花很多时间：

```
etAddMove.setOnKeyListener(new OnKeyListener() {

            @SuppressLint("NewApi")
            public boolean onKey(View v, int keyCode, KeyEvent event) {
                // TODO Auto-generated method stub
                if(keyCode == KeyEvent.KEYCODE_ENTER && event.getRepeatCount() == 0){
                    String ssmoveName = etAddMove.getText().toString();
                    int x = ssmoveName.length() - 1;
                    if (ssmoveName.isEmpty() || Character.isWhitespace(ssmoveName.charAt(0)) || Character.isWhitespace(ssmoveName.charAt(x))) {
                        Toast.makeText(ListMovingNames.this, 
                                "Please enter a valid name! Avoid giving a blank name or white space at the beginning or end of the name", 
                                Toast.LENGTH_LONG).show();
                    }else{
                        try {
                            SQLHandler check = new SQLHandler(ListMovingNames.this);
                            check.open();
                            String scheck = check.checkMove(ssmoveName);
                            check.close();
                            if (!scheck.equals(ssmoveName)) {
                                Toast.makeText(ListMovingNames.this, "Move name already exist please give a different name", Toast.LENGTH_LONG).show();
                            } else{
                                SQLHandler entry = new SQLHandler(ListMovingNames.this);
                                entry.open();
                                entry.createMove(ssmoveName);
                                entry.setTodo(ssmoveName);
                                entry.close();
                                Intent i = new Intent(getApplicationContext(), StartMoving.class);
                                i.putExtra("moveName", ssmoveName);
                                startActivity(i);
                            }
                        } catch (Exception e) {
                            // TODO Auto-generated catch block
                            SQLHandler entry = new SQLHandler(ListMovingNames.this);
                            entry.open();
                            entry.createMove(ssmoveName);
                            entry.setTodo(ssmoveName);
                            entry.close();
                            Intent i = new Intent(getApplicationContext(), StartMoving.class);
                            i.putExtra("moveName", ssmoveName);
                            startActivity(i);
                        }
                    }
                    return true;
                }

                return onKeyDown(keyCode, event);
            }
        }); 
```

如果我不想表现出来，你怎么能让这家伙停下来……

**编辑**

我想我知道为什么会发生这种情况，这一定是因为每次我按 enter keyup 并且 keydown 都会初始化，这就是为什么第一次初始化是 keydown 调用条件并返回 false 并且当调用 keydown 时再次调用条件将返回真的，制作吐司展示。这就是我目前的想法......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:20:34.003

如果不起作用，请尝试以下操作然后了解。

```
Toast toast;
    toast.makeText(getApplicationContext(), "text", Toast.LENGTH_SHORT).show();
if(Yourcondition)
    {
        toast.show();
    }
    else
    {
        //nothing to display
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T03:24:14.160

终于解决这个问题了。因为我怀疑吐司一直显示的原因是每次按下回车键时，都会调用 keydown 和 keyup 这就是为什么调用两次使吐司出现的原因，因为在调用过程时满足显示吐司的条件第二次。

所以为了避免这种情况`KeyEvent.ACTION_DOWN`必须存在。

```
public boolean onKey(View v, int keyCode, KeyEvent event) {
                // TODO Auto-generated method stub
                if ( (event.getAction() == KeyEvent.ACTION_DOWN  ) && (keyCode== KeyEvent.KEYCODE_ENTER)   )
                {               
                    // do something here
                    }
                    return true;
                } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-05T05:43:21.273

用这个：

```
 Toast toast;
        toast.makeText(getApplicationContext(), "text", Toast.LENGTH_SHORT);

    if(Yourcondition)
        {
            toast.show();
        }
        else
        {
            //nothing to display
        } 
```

在最后一个答案中，您`.show`在创建吐司时正在使用方法。它会显示偶数，如果陈述是真的与否。所以，`.show`从

```
toast.makeText(getApplicationContext(), "text", Toast.LENGTH_SHORT).show(); 
```

这个说法。

这可能会有所帮助。

# android - 在 android 中使用 sax 解析器解析 xml 基础 web 服务的问题

> ID：12720579
> 
> 赞同：0
> 
> 时间：2012-10-04T05:07:59.257
> 
> 标签：android, saxparser

我开发了简单的`webservice`基础数学应用程序，我在其中使用`XML`基础服务并用于`sax parser`解析`webservice`响应。

我已经使用 sax 解析器解析了`XML`基础`webservice`，但我的问题是当我解析它时没有得到特定`tag`. 为此，我的代码如下。

```
private List < Object > callWebService() {
 try {
  SAXParserFactory factory = SAXParserFactory.newInstance();
  SAXParser parser = factory.newSAXParser();

  final List < Object > list = new ArrayList < Object > ();

  DefaultHandler handler = new DefaultHandler() {
   boolean language = false;
   boolean langid = false;
   boolean langname = false;
   boolean icon = false;

   public void startDocument() throws SAXException {
    list.clear();
   }

   public void endDocument() throws SAXException {}

   public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException {
    if (qName.equalsIgnoreCase("language")) {
     language = true;
     objLanguage = new Language();
     return;
    }

    if (qName.equalsIgnoreCase("langid")) {
     langid = true;
     return;
    }

    if (qName.equalsIgnoreCase("langname")) {
     langname = true;
     return;
    }
    if (qName.equalsIgnoreCase("icon")) {
     icon = true;
     return;
    }
   }

   public void endElement(String uri, String localName, String qName) throws SAXException {
    if (qName.equalsIgnoreCase("langid")) {
     langid = false;
     return;
    }

    if (qName.equalsIgnoreCase("langname")) {
     langname = false;
     return;
    }
    if (qName.equalsIgnoreCase("icon")) {
     icon = false;
     return;
    }

    if (qName.equalsIgnoreCase("language")) {
     if (langid == false && langname == false && icon == false) {
      language = false;
      list.add(objLanguage);
      return;
     }
    }
   }

   public void characters(char ch[], int start, int length) throws SAXException {
    String theString = new String(ch, start, length);

    if (langid == true) {
     objLanguage.setLangId(theString);
    } else if (langname == true) {
     objLanguage.setLangName(theString);
    } else if (icon == true) {
     objLanguage.setIconImage(genHelper.convertIconImageInByteBuffer(theString));
    }
   }
  };

  parser.parse("http://mathevaluate.com/webservice/langlist.php", handler);
  return list;
 } catch (Exception ex) {
  System.out.println("ERROR : " + ex.toString());
  return null;
 }
} 
```

问题是`language`名称标签，其中包含非常大的数据字符串，例如

```
<langname>this is the part where  i can`t get the whole string of the tag so post this question</langname> 
```

当我解析这个时，它不能得到这个标签的正确字符串值我怎么能得到这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:12:02.520

如果您在响应中使用特殊字符（例如撇号和其他字符），则数据将在该特定点中断。您可以在此处阅读更多[SAX 解析器：忽略特殊字符](https://stackoverflow.com/questions/5475202/sax-parser-ignoring-special-characters)

# javascript - CMS 的动态网页抓取表

> ID：12720582
> 
> 赞同：2
> 
> 时间：2012-10-04T05:08:16.800
> 
> 标签：javascript, python, drupal, web-scraping, html-table

当我无法访问服务器端脚本时，是否有人对我如何从网站上抓取每天更新的表格有建议？具体来说，我使用的是 CMS - Drupal - 并且无法访问托管服务器，也无法创建或修改模块。我相信这排除了使用 Python、PHP 等的可能性。

有什么方法可以仅使用 Javascript 在我的网页上抓取网站的 HTML、解析表格并显示其数据（或显示整个表格）？我读过 Node.js 和其他依赖于 PHP 等语言的脚本，但正如我所说，我不相信我可以运行这些。

任何建议或线索都会很有帮助。我对这些功能的运行方式不是最了解的。

**编辑---**我应该提到它具有相同的域。动态更新的内容位于我无法访问的子目录中。我想这听起来有点傻，但这就是我所处的情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:29:11.663

由于[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)，您无法从 javascript 访问外部站点。

但是，如果该站点位于同一域中，我想您可以修改[此问题](https://stackoverflow.com/questions/5667880/simple-screen-scraping-using-jquery)的答案中提供的代码。

# c# - 什么是 TypeScript 中的“接口的结构类型”

> ID：12720585
> 
> 赞同：18
> 
> 时间：2012-10-04T05:08:23.643
> 
> 标签：c#, typescript, structural-typing

在他关于 TypeScript 的[博客文章](http://blog.markrendle.net/2012/10/02/the-obligatory-typescript-reaction-post)中，Mark Rendle 说，他喜欢它的一件事是：

> “接口的结构类型。我真希望 C# 能做到这一点”

他那是什么意思？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-04T05:29:34.923

基本上，这意味着接口是在“鸭子类型”的基础上进行比较的，而不是在类型标识的基础上进行比较。

考虑以下 C# 代码：

```
interface X1 { string Name { get; } }
interface X2 { string Name { get; } }
// ... later
X1 a = null;
X2 b = a; // Compile error! X1 and X2 are not compatible 
```

和等效的 TypeScript 代码：

```
interface X1 { name: string; }
interface X2 { name: string; }
var a: X1 = null;
var b: X2 = a; // OK: X1 and X2 have the same members, so they are compatible 
```

规范没有详细介绍这一点，但是类具有“品牌”，这意味着使用类而不是接口编写的相同代码*会*出错。C# 接口确实有品牌，因此不能隐式转换。

考虑它的最简单方法是，如果您尝试从接口 X 到接口 Y 的转换，如果 X 具有 Y 的所有成员，则转换成功，即使 X 和 Y 可能没有相同的名称。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-12T15:40:18.053

想一想。

```
class Employee { fire: = ..., otherMethod: = ...}
class Missile { fire: = ..., yetMoreMethod: = ...}
interface ICanFire { fire: = ...}
val e = new Employee
val m = new Missile
ICanFire bigGuy = if(util.Random.nextBoolean) e else m
bigGuy.fire 
```

如果我们说：

```
interface IButtonEvent { fire: = ...}
interface IMouseButtonEvent { fire: = ...}
... 
```

TypeScript 将允许这样做，C# 不会。

由于 TypeScript 旨在与使用“松散”类型的 DOM 一起工作，因此它是 typescript 的唯一明智选择。

我把它留给读者来决定他们是否喜欢“结构类型”……

# sql - 带有日期的Sql查询问题

> ID：12720589
> 
> 赞同：0
> 
> 时间：2012-10-04T05:09:03.853
> 
> 标签：sql, database, date

我有一个附加的数据库，其中我有一个 BirthDate 列，该列分为 BirthYear、BirthMonth 和 BirthDayNumber。

![数据库映像](../Images/30a00e80525b2dd0c613af80da818be2.png)

例如。对于出生日期：

```
Wednesday, May 10, 1899

BirthYear:1899
BirthMonth : 5
BirthDayNumber :10 
```

我想按以下格式对数据库进行排序（月份和日期应按升序排列，如果月份和日期相等，则应按降序排列年份）

```
01 January 2011 
02 January 2012 
02 January 2008 
05 August 2012 
06 September 2001 
12 December 1899 
```

您能帮我查询以这种格式显示列表的查询吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T08:18:01.523

认为这行得通

[SQLFiddle](http://sqlfiddle.com/#!3/a12d1/1)

使用此代码

```
SELECT birthdate FROM testdate 
ORDER BY 
BirthDayNumber ASC, BirthMonth ASC, BirthYear Desc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T08:13:56.517

尝试这个

```
SELECT CONCAT(BirthDayNumber,' ', MonthName(CONCAT('1900-',CONVERT(BirthMonth,char(2)),'-1')), ' ', Birthyear)
FROM table
ORDER BY BirthMonth ASC, BirthDay ASC, BirthYear DESC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:44:27.317

尝试这样的事情：

```
SELECT ROW_NUMBER() OVER (PARTITION BY DT ORDER BY YE DESC, MO ASC, DT ASC) AS NR, DT, MO, YE FROM SOMEDATA 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T08:42:07.010

```
SELECT birthdate FROM testdate 
ORDER BY 
BirthMonth  ASC,BirthDayNumber  ASC, BirthYear Desc 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T05:22:22.690

尝试这个

```
SELECT * FROM TABLE ORDER BY BirthYear DESC, BirthDayNumber ASC, BirthMonth ASC 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T05:36:44.687

请尝试下面给出的查询

```
SELECT * FROM `tblename`  order by BirthYear DESC, BirthMonth ASC,BirthDayNumber ASC 
```

谢谢

# cocoalibspotify-2.0 - 如何获取 spplaylist id？

> ID：12720591
> 
> 赞同：0
> 
> 时间：2012-10-04T05:09:20.623
> 
> 标签：cocoalibspotify-2.0

我如何获得 spplaylist 的 id ？

目前它返回

```
 return [NSString stringWithFormat:@"%@: %@ (%@ items)", [super description], [self name], [NSNumber numberWithUnsignedInteger:[[self valueForKey:@"items"] count]]]; 
```

因为 [self name] 它包含它返回播放列表名称。如果我希望它返回 spplaylist id 怎么办？

对于播放列表名称键值是 @"name" ，我可以知道 id 的键值是什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T19:55:17.087

播放列表的唯一标识符是它的 URI，它可以在`spotifyURL`所有元数据对象的属性中，包括`SPPlaylist`.

# c# - 获取表中的外键

> ID：12720594
> 
> 赞同：0
> 
> 时间：2012-10-04T05:09:32.567
> 
> 标签：c#, mysql

我创建了一个脚本来显示特定表中的外键。

```
SELECT  i.CONSTRAINT_NAME FROM information_schema.TABLE_CONSTRAINTS i
LEFT JOIN information_schema.KEY_COLUMN_USAGE k ON
i.CONSTRAINT_NAME = k.CONSTRAINT_NAME WHERE i.CONSTRAINT_TYPE = 'FOREIGN KEY'
AND i.TABLE_NAME = 'sample'; 
```

当我在主机中执行此命令时，它会显示在所有具有`table`name的数据库中找到的外键约束列表`"sample"`。

但我需要特定的数据库，示例表`foreign keys`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:17:57.010

只需在最后添加

```
AND i.table_schema = '<the name of your database which is a schema>' 
```

编辑 ：

将左连接更改为

```
LEFT JOIN information_schema.KEY_COLUMN_USAGE
   ON i.CONSTRAINT_NAME = k.CONSTRAINT_NAME AND 
      i.TABLE_SCHEMA = k.TABLE_SCHEMA 
```

因为您可以在不同的模式中找到具有相同名称的约束。

[什么是 mysql 中的模式和数据库](http://dev.mysql.com/doc/refman/5.6/en/schemata-table.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:18:17.273

在运行此查询之前需要选择数据库。以下可能会有所帮助。

```
USE YourDatabaseName

SELECT  i.CONSTRAINT_NAME
FROM information_schema.TABLE_CONSTRAINTS i
LEFT JOIN information_schema.KEY_COLUMN_USAGE k
ON i.CONSTRAINT_NAME = k.CONSTRAINT_NAME
WHERE i.CONSTRAINT_TYPE = 'FOREIGN KEY'
AND i.TABLE_NAME = 'sample' 
```

# java - 应用引擎简单的java webservice

> ID：12720595
> 
> 赞同：0
> 
> 时间：2012-10-04T05:09:32.760
> 
> 标签：java, web-services, google-app-engine

我喜欢将一种**JAVA**方法公开为**Web 服务**，该服务将接受`POST`、剥离参数并相应地回复。我读过我必须使用`doPost(req,resp)`，但我怎样才能获得 servlet 代码？应该是`web.xml`什么？不会有欢迎文件吗？映射 servlet 后，我​​可以在不需要`index.html`作为起点的情况下阅读它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:23:38.423

在您的 servlet 中创建该`doPost(req,resp)`方法并将其映射到`web.xml`

```
<servlet>
        <servlet-name>HelloPost</servlet-name>
        <servlet-class>packageName.HelloPost</servlet-class>
</servlet>

<servlet-mapping>
        <servlet-name>HelloPost</servlet-name>
        <url-pattern>/post-url</url-pattern>
</servlet-mapping> 
```

然后您可以将您的请求发布到`/post-url`。您不需要使用 index.html。任何 url 都可以放在欢迎文件中以加载 url`/` 要设置`/post-url`为登录页面，请使用

```
<welcome-file-list>
        <welcome-file>/post-url</welcome-file>
</welcome-file-list> 
```

你可以从这里开始[https://developers.google.com/appengine/docs/java/gettingstarted/creating](https://developers.google.com/appengine/docs/java/gettingstarted/creating)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:31:44.770

如果您想知道如何设置`web.xml`启动 servlet，那么[这](http://tutorials.jenkov.com/java-servlets/web-xml.html)可能会对您有所帮助。

# c# - 如何知道计算机上运行的特定应用程序

> ID：12720596
> 
> 赞同：1
> 
> 时间：2012-10-04T05:09:32.730
> 
> 标签：c#

我想检查特定应用程序是否在同一台计算机上运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:14:09.540

好吧，你可以检查一个特定`Exe`的是否正在运行，

```
bool isRunning = Process.GetProcessesByName("FooAppName")
            .FirstOrDefault(p => p.MainModule.FileName
            .StartsWith(@"c:\Barloc1")) != default(Process); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:19:36.980

如果您知道进程名称，则可以运行以下代码：

```
Process[] proc = Process.GetProcessesByName("MyApplication");
if(proc.Length== 0)
{
    // No process with name "MyApplication" is running
} 
```

如果您的应用程序支持多个实例，那么`proc.Length`将为您提供系统上运行的实例数。

# iphone - 保存执行事件的当前时间

> ID：12720608
> 
> 赞同：2
> 
> 时间：2012-10-04T05:10:45.043
> 
> 标签：iphone, time, zbar-sdk

在我的应用程序中，我使用 zbar sdk 扫描票证，并且我想在相机拍摄时将当前时间保存在 sqlite 中。我怎样才能做到这一点。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:17:34.793

以下代码用于获取设备本地当前时间。

```
 NSDate* sourceDate = [NSDate date];

    NSTimeZone* sourceTimeZone = [NSTimeZone timeZoneWithAbbreviation:@"GMT"];
    NSTimeZone* destinationTimeZone = [NSTimeZone systemTimeZone];

    NSInteger sourceGMTOffset = [sourceTimeZone secondsFromGMTForDate:sourceDate];
    NSInteger destinationGMTOffset = [destinationTimeZone secondsFromGMTForDate:sourceDate];
    NSTimeInterval interval = destinationGMTOffset - sourceGMTOffset;

    NSDate* destinationDate = [[[NSDate alloc] initWithTimeInterval:interval sinceDate:sourceDate] autorelease]; 
```

愿这对编码有很大帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:19:58.873

你可以这样写：

```
NSDate *currentTime = [NSDate date]; 
```

然后，如果需要，您可以使用`NSDateComponents`or从 NSDate 对象中提取适当的值。`NSDateFormatter`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:31:11.090

当您单击 ZBarReaderController 上的保存时，此波纹管方法称为..

```
- (void) imagePickerController: (UIImagePickerController*) reader didFinishPickingMediaWithInfo: (NSDictionary*) info
{

 NSDate *currentDateandTime = [NSDate date];
   /// and save this date and time in your database

  ////with date formate see bellow my edited answer 
  /// this for get string from date with formate
  NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
  [dateFormatter setDateFormat:@"EEE, dd-MM-yyyy hh:mm:ss a"];
  NSString *dateString = [dateFormatter stringFromDate:[NSDate date]];
  NSLog(dateString); 

 /// for get date from string with different formate use bellow code
 NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
 [dateFormatter setDateFormat:@"EEE, d MMM yyyy HH:mm:ss z"];

 NSDate *date = [dateFormatter dateFromString: dateString];

} 
```

有关 NSDate 的更多详细信息，请参阅我的博客链接。

[http://parasjoshi3.blogspot.in/2012/01/convertstringtodatetostring.html](http://parasjoshi3.blogspot.in/2012/01/convertstringtodatedatetostring.html)

我希望这可以帮助你...

:)

# userscripts - 用户脚本在域外中断页面

> ID：12720609
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:10:47.480
> 
> 标签：userscripts

即使我的用户脚本仅限于一个域，但当我的脚本处于活动状态时，我访问的任何使用 Jquery 的站点都会遇到各种令人讨厌的问题。检查 chrome 中的错误控制台会在所有站点上显示相同的错误：

“未捕获的类型错误：对象 [对象窗口] 的属性 '$'”

这是什么原因造成的？我的目标是让我的用户脚本在使用 jquery 和原型的网站上以无冲突模式运行。我没有制作上面的代码`var = myFunction`，所以我不知道它是什么导致了我遇到的问题。有什么建议么？

```
// ==UserScript==
// @name          Restore Dashboard Tags
// @namespace     http://userstyles.org
// @description   This script restores a user's tracked tag list to the sidebar on tumblr
// @author       
// @homepage     
// @history       1.0 first version
// @include http://www.tumblr.com/*
// @match   http://www.tumblr.com/*

// ==/UserScript==

var jQuery, $ = null;

function addJQuery(callback) {
var p = null;

if(window.opera || window.navigator.vendor.match(/Google/)) {
    var div = document.createElement("div");
    div.setAttribute("onclick", "return window;");
    p = div.onclick();
}
else {
    p = Window;
}

jQuery = $ = p.jQuery.noConflict();
callback();
}

var myFunction = function() {
jQuery('div#right_column ul:first-child').after('<ul class="controls_section" id="tracked_tags"></ul>');
jQuery('div.tracked_tags a').each(function (i) {
    var tagID = jQuery(this).attr("id");
    var tagIDNumber = tagID.replace('tag_','');
    var tagName = jQuery(this).attr("href");
    var tagNameClean = tagName.replace('/tagged/','');
    var tagContent ='';
    tagContent += '<li><a href="'+tagName+'" id="'+tagID+'" class="tag">';
    tagContent += '<div class="hide_overflow">'+tagNameClean+'</div>';
    tagContent += '<span id="tag_unread_'+tagIDNumber+'" class="count" style=""></span></a></li>';                  
    jQuery(tagContent).appendTo('div#right_column ul#tracked_tags');                                                                      
}); 
};

var NewPosts = function(){
    jQuery('div.tracked_tags > div').each(function (i) {
        var thisIndex = jQuery(this).index();
        if (jQuery(this).find('small').length){         
            var postCount = jQuery(this).find('small').text();      
            jQuery('div#right_column ul#tracked_tags li:eq('+thisIndex+')').find('.count').html(postCount.replace("new posts", "") );
        }
    });
                setTimeout(NewPosts,30000);
}

addJQuery(myFunction);
addJQuery(NewPosts); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:29:38.703

问题已经解决了！另一个站点上的某个人将罪魁祸首标识为`jQuery = $ = p.jQuery.noConflict();`；因为我没有加载我自己的 Jquery 副本，所以我不需要 noConflict，它的用法是从页面的其余部分隐藏 Jquery。

# hadoop - 如何在oozie中指定多个jar文件

> ID：12720610
> 
> 赞同：3
> 
> 时间：2012-10-04T05:10:46.863
> 
> 标签：hadoop, mapreduce, oozie

我需要解决以下问题：我的项目有两个罐子，其中

一个 jar 包含所有 bean 类，如 Employee 等，另一个 jar 包含使用第一个 jar bean 类的 MR 作业，因此当我尝试将 MR 作业作为简单的 java 程序运行时，我面临找不到类的问题（com. abc.Employee 类未找到，因为它在另一个 jar 中）所以任何人都可以为我提供如何解决问题的解决方案....因为实时可能有很多 jars 不是 1 或 2 如何指定所有这些 jars 可以任何人请尽快回复。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:38:35.497

您应该`lib`在 HDFS 目录中有一个文件夹，用于存储 Oozie 工作流。您可以将两个 jar 文件放在此文件夹中，当您的 MR 作业执行时，oozie 将确保两者都在类路径中：

```
hdfs://namenode:8020/path/to/oozie/app/workflow.xml
hdfs://namenode:8020/path/to/oozie/app/lib/first.jar
hdfs://namenode:8020/path/to/oozie/app/lib/second.jar 
```

有关更多详细信息，请参阅[工作流应用程序部署](http://oozie.apache.org/docs/3.3.2/WorkflowFunctionalSpec.html#a7_Workflow_Application_Deployment)

如果您经常在多个 oozie 工作流中使用 jars，您可以将这些常用 jars（例如 HBase jars）放在 HDFS 中的一个目录中，然后在 oozie 属性中表示以包含该文件夹的 jars更多详细信息请参阅[HDFS 共享库](http://oozie.apache.org/docs/3.3.2/WorkflowFunctionalSpec.html#a17_HDFS_Share_Libraries_for_Workflow_Applications_since_Oozie_2.3)

# asp.net-mvc - 无法添加使用从其他类继承的类的控制器

> ID：12720611
> 
> 赞同：2
> 
> 时间：2012-10-04T05:10:47.730
> 
> 标签：asp.net-mvc, entity-framework, entity-framework-4, entity-framework-4.1, entity-relationship

我正在使用 Entity Framework 和 MVC3，我的问题是如果该类继承自另一个类，我将无法构建控制器。

例子：

这是基类

```
using System;
using System.Collections.Generic;

    namespace CRMEntities
    {
        public partial class Company
        {
            public int Id { get; set; }
        }

    } 
```

这是领导班（儿童）

```
using System;
using System.Collections.Generic;

namespace CRMEntities
{
    public partial class Lead : Company
    {
        public Lead()
        {
            this.Status = 1;
            this.IsQualified = false;

        }

        public Nullable<short> Status { get; set; }
        public Nullable<bool> IsQualified { get; set; }

    }

} 
```

当我尝试在下面添加控制器时，错误来了......

![在此处输入图像描述](../Images/dca0fe5aff83d5da41ed5744a87ffa15.png)

上下文类代码

```
using System;
using System.Data.Entity;
using System.Data.Entity.Infrastructure;

namespace CRMEntities
{
    public partial class CRMWebContainer : DbContext
    {
        public CRMWebContainer()
            : base("name=CRMWebContainer")
        {
        }

        protected override void OnModelCreating(DbModelBuilder modelBuilder)
        {
            throw new UnintentionalCodeFirstException();
        }

        public DbSet<Employee> Employees { get; set; }
        public DbSet<Contact> Contacts { get; set; }
        public DbSet<Product> Products { get; set; }
        public DbSet<Location> Locations { get; set; }
        public DbSet<Task> Tasks { get; set; }
        public DbSet<EventInfo> EventInfoes { get; set; }
        public DbSet<Opportunity> Opportunities { get; set; }
        public DbSet<Comment> Comments { get; set; }
        public DbSet<Document> Documents { get; set; }
        public DbSet<LoginInformation> LoginInformations { get; set; }
        public DbSet<CRMLog> CRMLogs { get; set; }
        public DbSet<EntitySharing> EntitySharings { get; set; }
        public DbSet<EntityFlagging> EntityFlaggings { get; set; }
        public DbSet<EntityTagging> EntityTaggings { get; set; }
        public DbSet<EntitySubscribing> EntitySubscribings { get; set; }
        public DbSet<Compapny> Compapnies { get; set; }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T13:27:57.703

MVC AddController 窗口检查您正在添加的 ModelType 的属性 DbSet。您应该像 vicentedealencar 所说的那样，添加到您的`CRMWebContainer`：

```
[Obsolete("Design only", true)]
public DbSet<Lead> Leads { get; set; } 
```

请记住，您不应在代码中使用此属性（这就是过时属性的原因），因为获取潜在客户的正确方法是使用：

```
var leads = Companies.OfType< Lead >(); 
```

# ruby-on-rails - 发送邀请后Rails设计邀请重定向

> ID：12720612
> 
> 赞同：10
> 
> 时间：2012-10-04T05:10:55.927
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise

我得到了邀请安装和工作的设计。试图弄清楚在用户发出邀请后如何重定向用户。现在它正在将我重定向到根目录。我以为您可以在下面的方法中设置自定义路径，但它不起作用。如果有人知道在发送邀请后在哪里自定义路径，请提前致谢。

```
 def after_invite_path_for(resource)
    new_profile_path
  end 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-09T21:33:21.207

我偶然发现了你的问题，因为我遇到了同样的问题。据我所知，您覆盖 after_invite_path_for 的预期方法是覆盖 Devise::InvitationsController。

```
class Users::InvitationsController < Devise::InvitationsController
  def after_invite_path_for(resource)
    new_profile_path
  end
end 
```

路线.rb

```
devise_for :users, :controllers => { :invitations => "users/invitations" } 
```

如果 devise invitable 像 devise proper 一样工作，并且您可以在应用程序控制器中覆盖其后邀请/接受路径，那就太好了。我修改了 devise_invitable 以这种方式工作并提交了一个拉取请求。我不确定它是否会被接受，但您可以在这里查看：[https](https://github.com/scambra/devise_invitable/pull/240) ://github.com/scambra/devise_invitable/pull/240 。

如果该功能被接受，您可以通过将其放入初始化程序中来修补您当前版本的 invitable 以尊重应用程序控制器中的邀请/接受后路径的定义：

```
#make invitable's path functions overridable in application controller
[:after_invite_path_for, :after_accept_path_for].each do |method|
  Devise::InvitationsController.send(:remove_method, method) if ApplicationController.method_defined? method
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-04-23T13:25:27.723

不确定这是一件好事……还是更糟糕的事情，但是您可以提出：

```
 def after_invite_path_for(resource)
    new_profile_path
  end 
```

在您的应用程序控制器中......似乎工作正常！

# vb.net - 使用 vb.net 在 DirectoryEntry 中出现错误

> ID：12720623
> 
> 赞同：2
> 
> 时间：2012-10-04T05:11:59.333
> 
> 标签：vb.net, active-directory, ldapconnection

我正在使用 vb.net 和以下代码，但出现错误。我是 vb.net 和 Active Directory 的新手，请帮我解决这个问题。

我的代码：

```
Dim dirEntry As DirectoryEntry = New DirectoryEntry()
    dirEntry.Path = "ldap://sunbs.in:389/CN=Schema,CN=Configuration,DC=sunbs,DC=in"
    dirEntry.Username = "sunbs.in\sbsldap"
    dirEntry.Password = "sbs@123"
    Dim searcher As New DirectorySearcher
    searcher.SearchRoot = dirEntry 
```

当我调试代码时，我在第二行出现错误。未知错误（0X80005000）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:23:42.650

尝试`LDAP://`为您的 使用大写前缀`dirEntry.Path`：

```
Dim dirEntry As DirectoryEntry = New DirectoryEntry()

' use LDAP:// - not ldap://
dirEntry.Path = "LDAP://sunbs.in:389/CN=Schema,CN=Configuration,DC=sunbs,DC=in" 

dirEntry.Username = "sunbs.in\sbsldap"
dirEntry.Password = "sbs@123"
Dim searcher As New DirectorySearcher
searcher.SearchRoot = dirEntry 
```

# mysql - 在 Jquery Mobile 中更改 div 的内容

> ID：12720628
> 
> 赞同：1
> 
> 时间：2012-10-04T05:12:33.517
> 
> 标签：mysql, ajax, jquery-mobile

我正在使用从 mysql 接收到的数据，然后尝试从该数据中创建一个列表。这是我的connection.php

```
 <?php
    $dbhost='localhost';
    $dbuser='amey19_amey';
    $dbpass='project';
    $db='amey19_project';
    $conn=mysql_connect($dbhost,$dbuser,$dbpass) or die("Could not connect");
    mysql_select_db($db);
    ?> 
```

这是我的 index1.php

```
 <?php
    include 'connection.php';
    $query="SELECT * from railway";

    $result=mysql_query($query) or die(mysql_error());
    //while($person=mysql_fetch_array($result)){
    $person=mysql_fetch_array($result)
    echo json_encode($person);

    //}
    ?> 
```

这是代码

```
 <html> 
        <head> 
        <title>My Page</title> 
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />
        <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js">    </script>
        <script type="text/javascript" src="global.js">
        </script>

    </head> 
    <body> 

    <div data-role="page" id="page1">

        <div data-role="header">
            <h1>Railway Station</h1>
        </div><!-- /header -->

        <div data-role="content">
        <input type="button" value="Refresh" id="submit" data-icon="refresh" /></br>
        <div data-role="content" id="list"> 
    <script id="source" language="javascript" type="text/javascript">

      $(function () 
      {

    $.ajax({                                      
      url: 'index1.php',                 
      data: "",                       

      dataType: 'json',              
      success: function(data)        
      {
        var id = data[0];            
        var vname = data[1];          

        $('#list').html("<b>id: </b>"+id+"<b> name: </b>"+vname); 

      } 
    });
      }); 

  </script>

    </div>
    </div>
    <div data-role="footer">
            <h1>&copy;AmeyPat.All Rights Reserved.</h1>
        </div><!-- /footer -->

    </body>
    </html> 
```

如何更改仅列表标签的内容..我对 jquery mobile 很陌生..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:38:25.543

首先，您需要确保您的 php 返回格式正确的 JSON，在这种情况下，它将是 {id:1,name:"Name"} 对象的数组。例如，您可以查看[此页面](https://stackoverflow.com/questions/6281963/how-to-build-a-json-array-from-mysql-database)。你会得到类似的东西

```
$fetch = mysql_query("SELECT * from railway"); 

while ($row = mysql_fetch_array($fetch, MYSQL_ASSOC)) {
  $row_array['id'] = $row['id'];
  $row_array['name'] = $row['name'];

  array_push($return_arr,$row_array);
}

echo json_encode($return_arr); 
```

在客户端，如果您想从[jquery mobile listviews](http://jquerymobile.com/test/docs/lists/docs-lists.html)中受益，您可能应该更改`<div data-role="content" id="list">`为`<ul data-role="listview" id="list">`.

然后，您应该考虑将 js 代码移动到标头，并将其绑定到`pageinit`事件。

您还需要修改成功函数以遍历数组并将元素添加到列表中。

```
$(document).live('pageinit',function (event) {
    $.ajax({
        url: 'index.php',
        data:"",
        dataType: 'json',
        success: function(data)        
          {
            for (var i = 0; i < data.length; i++) {
              $('#list').append("<li><b>id: </b>"+ data[i].id +"<b> name: </b>"+ data[i].name + "</li>"); 
            }
         }
    });
}); 
```

然后，您可能需要刷新列表视图`$('#mylist').listview('refresh');`以为其提供正确的 jquery 移动格式

# css - body 标签是否有一些样式规则来控制其他元素？

> ID：12720631
> 
> 赞同：0
> 
> 时间：2012-10-04T05:12:44.610
> 
> 标签：css, styling

这是我的 HTML 结构

```
<html>
   <head>
      <style></style>
      <title></title>
   </head>
   <header></header>
   <nav></nav>
   <body></body>
   <footer></footer>
</html> 
```

这就是风格

```
html{
    height:99%;
    width: 99%;
    position:absolute;} 

header{
    position:absolute;
    top:0%;     left:0%;
    width:100%; height:7%;}

nav{
    position:absolute;
    top:7%;    left:0%;
    width:10%; height:85%;}

body{
    position:absolute;
    top:0%;    left:0%;
    width:90%; height:90%;}

footer{
    position:absolute;
    top:100%;  left:0%;
    height:5%; width:100%;} 
```

*我确实有边框和背景颜色来识别页面上的元素，但为简洁起见省略了。*

我希望它如下所示，**每个元素都相对于 html 标签进行设置（定位）**。但是当我定位身体时，所有其他的东西都会随之移动。即使他们不是标签的孩子。

```
 ------------------------------
|           Header            |
|¯¯¯¯|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|
|    |                        |
|Nav |                        |
|    |       Body             |
|    |                        |
|____|________________________|
|            Footer           |
¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:21:13.923

该[`<html>`元素只能包含`<head>`和`<body>`元素](http://dev.w3.org/html5/spec/single-page.html#the-html-element)*：

```
<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
  </body>
</html> 
```

所有用于表示的元素都属于该`<body>`元素：

```
<!DOCTYPE html>
<html>
  <head>
    <title>Example</title>
  </head>
  <body>
    <header>
      <h1>Example</h1>
    </header>
    <div>
      <p>Lorem ipsum dolor sit amet.</p>
    </div>
    <footer>
      <address>
        Some location
      </address>
    </footer>
  </body>
</html> 
```

一切都相对于元素移动的原因是，在元素[之后立即创建](http://dev.w3.org/html5/spec/single-page.html#optional-tags)`<body>`了一个[隐式元素`<body>``<head>`](http://dev.w3.org/html5/spec/single-page.html#optional-tags)以包含结构元素。

[* 假设 HTML5]

# c - 运行带有 chroot 的二进制文件面临的问题

> ID：12720632
> 
> 赞同：1
> 
> 时间：2012-10-04T05:12:50.990
> 
> 标签：c, linux, ubuntu, net-snmp, chroot

```
#usr/sbin/chroot /var/snmp3/ /usr/local/bin/ionline
/usr/sbin/chroot: syntax error near unexpected token `execve("/var/snmp3/",'
/usr/sbin/chroot: /usr/sbin/chroot: line 1: `execve("/var/snmp3/", ["/var/snmp3/", "/usr/local/bin/ionline2"], [/* 25 vars */]) = -1 EACCES (Permission denied)'

#usr/sbin/chroot /var/snmp1/ /usr/local/bin/ionline
    /usr/sbin/chroot: syntax error near unexpected token `execve("/var/snmp3/",'
    /usr/sbin/chroot: /usr/sbin/chroot: line 1: `execve("/var/snmp3/", ["/var/snmp3/", "/usr/local/bin/ionline2"], [/* 25 vars */]) = -1 EACCES (Permission denied)' 
```

这是我的名为“ionline”的二进制文件，我正在尝试以“chroot”模式运行它，在这里我将/var/snmp3 定义为chroot。

我的 chroot 显示以下错误.... 这些是什么？这里发生了什么？谁能指导我？如何解决它们？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:29:46.647

看起来你在某个时候`/usr/sbin/chroot`用输出覆盖了你的`strace`......你可能不得不替换二进制文件。

# android - 运行问题时没有命令输出

> ID：12720635
> 
> 赞同：2
> 
> 时间：2012-10-04T05:13:15.123
> 
> 标签：android, r.java-file, failed-installation

我有一个错误[Project has no default.properties file](https://stackoverflow.com/questions/12649856/project-has-no-default-properties-file)。

当我解决该错误时，R.java 出现错误。清理项目时未生成 R.java。在错误日志中也出现 4 个错误。我有错误，

1.  运行时无命令输出：`m start -n com.helloandroid.canvastutorial/com.helloandroid.canvastutorial.Canvastutorial -a android.intent.action.MAIN -c android.intent.category.LAUNCHER`在设备 emulator-5554 上

2.  无法加载项目“SplashScreen”的属性文件

3.  Unable to read E:\android-sdk\AndroidManifest.xml: java.io.FileNotFoundException: E:\android-sdk\AndroidManifest.xml（系统找不到指定的文件）

4.  无法加载项目“post-a-card_26_09_2012_SourceCode”的属性文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:16:58.197

如果您的布局或项目设置存在问题，则不会生成 R.java 文件。因此，首先尝试解决项目中的任何错误，然后清理项目，将生成 R.java。

试试这个：右键单击项目-> android 工具-> 修复项目属性

# iphone - MFMessageComposeViewController：我可以用自定义动画呈现吗？

> ID：12720640
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:13:57.603
> 
> 标签：iphone, objective-c, ios

这就是我想做的。不确定是否可能，但如果有一个应用商店可以接受的干净代码的答案，我非常乐意为此提供赏金！

**- 呈现带有自定义动画的 MFMessageComposeViewController。（这是一个模态视图控制器）。**

**- 然后我想用自定义动画关闭这个 MFMessageComposeViewController，同时在 MFMessageComposeController 的新实例上制作动画。（再次，自定义动画）。**

为了这个问题，让我们简单地说，第一个 MFMessageComposeViewController 应该从右侧滑入，然后它应该滑到左侧（按下发送按钮时），而新实例从右侧滑入（很像导航控制器的默认推送动画）。

如果这是不可能的，那么解释为什么没有办法做到这一点会很好:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-14T08:32:18.647

不，但你可以做一个小把戏，看起来就像你希望的那样。

```
- (IBAction)showComposer:(id)sender {
    // 1) get the prepared image of empty composer
    UIImageView *composerView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"preparedImage"]];
    composerView.frame = rightOffscreenFrame;
    [self.view addSubview:composerView];
    // 2) do any transitions, and transforms with it
    [UIView animateWithDuration:0.33 animations:^{
        composerView.frame = self.view.bounds;
    } completion:^(BOOL finished) {
        if (finished) {
            // 3) when it is time, just add a real composer without animation
            MFMailComposeViewController *composer = [[MFMailComposeViewController alloc] init];
            composer.mailComposeDelegate = self;
            [self presentViewController:composer animated:NO completion:^{
                [composerView removeFromSuperview];
            }];
        }
    }];

}

- (void)mailComposeController:(MFMailComposeViewController *)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError *)error
{
    // 4) when user will send message, render the new image with content of composer
    UIGraphicsBeginImageContext(self.view.bounds.size);
    [controller.view.layer renderInContext:UIGraphicsGetCurrentContext()];
    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    UIImageView *composerView = [[UIImageView alloc] initWithImage:newImage];
    composerView.frame = self.view.bounds;
    // 5) show it below composer, close composer without animation.
    [self.view addSubview:composerView];
    [self dismissViewControllerAnimated:NO completion:^{
        // 6) do any transitions, and transforms with image.
        [UIView animateWithDuration:0.33 animations:^{
            composerView.frame = leftOffscreenFrame
        } completion:^(BOOL finished) {
            if (finished) {
                [composerView removeFromSuperview];
            }
        }];
    }];
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-12T23:05:45.460

好吧，我不得不说你真的引起了我的好奇心。现在，就您的问题而言，看起来您对此无能为力。

我采取了几种不同的方法来尝试以默认风格以外的风格呈现作曲家，但收效甚微。我能得到的最接近的是：

```
UIViewAnimationTransition trans = UIViewAnimationTransitionCurlDown;
[UIView beginAnimations:nil context:nil];
[UIView setAnimationTransition:trans forView:[self view] cache:YES];
[self presentViewController:controller animated:NO completion:nil];
[UIView commitAnimations]; 
```

使用这种呈现方式产生了动画效果，但实际上似乎并不适用于作曲家。这只是一个空白页翻转。我还尝试手动添加诸如 alpha 之类的过渡效果，并直接对作曲家视图属性进行转换调整，但这也没有多大作用。

[一切](http://developer.apple.com/library/ios/#Documentation/MessageUI/Reference/MFMessageComposeViewController_class/Reference/Reference.html#importantbox%20clear)都在沸腾：

> 重要提示：消息组合接口本身不可自定义，并且不得由您的应用程序修改。此外，在呈现界面后，您的应用程序无法对 SMS 内容进行进一步的更改。用户可以使用界面编辑内容，但程序更改会被忽略。因此，如果需要，您必须在呈现界面之前设置内容字段的值

**编辑：**实际上我想我可能已经找到了一种方法来完成这项工作。您似乎仍然不太可能使用任何类型的自定义转换，而且我不能保证 Apple 会批准这一点，但这应该允许您展示 composer 导航控制器推送样式！

而不是使用：

```
[self presentViewController:controller animated:YES completion:nil]; 
```

采用：

```
[self.navigationController pushViewController:[[controller viewControllers] lastObject] animated:YES]; 
```

这实际上允许您推送给作曲家。默认情况下，此行为不受支持，并会导致错误提示您无法推**送到**导航控制器（作曲家）。

然后跟进，在`- (void)messageComposeViewController:(MFMessageComposeViewController *)controller didFinishWithResult:(MessageComposeResult)result`简单使用：

```
[self.navigationController popToRootViewControllerAnimated:YES]; 
```

代替：

```
[self dismissViewControllerAnimated:YES completion:nil]; 
```

**编辑2：**对不起，看起来我忘记了你的问题之一。如果您想从作曲家的一个实例推送到另一个实例，您可以为每个作曲家创建 iVar，在 viewDidLoad 中设置它们，然后在`didFinishWithResult`. 然而，这只是部分地解决了问题。就目前而言，我在下面发布的代码可以正常工作，但不能很好地备份。我相信这样做的原因是作曲家希望在成功发送消息后关闭并使其为零，因此取消但被自动禁用。

总的来说，如果你稍微弄乱它，你仍然应该能够让它工作。

```
 - (void)messageComposeViewController:(MFMessageComposeViewController *)controller didFinishWithResult:(MessageComposeResult)result {

    switch (result) {
        case MessageComposeResultCancelled:
            if (controller == firstComposer) {
                [self.navigationController popToRootViewControllerAnimated:YES];
            }
            else if (controller == secondComposer) {
                [self.navigationController popToViewController:[self.navigationController.viewControllers objectAtIndex:1] animated:YES];
            }

            break;
        case MessageComposeResultFailed:
            NSLog(@"Failed");
            break;
        case MessageComposeResultSent:

            if (controller == firstComposer) {
                [self.navigationController pushViewController:[[secondComposer viewControllers] lastObject] animated:YES];
                [secondComposer becomeFirstResponder];
            }
            break;
        default:
            break;
    }
} 
```

[链接下载我在其中制作的项目。](http://dl.dropbox.com/u/91385349/composers.zip)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T11:05:28.713

**MFMailComposeViewController**作为模态视图与 Apple 的 HIG 一致。将其推送到导航堆栈不是。采用 ：

```
-presentModalViewController:animated:

-presentViewController:animated:completion` (if supporting iOS 5). 
```

如果你真的想要一些顺从的使用**modalTransitionStyle**

```
mail.modalTransitionStyle=UIModalTransitionStyleFlipHorizontal; 
mail.modalTransitionStyle=UIModalTransitionStyleCoverVertical;
mail.modalTransitionStyle = UIModalTransitionStylePartialCurl; 
mail.modalTransitionStyle = UIModalTransitionStyleCrossDissolve; 
```

并且还使用**modalPresentationStyle**。

FMailComposeViewController 是 UINavigationController 并且不支持推送导航控制器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T05:32:51.997

我不认为这是可能的，因为它是苹果提供的自定义组件

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-28T19:53:58.520

最近面临这个任务。我需要实现导航堆栈的类似推送和弹出的转换。
这是我的实现：

```
extension MFMailComposeViewController: UIViewControllerTransitioningDelegate, UIViewControllerAnimatedTransitioning {

convenience init(_ customTransition: Bool) {
    self.init()
    if customTransition { self.transitioningDelegate = self }
}

public func animationController(forPresented presented: UIViewController, presenting: UIViewController, source: UIViewController) -> UIViewControllerAnimatedTransitioning? {
    return self
}

public func animationController(forDismissed dismissed: UIViewController) -> UIViewControllerAnimatedTransitioning? {
    return self
}

public func transitionDuration(using transitionContext: UIViewControllerContextTransitioning?) -> TimeInterval {
    return 1.0
}

public func animateTransition(using transitionContext: UIViewControllerContextTransitioning) {

    let containerView = transitionContext.containerView
    guard let fromVC = transitionContext.viewController(forKey: UITransitionContextViewControllerKey.from),
        let toVC = transitionContext.viewController(forKey: UITransitionContextViewControllerKey.to)
        else { return }

    var start = transitionContext.initialFrame(for:fromVC)
    var end = transitionContext.finalFrame(for:toVC)

    if toVC is MFMailComposeViewController {
        start.origin.x -= containerView.bounds.width
        end.origin.x = 0.0

        let v1 = transitionContext.view(forKey:.from)!
        let v2 = transitionContext.view(forKey:.to)!
        v2.frame.origin.x = containerView.bounds.width

        containerView.addSubview(v2)

        UIViewPropertyAnimator.runningPropertyAnimator(withDuration: 0.3, delay: 0, options: .curveEaseOut, animations: {
            v1.frame.origin.x -= containerView.bounds.width/3
            v2.frame = end
        }) { _ in
            transitionContext.completeTransition(!transitionContext.transitionWasCancelled)
        }

    } else {
        start.origin.x = containerView.bounds.width
        end.origin.x = 0.0

        let v1 = transitionContext.view(forKey:.from)!
        let v2 = transitionContext.view(forKey:.to)!
        v2.frame.origin.x = -containerView.bounds.width/3

        containerView.insertSubview(v2, belowSubview: v1)

        UIViewPropertyAnimator.runningPropertyAnimator(withDuration: 0.3, delay: 0, options: .curveEaseOut, animations: {
            v2.frame = end
            v1.frame = start
        }) { _ in
            transitionContext.completeTransition(!transitionContext.transitionWasCancelled)
        }
    }
} 
```

}

上面，我们已经为 MFMailComposeViewController 实现了一个扩展，其中的关键是一个带有一行的初始化：`self.transitioningDelegate = self`
接下来，我们编写控制器的伪代码，其中 MFMailComposeViewController 将被初始化并呈现我们需要的转换：

```
class ViewController: UIViewController, MFMailComposeViewControllerDelegate {

@IBAction func testAction(_ sender: UIButton) {
    let mailComposerVC = MFMailComposeViewController(true)
     mailComposerVC.mailComposeDelegate = self
    //then we configure the controller for our needs
    self.present(mailComposerVC, animated: true, completion: nil)
}

func mailComposeController(_ controller: MFMailComposeViewController, didFinishWith result: MFMailComposeResult, error: Error?) {

    controller.dismiss(animated: true, completion: {
       //configure result
    })
} 
```

}

瞧，一切都像魅力一样！

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-10-04T06:22:03.583

它是可能的，并且你可以将它用作普通的 ViewController，在我使用的一个应用程序中，modalTransistion 样式作为溶解并且它在存储中......

还有一件事，开发人员决定如何呈现邮件编写器，以及如何关闭它。

由我们而不是 iOS/Apple 处理的呈现和解散。

# sql - 在 ruby on rails 中提取不同用户的最新记录

> ID：12720642
> 
> 赞同：2
> 
> 时间：2012-10-04T05:13:59.290
> 
> 标签：sql, ruby-on-rails

数据库是这样的：

```
id testID date
1  100    10/12/2012
2  100    10/13/2012
3  102    10/14/2012 
```

我们称这个数据库为“测试”

我希望输出是一个 ActiveRecord:Relation 包含

```
id testID date
2  100    10-13-2012
3  102    10-14-2012 
```

我知道如何将结果作为数组获取，如下所示：

```
result = []
testIDList = Test.uniq.pluck(:testID)
testIDList.each do |tID|
    result = result + Test.where(:testID => tID).order('date DESC').limit(1)
end 
```

在这种情况下，结果是一个 ActiveRecord:Relation 数组但我希望结果是一个 ActiveRecord:Relation，我尝试使用合并没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:46:10.910

尝试

```
 result = Test.order(:date).group(:testID) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:24:30.297

尝试这个：

```
result = Test.where(:testID => testIDList)
             .select("max(`date`) as recent_date").group(:testID) 
```

# string - 循环遍历每一行并将每个单词存储在一行中并在 R 中创建一个数据框

> ID：12720643
> 
> 赞同：0
> 
> 时间：2012-10-04T05:14:08.353
> 
> 标签：string, r, loops, dataframe

我有以下文件：

```
[1]/tI /tam /tCharlotte   
[2]/ti /tam /tcharlotte   
[3]/tYou /tare /tsmart  
[4]/tyou /tare /tsmart 
```

我希望输出数据框具有以下形式：

```
word      gloss  
I         i  
am        am      
Charlotte charlotte    
You       you    
are       are    
smart     smart 
```

是否可以为此编写代码？我需要按标签分隔文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:00:04.453

你的问题并不完全清楚。例如，

1.  您的文件中是否有数字 [1]、[2]、...？
2.  偶数行只是奇数行的小写版本吗？

忽略数字并假设奇数行和偶数行不同，一种解决方案是：

```
##Read in the data. 
tmp = read.table(textConnection("/tI /tam /tCharlotte   
/ti /tam /tcharlotte   
/tYou /tare /tsmart  
/tyou /tare /tsmart"), sep="\n", stringsAsFactors=FALSE)

##Take the odd rows
##gsub: remove white space
##strsplit: split the string on "\t"
##unlist: go from a list to a vector
c1 = unlist(
    strsplit(
        gsub(" ", "", tmp[seq(1,nrow(tmp), 2),]), "/t"))

##Ditto the even rows
c2 = unlist(
    strsplit(
        gsub(" ", "", tmp[seq(2,nrow(tmp), 2),]), "/t")) 
```

这为我们提供了两个可以放入数据框中的向量：

```
dd = data.frame(c1 = c1, c2 = c2) 
```

我想你不想要空行，所以只需删除它们：

```
dd[apply(dd, 1, function(i) sum(nchar(i))>0),] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T14:24:39.843

此解决方案类似于@csgillespie 的解决方案，但每次都在一个命令中完成（一旦读取数据）。

读取数据：

```
dat <- read.table(text = "/tI /tam /tCharlotte   
/ti /tam /tcharlotte   
/tYou /tare /tsmart  
/tyou /tare /tsmart", stringsAsFactors = FALSE) 
```

创建数据框：

```
structure(
 as.data.frame(
  lapply(
   lapply(list(c(TRUE, FALSE), c(FALSE, TRUE)),
          function(y) lapply(strsplit(
                              apply(dat, 1, "paste", collapse = ""), "/t"),
                             function(x) x[nchar(x) > 0])[y]),
   unlist)),
 .Names = c("word", "gloss")) 
```

# objective-c - MKMapView viewForAnnotation：返回零

> ID：12720645
> 
> 赞同：2
> 
> 时间：2012-10-04T05:14:14.017
> 
> 标签：objective-c, mkmapview, mkpinannotationview

我正在尝试从地图中删除图钉。我在 MKPinAnnotationView 的 @"selected" 属性上有一个观察者，所以我知道要删除哪个对象。当用户点击垃圾桶图标并选择了一个图钉时，将调用此方法：

```
- (IBAction)deleteAnnotationView:(id)sender {
    MKPinAnnotationView *pinView = (MKPinAnnotationView *)[self.mapView viewForAnnotation:self.currentAddress];
    [pinView removeObserver:self forKeyPath:@"selected"];

    [self.mapView removeAnnotation:self.currentAddress];
    [self.map removeLocationsObject:self.currentAddress];
} 
```

如果我不将别针拖到任何地方，这种方法就可以正常工作。如果我拖动图钉，我在上述方法中的 pinView 返回 nil，并且 MKPinAnnotationView 永远不会从 MKMapView 中删除。我不确定为什么。这是 didChangeDragState 委托方法：

```
- (void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view didChangeDragState:(MKAnnotationViewDragState)newState fromOldState:(MKAnnotationViewDragState)oldState {
    if (newState == MKAnnotationViewDragStateEnding) {
        CLLocationCoordinate2D draggedCoordinate = view.annotation.coordinate;

        CLGeocoder *geocoder = [[CLGeocoder alloc] init];
        CLLocation *location = [[CLLocation alloc] initWithLatitude:draggedCoordinate.latitude longitude:draggedCoordinate.longitude];
        [geocoder reverseGeocodeLocation:location completionHandler:^(NSArray *placemarks, NSError *error) {
            // Check for returned placemarks
            if (placemarks && [placemarks count] > 0) {
                CLPlacemark *topResult = [placemarks objectAtIndex:0];

                AddressAnnotation *anAddress = [AddressAnnotation annotationWithPlacemark:topResult inContext:self.managedObjectContext];
                view.annotation = anAddress;
                self.currentAddress = anAddress;
            }
        }];
    }
} 
```

在 didChangeDragState: 和 deleteAnnotationView: 方法中，我的 self.address 对象都有一个有效地址。但是由于某种原因，当 pin 被拖动时，pinView 为 nil。有什么想法吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T12:08:00.873

通过 KVO观察注释视图的属性`selected`应该是不必要的，因为在.`didSelectAnnotationView``selectedAnnotations``MKMapView`

假设用户选择pin*后*点击垃圾桶，垃圾桶点击方法可以通过`selectedAnnotations`属性获取当前选中的注解。例如：

```
if (mapView.selectedAnnotations.count == 0)
{
    //No annotation currently selected
}
else
{
    //The currently selected annotation is the first object in the array...
    id<MKAnnotation> ann = [mapView.selectedAnnotations objectAtIndex:0];

    //do something with ann...
} 
```

在上面的例子中，不需要访问注解的视图，不需要观察者，也不需要你自己的“currentAddress”属性。

相反，如果您想在选择注释时立即执行某些操作，则可以将代码放在`didSelectAnnotationView`委托方法中。在那里，选择的注释是`view.annotation`。

关于拖拽端的问题，目前的代码完全替代了视图的`annotation`. `viewForAnnotation`我认为只有在委托方法中创建或重用视图时，这才是一个好主意。在拖尾方法中，您应该尝试更新`view.annotation`的属性，而不是替换为全新的对象。

# php - PHP SQLite PDO 检查用户是否在表中？

> ID：12720648
> 
> 赞同：3
> 
> 时间：2012-10-04T05:14:52.910
> 
> 标签：php, sqlite, pdo

我正在尝试创建一个脚本来检查提供的用户名是否在“users”表中，但“if”语句总是返回 false。users 表只有一列“username”，列出了所有用户。我究竟做错了什么？

```
$dbh = new PDO("sqlite:db.sqlite");
$stmt = $dbh->prepare("SELECT username from users where username = :name");
$stmt->bindParam(":name", $user);
$stmt->execute();

if($stmt->rowCount() > 0)
{
    //in the table
}
else{
    //not in the table
} 
```

整个脚本：

```
<?php
require_once 'mclogin.class.php';
$api = new MinecraftAPI();
$user = $_POST['user'];
$password = $_POST['pword'];
if($api->login($user, $password)){
print $user;
$dbh = new PDO("sqlite:db.sqlite");
$stmt = $dbh->prepare("SELECT username from users where username = :name");
$stmt->bindParam(":name", $user);
$stmt->execute();

if($stmt->rowCount() > 0)
{
    echo "You are whitelisted";
}
else{
    echo "You are not whitelisted";
}

}else{
echo "Bad login";
}
?> 
```

发送信息的页面：

```
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title></title>
    </head>
    <body>

      <form name="input" action="login.do.php" method="post">
Username: <input type="text" name="user">
Password: <input type="password" name="pword">
<input type="submit" value="Submit">
      </form>  
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T06:05:17.547

***笔记：***

> PDOStatement::rowCount() 返回受相应 PDOStatement 对象执行的最后一个**DELETE、INSERT 或 UPDATE语句影响的行数。**
> 
> 如果关联 PDOStatement 执行的最后一条 SQL 语句是 SELECT 语句，则某些数据库可能会返回该语句返回的行数。但是，**不能保证所有数据库都具有此行为** **，并且不应依赖于可移植** ***应用程序。***

您应该改用下面的方法，只需使用该`fetch()`方法检查结果是否为空。

```
$dbh = new PDO("sqlite:db.sqlite");
$stmt = $dbh->prepare("SELECT 1 from users where username = :name");
$stmt->bindParam(":name", $user);
$stmt->execute();

// use fetch instead of rowCount
if ($stmt->fetch()) {
  // in the table
} else {
  // not in the table
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:52:06.570

将第 2 行更改为

```
$stmt = $dbh->prepare("SELECT username from users where username = :name"); 
```

它会起作用。在 PDO 中使用参数背后的整个想法是，如果需要，它们会以 SQL 注入安全的方式自动引用。

出于您的目的，我通常使用：

```
$stmt = $dbh->prepare("SELECT COUNT(*) from users where username = :name"); 
```

这将返回一个结果，我总是可以直接在 if 之后直接使用，因为如果用户存在，它将返回一个，如果不存在则返回 0，或者在数据库错误时返回 false。

# ruby-on-rails - 通过使用 rspec 和 rack/test 在 rails3 上设计进行身份验证和 api_key 时出现奇怪的重定向

> ID：12720654
> 
> 赞同：0
> 
> 时间：2012-10-04T05:15:28.420
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rspec, rack

我在 Rails 3 上使用 rack/test 和 rspec 通过设计验证用户 api 密钥。我发出的任何请求都会返回状态 302 和响应：“您正在被重定向。”。似乎无法弄清楚如何进行身份验证。

```
require 'spec_helper'

describe Api::V1::CollectController do
  def app
    Rails.application
  end 

  context 'user' do
    subject do
      FactoryGirl.create :user
    end

    it 'allow valid api credentials' do
      post '/api/collect', {}, { 'Authentication' => subject.authentication_token }
      p last_response.body
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:41:22.323

我找到了一个可行的解决方案。但我不满意为什么原来的方法不起作用。我取消了机架/测试并改变了我与控制器的接口方式。以下工作。我现在主要是好奇...

```
require 'spec_helper'

describe Api::V1::CollectController do
  context 'user' do
    subject do
      FactoryGirl.create :user
    end

    it 'allow valid api credentials' do
      post :create, {}, { 'Authentication' => subject.authentication_token }
      p response.body
    end
  end
end 
```

# asp.net-mvc-3 - 在 MongoDB 中使用 C# 驱动程序更新嵌套数组

> ID：12720655
> 
> 赞同：0
> 
> 时间：2012-10-04T05:15:32.333
> 
> 标签：asp.net-mvc-3, c#-4.0, mongodb, mongodb-.net-driver

这是我的确切架构：

```
{
"_id" : ObjectId("4fb4fd04b748611ca8da0d45"),
"Name" : "Agent name",
"City" : "XXXX",
"BranchOffice" : [{

    "_id" : ObjectId("4fb4fd04b748611ca8da0d46"),
    "Name" : "Branch name",
    "City" : "XXXX",
    "SubBranch" : [{

        "_id" : ObjectId("4fb4fd04b748611ca8da0d47"),
        "Name" : "Sub-Branch Name",
        "City" : "XXXX"
        "Users" : [{

            "_id" : ObjectId("4fb4fd04b748611ca8da0d48"),
            "Name" : "User",
            "City" : "XXXX"
        }]
    }]
}]
} 
```

它在 c# 中成功插入。插入代码在下方，但更新条件失败。

我想使用 SubBranch 和 users 更新字段 3 级和 4 级数组

***插入代码***

```
IMongoQuery query = Query.And(Query.EQ("_id", new ObjectId(4fb4fd04b748611ca8da0d45)),

Query.EQ("BranchOffice._id", new ObjectId(4fb4fd04b748611ca8da0d46)));

Agent agent = dc.Collection.FindOne(query);

BsonDocument branchOffice = agent.BranchOffice.Find(objId => objId._id ==    new ObjectId(4fb4fd04b748611ca8da0d46)).ToBsonDocument(); 
```

subBranch 我已经将 List 对象转换为 BsonDocument

文件：数组的名称、城市、_Id 和用户

```
BsonDocument subBranchOffice = **subBranch.ToBsonDocument()**;

if (branchOffice.Contains("SubBranch"))
{
    if (branchOffice["SubBranch"].IsBsonNull)
    {
        branchOffice["SubBranch"] = new BsonArray().Add(BsonValue.Create(subBranchOffice));
    }
    else
    {                                     
        branchOffice["SubBranch"].AsBsonArray.Add(BsonValue.Create(subBranchOffice));
    }

    var update = Update.Set("BranchOffice.$.SubBranch",branchOffice["SubBranch"]); 
    SafeModeResult s = dc.Collection.Update(query, update, UpdateFlags.Upsert,SafeMode.True);
} 
```

**这里 SafemodeResult 是 UpdateExisting = true**

**这里插入的选项是成功的**

接下来我尝试在 else 语句中更新。我没有得到它的答案

***更新代码***

```
else
{
    var queryEdit = Query.And(Query.EQ("_id", new ObjectId(4fb4fd04b748611ca8da0d45)), 

    Query.EQ("BranchOffice._id", new ObjectId(4fb4fd04b748611ca8da0d46)),
    Query.EQ("SubBranchlist._id", new ObjectId(4fb4fd04b748611ca8da0d47)));

    **//Index value 1 or 2 or 3**

    var update = Update.Set("BranchOffice.$.SubBranch."index value".Name", "sname").

    Set("BranchOffice.$.SubBranch."index value".city", "yyyyy" ?? string.Empty);
    SafeModeResult s = dc.Collection.Update(queryEdit, update, UpdateFlags.None,SafeMode.True);
} 
```

**这里 SafemodeResult 是 UpdateExisting = False**

**这里更新的选项失败**

请解释如何解决这个问题以及如何更新字段 2 和 3 级别的数组

请显示任何示例

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T14:39:32.530

那里有很多，但看起来至少部分问题是您在数据和用于更新的查询之间拼写的 BranchOffice 不同，而且您错过了 SubBranch 中的层次结构，因此您的 queryEdit 在最后一个代码示例与文档不匹配。这将;

```
db.so.find({
    _id: ObjectId("4fb4fd04b748611ca8da0d45"),
    "BrancheOffice._id": ObjectId("4fb4fd04b748611ca8da0d46"),
    "BrancheOffice.SubBranch._id": ObjectId("4fb4fd04b748611ca8da0d47"),
}).toArray() 
```

# ios - 地理围栏 iOS 6

> ID：12720658
> 
> 赞同：5
> 
> 时间：2012-10-04T05:16:02.970
> 
> 标签：ios, core-location, cllocationmanager, clregion, region-monitoring

我正在创建一个应用程序，告诉用户他们是否在目的地附近。我正在计算`currentLocation`目的地和目的地之间的距离。我在里面做计算`didUpdateLocations`。它正在工作，但我已经看到有一些方法可以处理这个问题，而无需进行任何数学运算。

我正在注册该地区`CLLocationManager`；但是似乎这些方法`didExitRegion`并`didEnterRegion`没有被调用。

这是我注册区域的代码部分：

```
- (void)searchBarSearchButtonClicked:(UISearchBar *)searchBar
{
    [self.locationManager startUpdatingLocation];
    [self.mySearchBar resignFirstResponder];
    [[UIApplication sharedApplication] setNetworkActivityIndicatorVisible:YES];

    self.distToRemind = 0;

    [worldMap removeAnnotations:[worldMap annotations]];
    NSLog(@"executou de primeira");

    CLGeocoder *geocoder = [[CLGeocoder alloc] init];
        [geocoder geocodeAddressString:[self.mySearchBar text] completionHandler:^(NSArray *placemarks, NSError *error)
         {
             CLPlacemark *placemark = [placemarks lastObject];

             //test
             //DefaultAnnotation *annot = [[DefaultAnnotation alloc] initWithCoordinate:placemark.location.coordinate andTitle:@""];
             CLRegion *newRegion = [[CLRegion alloc] initCircularRegionWithCenter:placemark.location.coordinate radius:10.0 identifier:@"RegionBoundary"];

             DefaultAnnotation *regionAnnotation = [[DefaultAnnotation alloc] initWithCoordinate:newRegion.center andTitle:@""];

             [self identifyPlacemark:placemark andSetAnnotation:regionAnnotation];

             MKCoordinateRegion region = MKCoordinateRegionMakeWithDistance(regionAnnotation.coordinate, 250, 250);

             [worldMap addAnnotation:regionAnnotation];
             [worldMap setRegion:region animated:YES];

             [self.locationManager startMonitoringForRegion:newRegion];

             if (self.boolPushButtonTapped) {
                  [self pushButtonTapped];
             }
         }
         ];
} 
```

我在这里做错了吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-04T21:25:25.673

好的，在 iOS 中使用区域监控功能时要记住一些事项。

*   无论您将初始半径设置为什么，区域都将默认为最小大小。一位 Apple 工程师告诉我，支持 GPS 的设备是 100M。450M 适用于仅支持区域监控的 Wifi 设备（iPad 3 和新的 iPod Touches）
*   您可以监控的区域是有限的商品。单个设备可以监控的总数是有限的。再一次，一位苹果工程师告诉我它大约有 100 个地区。使用委托方法来确保您的区域添加好或坏。
*   区域非常有用，对电池寿命的影响最小。他们还在状态栏中获得自己的位置图标。（空心紫色位置箭头）
*   它们的工作方式与其他所有位置 API 非常相似，您需要正确响应委托方法以解释正在发生的操作。

您的代码看起来不错，但缺少围绕您的`CLLocationManagerDelegate`. 如果没有适当的委托来处理回调，您可能只是错过了回调 ( `-didExitRegion/-didEnterRegion`)。

根据我的经验，我创建了一个单例类来处理我的所有位置管理器委托方法。确保您注册以聆听他们的声音。如果您在这些委托调用周围包含更多代码，我很乐意为您提供更多帮助。有很多教程应该记录如何正确设置它们。祝你好运。

*注意：我今年在 WWDC 与一位定位工程师谈过关于最小区域大小和区域数量的许多未知数。我可以确认最小区域大小为 100，但不能确认最大区域数。我暂时还没有这个需求。

# asp.net-mvc-4 - VS2012 RTM 缺少 .net 4.5 和 mvc 项目模板

> ID：12720659
> 
> 赞同：5
> 
> 时间：2012-10-04T05:16:08.540
> 
> 标签：asp.net-mvc-4, visual-studio-2012, asp.net-4.5

在 Windows 8 RTM 上并且刚刚安装了 Vs2012 Ultimate RTM，我无法创建 .net 4.5 项目，也无法创建 .net 4 或 4.5 ASP.NET MVC 项目。我已经修复了VS2012，它没有修复它。有什么明显的我做错了吗？

![缺少 .NET 4.5](../Images/c134a9a9382a19a2c54fb6ef15b85a9a.png)

![缺少 ASP.NET MVC 3 和 4](../Images/5ff946a0edb41160ff8a63127c6a98af.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-04T16:16:40.630

我也有同样的问题..执行以下程序解决了它。

`\packages\WPT`将该文件夹从 Visual Studio 2012 安装程序 CD复制到您的桌面。

按此顺序卸载以下..

1.  aspnetmvc4vs11tools.msi
2.  aspnetmvc4.msi
3.  aspnetmvc3vs11tools.msi
4.  aspnetmvc3.msi

然后按此顺序安装这些。

1.  aspnetmvc3.msi
2.  aspnetmvc3vs11tools.msi
3.  aspnetmvc4.msi
4.  aspnetmvc4vs11tools.msi

试图修复并没有解决问题。您必须删除并安装这些..

希望这会有所帮助...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T07:47:43.007

您的安装可能已损坏。VS 2012 需要 .net 4.5 才能运行，所以如果它不可用，就会出现问题。

我会尝试卸载并重新安装。这是蛮力，但它通常有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-15T16:54:53.693

您可能没有安装 Windows 8.1 SDK。Visual Studio 2012 及其更新链接 .NET Framwork 4.5 库以进行开发。

*   [视窗 8.1 SDK](http://msdn.microsoft.com/en-US/windows/apps/br229516)

如果您只是在寻找构建 Web 应用程序的选项，则不必安装完整的 SDK，只需安装程序中的 .NET Framework 4.5.1 选项。完整安装大约 1.1GB，但仅 .NET 安装程序只有 72MB。

对于那些阅读本文但尚未更新其 Visual Studio 2012 副本的人，请确保您还安装了这些：

*   [视觉工作室 2012 更新 4](http://www.visualstudio.com/news/2013-nov-13-vs)
*   [适用于 Visual Studio 2012 的 ASP.NET 和 Web 工具 2013.1](http://www.microsoft.com/en-us/download/details.aspx?id=41532)

希望这可以帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-27T09:59:09.113

将 .net 框架版本更改为 4.5

# android - 如何从android中的隐式意图接收价值？

> ID：12720661
> 
> 赞同：2
> 
> 时间：2012-10-04T05:16:19.427
> 
> 标签：android, android-intent, android-calendar

我在我的应用程序中显示日历事件活动（Android 系统活动）。我使用“显示事件详细信息”按钮生成它。当我单击按钮时，它将显示 Android 系统提供的日历事件活动。当我从事件活动中修改一个值时，它会反映在 Android 设备的事件表中，但是当我通过我的应用程序修改事件时，如何从中获取修改后的值？

```
 Intent l_intent = new Intent(Intent.ACTION_EDIT);
    l_intent.setType("vnd.android.cursor.item/event");
    //l_intent.putExtra("calendar_id", m_selectedCalendarId);  //this doesn't work
    l_intent.putExtra("title", "roman10 calendar tutorial test");
    l_intent.putExtra("description", "This is a simple test for calendar api");
    l_intent.putExtra("eventLocation", "@home");
    l_intent.putExtra("beginTime", System.currentTimeMillis());
    l_intent.putExtra("endTime", System.currentTimeMillis() + 1800*1000);
    l_intent.putExtra("allDay", 0);
    //status: 0~ tentative; 1~ confirmed; 2~ canceled
    l_intent.putExtra("eventStatus", 1);
    //0~ default; 1~ confidential; 2~ private; 3~ public
    l_intent.putExtra("visibility", 0);
    //0~ opaque, no timing conflict is allowed; 1~ transparency, allow overlap of scheduling
    l_intent.putExtra("transparency", 0);
    //0~ false; 1~ true
    l_intent.putExtra("hasAlarm", 1);
    try {
        startActivity(l_intent);
    } catch (Exception e) {
        Toast.makeText(this.getApplicationContext(), "Sorry, no compatible calendar is found!", Toast.LENGTH_LONG).show();
    } 
```

# c# - 如何从 .NET 调用 Oracle 存储过程 (PL/SQL)？

> ID：12720662
> 
> 赞同：1
> 
> 时间：2012-10-04T05:16:20.037
> 
> 标签：c#, .net, oracle10g, oracle-xe

我是甲骨文的新手。我们公司需要使用 Oracle 和 .Net 的项目。所以我试图运行一个演示应用程序。我使用 Oracle 10g XE 作为 DB 和 VS2010。

我用一个简单的选择查询编写了一个程序，它被编译了（通过谷歌搜索得到了这个程序格式）。

![编译的过程](../Images/bf38de3370b387758a930ecdb5878423.png)

我从 XE Dashboard 本身的 SQL 命令提示符运行存储过程。结果是这样的：

![在此处输入图像描述](../Images/ee1ac7cc73d94873600e4ea29870d209.png)

现在我用 C# 编写代码来调用该存储过程：

```
string sqlCon = "Data Source=xe;Persist Security Info=True;User     ID=sa;Password=password;Unicode=True;Provider=OraOLEDB.Oracle;";
OleDbConnection Con = new OleDbConnection(sqlCon);
OleDbCommand cmd = new OleDbCommand();

DataSet ds = null;
OleDbDataAdapter adapter;

try
{
    Con.Open();
    ////Stored procedure calling. It is already in sample db.
    cmd.CommandText = "TESTPROC";
    cmd.CommandType = CommandType.StoredProcedure;
    cmd.Connection = Con;

    ds = new DataSet();
    adapter = new OleDbDataAdapter(cmd);
    adapter.Fill(ds, "Users");

    return ds.Tables[0];
 }
 catch (Exception ex)
 {
    throw new Exception(ex.Message);
 } 
```

此代码块没有引发任何异常。它被执行了，但我收到的是一个空的数据集。但是当我尝试直接使用查询获取数据时，我得到了结果。

那么，我尝试访问存储过程的方式是否正确？或者我的存储过程中是否有任何错误？任何人都可以指出错误或最好的方法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:26:17.577

建议：尝试将“结果”声明为“输出”参数：

*   [https://forums.oracle.com/forums/thread.jspa?messageID=4566433](https://forums.oracle.com/forums/thread.jspa?messageID=4566433)

这是另一个可能有帮助的链接：

*   [http://support.microsoft.com/kb/309361](http://support.microsoft.com/kb/309361)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T13:26:21.117

**还有另一个链接可能会有所帮助：**

[http://www.akadia.com/services/ora_return_result_set.html](http://www.akadia.com/services/ora_return_result_set.html)

# titanium - 如何使 Titanium iPad webviews 小于设备宽度？

> ID：12720663
> 
> 赞同：0
> 
> 时间：2012-10-04T05:16:24.457
> 
> 标签：titanium

我正在尝试将外部网页加载到比设备小的 webview 中。这是一个例子：

```
var window = Titanium.UI.createWindow();

var webview = Titanium.UI.createWebView();

webview.setWidth(320)
webview.setUrl('http://www.bostonglobe.com')

Ti.API.info('webview width = ' + webview.width);

window.add(webview);
window.open(); 
```

您可以看到 webview 水平滚动，就像它与设备的宽度相同，而不是指定的 320。

任何帮助完成这项工作将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-16T02:46:33.577

这实际上很容易做到，并且内置于所有平台的 Titanium 中。只需使用[`scalesPageToFit`](http://docs.appcelerator.com/titanium/2.1/index.html#!/api/Titanium.UI.WebView-property-scalesPageToFit)WebView 的属性，自 Titanium 版本 0.8 以来就已经存在，因此它非常稳定。

```
var self = Ti.UI.createView({
    backgroundColor : '#ff0000'
});

var webView = Ti.UI.createWebView({
    url : 'http://whatsmy.browsersize.com',
    scalesPageToFit : true,
    width : 280
});

self.add(webView); 
```

请注意平台差异：

“在 iOS 上，将此设置为 true 会设置初始缩放级别以显示整个页面，并使用户能够放大和缩小 Web 视图。将此设置为 false 可防止用户缩放 Web 视图。”

“在 Android 上，仅控制初始缩放级别。”

另请注意，它们是像素和点之间的差异，因为每个屏幕都有不同的像素密度。这是显示此作品的屏幕截图，请注意周围的红色背景： ![这有效](../Images/86f2e17a7dea1f1cfd4556b1fa3dc553.png)

此屏幕截图是从使用 Titanium Studio 的“默认窗口”模板的原版项目中截取的。我所做的只是[用这个要点替换“ui/common/FirstView.js”文件。](https://gist.github.com/3903561)

如果您使 WebView 非常小，它可能不会显示内容（因为许多网站都指定了最小缩放比例），所以在这种情况下，我建议使用这样的转换：

```
var webView = Ti.UI.createWebView({
    url : 'http://whatsmy.browsersize.com',
    scalesPageToFit : true,
    width : 280,
    transform : Ti.UI.create2DMatrix().scale(0.5, 0.5)
}); 
```

所有这一切都是采用先前的视图并将其缩小一半。当然，您必须计算自己的统一比例因子，但这应该很简单，具体取决于您的要求和平台目标。这是缩放结果的屏幕截图。

![这也有效](../Images/fcd44e163af92456a56ea4e2fa9449f2.png)

结合使用这些方法，您肯定拥有解决此问题所需的工具。祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T18:32:03.503

尝试这样做，看看你是否能得到更好的结果：

```
var webview = Titanium.UI.createWebView({
    width:320,
    url:'http://bostonglobe.com'
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-20T04:00:33.873

要考虑的另一点是您正在加载的页面可能不适合移动设备。Apple 的 Web 视图控件决定按比例显示它以使其适合。在 whatsmy.browsersize.com 的情况下，它告诉您网页的缩放大小，而不是 Web 视图的控件大小。

您很可能想要更改网页视口的宽度和初始比例。

```
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=3.0;" /> 
```

**编辑**：对于第三方网站，页面加载后，您可以通过 JavaScript 强制其扩展。如果您不想看到初始未缩放的页面，请隐藏 Web 视图，直到缩小。

```
webView.evalJS('document.body.style.zoom = 1.5;'); 
```

# c# - 无法将 HiddenField 转换为 Int32

> ID：12720665
> 
> 赞同：0
> 
> 时间：2012-10-04T05:16:34.460
> 
> 标签：c#, type-conversion

我遇到了数据类型转换的问题，我只能弄清楚

```
 HiddenField hfFriendId = item.FindControl("hfFriendId") as HiddenField;
 Int32 FriendId = Convert.ToInt32(hfFriendId.Value); 
```

我需要在下面使用 FriendId as 和 int32

```
UserInfo TargetUser = UserController.GetUserById(PortalSettings.PortalId, FriendId); 
```

因为两个 args 都应该是 int32。当我调试这个 'TargetUser' 为空。

问题可能是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:26:40.480

如果您不确定隐藏字段中可用的值，则不要使用

```
Int32 FriendId = Convert.ToInt32(hfFriendId.Value); 
```

尝试

```
int FriendId = int.Parse(hfFriendId.Value); // will throw exception if parse fails 
```

或更好

```
int FriendId ;
if(int.TryParse(hfFriendId.Value, out FriendId))
     //get userinfo 
```

`UserController.GetUserById`如果 Convert 获取解析的值并且不返回零，那么您的方法也可能存在问题。

# asp.net - ASP.NET：Ajax 更新面板问题

> ID：12720666
> 
> 赞同：0
> 
> 时间：2012-10-04T05:16:52.323
> 
> 标签：asp.net, webforms, asp.net-ajax, asp.net-2.0

当功能仍在服务器端执行时，我应该更新进度并在客户端显示相应的消息。

我怎样才能做到这一点？

该函数如下所示：

```
protected void Button1_Click(object sender, EventArgs e)
        {
            string Result = "Success";
            if (Result == "Success")
            {
                Label1.Text = "Plan mst Completed";
                Thread.Sleep(2000);     //Some functionality here
                Label1.Text = "Packing date mst Started";
            }
            if (Result == "Success")
            {
                Label1.Text = "Packing date mst Completed";
                Thread.Sleep(2000);     //Some functionality here
                Label1.Text = "Etd mst Started";
            }

            if (Result == "Success")
            {

                Label1.Text = "Etd mst Completed";
                Thread.Sleep(2000);     //Some functionality here
                Label1.Text = "Inner box mst Started";

            }
        } 
```

而且我必须在上述函数仍在执行时更新 Label1 的文本。

我尝试过使用 AJAX（虽然我还是个初学者），但没有成功。这是我所做的：

```
<form id="form1" runat="server">
    <asp:Button ID="Button1" runat="server" onclick="Button1_Click" Text="Button" />
    <asp:ScriptManager ID="ScriptManager1" runat="server">
    </asp:ScriptManager>
    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
        <ContentTemplate>
            <asp:Timer ID="Timer1" runat="server" Interval="10" ontick="Timer1_Tick1">
            </asp:Timer>
            <asp:Label ID="Label1" runat="server" Text="Label"></asp:Label>

        </ContentTemplate>
    </asp:UpdatePanel>
    </form> 
```

以及相应的事件：

```
protected void Page_Load(object sender, EventArgs e)
        {
            UpdatePanel1.UpdateMode = UpdatePanelUpdateMode.Conditional;
        }
        protected void Timer1_Tick1(object sender, EventArgs e)
        {
            UpdatePanel1.Update();            
        } 
```

除了 AJAX 之外的任何其他替代方案，例如通过 jQuery 或其他方式，也是受欢迎的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:16:55.620

这些可能会帮助您：

[http://forums.asp.net/t/1500201.aspx](http://forums.asp.net/t/1500201.aspx)

[ASP.NET 异步标签更新](https://stackoverflow.com/questions/5271458/asp-net-asynchronous-label-update)

# android - 三星 Galaxy S 和三星 Galaxy Y 是否支持 SIP？

> ID：12720669
> 
> 赞同：1
> 
> 时间：2012-10-04T05:17:04.520
> 
> 标签：android, sip

> **可能重复：**
> [Sip Manager api 支持](https://stackoverflow.com/questions/9782257/sip-manager-api-support)

我在三星 S(2.3) 和 Galaxy Y(2.3) 上尝试 SipManager.isApiSupported(context) 和 SipManager.isApiSupported(context) 但两者都返回 false。这意味着两个设备都不支持 sip？如何做到这一点？

# neo4j - Neo4j 连接节点的聚合/计数

> ID：12720671
> 
> 赞同：1
> 
> 时间：2012-10-04T05:17:10.690
> 
> 标签：neo4j, cypher

我正在尝试对连接到节点 A 的节点进行计数，其中节点 A 是从节点 B 开始的 Cypher 查询的一部分，我得到了意想不到的结果。这是一个示例设置。假设我们正在查看书籍和所有者，并且书籍引用其他书籍，而所有者当然拥有书籍：

```
Book B1
Book B2 CITES B1
Book B3 CITES B1
Book B4
Owner O1 OWNS B1
Owner O2 OWNS B2
Owner O3 OWNS B3 and B4 
```

因此，假设我正在查看 B1 书，并且我想找到引用它的每一本书，然后计算拥有该施引书的每个人所拥有的书籍。所以如果我从 B1 开始，我应该找到所有者 O2 和 O3，因为每个人都拥有一本引用 B1 的书。如果我计算他们拥有的书籍，我应该得到 O2 的 1 和 O3 的 2。

因此，首先，仅列出所有者的查询可以正常工作：

```
start a=node(1) MATCH a<-[:CITES]-b<-[:OWNS]-c return c.name 
```

这将按预期返回名称。但是这个查询：

```
start a=node(1) MATCH a<-[:CITES]-b<-[:OWNS]-c-[:OWNS]->d return c.name, count(d) 
```

似乎它应该到达 c，它是所有者列表，然后通过 OWNS 关系到拥有的书籍作为 d，并计算它们。但相反，我得到：

```
+--------------------+
| c.name  | count(d) |
+--------------------+
| "O3"    | 1        |
+--------------------+ 
```

感觉就像它忽略了已经通过其他 OWNS 链接找到的书籍/节点——由 b 表示的那些。有没有办法在单个查询中执行此操作，或者最好将所有者收集为 c，然后再次查询每个所有者？感觉这应该是可能的，但我还没有想通。任何想法都会很棒 - 在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:41:49.920

你是对的，一旦找到一个节点，你就不能在不同的命名变量下的同一个匹配中再次找到它。您可以使用 a 将其分解`WITH`，然后`d`以相同的方式使用，它将匹配所有这些。

```
START a=node(14) 
MATCH a<-[:CITES]-b<-[:OWNS]-c 
WITH c MATCH c-[:OWNS]->d 
RETURN c.name, count(d); 
```

[http://console.neo4j.org/?id=x1jst9](http://console.neo4j.org/?id=x1jst9)

# iphone - 用于从 iPhone 上的降噪麦克风访问原始输入的私有 iOS API？

> ID：12720672
> 
> 赞同：5
> 
> 时间：2012-10-04T05:17:12.207
> 
> 标签：iphone, ios, api, audio, iphone-privateapi

有没有办法使用私有 iOS API 来访问 iPhone 上降噪麦克风的原始输入？

我尝试查看在网上找到的标题转储，但找不到与辅助麦克风相关的任何内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T18:34:16.997

1）我在这个主题上发现的一件有趣的事情是

```
./System/Library/Frameworks/AudioToolbox.framework/AudioToolbox 
```

它有一些名为`AUMultiMicNoiseSuppressor`.

2) 确保您拥有最新的标头转储，因为很多在线转储都是针对 iOS 3.0（已过时）

3）我建议查看框架，选择有前途的并通过反汇编程序运行它们。标头转储通常使用[class-dump-z](http://code.google.com/p/networkpx/wiki/class_dump_z)转储，它仅转储 Objective-C API，不转储和 C API。您正在寻找的 API 可能是 C API。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-12-13T07:58:51.197

您是否找到同时访问多个麦克风的解决方案？正如你提到的，我正在做一个项目。到目前为止，我所知道的是使用内置麦克风进行立体声录音的唱片。

[https://audioboo.fm/boos/1102187-recording-in-stereo-from-the-iphone-5#t=0m20s](https://audioboo.fm/boos/1102187-recording-in-stereo-from-the-iphone-5#t=0m20s)

而且在安卓上也很简单。使用 Record Class，有两个通道记录来自底部麦克风和顶部麦克风的声音（注 3）。

# c++ - 后续 SpVoice 实例保持沉默

> ID：12720674
> 
> 赞同：4
> 
> 时间：2012-10-04T05:17:15.980
> 
> 标签：c++, com, d, sapi, text-to-speech

**发现问题/崩溃的关键，请参阅帖子底部。**

在创建`ISpVoice`using的实例时`CoCreateInstance`，似乎第一个之后的实例一旦第一个说话就不能说话。也就是说，如果`pVoice`先说话，`pVoice2`就不会说话。如果`pVoice2`先开口，`pVoice`就不会开口。创建/分配的顺序似乎无关紧要。

当我说“不会说话”时，我`ISpVoice::Speak`的意思是：调用立即返回结果`S_OK`；没有合成声音。

**更正：**上述情况发生在D版本未附加调试器时。附加 Visual Studio 调试器后，在`vtjpnsapi50.dll!10004e65`. 此外，无论是否附加了调试器或生成了调试信息，C++ 版本都会发生访问冲突。

`sleep`在对 Speak 的调用之间插入一个调用不会改变任何东西（当然，除了它会插入一个延迟）。

D 中的复制（C++ 等效如下）：

```
import std.c.windows.com;
import core.sys.windows.windows;
import speech.windows.sapi;

import std.stdio;

int main()
{
    if (FAILED(CoInitialize(null)))
        return 1;

    scope(exit) CoUninitialize();

    ISpVoice pVoice;
    HRESULT hr = CoCreateInstance(&CLSID_SpVoice, null, CLSCTX_ALL, &IID_ISpVoice, cast(void**)&pVoice);
    assert(hr == S_OK);
    hr = pVoice.Speak("Hello world", 0, null); // This speaks fine
    assert(hr == S_OK);

    ISpVoice pVoice2;
    hr = CoCreateInstance(&CLSID_SpVoice, null, CLSCTX_ALL, &IID_ISpVoice, cast(void**)&pVoice2);
    assert(hr == S_OK);
    hr = pVoice2.Speak("hello again", 0, null); // This returns immediately
    assert(hr == S_OK); // Yet it still returns S_OK

    hr = pVoice.Speak("first voice again", 0, null); // This speaks fine too, immediately after "hello world" finishes
    assert(hr == S_OK);

    // The two objects are indeed at different memory addresses
    writefln("voice 1: %s, voice 2: %s", cast(void*)pVoice, cast(void*)pVoice2);

    pVoice.Release();
    pVoice = null;

    pVoice2.Release();
    pVoice2 = null;

    return 0;
} 
```

这是等效的 C++ 程序：

```
#include <sapi.h>
#include<Windows.h>

int main()
{
    if (FAILED(CoInitializeEx(NULL, COINIT_MULTITHREADED)))
        return 1;

    ISpVoice* pVoice;
    HRESULT hr = CoCreateInstance(CLSID_SpVoice, NULL, CLSCTX_ALL, IID_ISpVoice, (void**)&pVoice);
    hr = pVoice->Speak(L"Hello world", 0, NULL); // This speaks fine

    ISpVoice* pVoice2;
    hr = CoCreateInstance(CLSID_SpVoice, NULL, CLSCTX_ALL, IID_ISpVoice, (void**)&pVoice2);
    hr = pVoice2->Speak(L"hello again", 0, NULL); // This causes an access violation

    hr = pVoice->Speak(L"first voice again", 0, NULL);

    pVoice->Release();
    pVoice = NULL;

    pVoice2->Release();
    pVoice2 = NULL;

    CoUninitialize();

    return 0;
} 
```

在上面的例子中，两个声音被分配了相同的参数，并且第一个说话的声音正常工作。在 D 版本中，当没有附加调试器时，第二次调用`Speak`on`pVoice`也有效。

~~如果有人知道可能导致这种情况的原因，或者知道任何使用多个语音对象的开源软件，请告诉我，谢谢！~~

**编辑** 这只发生在 NeoSpeech 的声音中。它适用于 Microsoft 和 eSpeak 的声音。我仍然想知道是否有什么办法可以解决这个问题（NeoSpeech 有一些非常非常好的声音......）。

# javascript - 从全局函数调用backbone.js不同视图的不同函数

> ID：12720675
> 
> 赞同：1
> 
> 时间：2012-10-04T05:17:15.953
> 
> 标签：javascript, jquery, backbone.js

> **可能重复：**
> [Backbone.js 中不同视图的调用方法](https://stackoverflow.com/questions/12720561/call-methods-of-different-views-in-backbone-js)

我是主干.js 的新手，我正在使用带有 ASP.NET MVC 4 的主干.js。

我有一个名为 SomeObject 的全局类，其中有一个 deleteUser 函数。此函数与 MyView2 中存在的按钮的单击事件之一绑定。

如何从此全局函数/类中调用不同视图中存在的以下主干.js 不同函数。

*   调用 MyView 2 的 myMethodB
*   调用 MyView 1 的 myMethodA
*   调用 AppView 的 myMethodC

请指导我。我仍在学习backbone.js，可能做错了什么。谢谢

```
var SomeObject = function (Id, Name) {
    var self = this;
    this.Id = Id;
    this.Name = Name;
    this.deleteUser = function () {
        console.log(self.Id, self.Name);

        // call myMethodB of MyView 2
        // call myMethodA of MyView 1
        // call myMethodC of AppView
    };
};

var MyModel = Backbone.Model.extends({
});

// View for a Main Grid
var MyView1 = Backbone.View.extend({
...
myMethodA: function(){
 // do something with View 1
}
...
});

// View for subgrid in Main Grid
var MyView2 = Backbone.View.extend({
...
myMethodB: function(){
 // do something with View 2
}   
...
});

var AppView = Backbone.View.extend({
...
myMethodC: function(){
 // do something with App View 
}
...
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T10:09:55.507

您应该使用 Backbone 事件 - [http://backbonejs.org/#Events](http://backbonejs.org/#Events)

```
var SomeObject = function (Id, Name) {
    var self = this;
    this.Id = Id;
    this.Name = Name;
    this.deleteUser = function () {
        console.log(self.Id, self.Name);

        viewInstances.MyView2.trigger('eventFormyMethodB')
        viewInstances.MyView1.trigger('eventFormyMethodA')
        viewInstances.AppView.trigger('eventFormyMethodC')
    };
};

var viewInstances = {
    MyView2: new MyView2({...}),
    MyView1: new MyView1({...}),
    AppView: new AppView({...})
} 
```

例如

```
var AppView = Backbone.View.extend({
...
    events: {
        'eventFormyMethodC': 'myMethodC'
    },
    myMethodC: function(){
    // do something with App View 
    }
...
}); 
```

# java - JDBC - 空值检查关闭功能

> ID：12720677
> 
> 赞同：0
> 
> 时间：2012-10-04T05:17:22.050
> 
> 标签：java, jdbc

**背景**

我正在使用和关闭很多 Prepared/Callable Statements 和 ResultSet，所以我在 finally 部分创建了一个全局静态方法来清理。

很明显，大多数时候这些不能为空，我只想确保添加空检查而不是立即关闭。

到目前为止，使用这种方法完全没有问题，但是这个线程安全吗？如果没有，我是否需要使用同步方法而不是普通的静态方法？

**用法**其他线程类

```
private PreparedStatement psUpdate = null;
try {....}
catch(Exception e) {...}
finally
{
    Utils.NullCheckClose(this.psUpdate, this.getProcName());
} 
```

**声明**实用程序类

```
public static void NullCheckClose(PreparedStatement temp, String threadname)
{
    try
    {
        if(temp != null)
            temp.close();
    }
    catch(Exception msg)
    {
        Logger.erLog(msg, threadname);
    }
    finally
    {
        temp = null;
    }
}

public static void NullCheckClose(CallableStatement temp, String threadname)
{
    try
    {
        if(temp != null)
            temp.close();
    }
    catch(Exception msg)
    {
        Logger.erLog(msg, threadname);
    }
    finally
    {
        temp = null;
    }
}

public static void NullCheckClose(ResultSet temp, String threadname)
{
    try
    {
        if(temp != null)
            temp.close();
    }
    catch(Exception msg)
    {
        Logger.erLog(msg, threadname);
    }
    finally
    {
        temp = null;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:20:38.350

不，没有任何状态您只是在使用方法。共享状态时需要同步。Utils 不存储参数值然后对其进行操作，它只是对它们进行操作，因此不需要同步。

`this.psUpdate`因为它是对象的状态，所以需要同步。您应该尝试将其删除为成员变量

```
Utils.NullCheckClose(this.psUpdate, this.getProcName());,<---this.psUpdate try to remove its as a member variable. 
```

初始化 `PreparedStatement`或`CallableStatement`作为局部变量比成员变量更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:27:15.920

当您需要在线程之间共享数据时，就会出现线程安全问题，那么您必须注意原子性、可见性等。
但在您的情况下，没有共享数据，此方法仅对参数进行操作。所以它的线程安全。

# php - PHP - 什么是处理这个的好方法？

> ID：12720691
> 
> 赞同：0
> 
> 时间：2012-10-04T05:18:23.467
> 
> 标签：php, logic

好的，假设当用户选择一个国家时，他们也被添加了一个“联盟”。这些联合会几乎以地区为中心。

假设我有这样的事情：

```
function getFedration($country_iso) {
 // 6 federations
 // afc = asian nations
 // caf = african nations
 // cocacaf = north & central america and Caribbean nations
 // conmebol = south america
 // ofc = Oceanian nations
 // uefa = european nations

$afc = array("Japan", "China", "South Korea");
$caf = array("Cameroon", "Chad", "Ivory Coast");
$concacaf = array("United States" , "Canada", "Mexico");
$conmebol = array("Argetina", "Brazil", "Chile");
$ofc = array("Fiji", "New Zealand", "Samoa");
$uefa = array("Spain", "England", "Montenegro");

/*
PSEUDO-code

If $country_iso is in either of six arrays... mark that as the federation...

*/

return $federation;

} 
```

我知道，它说的是一个国家的名字，但归根结底，它会是国家的 iso ，而`JP`不是`Japan`,`CN`而不是`China`, 等等。

所以，我想知道，这是一个可行的事情还是你认为有更好的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:24:27.370

如果一个联邦只能属于一个国家，我会创建一个数组：

```
$countryToFederationMap = array(
    'Japan' => 'AFC',
    'China' => 'AFC',
    'Cameroon' => 'CAF',
    // ...
); 
```

那么联邦很简单：

```
return $countryToFederationMap[$country]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T05:56:26.067

将所有联邦放入一个数组中，以便循环遍历它怎么样？让事情变得更容易，就像这样：

```
function countryToFederation($country_iso) {
    $federations = array(
        "afc" => array("Japan", "China", "South Korea"),
        "caf" => array("Cameroon", "Chad", "Ivory Coast"),
        "concacaf" => array("United States" , "Canada", "Mexico"),
        "conmebol" => array("Argetina", "Brazil", "Chile"),
        "ofc" => array("Fiji", "New Zealand", "Samoa"),
        "uefa" => array("Spain", "England", "Montenegro"),
    );

    foreach($federations as $federation) {
        if(in_array($country_iso, $federation)) {
            return $federation;
        }
    }
} 
```

# android - Rails、devise 和 android.. 我希望 android 应用程序保持登录状态

> ID：12720693
> 
> 赞同：2
> 
> 时间：2012-10-04T05:18:34.250
> 
> 标签：android, ruby-on-rails, login, devise

这是我对rails server和android的想法。请让我知道以下步骤是否有意义。

首先，当安卓应用程序第一次启动时，用户将输入他/她的电子邮件地址和密码。

然后，应用程序将向 Rails 服务器请求对用户进行身份验证，服务器将返回令牌（在令牌身份验证中）。

应用程序存储令牌并附加令牌以供后续请求。（例如：[http](http://myServerUrl.com/books/list?auth_token:xxxx) ://myServerUrl.com/books/list?auth_token:xxxx ）服务器将检查令牌是否存在是用户表，然后以 JSON 格式将凭证数据发送回应用程序。

我的问题是，

*   第一次，当在 HTML 正文中使用电子邮件地址和密码向服务器发出请求时（在 POST 的情况下），它是否安全？如果用户使用 wifi，整个纯文本将暴露给公众。是否有任何安全的方法可以将电子邮件和密码发送到服务器？是否需要 SSL 或非对称加密或 HTTPS？
*   从服务器接收到身份验证令牌后，应用程序将为后续请求附加该令牌。换句话说，身份验证令牌也将作为纯文本公开。有什么安全的方式来提出请求吗？如果有人转储一个完整的请求并将其发送到服务器，服务器如何知道它是否是一个有效的请求？

由于我对 ror 和 android 应用程序还很陌生，任何帮助都会大大减轻我的痛苦。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-06T05:06:31.000

我想我想通了...

首先，安卓应用需要使用邮箱和密码登录。服务器将使用身份验证令牌进行响应。

应用程序将使用令牌访问凭证数据，但请求应以 HTTPS 形式发送。

Jav_Rock 写了所有连接都在 HTTPS 中处理的评论。我计划测试与 HTTP 相比，HTTPS 连接是否能提供合理的速度。如果响应时间很重要，HTTPS 可能会减慢应用程序的速度。

我会在测试 HTTPS 后再次发布。

# postgresql - 在 Postgresql 中选择多个具有别名和按别名分组的列

> ID：12720694
> 
> 赞同：0
> 
> 时间：2012-10-04T05:18:49.740
> 
> 标签：postgresql

我遇到了这个查询的问题。我想选择 ID 字段，然后日期时间戳字段有一个别名，但按别名分组。如果不包含 ID 字段，我将无法做到这一点，但随后它就无法保持 group by 提供的唯一性。这是我的查询不起作用。我收到关于需要包含 ID 字段的错误。

```
SELECT id, to_timestamp(start_date)::date as sdate FROM events WHERE end_date > 1349306845 GROUP BY sdate ORDER BY sdate ASC LIMIT 20 
```

更新：使用如下功能后，它可以根据需要工作。

```
 SELECT max(id) as id, to_timestamp(start_date)::date as sdate FROM events WHERE end_date > 1349306845 GROUP BY sdate ORDER BY sdate ASC LIMIT 20 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:48:06.213

```
SELECT  id, to_timestamp(start_date)::date as sdate 
FROM events
WHERE start_date IN 
   (
     SELECT start_date as sdat 
     FROM events 
     WHERE end_date > 1349306845 
     GROUP BY sdat 
     ORDER BY sdat 
     ASC LIMIT 20 
   ) 
```

* * *

```
SELECT  id, to_timestamp(start_date)::date as sdate 
FROM events
WHERE start_date IN 
   (
     SELECT start_date as sdat 
     FROM events 
     WHERE end_date > 1349306845 
     GROUP BY sdat 
   )
ORDER BY sdate 
ASC LIMIT 20 
```

# list - SharePoint 列表上的动态视图

> ID：12720695
> 
> 赞同：1
> 
> 时间：2012-10-04T05:19:16.280
> 
> 标签：list, sharepoint, sharepoint-2007, moss

我想在我的列表上创建一个动态视图。该列表根据来自外部数据库的当前用户信息进行过滤，即根据哪个用户登录，从外部数据库获取一个值，并基于该值我希望我的 SharePoint 列表被过滤。

我怎样才能做到这一点。我是 SharePoint 的新手。任何帮助都会非常棒。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T16:22:57.090

一种方法是实现您自己的自定义筛选器提供程序 Web 部件。

过滤器提供程序获取当前用户 ID，从数据库中找到您需要的任何信息，然后将过滤器传递到显示数据的列表视图。

[为 Windows SharePoint Services 3.0 编写筛选器提供程序 Web 部件](http://msdn.microsoft.com/en-us/library/bb457205%28v=office.12%29.aspx)

# php - 简单的背景色 css jquery 切换循环

> ID：12720701
> 
> 赞同：0
> 
> 时间：2012-10-04T05:19:46.780
> 
> 标签：php, html, css

我在 HTML 中工作并且有一个 div，在那个 div 中，我有一个 ID 和一个名为 70 的类，例如具有一些属性。这被简化以说明我的问题：

```
<?php

    $height = 'seventy';
?>

<div id="meter" class="<? echo $height;?> "></div> 
```

这在我运行 Xampp 的笔记本电脑上完美运行。当我在服务器 2003 上运行它时，运行 Xampp，div 标签提前关闭，并且在 div 所在的位置之后我得到了一个简单的文本显示“>”。所以在搞砸了一段时间后，我发现“

```
<?php

    $height = 'seventy';
?>

<div id="meter" class="<?php echo $height;?> "></div> 
```

有效。谁能给我一些见解，为什么有时你可以简写打开的标签，有时你不能。我很新手，这种事情让我很感兴趣。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:26:43.703

在is中时`php.ini`，您可以使用简短版本：`short_open_tag``on``<?`

它也可以在以下位置启用`.htaccess`：

```
php_flag short_open_tag on 
```

`<?php`为了便于移植，最好使用脚本制作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:27:58.357

服务器配置决定了您是否可以使用 php 速记的天气。只有一些服务器被配置为支持这一点，而所有服务器（使用 PHP）都支持完整/长方法，这就是为什么总是推荐/好习惯使用它。

# c# - 为什么网格对我说谎？

> ID：12720706
> 
> 赞同：0
> 
> 时间：2012-10-04T05:19:59.020
> 
> 标签：c#, .net, wpf, grid

抱歉标题不好，但 WPF 显然是在骗我，所以我不知道该怎么说。我复制了一个非常简单的示例来演示我的问题：

XAML：

```
<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" >
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Button Height="50" Grid.Row="0" ></Button>
        <Button Height="100" Grid.Row="1" Grid.RowSpan="2"> </Button>
    </Grid>
</Window> 
```

这就是你得到的：

![在此处输入图像描述](../Images/089a8282ffb63a6ec4a073362adc2d96.png)

XAML Designer 显示第 1 行和第 2 行的高度为 50，但它们显然不相等，因此第二行的高度不能为 50。我怀疑这与我设置第二个按钮的行跨度有关属性为两个，但我不明白为什么这会弄乱我按像素设置的行高。

我如何强制它使第 1 行和第 2 行的高度固定为 50？

编辑：我想我需要详细说明我的问题。我可能严重误解了网格的工作原理，所以请多多包涵，如果我是，请告诉我。

首先，我很难理解的是

![在此处输入图像描述](../Images/ebf17b94b4d42b59bb130acf123792cc.png)

为什么第 1 行和第 2 行的**高度**显示为 50？它们显然不相等，因此第 2 行的高度不能为 50。这是设计视图中的错误还是预期行为？

因为当我在上面显示我的行定义时，下图是我所期望的（请注意，下图是 photoshop 以证明我的观点）：

![在此处输入图像描述](../Images/58a96c9c379e51224c48d3f950b6f7c0.png)

其中第 1,2 行的高度**固定为 50**，而按钮的其余部分是第三行的高度设置的值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T05:30:15.763

首先 - 您的控件可能超出 Grid 中的行或列大小。所以这是预期的行为（没有人对你撒谎或欺骗你）。

而不是使用高度使用 MaxHeight 属性，试试这个：

```
<Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition MaxHeight="50"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Button Height="50" Grid.Row="0" ></Button>
        <Button Height="100" Grid.Row="1"></Button>
</Grid> 
```

编辑：

xaml 设计视图非常混乱，因为它在一个很小的区域内显示了很多东西。数百行，如果你有一个大的 UI 组件，那么有时你甚至看不到视图中的一些控件。

因此，如果您使用以下两件事而不是分析 xaml 设计查看器，那么您将很容易理解网格的 UI -

1.  将`ShowGridLines`属性设置`Grid`为 true。这将显示虚线边界线。
    2.使用[WPFInspecter](http://wpfinspector.codeplex.com/)

# node.js - 将 node.io 与 Web 服务器一起使用

> ID：12720707
> 
> 赞同：2
> 
> 时间：2012-10-04T05:20:02.553
> 
> 标签：node.js, node.io

我从 node.io 开始向后启动了这个网络抓取项目。我的工作方式是：

```
node.io myjob arg1 arg2 
```

将以 JSON 格式发出结果：

```
{
    1 : 'apple',
    2 : 'orange',
    3 : 'banana'
} 
```

我的目标是能够在 Web 服务器中运行它，所以如果我指向：

```
http://localhost/arg1/arg2 
```

它将能够`node.io myjob arg1 arg2`使用参数执行命令并检索我的 JSON 输出。

我查看了 node.js，但我找不到任何使用 node.io 的示例，反之亦然来创建 Web 服务器。我知道我正在倒退，但这是我目前陷入困境的地方。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:23:37.717

使用带有 Node.js 的标准[内置 Web 服务器](http://nodejs.org/api/http.html#http_http_createserver_requestlistener)，当请求带有正确的参数时，以编程方式开始您的抓取工作。

# report - Liferay CE（社区版）的报告 portlet？

> ID：12720715
> 
> 赞同：0
> 
> 时间：2012-10-04T05:21:00.677
> 
> 标签：report, reporting, liferay, portlet, liferay-6

liferay 中是否有任何报告功能？我对此进行了研究，但我发现只有 EE（企业版）的报告功能，但我使用的是 CE（社区版），所以任何人都知道或已经实现了报告功能或任何现成的 portlet在liferay中报告？

我知道关于 Jasper 报告，但在技术上对 java 来说不太好，所以很难集成到我的 liferay 中，所以在开始之前，我想确定 liferay CE 中是否已经提供了任何报告功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-22T14:29:57.893

这个[portlet 应用程序](http://www.visioneo.org/)与 Liferay CE 一起工作，它运行 BIRT 报告并有一个免费版本

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-13T18:31:39.190

我已经在 ma liferay portlet 中实现了 jasper 报告..所以..这就是我的问题的解决方案

# tfs - 将项目放入 TFS 后的错误和警告

> ID：12720718
> 
> 赞同：0
> 
> 时间：2012-10-04T05:21:17.710
> 
> 标签：tfs

我已经创建了一个 Web 应用程序，它正在成功构建，出现 0 个错误和警告，现在我又有一个成员和我一起处理同一个项目，我已经将我的解决方案迁移到 TFS，但是现在在构建时我遇到了 5 个错误和221 个警告。

5 个位置的错误相同（以下方法或属性之间的调用不明确：'ExtensionMethods.ChkDBNull(object)' 和 'ExtensionMethods.ChkDBNull(object)'）AND

警告在具有不同文件和类的 221 个不同位置也是相同的（'D:\Anuj\Projects\Travel\TravelsManagementSystem\App_Code\DAL\Master\DALTravelPlace.cs' 中的类型 'TravelsManagementSystem.Forms.Master.TravelPlaceMst.DALTravelPlace'与“d:\Anuj\Projects\Travel\TravelsManagementSystem\bin\TravelsManagementSystem.dll”中的导入类型“TravelsManagementSystem.Forms.Master.TravelPlaceMst.DALTravelPlace”冲突。使用“D:\Anuj\Projects\Travel”中定义的类型\TravelsManagementSystem\App_Code\DAL\Master\DALTravelPlace.cs'。D:\Anuj\Projects\Travel\TravelsManagementSystem\App_Code\BLL\Master\BLLTravelPlace.cs)

这是检查null的扩展方法

```
public static class ExtensionMethods
{
    public static Object ChkDBNull(this object obj)
    {
        if (obj != null)
        { return obj; }
        else
        { return DBNull.Value; }
    }
} 
```

插入数据时使用

```
 OraPara[i + 5] = new OracleParameter("ic_consulate_addr3", OracleType.VarChar);
                    OraPara[i + 5].Value = objBELConsulate._CONSULATE_ADDR3.ChkDBNull();

                    OraPara[i + 6] = new OracleParameter("ic_consulate_addr4", OracleType.VarChar);
                    OraPara[i + 6].Value = objBELConsulate._CONSULATE_ADDR4.ChkDBNull(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:19:17.093

看起来您可能不小心将一个文件夹从一个项目拖到另一个项目，从而有效地复制了系统中的代码。

D:\Anuj\Projects\Travel\TravelsManagementSystem\App_Code 是网站的文件夹吗？那里应该有一个 DAL 文件夹吗？

# jquery - JQuery 滚动底部问题

> ID：12720720
> 
> 赞同：1
> 
> 时间：2012-10-04T05:21:25.547
> 
> 标签：jquery, jquery-ui, scroll

在我们的表单构建器中，每当拖放一个字段时，它就会添加到平板电脑视图中。添加几个字段后，它会自动滚动到底部。

现在问题来了。添加字段超过 10 个字段后，我们面临滚动问题。实际上它每次都必须滚动到底部。

# database - 在 wordpress 中导入 xml 文件

> ID：12720722
> 
> 赞同：0
> 
> 时间：2012-10-04T05:21:36.587
> 
> 标签：database, wordpress, plugins, import

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:42:22.923

嗨 导出整个数据库时有一些东西，导出时留下了 7 个数据中的联系人...

# teechart - 如何获取布林带的高频带和低频带的数据

> ID：12720733
> 
> 赞同：0
> 
> 时间：2012-10-04T05:22:14.877
> 
> 标签：teechart

我想获取布林带的较高波段和较低波段的数据，因为我想要这两个数据的差异，我该怎么做？谢谢。(Teechart2011Eval & VB6)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T09:00:17.453

拥有一个带有蜡烛系列的图表，您必须添加一个 FastLine 系列并将其设置为布林线函数，如下所示：

```
 TChart1.Aspect.View3D = False

  TChart1.AddSeries scCandle
  TChart1.Series(0).FillSampleValues

  TChart1.AddSeries scFastLine
  TChart1.Series(1).SetFunction tfBollinger
  TChart1.Series(1).DataSource = TChart1.Series(0) 
```

这样做，您创建的 FastLine 是高布林带，并且在内部创建了第三个系列（另一个 FastLine 系列）来代表低布林带。然后，要访问高布林带值，您可以这样做：

```
TChart1.Series(1).YValues.Value(i) 
```

要访问下布林带，您有两种方法：

1.  通过您创建的 FastLine 中的布林线函数：

`TChart1.Series(1).FunctionType.asBollinger.LowBand.YValues.Value(i)`

1.  直接使用内部创建的系列的系列索引：

`TChart1.Series(2).YValues.Value(i)`

# matlab - MatLab：索引超过矩阵维度

> ID：12720735
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:22:29.460
> 
> 标签：matlab, matrix, machine-learning, dimension

我有以下 10 折实现，我正在使用[UCI 机器学习](http://archive.ics.uci.edu/ml/datasets/Wine)发布的数据集，这是数据集的链接：

```
Here are my dimensions

x = 

      data: [178x13 double]
    labels: [178x1 double] 
```

这是我得到的错误

```
Index exceeds matrix dimensions.

Error in GetTenFold (line 33)
    results_cell{i,2} = shuffledMatrix(testRows ,:); 
```

这是我的代码：

```
%Function that accept data file as a name and the number of folds
%For the cross fold
function [results_cell] = GetTenFold(dataFile, x)
%loading the data file
dataMatrix = load(dataFile);
%combine the data and labels as one matrix
X = [dataMatrix.data dataMatrix.labels];
%geting the length of the of matrix
dataRowNumber = length(dataMatrix.data);
%shuffle the matrix while keeping rows intact 
shuffledMatrix = X(randperm(size(X,1)),:);

crossValidationFolds = x;
%Assinging number of rows per fold
numberOfRowsPerFold = dataRowNumber / crossValidationFolds;

crossValidationTrainData = [];
crossValidationTestData = [];
%Assigning 10X2 cell to hold each fold as training and test data
results_cell = cell(10,2);
    %starting from the first row and segment it based on folds
    i = 1;
    for startOfRow = 1:numberOfRowsPerFold:dataRowNumber
        testRows = startOfRow:startOfRow+numberOfRowsPerFold-1;
        if (startOfRow == 1)
            trainRows = (max(testRows)+1:dataRowNumber);
        else
            trainRows = [1:startOfRow-1 max(testRows)+1:dataRowNumber];
            i = i + 1;
        end
        %for i=1:10
        results_cell{i,1} = shuffledMatrix(trainRows ,:);
        results_cell{i,2} = shuffledMatrix(testRows ,:); %This is where I am getting my dimension error
        %end
        %crossValidationTrainData = [crossValidationTrainData ; shuffledMatrix(trainRows ,:)];
        %crossValidationTestData = [crossValidationTestData ;shuffledMatrix(testRows ,:)];
    end
end 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T06:27:26.970

您正在循环遍历`1:numberOfRowsPerFold:dataRowNumber`哪个 is`1:x:178`并且`i`每次都递增。所以这是一种你可以得到`index out of bounds`错误的方法`results_cell`。

获取错误的另一种方法是`testRows`选择超出范围的行`shuffledMatrix`。

## 学习调试

要在发生错误时暂停代码并开始调试，`dbstop if error`请在执行代码之前运行。这样编译器会在遇到错误时进入调试模式，您可以在事情搞砸之前检查变量的状态。

（要禁用此调试模式，请运行`dbclear if error`。）

# sql-server-2008 - SQL Server 2005 实体框架中的存储过程执行

> ID：12720738
> 
> 赞同：0
> 
> 时间：2012-10-04T05:23:02.097
> 
> 标签：sql-server-2008, entity-framework, sql-server-2005, stored-procedures

我正在使用 MVC3 和实体框架在 SQL Server 2008 中调用存储过程。该过程没有参数，并且在探查器中，我将 proc 执行为

```
exec sp_executesql N'sp_GetDashSessionboardRoomTimeSlot', N'@p0 nvarchar(4000)', @p0=NULL 
```

这就是我在 c# 代码中调用的方式。

```
SqlParameter sa = null;
var query = from dashboardData in TBSCIDBContext.Database.SqlQuery<SessionDashboardData>("sp_GetDashSessionboardRoomTimeSlot", sa)
            select dashboardData; 
```

这工作正常。但我已将数据库更改为 SQL Server 2005，我需要使用它

因此，当我使用相同的 C# 代码调用相同的过程时，探查器返回相同的 exec 语句，但 sql 给出错误

> “sp_GetDashSessionboardRoomTimeSlot”附近的语法不正确

请帮助我解决这个问题，因为我需要使用这个存储过程和 SQL Server 2005

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T14:39:29.053

将其更改为

var query = from dashboardData in TBSCIDBContext.Database.SqlQuery("sp_GetDashSessionboardRoomTimeSlot") select dashboardData;

有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T12:24:31.250

`ProviderManifestToken`将SSDL（在您的 EDMX 中）中的值更改为 2005。您可能已将其设置为 2008。

# android - Android 应用程序在主屏幕上创建快捷方式图标后关闭

> ID：12720740
> 
> 赞同：2
> 
> 时间：2012-10-04T05:23:15.360
> 
> 标签：android, icons, shortcut

当我尝试以编程方式在 Android 应用程序的主屏幕中创建快捷方式图标时遇到问题。

我能够创建快捷方式图标，但之后，会弹出一条提示“已创建应用程序快捷方式”的警报，然后应用程序关闭。我不希望应用程序关闭，如果可能的话，我想摆脱创建快捷方式后弹出的警报。

我怎样才能做到这一点？

这是我当前的代码：

```
Intent targetIntent = new Intent (Intent.ACTION_MAIN);
targetIntent.setClassName (getApplicationContext(), "com.mainListActivity");
Intent shortcutintent = new Intent("com.android.launcher.action.INSTALL_SHORTCUT");
shortcutintent.addFlags(Intent.FLAG_FROM_BACKGROUND);

//repeat to create is forbidden
shortcutintent.putExtra("duplicate", false);

//set the name of shortCut
shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_NAME,"SecureLauncher");

//set icon
Parcelable icon = Intent.ShortcutIconResource.fromContext(getApplicationContext(), R.drawable.ic_launcher_cloud);
shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE, icon);

//set the application to lunch when you click the icon
shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_INTENT,targetIntent);
sendBroadcast(shortcutintent); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:04:36.747

我发现应用程序关闭它的原因在我的 manifest.xml 中

在我的清单中有这个之前：我删除了接收器部分：

```
<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT"/>
<receiver
    android:name=".CreateShortcut"
    android:permission="com.android.launcher.permission.INSTALL_SHORTCUT">
    <intent-filter>
        <action android:name="com.android.launcher.action.INSTALL_SHORTCUT"/>
    </intent-filter>
</receiver> 
```

所以我的清单中只有这个：

```
<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:07:59.097

**创建快捷方式时使用此代码**

```
Intent shortcutIntent = new Intent(getApplicationContext(), LoginScreen.class);     
shortcutIntent.setAction(Intent.ACTION_MAIN);

Intent addIntent = new Intent();
addIntent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);
addIntent.putExtra(Intent.EXTRA_SHORTCUT_NAME, "AIMS DOCTOR");
addIntent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE, Intent.ShortcutIconResource.fromContext(getApplicationContext(),    R.drawable.aims));
addIntent.putExtra("duplicate", false);

addIntent.setAction("com.android.launcher.action.INSTALL_SHORTCUT");
getApplicationContext().sendBroadcast(addIntent); 
```

你也应该在你的清单上使用它：

```
<uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" /> 
```

# twitter - iOS6 UIActivity 推文表文本未填充

> ID：12720742
> 
> 赞同：1
> 
> 时间：2012-10-04T05:23:26.433
> 
> 标签：twitter, ios6, uiactivity

我是第一次使用 UIActivity 类，几乎没有修改：

```
 NSString *textToShare = @"my text";
    UIImage *imageToShare = [UIImage imageNamed:@"myImage.png"];
    NSArray *itemsToShare = @[textToShare, imageToShare];
    UIActivityViewController *activityVC = [[UIActivityViewController alloc] initWithActivityItems:itemsToShare applicationActivities:nil];
    activityVC.excludedActivityTypes = @[UIActivityTypePrint, UIActivityTypeCopyToPasteboard, UIActivityTypeAssignToContact, UIActivityTypeSaveToCameraRoll];
    [self presentViewController:activityVC animated:YES completion:nil]; 
```

当我对此进行测试时，电子邮件、消息和 Facebook 会自动填充 textToShare 和 imageToShare，而只有图像出现在推文表上。

Apple UIActivity 类文档说 UIActivityTypePostToTwitter 将接受 NSString、NSAttributedString、UIImage、AVAsset 和 NSURL 对象。

WWDC 视频示例主要以 Facebook 示例为特色，而我之前从未处理过 Twitter。

我认为它会像电子邮件/消息/Facebook 那样填充，我不知道从这里去哪里。看起来它应该很简单，但是我的搜索导致了更复杂的自定义 Twitter 问题和解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T03:02:03.540

“我的文字”比推文的 140 个字符限制多出几个字符。缩短文本，填充推文表。

# java - 使用 JScrollPane 添加时 JTable 不可见

> ID：12720747
> 
> 赞同：5
> 
> 时间：2012-10-04T05:24:01.490
> 
> 标签：java, swing, user-interface, jtable, jscrollpane

我正在开发一个基于 gui 的项目，我需要在 jpanel 中添加一个 jtable。但我不明白为什么使用滚动窗格添加时表格没有显示。此外，在没有滚动窗格的情况下添加时，不显示表格标题。感谢您的帮助...以下是我正在使用的代码..

```
import javax.swing.*;
import javax.swing.table.*;
import java.sql.*;
import java.awt.*;
import java.awt.event.*;

public class FrmAddEditDN extends JDialog{
    JButton JBUpdate = new JButton(new ImageIcon("images/save.png"));
    JButton JBReset = new JButton("Reset",new ImageIcon("images/reset.png"));
    JButton JBCancel = new JButton("Cancel",new ImageIcon("images/cancel.png"));

    JLabel JLPic1 = new JLabel();
    JLabel JLBanner = new JLabel("Please fill-up all the required fields.");

public FrmAddEditDN(boolean ADD_STATE,JFrame OwnerForm,Connection srcCN,String srcSQL){
        super(OwnerForm,true);
        cnAEDN = srcCN;
        ADDING_STATE = ADD_STATE;
        JPanel JPContainer = new JPanel();
        JPContainer.setLayout(null);
                String[] columnNames = {
                    "Sr No","Invoice No","Invoice Date","Consignee","Description","Basic Amount","Invoice Amount","Payment Received",
                "EFT Date","Payment Earlier Received","Comm. @ %","Comm.Claim @ %","Comm. Received","Date","Bank","Remarks"};
                String[][] data = {
                    {"","","","","","","","","","","","","","","",""}
   };
                DefaultTableModel DTModel = new DefaultTableModel(data,columnNames);
                JTable table = new JTable(5,16);
                table.setBounds(15,295,screen.width-40,150);
                table.setRowHeight(30);
                table.setForeground(Color.black);
                table.setBackground(Color.white);
                JTableHeader header = table.getTableHeader();
                header.setForeground(Color.red);
                header.setBackground(Color.green);
                table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);
                table.getColumnModel().getColumn(0).setPreferredWidth(2);
                table.getColumnModel().getColumn(1).setPreferredWidth(50);
                JScrollPane tableContainer = new JScrollPane();
                tableContainer.setViewportView(table);

                JPContainer.add(tableContainer);

                getContentPane().add(JPContainer);
        setSize(screen.width-5,screen.height-45);
        setResizable(false);
        setLocation(0,0);
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T05:29:03.230

您需要`Component`在创建[JScrollPane](http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)时通过。

```
JScrollPane scrollPane = new JScrollPane(table);
JPContainer.add(scrollPane); 
```

# android - Android 滑动列表视图

> ID：12720748
> 
> 赞同：1
> 
> 时间：2012-10-04T05:24:04.627
> 
> 标签：android, android-listview, swipe, onfling

我做了如下编码：

```
public class MenuFragment extends ListFragment {
    private SlideoutHelper mSlideoutHelper;
    public final GestureDetector gdt = new GestureDetector(
            new GestureListener());
    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

        setListAdapter(new ArrayAdapter<String>(getActivity(),
                android.R.layout.simple_list_item_1, new String[] { " First",
                        " Second", " Third", " Fourth", " Fifth", " Sixth",
                        " Seventh", " Eighth", " Ninth", " Tenth" }));
         getListView().setCacheColorHint(0);
         getListView().setOnTouchListener(new OnTouchListener() {
                public boolean onTouch(final View view, final MotionEvent event) {

                    return gdt.onTouchEvent(event);
                }
            });
    }

    @Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        super.onListItemClick(l, v, position, id);
        // ((MenuActivity)getActivity()).getSlideoutHelper().close();

        Context con = v.getContext();

        if (position == 0) {
            Toast.makeText(con, "First Clicked", 5).show();
        } else {
            Toast.makeText(con, "Clicked", 5).show();
        }
    }
    public class GestureListener extends SimpleOnGestureListener {

        private final int SWIPE_MIN_DISTANCE = 120;
        private final int SWIPE_THRESHOLD_VELOCITY = 2000;

        @Override
        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
                float velocityY) {

            if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE
                    && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                System.out.println("flingggggggggg");
                 mSlideoutHelper.close();

                return true;
            }

            return false;
        }
    }
} 
```

但它不起作用。请帮我。如何在此视图中获得滑动选项？

# ios - 对 UIView 的起源感到困惑

> ID：12720749
> 
> 赞同：0
> 
> 时间：2012-10-04T05:24:05.903
> 
> 标签：ios, uiview

我一直觉得 View 的起源定义了它在父视图中的位置。但是在我的应用程序中，无论我在界面上将视图移动到何处，Origin 都是 0,0。

这是我使用的代码：

```
- (void)drawRect:(CGRect)rect
{
    float orginX = rect.origin.x;
    float orginY = rect.origin.y;

    NSLog(@"X-Origin %f.", orginX);
    NSLog(@"Y-Origin %f.", orginY); 
```

我的错误在哪里？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:32:39.287

传入 drawRect: 的矩形是视图的边界，而不是框架，所以它的原点是 0,0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:33:07.670

我相信 drawRect 方法是通过相对于视图原点的框架，即原点将始终为 0,0。这是因为你应该在不知道或关心它相对于它的超级视图的位置的情况下绘制你的视图。

# dashboard - 如何在 CDE 仪表板 sql 查询中获取正确的参数值？

> ID：12720754
> 
> 赞同：2
> 
> 时间：2012-10-04T05:24:27.297
> 
> 标签：dashboard, pentaho

我已经创建了基本的仪表板，到目前为止看起来还不错。

现在我添加了运行时分析的参数。这是我所做的：

1.  添加了简单的参数。名称=“中午”
2.  创建了一个选择组件，daysselect。添加到面板。
3.  创建一个值数组。值为：1、2、3、4、5、6、7、8、9、10。对应的 arg 与数组值相同。
4.  创建了“sql over sqlJdbc”组件。添加了所有必需的值。创建一个简单的查询。
5.  为#4 中的查询创建了一个条形图。像魅力一样工作
6.  Nof 在“sql over sqlJdbc”组件中，使用如下参数（“noofdays”在参数中可见

    ```
    SELECT `a1`,count(`a2`)
    FROM `app_crd`
    WHERE `a3`='RECV'
    and `a4`='CONDITION'
    and where  DATE_SUB(CURDATE(),INTERVAL ${noofdays} DAY) <= `datecolumn`
    group by `a1` 
    ```

当我检查我的日志时，我看到 ${noofdays} 返回 null。

我如何获得正确的值？

谢谢阿杰

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-16T06:21:24.757

在选择组件“daysselect”的参数属性中指定参数“noofdays”，同时在参数属性和条形图的监听器属性中指定参数“noofdays”。

# c# - 如何在 MVC 中显示两个模型之间的关系？

> ID：12720758
> 
> 赞同：1
> 
> 时间：2012-10-04T05:24:52.670
> 
> 标签：c#, asp.net-mvc

> **可能重复：**
> [ASP.NET MVC 中的模型关系](https://stackoverflow.com/questions/2911844/model-relationships-in-asp-net-mvc)

我有两张桌子。一个是国家，一个是地区。国家表有 regionId。一国一区，一区多国。

在国家视图列表中，我想显示国家名称和地区名称。并编辑我想显示区域列表的视图。

这是我的国家模式。

```
public partial class CountryModel : BaseNopEntityModel,
    {           

        public string Name { get; set; }

} 
```

这是我的区域模型

```
 public partial class  RegionModel :BaseNopEntityModel
    {         

        public virtual string Name { get; set; }

    } 
```

如何设置这两个模型之间的关系？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:36:53.493

您可以通过在 CountryModel 类中创建 RegionModel 类的属性来将每个国家与其关联的区域链接起来。通过此属性，您可以访问每个国家/地区的区域。

```
public class CountryModel : BaseNopEntityModel,
{
    public string Name { get; set; }
    public Regionmodel Region{get; set; }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:43:02.260

您可能希望使用单独的 dto 来存储国家与相关区域，并且您可以更改国家模型如下以获取国家信息和区域列表，以便在编辑时从下拉列表中选择。

```
public class CountryDto
{
    public string Name { get; set; }

    public string RegionName { get; set; }
}

public partial class CountryModel : BaseNopEntityModel,
{           
    public CountryDto[] Countries { get; set; }

    public string[] RegionList { get; set; }
} 
```

# java - 两个 JFrame 同时运行

> ID：12720762
> 
> 赞同：1
> 
> 时间：2012-10-04T05:25:23.643
> 
> 标签：java, swing, class, handler, joptionpane

所以我的问题是，我如何才能使主类在另一个类等待用户输入时不运行。

也许我的想法是错误的，所以请帮助我理清我的想法:)

这是一个小例子/片段。

Main Class 正在运行一个 JFrame，然后打开另一个 JFrame 要求用户输入另一个 JFrame 在 AddEditWindow 类中。

`AddEditWindow temp = new AddEditWindow();`

`info[counter+1] = temp.newEditedInfo;`

`infoArray.add(info[counter+1]);`

非常多，我要问的是，我该如何制作才能使其在用户最终完成输入所有内容之前不会到达第二行代码。

AddEditWindow 的 ActionListener/Event 处理程序仅用于按钮。

所以我在等待一个按钮被点击（以便初始化 AddEditWindow 类中的变量），然后让代码继续

`info[counter+1] = temp.newEditedInfo;`

希望我解释得足够好。

不知道是我想错了还是什么：|

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T06:02:57.570

为简单起见，尝试类似...

```
int result = JOptionPane.showConfirmDialog(null, "Can I ask you a question", "Quesion", JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);
switch (result) {
    case JOptionPane.YES_OPTION:
        //...
        break;
    case JOptionPane.NO_OPTION:
        //...
        break;
} 
```

![在此处输入图像描述](../Images/4ddba0f790ede0b9709f1b1715c541a5.png)

`JOptionPane`是一个非常强大的组件。如果您提供一个组件而不是字符串，它将显示该组件...

例如...

![在此处输入图像描述](../Images/576af01257b0ca3de0e11e559021fc39.png)

```
JPanel panel = new JPanel(new GridLayout(0, 2));
panel.add(new JLabel("Name"));
panel.add(new JLabel("Last"));
panel.add(new JTextField("Jason"));
panel.add(new JTextField("Cardanas"));
panel.add(new JLabel("Phone"));
panel.add(new JLabel("Email"));
panel.add(new JTextField("333"));
panel.add(new JTextField("X"));
panel.add(new JLabel("PID"));
panel.add(new JLabel("Donation"));
panel.add(new JTextField("X"));
panel.add(new JTextField("0"));
panel.add(new JLabel("Membership"));
panel.add(new JLabel("Points"));
panel.add(new JTextField("false"));
panel.add(new JTextField("0"));

int result = JOptionPane.showConfirmDialog(null, panel, "Quesion", JOptionPane.OK_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);
switch (result) {
    case JOptionPane.OK_OPTION:
        //...
        break;
    case JOptionPane.CANCEL_OPTION:
        //...
        break;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T05:33:34.613

我想你是在问`Modal`对话。检查[这个](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)

# android - 长按将 Android 中的图标摇动为 iPhone

> ID：12720769
> 
> 赞同：5
> 
> 时间：2012-10-04T05:26:05.093
> 
> 标签：android, animation

我正在实现一个应用程序，我想在 iPhone 中摇动图标。

我怎样才能实现相同的？

我在这里附上了我的动画代码。请建议我任何解决方案。我已经尝试了已经在堆栈溢出中指定的soln，但它在我的情况下不起作用。而这个类是一个非活动类，这个动画集就是在其中编写的。

```
protected void animateDragged(){
    View v = getChildAt(dragged);
    int x = getCoorFromIndex(dragged).x + childSize / 2, y = getCoorFromIndex(dragged).y + childSize / 2;
    int l = x - (3 * childSize / 4), t = y - (3 * childSize / 4);
    v.layout(l, t, l + (childSize * 3 / 2), t + (childSize * 3 / 2));
    AnimationSet animSet = new AnimationSet(true);
    ScaleAnimation scale = new ScaleAnimation(.667f, 1, .667f, 1, childSize * 3 / 4, childSize * 3 / 4);
    scale.setDuration(animT);
    AlphaAnimation alpha = new AlphaAnimation(1, .5f);
    alpha.setDuration(animT);

    animSet.addAnimation(scale);
    animSet.addAnimation(alpha);
    animSet.setFillEnabled(true);
    animSet.setFillAfter(true);

    v.clearAnimation();
    v.startAnimation(animSet);
} 
```

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T05:52:28.397

也许你可以`shake.xml`在`anim`文件夹中制作。

```
 <?xml version="1.0" encoding="utf-8"?>
<rotate xmlns:android="http://schemas.android.com/apk/res/android"
    android:duration="100"
    android:fromDegrees="-5"
    android:pivotX="50%"
    android:pivotY="50%"
    android:repeatCount="infinite"
    android:repeatMode="reverse"
    android:toDegrees="5" /> 
```

现在在你的方法`animateDragged()`中使用它

```
Animation animation=AnimationUtils.loadAnimation(this,R.anim.shake);
v.startAnimation(animation); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-10T15:49:10.530

您还可以通过编程方式为每个视图制作**不同的随机动画。**只需在每个图标**的循环**中使用下面的代码片段

```
 float px = ((float) Math.random() * .5f);
        float py = ((float) Math.random() * .5f);

        RotateAnimation anim = new RotateAnimation((float) Math.PI / 2 * -1.f, (float) Math.PI / 2,
                RotateAnimation.RELATIVE_TO_SELF, .25f + px,
                RotateAnimation.RELATIVE_TO_SELF, .25f + py);
        anim.setDuration((long) (80\. + (Math.random() * 50.)));
        anim.setRepeatCount(RotateAnimation.INFINITE);
        anim.setRepeatMode(RotateAnimation.REVERSE);

        v.startAnimation(anim); 
```

# mysql - 如何使用经典 ASP 将 TIME 格式化为 HH:MM AM/PM 格式？

> ID：12720770
> 
> 赞同：2
> 
> 时间：2012-10-04T05:26:08.570
> 
> 标签：mysql, asp-classic

我要疯了。我有一个带有 TIME 类型字段的 mySQL 表。我想显示时间，例如 09:00 PM，而不是 09:00:00 PM。我得到了这个工作，但认为必须有更好的方法 -

星期一 = FormatDateTime(rs("d1s"), vbLongTime) response.write replace(monday,":00 AM"," AM")

我已经阅读了很多资源，但无法确定如何最好地做到这一点。任何帮助，将不胜感激。

另外，如果有一种方法可以消除第一个数字，如果是 0，例如不是 09:00 AM 而是 9:00 AM

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:28:13.823

由于您使用的是 MySQL，**[`DATE_FORMAT`](http://davidwalsh.name/format-date-mysql-date_format)**请在您的`SELECT`语句中使用，

```
SELECT DATE_FORMAT(ColumnName, '%l:%i %p') 
```

# [请参阅 SQLFiddle 演示](http://sqlfiddle.com/#!2/d41d8/2493)

# ruby - 邻接表和图

> ID：12720771
> 
> 赞同：10
> 
> 时间：2012-10-04T05:26:13.260
> 
> 标签：ruby, algorithm

我正在尝试按邻接列表构建图形，这意味着我需要一个包含所有节点的列表，并且在每个节点类中，我还需要一个数据结构来保存所有相邻节点。只是想知道最好的结构是什么（快速搜索目标节点类）。数组会起作用吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-05T15:54:47.417

这是在 Ruby 中构建有向图的一种方法，其中每个节点都维护对其后继节点的引用，但节点可以按名称引用。首先，我们需要一个节点类：

```
class Node

  attr_reader :name

  def initialize(name)
    @name = name
    @successors = []
  end

  def add_edge(successor)
    @successors << successor
  end

  def to_s
    "#{@name} -> [#{@successors.map(&:name).join(' ')}]"
  end

end 
```

每个节点都维护对其后继节点的引用。不知道您需要什么样的操作，我还没有定义任何实际进行图遍历的操作，但是每个节点都引用其后继节点使得遍历图变得微不足道。

现在我们将创建一个类来表示整个图：

```
class Graph

  def initialize
    @nodes = {}
  end

  def add_node(node)
    @nodes[node.name] = node
  end

  def add_edge(predecessor_name, successor_name)
    @nodes[predecessor_name].add_edge(@nodes[successor_name])
  end

  def [](name)
    @nodes[name]
  end

end 
```

此类保留其节点的散列，以名称为键。这使得特定节点的检索变得容易。

下面是一个包含循环的图表示例：

```
graph = Graph.new
graph.add_node(Node.new(:a))
graph.add_node(Node.new(:b))
graph.add_node(Node.new(:c))
graph.add_edge(:a, :b)
graph.add_edge(:b, :c)
graph.add_edge(:c, :a)
puts graph[:a]    #=> a -> [b]
puts graph[:b]    #=> b -> [c]
puts graph[:c]    #=> c -> [a] 
```

# android - 如何让相机出现在android的特定屏幕区域？

> ID：12720774
> 
> 赞同：5
> 
> 时间：2012-10-04T05:26:28.370
> 
> 标签：android, camera

我需要相机出现在 android 的特定屏幕区域这是我用于相机活动的代码

现在相机正在工作，但它占据了整个屏幕我希望相机出现在屏幕的特定区域怎么做？

```
 private void uploadPhoto(String name) {
        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
        File file = new File(Environment.getExternalStorageDirectory(), name
                + ".jpg");
        mImageCaptureUri = Uri.fromFile(file);
        try {
            intent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT,
                    mImageCaptureUri);
            intent.putExtra("return-data", true);
            startActivityForResult(intent, PICK_FROM_CAMERA);
        } catch (Exception e) {
            e.printStackTrace();
        }

    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T05:29:04.320

当您使用相机意图时，您正在打开默认相机应用程序。但是如果您需要在屏幕的特定部分显示相机，您应该考虑制作自己的相机应用程序。阅读此处了解更多信息[http://developer.android.com/guide/topics/media/camera.html](http://developer.android.com/guide/topics/media/camera.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T05:31:19.693

在您的代码`startActivityForResult(intent, PICK_FROM_CAMERA);`中启动一个隐式意图并启动相机应用程序。它是一个完全不同的应用程序，因此默认情况下它将占据整个屏幕。您不能将其限制在屏幕的特定部分。如果您需要，您将需要创建自己的自定义相机。有很多可用的教程。你可以从[这里](https://stackoverflow.com/questions/8543244/custom-camera-android)开始。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-04T05:34:25.603

您不能为此使用意图。如果您使用意图，它将启动相机应用程序。相反，您需要使用称为相机预览的东西。这将向用户显示相机看到的内容，然后您可以使用 API 来控制相机操作。

这是来自官方开发者文档的一个非常好的教程： [https ://developer.android.com/guide/topics/media/camera.html#custom-camera](https://developer.android.com/guide/topics/media/camera.html#custom-camera)

# java - 如何在 xml 解析中解析项目和子项目

> ID：12720782
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:26:52.393
> 
> 标签：java, android

```
<taxmann>
    <docdetails>
    <info id="104010000000007617" date="19780225">
    <physicalpath>\\192.168.1.102\CMS\DATA</physicalpath>
    <filepath isxml="N">
    \NOTIFICATIONS\DIRECTTAXLAWS\HTMLFILES\150025021978.htm
    </filepath>
    <summary></summary>
    <description></description>
    <heading>
    2187 [S.O.1500] | Section 35(1)(ii) of the Income-tax Act, 1961 - Scientific research expenditure - Approved scientific research associations/institutions
    </heading>
    <correspondingcitation/>
    <hasfile>YES</hasfile>
    <sortby>20120328160152743</sortby>
    <parentid></parentid>
    <parentchapterid></parentchapterid>
    </info>
    </docdetails>
</taxmann> 
```

代码：

```
 ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();

        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_DOCDETAILS);
        // looping through all item nodes <item>
        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);

            map.put(KEY_HEADING, parser.getValue(e, KEY_HEADING));

            // adding HashList to ArrayList
            menuItems.add(map);

       } 
```

这是我的 Xml 格式我想要 xmlParse 并想要显示 id、日期、标题我能够显示标题但我不打印日期和 id 你能告诉我我将如何实现它。这是我打印标题的代码，请修改我的代码和打印标题，id，日期..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:30:54.390

1.声明

```
 String URL = "http://www.google.co.in/ig/api?news&hl=en";
      String KEY_ITEM = "news"; 
      String KEY_ID = "news_entry";
      String KEY_NAME = "title";
      String KEY_COST = "url";
      String KEY_DESC = "snippet"; 
```

2.解析

```
 XMLParser parser = new XMLParser();
 String xml = parser.getXmlFromUrl(URL); // getting XML
 Document doc = parser.getDomElement(xml); // getting DOM element
 NodeList nl = doc.getElementsByTagName(KEY_ITEM);
   for (int i = 0; i < nl.getLength(); i++) {

   HashMap<String, String> map = new HashMap<String, String>();
    Element e = (Element) nl.item(i);
     NamedNodeMap attributes = e.getAttributes();
    System.out.println("attrlength"+attributes.getLength());
     for (int a = 0; a < attributes.getLength(); a++) 
     {
             Node theAttribute = attributes.item(a);
             System.out.println(theAttribute.getNodeName() + "=" + theAttribute.getNodeValue());
     }
         NodeList nl1=e.getElementsByTagName(KEY_ID);
     System.out.println("keyId"+nl1.getLength());
     for(int j=0;j<nl1.getLength();j++)
     {
         Element e1 = (Element) nl1.item(j);

         NodeList n = e1.getElementsByTagName(KEY_NAME);

          for (int k = 0; k < n.getLength(); k++) {

              Element e2 = (Element) n.item(k);
        //  System.out.println("node Title value"+e2.getNodeName());
             NamedNodeMap attributes2 = e2.getAttributes();
            // System.out.println("attrlength"+attributes2.getLength());
             for (int a = 0; a < attributes2.getLength(); a++) 
             {
                     Node theAttribute = attributes2.item(a);
                     System.out.println(theAttribute.getNodeName() + "=" + theAttribute.getNodeValue());

             }
          }

          NodeList n1 = e1.getElementsByTagName(KEY_COST);
        // System.out.println("title "+n.getLength());
          for (int k = 0; k < n1.getLength(); k++) {

              Element e2 = (Element) n1.item(k);
        //    System.out.println("node Url value");
             NamedNodeMap attributes2 = e2.getAttributes();
          //   System.out.println("attrlength"+attributes2.getLength());
             for (int a = 0; a < attributes2.getLength(); a++) 
             {
                     Node theAttribute = attributes2.item(a);
                     System.out.println(theAttribute.getNodeName() + "=" + theAttribute.getNodeValue());

             }}

             NodeList n2 = e1.getElementsByTagName(KEY_DESC);
            // System.out.println("title "+n.getLength());
              for (int k = 0; k < n2.getLength(); k++) {

                  Element e2 = (Element) n2.item(k);
            //    System.out.println("node snippet value"+e2.getNodeName());
                 NamedNodeMap attributes2 = e2.getAttributes();
              //   System.out.println("attrlength"+attributes2.getLength());
                 for (int a = 0; a < attributes2.getLength(); a++) 
                 {
                         Node theAttribute = attributes2.item(a);
                         System.out.println(theAttribute.getNodeName() + "=" + theAttribute.getNodeValue());

                 }
              }  

     }

//    menuItems.add(map);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:57:30.757

```
 NodeList nl = doc.getElementsByTagName("info");

            for (int i = 0; i < nl.getLength(); i++) {

                Element e = (Element) nl.item(i);
     NamedNodeMap attributes = e.getAttributes();

        for (int a = 0; a < attributes.getLength(); a++) 
        {
                Node theAttribute = attributes.item(a);
                System.out.println(theAttribute.getNodeName() + "=" + theAttribute.getNodeValue());
        }
} 
```

# jpa - 我可以在 JPA 实体中使用实例方法吗？

> ID：12720785
> 
> 赞同：0
> 
> 时间：2012-10-04T05:27:12.293
> 
> 标签：jpa

```
public class Dept{
 private String id;
 private String name;
 private String address;
 private List<Student> students;

 public static List <Student> getStudentByDeptid(EntityManager em, Dept dept)
{
        ..............
}
} 
```

getStudentByDeptid() 应该是静态的还是非静态的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:29:40.203

是的你可以。但是您不应该`JPA`实体的设计不是为了在其中包含您应该使用`Session Bans`的业务逻辑。您可以将 a 定义`StudentBean`为会话 bean 并在该 bean 中定义此逻辑。

假设您正在对传递给函数的 em 调用查询。

# ios - XCode 4.5 适用于哪些设备？

> ID：12720795
> 
> 赞同：3
> 
> 时间：2012-10-04T05:28:31.663
> 
> 标签：ios, xcode4.5, device, armv7

XCode 4.5 只允许 armv7。我对这种变化很满意，因为它占用的空间更少。我敢肯定，一些极端的汇编程序员对这种差异感到宽慰，使编码更加更新和简化。

有谁碰巧知道哪些设备不再受支持？是 iPhone 3G 和 iPod 1 吗？

谢谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:52:26.623

是的，iPhone、iPhone 3G 和第一代 iPod touch 绝对是 armv6。我相信第二代 iPod touch 也是。

# mysql - 事件调度程序：没有数据 - 获取、选择或处理零行？

> ID：12720801
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:29:04.920
> 
> 标签：mysql, stored-procedures

*   MySQL 5.5.28

错误日志不断收到此错误：

```
121004 12:08:59 [ERROR] Event Scheduler: [user@ip][reportingdb.tvc_bookingonline_update_status] No data - zero r
ows fetched, selected, or processed 
121004 12:13:59 [ERROR] Event Scheduler: [user@ip][reportingdb.tvc_bookingonline_update_status] No data - zero r
ows fetched, selected, or processed 
121004 12:18:59 [ERROR] Event Scheduler: [user@ip][reportingdb.tvc_bookingonline_update_status] No data - zero r
ows fetched, selected, or processed 
```

定义：

```
mysql> show create event reportingdb.tvc_bookingonline_update_status\G
*************************** 1\. row ***************************
               Event: tvc_bookingonline_update_status
            sql_mode: NO_AUTO_CREATE_USER
           time_zone: SYSTEM
        Create Event: CREATE DEFINER=`user`@`ip` EVENT `tvc_bookingonline_update_status` ON SCHEDULE EVERY 5 MINUTE STARTS '2012-07-27 10:08:59' ON COMPLETION NOT PRESERVE ENABLE DO CALL `bo_tvc_booking_supdate_status_booking`( @plstbookingid_destroy)
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: utf8_general_ci

mysql> show create procedure reportingdb.bo_tvc_booking_supdate_status_booking\G
*************************** 1\. row ***************************
           Procedure: bo_tvc_booking_supdate_status_booking
            sql_mode: 
    Create Procedure: CREATE DEFINER=`user`@`ip` PROCEDURE `bo_tvc_booking_supdate_status_booking`(
        OUT plstbookingid_destroy VARCHAR(1500)
    )
    DETERMINISTIC
BEGIN
    DECLARE  no_found_row INT DEFAULT 0;
    DECLARE _idbooking INT;
    DECLARE _status INT;
    DECLARE _no_contract VARCHAR(25);
    DECLARE _fromdate DATE;
    DECLARE _todate DATE;
    DECLARE _flagsync SMALLINT DEFAULT 0;
    DECLARE _ROWSCOUNT INT DEFAULT 0;
    DECLARE _lstBookDestroy VARCHAR(500);
    DECLARE _lstBookRunning VARCHAR(500);
    DECLARE _lstBookFinish VARCHAR(500);
    #LAY DU LIEU BOOKING
    DECLARE  cur_row CURSOR FOR
        SELECT B.`idbooking`, B.`status`, B.`no_contract`, B.`fromdate`, B.`todate` 
        FROM `tvc_bookings` B       
        WHERE B.`status` IN (1, 2, 3);

    DECLARE EXIT HANDLER FOR SQLEXCEPTION  SET @error=1;
    DECLARE  CONTINUE HANDLER FOR NOT FOUND SET  no_found_row = 1;
    SELECT COUNT(*) INTO _ROWSCOUNT 
    FROM `tvc_bookings` B       
    WHERE B.`status` IN (1, 2, 3);
    IF(_ROWSCOUNT > 0) THEN
            SET AUTOCOMMIT=0;
        #BAT DAU DUYET TUNG BOOKING
        SET plstbookingid_destroy = '';
        SET _lstBookDestroy = 'List bookid destroy: ';
        SET _lstBookRunning = 'List bookid running: ';
        SET _lstBookFinish = 'List bookid finish: ';
        OPEN cur_row;
        FETCH cur_row INTO _idbooking, _status, _no_contract, _fromdate, _todate;
        WHILE no_found_row = 0 DO 
            #KIEM TRA RULE
            IF(_status = 1) THEN
                #IF((_no_contract IS NULL OR _no_contract = '') AND DATEDIFF(_fromdate, CURDATE()) <= 3) THEN
                #MODIFY DEN HET NGAY MOI HUY BOOKING
                #IF((_no_contract IS NULL OR _no_contract = '') AND DATEDIFF(CURDATE(), _fromdate) = 1) THEN#YEU CAU NEW NGAY CHAY = NOW
                IF((_no_contract IS NULL OR _no_contract = '') AND DATEDIFF(CURDATE(), _fromdate) > 0) THEN#YEU CAU NEW NGAY CHAY = NOW
                    CALL `bo_tvc_create_version_booking`( _idbooking, 'Services store huy booking den ngay chay ma chua co HD', 'Services');
                    UPDATE `tvc_bookings`  
                    SET `status` = 4,  
                        `modifiedby` = 'SERVICES',
                        `modifieddate` = CURRENT_TIMESTAMP()
                    WHERE `idbooking` = _idbooking;             
                    #OUT INFO
                    SET _lstBookDestroy = CONCAT(_lstBookDestroy, _idbooking, ',');
                END IF;       
            END IF;#IF(_status = 1)

            IF(_status = 2 AND _no_contract != '') THEN
                IF(_fromdate <= CURDATE()) THEN
                    #CHECK TABLE
                    /*
                    SELECT COUNT(*) INTO _flagsync
                    FROM `bo_tvc_sync_hdcn_thucchay` A
                    WHERE A.`booking_id` = _idbooking AND A.`updated` = 1;
                    */
                    SET _flagsync = 1;#FIX CODE CONNECT HDCN SOON

                    IF(_flagsync > 0) THEN
                        CALL `bo_tvc_create_version_booking`( _idbooking, 'Services store chuyen trang thai hop dong thanh running', 'Services');
                        UPDATE `tvc_bookings`  
                        SET `status` = 3,  
                            `modifiedby` = 'SERVICES',
                            `modifieddate` = CURRENT_TIMESTAMP()
                        WHERE `idbooking` = _idbooking;                             

                        #UPDATE FLAG DA CHUYEN                            
                        UPDATE `bo_tvc_sync_hdcn_thucchay`  
                        SET `updated` = 2
                        WHERE `booking_id` = _idbooking AND `updated` = 1;

                        SET _lstBookRunning = CONCAT(_lstBookRunning, _idbooking, ',');
                    END IF;    
                END IF;

                IF(DATE_ADD(_todate, INTERVAL 1 DAY) <= CURDATE()) THEN
                    CALL `bo_tvc_create_version_booking`( _idbooking, 'Huy book vi het ngay chay ma ko co thuc chay ben hdcn', 'Services');
                    UPDATE `tvc_bookings`  
                    SET `status` = 4,  
                        `modifiedby` = 'SERVICES',
                        `modifieddate` = CURRENT_TIMESTAMP()
                    WHERE `idbooking` = _idbooking;                             

                    #OUT INFO
                    SET _lstBookFinish = CONCAT(_lstBookFinish, _idbooking, ',');
                END IF;
            END IF;#IF(_status = 2 AND _no_contract != '') THEN

            #UPDATE CAC BOOKING DA CHAY XONG
            IF(_status = 3 AND DATE_ADD(_todate, INTERVAL 1 DAY) <= CURDATE()) THEN
                CALL `bo_tvc_create_version_booking`( _idbooking, 'Services store chuyen chuyen booking thanh chay ket thuc', 'Services');
                UPDATE `tvc_bookings`  
                SET `status` = 5,  
                    `modifiedby` = 'SERVICES',
                    `modifieddate` = CURRENT_TIMESTAMP()
                WHERE `idbooking` = _idbooking;                        
                SET _lstBookFinish = CONCAT(_lstBookFinish, _idbooking, ',');
            END IF;#IF(_status = 3 AND DATE_ADD(_todate, INTERVAL 1 DAY) <= CURDATE())
        FETCH cur_row INTO _idbooking, _status, _no_contract, _fromdate, _todate;
        END WHILE;
        CLOSE cur_row;

        #OUT INFO TO SERVICES
        SET plstbookingid_destroy = CONCAT(_lstBookDestroy, '\r\n', _lstBookRunning, '\r\n', _lstBookFinish);
    END IF;
    COMMIT;
END
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: utf8_general_ci 
```

我能做些什么来摆脱这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T21:08:34.563

# ruby - 为什么 Mechanize 在看到错误的 OAuth 凭据时会引发“未定义的方法‘任何？’”？

> ID：12720804
> 
> 赞同：0
> 
> 时间：2012-10-04T05:29:35.517
> 
> 标签：ruby, oauth, oauth-2.0, mechanize, mechanize-ruby

我正在测试一些在幕后使用 Mechanize 的 Ruby 代码。我发现当我在请求中传递错误的 OAuth 令牌时，Mechanize 会引发意外异常。

我使用错误令牌进行调用，调用引发以下异常：

```
#<NoMethodError: undefined method `any?' for nil:NilClass> 
```

我有一些额外的分析，我将作为答案发布，但如果有人有额外的见解，将不胜感激。

我尝试将这个问题放在 mechanize-users 邮件列表中，但版主没有发布。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:57:30.767

如果你看[这里，](https://github.com/sparklemotion/mechanize/blob/master/lib/mechanize/http/www_authenticate_parser.rb)你会看到 Mechanize::HTTP::WWWAuthenticateParser#parse 在某些条件下可以返回 nil （截至本文的第 83 行）我不确定为什么这可能有用，但这是你的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:29:35.517

初始响应包含带有错误信息的 WWW-AUTHENTICATE 标头：

```
response-header: www-authenticate => Bearer realm=api.att.com,error=invalid_token, error_description=the token is not valid 
```

根据我[对 OAuth 规范的](http://self-issued.info/docs/draft-ietf-oauth-v2-bearer.html)阅读，这是正确的用法。但是，通过跟踪 Mechanize 代码，我看到 Mechanize 假定 WWW-AUTHENTICATE 标头将包含一个或多个挑战，描述如何通过身份验证重试请求。我特别发现自己在#response_authenticate 的agent.rb:702 中，它通过以下方式检查凭据：

```
@auth_store.credentials? 
```

该方法又调用#any？在一个 nil 对象上，因为它没有设法从标题中解析任何挑战：

```
def credentials? uri, challenges
    challenges.any? do |challenge|
        credentials_for uri, challenge.realm_name
    end
end 
```

# css - 打印表格数据

> ID：12720812
> 
> 赞同：1
> 
> 时间：2012-10-04T05:30:12.987
> 
> 标签：css, printing, css-tables

如果我打印表格，我有一个带有滚动条的表格，我得到了一半的表格。我想打印整个表格数据。

以下是我的 CSS：

```
<link rel='stylesheet' media="all" type='text/css' href='<?=$this->baseUrl('/scripts/jquery/plugins/weekcalendar/demo.css')?>' />  

.wc-scrollable-grid {
     overflow: auto;
     overflow-x: hidden !important;
     overflow-y: auto !important; 
     position: relative;
     background-color: #fff;
     width: 100%;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:20:55.163

这里的关键是如何限制表格或其容器的高度。这部分代码没有在问题中公开，但假设一个简单的声明，如

```
 .wc-scrollable-grid {
    height: 250px;
  } 
```

...解决方案只是将其限制为屏幕媒体，例如

```
 @media screen {
    .wc-scrollable-grid {
       height: 250px;
    }
  } 
```

更结构化的方法是将样式表分为三个部分：应该适用于任何媒体的规则；仅适用于屏幕的规则；和仅适用于印刷品的规则。然后你会使用三个`link`元素，每个元素都有不同的`media`属性。

# dynamics-crm-2011 - 在 CRM 2011 高级查找中，是否可以添加日期比较选项“早于 X 天”

> ID：12720814
> 
> 赞同：1
> 
> 时间：2012-10-04T05:30:15.620
> 
> 标签：dynamics-crm-2011, dashboard

在 CRM 2011 高级查找中，是否可以添加日期比较选项“早于 X 天”

有和“早于 X 个月”，但没有天数。

我想要“早于 X 天”和“早于 X 小时”也不错。

是否有一些 api 或表格可以将其添加到下拉选项中。

* * *

> 而且我知道编辑它可能是不好的形式，但是 WTF Microsoft！为什么要实施“早于 X 个月”而不是早于 X 天。如果你在做销售，等了 30 天才发现某样东西已经老化，你就会失去一个客户。
> 
> 现在我可能必须编写一份报告并弄清楚如何在 iframe 中显示它以将其显示在仪表板上。

编辑

在 abs 或 rel 上。CRM 的工作方式早于 X 个月是我期望的工作方式。我很确定用英语它会写成“这个日期早于 1 个月”我想要“这个日期超过 7 天前”并且很高兴会是“这个时间发生在 48 小时前”

# c++ - 添加一个 For 循环

> ID：12720815
> 
> 赞同：1
> 
> 时间：2012-10-04T05:30:22.027
> 
> 标签：c++, loops, for-loop, addition

我编写了一个小型 c++ 程序来基于简单算法进行计算。我要做的是多次运行算法并添加所有值以在循环结束时打印出总值。

作为参考，这里是算法：

`2^y * 25 * 100^(z/100)`

Y 将是用户输入的值，Z 也将是 1-100 之间的值。

这是我的 For 循环：

```
 for(int i=0;i<SkillLeft;i++){
        SkillLevel = SkillLevel+0.01;
        float SubTotal = BasePower*25*(pow (100,SkillLevel));
        Total = DerpTotal+SubTotal;

        cout << "Sub: " << SubTotal << endl;
        cout << "Total: " << Total << endl;
    } 
```

当它与我的其余代码一起运行时，它计算正确，但不是将每个小计添加到总数中，它基本上只是将它乘以 2。

那么如何在不“重置”变量的情况下将每个小计迭代添加到总数中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:31:47.983

写吧：

```
Total += DerpTotal+SubTotal; 
```

反而。你还没有告诉使用什么`DerpTotal`，所以上面*可能*是

```
Total += SubTotal; 
```

而你刚刚打错字了，实际上的意思是

```
Total = Total+SubTotal; 
```

这会更有意义。

# linux - 使用 awk 比较两个文件并打印包含与其他文件匹配的文件

> ID：12720825
> 
> 赞同：1
> 
> 时间：2012-10-04T05:31:24.343
> 
> 标签：linux, awk

我有两个文件：

文件1.txt

```
919167,hutch,mumbai
919594,idea,mumbai 
```

文件2.txt

```
919167000000
919594000000 
```

输出

```
919167000000,hutch,mumbai
919594000000,idea,mumbai 
```

如何使用 AWK 实现这一目标？我有一个巨大的电话号码文件，需要像这样进行比较。我相信 Awk 可以处理它；如果没有，请让我知道我该怎么做。

* * *

### 额外定义

*   *公共部分是否总是一个 6 位数字？*是的，总是 6。
*   *这两个文件是否已经排序？*file1 未排序。file2 可以排序。
*   *文件 2 中的尾随数字是否始终为零？*不，这些是电话号码，可能会有所不同，这样做的目的是获取电话号码的系列信息。
*   *文件 1 包含三个给定数字的记录，而文件 2 包含 2 条记录，或者是一对一的，是否存在危险？*这是一对一的。文件 1 中是否有记录而文件 2 中没有匹配项，反之亦然？_ 是的。
*   *如果是这样，您想查看不匹配的记录吗？*是的，我想要两个记录。

* * *

### 扩展数据

文件1.txt

```
919167,hutch,mumbai
919594,idea,mumbai
918888,airtel,karnataka 
```

文件2.txt

```
919167838888
919594998484
919212334323 
```

预期输出：

```
919167838888,hutch,mumbai
919594998484,idea,mumbai
919212334323,nomatch,nomatch 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:50:42.050

正如我在评论中指出的那样，需要大量未说明的信息才能给出明确的答案。但是，我们可以做出一些合理的猜测：

1.  公共数字是文件 2 的前 6 位数字（我们不关心尾随数字，而只是将它们复制到输出中）。
2.  文件按顺序排序。
3.  如果任一文件中有不匹配的记录，这些记录将被忽略。

选择的工具可能是`sed`和`join`：

```
sed 's/^\([0-9]\{6\}\)/\1,\1/' file2.txt |
join -t, -o 1.2,2.2,2.3 - file1.txt 
```

此编辑`file2.txt`创建一个逗号分隔的第一个字段，其中包含 6 位数的电话号码，然后是该行的所有其余部分。输入被馈送到`join`命令，该命令连接到第一列，并从 中输出“其余行”（第 2 列）`file2.txt`和第 2 列和第 3 列`file1.txt`。

如果电话号码是可变长度的，那么匹配操作会非常复杂。为此，我会使用 Perl（或 Python）来完成这项工作。如果数据未排序，则可以在输入命令之前对其进行排序。如果您想要不匹配的记录，您可以在选项中指定如何处理这些记录`join`。

* * *

现在可以获得所需的额外信息。关键信息是 6 位数字是固定的——唷！由于您使用的是 Linux，我假设`bash`可以使用“进程替换”：

```
sort file2.txt |
sed 's/^\([0-9]\{6\}\)/\1,\1/' |
join -t, -o 1.2,2.2,2.3 -a 1 -a 2 -e 'no-match' - <(sort file1.txt) 
```

如果进程替换不可用，只需`file1.txt`原位排序：

```
sort -o file1.txt file1.txt 
```

然后使用`file1.txt`代替`<(sort file1.txt)`.

* * *

我认为评论可能会要求输入，例如：

### 文件1.txt

```
919167,hutch,mumbai
919594,idea,mumbai
902130,airtel,karnataka 
```

### 文件2.txt

```
919167000000
919594000000
919342313242 
```

### 输出

```
no-match,airtel,karnataka
919167000000,hutch,mumbai
919342313242,no-match,no-match
919594000000,idea,mumbai 
```

如果这不是评论的内容，请通过编辑问题以添加额外数据并以比评论允许的更易读的格式输出来澄清。

* * *

使用扩展数据，这个经过轻微修改的命令：

```
sort file2.txt |
sed 's/^\([0-9]\{6\}\)/\1,\1/' |
join -t, -o 1.2,2.2,2.3 -a 1 -e 'no-match' - <(sort file1.txt) 
```

产生输出：

```
919167838888,hutch,mumbai
919212334323,no-match,no-match
919594998484,idea,mumbai 
```

它看起来很像所需输出的排序版本。`-a n`选项控制是否打印文件 1 或文件 2（或两者）中的不匹配记录；该`-e`选项控制为不匹配字段打印的值。当然，所有这些都可以从 的手册页中轻松获得`join`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T05:55:12.173

这是使用`GNU awk`. 像这样运行：

```
awk -f script.awk file2.txt file1.txt 
```

内容`script.awk`：

```
BEGIN {
    FS=OFS=","
}

FNR==NR {
    sub(/[ \t]+$/, "")
    line = substr($0, 0, 6)
    array[line]=$0
    next
}

{
    printf ($1 in array) ? $0"\n" : "FILE1 no match --> "$0"\n"
    dup[$1]++
}

END {
    for (i in array) {
        if (!(i in dup)) {
            printf "FILE2 no match --> %s\n", array[i]
        }
    }
} 
```

或者，这是单线：

```
awk 'BEGIN { FS=OFS="," } FNR==NR { sub(/[ \t]+$/, ""); line = substr($0, 0, 6); array[line]=$0; next } { printf ($1 in array) ? $0"\n" : "FILE1 no match --> "$0"\n"; dup[$1]++} END { for (i in array) if (!(i in dup)) printf "FILE2 no match --> %s\n", array[i] }' file2.txt file1.txt 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T09:16:56.503

```
awk -F, 'FNR==NR{a[$1]=$2","$3;next}{for(i in a){if($1~/i/) print $1","a[i]}}' your_file 
```

# java - 在系统范围内设置运行时参数

> ID：12720833
> 
> 赞同：2
> 
> 时间：2012-10-04T05:32:15.893
> 
> 标签：java, jvm, java-web-start

> **可能重复：**
> [如何设置 java 系统属性，以便在我启动 JVM 时有效，而不将其添加到命令行参数](https://stackoverflow.com/questions/12577437/how-to-set-a-java-system-property-so-that-it-is-effective-whenever-i-start-jvm-w)

jvm 堆占用设置有两个运行时参数选项，用户和系统。如果每个应用程序都使用用户的内存，那么在系统范围内设置运行时参数有什么用？

我们可以使用系统选项中的内存，它只能设置一次并且适用于系统的每个用户吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:52:05.847

我猜“运行时参数”和“系统选项”术语是指[Java 控制面板](http://docs.oracle.com/javase/7/docs/technotes/guides/deployment/deployment-guide/jcp.html)设置，从问题中根本不清楚。

这些设置只能用于 Java Applet 和 Java Web Start 应用程序。它是否适用于您的 Swing 应用程序取决于它的实际启动方式。

查看[为客户端 PC 上的所有用户设置 Java 运行时设置](https://serverfault.com/questions/270924/setting-java-runtime-setting-for-all-users-on-a-client-pc)以及[如何启动具有更多内存的 Java 小程序？](https://stackoverflow.com/questions/102003/how-can-i-start-an-java-applet-with-more-memory)以获得进一步的提示。

虽然[如何设置 java 系统属性以便在我启动 JVM 而不将其添加到命令行参数时它是有效的，但它](https://stackoverflow.com/questions/12577437/how-to-set-a-java-system-property-so-that-it-is-effective-whenever-i-start-jvm-w)为通常的 java 应用程序提出了带有环境变量的解决方案。另请参阅[如何在 Windows 7 下更改环境变量](https://superuser.com/questions/25037/change-environment-variables-as-standard-user-windows-7)。

# objective-c - AppDelegate.m 文件中的函数未从 MainViewController.m 文件中调用

> ID：12720837
> 
> 赞同：0
> 
> 时间：2012-10-04T05:32:43.283
> 
> 标签：objective-c, ios, xcode, cordova

使用 Cordova 2.1.0 进行 IOS 应用程序开发。我在 MainViewController.m 文件中有以下作为我的 shouldStartLoadWithRequest 函数：

```
- (BOOL)webView:(UIWebView *)webView2 
shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType {

    NSLog(@"shouldStartLoadWithRequest function");

    // Intercept custom location change, URL begins with "js-call:"
    if ([[[request URL] absoluteString] hasPrefix:@"js-call:"]) {

        // Call the given selector
        [self performSelector:NSSelectorFromString(@"resetBadgeCount")];

        // Cancel the location change
        return NO;
    }

    // Accept this location change
    return YES;

} 
```

问题是，在我的 index.html 中，我有以下内容：- window.location = "js-call:resetBadgeCount";

但是 resetBadgeCount 是 AppDelegate.m 文件中存在的一个函数，每当调用 shouldStartLoadWithRequest 函数时，都会出现以下错误：

```
-[MainViewController resetBadgeCount]: unrecognized selector sent to instance 0x199db0 
```

那么我应该如何更改代码以抑制错误并成功调用 resetBadgeCount 函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:36:00.510

目前您正在告诉 MainViewController 尝试执行选择器。这就是为什么它说：

-[MainViewController resetBadgeCount]：无法识别的选择器...

尝试将 [self performSelector:...] 更改为 [[[UIApplication sharedApplication] delegate] performSelector:...]

# c# - 错误：C# 中的 ItemsCollectionEditor 类型违反了继承安全规则

> ID：12720838
> 
> 赞同：1
> 
> 时间：2012-10-04T05:33:00.213
> 
> 标签：c#, winforms, custom-controls, design-time, dotnetbar

当我想将自定义控件程序集 (DLL) 文件添加到 Visual Studio 工具箱时，遇到以下错误：

从程序集“我的程序集文件”加载类型时出错。

类型违反了继承安全规则：ItemsCollectionEditor。派生类型必须要么与基类型的安全可访问性相匹配，要么难以访问。

此外，我将程序集 SecurityRulesAttribute 添加到 AssemblyInfo.cs 文件以解决问题。但是，它对我不起作用。

我的 AssemblyInfo 文件代码是：

```
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Security;

[assembly: AssemblyTitle("WindowsFormsControlLibrary2")]
[assembly: AssemblyDescription("")]
[assembly: AssemblyConfiguration("")]
[assembly: AssemblyCompany("SSSSSSSSS")]
[assembly: AssemblyProduct("WindowsFormsControlLibrary2")]
[assembly: AssemblyCopyright("Copyright © SSSSSSSSS 2012")]
[assembly: AssemblyTrademark("")]
[assembly: AssemblyCulture("")]

[assembly: ComVisible(false)]   
[assembly: Guid("ed5d434c-36e8-4883-a4d3-3eb6459546b3")]

[assembly: AssemblyVersion("1.0.0.0")]
[assembly: AssemblyFileVersion("1.0.0.0")]

[assembly: AssemblyKeyFile("Saino.snk")]
[assembly: AssemblyKeyName("")]
[assembly: System.Security.AllowPartiallyTrustedCallers]

[assembly: SecurityRules(SecurityRuleSet.Level2, SkipVerificationInFullTrust = true)] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-06T09:21:31.200

谢谢米卡莱。你的评论对我有线索。我可以解决我的问题。我从您的评论中了解到，我的代码可能是正确的，而其他方面的问题。根据您的评论，我找到了问题并解决了它，我将解决方案描述如下：

如果程序集文件在GAC中注册并且程序集文件代码再次更改，并且程序集文件重新编译，并且我们想将新的重新编译的程序集文件添加到Visual Studio工具箱中，则会出现此错误。出现此错误的原因是之前在GAC中注册的新重新编译的程序集文件与在GAC中注册的程序集文件不同。因此，必须在 GAC 中重新注册新的重新编译的程序集文件。

现在，如果在 GAC 中添加注册的程序集文件或新的重新编译的程序集文件到 Visual Studio 工具箱，则永远不会发生此错误。

另一个必须考虑的技巧是删除或注释 AssemblyInfo.cs 文件中的以下代码行：

```
[assembly: System.Security.AllowPartiallyTrustedCallers] 
```

现在，它将正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-10T17:42:48.930

`MVcMembership.cs`我从下的文件中删除了以下代码行`App_Startand`。它对我来说很好。

```
[assembly: WebActivator.PreApplicationStartMethod(typeof(CaWorkCompCoverage.App_Start.MvcMembership), "Start")] 
```

# python - 我的 django 项目是否消耗了异常数量的 RAM？

> ID：12720839
> 
> 赞同：0
> 
> 时间：2012-10-04T05:33:04.350
> 
> 标签：python, django, linux, ram, webfaction

这是专门托管在 webfaction 上的，django 项目只有一个静态应用程序，仅此而已。它还运行 celeryd 和 memcached，但这些进程具有预期的内存消耗。

**问题的一些线索**

将 debug 设置为 true 或 false 对内存消耗的影响为零。

当我运行 apache2/bin/stop，然后 apache2/bin/start 消耗显着下降，直到我重新加载站点，然后它回到这个数量。

这是命令 ps -u username -o rss,command 的显着输出

```
2120 /home/path/apache2/bin/httpd.worker -f /home/path/apache2/conf/httpd.conf
46408 /home/path/apache2/bin/httpd.worker -f /home/path/apache2/conf/httpd.conf
47124  /home/path/apache2/bin/httpd.worker -f /home/path/apache2/conf/httpd.conf
4800 /home/path/apache2/bin/httpd.worker -f /home/path/apache2/conf/httpd.conf 
```

实例的数量是预期的并且是正常的，只是第 2 次和第 3 次的内存消耗很麻烦。

django 项目使用了一堆 3rd 方库和应用程序，所以可能存在内存泄漏？除此之外，它实际上只是一堆查询集调用..所有会消耗大量内存的东西，比如图像重新调整大小，都在模板中完成，所以不可能那样。

编辑：这是第 3 部分应用程序：

```
INSTALLED_APPS = (
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.sites',
'django.contrib.messages',
'django.contrib.staticfiles',
'mptt',
'userena',
'guardian',
'django_facebook', 
'django.contrib.admin',
'django.contrib.admindocs',
'djcelery',
'kombu.transport.django',
) 
```

谢谢您的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T22:17:27.863

我建议您使用[Dozer](http://pypi.python.org/pypi/Dozer)来查看您的内存消耗。将以下内容添加到您的 wsgi.py：

```
from dozer import Dozer
application = Dozer(application) 
```

然后加载“http://example.org/_dozer/index”。

# javascript - asp-classic 在 Internet Explorer 中不工作 Request.ServerVariables("HTTP_REFERER")

> ID：12720846
> 
> 赞同：2
> 
> 时间：2012-10-04T05:33:59.630
> 
> 标签：javascript, asp-classic

我正在使用 Internet Explorer 运行一些我使用 javascript 代码 window.open 的代码。这是下面的示例代码。这是写在一个页面r_test1.asp

```
<script type="javascript">
window.open('r_test2.asp');
</script> 
```

一个名为 r_test2.asp 的窗口打开，我正在尝试获取引用。页面 r_test2 的代码是

```
response.Write(request.ServerVariables("HTTP_REFERER")) 
```

问题是我在 mozilla 或 chrome 中获得了引用，但在 Internet Explorer 中却没有，我在那里非常需要它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:53:18.727

当您使用 window.open 事件时，Internet Explorer 确实不会传递引用者。

一个不错的替代解决方案（模仿点击超链接，以便 IE 设置引用）之前已在 StackOverflow 上发布：

[JavaScript window.location 未在请求标头中设置引用者](https://stackoverflow.com/questions/4762254/javascript-window-location-does-not-set-referer-in-the-request-header)

# java - jsoup 检查表是否存在

> ID：12720847
> 
> 赞同：0
> 
> 时间：2012-10-04T05:33:59.653
> 
> 标签：java, jsoup

我有

元素列表 = doc.select("table").get(0);

有时没有桌子，但我仍然在做，所以我是

```
Exception in thread "main" java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 
```

如何摆脱这个异常？没有大小，因为这是元素

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T05:37:24.223

**[Elements](http://jsoup.org/apidocs/)**是从选择返回的对象。

```
 Elements tables = doc.select("table"); 
```

它有一个[size](http://jsoup.org/apidocs/org/jsoup/select/Elements.html#size%28%29)方法。所以你可以打电话：

```
 tables.size(); 
```

# c++ - 如何创建在不同文件中相互使用的类？

> ID：12720849
> 
> 赞同：1
> 
> 时间：2012-10-04T05:34:06.063
> 
> 标签：c++, class

例如，我有一个 A 类防御

```
class A {
 ... 
 } 
```

在啊

和 B 在 bh

```
class B {
 ... 
 } 
```

在 ah 我需要`#include "b.h"`，在 bh 我需要`#include "a.h"`，但它是编译器的递归错误。

我可以在一个文件中用这样的预先防御来欺骗它

```
class A;
class B {
     ... 
     }
class A {
     ... 
     } 
```

但为了清楚起见......我想把它们分开，我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:35:48.087

前向声明是要走的路：

```
//B.h
class A;
class B
{
}; 
```

和

```
//A.h
class B;
class A
{
}; 
```

请注意，如果您需要完整类型，即类型的数据成员`A`或`B`相应的其他类需要（方法参数、返回类型、指针或引用将与不完整类型一起使用），这将不起作用。

# objective-c - 写入桌面时 writeToFile 失败

> ID：12720851
> 
> 赞同：0
> 
> 时间：2012-10-04T05:34:20.013
> 
> 标签：objective-c, nsarray, writetofile

我在下面有这个代码片段。目的是将数组的内容写入 plist 文件。当我运行它时，我没有收到任何错误，一切似乎都很好。问题是文件没有出现在桌面上。我之前在其他项目中使用过 writeToFile 没有任何问题。它有什么问题？来自瑞士的问候，罗纳德霍夫曼。

```
- (IBAction) doActionPlist: (NSButton *)  sender
{
NSString    *fileExt = @".plist";
NSArray *myResultArray = [NSArray arrayWithObjects:
@"Product Number Unlimited Desktop:",
@"4DDP120-UUS001-ANLKR-17C6B",
@"4DDP130-UUS001-ANQEI-1BC12",
@"4USE120-UUS001-80BY1-1EAB0",
@"4USE130-UUS001-6NTUE-11D64",
@"qA0iHnw4EIgOALgAAAQCmUtj",
@"qA0iHnw6EIgAALgAAPUBhByg",
@"4DDP11U00USN001",
@"4DDP13U12USN001",
@"4UCL00U00USN001",
@"4UCL00U00USN010",
@"4UCL11U00USN001",
@"4UCL11U00USN010",
@"4UCL12U11USN001",
@"4UCL12U11USN010",
@"4UCL13U12USN001",
@"4UCL13U12USN010",
@"4USE12U11USN002",
@"4USE13U12USN002",
@"4UWE13U12USN999",
nil];

NSString *thePath  = [NSString stringWithFormat:@"/Users/ronny/Desktop/Testfile%@",fileExt]     ;
[myResultArray writeToFile:thePath atomically:YES]           ; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:48:36.023

不幸的是，调试这个调用可能很困难，因为它只返回 YES 或 NO，没有关于它成功或失败*原因的更多信息。*它没有抛出任何异常的事实并不一定意味着没有任何问题。它只是意味着 NSArray 懒得告诉你。

如果您真的束手无策，您可以尝试使用 NSPropertyListSerialization 将 NSArray 转换为 NSData ，然后改用[writeToFile:options:error](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSData_Class/Reference/Reference.html#//apple_ref/occ/instm/NSData/writeToFile%3aoptions%3aerror%3a)。如果您这样做，请发布错误消息，并且有人应该能够提供更好的调试建议。

# teamcity - 如何在我的 TeamCity 公共 NuGet 源中显示构建？

> ID：12720859
> 
> 赞同：7
> 
> 时间：2012-10-04T05:35:04.420
> 
> 标签：teamcity, nuget, nuget-server

我们使用 TeamCity 7.1.1 在经过身份验证的和公共源 URL 上发布 NuGet 包。我刚刚创建了一个新包，但无法让它显示在公共提要中，但我登录后它确实会出现在私人提要中。

这有点权限问题，但我已在该版本上为“所有用户”分配了“项目查看者”角色。我有另一个正确显示的构建，并且配置似乎相同。是什么阻止了我的新版本出现在公共提要上？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T05:51:14.700

解决了！我已经摸索了好几个小时，当然我在发布到 StackOverflow 后 30 秒就找到了答案！

看来来宾帐户不是所有用户的成员，因此将项目查看者角色分配给所有用户是不够的。

必须将项目查看者角色明确分配给来宾用户。这是在一个完全独立的屏幕中完成的，在***访客用户设置***下，从主用户管理屏幕的右上角链接。瓦拉！任务完成。

# c++ - 宏中的变量范围

> ID：12720873
> 
> 赞同：3
> 
> 时间：2012-10-04T05:36:35.160
> 
> 标签：c++, c, macros, scope

在文件 xyz.c 中

```
int p=2;  //global

#define sum(p,i) p+i

int main()
{
    printf("%d", sum(5,6));
} 
```

这里的输出是 11（而不是 8）；为什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-04T05:38:46.897

预处理发生在编译之前。当预处理器遇到 时`sum`，它将用内容替换它，即您的代码转换为：

```
int main()
{
   printf("%d", 5+6);
} 
```

所以输出`11`。预处理器不知道您的任何变量。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T05:40:35.133

输出肯定是`11`。
因为`p`在宏内部不被视为变量，所以它就像一个具有调用值的令牌；例如`(5,6)`。令牌的范围仅限于宏范围。

假设您将宏更改如下，那么输出将为 8：

```
#define sum(q,i) p+i
      //   ^^^ token 'q' is unused, so (5,6) is replaced with 'p+6' 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-04T07:14:57.080

如果您看到程序的 .i（中间文件），您会看到问题。程序可执行的步骤包括以下一些步骤

```
1.preprocessing
2.compilation
3.assembler for object code
4.linking 
```

使用如下命令进行第一步-预处理

> `cpp <your program>.c -o <any name to output>.i`

如果你这样做，那么在执行这个之后你可以看到你的程序的 .i 文件，你会看到如下

```
int p=2;

int main()
{
    printf("%d", 5 +6);
} 
```

很明显为什么答案是 11，因为所有预处理器都会替换您首先给出的值，然后编译完成，因此在预处理后没有用于全局 p 的“p”。没有用于下一步的 p在程序中使用。

所以你得到了答案 11。

# javascript - window.onbeforeunload 在第二页不起作用

> ID：12720874
> 
> 赞同：0
> 
> 时间：2012-10-04T05:36:40.607
> 
> 标签：javascript, jquery, jquery-ui, cordova, jquery-mobile

嗨，我的移动应用程序中有两个 html 页面，如下所示：

```
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>jQuery Mobile: Demos and Documentation</title>

<link rel="stylesheet"  href="jquery.mobile/jquery.mobile-1.1.0.css" />
<link rel="stylesheet" href="docs/assets/css/jqm-docs.css" />
<link rel="stylesheet" href="docsdemos-style-override.css" />
<script type="text/javascript" src="jquery.mobile/jquery-1.7.2.min"></script>
<script type="text/javascript" src="jquery.mobile/jquery.mobile-1.1.0.js"></script>
<!-- Uncomment following line to access PhoneGap APIs (not necessary to use PhoneGap to package web app) -->
<!-- <script type="text/javascript" charset="utf-8" src="cordova-1.6.1.js"></script>-->

</head> 
<body> 
<div data-role="page" id="jqm-home" class="type-home">
<div data-role="content">   

     <a href="example.html"  data-role="button" id="myButton">Index</a>         

</div>

</div>
</body>
</html> 
```

我的 example.html 就像：

```
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>jQuery Mobile: Demos and Documentation</title>

<link rel="stylesheet"  href="jquery.mobile/jquery.mobile-1.1.0.css" />
<link rel="stylesheet" href="docs/assets/css/jqm-docs.css" />
<link rel="stylesheet" href="docsdemos-style-override.css" />
<script type="text/javascript" src="jquery.mobile/jquery-1.7.2.min"></script>
<script type="text/javascript" src="jquery.mobile/jquery.mobile-1.1.0.js"></script>
<!-- Uncomment following line to access PhoneGap APIs (not necessary to use PhoneGap to package web app) -->
<!-- <script type="text/javascript" charset="utf-8" src="cordova-1.6.1.js"></script>-->

</head> 
<body> 
<div data-role="page" id="jqm-home" class="type-home">
<div data-role="content">   

     <a href="example.html"  data-role="button" id="myButton1">Test</a>         

</div>

<script type="text/javascript">
    window.onbeforeunload = function(evt) {
        console.log ("*****************");
    } 
</script>

</div>

</body>
</html> 
```

现在假设单击 Index 按钮我转到 example.html 页面。单击 example.html 中的后退按钮时，它会再次转到 index.html。一切都很好，但它不打印 console.log (" ***** ** *** ****** "); 如果我在 index.html 上再按一次，它就会打印它，我想要的是当我在 example.html 上时，它应该在单击后退按钮时打印它。

上面的代码有什么问题？为什么它会这样？任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T08:00:04.017

在 Jquery Mobile 标准使用中，您在网站上的空洞体验期间基本上停留在同一页面上。“更改”页面基本上是动态地将内容添加到当前文档中，这意味着它不会触发您的`onbeforeunload`事件。但是，您可以使用[jquery 移动事件](http://jquerymobile.com/test/docs/api/events.html)，具体取决于您想要采取的操作类型。很可能你会看`pagebeforehide`或`pagehide`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:25:44.223

您可以做的是向后退按钮添加一个事件。

如果你有一个按钮：

```
<button id="backButton"> Go Back </button> 
```

您可以通过 jquery 添加以下事件

```
 $("#backButton).click(function(){
       console.log ("*****************");
   }); 
```

请记住，如果您单击按钮，则会发布帖子并且页面将被刷新。所以你应该在另一个页面的准备好的文档中添加日志功能。

因此，如果 example.html 页面加载，您只需触发此事件

```
$(function(){
   //All code that starts when the page is fully loaded.
    console.log ("*****************");
}); 
```

# ruby-on-rails - 顶级域的 cookie 掩盖了设计中子域的 cookie

> ID：12720876
> 
> 赞同：0
> 
> 时间：2012-10-04T05:36:43.127
> 
> 标签：ruby-on-rails, ruby, devise

登录后，它会转到正确的 url（具有匹配的子域），但我仍然看到“注册”或“登录”而不是“以 xxx 身份登录”和“注销”，这意味着`user_signed_in?`返回 false (current_user未设置）。

这是 application_controller.rb：

```
private  
def after_sign_in_path_for(resource)
    logger.info root_url(subdomain: current_user.username)
    logger.info user_signed_in?
    root_url(subdomain: current_user.username)
  end 
```

`user_signed_in?`回到`true`这里。

它被重定向到的 home_controller.rb：

```
def show
  logger.info user_signed_in?
  @user = User.find_by_username!(request.subdomain)
end 
```

而这里`user_signed_in?`返回`false`.

路线文件：

```
constraints(Subdomain) do
  match '/' => 'home#show', as: :user
end

root :to => 'home#welcome' 
```

正如 Arun 在评论中所说，我发现问题在于 2 个同名 cookie，但一个用于顶级域，另一个用于子域。

有什么方法可以只删除一个 cookie 或根本不设置它？我试过`reset_session`了，但它删除了两个cookie。

# makefile - 使用 Makefile 的不同平台支持

> ID：12720877
> 
> 赞同：0
> 
> 时间：2012-10-04T05:36:42.950
> 
> 标签：makefile, preprocessor

我有一个在 Linux 和 Mac 上运行的应用程序。现在，对于这个应用程序，我需要从不同的路径复制一些库。

对于 Linux，cp ../gccRelease/libMsSipRelease.a ../../VoipAppLinux/lib/

对于 Mac，cp ../DerivedData/MsSipLib/Build/Products/Debug/libMsSipLib.dylib ../../VoipAppLinux/lib/

如您所见，两条路径是不同的。现在，我的问题是我可以在 make 文件中使用 #ifdef Linux 或 #ifdef **APPLE吗？**如果可以，请问语法是什么？如果 #ifdef 不能在 makefile 中使用，我该如何解决这个问题。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:47:33.473

您可以使用`ifdef APPLE`，但有一种更自动的方式：在 makefile 中，类似的命令`$(shell uname -s)`将告诉 Make 操作系统是什么。尝试这个：

```
OS := $(shell uname -s)
ifeq ($(OS),Linux)
MSSIPLIB := ../gccRelease/libMsSipRelease.a
else
MSSIPLIB := ../DerivedData/MsSipLib/Build/Products/Debug/libMsSipLib.dylib
endif

# And later on
cp $(MSSIPLIB) ../../VoipAppLinux/lib/ 
```

# sqlite - Sqlite 通过终端

> ID：12720883
> 
> 赞同：0
> 
> 时间：2012-10-04T05:37:10.033
> 
> 标签：sqlite, terminal

sqlite 和终端命令中的新功能，所以这可能很简单。我试图通过终端创建一个数据库表（学习）

```
sqlite> insert into game values ('fallout','rpg');
sqlite> insert into game values ('final fantasy','rpg');
sqlite> insert into game values ('gaame3','stealth');
sqlite> insert into game values ('hitman','rpg');
sqlite> select * from ame where type='rpg'
   ...> select * from game
   ...> 
   ...> 
```

创建了一个桌面游戏并将值加载到其中。当我输入查询以查看数据时。我输错了表的名称，我得到了这个

```
 ...> 
```

我怎样才能回到正常状态，Cntrl+Z 工作但它变回了我开始的状态。有没有办法我可以回到这个状态。

```
sqlite> 
```

无需输入

```
sqlite3 test.sqlite3 
```

再次

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T07:03:02.457

好的，发现问题：

问题是我错过了`;`输入的代码中的，所以终端认为命令没有终止。

解决方案 ：

添加`;`到终端，打开新的sqlite行

感谢[joachim-isaksson](https://stackoverflow.com/users/477878/joachim-isaksson)的评论

# iphone - 将数据写入 Plist

> ID：12720884
> 
> 赞同：1
> 
> 时间：2012-10-04T05:37:13.813
> 
> 标签：iphone, nsmutablearray, plist

我有一个包含字典的 plist，`dict`在字典中我有 3 个用于键 A、B、C 的数组。现在我想在特定情况下在 A、B 和 C 中添加一个项目。为此我这样做...

```
 NSArray *path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES);
    NSString *documentsDirectory = [path objectAtIndex:0];
    NSString *plistPath = [documentsDirectory stringByAppendingString:@"MovingChecklist.plist"];
    NSFileManager *fileManager = [NSFileManager defaultManager];
    NSError *error;
    if (![fileManager fileExistsAtPath: plistPath]) 
    {
        NSString *bundle = [[NSBundle mainBundle] pathForResource:@"MovingChecklist" ofType:@"plist"];
        [fileManager copyItemAtPath:bundle toPath: plistPath error:&error];
    }
    NSDictionary *dict = [[NSDictionary alloc] initWithContentsOfFile:plistPath];
    NSArray *array1 = [dict objectForKey:@"A"];
    NSArray *array2 = [dict objectForKey:@"B"];
    NSArray *array3 = [dict objectForKey:@"C"];

    NSMutableArray *myArray;
    if (currentMovingList == KMovingListTypeA) {
        myArray = [NSMutableArray arrayWithArray:array1];
        [myArray addObject:nameTextView.text];
        [dict setValue:myArray forKey:@"A"];

    }
    if (currentMovingList == KMovingListTypeB) {
        myArray = [NSMutableArray arrayWithArray:array2];
        [myArray addObject:nameTextView.text];
        [dict setValue:myArray forKey:@"B"];
    }
    if (currentMovingList == KMovingListTypeC) {
        myArray = [NSMutableArray arrayWithArray:array3];
        [myArray addObject:nameTextView.text];
        [dict setValue:myArray forKey:@"C"];
    }
[dict writeToFile:plistPath atomically: YES]; 
```

但是 plist 没有改变。建议我做错了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:51:03.437

我认为您应该将其设置为可变的

```
NSMutableDictionary *dict = [[NSMutableDictionary alloc] initWithContentsOfFile:plistPath]; 
```

# android - 在 twitter 集成中发现错误

> ID：12720889
> 
> 赞同：2
> 
> 时间：2012-10-04T05:37:24.370
> 
> 标签：android, twitter

我是 android 中的新手并集成了 twitter api，但发现错误找不到类 'twitter4j.TwitterFactory'，从方法 net.londatiga.android.TwitterApp 引用。

下面的代码：

```
mTwitter = new TwitterApp(this, twitter_consumer_key,twitter_secret_key);//here find error

            mTwitter.setListener(mTwLoginDialogListener); 
```

如何解决此问题，但所有 4 个库都添加但运行时发现此错误。请帮帮我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:40:17.373

除了将 JAR 文件添加到项目之外，您还必须确保它将包含在 apk 文件中：
转到您的项目属性 -> Java 构建路径 -> 订购和导出选项卡，并确保 twitter4j 旁边的框检查 JAR 文件。

# macos - 脚本无法识别文件/目录

> ID：12720891
> 
> 赞同：1
> 
> 时间：2012-10-04T05:37:38.407
> 
> 标签：macos, bash, terminal

对于课堂，我们必须在学校托管的远程服务器上工作。到目前为止，我已经在服务器上制作了很多文件，我想备份它们，以防我想将它们传输到我的笔记本电脑，或者我不小心删除了一个目录或犯了一个愚蠢的错误。我找到了一个教程和一个脚本来备份文件，我决定对其进行修改，以便确定它所在的目录（这将是主用户的目录）和文档的 cd。如果目录不存在，它还会创建目录 Backups。我对这种脚本仍然很陌生，任何额外的建议或帖子链接将不胜感激。

代码：

```
#!/bin/bash
#######################################################
##       Simple backup script..   
## Created by Matthew Brunt: (openblue555@gmail.com)
## Licensed under GNU GPL v3 or later, at your option.
##   http://www.gnu.org/licenses/gpl.html
##
## Further edited by Michael Garrison to backup the 
## directory it is located in and print the contents.
#######################################################

mkdir -p Backup

#Defines our output file
OUTPUT= $( cd Backup && pwd )/backup_$(date +%Y%m%d).tar.gz

#Defines our directory to backup
BUDIR=$( cd Desktop && pwd )
#Display message about starting the backup
echo "Starting backup of directory $BUDIR to file $OUTPUT"

#Start the backup
tar -cZf $OUTPUT $BUDIR

#Checking the status of the last process:
if [ $? == 0 ]; then
        #Display confirmation message
    echo "The file:"
        echo $OUTPUT
    echo "was created as a backup for:"
        echo $BUDIR

        echo ""
    echo "Items that were backed up include:"

    for i in $BUDIR; do
            echo $i
    done
        echo ""
else
    #Display error message message
        echo "There was a problem creating:"
        echo $OUTPUT
    echo "as a backup for:"
    echo $BUDIR
fi 
```

我知道原始脚本有效，并且在我更改`$OUTPUT`变量之前一直有效。我目前得到以下结果：

```
./backup.sh
./backup.sh: line 15: /Users/mgarrison93/Backup/backup_20121004.tar.gz: No such file
or directory
Starting backup of directory /Users/mgarrison93/Desktop to file 
tar: no files or directories specified
There was a problem creating:

as a backup for:
/Users/mgarrison93/Desktop 
```

我可以看到它不接受文件名，但我不知道如何更正。

我只是尝试更改`$OUTPUT`为`/Backups/file-name.tar.gz`我最初拥有的并且效果很好。问题似乎是`$( cd Backup && pwd )/backup_$(date +%Y%m%d).tar.gz`。只是不确定出了什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:15:03.720

考虑这两种完全不同的 bash 语法：首先，您有将变量永久设置为值的语法（在当前脚本中），

```
<variable>=<value> 
```

然后是运行命令的语法，其中一个变量临时设置为一个值，

```
<variable>=<value> <command> <argument> ... 
```

这两者的区别在于空间。之后`=`，一旦 bash 遇到一个未加引号的空格，它就意味着`<value>`已经结束，并且它之后的任何内容都被解释为`<command>`.

在脚本的这一行中，

```
OUTPUT= $( cd Backup && pwd )/backup_$(date +%Y%m%d).tar.gz 
```

后面有空格`OUTPUT=`。bash 将其解释`OUTPUT`为将（临时）设置为空字符串，而该行的其余部分，即 的结果`$( cd Backup && pwd )/backup_$(date +%Y%m%d).tar.gz`，是要运行的命令和参数，同时`OUTPUT`等于空字符串。

解决方案是删除空间。这样 bash 就会知道您正在尝试将行的其余部分作为值分配给变量。

# view - 如何显示一列中的项目与另一列中的项目相关？莲花便笺

> ID：12720895
> 
> 赞同：2
> 
> 时间：2012-10-04T05:38:18.777
> 
> 标签：view, field, lotus-notes

我的观点“关系”包含 2 列，比如说：X 和 Y。对于所有 Xi，来自 X，其中 i = 1,n; n - 条目数，我有：

```
Xi ... Y1
   ... Y2
   ... Y3 
 ........ 
```

因此，X 中的一项可以关联 Y 中的许多值。 Y 的对应字段（称为 'user' ）是一个对话框列表，其中： 使用公式进行选择：

```
_view := "Relations";

@Unique ( @DbLookup( "" : "NoCache" ; @DbName ; _view ; numbers ; 2 ) ) 
```

我想要做的是：当在第一个名为“数字”的字段中添加一个存在于视图第一列中的项目，以自动出现在名为“用户”的字段中，第一个值对应于 X 的 Y 列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:27:27.977

哦，我现在明白你的问题了。我以为您在问如何正确设置视图，但我认为这是错误的。

您的用户默认值公式字段应该是

```
@Subset( @Unique ( @DbLookup( "" : "NoCache" ; @DbName ; _view ; numbers ; 2 ) ); 1); 
```

如果需要，您可以使用隐藏字段，仅使用问题中的公式。那么您将在值列表公式中引用 hiddenFeld，并在默认值公式中执行以下操作：

```
 @Subset(hiddenField;1) 
```

使用隐藏字段将提高性能，因为查找只会进行一次。

**上一个答案**

*有一个名为“将多个值显示为单独的条目”的列属性，您可以将其应用于“Y”列。IBM 的 DeveloperWorks 站点上有一个很好的[博客条目](http://www-10.lotus.com/ldd/bpmpblog.nsf/dx/multiple-values-in-multiple-rows-in-multiple-columns)，展示了该选项的工作原理。*

# iphone - 点击 uipickerview 时键盘不退出

> ID：12720896
> 
> 赞同：0
> 
> 时间：2012-10-04T05:38:21.613
> 
> 标签：iphone, ios, ios4, uipickerview, uikeyboard

我的搜索视图中有两个`UIPickerView`和一个`UITextField`。当我`UIPickerView`先输入/选择这两个然后输入`UITextField`.

但是当我像 Inputting`UITextField`然后selection 这样更改顺序时，发生的问题是当我点击s`UIPickerView`时键盘没有退出。`UIPickerView`

下面是我的代码

```
- (void) textFieldDidBeginEditing: (UITextField *) textField
//---------------------------------------------------------------
{
    if (textField == self.txtFieldPoetName) {
        NSLog(@"sdsdfsd");
      [textField resignFirstResponder];
      if ( [self.poetNameArray count] > 0 ){
          [self showPoetNamePicker];
      }

    }
    else if (textField == self.txtFieldPoemType) {
        NSLog(@"jdjdjdjd");
        [textField resignFirstResponder];

        if( [self.poemTypeArray count] > 0 ){
            [self showPoemTypePicker];
        }
    }
}

- (void) textFieldDidEndEditing:(UITextField *)textField{

    [textField resignFirstResponder];

}

- (void)showPoetNamePicker {

    [self resignKeyboard];

    startXMLParser_ = NO;

    self.actionSheet = [[[UIActionSheet alloc] initWithTitle:nil delegate:nil cancelButtonTitle:nil destructiveButtonTitle:nil otherButtonTitles:nil]autorelease];
    self.actionSheet.actionSheetStyle = UIActionSheetStyleBlackTranslucent;
    self.actionSheet.title = @"Poet Name";
    self.poetNamePicker = [[[UIPickerView alloc] init]autorelease];
    self.poetNamePicker.showsSelectionIndicator = YES;
    self.poetNamePicker.dataSource = self;
    self.poetNamePicker.delegate = self;
    PickerType = 1;

    //Set up the display frame
    self.poetNamePicker.frame = CGRectMake(0, 35, 320, 120);

    //Add the picker to the view
    [self.actionSheet addSubview:self.poetNamePicker];

    UISegmentedControl *closeButton = [[UISegmentedControl alloc] initWithItems:[NSArray arrayWithObject:@"Done"]];
    closeButton.momentary = YES; 
    closeButton.frame = CGRectMake(260, 6.0f, 50.0f, 27.0f);
    closeButton.segmentedControlStyle = UISegmentedControlStyleBar;
    closeButton.tintColor = [UIColor blackColor];
    [closeButton addTarget:self action:@selector(hidePicker:) forControlEvents:UIControlEventValueChanged];
    [self.actionSheet addSubview:closeButton];
    [closeButton release];

    [self.actionSheet showInView:self.appDelegate.tabBarController.view];
    [self.actionSheet setBounds:CGRectMake(0, 0, 320, 385)];
}

- (void)showPoemTypePicker {

    [self resignKeyboard];

    startXMLParser_ = YES;

    self.actionSheet = [[[UIActionSheet alloc] initWithTitle:nil delegate:nil cancelButtonTitle:nil destructiveButtonTitle:nil otherButtonTitles:nil]autorelease];
    self.actionSheet.actionSheetStyle = UIActionSheetStyleBlackTranslucent;
    self.actionSheet.title = @"Poem Type";
    self.poemTypePicker = [[[UIPickerView alloc] init]autorelease];
    self.poemTypePicker.showsSelectionIndicator = YES;
    self.poemTypePicker.dataSource = self;
    self.poemTypePicker.delegate = self;
    PickerType = 2;

    //Set up the display frame
    self.poemTypePicker.frame = CGRectMake(0, 35, 320, 120);

    //Add the picker to the view
    [self.actionSheet addSubview:self.poemTypePicker];

    UISegmentedControl *closeButton = [[UISegmentedControl alloc] initWithItems:[NSArray arrayWithObject:@"Done"]];
    closeButton.momentary = YES; 
    closeButton.frame = CGRectMake(260, 6.0f, 50.0f, 27.0f);
    closeButton.segmentedControlStyle = UISegmentedControlStyleBar;
    closeButton.tintColor = [UIColor blackColor];
    [closeButton addTarget:self action:@selector(hidePicker:) forControlEvents:UIControlEventValueChanged];
    [self.actionSheet addSubview:closeButton];
    [closeButton release];

    [self.actionSheet showInView:self.appDelegate.tabBarController.view];
    [self.actionSheet setBounds:CGRectMake(0, 0, 320, 385)];
}

- (void)hidePicker:(id)sender
{

  if( PickerType == 1 )
  {
    if ( [self.poetNameArray count] > 0 &&
    [self.txtFieldPoetName.text length] == 0 )
    {
        //self.poemTypeId = @"";
      self.txtFieldPoetName.text = [self.poetNameArray objectAtIndex:0];
      self.poetTypeId = [self.poetTypeIdArray objectAtIndex:0];
    }
  }
  else if( PickerType == 2 )
  {
    if ( [self.poemTypeArray count] > 0  &&
    [self.txtFieldPoemType.text length] == 0)
    {
        //self.poetTypeId = @"";
      self.txtFieldPoemType.text = [self.poemTypeArray objectAtIndex:0];
      self.poemTypeId = [self.poemTypeIdArray objectAtIndex:0];

    }
  }

  [self resignFirstResponder];
  self.actionSheet.hidden = YES;
  [self.actionSheet dismissWithClickedButtonIndex:1 animated:YES];

  if (startXMLParser_)
  {
    [self performSelector:@selector(startXMLParsing) withObject:nil afterDelay:0.5];
  }
}

-(void)resignKeyboard{

    [self.txtFieldPoetName resignFirstResponder];
    [self.txtFieldPoemName resignFirstResponder];
    [self.txtFieldPoemType resignFirstResponder];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:43:32.767

**编辑 ：**

```
- (void) textFieldShouldBeginEditing: (UITextField *) textField
{
   if (textField == self.txtFieldPoetName)
   {
      if( [self.poemNameArray count] > 0 ){
       [self showPoetNamePicker];
      }
      return NO;
   }
   else if (textField == self.txtFieldPoemType)
   {
     if( [self.poemTypeArray count] > 0 ){
        [self showPoemTypePicker];
     }
     return NO;
   }
   else
   {
     return YES;
   }
} 
```

* * *

在 showPoetNamePicker 中添加：

```
 - (void)showPoetNamePicker
 {
     [self.view endEditing:YES];
     ........
     ........
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:47:06.517

您是否正确链接到委托？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:48:29.833

尝试改变这个方法，

```
 -(void)resignKeyboard{

     [self.view endEditing:YES];

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-10T21:48:58.010

我知道这是一个老问题，但我认为应该提到它......我认为更好的解决方案是使用每个 textField 的 inputView（以及可选的 inputAccessoryView）。像这样的东西：

```
-(void)setupTextFields{
  UIToolbar *toolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, 320, 44)];
  toolbar.items = [NSArray arrayWithObjects:[[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:nil action:nil],[[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(endEditing)], nil];

  self.txtFieldPoetName.inputView = self.poetNamePicker;
  self.txtFieldPoetName.inputAccessoryView = toolbar;
  self.txtFieldPoemType.inputView = self.poetTypePicker;
  self.txtFieldPoemType.inputAccessoryView = toolbar;
}

-(void)endEditing{
  [self.txtFieldPoetName resignFirstResponder];
  [self.txtFieldPoemType resignFirstResponder];
} 
```

操作系统确保为键盘切换选择器，反之亦然（我猜它显示在与键盘相同的视图中）。

# python - 页面不显示数据存储查询的结果，使用 jinja2 和 python。帮忙找问题？

> ID：12720897
> 
> 赞同：0
> 
> 时间：2012-10-04T05:38:26.463
> 
> 标签：python, google-app-engine, google-cloud-datastore, jinja2

当我加载 html 页面时，数据库中的结果没有出现。我正在使用 python 和 jinja2。{{ initial_city }} 显示正确的结果，问题似乎出在 get_deals 或我使用 jinja2 的 html 文件上。我想显示与主页上选择的城市相同的结果（它是一个表单）。此外，我在数据库中有实体，这些实体在进入谷歌数据存储本地扩展时出现

get_deals 代码是：

```
 def get(self):
        def get_deals(choose_city, update=False):
            key = str(choose_city)
            all_deals = memcache.get(key)
            if all_deals is None:
                d = Deal.all()
                all_deals = d.filter('city = ', choose_city)
                all_deals = list(all_deals)
                memcache.set(key, all_deals)
           return all_deals 
```

以下是我的脚本：

```
from google.appengine.ext import db
from google.appengine.api import memcache
from google.appengine.ext.db import stats
from models import Deal
import os
import webapp2
import jinja2

class Deal(db.Model):
   title = db.TextProperty()
   description = db.TextProperty()
   city = db.TextProperty()

 deal = Deal(title='Hello',
        #description='Deal info here',
        #city='New York')
 deal.put()

jinja_environment = jinja2.Environment(autoescape=True,
    loader=jinja2.FileSystemLoader(os.path.join(os.path.dirname(__file__), 'templates')))

class MainPage(webapp2.RequestHandler):
  def get(self):
      template = jinja_environment.get_template('index.html')
      self.response.out.write(template.render())

class DealHandler(webapp2.RequestHandler):
    def get(self):
        def get_deals(choose_city, update=False):
            key = str(choose_city)
            all_deals = memcache.get(key)
            if all_deals is None:
                d = Deal.all()
                all_deals = d.filter('city = ', choose_city)
                all_deals = list(all_deals)
                memcache.set(key, all_deals)
           return all_deals

    choose_city = self.request.get('c')
    try:
        initial_city = str(choose_city)
        choose_city = initial_city
    except ValueError:
        initial_city = 0
        choose_city = initial_city

    template = jinja_environment.get_template('deal.html')
    self.response.out.write(template.render(initial_city = initial_city, get_deals = get_deals))

    app = webapp2.WSGIApplication([('/', MainPage),
                           ('/deal', DealHandler),
                           ('/content', ContentHandler)],
                          debug=True) 
```

我没有显示结果的html页面是：

```
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="/twitter-bootstrap/twitter-bootstrap-      v2/docs/assets/css/bootstrap.css">
<title>
Deallzz: Chosen City: {{ initial_city }}
</title>
</head>
<body>
All deals:

{% for deal in deals %}
<li>{{ get_deals }}</li>
{% endfor %}

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:00:08.223

1.  在您的代码中，您没有调用`get_deals`函数。我建议你`get_deals()`退出`get()`并称之为

    ```
    self.response.out.write(template.render(initial_city = initial_city, get_deals =self.get_deals(choose_city))) 
    ```

    因为它是一个很好的设计。

    **编辑**如果您不打算这样做，请
    更改为“get_deals()”。`self.get_deals()`

2.  您`deals`在 html 中使用，但在从服务器调用时未指定其值。可能你想做的是

    ```
    {% for deal in get_deals %}    
        {{ deal }}  
    {% endfor %} 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:56:01.203

您实际上并没有调用 get_deals 函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:19:58.403

你可以尝试插入

```
get_deals = get_deals(choose_city) 
```

前

```
self.response.out.write(template.render(initial_city = initial_city, get_deals = get_deals)) 
```

埃米尔的建议也应该奏效。希望有帮助！

# c# - C# 操纵杆输入

> ID：12720898
> 
> 赞同：0
> 
> 时间：2012-10-04T05:38:34.323
> 
> 标签：c#, input, usb, device, joystick

我已将 Logitech Attack 3（标准操纵杆）插入我的计算机并确认它可以正常工作。现在考虑到这一点，我需要一种通过 C#（仅 C#）从操纵杆读取轴（按钮也很好）值的方法。我见过很多使用 DirectX 的示例，但都是 8 年前的，不再使用 .NET 4.5 ...因此，我需要一个适用于 Visual Studio 2012 的 .NET 4.5 解决方案。我对此进行了广泛的研究，并且找不到从操纵杆获取简单坐标的方法。任何帮助，将不胜感激。谢谢！

我曾尝试使用 SlimDx，但不知道要编写什么代码。另外，这个： http: [//www.codeproject.com/KB/directx/joystick.aspx](http://www.codeproject.com/KB/directx/joystick.aspx) <--这是从 2006 年开始的，由于某种原因不再适用于 .NET 4.5。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:58:25.043

你看过的那些例子应该仍然是相当正确的。改变的是directX版本，我认为你应该看看directX11在你的项目中使用。

# regex - perl 字符串匹配问题

> ID：12720904
> 
> 赞同：0
> 
> 时间：2012-10-04T05:39:03.493
> 
> 标签：regex, perl

我有一个脚本，我需要在其中跳过评论，我能够部分实现它......

```
IN :

{****************************
{test : test...test }

Script:

if ( $data =~  m/(^{\*+$)/ ){
} 
```

通过上述匹配，我能够识别评论并跳过它以获取下一行..

```
Out:
{test : test...test } 
```

如果相同的评论在 * 的位置包含任何空格或任何字符，我的匹配失败..

```
IN:
{** *****    or   {* abccd   or {*abce 
```

以上所有案例都没有跳过...比赛中可能会穿什么，...谁能帮帮我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:51:19.247

正则表达式中的 是一个锚点，它表示字符串/行的结尾，它坚持只有当你在初始值之后`$`有一行充满 s 时才会发生匹配`*``{`

删除此锚将允许所有三种情况匹配：

```
for ( '{*********', '{** *****', ,'{* abccd' , '{*abce' ) {

    print "$_ Matches\n" if /^{\*+/;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:52:08.800

目前尚不清楚您的文本中的注释语法究竟是什么，但鉴于示例，我将*假设*在`{*`一行的开头，然后是直到行尾的任何内容，是一个注释。

在这种情况下，您的正则表达式`/(^{\*+$)/`将不起作用。说的是：

1.  `^`- 匹配行首
2.  `{`- 匹配一个`{`
3.  `\*+`- 匹配一个或`*`多个
4.  `$`- 匹配行尾

`*`如果s 和行尾之间有任何其他内容，则此模式将不匹配。

类似的东西`/^{\*.+$/`应该做你想做的事。这会更改您的模式以匹配一个或多个非换行符（the `.`），直到您到达行尾。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T14:52:26.470

如果您想在`{*`部分后面允许一些其他字符，那么只需`$`从模式中删除。

这是一个简单的**Perl 代码**，您可以从以下代码开始：

```
@data = <main::DATA>;
print map { $_ if !/^{\*+/ } @data;

__DATA__
{****************************
{test : test...test} 
```

**输出**：

```
{test : test...test} 
```

*[在此处](http://ideone.com/DWKp3)测试此代码。*

# php - PHP正则表达式解析

> ID：12720907
> 
> 赞同：0
> 
> 时间：2012-10-04T05:39:21.687
> 
> 标签：php

我有一个字符串数组。

```
(102) Name3 
```

如何匹配以 (####) 开头的字符串并轻松获取行的名称部分。我正在尝试以下不起作用。

```
if(preg_match("/(d+)/", $myArray[$i], $matches)) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:50:15.450

您需要转义预期输入字符串中的括号：

```
if(preg_match("/\((\d+)\) (.+)$/", $myArray[$i], $matches)) 
```

那就是下面的正则表达式：

*   `/`正则表达式的开头（可以是任何字符，但通常是 /）
*   `\(`性格 （
*   `(`开始捕获第 1 组
*   `\d`任何数字
*   `+`上一场比赛，1次或多次
*   `)`结束捕获组 1
*   `空间`
`*   `(`开始捕获第 2 组*   `.`几乎任何角色*   `+`上一场比赛，1次或多次*   `)`结束捕获组 2*   `$`字符串结尾*   `/`正则表达式结束（必须匹配第一个字符）`

 `[您可以在regular-expressions.info](http://www.regular-expressions.info/reference.html)上找到更多描述性定义。

有了上述内容，匹配项将包含例如：

```
array(
    '(123) input string',
    123, // capturing group 1
    'input string' // capturing group 2
) 
````

# ruby-on-rails - therubyracer 安装错误。我尝试了所有其他 SO 解决方案，但仍然没有运气

> ID：12720909
> 
> 赞同：1
> 
> 时间：2012-10-04T05:39:36.187
> 
> 标签：ruby-on-rails, twitter-bootstrap-rails, therubyracer

我认为这是在 Rails 中安装 therubyracer gem 的常见问题。它是 twitter-bootstrap-rails gem 的依赖项。

我试过这样的解决方案： [`gem install therubyracer` 在 Mac OS X Lion 上失败](https://stackoverflow.com/questions/10905820/gem-install-therubyracer-fails-on-mac-os-x-lion/10905900#comment17160294_10905900)

这是我的 gem 文件中相关的部分：

```
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
  gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'

  gem 'twitter-bootstrap-rails'
end 
```

这是我在运行 bundle install 时遇到的错误：

```
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

        /Users/lionel_lei/.rvm/rubies/ruby-1.9.3-p194/bin/ruby extconf.rb 
checking for main() in -lobjc... yes
creating Makefile

make
compiling rr.cpp
make: clang++: No such file or directory
make: *** [rr.o] Error 1

Gem files will remain installed in /Users/lionel_lei/.rvm/gems/ruby-1.9.3-p194/gems/therubyracer-0.10.2 for inspection.
Results logged to /Users/lionel_lei/.rvm/gems/ruby-1.9.3-p194/gems/therubyracer-0.10.2/ext/v8/gem_make.out
An error occured while installing therubyracer (0.10.2), and Bundler cannot continue.
Make sure that `gem install therubyracer -v '0.10.2'` succeeds before bundling. 
```

我的系统环境是：Rails 3.2.6 ruby​​ 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin11.4.1] Mac OSX 10.7.4 (lion) Xcode 4.5

*   我一直在拔头发。我是 ruby​​/rails 的新手，哎呀，我通常是编码新手，所以错误消息对我来说没有多大意义。我猜这是某种编译器问题。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T07:27:22.963

我遇到了同样的问题，我通过安装 libv8 ( `gem install libv8`) 解决了这个问题，然后安装了 therubyracer。您需要先安装 Apple XCode（从 App Store 安装），因为这包括构建 libv8 所需的 c 编译器。

编辑：安装 XCode 后，如果您使用的是最新版本，则需要手动安装“命令行工具”来获取 c 编译器，您可以在 XCode --> 首选项 --> 下载 --> 中找到它安装命令行工具。

# plot - 在线绘图

> ID：12720911
> 
> 赞同：0
> 
> 时间：2012-10-04T05:39:42.397
> 
> 标签：plot, matplotlib, real-time, gnuplot

我需要某种工具来绘制连续的数据流。换句话说，我有一个程序，我们称之为 A，它运行模拟并输出连续的数字流。因为 A 是处理器密集型的，它可能运行在用于批处理作业的专用计算机上、在家里使用我的显卡，或者在我们的宠物超级计算机网格中运行。所以，我想让 A 尽可能简单，它必须只负责计算数字并将它们发送到标准输出或管道。但是我想看到出现的数字，所以，在我的桌面上，我需要第二个程序 B 来观察 A 的输出并实时绘制它们

所以，这就是我的问题：我可以将什么用作 B 程序？是否可以使用 gnuplot、matplotlib 或任何其他工具进行任何调整？我更喜欢一个简单的设置，不需要一整天都在摸索代码。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T14:42:32.697

对于 matplotlib，一些非常简单的事情可能如下：

```
import pylab

plotdata = [] 
while True:
    line = raw_input()
    data = line.split()
    try:
        data = [float(datum) for datum in data]
    except ValueError:   # no floating point input
        continue
    plotdata.extend(data)
    pylab.plot(plotdata, 'k-')
    pylab.show(False) 
```

这将无限循环（直到你点击`Ctrl`+ `C`），并从标准输入中吃掉数字。我没有考虑太多，所以它可能缺乏细节，但由于你没有任何东西可以开始，所以我保持简单。

# c# - 计算每次 Button 的点击次数

> ID：12720912
> 
> 赞同：2
> 
> 时间：2012-10-04T05:39:45.997
> 
> 标签：c#, asp.net

任务是计算网络表单中的点击次数。

这是代码。

```
public partial class _default : System.Web.UI.Page
    {
        int count = 1;
        private void Page_Load(object sender, System.EventArgs e)
        {
            Button btn = new Button();
            btn.Text = "Click Me";
            btn.Click  += btn_Click;
            Label lbl = new Label();
            form1.Controls.Add(btn);
            form1.Controls.Add(lbl);

        }

        protected void btn_Click(object sender, EventArgs e)
        {
            count++;
            //Label1.Text = count.ToString();

        }
    } 
```

问题是**btn_Click()**内部无法识别**lbl** ...我无法弄清楚...有人可以建议吗？

 *** * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:42:17.957

您需要在 page_load 方法之外声明 lbl ，而不是像这样在单击按钮时可用。

```
Label lbl ;
int count = 1;

private void Page_Load(object sender, System.EventArgs e)
{
    Button btn = new Button();
    btn.Text = "Click Me";
    btn.Click  += btn_Click;
    lbl = new Label();
    form1.Controls.Add(btn);
    form1.Controls.Add(lbl);
}

protected void btn_Click(object sender, EventArgs e)
{
    count++;
    if(lbl !=null)
      lbl.Text = count.ToString();            
} 
```

因为如果您在变量的 page_load 范围内创建标签，则仅限于该方法。因此，您可以像我一样在方法之外声明标签，也可以将 id 赋予标签，然后使用`FindControl`方法搜索它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T06:12:33.950

ASPX：

```
<form id="form1" runat="server">
    <div>
        <asp:Button ID="btn" runat="server" OnClick="btn_Click" Text="Button" />
        <asp:Label id="lbl" runat="server" />
    </div>
</form> 
```

代码隐藏（C#）：

```
int count = 1;

protected void Page_Load(object sender, EventArgs e)
{
    if (!Page.IsPostBack)
    {
        lbl.Text = count.ToString();
    }
}

protected void btn_Click(object sender, EventArgs e)
{
    if (int.TryParse(lbl.Text, out count))
    {                
        lbl.Text = (++count).ToString();
    }
} 
```**

# mysql - 在 MySQL 中使用带有变量的 concat() 函数

> ID：12720913
> 
> 赞同：1
> 
> 时间：2012-10-04T05:39:46.627
> 
> 标签：mysql, concat

我在使用 MySQL 中的 concat() 函数创建显示日期的字符串时遇到问题。问题似乎在于将变量或函数传递给 concat 函数。

```
SELECT client.client_name AS Client Name
   , month(curdate()) AS exp1
   , concat('2012/' , '5' , '/' , '6') AS exp2 
   , concat('2012' , '/' , month(curdate())) AS exp3
   , concat('2012/' , client.start_day_of_month) AS exp4
FROM client
GROUP BY client.client_name 
```

结果显示如下：

```
Client Name |  exp1 | exp2       | exp3    |    exp4
Client A    |   10  |   2012/5/6 |    BLOB |     BLOB 
```

我无法让 concat() 与 exp3 和 exp4 一起工作：

```
 concat('2012' , '/' , month(curdate())) AS exp3
   concat('2012/' , client.start_day_of_month) AS exp4 
```

我认为这是由于将函数或变量传递给 concat()，但我不知道如何让它正常工作。我尝试了所有类型的语法/引号，但似乎无法找出问题所在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:42:03.103

试试看`casting`

```
 CAST(month(curdate()) AS CHAR(25)) 
```

# php - 使用 PHP 选择和配对两个用户

> ID：12720914
> 
> 赞同：0
> 
> 时间：2012-10-04T05:39:56.983
> 
> 标签：php, mysql

我正在尝试通过从数据库中随机选择两个可用用户然后使它们不可用（因此无法再次选择它们）来创建一个配对两个可用用户的应用程序。

我想知道如何选择它们然后将它们配对？

我有以下数据库结构。

```
USERS
| id        | autoincrement, primary key
| user_id   | user's ID
| connected | available, connecting, chatting

ROOMS
| id        | 
| room_name | 
| room_id   | 
| user_id   | first user connected
| user_id2  | second user connected 
```

我不是在制作房间，我只是在尝试配对用户并将他们发送到房间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:42:20.380

你的意思是加入记录？

您可以执行以下操作：

```
select * from rooms as r
left outer join users as u on r.user_id=u.id
left outer join users as u2 on r.user_id2=u2.id
where r.id=123 
```

123 = 房间 ID。

编辑：

这是一种使用两个随机用户更新房间记录的方法

```
UPDATE rooms
SET 
user_id=(SELECT id FROM users ORDER BY RAND() LIMIT 0,1),
user_id2=(SELECT id FROM users ORDER BY RAND() LIMIT 0,1),
where id=123 
```

我已经对此进行了测试，它似乎有效。这将防止您拥有重复的用户：

```
UPDATE rooms
SET 
user_id=(SELECT u1.id FROM users as u1 ORDER BY RAND() LIMIT 0,1),
user_id2=(SELECT u2.id FROM users as u2 where user_id <> u2.id ORDER BY RAND() LIMIT 0,1)
where id=123 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:01:28.070

`SELECT`可能是这样的：

```
SELECT user_id
FROM `USERS`
WHERE connected = 'available'
ORDER BY RAND()
LIMIT 2; 
```

您需要解析结果集并将 user_ids 分配给变量，例如

```
$user_id1
$user_id2 
```

第一个`UPDATE`是这样的：

```
UPDATE `USERS` 
SET connected = 'connecting'
WHERE user_id IN ($user_id1,$user_id2); 
```

`INSERT`看起来像这样：

```
INSERT INTO `ROOMS` (room_name,room_id,user_id,user_id2)
VALUES ($room_name,$room_id,user_id,user_id2); 
```

最后最后一个`UPDATE`

```
UPDATE `USERS` 
SET connected = 'connected'
WHERE user_id IN ($user_id1,$user_id2); 
```

尽管您可能想要锁定行，但我还没有掌握数据库管理的那一部分。出于您的目的，您可能需要对其进行调查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:08:42.453

据我说，你需要三个表而不是两个来实现你的逻辑。

考虑我的数据库架构

```
USERS
| id        | autoincrement, primary key
| user_id   | user's ID
| connected | available, connecting, chatting

ROOMS
| id        | 
| room_name | 

USERCHAT
| id        |
| user_id   | user's ID
| room_id   | room id 
```

要获得配对，您可以执行以下查询。

```
SELECT user_id 
FROM USERS 
WHERE id NOT IN (SELECT user_id FROM USERCHAT)
ORDER BY RAND()
LIMIT 2; 
```

选择用户后，您可以简单地将它们插入 ROOMS 和 USERCHAT 表中。使用此模式，您还可以允许多个用户而不是两个用户进行聊天。

# asp.net - How to display a button on page after a period of time in ASP.NET?

> ID：12720916
> 
> 赞同：0
> 
> 时间：2012-10-04T05:40:08.520
> 
> 标签：asp.net

I want the button to display exactly 2 minutes after the page loads. Is this possible?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:44:26.073

Exactly is impossible, but close to is like this

```
<button id="MyButton" style="display:none">Hello</button>

<script type="text/javascript">

  setTimeout(function() { 
    document.getElementById("MyButton").style.visibility='visible'; 
  }, 120000);

</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T09:16:54.233

<html>
<head>
<script type="text/javascript">

```
 function showButton()
        {
            document.getElementById("btnContinue").style.visibility = "visible";
        }

        function hideButton()
        {
            document.getElementById("btnContinue").style.visibility = "hidden";
        }

        window.onload = function()
        {
            hideButton();
            setTimeout('showButton()', 12000);
        }

    </script> 
```

</head>
<body>
<input type="button" id="btnContinue" value="Continue" />
</body>
</html>

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T05:54:07.070

you can take jquery functions `delay` and `fadeIn` help for e.g

```
<button id="MyButton" style="display:none">Hello</button>
$().ready(function(){
   $('#MyButton').delay(500).fadeIn(400);
 }); 
```

`delay` will take an integer indicating the number of milliseconds to delay.

[working sample](http://jsfiddle.net/5VANu/)

i can say its a workaround as it does what you asked for..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T06:21:26.477

Use jQuery like this

```
<button id="btnButton" style="display:none">Your Button</button>

<script type="text/javascript">

 $(document).ready(function(){
     setTimeout(function() { 
         $("#btnButton").show();
      }, 120000);
  });
</script> 
```

# c++ - 不稳定的文件间或线程间？

> ID：12720919
> 
> 赞同：0
> 
> 时间：2012-10-04T05:40:31.093
> 
> 标签：c++, multithreading, pthreads, volatile, extern

我想知道 volatile 关键字是否处理线程间事务或文件间 - 通过外部事务或两者兼而有之？

我做了实验，但结果有点令人困惑..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:46:45.660

在 C++ 中，`volatile`关键字**根本**与同步**无关**！它既不关心线程间的事情，也不关心进程间的事情。的唯一目的是确保编译器创建的代码在每次代码执行时都会访问变量 time。关键字的一个建议是内存映射 I/O。**`volatile``volatile``volatile`**

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:49:47.430

如果你想从多个线程修改一个变量，`volatile`是不正确的......看看[联锁函数](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684122(v=vs.85).aspx)**

# iphone - Gettinf 之前的交易细节，而我尝试新的交易

> ID：12720922
> 
> 赞同：0
> 
> 时间：2012-10-04T05:40:35.870
> 
> 标签：iphone, ios, ipad

我已经在我的应用程序中实现了 iAP，我正在尝试购买，但在`StoreKitController`控制器中它返回之前的交易细节。

**示例：** 首先我使用产品名称“ABC”购买，此交易完成，之后我尝试使用产品“XYZ”进行另一笔交易，但在第二次交易中，我在下面获得产品名称和产品价格“ABC”方法。

```
- (void)DoBuy:(NSString*)ProductName PaymentType:(int)type Quantity:(int)Q
{
    DLog(@"Product is.......%@",ProductName);
    // My code
} 
```

**产品是.......ABC**

和

```
- (void) completeTransaction: (SKPaymentTransaction *)transaction
{
  DLog(@"Price is..%lf",ProductPrice);
  DLog(@"%@",transaction.payment.productIdentifier);
  // My Code
} 
```

**价格是...1.990000 ABC**

但实际上这里应该是价格为 2.99 的产品“XYZ”

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T05:49:41.440

从 NSUserDefaults 你得到 NSDictionaries 数组，它们是不可变的，所以你不能改变它们的内容。您必须遍历数组并将 NSDictionaries 更改为 NSMutableDictionaries

试试这个

```
for (NSUInteger i = 0; i < AppDel.InvoiceInfoArr.count; i++) {
    NSDictionary *dict = [AppDel.InvoiceInfoArr objectAtIndex:i];
    NSMutableDictionary *mutableDict = [dict mutableCopy];
    [AppDel.InvoiceInfoArr replaceObjectAtIndex:i withObject:mutableDict];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:47:00.837

如果您的 InvoiceInfoArr`NSArray`成功了`NSMutableArray`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:27:36.053

您正在尝试为导致崩溃的 NSDictionary 中的键设置对象，因为您需要将字典类型转换为可变字典。希望这可以帮助。

# git - TeamCity 到 GitHub 连接错误：会话已关闭

> ID：12720925
> 
> 赞同：7
> 
> 时间：2012-10-04T05:40:47.290
> 
> 标签：git, github, teamcity

我无法从我的 TeamCity 配置成功连接到我的 GitHub 存储库。

当我执行“测试连接”时，我收到了消息；

> ***** :: Pull-Build-Test 中的测试连接失败。列出远程参考失败：com.jcraft.jsch.JSchException：会话已关闭。

从 teamcity-server.log 我得到：

> WARN - jetbrains.buildServer.SERVER - jetbrains.buildServer.serverSide.ExecutionException：无法收集更改，错误：列出远程参考失败：com.jcraft.jsch.JSchException：会话已关闭。

我在 Ubuntu LTS 12 上使用 TeamCity 7.1。

我已经尝试过密码和私钥身份验证，但都给出了相同的消息（上图）。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-02T22:17:37.343

对于在寻找解决 TeamCity / git 连接问题时遇到此错误的其他人：

该错误`List remote refs failed: com.jcraft.jsch.JSchException: session is down`也可能出现，因为您已输入 a`Username`作为 GIT 连接详细信息的一部分，因为连接使用 ssh 密钥，在我的情况下连接到 CodeBaseHQ.com 服务。

还要考虑您的一般 GIT 配置设置，使用`Test Connection`按钮始终是一个好主意。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T10:30:30.510

问题与我指向的服务器有关。

归根结底，我的错。

# iphone - 按钮圆角上的 UIImage

> ID：12720927
> 
> 赞同：2
> 
> 时间：2012-10-04T05:41:03.733
> 
> 标签：iphone, objective-c, ios

> **可能重复：**
> [如何在 iphone 的 UI 图像中设置圆角](https://stackoverflow.com/questions/5752667/how-to-set-round-corners-in-ui-images-in-iphone)

基本上，这就是我在我的图像中添加图像预览的方式`UIScrollView`，我添加了按钮，然后添加了图像，但是我怎样才能使我的图像也变成圆角并适应按钮的形状。因为在我的预览中它看起来像这样。

![在此处输入图像描述](../Images/146d3f55d8c9f2895218464ee868defb.png)

```
- (void)addImage:(UIImage *)imageToAdd {
    [_images addObject:imageToAdd];
    [_thumbs addObject:[imageToAdd imageByScalingAndCroppingForSize:CGSizeMake(50, 50)]];

    int row = floor(([_thumbs count] - 1) / 5);
    int column = (([_thumbs count] - 1) - (row * 5));

    UIImage *thumb = [_thumbs objectAtIndex:[_thumbs count]-1];
    UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    button.frame = CGRectMake(column*60+10, row*60+10, 55, 55);
    [button setImage:thumb forState:UIControlStateNormal];
    [button addTarget:self action:@selector(deleteItem:) forControlEvents:UIControlEventTouchUpInside];
    button.tag = [_images count] - 1;
    // This is the title of where they were created, so we can see them move.s
    [button setTitle:[NSString stringWithFormat:@"%d, %d", row, column] forState:UIControlStateNormal];

    [_buttons addObject:button];
    [scrollView addSubview:button];
    // This will add 10px padding on the bottom as well as the top and left.
    [scrollView setContentSize:CGSizeMake(300, row*60+20+60)];

} 
```

另外，我试过这个，但不起作用。

```
UIImageView * roundedView = [[UIImageView alloc] initWithImage: thumb];
// Get the Layer of any view
CALayer * l = [roundedView layer];
[l setMasksToBounds:YES];
[l setCornerRadius:10.0];

// You can even add a border
[l setBorderWidth:4.0];
[l setBorderColor:[[UIColor blueColor] CGColor]]; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T05:52:25.497

尝试使用按钮框架在 UIButton 的背景中添加 imageView

```
[imgView setBackgroundColor:[UIColor clearColor]];
imgView.clipsToBounds = TRUE;
imgView.layer.cornerRadius = 20.0;//try different size for corner radious
imgView.layer.borderWidth = 0.0;// give size if you want to border for image 
```

**编辑 ：**

使用我的波纹管代码插入您发布的代码

```
- (void)addImage:(UIImage *)imageToAdd {
    [_images addObject:imageToAdd];
    [_thumbs addObject:[imageToAdd imageByScalingAndCroppingForSize:CGSizeMake(50, 50)]];

    int row = floor(([_thumbs count] - 1) / 5);
    int column = (([_thumbs count] - 1) - (row * 5));

    UIImage *thumb = [_thumbs objectAtIndex:[_thumbs count]-1];
            UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
        button.frame = CGRectMake(column*60+10, row*60+10, 55, 55);
       [button setBackgroundColor:[UIColor clearColor]];
        //    [button setImage:thumb forState:UIControlStateNormal];

            UIImageView *imgView = [[UIImageView alloc]initWithFrame:CGRectMake(column*60+10, row*60+10, 55, 55)];
        imgView.image =thumb;
        [imgView setBackgroundColor:[UIColor clearColor]];
        imgView.clipsToBounds = TRUE;
        imgView.layer.cornerRadius = 20.0;//try different size for corner radious
        imgView.layer.borderWidth = 0.0;// give size if you want to border for image
        [button addTarget:self action:@selector(deleteItem:) forControlEvents:UIControlEventTouchUpInside];
        button.tag = [_images count] - 1;
    // This is the title of where they were created, so we can see them move.s
    [button setTitle:[NSString stringWithFormat:@"%d, %d", row, column] forState:UIControlStateNormal];

    [_buttons addObject:button];
    [scrollView addSubview:button];
    // This will add 10px padding on the bottom as well as the top and left.
    [scrollView setContentSize:CGSizeMake(300, row*60+20+60)];

} 
```

我希望这可以帮助你...

:)

# iphone - 在 xcode 中单独的小时、分钟和秒

> ID：12720929
> 
> 赞同：0
> 
> 时间：2012-10-04T05:41:19.983
> 
> 标签：iphone, ios, xcode, ipad

我创建了一个闹钟应用程序。其中，当用户单击 Set Timer Button 时，将调用 Picker 视图。选择器视图显示小时、分钟和秒。当用户选择它们并单击“确定”时，该计时器按钮值会更改。

例如：如果用户选择 2 小时、4 分钟和 10 秒，则

按钮标签将为 02:04:10

现在我想将所有 3 件事分开，比如 2 将存储在一个字符串中，4 将存储在其他字符串中，10 将存储在其他字符串中。

我应该在这里做什么？有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:49:39.943

试试这个认为可能会帮助你....

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"<your date format goes here"];
NSDate *Yourcurrenttime = [dateFormatter dateFromString:string1];

    NSCalendar *calendar = [NSCalendar currentCalendar];

    NSDateComponents *components = [calendar components:(NSHourCalendarUnit |NSMinuteCalendarUnit | NSSecondCalendarUnit) fromDate: Yourcurrenttime];

    NSInteger hour = [components hour];
    NSInteger minutes = [components minute];
    NSInteger seconds = [components second]; 
```

并将所有值存储在字符串中。

```
NSString *HourSTR =[NSString stringWithFormat:@"%d",hour];
NSString *minutesSTR =[NSString stringWithFormat:@"%d",minutes];
NSString *secondsSTR =[NSString stringWithFormat:@"%d",seconds]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T05:50:28.817

我用这种方式做了一个倒计时计时器可能对你有用

```
 -(void) viewWillAppear:(BOOL)animated
 {
 timer = [NSTimer scheduledTimerWithTimeInterval: 1.0 target:self selector:@selector(updateCountdown) userInfo:nil repeats: YES];
 } 
```

**和**

```
 -(void) updateCountdown 
 {

NSString *dateString = @"14-09-2012";
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];

[dateFormatter setDateFormat:@"dd-MM-yyyy"];
NSDate *dateFromString = [[NSDate alloc] init];
// voila!
dateFromString = [dateFormatter dateFromString:dateString];

NSDate *now = [NSDate date];
NSCalendar *calendar = [NSCalendar currentCalendar];

NSDateComponents *componentsHours = [calendar components:NSHourCalendarUnit fromDate:now];
NSDateComponents *componentMint = [calendar components:NSMinuteCalendarUnit fromDate:now];    
NSDateComponents *componentSec = [calendar components:NSSecondCalendarUnit fromDate:now];        

NSCalendar *gregorianCalendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDateComponents *componentsDaysDiff = [gregorianCalendar components:NSDayCalendarUnit
                                                            fromDate:now
                                                              toDate:dateFromString
                                                             options:0];

lblDaysSetting.text=[NSString stringWithFormat:@"%02d",componentsDaysDiff.day];
lblHouresSetting.text=[NSString stringWithFormat:@"%02d",(24-componentsHours.hour)];    
lblMinitSetting.text=[NSString stringWithFormat:@"%02d",(60-componentMint.minute)];  
lblSecSetting.text=[NSString stringWithFormat:@"%02d",(60-componentSec.second)];  

 } 
```

现在只需设置您的逻辑

# javascript - 除非文本框有文本，否则如何限制按钮

> ID：12720938
> 
> 赞同：0
> 
> 时间：2012-10-04T05:42:10.233
> 
> 标签：javascript, jquery, http

我想阻止我的提交按钮被选中，直到用户在我的文本框字段中输入文本。我已经研究了 Jquery，但不知道如何将它应用于我的情况。

如果您查看下面的代码，我有一个表格，这是我可以向我的 BD 中的表格添加值的部分我有 3 个其他不同的表格，它们相似但不相同，每个表格都有自己的提交按钮，我也想限制但关闭他们自己的文本框，而不是来自不同表格的其他文本框......

我怎么能做到这一点？

这是我创建的表之一。

```
<table width="600">
    <tr>
        <td width="15%">
            <b>name:</b> 
            <div class="qlabs_tooltip_bottom qlabs_tooltip_style_7">
                <input type="text" name="5050gdproductname" />
            <span>Enter Text </br>i.e. <i>Super Small</i></span>
            </div>
        </td>
        <td width="15%">
            <b>width:</b> 
            <div class="qlabs_tooltip_bottom qlabs_tooltip_style_7">
                <input type="text" name="5050gdproductwidth" />
            <span>Enter a Number </br>i.e. <i>1000</i></span>
            </div>
        </td>
        <td width="15%">
            <b>height:</b> 
            <div class="qlabs_tooltip_bottom qlabs_tooltip_style_7">
                <input type="text" name="5050gdproductheight" />
            <span>Enter a Number </br>i.e. <i>1000</i></span>
            </div>
        </td>
        <td width="15%">
            <b>normal fill:</b> 
            <div class="qlabs_tooltip_bottom qlabs_tooltip_style_7">
                <input type="text" name="5050gdnormalfill" />
            <span>Enter a Number </br>i.e. <i>1000</i></span>
            </div>
        </td>
        <td width="15%">
            <b>our fill:</b> 
            <div class="qlabs_tooltip_bottom qlabs_tooltip_style_7">
                <input type="text" name="5050gdourfill" />
                <span>Enter a Number </br>i.e. <i>1000</i></span>
            </div>
        </td>
        <td width="15%">
            <b>old price:</b> 
            <div class="qlabs_tooltip_bottom qlabs_tooltip_style_7">
                <input type="text" name="5050gdoldprice" />
            <span>Enter Dollar Amount </br>i.e. <i>150.99</i></br>no dollar sign requiered</span>
            </div>
        </td>
        <td width="15%">
            <b>new price:</b> 
            <div class="qlabs_tooltip_bottom qlabs_tooltip_style_7">
                <input type="text" name="5050gdnewprice" /> 
            <span>Enter Dollar Amount </br>i.e. <i>150.99</i></br>no dollar sign requiered</span>
            </div>
        </td>
        <td>
            </br><input type="submit" name="submit5050gd" value="Submit 5050gd" id="5050gdmyButton" />
        </td>
    </tr>
</table> 
```

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:50:41.523

这是为您提供帮助的小提琴链接：

[http://jsfiddle.net/4JyLk/](http://jsfiddle.net/4JyLk/)

1.  按钮单击事件中的句柄
2.  如果所有文本框都被赋予了值，则继续提交，否则不提交。

使用为现场演示提供的链接。

注意：您可以编辑此代码以禁用/启用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:07:51.520

```
$('input[type=text]')​.keyup(function(){
    if(($('input[name=5050gdproductname]').val()=="")||($('input[name=5050gdproductwidth]').val()=="")||($('input[name=5050gdproductheight]').val()=="")||($('input[name=5050gdnormalfill]').val()=="")||($('input[name=5050gdourfill]').val()=="")||($('input[name=5050gdoldprice]').val()=="")||($('input[name=5050gdnewprice]').val()==""))
    {
     $('input[name=submit5050gd]').attr('disabled', 'disabled');     
}else{
    $('input[name=submit5050gd]').removeAttr('disabled');
    }
    });​​​​

<input type="submit" name="submit5050gd" value="Submit 5050gd" id="5050gdmyButton" disabled="disabled"/> 
```

[jsFiddle](http://jsfiddle.net/afshinprofe/bjtQY/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:41:04.960

很多答案，让我很困惑。在提交表单时验证表单要好得多，并且不要执行诸如禁用提交按钮之类的操作。如果您希望所有文本输入都有文本，那么：

```
function validate(form) {
    var el, elements = form.elements;

    for (var i=0, iLen=elements.length; i<iLen; i++) {
        el = elements[i];

        if (el.tagName.toLowerCase == 'input' &&  el.type == 'text') {
            if (el.value == '') {

                // Deal with error, e.g. show message

                // Stop form submitting
                return false;
            }
        }
    }
} 
```

并以以下形式：

```
<form ... onsubmit="return validate(this);" ...> 
```

您还可以在每个文本输入上放置一个更改或 keyup 事件的侦听器，然后运行上面的代码并禁用提交按钮，因此`return false`您可以这样做：

```
 form.submit5050gd.disabled = true; 
```

禁用按钮或：

```
 form.submit5050gd.disabled = false; 
```

启用它。但这有点令人厌烦，用户往往不了解禁用的控件。最好让他们知道他们必须在每个输入中添加一些内容并在提交表单时进行验证。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T05:55:57.663

做这个。

```
<input type="submit" name="submit5050gd" value="Submit 5050gd" id="5050gdmyButton" disabled='disabled" /> 
```

在最后一个文本框中使用 javascript 的[blur](http://api.jquery.com/blur/)事件来验证您的条件。

尝试这个。

```
var isBlank = false;
$('input[type="text"]').blur(function(){        
$("#YourTableID").find('input[type="text"]').each(function(){
    if($(this).val() != ''){
      isBlank = true;
      return false;
    }
});
if(!isBlank){
        $('input[type="submit"]').removeAttr('disabled');
}

}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T05:57:18.800

试试下面的代码

```
//On document load
    $(function(){
          //Set button disabled
          $("input[type=submit]").attr("disabled", "disabled");

          //Append a change event listener to you inputs
          $('input').change(function(){
                //Validate your form here, example:
                var validated = true;
                if($('#5050gdnormalfill').val().length === 0) validated = false;
                //do validation for all field as above, add id field for every element

                //If form is validated enable form
                if(validated) $("input[type=submit]").removeAttr("disabled");                              
          });

    }) 
```

# php - 如何将一个数组分割成两个数组

> ID：12720940
> 
> 赞同：-1
> 
> 时间：2012-10-04T05:42:16.863
> 
> 标签：php, arrays

我有一个需要分成两部分的数组（见下文）：[items] => Array

```
 (

        [product] => Humbucker
        [product_price] => 12
        [model] => Single Humbucker
        [model_price] => 12
        [guitarbrands] => fdfdfdf
        [guitarbrands_price] => 23
        [neckfretboard] => 33
        [neckfretboard_price] => 22
        [guitarmodels] => fdfdsf
        [guitarmodels_price] => 22

    ) 
```

我想要这个数组

```
 [items] => Array
    (

        [product] => array(
                            [product] => Humbucker
                            [product_price] => 12
                          )
        [model] =>   array( 
                            [model] => Single Humbucker
                            [model_price] => 12
                          )

        [guitarbrands] =>array(
                            [guitarmodels] => fdfdsf
                            [guitarbrands_price] => 23
                           )

    ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:16:21.297

```
$result = array('items' => array());

foreach ($array as $key => $value) {
    if (strpos($key, '_') !== false) {
        continue;
    }
    $result['items'][$key] = array(
        $key           => $value,
        "{$key}_price" => $array["{$key}_price"]
    );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:08:04.583

我通常保留一个通用功能，例如：

```
function preg_grep_keys( $pattern, $input, $flags = 0 )
{
    $keys = preg_grep( $pattern, array_keys( $input ), $flags );
    $vals = array();
    foreach ( $keys as $key )
    {
        $vals[$key] = $input[$key];
    }
    return $vals;
} 
```

所以在你的情况下，你会这样做

```
 $outoupt=array(
        'product'=> preg_grep_keys('/^product/', $input),
         'model'=> preg_grep_keys('/^model/', $input),
         'product'=> preg_grep_keys('/^guitar/', $input)
          ); 
```

希望这可能会有所帮助

# ruby-on-rails-3 - Rails 和 Git 推送、Git 拉取：日志返回相同的提交，未进行更改

> ID：12720943
> 
> 赞同：0
> 
> 时间：2012-10-04T05:42:24.367
> 
> 标签：ruby-on-rails-3, git, capistrano

我有一个本地分支 ( `master`)、一个 GitHub 存储库 ( `origin`) 和另一个远程存储库 ( `server`)。我已经设置了我的遥控器，所以我可以在本地输入`git push server master`并将更改推送到`server/master`.

当我`git log -1`在本地和服务器上键入时，它们返回相同的提交，但我在本地所做的任何更改在服务器上都不可见。

我使用 Capistrano 部署了我的应用程序，因此重新部署它会使更改立即可见，但我不想每次进行更改时都必须重新部署。

知道这里发生了什么吗？我对 Git 比较陌生。希望这很容易解决。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:20:08.207

在我看来，您可能正在查看与您的 Web 服务器所指向的目录不同的目录。

当我设置 capistrano 时：

```
cap deploy:setup
#then
cap deploy 
```

它创建一个类似于以下的目录结构：

```
/releases (each deploy gets its own randome number directory)
/current (a sym-link to the latest release)
/shared 
```

这些文件夹都没有绑定到 git。这让我觉得你的网络服务器可能没有指向你在 git 中使用的同一个目录。

--

您可能会发现 cap deploy 更可取，因为如果有任何问题，您将能够看到输出。

我不是一个大专家，但以上是我使用 Capistrano 设置导轨的方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:23:42.570

通常`origin`是用于 GitHub 远程的名称，而不是`master`. 你可以通过做检查你有什么遥控器`git remote show`。如果您想要有关远程使用的更多详细信息`git remote show origin`（或者您的远程调用的任何内容，如果它不是来源）。这会给你一个清单。我怀疑您拥有的实际上是两个本地分支（主分支和服务器）。尝试做一个`git push server origin`. 这将获取您的服务器分支并将其放在 GitHub 上。

**或者**

如果您尝试将服务器分支中的更改与您的主分支结合使用`checkout master`，然后使用`git merge server`. 这会将您从服务器分支中的更改合并到您的主分支中，然后您可以通过`git push master origin`.

# php - 使用 php 脚本创建 ant 以获取记录

> ID：12720945
> 
> 赞同：0
> 
> 时间：2012-10-04T05:42:33.057
> 
> 标签：php, ant

我对 ant 脚本非常陌生，我想创建 ant 脚本，该脚本将执行并从 php 脚本中获取数据并将数据插入数据库。

我已经完成了前两个问题[Running PHP script in background using Ant](https://stackoverflow.com/questions/12041246/running-php-script-in-background-using-ant)和[build PHP with ant scripts](https://stackoverflow.com/questions/1154699/build-php-with-ant-scripts)但它对我不起作用。

我试过下面的代码：

```
 <project name="fetch_record_test" basedir="." default="*install"> 
    <target name="*install" depends="test-src">
        <exec executable="${php}" failonerror="true" dir="${source}">
            <arg line="${projectdir}/Connectors/record_mapping.php"/>
            <arg line="-output" />
        </exec>
   </target>
</project> 
```

任何人都可以告诉我这样做的蚂蚁脚本。
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:41:53.187

有问题`${php}`所以尝试更改`executable=${php}`为`executable="php"`

检查此[链接](https://stackoverflow.com/questions/1227463/how-can-i-execute-a-perl-script-using-the-ant-exec-task)以获取更多信息。

要将数据存储在数据库中，您可以将 php 文件与数据库连接或使用[ant sql](http://ant.apache.org/manual//Tasks/sql.html)

# django - 无法在 Django 中创建超级用户，有问题吗？

> ID：12720954
> 
> 赞同：1
> 
> 时间：2012-10-04T05:44:03.523
> 
> 标签：django, root

在提示后手动提示我们时，我似乎无法创建超级用户（如果相关，我将 sqlite 用于数据库）。当我在提示符处选择“否”时，它会正常进行，但是当我选择“是”时，会发生这种情况。

```
Peter-Buddemeyers-MacBook-Pro:mysite Pete$ python manage.py syncdb
Creating tables ...
Creating table auth_permission
Creating table auth_group_permissions
Creating table auth_group
Creating table auth_user_user_permissions
Creating table auth_user_groups
Creating table auth_user
Creating table django_content_type
Creating table django_session
Creating table django_site

You just installed Django's auth system, which means you don't have any superusers defined.
Would you like to create one now? (yes/no): yes
Traceback (most recent call last):
  File "manage.py", line 10, in <module>
    execute_from_command_line(sys.argv)
  File "/Library/Python/2.6/site-packages/django/core/management/__init__.py", line 443, in execute_from_command_line
    utility.execute()
  File "/Library/Python/2.6/site-packages/django/core/management/__init__.py", line 382, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/Library/Python/2.6/site-packages/django/core/management/base.py", line 196, in run_from_argv
    self.execute(*args, **options.__dict__)
  File "/Library/Python/2.6/site-packages/django/core/management/base.py", line 232, in execute
    output = self.handle(*args, **options)
  File "/Library/Python/2.6/site-packages/django/core/management/base.py", line 371, in handle
    return self.handle_noargs(**options)
  File "/Library/Python/2.6/site-packages/django/core/management/commands/syncdb.py", line 110, in handle_noargs
    emit_post_sync_signal(created_models, verbosity, interactive, db)
  File "/Library/Python/2.6/site-packages/django/core/management/sql.py", line 189, in emit_post_sync_signal
    interactive=interactive, db=db)
  File "/Library/Python/2.6/site-packages/django/dispatch/dispatcher.py", line 172, in send
    response = receiver(signal=self, sender=sender, **named)
  File "/Library/Python/2.6/site-packages/django/contrib/auth/management/__init__.py", line 73, in create_superuser
    call_command("createsuperuser", interactive=True, database=db)
  File "/Library/Python/2.6/site-packages/django/core/management/__init__.py", line 150, in call_command
    return klass.execute(*args, **defaults)
  File "/Library/Python/2.6/site-packages/django/core/management/base.py", line 232, in execute
    output = self.handle(*args, **options)
  File "/Library/Python/2.6/site-packages/django/contrib/auth/management/commands/createsuperuser.py", line 70, in handle
    default_username = get_default_username()
  File "/Library/Python/2.6/site-packages/django/contrib/auth/management/__init__.py", line 105, in get_default_username
    default_username = get_system_username()
  File "/Library/Python/2.6/site-packages/django/contrib/auth/management/__init__.py", line 85, in get_system_username
    return getpass.getuser().decode(locale.getdefaultlocale()[1])
TypeError: decode() argument 1 must be string, not None 
```

有没有人有任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T06:01:07.190

似乎系统语言环境设置不正确，因此 locale.getdefaultlocale() 返回 (None, None)。查看 的输出`locale`以检查是否是这种情况（详细信息在[本文档](https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/locale.1.html)中）。最简单的解决方案是`setenv LANG en_US.UTF-8`在运行之前执行类似的操作`python manage.py syncdb`。

# bnf - 是否有正式的（理想情况下是 BNF）打字稿 js 语言语法（或只有打字稿子集）？

> ID：12720955
> 
> 赞同：14
> 
> 时间：2012-10-04T05:44:04.023
> 
> 标签：bnf, typescript

我正在寻找打字稿语法。不是解析器-词法分析器，而只是正式的语法描述。我想实现 ts，它的代码折叠和基本静态代码分析作为一个简单的 GNOME linux IDE 的插件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2017-12-27T21:30:01.523

形式语法在 TypeScript Language Reference 的附录 A 中，版本 1.8 如果可以在[此处](https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#A)或[此处](https://github.com/frenchy64/typescript-parser/blob/master/typescript.ebnf)找到（对于当前版本）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-25T19:30:09.203

由于 typescript 是 Ecmascript 5 (http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf/) 的严格超集，您可以使用来自 Typescript 的语法定义扩展任何 ecmascript bnf规格。

起点可以是：[http ://www.antlr3.org/grammar/1153976512034/ecmascriptA3.g](http://www.antlr3.org/grammar/1153976512034/ecmascriptA3.g)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:21:47.450

也许您可以在源代码中找到参考，例如[compiler/tokens.js](http://typescript.codeplex.com/SourceControl/changeset/view/fe3bc0bfce1f#src/compiler/tokens.ts)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-15T09:15:26.750

一个 ANTLR4 语法，但不可否认的是“不完全……符合 TypeScript 标准”（现有编程语言的官方语法太少了，这很痛苦）：

[https://github.com/antlr/grammars-v4/tree/master/typescript](https://github.com/antlr/grammars-v4/tree/master/typescript)

# animation - CSS3 动画：为什么动画相同的属性不起作用？

> ID：12720956
> 
> 赞同：0
> 
> 时间：2012-10-04T05:44:04.753
> 
> 标签：animation, css, transform

我试图让这个动画在 Chrome 中工作：

```
@-webkit-keyframes flipAnimation {
    0% {
        -webkit-transform: perspective(400px) rotateY(90deg);
        -webkit-transform-origin: right center;
    }
    100% {
        -webkit-transform: perspective(400px) rotateY(0deg);
        -webkit-transform-origin: right center;
    }
}

@-webkit-keyframes appear {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}

@-webkit-keyframes disappear {
    0% {
        opacity: 1;
    }
    100% {
        opacity: 0;
    }
}

.flipAnimation {
    opacity: 0;
    -webkit-backface-visibility: visible !important;
    -webkit-animation: flipAnimation .5s, appear .2s, disappear .3s;
    -webkit-animation-delay: 0s, .3s, 2s;
} 
```

但总是出问题。一方面，不透明度为 0 的 div.flipAnimation 不会出现。其次，div 闪烁进出，最后一个消失动画似乎没有正确触发。即使它们之间有延迟，在同一个动画中有 2 个不透明动画是否存在问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T09:03:25.187

看起来这不能单独使用关键帧来完成。我将使用 jquery 来做最后的淡出动画。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:22:05.790

我不太确定这是否是您想要的效果，但您可以查看我的解决方案：

[**JS 小提琴演示**](http://jsfiddle.net/AQD9h/3/)

我认为您正在寻找的效果无法达到`keyframes`。请确认是否满意！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:35:48.580

这里的代码工作。 [Demo Jsfiddle](http://jsfiddle.net/centerwow/AQD9h/4/) 不起作用的原因是延迟时间。你看不出有什么不同。所以我将延迟时间更改为 10 秒，只是为了让您看到它有效。 [您的代码与其他延迟一起工作](http://jsfiddle.net/centerwow/AQD9h/6/)

我对代码进行了一些更改以查看是否有效，只需根据您的要求更改时间和其他内容：

首先你会看到出现，flipAnimationu 在 20 秒后一起工作，你会看到消失的工作并将颜色更改为天蓝色、黑色、天蓝色。

# php - 在javascript中获取多个文件值

> ID：12720957
> 
> 赞同：0
> 
> 时间：2012-10-04T05:44:11.767
> 
> 标签：php, javascript, html

```
<input type="file" name="prod_detail_image[]" id="prod_detail_image" 
       value=""  multiple="multiple" onblur="validatebutton();" /> 
```

我可以在文件输入中选择多个文件。在 onblur 事件中，我需要获取选择的文件值。我只得到一个值。我需要获取图像的数组值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T16:37:53.827

SO还有很多其他类似的问题。这是获取所有文件名的简单方法

```
var inp = document.getElementById('prod_detail_image');
for (var i = 0; i < inp.files.length; ++i) {
    var name = inp.files.item(i).name;
    alert("here is a file name: " + name);
} 
```

但是，这只适用于支持 HTML5 的浏览器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-05T14:51:51.007

```
var inp = document.getElementById('prod_detail_image');
for (var i = 0; i < inp.files.length; i++) {
var name = inp.files[i].name;
alert("here is a file name: " + name);
} 
```

检查这个。它会工作。

# mysql - 查找最近最少使用的mysql表索引

> ID：12720960
> 
> 赞同：1
> 
> 时间：2012-10-04T05:44:41.543
> 
> 标签：mysql, database, database-tuning

我正在清理 mysql 数据库中（innodb）表中的重复索引。该数据库有大约 50 个表。

虽然我可以使用[pt-duplicate-key-checker 检查重复键](http://www.percona.com/doc/percona-toolkit/2.1/pt-duplicate-key-checker.html)，但我想知道是否有一种工具可以帮助我从所有表中找出最近最少使用的索引。

例如。，如果表“A”具有定义为“index_1”、“index_2”和“index_3”的三个索引，并且其中“index_3”使用频率最低，假设每对表进行1/10000次查询就使用它，然后输出脚本或工具的名称应为“index_3”。

有没有好的方法或工具可以帮助我在数据库上运行这个分析？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:51:56.403

从 MySQL 5.6 开始，performance_schema 检测表 io，并按表和索引计算聚合统计信息。

查看表 performance_schema.table_io_waits_summary_by_index_usage：

[http://dev.mysql.com/doc/refman/5.6/en/table-waits-summary-tables.html#table-io-waits-summary-by-index-usage-table](http://dev.mysql.com/doc/refman/5.6/en/table-waits-summary-tables.html#table-io-waits-summary-by-index-usage-table)

查找*最近*最少使用的索引涉及时间和时间戳。

性能模式度量是根据索引计算 io，因此它可以用来找到最不*常用*的索引，实际上应该非常接近。

完整的例子在这里：

[http://sqlfiddle.com/#!9/c129c/4](http://sqlfiddle.com/#!9/c129c/4)

注意：这个问题在

[https://dba.stackexchange.com/questions/25406/find-least-recently-used-mysql-table-index](https://dba.stackexchange.com/questions/25406/find-least-recently-used-mysql-table-index)

# postgresql - 如何更改 PostgreSQL 用户密码？

> ID：12720967
> 
> 赞同：1387
> 
> 时间：2012-10-04T05:45:39.323
> 
> 标签：postgresql, change-password

如何更改 PostgreSQL 用户的密码？

* * *

## 回答 #1

> 赞同：1975
> 
> 时间：2012-10-04T05:55:58.537

要不使用密码登录：

```
sudo -u user_name psql db_name 
```

忘记密码时重置密码：

```
ALTER USER user_name WITH PASSWORD 'new_password'; 
```

* * *

## 回答 #2

> 赞同：872
> 
> 时间：2012-10-04T05:50:02.383

要更改 postgres 用户的密码，请按照以下步骤操作

1.  登录到 psql：

```
$ sudo -u postgres psql 
```

2.  然后在 psql 控制台中更改密码并退出：

```
postgres=# \password postgres
Enter new password: <new-password>
postgres=# \q 
```

或使用查询

```
ALTER USER postgres PASSWORD '<new-password>'; 
```

或在一行中

```
sudo -u postgres psql -c "ALTER USER postgres PASSWORD '<new-password>';" 
```

#### 笔记：

如果这不起作用，请通过编辑重新配置身份验证`/etc/postgresql/9.1/main/pg_hba.conf`（路径将不同）并更改：

```
local   all         all                  peer # change this to md5

## to

local   all         all                  md5 # like this 
```

然后重启服务器：

```
$ sudo service postgresql restart 
```

* * *

## 回答 #3

> 赞同：121
> 
> 时间：2015-02-21T08:58:59.467

您可以并且应该对用户的密码进行加密：

```
ALTER USER username WITH ENCRYPTED PASSWORD 'password'; 
```

* * *

## 回答 #4

> 赞同：98
> 
> 时间：2017-08-30T16:55:11.180

我相信更改密码的最佳方法是简单地使用：

```
\password 
```

在 Postgres 控制台中。

根据`ALTER USER` [文档](https://www.postgresql.org/docs/9.0/static/sql-alterrole.html)：

> 使用此命令指定未加密的密码时必须小心。密码将以明文形式传输到服务器，也可能会记录在客户端的命令历史记录或服务器日志中。psql 包含一个命令 \password ，可用于更改角色的密码而不暴露明文密码。

注意：`ALTER USER`是一个别名`ALTER ROLE`

* * *

## 回答 #5

> 赞同：50
> 
> 时间：2015-05-25T23:14:13.743

要使用 Linux 命令行更改密码，请使用：

```
sudo -u <user_name> psql -c "ALTER USER <user_name> PASSWORD '<new_password>';" 
```

* * *

## 回答 #6

> 赞同：43
> 
> 时间：2019-06-29T19:09:52.093

更改密码

```
 sudo -u postgres psql 
```

然后

```
\password postgres 
```

现在输入新密码并确认

然后`\q`退出

* * *

## 回答 #7

> 赞同：32
> 
> 时间：2014-10-09T14:03:55.170

转到您的 Postgresql 配置并编辑 pg_hba.conf

`sudo vim /etc/postgresql/9.3/main/pg_hba.conf`

然后更改此行：

```
Database administrative login by Unix domain socket
local      all              postgres                                md5 
```

到 ：

```
Database administrative login by Unix domain socket
local   all             postgres                                peer 
```

然后通过 SUDO 命令重启 PostgreSQL 服务然后

> `psql -U postgres`

您现在将进入并看到 Postgresql 终端

然后输入

> `\password`

并输入 Postgres 默认用户的新密码，再次成功更改密码后转到 pg_hba.conf 并将更改恢复为“md5”

现在您将登录为

> psql -U postgres

使用您的新密码。

如果大家发现其中有任何问题，请告诉我。

* * *

## 回答 #8

> 赞同：15
> 
> 时间：2018-03-03T04:05:11.513

为**postgres**用户请求新密码（不在命令中显示）：

```
sudo -u postgres psql -c "\password" 
```

* * *

## 回答 #9

> 赞同：14
> 
> 时间：2016-04-21T20:53:44.477

这是谷歌上的第一个结果，当时我正在寻找如何重命名用户，所以：

```
ALTER USER <username> WITH PASSWORD '<new_password>';  -- change password
ALTER USER <old_username> RENAME TO <new_username>;    -- rename user 
```

其他一些有助于用户管理的命令：

```
CREATE USER <username> PASSWORD '<password>' IN GROUP <group>;
DROP USER <username>; 
```

将用户移动到另一个组

```
ALTER GROUP <old_group> DROP USER <username>;
ALTER GROUP <new_group> ADD USER <username>; 
```

* * *

## 回答 #10

> 赞同：13
> 
> 时间：2020-06-13T19:27:39.547

如果你在窗户上。

打开`pg_hba.conf`文件并从 更改`md5`为`peer`

打开cmd，输入`psql postgres postgres`

然后键入`\password`以提示输入新密码。

[有关更多信息和详细步骤，请参阅此中等帖子](https://medium.com/@tmacharia/how-to-change-postgresql-password-f1efba2f160)。

* * *

## 回答 #11

> 赞同：10
> 
> 时间：2014-01-11T20:39:33.507

我在服务器上的配置进行了很多定制，只有在[文件中设置了](https://www.postgresql.org/docs/current/static/auth-pg-hba-conf.html)**信任**身份验证后，我才设法更改密码：[`pg_hba.conf`](https://www.postgresql.org/docs/current/static/auth-pg-hba-conf.html)

```
local   all   all   trust 
```

不要忘记将其改回密码或 md5

* * *

## 回答 #12

> 赞同：9
> 
> 时间：2018-03-25T19:47:25.657

对于我在安装了 postgres 10.3 的 Ubuntu 14.04 上的情况。我需要按照以下步骤

*   `su - postgres`将用户切换到`postgres`
*   `psql`进入 postgres 外壳
*   `\password`然后输入你的密码
*   `\q`退出 shell 会话
*   `exit`然后你通过执行和配置你的`pg_hba.conf`（我的在）切换回root，`/etc/postgresql/10/main/pg_hba.conf`确保你有以下行

    `local all postgres md5`

*   通过以下方式重新启动您的 postgres 服务`service postgresql restart`
*   现在切换到`postgres`用户并再次进入 postgres shell。它会提示您输入密码。

* * *

## 回答 #13

> 赞同：8
> 
> 时间：2018-02-12T11:52:14.847

用这个：

```
\password 
```

输入该用户所需的新密码，然后确认。如果您不记得密码并且想要更改它，您可以使用 postgres 登录，然后使用：

```
ALTER USER 'the username' WITH PASSWORD 'the new password'; 
```

* * *

## 回答 #14

> 赞同：6
> 
> 时间：2020-06-01T18:28:49.937

**TLDR：**

在许多系统上，用户的帐户通常包含句点或某种标点符号（用户：john.smith、horise.johnson）。在这些情况下，必须对上面接受的答案进行修改。更改要求用户名被双引号引起来。

```
Example:

ALTER USER "username.lastname" WITH PASSWORD 'password'; 
```

**合理的：**

Postgres 对何时使用“双引号”和何时使用“单引号”非常挑剔。通常在提供字符串时，您会使用单引号。

* * *

## 回答 #15

> 赞同：6
> 
> 时间：2021-10-30T10:05:21.650

# 为 Postgres 角色设置密码

```
$ sudo -u postgres psql 
```

你会得到如下的东西：

```
postgres=# 
```

# 将用户 Postgres 的密码更改为 Postgres

```
# ALTER USER postgres WITH ENCRYPTED PASSWORD 'postgres'; 
```

你会得到如下的东西：

```
ALTER ROLE
postgres=# 
```

# 为此，我们需要编辑 pg_hba.conf 文件。

=====> 随意用您选择的编辑器替换 nano

```
$ sudo nano /etc/postgresql/9.5/main/pg_hba.conf 
```

# 在 pg_hba.conf 中更新

查找具有如下所示内容的未注释行（不以 # 开头的行）。间距会略有不同，但字应该是一样的。

```
 local   postgres   postgres   peer

    to

        local   postgres   postgres   md5 
```

# 现在我们需要重新启动 Postgres 以使更改生效。

```
$ sudo service postgresql restart 
```

* * *

## 回答 #16

> 赞同：5
> 
> 时间：2021-10-30T10:34:19.940

将用户 postgres 的密码更改为 postgres

```
# ALTER USER postgres WITH ENCRYPTED PASSWORD '<NEW-PASSWORD>'; 
```

* * *

## 回答 #17

> 赞同：4
> 
> 时间：2019-08-20T19:52:46.240

与语法上的其他答案类似，但应该知道您也可以传递密码的 md5，因此您不会传输纯文本密码。

以下是一些以纯文本形式更改用户密码的意外后果。

1.  如果您没有 SSL 并且正在远程修改，则您正在通过网络传输纯文本密码。
2.  如果您将日志配置设置为记录 DDL 语句`log_statement = ddl`或更高版本，那么您的纯文本密码将显示在错误日志中。
    1.  如果您不保护这些日志，那将是一个问题。
    2.  如果您收集这些日志/ETL 并将它们显示在其他人可以访问的位置，他们最终可能会看到此密码等。
    3.  如果您允许用户管理他们的密码，他们会在不知不觉中将密码泄露给负责查看日志的管理员或低级别员工。

话虽如此，这里是我们如何通过构建密码的 md5 来更改用户的密码。

*   Postgres 将密码哈希为 md5 时，使用用户名对密码进行加盐，然后将文本“md5”添加到生成的哈希中。
*   > 例如：“md5”+md5（密码+用户名）

*   在 bash 中：

```
 ~$ echo -n "passwordStringUserName" | md5sum | awk '{print "md5"$1}'
    md5d6a35858d61d85e4a82ab1fb044aba9d 
```

*   在 PowerShell 中：

```
 [PSCredential] $Credential = Get-Credential

    $StringBuilder = New-Object System.Text.StringBuilder

    $null = $StringBuilder.Append('md5');

    [System.Security.Cryptography.HashAlgorithm]::Create('md5').ComputeHash([System.Text.Encoding]::ASCII.GetBytes(((ConvertFrom-SecureStringToPlainText -SecureString $Credential.Password) + $Credential.UserName))) | ForEach-Object {
        $null = $StringBuilder.Append($_.ToString("x2"))
    }

    $StringBuilder.ToString();

    ## OUTPUT
    md5d6a35858d61d85e4a82ab1fb044aba9d 
```

*   所以最后我们的`ALTER USER`命令看起来像

```
 ALTER USER UserName WITH PASSWORD 'md5d6a35858d61d85e4a82ab1fb044aba9d'; 
```

*   相关链接（请注意，我只会链接到最新版本的文档，因为它会更改一些旧版本，但 md5 仍然支持返回方式。）
*   [创建角色](https://www.postgresql.org/docs/current/sql-createrole.html)
*   > 密码始终加密存储在系统目录中。ENCRYPTED 关键字没有效果，但为了向后兼容而被接受。加密方法由配置参数 password_encryption 决定。如果显示的密码字符串已经是 MD5 加密或 SCRAM 加密的格式，那么无论 password_encryption 是什么，它都按原样存储（因为系统无法解密指定的加密密码字符串，因此以不同的格式对其进行加密）。这允许在转储/恢复期间重新加载加密密码。

*   [password_encryption](https://www.postgresql.org/docs/current/runtime-config-connection.html#GUC-PASSWORD-ENCRYPTION)的配置设置
*   [postgres 密码认证文档](https://www.postgresql.org/docs/11/auth-password.html)
*   [构建postgres密码md5](https://evanhoffman.com/2014/02/12/setting-user-postgres-passwords-via-md5/)

* * *

## 回答 #18

> 赞同：4
> 
> 时间：2019-10-20T08:35:27.377

以及使用 bash 和 expect 的全自动方式（[在此示例中](https://github.com/YordanGeorgiev/qto/blob/master/src/bash/qto/funcs/provision-db-admin.func.sh)，我们在 OS 和 postgres 运行时级别上使用新配置的 postgres pw 配置新的 postgres 管理员）

```
 # the $postgres_usr_pw and the other bash vars MUST be defined 
  # for reference the manual way of doing things automated with expect bellow
  #echo "copy-paste: $postgres_usr_pw"
  #sudo -u postgres psql -c "\password"
  # the OS password could / should be different
  sudo -u root echo "postgres:$postgres_usr_pw" | sudo chpasswd

  expect <<- EOF_EXPECT
     set timeout -1
     spawn sudo -u postgres psql -c "\\\password"
     expect "Enter new password: "
     send -- "$postgres_usr_pw\r"
     expect "Enter it again: "
     send -- "$postgres_usr_pw\r"
     expect eof
EOF_EXPECT

  cd /tmp/
  # at this point the postgres uses the new password
  sudo -u postgres PGPASSWORD=$postgres_usr_pw psql \
    --port $postgres_db_port --host $postgres_db_host -c "
  DO \$\$DECLARE r record;
     BEGIN
        IF NOT EXISTS (
           SELECT
           FROM   pg_catalog.pg_roles
           WHERE  rolname = '"$postgres_db_useradmin"') THEN
              CREATE ROLE "$postgres_db_useradmin" WITH SUPERUSER CREATEROLE
              CREATEDB REPLICATION BYPASSRLS 
 PASSWORD '"$postgres_db_useradmin_pw"' LOGIN ;
        END IF;
     END\$\$;
  ALTER ROLE "$postgres_db_useradmin" WITH SUPERUSER CREATEROLE
  CREATEDB REPLICATION BYPASSRLS 
PASSWORD  '"$postgres_db_useradmin_pw"' LOGIN ;
 " 
```

* * *

## 回答 #19

> 赞同：2
> 
> 时间：2019-11-01T17:41:14.930

一般来说，只需使用 pg admin UI 来执行 db 相关活动。

相反，如果您更专注于为本地开发或 CI 等自动化数据库设置...

例如，您可以使用这样的简单组合。

(a) 通过 jenkins 创建一个虚拟超级用户，命令类似于：

```
docker exec -t postgres11-instance1 createuser --username=postgres --superuser experiment001 
```

这将在您的 postgres 数据库中创建一个名为 Experiment001 的超级用户。

(b) 通过运行非交互式 SQL 命令给这个用户一些密码。

```
docker exec -t postgres11-instance1 psql -U experiment001 -d postgres -c "ALTER USER experiment001 WITH PASSWORD 'experiment001' " 
```

Postgres 可能是用于命令行（非交互式）工具的最佳数据库。创建用户、运行 SQL、备份数据库等...一般来说，使用 postgres 都是非常基础的，将其集成到您的开发设置脚本或自动化 CI 配置中总体上非常简单。

* * *

## 回答 #20

> 赞同：2
> 
> 时间：2021-03-05T13:46:59.153

我使用的是 Windows（Server 2019；PG 10），因此不支持`local`类型连接（`pg_hba.conf`:） 。`local all all peer`以下应该适用于 Windows 和 Unix 系统：

1.  备份`pg_hba.conf`到`pg_hba.orig.conf`例如
2.  仅使用以下内容创建`pg_hba.conf`：`host all all 127.0.0.1/32 trust`
3.  重启 pg（服务）
4.  执行`psql -U postgres -h 127.0.0.1`
5.  输入（在 pgctl 控制台中）`alter user postgres with password 'SomePass';`
6.  `pg_hba.conf`从 1\. 以上恢复

* * *

## 回答 #21

> 赞同：1
> 
> 时间：2020-10-02T17:30:10.997

检查 pg_hba.conf

如果身份验证方法是“对等”，则客户端的操作系统用户名/密码必须与数据库用户名和密码匹配。在这种情况下，请将 Linux 用户“postgres”和数据库用户“postgres”的密码设置为相同。

有关详细信息，请参阅文档：[https ://www.postgresql.org/docs/9.1/auth-pg-hba-conf.html](https://www.postgresql.org/docs/9.1/auth-pg-hba-conf.html)

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2021-04-13T09:05:17.353

大多数答案大多是正确的，但你需要注意一些小问题。我遇到的问题是我从未设置过 postgres 的密码，所以我无法登录允许我更改密码的 SQL 命令行。这些是我成功使用的步骤（请注意，大多数或所有命令都需要 sudo/root 用户）：

*   `pg_hba.conf`在您尝试连接的数据库集群的数据目录中 编辑。
    *   通过查看 systemd 命令行可以找到数据目录的文件夹，使用`systemctl status postgresql@VERSION-DB_CLUSTER`. 将 VERSION 替换为您的 PSQL 版本，将 DB_CLUSTER 替换为您的数据库集群的名称。如果它是自动创建的，这可能是主要的，例如。`postgresql@13-main`. 或者，我的 bash 在输入后提供了自动完成功能`postgresql@`，因此您可以尝试这样做或在所有服务列表 ( `systemctl -a`) 中查找 postgresql 服务。获得状态输出后，查找 CGroup 之后的第二个命令行，该命令行应该相当长，并以`/usr/lib/postgresql/13/bin/postgres`或类似开头（取决于版本、发行版和安装方法）。`-D`例如，您正在寻找之后的目录`/var/lib/postgresql/13/main`。
*   添加以下行：`host all all 127.0.0.1/32 trust`. 这允许所有数据库上的所有用户无条件地通过本地机器上的 IPv4 连接到数据库**，而无需输入密码**。这是一个临时修复，不要忘记稍后再次删除此行。为了确定，我注释掉了`host all all 127.0.0.1/32 md5`（md5可能被scram-sha-256替换），它对相同的登录数据有效，只需要密码。
*   重新启动数据库服务：`systemctl restart postgresql@...`再次使用您之前找到的确切服务。
*   检查服务是否正确启动`systemctl status postgresql@...`。
*   与 psql 连接，非常重要的是，**强制 psql 不要求输入密码**。根据我的经验，即使服务器不在乎，它也会要求您输入密码，并且如果您的密码错误，它仍然会拒绝您的登录。这可以通过`-w`标志来完成。完整的命令行如下所示：`sudo -u postgres psql -w -h 127.0.0.1 -p 5432`. 在这里，`postgres`是您的用户，您可能已经改变了它。`5432`是特定于集群的服务器的端口，如果您运行多个集群（例如我有 5434），可能会更高。
*   `\password`使用特殊命令更改密码。
*   **请记住删除密码忽略解决方法并重新启动服务器以应用配置。**

# javascript - Titanium 移动语句执行顺序

> ID：12720970
> 
> 赞同：0
> 
> 时间：2012-10-04T05:45:46.687
> 
> 标签：javascript, titanium, titanium-mobile

我有两个陈述，例如，

```
var image = selectPhoto();
uploadPhoto(image); 
```

我希望这些语句按顺序执行，但是这段代码不能以这种方式工作。两个语句同时调用（我猜这是由于多标题）。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:54:34.230

你的问题很抽象。你应该显示你的函数的代码。但是我认为您在函数中使用了 HTTPClient 。Titanium 语句按顺序执行，除了 xhr（HTTPClient 对象）。它总是异步工作，即将请求发送到服务器并执行下一条语句。我想你在这里可能有同样的问题。要解决它，您可以使用 javascript setTimout 函数或回调作为更高级的选项。

# jboss-esb - ESB 操作的条件执行

> ID：12720972
> 
> 赞同：2
> 
> 时间：2012-10-04T05:45:59.650
> 
> 标签：jboss-esb

JBoss ESB 中有没有一种方法可以有条件地执行操作。

如果传入的 XML 具有标记值为 true 的属性 resubmitmode，我的要求是有条件地转换 XML。有没有办法用 SmooksAction 做到这一点。如果标签值为假，我想避免转换。真的

我做了很多研发，但无法让它发挥作用。想到的一种替代方法是添加转换/XSLT 规则，但不确定这是否可行

粘贴 jboss-esb.xml 的片段。smooks-res.xml 包含转换规则。

```
 <property name="smooksConfig" value="/smooks-res.xml"/>

 <!-- property name="reportPath" value="/zap/smooks-report.html" / -->

</action> 
```

我正在使用 JBOSS SOA 企业平台 5.3 和 ESB 4.11

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T03:37:13.967

我会看一下 ContentBasedRouter，然后根据您的情况进行路由。fun_cbr**快速**入门应该提供一个很好的例子来说明如何做到这一点。

# sitecore - 如何编辑 Sitecore 桌面快捷方式？

> ID：12720974
> 
> 赞同：0
> 
> 时间：2012-10-04T05:46:03.710
> 
> 标签：sitecore

有人知道如何编辑 Sitecore 桌面快捷方式的名称吗？我正在使用[Advanced System Reporter](http://trac.sitecore.net/AdvancedSystemReporter)模块，并从那里创建一个桌面快捷方式，但现在我无法更改项目的名称。

我知道您可以右键单击 Sitecore 桌面快捷方式并选择属性以更改链接的信息....但是如何更改快捷方式的名称？

属性有一个“名称”字段，即使我更改它，快捷方式也不会更改（即使在桌面刷新后）。

我也尝试更改属性上的“链接”字段，但链接消失了。

这些是否存在于核心数据库中的某个地方？我可以找回我刚刚丢失的那个（通过更改链接字段）吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-07T12:34:25.733

通过进一步研究，我发现对于普通链接，可以通过右键单击链接，选择“属性”并更改“名称”字段来编辑名称。

不幸的是，当此名称属性更改时，通过 Advanced System Reporter 生成的链接不会在桌面上更新。

这些桌面快捷方式的链接似乎是核心数据库中的项目和 aspnet_profile DB 表中用户配置文件中的值的组合（也在核心中，但只能通过 SQL 查看）。该值存储在 PropertyValueBinary 字段中，顾名思义，该字段都是二进制的，不能（或不应该）编辑。

解决此问题的一种方法是：-

1.  创建桌面链接，默认情况下将调用它（即“SalesReport”）。
2.  在 Sitecore 中打开核心数据库，然后导航到*/sitecore/content/Applications/Advanced System Reporter/Links*。然后找到您的用户名的文件夹。
3.  找到为链接创建的项目（在本例中为“SalesReport”），并将“显示名称”字段的值更改为您希望链接调用的任何内容（即“5 月销售报告”。

**注意：**您可能还想更改项目的名称，这样它就不会在将来创建的其他桌面链接中丢失，并且以后更容易找到。在这种情况下，您需要：-

1.  返回桌面，右键单击快捷方式并选择属性。
2.  手动将“链接”字段的末尾更改为您要调用该项目的名称（即，将其从“销售报告”更改为“五月销售报告”。）
3.  单击确定后，快捷方式将消失。这是意料之中的。
4.  再次在 Sitecore 中打开核心数据库，找到您正在更改的项目。（即*/sitecore/content/Applications/Advanced System Reporter/Links/SalesReport*
5.  将名称更改为您在步骤 2 中更改的名称。

该链接将重新出现在桌面上，并具有正确的名称，并且将来在 Sitecore DB 中很容易找到。

# shell - 特殊形式 ${varname:-text} 在 shell 脚本中有什么作用？

> ID：12720976
> 
> 赞同：0
> 
> 时间：2012-10-04T05:46:12.200
> 
> 标签：shell

我遇到了这个表达式 ${varname:-text}，以及其他 3 个类似的形式：

`${varname-text}`

`${varname:=text}`

`${varname:?text}`

好像是文本替换，这个表达式怎么用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:02:57.993

POSIX shell的[标准文档](http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_02)解释了这些特殊的参数扩展格式：

```
${parameter:-word} 
```

> **使用默认值**。如果参数未设置或为空，则替换单词的扩展；否则，应替换参数的值。

```
${parameter:=word} 
```

> **分配默认值**。如果参数未设置或为空，则应将单词的扩展分配给参数。在所有情况下，应替换参数的最终值。只能以这种方式分配变量，而不是位置参数或特殊参数。

```
${parameter:?[word]} 
```

> **如果为 Null 或 Unset 则指示错误**。如果参数未设置或为空，则应将 word 的扩展（或如果省略 word 则指示未设置的消息）写入标准错误，并且 shell 以非零退出状态退出。否则，应替换参数的值。交互式外壳不需要退出。

那里给出了示例和更完整的表格。所有符合 POSIX 的 shell 都必须支持它们。有些，[如`bash`](http://www.gnu.org/software/bash/manual/bashref.html#Shell-Parameter-Expansion)，包括其他格式。

# javascript - jquery分页插件的使用方法

> ID：12720981
> 
> 赞同：2
> 
> 时间：2012-10-04T05:46:36.170
> 
> 标签：javascript, jquery, css, pagination

我已经创建了一个网页来显示数组元素，如何使用分页插件来显示这些内容每页 2 项，我尝试了 jquery.pajinate.js 和其他一些插件，但我还没有弄清楚如何使用它，帮助我使用任何分页插件来解决这个问题..任何指导和帮助表示赞赏..！

这是显示数组元素的网页：http: [//jsfiddle.net/ztruc/](http://jsfiddle.net/ztruc/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:53:57.800

请参考这个[小提琴](http://jsfiddle.net/pintu31/wtc5A/3/)

我刚刚添加`$('.message').hide().slice(0, 2).show(); //slice(startElement, endElement);`了分页。通过这种方式，您可以对您的网站实施分页。

# html - 使用 URI 与相对路径引用/链接文件，哪个更好？

> ID：12720983
> 
> 赞同：0
> 
> 时间：2012-10-04T05:46:49.053
> 
> 标签：html, web

对于我的网页[http://www.example.com/homepage.html](http://www.example.com/homepage.html)链接静态资源（例如 CSS 文件）的最佳方式是什么？

*   [http://www.example.com/css/base.css](http://www.example.com/css/base.css)
*   [http://example.com/css/base.css](http://example.com/css/base.css)
*   /css/base.css

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T05:59:04.590

两者都不是更好。

将链接文档移动到其他位置可以幸免于难。另一个将在将整棵树移动到不同位置时幸存下来。

在大多数情况下，后者更有用（因为它允许链接在环境（开发、登台、测试、生产）之间工作），但您的需求可能会有所不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:04:57.627

相对路径是最好的使用方式。

例如：[http](http://www.example.com) ://www.example.com - 绝对路径

相对路径

```
 var style="css/base.css";
    var style1="css/base1.css"; 
```

然后，绝对路径+样式；或绝对路径+style1。我们可以在没有硬编码的情况下改变相对路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T06:18:36.893

对于内部提供的资源，通常您会使用相对 URL，原因由 Quentin 所述（相应地被赞成）。

但是，绝对 URL 在您应该注意的一些重要场景中很有用，例如：

*   当您使用[CDN](http://en.wikipedia.org/wiki/Content_delivery_network#Traditional_commercial_CDNs)（内容交付网络）更快地提供静态文件（例如您在问题中提到的 CSS 文件）时。这些是由您以外的其他服务器提供的，因此您必须完全指定位置。
*   当您需要更改协议时。最常见的情况是切换到 https，例如，用于登录和购买等操作。
*   如果您将链接放入电子邮件中，那么相对路径当然不会去任何地方。这与加载 CSS 文件无关，因为样式在 HTML 电子邮件中是内联的，但仍然是需要考虑的情况，例如图像。

# java - 哪个是调用所需 servlet 的最佳方法

> ID：12720985
> 
> 赞同：2
> 
> 时间：2012-10-04T05:47:03.903
> 
> 标签：java, servlets, httpclient

我有一个桌面应用程序，客户端可以从中添加新用户，可以与其他用户聊天等...我现在有 2 个选项：

1.  要创建一个处理程序 servlet，它将根据请求获取发布请求，处理程序 servlet 将调用所需的 servlet（例如`loginServlet`，`chatServlet`等`addUserServlet`）
2.  直接从客户端调用所需的 servlet，例如直接向 chatServlet 请求`chat`，`login`和`addUser`

请记住，我的客户端是一个桌面应用程序。哪种方法有利于实施和未来的增强。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T07:22:59.690

好吧，我认为你应该通过使用**前端控制器模式**来使用第一种方法。

它应该只包含一个为所有请求提供集中入口点的**SINGLE SERVLET 。这个 servlet 会将所有请求****委托**给所需的 servlet。

您只需执行以下操作即可在应用程序中应用前端控制器模式：

```
 <servlet>
       <servlet-name>////servlet name: FrontController</servlet-name>
       <servlet-class>////Fully qualified servlet name e.g: org.chat.controller.FrontController</servlet-class>
       </servlet>
      <servlet-mapping>
      <servlet-name>FrontController<servlet-name>
      <url-pattern>/*</url-pattern>
<servlet-mapping> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-04T06:41:43.230

我无法从问题中清楚地理解您的问题。但我建议您从方法 2 开始并开始实施。
如果您遇到任何具体问题，请在此处发布。

# python - 将月份整数拆分为数字，反复求和，直到得到一位整数

> ID：12720990
> 
> 赞同：0
> 
> 时间：2012-10-04T05:47:24.703
> 
> 标签：python, string, integer, digits, dayofmonth

我正在尝试采用两位数的整数来表示月份中的某天，通过将单个数字中的每个字符并将它们加在一起以形成一个新数字，将这些数字拆分为个位数。

例如，如果 day 的值是整数 29，那么程序会将其转换为字符串并将它们拆分为“2”和“9”。然后程序会将 2 和 9 转换为整数并将它们加在一起等于 11。由于这仍然是一个两位数，因此程序将循环并将 1 和 1 相加，最终将打印的值为 2。根据下面的代码（主要是最后约 5 行），如果我输入 day=29，那么我不断得到的最终答案是 4，这是不正确的。有人可以帮我解决这个问题：

请注意有人提到我没有重新输入 dayStringSum 并且我不小心删除了他们的帖子，我完全不确定这意味着什么。

```
 dayString = str(int(day))
# Turns value day into int
dayStringA = int(str(dayString[0]))
# If day=29 then this variable represents the 2...
dayStringB = int(str(dayString[1]))
# ...and this represents the 9
dayStringSum = (dayStringA + dayStringA)
while(dayStringSum >=10):
    dayStringA = int(str(dayStringSum[0]))
# Since daystringsum is now 11, this code changes the value of daystringA into a new value of 1, likewise for below.
    dayStringB = int(str(dayStringSum[1]))

print(dayStringSum) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T05:51:47.677

`dayStringSum`是整数，所以`dayStringSum[n]`没有意义。你会想先把它变成一个字符串，然后看看它的各个字符。

此外，您没有在`while`循环内为 dayStringSum 分配新值，因此如果在进入循环时它 >= 10，它将保持不变，从而导致无限循环。你说你得到了 4 的最终结果，但我完全看不到你将如何得到最终结果。

尝试这样的事情：

```
daySum = int(day)  # Ensure that day is an int before we start.

while(daySum >= 10):
    newString = str(daySum)
    dayIntA = int(newString[0])
    dayIntB = int(newString[1])
    daySum = dayIntA + dayIntB  # Will be checked on next iteration.

print(daySum) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T06:08:27.620

我猜你得到错误答案的原因是你`dayStringA + dayStringA`在你打算添加时添加`dayStringA + dayStringB`，即它只是一个错字。

您需要修复的另一件事是，在循环中，您不会更改`dayStringSum`. 到目前为止，这还不是问题，因为`dayStringSum`在您的示例中小于 10，因此循环永远不会首先执行，但是一旦您修复了该错字，您将获得一个无限循环并且程序将永远不会停止.

这就是我的意思：假设你的一天是`29`. 当你到达这条线时：

```
while(dayStringSum >=10): 
```

那么`dayStringSum`将是 11。所以你设置`dayStringA`为 1，

```
 dayStringA= int(str(dayStringSum[0])) 
```

也`dayStringB`到 1。

```
 dayStringB= int(str(dayStringSum[1])) 
```

然后就是循环的结束。所以 Python 回到这一行：

```
while(dayStringSum >=10): 
```

是什么`dayStringSum`？怎么，还是11点！你从来没有改变过它。所以 Python 将继续循环，一遍又一遍地执行相同的逻辑。

现在除此之外，还有很多事情使这段代码变得比它需要的复杂得多*。*我不打算通过它们（[代码审查](http://codereview.stackexchange.com)将是那个地方），但一般来说，`int`如果它们已经`int`是 s，你不需要将它们转换为 s，同样你不需要使用`str`on已经是字符串的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:46:03.413

更简单的方法是取数的模数 9

```
>>> print(29%9)
2 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T05:58:42.567

尝试`sum(map(int,"265"))`

将它们映射到整数并将它们求和......

```
>>> sum(map(int,"254"))
11 
```

或者

```
>>> sum(map(int,str(29)))
11 
```

哦，因为它的作业，我真的不能放弃答案....

但

它类似于

```
sum1=0
for integer in [1,2,3]: sum1 += integer
print sum1 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-04-06T21:38:36.113

```
day = 29

while day >= 10:
    day = sum(int(digit) for digit in str(day)) 
```

（此外，每当您对整数的各个数字进行重大操作时，`decimal.Decimal`它都是有用的，尤其是它 `Decimal(29).as_tuple().digits`为您提供的方法`(2, 9)`）。

# android - 在android Phonegap中设置连续的LocalNotification

> ID：12720991
> 
> 赞同：2
> 
> 时间：2012-10-04T05:47:31.800
> 
> 标签：android, cordova

我正在尝试为 android 中的 phonegap 项目设置在指定时间发出的警报。我以前也`LocalNotification`这样做过，效果很好，第一次发出警报。

当我收到警报时，我需要添加另一个通知，以便在链中发生这种情况。

我尝试调用`loadUrl()`调用脚本方法来添加另一个通知。但该方法并不触发。也尝试调用`LocalNotification`inside的 execute 方法`AlarmReceiver`，但是在这个阶段上下文变为空，因此导致 NullPointer 异常。

请帮我解决这个问题。

# iphone - 存储 iPhone 位置

> ID：12720995
> 
> 赞同：0
> 
> 时间：2012-10-04T05:47:45.003
> 
> 标签：iphone, objective-c, xcode, ipad, mkmapview

我正在尝试编写一个 iPhone 应用程序，只需按一下按钮即可存储用户的初始位置。然后，他们可以稍后按下一个按钮，该按钮将向他们显示与他们在 MapView 中的初始位置相关的最终位置。我怎样才能做到这一点？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T06:02:06.957

这是关于使用位置的迷你教程..

这里添加框架`CoreLocation`

首先在 .h 文件中设置委托，并将此行导入 .h 或在 .m 文件中添加此行`#import <CoreLocation/CoreLocation.h>`。

然后在 .m 中：

```
- (void)viewDidLoad {
    locationManager = [[CLLocationManager alloc] init];
    locationManager.delegate = self;
    locationManager.desiredAccuracy = kCLLocationAccuracyBest;
    [locationManager startUpdatingLocation];
}

-(void)locationManager:(CLLocationManager *)manager
   didUpdateToLocation:(CLLocation *)newLocation
          fromLocation:(CLLocation *)oldLocation
{
    CLLocationCoordinate2D here =  newLocation.coordinate;
    NSLog(@"%f  %f ", here.latitude, here.longitude);
} 
```

同样，当您想存储位置时，在您的按钮点击事件上只需像上面的方法一样获取 newLocation`locationManager`

每当 Core Location 有话要对你说时，这里的`locationManager`委托方法 `-(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation`方法都会被 ping 通，这应该每隔几秒钟发生一次。这些 CLLocation 对象包含有关准确性的信息，因此您可以筛选该方法中的优点。一定要打电话`[locationManager stopUpdatingLocation]`，然后`[locationManager release]`在某个时候！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T05:51:50.343

这是一个相当广泛的问题。

这个任务有几个部分：

1.  获取位置。
2.  将位置保存在某处。
3.  检索位置。

首先，看看[CLLocationManager](https://developer.apple.com/library/mac/#documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html)。

对于第二个和第三个，最简单的选项可能是[NSUserDefaults](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html)。

# html - JSON 格式的 HTML 响应

> ID：12720996
> 
> 赞同：1
> 
> 时间：2012-10-04T05:48:01.737
> 
> 标签：html, json, escaping

我有一个 JSON 文件，例如

```
[
   {
      "heading":"Apprenticeship Pathways",
      "image":"http:\/\/www.domain.co.uk\/dfdf\/dfdf/images\/content\/join_our_team\/01.png",
      "columns":[
         {
            "data":"<p>Curabitursapienligulasuscipitneccondimentu mneclaciniaavelitCraslaciniaodiositametvel itpellentesquefringillaPellentesquedapibus0 purusvitaemetusultricesultricesCrasvelorci mneclaciniaavelitCraslaciniaodiositametvel velitinhendreritarcicesultricesCrasvelorci5\. velitinhendreritarcicesultricesCrasvelorci5.<\\p>"
         }, 
```

问题是在输入列数据时，“<\p>”在屏幕上可见，即转义的斜杠没有被删除。

```
function json_request( url, callback ) {
    $.ajax({
        url: url,
        dataType: 'json',
        success: function( data ) {
            callback( data );
        },
        error : function(){
            callback( false );
        }
    });
}

function build_html( $obj ) {
    var $firstCol = $obj.columns.shift();
    var $columns = '';
    for( var i in  $obj.columns ) {
        $columns += '<div class="hori-con">';
        $columns += $obj.columns[i].data;
        $columns += '</div>';
    }
    var $return = 
        '   <li>' + 
        '       <div class="gridRow cf">' + 
        '           <div class="twelveCol last">' +
        '               <div class="cf hori-con-inner">' +
        '                   <div class="hori-con">' +
        '                       <img src="' + $obj.image + '">' +
        '                       <h3>' + $obj.heading + '</h3>' + 
                                $firstCol.data +
        '                       <a href="#" class="hori-open">open</a>' +
        '                   </div>' +
                            $columns +
        '               <div>' +
        '           </div>' +
        '       </div>' +
        '   </li>';
    return $return;
}

function filter_jobs(){
    $('#join_our_team .sub-heading-bar a.nav-box').bind($bind , function(){
        var $this = $(this),
            $qsKey = 'filter',
            $href = $this[0].href,
            $basename = $href.split('?' + $qsKey + '=')[1],
            $dataContainer = $('#joinOurTeamScroller ul.thelist');

        if( typeof $basename !== 'undefined' ) {
            json_request('./json/' + $basename + '.json', function( $data ){
                $html = '';
                if( $data !== false ) {
                    $.each( $data, function(key, val) {
                        $html += build_html( val );       
                    }); 
                }
                $dataContainer.html($html);
            });
        }
        return false;                                    
    });
} 
```

是否有这样做的标准化方法，还是我需要搜索和替换斜杠？