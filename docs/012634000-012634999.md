# StackOverflow 问答 12634000-12634999

# windows-8 - Windows RT 开发者平台

> ID：12634000
> 
> 赞同：0
> 
> 时间：2012-09-28T05:19:47.887
> 
> 标签：windows-8, windows-runtime, windows-rt

你能否让我清楚我可以将哪个开发平台用于 Windows RT 的 delevop 应用程序（不是完整的 Windows 8！）。Visual Studio 中是否有一些项目模板允许我在 c# 和 xaml 的开发过程中仅使用没有 .NET 的 WinRt。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:55:45.297

Visual C#/VB/C++/JS|Windows Store 应用程序模板（空白应用程序、网格应用程序、拆分应用程序）适用于将在 Windows RT 和任何其他 Windows 8 上运行的应用程序。您可以在 Windows RT 上使用 .NET，但如果你不想 - 你也可以使用 C++ 或 JavaScript。请注意，Windows RT 是运行在 ARM 平板电脑上的 Windows 的 SKU，而 WinRT 或 Windows Runtime 是 Windows 的新一代开发平台。另请注意，虽然 Windows 运行时的大多数部分只能由 Windows 应用商店应用程序使用，但有些部分可以由 Windows 应用商店和桌面应用程序使用，有些只能由桌面应用程序使用，我认为旧 WinAPI/Win32 的某些部分Windows Store 应用程序也可能可以访问。MSDN[文档](http://msdn.microsoft.com/en-us/library/windows/apps/br211377.aspx)说明了哪些 API 适用于哪些类型的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:49:38.913

您可以使用[适用于 Windows 8.0 的 Visual Studio 2012 Express](http://msdn.microsoft.com/en-us/windows/apps/br229516)。

[有关msdn](http://msdn.microsoft.com/library/windows/apps/br211386#part3_learntoolsandtemplates)的更多信息。

项目模板位于Visual Studio中的`Windows Store`类别下。`Visual C#``New Project`

# php - 用 PHP 阅读邮件？

> ID：12634002
> 
> 赞同：0
> 
> 时间：2012-09-28T05:19:49.947
> 
> 标签：php, email, pop3

我正在使用 pop3class 从 pop3 服务器检索邮件。当我打电话时

```
 $pop3->RetieveMessage($messageNumber,$header,$body,-1); 
```

我在 $header 和 $body 变量中收到消息的标题和正文。当我

```
Print_r($body); 
```

我在输出中有很多 HTML 代码。有人可以帮我在哪个类中处理收到的邮件，因为我不知道邮件的返回数据类型。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:24:13.887

我认为此链接可以帮助您获取收到的邮件

[http://ca.php.net/imap](http://ca.php.net/imap)

```
$mb = imap_open("{host:port/imap}","username", "password" );

$messageCount = imap_num_msg($mb);
for( $MID = 1; $MID <= $messageCount; $MID++ )
{
   $EmailHeaders = imap_headerinfo( $mb, $MID );
   $Body = imap_fetchbody( $mb, $MID, 1 );
   doSomething( $EmailHeaders, $Body );
} 
```

# javascript - 如何获得 2^x=8000 的 x？

> ID：12634005
> 
> 赞同：5
> 
> 时间：2012-09-28T05:20:09.597
> 
> 标签：javascript

> **可能重复：**
> [JavaScript 的 Math.pow 的对立面是什么？](https://stackoverflow.com/questions/4016213/whats-the-opposite-of-javascripts-math-pow)

```
2^x=i 
```

给定 i，我们如何使用 Javascript 计算 x？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-28T05:22:29.130

你想取8000的对数。JS有`Math.log`使用base的功能`e`，你想要base`2`所以你可以写`Math.log(8000) / Math.log(2)`得到8000的对数base 2，等于x。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:24:45.907

您需要 Math 对象的对数。它不提供以 2 为底的日志，因此进行转换：

```
var x = Math.log(8000) / Math.log(2); 
```

[对 javascript Math 对象的引用。](http://www.w3schools.com/jsref/jsref_obj_math.asp)

在更一般的情况下，我们这样计算 2^x = i：

```
var i; // Some number
var x = Math.log(i) / Math.log(2); 
```

# android - 首次更改前的地理位置识别

> ID：12634011
> 
> 赞同：0
> 
> 时间：2012-09-28T05:21:14.780
> 
> 标签：android, geolocation

```
LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
LocationListener ll = new mylocationlistener();
lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, ll); 
```

我发现使用上述代码更改位置时，onLocationChanged 函数可以正常工作。

```
///////CLASS  mylocationlistener
private class mylocationlistener implements LocationListener {
    //@Override
    public void onLocationChanged(Location location) {
        if (location != null) {
        Log.d("LOCATION CHANGED", location.getLatitude() + "");
        Log.d("LOCATION CHANGED", location.getLongitude() + "");
        Toast.makeText(MainActivity.this,
            location.getLatitude() + "" + location.getLongitude(),
            Toast.LENGTH_LONG).show();
        p = new GeoPoint((int)location.getLatitude(),(int)location.getLongitude());

       // p = new GeoPoint((int)8.538754,(int)76.950620);
        }
    }
    //@Override
    public void onProviderDisabled(String provider) {
    }
   // @Override
    public void onProviderEnabled(String provider) {
    }
   // @Override
    public void onStatusChanged(String provider, int status, Bundle extras) {
    }
    } 
```

但问题是我希望变量“p”填充当前位置，当程序启动时，即在第一次更改帮助之前！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:28:26.730

试试这个代码：

```
locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
// Define the criteria how to select the locatioin provider -> use
// default
Criteria criteria = new Criteria();
provider = locationManager.getBestProvider(criteria, false);
Location location = locationManager.getLastKnownLocation(provider);

// Initialize the location fields
if (location != null) {
  System.out.println("Provider " + provider + " has been selected.");
  onLocationChanged(location);
} else {
  latituteField.setText("Location not available");
  longitudeField.setText("Location not available");
  System.out.println("Location not avilable");
}
}

/* Request updates at startup */
@Override
protected void onResume() {
super.onResume();
locationManager.requestLocationUpdates(provider, 400, 1, this);
}

/* Remove the locationlistener updates when Activity is paused */
@Override
protected void onPause() {
super.onPause();
locationManager.removeUpdates(this);
}

@Override
public void onLocationChanged(Location location) {
double lat = (double) (location.getLatitude());
double lng = (double) (location.getLongitude());
latituteField.setText(String.valueOf(lat));
longitudeField.setText(String.valueOf(lng));
Log.i(TAG, "Lattitude:" +lat);
Log.i(TAG, "Longitude:" +lng);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:50:27.923

在你得到修复之前，你可以使用粗略的位置。检查此链接： [http ://devdiscoveries.wordpress.com/2010/02/04/android-use-location-services/](http://devdiscoveries.wordpress.com/2010/02/04/android-use-location-services/)

# r - 如何在 R 的闭包中查询符号的值？

> ID：12634012
> 
> 赞同：3
> 
> 时间：2012-09-28T05:21:30.350
> 
> 标签：r, closures, environment

如何在下面的 R 代码中查询 foo 的 x 值？

```
make.foo <- function() {
    x <- 123
    function() x * 3
}

foo <- make.foo()

# now get foo's x 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T05:28:01.640

一个函数会有一个环境

从`?`function``

> 闭包有三个组件，它的形式（它的参数列表），它的主体（'Usage' 部分中的表达式）和它的环境，它在使用闭包时提供评估框架的外壳。

所以你可以`get`从那个环境中（或使用列出的对象`ls`）

```
get('x', envir = environment(foo))
## [1] 123 
```

或者如果您想知道环境中的所有对象

```
ls(envir = environment(foo))
## 'x' 
```

如果你想分配给那个环境（即 change `x`）

```
assign('x', 24, envir = environment(foo))

foo()
## 72 
```

您甚至可以将其从环境中移除

```
rm(x, envir = environment(foo))
foo()
## Error in foo() : object 'x' not found 
```

然后使用全局分配的`x`

```
x <- 3
foo()
# [1] 9 
```

并重新分配给`function`'s 环境

```
assign('x', 123, envir = environment(foo))
foo()
## [1] 369 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T07:15:55.000

如果你想在一个对象的环境中寻找一些东西而不是***其他地方，***那么使用`get`with `inherits=FALSE`。否则，您将冒险在函数的父环境中找到东西。`make.foo`使用上述示例：

```
> z=999
> get("x",environment(foo))
[1] 123
> get("z",environment(foo))
[1] 999
> get("x",environment(foo),inherits=FALSE)
[1] 123
> get("z",environment(foo),inherits=FALSE)
Error in get("z", environment(foo), inherits = FALSE) : 
  object 'z' not found 
```

第二个`get`表明，如果您尝试获取不在闭包环境中的东西（如果它出现在父环境中），您可能不会收到错误。这可能会导致奇怪的错误。随着`inherits=FALSE`您立即出现错误。

# shell - 使用 ls 列出所有不匹配模式的文件

> ID：12634013
> 
> 赞同：13
> 
> 时间：2012-09-28T05:21:44.080
> 
> 标签：shell, command-line, sed, terminal, ls

> **可能重复：**
> [在 unix/linux shell 中进行模式匹配时，如何使用反向或负通配符？](https://stackoverflow.com/questions/216995/how-can-i-use-inverse-or-negative-wildcards-when-pattern-matching-in-a-unix-linu)

我已阅读 的`man`页面`ls`，但找不到列出所有与文件选择器**不**匹配的选项。你知道如何执行这个操作吗？

例如：假设我的目录是这样的：

```
> ls
a.txt b.mkv c.txt d.mp3 e.flv 
```

现在我想做一些做以下事情

```
> ls -[SOME_OPTION] *.txt
b.mkv d.mp3 e.flv 
```

有这样的选择吗？

如果没有，有没有办法将输出`ls`传递到另一个函数（可能`sed`），只显示我想要的函数？

我不确切知道如何做到这一点，但我想象它会是这样的：

```
> ls | sed [SOMETHING] 
```

我真的应该学习如何使用`sed`,`awk`和`grep`，但我一直在理解如何编写正则表达式。我清楚地理解正则表达式的概念，但我对使用不同语法的正则表达式感到困惑。

任何帮助将非常感激！

**编辑：**

我忘了提到我正在运行 Mac OS X，因此这些功能可能与 unix/linux shell 的其他答案中讨论的功能略有不同（因此我对 , 和 有一些`sed`混淆`awk`）`grep`。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-09-29T04:49:08.257

这可能对你有帮助

```
ls --ignore=*.txt 
```

它不会显示您目录中的 .txt 文件。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-09-28T05:31:10.347

也许这个命令会帮助你

```
find ./ -maxdepth 1 ! -path "*txt" 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-09-28T05:25:03.230

```
ls|grep -v ".txt" 
```

这有帮助吗？

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-09-28T07:34:21.140

*ls*只是列出了它所呈现的参数。*在ls*看到之前`*.txt`被扩展，尝试.`a.txt c.txt`*`echo *.txt`*

 **要使用sed*执行您要求的操作，您可以从其输入中删除模式，例如：

```
ls | sed '/\.txt$/d' 
```

将删除所有以 . 结尾的行`.txt`。

使用*bash*和*zsh*您可以让 shell 进行反向扩展，使用 bash 它将是：

```
ls !(*.txt) 
```

zsh：

```
ls *~*.txt 
```

请注意，两个 shell 都需要`shopt -s extglob`使用*bash*和*zsh*启用扩展 glob选项`setopt extendedglob`。

 ** * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-09-28T05:31:07.790

一种使用方式`find`：

```
find . -maxdepth 1 -type f -not -name "*.txt" -printf "%f\n" 
```**

# php - 我不能在 Magento 模块定义中定义像“something/somethingelse”这样的路由器吗？

> ID：12634017
> 
> 赞同：0
> 
> 时间：2012-09-28T05:22:19.727
> 
> 标签：php, zend-framework, magento, magento-1.6

我正在尝试在 Magento 中创建我的第一个模块。

我不能做的事情是按照我想要的方式定义模块的路由。

我想创建一个路由“网关/iphone”，但它不起作用。是否可以在路由定义中使用“/”？

这是我的模块定义：

```
<?xml version="1.0" encoding="UTF-8"?>
<config>    
    <modules>
        <Nacho_GatewayIphone>
            <version>0.1.0</version>
        </Nacho_GatewayIphone>
    </modules>
    <frontend>
        <routers>
            <nacho_gatewayiphone>
                <use>standard</use>
                <args>
                    <module>Nacho_GatewayIphone</module>
                    <frontName>gateway_iphone</frontName>
                </args>
            </nacho_gatewayiphone>
        </routers>  
    </frontend>
</config> 
```

它在 /gateway_iphone 中运行良好，但是如果我将`<frontName>`值更改为`<frontName>gateways/iphone</frontName>`尝试点击 /gateways/iphone 时它​​不会运行。

是否可以在路由器定义中使用“/”字符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:48:34.557

由于 Magento 将 URL 解析为 get `router/controller/action`，因此您不能真正使用**/**指定路由器，因为它会违反上述结构。

答案很简单，为什么不将*网关*指定为路由器，将*iphone*指定为控制器呢？您仍然需要为您的模块设置一个控制器，因此`IndexController`您可以`IphoneController`使用`gateways`作为路由器创建，而不是创建，并`gateways/iphone`在 url 中获得所需。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T11:11:20.387

如果您需要更复杂的 URL，那么可以使用基于正则表达式的重写方法。例如，您可以将以下内容添加到您的 config.xml：

```
<global>
    <rewrite>
        <nacho_gatewayiphone_example>
            <from><![CDATA[#^/such/a/long/example/for/an/url/path/#]]></from>
            <!-- Assuming that "gateways" is now the frontName -->
            <to>/gateways/example_controller_name/</to>
        </nacho_gatewayiphone_example>
        <!-- Other rewrites for nacho here -->
    </rewrite>
</global> 
```

有关更多详细信息，请参阅[此 wiki](http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/how_to_overload_a_controller)或有关更多信息，请参阅[此博客](http://alanstorm.com/magento_dispatch_rewrites_intro)。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-28T05:50:21.187

您应该必须将您的模块从 重命名`Nacho_GatewayIphone`为`Nacho_Gateway_Iphone`.

对文件夹结构和类名进行必要的调整。

# oracle - 将 Oracle PL/SQL 函数转换为 DB2 函数

> ID：12634026
> 
> 赞同：0
> 
> 时间：2012-09-28T05:23:01.907
> 
> 标签：oracle, plsql, db2

我们有一个返回 SYS_REFCURSOR 的 Oracle PL/SQL 函数，我们希望将此函数转换为 DB2 数据库。甲骨文功能：

```
create or replace function queryuser(p_tbname   in varchar2, p_user   in varchar2) 
return sys_refcursor 
is 
    l_cursor    sys_refcursor; 
    v_sql    varchar2(2000); 
begin 
    v_sql := 'select  productid  from ' || p_tbname || 'where user = :user' ; 
    open l_cursor for v_sql using p_user; 
    return l_cursor; 
end; 
```

请建议我如何将其转换为 DB2？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T11:57:19.910

根据 DB2 文档，它们支持 Ref Cursor。 [了解更多](http://pic.dhe.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.apdv.plsql.doc/doc/c0053892.html)。

# repeater - 如何在单击一次按钮时保存编辑框值

> ID：12634030
> 
> 赞同：0
> 
> 时间：2012-09-28T05:23:19.060
> 
> 标签：repeater, xpages

我在重复控件中有一个 EditBox 控件，它的重复限制为 30。如何在单击一次按钮时保存所有编辑框值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T13:37:01.617

由于您的字段绑定到数据源.... `save()`是一个全局函数，可以保存所有绑定字段，无论数据源如何。

# python - 在 OpenERP 中调用另一个表单的方法返回值

> ID：12634031
> 
> 赞同：3
> 
> 时间：2012-09-28T05:23:24.447
> 
> 标签：python, openerp

目前，您可以将 OpenERP 的返回值设置为以下值，以获取要关闭的当前表单：

```
return {'type':'ir.actions.act_window_close' } 
```

是否有一个返回值可以打开另一个表单？例如，在产品表单中，按钮可以调用销售表单或向导表单。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-28T05:47:47.863

以下是一个示例函数。也许对你有帮助

```
def open_popup(self, cr, uid, ids, context=None):
    mod_obj = self.pool.get('ir.model.data')
    if move.parent_production_id:
        res = mod_obj.get_object_reference(cr, uid, 'module_name', 'id_specified_for_the_view')
        return {
            'name': 'Provide your popup window name',
            'view_type': 'form',
            'view_mode': 'form',
            'view_id': [res and res[1] or False],
            'res_model': 'your.popup.model.name',
            'context': "{}",
            'type': 'ir.actions.act_window',
            'nodestroy': True,
            'target': 'new',
            'res_id': record_id  or False,##please replace record_id and provide the id of the record to be opened 
        } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-04T21:18:51.437

有一个函数可以为您提供给定 xml_id 的 act_window。

```
def open_popup(self, cr, uid, ids, context=None):
    if move.parent_production_id:
        win_obj = self.pool.get('ir.actions.act_window')
        res = win_obj.for_xml_id(cr, uid, 'module_name', 'id_specified_for_the_view', context)
        return res 
```

# apache-pig - 带有空值的猪连接

> ID：12634036
> 
> 赞同：1
> 
> 时间：2012-09-28T05:23:51.647
> 
> 标签：apache-pig

在实现[如何在 PIG latin 中优化 group by 语句中提供的解决方案时？](https://stackoverflow.com/questions/10732456/how-to-optimize-a-group-by-statement-in-pig-latin)我发现所有具有一个空列的行都被删除了，这是 Pig 中的预期行为。我想知道下面的代码是否有效？

```
A = B join by ( Bcol1 is null?'UNK',Bcol2 is null?'UNK',Bcol2 is null?999),
C join by ( Ccol1 is null?'UNK',Ccol2 is null?'UNK',Ccol2 is null?999) 
```

我收到一些解析错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T14:06:04.503

PIG 是一种数据流脚本语言，添加额外的 FOREACH GENERATE 来修复 null 不会导致额外的 map reduce 作业。

```
B = foreach B generate ....., (Bcol1 is null) ? 'UNK' : Bcol1 as Bcol1, (Bcol2 is null) ? 'UNK' : Bcol2 as Bcol2, (Bcol3 is null) ? 999 : Bcol3;
C = foreach C generate ....., (Ccol1 is null) ? 'UNK' : Ccol1 as Ccol1, (Ccol2 is null) ? 'UNK' : Ccol2 as Ccol2, (Ccol3 is null) ? 999 : Ccol3;
A = join B by (Bcol1, Bcol2, Bcol3), C by (Ccol1, Ccol2, Ccol3); 
```

# php - 存储打印的 id 标签并使用它作为数组编号插入 php

> ID：12634044
> 
> 赞同：0
> 
> 时间：2012-09-28T05:24:46.900
> 
> 标签：php, jquery, arrays

在下面的代码中，我试图获取生成的 Div ID 标签并将其动态插入到底部 #inline div 的数组编号中。可能的？

```
<?php if ($top_fundraisers && is_array($top_fundraisers)): ?>
        <?php foreach ($top_fundraisers as $index => $fundraiser): ?>

           <a href="#inline1" class="fancybox">
            <div id="name<?php print htmlentities($index + 1); ?>">
              <?php print htmlentities($fundraisers['member_name']); ?> *STORE THIS ID*
            </div>
           </a>

        <?php endforeach;?>
    <?php endif; ?>

<div id="inline1" display: none;">
      <?php print htmlentities($top_fundraisers['name+number(generated above)'] ['member_name']); ?>*GENERATE STORED ID* HERE
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T21:19:45.917

保留一个 IDs 数组 - 在 foreach 循环中使用 IDs 作为键并存储成员名称。

```
ids[$index+1]=$fundraisers['member_name'] 
```

然后将 foreach 与此数组一起使用。

# sql - Oracle SQL：为每个 id 显示 n 行

> ID：12634058
> 
> 赞同：2
> 
> 时间：2012-09-28T05:26:22.747
> 
> 标签：sql, oracle, plsql, top-n

我有一个包含 2 列 ID 和 URLS 的表，每个 ID 都有几个 URLS。我只想为每个 ID 提取最多 5 个 URL。如何在 Oracle SQL 中执行此操作？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-28T05:30:43.007

试试这个，

```
SELECT ID, URL
FROM
    (
        SELECT ID, URL,
               ROW_NUMBER() OVER (PARTITION BY ID ORDER BY URL DESC) RN
        FROM   tableName
    ) a
WHERE RN <= 5 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!4/ebda0/3)

# c++ - 如何在向量的前面添加结构？

> ID：12634061
> 
> 赞同：4
> 
> 时间：2012-09-28T05:27:06.693
> 
> 标签：c++, vector, std

```
int main ()
{
    vector<int> myvector (3,100);

    int myarray [] = { 501,502,503 };
    myvector.insert (myvector.begin(), myarray, myarray+3);

    return 0;
} 
```

这样可行。

这不会：

```
typedef struct
{
    float latitude;
    float longitude;
} coordinate;

int main ()
{
    std :: vector <coordinate> previousPoints;

    coordinate start;
    start.latitude  = 22.3;
    start.longitude = 33.4;
    previousPoints.insert (previousPoints.begin (), start, 1);

    return 0;
} 
```

错误：

```
anisha@linux-trra:~> g++ y.cpp 
y.cpp: In function ‘int main()’:
y.cpp:18:58: error: no matching function for call to ‘std::vector<coordinate>::insert(std::vector<coordinate>::iterator, coordinate&, int)’
/usr/include/c++/4.5/bits/vector.tcc:106:5: note: candidates are: std::vector<_Tp, _Alloc>::iterator std::vector<_Tp, _Alloc>::insert(std::vector<_Tp, _Alloc>::iterator, const value_type&) [with _Tp = coordinate, _Alloc = std::allocator<coordinate>, std::vector<_Tp, _Alloc>::iterator = __gnu_cxx::__normal_iterator<coordinate*, std::vector<coordinate> >, typename std::_Vector_base<_Tp, _Alloc>::_Tp_alloc_type::pointer = coordinate*, value_type = coordinate]
/usr/include/c++/4.5/bits/stl_vector.h:858:7: note:                 void std::vector<_Tp, _Alloc>::insert(std::vector<_Tp, _Alloc>::iterator, std::vector::size_type, const value_type&) [with _Tp = coordinate, _Alloc = std::allocator<coordinate>, std::vector<_Tp, _Alloc>::iterator = __gnu_cxx::__normal_iterator<coordinate*, std::vector<coordinate> >, typename std::_Vector_base<_Tp, _Alloc>::_Tp_alloc_type::pointer = coordinate*, std::vector::size_type = long unsigned int, value_type = coordinate]
anisha@linux-trra:~> 
```

错误在说什么？这两个例子有什么不同？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-28T05:31:17.903

没有将值作为第二个参数的三参数[std::vector::insert方法。](http://en.cppreference.com/w/cpp/container/vector/insert)如果你想在前面插入，你可以试试

```
previousPoints.insert(previousPoints.begin(), start); 
```

顺便说一句，如果您要经常在大型向量上执行此操作，您可能需要考虑使用 an`std::deque`而不是，并使用它的[push_front](http://en.cppreference.com/w/cpp/container/deque/push_front)方法，该方法具有复杂的时间复杂度。

# objective-c - 目标 C：音频在模拟器上有效，但在设备上无效

> ID：12634063
> 
> 赞同：1
> 
> 时间：2012-09-28T05:27:15.490
> 
> 标签：objective-c, ios, core-audio, avaudioplayer, audio-recording

我的应用程序中可能有一个原因，当我尝试在 iPhone 设备中构建它时，我听不到声音，我也无法使用设备的音量按钮.. 而当我在模拟器中构建它时，它可以完美运行..我尝试使用下面的代码，但它也不起作用..有人可以在这里帮助我..谢谢..

```
 UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;
AudioSessionSetProperty (kAudioSessionProperty_OverrideAudioRoute,sizeof (audioRouteOverride),&audioRouteOverride);

  NSString *soundPath = [[NSBundle mainBundle] pathForResource:@"sounds" ofType:@"wav"];
AVAudioPlayer *soundPlay = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:soundPath] error:NULL];
soundPlay.volume = 1.0;
self->puzzSFX = soundPlay;
soundPlay.numberOfLoops = 0;
if ([soundPlay currentTime] != 0) [soundPlay setCurrentTime:0];
[soundPlay play];
soundPlay.delegate = self; 
```

PS：我尝试通过耳机调节音量然后poo它会开始工作..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:36:09.273

问题可能与从 NSString 路径到 NSURL 的转换有关，您需要检查特殊 URL 字符是否被转义（模拟器中可能没有的字符，但仅在设备上）。尝试这样做：

```
NSURL *fileURL = [NSURL URLWithString:[soundPath stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]; 
```

然后用这个 NSURL 初始化你的 AVAudioPlayer。

# c# - 从 CRM 2011 REST 服务 API 使用 ATOM 提要的推荐方法是什么

> ID：12634065
> 
> 赞同：0
> 
> 时间：2012-09-28T05:27:28.533
> 
> 标签：c#, dynamics-crm

此代码从 CRM 2011 REST 服务 API 接收 ATOM 提要。它有效，但似乎非常冗长，但我找不到更有效的方式来使用响应。我将不胜感激任何建议，或者如果我的问题需要更具体，我会问这是推荐的方法吗？到目前为止，我在 CRM SDK 或 MSDN 中对此一无所知。

```
XmlDocument xml = new XmlDocument();
xml = xrm.GetXMLData(query);
XDocument xdoc = XDocument.Parse(xml.OuterXml);
XNamespace d = "http://schemas.microsoft.com/ado/2007/08/dataservices";
XNamespace m = "http://schemas.microsoft.com/ado/2007/08/dataservices/metadata";
XNamespace atom = "http://www.w3.org/2005/Atom";
foreach (var entity in xdoc.Descendants(atom + "entry"))
{
    var psi = entity.Element(atom + "content")
                     .Element(m + "properties")
                      .Element(d + "new_name");

    var status = entity.Element(atom + "content")
                        .Element(m + "properties")
                         .Element(d + "new_ExternalStatus");

    UpdateExternalDBStatus(psi.Value, status.Value);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:35:17.210

从内存中，API 是基于 OData 的。由于 OData 的设计（及其提供的元数据），您实际上可以使用 Web 服务样式“添加服务参考”或命令行工具，Visual Studio 将自动构建查询服务所需的类。OData 还提供集成查询机制，因此如果需要，这些类还提供 LINQ 样式接口。

这篇博文更详细地解释了使用 OData：http: [//crdevelopment.net/2011/06/11/ebayodat/](http://crdevelopment.net/2011/06/11/ebayodat/)

# linq-to-entities - sql 多列 Group by,order by to linq's

> ID：12634072
> 
> 赞同：0
> 
> 时间：2012-09-28T05:28:07.777
> 
> 标签：linq-to-entities

请帮助我如何将下面的 sql 查询转换为 vb.net 中的 Linq 语句

```
select   distinct PATIENT_DIAGNOSIS_DESCRIPTION, PATIENT_DIAGNOSIS_CODE,
         PATIENT_DIAGNOSIS_ACCOUNT,PATIENT_DIAGNOSES_STATUS 
from     MF_PATIENT_DIAGNOSES 
where    PATIENT_DIAGNOSIS_ACCOUNT= '31'
AND      UPPER(PATIENT_DIAGNOSES_STATUS) <> 'ENTRY ERROR' 
GROUP BY PATIENT_DIAGNOSIS_DESCRIPTION, PATIENT_DIAGNOSIS_CODE, 
         PATIENT_DIAGNOSIS_ACCOUNT,PATIENT_DIAGNOSES_STATUS 
ORDER BY PATIENT_DIAGNOSIS_DESCRIPTION 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:04:05.670

我用 C# 写过，你可以把它转换成 VB

您可以根据列类型更改字段类型，例如 item.Field 到 Field

```
 var result = (from item in MF_PATIENT_DIAGNOSES.AsEnumerable()
                   where item.Field<int>("PATIENT_DIAGNOSIS_ACCOUNT") == 31 && item.Field<string>("PATIENT_DIAGNOSES_STATUS").ToUpper() != "ENTRY ERROR"
                   orderby item.Field<string>("PATIENT_DIAGNOSIS_DESCRIPTION")
                   select new
                   {
                       PATIENT_DIAGNOSIS_DESCRIPTION = item.Field<string>("PATIENT_DIAGNOSIS_DESCRIPTION"),
                       PATIENT_DIAGNOSIS_CODE = item.Field<string>("PATIENT_DIAGNOSIS_CODE"),
                       PATIENT_DIAGNOSIS_ACCOUNT = item.Field<string>("PATIENT_DIAGNOSIS_ACCOUNT"),
                       PATIENT_DIAGNOSES_STATUS = item.Field<string>("PATIENT_DIAGNOSES_STATUS "),
                   }).Distinct(); 
```

我使用这个[http://www.developerfusion.com/tools/convert/csharp-to-vb/](http://www.developerfusion.com/tools/convert/csharp-to-vb/)转换器转换它

```
Dim result1 = (From item In MF_PATIENT_DIAGNOSES.AsEnumerable() Where item.Field(Of Integer)("PATIENT_DIAGNOSIS_ACCOUNT") = 31 AndAlso item.Field(Of String)("PATIENT_DIAGNOSES_STATUS").ToUpper() <> "ENTRY ERROR"Order By item.Field(Of String)("PATIENT_DIAGNOSIS_DESCRIPTION")New With { _
Key .PATIENT_DIAGNOSIS_DESCRIPTION = item.Field(Of String)("PATIENT_DIAGNOSIS_DESCRIPTION"), _
Key .PATIENT_DIAGNOSIS_CODE = item.Field(Of String)("PATIENT_DIAGNOSIS_CODE"), _
Key .PATIENT_DIAGNOSIS_ACCOUNT = item.Field(Of String)("PATIENT_DIAGNOSIS_ACCOUNT"), _
Key .PATIENT_DIAGNOSES_STATUS = item.Field(Of String)("PATIENT_DIAGNOSES_STATUS ") 
}).Distinct() 
```

# jsf - JSF - 使用 1 个命令按钮显示 2 组消息

> ID：12634073
> 
> 赞同：1
> 
> 时间：2012-09-28T05:28:19.983
> 
> 标签：jsf, primefaces

是否可以有 2 组消息？我有一个启用 primefaces 的 jsf 表单，我想在按下单个命令按钮时在 p:messages 中显示错误消息并在 p:growl 中显示成功。那可能吗？

我已经尝试了各种组合，但它不像：

```
FacesContext.getCurrentInstance().addMessage("myForm:messagesGrowl", message); 
```

消息始终显示在 p:messages 和 p:growl 上。

我的命令按钮：

```
<p:commandButton style="float: right;" value="Send" action="#{myAction.execute()}" ajax="true" update="messages, messagesGrowl"></p:commandButton> 
```

谢谢，
czetsuya

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:46:53.383

**采用**

```
<p:messages autoUpdate="true" globalOnly="true" redisplay="false" /> 
```

**`globalOnly`**

> 如果为 true，则仅显示没有 clientIds 的 facesmessages。
> 默认为假。

**`redisplay`**

> 定义是否应显示已呈现的消息。默认为真。

# c++ - 如何从硬盘中获取 Dll 路径？

> ID：12634077
> 
> 赞同：1
> 
> 时间：2012-09-28T05:28:26.977
> 
> 标签：c++

我使用 RegCreateKeyEx 在 HKEY_LOCAL_MACHINE 下创建了一个子项，其中我保存了名称、类型数据（硬盘上 dll 的路径）。1.我已将 value 设置为使用 Regsvr32 注册的 Dll 的名称。2\. 我已使用 RegSetValueEx 将类型设置为 REG_SZ。现在，我需要将数据设置为 Dll 的路径（硬盘路径）。谁能帮我吗？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:36:20.947

当您想要执行此操作时，您是否正在执行 DLL*中*的代码？假设是这种情况，当您的 DLL 首次加载时，会向 DllMain 传递一个模块句柄。将此模块句柄传递[`GetModuleFileName`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683197%28v=vs.85%29.aspx)给您的 DLL 的完整路径。

# .net - 在运行时编写和编译源代码？

> ID：12634078
> 
> 赞同：1
> 
> 时间：2012-09-28T05:28:37.877
> 
> 标签：.net, c#-4.0

> **可能重复：**
> [编译并运行动态代码，而不生成 EXE？](https://stackoverflow.com/questions/3188882/compile-and-run-dynamic-code-without-generating-exe)
> [如何以编程方式在 C#.Net 中将 .cs 文件编译为 .dll？](https://stackoverflow.com/questions/3423423/how-to-compile-the-cs-file-into-dll-in-c-net-programtically)

在 .NET 4.0 中，我想做以下事情。

1.  在运行时编写 cs 文件。
2.  在运行时编译 cs 文件。
3.  在运行时创建这些文件的实例。

有可能吗？怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T05:39:44.537

是的。有可能的。要创建和编译类，您可以使用[CodeDOM](http://msdn.microsoft.com/en-us/library/y2k85ax6.aspx)。然后你可以创建实例在你的代码中使用它们。

你为什么要这样做？如果您可以提供更多信息，那么有人可以提供更好的选择。

# ruby - 恢复 net::ERR_CONNECTION_SET 机械化 Ruby

> ID：12634079
> 
> 赞同：0
> 
> 时间：2012-09-28T05:28:45.243
> 
> 标签：ruby, web-crawler, mechanize, net-http, mechanize-ruby

我正在使用 Mechanize for ruby​​ 创建一个网络爬虫。我将一次运行 200k 的批次，我希望能够设置一个站点无效的实例变量，并在 get 请求返回错误时继续下一个站点。例如，我正在抓取一个站点，该站点在针对它触发 http get 请求`Error 101 (net::ERR_CONNECTION_RESET): The connection was reset.`并且我的应用程序崩溃时返回。

```
 def crawl  
    agent = Mechanize.new
    agent.log = Logger.new('out.log')
    agent.user_agent_alias = 'Mac Safari'
    begin
      page = agent.get(@url)
    rescue Mechanize::ResponseCodeError => exception
      if exception.response_code == '400' or exception.response_code == '500'
        @isActive = false
        return
      end
    end
  end 
```

有没有我应该捕获的异常，以便我可以从 ERR_CONNECTION_RESET 中恢复，或者你们过去使用的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:33:37.677

为什么不抓住一切？

```
begin
  page = agent.get(@url)
rescue
  @isActive = false
end 
```

# jquery - 如何使用 jQuery ajax 来编辑文本？

> ID：12634081
> 
> 赞同：-1
> 
> 时间：2012-09-28T05:28:46.643
> 
> 标签：jquery

如何使用表单提交和 ajax 来编辑文本 Name & Sex ?? 当我单击第一个提交按钮时，它只会更改第一个姓名和性别如果单击第二个，只需更改第二个姓名和性别！怎么做 ？

HTML & JS

```
<!-- Form1 -->
<form action="index.php" class="form_edit" >
    Name: <span class="display">Tom</span><br>
    Sex: <span class="display_sex">Male</span><br>
    <input type="text" name="name" value="" /><br>
    <input type="text" name="sex" value="" /><br>
    <input name="submit" type="submit" value="Submit" /><br><br>
</form>
<!-- Form2 -->
<form action="index.php" class="form_edit" >
    Name: <span class="display">Mary</span><br>
    Sex: <span class="display_sex">Female</span><br>
    <input type="text" name="name" value="" /><br>
    <input type="text" name="sex" value="" /><br>
    <input name="submit" type="submit" value="Submit" /><br><br>
</form>
<!-- Form3 -->
<form action="index.php" class="form_edit" >
    Name: <span class="display">John</span><br>
    Sex: <span class="display_sex">Male</span><br>
    <input type="text" name="name" value="" /><br>
    <input type="text" name="sex" value="" /><br>
    <input name="submit" type="submit" value="Submit" /><br><br>
</form>

<script type="text/javascript">

    $('.form_edit').submit(function(){
        $.ajax({
           type: "POST",
           url: "edit.php",
           data: $(this).serialize(),
           success: function(data)
           {
                $('.display').text(data);

            }
         });
        return false;
    }); 
</script> 
```

PHP

```
<?php
if($_POST['name']){

    $return = '{"name":"' . $_POST['name'] . '"}';
    echo $return;

}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:39:53.803

您必须为成功处理程序中的 jQuery 选择器提供适当的上下文。这样，它会影响 class 的所有元素`display`。

```
$('.form_edit').submit(function(){
    var form = this; // <<< added
    $.ajax({
       type: "POST",
       url: "edit.php",
       data: $(this).serialize(),
       success: function(data)
       {
            form.find('.display').text(data); // <<< modified

        }
     });
    return false;
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-28T05:40:08.423

你能试试下面的代码吗？

```
$('.form_edit').submit(function(e) {

    e.preventDefault();

    $.ajax({
       type: "POST",
       url: "edit.php",
       data: $(this).serialize(),
       success: function(data)
       {
            $('.display').text(data);

        }
     });
}); 
```

# android - 仅在 xmlns 属性上设置 KSOAP2 前缀

> ID：12634082
> 
> 赞同：1
> 
> 时间：2012-09-28T05:28:48.600
> 
> 标签：android, ksoap2

使用**KSOAP2**，我可以在 SOAP 信封中生成这个 XML：

```
<v:Envelope 
    xmlns:i="http://www.w3.org/1999/XMLSchema-instance"
    xmlns:d="http://www.w3.org/1999/XMLSchema"
    xmlns:c="http://schemas.xmlsoap.org/soap/encoding/"
    xmlns:v="http://schemas.xmlsoap.org/soap/envelope/">
    <v:Header />
    <v:Body>
        <ApplyItem xmlns="http://www.myurl.com/">
            <Item type="User" action="get" select="login_name"/>
        </ApplyItem>
     </v:Body>
 </v:Envelope> 
```

**我可以通过设置信封.dotNet = false; 来获取这个 XML；**

```
<v:Envelope 
    xmlns:i="http://www.w3.org/1999/XMLSchema-instance"
    xmlns:d="http://www.w3.org/1999/XMLSchema"
    xmlns:c="http://schemas.xmlsoap.org/soap/encoding/"
    xmlns:v="http://schemas.xmlsoap.org/soap/envelope/">
    <v:Header />
    <v:Body>
        <n0:ApplyItem xmlns:n0="http://www.myurl.com/">
            <n0:Item type="User" action="get" select="login_name"/>
        </n0:ApplyItem>
    </v:Body>
</v:Envelope> 
```

**我需要做什么才能获得相同的 XML，仅在 xmlns 属性上具有“n0”前缀，如下所示**

```
<ApplyItem xmlns:n0="http://www.myurl.com/">
     <Item type="User" action="get" select="login_name" />
</ApplyItem> 
```

**我的代码如下**

```
public void TestWebService() {
/*xmlVersionTag = "";
* NAMESPACE = "http://www.myurl.com/";
* SOAPaction = "ApplyItem";
* MYSERVER = "http://myServer/webservice.aspx";
* DATABASE = "dbName";
* AUTHUSER = "admin";
* AUTHPASSWORD = "pwd"; */
SoapObject request = new SoapObject(NAMESPACE, SOAPaction);

SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                                            SoapEnvelope.VER11);
envelope.dotNet = true;
envelope.setAddAdornments(false);
envelope.implicitTypes = true;
envelope.addMapping(null, "Item", new String().getClass());

SoapObject aml = new SoapObject(NAMESPACE, "Item");
aml.addAttribute("type", "User");
aml.addAttribute("action", "get");
aml.addAttribute("select", "login_name");
request.addSoapObject(aml);
envelope.setOutputSoapObject(request);

HttpClient client = new DefaultHttpClient();

try {
    callWS(client, MYSERVER, SOAPaction, envelope);
    SoapPrimitive response = (SoapPrimitive) envelope.getResponse();
    Log.i("Webservice Output", response.toString());

    } catch (Exception e) {
        e.printStackTrace();
    } 
return;
} 
```

CallWS 使用带有 Http 标头的 HttpClient 进行连接，并从 soap 信封发布请求数据，并将响应解析回信封输入。

**这是代码的那一部分。**

```
public void callAras(HttpClient httpClient, 
       String url, String soapAction, SoapEnvelope envelope) 
       throws IOException, XmlPullParserException {
if (soapAction == null) {
    soapAction = "\"\"";
 }
 byte[] requestData = createRequestData(envelope);
 String requestDump = new String(requestData);

 HttpPost method = new HttpPost(url);

 method.addHeader("SOAPAction", soapAction);
 method.addHeader("AUTHUSER", AUTHUSER);
 method.addHeader("AUTHPASSWORD", AUTHPASSWORD);
 method.addHeader("DATABASE", DATABASE);

 HttpEntity entity = new ByteArrayEntity(requestData);
 method.setEntity(entity);
 HttpResponse response = httpClient.execute(method);
 InputStream inputStream = response.getEntity().getContent();
 parseResponse(envelope, inputStream);

 inputStream.close();
 } 
```

**我收到的故障代码是：**

```
SOAP-ENV:Server.TagItemIsNotFoundInRequestException
There is no tag <Item> in request. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T03:46:13.763

下面是与 Web 服务一起工作的请求 XML 的几件事。请注意，“n0”前缀已从 Item 元素中删除。

```
<v:Envelope 
    xmlns:i="http://www.w3.org/1999/XMLSchema-instance"
    xmlns:d="http://www.w3.org/1999/XMLSchema"
    xmlns:c="http://schemas.xmlsoap.org/soap/encoding/"
    xmlns:v="http://schemas.xmlsoap.org/soap/envelope/">
    <v:Header />
    <v:Body>
        <n0:ApplyItem xmlns:n0="http://www.myurl.com/">
            <Item type="User" action="get" select="login_name"/>
        </n0:ApplyItem>
    </v:Body>
</v:Envelope 
```

我犯的错误是使用 SoapObject 来定义 Item 元素，而不是使用 SoapPrimitive 类来定义它。代码更正如下：

```
envelope.dotNet = false;
envelope.setAddAdornments(false);
envelope.implicitTypes = true;

SoapPrimitive amlItem = new SoapPrimitive(NAMESPACE, "Item", "");
amlItem.addAttribute("type", "User");
amlItem.addAttribute("action", "get");
amlItem.addAttribute("select", "login_name");
request.addProperty("Item", amlItem);
envelope.setOutputSoapObject(request); 
```

一旦请求生效，我需要更改响应的演员表

```
SoapPrimitive response = (SoapPrimitive) envelope.getResponse(); 
```

到下面来处理KSOAP返回的'anytype'。

```
Object response = (Object) envelope.getResponse(); 
```

# android - 在android中使用通用图像加载器缩放后图像视图模糊

> ID：12634088
> 
> 赞同：0
> 
> 时间：2012-09-28T05:29:31.413
> 
> 标签：android, image-processing, universal-image-loader

我想在水平浏览器中显示一组图像。我使用了通用图像加载器一切都很好。但是缩放后，即使是大图像，图像质量也会下降。

图片尺寸为1000*1000

我已经配置了以下设置

```
Options options = new DisplayImageOptions.Builder()
        .showImageForEmptyUri(R.drawable.ic_launcher)
        .cacheOnDisc()
        .cacheInMemory()
        .imageScaleType(ImageScaleType.POWER_OF_2)
        .build();

config = new ImageLoaderConfiguration.Builder(ctx)
        .defaultDisplayImageOptions(options)
        .build();
ImageLoader.getInstance().init(config); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-28T10:27:13.653

通用图像加载器将缩小的图像保存在内存中以节省内存。计算每个缩小图像的大小，它取决于该图像的目标 ImageView（考虑`android:layout_width`, `android:layout_height`, `android:maxWidth`,`android:maxHeight`参数, `android:scaleType`, 设备屏幕尺寸）。

默认情况下，每个图像的最大目标大小是设备的屏幕大小。因此，您的图像尺寸与设备屏幕尺寸相似，并且在缩放时会看到质量不佳。

因此，您应该在 ImageView 中加载全尺寸图像（以支持缩放而不损失质量）。 **为内存中的缓存图像设置自己的最大大小**：

```
ImageLoaderConfiguration config = new ImageLoaderConfiguration.Builder(getApplicationContext())
        ...
        .memoryCacheExtraOptions(1200, 1000) // maximum width and height of your images
        ...
        .build(); 
```

在这种情况下，您将在内存中加载大型位图，因此**我建议不要将它们缓存在内存中**。禁用这些图像的内存缓存（不要`.cachenMemory()`在 DisplayImageOptions 中调用）并设置`.imageScaleType(ImageScaleType.EXACT)`. 您可以全局禁用它们（in `.defaultDisplayImageOptions(...)`）或为每个显示任务禁用它们（`imageLoader.displayImage(...)`）

**防止OOM：**

1.  禁用这些图像的内存缓存（不要`.cachenMemory()`在 DisplayImageOptions 中调用）
2.  放`.imageScaleType(ImageScaleType.EXACT)`
3.  设置`.threadPoolSize(1)`（最后一次尝试）
4.  回收适配器中的位图：

    ```
    private class ImagePagerAdapter extends PagerAdapter {
        ...
        @Override
            public void destroyItem(View container, int position, Object object) {
            View view = (View) object;
            ((ViewPager) container).removeView(view);
            ImageView imageView = (ImageView) view.findViewById(R.id.image);
            BitmapDrawable bd = (BitmapDrawable) imageView.getDrawable();
            if (bd != null) {
                Bitmap bmp = bd.getBitmap();
                if (bmp != null) {
                    bmp.recycle();
                }
            }
        }
        ...
    } 
    ```

# javascript - 在javascript中创建内容滑动的翻转内容

> ID：12634090
> 
> 赞同：2
> 
> 时间：2012-09-28T05:29:40.857
> 
> 标签：javascript, jquery, html, css

我目前正在学习 javascript，当您单击正在滑动的容器时，我想滑动不同的 div 容器以及翻转每个滑动 div 容器内的内容。

我按照 [滑动内容](http://www.dynamicdrive.com/dynamicindex17/featuredcontentglider.htm)中显示的示例创建了一个内容滑动 div，并且我还有一个使用翻转内容中提供的链接[翻转内容](http://dev.jonraasch.com/quickflip/examples/)的示例。我已经集成了它们，但是内容的翻转似乎不起作用，当我尝试单独进行它们时，它工作正常。

任何有关这方面的帮助将不胜感激，

谢谢

******编辑* *** *** 我不知道如何使用jsfiddle，但有些人是如何做到这一点的，因为我不知道如何在js fiddle中创建文件夹并放置我的文件，javascript和css没有引用源文件，任何帮助关于这一点将不胜感激
基本思想如我的[链接](http://jsfiddle.net/samantha/jLjPJ/1/)所示，**

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:29:48.920

如果你需要做自定义的东西，最好学习 CSS3 而不是尝试使用插件。MDN 有关于 CSS3[过渡](https://developer.mozilla.org/en-US/docs/CSS/Using_CSS_transitions)（动画）和[转换](https://developer.mozilla.org/en-US/docs/CSS/transform)（对于翻转，它是您想要的 3D 旋转）的优秀文章。

这是一个同时进行滑动/翻转的演示（仅限 Webkit；您必须添加其他供应商前缀才能使其在 Firefox、IE 等上工作）。

[演示](http://jsfiddle.net/7Hwtt/)

**HTML**

```
<div class="container">
    <img src="http://lorempixel.com/400/200/food/1/" />
    <img class="slider" src="http://lorempixel.com/400/200/food/2/" />
</div>

<input value="flip" id="flip" type="button" />
<input value="slide" id="slide" type="button" />
<input value="both" id="both" type="button" /> 
```

**CSS**

```
.container { 
    width: 400px;
    height: 200px;
    overflow: hidden;
}
.slide {
  margin-top: -200px;  
}
.flip {
    -webkit-transform: rotate3d(0,1,0,90deg);
}
img {
    -webkit-transition: all 2s;
}
div {
    -webkit-transition: all 1s;
} 
```

**​JS**

 **```
var stop = false;
$(".container").each(function(i,e) {
    e.addEventListener('webkitTransitionEnd', function(e) {
    if (stop === false) {
        $(this).toggleClass("flip");    
        stop = true;
    }
    });
});

function flip(e) { 
    stop = false;
    $(".container").toggleClass("flip"); 
}
function slide() { 
    $(".slider").toggleClass("slide"); 
}
function both() {
    flip();
    slide();
}

$(document).on("click", ".container", function() {
    flip.call(this);
    slide(this);
});

$("#flip").click(flip);
$("#slide").click(slide);
$("#both").click(both); 
```

​</p>****

# entity-framework-4 - 抽象数据库表的数据库表函数的对象模型

> ID：12634091
> 
> 赞同：1
> 
> 时间：2012-09-28T05:29:41.377
> 
> 标签：entity-framework-4

我试图在一组“虚拟表”上实现 EF 模型，这些“虚拟表”由表值函数和基础数据库表上的存储过程实现。

“虚拟表”由字符串值参数化，我们称之为@mapping。这个想法是表值函数使用@mapping 将变体映射回各种数据库表。虚拟表之间有关联。@mapping 值对于整个模型在上下文的生命周期中是相同的。

我一直在想如何让它发挥作用。我已将定义查询的 EntitySet 指定为“select * from tvf_myentity('a mapping')”，但由于它定义的查询未参数化，因此每个变体都需要一个 ES。然后我尝试使用 MEST 模式，但找不到如何指定关联的示例。

那么：有没有办法在打开上下文之前动态更改定义查询？还是有其他方法可以解决这个问题，也许是通过概念模型？

我还想过更改生成的代码以替换 Navigation 属性以调用 ExecuteStoreQuery 而不是使用 RelatonshipManager。是否可以自定义关系管理器？

对上述问题的回答，或任何其他关于如何处理的想法，将是最受欢迎的。谢谢。

# vb.net - InvalidCastException 与 HtmlUnit 中的 XPath

> ID：12634095
> 
> 赞同：0
> 
> 时间：2012-09-28T05:30:13.133
> 
> 标签：vb.net, xpath, nunit, htmlunit

```
<Test()> _
Public Sub TableVisibility()
    Dim table As HtmlTable = page.getByXPath("/html/body//table/")
    Assert.AreEqual(1, table.getRowCount())
End Sub 
```

上面的代码是使用 VS 2003 for VB.Net 中使用的与 Nunit 集成的 Html Unit 的测试。我在声明 HtmlTable 的行中收到无效的强制转换异常。我正在使用 XPath，因为该表没有 id，我没有计划为表放置 id 以便我练习使用 XPath。任何想法运行这个没有失败？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-22T02:41:34.160

如果不确定是什么类型，请执行

```
Dim table = page.getByXPath("/html/body//table/").GetType 
```

尽管函数 GetType() 没有在 Intellisense 中显示，但它确实有效。

# java - 按下图标时可以启动Android应用程序吗？

> ID：12634096
> 
> 赞同：-1
> 
> 时间：2012-09-28T05:30:14.397
> 
> 标签：java, android

我已将我的项目构建为 .apk 文件，然后将其安装到我的设备中。我的步骤是：

1）在应用程序抽屉中按下一个图标，主活动已启动。

2）按一些动作去第二个活动

3）按主页按钮

4) 再次按图标

我的期望是第二个活动应该恢复，但它只是重新启动主要活动。

如何解决我尝试将 LaunchMode 设置为的问题

android:launchMode="singleTask"

android:launchMode="singleTop"

但它不起作用。

这是我在 Manifest.xml 文件中的设置

```
 <activity
        android:name=".auction.MySplashScreen"
        android:configChanges="orientation"
        android:label="@string/app_name"
        android:launchMode="singleTask"
        android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
            </activity> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T05:38:33.043

从您的清单文件中查看，您的问题是由于您设置的 android:launchMode 属性。您应该将其设置为默认值，或者您也可以避免设置它。使用这种方式可以获得所需的行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T05:49:39.220

在清单文件中，如果您已经声明了任何带有意图过滤器的活动，该活动具有主要动作和类别启动器，那么这就是您启动应用程序的第一个活动或主要活动。

现在在任何 android 智能手机应用程序中都从两种方式开始。

1）主屏幕/启动器屏幕
行为：现在，如果您在此处按下任何图标，那么启动器将看到应用程序的清单文件并查找具有意图操作启动器和主的活动，然后它将调用该活动。

2）最近的应用程序/长按主页按钮
行为：您打开的任何最近的应用程序都将显示在此处，Android 将拥有该应用程序的所有跟踪记录，当您按下任何图标时，该应用程序将显示最新活动你浏览过

* * *

因此，您的行为是默认行为，其中没有任何错误/故障。这就是它应该的方式。

* * *

解决您的问题：

如果您只想在应用程序生命周期中显示一次启动屏幕，那么您需要有一些布尔值并将其存储在 sharedprefrences 中并使用它来检查您是否是第一次的天气..如果不是第一次那么直接调用下一个使用意图的活动。

# ruby-on-rails - 我应该在哪里存储像 Ruby on Rails 中的州或城市这样的静态列表？

> ID：12634098
> 
> 赞同：2
> 
> 时间：2012-09-28T05:30:25.850
> 
> 标签：ruby-on-rails

如果可能，我想阻止访问数据库。这是一个很少更改的城市和州列表，将在项目开始时填充并由应用程序用于格式化和查找验证这些位置。

到目前为止，我的研究：

*   配置/初始化程序

*   .yml 文件

*   数据库但缓存它（我不想打数据库）

有点困惑，所以想要性能和约定的最佳方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:10:28.343

我建议采用以下两种方式之一：

*   手动创建一个 ruby​​ 对象，其中包含数据并可以回答相关问题：

    ```
    class Cities
      def self.data
        {
          1: 'New York',
          2: 'Boston'
        }
      end

      def self.find_name_by_id(id)
        data[id]
      end
    end 
    ```

    这意味着手工做更多的事情，而不是让 ActiveRecord 通常给你的所有东西都“免费”。或者...

*   如果您确定需要 ActiveRecord 的所有花里胡哨，您也可以为此使用 gem：[https](https://github.com/zilkey/active_hash) ://github.com/zilkey/active_hash 。它可以执行您想要的操作，并且可以将数据存储到散列或 yaml 文件中的对象中。它将进行关联并提供人们习惯于 ActiveRecord 的对象方法。

# objective-c - Adwhirl 测试广告问题

> ID：12634101
> 
> 赞同：0
> 
> 时间：2012-09-28T05:30:48.943
> 
> 标签：objective-c, ios, adwhirl

在我的应用程序中，我集成了 ad-whirl，在 ad-whirl 设置中，我配置了 3 个广告网络，如 iad、ad-mob 和 Millennial Media，但广告仅来自 ad-mob 网络。即使我在 ad-whirl 的广告网络设置中关闭了 iad 和 ad-mob 网络。

我已经集成了所有 3 个广告网络 sdk

![在此处输入图像描述](../Images/5786e6c2d007d5e54137759440d11be3.png)

我已经在 adwhirlViewController 中返回了这段代码

```
-(void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:YES];

    adView=[AdWhirlView requestAdWhirlViewWithDelegate:self];

    [self.view addSubview:adView];  
}

- (void)adWhirlDidReceiveAd:(AdWhirlView *)adWhirlView {
    NSLog(@"Ad received");
    CGSize adSize = [adView actualAdSize];
    NSLog(@"Net work Name %@",[adWhirlView mostRecentNetworkName]);
    CGRect newFrame = adView.frame;
    newFrame.size = adSize;

    newFrame.origin.x = (self.view.bounds.size.width - adSize.width)/ 2;

    newFrame.origin.y=385;
    NSLog(@"frame size %f,%f",newFrame.origin.x,newFrame.origin.y);
    adView.frame = newFrame;

}

- (NSString *)adWhirlApplicationKey {
        // return your SDK key  
    return kSampleAppKey;

}

-(void)adWhirlDidFailToReceiveAd:(AdWhirlView *)adWhirlView usingBackup:(BOOL)yesOrNo
{
    NSLog(@"Ad not Received");
    NSLog(@"Net work Name %@",[adWhirlView mostRecentNetworkName]);
    CGRect tempFrame = adView.frame;
    tempFrame.origin.y = -adView.frame.size.height;
    adView.frame = tempFrame;

} 
```

但广告仅来自 admob。请指导我解决此问题。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T19:38:58.410

kSampleAppKey 映射到什么 SDK 密钥？您确定它与您设置广告展示位置时 AdWhirl 控制台给您的键对应吗？

# linux - 是否存在“本地文件路径感知文本编辑器”？

> ID：12634102
> 
> 赞同：0
> 
> 时间：2012-09-28T05:30:51.553
> 
> 标签：linux, plugins, editor, configuration-files

**是什么`local-file-path aware text editor`？**
我说`local-file-path aware text editor`，我的意思是具有此功能的文本编辑器：它可以识别文本文件中的本地文件路径，并且

1.  单击这些路径可以打开相应的文件。
2.  通过点击一些按钮打开所有相应的文件`open all included files`。

这与`<a>`html 中的类似。

应支持路径中的通配符，例如：

```
/home/XXX/test.txt
../test.txt
./*.text 
```

**为什么我需要这个功能？**
在linux中，大部分配置文件都是模块化的，也就是说一个主配置文件包含了很多模块化的配置文件，比如nginx、apache。

有了这个功能，另一个功能`search all in buffer`会将常规文本编辑器变成方便的配置文件编辑器。

**我的问题：**

1.  有没有这个功能的编辑器？如果不，
2.  是否有任何编辑器提供扩展我可以为此编写插件？

你怎么看？

# magento - 如何使用 OAuth-Signpost 和 Apache HttpComponents 对 RESTfull 应用程序的 POST 请求进行身份验证？

> ID：12634110
> 
> 赞同：2
> 
> 时间：2012-09-28T05:31:29.183
> 
> 标签：magento, rest, oauth, apache-httpcomponents, signpost

我正在使用 OAuth-Signpost 1.2 来验证对 Magento RESTful 应用程序的请求。

GET 请求很容易使用 HttpURLConnection 来实现，但据我所知，对于 POST 请求，我还必须使用像 Apache HttpComponents HttpClient 这样的库。但是，我无法找出正确的方法。

我目前的代码如下：

```
public static void try2(OAuthConsumer consumer , String API_URL, String postInput) throws Exception{
    DefaultHttpClient httpClient = new DefaultHttpClient();
    HttpPost postRequest = new HttpPost(API_URL);

    try {
        StringEntity input = new StringEntity(postInput);
        input.setContentType("application/json");
        postRequest.setEntity(input);
        consumer.sign(postRequest);

        HttpResponse response = httpClient.execute(postRequest);

        if (response.getStatusLine().getStatusCode() != 201) {
            System.out.println("Failure. Code: " + response.getStatusLine().getStatusCode());
        }

    } catch (UnsupportedEncodingException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

但我得到的只是一个错误 500。

以更一般的方式，我的问题是：如何使用 signpost 对 RESTful 应用程序的 POST 请求进行签名？

# linux - 将 -rdynamic 链接器选项添加到 gcc/g++ 会影响性能吗？

> ID：12634114
> 
> 赞同：21
> 
> 时间：2012-09-28T05:31:57.127
> 
> 标签：linux, gcc, g++

我想在应用程序崩溃时获取堆栈跟踪。我知道 -rdynamic 选项可以使用函数名称获取完整的堆栈跟踪。但我担心是否会对我的应用程序的性能产生任何影响。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-28T08:59:43.743

是的，有，尽管它非常具体，通常不会引起关注。

-rdynamic 选项指示链接器将运行时通常不需要的符号添加到符号表中。这意味着动态链接器需要在运行时清除更多（可能更多）符号以进行符号解析。

具体来说，由于基于 GNU 的系统中的符号表查找是使用散列实现的，因此具有更多符号会增加发生散列冲突的机会。由于在哈希表中发生冲突的所有符号都位于一个列表中，因此运行时链接器需要遍历该列表并使用 memcmp 比较每个符号名称。具有更多符号的哈希意味着具有更长列表的冲突，因此解析每个动态符号将花费更多时间。

对于 C++ 来说，这种情况比 C 稍差，由于类名的原因，有大量前缀相同的符号名。

实际上，这只会影响第一次使用符号，因此，除非您的应用程序非常大并且包含大量符号，否则不会感觉到。

在极少数情况下，您的应用程序很大，可以使用预链接等技巧来克服开销[。](http://linux.die.net/man/8/prelink)

# silverlight-3.0 - 如何使用 Visual Studio 从 Silver Light 中的主页调用页面

> ID：12634115
> 
> 赞同：2
> 
> 时间：2012-09-28T05:32:02.187
> 
> 标签：silverlight-3.0

我已经使用 Visual Studio 在 Silver Light 中创建了一个页面，现在我希望它在单击按钮时从 Silver Light 主页调用，我将如何获得它...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:59:44.490

请试试这个

```
this.NavigationService.Navigate(new Uri("SelectionPage.xaml", UriKind.Relative)); 
```

# javascript - 带有 rails api 的简单主干示例

> ID：12634117
> 
> 赞同：0
> 
> 时间：2012-09-28T05:32:13.333
> 
> 标签：javascript, ruby-on-rails, api, rest, backbone.js

所以我使用 rails-api gem 创建了一个 rails api。我将我的主干代码放在默认的 public/index.html 中。我尝试了 json 链接并返回 json，它只是一个名为“entry”的模型，带有一个名为“content”的字段以及一些默认的 rails 字段。但是主干代码不起作用，您能发现这有什么问题吗？我只是想从返回的 json 中显示记录列表。

```
// 楷模
window.Entry = Backbone.Model.extend();
window.EntryCollection = Backbone.Collection.extend({
    型号：入口，
    网址：“http://localhost:3000/entries”
});

// 视图
window.EntryListView = Backbone.View.extend({
    标签名：'ul'，
    初始化：函数（）{
        this.model.bind("reset", this.render, this);
    },
    渲染：函数（事件名称）{
        _.each(this.model.models, function (entry) {
            $(this.el).append("
```

*   " + entry.get("内容") + ""); }， 这个）; 返回这个； } }); // 路由器 var AppRouter = Backbone.Router.extend({ 路线：{ ““：“列表” }, 列表：函数（）{ this.entryList = new EntryCollection(); this.entryListView = new EntryListView({model:this.entryList}); this.entryList.fetch(); $('#entries').html(this.entryListView.render().el); } }); var app = new AppRouter(); Backbone.history.start();

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T11:10:16.850

您能否检查 /entries 是否返回“结果”节点？也许你忘了 ActiveRecord::Base.include_root_in_json = false 在 Rails 中？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T13:37:58.373

在您的 AppRouter 代码中，您有以下行：

```
this.entryListView = new EntryListView({model:this.entryList}); 
```

然而，entryList 是一个集合，而不是一个模型，所以你必须像这样定义它：

```
this.entryListView = new EntryListView({collection:this.entryList}); 
```

同样，在您的 EntryListView 代码中，您有：

```
this.model.bind("reset", this.render, this);

...

_.each(this.model.models, function (entry) { 
```

应该变成：

```
this.collection.bind("reset", this.render, this);

...

_.each(this.collection.models, function (entry) { 
```

我不确定这是否就是一切，但这是唯一对我来说立即显而易见的事情。

编辑：添加了对 this.model 参考的添加更改

# javascript - 如何使用 ntwitter 停止和重新启动 Twitter 流

> ID：12634120
> 
> 赞同：4
> 
> 时间：2012-09-28T05:32:35.580
> 
> 标签：javascript, node.js, twitter, ntwitter

我是 node.js 的新手，所以请原谅这个简单的问题。我正在写一些标准的东西：一个使用 ntwitter 进入 twitter 并将东西保存在 mysql 上的 rest API。我遇到的问题是使用 ntwitter 断开连接并连接回 twitter。

我检查了一个与我的有点相似的问题，但仍然没有答案：[Restarting nodejs ntwitter twitter stream with different track keywords](https://stackoverflow.com/questions/9542941/restarting-nodejs-ntwitter-twitter-stream-with-different-track-keywords)

问题有两个方面：

1）如何检查它是否`twit.stream`还活着
2）如何杀死它/手动断开与 twitter 的连接

我正在使用`destroy`，但这似乎不起作用。代码的相关部分是：

```
if (values[0] == 'newStatusAdded') {
  console.log('Need to stop twitter listener');
  //check if twitter stream is running
  if (twit.stream) {
    twit.stream.destroy;
    debugger;
    console.log('Stopped twitter listener');
  } 
```

谢谢....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T12:07:06.813

我认为您在代码中的某处进行了如下设置：

```
twit.stream('statuses/sample', function(stream) {
  stream.on('data', function (data) {
    console.log(data);
  });
}); 
```

从回调中保存流变量，例如在`stream.on()`：

```
 twit.currentTwitStream = stream; 
```

这只是一个建议。也许您有一个中央配置对象，这将是当前流对象的更好位置。你`currentTwitStream`可以这样做：

1.  `currentTwitStream.readable`错误或关闭后为假。
2.  `currentTwitStream.destroy()`破坏流。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-10-26T03:34:44.180

我也面临这个问题。最终对我有用的是`stream.stop()`.

`.destroy()`等`.disconnect()`带来了各种错误，例如

> `.destroy`没有定义。

# php - 循环遍历具有多个连接的数组时创建更易于管理的数组的方法？

> ID：12634122
> 
> 赞同：0
> 
> 时间：2012-09-28T05:32:40.200
> 
> 标签：php, mysql, sql, cakephp, join

我有一个要传递给我的视图的数组，它与多个表连接。我们称之为数组`Submissions`。全部`submissions`包含`SubmissionVote`s，典型的数据`submission`对象如下所示：

```
 [1] => Array
        (
            [Submission] => Array
                (
                    [user_id] => 17
                    [title] => Yo mama so fat when she went to the movies she sat next to everyone
                    [source] => http://www.ahajokes.com/ym01.html
                    [slug] => yo-mama-so-fat-when-she-went-to-the-movies-she-sat-next
                    [category] => funny
                    [created] => 2012-09-26 21:00:35
                    [id] => 104
                )

            [User] => Array
                (
                    [id] => 17
                    [username] => bob_cobb
                )

            [SubmissionsVote] => Array
                (
                    [0] => Array
                        (
                            [id] => 323
                            [user_id] => 2
                            [submission_id] => 104
                            [vote_type] => up
                            [when] => 0000-00-00 00:00:00
                            [voted_ip] => 842844107
                        )

                    [1] => Array
                        (
                            [id] => 322
                            [user_id] => 17
                            [submission_id] => 104
                            [vote_type] => up
                            [when] => 0000-00-00 00:00:00
                            [voted_ip] => 1163843117
                        )

                )

            [SubmissionThumbnails] => Array
                (
                    [0] => Array
                        (
                            [id] => 6
                            [submission_id] => 104
                            [original] => http://www.ahajokes.com/g/smlogo.gif
                            [extension] => jpg
                            [slug] => http://www.ahajokes.com/g/smlogo.gif
                        )

                )

        ) 
```

现在，在我看来，我只是在做这个，并从中`foreach`获取：以及其他有用的东西。这一切都很好，但我希望能够以某种方式制作一个具有 up和 down数量的新对象（或同样直观的东西），这样我就可以像/ 。`$submission['Submission']['id']``$submission['Submission']['category']``vote_type``vote_type``$submission['Submission']['upVotes']``$submission['Submission']['downVotes']`

我正在 CakePHP 中加入，这是我的查询：

```
 $this->find('all', array(
                'fields' => array(
                    'Submission.user_id',
                    'Submission.title',
                    'Submission.source',
                    'Submission.slug',
                    'Submission.category',
                    'Submission.created',
                    'User.id',
                    'User.username'),
                'order' => 'Submission.created DESC')); 
```

我想这样做的唯一原因是因为在我看来，必须将所有赞成票和反对票加起来会很痛苦，更不用说马虎了。

我该如何改进呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:05:50.927

您可以尝试使用**虚拟字段**：[http](http://book.cakephp.org/2.0/en/models/virtual-fields.html) ://book.cakephp.org/2.0/en/models/virtual-fields.html 。

在您的`Submission`模型中，您将有类似的内容：

```
public $virtualFields = array(
    'up_count' => 'SELECT COUNT(*) FROM submission_votes AS up_count WHERE submission_id = Submission.id AND vote_type = "up"',
    'down_count' => 'SELECT COUNT(*) FROM submission_votes AS down_count WHERE submission_id = Submission.id AND vote_type="down"',
); 
```

在上面的示例中，`submission_votes`是`SubmissionVote`模型的数据库表名。请务必注意警告：[http](http://book.cakephp.org/2.0/en/models/virtual-fields.html#limitations-of-virtualfields) ://book.cakephp.org/2.0/en/models/virtual-fields.html#limitations-of-virtualfields 。

如果您只想操作数据数组，另一种选择可能是使用`Hash`类中的某些内容，例如`Hash::reduce`.

[http://book.cakephp.org/2.0/en/core-utility-libraries/hash.html#Hash::reduce](http://book.cakephp.org/2.0/en/core-utility-libraries/hash.html#Hash::reduce)

# javascript - 如何从 JavaScript 和正则表达式中的字符串中提取数字？

> ID：12634123
> 
> 赞同：0
> 
> 时间：2012-09-28T05:32:45.797
> 
> 标签：javascript, regex

使用javascript——我需要提取并检查出现在“jpg”文件扩展名之前的数字，在本例中为“300”。

var 文件名 = 2012_honda_odyssey_passenger-minivan_ex_s_oem_2_300.jpg

把这个数字拉出来的最好方法是什么——我总是可以假设它会在字符串中的最后一个“_”和最后一个“。”之间。在文件扩展名之前。

我猜我需要用正则表达式做点什么。像这样 ....

```
var num = parseInt(filename.match(/some-regex-here/), 10); 
```

**添加**

我确实想出了这个……但它看起来很笨拙。

```
var filename = "2012_honda_odyssey_passenger-minivan_ex_s_oem_2_300.jpg";
var num = parseInt(filename.split('_').splice(-1,1).toString().split(".").splice(0,1).toString(), 10); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:35:22.757

```
var filename = "2012_honda_odyssey_passenger-minivan_ex_s_oem_2_300.jpg";
var regex = /^.*_(\d+)\.jpg?$/;
var match = regex.exec(filename);
var number = Number(match[1]);

console.log(number); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:35:29.437

像这样的正则表达式：`_(\d+)\..+?$`应该允许您将数字匹配并提取到一个组中。上面的正则表达式应该匹配一个下划线 ( `_`) 后跟一个或多个数字 ( `\d+`)，然后是句点 ( )，句`\.`点后跟一些字母 ( `.+?`)，最后是字符串的结尾 ( `$`)。

然后，您可以参考[这个](https://stackoverflow.com/questions/432493/how-do-you-access-the-matched-groups-in-a-javascript-regex)先前的 SO 问题，以了解以后如何访问这些组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T05:35:31.487

```
var num=parseInt(filename.replace(/^.*?([0-9]+).jpg$/i,"$1"),10); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T05:36:29.747

避免正则表达式通常是最好的，除非您通常进行复杂的字符串模式匹配。像这样的东西会得到你想要的：

```
var num = +filename.substring(
  filename.lastIndexOf('_') + 1,
  filename.lastIndexOf('.')
); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-28T05:39:34.220

试试这个：

```
'2012_honda_odyssey_passenger-minivan_ex_s_oem_2_300.jpg'.match(/[0-9]+(?=\.jpg)/)[0] 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-09-28T05:37:59.763

我觉得正则表达式对于这么简单的事情来说太过分了，我会用这个：

```
var start = filename.lastIndexOf('_') + 1; 
var end = filename.lastIndexOf('.');
var num = parseInt(filename.substring(start, end), 10); 
```

# asp.net-mvc - ASP.NET 网页和 Razor 有什么区别？

> ID：12634124
> 
> 赞同：2
> 
> 时间：2012-09-28T05:32:52.040
> 
> 标签：asp.net-mvc, razor, webforms, asp.net-webpages

“网页”只是“剃刀”的另一个名称吗？还是为自 ASP.NET MVC3 以来一直使用的“Razor”添加了新功能？

如果 Web Pages 是 ASP.NET WebForm 和 MVC 之外的新事物，如何在 Visual Studio 中创建“Web Pages”项目？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T05:35:12.783

网页类似于 Web 表单，但语法简洁。

Razor 是视图页面上使用的语法（.cshtml 是 razor 扩展名）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T06:35:40.593

是的，Razor 只是一种语法，它提供了一种快速、平易近人、轻量级的方法，可以将服务器代码与 HTML 结合起来以创建动态 Web 内容。如果要在 Visual Studio 中创建“网页”项目，请按照教程[在 Visual Studio 中编写 ASP.NET 网页](https://www.asp.net/web-pages/overview/getting-started/program-asp-net-web-pages-in-visual-studio)中描述的步骤进行操作。这将为您提供有关在 Visual Studio 中逐步创建网页项目的详细信息，包括屏幕截图，这将使您的过程更容易。

# javascript - ASP:Checkbox Autopostback after change when the value has been changed when the value has been changed by Javascript

> ID：12634125
> 
> 赞同：2
> 
> 时间：2012-09-28T05:32:55.817
> 
> 标签：javascript, asp.net, checkbox

我有一个带有复选框和几个文本框的 ASP.NET 页面。

当用户取消勾选复选框时，我需要进行一系列检查并告知用户结果。我通过复选框自动回发属性对回发进行这些检查：

```
<asp:CheckBox ID="chkDecision" runat="server" AutoPostBack="true" /> 
```

我实施的另一条业务规则是，当未选中复选框并且用户开始输入其中一个文本框时，我必须自动勾选复选框。我正在通过 Javascript 执行此操作：

```
<asp:TextBox ID="txtLeft" runat="server" CssClass="textboxstandard" MaxLength="50" onkeyDown="SelectDecision(event);">

function SelectDecision(e) {
        if (!checkSpecialKeys(e)) {
            var chkDec = $get('<%=chkDecision.ClientID %>');
            if (!chkDec.checked) {
                chkDec.checked = true;
            }                
        }
    } 
```

以上所有工作正常。

我遇到的这个问题是，当用户开始在框中输入时，复选框会打勾。如果他们随后手动取消选中该框，则回发不会触发。

这大概是因为复选框处于与加载页面时相同的状态，因此某些内部逻辑认为回发是不必要的。

如何执行上述场景中提到的服务器端检查？

**最终确定** 感谢下面提供的帮助，在测试提供的答案期间，我自己能够进一步推进这一点。我发现我可以`AutoPostBack`在文本框上设置属性：

```
<asp:TextBox ID="txtLeft" runat="server" CssClass="textboxstandard" MaxLength="50" onkeyDown="SelectDecision(event);" AutoPostBack="true"></asp:TextBox> 
```

在我的场景中，虽然实现了与以下相同的事情，但我发现它更有用，因为在完成编辑后会发生回发。感谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T05:48:15.977

服务器不会理解客户端的更改。你可以为checkedchange事件编写javascript。

您应该执行以下操作，此功能检查和取消选中复选框并触发服务器端自动回发

```
<script type="text/javascript"> 
        function SelectDecision() { 

            var chkDec = $get('<%=chkDecision.ClientID %>');                  

            //For checking or unchecking the checkbox. 
            if (chkDec .checked) { 
                chkDec .checked = false; 
            } 
            else { 
                chkDec .checked = true; 
            } 

            //For firing the click event. 
            if (document.createEventObject) { 
                // dispatch for IE 
                var evt = document.createEventObject(); 
                return element.fireEvent('on' + 'click', evt) 
            } 
            else { 
                // dispatch for firefox + others 
                var evt = document.createEvent("HTMLEvents"); 
                evt.initEvent('click', true, true); // event type,bubbling,cancelable 
                return !element.dispatchEvent(evt); 
            } 
        } 
    </script> 
```

更多信息：[http ://forums.asp.net/t/1445241.aspx/1/10](http://forums.asp.net/t/1445241.aspx/1/10)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T08:27:14.627

您可以使用：

```
function SelectDecision(e) {
    if (!checkSpecialKeys(e)) {
        var chkDec = $get('<%=chkDecision.ClientID %>');
        if (!chkDec.checked) {
            chkDec.checked = true;
            __doPostBack('<%=chkDecision.ClientID %>', '');
        }                
    }
} 
```

# mysql - 列中的唯一值，但仅对于每个关联的外键都是唯一的：MySQL

> ID：12634129
> 
> 赞同：0
> 
> 时间：2012-09-28T05:33:21.870
> 
> 标签：mysql, sql, unique

几周前我问了[这个问题。](https://stackoverflow.com/questions/12433788/unique-values-in-a-column-but-only-unique-for-each-associated-foreign-key)从现在到那时，我已经转移到 MySQL，但遗憾的是，解决方案没有转移。

这些列并没有使这`comp_owner_id, comp_name`对唯一，而是都被简单地标记为需要唯一。这样做的正确方法是什么？

我将 MySQL 5.1 与 InnoDB 表一起使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:49:17.037

如果您在那些应该创建列组合唯一约束的列上创建唯一索引。见[http://dev.mysql.com/doc/refman/5.1/en/create-index.html](http://dev.mysql.com/doc/refman/5.1/en/create-index.html)

就像是

```
CREATE UNIQUE INDEX <index_name> ON <table_name> (COMP_OWNER_ID, COMP_NAME); 
```

您在其中提供 index_name 和 table_name。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:50:56.850

你能把你的表定义贴在这里吗？我认为您应该像这样 PRIMARYKEY(col1,col2) 用两列定义主键？

这是来自 MySQL 文档：

PRIMARY KEY 可以是多列索引。但是，您不能使用列规范中的 PRIMARY KEY 键属性创建多列索引。这样做只会将该单列标记为主要列。您必须使用单独的 PRIMARY KEY(index_col_name, ...) 子句。

# silverlight - DropDownList 没有在 ScrollViewer 内展开

> ID：12634134
> 
> 赞同：0
> 
> 时间：2012-09-28T05:33:52.093
> 
> 标签：silverlight, windows-phone-7

在我的应用程序中，我在 ScrollViewer 中使用了 DropDownList。当 DropDownList 在 ScrollViewer 内时，它不会在单击时展开。但是当 ScrollViewer 被移除时它正在扩展。当它没有在 ScrollViewer 内展开时有什么问题。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:36:54.613

问题可能与身高有关。您需要为 ScrollViewer 指定一些适当的高度，以便查看展开的 DropDownList。

# php - 为什么 file_get_contents 返回奇怪的字符？

> ID：12634139
> 
> 赞同：4
> 
> 时间：2012-09-28T05:34:31.967
> 
> 标签：php, parsing

我正在尝试使用 file_get_contents解析[http://www.desi-tashan.com/category/pakistan-tvs/aaj-tv/3-idiots/ 。](http://www.desi-tashan.com/category/pakistan-tvs/aaj-tv/3-idiots/)

但它返回非常不寻常的字符和符号。

好像我在哪里解析[http://www.desi-tashan.com/](http://www.desi-tashan.com/)它工作得很好。有人能说出为什么会这样吗？

是否涉及任何编码解码？

该页面似乎是用wordpress制作的..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-28T07:12:00.003

你看到的内容是`gzipped`

您可能有兴趣查看[`gzdecode`](http://php.net/manual/en/function.gzdecode.php)或*（请注意默认情况下未启用 PHP 中的 Zlib 支持）*[`zlib-decode`](http://php.net/manual/en/function.zlib-decode.php)

 *您的代码可能如下所示

```
$url = 'http://www.desi-tashan.com/category/pakistan-tvs/aaj-tv/3-idiots/';
$content = file_get_contents($url);
$decoded_content = gzdecode($content); // or zlib_decode($content); 
```

stackoverflow 上的另一个解决方案，它在请求中添加 HTTP 标头[，](https://stackoverflow.com/questions/3800147/how-do-i-use-file-get-contents-to-get-a-gziped-page-on-a-remote-web-server-in-p)告诉`Accept-Encoding`服务器不要 gzip。

但是，它不起作用`www.desi-tashan.com`，服务器忽略`Accept-Encoding`标头，并始终返回 gzip 压缩的内容

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-12-09T20:27:09.913

我已经看到这种情况发生在 Web 服务器配置错误的站点上，并且无论客户端是否表示它可以处理它都会发回一个压缩页面。（客户端通过`Accept-Encoding`标头指示这一点，file_get_contents 不会发送。）这通常适用于 Web 浏览器，因为它们要么请求默认压缩的页面，要么即使他们没有请求，也会处理 gzip 压缩的响应.

（顺便说一句，如果在 unix 派生系统上，您可以通过将其保存到文件然后在其上运行[文件](https://en.wikipedia.org/wiki/File_(command))来轻松确认返回的内容是 gzip 压缩的。或者自己查看结果的前几个字节 - gzip 数据从 1F 8B 开始。）

我不会手动解压缩内容，而是亲自使用 PHP 的 curl 库。您可以将其配置为请求压缩后的内容，如果这样做，它将透明地为您解压缩结果：

```
$ch = curl_init();
curl_setopt ($ch, CURLOPT_URL, 'http://actualidad.rt.com/actualidad');
curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt ($ch, CURLOPT_ENCODING , 'gzip');
$content = curl_exec ($ch); 
```

这比手动解码结果更具前瞻性，就好像 Web 服务器在将来被正确配置以将纯文本发送回无法处理 gzip 的客户端一样，此代码仍将请求并解码压缩版本。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-11-22T04:34:33.533

您可以简单地使用[javascript charAt 方法](http://tvuncle.com)来获取特定位置的字符串字符。或者很清楚，只需为函数提供一个文件名，它就会返回您选择的文件的扩展名。*

# wix - 何时以及为什么必须更改产品指南以进行升级？

> ID：12634140
> 
> 赞同：0
> 
> 时间：2012-09-28T05:34:39.013
> 
> 标签：wix, windows-installer, installshield, wix3.5

最近我通过 msp 进行了小更新，我的团队负责人指示我不要更改项目 guid。

由于无法更新已安装的文件，我们更改了产品 GUID 并正确安装了文件。

我想知道什么时候应该更改产品指南以及我们为什么要更改它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:00:57.680

[这篇文章](http://msdn.microsoft.com/en-us/library/windows/desktop/aa367850.aspx)应该回答你的问题。你问的摘录：

> 如果更新满足以下任一条件，则必须更改产品代码：
> 
> *   必须可以在同一系统上同时安装原始产品和更新产品。
> *   .msi 文件的名称已更改。
> *   现有组件的组件代码已更改。
> *   从现有特征中删除组件。
> *   现有要素已成为现有要素的子要素。
> *   现有子特征已从其父特征中移除。

此外，我建议您彻底阅读[有关修补和升级的整个部分](http://msdn.microsoft.com/en-us/library/windows/desktop/aa370579.aspx)。

# c# - 调用 Rest Services 时出错“无法连接到远程服务器”

> ID：12634142
> 
> 赞同：0
> 
> 时间：2012-09-28T05:34:52.820
> 
> 标签：c#, .net, rest, service

你好朋友，我正在从 Windows 8 Store 应用程序调用 1 个休息服务，该服务托管在返回 JSon 数据的 wamp 服务器上。当我从浏览器输入该 URL 时，它会显示正确的 JSON 数据，但每当我尝试通过代码调用时使用 HttpClient，它会抛出异常“ `An attempt was made to access a socket in a way forbidden by its access permissions 192.168.2.161:8080`”

> 堆栈跟踪：在 System.Net.ServicePoint.ConnectSocketInternal 的 System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult) 处（布尔连接失败，套接字 s4，套接字 s6，套接字和套接字，IPAddress 和地址，ConnectSocketState 状态，IAsyncResult asyncResult，异常和异常）

```
 try
        {
            HttpClient http = new System.Net.Http.HttpClient();
            HttpResponseMessage response = await http.GetAsync("http://192.168.2.161:8080/Demo/?q=lgwebservice/Demo-Services");

            string res = response.Content.ToString();
        }
        catch(Exception ex)
        {} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-23T17:45:31.840

我意识到这是一个老问题，但我最近遇到了这个问题，所以我认为发布答案会有所帮助。

您可能已经注意到您可以访问外部 IP，但由于您在本地网络上工作，您需要在应用清单中启用此“功能”。

*   从解决方案资源管理器中打开 Package.appxmanifest
*   选择功能选项卡。
*   检查“私有网络（客户端和服务器）

在这一点上你应该很高兴。

# .net - 无法取出oracle in.net的参数

> ID：12634146
> 
> 赞同：0
> 
> 时间：2012-09-28T05:35:19.237
> 
> 标签：.net, plsql

自从我试图从 .net 中的 pl/sql 过程中取出参数以来，我已经 2 天了。我使用 ODAC（ORACLE 数据访问客户端）。这是我的prevuouse问题。[无法在.net中取出Oracle的参数](https://stackoverflow.com/questions/12607923/cant-get-out-parameter-of-oracle-in-net/12628179#12628179)

现在，我将程序更改为函数并尝试返回 varchar 2 值。

C# 代码

```
float cur_rate;
            decimal value;
            if (!String.IsNullOrEmpty(RateTxtBox.Text) && decimal.TryParse(RateTxtBox.Text, out value))
            {
            cur_rate = float.Parse(RateTxtBox.Text);
            con = new OracleConnection(conStr);
            con.Open();
            cmd = con.CreateCommand();
            cmd.BindByName = true;
            cmd.CommandType = CommandType.StoredProcedure;
            cmd.CommandText = schema_name + ".CACCRUEMENT_INS_FUNC";
            cmd.Parameters.Add("p_check_info_id", OracleDbType.Int32, header_id, ParameterDirection.Input);
            cmd.Parameters.Add("p_calculate_on", OracleDbType.Date, DateTime.Parse(dateTimePicker1.Text), ParameterDirection.Input);
            cmd.Parameters.Add("p_curr_id", OracleDbType.Decimal, CurrencyCombobox.SelectedValue, ParameterDirection.Input);
            cmd.Parameters.Add("p_cur_rate", OracleDbType.Decimal, Decimal.Parse(RateTxtBox.Text), ParameterDirection.Input);
            cmd.Parameters.Add("p_result", OracleDbType.Decimal,ParameterDirection.Output);
            cmd.Parameters.Add("RETURN_VAL", OracleDbType.Varchar2, ParameterDirection.ReturnValue);
            cmd.ExecuteNonQuery();
            int result = Int16.Parse(cmd.Parameters["RETURN_VAL"].Value.ToString()); 
```

它抛出一个`{"ORA-06502: PL/SQL: numeric or value error: character string buffer too small\nORA-06512: at line 1"}`

pl/sql 函数

```
create or replace function CACCRUEMENT_INS_FUNC(
      p_check_info_id in number,
      p_calculate_on in date,
      p_curr_id in number,
      p_cur_rate in number,
      p_result out number)return varchar2 is

  v_Accruemtnt number;
  v_rate number;
  v_cur_rate_in_check_info number;
  Last_accruemet_date date;
  monthes_bwn_last_adj_n_chck number;
  next_check date;
  check_info_rate number;
begin
  select c.next_check 
  into next_check 
  from check_info c 
  where c.id_check_info = p_check_info_id;
  begin 
        select max(c.calculate_on_date) 
        into Last_accruemet_date 
        from check_info_lines  c 
        where c.fk_check_info = p_check_info_id 
        group by c.fk_check_info;

        if Last_accruemet_date > p_calculate_on then 
          --p_result :=2;--'Accruement date must be between date of last adjustment and next C-Check date!';
          return 'Accruement date must be between date of last adjustment and next C-Check date!';
          goto l_EndOfLoop;
        end if;

        exception when no_data_found then
        --p_result:=0;--'Adjustment is not calculated!';
        return 'Adjustment is not calculated!';
        goto l_EndOfLoop;

        begin
          select max(c.calculate_on) 
          into Last_accruemet_date 
          from Caccruement c 
          where c.fk_check_info = p_check_info_id
          group by c.fk_check_info;

        exception when no_data_found then
          null;
        end;
      end;
    select ci.curency_rate 
    into check_info_rate 
    from check_info ci 
    where ci.id_check_info = p_check_info_id;

    select c.rate 
    into v_rate 
    from Check_Info c 
    where c.id_check_info = p_check_info_id;

    monthes_bwn_last_adj_n_chck:=MONTHS_BETWEEN(next_check,Last_accruemet_date);

    IF(monthes_bwn_last_adj_n_chck>round(MONTHS_BETWEEN(p_calculate_on,Last_accruemet_date),3))
    THEN
      select c.curency_rate 
      into v_cur_rate_in_check_info 
      from check_info c 
      where c.id_check_info = p_check_info_id;

    v_Accruemtnt := round(v_rate/check_info_rate * MONTHS_BETWEEN(p_calculate_on, Last_accruemet_date)*p_cur_rate,3) ;

    insert 
    into CAccruement(Id_Accruemtnt,Calculate_On,Accruemtnt,Fk_Check_Info,Cu_Id,Cu_Rate,Calculation_Date,Accruemtnt_Kzt) 
    values (accruement_seq.nextval,p_calculate_on,round(v_Accruemtnt/p_cur_rate,3),p_check_info_id,p_curr_id,p_cur_rate,Sysdate,v_Accruemtnt);

    update check_info c 
    set c.total_accumulated = c.total_accumulated+v_Accruemtnt 
    where c.id_check_info = p_check_info_id;
    END IF; 
     COMMIT; 

     --p_result:=1;--'Operation complited successfully';
     return 'Operation complited successfully';
     update_total_accumulated(p_check_info_id);

    <<l_EndOfLoop>>
      ROLLBACK;
      EXCEPTION
    WHEN OTHERS
    THEN

      --DBMS_OUTPUT.PUT_LINE(SQLERRM);
      p_result:=3;--'Oracle not handled exception!';
      ROLLBACK;    
end CACCRUEMENT_INS_FUNC; 
```

# javascript - 访问 jquery 函数范围之外的 javascript 变量

> ID：12634152
> 
> 赞同：1
> 
> 时间：2012-09-28T05:35:50.963
> 
> 标签：javascript, jquery

我有一个`jquery`在右键单击事件上显示菜单的功能。我希望从函数内部的父函数访问一个对象`callback`。

我正在使用[以下](http://medialize.github.com/jQuery-contextMenu/)JQuery 插件来获取上下文菜单。

这是代码：

```
function OnContextMenu() {

     //alert(key + ' ' +this.Node.Content);
     var localNode = this.Node;
     alert(localNode.Content); //CORRECT NODE VALUE GETS ALERTED

        $.contextMenu({
            selector: '.Container', 
            callback: function(key, options) {
                var m = "clicked: " + key;
                 alert(localNode.Content); //ALWAYS PRINTS THE VALUE OF THE VERY FIRST NODE THAT WAS CLICKED. 
                // window.console && console.log(m) || alert(m); 
            },
            items: {
                "edit": {name: "Edit", icon: "edit"},
                "cut": {name: "Cut", icon: "cut"},
                "copy": {name: "Copy", icon: "copy"},
                "paste": {name: "Paste", icon: "paste"},
                "delete": {name: "Delete", icon: "delete"},
                "sep1": "---------",
                "quit": {name: "Quit", icon: "quit"}
            }
        });
    } 
```

如您所见，我将值存储在变量中：

```
var localNode = this.Node; 
```

`callback`并在函数内使用这个变量。特殊之处在于，`alert(localNode.Content);`第一次单击菜单时，回调内部会给出正确的值。之后，即使`alert`外部函数的 正确地给出了不同的值，内部回调函数仍然显示与第一次相同的旧值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:00:36.497

我不知道该`.contextMenu()`方法（也许您可以将我们指向一个 URL），但似乎上下文菜单只添加了一次（！），`.Container`并且对于每个后续调用它只会返回（因为上下文菜单已经存在`.Container`）。这只是一个有根据的猜测。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T11:14:49.117

现在感觉很愚蠢，因为我在这里错过了一件非常简单的事情。我可以通过在函数外部声明变量来解决这个问题，就像使用全局变量一样。

下面是变化：

```
 var localNode;

 function OnContextMenu() {

 //alert(key + ' ' +this.Node.Content);
 localNode = this.Node;
 alert(localNode.Content); //CORRECT NODE VALUE GETS ALERTED

    $.contextMenu({
        selector: '.Container', 
        callback: function(key, options) {
            var m = "clicked: " + key;
             alert(localNode.Content); //ALWAYS PRINTS THE VALUE OF THE VERY FIRST NODE THAT WAS CLICKED. 
            // window.console && console.log(m) || alert(m); 
        },
        items: {
            "edit": {name: "Edit", icon: "edit"},
            "cut": {name: "Cut", icon: "cut"},
            "copy": {name: "Copy", icon: "copy"},
            "paste": {name: "Paste", icon: "paste"},
            "delete": {name: "Delete", icon: "delete"},
            "sep1": "---------",
            "quit": {name: "Quit", icon: "quit"}
        }
    });
} 
```

# ruby - 杀死bluepill的所有进程

> ID：12634153
> 
> 赞同：1
> 
> 时间：2012-09-28T05:36:12.153
> 
> 标签：ruby, process, bluepill

我已经在我的实时服务器上设置了 bluepill 进程，几天后我已经杀死了所有命令并将 repo 从服务器中删除。现在，我收到了与 bluepill 相关的日志，例如，

```
Sep 27 23:21:05 team bluepilld[26961]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/application.rb:36:in `mutex'
Sep 27 23:21:05 team bluepilld[26961]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/application.rb:137:in `run'
Sep 27 23:21:05 team bluepilld[26961]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/application.rb:131:in `start_server'
Sep 27 23:21:05 team bluepilld[26961]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/application.rb:41:in `load'
Sep 27 23:21:05 team bluepilld[26961]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/dsl.rb:6:in `application'
Sep 27 23:21:05 team bluepilld[26961]: [config:ibt_emw_config] /home/rails/applications/no_config/bluepill/config_git/run_emwebsocket.pill:1
Sep 27 23:21:05 team bluepilld[31026]: [config:ibt_emw_config] Going from down => starting
Sep 27 23:21:08 team bluepilld[31026]: [config:ibt_emw_config] pid_file /home/rails/applications/config/tmp/emw_pid.pid does not exist or cannot be read
Sep 27 23:21:08 team bluepilld[31026]: [config:ibt_emw_config] pid_file /home/rails/applications/config/tmp/emw_pid.pid does not exist or cannot be read
Sep 27 23:21:08 team bluepilld[31026]: [config:ibt_emw_config] Going from starting => down
Sep 27 23:21:09 team bluepilld[31026]: [config:ibt_emw_config] pid_file /home/rails/applications/config/tmp/emw_pid.pid does not exist or cannot be read
Sep 27 23:21:09 team bluepilld[31026]: [config:ibt_emw_config] pid_file /home/rails/applications/config/tmp/emw_pid.pid does not exist or cannot be read
Sep 27 23:21:09 team bluepilld[31026]: [config:ibt_emw_config] Executing start command: ruby server.rb
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] Errno::ENOENT - No such file or directory - /home/rails/applications/config/tmp/emw_pid.pid
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/rubies/ruby-1.8.6-p420/lib/ruby/1.8/fileutils.rb:1033:in `initialize'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/rubies/ruby-1.8.6-p420/lib/ruby/1.8/fileutils.rb:1033:in `open'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/rubies/ruby-1.8.6-p420/lib/ruby/1.8/fileutils.rb:1033:in `touch'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/rubies/ruby-1.8.6-p420/lib/ruby/1.8/fileutils.rb:1027:in `each'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/rubies/ruby-1.8.6-p420/lib/ruby/1.8/fileutils.rb:1027:in `touch'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/system.rb:208:in `can_write_pid_file'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/system.rb:68:in `daemonize'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/bluepill-0.0.47/lib/bluepill/process.rb:251:in `start_process'
Sep 27 23:21:09 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/eval_helpers.rb:56:in `send'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/eval_helpers.rb:56:in `evaluate_method'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/callback.rb:191:in `run_methods'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `each'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `run_methods'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/callback.rb:159:in `call'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/transition.rb:443:in `after'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/transition.rb:443:in `each'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/transition.rb:443:in `after'
Sep 27 23:21:10 team bluepilld[26962]: [config:ibt_emw_config] /home/rails/.rvm/gems/ruby-1.8.6-p420@config/gems/state_machine-1.1.2/lib/state_machine/transition.rb:441:in `catch' 
```

我已经尝试找到进程发出命令`ps aux | grep bluepill`

并杀死所有进程。这对我有用吗？

我想删除与 bluepill 相关的所有内容。我应该删除宝石吗？它有助于删除后台进程吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T07:26:04.430

如果您以 rails 用户身份安装了它（看起来像您这样做了）

你会想做

`$ sudo bluepill quit`

如果出现错误，那么您可能会以 rails 用户身份运行它（如日志和 rvm 所在的位置所示），在这种情况下，我会以 rails 用户身份运行

`$ bluepill quit`

然后移除 bluepill gem。

`$ gem uninstall bluepill`

不是

`$ sudo gem uninstall bluepill`

我希望这会有所帮助。不过，我可能没有足够的细节来完全回答这个问题。

# flash - 网站上的工作区共享。有可能吗？

> ID：12634158
> 
> 赞同：2
> 
> 时间：2012-09-28T05:36:29.643
> 
> 标签：flash, screen

请参阅本网站中的视频[http://www.tinyeye.com/Online-Speech-Therapy-For-Parents/How-Online-Speech-Therapy-Can-Benefit-Your-Child.php](http://www.tinyeye.com/Online-Speech-Therapy-For-Parents/How-Online-Speech-Therapy-Can-Benefit-Your-Child.php)

它实际上是一位老师通过视频聊天给学生讲课。

一个玩家在玩游戏，另一个玩家可以在网页中看到正在玩的游戏（而不是在网络摄像头中）。

我的问题是，是否有可能由两个成员查看同一个屏幕？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:44:53.690

使用名为**Teamviewer**的免费软件。在两端安装它，并从公司网站上提供的文档中学习如何使用..

[网站链接](http://www.teamviewer.com/hi/index.aspx)

# css - CSS垂直对齐没有表格

> ID：12634159
> 
> 赞同：0
> 
> 时间：2012-09-28T05:36:34.297
> 
> 标签：css

可以，然后呢; 我有一个这样的代码：

```
<header>
    <a href="index.html"><img id="logo" src="img/logo.png" alt="Fin Palais"/></a>
    <a id="menu" href="#"><img id="menu" src="img/menu_mobile.png"></a></div>
</header> 
```

这是我的CSS：

```
header{
    display: table;
    overflow: hidden;
    width: 100%;
    height: 104;
    padding-top: 10px;
    background-image:img/header_bg.png;
    background-image: url(img/header_bg.png);
    background-repeat: repeat-x;
    position: fixed;
    left: 0px;
    top: 0px;
    text-align: center;
}
header img#logo{
    height: 94px;
    position: absolute;
    margin: auto 0;
}
header a#menu{
    border-radius: 5px;
    background-clip: padding-box;
    background-color: #4f0000;
    box-shadow: inset 0 0 5px rgba(0,0,0,.75);
    display: block;
    float: right;
    padding: 7px;
}
header a#menu:hover{
    background-color: #850101;
}
header a#menu img{

} 
```

[这是在jsfiddle](http://jsfiddle.net/Rpdr9/1042/)

所以我想要的是在不移动居中的情况下将`<a #menu>`垂直居中居中，所以我不能添加一个 div 来使[表格 hack](http://www.jakpsatweb.cz/css/css-vertical-center-solution.html)或 make 是绝对定位的！它必须正确浮动并且不影响页面中的任何其他内容！非常感谢！:)`<header>``<img #logo>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T07:58:37.937

我希望这可以解决您进入中心的问题

```
header a#menu{
    border-radius: 5px;
    background-clip: padding-box;
    background-color: #4f0000;
    box-shadow: inset 0 0 5px rgba(0,0,0,.75);
    padding: 7px;
    position:absolute
} 
```

# python - 试图将项目附加到 python 中的列表，但它的行为很奇怪

> ID：12634160
> 
> 赞同：3
> 
> 时间：2012-09-28T05:36:47.423
> 
> 标签：python, python-2.7

我有事件，人们可以属于一个事件。所以我有一个看起来像这样的事件类：

```
class Event():
    name = ""
    people = [] 
```

我还有一个全局变量来保存所有事件

```
events   = [] 
```

现在我正在尝试将我的原始数据处理为事件和人们去他们：

```
 # If there are missions, add the events
    for m in wiki.missions:
        foundEvent = False
        for e in events:
            if e.name == m:
                foundEvent = True
                foundPerson = False
                for p in e.people:
                    if p.rawName == person.rawName:
                        foundPerson = True
                if not foundPerson:
                    e.people.append(person)
                    print "Added " + person.display + " to " + m + " (" + str(len(e.people)) + ")"

        if foundEvent == False:
            event = Event()
            event.name = m
            event.people.append(person)
            print "New " + person.display + " to " + m + " (" + str(len(event.people)) + ")"
            events.append(event)
            event = None 
```

根据我的打印声明，我可以看到谁被添加到现有事件中，以及何时以及谁创建了新事件。奇怪的是，事件中的人数总是增加所有事件中的人数。

```
New Joseph M. Acaba to STS-119 (1)
New Joseph M. Acaba to Soyuz TMA-04M (2)
New Joseph M. Acaba to Expedition 31 Expedition 32 (3)
Added Dominic A. Antonelli to STS-119 (4)
New Dominic A. Antonelli to STS-132 (5)
Added Richard R. Arnold to STS-119 (6) 
```

这对我来说毫无意义，我做错了什么？（我相信有很多）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T05:40:20.157

您应该使用实例变量而不是类变量。因此，像这样设置您的类，并修改其余代码以适应它：

```
class Event:
    def __init__(self, name):
        self.name = name
        self.people = [] 
```

正如您所描述的，这里的重要区别是：为类的特定实例设置实例变量，而为该类的*所有*实例设置类变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T05:40:49.110

您正在创建类变量，而不是实例变量，因此您不断将人员附加到类而不是您正在创建的每个新对象。

试试这个：

```
class Event():
    def __init__(self, name):
        self.name = ""
        self.people = [] 
```

然后

```
event = Event(m)
event.people.append(person) 
```

# java - 在普通 FileChannel 上使用 MappedByteBuffer 顺序写入长文件是否有性能优势？

> ID：12634163
> 
> 赞同：3
> 
> 时间：2012-09-28T05:36:58.780
> 
> 标签：java, performance, file-io, real-time, nio

我试图了解使用 16k 缓冲区连续调用 FileChannel.write 和映射多个附加大小为 16k 的 ByteBuffer 之间的区别，如下所述：[https ://stackoverflow.com/a/7367952/962872](https://stackoverflow.com/a/7367952/962872)

我认为映射的字节缓冲区方法会在每次追加后丢弃 MappedByteBuffers 时产生大量垃圾。而且我也不确定它是否更快。而且你仍然需要做一堆映射操作......（每个附加一个）。

或者您应该映射一个巨大的 ByteBuffer（尽可能大）并继续写入这个 MappedByteBuffer？

我正在使用带有 Java 端 16kb 缓冲区的 FileChannel.write 方法作为写入文件的“快速”方式，但我想确保我不会丢失更快/更好的东西。

任何人都可以发光吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T07:31:24.563

> 我认为映射的字节缓冲区方法会在每次追加后丢弃 MappedByteBuffers 时产生大量垃圾。

如果您创建了 16 KB 的缓冲区，就会出现这种情况。如果您创建了 1 GB 缓冲区，则不需要那么多缓冲区，并且这样做几乎不会受到惩罚（假设您有 64 位 JVM）

> 我正在使用带有 Java 端 16kb 缓冲区的 FileChannel.write 方法作为写入文件的“快速”方式，但我想确保我不会丢失更快/更好的东西。

我会检查你写的速度是否比你驱动器写的快或快。内存映射文件给您的主要优势是更低的典型延迟。您可以写入的吞吐量将受到驱动器速度的限制。如果你有一个典型的 SSD，你的 CPU 仍然可以比它消耗的速度更快地写出数据，如果你使用 HDD，你做什么可能并不重要，因为驱动器要慢得多。

典型的写入吞吐量

*   现代 CPU：2,000 - 6,000 MB/秒
*   SSD：300 - 1,200 MB/秒
*   磁盘控制器：200 - 600 MB/秒
*   硬盘：20 -60 MB/秒。

通常，当 CPU 不是瓶颈时，您在软件中所做的事情对应用程序的性能影响不大。

在延迟方面，典型的延迟为

*   FileChannel.write() : 10 - 40 微秒，但可以达到 1 毫秒以上。
*   写入内存映射文件：短消息需要 100 纳秒，但在需要新的内存映射时可能会达到 100 毫秒。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T07:42:41.030

如果它存在的话，我怀疑它是否重要。我通过 MappedByteBuffers 测量输入，它只快 20%，不足以保证任何代码更改。通过 MappedByteBuffers 输出的代码更改要广泛得多，因为您必须做出特殊安排来扩展文件，这反过来又会带来内存不足的风险。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T05:46:01.787

IO 通常是瓶颈，或者是内存问题（缓存错误，但如果您必须重新分配，那将没有问题）。

我会尽可能简单地对其进行编码。然后，如果性能确实是一个问题，那么无论如何都要尝试替代方案（关于内存性能的 if 和异常太多）。你可能已经这样做了。

# javascript - 为什么 PUT 403 显示为 Aborted？

> ID：12634167
> 
> 赞同：1
> 
> 时间：2012-09-28T05:37:26.660
> 
> 标签：javascript, http, http-put

我制作了一个接受`PUT`请求的虚拟 django 视图：

```
# urls.py
url(r'^put/.*$', 'put', name='put'),

# views.py
def put(request):
    print request.method
    return HttpResponse() 
```

现在，当我尝试对`PUT`视图进行 xhr 调用时，它返回 403：

> [27/Sep/2012 22:32:43] "PUT /put/x-unconverted/e02ed7da08d411e2bfa974de2b4d1b84?partNumber=115&uploadId=35UxOsGCCG98rke3VjpazmCy.0ZFpesndJ.XPp5Bw6R2CumfIsYKP5DlBYPY3gh3I0PCwfCg4DqSRttYp75bZg-- HTTP/1.1" 403 156400

（*为什么*它返回 403，我现在不在乎）。真正的问题是：

![在此处输入图像描述](../Images/0f43736b674b68db86070481d3308e74.png)

XHR 调用返回状态 0（中止？！），即使真正的响应是 403，带有内容（注意 156400 内容长度）。

**为什么它不显示 403 响应？**

**编辑**：`PUT`请求是这样提出的：

```
var xhr = new XMLHttpRequest();
var path = "/" + u.settings.key;
path += "?partNumber=" + (chunk + 1) + "&uploadId=" + u.upload_id;

var method = "PUT";
var authorization = "AWS " + u.settings.access_key + ":" + signature;
var blob = u.file.slice(start, end); // mozSlice / webkitSlice, depending on browser
xhr.upload.addEventListener("progress", progress_handler);
xhr.addEventListener("readystatechange", handler);
xhr.addEventListener("error", error_handler);
xhr.addEventListener("timeout", error_handler);

xhr.open(method, /*u.settings.host*/ "http://localhost:8000/put" + path, true);

xhr.setRequestHeader("x-amz-date", date);
xhr.setRequestHeader("Authorization", authorization);
xhr.setRequestHeader("Content-Type", u.settings.content_type);
xhr.setRequestHeader("Content-Disposition", "attachment; filename=" + u.file.name);

xhr.send(blob); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T18:06:25.973

我认为浏览器在收到 403 时假设它是一个跨域请求，这意味着禁止访问。这就是为什么浏览器没有将数据处理回发出请求的 javascript 代码的原因。服务器应为所有响应发送“Action-Control-Allow-Origin”标头。

# sql - 如何在 SQL Server Express 中进行表备份

> ID：12634168
> 
> 赞同：0
> 
> 时间：2012-09-28T05:37:32.297
> 
> 标签：sql, sql-server, sql-server-2008, backup

我有一个 SQL Server 数据库表。我需要根据日期每天备份我的表。为此，我需要编写一个脚本。但我是 SQL Server 的新手，任何人都可以帮助我。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T05:45:13.473

你可以用命令复制它

```
select * into new_table1 from primarytable 
```

这将创建一个以`new_table1`来自 的数据命名的表`primarytable`。

您当然必须备份整个数据库。

# ruby-on-rails - 如何在 PostgreSQL 中使用 ruby on rails 插入 created_date

> ID：12634169
> 
> 赞同：0
> 
> 时间：2012-09-28T05:37:32.870
> 
> 标签：ruby-on-rails, activerecord

我有一个`users`在 PostgreSQL 数据库中调用的表。它有`name`,`country`和`created_date`列。如果我插入带有`name`和`country`值的新用户记录，`created_date`则会自动插入。当我尝试使用 Ruby 代码执行相同操作时，`created_date`字段为空。我对创建的定义如下。如何`created_date`自动插入。

```
def create
    @new_user = User.new(params[:user])
    @new_user.save
end 
```

注意：`params[:user]`包含`name`和`country`值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:53:03.337

Rails 将仅自动管理 created_on 和 created_at 列，正如您从[ActiveRecord::Timestamp](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/timestamp.rb)源代码中看到的那样。**_at**和**_on**的区别在于_at**包含**完整的日期时间，而**_on**仅包含日期。如果您使用迁移，您可以使用 t.timestamps 创建“created_at”和“updated_at”。

# html - html、css。浏览器右侧空白

> ID：12634170
> 
> 赞同：-2
> 
> 时间：2012-09-28T05:37:49.577
> 
> 标签：html, css

我意识到，每隔一段时间，当我创建一个网站时，页面右侧总会有一个很小的空白区域。

无法真正弄清楚css中问题的根源是什么。有人说是浏览器问题。但我认为有一个解决办法。有谁知道为什么会这样以及怎么做？

提前致谢。

请看下面灰色区域的右侧： ![在此处输入图像描述](../Images/abc997ba592778e51f97ad8d4a06caba.png)

如何让灰色区域消失？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T05:55:29.773

尝试使用它，它会使您的网页在屏幕中间查看。我可以知道您的页面是固定宽度布局还是全宽度布局？

```
margin:auto; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T12:51:27.353

查看 Yahoo API YUI 重置 3 表。它完全重置所有浏览器的所有内容。另外要解决您的问题，您需要查看 y 上的溢出属性。您可以禁用滚动、禁用溢出等。如果问题仍然存在，您甚至可以创建一个矢量或其他元素，以便在所有其他方法都失败时在网站上使用剪贴蒙版。如果您决定使用这种方法，请发表评论，我会详细说明。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T05:43:05.970

如果您还没有，您可能需要使用某种 CSS 重置样式表。尝试将[此处](http://www.cssreset.com/)的选项之一插入您的 CSS。它很可能会搞砸一些事情，但一旦你纠正了这些问题，一切都应该在浏览器中或多或少地标准化。

他们所做的其中一件事是重置`<body>`和`window`边距/填充等，这可能会解决您遇到的问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-28T05:44:41.130

您是否尝试添加

```
padding:0px;
margin:0px; 
```

身体

# android - 添加带有子菜单项的图标

> ID：12634171
> 
> 赞同：7
> 
> 时间：2012-09-28T05:37:53.907
> 
> 标签：android

我已经制作了包含一些项目的子菜单。现在我想用子菜单项添加不同的图标。我还将代码应用于添加图标的菜单项，但它没有向我显示图标我的代码是这样的：

```
public boolean onCreateOptionsMEnu(Menu m) {
    SubMenu s1 = m.addSubMenu("menu1");
    s1.add(0,0,1,"1").setIcon(R.drawable.icon1);
    s1.add(0,1,2,"2").setIcon(R.drawable.icon2);

    return super.onCreateOptionsMenu(m);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T06:00:34.557

子菜单不支持图标。

[https://developer.android.com/guide/topics/ui/menus.html](https://developer.android.com/guide/topics/ui/menus.html)：

> 图标菜单
> 这是在按下 MENU 键时最初在屏幕底部可见的项目集合。它最多支持六个菜单项。这些是唯一支持图标的菜单项和唯一不支持复选框或单选按钮的菜单项。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T05:51:49.910

这是[标准图标的列表](http://developer.android.com/guide/practices/ui_guidelines/icon_design.html#menuapx)。我没有看到“设置”图标。也许您的意思是“首选项”（ic_menu_preferences）？

您可以像这样以编程方式设置图标：

```
menu.add(0, MENU_QUIT, 0, "Quit").setIcon(R.drawable.menu_quit_icon); 
```

你也可以像这样在你的 xml 布局中设置它：

```
<item android:id="@+id/save_button"
  android:icon="@android:drawable/ic_menu_save"
  android:title="Save Image"/> 
```

--[在 Android 中创建菜单](http://developer.android.com/guide/topics/ui/menus.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-13T08:10:34.320

尝试这个：

```
public boolean onCreateOptionsMenu(Menu m) {
SubMenu s1 = m.addSubMenu("menu1");
s1.add(0,0,1,"1");
s1.add(0,1,2,"2");

MenuItem menuItem = s1.getItem(0);
menuItem.setIcon(R.drawable.icon1);
MenuItem menuItem1 = s1.getItem(1);
menuItem1.setIcon(R.drawable.icon2);

return super.onCreateOptionsMenu(m);
} 
```

# linux - Makefile NASM 错误：指定了多个输入文件

> ID：12634172
> 
> 赞同：0
> 
> 时间：2012-09-28T05:37:55.137
> 
> 标签：linux, assembly, makefile, nasm, ld

所以，我有一个我正在处理的汇编代码的生成文件，当我尝试构建我的代码时，我得到以下输出：

```
Makefile:32: warning: overriding commands for target `obj'
Makefile:29: warning: ignoring old commands for target `obj'
nasm -f elf64 -g -F stabs main.asm -l spacelander   .lst
nasm: error: more than one input file specified
type `nasm -h' for help
make: *** [obj] Error 1 
```

然而，当我对此进行谷歌搜索时，这似乎是由于来自 LD 而不是 NASM 本身的链接器问题（只有 NASM 在错误中输出而不是 LD），并且我只有一个源文件打印一个简单的文本输出作为测试。在[这个](http://forum.nasm.us/index.php?topic=1323.0)例子中，OP 能够执行他的代码；我的甚至不会建造。

AFAIK，我的源文件非常好，因为在我更改它之前，代码构建并运行良好，没有任何问题。我更改它的目的是为了将任何`.o`文件复制到一个`obj/`目录，并将目标复制到一个`bin/`目录。

这个问题的原因可能是什么？我几乎可以肯定它与代码无关，是由于 Makefile 本身。

为了完整起见，我将粘贴我的 Makefile 和汇编源代码。

* * *

**资源**

```
bits 32

section [.bss]

section [.data]

; Store three lines in the same string. 
; This is just for test purposes.

Title: db "------SPACE LANDER-----", 10, \  
          "------SPACE LANDER-----", 10, \
          "------SPACE LANDER-----", 10 

Len: equ $-Title

section [.text]

    global _start

_start:

    mov     eax, 4     ; Syswrite
    mov     ebx, 1     ; To stdout
    mov     ecx, Title ; ecx stores title to print
    mov edx, Len   ; store offset of len in edx

    int     0x80       ; call kernel, do print

exit: 

    mov     eax, 1    ; exit
    mov ebx, 0    ; return 0
    int     0x80      ; call kernel, exit safely (hopefully) 
```

**生成文件**

```
ASM  := nasm
ARGS := -f
FMT  := elf64
OPT  := -g -F stabs

SRC    := main.asm

#SRC_EXT := asm
#^unused due to suspected error causing. 

OBJDIR := obj 
TARGETDIR := bin

OBJ    := $(addprefix $(OBJDIR)/,$(patsubst %.asm, %.o, $(wildcard *.asm)))
TARGET := spacelander   

.PHONY: all clean

all: $(OBJDIR) $(TARGET)

$(OBJDIR): 
    mkdir $(OBJDIR)

$(OBJDIR)/%.o: $(SRC)
    $(ASM) $(ARGS) $(FMT) $(OPT) $(SRC) -l $(TARGET).lst

$(TARGET): $(OBJ)
    ld -o $(TARGET) $(OBJ)

clean:
    @rm -f $(TARGET) $(wildcard *.o)
    @rm -rf $(OBJDIR) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:41:49.750

可能是由于此命令中的额外空格：

```
nasm -f elf64 -g -F stabs main.asm -l spacelander   .lst 
```

因为在 的末尾有多余的空格`$(TARGET)`，因为在这一行的末尾有多余的空格：

```
TARGET := spacelander 
```

尝试删除那些多余的空格。

# java - Java中字节数据类型的实际使用

> ID：12634177
> 
> 赞同：7
> 
> 时间：2012-09-28T05:38:27.813
> 
> 标签：java

除了字节通过仅消耗 8 位存储而不是*32 位*来节省内存的事实`integer`。它还有哪些其他实际用途？我在一篇文章中读到，当我们处理来自网络或文件的数据流时，它很有用。当您处理可能与 Java 的其他内置类型不直接兼容的原始二进制数据时，它们也很有用。任何人都可以用例子来解释这些吗？并陈述一些更实际的用途？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:12:21.077

当您阅读时，字节在读取位流时很有用

在说出原因之前，我先问你一个问题，一个字符表示为多少位或字节？8位/1字节。我希望你在这里得到字节的原因。

读取位流时使用字节的原因是，当您以字节为单位读取流时，每次读取时，您的字节类型变量中都会有一个字节的数据。即1个字符。因此，在阅读时，您将一次获得一个角色。

机器也理解位，因此字节也可以派上用场，当从键盘、文件、数据流等任何输入读取时，我们更喜欢字节。同样，当写入设备监视器时，输出流、文件等字节会派上用场。

周围的一切都是 10100010 的倍数，因此当您不确定发送者的期望或接收者的期望时，请使用字节。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T05:46:57.113

通常字节数组用于序列化（到磁盘、网络流、内存流等）。一个简单的例子可能是这样的（取自[这里](http://exampledepot.com/egs/java.io/SerializeObj.html)）：

```
Object object = new javax.swing.JButton("push me");

try {
    // Serialize to a file
    ObjectOutput out = new ObjectOutputStream(new FileOutputStream("filename.ser"));
    out.writeObject(object);
    out.close();

    // Serialize to a byte array
    ByteArrayOutputStream bos = new ByteArrayOutputStream() ;
    out = new ObjectOutputStream(bos) ;
    out.writeObject(object);
    out.close();

    // Get the bytes of the serialized object
    byte[] buf = bos.toByteArray();
} catch (IOException e) {
} 
```

字节数据类型的另一种用法也与图像有关。例如，您可以执行以下操作`byte[] pixels = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();`：（取自[此处](https://stackoverflow.com/questions/6524196/java-get-pixel-array-from-image)）来访问像素相关信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T05:55:09.253

`byte`是 java 中的 8 位有符号原始类型。它在我们以字节形式处理数据的情况下很有用，例如“从/向文件读取/写入字节数据”。[您可以在此处](http://docs.oracle.com/javase/tutorial/essential/io/bytestreams.html)找到最佳实际示例。

# wpf - WPF数据网格左栏

> ID：12634179
> 
> 赞同：3
> 
> 时间：2012-09-28T05:38:34.320
> 
> 标签：wpf, xaml

当我在 WPF 中创建数据网格时，有一个薄的左列。

我不知道它的目的是什么。也许它是一个状态列？

我怎样才能禁用它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-08-05T16:17:56.250

“薄左列”实际上是用于行标题（更具体地说，每一行都有一个[DataGridRowHeader](https://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.datagridrowheader(v=vs.110).aspx)，当没有填充任何内容时，会导致数据网格看起来像是有一个额外的、不必要的列）。注意：更改行标题中显示的内容是一个完全不同的主题。

[![显示行标题的示例](../Images/2cdde99afdd31bc228d3548c039b280a.png)](https://i.stack.imgur.com/mA2iX.png)

[您可以通过将 DataGrid 上的HeadersVisibility](https://msdn.microsoft.com/en-us/library/system.windows.controls.datagrid.headersvisibility(v=vs.110).aspx)属性设置为“Column”来禁用它以仅显示列标题，或者在根本不需要标题的情况下显示“None”。

```
<DataGrid HeadersVisibility="Column" /> 
```

[在这里](https://stackoverflow.com/questions/2865505/how-do-i-hide-wpf-datagrid-row-selector?rq=1)提出并回答了一个类似的问题。

# android - Android 后台轮询和用户界面

> ID：12634181
> 
> 赞同：0
> 
> 时间：2012-09-28T05:38:45.333
> 
> 标签：android, polling

我正在构建一个当前作为独立应用程序运行的应用程序，该应用程序使用 AsyncTask 轮询服务。我想将轮询移至启动时运行并可能通知用户更改的 Android 服务。曲线球是我需要在活动（以及即将成为服务）之间共享这些数据，这样我就不会在持久存储和内存存储之间来回消耗电池。

有没有办法创建在后台运行的服务，使用 AlarmManager 每半分钟轮询一次，与用户界面共享（通过常量）数据，用户界面可以通过单击服务创建的通知或通过启动器本身启动？

现在这是我已经走了多远：

这是服务：

```
public class PollService extends Service {
    private final IBinder binder = new PollBinder();

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        SharedData.update();

        return Service.START_NOT_STICKY;
    }

    @Override
    public IBinder onBind(Intent intent) {
        return binder;
    }

    public class PollBinder extends Binder {
        PollService getService() {
            return PollService.this;
        }
    }
} 
```

这将触发服务...

```
public class PollScheduleReceiver extends RoboBroadcastReceiver {
    private static final int POLL_FREQ_SEC = 30;
    @Override
    protected void handleReceive(Context context, Intent intent) {
        Intent schedulerIntent = new Intent(context, PollStartReceiver.class);
        PendingIntent pendingSchedulerIntent = PendingIntent.getBroadcast(context, 0, schedulerIntent, PendingIntent.FLAG_CANCEL_CURRENT);
        calendar.add(Calendar.SECOND, POLL_FREQ_SEC);
        alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), POLL_FREQ_SEC * 1000, pendingSchedulerIntent);
    }
} 
```

这将在启动时触发触发器：

```
public class PollStartReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        Intent pollService = new Intent(context, PollService.class);
        context.startService(pollService);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:12:15.593

我不知道我是否有你的问题，但据我所知，它可以通过几个步骤完成..

1）启动服务，使其在后台运行

2）轮询可以在 AsyncTask 或 Handler 的帮助下每 30 秒根据您的意愿在该服务中完成

3）当条件满足时，从该服务启动所需的活动。

# java - %2f 或常见 vfs 中的其他特殊字符

> ID：12634186
> 
> 赞同：1
> 
> 时间：2012-09-28T05:39:20.327
> 
> 标签：java, apache-commons-vfs

最近在commons-vfs解析文件路径时遇到一个问题。

```
 FileObject tmpDestFo = fsm.resolveFile("/tmp/tempfile%2flicense.xml");
  tmpDestFo.copyFrom(destFo); 
```

例如，复制后我期望的是在“/tmp”目录下创建一个名为“tempfile%2flicense.xml”的文件。但结果是在“/tmp/tempfile”目录中创建了一个名为“license.xml”的文件。

我认为这是由将字符 '%2f' 替换为 '/' 的 resolveFile API 引起的。我不确定其他特殊字符是否以相同的方式处理。

你对这个问题有什么想法吗？我确实想要一个名称包含“%2f”的文件。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-06T00:05:48.560

`resolveFile()`需要一个 URI，你实际上需要转义很多字符。您可以通过 URL 编码运行文件路径，也可以使用`new File("/tmp/tempfile%2flicense.xml").toURI().toString()`（至少对于健全的文件名）。

在您的情况下，您需要替换`%`为`%25`：“/tmp/tempfile%252flicense.xml”

顺便说一句：%2f 是一个编码的 /，你确定它应该这样命名吗？

# windows - VK_OEM_MINUS 在 AZERTY 键盘上不起作用

> ID：12634190
> 
> 赞同：1
> 
> 时间：2012-09-28T05:39:39.283
> 
> 标签：windows, visual-studio, visual-c++, localization

我在我的 Visual C++ 项目中使用 VK_OEM_MINUS (VIRTKEY) 作为菜单加速器，当我在 QWERTY 键盘上按“-/_”键时它可以完美运行。

但是当我使用法语键盘布局时它不起作用。法式布局中的“-”放在“6”键上，看起来它使用了其他键码。

我想知道如何将 MINUS 键用于 AZERTY 键盘？我正在寻找一种无需重新分配加速键即可重用代码的方法。我更喜欢在任何键盘上使用 MINUS 作为加速键。

更新：我尝试使用 ASCII 而不是 virtual key: `"-", ID_MENUITEM, ASCII, NOINVERT`，但什么也没发生，它仍然不起作用。(Win7, MSVC2010)

更新：更改了笔记本并使用了 Win7 和 MSVC2008 - ASCII 加速器现在可以工作，但看起来我无法通过加速器表处理 Ctrl+、Shift+(-) 组合。

更新：对于法语键盘布局，看起来 VK_OEM_MINUS (0xBD) 根本不存在，它不能由法语键盘生成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T11:44:33.303

这只是我应用的一个快速解决方案，因为我既不想为 AZERTY 键盘使用其他加速器，也不想实现用户定义的加速器。

由于无法在 AZERTY 键盘上生成 VK_OEM_MINUS，因此我在按下 VK_KEY_6 时通过发布 (WM_KEYDOWN, VK_OEM_MINUS) 来伪造按键（仅适用于 AZERTY）。

# java - SocketTimeoutExceptions 的来源

> ID：12634193
> 
> 赞同：3
> 
> 时间：2012-09-28T05:40:04.723
> 
> 标签：java, android

抱歉，如果这已张贴在我工作/寻找几天的地方。

**问题：**

通过对等网络与 android 设备进行通信时，我收到了 SocketTimeoutExceptions。

**细节：**

发生这种情况时，android 设备使用自己的移动网络而不是 wifi（无论如何，wifi 并不是为使用而设计的）。

android 设备成功地从 whatismyip.com 获取他们的 ipAddress。

一台设备将通过我们使用的对等网络以外的其他方式向另一台设备发送其 IP 地址。

远程设备的ip地址将成功到达本地设备。

当本地设备通过对等网络响应时，会发生 TimeoutException。

**我试过的：**

将超时延长到相当长的时间段。

使用其他安卓设备。

**值得注意的：**

应该注意的是，这个相同的点对点网络已经过测试，可以在局域网上的 PC（如果重要，运行 linux 和 windows）之间成功工作。还刚刚在我们的 PC 上通过我们的有线互联网连接测试了对等网络，它确实有效。

**我猜：**

我认为该设备以某种方式被 isp 隐藏了，我将不得不编写一些代码来执行类似于 nat 遍历的操作，但我不太确定。但话又说回来，如果设备被隐藏，我应该得到一个连接被拒绝的异常。

任何帮助深表感谢。

PS我目前无法发布代码，即使可以，整个过程也需要几千行代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T23:48:23.830

首先，我对点对点的经验仅是wifi连接，但我相信一些概念也应该适用于3G。

当您收到**连接拒绝**错误时，表示您的网络数据包已经能够到达其他设备，但该设备拒绝接受连接请求，并且否定的答案到达您的设备。

当您收到**连接超时**错误时，这意味着您的网络数据包无法到达其他设备，或者其他设备的应答没有到达您的设备。

现在让我们关注第二个错误（连接超时）：

调试它的第一步是启动设备以等待连接，然后从具有网络访问权限的 windows 或 linux 机器发出命令：

> telnet 设备Ip 端口WaitingForConnection

如果您收到 telnet 屏幕并且没有超时错误，则意味着问题出在您发送请求连接的代码中。

如果您也收到超时错误，则确认您的网络数据包无法到达设备（或答案无法到达您）

现在，什么可能会阻止网络数据包到达设备。该设备可能位于路由器或防火墙后面。

如果设备位于防火墙后面，则需要打开防火墙端口以进行传入连接。

如果设备位于路由器后面（我相信是这种情况，否则您不需要从 whatismyip.com 获取 ip 地址），您需要配置路由器以让侦听端口上的传入请求重定向到本地设备 IP 地址。

如果没有相关代码，我将无能为力。

祝你好运。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T21:43:53.237

听起来你有 nat 问题。以下是一些绕过它的起点（但我认为您必须切换到 udp）：

*   [http://en.wikipedia.org/wiki/UDP_hole_punching](http://en.wikipedia.org/wiki/UDP_hole_punching)
*   [http://en.wikipedia.org/wiki/STUN](http://en.wikipedia.org/wiki/STUN)

您当然也可以引入服务器。快乐的黑客:-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-06T12:32:31.803

您应该尝试的是有效地调试您的连接，您可以做的第一件事是检查 isReachable，如[android dev](http://developer.android.com/reference/java/net/InetAddress.html#isReachable%28java.net.NetworkInterface,%20int,%20int%29)中所暗示的那样，即使不幸的是某些网络阻止了 ICMP。

另一个需要注意的重要事情是，即使你使用 3g，你的网络仍然可以使用 NAT 地址，相信我，这很常见，所以你在 whatsmyip 上看到的 ip 也可能是 NATed ip。

我建议的下一步是尝试在混合模式下使用您的应用程序，即一台 pc 和一台 android 设备，并尝试连接到 pc（确保一个具有公共 ip 或至少转发端口），如果你知道的话确定它是您的移动运营商。

如果确实如此，那么除了使用 wifi 或使用本地服务器在两个对等方之间建立连接之外，您无能为力。

还要注意的是，p2p 网络越发展越强大，您还可以实现已经连接到网络并且可以从外部访问的对等方帮助其他人连接到其他对等方。您应该查找 p2p 中继和[打孔](http://en.wikipedia.org/wiki/Hole_punching)

# c++ - 为什么函数调用比根据 gprof 执行的代码花费的时间要长得多？

> ID：12634197
> 
> 赞同：0
> 
> 时间：2012-09-28T05:40:42.057
> 
> 标签：c++, profiling, profiler, gprof

我正在学习如何使用 gprof 分析我的代码。对于我的一个应用程序，我有以下输出：

```
Each sample counts as 0.01 seconds.
  %   cumulative   self              self     total           
 time   seconds   seconds    calls  ms/call  ms/call  name    
 10.27      1.20     1.20                             Location::get_type() const (location.cpp:20 @ 40a4bd) 
```

再往下我看到这个

```
 1.20      4.98     0.14 34662692     0.00     0.00  Location::get_type() const (location.cpp:19 @ 40a4ac) 
```

这是功能

```
char Location::get_type() const {
    return type;
} 
```

我假设 gprof 的第一行是指函数需要执行的总时间，而第二行是指返回语句所需的时间。我有其他函数是返回 s 的同一类的 getter `int`，但函数时间和 return 语句时间之间的差异只有大约 0.1 秒，而与我发布的时间一样，时间差是 1.06 秒（其他 getter 是调用次数减少了大约 200 万次，与调用总数相比是很小的）。与其中的一行代码相比，什么可以解释函数调用的更高时间？

值得一提的是，我使用 -g -pg 编译，因为我在逐行模式下使用 gprof。

编辑：其中一个答案建议我查看程序集输出。看不懂，所以发在这里。我已经发布了两个函数调用的汇编代码。第一个是 get_floor()，它相对较快（~.10 秒）。第二个是 get_type() ，它很慢。

```
_ZNK8Location9get_floorEv:
.LFB5:
        .cfi_startproc
        pushq   %rbp
        .cfi_def_cfa_offset 16
        .cfi_offset 6, -16
        movq    %rsp, %rbp
        .cfi_def_cfa_register 6
        movq    %rdi, -8(%rbp)
        movq    -8(%rbp), %rax
        movl    8(%rax), %eax
        popq    %rbp
        .cfi_def_cfa 7, 8
        ret
        .cfi_endproc
.LFE5:
        .size   _ZNK8Location9get_floorEv, .-_ZNK8Location9get_floorEv
        .align 2
        .globl  _ZNK8Location8get_typeEv
        .type   _ZNK8Location8get_typeEv, @function
_ZNK8Location8get_typeEv:
.LFB6:
        .cfi_startproc
        pushq   %rbp
        .cfi_def_cfa_offset 16
        .cfi_offset 6, -16
        movq    %rsp, %rbp
        .cfi_def_cfa_register 6
        movq    %rdi, -8(%rbp)
        movq    -8(%rbp), %rax
        movzbl  12(%rax), %eax
        popq    %rbp
        .cfi_def_cfa 7, 8
        ret
        .cfi_endproc 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:57:28.097

基于代码检测的分析器对于这种非常快速的函数几乎毫无用处，你能从中得到的只是随机数。

原因是现代 CPU 上的执行时间是一个非常复杂的函数，包含大量参数和工具（添加到函数中以更新统计信息的代码）会搞砸一切。对于像这样的短函数，单独的检测可能比被检测的代码本身要多得多。

对于分析快速功能，您应该使用像[OProfile](http://oprofile.sourceforge.net)这样的被动分析器，它只运行程序并以准定期的时间间隔检查它所在的位置。你没有得到精确的计数器，但是你可以从随机采样中得到的近似值更接近真实的东西，因为程序行为没有发生太大的改变。

查看程序在哪里浪费时间的另一种选择是通过实验。如果您怀疑代码的某个部分是瓶颈，请尝试执行 10 次（这通常不难做到）并检查程序的总执行时间更改了多少。如果减速不大，那么您知道即使能够完全删除该代码也不会为您节省太多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:44:51.260

我想到的*第一*件事是函数调用的成本不是零——每次调用它时都必须设置和拆除堆栈帧。

这*可能*是您的差异的根源，您应该检查汇编器输出（例如 with `gcc -S`）以查看底层代码是什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:16:51.553

如果你想测量一个 1 立方厘米的盒子里的空气温度，并在里面放一个 0.8 立方厘米的温度计，你就不是在测量温度。空气，但温度计之一。

您的函数是如此之小，以至于分析器实际上正在测量它自己的开销。

# php - 如何通过 PHP 设置格式化的数组结果

> ID：12634204
> 
> 赞同：0
> 
> 时间：2012-09-28T05:41:33.673
> 
> 标签：php

我有一个像这样返回的数组，它显示在多行上，这是一个系统生成的。

我想通过 PHP 将数组转换为一个衬里结果。请参阅下面的示例。

```
Array
(
    [0] => ping via eth0 2012-6-27 8:18:31   YES 
ping via eth0 2012-6-27 8:18:36  NO!!!
ping via eth1 2012-6-27 8:18:36   YES : ping via eth1 2012-7-19 7:48:3   YES 
ping via eth2 2012-7-19 7:48:3  not check
ping via eth3 2012-7-19 7:48:3   YES 
) 
```

只返回一行或类似的东西：

```
Array
(
    [0] => ping via eth0 2012-6-27 8:18:31 YES : ping via eth0 2012-6-27 8:18:36  NO!!! : ping via eth1 2012-6-27 8:18:36  YES : ping via eth1 2012-7-19 7:48:3 YES : ping via eth2 2012-7-19 7:48:3  not check : ping via eth3 2012-7-19 7:48:3 YES 
) 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:24:10.977

用这个

```
$str = "ping via eth0 2012-6-27 8:18:31   YES 
ping via eth0 2012-6-27 8:18:36  NO!!!
ping via eth1 2012-6-27 8:18:36   YES 
ping via eth1 2012-7-19 7:48:3   YES 
ping via eth2 2012-7-19 7:48:3  not check
ping via eth3 2012-7-19 7:48:3   YES ";

$str = preg_replace ('/[\n\r]/', ' : ', $str);

print_r($str); 
```

工作示例[http://codepad.viper-7.com/NPuAzf](http://codepad.viper-7.com/NPuAzf)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:47:12.883

如果数据在 $a[0] 中，那么应该这样做：

```
$a[0] = preg_replace ('/[\n\r]/+', ' : ', $a[0]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T05:50:26.880

如果你的数组有不止一行，你可以使用：

```
foreach ($entries as &$entry) {
  $entry = preg_replace('/[\r\n]', ':', $entry);
} 
```

# ios - 临时存储数据然后模拟-iOS

> ID：12634209
> 
> 赞同：0
> 
> 时间：2012-09-28T05:41:58.543
> 
> 标签：ios, json

想象一下，您正在不断地从服务器读取 json 数据。假设您正在获取天气数据。我只想显示 2 小时后的数据。每当用户点击播放按钮时，它都会在地图上显示天气数据。我如何先保存 json 数据然后将其显示在地图上。因为这将增强我的应用程序，而不是连接服务器、获取数据并同时显示它。请给我建议。我需要先将其保存为 plist 还是数组？在模拟之前我应该​​把这些数据保存在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:33:45.167

您有很多选项可以将数据存储在`iOS`.

1.  SQLite 数据库
2.  列表文件
3.  `NSUserDefaults`
4.  核心数据
5.  作为文件`NSDocumentDirectory`
6.  GenericKeychain - 存储敏感数据。（[参考](https://developer.apple.com/library/ios/#samplecode/GenericKeychain/Introduction/Intro.html)）

选择最好的，你知道并做得很好。比如说，管理数据`SQLite`并不困难，因为您必须为数据插入、更新、选择等进行连接和查询。`Plist file`如果`NSUserDefaults`您使用`key/value`组合的数据量很小，则可以很容易。如果数据不是结构化数据，您也可以将数据存储在文件中`NSDocumentDirectory`，还有一个核心数据，因为我不知道，但如果您搜索它，您会找到很好的例子。

因此，这完全取决于您要操作的数据的大小和类型。这完全取决于您使用它的频率（例如选择、更新甚至插入新数据）。

# ios - 我应该使用 Apple 支付服务吗

> ID：12634210
> 
> 赞同：1
> 
> 时间：2012-09-28T05:42:04.180
> 
> 标签：ios, ios5, ios4, payment-gateway

在我的应用程序中，我实施了支付服务来向政府支付账单。所有工作都将通过调用 Web 服务来完成。我的支付网络服务也准备好了。

由于我没有做任何形式的“应用内购买”或“应用内销售”，我不想让苹果参与其中。我不想使用 Apple Payment Gateway。

我可以绕过 App Store 结构来节省 30% 的交易吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:44:22.200

该应用程序可能无法通过苹果审核。

编辑：这个问题将帮助你 [有或没有 AppStore 的 iPhone 应用程序](https://stackoverflow.com/questions/7531137/iphone-app-with-or-without-appstore/7531250#7531250)

# android - android xml文件中的硬编码字符串有什么问题？

> ID：12634211
> 
> 赞同：12
> 
> 时间：2012-09-28T05:42:23.273
> 
> 标签：android, xml, string, warnings, android-xml

我喜欢将简单的文本直接放在 xml 文件中，而无需先声明字符串。它更容易，更简单，更少混乱。但是，每当我这样做时，它总是有一个警告标志。

如果我的 xml 文件中有几十个硬编码字符串而不考虑警告怎么办？我会遇到麻烦吗？

提前致谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2015-02-18T10:41:09.283

当您在 java 代码和 xml 文件中使用硬编码字符串时，您的应用程序直接将这些字符串写入 RAM。但是，当您将它们声明为字符串资源时，它不会在应用程序启动时写入 RAM，而是在应用程序需要使用它们时写入 RAM。你可以在资源中声明十亿个字符串，你仍然可以拥有一个轻量级的 RAM 友好的 Android 应用程序。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-28T05:50:15.433

不会有任何麻烦。但是使用`string.xml`将文本放入您的应用程序被认为是一种良好的编程习惯。因为假设您想在应用程序中的多个位置使用相同的文本。每次硬编码时都很难放置文本，尤其是在文本有点大的情况下。将文本放入单个文件意味着您可以从应用程序中的任何位置访问相同的文本。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-28T05:45:19.357

不，您不会遇到麻烦，但`@string/yourString`在您的 xml 中使用将是一个很好的做法，**它会使多语言支持更容易。**

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-09-25T04:15:24.203

您的公司刚刚被收购，现在您可以阅读数千行代码并将旧名称更改为新名称，因为有人对字符串进行了硬编码。你想国际化你的代码，这样它就可以说西班牙语了手机太小了，也许你可以给小手机做个简短的描述。阅读 mvc 祝你好运

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-09-28T05:55:04.927

无需担心这些警告。也许android开发人员认为这不是一个好习惯。
但是如果你的应用程序有一天可能支持多语言，那么使用@string/mystring 是最佳实践。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-05-06T08:01:58.773

这是参考一些关于性能的评论（@PankajKumar、@TechEnd、@Ken YN）：

根据 Google 文档，“字符串是已编译的资源数据类型：指向字符串的资源指针。” （链接：http: [//developer.android.com/guide/topics/resources/string-resource.html#String](http://developer.android.com/guide/topics/resources/string-resource.html#String)）

所以，我认为这将通过减少内存占用来提高性能，尽管差异可能并不明显。

这是因为，当我们在 XML 文件中声明一个字符串时，会维护一个指向该资源的指针。每当我们需要在其他地方再次重用该资源时，我们只需获取一个指向现有 String 的指针，从而节省内存为同一个 String 分配新内存。这与使用硬编码字符串形成对比，每次都会为相同的字符串资源分配内存。

希望这可以帮助。欢迎评论。

问候，MM。

# java - 如何访问 url 并从 java servlet 获取响应？

> ID：12634213
> 
> 赞同：4
> 
> 时间：2012-09-28T05:42:23.643
> 
> 标签：java, servlets

我是 servlet 编程的新手，我的任务是编写一个 srvlet 程序，该程序将访问一个 url 并检索其内容。请帮忙

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T05:49:33.937

你需要做这样的事情

```
import java.io.*;
import java.net.URL;
import java.net.URLConnection;

import javax.servlet.http.*;
import javax.servlet.*;

public class URLServlet extends HttpServlet {
    public void doGet(HttpServletRequest req, HttpServletResponse res)
            throws ServletException, IOException {

        URL urldemo = new URL("http://www.demo.com/");
        URLConnection yc = urldemo.openConnection();
        BufferedReader in = new BufferedReader(new InputStreamReader(
                yc.getInputStream()));
        String inputLine;
        while ((inputLine = in.readLine()) != null)
            System.out.println(inputLine);
        in.close();

    }
} 
```

纯java程序

```
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URL;
import java.net.URLConnection;

public class URLServlet {

    public static void main(String s[]) {
        try {
        URL urldemo = new URL("http://www.google.com/");
        URLConnection yc = urldemo.openConnection();
        BufferedReader in = new BufferedReader(new InputStreamReader(
                yc.getInputStream()));
        String inputLine;
        while ((inputLine = in.readLine()) != null)
            System.out.println(inputLine);
        in.close();
        }catch(Exception e) {
            System.out.println(e);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T05:47:22.800

这实际上是关于 Servlet 的一个基本问题。在 SO 中，我们有一些特殊的地方可以回答这些基本问题。只需单击`servlet`右侧的标签，然后选择`info`左上角的选项卡。或访问此链接[https://stackoverflow.com/tags/servlets/info](https://stackoverflow.com/tags/servlets/info)。

那里有一个关于如何使用 servlet 的基本示例。

# windows - 我可以在 Windows 8 标签上安装 Windows 应用程序吗？

> ID：12634220
> 
> 赞同：2
> 
> 时间：2012-09-28T05:43:20.663
> 
> 标签：windows, windows-8, tablet

我可以在 Windows 8 标签上安装 Windows 应用程序吗？像办公、游戏等。或者它只支持来自 Windows 商店的应用程序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T05:47:30.247

如果它是 Windows RT 选项卡，则您只能通过 Windows 应用商店安装 Windows 8 应用程序。

如果它是 Windows 8 选项卡，除了通过 Windows 应用商店安装的 Windows 8 应用程序之外，您还可以安装可以在 Windows 7 上安装的任何 Windows 应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T12:21:31.590

是的，它只支持windos商店的应用程序，但不用担心像office这样的应用程序，你可以安装它们。

# ios - 如何在 ios 中使用 Facebook SDK 检索朋友的生日？

> ID：12634221
> 
> 赞同：3
> 
> 时间：2012-09-28T05:43:22.510
> 
> 标签：ios, facebook-graph-api

我已经`FBFriendPickerDelegate`在我的 .h 文件中实现并使用以下委托来检索信息：

```
-(BOOL)friendPickerController:(FBFriendPickerViewController *)friendPicker
shouldIncludeUser:(id <FBGraphUser>)user
{
NSLog(@"Birthday:%@",user.birthday);
return YES;
} 
```

但是每次在 NSLog 上我都会得到一个空值......结果如下。我进入 NSLog ：

```
Birthday:(null) 2012-09-28 10:20:22.450
MyFacebookApp[455:207] Birthday:(null) 2012-09-28 10:20:22.451
MyFacebookApp[455:207] Birthday:(null) 2012-09-28 10:20:22.452
MyFacebookApp[455:207] Birthday:(null) 2012-09-28 10:20:22.454
MyFacebookApp[455:207] Birthday:(null) 
```

请告诉我是否做错了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T13:57:07.107

您是否首先要求正确的[权限](https://developers.facebook.com/docs/authentication/permissions/#user_friends_perms)？

您将需要`user_birthday`并`friends_birthday`访问用户的响应。他们朋友的生日，和`user_location`/`friends_location`以获取他们当前的位置。

尽管当前用户可能会授予您这些朋友的权限，但这并不一定意味着您将获得他们所有朋友的请求数据——是否允许应用程序代表朋友访问该信息取决于这些用户的个人设置。

特别是对于生日字段，您可能只会得到日和月，而不是年份。或者当然，就像任何其他信息一样，什么都没有。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-12T07:36:29.247

终于得到答案了......生日可以通过使用Graph API检索

> [https://graph.facebook.com/me/friends?fields=id,name,birthday&access_token=your_access_token](https://graph.facebook.com/me/friends?fields=id,name,birthday&access_token=your_access_token)

另请参阅[此文档](https://developers.facebook.com/docs/reference/api/) 以获取更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-09T20:11:07.777

这是您在一个快乐的地方需要的所有代码。我必须阅读大量的帖子才能做到这一点。它是直接复制和粘贴代码。如果有帮助，请给它评分。

在您的 *.m 文件中

```
#import <FacebookSDK/FacebookSDK.h>

/******************
 FACEBOOK
 ******************/

- (IBAction) facebookActionBtn
{

    // Open session with public_profile (required) and user_birthday read permissions
    [FBSession openActiveSessionWithReadPermissions:@[@"public_profile", @"user_friends"]
                                       allowLoginUI:YES
                                  completionHandler:
     ^(FBSession *session, FBSessionState state, NSError *error) {
         __block NSString *alertText;
         __block NSString *alertTitle;
         if (!error){
             // If the session was opened successfully
             if (state == FBSessionStateOpen)
             {
                 // Your code here
                 NSLog(@"all good ..");

                 [self getUserFriendsBDays];

             }
             else
             {
                 // There was an error, handle it
                 if ([FBErrorUtility shouldNotifyUserForError:error] == YES)
                 {

                     alertTitle = @"Something went wrong";
                     alertText = [FBErrorUtility userMessageForError:error];
                     [[[UIAlertView alloc] initWithTitle:alertTitle
                                                 message:alertText
                                                delegate:self
                                       cancelButtonTitle:@"OK!"
                                       otherButtonTitles:nil] show];

                 } else {
                     // If the user cancelled login
                     if ([FBErrorUtility errorCategoryForError:error] == FBErrorCategoryUserCancelled)
                     {
                         alertTitle = @"Login cancelled";
                         alertText = @"Your friends birthday will not be entered in our calendar because you didn't grant the permission.";
                         [[[UIAlertView alloc] initWithTitle:alertTitle
                                                     message:alertText
                                                    delegate:self
                                           cancelButtonTitle:@"OK!"
                                           otherButtonTitles:nil] show];

                     } else {
                         NSLog(@"error 2 ..");
                     }
                 }
             }
         }
     }];

}

- (IBAction) getUserFriendsBDays
{

    NSLog(@"promptUserForFriendsBDays ...");

    NSString *fbAccessToken = [[[FBSession activeSession] accessTokenData] accessToken];
    //NSLog(@"permissions::%@ ... fbAccessToken: %@ ...",FBSession.activeSession.permissions, fbAccessToken);

    NSString *request = [NSString stringWithFormat:@"https://graph.facebook.com/me/friends?fields=id,name,birthday&access_token=%@",fbAccessToken];
    NSURL *URL = [NSURL URLWithString:request];

    NSError *error;
    NSString *FBOutPutStr = [NSString stringWithContentsOfURL:URL encoding:NSUTF8StringEncoding error:&error];
    //NSLog(@"FBOutPutStr: %@ ...", FBOutPutStr);

    // Convert to JSON object:
    NSDictionary* jsonObject = [NSJSONSerialization JSONObjectWithData:[FBOutPutStr dataUsingEncoding:NSUTF8StringEncoding] options:0 error:NULL];
    //NSLog(@"jsonObject=%@ ...", jsonObject);

    NSArray* dataField = [[NSArray alloc] initWithArray:[jsonObject objectForKey:@"data"]];
    NSLog(@"dataField=%@ ...", dataField);

    // Extract values:
    NSArray *userIDArray = [dataField valueForKey:@"id"];
    NSArray *userNameArray = [dataField valueForKey:@"name"];
    NSArray *userBdayArray = [dataField valueForKey:@"birthday"];

    NSLog(@"userIDArray=%d ... userNameArray=%d ... userBdayArray=%d ...", [userIDArray count],[userNameArray count],[userBdayArray count]);

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-24T15:19:38.210

在将好友添加到好友列表之前，您需要查询好友列表中的每个用户。

默认情况下，好友列表中的 FBGraphUser 对象仅包含 2 个字段：ID 和名称。更多信息可以通过查询每个好友的用户id获得。

使用 Graph API 的示例：

```
 [FBRequestConnection startWithGraphPath:[friend id] 
completionHandler:^(FBRequestConnection *connection, id result, NSError *error) {
// result is your FBGraphUser object for the queried friend
} 
```

*更新*：我忽略了这一点：有一种方法可以使用查询参数字段来获取所有朋友及其生日。您可以在此处指定所需的字段。（如果你有权限）

[http://graph.facebook.com/me/friends?fields=id,name,birthday](http://graph.facebook.com/me/friends?fields=id,name,birthday)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-28T06:45:19.800

我想我们无法获取朋友的用户名、生日和位置，但我们可以获得登录用户名、生日和所有数据。如果您找到任何解决方案，请告诉我。

# java - 将图像添加到正在运行的 JBoss Web 应用程序

> ID：12634222
> 
> 赞同：3
> 
> 时间：2012-09-28T05:43:26.903
> 
> 标签：java, file-upload, jboss, ftp, load-balancing

我们有一个网络应用程序，允许用户上传照片，然后在上传后显示在指定的页面中。上传模块将图像放置在爆炸的战争目录中，例如`webapp-root/uploads/`，一旦图像上传，就可以立即查看，如`http://mydomain.com/uploads/123.png`.

这是在一台应用服务器上工作的，但事实证明，我们将把这个应用部署到两台负载平衡的服务器上。所以我编写了一个快速文件同步模块，当用户上传图像时，它使用 FTP 在服务器之间同步文件。基本上，当用户在 上上传图像时`server1/uploads/`，我会立即通过 FTP 将其复制到`server2/uploads/`.

*编辑（添加上传过程）：*上传是这样的：

*   用户选择并提交图像
*   服务器将文件保存在`server1/uploads/`
*   后台线程执行从 server1 到`server2/uploads/`(done async)的 FTP 同步
*   server2 反之亦然

在这一点上，我遇到了问题。

该 url`http://mydomain.com`使用硬件负载平衡器指向 server1 或 server2。如果用户将图像上传`test-image.png`到 server1（然后同步到 server2），我假设`http://mydomain.com/uploads/test-image.png`无论负载平衡器将我定向到 server1 还是 server2，我都可以访问该图像。

然而事实并非如此。继续该示例，当域指向 server1 时上传的图像只有在重定向到 server1 时才能查看，如果第二个用户访问*相同*的url 但负载均衡器将他`http://mydomain.com/uploads/test-image.png`定向到 server2，则显示为断开的链接。

 *因此，每当我在其 war 目录中 FTP 复制图像时，JBoss 似乎都不会刷新第二台服务器。这有点奇怪，因为如果我将图像上传到 server1，该服务器上的 JBoss 实例会毫无问题地提供图像文件。

有什么方法可以手动告诉 JBoss “嘿，我们这里有一个新的图像文件”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:33:34.713

我已将问题缩小到接收服务器上损坏的文件。似乎特定驱动器上的文件权限/加密正在阻止我的 FTP 服务器成功复制图像，这就是为什么我的所有同步图像都无法在任何图像查看器中查看的原因。

我将不得不尝试解决这些用户权限问题。同时，我会保持这个问题的开放性，以防任何人对其他可能的原因有更多的了解。*

# php - DomPDF > 允许内存耗尽

> ID：12634229
> 
> 赞同：0
> 
> 时间：2012-09-28T05:44:24.190
> 
> 标签：php, symfony-1.4, dompdf, php-5.2

> **可能重复：**
> [X 字节的允许内存大小已用尽](https://stackoverflow.com/questions/4096582/allowed-memory-size-of-x-bytes-exhausted)

我遇到了一个非常棘手的问题。

1.  根据 phpInfo，为此脚本设置的内存限制为 256M。然而，domPDF 只得到 64M

2.  当我从前端运行 PDF 创建操作时，它就像一个魅力。当 cron 调用 sfTask 来执行此操作时，我得到以下信息：

> [2012 年 9 月 28 日 10:41:03] PHP 致命错误：/home3/myspace/public_html/prasad/myapp/lib/vendor/dompdf/include/ 中允许的内存大小为 67108864 字节用尽（尝试分配 76 个字节）第 30 行的 frame_decorator.cls.php

并且作为记录，它打印一个 PDF 大小 < 5K 的简单页面

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:02:50.473

要从 vstms 评论一个 awnser，因为 Prasad 解决了他的问题：

> 不，64M 是不够的，因此会出现“允许的内存”错误。您必须找到 CLI 的 php.ini 并在那里进行更改。另一种方法是通过命令行更改设置 - 例如 php -d memory_limit=256M /path/to/your/php-file。当程序尝试访问无效内存时，会发生分段错误。这可能是 PHP 解释器本身的问题。即使使用 shell 访问，也很难找到原因。

# php - php颜色没有正确显示

> ID：12634231
> 
> 赞同：0
> 
> 时间：2012-09-28T05:44:48.213
> 
> 标签：php, mysql, web, apache2, ubuntu-server

我正在尝试修复一个由其他人设计的崩溃站点，使用 php 设计并使用 mysql 数据库，（这是临时服务器上的链接[http://www.wafms.co.cc](http://www.wafms.co.cc)）现在我想将它移植到另一台服务器运行 ubuntu 8.04，当我移动时，图中的所有线条都变成了黑色！！没有颜色！！php渲染的图形除了黑色没有显示任何颜色，这怎么可能？什么可能是问题？

我正在使用我在[http://www.wafms.co.cc](http://www.wafms.co.cc)上使用过的相同文件，它工作正常，但它不适用于这个！:(

技术细节：-

现有服务器：- 在 12.04、mysql 5.2.42 和 apache2.4 上运行

目标服务器：-我尝试移植的服务器正在运行 ubuntu 8.04 mysql 5.1 和 apache 2.1

这个（旧的ubuntu）会产生问题吗？如果是的话如何解决？因为它是 RTAI 补丁，所以无法更新！

所以，请你能给一些专家指导和建议吗？:) 关于这个独特的问题！！;)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:58:04.950

我终于能够解决我的问题了！！问题（可能）与我的 php5/apache2 安装有关！我尝试在最近的 LAMPP 服务器上运行我的网站，出于我的兴趣，该网站开始像 CHARM 一样运行！！

可以查看[www.wafms.co.cc](http://www.wafms.co.cc)

不知道技术原因，但找到了解决方案！谢谢大家的帮助..

# linux - GNU make 中的复杂模式替换

> ID：12634234
> 
> 赞同：1
> 
> 时间：2012-09-28T05:44:57.673
> 
> 标签：linux, makefile

我有以下想法：所有源文件都在一个`SRC`目录中，而所有目标文件都保存在一个`OBJ`目录中。在 GNU makefile 中，我想自动搜索所有源文件并创建源文件对象列表和 o 文件对象列表。我尝试了以下两种语法，我都得到了

没有规则来制作目标`/home/Serial/obj/Serial.o'，需要...

这里有一些想法：

```
c_files = $(wildcard $(SRC)/*.cpp)
o_files = $(patsub %.c,%.o,$(c_files) )

c_files = $(wildcard $(SRC)/*.cpp)
o_files = $(patsub $(SRC)/%.c,$(OBJ)/%.o,$(c_files) ) 
```

该`c_files`变量似乎已正确填充，但我无法创建对象列表。根据文档，第二个想法应该有效，但没有。替换语句有什么问题。

要明确：我希望有例如

```
c_files = src/file1.cc src/file2.cc src/file109.cc 
```

我想从中创建以下列表

```
o_files = obj/file1.o obj/files.o obj/file109.o 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:01:12.100

有一个更简单的方法：

```
o_files = $(c_files:.cpp=.o) 
```

并获得一个自动编译目标文件的模式：

```
obj/%.o: src/%.cpp
    $(CXX) $(CXXFLAGS) $(CPPFLAGS) -c $^ -o $@ 
```

结合：

```
c_files = $(wildcard $(SRC)/*.cpp)
o_files = $(c_files:.cpp=.o)

all: $(PROG)

$(OBJ)/%.o: $(SRC)/%.cpp
    $(CXX) $(CXXFLAGS) $(CPPFLAGS) -c $^ -o $@

$(PROG): $(o_files)
    $(LD) $(LDFLAGS) $^ -o $@ 
```

# windows-8 - 在 Metro 应用程序的单个磁贴上显示具有不同图像的多个通知？

> ID：12634240
> 
> 赞同：0
> 
> 时间：2012-09-28T05:45:47.947
> 
> 标签：windows-8, microsoft-metro, push-notification, winjs

我有一个地铁应用程序，在我的应用程序 Tile 上，我想显示 2 个不同的图像和一些数字。每当我的服务更新时，应该更改这个图像和数字。我做了一个推送通知来显示单个图标。但我无法获得带有通知的 2 张图片？谁能给我建议这样做。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T15:21:19.597

您只能使用磁贴管理器提供的“模板”。该列表可在[MSDN 上找到，并附有它们的外观示例](http://msdn.microsoft.com/en-us/library/windows/apps/Hh761491.aspx)。

如果你*真的*需要将它们显示为 SxS，那么你可以随时使用隐藏`<canvas>`来生成图像，然后将其保存到磁盘。

# django - 在 Django 中实现每年、每月的存档

> ID：12634242
> 
> 赞同：1
> 
> 时间：2012-09-28T05:45:56.170
> 
> 标签：django, django-templates, django-views

我以前在我网站的不同页面上建立了这样的档案。不过，这次Django似乎不想和我合作了。

```
class IndexView(ArchiveIndexView):
    template_name = 'cms/blog_base.html'
    date_field = 'pub_date'
    latest = '20'
    model = Entry

In template {% for year in date_list %} {{ year|date:"Y" }} gives me a date relating to none of my entries. {% for entry in object_list % } {{ entry.pub_date|date:"Y" }} obviously outputs the correct date for the entry but as the entries grow I can only imagine it will continue to duplicate the years and months. 
```

那么我做错了什么？为了将日期与我的条目集相关联，我必须在 ArchiveIndexView 和模板标记中做什么？过去它们位于单独的页面上，因此被 url conf 中的正则表达式过滤。我看到的一个解决方案是使用一些原始 SQL 创建一个自定义管理器，这就是我正在看的？如果是这样，我将重新考虑这一切。提前感谢社区。

更新：示例：我在主页上想要的内容类似于此页面上的内容[https://unweb.me/blog/monthly-archives-on-Django](https://unweb.me/blog/monthly-archives-on-Django) 我现在也在考虑尝试他们的解决方案就像一个不错的 UI/UX。但是，我是一个简单的人，如果有的话，我很想走简单的路线。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:14:29.057

您在寻找[重组](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#regroup)功能吗？

**例子：**

```
{% regroup object_list by date_field|date:"Y" as year_list %}
{% for year in year_list %}
    {% regroup year.list by date_field|date:"F" as month_list %}
    {% for month in month_list %}
        {{ month.grouper }} / {{ year.grouper }} <br />
        {{ month.list }}
    {% endfor %}
{% endfor %} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T22:06:55.987

我从一个简短的博客教程在线找到了一个更好的解决方案，它实现了以下内容。我验证它是否有效。

```
def mkmonth_lst():
"""Make a list of months to show archive links."""
if not Post.objects.count(): return []

# set up vars
year, month = time.localtime()[:2]
first = Post.objects.order_by("created")[0]
fyear = first.created.year
fmonth = first.created.month
months = []

# loop over years and months
for y in range(year, fyear-1, -1):
    start, end = 12, 0
    if y == year: start = month
    if y == fyear: end = fmonth-1

    for m in range(start, end, -1):
        months.append((y, m, month_name[m]))
return months

def main(request):
"""Main listing."""
posts = Post.objects.all().order_by("-created")
paginator = Paginator(posts, 10)
try: page = int(request.GET.get("page", '1'))
except ValueError: page = 1

try:
    posts = paginator.page(page)
except (InvalidPage, EmptyPage):
    posts = paginator.page(paginator.num_pages)

return render_to_response("list.html", dict(posts=posts, user=request.user,
                                            post_list=posts.object_list,    months=mkmonth_lst()))

# The template info
    <div id="sidebar">
    Monthly Archive
    <p>
    {% for month in months %}
        {% ifchanged month.0 %} {{ month.0 }} <br /> {% endifchanged %}
        <a href="{% url blog.views.month month.0 month.1 %}">{{ month.2 }}</a> <br />
    {% endfor %}
    </p>
</div> 
```

这将在您的主页上生成一个以年份分隔的列表，其中包含仅包含帖子的月份。

# sql-server - VB.NET 2005 网站变得无响应

> ID：12634245
> 
> 赞同：0
> 
> 时间：2012-09-28T05:46:13.860
> 
> 标签：sql-server, vb.net

我正在开发一个在 VB.NET 2005 中构建的网站。它有一个数据输入页面，其中有一个按钮——“保存”，单击该按钮会将数据插入数据库（SQL Server）。该网站对按钮的前 10-12 次点击反应良好，但此后当用户第 13 次尝试保存数据时，页面/网站会在一段时间内无响应，即挂起。相同的可能原因/补救措施是什么？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T20:34:18.320

检查以下几点：

1.  您的代码正在处理用于将记录连接和插入数据库的所有对象。

2.  检查网页大小；每次点击保存按钮都会增加吗？
    （您可能在插入数据库之前将数据存储到视图状态中。）

3.  检查 Web 服务器上的请求频率。

4.  检查插入记录的表是否被其他进程锁定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:21:20.373

检查您是否正确处理了所有连接、数据读取器、命令、数据适配器..此外，检查字符串是否已连接并将其替换为 StringBuilders..看起来您的系统正在将内存分页到磁盘..

# c# - 可以获得 DynamicObject 的链式值吗？

> ID：12634250
> 
> 赞同：5
> 
> 时间：2012-09-28T05:47:02.160
> 
> 标签：c#, dynamic

创建一个实现 DynamicObject 的类

```
public class Test : DynamicObject
{
    public override bool TryGetMember(GetMemberBinder binder, out object result)
    {
        if (binder.Name == ("Posts"))
        {
            result = "property accessed was 'Posts'";
            return true;   
        }

        return base.TryGetMember(binder, out result);
    }
} 
```

我可以打电话

```
dynamic test = new Test();
var result = test.Posts; 
```

并且值为`result`“动态测试 = new Test(); var result = test.Posts;”

没关系。

我想知道的是，当 TryGetMember 被调用时，是否有可能获得链式值。

所以如果我打电话：

```
dynamic test = new Test();
var result = test.Posts.Load(123); 
```

然后我可以做类似的事情：

```
if (binder.Name == ("Posts"))
{
    if (... == "Load")
        result = this.Load<Post>(... 123);
    return true;   
} 
```

这样的事情可能吗？我想不出办法。

到目前为止，我有：

```
class Program
{
    static void Main(string[] args)
    {
        dynamic test = new Test();
        dynamic result = test.Posts.Load(123);

        Console.WriteLine(result.Name);

        dynamic result2 = test.Posts.Load(909);

        Console.WriteLine(result2.Name);

        Console.ReadKey();
    }
}

public class Test : DynamicObject
{
    public override bool TryGetMember(GetMemberBinder binder, out object result)
    {
        if (binder.Name == ("Posts"))
        {
            result = new ChainBuilder(this, "Post");
            return true;   
        }

        return base.TryGetMember(binder, out result);
    }

    public T Load<T>(int id) where T : Post, new()
    {
        if (id == 123)
            return new T {Id = 123, Name = "Bananas"};

        return new T {Id = 0, Name = "Others"};
    }

    private class ChainBuilder : DynamicObject
    {
        public dynamic OriginalObject { get; set; }
        public string PropertyInvoked { get; set; }

        public ChainBuilder(DynamicObject originalObject, string propertyInvoked)
        {
            OriginalObject = originalObject;
            PropertyInvoked = propertyInvoked;
        }

        public override bool TryInvokeMember(InvokeMemberBinder binder, object[] args, out object result)
        {
            if (binder.Name == "Load")
            {
                result = OriginalObject.Load<Post>((int)args[0]);
                return true;
            }

            return base.TryInvokeMember(binder, args, out result);
        }
    }
}

public class Post
{
    public int Id { get; set; }
    public string Name { get; set; }
} 
```

这要归功于 Bartosz。

但看起来这基本上是 Marc 提供的。

给我一个好的起点！我暂时将其保留为任何其他建议。

这个问题导致

*   [https://gist.github.com/3798206](https://gist.github.com/3798206)
*   [https://github.com/phillip-haydon/Raven.DynamicSession](https://github.com/phillip-haydon/Raven.DynamicSession)

不是一个真正的项目，只是原型设计，但实现了我们想要的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:05:22.777

评估的每一步都是独立的；它不评估`.Posts.Load(123)`- 它评估`.Posts`，然后单独评估`.Load(123)`，所以不：你不能一步完成。诀窍是自己编写值，例如：

```
using System;
using System.Dynamic;
using System.Text;
static class Program {
    static void Main() {
        dynamic test = new Test();
        var result = test.Posts.Foo.Bar(123, "abc");
        Console.WriteLine(result);
    }
}
public class Test : DynamicObject
{
    public override bool TryGetMember(GetMemberBinder binder,
        out object result)
    {
        result = new MemberAccessWrapper("member accessed was " + binder.Name);
        return true;
    }
    private class MemberAccessWrapper : DynamicObject
    {
        private readonly string message;
        public override bool TryInvoke(InvokeBinder binder, object[] args,
            out object result)
        {
            StringBuilder builder = new StringBuilder(message).Append("(");
            for(int i = 0 ; i < args.Length ; i++) {
                if(i!=0)builder.Append(", ");
                if (args[i] == null) {
                    builder.Append("null");
                } else if (args[i] is string) {
                    builder.Append("@\"").Append(((string)args[i])
                         .Replace("\"", "\"\"")).Append("\"");
                } else {
                    builder.Append(args[i]);
                }
            }
            builder.Append(")");
            result = new MemberAccessWrapper(builder.ToString());
            return true;
        }
        public MemberAccessWrapper(string message)
        {
            this.message = message;
        }
        public override string ToString()
        {
            return message;
        }
        public override bool TryGetMember(GetMemberBinder binder,
            out object result)
        {
            result = new MemberAccessWrapper(message + "." + binder.Name);
            return true;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T05:59:57.823

也许你可以通过实现基本的动态接口而不是“DynamicObject”来做到这一点，但最简单的方法是让你动态调用“Posts”只返回另一个处理“Load”方法的DynamicObject。

# javascript - 粘性标题的框阴影应仅在滚动时激活

> ID：12634256
> 
> 赞同：3
> 
> 时间：2012-09-28T05:47:37.197
> 
> 标签：javascript, header, scroll, css

我有一个粘性标题，它下面有一个盒子阴影。我希望只有当用户向下滚动时才会出现框阴影。一旦用户滚动回页面顶部，阴影也应该消失。

[我在这个jsfiddle](http://jsfiddle.net/3cRe5/)中看到了类似的解决方案：

```
var header = $('.header');

$(window).scroll(function(e){
    if(header.offset().top !== 0){
        if(!header.hasClass('shadow')){
            header.addClass('shadow');
        }
    }else{
        header.removeClass('shadow');
    }
}); 
```

CSS：

```
.header {
    font-size:24px; 
    width:100%;
    height:60px; 
    background:white; 
    position:fixed
}

.header.shadow {
    box-shadow:0px 5px 5px rgba(0,0,0,.5);
}

body {
    height:1000px; 
    background: rgb(169,3,41); 

    /* Old browsers */
    background: -moz-linear-gradient(top, rgba(169,3,41,1) 0%, rgba(143,2,34,1) 44%, rgba(109,0,25,1) 100%); 

    /* FF3.6+ */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(169,3,41,1)), color-stop(44%,rgba(143,2,34,1)), color-stop(100%,rgba(109,0,25,1))); 

    /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top, rgba(169,3,41,1) 0%,rgba(143,2,34,1) 44%,rgba(109,0,25,1) 100%); 

    /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(top, rgba(169,3,41,1) 0%,rgba(143,2,34,1) 44%,rgba(109,0,25,1) 100%); 

    /* Opera 11.10+ */
    background: -ms-linear-gradient(top, rgba(169,3,41,1) 0%,rgba(143,2,34,1) 44%,rgba(109,0,25,1) 100%); 

    /* IE10+ */
    background: linear-gradient(top, rgba(169,3,41,1) 0%,rgba(143,2,34,1) 44%,rgba(109,0,25,1) 100%); 

    /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#a90329', endColorstr='#6d0019',GradientType=0 ); /* IE6-9 */
} 
```

然后在这里实施：http: [//www.provisiontree.co.in/](http://www.provisiontree.co.in/)

有谁知道如何让盒子阴影出现在示例网站中的淡入淡出效果中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:42:23.603

您需要捕捉`scroll`窗口的事件。

您可以在这里查看使用 jQuery 的小提琴：http: [//jsfiddle.net/DQv33/](http://jsfiddle.net/DQv33/)

窗口的`scrollTop`属性将显示您是否在顶部`($(window).scrollTop() == 0)`，因此这是设置/取消设置标题的框阴影的条件。

# c++ - 结构向量未对 C++ 进行排序

> ID：12634257
> 
> 赞同：0
> 
> 时间：2012-09-28T05:47:42.893
> 
> 标签：c++, sorting, struct

我需要对一个由数字和索引组成的结构进行排序，以便在排序后检查索引和数字。我的结构是：

```
 struct data{
     float   number;
      size_t index;
      };

    //My sorting function is:
     bool by_number( const data& left, const data& right)
               {
               return (left.number < right.number);
    }

   // My code to sort is:
    std::vector<data>dist_sort;
    dist_sort.reserve(5);
    dist_sort[0].number=33;
    dist_sort[1].number=36;
    dist_sort[2].number=12;
    dist_sort[3].number=103;
    dist_sort[4].number=233;

    dist_sort[0].index=1;
    dist_sort[1].index=2;
    dist_sort[2].index=3;
    dist_sort[3].index=4;
    dist_sort[4].index=5;

    std::sort(dist_sort.begin(),dist_sort.end(),by_number);

    cout<<dist_sort[0].number<<endl;
    cout<<dist_sort[0].index<<endl; 
```

我希望输出为 12 和 3，但我没有得到它。代码编译，我已经包含了所有相关的头文件。请帮帮我！我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:50:37.850

```
dist_sort.reserve(5); 
```

将保留足够的空间，但实际上并未构造元素。这是错误的。

你需要`resize`。或者只是使用`push_back`, 而不是`operator[]`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:03:56.367

你用`std::vector`错了。`reserve`只为进一步的插入保留内存，它不会改变向量包含的实际元素的数量（即不会改变`size()`报告的内容）。

因此，您将大小为 0 的向量传递给`std::sort()`，因此它什么也不做。

要么替换`reserve(5)`为`resize(5)`，要么将元素分配替换为对 的调用`push_back()`。

使用的唯一原因`reserve()`是在插入大量元素时避免重新分配（并因此复制）。`std::vector`将元素存储在连续的内存块中，因此如果新插入的元素不适合先前分配的块，则必须复制所有元素。`std::vector`通常每次发生时都会将分配的内存区域大小加倍，这将插入的平均成本降低到 O(n)（从 O(n^2)，如果在*每次*插入时都发生复制）。但是所有复制的成本仍然很高，例如，如果您将 tousands（或更多）元素插入到以前为空的`std::vector`. 在这种情况下，您可以预先为其分配所需大小的内存块`reserve()`，然后各个插入只需要存储元素并增加向量大小。但从`reserve()`不修改可观察状态，只修改向量的内部不可见状态。

# javascript - 如何强制浏览器向下滚动以显示所有具有“绝对”或“固定”定位的元素？

> ID：12634258
> 
> 赞同：0
> 
> 时间：2012-09-28T05:47:45.997
> 
> 标签：javascript, jquery, css, browser, scroll

我有一个 div 元素“悬停”在页面主体上方：

```
<body>
<div id="this_element_hovers" class="like_a_dialogue_box" style="position:fixed">
    POPUP CONTENT
</div>
</body> 
```

问题是，当#this_element_hovers 长于窗口高度时，浏览器不会滚动显示整个对话框/弹出窗口。如何让浏览器滚动显示整个对话框？

感谢你们！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:00:01.927

根据您的要求调整 div 的高度和宽度并设置溢出属性滚动

```
<div id="this_element_hovers" class="like_a_dialogue_box" style="position:fixed;width:200px;height:200px;overflow:scroll;">
    POPUP CONTENT
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:00:13.820

那么你的css本身说它是固定的，它不能移动，而且它的长度也很大。

我建议您将固定 div 的内容放置在具有**overflow:auto** css 属性的可滚动 div 中，并使 div 的高度更小，以便在屏幕上可见。

# java - 我可以使用相同的 JDBC 连接、语句和结果集在 JDBC 中执行两个查询吗

> ID：12634266
> 
> 赞同：9
> 
> 时间：2012-09-28T05:48:25.823
> 
> 标签：java, jdbc

我正在对用户进行身份验证

```
public static boolean login(DataManager dataManager, String userName, String password) {    
    boolean authenticated = false;      
    Connection connection = dataManager.getConnection();        
    if (connection != null) {           
         try {                           
             Statement s = connection.createStatement();
             String sql = "query";                 
             try {                   
                 ResultSet rs = s.executeQuery(sql);                                     
                 try {                      
                     while (rs.next()) {                             
                        String group_code = rs.getString(1);
                        String orgaunit = rs.getString(2);

                        authenticated = true;                            
                     } //end of while()                      
                 } finally {                     
                     rs.close();                     
                 }                   
             } finally {
                 s.close();                  
             }

         } catch(SQLException e) {               
             //System.out.println("Could not login from dataabse:" + e.getMessage());                
         } finally {             
             dataManager.putConnection(connection);                          
         }                  
    } //end of if (connection != null)      
    return authenticated;       
} //end of login() 
```

我正在关闭连接`dataManager.putConnection(connection)`。我想问一旦用户登录然后我必须更新用户的状态并维护日志历史记录。我可以用这样的东西吗

```
try {
    Statement s = connection.createStatement();
    String sql = "query";                 
    try {                    
        ResultSet rs = s.executeQuery(sql);                                  
        try {
            while (rs.next()) {                          
                String group_code = rs.getString(1);                                                
                authenticated = true;                            
            } //end of while()  

            if (autherntcated == true) {
                sql = "query2(update status)"; 
                rs = s.executeQuery(sql);

                while (rs.next()) {
                    //dos tuff
                }

                sql = "anotherQuery";
                rs = s.executeQuery(sql);
                while (rs.next()) {
                    //do stuff
                }

            }

        } finally {                      
            rs.close();                      
        }                    
    } finally {
        s.close();                   
    }                
} catch(SQLException e) {
    //System.out.println("Could not login from dataabse:" + e.getMessage());
} finally {              
    dataManager.putConnection(connection);                           
} 
```

意味着使用相同的连接、相同的语句和相同的结果集执行其他查询还是错误的方法？

谢谢你。

**编辑 - - - - - - - - - - - - - - - - - - - - - - - - - -------------**

```
if (connection != null) {
    try {
        String sql = "query";
        PreparedStatement prepStatement = connection.prepareStatement(sql);
        try {
            ResultSet rs = prepStatement.executeQuery(sql);                 
            try {
                while (rs.next()) {
                    String group_code = rs.getString(1);
                    authenticated = true;
                } //end of while()
            } finally {                      
                rs.close();                      
            }
        } finally {
            prepStatement.close();                   
        }

        /// Addition   
        if (authenticated == true) {
            updateUser(connection, userName);
        }
    } catch(SQLException e) {
        //System.out.println("Could not login from dataabse:" + e.getMessage());
    } finally {
        dataManager.putConnection(connection);
    }
} //end of if (connection != null) 
```

更新方法：

```
private static void updateUser(Connection connection, String userName) {

    try {
        String sql = "UPDATE users SET status_code = 'A' WHERE login_id = '" + userName + "'";    
        PreparedStatement prepStatement = connection.prepareStatement(sql);
        try {
            int numberOfRowsUpdated = prepStatement.executeUpdate(sql);                 
        } finally {
            prepStatement.close();                   
        }

        maintainHistory(connection);

    } catch(SQLException e) {
    //System.out.println("Could not login from dataabse:" + e.getMessage());
    }

} //end of updateUser() 
```

维护历史：

```
private static void maintainHistory(Connection connection) {

    try {
        String sql = "INSERT INTO auditlog_user_logins(user_code,logintime,prstid) VALUES ();";
        PreparedStatement prepStatement = connection.prepareStatement(sql);          
        try {            
          int numberOfRowsUpdated = prepStatement.executeUpdate(sql);                   

       } finally {

        prepStatement.close();                   

       }

     } catch(SQLException e) {

         //System.out.println("Could not login from dataabse:" + e.getMessage());

     }

} //end of maintainHistory() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T07:35:07.353

> 我可以使用相同的 JDBC 连接，语句吗

是的。您可以在关闭之前重复使用它们。

> 和结果集

不，这个问题没有意义。结果集是执行查询或更新的结果。不存在重复使用它的问题。我想您需要在执行下一个查询或更新之前关闭前面的结果集。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T05:56:52.750

我建议重用连接，因为每次尝试查询数据库时都建立连接可能会产生性能开销。

至于语句，我建议切换到 PreparedStatement。它们不仅被缓存，而且是保护自己免受 SQL 注入的一种好方法。所以事先建立你的查询，执行它们，最后在你完成后关闭它们。重用 PreparedStatement 意味着您将参数值替换为相同的 PreparedStatement 并执行相同的操作。

例如，如果您有一个 PreparedStatement，例如：

```
PreparedStatement preparedStatement = connection.prepareStatement("SELECT [col_names] from [table_name] where [col_1_value] = ? and [col_2_value] = ?") 
```

在这种情况下，您只需为参数替换新值即可多次*重复使用*相同的*PreparedStatement 。*通常，对于您的情况，您将有多个 PreparedStatement。由于这些语句是缓存的，因此当您执行这些语句时，它们不会对性能造成很大影响。

这是一个很好的教程，可以向您介绍 PreparedStatement，以防您需要：[“使用 PreparedStatement”](http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)

ResultSets - 好吧，我不明白你怎么能重用它。当你完成它们时关闭它。根据[Javadoc](http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html)：

> 当生成它的 Statement 对象关闭、重新执行或用于从多个结果序列中检索下一个结果时，ResultSet 对象将自动关闭。

*但是，请确保在完成使用后关闭连接。可重用性是一件好事，但资源管理不善不是*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-20T02:05:35.537

用相同的问题回答了不同的测试用例。

> 我可以使用相同的 JDBC 连接、Statement 和 ResultSet 在 JDBC 中执行两个查询吗

我们不能并行或并发重用 Connection、Statement 和 ResultSet，如下所示：

```
Connection con = databaseConnector.getConnection();
PreparedStatement stmt1=con.prepareStatement("select * from emp");  
ResultSet rs1=stmt.executeQuery();  
while(rs1.next()){  // get SQLException in second iteration
System.out.println(rs1.getInt(1)+" "+rs1.getString(2));  
    //As soon as you execute the following query, the previous Statement and ResultSet are implicitly closed.
    // to resolve we the problem, we should not use the above used Connection. We have to use new Connection.
    PreparedStatement stmt2=con.prepareStatement("select * from address");  
    ResultSet rs2=stmt2.executeQuery();  
    System.out.println(rs2.getString(1)+" "+rs2.getString(2));  

} 
```

*   关闭 a`Connection`关闭 a `Statement`，关闭时也`Statement`隐式关闭`ResultSet`。
*   关闭 a`Statement`关闭`ResultSet`但不关闭连接。
*   关闭 a`ReultSet`只会关闭自己，而不是`Statement`.
*   默认情况下，只能`ResultSet`同时`Statement`打开一个。

**最佳实践：**

*   连接不是线程安全的，因此跨请求共享它们不是一个好主意。
*   打开一个数据库连接很昂贵，应该使用 ConnectionPool 来共享连接。
*   `ResultSet`完成工作后立即关闭`ResultSet`。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-28T06:41:59.783

您可以使用[UpdatableResultSet](http://www.xyzws.com/Javafaq/how-to-use-updatable-resultset-in-jdbc/179)。

# winforms - 在 DataGridView 中换行

> ID：12634267
> 
> 赞同：0
> 
> 时间：2012-09-28T05:48:28.097
> 
> 标签：winforms, datagridview

我在 winform 应用程序（框架 2.0）中使用 DataGridView
我正在设置

`DefaultCellStyle.WrapMode = DataGridViewTriState.True and AutoSizeRowsMode = DataGridViewAutoSizeRowsMode.AllCells`

但它不是在单元格中包装文本。我正在使用以下代码在 DataGridView 中添加行。

```
Grid.Rows.Add(new object(){"sdfsdfsdf sdfdsf"}) 
```

如果我使用数据表并使用 Grid.DataSource 分配它，它会正确包装文本。

有没有解决这个问题的方法？

谢谢，

# oracle - Oracle APEX，自动编号不起作用？

> ID：12634268
> 
> 赞同：1
> 
> 时间：2012-09-28T05:48:32.017
> 
> 标签：oracle, plsql, sequence, oracle-apex

我是 Oracle 的新手，也是 Oracle Application Express 的新手。

我正在阅读手册，并且正在尝试创建一个包含 3 个字段的表：

USER_ID：编号、主键、自动编号

USER_NAME：VARCHAR2，唯一

密码：VARCHAR2

我使用 APEX SQL Workshop 向导创建表，但是当我尝试执行以下操作时：

```
INSERT INTO Schema.USERS (USER_NAME,PASSWORD) VALUES ('planet','password'); 
```

...我被告知违反了对主键的唯一约束。

表创建向导自动创建了一个触发器。它看起来像这样：

```
create or replace trigger "BI_USERS" 
  before insert on "USERS"               
  for each row  
begin   
  if :NEW."USER_ID" is null then
    select "USERS_SEQ".nextval into :NEW."USER_ID" from sys.dual;
  end if;
end; 
```

我的印象是，这会自动在 USERS 的 USER_ID 字段中找到最高数值，并自动为每个新的 INSERT 分配一个递增的值，但这似乎没有发生。

谁能建议我可能做错了什么？

非常感谢

pt

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T07:17:28.730

**序列**：[http ://www.techonthenet.com/oracle/sequences.php](http://www.techonthenet.com/oracle/sequences.php)

> *（引用自链接文章）*
> 在 Oracle 中，您可以使用序列创建自动编号字段。序列是 Oracle 中用于生成数字序列的对象。当您需要创建一个唯一的数字作为主键时，这会很有用。
> 
> ...
> 
> 该插入语句将向供应商表中插入一条新记录。供应商 ID 字段将被分配来自供应商序列的下一个数字。供应商名称字段将设置为卡夫食品。

你说：

> `USER_ID`我的印象是这会自动找到字段中的最高数值，`USERS`并自动为每个新 INSERT 分配一个递增的值，但这似乎没有发生。

不会。序列只会根据最后一个值和增量生成下一个值，并且与您的数据无关。

```
select nvl(max(user_id), 0) + 1 
  into v_next_val 
  from users 
```

是可以查看您的数据并`USER_ID`使用`1`.

如果现在由于主键 on 导致违反约束`USER_ID`，这可能意味着您已将数据插入到 users 表中，并且该数据包含`USER_ID`列的值。`USER_ID`例如，假设创建了 3 条记录并在不使用序列的情况下手动为其赋值

```
insert into users (user_id, user_name) values (1, 'John');
insert into users (user_id, user_name) values (2, 'Jerry');
insert into users (user_id, user_name) values (3, 'Bob'); 
```

然后，当您开始使用该序列（或仅在那时创建它）时，该序列将从 value = 指定的开头开始`1`。这样做

```
insert into users (user_name) values ('planet'); 
```

因为 sequence.nextval 将是 1，所以会产生约束冲突。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T11:50:47.307

正如@Tom 所说，如果您在表中插入了为 USER_ID 指定值的行，则绕过了序列的使用，并且您现在可能在表中的行中包含 USER_ID 值，这些行与将从序列中获取的值重复；因此，在插入新行时，您会收到 PRIMARY KEY CONSTRAINT VIOLATION 错误。要解决此问题，请编写一个小脚本，该脚本“使用”序列中的值并丢弃它们，如下所示：

```
DECLARE
  n       NUMBER := 122;  -- or however many sequence values you need to consume
  seqVal  NUMBER;
BEGIN
  FOR i IN 1..n LOOP
    SELECT USERS_SEQ.NEXTVAL INTO seqVal FROM DUAL;
  END LOOP;
END; 
```

另一种选择是删除序列并使用大于 USERS.USER_ID 的最大值的最小值重新创建它。

分享和享受。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-09-27T08:40:31.053

这可能会有所帮助：

```
create or replace TRIGGER  "TR_USER"
before insert on "USER"
for each row
begin   
   if :NEW."IDUSER" is null then
     select max("IDUSER")+1 into :NEW."IDUSER" from USER;
  end if;
end; 
```

# iphone - Apple iOS 是否支持向后兼容？

> ID：12634271
> 
> 赞同：0
> 
> 时间：2012-09-28T05:48:53.890
> 
> 标签：iphone, objective-c, ios, cocoa-touch, ipad

嗨，Apples iOS 是否具有向后兼容性？我怀疑在 iOS 6 中苹果是否引入了许多新功能，例如我们有 UICollectionView（用于网格）如果我使用 iOS6 的此类和控件，那么是否有任何标志或设置更改或任何额外的代码片段可供开发人员使用，以便也支持 iOS<6。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T05:54:24.247

您可以使用[NSClassFromString](https://developer.apple.com/library/mac/documentation/cocoa/reference/foundation/miscellaneous/foundation_functions/reference/reference.html#//apple_ref/c/func/NSClassFromString)函数检查`UICollectionView's`课程的可用性。

一个简单的 Twitter 示例：

```
Class TWTweetComposeViewControllerClass = NSClassFromString(@"TWTweetComposeViewController"); 

if (TWTweetComposeViewControllerClass != nil) 
{
     // this class only available in iOS 5
     // so new code
}
else
{
     // Means older version
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:23:46.077

当我发现[一些](https://github.com/AalokParikh/PSTCollectionView)类似于 iOS4.3+ 的 iOS6 的 UICollectionView 的东西时，你必须找出或创建这种类型的控件并在条件编码中使用它们，如上述答案中所述。

快乐编码:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T05:56:44.813

您肯定需要进行条件编码，记住运行应用程序的设备上 ios 版本上的可用 api

# java - javax.rms.MarshallException：缺少肥皂主体或信封

> ID：12634273
> 
> 赞同：0
> 
> 时间：2012-09-28T05:48:58.010
> 
> 标签：java, web-services, java-me, wsdl, marshalling

我正在尝试从我的 midlet 调用服务，但它给了我异常**javax.rms.MarshallException** : Missing Soap Body or Envelope。**它在模拟器中运行良好**。但是当我在我的诺基亚 c1 上尝试这个时，它会抛出一个异常。我的 wsdl 文件或其他有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:13:28.173

您收到此错误`javax.rms.MarshallException`是因为您正在访问 Web 服务。要访问 Web 服务，您需要**JSR 172** API。我相信 s40 系列手机没有这种支持。（背景：我试图在谷歌上搜索“[诺基亚 C1-00 规范](http://www.google.co.in/#hl=en&sugexp=les;&gs_nf=1&pq=j2me+rest%20api&cp=25&gs_id=b1&xhr=t&q=Nokia%20C1-00%20Specifications&pf=p&sclient=psy-ab&oq=Nokia+C1-00+Specification&gs_l=&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.&fp=16c18e40320a1066&biw=1600&bih=787)”并显示结果，没有找到 JSR 172 API 支持。）

因此，要克服这种情况，您需要使用**[Rest API](http://www.google.co.in/#hl=en&sclient=psy-ab&q=J2ME+Rest+api&oq=J2ME+Rest+api&gs_l=hp.3..0i30j0i8i30.439199.443298.6.443777.14.11.3.0.0.0.398.2763.0j1j9j1.11.0.les;..0.0...1c.1.ZI6YgXF7nis&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.&fp=16c18e40320a1066&biw=1600&bih=787)**转换您的 Web 服务代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T04:46:57.200

更改服务器解决了我使用码头服务器的问题，但它给了我这个错误。我迁移到 glassfish 服务器并解决了这个问题。

# wpf - WPF Dispatcher 命令行性能下降

> ID：12634274
> 
> 赞同：1
> 
> 时间：2012-09-28T05:48:59.460
> 
> 标签：wpf, dispatcher

`Dispatcher.invoke()`我有一个 WPF 应用程序，它是在启动时调用的。

当我通过双击启动应用程序时出现问题`Dispatcher.invoke()`，执行需要 1 秒，但是当我从命令行启动应用程序时，第一次完成需要 9 秒以上。这与我在`Dispatcher.invoke()`方法中所写的内容无关。

我观察到这种行为是第一次`Dispatcher.invoke()`从命令行调用。

# c# - 我可以在属性内使用 C# 锁定运算符来同步对变量的读/写访问吗？

> ID：12634275
> 
> 赞同：3
> 
> 时间：2012-09-28T05:49:14.347
> 
> 标签：c#, c#-4.0

我目前编写 C# WPF 应用程序。我需要同步访问以从三个线程读取/写入变量。该变量被声明为应用程序主窗口类的成员。所以我通过以下方式声明它：

```
public partial class MainWindow : Window
{
    . . . . .
    #region Fields
    /// <summary>
    /// The variable myVar to synchronous access for read/write. 
    /// </summary>
    private static Double myVar;
    #endregion
    . . . . .
} 
```

我可以通过以下方式提供对它的同步访问吗：

1）将同步对象定义为MainWindow类的成员

```
public partial class MainWindow : Window
{
    . . . . .
    #region Fields
    /// <summary>
    /// This object is controlling the synchronous access for read/write to myVar. 
    /// </summary>
    private static Object syncObj;
    #endregion
    . . . . .
} 
```

2) 在 MainWindow 类中定义下一个属性

```
public partial class MainWindow : Window
{
    . . . . .
    #region Properties
    /// <summary>
    /// This property supports synchronous access to myVar for read/write. 
    /// </summary>
    public static Double MyVar
    {
        lock(syncObj)
        {
            get{ return myVar; }
            set{ if(myVar != value) myVar = value; }
        }
    } 
    #endregion
    . . . . .
} 
```

这个属性会以正确的方式工作吗？它会确保对 myVar 变量进行读/写的同步访问的确定方法吗？我不想使用 volatile 或方法作为 Thread.VolatileRead 和 Thread.VolatileWrite，因为很多人说锁操作符工作得更好并且允许编译器优化代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:54:09.913

这似乎绝对没问题，只要主窗口不引用私有变量本身，而是引用属性。

From [lock 语句（C# 参考）](http://msdn.microsoft.com/en-us/library/c5kehkcz.aspx)

> lock 关键字通过获取给定对象的互斥锁、执行语句然后释放锁来将语句块标记为临界区。
> 
> lock 关键字确保一个线程不进入代码的临界区，而另一个线程在临界区。如果另一个线程试图输入一个锁定的代码，它将等待、阻塞，直到对象被释放。

另一个有趣的选择可能是[ReaderWriterLockSlim 类](http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx)

> 表示用于管理对资源的访问的锁，允许多个线程进行读取或独占访问进行写入

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T09:54:49.497

作为 StackOverflow 用户之一，我认为您的方法没有任何问题。就我个人而言，我还建议您看一下 ReaderWriterLockSlim 类，因为相对于代码执行期间的同步过程，它似乎真的很有趣。只要遵守这些规则

```
lock (this) is a problem if the instance can be accessed publicly.

lock (typeof (MyType)) is a problem if MyType is publicly accessible.

lock("myLock") is a problem because any other code in the process using the same string, will share the same lock. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T09:58:18.103

`Interlocked.CompareExchange`您的方式会奏效，但您可以使用以下方法 获得更好的性能：http: [//msdn.microsoft.com/en-us/library/cd0811yf.aspx](http://msdn.microsoft.com/en-us/library/cd0811yf.aspx)

# c# - 延迟将图像绑定到 XAML

> ID：12634279
> 
> 赞同：0
> 
> 时间：2012-09-28T05:49:30.707
> 
> 标签：c#

在我的 XAML 代码中，我通过本地 url 绑定图像；在我的 C# 代码中，我将图像从网络下载到本地 url。所以我希望在镜像下载到本地磁盘后可以开始绑定动作，否则即使下载了镜像也无法显示。有什么办法可以延迟绑定吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T09:59:23.670

请查看此链接，因为它们确实会延迟绑定

[http://www.paulstovell.com/wpf-delaybinding](http://www.paulstovell.com/wpf-delaybinding)

另请查看 UpdateSourceTrigger 属性，它在您的情况下可能很有趣。

# android - 什么是 adb 守护进程？

> ID：12634280
> 
> 赞同：10
> 
> 时间：2012-09-28T05:49:30.770
> 
> 标签：android, android-emulator, apk, adb, titanium-mobile

在运行应用程序时，会形成一个 .apk 文件，并将该 apk 文件安装在模拟器中。为了在模拟器中安装 apk 文件，我们需要 Android 调试桥（ADB）服务。守护进程是该服务的一部分。我的问题是守护进程的工作是什么？它有什么作用？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-28T06:26:33.840

来自[Android 调试桥](http://developer.android.com/tools/help/adb.html)文档：

> Android Debug Bridge (adb) 是一种多功能命令行工具，可让您与模拟器实例或连接的 Android 设备进行通信。它是一个客户端-服务器程序，包括三个组件：
> 
> *   一个客户端，在您的开发机器上运行。您可以通过发出 adb 命令从 shell 调用客户端。其他 Android 工具（例如 ADT 插件和 DDMS）也会创建 adb 客户端。
> *   服务器，在您的开发机器上作为后台进程运行。服务器管理客户端和运行在模拟器或设备上的 adb 守护程序之间的通信。
> *   一个守护进程，在每个模拟器或设备实例上作为后台进程运行。

因此，守护进程是在设备（或模拟器）上运行的 ADB 组件，它接受来自 ADB 服务器的命令并执行它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:31:57.290

基本上，ADB 就是这个*东西*，它位于您和系统之间。Android系统基本上都需要一个控制点，这样你就可以给它发送命令，比如：

*   安装此应用程序。
*   将调试器附加到端口 Y 上的应用程序 X。
*   打开外壳，以便用户可以与设备对话。

如果你有一个标准的 Android 系统，没有 ADB，就无法控制设备。

ADB*不是*操作系统，它是在设备上运行的*程序。*该程序（在设备上运行）*侦听*来自计算机（或端口等）的命令，然后代表用户*在设备上执行它们。*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:42:45.857

> 我的问题是守护进程的工作是什么？它有什么作用？

守护进程就像是其他线程或对象的服务提供者，它们与守护线程在同一进程中运行。守护线程用于后台支持任务，仅在正常线程执行时才需要。如果正常线程没有运行并且剩余线程是守护线程，则解释器退出。

# php - 文件上传/mkdir() 问题

> ID：12634296
> 
> 赞同：-1
> 
> 时间：2012-09-28T05:50:57.333
> 
> 标签：php, file, file-upload, upload, mkdir

我正在尝试创建一个相当简单的（理论上）文件上传“过程”。我浏览了该网站，虽然有一些我需要的片段，但似乎没有任何效果！

基本上，我正在尝试创建一个处理如下的函数：

1.  获取文件扩展名
2.  获取文件名
3.  组合文件名、clientID 和扩展名
4.  检查目标目录是否存在。如果没有，请创建它。
5.  将文件（以新名称）移动到目录中

我的文件结构如下：

*   根
    *   行政
        *   上传
            *   客户端上传
                *   $客户ID

这是我所拥有的：

```
 <?php
 include("dbconnect.php");

 error_reporting(-1); // ALL messages and 
 ini_set('display_errors', 'On');

 if($_GET['clientID']){

 //This function separates the extension from the rest of the file name and returns it 
 function findexts ($filename) 
 { 
 $filename = strtolower($filename) ; 
 $exts = split("[/\\.]", $filename) ; 
 $n = count($exts)-1; 
 $exts = $exts[$n]; 
 return $exts; 
 } 

 //Get filename function
 $filename = "test"; //I dont know how to create this function at the moment
 return $filename;

 //This applies the function to our file  
 $ext = findexts ($_FILES['uploaded']['name']) ; 

 // we will be using the clientID as the new folder and adding it into the filename
 $clientID = mysql_real_escape_string((int)$_GET['clientID']);

 //merge filename
 $filename2 = $filename."_".$clientID.".";

 //Scan for existing directory
 $folder = '../admin/uploads/client_uploads/'.$username.'/';
 if (is_dir("$folder") == false) {
 mkdir("$folder", 0777);    
 echo "Directory created";
 } 

 //This assigns the subdirectory you want to save into... make sure it exists!
 $target = "admin/client_uploads/$clientID";

 //This combines the directory, the random file name, and the extension
 $target = $target . $filename2.$ext; 

 //Move file under new name 

 if(move_uploaded_file($_FILES['uploaded']['tmp_name'], $target)) 
 {
 echo "The file has been uploaded as ".$filename2.$ext;
 } 
 else
 {
 echo "Sorry, there was a problem uploading your file.";
 }
}
?> 
```

我没有收到任何错误消息（尽管我已经明确要求它们）并且我最终得到一个空白屏幕。文件夹没有在我的服务器上的任何地方创建，也没有任何反应。

有任何想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:02:08.580

试试这个，

```
<?php
//get file name in your own way 
$filename   =   $_FILES["filename"]["name"];
$fLength    =   strlen($filename);
$exParts    =   explode(".",$filename);
$totalParts =   count($exParts);
$extension  =   $exParts[$totalParts-1];
$eLength    =   strlen($extension);
$filename   =   substr($filename,0,($fLength-$eLength+1));
//Get the client ID as you need
$client_ID  =   //client ID here;
$up_file_name   =   $filename."_".$client_ID.".".$extension;
$folder     = $_SERVER['DOCUMENT_ROOT']."/admin/uploads/client_uploads/".$username."/";

if(!is_dir($folder))
{
//Create directory
$parts  = explode("/",$folder);
for($j=0; $j<count($parts); $j++)
{
$fpath    = "";
for($k=0; $k<=$j; $k++)
{
$fpath  .=  $parts[$k]."/";
}
if(!is_dir($fpath))
{
$oldmask=umask(0);
mkdir($fpath,0755);
umask($oldmask);
}
}
}
//Upload your file
$pathtoupload   =   $folder.$up_file_name;
if(move_uploaded_file($_FILES["filename"]["tmp_name"],$pathtoupload))
{
echo "Uploaded successfully";
}
else
{
echo "Can't upload";
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:32:07.743

在双引号中使用使用过的 $folder。删除它并使用

```
 //Scan for existing directory
 $folder = '../admin/uploads/client_uploads/'.$username.'/';
 if (is_dir($folder) == false) {
 mkdir($folder, 0777);    
 echo "Directory created";
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:52:08.453

我认为你必须在服务器中设置写入权限......并且需要一个一个创建目录......试试这个......

```
$parts  = explode("/",$folder);
for($j=0; $j<count($parts); $j++)
{
  $fpath    = "";
  for($k=0; $k<=$j; $k++)
  {
    $fpath  .=  $parts[$k]."/";
  }
  if(!is_dir($fpath))
  {
    $oldmask=umask(0);
    mkdir($fpath,0755);
    umask($oldmask);
  }
} 
```

# java - 从文件中读取特定值

> ID：12634297
> 
> 赞同：1
> 
> 时间：2012-09-28T05:50:59.160
> 
> 标签：java, file-io

我有一个文件，其中有一些数据，然后是值行。我只需要检索有一组两个整数的行，四个浮点数后跟一个用空格分隔的整数。谁能帮助我如何只识别这些行并从中检索数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:58:27.397

从您提到问题的方式来看，您*似乎*已经有了一个模式。使用正则表达式，例如`^\d+ \d+ \d+(\.\d+)? \d+(\.\d+)? \d+(\.\d+)? \d+(\.\d+)? \d+$`应该匹配如下文本：`23 24 1.2 3.6 9.1 5.0 4`.

因此，您可以一次遍历文件一行，并使用上述模式来查看是否有所需的行。我假设您没有其他具有相同模式的行，并且您不想匹配负数。

# c++ - c++函数不工作

> ID：12634299
> 
> 赞同：-4
> 
> 时间：2012-09-28T05:51:14.183
> 
> 标签：c++, function

这是我的函数定义，用于根据两个出价之间的关系计算拍卖中的获胜者。它没有带出正确的“winningBid”，并且即使没有满足这些条件，它也经常跳到 printErrorMessage 4。

```
void calcWinner(string bidder1, string bidder2, string lotName, 
                double bid1, double bid2, double reservePrice)
{
    double winningBid;
    string winningBidder;
    if (bid2<reservePrice && bid1<reservePrice) 
        printErrorMessage(4);
    else if (bid2>=reservePrice && bid1>=reservePrice)
    {
        if (bid2<bid1){
            winningBid=bid2+.50;
            winningBidder=bidder1;}
        else if (bid2>=bid1 && bid2<(bid1+.50)){
            winningBidder=bidder1;
            winningBid=bid1;}
        else if (bid2>(bid1+.50)){
            winningBidder=bidder2;
            winningBid=(bid1+.50);}
    }
    else if (bid2>reservePrice && bid1>=reservePrice){
        winningBidder=bidder1;
        winningBid=reservePrice;}
    else if (bid2>=reservePrice && bid1<reservePrice){
        winningBidder=bidder2;
        winningBid=bid2;}
    printWinner(winningBidder, lotName, winningBid);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:23:45.637

你真的应该用简单的英语而不是代码写下你的规则（假设你还没有），然后尝试简化它们。对于基本上归结为（我认为）的情况，这似乎是大量的代码：

```
void calcWinner (string bidder1, string bidder2, string lotName,
                 double bid1, double bid2, double reservePrice)
{
    // Error if both less than reserve.

    if ((bid2 < reservePrice) && (bid1 < reservePrice) ) {
        printErrorMessage (4);
        return;
    }

    // If only ONE less than reserve, other one wins.

    if (bid1 < reservePrice) {
        printWinner (bidder2, lotName, bid2);
        return;
    }

    if (bid2 < reservePrice) {
        printWinner (bidder1, lotName, bid1);
        return;
    }

    // Both at least reserve at this point, bidder1 wins if higher bid, but
    // only pays bid2 + 50c.

    if (bid1 >= bid2) {
        printWinner (bidder1, lotName, bid2 + 0.5);
        return;
    }

    // Bidder1 also wins if bidder2 didn't beat them by 50c or more, but
    // only pays what they bid.

    if (bid2 < bid1 + 0.5) {
        printWinner (bidder1, lotName, bid1);
        return;
    }

    // Otherwise, bidder2 wins, pays 50c more than bid1.

    printWinner (bidder2, lotName, bid1 + 0.5);
} 
```

*这就是*我将如何构建这样的代码，并按照优先级递减的顺序使用一组明确定义的规则。这样，您的英语规则和代码之间就可以轻松映射。

* * *

对于它的价值，我认为您的原始代码中至少有两个问题：

*   首先，`else if (bid2>reservePrice && bid1>=reservePrice){`应该检查`bid2`是否*低于*储备（`bid1`默认情况下获胜）。
*   其次，`else if (bid2>=bid1 && bid2<(bid1+.50)){`不要`else if (bid2>(bid1+.50)){`考虑*可能*`bid2`完全*等于*的可能性`bid1 + 0.5`。这将导致`winningBid/winningBidder`留在“随机”值，这意味着您的输出可以是任何东西。

但我真的不会考虑回去修复它们。在我看来，实现我在代码中给出的基于先例的规则方法要好得多。虽然您拥有的规则可能与我提供的规则不完全匹配，但更容易弄清楚您应该进行哪些更改（与您的原始代码相反）。

我在代码中的注释基本上是英文规则集，你采取的方法应该是类似的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:55:55.843

在倒数第二`else if`我想你的意思是`bid2<reservePrice`，不是`bid2>reservePrice`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:07:34.293

*   您不处理`bid2<reservePrice && bid1>=reservePrice`由于比较中的错字而导致的情况。
*   案例内部的逻辑`bid2>=reservePrice && bid1>=reservePrice`很可疑（例如，如果`bid2<bid1`，该`winningBid`值可能大于`bid1`）

# javascript - 需要根据一些逻辑对Javascript数组进行排序

> ID：12634300
> 
> 赞同：0
> 
> 时间：2012-09-28T05:51:36.197
> 
> 标签：javascript, arrays, sorting

> **可能重复：**
> [如何对 javascript 对象数组进行排序？](https://stackoverflow.com/questions/979256/how-to-sort-an-array-of-javascript-objects)

我有一个数组`myResponse.students[i]`

我通过一些逻辑计算数组中每个学生的总分，现在我想根据我计算的总分对数组进行排序。如何使用javascript做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:05:08.557

假设你的学生是你想要排序的数组

```
myResponse.students.sort(byMark)

function byMark(a, b){
     return b.mark - a.mark; // sort score desc
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T05:58:14.670

试试这个

```
myResponse.students.sort(function(a,b) { 
    return parseFloat(a.TotalMarks) - parseFloat(b.TotalMarks) ;
}); 
```

排序函数的签名是这样的

> array.sort([比较函数])

请仔细阅读文档以更好地了解`compareFunction`

链接：[array.sort MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/sort)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T05:59:40.347

见[MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/sort)

您可以将比较器函数作为参数传递给排序函数。

此函数从数组中获取两个值进行比较，您需要提供返回`0`或`1`或的逻辑，`-1`如下所示

```
var a = [...]; //your array
a.sort(compareFunction);

function compareFunction (a, b)
{
  if (a is less than b by some ordering criterion)
     return -1;
  if (a is greater than b by the ordering criterion)
     return 1;
  // a must be equal to b
  return 0;
} 
```

# postgresql - 如何按名称更新字段？

> ID：12634302
> 
> 赞同：0
> 
> 时间：2012-09-28T05:51:46.383
> 
> 标签：postgresql

我有一个如下形式的表格：

```
id
id_ref
value1
value2
...
valueN 
```

其中value1->N为整数字段，函数接收一个整数参数“value”，指定需要更新哪个字段，即如果“value”参数为2，则只更新value2字段。

我想做的（在函数中）是这样的：

```
CREATE OR REPLACE FUNCTION my_cool_function(value integer) RETURNS bigint AS
...
UPDATE [table name here]
SET "value" || CAST(value[parameter] AS varchar) = [some value]
WHERE [condition];
...
LANGUAGE 'plpgsql'
... 
```

但是上面的代码不正确，正在寻找一种方法来实现这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:36:38.763

你不能建立这样的标识符，但你可以[`EXECUTE`](http://www.postgresql.org/docs/current/interactive/plpgsql-statements.html#PLPGSQL-STATEMENTS-EXECUTING-DYN)用来运行一些在字符串中的 SQL：

```
execute 'update table set '
     || quote_ident('value' || value)
     || ' = '
     || quote_literal('some value')
     || ' where ...'; 
```

您可能需要也可能不需要[`quote_ident`and`quote_literal`](http://www.postgresql.org/docs/current/static/functions-string.html#FUNCTIONS-STRING-OTHER)调用，但我可能会使用它们来帮助建立良好的习惯。您可以避免使用`quote_literal`with USING：

```
execute 'update table set '
     || quote_ident('value' || value)
     || ' = $1'
     || ' where ...' using some_value; 
```

# xcode - 如何在 Mac 上使用 AES-NI 内部函数？

> ID：12634305
> 
> 赞同：9
> 
> 时间：2012-09-28T05:51:55.993
> 
> 标签：xcode, gcc, aes, sse, llvm-gcc

我正在尝试在 Mac 上编译 C 应用程序。我使用 SSE4 和 AES-NI 内在函数。

在 Linux 中，我只需使用 -msse4 和 -maes 标志调用 gcc 并包含*wmmintrin.h*标头，我可以调用 SSE 内在函数`_mm_add_epi64(a,b)`或 AES-NI 内在函数`_mm_aesenc_si128(a, b)`，一切正常。

在 Mac 上，这更难，因为 Apple 用尚不支持 AES-NI 的 llvm-gcc 替换 GCC。所以 SSE4 内在函数工作正常，但不是 AES 的。即使是对 AES 指令的内联汇编调用也无法识别。

英特尔在他们的网站上有[很多 AES 示例代码](http://software.intel.com/en-us/articles/intel-advanced-encryption-standard-instructions-aes-ni/)，但它仅适用于 Linux 和 Windows。

我确实注意到 llvm-gcc 也不支持 RDRAND 指令，但英特尔通过使用扩展为原始机器字节码的 C 宏提供了一种解决方法。（[请参阅此英特尔库中的 rdrand.h 示例文件](http://software.intel.com/en-us/articles/user-manual-for-the-rdrand-library-linux-version)）

不幸的是，没有为 AES-NI 指令提供类似的解决方法，可能是因为指令有参数并且不能作为静态机器代码字节进行评估。

确实存在在 Mac 上使用 AES-NI 的程序，包括 Apple 自己的 File Vault，所以一定有一些可行的方法！

为了使我的问题具体化，我将如何获得以下简单调用来使用最新的 Mac gcc-llvm 4.2（Mountain Lion xcode 4.4.1 中的最新公开版本）进行编译：

```
 __m128i A, B, C;
  /* A, B, C initialized here... */
  A = _mm_aesenc_si128(B, C); 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-29T21:39:48.260

Apple 开发人员支持报告说使用 Xcode 是不可能的。（事实上​​，他们的回答有点刻薄，暗示 AES-NI 不是开发人员需要直接使用的东西，所以我不应该打扰。叹气，谢谢，Apple。）

但是，我确实找到了两个可行的解决方案，都是通过简单地避免使用 Apple 的软件。一种是使用英特尔自己的商业 C++ 编译器。另一种是从源码下载GCC 4.6或4.7编译后直接使用。这是我选择的选项。我遵循[了本指南。](http://solarianprogrammer.com/2012/02/20/living-on-the-edge-building-gcc-4-7-on-mac-osx-lion/)GCC 编译和安装（虽然干净）仍然是一个麻烦和解决方法，只是使用单个 CPU 内在函数，但它可以工作。谢谢，海湾合作委员会团队！

# objective-c - 带有 Xcode 4.5 的 RESTkit：libRestkit.a 始终为红色

> ID：12634310
> 
> 赞同：1
> 
> 时间：2012-09-28T05:52:33.140
> 
> 标签：objective-c, restkit, xcode4.5

我是 Xcode 的新手，我正在尝试将 RESTkit 添加到我正在处理的 Xcode 项目中。我按照这里的说明[https://github.com/RestKit/RestKit/wiki/Installing-RestKit-in-Xcode-4.x](https://github.com/RestKit/RestKit/wiki/Installing-RestKit-in-Xcode-4.x)虔诚地并且仍然一直 RestKit 静态库 libRestKit.a 始终是红色的，表明文件是不在那里。我尝试查找该文件并手动添加它，但它不存在。当我通过 github（终端）安装 RestKit 或从他们的网站下载它时，都会发生这种情况。

请帮忙

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-28T07:28:44.473

虽然这纯粹是美学上的，但框架和产品的红色标签是 Xcode 的一个常见问题。它们被标记为红色，因为该项目引用的文件不存在。

查看`File Inspector`右侧 Xcode 窗口中的 。下面`Identity and Type`说`Full Path`。这指向一个可能不存在或至少不包含`libRestKit.a`.

现在设置`Location`为`Relative to Group`. 通常，这可以解决问题，因为它现在会在正确的构建文件夹中查找，同时考虑到目标和活动模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T09:53:51.533

对我来说，当我更改为“绝对路径”并且我添加了链接库和目标依赖项时它起作用了

# html - 100% 高度，带有 2 个表格（1 个在其他表格中）和 HTML5

> ID：12634312
> 
> 赞同：1
> 
> 时间：2012-09-28T05:52:54.370
> 
> 标签：html, html-table

我有一张高度为 100% 的桌子。该表有 3 行。第一行和第三行高度为 100 像素。所以，固定高度的行。在第二行里面，还有一张桌子。而且我希望这张桌子也是高度的 100%，自动计算高度的空间。是的，在我的 CSS 中，HTML 和 BODY 的高度：100%，边距：0px 和填充：0px。像这样：

```
<table border=0 cellpadding=0 cellspacing=0 width=100% style="height: 100%;">
<tr>
<td height=100>Header</td>
</tr>
<tr>
<td style="height: 100%;">
<table border=01 cellpadding=0 cellspacing=0 width=90% style="height: auto;">
<tr>
<td style="height: 50px;">Inside 1</td>
</tr>
<tr>
<td style="height: 100%;">Inside 2</td>
</tr>
</table>
</td>
</tr>
<tr>
<td height=100>Footer</td>
</tr>
</table> 
```

在 IE 和 Chrome 中，高度完全错误......我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T21:27:40.890

1.  这些表格是用于表格数据还是用于布局？不要使用表格进行布局。请参阅[为什么不在 HTML 中使用表格进行布局？](https://stackoverflow.com/questions/83073/why-not-use-tables-for-layout-in-html).

2.  这不是 HTML5。HTML5 不支持这些元素的 cellpadding、cellspacing、border、width 或 height 属性。您应该改用 CSS。

3.  一般来说，如果你给他们一个[jsFiddle](http://jsfiddle.net/)或类似的东西，他们会更容易帮助解决这些问题。

4.  要真正解决您的问题，请将嵌入式表格的高度设置为`100%`，而不是`auto`。[js小提琴](http://jsfiddle.net/CxpsP/)。但说真的，#1-3 比#4 更重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T21:28:50.177

您将内部表格的 100% 高度分配给 td 元素，而不是表格本身。

在上面的第 6 行，删除高度声明，然后在第 7 行为您的表格更改“height: auto;” 到“身高：100%；”

# c# - 将“更多”按钮/链接添加到网格列表的末尾

> ID：12634313
> 
> 赞同：0
> 
> 时间：2012-09-28T05:52:55.250
> 
> 标签：c#, windows-8, microsoft-metro, windows-runtime, winrt-xaml

我已经对 GridView 进行了分组。

对于每个字母，我会显示 10 个标志（标志）。显示 10 后，我想添加“更多”链接/按钮。例如按钮具有不同的颜色并具有特殊的 onclick 事件。

我怎样才能为每个组做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:04:48.397

你应该

1.  在使用 ItemsSource 绑定到 GridView 的每组项目的末尾添加另一个不同类型的项目
2.  编写一个 DataTemplateSelector 实现，它将对常规项和最后一项使用不同的 DataTemplate
3.  将 GridView.ItemTemplateSelector 设置为您的自定义 DataTemplateSelector。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T15:31:21.250

设计指南说：用户可以点击部分标签以深入到该部分的相应页面。提供视觉提示，例如查看全部 (x)，以向用户表明此部分中的项目比中心中显示的项目更多。使用此模式可避免使用平铺空间或在内容中放置链接。

然而，老实说，一些开发人员和设计人员并不认为这足以帮助用户直观地浏览他们的应用程序。最后，指南不是规则。它们是指导方针。向您的应用程序添加“查看全部”磁贴是您的决定。如果它对您的应用程序有帮助，请做任何有帮助的事情。

如果您这样做了，那么 DataTemplateSelector 就是您更改显示模板的方式。为了使其工作，您需要在列表中包含项目的索引，以便您知道将最后一个图块放在哪里。这使您不必像 Filip 建议的那样混合数据类型（一个有效但繁重的解决方案）。无论如何，这取决于你，这很容易。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T09:51:43.353

这不是您想要开发 Windows 8 应用程序的方式。不需要“更多”按钮。

看看 Grip-App-Template。它使用网格组标题导航到组。这是推荐的方式。

将内容用作导航而不是按钮。

我真的建议你看看设计指南：http: [//msdn.microsoft.com/en-us/library/windows/apps/hh770552](http://msdn.microsoft.com/en-us/library/windows/apps/hh770552)

# html - 是否仍需要 SCRIPT、STYLE 和 LINK 元素上的类型属性？

> ID：12634315
> 
> 赞同：9
> 
> 时间：2012-09-28T05:53:00.733
> 
> 标签：html, css, browser

您将看到许多具有以下代码类型的站点：

脚本元素：

```
<script type="text/javascript">
   //javascript here
</script> 
```

链接元素：

```
<link rel="stylesheet" href="url.css" type="text/css" media="all" /> 
```

风格元素：

```
<style type="text/css">
   /* CSS */
</style> 
```

我的问题是这样的：

`type`当今流行的浏览器是否需要这些属性？

（通俗的意思是 IE 8+、Firefox、Webkit、Opera 和 Chrome）

如果*不*包括它们会怎样？

注意：如果两者之间的行为存在差异，则答案需要涵盖 HTML5 和 XHTML 文档类型。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-28T06:02:08.330

**简而言之**，它们从**HTML5**开始就不是必需的，但**HTML4/XHTML中的****W3C**标准要求它们。

 *** * *

在标签的**HTML5** `type`中`script`：

> **type** - 此属性标识嵌入在脚本元素中或通过元素的 src 属性引用的代码的脚本语言。这被指定为 MIME 类型；支持的 MIME 类型的示例包括 text/javascript、text/ecmascript、application/javascript 和 application/ecmascript。**如果此属性不存在，则脚本将被视为 JavaScript。**

在**HTML4**和**XHTML**中，它是[W3C 标准](http://www.w3.org/TR/REC-html40/interact/scripts.html)所要求的。

对于`style`和`link` `type`：

> 在**HTML5**中，不再需要 type 属性。**默认值为“文本/css”。**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-28T06:06:34.023

# 简短的回答

不，他们不是。

# 长答案

长期以来，浏览器`type=text/javascript`在脚本元素等处设置默认值。当您省略该`type`属性时。HTML5 使这成为官方的，但很久以前每个浏览器都支持它。

事实上，您使用的文档类型不会影响浏览器的行为，只会影响 W3C 规范。漂亮而简短的 HTML5 文档类型是多年来在普通浏览器中的标准文档类型。HTML5 只是让这些美好的事物正式化。

所以你可以使用它，没有浏览器会尖叫或失败，只有验证器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:03:17.133

在较新的浏览器（支持 HTML5）中，类型属性是可选的，如果没有给出它，*sctipt*将默认理解为 text/javascript，*样式*将理解为 text/css

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-28T06:30:17.350

**它们目前不是必需**的。因为所有浏览器都假定您期望的默认值。

但它们在**未来**可能会变得重要。

例如，当[Google Dart](https://en.wikipedia.org/wiki/Dart_%28programming_language%29)完全集成到浏览器中时，我们*终于有了 JavaScript 的替代方案*。同样，一旦有人提出了一个很好的 CSS 替代品，我们*将*需要它。Dart 很可能会变成“JavaScript 2.0”。JavaScript 是一种混蛋语言，肯定需要一个更理智的替代品。我想我们都只是在使用它，因为没有替代品可以跨浏览器工作（事实上，甚至没有一个可以在单个浏览器中工作的替代品，我猜......）。

因此，如果您计划您的网站使用一年：不要打扰。如果您计划让网站运行 10 年，请尽量详细说明您的内容类型、格式和版本。**

# java - java - 如何测试网站是否使用java返回cookie？

> ID：12634319
> 
> 赞同：3
> 
> 时间：2012-09-28T05:53:15.447
> 
> 标签：java, cookies, web

您好我正在尝试测试网站是否返回 cookie。我对 Java 很陌生。

我已经使用以下方法打开了连接：

```
conn = "https://mysite.com/".toURL().openConnection() 
```

打开连接后，如何测试站点是否`mysite`返回cookie？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:00:02.350

首先，我建议使用比`URLConnection`. 周围有各种 HTTP 库。他们中的一些人甚至会为你计算出所有的 cookie - 但即使他们没有......你只需要检查`Set-Cookie`响应中的标题。（如果您*确实*想坚持使用`URLConnection`，那也会为您提供标头...与其他 HTTP 库相比，我通常担心它会很痛苦。）

`Set-Cookie`被服务器用来向客户端发送cookies；客户端使用标`Cookie`头将 cookie 发送回服务器。有关详细信息，请参阅[RFC 2965](http://www.ietf.org/rfc/rfc2965.txt)和[RFC 6265](http://www.ietf.org/rfc/rfc6265.txt)。

# c# - C# 将 Excel 工作表另存为 html 并读取此 html

> ID：12634320
> 
> 赞同：2
> 
> 时间：2012-09-28T05:53:21.467
> 
> 标签：c#, excel, excel-interop

在我的项目中，我需要将用户自定义的 excel 保存到 .mht 文件并立即将文件重新加载到内存中，代码如下

```
var app = new Excel.Application();   
var wsCurrent = app.ActiveWorkbook.ActiveSheet;
object format = Excel.XlFileFormat.xlWebArchive;
var codename = application.ActiveSheet.CodeName; 

wsCurrent.SaveAs(outputFile, format, Type.Missing, Type.Missing, Type.Missing, 
                Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing); 
```

但是，我发现由于excel的特性，一旦我们保存文件，它就会锁定进程，直到excel应用程序关闭。换句话说，除非我关闭我不想关闭的 excel，否则我无法加载保存的 .mht 文件，有更好的主意，请给我一个解决方案的线索，非常感谢提前，干杯，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T08:08:28.800

您需要创建一个等于 的工作簿变量`Application.Activeworkbook`，保存该对象的活动表，然后在工作簿上调用关闭，Excel 可以保持打开状态，如下所示：

```
var app = new Excel.Application();
Excel.Workbook workbook = app.ActiveWorkbook;
Excel.Worksheet wsCurrent = workbook.ActiveSheet;
Excel.XlFileFormat format = Excel.XlFileFormat.xlWebArchive;

wsCurrent.SaveAs(@"C:\test\test.xlsx", format);

workbook.Close(); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-28T06:19:23.070

您可以使用[Open XML SDK](http://www.microsoft.com/en-us/download/details.aspx?id=5124)。见[这里](https://stackoverflow.com/questions/5203150/openxml-spreadsheat-save-as)。

# hbase - 在 hbase shell 上执行 ValueFilter 或 ColumnFilter

> ID：12634321
> 
> 赞同：5
> 
> 时间：2012-09-28T05:53:42.360
> 
> 标签：hbase

谁能告诉我如何从 hbase shell 命令行执行限定符过滤器或 ValueFilter ？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-28T16:12:17.433

它与您使用任何编程语言进行编码的方式非常相似，例如：-

```
import org.apache.hadoop.hbase.filter.CompareFilter
import org.apache.hadoop.hbase.filter.SingleColumnValueFilter
import org.apache.hadoop.hbase.util.Bytes
scan 'tableName', {COLUMNS=>['CF:qualifier1', 'CF:qualifier2'], LIMIT=>10,
FILTER=>SingleColumnValueFilter.new(Bytes.toBytes('CF'),
Bytes.toBytes('qualifier1'), CompareFilter::CompareOp.valueOf('EQUAL'),
Bytes.toBytes('value'))} 
```

您显然必须根据您使用的拟合器更改参数。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-05-12T15:27:48.870

您可以像在 Java 中一样（使用 JRuby 语法）实例化任何过滤器，并将过滤器提供为：

```
filter = ...
scan 'mytable', FILTER => filter 
```

但是，直接在 shell 中实例化过滤器可能很麻烦，因此更简单的方法是使用过滤器语言将过滤器作为字符串提供。例如，要在扫描中包含值等于“myvalue”的所有列，您可以使用：

```
scan 'mytable', FILTER => "ValueFilter(=, 'binary:myvalue')" 
```

您可以[将此文档](https://issues.apache.org/jira/secure/attachment/12490608/Filter%20Language%283%29.docx)作为“过滤器语言”参考进行检查。

（编辑关闭双引号）

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-05-27T09:32:13.403

此外，要扫描特定列中的子字符串，您可以执行以下操作：

```
scan 'myTable', { COLUMNS => 'cf:abc', FILTER => "ValueFilter(=, 'substring:myvalue')"} 
```

# javascript - 如何使文本字段值唯一？

> ID：12634322
> 
> 赞同：0
> 
> 时间：2012-09-28T05:53:45.267
> 
> 标签：javascript, html, database

我有一个带有文本字段的表单。我想让文本字段条目唯一，这样人们就不能再次保存相同的名称。

我们可以使字段在表格列中唯一吗？

或者

我们如何编写一个 JS 代码来使这个字段唯一呢？

这就是我在后端所做的。

```
public static boolean isUniqueShortName(String sname)
throws DataObjectException
{
    return isUniqueShortName(sname, null);
}

public static boolean isUniqueName(String sname, BigDecimal id)
throws DataObjectException
{

    final String SELECT_SQL = "SELECT COUNT(*) FROM LISTS WHERE LIST_NAME = ? AND ID <> ?";
    final String SELECT_SQL2 = "SELECT COUNT(*) FROM LISTS WHERE LIST_NAME = ?";

    boolean exists = false;
    Connection conn = DataObjectConnectionPool.getInstance().getConnection();
    PreparedStatement pstmt = null;
    ResultSet result = null;

    try
    {
        // determine SQL
        String SQL = null;
        if (list_id != null)
        {
            SQL = SELECT_SQL;
        }
        else
        {
            SQL = SELECT_SQL2;
        }

        // prepare statement
        pstmt = conn.prepareStatement(SQL);

        // set parameters
        pstmt.setString(1, sname);
        if (id != null)
        {
            pstmt.setBigDecimal(2, id);
        }

        // execute query
        result = pstmt.executeQuery();

        // fetch results
        while (result != null && result.next())
        {
            // fetch
            int count = result.getInt(1);
            exists = (count == 0);
        }

        // close results
        if (result != null)
        {
            try { result.close(); } catch (Exception e) {}
        }

        // close statement
        if (pstmt != null)
        {
            try { pstmt.close(); } catch (Exception e) {}
        }
    }
    catch (Exception ex)
{ 
// throw error
        throw new DataObjectException("Error checking for name uniqueness for " + sname);
    }
    finally
    {
        // close results
        if (result != null)
        {
            try { result.close(); } catch (Exception e) {}
        }

        // close statement
        if (pstmt != null)
        {
            try { pstmt.close(); } catch (Exception e) {}
        }

        // close connection
        if (conn != null)
        {
            try { conn.close(); } catch (Exception e) {}
        }
    }

    return exists;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:59:18.303

您肯定希望使该字段在数据库中唯一，然后添加 javascript 进行验证，但不要仅仅依赖 JS 验证。在 MySQL 中，您可以将其设为主键或为该列添加唯一索引。如果您尝试添加相同的名称，这将引发错误，因此请确保使用您在后端使用的任何技术（php 或其他）捕获该错误，并让您的用户知道该名称已被使用。此时，您可以向您的服务器添加一个 ajax 调用来验证名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T05:56:41.380

您无法使该字段在客户端独一无二。您可以在服务器上进行验证并说该名称已经存在于客户端。

就像做一个 Ajax 请求来查看名称是否存在。

拥有表列是一种方法，但您还需要查看索引的位置，如果它是一个长度很大的字符串，我建议您寻找另一个索引键。

# python - 将 Wikipedia API 链接输出过滤到当前内容

> ID：12634324
> 
> 赞同：-1
> 
> 时间：2012-09-28T05:53:50.190
> 
> 标签：python, json, api, nlp, wikipedia-api

我想为一些维基百科文章开发某种知识树，所以我使用 Wiki API 来获取 JSON 编码数据。

[http://en.wikipedia.org/w/api.php?action=query&list=allpages&format=json&aplimit=10&generator=links&titles=List_of_object-orienting_programming_terms&gpllimit=10](http://en.wikipedia.org/w/api.php?action=query&list=allpages&format=json&aplimit=10&generator=links&titles=List_of_object-oriented_programming_terms&gpllimit=10)

问题是，它似乎是一个过时的版本，或者我需要使用不同的选项，因为我得到的信息与当前浏览器为同一篇文章显示的信息不同。

这太恶心了，因为我在输出中得到字面上的“F * ck you's”（如果你不相信，这很严重，请访问链接）。例子：

```
[
    {"pageid":5878274,"ns":0,"title":"!"},
    {"pageid":3632887,"ns":0,"title":"!!"},
    {"pageid":600744,"ns":0,"title":"!!!"},
    {"pageid":34443176,"ns":0,"title":"!!!Dam You!!!"},
    {"pageid":11011780,"ns":0,"title":"!!!Dam You!!! And Then Some"},
    {"pageid":34443184,"ns":0,"title":"!!!Dam You!!! and Then Some"},
    {"pageid":2556962,"ns":0,"title":"!!! (album)"},
    {"pageid":10065458,"ns":0,"title":"!!! (band)"},
    {"pageid":16381751,"ns":0,"title":"!!Destroy-Oh-Boy!!"},
    {"pageid":16789001,"ns":0,"title":"!!Dam you!!"}
] 
```

任何想法我可以使用什么其他方法来获取文章中所有当前的维基百科文章链接？

提前致谢。如果这很重要，我计划使用 Python。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:29:50.237

我相信您可能使用了错误的选项。去除

```
&list=allpages 
```

从网址。这给了我正确的链接。

有关详细信息，请参阅[http://www.mediawiki.org/wiki/API:Query#Using_list.3Dallpages_as_generator](http://www.mediawiki.org/wiki/API:Query#Using_list.3Dallpages_as_generator)。

# java - 在浏览器android中打开字符串

> ID：12634326
> 
> 赞同：0
> 
> 时间：2012-09-28T05:53:58.630
> 
> 标签：java, android, xml, intellij-idea

在构建了一个基本的计算器之后，我正在尝试构建一个 android 应用程序，该应用程序可以打开在 android 浏览器的编辑文本字段中设置的 URL。从概念上讲，这听起来很容易，但对我来说，它远非如此。

我的java代码

```
package com.example;

import android.app.Activity;
import android.content.DialogInterface;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.view.View.OnClickListener;

public class Access extends Activity implements OnClickListener {

    /**
     * Called when the activity is first created.
     */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Button btn=(Button) findViewById(R.id.btn);
        btn.setOnClickListener(this);

    }

    public void onClick(View view){
        EditText browse =(EditText)findViewById(R.id.btn1);
        Intent i = new Intent("android.intent.action.VIEW", Uri.parse(browse.getText().toString()));
        startActivity(i);

    }
} 
```

我的 xml 设计

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"
        >
    <TextView
            android:id="@+id/url"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Enter webpage to go"
            />
    <EditText
            android:id="@+id/btn1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:ems="10"
            />

    <Button
            android:id="@+id/button1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_below="@+id/radioGroup1"
            android:onClick="onClick"
            android:text="Browse"
            />
</LinearLayout> 
```

还有我的 logcat 错误

```
09-28 11:31:13.615: ERROR/StrictMode(92): A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
        java.lang.Throwable: Explicit termination method 'close' not called
        at dalvik.system.CloseGuard.open(CloseGuard.java:184)
        at java.io.FileInputStream.<init>(FileInputStream.java:80)
        at com.android.server.pm.UserManager.readUserList(UserManager.java:114)
        at com.android.server.pm.UserManager.<init>(UserManager.java:81)
        at com.android.server.pm.UserManager.<init>(UserManager.java:85)
        at com.android.server.pm.PackageManagerService.<init>(PackageManagerService.java:923)
        at com.android.server.pm.PackageManagerService.main(PackageManagerService.java:833)
        at com.android.server.ServerThread.run(SystemServer.java:163)
09-28 11:31:21.256: ERROR/SoundPool(92): error loading /system/media/audio/ui/Lock.ogg
09-28 11:31:21.256: ERROR/SoundPool(92): error loading /system/media/audio/ui/Unlock.ogg
09-28 11:31:21.435: ERROR/EventHub(92): could not get driver version for /dev/input/mouse0, Not a typewriter
09-28 11:31:21.465: ERROR/EventHub(92): could not get driver version for /dev/input/mice, Not a typewriter
09-28 11:31:21.814: ERROR/CommandListener(33): Failed to open /proc/sys/net/ipv6/conf/wlan0/disable_ipv6: No such file or directory
09-28 11:31:21.814: ERROR/WifiStateMachine(92): Failed to disable IPv6: java.lang.IllegalStateException: Unable to communicate to native daemon for disabling ipv6
09-28 11:31:21.904: ERROR/MobileDataStateTracker(92): default: Ignoring feature request because could not acquire PhoneService
09-28 11:31:21.904: ERROR/MobileDataStateTracker(92): default: Could not enable APN type "default"
09-28 11:31:30.305: ERROR/ActivityThread(185): Failed to find provider info for com.android.inputmethod.latin.dictionarypack
09-28 11:31:30.315: ERROR/BinaryDictionaryGetter(185): Could not find a dictionary pack
09-28 11:31:39.365: ERROR/SoundPool(92): error loading /system/media/audio/ui/Effect_Tick.ogg
09-28 11:31:39.365: ERROR/SoundPool(92): error loading /system/media/audio/ui/Effect_Tick.ogg
09-28 11:31:39.365: ERROR/SoundPool(92): error loading /system/media/audio/ui/Effect_Tick.ogg
09-28 11:31:39.404: ERROR/SoundPool(92): error loading /system/media/audio/ui/Effect_Tick.ogg
09-28 11:31:39.404: ERROR/SoundPool(92): error loading /system/media/audio/ui/Effect_Tick.ogg
09-28 11:31:39.404: ERROR/SoundPool(92): error loading /system/media/audio/ui/KeypressStandard.ogg
09-28 11:31:39.414: ERROR/SoundPool(92): error loading /system/media/audio/ui/KeypressSpacebar.ogg
09-28 11:31:39.414: ERROR/SoundPool(92): error loading /system/media/audio/ui/KeypressDelete.ogg
09-28 11:31:40.074: ERROR/SoundPool(92): error loading /system/media/audio/ui/KeypressReturn.ogg
09-28 11:32:01.754: ERROR/DefaultVoicemailNotifier(291): No voicemails to notify about: clear the notification.
09-28 11:32:23.674: ERROR/AndroidRuntime(583): FATAL EXCEPTION: main
        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example/com.example.Access}: java.lang.ClassCastException: android.widget.TextView cannot be cast to android.widget.Button
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
        at android.app.ActivityThread.access$600(ActivityThread.java:123)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
        at android.os.Handler.dispatchMessage(Handler.java:99)
        at android.os.Looper.loop(Looper.java:137)
        at android.app.ActivityThread.main(ActivityThread.java:4424)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:511)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
        at dalvik.system.NativeStart.main(Native Method)
        Caused by: java.lang.ClassCastException: android.widget.TextView cannot be cast to android.widget.Button
        at com.example.Access.onCreate(Access.java:26)
        at android.app.Activity.performCreate(Activity.java:4465)
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
        ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:14:45.130

改变你的

```
 Button btn=(Button) findViewById(R.id.btn); 
```

至

```
 Button btn=(Button) findViewById(R.id.button1); 
```

# garbage-collection - CLOS 中的瞬态类

> ID：12634330
> 
> 赞同：3
> 
> 时间：2012-09-28T05:54:11.927
> 
> 标签：garbage-collection, lisp, common-lisp, clos

是否有任何标准方法可以在 CLOS 中创建瞬态类；也就是说，一个在所有实例都死了之后可以被 GC 的类？

在 SBCL 中，我尝试`(setf test (defclass #:foo () ()))`了，即在假设它通常只是导致该类被 GC 保留的类的名称的情况下使用 uninterned 符号，但在该类上安装 SBCL 终结函数，然后设置符号值从 TEST 到 NIL 表明，无论我运行多少次，该类都不会被 GC `(gc :full t)`。这让我想知道这是否可能，如果可能，如何。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:06:34.537

类名（一个符号）没有被嵌入包中并不重要。`FIND-CLASS`将通过查看一些内部注册表数据结构来找到该类。Clozure Common Lisp 使用例如一个普通的哈希表`CCL::%FIND-CLASSES%`。

没有标准的方法。Common Lisp 标准没有提供任何机制。通常，CLOS 实现会希望提供某个类的所有子类的列表。为此，它需要一个类对其子类的引用。没有指定这应该是一个*弱*引用。例如 CLISP 将其实现为*弱*引用，其他 Common Lisp 实现可能不会。

**解决方案草图**：

*   因此，在终结器中，您需要调用`REMOVE-DIRECT-SUBCLASS`（该函数可能在哪个包中，通常在 package 中`CLOS`）以从其超类中删除该类。

*   您还需要调用`(setf (find-class 'my-class-to-be-removed) nil)`.

*   您还最好看看该类本身没有子类。

因此，您可以使用广泛支持的 MOP 和特定于实现的终结器来构建一些东西。

# python - 如何在redis列表中存储“列表”

> ID：12634336
> 
> 赞同：0
> 
> 时间：2012-09-28T05:54:23.237
> 
> 标签：python, redis

> **可能重复：**
> [将列表插入 Redis 中的另一个列表](https://stackoverflow.com/questions/8360807/inserting-a-list-into-another-list-in-redis)

我想用redis来存储我的数据，比如

> {id:[[user1,time1,content1],[user2,time2,content2]...]},

怎么做？如果只有一种方式喜欢：

> 'rpush id“[user1,time1,content1]”'？

如果我喜欢，那`'[user1,time1,content1]'`是一个字符串，那不是我想要的。我的意思是如果存在一种将列表存储在 redis 列表中的方法？所以这`[user1,time1,content1]`是一个列表而不是一个字符串，谢谢

# asp.net - Asp.Net MVC：SSO + AD 组？

> ID：12634338
> 
> 赞同：3
> 
> 时间：2012-09-28T05:54:47.150
> 
> 标签：asp.net, asp.net-mvc, active-directory, asp.net-mvc-4, single-sign-on

我需要制作一个使用 windows auth(SSO) 来授权用户的 Web 应用程序（asp.net mvc 4）。

但是我只需要授权特殊组中的用户（之后没有特殊的子角色，它只是定义我们是否有权访问）。

我应该怎么做才能实现这一目标？

我看到有一个“ActiveDirectoryMembershipProvider”，但我不知道它是否符合我的需求（SSO，并检查组）。

所以我该怎么做？自定义会员提供商？自定义属性？会`[Authorize("MyGroup")]`作品吗？

我从未对 ActiveDirectory 注册表进行任何身份验证，感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T05:56:41.377

您可以尝试以下方法：

```
[Authorize(Roles = @"Domain\MyGroup")] 
```

还要确保您已启用 Windows 身份验证：

```
<authentication mode="Windows" /> 
```

# c++ - 如何处理相互依赖且有模板成员的类？

> ID：12634344
> 
> 赞同：1
> 
> 时间：2012-09-28T05:55:16.800
> 
> 标签：c++, templates, forward-declaration

这部分与[这个 SO question 有关](https://stackoverflow.com/questions/3879162/how-to-forward-declare-a-template-class)。

我有两个类，它们都是模板化的，例如：

```
class Base
{
public:
    template< class T > void operator=(T other)
    {
        //irrelevant
    }

    Derived toDerived()
    {
        Derived d;
        //do stuff;
        return d;
    }
};

class Derived: public Base
{
public:
    template< class T > void foo( T other )
    {
        //do stuff 
    }
}; 
```

如您所见，两者都是模板化的，并且在`Base`类函数内部我需要创建一个`Derived`. 当然，现在的方式我得到了一个错误`Derived does not name a type`。不幸的是，我不能只是 forward-declare `Derived`，因为它会导致另一个错误`variable 'Derived d ' has initializer but incomplete type`。

从我上面提到的 SO 问题中，我了解到编译器需要了解所有模板参数才能正确前向声明它。但是很明显，我不能只是将`Derived`声明向上移动，因为它会导致完全相同的问题，反之亦然。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:05:36.790

这个问题与模板无关。您可以只使用前向声明`Derived`来编译声明`Base::toDerived()`并根据`Derived` **后** `Derived`定义移动函数定义：

```
// Forward declaration of Derived
class Derived;

// Definition of Base
class Base
{
public:
   // Base::toDerived() declaration only
   Derived toDerived();
};

// Definition of Derived
class Derived: public Base
{
public:
...
};

// Base::toDerived() definition
inline Derived Base::toDerived()
{
   Derived d;
   // Do dirty things
   return d;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T06:05:32.080

```
// Declare, but do not define
class Derived;

class Base {
public:    
    // Declare, but do not define
    // at this point Derived must be declared to be able
    // to use it in the return type
    Derived toDerived();
};

// Define
class Derived: public Base {
    // Rest of definition
};

// At this point Derived is defined

// Define
Derived Base::toDerived()
{
    // Implementation goes here
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-28T06:06:33.327

你可以做

```
class Derived;

class Base
{
public:
    template< class T > void operator=(T other)
    {
        //irrelevant
    }

    Derived toDerived();
};

class Derived: public Base
{
public:
    template< class T > void foo( T other )
    {
        //do stuff 
    }
};

Derived Base::toDerived()
{
    Derived d;
    //do stuff;
    return d;
} 
```

如您所见，它与模板无关。

此外，这种设计根本感觉不对。

# xpages - 在 XPage 中使用主题的好处

> ID：12634351
> 
> 赞同：0
> 
> 时间：2012-09-28T05:56:02.237
> 
> 标签：xpages

[StackOverflow 上的这个问题](https://stackoverflow.com/questions/12622480/theme-not-working-for-button)让我对主题很感兴趣。但是问题中的示例只是将主题文件中的 CSS 类分配给 themeId，然后将其分配给 XPage 上具有相应 themeId 的元素。我也可以直接将类名分配给 XPage 中的组件。

所以我的第一个问题是主题给 XPage 带来了什么好处？

我试图探索可以通过主题分配哪些其他属性，似乎我们可以在主题文件中分配其他属性`valign`，如下所示：`style`

```
<control>
    <name>HtmlTd</name>
    <property>
        <name>styleClass</name>
        <value>tdclass</value>
    </property>
    <property>
        <name>style</name>
        <value>font-family: Courier</value>
    </property>
    <property>
        <name>valign</name>
        <value>top</value>
    </property>
</control> 
```

上面的代码实际上为XPage中的所有标签设置了`valign`and 。所以我的第二个问题是可以通过主题设置所有属性？`style``<td>`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:22:39.803

主题非常强大。几乎 XPages 中的每个控件[实际上都是一个 bean](http://avatar.red-pill.mobi/tim/blog.nsf/d6plinks/TTRY-8GK6K7)，这意味着您可以使用主题设置*几乎*所有的属性（请参阅 Paul 的回答中对此的澄清）。

这里有一些有用的资源：

*   Tim Tripcony 创建了一个名为[“将主题提升到新的水平”](http://de.slideshare.net/dominion/taking-themes-to-the-next-level)的演示文稿，其中突出了主题的一些强大功能。
*   XPageswiki.com 有[一个关于主题的页面](http://xpageswiki.com/apps/wiki-xpages/wiki-xpages.nsf/dx/Work_with_themes)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T07:42:48.360

只是为了澄清 Per 的答案，您*几乎*可以设置所有内容。那是因为在渲染响应阶段应用了主题。

您不能在 SSJS 设置为在页面加载时运行时覆盖 XPage 上的属性。这是因为设置了静态值，所以没有应用运行时绑定。

您不能设置在呈现响应之前需要知道的任何内容，例如重复控件的 var 属性。

渲染响应阶段是为什么它对性能更好。如果您使用 SSJS 计算 XPage 上的值，则在部分刷新期间会计算多次。如果它在主题中，则仅在渲染响应期间计算。

要查看实际中的主题示例，请查看 OpenNTF 并查看 Tim 的 dPloy 项目和我的 XPages Help Application。

# django - nginx+uwsgi+django，部署多应用时报错502，帮帮我

> ID：12634352
> 
> 赞同：0
> 
> 时间：2012-09-28T05:56:05.353
> 
> 标签：django, nginx, uwsgi

当只有一个 django 项目时，整个事情运行良好，但是当我创建另一个 django 项目并想将它与前一个项目一起添加到 nginx 时，只有一个可以工作，另一个显示 502 错误。

nginx配置：

```
server{
listen 80;
root /root/www;
server_name 119.254.35.221;
location /{
uwsgi_pass 127.0.0.1:8000;
include uwsgi_params;
uwsgi_param UWSGI_SCRIPT www.wsgi;
uwsgi_param UWSGI_CHDIR /root/www;
uwsgi_param UWSGI_PYHOME /root/www;
uwsgi_param SCRIPT_NAME "";
}
}

server{  
    listen 81;
    root /root/www1;
    server_name 119.254.35.221;      
    location / {  
        uwsgi_pass 127.0.0.1:8000;  
        include uwsgi_params; 
        uwsgi_param UWSGI_SCRIPT www1.wsgi;
        uwsgi_param UWSGI_CHDIR /root/www1;
        uwsgi_param UWSGI_PYHOME /root/www1;
        uwsgi_param SCRIPT_NAME "";
    }  
} 
```

uwsgi.ini：

```
[uwsgi]  
uid = 500
listen=200
master = true  
profiler = true 
processes = 8 
logdate = true  
socket = 127.0.0.1:8000  
pidfile = /root/www/www.pid  
daemonize = /root/www/www.log  
enable-threads = true
memory-report = true
limit-as = 6048

And I create two project: 
1, www: django-admin.py startproject www 
2, www1: django-admin.py startproject www1

Then I start nginx and uwsgi: 
1, ngxin 
2, uwsgi --ini uwsgi.ini --vhost 
```

最后，我访问了 119.254.35.221:80 和 119.254.35.221:81，只有一个（可能是 80 或 81 端口）运行良好，另一个显示 ERROR:502。

救救我，我要疯了。。

```
server {
    listen   80;
    server_name customersite1.com www.customersite1.com;
    access_log /var/log/customersite1/access_log;
    location / {
                root   /var/www/customersite1
        uwsgi_pass 127.0.0.1:3031;
        include        uwsgi_params;
    }
}

server {
    listen   80;
    server_name customersite2.com www.customersite2.com;
    access_log /var/log/customersite2/access_log;
    location / {
                root   /var/www/customersite2
        uwsgi_pass 127.0.0.1:3032;
        include        uwsgi_params;
    }
}

server {
    listen   80;
    server_name pippo.com;
    access_log /var/log/pippo/access_log;
    location / {
                root   /var/www/pippohome
        uwsgi_pass 127.0.0.1:3033;
        include        uwsgi_params;
    }
}
Now you have to run the customer's applications (you can use rc.local or upstart or whetever you want) with a different uid and a limited (if you want) address space for each socket:

uwsgi --uid 1001 -w customer1app --limit-as 128 -p 3 -M -s 127.0.0.1:3031
uwsgi --uid 1002 -w customer2app --limit-as 128 -p 3 -M -s 127.0.0.1:3032
uwsgi --uid 1003 -w django3app --limit-as 96 -p 6 -M -s 127.0.0.1:3033 
```

我按照官方的方法来解决这个问题，但是这里有什么解决方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T14:35:33.800

在同一个 uWSGI 进程中托管多个应用程序并不是最好的方法（从安全性和易于配置的角度来看）。拥有多个 uWSGI 实例（一个用于应用程序）是结合 uWSGI Emperor 来管理它们的最佳解决方案。

顺便说一句，如果您想使用多个解释器，您可能需要将 -vhost-host 添加到选项中，因为您的虚拟主机密钥应该是 HTTP_HOST 而不是 SERVER_NAME（因为此变量中未指定端口）

# c# - 当我移动它时，Mdichild 表格滞后

> ID：12634357
> 
> 赞同：-1
> 
> 时间：2012-09-28T05:56:42.190
> 
> 标签：c#

当我移动它时，我的主窗体的 mdichild 窗体滞后。这是我单击按钮时加载 mdi 子窗体的代码。

```
Form2 a =new Form2();
a.Mdiparent=this;
a.show(); 
```

当我单击该按钮时，表单会加载。但是当我想更改它在我的 mdiparent 表单上的位置时，它会滞后

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:03:22.813

如果您使用 MDI 表单然后删除子表单的控制框，所以用户不会移动它

# .net - 在 .NET 中创建类似应用程序的表单

> ID：12634362
> 
> 赞同：1
> 
> 时间：2012-09-28T05:56:59.617
> 
> 标签：.net

我想知道使用 VS 创建表单设计器的过程。基本上，该应用程序将有一个工具栏，其中包含可以删除的控件。控件应具有添加/编辑/删除文本的最低属性。目前我希望用户能够添加标签、文本框和按钮。应该能够在表单上移动/放置控件。应该可以删除控件。表单的当前状态可能会保存到 xml。

请给我一些可以开始的指针或链接。

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:18:19.200

您需要正确理解 Mouse-X 和 drag-X 事件。除此之外，您可能需要使用 Paint（尽管我认为没有必要）。[这篇](http://www.codeproject.com/Articles/13272/Crafting-a-C-Forms-Editor-from-scratch)文章将是一个不错的起点。

接下来，一旦创建控件，PropertyGrid 控件就会派上用场。这是它如何工作的基本概念：

1.  一组表示 IDE 支持的控件的图像。
2.  按钮的 MouseDown 事件处理程序以跟踪单击了哪个按钮和单击位置。
3.  MouseMove 事件处理程序，用于跟踪用户将其放入容器的位置。
4.  MouseUp 事件处理程序知道用户已经放弃了控件。在同一个处理程序中，向容器添加一个控件。例如，如果用户拿起标签并放下它，则通过代码将标签添加到容器（标准面板控件）。
5.  现在，添加拖放相关事件以启用控制移动。
6.  单击时，加载带有控件属性的 PropertyGrid。
7.  当用户保存表单时，检查所有控件并创建一个 CS/VB 文件（因为其他 IDE 也支持它）并将其保存在某个位置。

# ios - 如何更改 UITextview UIDataDetectorTypeLink 的颜色？

> ID：12634363
> 
> 赞同：8
> 
> 时间：2012-09-28T05:57:01.707
> 
> 标签：ios, ios7, uitextview, uicolor

1.  我将一些 url 传递给 UITextView，并使用 UIDataDetectorTypeLink 检测到它们。现在我需要将链接（url）的颜色更改为一些uicolor。我不知道该怎么做。

    这是显示我尝试的代码：

    ```
    [textview_Url setEditable:NO];
    [textview_Url setScrollEnabled:NO];
    [textview_Url setDataDetectorTypes:UIDataDetectorTypeLink];
    [textview_Url setText:web];
    ```

    它给出蓝色，我想改变那个颜色。

2.  通过 UIDataDetectorTypeLink，长按只要求构造重定向到链接。但是我想显示一些警报来询问是否有人刚刚触摸它。有没有办法做到这一点 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-09T10:55:42.003

**解决了**

我使用了窗口的**globalTintColor**属性，

像，

```
self.window.tintColor = [UIColor redColor]; 
```

输出：

![在此处输入图像描述](../Images/f36b0470625fe85126df436844df9ed2.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-12T11:00:41.857

用这个：

```
self.textView.linkTextAttributes = @{NSForegroundColorAttributeName : [UIColor whiteColor]}; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-10-20T07:24:22.850

更好的方法是 `self.textView.tintColor = [UIColor redColor];` 此更改仅将链接（电话）更改为红色。

# html - 带底部边框的 CSS 箭头

> ID：12634366
> 
> 赞同：2
> 
> 时间：2012-09-28T05:57:21.117
> 
> 标签：html, css, css-shapes

我需要在 div 中创建一个箭头。我已经创建了箭头，但需要获得带有边框的视觉效果，如下所示

![在此处输入图像描述](../Images/037f6631eeb42194bc234bdd1f29d0f7.png)

试用示例的演示[http://jsfiddle.net/rLZkf/4/](http://jsfiddle.net/rLZkf/4/)

```
div {
  margin: 20px;
  height: 200px;
  width: 200px;
  background-color: #c1c1c1;
  border: #000 solid 2px;
  background-image: -webkit-linear-gradient(135deg, transparent 75%, #fff 75%), -webkit-linear-gradient(45deg, transparent 75%, #fff 75%);
  background-image: -moz-linear-gradient(135deg, transparent 75%, #fff 75%), -moz-linear-gradient(45deg, transparent 75%, #fff 75%);
  background-image: -ms-linear-gradient(135deg, transparent 75%, #fff 75%), -ms-linear-gradient(45deg, transparent 75%, #fff 75%);
  background-image: -o-linear-gradient(135deg, transparent 75%, #fff 75%), -o-linear-gradient(45deg, transparent 75%, #fff 75%);
  background-image: linear-gradient(135deg, transparent 75%, #fff 75%), linear-gradient(45deg, transparent 75%, #fff 75%);
  background-position: 30px 0, 0 0;
  background-repeat: no-repeat;
  background-size: 30px 30px;
}
```

```
<div></div>
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:09:53.360

您可以为此使用 CSS3**旋转**属性。像这样写：

```
div {
    margin:20px;
    height: 200px;
    width: 200px;
    background-color: #c1c1c1;
    border:#000 solid 2px;
    position:relative;
}
div:after{
    content:'';
    width:20px;
    height:20px;
    background:#fff;
    position:absolute;
    -moz-transform:rotate(45deg);
    -webkit-transform:rotate(45deg);
    transform:rotate(45deg);
    top:-11px;
    left:10px;
    border-right:#000 solid 2px;
    border-bottom:#000 solid 2px;
} 
```

检查这个[http://jsfiddle.net/rLZkf/6/](http://jsfiddle.net/rLZkf/6/)

**更新**

检查这个[http://jsfiddle.net/rLZkf/9/](http://jsfiddle.net/rLZkf/9/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-20T07:55:23.707

就个人而言，我非常喜欢在这里选择的答案使用不同的方法。

[例如，使用https://css-tricks.com/snippets/css/css-triangle/](https://css-tricks.com/snippets/css/css-triangle/)上解释的原理，您可以使用两个伪元素来创建您所追求的效果。

您将基本上使用此边框技巧创建两个三角形：一个与您的页面背景颜色相同，另一个与您的容器边框相同，并将充当第一个三角形的“边框”。

然后，您只需偏移两个三角形的位置，使它们位于容器边框的顶部，仅此而已。

```
.container:after,
.container:before {
  border-left: 10px solid transparent;
  border-right: 10px solid transparent; 
  content: " ";
  left: 10px; 
  margin-top: -1px;
  position: absolute;
}

.container:before {
  border-top: 10px solid #000;
  top: 1px; 
}

.container:after {
  border-top: 10px solid #fff;
  top: 0px; 
} 
```

当然，如果你使用 Sass 或类似的东西，你可以将整个东西包装在一个 mixin 中，并将颜色/箭头大小传递给它。

有关快速示例，请参阅[http://codepen.io/arnaudvalle/pen/EjgYrp](http://codepen.io/arnaudvalle/pen/EjgYrp)

# ruby - Ruby 的 GC.stat 的字段是什么意思？

> ID：12634370
> 
> 赞同：13
> 
> 时间：2012-09-28T05:58:03.190
> 
> 标签：ruby, memory-management, garbage-collection, memory-profiling

我`GC.stat`用来分析我们的 Rails 应用程序中的内存使用情况。 `GC.stat`返回具有以下键的哈希：

```
:count
:heap_used
:heap_length
:heap_increment
:heap_live_num
:heap_free_num
:heap_final_num 
```

有人知道这些值的确切含义吗？[在 Ruby 源代码 ( gc.c](http://rxr.whitequark.org/mri/source/gc.c?v=1.9.3-p195) )中没有关于它们的文档，只有一条评论：“哈希的内容是实现定义的，将来可能会更改。”

其中一些字段在上下文中是有意义的，例如`count`Ruby 分配的堆数。但什么是`heap_final_num`？是什么`heap_increment`？是`heap_length`最小堆大小吗？

我在摆弄`RUBY_MIN_HEAP_SLOTS`,`RUBY_FREE_MIN`和`RUBY_GC_MALLOC_LIMIT`，但是更改这些环境变量似乎对`:heap_count`or没有任何影响`:heap_length`。如果我从根本上增加最小堆槽，我希望它`:heap_count`会下降。所以我真的很想知道所有`GC.stat`值代表什么！

我正在使用 Ruby 1.9.3。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-28T07:12:31.617

`:count`- gc 循环的次数，例如 gc 运行了多少次

`:heap_used`- 分配的堆数，ruby 默认创建一个堆，如果不足以分配所有对象，则增加堆数

`:heap_length`- 堆的大小。这是第一个堆大小。理想情况下，脚本启动后应该有一个堆

`:heap_increment`- 如果 ruby​​ 创建新堆，将添加到最后一个堆大小的数字

`:heap_live_num`- 分配了多少堆槽

`:heap_free_num`- 有多少堆槽是空闲的

`:heap_final_num`- 终结者插槽号

你是对的，通过增加`RUBY_MIN_HEAP_SLOTS`堆的数量应该减少到一个。但是越高`RUBY_FREE_MIN`，你得到的堆就越多。它指示当前堆应该拥有的空闲槽的数量，如果该数量小于您提供的数量 - ruby​​ 会创建新堆。 `RUBY_GC_MALLOC_LIMIT`与 ruby​​ 运行 GC 进程的频率更相关，并且不直接影响堆数。此计数器指示在多少 malloc 之后 ruby​​ 将运行 GC。但它甚至可以更早地运行。请注意，这不是 ruby​​ obj 分配，它是全局 ruby​​ 内部 malloc 计数器，在任何 ruby​​ 解释器内部 obj 分配上都会增加。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-09T22:00:43.770

正确的环境变量名称是`RUBY_HEAP_MIN_SLOTS`.

[https://github.com/ruby/ruby/blob/v1_9_3_194/gc.c#L441](https://github.com/ruby/ruby/blob/v1_9_3_194/gc.c#L441)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-05T02:41:47.223

在我看来**：count**是**“延迟扫描”** GC 周期的数量，而不是Ruby MRI 1.9.3p448 上的**完整 GC周期。**

在分析器报告任何 GC 事件之前，我必须强制执行完整的 GC：

```
GC::Profiler.enable
GC.start
GC::Profiler.report 
```

# git - git子树标签浏览

> ID：12634373
> 
> 赞同：1
> 
> 时间：2012-09-28T05:58:31.223
> 
> 标签：git, git-tag, git-subtree

我有一个项目使用两个单独维护的库。为了避免每次库更改时手动复制文件的混乱，我设法使用[来自 github 的这个示例](https://help.github.com/articles/working-with-subtree-merge)创建了两个子树。

我在这个工作目录的根目录中有我自己的代码。我也有`foolib/`和`barlib/`作为其他两个回购的子树。假设我想看看我是否可以使用 1.20 版本的傻瓜代替 master，因为我知道一个很好，不会改变。那么也许我想看看1.21是否更好。我的想法是，如果我这样做，我`git checkout foolib-1.20`会为我放入 1.20 版代码`foolib/`。那不会发生。相反，整个工作目录被替换为傻瓜 1.20。这不是很有帮助，似乎否定了`git subtree`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:13:25.683

如果您需要为您的库引用特定的提交，最好使用[submodules](http://git-scm.com/book/en/Git-Tools-Submodules)。

这样，您的父目录可以记录对这些库存储库的引用以及它们的确切提交。
请注意，这不会阻止您直接从工作树中更改库（前提是您提交并将这些库推回其上游存储库，*并*提交您的父存储库：请参阅“[子模块的真实性质](https://stackoverflow.com/questions/1979167/git-submodule-update/1979194#1979194)”）

但是，子模块可能包含一些陷阱（请参阅“ [git submodule 究竟是如何工作的](https://stackoverflow.com/a/12078816/6309)”）

# jquery - 获取有关 div 更改的确认框

> ID：12634375
> 
> 赞同：0
> 
> 时间：2012-09-28T05:58:38.957
> 
> 标签：jquery, jquery-ui

很长一段时间以来，我一直在努力显示确认框。问题是我有一个下拉列表 div =“Module”，在选择下拉列表中的任何值时，我会在另一个 div =“DivRoles”中显示相应的值。如果在单击下拉菜单中的任何其他模块时在 DivRoles 中进行了任何更改，我需要保存更改，因此需要显示确认框并保存更改。

代码片段如下：

```
<div id="roledef" >
        <div class="formlabel">
            <div align="right" class="label">Select Module:</div>
        </div>
      <!--- Here is my Module drop down whose id = "Module"---->
        <div class="formlabel">
            @Html.DropDownListFor(model => model.Module, (IEnumerable<SelectListItem>)ViewBag.lstm, "-----Select-----")
        </div>
        <div style="clear: both;"></div>
         <br/>
      <!------------I display the values here in id="DivRoles"------------->
         <div id="DivRoles" align = "center" >
            @Html.DropDownListFor(model => model.UserRole, new SelectList(ViewBag.lstroles, "RoleID", "RoleName", Model.UserRole), new { multiple = "multiple" })
        </div>

        <div align = "center" >
            @Html.DropDownListFor(model => model.UserRole, new SelectList(ViewBag.lstroles, "RoleID", "RoleName", Model.UserRole), new { multiple = "multiple", @id = "rolesoriginal" })
        </div>

          <div style="clear: both;"></div>
             <div class="formelement">
        <script src="@Url.Content("~/Scripts/jquery.multi-select.js")" type="text/javascript"></script>

         </div> 
```

每次单击下拉列表中的值时，我都会调用 UpdateRoles() 函数。因此，当我第一次单击时，我不需要确认框，并且在单击 div 后，如果没有进行任何更改，我也不需要确认框。仅当在 DivRoles 标记中进行任何更改时，如果用户单击任何其他 div，我才需要保存它。

我正在尝试以下 jquery：

```
$('#Module').change(ifChangeSave);

function ifChangeSave() {
    //UpdateRoles();
    $("#divbackgroundLogoff").show();
    jConfirm('Yes', 'No', '', 'Are you sure you want to Save the changes?', function (ans) {
        if (!ans)
            return false;
        else {
            UpdateRoles();
        }
    });
} 
```

每次发生任何更改时，UpdateRoles 都会加载此问题。如果有更好的解决方案，请提供帮助。谢谢，数控

更新：

它的 .change() 而不是 .onchange() 函数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:10:24.813

实际上`jConfirm`三个参数你有 4 给 chck 这个**[DEMO](http://labs.abeautifulsite.net/archived/jquery-alerts/demo/)**

```
jConfirm('Can you confirm this?', 'Confirmation Dialog', function(r) {
    jAlert('Confirmed: ' + r, 'Confirmation Results');
}); 
```

好的，所以喜欢这样尝试

```
$(document).click(function(e) {
    var target = e.target;

    if (!$(target).is('#formlabel') && !$(target).parents().is('#roledef')) {
       ifChangeSave();
    }
}); 
```

试试这个方法

```
$('#roledef').on('click',function(e) {
     // Do your work
});

$('#Module').change(function(event) { 
    event.stopPropagation();
    // Dow your work
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:29:45.287

试试这个：

```
$(function () {
    var ModuleSave;
    $("#Module").change(function () {
        ModuleSave = $(this).val();
        $("#Module").change(ifChangeSave);
    }
    function ifChangeSave() {
        //UpdateRoles();
        $("#divbackgroundLogoff").show();
        jConfirm('Yes', 'No', '', 'Are you sure you want to Save the changes?', function (ans) {
            if (!ans) {
                $("#Module").val(ModuleSave);
                return false;
            } else {
                UpdateRoles();
            }
        });
    }
}); 
```

加载页面时，初始更改处理程序仅启用稍后的更改处理程序，该更改处理程序要求确认是否第二次更改。

# ios - 是否可以使用 Snow Leopard 从 XCode 4.2 将应用程序运行到 IOS 6 设备？

> ID：12634377
> 
> 赞同：0
> 
> 时间：2012-09-28T05:58:50.160
> 
> 标签：ios, xcode, ios6

我有 XCode 4.2 的雪豹。是否可以从它在 IOS 6 设备上运行应用程序。因为我们可以通过将几个文件复制为 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/5.1 (9B176) 来将应用程序运行到 IOS 5.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:22:52.407

因此，使用更新的 iOS 6 设备进行 Xcode 4.3.2 开发的步骤如下：

从 apple.com 的开发区下载 Xcode 4.5 DP。

安装 Xcode 4.5

启动 Xcode 4.3.2

打开设备部分，选择您的设备进行开发，等待获取信息的过程完成，您就可以开始了。

问候！

# android - 在 android 应用程序中实现谷歌图表以生成报告

> ID：12634381
> 
> 赞同：0
> 
> 时间：2012-09-28T05:59:40.027
> 
> 标签：android, google-visualization

嗨，我不知道如何在 google api 的帮助下制作图表。根据日期，我在数据库中有一些价值，我想在我的应用程序中显示为图形和图表，例如：

日期 | 柜台 2012 年 9 月 20 日 10 2012 年 9 月 21 日 2 2012 年 9 月 24 日 5 2012 年 9 月 26 日 1 2012 年 9 月 30 日 8

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:08:24.007

好吧，您可以创建一个 WebView 并在其中随机生成 GOOGLE Chart api 生成的图表...

例如

```
 String url =  "http://chart.apis.google.com/chart?cht=p3&chs=500x200&chd=e:TNTNTNGa&chts=000000,16&chtt=A+Better+Web&chl=Hello|Hi|anas|Explorer&chco=FF5533,237745,9011D3,335423&chdl=Apple|Mozilla|Google|Microsoft";
        WebView mCharView = (WebView) findViewById(R.id.char_view);
        mCharView.loadUrl(url); 
```

在清单文件中添加以下内容...

```
<uses-permission android:name="android.permission.INTERNET"></uses-permission> 
```

最重要的是，如果您的图表很简单，而无需使用 GOOGLE Chart API，您也可以制作简单的图表...

# jquery - 如何定义比率“分数”变量以传递给 php 脚本？

> ID：12634387
> 
> 赞同：2
> 
> 时间：2012-09-28T06:00:09.107
> 
> 标签：jquery, raty

我正在尝试在网站中实施比率。除了一个小问题外，我已经让插件正常工作了。我无法将评分值存储到我的数据库中，因为我无法将分数变量传递给我的 php 脚本。这是我的代码：

```
<div id="star" onclick="javascript:rateMe()"></div><br /><br />
<div id="hint"></div><br />
<script type="text/javascript" src="scripts/js/jquery.raty.min.js"></script>
<script type="text/javascript">

$('#star').raty({
 half  : true,
 number: 10,
 score : 5,
 cancel     : true,
 cancelHint : 'none',
 target     : '#hint',
 targetKeep   : true
});

</script> 
```

我将数据获取到我的数据库的 post 函数是：

```
function rateMe(score) {
                $.post('scripts/php/rater.php',{score:score, userid:<?php echo $memid; ?> },function(data){alert(data+' Score = '+score);
                });         
} 
```

我的 PHP 脚本很好，除了分数本身之外，数据正在发布到它！在上面的代码中，我遗漏了一些东西。我的警报正确返回了所有变量，除了那些引用分数的变量，它们为空，我的警报的最后部分返回为“分数 = 未定义”。我曾尝试使用 onclick="javascript:rateMe(score)" 但这甚至无法发布数据，并且我没有收到任何警报。

我想知道我做错了什么。我试图在函数之外声明分数变量，我已经向函数添加了一个点击事件，我已经尝试按照文档中的方式重命名分数变量，我已经尝试将函数放在 $(document).ready 函数中() {...} 标签，以及代码的比率部分......无济于事。任何帮助将不胜感激......我是 javascript 的新手，我正在搜索我的食谱，但找不到答案。如果有人可以帮助我理解为什么 score 变量没有被传递给 php 脚本，我将永远感激不尽。谢谢 ：）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-28T06:14:53.203

尝试将点击处理程序放在比率对象的选项中：

```
<div id="star"></div><br /><br />
<div id="hint"></div><br />
<script src="lib/jquery-1.7.2.js" type="text/javascript"></script>
<script type="text/javascript" src="lib/raty.js"></script>
<script type="text/javascript">

    $('#star').raty({
        half  : true,
        number: 10,
        score : 5,
        cancel     : true,
        cancelHint : 'none',
        target     : '#hint',
        targetKeep   : true,
        click: function(score, evt) {
            $.post('raty.php',{score:score, userid:0 },
                    function(data){
                        alert(data+' Score = '+score);
            });
        }
    });
</script> 
```

# java - 如何在具有特定时区的动作脚本中创建日期？

> ID：12634390
> 
> 赞同：4
> 
> 时间：2012-09-28T06:00:16.697
> 
> 标签：java, actionscript-3, apache-flex

我正在开发 Flex 3 应用程序，我想知道如何在 actionscript3 中创建代表特定时区的 Date 对象？我的应用程序在国际上使用，我想为整个应用程序创建标准时区，根据研究，我发现我无法根据特定时区创建日期对象。对此有什么建议吗？仅供参考，所有业务逻辑都驻留在服务器上的 Java 上，而对于前端，我们使用的是 flex。

更新：

我正在从服务器获得时间以“Fri Sep 28 05:16:37 EDT 2012”作为“Fri Sep 28 05:16:37 EDT”，但是当我在 new Date() 中实例化时，它会抛出无效日期错误。所以我将其更正为“Fri Sep 28 05:16:37 GMT -0400 2012”并用 new Date() 实例化，但结果我在 IST 中得到，因此时区信息丢失。如何在 flex 中保留时区？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T09:41:01.533

假设您想将事物存储为 UTC....

在您的服务器中，您可以设置 JVM 参数

```
-Duser.timezone=UTC 
```

无论计算机的时区如何，这都会强制服务器以 UTC 运行。

然后，当您将对象从 flex 传递回 java 时，您将不得不更新日期对象。就像是

```
 var utcDate:Date = new Date(d.valueOf() - (d.timezoneOffset * MS_OF_ONE_MIN)); 
```

其中 d 是您来自 flex 的日期，并且运行 PC Flex 的时区。

如果您使用的是 BlazeDS 之类的东西，那么您可以调用一个函数来转换[RemoteObject](http://livedocs.adobe.com/blazeds/1/blazeds_devguide/help.html?content=rpc_remoteobject_2.html)中的所有日期，因为这是您执行序列化的对象。

您遇到的最大问题是 flex Date 对象上没有 setTimezone，这意味着您必须跳过所有这些环节才能获得 UTC 日期。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T06:17:22.747

使用 Date 对象之外的 UTC 字段来接收统一时间。然后，您可以使用 getTimezoneOffset() 来接收当前计算机与 UTC 的距离。否则，请澄清您的问题，除了在本地 Date 对象的 UTC 数据中严格操作之外，我无法破译您实际需要什么。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:35:16.440

理想情况下，什么都不应该关心您的服务器端时区 - 包括您的服务器。服务器位置不太可能具有任何有用的业务意义，并且能够在您想要的任何地方运行服务器可能*非常有用。*

相反，您需要弄清楚您的 UI 真正代表的是什么。它是实际时区中性的*本地日期和时间吗？*是否“只是一个日期”又将是时区中性的？它是一个特定的*瞬间*吗（例如，当一个特定的电话发生时，不管它发生在哪里）？（还有更多选项，但这些是最常见的选项。）

一旦你弄清楚了你的数据的真正含义，你就可以找出正确的方式将它传输到服务器（你还没有告诉我们任何关于它的事情），然后是如何在服务器上表示它。[如果您使用Joda Time](http://joda-time.sf.net)而不是内置`java.util.Date`和类，您的服务器端代码最终会更加清晰`java.util.Calendar`......您可以使用适当的 Joda Time 类型来表示上面列出的每个概念。

正如我所说，要抛弃的第一件事是您应该真正在服务器时区工作 - 或者至少，您必须证明这是一个极其不寻常且可能代价高昂的决定。

# android - 如何在网格视图中滑动分割图像以在 android 中制作益智游戏？

> ID：12634396
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:00:38.680
> 
> 标签：android

大家好，我正在从相机中拍摄图像并将其显示在 中`ImageView`，接下来单击 a`Button`我将使用以下代码将图像分成 9 等份

```
ArrayList<Bitmap>cut=new ArrayList<Bitmap>(split);
        BitmapDrawable bd=(BitmapDrawable)pic.getDrawable();
        Bitmap b=bd.getBitmap();
        Bitmap cutimage=Bitmap.createScaledBitmap(b, b.getWidth(), b.getHeight(), true);
        rows=cols= (int) Math.sqrt(split);
        hgt=b.getHeight()/rows;
        wdt=b.getWidth()/cols;

ArrayList<Bitmap> breakedimages== getIntent().getParcelableArrayListExtra("breaked image"); 
```

我将所有拆分后的图像放在 Arraylist 中，接下来如何将这些拆分后的图像移入`GridView`. 我必须在网格视图中以正确的顺序（实际图像）排列所有图像后，将拆分的图像混杂在一起，`GridView`然后应该显示吐司。

我已成功拆分图像并显示在网格视图中，接下来我无法将它们变成混乱的顺序，任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:42:15.317

您需要与位图一起保持原始位置。使用一个类将这些项目放在一起..

```
class PuzzleItem {
   Drawable puzzlepartImage;
   int correctPosition;

   public PuzzleItem(Drawable d, int index) {
      puzzlepartImage = d;
      correctPosition = index;
   }
}

ArrayList<PuzzleItem> list = new ArrayList<PuzzleItem>();
for (int i = 0; i < 9; i++) {
    list.add(new PuzzleItem(drawables[i], i)); 
}
Collections.shuffle(list);  
// create a adapter from this list and set to grid.. 
```

# iphone - 查询 OpenGL 特征

> ID：12634401
> 
> 赞同：0
> 
> 时间：2012-09-28T06:01:06.437
> 
> 标签：iphone, ios, ipad, opengl-es, opengl-es-2.0

我一直在使用 glGetIntegerv 和 glGetString 来查询 OpenGL 扩展和属性（例如最大纹理大小等）。现在我想知道我的设备是否支持浮动纹理：

```
GLint ext_tex;
glGetIntegerv(GL_HALF_FLOAT_OES, &ext_tex); 
```

不幸的是，这对于所有设备都返回“0”，也包括那些支持浮动纹理的设备。如何确定设备是否支持这种纹理格式？目前我正在使用 iOS，其中 iPhone 4S 和 iPad2 及更高版本支持此扩展，但我更喜欢通用解决方案，而不是根据设备型号决定。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T14:35:31.383

您可以通过获取扩展字符串 ( `glGetString(GL_EXTENSIONS)`) 并搜索适当的扩展名称来检测对扩展的支持。如果它在那里，那么它是受支持的。

# android - 编解码器协商但没有音频：G729

> ID：12634403
> 
> 赞同：1
> 
> 时间：2012-09-28T06:01:36.573
> 
> 标签：android, audio, android-ndk, sip, codec

我已经构建了g729编解码器的库文件，库构建成功并且编解码器完美协商但是两边都没有音频。

我正在使用一个开源项目[Sipdroid的参考](http://code.google.com/p/sipdroid/)

这是我的资源文件：
[G729.java](http://pastie.org/4840321)
[Android.mk](http://pastie.org/4840308)
[g729_jni.cpp](http://pastie.org/4837653)

# function - RMI & RPC：函数和方法

> ID：12634404
> 
> 赞同：0
> 
> 时间：2012-09-28T06:01:41.660
> 
> 标签：function, methods, rmi, rpc

通读分布式系统，我在解释分布式系统的核心概念时遇到了这些术语及其大量使用。

我还研究了涉及方法和函数之间的区别以及 RMI 和 RPC 之间的区别的其他问题。函数总是返回一个值，而方法只是一个过程。RMI 使用对象来调用方法，而 RPC 调用远程系统上的过程。

但是，我无法全面了解 RMI 和 RPC 在使用方法和过程来完成任务方面有何不同。

例如，正如我在其他 RMI 与 RPC 文章中所读到的，RMI 是特定于 java 的，它使用对象来调用在不同进程或计算机的远程接口中定义的方法。然而，RPC 用于调用不同系统上的过程。RMI 使用包含 IP 地址、端口和其他方法 ID 的远程对象引用来调用特定方法。在 RPC 的情况下如何调用远程过程？我的意思是要求必须对您尝试在远程计算机上运行的方法进行一些参考。此外，当使用对象时，访问权限很容易管理，就像 RMI 一样。使用 RPC 时如何管理安全？一个简单的例子将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:34:34.317

1.  'function' 和 'procedure' 之间的区别在于函数返回一个值。然而，“功能”现在通常也用于包含过程。

2.  一方面的“函数/过程”与另一方面的“方法”之间的区别在于，方法与面向对象编程系统中的“对象”相关联。

因此，RPC 在没有任何对象概念的情况下对远程系统进行远程函数/过程调用。RMI 对特定的远程*对象*进行远程方法调用。

# oop - 装饰器设计模式问题？

> ID：12634405
> 
> 赞同：3
> 
> 时间：2012-09-28T06:01:43.673
> 
> 标签：oop, design-patterns, decorator

在**《Head first design patterns》**一书的装饰器章节中，它谈到了装饰器处理具体类型并引发问题时的问题。我正在复制本章中的一些问答：

问：我有点担心代码可能会测试特定的具体组件——比如说，HouseBlend——并做一些事情，比如发布折扣。一旦我用装饰器包裹了 HouseBlend，这将不再起作用。

答：完全正确。如果您的代码依赖于具体组件的类型，装饰器将破坏该代码。只要您只针对抽象组件类型编写代码，装饰器的使用对您的代码将保持透明。但是，一旦您开始针对具体组件编写代码，您将需要重新考虑您的应用程序设计和装饰器的使用。

有人可以举一个简单的例子来说明“客户端”代码是针对具体类型还是抽象类型编写的？前者是如何给装饰者带来麻烦的？

书中一个装饰器的示例测试代码是这样的：

```
public class StarbuzzCoffee {
    public static void main(String args[]) {
        Beverage beverage2 = new DarkRoast();
        beverage2 = new Mocha(beverage2);
        beverage2 = new Mocha(beverage2);
        beverage2 = new Whip(beverage2);
        System.out.println(beverage2.getDescription()
            + “ $” + beverage2.cost());
        ...
    }
} 
```

这个测试代码（也是客户端代码）是针对抽象类型编写的吗？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:11:00.723

例如，他们正在谈论检查饮料2类型的代码

```
if (beverage2 instanceof DarkRoast) {
    <do_something>
} 
```

一旦你用摩卡或鞭子装饰饮料2，它就不再是 DarkRoast。

编辑：我还应该提到，通常使用`instanceof`表示没有充分使用 OO 的糟糕设计，这表示它在某些情况下很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-04T15:32:27.493

> 只要您只针对抽象组件类型编写代码，装饰器的使用将对您的代码保持透明

是的。这就是它应该的方式。

您不应该装饰特定于具体装饰器实现的新功能。一旦你这样做了，装饰器模式的目的就失去了。

由于包含接口本身的抽象装饰器（使用组合），装饰器模式运行良好。它有助于减少不同口味的不同组合的数量。

我已经 为类似的用例实现了[装饰器模式。](https://en.wikipedia.org/wiki/Decorator_pattern)看看这个文档链接

[何时使用装饰器模式？](https://stackoverflow.com/questions/1549743/when-to-use-the-decorator-pattern/37504043#37504043)

```
 Beverage beverage = new SugarDecorator(new LemonDecorator(new Tea("Assam Tea")));
 beverage.buildBeverage(); 
```

您将得到 18 的输出，即`Tea (10) + Lemon (5) + Sugar (3)`：

```
Cost of:Assam Tea+Lemon +Sugar :18 
```

要使上述示例正常工作，您需要对摘要进行一些更改，`Decorator`如文档链接中所述。由于抽象类的组成`Beverage`，`Decorator`可以很容易地添加多种口味。

***你永远不应该基于 Concrete Decorator 添加业务逻辑***。如果你在代码中加入了 Concrete Decorator 的智能，你就会失去独立添加动态职责的灵活性。

# javascript - 如何知道用户输入的值在 jquery 自动完成数据源中可用

> ID：12634413
> 
> 赞同：0
> 
> 时间：2012-09-28T06:02:28.163
> 
> 标签：javascript, jquery, jquery-ui, jquery-autocomplete

我正在使用以下 jquery 自动完成框，它工作正常

[jQuery 自动完成](http://jqueryui.com/demos/autocomplete/)

但问题是我想知道用户在文本框中输入的值是否存在于我的数据源列表中，假设

我提供给自动完成的数据源是

```
var availableTags = [
        "ActionScript",
        "AppleScript",
        "Asp",
        "BASIC",
        "C",
        "C++",
        "Clojure",
        "COBOL",
        "ColdFusion",
        "Erlang",
        "Fortran",
        "Groovy",
        "Haskell",
        "Java",
        "JavaScript",
        "Lisp",
        "Perl",
        "PHP",
        "Python",
        "Ruby",
        "Scala",
        "Scheme"
    ]; 
```

现在，如果用户输入`XYZ`并按下提交按钮，那么我怎么知道它`XYZ`是否存在于我的列表中。

是否有一些回调函数可以帮助我

...请帮助我，并提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:43:52.640

[可以在这里找到一个工作的 jsFiddle](http://jsfiddle.net/V8MfL/)

```
$(function() {
    $('#element').on('keyup', function(){
        var _self = $(this);
        var val = _self.val();
        var patt = new RegExp(val, 'g');
        $.each(availableTags, function(i,obj){
            if(patt.test(obj) == true){
                if(_self.parent().find('.inArray').length){
                    $('.inArray').removeClass('isNot').text('The value is in the array');
                }else{
                    _self.after('<div class="inArray isIn"> The value is in the array.</div>');
                }
                //exit loop, matches are here.
                return false;
            }else{
                if(_self.parent().find('.inArray').length){
                    $('.inArray').removeClass('isIn').text('The value is NOT in the array');
                }else{
                    _self.after('<div class="inArray isNot"> The value is NOT in the array.</div>');

                }

            }
        });
    });
}); 
```

验证器元素的一点 CSS。

```
.inArray{
    position:absolute;
    top:0;
    left:260px;
    margin-left:10px;    
  }

  .inArray.isIn{
     color:green;   
  }

  .inArray.isNot{
      color:red;   
  } 
```

（css不是必需的，只是为了以后的读者）

我们遍历数组，定义一个正则表达式对象来测试，做一个条件。如果它是真的，那么我们将检查是否存在包含该元素的元素，`validation text`如果存在，那么我们不会创建一个新元素并替换 div 中的文本。如果该语句在迭代器中至少一次为真，我们将退出该函数。这意味着您无法扩展此功能以查看有多少匹配项而不删除`return false;`和`incrementing a variable`计算匹配项。

[可以在这里找到一个工作的 jsFiddle](http://jsfiddle.net/V8MfL/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:12:50.087

自动完成不执行输入验证。您可以使用[http://docs.jquery.com/Plugins/Validation](http://docs.jquery.com/Plugins/Validation)中的 jquery-validate 插件。然后，您可以创建一个自定义验证方法来检查该值是否在 availableTags 数组中。

我的小提琴可以在[这里](http://jsfiddle.net/barmar/FLAQR/5/)找到。

```
$(function() {
    var availableTags = [
        "ActionScript",
        "AppleScript",
        "Asp",
        "BASIC",
        "C",
        "C++",
        "Clojure",
        "COBOL",
        "ColdFusion",
        "Erlang",
        "Fortran",
        "Groovy",
        "Haskell",
        "Java",
        "JavaScript",
        "Lisp",
        "Perl",
        "PHP",
        "Python",
        "Ruby",
        "Scala",
        "Scheme"
        ];
    $("#tag").autocomplete({
        source: availableTags
    });
    $.validator.addMethod("validTag", function(value) {
        return $.inArray(value, availableTags) >= 0;
    });
    $("#myform").validate({
        rules: {
            tag: {
                validTag: true
            }
        },
        messages: {
            tag: "Please enter a valid tag"
        }
    });
});​ 
```

# asp.net - 播放视频时出现服务器错误：HTTP 错误 404.3

> ID：12634414
> 
> 赞同：1
> 
> 时间：2012-09-28T06:02:36.337
> 
> 标签：asp.net, visual-studio-2010, html, video, iframe

我有一个应用程序，我需要将视频上传为：

html

```
<iframe id="frame1" runat="server" visible="false"
       style="height: 222px; width: 482px;"></iframe> 
```

代码

```
Finalpath = filepath + filename;
frame1.Visible = true;
frame1.Attributes.Add("src", Finalpath); 
```

但是当我加载视频扩展`Mp4`时，它会显示错误`Iframe`

```
HTTP Error 404.3 - Not Found 
```

由于扩展配置，无法提供您请求的页面。如果页面是脚本，则添加处理程序。如果应该下载文件，请添加 MIME 映射。

如何处理此服务器错误以及我可以上传什么类型（扩展名）的视频？感谢您的帮助..

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-28T06:07:47.413

您应该在 IIS 或 web.config 文件中为 .MP4 格式添加 MIME 类型 在 Web.Config 对于 IIS 7，您可以在配置中添加此部分。

```
<system.webServer>
    <staticContent>
        <mimeMap fileExtension=".mp4" mimeType="video/mp4" />
    </staticContent>
</system.webServer> 
```

您可以使用 HTML 5`<video>`标签来显示您的 .mp4 视频

```
<video width="320" height="240" controls="controls">
  <source src="movie.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video> 
```

# iphone - 目标 c 的 SUDZC 仅返回对象列表中的第一个对象？

> ID：12634415
> 
> 赞同：0
> 
> 时间：2012-09-28T06:02:38.133
> 
> 标签：iphone, objective-c, sudzc

使用 SUDZC 工具生成的代码工作正常，但它只返回从 Web 服务返回的对象列表中的第一个对象。

实际上我 NSLogged 在 didReceiveData 中的响应，它返回三个具有不同节点的对象。但在处理程序方面，我只显示第一个元素？

我在 SoapRequest.m 中的 connectionDidFinishLoading: 中评论了代码

```
 element = [element childAtIndex:0]; 
```

但接收方值没有变化。

任何解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T08:13:34.310

我相信这是许多人似乎在使用 Sudzc 时遇到的错误，并且它是反序列化的问题，它创建了一个字典，如果你没有唯一的键，它只会继续替换它。

仅仅注释掉这部分是行不通的，但你走在正确的轨道上。

有几个解决方法，您可以在 Sudzc上的[问题跟踪器中查看。](http://code.google.com/p/sudzc/issues/detail?id=19)

我目前无法自己测试代码，但请检查不同的解决方法并让我知道它是否有效。

# jdeveloper - 如何在 JDeveloper 中创建 Struts 项目

> ID：12634417
> 
> 赞同：0
> 
> 时间：2012-09-28T06:02:57.053
> 
> 标签：jdeveloper

我正在使用**JDeveloper 10.1**。我想使用**Struts**框架创建一个项目，其中包括 Java、jsp 和 js 等。如果有人能告诉我在 JDeveloper 中创建 Struts 框架的过程，我将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T23:08:13.480

您确定要使用 Struts 吗？在较新版本的 JDeveloper 中，Struts 已被更现代且功能更强大的 Java EE 标准 JSF 所取代。我建议你学习这项技术。

如果您真的想要 Struts，请在此处查看过去的旧教程： [http ://www.oracle.com/technetwork/testcontent/index-095995.html](http://www.oracle.com/technetwork/testcontent/index-095995.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:13:03.080

创建基于**Struts**的项目没什么大不了的。您可以创建一个简单的基于 Web 的项目，然后为其配置基于 struts 操作的 xml。可能以下链接会对您有所帮助。

1.  [http://www.oracle.com/technetwork/developer-tools/jdev/strutshowto-087240.html](http://www.oracle.com/technetwork/developer-tools/jdev/strutshowto-087240.html)
2.  [http://blog.csdn.net/bmjwin/article/details/4307239](http://blog.csdn.net/bmjwin/article/details/4307239)

# google-maps-api-3 - 减少 Google Places API 请求

> ID：12634420
> 
> 赞同：0
> 
> 时间：2012-09-28T06:03:07.490
> 
> 标签：google-maps-api-3, google-places-api, google-geocoding-api

虽然地图加载已降至每 1000 美元 0.5 美元，并且可以在客户端执行地理编码，但我似乎无法找到如何减少 Places 请求。此外，

*“请注意，某些服务可能有乘数。例如，文本搜索受 10 倍乘数的影响，导致每个文本搜索请求计为 10 个请求，超出您的配额。”*

如果我的应用程序具有建议酒店、餐馆等的功能，那么每次平移不构成一个请求吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-02T13:43:27.243

> “...每天 2,500 个地理定位请求的查询限制。（Google Maps API for Business 的用户每天最多可以执行 100,000 个请求。）” [https://developers.google.com/maps/documentation/geocoding/](https://developers.google.com/maps/documentation/geocoding/)

您可以为您的输入自动建议添加延迟。至少这样会减少用户输入文本。这是在我合作的一个项目中完成的，它减少了很大一部分请求。

# ios - 使用情节提要从动态表视图中自定义 Segue？

> ID：12634422
> 
> 赞同：0
> 
> 时间：2012-09-28T06:03:14.963
> 
> 标签：ios, uitableview, uistoryboard, uistoryboardsegue

我在情节提要中有一个带有 ViewController 的视图控制器，该视图包含一个按钮和一个表格视图。

我在按下按钮时添加了一个自定义 segue，它工作正常。当我将相同的自定义 segue 添加到原型单元的相同新视图控制器时，没有任何反应。永远不会调用 segue 上的执行。

我必须在代码中完成，还是应该使用界面生成器来工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:31:55.707

它应该可以工作，只要原型单元格是您在表格中真正使用的单元格（例如，您只需使用情节提要中的标识符将它们出列，没有单独的单元格初始化）。

如果一切都失败了，您可以直接从一个视图控制器定义到下一个视图控制器并调用`performSegueWithIdentifier:`您的选择行委托方法。

# javascript - 在搜索表单中输入单词后提交表单

> ID：12634425
> 
> 赞同：1
> 
> 时间：2012-09-28T06:03:18.227
> 
> 标签：javascript, form-submit

我有一个搜索表单，我想在用户在输入字段中输入任何单词后提交表单。我不想要任何提交按钮或输入键。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:12:09.610

```
<input type="text" onkeyup="autocomplete">
function autocomplete()
{
    formid.submit();
} 

Also, You may try out some ajax. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:07:58.197

```
<input type="text" name="searchbox" onkeypress="document.getElementById('myform').submit()" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:06:29.303

你可以试试这个。。

```
$('#text-field-id').keyup(function()
{
    $('#form-id').submit();
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T06:07:54.750

`javascript`像这样使用

```
<script>
function submit()
{
    form.submit();
} </script>

<input type="text" onkeyup="submit();"> 
```

# html - Iframe Inside JSP 调用 Servlet

> ID：12634426
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:03:19.130
> 
> 标签：html, jsp, servlets

我有个问题

我有一个 JSP 页面，它有文本框和按钮（类型是按钮）

当我输入文本框并单击一个按钮时，值将传递给 servlet 和 servlet 处理它，然后将值返回给其他 jsp 页面，

主页面中的 iframe 将刷新以显示结果。

我该怎么做？

感谢您的回答或建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:14:34.183

这是一个有点复杂的案例，但可以通过一点想象力来完成。

首先，您需要将数据从 jsp 传递到 iFrame 的表单。这可以使用按钮`onclick`事件将数据复制到隐藏的 iframe来完成`inputs`。

```
window.frames['myIFrame'].document.getElementById('myIFrameHidenInput').value = document.getElementById('myJSPinput').value; 
```

完成后，您应该将 iframe 表单发布到您的 servlet。

```
window.frames['myIFrame'].document.getElementById('myFormId').submit(); 
```

响应从 sevlet 返回后。你可以显示任何你想要的东西。

这是关于 iFrames 的一个很好的资源（[http://www.dyn-web.com/tutorials/iframes/](http://www.dyn-web.com/tutorials/iframes/)）

# android - 未创建数据库

> ID：12634427
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:03:21.627
> 
> 标签：android, android-sqlite

我正在尝试将解析的数据存储在我的应用程序中，但即使我已经初始化了类，也没有创建数据库。这是我的代码：

```
public class Schedule extends ListActivity{
    // Flag for Internet connection status
    Boolean isInternetPresent = false;

    // Alert Dialog Manager
    AlertDialogManager alert = new AlertDialogManager();

    ConnectionDetector cd;

    // All static variables
    static final String URL = "url address";

    // XML node keys
    static final String KEY_ITEM = "group_header"; // Parent node
    static final String KEY_NAME = "name"; //Group Number
    static final String KEY_SUNM = "day_sun_mrg";
    static final String KEY_SUNE = "day_sun_evn";
    static final String KEY_MONM = "day_mon_mrg";
    static final String KEY_MONE = "day_mon_evn";
    static final String KEY_TUEM = "day_tue_mrg";
    static final String KEY_TUEE = "day_tue_evn";
    static final String KEY_WEDM = "day_wed_mrg";
    static final String KEY_WEDE = "day_wed_evn";
    static final String KEY_THUM = "day_thu_mrg";
    static final String KEY_THUE = "day_thu_evn";
    static final String KEY_FRIM = "day_fri_mrg";
    static final String KEY_FRIE = "day_fri_evn";
    static final String KEY_SATM = "day_sat_mrg";
    static final String KEY_SATE = "day_sat_evn";

    public static ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();

    // Creating new HashMap
    HashMap<String, String> map = new HashMap<String, String>();

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        //Calling SQlite Process
        DBAdapter dbc=new DBAdapter(this); //Here I am doing my class call

        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // Getting XML
        Document doc = parser.getDomElement(xml); // Getting DOM element

        cd = new ConnectionDetector(getApplicationContext());

         // Check if Internet present
        isInternetPresent = cd.isOnline();
        if (!isInternetPresent) {
            // Internet Connection is not present
            alert.showAlertDialog(Schedule.this, "Internet Connection Error",
                    "Please connect to working Internet connection", false);
            // stop executing code by return
            return;
        }
        else {
            NodeList nl = doc.getElementsByTagName(KEY_ITEM);
            // Looping through all item nodes <item>
            for (int i = 0; i < nl.getLength(); i++) {
                Element e = (Element) nl.item(i);
                // Adding each child node to HashMap key => value

                map.put(KEY_NAME, parser.getValue(e,KEY_NAME));
                map.put(KEY_SUNM,parser.getValue(e, KEY_SUNM));
                map.put(KEY_SUNE, parser.getValue(e,KEY_SUNE));
                map.put(KEY_MONM,parser.getValue(e, KEY_MONM));
                map.put(KEY_MONE, parser.getValue(e,KEY_MONE));
                map.put(KEY_TUEM,parser.getValue(e, KEY_TUEM));
                map.put(KEY_TUEE, parser.getValue(e,KEY_TUEE));
                map.put(KEY_WEDM,parser.getValue(e, KEY_WEDM));
                map.put(KEY_WEDE, parser.getValue(e,KEY_WEDE));
                map.put(KEY_THUM,parser.getValue(e, KEY_THUM));
                map.put(KEY_THUE, parser.getValue(e,KEY_THUE));
                map.put(KEY_FRIM,parser.getValue(e, KEY_FRIM));
                map.put(KEY_FRIE, parser.getValue(e,KEY_FRIE));
                map.put(KEY_SATM,parser.getValue(e, KEY_SATM));
                map.put(KEY_SATE, parser.getValue(e,KEY_SATE));

                // Adding HashList to ArrayList
                menuItems.add(map);
            }
        }
    }
} 
```

这是我的 DatabaseActivity 类

```
public class DBAdapter{
    // Contacts Table Columns names
     public static final String KEY_ROWID = "_id";
    private static final String KEY_NAME = "group_id";
    private static final String KEY_SUNM = "day_sun_mrg";
    private static final String KEY_SUNE = "day_sun_evn";
    private static final String KEY_MONM = "day_mon_mrg";
    private static final String KEY_MONE = "day_mon_evn";
    private static final String KEY_TUEM = "day_tue_mrg";
    private static final String KEY_TUEE = "day_tue_evn";
    private static final String KEY_WEDM = "day_wed_mrg";
    private static final String KEY_WEDE = "day_wed_evn";
    private static final String KEY_THUM = "day_thu_mrg";
    private static final String KEY_THUE = "day_thu_evn";
    private static final String KEY_FRIM = "day_fri_mrg";
    private static final String KEY_FRIE = "day_fri_evn";
    private static final String KEY_SATM = "day_sat_mrg";
    private static final String KEY_SATE = "day_sat_evn";

    private static final String TAG = "DBAdapter";

    // Database Name
    private static final String DATABASE_NAME = "name";

    // Contacts table name
    private static final String DATABASE_TABLE= "schedule";

    // Database Version
    private static final int DATABASE_VERSION = 1;

    private static final String DATABASE_CREATE ="create table schedules (_id integer primary key autoincrement,group_id text,day_sun_mrg text ,day_sun_evn text ,day_mon_mrg text,day_mon_evn text ,day_tue_mrg text,day_tue_evn text,day_wed_mrg text ,day_wed_evn text ,day_thu_mrg text,day_thu_evn text ,day_fri_mrg text ,day_fri_evn text ,day_sat_mrg text,day_sat_evn text )";

    private final Context context;

    private DatabaseHelper DBHelper;
    private SQLiteDatabase db;

    public DBAdapter(Context ctx)
    {
         this.context = ctx;
         DBHelper = new DatabaseHelper(context);
    }

    private static class DatabaseHelper extends SQLiteOpenHelper
    {
        private static final String TAG = null;

        DatabaseHelper(Context context)
        {
            super(context, DATABASE_NAME, null, DATABASE_VERSION);
        }

        // Creating Tables

        @Override
        public void onCreate(SQLiteDatabase db)
        {
            db.execSQL(DATABASE_CREATE);
        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion,
        int newVersion)
        {
            Log.e(TAG, "Upgrading database from version " + oldVersion
                    + " to "
                    + newVersion + ", which will destroy all old data");
            db.execSQL("DROP TABLE IF EXISTS titles");
            onCreate(db);
        }
    }

    //---Opens the database---
    public DBAdapter open() throws SQLException
    {
        db = DBHelper.getWritableDatabase();
        return this;
    }

    //---closes the database---
    public void close()
    {
        DBHelper.close();
    }

    public void insertintoDatabase( String sunm) {
        // TODO Auto-generated method stub
        ContentValues values = new ContentValues();

        values.put(KEY_SUNM, sunm); //Sunday Morning

        db.insert(DATABASE_TABLE, null, values);
    }

    //---Deletes a particular title---
     public boolean deleteTitle(long group)
     {
         return db.delete(DATABASE_TABLE, KEY_NAME +
                 "=" + group, null) > 0;
     }

     //---Retrieves all the titles---
     public Cursor getAllTitles()
     {
         return db.query(DATABASE_TABLE, new String[] {
                 KEY_NAME,
                   KEY_SUNE,
                   KEY_SUNM,
                   KEY_SUNE,KEY_MONM,KEY_MONE,KEY_TUEM,
                   KEY_TUEE,KEY_WEDM,KEY_WEDE,KEY_THUM,
                   KEY_THUE,KEY_FRIM,KEY_FRIE,KEY_SATM,KEY_SATE},
                 null,
                 null,
                 null,
                 null,
                 null);
     }

     //---Retrieves a particular title---
     public Cursor getTitle(long group) throws SQLException
     {
         Cursor mCursor =
                 db.query(true, DATABASE_TABLE, new String[] {
                         KEY_NAME,
                          KEY_SUNE,
                          KEY_SUNM,
                          KEY_SUNE,KEY_MONM,KEY_MONE,KEY_TUEM,
                          KEY_TUEE,KEY_WEDM,KEY_WEDE,KEY_THUM,
                          KEY_THUE,KEY_FRIM,KEY_FRIE,KEY_SATM,KEY_SATE
                         },
                         KEY_NAME + "=" + group,
                         null,
                         null,
                         null,
                         null,
                         null);
         if (mCursor != null) {
             mCursor.moveToFirst();
         }
         return mCursor;
         }

     //---Updates a title---
     public boolean updateTitle(long group, String sunm, String sune, String monm,
              String mone, String tuem, String tuee, String wedm, String wede,
              String thum, String thue, String frim, String frie, String satm,
              String sate)
     {
         ContentValues args = new ContentValues();
         args.put(KEY_NAME,group); // Group number
         args.put(KEY_SUNM, sunm); // Sunday morning
         args.put(KEY_SUNM, sune); // Sunday evening
         args.put(KEY_MONM, monm);
         args.put(KEY_MONE, mone);
         args.put(KEY_TUEM, tuem);
         args.put(KEY_TUEE, tuem);
         args.put(KEY_WEDM, wedm);
         args.put(KEY_WEDE, wede);
         args.put(KEY_THUM, thum);
         args.put(KEY_THUE, thue);
         args.put(KEY_FRIM, frim);
         args.put(KEY_FRIE, frie);
         args.put(KEY_SATM, satm);
         args.put(KEY_SATE, sate);
         return db.update(DATABASE_TABLE, args,
                          KEY_NAME + "=" + group, null) > 0;
    }

    public long insertData(String sunm, String sune, String monm, String mone,
            String tuem, String tuee, String wedm, String wede, String thum,
            String thue, String frim, String frie, String satm, String sate,
            String string) {
        // TODO Auto-generated method stub

         ContentValues initialValues = new ContentValues();
         //initialValues.put(KEY_NAME,group); // Group number
         initialValues.put(KEY_SUNM, sunm); //Sunday morning
         initialValues.put(KEY_SUNM, sune);// Sunday evening
         initialValues.put(KEY_MONM, monm);
         initialValues.put(KEY_MONE, mone);
         initialValues.put(KEY_TUEM, tuem);
         initialValues.put(KEY_TUEE, tuem);
         initialValues.put(KEY_WEDM, wedm);
         initialValues.put(KEY_WEDE, wede);
         initialValues.put(KEY_THUM, thum);
         initialValues.put(KEY_THUE, thue);
         initialValues.put(KEY_FRIM, frim);
         initialValues.put(KEY_FRIE, frie);
         initialValues.put(KEY_SATM, satm);
         initialValues.put(KEY_SATE, sate);
         return db.insert(DATABASE_TABLE, null, initialValues);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:12:32.327

您在 create 语句的末尾缺少一个分号。因此它永远不会被执行和创建。看看这个：

```
DATABASE_CREATE ="create table schedules (_id integer primary key autoincrement,group_id text,day_sun_mrg text ,day_sun_evn text ,day_mon_mrg text,day_mon_evn text ,day_tue_mrg text,day_tue_evn text,day_wed_mrg text ,day_wed_evn text ,day_thu_mrg text,day_thu_evn text ,day_fri_mrg text ,day_fri_evn text ,day_sat_mrg text,day_sat_evn text )"; 
```

您需要`;`在最后一个括号后添加分号 , 。将其更改为：

```
DATABASE_CREATE ="create table schedules (_id integer primary key autoincrement,group_id text,day_sun_mrg text ,day_sun_evn text ,day_mon_mrg text,day_mon_evn text ,day_tue_mrg text,day_tue_evn text,day_wed_mrg text ,day_wed_evn text ,day_thu_mrg text,day_thu_evn text ,day_fri_mrg text ,day_fri_evn text ,day_sat_mrg text,day_sat_evn text );"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T06:56:10.510

感谢@Marcin 帮助我，但我在尝试时找到了答案。我做了：

```
DBAdapter dba;
dba = new DBAdapter(this);
try {
    dba.open();
} catch (SQLException e1) {
    // TODO Auto-generated catch block
    e1.printStackTrace();
} 
```

它帮助了我。不知道对你有没有帮助。

# windows-7 - Win7 Runas 管理员权限，但用户可以终止该进程

> ID：12634429
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:03:26.713
> 
> 标签：windows-7, administrator, runas, privilege

我用的是win7 Pro 32bit。我有 ac:\record.bat 文件。这个 bat 文件运行带有一些参数的 ffmpeg.exe 来捕获桌面屏幕并保存到视频 .mp4 文件。

当我使用管理员帐户登录时，它运行良好。任务管理器显示 ffmpeg.exe 正在使用管理员帐户运行。我可以突然杀死 ffmpeg 进程。这太正常了。

当我使用用户帐户登录时，我也可以运行它并且运行良好。任务管理器显示 ffmpeg.exe 正在使用用户帐户运行。我也能杀。这也太正常了。

现在，当仍在用户会话中时，我想以管理员权限运行 record.bat 文件，以让用户无法终止该进程。所以我做了一个测试，我打开 CMD ，然后使用 runas 命令：

runas /user:administrator c:\record.bat

它提示输入管理员密码，我输入密码并且效果很好。我可以看到使用管理员帐户运行的 ffmpeg.exe 进程。

但是，现在我也可以杀死那个进程了！！！虽然我现在是用户并且 ffmpeg.exe 进程在管理员权限下运行。这很奇怪，因为在 WinXP SP3 上，使用相同的测试架构，用户帐户无法杀死该进程（在管理员帐户下运行）。

你能告诉我如何解决这个问题吗？目标是我希望在用户会话中运行该批处理文件以捕获他们的屏幕，但他们无法终止该进程。我在winXP上成功地做到了这一点。但是在Win7上这失败了。

希望各位亲可以帮帮我。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:15:27.003

您的本地用户可能是 memberOf Administrators 组。

# c# - 为什么我必须重写虚方法而不是使用多态性？

> ID：12634433
> 
> 赞同：0
> 
> 时间：2012-09-28T06:04:01.517
> 
> 标签：c#, polymorphism

我有一个名为`Employee`. 现在我尝试定义它的`Equals`方法，但我只想接受一个`Employee`as 参数。

所以我写了这段代码：

```
class MainClass
    {
        public static void Main (string[] args)
        {
            Employee e = new Employee();
            Employee e2 = new Employee();
            Console.WriteLine(Equals(e, e2));
        }

        public static Employee CreateEmployee()
        {
            return new Employee();
        }
    } 

    class Employee
    {
        public int ID;
        public bool Equals (Employee e)
        {
            Console.WriteLine("Compare!");
            return ID == e.ID;
        }
    } 
```

但它不起作用！控制台输出：

```
false 
```

不是我所期望的：

```
Compare!
true 
```

看起来我必须写`public override bool Equals (Object)`，但为什么呢？C#不能根据参数类型选择调用的方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T06:06:05.277

尝试将您的代码更改为

```
Console.WriteLine(e.Equals(e2)); 
```

正如你所拥有的那样，它正在使用[Object.Equals Method (Object, Object)](http://msdn.microsoft.com/en-us/library/w4hkze5k%28v=vs.100%29.aspx)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-28T06:12:50.217

> 我有一个名为 Employee 的类。现在我尝试定义它的 Equals 方法，但我只想接受一个 Employee 作为参数。

那么你不是压倒一切，你是*重载*。这意味着任何想要调用您的代码的东西*要么*必须根据参数的执行时类型动态地执行它，*要么*必须提前知道您的重载并考虑到它。

`Employee`如果您进行实施，后者是可行的`IEquatable<Employee>`（并且您仍然应该覆盖`GetHashCode`，并且理想情况下*也*应该覆盖`Equals(object)`以保持理智） - 那么任何使用的东西`EqualityComparer<T>.Default`最终都会使用您的方法。那将包括`Dictionary<,>`等。

但基本上，任何*期望*能够调用的东西`Equals(object)`都会得到继承的实现，因为你没有覆盖它。C# 根本不会在执行时执行重载决议，除非您对类型使用动态`dynamic`类型 - 这在其他方面具有重大影响，尤其是性能。

你有两个选择，真的：

*   使用具有不同规则的动态语言
*   遵循 C# 的规则，其中方法签名是在编译时选择的，但该方法签名的*实现*是多态地确定为执行时间

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:14:35.260

您没有得到您期望的结果，因为您调用了不同的**Equals**方法))) 您调用了类**object**的方法，它是 C# 中所有类的父类，但是您期望您将调用 Employee 类的 Equals 方法。要调用 Employee 类的 Equals 方法，您应该使用`Employee`实例：

```
Employee e1 = new Employee();
Employee e2 = new Employee();
Console.WriteLine(e1.Equals(e2)); 
```

# sql - 如何使用 JOIN 从表中获取最新行

> ID：12634436
> 
> 赞同：5
> 
> 时间：2012-09-28T06:04:26.463
> 
> 标签：sql, sql-server, database, sql-server-2008, tsql

我有 5 个表的连接，以获取每个成员发布的任务，其中包含大约 15 列。但是对于示例代码，我只使用了其中的两张表。

```
SELECT TOP 5 
    dbo.MemberMst.MemberID, dbo.MemberMst.fname, 
    dbo.TaskMst.TaskMstID, dbo.TaskMst.OnDate, dbo.TaskMst.Description
FROM   
    dbo.MemberMst 
LEFT JOIN
    dbo.TaskMst ON dbo.MemberMst.MemberID = dbo.TaskMst.MemberID 
```

输出是：

```
MemberID fname  TaskMstID    OnDate                   Description
3    Ursula     NULL         NULL                      NULL
84   Opeyemi    30           2012-09-18 00:00:00.000     asd
85   test       21           2012-09-18 10:30:46.900     aaa
85   test       22           2012-09-18 10:31:04.967     eeee
85   test       23           2012-09-18 10:31:26.640     vvvv 
```

在上面的查询中，我得到了 3 行`MemberID=85`谁发布了 3 个任务，但我只需要该成员的一个最新任务。如何获取成员发布的最新任务，以便结果为：-

```
MemberID fname  TaskMstID OnDate                Description
3    Ursula     NULL      NULL                   NULL
84   Opeyemi    30        2012-09-18 00:00:00.000   asd
85   test       23        2012-09-18 10:31:26.640   vvvv 
```

`memberID`我的意思是说每个有任务只有一个记录？

帮助表示赞赏..！

提前致谢...！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:09:04.923

由于您使用的是 SQL Server 2008，因此您可以利用`Window Functions`.

尝试这样的事情：

```
SELECT  c.MemberID, c.fname, c.TaskMstID, c.OnDate, c.Description
FROM
    (
        SELECT  a.MemberID, a.fname,
                b.TaskMstID, b.OnDate, b.Description,
                ROW_NUMBER() OVER (Partition BY a.MemberID ORDER BY b.OnDate DESC) RN
        FROM    MemberMst a
                LEFT JOIN TaskMst b
                    ON a.MemberID = b.MemberID
    ) c
WHERE c.RN = 1 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T06:10:35.857

```
;With Cte1  AS
(

SELECT  top 5 dbo.MemberMst.MemberID, dbo.MemberMst.fname, dbo.TaskMst.TaskMstID, dbo.TaskMst.OnDate, dbo.TaskMst.Description
FROM   dbo.MemberMst left JOIN
dbo.TaskMst ON dbo.MemberMst.MemberID = dbo.TaskMst.MemberID
),
Cte2 As
(   SELECT Rn = Row_Number() Over(Partition by MemberId Order By OnDate Desc), *
    From Cte1

)
Select * 
From Cte2 
Where Rn = 1 
```

应该为你完成任务。试试看。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:07:51.813

您只需使用带有 MAX() 函数的[Group BY()子句](http://msdn.microsoft.com/en-us/library/ms177673.aspx)

```
with CTE as(
    SELECT TOP 5 
        dbo.MemberMst.MemberID, 
        dbo.MemberMst.fname, 
        dbo.TaskMst.TaskMstID, 
        dbo.TaskMst.OnDate, 
        dbo.TaskMst.Description
    FROM
        dbo.MemberMst left 
        JOIN dbo.TaskMst 
        ON dbo.MemberMst.MemberID = dbo.TaskMst.MemberID)

select dbo.MemberMst.MemberID, 
        dbo.MemberMst.fname, 
        dbo.TaskMst.TaskMstID, 
        max(dbo.TaskMst.OnDate) as OnDate, 
        dbo.TaskMst.Description
from CTE
group by MemberID 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-28T06:22:06.657

您可以按 MemberID 进行分区，然后对其进行排名并仅选择排名最高的项目。

[有关MSDN](http://msdn.microsoft.com/en-us/library/ms186734.aspx)的更多信息

尝试这样的事情

```
WITH MyCte AS 
(SELECT  top 5 dbo.MemberMst.MemberID, dbo.MemberMst.fname, dbo.TaskMst.TaskMstID, dbo.TaskMst.OnDate, dbo.TaskMst.Description,
        ROW_NUMBER() OVER (PARTITION BY dbo.MemberMst.MemberID ORDER BY dbo.TaskMst.OnDate DESC) AS RowNum 
FROM   dbo.MemberMst 
left JOIN dbo.TaskMst ON dbo.MemberMst.MemberID = dbo.TaskMst.MemberID)
SELECT  *
FROM    MyCte
WHERE   RowNum > 0 
```

更新：更改为 ROW_NUMBER() 而不是 RANK() 以避免多行具有相同等级的问题。

# html - 编写自定义 HTML 框

> ID：12634437
> 
> 赞同：0
> 
> 时间：2012-09-28T06:04:32.533
> 
> 标签：html, xhtml

我想用 HTML 编写一个框，就像我在图片中添加的那个框一样，右上角的蓝色框被剪掉了。

![盒子](../Images/15099f7bb632979b63de85c59cd1d271.png)

我想知道我是否可以这样做，或者是否必须将其作为图像。请让我知道。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:43:10.010

您可以使用 css 制作：http: [//jsfiddle.net/Cqnaa/](http://jsfiddle.net/Cqnaa/)

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Hello</title>
        <style>
        body{
                margin: 20px;
        }

        .box:after {
                content: "";
                position: absolute;
                top: 0px;
                right: 0px;
                border-width: 20px 20px 0 0;
                border-style: solid;
                border-color: #fff transparent;
                display: block;
                width: 0;
        }

        .box {
                color: #fff;
                background-color: #bbd0ed;
                position: relative;
                height: 80px;
                width: 150px;
                padding: 10px;
        }
        </style>
    </head>
    <body>
        <p class="box">
                Hello!
        </p>
    </body>
</html> 
```

格力高频

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:16:16.487

这可以通过 CSS 完成：

```
.box-corner {
   /* You would prefer a png for the transparent background where the corner is */
   background-image: url('box-background.jpg');
   padding: 10px 10px 0 0; /* Assuming the corner is 10x10 */
} 
```

然后像这样实例化它：

```
<div class="box-corner">Content</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:17:16.517

取一个带有一些背景颜色的高度和宽度的 DIV。然后添加一个带有背景的子 div，因为作物在图像中。将子 div 的位置设置为相对并将顶部和右侧设置为 0。如下所示

```
 #childDiv{
       position : relative;
       background-image : url("cropedMark.png)"
       width : "Some width";
       height : "Some height";
       top : 0;
       right : 0
  } 
```

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T06:32:48.920

这是一个确切的答案。 [http://jsfiddle.net/swGvr/](http://jsfiddle.net/swGvr/)

```
<style>
#target {
border-top: 30px solid transparent;
border-left: 30px solid #4c4c4c; 
border-right: 30px solid #4c4c4c; 
border-bottom: 30px solid #4c4c4c;
width:200px;
height:100px;
}
#target > div {
background-color:#4c4c4c;
width:230px;
height:130px;
margin-top:-30px;
margin-left:-30px;
position:absolute;
}
</style>
<div id="target"><div></div></div> 
```

有两个 CSS 共享宽度和高度。您也可以使用 jQuery 自动生成另一个。

# eclipse - Eclipse 有没有 Drools 插件？

> ID：12634439
> 
> 赞同：1
> 
> 时间：2012-09-28T06:04:39.457
> 
> 标签：eclipse, eclipse-plugin, drools

JBoss（或任何其他实体）是否为 Eclipse 发布了 Drools 插件？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-28T06:11:22.937

下面是如何在 eclipse 中安装 drools 插件的步骤。

1.  启动 Eclipse
2.  帮助 -> 安装新软件
3.  在 Work With: 或 Site: 输入字段中，输入：“ [http://download.jboss.org/drools/release/5.4.0.Final/org.drools.updatesite/](http://download.jboss.org/drools/release/5.4.0.Final/org.drools.updatesite/) ”并单击“添加”按钮
4.  对于名称，您只需输入“Drools”
5.  选中 Drools 和 jBPM 复选框并按照说明进行安装。

希望本教程对[您](http://www.jbug.jp/trans/jboss-rules3.0.2/ja/html/ch02.html)有所帮助。

# git - TeamCity 构建 Git / GitHub 拉取请求

> ID：12634440
> 
> 赞同：11
> 
> 时间：2012-09-28T06:04:43.563
> 
> 标签：git, github, teamcity

我们有一个 TeamCity 7.1 安装，它从 GitHub 存储库构建所有分支。

GitHub 有一个返回到 TeamCity 的通知挂钩，以在签入时触发构建。我们还让 TeamCity 每 120 秒轮询一次 GitHub 以检查更改（以防在签入更改时服务器处于脱机状态）。

我们正常的发展遵循一个共同的模式：

1.  从 master 创建一个分支
2.  提交到该分支，直到完成一个功能
3.  完成后，从 master 拉取以合并任何更改并推送到远程
4.  提交 GitHub 拉取请求以允许管理员合并到 master

一切都很顺利（经过大量搜索以获得正确的配置设置）但是......

上述过程触发了 TeamCity 上的几个构建，我想知道它们是否都是必要的。通常我们会得到：

*   */refs/heads/分支名称*的构建
**   */refs/pull/ number* /head的构建*   */refs/pull/ number* /merge的构建*

 *自然，第一个构建是特定分支的最后一次签入，第二个构建是拉取请求，但**第三个构建是为了什么？**

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-20T11:44:31.267

第三次构建实际上是最有价值的——它是拉取请求自动合并的结果（当您按下 github 上的按钮时会发生合并）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T08:56:24.407

您的构建似乎是多余的。在 git 中组织 TeamCity 构建功能分支的更节俭的方法如下：

1.  组织`refs/heads/master`分支的持续集成。120 秒的投票在这里是相当合理的。
2.  `refs/heads/feature-name`为每个分支组织夜间构建。根据我的经验，只有少数功能分支需要 120 秒的轮询。

TeamCity 7.1 有一个非常好的自动触发功能分支的功能，所以步骤 (2) 可以通过点击几下设置，如`refs/heads/feature-*`.

构建拉取请求没有任何意义，因为它们将被主构建覆盖。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-11T07:54:56.887

更新答案，以防有人仍在使用 TeamCity

自 2018 年以来，有一个原生的[Pull Request Build Feature](https://www.jetbrains.com/help/teamcity/pull-requests.html)。与使用分支触发器和过滤器相比，这是一个更好的解决方案，因为它在构建和相应的 PR 之间创建了双向链接，*并且*使您不必向`refs/pull/...`VCS 分支规范添加任何内容。

尽管如此，如果您坚持使用`pull/*/merge`：请注意，如果在 GH 存储库上启用了“*需要线性历史记录*”（=仅允许从 PR 合并 Rebase 和 Squash）功能，则会创建多余的构建，因为在这种情况下 PR 只能**是**无论如何，一旦它与它的基本分支是最新的，它就会合并。*

# python - 仅使用 1 个 web dyno 和 0 个 worker dyno 运行 Heroku 后台任务

> ID：12634447
> 
> 赞同：26
> 
> 时间：2012-09-28T06:05:03.717
> 
> 标签：python, heroku, redis

我在 Heroku 上有一个 Python Flask 应用程序，它提供网页服务，但也允许启动某些任务，我认为这些任务最好构造为后台任务。因此，我按照[Heroku`rq`教程](https://devcenter.heroku.com/articles/python-rq)设置后台任务。我的 Procfile 看起来像这样：

```
web: python app.py
worker: python worker.py 
```

但是，我的流程目前是按比例缩放的`web=1 worker=0`。鉴于此后台进程不会经常运行，因此为它提供整个测功机然后为那么小的东西每月支付 34 美元对我来说似乎是不明智的。

**问题：**

*   如果我保留`worker`在我的 Procfile 中声明的进程但将缩放保持在`web=1 worker=0`，我的排队进程最终会在我可用的网络测功机上运行吗？或者排队的进程永远不会运行？
*   如果排队的进程永远不会运行，是否还有其他方法可以做到这一点，例如，`twisted`在我的网络应用程序中使用异步运行任务？

**附加信息**

`worker.py`看起来像这样：

```
import os
import redis
from rq import Worker, Queue, Connection

listen = ['high', 'default', 'low']

redis_url = os.getenv('REDISTOGO_URL', 'redis://localhost:6379')

conn = redis.from_url(redis_url)

if __name__ == '__main__':
    with Connection(conn):
        worker = Worker(map(Queue, listen))
        worker.work() 
```

主应用程序中将进程排入队列的逻辑如下所示：

```
from rq import Queue
from worker import conn
q = Queue(connection=conn)

q.enqueue(myfunction, myargument) 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-28T07:08:36.083

修改`Procfile`为如下所示：

```
web: bin/web 
```

现在创建`bin`目录，并创建如下所示的文件`bin/web`：

```
#!/bin/bash
python app.py &
python worker.py 
```

确保你给这个文件可执行权限：

```
$ chmod +x bin/web 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-11-26T14:18:01.720

我目前仅使用 1 个测功机在 Heroku 中运行我的 Web 和后端调度程序。

想法是为 Heroku 提供一个主要的 python 脚本以在 1 dyno 中启动。此脚本用于启动 Web 服务器进程和客户调度程序进程。然后，您可以定义您的作业并将它们添加到自定义调度程序。

在我的案例中使用了[APScheduler 。](http://apscheduler.readthedocs.org/en/latest/ "APScheduler")

这就是我所做的：

在 Procfile 中：

```
 web: python run_app.py    #the main startup script 
```

在 run_app.py 中：

```
# All the required imports
from apscheduler.executors.pool import ThreadPoolExecutor, ProcessPoolExecutor
from apscheduler.triggers.cron import CronTrigger
from run_housekeeping import run_housekeeping
from apscheduler.schedulers.background import BackgroundScheduler
import os

def run_web_script():
    # start the gunicorn server with custom configuration
    # You can also using app.run() if you want to use the flask built-in server -- be careful about the port
    os.system('gunicorn -c gunicorn.conf.py web.jobboard:app --debug')  

def start_scheduler():

     # define a background schedule 
     # Attention: you cannot use a blocking scheduler here as that will block the script from proceeding.
     scheduler = BackgroundScheduler()

     # define your job trigger
     hourse_keeping_trigger = CronTrigger(hour='12', minute='30')

     # add your job
     scheduler.add_job(func=run_housekeeping, trigger=hourse_keeping_trigger)

     # start the scheduler
     scheduler.start()

def run():
    start_scheduler()
    run_web_script()

if __name__ == '__main__':
    run() 
```

我还使用 4 个 Worker 进程从 Gunicorn 为网络提供服务——运行得非常好。

在 gunicorn.conf.py 中：

```
loglevel = 'info'
errorlog = '-'
accesslog = '-'
workers = 4 
```

你可能想以这个项目为例：[Zjobs@Github](https://github.com/mengfeng/zjobs "zjobs")

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-03T00:34:36.657

您可以使用诸如[god](http://godrb.com/)或[monit](http://mmonit.com/monit/)之类的流程管理器。

有了上帝，你可以像这样设置你的配置

```
God.watch do |w|
  w.name = "app"
  w.start = "python app.py"
  w.keepalive
end

God.watch do |w|
  w.name = "worker"
  w.start = "python worker.py"
  w.keepalive
end 
```

然后你把它放在你的 Procfile

```
god -c path/to/config.god -D 
```

默认情况下，它会在崩溃时自动重新启动进程，您可以将其配置为在内存使用率过高时重新启动应用程序。查看文档。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-29T12:30:33.707

在后台启动和运行进程：

档案：

```
run: python my_app.py 
```

稍后，执行：

```
heroku ps:scale run=1 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-09-28T14:58:23.930

您应该看一下[Heroku Scheduler](https://addons.heroku.com/scheduler)，它将允许您按计划的时间间隔（例如每 10 分钟）运行特定任务。如果您已经设置了工作人员，则可以添加：

```
heroku run worker 
```

# python - 将两个字典与嵌套数组合并

> ID：12634452
> 
> 赞同：0
> 
> 时间：2012-09-28T06:05:22.110
> 
> 标签：python, arrays, dictionary

我有两本词典

```
a = {'I': [1,2], 'II': [1,2], 'III': [1,2]}
b = {'I': [3,4], 'II': [3,4], 'IV': [3,4]} 
```

我如何合并它们以获得以下结果

```
c = merge_dicts(a,b) 
```

其中 c 是`{'I': [1,2,3,4], 'II': [1,2,3,4], 'III': [1,2], 'IV': [3,4]}`

有没有一种好的pythonic方式来做到这一点？

请注意，我是 python 新手，即使我使用的是 pythonic 之类的词。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T06:15:33.593

如果您需要所有值：

```
from itertools import chain
from collections import defaultdict

a = {'I': [1,2], 'II': [1,2], 'IV': [1,2]}
b = {'I': [3,4], 'II': [3,4], 'V': [3,4]}

d = defaultdict(list)
for key, value in chain(a.iteritems(), b.iteritems()):
    d[key].extend(value)
d 
```

输出：

```
defaultdict(<type 'list'>, {'I': [1, 2, 3, 4], 'II': [1, 2, 3, 4], 'V': [3, 4], 'IV': [1, 2]}) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T06:07:24.500

你确定他们有相同的钥匙吗？你可以这样做：

```
c = dict( (k,a[k]+b[k]) for k in a ) 
```

添加列表连接所以`a[k] + b[k]`给你类似于`[1,2]+[3,4]`which equals的东西`[1,2,3,4]`。构造`dict`函数可以采用一系列 2 元素迭代，它们变成`key`-`value`对。

如果他们不共享密钥，您可以使用`set`s.

```
aset = set(a)
bset = set(b)
common_keys = aset & bset
a_only_keys = aset - bset
b_only_keys = bset - aset

c = dict( (k,a[k]) for k in a_only_keys )
c.update( (k,b[k]) for k in b_only_keys )
c.update( (k,a[k]+b[k]) for k in common_keys ) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-28T06:33:20.030

```
>>> from collections import Counter
>>> class ListAccumulator(Counter):
...     def __missing__(self, key):
...         return []
... 
>>> a = {'I': [1,2], 'II': [1,2], 'III': [1,2]}
>>> b = {'I': [3,4], 'II': [3,4], 'IV': [3,4]}
>>> 
>>> ListAccumulator(a) + ListAccumulator(b)
Counter({'IV': [3, 4], 'I': [1, 2, 3, 4], 'II': [1, 2, 3, 4], 'III': [1, 2]}) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-28T06:08:10.060

```
>>> a = {'I': [1,2], 'II': [1,2]}
>>> b = {'I': [3,4], 'II': [3,4]}
>>> {key:a[key]+b[key] for key in a}
{'I': [1, 2, 3, 4], 'II': [1, 2, 3, 4]} 
```

请注意，这仅在它们完全共享密钥时才有效。

# .net - 如何在 DataGridView 列上为初始排序顺序设置排序列、顺序和字形？

> ID：12634457
> 
> 赞同：2
> 
> 时间：2012-09-28T06:05:42.653
> 
> 标签：.net, winforms, datagridview

我有一个 DataGridView，所有列都设置为*自动*排序模式。当我最初填充网格时，我使用 OrderBy LINQ 方法来设置初始顺序，例如 CustomerName，但是当用户单击 CustomerName 列标题时，网格冗余地先升序排序，然后才显示一个字形告诉用户排序。

我知道我可以在填充网格时以编程方式按列排序，但是我读到的所有内容都表明列的排序模式应该是编程的。我想在初始排序后保留自动排序。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T14:38:07.480

例如，要按第一列升序排序，您首先要执行以下操作：

```
dataGridView1.Sort(dataGridView1.Columns[0], ListSortDirection.Ascending); 
```

将出现排序字形，并保持自动模式。

# playframework-2.0 - 使用 Join 表创建单向 OneToMany 关系

> ID：12634471
> 
> 赞同：2
> 
> 时间：2012-09-28T06:07:10.160
> 
> 标签：playframework-2.0, one-to-many, ebean

我有一个用户表和兴趣表，兴趣表中的行数是有限的，我正在尝试对每个用户都有一组兴趣的情景进行建模，这是我的代码：

```
@Entity 
@Table(name="user")
public class User extends Model{
@OneToMany(cascade = CascadeType.PERSIST)
@JoinTable(name="user_interest")
public List<Interest> interests;
} 

@Entity 
@Table(name="interest")
public class Interest extends Model{
@Id
public Long id;
public String   name;
public String   image;
} 
```

我自然希望有联合表，但进化忽略了创建连接表并尝试通过在兴趣表中添加一个额外的列来实现。这是

```
create table interest (
19 id                        bigint auto_increment not null,
20 user_id                   bigint not null,
21 name                      varchar(255),
22 image                     varchar(255),
23 constraint pk_interest primary key (id))
. 
```

我究竟做错了什么？？如何使用 ebean 在 play2.2 中创建简单的 OneToMany 关系 WITH 连接表？

谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T10:05:18.480

这是正确的行为，模型中`@OneToMany`的关系`User`可以像模型中一样读取，字面意思是“每个兴趣可能只属于一个用户”，所以如果包含带有用户 ID 的字段就足够了——在这种情况下。`@ManyToOne``Interest``Interest``user_id`

连接表用于存储 MM 关系，因此要强制使用连接表，您只需将`User`模型中的关系更改为`@ManyToMany`，它就会自动为您创建您想要的。当然，如果每个兴趣都可以与唯一的一个用户加入，那没有任何意义，因为如果给定的兴趣尚未加入其他人，您需要在保存时进行控制。

顺便说一句：两个提示：

1.  如果您的模型具有相同的名称，您不需要使用`@Table(name="interest")`注解，Ebean 会自动创建它
2.  如果您计划将来迁移到 postgress（即在 Heroku 上），请将 User 模型的表名更改为`users`（或其他）作为`user`PG 中的关键字，这将导致冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-23T17:33:02.467

在撰写本文时，Ebean 不支持 @OneToMany 和 @JoinTable。

这是一个未解决的问题（[GitHub 上的 #123](https://github.com/ebean-orm/avaje-ebeanorm/issues/123)）。

# spring - 带有数据源的 applicationContext.xml 或 hibernate.cfg.xml。不同之处？

> ID：12634475
> 
> 赞同：23
> 
> 时间：2012-09-28T06:07:32.673
> 
> 标签：spring, hibernate, jakarta-ee, struts2

想解开一些疑惑。我有applicationContext.xml。

**问题 1：** 1 和 2 有什么区别。它们都相同但方法不同吗？

**问题2：**

我在 Spring 论坛上就一些问题提出了问题。他提到的关于池的事情如下

> 如果您需要/想要使用内部连接池进行休眠，我建议您不要这样做，只需配置一个支持连接池的数据源并将其注入您的 sessionfactorybean。

*休眠的内部连接池 =*这是**下面的 2 号**。对？

*只需配置一个支持连接池的数据源并将其注入您的 sessionfactorybean =*这是**下面的数字 1**。对？

**1# -**

```
<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <property name="driverClassName" value="${jdbc.driverClassName}"/>
        <property name="url" value="${jdbc.url}"/>
        <property name="username" value="${jdbc.username}"/>
        <property name="password" value="${jdbc.password}"/>
        <property name="maxActive" value="100"/>
        <property name="maxIdle" value="30"/>
        <property name="maxWait" value="16000"/>
        <property name="minIdle" value="0"/>
    </bean>

 <!-- Hibernate SessionFactory -->
    <bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="dataSource" ref="dataSource"/>
        <property name="annotatedClasses">
            <list>
                <value>com.mkyong.customer.model.Customer</value>
            </list>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.MySQL5Dialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.format_sql">false</prop>
                <prop key="hibernate.generate_statistics">true</prop>
            </props>
        </property>
    </bean> 
```

**2# -**

池和连接信息在 hibernate.cfg.xml 中

```
<bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="configLocation" value="classpath:hibernate.cfg.xml" />
    </bean> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-28T08:09:55.820

**答案1：**

两种方法都是一样的。默认情况下，hibernate 从`classpath:hibernate.cfg.xml`构建中读取配置`SessionFactory`。`LocalSessionFactoryBean`只允许您在内部设置休眠配置，`applicationContext.xml`而不是`hibernate.cfg.xml`.

如果在两个文件中指定了相同的属性，则根据属性，它将具有令人上瘾的效果，或者在中指定的属性 将具有更高的优先级，从而将忽略`applicationContext.xml`其中的那些值 。`hibernate.cfg.xml`

对于方法一，`annotatedClasses`应该`hibernateProperties`有上瘾的效果，对应的值在`hibernate.cfg.xml`. 中的 DBCP 数据源`applicationContext.xml`应导致相关属性`hibernate.cfg.xml`被忽略。

**答案 2：**

对于方法 2，如果不指定 的任何属性`LocalSessionFactoryBean`，则所有的休眠配置都由`hibernate.cfg.xml`. 如果没有配置连接池`hibernate.cfg.xml`，[则默认使用hibernate自己的连接池算法](http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html/ch03.html#configuration-hibernatejdbc)，这是相当初级的，不适合在生产系统中使用，甚至不用于性能测试。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-28T06:50:02.380

如果您想要构建一个会话工厂，那么这两种方法都会得到相同的结果。我不认为一个人能比另一个人做得更多。

在我看来，当你不使用 Spring 时，你会使用*hibernate.cfg.xml方法。*例如，当 JUnit 测试您的 DAO 时。不必构建 Spring 应用程序上下文使您的测试运行得更快。

但是，当您使用 Spring 时，我认为将数据源与会话工厂分开是一件好事。您正在使用 Spring 进行依赖注入，对吗？为什么不使用 spring 为您的会话工厂提供所需的东西？

# iphone - 在 UISplitView iOS 5.1 和 iOS 6 中隐藏和取消隐藏 masterView

> ID：12634477
> 
> 赞同：0
> 
> 时间：2012-09-28T06:07:41.853
> 
> 标签：iphone, ios, uisplitviewcontroller

我在 stackoverflow 中阅读了很多答案，但我很困惑，我们如何隐藏和取消隐藏`masterView`（`UISplitView`iOS 5.1 和 iOS 6）。

在按钮上单击`detailViewController`，我想显示`MasterViewController`但`willShowViewController`没有调用方法？

```
- (void)splitViewController:(UISplitViewController *)splitController willShowViewController:(UIViewController *)viewController invalidatingBarButtonItem:(UIBarButtonItem *)barButtonItem
{
// Called when the view is shown again in the split view, invalidating the button and popover controller.

    [self.navigationItem setLeftBarButtonItem:nil animated:YES];
    self.masterPopoverController = nil;
} 
```

关于上述方法的方向变化，但我希望当用户单击 detailViewController 中的按钮时，应该出现 MasterViewController

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:54:45.230

您可以通过执行以下操作来实现：
单击 Detail View Controller 中的按钮调用以下函数。

```
- (void)hideUnhide
{
    doHideMasterView = !doHideMasterView // a bool variable
    if(doHideMasterView)
    {
         self.MasterViewController = [SplitViewController.viewControllers objectAtIndex:0];
         [SplitViewController.viewControllers removeObjectAtIndex:0];
    }
    else
    {
        SplitViewController.controllers = [NSArray arrayWithObjects:self.MasterViewController,self.DetailViewController,nil];
    }
} 
```

# sql - Pro*C：无法从数据库中获取数据

> ID：12634478
> 
> 赞同：1
> 
> 时间：2012-09-28T06:07:42.097
> 
> 标签：sql, c

我用 pro*C 语言编写了一个示例代码来从表中获取数据。

表`Emp_table`包含两个字段：`Emp_Name`和`EmpId`。

从 SQL-Plus 我添加了 3 条记录，并通过 Pro*C 代码添加了另外 3 条记录。

```
EXEC SQL SELECT Emp_Name INTO :ename From Emp_table where EmpId=1; 
```

我无法`ename`从通过 SQL-Plus 添加的记录中获取数据，但能够从通过 Pro*C 代码添加的记录中获取数据。

在 SQL-Plus 中，当我这样做时`select * from Emp_table`，它会列出所有 6 条记录。

如果我遗漏任何东西或者这是预期的行为，谁能指出我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:16:23.717

使用 SQL*Plus 插入记录后，您似乎还没有执行提交。你能证实这一点吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:19:26.157

```
EXEC SQL SELECT [Emp Name] INTO ename From Emp_table where EmpId=1; 
```

# cloud-foundry - cloudfoundry Jboss 支持

> ID：12634486
> 
> 赞同：2
> 
> 时间：2012-09-28T06:08:15.983
> 
> 标签：cloud-foundry

我想将 Jboss 添加到 Cloud Foundry 并希望在 jboss 上部署我的添加。我已经看到了一些关于此的现有博客，它说要引用以下链接[jboss](https://github.com/cloudfoundry/vcap/tree/master/staging/lib/vcap/staging/plugin)现在不存在。

有人可以解释将jboss添加到cloud Foundry的详细步骤吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-22T12:38:48.243

您可以尝试使用此实现[https://github.com/cloudfoundry-community/jboss-buildpack部署您的应用程序](https://github.com/cloudfoundry-community/jboss-buildpack)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-30T14:17:59.493

您是在使用开源组件构建自己的 Cloud Foundry，还是尝试在 cloudfoundry.com 上运行 JBoss 应用程序？

cloudfoundry.com 上没有可用的 JBoss 运行时，因此您无法直接推送它们。您可以通过独立应用程序支持运行例如 Tomcat 应用程序 - 请参阅[http://blog.cloudfoundry.org/2012/06/18/deploying-tomcat-7-using-the-standalone-framework/](http://blog.cloudfoundry.org/2012/06/18/deploying-tomcat-7-using-the-standalone-framework/)和[https://github。 com/ericbottard/cloudfoundry-tomcat-7](https://github.com/ericbottard/cloudfoundry-tomcat-7)以获取信息。

在向您自己的 Cloud Foundry 实例添加其他框架方面，您引用的链接指向 VCAP Github 存储库中的一些文档。您也许可以使用来自[http://programminggems.wordpress.com/2012/08/29/adding-a-simple-runtime-and-framework-to-cloud-foundry-2/](http://programminggems.wordpress.com/2012/08/29/adding-a-simple-runtime-and-framework-to-cloud-foundry-2/)的信息来查看如何添加一个简单的框架，但 JBoss 可能是一个稍微复杂的练习。

# mysql - 如何编写一个只返回重复值而不使用聚合函数的 MySQL 查询？

> ID：12634488
> 
> 赞同：1
> 
> 时间：2012-09-28T06:08:20.050
> 
> 标签：mysql, restriction

我有一个非常基本的表，其中包含工人姓名和经理姓名：

```
CREATE TABLE Work (
Worker_name varchar(50) NOT NULL 
Manager_name varchar(50) NOT NULL; 
```

该表允许一个工人成为他自己的经理，一个经理负责多个工人等。

我应该编写一个查询，显示每个管理至少 2 名不同员工的经理，但我不能使用聚合命令或 GROUP BY。

如果有人能给我一个提示，那就太好了。我喜欢弄清楚事情，但这真的让我很难过。

谢谢，安德鲁

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:11:53.390

这个查询有点乏味，但它应该做你需要做的事情，或者至少让你走上正确的轨道:)

```
SELECT w1.* FROM Work w1
    INNER JOIN Work w2 ON w2.Manager_name = w1.Manager_name AND w2.Worker_name != w1.Worker_name
    INNER JOIN Work w3 ON w3.Manager_name = w1.Manager_name AND w3.Worker_name != w2.Worker_name
    WHERE w1.Manager_name = w1.Worker_name 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:31:38.037

你可以试试下面的sql，它在mysql中运行良好，希望有所帮助

SELECT distinct Manager_name from Work a where a.Manager_name in (select distinct Manager_name from Work b where a.Worker_name != b.Worker_name);

# iphone - 如何同时按名字和姓氏搜索

> ID：12634493
> 
> 赞同：1
> 
> 时间：2012-09-28T06:08:44.813
> 
> 标签：iphone, objective-c, ios, search, uisearchdisplaycontroller

我正在我的 iPhone 应用程序上进行搜索屏幕（搜索姓名列表），我需要同时按名字和姓氏进行搜索。

假设我的搜索表视图包含如下名称

```
Ravi Kiran 
sujay huilgol
harry potter 
```

我的搜索只对名字起作用，即如果我搜索**Ra**它会显示**Ravi Kiran**但是当我搜索**Kiran**时它不会显示**Ravi Kiran**。

我**`filterContentForSearchText`**的是这样的：

```
- (void)filterContentForSearchText:(NSString*)searchText scope:(NSString*)scope
{
    [self.arrSearhResults removeAllObjects]; // First clear the filtered array.

    // Search the main list for Usernames whose type matches searchText; add items that match to the filtered array.

    for(NSString * strUserName in arrUserInfo )
    {
        NSComparisonResult result = [strUserName compare:searchText options:(NSLiteralSearch|NSDiacriticInsensitiveSearch) range:NSMakeRange(0, [searchText length])];
        if (result == NSOrderedSame)
        {
            // Update the filtered array based on the search text and scope.
            [self.arrSearhResults addObject:strUserName];
            //NSLog(@"arrSearhResults %@",arrSearhResults);
        }
    }

} 
```

我可以尝试什么来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:16:03.137

试试这个：

```
for(NSString * strUserName in arrUserInfo )
{
  NSRange titleResultsRange = [[NSString stringWithFormat:@"%@",strUserName] rangeOfString:searchText options:NSCaseInsensitiveSearch];
    if (titleResultsRange.length){
        [self.arrSearhResults addObject:[self.contacts objectAtIndex:i]];
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:16:48.990

使用**rangeOfString**搜索整个字符串

```
 for(NSString * strUserName in arrUserInfo )
{
  NSRange range = [strUserName rangeOfString:searchText options:(NSCaseInsensitiveSearch|NSDiacriticInsensitiveSearch)];
  if (range.length > 0)
  {
    [self.arrSearhResults addObject:strUserName];
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:14:29.613

```
NSArray *array = [[NSArray alloc] initWithObjects:@"Ravi Kiran", @"sujay huilgol", nil];
for (NSString* name in array)
{
    if ([name rangeOfString:@"Kiran"].location != NSNotFound)
        NSLog(@"%@", name);
} 
```

# android - 即使在后台也能进行电池更新的最佳方式

> ID：12634494
> 
> 赞同：1
> 
> 时间：2012-09-28T06:08:46.663
> 
> 标签：android, performance

嗨，我正在开发一个应用程序，在该应用程序中，我的整个应用程序都在后台运行服务，除非它因服务器收费而脱机，但我也让用户可以选择最低电池电量以继续在后台运行服务..假设他选择了 50%比当电池电量下降到 50% 时必须停止服务..为此我需要收费电池..由于 Action_Battery_Change 如果在我的活动或服务被破坏时注册停止工作，我仍然需要电池收费才能在电池电量充足时恢复我的服务所需的级别..Battery_Ok 和 Battery_Low 操作由操作系统定义...我想要一个低电量，具体取决于用户...。现在仪式我使用重复警报服务来获取更新，这再次消耗电池并且没有任何意义，因为我试图通过在电池电量不足时停止我已经运行的服务来节省电池......任何更好的想法......我可以在哪里获得更新在后台以及通过内存节省大部分电量...

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:09:57.740

是的，文档不建议您使用 Battery Toll，因此 BATTERY_LOW ，BATTERY_OKAY 操作正在提供...但在您的情况下，AlarmService inExactRepeating 方法似乎是最好的方法..但是任务杀手可以杀死您的警报服务，从而导致您的服务永远不要再开始..

# c# - 使用 CreateDatabase() 时数据库中缺少表

> ID：12634495
> 
> 赞同：0
> 
> 时间：2012-09-28T06:08:56.577
> 
> 标签：c#, database, entity-framework

```
MyEntities db = new MyEntities(theParameter); 
```

这是参数：

```
 metadata=res://*/Models.My.csdl|res://*/Models.My.ssdl|res://*/Models.My.msl;provider=System.Data.SqlClient;provider connection string='Data Source=[correctIpAddress];Initial Catalog=testDbName;User ID=myUsername;Password=myPassword;MultipleActiveResultSets=True' 
```

当我将 watch 添加到 db 时，它有很多表，其中有表 tblTestTable。之后我这样做：

```
db.CreateDatabase(); 
```

并且在新创建的数据库中没有 tblTestTable 表。为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T20:31:28.773

> 当我将 watch 添加到 db 时，它有很多表，其中有表 tblTestTable。

我猜你的意思是你在调试器中添加一个 watch 到一个`ObjectContext`名为的实例上`db`，你正在观察`ObjectSet<T>`派生上下文中的属性 s ，其中一个属性被称为`tblTestTable`，对吧？

`ObjectSet<T>`通常，数据库中的表和表之间没有严格的一对一关系。您可以在上下文中拥有一个不代表其自己的表的 ObjectSet，例如：

*   如果/的实体`T`是从另一个基础实体派生的，并且此继承是使用按层次结构表的策略映射的，则两个实体将使用同一个表，通常命名为基础实体。（通常不需要为派生实体设置这样的单独集合，但这是可能的。）在这种情况下，数据库中不会有自己的表。`ObjectSet<T>``tblTestTable``tblTestTable`

*   单个表可以拆分为多个实体（称为“表拆分”）。您的上下文中可能有两个或多个 ObjectSet，但它们都将使用同一个表。

甚至可以采用相反的方式：您可以在上下文中有两个 ObjectSet，但它们会生成三个表。如果这两个实体通过多对多关系相关联，该关系由数据库中没有自己的 ObjectSet 的附加第三个连接表表示，则会发生这种情况。

这些只是一些*可能*是原因的指针。如果没有看到您的模型和关系的详细信息，就很难对您的问题给出更具体的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-21T16:27:08.980

该表没有创建，因为它没有主键。一旦我设置它，它就会与其他的一起创建。

# bash - 为什么异或两个大二进制数会给出十进制输出？

> ID：12634503
> 
> 赞同：3
> 
> 时间：2012-09-28T06:09:47.307
> 
> 标签：bash

我正在尝试对两个大的二进制值进行异或。然而，

```
echo ${hashArray[1]}
echo ${hashArray[2]}
echo $((${hashArray[1]} ^ ${hashArray[2]})) 
```

给出：

```
10100100000111101011100001101110000110000100001000000111001001100010110000010010111101100110111001111100010010000000010101110111

00001110110000010110101101011011100101101000011100011101001101101010000100110001001110101101111100010001111010100011010000000100

4018181242766406943 
```

为什么`echo $((${hashArray[1]} ^ ${hashArray[2]}))`输出一个十进制数？它不应该是另一个大的二进制值吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T09:15:47.893

*bash*确实[支持二进制数字](http://tldp.org/LDP/abs/html/numerical-constants.html)，但是您的数字太大并且会被截断。要么按照*mana*的建议进行操作，要么拆分字符串，或者使用可以处理任意精度的库，例如 perl 的 Math::BigInt 浮现在脑海中：

*异或.pl*

```
use Math::BigInt;

$x = Math::BigInt->new("0b" . $ARGV[0]); 
$y = Math::BigInt->new("0b" . $ARGV[1]);

print $x->bxor($y)->as_bin; 
```

为方便起见，将数字分配给变量：

```
x=10100100000111101011100001101110000110000100001000000111001001100010110000010010111101100110111001111100010010000000010101110111
y=00001110110000010110101101011011100101101000011100011101001101101010000100110001001110101101111100010001111010100011010000000100 
```

运行：

```
perl xor.pl $x $y 
```

输出：

```
0b10101010110111111101001100110101100011101100010100011010000100001000110100100011110011001011000101101101101000100011000101110011 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-28T07:36:41.950

像这样“按位”进行操作：

```
#!/bin/bash

a="101"
b="011"

out=""
for ((i=0; i < ${#a}; i++ )); do
   out=${out}$((${a:$i:1} ^ ${b:$i:1}))
done

echo ${a} ^ ${b} = $out 
```

输出：

```
101 ^ 011 = 110 
```

编辑：输入需要具有相同的长度！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-20T18:20:28.860

用**bc**按位做，首先得到文件 logic.bc ：

```
wget http://phodd.net/gnu-bc/code/logic.bc 
```

测试异或（）

```
x=10100100000111101011100001101110000110000100001000000111001001100010110000010010111101100110111001111100010010000000010101110111
y=00001110110000010110101101011011100101101000011100011101001101101010000100110001001110101101111100010001111010100011010000000100

echo "ibase=2;obase=2;xor($x,$y)" | bc -l logic.bc 
```

结果：

```
10101010110111111101001100110101100011101100010100011010000100001000110100100011110011001011000101101101101000100011000101110011 
```

# c# - 如何从 Windows Mobile 5.0 发送电子邮件

> ID：12634505
> 
> 赞同：0
> 
> 时间：2012-09-28T06:10:03.943
> 
> 标签：c#, .net, email, windows-mobile, windows-phone

我正在尝试在 Visual Studio 2008 中为 Windows Phone 创建一个简单的电子邮件发送应用程序，所以请告诉我必须使用哪些类或方法。

我试过了，但没有用：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Text;
using System.Windows.Forms;
using System.Net;
using System.Configuration;
using System.Xml;

      try
        {
            Application.DoEvents();
            // setup mail message
            MailMessage message = new MailMessage();
            message.From = new MailAddress(textBox1.Text);
            message.To.Add(new MailAddress(textBox2.Text));
            message.Subject = textBox3.Text;
            message.Body = textBox5.Text;

            // setup mail client
            SmtpClient mailClient = new SmtpClient("smtp.gmail.com");
            mailClient.Credentials = new NetworkCredential(textBox1.Text, textBox4.Text);
            mailClient.Send(message);

            MessageBox.Show("Sent");

        }
        catch (Exception)
        {
            MessageBox.Show("Error");
        } 
```

我收到这些错误：

```
Error   1   The type or namespace name 'MailMessage' could not be found (are you missing a using directive or an assembly reference?)
Error   2   The type or namespace name 'MailMessage' could not be found (are you missing a using directive or an assembly reference?)
Error   3   The type or namespace name 'MailAddress' could not be found (are you missing a using directive or an assembly reference?)
Error   4   The type or namespace name 'MailAddress' could not be found (are you missing a using directive or an assembly reference?)
Error   5   The type or namespace name 'SmtpClient' could not be found (are you missing a using directive or an assembly reference?)
Error   6   The type or namespace name 'SmtpClient' could not be found (are you missing a using directive or an assembly reference?)
Error   7   The type or namespace name 'SmtpClient' could not be found (are you missing a using directive or an assembly reference?)
Error   8   The type or namespace name 'SmtpClient' could not be found (are you missing a using directive or an assembly reference?) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:28:21.333

.NET Compact 框架不支持 System.Net.Mail 或 System.Web.Mail。您可以使用诸如[http://www.opennetcf.com/library/sdf/html/7e16eccb-dc9e-4559-c79c-cfaad631ac15.htm](http://www.opennetcf.com/library/sdf/html/7e16eccb-dc9e-4559-c79c-cfaad631ac15.htm)之类的扩展程序，或调用将代表您发送电子邮件的服务.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T05:03:39.533

要在 windows mobile 上发送邮件等，您必须启动 VisualStudio C#/VB SmartDevice 项目。

可以通过命名空间 microsoft.windowsmobile.pocketoutlook 访问邮件等。您必须添加对包含 WindowsMo​​bile 程序集的 Windows Mobile 5（或更高版本）SDK 目录的引用。

[http://msdn.microsoft.com/en-us/library/microsoft.windowsmobile.pocketoutlook.aspx](http://msdn.microsoft.com/en-us/library/microsoft.windowsmobile.pocketoutlook.aspx)

这是一个简单的片段，没有首先打开 poom 帐户等所需的东西：

[http://cjcraft.com/blog/2008/10/02/how-to-open-a-mail-in-inbox-using-pocket-outlook/](http://cjcraft.com/blog/2008/10/02/how-to-open-a-mail-in-inbox-using-pocket-outlook/)

# opengl - OpenGL新手关于模型的问题

> ID：12634507
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:10:15.673
> 
> 标签：opengl, 3d

我正在进行的项目的一部分涉及显示和旋转人体，然后用颜色指向或缩放到它的一个或多个部分。这一切都适用于 iPhone 或 Android。

到目前为止，我还没有使用 OpenGL，因为我的 3D 绘图更简单，我知道 3d 项目和东西背后的数学。我没有接触过模型，但我在网上找到了一些人体模型。

我的问题是：

*   为实现我的目标而寻找的最佳文件格式是什么？
*   我可以访问该模型的感兴趣的顶点，以便我可以告诉 OpenGL 放大它们或适当地为它们着色吗？还是模型被操纵为一个无法分解的“单个对象”？

*   一些示例会有所帮助，尽管我将自己开始寻找这些功能。

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T07:15:48.800

至于“最佳”文件格式，这是主观的。使用你能找到的任何格式，你也有一个可用的解析器。OBJ 在简单模型中很受欢迎，但如果您需要更多功能（如动画），则可能需要更复杂的东西。我想这一切都取决于你能在网上找到什么。

OpenGL 本身没有模型的概念。它只接受要在三角形中渲染的顶点列表。因此模型不是一个“单一对象”，因为所有关于模型的信息都必须由您自己的代码分解为顶点，然后才能传递给 OpenGL。

您可以在自己的代码中以任何您希望的方式缩放或着色所有顶点，因为所有顶点都必须通过您的代码才能到达渲染器。

# mysql - 在 START TRANSACTION mysql 中的存储过程中启动 TRANSACTION

> ID：12634514
> 
> 赞同：0
> 
> 时间：2012-09-28T06:10:36.980
> 
> 标签：mysql, stored-procedures, recursion, transactions

从 mysql 文档来看，是否调用似乎模棱两可

```
START TRANSACTION;
...
COMMIT; 
```

from 在子例程中会自动提交外部调用者的 TRANSACTION 的“进度”，或者是否会简单地添加对外部调用者的 TRANSACTION 的引用，并等到外部调用者中的最终 COMMIT（基于此引用计数方案）在更改实际出现在数据表中之前。

哪个是对的？也许我对谷歌搜索感到困惑，只是希望嵌套场景成为现实......

附加问题：如果嵌套/参考计数处方不“正确”，为什么要这样设计？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:13:53.497

```
SET AUTOCOMMIT=0 
```

然后

```
START TRANSACTION;
...
COMMIT; 
```

# sql-server - 如何使用 VBNet 将数据插入 SQL Server

> ID：12634516
> 
> 赞同：17
> 
> 时间：2012-09-28T06:10:55.443
> 
> 标签：sql-server, vb.net

我是新手，`vb.net`我需要使用 vb.net 在表中插入数据，请任何人帮忙

我试过这个

在这里我尝试了示例代码

我得到了这个例外`Column name or number of supplied values does not match table definition.` ，谢谢提前

```
Private Sub btnSave_Click(ByVal sender As System.Object, ByVal e As  System.EventArgs)  Handles btnSave.Click

    Dim strName As String = txtName.Text
    Dim strId As String = txtID.Text
    Dim strPhone As String = txtPhone.Text
    Dim strBranch As String = cmboxBranch.SelectedItem.ToString()
    Dim  strCourse As String = cmbboxCourse.SelectedItem.ToString()
    Dim dblFee As Double = Double.Parse(txtFee.Text) 

    Dim strCommand As String = "insert into student values('" & strName & "','" & strId &    "','" & strPhone & "','" & strBranch & "','" & strCourse & "'," & dblFee & ")"

    Dim command As SqlCommand = New SqlCommand(strCommand, connection)
    command.CommandType = CommandType.Text

    '' MsgBox(strCommand) 

    connection.Open()
    If (command.ExecuteNonQuery().Equals(1)) Then
        MsgBox("Information stored in database")
    Else
        MsgBox("Not stored in database")
    End If

End Sub 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-28T06:21:03.427

这意味着在语句的`VALUES`子句中指定的值的数量`INSERT`不等于表中的总列数。如果您只尝试在选定的列上插入，则必须指定列名。

另一个，因为您使用的是`ADO.Net`，所以总是参数化您的查询以避免`SQL Injection`. 你现在正在做的是你正在*击败*使用`sqlCommand`.

前任

```
Dim query as String = String.Empty
query &= "INSERT INTO student (colName, colID, colPhone, "
query &= "                     colBranch, colCourse, coldblFee)  "
query &= "VALUES (@colName,@colID, @colPhone, @colBranch,@colCourse, @coldblFee)"

Using conn as New SqlConnection("connectionStringHere")
    Using comm As New SqlCommand()
        With comm
            .Connection = conn
            .CommandType = CommandType.Text
            .CommandText = query
            .Parameters.AddWithValue("@colName", strName)
            .Parameters.AddWithValue("@colID", strId)
            .Parameters.AddWithValue("@colPhone", strPhone)
            .Parameters.AddWithValue("@colBranch", strBranch)
            .Parameters.AddWithValue("@colCourse", strCourse)
            .Parameters.AddWithValue("@coldblFee", dblFee)
        End With
        Try
            conn.open()
            comm.ExecuteNonQuery()
        Catch(ex as SqlException)
            MessageBox.Show(ex.Message.ToString(), "Error Message")
        End Try
    End Using
End USing 
```

***PS：请将查询中指定的列名更改为在您的表中找到的原始列。***

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-05T06:08:51.867

```
Imports System.Data

Imports System.Data.SqlClient

Public Class Form2

Dim myconnection As SqlConnection

Dim mycommand As SqlCommand

Dim dr As SqlDataReader

Dim dr1 As SqlDataReader

Dim ra As Integer

Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click

    myconnection = New SqlConnection("server=localhost;uid=root;pwd=;database=simple")

    'you need to provide password for sql server

    myconnection.Open()

    mycommand = New SqlCommand("insert into tbl_cus([name],[class],[phone],[address]) values ('" & TextBox1.Text & "','" & TextBox2.Text & "','" & TextBox3.Text & "','" & TextBox4.Text & "')", myconnection)

    mycommand.ExecuteNonQuery()

    MessageBox.Show("New Row Inserted" & ra)

    myconnection.Close()

End Sub

End Class 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-06-19T19:38:40.597

```
Function ExtSql(ByVal sql As String) As Boolean
    Dim cnn As SqlConnection
    Dim cmd As SqlCommand
    cnn = New SqlConnection(My.Settings.mySqlConnectionString)
    Try
        cnn.Open()
        cmd = New SqlCommand
        cmd.Connection = cnn
        cmd.CommandType = CommandType.Text
        cmd.CommandText = sql
        cmd.ExecuteNonQuery()
        cnn.Close()
        cmd.Dispose()
    Catch ex As Exception
        cnn.Close()
        Return False
    End Try
    Return True
End Function 
```

# php - PHP webservice - 从浏览器调用参数化函数

> ID：12634520
> 
> 赞同：-2
> 
> 时间：2012-09-28T06:11:14.577
> 
> 标签：php, web-services, function, parameters

我有 1 个具有 1 个参数的函数。我想从浏览器调用这个函数。我怎么打电话？它给了我空白。当我在 function 之外编写相同的代码时，它正在工作。请帮我。我将此链接传递给浏览器“域名：//ipaddress/test.php/mywebservice”

我正在使用此代码：

```
<?php

$json = '{"foo-bar": 12345}';

$obj = json_decode($json);
//print $obj->{'foo-bar'}; // 12345
switch($_GET['function']) {
case 'specificFunction':
    abc();
}

function abc
{
$con = mysql_connect("localhost","uname","Password");

if (!$con)

{

die('Could not connect: ' . mysql_error());

}
//print_r($con);

mysql_select_db("roster", $con);

$query = "select * from rates";
$rs = mysql_query($query) or die($query);
//print_r($rs);
while($row=mysql_fetch_assoc($rs)){
$record[] = $row;
}

$data = json_encode($record);

header('Cache-Control: no-cache, must-revalidate');
header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
header('Content-type: application/json');
echo $data;
}
?> 
```

结果 ：

```
{'foo-bar'}; // 12345 switch($_GET['function']) { case 'specificFunction': abc(); } function abc { $con = mysql_connect("localhost","uname","Password"); if (!$con) { die('Could not connect: ' . mysql_error()); } //print_r($con); mysql_select_db("roster", $con); $query = "select * from rates"; $rs = mysql_query($query) or die($query); //print_r($rs); while($row=mysql_fetch_assoc($rs)){ $record[] = $row; } $data = json_encode($record); header('Cache-Control: no-cache, must-revalidate'); header('Expires: Mon, 26 Jul 1997 05:00:00 GMT'); header('Content-type: application/json'); echo $data; } ?> 
```

如果我写：

```
<?php

$json = '{"foo-bar": 12345}';

$obj = json_decode($json);
//print $obj->{'foo-bar'}; // 12345

$con = mysql_connect("localhost","uname","Password");

if (!$con)

{

die('Could not connect: ' . mysql_error());

}
//print_r($con);

mysql_select_db("roster", $con);

$query = "select * from rates";
$rs = mysql_query($query) or die($query);
//print_r($rs);
while($row=mysql_fetch_assoc($rs)){
$record[] = $row;
}

$data = json_encode($record);

header('Cache-Control: no-cache, must-revalidate');
header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
header('Content-type: application/json');
echo $data;

?>

Result :

[{"Month":"July","Year":"2012","Rate":"1.20%","Short":"0.24%","Mid":"0.92%","Long":"2.30%","RateUnFormatted":"0.012","LastUpdated":"2012-09-01 01:00:00","PublishFlag":"M"},{"Month":"June","Year":"2012","Rate":"1.20%","Short":"0.23%","Mid":"1.07%","Long":"2.64%","RateUnFormatted":"0.012","LastUpdated":"0000-00-00 00:00:00","PublishFlag":""},] 
```

哪个是对的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:24:58.757

从......（让我引用你的话）“外部函数”调用它。

例如：page.php：

```
include "file-containing-my-function.php";
$param = $_GET['param'];
myFunction($param); 
```

您可以使用更通用且安全性更低的方法来传递函数名称：

请求看起来像这样：（或使用重写引擎，您可以从请求`page.php?action=myFunction&param=value` 中获得相同的 URL ）`://domain/page/myFunction/value`

页面.php：

```
$callback = $_GET['action'];
$param = $_GET['value'];
echo $callback($param); 
```

使用此方法，您可以使用任何第一个或单个参数从您的服务中调用任何函数，而只需更改 URL。但是您也暴露了所有内容，因此您应该通过根据用户权限检查函数名称或检查您拥有的每个函数的权限来保护此请求。函数的参数也是如此。

**没有直接的方法来指定要从 URL 调用的函数。**如果您需要这样的功能，您需要自己实现它，就像我在上面所做的那样。

**编辑：**

我想我明白你的问题是什么了。使用重写引擎。添加到您的 .htaccess

```
RewriteEngine on
RewriteCond %{QUERY_STRING} (.*)
RewriteRule ^test.php/(.*)?$ test.php?function=$1&%1 [L] 
```

这将重写一个查询，如：

**http://domain/page.php/myFunction?param=value**

至

**http://domain/page.php?function=myFunction¶m=value**

请注意，myFunction 也可以变为不可调用的“asd/asd/asd”（对于像“page.php/asd/asd/asd?asd”这样的请求）。

# sharepoint - 限制用户访问 _layouts/viewlsts.aspx

> ID：12634528
> 
> 赞同：1
> 
> 时间：2012-09-28T06:11:34.150
> 
> 标签：sharepoint, layout, restrict

我有一个共享点站点。但我面临一个问题，任何人都可以通过_layouts/viewlsts.aspx 访问我的列表和库。

请回复....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:57:28.230

实际上，有一个称为 ViewFormPagesLockdown 的 OOTB 功能可用于此，这是最佳实践方式，而不是直接修改 web.config。在这里阅读更多：http: [//salaudeen.blogspot.se/2010/03/viewformpageslockdown-lock-down-form.html](http://salaudeen.blogspot.se/2010/03/viewformpageslockdown-lock-down-form.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:02:59.143

You have to modify in the web.config file to deny the access. See this [article](http://balmikighosh.blogspot.in/2012/03/restrict-access-for-anonymous-users.html).

# c++ - C++测试矩阵是否已经初始化

> ID：12634537
> 
> 赞同：0
> 
> 时间：2012-09-28T06:12:21.827
> 
> 标签：c++, pointers, memory-management, matrix, initialization

我有一个`double** mat`，我想测试它是否已经被初始化。如果没有，我为它分配内存空间。这管用吗？：

```
if(!mat)
{
      mat = new double*[dim1];
      for(int i = 0 ; i < dim1 ; i++)
          mat[i] = new double[dim2];
} 
```

我在测试`if(! mat)`什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:16:18.527

您正在检查的内容：

```
if (!mat) 
```

如果位置`mat`指向的是`NULL`(0)。

仅当指针的默认值为零时，如果您已像这样声明您的指针，这将很好地工作：

```
double ** mat = NULL; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:17:06.977

```
if (!mat) 
```

几乎是一个简写

```
if (mat==nullptr) 
```

（nullptr 是 C++11 关键字；您可以使用 NULL 宏或仅使用文字 0）。

当然，这只有在“mat”实际上是用 nullptr 初始化时才有意义，例如因为它是一个全局/静态变量（这些变量会自动发生），或者你确实用 nullptr 初始化了它。

就个人而言，我不喜欢像“！mat”这样的结构。我总是使 nullptr 比较明确，因为我们在这里谈论的是指针，而不是布尔值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:18:44.607

在检查之前，您必须`mat`使用 NULL (0) 或 nullptr(对于 c++11) 值初始化指针。`if (!mat)`用真或假检查指针值。NULL 或 nullptr 始终为假值，其他为真值。它就像`if (mat == NULL)`或`if (mat == nullptr)`

# c# - 一次性添加 ListView ObservableCollection 中的所有项目（WPF Mvvm）

> ID：12634541
> 
> 赞同：0
> 
> 时间：2012-09-28T06:12:43.557
> 
> 标签：c#, wpf, listview, mvvm, observablecollection

我有一个包含两列 Devicename 和 DeviceAddress 的列表视图。我为列表视图维护了一个 observablecollection。我正在使用 MVVM 模式。

**看法：**

```
<ListView Height="100" ItemsSource="{Binding I2CDeviceList}" SelectedItem="{Binding SelectedI2CAddress, Mode=TwoWay}" Name="I2cDeviceList">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="I2C Device" Width="190" DisplayMemberBinding="{Binding I2CDevName}" />
                        <GridViewColumn Header="I2C Device Address" Width="203" DisplayMemberBinding="{Binding I2CDeviceAddress}" />
                    </GridView>
                </ListView.View>
</ListView> 
```

I2CDevicename和**I2CDeviceAddress****都是**我的模型类的一部分。

**视图模型：**

```
public ObservableCollection<ModelClass> I2CDeviceList
    {
        get { return _I2CDeviceList; }
        set
        {
            _I2CDeviceList = value;
            NotifyPropertyChanged("I2CDeviceList");
        }
    } 
```

DeviceName 和 DeviceAddress 里面要添加的项目分别是：

```
{ T("Other"), T("0x00")},
{ T("TI Codec(TLV320AIC3104)"), T("0x18")},
{ T("Chip ID GPIO(PCA9500)"),T("0x20")},
{ T("GPIO - power rail control(PCA9555DB)"),T("0x24")},
{ T("Digital Potentiometer(AD5252)"),T("0x2C")},
{ T("Audience chip(eSxxx)"),T("0x3E")},
{ T("Spartan 3A FPGA(XC3SD3400A)"),T("0x40")},....... 
```

现在在 viewmodel 类的构造函数中，我可以在 obs.Coll 中添加项目，如下所示：

```
public ObservableCollection<ModelClass> _I2CDeviceList = new ObservableCollection<ModelClass>()
        {                
            new ModelClass() {I2CDevName = "Other", I2CDeviceAddress= "0x00"},
            new ModelClass() {I2CDevName = "TI Codec", I2CDeviceAddress = "0x18"},  .........             
        }; 
```

但是添加 15 个项目是一项乏味的工作，我最终得到了 15 个项目的报表。他们是我可以使用单个循环添加项目以避免许多语句的一种方式吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T07:00:55.943

因此，您可以为 ModelClass 创建一个构造函数，以便您更轻松地创建，同时填写值。

```
public class ModelClass
{
    public string I2CDevName { get; set; }
    public string I2CDeviceAddress { get; set; }

    public ModelClass(string DeviceName, string DeviceAddress)
    {
        this.I2CDevName = DeviceName;
        this.I2CDeviceAddress = DeviceAddress;
    }
} 
```

这会稍微减少代码，但仍然会有一些输入：

```
public ObservableCollection<ModelClass> _I2CDeviceList = new ObservableCollection<ModelClass>()
{                
    new ModelClass("Other","0x00"),
    new ModelClass("TI Codec", "0x18"), .......
}; 
```

或者您可以创建一个“工厂”，即 ModelClass 中的一个静态函数，它采用整个列表并返回整个 ObservableCollection

因此，您将不得不更改您拥有的列表中的一些内容，但是如果您将其更改为类似的内容（也许有人可以想出一个更好的主意来更好地使用该列表，但是：

```
List<string[]> list = new List<string[]>() { new string[] {"Other", "0x00"},
                                             new string[] {"Audience chip(eSxxx), "0x3E"}, ... }; 
```

然后将静态函数添加到ModelClass中：

```
public class ModelClass
{
    public string I2CDevName { get; set; }
    public string I2CDeviceAddress { get; set; }

    public ModelClass(string DeviceName, string DeviceAddress)
    {
        this.I2CDevName = DeviceName;
        this.I2CDeviceAddress = DeviceAddress;
    }

    //Collection Factory
    public static ObservableCollection<ModelClass> CreateCollection(List<string[]> models)
    {
        ObservableCollection<ModelClass> tmpColl = new ObservableCollection<ModelClass>();
        foreach (string[] s in models)
        {
            tmpColl.Add(new ModelClass(s[0],s[1]));
        }
        return tmpColl;
    }
} 
```

然后运行：

```
List<string[]> list = new List<string[]>() { new string[] {"Other",...},
                                                                      ...};
public ObservableCollection<ModelClass> _I2CDeviceList = ModelClass.CreateCollection(list); 
```

田...

# ios - ios 6.0中窗口的子视图

> ID：12634545
> 
> 赞同：2
> 
> 时间：2012-09-28T06:13:02.307
> 
> 标签：ios

我在 appDelegate 的窗口中添加了 5 个视图控制器作为子视图。但是当我试图 NSLog 窗口的子视图时，只有一个子视图正在打印。为什么 ？它在 ios 5 中工作。现在我将 xcode 更新到 ios 6.0。

当我运行应用程序时，我还会在日志中收到类似“应用程序窗口在应用程序启动结束时有一个根视图控制器”的消息

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T07:22:37.017

从 iOS 6 开始，将子视图添加到窗口对象不是要走的路。您必须将一个视图控制器设置为窗口对象的 rootViewController，例如：

```
window.rootViewController = myViewController; 
```

如果您想在屏幕上拥有多个 viewController 的视图，您可以将它们作为子视图添加到 myViewController 的视图中（就像您之前直接在窗口对象上所做的那样）。

# objective-c - UIImage - 用温度调整图像

> ID：12634547
> 
> 赞同：0
> 
> 时间：2012-09-28T06:13:07.583
> 
> 标签：objective-c, ios, uiimage

我正在尝试调整图像的温度，即。更暖（更黄）或更冷（更蓝）。我一直无法在互联网上找到任何解决方案。我已经可以使用滑块调整 UIImage 的亮度、对比度和饱和度，并且我希望也能够使用滑块来调整温度，这与 Photoshop 和 Lightroom 的做法非常相似。

有人对如何实现温度调节有任何指导吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T08:57:57.597

在 Apple 文档中检查 CITemperatureAndTint：

[http://developer.apple.com/library/mac/#documentation/graphicsimaging/reference/CoreImageFilterReference/Reference/reference.html#//apple_ref/doc/filter/ci/CITemperatureAndTint](http://developer.apple.com/library/mac/#documentation/graphicsimaging/reference/CoreImageFilterReference/Reference/reference.html#//apple_ref/doc/filter/ci/CITemperatureAndTint)

或者，这个库也可以帮助你：

[https://github.com/esilverberg/ios-image-filters](https://github.com/esilverberg/ios-image-filters)

# c# - 从特定 emailid 发送的电子邮件中读取内容和附件

> ID：12634548
> 
> 赞同：0
> 
> 时间：2012-09-28T06:13:07.273
> 
> 标签：c#, asp.net, parsing, email, email-attachments

有没有办法使用 C# .net 开发一个寡妇表单/Web 应用程序，该应用程序可以读取从特定电子邮件 ID 发送的电子邮件内容？附件将是文本文件，我有通读文本文件的代码。但我需要知道如何解析电子邮件正文、提取文本文件等。如果有的话，请提供代码/参考链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T10:24:52.730

您可以使用此代码

```
var messages = MailMessageQueue.ToList<MailMessage>(); //Define your MailMessageQueue
foreach (var message in messages)
{

   foreach (var attachment in message.Attachements)
   {
      var path = Path.GetFullPath(attachment.Name);
      //You can use StreamReader in order to parse
     ...... 
   }
} 
```

# c# - 在客户端和服务端应用 async-await 的区别

> ID：12634551
> 
> 赞同：3
> 
> 时间：2012-09-28T06:13:48.960
> 
> 标签：c#, wcf, async-await

我已经创建了一个 WCF 服务，并且它的操作合同和实现如下所示：

```
 [OperationContract]
    Task<string> GetName(string name);

   public async Task<string> GetName(string name)
    {
         await Task.Delay(5000);
         var task1 = Task<string>.Factory.StartNew(() =>
         {
             return "Your name is : " + name;
         });
         var result = await task1;
         return result;
        } 
```

现在我在客户端使用这个服务并创建了客户端。

```
 ServiceReference1.Service1Client client = new ServiceReference1.Service1Client(); 
```

它显示了我的实现的 2 种方法：GetName 和 GetNameAsync

我可以使用以下两种方式访问​​该服务。

```
var result_GetName = await Task.Factory.StartNew(() => client.GetName("My Input"));
 var result_GetNameAsync = await client.GetNameAsync("My Input"); 
```

*   Q.1 这两种方法有什么区别吗？
*   Q.2 是否建议在特定条件下使用其中一种？或者我可以随时使用其中任何一个。
*   Q.3 对于第二次调用，我在两个地方（客户端-服务器）使用 async-await，它有什么优势吗？

请指导。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-28T06:23:49.070

我不知道为 WCF 生成的代码是什么样的，但我希望*第二种*形式会更好。（编辑：阅读[斯蒂芬的博客文章](http://nitoprograms.blogspot.com/2012/08/async-wcf-today-and-tomorrow.html)，了解为什么这是真的。）

*第一种方法创建一个同步*调用该方法的新任务——只要方法返回就阻塞一个线程。因此，如果您同时有很多这样的调用，您最终将使用大量线程并因此使用内存。

我希望*第二种*方法更加“本机”异步 - 基本上发送请求，然后在返回时在可能不同的线程上处理响应。

对于你的最后一个问题：

> 对于第二个调用，我在两个地方（客户端服务器）使用 async-await，它有什么优势吗？

您在*两个*片段`await`中的两个地方都使用了。但是，是的，在这两个地方都使用异步代码肯定是有优势的。在客户端中，您正在保存客户端线程。在服务器中，您正在保存服务器线程。

 *使用纯异步版本，您可以有数百次从客户端到服务器的调用，而在每个进程中不使用超过一两个线程。在客户端中，您没有任何阻塞，等待响应 - 您只需准备好在响应通过时调用延续。在服务器中，您没有在`Thread.Sleep`调用中阻塞任何内容（逻辑同步等效于`Task.Delay`） - 当延迟到期时，您只需准备好运行很多延续。

所以，是的，每一方面都很好。基本上，无论您在哪里使用它，您都可以获得好处。*

# javascript - extjs 中的 vbox 和 hbox

> ID：12634556
> 
> 赞同：4
> 
> 时间：2012-09-28T06:14:14.793
> 
> 标签：javascript, jquery, html, extjs, gif

我想在 extjs 中使用容器的 hbox 和 vbox 布局嵌套来制作这个结构。我成功地使用了外围组件，但我无法正确拉伸中心的容器。我做错了什么？

这是图像：

![在此处输入图像描述](../Images/c193d6189e58f872e96ceb817146ecfe.png)

我尝试为中心网格创建这样的容器

```
var innerContainer = Ext.create('Ext.container.Container', {

    layout:vbox,

    items:[{
        xtype:'container',
        flex:1,
        layout: 'hbox',
        items:[{
             xtype:'container',
             flex:1
        },{
             xtype:'container',
             flex:1
        }]
    },{
        xtype:'container',
        flex:1,
        layout: 'hbox',
        items:[{
             xtype:'container',
             flex:1
        },{
             xtype:'container',
             flex:1
        }]
    },{
        xtype:'container',
        flex:1,
        layout: 'hbox',
        items:[{
             xtype:'container',
             flex:1
        },{
             xtype:'container',
             flex:1
        }]
    },{
        xtype:'container',
        flex:1,
        layout: 'hbox',
        items:[{
             xtype:'container',
             flex:1
        },{
             xtype:'container',
             flex:1
        }]
    }]
}); 
```

我遇到的问题是我无法将内部容器拉伸到内部容器的全尺寸。

我可以用空容器而不设置宽度属性来实现这一点吗？

或者我应该使用不同的策略来实现我的目标？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-28T06:44:42.023

如果您希望布局扩展您的需求，请使用以下内容：

```
layout: {
   type: 'vbox',
   align: 'stretch'
} 
```

你的第一个容器也有一个布局： vbox 需要是上面的。

编辑：我为你做了一个小提琴：http: [//jsfiddle.net/Jgpgy/](http://jsfiddle.net/Jgpgy/)

我使用面板而不是容器，因此您可以获得视觉效果，您只需将其更改回容器并删除标题属性即可。

# javascript - 如何在asp.net网站的url中获取相应的图像

> ID：12634565
> 
> 赞同：0
> 
> 时间：2012-09-28T06:14:46.333
> 
> 标签：javascript, asp.net

我需要在 asp.net 网站的 url 之前获取我们的公司图片，例如在谷 歌图片出现[之前在谷歌](http://www.google.co.in/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:16:58.210

您需要在 Web 应用程序的根目录中添加一个网站图标。浏览器将请求该文件，如果它存在，它们将在 url 之前显示图标。为了与大多数浏览器兼容，您需要创建一个 .ico 文件（即 favicon.ico）

这里有更多信息：[http ://en.wikipedia.org/wiki/Favicon](http://en.wikipedia.org/wiki/Favicon)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T08:09:21.577

使用相应的图像/图标将以下代码插入页面的*头部：*

```
<link rel="icon" 
      type="image/png" 
      href="/somewhere/myicon.png" /> 
```

为了支持跨浏览器，您应该创建和使用 .ico 文件而不是 *.png ，如我的示例中所示。尝试免费的 *.fav 图标创建在线服务： http: [//www.favicon.cc/](http://www.favicon.cc/)

# vb.net - 属性绑定到设置时的奇怪拆分容器行为

> ID：12634567
> 
> 赞同：2
> 
> 时间：2012-09-28T06:14:53.327
> 
> 标签：vb.net, winforms, splitcontainer

我有一个包含两个 SplitContainers 的 WinForms 应用程序。第一个 SplitContainer 跨越整个表单，它的方向是水平的。第二个 SplitContainer 位于第一个拆分容器的左侧面板中，其方向是垂直的。我将每个拆分容器的 SplitterDistance 属性与应用程序设置绑定，以便在用户退出程序时保存位置。但是，这会导致奇怪的问题。如果我拖动主拆分容器的位置，然后拖动第二个拆分容器的位置，第一个拆分容器会跳回原来的位置，并且该位置不会被保存。如果我删除第二个拆分容器，一切正常。如果未绑定 SplitterDistance 属性，我也看不到这个问题。

有谁知道是什么原因造成的或我该如何解决？

**更新** 我现在还发现如果我从第二个拆分容器中删除属性绑定一切正常。即使我手动尝试实现这一点（即移除属性绑定并在 SplitContainer2.SplitterMoved 事件中添加 My.Settings.sideDist = SplitContainer2.SplitterDistance），问题仍然存在。

我正在使用 vb.net。

设计器生成的代码：

```
<Global.Microsoft.VisualBasic.CompilerServices.DesignerGenerated()> _
Partial Class Form1
    Inherits System.Windows.Forms.Form

    'Form overrides dispose to clean up the component list.
    <System.Diagnostics.DebuggerNonUserCode()> _
    Protected Overrides Sub Dispose(ByVal disposing As Boolean)
        Try
            If disposing AndAlso components IsNot Nothing Then
                components.Dispose()
            End If
        Finally
            MyBase.Dispose(disposing)
        End Try
    End Sub

    'Required by the Windows Form Designer
    Private components As System.ComponentModel.IContainer

    'NOTE: The following procedure is required by the Windows Form Designer
    'It can be modified using the Windows Form Designer.  
    'Do not modify it using the code editor.
    <System.Diagnostics.DebuggerStepThrough()> _
    Private Sub InitializeComponent()
        Me.SplitContainer1 = New System.Windows.Forms.SplitContainer()
        Me.SplitContainer2 = New System.Windows.Forms.SplitContainer()
        Me.ListBox1 = New System.Windows.Forms.ListBox()
        Me.ListBox2 = New System.Windows.Forms.ListBox()
        CType(Me.SplitContainer1, System.ComponentModel.ISupportInitialize).BeginInit()
        Me.SplitContainer1.Panel1.SuspendLayout()
        Me.SplitContainer1.Panel2.SuspendLayout()
        Me.SplitContainer1.SuspendLayout()
        CType(Me.SplitContainer2, System.ComponentModel.ISupportInitialize).BeginInit()
        Me.SplitContainer2.Panel1.SuspendLayout()
        Me.SplitContainer2.SuspendLayout()
        Me.SuspendLayout()
        '
        'SplitContainer1
        '
        Me.SplitContainer1.DataBindings.Add(New System.Windows.Forms.Binding("SplitterDistance", Global.WindowsApplication1.My.MySettings.Default, "mainDist", True, System.Windows.Forms.DataSourceUpdateMode.OnPropertyChanged))
        Me.SplitContainer1.Dock = System.Windows.Forms.DockStyle.Fill
        Me.SplitContainer1.Location = New System.Drawing.Point(0, 0)
        Me.SplitContainer1.Name = "SplitContainer1"
        '
        'SplitContainer1.Panel1
        '
        Me.SplitContainer1.Panel1.Controls.Add(Me.SplitContainer2)
        '
        'SplitContainer1.Panel2
        '
        Me.SplitContainer1.Panel2.Controls.Add(Me.ListBox2)
        Me.SplitContainer1.Size = New System.Drawing.Size(730, 413)
        Me.SplitContainer1.SplitterDistance = Global.WindowsApplication1.My.MySettings.Default.mainDist
        Me.SplitContainer1.TabIndex = 0
        '
        'SplitContainer2
        '
        Me.SplitContainer2.DataBindings.Add(New System.Windows.Forms.Binding("SplitterDistance", Global.WindowsApplication1.My.MySettings.Default, "sideDist", True, System.Windows.Forms.DataSourceUpdateMode.OnPropertyChanged))
        Me.SplitContainer2.Dock = System.Windows.Forms.DockStyle.Fill
        Me.SplitContainer2.Location = New System.Drawing.Point(0, 0)
        Me.SplitContainer2.Name = "SplitContainer2"
        Me.SplitContainer2.Orientation = System.Windows.Forms.Orientation.Horizontal
        '
        'SplitContainer2.Panel1
        '
        Me.SplitContainer2.Panel1.Controls.Add(Me.ListBox1)
        Me.SplitContainer2.Size = New System.Drawing.Size(310, 413)
        Me.SplitContainer2.SplitterDistance = Global.WindowsApplication1.My.MySettings.Default.sideDist
        Me.SplitContainer2.TabIndex = 0
        '
        'ListBox1
        '
        Me.ListBox1.Dock = System.Windows.Forms.DockStyle.Fill
        Me.ListBox1.FormattingEnabled = True
        Me.ListBox1.Location = New System.Drawing.Point(0, 0)
        Me.ListBox1.Name = "ListBox1"
        Me.ListBox1.Size = New System.Drawing.Size(310, 49)
        Me.ListBox1.TabIndex = 0
        '
        'ListBox2
        '
        Me.ListBox2.Dock = System.Windows.Forms.DockStyle.Fill
        Me.ListBox2.FormattingEnabled = True
        Me.ListBox2.Location = New System.Drawing.Point(0, 0)
        Me.ListBox2.Name = "ListBox2"
        Me.ListBox2.Size = New System.Drawing.Size(416, 413)
        Me.ListBox2.TabIndex = 0
        '
        'Form1
        '
        Me.AutoScaleDimensions = New System.Drawing.SizeF(6.0!, 13.0!)
        Me.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font
        Me.ClientSize = New System.Drawing.Size(730, 413)
        Me.Controls.Add(Me.SplitContainer1)
        Me.Name = "Form1"
        Me.Text = "Form1"
        Me.SplitContainer1.Panel1.ResumeLayout(False)
        Me.SplitContainer1.Panel2.ResumeLayout(False)
        CType(Me.SplitContainer1, System.ComponentModel.ISupportInitialize).EndInit()
        Me.SplitContainer1.ResumeLayout(False)
        Me.SplitContainer2.Panel1.ResumeLayout(False)
        CType(Me.SplitContainer2, System.ComponentModel.ISupportInitialize).EndInit()
        Me.SplitContainer2.ResumeLayout(False)
        Me.ResumeLayout(False)

    End Sub
    Friend WithEvents SplitContainer1 As System.Windows.Forms.SplitContainer
    Friend WithEvents ListBox2 As System.Windows.Forms.ListBox
    Friend WithEvents SplitContainer2 As System.Windows.Forms.SplitContainer
    Friend WithEvents ListBox1 As System.Windows.Forms.ListBox

End Class 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-28T13:45:59.797

虽然我建议不要通过设计器文件设置`DataBindings`a 的属性`SplitContainer`（该属性不向设计器公开是有原因的），但真正的问题是应用程序设置没有得到更新。当用户修改`SplitterDistance`一切正常时，但当控件变为无效时，将重新读取设置并从其初始值未更改的设置中应用。简单的解决方案是将新值保存回设置。以下代码应该足以满足您的需求：

```
''' <summary>
''' Sets the mainDist application setting to the new SplitterDistance
''' </summary>
''' <remarks>http://stackoverflow.com/users/2659234/brandon-b</remarks>
Private Sub SplitContainer1_SplitterMoved(sender As SplitContainer, e As SplitterEventArgs) Handles SplitContainer1.SplitterMoved
    Global.WindowsApplication1.My.MySettings.Default.mainDist = sender.SplitterDistance
End Sub

''' <summary>
''' Sets the sideDist application setting to the new SplitterDistance
''' </summary>
''' <remarks>http://stackoverflow.com/users/2659234/brandon-b</remarks>
Private Sub SplitContainer2_SplitterMoved(sender As SplitContainer, e As SplitterEventArgs) Handles SplitContainer2.SplitterMoved
    Global.WindowsApplication1.My.MySettings.Default.sideDist = sender.SplitterDistance
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-05T22:44:17.537

老话题，但我能够通过将拆分器的位置记录为拆分容器高度的小数来解决这个拆分容器错误（？）。所以我的 Settings Save() 方法如下所示：

```
Properties.Settings.Default.VertSplitterDistance = (decimal)VertSplitContainer.SplitterDistance / (decimal)VertSplitContainer.Width;
Properties.Settings.Default.Save(); 
```

在初始化表单之后，在应用程序启动时加载设置：

```
VertSplitContainer.SplitterDistance = (int)Math.Round(Properties.Settings.Default.HorizontalSplitterDistance * HorizontalSplitContainer.Height, 0); 
```

（这是 C#，但应该很容易转换为 vb.net...）

# android - 如何在 Eclipse 中更新我的 ADT？

> ID：12634568
> 
> 赞同：116
> 
> 时间：2012-09-28T06:15:10.923
> 
> 标签：android, adt

我试图更新我的 Eclipse。目前，我的 Eclipse 中有 2.2 个 Android SDK。昨天我已经像这样更新了我的 Eclipse：

Eclipse -> 窗口 -> Android SDK Manager -> 我从列表中选中了两个复选框。工具 -> Android SDK 工具和 Android SDK 平台工具。

我在这里发布了我从下载和安装中获得的消息的最后几行：

> 准备安装档案
> 下载 Android SDK 平台工具，修订版 12
> 安装 Android SDK 平台工具，修订版 12
> 停止 ADB 服务器成功。
> 已安装 Android SDK 平台工具，修订版 12
> 下载 Android SDK 工具，修订版 20
> 安装 Android SDK 工具，修订版 20
> [post_tools_install.bat] 更新 SDK Manager.exe
> [post_tools_install.bat] 已复制 1 个文件。
> [post_tools_install.bat] 更新 AVD Manager.exe
> [post_tools_install.bat] 1 个文件已复制。
> 已安装 Android SDK 工具，修订版 20
> 停止 ADB 服务器成功。
> 启动 ADB 服务器成功。
> 完毕。安装了 2 个软件包。
> 获取 URL：[https](https://dl-ssl.google.com/android/repository/addon.xml)
> ://dl-ssl.google.com/android/repository/addon.xml获取 URL 失败[https://dl-ssl.google.com/android/repository/addon.xml](https://dl-ssl.google.com/android/repository/addon.xml)，原因：dl- ssl.google.com
> 获取 URL：[http](http://software.intel.com/sites/landingpage/android/addon.xml)
> ://software.intel.com/sites/landingpage/android/addon.xml 获取 URL失败[http://software.intel.com/sites/landingpage/android/addon.xml](http://software.intel.com/sites/landingpage/android/addon.xml)，原因：software.intel.com
> 完成加载包。

但是在我关闭 Eclipse 并再次想要启动之后，这一切都引发了错误：

> 此 Android SDK 需要 Android Developer Toolkit 版本 20.0.0 或更高版本。当前版本是 16.0.0.v201203301601-306762。请将 ADT 更新到最新版本。

在首选项中，我收到了这个错误：

> 此 Android SDK 需要 Android Develop... 请将 ADT 更新到最新版本。

* * *

## 回答 #1

> 赞同：330
> 
> 时间：2012-09-28T06:24:34.707

您已更新 android sdk 但未更新 adt 以匹配它。

您可以从此处更新广告

您可能需要更新 adt 更新的软件源

*转到 eclipse > 帮助 > 检查更新。*

它应该列出 adt 的最新更新。如果它不起作用，请尝试相同的方法 *转到 eclipse > 帮助 > 安装新软件 * 但现在请执行以下操作：

*   点击添加

*   添加此网址：[https ://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)

*   给它任何名字。

它将列出可用的更新——理想情况下应该是 adt 20.xx

**Eclipse 将重新启动**，希望一切正常。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-06-26T09:27:26.473

我有这个问题。因为我已经有了[ADT](https://dl-ssl.google.com/android/eclipse/)地址，所以我无法遵循建议的修复。在我的情况下更新不起作用的原因是没有在“可用更新”列表中检查 ADT 地址。

1）转到eclipse>帮助>安装新软件

2) 点击“可用软件站点”

3) 检查您是否有 ADT 地址

4) 如果不按照 Murtuza Kabul 的步骤添加它

5）如果是，检查地址是否被选中（地址左侧的复选框）

我在以管理员身份启动 Eclipse 后运行更新，以确保访问系统文件夹不会出现问题

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-07-27T05:05:37.460

我查看了[Eclipse ADT 文档](http://developer.android.com/tools/sdk/eclipse-adt.html)并找到了解决此问题的方法。我能够将我的 SDK 工具更新到 22.0.4（最新版本）。

> **解决方案是**：首先将 ADT 更新到 22.0.4，然后将 SDK Tool 更新到 22.0.4

上面的链接说，

**ADT 22.0.4**设计用于与**SDK Tools r22.0.4 一起**使用。如果您尚未在 SDK 中安装 SDK Tools r22.0.4，请使用 Android SDK Manager 来安装

我所要做的就是将我的 ADT 更新为 22.0.4 （最新版本），然后我能够将**SDK 工具更新为 22.0.4**。我以为只有 SDK 工具没有更新 ADT，所以我用旧 ADT 版本（22.0.1）更新了 SDK 工具。

**如何将您的 ADT 更新到最新版本**

1.  在 Eclipse 中转到`Help`

2.  `Install New Software`--->`Add`

3.  在 Add Repository 中写下名称：（`ADT`或任何你想要的）

4.  地点：`https://dl-ssl.google.com/android/eclipse/`

5.  加载后你应该得到开发者工具和 NDK 插件

6.  如果您想在将来使用 Native Developer Kit (NDK)，请检查两者或检查

7.  仅限开发者工具

8.  点击下一步

9.  结束

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-16T12:59:47.300

在我的情况下，打开“帮助”>>“安装新软件”没有任何 URL 条目（以前的 URL 不存在） - 所以我手动添加了它们。并更新......和Voilaaaa ！上面的帖子对我解决这个问题非常有帮助。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-03-28T08:07:54.930

以管理员身份运行然后遵循其他评论为我解决了这个问题:)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-04-09T21:04:54.203

原因在于新的更新，他们将 Android 开发者工具更新站点的 URL 更改为需要 HTTPS。如果您要更新 ADT，请确保在 Android 开发者工具更新站点的 URL 中使用 HTTPS。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-06-28T10:46:16.743

我遇到了同样的问题，在 Generated Java files 下没有文件，BuildConfig 和 R.java 丢失。不生成自动构建选项。
在 Eclipse 中的 Project 下，取消选中 Build Automatically。然后在项目下选择构建项目。您可能需要修复项目

# marklogic - 如何为 MarkLogic 创建 Web 服务

> ID：12634572
> 
> 赞同：0
> 
> 时间：2012-09-28T06:15:26.987
> 
> 标签：marklogic

我有一个建立在 MarkLogic 服务器上的应用程序（使用 XQuery）。现在我想从发送 JSON 作为输入和输出的 Java 接口创建这个应用程序的移动版本，我完全不知道 MarkLogic REST 库是如何工作的，虽然我当时已经阅读过，但没有从我有的地方找到任何确切的答案要开始，请让我们知道如何开始使用这种应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T15:13:27.090

对于 MarkLogic 6，从这里开始：[http](http://www.youtube.com/watch?v=GAmPKYgJaN) ://www.youtube.com/watch?v=GAmPKYgJaN然后查看[http://developer.marklogic.com/learn/rest](http://developer.marklogic.com/learn/rest)

对于 MarkLogic 5，请参阅[http://github.com/marklogic/Corona](http://github.com/marklogic/Corona)和[https://github.com/marklogic/Corona/wiki上的社区赞助 api](https://github.com/marklogic/Corona/wiki)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-24T14:23:18.453

查看[XQRS](http://consulting.xmllondon.com/xqrs)，它的工作方式类似于 JAX-RS，但它适用于 XQuery。轻松为 MarkLogic 创建漂亮的 RESTful 服务。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-08T13:12:34.317

对于 MarkLogic 6+，您可以使用[MarkLogic Java Client API](http://developer.marklogic.com/products/java)。有一个[构建基于 Java 的 MarkLogic 应用程序](http://docs.marklogic.com/guide/java)的指南。

# html - 使用 HTML标签访问存储在 iPad 应用程序本地沙箱中的图像

> ID：12634573
> 
> 赞同：0
> 
> 时间：2012-09-28T06:15:30.497
> 
> 标签：html, objective-c, xcode, ipad

我正在尝试为 iPad 构建一个基于 HTML 的应用程序。我想使用 HTML `<img`> 标签访问存储在应用程序沙箱中的图像，即文档目录。我将 ~/Documents/image.png 传递给 src 但图像未显示。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-28T08:06:06.983

请注意，目录将根据您是在模拟器中还是在设备上而有所不同，并且应该在运行时确定。

如果您希望将主包中的某些内容嵌入到 html 中（例如，如果您将其包含在资源中）：

```
NSString* cssFilePath = [[NSBundle mainBundle] pathForResource:@"image" ofType:@"png"];
NSURL* fileURL = [NSURL fileURLWithPath:cssFilePath];
NSString* htmlString = [NSString stringWithFormat:@"blahblah... <img src='%@'> ...", fileURL]; 
```

# java - 在java中维护堆栈的算法

> ID：12634574
> 
> 赞同：1
> 
> 时间：2012-09-28T06:15:32.513
> 
> 标签：java, collections

您将如何维护堆栈，以便无论何时从堆栈中弹出，您都知道堆栈中的最小元素？算法应该具有恒定的复杂度

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:26:01.533

好的，这是你需要做的..

您需要维护`data structure`您插入的每个元素的一些包含信息，插入该元素时的值是`minimum`什么。`second minimum`

所以，你想要这样的信息： -

**对于推送的每个元素 ->**

*   插入后的最小值
*   插入前的最小值

当您从堆栈中获取该元素时将需要此信息`pop`。因此，您会知道，无论您是否是`popping`最小值。如果是，那么您可以用推送此元素之前的值替换当前`minimum`值。如果不是，`minimum value`那么届时价值不会有任何变化`minimum`..

**例如：-**

假设当前您在堆栈中有以下元素：-

```
[3, 5, 7, 9, 2, 4] 
```

*   然后你推入一个**值 8** .. 然后你有两个值要维护..（推入 8 之前的最小值，即 2，插入 8 之后的最小值，即 2）：-

    ```
    min_value_before_push = min(stack)
    push 8
    min_value_after_push = min(stack) 
    ```

*   如果你推一个**值 1**，那么`minimum_before_insertion`是 2，并且`minimum_after_insertion`是 1： -

    ```
    min_value_before_push = 2
    min_value_after_push = 1 
    ```

现在你的堆栈是：-

```
[1, 8, 3, 5, 7, 9, 2, 4] 
```

现在，如果你**`pop`**，你会看到**`value 1`**： -

```
 min_value_before_push = 2
    min_value_after_push = 1 
```

因此，弹出将改变最小值，因此，您将当前最小值更改`minimum_value_before_push`为 1.. 所以，您的最小值再次为 2..

您当前的堆栈变为：-

```
[8, 3, 5, 7, 9, 2, 4] 
```

**现在，让我们检查一下这个算法是否适用于`duplicate`元素：-**

假设你想再推一个`value 2`..

```
min_value_before_push = 2
min_value_after_push = 2 
```

然后你继续`pop`，你看到 for是 2 `value 2`，`min_value_after_push`所以这意味着弹出它会改变最小值。所以你用 替换这个值`min_value_before_push`，它也是 2。这就是我们想要的。

**注意**： - 这个算法的一个好处是，你不需要做太多的比较.. 只需与`current_minimum_value`推时比较.. 与`current_minimum_value`当你比较`pop`..

你可以试着继续思考你`data structure`能拥有什么..

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T07:12:06.110

*免责声明：禁止空值（就像 ArrayDeque），并且未经严格测试。*

```
import java.util.ArrayDeque;

public class PessimisticStack<T extends Comparable<? super T>> {

    private class Entry {
        private Entry(T t, T minNow) {
            this.t = t;
            this.minNow = minNow;
        }
        private final T t;
        private final T minNow;
    }

    private final ArrayDeque<Entry> deque;

    public PessimisticStack() {
        deque = new ArrayDeque<Entry>();
    }

    public PessimisticStack(int initialCapacity) {
        deque = new ArrayDeque<Entry>(initialCapacity);
    }

    public void push(T t) {
        if (t == null) throw new NullPointerException();
        Entry entry = null; 
        if (deque.isEmpty()) {
            entry = new Entry(t, t);
        }
        else {
            T prevMinimum = deque.peek().minNow;
            T newMinimum = null;
            if (t.compareTo(prevMinimum) < 0) {
                newMinimum = t;
            }
            else {
                newMinimum = prevMinimum;
            }
            entry = new Entry(t, newMinimum);
        }
        deque.push(entry);
    }

    public T pop() {
        return deque.pop().t;
    }

    public T getMinimum() {
        Entry entry = deque.peek();
        return (entry == null ? null : entry.minNow);
    }
} 
```

**示例用法**

```
PessimisticStack<String> stack = new PessimisticStack<String>();

stack.push("Zebra");
stack.push("Elephant");
stack.push("Bryan");
stack.push("Adam");
stack.push("Calvin");

String calvin = stack.pop();

// "Adam"
System.err.println(stack.getMinimum());

stack.push("Aaron");

// "Aaron"
System.err.println(stack.getMinimum());

String aaron = stack.pop();

// "Adam"
System.err.println(stack.getMinimum());

String adam = stack.pop();

// "Bryan"
System.err.println(stack.getMinimum()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:38:39.760

使用另一个堆栈，比如说`minStack`，当 push 一个元素时`val`，检查是否`val < minStack.peek()`，如果是，也 push `val`to `minStack`；当从 中弹出时`stack`，检查弹出值，例如`pop_val`，执行`minStack.pop()`if `pop_val == minStack.peek()`。

现在我们有了 a可以在特定时间点`minStack`保存所有`local-min-element`内容（直到下一次推送到 minStack 的时间），我们可以通过检查堆栈的顶部是否为 a 来轻松确定何时从 minStack 弹出`local-min-element`，这已经上面已经介绍过了。

但是，只有当所有元素彼此唯一时，该方法才能正常工作，否则会有点困难，提示，使用计数器:)。

# xml - 将 Java 对象转换为 XML 并使用 DOM/SAX 对其进行解析

> ID：12634577
> 
> 赞同：0
> 
> 时间：2012-09-28T06:15:42.033
> 
> 标签：xml, json, jaxb, marshalling, xstream

我需要将 Java 对象转换为 XML 对象并将其从服务器发送到客户端浏览器。

在客户端浏览器中，我需要使用 DOM/SAX 或任何适合的方式解析获得的 XML 对象并将其显示在 UI 中。

哪一个适合上面的？他们中的任何一个都可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:24:59.387

您可以使用**JAXB** API 来解决您的问题。JAXB（Java Architecture for XML Binding）使用注解将 Java 对象转换为 XML 内容/从 XML 内容转换。JAXB 解决了以下目的：

**编组**– 将 Java 对象转换为 XML 内容。

**解组**– 将 XML 内容转换为 Java 对象。

**[您可以在此处](http://www.mkyong.com/java/jaxb-hello-world-example/)**找到 JAXB 的简单示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:44:38.817

这是一个示例 JAVA 类使用 JAXB 将 JAVA 对象转换为 XML 内容

```
import java.io.StringReader;
import java.io.StringWriter;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.Marshaller;
import javax.xml.bind.Unmarshaller;
import javax.xml.bind.annotation.XmlRootElement;

class JavaToXMLContent {
    public static void main(String[] args) throws Throwable {
        // =============================================================================================================
        // Setup JAXB
        // =============================================================================================================

        // Create a JAXB context passing in the class of the object we want to marshal/unmarshal
        final JAXBContext context = JAXBContext.newInstance(JavaObject.class);

        // =============================================================================================================
        // Marshalling OBJECT to XML
        // =============================================================================================================

        // Create the marshaller, this is the nifty little thing that will actually transform the object into XML
        final Marshaller marshaller = context.createMarshaller();

        // Create a stringWriter to hold the XML
        final StringWriter stringWriter = new StringWriter();

        // Create the sample object we wish to transform into XML
        final JavaObject javaObject = new JavaObject();
        javaObject.setName("Json");
        javaObject.setRole("Moderator");
        javaObject.setAge(28);

        // Marshal the javaObject and write the XML to the stringWriter
        marshaller.marshal(javaObject, stringWriter);

        // Print out the contents of the stringWriter
        System.out.println(stringWriter.toString());

        // =============================================================================================================
        // Unmarshalling XML to OBJECT
        // =============================================================================================================

        // Create the unmarshaller, this is the nifty little thing that will actually transform the XML back into an object
        final Unmarshaller unmarshaller = context.createUnmarshaller();

        // Unmarshal the XML in the stringWriter back into an object
        final JavaObject javaObject2 = (JavaObject) unmarshaller.unmarshal(new StringReader(stringWriter.toString()));

        // Print out the contents of the JavaObject we just unmarshalled from the XML
        System.out.println(javaObject2.toString());
    }

    /**
     * JavaObject is the sample object we've created to use for marshalling to and from XML.
     * Make sure you have the @XmlRootElement annotation at the top there as well or JAXB
     * might moan.
     */
    @XmlRootElement
    private static class JavaObject {

        private String name;

        private String role;

        private int age;

        public JavaObject() {

        }

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        public String getRole() {
            return role;
        }

        public void setRole(String role) {
            this.role = role;
        }

        public int getAge() {
            return age;
        }

        public void setAge(int age) {
            this.age = age;
        }

        @Override
        public String toString() {
            return "Name [" + this.name + "], Role [" + this.role + "], Age [" + this.age + "]";
        }
    }
} 
```

希望这会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:20:31.003

看看[simplexml](http://simple.sourceforge.net/)，它使用注解来映射 xml 和 java 字段，非常方便。

# android - Android：为 HttpPost 设置连接超时

> ID：12634582
> 
> 赞同：0
> 
> 时间：2012-09-28T06:16:33.313
> 
> 标签：android, connection, httpclient

实际上这是我必须做的设置连接超时：

```
HttpGet httpPost = new HttpGet("www.xxxx.com/method");
HttpParams httpParameters = new BasicHttpParams();
// Set the timeout in milliseconds until a connection is established.
// The default value is zero, that means the timeout is not used. 
int timeoutConnection = 3000;
HttpConnectionParams.setConnectionTimeout(httpParameters, timeoutConnection);
// Set the default socket timeout (SO_TIMEOUT) 
// in milliseconds which is the timeout for waiting for data.
int timeoutSocket = 5000;
HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket);

DefaultHttpClient httpClient = new DefaultHttpClient(httpParameters);
HttpResponse response = httpClient.execute(httpGet); 
```

但是在我的应用程序中，我在 MainActivities中将其`httpClient`作为 a并在所有其他活动中使用它。`Static field`只是为了开会。

所以，我应该在所有活动中都有这个代码：

```
HttpParams httpParameters = new BasicHttpParams();
// Set the timeout in milliseconds until a connection is established.
// The default value is zero, that means the timeout is not used. 
int timeoutConnection = 3000;
HttpConnectionParams.setConnectionTimeout(httpParameters, timeoutConnection);
// Set the default socket timeout (SO_TIMEOUT) 
// in milliseconds which is the timeout for waiting for data.
int timeoutSocket = 5000;
HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket); 
```

接着

```
MainActivity.httpClient.setParams(httpParameters); 
```

我只想知道，我如何在所有其他 Activity`params`中`MainActivity`设置并只使用 httpClient，而不是在每个 Activity 中设置参数。

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-31T21:57:04.263

在主活动类中使用静态代码块来设置参数。

```
public class MainActivity extends Activity {

    static final DefaultHttpClient httpClient;

    static {    
        HttpParams httpParameters = new BasicHttpParams();
        HttpConnectionParams.setConnectionTimeout(httpParameters, 3000);
        HttpConnectionParams.setSoTimeout(httpParameters, 5000);
        httpClient = new DefaultHttpClient(httpParameters);
    }

   ...

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T06:24:17.510

尝试这个：

创建变量，如：

```
 private static final long CONN_MGR_TIMEOUT = 10000;
    private static final int CONN_TIMEOUT = 50000;
    private static final int SO_TIMEOUT = 50000; 
```

并将此代码与 httppost 一起使用：

```
 ConnManagerParams.setTimeout(params, CONN_MGR_TIMEOUT);
    HttpConnectionParams.setConnectionTimeout(params, CONN_TIMEOUT);
    HttpConnectionParams.setSoTimeout(params, SO_TIMEOUT); 
```

# bash - 如何从具有重复文件的数组中拆分字符串？

> ID：12634588
> 
> 赞同：0
> 
> 时间：2012-09-28T06:17:06.340
> 
> 标签：bash, shell, sed, awk

我有一个具有以下语法的输入文件：

```
"ID","Company Name","AccountManager","Product","Support Type","Country" 
```

例子：

```
"1","Company one","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version","29.10.2012 ► Type of support","Singapore"

"2","Company two","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version","31.10.2012 ► Type of support\n28.10.2012 ► Type of support\nn/a ► Type of support","Indonesia"

"3","Company three","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version,"31.12.2012 ► Type of support\nType of support\nn\\a ► Type of support\n31.03.2013 ► Type of support\n25.10.2012 ► Type of support\nn\\a ► Type of support","USA" 
```

第一个公司只有一个产品，第二个公司有 3 个产品 - 它们用`\n`(Product and Support Type) 分隔，第三个公司有 6 个产品。

在输出中，此字符串必须是单独的并重复列的值：

`"ID","Company Name","AccountManager","Country"`，但`"AccountManager"`应该只有姓氏和姓名，并且支持类型列应该与今天日期进行比较 - 如果支持类型中的日期与今天的日期在 27 到 32 天之间的值不同，则此列必须在输出文件中。如果我们获得`n/a`了支持类型，则应该错过它。

输出应如下所示：

```
"1","Company one","Surname Name","Product► (d2XXXXXX) ► Version","29.10.2012","Singapore"
"2","Company two","Surname Name","Product► (d2XXXXXX) ► Version","28.10.2012","Indonesia"
"2","Company two","Surname Name","Product► (d2XXXXXX) ► Version","31.10.2012","Indonesia"
"3","Company three","Surname Name","Product► (d2XXXXXX) ► Version","25.10.2012","USA" 
```

我怎样才能在 bash 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:57:30.620

您可以使用以下名为“products.awk”的 AWK 脚本来获取它：

```
#/usr/bin/awk -f

BEGIN {
    FS=",";
    "date +\"%s\"" | getline curr_timestamp;
}

{
    split($3, account, "/");
    gsub(/ $/, "", account[1]);
    split($4, products, "\\\\n");
    split($5, supports, "\\\\n");
    for (i in products) {
        gsub("\"", "", products[i]);
        gsub("\"", "", supports[i]);
        split(supports[i], timesupport, " ");
        # ignore not available and support without date
        if (supports[i] !~ /n\\\\a*/ && supports[i] !~ /n\/a*/ && $2 !~ /\NULL/ && timesupport[1] ~ /[0-9][0-9].[0-9][0-9].[0-9][0-9][0-9][0-9]/) {
            # formatting date
            split(timesupport[1], date, "\.");
            mydate = "date -d \""date[3]"/"date[2]"/"date[1]"\" \"+%s\"";
            # date to timestamp (using bash)
            mydate | getline timestamp;
            # timestamp is >= 27 days and <= 32 days
            if ((timestamp-curr_timestamp) >= 2332800 && (timestamp-curr_timestamp) <= 2764800)
                print $1","$2","account[1]"\",\""products[i]"\",\""supports[i]"\","$6;
        }
    }
} 
```

假设您的数据位于名为 data.txt 的文件中，您可以使用以下行从 bash 调用此脚本：

```
awk -f products.awk data.txt 
```

使用您的示例文件，我得到了运行脚本的输出：

```
"1","Company one","Surname Name","Product► (d2XXXXXX) ► Version","29.10.2012 ► Type of support","Singapore"
"2","Company two","Surname Name","Product► (d2XXXXXX) ► Version","31.10.2012 ► Type of support","Indonesia"
"2","Company two","Surname Name","Product► (d2XXXXXX) ► Version","28.10.2012 ► Type of support","Indonesia" 
```

**编辑：**

我只得到 3 行，因为最后一行不适合 >= 27 && <= 32 条件（今天是 9 月 29 日，您的问题是 9 月 28 日提出的）。

终于我们明白了！！

# css - 禁用图像链接悬停下划线

> ID：12634589
> 
> 赞同：1
> 
> 时间：2012-09-28T06:17:08.583
> 
> 标签：css, ruby-on-rails-3, image, hover

刚刚在我的 rails App 中制作了一个半透明的图片作为链接

```
<%= link_to image_tag("cow.png"), cows_path %> 
```

然而，实际的图像并没有占据一个完美的矩形，因为它是透明的，当我用鼠标悬停在它上面时，它会在图像下方创建一个与图像矩形宽度相同的黑条，从两侧突出图像的不透明部分。

问题是如何让这种悬停行为停止。

![链接图像](../Images/e6544e4525b8574015032eb9acb67231.png)

透明图像是牛的，黑条有问题。棕褐色的东西是页面背景，而不是图像。

有任何想法吗？我只是不知道解决此问题的 CSS 命令。

编辑：[小提琴](http://jsfiddle.net/2AKDa/1)。对不起。离开我的电脑了一会儿。我包括了一些建议，但它们似乎并没有解决问题。我也可能做错了。这是一个 css.scss 样式表。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T16:53:43.287

对我有用的是把它放在 .animal-buttons 类中：

```
a {
background: none;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:26:27.740

由于缺少您的实际 HTML，它是在黑暗中拍摄的，但您可以尝试以下 CSS 规则：

```
img {border:0;}
a:hover {text-decoration: none;} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:18:35.847

除非你给我们生成的 HTML，否则我们必须假设 thisngs。只需使用这个：

```
a:hover {text-decoration: none;}
a img {border: 0;} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-28T06:38:22.763

```
:focus {outline:0;}

a:hover {text-decoration:none; outline:0;}

img, img:hover {border:0; outline:0;} 
```

# azure - 发布/打包时出现 Windows Azure 错误

> ID：12634590
> 
> 赞同：2
> 
> 时间：2012-09-28T06:17:08.833
> 
> 标签：azure, azure-web-roles

尝试发布 Web 角色时出现错误。我将 VS2012 与 Azure SDK 1.7 一起使用。项目在模拟器中运行没有问题。错误 ：

```
Error   79 The target "PipelineTransformPhase" does not exist in the project. 
```

即使包装也会出现此错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-01T19:05:39.637

我发现当你创建一个独立的 MVC 应用程序时，proj 文件中 Microsoft.WebApplication.targets 的导入声明与你创建一个带有 MVC Web 角色的云服务略有不同。如果将两者进行比较，您会发现略有不同：

**独立 MVC：**

```
<Import roject="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)\TypeScript\Microsoft.TypeScript.targets" /> 
```

**MVC 创建为云服务的 Web 角色：**

```
<Import Project="$(VSToolsPath)\WebApplications\Microsoft.WebApplication.targets" Condition="'$(VSToolsPath)' != ''" /> 
```

我刚刚将我的更改为使用 VSToosPath，它解决了我的问题。

# ruby-on-rails - 在 Rails 中为帖子添加标签/类别？

> ID：12634592
> 
> 赞同：1
> 
> 时间：2012-09-28T06:17:14.777
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在寻找将标签添加到我的博客应用程序。

我希望帖子没有、一个或多个标签。现在，我想将标签的选择限制为 10 个预定义的标签。

我应该创建一个模型：

```
 post_id, tag_name
   1, sport
   1, news
   1, fun
   2, sport
   3, news 
```

或者更宽的表：

```
 post_id, tag_sport, tag_special
   1,Yes,No,... 
```

或者在 post 表中包含选择的标签：

```
 post_id, post_body, post_tags
   1, lorem ipsum, sport|news|fun 
```

表格看起来如何？

```
 Free textbox separated by commas? Checkbox? 
```

我知道有可用的插件和现有选项，但希望能够通过表格控制标签。我遵循了一些教程，但它们没有提供完整的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:31:30.053

你可以试试这个[作为可标记的](https://github.com/mbleigh/acts-as-taggable-on)宝石，观看[railscast](http://railscasts.com/episodes/382-tagging)可能会给你更好的主意

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:36:36.283

我的建议是使用`habtm`书籍和标签之间的关系。

```
 class < books
     has_and_belongs_to_many :tags
     validates :no_of_tags

     def no_of_tags
        if self.tags.length < 4 #your choiche
          false
        end
     end
   end

   class < tags
     has_and_belongs_to_many :books
   end 
```

另外创建一个表books_posts

这将解决您的问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:43:26.673

就个人而言，并保持“可能工作的最简单的事情”，如果您只需要处理 10 个预定义的标签，那么我可能倾向于使用简单的序列化字段。

但是，当您想按标签搜索帖子时，这需要额外的工作并给您的数据库带来不必要的负载（最简单的是 LIKE 查询，在大多数情况下涉及表扫描）。

因此，就个人而言，即使使用简单的标记系统，我几乎总是会得到一个`tags`只有`id`and的表`name`，然后是`has_and_belongs_to_many`标签和可标记实体之间的关系：

```
class Post < ActiveRecord::Base

  has_and_belongs_to_many :tags 
```

并在`Tag`：

```
class Tag < ActiveRecord::Base

  attr_accessible :name

  has_and_belongs_to_many :posts

  validates :name, presence: true, uniqueness: {case_sensitive: false} 
```

当然，这意味着必须编写迁移来创建适当的连接表，例如：

```
class CreatePostsTags < ActiveRecord::Migration
  def change
    create_table :posts_tags do |t|
      t.references :post, null: false
      t.references :tag, null: false
    end
  end
end 
```

这样，数据库模式也保持[正常形式](http://en.wikipedia.org/wiki/Database_normalization#Normal_forms)。

要按标签搜索，它会简化为：

```
Tag.find_by_name('news').posts 
```

（在实践中，您需要一种适合您的`Tag.named(name)`方法`strip.downcase` `name`。）

至于表单，我可能最终得到的最简单的东西只是一个纯文本字段，其中标签由逗号分隔（因此逗号字符不是标签名称中的有效字符）。或者，如果您不允许在标记名称中使用空格，则可以使用空格作为分隔符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T06:47:40.120

你不会在这里得到一个完整的解决方案。SO 不是代码分配器。

您在这里拥有的是典型的 n 到 m 关系。一篇文章可能有许多标签（最多 10 个标签的限制与此无关） - 一个标签可以是许多文章的一部分。

n 到 m 关系通过使用 2 个附加表来建模：1 个用于相关模型（标签），一个用于保存关系。

这给了你（假设你的帖子表被命名为帖子）

如下所示的表`posts_tags`：

```
id
post_id
tag_id 
```

还有一张桌子`tags`：

```
id
tagname 
```

然后通过模型在模型中描述该关系`has_and_belongs_to_many`

如果帖子只能有一个标签 - 您可以使用一对多关系来简化这一点。

对于设计并考虑到少量的标签，我只会使用一堆复选框。但这取决于你。您将在网络上找到使用 rails 可视化 n:m 的示例。

# ios6 - 无法在 Ipad 模拟器 IOS 6 上播放 aac 音频格式

> ID：12634596
> 
> 赞同：1
> 
> 时间：2012-09-28T06:17:50.773
> 
> 标签：ios6

我不在 iPad 模拟器 IOS6 上播放 .aac 音频格式。在 OS X 上是好的，玩得很好。这是我的代码：

```
NSString *path = [NSString stringWithFormat: @"/Users/macmini/Desktop/MyAudio.aac"];   
NSURL *musicFile = [NSURL fileURLWithPath: path];    
AVAudioPlayer *audio = [[AVAudioPlayer alloc] initWithContentsOfURL:musicFile error:nil];    
[audio play]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T09:31:33.830

将此行添加到您的代码中...

你不能在不设置音量的情况下播放音频你可能会崩溃你的应用程序

```
[audio prepareToPlay];
audio.volume = 1.0; 
```

# jquery - 无法使用 Jquery 更改 gridview 列文本

> ID：12634600
> 
> 赞同：0
> 
> 时间：2012-09-28T06:18:24.553
> 
> 标签：jquery, asp.net, gridview

```
$('#<%= gv.ClientID %> :submit[value=Apply]').click(function (event) {
    event.preventDefault(); //***** THIS LINE*******//
    var row = $(this).parents("tr:first");
    var oitemtemplate= row.children("td:eq(4)");
    var amt= row.children("td:eq(3)");              
    var noChild =  oitemtemplate.find('select[id$=ddlSubscribe]').val();
    childSelectedItems = new Array();
    childSelectedItems = noChild.split('|'); 
    amt.text(childSelectedItems[1]);

}); 
```

我的 gridview 包含每一行的按钮，用户将单击此按钮将同一行中下拉列表的更改值提交回服务器，但在提交到服务器之前，我喜欢将“amt”列的文本更改为其他内容。

我不确定为什么“amt”列只有在我输入这一行时才会改变 event.preventDefault(); //**这条线******* //。如果删除它，它就不起作用。*

 *请帮忙，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:22:58.070

您`event.preventDefault();`用来防止提交按钮的默认行为的一种，您需要自己提交表单。

```
$('#<%= gv.ClientID %> :submit[value=Apply]').click(function (event) {
    event.preventDefault(); //***** THIS LINE*******//
    var row = $(this).parents("tr:first");
    var oitemtemplate= row.children("td:eq(4)");
    var amt= row.children("td:eq(3)");              
    var noChild =  oitemtemplate.find('select[id$=ddlSubscribe]').val();
    childSelectedItems = new Array();
    childSelectedItems = noChild.split('|'); 
    amt.text(childSelectedItems[1]);
　　 $(this).closest('form').submit(); // submit the form.
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:36:03.150

提交按钮的默认操作是提交表单。

因此，当您单击按钮时，更改实际上已完成，并且在提交该表单后不久，因为有一个 PostBack.. 一旦发生回发，HTML 将呈现回默认 HTML ..

因此更改不会反映在屏幕上。

但是，当您包含 e.preventDefault() 时，会阻止默认操作，因此不会发生回发..

这就是这次反映变化的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:48:20.470

将此行添加到`Page_Load`事件中，它会导致 ASP.NET 定义`__doPostBack`javascript 函数

```
ClientScript.GetPostBackEventReference(this, string.Empty); 
```

然后将此行添加到点击事件中

```
__doPostBack($(this).attr('name'), ''); 
```*

# android - Android 变更日志历史

> ID：12634605
> 
> 赞同：0
> 
> 时间：2012-09-28T06:18:55.513
> 
> 标签：android, version, changelog

我是一名中级 android 开发人员，主要专注于 2.2.x 版本。我所有的软件都与该版本兼容，但是随着 android 正在通过新版本不断发展，我找不到明确的变更日志开发变更历史（引入的新功能，不推荐使用或删除的功能等等）

任何人都可以向我推荐任何网页、RSS 列表或任何信息池，我可以在其中获得有关开发人员的详细信息（与用户无关，例如将小部件更改为新选项卡）与每个 android 版本相关的更改？

先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:24:22.500

单击[此页面](http://developer.android.com/about/dashboards/index.html)上的每个 API可为您提供有关新类等的一些详细信息。选择 API 后，您可以单击“API 差异报告”链接查看与先前版本相比的详细更改。

# c# - 如何更改richTextBox 的从右到左的类型？

> ID：12634606
> 
> 赞同：2
> 
> 时间：2012-09-28T06:18:55.467
> 
> 标签：c#

我想在我的富文本框中使用 right2left 语言，但在项目符号等方面遇到了很多问题。我想做这个

![在此处输入图像描述](../Images/f92c3508688316d7d4cd18d41d0e112f.png)

这是我的问题 ![在此处输入图像描述](../Images/94be0ce8435fe7fd00c8d474875e334c.png) 可以帮助我吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:30:09.457

只需选择您的富文本框并将其`RightToLeft`属性设置为`Yes`

![在此处输入图像描述](../Images/33ce8ddf5ba230520bc9d42bfec97626.png)

你会得到你需要的。

![在此处输入图像描述](../Images/2fa4dc019659c10e65f7fc6f49baba32.png)

**编辑：**

那么，如果我对你的理解正确，你应该自己解析richtextbox的RTF。使用 Microsoft Word，我创建了带有左格式和右格式文本的 RTF 文件，比较了它们的 RTF 字符串并进行了以下操作：

添加了**openFileDialog1**控件和**两个按钮**

`button1`打开文件：

```
private void button1_Click(object sender, EventArgs e)
{
      if (openFileDialog1.ShowDialog()==DialogResult.OK)
      {
         richTextBox1.LoadFile(openFileDialog1.FileName, RichTextBoxStreamType.RichText);
      }
} 
```

并`button2`更改richtextbox 的RTF 字符串：

```
private void button2_Click(object sender, EventArgs e)
{
     var indexofltrparObject = richTextBox1.Rtf.IndexOf(@"\ltrpar", System.StringComparison.Ordinal);
     richTextBox1.Rtf = richTextBox1.Rtf.Insert(indexofltrparObject, @"\qr");
} 
```

所以我**在** `button2`点击之前得到了：

![在此处输入图像描述](../Images/afb4aa8f8af4d887b00b0b258633f56d.png)

**之后**：_

![在此处输入图像描述](../Images/3fa8e4f9a8dbc5b8c7b9fbf2dd996e9f.png)

那是你需要的吗？

**更多编辑**

要将文本对齐更改回**LeftToRight**，只需删除**“\qr”**字符串您最近添加到richtextbox 的 RTF 字符串：

```
private void button3_Click(object sender, EventArgs e)
{
     int indexOfQr = richTextBox1.Rtf.IndexOf(@"\qr", System.StringComparison.Ordinal);
     if (indexOfQr != -1)
        richTextBox1.Rtf = richTextBox1.Rtf.Remove(indexOfQr, @"\qr".Length);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:22:22.303

如果我创建一个 RTB，我可以将样式更改为 rightToLeft。只需将此选项设置为是。希望这是您想要的，否则请详细告诉我您想做什么，我可以帮助您；）

编辑：也许你可以走这条路。检查每一行第一个字符是否为项目符号。如果是真的删除它并将其附加到另一侧。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:29:34.007

将 RichTextBox 的属性值更改[`RightToLeft`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.righttoleft%28v=vs.71%29.aspx)为“是”。

# iphone - 图像数据到 UIImage

> ID：12634619
> 
> 赞同：1
> 
> 时间：2012-09-28T06:19:54.200
> 
> 标签：iphone, objective-c, ipad, uikit

我正在从 URL 获取图像数据并存储在 中`NSString`，`NSString`用于在 中获取图像`UIImageView`，但是我在将字符串转换为数据时遇到了麻烦（可能是编码问题？）。

```
// this works
NSURL* imageurl = [NSURL URLWithString:@"http://www.google.co.in/intl/en_ALL/images/logos/images_logo_lg.gif"];
NSData* data = [NSData dataWithContentsOfURL:imageurl];
UIImage* image = [UIImage imageWithData:data];
imageview.image=image; 

// i am trying this  
NSString* str1 = @"<47494638 .......... 47494638>";
NSData* data1 = [str dataUsingEncoding:NSUTF8StringEncoding];
UIImage* image1 = [UIImage imageWithData:data1];

imageview1.image=image1; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:35:47.967

你从哪里得到那个字符串？

如果您想将图像转换为字符串更好地使用 base64 编码。这个字符串本身也被所有浏览器识别。有很多代码片段可用于图像的 base64 编码。

以下一个对我有用

```
-(NSString *)getStringFromImage:(UIImage *)image{

    NSData *decdata1 = UIImagePNGRepresentation(image);
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *appFile = [documentsDirectory stringByAppendingPathComponent:@"server.png"];

    [decdata1 writeToFile:appFile atomically:YES];

    if(image){
        NSData *dataObj = UIImageJPEGRepresentation(image, 1);
        return [dataObj base64Encoding];
    } else {
        return @"";
    }
} 
```

FOR NSDataAddition 类看看 [Base64 分类](https://stackoverflow.com/questions/392464/any-base64-library-on-iphone-sdk)

# android - 从我们的市场网站检索清单数据

> ID：12634621
> 
> 赞同：1
> 
> 时间：2012-09-28T06:20:21.773
> 
> 标签：android, package, manifest, vps

我们正在创建一个销售安卓应用程序的市场。但是我们这里有个问题。我们的网站是基于 asp.net 的，我们有一个 VPS。现在，我的问题是当用户上传其 apk 文件以将它们存储在数据库中时，我们如何获取清单信息，如包名称、包号、权限等？我希望系统自动为我执行包名比较等操作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:58:21.577

这是一个非常普遍的问题，但作为第一步，您应该知道 apk[只是一个 zip 文件](https://stackoverflow.com/questions/4470139/how-to-get-application-or-package-info-from-the-apk-file-in-the-android-applicat)。因此，通过扩展，您可以访问清单 xml，并读取您需要的值。你如何做到这一点，取决于你的开发团队（现在这是一个 asp.net 问题！）。

为了反编译 XML，您可以将此解析器用于 dot net：[http ://androidxmldotnet.codeplex.com/](http://androidxmldotnet.codeplex.com/)

# ios - 如何使用 iOS 6 sdk 为 iPhone 4s 或 iPhone 4 制作视图控制器？

> ID：12634627
> 
> 赞同：2
> 
> 时间：2012-09-28T06:21:11.463
> 
> 标签：ios, ios6, xcode4.5

我最近升级到 iOS6 SDK 和 XCode 4.5...我不知道如何为 iPhone 4S 及以下设备设计视图，因为与 iphone 5 相比，设备的屏幕尺寸更小。当我们在 ios6 中创建一个新项目时Xcode 4.5 并拖一个 viewcontroller 到 storyboard，它的大小是 1136 X 640.... 那么如何用 Xcode 4.5 和 ios 6sdk 为 iphone 4s 设计 960X640 的应用程序呢？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-28T06:28:57.240

有两种方法可以做到这一点

1.  打开故事板，转到顶部的编辑器选项卡，然后点击“应用视网膜 3.5 外形尺寸”。
2.  右下角也有一个按钮（在缩放按钮的一侧）来更改情节提要的大小。

希望有帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T08:43:03.140

如果您不使用 Storyboard，请执行以下步骤：

1.  在 Interface Builder 中单击 UIView
2.  为此 UIView 选择属性检查器
3.  在 Simulated Matrix 中，将 Size 的值更改为 Retina 3.5 Full Screen。

希望有帮助

# process - 大型产品中的 TFD TDD 相关性

> ID：12634628
> 
> 赞同：1
> 
> 时间：2012-09-28T06:21:19.543
> 
> 标签：process, tdd, sdlc

我想知道我们在大型产品中遵循“测试优先设计”方法所获得的可行性和实际收益。

尽管我坚信在开始编码之前确定范围，但对于更大的产品，我真的不确定**TDD**是否成立。

较大产品的实际问题：
1\. 产品的大小使得维护所有测试用例变得更加困难。
2\. 单元边界逐渐变得不那么明确，有时会在不同单元之间产生不希望的耦合。
3\. 测试一个单元可能不足以满足所开发结构的功能本身（紧密耦合的可能结果）
4\. 最初的思考过程和愿景可能会随着产品大小而被稀释。这反过来又淡化了单元的定义，测试用例变成了单纯的过程需求，而不是成为一段代码 的**守护者。**

我的观点是，这种产品增长的情况是停止产品的增长并删除不需要的部分。开始清理产品以仅具有定义产品的那些功能。已经开发或正在开发的其他功能可以作为插件提供。产品的这些**核心**功能集需要使用一组强大的单元测试用例来***保护*****，这些用例单独定义了单元的**功能。

还有什么建议吗？我很想听听你们的意见，因为我目前正面临这种单元耦合的情况和实际上并没有多大作用的冗余测试用例。所有这些都是由于产品的规模几乎每天都在增长而引入的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T14:44:48.843

1.  TDD 适用于任何规模的项目。我个人在一个系统上工作，根据我的最新统计，大约有 650,000 行 C Sharp。如果没有一套测试支持我们的更改并防止回归，我们永远不会接近这样的规模。
2.  请记住测试优先和测试驱动 (TDD) 之间的区别。如果您遵循测试驱动开发并让测试驱动您创建的代码，那么耦合应该不是问题。对于 TFD 则不能这样说，这将取决于开发人员来控制这种质量水平。
3.  见第一点。事实上，单元测试将是任何地方的高级功能的最佳选择。查看这篇[文章，了解代码中每个路径需要多少测试](http://www.jbrains.ca/permalink/integrated-tests-are-a-scam-part-1)。您可以使用集成测试，但正如文章指出的那样，您需要的数量将超过您需要的单元测试数量。
4.  这取决于团队。测试代码应该被视为一等公民。如果项目要像您认为的那样“大”，则尤其如此，最轻微的回归可能代价高昂。

关于您的最后一个问题，我的建议是确保您的核心域逻辑尽可能经过测试和稳定。您和您的团队将决定您的应用程序的“核心”是什么。剩余的基础设施可能相当松散，但无论如何，这一层应该几乎没有逻辑。锁定域，其余的应该效仿。

# sql - 在 SQL Server 2008 中创建函数时出错

> ID：12634629
> 
> 赞同：-2
> 
> 时间：2012-09-28T06:21:34.887
> 
> 标签：sql, sql-server, sql-server-2008

> **可能重复：**
> [在使用函数的 SQL 查询中出现错误](https://stackoverflow.com/questions/12623142/getting-error-in-sql-query-with-function-use)

尝试创建函数时出现此错误：

> 'CREATE FUNCTION' 必须是查询批处理中的第一条语句。
> 
> 错误：
> 
> 关键字“with”附近的语法不正确。
> 
> 如果此语句是公用表表达式、xmlnamespaces 子句或更改跟踪上下文子句，则前面的语句必须以分号结束。必须声明标量变量“@sep”。

这是我的 T-SQL 代码：

```
CREATE FUNCTION [dbo].[fn_Split] (@sep nvarchar(10), @s nvarchar(4000))
RETURNS table
AS
RETURN (
WITH Pieces(pn, start, stop) AS (
SELECT 1, 1, CHARINDEX(@sep, @s)
UNION ALL
SELECT pn + 1, stop + (datalength(@sep)/2), CHARINDEX(@sep, @s, stop + (datalength(@sep)/2))
FROM Pieces
WHERE stop > 0
)
SELECT pn,
SUBSTRING(@s, start, CASE WHEN stop > 0 THEN stop-start ELSE 4000 END) AS value
FROM Pieces
)
; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:25:00.767

您没有在返回类型中定义表结构

```
create FUNCTION [dbo].[fn_Split] (@sep nvarchar(10), @s nvarchar(4000))
RETURNS table TABLE (pn varcahr(100), values varchar(8000))  
AS
RETURN (
WITH Pieces(pn, start, stop) AS (
SELECT 1, 1, CHARINDEX(@sep, @s)
UNION ALL
SELECT pn + 1, stop + (datalength(@sep)/2), CHARINDEX(@sep, @s, stop + (datalength(@sep)/2))
FROM Pieces
WHERE stop > 0
)     SELECT pn,
  SUBSTRING(@s, start, CASE WHEN stop > 0 THEN stop-start ELSE 4000 END) AS value
 FROM Pieces
)
; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:21:13.320

```
better than you will use procedure :
CREATE procedure [dbo].[fn_Split] 
@sep nvarchar(10),
@s nvarchar(4000))
AS
begin
  your logic..
  select col,.. from table;
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T07:54:39.040

我得到了解决方案

```
using Microsoft.SqlServer.Management.Smo;
using Microsoft.SqlServer.Management.Common;

SqlConnection conn = new SqlConnection(connectionString);
conn.Open();
Server server = new Server(new ServerConnection(conn));
server.ConnectionContext.ExecuteNonQuery(query);                
conn.Close(); 
```

现在我可以在 SQL 查询中使用 Go 语句运行...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T06:22:50.837

在 USE AppName 和 create 语句之间添加 GO

就像是

```
Use AppName    
GO

create FUNCTION [dbo].[fn_Split] (@sep nvarchar(10), @s nvarchar(4000)) 
RETURNS table 
AS 
RETURN ( 
WITH Pieces(pn, start, stop) AS ( 
SELECT 1, 1, CHARINDEX(@sep, @s) 
UNION ALL 
SELECT pn + 1, stop + (datalength(@sep)/2), CHARINDEX(@sep, @s, stop + (datalength(@sep)/2)) 
FROM Pieces 
WHERE stop > 0 
) 
SELECT pn, 
SUBSTRING(@s, start, CASE WHEN stop > 0 THEN stop-start ELSE 4000 END) AS value 
FROM Pieces 
) 
; 
```

# java - 在 Swing 中创建多个带有图标的菜单栏

> ID：12634630
> 
> 赞同：4
> 
> 时间：2012-09-28T06:21:43.903
> 
> 标签：java, swing, jmenu, jmenubar

我正在开发一个 Swing 应用程序，我必须在单击菜单时创建多个菜单栏。应该从容器中添加或删除另一个菜单栏。

我必须在菜单中的文本上方和下方使用一个图标，但我还没有找到合适的构造函数。

是否可以有一个后退和前进按钮`JMenu`应该像浏览器中的后退和前进按钮一样工作？它们应该显示窗口的前一个视图，最好没有多个显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:00:31.697

你真的是说*菜单栏*吗？你的按钮听起来更像是一个*工具栏*的东西。

也就是说，a[`JMenu`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JMenu.html)只是一种特殊的按钮，所以也许您可以从中派生自己的自定义菜单类，以便以不同的方式绘制顶级菜单。对于[主菜单栏](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html#setJMenuBar%28javax.swing.JMenuBar%29)，某些平台（尤其是 Mac OS）可能不会处理自定义绘画代码，因为该菜单栏由本机 OS 代码处理。但是对于第二个由 swing 绘制的菜单栏，我希望没有问题。毕竟， a[`JMenuBar`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JMenuBar.html)只是一个`Component`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T12:16:23.027

如果您使用[此处](https://stackoverflow.com/a/4039359/230513)[`JToolBar`](http://docs.oracle.com/javase/tutorial/uiswing/components/toolbar.html)所示的多个实例，您可以将每个实例添加到[此处](https://stackoverflow.com/a/5655843/230513)所示的不同面板中。[`CardLayout`](http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-16T17:49:38.660

只需使用两个 JPanel。

这是我几分钟前为开始商店 GUI 编写的一些代码。

```
public Shop() {
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    setBounds(100, 100, 450, 300);
    contentPane = new JPanel();
    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
    contentPane.setLayout(new BorderLayout(0, 0));
    setContentPane(contentPane);

    JPanel panel = new JPanel();
    contentPane.add(panel, BorderLayout.NORTH);

    JPanel panel_1 = new JPanel();
    contentPane.add(panel_1, BorderLayout.CENTER);
    {
    JMenuBar menu = new JMenuBar();
    final JTextField coins =  new JTextField("Coins: " + TerrainDemo.money); 
    coins.setForeground(Color.red);
    menu.add(coins);
    panel.add(menu);
    }
    {
    JMenuBar menu = new JMenuBar();
    final JTextField coins =  new JTextField("Coins: " + TerrainDemo.money); 
    coins.setForeground(Color.red);
    menu.add(coins);
    panel_1.add(menu);
    }
} 
```

结果是：

![在此处输入图像描述](../Images/0867c2ff1fc8689f5ea5489ceb870cad.png)

# php - Facebook 个人资料页面正则表达式，不包括对话框|插件|类似页面

> ID：12634631
> 
> 赞同：-4
> 
> 时间：2012-09-28T06:21:51.930
> 
> 标签：php, regex, facebook, preg-match

我正在搜索正则表达式以在网页 html 源中查找 facebook 个人资料页面。我尝试了类似下面的方法，但它不起作用。我正在使用 php preg_match。

```
(.*)facebook\.com\\/[^(plugins)(dialog)(like)](.*) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T10:21:15.460

试试这个：
它匹配“facebook.com”之前和之后的任何内容，后跟可选的“/”，而不是后跟“plugin”，“dialog”，“like”

```
(.*)facebook\.com\/?(?!plugins)(?!dialog)(?!like)(.*) 
```

请参阅此[在线示例代码](http://www.myregextester.com/?r=d55a8ef1)

`(?!text)`是正的前瞻正则表达式。[您可以在此处](http://www.regular-expressions.info/lookaround.html)阅读有关此内容的更多信息。

# c# - C#工具条下拉按钮文本框在输入键上验证？

> ID：12634634
> 
> 赞同：1
> 
> 时间：2012-09-28T06:22:09.723
> 
> 标签：c#, validation, textbox, enter, toolstrip

我有一个工具条下拉按钮，其中包含下拉菜单中的文本框。我试图让它在按下 Enter 键时正确触发 Validate 事件。

我有这个简单的代码：

```
 private void txtSourceUrl_KeyPress(object sender, KeyPressEventArgs e)
    {
        if (e.KeyChar == Convert.ToChar(Keys.Enter))
        {
            txtSourceUrl_Validated(null, null);
        }
    } 
```

哪个有效，但是，它仍然会使 Windows 发出“不正确输入”（即“叮！”）播放的声音，这很不幸。我不知道如何摆脱它，或者如何正确地做到这一点，因为我使用的这种方法似乎是一种 hack。

我搜索了文本框属性，但那里似乎没有任何相关内容（AcceptsReturn 不起作用，因为下拉列表中的文本框不能是多行的）。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-03T07:16:37.340

尝试`e.Handled = true`在事件处理程序中设置。

*更新*

为避免混淆，这回答了如何消除 Enter 上的声音的问题。[组合框未验证](https://stackoverflow.com/questions/13938073/combo-box-not-validating)的答案确认了一般方法并给出了另一个想法。

# c++ - 通过调用两个参数化的父类构造函数来构造一个继承的类

> ID：12634639
> 
> 赞同：0
> 
> 时间：2012-09-28T06:22:35.450
> 
> 标签：c++, class, inheritance, constructor, c++11

这是一个类：

```
class P1{
public:
    P1(int i){}
}; 
```

这是另一个类：

```
class P2{
public:
    P2(int i){}
}; 
```

这是一个继承自上述两个类的类：

```
class D: public P1, public P2{
    //?
}; 
```

我是否也继承了这两个类的构造函数？
如何编辑 D 类，以便可以通过以下方式构造派生类：

```
D d(11,22); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:25:18.523

```
class D : public P1, public P2
{
    public:
       D(int x, int y) : P1(x), P2(y) 
       {
       }
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T06:25:40.643

这是这样做的方法，

```
class D: public P1, public P2{
    D(int x, int y) // Have your own constructor for the derived class
        : P1(x), P2(y) {}
}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:30:16.660

构造函数**不能**被**隐式继承**。但是为了能够使用基类构造函数，使用前面的答案中已经提出的*成员初始化语法*

# javascript - 在 Node.js 中将变量传递给回调函数的最佳方法

> ID：12634647
> 
> 赞同：13
> 
> 时间：2012-09-28T06:23:24.297
> 
> 标签：javascript, node.js, callback

我一直在想，除了使用`bind()`.

这是一个例子：

```
var fs = require('fs');

for(var i = 0; i < 100; i++) {
    fs.writeFile(i + ".txt", i, function(error) {
        fs.stat(this.i + ".txt", function() {
            fs.rename(this.i + ".txt", this.i + ".new.txt", function() {
               console.log("[" + this.i + "] Done...");
            }.bind({ i: this.i }));
        }.bind({ i: this.i }));
    }.bind({ i: i }));
} 
```

注意`bind()`所有方法，只需传递`i`.

谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-28T06:36:31.403

JavaScript 中的变量对整个**函数范围**都有效。这意味着您可以定义一个变量`x`(( `var x = ...`) 并且它仍然可以在所有函数中访问，您在同一个调用范围内定义。（有关详细信息，您可能需要查看[JavaScript 闭包](http://jibbering.com/faq/notes/closures/)

您的案例的问题是，您`i`在`for loop`. 如果只是访问`i`回调函数中的 ，您将收到第一个*不再在循环中的*值。

`i`您可以通过使用as 参数调用新函数来避免这种情况，如下所示：

```
var fs = require('fs');

// still use your for-loop for the initial index
// but rename i to index to avoid confusion
for (var index = 0; index < 100; index++) {
  // now build a function for the scoping
  (function(i) {
    // inside this function the i will not be modified
    // as it is passed as an argument
    fs.writeFile(i + ".txt", i, function(error) {
      fs.stat(i + ".txt", function() {
        fs.rename(i + ".txt", i + ".new.txt", function() {
          console.log("[" + i + "] Done...");
        });
      });
    });
  })(index) // call it with index, that will be i inside the function
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-28T06:45:31.577

我想在下面做：

```
var fs = require('fs');

var getWriteFileCallback = function(index) {
  return function(error) {                           
    fs.stat(index + '.txt', function() {             
      fs.rename(index + '.txt', index + '.new.txt', function() {
        console.log("[" + index + "] Done...");      
      });                                            
    });                                              
  };                                                 
}                                                    

for(var i = 0; i < 100; i++) {
  fs.writeFile(i + ".txt", i, getWriteFileCallback(i));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-12T11:23:47.040

您可以在 for 循环中使用 let 而不是 var。这是（至少在我看来）两者最大的区别！只要确保您使用严格模式，否则让不会为您工作。

```
var fs = require('fs');

for(let i = 0; i < 100; i++) {
    fs.writeFile(i + ".txt", i, function(error) {
        fs.stat(i + ".txt", function() {
            fs.rename(i + ".txt", i + ".new.txt", function() {
               console.log("[" + i + "] Done...");
            });
        });
    });
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-03-19T18:02:07.507

我通常这样做的方式是`.bind({vars here})`在回调中使用 this.varname 然后引用它。确保不要在回调中使用箭头函数，而只是一个普通函数。

```
someArray = [{id:1}, {id:4}, {id:10}]

someArray.forEach(item=>{ 
    // item.id will be correct here
    someAsyncFunc({id:item.id}, function(err, data){
        // we need to use this.tempItem.id here because it could be returned sometime in the future
        console.log(`someAsyncFunc on item.id ${this.tempItem.id} returned`)
    }.bind({tempItem:item}))
}) 
```

# three.js - 在 Three.js 中从 RGB 设置粒子颜色不起作用

> ID：12634657
> 
> 赞同：3
> 
> 时间：2012-09-28T06:24:18.677
> 
> 标签：three.js

我正在使用 Three.js 库来渲染彩色粒子。我正在迭代数据并尝试使用 RGB 值设置颜色。

```
particle = new THREE.Particle( new THREE.ParticleCanvasMaterial({ color:new THREE.Color().setRGB(j[0],j[1],j[2]), program: particleRender })); 
```

数组中的样本值是

```
139 123 124
118 115 122
163 160 177 
```

我也试过以下

```
particle = new THREE.Particle( new THREE.ParticleCanvasMaterial({ program: particleRender }));
particle.material.color.r =j[0];
particle.material.color.g =j[1];
particle.material.color.b =j[2]; 
```

但这似乎并没有给点上色。或者有时我偶尔会看到一个有颜色的点。我在这里做错了什么？我觉得我错过了一些小而愚蠢的东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T12:36:20.783

RGB 值应介于 0 和 1 之间，包括 0 和 1。

# java - 如何在没有资源和 android 清单文件的情况下创建 android 库并作为单个 jar 分发

> ID：12634658
> 
> 赞同：0
> 
> 时间：2012-09-28T06:24:20.270
> 
> 标签：java, android

我想创建一个 android 库项目，我想将它作为 jar 文件分发。我读了一些关于如何在 android 中创建库项目的博客，但在所有这些博客中，我必须使用 jar 文件分发 android 资源文件。
任何人都可以建议我如何将 android 库项目创建为 java 项目，这样我就可以将它作为一个没有资源和 android 清单文件的 jar 文件分发。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T11:20:43.573

如果您的 Android 库项目*使用*资源，您别无选择，只能发送这些资源。

如果您的 Android 库项目不*使用*资源，您可以像创建任何其他 Java 项目（例如`<jar>`Ant 中的任务）一样创建一个 JAR 文件。有关示例，请参见[https://github.com/commonsguy/cwac-prefs 。](https://github.com/commonsguy/cwac-prefs)

# vim - gVim没有正确着色字符串数组

> ID：12634666
> 
> 赞同：0
> 
> 时间：2012-09-28T06:25:07.633
> 
> 标签：vim

[我在这里http://projecteuler.net/project/names.txt](http://projecteuler.net/project/names.txt)有这么大的名称列表，我将其保存在（python）列表中进行排序。

gVim 有什么问题，为什么它不能正确着色字符串？此外，如果我更改列表的名称，颜色会发生变化。像删除 2 个字符一样，也使**“S”**突出显示。

![在此处输入图像描述](../Images/ffedb88e4a58b635dd6a43ffd3149c97.png)

我该如何解决？

**编辑-我还注意到， gVim**仅在 14 行代码（包括这一行，4 行）中表现缓慢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T07:26:39.827

可能是`'synmaxcol'`设置限制了搜索语法项的列（默认为 3000 个字符）。如果您想以速度换取正确性，请通过以下方式关闭此功能

```
:set synmaxcol=0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T07:07:19.407

看起来您的输入行太长，语法高亮器无法完全拾取，vim 支持各种选项来定义语法高亮器应该回顾多少行或字符以获得语法状态。

为了获得最大的正确性（和缓慢性），请使用：`:syntax sync fromstart`
为了提高性能，请尝试以下操作：

```
set nocursorcolumn
set nocursorline
syntax sync minlines=256 
```

请参阅[:help syn-sync](http://vimdoc.sourceforge.net/htmldoc/syntax.html#%3asyn-sync)页面以供参考，并查看[此 wiki 页面](http://vim.wikia.com/wiki/Fix_syntax_highlighting)。

# php - 函数将数组传递给定义的键

> ID：12634670
> 
> 赞同：1
> 
> 时间：2012-09-28T06:25:27.030
> 
> 标签：php, arrays, wordpress, function

我创建了一个函数来获取我的帖子缩略图和后备图像。

```
<?php
function png_thumb($class=null,$thumbsize=null,$no_thumb,$imgclass=null,$extras=null,$hover_content=null){

    $title_attr = array(
        'title' => get_the_title(),
        'alt' => get_the_title(),
        'class' => $imgclass
    );  ?>

    <div class="<?php echo $class ?>">
        <a href="<?php the_permalink(); ?>" title="<?php //the_title(); ?>">
            <?php if ( has_post_thumbnail() ) {
                the_post_thumbnail($thumbsize, $title_attr);
            } else { ?>
                <img src="<?php bloginfo('template_directory'); ?>/images/<?php echo $no_thumb ?>" alt="<?php the_title(); ?>" class="<?php echo $imgclass; ?>" <?php echo $extras; ?> />
            <?php } ?>                          
        </a>
        <?php if($hover_content != "") { ?>
        <a href="<?php the_permalink(); ?>"><div class="hovereffect"><?php echo $hover_content; ?></div></a>
        <?php } ?>
    </div>

<?php } ?> 
```

但我相信传递数组会比这更好。但我不知道如何创建可以通过预定义键传递的函数。与 $title_attr 分配的数组（）相同。或者 wordpress $args 是如何工作的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T06:32:23.693

“使用预定义键传递数组”不是 PHP 理解的概念。你可以简单地这样做：

```
function png_thumb(array $args = array()) {
    $args += array('class' => null, 'thumbsize' => null, 'no_thumb' => null, 'imgclass' => null, 'extras' => null, 'hover_content' => null);

    echo $args['class'];
    ... 
```

此函数接受一个数组并使用默认值填充所有未传递的键。你像这样使用它：

```
png_thumb(array('thumbsize' => 42, ...)); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-28T06:40:02.263

你也可以试试这个

```
function png_thumb($args=array()) {
    $default= array('class' => null, 'thumbsize' => null, 'no_thumb' => null, 'imgclass' => null, 'extras' => null, 'hover_content' => null);
    $settings=array_merge($default,$args);
    extract($settings); // now you can use variables directly as $class, $thumbsize etc, i.e
    echo $class; // available as variable instead of $settings['class']
    echo $thumbsize; // available as variable instead of $settings['thumbsize']
    ...
} 
```

# java - Android中的AlarmManager.setRepeating()没有设置闹钟

> ID：12634671
> 
> 赞同：0
> 
> 时间：2012-09-28T06:25:39.227
> 
> 标签：java, android, alarmmanager

我在使用 setRepeating() 设置闹钟时遇到问题。

```
Intent i = new Intent(context, OnAlarmReceiver.class);
i.putExtra("id", storable.getId());
PendingIntent pi = PendingIntent.getBroadcast(context, storable.getId(), i, PendingIntent.FLAG_UPDATE_CURRENT);

mgr.setRepeating(AlarmManager.RTC_WAKEUP, storable.getObject().getTimeOnDay(Calendar.FRIDAY), Event.MILLISECONDS_IN_A_DAY*7, pi);
Calendar c = Calendar.getInstance();
c.setTimeInMillis(storable.getObject().getTimeOnDay(Calendar.FRIDAY));
Log.v("ACTUALLY SCHEDULED ON FRIDAY", c.getTime().toString()); 
```

Logcat 状态：09-28 02:17:58.535：V/实际安排在星期五（32494）：2012 年 10 月 5 日星期五 01:43:00 EDT

这是我安排的正确时间。但是，我的警报没有触发。关于可能导致这种情况的唯一线索是，当我使用调试器进入方法时，调用的方法之一是 Parcel.readException()。我不知道这意味着什么，或者它是否真的很重要。有人知道会发生什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T08:08:49.860

我找到了答案。此方法被多次调用，并使用 PendingIntent 中 storable.getId() 中的相同值。它覆盖了旧的 PendingIntent 并安排了另一个我没有等待的。感谢那些帮助过的人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:50:27.490

参考[这个](https://stackoverflow.com/questions/1082437/android-alarmmanager)链接。Tom 也提出了这个问题，CommonsWare 对此给出了很好的回答。

**编辑：**

看看这是否有帮助：

```
 Intent myIntent = new Intent(context, OnAlarmReceiver.class);
    PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, myIntent, 0);
    AlarmManager alarmManager = (AlarmManager)getSystemService(ALARM_SERVICE);
    Calendar calendar = Calendar.getInstance();
    calendar.setTimeInMillis(System.currentTimeMillis());
    calendar.add(Calendar.DAY_OF_WEEK, Calendar.FRIDAY);
    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), 1000 * 60, pendingIntent); 
```

# python - django/python 读取 json？

> ID：12634674
> 
> 赞同：0
> 
> 时间：2012-09-28T06:25:52.827
> 
> 标签：python, django, json, django-templates, python-2.7

我正在尝试学习 django/python，并且正在尝试弄清楚如何读取 json 数据...

我有类似的东西：

```
{
  region: {
    span: {
       latitude_delta: 0.08762885999999526,
       longitude_delta: 0.044015180000002374
    },
    center: {
       latitude: 37.760948299999995,
       longitude: -122.4174594
    }
  },...
} 
```

我正在尝试读取我的 html 页面中的特定数据。现在这个 json 数据正在显示在 html 页面中。

这个json的来源来自于：

```
return HttpResponse(json.dumps(response),mimetype="application/json") 
```

我想弄清楚获取特定数据的 django/python 约定？我应该为每个循环做一个吗？我来自自学的 php 背景，我正在尝试自学 python/django。

谢谢

编辑：

在返回 HttpResponse 之前，我的 view.py 中也有这个

```
 try:
        conn = urllib2.urlopen(signed_url, None)
        try:
            response = json.loads(conn.read())
        finally:
            conn.close()
    except urllib2.HTTPError, error:
        response = json.loads(error.read()) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-11-21T05:30:07.627

这是在 html 中读取 json 的最简单方法（由 Django 发送）

```
def sendJson(request):
    if request.method == 'GET':
        context = {"name":"Json Sample Data"}
        return render_to_response('name.html',context) 
```

Django 模板 Html 代码

```
<div class="col-md-9 center">
    <span class="top-text">{{name}}</span>
</div> 
```

现在根据您的：

```
 def sendJson(request):
    if request.method == 'GET':
        jsonData = {
          region: {
           span: {
            latitude_delta: 0.08762885999999526,
            longitude_delta: 0.044015180000002374
          },
          center: {
            latitude: 37.760948299999995,
            longitude: -122.4174594
          }
        }
       }
       data = json.dumps(jsonData)
       return HttpResponse(data, content_type="application/json") 
```

您也可以使用 jquery 读取此数据

创建 json 并在 html 中读取的另一个示例

网址.py

```
url(r'^anotherexample/$', 'views.anotherexample', name="anotherexample"), 
```

视图.py

```
 def anotherexample(request):
    if request.method == 'POST':
       _date = strftime("%c")
       response_data = {}
       response_data['status'] = 'taken'
       response_data['issueTakenTime'] = _date
       return HttpResponse(json.dumps(response_data), content_type="application/json") 
```

html视图和jquery

```
$.ajax({
    url: "/anotherexample/",
    // contentType: "application/json; charset=UTF-8",
    data: { csrfmiddlewaretoken: "{{ csrf_token }}",   // < here 
        status : "taken"
      },
    type: "POST",
    error: function(res) {
      console.log("errr", res)
    },
    success: function(res) {
      console.log("res", res)}
    }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T06:20:09.153

我能够通过这个链接找出解决方案：[Decode json and Iterate through items in django template](https://stackoverflow.com/questions/5319896/decode-json-and-iterate-through-items-in-django-template)

它帮助了我，希望它能帮助和我有同样问题的其他人。

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T07:11:02.057

目前尚不清楚您要循环的内容、位置或方式，但基本循环的工作方式如下：

```
data = {"key1":[1,2], "key":[4,5]}
for key, values in data.iteritems():
    print key, values 
```

# javascript - 谷歌地图不再适用于 iPhone Phonagap 应用程序

> ID：12634676
> 
> 赞同：0
> 
> 时间：2012-09-28T06:26:07.757
> 
> 标签：javascript, iphone, google-maps, gwt, cordova

我在 GWT 中开发了一个 phonegap 应用程序，该应用程序将 GWT Api 用于谷歌地图。由于最近对于 iOs5 和 iOs6 iphone，地图不再显示，而是收到此消息

```
we are sorry but we don't have maps at this zoom level for this region 
```

可能是什么原因？

我听说苹果设备中不再安装谷歌地图，但我认为这无关紧要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:21:00.943

我重建了 iPhone 应用程序，现在它可以工作了

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-28T06:38:20.103

谷歌反攻？

您不允许在您的手机上安装我们的应用程序，我们不允许您的手机使用我们的 API 或我们的网站...

# mongodb - 如何查看 BSON 文档？

> ID：12634677
> 
> 赞同：1
> 
> 时间：2012-09-28T06:26:07.820
> 
> 标签：mongodb

我开始使用 mongodb 并知道如何查看存储在数据库中的数据？我知道 JavaScript shell (mongo.exe)，但我想要一些可以给我全貌的东西。是否可以将数据作为平面文档打开？或者也许可以使用一些 shell 命令将数据导出到文件中？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-08-22T08:46:04.203

您可以使用`mongodump`然后使用`bsondump`来转储 bson 格式的集合文件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T06:27:41.343

您可以使用`mongoexport`. 它将集合转储到具有 JSON 内容的文件中。

# ruby-on-rails - Rails meta_search 在一个组合框中增加和减少条件

> ID：12634679
> 
> 赞同：0
> 
> 时间：2012-09-28T06:26:30.120
> 
> 标签：ruby-on-rails, ruby-on-rails-3, meta-search

我有一个`Phone`带`checked_by`字段的模型；如果这个字段等于 1，那么我们知道这个电话是**unchecked**， else(>1) - **checked**。在管理方面，我可以查看一个列表，`Phones`我需要使用 meta_search 创建一个过滤器来查看：

*   所有电话
*   已选中
*   未选中

我可以在 meta_search 中看到`checked_by_greater_than`或`checked_by_less_than`方法，但是如何将这些方法组合在一个选择框中？

感谢任何建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:31:04.917

具有范围和组成的字段。

范围：

```
class Phone < ActiveRecord::Base

  scope :checked, lambda { |value| 
      !value.zero? ? checked_by_greater_than(1) : where(:checked_by => 1)
  }

end 
```

然后添加一个包含三个值的选择框，`[nil, 0, 1]`作为值返回，并在您的控制器中使用该参数来应用新范围。

```
class PhonesController < ApplicationController

  def index

    # ...
    @phones ||= Phone.scoped
    checked_select_value = params.delete("checked_select") # here use the name of your form field
    if checked_select_value.present?
      @phones = @phones.checked(checked_select_value.to_i)
    end
    # now apply the rest of your meta-search things to the @phones

    #
  end
end 
```

# android - 如何在另一个活动中使用活动中分配的小部件？

> ID：12634683
> 
> 赞同：0
> 
> 时间：2012-09-28T06:27:29.677
> 
> 标签：android

我正在创建一个 android 项目。在那里，ii 从 XML 文件中获取了 id，并将点击事件写入 (class or activity) 中。我想使用另一个类的小部件而不再次获取 id。像 (Button btn=(Button)findViewById(R.id.button1);) 我想在一个类中使用这个代码

但是我想在另一个类中使用 Button btn 并且单击事件应该可以工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:32:31.997

如果您想在多个视图中使用任何视图，`Activity`您可以创建一个`BaseActivity`扩展 Activity 的类，并在该 Activity 中包含所有公共视图，然后将其扩展`BaseActivity`到`Activity`您想要使用的所有 common `views/layouts/headers/footers`。对于伪代码，您可以查看我的答案[`here`](https://stackoverflow.com/a/7618263/726863)。

# web-services - 使用文本消息调用 Web 服务 API

> ID：12634687
> 
> 赞同：2
> 
> 时间：2012-09-28T06:27:46.377
> 
> 标签：web-services, ios5, sms, sms-gateway

现在我正在创建一个 iOS 应用程序。我还实现了一些网络服务。我的要求是：“用户应该能够通过发送文本消息（SMS）来调用 Web 服务 API”。经过大量研究，我发现有一个名为 Clickatell (http://www.clickatell.com/) 的提供商。但是不知道怎么配置？请帮助我进行配置。或者是否有任何其他 API 或 SMS 网关提供此服务？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T14:30:02.063

*免责声明，我在 Nexmo 兼职做开发人员宣传。*

以下是我使用过的一些 SMS API（我并没有真正使用过 Clickatell，但我已经完成了注册过程，以下 API 似乎使用起来更简单）：

*   [Nexmo](http://nexmo.com)
*   [特维利奥](http://twilio.com)
*   [特罗波](http://tropo.com)

这三个 API 都是直接的 REST/HTTP API。

您可以直接从您的移动应用程序调用 API，但是，您应该考虑是否真的想将您的 API 凭证编译到您的应用程序中。托管您的应用程序使用的一种 pf 代理可能会更好 - 这是一些用作验证服务的示例代码，但它本质上是相同的概念：[https ://github.com/Nexmo/Verify](https://github.com/Nexmo/Verify)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-02T00:01:05.520

我建议看看 Mogreet 的新[开发者网站](http://developer.mogreet.com)

非常易于使用的 REST/HTTP API 并且非常强大。它支持为所有媒体类型发送质量极佳的短信/彩信。

# java - 哪个 swt/jface 控件用于在 eclipse rcp 中编写 telnet？

> ID：12634689
> 
> 赞同：1
> 
> 时间：2012-09-28T06:28:13.590
> 
> 标签：java, eclipse-rcp, telnet

我必须在eclipse rcp 中写一个telnet。那么谁能告诉我应该使用哪个控件？

这里的控制是例如：swt.Text，swt.StyledText。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:52:46.023

这取决于很多事情。如果你想在输出中允许任何形式的格式——比如支持 vt100——那么`StyledText`控制是好的。如果你想让它尽可能简单，我可能会使用 a`Text`作为当前输入，多行`Text`作为输出。

如果您在 RCP 应用程序中拥有更多自由，请考虑将`Console`视图添加到应用程序。这将提供一种非常优雅的方式来添加 telnet 支持......

# android - Youtube 视频无法在 android 的 InApp 中播放

> ID：12634693
> 
> 赞同：0
> 
> 时间：2012-09-28T06:28:28.490
> 
> 标签：android, video, youtube

在我的应用程序中，Youtube 视频在 InApp 中完美播放。但肯定是在播放视频和视频未播放时收到以下警告消息“抱歉，此视频无法播放”的前 2 天。我尝试了不同的 youtube 视频链接，但没有希望。如果我使用此代码：

```
Intent browserIntent = new Intent(Intent.ACTION_VIEW,
                        Uri.parse("http://www.youtube.com/embed/Ai47z6qh8S0"));
                 startActivity(browserIntent); 
```

视频正在浏览器中播放。但我需要在应用程序中播放此视频。

以前我使用以下代码创建 youtube url

```
public static String calculateYouTubeUrl(String pYouTubeFmtQuality, boolean pFallback,
            String pYouTubeVideoId) throws IOException,
            ClientProtocolException, UnsupportedEncodingException {

        String lUriStr = null;
        HttpClient lClient = new DefaultHttpClient();

        HttpGet lGetMethod = new HttpGet(OpenYouTubePlayerActivity.YOUTUBE_VIDEO_INFORMATION_URL + 
                                         pYouTubeVideoId);

        HttpResponse lResp = null;

        lResp = lClient.execute(lGetMethod);

        ByteArrayOutputStream lBOS = new ByteArrayOutputStream();
        String lInfoStr = null;

        lResp.getEntity().writeTo(lBOS);
        lInfoStr = new String(lBOS.toString("UTF-8"));

        String[] lArgs=lInfoStr.split("&");
        Map<String,String> lArgMap = new HashMap<String, String>();
        for(int i=0; i<lArgs.length; i++){
            String[] lArgValStrArr = lArgs[i].split("=");
            if(lArgValStrArr != null){
                if(lArgValStrArr.length >= 2){
                    lArgMap.put(lArgValStrArr[0], URLDecoder.decode(lArgValStrArr[1]));
                }
            }
        }

        //Find out the URI string from the parameters

        //Populate the list of formats for the video
        String lFmtList = URLDecoder.decode(lArgMap.get("fmt_list"));
        ArrayList<Format> lFormats = new ArrayList<Format>();
        if(null != lFmtList){
            String lFormatStrs[] = lFmtList.split(",");

            for(String lFormatStr : lFormatStrs){
                Format lFormat = new Format(lFormatStr);
                lFormats.add(lFormat);
            }
        }

        //Populate the list of streams for the video
        String lStreamList = lArgMap.get("url_encoded_fmt_stream_map");
        if(null != lStreamList){
            String lStreamStrs[] = lStreamList.split(",");
            ArrayList<VideoStream> lStreams = new ArrayList<VideoStream>();
            for(String lStreamStr : lStreamStrs){
                VideoStream lStream = new VideoStream(lStreamStr);
                lStreams.add(lStream);
            }   

            //Search for the given format in the list of video formats
            // if it is there, select the corresponding stream
            // otherwise if fallback is requested, check for next lower format
            int lFormatId = Integer.parseInt(pYouTubeFmtQuality);

            Format lSearchFormat = new Format(lFormatId);
            while(!lFormats.contains(lSearchFormat) && pFallback ){
                int lOldId = lSearchFormat.getId();
                int lNewId = getSupportedFallbackId(lOldId);

                if(lOldId == lNewId){
                    break;
                }
                lSearchFormat = new Format(lNewId);
            }

            int lIndex = lFormats.indexOf(lSearchFormat);
            if(lIndex >= 0){
                VideoStream lSearchStream = lStreams.get(lIndex);
                lUriStr = lSearchStream.getUrl();
            }

        }       
        //Return the URI string. It may be null if the format (or a fallback format if enabled)
        // is not found in the list of formats for the video
        return lUriStr;
    } 
```

请帮我弄清楚这个问题。

谢谢桑塔努

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:59:34.877

这种 youtube 链接不适用于 android 应用程序，尽管它在浏览器上运行良好。要使其在应用程序上运行，您需要先获取视频的 RTSP 链接。
请参阅此[线程](https://stackoverflow.com/questions/8150074/how-to-get-rtsp-url)，看看您是否可以在那里找到解决方案。
在 android 上运行的 youtube 链接示例（我已经测试过这个）：

> rtsp://v2.cache6.c.youtube.com/CjgLENy73wIaLwn_aij76iwMRRMYESARFEIJbXYtZ29vZ2xlSARSB3JlbGF0ZWRgnfqw4Jajx8xPDA==/0/0/0/video.3gp

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:21:59.910

```
<iframe width="637" height="358" src="http://www.youtube.com/embed/Ai47z6qh8S0?fs=1&amp;feature=oembed" frameborder="0" allowfullscreen=""></iframe> 
```

试试这个或

你需要开启**硬件***加速*

 *** * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:32:13.990

```
Intent i = new Intent(Intent.ACTION_VIEW);
i.setData(Uri.parse("Video url"));
VideoActivity.this.startActivity(i);

     //And add below code in Manifest.xml file.

     <uses-permission android:name="android.permission.INTERNET" />
     <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" /> 
```**

# node.js - 如何在节点快递中代理图像？

> ID：12634694
> 
> 赞同：0
> 
> 时间：2012-09-28T06:28:28.597
> 
> 标签：node.js, express

我有来自 Filepicker.io 的这张图片：[https ://www.filepicker.io/api/file/9H-1AxgZTwqct8tjkmkZ](https://www.filepicker.io/api/file/9H-1AxgZTwqct8tjkmkZ)

但是当我在浏览器中打开它时，它会直接下载文件，我认为那是因为响应头什么的，所以我想知道如何代理它以便我可以像其他图像一样在浏览器中查看它，比如这个：[https ://distilleryimage1.s3.amazonaws.com/84d490a4071811e285a622000a1d039f_5.jpg](https://distilleryimage1.s3.amazonaws.com/84d490a4071811e285a622000a1d039f_5.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:29:04.143

```
curl -si https://www.filepicker.io/api/file/9H-1AxgZTwqct8tjkmkZ | head
HTTP/1.1 200 OK
Access-Control-Allow-Headers: CONTENT-TYPE, X-NO-STREAM
Access-Control-Allow-Methods: DELETE, GET, HEAD, POST, PUT
Access-Control-Allow-Origin: *
Access-Control-Max-Age: 21600
Cache-Control: public, max-age=315360000, no-transform
Content-Disposition: attachment; filename="中秋福利.jpg"
Content-Type: image/jpeg
Date: Fri, 28 Sep 2012 08:21:45 GMT
Server: gunicorn/0.14.6 
```

内容处置设置为`attachment`。如果您代理它，则完全删除该标头或将其设置为`inline`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T02:33:36.740

`?dl=false`虽然 vinayr 的答案是正确的，但您可以通过附加到 FilePicker URI 的末尾来完全避免使用代理。

例如：[https ://www.filepicker.io/api/file/9H-1AxgZTwqct8tjkmkZ?dl=false](https://www.filepicker.io/api/file/9H-1AxgZTwqct8tjkmkZ?dl=false)

[FilePicker 文档](https://developers.filepicker.io/docs/web/#fpurl)中还有许多其他内容，特别是“使用 FPUrls”部分和“检索文件”和“图像转换”小节。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-22T05:35:42.803

Github 使用[https://github.com/atmos/camo](https://github.com/atmos/camo)为 SSL 代理图像。您可以尝试使用它。您可以将其安装在您的快递应用程序上：

```
var camo = require('./node_modules/server.js') // you have to strip the server.listen(port) part
app.use('/proxy', camo) 
```

# wcf - 如何实现非windows平台的WCF测试客户端。

> ID：12634696
> 
> 赞同：1
> 
> 时间：2012-09-28T06:28:32.270
> 
> 标签：wcf, wcf-client

我一直在评估和开发一个原型，其中我使用 WCF Web 服务公开了几个 API。我的服务与 Windows 平台中的托管客户端按预期工作。我的服务客户端可以在任何平台上。我不知道如何处理其他平台（UNIX）。到目前为止我考虑过的几个选项 -

*   GSOAP
*   MONO 网络

由于某些限制，我无法使用其中任何一种。现在我遗漏了实现我自己的客户端的唯一选项，它可以发送肥皂请求并获得肥皂响应。我的首选技术是 C/C++。我在我的服务器中使用 wsHttpBinding，并且只使用 http 协议。我不确定以下几点-

1.  我需要实现自己的 WSDL 解析器吗？
2.  我需要自己的序列化程序吗？
3.  我怎样才能使我的客户端更灵活，以便我的 WSDL 中的任何更改都在客户端进行最小的代码更改？

我正在寻求专家的帮助，他们可以通过基本的客户样本指导我采取适当的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:49:28.570

我的经验是 WCF 与 Java 客户端的互操作性。您可以使用 Java SOAP 库，例如 Metro [http://metro.java.net/](http://metro.java.net/)或轴[http://axis.apache.org/axis2/java/core/index.html](http://axis.apache.org/axis2/java/core/index.html)。甚至还有一个用于轴的 C 库。[http://axis.apache.org/axis2/c/core/](http://axis.apache.org/axis2/c/core/)

我确信像 Ruby/Python 等其他语言也有类似的库。

另一种选择是使用基于 REST 的界面，然后您可以使用任何支持 HTTP 的语言/平台，甚至可以使用 curl 和 libcurl [http://curl.haxx.se/](http://curl.haxx.se/)等工具。

# c++ - C ++用零和空值检查数组的长度

> ID：12634698
> 
> 赞同：0
> 
> 时间：2012-09-28T06:28:35.837
> 
> 标签：c++, arrays

我有一个 int 数组，比如说... 1000 个元素。用户输入 128 并将数组填充为 821。在说之前，让我说，为了其他功能的简单性，它必须向后。为了得到我使用的长度

```
 int count = 0;
    for (int i = 0; array1[i] != '\0'; ++i)
    {
        count++;
    } 
```

这很好用。直到他们输入一个带有 0 的数字，例如 0 或 100。数组填充为 001，但测试立即停止它，因为 0 等于 '\0'

我不能使用 sizeof(array1)/sizeof(*array1) 因为当我去打印数组时，我会得到大量的零，然后是数字。它确实打印正确，但不是我想要的。

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:34:32.013

我认为更好的方法是在使用之前用无效值（例如-1）填充整个数组。根据您的描述，通过说“无效”，它可以是 0-9 以外的任何值。

```
memset(array1, -1, sizeof(array1));
// doing things 
```

为什么不将数字保存为字符，因为它们来自用户输入？只需使用 '0' 而不是 '\0' 来表示零，所以你没有问题。`strlen`如果你保证数组末尾总是有 '\0'，你甚至可以直接使用它来获取长度：

```
// array size is 1001 instead of 1000 to reserve a '\0' in the end
char array1[1001] = {'8', '2', '1'}
size_t count = strlen(array1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:35:14.220

您需要做的是将数字转换为相应的字符。

可以说，你有`1230`. 在您的数组中，您实际存储`1 + '0'`、和。是已打印在其上的键的 ASCII 值。`2 + '0'``3 + '0'``'0'``'0'``0`

这样你就永远不会`'0'`混淆`\0`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:35:58.723

您可以确定您的号码的位数，然后使用计算出的大小动态分配数组。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T06:40:26.357

我能想到的方法有两种：

1.  在用户输入的每个元素之后增加大小
2.  你用一个用户永远不会输入的数字来标记结尾

例如在第一种情况下：

```
char array1[1000];
int count = 0;

while(!the_end)
{
    std::cin >> array1[count++]
}

// From now, every time you add elements to the array, increase  the "size" variable

std::cout << "Size: " << count << std::endl; 
```

对于第二种情况，有一些方法，但我认为最适合您的方法是在开始从用户那里获取输入之前用无效值填充数组：

```
char array1[1000] = {-1};
// Start getting the input...

int count = 0;
for(int i = 0; array1[i] != -1; ++i)
{
    count++;
}

std::cout << "Size: " << count << std::endl; 
```

**注意：**如果你坚持这一点，那么你的代码可能有一些设计缺陷。为了使设计更好，您将使用我建议的第一种方法，而不是在之后尝试找到尺寸。或者更好的是，您可以按照`std::vector`评论中的建议使用，或者至少可以对您输入到数组的元素进行某种类型的“跟踪”。

# c - 在 Linux 内核的 uname -v 输出字符串中添加一些额外的信息

> ID：12634699
> 
> 赞同：0
> 
> 时间：2012-09-28T06:28:36.383
> 
> 标签：c, linux, unix, linux-kernel, uname

当我运行时在我的 Linux 机器上

```
uname -v 
```

它给了我

```
#83-Ubuntu SMP Wed Jan 4 11:12:07 UTC 2012 
```

* * *

现在我正在构建我的自定义内核，我需要在这个字符串中显示一些关于构建的标志/文本信息..

我想要一些类似的东西，如果有一些配置，然后添加`BUILD-XYZ`那个字符串

```
 #83-Ubuntu SMP Wed Jan 4 11:12:07 UTC 2012 BUILD-XYZ 
```

如果没有，那么添加`BUILD-ABC`。

```
 #83-Ubuntu SMP Wed Jan 4 11:12:07 UTC 2012 BUILD-ABC 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-02T09:18:22.613

变量 CONFIG_LOCALVERSION（在您的内核 .config 文件中）允许您设置一个自定义字符串，该字符串将附加到内核版本号，因此在使用“uname”时显示。

那是你要的吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:40:03.173

使用 有几种方法可以做到这一点`GNU awk`，这里有一个：

```
uname -v | awk '{ printf (/some config/) ? $0" BUILD-XYZ\n" : $0" BUILD-ABC\n" }' 
```

# node.js - 使用 express.js 调用函数并传递回调

> ID：12634700
> 
> 赞同：1
> 
> 时间：2012-09-28T06:28:39.633
> 
> 标签：node.js, callback, express

将自定义回调与 express.js 函数一起使用的正确方法是什么？

这是一个例子：

//路由/reset.js

```
user.save(function(err){
  if ( err ) return next(err);
  reset.send_reset_email(req, res, user, function(req, res){
    req.flash('info', 'Check your email for a link to reset your password.');
    res.redirect('/');
  });
}); 
```

我应该为 reset.send_reset_email 使用什么签名才能正常工作？

这就是我所拥有的：

```
exports.send_reset_email = function(req, res, user, next){
  //send email
  transport.sendMail(options, function(err, responseStatus) {
     if (err) { 
      console.log(err);
    } else { 
      next(req, res);
     //do I need to explicitly pass req, res here?
     //is next() reserved word here?
    } 
  });

}); 
```

我需要在这里明确传递 req, res 吗？这里是 next() 保留字吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T22:48:34.820

next() 接受错误或其他路由，通常被调用以继续下一个中间件。

在您的 send_reset_email 函数中，您的 next() 不是 express 的 next()，因为您传入 function(req,res) 而不是 next，而是传入您自己的回调来处理 sendmail 函数的结果。

```
user.save(function(err){
  if (err) return next(err) // if thats express's next()
  reset.send_reset_email(req, res, user, function(err, data){
    if(err) {
      // send err msg
    } else {
      req.flash('info', 'Check your email for a link to reset your password.');
      res.redirect('/');
    }
  });
});

xports.send_reset_email = function(req, res, user, cb){
  //send email
  transport.sendMail(options, function(err, responseStatus) {
     if (err) return cb(err)
     cb(null,responseStatus)
  })
}) 
```

# android - Restore ADT (Android Development Tools) Perspective Eclipse

> ID：12634701
> 
> 赞同：3
> 
> 时间：2012-09-28T06:28:43.170
> 
> 标签：android, adt, eclipse-adt

I have closed all perspectives in my Eclipse Workspace by mistake.

How can I restore the default perspective used to develop Android application?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:42:11.000

Go to open perspective -> Java

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T06:41:58.987

ADT uses the default Resource perspective.

To open it again just go to: Window -> Open Perspective -> Resources (default)

# c# - 从 AD 获取用户角色的简单方法？

> ID：12634706
> 
> 赞同：2
> 
> 时间：2012-09-28T06:29:19.253
> 
> 标签：c#, .net, active-directory, ldap

我正在编写一个独立的应用程序，它需要在给定 AD 帐户名称的情况下确定用户是否是特定组的成员。我正在用 .NET (C#) 编写应用程序。AD 中的结构如下所示：

*   组织
    *   1队
        *   大卫*（用户）*
*   团体
    *   应用 A
        *   第一组*（上组）*

仅列出 David 的成员身份不会表明他是 Application A 组的成员。

我从 Microsoft 的文档中了解到（使用主体）我可以简单地使用 IsInRole 调用，但我找不到任何不需要 David 登录到机器或运行执行检查的应用程序的情况。我认为我对安全模型的有限理解也在这里发挥了作用。

有人可以指出我正确的方向吗？我正在寻找的是有关如何在 C# 中解决上述问题（参考、提示、片段）的提示，而不依赖于 David 必须运行任何应用程序。

让我知道是否可以澄清任何事情。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T20:46:56.673

添加对 DirectoryServices.AccountManagement 的引用

然后添加一条 using 语句：

```
using System.DirectoryServices.AccountManagement; 
```

然后在您的主程序中（或其他地方，如果需要，调用程序 IsMember：

```
string userName = "David";
string GroupName = "Team 1";
bool test = IsMember(userName, GroupName); 
```

* * *

```
 public static bool IsMember(string UserName, string GroupName)
    {
        try
        {
            UserPrincipal user = UserPrincipal.FindByIdentity(
                new PrincipalContext(ContextType.Domain),
                UserName);

            foreach (Principal result in user.GetAuthorizationGroups())
            {
                if (string.Compare(result.Name, GroupName, true) == 0)
                    return true;
            }
            return false;
        }
        catch (Exception E)
        { 
            throw E; 
        }
    } 
```

如果 David 在 Team 1 中，则该过程将返回 true，否则返回 false。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:40:40.397

您可以使用从目录[`UserPrincipal.FindByIdentity`](http://msdn.microsoft.com/en-us/library/bb344891.aspx)中获取`UserPrincipal`对象。这与您可能找到的其他主体对象并不完全相同，但它确实有一种[`IsMemberOf`](http://msdn.microsoft.com/en-us/library/bb337747.aspx)方法可以让您查询组成员资格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T07:08:50.357

我在我的 AD 环境中使用它

```
var pc = new PrincipalContext(ContextType.Domain);
var group = GroupPrincipal.FindByIdentity(pc, "GROUPNAME");
var existsInGroup = group.GetMembers(true).Where(p => p.UserPrincipalName == "username@domain").Any(); 
```

如果您不想检查子组，请传递`false`给[`GetMembers`](http://msdn.microsoft.com/en-us/library/bb339975.aspx).

它不需要给定的用户必须登录。希望能帮助到你。

# mysql - 如何将值从 JSP 页面传递到 Servlet 并保存在 MySQL 数据库中？

> ID：12634710
> 
> 赞同：0
> 
> 时间：2012-09-28T06:29:33.683
> 
> 标签：mysql, jsp, servlets

我想在 apache tomcat 中上传一个文件，并使用 JSP 从文本字段中将数据保存在 MySQL 中。这样做时，我无法将 JSP 页面中的值传递给 Servlet 并保存在数据库中。我该怎么做？我尝试了以下代码行：JSP：

```
<form action="UploadServlet" method="post"
          enctype="multipart/form-data">
        <input type="file" name="file" size="50" />
        <br />
        <input name="a" type="text"/>
        <br />
        <input type="submit" value="Upload File" />
    </form> 
```

我还在 Servlet 中使用了以下代码行：

小服务程序

```
import java.io.*;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.*;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.swing.JOptionPane;
import org.apache.commons.fileupload.FileItem;
import org.apache.commons.fileupload.disk.DiskFileItemFactory;
import org.apache.commons.fileupload.servlet.ServletFileUpload;
public class UploadServlet extends HttpServlet {

    private boolean isMultipart;
    private String filePath;
    private int maxFileSize = 10000 * 1024;
    private int maxMemSize = 5 * 1024;
    private File file;
    String gi;

    @Override
    public void init() {
        // Get the file location where it would be stored.
        filePath = getServletContext().getInitParameter("file-upload");        
    }

    protected void processRequest(HttpServletRequest request, HttpServletResponse            

response) throws ServletException, IOException {        
        // Check that we have a file upload request
        isMultipart = ServletFileUpload.isMultipartContent(request);
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        gi =request.getParameter("a");
        if (!isMultipart) {
            out.println("<html>");
            out.println("<head>");
            out.println("<title>Servlet upload</title>");
            out.println("</head>");
            out.println("<body>");
            out.println("<p>No file uploaded</p>");
            out.println("</body>");
            out.println("</html>");
            return;
        }

        DiskFileItemFactory factory = new DiskFileItemFactory();
        // maximum size that will be stored in memory
        factory.setSizeThreshold(maxMemSize);
        // Location to save data that is larger than maxMemSize.
        factory.setRepository(new File("D:\\Software\\apache-tomcat-7.0.29\\webapps\\Hello\\temp"));
        // Create a new file upload handler
        ServletFileUpload upload = new ServletFileUpload(factory);
        // maximum file size to be uploaded.
        upload.setSizeMax(maxFileSize);
        try {
            // Parse the request to get file items.
            List fileItems = upload.parseRequest(request);
            // Process the uploaded file items
            Iterator i = fileItems.iterator();
            out.println("<html>");
            out.println("<head>");
            out.println("<title>Servlet upload</title>");
            out.println("</head>");
            out.println("<body>");
            while (i.hasNext()) {
                FileItem fi = (FileItem) i.next();
                if (!fi.isFormField()) {
                    // Get the uploaded file parameters
                    String fieldName = fi.getFieldName();
                    String fileName = fi.getName();
                    String contentType = fi.getContentType();
                    boolean isInMemory = fi.isInMemory();
                    long sizeInBytes = fi.getSize();
                    // Write the file
                    if (fileName.lastIndexOf("\\") >= 0) {
                        file = new File(filePath + fileName.substring(fileName.lastIndexOf("\\")));
                    } else {
                        file = new File(filePath + fileName.substring(fileName.lastIndexOf("\\") + 1));
                    }
                    fi.write(file);
                    out.println("Uploaded Filename: " + fileName + "<br>");
                }
            }
        } catch (Exception ex) {
            out.println("Your file size should be less than 10 or equal to 10kb" + ex);
        }
        try {
            /* TODO output your page here. You may use following sample code. */
            out.println("<h1>"+gi+"</h1>");
            try {
                Class.forName("com.mysql.jdbc.Driver");
                Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/webSiteTest", "root", "root");
                PreparedStatement stat = conn.prepareStatement("insert into abc(name) values (?)");
                stat.setString(1, gi);
                int aa = stat.executeUpdate();
                JOptionPane.showMessageDialog(null, "Database Connected Successfully.");
            } catch (SQLException ex) {
                JOptionPane.showMessageDialog(null, "Query Error!");
            } catch (ClassNotFoundException ee) {
                JOptionPane.showMessageDialog(null, "Database not Found!");
            }            
            out.println("</body>");
            out.println("</html>");
        } finally {
            out.close();
        }
    }

    @Override
    public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, java.io.IOException {
        processRequest(request, response);
    }

    @Override
    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, java.io.IOException {
        //throw new ServletException("GET method used with " + getClass().getName() + ": POST method required.");
        processRequest(request, response);
    }    
} 
```

我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:00:59.787

要通过 JSP/servlet 发送文件，我们需要一个 commonsio.jar 文件，这很容易在 google 中找到。现在将该jar文件放在tomcat文件夹的lib目录中，现在它可以工作了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:35:16.880

创建指向您在 JSP 中指定的文件的文件对象。

在 JSP 中，

```
 request.setAttribute("file",fileObject); 
```

并在 Servlet 中使用

```
 request.getAttribute("file"); 
```

试试这个。它应该工作。

# java - 我用什么从应用服务器发送 SMS 消息？

> ID：12634711
> 
> 赞同：1
> 
> 时间：2012-09-28T06:29:41.983
> 
> 标签：java, sms

对不起，如果这是一个明显的问题，但一些初步的谷歌搜索什么也没想到。

我正在使用一个链接到一些业务服务器的 Java EE 服务器，并且我正在研究一种 SMS 消息传递服务来通知用户重要信息。是否有某种带有提供此 API 的服务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T14:21:33.323

*免责声明，我在 Nexmo 兼职做开发人员宣传。*

我使用了一些 SMS API：

*   [Nexmo](http://nexmo.com)
*   [特维利奥](http://twilio.com)
*   [特罗波](http://tropo.com)

如果您要进行国际发送，我认为您最好的是 Nexmo。或者，如果您正在接受任何传入消息，Nexmo 的定价模型将帮助您。这三个 API 都是直接的 REST/HTTP API。

这是[Nexmo 的 Java API 客户端](https://github.com/Nexmo/nexmo-java-sdk)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-08-12T09:13:11.727

除了上面用户提到的 SMS API（参见 Tim Lytle 的回答）之外，另一家开发了用于通知用户重要信息（时间敏感、安全加密等）的 API 的公司是[Message Whiz-Sms 消息服务](https://messagewhiz.com/sms-messaging-service/)。

他们的费率具有竞争力，并提供按结果付费的付款模式。

祝你好运。

# html - 哪些 DOM 元素可以是 tr 的子元素？

> ID：12634715
> 
> 赞同：14
> 
> 时间：2012-09-28T06:30:07.070
> 
> 标签：html, dom

我有问题，因为我想包围一些`td`内部`tr`，所以我需要知道。

哪些 DOM 元素可以是 tr 的子元素？（我知道`div`不能。）

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-28T06:34:45.213

W3C 指定这个东西。因为`tr`，你可以在[这里](http://www.w3.org/TR/html4/struct/tables.html#edef-TR)找到它。基本上，只有`th`and*元素*`td`可以是.*`tr`*

 *如果你想在你的表格里放*其他*东西，它必须*放在*`td`or`th`元素里面。例如，`td`可以包含流元素，包括`div`.

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-28T06:33:53.090

[HTML 规范](http://www.w3.org/TR/html-markup/spec.html#tr)指出：

> ### 允许的内容
> 
> 零个或多个：一个`td`元素，或一个`th`元素

`<tr>`元素只能包含*s* `<td>`和`<th>`s。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-03-30T11:46:50.260

`ul`这种情况与我在以下详细描述的情况非常相似：[我们可以在 <ul> 中使用任何其他 TAG 以及 <li> 吗？](https://stackoverflow.com/questions/2161337/can-we-use-any-other-tag-inside-ul-along-with-li/60885802#60885802)所以我建议你先阅读。

值得注意的是，不太明显的一点是 ASCII 空白不形成文本节点，而任何非空白字符形成和非法文本节点，不能是`table`.

`tr`然后，在当前标准[https://html.spec.whatwg.org/multipage/tables.html#the-table-element](https://html.spec.whatwg.org/multipage/tables.html#the-table-element)的“内容模型”中我们看到：

> 内容模型：零个或多个`td`, `th`, 和脚本支持元素。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T10:17:29.560

如果问题是关于由符合 HTML 规范的 HTML 文档构造的 DOM 树，那么答案是`td`and `th`，正如 paxdiablo 的答案中所解释的那样。

但是您*可以*在脚本中随意修改 DOM 树。例如：

```
<!doctype html>
<table border>
<tr><td>foo <td>bar
</table>
<script>
var p = document.createElement('div');
p.innerHTML = 'Hello world!';
document.getElementsByTagName('tr')[0].appendChild(p);
</script> 
```

这将使元素成为`div`元素的子`tr`元素。你甚至可以创建一些`td`元素并让它们成为元素的子`div`元素。

这是否有意义以及是否会混淆浏览器是另一个问题。并且浏览器不会正常解析 HTML 标记，例如`tr`element 包含`div`作为子元素的元素 - 解析器不准备处理这种情况。在 HTML 标记中不可能对`td`元素进行分组（以任何其他方式，而不是使它们成为 a 的子级）。`tr`但在 DOM 中，您可以创建奇数树。

如果只是想以特殊方式处理某些`td`元素，请给它们一个`class`.*

# c - 如何获取动态分配的二维数组的大小

> ID：12634723
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:30:44.213
> 
> 标签：c, arrays, 2d, sizeof, dynamic-allocation

我已经动态分配了二维数组。这是代码

```
int **arrofptr ;
arrofptr = (int **)malloc(sizeof(int *) * 2);
arrofptr[0] = (int *)malloc(sizeof(int)*6144);
arrofptr[1] = (int *)malloc(sizeof(int)*4800); 
```

现在我必须知道在 arrofptr,arrofptr[0],arrofptr[1] 中分配了多少字节？有什么办法知道大小吗？

如果我们打印

```
sizeof(arrofptr);
sizeof(arrofptr[0]);
sizeof(arrofptr[1]); 
```

然后它将打印 4。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:39:47.033

你找不到 size of `arrofptr`，因为它只是一个指向指针的指针。您正在使用它定义一个数组数组。没有办法只用指针来告诉大小信息，您需要自己维护*大小*信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T07:21:54.567

如果您想跟踪已分配代码块的大小，则需要将该信息存储在您分配的内存块中，例如

```
// allocate 1000 ints plus one int to store size

int* p = malloc(1000*sizeof(int) + sizeof(int)); 
*p = (int)(1000*sizeof(int));
p += sizeof(int);

...

void foo(int *p)
{
  if (p)
  {
    --p;
    printf( "p size is %d bytes", *p );
  }
} 
```

alt。放入一个结构

```
struct
{
  int size;
  int *array;
} s; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T07:13:11.133

您从中获得的唯一返回值`malloc()`是指向已分配区域（或`NULL`失败时）第一个字节的指针。没有可移植*的*、标准的方法从这样的指针获取相关的分配大小，所以一般来说答案是*否定*的。

C 方法通常用一对值表示数组和缓冲区：基地址和大小。顺便说一下，后者通常是类型`size_t`，与 的参数相同`malloc()`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-02T03:14:08.363

您无法获得 C（二维或其他）中动态分配的数组的长度。如果您需要该信息，请在最初分配内存时将其保存到变量（或至少一种计算方式）中，并将指向内存的指针和内存大小一起传递。

在上面的测试用例中， sizeof 正在返回指针的大小，因此您的计算指针的大小通常为 4，这就是为什么您得到 4 并且很可能总是得到 4 的微不足道的结果。

# c# - MongoDB：是否可以设置 ID？

> ID：12634724
> 
> 赞同：1
> 
> 时间：2012-09-28T06:30:47.927
> 
> 标签：c#, mongodb

> **可能重复：**
> [如何在 mongodb 中设置主键？](https://stackoverflow.com/questions/3298963/how-to-set-primary-key-in-mongodb)

据我了解 _id 是由 mongodb 生成的。有什么方法可以手动设置吗？如果是这样，如何使用 C# 驱动程序来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T07:41:46.333

我设法自己找到了答案。`Id`对于 C# 驱动程序，给出名称或所需属性就足够了`_id`，并且在您的类中没有`ObjectId`类型属性。然后内部驱动程序以某种方式决定此属性`_id`用于您在 mongodb 中的数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:35:16.537

是的，您可以在客户端生成 ObjectID。每个客户端库都应该提供一种方法。这是 ruby​​ 驱动程序中的情况

```
require 'mongo'
oid = BSON::ObjectId.new 
```

但该`_id`字段不必是 ObjectId。它可以是任何东西（数组除外）。您可以在插入文档时提供自己的值，mongo 会很乐意接受它。

# affinity - irq smp_affinity 可以替代 rps（接收包转向）吗？

> ID：12634726
> 
> 赞同：0
> 
> 时间：2012-09-28T06:31:11.707
> 
> 标签：affinity, smp, irq

我有一个网卡 eth0，它有一个单队列，它的 IRQ 号是 63，</p>

我的问题是：</p>

如果我将 /proc/irq/63/smp_affinity 设置为 fffff

是否意味着Linux内核会将eth0的IRQ分配给我系统中的每个cpu？

它的功能和rps(receive package serving)一样吗？</p>

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T03:02:07.857

不，smp_affinity 是此 IRQ 允许的 CPU 的位掩码或 cpu 列表。例如，如果设置为 0x1，它将将该 IRQ 固定到 CPU 0 ...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-23T00:48:45.920

不可以。将 设置`smp_affinity`为`fffff`仅意味着内核可以使用 IRQ 63 中的任何 CPU`fffff`来处理 IRQ 63。

如果要使用只有一个 RX 队列的 NIC 分配数据包处理负载，则必须使用 RPS。

查看我写[的一篇博](http://blog.packagecloud.io/eng/2016/06/22/monitoring-tuning-linux-networking-stack-receiving-data/)文，其中详细解释了所有这些内容。

# python - 从 django 模板“int”或“str”中确定值

> ID：12634727
> 
> 赞同：2
> 
> 时间：2012-09-28T06:31:15.490
> 
> 标签：python, django

我在 django 模板中有一个表单。在从此表单获取数据的视图中，我需要检查条目是“str”还是“int”。如果它是'str'，我必须提出一个错误。但是当我使用以下方法检查条目的类型时：

```
pr = request.GET['pr no']
print "Type of PR:%s" % type(pr) 
```

无论“pr”是字符串还是整数，type() 函数都会返回“unicode”。我该怎么做？谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-28T06:39:06.993

那么，显然`.GET['pr no']`总是返回一个`Unicode`对象。

可以测试该字符串是否包含整数：

```
if pr.isdigit():   # ASCII digits 
```

或者

```
if pr.isnumeric(): # also Unicode digits 
```

或者，你可以做

```
try:
    int(pr)
except ValueError:
    print "PR is not an integer" 
```

或检查任何有效号码：

```
try:
    float(pr)
except ValueError:
    print "PR is not a number" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:40:22.663

在html表单中，文本输入框用于输入整数值。因此，您在 python 视图中获得的值将始终是 unicode 字符串。

要实现您想要做的，您可以使用`.isdigit()`unicode 字符串的方法进行测试。

例子：

```
>>> x=u'99A'
>>> x.isdigit()
False
>>> x=u'99'
>>> x.isdigit()
True
>>> 
>>> x=u'A99'
>>> x.isdigit()
False
>>> 
```

如果您使用 django 表单，您可能希望使用适当的表单字段（可能[`IntegerField`](https://docs.djangoproject.com/en/dev/ref/forms/fields/#integerfield)）并验证表单以获取错误。

# c# - 以下场景如何复制目录和文件？

> ID：12634732
> 
> 赞同：0
> 
> 时间：2012-09-28T06:31:39.220
> 
> 标签：c#, .net

我有一个包含一些目录和一些文件的源文件夹。它可能看起来像这样：

```
custom app 1 (directory)
custom app 2 (directory)
file1
file2
file3 
```

用户将选择一个应用程序，它应该复制该应用程序的所有内容，除了不需要的内容，例如，如果用户选择了应用程序 1，则目标文件夹应包含：

```
images (this images directory is from custom app 1 in the source folder)
file1
file2
file3 
```

请注意上面，我如何仅提取自定义应用程序 1 的内容，在本例中是一个名为 images 的文件夹，并将其复制到目标文件夹并忽略自定义应用程序 2。

完成上述任务的最佳方法是什么？

# kml - 如何使 KML 不导入多几何的顺序

> ID：12634733
> 
> 赞同：3
> 
> 时间：2012-09-28T06:31:53.917
> 
> 标签：kml, google-earth

您好，我正在编写一些 KML，以及何时按顺序创建多几何体

地标 A 地标 B

我不能选择 PlMark A 因为 B 更大，但是当我有

地标 B 地标 A

是的，因为我认为 A 更小而且它是最后一个被抓住的，我的问题是我不能按顺序放置地标，Kml 中有任何选项可以选择所有元素。

谢谢。

```
<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://earth.google.com/kml/2.0">
<Document>
<StyleMap id="StyF1"><Pair><key>normal</key><Style><IconStyle><Icon></Icon></IconStyle><PolyStyle><color>7d0000ff</color></PolyStyle></Style></Pair><Pair><key>highlight</key><Style><IconStyle><Icon></Icon></IconStyle><PolyStyle><color>7aFFFF8C</color></PolyStyle></Style></Pair></StyleMap>
<StyleMap id="StyU1"><Pair><key>normal</key><Style><IconStyle><Icon></Icon></IconStyle><PolyStyle><color>7d0000ff</color></PolyStyle></Style></Pair><Pair><key>highlight</key><Style><IconStyle><Icon></Icon></IconStyle><PolyStyle><color>7aFFFF8C</color></PolyStyle></Style></Pair></StyleMap>

<Placemark>
    <name>A</name>
    <description>
    </description>
    <visibility>1</visibility>
    <tessellate>1</tessellate>
    <styleUrl>#StyU1</styleUrl>
    <MultiGeometry>
        <Point>
            <coordinates>-0.18806,39.78366</coordinates>
        </Point>
        <Polygon>
        <outerBoundaryIs>
            <LinearRing>
                <coordinates>-0.18806,39.78261
                -0.18701,39.7844286533479
                -0.18911,39.7844286533479
                -0.18806,39.78261</coordinates>
            </LinearRing>
        </outerBoundaryIs>
        </Polygon>
    </MultiGeometry>
</Placemark>

<Placemark>
    <name>B</name>
    <description>
    </description>
    <visibility>1</visibility>
    <tessellate>1</tessellate>
    <styleUrl>#StyF1</styleUrl>
    <MultiGeometry>
        <Point>
            <coordinates>-0.18806,39.78501</coordinates>
        </Point>
        <Polygon>
        <outerBoundaryIs>
        <LinearRing>
            <coordinates>-0.18806,39.78261
            -0.18566,39.7867669219382
            -0.19046,39.7867669219382
            -0.18806,39.78261</coordinates>
            </LinearRing>
        </outerBoundaryIs>
        </Polygon>
    </MultiGeometry>
</Placemark>

</Document></kml> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T16:43:21.880

如果您想将一条线或多边形排序在另一条之上，您可以使用 <gx:drawOrder> 元素。

具有较高 <gx:drawOrder> 值的要素绘制在具有较低值的要素之上，例如，如果您对 A 使用 2 的 drawOrder，为 B 使用 1，则 A 将绘制在 B 之上。换句话说，具有首先绘制较低的 drawOrder 值。

不要忘记将*xmlns:gx="http://www.google.com/kml/ext/2.2"*声明添加到 kml 标记并注意文档说它仅适用于 LineStrings 但也适用于 Polygons和线性环。

```
    <?xml 版本="1.0" 编码="UTF-8"?>
    <kml xmlns="http://www.opengis.net/kml/2.2"
     xmlns:gx="http://www.google.com/kml/ext/2.2">
     ...
      <地标>
        <name>一个</name>
        <多几何>   
            <点>
                <坐标>-0.18806,39.78366</坐标>
            </点>
            <多边形>
                <gx:drawOrder>2</gx:drawOrder>
                ...
            </多边形>
         </多几何>
      </地标>

      <地标>
        <name>B</name>
        <多几何>
            <点>
                <坐标>-0.18806,39.78501</坐标>
            </点>
            <多边形>
                <gx:drawOrder>1</gx:drawOrder>
                ...
            </多边形>
         </多几何>
      </地标>

```

参考：[https ://developers.google.com/kml/documentation/kmlreference#gxdraworder](https://developers.google.com/kml/documentation/kmlreference#gxdraworder)

# python - 使用 gdata-python-client 下载 Google 协作平台页面内容提要

> ID：12634738
> 
> 赞同：2
> 
> 时间：2012-09-28T06:32:00.093
> 
> 标签：python, google-data-api, google-sites, gdata-python-client

我的最终目标是从 Google 网站页面导入一些数据。我正在尝试使用 gdata-python-client (v2.0.17) 下载特定的内容提要：

```
self.client = gdata.sites.client.SitesClient(source=SOURCE_APP_NAME)
self.client.client_login(USERNAME, PASSWORD, source=SOURCE_APP_NAME, service=self.client.auth_service)     
self.client.site = SITE
self.client.domain = DOMAIN

uri = '%s?path=%s' % (self.client.MakeContentFeedUri(), '[PAGE PATH]')
feed = self.client.GetContentFeed(uri=uri)
entry = feed.entry[0]
... 
```

结果 entry.content 具有 xhtml 格式的页面内容。但是此树不包含页面中的任何计划文本数据。只有 html 页面结构和链接。

例如我的测试页有

```
 <div>Some text</div> 
```

ContentFeed 条目只有带有*text=None的**div*节点。

 *我已经调试了 gdata-python-client 请求/响应并检查了原始缓冲区中来自服务器的解析数据 - 内容中的任何计划文本数据。因此，这是一个 Google API 错误。

可能有一些解决方法吗？可能我可以使用一些常见的请求参数吗？这里出了什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T14:16:10.513

此代码适用于 Google Apps 域和 gdata 2.0.17：

```
import atom.data
import gdata.sites.client
import gdata.sites.data

client = gdata.sites.client.SitesClient(source='yourCo-yourAppName-v1', site='examplesite', domain='example.com')
client.ClientLogin('admin@example.com', 'examplepassword', client.source);

uri = '%s?path=%s' % (client.MakeContentFeedUri(), '/home')
feed = client.GetContentFeed(uri=uri)
entry = feed.entry[0]
print entry 
```

鉴于，它与您的几乎相同，但它可能会帮助您证明或反驳某些事情。祝你好运！*

# c++ - 创建交换链失败 2.0

> ID：12634743
> 
> 赞同：1
> 
> 时间：2012-09-28T06:32:28.563
> 
> 标签：c++, directx

我的 D3D11CreateDeviceAndSwapChain() 有问题。我以为我在上一个帖子中找到了解决方案，所以我已经将其标记为已解决。[[创建交换链失败](https://stackoverflow.com/questions/12618933/create-swap-chain-failed])

当我不小心将 HRESULT 作为布尔值返回时，看起来我自欺欺人了......

我整天都在与这个问题作斗争，但仍然没有弄清楚。这里有一堆关于输入和输出的调试信息......

**1] 建议将 UNKNOWN 与非空 vAdapter 一起使用：** [调试图片 http://content.wuala.com/contents/RandomClown/Public/RandomCrap/Debug%201.png](http://content.wuala.com/contents/RandomClown/Public/RandomCrap/Debug%201.png)

**2] 按照 DX 示例将其保留为空并使用类型硬件：** [调试图片 http://content.wuala.com/contents/RandomClown/Public/RandomCrap/Debug%202.png](http://content.wuala.com/contents/RandomClown/Public/RandomCrap/Debug%202.png)

这些图片可能足以让某人发现问题，但如果是其他问题，代码：

```
//      This is some relevant stuff [anything referenced] in the class.

Graphics(){
    selectedVAdapter=NULL;
    deviceInterface=NULL;
    deviceContext=NULL;
    swapChain=NULL;
}

bool initDevice(HWND &hWnd){
    HRESULT success=S_OK;

    D3D_FEATURE_LEVEL featureLevels[]={
        D3D_FEATURE_LEVEL_11_0,
        D3D_FEATURE_LEVEL_10_1,
        D3D_FEATURE_LEVEL_10_0,
        D3D_FEATURE_LEVEL_9_3,
    };
    uint featuresSize=ARRAYSIZE(featureLevels);

    D3D_DRIVER_TYPE driverTypes[]={
        D3D_DRIVER_TYPE_UNKNOWN, // Needed for manual vid adapter setting
        D3D_DRIVER_TYPE_HARDWARE,
        D3D_DRIVER_TYPE_WARP,
        D3D_DRIVER_TYPE_REFERENCE,
    };
    uint driversSize=ARRAYSIZE(driverTypes);

    refreshVideoAdapters();
    setVideoAdapter();

    //setSampleQuality();

    DXGI_SWAP_CHAIN_DESC sd;
    ZeroMemory(&sd, sizeof(sd));
    sd.BufferCount = settings.bufferCount;
    sd.BufferDesc.Width = settings.width;
    sd.BufferDesc.Height = settings.height;
    sd.BufferDesc.Format = settings.colorDepth;
    sd.BufferDesc.RefreshRate.Numerator = settings.rateNumerator;
    sd.BufferDesc.RefreshRate.Denominator = settings.rateDenominator;
    sd.BufferUsage = DXGI_USAGE_RENDER_TARGET_OUTPUT;
    sd.OutputWindow = hWnd;
    sd.SampleDesc.Count = settings.sampleCount;
    sd.SampleDesc.Quality = settings.sampleQuality;
    sd.Windowed = !settings.fullScreen;

    uint flag=0;
    #ifdef _DEBUG
        flag|=D3D11_CREATE_DEVICE_DEBUG;
    #endif

    for(uint i=0; i<driversSize; i++){ // SwapChain: http://msdn.microsoft.com/en-us/library/ff476083%28v=vs.85%29.aspx
        D3D_DRIVER_TYPE driver=driverTypes[i];
        success=D3D11CreateDeviceAndSwapChain(
            //NULL,
            selectedVAdapter, driver, NULL, flag,
            featureLevels, featuresSize, D3D11_SDK_VERSION, &sd,
            &swapChain, &deviceInterface, &selectedFeatureLevel, &deviceContext);
        if(SUCCEEDED(success)) break;
    }

    return SUCCEEDED(success);
}

//      Methods to manage video adapters
void refreshVideoAdapters(){
    IDXGIAdapter1* pAdapter;
    IDXGIFactory1* pFactory=NULL;

    uint lastID=0;
    if(selectedVAdapter){
        DXGI_ADAPTER_DESC1* desc=NULL;
        selectedVAdapter->GetDesc1(desc);
        lastID=desc->DeviceId;
        releaseVideoAdapters();
    }

    if(FAILED(CreateDXGIFactory1(__uuidof(IDXGIFactory1), (void**)&pFactory))) return;

    for(uint i=0; pFactory->EnumAdapters1(i, &pAdapter)!=DXGI_ERROR_NOT_FOUND; i++){
        vAdapters.push_back(pAdapter);

        if(lastID){
            DXGI_ADAPTER_DESC1* desc=NULL;
            pAdapter->GetDesc1(desc);
            if(lastID==desc->DeviceId){
                selectedVAdapter=pAdapter;
                lastID=0;
            }
        }
    }

    if(pFactory) pFactory->Release();
}
void releaseVideoAdapters(){
    for(uint i=0; i<vAdapters.size(); i++){
        vAdapters[i]->Release();
        vAdapters[i]=NULL;
    }
    vAdapters.clear();
    selectedVAdapter=NULL;
}
IDXGIAdapter1* getVideoAdapter(){return selectedVAdapter;}
bool setVideoAdapter(uint num=0){
    if(num<vAdapters.size()){
        selectedVAdapter=vAdapters[num];
        return 1;
    }
    return 0;
}

// Member vars
private:
SettingsGraphicsDevice settings;

D3D_FEATURE_LEVEL selectedFeatureLevel;

vector<IDXGIAdapter1*> vAdapters;
IDXGIAdapter1* selectedVAdapter;

ID3D11Device* deviceInterface;
ID3D11DeviceContext* deviceContext;
IDXGISwapChain* swapChain; 
```

来自该代码的设置结构：

```
struct SettingsGraphicsDevice{
    uint width, height;
    bool fullScreen, vsync;
    uint rateNumerator;
    uint rateDenominator;
    uint bufferCount;
    uint sampleCount, sampleQuality;
    DXGI_FORMAT colorDepth;
    float minDist, maxDist;

    SettingsGraphicsDevice(){
        width=height=0;
        fullScreen=0;
        vsync=0;

        rateNumerator=0;
        rateDenominator=1;
        bufferCount=1;
        sampleCount=1, sampleQuality=0;
        colorDepth=DXGI_FORMAT_R8G8B8A8_UINT;

        minDist=0.1f;
        maxDist=1000.0f;
    }

}; 
```

谢谢阅读。希望这次能找到解决办法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T09:41:02.393

从我的评论中复制和粘贴：“另外，快速查看我的代码显示我使用 DXGI_FORMAT_R8G8B8A8_UNORM，尽管我目前不知道这是否是正确的模式。”。好的，所以现在有答案了:-)

是的，格式... DXGI_FORMAT 是一个相当大的枚举，但在许多情况下，只允许使用某些格式。仅允许显示某些格式（无论是否全屏）都不足为奇。

我从文档中得到了我使用的值（像往常一样），特别是[DXGI_MODE_DESC](http://msdn.microsoft.com/en-us/library/windows/desktop/bb173064%28v=vs.85%29.aspx)描述中的列表。我实际上不知道我是否正在创建一个 blt 块传输交换链，但我决定这些值与任何开始时一样好，即使我不关心功能级别 9，它似乎也很安全：- )

我不知道为什么您的代码似乎可以使用空适配器；我认为这很令人困惑。也许调试运行时会抓住它？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T18:15:33.573

切换到该颜色模式 [DXGI_FORMAT_R8G8B8A8_UNORM] 有效。我现在得到 S_OK。如果其他颜色模式不起作用，为什么会存在其他颜色模式？

# javascript - getElementsByTagName 返回空值（但在调试模式下工作得非常好）

> ID：12634747
> 
> 赞同：1
> 
> 时间：2012-09-28T06:33:00.310
> 
> 标签：javascript

此代码接收一个 xml 文件并将其解析并输出为表格。这是一段代码（面向Firefox）：

```
function viewXML(inputForm) {
        var URL=inputForm.URL.value;    //input XML URL

        // create document and load URL     
        var xmlDoc = document.implementation.createDocument("","doc",null);
        xmlDoc.load(URL);

        xmlDoc.onload = generateHTML(xmlDoc);
        hWin = window.open("","sth", "height=800,width=600");
        hWin.document.write(html_text);
        hWin.document.close();
    } 
```

viewXML 是按钮的 onClick 函数。现在有一段代码`generateHTML()`：

```
function generateHTML(xmlDoc) {
    ...
    caption=xmlDoc.getElementsByTagName("title").item(0).firstChild.nodeValue;  //<1>
    html_text += "<caption align='left'><h1>" + caption + "</h1></caption>";
    ...
} 
```

一段 XML 文件：

```
<catalog>
    <title>Airbus_Aircraft_Families</title>
    <aircraft>
        <Airbus>A380</Airbus>
        <Aircraft>A380</Aircraft>
        <seats>555</seats>
        <Range>15000km</Range>
        <Wingspan>78.8m</Wingspan>
        <Height>24.1m</Height>
    </aircraft>
</catalog> 
```

**问题：** 当我在 Firebug 中以调试模式逐步运行它时，此代码运行良好。但是如果没有设置断点，当程序到达 <1> 行时，会显示一条错误消息： **xmlDoc.getElementsByTagName("title").item(0) is null**，这显然不是真的。

有趣**的**是，当我尝试添加一行时

```
alert(xmlDoc.getElementsByTagName("title").length) 
```

在 <1> 行之前，它会弹出一个显示 0 的窗口，但是当我单击“确定”后，正确的标题（来自 XML）将显示在新窗口中！就像在逐步模式中一样。

**我尝试过的事情：**

1、`xmlDoc.getElementsByTagName("title").item(0)`改成`xmlDoc.getElementsByTagName("title")[0]`

没用，调试器告诉我“xmlDoc.getElementsByTagName("title")[0] is undefined”

2，删除了XML文件中标签内或标签之间的所有空格，没有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:52:49.960

该问题可能是由于您的文档是异步加载的。您可以在此处查看[document.async](https://developer.mozilla.org/en-US/docs/DOM/document.async)属性。我认为如果您将此属性设置为 false，您的代码将起作用。

```
// create document and load URL
var xmlDoc = document.implementation.createDocument("","doc",null);
xmlDoc.async = false;
xmlDoc.onload = generateHTML(xmlDoc);
xmlDoc.load(URL); 
```

请注意，我在调用加载函数之前将附加事件处理程序的行移动到加载事件。

# iphone - 当我单击该按钮时，用另一个图像覆盖一个图像按钮

> ID：12634749
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:33:32.010
> 
> 标签：iphone, objective-c

我在*cellForRow*方法的每一行前面创建了一个图像按钮 ( *a.png )。*在同一方法本身中，我正在调用*buttonPressed*方法，该方法具有在按下按钮时要执行的代码。我希望在按下按钮时，按钮图像应该更改为另一个相同大小的图像（*b.png*）。

 ***请帮助如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:38:24.673

```
[but setBackgroundImage:[UIImage imageNamed:@"a.png"] forState:UIControlStateNormal];
[but setBackgroundImage:[UIImage imageNamed:@"b.png"] forState:UIControlStateSelected]; 
```

尝试这个......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:56:24.997

为自定义单元格上的 UITableView 和 UIButton 创建自定义单元格。

为 UIButtion 创建属性。

在 cellForRowAtIndexPath: 方法中

```
//Set Action on  Button  in Table View Row

[cell.UIButtonOutlet addTarget:self action:@selector(checkButtonTapped:event:)  forControlEvents:UIControlEventTouchUpInside]; 
```

这将从您的按钮创建操作。

在方法中

```
-(void)checkButtonTapped:(id)sender event:(id)event
{

NSSet *touches=[event allTouches];

  UITouch *touch=[touches anyObject];

 CGPoint currentTouchPosition = [touch locationInView:self.historyTableView];

//GET IndexPath

NSIndexPath *indexPath=[self.TableView indexPathForRowAtPoint: currentTouchPosition];        

 selectedCell= [PairTableView cellForRowAtIndexPath:indexPath];

[selectedCell.UIButtonOutlet setImage:[UIImage imageNamed:@"a.png"] forState:UIControlStateNormal]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:57:41.317

试试下面的方法

```
 UIButton *button = [UIButton buttonWithType:UIButtonTypeContactAdd];
        [button setFrame:CGRectMake(12,12,200,200)];
        [button addTarget:self action:@selector(click: withEvent:) forControlEvents:UIControlEventTouchUpInside];
        [button setTag:indexPath.row];
        [button setBackgroundImage:[UIImage imageNamed:@"a.png"] forState:UIControlStateNormal];

        [cell.contentView addSubview:button]; 
```

然后在按钮的点击动作方法中

```
 -(void)click:(UIButton *)button :withEvent:(UIEvent *)events{
       [self yourFunction:(UIButton *)button];

    } 
```

然后最后

```
 -(void)yourFunction:(UIButton *)button{
     button.selected = ! button.selected;

                if (button.selected) {
                    [button setBackgroundImage:[UIImage imageNamed:@"a.png"] forState:UIControlStateNormal];
                }
                else{
                    [button setBackgroundImage:[UIImage imageNamed:@"b.png"] forState:UIControlStateNormal];

                }

} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-28T06:37:54.810

初始化按钮时试试这个

```
UIButton *button=[UIButton buttonWithType:UIButtonTypeCustom];
[button setImage:[UIImage imageNamed:@"a.png"] forState:UIControlStateNormal]; 
```

然后像这样修改你的方法（按下按钮时调用）

```
-(void)yourMethod:(id)sender{

    UIButton *btn=(UIButton*)sender;
    [btn setImage:[UIImage imageNamed:@"b.png"] forState:UIControlStateNormal];

    //your other code

} 
```***

# mkmapview - mkannotation 自动/默认标注未发生

> ID：12634750
> 
> 赞同：1
> 
> 时间：2012-09-28T06:33:33.617
> 
> 标签：mkmapview, mkannotation, callout

我添加了一个注释，在viewforannotation中我设置了canshowcallout并选择了注释，但它没有被选中......

```
 -(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation{
    currentCoordinates = newLocation.coordinate;
 ParkPlaceMark *pa = [[ParkPlaceMark alloc] init];
        pa.coordinate = currentCoordinates;
        pa.title = @"POI";
        pa.title2 = @"CUrrent Locn";
        pa.subtitle = @"Drag and drop to adjust the position if necessary";
        [mapView addAnnotation:pa];
        [pa release];
   }
   - (MKAnnotationView *)mapView:(MKMapView *)map
        viewForAnnotation:(ParkPlaceMark*)annotation {

MKAnnotationView *test=[[MKAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"parkingloc"];
if([annotation.title caseInsensitiveCompare:@"POI"] == NSOrderedSame)
{
    test.annotation = annotation;

    test.userInteractionEnabled = YES;
    test.draggable = YES;
    //        test.pinColor = MKPinAnnotationColorRed;

    [test setImage:[UIImage imageNamed:@"marker3.png"]];
    [test setEnabled:YES];
    [test setCanShowCallout:YES];
    [test setDragState:MKAnnotationViewDragStateEnding animated:YES];
    [self.mapView selectAnnotation:test.annotation animated:YES];
    return test;
   }
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T11:14:31.567

我添加了自定义动画所以

```
 [self.mapView selectAnnotation:test.annotation animated:YES]; 
```

没有工作。正确的代码是：

```
 [self.mapView selectAnnotation:test.annotation animated:NO]; 
```

# mysql - 类别属性的数据库模式混淆

> ID：12634753
> 
> 赞同：0
> 
> 时间：2012-09-28T06:33:37.507
> 
> 标签：mysql, sql-server, database, database-design

**这些是我的要求：**

1.  每个类别有多个组
2.  每个组有多个属性
3.  每个属性都有多个值

到目前为止，我已经想出了这个数据库设计

**类别组表**

`GroupID`| `CatID[References Category(CatID)]`|`GroupName`

**类别属性表**

`AttributeID`| `AttributeName`| `GroupID[References CategoryGroups(GroupID)]`| `AttributeValue`

所以你们觉得这是一个巧妙的设计吗？有什么建议么？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:47:34.307

除了命名您的第二个表之外`GroupAttributes`，因为它对类别一无所知，这是一种最常用的好方法。您有多个 1:N（一对多）关系，并且您以正确的方式引用表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T10:07:43.723

有什么理由不为您的四个概念设置四个表吗？：

```
Category: id, <category stuff>
Group: id, category_id, <group stuff>
Attribute: id, group_id, <attribute stuff>
Value: id, attribute_id, <value stuff> 
```

主键是 id 列。

外键如命名（即attribute_id 是Attribute.id 的外键）

# javascript - webview 中的 onselectionchange Javascript 事件

> ID：12634754
> 
> 赞同：1
> 
> 时间：2012-09-28T06:33:41.900
> 
> 标签：javascript, android, android-webview, dom-events

在我的 Android 应用程序中，我为 Javascript 附加了一个处理程序，`onselectionchange`如下所示：

```
$(document).on('selectionchange',function(ev){
    alert('Text has been selected');
}); 
```

这应该在用户选择某些内容（如文本）或选择更改时触发，但是它是在点击时触发的。有谁知道这种行为的原因？（这样的东西在 iOS 中工作）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-19T03:51:44.110

“onselectionchange”事件不是跨浏览器功能。
AFAIK，只有 Trident（iexplore）和**最新版本的 webkit**（以及 webview）支持文本选择事件。

话虽如此，您测试的 iOS 上的 webkit 版本是否比您的 Android 版本更新？
还要考虑尽管它们都使用 webkit 进行渲染，但它们使用完全不同的 javascript 引擎，因此可能存在不同的行为。

# java - 比较 Java 中的句子

> ID：12634759
> 
> 赞同：5
> 
> 时间：2012-09-28T06:34:16.853
> 
> 标签：java, string, compare

我想比较两个句子（句子 A 和 B），这样程序就会输出句子 A 对句子 B 所做的更改。例如：

句子 A：`It's a lovely day today.`
句子 B：`It's a very lovely day today, isnt it?`

输出：`It's a [I:very] lovely day today [C:./,] [I:isnt it?]`

其中：
`I`= 已插入，
`C`= 已更改

PS：我还没有开始编码，因为我想收集一些关于如何最好地实现这个案例的想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T09:42:15.770

我想出了下面的代码和这个问题。

**条件 不考虑**

1.  从任何列表中删除的项目
2.  第一个字符差异
3.  差异项目的重复

如果您有疑问，请检查并告诉我。

```
public static void main(String[] args) {

    String str1 = "It's a lovely day today.";
    String str2 = "It's a very lovely day today, isnt it?";
    StringBuilder builder = new StringBuilder();
    StringBuilder added = new StringBuilder();
    StringBuilder changed = new StringBuilder();

    for (int i = 0; i < str1.length(); i++)
        for (int j = 0; j < str2.length(); j++) {
            if (str1.charAt(i) == str2.charAt(j)) {
                if (added.length() > 0) {
                    builder.append("[I:" + added.toString() + "]");
                    added = new StringBuilder();
                }
                if (changed.length() > 0) {
                    changed.append("[C:" + changed.toString() + "]");
                    changed = new StringBuilder();
                }
                // skip as there is no difference.
                builder.append(str1.charAt(i));
                i++;
                // check if index -1 chars are equal then there is
                // difference start
            } else if (str1.charAt(i - 1) == str2.charAt(j - 1)) {

                // check if end of line
                if ((i + 1 == str1.length())
                        || (str1.charAt(i + 1) == str2.charAt(j + 1))) {

                    changed.append(str1.charAt(i));
                    changed.append("/");
                    changed.append(str2.charAt(j));
                    j++;
                    // everything is added
                    if (i + 1 == str1.length()) {
                        while (j < str2.length() - 1)
                            added.append(str2.charAt(j++));
                    }

                    continue;
                }

                // Go until next equal found
                while (!(str1.charAt(i) == str2.charAt(j))
                        && j < str2.length() - 1) {
                    added.append(str2.charAt(j++));
                }
                j--;

            }
        }
    if (changed.length() > 0) {
        builder.append("[C:" + changed.toString() + "]");
    }
    if (added.length() > 0) {
        builder.append("[I:" + added.toString() + "]");
    }

    System.out.println(builder.toString());

} 
```

输出

```
It's a [I:very ]lovely day today[C:./,][I: isnt it] 
```

# django - 如何编写引用另一个模型的模型方法？

> ID：12634761
> 
> 赞同：0
> 
> 时间：2012-09-28T06:34:31.907
> 
> 标签：django, templates, view, methods, model

我想创建一个模型方法，它将“用户”（这是一个 CharField）用于给定的评论，然后返回与该用户关联的“报价”，该用户被定义为 UserProfile 的一部分。我正在尝试创建方法和模板。到目前为止我尝试过的事情似乎没有奏效。

我知道做到这一点的最好方法可能是让 Reviewbackup 中的“用户”字段成为用户的外键，但我想知道如何使用一种方法来做到这一点，以便我可以学习。

# 模型.py

```
class Reviewbackup(models.Model):
    review = models.CharField('Review', max_length = 2000)
    user = models.CharField('Username', max_length =  200)
    rating = models.IntegerField(max_length=2, choices=RATING_OPTIONS)
    product = models.ForeignKey(Productbackup)
    def __unicode__(self):
        return self.review

class UserProfile(models.Model):
    user = models.OneToOneField(User)
    quote = models.CharField('About', max_length =  200, null=True, blank=True)
    website = models.URLField('Personal website/blog', null=True, blank=True)
    facebook = models.URLField('Facebook profile page', max_length = 200, null=True, blank=True)
    twitter = models.URLField('Twitter profile page', max_length = 200, null=True, blank=True)
    youtube = models.URLField('YouTube channel page', max_length = 200, null=True, blank=True) 
```

# 视图.py

```
def view_reviews(request, product_name):
    product = get_object_or_404(Productbackup, url_friendly=product_name)
    product_id = product.id
    #get reviews for the this product
    reviews = Reviewbackup.objects.filter(product_id=product_id).order_by("-created_on")
    return render_to_response('reserve/templates/view_reviews.html', {'reviews':reviews},
        context_instance=RequestContext(request)) 
```

# 模板

```
{% for review in reviews %} 
{{review.user}}
<br>{{review.user.userprofile.quote}}
{% endfor %} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:58:43.957

如果问题的条件是“不要对用户使用 ForeignKey，而是使用 CharField 作为用户名”，您可以将该方法添加到您的 Reviewbackup 模型中，例如：

```
def get_user_quote(self):
    return UserProfile.objects.get(user__username=self.user).quote 
```

并在模板中使用它：

```
{{ review.get_user_quote }} 
```

但是您确实应该将您的用户字段替换为 ForeignKey

# javascript - 如何将 DOM 元素 ID 分配给 Javascript 函数构造函数中的属性

> ID：12634765
> 
> 赞同：0
> 
> 时间：2012-09-28T06:34:43.680
> 
> 标签：javascript, dom

我有一个简单的函数构造函数，并希望将 DOM 元素 ID 分配给其中一个属性。在构造函数之外完成此操作时，您必须将 ID 放在引号中 IE getElementById( **"whatever"** );

在我的构造函数中，我不确定是否需要这样做，如何添加它们，也不确定我是否正确格式化。

```
<form id="form">
<input type="text" id="bookText" value="Book">
</form>

<script>

function Item(itemName,itemDomID){
this.itemName = document.getElementById(this.itemDomID);   
};

var mybook = new Item(book,bookText);       // new object.

</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:50:23.463

你的构造函数参数应该是字符串吗？
[在 jsfriddle 试试这个](http://jsfiddle.net/378m3/2/)

```
<form id="form">
<input type="text" id="bookText" value="Book">
</form>

​function Item(itemName,itemDomID){
    this.itemName = document.getElementById(itemDomID).value;   
};

var mybook = new Item("book","bookText");       // new object. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:50:28.237

> 我有一个简单的函数构造函数，并希望将 DOM 元素 ID 分配给其中一个属性。在构造函数之外完成此操作时，您必须将 ID 放在引号中 IE getElementById("whatever");

元素 ID 是一个字符串，将字符串分配给对象属性不需要函数，只需一个赋值：

```
mybook.book = 'bookText'; 
```

使用变量传递值时，只需使用变量名即可。将评估表达式以返回值。构造函数应该是（注意对原始的更改）：

```
function Item(itemName, itemDomID){

    this[itemName] = document.getElementById(itemDomID);   

} 
```

请注意使用方括号将值分配给`itemName`新属性名称，而不是文字字符串“itemName”。

所以在调用构造函数时，可以传递字符串值：

```
var mybook = new Item('book', 'bookText'); 
```

这些值将按顺序分配给函数中的变量，因此`itemName`分配值“book”并`itemDomID`分配值“bookText”。

在构造函数中，新对象将被赋予一个名为“book”的属性，该属性的值是由返回的任何值`document.getElementById('bookText')`，这将是对元素的引用，或者`null`如果没有找到具有该 ID 的元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:37:10.597

```
document.getElementById(this.itemDomID); 
```

这将返回 javascript 对象。你可以使用喜欢

```
var refObj=document.getElementById(this.itemDomID); 
```

var objName=refObj.id;

# jquery - 回发后在 jquery 手风琴中保持特定状态

> ID：12634769
> 
> 赞同：0
> 
> 时间：2012-09-28T06:35:02.557
> 
> 标签：jquery, asp.net, jquery-ui, jquery-ui-accordion

在 ASP.NET 页面回发后单击 li 时，我遇到了保持活动手风琴打开的问题。

这是脚本：

```
$(document).ready(function () {
    $('#nav > li > a').click(function () {
        if ($(this).attr('class') != 'active') {
            $('#nav li ul').slideUp();
            $(this).next().slideToggle();
            $('#nav li a').removeClass('active');
            $(this).addClass('active');
        }
    });

}); 
```

这是标记：

```
 <ul id="nav">
                                <li><a href="#">Item 1</a>
                                    <ul>
                                        <li><a href="#">Sub-Item 1 a</a></li>
                                        <li><a href="#">Sub-Item 1 b</a></li>
                                        <li><a href="#">Sub-Item 1 c</a></li>
                                    </ul>
                                </li>
                                <li><a href="#">Item 2</a>
                                    <ul>
                                        <li><a href="#">Sub-Item 2 a</a></li>
                                        <li><a href="#">Sub-Item 2 b</a></li>
                                    </ul>
                                </li>
                                <li><a href="#">Item 3</a>
                                    <ul>
                                        <li><a href="#">Sub-Item 3 a</a></li>
                                        <li><a href="#">Sub-Item 3 b</a></li>
                                        <li><a href="#">Sub-Item 3 c</a></li>
                                        <li><a href="#">Sub-Item 3 d</a></li>
                                    </ul>
                                </li>
                                <li><a href="#">Item 4</a>
                                    <ul>
                                       <li><a href="Facilitysoft_masterdetails.aspx?view=1">Site Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=2">Phase Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=3">Block Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=4">Subblock Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=5">Floor Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=6">Flat Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=7">Issue Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=8">Gym/Swim Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=9">Stock Master</a></li>
                                            <li><a href="Facilitysoft_masterdetails.aspx?view=10">Clubhouse Master</a></li>
                                    </ul>
                                </li>
                            </ul> 
```

例如：当我单击“第 4 项”，然后单击“俱乐部主人”时，该特定 aspx 页面将在手风琴可折叠并需要保持该特定状态之后出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-23T07:28:19.343

我有类似的问题。即想在 GET 请求的情况下保存手风琴的状态。在我的主模板中，编写了页面切换案例

```
if (strPage.EndsWith("page1.aspx")
                || strPage.EndsWith("page2.aspx"))

                this.hdnfldtset.Value="ELS";
            else if (strPage.EndsWith("page3.aspx")                
                || strPage.EndsWith("page4.aspx")

                this.hdnfldtset.Value="CMS"; 
```

然后，在母版页的 javascript 中，读取此隐藏值并打开/关闭相应的手风琴部分。当您拥有的项目使用 GET 之类的页面时，这将起作用 simple 。我的申请就是这种情况。如果在您的情况下，它是回发，那么您可以使用隐藏字段通过 javascript 设置和检索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:41:39.517

这里的问题是，在回发之后，HTML 被渲染回其默认状态。在这种情况下，这相当于服务器记住的页面刷新。

所以你在这里的选择是在回发结束后触发的 endRequest 处理程序中处理这个。

```
$(function() {
     PostBack();

     Sys.WenForms.PageRequestManager.getInstance().add_endRequest(PostBack);
});

function PostBack(){
     // You need to save the state of the Accordion
     // just before the postback
     // and handle it here..
     // Maybe store it in a hiddenField 
     // and retrieve it to change the settings..
} 
```

# r - 如何在R中自定义y轴步长

> ID：12634778
> 
> 赞同：7
> 
> 时间：2012-09-28T06:35:34.060
> 
> 标签：r, statistics

我想绘制一个散点图，y 轴被自定义为 0.2 的步长，在 0 - 2.6 的范围内，并且可以自动定义 x 轴。我尝试了以下方法，但它不起作用。我可以知道如何正确设置参数吗？

* * *

```
# Read data
pt.n <- read.table("p0_n300m20r1c1_regression.txt", header=T)
# auto-scale
# plot(pt.n$maee~pt.n$idx, main="P2PSim Seq#1,300n,20%,1r,Corrective", ylab="MAEE", xlab="Seq #")

# customize
ylabel <- c(0.2, 0.4, 0.6, 0.8, 1.0, 1.2, 1.4, 1.6, 1.8, 2.0, 2.2, 2.4, 2.6)
y_range <- range(0, ylabel)
plot(pt.n$maee~pt.n$idx, main="P2PSim Seq#3,300n,20%,1r,Corrective", ylab="MAEE", xlab="Seq #", ylim=y_range, axes=FALSE, ann=FALSE)
axis(1, at=0:6, lab=c(0,50,100,150,200,250,300))
axis(2, las=1, at=0.2*0:y_range[1])
box() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T07:45:41.357

如果某些东西不工作，请检查没有做你想做的事情的每一点，以确保你提供了正确的数据并且没有发出嘘声。如果我们运行与轴相关的代码位

```
ylabel <- c(0.2, 0.4, 0.6, 0.8, 1.0, 1.2, 1.4, 1.6, 1.8, 2.0, 2.2, 2.4, 2.6)
y_range <- range(0, ylabel)
0.2*0:y_range[1] 
```

您会立即看到问题：

```
R> 0.2*0:y_range[1]
[1] 0 
```

你基本上是在告诉 R 在 0 处画一个勾号。即使你选择了正确的元素`y_range`（最大值在*第二个*元素中），你仍然不会得到正确的答案：

```
R> 0.2*0:y_range[2]
[1] 0.0 0.2 0.4
R> 0:y_range[2]
[1] 0 1 2 
```

那是因为`:`操作员的工作方式。调用 of`x:y`本质上是调用`seq(from = x, to = y, by = 1)`并且因为`2.6+1`大于`2.6`（`to`参数） R 创建了序列`0, 1, 2`。

如果要在 0 - 2.6 以 0.2 递增绘制刻度和标签，请使用：

```
ylabel <- seq(0, 2.6, by = 0.2)
axis(2, at = ylabel) 
```

现在`ylabel`包含：

```
R> ylabel
[1] 0.0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 
```

为了显示：

```
dat <- data.frame(y = runif(20, min = 0, max = 3),
                  x = rnorm(20))

plot(y ~ x, data = dat, axes = FALSE)
ylabel <- seq(0, 2.6, by = 0.2)
axis(1)
axis(2, at = ylabel, las = 1)
box() 
```

产生

![在此处输入图像描述](../Images/bb2c86db4e253064d5454d1597d62a3f.png)

# javascript - 使用 Google 地图获取路线问题

> ID：12634782
> 
> 赞同：0
> 
> 时间：2012-09-28T06:35:48.990
> 
> 标签：javascript, google-maps, driving-directions

我对此很陌生，问题是当您单击重置时方向面板不会消失以及如何使旅行模式选项起作用。谢谢 HTML 代码

```
<body onload="initialize()">
    <div id="container">
        <div id="directions">
            <table>
                <tr>
                    <td><b>Start: </td></b>
                    <td>
                        <select id="start">
                            <option value="6.517611, 3.385452">Main Gate</option>
                        </select>
                    </td>
                </tr>
                <tr>
                <td><b>End: </b></td>
                <td>
                    <select id="end" >
                        <option value=""><i>choose from list</i></option>
                        <option value="6.516177, 3.397873">Jaja Hall</option>
                        <option value="6.515228, 3.398034">Chemical Engineering Dept</option>
                        <option value="6.515546, 3.399022">Faculty of Sciences</option>
                    </select>
                </td>
        </tr>
    </table><br />
<td>
    <select id="mode" onchange="updateMode()">
        <option value="bicycling">Bicycling</option>
        <option value="driving">Driving</option>
        <option value="walking">Walking</option>
    </select>
</td>
<input type="button" value="Get Directions" onclick="calcRoute()" />
<input type="button" value="Reset" onclick="reset()" />
</div>
<div id="directionsPanel"></div></div>
<div id="map"></div>
</body> 
```

javascript代码：

```
var directionDisplay;
var directionsService = new google.maps.DirectionsService();
var map;
function initialize() {
directionsDisplay = new google.maps.DirectionsRenderer();
var latlng = new google.maps.LatLng(6.514885,3.393742);
var mapOptions = {
zoom:16,
mapTypeId: google.maps.MapTypeId.ROADMAP,
center: latlng
}
map = new google.maps.Map(document.getElementById('map'), mapOptions);
directionsDisplay.setMap(map);
directionsDisplay.setPanel(document.getElementById("directionsPanel"));
}
function calcRoute() {
var start = document.getElementById('start').value;
var end = document.getElementById('end').value;
var mode;
switch (document.getElementById("mode").value) {
case "bicycling":
mode = google.maps.DirectionsTravelMode.BICYCLING;
break;
case "driving":
mode = google.maps.DirectionsTravelMode.DRIVING;
break;
case "walking":
mode = google.maps.DirectionsTravelMode.WALKING;
break;
}
var request = {
origin:start,
destination:end,
travelMode: mode
};
directionsService.route(request, function(response, status) {
if (status == google.maps.DirectionsStatus.OK) {
directionsDisplay.setDirections(response);
}
});
}
function updateMode() {
if (directionsVisible) {
calcRoute();
}
}
function clearMarkers() {
directionsDisplay = new google.maps.DirectionsRenderer();
var latlng = new google.maps.LatLng(6.514885,3.393742);
var mapOptions = {
zoom:16,
mapTypeId: google.maps.MapTypeId.ROADMAP,
center: latlng
}
map = new google.maps.Map(document.getElementById('map'), mapOptions);
end_loc = document.getElementById('end')
end_loc.value = ""
} 
function reset() {
clearMarkers();
directionsDisplay.setMap(null);
directionsDisplay.setPanel(null);
directionsDisplay = new google.maps.DirectionsRenderer();
directionsDisplay.setMap(map);
directionsDisplay.setPanel(document.getElementById("directionsPanel"));    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:53:23.583

@user1704833，重置按钮清除方向面板。那是你要找的吗？

```
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Google Maps JavaScript API v3 Example: Directions Simple</title>

    <script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script>
      var directionDisplay;
      var directionsService = new google.maps.DirectionsService();
      var map;

      function initialize() {
        directionsDisplay = new google.maps.DirectionsRenderer();
        var latlng = new google.maps.LatLng(6.514885,3.393742);
        var mapOptions = {
          zoom:7,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          center: latlng
        }
        map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
        directionsDisplay.setMap(map);
        directionsDisplay.setPanel(document.getElementById("directionsPanel"));
      }

      function calcRoute() {
        var start = document.getElementById('start').value;
        var end = document.getElementById('end').value;
        var mode;

        switch ( document.getElementById("mode").value)
        {
          case 'bicycling' :
            mode = google.maps.DirectionsTravelMode.BICYCLING;
            break;
          case 'driving':
            mode = google.maps.DirectionsTravelMode.DRIVING;
            break;
          case 'walking':
            mode = google.maps.DirectionsTravelMode.WALKING;
            break;
        }
        var request = {
            origin:start,
            destination:end,
            travelMode: mode
        };
        directionsService.route(request, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {
            directionsDisplay.setDirections(response);
          }
        });
      }

       function updateMode() {
             calcRoute();
        }

        function clearMarkers() {
          directionsDisplay = new google.maps.DirectionsRenderer();
          var latlng = new google.maps.LatLng(6.517611, 3.385452);
          var mapOptions = {
          zoom:16,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          center: latlng
        }
        map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
        document.getElementById('end').value = "";
        }

        function reset() {
          //clearMarkers();
          directionsDisplay.setMap(null);
          directionsDisplay.setPanel(null);
          directionsDisplay = new google.maps.DirectionsRenderer();
          directionsDisplay.setMap(map);
          directionsDisplay.setPanel(document.getElementById("directionsPanel")); 

        }
    </script>
  </head>
  <body onload="initialize()">
    <div>
    <b>Start: </b>
    <select id="start">
        <option value="6.517611, 3.385452">Main Gate</option>
    </select>
    <b>End: </b>
    <select id="end" >
        <option value="6.516177, 3.397873">Jaja Hall</option>
        <option value="6.515228, 3.398034">Chemical Engineering Dept</option>
        <option value="6.515546, 3.399022">Faculty of Sciences</option>
    </select>
    <select id="mode" onchange="updateMode()">
            <option value="bicycling">Bicycling</option>
            <option value="driving">Driving</option>
            <option value="walking">Walking</option>
        </select>
    <input type="button" value="Update" onclick="updateMode()" />
    <input type="button" value="Reset" onclick="reset()" />
    </div>
    <div id="directionsPanel" style="width:300px;  position:absolute; margin-left:550px; top:30px;">Direction panel</div>
    <div id="map_canvas" style="width:500px;  height:500px; top:30px;"></div>

  </body>
</html> 
```

# linux - 期待脚本。使用 [ send "wait" ] 后事情变得很奇怪

> ID：12634787
> 
> 赞同：0
> 
> 时间：2012-09-28T06:36:29.457
> 
> 标签：linux, tcl, expect

大家好

我刚刚找到了导致这些奇怪事情的原因。这是命令：***发送“等待”***

我写了一些脚本来测试它。

```
proc Login {pass} {
# send the password
}

proc Wait {} {
    expect "*]$*"
    sleep 1
}

proc sendl {message} {
    send "$message\r"
}

spawn ssh xxxxx.xxx.xxx
Login xxxxxxxx
Wait

sendl "cd /somepath/"
Wait
sendl "expect infiniteLoop.exp >/dev/null &"
Wait
***sendl "wait"***
Wait

sendl "TESTTEST"
Wait
sendl "HAHAHA"
Wait
sendl "DONEDONEDONE"
Wait 
```

它应该在该行之后被卡住：***sendl“wait”***

但结果是：

```
[xxx@xxxxx.xxx ~]$ cd /somepath/
[xxx@xxxxx.xxx folder]$ expect infiniteLoop.exp >/dev/null &
[1] 27260
[xxx@xxxxx.xxx folder]$ wait
TESTTEST
HAHAHA
DONEDONEDONE
[xxx@xxxxx.xxx folder]$ 
```

shell还在等待，但是后续的命令已经一一发出，没有任何反应。该行之后的所有期望命令似乎都是无效的。然后脚本就完成了。

我不知道这里发生了什么。什么原因导致期望命令无效？命令“wait”似乎不是一个程序（我不能使用“whereis wait”找到它）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T03:44:46.307

```
[xxx@xxxxx.xxx folder]$ wait
TESTTEST
HAHAHA
DONEDONEDONE 
```

这种输出很可能是expect timeout造成的。

我不确定infiniteLoop.exp 在做什么。如果它实际上是一个无限循环（或需要很长时间），则以下`wait`shell 命令将始终等待，因为 process(infiniteLoop.exp) 永远不会终止。

因此，以下`Wait()`proc 调用最终将在每 10 秒后超时（10 秒是预期的默认超时），脚本将继续如下：

```
sendl "TESTTEST"  (send message to spawned process)  
Wait  (process still waiting for infiniteLoop.exp, timeout after 10s.)  
sendl "HAHAHA"  (continue to send message)  
Wait  (process still waiting for infiniteLoop.exp, timeout after 10s.)  
sendl "DONEDONEDONE"  (continue to send message) 
```

当 Expect 脚本没有按预期调整时，我总是做两件事：

*   第一个是手动运行程序以检查是否有问题。

*   第二个是添加**-d**选项以打开调试消息（例如：）`expect -d hello.exp`。如果您看到类似“expect: timed out”的内容，那么之前的模式可能无法匹配。

顺便说一句，您可以添加一点检查以指示超时情况

```
proc Wait {} {
    expect {
        "$" {}
        timeout {send_user "expect timeout\n"}
    }
    sleep 1
} 
```

# android - 项目目标（android 2.2）未正确加载

> ID：12634791
> 
> 赞同：1
> 
> 时间：2012-09-28T06:36:40.687
> 
> 标签：android, eclipse

嗨，我必须在我的 Eclipse 上创建一个新的 android 项目意味着出现以下错误。我该如何解决这个问题。请帮助我。这里我必须更改布局文件意味着不显示图形布局。它显示在错误下方。gen文件不会在此处自动创建。

错误是显示图形布局文件：

**项目目标（android 2.2）未正确加载**

此错误显示在我的控制台窗口上：

```
2012-09-28 12:00:33 - XcartAdmin] Android Launch!
   [2012-09-28 12:00:33 - XcartAdmin] adb is running normally.
   [2012-09-28 12:00:33 - XcartAdmin] Could not find XcartAdmin.apk! 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:58:07.297

这背后有几个可能的原因。

1.  您可以以管理员身份运行 eclipse（只需右键单击 eclipse - 以管理员身份运行）

2.  转到窗口 --> 首选项并检查 android (在你的情况下最新版本应该是 2.2) 是否存在

3.  选择您的项目->右键单击>源代码>格式（之后清理您的项目）

# jquery - href 链接不会在 Jquery Mobile 中 $.mobile.changePage 上的锚标记中附加运行时

> ID：12634799
> 
> 赞同：0
> 
> 时间：2012-09-28T06:37:06.007
> 
> 标签：jquery, html, jquery-mobile

我是 jquery mobile 的新手，使用 phonegap 在 iphone 中开发应用程序，我正在使用以下方法将一个页面重定向到另一个页面：

```
$.mobile.changePage('restaurant_detail.html?iInfoId='+ this.id + ext_link+'&type='+type, {transition: "slide"}); 
```

在“restaurant_detail.html”页面上，在页面显示事件上附加页脚选项卡链接，但它不在选项卡链接中附加链接 href 属性：

```
$('#restaurant_detail').live('pageshow',function(event){ $('#f_order').attr('href','order_history.html');}); 
```

```
<a href="#" class="footer_button" rel="external" data-role="none" id="f_order">
    <img src="img/footer_icon_order.png" alt=""/>
    <span>Order History</span>
</a> 
```

请给出答案，提前谢谢。

在 restaurant.js 页面代码：

```
$('.restaurant_item').live("click",function(){
    $.mobile.changePage('restaurant_detail.html?iInfoId='+ this.id + ext_link+'&type='+type, {transition: "slide"});    
}); 
```

在这里重定向 restaurant_detail.js

```
$('#restaurant_detail').on('pageshow',function(event){
if(event.handled !== true){
   if(sesObj.get('sess_iUserId') == null){
        $('#f_order').attr('href','register.html?type=order');      
   }else{
        $('#f_order').attr('href','order_history.html');
   }
    event.handled = true;       
}
return false;   
}); 
```

restaurant_detail.html

```
<div data-role="footer" class="footer" data-position="fixed">
  <div class="footer-container">        
    <a href="#" class="footer_button" rel="external" data-role="none" id="f_order">
        <img src="img/footer_icon_order.png" alt=""/>
        <span>Order History</span>
    </a>        
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:48:50.890

jQuery 的`live()`方法已被弃用，应该避免使用它。改用该`on()`方法并将事件处理程序委托给正文或文档，即：

```
$(document).on("pageshow", "#restaurant_detail", function() {
    $('#f_order').attr('href','order_history.html');
}); 
```

# jquery - 如何使用 jquery 检查带有值的单选按钮列表

> ID：12634804
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:37:20.563
> 
> 标签：jquery, radiobuttonlist

我有单选按钮列表和一个带有以下代码的文本框：

```
 <asp:RadioButtonList ID="RadioButtonList" runat="server" RepeatDirection="Horizontal">
   <asp:ListItem Text="Enabled" Value="1"></asp:ListItem>
   <asp:ListItem Text="Disabled" Value="2"></asp:ListItem>
   </asp:RadioButtonList>

   <asp:TextBox ID="enable" runat="server" value="Enabled"></asp:TextBox> 
```

现在我希望选择/检查单选按钮列表中的第一个列表，但 mu jquery 代码不起作用。任何人都可以帮助我吗？我写我的jQuery代码如下：

```
 if($('#<%= enable.ClientID %>').val()=="Enabled")
        $('#<%= RadioButtonList.ClientID %>').val(1);
   else($('#<%= enable.ClientID %>').val()=="Disabled")
        $('#<%= RadioButtonList.ClientID %>').val(2); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:43:00.953

试试这个

```
if($('#<%= enable.ClientID %>').val()=="Enable")
        $('#<%= roleDropDownList.ClientID %> input[value="1"]').attr('checked','checked'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:46:29.877

.val 是一种方法，而不是一种属性..

正确的语法是**.val()**

看起来您的 RadioButtonList id 也是**RadioButtonList** ..

但是您正在尝试选择 $('#<%= roleDropDownList.ClientID %>')

```
 if($('[id*=enable]').val() == "Enabled"){
        $('[id*=RadioButtonList] :radio[value="1"] ').prop('checked', true);
} 
```

**更新代码**

```
$(function() {
    $('#<%= enable.ClientID %>').on('change', function() {
        var val = $(' #<%=  enable.ClientID %> ').val();
        if (val == "Enabled") {
          $('#<%=RadioButtonList.ClientID%> :radio[value="1"]').prop('checked', true);
        }
        else if( val == "Dnabled" ) {
          $('#<%=RadioButtonList.ClientID%> :radio[value="2"]').prop('checked', true);
        }
    }).change();
}); 
```

[检查演示](http://jsfiddle.net/sushanth009/vsssY/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:44:28.403

试试这个

```
 var set_value=2;
  $('#RadioButtonList').filter("[value='"+set_value+"']").attr("checked","checked"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T06:45:21.467

试试这个方法

```
$('#<%= enable.ClientID %> input').click(function() {
    alert('Selected Value: '+$("#<%= enable.ClientID %> input:radio:checked").val());
}); 
```

# node.js - Node.js：REPL 中的要求？

> ID：12634809
> 
> 赞同：1
> 
> 时间：2012-09-28T06:37:59.507
> 
> 标签：node.js

为什么 REPL 中的 require 不使用主上下文中的缓存并再次需要文件？

示例：test.js：

```
var repl = require('repl');
global.a = require('./a');
repl.start({
  prompt: "node via stdin> ",
  input: process.stdin,
  output: process.stdout
}); 
```

一个.js

```
console.log(1) 
```

我开始 test.js：

```
node test.js 
```

它打印“1”

当我在 REPL 中打印“require('./a')”时：

```
node via stdin> var aInREPL = require('./a') 
```

它再次打印“1”，因此 global.a !== aInREPL

但有时我需要在 REPL 中获取与主程序中相同的对象（例如 Singletone）。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T02:26:07.707

将所需的代码（对象、函数、..）添加到 REPL 的上下文中：

```
var repl = require('repl');
repl.start({
  prompt: "node via stdin> ",
  input: process.stdin,
  output: process.stdout
}).context.a = require('./a.js'); 
```

现在它只会打印 1 一次 =) 或将全局添加到 REPL 的上下文中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-30T14:29:07.860

开箱即用的 REPL 在不同的上下文中运行（有关详细信息，请参阅[repl.start](http://www.nodejs.org/api/repl.html#repl_repl_start_options)函数）。

基本上，您有两个选项可以与新启动的 REPL 共享您的全局上下文：

*   您可以`useGlobal: true`在对 的调用中提供该选项`start`。
*   您可以将外部对象附加到 REPL 的`context`属性。

首选哪种方式取决于您要实现的目标：您想分享*任何东西*，然后选择`useGlobal`。如果您只想共享选定的对象，请使用该`context`属性并仅分配您要共享的那些对象（请参阅 Scott 的帖子以获取示例）。

# java - Java - 从字符串中提取 html 信息

> ID：12634811
> 
> 赞同：1
> 
> 时间：2012-09-28T06:38:06.700
> 
> 标签：java, html, string, tags, extract

那里的所有指南都告诉我如何从文本中删除 HTML 标签以提取它们之间的文本。我所追求的是提取 HTML 标记内的数据。

例如

如果我有一个字符串：

```
 "<FONT SIZE="5">Hello World</FONT>" 
```

我想获取字体大小信息来更新其他变量。我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T06:47:24.553

为此，我已经多次使用[jsoup 。](http://jsoup.org/)这是一个宽松的 HTML 解析器。当心尝试将其解析为“标准”XML，因为 XML 解析本质上是严格的，如果页面不符合 XML 标记规范（很少有 HTML 页面这样做），则会失败。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:42:42.357

您可以通过使用用于 HTML 解析的可用 Java 库之一来解决此问题，例如[TagSoup](http://ccil.org/~cowan/XML/tagsoup)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:42:43.840

您可以使用像[jerichoHTML](http://jericho.htmlparser.net/docs/index.html)这样的库，它使您能够搜索 HTML 标签及其属性，或者您自己构建一些 DOM。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-28T06:41:53.340

看看这个： [http](http://en.wikipedia.org/wiki/Java_API_for_XML_Processing) ://en.wikipedia.org/wiki/Java_API_for_XML_Processing 如果您解析 HTML，您应该能够从 DOM 树中提取值。

# lua - Corona SDK 中的应用内购买

> ID：12634822
> 
> 赞同：0
> 
> 时间：2012-09-28T06:38:46.617
> 
> 标签：lua, coronasdk

我想在我的应用中实现应用内购买。你能给我一个链接或教程，我可以从中获得帮助。我不知道它是如何工作的..提前谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-29T20:07:33.063

您绝对应该咨询 Corona 开发者门户。如果它在 Corona SDK 中，可能会在其中记录。

Android 应用内结算最近出现在他们的开发博客中：[Android 应用内结算入门](http://www.coronalabs.com/blog/2012/03/13/getting-started-with-android-in-app-billing/)。对于 Apple iTunes Store，您可能需要查看他们对[使用 Apple iTunes Store 进行应用内购买](http://developer.coronalabs.com/reference/in-app-purchases)的参考。他们在社区论坛上也有专门针对应用内购买的部分，您可能会觉得这很有用。

您也应该看看 Stack Overflow 指南。通过正确地提出问题，您不仅会减少问题被否决或关闭的机会，而且您更有可能得到正确的有用答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T12:32:09.590

看到电晕开发者网站上有一个关于 inApp 购买的演示，请查看这个[http://developer.coronalabs.com/sample-code/in-app-demo](http://developer.coronalabs.com/sample-code/in-app-demo)

# jpa - 如何将@Unique 应用于继承的字段

> ID：12634825
> 
> 赞同：0
> 
> 时间：2012-09-28T06:39:07.570
> 
> 标签：jpa

是否可以仅使用注释将继承的字段在继承类中标记为唯一？对我来说，钟摆更偏向 NO 一侧，但想确认

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T01:47:26.637

您可以使用注释的`uniqueConstraints`属性：`@Table`

```
@Table(uniqueConstraints = {@UniqueConstraint(columnNames = {"thecolumn"})}) 
```

请注意，如果您没有使用 SINGLE_TABLE 继承策略的多个实体，这只会对您有用。

# android - 如何在两个文本视图之间添加滚动视图

> ID：12634826
> 
> 赞同：0
> 
> 时间：2012-09-28T06:39:16.347
> 
> 标签：android, android-layout

我的代码如下所示：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#000000"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/title"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:src="@drawable/title"
        android:contentDescription="@string/title_name" />
    <TextView 
        android:id="@+id/space"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"/>

    <ScrollView android:id="@+id/scroll_view1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

    <LinearLayout 
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="#000000"
        android:orientation="vertical">

     ---------
     ---------
</LinearLayout>

    </ScrollView>

    <TextView 
        android:id="@+id/space10"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"/>

    <TextView 
        android:id="@+id/copyright"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/copyright_text"
        android:textColor="#ffffff"/>

</LinearLayout> 
```

这里我可以在scrollview之前看到上面的textview和imageview，但在scrollview之后看不到底部的textview。我的代码有什么错误吗？请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:44:13.910

试试这个

```
<ImageView
    android:id="@+id/title"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:src="@drawable/title"
    android:contentDescription="@string/title_name" />
<TextView 
    android:id="@+id/space"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
   />

<ScrollView android:id="@+id/scroll_view1"
    android:layout_width="match_parent"
    android:layout_height="0dp"
    android:layout_weight="1.0">

<LinearLayout 
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="#000000"
    android:orientation="vertical">

     ---------
     ---------
</LinearLayout>

</ScrollView>

<TextView 
    android:id="@+id/space10"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"/>

<TextView 
    android:id="@+id/copyright"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/copyright_text"
    android:textColor="#ffffff"/> 
```

希望能帮助到你...！！！

# java - 使用 app 发送多个 shell 命令

> ID：12634828
> 
> 赞同：0
> 
> 时间：2012-09-28T06:39:42.203
> 
> 标签：java, android, shell, command

好的，我正在学习 shell 命令的工作原理，所以我决定开发一个应用程序来发送命令。这就是我得到的。

```
moveDirectory.setOnClickListener(new OnClickListener(){
    public void onClick(View v)
    {
        try{
            Process send = Runtime.getRunetime().exec(new String[] {"cd /sdcard/music/", "cp pic1 /sdcard/pic1"});
            send.waitFor();
        } catch (Exception ex){
            String toast = null;
            Log.i(toast, "Couldn't copy file", ex);
            }
        }
    }); 
```

但它不工作，第一个命令工作，但不是第二个。我应该添加什么？

谢谢

编辑：忘记添加 send.waitFor(); 线

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:49:22.947

使用普通命令分隔符`;`

```
moveDirectory.setOnClickListener(new OnClickListener(){
    public void onClick(View v)
    {
        try{
            Process send = Runtime.getRunetime().exec(new String[] {"cd /sdcard/music/ ; cp pic1 /sdcard/pic1"});
        } catch (Exception ex){
            String toast = null;
            Log.i(toast, "Couldn't copy file", ex);
            }
        }
    }); 
```

在此代码中，您
1）转到`/sdcard/music`
2）从复制`/sdcard/music` `pic1`到`/sdcard/pic1`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:52:12.213

我在推测，但您可能误解了 exec 的参数到底是什么。它不是要执行的命令列表（实际上是批处理/shell 脚本），而是带有要由 shell 执行的参数的单个命令。像 Pepelac 建议的那样使其成为单行命令，或者将一系列命令放入稍后使用 exec 执行的单个文件中，这可能是您想要的。对于您尝试执行的命令，绝对没有理由不能使其成为包含完整源路径的单行代码（而不是更改为它），但可能还有其他原因需要您这样做你没有提到。

# c# - 如何填充 GridView 中的选定列并从后面的代码更新？

> ID：12634833
> 
> 赞同：0
> 
> 时间：2012-09-28T06:39:54.453
> 
> 标签：c#, asp.net, gridview

我有一个`GridView1`，我从后面的代码绑定。中的一列`GridView`取决于`Label1.Text`如下：

```
SqlCommand comd = new SqlCommand("SELECT Location_Profile_Name, " + Label1.Text + " FROM Home_Profile_Master", con);
SqlDataAdapter da = new SqlDataAdapter(comd);
DataTable dt = new DataTable();
da.Fill(dt);
GridView1.DataSource = dt;
GridView1.DataBind(); 
```

同样的aspx代码是：

```
<asp:TemplateField HeaderText="Location_Profile_Name" 
SortExpression="Location_Profile_Name">
<ItemTemplate>
<asp:Label ID="Label1" runat="server" 
Text='<%# Bind("Location_Profile_Name") %>'></asp:Label>
</ItemTemplate>
</asp:TemplateField>
<asp:TemplateField HeaderText="Home_Profile" SortExpression="Label10">
<ItemTemplate>
<asp:Label ID="Label2" runat="server" Text='<%# Bind("Home_Profile") %>'></asp:Label>
</ItemTemplate>
<EditItemTemplate>
<asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("Home_Profile") %>'></asp:TextBox>
</EditItemTemplate>
</asp:TemplateField> 
```

我在 aspx 页面中收到错误消息：**DataBinding: 'System.Data.DataRowView' does not contain a property with name 'Home_Profile'**。

我无法弄清楚错误是什么。请帮助...！谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:42:45.773

你应该在数据表中有 Home_Profile 列试试这个

```
 SqlCommand comd = new SqlCommand("SELECT Location_Profile_Name,Home_Profile, " + Label1.Text + " FROM Home_Profile_Master", con); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:44:10.967

您在查询中错过了“Home_Profile”。

```
SqlCommand comd = new SqlCommand("SELECT Location_Profile_Name," + Label1.Text + " as Home_Profile FROM Home_Profile_Master", con); 
```

# silverlight - 在 SharePoint Online (O365) 中使用 Silverlight Webpart 的媒体元素中的视频流

> ID：12634836
> 
> 赞同：0
> 
> 时间：2012-09-28T06:40:02.357
> 
> 标签：silverlight, sharepoint-2010, video-streaming

我创建了一个项目，它使用媒体元素在 Silverlight 中播放来自 Windows azure 的视频。我已经创建了项目的 .xap 并嵌入到 Sharepoint 在线的 silverlight webpart 中。我发现除了视频流之外一切正常 如何在 Sharepoint 在线的 silverlight webpart 中流式传输视频？提前致谢。斯里塔尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T14:20:15.320

[http://technet.microsoft.com/en-us/library/ee414275.aspx](http://technet.microsoft.com/en-us/library/ee414275.aspx)

说“SharePoint Server 2010 不支持实时流式传输音频或视频内容。”

# performance - GCC C99 中指针的严格别名示例，没有性能差异

> ID：12634844
> 
> 赞同：2
> 
> 时间：2012-09-28T06:40:43.527
> 
> 标签：performance, gcc, c99, pointer-aliasing

我试图了解严格混叠对 C99 性能的影响。我的目标是优化矢量点积，这在我的程序中占用了大量时间（分析它！）。我认为混叠可能是问题所在，但以下代码并未显示标准方法和严格混叠版本之间的任何实质性差异，即使向量大小为 1 亿。我还尝试使用局部变量来避免别名，结果相似。

发生了什么？

我在 OSX 10.7.4 上使用 gcc-4.7。结果以微秒为单位。

```
$ /usr/local/bin/gcc-4.7 -fstrict-aliasing -Wall -std=c99 -O3 -o restrict restrict.c
$ ./restrict
sum:    100000000   69542
sum2:   100000000   70432
sum3:   100000000   70372
sum4:   100000000   69891
$ /usr/local/bin/gcc-4.7 -Wall -std=c99 -O0 -fno-strict-aliasing -o restrict restrict.c
$ ./restrict
sum:    100000000   258487
sum2:   100000000   261349
sum3:   100000000   258829
sum4:   100000000   258129 
```

restrict.c（注意此代码将需要数百 MB RAM）：

```
#include <stdlib.h>
#include <stdio.h>
#include <time.h>
#include <sys/time.h>
#include <unistd.h>

/* original */
long sum(int *x, int *y, int n)
{
   long i, s = 0;

   for(i = 0 ; i < n ; i++)
      s += x[i] * y[i];

   return s;
}

/* restrict */
long sum2(int *restrict x, int *restrict y, int n)
{
   long i, s = 0;

   for(i = 0 ; i < n ; i++)
      s += x[i] * y[i];

   return s;
}

/* local restrict */
long sum3(int *x, int *y, int n)
{
   int *restrict xr = x;
   int *restrict yr = y;
   long i, s = 0;

   for(i = 0 ; i < n ; i++)
      s += xr[i] * yr[i];

   return s;
}

/* use local variables */
long sum4(int *x, int *y, int n)
{
   int xr, yr;
   long i, s = 0;

   for(i = 0 ; i < n ; i++)
   {
      xr = x[i];
      yr = y[i];
      s += xr * yr;
   }

   return s;
}

int main(void)
{
   struct timeval tp1, tp2;
   struct timezone tzp;

   long i, n = 1e8L, s;
   int *x = malloc(sizeof(int) * n);
   int *y = malloc(sizeof(int) * n);
   long elapsed1;

   for(i = 0 ; i < n ; i++)
      x[i] = y[i] = 1;

   gettimeofday(&tp1, &tzp);
   s = sum(x, y, n);
   gettimeofday(&tp2, &tzp);
   elapsed1 = (tp2.tv_sec - tp1.tv_sec) * 1e6
      + (tp2.tv_usec - tp1.tv_usec);
   printf("sum:\t%ld\t%ld\n", s, elapsed1);

   gettimeofday(&tp1, &tzp);
   s = sum2(x, y, n);
   gettimeofday(&tp2, &tzp);
   elapsed1 = (tp2.tv_sec - tp1.tv_sec) * 1e6
      + (tp2.tv_usec - tp1.tv_usec);
   printf("sum2:\t%ld\t%ld\n", s, elapsed1);

   gettimeofday(&tp1, &tzp);
   s = sum3(x, y, n);
   gettimeofday(&tp2, &tzp);
   elapsed1 = (tp2.tv_sec - tp1.tv_sec) * 1e6
      + (tp2.tv_usec - tp1.tv_usec);
   printf("sum3:\t%ld\t%ld\n", s, elapsed1);

   gettimeofday(&tp1, &tzp);
   s = sum3(x, y, n);
   gettimeofday(&tp2, &tzp);
   elapsed1 = (tp2.tv_sec - tp1.tv_sec) * 1e6
      + (tp2.tv_usec - tp1.tv_usec);
   printf("sum4:\t%ld\t%ld\n", s, elapsed1);

   return EXIT_SUCCESS;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:55:21.580

袖口：

*   如果没有严格的别名规则，编译器***可能会***简单地生成优化的代码，这些代码会做一些与预期不同的事情。

*   禁用严格的别名规则不会导致代码更快。

*   如果是这样，那么优化的代码实际上*显示*不同的结果***也不是必然的。***这在很大程度上取决于实际的数据访问模式，通常甚至取决于处理器/缓存架构。

 ****关于***您的示例代码，我会说别名是***无关紧要***的（至少对于发出的代码），因为`sumXXX`函数内的数组元素永远不会有任何写访问权限。

（如果您两次传递相同的向量，您可能会获得稍微更好的性能（或相反）。热缓存和较小的缓存占用空间可能会带来好处。冗余负载可能会导致预取预测器偏离轨道。与往常一样：***使用分析器***）*

# objective-c - NSInputStream 读取：maxlength：返回的字节数比 maxlength 多

> ID：12634846
> 
> 赞同：0
> 
> 时间：2012-09-28T06:40:47.140
> 
> 标签：objective-c, ios, tcp, nsinputstream

我有一个 iOS 应用程序，我在其中使用 NSInputStream（基于 CFReadStreamRef）从网络套接字读取。我不断从服务器获取数据，并不断读取和处理它（使用**read:bytesBuffer maxLength:l**）。前几次它运行良好，但在大约第 20-25 次读取时，此方法报告它读取了大量字节，例如，当我真正要求最大**1-3MBytes****时，它读取了****4,294,967,295**字节。这很奇怪，似乎是 NSInputStream/CFReadStream API 中的一个错误。

 **我的应用程序最终崩溃，因为它试图将所有这些字节加载到一个没有为返回的字节数分配的缓冲区中（并且服务器首先没有返回这么多字节！）

有没有人遇到过这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T07:00:36.147

from 的返回值`read:maxLength:`是一个`NSInteger`失败的负数。您可能正在将其转换为无符号整数类型，这会将负数转换为巨大的正数。**

# python - 如何逐行将字符串输入到pyparsing？

> ID：12634847
> 
> 赞同：4
> 
> 时间：2012-09-28T06:40:52.983
> 
> 标签：python, pyparsing

当我想使用 pyparsing 解析大文件时遇到这个问题。我已经为整个文件创建了 pyparsing 语法。但我不确定如何通过读取这个大文件将字符串逐行输入到解析器。目前我正在使用如下方法：

```
pyparsingGrammer = some pyparsing grammar I created
PyparsingGrammar.parseString(open(filename).read()) 
```

除了 big 的内存使用情况外`read()`，我进行换行的另一个动机是将我的解析器扩展到实时情况，在这种情况下，信息一行接一行地馈送到解析器。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T06:46:08.690

你可以这样做：

```
with open(filename) as f:
     for line in f:
         PyparsingGrammar.parseString(line) 
```

完成后，使用关键字会`with`自动关闭文件，并为您提供处理的句柄。

```
for x in something:
    do_something 
```

是遍历可迭代对象的标准方法（可以迭代的东西，例如：`list, tuple, dictionary`在 Python 中。

我忘了提，但我想你已经明白了：
当你在 Python 中打开一个文件时，`with open(filename) as f`你会得到一个`list`列表中的每一行都是一个项目的地方。这就是为什么您可以将`f`其视为迭代器。

# c# - ASP MVC 在视图中动态输出模型

> ID：12634849
> 
> 赞同：0
> 
> 时间：2012-09-28T06:40:56.490
> 
> 标签：c#, asp.net-mvc

我目前有一些页面包装了一些第 3 方 API 调用并将结果显示在表格中。

结果视图始终相同，遍历自定义类的属性并以表格形式显示值

```
@if (Model.Response.items != null && Model.Response.items.Length > 0)
{
    foreach (var item in Model.Response.items)
    {
        <tr>
            <td width="200px">Reference</td>
            <td>@item.Reference</td>
        </tr>
        <tr>
            <td>Amount</td>
            <td>@item.Amount</td>
        </tr>
    }
} 
```

此“响应”对象是从 XML 响应生成的，并且可以包含多个嵌套属性。
在我看来，是否可以反思性地迭代所有公共属性的对象并将它们显示在表格中以节省我将来的时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:45:29.660

使用反射 ( `@using System.Reflection;`)。

```
 foreach (var property in item.GetType().GetProperties(BindingFlags.Public))
        {
            // property.Name
            // property.GetValue(...)
        } 
```

# emacs - 如何通过编辑文件的当前名称来重命名文件？

> ID：12634850
> 
> 赞同：3
> 
> 时间：2012-09-28T06:41:05.477
> 
> 标签：emacs, elisp

例如：我有一个文件`longest_substring_no_repeating_chars.cc`. 有一天我想把它重命名为`longest_substr_no_repeating_chars.cc`. 如何通过编辑旧名称来做到这一点？或者有什么方便的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T07:15:36.353

假设您要重命名当前正在编辑的文件，您可以定义如下函数：

```
(defun rename-file-and-buffer ()
  "Renames current buffer and file it is visiting."
  (interactive)
  (let ((name (buffer-name))
        (filename (buffer-file-name)))
    (if (not (and filename (file-exists-p filename)))
        (message "Buffer '%s' is not visiting a file!" name)
      (let ((new-name (read-file-name "New name: " filename)))
        (cond ((get-buffer new-name)
               (message "A buffer named '%s' already exists!" new-name))
              (t
               (rename-file name new-name 1)
               (rename-buffer new-name)
               (set-visited-file-name new-name)
               (set-buffer-modified-p nil))))))) 
```

你可以将它绑定到一个键组合，比如`C-c r`

```
(global-set-key (kbd "C-c r") 'rename-file-and-buffer) 
```

否则，@Oleg 的使用建议`dired`是一个不错的选择。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T06:57:46.763

您可以在 dired 模式下执行此操作。`R`快捷方式调用 dired-do-rename ，您可以在其中按`down`以取回旧名称。

如果你使用 dired-x 会更容易，只需添加到你的 init 文件中。

```
(require 'dired-x) 
```

然后您可以按`C-x C-j R` 需要进行编辑，然后 `q`返回缓冲区。

另一种可能：`M-x wdired-change-to-wdired-mode`。在此模式下，您可以直接编辑文件。`C-c C-c`当您想要提交更改或 `C-c ESC`取消更改时按下。

# android - 如何在任何一个活动中每秒更新标题布局文本并在所有屏幕中显示？

> ID：12634852
> 
> 赞同：4
> 
> 时间：2012-09-28T06:41:33.247
> 
> 标签：android, textview

**header.xml**

```
<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >
        <TextView
            android:id="@+id/txtTime"               
            android:layout_width="0dip"
            android:layout_height="fill_parent"
            android:layout_marginRight="10dp"
            android:layout_weight="1"
            android:gravity="right" />
    </LinearLayout> 
```

* * *

我添加`header.xml`了我所有的屏幕布局......

```
 <include
        android:id="@+id/top_header"
        layout="@layout/header" /> 
```

现在我想`timer`在文本标题中开始并设置剩余秒数的文本`txtTime`......所以我为倒数计时器编写代码并将`textview`所有屏幕显示时间设置为`textview`..

有人可以建议我只设置一个屏幕的文本并在所有屏幕上显示吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T08:52:52.153

请尝试以下代码。它将解决您的问题。

请按照以下步骤操作。

```
1) Make one BaseActivity Class.
2) Make One MainActivity Class and extend BaseActivity.
3) Make another SecondActivity class and extend BaseActivity. 
```

在这里，我发布了您需要的所有课程。

**我在 BaseActivity 做什么？**

> 我创建了一个名为 MyCount 的 Countdown Timer 类，它将显示剩余时间。我创建了一个默认设置为 false 的布尔标志。因此，当用户调用 BaseActivity 的 setHeading() 函数时，它将检查 falg 是否为假，然后启动计时器，如果为真，则再次设置计时器并再次启动。

## 基本活动

```
import android.app.Activity;
import android.os.Bundle;
import android.os.CountDownTimer;
import android.widget.TextView;

public abstract class BaseActivity extends Activity
{
    private TextView textView = null;
    public static MyCount counter = null; 
    private static boolean flag = false;
    private static long millisUntilFinishedVariable = 0;

    @Override
    protected void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);

    }

    protected void setHeading(String message) 
    {
        if(textView == null)
        {
            textView = (TextView)findViewById(R.id.textView);
            if(textView != null)
                textView.setText(message);

            if(flag == false)
            {
                counter = new MyCount(30000, 1000);
                counter.start();
            }
            else
            {
                            counter.cancel();
                counter = new MyCount(millisUntilFinishedVariable, 1000);
                counter.start();
            }
        }
    }

    // countdowntimer is an abstract class, so extend it and fill in methods
    public class MyCount extends CountDownTimer
    {

        public MyCount(long millisInFuture, long countDownInterval) 
        {
            super(millisInFuture, countDownInterval);
        }

        @Override
        public void onFinish() 
        {
            textView.setText("done!");   //TextView object should be defined in onCreate
            flag = false;
        }

        @Override
        public void onTick(long millisUntilFinished) 
        {
            millisUntilFinishedVariable = millisUntilFinished;
            flag = true;
            textView.setText("Left:" + millisUntilFinished/1000);// This will be called every Second.
        }
    }
} 
```

## 主要活动

```
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;

public class MainActivity extends BaseActivity 
{
    private Button buttonClick = null;
    @Override
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        setHeading("Text From Main Activity"); 

        buttonClick = (Button)findViewById(R.id.buttonClick);
        buttonClick.setOnClickListener(new OnClickListener() 
        {
            @Override
            public void onClick(View arg0) 
            {
                startActivityForResult(new Intent(MainActivity.this,SecondActivity.class), 0);
            }
        });
    }
} 
```

## activity_main.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

   <include layout="@layout/header"/>

   <Button
       android:id="@+id/buttonClick"
       android:layout_width="wrap_content"
       android:layout_height="wrap_content"
       android:layout_alignParentLeft="true"
       android:layout_alignParentTop="true"
       android:layout_marginLeft="96dp"
       android:layout_marginTop="68dp"
       android:text="Second Activity" />

</RelativeLayout> 
```

## 第二活动

```
import android.os.Bundle;

public class SecondActivity extends BaseActivity 
{
    @Override
    protected void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.second_activity);
        setHeading("From Second Activity");
    }
} 
```

## second_activity.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

   <include layout="@layout/header"/>

</RelativeLayout> 
```

## header.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView 
        android:id="@+id/textView"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:textSize="18.0sp"/>

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:58:18.673

您可以使用`SharedPreferences`保存要设置到所有屏幕的文本。然后`textViews`使用保存的文本设置 。您可以在`textView`所有活动中设置。`onCreate()``onResume()`

# c# - 打开另一台机器上其他人正在使用的文件

> ID：12634853
> 
> 赞同：0
> 
> 时间：2012-09-28T06:41:33.980
> 
> 标签：c#, asp.net, ms-word

我的任务是生成 Word 文档。通过选择适当的选项，我们可以生成一个文档。我在服务器中有基础文档，如果单击生成，则将生成文档，我们可以将其保存在本地驱动器上。

如果我现在正在使用门户网站，同时，如果有人同时在他们的机器上使用它，那么文档就不会生成。它会自动发回。

我想显示一个进度条或类似的东西，以便该人等到文档完全生成。

这可以使用线程吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:51:39.270

在服务器上阅读基础文档时，将[File.Open](http://msdn.microsoft.com/en-us/library/s67691sb.aspx)与[FileAccess.Read](http://msdn.microsoft.com/en-us/library/4z36sx0f.aspx)或[File.OpenRead](http://msdn.microsoft.com/en-us/library/system.io.file.openread.aspx)一起使用。通过这样做，您可以同时使用多个线程读取相同的文件。

# html - 在 HTML 5 中单击图像时添加声音

> ID：12634862
> 
> 赞同：1
> 
> 时间：2012-09-28T06:42:20.583
> 
> 标签：html, audio, onclick, mouse

我的 html 页面上有一张图片，我希望它在我点击它时播放声音效果。这是图像代码：

```
<img src="images/button1.png" width="32" height="32" onclick="alert();"> 
```

我想将警报框更改为我加载的声音效果。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:52:01.457

好吧，这并不容易，实际上仅使用 HTML 很难完成。有关更多详细信息，请参见[此处](http://www.w3schools.com/html/html_sounds.asp)。

您将面临各种问题，例如：

*   不同的浏览器有不同的音频格式支持。
*   如果浏览器不支持该文件格式，则没有插件将无法播放音频。
*   如果用户的计算机上没有安装该插件，音频将无法播放。
*   如果您将文件转换为其他格式，它仍然无法在所有浏览器中播放。

**使用超链接**

如果网页包含指向媒体文件的超链接，大多数浏览器将使用“帮助应用程序”来播放文件。

以下代码片段显示了指向 mp3 文件的链接。如果用户单击该链接，浏览器将启动一个帮助应用程序来播放该文件：

```
<a href="horse.mp3">Play the sound</a> 
```

我认为最好的解决方案是使用 Flash 播放声音，即将链接作为 Flash 对象/按钮/文本，并在 Adob​​e Flash 中悬停/单击/等时为它们分配声音。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:59:19.197

使用[SoundManager](http://www.schillmania.com/projects/soundmanager2/#getting-started)将摆脱很多麻烦。更重要的是，如果浏览器本身不支持音频，它会很好地回退到 flash。

但是，如果您不想在第三方库上进行中继，还有另一种解决方案，虽然有点令人生畏和疲惫，但在每个支持音频标签的浏览器中都可以使用。您需要做的第一件事是使用源内容填充音频标签。您可以使用以下代码行执行此操作：

```
<audio id = 'audio'>
  <source src="test.mp3" type="audio/mpeg" />
  <source src="test.ogg" type="audio/ogg" />

  <object class="playerpreview" type="application/x-shockwave-flash" 
          data="player_mp3_mini.swf" width="200" height="20">
    <param name="movie" value="player_mp3_mini.swf" />
    <param name="bgcolor" value="#085c68" />
    <param name="FlashVars" value="mp3=test.mp3" />
    <embed href="player_mp3_mini.swf" bgcolor="#085c68" width="200" 
           height="20" name="movie" align="" 
           type="application/x-shockwave-flash" flashvars="mp3=test.mp3">
    </embed>
  </object>

</audio> 
```

因为不同的浏览器供应商之间没有关于支持的音频格式的共同协议，所以我们需要包括每个支持的格式。如果一个浏览器不支持它，那么将跳过它并回退到下一个。如果它们都不支持，那么您可以使用 flash 作为后备。[Google AJAX Libraries API](http://code.google.com/apis/ajaxlibs/)将极大地促进我们的工作。以下是完整的源代码：

```
<script src="http://www.google.com/jsapi"></script>
<script>google.load("swfobject", "2.2");</script>
<img src="http://www.kafkabrigade.org.uk/wp-content/uploads/2011/07/button-pic.jpg"  onclick="playSound();">

<div id="fallback"></div>
<audio id = 'audio'>
      <source src="http://www.hellopixel.net/click.mp3" type="audio/mpeg" />
      <source src="http://www.hellopixel.net/click.ogg" type="audio/ogg" />

      <object class="playerpreview" type="application/x-shockwave-flash" 
              data="player_mp3_mini.swf" width="200" height="20">
        <param name="movie" value="player_mp3_mini.swf" />
        <param name="bgcolor" value="#085c68" />
        <param name="FlashVars" value="mp3=test.mp3" />
        <embed href="player_mp3_mini.swf" bgcolor="#085c68" width="200" 
               height="20" name="movie" align="" 
               type="application/x-shockwave-flash" flashvars="mp3=test.mp3">
        </embed>
      </object>

    </audio>

<script>
    function playSound() {
        if (document.getElementById('audio').canPlayType) {
            if (!document.getElementById('audio').canPlayType('audio/mpeg')) {
                document.getElementById('audio').style.display = 'none';
                swfobject.embedSWF(
                "player_mp3_mini.swf", 
                "fallback", 
                "200", 
                "20", 
                "9.0.0", 
                "", 
                {"mp3":"http://www.hellopixel.net/click.mp3"}, 
                {"bgcolor":"#085c68"});                
            } else {
                document.getElementById('audio').play();
                document.getElementById('fallback').style.display = 'none';
            }
        }

    }
</script>​ 
```

**小提琴：http:** [//jsfiddle.net/SMR4V/](http://jsfiddle.net/SMR4V/)

注意：我还没有创建 ogg 文件，所以在 firefox 中不起作用，因为 FF 正在使用 ogg 文件。

# cocoapods - Cocoapods 错误

> ID：12634865
> 
> 赞同：0
> 
> 时间：2012-09-28T06:42:31.123
> 
> 标签：cocoapods

从我的 Podfile 中：为什么会这样：

`pod 'RestKit', :git => 'git@github.com:EATechnologies/RestKit.git', :commit => '56401aaa5b3714bbde5d2852f92c0b29e392b460'`

但这不会：

`pod 'RestKit', :git => 'git@github.com:EATechnologies/RestKit.git', :commit => '0831f2dc2da01731d37795a2c3bd8acb4045dda9'`

当我使用后者时，我收到如下所示的错误：

```
$pod update
Updating spec repo `master'
-> Pre-downloading: 'MCSMKeychainItem'
-> Pre-downloading: 'RestKit'
[!] Failed: /usr/bin/git rev-list --max-count=1 0831f2dc2da01731d37795a2c3bd8acb4045dda9
[!] Failed: /usr/bin/git rev-list --max-count=1 0831f2dc2da01731d37795a2c3bd8acb4045dda9
[!] Cache unable to find git reference `0831f2dc2da01731d37795a2c3bd8acb4045dda9' for `git@github.com:EATechnologies/RestKit.git'. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T21:44:43.977

这似乎已在 Cocoapods 0.15.1 中得到修复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-03T15:08:37.533

1 - 首先安装git（mac的命令行工具）

下载链接是： http: [//git-scm.com/download/mac](http://git-scm.com/download/mac)

2 - 然后打开命令行（或终端）并输入 $ sudo gem install cocoapods （您需要在这里等待，请耐心等待）

3 - 现在您可以使用命令“pod --version”来检查您刚刚安装的 pod 的版本。

4 - 再次拍摄 pod search libpusher（只是一个库的示例，您可以在此处键入任何库名称而不是 'libpusher' ）。

5-让它完整，可能需要一些时间。

6-然后是最重要的步骤，在您的项目目录中创建 pod 文件（名称可以是“podfile”）并将其添加到 Xcode 中的项目中。

7 - 现在这里的秘密是：你需要在这里提供这个 pod 文件的路径，所以输入命令：

```
cd /Rakesh/vidyo_demo/vidyo_phonegap/ios  (eg.) 
```

cd 命令之后的 rest 是 pod 文件目录的路径。

8-现在当您在终端中键入“pod install”命令时。并且所有库（以 podfile 编写）都将安装在您的项目路径中。然后打开现在有一个工作区文件的项目。像 demo.xcworkspace （打开它）

9-这是pod文件的格式：

```
platform :ios, '7.0'

pod 'libPusher', '~> 1.4' 
```

![在此处输入图像描述](../Images/32b1fda97cab29d13f1045a20f33b006.png)

# lotus-notes - 如何删除当前文档并在操作按钮中关闭窗口？

> ID：12634866
> 
> 赞同：1
> 
> 时间：2012-09-28T06:42:33.307
> 
> 标签：lotus-notes, document, lotusscript

我将一个操作按钮“更改为”，因此当某些用户按下此按钮时，我只需保存 Uidoc。我想删除这个文档，考虑到如果我不删除它，所有文档都将保存在 ALLdocument 视图中！

当我尝试删除文档（调用 doc.remove）时，我收到错误消息：“在 NotesUIDocument 实例化时无法删除 notesdocument”，所有这些都在文档的另一个操作按钮中。

另外，我想关闭 NotesDocument。我也尝试过类似的东西：

```
@Command([movetotrash]);
@Command([emptytrash]);
@Command([fileclosewindow]) but it doesn;t work. Thank you, Samir Akhtubir 
```

我也这样尝试过：

```
 Sub Queryclose(Source As Notesuidocument, Continue As Variant)
   noteid$ = source.document.NoteID
   Delete source 
   Dim S As New notessession
   Dim db As notesdatabase
   Set db = s. currentdatabase
   Dim doc As Notesdocument
   Set doc = db.GetDocumentbyID(noteid$)
   Call doc.Remove(True)
 End Sub 
```

但是如果我把这段代码放到刚刚创建的文档中，所有的文档都会被删除。然后我放入了名为“取消”的操作按钮的 QueryClose 中，但它不起作用。

那么，如何删除当前文档并在操作按钮中关闭窗口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T15:50:57.967

```
Dim ws As New NotesUIWorkspace
Dim uidoc As NotesUIDocument
Dim doc as NotesDocument

'*** Get currently open document
Set uidoc = ws.CurrentDocument
'*** Save it, so we can later close it
'*** without prompt. You can also set
'*** the field SaveOptions to "0".
Call uidoc.Save()
Call uidoc.FieldSetText("SaveOptions","0")
'*** Get the backend document
Set doc = uidoc.Document
'*** Force closed the UI document
Call uidoc.Close(True)
'*** Delete the backend document
Call doc.Remove(True) 
```

如果这不起作用，请在文档上设置删除标志。我通常使用“flagDelete”并将其设置为“是”。我已过滤所有视图以不显示此字段设置为“是”的任何文档。然后我有一个预定的代理，它将每小时或每天一次（取决于每天处理的文档数量）删除所有将“flagDelete”设置为“是”的文档。

这种方法还有另一个优点。您可以从 ACL 中删除删除访问权限，但仍允许用户通过设置标志来“删除”特定文档。然后，计划的代理会真正删除文档，并以删除访问权限运行。当然，您拥有的任何执行搜索或其他不基于视图的查找的代码也必须进行修改以排除文档。

# php - 配置 ZF2 路由只允许发布请求

> ID：12634868
> 
> 赞同：1
> 
> 时间：2012-09-28T06:42:34.977
> 
> 标签：php, zend-framework2

如何将 Zend Framework 2 路由配置为仅允许`POST`请求类型？

我已经浏览了文档，但无济于事。

**编辑**

这是我的 DI 代码的一部分

```
'cv-create' => array(
    'type' => 'Zend\Mvc\Router\Http\Segment',
    'options' => array(
        'route'    => '/profile/cv/:type/create',
        'defaults' => array(
            'controller' => 'Application\Controller\ProfileController',
            'action'     => 'cv_create',
        ),
    ),
), 
```

我的实际问题是，有没有办法将请求控制注入到这条路由的约束中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T08:50:51.177

您可以扩展`Zend\Mvc\Router\Http\Segment`该类并创建一个稍加修改的`match()`. 既然`match()`有`$request`参数，它应该很简单，如下所示：

```
public function match(Request $request, $pathOffset = null)
{
    if (!$request->isPost())
    {
        return null;    
    }

    return parent::match($request, $pathOffset);
} 
```

然后在路由配置中使用这个修改后的类而不是标准的 Segment。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-01T10:48:58.117

在这种情况下，另一种方法可能是使用 AbstractRestfulController。

[http://framework.zend.com/apidoc/2.1/classes/Zend.Mvc.Controller.AbstractRestfulController.html](http://framework.zend.com/apidoc/2.1/classes/Zend.Mvc.Controller.AbstractRestfulController.html)

只实现 create() 方法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-28T06:47:27.583

在 Zend_Controller_Request_Http 类中

您可以禁用其他请求类型。

# android - 向服务器发送数据不起作用

> ID：12634869
> 
> 赞同：1
> 
> 时间：2012-09-28T06:42:40.173
> 
> 标签：android, client-server

我是Android的初学者。我开发了一个应用程序，它将位置信息发送到服务器（**纬度**和**经度**值）。

我现在使用`Dynamic IP`as 来发送信息。

我面临的问题是在使用信息时`WIFI`将**信息传递到服务器**，但是当我使用时，我`Mobile Internet`无法**将信息发送到服务器**。请帮忙。

```
 Location location = locationManager.getLastKnownLocation( LocationManager.NETWORK_PROVIDER);      
    if (location != null) 
    {
    String message = String.format( "Current Location \n Longitude: %1$s \n Latitude:     %2$s  ",location.getLongitude(), location.getLatitude());
    Toast.makeText(MainActivity.this, message,Toast.LENGTH_LONG).show();
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost("http://192.168.1.7/YourPhpScript1.php");

    try {

       List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
       nameValuePairs.add(new BasicNameValuePair("id", "12345"));
       nameValuePairs.add(new BasicNameValuePair("message", message));
       httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
       httpclient.execute(httppost);

     }
 catch (ClientProtocolException e)
    {

} 
 catch (IOException e)
   {

   }` 
```

这里 192.168.1.7 是我的动态 IP 地址

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T08:21:02.803

它关于端口重定向问题，

这个IP地址“192.168.1.7”是你的本地IP地址。只能通过 WIFI 访问，但是当您使用移动互联网时，您不在本地网络中。您应该通过外部 IP 地址连接。但是您的调制解调器可能会阻止您的所有连接。将端口 80 从调制解调器重定向到计算机并禁用计算机的防火墙端口 80。

**只需一步一步检查所有这些。**

1.  从您的电脑防火墙打开端口 80 ( [http://windows.microsoft.com/is-IS/windows-vista/Open-a-port-in-Windows-Firewall](http://windows.microsoft.com/is-IS/windows-vista/Open-a-port-in-Windows-Firewall) )
2.  [将端口 80 从您的调制解调器重定向到您的 PC（从列表http://portforward.com/english/routers/port_forwarding/](http://portforward.com/english/routers/port_forwarding/)中查找您的调制解调器品牌
3.  更改您的应用程序以从您的外部 IP 地址连接。“http://external ip address/YourPhpScript1.php”（要查找您的外部 IP 地址，请访问[http://www.whatismyip.com/](http://www.whatismyip.com/)）

**您当前的基础架构**

```
 +-----+         +-------+                                     +---+
  | PC  | --------| Modem |-------- INTERNET  ~  ~   ~   ~   ~  |   |
  |     |      |  +-------+                                     |   |
  +-----+      | (external IP 75.1xx.2x.3x)                     +---+
(192.168.1.7)  | (internal IP 192.168.1.1)               (With mobile internet)
               |
            +---+
            |   |
            |   |
            +---+
         Mobile Phone (With wifi connection) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:47:11.017

有几种方法可以从 android 应用程序与服务器通信。我假设您正在尝试为此使用原始套接字。

我的建议是，你应该使用 json/soap 通信。它非常简单，当您使用它时应该能够通过防火墙和其他通信障碍，因为它使用标准的 http 端口 80。

为了确保安全，您可以使用 https（端口 443）。

除此之外，这里的问题似乎更多的是网络而不是android编程。能否请您发布一些代码，以便我对此发表评论。

# jquery - 第一次JQuery悬停效果跳转到端点，之后正常

> ID：12634873
> 
> 赞同：0
> 
> 时间：2012-09-28T06:42:44.570
> 
> 标签：jquery, jquery-animate, rollover-effect

这是一个装腔作势的人：

加载页面，第一次将鼠标悬停在邮件和 LinkedIn 选项卡上时，动画会跳转到端点框架。它应该为选项卡放置动画。

第一次悬停后，一切正常，悬停行为符合预期。尝试过鼠标输入、鼠标悬停和悬停。就个人而言，我最喜欢 mouseenter ，但那是我。该行为类似于下面的水平主题按钮，它们不显示跳转。诡异的。

代码如下所示：

```
$("#zipperTabLinkedin a")
    .mouseenter(function(e){
        $(this).animate(
            {padding:'30px 0 0 0'},
            {duration:500},
            {easing:'swing'})
    })
    .mouseleave(function(e){
        $(this).animate(
        {padding:'5px 0 0 0'},
        {duration:500},
        {easing:'swing'})
}); 
```

只是很奇怪。您可以在以下位置查看效果： [http ://desertbiz.biz/repl.html](http://desertbiz.biz/repl.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T07:12:13.443

删除. `padding-top`_`a:hover`

[http://jsfiddle.net/7Mwja/6/](http://jsfiddle.net/7Mwja/6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:11:04.497

这是一个永远不会失败的 css3 转换解决方案。

[小提琴演示](http://jsfiddle.net/7Mwja/5/)

使用 transion 属性对其进行动画处理。

```
 -webkit-transition:padding-top 0.1s ease-in; 
```

css3 过渡教程

www.w3schools.com/css3/css3_transitions.asp

（唯一的缺点是你应该编写跨浏览器 css）

# c# - 如何在数据加载到 kendo mvc ui 网格之前显示加载图像？

> ID：12634884
> 
> 赞同：1
> 
> 时间：2012-09-28T06:43:43.247
> 
> 标签：c#, asp.net-mvc, kendo-ui

我正在研究 asp.net mvc 3。我正在尝试使用 kendo mvc ui 网格显示记录列表。并且我已将可编辑模式设置为弹出，因此可以在服务器上完成处理。我想在数据加载到网格之前显示加载图像，这意味着在分页、刷新等期间。我使用了网格

```
 @(Html.Kendo().Grid(Model)
    .Name("GrdXXX")
    .HtmlAttributes(new { style="width:1000px;" })
    .Columns(columns =>
    {
        columns.Bound(p => p.xxx).Width(50);
        columns.Bound(p => p.yyy).Width(50);
        columns.Bound(p => p.zzz).Width(80);
        columns.Bound(p => p.State).Width(50);
        columns.Bound(p => p.Phone).Width(70);
        columns.Command(command => { command.Edit().Text("Edit Details"); command.Destroy().HtmlAttributes(new { onclick = "return DeleteConfirm();" }); }).Width(120);
    })
    .ToolBar(toolbar => toolbar.Create().Text("Add New Zip Code"))
    .Editable(editable => editable.Mode(GridEditMode.PopUp).Window(m => m.Title("Edit Zipcode").Draggable().Resizable()))
            .Pageable()
            .Sortable()
            .Scrollable()
    .DataSource(dataSource => dataSource
        .Server()
        .Model(model => model.Id(p => p.RecNo))
                .Update("Update", "ghj")
                .Create("Create", "ghj")
                .Destroy("Delete", "ghj")
    )
) 
```

我曾尝试使用 ajax jquery 调用，但它对我不起作用。所以请指导我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-12T16:50:34.563

这就是我如何通过扩展 jQuery 来解决显式向 Kendo 网格添加加载效果的问题。它使用原生的剑道样式。

```
$.extend($.fn, {
        busy: function (c) {
            b = $(this);
            var d = b.find(".k-loading-mask");
            c ? d.length || (d = $("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width(b.outerWidth()).height(b.outerHeight()).prependTo(b)) : d && d.remove()
        }        
    }); 
```

然后将其用作

```
$("#grid").busy(true); // change to false to hide loading effect 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-03-18T18:36:47.327

Telerik 推荐的更好的解决方案：

```
// show loading indicator
kendo.ui.progress($element, true);

// hide loading indicator
kendo.ui.progress($element, false);

// $element is a jQuery object. The element must have a position:relative style applied 
```

参考。[http://www.telerik.com/forums/how-to-manually-show-and-hide-loading-or-spinning-image#Y_apWF417kKpicdUz0NUHg](http://www.telerik.com/forums/how-to-manually-show-and-hide-loading-or-spinning-image#Y_apWF417kKpicdUz0NUHg)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T07:06:22.127

如果为 ajax 绑定配置了网格，它将自动显示加载图像。您的网格配置为依赖于常规 HTTP GET 请求（无 Ajax）的服务器绑定。一旦浏览器开始发出 HTTP GET 请求，加载图像将立即被删除。

# c# - 创建 XML 时如何为 XML 文件指定动态名称

> ID：12634885
> 
> 赞同：2
> 
> 时间：2012-09-28T06:43:43.353
> 
> 标签：c#, xml, winforms

我是编程新手。我正在使用 Windows 窗体创建一个 XML 文件，我的 XML 文件的名称是 Windows 窗体的名称字段文本框文本，它工作正常，但如果文件已经可用，我想提供新名称，但我可以提供不同的名字只有一次。例如，如果“dog.xml”已经存在，那么我可以创建 dog1.xml 文件，然后每当我创建任何新文件时，“dog1.xml”文件的内容都会替换为新文件内容，但我想创建“ dog11.xml' 或 'dog2.xml' 文件

```
private void btnSave_Click(object sender, EventArgs e)
{
    path = rtxtName.Text + ".xml";//name of a xml file is name of WPF 'name' field 
    doc = new XmlDocument(); //Here i am creating the xmldocument object
    doc.CreateTextNode(path);
    if (!System.IO.File.Exists(path))//if there is no file exists then
    {
        CreateNewXMLDoc();
    }
    else
    {
        path = rtxtName.Text + "1.xml"; //If the file is already avaliable          
        CreateNewXMLDoc();
    }
}

public void CreateNewXMLDoc() //This method is for creating my xml file
{
    XmlDeclaration declaration = doc.CreateXmlDeclaration("1.0", "UTF-8", "yes");
    XmlComment comment = doc.CreateComment("This is a generated XML file");
    doc.AppendChild(declaration);
    doc.AppendChild(comment);
    doc.AppendChild(doc.CreateElement("root"));
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T06:50:15.473

```
 private void btnSave_Click(object sender, EventArgs e)
    {
        path = rtxtName.Text;//name of a xml file is name of WPF 'name' field 

        doc = new XmlDocument(); //Here i am creating the xmldocument object

        string tempPath = path;
        int counter = Properties.Settings.Default.Counter;

        while(System.IO.File.Exists(tempPath))
        {
            counter++;
            tempPath = path + counter + ".xml";
        }

        Properties.Settings.Default.Counter = counter;
        Properties.Settings.Default.Save();
        doc.CreateTextNode(path);
        CreateNewXMLDoc();
    } 
```

如果您想花哨并遵循 Microsoft 的标准，那么将路径更改为您可以构建的内容 - Copy.xml 然后是内容 - Copy (1).xml 等。

```
tempPath = path + "(" + counter + ")" + ".xml"; 
```

**编辑**

更新以在应用程序重新启动时保留计数器

# ios - 使用 Magical Record 迁移核心数据

> ID：12634888
> 
> 赞同：6
> 
> 时间：2012-09-28T06:44:02.860
> 
> 标签：ios, ios5, core-data-migration, magicalrecord

我将 Core Data 和 MagicalRecord 用于我的应用程序的数据库。

向数据库添加新模型时，如何在不卸载应用程序的情况下迁移数据库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T17:02:39.210

看看这个问题，并发布了教程。

[iOS开发中Core Data常见的数据迁移策略是什么？](https://stackoverflow.com/questions/4601339/what-is-common-data-migration-strategy-for-core-data-in-ios-development)

这是另一个：

[http://www.raywenderlich.com/27657/how-to-perform-a-lightweight-core-data-migration](http://www.raywenderlich.com/27657/how-to-perform-a-lightweight-core-data-migration)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-25T10:13:35.577

看看这篇[如何在App Update上通过删除旧数据来迁移核心数据](https://stackoverflow.com/a/18977752/1588258)
由于您已经完成了Magical Record的预配置，其他一切都将得到处理，干杯！

# maven - 带有资源文件夹的 Maven 原型快速入门

> ID：12634890
> 
> 赞同：7
> 
> 时间：2012-09-28T06:44:10.653
> 
> 标签：maven

当我使用**Maven 原型 quickstart**时，它不会创建**src/main/resources** 文件夹，我必须自己创建它。为什么会这样？

我希望自动创建**src/main/resources 。**

有更好的**原型**吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T14:18:02.397

如果您经常从快速入门创建项目但需要资源目录，则[创建您自己的自定义原型](http://maven.apache.org/guides/mini/guide-creating-archetypes.html)并将其安装到您的存储库（本地缓存或您的团队使用的缓存）。

您可以匿名签出和修改的原型来源在这里：

[http://svn.apache.org/viewvc/maven/archetypes/trunk/maven-archetype-quickstart/](http://svn.apache.org/viewvc/maven/archetypes/trunk/maven-archetype-quickstart/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-07-19T04:13:22.690

这个 maven 原型是 quickstart 和 webapp maven 原型的增强组合：

    [https://github.com/sabram/maven-archetype-quickweb](https://github.com/sabram/maven-archetype-quickweb)

它创建的项目将包括 src/main/java 和 src/main/resources 以及 src/test 和 src/webapp...

随意使用和删除您不需要的任何文件夹，或根据自己的需要分叉原型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T23:19:22.197

这也发生在我身上。我发现的唯一解决方案是为自己创建`/src/main/resources`和创建`/src/main/java`。其他部分`maven-archetype`对我来说很好。

# vb.net - HTTPWebRequest 登录 POST 未重定向

> ID：12634892
> 
> 赞同：1
> 
> 时间：2012-09-28T06:44:14.337
> 
> 标签：vb.net, post, httpwebrequest

我需要使用 HTTPWebRequest 登录到外部网站并将我重定向到默认页面。我下面的代码在一个按钮后面 - 当单击它时，它当前会尝试进行一些处理但保持在同一页面上。我需要它来将我重定向到外部网站的默认页面，而不会看到登录页面。对我做错了什么有帮助吗？

```
 Dim loginURL As String = "https://www.example.com/login.aspx"

    Dim cookies As CookieContainer = New CookieContainer
    Dim myRequest As HttpWebRequest = CType(WebRequest.Create(loginURL), HttpWebRequest)
    myRequest.CookieContainer = cookies
    myRequest.AllowAutoRedirect = True
    myRequest.UserAgent = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20100101 Firefox/13.0.1"

    Dim myResponse As HttpWebResponse = CType(myRequest.GetResponse(), HttpWebResponse)

    Dim responseReader As StreamReader
    responseReader = New StreamReader(myResponse.GetResponseStream())
    Dim responseData As String = responseReader.ReadToEnd()
    responseReader.Close()

    'call a function to extract the viewstate needed to login
    Dim ViewState As String = ExtractViewState(responseData)

    Dim postData As String = String.Format("__VIEWSTATE={0}&txtUsername={1}&txtPassword={2}&btnLogin.x=27&btnLogin.y=9", ViewState, "username", "password")
    Dim encoding As UTF8Encoding = New UTF8Encoding()
    Dim data As Byte() = encoding.GetBytes(postData)

    'POST to login page
    Dim postRequest As HttpWebRequest = CType(WebRequest.Create(loginURL), HttpWebRequest)
    postRequest.Method = "POST"
    postRequest.AllowAutoRedirect = True
    postRequest.ContentLength = data.Length
    postRequest.CookieContainer = cookies
    postRequest.ContentType = "application/x-www-form-urlencoded"
    postRequest.UserAgent = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20100101 Firefox/13.0.1"

    Dim newStream = postRequest.GetRequestStream()
    newStream.Write(data, 0, data.Length)
    newStream.Close()

    Dim postResponse As HttpWebResponse = CType(postRequest.GetResponse(), HttpWebResponse)

   'using GET request on default page
    Dim getRequest As HttpWebRequest = CType(WebRequest.Create("https://www.example.com/default.aspx"), HttpWebRequest)
    getRequest.CookieContainer = cookies
    getRequest.AllowAutoRedirect = True

    Dim getResponse As HttpWebResponse = CType(getRequest.GetResponse(), HttpWebResponse)
    'returns statuscode = 200 
```

仅供参考 - 当我在最后添加此代码时，我得到了我试图重定向到的默认页面的 HTML

```
Dim responseReader1 As StreamReader
responseReader1 = New StreamReader(getRequest.GetResponse().GetResponseStream())

responseData = responseReader1.ReadToEnd()
responseReader1.Close()
Response.Write(responseData) 
```

有关使重定向工作缺少什么的任何帮助？

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-29T20:52:07.067

HttpWebRequest 仅当服务器在响应中发送带有 Location 字段的 HTTP 3xx 重定向状态时才会自动重定向您。否则，您应该使用 Response.Redirect 手动导航到页面。还要记住，自动重定向会忽略服务器发送的任何 COOKIES。如果服务器实际上正在发送重定向状态，这可能是您的问题。

# java - 当两个线程试图访问一个同步块时会发生什么？

> ID：12634906
> 
> 赞同：0
> 
> 时间：2012-09-28T06:45:45.243
> 
> 标签：java, multithreading, synchronous

当两个线程尝试访问同步块时会发生什么？

其中一个线程会在某处排队并稍后访问该线程，还是如果试用失败，该线程会放弃？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T06:47:55.960

假设您的意思是*同步*块，一个线程将设法获取监视器，而另一个线程将阻塞直到监视器被释放。

有关详细信息，请参阅JLS 的[第 14.19 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.19)和[第 17.1 节，包括：](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-17.1)

> 同步语句（第 14.19 节）计算对对象的引用；然后它尝试在该对象的监视器上执行锁定操作，并且**在锁定操作成功完成之前不会继续进行**。执行完锁定操作后，将执行同步语句的主体。如果主体的执行完成，无论是正常的还是突然的，都会在同一个监视器上自动执行解锁操作。

（强调我的。）

如果您需要任何其他语义 - 例如超时 - 您应该使用`java.util.concurrent.locks`包中的一种类型，以便您可以使用 和 等`tryLock()`方法`tryLock(long time, TimeUnit unit)`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T06:48:46.257

> 其中一个线程会在某处排队吗

是的，它在 JVM 中排队等待直到 runnig 线程释放锁。

> 如果试用失败，线程会放弃吗

不，它会一直尝试直到 JVM 还活着。但在另一个线程运行同步代码期间不尝试。（除非指定超时）

可以说`ThreadA`并且`ThreadB`正在尝试同步块`sb`并`ThreadB`成功。现在，`ThreadA`将等到`ThreadB`完成。同时，假设`ThreadC`来了`sb`。它看到该块正在由某个线程运行并在同一个队列中等待`ThreadA`。当`ThreadB`完成`ThreadA`或`ThreadC`有机会执行时。

因此，从技术上讲，它不是队列，而是类似的数据结构。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-28T06:47:00.283

其中一个会在必要时永远等待（例如第一个线程执行无限循环），尽管那将是一个相当糟糕的设计。代码执行同步没有超时。

来自 JLS：

> 同步语句代表执行线程获取互斥锁，执行块，然后释放锁。当执行线程拥有锁时，**没有其他线程可以获取锁。**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T06:50:14.433

如果`synchronized`块正在由另一个线程执行，则两个线程都将等待。否则，将允许一个线程工作，而另一个线程将等待第一个线程完成其工作。

# design-patterns - 为具有不同用户角色的应用程序建议设计模式

> ID：12634908
> 
> 赞同：1
> 
> 时间：2012-09-28T06:46:01.843
> 
> 标签：design-patterns

您能否建议我哪种设计模式可用于具有不同用户角色的应用程序（Web 应用程序）。我的应用程序有一个 Admin、HR、Managers、Assistant Managers 和 Staffs

Admin 有权访问 Web 应用程序中的每个页面 HR 只能访问少数页面，例如第 1 页和第 2 页（注意 Admin 以后可以将权限添加到更多页面） 经理 - 经理可以查看相应的员工

ETC

是否有任何设计模式来实现上述功能。由于将来可以添加更多用户角色和页面

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T13:01:28.520

一般来说，在设计用户角色时，[装饰者模式](http://zishanbilal.com/2011/04/28/design-patterns-by-examples-decorator-pattern/)是合适的解决方案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-17T09:46:39.403

好吧，我知道这是一个旧帖子.. 但这是我为类似的东西设计的，你可以有任意数量的角色。最初，每个用户在登录后都是访问者，他们可以拥有任何用户角色。我为此使用了装饰器模式。

另外我添加了数据库和通信接口。（大多数网络应用程序都需要这个）我使用了策略设计模式，因此用户可以拥有各种数据库类（Mysql，MsSql）和各种通信方式（Email，SMS）。同样，您可以添加自己的支付接口来处理各种类型的支付选项。

![图像](../Images/d3f7d4956e6363b2c17e7b88340cf7f7.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T10:28:30.560

如果您在页面级别阻止访问，您将在一个或另一个安全框架（如 spring security）中找到所需的一切。

如果您希望能够锁定对某些功能的访问，有一些选项。

对于大多数这些选项，最好不要使用角色，而是使用权限。一个角色可以有多个权限。这提供了很大的灵活性。

您可以查看[一些 MVC 派生](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller#See_also)。那里的控制器上的方法可以得到保护。您可以将每个功能映射到权限。

如果将此与[命令模式](http://en.wikipedia.org/wiki/Command_pattern)结合使用，则可以在此级别添加安全性，然后权限将一对一映射到命令。有了这个，让 UI 控件反映当前用户的权限变得非常容易。（[参见 Delphi 和 Spring 中的操作](http://en.wikipedia.org/wiki/Command_pattern#Uses)）

最后一个选项对我来说是最漂亮和用户友好的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-03-14T13:28:26.030

我知道这是一篇非常古老的帖子，但我一直在寻找相同的答案，但从未找到可接受的答案。装饰者模式一开始似乎是最明显的，但这并不是我真正想要的，因为所有角色都必须实现相同的方法（我们是否真的希望客户拥有 BlockUserAccount() 方法，即使它不这样做什么？），并且每次实施新行为时都必须扩展每个角色。

相反，我通过实验发现委托模式的变体似乎是最好的。我说“变体”是因为我所读到的关于委托模式的所有内容都涉及主对象的超类，但这不是我最终要做的。

我所做的是使用一个基本的用户对象，它包含一组角色。这些角色被定义为完全不同类型的类，每个都有自己的方法，每个都有自己的接口。然后根据需要委派角色。

```
public interface ICustomerAlaCarte 
{
    void AuthorizePayment(decimal paymentAmount); 
}

public abstract class UserRole { }

public class CustomerAlaCarte : UserRole, ICustomerAlaCarte 
{
    public void AuthorizePayment(decimal paymentAmount) 
    {
        // Logic here
    } 
}

public class User
{
    private List<UserRole> _userRoles;

    public void AddUserRole(UserRole newRole)
    {
        _userRoles.Add(newRole);
    }

    public ICustomerAlaCarte AsAlaCarteCustomer()
    {
        ICustomerAlaCarte alaCarteRole = _userRoles.OfType<ICustomerAlaCarte>().FirstOrDefault();

        if (alaCarteRole != null)
        {
            return alaCarteRole;
        }
        else
        {
            throw new UserRoleNotAssignedException(); // Custom exception
        }
    }
} 
```

然后使用：

```
var user = new User();
user.AddUserRole(new CustomerAlaCarte());

ICustomerAlaCarte customer = user.AsAlaCarteCustomer();
customer.AuthorizePayment(9.99); 
```

使用这种模式，您甚至可以拥有嵌套角色。例如，您可以有一个用户 admin 和一个报表管理员，并且每个都将从 Admin 继承。当您只需要基本的管理功能（或身份）时，您将拉取一个 Admin 委托，但您也可以为上述 BlockUserAccount() 行为指定 IUserAdmin，因为每个角色只有对其有意义的方法。

# azure - 如何动态增加 Azure 虚拟机中的 blob 大小？

> ID：12634911
> 
> 赞同：-2
> 
> 时间：2012-09-28T06:46:09.027
> 
> 标签：azure, azure-storage, azure-virtual-machine

我目前有一个要求，当虚拟机磁盘空间已满时，我将不得不通过 Azure 存储管理 API 增加磁盘空间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:14:46.960

**虽然存储管理 API 支持通过Set Blob Properties**操作调整页面 blob 的大小（这是存储 VM 的方式），但**不要这样做，因为它完全搞乱了 VHD**。如果我对 VHD 的理解正确，它有一个 512 字节的页脚，其中包含有关该 VHD 的信息。设置属性操作 ( [http://msdn.microsoft.com/en-us/library/windowsazure/ee691966.aspx](http://msdn.microsoft.com/en-us/library/windowsazure/ee691966.aspx) ) 只是将字节添加到现有的页面 blob，从而弄乱了这个 512 字节的页脚。您的选择是创建一个更大的 VHD 并将现有 VHD 的内容传输到新 VHD。

# php - 代码点火器

> ID：12634914
> 
> 赞同：0
> 
> 时间：2012-09-28T06:46:42.027
> 
> 标签：php, mysql, codeigniter, activerecord

我是 CI 新手，我遇到了 MySQL 问题

**表格1**

```
id | house_id | 
1  |  1       | 
2  |  4       | 
3  |  3       | 
```

**表2**

```
house_id | image_name | 
4        |  a.jpg     | 
4        |  b.jpg     | 
3        |  c.jpg     | 
```

如何使用 CodeIgniter Active Record 类`image_name`为每个选择（独特地）？`house_id`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:50:06.583

[http://codeigniter.com/user_guide/database/active_record.html](http://codeigniter.com/user_guide/database/active_record.html) 这是您正在寻找的 API`$this->db->distinct();`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-03-14T07:23:02.667

只需在 codeigniter 模型中使用一个简单的方法 group_by

```
function get_house_image(){
$items = $this->db->select('house_id', 'image_name')
->from("table1")
->join("table2", "table1.house_id = table2.house_id")
->group_by("table1.house_id")  
->get();    
return $items->result_array();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T18:24:16.410

在您的模型中

```
function get_house_image($id){
$this->db->where('house_id',$id);
$query = $this->db->get('table2');
return $query->result();
}

In your cotroller
function house($id){
$data['house'] = $this->your_model->get_house_image($id);
$this->load->view('your_view',$data); 
```

在您看来 foreach 结果并使用它。这将获取您在 url 中传递的 id 的房子的图片。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-30T11:38:59.933

您可以使用表的左连接来获取记录，如下所示：

```
$this->read->select('t1.house_id,t2.image_name');
 $this->read->join('table2 as t2','t1.house_id = t2.house_id','left');
 $result = $this->read->get('table1 as t1');
if($result){
      $data = $result->result_array();
      print_r($data);
} 
```

# java - 应该用什么HashMap或HashSet？

> ID：12634918
> 
> 赞同：0
> 
> 时间：2012-09-28T06:47:13.177
> 
> 标签：java, collections

如果给定一组记录（例如，带有 Id、Name 和年龄字段的用户记录）并且您需要将它的集合发送到视图以进行简单遍历。那么在 HashMap 和 HashSet 之间使用哪个集合更可取，为什么？为了提高效率，你会在 User 类中使用什么哈希码生成代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:50:24.590

A`HashSet`本身就是一个实现，`HashMap`所以最终它并没有太大的区别。但是，由于您正在与用户打交道，我认为最终您将需要`User`通过 ID 访问对象。

假设每个用户都有一个唯一的 ID，您可以使用`HashMap`带有 ID 的作为键并将整个`User`对象作为值。这将允许您遍历和访问特定的用户数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T07:10:11.117

HashMap 和HahSet 使用不同的数据结构来存储对象。

在**HashMap**中，您将对象存储在**键值**对中

在**HashSet**中，您仅将**键**存储为对象。

* * *

**以下是它们之间的一些区别：**

* * *

1.  HashSet 是 Set 接口的实现。**HashMap**是 Map 接口的实现。
2.  HashSet 只存储值。HashMap 以键值对的形式存储数据。
3.  HashSet 不允许重复值/对象 HashMap 允许重复值/对象但不允许重复键。
4.  HashSet 比 hashmap 慢。HashMap 比 hashset 快，因为值与唯一键相关联
5.  在HashSet中，成员对象用于计算两个对象可以相同的hashcode值，因此equal()方法用于检查是否相等，如果返回false则表示两个对象不同。在HashMap中，hashcode值使用key对象计算.

# air - 如何为使用本机安装程序的 AIR 应用程序迁移证书？

> ID：12634919
> 
> 赞同：2
> 
> 时间：2012-09-28T06:47:16.257
> 
> 标签：air, adobe, flex4.5

我有一个 Adob​​e AIR 应用程序，它打包在 Windows 的本机安装程序中。我刚刚获得了一个新证书来对其进行签名，并且使用新证书对其进行签名工作正常。但是，如果我尝试在具有先前版本的计算机上安装它，则会收到安装程序配置错误的错误消息。

![安装程序配置错误](../Images/ba59ae16f15c2303bd2721ab58332b88.png)

如果我卸载以前的版本，安装工作正常。

我查看了 ADT 工具，并且有一个 -migrate ( [Adob​​e docs](http://help.adobe.com/en_US/air/build/WS901d38e593cd1bac1e63e3d128fc240122-7ffd.html) ) 选项，您首先使用新证书打包并签署 air 文件，然后使用 adt -migrate 命令使用迁移签署 air 文件（旧） 证书。但这不起作用，因为我无法将我的应用程序打包到 .air 文件，因为它使用 NativeProcess。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T07:27:20.113

我终于可以使用 adt -migrate 命令了。我不得不从我的 program-app.xml 文件中删除标签。在我这样做之后，我能够打包到一个空气文件，而不会收到有关支持的配置文件的错误。我按照 Adob​​e 文档进行了其余的打包过程，这次安装旧版本并没有导致任何错误。

# elasticsearch - 如何将弹性搜索 JSON 转换为轮胎兼容查询

> ID：12634924
> 
> 赞同：0
> 
> 时间：2012-09-28T06:47:32.243
> 
> 标签：elasticsearch, tire

我无法将以下有效的 JSON 查询转换为弹性搜索到 ruby​​ gem 'tire' 等效项。任何帮助都非常感谢...

* * *

```
{ 
    "query" : {
        "term" : { "_all" : "coffee" }
    },
    "filter" : {
        "or" : [
            {
                "term" : { "email_store" : true }
            },
            {
                "term" : { "phone_store" : false }
            }
        ]
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T15:03:52.873

这将是轮胎 DSL 中的等效符号：

```
require 'tire'

s = Tire.search('articles') do
  query do
    term :_all, 'coffee'
  end

  filter :or, { term: { email_store: true  } },
              { term: { phone_store: false } }
end

puts s.to_json 
```

看看[https://github.com/karmi/tire/blob/master/test/integration/filters_test.rb#L25-29](https://github.com/karmi/tire/blob/master/test/integration/filters_test.rb#L25-29)。

# mysql - mysql查询缓存命中率达到100%

> ID：12634929
> 
> 赞同：1
> 
> 时间：2012-09-28T06:47:55.517
> 
> 标签：mysql, query-cache

我想知道这是否是一个问题，比如它是好事还是坏事。让查询缓存命中率达到 100% 通常很糟糕吗？

[http://gameboxtools.com/uploads/imagehost/20120928064614983.png](http://gameboxtools.com/uploads/imagehost/20120928064614983.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T06:57:11.170

查询缓存的命中率很高是一件好事。这意味着对同一查询的后续调用将直接从缓存中得到响应，因此速度更快。见[这里](http://dev.mysql.com/doc/refman/5.0/en/query-cache.html)。

# asp.net - ASP.Net 中的浮动许可证 - 正确发布许可证

> ID：12634935
> 
> 赞同：0
> 
> 时间：2012-09-28T06:48:16.643
> 
> 标签：asp.net, session, licensing

我在我的 ASP.Net 网站（框架 4）中实现了一个浮动许可证模块。

到目前为止，我选择在我的 LoggedIn 方法中为用户分配许可证，它就像一个魅力。

现在，我想妥善处理用户的断开连接。

对 LoggedOut 方法和 Session_end 做出反应是否正确？对我来说，这似乎是重复代码......

处理正确断开连接的最佳位置是什么？

**编辑：**
我计划将每个用户的许可证存储在会话变量中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T14:33:14.753

您可以简单地将代码放入 Session_End 并在用户注销时终止会话。

要终止会话，请使用：

```
Session.Abandon(); 
```

[http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.abandon(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.abandon(v=vs.100).aspx)

您可能还想阅读有关会话状态事件的页面：http: [//msdn.microsoft.com/en-us/library/ms178583 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/ms178583(v=vs.100).aspx)

> 仅当会话状态 Mode 属性设置为 InProc（默认设置）时，才支持 Session_OnEnd 事件。

# iphone - 如何从 NSURLConnection 获取会话 ID - IOS SDK

> ID：12634937
> 
> 赞同：-3
> 
> 时间：2012-09-28T06:48:22.067
> 
> 标签：iphone, ios, ipad, session, nsurlconnection

如何从 NSURLConnection 获取会话 ID？

```
NSURLConnection *conn = [[NSURLConnection alloc] initWithRequest:req delegate:self]; 
```

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:56:44.260

如果您的请求作为会话 id 获得反馈，请使用 NSURLConnection 的委托来获取会话 id：

```
-(void)connection:(NSURLConnection *)connection didReceiveResponse:
    (NSURLResponse *)response
{
    // Discard all previously received data.
    [receivedData setLength:0];
}

-(void)connection:(NSURLConnection *)connection didReceiveData:
(NSData *)data
{
    // Append the new data to the receivedData.
[receivedData appendData:data];     
}

-(void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    // Connection succeeded in downloading the request.
    NSLog( @"Succeeded! Received %d bytes of data", [receivedData length] );

    // Convert received data into string.
    receivedString = [[NSString alloc] initWithData:receivedData 
        encoding:NSASCIIStringEncoding];
    //receivedString will have session id if request is appropriate
    NSLog( @"From connectionDidFinishLoading: %@", receivedString );

    // release the connection, and the data object
    [conn release];
    [receivedData release];
} 
```

您必须在 .h 文件中设置 Protocol NSURLConnectionDataDelegate,NSURLConnectionDelegate

# javascript - Javascript：从循环中中断

> ID：12634939
> 
> 赞同：0
> 
> 时间：2012-09-28T06:48:27.760
> 
> 标签：javascript

我想继续检查列表，直到找到可用的项目。对于列表中的每个项目，它将发出一个发布请求以检查该项目是否可用。我想保持异步。另请注意，我使用的是 ajaxq 函数而不是 ajax 函数，那是因为我使用的是这个队列脚本[http://code.google.com/p/jquery-ajaxq/](http://code.google.com/p/jquery-ajaxq/)。所以在它开始之前它不会结束。我确定那不是问题。

一旦项目可用，我需要一种方法来跳出循环，所以我不能只使用回调函数，因为它无法在函数内部跳出循环。所以我认为增加一个变量，如果它完成并使用一个do-while循环会起作用，但它只会冻结我的浏览器，就像它是一个永无止境的循环一样。

任何有关如何解决此问题或以更好的方式解决问题的建议都会很棒。

```
do {

    var d = 0;
    for(var i in list) {

        var item = list[i];

        $.ajaxq('queue', {
            type: 'POST',
            url: baseURL + '/ChangeItem/Check',
            data: {
                'newItem': item, 
                'purchaseItem': false
            },
            error: function(jqXHR, textStatus) {
                alert(textStatus);
            },
            dataType: 'text',
            success: function(data) {
                if(thisObject.isNotTaken(data)) {
                    d++;
                    thisObject.claimItem();
                }
            }
        });
    }

} while(d == 0); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:54:03.093

您可以使用递归函数：

```
function ChangeItem(list, index) {
        var item = list[index];

        $.ajaxq('queue', {
            type: 'POST',
            url: baseURL + '/ChangeItem/Check',
            data: { 'newItem': item, 'purchaseItem': false },
            error: function(jqXHR, textStatus) { alert(textStatus); },
            dataType: 'text',
            success: function(data) { 
                 if(thisObject.isNotTaken(data)) { thisObject.claimItem(); doWhateverYouWantNext(); } 
                 else ChangeItem(list, index+1);  
            }

        });
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:54:13.127

请求将排队的事实仅保证它们将按顺序执行，并且第一个请求将在第二个请求开始之前完成。这并不意味着您将第二个请求排入队列的代码将等到第一个请求完成。因此`ajaxq`，无论哪种方式都对您没有帮助。您必须退回到递归函数，该函数从 AJAX 回调中调用自身。

话虽如此，您会注意到这将导致对您的服务器的一系列请求，并且可能会导致一系列数据库查找。您可能会发现将整个项目列表发送到服务器并从那里返回第一个匹配项会是一种更简洁的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T07:00:38.417

请试试这个：

```
var d = 0;
for(var i in list) {

    if(d == 0)
    {   
        var item = list[i];

        $.ajaxq('queue', {
            type: 'POST',
            url: baseURL + '/ChangeItem/Check',
            data: {
                'newItem': item, 
                'purchaseItem': false
            },
            error: function(jqXHR, textStatus) {
                alert(textStatus);
            },
            dataType: 'text',
            success: function(data) {
                if(thisObject.isNotTaken(data)) {
                    d++;
                    thisObject.claimItem();
                }
            }
        });

    }
} 
```

# android - 如何使用动态字符串路径从 Drawable 中访问图像

> ID：12634940
> 
> 赞同：2
> 
> 时间：2012-09-28T06:48:28.447
> 
> 标签：android, android-layout, drawable, android-image

我有这种类型的图像路径

```
 String img_path = "R.drawable."+lower+"_25"; 
```

较低的包含图像的动态名称...

这些图像已经可以绘制如何在我的

Android中的ImageView

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T07:10:07.550

在适配器中创建构造函数

```
public class MyAdapter extends XXXXXXX{
Context con;
public MyAdapter(Context con) {
        this.con = con;

    }

 .
 .
 .
int id = con.getResources().getIdentifier(lower+"_25", "drawable", "<your package name>");
imageView.setBackgroundResource(image_id);

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-28T06:55:32.490

您可以使用它的名称在drawable中获取图像的ID，使用：

```
int image_id = getResources().getIdentifier(lower+"_25", "drawable", getPackageName());
imageView.setBackgroundResource(image_id); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:55:43.180

您可以使用：

```
getResources().getIdentifier(lower+"_25", "drawable", getPackageName()) 
```

# lotusscript - Lotusscript从数组中跳过元素？

> ID：12634941
> 
> 赞同：0
> 
> 时间：2012-09-28T06:48:29.407
> 
> 标签：lotusscript

我有 3 个（或更多）部门。每个部门都有电子邮件收件人。例如：

A部：约翰，玛丽。B部门：约翰，克里斯。C部门：约翰。

该字段（文本列表）以 Dept 的形式称为 EmailRecipient。目前我已经设法向每个部门的每个收件人发送电子邮件。但是我只需要给 John 发送一次电子邮件，因为电子邮件的内容是相同的。我目前在我的测试代理中所做的如下：

```
Dim view As NotesView, doc As NotesDocument
Set view=db.Getview("Department")
Set doc=view.Getfirstdocument()
Do While Not doc Is Nothing
    ForAll x In doc.EmailRecipient
        Set doc=db.Createdocument()
        doc.form="Memo"
        doc.subject="test"
        Call doc.Send(True, x)
    End ForAll
Loop 
```

如果我已经向他发送了电子邮件，如何在下一个部门的 EmailRecipient 数组中跳过 John？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-29T00:35:52.913

使用列表。如果您不了解 LotusScript 中的 List 数据类型，请在 Domino Designer 帮助数据库中查找“Working with Lists”。

在循环之外，您将创建一个列表：

```
dim alreadySent List as String 
```

在您的 forall 中，您会将每个名称添加到列表中：

```
alreadySent(x) = departmentName 
```

最后，您将调用 doc.Send 放在一个检查列表的 if 语句中：

```
if isElement(alreadySent(x)) = True then
   ' print "Skipping " + x + " because the message was already to this recipient sent for department " + alreadySent(x) 
   Call doc.send(True,x)
end if 
```

*请注意，我在这里即兴创作了一点。我假设您的部门表单有一个名称字段。我知道您实际上并没有阅读它，但是您可以很容易地添加它。您实际上不必这样做，因为您可以轻松地声明“已发送列表为布尔值”并分配已经发送（x）= True，但是通过使用字符串列表并为每个收件人分配部门名称，您可以跟踪哪个部门您已经在其中看到了该用户。我包含了注释掉的打印语句以显示它可能是如何有用的。*

# windows-phone-7 - 如何从给定的居住地址中找到经纬度？

> ID：12634947
> 
> 赞同：1
> 
> 时间：2012-09-28T06:48:49.207
> 
> 标签：windows-phone-7, geolocation

我在从 Windows Phone 7 中的任何给定住宅地址中找出纬度和经度坐标时遇到问题。我尝试了很多次，但找不到答案。怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T07:44:01.873

您应该使用外部 API 通过指定位置、邮政编码和街道地址等值来获取位置的纬度和经度坐标。这需要数据连接。

有许多可用的服务。

您可以尝试[Bing 地图搜索 API](http://msdn.microsoft.com/en-us/library/ff701714.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T09:36:10.267

您可以使用[Google Geocode API](https://developers.google.com/maps/documentation/geocoding/)，只需给它一个地址，它就会返回完整的位置信息（国家、地区、邮政编码、纬度和经度等）

# java - 通信链路故障..连接重置

> ID：12634948
> 
> 赞同：3
> 
> 时间：2012-09-28T06:48:56.093
> 
> 标签：java, mysql, hibernate, c3p0

我的应用程序在使用 Hibernate 与 MySQL 数据库通信时偶尔会看到此异常。我尝试调整 C3p0 属性，但它似乎不起作用。

以下是 C3p0 相关设置：

```
<property name="hibernate.c3p0.acquire_increment">2</property>
<property name="hibernate.c3p0.idle_test_period">60</property><!-- in seconds -->
<property name="hibernate.c3p0.min_size">2</property>
<property name="hibernate.c3p0.max_size">10</property>
<property name="hibernate.c3p0.max_statements">0</property>
<property name="hibernate.c3p0.timeout">180</property>
<property name="hibernate.c3p0.preferredTestQuery">select 1</property> 
```

连接网址如下所示：

```
jdbc:mysql://<DB endpoint>?autoReconnect=true&useUniCode=true&characterEncoding=UTF-8&useSSL=true&requireSSL=true&verifyServerCertificate=false 
```

堆栈跟踪是：

```
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure
Last packet sent to the server was 1549998 ms ago.

Caused by: javax.net.ssl.SSLException: Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: 
Connection reset 
```

我需要调整 MySQL 系统变量吗？任何指针我们如何避免这个异常？

谢谢吉滕德拉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T08:27:04.750

听起来您的池中有一些连接并且只使用其中的一部分。其中一些只是等待使用，然后变得陈旧（连接由于某种原因被重置 - 例如数据库端的一些超时）。然后，当您尝试使用它们时，您会遇到异常。

通常有几个选项可以解决这个问题，例如，您可以在从池中检索连接之前测试连接 (hibernate.c3p0.testConnectionOnCheckout)

您还可以定期检查池中的连接状态和/或检查签入时的连接。见[http://www.mchange.com/projects/c3p0/#configuring_connection_testing](http://www.mchange.com/projects/c3p0/#configuring_connection_testing)

如果它没有帮助 - 整个堆栈跟踪可能很有用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-28T09:18:32.510

hibernate.c3p0.idle_test_period -- 或 c3p0.idleConnectionTestPeriod 将仅在连接空闲 60 秒时每 60 秒测试一次。如果你的应用非常活跃，它不会闲置这么久。c3p0 尝试注意到应用程序何时收到异常意味着连接应该无效，但这取决于异常的 SQLState，这在数据库/JDBC 驱动程序之间不一致并且不完全可靠。死连接很少能在多轮签入/签出后幸存下来，但在您的设置下，它可能会发生。

最简单的解决方案是将 c3p0.testConnectionOnCheckin 添加到您的配置中。这确保了无论连接是忙还是闲，连接都将在被允许进入池之前进行测试，而不会产生结帐测试的同步开销。

请看[http://www.mchange.com/projects/c3p0/#configuring_connection_testing](http://www.mchange.com/projects/c3p0/#configuring_connection_testing)

还请验证您设置的配置参数是否正在进入底层连接池。c3p0 在池初始化时将其配置转储到您的 INFO 级别的日志中：检查您的日志以验证您的设置是否与您认为的一样。（或者，您可以在应用程序通过 jmx 运行时检查池。）

祝你好运！

# sql - SQL Server 2012 不显示另一个驱动器

> ID：12634950
> 
> 赞同：0
> 
> 时间：2012-09-28T06:49:05.137
> 
> 标签：sql, sql-server-2012

`D:\`我刚刚安装了 SQL Server 2012 Management Studio，但是当我尝试创建新数据库时它没有显示另一个驱动器 ( )。

是否有显示所有驱动器的配置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T07:00:02.770

显示的驱动器与安装的 SQL 实例相关，而不是与运行 Management Studio 的计算机相关。

因此，如果您将 SQL 实例安装在只有一个驱动器的服务器上，当您从远程计算机连接到它时，您将只能看到那个驱动器。

# iphone - 如何创建分页水平表视图，我可以在其中将文本传递到特定页面

> ID：12634951
> 
> 赞同：0
> 
> 时间：2012-09-28T06:49:05.993
> 
> 标签：iphone, ios

我正在处理一个项目，其中我有一个水平分页表视图，它连接到一个 sqlite3 数据库。我尝试了许多方法来创建水平表格视图并且效果很好，但是当我将对象传递给表格视图以显示在单元格上时，应用程序崩溃了。

我在谷歌上搜索到了错误，发现表视图正在访问数组中不存在的对象。

```
 for(int i = 0; i < colors.count; i++) {
    CGRect frame;
    frame.origin.x = self.scrollView.frame.size.width * i;
    frame.origin.y = 0;
    frame.size = self.scrollView.frame.size;

    UITableView *tableView = [[UITableView alloc] initWithFrame:frame];
    self.tableView = tableView;
    tableView.dataSource = self;

    [self.scrollView addSubview:tableView]; 
```

在`- (void)scrollViewDidScroll:(UIScrollView *)sender`滚动页面时，我将数组的对象传递给特定页面。

有没有其他好的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T07:11:11.767

我认为您应该使用[NRGridView](https://github.com/ldesroziers/NRGridView)，因为根据我的理解，您在滚动视图中有多个 tableview，这就是为什么 tableview 委托方法会混淆并且您的应用程序崩溃了。

# php - 如何从 PHP 中的对象中删除重复项？

> ID：12634952
> 
> 赞同：-2
> 
> 时间：2012-09-28T06:49:08.113
> 
> 标签：php

这是示例数组

```
array(
       0 => blah object
          (
   [bagid] => 12345
   [userid] => 12345,
   and so on and so forth..
        )
    ) 
```

这是我 var_dump $data 对象时的输出，如果我通过 foreach 循环循环它，它将打印数据所有者的 bagid、userid 等.. 现在问题是，我只想要显示来自用户的 1 个唯一 bagid...无论用户有多少个 bagid，这可行吗？怎么样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:56:17.557

利用`array_unique`

```
<?php
$input = array("a" => "green", "red", "b" => "green", "blue", "red");
$result = array_unique($input);
print_r($result);
?> 
```

输出 ：

```
Array
(
[a] => green
[0] => red
[1] => blue
) 
```

[http://php.net/manual/en/function.array-unique.php](http://php.net/manual/en/function.array-unique.php)

# compatibility - ADFS 2.0 是否与 .Net 4.5 兼容？

> ID：12634955
> 
> 赞同：2
> 
> 时间：2012-09-28T06:49:20.207
> 
> 标签：compatibility, .net-4.5, adfs2.0

我需要在 ADFS 2.0 服务器（代理和服务器）上安装 .Net 4.5

在此之前，谁能确认 ADFS 是否与 .net4.5 兼容？

# logging - 如何以编程方式添加附加程序和记录器

> ID：12634960
> 
> 赞同：0
> 
> 时间：2012-09-28T06:49:31.817
> 
> 标签：logging, logback

我有一个`logback.xml`，其中有一些附加程序和记录器。我想以编程方式添加记录器和附加程序。

我将如何修改它们`logback.xml`？我应该在某处的配置文件中执行它吗？

我对此很陌生，我对如何做到这一点知之甚少。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T23:37:18.007

这就是你的做法

```
 val MyLogger = LoggerFactor.getLogger("logger name") 
  MyLogger.setLevel(LEVEL.INFO) 
```

# symfony - 如何显示自定义的 404 错误页面 - Symfony2

> ID：12634961
> 
> 赞同：12
> 
> 时间：2012-09-28T06:49:42.233
> 
> 标签：symfony, twig

我的控制器中有这个：

```
if(some stuff) {
    throw $this->createNotFoundException('message');
} 
```

当我在 dev env 中测试它时，我得到 Symfony 的页面，告诉我的文本检测到异常，但我无法在 prod env 中测试它:( 我运行它`php app/console cache:clear --env=prod --no-debug`，然后只在 URL 中替换`app_dev.php`工具`app.php`栏和 Symfony 的错误页面停留。

我创建了这个文件 - `app/Resources/TwigBundle/views/Exception/error.html.twig`. 那么它会在产品中渲染吗？

这是在里面：

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>An Error Occurred: {{ status_text }}</title>
</head>
<body>
    <h1>Oops! An Error Occurred</h1>
    <h2>The server returned a "{{ status_code }} {{ status_text }}".</h2>
</body>
</html> 
```

我应该在哪里为`status_code`and`status _text`赋值？或者它们是从异常中获取的？

所以总的来说，我想要做的是当我的控制器操作中的条件为真时，我的自定义错误页面将显示在 prod env 中。我是否已经成功了，如果没有，如何制作以及如何在 prod env 中查看结果？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-01T14:34:25.590

我也尝试过，我注意到放置在 app/Resources/TwigBundle/views/Exception/error.html.twig 中的自定义错误页面仅在 prod 环境中有效。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-05-31T12:37:00.033

我猜迟到总比没有好..

您可能知道覆盖模板。您可以覆盖任何您想要的模板。所以如果你想覆盖开发错误页面，只是为了调试，那么你应该覆盖模板：

```
exception_full.html.twig 
```

您可以通过在此文件夹中创建这样的文件来做到这一点：

```
app/Resources/TwigBundle/views/Exception 
```

现在您将在开发模式下看到您自定义的 404。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-11-23T18:03:13.380

您可以通过以下方式访问检测到的文本：

```
{{ exception.message }} 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-09-28T06:52:14.747

**阅读文档[http://symfony.com/doc/2.0/cookbook/controller/error_pages.html](http://symfony.com/doc/2.0/cookbook/controller/error_pages.html)**

和**自定义 404 页面和其他错误页面**

[http://symfony.com/doc/2.0/cookbook/controller/error_pages.html#customizing-the-404-page-and-other-error-pages](http://symfony.com/doc/2.0/cookbook/controller/error_pages.html#customizing-the-404-page-and-other-error-pages)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-05-10T17:47:02.700

看来 Symfony 有一种新方法可以让您在开发环境中查看错误页面模板。取自他们的文档：

> 当您在开发环境中时，Symfony 会显示大异常页面，而不是您闪亮的新定制错误页面。那么，您如何查看它的外观并对其进行调试呢？
> 
> 幸运的是，默认的 ExceptionController 允许您在开发过程中预览错误页面。
> 
> 要使用此功能，您需要在您的 routing_dev.yml 文件中有一个定义，如下所示：

```
# app/config/routing_dev.yml
_errors:
    resource: "@TwigBundle/Resources/config/routing/errors.xml"
    prefix:   /_error 
```

阅读更多： [Symfony 错误页面手册](http://symfony.com/doc/current/cookbook/controller/error_pages.html)

# mysql - 使用左外连接连接两个 mysql 结果集

> ID：12634962
> 
> 赞同：1
> 
> 时间：2012-09-28T06:49:43.280
> 
> 标签：mysql, sql

下面是实际发票表

![在此处输入图像描述](../Images/a92d693cf8d781e7c1c31ead91192a17.png)

根据 invoiceID 分组后，结果集为 ![在此处输入图像描述](../Images/4a479600b699531a9356b799e8862582.png)

实际付款表是

![在此处输入图像描述](../Images/38118711957e24dec0c68a495892bc2d.png)

其根据 invoiceID 分组后的支付结果集为

![在此处输入图像描述](../Images/1c57f3bce9b2797e6bb63e6cfe5383dc.png)

现在我想加入这两个结果集 [付款和发票表] 并找到余额金额从基于 InvoiceID 的金额中减去总计，对于不匹配的记录，余额列应该为零。我试过这个，但没有得到预期的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T06:55:37.317

试试这样的，

```
SELECT  a.InvoiceID,
        a.totalSum InvoiceAmount,
        b.totalSum PaymentAmount,
        a.totalSum - COALESCE(b.totalSum, 0) TotalBalance
FROM
    (
        SELECT  InvoiceID, SUM(Total) totalSum
        FROM    InvoiceTB
        GROUP BY InvoiceID
    ) a LEFT JOIN
    (
        SELECT  InvoiceID, SUM(Total) totalSum
        FROM    paymentTB
        GROUP BY InvoiceID
    ) b
        ON a.InvoiceID = b.InvoiceID 
```

# distributed-computing - AMQP 和 ZeroMQ 的区别

> ID：12634965
> 
> 赞同：27
> 
> 时间：2012-09-28T06:49:50.413
> 
> 标签：distributed-computing, actor, amqp, zeromq

最近开始研究这些 AMQP（RabbitMQ、ActiveMQ）和 ZeroMQ 技术，对分布式系统/计算感兴趣。一直在谷歌搜索和 StackOverflow 周围，找不到两者之间的明确比较。

我得到的最远的是两者并没有真正的可比性，但我想知道它们的区别。在我看来，ZeroMQ 更加分散（没有消息代理扮演中间人处理消息/保证传递的角色），因此速度更快，但并不意味着是一个完全成熟的系统，而是需要以编程方式处理的东西，比如 Actors。

另一方面，AMQP 似乎是一个更成熟的系统，有一个中央消息代理确保可靠的传递，但因此比 ZeroMQ 慢。但是，中央代理会产生单点故障。

也许一个比喻是客户端/服务器与 P2P？

我的发现是真的吗？另外，使用其中一种的优点、缺点或用例是什么？比较 *MQ 与 Akka Actors 之类的用途也会很好。

*编辑*多看看周围.. ZeroMQ 似乎是 AMQP 的新竞争者，似乎要快得多，唯一的问题是采用/实施？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-18T06:33:04.973

这是 AMQP 和 0MQ 的相当详细的比较：[http ://www.zeromq.org/docs:welcome-from-amqp](http://www.zeromq.org/docs:welcome-from-amqp)

请注意，0MQ 也是一种协议（ZMTP），具有多种实现方式和社区。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-10-01T06:36:51.900

AMQP 是一种协议。ZeroMQ 是一个消息传递库。

AMQP 提供流量控制和可靠的交付。它为消息定义了标准但可扩展的元数据（例如回复、生存时间以及任何应用程序定义的标头）。ZeroMQ 只是提供消息定界（即将字节流分解为原子单元），并假设底层协议（例如 TCP）的属性是足够的，或者应用程序将在 ZeroMQ 之上为流量控制、可靠性或任何其他功能构建额外的功能.

尽管 AMQP 的早期版本是按照客户端/服务器线定义的，因此需要代理，但 AMQP 1.0 不再适用，其核心是对称的点对点协议。中间人（例如经纪人）的规则是在此之上分层的。来自 Alexis 比较中介和无中介的链接很好地描述了这些中介可以提供的好处。AMQP 定义了不同组件（客户端、“智能客户端”、代理、网桥、路由器等）之间的互操作性规则，以便可以通过选择有用的部分来组成系统。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-13T23:13:51.947

在 ZeroMQ 中根本没有消息队列，因此得名。它只是提供了一种在其他普通套接字上使用消息传递语义的方法。

AMQP 是消息队列的标准协议，旨在与处理所有消息发送和接收的消息代理一起使用。它有很多可用的功能，因为它通过代理汇集所有消息流量。这听起来可能很慢，但在主机到主机延迟很小的数据中心内使用时，它实际上非常快。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-30T21:31:01.927

我不太确定如何回答您的问题，这是比较很多不同的事情......但看看这可能有助于您开始深入研究这些问题：[http ://www.rabbitmq.com/blog/ 2010/09/22/broker-vs-brokerless/](http://www.rabbitmq.com/blog/2010/09/22/broker-vs-brokerless/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-12-08T06:08:53.180

AMQP（高级消息队列协议）是一种标准的二进制线路级协议，它使符合要求的客户端应用程序能够与符合要求的消息中间件代理进行通信。AMQP 允许不同企业之间或企业内部的跨平台服务/系统轻松地在彼​​此之间交换消息，而不管消息代理供应商和平台如何。有许多代理已经实现了 AMQP 协议，例如 RabbitMQ、Apache QPid、Apache Apollo 等。

ZeroMQ 是一个高性能异步消息传递库，旨在用于可扩展的分布式或并发应用程序。它提供了一个消息队列，但与面向消息的中间件不同，ØMQ 系统可以在没有专门的消息代理的情况下运行。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-12-15T13:42:54.950

与 ActiveMQ、QPid、Kafka 等用于简单布线的消息代理相比，无代理是用词不当。

它很有用，可以应用于热点以减少网络跃点和延迟，因为我们增加了可靠性、存储和转发功能以及高可用性要求，您可能需要一个分布式代理服务以及一个用于共享数据的队列以支持松散耦合- 及时解耦 - 这个拓扑和架构可以使用 ZeroMQ 来实现，你必须考虑你的用例，看看是否需要异步消息传递，如果需要，ZeroMQ 适合的地方，它在它出现的解决方案中具有很好的作用，并且TCP/IP 和套接字编程的合理知识将帮助您欣赏所有其他人，如 ZeroMQ、AMQP 等。

# c# - C# QR 位数组解码

> ID：12634982
> 
> 赞同：3
> 
> 时间：2012-09-28T06:50:55.137
> 
> 标签：c#, qr-code

我想知道是否有任何库可以解码 QR 码位数组而不是图像。例如：

```
{
    {1,1,1,1,1,1,1,0,0,0,1,0,1,0,1,1,1,1,1,1,1},
    {1,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1},
    {1,0,1,1,1,0,1,0,1,0,1,1,0,0,1,0,1,1,1,0,1},
    {1,0,1,1,1,0,1,0,0,0,0,0,1,0,1,0,1,1,1,0,1},
    {1,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,0,1},
    {1,0,0,0,0,0,1,0,1,1,1,0,0,0,1,0,0,0,0,0,1},
    {1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1},
    {0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0},
    {1,1,0,1,0,0,1,1,0,0,1,1,1,0,1,1,1,0,1,1,0},
    {1,1,1,1,1,1,0,0,1,0,0,1,0,1,0,1,0,1,1,1,1},
    {0,1,1,0,0,0,1,1,0,1,1,1,0,0,1,1,1,1,1,0,1},
    {1,0,0,1,1,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1},
    {0,1,1,0,1,1,1,1,0,0,1,1,0,1,1,1,0,0,1,0,0},
    {0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,0,1,0,1,0,0},
    {1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,0,1,1,0,1,0},
    {1,0,0,0,0,0,1,0,0,1,1,0,0,0,1,0,0,0,1,1,1},
    {1,0,1,1,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1},
    {1,0,1,1,1,0,1,0,1,0,0,0,0,1,1,1,0,0,0,1,1},
    {1,0,1,1,1,0,1,0,0,1,1,1,0,1,1,1,0,1,1,0,1},
    {1,0,0,0,0,0,1,0,1,0,1,1,1,0,0,1,0,1,0,0,0},
    {1,1,1,1,1,1,1,0,1,0,1,0,0,1,0,1,0,0,1,1,0}
} 
```

会变成“嗨”。

我不需要任何图像功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:47:46.230

您可以使用[zxing](http://code.google.com/p/zxing/)来解码位矩阵。但是，您需要将**多维整数数组**转换为**锯齿布尔数组**。只需转换`'1'`为`'true'`和。执行以下命令（假设您引用了正确的库）以获得结果。`'0'``'false'`

```
bool[][] bData; //this should be the converted bit matrix
com.google.zxing.qrcode.decoder.Decoder dec = new com.google.zxing.qrcode.decoder.Decoder();
com.google.zxing.common.DecoderResult result = dec.decode(bData); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:19:26.363

从[QrCode.Net](http://qrcodenet.codeplex.com/)的介绍来看，它似乎可以满足您的需求，因为它的功能之一是：

> 解码以位矩阵形式给出的 QR 码

# java - 需要数据结构来存储 3 个数据集

> ID：12634986
> 
> 赞同：1
> 
> 时间：2012-09-28T06:51:21.500
> 
> 标签：java, arrays, data-structures

我有 3 个数据集，比如 AB 和 C。A 包含 5 个元素的单个数组。B 包含一个二维数组，C 也包含一个二维数组。A包含5个独立于B和C的元素。对于A中的每个元素，在B中关联一个数组，对于B的该数组中的每个元素，在C中关联一个数组..所以我想存储这些数据集在数据结构中，以便在 A 中选择一个元素应该在 B 中给出适当的元素数组，并在 B 的该数组中选择一个元素应该给出 C 的元素 .. 任何人都可以建议我一个..我正在使用 java 编程语言来实现这个数据结构..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T19:22:26.350

如果我理解正确，您正在寻找从 A 的元素到 B 的元素以及从那些到 C 的映射。实现这一点的最简单方法是使用 some`HashMaps`或任何其他实现`Map`接口的类，例如：

```
List<TypeA> a = new ArrayList<TypeA>();
Map<TypeA, List<TypeB>> b = new HashMap<TypeA, List<TypeB>>();
Map<TypeB, List<TypeC>> c = new HashMap<TypeB, List<TypeC>>(); 
```

这样，`a`只是您的数组*A*。`b`将元素从映射`a`到列表，这是二维数组*B*中的行。同样，`c`将这些行中的元素映射到列表，即*C*中的行。

`Map`或者，您可以对所有三个使用单个嵌套：

```
Map<TypeA, Map<TypeB, List<TypeC>>> abc = 
        new HashMap<TypeA, Map<TypeB, List<TypeC>>>; 
```

这样，中的键`abc`对应于您的数组*A*。每个键的值也是一个映射，其键是*B中与**A*中的那个元素相对应的行的元素。最后，每个键的值是*C中与**B*中的元素相对应的行。

请注意， a`Map`中的键没有排序，因此如果顺序很重要（例如，如果您必须以任何特定顺序迭代*A*，或者如果您必须通过某个索引访问它们），您应该使用第一个解决方案。如果顺序也很重要`b`，`c`您可以试试这个：

```
List<TypeA> a = new ArrayList<TypeA>();
List<List<TypeB>> b = new ArrayList<List<TypeB>>();
List<List<TypeC>> c = new ArrayList<List<TypeC>>();
Map<TypeA, Integer> ab = new HashMap<TypeA, Integer>();
Map<TypeB, Integer> bc = new HashMap<TypeB, Integer>(); 
```

在这里，`a`和`b`直接`c`对应于您的*A*，*B*和*C*（如果您知道它们将有多少个元素，您也可以使用数组）。`ab`然后`bc`保存从 (or ) 的每个元素到( `a`or `b`) 中相应索引的映射。请注意，每当您将元素插入or时，您都必须更新和。`b``c``ab``bc``a``b`

因此，如果顺序不重要，我会推荐*第二种*解决方案，因为这样您就不必 'synchronize'`a`和.`b``c`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T07:34:57.970

```
//         <Value, index in A>
vector<pair<Value, int>> A;
//                <Value, index in C>  
vector<vector<pair<Value, int>> B;
//            Values in C
vector<vector<Value>> C; 
```

如果我对您的问题的理解是正确的，那么在 C++ 中可以执行上述操作，但不确定 Java。

# google-app-engine - 使用密码的 Google App Engine 身份验证

> ID：12634988
> 
> 赞同：-1
> 
> 时间：2012-09-28T06:51:29.210
> 
> 标签：google-app-engine

我真的受够了。我所看到的 Google App Engine 教程只是举例说明如何在没有密码的情况下进行身份验证。如果我想直接从我的 gmail 帐户进行身份验证，我该怎么做？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T09:45:46.840

使用 google 提供的**用户**服务，该服务可以使用您的 google 帐户进行身份验证。

[https://developers.google.com/appengine/docs/python/gettingstarted/usingusers](https://developers.google.com/appengine/docs/python/gettingstarted/usingusers)

> Google App Engine 提供了一些基于 Google 基础架构的有用服务，应用程序可以使用 SDK 中包含的库来访问这些服务。其中一项服务是用户服务，它可以让您的应用程序与 Google 用户帐户集成。通过用户服务，您的用户可以使用他们已经拥有的 Google 帐户登录您的应用程序。

# java - 如何在 HashMap 中存储 2 个组合唯一键？

> ID：12634990
> 
> 赞同：2
> 
> 时间：2012-09-28T06:51:49.320
> 
> 标签：java, hashmap, key-value, unique-key

我想存储绑定到名称+数字的值。就像，（John，1）（RED）和（John，2）（BLUE）和（Elize，1）（GREEN）那么我怎样才能存储组合唯一的2个键？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T06:53:27.240

创建一个表示复合键的新类型（此处为名称和数字）。您需要覆盖`hashCode()`and `equals()`，我强烈建议您使类型不可变。例如：

```
public final class NameIntPair {
    private final int intValue;
    private final String name;

    public NameIntPair(int intValue, String name) {
        this.intValue = intValue;
        this.name = name;
    }

    @Override
    public int hashCode() {
        int hash = 17;
        hash = hash * 31 + intValue;
        hash = hash * 31 + (name == null ? 0 : name.hashCode());
        return hash;
    }

    @Override
    public boolean equals(Object obj) {
        if (!(obj instanceof NameIntPair)) {
           return false;
        }
        if (this == obj) {
           return true;
        }
        NameIntPair other = (NameIntPair) obj;
        return other.intValue == intValue && Objects.equal(other.name, name);
    }
} 
```

为方便起见，我使用`Objects.equal`Guava 来避免此处的显式无效性检查 - 如果您不使用 Guava，则必须使用等效项或处理代码中的无效性。或者，您可能希望防止空名称，在构造函数中验证它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T07:01:52.607

I'll use a String concatenation if I'm sure about the uniqueness of the combination and if the keys object are easy to stringify. I might use a special character to join the keys (like "John#1" and "John#2").

If I'm not sure about that I'll use [Guava's Table](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Table.html):

> Typically, when you are trying to index on more than one key at a time, you will wind up with something like Map(FirstName, Map(LastName, Person)), which is ugly and awkward to use. Guava provides a new collection type, Table, which supports this use case for any "row" type and "column" type

So a Table is

> A collection that associates an ordered pair of keys, called a row key and a column key, with a single value.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-28T06:55:21.680

像这样定义您的特定 Key 类：

```
public class Key {
    final String name;
    final int number;
    public Key(String name, int number) {
        this.name = name;
        this.number = number;
    }
    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        result = prime * result + getOuterType().hashCode();
        result = prime * result
                + ((name == null) ? 0 : name.hashCode());
        result = prime * result + number;
        return result;
    }
    @Override
    public boolean equals(Object obj) {
        if (this == obj)
            return true;
        if (obj == null)
            return false;
        if (getClass() != obj.getClass())
            return false;
        Key other = (Key) obj;
        if (!getOuterType().equals(other.getOuterType()))
            return false;
        if (name == null) {
            if (other.name != null)
                return false;
        } else if (!name.equals(other.name))
            return false;
        if (number != other.number)
            return false;
        return true;
    }
    private Test getOuterType() {
        return Test.this;
    }
 } 
```

重要的一点是要确保您遵守 equals 和 hashCode 的约定，以使您的集合（使用密钥的任何标准集合）按预期工作。

在这里，我只是简单地使用了 Eclipse 生成的方法，但也有许多动态实用程序（例如在 Guava 中）可以帮助您解决这个问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-28T07:04:48.380

还有适用于这种情况的连接键的简单替代方法：

```
public static String getKey(String name, int number) {
    return name + number;
} 
```

如果名称不太长，则字符串连接的开销不会大于其他答案中建议的创建复合键对象的开销。