# StackOverflow 问答 16009000-16009999

# gtk - 学习在 GTK 中使用 pthread 的好资源是什么？

> ID：16009004
> 
> 赞同：3
> 
> 时间：2013-04-15T06:34:20.590
> 
> 标签：gtk, pthreads

所以，就像介绍一样，正如孩子们所说，我是一个菜鸟。我在大学学习了 CS 1 和 2，并且（如果我没记错的话）我们学到了递归、链表、二叉树等。没有涉及 GUI 编程或多线程。

所以，现在我正在尝试学习 C，我有一个想法，我想写一个平台风格的游戏作为目标。我还有很长的路要走，但是，嘿，有东西可以拍摄是件好事。

所以，问题基本上是这样的：我的理解是 GTK 是事件驱动的，它位于 gtk_main() 中并等待用户执行操作，然后使用回调函数处理事件（也许这是一个简单的理解，但它有点让感觉在我的脑海中，并且我已经能够编写几个带有图形界面的简单程序以这种方式思考）。无论如何，在平台风格的游戏中，即使用户没有按下键或鼠标按钮，也需要发生一些事情。所以我的想法是你仍然可以让 gtk_main() 等待输入事件并处理它们，然后在 GTK 等待用户时让程序执行视频游戏的另一个线程。换句话说，无论马里奥是否在移动，大金刚仍然需要扔桶。

该站点上的一个类似问题向我指出了有关多线程的[本教程](https://computing.llnl.gov/tutorials/pthreads/)，但我想知道是否有任何特定于将其与 GTK 一起应用的信息。我的 Google-fu 可能很弱，但似乎互联网上没有多少信息，而且我发现的少量信息听起来像是混合线程和 GTK 可能有点危险。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T12:20:58.260

我相信您误解了需要多线程的情况。GTK 的事件循环可以完美地服务于平台游戏，因为您的回调不仅在输入事件上被调用，而且[在超时](https://developer.gnome.org/glib/2.35/glib-The-Main-Event-Loop.html#g-timeout-add)时也被调用。此功能允许实现动画，因为无论用户是否按键，您都可以安排马里奥每秒移动几次。

换句话说，只要您的回调在绘制下一帧的时间之前返回，*您的游戏就不会错过任何一个节拍*，这一切都无需使用线程。许多看起来完全响应的应用程序和游戏的核心是单线程的，或者仅将线程用于专门的任务。

多线程使用 GUI 工具包很复杂，需要经验丰富的专业程序员才能正确处理。由于各种技术原因，您必须从同一线程访问该工具包。这[在文档中进行了解释](https://developer.gnome.org/gdk3/stable/gdk3-Threads.html)，以及其他一些血腥细节。如果是这样，为什么这么多程序都吹嘘多线程，什么时候需要它？有几种情况需要 GUI 应用程序中的多线程：

1.  充分利用多核 CPU 的强大功能。单线程模型总共只能使用一个 CPU，而当前系统往往拥有越来越多的 CPU。

    理想情况下，您将拥有一个线程池，其线程数与系统上的内核数一样多。当需要进行 CPU 密集型计算时，会将请求推送到与线程池关联的队列中，由池中的第一个空闲线程拾取。每当计算完成时，都会通知 GUI 事件循环，以便它可以显示结果。

2.  为了防止“缓慢的 GUI”综合症，其中执行缓慢的回调使 GUI 无响应。

    由于程序员无法预料到的原因，许多旨在“立即​​”返回主循环之前执行“快速任务”的回调最终会花费比预期更长的时间。例如，最初由十几条记录组成的数据集增长到十万条。或者，需要解析的小 XML 文件最终在需要永远访问的网络磁盘上。

    防止 GUI 呆滞的架构与第 1 点中描述的架构非常相似，除了这里线程数可以超过内核数，并且*所有*重要的任务都被认为值得移交给单独的线程。具体来说，事件分派线程不进行重要的处理——它只执行接收事件所需的最少代码量，并将它们分派给执行实际工作的其他线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:50:07.667

你应该看看[GThread](https://developer.gnome.org/glib/2.28/glib-Threads.html)，因为它是 GLib 的一部分），GLib 和 GTK+ 的平台无关的多线程模块。基本上，您只需`g_thread_create`使用指向将并行运行的函数的指针以及指向要传递给该函数的数据的指针进行调用。`gdk_threads_enter`但是您必须注意不要通过在和之间包含所有与 GTK+ 相关的调用来更新 UI `gdk_threads_leave`。

# javascript - Extjs4 可折叠面板高度

> ID：16009009
> 
> 赞同：0
> 
> 时间：2013-04-15T06:34:35.363
> 
> 标签：javascript, extjs, extjs4

我使用 extjs 4，我想创建可折叠的右面板，但不像主容器那样高度。我试过bodyStyle：'背景：透明'，但它不起作用。嘻嘻是我得到的： ![在此处输入图像描述](https://i.stack.imgur.com/fP66K.png)

```
 { xtype:'panel',
                 id: 'app-options',
                 region: 'east',
                 bodyStyle: 'background:transparent',
                 cls:'my-panel',
                 frame:false,
                 boder:false,
                 width: 200,
                 collapsible: true,

                 layout:{type:'border'
                },
                 items: [{
                        xtype:'panel',
                        region: 'north',
                        title: 'Test',
                       height:200

                    }
                  ]
                } 
```

如何使蓝色区域透明？我需要显示地图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T14:53:34.390

我认为您在当前代码中遇到了 js 错误，或者您没有共享完整的代码。因为，您在此处发布的代码：

```
layout:{type:'border'
                },
                 items: [{
                        xtype:'panel',
                        region: 'north',
                        title: 'Test',
                       height:200

                    }
                  ] 
```

它有一个完全没有中心区域的边框布局！所以按边框布局中心区域是必须的。而且我看不到您要在东面板中加载地图的代码。

# magento - Magento Dataflow 配置文件在升级到 1.7 后无法正常工作

> ID：16009012
> 
> 赞同：0
> 
> 时间：2013-04-15T06:34:48.823
> 
> 标签：magento, export, magento-1.7

早上上网，

迫切需要聪明的 magento 人的帮助。

已经创建了一个新的配置文件并尝试运行现有的配置文件，但在每种情况下，弹出窗口都只是给出了这个但没有得到任何进一步的信息：-

正在开始执行配置文件，请稍候... 警告：在导入/导出数据期间请不要关闭窗口

我只是不知道从哪里开始追踪这个。我已经在安装顶部重新复制了一个干净的下载，所以没有文件丢失。

任何建议都非常感激。

更新 配置文件每次运行时，dataflow_batch_export 表都会填充 55 个产品。调查了第 55 和 56 个产品，保存并重新运行，过程更进一步。也许这是某处的数据损坏？因此，编辑每个似乎会导致问题的产品最多将 350 个产品导出到表中，然后恢复为仅导出 142 个产品。编辑了那个和两边的产品，但现在不会再进一步​​了。

仍然困惑，脑痛，我想要我的妈妈。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T23:01:00.167

OK 解决了完全随机的问题。

以前安装遗留下来的 AheadWorks 特色产品模块 v2.2 有一些剩余属性。删除的属性和导出工作完美。

# clojure - 在 Clojure 中，宏与函数有何不同？

> ID：16009015
> 
> 赞同：8
> 
> 时间：2013-04-15T06:34:56.623
> 
> 标签：clojure

我刚开始使用宏并做了一个简单的宏来从列表中返回最大数量。

```
(defmacro macro-max [list] (apply max list)) 
```

如果我做一个函数来做同样的事情，它会的。

```
(defn  macro-max [list] (apply max list)) 
```

我只是在探索 Clojure，所以我了解的不多。

对于专家来说，我可能听起来很傻，但看起来我几乎可以定义一个函数而不是宏。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T07:17:25.757

当你不想评估你的论点除非需要时，差异就会显现出来。

考虑这个例子：

```
(defn unless [pred body]
  (when (not pred)
    body)) 
```

这不起作用，因为函数的参数被急切地评估。所以body总是运行，如下图：

```
(unless (zero? 2)
        (prn "Not zero!"))
;; "Not zero!"

(unless (zero? 0)
        (prn "Not zero!"))
;; "Not zero!" 
```

上面的两次执行都打印“非零！”，这显然是错误的。

编写我们的实用程序的唯一方法`unless`是使用宏：

```
(defmacro unless [pred body]
  `(when (not ~pred)
     ~@body)) 
```

现在，如果我们试一试，我们会看到它按预期工作：

```
(unless (zero? 2)
        (prn "Not zero!"))
;; "Not zero!"

(unless (zero? 0)
        (prn "Not zero!"))
;; this prints nothing 
```

宏仅在开发人员决定时评估其参数。

您会注意到宏中的一些特殊字符，例如 `、~ 和 ~@。它们分别代表 syntax-quote、unquote 和 unquote-splicing，并在[此处](http://clojure.org/reader#The%20Reader--Macro%20characters)进行解释。

我建议你研究这些符号。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:19:58.487

如果一个函数可以做，那么一定要使用一个函数。Clojure 库遵循此规则，因此可能在那里定义的大多数宏不能真正表示为函数。拿`->>`宏：

```
(->> 
   "abcdefghij"
   (take 5)
   (drop 3)
   (apply str)) 
```

以上评估为“de”。函数无法做到这一点，因为宏的参数在自己评估时没有意义 - 评估`(take 5)`时会引发错误。

宏所做的是在计算表单*之前*修改表单（通过插入前一个表达式作为表单的最后一个参数）。这是只有宏可以做的事情，而不是函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T12:16:19.813

宏是函数。区别仅在于评估时间（宏在宏扩展时评估，这是编译中的一个步骤，函数在运行时评估）。`(mac a b)`此外，宏适用于 S-Expressions（所以宏有点像一个函数，你引用每个参数，即你可以很容易地用一个函数替换任何宏`(fun 'a 'b)`。

* * *

## 回答 #4

> 赞同：-5
> 
> 时间：2013-04-15T07:18:52.170

我没有使用宏的经验，但它可以让你通过你的函数来扩展编译器。我不确定，但它是在运行时评估的。

# actionscript-3 - AS3 getDefinitionByName 不是函数

> ID：16009026
> 
> 赞同：0
> 
> 时间：2013-04-15T06:35:22.473
> 
> 标签：actionscript-3

当我尝试将动态文本字段的文本设置为影片剪辑中另一个动态文本字段的文本时，我收到了一个 AS3 错误。

这是我的代码：

```
repairMachine.screen.gotoAndStop(5);
repairMachine.screen.brandName.text = repairMachine.screen.getDefinitionByName(whichBrand).text; 
```

第二行是发生错误的地方。

brandName 是一个名为 Screen(screen) 的 MovieClip 中的动态文本字段，它位于 MovieClip RepairMachine(repairMachine) 中。

这是我设置哪个品牌的地方：

```
whichBrand = "brand" + ((repairMachine.screen.selectionArea.y - 6) / 22); 
```

此代码有效，我成功地将 whichBrand 跟踪为正确的实例名称。

我现在的问题是：为什么我收到错误 #1006 getDefinitionByName is not a function。我该如何解决？

提前致谢！

你的，

米兰。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:11:56.193

[`getDefinitionByName()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/package.html#getDefinitionByName%28%29)不属于一个类。目前，您正尝试将此函数作为`repairMachine.screen`.

您应该删除它，并将其作为普通函数调用：

```
getDefinitionByName(whichBrand); 
```

除此之外，您正在尝试访问实例。`getDefinitionByName()`旨在获取类定义，而不是实例。你在追求[`getChildByName()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/DisplayObjectContainer.html#getChildByName%28%29)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:12:29.313

您收到该错误是因为 getDefinitionByName 不是

```
repairMachine.screen 
```

getDefinitionByName 在 flash utils 中。所以你必须像这样使用它：

```
import flash.utils.*;

getDefinitionByName('my.fully.qualified.class.name'); 
```

您提到 whichBrand 指向正确的**实例**名称。

getDefinitionByName 方法**不适**用于获取**实例**。

# java - java独特元素的集合

> ID：16009027
> 
> 赞同：10
> 
> 时间：2013-04-15T06:35:33.537
> 
> 标签：java

我有一个 myObject 的集合 coll。只有当集合中没有这样的元素时，我才想向 coll 添加一个元素。

我已经覆盖了 myObject 的 equals 方法。它检查其 20 个属性是否相等。

但是，在集合的情况下，我想仅基于这些属性之一进行相等性检查（以及因此添加）。

也许我的架构有缺陷，我不应该有两个相等的定义，而应该有两个不同的对象。

但是，是否有可能在没有太多重构的情况下从这里实现我想要的？也就是说，我想要某种 Set 集合，我可以在其中告诉如何进行比较检查。这类似于 Collection.sort() 方法，您可以在其中提供比较器来检查比较。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T06:38:42.680

去[HashSet](http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html) 。它将存储唯一值。从这里的评论中，你必须重写 hashcode 和 equals 方法以提供每个对象的唯一性。你可以在[这里](https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java)阅读这两个方法之间的关系。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T06:39:43.263

您正在寻找一个[`Set`](http://docs.oracle.com/javase/7/docs/api/java/util/Set.html)和一个它的实现。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-15T06:40:41.557

您不能在这里使用现有容器来强制唯一性，因为它们都想使用`equals`.

如果它只有一个属性，则可以使用 Map，将该属性作为键。这将只允许该属性的每个值一个条目。

`equals`并且`hashCode`旨在与集合一起使用。你应该改变你的设计。也许将您自己的平等（您现在拥有的）称为其他东西。也许不要将这些东西直接放入集合中，而是包装到某种适配器中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-01T17:10:24.417

通过使用 TreeSet（Comparator 比较器），您无需依赖“equals/hashCode”实现。

同样，如果您的集合是一个列表，您可以使用比较器对其进行排序 Collections.sort(List list, Comparator c);

# javascript - 我需要添加一组图像，这些图像可以通过按钮图像或使用 JavaScript 输入的数字进行更改

> ID：16009028
> 
> 赞同：0
> 
> 时间：2013-04-15T06:35:34.880
> 
> 标签：javascript, arrays, image

我有一系列分配给数字 1-200 的图像。我想要一个从加载图像 1 开始的页面，如果按下右箭头按钮，它会转到第 2 页，然后如果按下左箭头按钮，它将返回第 1 页，依此类推。或者，用户可以在文本框中键入一个 1-200 的数字，它会将用户带到该页面。我可以在 HTML 中完成第一部分，但它需要重新加载大量页面，这很麻烦而且对网站不利，而且我无法让盒子工作。我以前没有 JS 的经验，所以我不知道从哪里开始。我在谷歌上也找不到任何东西。我应该怎么做才能做到这一点？另外，您能否提供一段代码来完成这项工作？显然我'

```
<html>
<head>
<title></title>
</head>
<body>

<div id="main">
<img src="photo1.jpg" alt="" id="mainImg">

</div> 

<div id="imglist">
<a href="javascript:previousImage('mainImg')"><img src="previous.jpg" alt=""></a>
<a href="javascript:nextImage('mainImg')"><img src="next.jpg" alt=""></a>
<script>
var imgArray = new Array();

imgArray[0] = new Image();
imgArray[0].src = 'photo1.jpg';

imgArray[1] = new Image();
imgArray[1].src = 'photo2.jpg';

imgArray[2] = new Image();
imgArray[2].src = 'photo3.jpg';

function nextImage(element)
{
    var img = document.getElementById(element);

    for(var i = 0; i < imgArray.length;i++)
    {
        if(imgArray[i].src == img.src) // << check this
        {
            if(i === imgArray.length){
                document.getElementById(element).src = imgArray[0].src;
                break;
            }
            document.getElementById(element).src = imgArray[i+1].src;
            break;
        }
    }
}

function previousImage(element)
{
   var img = document.getElementById(element);

   for(var i = 0; i < imgArray.length;i++)
   {
      if(imgArray[i].src == img.src)
      {
         if(i === 0){
            document.getElementById(element).src = imgArray[imgArray.length-1].src;
            break;
         }
         else{
            document.getElementById(element).src = imgArray[i-1].src;
            break;
         }
      }
   }
}
</script>
</body>
</html> 
```

箭头的当前工作代码。感谢 anpsmn 让我到达那里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:20:12.493

有一个 js 错误，内部 If 条件没有正确关闭之前的函数。尝试始终针对此类错误进行调试。

```
function previousImage(element)
{
   var img = document.getElementById(element);

   for(var i = 0; i < imgArray.length;i++)
   {
      if(imgArray[i].src == img.src)
      {
         if(i === 0){
            document.getElementById(element).src = imgArray[imgArray.length-1].src;
            break;
         }// this was not there before
         else{
            document.getElementById(element).src = imgArray[i-1].src;
            break;
         }
      }
   }
} 
```

# html - iOS 上的固定位置背景

> ID：16009035
> 
> 赞同：19
> 
> 时间：2013-04-15T06:36:04.120
> 
> 标签：html, css, ipad, mobile, fixed

我有一个网站，它有一个完整的图像固定背景，内容“浮动”在上面。它在桌面浏览器中运行良好，但固定的背景最终会在 iPad 和其他平板电脑上滚动。这似乎是一个常见问题，但后来我遇到了这个网站，即使在 iPad 上它似乎也有固定的背景。

[http://confitdemo.wordpress.com/](http://confitdemo.wordpress.com/)

知道他们是如何做到的吗？我试过了：

```
#content-wrapper.posts-page {
background-attachment: fixed !important;
background-clip: border-box;
background-color: transparent;
background-image: url("image path");
background-origin: padding-box;
background-position: right top;
background-repeat: no-repeat;
background-size: cover;
} 
```

（这是从 Firebug 复制的，这就是它不是速记的原因）。

但没有运气。有人让我指出正确的方向吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-05-16T22:37:14.073

该网站在移动浏览器中使用了一个技巧，利用了这样一个事实，即虽然`background-attachment: fixed`不起作用，`position: fixed`但在移动浏览器中它只是创建了一个`<div>`在滚动内容后面保持固定的内容。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-15T06:47:24.533

我认为问题在于您的表格很可能会调整背景的大小，因此如果您添加此声明，则很可能它应该可以正常运行。

```
background-attachment: fixed !important;
background-size: cover !important; 
```

**编辑：**

如果这不起作用，我能想到的唯一其他原因是 ios 必须以某种方式调整正文大小以与内容一样大，那么您要做的就是在正文标签内创建一个具有正确属性的 div

```
#fixebg{
background: url(image.jpg) top;
height:100%;
width:100%;
position:fixed;
} 
```

这是一个类似的解决方案：

[如何使用Phonegap在jquery mobile for iPhone应用程序中设置固定位置背景图像](https://stackoverflow.com/questions/8923656/how-can-i-set-fixed-position-background-image-in-jquery-mobile-for-iphone-app-us)

**编辑 - 2：**

*添加了一个你可以检查的小提琴：*

[http://jsfiddle.net/uZRXH/3/](http://jsfiddle.net/uZRXH/3/)

*这是在您的 ipad 上试用的链接：*

[http://fiddle.jshell.net/uZRXH/3/show](http://fiddle.jshell.net/uZRXH/3/show)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-25T09:48:10.077

好的，所以我已经建立了该站点，如果我将具有固定背景的部分包装在一个 div 中以给该 div 一个固定的位置，那么它会变得一团糟。所以我写了这个，它可以在 iPhone 上运行。

我有一个固定的标题，所以这很容易使用，但是任何总是在视口顶部的东西都可以......

```
 if (//on mobile) {
            var headerH, headerH2, viewportH, sliderH, res
            viewportH = $(window).height(),
            headerH2 = 80 //correction when measuring with fixed header,
            $topheader = $('.top_header'),
            $slider = $('#twinslider') //the element to check for if in viewport;
            function getH() {
                headerH = $topheader.offset().top;
                sliderH = $slider.offset().top;
                res = (((headerH - headerH2) - sliderH) + viewportH) / viewportH;
                if (res > 0 && res < 1.4)  {
                    return res; // thats truthy and a value for further calculation
                } else {
                    return false;
                }
            }
            getH();

            setInterval(function(){ // before i listened to scroll, but this was better for performance
                if (getH()) {//if slider is in viewport
                    $slider.find('li').css({ //the element to set the background pos for
                        'background-position': 'center ' + res * 50 + '%'
                    }, 100);

                }                   
            }, 25); 

        } 
```

然后给元素给一个“固定背景”一个背景位置的过渡，你就完成了。虽然不是那么整洁......而且我觉得有一个更好的解决方案......但这很有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-11T06:08:35.767

1）`z-index: -1;`如果您有链接图像，则必须将其添加到 Breezer 的第二种方法中，否则图像将被隐藏（在背景后面）

2）在相同的方法中，我必须将 div 放在其余内容之前，如下所示，否则如果在 div 标签内添加内容，则页面不可滚动：

`<body> <div id="fixedbg"></div> <!-- CONTENT HERE --> </body>`

# php - 在 php 中访问这个 STDCLASS 对象

> ID：16009036
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:36:04.580
> 
> 标签：php, arrays, oop, curl, stdclass

如何在stdclass中使用@登录访问对象我已经在php中使用curl尝试过这个：$response->HotelListResponse->customerSessionId（这有效）但是当我做这样的事情时：$response->HotelListResponse->HotelList->@activePropertyCount返回错误或空字符串

```
stdClass Object

[HotelListResponse] => stdClass Object
    (
        [customerSessionId] => 0ABAA84E-3DC0-4913-E0C2-5C6541908000
        [numberOfRoomsRequested] => 1
        [moreResultsAvailable] => 1
        [cacheKey] => 6b03dc04:13e0c5c6541:-7ffd
        [cacheLocation] => 10.186.168.78:7302
        [cachedSupplierResponse] => stdClass Object
            (
                [@matchedLocale] => true
                [@matchedCurrency] => true
                [@tpidUsed] => 5001
                [@otherOverheadTime] => 2
                [@candidatePreptime] => 13
                [@supplierResponseTime] => 680
                [@supplierResponseNum] => 25
                [@supplierRequestNum] => 207
                [@cachedTime] => 0
                [@supplierCacheTolerance] => NOT_SUPPORTED
            )

        [HotelList] => stdClass Object
            (
                [@activePropertyCount] => 224
                [@size] => 25
                [HotelSummary] => Array
                    (
                        [0] => stdClass Object
                            (
                                [@ubsScore] => 6144465
                                [@order] => 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:53:36.970

您可以通过两种方式做到这一点。

**方法一：**

使用 Mark Ba​​ker 建议的相同方法调用它，例如使用花括号。花括号用于显式指定变量名的结尾。

```
$result->HotelListResponse->HotelList->{'@activePropertyCount'}; 
```

您可以参考此链接以获取更多信息[http://php.net/manual/en/language.types.string.php#language.types.string.parsing.complex](http://php.net/manual/en/language.types.string.php#language.types.string.parsing.complex)

**方法二：**

分配`@activePropertyCount`给某个变量。你可以这样做：

```
$var = '@activePropertyCount'; 
```

然后你可以得到结果：

```
$result->HotelListResponse->HotelList->$var; 
```

希望这可以帮助你:)

# html - 点击导航锚标签不起作用

> ID：16009041
> 
> 赞同：2
> 
> 时间：2013-04-15T06:36:16.613
> 
> 标签：html, twitter-bootstrap, navigation, anchor

我有引导导航栏

```
<ul class="nav nav-list">
    <li class="hidden-phone">
        <a class="nav-link" id="nav-welcome" href="/welcome">
            <i class="icon-coffee visible-phone"></i>
            <span>Welcome</span>
        </a>
    </li>

    <li>
        <a class="nav-link active" id="nav-index" href="/">
            <i class="icon-home visible-phone"></i>
            <span class="hidden-phone">Home</span>
        </a>
    </li>

    <li class="hidden-phone">
        <a class="nav-link" id="nav-prospects" href="/prospects">
            <i class="icon-time visible-phone"></i>
            <span>Prospects</span>
        </a>
    </li>

    <li>
        <a class="nav-link" id="nav-contacts" href="/contacts">
            <i class="icon-leaf visible-phone"></i>
            <span class="hidden-phone">Contacts</span>
        </a>
    </li>
</ul> 
```

CSS

```
.nav li a {
    padding: 8px 8px 8px;
    margin-right: 10px;
    font-size: 1em;
    line-height: 2em;
    text-align: center;
    color: #E1E5E5;
    text-shadow: 0 -2px 0 rgba(0, 0, 0, 0.1);
} 
```

如果我单击除了 span 元素的最后一个单词之外的导航，则该链接有效。可以说，如果我单击“联系人”链接上的“s”，它就不起作用。

# ios - 如何通过 Mac 终端访问 iPad 设备目录

> ID：16009042
> 
> 赞同：1
> 
> 时间：2013-04-15T06:36:16.717
> 
> 标签：ios, terminal

我是 iPad 开发的新手。如果回答以下问题将有很大帮助：如何通过 Mac 终端访问 iPad 设备目录

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:47:06.680

您无法访问设备中的目录，但可以在模拟器中访问。iPhone Simulator 目录的路径是：

```
/Users/user_name/Library/Application\ Support/iPhone\ Simulator/6.1/ 
```

当您越狱设备时也许有可能，但我从未这样做过。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:50:24.813

最简单的解决方案：越狱它，然后安装`netatalk`它。

# sql - 从执行的查询中选择

> ID：16009046
> 
> 赞同：0
> 
> 时间：2013-04-15T06:36:24.800
> 
> 标签：sql

嗨，我如何从已执行的查询中进行选择？似乎无法让它工作。

我有以下内容：

```
 declare @query = 
    '
    declare @variable
    select name from accounts where @variable=blah blah blah
    ' 
```

然后我的存储过程下面有以下语句，

```
select id from table where name in (exec(@query)) 
```

我不能使用子查询，因为它给了我一个错误。我认为声明变量不适用于子查询

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:44:10.673

**[您可以使用子查询](http://beginner-sql-tutorial.com/sql-subquery.htm)**执行上述查询

```
select id from table 
where name in
           (select name from accounts where blah blah) 
```

而且无论你的**复杂**程度如何`Sub-Query`，它都会给出**Result**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:37:48.777

利用

```
select id from table where name in(select name from accounts where blah blah) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:22:00.577

使用 ff 解决了它

```
exec sp_executesql @query, N'@body varchar(max) output', @body = @result output 
```

# python - 在python中使用//

> ID：16009050
> 
> 赞同：3
> 
> 时间：2013-04-15T06:36:26.380
> 
> 标签：python, python-2.7, numpy, python-3.x, matplotlib

我是python编程的新手。我来到了一个程序，其中

```
if (pos.x//1,pos.y//1) not in self.cleaned:
     self.cleaned.append((pos.x//1,pos.y//1)) 
```

用来。我可能很傻。但是谁能告诉我代码的含义。请告诉我“//”的功能。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T06:40:54.343

它是显式楼层除法运算符。

```
5 // 2 # 2 
```

在 Python 2.x 及以下版本中，`/`如果两个操作数都是整数，则会进行整数除法，如果至少一个参数是浮点数，则会进行浮点除法。

在 Python 3.x 中，这发生了变化，`/`运算符进行浮点除法，`//`运算符进行地板除法。

参考：

[http://www.python.org/dev/peps/pep-0238/](http://www.python.org/dev/peps/pep-0238/)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-15T06:40:05.343

`a // b`是[楼师](http://docs.python.org/2/reference/expressions.html#binary-arithmetic-operations)。它基本上`floor(a / b)`是 ，但它保留了数字类型。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-15T06:38:33.750

`/`运算符进行*浮点除法*，`//`运算符进行*整数除法*。

例如：

```
>>> 10/4   #will be 2.5
>>> 10//4  #will be 2 
```

请注意，这是来自 python 3。

在 python 2\. 如果你尝试一下，你会得到：

```
>>> 10/4     #will be 2
>>> 10.0/4   #will be 2.5 
```

# sql - 使用相关子查询或连接代替派生表

> ID：16009052
> 
> 赞同：3
> 
> 时间：2013-04-15T06:36:28.340
> 
> 标签：sql, sql-server, performance, sql-server-2008

请考虑这种情况：

我有一张这样的桌子：

```
CityCode        CityName        Col_6        Col_9        Col_10
----------------------------------------------------------------------
001                London        10            21               1
001                London        24            13               2
001                London        39            10               2
002                Paris         19            61               1
002                Paris         10            50               1
003                Vien          12            41               2
004                Mosco         22            27               2
004                Mosco         28            9                2
004                Mosco         41            30               1
004                Mosco         33            12               1
005                Cairo         10            21               1
006                Milan         19            41               1
006                Milan         40            32               2 
```

我想写一个为每个城市计算一些公式的查询。现在我使用不同城市的游标，然后选择适当的记录并进行计算：

```
DECLARE mycur   CURSOR  
FOR
    SELECT CityCode
    FROM tblCities 

OPEN mycur
FETCH NEXT FROM mycur INTO @param_Code  

WHILE (@@fetch_status = 0)
BEGIN
     SELECT 
         @param_Code, (SELECT COUNT(*)
                       FROM MyTable
                       WHERE col_9 = 61
                         AND (City_Code = @param_Code) 
                      ) /
                      (SELECT COUNT(*)
                       FROM MyTable
                        AND (City_Code = @param_Code) 
                      ),
         (SELECT COUNT(*)
          FROM MyTable
          WHERE col_10 = 1
            AND (City_Code = @param_Code)) /
            (SELECT COUNT(*)
             FROM MyTable
             WHERE (col_10 = 1 OR col_10 = 2)
               AND (City_Code = @param_Code)),
         Some other calculation like above

     FETCH NEXT FROM mycur INTO @param_Code
END

CLOSE mycur
DEALLOCATE mycur 
```

`@param_Code`是我的游标变量。

我怎样才能更好地做到这一点？我不想使用派生表。我更喜欢使用相关子查询或连接。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:08:33.037

将简单的[GROUP BY](http://msdn.microsoft.com/en-us/library/ms177673.aspx)子句与[CASE](http://msdn.microsoft.com/en-us/library/ms181765.aspx)表达式一起使用。在这种情况下，光标过多。

```
SELECT CityCode, COUNT(CASE WHEN col_9 = 61 THEN 1 END) * 1.00 / COUNT(*),
                 COUNT(CASE WHEN col_10 = 1 THEN 1 END) * 1.00 
                   / COUNT(CASE WHEN (Col10 IN (1, 2)) THEN 1 END)
FROM dbo.MyTable
GROUP BY CityCode 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/19584/1)上的演示[](http://sqlfiddle.com/#!3/19584/1)

 **如果需要进一步计算，则可以将此脚本包装在 CTE 中：

```
;WITH cte AS
 (       
  SELECT CityCode, COUNT(CASE WHEN col_9 = 61 THEN 1 END) * 1.00 / COUNT(*),
                   COUNT(CASE WHEN col_10 = 1 THEN 1 END) * 1.00 
                     / COUNT(CASE WHEN (Col10 IN (1, 2)) THEN 1 END)
  FROM dbo.MyTable
  GROUP BY CityCode
  )
  SELECT --Some other calculation like above
  FROM cte 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:53:59.057

可能的 CTE 将帮助您 -

```
;WITH data AS 
(
    SELECT *
    FROM dbo.MyTable t
    WHERE t.state_Code = @param_Code
)
SELECT 
    @param_Code 
    , result = (SELECT COUNT(1)
                FROM data
                WHERE col_9 = 61)
               /
               (SELECT COUNT(1)
                FROM data) 
```**

# php - 在mysql中计算欧几里得距离

> ID：16009057
> 
> 赞同：0
> 
> 时间：2013-04-15T06:37:02.063
> 
> 标签：php, mysql, euclidean-distance

我有一个 exe，它返回一个包含 16 个元素的数组。我必须使用 php 将此数组传递给 Mysql 来计算欧几里德距离。我在 MySQL 中的表是这种形式。

```
id |img_id | features_1|features_2|features_3|features_4|features_5|features_6|features_7|...upto features_16
 1   1        0.389       0.4567     0.8981      0.2345
 2   2        0.9878      0.4567     0.56122     0.4532        
 3   3        
 4   4        
 ...................... 
```

所以我为每个图像有 16 个特征，现在我有 30,000 个图像，img_id 最多为 30,000。我必须从通过 php 传递的 exe 中计算数组的欧几里德距离，并返回欧几里德距离最小的 6 个图像的 img_id。

即假设我有一个来自 exe 的数组，`A[0.458,0.234,0.4567,0.2398]`我必须使用该数组计算每个 img_id 的距离，即对于 img_id=1，距离将是`((0.458-0.389)^2+(0.234-0.4567)^2+(0.4567-0.8981)^2+(0.2398-0.2345)^2)`，我必须对所有 30,000 张图像重复此过程并返回距离最小的 6 个 img_id。我编写了以下存储过程，但它只返回 img_id NULL。

如果有任何快速的方法来执行此操作，请提及。

```
create procedure sp_euclideandistance(feature1 double,feature2 double,feature3 double,feature4 double,feature5 double,feature6 double,feature7 double,feature8 double,feature9 double,feature10 double,feature11 double,feature12 double,feature13 double,feature14 double,feature15 double,feature16 double)
 Begin
  Declare i int;
  Declare distance double;
  Declare img_id int;
  Declare features_1 double;
  Declare features_2 double;
  Declare features_3 double;
  Declare features_4 double;
  Declare features_5 double;
  Declare features_6 double;
  Declare features_7 double;
  Declare features_8 double;
  Declare features_9 double;
  Declare features_10 double;
  Declare features_11 double;
  Declare features_12 double;
  Declare features_13 double;
  Declare features_14 double;
  Declare features_15 double;
  Declare features_16 double;
  Set i=92303;
  Set distance=0.000;

  create temporary table temptbl_dist(img_id int,distance int);

  while(i<124232)
  do

    select img_id,features_1,features_2,features_3,features_4,features_5,features_6,features_7,features_8,features_9,features_10,features_11,features_12,features_13,features_14,features_15,features_16 INTO img_id,features_1,features_2,features_3,features_4,features_5,features_6,features_7,features_8,features_9,features_10,features_11,features_12,features_13,features_14,features_15,features_16  from tbl_features where img_id=i;

    Set distance=((feature1-features_1)^2)+((feature2-features_2)^2)+((feature3-features_3)^2)+((feature4-features_4)^2)+((feature5-features_5)^2)+((feature6-features_6)^2)+((feature7-features_7)^2)+((feature8-features_8)^2)+((feature9-features_9)^2)+((feature10-features_10)^2)+((feature11-features_11)^2)+((feature12-features_12)^2)+((feature13-features_13)^2)+((feature14-features_14)^2)+((feature15-features_15)^2)+((feature16-features_16)^2);

    insert into temptbl_dist values (i,distance);

    Set i=i+1;

  end while;
  select img_id from temptbl_dist order by distance asc limit 6;
  drop table temptbl_dist;

End 
```

# postgresql - 使用分隔符自动连接所有列

> ID：16009061
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:37:29.213
> 
> 标签：postgresql

我有表“客户”：

```
 ID   Code Name
 1    10   Marry 
```

我想要得到的结果是：

```
 1^10^Marry 
```

但我不想像这样明确地命名每一列：

```
select ID||^||Code||^Name 
from Customers 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:51:05.213

关于您唯一的选择是：

```
COPY Customers TO stdout WITH DELIMITER '^' CSV; 
```

所以这应该可以帮助你，直到你可以升级。如果您不想要整个表，则可以仅指定查询的列子集或查询列`COPY`的子集，例如：`COPY``(SELECT ...)`

```
COPY Customers("ID") TO stdout WITH DELIMITER '^' CSV; 
```

或者

```
COPY (SELECT * FROM Customers WHERE "ID" <> 4) TO stdout WITH DELIMITER '^' CSV; 
```

并非所有客户端驱动程序都支持`COPY`. 例如，这适用于`psql`PgJDBC，但不适用于 PgJDBC。一些驱动程序（如 PgJDBC）提供了它们自己的 API，让您可以`COPY`间接使用。`COPY`有关使用该命令的信息，请参阅驱动程序手册。

一个不需要`COPY`支持的非常丑陋的替代方案是：

```
SELECT (regexp_matches(replace(Customers::text,',','^'), '\((.*)\)'))[1] FROM Customers; 
```

但这会将*任何*逗号转换为`^`，因此如果您的`Name`字段包含`Doe, John`您将获得`Doe^ John`输出 - 可能不是您想要的。Pg 将引用包含逗号的字段，但替换不会尊重该引用。`regexp_replace`如果你足够努力，你可能会想出一个可以做到的表达方式；您还必须处理`"`字符串中文字的大小写（导致`""`输出）。请参阅[此 SQLFiddle 示例](http://sqlfiddle.com/#!10/9c2d0/1)。

* * *

我最初以为您可能只是试图摆脱`||`运算符，在这种情况下，如果您不使用如此旧版本的 PostgreSQL，这会有所帮助：

```
SELECT concat_ws('^', "ID", "Code", "Name") FROM Customers; 
```

另外，请注意，上面的 COPY 语法是过时的样式。现代 PostgreSQL 版本的新代码应该使用：

```
COPY Customers TO stdout WITH (FORMAT CSV, DELIMITER '^') 
```

反而。这在 8.3 上对你不起作用，它太旧了。

# ios - UIActivityViewController 和自定义应用

> ID：16009062
> 
> 赞同：2
> 
> 时间：2013-04-15T06:37:30.747
> 
> 标签：ios, objective-c, uiactivityviewcontroller

我正在尝试导出图像 vi`UIActivityViewController`我想知道如何添加更多应用程序，如 Instagram 或其他照片编辑应用程序？

```
- (IBAction)share:(id)sender {

    NSArray* dataToShare = @[_image.image]; 
    UIActivityViewController* activityViewController =
    [[UIActivityViewController alloc] initWithActivityItems:dataToShare
                                      applicationActivities:nil];
    [self presentViewController:activityViewController animated:YES completion:nil];

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:48:05.763

您需要使用该`applicationActivities`参数并传入任何其他自定义活动。

我在我的一个应用程序中所做的是创建一个“打开方式”自定义`UIActivity`。如果用户选择了该活动，我将使用它`UIDocumentInteractionController`来显示标准的“打开方式”菜单。这允许 iOS 显示任何可以打开图像的应用程序。

另一种选择是您可以添加多个自定义活动，一个用于您希望支持的每个特定应用程序。

在 iOS 6.0 发布后不久，我向 Apple 提交了一个增强请求，以在活动视图中直接支持“打开方式”类型的功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:57:13.627

看看这篇博文[。](http://oleb.net/blog/2012/09/the-state-of-sharing-in-ios-6/)简而言之，您必须为要在活动视图控制器中显示的每个附加应用程序子类化 UIActivity，并将它们的实例作为 NSArray 传递给 parameter `applicationActivities:`。

Apple 文档中有关 UIActivity 子类的摘录：

> **子类化注释**
> 
> 此类必须先被子类化，然后才能使用。活动对象的工作是对提供给它的数据进行操作，并提供一些 iOS 可以向用户显示的元信息。对于更复杂的服务，活动对象还可以显示自定义用户界面并使用它从用户那里收集附加信息。
> 
> **覆盖的方法**
> 
> 子类化时，您必须始终覆盖以下方法并使用它们来提供有关您的服务的信息：
> 
> 活动类型
> 
> 活动标题
> 
> 活动图片
> 
> canPerformWithActivityItems：
> 
> 准备活动项目：

# java - 使用空引用保存实体

> ID：16009064
> 
> 赞同：0
> 
> 时间：2013-04-15T06:37:33.853
> 
> 标签：java, jpa, eclipselink, entitymanager

我想知道例如我是否有像客户和客户地址这样的实体，并且地址是客户中的参考如果我找不到与实体键匹配的情况会发生什么客户的某些实例需要用地址 null 保存什么会发生在提交中，我会转储吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:42:58.103

这取决于您使用的技术以及您定义的数据库模式。通常，对象图在关系数据库中表示为许多具有表示对象之间引用的外键的表。如果该字段（FK）可以为空，那么您可以保存没有地址的客户。否则将抛出约束违反异常。

如果您需要更多信息，请发布您的一些代码并解释您使用的持久性技术是什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:45:11.570

Imo，如果您的数据库在地址列中允许空值（并且不存在 FK 约束），它将保存空值。否则，它应该失败。

# java - Java中的类问题

> ID：16009072
> 
> 赞同：0
> 
> 时间：2013-04-15T06:38:04.997
> 
> 标签：java, class, switch-statement

我有点困惑，因为我无法弄清楚我在这里做错了什么。我已经做了我能做的几乎所有事情，但仍然无法正常工作。我现在不知道如何从这里前进。请提供帮助，我非常感谢您提供可能的解决方案。谢谢

```
public class Example {

public static void main(String[] args) {

    String cafescan;

    Scanner scan= new Scanner (System.in);   

       System.out.print ("Please enter the name of the cafe :" );
       cafescan = scan.nextLine();

       Cafe naam = new Cafe();
       naam.name = (cafescan);//THIS WORKS FINE 
       Cafe thau = new Cafe();
      thau.location = (location1);//THIS IS WHERE ERROR IS
              System.out.println (naam.setName());
          System.out.print   (thau.setLocation()); 
```

在我的 Cafe.jave 文件中，我有这个：

```
public class Cafe{
String name;
String location;

    public String setName(){

        name=name.substring(0, 1).toUpperCase() + name.substring(1).toLowerCase()+ " Cafe";
        return name;
    }   

    public String setLocation(){
        char location1 = name.charAt(0);
      //SWITCH IS SUPPOSED TO WORK ACCORDING TO FIRST ALPHABET OF cafescan

        switch (location1)
        {
        case 'E':
            System.out.println("Rosedale");
            break;
        case 'M':
            System.out.println ("Parkville");
            break;
        case 'T':
            System.out.println ("Towson");
            break;
            default:
                System.out.println("Baltimore");

        }
        return location;
    } 
```

}

帮我看看大师:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:43:19.553

首先你必须声明location1。他们从您的扫描仪中读取

```
String location1= scan.nextLine(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T11:12:55.383

在您的主要方法中，使 Cafe 对象如下：

```
 Cafe naam = new Cafe(cafescan); 
```

如下修改您的咖啡馆课程：

```
public class Cafe{
   String name;
   String location;

public Cafe(String name){
    setName();
    setLocation();
}

public String setName(){

    name=name.substring(0, 1).toUpperCase() + name.substring(1).toLowerCase()+ " Cafe";
    return name;
}   

public String setLocation() {
    char location1 = name.charAt(0);
    // SWITCH IS SUPPOSED TO WORK ACCORDING TO FIRST ALPHABET OF cafescan

    switch (location1) {
        case 'E':
            System.out.println("Rosedale");
            location = "Rosedale";
            break;
        case 'M':
            System.out.println("Parkville");
            location = "Parkville";
            break;
        case 'T':
            System.out.println("Towson");
            location = "Towson";
            break;
        default: {
            System.out.println("Baltimore");
            location = "Baltimore";
        }

    }
    return location;
} 
```

}

# java - console2 使用了错误的 JAVA_HOME

> ID：16009082
> 
> 赞同：0
> 
> 时间：2013-04-15T06:38:32.500
> 
> 标签：java, console2

我发现console2有些奇怪，并认为有人有解决方案。

我已经定义`JAVA_HOME`并添加`%JAVA_HOME%\bin`到我的`Path`. 我定义的版本`JAVA_HOME`是`jdk1.6.0`.

我的系统已`jre1.5.0`安装。

如果我启动console2并输入`java -version`我得到了`jre1.5.0`，但是为什么呢？

**编辑：** 对于遇到同样问题的人。如果您键入“where java”，您将获得 java.exe 的路径。我的结果是： C:\Windows\System32\java.exe D:\jdk1.6.0_18\bin\java.exe

我不知道为什么，但是 cmd.exe 使用 Path 中定义的 java.exe，console2 使用 System32 中的 java.exe。

**解决方法：**删除 C:\Windows\System32\java.exe

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-04T08:08:44.130

可能为时已晚，但正确的答案是更新您的 PATH 变量，使**%JAVA_VERSION%/bin**在**%SystemRoot%\system32;之前** （和类似的条目）。

无需删除或更改任何其他内容。

希望能帮助到你！伊万。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T09:38:32.593

如果您在 Windows 上，您的`java`路径`java -version`来自注册表，Java 安装程序在 Windows 注册表中执行此操作

# wpf - Xbap 应用程序 -- WPF 主机遇到问题并需要关闭

> ID：16009084
> 
> 赞同：0
> 
> 时间：2013-04-15T06:38:33.480
> 
> 标签：wpf, internet-explorer-8, xbap

我开发了一个 Xbap 应用程序，它已部署在客户站点上，它在除其中一台之外的所有计算机上都可以正常工作。在这台计算机上，加载应用程序时出现以下错误消息：

![在此处输入图像描述](https://i.stack.imgur.com/xYMnZ.png)

提到的计算机具有以下详细信息：

*   操作系统：Windows XP SP3 -
*   .Net 框架 3.5
*   即 8

我检查了浏览器的设置，它与其他计算机非常相似。有什么建议么？

PS：我的应用程序需要设置为 PARTIAL TRUST，因为它在所有其他计算机上都可以正常工作，所以在这里将其更改为 FULL TRUST 不是一个选项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T12:01:11.243

这似乎是 Windows XP 的注册表权限问题。上周我们开始在几台计算机上出现这个。这是 Microsoft 修复的链接：

[http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=5766](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=5766)

# oracle - Oracle UNION 上的运行号

> ID：16009087
> 
> 赞同：1
> 
> 时间：2013-04-15T06:38:40.343
> 
> 标签：oracle, union, rownum

我需要的是一个联合查询，其中运行号作为所选列之一。我确实尝试将 ROWNUM 作为查询的一部分包含在内，但它在每个查询中都会重复。正在重置 ROWNUM。

实现这一目标的最佳方法是什么？

编辑：甲骨文 9i。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T06:48:16.690

尝试这样的事情：

```
SELECT COL1,
       COL2,
       COL4,
       ROW_NUMBER() OVER (ORDER BY SORT_COLUMN ) "ROW_NUMBER"
FROM   (
     SELECT COL1,
            COL2,
            COL4,
            SORT_COLUMN
     FROM TABLE_A
     UNION ALL
     SELECT COL1,
            COL2,
            COL4,
            SORT_COLUMN
     FROM TABLE_B
  ) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T06:48:24.217

尝试将您的查询放在子查询中：

```
select rownum seq, t.*
from (<your_query>) t 
```

[这是一个 sqlfiddle 演示](http://www.sqlfiddle.com/#!4/d41d8/9804)

# iphone - 如何在目标 C 中将朋友标记为 Facebook 中的用户帖子

> ID：16009090
> 
> 赞同：0
> 
> 时间：2013-04-15T06:38:43.297
> 
> 标签：iphone, ios, objective-c, facebook

我正在尝试使用 Facebook Feed Dialog 发布文本和图像，我可以发布到我自己的墙上，但无法标记朋友。我可以从 FBFriendPickerViewController 中选择一个朋友，但是当我点击完成但我收到返回错误 5。在 stackoverflow 问题之一（发布状态更新时 ios-Facebook SDK 3.0 错误 5）中，有几种方法可以导致此错误，我已经纠正了该问题中提到的所有可能方式。

并且提要对话框是否正确 [FBRequestConnection startWithGraphPath:@"%@/feed" 参数：params

这是我的代码，

```
- (IBAction)pickFriendsList:(UIButton *)sender
{
    FBFriendPickerViewController *friendPickerController = [[FBFriendPickerViewController alloc] init];
    friendPickerController.title = @"Pick Friends";
    [friendPickerController loadData];

    [friendPickerController presentModallyFromViewController:self animated:YES handler:
     ^(FBViewController *sender, BOOL donePressed) {

         if (!donePressed) {
             return;
         }

         NSString* fid;
         NSString* fbUserName;

         for (id<FBGraphUser> user in friendPickerController.selection)
         {
             NSLog(@"\nuser=%@\n", user);
             fid = user.id;

             fbUserName = user.name;

             NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:@"aaaaaa", @"message", @"http://webecoist.momtastic.com/wp-content/uploads/2009/01/nature-wonders.jpg", @"picture", @"My Susfsdfsdfs sdf sfsdfp", @"name", nil];

             NSLog(@"\nparams=%@\n", params);

             [FBRequestConnection startWithGraphPath:@"%@/feed" parameters:params HTTPMethod:@"POST"
                                   completionHandler:^(FBRequestConnection *connection, id result, NSError *error)

              {
                  //Tell the user that it worked.
                  UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Shared"
                                                                      message:[NSString stringWithFormat:@"Invited %@! error=%@", fbUserName, error]
                                                                     delegate:nil
                                                            cancelButtonTitle:@"OK"
                                                            otherButtonTitles:nil];

                  [alertView show];
                  NSLog(@"%@ alertview description",alertView.message);

              }
              ];

         }

     }];

} 
```

![在此处输入图像描述](https://i.stack.imgur.com/TL6AJ.png)![在此处输入图像描述](https://i.stack.imgur.com/SMSJM.png)![在此处输入图像描述](https://i.stack.imgur.com/ziW7R.png)![在此处输入图像描述](https://i.stack.imgur.com/GXd6S.png)

错误 ：

```
> Error Domain=com.facebook.sdk Code=5 "The operation couldn’t be
> completed. (com.facebook.sdk error 5.)" UserInfo=0xa157bf0
> {com.facebook.sdk:HTTPStatusCode=500,
> com.facebook.sdk:ParsedJSONResponseKey={
>     body =     {
>         error =         {
>             code = 1;
>             message = "An unknown error has occurred.";
>             type = OAuthException;
>         };
>     };
>     code = 500; }, com.facebook.sdk:ErrorSessionKey=<FBSession: 0x9491490, state: FBSessionStateOpen, loginHandler: 0x946f8d0, appID:
> 511223775602729, urlSchemeSuffix: ,
> tokenCachingStrategy:<FBSessionTokenCachingStrategy: 0x948f2b0>,
> expirationDate: 2013-06-15 05:04:17 +0000, refreshDate: 2013-04-16
> 10:36:11 +0000, attemptedRefreshDate: 0001-12-30 00:00:00 +0000,
> permissions:( )>} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T02:04:59.893

**`FB User ID`注意：您的代码中缺少**

更改您的代码如下：

```
[FBRequestConnection
             startWithGraphPath:[NSString stringWithFormat:@"%@/feed", fid]
             parameters:params
             HTTPMethod:@"POST"
             completionHandler:^(FBRequestConnection *connection,
                                 id result,
                                 NSError *) 
```

问候，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:44:13.760

您可以使用签到或 Open Graph 操作来标记 Facebook 中的朋友，因为签到应用需要获得许可，但可以使用基本应用设置。但是对于 Open Graph，您需要进行多项设置。您可以查看[此处](https://developers.facebook.com/docs/opengraph/guides/tagging/)

# java - org.apache.commons.net.ftp.parser.ParserInitializationException：未知解析器类型：Linux

> ID：16009094
> 
> 赞同：1
> 
> 时间：2013-04-15T06:38:58.977
> 
> 标签：java, linux, ftp, ftp-client

我正在尝试连接到 Linux 上的 FTP 服务器，执行时遇到异常`ftp.listFiles(remote);`

```
SYST 215  Linux  Exception in thread "AWT-EventQueue-0"
org.apache.commons.net.ftp.parser.ParserInitializationException:
Unknown parser type:  Linux     at
org.apache.commons.net.ftp.parser.DefaultFTPFileEntryParserFactory.createFileEntryParser(DefaultFTPFileEntryParserFactory.java:165)
at
org.apache.commons.net.ftp.parser.DefaultFTPFileEntryParserFactory.createFileEntryParser(DefaultFTPFileEntryParserFactory.java:94)
at
org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:3192)
at
org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2857) 
```

当我连接到 Windows 上的 FTP 服务器时，相同的代码工作正常。

我搜索了它的解决方案，但我想没有人遇到过这样的 linux 问题。在这里找到了一篇建议改用的帖子，`listNames()`但这`listfiles()`也不适用于其他错误。

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-03T15:53:34.927

```
FTPClient ftp = new FTPClient()    
ftp.configure(new FTPClientConfig(FTPClientConfig.SYST_UNIX)); 
```

尝试设置与您的系统匹配的[FTPCientConfig 。](http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClientConfig.html)

# css - 根据servername加载sass变量

> ID：16009095
> 
> 赞同：1
> 
> 时间：2013-04-15T06:39:02.640
> 
> 标签：css, sass

我正在使用 SASS 生成我的 css 文件，并且有 2 个版本。根据用户来自的 url，他们应该有不同的配色方案。我想将颜色添加到 sass 变量中，然后在加载站点时加载正确的变量。但我不知道如何根据 $_SERVER['SERVER_NAME'] 变量加载变量。

谁能帮助我？

所以一般来说我需要类似的东西：

```
if(strstr($_SERVER['SERVER_NAME'], "foo.com")) {
@import("foo");
} else {
@import("bar");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:28:25.880

首先，您不能将`@import`指令放在条件指令中。

但是您可以从动态路径导入：

```
$path: server-name();
@import #{$path}; 
```

**UPD：这是错误的，您不能使用变量导入。**

要`server-name()`在 SASS 中使用该功能，您需要 Compass 和一些自定义 Ruby。

在您的指南针中`config.rb`添加：

```
# Assign a name to the project and pass it into SASS
$server_name = "monkey"
module Sass::Script::Functions
  def server_name
    Sass::Script::String.new($server_name)
  end
end 
```

`$server_name`编译前调整。

CSS 是静态的，所以你不能完全自动化。但是，如果您使用的是 Rails 或 Assetic 等框架，则可以`$server_name`自动设置。

# jquery - 如何选择元素的父级和父级的兄弟姐妹

> ID：16009101
> 
> 赞同：54
> 
> 时间：2013-04-15T06:39:21.830
> 
> 标签：jquery, jquery-selectors, css-selectors, chaining, removeall

我有这个代码：

```
$("#test").siblings('p').remove();
$("#test").remove(); 
```

如何链接此代码而不是单独编写？

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2013-04-15T06:40:51.287

在这种情况下，您想使用[addBack() ：](http://api.jquery.com/addBack/)

```
$("#test").siblings('p').addBack().remove(); 
```

* * *

**编辑**

首先，对于未来的访问者，如果您使用的是 jQuery 版本 1.8-，您可能需要使用[andSelf()](http://api.jquery.com/andSelf/)，它是`addBack()`兼容性问题的前身。

其次，在这种情况下，两者都`end`将`addBack`执行相同的任务，但它们实际上是不同的视角。看看这个 HTML：

```
<div class="grandpa">
    <div class="dad">
        <div class="son">
            Test
        </div>
    </div>
</div> 
```

如果我们使用`end()`：

```
$('.grandpa')
    .find('.dad')
        .find('.son')
        .addClass('youngster')
        .end()
    .addClass('adult')
    .end()
.addClass('oldster'); 
```

结果将如下所示：

```
<div class="grandpa oldster">
    <div class="dad adult">
        <div class="son youngster">
            Test
        </div>
    </div>
</div> 
```

因此，当我们使用`end()`for时`son`，我们告诉 jQuery 它需要从`son`父集返回`dad`并添加 class `adult`。

但是当我们使用`addBack`：

```
$('.grandpa')
    .find('.dad')
        .find('.son')
        .addClass('youngster')
        .addBack()
        .addClass('adult')
        .addBack() // This simply do nothing since `addBack` is not traverse up DOM element 
        .addClass('oldster'); 
```

这将导致：

```
<div class="grandpa">
    <div class="dad adult oldster">
        <div class="son youngster adult oldster">
            Test
        </div>
    </div>
</div> 
```

所以当我们调用`addBack`on时`son`，我们是在告诉 jQuery 将`dad`and推`son`入同一个房间并添加新的类`adult`and`oldster`给它们。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-04-15T06:41:16.453

该`end()`方法主要在利用 jQuery 的链接属性时很有用。当不使用链接时，我们通常可以`object`通过变量名调用一个previous，所以我们不需要操作堆栈。

新的元素集被推入一个堆栈，该堆栈在`object`. 每个连续的过滤方法都会将一个新元素集推入堆栈。如果我们需要一个较旧的元素集，我们可以使用`end()`将这些集从堆栈中弹出。

我想使用`.end()`这样的：

```
$("#test").siblings('p').remove().end().remove(); 
```

你可以找到一个[**小提琴**](http://jsfiddle.net/CyGy3/)

* * *

## 一些解释：

**现在上面的代码片段发生了什么：**

假设这个 HTML 标记：

```
<div id='container'>
   <div id='test'>This is supposed to be removed.</div>
   <p>And this to be removed too.</p>
</div> 
```

当脚本执行时：

```
$("#test").siblings('p').remove() 
```

此块从视图中删除同级项`<p>`，然后标记将更新为：

```
<div id='container'>
   <div id='test'>This is supposed to be removed.</div>
</div> 
```

如果我们将它与`.end()`

```
$("#test").siblings('p').remove().end() 
```

它返回到`#test`div 的堆栈，然后脚本的下一部分被触发

```
$("#test").siblings('p').remove().end().remove();
                             //--^^^^^^^^^^^^^^^----this next part 
```

并`#test`从视图中删除，您的最终标记输出将如下所示：

```
<div id='container'>
</div> 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-04-17T08:11:40.397

可能是题外话..你可以改变问题的看法：

```
$("#test, #test ~ p").remove(); // !! incorrect way, see comment below 
```

**伙计们对不起:(我的决定不正确！！**

选择器“ **~** ”不等于“**兄弟**”方法。' **~** ' 选择在 ' **#test ' 元素****之后**的所有同级 ' **p** ' 元素。

 ****所以我建议另一个决定：

```
$("#test, > p", $('#test').parent()).remove(); 
```

它不够优雅，但却是最快捷的方式。请检查它' [http://jsperf.com/how-to-chain-this-code-stackoverflow-16009101](http://jsperf.com/how-to-chain-this-code-stackoverflow-16009101) '

性能测试结果：

![性能测试结果](https://i.stack.imgur.com/SJ1Ii.png)

PS [http://jsfiddle.net/Dpe59/](http://jsfiddle.net/Dpe59/)

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-04-15T12:11:43.670

我必须同意对这个问题的评论；为了可读性和可维护性，请使用[`andSelf`](http://api.jquery.com/andSelf/)：

```
$("#test").siblings('p').andSelf().remove(); 
```

不幸的是，它已被弃用。但是，如果您像我们一样被困在旧版本的 jquery 上，那*可能*是值得的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-15T06:56:37.897

```
$("#text").siblings('p').remove().prevObject.remove(); 
```

**编辑：** 虽然这有效，但不要这样做。正如马特的评论所说，`prevObject`没有记录

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-15T12:50:00.530

```
$("#test").siblings("p").siblings("#test").remove(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-05-03T06:29:16.317

尝试这个 ：

```
$("#test").siblings('p').addBack().remove(); 
```****

# javascript - JsMockito - 我如何让 jsmockito 忽略参数

> ID：16009102
> 
> 赞同：0
> 
> 时间：2013-04-15T06:39:24.690
> 
> 标签：javascript, mocking

我想让 jsMockito 忽略我在函数调用中的参数输入。

可以说我有以下代码：-

var mockedCommand = mock(CoreCommand);

when(mockedCommand).parseCommand(myfakeInput, myfakeInput2, myFakeInput3).thenReturn("Hello");

我如何让 jsMockito 忽略 myFakeInput、myFakeInput2 和 myFakeInput3 并只返回“Hello”？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T00:50:56.183

我设法使用 JsHamcrest 对象匹配器解决了我的问题。

```
 var Employee = function()
    { 
        this.getName = function(name)
        {
            return "Hello " + name;
        }

        this.updateAddress = function(emp)
        {
            return emp; 
        }
    }; 

    test( "a test", function() {

      var mockObject = mock(Employee);

      var fakeAddress = {
        address1 : "Addr1", 
        address2 : "Addr2", 
        address3 : "Addr3", 
      };

    var nonMatchingAddress = {
        address1 : "DifferentAddr1", 
        address2 : "DifferentAddr2", 
        address3 : "DifferentAddr3", 
      };        

      var realAddress = {
        address1 : "123", 
        address2 : "456", 
        address3 : "789", 
      };

      // Ok 
      //when(mockObject).updateAddress(fakeAddress).thenReturn(realAddress);
      //var argumentMatchingReturnResult = mockObject.updateAddress(fakeAddress);
      //console.log(argumentMatchingReturnResult);
      //equal(argumentMatchingReturnResult, realAddress, "passing in matching argument.");

      // Not OK - return undefined 
      //when(mockObject).updateAddress(fakeAddress).thenReturn(realAddress);
      //var argumentMatchingReturnResult = mockObject.updateAddress(nonMatchingAddress);
      //console.log(argumentMatchingReturnResult); // comes out undefined 
      //equal(argumentMatchingReturnResult, realAddress, "passing in matching argument.");

      // uses JsHamcrest.Matchers.object() here 
      // match any object here 
      // when(mockObject).updateAddress(JsHamcrest.Matchers.object()).thenReturn(realAddress);
      // var result = mockObject.updateAddress(realAddress);
      //console.log(result);

      //notEqual(result, undefined, "ensure return result is not undefined");

      // uses JsHamcrest.Matchers.typeOf() here 
       when(mockObject).updateAddress(JsHamcrest.Matchers.typeOf('object')).thenReturn(realAddress);
       var result = mockObject.updateAddress(realAddress);
       console.log(result);
       notEqual(result, undefined, "ensure return result is not undefined");

}); 
```

# php - 检测来自同一本地 WiFi 网络的设备

> ID：16009118
> 
> 赞同：1
> 
> 时间：2013-04-15T06:40:27.773
> 
> 标签：php, networking, ip, wifi

我用`$_SERVER['REMOTE_ADDR']`PHP 来检测客户端的 IP 地址。

如果两个客户端共享同一个 IP，假设它们是同一台 PC 或来自同一个本地 WiFi 网络是否安全？

即使客户端来自不同的网络/位置，是否存在远程 IP 相同的情况。（例如，使用 3G 或 GPRS 时？）

谢谢 ：）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T06:43:51.713

你不能假设任何事情。两个据称是分开的访问者共享同一个 IP 只是意味着他们在某个时候正在遍历同一个代理/NAT 设备。这可能是因为他们在家中共享路由器，因为他们在公司网络中通过相同的代理（但在不同的内部网络中可能相距数英里），或者因为他们的 ISP 正在应用运营商级 NAT 路由. 更不用说 VPN、隧道和 TOR 之类的东西了。

你无法推断出任何东西，真的。

# shell - ncftpput 简历上传

> ID：16009120
> 
> 赞同：1
> 
> 时间：2013-04-15T06:40:33.763
> 
> 标签：shell, ftp

我需要一个带有 sh 脚本的本地主机和远程 ftp 主机之间的单向同步。我正在使用带有 -z 参数的 NCFTPPUT，但似乎它发送了所有文件，而不仅仅是添加或编辑。你知道 ncftpput 如何与“-z”参数一起工作吗？我认为它比较时间戳或文件大小，但我仍然不明白为什么它会覆盖具有相同文件大小和更早时间戳的所有文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T09:49:23.323

ncftpput -z 参数在应用 -T 后缀参数时不起作用

# javascript - 如何在 AJAX 调用中添加 loading.. 消息？

> ID：16009122
> 
> 赞同：2
> 
> 时间：2013-04-15T06:40:41.160
> 
> 标签：javascript, html, ajax

我有一个这样的 AJAX 函数：

```
function change_session(val) {
    var change_session_id=document.getElementById('select_path').value;
      $.ajax({
                type: "GET",
                url: "/change_path/",
                async: false,
                data: {change_session_id:change_session_id},
                success: function(data){
                    document.getElementById('transfer1').innerHTML=data;
                    document.getElementById('transfer1').style.display="block";
                }
            });

} 
```

我在选择语句中应用 AJAX：

```
<select onchange="change_session()" name="select_path" id="select_path">

              <option name="server_id" id="select_path" value="{{ i.id }}">{{ active }}</option>
              {% for i in session_info %}
              <option name="server_id" id="select_path" value="{{ i.id }}">{{ i.session_name }}</option>
               {% endfor %}
               <input type="hidden" id="change_session_id" value="{{ i.id }}" />
            </select> 
```

一切正常，但是在更改`option`select 语句中的内容需要一段时间才能加载，并且 option 语句会冻结，直到函数 change_path 完成。所以我想`"Loading"`在加载完成时在 div 元素中添加消息。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T07:12:34.743

您必须更改`async:false`为，`async:true`因为使其不再`false`是异步请求。

您可以在块中发送 AJAX 请求之前使用 JQuery 的回调方法做一些事情，`beforeSend`完成后您可以使用`complete`回调来隐藏加载消息。

```
function change_session(val) {
    var change_session_id=document.getElementById('select_path').value;
      $.ajax({
                type: "GET",
                url: "/change_path/",
                async: false,
                data: {change_session_id:change_session_id},
                beforeSend: function ( xhr ) {    
                     $("#loadingDIV").show();
                },
                success: function(data){
                    document.getElementById('transfer1').innerHTML=data;
                    document.getElementById('transfer1').style.display="block";
                },
                complete : $("#loadingDIV").hide()
            });

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T06:43:21.703

您应该删除`async:false`冻结窗口的选项。然后在进行 AJAX 调用之前，在 dom 中显示加载消息，并在成功时将其隐藏：

```
function change_session(val) {
var change_session_id=document.getElementById('select_path').value;

$("#transfer1").html("Loading...");

  $.ajax({
            type: "GET",
            url: "/change_path/",
            data: {change_session_id:change_session_id},
            success: function(data){

                $('#transfer1').html(data)
                    .css("display", "block");

            }
        });

 } 
```

当已经在使用 jQuery 时，您可以使用 jQuery 选择器/函数而不是普通的 JavaScript。:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T06:50:01.650

jQuery 为此内置了一些事件。

```
/**
 * onAjax -> Loading indicator 
 */
$("body").on({
    ajaxStart: function() { 
        $(this).addClass("loading"); // I mostly use this. It adds a class to the body.
    },
    ajaxStop: function() { 
        $(this).removeClass("loading"); 
    }    
}); 
```

所以在css中你可以做类似的事情：

```
#loading-ind {position:absolute; top:0; left:0; height:100%; width:100%; display:none;}
body.loading #loading-ind {display:block;} 
```

这些 CSS 规则只是一个例子，重要的属性是 display。其余的你可以设置为任何你喜欢的。

但是，您可以做各种事情，而不是删除/添加一个类；）在您的情况下，它将向 div 添加“正在加载..”文本。请记住，这些事件会在所有 ajax 调用上触发，所以不知道这是否是最佳选择。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T06:51:45.023

**CSS代码：**

```
.loadingMask {  
    background: url(loader.gif) center 50% no-repeat #000000; 
    top:0; 
    left:0; 
    position:fixed; 
    height:100%; 
    width:100%; 
    opacity:0.7;
    filter:alpha(opacity=70); 
    z-index:12030   
 } 
```

这`css`将为您的网页生成一个加载叠加层..

在后台属性中给出任何加载图像路径..您可以使用[ajaxload.info Generator](http://www.ajaxload.info/)生成加载图像。

**HTML：**

```
<div class="loadingMask" id="loadingMask" style="visibility: hidden;"></div> 
```

**JavaScript：**

```
function change_session(val) {
    var change_session_id=document.getElementById('select_path').value;
      $.ajax({
                type: "GET",
                url: "/change_path/",
                async: false,
                beforeSend :function(){
                    $("#loadingMask").css('visibility', 'visible');
                },
                data: {change_session_id:change_session_id},
                success: function(data){
                    $("#loadingMask").css('visibility', 'hidden');
                    document.getElementById('transfer1').innerHTML=data;
                    document.getElementById('transfer1').style.display="block";
                }
            });

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-02-04T17:25:51.547

一种解决方法是向任何将调用*change_session(val)的 DOM 元素添加*[引导工具提示](http://getbootstrap.com/javascript/#tooltips)，并在单击时显示有关（潜在）加载时间的消息。

 *这不是最好的，但是如果您假设您的用户即将单击该条目并因此将鼠标悬停在它上面，那么您知道将显示该消息。*

# git - 多个项目的 Git Bare 配置

> ID：16009129
> 
> 赞同：0
> 
> 时间：2013-04-15T06:40:54.050
> 
> 标签：git, dvcs

我们正在尝试为我们所有的项目维护一个集中式存储库（我们正在使用 Windows 服务器）

*   E:\回购

    *   项目一
    *   项目 2
    *   项目 3
    *   项目 4

现在我想与我的开发人员同事分享 repo 的详细信息，但我想用某种凭证来做这件事，比如从事项目 1 的团队不应该拉/推到项目 2 中。

我们怎样才能做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:24:08.003

您可能想查看[Bonobo Git 服务器](http://www.chodounsky.net/bonobo-git-server/)，可能还有[Gerrit](https://code.google.com/p/gerrit/)。看起来在 serverfault.com 上有一个[使用 Tomcat 和 LDAP for Gerrit 的设置指南。](https://serverfault.com/questions/383573/how-do-i-install-gerrit-under-tomcat-with-ldap)

不幸的是，我没有使用过其中任何一个，所以我不能为他们的表现说话。我确实知道 Gerrit 用于管理 Android 存储库。

# java - 覆盖 tostring()

> ID：16009135
> 
> 赞同：1
> 
> 时间：2013-04-15T06:41:22.343
> 
> 标签：java

我基于给定的 GUI 实现了一个类，我试图覆盖 tostring() 以在 GUI 上显示信息，但我无法让它正常工作。

图形用户界面代码

```
private void updateDisplay() {
    try {
        if (game.isAccepted()) {
            String str = "Selected Applicant:\n\n"
                    + currentApplicant.toString() + "\n\nwas ";
            if (game.isBestApplicant()) {
                str += "the BEST.  You Win!";
            } else {
                str += "not the best available.  You Lose.\n\nBest applicant was: \n\n"
                        + game.getBestApplicant();
            }
            display.setText(str);
            showNewGameControls();
        } else {
            display.setText("Current applicant is:\n\n"
                    + currentApplicant.toString()
                    + "\n\nDo you wish to accept or reject?");
            showCurrentGameControls();
        }
    } catch (HiringException e) {
        display.setText(e.getMessage());
    } catch (Exception e) {
        display.setText("Unandled Exception: " + e.toString());
        throw new RuntimeException(e);
    }
} 
```

对于我正在实现的类，我编写了以下方法

```
public String tostring(){
  return currentApplicant;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:43:13.587

您需要使用`toString`, not `tostring`，因为 Java 区分大小写。因此：

```
public String toString() 
```

从技术上讲，tostring 与 Java 中的 toString 不同。小心拼写。如果您的编辑器支持它，请使用`@Override`注释。`@Override`注释可防止您无法覆盖正确的方法。

# kendo-ui - kendo-UI 多个面板栏

> ID：16009136
> 
> 赞同：0
> 
> 时间：2013-04-15T06:41:43.917
> 
> 标签：kendo-ui

我有 3 个面板栏，并且在任何时候都应该打开一个面板栏。单击一个面板栏时，如何调用/触发其他面板栏的折叠事件。对于面板栏，我们有 .Events(e=>e.Collapse("panelbar_collapse2")) 但我们如何在单击另一个面板栏时调用此事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-24T06:47:37.280

您可以将 PanelBar 的 ExpandMode 属性用作

```
.ExpandMode(PanelBarExpandMode.Single) 
```

# ios - 向地图视图添加圆形叠加层

> ID：16009139
> 
> 赞同：1
> 
> 时间：2013-04-15T06:41:49.523
> 
> 标签：ios, ios6, mkmapview, cllocation, mkoverlay

我正在尝试在 ios mapview 中添加一个圆形叠加层，在视图中确实加载了我添加了以下代码

```
CLLocationCoordinate2D center = CLLocationCoordinate2DMake( 53.809638, -1.554586 );
    MKCircle *circle = [MKCircle circleWithCenterCoordinate:center radius:1000];
    circle.title = @"University of Leeds";
    [self.map addOverlay:circle]; 
```

还包括委托功能

```
- (MKOverlayView *)mapView:(MKMapView *)mapView viewForOverlay:(id <MKOverlay>)overlay {
    if ([overlay isKindOfClass:[MKCircle class]]) {
        MKCircleView *circleView = [[MKCircleView alloc] initWithCircle:(MKCircle*)overlay];
        circleView.fillColor = [[UIColor redColor] colorWithAlphaComponent:0.2];
        circleView.strokeColor = [[UIColor redColor] colorWithAlphaComponent:0.7];
        circleView.lineWidth = 2;
        return circleView;
    } 
```

但它不工作，为什么？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-13T10:28:29.733

你的`map`委托人设置好了吗？如果您在 Interface Builder 中创建地图：检查您的地图是否正确连接。

（注意半径以米为单位）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-19T17:36:54.207

您必须实现方法 GetOverlayRenderer，它应该创建一个 MKCircleRenderer。下面是 Xamarin 中的示例。

```
MKOverlayRenderer GetOverlayRenderer(MKMapView _nativeMapView, IMKOverlay overlay)
{
    if (overlay is MKCircle)
    {
        // Create a renderer if needed
        if (_circleRenderer == null)
        {
            _circleRenderer = new MKCircleRenderer(overlay as MKCircle);
            _circleRenderer.FillColor = UIColor.Red;
            _circleRenderer.Alpha = 0.3f;
        }
        return _circleRenderer;
    } 
```

# scheme - 科学计数法转换 - 方案

> ID：16009143
> 
> 赞同：5
> 
> 时间：2013-04-15T06:42:14.550
> 
> 标签：scheme, racket, scientific-notation, arithmetic-expressions

我正在尝试对两个非常大的数字进行简单的减法运算。

```
(- 1.8305286640724363e+023 (floor 1.8305286640724363e+023)) 
```

当我这样做时，我得到的结果为 0.0。我期待输出：

```
(- 1.8305286640724363e+023 (floor 1.8305286640724363e+023)) => .2439521 
```

扩展的科学记数法会给我这个答案。

183052866407243622723319.24395251 - 183052866407243622723319.00 = .2439521

我想用十进制数字表示这些数字，而不是科学记数法，这样我就可以达到预期的结果。有没有办法在 Scheme 中做到这一点？任何帮助、指导或参考将不胜感激:)

我正在为 Windows 64 位和 R5RS 语言使用 DrRacket。

**编辑**

我想我会尽可能具体地说明我正在执行的算术示例。

算术：

```
(* 271979577247970257395 0.6180339887) => 1.6809262297150285e+020 
```

在计算器中进行相同的乘法运算时，结果为 => 168092622971502827156.7975214365

当尝试使用精确或不精确时，我得到了这个：

```
(exact (* 271979577247970257395 0.6180339887)) => exact: undefined;
(inexact (* 271979577247970257395 0.6180339887)) => inexact: undefined; 
```

我想 R5RS 不支持精确/不精确？我查了一下，示例显示使用不精确->精确过程，所以我做了并得到了这个：

```
(inexact->exact (* 271979577247970257395 0.6180339887)) => 168092622971502854144 
```

只是为了具体起见，我做了相反的事情：

```
(exact->inexact (* 271979577247970257395 0.6180339887)) => 1.6809262297150285e+020 
```

因此，我尝试使用 Big Float，就像有人提到的那样：

```
(bf-precision 128)
(bf (* 271979577247970257395 0.6180339887)) => (bf 168092622971502854144) 
```

给我与精确相同的输出。我只想保存从计算器中得到的数字，这似乎是一项非常困难的任务！很抱歉，我可能因为没有得到这个而听起来很愚蠢，请记住，我是 SCHEME 的一个极端业余爱好者。再次感谢你的帮助！:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T14:50:57.263

当然，使用 Scheme 你有确切的数字：

```
(define x (+ (exact 183052866407243622723319) (exact .24395251)))
(define y (+ (exact 183052866407243622723319) (exact .0))) 
```

我拆分`x`以避免让 Scheme 阅读器截断该值。然后：

```
> x
3297587283763054256749149618043779713285/18014398509481984
> (- x y)
4394657732528389/18014398509481984
> (inexact (- x y))
0.24395251 
```

[编辑] 您需要在整个计算过程中使用准确的数字。这意味着将您的输入转换为精确的，然后最后将您的输出转换为不精确的（如果需要）。

至于你的尝试`#e(* 27... 0.6...)`- 那是行不通的，因为它`#e`适用于数字，而不是表达式。使用`(* #e27... #e0.6...)`.

```
> (* #e271979577247970257395 #e0.6180339887)
336185245943005654313595042873/2000000000 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T12:08:18.630

问题是输入中的有效数字比 Racket 在其内部表示中使用的数字多。

让我们输入裸数字：

```
> 183052866407243622723319.24395251
1.8305286640724363e+23

> 183052866407243622723319.00
1.8305286640724363e+23 
```

因此，这两个数字在内部都表示为相同的（整数）数字。这解释了为什么您的结果为 0。

此行为不仅限于 Racket。事实上，Racket 遵循 IEEE 标准来计算 64 位浮点数。您将在其他编程语言中获得相同的结果。

如果您需要计算为什么更高的精度，您可以使用 bigfloats 代替。

```
(require math/bigfloat)
(bf-precision 128) ; use 128 bits
(bf- (bf #e183052866407243622723319.24395251)
     (bfround (bf #e183052866407243622723319.00))) 
```

结果是：（bf #e0.2439525099999997337363311089575290679932）

注意：要使用 bigfloats，请确保您拥有最新版本的 Racket。

更新：如果您想知道为什么结果不是 .2439521，答案是结果和 .2439521 由相同的内部位模式表示。

更新：

如果要将结果转换回标准浮点数，请使用`bigfloat->flonum`.

```
(bf-precision 256)  ; to get more decimal digits correct
(bigfloat->flonum
   (bf- (bf #e183052866407243622723319.24395251)
        (bfround (bf #e183052866407243622723319.00)))) 
```

这给出了结果：0.24395251

附录：

Racket（和 Scheme）将带小数点的数字读取为浮点数。如果您在一个数字前加上#e，它将被读取为一个精确的数字（即结果值是一个精确的分数）。您可以使用它来保持精确的小数。您为整个计算精确数字，然后最终`exact->inexact`将结果转换为浮点数。这是您的示例：

```
> (exact->inexact 
     (- #e183052866407243622723319.24395251
        #e183052866407243622723319.00))
0.24395251 
```

# sparql - 使用 sparql 从 dbpedia 页面提取抽象和外部 wiki 链接

> ID：16009150
> 
> 赞同：0
> 
> 时间：2013-04-15T06:42:44.940
> 
> 标签：sparql, dbpedia

我有一个查询，可以找到包含有关 sachin tendulkar 信息的网站的 uri。我的结果中有 2 列，第一列用于 uri，第二列用于少量信息。我想为每个 dbpedia 网页的摘要添加第三列，为外部 wiki 链接添加第四列。我查找 uri 的查询是...

```
 select ?s1 as ?c1, ( bif:search_excerpt ( bif:vector ( 'SACHIN', 'TENDULKAR' ) , ?o1 ) ) as ?c2     where 
{ 
 { 
  { 
    select ?s1, ( ?sc * 3e-1 ) as ?sc, ?o1, ( sql:rnk_scale ( <LONG::IRI_RANK> ( ?s1 ) ) ) as ?rank, ?g where 
    { 
      quad map virtrdf:DefaultQuadMap 
      { 
        graph ?g 
        { 
          ?s1 ?s1textp ?o1 .
          ?o1 bif:contains ' ( SACHIN AND TENDULKAR ) ' option ( score ?sc ) .

        }
       }
     }
   order by desc ( ?sc * 3e-1 + sql:rnk_scale ( <LONG::IRI_RANK> ( ?s1 ) ) ) limit 20 offset 0 
  }
 }
} 
```

我还有一个单独的查询，用于从任何 dbpedia 页面中提取摘要。我想将两个查询合并为一个。提取摘要的查询是...

```
select ?abs where { <http://dbpedia.org/resource/Haldia_Institute_of_Technology> <http://dbpedia.org/ontology/abstract> ?abs                                                                                                                            FILTER (langMatches(lang(?abs),"en")) } 
```

# php - 如何使用php获取昨天的日期？

> ID：16009152
> 
> 赞同：107
> 
> 时间：2013-04-15T06:42:49.880
> 
> 标签：php, date

我想在 php 中使用特定日期格式获取昨天的日期，格式如下：

```
$today = date("d.m.Y"); //15.04.2013 
```

可能吗？

如果应该分别更改它们，请考虑月份和年份。

* * *

## 回答 #1

> 赞同：313
> 
> 时间：2013-04-15T06:43:34.330

你去吧

```
date('d.m.Y',strtotime("-1 days")); 
```

如果月份更改，这也将起作用

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-04-15T07:02:23.333

尝试这个

```
 $tz    = new DateTimeZone('Your Time Zone');
        $date  = new DateTime($today,$tz);
        $interval = new DateInterval('P1D');
        $date->sub($interval); 

        echo $date->format('d.m.y');

        ?> 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2019-12-04T05:18:51.857

PHP 中的昨天日期：

```
echo date("Y-m-d", strtotime("yesterday")); 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2013-04-15T06:43:38.703

你可以这样做

```
date("F j, Y", time() - 60 * 60 * 24); 
```

或通过

```
date("F j, Y", strtotime("yesterday")); 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2013-04-15T06:54:49.843

**步骤1**

我们需要在函数 date() 中设置格式数据：函数 date() 返回一个根据给定格式字符串格式化的字符串，使用给定的整数时间戳或当前时间，如果没有给出时间戳。换句话说，timestamp 是可选的，默认为 time() 的值。

```
<?php
echo date("F j, Y");
?> 
```

结果：2010 年 3 月 30 日

**第2步**

对于“昨天”日期，使用 php 函数 mktime()：函数 mktime() 返回与给定参数对应的 Unix 时间戳。此时间戳是一个长整数，包含 Unix 纪元（1970 年 1 月 1 日 00:00:00 GMT）和指定时间之间的秒数。参数可以按从右到左的顺序省略；任何因此省略的参数都将根据本地日期和时间设置为当前值。

```
<?php
echo mktime(0, 0, 0, date("m"), date("d")-1, date("Y"));
?> 
```

结果：1269820800

**第 3 步**

现在合并所有，看看这个：

```
<?php
$yesterday = date("Y-m-d", mktime(0, 0, 0, date("m") , date("d")-1,date("Y")));
echo $yesterday;
?> 
```

结果：2010 年 3 月 29 日

类似地操作，可以接收时间倒退。

```
<?php
$yesterday = date("H:i:s",mktime(date("H"), 0, 0, date("m"),date("d"), date("Y")));
echo $yesterday;
?> 
```

结果：20:00:00

或 7 天前：

```
<?php
$week = date("Y-m-d",mktime(0, 0, 0, date("m"), date("d")-7,date("Y")));
echo $week;
?> 
```

结果：2010-03-23

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2020-04-23T14:54:47.123

如果您在 PHP 应用程序中定义[时区](https://www.php.net/manual/en/timezones.php)（如您所愿），您可以这样做：

```
date_default_timezone_set('Europe/Paris'); 
```

然后它很简单：

```
$yesterday = new DateTime('yesterday'); // will use our default timezone, Paris
echo $yesterday->format('Y-m-d'); // or whatever format you want 
```

*（您可能需要定义一个常量或环境变量来存储您的默认时区。）*

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2020-07-20T07:24:47.590

DateTime 的另一种 OOP 方法，可设置确切的时间：

```
$yesterday = new DateTime("yesterday 09:00:59", new DateTimeZone('Europe/London'));
echo $yesterday->format('Y-m-d H:i:s') . "\n"; 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-04-15T06:50:07.030

尝试这个

```
<?php
$yesterday = date(“d.m.Y”, time()-86400);
echo $yesterday; 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2021-08-04T02:56:38.320

大多数答案都是程序/混合风格。这是纯 OOP 风格的解决方案：

```
$today = new DateTime();
$yesterday = $today->sub(new DateInterval("P1D"));
echo $yesterday->format("d.m.Y"); 
```

它还将处理夏令时和时区问题。简单的解决方案。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-03-27T15:10:52.693

您也可以使用[Carbon](https://carbon.nesbot.com/)库执行此操作：

```
Carbon::yesterday()->format('d.m.Y');         // '26.03.2019' 
```

其他格式：

```
Carbon::yesterday()->toDateString();          // '2019-03-26'
Carbon::yesterday()->toDateTimeString();      // '2019-03-26 00:00:00'

Carbon::yesterday()->toFormattedDateString(); // 'Mar 26, 2019'
Carbon::yesterday()->toDayDateTimeString();   // 'Tue, Mar 26, 2019 12:00 AM' 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-09-08T13:48:29.857

### 创建一个函数

```
function getYesterday()
{
    return \Carbon\Carbon::yesterday()->format('Y-m-d');
} 
```

### 调用函数

```
getYesterday(); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-04-13T06:31:02.783

我们可以使用 Fancy 方法。就像昨天这样。今天之前

```
$date = new DateTime; // example 2021-04-02
date_sub($date, date_interval_create_from_date_string('1 days')); 
$date = date_format($date, 'Y-m-d'); // Output will be 2021-04-01 
```

或者我们可以通过这样的特定日期找到昨天。

```
$date = date_create('2021-04-06');
date_sub($date, date_interval_create_from_date_string('5 days'));
$date = date_format($date, 'Y-m-d'); // The output will be 2021-04-01 
```

# javascript - Selenium IDE - 自动计算

> ID：16009155
> 
> 赞同：0
> 
> 时间：2013-04-15T06:43:01.917
> 
> 标签：javascript, selenium, selenium-ide

我有一个表格，其中有体重和身高字段。当我在这两个字段中键入值时，“BMI”字段中的值会自动填充。这在我手动执行时工作正常，但是在使用 IDE 时，BMI 中的值未填充。

请在 Selenium IDE 中给出具体答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:31:18.803

在帮助你解决问题之间的延迟？driver.sendKeys(); 睡觉（）; （来自 Java 的线程睡眠）

IDE 等待使用此 pause(); 目标 = 3000（3 秒）；值 = ;（空）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T09:22:16.397

您必须在文本框中手动书写。Selenium IDE 不接受来自自动加载下拉框的值

```
 pause |  1000
 type  |  id of text box |  value 
```

或者

```
pause      | 1000
Storeeval  | prompt("enter the value") | value
textbox    | id or xpath of textbox    | ${value} 
```

# c# - 在集合中添加增量索引号

> ID：16009157
> 
> 赞同：2
> 
> 时间：2013-04-15T06:43:07.303
> 
> 标签：c#, collections

```
public class Comment
{
    public int IndexNo {get;set;}
    public DateTime CreatedOn {get;set;}
}

static void Main()
{
    int i = 0;
    var comments = new List<Comment>()
    {
        new Comment() { CreatedOn = DateTime.Now.AddMinutes(1) },
        new Comment() { CreatedOn = DateTime.Now.AddMinutes(2) },
        new Comment() { CreatedOn = DateTime.Now.AddMinutes(3) },
        new Comment() { CreatedOn = DateTime.Now.AddMinutes(4) },
    };

    // Not very nice solution..
    var foos = new List<Comment>();
    foreach(var foo in comments.orderby(c=> c.createdOn))
    {
        foo.IndexNo = ++i;
        foos.add(foo);
    }

} 
```

如何从列表中为 IndexNo 属性分配一些增量编号？我的预期输出是：

*   2004 年 4 月 15 日下午 2:37 ~ 1
*   2004 年 4 月 15 日 2:38pm ~ 2
*   2004 年 4 月 15 日下午 2:39 ~ 3
*   2004 年 4 月 15 日下午 2:40 ~ 4

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:46:27.587

重新评论：

> 实际上，我希望在创建集合之后分配增量 IndexNo。

然后循环：

```
int i = 1;
foreach(var comment in comments) comment.IndexNo = i++; 
```

* * *

由于您正在对偏移量进行硬编码，因此您可以硬编码：

```
var comments = new List<Comment>() {
    new Comment() { CreatedOn = DateTime.Now.AddMinutes(1), IndexNo = 1 },
    new Comment() { CreatedOn = DateTime.Now.AddMinutes(2), IndexNo = 2 },
    new Comment() { CreatedOn = DateTime.Now.AddMinutes(3), IndexNo = 3 },
    new Comment() { CreatedOn = DateTime.Now.AddMinutes(4), IndexNo = 4 },
}; 
```

如果你想要一些不那么硬编码的东西，怎么样：

```
var comments = (from i in Enumerable.Range(1,4)
                select new Comment {
                   CreatedOn = DateTime.Now.AddMinutes(i), IndexNo = i
                }).ToList(); 
```

或更简单：

```
var comments = new List<Comment>(4);
for(int i = 1 ; i < 5 ; i++) {
    comments.Add(new Comment {
         CreatedOn = DateTime.Now.AddMinutes(i), IndexNo = i });
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-15T06:55:38.570

假设您要修改集合中的现有对象：

```
for (int i = 0; i < comments.Count; ++i)
    comments[i].IndexNo = i+1; 
```

# wpf - WPF（MVVM）菜单中的互斥（和可绑定）复选框

> ID：16009159
> 
> 赞同：4
> 
> 时间：2013-04-15T06:43:08.200
> 
> 标签：wpf, mvvm, binding, menu, checkbox

我试图找到一个在 WPF MVVM 应用程序的菜单中使用复选框的示例，该应用程序可以绑定到底层 ViewModel 类中的枚举。我有一个简单的例子：

```
public class MyViewModel
{

   public MyViewModel() // constructor
   {
      MyChosenColor = Colors.Red;  // Pick red by default...
   }
   public enum Colors
   {
      Red,
      Green,
      Blue,   // this is just an example.  Could be many more values...
   }
   public Colors MyChosenColor {get; set;}
} 
```

我想要一些 XAML（如果需要的话，还有最少量的代码绑定、转换器等），允许用户选择菜单项“颜色”并查看红色、绿色、蓝色并选中红色（在开始时）。检查 Blue 会将 MyChosenColor 属性设置为 Blue 并将检查更改为 Blue。我发现了一些有希望的链接： [互斥的可检查菜单项？](https://stackoverflow.com/questions/3652688/mutually-exclusive-checkable-menu-items) [如何将 RadioButtons 绑定到枚举？](https://stackoverflow.com/questions/397556/how-to-bind-radiobuttons-to-an-enum)

但是它们似乎都没有处理所有问题（互斥复选框；复选框，而不是单选按钮），并且许多都涉及大量代码。我在 Visual Studio 2012 上，所以现在也许有更好的方法或者我忽略了一些东西？

我不得不认为绑定到枚举的菜单中互斥复选框的想法最常见。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T23:22:44.337

感谢 Rachel 的评论，我在下面提出了答案。我希望它可以帮助需要这样做的人。我四处搜寻，并没有看到明确写下的示例。也许它太简单了：）我发现把所有东西放在一起并且工作有点痛苦，所以我把它写在这里。再次感谢雷切尔！

```
<Window x:Class="Demo.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
     xmlns:local="clr-namespace:Demo"
    Title="MainWindow" Height="350" Width="525">
<Window.Resources>

</Window.Resources>
<DockPanel>
    <Menu DockPanel.Dock="Top">
        <MenuItem Header="Number Of Players"  ItemsSource="{Binding Path=MyCollection}">
            <MenuItem.ItemContainerStyle>
                <Style TargetType="MenuItem">
                    <Setter Property="Header" Value="{Binding Title}" />
                    <Setter Property="IsCheckable" Value="True" />

                    <Setter Property="IsChecked" Value="{Binding IsChecked,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    <Setter Property="Command" Value="{Binding DataContext.MyCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type MenuItem}}}" />
                    <Setter Property="CommandParameter" Value="{Binding Player}" />
                </Style>
            </MenuItem.ItemContainerStyle>

        </MenuItem>

        </Menu>

    <Grid>

</Grid>
</DockPanel> 
```

这是 ViewModel 代码：

```
namespace Demo.ViewModel
{
public class MainViewModel : ViewModelBase
{

    public MainViewModel()
    {
       _myCollection = new ObservableCollection<NumberOfPlayersClass>();
        foreach (NumberOfPlayersEnum value in Enum.GetValues(typeof(NumberOfPlayersEnum)))
        {
            NumberOfPlayersClass myClass = new NumberOfPlayersClass();
            myClass.Player = value;
            myClass.IsChecked = value == NumberOfPlayersEnum.Two ? true : false; // default to using 2 players
            myClass.Title = Enum.GetName(typeof(NumberOfPlayersEnum), value);
            _myCollection.Add(myClass);
        }
    }
    private ICommand _myCommand;
    public ICommand MyCommand
    {
        get
        {
            if (_myCommand == null)
            {
                _myCommand = new RelayCommand(new Action<object>(ResolveCheckBoxes));

            }
            return _myCommand;
        }
    }

    ObservableCollection<NumberOfPlayersClass> _myCollection = new ObservableCollection<NumberOfPlayersClass>();
    public ObservableCollection<NumberOfPlayersClass> MyCollection
    {
        get
        {
           return _myCollection;
        }

    }
    public enum NumberOfPlayersEnum
    {
        One = 1,
        Two =2,
        Three =3,
    }
    public class NumberOfPlayersClass : ViewModelBase
    {
        public NumberOfPlayersClass()
        {
            IsChecked = false;
        }
        public NumberOfPlayersEnum Player { get; set; }
        private bool _isChecked = false;

        public bool IsChecked
        { get 
        { return _isChecked;
        }
            set
            {
                _isChecked = value;
                OnPropertyChanged("IsChecked");
            }

       }
        public string Title { get; set; }

    }

    private void ResolveCheckBoxes(object checkBoxNumber)
    {
        NumberOfPlayersEnum myEnum = (NumberOfPlayersEnum)checkBoxNumber;
        ObservableCollection<NumberOfPlayersClass> collection = MyCollection;
        NumberOfPlayersClass theClass = collection.First<NumberOfPlayersClass>(t => t.Player == myEnum);

            // ok, they want to check this one, let them and uncheck all else
            foreach (NumberOfPlayersClass iter in collection)
            {
                iter.IsChecked = false;
            }
            theClass.IsChecked = true;

    }
}
/// <summary>
/// A command whose sole purpose is to 
/// relay its functionality to other
/// objects by invoking delegates. The
/// default return value for the CanExecute
/// method is 'true'.
/// </summary>
public class RelayCommand : ICommand
{
    #region Fields

    readonly Action<object> _execute;
    readonly Predicate<object> _canExecute;

    #endregion // Fields

    #region Constructors

    /// <summary>
    /// Creates a new command that can always execute.
    /// </summary>
    /// <param name="execute">The execution logic.</param>
    public RelayCommand(Action<object> execute)
        : this(execute, null)
    {
    }

    /// <summary>
    /// Creates a new command.
    /// </summary>
    /// <param name="execute">The execution logic.</param>
    /// <param name="canExecute">The execution status logic.</param>
    public RelayCommand(Action<object> execute, Predicate<object> canExecute)
    {
        if (execute == null)
            throw new ArgumentNullException("execute");

        _execute = execute;
        _canExecute = canExecute;
    }

    #endregion // Constructors

    #region ICommand Members

    [DebuggerStepThrough]
    public bool CanExecute(object parameter)
    {
        return _canExecute == null ? true : _canExecute(parameter);
    }

    public event EventHandler CanExecuteChanged
    {
        add { CommandManager.RequerySuggested += value; }
        remove { CommandManager.RequerySuggested -= value; }
    }

    public void Execute(object parameter)
    {
        _execute(parameter);
    }

    #endregion // ICommand Members
}
}

/// <summary>
/// Base class for all ViewModel classes in the application.
/// It provides support for property change notifications 
/// and has a DisplayName property.  This class is abstract.
/// </summary>
public abstract class ViewModelBase : INotifyPropertyChanged, IDisposable
{
    #region Constructor

    protected ViewModelBase()
    {
    }

    #endregion // Constructor

    #region DisplayName

    /// <summary>
    /// Returns the user-friendly name of this object.
    /// Child classes can set this property to a new value,
    /// or override it to determine the value on-demand.
    /// </summary>
    public virtual string DisplayName { get; protected set; }

    #endregion // DisplayName

    #region Debugging Aides

    /// <summary>
    /// Warns the developer if this object does not have
    /// a public property with the specified name. This 
    /// method does not exist in a Release build.
    /// </summary>
    [Conditional("DEBUG")]
    [DebuggerStepThrough]
    public void VerifyPropertyName(string propertyName)
    {
        // Verify that the property name matches a real,  
        // public, instance property on this object.
        if (TypeDescriptor.GetProperties(this)[propertyName] == null)
        {
            string msg = "Invalid property name: " + propertyName;

            if (this.ThrowOnInvalidPropertyName)
                throw new Exception(msg);
            else
                Debug.Fail(msg);
        }
    }

    /// <summary>
    /// Returns whether an exception is thrown, or if a Debug.Fail() is used
    /// when an invalid property name is passed to the VerifyPropertyName method.
    /// The default value is false, but subclasses used by unit tests might 
    /// override this property's getter to return true.
    /// </summary>
    protected virtual bool ThrowOnInvalidPropertyName { get; private set; }

    #endregion // Debugging Aides

    #region INotifyPropertyChanged Members

    /// <summary>
    /// Raised when a property on this object has a new value.
    /// </summary>
    public event PropertyChangedEventHandler PropertyChanged;

    /// <summary>
    /// Raises this object's PropertyChanged event.
    /// </summary>
    /// <param name="propertyName">The property that has a new value.</param>
    protected virtual void OnPropertyChanged(string propertyName)
    {
        this.VerifyPropertyName(propertyName);

        PropertyChangedEventHandler handler = this.PropertyChanged;
        if (handler != null)
        {
            var e = new PropertyChangedEventArgs(propertyName);
            handler(this, e);
        }
    }

    #endregion // INotifyPropertyChanged Members

    #region IDisposable Members

    /// <summary>
    /// Invoked when this object is being removed from the application
    /// and will be subject to garbage collection.
    /// </summary>
    public void Dispose()
    {
        this.OnDispose();
    }

    /// <summary>
    /// Child classes can override this method to perform 
    /// clean-up logic, such as removing event handlers.
    /// </summary>
    protected virtual void OnDispose()
    {
    }

#if DEBUG
    /// <summary>
    /// Useful for ensuring that ViewModel objects are properly garbage collected.
    /// </summary>
    ~ViewModelBase()
    {
        string msg = string.Format("{0} ({1}) ({2}) Finalized", this.GetType().Name,      this.DisplayName, this.GetHashCode());
        System.Diagnostics.Debug.WriteLine(msg);
    }
#endif

    #endregion // IDisposable Members
} 
```

[您可以在http://msdn.microsoft.com/en-us/magazine/dd419663.aspx](http://msdn.microsoft.com/en-us/magazine/dd419663.aspx)和[http://rachel53461.wordpress.com/2011/05/08/simplemvvmexample/](http://rachel53461.wordpress.com/2011/05/08/simplemvvmexample/)获取有关 RelayCommand 和 ViewModelBase 类的信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-13T18:48:11.807

有关使用 RoutedUICommands、枚举和 DataTriggers 的方法，请参阅我对[“互斥的可检查菜单项”](https://stackoverflow.com/questions/3652688/mutually-exclusive-checkable-menu-items/17633086#17633086)的回答。这几乎就是您最初要求的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-04-10T08:35:20.383

[受此](https://stevemdev.wordpress.com/2011/01/08/mutually-exclusive-checkboxes-in-wpf/)博客文章启发的替代答案：

```
class CheckBoxGroup
{
    public static bool GetIsEnabled(DependencyObject obj) => (bool)obj.GetValue(IsEnabledProperty);
    public static void SetIsEnabled(DependencyObject obj, string value) =>
                                                              obj.SetValue(IsEnabledProperty, value);
    public static readonly DependencyProperty IsEnabledProperty = 
         DependencyProperty.RegisterAttached("IsEnabled", typeof(bool), typeof(CheckBoxGroup), 
               new PropertyMetadata(false, Callback));

    private static void Callback(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        var container = d as UIElement;
        container.AddHandler(ToggleButton.CheckedEvent, 
                                    new RoutedEventHandler(GroupedButton_Checked));
    }

    private static void GroupedButton_Checked(object sender, RoutedEventArgs e)
    {
        var container = sender as DependencyObject;
        var source = e.OriginalSource as ToggleButton;
        foreach(var child in LogicalTreeHelper.GetChildren(container).OfType<ToggleButton>())
        {
            if(child != source) child.IsChecked = false;
        }
    }
} 
```

用法：

```
<ListBox local:CheckBoxGroup.IsEnabled="True">
    <CheckBox Content="Dibble"/>
    <CheckBox Content="Dobble"/>
    <CheckBox Content="Dabble"/>
    <CheckBox Content="Dubble"/>
</ListBox> 
```

# python - 如何在 python 中使用文本文件的特定行？

> ID：16009161
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:43:11.277
> 
> 标签：python, file, text, readline

我的文本文件是这样的：

```
467 119 635 231 234 858
786 463 715 745 729 574 856 806 339 106 487
798 791 392 916 177 115 948 871 525 
```

如您所见，有三个具有不同数值的单独行。我的任务是对它们进行分类，但只对它们所在的行进行分类。所以基本上，我需要将第一行从小到大排序，然后将第二行从小到大排序，第三行也是如此。

该程序指定它需要使用此 .txt 文件中的值。所以我想要做的是一次查看每一行并处理该行，用代码对其进行排序，然后将其放回原处。

我的问题是：如何让 python 一次只看一行？

我知道这段代码读取了第一行：

```
f = open("numbers.txt", "r")
f.readline() 
```

但我正在寻找只返回每一行的东西，这样我就可以使用该特定行的排序代码。

澄清：我不是在寻求排序方面的帮助，我只是想弄清楚如何一次单独查看每一行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:44:29.830

```
for line in f:
    nums = map(int, line.split())
    # looks at one line at a time, you can sort it now 
```

如果您希望它们一次全部加载

```
nums = [map(int, line.split()) for line in f] 
```

现在您可以像 , 一样访问它`nums[0]`，`nums[1]`对于每个单独的行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:48:22.050

这是一个可以做你想做的事情的功能。只需给它文件的路径，剩下的就交给它了。

注意：它是一个生成器。

```
def read_sort(file_path):
    with open(file_path) as f:
        for line in f:
            yield sorted(map(int, line.split()))

print list(read_sort(__path_to_file__) 
```

# php - 函数中的 Mysqli 查询 - PHP

> ID：16009164
> 
> 赞同：3
> 
> 时间：2013-04-15T06:43:20.357
> 
> 标签：php, mysqli

我在 functions.php 中有一个函数**列表**。我正在从*Mysql*升级到*Mysqli*，因为我刚刚学习*Mysql*现在已经贬值了。

我在顶层connect.php 文件中声明了我的连接。需要的第一个文件。

无论如何，回到这一点，我所有的函数都使用 mysql_query("QUERY") 并且总是运行良好。现在我将它们全部更改为：

```
$con->query("QUERY") // ($con is my connection variable) 
```

现在我得到一个

> 致命错误：在第 241 行的 C:\wamp\www\PHP\functions.php 中的非对象上调用成员函数 query()

我不明白为什么我可以查询我是否在整个文件中声明了我的变量。它应该在任何地方都可以访问，我只是不确定。这使我的网站处于暂停状态，直到我可以解决此问题。这是来自functions.php的示例**函数**

```
function getSiteName()
{
    $row = $con->query("SELECT * FROM siteinfo")->fetch_array();
    return $row["siteName"];
} 
```

我的连接：

```
global $con ;
$con = new mysqli("localhost", "itunes89", "XXXX","projectanvil") or die("Sorry, were having server connection issues. Please try again later."); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T06:47:18.153

这是一个[变量范围](http://php.net/manual/en/language.variables.scope.php)问题。您需要传递`$conn`给`getSiteName()`：

```
function getSiteName($con) {
    $row = $con->query("SELECT * FROM siteinfo")->fetch_array();
    return $row["siteName"];
}

$name = getSiteName($con); 
```

或者使用带有构造函数注入的类：

```
class MyThing
{
    protected $con;

    public function __construct($con) {
        $this->con = $con;
    }

    public function getSiteName() {
        $row = $this->con->query("SELECT * FROM siteinfo")->fetch_array();
        return $row["siteName"];
    }
}

$obj = new MyThing($con);
$name = $obj->getSiteName(); 
```

在整个课程中，您可以使用`$this->con`来访问连接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:52:07.620

```
 $con = new mysqli(
         "localhost", 
         "itunes89", 
          "XXXX",
          "projectanvil"
  ); 
```

失败时不会返回 null 或 false。

你应该检查的价值

```
 mysqli_connect_errno() 
```

连接后验证 $con 是有效的服务器连接。

由于您将 $con 设为全局，因此要让 getSiteName 函数访问它，您应该编写：

```
 function getSiteName(){
 global $con;
      $row = $con->query("SELECT * FROM siteinfo")->fetch_array();
      return $row["siteName"];
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:46:39.593

您是否为 $con 对象定义

```
<?php
// connect to the server
$conn = new mysqli('localhost', 'root', 'pass', 'dbname');

// check connection
if (mysqli_connect_errno()) {
  exit('Connect failed: '. mysqli_connect_error());
}
?> 
```

# html - Joomla 2.5 模板的 jdoc 样式值

> ID：16009166
> 
> 赞同：1
> 
> 时间：2013-04-15T06:43:23.100
> 
> 标签：html, joomla, joomla-template

我正在 Joomla 2.5 中创建一个 HTML5 模板，我想知道下面代码中样式属性的选项是什么？

```
<jdoc:include type="modules" name="top" style="???" /> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:26:47.797

打开`templates\system\html\modules.php`. 有已定义的系统样式，例如`xhtml`等`rounded`。您还可以查看代码如何呈现每种样式。

如果要添加自己的样式，则需要创建一个新的`module chrome`. 在您的模板 html 文件夹（不是系统，不要编辑上面的文件）中，创建名为`modules.php`.

在里面，做一个这样的函数

```
defined('_JEXEC') or die;

function modChrome_mystyle($module, &$params, &$attribs)
{
    if (!empty ($module->content)) : ?>
             <div class="moduletable">
                  <?php if ($module->showtitle != 0) : ?>
                       <h3><?php echo $module->title; ?></h3>
                  <?php endif; ?>
                  <?php echo $module->content; ?>
            </div>
    <?php endif;
} 
```

这样您就可以创建自定义模块输出，只需按照您想要的方式编辑代码。

然后，在您的模板文件中，将模块包含在

```
 <jdoc:include type="modules" name="top" style="mystyle" /> 
```

# c# - 为什么拆分没有优化？

> ID：16009167
> 
> 赞同：-4
> 
> 时间：2013-04-15T06:43:29.367
> 
> 标签：c#, .net

考虑以下代码。's' 被分成两次到两个不同的数组。

```
string s = "1,2,3";
string[] arr = s.Split(',');
string[] arr2 = s.Split(',');

foreach (..)
{ // do something
} 
```

在发布模式下编译时，IL 看起来像这样，因此 Split 实际上被调用了两次。有没有优化的原因？

```
IL_0008: newarr [mscorlib]System.Char
IL_000d: stloc.s CS$0$0000
IL_000f: ldloc.s CS$0$0000
IL_0011: ldc.i4.0
IL_0012: ldc.i4.s 44
IL_0014: stelem.i2
IL_0015: ldloc.s CS$0$0000
IL_0017: callvirt instance string[] [mscorlib]System.String::Split(char[])
IL_001c: stloc.1
IL_001d: ldloc.0
IL_001e: ldc.i4.1
IL_001f: newarr [mscorlib]System.Char
IL_0024: stloc.s CS$0$0001
IL_0026: ldloc.s CS$0$0001
IL_0028: ldc.i4.0
IL_0029: ldc.i4.s 44
IL_002b: stelem.i2
IL_002c: ldloc.s CS$0$0001
IL_002e: callvirt instance string[] [mscorlib]System.String::Split(char[]) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T17:20:52.410

将评论提炼成答案：

一般来说，编译器对方法的内容没有特殊的了解——即使它[*可以*](http://en.wikipedia.org/wiki/Halting_problem)分析当前的实现，它也无法知道该实现是否会在重要细节上发生变化。

您假设编译器可以执行的优化的两个最明显的问题是确定性和副作用的存在。

1.  确定性 - 即使没有任何（明显的）共享状态，也不能保证对同一函数的两次连续调用会产生相同的结果。

2.  副作用 - 有问题的函数（或它调用的函数）可能会产生可见的副作用 - 甚至只是增加调用计数器 - 这样调用它一次或两次会产生不同的整体效果。

现在，确实有时，编译器可以完成我们自己无法实现的技巧 - 例如，它*可以*知道两次连续调用`Split()`，使用无法分配 a 副本的本地引用更明显的参考，应该产生相同的结果。但这是一个*非常*具体的优化，可能不值得工程努力。

一般来说，编译器*的*知识并不比方法签名多。而且，在当前的 .NET 版本中，方法签名没有提供有关确定性和副作用的信息。

# c# - 在 MVC ASPX 视图中设置断点

> ID：16009168
> 
> 赞同：6
> 
> 时间：2013-04-15T06:43:30.150
> 
> 标签：c#, asp.net-mvc, visual-studio

我记得在[Scott Gu 的 Razor 公告](http://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx)中提到了对 Razor 视图的完整调试器支持；我很欣赏能够在 Razor 视图中设置断点，也遇到无法在视图中设置断点，只是很快意识到这是一个 ASPX 视图。:P

有时我无法帮助/更改现有视图使用 ASPX 视图引擎，但是：有没有一种方法我还没有学会在 ASPX 视图中设置断点？如果不是，那么下一个最好的事情是什么？有没有比`Debugger.Break()`调试后恢复更好的解决方法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T07:05:29.237

与流行的看法相反，您实际上可以在 ASPX 视图中设置断点。

在 Visual Studio 中，您可以将光标导航到所需位置，点击`F9`(Toggle Breakpoint) 即可完成。

它可以在 Razor 和 ASPX 视图中完成，甚至可以在 ASPX 页面（在 WebForms 中）中完成。

如果你不能在那里设置断点，这意味着给定的部分不是 C# 代码，而是 HTML 部分。你不能在像这样的部分设置断点`<span>`，你只能在傻`<%`和`%>`部分之间设置断点（在 Razor 中它是`@{...}`，`@(...)`或者简单地`@...`）。

还要确保您的应用程序已构建，并且调试器已附加到服务器实例（如果它在 IIS 上，则在项目属性中快速切换到开发服务器，反之亦然）。

停止任务栏上的开发服务器实例，重建您的项目并重新启动它。它应该很好地达到断点。

# c++ - 比较没有 RTTI 的抽象类？

> ID：16009175
> 
> 赞同：0
> 
> 时间：2013-04-15T06:43:53.390
> 
> 标签：c++, oop, design-patterns

我正在设计一个扑克游戏。将有一个 PokerHand 类用于用户拥有的牌（总是 5 张牌）。PokerHand 有不同的类别，例如顺子、同花顺、满堂彩等。

现在我希望所有的 PokerHand 都具有可比性。类别之间有一个明确的顺序：同花顺 > 同花顺 > 全屋 > ... 对于每个类别，都有不同的比较规则。例如，对于顺子，高牌决定。对于“4 of a kind”，由 4 张相同的牌决定。

```
class PokerHand {
 public:
  int CompareTo(const PokerHand* another) = 0;
  Category GetCagegory();
 ...
} 
```

使用 RTTI，我可以将 CompareTo 实现为

```
class Straight : public PokerHand {
  ...
}

int Straight::CompareTo(const PokerHand& another) OVERRIDE {
  const Straight* s = dynamic_cast<const Straight*>(another);
  if (s == NULL) {
    // Not a straight. Compare category.
    ...
  } else {
    // compare high card
    ...
  }
} 
```

现在我的问题是，考虑到 RTTI 主要被视为“不建议使用”，有没有一种不使用 RTTI 来实现比较的好方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:04:16.670

我很确定你这样做的方式是错误的。

A`PokerHand`是 a `PokerHand`，无论它持有满堂彩、同花顺还是一副完全没用的牌。[如果你用五张牌、七张牌玩扑克，或者显示或不显示你的牌是什么等等，你可能会发现你需要有几种类型——但为了评估你的手牌“价值”，你需要一种班级]。

您需要的是一个可以告诉您实际拥有什么的功能。为此，我将假设您有一个`struct Card`包含以下内容：

```
 struct Card
 {
     int suite;  (1..4)
     int value;  (2..14)
 }; 
```

然后我假设我们在玩 5 张牌，如果你在玩可变数量的牌，那么你可能想要使用向量。

```
 class PokerHand
 {
    ... 
    Card cards[5]; 
 }

 int PokerHand::value()     
 // return 0 for "useless, nothing", otherwise how good -> better is higher
 {
    int ret = 0;

    ... check if they are the same suite (flush)
        ... if so, are they in sequence (straight flush)
           ... if so, is the highest a king - (royal straight flush)  
        return ret;

    else

       ... here we write code to check how many cards have the same value 
           (2, 3, 4  of a kind or full house)
       if at least two same value:
       return ret;          

   return ret;

 } 
```

您可能会发现，如果您在两个步骤中分别按套件或按值对牌进行排序，则编写此函数会更容易。您需要考虑牌的价值，例如 3 个 A 击败 3 个 K 击败 3 个 Q 等。您还必须处理“等值，更好的套件”类型的情况，例如 3 个 K，并使用这些值剩余的牌（例如 3 张有两张“未使用的牌”）来确定最高值。

这里列出了规则： [http ://en.wikipedia.org/wiki/List_of_poker_hands](http://en.wikipedia.org/wiki/List_of_poker_hands)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:51:19.000

您可以为每种手牌类型分配权重，并为颜色和卡片顺序分配子权重。然后你可以有一个虚函数来计算权重和子权重并比较结果。这对你有用吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T06:52:02.233

尽管它很诱人，但鉴于同花顺、顺子等与扑克手之间的明确关系，我实际上根本不会在这里使用继承，至少对于手型而言不是。例如，在任何平局扑克游戏中，**手的类型都可以改变**，而在德州扑克等其他游戏中，它只是逐渐显露出来。但是当然类类型在初始化后不能改变。

而是只存储卡片，并有一个返回类型（枚举成员）的基函数或朋友函数，另一个用于排序卡片（这样您就可以获得高卡等）然后定义一个简单的比较器函数，再次为基类或全球朋友，比较两只手。

```
struct Card
{
   int suit, rank;
};
bool operator<(const Card& a, const Card& b) { ... }

class PokerHand
{
   public: 
      // ... constructor

      enum HandType
      {
         NOTHING = 0,
         PAIR, 
         TWO_PAIR, 
         ...
      }

      HandType GetHandType() { ... }

   private:
      std::vector<Card> _hand;
};
bool operator<(const PokerHand& a, const PokerHand& b) { ... } 
```

填补空白并不难。

如果您*确定*要派生类，那么我会使用 RTTI 上的类型字段，这可以通过例如上面的枚举来完成。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T06:54:15.733

那应该很简单。您可以添加某种重量：

```
class PokerHand {
 public:
  //...
  virtual int GetHandWeights() const = 0;
};

bool operator<( const PokerHand & lh, const PokerHand & rh )
{
  return lh.GetHandWeights() < rh.GetHandWeights();
} 
```

然后，您需要做的就是使用`operator<`.

# c# - 如何从下拉列表中检索文本？

> ID：16009181
> 
> 赞同：1
> 
> 时间：2013-04-15T06:44:14.957
> 
> 标签：c#, asp.net, sql

我必须将更改审核到数据库中。在大多数页面上，这都很完美，因为只有文本框 - 但是在我现在正在处理的页面上，使用下拉列表，我的代码不起作用。

```
<td>
  <asp:DropDownList ID="DropDownList4" runat="server" DataSourceID="SqlDatacountry" DataTextField="country_name" DataValueField="country_id">
  </asp:DropDownList>

  <asp:SqlDataSource ID="SqlDatacountry" runat="server"  ConnectionString="<%$ ConnectionStrings:songtypecons %>" SelectCommand="SELECT * FROM [country_detail]"></asp:SqlDataSource>
</td> 
```

后面的代码：

```
string sql1 = "selectcust_fname,cust_mname,cust_lname,cust_birthdate,cust_gender,cust_address,cust_contact_num,cust_country,cust_state,cust_city,cust_zip from cust_detail where cust_id ='" + ds.Tables["filldata"].Rows[0].ItemArray[0].ToString() + "' ";
            SqlDataAdapter adpt1 = new SqlDataAdapter(sql1, con);
            DataSet ds1 = new DataSet();
            adpt1.Fill(ds1, "custdata");
            if (ds1.Tables["custdata"].Rows.Count > 0)
            {

             for (int d = 0; d < DropDownList4.Items.Count; d++)
            {
               if (ds1.Tables["custdata"].Rows[0].ItemArray[7].ToString() == DropDownList4.Items[d].Text)
              {
                   DropDownList4.Items[d].Selected = true;
                   break;
               }
           }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:58:27.543

如果我清楚地理解您的问题，您只需要在您的[`ListControl.SelectedIndexChanged`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listcontrol.selectedindexchanged.aspx)活动中使用您的代码。

> 当列表控件的选择在发送到服务器的帖子之间发生变化时发生。

```
<asp:DropDownList ID="DropDownList4" runat="server" AutoPostBack="True" 
        onselectedindexchanged="DropDownList4_SelectedIndexChanged" ...>
</asp:DropDownList>

protected void DropDownList4_SelectedIndexChanged(object sender, EventArgs e)
{
  ...
} 
```

正如我在*[评论](https://stackoverflow.com/questions/16009181/how-to-retrieve-text-from-dropdownlist/16009377#comment22831645_16009181)*中所写，您应该始终在您的 sql 命令中使用*[参数化查询](http://www.codinghorror.com/blog/2005/04/give-me-parameterized-sql-or-give-me-death.html)*，您的代码对*[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)*攻击是开放的。

# ios - 在 ios 中为动画 uiimageview 添加遮罩

> ID：16009182
> 
> 赞同：0
> 
> 时间：2013-04-15T06:44:20.310
> 
> 标签：ios, animation, uiimageview, calayer, masking

我正在创建一个打开和关闭门的基本动画（就像在电梯中，它的两扇门来回滑动）。我使用 CABasicAnimation 来翻译两扇门（两个 imageview）。

我的问题是当门（imageview）滑出时，门的图像从框架中出来；因此我正在使用 CALayer 的屏蔽属性，但我无法获得预期的结果。

我希望门的图像部分在滑出时从框架中出来，并且在滑入时应该再次出现。

谢谢队友。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:16:00.127

将包含此图像视图的视图的属性“剪辑子视图”设置为 nib 文件中的子视图可能会对您有所帮助

# qt - QNetworkAccessManager :为什么reply.rawHeaderPairs () ==[] 在这里？

> ID：16009183
> 
> 赞同：0
> 
> 时间：2013-04-15T06:44:22.660
> 
> 标签：qt, pyqt, pyside

我绝对是 QtNetwork 模块的新手，这里有一个简单的问题。为什么reply.rawHeaderPairs () ==[] 在这里？有什么不对 ？

```
import sys
from PyQt4.QtGui import *
from PyQt4.QtCore import *
from PyQt4.QtNetwork  import *

if __name__ == '__main__':

    app =QCoreApplication(sys.argv)

    manager=QNetworkAccessManager ()
    url =input('input url :')

    print(QUrl.fromEncoded(QUrl(url).toEncoded()))
    request=QNetworkRequest (QUrl.fromEncoded(QUrl(url).toEncoded()))

    request.setRawHeader("User-Agent" ,'Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1')
    reply = manager.get(request)

    print(reply.rawHeaderPairs () )
    sys.exit() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T16:03:32.610

这是因为您的`get`请求实际上还没有完成。所以实际上没有要查看的标题数据。

`QNetworkReply::get()`不是阻塞函数调用。返回的`QNetworkReply`对象将通过它发出的各种[信号](http://qt-project.org/doc/qt-4.8/qnetworkreply.html#signals)`manager.get()`让您知道`get`请求何时实际完成。

# c# - levelBaseStart 有什么问题？

> ID：16009185
> 
> 赞同：0
> 
> 时间：2013-04-15T06:44:24.967
> 
> 标签：c#, operators, unity3d

```
using UnityEngine;
using System.Collections;

public class PlayerStats : MonoBehaviour {
[System.Serializable]
public class BaseStats {

    string name;
    int currentLevel;
    int targetLevel = currentLevel + 1;
    int currentHp;
    int maxHp;
    int currentAp;
    int maxAp;

    int strength;
    int toughness;
    int agility;
    int intelligence;
    int willPower;
    int luck;

    int attack;
    int hitPercentage;
    int defence;
    int defPercentage;
    int powerAttack;
    int powerDefence;
    int powerDefPercentage;

    int totalExp;
    int totalExpNeeded;
    int expTilLevel;
    int expMod;
    int expBase;
    int levelBaseStart = [(targetLevel- 2 ) / 10] * 10 + 2;

}

void AddExp(int experience){

// Update is called once per frame
void Update () {

}
} 
```

我以为 [ ] 取了这个数字并把它变成了一个整数，如果不是这样，我该怎么做？我正在制作 exp 变量以在我的等式中使用来计算达到某个水平所需的总 exp。在此先感谢！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:58:48.703

我从来没有听说过 [] 被用来将一个数字变成一个整数......

您可以使用`Math.Floor((targetLevel- 2 ) / 10)`来实现整数 [http://msdn.microsoft.com/en-GB/library/e0b5f0xb.aspx](http://msdn.microsoft.com/en-GB/library/e0b5f0xb.aspx)

# xml - NSUserDefaults 和 NSPropertyListSerialization

> ID：16009187
> 
> 赞同：0
> 
> 时间：2013-04-15T06:44:30.590
> 
> 标签：xml, cocoa, nsuserdefaults

我正在使用 NSUserDefaults 编写一些首选项，尽管我想将它们保存为 XML 格式（目前它默认保存为二进制文件）。我见过[一些使用 NSPropertylistSerialization 保存 .plist 的示例](https://stackoverflow.com/questions/10098512/how-to-save-plist-to-nsuserdefaults)，但是它们看起来过于复杂。有没有一种简单的方法可以做到这一点？

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];

[defaults setObject:[NSNumber numberWithBool:NO] forKey:@"Button One"];
[defaults setObject:[NSNumber numberWithBool:NO] forKey:@"Button Two"];

[[NSUserDefaults standardUserDefaults] synchronize]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:16:26.087

您使用 Xcode 接口创建的 .plist 可读但不可写。如果您想更改项目 Bundle 中的文件，主要是在 Documents 或 Library 中的一个文件夹中进行复制，然后总是需要处理副本或使用代码创建 .plist。

创建：

```
NSString *documentsPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,   NSUserDomainMask, YES) objectAtIndex:0];
NSString* plistPath = [documentsPath stringByAppendingPathComponent:@"test.plist"];

NSArray* fruits= [NSArray arrayWithObjects:@"apple", @"orange", @"cherry", nil];
NSArray* vegetables= [NSArray arrayWithObjects:@"cabbage", @"pumpkin", @"leek", nil];

NSDictionary* dictionary= [NSDictionary dictionaryWithObjectsAndKeys:fruits, @"fruits", vegetables, @"vegetables", nil];

[dictionary writeToFile:plistPath  atomically:YES]; 
```

读写：

```
NSString *documentsPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,    NSUserDomainMask, YES) objectAtIndex:0];
NSString* plistPath = [documentsPath stringByAppendingPathComponent:@"test.plist"];

NSDictionary* dictionary= [[NSDictionary alloc] plistPath ];

NSMutableArray* fruits= [dictionary objectForKey:@"fruits"];
NSMutableArray* vegetables= [dictionary objectForKey:@"vegetables"];

NSLog(@"First Fruit: %@",[fruits objectAtIndex:0]);
NSLog(@"First Vegetable: %@",[vegetables objectAtIndex:0]);

[fruits replaceObjectAtIndex:0 withObject:@"banana"];

[dictionary writeToFile:plistYolu atomically:YES]; 
```

# java - Servlet 的单元测试

> ID：16009196
> 
> 赞同：3
> 
> 时间：2013-04-15T06:45:02.817
> 
> 标签：java, unit-testing, servlets

我需要围绕一个以 HttpServletRequest 和 HttpServletResponse 对象作为参数的函数编写单元测试。

如果我创建这两个对象（请求和响应）的模拟，一个中的变化将如何反映在另一个中。

前任。如果我想围绕我在响应对象中设置标头的代码进行单元测试。

```
response.addHeader("X-UA-Compatible", "IE=EmulateIE7"); 
```

让我知道如何进行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:48:42.910

在您的模拟库中，将有一些方法可以断言方法已被调用。因此，您的测试代码将包含如下语句：

```
// psuedo-code
assertThat(mockResponse).addHeader("X-UA-Compatible", "IE=EmulateIE7"); 
```

在我使用的模拟框架（JMock、Mockito）中，模拟对象之间没有自动协作。因此，除非您声明一个，否则您的 mocked`HttpServletRequest`将与您的 mocked 没有关系。`HttpServletResponse`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:49:03.360

Spring 框架提供了 a[`MockHttpServletRequest`](http://static.springsource.org/spring/docs/3.0.x/api/index.html?org/springframework/mock/web/MockHttpServletRequest.html)和 a [`MockHttpServletResponse`](http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/mock/web/MockHttpServletResponse.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:54:59.827

问题在于标准模拟，它们会为您创建一个代理。所以你可能永远不知道代码调用后是否设置了正确的值

response.addHeader("X-UA-Compatible", "IE=EmulateIE7");

如果您自己创建存根，那么您实际上可以验证方法调用中设置的内容。但是这种方法也有很多问题。

# facebook - Facebook Graph：可以将照片上传到 /user/account/album？如果是这样，怎么做？

> ID：16009197
> 
> 赞同：0
> 
> 时间：2013-04-15T06:45:06.583
> 
> 标签：facebook, facebook-graph-api, curl

我正在尝试为一小部分已知用户设置一个应用程序，所有这些用户都有一个子“页面”、“帐户”或任何常用的术语。该应用程序的主要目标是代表他们以自动方式将照片发布到这些子帐户。

问题的症结似乎在于，虽然我可以要求“manage_pages”来管理用户的子帐户，而“publish_stream”允许我将照片上传到用户的根流*，但我无法将照片上传到**子帐户**流*.

我已经能够对子帐户流进行状态更新（仅限文本），但每次我尝试上传照片（通过 curl、命令行样式）时，我都会收到各种错误，具体取决于我尝试的方式它：

[http://graph.facebook.com/albumid/photos](http://graph.facebook.com/albumid/photos) -> 错误 #324 需要上传文件

[http://graph.facebook.com/albumid](http://graph.facebook.com/albumid) -> 错误 #200 应用程序无法进行此 API 调用。

[http://graph.facebook.com/subaccount_id/feed](http://graph.facebook.com/subaccount_id/feed) - > 错误 #100 源 URL 格式不正确

[http://graph.facebook.com/subaccount_id/photos](http://graph.facebook.com/subaccount_id/photos) -> 错误 #324 需要上传文件

我已经像这样在黑暗中刺了大约 4 个小时，没有运气，我开始怀疑：***是否可以将照片发布到用户的子帐户流？如果是这样，怎么做？***

（顺便说一句，我尝试使用照片 URL 进行文本状态更新——试图绕过整个上传部分——但这没有帮助。照片的 url 出现在帖子中，但不显示照片。我愿意接受任何在子帐户流中显示照片的建议。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:00:36.443

发布后仅大约 5 分钟，我有点，有点找到了解决方案：

首先，将图像上传到您自己的 Web 服务器、s3 存储桶或其他位置。

其次，使用[http://graph.facebook.com/subaccount_id/feed](http://graph.facebook.com/subaccount_id/feed)和 source= [http://www.thenewlocationofyourimage.com/image.jpg](http://www.thenewlocationofyourimage.com/image.jpg)。

该图像显示在页面流中，尽管是一个小缩略图。不过，总比没有好。如果您有更好的信息，请告诉我。谢谢！

# python - 如何在 twisted python 中的 reactor.run() 期间对用户输入做出反应？

> ID：16009201
> 
> 赞同：0
> 
> 时间：2013-04-15T06:45:27.343
> 
> 标签：python, json, twisted

我目前正在使用扭曲库在 python 中开发客户端/服务器多玩家纸牌游戏解决方案。我对 python 很陌生，这个游戏实际上是对我自己的概念证明，因为我只是想向自己展示，我可以做这样的事情。但我现在在这个问题上停留了大约 8 个小时，我需要一些建议。以下几行和以下描述应该让您知道，我想在这里做什么：

描述：

*   服务器已启动
*   演示客户端一连接，服务器就会在后台做一些事情（注册，为玩家创建一堆卡片）
*   演示客户端现在开始（）纸牌游戏
*   调用 remote_start 并调用函数 hoststart 如果它由某个播放器启动（待实现）
*   玩家堆中的卡片被发送到客户端并打印出来

*   客户端现在应该能够按下一个数字（卡号），然后应该将其发送回服务器以打印出该数字（仅打印没有意义，但这是我现在唯一想到的事情： P)

**现在这里开始问题：**

*   启动 reactor.run() 后，似乎执行了整个脚本（用户注册，游戏启动），并且在执行整个脚本**后完成了客户端的输入。**因此在输入函数中输入数字之前完成了输入数字的发送，因此向服务器返回 0。

我认为这很难解释，所以请提出任何可能出现的问题。我该如何解决这个问题？

我可以以某种方式让服务器等待几秒钟，以便客户端能够在此期间输入数字吗？如果必须等待客户端上的输入，我是否需要打开一个始终打开的新连接？

* * *

客户端.py：

```
PICK = 0

factory = pb.PBClientFactory()
reactor.connectTCP("localhost", PORT, factory)
def1 = factory.getRootObject()
def1.addCallbacks(got_obj1, err_obj1)
ret = reactor.run()

def got_obj1(obj1):
    def2 = obj1.callRemote("register","User A")
    def2 = obj1.callRemote("start","User A")
    def2.addCallback(show)
    obj1.callRemote("pick",PICK)  # Problem

def show(*var)
    data_string = json.dumps(var)
    decoded = json.loads(data_string)
    for card in decoded[0]:
        print(str(card['name'])
    PICK = Input("Which card do you want to pick?") # Problem 
```

服务器.py：

```
print("Starting server on ", PORT)
rpc = RPCs()
reactor.listenTCP(PORT, pb.PBServerFactory(rpc))
reactor.run()

class RPCs(pb.Root):
     sessions = []
     def remote_pick(self,pick):
         print("picked: ", pick)
     def remote_start(self, username):
         for session in self.sessions :
             if (session.getName() == username):
                 ret = self.hoststart(username)
                 return ret
     def hoststart(self,username):
         pile4client = []
         card4pile {}
         for session in self.sessions:
             if (session.getName() == username):
                 ret = session.showpile(0)
            for card in ret:
                card4pile = { "name" : card.getName()}
                pile4client .append(card4pile)
            return pile4client
class Session():
     piles = []
     def showpile(self, num):
         return self.piles[num] 
```

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T16:27:00.063

传递`obj1`给`show`它并调用它`callRemote`的显示。像这样的东西：

```
def got_obj1(obj1):
   ...
   def2.addCallback(show, obj1)

def show(value, obj1):
   ...
   PICK = Input("Which card do you want to pick?")
   obj1.callRemote("pick",PICK) 
```

# grails - SpringSecurity：如何指定记住我的身份验证？

> ID：16009206
> 
> 赞同：1
> 
> 时间：2013-04-15T06:45:46.290
> 
> 标签：grails, spring-security, remember-me

我正在开发一个基于 Grails 和 Vaadin 7 的应用程序。我设法让它们与 SpringSecurity 一起用于身份验证和授权，但我必须开发自己的服务来调用 Spring Security 身份验证管理器以使其与 Vaadin 一起使用：

```
class SecurityService {

    static transactional = true

    def springSecurityService
    def authenticationManager

    void signIn(String username, String password) {
        try {
            def authentication = new UsernamePasswordAuthenticationToken(username, password)
            SCH.context.authentication = authenticationManager.authenticate(authentication)
        } catch (BadCredentialsException e) {
            throw new SecurityException("Invalid username/password")
        }
    }
} 
```

问题是现在我需要实现`remember me`身份验证，我不知道从哪里开始。

我如何`authenticationManager`知道我想要它使用`remeberMeAuthentication`？我可以从登录视图上的复选框中获取一个布尔值，但接下来我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:19:13.520

Spring Security 的架构基于 servlet 过滤器。您在上面实现的登录机制通常由`UsernamePasswordAuthenticationFilter`. 另一个名为`RememberMeAuthenticationFilter`的过滤器负责记住我的功能。`authenticationManager`根本不知道应用程序是否使用了记住我功能。

如果你想将 Spring Security 与另一个 web 框架集成，首先尝试找出两个框架的过滤器是如何一起发挥作用的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T15:50:29.277

由于您的问题是针对来自登录页面的复选框值（记住我标志）的处理，因此答案是您必须调用[RememberMeServices](http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/web/authentication/RememberMeServices.html)`loginSuccess`或`loginFail`方法。在响应中添加自动登录 cookie 并删除该 cookie。`loginSuccess``loginFail`

但我想上面的答案对你没有多大帮助，除非你确定你已经`RememberMeServices`在你的应用程序中进行了配置。也许遵循配置步骤`RememberMeServices`将帮助您按照自己的方式完成所有事情（或帮助您了解开箱即用的功能）：

(1) 创建一个实现`RememberMeServices`和[LogoutHandler](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/authentication/logout/LogoutHandler.html)的类（称为 myRememberMeServices） 。

（2）在`autoLogin`方法中，解析cookie值后创建一个认证对象（UsernamePasswordAuthenticationToken）。

(3) 在`loginFail`方法中，取消cookie。

(4) 在`loginSuccess`方法中，创建一个自动登录 cookie。添加您将在 autoLogin 方法中使用的值。通常 cookie 值是加密的。

(5) 在`logout`方法中，取消cookie。

(6) 在以下四个地方注入 myRememberMeServices 并调用适当的方法：

```
(a) At the time of successful login (if checkbox value is set),     
(b) At the time of failed login,   
(c) On logout, and   
(d) In filter that does autologin 
```

值得注意的是，[RememberMeAuthenticationFilter](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/authentication/rememberme/RememberMeAuthenticationFilter.html)在其构造函数中采用`authenticationManager`and 。`RememberMeServices`

对你的另一个问题的回答是，`authenticationManager`不需要知道任何关于记住我的事情。它是过滤器（或任何处理自动登录的类）需要了解`authenticationManager`和`RememberMeServices`。（换句话说，要求`RememberMeServices`一个令牌并将其传递`authenticationManager`给进行自动登录）。

# android - 我的按名称获取 Android 联系人的函数是否应该返回光标或其他内容？

> ID：16009207
> 
> 赞同：0
> 
> 时间：2013-04-15T06:45:52.533
> 
> 标签：android

我正在研究一个应该处理用户的 Android 联系人并与 SQL 数据库交互的类，您可以将手机的联系人移动到其中（数据库中的信息将显示为 ListView）。我制作了一个函数，该函数应该按名称检索 Android 联系人并返回该联系人的所有信息。我的功能如下：

```
public Cursor getContactByName(String name)
{
    Uri uri = ContactsContract.Data.CONTENT_URI;
    String[] projection = null;
    String selection = Data.DISPLAY_NAME + "=?";
    String[] selectionArgs = new String[]{name};
    String sortOrder = null;

    return managedQuery(uri, projection, selection, selectionArgs, sortOrder);
} 
```

所以想法是这将被另一个函数调用，它首先检查联系人是否存在。此函数将返回一个仅包含该联系人信息的游标。首先，我想知道我是否正确返回包含联系人信息的光标，还是应该创建一个存储此信息的类并返回该类的对象？或者我应该返回一个字符串？请记住，我要返回的是我打算移动到我的数据库中的联系人，我觉得返回 Cursor 不是我的目标。作为一个附带问题，是否有任何理由使用 ContentResolver.query 而不是 managedQuery 来达到我的目的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:53:45.483

我个人更愿意创建一个对象`Contact`。所以你更灵活，你也可以在这个类（或相关的DAO）中实现与你的对象相关的功能。
传递值 as`Cursor`甚至 as`String`会给你带来更多麻烦。在一个对象中，您可以准确地看到所有内容的属性名称，使用光标您必须知道相应字段的名称或位置，在字符串中您甚至必须解析结果。

编辑：
正如@DavidCowden 所提到的，这在很大程度上取决于您要实现的目标。所以我的猜测是，您想加载数据并将其显示在某个地方。
正如已经提到的，在这种情况下，我更喜欢单独的类，因为它更清洁和可维护。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:53:54.060

这取决于您将使用这些数据的目的。如果您要将它添加到另一个数据库（正如您的问题所暗示的那样），您可能最好将其保留为游标并简单地将该游标输入到您的第二个数据库中。如果您喜欢将数据库行映射到对象，请执行此操作。请记住，对象关系映射需要更多的内存和周期，但通常会产生更清晰的代码。作为程序员，这完全取决于你（抱歉，我知道这不是你想听到的）。

# android - 删除自定义列表视图中的多个项目

> ID：16009209
> 
> 赞同：3
> 
> 时间：2013-04-15T06:46:02.103
> 
> 标签：android, android-listview

我想创建一个自定义列表视图，其中每一行都有一个文本视图和一个图像视图（我将使用它来检查/取消选中列表项），如下图所示：

![在此处输入图像描述](https://i.stack.imgur.com/Q6yaQ.png)

我想从列表中删除多个项目。如何做到这一点？您能否提供任何教程或参考资料或链接来学习这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-15T15:53:43.880

这就是我轻松创建自定义列表视图的方式：

```
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import android.app.Activity;
import android.app.AlertDialog;
import android.app.AlertDialog.Builder;
import android.content.Context;
import android.content.DialogInterface;
import android.content.pm.ActivityInfo;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.os.Bundle;
import android.view.KeyEvent;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class DeleteData extends Activity {

    Cursor cursor;
    ListView lv_delete_data;
    static ArrayList<Integer> listOfItemsToDelete;
    SQLiteDatabase database;
    private Category[] categories;
    ArrayList<Category> categoryList;
    private ArrayAdapter<Category> listAdapter;
    ImageView iv_delete;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_delete_data);

        this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);

        manage_reload_list();

        listOfItemsToDelete = new ArrayList<Integer>();

        iv_delete = (ImageView) findViewById(R.id.imageViewDeleteDataDelete);
        iv_delete.setClickable(true);
        iv_delete.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                if (listOfItemsToDelete.isEmpty()) {

                    Toast.makeText(getBaseContext(), "No items selected.",
                            Toast.LENGTH_SHORT).show();
                }

                else {
                    showDialog(
                            "Warning",
                            "Are you sure you want to delete these categories ? This will erase all records attached with it.");
                }
            }
        });

        lv_delete_data = (ListView) findViewById(R.id.listViewDeleteData);
        lv_delete_data.setAdapter(listAdapter);
        lv_delete_data.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                // TODO Auto-generated method stub
                ImageView imageView = (ImageView) arg1
                        .findViewById(R.id.imageViewSingleRowDeleteData);
                Category category = (Category) imageView.getTag();

                if (category.getChecked() == false) {
                    imageView.setImageResource(R.drawable.set_check);
                    listOfItemsToDelete.add(category.getId());
                    category.setChecked(true);
                } else {
                    imageView.setImageResource(R.drawable.set_basecircle);
                    listOfItemsToDelete.remove((Integer) category.getId());
                    category.setChecked(false);
                }
            }
        });
    }

    private void showDialog(final String title, String message) {

        AlertDialog.Builder adb = new Builder(DeleteData.this);
        adb.setTitle(title);
        adb.setMessage(message);
        adb.setIcon(R.drawable.ic_launcher);
        String btn = "Ok";
        if (title.equals("Warning")) {
            btn = "Yes";
            adb.setNegativeButton("No", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int which) {
                    dialog.dismiss();
                }
            });
        }

        adb.setPositiveButton(btn, new DialogInterface.OnClickListener() {

            public void onClick(DialogInterface arg0, int arg1) {

                if (title.equals("Warning")) {

                    for (int i : listOfItemsToDelete) {

                        // -------first delete from category table-----

                        database.delete("category_fields", "cat_id=?",
                                new String[] { i + "" });

                        // --------now fetch rec_id where cat_id =
                        // i-----------------

                        cursor = database.query("records_data",
                                new String[] { "rec_id" }, "cat_id=?",
                                new String[] { i + "" }, null, null, null);
                        if (cursor.getCount() == 0)
                            cursor.close();
                        else {
                            ArrayList<Integer> al_tmp_rec_id = new ArrayList<Integer>();
                            while (cursor.moveToNext())
                                al_tmp_rec_id.add(cursor.getInt(0));
                            cursor.close();

                            for (int i1 : al_tmp_rec_id) {
                                database.delete("records_fields_data",
                                        "rec_id=?", new String[] { i1 + "" });

                                database.delete("record_tag_relation",
                                        "rec_id=?", new String[] { i1 + "" });
                            }

                            // ---------delete from records_data-------

                            database.delete("records_data", "cat_id=?",
                                    new String[] { i + "" });

                            cursor.close();
                        }
                    }

                    showDialog("Success",
                            "Categories, with their records, deleted successfully.");
                } else {
                    database.close();
                    listOfItemsToDelete.clear();
                    manage_reload_list();
                    lv_delete_data.setAdapter(listAdapter);
                }
            }
        });

        AlertDialog ad = adb.create();
        ad.show();
    }

    protected void manage_reload_list() {

        loadDatabase();

        categoryList = new ArrayList<Category>();

        // ------first fetch all categories name list-------

        cursor = database.query("category", new String[] { "cat_id",
                "cat_description" }, null, null, null, null, null);
        if (cursor.getCount() == 0) {
            Toast.makeText(getBaseContext(), "No categories found.",
                    Toast.LENGTH_SHORT).show();
            cursor.close();
        } else {

            while (cursor.moveToNext()) {

                categories = new Category[] { new Category(cursor.getInt(0),
                        cursor.getString(1)) };
                categoryList.addAll(Arrays.asList(categories));
            }
            cursor.close();
        }
        listAdapter = new CategoryArrayAdapter(this, categoryList);
    }

    static class Category {

        String cat_name = "";
        int cat_id = 0;
        Boolean checked = false;

        Category(int cat_id, String name) {
            this.cat_name = name;
            this.cat_id = cat_id;
        }

        public int getId() {
            return cat_id;
        }

        public String getCatName() {
            return cat_name;
        }

        public Boolean getChecked() {
            return checked;
        }

        public void setChecked(Boolean checked) {
            this.checked = checked;
        }

        public boolean isChecked() {
            return checked;
        }

        public void toggleChecked() {
            checked = !checked;
        }
    }

    static class CategoryViewHolder {

        ImageView imageViewCheck;
        TextView textViewCategoryName;

        public CategoryViewHolder(ImageView iv_check, TextView tv_category_name) {
            imageViewCheck = iv_check;
            textViewCategoryName = tv_category_name;
        }

        public ImageView getImageViewCheck() {
            return imageViewCheck;
        }

        public TextView getTextViewCategoryName() {
            return textViewCategoryName;
        }
    }

    static class CategoryArrayAdapter extends ArrayAdapter<Category> {

        LayoutInflater inflater;

        public CategoryArrayAdapter(Context context, List<Category> categoryList) {

            super(context, R.layout.single_row_delete_data,
                    R.id.textViewSingleRowDeleteData, categoryList);
            inflater = LayoutInflater.from(context);
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {

            Category category = (Category) this.getItem(position);

            final ImageView imageViewCheck;
            final TextView textViewCN;

            if (convertView == null) {

                convertView = inflater.inflate(R.layout.single_row_delete_data,
                        null);

                imageViewCheck = (ImageView) convertView
                        .findViewById(R.id.imageViewSingleRowDeleteData);
                textViewCN = (TextView) convertView
                        .findViewById(R.id.textViewSingleRowDeleteData);

                convertView.setTag(new CategoryViewHolder(imageViewCheck,
                        textViewCN));
            }

            else {

                CategoryViewHolder viewHolder = (CategoryViewHolder) convertView
                        .getTag();
                imageViewCheck = viewHolder.getImageViewCheck();
                textViewCN = viewHolder.getTextViewCategoryName();
            }

            imageViewCheck.setFocusable(false);
            imageViewCheck.setFocusableInTouchMode(false);
            imageViewCheck.setClickable(true);
            imageViewCheck.setOnClickListener(new View.OnClickListener() {
                public void onClick(View v) {
                    ImageView iv = (ImageView) v;
                    Category category = (Category) iv.getTag();

                    if (category.getChecked() == false) {
                        imageViewCheck.setImageResource(R.drawable.set_check);
                        listOfItemsToDelete.add(category.getId());
                        category.setChecked(true);
                    } else {
                        imageViewCheck
                                .setImageResource(R.drawable.set_basecircle);
                        listOfItemsToDelete.remove((Integer) category.getId());
                        category.setChecked(false);
                    }
                }
            });
            imageViewCheck.setTag(category);

            if (category.getChecked() == true)
                imageViewCheck.setImageResource(R.drawable.set_check);
            else
                imageViewCheck.setImageResource(R.drawable.set_basecircle);

            textViewCN.setText(category.getCatName());

            return convertView;
        }
    }

    private void loadDatabase() {
        database = openOrCreateDatabase("WalletAppDatabase.db",
                SQLiteDatabase.OPEN_READWRITE, null);
    }

    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0) {

            finish();
            return true;
        }
        return super.onKeyDown(keyCode, event);
    }
} 
```

对此有疑问的朋友可以问我...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-15T08:50:54.983

首先为您的列表视图制作自定义适配器和行布局。按照此链接（[单击](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)）进行操作。然后将复选框添加到每一行。您可以自定义复选框以实现与您发布的图像一样的效果。为此，请检查此链接（[单击](https://stackoverflow.com/questions/3965484/custom-checkbox-image-android)）

创建自定义列表视图后，您必须在自定义适配器中单击复选框时获取选中的列表视图行 ID（在 getview 方法中）。当用户单击复选框时，您必须获取单击的行 ID 并存储到数组列表中。让我们说，您选择的 id-array 列表是“ArrayId”，而您的 listview 项目数组列表是“Yourarray”。这是代码，

```
 checkbox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

   @Override
   public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {

         if(isChecked)
          {
            ArrayId.add(Yourlist.get(position));//add item position to arraylist if checked
          }
          else
          {
            ArrayId.remove(Yourlist.get(position));//remove item position from arraylist if unchecked
          }

   }
} 
```

然后遍历存储在 arraylist 中的每个 id 并删除条目。检查下面的代码，

```
for(int i=0;i<ArrayId.size();i++)
{
  Yourlist.remove(ArrayId[i]);
} 
```

现在列表视图项数组中的项目-“Yourlist”将被删除。然后使用更新的“Yourlist”数组使列表视图无效。

# php - MySQL/PHP，一次获取所有数据

> ID：16009210
> 
> 赞同：0
> 
> 时间：2013-04-15T06:46:04.267
> 
> 标签：php, mysql, sql

我有一个包含三个表的数据库：

```
Products
MaterialsProducts
Materials 
```

表之间的关系是这样的：

```
Materials 1-* MaterialsProducts *-1 Products 
```

我经常需要检索**200 多种产品**及其相关材料数据（从`Materials`表中）。

目前它是这样完成的：

```
SQL：选择所有相关产品
PHP：遍历选择的产品，调用数据库为每个产品选择
     材料数据（为每个产品生成一个数据库调用！）
```

有没有办法同时选择所有相关产品及其材料数据？并且仍然让每个产品在结果中只占一行。

所以解决方案不应该是`"SELECT * FROM products p, materialsproducts mp, materials m WHERE p.id = mp.productid AND m.id = mp.materialid WHERE x"`. （该 SELECT 将使每个产品在结果中占据多于一行。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:40:40.823

像这样的查询将每个产品的材料数据压缩到一行中并不简单 - 所以我认为该计划不适合您。

我建议改为使用普通的 JOIN 查询（​​很像您在问题中提出并被拒绝的查询），然后使用 PHP 代码来处理单个产品在结果集中具有多行的情况，因为它是链接的到多种材料。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:58:17.707

你可以`left join`用来获取你需要的所有数据

**文档** [在这里](http://dev.mysql.com/doc/refman/5.0/en/left-join-optimization.html)

您的查询有误

```
"SELECT * FROM `products` p LEFT JOIN `materialsproducts` mp on p.`id` = mp.`productid` LEFT JOIN `materials` m ON m.`id` = mp.`materialid` WHERE $whateveryouneed" 
```

请记住不要将您限制`WHERE`为只有 1 个，`ID`否则您将需要更多查询。

`UPDATED` 如被问及

`products has a 1-* relationship with both materialsproducts and typesproducts. materialsproducts has a *-1 relationship with materials. typesproducts has a *-1 relationship with types.`

所以你可以通过`left join`这种方式进行如上的查询

```
SELECT * FROM `products` p
LEFT JOIN `materialsproducts` mp
ON p.`id` = mp.`productid` 
LEFT JOIN `materials` m
ON mp.`mp_field_id_here` = m.`m_field_id_here`  //here you need to change with actual field to compare
LEFT JOIN `typesproducts` tp
ON p.`id` = tp.`tp_field_id_here`  //here you need to change with actual field to compare
LEFT JOIN `types` t
ON tp.`tp_field_id_here` = t.`t_field_id_here`  //here you need to change with actual field to compare 
```

然后您可以添加一个`where`语句以将结果限制为适合您的内容

```
WHERE WHATEVER_YOU_NEED 
```

`UPDATED AGAIN`

将结果限制为仅提交一些文件，只需更改`*`为特定的内容

```
"SELECT p.`Product_Name`, m.`Material_1`, m.`Material_2, m.`Material_3`, t.`Type_1`, t.`Type_2` FROM ..... 
```

**注意**我假设您`material 1, material 2, material 3`从`material`表中检索这就是我用作前缀的原因`m`。无论哪种方式，我都用作前缀`t`，`type 1 and type 2`因为我认为它们是`type`表格的文件，否则您可以根据需要更改它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T06:58:37.350

尝试

```
SELECT p.*, mp.*,m.* 
FROM products p 
JOIN materials m ON p.id=m.prd_id 
JOIN materialsproducts mp ON m.mp_id=mp.id; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T10:51:01.623

您可以使用[`GROUP_CONCAT`](http://dev.mysql.com/doc/refman/5.6/en/group-by-functions.html#function_group-concat)将与同一产品相关的材料组合到一个列表中，同时按产品分组：

```
SELECT
  p.ProductID,
  p.ProductName,
  GROUP_CONCAT(m.MaterialName) AS Materials
FROM Products p
INNER JOIN MaterialsProducts mp ON p.ProductID  = mp.ProductID
INNER JOIN Materials          m ON m.MaterialID = mp.MaterialID
GROUP BY
  p.ProductID,
  p.ProductName
; 
```

# ios - 如何在矢量图像周围制作动画渐变边框（iPad 的 Objective-C）？

> ID：16009211
> 
> 赞同：3
> 
> 时间：2013-04-15T06:46:09.777
> 
> 标签：ios, objective-c, ipad, ios6, gradient

你能帮我找到一种正确的方法来在这样的图像周围制作动画渐变边框[吗](http://happy-coloring.ru/en/img/bear-with-gradient-small.png)？

我有矢量化图像（Adobe Illustrator、EPS 等）。所以，我想制作一个围绕对象转动的边框。

我应该寻找什么方向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:18:39.840

检查这个 [它](https://stackoverflow.com/questions/7613906/ios-animate-dashed-rectangle-border)之前对我有帮助，我认为你可以使用相同的逻辑来制作你的动画。

通过使用形状层：

```
 [shapeLayer setBounds:shapeRect];
    [shapeLayer setPosition:CGPointMake(160.0f, 140.0f)];
    [shapeLayer setFillColor:[[UIColor clearColor] CGColor]];
    [shapeLayer setStrokeColor:[[UIColor blackColor] CGColor]];
    [shapeLayer setLineWidth:1.0f];
    [shapeLayer setLineJoin:kCALineJoinRound]; 
```

# ios - iOS：适用于 iOS 的基于 Flash 的编程应用程序？

> ID：16009218
> 
> 赞同：-3
> 
> 时间：2013-04-15T06:46:44.927
> 
> 标签：ios, flash

我想知道，有没有办法支持 iOS 的基于 Flash 的编程应用程序？它可以是本机、混合或网络应用程序。我想知道，是否有可能为 iOS 设备开发基于 Flash 的应用程序？我看过论坛，到处都说不可能，所以只是想在开始任何开发之前确认。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:50:38.067

是的，如果您使用 adobe air，您可以使用 flash 创建多平台原生应用程序

[有关 Adob​​e AIR 的更多信息](http://www.adobe.com/products/air.html)

# imageview - 设计线性布局

> ID：16009219
> 
> 赞同：0
> 
> 时间：2013-04-15T06:46:46.043
> 
> 标签：imageview, android-linearlayout, textview, android

我正在尝试设计一个在 imageView 右侧包含 2 个 textView 的布局。

我知道使用相对布局很容易设计它。

但我想使用线性布局来设计它。

请提供一些提示或代码来执行此操作。

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:49:42.013

提示：您可以`LinearLayouts`嵌套使用，一个在另一个里面，依此类推。

参考以下来自[开发者网站的图片](http://developer.android.com/training/improving-layouts/optimizing-layout.html)

![在此处输入图像描述](https://i.stack.imgur.com/mgwvx.png)

从图像中可以清楚地看出，对于您的情况，您需要在内部创建一个线性布局，以创建一个 imageView 和一个 LinearLayout（称为 linearLayout2）。现在在 linearLayout2 里面创建两个 textView。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-12T18:31:48.147

可视化线性布局，将方向设置为水平并将 layout_weight 设置为每个控件。布局权重为 0.5 意味着控件将占据线性布局的左半部分 (50%)。

# c++ - WIN32 API 项目中的 ReadDirectoryChangesW 错误？

> ID：16009220
> 
> 赞同：0
> 
> 时间：2013-04-15T06:46:46.633
> 
> 标签：c++, c, winapi, readdirectorychangesw

```
void TestDirChanges(LPCWSTR path)
{
/*
FileName member of FILE_NOTIFY_INFORMATION has only one WCHAR according to definition. Most likely, this field will have more characters. 
So the expected size of one item is (sizeof(FILE_NOTIFY_INFORMATION) + MAX_PATH * sizeof(WCHAR)).
Prepare buffer for 256 items.
*/
char buf[256 * (sizeof(FILE_NOTIFY_INFORMATION) + MAX_PATH * sizeof(WCHAR))] = {0};
DWORD bytesReturned = 0;
BOOL result = FALSE;
FILE_NOTIFY_INFORMATION *fni = NULL;

HANDLE hDir = CreateFile(path,
    FILE_LIST_DIRECTORY | STANDARD_RIGHTS_READ,
    FILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE,
    NULL,
    OPEN_EXISTING,
    FILE_FLAG_BACKUP_SEMANTICS,
    NULL);

if (!hDir || hDir == INVALID_HANDLE_VALUE)
{
    wprintf(L"CreateFile failed\n");
    return;
}

while (1)
{
    result = ReadDirectoryChangesW(hDir,
        buf,
        sizeof(buf) / sizeof(*buf),
        TRUE, /* monitor the entire subtree */
        FILE_NOTIFY_CHANGE_FILE_NAME |
            FILE_NOTIFY_CHANGE_DIR_NAME |
            FILE_NOTIFY_CHANGE_ATTRIBUTES |
            FILE_NOTIFY_CHANGE_SIZE | 
            FILE_NOTIFY_CHANGE_LAST_WRITE | 
            FILE_NOTIFY_CHANGE_LAST_ACCESS |
            FILE_NOTIFY_CHANGE_CREATION |
            FILE_NOTIFY_CHANGE_SECURITY,
        &bytesReturned,
        NULL,
        NULL);

    if (result && bytesReturned)
    {
        wchar_t filename[MAX_PATH];
        wchar_t action[256];
        for (fni = (FILE_NOTIFY_INFORMATION*)buf; fni; )
        {
            switch (fni->Action)
            {
            case FILE_ACTION_ADDED:
                wcscpy_s(action, sizeof(action) / sizeof(*action), L"File added:");
                break;

            case FILE_ACTION_REMOVED:
                wcscpy_s(action, sizeof(action) / sizeof(*action), L"File removed:");
                break;

            case FILE_ACTION_MODIFIED:
                wcscpy_s(action, sizeof(action) / sizeof(*action), L"File modified:");
                break;

            case FILE_ACTION_RENAMED_OLD_NAME:
                wcscpy_s(action, sizeof(action) / sizeof(*action), L"File renamed, was:");
                break;

            case FILE_ACTION_RENAMED_NEW_NAME:
                wcscpy_s(action, sizeof(action) / sizeof(*action), L"File renamed, now is:");
                break;

            default:
                swprintf_s(action, sizeof(action) / sizeof(*action), L"Unkonwn action: %ld. File name is:", fni->Action);
            }

            if (fni->FileNameLength)
            {
                wcsncpy_s(filename, MAX_PATH, fni->FileName, fni->FileNameLength / 2);
                filename[fni->FileNameLength / 2] = 0;
                wprintf(L"%s '%s'\n", action, filename);
            }
            else
            {
                wprintf(L"%s <EMPTY>\n", action);
            }                

            if (fni->NextEntryOffset)
            {
                char *p = (char*)fni;
                fni = (FILE_NOTIFY_INFORMATION*)(p + fni->NextEntryOffset);
            }
            else
            {
                fni = NULL;
            }
        }
    }
    else
    {
        wprintf(L"ReadDirectoryChangesW failed\n");
    }
}

CloseHandle(hDir);
} 
```

我的代码在 WIN32 控制台上运行良好，但是当我在 WIN32 项目中使用它时，ReadDirectoryChangesW 不起作用。它运行，我的编程停止工作。请帮助我，谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:33:26.993

看起来您正在阻止 win32 项目中的 UI 线程，并且应用程序似乎被冻结并且它不会响应。启动一个工作线程并在工作线程内做一些事情。

我认为最好使用通知 API，这样`SHChangeNotifyRegister`可以让您知道目录是否发生了任何更改，然后您可以读取目录而不是`while`循环执行。应用程序也是unicode吗？你在用`ReadDirectoryChangesW`吗？

[http://msdn.microsoft.com/en-us/library/windows/desktop/bb762120.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762120.aspx)

# .net - .NET 自动包含程序集

> ID：16009229
> 
> 赞同：0
> 
> 时间：2013-04-15T06:47:57.210
> 
> 标签：.net, dll, assembly-resolution

不确定这是否可以完成，但无论如何都可以。

我编写了一个将由最终用户实现的 N 层应用程序。我只想在一个名为 Myapp.client 的项目中公开 1 个类。现在，我希望最终用户在使用应用程序时只需要在他们的项目中包含这个 DLL。我面临的问题是客户端项目（dll）显然在我的解决方案中引用了其他项目。在仅包含客户端 dll 进行测试时，我总是会收到这种类型的编译错误（这是正常的，我理解）：

> 错误 1 ​​类型“XXXX.DataObjects.Someclass”在未引用的程序集中定义。您必须添加对程序集“XXXX.DataObjects, Version=1.0.0.0, Culture=neutral, PublicKeyToken=8eefc54a8e08e7cc”的引用。

当有人包含客户端 dll 时，有什么方法可以自动包含这些引用？或者我是否必须重写应用程序以将所有内容都包含在客户端 dll 中？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T23:03:05.463

这对我来说听起来像是一个插件架构。插件实现者应该实现的 dll 理想情况下应该包含一个干净的接口。当然，该接口也可能包含一些属于您的代码的类型。您必须重构我们的架构，使这些类型也成为接口，理想情况下将在一个或几个程序集中。然后，您只需向客户端提供插件接口程序集和其他苗条接口程序集。

顺便说一句，你调查过 MEF 吗？几年前它是一个 CodePlex 项目，但现在它是 .NET 基础的一部分。它提供了一种方便的方式来解耦这种架构。 [链接](http://msdn.microsoft.com/en-us/library/dd460648.aspx) 您只需要使用`[Export(...)]`和`[Import(...)]`属性并配置它的发现。MEF 还可以用作 IoC/依赖注入框架。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T22:35:33.043

如果您可以控制客户端应用程序的构建方式 - 并且可以将缺少的程序集部署到客户端 - 您可以[在构建期间自动解析引用](http://www.nsilverbullet.net/2012/02/17/automatically-resolving-secondary-assembly-references-with-msbuild-and-tfs-build/)。

在其他情况下，您将不得不重写主程序集以包含所有引用的代码，或者使用[ILMerge](http://research.microsoft.com/en-us/people/mbarnett/ilmerge.aspx)将多个程序集组合成一个。

# android - 在 Surfaceview 上绘制的 Drawable 的动画（traslate 和 alpha）

> ID：16009236
> 
> 赞同：2
> 
> 时间：2013-04-15T06:48:24.330
> 
> 标签：android, animation, android-canvas

我正在通过扩展 Surfaceview（遵循 Android 示例项目中的 Lunarlander）来创建自定义视图（餐厅）。我必须绘制许多可绘制对象，当用户选择它们时，它们具有动画（平移和 alpha）并最终消失。现在我正在使用 drawable.setBounds() 和 drawable.setAlpha() 手动实现这个动画。是否有任何更短的内置方式（如视图的视图或属性动画）来实现相同的效果。？？？

# java - 如何读取 ENUM 类型的列定义并将其转换为数组\列表

> ID：16009237
> 
> 赞同：2
> 
> 时间：2013-04-15T06:48:24.950
> 
> 标签：java, hibernate, jpa, enums

我有一个表，其中一个类型的列`ENUM('val1', 'val2', 'val3')`

```
create table tab1{
  col1 varchar(20),
  col2 varchar(20),
  col3 ENUM('val1', 'val2', 'val3'),
  col4 varchar(20)
} 
```

现在，在 Java 中，我正在使用 JPA 并希望读取列定义以将 col3 枚举值转换为数组 \ 列表。（这样我就不需要对 emum 元素进行硬编码，并且表定义中的更改可以反映在代码中，而无需更改任何代码）。

可能吗？如果是，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T16:12:50.543

没有称为 ENUM 的类型，ENUM 是一个字符串对象，其值是从允许值列表中选择的，这些值在表创建时在列规范中显式枚举，对于表，只需将其设置为字符串并添加一个约束它在某个集合内。

```
CREATE TABLE tab1(
col1 VARCHAR(20),
col2 VARCHAR(20),
col3 VARCHAR(10),
col4 VARCHAR(20),
CONSTRAINT cons_tab1_col3 CHECK (col3 IN ('val1', 'val2', 'val3'))); 
```

创建一个名为 yourEnumName 的枚举：

```
public enum yourEnumName{
    val1,
    val2,
    val3
} 
```

在您的实体中添加一个代表您的枚举的属性，例如

```
@Enumerated(EnumType.STRING)
private yourEnumName enumName; 
```

希望对您有所帮助。

# javascript - 会话处理（PHP 与 JavaScript）

> ID：16009238
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:48:32.810
> 
> 标签：javascript, php, session, cookies

我目前正在一家小型网上商店工作，我需要对购物车进行良好的会话处理。我使用 PHP 并且从未使用过 JavaScript，但是使用会话处理时有什么区别？最简单的可能性是什么？我必须使用cookies吗？

有人知道好的教程吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:52:22.960

> 使用会话处理时有什么区别？

PHP 具有内置于语言中的会话处理功能。JavaScript 没有（尽管有一些[模块可以添加功能](https://encrypted.google.com/search?q=sessions&q=site%3anpmjs.org&hl=en)并且编写自己的模块并不是特别困难。

当然，这是假设服务器端 JavaScript。有一些客户端选项可以具有与会话类似的效果，但会话基本上是一种服务器端技术。

> 最简单的可能性是什么？

Cookie 是跟踪会话 ID 的最简单方法。

> 我必须使用cookies吗？

不可以。您可以通过查询字符串和隐藏的输入字段传递会话 ID。

# java - 如何使用远程视图在所有 android 平台的通知中显示进度条

> ID：16009239
> 
> 赞同：0
> 
> 时间：2013-04-15T06:48:35.110
> 
> 标签：java, android

我想`progressbar`在所有 android 平台的通知中显示。我使用远程视图`progress bar`在 android 中显示。我已经在我的项目中添加了**android-support-v4**库。如果我替换

```
 mBuilder = new NotificationCompat.Builder(MainActivity.this);
 notification = mBuilder.build(); 
```

**至**

```
 notification = new Notification(R.drawable.notification, "simulating a upload", System            .currentTimeMillis()); 
```

然后通知正在显示，但它是不推荐使用的方法。

**这是代码：**

```
 class SendDatabaseToServer extends
        AsyncTask<ArrayList<LogFishMetadata>, Integer, String> {
    private NotificationCompat.Builder mBuilder;
    private NotificationManager mNotifyManager;
    private RemoteViews remoteViews;
    private Intent intent;
    private PendingIntent pendingIntent;
    private Notification notification;
    private int notificationId = 1;

    int start;
    int percentage;
    int  inc;
    public SendDatabaseToServer(int value) {
        // TODO Auto-generated constructor stub
        logout = value;
    }

    @Override
    protected void onPreExecute() {
        // TODO Auto-generated method stub
        super.onPreExecute();

        mNotifyManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
        intent = new Intent(MainActivity.this, MainActivity.class);
        pendingIntent = PendingIntent.getActivity(MainActivity.this,
                notificationId, intent, 0);
        remoteViews = new RemoteViews(getPackageName(),
                R.layout.notification_downloader);
        mBuilder = new NotificationCompat.Builder(MainActivity.this);
        notification = mBuilder.build();
  //notification = new Notification(R.drawable.notification, "simulating a upload", System.currentTimeMillis());
        notification.contentIntent = pendingIntent;
        notification.flags = notification.flags
                | Notification.FLAG_ONGOING_EVENT;
        notification.contentView = remoteViews;
         notification.contentView.setTextViewText(R.id.timeStamp, DateTime.getStringFromDate(new Date()));
         notification.contentView.setTextViewText(R.id.progress,
                    "UPloading....");
        notification.contentView.setProgressBar(R.id.progressBar, 100, 0,
                false);
        mNotifyManager.notify(notificationId, notification);
    }

    @Override
    protected String doInBackground(ArrayList<LogFishMetadata>... params) {
        // TODO Auto-generated method stub
        int count = params[0].size();
         percentage=100/count;

        for (int i = 0; i < params[0].size(); i++) {
            System.out.println("........." + i);
            start=i*percentage;
            inc=i+1;
            try {
                database.updateServerdata(params[0].get(i));

                        for(int j=start;j<=inc*percentage;j++)
                        {
                        publishProgress(j);
                        }                           

            } catch (Exception e) {
                // TODO: handle exception

            }
        }

        return null;
    }

    @Override
    protected void onProgressUpdate(Integer... values) {
        // TODO Auto-generated method stub
        super.onProgressUpdate(values);
        // progressBar.setProgress(values[0]);
        System.out.println("values......." + values[0]);
        if(values[0]>=100)
        {
            values[0]=98;
        }
        notification.contentView.setProgressBar(R.id.progressBar, 100,
                values[0], false);
        mNotifyManager.notify(notificationId, notification);

    }

    @Override
    protected void onPostExecute(String result) {
        // TODO Auto-generated method stub
        super.onPostExecute(result);
        notification.contentView.setTextViewText(R.id.progress,
                "UPloading Complete");
        notification.contentView.setProgressBar(R.id.progressBar,100, 100,
                false);
        mNotifyManager.notify(notificationId, notification);
        if (logout == 2) {

            System.out.println(" send Aler     dialog....................................");
            logoutConfirmationDialog("Sync Complete; Do you still want to logout?");

        }
        System.out.println("complete");
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:55:57.783

您应该将兼容性库添加到您的项目中。你可以用它`Android Tools|Add support Library`来做到这一点。然后你`NotificationCompat`将从那个库中使用它，它有`Builder`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:59:42.687

我在我的一个项目中使用了以下代码，希望对您有所帮助：

**下载任务类：**

```
 public class DownloadTask extends AsyncTask<String, Integer, Void> {
    private NotificationHelper mNotificationHelper;
    public static int notificationID = 1;

    SharedPreferences settings;
    SharedPreferences.Editor editor;
    Context context;
    String title;
    public static String downlaodPath;
    boolean download = false;

    public DownloadTask(Context context, String title) {
        this.context = context;
        this.title = title;
        mNotificationHelper = new NotificationHelper(context, title);
    }

    protected void onPreExecute() {
        notificationID++;
        mNotificationHelper.createNotification(notificationID);
    }

    @Override
    protected Void doInBackground(String... aurl) {

        try {

            URL url = new URL(aurl[0]);
            URLConnection conexion = url.openConnection();
            conexion.connect();
            downlaodPath = "mnt/sdcard/Demo/"+title + ".mp3"; 
            File file = new File("mnt/sdcard/Demo/");
            file.mkdirs();
            File outputfile = new File(file, title + ".mp3");
            FileOutputStream fileOutput = new FileOutputStream(outputfile);
            InputStream inputStream = conexion.getInputStream();
            int totalSize = conexion.getContentLength();
            int downloadedSize = 0;
            byte[] buffer = new byte[1024];
            int bufferLength = 0;  
            while ((bufferLength = inputStream.read(buffer)) != -1) {
                downloadedSize += bufferLength;
                onProgressUpdate((int) ((downloadedSize * 100) / totalSize));
                fileOutput.write(buffer, 0, bufferLength);
            }
            fileOutput.close();
        } catch (Exception e) {
            download = true;
            e.printStackTrace();

        }
        return null;

    }

    protected void onProgressUpdate(Integer... progress) {
        mNotificationHelper.progressUpdate(progress[0]);
    }

    protected void onPostExecute(Void result) {
        if (download) {
            Toast.makeText(context, "Could Not Connect to Server.", 5).show();
            mNotificationHelper.clearNotification();
        }
        else
            mNotificationHelper.completed();

    }
} 
```

**NotificationHelper 类：**

```
public class NotificationHelper extends Activity {
    private Context mContext;
    private int NOTIFICATION_ID = 1;
    private Notification mNotification;
    private NotificationManager mNotificationManager;
    private PendingIntent mContentIntent;
    private CharSequence mContentTitle;
    private String title;
    CharSequence tickerText;
    int icon;

    public NotificationHelper(Context context, String title) {
        mContext = context;
        this.title = title;
    }

    public void createNotification(int newtask) {

        mNotificationManager = (NotificationManager) mContext
                .getSystemService(Context.NOTIFICATION_SERVICE);
        NOTIFICATION_ID = newtask;
        icon = android.R.drawable.stat_sys_download;
        tickerText = mContext.getString(R.string.download);
        long when = System.currentTimeMillis();
        mNotification = new Notification(icon, tickerText, when);
        mContentTitle = title;
        CharSequence contentText = "0% complete";
        Intent notificationIntent = new Intent();
        mContentIntent = PendingIntent.getActivity(mContext, 0,
                notificationIntent, 0);
        mNotification.setLatestEventInfo(mContext, mContentTitle, contentText,
                mContentIntent);
        mNotification.flags = Notification.FLAG_ONGOING_EVENT;
        mNotificationManager.notify(NOTIFICATION_ID, mNotification);
    }

    public void progressUpdate(int percentageComplete) {
        CharSequence contentText = percentageComplete + "% complete";
        mNotification.setLatestEventInfo(mContext, mContentTitle, contentText,
                mContentIntent);
        mNotificationManager.notify(NOTIFICATION_ID, mNotification);
    }

    public void completed() {

        mNotificationManager.cancel(NOTIFICATION_ID);
        Notification completeNotification = new Notification(icon, tickerText,
                System.currentTimeMillis());

        try {
            PackageManager packageManager = mContext.getPackageManager();
            Intent completeIntent = new Intent();

            PendingIntent cIntent = PendingIntent.getActivity(mContext, 0,
                    completeIntent, 0);
            completeNotification.setLatestEventInfo(mContext, title,
                    "Download Complete", cIntent);
            completeNotification.flags = Notification.FLAG_AUTO_CANCEL;
            mNotificationManager.notify(NOTIFICATION_ID, completeNotification);
        } catch (Exception e) {
            // TODO: handle exception
            e.printStackTrace();
        }

        Log.e("LOG", "last");

        TestFragment3.activity.sendBroadcast(new Intent(
                Intent.ACTION_MEDIA_MOUNTED, Uri.parse("file://"
                        + Environment.getExternalStorageDirectory())));
    }

    public void clearNotification() {
        mNotificationManager.cancel(NOTIFICATION_ID);
    }

} 
```

# ios - 视图控制器的视图属性

> ID：16009243
> 
> 赞同：2
> 
> 时间：2013-04-15T06:48:41.520
> 
> 标签：ios, view, uiviewcontroller, frame, bounds

我正在开发专用计算器的界面，并且在 IB 中有以下设置： ![界面生成器](https://i.stack.imgur.com/qAlqv.jpg)

我使用了 IB 的“Container View”并将其设置为我的自定义视图控制器“ButtonViewController”。

然后，在我的 ButtonViewController.m 文件中，我有以下内容：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    self.view.backgroundColor = [UIColor colorWithRed: 0.75 green: 0.0 blue: 0.0 alpha: 1.0 ];
    NSLog(@"self.view.bounds.size.width:\t%f", self.view.bounds.size.width);
    NSLog(@"self.view.bounds.size.height:\t%f", self.view.bounds.size.height);

    NSLog(@"self.view.frame.size.width:\t%f", self.view.frame.size.width);
    NSLog(@"self.view.frame.size.height:\t%f", self.view.frame.size.height);
} 
```

我得到以下屏幕输出：

![截屏](https://i.stack.imgur.com/noKvO.png)

以及以下控制台输出：

```
self.view.bounds.size.width:    320.000000
self.view.bounds.size.height:   460.000000
self.view.frame.size.width:     320.000000
self.view.frame.size.height:    460.000000 
```

Interface Builder 声明“容器”宽 280px，高 364px，所以由于某种原因，我没有得到正确的值。

我什至试图找到`super`'`bounds`和`frame`尺寸，但它们仍然是 320x460。

有人可以告诉我我做错了什么吗？

提前致谢

**[更新]**

只是为其他人提供的一些信息：我已经使用类似的 UI 控件进行了一些测试，这就是我发现的：（`cvObject`是一个`UICollectionView`对象）

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
    NSLog(@"%s: self.cvObject.bounds:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.bounds));
    NSLog(@"%s: self.cvObject.frame:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.frame));
}

-(void)viewWillAppear:(BOOL)animated
{
    NSLog(@"%s: self.cvObject.bounds:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.bounds));
    NSLog(@"%s: self.cvObject.frame:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.frame));
}

- (void)viewDidAppear:(BOOL)animated
{
    NSLog(@"%s: self.cvObject.bounds:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.bounds));
    NSLog(@"%s: self.cvObject.frame:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.frame));
}

-(void)viewWillLayoutSubviews
{
    NSLog(@"%s: self.cvObject.bounds:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.bounds));
    NSLog(@"%s: self.cvObject.frame:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.frame));
}

-(void)viewDidLayoutSubviews
{
    NSLog(@"%s: self.cvObject.bounds:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.bounds));
    NSLog(@"%s: self.cvObject.frame:\t%@", __FUNCTION__, NSStringFromCGRect(self.cvObject.frame));
} 
```

我得到的是：

```
-[FPViewController viewDidLoad]: self.cvObject.bounds:  {{0, 0}, {0, 0}}
-[FPViewController viewDidLoad]: self.cvObject.frame:   {{0, 0}, {0, 0}}
-[FPViewController viewWillAppear:]: self.cvObject.bounds:  {{0, 0}, {0, 0}}
-[FPViewController viewWillAppear:]: self.cvObject.frame:   {{0, 0}, {0, 0}}
-[FPViewController viewWillLayoutSubviews]: self.cvObject.bounds:   {{0, 0}, {0, 0}}
-[FPViewController viewWillLayoutSubviews]: self.cvObject.frame:    {{0, 0}, {0, 0}}
-[FPViewController viewDidLayoutSubviews]: self.cvObject.bounds:    {{0, 0}, {280, 312}}
-[FPViewController viewDidLayoutSubviews]: self.cvObject.frame: {{20, 128}, {280, 312}}
-[FPViewController viewDidAppear:]: self.cvObject.bounds:   {{0, 0}, {280, 312}}
-[FPViewController viewDidAppear:]: self.cvObject.frame:    {{20, 128}, {280, 312}} 
```

所以你可以看到，只有在视图布置了它的子视图之后，它才确定了你的对象的框架和边界。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T06:58:16.733

你应该重新检查这些值`viewDidAppear`，你会发现你会在那里看到正确的值：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    self.view.backgroundColor = [UIColor colorWithRed: 0.75 green: 0.0 blue: 0.0 alpha: 1.0 ];

    // frame and bounds are not entirely reliable at this point

    NSLog(@"%s: self.view.bounds:\t%@", __FUNCTION__, NSStringFromCGRect(self.view.bounds));
    NSLog(@"%s: self.view.frame:\t%@", __FUNCTION__, NSStringFromCGRect(self.view.frame));
}

- (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];

    // frame and bounds have generally been updated correctly by this point

    NSLog(@"%s: self.view.bounds:\t%@", __FUNCTION__, NSStringFromCGRect(self.view.bounds));
    NSLog(@"%s: self.view.frame:\t%@", __FUNCTION__, NSStringFromCGRect(self.view.frame));
} 
```

# file-upload - 使用 FTPClient 上传文件失败

> ID：16009246
> 
> 赞同：0
> 
> 时间：2013-04-15T06:48:56.210
> 
> 标签：file-upload, ftp, ftp-client, apache-commons-net

我必须使用 FTP 服务器上传和下载文件，但我遇到了问题。尽管有很多解决方案，但似乎没有任何效果。

我使用[secureftp-test.com](http://secureftp-test.com/)作为测试FTP 服务器。

下面是上传我使用[FTPClient](http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html) storeFile 方法的代码，但它似乎不起作用。

```
public static void main(String[] args) {
    String server = "ftp.secureftp-test.com";
    int port = 21;
    String user = "test";
    String pass = "test";

    FTPClient ftpClient = new FTPClient();
    try {

        ftpClient.connect(server, port);
        boolean login = ftpClient.login(user, pass);
        System.out.println("login " + login);
        ftpClient.setFileTransferMode(FTP.BINARY_FILE_TYPE);
        ftpClient.setFileType(FTP.BINARY_FILE_TYPE);

        File firstLocalFile = new File("D:/jetty.pdf");

        String firstRemoteFile = "myfile.pdf";
        InputStream inputStream = new FileInputStream(firstLocalFile);

        System.out.println("Start uploading first file");
        boolean done = ftpClient.storeFile(firstRemoteFile, inputStream);
        inputStream.close();
        if (done) {
            System.out.println("The first file is uploaded successfully.");
        } else {
            System.out.println("upload failed");
        }

    } catch (IOException ex) {
        System.out.println("Error: " + ex.getMessage());
        ex.printStackTrace();
    } finally {
        try {
            if (ftpClient.isConnected()) {
                ftpClient.logout();
                ftpClient.disconnect();
            }
        } catch (IOException ex) {
            ex.printStackTrace();
        }
    }
} 
```

每次输出都是“上传失败”。我不明白我错在哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:50:23.187

你的端口不正确。它用：

```
FTPS via Auth TLS/SSL and implicit FTP over SSL on port 990 
```

另外，如果您仔细阅读该网站，则**禁止**上传：

*Chilkat 为希望测试安全 FTP 客户端功能的任何人提供此 FTPS 测试帐户。您可以连接到 ftp.secureftp-test.com，使用密码“test”以“test”身份登录，然后下载服务器上存在的任何文件。“测试”帐户还可以检索目录列表。**但是，它被限制将文件上传到服务器。***

参考：[secureftp-test.com](http://secureftp-test.com)

# java - 排序 HashMap 整数作为字符串

> ID：16009250
> 
> 赞同：0
> 
> 时间：2013-04-15T06:49:22.400
> 
> 标签：java, android, sorting, arraylist, hashmap

我正在尝试对我的 HasMap ArrayList 进行排序，以便我的列表视图按值排序，但我没有得到它。基本上我有几个键，其中一个是“类型”，它包含如下值`"1", "4", "3",....`

我想按此键“类型”对列表进行排序，但我得到`"1", "11", "2"`的是`"1", "2", "11"`...

我正在尝试使用此代码对其进行排序：

```
Collections.sort(myList, new Comparator<HashMap<String, String>>() {
public int compare(HashMap<String, 
String> mapping1,HashMap<String, String> mapping2) {
return mapping1.get("type").compareTo(mapping2.get("type"));
    }
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T06:54:50.567

你的类型是 a `String`，这就是你得到的原因`"1", "11", "2"`。将该字符串转换为整数 (Integer.valueOf())，然后进行比较。

更改以下内容

```
mapping1.get("type").compareTo(mapping2.get("type")); 
```

到

```
 Integer.valueOf(mapping1.get("type")).compareTo(Integer.valueOf(mapping2.get("type"))); 
```

注意：我没有编译上面的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:51:37.740

“类型”的*数据*类型似乎是`String`. 因此排序`"1", "11", "2"`似乎是**正确**的。将“类型”的*数据类型*更改为`Integer`

或者

在`compare`方法中比较`Integer.parseInt`“类型”的值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T17:28:04.837

您需要在比较器中处理非整数值，如果如上所述，您希望混合使用`String`和`Integer`键。

```
Collections.sort(myList, new Comparator<HashMap<String, String>>() {
    public int compare(HashMap<String, String> mapping1,
                       HashMap<String, String> mapping2) {
        String valueOne = mapping1.get("type");
        String valueTwo = mapping2.get("type");
        try {
            return Integer.valueOf(valueOne).compareTo(Integer.valueOf(valueTwo));
        } catch(NumberFormatException e) {
            return valueOne.compareTo(valueTwo);
        }
    }
}); 
```

（否则，应更改键值`Integer`以避免其他开发人员出错。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-01T19:48:26.883

你可以做如下..

根据您的需要更改参数..

```
Set<Entry<String, Integer>> set = map.entrySet();
        List<Entry<String, Integer>> list = new ArrayList<Entry<String, Integer>>(set);
        Collections.sort( list, new Comparator<Map.Entry<String, Integer>>()
        {
            public int compare( Map.Entry<String, Integer> o1, Map.Entry<String, Integer> o2 )
            {
                return (o2.getValue()).compareTo( o1.getValue() );
            }
        } );
        for(Map.Entry<String, Integer> entry:list){
            System.out.println(entry.getKey()+" ==== "+entry.getValue());
        } 
```

# ios - 如何在 iOS 中将流派艺术品添加到 UITableViewCell 中？

> ID：16009265
> 
> 赞同：2
> 
> 时间：2013-04-15T06:50:15.330
> 
> 标签：ios, objective-c, cocoa-touch, media-player, mpmediaitem

我正在尝试将`Genre`艺术品添加到我`UITableViewCell`的 iOS 中，如下图所示。

![在此处输入图像描述](https://i.stack.imgur.com/Vc1dT.png)

我认为没有内置的艺术品`Genre`。我正在使用`MediaPlayer Framework`，我可以添加`MPMediaItemPropertyArtwork`. 但我不知道如何添加流派艺术品。

我该怎么做？也欢迎任何想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:01:31.710

**我为您提供了有关如何根据需要添加此类艺术的基本想法。**

它是定制`UITableViewCell`的，它由**3 个控制器组成**

```
1) UIImageView (main Image)
2) UILabel 
3) UIImageView (for put cell BackGround Image) 
```

所有控制器都添加了在某些单元上`cell.contentView` 设置`UITableViewCell`附件类型`UITableViewCellAccessoryDisclosureIndicator`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:08:00.387

您可以搜索所有可用的歌曲，提取**MPMediaItemPropertyGenre**字符串。

从那里您可以获得可用流派的列表，然后您可以为该流派拥有自己的自定义插图，或者您可以使用**MPMediaItemPropertyArtwork**从该流派的歌曲中获取随机专辑插图。

请注意，这是未经测试的代码。在你的 cellForRowAtIndexPath 中做这样的事情。

```
MPMediaItem *mItem = (MPMediaItem *)[rockSongs objectAtIndex:indexPath.row];

MPMediaItemArtwork *artWork = [mItem valueForProperty:MPMediaItemPropertyArtwork];

cell.imageView.image = [artWork imageWithSize:CGSizeMake(30, 30)]; 
```

如果您想添加自己的自定义图稿，您可以设置单元格图像。

```
cell.imageView.image = [UIImage imageNamed:@"Rock"]; 
```

# sql-server-2008 - 在 SQL Server 中插入带有多个 Select 语句的语句

> ID：16009268
> 
> 赞同：1
> 
> 时间：2013-04-15T06:50:25.633
> 
> 标签：sql-server-2008

我有一个查询要使用多个 Select 语句插入一些记录 我的查询如下

```
 INSERT INTO tbl_StreetMaster
    (
    StreetName,
    CityID,
    StartPoint,
    EndPoint, 
    StoreID,
    IsActive,
    CreationDate,
    CreatedBy
    )

    SELECT

    (SELECT a.StreetName,CAST(a.CityName AS INT),a.EndPointFrom,a.EndPointTo
     FROM #TempRecords a 
     WHERE NOT EXISTS
     (SELECT b.StreetID,b.StreetName FROM tbl_StreetMaster b 
   WHERE a.StreetName=b.StreetName and a.EndPointFrom=b.StartPoint and
   a.EndPointTo=b.EndPoint and CAST(a.CityName AS INT)=b.CityID and b.IsActive=1
     ))
     ,
     (SELECT  a.StoreID   FROM tbl_StoreGridMapping a
     inner join tbl_GridMaster b on a.GridID=b.GridID
      inner join #TempRecords c on b.GridCode=c.GridCode1
      WHERE NOT EXISTS
      (SELECT b.StreetID,b.StreetName FROM tbl_StreetMaster b
     WHERE c.StreetName=b.StreetName and c.EndPointFrom=b.StartPoint and
     c.EndPointTo=b.EndPoint and CAST(c.CityName AS INT)=b.CityID and b.IsActive=1))

     , 
     1,GETDATE(),100 
```

即使我的 Select 中有正确数量的列，它也会一直给我错误

```
The select list for the INSERT statement contains fewer items
than the insert list. The number of SELECT values must match the number of INSERT 
columns. 
```

任何人都可以帮助解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:58:12.317

您不能从子选择中返回多列（因此系统可能假设每个子选择中的一列并总共计算五列，并且还不足以告诉您子选择只能返回 1 个值。

我不清楚为什么你还没有把它写成一个查询：

```
INSERT INTO tbl_StreetMaster
(
StreetName,
CityID,
StartPoint,
EndPoint, 
StoreID,
IsActive,
CreationDate,
CreatedBy
)
SELECT
    c.StreetName,CAST(c.CityName AS INT),c.EndPointFrom,c.EndPointTo,
    a.StoreID, 1,GETDATE(),100
FROM tbl_StoreGridMapping a
 inner join tbl_GridMaster b on a.GridID=b.GridID
  inner join #TempRecords c on b.GridCode=c.GridCode1
  WHERE NOT EXISTS
  (SELECT b.StreetID,b.StreetName FROM tbl_StreetMaster b
 WHERE c.StreetName=b.StreetName and c.EndPointFrom=b.StartPoint and
 c.EndPointTo=b.EndPoint and CAST(c.CityName AS INT)=b.CityID and b.IsActive=1) 
```

除非通过`tbl_GridMaster`and的映射`tbl_StoreGridMapping`可能不存在（并且您想要一个`null`for `StoreID`，在这种情况下您可能希望将`inner join`s替换为`right join`s.

我还会询问将名为的列`CityName`转换为`INT`. 那里有些东西坏了（在命名中，如果没有别的）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-08T17:07:26.160

如果你在选择之间放置一个联合，你可以做到这一点

像这样：

```
INSERT INTO table(elem1,elem2,elem3) SELECT elem1,elem2,elem3 from table1 union select elem1,elem2,elem3 from table2 union select elem1,elem2,elem3 from table3 
```

# jquery - jQuery 对话框出现问题：关闭函数

> ID：16009274
> 
> 赞同：0
> 
> 时间：2013-04-15T06:50:53.620
> 
> 标签：jquery, jquery-ui, jquery-dialog

我需要检查用户是否在不同的情况下登录，比如`while clicked on contact button`和`while tries to vote up/down`和`while tries to write comment on a post`。在所有这些情况下，如果用户已经登录，那么我允许执行必要的操作，但如果没有登录，那么我需要显示'登录表单作为对话框'。

我在`login dialog box`案例中使用 common，实现上述功能没有问题，但问题是，

1.假设如果用户点击联系按钮并且他没有登录然后我显示`login form dialog box`，如果用户关闭`login dialog box`而不是提交他的详细信息登录。如果他成功登录，那么我需要显示`contact form dialog box`.

2.之后，如果他点击，`vote up button`然后在成功登录后，而不是`vote number raising,contact form dialog box`由用户打开到期点 1 操作。

我隐藏如下`dialog box`_`close function``dialog box`

```
 $(selector).dialog({
        closeOnEscape: false,
        title:title,
        modal: true,
        close:function()
        {
        $(this).dialog('destroy').hide();
        }
        }); 
```

如果我使用多个`login forms`，那么代码就会变得多余，并且也尝试过类似的方法但没有奏效

```
 $(selector).dialog({
        closeOnEscape: false,
        title:title,
        modal: true,
        open:function()
        {
          $(this).attr('id','unique-id');
        }, 
        close:function()
        {
        $(this).dialog('destroy').hide();
        }
        }); 
```

# visual-studio-lightswitch - 在 Lightswitch 中打开同一个屏幕

> ID：16009281
> 
> 赞同：0
> 
> 时间：2013-04-15T06:51:12.547
> 
> 标签：visual-studio-lightswitch, lightswitch-2012

我有一个名为 Customer 的屏幕，并有一个参数 ID。

要通过我正在使用的代码打开屏幕：

```
Application.ShowCustomer(customerId); 
```

我在客户屏幕中调用它，但没有任何反应。我可以打开不同的屏幕，但我需要打开相同的屏幕但具有不同的实体。

我不确定目前正在发生什么。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T23:49:06.227

客户屏幕应该有一个您可以修改的参数属性。您可以设置此参数值并刷新屏幕。例如，我用 CustomerKey 1000 加载了我的客户屏幕，并添加了一个附加到名为“不同客户”的方法的按钮：

```
 partial void differentCustomer_Execute()
    {
        // Instead of what you were doing:
        // Application.ShowCustomerDetail(5200);

        // Do this instead:
        this.CustomerCustomerKey = 5200;
        Refresh();
    } 
```

# java - 在单元测试中检查 DAO 的性能/查询次数

> ID：16009282
> 
> 赞同：3
> 
> 时间：2013-04-15T06:51:18.663
> 
> 标签：java, unit-testing

我正在为 DAO 类编写单元测试，我只是对其进行了一些更改。由于这个 DAO 的性能非常重要，所以我想对单元测试中的性能做一些检查。而且因为我对这个 DAO 的更改可能会导致多次查询，所以我想检查 DAO 是否只查询数据库一次。如果没有，单元测试应该失败。

我不知道这是否可能。请帮忙：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:03:51.440

除非您复制真实的数据库及其有效负载，否则在单元测试中测试性能将毫无用处。当然，您可以测量执行查询所需的时间，但这会导致什么结果？您在单元测试中执行的查询，如何转化为真实数据库的查询？

您可以衡量的是您的新查询与单元测试中的旧查询相比有何变化。我会为此使用一个框架（您必须在这里考虑 JVM 预热，并且可能是该框架有一些缓存也需要预热），我建议：[Caliper](https://code.google.com/p/caliper/)

此外，如果您有只需要对数据库执行一次的查询，听起来很像您需要缓存。如果不是太复杂你可以看看

[缓存](https://code.google.com/p/guava-libraries/wiki/CachesExplained)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:03:32.777

对于时间测试，您可以使用

超时注释之类的。

@Test(超时=500)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:03:54.737

您可以注入代码（例如使用[aspectJ](http://www.eclipse.org/aspectj/)）来计算数据库访问 - 每当您查询数据库时，都会增加一个计数器并进行时间测量。

一个更简单的解决方案是在测试上下文中实例化 DAO 时使用匿名类：

```
DAObject dao = new DAObject(){
                      @override
                      public void QueryDB(args){
                          incrementCounter();
                          long startTime = System.currentTimeMillis();
                          super.QueryDB(args);
                          _queryTime = System.currentTimeMillis() - startTime;
                      }
                   } 
```

接着

```
assertEquels(counter,1);
assertTrue(_queryTime < MAX_ALLOWED_TIME); 
```

# rest - 列出 Artifactory 中最近上传的工件

> ID：16009287
> 
> 赞同：0
> 
> 时间：2013-04-15T06:51:57.953
> 
> 标签：rest, maven, artifactory

[有没有一种编程方式来列出Artifactory](http://www.jfrog.com/home/v_artifactory_opensource_overview)中最近上传的工件，使用它的[REST API](http://wiki.jfrog.org/confluence/display/RTF/Artifactory%27s+REST+API)？

例如，我的 Artifactory 设置有 6 个本地存储库托管我们内部构建的工件，8 个远程存储库充当一些公共 maven 存储库的镜像。

我想获得在过去几个小时、几天或一周等内上传到这 6 个本地存储库的内部构建工件的列表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T12:47:32.013

您可以使用在日期范围REST 查询[中创建的工件。](http://wiki.jfrog.org/confluence/display/RTF/Artifactory%27s+REST+API#Artifactory%27sRESTAPI-ArtifactsCreatedinDateRange)它完全符合您的要求，您可以将搜索限制在特定的存储库中。

# .net - C＃ ; 如何在 Remoting 中实现事件和委托

> ID：16009289
> 
> 赞同：-2
> 
> 时间：2013-04-15T06:52:03.360
> 
> 标签：.net, winforms, remoting

如何在 Remoting.net 中实现用户自定义事件？我试过了，但出现错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T20:48:03.147

You need to set the `TypeFilterLevel` property found on your formatter sink to `TypeFilterLevel.Full`. An example and explanation can be found here:

[Automatic Deserialization in .NET Framework Remoting](http://msdn.microsoft.com/en-us/library/5dxse167%28v=vs.100%29.aspx)

# mongodb - 选择 MongoDB 中的最新文档

> ID：16009295
> 
> 赞同：0
> 
> 时间：2013-04-15T06:52:19.510
> 
> 标签：mongodb

我的应用程序在 MongoDB 集合中记录了一些数据。有三种类型的事件：'event1'、'event2'、'event3'。并且这些元素会定期添加。事件结构示例：

```
{ 'Data' : 'a234235', 'Type' : 'event1', 'Timestamp' : 1366006599 }
{ 'Data' : 'b978543', 'Type' : 'event2', 'Timestamp' : 1366006600 }
{ 'Data' : 'c567921', 'Type' : 'event3', 'Timestamp' : 1366006601 }
{ 'Data' : 'd327863', 'Type' : 'event1', 'Timestamp' : 1366007100 }
{ 'Data' : 'e012315', 'Type' : 'event2', 'Timestamp' : 1366007102 }
{ 'Data' : 'f834721', 'Type' : 'event3', 'Timestamp' : 1366007103 } 
```

请帮助编写正确的查询以获取数据库中每个事件的当前状态。我需要三个不同类型的元素和最大时间戳。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:40:25.470

您可以使用以下 JavaScript 来完成您的工作。这里的缺点是我假设您的事件是恒定的，否则您需要在“类型”数组字段中更改它。

您可以在连接到数据库时调用它。

```
a=function()
{
    var Type = new Array();
    Type[0]="event1";
    Type[1]="event2";
    Type[2]="event3";
    Type[3]="event4";
    Type[4]="event5";

    for (i=0;i<Type.length;i++)
    {

        var myCursor = db.foo.find({Type:Type[i]}).sort({Timestamp:-1}).limit(1);
        myCursor.forEach(printjson);
    }
} 
```

这是我为我的测试用例得到的输出。

```
MongoDB shell version: 2.2.2
connecting to: test

{
    "_id" : ObjectId("516bc991cde2925693705103"),
    "Data" : "d327863",
    "Type" : "event1",
    "Timestamp" : 1366007100
}
{
    "_id" : ObjectId("516bc991cde2925693705104"),
    "Data" : "e012315",
    "Type" : "event2",
    "Timestamp" : 1366007102
}
{
    "_id" : ObjectId("516bc992cde2925693705105"),
    "Data" : "f834721",
    "Type" : "event3",
    "Timestamp" : 1366007103
}
bye 
```

另请注意，默认情况下它连接到测试数据库。类型和时间戳的索引将帮助您提高性能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T14:05:00.950

由于您可能有大约 200 个事件（如您对问题的评论中所述），我建议最有效的方法是创建一个记录最新事件（按类型）的摘要文档。`$set`这避免了进行单独查询的需要，并且在观察到新的事件类型时应该易于维护。

摘要文档如下所示：

```
{
    'Event1' : { 'Data' : 'd327863', 'Timestamp' : 1366007100 },
    'Event2' : { 'Data' : 'e012315', 'Timestamp' : 1366007102 },
    'Event3' : { 'Data' : 'f834721', 'Timestamp' : 1366007103 }
} 
```

如果您经常需要按类型查找最大事件，这种[预聚合报告](http://docs.mongodb.org/manual/use-cases/pre-aggregated-reports/)模式将避免多次查询，并为索引节省（可能很大）空间，`Timestamp`否则需要在该索引上有效地查找最新条目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T09:35:45.653

您需要为每个事件单独查询。

```
db.yourCollection.find({Type:"event1"}).sort({Timestamp:-1}).limit(1);    
db.yourCollection.find({Type:"event2"}).sort({Timestamp:-1}).limit(1);    
db.yourCollection.find({Type:"event3"}).sort({Timestamp:-1}).limit(1); 
```

请注意，在 Timestamp 字段上创建索引可能会大大提高性能。

另见：[http ://docs.MongoDB.org/manual/reference/method/cursor.sort/](http://docs.MongoDB.org/manual/reference/method/cursor.sort/)

# android - 从android上的所有应用程序自动注销

> ID：16009296
> 
> 赞同：2
> 
> 时间：2013-04-15T06:52:21.227
> 
> 标签：android, logout, logoff

我想要一个功能，我可以从 android 上的所有应用程序中注销，即：从 skype、facebook、yahoo 自动注销。

是否有一些应用程序已经可用或一些简单的方法来实现它。我尝试清除所有缓存但没有注销应用程序。

他们是一个名为社交安全的应用程序，适用于 ios，但没有适用于 android

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:40:49.720

由于 PackageManager 中的 Android SDK 限制以及 Skype、Facebook、Yahoo 或其他应用程序没有针对它的公共 API，您无法以编程方式实现它，但您可以简单地清理**应用程序数据**以注销。

如果设备已**root**并且您可以在shell中执行**su**
命令， 那么这将非常简单：

1.使用[PackageManager](http://developer.android.com/reference/android/content/pm/PackageManager.html)
获取设备上所有已安装应用程序的 列表2.通过检查他们的包名过滤此列表
3.执行外壳`su pm clear package.name` （您可以使用[Stericson RootTools](https://code.google.com/p/roottools/)）

而已。

# java - 无法投射 MapView

> ID：16009302
> 
> 赞同：0
> 
> 时间：2013-04-15T06:52:58.197
> 
> 标签：java, android

我正在开发 android 应用程序项目，但我一直遇到投射 MapView 的问题。从日志猫，

> 原因：java.lang.classCastException：com.google.android.maps.MapView 无法转换为 com.google.android.gms.maps.MapView。

这是我的铸造代码

```
MapView mapView = (MapView) findViewById(R.id.mapView); 
```

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T06:58:02.713

确保只导入一个`MapView`，并确保其类型与`findViewById`. 这可能是由不正确的导入引起的。如果您的视图`R.id.mapView`与您正在导入的视图不同，您将无法投射它。

因此，如果您的显示器有 a`com.google.android.maps.MapView`但您的代码 imports `com.google.android.gms.maps.MapView`，您将无法投射。

检查您的导入语句，并检查您的 MapView 声明。确保导入与视图匹配。

# xml - 使用 xml 定义 REST 事件流程操作

> ID：16009303
> 
> 赞同：0
> 
> 时间：2013-04-15T06:53:11.013
> 
> 标签：xml, events, methods, action

嗨，我正在使用 LAMP 构建 REST 服务。

太让每个人（不仅仅是开发人员）都清楚，我想如果我们将所有事件操作写在一个 xml 文件中会怎样。

它将定义事件和类方法的关系甚至是业务流程。

例如

```
<xml version="1.0" encoding="UTF-8" >
    <event id="procurement.order.get.id">
        <action>
        <call method="procurement.getOrderById" />
        <parameters type="input">
            <resource value="http_request.get.id" />
        </parameters>
        <parameters type="output">
            <resource key="event_resource.procurement.order_id" value="procurement.getId" />
            <resource key="event_resource.procurement.order_date" value="procurement.getOrderDate" />
        </parameters>
        </action>
        <action>
           ...
        </action>
    </event>
</xml> 
```

这里的缺点可能是速度，但我会在第一次调用时解析这个 xml，创建一个好的 php 数组并缓存它。由于它不会经常变化，我认为不会有任何其他缺点。其次，我们可以使用 xml 模式对其进行验证。

所以值得吗？

# python - python检查字符串中单词的字母部分

> ID：16009305
> 
> 赞同：3
> 
> 时间：2013-04-15T06:53:20.263
> 
> 标签：python

我想编写一个函数来检查一个字母是否是一个单词的一部分，例如

```
"u" part of word in "i c u" = false
"u" part of word in "umbrella" = true 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T06:55:15.753

```
>>> text = "i c u"
>>> letter = "u"
>>> any(letter in word and len(word) > 1 for word in text.split())
False
>>> text = "umbrella"
>>> any(letter in word and len(word) > 1 for word in text.split())
True 
```

您可能会更改`letter in word`为`letter.lower() in word.lower()`取决于您是否区分大小写或nt。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T10:18:51.343

```
>>> word = 'i c u'
>>> letter = 'u'
>>> letter in word.split(' ')
True
>>> word = 'umbrella'
>>> letter in word.split(' ')
False 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:02:28.440

假设您的意思是“在一个单词中”是“在任一侧至少有一个字符是“单词字符””，这将起作用：

```
import re
def letter_in_a_word(letter, words):
    return bool(re.search(ur'\w{0}|{0}\w'.format(letter), words))

letter_in_a_word('u', 'i c u') # False
letter_in_a_word('u', 'umbrella') # True
letter_in_a_word('u', 'jump') # True 
```

# .net - CodeSmith 的优缺点

> ID：16009312
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:54:05.377
> 
> 标签：.net, code-generation, development-environment

我是[Codesmith](http://www.codesmithtools.com/)代码生成器工具的新手。我不知道codesmith的优缺点是什么。我有一些疑问。请帮我清除codesmith的使用。

Codesmith的优点和缺点是什么？Codesmith 的替代品是什么？BAL，DAL开发的普通方式还有什么代码大师？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T19:59:46.963

我为 CodeSmith 工具工作。[位于此处](http://www.codesmithtools.com/product/generator)的概述页面具有使用 codesmith 生成器的一些优点。CodeSmith Generator 可以基于模板生成任何文本标记。Generator 附带的所有模板都是开源的并且可以修改。[我相信您应该问的是各种模板框架](http://www.codesmithtools.com/product/frameworks)的优缺点。

# java - 当使用primeFaces在另一页中更改数据时如何刷新一页中的数据表

> ID：16009314
> 
> 赞同：3
> 
> 时间：2013-04-15T06:54:13.890
> 
> 标签：java, jsf-2, primefaces

当我更改 index2.xhtml 中的数据并单击命令按钮时，我需要刷新 index1.xhtml 中的 dataTable（index1.xhtml 和 index2.xhtml 由客户端打开）。
我不想使用轮询。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:17:35.257

如果您不想使用轮询，可以使用 primefaces push。我看不到任何其他选项，服务器必须通知您数据已更改。Primefaces push 会更好，因为更轻，无论如何要小心它尚未在所有浏览器中可用（请参阅：[http](http://caniuse.com/#feat=websockets) ://caniuse.com/#feat=websockets ）。例如，当使用 JMS 在 index1.xhtml 中发生某些更改时，您需要构建一种机制来向连接到 index2.xhtml 的所有客户端发布消息。你也应该知道 websockets 不会通过 AJP。

# php - 如何将列表框中的多个数据插入数据库

> ID：16009319
> 
> 赞同：0
> 
> 时间：2013-04-15T06:54:30.833
> 
> 标签：php

请查看此链接以查看我使用的代码

```
 <pre>
      http://jsfiddle.net/JaavS/
  </pre>

 <pre>

    step1: select values in List A
    step2: Move the values to list b
    Step3:click save to database button

 </pre> 
```

在 step3 之后，列表中的项目 b 值将存储在数据库中。谁能帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:16:19.083

为您的选择命名：

选择1：

```
 <select name ="list1[]" id="list1" multiple="multiple" rows=2>
    <option value=1>Option 1</option>
    <option value=2>Option 2</option>
    <option value=3>Option 3</option>
    <option value=4>Option 4</option>
    <option value=5>Option 5</option>
    <option value=6>Option 6</option>
    </select> 
```

选择2：

```
 <select name="list2[]" id="list2" multiple="multiple" rows=2>

    </select> 
```

在你的 php 文件中：

```
 <?php
 //List 2 
 foreach ($_POST['list2'] as $selectedOption)
 {
   $query = "INSERT INTO table (option) VALUES ('$selectedOption')";
   mysql_query($query) or die(mysql_error());
 }
 ?> 
```

# jsp - 文件上传路径

> ID：16009322
> 
> 赞同：0
> 
> 时间：2013-04-15T06:54:47.737
> 
> 标签：jsp, servlets

我正在使用 commons API 上传文件。根据下面列出的代码，文件被上传到应用程序的文件夹。如何强制将其上传到我选择的位置？

```
package fileUpload;

import java.io.File;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.List;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.commons.fileupload.FileItem;
import org.apache.commons.fileupload.disk.DiskFileItemFactory;
import org.apache.commons.fileupload.servlet.ServletFileUpload;

public class Upload extends HttpServlet
  {

    private static final long serialVersionUID = 1L;

private static  final String UPLOAD_DIRECTORY = "upload";

private static final int MEMORY_THRESHOLD   = 1024 * 1024 * 3;  // 3MB
private static final int MAX_FILE_SIZE      = 1024 * 1024 * 40; // 40MB
private static final int MAX_REQUEST_SIZE   = 1024 * 1024 * 50; // 50MB

protected void doPost(HttpServletRequest request,
        HttpServletResponse response) throws ServletException,     IOException      
      {

    if (!ServletFileUpload.isMultipartContent(request)) {

        PrintWriter writer = response.getWriter();
        writer.println("Error: Form must has enctype=multipart/form-data.");
        writer.flush();
        return;
    }

    DiskFileItemFactory factory = new DiskFileItemFactory();

    factory.setSizeThreshold(MEMORY_THRESHOLD);

    factory.setRepository(new File(System.getProperty("java.io.tmpdir")));

    ServletFileUpload upload = new ServletFileUpload(factory);

    upload.setFileSizeMax(MAX_FILE_SIZE);

    upload.setSizeMax(MAX_REQUEST_SIZE);

    String uploadPath = getServletContext().getRealPath("")
            + File.separator + UPLOAD_DIRECTORY;

    File uploadDir = new File(uploadPath);
    if (!uploadDir.exists()) {
        uploadDir.mkdir();
    }

    try {

        List<FileItem> formItems = upload.parseRequest(request);

        if (formItems != null && formItems.size() > 0) {

            for (FileItem item : formItems) {

                if (!item.isFormField()) {
                    String fileName = new File(item.getName()).getName();
                    String filePath = uploadPath + File.separator + fileName;
                    File storeFile = new File(filePath);

                    item.write(storeFile);
                    request.setAttribute("message",
                        "Upload has been done successfully!");
                }
            }
        }
    } catch (Exception ex) {
        request.setAttribute("message",
                "There was an error: " + ex.getMessage());
    }

    getServletContext().getRequestDispatcher("/message.jsp").forward(
            request, response);
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:17:56.323

我正在做的是：

```
private static  final String UPLOAD_DIRECTORY = "";

currentExecutablePath = System.getProperty("user.dir");
UPLOAD_DIRECTORY = currentExecutablePath.
                       substring(0,lastIndexOfSeparator) + "yourpath"; 
```

# c# - 如何使用 Microsoft.Interop 将打印设计设置为 Word 中的默认视图

> ID：16009325
> 
> 赞同：0
> 
> 时间：2013-04-15T06:54:55.160
> 
> 标签：c#, asp.net, office-interop

我有一个充满 HTML 代码的 Word 文档，我看到每次打开此文档时，默认视图都是“网页设计”，我想知道是否有任何方式将“打印设计”设置为默认视图。

我在 Asp 下使用 Microsoft.Office.Interop.Word 库。NET 环境 (C#)。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:27:47.843

如果 `oWordDoc`是 Word 文档的实例，请尝试：

```
oWordDoc.ActiveWindow.ActivePane.View = WdViewType.wdPrintView 
```

# eclipse - 如何通过gradle在Eclipse项目中添加对类路径的具体引用？

> ID：16009333
> 
> 赞同：1
> 
> 时间：2013-04-15T06:55:11.577
> 
> 标签：eclipse, gradle, gradle-eclipse, build.gradle, eclipse-classpath

我在文档中看到的所有示例都非常常见，这些示例说明了如何通过 build.gradle 文件向 Eclipse 项目类路径添加条目。他们什么也没说如何添加条目：

```
<classpathentry exported="true", kind="con" path="GROOVY_SUPPORT"/> 
```

[Doc](http://www.gradle.org/docs/current/dsl/org.gradle.plugins.ide.eclipse.model.EclipseClasspath.html)或“Gradle Effective Implementation Guide”一书对建议毫无用处，因为

```
 //closure executed after .classpath content is loaded from existing file
  //and after gradle build information is merged
  whenMerged { classpath ->
    //you can tinker with the Classpath here
  } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T11:17:21.790

您可以通过创建[org.gradle.plugins.ide.eclipse.model.Container](http://www.gradle.org/docs/current/groovydoc/org/gradle/plugins/ide/eclipse/model/Container.html)的实例来添加另一个类路径条目：

```
eclipse {
    classpath {
        file {
            whenMerged { classpath ->
                def groovySupportContainer = new org.gradle.plugins.ide.eclipse.model.Container('GROOVY_SUPPORT')
                groovySupportContainer.exported = true
                classpath.entries << groovySupportContainer
            }
        }
    }
} 
```

# android - 如何在 Android 中为 3D 对象渲染执行姿势估计

> ID：16009339
> 
> 赞同：0
> 
> 时间：2013-04-15T06:55:25.290
> 
> 标签：android, augmented-reality

我正在开发一个简单的 AR 应用程序，它在相机视图顶部呈现 3D 图像。我可以在 Windows 7 中成功实现。我使用了 OpenCv 的本机 POSE 估计函数，该函数内部使用了 POSIT 算法，以便给出可以应用于 3D 模态的平移、旋转矩阵。

我想在 Android 应用程序中实现相同的功能。我面临的问题是，POSE 估计函数的参数之一是相机固有参数和失真参数。我无法找到。我尝试研究各种 AR 平台 - AandAR、ARToolKit 等。但是在对它们的源进行逆向工程之后，我可以得出关于在 POSE 估计中使用这些的任何结论。

请建议我一种适当的姿势估计方法（如果它涉及相机失真参数，那么我将如何确定它）以及因此在 Android 应用程序中通过相机视图渲染 3D 对象

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-13T00:34:56.917

[OpenCV](http://opencv.org)是一个很棒的库，它为您提供了执行相机校准的方法，如果您想弄清楚相机的内在参数是什么，请参阅[相机校准文档](http://docs.opencv.org/modules/calib3d/doc/calib3d.html)。其中许多功能也在[Android OpenCV 库](http://opencv.org/platforms/android.html)中实现。

最后，您还可以使用 Android 附带的内部传感器来获取[重力、线性加速度和方向](http://developer.android.com/guide/topics/sensors/sensors_overview.html)。请参阅[David Sachs 关于如何在 Android 上使用 Sensor Fusion 的鼓舞人心的演讲](http://www.youtube.com/watch?v=C7JQ7Rpwn2k)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-19T05:52:40.860

我成功地为移动设备执行相机校准。我使用移动相机从各个角度单击棋盘快照，然后在 C++ 相机校准代码中使用它们。

然后使用这些内在和外在的相机参数，我试图制作 POSE 估计模块。

1.  我解析了 XML 文件并构建了矩阵。
2.  然后使用这个 OpenCv 教程 - [OpenCv POSIT](http://opencv.willowgarage.com/wiki/Posit)。我能够执行 POSE 估计。

但是，我还没有通过实际程序检查它的可信度。但理论上它是可以实现的，并且代码不会给出任何构建或编译错误。

# gdb - GDB 修补导致“无法访问地址 0x 处的内存

> ID：16009341
> 
> 赞同：5
> 
> 时间：2013-04-15T06:55:32.067
> 
> 标签：gdb, patch

我有一个需要使用 GDB 修补的程序。问题是有一行代码进行“小于或等于测试”并且失败导致程序以分段错误结束。该程序已经编译，我没有源代码，所以我显然无法更改源代码。但是，使用 GDB，我能够找到 <= 测试完成的位置，然后我能够找到您可以在下面看到的内存地址。

```
 (gdb) x/100i $pc
    ... removed extra lines ...
    0x7ffff7acb377:      jle    0x7ffff7acb3b1
    .... 
```

我需要做的就是将测试更改为“大于或等于”测试，然后程序应该可以正常运行。jle 的操作码是 0x7e，我需要将其更改为 0x7d。我的作业提供了有关如何执行此操作的说明，如下所示：

```
 $ gdb -write -q programtomodify
    (gdb) set {unsigned char} 0x8040856f = 0x7d
    (gdb) quit 
```

所以我尝试了一下，得到...

```
 $ gdb -write -q player
    (gdb) set {unsigned char} 0x7ffff7acb377 = 0x7d
    Cannot access memory at address 0x7ffff7acb377 
```

我尝试了各种其他内存地址，无论我尝试什么，我都会得到相同的响应。这是我唯一的问题，此时我不在乎是错误的地址还是错误的操作码指令，我只想能够修改内存。

我正在通过 VMware Player 运行 Linux Mint 14

感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T15:06:42.923

> `Cannot access memory at address 0x7ffff7acb377`

您正在尝试写入某个共享库所在的地址。您可以找出与`info sym 0x7ffff7acb377`.

在您尝试执行补丁时，*尚未*加载所述共享库，这解释了您收到的消息。

运行程序到`main`. *然后*你应该可以写地址。但是，您需要对库具有写入权限才能使您的写入“坚持”。

# java - 孩子已经有了父母

> ID：16009343
> 
> 赞同：0
> 
> 时间：2013-04-15T06:55:39.803
> 
> 标签：java, android, xml, scrollbar, parent-child

我知道很多人问过这个问题，但我不确定我的问题的解决方案是否相同。

我的代码是：

```
package com.example.goo;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.LinearLayout;
import android.widget.ScrollView;
import android.widget.TextView;

public class Calendrier extends Activity{

    LinearLayout linear;

    TextView text;

    ScrollView SV;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        SV = new ScrollView(this);          

        linear = new LinearLayout(this);
        linear.setOrientation(LinearLayout.VERTICAL);

        text = new TextView(this);
        text.setText("This is an example for the Bright Hub !");

        SV.addView(linear);
        linear.addView(text);
        setContentView(linear);

    }
} 
```

错误是：

> 引起：java.lang.IllegalStateException：指定的孩子已经有一个父母。您必须首先在孩子的父母上调用 removeView()。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T06:58:42.083

你做错了，`setContentView`因为你已经`linearLayout`在视图中添加了并且你试图添加第二次导致错误，

尝试这个：

> 设置内容视图（SV）；

反而：

> 设置内容视图（线性）；

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T06:59:03.970

我不确定，但我想您在最后一行 ( `setContentView(linear);`) 收到此错误。

您首先将该视图添加`linear`到 scrollview `SV`，然后将其设置为 contentView。

我只知道当您将一个视图添加到另一个视图两次时会出现此错误，但我认为将其设置为内容视图将起作用：它不能同时是`SV`AND 根视图的子视图。

要么设置`SV`，`setContentVieW`要么不`linear`添加`Scrollview`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T07:29:04.693

只是

`setContentView(linear);`=>`setContentView(SV);`

希望有帮助

# android - XmlPullParser.getInputEncoding() 在 API11+ 和 API11 之前的 Android 版本上的不同行为

> ID：16009344
> 
> 赞同：1
> 
> 时间：2013-04-15T06:55:54.950
> 
> 标签：android, xml, encoding, filereader, fileinputstream

我正在为我的 android 应用程序开发一项新功能，以启用数据备份和恢复。我正在使用 XML 文件来备份数据。这是为输出文件设置编码的一段代码：

```
XmlSerializer serializer = Xml.newSerializer();
FileWriter fileWriter = new FileWriter(file, false);
serializer.setOutput(fileWriter);
serializer.startDocument("UTF-8", true);
[... Write data to the file....] 
```

这就是我尝试从 XML 文件导入数据的方式。首先，我检查编码是否正确：

```
XmlPullParser parser = Xml.newPullParser();
FileReader reader = new FileReader(file);
parser.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES, false);
parser.setInput(reader);
if(!"UTF-8".equals(parser.getInputEncoding())) {
    throw new IOException("Incorrect file encoding");
}
[... Read data from the file....] 
```

在这里我遇到了一个问题。此代码在 Android 2.3.3（设备和模拟器）上运行良好，编码被正确检测为“UTF-8”。但是在 API11+ 版本（Honeycomb、ICS、JB）上会抛出异常。当我在调试模式下运行它时，我可以看到 parser.getInputEncoding() 返回`null`。我检查了在 2.3.3 及更高版本上生成的实际 XML 文件，它们具有完全相同的标题：`<?xml version='1.0' encoding='UTF-8' standalone='yes' ?>`. **为什么 getInputEncoding() 在 API11+ 上返回 null？**

**其他发现：**

我发现有一种方法可以正确检测 API11+ 设备上的文件编码，`FileInputStream`而不是`FileReader`像这样：

```
XmlPullParser parser = Xml.newPullParser();
FileInputStream stream = new FileInputStream(file);
parser.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES, false);
parser.setInput(stream, null);
if(!"UTF-8".equals(parser.getInputEncoding())) {
    throw new IOException("Incorrect file encoding");
}
[... Read data from the file....] 
```

在这种情况下，getInputEncoding() 可以正确检测 API11+ 模拟器和设备上的 UTF-8 编码，但它在 2.3.3 上返回 null。所以现在我可以在代码中插入一个 fork 来使用 API11+ 上的 FileReader 和 pre-API11 上的 FileInputStream：

```
if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
    parser.setInput(stream, null);
} else {
    parser.setInput(reader);
} 
```

**但是使用 XmlPullParser.getInputEncoding() 检查编码的正确方法是什么？为什么不同版本的 Android 行为会有所不同，具体取决于我使用哪一个：FileInputStream 还是 FileReader？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-23T23:16:10.733

经过更多的反复试验，我终于设法弄清楚发生了什么。因此，尽管[文档](http://developer.android.com/training/basics/network-ops/xml.html)说：

> 从历史上看，Android 有此接口的两个实现：通过 XmlPullParserFactory.newPullParser() 实现的 KXmlParser。ExpatPullParser，通过 Xml.newPullParser()。
> 
> 任何一个选择都很好。本节中的示例通过 Xml.newPullParser() 使用 ExpatPullParser。

现实情况是，在较旧的 API（例如 2.3.3 ）上`Xml.newPullParser()`返回`ExpatPullParser`对象。在 Ice Cream Sandwich 及以上时，它会返回`KXmlParser`对象。正如我们从[这篇博文中看到的](http://android-developers.blogspot.com/2011/12/watch-out-for-xmlpullparsernexttext.html)那样，Android 开发人员从 2011 年 12 月就知道这一点：

> 在 Ice Cream Sandwich 中，我们将 Xml.newPullParser() 更改为返回 KxmlParser 并删除了 ExpatPullParser 类。

...但从不费心更新官方文档。

那么如何`KXmlParser`在 Ice Cream Sandwich 之前检索 API 上的对象呢？简单的：

```
XmlPullParserFactory factory = XmlPullParserFactory.newInstance();
XmlPullParser parser = factory.newPullParser(); 
```

...事实上，这适用于所有版本的 android，新旧。然后为解析器的 setInput() 方法提供一个 FileInputStream ，保留默认编码`null`：

```
FileInputStream stream = null;
stream = new FileInputStream(file);
parser.setInput(stream, null); 
```

此后，在 API 11 及更高版本上，您可以立即调用 parser.getInputEncoding() ，它将返回正确的编码。但在 API11 之前的版本中，除非您首先调用 parser.next()，否则它将返回 null，正如 @Esailija 在他的回答中正确指出的那样。有趣的是，在 API11+ 上调用 next() 不会产生任何负面影响，因此您可以在所有版本上安全地使用此代码：

```
parser.next();
String encoding = parser.getInputEncoding(); 
```

这将正确返回“UTF-8”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T15:50:15.820

`FileReader`和其他阅读器不检测编码。他们只是使用平台默认编码，巧合的是 UTF-8。它与文件的实际编码无关。

`encoding`在您阅读到足以看到属性之前，您无法检测 XML 文件编码。

从[`getInputEncoding()`文档](http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html#getInputEncoding())

> 如果 inputEncoding 为 null**并且解析器支持编码检测功能**，它必须返回检测到的编码

和：

> 如果调用了 setInput(Reader)，则返回 null。

因此，pre 11 似乎不支持使用`setInput(is, null)`. 我不知道您`"UTF-8"`在使用`setInput(reader)`文档时会得到怎样的结果，因为它应该返回`null`。

然后：

> 如果存在 XML 声明，则在第一次调用 next 之后，此方法将返回声明的编码。

所以在 11 之前，你可以尝试在调用`.next()`之前先调用`.getInputEncoding`

# c - 实现发送和接收原始以太网帧的 C 程序时遇到问题

> ID：16009347
> 
> 赞同：1
> 
> 时间：2013-04-15T06:55:58.857
> 
> 标签：c, ethernet, frames

首先，我对以太网和数据链路层的主题相当陌生，我正在尝试编写一个允许发送和接收以太网帧的 C 程序。

我试图让我的程序将以太网帧发送给自己，因此程序将具有相同的源和目标 MAC 地址。

我正在使用的程序是来自[http://hacked10bits.blogspot.com/2011/12/sending-raw-ethernet-frames-in-6-easy.html的代码的修改版本](http://hacked10bits.blogspot.com/2011/12/sending-raw-ethernet-frames-in-6-easy.html)

我一直在使用 recvfrom() 函数时遇到问题，它似乎只是阻塞并且程序没有终止。从代码中，我尝试发送以太网帧并让 recvfrom() 函数能够检索帧并将其存储在缓冲区中。但是因为 recvfrom() 函数只是阻塞，在我看来 sendto() 函数无法成功发送帧。

有什么想法可以解决这个问题吗？

这是我的代码：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/socket.h>    /* Must precede if*.h */
#include <linux/if.h>
#include <linux/if_ether.h>
#include <linux/if_packet.h>
#include <sys/ioctl.h>

union ethframe
{
  struct
  {
    struct ethhdr    header;
    unsigned char    data[ETH_DATA_LEN];
  } field;
  unsigned char    buffer[ETH_FRAME_LEN];
};

int main(int argc, char **argv) {
  char *iface = "eth0";
  unsigned char dest[ETH_ALEN]
           = { 0x00, 0x12, 0x34, 0x56, 0x78, 0x90 };
  unsigned short proto = 0x1234;
  unsigned char *data = "hello world";
  unsigned short data_len = strlen(data);

  int s;
  if ((s = socket(AF_PACKET, SOCK_RAW, htons(proto))) < 0) {
    printf("Error: could not open socket\n");
    return -1;
  }

  struct ifreq buffer;
  int ifindex;
  memset(&buffer, 0x00, sizeof(buffer));
  strncpy(buffer.ifr_name, iface, IFNAMSIZ);
  if (ioctl(s, SIOCGIFINDEX, &buffer) < 0) {
    printf("Error: could not get interface index\n");
    close(s);
    return -1;
  }
  ifindex = buffer.ifr_ifindex;

  unsigned char source[ETH_ALEN];
  if (ioctl(s, SIOCGIFHWADDR, &buffer) < 0) {
    printf("Error: could not get interface address\n");
    close(s);
    return -1;
  }

  memcpy((void*)source, (void*)(buffer.ifr_hwaddr.sa_data),
         ETH_ALEN);

  //edited part... here we have it so that the destination mac address is
  //the same as the source mac address
  memcpy((void*)dest, (void*)(buffer.ifr_hwaddr.sa_data),
       ETH_ALEN);

  //probe source mac address
  int k;
  for(k = 0; k !=ETH_ALEN; k++)
  {
    printf("%x\n",source[k]);
    printf("%x\n",dest[k]);
  }

  union ethframe frame;
  memcpy(frame.field.header.h_dest, dest, ETH_ALEN);
  memcpy(frame.field.header.h_source, source, ETH_ALEN);
  frame.field.header.h_proto = htons(proto);
  memcpy(frame.field.data, data, data_len);

  unsigned int frame_len = data_len + ETH_HLEN;

  struct sockaddr_ll saddrll;
  memset((void*)&saddrll, 0, sizeof(saddrll));
  saddrll.sll_family = PF_PACKET;   
  saddrll.sll_ifindex = ifindex;
  saddrll.sll_halen = ETH_ALEN;
  memcpy((void*)(saddrll.sll_addr), (void*)dest, ETH_ALEN);

  if (sendto(s, frame.buffer, frame_len, 0,
             (struct sockaddr*)&saddrll, sizeof(saddrll)) > 0)
    printf("Frame successfully sent!\n");
  else
    printf("Error, could not send\n");

  struct sockaddr_ll saddrll_receive;
  memset((void*)&saddrll_receive, 0, sizeof(saddrll_receive));
  socklen_t sll_len = (socklen_t)sizeof(saddrll_receive);

  int recv_result;
  char buffer_receive[ETH_FRAME_LEN];
  recv_result = recvfrom(s, buffer_receive, ETH_FRAME_LEN, 0,
                 (struct sockaddr*)&saddrll_receive, &sll_len);

  close(s);

  return 0;
} 
```

这当然是在 Linux 机器上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-30T16:52:39.027

您的代码片段与博客上发布的代码片段相同！首先，您必须确保您的接口名称是“eth0”。然后您必须将目标 MAC 地址设置为您计算机的 MAC 地址 - 因为您似乎想在您的机器中发送和接收数据。当前您的代码正在使用假设的目标 MAC 地址。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T09:04:53.523

您必须具有 root 权限才能使用原始套接字。

尝试将套接字设置为非阻塞模式：

```
flags = fcntl (sock, F_GETFL);
fcntl (sock, F_SETFL, flags | O_NONBLOCK); 
```

# jquery - jquery 自动 twitter 提要和 api 1.1

> ID：16009348
> 
> 赞同：2
> 
> 时间：2013-04-15T06:56:09.530
> 
> 标签：jquery, api, twitter

我的网站上有一个自动推特供稿，直到最近它都运行良好，我已经弄清楚它是因为 Api 1.1 的更改，我需要进行更改，但我不知道如何修复它！这段代码：

```
 $(document).ready(function() {
   $.getJSON('http://search.twitter.com/search.json?rpp=75&callback=?&q=%2y' ,function         (data){
    for(var i=0;i<data.results.length;i++){
        var tweeter = data.results[i].from_user;
        var tweetText = data.results[i].text;
        var tweetText = tweetText.substring(0, 139);
        tweetText = tweetText.replace(/http:\/\/\S+/g, '<a href="$&" target="_blank">$&</a>');
        tweetText = tweetText.replace(/(@)(\w+)/g, ' $1<a href="http://twitter.com/$2" target="_blank">$2</a>');
        tweetText = tweetText.replace(/(#)(\w+)/g, ' $1<a  href="http://search.twitter.com/search?q=%23$2" target="_blank">$2</a>');
            $('#tw').append('<li class="tweet"><div class="tweetImage"><a                       href="http://twitter.com/'+tweeter+'" target="_blank"><img src="'+data.results[i].profile_image_url+'" width="48" border="0" /></a></div><div class="tweetBody">'+tweetText+'</div></li>');    
    }
   });

   function autoScroll() {
var itemHeight = $('#tw li').outerHeight();
    /* calculte how much to move the scroller */
   var moveFactor = parseInt($('#tw').css('top')) + itemHeight;
   /* animate the carousel */
   $('#tw').animate(
       {'top' : moveFactor}, 'slow', 'linear', function(){
           /* put the last item before the first item */
           $("#tw li:first").before($("#tw li:last"));
           /* reset top position */              
           $('#tw').css({'top' : '-6em'});
     });
  };
 /* make the carousel scroll automatically when the page loads */
 var moveScroll = setInterval(autoScroll, 6000);
}); 
```

效果很好，它使用 hastag jquery 提取推文，但我想要的是用户名 nnacanada 的推文，我该如何完成呢？非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-14T11:34:00.827

我有同样的问题，但解决方案有点复杂，因为我们必须在 api 1.1 中使用 https 而不是 http，解决方案是使用身份验证[https://dev.twitter.com/docs/api/1.1/get/状态/用户时间线](https://dev.twitter.com/docs/api/1.1/get/statuses/user_timeline)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-07T13:17:49.923

看起来如果您使用正确的值将 &user_id 或 $screen_name 添加到您的 URL，它应该可以工作。

# sensors - tinyos 或 tossim 中的文件处理

> ID：16009354
> 
> 赞同：0
> 
> 时间：2013-04-15T06:56:43.607
> 
> 标签：sensors, tinyos, nesc

我需要从 tinyos 文件（nesc 文件）中的文本文件中读取数据。我在互联网上搜索了很多，但找不到方法。

有什么办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T20:40:01.427

我不了解 TOSSIM，但使用真正的传感器板可以做到这一点。

您可以做的是使用 Java、C# 等编写程序，该程序读取文件并将获取的数据作为串行数据包传递到串行/USB 端口。但是每个数据包最多只能有 255 个字节。

所以你应该制作一个简单的协议来处理数据块。

当然，您应该知道如何创建可供传感器板读取的串行数据包。

为此，您需要阅读[TEP#113](http://tinyos.cvs.sourceforge.net/viewvc/tinyos/tinyos-2.x/doc/html/tep113.html)。但简而言之，一个串行数据包由以下部分组成：

页眉 + 内容 + 页脚

标头包含协议字节，目标和源地址等...内容是您的 message_t 结构页脚具有 CRC 和其他一些东西

您必须处理 CRC 计算并转义开始/结束分隔符（我相信字节 126 或 127 是分隔符，我的意思是开始和结束数据包的指示符）。

# c++ - GCC 可以打印出中间结果吗？

> ID：16009357
> 
> 赞同：7
> 
> 时间：2013-04-15T06:57:02.930
> 
> 标签：c++, linux, gcc, avr-gcc

检查下面的代码：

```
#include <avr/io.h>

const uint16_t baudrate = 9600;

void setupUART( void ) {
        uint16_t ubrr = ( ( F_CPU / ( 16 * (float) baudrate ) ) - 1 + .5 );
        UBRRH = ubrr >> 8;
        UBRRL = ubrr & 0xff;
}

int main( void ) {
        setupUART();
} 
```

这是用于编译代码的命令：

```
avr-gcc -g -DF_CPU=4000000       -Wall -Os -Werror -Wextra -mmcu=attiny2313 -Wa,-ahlmns=project.lst -c -o project.o project.cpp 
```

`ubrr`由编译器计算为 25，到目前为止还不错。但是，为了检查编译器的计算结果，我查看了反汇编列表。

```
000000ae <setupUART()>:
  ae:   12 b8           out     UBRRH, r1       ; 0x02
  b0:   89 e1           ldi     r24, 0x19       ; 25
  b2:   89 b9           out     UBRRL, r24      ; 0x09
  b4:   08 95           ret 
```

是否可以**在编译时**`avr-gcc`打印出中间结果（或从 .o 文件中提取信息），所以当我编译代码时它会打印出类似或类似的行？这样我就可以对计算和设置进行快速的健全性检查。**`(uint16_t) ubbr = 25`**

 *** * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T19:09:52.227

GCC 有命令行选项来请求它在编译的任何阶段之后转储其中间表示。“树”转储采用伪 C 语法并包含您想要的信息。对于您正在尝试做的事情，`-fdump-tree-original`和`-fdump-tree-optimized`转储发生在优化管道中的有用点。我手头没有 AVR 编译器，因此我将您的测试用例修改为自包含并可与我拥有的编译器一起编译：

```
typedef unsigned short uint16_t;
const int F_CPU = 4000000;
const uint16_t baudrate = 9600;
extern uint16_t UBRRH, UBRRL;

void 
setupUART(void)
{
    uint16_t ubrr = ((F_CPU / (16 * (float) baudrate)) - 1 + .5);
    UBRRH = ubrr >> 8;
    UBRRL = ubrr & 0xff;
} 
```

接着

```
$ gcc -O2 -S -fdump-tree-original -fdump-tree-optimized test.c
$ cat test.c.003t.original
;; Function setupUART (null)
;; enabled by -tree-original

{
  uint16_t ubrr = 25;

    uint16_t ubrr = 25;
  UBRRH = (uint16_t) ((short unsigned int) ubrr >> 8);
  UBRRL = ubrr & 255;
}

$ cat test.c.149t.optimized
;; Function setupUART (setupUART, funcdef_no=0, decl_uid=1728, cgraph_uid=0)

setupUART ()
{
<bb 2>:
  UBRRH = 0;
  UBRRL = 25;
  return;
} 
```

您可以看到常量表达式折叠完成得如此之早，以至于它已经发生在“原始”转储中（这是您可以拥有的最早可理解的转储），并且优化进一步将移位和掩码操作折叠到写入的语句中UBRRH 和 UBRRL。

文件名中的数字（003t 和 149t）对您来说可能会有所不同。如果您想查看*所有*“树”转储，请使用`-fdump-tree-all`. 还有“RTL”转储，它们看起来不像 C，可能对您没有用处。但是，如果您好奇，`-fdump-rtl-all`会打开它们。总共有大约 100 个树和 60 个 RTL 转储，因此最好在临时目录中执行此操作。

（Pssst：每次你在括号里面加上空格，上帝就会杀死一只小猫。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:39:27.440

可能有打印中间结果的解决方案，但需要一些时间来实施。因此，仅对于相当大的源代码库才值得。

您可以自定义您的 GCC 编译器；通过插件（痛苦地用 C 或 C++ 编码）或通过[MELT](http://gcc-melt.org/)扩展。MELT 是一种高级的、类似 Lisp 的特定领域语言，用于扩展 GCC。（它被实现为 GCC 的 [meta-] 插件，并被翻译成适用于 GCC 的 C++ 代码）。

然而，这种方法需要您了解 GCC 内部，然后添加您自己的“优化”通道来进行[面向方面的编程](http://en.wikipedia.org/wiki/Aspect-oriented_programming)（例如使用 MELT）以打印*相关*的中间结果。

您不仅可以查看生成的程序集（并`-fverbose-asm -S`用作 GCC 的选项），还可以查看生成的 Gimple 表示（可能带有`-fdump-tree-gimple`）。对于一些交互式工具，请考虑图形[MELT 探针](http://gcc-melt.org/#probe_id)。

也许添加您自己的内置函数（带有 MELT 扩展）`__builtin_display_compile_time_constant`可能是相关的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T07:41:59.857

我怀疑是否有一种简单的方法可以确定编译器的功能。gcc 中可能有一些工具专门用于转储语言的中间形式，但它肯定不容易阅读，除非你真的怀疑编译器做错了什么（并且有一个非常小的例子来展示它） ，您不太可能将它用于任何有意义的事情 - 仅仅是因为跟踪正在发生的事情需要做太多的工作。

如果您担心它是正确的，更好的方法是在代码中添加临时变量（可能还有打印）：

```
 uint16_t ubrr = ( ( F_CPU / ( 16 * (float) baudrate ) ) - 1 + .5 );
    uint8_t ubrr_high = ubrr >> 8
    uint8_t ubrr_low = ubrr & 0xff;
    UBRRH = ubrr_high;
    UBRRL = ubrr_low; 
```

现在，如果您有一个未优化的构建并在 GDB 中单步执行，您应该能够看到它的作用。否则，将某种打印输出添加到代码中以显示值是什么......

如果由于您正在设置将用于打印的 uart 而无法在目标系统上打印它，则在本地主机系统上复制代码并在那里进行调试。除非编译器有很多错误，否则您应该从相同的编译中获得相同的值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T18:30:27.957

这是一个技巧：只需自动化您现在手动执行的操作。

*   在您的 makefile 中，确保 avr-gcc 生成反汇编（`-ahlms=`*output.lst*）。或者，使用您自己的反汇编方法作为 makefile 中的后编译步骤。
*   作为编译后步骤，使用您喜欢的脚本语言处理您的列表文件以查找`out UBRRH`和 `out UBRRL`行。这些将从寄存器中加载，因此您的脚本可以将前面的分配提取到将加载到`UBRRH`和的寄存器中`UBRRL`。然后脚本可以从加载到用于设置和`UBRR`的通用寄存器中的值重新组合值 。`UBRRH``UBRRL`

这听起来比[Basile Starynkevich关于](https://stackoverflow.com/users/841108/basile-starynkevitch)[MELT](http://gcc-melt.org/)扩展的非常有用的建议更容易。现在，乍一看，这个解决方案*似乎很脆弱，所以让我们考虑一下这个问题：*

*   我们*知道*（至少在您的处理器上）这些`out UBRR_, r__`行将出现在反汇编列表中：根本没有其他方法可以将寄存器/写入数据设置为端口。可能会改变的一件事是这些行中/周围的间距，但这可以通过您的脚本轻松处理
*   我们也知道`out`指令只能来自通用寄存器，所以我们知道会有一个通用寄存器作为`out`指令行的第二个参数，所以这应该不是问题。
*   最后，我们也知道这个寄存器会在`out`指令之前被设置。在这里我们必须允许一些可变性：而不是`LDI`（立即加载），avr-gcc 可能会产生一些其他指令集来设置寄存器值。我认为作为第一遍，脚本应该能够解析立即加载，否则转储它找到的任何最后一条指令，这些指令涉及将写入`UBRR_`端口的寄存器。

如果您更改平台，脚本可能必须更改（某些处理器有`UBRRH1`/`2`寄存器 instea of`UBRRH`​​ ，但是在这种情况下，您的波特代码将不得不更改。如果脚本抱怨它无法解析反汇编，那么您至少会知道您的检查尚未执行。**

# data-structures - 何时使用陷阱

> ID：16009361
> 
> 赞同：26
> 
> 时间：2013-04-15T06:57:22.743
> 
> 标签：data-structures, treap, cartesian-tree

任何人都可以提供真实的例子来说明什么时候存储数据的最佳方式是陷阱？

我想了解在哪些情况下，treap 会比堆和树结构更好。

如果可能，请提供一些真实情况的例子。

我试图在这里和谷歌搜索搜索使用陷阱的案例，但没有找到任何东西。

谢谢你。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-08-27T08:00:37.613

如果将哈希值用作优先级，则陷阱提供内容的唯一表示。

考虑以 AVL-tree 或 rb-tree 实现的项目顺序集。以不同顺序插入项目通常最终会生成具有不同形状的树（尽管它们都是平衡的）。对于给定的内容，无论历史如何，trap 都将始终具有相同的形状。

我已经看到了为什么唯一表示可能有用的两个原因：

1.  安全原因。treap 不能包含有关历史的信息。
2.  高效的子树共享。我见过的最快的集合操作算法使用treaps。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-15T07:14:25.817

我无法为您提供任何真实世界的示例。但是我确实使用traps来解决编程竞赛中的一些问题：

*   [http://poj.org/problem?id=2761](http://poj.org/problem?id=2761)
*   [http://poj.org/problem?id=3481](http://poj.org/problem?id=3481)

这些实际上不是**真正的**问题，但它们是有道理的。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-04-15T10:06:03.200

您可以将其用作基于树的地图实现。根据应用程序，它可能会[更快](http://www.cepis.org/upgrade/files/full-2004-V.pdf)。几年前，我自己（在 Java 中）实现了一个 Treap 和一个 Skip 列表，只是为了好玩，并做了一些基本的基准测试，将它们与 TreeMap 进行比较，而 Treap 是最快的。你可以在[这里](http://pinporelmundo.blogspot.com.es/2011/06/skip-lists-compared-with-treaps-and-red.html)看到结果。

例如，与红黑树相比，它的最大优势之一是非常容易实现。但是，据我记得，与红黑树相比，它的操作没有保证成本（搜索是 O(log n) 的`high`概率），这意味着您将无法使用它在需要特定时间限制的安全关键应用中。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-08-18T20:05:14.880

Treaps 是平衡二叉搜索树的变体。确实存在许多算法来平衡二叉树，但其中大多数都是可怕的事情，需要处理大量的特殊情况。另一方面，编写 Treaps 非常容易。通过利用一些随机性，我们得到了一个预期为对数高度的 BBT。使用 treaps 解决的一些好问题是 - [http://www.spoj.com/problems/QMAX3VN/](http://www.spoj.com/problems/QMAX3VN/) （简单级别） [http://www.spoj.com/problems/GSS6/](http://www.spoj.com/problems/GSS6/) （中等级别）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-12-19T02:02:03.587

Treap 中的任何子树也是一个 Treap（即也满足 BST 规则以及最小或最大堆规则）。由于这个属性，一个有序列表可以很容易地拆分，或者使用 Treaps 可以很容易地合并多个有序列表，而不是使用 RB 树。实施更容易。设计也更容易。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-10-22T02:06:16.070

假设您有一家公司，并且您想创建一个库存工具：

*   能够（有效地）按名称搜索产品，以便您可以更新库存。

*   随时获取库存最少的产品，以便您能够计划下一个订单。

处理这些需求的一种方法是使用两种不同的数据结构：一种用于按名称进行有效搜索，例如哈希表，另一种用于获取最迫切需要重新供应的项目的优先级队列。您必须设法协调这两种数据结构，并且您将需要两倍以上的内存。如果我们根据名称对条目列表进行排序，我们需要扫描整个列表以找到另一个标准的给定值，在这种情况下，库存数量。此外，如果我们使用一个最小堆，其顶部是稀缺产品，那么我们将需要线性时间来扫描整个堆以寻找要更新的产品。

## 特雷普

Treap 是树和堆的混合体。这个想法是强制执行 BST 对名称的约束，以及堆对数量的约束。

[![在此处输入图像描述](https://i.stack.imgur.com/jYjuf.png)](https://i.stack.imgur.com/jYjuf.png)

产品名称被视为二叉搜索树的键。

相反，库存数量被视为堆的优先级，因此它们定义了从上到下的部分排序。对于优先级，像所有堆一样，我们有一个部分排序，这意味着只有从根到叶的同一路径上的节点才根据它们的优先级排序。在上图中，您可以看到子节点的库存数量始终高于其父节点，但**兄弟节点之间没有排序。**

# javascript - 在 IE9 中加载页面时如何防止“无法获取属性 'dir' 的值：对象为空或未定义”错误

> ID：16009363
> 
> 赞同：3
> 
> 时间：2013-04-15T06:57:45.363
> 
> 标签：javascript, dojo

我有一个 Dojo 1.7.4 应用程序在 IE9 中加载页面时出现“无法获取属性 'dir' 的值：对象为空或未定义”错误。

我正在使用 AMD 构建，当它必须单独加载所有文件时不会发生错误。

我可以控制的所有代码都包含在 dojo/ready 和 dom/domReady 中！叫到偏执狂的地步。

当错误发生时，我用 IE9 调试器捕获它，调用堆栈显示调用 isBodyLtr 时发生错误，但调用堆栈的顶部是 nls/synapse_en-gb.js。nls/synapse_en-gb.js 文件似乎是编译 nls 文件，其中包含应用程序使用的所有 en-gb 翻译。

这似乎是由于在我的 dojoConfig 中将“en-gb”作为我唯一的语言环境条目而被加载的，而且我似乎无法控制以确保它也被包装在 dojo/ready 或 dojo/domReady! 中。

这是我的 HTML 中引导 Dojo 包的示例代码。

在 dom 和剩余的 Dojo 文件完全加载之前阻止翻译文件运行的任何指针？

```
<script type="text/javascript">
//<![CDATA[
var dojoConfig = {
async: true,
parseOnLoad: true,
isDebug: true,
locale: "en-gb",
baseUrl: "/synapse/js/dojo/dojo/",
paths: {"synapse": "../../synapse"}
};

//]]>
</script>
<script type="text/javascript" src="/synapse/js/dojo/dojo/dojo.js"></script>
<script type="text/javascript">
//<![CDATA[
require(['dojo/ready', 'synapse/synapse', 'dojo/domReady!'], function(ready) {
ready(function () {

    require(['dojo/ready', 'synapse/overlay','dojo/domReady!'], function (ready, package) {
        ready(function() {
            package.init();
        });
    });
});
});

//]]> 
```

**更新：2013 年 4 月 17 日** 为了尝试找出堆栈跟踪中的函数调用，我从 dojo.js.uncompress.js 引导。

这告诉我 nls/synapse_en-gb.js 是入口点，调用`var def = function()`( 在全局命名空间中暴露为`define`, then `checkComplete`, then`execModule`等等。

由于这似乎在 DOM 加载之前运行，我需要找到一种方法来确保 nls/synapse_en-gb.js 在加载 DOM 之前不会运行。

查看我生成的 synapse/synapse.js，在基础上有一个 *now 函数，它似乎预加载了 i18n 文件文件。IE

```
"*now":function(r){
    r(["dojo/i18n!*preload*synapse/nls/synapse*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);
} 
```

我可能最终不得不重新定位所有的 dojo 加载，直到之后，所以在 dojo 执行它之前加载 DOM 的机会要大得多。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T00:12:06.690

我最终不得不将脚本的内联部分移动到`</body>`标记之后。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:20:48.587

您可以通过在实际函数前添加一个数字来控制就绪函数的执行：

```
 ready(999999,function() {
        package.init();
    }); 
```

小数意味着早执行，大数意味着晚执行！

您已经在一个就绪函数中嵌套了一个就绪函数。我不认为他们可以那样使用...

# javascript - 将临时数据存储到隐藏元素中是不是很糟糕？

> ID：16009366
> 
> 赞同：28
> 
> 时间：2013-04-15T06:57:58.837
> 
> 标签：javascript, jquery, html, dom

在一次面试中，一旦我参加，我被要求创建一个基于 java 脚本的功能，据说我在其中创建一个表单（比如名字、姓氏、电子邮件、年龄）和一个列表（实际上列表是另一种存储多个条目的表单）在此表单下方。提交此表单后，列表中添加了一个新行。但是，可以删除任何先前添加的列表行。并且添加删除后，最后需要存储这个最终的listing状态。（表单发布和服务器端脚本的种类进入图片）

所以我做了什么，在提交表单时，`<tr>`在列表表中添加一个新行，同时我使用 jQuery 序列化序列化除提交按钮之外的所有表单数据，并将其存储在列表表单的一个隐藏元素中。

在删除列表行时，我正在删除`<tr>`行以及同一行的相应隐藏元素。

一切都很好，没有任何错误。但是面试官问我“我使用的方法（隐藏元素）真的合适吗？”。

我回答说，我可以使用 json 吗？但无法破解采访。所以我想知道在这种情况下我们可以用来存储数据的最佳方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T07:08:06.987

客户端的另一种方法是单独保留对象列表，并且仅将对每个项目的引用存储在 DOM 元素的属性中。这种方法与 jQuery 提供的方法非常相似，[`$.fn.data()`](http://api.jquery.com/data/)并且具有以下优点：

1.  您不必序列化任何内容，数据保持其本机格式；应该说，您也可以通过添加属性来实现这一点。

2.  您的所有数据都保存在一个地方，而不是分散在 DOM 中。

这是一个示例实现：

```
(function(ns) {

var entries = {},
entryId = 1;

ns.Entries = {
   addEntry: function(data) {
     entries[entryId] = data;
     return entryId++;
   },
   getEntryById: function(id) {
     return entries[id] || null;
   }
};

}(this)); 
```

调用`Entries.addEntry`会返回一个标识符，您可以将其存储在 DOM 元素的属性之一中：

```
tr.entryId = Entries.addEntry(data); 
```

稍后您可以使用该`entryId`属性在条目列表中找到相应的数据并使用它。

```
var data = Entries.getEntryById(tr.entryId); 
```

[**演示**](http://jsbin.com/arucuj/1/)

当然，这个特定的功能也可以通过使用会话在服务器端解决。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-15T07:03:46.237

感谢 HTML5，我们现在能够在所有 HTML 元素上嵌入自定义数据属性。这些新的自定义数据属性由两部分组成：

*   **属性名称** 数据属性名称必须至少有一个字符长，并且必须以“data-”为前缀。它不应包含任何大写字母。
*   **属性值** 属性值可以是任何字符串。

使用这种语法，我们可以将应用程序数据添加到我们的标记中，如下所示：

```
<ul id="vegetable-seeds">
  <li data-spacing="10cm" data-sowing-time="March to June">Carrots</li>
  <li data-spacing="30cm" data-sowing-time="February to March">Celery</li>
  <li data-spacing="3cm" data-sowing-time="March to September">Radishes</li>
</ul> 
```

我们现在可以在我们网站的 JavaScript 中使用这些存储的数据来创建更丰富、更具吸引力的用户体验。想象一下，当用户点击蔬菜时，浏览器中会打开一个新图层，显示额外的种子间距和播种说明。由于我们添加到`<li>`元素中的数据属性，我们现在可以立即显示这些信息，而不必担心进行任何 Ajax 调用，也无需进行任何服务器端数据库查询。

来源：[HTML5 医生](http://html5doctor.com/html5-custom-data-attributes/)

我相信还有其他方法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-15T07:06:06.180

实际上，您可以使用 jQuery 向 html 元素添加数据，而不是使用隐藏元素。这是一种更好的方法，可以使您的数据对用户不那么明显/直接。检查 jQuery 中的 data() 。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:11:05.897

首先，一页上的多个表单是错误的 - 它是数据丢失反模式。正确的方法是把所有东西都放在一种形式中。这样，即使没有 JS，它也可以工作，并且您只能使用 JS 来提高可用性，而不是提供基本功能。该解决方案将优雅地降级，并且易于调试和维护。

当然，将数据保存在隐藏字段中是一种有效的技术。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T07:13:22.933

通过将提交的数据写入表单本身并再次从中读取，您已经将这两个元素绑定在一起 - 据说它们是紧密耦合的。

如果另一个要求也出现在表格中显示先前提交的数据，会发生什么情况？还是将表格放在单独的页面上？

如果您采用更多的 MVC 方法，您可以分离出各个部分的逻辑 - 读取、写入和发送数据。例如，正如您所说，从 JSON 模型中写入和读取。这将使每个方面在未来更容易扩展。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-15T07:03:39.073

如果用户可以信任它，那么在客户端存储数据并没有错，并且当他弄乱它时，您的系统也不会发生任何可怕的事情。

我可以看到使用隐藏字段（或 cookie）的唯一问题是它们会随每个请求一起发送，这可能会浪费带宽。不确定这是否适用于您的情况，可能不适用，因为您说您只在完成所有操作后提交一次。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-15T07:04:37.927

“有效”的解决方案的问题在于它们不够抽象，因此往往会在未来引起问题。考虑你的例子；如果您决定将临时数据存储在本地存储中（以允许用户关闭浏览器并稍后返回），则必须重写存储数据的方式。如果将其存储在变量中，则可以像添加“提交到服务器”或“传递到任何其他函数”功能一样轻松地添加“保存到本地存储”。除了发布到服务之外，您的“隐藏元素”方法必须被重写以用于任何目的。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-15T07:29:23.667

我不会直接回答你的问题，但会专注于你选择的面试和方法。

我会说您选择了错误的方式，并且您应用此解决方案的知名 IT 公司可能会遇到问题。

您选择了将所有内容存储在客户端的方式，但您不应该这样做！由于您的客户可能会以这种方式丢失大量数据，因为想象一下您的列表表单永远不会发送的情况？用户只会忘记点击发送（永远不要相信用户！）。然后你失去了一切......你工作的全部进展......假设你已经添加了 50 个列表项......

同样添加这样的项目可以很容易地使您的会话过期（对服务器没有请求）并且不会保存任何数据，因为用户必须再次登录。你也必须处理它，否则你将失去一切！

很抱歉有感叹号，但我认为数据至关重要（尤其是对您的客户而言），因此永远不要提供可能使客户以某种方式丢失数据的解决方案。

所以：

将数据存储在 HTML 元素中还不错，但您需要非常小心地应用此解决方案。

# google-tv - 关于 Google-TV-Remote Anymote & Polo

> ID：16009368
> 
> 赞同：0
> 
> 时间：2013-04-15T06:58:06.793
> 
> 标签：google-tv

一些文件在哪里

> 键码.pb.cc
> 
> 键码.pb.h
> 
> 键码.proto
> 
> 远程.pb.cc
> 
> 远程.pb.h
> 
> 远程.proto
> 
> 马球变种cc
> 
> 马球变种h
> 
> polo.proto

在哪里找到它们或使它们成为什么？你能接受吗？我现在需要它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T14:00:26.470

Anymote 协议消息采用协议缓冲区格式。该协议使用以下协议缓冲区定义：[https](https://code.google.com/p/anymote-protocol/source/browse/#hg%2Fproto) ://code.google.com/p/anymote-protocol/source/browse/#hg%2Fproto和[https://code.google.com/p/google-tv-配对协议/源/浏览/协议/](https://code.google.com/p/google-tv-pairing-protocol/source/browse/proto/)

您需要为您的语言下载并构建协议缓冲区编译器。使用 .proto 文件为 Anymote 消息生成代码。

Google 开发者网站提供了有关如何使协议缓冲区工作的详细说明。

# android - 从android中的xml读取图像url

> ID：16009376
> 
> 赞同：0
> 
> 时间：2013-04-15T06:58:25.340
> 
> 标签：android, xml-parsing, urlread

我想从此网址读取图像。

```
<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:itunes="http://www.itunes.com/dtds/podcast-1.0.dtd" version="2.0">

  <channel>

    <title>podCast411</title>
    <description>The 411 on podCasts, podCasters and podcasting</description>
    <link>http://www.podcast411.com</link>
     ..
     ..
    <itunes:explicit>No</itunes:explicit>

    <itunes:image href="http://www.podcast411.com/img/411_itunes.jpg"/>
     ..
  </channel>
</rss> 
```

我可以使用以下代码从该提要中读取标题、描述。

```
Node results = doc.getDocumentElement();
            Element docElement = doc.getDocumentElement();
            NodeList childNodes = docElement.getChildNodes();
            NodeList itemLinks = docElement.getElementsByTagName("item");
            Log.d("TAG",
                    "Response:" + results.getLastChild() + " "
                            + childNodes.getLength() + "  " + itemLinks.getLength());

            for (int i = 0; i < itemLinks.getLength(); i++) {
                Element el = (Element) itemLinks.item(i);

                NodeList itemTitle = el.getElementsByTagName("title");
                Element itemFirst = (Element) itemTitle.item(0);
                String nTitle = itemFirst.getFirstChild().getNodeValue();

                NodeList itemdesc = el.getElementsByTagName("description");
                Element itemFirstdesc = (Element) itemdesc.item(0);
                String nDesc = stipHtml(itemFirstdesc.getFirstChild().getNodeValue());

}
public String stipHtml(String html) {
            return Html.fromHtml(html).toString();
        } 
```

当我尝试使用相同的代码来读取 url 时，它不起作用。以下代码用于读取 imade url：

```
NodeList itemImage = el.getElementsByTagName("image");
                String imageUrl = null;
                for(i=0;i< itemImage.getLength();i++) {
                    Log.d("TAG", "Length of item is "+ itemImage.getLength());
                    Element itemFirstImage = (Element) itemImage.item(i);
                    NodeList url = itemFirstImage.getElementsByTagName("url");
                    Element link = (Element) url.item(i);
                    imageUrl = stipHtml(link.getFirstChild().getNodeValue());
                } 
```

我的代码有什么问题？

我的 logcat 是：它显示所有元素。

```
D/TAG     ( 1901): List Data is called
D/TAG     ( 1901): Temp is created.......
D/TAG     ( 1901): RSS Data: title  : Twelve-die-in-Himachal-road-accident description:Twelve people, all belonging to a village in Himachal Pradesh's Chamba district, were killed when a private vehicle skidded off the road and fell into a 700-metre-deep gorge on Sunday night, police officials said. http://feeds.hindustantimes.com/~r/HT-IndiaSectionPage-Topstories/~3/fUUMziwJedI/story01.htm null
D/TAG     ( 1901): List Data is called
D/TAG     ( 1901): Temp is created.......
D/TAG     ( 1901): RSS Data: title  : Twelve-die-in-Himachal-road-accident description:Twelve people, all belonging to a village in Himachal Pradesh's Chamba district, were killed when a private vehicle skidded off the road and fell into a 700-metre-deep gorge on Sunday night, police officials said. http://feeds.hindustantimes.com/~r/HT-IndiaSectionPage-Topstories/~3/fUUMziwJedI/story01.htm null
D/TAG     ( 1901): List Data is called
D/TAG     ( 1901): Temp is created.......
D/TAG     ( 1901): RSS Data: title  : Twelve-die-in-Himachal-road-accident description:Twelve people, all belonging to a village in Himachal Pradesh's Chamba district, were killed when a private vehicle skidded off the road and fell into a 700-metre-deep gorge on Sunday night, police officials said. http://feeds.hindustantimes.com/~r/HT-IndiaSectionPage-Topstories/~3/fUUMziwJedI/story01.htm null 
```

最后，通过显示以下 logcat 强制关闭应用程序：

```
E/dalvikvm( 1901): Out of memory: Heap Size=24263KB, Allocated=23071KB, Bitmap Size=375KB
D/AndroidRuntime( 1901): Shutting down VM
W/dalvikvm( 1901): threadid=1: thread exiting with uncaught exception (group=0x400259f8)
I/dalvikvm-heap( 1901): Clamp target GC heap from 24.311MB to 24.000MB
D/dalvikvm( 1901): GC_FOR_MALLOC freed 18016 objects / 939208 bytes in 141ms
E/AndroidRuntime( 1901): FATAL EXCEPTION: main
E/AndroidRuntime( 1901): java.lang.OutOfMemoryError
E/AndroidRuntime( 1901):    at android.text.SpannableStringBuilder.resizeFor(SpannableStringBuilder.java:137)
E/AndroidRuntime( 1901):    at android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:322)
E/AndroidRuntime( 1901):    at android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:275)
E/AndroidRuntime( 1901):    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:438)
E/AndroidRuntime( 1901):    at android.text.SpannableStringBuilder.append(SpannableStringBuilder.java:259)
E/AndroidRuntime( 1901):    at android.text.HtmlToSpannedConverter.characters(Html.java:774)
E/AndroidRuntime( 1901):    at org.ccil.cowan.tagsoup.Parser.pcdata(Parser.java:994)
E/AndroidRuntime( 1901):    at org.ccil.cowan.tagsoup.HTMLScanner.save(HTMLScanner.java:614)
E/AndroidRuntime( 1901):    at org.ccil.cowan.tagsoup.HTMLScanner.scan(HTMLScanner.java:557)
E/AndroidRuntime( 1901):    at org.ccil.cowan.tagsoup.Parser.parse(Parser.java:449)
E/AndroidRuntime( 1901):    at android.text.HtmlToSpannedConverter.convert(Html.java:411)
E/AndroidRuntime( 1901):    at android.text.Html.fromHtml(Html.java:139)
E/AndroidRuntime( 1901):    at android.text.Html.fromHtml(Html.java:102)
E/AndroidRuntime( 1901):    at com.mistral.droidcast.SubscriptionActivity$RequestTask.stipHtml(SubscriptionActivity.java:134)
E/AndroidRuntime( 1901):    at com.mistral.droidcast.SubscriptionActivity$RequestTask.onPostExecute(SubscriptionActivity.java:84)
E/AndroidRuntime( 1901):    at com.mistral.droidcast.SubscriptionActivity$RequestTask.onPostExecute(SubscriptionActivity.java:1)
E/AndroidRuntime( 1901):    at android.os.AsyncTask.finish(AsyncTask.java:417)
E/AndroidRuntime( 1901):    at android.os.AsyncTask.access$300(AsyncTask.java:127)
E/AndroidRuntime( 1901):    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
E/AndroidRuntime( 1901):    at android.os.Handler.dispatchMessage(Handler.java:99)
E/AndroidRuntime( 1901):    at android.os.Looper.loop(Looper.java:144)
E/AndroidRuntime( 1901):    at android.app.ActivityThread.main(ActivityThread.java:4937)
E/AndroidRuntime( 1901):    at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime( 1901):    at java.lang.reflect.Method.invoke(Method.java:521)
E/AndroidRuntime( 1901):    at 

    com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
    E/AndroidRuntime( 1901):    at 

    com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
    E/AndroidRuntime( 1901):    at dalvik.system.NativeStart.main(Native Method)
    W/ActivityManager(  103):   Force finishing activity com.mistral.droidcast/.SubscriptionActivity 
```

请给我任何其他方式来实现它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:29:30.270

```
try {
            InputStream myxml = this.getApplicationContext().getAssets().open("production.xml");
            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();  DocumentBuilder db = dbf.newDocumentBuilder();
            Document doc = db.parse(myxml);
            doc.getDocumentElement().normalize();
            NodeList nodeList = doc.getElementsByTagName("channel");
            name = new TextView[nodeList.getLength()];

            for (int i = 0; i<nodeList.getLength(); i++) 
            {
                Node node = nodeList.item(i);               
                Element fstElmnt = (Element) node;
                NodeList toList = fstElmnt.getElementsByTagName("itunes:image");
                Element nameElement = (Element) toList.item(0);
                toList = nameElement.getChildNodes();     
                String link = ((Node) toList.item(0)).getNodeValue();
                 // link would be containing url of ur image        
            }

            } catch (Exception e) {
                    System.out.println("XML Pasing Excpetion = " + e);
            } 
```

# node.js - Node.js 如何重新发布数据。

> ID：16009384
> 
> 赞同：1
> 
> 时间：2013-04-15T06:59:04.670
> 
> 标签：node.js, meteor

我们已经根据列表 id 发布了项目，我们使用 myLists 变量来过滤列表 ID，但是这个变量本质上不是反应性的，当我们尝试添加新列表时，新列表的项目不会自动发布。

```
Meteor.publish('subscription_items', function () {
var userName = this.userId ? Meteor.users.find({ _id: this.userId }).fetch()[0].username : null;

var myLists = [];
var sharedListIDs = [];
SharedLists.find({ shared_with: userName }).forEach(function (list) {
    sharedListIDs.push(list.list_id);
});

Lists.find({ $or: [{ owner: userName }, { _id: { $in: sharedListIDs } }] }).forEach(function (list) {
    myLists.push(list._id);
});

return Items.find({ list_id: { $in: Lists.find({ $or: [{ owner: userName }, { _id: { $in: sharedListIDs } }] }).fetch() } });. 
```

我们有什么办法总是发布新数据吗？请帮我解决这个问题。任何帮助/建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-24T01:31:27.777

正如[David Weldon在对我的类似问题的](https://stackoverflow.com/users/635981/david-weldon)[回答](https://stackoverflow.com/a/20769721/3068252)中指出的那样，您正在寻找的是反应式连接。通过使用包[publish-with-relations](https://github.com/erundook/meteor-publish-with-relations)，我认为您想要的发布功能看起来像这样：

```
Meteor.publish('subscription_items', function() {
  return Meteor.publishWithRelations({
    handle: this,
    collection: Lists,
    filter: {owner: this.userId},
    mappings: [{collection: SharedLists, key: 'list_id'}]
  });
}); 
```

或者，作为（肮脏的）解决方法，您可以致电

```
Meteor.subscribe('subscription_items'); 
```

在您需要重新发布该集合的任何地方。

# javascript - D3JS 打包的圆形布局，相对于父级的填充

> ID：16009387
> 
> 赞同：2
> 
> 时间：2013-04-15T06:59:16.493
> 
> 标签：javascript, d3.js, padding, circle-pack

我正在寻找一种在使用圆形包装布局以允许标记非叶节点时在父节点和子节点之间添加填充的方法。这是为了允许标记中间节点，因为只标记示例中的引导节点，[http](http://strongriley.github.io/d3/ex/pack.html) ://strongriley.github.io/d3/ex/pack.html 不会公开我想要的信息级别。

目前我正在制作这个 jsfiddle，[http://jsfiddle.net/rJC2E/](http://jsfiddle.net/rJC2E/)。但正如您所看到的，中间标签重叠。目前我的半径只是使用以下代码设置

```
 node.append("circle")
                    .attr("r", (d) -> d.r) 
```

我试图通过乘以 0.9 来改变半径，等等，但这并没有导致我正在寻找的结果。咖啡脚本中的当前代码是：

```
 d3.json("/distilleries.json", (dat) ->
            svgRoot = d3.select('body')
                    .append("svg").attr("width", "100%").attr("height",1000)
                    .append('g')
                    .attr("transform", "translate(200,200)")

            diameter = 900
            format = d3.format(",d")

            pack = d3.layout.pack()
                    .size([diameter - 100, diameter - 100])
                    .value((d) -> d.size)
                    .padding(10)

            node = svgRoot.datum(dat).selectAll(".node")
                    .data(pack.nodes)
                    .enter()
                    .append("g")
                    .attr("offsetWidth", 20)
                    .attr("class", (d) -> if d.children then "node" else "leaf node")
                    .attr("transform", (d) -> "translate(" + d.x + "," + d.y + ")")

            node.append("circle")
                    .attr("r", (d) -> d.r)

            arc = d3.svg.arc()
                    .innerRadius((d,i) -> d.r - 1)
                    .outerRadius((d) -> d.r)
                    .startAngle(0)
                    .endAngle(2 * Math.PI)

            node.filter((d) -> d.children)
                    .append("path")
                    .style("visibility", "hidden")
                    .attr("id", (d,i) -> "p"+i)
                    .attr("d", arc)

            node.filter((d)-> d.children )
                    .append("text")
                    .append("textPath")
                    .attr("textLength", (d,i) -> 100 )
                    .attr("xlink:href", (d, i) -> console.log(d.name + i); "#p" + i)
                    .attr("startOffset", (d) -> Math.random()*(0.2 - 0.15) + 0.15)
                    .attr("dy", (d) -> if d.children then - d.r else ".3em")
                    .style("text-anchor", "middle")
                    .text((d) -> d.name)
                    .attr("class", (d) -> 
                                    d.class 
                    )
            node.filter((d)-> !(d.children) )
                    .append("text")
                    .style("text-anchor", "middle")
                    .text((d, i) -> d.name)
            ) 
```

谢谢，

# ios - 突出显示的属性仅用于在 Interface Builder 中显示

> ID：16009389
> 
> 赞同：16
> 
> 时间：2013-04-15T06:59:19.297
> 
> 标签：ios, xcode, user-interface, storyboard

我该如何解决这样的警告？在大多数情况下是什么意思？

当我点击它时，我的 Interface Builder 上没有任何突出显示（它只是放大了 2 个视图控制器之间的某个区域）。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-05-08T00:06:14.143

你有一个 UIImageView在 Xcode 中的**Highlighted设置为 true。**Xcode 告诉您该值适用于所见即所得，但在运行时不起作用。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2016-06-01T13:44:17.063

在查看了我了解的警告消息详细信息后，但仍然没有办法，我可以找到特定的图像`highlighted="YES"`

**[@Keller](https://stackoverflow.com/users/625709/keller)**在已接受答案的评论中**建议的完美技巧。**

> 只需右键单击您的 Storyboard --> Open As --> Source Code。

搜索

> 高亮=“是

只需将 YES 设置为**NO**。

*或者事件如果你仔细查看搜索字符串周围的代码，你可以在哪个 ViewController 的 Scene 中获得特定的 ImageView。*

感谢@[凯勒](https://stackoverflow.com/users/625709/keller)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-09T12:30:00.557

右键单击您的**Storyboard -> Open as -> Source Code**。搜索*突出显示的 = "YES"*。检查图像的名称。**在Storyboard**上找到图像。单击图像，转到**Show the Attributes inspector**。取消选中**突出显示**的选项

[突出显示的图像](https://i.stack.imgur.com/LEJgt.png)

# sql - 将一个查询作为子查询合并到另一个查询中并从中检索多行

> ID：16009393
> 
> 赞同：-1
> 
> 时间：2013-04-15T06:59:34.560
> 
> 标签：sql

我有两个工作正常的不同查询，但我想要的是将第二个查询合并到第一个查询中，这样做时我得到错误，因为子查询不能返回多个值。

我的第一个查询是：

```
select distinct hm.hotel_name
from hotel_master hm , customer_bidding cb, bid b, hotel_admin ha
where cb.bid_id=b.bid_id 
  and b.ha_id=ha.ha_id
  and ha.hotel_id=hm.hotel_id 
```

我想与第一个合并的第二个查询是：

```
select distinct bid_id ,COUNT(bid_id) as bids from customer_bidding Group by bid_id order by bids desc 
```

我将感谢提供的任何帮助。

查询结果：

![在此处输入图像描述](https://i.stack.imgur.com/LQsxt.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:07:48.680

为了安全起见，因为我不知道你的记录长什么样，

```
select  distinct hm.hotel_name, cb.bids
from    hotel_master hm, bid b, hotel_admin ha,
        (
            SELECT  bid_id,
                    COUNT(bid_id) as bids 
            from    customer_bidding 
            Group   by bid_id
        ) cb
where   cb.bid_id = b.bid_id and    
        b.ha_id = ha.ha_id and  
        ha.hotel_id = hm.hotel_id 
```

# c# - 如何从谷歌地图 API 获取城市和邮政编码？

> ID：16009394
> 
> 赞同：0
> 
> 时间：2013-04-15T06:59:38.220
> 
> 标签：c#, javascript, asp.net

如何从谷歌地图 API 获取城市和邮政编码。我的代码如下所示

```
if (place.address_components) {                    
code = [place.address_components[0].types[0].postal_code];
alert(code);
document.getElementById('cityField').value = code;
} 
```

但是当我尝试这个时，它会提示 null。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:07:04.940

检查SO的以下链接，您的问题的解决方案在这些问题的答案中：

1.  [通过 Zip Google Geocode Api 查找城市和州](https://stackoverflow.com/questions/4749706/lookup-city-and-state-by-zip-google-geocode-api)
2.  [如何使用 Google Maps API 按城市查找邮政编码？](https://stackoverflow.com/questions/2304404/how-to-look-up-zip-postal-code-by-city-using-google-maps-api)

这个对你有好处。看一看：

[Google Maps API 有时不会在 AddressDetails 中返回 PostalCode](https://stackoverflow.com/questions/3479938/google-maps-api-sometimes-not-returning-postalcode-within-addressdetails)

并阅读本教程：

[如何使用-the-google-maps-api 查找哪个州的邮政编码位于](http://www.wearehathway.com/blog/tech/how-to-find-which-state-a-zip-code-is-located-in-using-the-google-maps-api)

# c# - 将文本解码为阿拉伯语和英语

> ID：16009396
> 
> 赞同：1
> 
> 时间：2013-04-15T07:00:03.847
> 
> 标签：c#, unicode, encoding

我正在尝试解码存储在数据库中的编码文本，这将给出一些阿拉伯字符以及一些英文单词并将它们显示在网页（.aspx）上，但尽管英文单词变得完美，但它显示垃圾字符。

现在我使用下面的代码： -

```
byte[] plain = Convert.FromBase64String(encodedData);
lblmsg.Text = Encoding.UTF8.GetString(plain); 
```

请帮我解决一些问题。

测试：我将编码部分粘贴到网络上进行解码，它给出了正确的文本（阿拉伯语和英语），但我无法以编程方式进行。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-15T07:01:24.347

尝试在显示阿拉伯字符的页面中使用编码

```
<%@ Page RequestEncoding="utf-8" ResponseEncoding="utf-8" %> 
```

希望它有帮助。

# jquery - 我想让我的代码全球化。我想一次又一次地使用相同的代码 2-3 次，但它可以一起工作

> ID：16009401
> 
> 赞同：0
> 
> 时间：2013-04-15T07:00:41.120
> 
> 标签：jquery

我想切换文本，但想在同一页面上使用 2-3 个位置。

```
$(".showdiv").click(function() {
   $(this).toggleClass("active");

    if ($(this).text() == "+ Show More"){
     var sachin =  $('.transc_crosssell').removeClass("hidden");
     $(this).text("- Show Less");
     alert(sachin);
     }
    else {
       $(this).text("+ Show More");
       $('.transc_crosssell').addClass("hidden");
       }

}); 
```

但所有切换都一起工作。请告诉我如何解决这个问题。我想要一个切换应该只有当我点击它时。

```
<div class="showdiv">+ Show More</div`>

<div class="transc_crosssell hidden">xyx text </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:10:23.220

如果您想将 divs wiich class`showdiv`并`transc_crossell`始终视为一对，您可以通过将它们与另一个`div`. 如果你这样做，你将能够通过做得到`transc_crosssell`对应

```
$(this).parent().children('.transc_crosssell'); 
```

# ruby-on-rails - RoR：输出哈希，得到正确的参数？

> ID：16009402
> 
> 赞同：-1
> 
> 时间：2013-04-15T07:00:48.233
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, hash

我有这样的输出：

```
#<Hashie::Mash created_time="1366008641" 
from=#<Hashie::Mash full_name="Cor Valen" id="22340" username="_corin"> 
id="4344344286" text="Look Who It Is, My Brother, My Favorite Deputy"> 
```

如果我这样做，这是一个输出：

```
<%= media.caption %> 
```

我想得到这个`text`部分，我这样做了：

```
<%= media.caption.text %> 
gets me error: undefined method `text' for nil:NilClass

<%= media.caption[:text] %>
gets me error: undefined method `[]' for nil:NilClass 
```

我不明白？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-27T21:50:23.413

我在 Instagram 提要中遇到了这个问题，我发现某些媒体项目没有标题，所以抛出了错误。

我使用以下方法解决了这个问题：

```
<% unless media.caption.blank? %>
  <%= media.caption.text %>
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:37:28.467

我从您提供的链接中复制了 JSON 并运行它`irb`，请查看输出：

```
irb(main):004:0> media = Hashie::Mash.new(JSON.parse(File.open("inst.json").read))
=> #<Hashie::Mash data=[#<Hashie::Mash caption=#<Hashie::Mash created_time="1296656006" from=#<Hashie::Mash full_name="" id="1127272" type="user" username="cocomiin"> id="26329105" text="This is dummy text."> comments=#<Hashie::Mash> created_time="1296655883" filter="Gotham" id="22518783" images=#<Hashie::Mash low_resolution=#<Hashie::Mash height=306 url="http://distillery.s3.amazonaws.com/media/2011/02/01/34d027f155204a1f98dde38649a752ad_6.jpg" width=306> standard_resolution=#<Hashie::Mash height=612 url="http://distillery.s3.amazonaws.com/media/2011/02/01/34d027f155204a1f98dde38649a752ad_7.jpg" width=612> thumbnail=#<Hashie::Mash height=150 url="http://distillery.s3.amazonaws.com/media/2011/02/01/34d027f155204a1f98dde38649a752ad_5.jpg" width=150>> likes=#<Hashie::Mash count=35 data=[#<Hashie::Mash full_name="Kevin S" id="4" profile_picture="" username="mikeyk">, #<Hashie::Mash>]> link="http://instagr.am/p/BV5v_/" location=nil tags=[] type="image" user=#<Hashie::Mash full_name="Cocomiin" id="1127272" profile_picture="http://distillery.s3.amazonaws.com/profiles/profile_1127272_75sq_1296145633.jpg" username="cocomiin">>]>
irb(main):005:0> media = media.data[0]
=> #<Hashie::Mash caption=#<Hashie::Mash created_time="1296656006" from=#<Hashie::Mash full_name="" id="1127272" type="user" username="cocomiin"> id="26329105" text="This is dummy text."> comments=#<Hashie::Mash> created_time="1296655883" filter="Gotham" id="22518783" images=#<Hashie::Mash low_resolution=#<Hashie::Mash height=306 url="http://distillery.s3.amazonaws.com/media/2011/02/01/34d027f155204a1f98dde38649a752ad_6.jpg" width=306> standard_resolution=#<Hashie::Mash height=612 url="http://distillery.s3.amazonaws.com/media/2011/02/01/34d027f155204a1f98dde38649a752ad_7.jpg" width=612> thumbnail=#<Hashie::Mash height=150 url="http://distillery.s3.amazonaws.com/media/2011/02/01/34d027f155204a1f98dde38649a752ad_5.jpg" width=150>> likes=#<Hashie::Mash count=35 data=[#<Hashie::Mash full_name="Kevin S" id="4" profile_picture="" username="mikeyk">, #<Hashie::Mash>]> link="http://instagr.am/p/BV5v_/" location=nil tags=[] type="image" user=#<Hashie::Mash full_name="Cocomiin" id="1127272" profile_picture="http://distillery.s3.amazonaws.com/profiles/profile_1127272_75sq_1296145633.jpg" username="cocomiin">>
irb(main):006:0> media.caption.text
=> "This is dummy text." 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:30:48.687

我假设媒体就是这个对象。字幕是什么？我在你的对象中没有看到任何这样的参数，那么你为什么认为它存在呢？很明显，它会为 nil:NilClass 抛出未定义的方法“[...]”，因为您的属性不存在。

您可能正在寻找`media.from.text`，而不是`media.caption.text`。

# ios - UILabel sizeToFit 不适用于自动布局 ios6

> ID：16009405
> 
> 赞同：157
> 
> 时间：2013-04-15T07:01:07.163
> 
> 标签：ios, ios6, uilabel, autolayout

我应该如何以编程方式（以及以哪种方法）配置高度取决于其文本的 UILabel？我一直在尝试使用 Storyboard 和代码的组合来设置它，但无济于事。大家`sizeToFit`在设置`lineBreakMode`和时推荐`numberOfLines`。但是，无论我是否将该代码放入`viewDidLoad:`, `viewDidAppear:`，或者`viewDidLayoutSubviews`我无法让它工作。要么我让长文本框太小，它不会增长，或者我让它太大，它不会缩小。

* * *

## 回答 #1

> 赞同：410
> 
> 时间：2013-04-15T07:20:52.910

**请注意**，在大多数情况下，[Matt 的解决方案](https://stackoverflow.com/a/16369336/1051919)按预期工作。但是，如果它不适合您，请进一步阅读。

要使您的标签自动调整高度，您需要执行以下操作：

1.  为标签设置布局约束
2.  设置低优先级的高度约束。它应该低于 ContentCompressionResistancePriority
3.  设置 numberOfLines = 0
4.  将 ContentHuggingPriority 设置为高于标签的高度优先级
5.  为标签设置 preferredMaxLayoutWidth。标签使用该值来计算其高度

例如：

```
self.descriptionLabel = [[UILabel alloc] init];
self.descriptionLabel.numberOfLines = 0;
self.descriptionLabel.lineBreakMode = NSLineBreakByWordWrapping;
self.descriptionLabel.preferredMaxLayoutWidth = 200;

[self.descriptionLabel setContentHuggingPriority:UILayoutPriorityRequired forAxis:UILayoutConstraintAxisVertical];
[self.descriptionLabel setContentCompressionResistancePriority:UILayoutPriorityRequired forAxis:UILayoutConstraintAxisVertical];
[self.descriptionLabel setTranslatesAutoresizingMaskIntoConstraints:NO];
[self addSubview:self.descriptionLabel];

NSArray* constrs = [NSLayoutConstraint constraintsWithVisualFormat:@"|-8-[descriptionLabel_]-8-|" options:0 metrics:nil views:NSDictionaryOfVariableBindings(descriptionLabel_)];
[self addConstraints:constrs];
[self addConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@"V:|-8-[descriptionLabel_]" options:0 metrics:nil views:NSDictionaryOfVariableBindings(descriptionLabel_)]];
[self.descriptionLabel addConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@"V:[descriptionLabel_(220@300)]" options:0 metrics:nil views:NSDictionaryOfVariableBindings(descriptionLabel_)]]; 
```

**使用界面生成器**

1.  设置四个约束。高度限制是强制性的。 ![在此处输入图像描述](https://i.stack.imgur.com/q2mNc.png)

2.  然后转到标签的属性检查器并将行数设置为 0。 ![在此处输入图像描述](https://i.stack.imgur.com/GdZLE.png)

3.  转到标签的尺寸检查器并增加垂直 ContentHuggingPriority 和垂直 ContentCompressionResistancePriority。
    ![在此处输入图像描述](https://i.stack.imgur.com/hUQJQ.png)

4.  选择和编辑高度约束。
    ![在此处输入图像描述](https://i.stack.imgur.com/1kfth.png)

5.  并降低高度约束优先级。
    ![在此处输入图像描述](https://i.stack.imgur.com/OjArZ.png)

**享受。:)**

* * *

## 回答 #2

> 赞同：66
> 
> 时间：2013-05-04T00:20:27.603

在 iOS 6 中，使用自动布局，如果 UILabel 的边（或宽度）和顶部被固定，它将*自动*垂直增长和收缩以适应其内容，*根本没有代码，*也不会弄乱它的压缩阻力或其他任何东西。这很简单。

在更复杂的情况下，只需设置标签的`preferredMaxLayoutWidth`.

无论哪种方式，正确的事情都会自动发生。

* * *

## 回答 #3

> 赞同：42
> 
> 时间：2013-10-29T12:06:45.137

尽管问题以编程方式说明，遇到了同样的问题，并且更喜欢在 Interface Builder 中工作，但我认为使用 Interface Builder 解决方案添加到现有答案中可能会很有用。

第一件事就是忘记`sizeToFit`。自动布局将根据内在内容大小代表您处理此问题。

因此，问题是，如何使用自动布局获取标签以适应其内容？具体来说 - 因为问题提到了它 - 高度。请注意，同样的原则也适用于宽度。

因此，让我们从一个高度设置为 41px 的示例 UILabel 开始：

![在此处输入图像描述](https://i.stack.imgur.com/195IS.png)

正如您在上面的屏幕截图中看到的那样，`"This is my text"`上面和下面都有填充。那是 UILabel 的高度和它的内容，文本之间的填充。

如果我们在模拟器中运行应用程序，果然，我们看到了同样的事情：

![在此处输入图像描述](https://i.stack.imgur.com/ysOX8.png)

现在，让我们在 Interface Builder 中选择 UILabel，并查看 Size 检查器中的默认设置：

![在此处输入图像描述](https://i.stack.imgur.com/QHHdP.png)

请注意上面突出显示的约束。那就是**内容拥抱优先级**。正如 Erica Sadun 在优秀的[iOS Auto Layout Demystified](http://ericasadun.com/2013/03/12/ios-auto-layout-demystified-arriving-in-april/)中描述的那样，这是：

> 视图倾向于避免围绕其核心内容进行额外填充的方式

对我们来说，有了 UILabel，核心内容就是文本。

在这里，我们来到了这个基本场景的核心。我们给了我们的文本标签两个约束。他们冲突。有人说*“高度必须等于 41 像素高”*。另一个说*“拥抱它的内容，这样我们就没有任何额外的填充”*。在我们的例子中，将视图拥抱它的*文本*，这样我们就没有任何额外的填充。

现在，使用自动布局，有两条不同的指令说做不同的事情，运行时必须选择一个或另一个。它不能两者兼得。UILabel 不能同时为 41 像素高，*并且*没有填充。

解决此问题的方法是指定优先级。一条指令必须具有比另一条更高的优先级。如果两条指令说的不同，并且具有相同的优先级，则会发生异常。

所以让我们试一试。我的身高限制的优先级为**1000**，这是**必需**的。内容拥抱高度是**250**，**很弱**。如果我们将高度约束优先级降低到**249**会发生什么？

![在此处输入图像描述](https://i.stack.imgur.com/EEMR3.png)

现在我们可以看到神奇的开始发生了。让我们在 sim 中尝试：

![在此处输入图像描述](https://i.stack.imgur.com/f2yU8.png)

惊人的！实现内容拥抱。只是因为高度优先级**249**小于内容拥抱优先级**250**。基本上，我的意思是*“我在这里指定的高度不如我为内容拥抱指定的高度重要”*。所以，拥抱的内容获胜。

***最重要的是，让标签适合文本可以像指定高度或宽度约束一样简单，并正确设置与该轴的内容拥抱优先级约束相关联的优先级。***

将把等价的宽度作为练习留给读者！

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-09-25T13:52:31.360

在 IOS7 sizeToFit 中注意到也没有工作 - 也许解决方案也可以帮助你

```
[textView sizeToFit];
[textView layoutIfNeeded]; 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-03-19T07:59:21.430

确保标签的 preferredMaxLayoutWidth 与标签的宽度保持同步的另一个选项：

```
#import "MyLabel.h"

@implementation MyLabel

-(void)setBounds:(CGRect)bounds
{
    [super setBounds:bounds];

    // This appears to be needed for iOS 6 which doesn't seem to keep
    // label preferredMaxLayoutWidth in sync with its width, which 
    // means the label won't grow vertically to encompass its text if 
    // the label's width constraint changes.
    self.preferredMaxLayoutWidth = self.bounds.size.width;
}

@end 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-05-15T00:10:30.433

我觉得我应该做出贡献，因为我花了一段时间才找到正确的解决方案：

*   目标是让 Auto Layout 在不调用 sizeToFit() 的情况下完成其工作，我们将通过指定正确的约束来做到这一点：
*   在 UILabel 上指定顶部、底部和前导/尾随空间约束
*   将行数属性设置为 0
*   将内容拥抱优先级增加到 1000
*   将内容抗压优先级降低到 500
*   在您的底部容器约束中，将优先级降低到 500

基本上，发生的事情是您告诉您的 UILabel 即使它具有固定的高度约束，它也可以打破约束以使自身更小以容纳内容（例如，如果您有单行），但它不能打破约束以使其更大。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-10-31T05:18:20.633

就我而言，我正在创建一个 UIView 子类，其中包含一个 UILabel （长度未知）。在 iOS7 中，代码很简单：设置约束，不用担心内容拥抱或压缩阻力，一切都按预期工作。

但在 iOS6 中，UILabel 总是被剪裁成一行。上面的答案都不适合我。内容拥抱和压缩阻力设置被忽略。防止剪辑的唯一解决方案是在标签上包含一个 preferredMaxLayoutWidth。但是我不知道将首选宽度设置为什么，因为它的父视图的大小是未知的（实际上，它将由内容定义）。

我终于在[这里](http://www.objc.io/issue-3/advanced-auto-layout-toolbox.html#intrinsic_content_size_of_multiline_text)找到了解决方案。因为我正在处理自定义视图，所以我可以在计算一次约束后添加以下方法来设置首选布局宽度，然后重新计算它们：

```
- (void)layoutSubviews
{
    // Autolayout hack required for iOS6
    [super layoutSubviews];
    self.bodyLabel.preferredMaxLayoutWidth = self.bodyLabel.frame.size.width;
    [super layoutSubviews];
} 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2016-03-09T19:11:55.220

我`UILabel`以编程方式添加，就我而言，这就足够了：

```
label.translatesAutoresizingMaskIntoConstraints = false
label.setContentCompressionResistancePriority(UILayoutPriorityRequired, forAxis: .Vertical)
label.numberOfLines = 0 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2014-10-01T09:21:18.987

我已经解决了 xCode6 将“首选宽度”设置为自动并将标签顶部、前导和尾随固定的问题![在此处输入图像描述](https://i.stack.imgur.com/dt8IU.png)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-02-04T12:57:00.530

我也遇到了这个问题，UIView 子类包含一个 UILabel 作为其内部元素之一。即使使用自动布局并尝试了所有推荐的解决方案，标签也不会将其高度收紧到文本。就我而言，我只希望标签是一行。

无论如何，对我有用的是为 UILabel 添加所需的高度约束，并在调用 intrinsicContentSize 时手动将其设置为正确的高度。如果您没有 UILabel 包含在另一个 UIView 中，您可以尝试子类化 UILabel 并通过首先设置高度约束然后返回
*[super instrinsicContentSize] 来提供类似的实现；*而不是 [self.containerview intrinsiceContentSize]；就像我在下面做的那样，它特定于我的 UIView sublass。

```
- (CGSize)intrinsicContentSize
{
    CGRect expectedTextBounds = [self.titleLabel textRectForBounds:self.titleLabel.bounds limitedToNumberOfLines:1];
    self.titleLabelHeightConstraint.constant = expectedTextBounds.size.height;
    return [self.containerView intrinsicContentSize];

} 
```

现在可以在 iOS 7 和 iOS 8 上完美运行。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2013-04-15T07:28:57.587

```
UIFont *customFont = myLabel.font;
CGSize size = [trackerStr sizeWithFont:customFont
                             constrainedToSize:myLabel.frame.size // the size here should be the maximum size you want give to the label
                                 lineBreakMode:UILineBreakModeWordWrap];
float numberOfLines = size.height / customFont.lineHeight;
myLabel.numberOfLines = numberOfLines;
myLabel.frame = CGRectMake(258, 18, 224, (numberOfLines * customFont.lineHeight)); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-08-18T08:11:04.097

对我有用的解决方案；如果您的 UILabel 具有固定宽度，请在界面文件中将约束从`constant =`更改为`constant <=`

[![在此处输入图像描述](https://i.stack.imgur.com/cPjy3.png)](https://i.stack.imgur.com/cPjy3.png)

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2014-11-05T20:20:34.263

在我的情况下，当在 UITableViewCell 中使用标签时，标签会调整大小，但高度会超出表格单元格的高度。这对我有用。我按照 Max MacLeod 做了，然后确保单元格高度设置为 UITableViewAutomaticDimension。

您可以在您的 init 或 awakeFromNib 中添加它，

```
self.tableView.rowHeight = UITableViewAutomaticDimension. 
```

在情节提要中，选择单元格，打开大小检查器，并通过选中“自定义”复选框确保将行高设置为“默认”。

8.0 中存在一个问题，它也需要在代码中进行设置。

# .net - 如何在以下表达式中计算根下

> ID：16009409
> 
> 赞同：0
> 
> 时间：2013-04-15T07:01:18.757
> 
> 标签：.net, vb.net

我有一个表达式`v((P1*P46)/3600)`，其中 p1 来自一个文本框，而 p46 来自另一个文本框

> 例如：`v((2.0*3.2)/3600)`

我该如何计算呢？

这是我的代码：

```
Private Function calculatevitalexpression(ByVal strformulla As String, ByRef numtxt As TextBox, ByRef dtable As DataTable)
    Try
     strformulla =v((2.0*3.2)/3600)
        Dim Sc As New MSScriptControl.ScriptControl
        Sc.Language = "VBSCRIPT"
        strformulla = RemoveCharacter(strformulla, "P")
        Dim res As Double = Convert.ToDouble(Sc.Eval(strformulla))
        Dim result As Decimal = Math.Round(res, decimalplaces)
        numtxt.Text = result

     Finally
        'frmW.Close()
    End Try
End Function 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:11:25.633

要使用`ScriptControl`组件执行此操作，您必须通过 将所有可能的输入值传递到控件中`AddObject`，以便脚本控件知道什么`P1`和`P46` *是*- 例如（使用 C# 作为示例）：

```
foreach(var control in Controls) {
    if(control is TextBox &&
        control.Name.StartsWith("P"))
    { // ^^^ some crude way of finding the candidates
        Sc.AddObject(control.Name, double.Parse(control.Text), false);
    }
} 
```

这将添加所有作为`P...`文本框的控件，以及它们的文本值的数字版本。

注意：不要删除`P`（您的`RemoveCharacter`行）-否则脚本看到的所有内容都是-*根本*`v((1*46)/3600)`不涉及您的输入。

 *但是，有可用的独立表达式评估引擎可以完成这项工作，但您仍然需要告诉他们外部值。*

# ckeditor - CKEditor 内联编辑 - 内容不可编辑？

> ID：16009411
> 
> 赞同：4
> 
> 时间：2013-04-15T07:01:21.763
> 
> 标签：ckeditor

我下载了最新的 CKEditor 并尝试了以下方法：

```
<html>
<head>
<script src="ckeditor/ckeditor.js">
</script>
</head>
<body>
<div id="editor">
Some test text
</div>
<script>
CKEDITOR.disableAutoInline = true;

var editor = CKEDITOR.inline( 'editor' );
</script>
</body> 
```

从某种意义上说，我可以单击 div 使编辑器工具栏出现，但除此之外我似乎无法编辑内容！大多数工具栏按钮都被禁用，并且在该字段中键入什么也不做。（见下面的截图）

![在此处输入图像描述](https://i.stack.imgur.com/koQbY.png)

根据[http://nightly.ckeditor.com/13-04-14-07-42/standard/samples/inlinebycode.html](http://nightly.ckeditor.com/13-04-14-07-42/standard/samples/inlinebycode.html)这应该是我需要的所有 JS。我还需要做一些其他的配置设置吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:11:54.780

劳尔，对不起。我在发布后几分钟就找到了答案。我非常专注于寻找一个配置选项，我没有意识到要检查示例中的 div。

`contenteditable="true"`即使我不使用div 仍然必须有`CKEDITOR.disableAutoInline`。

# asp.net - ajax 日历扩展器月份名称显示

> ID：16009418
> 
> 赞同：0
> 
> 时间：2013-04-15T07:01:46.190
> 
> 标签：asp.net, ajax, date, calendar

我在文本框中添加了一个扩展器来选择日期。它显示相应月份的日期的日期。有什么方法可以获取月份名称而不是月份编号？例如，我在 13 年 4 月 4 日得到，我希望在 13 年 4 月 4 日得到它。提前致谢

我的代码是

```
<asp:TextBox ID="txtInvDate" runat="server" Height="21px" Width="88px"
        ontextchanged="txtInvDate_TextChanged" AutoPostBack="True"></asp:TextBox>
    <asp:CalendarExtender ID="txtInvDate_CalendarExtender"
        runat="server" TargetControlID="txtInvDate" Format="dd-MM-yyyy">
</asp:CalendarExtender> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:06:19.887

您可以尝试以下格式：

```
<asp:CalendarExtender ID="txtInvDate_CalendarExtender" runat="server" TargetControlID="txtInvDate" 
    Format="dd-MMM-yyyy" >
</asp:CalendarExtender> 
```

[**自定义日期和时间格式字符串**](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

特别是：[**“MMM”自定义格式说明符**](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx#MMM_Specifier)

请注意，这取决于服务器上的当前文化。

# php - 如何使用递归数据库行数据生成面包屑？

> ID：16009420
> 
> 赞同：0
> 
> 时间：2013-04-15T07:01:51.047
> 
> 标签：php, arrays, recursion, breadcrumbs

我必须制作一个带有数据库的面包屑菜单。

所以做了这个功能

```
function file_list($path) {
    $result = array();
    $q = "SELECT staticTitle,staticId,parentId FROM tbl_static_pages WHERE staticId = $path";
    $run = mysql_query($q);
    while($row = mysql_fetch_array($run)) {
        if($row['parentId'] > 1) {
            echo $row['staticTitle'];
            $result = file_list($row['parentId']);
            return $result; // INSERTED
        }else { 
            return $result; 
        }  
    } 
```

我有一个这样的数据库结构：

```
编号 | 父ID | 标题
 3 | 1 | 关键词
 28 | 3 | xxx
 31 | 28 | 商业
```

我想这样输出`business -> xxx -> keyword`

我想运行这个函数直到`$row['parentId'] = 1`.
当我呼应标题时，我得到了正确的结果。
当我尝试将其存储在数组中时，我总是得到单个值。

如何在递归数组中返回一个数组？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-02-03T13:48:53.903

我真的不喜欢对数据库进行递归调用的想法。如果这是一个“面包屑”数据库表，它可能有多大？...我的意思是尺寸可能不是问题。

我想建议您拉出整个表格（3 列，所有行）并将结果集分配给 php 变量。这意味着您只需要访问一次数据库——这是一件好事。

代码：（[演示](http://sandbox.onlinephpfunctions.com/code/bb54c153925eb5c808ddefe4b0fb1a1f2f9af9d0)）

```
function breadcrumber($array,$id){
    static $result=[];  // declare the storage variable without losing elements during recursion
    if(isset($array[$id])){  // if target exists
        $result[]=$array[$id]['title'];  // store title text
        $parent=$array[$id]['parentId'];  // assign new target
        unset($array[$id]);  // remove possibility of an infinite loop
        breadcrumber($array,$parent);  // recurse
    }
    return $result;
}

$resultset=[
    ['id'=>3,'parentId'=>1,'title'=>'keyword'],
    ['id'=>28,'parentId'=>3,'title'=>'xxx'],
    ['id'=>31,'parentId'=>28,'title'=>'business']
];

echo implode(' -> ',breadcrumber(array_column($resultset,NULL,'id'),31));
//                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-assign associative keys for easy lookup 
```

输出：

```
business -> xxx -> keyword 
```

...这是[另一个使用您的第二组数据的演示](http://sandbox.onlinephpfunctions.com/code/9020a7738dbfaf4437e443547374dcf3bf49b52e)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:36:39.253

尝试这个：

```
function file_list($path)
{
    $result = array();
    $q = "SELECT staticTitle,staticId,parentId FROM tbl_static_pages WHERE staticId = $path";
    $run = mysql_query($q);

    $results = array();
    while ($row = mysql_fetch_array($run))
    {
        if ($row['parentId'] > 1)
        {
            echo $row['staticTitle'];
            $results = array_merge($results, file_list($row['parentId']));
        }
        else
        { 
            $results[] = $result; 
        }
    }  
    return $results;
} 
```

您的问题中尚不清楚的几件事：

*   面包屑通常不是递归的，所以我想你不想实际返回一个递归数组（每个元素都是数组的数组）。如果您愿意，请关注@midhunjose 的评论
*   您是否希望查询返回多条记录？
*   `array_merge`如果您希望结果数组中的父级在子级之前，请交换参数的顺序。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-15T07:04:59.043

尝试这个：

```
$result[] = file_list($row['parentId']); 
```

例如

```
$result = file_list($row['parentId']); 
```

# middleware - 数据表示通常是“分布式应用程序中间件”的一部分吗？

> ID：16009423
> 
> 赞同：0
> 
> 时间：2013-04-15T07:02:17.537
> 
> 标签：middleware, dataformat

我目前正在构建一个轻量级应用程序层，它为特定类型的应用程序提供分布式服务。该层通过 API 为使用该层的应用程序提供同步和数据传输服务。因此，我将此软件归类为“中间件”，因为它在特定类型的异构分布式应用程序之间架起了沟通的桥梁。但是，我的软件不包括数据表示。因此，它“仅”以同步方式将消息传递给其他应用程序，但没有指定消息的外观以及它们如何被解析/读取/解释/或其他方式。相反，开发人员应该决定他可以使用什么消息格式，例如 JSON、XML、Protobuf 等。应用程序大多数时候由一个开发方管理。现在，我的问题是，这是否是被归类为“分布式应用程序中间件”的严重“功能缺失”。该软件的目的是将一些异构软件应用程序粘合在一起，其中软件类型无法与传统软件进行比较，因此需要特定类型的服务（这会阻止用户“简单地”使用 CORBA 等）。

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:06:14.337

即使您将具体的消息格式保持打开状态，您仍然指定了可以使用哪些格式（JSON、XML）（无论是硬编码还是通过其他方式）。因此，我认为您已经指定了数据表示。

如果您的软件在添加新格式时是模块化的，那么这种模块化本身就是一个特性（而不是缺少特性）。

# android - Andengine 滑动导航

> ID：16009428
> 
> 赞同：0
> 
> 时间：2013-04-15T07:02:42.027
> 
> 标签：android, andengine

我是 andengine 的新手，想知道如何在两个 BaseGameActivities 之间切换。而且从第一个活动切换到第二个活动时，切换之间没有黑屏过渡。有没有可能的方法来做到这一点。请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:23:06.870

A`BaseGameActivity`也可以用作任何其他 Android `Activity`：

```
Intent intent = new Intent(this, MyOtherBaseGameActivity.class);
startActivity(intent); 
```

因此，如果您想从您的程序更改为另一个应用程序（可能通过打开浏览器...），您也可以像使用任何其他 Android 应用程序一样进行操作。但是，如果这两个活动都是您自己的应用程序的一部分，则很少有推荐的情况（就像启动第二个程序一样）。尽管可以如[本文](https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android)所述在活动之间交换数据。

但也许你只是在寻找一种`Views`在 AndEngine 之间切换的方法。如果是这种情况，您可以在`Scenes`无需任何过渡的情况下进行切换。

```
MyOtherScene secondScene = new MyOtherScene();
mEngine.setScene(secondScene); 
```

这样您就可以在显示的内容之间切换，而无需再次加载每张图像。

**编辑：**

由于不能使用 AndEngine 在Activities之间切换，也不可能在场景之间进行平滑切换。这里有一个关于如何在两个屏幕（例如菜单）之间切换的快速示例。在这个例子中，屏幕实际上是 2 个不同的图像（和显示器一样大……也许是一些背景图像）。注意：AndEngine 中没有“屏幕”之类的东西，它只是一个扩展实体的自制类。

**你的屏幕**

```
public MyScreen extends Entity{

    private float firstX;
    public MyScreen(Sprite niceBackgroundImage1, Sprite niceBackgroundImage2){
        this.attachChild(niceBackgroundImage1);    // attach something to the screen, so you can see it (preferably an image that is as big as your camera)
        this.attachChild(niceBackgroundImage2); 
        this.firstY=-1;   // this is a variable to remember the first x coordinate touched
    }

    @Override
    public boolean onAreaTouched(TouchEvent sceneTouchEvent, float touchAreaLocalX, float touchAreaLocalY) {
        if(sceneTouchEvent.getAction()==TouchEvent.ACTION_DOWN){
            this.firstY=touchAreaLocalX;  // remember the x, on the first touch
        } 
        if(sceneTouchEvent.getAction()==TouchEvent.ACTION_MOVE){
            if(touchAreaLocalX>firstY+20){
                 // user swiped from left to right (at least 20 pixels)
                 niceBackgroundImage1.registerEntityModifier(new MoveModifier(3f, 0, niceBackgroundImage1.getWidth(), 0, 0, EaseBounceOut.getInstance()));
                 // the last line actualy moves the nice..image1 from left to right (in 3 seconds) and lets it bounce a little bit before it is completely out of the screen
                 return true;
            }
        }
        return false;
    }
    ...
} 
```

**您的活动**

```
private HUD hud;          // create a  HUD

...
@Override
protected void onCreateResources() {         
   this.hud = new HUD();                // init the HUD
   this.myScreen = new MyScreen(image1, image2)  // init the screen
   this.hud.attachChild(myScreen);     // attach the screen to the hud
   mEngine.getCamera().setHud(hud);  // attach your HUD to the camera
}

@Override
protected Scene onCreateScene() {
   Scene myScene = new Scene();
   myScene.registerTouchArea(myScreen);   // you have to register the touch area of your Screen Class to the scene.
   mEngine.setScene(myScene);
} 
```

这就是它的工作原理：

您自己创建了一个扩展的屏幕类`Entity`。An`Entity`可以是 AndEngine 中所有可见的东西（如 Sprite、Rectangle 甚至整个场景）。在你的屏幕类中放一些东西让它看起来不错，最好是一张能填满整个显示器的大图。该图像将负责随后注册触摸。如果图像太小而用户错过了图像，则不会注册触摸。

在这种情况下，我将实例附加`MyScreen`到相机 HUD。这样，它将位于显示屏上的固定位置，并且具有固定的大小（以防万一您想使`scene`可滚动或可缩放）。

现在，当应用程序启动时，HUD 将被创建并附加到相机和你的`MyScreen`类。然后将创建场景并将屏幕区域注册为场景的触摸区域。当屏幕类注意到水平轴上的滑动移动时，第一个图像将移出屏幕（与滑动方向相同）。

但要小心，这只是一个例子。当第一张图像移出屏幕或屏幕实际有多大等时，没有任何定义触摸必须如何动作......

我知道这是一个相当长的例子，也许它甚至不会在第一次工作，而且它绝对不是如何在不同屏幕之间切换的唯一方法。但它向您展示了如何覆盖该`onAreaTouched()`方法并注册实体修饰符以使图像*移动*。希望它会引导您朝着正确的方向前进，以完成您想做的事情。

# php - Java Script 在 php 中不起作用

> ID：16009431
> 
> 赞同：0
> 
> 时间：2013-04-15T07:02:50.713
> 
> 标签：php, javascript

```
public function actionAjaxUpdate()
    {   
        $action = $_GET['act'];

        if(!isset($_POST['selectedId']))
        {
            echo '<script> alert("No row is selected"); </script>';
        }

        else
        {
        $selectedAll = $_POST['selectedId'];
        if(count($selectedAll)>0)
        {
            foreach($selectedAll as $selectedId)
            {
                $model=$this->loadCompositeModel($selectedId);
                switch ($action) {
                    case 'Delete':
                        $model['account']->delete();
                        break;
                    case 'Active':
                        $model['account']->active = '1';
                        break;
                    case 'Inactive':
                        $model['account']->active = '0';                     
                        break;
                    default:
                        break;
                }
                $model['account']->save();
            }
        }
        }

    } 
```

*   项目清单

在此代码中，如果没有选择 id，则警报不起作用。所以有人帮帮我。我已经尝试了很多，但 js 不工作。我在 php 中使用了 js，这是第一次 js 在 php 中不起作用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:06:21.073

如果没有看到发出 HTTP 请求的代码，很难说问题出在哪里。

他们最有可能的解释是当没有选择 id 时`selectedId` *设置为空字符串。*然后条件`!isset($_POST['selectedId'])`不会给你你想要的结果。改为使用`empty()`（并确保这`0`不是可接受的 id 值）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:13:25.507

它似乎`$_POST['selectedId']`是一个数组。那么你应该使用例如`isset`元素`$_POST['selectedId']``if (!isset($_POST['selectedId'][0]))`

编辑1：试试这个

```
$array_id = array_filter($_POST['selectedId']); 
```

然后使用 `if (!empty($array_id))`而不是`if (!isset($_POST['selectedId']))`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:22:25.597

除非您将响应注入回页面，否则永远不会评估 Javascript。

如果你要做...

```
document.write('<script src="/path/to/phpscript.php">') 
```

然后响应将附加到页面并进行评估。

然而，如果你这样做...

```
$.ajax({
    success: function(response) {
        //Blah....  
    }
}); 
```

或类似的东西，响应永远不会被评估，它作为字符串传递给你的成功函数。所以你可以让 PHP 打印`1`或`0`成功/失败 - 甚至更好地返回一个 Json 对象

```
<?php

    ...
    if(!isset($_POST['selectedId']))
    {
        $Ret->Success = false;
        $Ret->Reason = "No row is selected";
        header("Content-Type: application/json");
        print json_encode($Ret)
    }     
?> 
```

然后使用`$.getJson`Ajax 调用将响应检索为 Js 对象（[请参阅此手册页](http://api.jquery.com/jQuery.getJSON/)）

# linux - 从 String Dash Linux 执行命令

> ID：16009434
> 
> 赞同：0
> 
> 时间：2013-04-15T07:03:00.467
> 
> 标签：linux, bash, terminal, eval, dash-shell

所以我正在尝试学习如何为 Linux 操作系统编写脚本，所以我编写了这个下载和安装脚本。虽然，我知道任何优秀的 linux 编码器都会认为这是绝对的滑行工作，但到目前为止它的工作正常，所以我目前只有一个错误。

**代码：**

```
#!/bin/sh
###################################
#Lystics Core Linux Code v1       #
#                                 #
# Starting Date 4/14              #
#                                 #
# Ending Date ~                   #
#                                 #
###################################

clear

#Define Veriables
dir='./LysticsCode/'
url='http://lysticscode.host-elite.com/Linux/Bash%20Scripts/LCode.sh'
file=$(basename "$url")

echo LysticsCode for Linux v1 Installer
echo
read -r -p "Are you sure you wish to install? [Y/n] " a
if [ "$a" = 'n' -o "$a" = 'N' ]; then

#Not going to install
echo 'Exiting The Installation. Thank You! =D'
exit 1;
else
#Set up screen
clear
echo LysticsCode for Linux v1
echo First Installation
echo ''
#Installing
echo Downloading Packages...
curl -o "$dir$file" "$url"
echo ''
echo ''
echo 'Download Complete!'
eval "alias lcode=/root/LysticsCode/Main.sh"
exit 1;
fi

#End Script
$SHELL 
```

我想要做的是添加一个命令别名，这样可以更轻松地访问已安装的文件。我尝试使用 eval "alias lcode=DIR" 并没有用。与 $(alias lcode=dir) 相同

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T13:35:48.787

```
$source /root/LysticsCode/Main.sh 
```

将工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:07:43.950

别名不会继承给子进程。您不应该在脚本末尾调用子 shell，而是说将脚本保存到名为 的文件`myenv.sh`中，在当前 shell 中执行脚本：

```
. myenv.sh 
```

# actionscript-3 - 如何在八哥中制作高效的动态蒙版

> ID：16009435
> 
> 赞同：1
> 
> 时间：2013-04-15T07:03:01.520
> 
> 标签：actionscript-3, mask, starling-framework

**我正在尝试为带有动画和翻页**功能的平板电脑制作交互式书籍。

我正在使用八哥框架。我对翻页的想法是用 2 个移动和旋转的静态四边形来掩盖下一页的 2 个实例（它在 pc/mac 上效果很好，但在平板电脑上很慢）。使用 PixelMask 很慢/非常慢（10-20fps）。使用 clippedsprite 速度很快（40-50fps），但无法旋转遮罩。

还有其他选择吗？

**编辑：** 在我的搜索过程中，我发现了着色器的想法（ActionScript3 中的 AGAL），但我对此并不熟悉。是否可以通过使用 GPU 着色器来模拟遮罩？

**EDIT2：** 这个问题在 iPad1 上遇到过，在 iPad3 上它的 60fps :) 不知道它在 iPad2 和 iPad4 上是如何工作的

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-31T10:06:05.170

我很确定 AGAL 是最终的答案！

但最简单，也是非常好的解决方案是巧妙地使用 ClippedSprites

（自 Starling 1.3+ 以来使用 clipRect 的精灵）

我已经设法在 iPad1 上实现了几乎静态的 60 fps。

只需要删除对象内的过滤器和停止/展平动画！

**过滤器是巨大的性能杀手！**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-30T04:27:48.317

你可以在[这里](http://forum.starling-framework.org/topic/mask-release-date)找到一个基于 FragmentFilter 的掩码类。我用它得到了更好的结果。但是如果你想实现一个PageFlip，你可以使用[这个](http://www.starlinglib.com/wiki/News%3aStarling_PageFlip)类。这是带有交互式角的页面翻页的改进版本[。](http://kenkao.iteye.com/blog/1900581)希望它可以帮助你：D

# javascript - 通过链接创建动态img，无需附加多个实例

> ID：16009436
> 
> 赞同：0
> 
> 时间：2013-04-15T07:03:01.553
> 
> 标签：javascript

我有一个带有“onclick”功能的链接。当按下它时，它会将一个 img 元素附加到一个名为“mediaBox”的单独 div 中。我遇到的问题是，如果它被多次按下，那么它会附加更多的 img 实例。我该如何控制这个。我还是 JavaScript 的新手，我更喜欢用纯 Javascript 而不是 jQuery 来接收这个答案，因为在我完全理解 Javascript 之后，我会跨过那座桥。

```
var rkf = document.getElementById("submenulinks").getElementsByTagName("li")[0];

rkf.onclick = function(){
    var client = document.getElementById('client');
    var description2 = document.getElementById('description2');
    var role = document.getElementById('role');
    var mediaBox = document.getElementById('mediaBox'); 
    var thumb = document.getElementById("thumb");       
    var client2 = document.getElementById("client2");
    var newImage = document.createElement("img");

    client2.innerHTML = "Role - Applications";
    client.innerHTML = "RKF Real Estate";
    client2.innerHTML = "Role - Applications";
    description2.innerHTML = "Quarterly Catalog of Exclusive Listings managed by RKF";
    role.innerHTML = "Custom designed Cover and listings content. Tables were also utilized within Indesign. <br><br><b><i> Photoshop and Indesign</i></b>";

    newImage.setAttribute("src", "../images/rkf_cover.jpg");
    newImage.setAttribute("height", "500px");
    newImage.setAttribute("width", "387px");
    newImage.setAttribute("alt", "rkf");
    newImage.setAttribute("href", "#");
    mediaBox.style.backgroundImage = "none";
    document.getElementById("mediaBox").appendChild(newImage);
    newImage.style.display = "block";
    newImage.style.marginLeft = "auto";
    newImage.style.marginRight = "auto";
    newImage.style.marginTop = "25px";  
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:05:27.753

```
rkf.onclick = function(){
    var client = document.getElementById('client');
    ...
    ...
    ...

    // Remove the handler after it ran once.
    this.onclick = null; // <<<<<========================
} 
```

由于您将来确实想使用 jQuery，因此它等于：

```
$('#submenulinks li:first').one('click', handler); 
```

# javascript - scala play framework 2.0.4中的Jquery或Javascript不能将未选中的复选框设置为选中？

> ID：16009437
> 
> 赞同：0
> 
> 时间：2013-04-15T07:03:06.873
> 
> 标签：javascript, jquery, scala, playframework-2.0

根据用户的选择让未选中的框是合理的，但是未选中的框总是会导致服务器端的表单错误，

```
def config(path: String) = Action { implicit request =>
    configForm.bindFromRequest.fold(
      formWithErrors => { // if checkedbox is not checked, the action in the server side will match this line
        BadRequest(formWithErrors.toString)
      },
      configs => {
        . ....})} 
```

配置表单：

```
val configForm = Form(
    mapping(
      "k" -> optional(number),
      "gc" -> optional(text),
      "doStateCutOff" -> optional(text),
      "stateCutoff" -> number(),
       "doTimeCutOff" -> optional(text),
      "timeCutoff" -> number(), 
      "doRegex" -> optional(text),
      "regex" -> nonEmptyText,
      "dochecklist" -> optional(text), 

      "pl" -> mapping(

       "fs" -> checked("File System"),
      "fsh" -> nonEmptyText,

      "location" -> checked("Location"),
      "locationh" -> nonEmptyText,

      "pic" -> checked("Picture"),
      "pich" -> nonEmptyText,

      "deviceid" -> checked("DeviceID"),
      "deviceidh" -> nonEmptyText,

      "network" -> checked("Network"),
      "networkh" -> nonEmptyText
      )
      { (_, fs, _, loc, _, pic, _, dev, _, ntw ) => PropertyCheckList(fs,  loc,  pic, dev, ntw)  }
       { pl => Some(true, pl.filesystem, true, pl.location, true, pl.picture,true, pl.deviceid, true, pl.network)} 
          ) 
    { 
      (k, gc, doStateCutOff, stateCutoff, doTimeCutoff, timeCutoff,//verbose, 
          doRegex, regex, dochecklist,  
          propertyList ) 
      => { 
         Configs(k, gc, doStateCutOff, stateCutoff, doTimeCutoff, timeCutoff,
             doRegex, regex, dochecklist,  
             propertyList
             ) } 
      }

    { 
      configs => { 

        Some(configs.k, configs.gc, configs.doStateCutOff, configs.stateCutoff, configs.doTimeCutoff, configs.timeCutoff, 
            configs.doRegex, configs.regex, configs.dochecklist,  
          configs.propertyList ) 
      }
    } 
      ) 
```

然后我想出了一个解决方法，只需将附加的输入文本框更改为复选框，每当单击复选框时，我就会翻转输入文本框中的值，并将复选框设置为始终为真，这样服务器就不会抱怨。

那么问题是，无论我尝试基于答案[Setting "checked" for a checkbox with jQuery?](https://stackoverflow.com/questions/426258/how-do-i-check-a-checkbox-with-jquery-or-javascript) 它只是不工作！

复选框的值只能由服务器端设置吗？？？？？？

在表格中：

```
 @checkbox(
            configForm("fs"), 
            '_id -> "fs",
            '_label -> "File System", 
            '_showConstraints -> false
        )

   @inputText(  configForm("fsh"), 
                '_id -> "fsh",
              '_showConstraints -> false
         ) 
```

在脚本中：

我尝试测试设置的复选框值（在服务器端初始化表单时，我将复选框初始值设置为 false）：

```
 <script>
        $(document).ready(function (){ 

       var curO = $("#fs").is(":checked");
                if(!curO) {
                  alert(!curO) // true
                  $("#fs").attr('checked', 'checked'); // prop does not work too.. 
                   alert($("#fs").is(":checked")); // still false
                  } 
```

并在复选框事件功能中：

```
$("#fs").onchange(function(){
                var curO = $("#fs").is(":checked");
                if(!curO) {
                  $(this).attr("checked", !curO);
                  }

                var curInput = $("#fsh").val();
                if(curInput == "true"){
                    $("#fsh").val("false") ; 
                }else {
                $("#fsh").val("true") ; 
                } 
```

感谢您的任何提示！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T13:26:57.753

> 然后我想出了一个解决方法，只要单击复选框，只需将附加的输入文本框更改为复选框，

如果您的意思是在创建元素并将其插入文档后更改元素的`type`属性，`<input>`请注意，如果您必须支持它们，则在 IE 6/7/8 中不起作用。您可能希望同时创建并根据需要隐藏/删除。

`$("#fs").attr('checked', 'checked'); // prop does not work too..`

你试过这个吗？

`$("#fs").prop('checked', true);`

要切换复选框，

```
 var curO = $("#fs").is(":checked");
  if(!curO) {
    $(this).attr("checked", !curO);
  } 
```

此代码块可以替换为：

`this.checked = !this.checked;`

虽然如果你想使用 jQuery（这里不需要）你可以使用：

`$(this).prop("checked", !this.checked);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T22:01:50.707

尝试将您的`fs`字段声明为`boolean`您的表单类。我对 Scala 不是很熟悉，但我认为这`checked(...)`是使该字段成为必填项的原因，这就是在未选中复选框时表单提交失败的原因。

```
val configForm = Form(
  ...
  "fs" -> boolean,
  ...
} 
```

# javascript - 添加新选项以使用 jsp 选择下拉列表

> ID：16009439
> 
> 赞同：0
> 
> 时间：2013-04-15T07:03:11.180
> 
> 标签：javascript, html, database, jsp, drop-down-menu

任何人都可以建议，如何向下拉列表添加新选项（使用 html 中的选择标签），以便用户可以输入新值并在提交时将其附加到现有列表中..我能够填充它的选项列表通过数据库动态，它工作正常

我在单个表行中有 5 个下拉互斥类别列表，我为它们提供了一些初始选项。现在我希望如果列表包含用户所需的选项，那么用户可以从现有的选项中进行选择......否则它应该能够向该列表添加一个新条目，并且它应该在提交时在 DB 中同时更新。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:14:11.950

**按照这个步骤**

1.  当您从 databse 填充下拉列表时。所以最好只在数据库中添加值。

2.  我认为您的用户将在文本框中输入值。因此，在提交时调用一个方法或 servlet，可用于在您从中填充下拉列表的数据库字段中添加值。

3.  更新后使您的 servlet 返回同一页面。

4.  现在您可以在下拉菜单中看到您的新选项。

**更新进一步的问题解释**

为你的问题做一件事

1.  在每个下拉列表的最后一个选项中提供一个文本框。

2.  选择一个事件，在该事件中，用户在该文本框中输入新值后，可以在 onmouseout 行触发 java 脚本函数。

3.  在该函数调用中获取文本值。

4.  现在调用您的 servlet 或方法或您使用的任何方法来使用 Ajax 或通常使用与该下拉列表对应的列中的值更新 db。

5.  刷新页面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:29:04.227

hiii，终于搞定了。我使用以下功能 -

```
function abc()
{
    var myoption = document.createElement("option"); //works with both mozilla and IE
    myoption.text ="mytext";
    myoption.id="mytext";
    myoption.name="mytext";
    myoption.value ="mytext"; //Probably, the sID stuff

    document.getElementById("drop_1").options.add(myoption);
} 
```

等循环内。谢谢大家 。

# python - Python列表实现

> ID：16009440
> 
> 赞同：0
> 
> 时间：2013-04-15T07:03:12.683
> 
> 标签：python, c

python中的列表是如何实现的？我的意思是如何在恒定时间内附加一个元素并在恒定时间内获得一个项目？谁能告诉如何在C中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:07:02.850

一个简单的实现是使用预分配的缓冲区和元素数量的计数器。当缓冲区被填满并且您想追加元素时，您分配一个更大的缓冲区（例如两倍大）并将旧缓冲区的数据复制到新缓冲区中。

因此，追加操作并不是严格意义上的 O(1)，而是摊销 O(1)，即平均为 O(1)。

# google-drive-api - 使用 setConvert(true) 在 Google Drive 中上传文件；

> ID：16009441
> 
> 赞同：2
> 
> 时间：2013-04-15T07:03:17.270
> 
> 标签：google-drive-api

我正在尝试使用 setConvert(true) 在 GoogleDrive 中上传文件；我的代码如下：

```
InputStreamContent mediaContent = new InputStreamContent(mimeType, new BufferedInputStream(new FileInputStream(filename)));
mediaContent.setLength(filename.length());
Insert insert = service.files().insert(body, mediaContent);
insert.setConvert(true);        
insert.getMediaHttpUploader().setDirectUploadEnabled(false);
insert.getMediaHttpUploader().setProgressListener(new FileUploadProgressListener());
file = insert.execute(); 
```

它给了我以下错误

IOException: com.google.api.client.googleapis.json.GoogleJsonResponseException: 500 内部服务器错误 { "code": 500, "errors": [ { "domain": "global", "message": "Internal Error", “原因”：
“内部错误”}]，“消息”：“内部错误”}

# backbone.js - 在 Backbone.js 中导航视图到视图

> ID：16009452
> 
> 赞同：0
> 
> 时间：2013-04-15T07:04:01.670
> 
> 标签：backbone.js

   我很想了解如何使用 JQuery Validator 在 submitHandler 的上下文中从一个视图导航到另一个视图。我目前在做的大致是，

```
class Example.ViewOne extends Backbone.View
    template: JST['view_one']

    render: ->
      @$el.html(template())
      @$('form').validate(@.validators)
      this

    validators:
      rules:
        name:
          required: true
      submitHandler: (form) ->
        view = new Example.ViewTwo()
        view.render()
        return false

class Example.ViewTwo extends Backbone.View
  template: JST['view_two']

  render: ->
    @$el.html(@template())
    this

class ExampleRouter extends Backbone.Router
  routes:
    '' : 'index'

  index:
    view = new Example.ViewOne()
    $('#container').html(view.render().el) 
```

托管页面：    

```
...
<div id="container"></div>
.... 
```

视图一：

```
...
  <h1>View One</h1>
  <form>
    <input type="text" name="name" />
    <button type="submit" />
  </form>
  ... 
```

视图二：

```
...
  <h1>View Two</h1>
  ... 
```

当我在 ViewOne 上点击提交时会发生什么，帖子触发并重新渲染 ViewOne。我想渲染 ViewTwo 并且不发布帖子。我必须使用 JQuery Validator，据我所知，它需要一个表单标签，因此摆脱表单标签对我来说不是一个解决方案。

此外，我知道在视图中控制工作流并不是理想的方式，但我现在专注于让一些简单的工作变得简单，并且随着我对 Backbone 越来越熟悉，肯定会计划研究更强大的解决方案。

# iphone - gcovr - cobertura

> ID：16009454
> 
> 赞同：1
> 
> 时间：2013-04-15T07:04:08.870
> 
> 标签：iphone, ios, code-coverage, cobertura, gcov

使用 gcovr，我可以为我的 IOS 应用程序生成代码覆盖报告（coverage.xml）。如何使用 cobertura 插件将coverage.xml 转换为 cobertura html 报告？

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:57:27.173

我使用 lcov 工具套件来生成这样的 HTML[报告](http://jasperblues.github.io/Typhoon/coverage/index.html)。. . 执行此操作的构建脚本在[这里](https://github.com/jasperblues/Typhoon/blob/master/build.xml)。

不错的功能：每次从构建服务器构建后，结果都会上传到 Github 页面。

我正在考虑制作一个工具来在 Xcode 中自动安装脚本。有一个应用程序可以用来查看覆盖结果，但我追求的是：

*   可以从命令行运行。这使其与 CI 构建服务器兼容，并且易于在本地验证结果。

*   [lcov 可以通过MacPorts](http://www.macports.org/)或 home-brew轻松安装。

# php - 如何制作横版的学生证

> ID：16009458
> 
> 赞同：0
> 
> 时间：2013-04-15T07:04:34.683
> 
> 标签：php, mysql, html-table

如何制作横版的学生证？

此代码以垂直形状显示身份证，我想要水平形状。我该如何解决这个问题？请帮我解决这个问题。

我想要这样：

```
----------------------------------
| Photo    | Student Detail      |
----------------------------------
  here     |Student Name :       |
           |Roll No:             |
  photo    |Classs :             |
           |Grn    :             |
           |Father Name :        |
---------------------------------- 
```

现在它的显示如下：

```
--------------------------------------------------------
Photo                  |        Student Detail         |
--------------------------------------------------------
      here     |                     
               |
      photo    |
               |
               |
--------------------------------------------------------
Student Name:                                          |
Roll No:                                               |
Class:                                                 |
Grn:                                                   |
Father Name:                                           |
-------------------------------------------------------- 
```

代码：

```
echo "<table class='hovertable' border='1' cellpadding='0' cellspacing='0'>";
echo "<tr><th>Photo</th><th>Student Detail</th></tr>";

if ($rows > 0) {
        while($row = mysql_fetch_array($result)) {
                echo "<tr><td>";
      echo "<img src=http://localhost/student/images/".$row['photo'] ." width='150' height='100'></a></td>";
      echo "<tr><tr><td>";
                echo $row['name'];
                echo "</tr></td>";
        echo "<tr><td>";
                echo $row['rollno'];
                echo "</tr></td>";
        echo "<td>";
                echo $row['fathername'];
                echo "</tr></td>";
        echo "<td>";
        echo $row['class'];
                echo "</td></tr>";

        }
} else {
        echo "<tr><td colspan=\"5\">No results found!</td></tr>";
}

echo "</table>"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:22:05.657

详细信息在照片下方，因为您之前开始了新行`$row['name']`。您不能按照您的方式嵌套行。如果您想将详细信息与照片并排显示，则必须从`<td>`标签开始，然后用`<br/>`

```
echo '<td>';
echo $row['name'], '<br/>';
echo $row['rollno'], '<br/>';
echo $row['fathername'], '<br/>';
echo $row['class'], '<br/>';
echo '</td></tr>'; 
```

或`<div>`标签，正如@Fabio 已经在评论中建议的那样。

# php - PHPExcel 在 getCalculatedValue 上返回空白

> ID：16009460
> 
> 赞同：0
> 
> 时间：2013-04-15T07:04:38.550
> 
> 标签：php, phpexcel

大家好 :D 谢谢大家看一看，非常感谢。

这是一个 PHPExcel 问题。我在 Excel 文件中有`A1=-1`, `B2=A2=0`，所以`B2`应该返回“FALSE”。但是，当尝试通过 检索它时`getCalculatedValue`，它返回空白。

```
echo $objPHPExcel->getActiveSheet()->getCell('B2')->getCalculatedValue(); 
```

对于那些感兴趣的人，整个代码在这里。

```
/** Include path **/
set_include_path(get_include_path() . PATH_SEPARATOR . '../Classes/');

/** PHPExcel_IOFactory */
include 'PHPExcel/IOFactory.php';

/** Load Excel File **/
$inputFileName = './TrueFalse.xlsx';
echo 'Loading file ',pathinfo($inputFileName,PATHINFO_BASENAME),' using IOFactory to identify the format<br />';
$objPHPExcel = PHPExcel_IOFactory::load($inputFileName);

/** Change A2 Value **/
$objPHPExcel->getActiveSheet()->setCellValue('A2','=-1');

/** Calculate and State B2 Value **/
echo '<br><br> Show Calculated Value for B2';
echo '<br> B2 = ';
echo $objPHPExcel->getActiveSheet()->getCell('B2')->getCalculatedValue(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:01:13.937

a PHP echo statement will display nothing for a FALSE value. Either use

```
var_dump($objPHPExcel->getActiveSheet()->getCell('B2')->getCalculatedValue()); 
```

though var_dump should normally only be used for debugging; or something like:

```
echo $objPHPExcel->getActiveSheet()->getCell('B2')->getCalculatedValue() ? 'TRUE' : 'FALSE'; 
```

# java - 执行 **kill -9 ** 通过 java 的命令不起作用

> ID：16009469
> 
> 赞同：0
> 
> 时间：2013-04-15T07:05:27.707
> 
> 标签：java, linux

我正在执行以下命令来杀死一个进程，但它没有杀死任何进程。

我试过的命令：#kill -9 "2319"

但同时当我在命令提示符中执行相同的命令时，它工作正常。

```
private void killProcess()
{
    InputStream errorStream = null;
    final String taskKill = isWindows() ? InstallerConstants.WIN_TASKKILL : InstallerConstants.LIN_TASKKILL;
    try 
    {
        Process process = null;
        final String killCMD = taskKill+"\""+getGuiProcess()+"\"";\\kill -9 "2319"
        process = runTime.exec(killCMD);
        errorStream = process.getErrorStream();
        bufferedReader =  new BufferedReader(new InputStreamReader(errorStream));
        String error = "";
        while(bufferedReader.readLine() != null)
        {
            error =  bufferedReader.readLine();
        }
        if(!(error==null || "".equals(error)))
        {
            logger.error(error);
        }
    } 
    catch (IOException ioException) {
        logger.error(ioException.getMessage(), ioException);
    }
    finally
    {
        try 
        {
            if(bufferedReader!=null)
            {
                bufferedReader.close();
            }
            if(errorStream!=null)
            {
                errorStream.close();
            }               
        } 
        catch (IOException ioException) {
            logger.error(ioException.getMessage(), ioException);
        }           
    }
} 
```

请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:13:02.270

需要指定kill命令的绝对路径

```
 /bin/kill may be? 

 $ whereis kill //output will show you where kill command is. 
```

顺便说一句，你有什么错误吗？

# c# - 如何将 DBNull 检查到 linq 或 int32 中？

> ID：16009471
> 
> 赞同：2
> 
> 时间：2013-04-15T07:05:30.960
> 
> 标签：c#, wpf, asp.net-mvc, linq

我想获取`CategoryId`is的所有行`null`。我写了下面的代码，但它给了我错误

> " 运算符 ' == ' 不能应用于 'int?' 类型的操作数 和 System.DBNull

```
 public Nullable<Int32>  CategoryId { get; set; }
    Game objGame;
    var query = (from gametypebygametype in db.GameByGameTypes.Where(x => x.CategoryId == DBNull.Value)
                  join game in db.Games
                 on gametypebygametype.GameId equals game.GameId into joined
    from game in joined.DefaultIfEmpty()
                              select new
                                 {
                                     game.GameId,
                                     game.GameName
                                 }
                                ).Distinct();
                    List<Game> objlistGame = new List<Game>();
                    foreach (var item_temp in query)
                    {
                        objGame = new Game();
                        objGame.GameId = item_temp.GameId;
                        objGame.GameName = item_temp.GameName;
                        objlistGame.Add(objGame);
                    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:07:32.610

尝试只使用`null`而不是`DBNull.Value`，或`HasValue = false`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:08:10.060

您需要修改您的`WHERE`子句并[`Nullable<T>.HasValue`](http://msdn.microsoft.com/en-us/library/sksw8094.aspx) 用作：

```
.Where(x => !x.CategoryId.HasValue) 
```

从

```
.Where(x => x.CategoryId == DBNull.Value) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:07:41.870

如果要获取 is 的所有行`CategoryId`，`null`则只需检查 nullable 是否已分配值：

```
db.GameByGameTypes.Where(x => !x.CategoryId.HasValue) 
```

# jquery - 从 json 喂 div

> ID：16009472
> 
> 赞同：0
> 
> 时间：2013-04-15T07:05:56.210
> 
> 标签：jquery

我正在尝试输入 2 个 div，`.totalmembers`并且`.totalcomm`每 60 秒从一个 json 文件中输入一次。

json 文件看起来像这样，`{ "members": { "data": [ { "TotalMembers": 14 } ] }, "communities": { "data": [ { "TotalCommunities": 10 } ] } }`

我在这里做错了什么？

```
 $(function FeedTicker() {
        $.ajax({
            type: "GET",
            url: "default.cs.asp?Process=ViewStats",
            dataType: 'json',
            success: function(data) {
                if (index == "members") {
                    $(".totalmembers").html(data.totalmembers);

                } else if (index == "communities") {
                    $(".totalcomm").html(data.totalcommunities);
                }
            $('.totalmembers').ajaxSuccess(function(){
                $(this).ticker({
                    pauseOnItems: 6000, 
                    displayType: 'fade',
                    controls: false, 
                    titleText: ''
                });
            })
            $('.totalcomm').ajaxSuccess(function(){
                $(this).ticker({
                    pauseOnItems: 6000, 
                    displayType: 'fade',
                    controls: false, 
                    titleText: ''
                });
            })
            }
        })
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:27:12.420

一种选择是修改您的 JSON。类似的东西`{ totalmembers: 109, totalcommunities : 3}`。如果您希望它在不修改 JS 的情况下工作，这就是它的外观。

另一种选择是修改你的 JS。将您的成功回调更改为：

```
function(data) {
  if (index == "members") {
    $(".totalmembers").html(data.members.data[0].TotalMembers);
  } else if (index == "communities") {
    $(".totalcomm").html(data.communities.data[0].TotalCommunities);
  }
} 
```

我认为将 ajaxSuccess 注册移动到成功回调之外的某个地方可能也是一个好主意。目前，每次 ajax 请求成功时，您的代码都会重新注册 div。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:12:41.223

`data.totalmembers``data.totalcommunities`可能`List<something>`是？

如果是，那么您必须生成 HTML 格式来提供 div

即：data.totalmembers

总成员中的 foreach 成员

`<table><tr><td>`totalmembers.name`</td></tr></table>....`

# php - 如何在php中替换数组中的数字

> ID：16009474
> 
> 赞同：2
> 
> 时间：2013-04-15T07:05:57.193
> 
> 标签：php

你能帮我在数组中搜索十进制数或它的一部分`". "`（点和后面的空格），然后用零替换它或删除点吗？

下面是数组的一部分：

```
Array ( [2] => AUD,ADF,1,06-01-2001,3.,3.9532
        [3] => AUD,ADP,1,06-02-2001,99.8222,99.6682
        [4] => AUD,AED,1,06-01-2001,1.8687,1.8664
        [5] => AUD,AFA,1,06-01-2001,2416.57,2413.95
        [6] => AUD,AFN,1,06-01-2001,2416.57,2413.95
        [7] => AUD,ALL,1,06-01-2001,77.,75.9759
        [8] => AUD,AMD,1,06-03-2001,NULL,NULL
        [9] => AUD,ANG,1,06-01-2001,0.9056,0.9046
        [10] => AUD,AOA,1,06-01-2001,3.0751,2.9961
        [11] => 
```

请看`[7]`有没有类似的数字`77`。或在`[2]`那里`3`。（点后没有任何内容）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:16:37.393

使用[preg_replace()](http://php.net/manual/en/function.preg-replace.php)：

```
$array = array(
    'AUD,ADF,1,06-01-2001,3.,3.9532',
    'AUD,ADP,1,06-02-2001,99.8222,99.6682',
    'AUD,ALL,1,06-01-2001,77.,75.9759',
    'AUD,ALL,1,06-01-2001,78\.   ,75.9759'
);
//                         ----RegEx Pattern---  Replace   Input
//                         \/       \/       \/    \/       \/
$new_array = preg_replace('/(\d+)\.(\s*)(?!\d)/', '$1', $array);
//                           ^^^ ^^ ^^^^ ^^^^
//                            |   |   |    | 
// Match any digits [0-9] <---|   |   |    |
//         Match a point  <-------|   |    |
// Match spaces and make it optional<--    |
//                                         |
// Lookahead, which means that if there <--|
// is no digits after:                  <--|
// digit[point][0 or several spaces]    <--|
// The whole thing won't be matched.    <--|

// Addition: the first (\d+) is the first match group
// That's why we used $1 in replace !

// \d -> [0-9]
// \s -> space
// \. -> points have to be escaped
// (?!) -> Lookbehind (check : http://php.net/manual/en/regexp.reference.assertions.php)
// * -> Occurs 0 time or plus
// + -> occurs 1 time or plus
// The '/' at the begin and the end are delimiters

print_r($new_array); 
```

输出：

```
Array
(
    [0] => AUD,ADF,1,06-01-2001,3,3.9532
    [1] => AUD,ADP,1,06-02-2001,99.8222,99.6682
    [2] => AUD,ALL,1,06-01-2001,77,75.9759
    [3] => AUD,ALL,1,06-01-2001,78,75.9759
) 
```

* * *

**编辑：**回答下面评论中的问题：

正则表达式是关于**正则模式**的。从所需的输出中，我可以看到您希望将除数字（整数和双精度/浮点数）之外的所有内容都放在引号中，我们还可以将日期放在引号之间。所以这是一种方法：

```
$new_array = preg_replace('/(\d+)\.(\s*)(?!\d)/', '$1', $array); // remove some dots & spaces
$new_array_2 = preg_replace('/([a-zA-Z]+|\d+-\d+-\d+)/', '\'$1\'', $new_array);
//            Match letters <--^-^-^-^-^  ^-^-^-^-^---> Match digits-digits-digits (for the date part), I don't want to use a LOOOONG RegEx to check if it's valid ...

print_r($new_array); // First replacement
print_r($new_array_2); // Second replacement 
```

通过使用一些 PHP-Fu，还有另一种更可靠的方法：

```
$new_array = preg_replace('/(\d+)\.(\s*)(?!\d)/', '$1', $array); // remove some dots & spaces
// For this code YOU NEED PHP 5.3+ since it's using anonymous functions
$new_array_2 = array_map(function($val){
    $pieces = explode(',', $val);
    $pieces2 = array_map(function($val2){
        if(preg_match('/^\d+(\.\d+)?$/', $val2)){
            return $val2;
        }else{
            return "'$val2'";
        }
    }, $pieces);
    return(implode(',',$pieces2));
}, $new_array);

print_r($new_array);
print_r($new_array_2); 
```

输出：

```
Array
(
    [0] => AUD,ADF,1,06-01-2001,3,3.9532
    [1] => AUD,ADP,1,06-02-2001,99.8222,99.6682
    [2] => AUD,ALL,1,06-01-2001,77,75.9759
    [3] => AUD,ALL,1,06-01-2001,78,75.9759
)
Array
(
    [0] => 'AUD','ADF',1,'06-01-2001',3,3.9532
    [1] => 'AUD','ADP',1,'06-02-2001',99.8222,99.6682
    [2] => 'AUD','ALL',1,'06-01-2001',77,75.9759
    [3] => 'AUD','ALL',1,'06-01-2001',78,75.9759
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:13:00.223

您可以使用 intval() 将浮点数转换为整数：[http](http://php.net/manual/en/function.intval.php) ://php.net/manual/en/function.intval.php 看起来您可能必须拆分值（用逗号分隔），转换它们然后再次加入他们...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T07:22:56.457

使用[str_replace](http://php.net/manual/en/function.str-replace.php)，您可以将完整数组作为输入传递：

> $j = array('AUD,ADF,1,06-01-2001,3.,3.9532','AUD,ADP,1,06-02-2001,99.8222,99.6682','AUD,AED,1,06 -01-2001,1.8687,1.8664','AUD,AFA,1,06-01-2001,2416.57,2413.95','AUD,AFN,1,06-01-2001,2416.57,2413.95','AUD,ALL ,1,06-01-2001,77.,75.9759','AUD,AMD,1,06-03-2001,NULL,NULL','AUD,ANG,1,06-01-2001,0.9056,0.9046' ,'AUD,AOA,1,06-01-2001,3.0751,2.9961');
> 
> $j = str_replace(".,", "," , $j);
> 
> 打印_r($j);

*输出*

```
Array
 (
[0] => AUD,ADF,1,06-01-2001,3,3.9532
[1] => AUD,ADP,1,06-02-2001,99.8222,99.6682
[2] => AUD,AED,1,06-01-2001,1.8687,1.8664
[3] => AUD,AFA,1,06-01-2001,2416.57,2413.95
[4] => AUD,AFN,1,06-01-2001,2416.57,2413.95
[5] => AUD,ALL,1,06-01-2001,77,75.9759
[6] => AUD,AMD,1,06-03-2001,NULL,NULL
[7] => AUD,ANG,1,06-01-2001,0.9056,0.9046
[8] => AUD,AOA,1,06-01-2001,3.0751,2.9961
) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:21:08.150

你必须使用 array_walk() 和 preg_replace() 来做到这一点。正则表达式的表达式应该类似于 (.)[,\s]

# php - PHP 将字符串转换为数组

> ID：16009479
> 
> 赞同：2
> 
> 时间：2013-04-15T07:06:19.273
> 
> 标签：php, arrays, json

我希望将以下字符串转换为 PHP 数组：

```
{ 'Codes': ['01239EEF', '01240EDF'], 'Done' : ['1', '0'] } 
```

我正在尝试将其转换为如下所示的数组：

```
{[Codes] => {[0] => '01239EEF', [1] => '01240EDF'}, [Done] => {[0] => '1', [1] => '0'}} 
```

我尝试使用`json_decode`with Array 参数明确设置为`true`. 但它总是`NULL`出于某种原因返回。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T07:09:06.250

问题在于 json 使用`"`而不是`'`

```
 { 'Codes': ['01239EEF', '01240EDF'], 'Done' : ['1', '0'] } 
```

一定是

```
 { "Codes": ["01239EEF", "01240EDF"], "Done" : ["1", "0"] } 
```

输出与`json_decode`

```
 stdClass Object
(
   [Codes] => Array
    (
        [0] => 01239EEF
        [1] => 01240EDF
    )

    [Done] => Array
    (
        [0] => 1
        [1] => 0
    )

) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:14:33.553

你可以使用`str_replace(',",$string)`然后`json_encode`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:19:09.157

名称和值必须用双引号括起来

`json_decode`单引号在函数中无效

请更改您的字符串，例如

```
$js_str = '{ "Codes": ["01239EEF", "01240EDF"], "Done" : ["1", "0"] }'; 
```

你的输出会像

```
object(stdClass)#1 (2) {
   ["Codes"]=>
  array(2) {
    [0]=>
    string(8) "01239EEF"
    [1]=>
    string(8) "01240EDF"
  }
  ["Done"]=>
  array(2) {
    [0]=>
    string(1) "1"
    [1]=>
    string(1) "0"
  }
} 
```

# java - hibernate 不会创建 hbm2ddl.auto 设置为“更新”的中间表

> ID：16009485
> 
> 赞同：3
> 
> 时间：2013-04-15T07:06:41.617
> 
> 标签：java, spring, hibernate

我的印象是，当 hbm2ddl.auto 设置为“update”时，hibernate（3.6 版）会扫描实体注释并更新数据库引用并创建新表，直到今天它一直工作正常，有两个 bean：role和菜单，我为它们定义了一个单向多对多关联

```
@Id
@GenericGenerator(name="uuidGenerator", strategy="uuid")
@GeneratedValue(generator="uuidGenerator")
private String roleId;
@Column
private String roleName;
@ManyToMany(cascade=CascadeType.REMOVE)
@JoinTable( name="roleMenu",
    joinColumns=
        @JoinColumn(name="roleId"),
    inverseJoinColumns=
        @JoinColumn(name="menuid")
        )
private Set<Menu> Menus; 
```

我已经在数据库中有表 ROLE 和表 MENU，所以我期待 hibernate 为我创建中间表 ROLEMENU，但它只会尝试更新 ROLEMENU 中的外键引用，这会导致错误导致 ROLEMENU 尚不存在，但如果我将 hbm2ddl.auto 设置为“创建”，它工作正常，那么有人可以解释为什么 hibernate 之前不创建 ROLEMENU 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:08:31.863

不会。您需要​​将选项设置为`create`或`create-drop`。

update 只是改变表语句。

# visual-studio - 使用 Visual Studio 进行嵌入式开发（Embedded Compact）

> ID：16009486
> 
> 赞同：2
> 
> 时间：2013-04-15T07:06:41.710
> 
> 标签：visual-studio, compact-framework, windows-embedded-compact

我想使用 .NET Compact Framework 3.5 为 Windows Embedded Compact 实时平台进行开发。但是我找不到任何关于在 Visual Studio 2010 或 Visual Studio 2012 中集成的信息。对于后者，有很多博客文章宣布未来支持嵌入式开发，但似乎没有太多关于具体开发的信息工具。

那么我还需要使用 VS 2008 吗？如果是，是否有任何关于使用 .NET CF 3.5 进行嵌入式开发的替代方案？在我看来，.NET CF 3.5 是一个非常有价值的快速嵌入式开发平台，所以我想知道社区中的信息如此之少。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T14:07:30.203

是的。.NET CF 3.5 仅在 Visual Studio 2008 中受支持。

微软认为移动设备是在浪费时间，因此他们放弃了 Visual Studio 2010，转而使用 Windows 7 Phone 追逐 iPhone。

从那时起，Android 平板电脑起飞了，微软已经看到了他们计划中的错误，但是 Windows 7 平台是为 PC 设计的，在缩减到 Windows Phone 时效果不佳。

因此，一个新的操作系统被设计为专注于平板电脑的核心，并内置了额外的功能，让这个新的平板电脑操作系统在桌面上运行。这就是 Windows 8：平板电脑操作系统。

对你和我来说不幸的是，微软从来没有回过头来增加对旧版 VS2010 的支持。

带有 SP1 的 VS2012 应该支持较新的 Win8 设备，但我还没有参与其中。

# azure - 您在 AWS 或 Azure 提供的 VM 上使用哪种 GPU？

> ID：16009487
> 
> 赞同：0
> 
> 时间：2013-04-15T07:06:41.957
> 
> 标签：azure, amazon-web-services, gpu

在我从 Azure 获得的 VM 上，它有一个特定于 hyper-V 的显示适配器。这似乎与 OpenCL 不兼容，如果您要运行 OpenCL 程序，那真是太可惜了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T19:28:40.087

On AWS you have a [HPC offering](http://aws.amazon.com/hpc-applications/) which includes NVIDIA GPUs capable of doing CUDA and OpenCL.

The [list of instance](http://aws.amazon.com/ec2/instance-types/) types contains the specs of the **Cluster GPU Instances** containing **2 x NVIDIA Tesla “Fermi” M2050 GPUs**.

You might also have a look at the [pricing](http://aws.amazon.com/ec2/pricing/).

# knockout.js - 向 Knockout 数字数据绑定添加十进制格式

> ID：16009493
> 
> 赞同：12
> 
> 时间：2013-04-15T07:07:27.653
> 
> 标签：knockout.js

我正在使用敲除来填充表格中的数值：

HTML：

```
<tbody data-bind="foreach: commision">
             <tr>
                 <td>
                    <span>R </span><span data-bind="text: Amount"></span>
                 </td>
             </tr>...
</tbody> 
```

Knockout.js 部分涉及金额和佣金

```
 var vm = {
            commision: ko.observable(),
            futurecommision: ko.observable(),
            commisionpaid: ko.observable(),
            totals: ko.observable(),
            commisionPaid: ko.observable(ko.utils.unwrapObservable(ko.mapping.fromJS({
                Date: null,
                Amount: 0
            }))),
... 
```

现在我如何显示以十进制格式填充的数字，比如 .00 ？例如。10.00

目前它只显示数字，例如 10

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-04-15T07:40:22.680

您可以考虑编写一个自定义扩展器来处理这个问题。

一个基本的扩展器是这样的：

```
ko.extenders.numeric = function(target, precision) {
    var result = ko.computed({
        read: function() {
            return target().toFixed(precision); 
        },
        write: target 
    });

    result.raw = target;
    return result;
}; 
```

然后将其用于您的可观察对象，例如：

```
var commissionPaid = ko.observable(whatever your value is).extend({numeric: 2}); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-15T19:58:16.610

看看这个 KO Money Extender：

[http://jsfiddle.net/digitalbush/R6MPU/](http://jsfiddle.net/digitalbush/R6MPU/)

```
(function(){
    var format = function(value) {
        toks = value.toFixed(2).replace('-', '').split('.');
        var display = '$' + $.map(toks[0].split('').reverse(), function(elm, i) {
            return [(i % 3 === 0 && i > 0 ? ',' : ''), elm];
        }).reverse().join('') + '.' + toks[1];

        return value < 0 ? '-' + display : display;
    };

ko.subscribable.fn.money = function() {
    var target = this;

    var writeTarget = function(value) {
        var stripped=value
            .replace(/[^0-9.-]/g, '');

        target(parseFloat(stripped));
    };

    var result = ko.computed({
        read: function() {
            return target();
        },
        write: writeTarget
    });

    result.formatted = ko.computed({
        read: function() {
            return format(target());
        },
        write: writeTarget
    });

    result.isNegative = ko.computed(function(){
        return target()<0;
    });

    return result;
};
})();

//Wire it up
$(function() {
    var viewModel = {
        Cash: ko.observable(-1234.56).money(),
        Check: ko.observable(2000).money(),
        showJSON: function() {
            alert(ko.toJSON(viewModel));
        }
    };

    viewModel.Total = ko.computed(function() {
        return this.Cash() + this.Check();
    }, viewModel).money();
    ko.applyBindings(viewModel);
}); 
```

# javascript - Ajax 调用无法处理 firefox 中的文档就绪事件

> ID：16009497
> 
> 赞同：-2
> 
> 时间：2013-04-15T07:07:34.923
> 
> 标签：javascript, ajax, jqgrid

在 firefox 中加载 jsp 页面时，我正在调用一个 ajax 函数，并且该 ajax 函数调用一个 servlet。这个 servlet 返回数据作为响应。但是当我警告数据时，如代码所示，我得到空值。

```
$.ajax({
    url : 'Servlet?methodName=A',
    type : "POST",
    datatype : 'json',
    success : function(data) {
    alert(data);
    var obj = $.parseJSON(data);

    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:30:50.417

检查您从函数发送的内容，它应该是 json 返回类型，以便您可以获取数据

# mysql - Mysql Match() Against() 不起作用

> ID：16009501
> 
> 赞同：0
> 
> 时间：2013-04-15T07:07:49.080
> 
> 标签：mysql, sql, phpmyadmin, match-against

我正在使用`MATCH.....AGAINST`，`phpMyAdmin`但它不起作用
这是表格。

```
id     sentence
1      get software free
2      here software download 
```

这是一个查询`phpMyAdmin`

```
SELECT * FROM `phrase` WHERE MATCH(sentence) AGAINST('software' IN BOOLEAN MODE) 
```

它没有返回结果。为什么？但是两个句子中都存在
一个单词**软件。**
请指导我。
谢谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:16:01.390

你的桌子是**MISAM**吗？我在这里做了一个测试，它工作正常。

```
CREATE TABLE `foo` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `sentence` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

insert into foo values (null, 'get software free');
insert into foo values (null, 'here software download');

mysql> SELECT * FROM `foo` WHERE MATCH(sentence) AGAINST('software' IN BOOLEAN MODE);
+----+------------------------+
| id | sentence               |
+----+------------------------+
|  1 | get software free      |
|  2 | here software download |
+----+------------------------+ 
```

# ssis - SSIS 多表加载

> ID：16009503
> 
> 赞同：0
> 
> 时间：2013-04-15T07:07:50.813
> 
> 标签：ssis, ssis-2012

我是第一次学习SSIS。我正在尝试将暂存数据库中的多个表加载到数据仓库中的多个表中。我的暂存数据库只不过是一个数据库，其中将所有源数据库中的所有表都复制到其中。我发现每个数据流任务只允许将一个源表连接到一个目标表。我必须使用与源数据库中的表数量一样多的数据流任务吗？有没有一种简单有效的方法来做到这一点？

据我了解，我需要一个空数据库，其中包含在 SQL Server 中创建的空 Dim 和 Fact 表，它将充当目标数据仓库并从暂存数据库接收数据。因此我已经创建了这个空的数据仓库。请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:27:31.620

没有约定在 DFT（数据流任务）中只需要 1 个源和 1 个目标。

您可以在 DFT 中拥有多个源和目标组件。但是，如果单个 DFT 中有太多源到目标组件，则可能会耗尽内存。在预执行阶段，SSIS 必须决定为各个 S2D 组件分配的内存，如果内存消耗太高，那么服务器可能无法为所有组件授予足够的内存。这可能会导致*长时间的等待*。

但是，有一个称为`EngineThreads`DFT 的属性，它定义了数据流引擎可以创建和并行运行的线程数。根据 MSDN：

> 要了解此属性的工作原理，请考虑包含三个数据流任务的示例包。每个数据流任务包含十个源到目标执行树。如果在每个数据流任务上将 EngineThreads 设置为 10，则所有 30 个执行树都可能同时运行。但是，一般规则是并行运行的线程数不要超过可用处理器的数量。由于线程之间频繁的上下文切换，运行的线程多于可用处理器的数量可能会降低性能。

因此最好创建单独的数据流任务并执行操作。

注意：如果您从多个来源获取数据，则可以在单个数据流任务中完成。

# c# - 如何通过后面的代码在另一列前面添加列？

> ID：16009515
> 
> 赞同：0
> 
> 时间：2013-04-15T07:08:36.687
> 
> 标签：c#, wpf, grid, wpf-controls

当我在 XAML 中时，假设我有 2 个列定义：

```
<Grid.ColumnDefinition>
    <ColumnDefinition>
    <ColumnDefinition>
</Grid.ColumnDefinition> 
```

我想在后面的代码中的第 0 位添加一个额外的列。但是当我添加列时，它会自动嵌入为第二个位置列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:12:30.207

您需要掌握您的网格，而不是插入列定义而不是“添加”。

```
 Grid layoutRoot = new Grid();
 layoutRoot.ColumnDefinitions.Insert(0, new ColumnDefinition() { Width = new GridLength(0, GridUnitType.Star) }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:17:37.217

我认为您正在编写以下代码，我认为这是正确的。

```
Grid1.ColumnDefinitions.Insert(0, new ColumnDefinition()); 
```

您还需要做的一件事是像这样对网格中的孩子加一个，否则旧项目将放在第一列；所以效果就像你刚才看到的一样。

```
foreach (UIElement item in Grid1.Children)
{
    var columnIndex = Grid.GetColumn(item);
    Grid.SetColumn(item, columnIndex + 1);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:19:08.567

这是实现这一目标的简单方法。

Maingrid.ColumnDefinitions.Insert(0, new ColumnDefinition());

# android - On Activity 结果未调用且未找到错误源

> ID：16009516
> 
> 赞同：1
> 
> 时间：2013-04-15T07:08:58.177
> 
> 标签：android

我已经开始使用 android 应用程序开发，我面临的问题希望我能在这里找到解决方案：-

我有 2 个活动 A 和 B，A 调用活动 B。在 B 中显示一个表格，单击时我想导航到活动 A 并传递用户在活动 B 中所做的选择。

这是我在活动 A 中使用的代码：-

```
 /** listner for playlist button click*/
     btnPlaylist.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) {
                Intent i = new Intent(MainActivity.this, PlayListActivity.class);
                finish( );
                startActivity(i);
            } 
```

使用这个我成功地导航到活动 B。

在活动 B 我有 itemclicklistener 我导航到活动 A:-

```
 private OnItemClickListener musicgridlistener = new OnItemClickListener() 
      {
            public void onItemClick(AdapterView parent, View v, int position,long id) 
            {

                        /** After selecting song go back to main view. */
                        Intent in = new Intent(PlayListActivity.this, MainActivity.class);
                        in.putExtra( "filename" , filename );
                        finish( );
                        startActivityForResult( in,0 );

            }
      }; 
```

在活动 A 上，我有 onActivityResult 从 B 获取结果：-

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) 
   {
      super.onActivityResult(requestCode, resultCode, data);

     if (requestCode == 0) { 

      }

} 
```

**我的问题：-**

****当我正常运行时（不在调试模式下），我成功导航导航 A->B->A。*但我在 A **中没有得到任何结果***

**当我在模拟器中以调试模式运行时，OnActivityResult 永远不会被调用，而是在执行以下代码后出现错误“找不到源”：-**

```
 Intent in = new Intent(PlayListActivity.this, MainActivity.class);
                in.putExtra( "filename" , filename );
                finish( );
                startActivityForResult( in,0 ); 
```

在此先感谢，维谢什。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:15:36.123

你做错了..从`A`你`B`应该使用`startActivityForResult`然后取回结果使用`setResult`

```
/** listner for playlist button click*/
 btnPlaylist.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            Intent i = new Intent(MainActivity.this, PlayListActivity.class);
            finish( );
            startActivityForResult(i, 0);
        } 
```

乙：

```
public void onItemClick(AdapterView parent, View v, int position,long id) 
        {

                    /** After selecting song go back to main view. */
                    Intent in = new Intent(PlayListActivity.this, MainActivity.class);
                    in.putExtra( "filename" , filename );
                    setResult(RESULT_OK, in);
                    finish( );

        } 
```

检查[http://www.mybringback.com/tutorial-series/12186/android-startactivityforresult-example/](http://www.mybringback.com/tutorial-series/12186/android-startactivityforresult-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:17:05.957

您应该在活动 A 上使用 startActivityForResult 来启动活动 B。不要完成 A。在活动 B 中使用 setResult 返回结果，完成它。必须是这样的：

```
 Activity A:

    /** listner for playlist button click*/
    btnPlaylist.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            Intent i = new Intent(MainActivity.this, PlayListActivity.class);

            startActivityForResult(i);
        } 

    Activity B:
    /** After selecting song go back to main view. */
        Intent in = new Intent(PlayListActivity.this, MainActivity.class);
        in.putExtra( "filename" , filename );

        setResult(RESULT_OK, in);
        finish();

    }
}; 
```

问候。

# ios - UIImagePickerController：检查返回的图像是横向还是纵向？

> ID：16009522
> 
> 赞同：1
> 
> 时间：2013-04-15T07:09:26.193
> 
> 标签：ios, objective-c, cocoa-touch, uiimagepickercontroller, landscape

所以， UIImagePickerController 不支持横向。但是，有一部分应用程序必须将来自控制器的图像识别为纵向或横向格式。

到目前为止，当使用 UIImagePickerController 从我的库中导入图像时，我可以处理这个问题。我只是比较 UIImage 的宽度和高度。但是，当我使用 UIImagePickerController 捕获图像时，此功能将无法正常工作。

UIImagePickerController 是否可以提供一些额外信息来确定它是否以横向模式拍摄？是否有一种创造性的方式来模拟使用 UIImagePickerController 拍摄照片的此功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:13:53.393

如果你需要修复它，我用它来检查和修复方向。

```
switch (image.imageOrientation) {
    case UIImageOrientationDown:
    case UIImageOrientationDownMirrored:
        transform = CGAffineTransformTranslate(transform, imageSize.width, imageSize.height);
        transform = CGAffineTransformRotate(transform, M_PI);
        break;

    case UIImageOrientationLeft:
    case UIImageOrientationLeftMirrored:
        transform = CGAffineTransformTranslate(transform, imageSize.width, 0);
        transform = CGAffineTransformRotate(transform, M_PI_2);
        break;

    case UIImageOrientationRight:
    case UIImageOrientationRightMirrored:
        transform = CGAffineTransformTranslate(transform, 0, imageSize.height);
        transform = CGAffineTransformRotate(transform, -M_PI_2);
        break;
    case UIImageOrientationUp:
    case UIImageOrientationUpMirrored:
        break;
}
/////////////// or u just do it in this way:
if (image.imageOrientation == UIImageOrientationUp) {
    NSLog(@"portrait");
} else if (image.imageOrientation == UIImageOrientationLeft || image.imageOrientation == UIImageOrientationRight) {
    NSLog(@"landscape");
} 
```

# javascript - 将 DIV 动态添加到模态

> ID：16009527
> 
> 赞同：2
> 
> 时间：2013-04-15T07:09:52.260
> 
> 标签：javascript, html, css, modal-dialog

所以我有一个基于文本的探索游戏，用户可以输入方向和去的地方，然后出现适当的图像等等。到目前为止，我已经创造了一个有边界的世界。

我现在要做的是添加用户可以与之交互的项目——剑、地图等。我知道我可以使用创建一个 div`document.createElement("div")`但是，我将如何将它添加到模态 div ？我的意思是，我可以将它添加到 body 中，`document.appendChild()`但是添加到 div 中？

另外，如何删除它？

![在此处输入图像描述](https://i.stack.imgur.com/8AaEw.jpg)

因此，用户键入**库存**并显示模式。当用户输入**pick**时，比如说在剑上，下次用户输入**库存时应该会添加一个新的 div**

*欢迎提出改进游戏的建议*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:43:32.527

您应该参考存储在变量中的模态窗口：

```
// modal_div contains reference to your modal
// or to particular element inside it
var modal_div = document.getElementById("my_modal");

// later you create new element and use appendChild to add it
var new_element = document.createElement("div");
modal_div.appendChild(new_element); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:29:39.583

您可以使用 jQuery 的`.after()`、`.append()`、`.before()`等`.remove()`来添加、删除、替换页面上的元素。

您可以使用 jQuery 轻松导航 DOM，查看他们的教程：[http ://try.jquery.com/](http://try.jquery.com/)

关于遍历 DOM 的练习：http: [//try.jquery.com/levels/2/challenges/1](http://try.jquery.com/levels/2/challenges/1)

# fortran - Fortran 隐式更改类型

> ID：16009528
> 
> 赞同：2
> 
> 时间：2013-04-15T07:09:56.507
> 
> 标签：fortran, implicit-conversion, implicit, fortran77

我正在修改一些旧的 Fortran 代码（我想是 F77），用 Intel 编译器编译。我遇到了一些这种形式的 SLATEC 例程：

```
subroutine cffti (n,wsave)

     dimension wsave(1)

     iw1 = n+n+1
     iw2 = iw1+n+n
     call cffti1 (n,wsave(iw1),wsave(iw2))

     return
  end subroutine cffti

 subroutine cffti1 (n,wa,ifac)

     ....
     ....
 end subroutine cffti 
```

Wsave 是一个数组，它的第一部分应该存储浮点数，而第二部分（来自 iw2）存储整数。

所有变量都是隐式的，因此当 wsave(iw2) 传递给 ifac 时，会被解释为整数，而 ifac 中的值没有意义。

我很困惑：所有这些东西怎么能正常工作？我该如何克服这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:28:43.907

这种正确填充数据的转换可以`EQUIVALENCE`在 Fortran 77 中使用。Fortran 95 提供`TRANSFER`了相同的目的。

```
wsave(iw2:) = transfer(some_integer_array, wsave) 
```

接收数据不是问题，因为隐式接口只传递指针而不检查类型。如果您需要内部使用显式接口，您也可以在内部使用相同的接口。

在现代代码中，只需使用 2 个不同类型的不同数组，并远离这些技术。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T12:39:02.383

详细说明 VF 的答案——很可能 cffti1 使用该整数数组作为暂存空间，因此这些值永远不会在其他任何地方访问。IE。您可能找不到（或不需要）等价或转移语句。最高级别子例程的文档可能会说“wsave 应该被声明为 4n+1 并在前 2n 个值中返回您想要的结果”。

在这种情况下，要“现代化”代码，您*可以*取消 ifac 参数并在子例程中分配暂存空间。但是，如果没有真正详细研究代码，我将不愿意进行此类更改。

也就是说，你有什么“问题”？您可能只需要关闭一些过于激进的类型检查。

* * *

编辑，在这里找到文档[http://www.maths.bris.ac.uk/~marp/slatec/routin-j.htm](http://www.maths.bris.ac.uk/~marp/slatec/routin-j.htm)

```
 WSAVE   a work array which must be dimensioned at least 4*N+15... 
```

“工作数组”->“暂存空间”->不要关心内容..

# php - 以 symfony2 的形式持久化相关实体

> ID：16009530
> 
> 赞同：0
> 
> 时间：2013-04-15T07:09:58.587
> 
> 标签：php, symfony

我想问一下提交表单时持久化两个实体的可能性。那可能吗？

```
$em = $this->getDoctrine()->getManager();
        $em->persist($a);
        $em->persist($b);
        $em->flush(); 
```

知道我在两个实体之间有公共字段。实际上，这些字段是由于两个实体之间的多对一关系而生成的。此外，我会将一些字段添加到第二个实体中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:40:14.797

是的，可以保留两个实体，但首先检查您的实体关系，例如，如果 A`oneToMany`与 B 有关系，那么您将在实体中有一个`addB()`方法。`A`

在这个特定用例中持久化相关实体就像添加`cascade={"persist"}`你的关系和持久化一样简单`A`。

如果您想`B`在保存之前添加一些特定的简单逻辑`A`及其`B`相关元素，您可以放入此逻辑，`addB()`以便每次将`B`元素添加到您的`A`实体时，您都会得到更改（设置正确的状态，日期，...等）你想要的。

# eclipse - 如何在jsp中设置图标？

> ID：16009532
> 
> 赞同：0
> 
> 时间：2013-04-15T07:10:06.757
> 
> 标签：eclipse, jsp, liferay

你好，我是 jsp 的新手，我想设置图标而不是我的锚标记。我正在使用liferay ide eclipse。我在docroot中创建了**图像**文件夹。我把我的图像放在图像文件夹中，图像名称是2.jpeg。我正在我的 jsp 页面中编写以下代码，但我无法将图像作为图标。请帮助我。

```
 <%@ include file="/html/polling/init.jsp" %>

  <portlet:renderURL var="editpollURL">
  <portlet:param name="jspPage" value="/html/polling/edit.jsp"/>
  </portlet:renderURL>
  <br/><a href="<%= editpollURL %>"><img  alt="hello kapil"src="/image/2.jpeg"/></a> 
```

请告诉我我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:00:29.727

您的自定义 portlet / 插件通常部署在其自己的 web 应用程序上下文中，例如 my-portlet。您尝试从“/images/2.jpeg”中处理您的图像，但它应该是`/my-portlet/images/2.jpeg`- 为了使其更通用，您可以将“my-portlet”替换为`<%=request.getContextPath() %>`，导致

```
<img alt="hello kapil" src="<%=request.getContextPath()%>/image/2.jpeg"/> 
```

当然，如果您不以这种方式查找上下文路径，则您的插件很可能没有命名为“my-portlet”，因此您必须将其替换为插件的实际名称以对路径进行硬编码。

如果您只检查 portlet 的 HTML 输出，您可以自己发现：识别您的 portlet 呈现的 HTML 并检查是否有资源（图像），或者您期望它在哪里。

# java - 如何在 Toast 消息框中显示 string[] 值？

> ID：16009533
> 
> 赞同：0
> 
> 时间：2013-04-15T07:10:07.450
> 
> 标签：java, android

我是 Android 环境的新手。我必须使用 String[] 值显示 Toast 消息框。但是 Toast 消息语法不能接受 String[] 值。如何使用 Toast.The Toast 显示消息 String[] 值只能接受 CharSequence。如何将 String[] 值更改为 CharSequence？

在这里，我使用此代码显示 String[] 值：

```
 public static String[] sysid1;
 sysid1= PerformCommand(inCmd,"","",m_SystemID, m_Username,m_Password,m_Data);
 Toast toast=Toast.makeText(EpicClub.this,sysid1,Toast.LENGTH_SHORT);
toast.show() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:16:17.470

使用以下方法将字符串数组转换为字符串：

```
String sysid1String = Arrays.toString(sysid1) 
```

然后将`sysid1String`其作为参数传递给`Toast.makeText`

像这样

```
Toast.makeText(getApplicationContext(),sysid1String ,Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:13:55.903

您可以使用 Toast 输出字符串。您要做的是输出一个字符串数组。

根据您要输出的内容，连接字符串，或者在所需索引处选择字符串并选择该字符串进行输出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:15:58.457

你必须像这样使用：

```
String[] sysid1 = {"a","b"};  

Toast.makeText(MainActivity.this, ""+Arrays.toString(sysid1), Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:21:44.620

假设您有如下字符串数组。您可以使用数组索引来显示 toast。

```
 public static String[] sysid1={"hello","hi"};
 Toast toast=Toast.makeText(this,sysid1[0],Toast.LENGTH_SHORT);
 toast.show(); 
```

您可以使用 arraylist 而不是字符串数组

```
 ArrayList<String> al = new ArrayList<String>();
   al.add("hello");
   al.add("hi");
   Toast toast=Toast.makeText(this,al.get(0),Toast.LENGTH_SHORT);// use the index to get the string
   toast.show(); 
```

# windows-phone-7 - 当用户使用 Facebook C# sdk 5.4.1.0 授予某些权限并拒绝某些权限时如何获取 FB 访问令牌

> ID：16009534
> 
> 赞同：1
> 
> 时间：2013-04-15T07:10:08.993
> 
> 标签：windows-phone-7, facebook-c#-sdk, facebook-login

我在 Window Phone 7.8 上遇到了这个问题。当用户授予我的应用程序一些权限并且一些跳过或拒绝时，我无法获得访问令牌。

例如，我已要求用户授予这些权限`"user_about_me", "offline_access", "publish_stream", "user_photos", "publish_checkins", "photo_upload", "email", "manage_pages"`，但用户仅授予“user_about_me”权限。然后 facebook 应该返回访问令牌，但它导航到这个 url`"http://www.facebook.com/connect/login_success.html?error=access_denied&error_code=200&error_description=Permissions+error&error_reason=user_denied&state#_=_"`并在 FacebookOAuthResult `Error`=access_denied, `ErrorDescription`=Permissions error, `ErrorReason`=user_denied中出现以下错误

# c# - 通过 WMI 获取 Networkadatper 配置时出现“无效的查询类型”错误

> ID：16009536
> 
> 赞同：2
> 
> 时间：2013-04-15T07:10:31.757
> 
> 标签：c#, wmi

我正在尝试通过传递主机名来获取网络适配器配置，例如 ipaddress、IPSubnet、WINSPrimaryServer、WINSSecondaryServer。

但它会引发以下错误

**System.Management.ManagementStatus.InvalidQueryType**

以下是我使用过的代码

```
query = new ObjectQuery("SELECT * FROM Win32_NetworkAdapterConfiguration WHERE DNSHostName='{0}'", objServerInfo.DNSHostName);
                    searcher = new ManagementObjectSearcher(mgmtScope, query);
                    ManagementObjectCollection networkConfigresults = searcher.Get();
                    foreach (ManagementObject queryObj in networkConfigresults)
                    {
                        NetworkConfig objNetworkConfig = new NetworkConfig();
                        objNetworkConfig.serverId = sysconfig.SystemId;
                        objNetworkConfig.IPAdresss =  queryObj["IPAddress"] != null ? String.Join(",", (string[])queryObj["IPAddress"]) : string.Empty;
                        objNetworkConfig.subnetMask = queryObj["IPSubnet"] != null ? String.Join(",", (string[])queryObj["IPSubnet"]) : string.Empty;
                        objNetworkConfig.primaryDNSServer = Convert.ToString(queryObj["WINSPrimaryServer"]);
                        objNetworkConfig.alternateDNSServer = Convert.ToString(queryObj["WINSSecondaryServer"]);
                        lstNetworkConfig.Add(objNetworkConfig);
                    } 
```

请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:54:45.137

更改您的查询如下

```
query = new ObjectQuery(String.Format("SELECT * FROM Win32_NetworkAdapterConfiguration WHERE DNSHostName='{0}'", objServerInfo.DNSHostName)); 
```

# delphi - 等到文件存在后再继续程序

> ID：16009537
> 
> 赞同：0
> 
> 时间：2013-04-15T07:10:39.217
> 
> 标签：delphi, wait

我有一个显示模态表单的 Delphi 应用程序插件。在单独表单的代码中，它调用另一个 exe 文件来处理一些文件，然后关闭。插件的第二部分从 exe 操作创建的文件。

我的问题是，在实际创建外部文件之前程序正在继续。有没有办法暂停我的 Delphi 插件并循环或等到 FileExists 返回 true 后再继续？

伪代码：

```
Launch form (ShowModal)
Form runs exe, manipulates external files
Close Form
Form released
if ExternalFiles exist, do stuff. 
```

因为外部文件是在我的插件之外进行操作的，所以我无法判断它们何时完成并创建。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-15T07:56:06.910

大概在启动的 exe 退出时文件已经存在。您可以使用`CreateProcess()`启动 exe，然后使用`WaitForSingleObject()`或相关功能来检测该 exe 何时退出。然后您可以根据需要使用它创建的文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:12:07.823

在启动后每秒检查一次的计时器中使用函数“filexists”。

另一种方法是使用

```
while not fileexists('c:\temp\somfile.txt') do begin
  sleep(1000);
end; 
```

但我不太喜欢它，因为它会锁定您的应用程序。

# php - 如何在 Zend Studio 10 中开发移动应用程序

> ID：16009539
> 
> 赞同：8
> 
> 时间：2013-04-15T07:11:02.140
> 
> 标签：php, zend-framework, zend-studio

我是 Zend Studio 的新手。我不知道如何使用版本 10 来创建 iPhone 和 Android 移动应用程序。请问有教程或示例代码吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-20T11:31:52.753

请参考以下 URL 轻松将 You Moblie 连接到 Zend Studio

[http://www.youtube.com/watch?v=t4nmRO9-gN4](http://www.youtube.com/watch?v=t4nmRO9-gN4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-17T14:39:55.283

Zend Studio 是 Eclipse 的一个版本，专门用于 PHP 和 Zend 框架。这些针对运行 Web 服务器的 PHP 上的 Web 应用程序。

您应该能够为其添加 Android SDK 和 Eclipse 插件并在其上开发 Android 应用程序 (Java)，但我强烈建议使用纯 Eclipse。

据我所知，您只能在 Mac 上的 xCode 上开发 iOS 应用程序。

[http://www.eclipse.org/](http://www.eclipse.org/)

[http://developer.android.com/tools/sdk/eclipse-adt.html](http://developer.android.com/tools/sdk/eclipse-adt.html)

# bash - bash if 语句，版本是否低于要求？

> ID：16009544
> 
> 赞同：2
> 
> 时间：2013-04-15T07:11:20.057
> 
> 标签：bash, if-statement, awk, version

我正在将依赖项检查写入程序，并且我要求特定程序至少是特定版本。

这是我到目前为止..

```
gtkdialog_v=`gtkdialog --version | sed -e "s| |\n|g" -e "/^$/d" | grep "[0-9]\."`
if [ "$gtkdialog_v" -lt "0.8.3" ]; then echo "gtkdialog must be version 0.8.3 or higher"; exit; fi 
```

“-lt”是问题，如果我插入“=”那么它会按预期工作，如果我使用“<”它会出现与“-lt”相同的错误

我的错误

```
[: 0.8.3: integer expression expected 
```

我在这里想念什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:34:04.070

您可以使用[自然排序](http://blog.codinghorror.com/sorting-for-humans-natural-sort-order)来执行此操作：

```
#!/bin/sh
min=0.8.3
ver=0.8.2

if shuf -e $min{,} $ver | sort -V | awk '{getline b;exit$0==b?0:1}'
then
  echo 'good'
else
  echo 'gtkdialog must be version 0.8.3 or higher'
  exit
fi 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:20:21.837

`-lt`只能应用于整数表达式。但是您正在使用它来比较字符串表达式。bash 不支持浮点运算。

而是比较字符串：

```
if [[ "$gtkdialog_v" < "0.8.3" ]]; 
```

请注意，这将进行 ASCII 比较（不是整数比较）。例如，

```
if [[ "0.12.3" < "0.8.3" ]]; then
  echo yes
fi 
```

将打印“是”，这不是预期的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:25:59.313

`-lt`需要一个整数表达式，而不是包含浮点格式值的字符串。所以它出错了。我认为您可以稍微调整一下并删除`.`So`0.8.3`变成`083`，然后您可以使用`0.8.5 => 085`. 但如果版本 seq 是直截了当的，这将起作用。或者另一种方法是剪掉它们并开始比较每个字段

# php - 用 PHP 创建多边形

> ID：16009550
> 
> 赞同：4
> 
> 时间：2013-04-15T07:11:29.050
> 
> 标签：php, mysql, image, polygon

我们如何用 PHP 创建像下面这样的图像并将它们的坐标存储在 MYSQL 数据库中。 ![在此处输入图像描述](https://i.stack.imgur.com/FmqJk.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:14:03.557

查看 MySQL 的 OpenGIS 扩展（[空间数据支持](http://dev.mysql.com/doc/refman/5.6/en/spatial-extensions.html)）和 PHP [GD2](http://php.net/manual/en/book.image.php)扩展。

**升级版：**

[OpenGIS Simple Features Specifications For SQL](http://www.opengis.org/docs/99-049.pdf)也可能有用。许多数据库管理系统都支持它。

# c# - 通过添加到标题按钮来防止折叠/展开 wpf 扩展器

> ID：16009552
> 
> 赞同：0
> 
> 时间：2013-04-15T07:11:38.057
> 
> 标签：c#, wpf, xaml, header, expander

我有以下问题：我必须在 Expander 标题中添加几个额外的按钮（以更改扩展器内容的呈现方案 - 图形或表格）。但问题是，当我按下这些按钮时，Expander 正在折叠或展开（我只想改变内容）。我记得网络开发中的泡沫事件。我为 CancelBubble 找到了以下解决方案： e.Handled = true; 但这无济于事

```
<Expander x:Name="xpdNumberDevices">
    <Expander.Header >
        <Border Background="#E5E5E5">
            <StackPanel Width="605" Height="40" Orientation="Horizontal" HorizontalAlignment="Center">
                <Label Foreground="Black" Content="Number of Devices" 
                        HorizontalAlignment="Center" VerticalAlignment="Center" Margin="10,0,0,0" FontSize="14" />
                <Image x:Name="imgGraphNumberDevices" Height="24" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="380,0,0,0"
                        MouseLeftButtonUp="btnNumDeviceGraph_Click">
                    <Image.Style>
                        <Style TargetType="{x:Type Image}">
                            <Setter Property="Source" Value="/Pictures/graph_button.png"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Source" Value="/Pictures/graph_button_over.png"/>
                                    </Trigger>
                               </Style.Triggers>
                         </Style>
                     </Image.Style>    
                </Image>
                <Image Height="24" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,0,0"
               MouseLeftButtonUp="btnNumDeviceTable_Click">
                    <Image.Style>
                        <Style TargetType="{x:Type Image}">
                            <Setter Property="Source" Value="/Pictures/table_button.png"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Source" Value="/Pictures/table_button_over.png"/>
                                </Trigger>
                             </Style.Triggers>
                         </Style>
                     </Image.Style>    
                 </Image>
             </StackPanel>
          </Border>
      </Expander.Header>
      <my:Chart Name="crtDeviceNumberChart" Title="Number of Devices" VerticalAlignment="Top" Margin="20,5,0,0" Height="280" Width="600" BorderBrush="#FFE5E5E5">
          <my:BarSeries Title="Devices" DependentValuePath="Key" IndependentValuePath="Value" ItemsSource="{Binding}" IsSelectionEnabled="True" />
      </my:Chart>                            
  </Expander> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:48:34.730

既然您将图像视为按钮，为什么不将其设为带有图像的按钮呢？作为测试，如果您用按钮替换图像，您会看到单击标题上的按钮不会展开/折叠`Expander`.

您可以只修改按钮的模板，它看起来像一个图像：

```
<Button>
    <Button.Template>
        <ControlTemplate>
            <Border HorizontalAlignment="Center" VerticalAlignment="Center" >
                <Image Source="/Pictures/graph_button.png" Width="24" Height="24"/>
            </Border>
        </ControlTemplate>
    </Button.Template>
</Button 
```

我还建议了解命令以及如何在单击按钮时绑定到命令以执行操作。

# delphi - CategoryPanelGroup 无标题

> ID：16009553
> 
> 赞同：2
> 
> 时间：2013-04-15T07:11:47.733
> 
> 标签：delphi, delphi-xe

谁能告诉我如何防止 TCategoryPanelGroup 绘制标题。我试图将 header.height 设置为 0 但这会产生全新的问题。我的面板上有 TImage，当我滚动面板组时，会在 TImage 上绘制图形伪影。

不幸的是，我似乎无法发布图像来向您展示，所以这里是如何重现我所看到的。

*   新形式。在其上放置一个 TCategoryPanelGroup，对齐客户端。
*   添加一个新面板并在面板上放置一个 TImage，左对齐（您甚至不必加载图像）
*   将该面板多次复制并粘贴到 PanelGroup 中
*   将 TCategoryPanelGroup.HeaderHeight 设置为 0。
*   运行应用程序。

调整它的大小，使您有一个垂直滚动条。滚动面板，如果您像我一样，您会在 TImage 所在的位置看到一些图形伪影。

![TCategoryPanelGroup Img 工件](https://i.stack.imgur.com/9VdBF.jpg)

这是我想要达到的目标的粗略。

![在此处输入图像描述](https://i.stack.imgur.com/TdJz9.jpg)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T12:30:21.470

为了避免伪影，您可以覆盖 TCategoryPanel 的 DrawHeader

```
type
  TCategoryPanel=Class(ExtCtrls.TCategoryPanel)
    procedure DrawHeader;override;
  End;

  TForm3 = class(TForm)
//.........
procedure TCategoryPanel.DrawHeader;
begin
//  inherited;

end; 
```

# c# - c#中DataGridViewTextBoxEditingControl和TextBox有什么区别

> ID：16009554
> 
> 赞同：0
> 
> 时间：2013-04-15T07:11:53.087
> 
> 标签：c#, .net, datagridview, textbox

例如，

```
void dataGridView1_EditingControlShowing(object sender, DataGridViewEditingControlShowingEventArgs e)
{
     TextBox txtbox = e.Control as TextBox;
     if (txtbox != null)
     {
          //
     } 
```

和

```
void dataGridView1_EditingControlShowing(object sender, DataGridViewEditingControlShowingEventArgs e)
{
     Control ctl = e.Control;
     DataGridViewTextBoxEditingControl dText = (DataGridViewTextBoxEditingControl)ctl;
     if (dText!= null)
     {
          //
     } 
```

DataGridViewTextBoxEditingControl 代替 TextBox 有什么优势？

帮我..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:17:22.617

`DataGridViewTextBoxEditingControl`派生自`TextBox`并具有与`DataGridView`行为相关的一些属性。

直接来自[MSDN 文档](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewtextboxeditingcontrol.aspx)：

*DataGridViewTextBoxEditingControl 类是一种特殊类型的 TextBox 控件，它实现了 IDataGridViewEditingControl 接口，允许在单元格处于编辑模式时将其托管在 DataGridViewTextBoxCell 中。*

*处理 EditingControlShowing 事件以在单元格进入编辑模式时执行编辑控件的自定义初始化。若要自定义控件的显示特性，请设置由 DataGridViewEditingControlShowingEventArgs.CellStyle 属性返回的对象的属性，而不是设置由 DataGridViewEditingControlShowingEventArgs.Control 属性返回的控件的属性。*

# c# - 使用两个或更多动态枚举生成 DLL

> ID：16009572
> 
> 赞同：0
> 
> 时间：2013-04-15T07:12:47.727
> 
> 标签：c#, dynamic, enums

我遵循了这个问答：[C# 中的动态枚举](https://stackoverflow.com/questions/725043/dynamic-enum-in-c-sharp) ，它运行良好，最好的答案是来自这篇[msdn 文章的代码：EnumBuilder 类](http://msdn.microsoft.com/en-us/library/system.reflection.emit.enumbuilder.aspx)

此动态枚举代码生成适用于 DLL 中的一个枚举。问题是当我尝试添加第二个枚举时它不起作用，我只能从引用的 DLL 访问第一个枚举“海拔”。

**如何将两个或更多枚举添加到 DLL？**

```
class Example
{
    public static void Main()
    {
        // Get the current application domain for the current thread.
        AppDomain currentDomain = AppDomain.CurrentDomain;

        // Create a dynamic assembly in the current application domain,  
        // and allow it to be executed and saved to disk.
        AssemblyName aName = new AssemblyName("TempAssembly");
        AssemblyBuilder ab = currentDomain.DefineDynamicAssembly(
            aName, AssemblyBuilderAccess.RunAndSave);

        // Define a dynamic module in "TempAssembly" assembly. For a single-
        // module assembly, the module has the same name as the assembly.
        ModuleBuilder mb = ab.DefineDynamicModule(aName.Name, aName.Name + ".dll");

        // Define a public enumeration with the name "Elevation" and an 
        // underlying type of Integer.
        EnumBuilder eb = mb.DefineEnum("Elevation", TypeAttributes.Public, typeof(int));

        // Define two members, "High" and "Low".
        eb.DefineLiteral("Low", 0);
        eb.DefineLiteral("High", 1);

        // Create the type and save the assembly.
        Type finished = eb.CreateType();

        //-------------------------------------
        //HERE IS THE CODE TO CREATE A 2ND ENUM
        //-------------------------------------
        EnumBuilder eb1 = mb.DefineEnum("SecondEnum", TypeAttributes.Public, typeof(int));
        eb1.DefineLiteral("Bad", 0);
        eb1.DefineLiteral("Good", 1);
        Type SecondEnum = eb1.CreateType();

        ab.Save(aName.Name + ".dll");
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:45:44.953

工作中发生了一些奇怪的事情，因为我可以在家里做。Ref TempAssembly 在另一个项目中，我可以访问`SecondEnum`：

```
using ProjectName;
...
private void button1_Click(object sender, EventArgs e)
{
    MessageBox.Show(SecondEnum.Good.ToString());
} 
```

**更新：**

结果我添加了两个值（数字），而不是键和值。

```
SecondEnum.DefineLiteral("Must Be Alphanumeric", Convert.ToInt32(dr[0].ToString())); 
```

**更新 2：**

确保枚举不以空格开头！

# javascript - 将新文本字段附加到 jquery/javascript 中的各种 div

> ID：16009574
> 
> 赞同：0
> 
> 时间：2013-04-15T07:12:57.560
> 
> 标签：javascript, jquery

我在使用 javascript/jquery 时遇到了一些问题。我目前的情况如下
我有多个带有文本字段的 div。假设我正在使用 php 循环在每个 div 中最初显示 2 个输入字段

```
<div id="somediv100">
  <input type="text" id="name_100_1">
  <input type="text" id="name_100_2">
</div>
<input type="button" onclick="addnew(100)" />
<div id="somediv101">
   <input type="text" id="name_101_1">
   <input type="text" id="name_101_2">
</div>
<input type="button" onclick="addnew(101)" /> 
```

现在我想让用户在单击相应 div 的 addnew 按钮时在相应 div 中添加文本字段。
我的主要意图是继续计算在最初的两个字段之后添加了多少字段。我该怎么办？
PS 100,101,1,2 等所有值都是由 php 脚本通过循环生成的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:26:53.727

使所有的 div 和 textbox 动态地表示

```
 <javascript>
$(document).ready(function(){
for(i=1;<=(how many div you want);i++)
{
<div id=i>
for(j=1;j<=2;j++)
{
<input type='text' id=i+j>
}
</div>
}

});
</javascript> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:24:55.427

尝试这个

```
<script type="text/javascript">

function fnc()
{
    el=document.createElement('div');

    //el.innerHTML="<input type='textbox' name='hid"+(i+1)+"'/>";
    el.innerHTML="<input type='textbox'  />";
    document.getElementById("adiv").appendChild(el);

}
</script>
<form action="CreateDynamicDiv.asp" method="post">
<div id="adiv">
qwerty
</div>
<input type="button" value="click me" onclick="fnc();">

</form> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:17:05.790

记录 php 在隐藏字段中添加的字段总数，比如说 100。现在，当您点击添加按钮时，使用该隐藏字段计数并为您添加的每个新字段添加 +1。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:37:14.177

[http://jsbin.com/umuvus/1/edit](http://jsbin.com/umuvus/1/edit)

基本上，对于给定的 div：

```
div.data("addedCount"); 
```

记录您添加的输入字段

```
div.data("addedCount", div.data("addedCount") + 1); 
```

计数的增量

```
$("div").data("addedCount", 0); 
```

初始化计数

此外，如果您确定所有 div 的初始输入元素的数量将相同：

```
div.children("input").length - initialAmount 
```

# css - 将按钮放在div的右侧

> ID：16009578
> 
> 赞同：1
> 
> 时间：2013-04-15T07:13:09.113
> 
> 标签：css

我有一个 div 和一个按钮，我想把它们放在一起。问题是，不管我做什么，我的按钮都在下一行。

小提琴：http: [//jsfiddle.net/xhEG6/](http://jsfiddle.net/xhEG6/)

```
<div id="askQuestionOverDiv" "><h1>Text</h1></div>     

<input type="button" id="Text" style="float:right;" value="Text" />

#askQuestionOverDiv {

     height:40px; 

width: 70%;   
     text-align:center;
     border-radius:15px;
      background: #141414;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAxCAIAAACUDVRzAAAAA3NCSVQICAjb4U/gAAAALElEQVQImWMwMrJi+v//PxMDw3+m//8ZoPR/qBgDEhuXGLoeYswhXg8R5gAAdVpfoJ3dB5oAAAAASUVORK5CYII=) 100% 100%;
    background: -moz-linear-gradient(top, #32323a 0%, #141414 100%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #32323a), color-stop(100%, #141414));
    background: -webkit-linear-gradient(top, #32323a 0%, #141414 100%);
    background: -o-linear-gradient(top, #32323a 0%, #141414 100%);
    background: -ms-linear-gradient(top, #32323a 0%, #141414 100%);
    background: linear-gradient(to bottom, #32323a 0%, #141414 100%);

}

  #askQuestionOverDiv h1 {

        color:white;

    }

        #askQuestionOverDiv h1:hover {

       text-decoration:underline;
       cursor:pointer;

    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:15:54.343

**像**这样**从上到下**改变你的html

```
<input type="button" id="Text" style="float:right;" value="Text" />

<div id="askQuestionOverDiv" "><h1>Text</h1></div> 
```

**[现场演示](http://jsfiddle.net/xhEG6/1/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:16:56.240

您可以使用***display:inline-block***。并且也可以试试***float***属性。

# ios - 使用 instantiateViewControllerWithIdentifier 将变量传递给另一个视图控制器

> ID：16009581
> 
> 赞同：1
> 
> 时间：2013-04-15T07:13:23.507
> 
> 标签：ios, objective-c, properties, storyboard

**.m 文件，我试图从中设置`message`变量：**

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    SingleMessageViewController* vc = (SingleMessageViewController*)[self.storyboard instantiateViewControllerWithIdentifier:@"SingleMessageViewController"];
    vc.message = [tableView cellForRowAtIndexPath:indexPath].textLabel.text;
    [self.navigationController pushViewController:vc animated:true];
    [tableView deselectRowAtIndexPath:indexPath animated:YES];
} 
```

**我正在实例化的视图控制器的 .h 文件：**

```
@interface SingleMessageViewController : POSCommonViewController
{
    NSString *message;
}

@property (nonatomic, retain) NSString *message;
@end 
```

**我正在实例化的视图控制器的 .m 文件（`viewDidLoad`仅限方法）：**

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    NSLog(@"%@", self.message);
} 
```

`NSLog`在引用的最后一个文件中返回 nil（查看加载没有任何问题）。我尝试过更改属性等 - 对我没有任何帮助。这里可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:35:44.660

所选单元格的`textLabel`属性可以为 nil。使用中间字符串变量来获取单元格的文本，然后将消息设置为此。当您在调试器中单步执行第一个方法时，将更容易看到消息。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-15T07:23:40.560

不，它不起作用。您正在第一个控制器内创建控制器的对象并为该特定对象设置属性。那么如何在新的控制器对象中访问它呢？为此，您可以使用以下方法：

1.您可以覆盖第二个视图控制器中的init方法`initWithMessage:(NSString *)message`

2.您可以在appDelegate类中添加属性。这将通过应用程序共享。

3.但如果你想在课程中分享任何东西，最好的方法是创建一个单例课程。

# java - 在 iis 上运行 java webapp

> ID：16009583
> 
> 赞同：0
> 
> 时间：2013-04-15T07:13:26.433
> 
> 标签：java, iis

这是我要发布的第一个问题

问题:: 我正在使用 helicon zoo 在 iis 服务器上运行 java webapp（使用此作为参考::[在 IIS 上运行 java servlet](http://www.helicontech.com/articles/deploying-java-servlet-applications-on-windows-with-iis/)），但我面临一些问题

我把我的应用程序目录`c:/inetpub/wwwroot/myapp`（它包括 web-inf）然后`web.config`在里面我`web.config`看起来像::

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <heliconZoo>
      <application name="jetty.project" >
        <environmentVariables>
          <add name="CONTEXT_PATH" value="%APPL_VIRTUAL_PATH%" />
          <add name="WAR_EXTRACT_PATH" value="%APPL_PHYSICAL_PATH%" />
          <add name="WAR_FILE" value="%APPL_PHYSICAL_PATH%" />
        </environmentVariables>
      </application>
    </heliconZoo>
    <handlers>
      <add name="jetty.project#x86" scriptProcessor="java.jetty"  path="*" verb="*" modules="HeliconZoo_x86" preCondition="bitness32" resourceType="Unspecified" requireAccess="Script" />
      <add name="jetty.project#x64" scriptProcessor="java.jetty"  path="*" verb="*" modules="HeliconZoo_x64" preCondition="bitness64" resourceType="Unspecified" requireAccess="Script" />
    </handlers>
  </system.webServer>
</configuration> 
```

并且 iis 显示以下错误::

```
HTTP Error 500.21 - Internal Server Error
Handler "jetty.project#x64" has a bad module "HeliconZoo_x64" in its module list 
```

谁能帮我..

哦，我安装了视觉工作室的另一件事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-27T07:09:41.190

问题出在 web.config 文件中。为war文件提供正确的路径解决了这个问题。

对于 HTTP 错误 500.21 - 内部服务器错误处理程序“jetty.project#x64”在其模块列表中有一个错误模块“HeliconZoo_x64”

这个错误重新安装了网络安装程序

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:31:20.697

尝试更改 requiredAccess 字段以执行并确保 .war 文件存在于那里..

# mysql - 我的 SELECT 语句中的 SQL 语法错误

> ID：16009584
> 
> 赞同：3
> 
> 时间：2013-04-15T07:13:27.440
> 
> 标签：mysql, sql

有人可以帮我弄清楚我在 SELECT 语句中做错了什么吗？

```
SELECT *
FROM group
WHERE login = 'admin' 
```

我的错误是：

> 在第 1 行的 'group WHERE login = 'admin'' 附近使用正确的语法

它应该会失败，但是因为管理员不在数据库中，但是当我插入数据库中的数据时，它仍然会失败。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T07:14:05.153

`GROUP`是保留关键字。您需要使用 back 对其进行转义以避免语法错误。

```
SELECT * FROM `group` WHERE login = '$username' 
```

*   [MySQL 保留关键字列表](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)

如果您有权更改表名，请将其更改为不是保留关键字，以避免将来再次出现语法错误。`:D`

* * *

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T07:14:18.483

`GROUP`是mysql`reserverd keyword`所以可以用，放在backstick中间

```
`group` 
```

文档[在这里](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html)

# outlook - Magento：事务性电子邮件的设计在前景中分散注意力

> ID：16009585
> 
> 赞同：0
> 
> 时间：2013-04-15T07:13:29.610
> 
> 标签：outlook, transactional

我创建了一封交易电子邮件。它的设计在 Outlook Express 中变得分散注意力。任何人都可以建议出了什么问题吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T19:11:37.383

我们实际上只是在我们的博客上介绍了更高级别的渲染问题：http: [//blog.jangomail.com/2013/04/email-rendering.html](http://blog.jangomail.com/2013/04/email-rendering.html)。

Outlook 可能会因电子邮件呈现问题而让您发疯。从您的表格开始，并确保每个表格和列都有宽度。确保您的所有图像也具有设定的宽度和高度。尽可能避免使用 CSS 会有所帮助。其他可以尝试的东西 - 用简单的 HTML 替换浮动、div、背景图像、填充和边距。有时您甚至需要将单词之间的空格替换为单词是否挤在一起。您也可以尝试用 替换新段落`<br />`。如果您的空白显示效果不佳，请尝试制作具有设定宽度和高度的白色图像并将其放入电子邮件中。

此外，检查您的所有 HTML 并确保您没有丢失任何结束标记并修复任何 HTML 错误。

希望这可以帮助。祝你好运！

梅丽莎

营销总监 JangoMail.com

# wordpress - next_post_link previous_post_link 在没有下一个帖子时不禁用，而是循环帖子

> ID：16009588
> 
> 赞同：0
> 
> 时间：2013-04-15T07:13:50.477
> 
> 标签：wordpress, navigation

```
if(get_adjacent_post(false, '', true)) { 
     previous_post_link('%link','<img src="larr.gif"/>'); 
 }
 else { 
     echo '<img src="larr2.gif"/>'; 
 }; 

 if(get_adjacent_post(false, '', false)) { 
     next_post_link('%link','<img src="rarr.gif"/>'); 
 }
 else { 
     echo '<img src="rarr2.gif">'; 
 }; 
```

如果没有下一篇文章，我发现此代码用于显示图像。但是如果我喜欢循环播放它，我的意思是如果没有上一篇或下一篇文章，只是在第一次或结尾循环，所以不会缺少导航按钮？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-11T21:43:38.217

我只是在研究一个类似的问题。我只是将下一个和上一个相邻的帖子条件组合成一个 if 语句......这意味着如果下一个相邻的帖子或上一个相邻的帖子存在，那么做一些事情：

```
if ( (get_adjacent_post(false, '', true)) ||  (get_adjacent_post(false, '', false)) ) {
    // Do something if either previous or next post exists
    // You could even nest your original conditionals inside here
} else {
    // If neither exists, then do something different
} 
```

我知道这已经晚了，但希望它可以帮助某人！

# android - 在不单击按钮的情况下关闭 AlertDialog

> ID：16009592
> 
> 赞同：3
> 
> 时间：2013-04-15T07:14:03.473
> 
> 标签：android, android-alertdialog

我想关闭 AlertDialog 窗口，但不是在单击“确定”或“取消”按钮时，而是在调用操作时。事实上，我想以这种方式在 onResume 函数中创建对话框：

```
@Override
public void onResume() {
    super.onResume();
    alert = new AlertDialog.Builder(this);
    alert.setTitle("Stay stuck to a tag");
    alert.create().show();
} 
```

然后在调用函数时退出它，例如

```
private void dismissMyDiag() {
    alert.dismiss();
} 
```

当然，我已经看到了通过 onclick 事件执行此操作的方法，这不是我想要做的。有可能做这样的事情吗？如果没有，什么对话框之王允许我这样做？

谢谢 ！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T07:30:49.073

像这样获取alertDialog

```
AlertDialog dialog;
 alert = new AlertDialog.Builder(this);

dialog=alert.create().show(); 
```

然后打电话

```
private void dismissMyDiag() {
    dialog.dismiss();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:30:53.447

试试这种方式：

```
final AlertDialog d = new AlertDialog.Builder(context)
                .setView(v)
                .setTitle(R.string.my_title)
                .setPositiveButton(android.R.string.ok,
                        new Dialog.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface d, int which) {
                                //Do nothing here. We override the onclick
                            }
                        })
                .setNegativeButton(android.R.string.cancel, null)
                .create();

        d.setOnShowListener(new DialogInterface.OnShowListener() {

            @Override
            public void onShow(DialogInterface dialog) {

                Button b = d.getButton(AlertDialog.BUTTON_POSITIVE);
                b.setOnClickListener(new View.OnClickListener() {

                    @Override
                    public void onClick(View view) {
                        // TODO Do something

                        //Dismiss once everything is OK.
                        d.dismiss();
                    }
                });
            }
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-30T06:25:36.650

我知道这是个老问题，但可能希望这会对某人有所帮助。您还可以为警报对话框创建自定义类并访问它洞项目可以显示和隐藏任何地方

```
package (Your_Pakage_Name);
import android.app.AlertDialog;
import android.app.Dialog;
import android.content.DialogInterface;
import android.os.Bundle;
import androidx.appcompat.app.AppCompatDialogFragment;

public class AlertDailogbox extends AppCompatDialogFragment {

    String Title = null;
    String Msg = null;
    String TAG = "Alert Dialog Box";

    public AlertDailogbox(String title, String msg) {
        Title = title;
        Msg = msg;

    }

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {

        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
        builder.setTitle(Title)
                .setMessage(Msg)
                .setIcon(R.drawable.ic_alert) //set icon if you want
                .setPositiveButton("Ok", new DialogInterface.OnClickListener() {
                    @Override
                    public void onClick(DialogInterface dialogInterface, int i) {

                    }
                });

        return builder.create();
    }
} 
```

调用您的项目（活动）制作 alertDialog 类的全局变量

```
private AlertDailogbox alertDailogbox; 
```

显示对话框的功能

```
private void showMsgDailog(String Title,String Msg){
    alertDailogbox = new AlertDailogbox(Title,Msg);
    alertDailogbox.setCancelable(false);
    alertDailogbox.show(getSupportFragmentManager(),"alert Dailog");
} 
```

结束解雇

```
if(alertDailogbox != null)
       alertDailogbox.dismiss(); 
```

alerDailogeBox 不为空 检查是否必要 其他明智的应用程序可能会崩溃

# windows-8 - 在构建期间未复制引用库的 XAML 文件

> ID：16009595
> 
> 赞同：0
> 
> 时间：2013-04-15T07:14:06.760
> 
> 标签：windows-8, windows-store-apps, winrt-xaml

Windows 应用商店应用不再将 xaml 文件编译到程序集中，而是将它们复制到调试/发布文件夹（生成操作：页面）。为了能够引用 xaml 文件，例如。在 ResourceDictionary 中，您必须使用 ms-appx 语法：

```
<ResourceDictionary.MergedDictionaries>
  <ResourceDictionary Source="ms-appx:///{assemblyname}/{folder}/{xamlfile}.xaml" />
</ResourceDictionary.MergedDictionaries> 
```

使用 XAML 文件引用另一个程序集时，您应该有一个与该程序集同名的文件夹：

```
/referencefolder/some.assembly.dll
/referencefolder/some.assembly/subfolder/xamlfile 
```

我之前在几个项目中使用过这个没有问题，但是在我的上一个项目中我无法让它工作。出于某种奇怪的原因，引用程序集中的 xaml 文件不会被复制到调试/发布文件夹中。由于文件没有被复制，很明显我在资源字典合并时遇到了错误。

添加 Callisto nuget 包（还包含一个 Themes.xaml 文件）后，3 个个人程序集文件夹中有 2 个被复制过来。删除调试文件夹并重建让我回到第 1 步：没有文件被复制（甚至没有来自 Callisto 的文件）。

由于它只是对本地可用程序集的引用，我不知道哪里出错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T15:01:39.390

WinRT 中的项目引用存在错误。基本上，如果您通过 DLL 添加引用，则该项目的输出文件夹层次结构是错误的。如果您将整个项目添加到您的解决方案中，则不应出现此错误。

我认为它已在上周发布的 Visual Studio 2012 **Update 2中得到修复。**

你的视觉工作室是最新的吗？

如果是，并且您要使用的是 callisto，请不要使用 nuget 包，并下载完整的项目源代码，然后将此项目添加到您的解决方案中。那应该行得通。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T14:35:15.040

这可能是一个长镜头，但是如果您在对该项目的引用上“应对本地”会发生什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-24T14:24:05.773

由于该项目与某些引用项目之间的 nuget 包版本不同，似乎出现了问题。

另一个提示：如果您将所有内容卸载到其他程序集，因此在您的 Windows 应用商店客户端应用程序中没有 xaml 文件（甚至没有在项目创建时添加的常见样式），我已经看到类似的问题出现了。添加一个空的虚拟页面就足以让事情重新开始。

# c# - 使用 simple.data 将插入列添加到当前值

> ID：16009596
> 
> 赞同：1
> 
> 时间：2013-04-15T07:14:08.853
> 
> 标签：c#, .net, upsert, simple.data

尝试使用 simple.data 进行更新插入，如果匹配，我想添加到当前值，否则只使用提供的值。

如果 Id=13 不存在，则会失败。

```
var table = db.TheTable2;
table.UpsertById(Id: 13, Value: table.Value + 10); // Want a row ID=13, Value=10 if not exist, otherwise Value=Value+10. 
```

这是有效的，因为存在 Id=13

```
var table = db.TheTable2;
table.UpsertById(Id: 13, Value: 10);
table.UpsertById(Id: 13, Value: table.Value + 10); 
```

怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:30:05.233

目前不支持。[您可以在https://github.com/markrendle/Simple.Data/issues](https://github.com/markrendle/Simple.Data/issues)打开一个问题来请求该功能。

# jquery - 使用 JQuery“removeAttr”查找类属性

> ID：16009604
> 
> 赞同：0
> 
> 时间：2013-04-15T07:14:35.773
> 
> 标签：jquery, css, jquery-1.9

我想使用 Jquery 从类中删除 text-align 属性

例如：

CSS

```
.main{ text-align:left; padding:10px;} 
```

HTML。

```
<h2 id="abc" class="main">
 <div id="xyz"></div>
</h2> 
```

使用`xyz`id，如何删除 text-align 属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:16:54.177

尝试这个

```
$("#xyz").parent().css({'text-align': "initial"}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:16:28.150

没有样式，`#xyz`所以你必须得到第`parent`一个：

```
$("#xyz").parent().css('padding', 0); 
```

如果你想删除整个类，你可以使用`removeClass`：

```
$("#xyz").parent().removeClass("main"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T07:38:41.753

这个对我有用：

```
var ix=$("#xyz").closest('h2').attr("id")
$("#"+ix+".main").css('text-align', "initial"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:29:01.517

`text-align`样式规则不是通过 html 属性给出的。它是通过 css 规则设置的。

如果你想改变 的样式`#xyz`，最简单的方法是在你的 css 样式表中添加一条规则：

```
.main{ text-align:left;padding:10px;}
#xyz {text-align: right} 
```

或使用额外的课程（如果您需要将其应用于多个项目）：

```
.main{ text-align:left;padding:10px;}
.right-aligned {text-align: right} 
```

使用 jQuery，您可以添加一个`style`带有另一个`text-align`规则的属性，该规则将覆盖 css 规则：

```
$('#xyz').css('text-align', 'right'); 
```

# networking - 更换网卡后Redhat中网卡的Identity发生变化

> ID：16009605
> 
> 赞同：0
> 
> 时间：2013-04-15T07:14:37.383
> 
> 标签：networking, ip, redhat, nic

--

大家好你们好。

我的服务器运行 Redhat Enterprise linux 6.3。我通过修改配置文件为我的机器配置了一个稳定的 IP 地址`/etc/sysconfig/network-scripts/ifcfg-eth0`。

我们可以看到网卡的身份是“eth0”。我们有 4 个 NIC，所以它们是 eth0、eth1、eth2、eth3。

由于某些原因，我用新的 NIC 替换了这些 NIC。问题来了。

重启系统后，网卡的身份自动变为eth4、eth5、eth6、eth7。以及稳定IP地址名称的配置文件“ *** -eth0”。所以它现在不能自动使用配置文件。

如何将它们改回 eth0、eth1、eth2、eth3？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:37:09.277

我通过修改“/etc/udev/rules.d/zNN_persistent-net.rules”解决了这个问题。

# netbeans - Java EE 和 glassfish 服务器的 Java 消息服务问题

> ID：16009606
> 
> 赞同：0
> 
> 时间：2013-04-15T07:14:44.327
> 
> 标签：netbeans, jms, java-ee-6, glassfish-3

我是 Java 消息服务的新手，并不能完全确定它是如何工作的。我在 NetBeans 中将 JMS 与 Java EE 项目一起使用。我使用的服务器类型是 glassfish 3。这是我的情况：

我有一个创建两个线程 A 和 B 的程序。这两个线程通过我创建的两个队列服务器资源在彼此之间发送消息。下面是一系列假定在 A 和 B 之间传回和第四次传递的消息。

假设会发生什么：

```
1\.  A is started
2\.  B is started
3\.  A sends B a message, M1 ( producer.send(m1) )
4\.  B receives M1 and does some stuff ( consumer.receive() )
5\.  B sends A a message, M2
6\.  A receives M2 and does some stuff
7\.  A sends B a message, M3
8\.  B receives M3 and does some stuff 
```

实际发生的情况：

```
1\.  A is started
2\.  B is started
3\.  B receives M3 and does some stuff ( consumer.receive() ) 
```

自从我在所有正在发送的消息之间的某个地方执行了 session.commit() 之后，这种情况就开始出现了。这几乎就像我将队列的状态提交给某个文件或服务器，现在每次我运行我的程序时，它都会从那个保存的状态初始化队列。

我首先添加提交的原因是因为我的一条消息 M2 没有被线程 A 接收。线程 B 到达了它的代码部分，它通过 producer.send(M2 将 M2 发送到线程 A )（其中 producer 是 MessageProducer 对象）。线程 A 只会挂在 consumer.receive() 上（其中 consumer 是 MessageConsumer 对象）。我仔细检查了是否将 M2 发送到正确的队列资源。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T23:38:36.390

我终于弄明白了。事实证明，每次线程 B 发送消息时，我都需要 session.commit()。此外，我的代码中存在错误并导致程序过早结束，这意味着仍有未收到的消息，这些消息将延续到下一次运行时。我最终解决这个问题的方法只是在 consumer.receive(100) 周围循环，直到它在启动我的线程之前返回一个空值。

# hadoop - 在 Hive 中将多列中的列合并为一列

> ID：16009608
> 
> 赞同：5
> 
> 时间：2013-04-15T07:15:03.797
> 
> 标签：hadoop, hive

有没有办法为 Apache Hive 中的 explode() 函数做一些相反的事情。假设我有一张这种形式的桌子`id int, description string, url string, ...`

从这个表中我想创建一个表，它看起来像`id int, json string`在`json`列中将所有其他列存储为 json 的位置。`"description":"blah blah", "url":"http:", ...`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T16:39:00.560

Hive has access to some [string operations](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-StringFunctions) which can be used to combine multiple columns into one column

```
SELECT id, CONCAT(CONCAT("(", CONCAT_WS(", ", description, url)), ")") as descriptionAndUrl 
FROM originalTable 
```

This is obviously going to get complicated fast for combining many columns into valid JSON. If this is one-of and you know that all of the JSON strings will have the same properties you might get away with just CONCAT for your purposes.

The "right" way to do it would be to write a [User Defined Function](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF) which takes a list of columns and spits out a JSON string. This will be much more maintainable if you ever need to add columns or do the same thing to other tables.

It's likely someone has already written one you can use, so you should look around. Unfortunately the [JSON related UDFs provided by Hive][https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-get_json_object](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-get_json_object)) work from JSON strings, they don't make them.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-16T07:49:50.770

您可以在 HIve 中使用 CONCAT_WS 连接字符串变量

从表中选择 CONCAT_WS('-','string1','string2','string3')

# android - 如何在 ListActivity 中保持所选项目突出显示

> ID：16009609
> 
> 赞同：2
> 
> 时间：2013-04-15T07:15:06.853
> 
> 标签：android, highlight, listactivity

我创建了一个派生自 ListActivity 类的 RecordActivity 类，并为 .xml 中定义的 ListView 设置选择模式和选择器。默认行为是仅当我按下所选项目时才会突出显示。我想保持选定的项目突出显示。我试图覆盖 ArrayAdapter 的 getView 方法，但是它不起作用。任何帮助将不胜感激。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:orientation="vertical" >

   <ListView  android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"/>     
</LinearLayout>

public class RecordsActivity extends ListActivity {
   @Override
   public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.records);

      List<Record> values = getAllRecords();
      // Use the SimpleCursorAdapter to show the
      // elements in a ListView
      adapter = new ArrayAdapter<Record>(this, android.R.layout.simple_list_item_1, 
                                                            values);
      setListAdapter(adapter);    
      getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);
      getListView().setSelector(android.R.color.holo_red_dark);
   }

   @Override
   protected void onListItemClick(ListView l, View v, int position, long id) {
      selectedItem = position;
      v.setSelected(true);      
   }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:24:02.517

尝试使用`simple_list_item_activated_1`

```
adapter = new ArrayAdapter<Record>(this, android.R.layout.simple_list_item_activated_1, 
                                                        values); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:49:18.050

```
 private int selectedValue;
    private View row;

  ListView.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                long arg3) {
            // TODO Auto-generated method stub
            selectedValue=arg2;
            if(row!=null)
            {
                                row.setBackgroundResource(R.drawable.group_item_normal);
            }
            row=arg1;
        arg1.setBackgroundResource(R.drawable.group_item_pressed);

        }
    }); 
```

**在 getView() 中执行：-** v 是 getView() 返回的对象

```
 if(selectedValue==position)
        {
            v.setBackgroundResource(R.drawable.group_item_pressed);

        }
        else{
            v.setBackgroundResource(R.drawable.group_item_normal);

        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:28:58.787

试试这个，在蜂窝或更高版本上，所选项目将保持突出显示。由于 android.R.layout.simple_list_item_activated_1 仅适用于蜂窝或更高版本，您应该添加这样的布局以支持旧平台。

```
int layout = Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB ? android.R.layout.simple_list_item_activated_1
                : android.R.layout.simple_list_item_1;

adapter = new ArrayAdapter<Record>(this, layout, values); 
```

# string - 如何使用python从字符串中只获取单词

> ID：16009614
> 
> 赞同：4
> 
> 时间：2013-04-15T07:15:33.643
> 
> 标签：string, python-2.7

我有一个包含特殊字符的文件，所以我使用文件操作来读取。

```
f=open('st.txt','r')
string=f.read() 
```

示例字符串是

```
"Free Quote!\n          \n          Protecting your family is the best investment you\'ll eve=\nr \n" 
```

现在我想删除所有特殊字符并只从字符串中获取单词。这样我的字符串将是：

```
"Free Quote Protecting your family is the best investment you'll ever" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T06:26:56.283

可能最简单的方法是针对`string.ascii_letters`加上特定的额外字符子集（例如，`'-`）进行简单的循环测试：

```
>>> import string
>>> text = "Free Quote!\n \n Protecting your family is the best investment you\'ll eve=\nr \n"
>>> ''.join([x for x in text if x in string.ascii_letters + '\'- '])
"Free Quote  Protecting your family is the best investment you'll ever " 
```

当您编辑更长和更复杂的文本时，排除特定的标点符号变得不那么可持续，并且您需要使用更复杂的正则表达式（例如，什么时候是`'`撇号或引号？），但对于上述问题的范围, 这应该足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:33:14.117

我找到了 3 个解决方案，但都接近但不完全是您想要的。

```
import re
in_string = "Free Quote!\n \n Protecting your family is the best investment you\'ll eve=\nr \n"

#variant 1
#Free Quote Protecting your family is the best investment youll eve r 
out_string = ""
array = "Free Quote!\n \n Protecting your family is the best investment you\'ll eve=\nr \n".split( )
for word in array:
    out_string += re.sub(r'[\W]', '', word) + " "
print(out_string)

#variant 2
#Free Quote Protecting your family is the best investment you ll eve r
print(" ".join(re.findall("[a-zA-Z]+", in_string)))

#variant 3
#FreeQuoteProtectingyourfamilyisthebestinvestmentyoullever
print(re.sub(r'[\W]', '', in_string)) 
```

# cocos2d-iphone - 花栗鼠 vs box2d

> ID：16009622
> 
> 赞同：2
> 
> 时间：2013-04-15T07:15:59.707
> 
> 标签：cocos2d-iphone, box2d, physics, chipmunk

我正在为 iOS 开发一个平台游戏，并正在寻找结合物理的最佳方式。物理学只需要非常基础。但最重要的是检测敌人和玩家之间的碰撞，以及真实的跑步（逐渐加速和减速而不是特定速度）。

我用 Cocos2D 开始这个项目，以便于合并图形，然后再添加效果。

我知道 Cocos2D 包含在 Box2D 和 Chipmunk 中，但我也看到 Cocos2D 一开始就有基本的碰撞。我计划使用精灵表，但在某些时候可能需要掉落物体。

总而言之，我只是想就此事发表一些意见。我应该还是不应该添加 Box2D/Chipmunk 来为我工作。如果是这样，两者中哪个更好？或者，在我看来，既然我的物理不会很复杂，那么使用 Cocos2D 基本碰撞检测？

# google-maps - Google 地图之类的 API 网络地图控件可用吗？

> ID：16009626
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:01.483
> 
> 标签：google-maps, google-maps-api-3

是否有一个库可以模仿在面向客户的地图应用程序上看到的地图控件，如屏幕截图所示？我想为使用 Maps API v3 的应用程序添加类似的东西来添加我的自定义菜单条目/操作。

我知道它不能从 API 中直接使用，而且我知道可以创建自定义控件以将它们添加到地图中。但也许已经有一个库/脚本将其实现为我无法找到的自定义控件，并且可以使用它而不是从头开始编写它。

![控制](https://i.imgur.com/RLLsofZ.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T15:33:54.180

答案是“不”——但这太短了。所以我必须多输入一点，这样就不会成为评论。

您可以随时查看[Google Maps API 3 实用程序库](https://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries)中未包含在主 API 中的选项。

# generics - 使用 CreateInstance 创建通用类对象

> ID：16009627
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:05.003
> 
> 标签：generics, activator, createinstance

我有以下代码示例

```
public interface ITest
{
    string abc { get; set; }
}

public class GenericController<T> :  Controller  where T : class, ITest, new()
{
    public string abc { get; set; }

    public ActionResult Index()
    {
        ViewBag.Message = "Welcome to ASP.NET MVC!";

        return View();
    }
} 
```

现在尝试使用以下代码创建对象给了我错误-

```
Type typeObject = typeof(Employee);
Type object1 = typeof(GenericController<>).MakeGenericType(typeObject);
controller = (IController)Activator.CreateInstance(object1); 
```

给出的错误是

> GenericArguments[0], 'MvcApplication2.Controllers.Employee', on 'MvcApplication2.Controllers.GenericController`1[T]' 违反了类型 'T' 的约束。

从 GenericController 类中删除 ITest 接口可以正常工作。我需要该接口，因此将控制器对象类型转换为接口我可以设置新创建对象的一些属性。

如何解决这个问题。

-拉杰什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T20:44:27.077

你确定你的`Employee`工具`ITest`？？如果它在没有`ITest`GenericController 的情况下工作并且它说`violates constraint`，那么，结论是你正在传递一个没有实现的类型`ITest`。

# c# - 如何在数据表中找到列的最大值？

> ID：16009628
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:06.457
> 
> 标签：c#, datatable, dataset, type-conversion

我正在尝试在数据表中查找列的最大值。下面是我的代码

```
var maxVal = dsloadReferralCodes.Tables["dtReferralCodesTable"].AsEnumerable().Max(r =>  Convert.ToBoolean(int.TryParse(r.Field<string>("ROWNUM"), out intROWNUM)) ? (int?)intROWNUM : null); 
```

在 id 下面是我在尝试获取最大值并将其分配给 intROWNUM 时遇到的错误

> 无法将“System.Decimal”类型的对象转换为“System.String”类型

有人可以帮我解决这个问题。这一直困扰着我很久。提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:19:42.880

您的字段`ROWNUM`是十进制类型，您正在尝试将其转换为字符串，这就是您收到错误的原因。

它应该是：

`r.Field<decimal>("ROWNUM").ToString()`

不太确定为什么要转换为布尔值并再次将 int 解析为 int。

您的查询应该是：

```
var maxVal = dsloadReferralCodes.Tables["dtReferralCodesTable"]
                    .AsEnumerable()
                    .Max(r => r.Field<decimal>("ROWNUM")); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:23:57.030

[您可以使用DataTable.Select()](http://msdn.microsoft.com/en-us/library/system.data.datatable.select.aspx)以简单的方式获得它：

```
DataRow [] dr = dsloadReferralCodes.Tables["dtReferralCodesTable"].Select("ROWNUM= MAX(ROWNUM)");  

 if(dr !=null)
    {
     // Console.WriteLine(dr[0]["RowNum"]);
        int maxVal=Convert.ToInt32(dr[0]["RowNum"]);
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-21T14:22:49.780

关于什么：

```
maxVal = (decimal) dsloadReferralCodes.Tables["dtReferralCodesTable"].Compute( "Min(ROWNUM)", string.Empty ); 
```

（这不使用 LINQ，因此它也适用于 .net 2.0）

# c# - WPF：带有重置项的组合框

> ID：16009629
> 
> 赞同：13
> 
> 时间：2013-04-15T07:16:07.047
> 
> 标签：c#, .net, wpf, xaml, combobox

我想在 WPF 中创建一个`null`顶部有一个项目的 ComboBox，当它被选中时， SelectedItem 应该设置为 null （重置为默认状态）。我一直在搜索，但没有找到令人满意的解决方案。

如果可能的话，我希望它只使用 XAML 代码或附加行为来完成，因为我真的不喜欢在 ViewModel 中为 View 更改内容或覆盖标准控件。

这是我到目前为止提出的（缩短的代码）：

```
[...]
<Popup x:Name="PART_Popup" [...]>
    <Border x:Name="PopupBorder" [...]>
        <ScrollViewer x:Name="DropDownScrollViewer" [...]>
            <StackPanel [...]>
                <ComboBoxItem>(None)</ComboBoxItem>
                <ItemsPresenter x:Name="ItemsPresenter"/>
            </StackPanel>
        </ScrollViewer>
    </Border>
</Popup>
[...] 
```

![开放组合](https://i.stack.imgur.com/T5Fie.png)

我认为最好的方法是以某种方式添加一个事件触发器，将 设置为何`SelectedIndex`时`-1`选择项目，但这是我遇到的问题。

任何想法如何做到这一点？或者更好的方法，比如附加行为？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T08:21:48.163

考虑为“无”组合框项目实现[空对象模式](http://www.refactoring.com/catalog/introduceNullObject.html)并将此项目添加到您的项目列表中。然后实现自定义逻辑以在该类中保存空对象，或者仅检查所选项目是否为 NullItem 类型。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-11-15T23:33:49.827

对于类似的问题，我使用了以下解决方案。它利用绑定的 Converter 属性在内部表示（null 是一个合理的值）和我希望出现在 ComboBox 中的内容之间来回切换。我喜欢不需要在模型或视图模型中添加显式列表，但我不喜欢转换器中的字符串文字与 ComboBox 中的字符串文字之间的脆弱连接。

```
<ComboBox SelectedValue="{Binding MyProperty, Converter={x:Static Converters:MyPropertySelectionConverter.Instance}}" >
    <ComboBox.ItemsSource>
        <CompositeCollection>
            <sys:String>(none)</sys:String>
            <CollectionContainer Collection="{Binding Source={x:Static Somewhere}, Path=ListOfPossibleValuesForMyProperty}" />
        </CompositeCollection>
    </ComboBox.ItemsSource>
</ComboBox> 
```

然后转换器看起来像：

```
public class MyPropertySelectionConverter : IValueConverter
{
    public static MyPropertySelectionConverter Instance
    {
        get { return s_Instance; }
    }

    public const String NoneString = "(none)";

    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        Object retval = value as MyPropertyType;
        if (retval == null)
        {
            retval = NoneString;
        }
        return retval;
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        Object retval = null;
        if (value is MyPropertyType)
        {
            retval = value;
        }
        else if (String.Equals(NoneString, value as String, StringComparison.OrdinalIgnoreCase))
        {
            retval = null;
        }
        else
        {
            retval = DependencyProperty.UnsetValue;
        }
        return retval;
    }

    private static MyPropertySelectionConverter s_Instance = new MyPropertySelectionConverter();
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-15T09:19:01.720

如果您选择一个项目，则可以重置选择。

```
<ComboBox x:Name="cb">
    <ComboBox.Items>
        <ComboBoxItem Content="(None)">
            <ComboBoxItem.Triggers>
                <EventTrigger RoutedEvent="Selector.Selected">
                    <BeginStoryboard>
                        <Storyboard Storyboard.TargetName="cb" Storyboard.TargetProperty="SelectedItem">
                            <ObjectAnimationUsingKeyFrames Duration="0:0:0">
                                <DiscreteObjectKeyFrame Value="{x:Null}" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </BeginStoryboard>                               
                </EventTrigger>
            </ComboBoxItem.Triggers>
        </ComboBoxItem>
        <ComboBoxItem>First Item</ComboBoxItem>
        <ComboBoxItem>Second Item</ComboBoxItem>
    </ComboBox.Items>
</ComboBox> 
```

不幸的是，这不适`ItemsSource`用于[`CompositeCollection`](http://msdn.microsoft.com/en-us/library/system.windows.data.compositecollection.aspx)将此重置项目添加到任意列表中。原因是 WPF 无法解决`Storyboard.TargetName`此范围内的问题。但也许这可以帮助您继续重新模板化`ComboBox`.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-05-25T01:29:07.380

这是此问题的最终超级简单解决方案：

不要在 ItemsSource 中使用值为 null 的项目，而是使用 DbNull.Value 作为项目或项目的 value 属性。

就这样。你完成了。没有值转换器，没有代码隐藏，没有 xaml 触发器，没有包装器，没有控制后代......

它很简单！

这是一个绑定枚举值的简短示例，包括“空项”：

像这样创建您的 ItemsSource：

```
 var enumValues = new ArrayList(Enum.GetValues(typeof(MyEnum)));

   enumValues.Insert(0, DBNull.Value);

   return enumValues; 
```

将此绑定到 ComboBox 的 ItemsSource。

将 ComboBox 的 SelectedValue 绑定到具有 MyEnum 类型的任何属性？（即 Nullable<MyEnum>）。

完毕！

背景：这种方法之所以有效，是因为 DbNull.Value 与 C# null 值不同，而另一方面，该框架包含许多强制方法来在这两者之间进行转换。最终，这类似于提到的“空对象模式”，但不需要创建单独的空对象，也不需要任何值转换器。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-03-20T00:06:52.213

比这里的一些答案更详细一点，但不想在我的后面有任何代码或 ViewModel 更改。我将其写为 WPF 行为。当附加到 XAML 时，它将在视觉对象中注入一个按钮。它将默认值设置为 -1（或者您可以调整为其他默认值）。这是一个可重用的控件，很容易在整个项目中添加到 XAML 中。希望这可以帮助。如果您发现错误，请接受反馈。

1.  没有外部引用，您可以将其与您的代码一起使用，而无需其他 DLL。*（嗯，它确实使用 System.Windows.Interactivity 但大多数都会在 WPF 应用程序中使用它）*
2.  它可在您的整个应用程序中重复使用
3.  风格将符合您的主题。
4.  你可以随心所欲
5.  我知道这是一个有将近 6 年历史的线程（截至我在 2019 年写作时），但如果你喜欢它 - 让它成为答案，因为没有一个！

结果视觉：

选择的项目：

[![组合框清除示例](https://i.stack.imgur.com/tcpSA.gif)](https://i.stack.imgur.com/tcpSA.gif)

行为代码：

```
public class ComboBoxClearBehavior : Behavior<ComboBox>
{
    private Button _addedButton;
    private ContentPresenter _presenter;
    private Thickness _originalPresenterMargins;

    protected override void OnAttached()
    {
        // Attach to the Loaded event. The visual tree at this point is not available until its loaded.
        AssociatedObject.Loaded += AssociatedObject_Loaded;

        // If the user or code changes the selection, re-evaluate if we should show the clear button
        AssociatedObject.SelectionChanged += AssociatedObject_SelectionChanged;

        base.OnAttached();
    }

    protected override void OnDetaching()
    {
        // Its likely that this is already de-referenced, but just in case the visual was never loaded, we will remove the handler anyways.
        AssociatedObject.Loaded -= AssociatedObject_Loaded;
        base.OnDetaching();
    }

    private void AssociatedObject_SelectionChanged(object sender, SelectionChangedEventArgs e)
    {
        EvaluateDisplay();
    }

    /// <summary>
    /// Checks to see if the UI should show a Clear button or not based on what is or isn't selected.
    /// </summary>
    private void EvaluateDisplay()
    {
        if (_addedButton == null) return;
        _addedButton.Visibility = AssociatedObject.SelectedIndex == -1 ? Visibility.Collapsed : Visibility.Visible;

        // To prevent the text or content from being overlapped by the button, adjust the margins if we have reference to the presenter.
        if (_presenter != null)
        {
            _presenter.Margin = new Thickness(
                _originalPresenterMargins.Left, 
                _originalPresenterMargins.Top, 
                _addedButton.Visibility == Visibility.Visible ? ClearButtonSize + 6 : _originalPresenterMargins.Right, 
                _originalPresenterMargins.Bottom);
        }
    }

    private void AssociatedObject_Loaded(object sender, RoutedEventArgs e)
    {
        // After we have loaded, we will have access to the Children objects. We don't want this running again.
        AssociatedObject.Loaded -= AssociatedObject_Loaded;

        // The ComboBox primary Grid is named  MainGrid. We need this to inject the button control. If missing, you may be using a custom control.
        if (!(AssociatedObject.FindChild("MainGrid") is Grid grid)) return;

        // Find the content presenter. We need this to adjust the margins if the Clear icon is present.
        _presenter = grid.FindChildren<ContentPresenter>().FirstOrDefault();
        if (_presenter != null) _originalPresenterMargins = _presenter.Margin;

        // Create the new button to put in the view
        _addedButton = new Button
        {
            Height = ClearButtonSize, 
            Width = ClearButtonSize,
            HorizontalAlignment = HorizontalAlignment.Right
        };

        // Find the resource for the button - In this case, our NoChromeButton Style has no button edges or chrome
        if (Application.Current.TryFindResource("NoChromeButton") is Style style)
        {
            _addedButton.Style = style;
        }

        // Find the resource you want to put in the button content
        if (Application.Current.TryFindResource("RemoveIcon") is FrameworkElement content)
        {
            _addedButton.Content = content;
        }

        // Hook into the Click Event to handle clearing
        _addedButton.Click += ClearSelectionButtonClick;

        // Evaluate if we should display. If there is nothing selected, don't show.
        EvaluateDisplay();

        // Add the button to the grid - First Column as it will be right justified.
        grid.Children.Add(_addedButton);
    }

    private void ClearSelectionButtonClick(object sender, RoutedEventArgs e)
    {
        // Sets the selected index to -1 which will set the selected item to null.
        AssociatedObject.SelectedIndex = -1;
    }

    /// <summary>
    /// The Button Width and Height. This can be changed in the Xaml if a different size visual is desired.
    /// </summary>
    public int ClearButtonSize { get; set; } = 15;
} 
```

用法：

```
<ComboBox 
 ItemsSource="{Binding SomeItemsSource, Mode=OneWay}"
 SelectedValue="{Binding SomeId, Mode=TwoWay}"
 SelectedValuePath="SomeId">
  <i:Interaction.Behaviors>
    <behaviors:ComboBoxClearBehavior />
  </i:Interaction.Behaviors>
</ComboBox> 
```

对于此行为，您将需要两件事 - 您可能已经拥有它们，但它们在这里：

1.) 按钮模板 - 代码正在寻找一种样式。就我而言，它被称为 NoChromeButton- 如果您正在寻找一个交钥匙解决方案，您可以将我的添加到您的资源文件中：

```
<Style x:Key="NoChromeButton"
       TargetType="{x:Type Button}">
    <Setter Property="Background"
            Value="Transparent" />
    <Setter Property="BorderThickness"
            Value="1" />
    <Setter Property="Foreground"
            Value="{DynamicResource WindowText}" />
    <Setter Property="HorizontalContentAlignment"
            Value="Center" />
    <Setter Property="VerticalContentAlignment"
            Value="Center" />
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="Padding"
            Value="1" />
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type Button}">
                <Grid x:Name="Chrome"
                      Background="{TemplateBinding Background}"
                      SnapsToDevicePixels="true">
                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      Margin="{TemplateBinding Padding}"
                                      RecognizesAccessKey="True"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsEnabled"
                             Value="false">
                        <Setter Property="Foreground"
                                Value="#ADADAD" />
                        <Setter Property="Opacity"
                                TargetName="Chrome"
                                Value="0.5" />
                    </Trigger>
                    <Trigger
                        Property="IsMouseOver"
                        Value="True">
                        <Setter
                            TargetName="Chrome"
                            Property="Background"
                            Value="{DynamicResource ButtonBackgroundHover}" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

此外，您将需要您的图标来清除。如果你有，只需更新代码以使用该资源（名为“RemoveIcon”）。否则..这是我的：

```
<Viewbox x:Key="RemoveIcon"
         x:Shared="False"
         Stretch="Uniform">
    <Canvas Width="58"
            Height="58">
        <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Control, Mode=FindAncestor}}">
            <Path.Data>
                <PathGeometry Figures="M 29 0 C 13 0 0 13 0 29 0 45 13 58 29 58 45 58 58 45 58 29 58 13 45 0 29 0 Z M 43.4 40.6 40.6 43.4 29 31.8 17.4 43.4 14.6 40.6 26.2 29 14.6 17.4 17.4 14.6 29 26.2 40.6 14.6 43.4 17.4 31.8 29 Z"
                              FillRule="NonZero" />
            </Path.Data>
        </Path>
    </Canvas>
</Viewbox> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-12-21T23:04:59.540

虽然我同意**WPF ComboBox**的**null 项目**问题有很多解决方案，但[Andrei Zubov 对 Null Object Pattern 的引用](https://stackoverflow.com/a/16010646/378115)启发了我尝试一种不那么矫枉过正的替代方案，其中包括在注入之前用**null**值（也被包装）包装每个源项目整个包装的集合到**ComboBox.ItemsSource**属性中。所选项目将可用于**SelectedWrappedItem**属性。

所以，首先你定义你的通用包装器......

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ComboBoxWrapperSample
{

    /// <summary>
    /// Wrapper that adds supports to null values upon ComboBox.ItemsSource
    /// </summary>
    /// <typeparam name="T">Source combobox items collection datatype</typeparam>
    public class ComboBoxNullableItemWrapper<T>
    {
        string _nullValueText;

        private T _value;

        public T Value
        {
            get { return _value; }
            set { _value = value; }
        }

        /// <summary>
        /// 
        /// </summary>
        /// <param name="Value">Source object</param>
        /// <param name="NullValueText">Text to be presented whenever Value argument object is NULL</param>
        public ComboBoxNullableItemWrapper(T Value, string NullValueText = "(none)")
        {
            this._value = Value;
            this._nullValueText = NullValueText;
        }

        /// <summary>
        /// Text that will be shown on combobox items
        /// </summary>
        /// <returns></returns>
        public override string ToString()
        {
            string result;
            if (this._value == null)
                result = _nullValueText;
            else
                result = _value.ToString();
            return result;
        }

    }
} 
```

定义您的项目模型...

```
using System.ComponentModel;

namespace ComboBoxWrapperSample
{
    public class Person : INotifyPropertyChanged
    {
        // Declare the event
        public event PropertyChangedEventHandler PropertyChanged;

        public Person()
        {
        }

        // Name property
        private string _name;

        public string Name
        {
            get { return _name; }
            set
            {
                _name = value;
                OnPropertyChanged("Name");
            }
        }

        // Age property
        private int _age;

        public int Age
        {
            get { return _age; }
            set
            {
                _age = value;
                OnPropertyChanged("Age");
            }
        }

        protected void OnPropertyChanged(string name)
        {
            PropertyChangedEventHandler handler = PropertyChanged;
            if (handler != null)
            {
                handler(this, new PropertyChangedEventArgs(name));
            }
        }

        // Don't forget this override, since it's what defines ao each combo item is shown
        public override string ToString()
        {
            return string.Format("{0} (age {1})", Name, Age);
        }
    }
} 
```

定义您的视图模型...

```
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.ComponentModel;
using System.Linq;

namespace ComboBoxWrapperSample
{
    public partial class SampleViewModel : INotifyPropertyChanged
    {

        // SelectedWrappedItem- This property stores selected wrapped item
        public ComboBoxNullableItemWrapper<Person> _SelectedWrappedItem { get; set; }

        public ComboBoxNullableItemWrapper<Person> SelectedWrappedItem
        {
            get { return _SelectedWrappedItem; }
            set
            {
                _SelectedWrappedItem = value;
                OnPropertyChanged("SelectedWrappedItem");
            }
        }

        // ListOfPersons - Collection to be injected into ComboBox.ItemsSource property
        public ObservableCollection<ComboBoxNullableItemWrapper<Person>> ListOfPersons { get; set; }

        public SampleViewModel()
        {

            // Setup a regular items collection
            var person1 = new Person() { Name = "Foo", Age = 31 };
            var person2 = new Person() { Name = "Bar", Age = 42 };

            List<Person> RegularList = new List<Person>();
            RegularList.Add(person1);
            RegularList.Add(person2);

            // Convert regular collection into a wrapped collection
            ListOfPersons = new ObservableCollection<ComboBoxNullableItemWrapper<Person>>();
            ListOfPersons.Add(new ComboBoxNullableItemWrapper<Person>(null));
            RegularList.ForEach(x => ListOfPersons.Add(new ComboBoxNullableItemWrapper<Person>(x)));

            // Set UserSelectedItem so it targes null item
            this.SelectedWrappedItem = ListOfPersons.Single(x => x.Value ==null);

        }

        // INotifyPropertyChanged related stuff
        public event PropertyChangedEventHandler PropertyChanged;

        protected void OnPropertyChanged(string name)
        {
            PropertyChangedEventHandler handler = PropertyChanged;
            if (handler != null)
            {
                handler(this, new PropertyChangedEventArgs(name));
            }
        }
    }
} 
```

而且，最后是您的视图（好的，它是一个窗口）

```
<Window x:Class="ComboBoxWrapperSample.MainWindow"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"        
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
            xmlns:local="clr-namespace:ComboBoxWrapperSample"
            xmlns:vm="clr-namespace:ComboBoxWrapperSample"
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
            xmlns:ignore="http://www.ignore.com"
            mc:Ignorable="d"
            d:DataContext="{d:DesignInstance {x:Type vm:SampleViewModel}, IsDesignTimeCreatable=False}"
            Title="MainWindow" Height="200" Width="300">
    <StackPanel Orientation="Vertical" Margin="10">
        <TextBlock Margin="0,10,0,0">Favorite teacher</TextBlock>
        <ComboBox ItemsSource="{Binding ListOfPersons}"
                SelectedItem="{Binding SelectedWrappedItem, Mode=TwoWay}">
        </ComboBox>
        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
            <TextBlock>Selected wrapped value:</TextBlock>
            <TextBlock Text="{Binding SelectedWrappedItem }" Margin="5,0,0,0" FontWeight="Bold"/>
        </StackPanel>
    </StackPanel>
</Window> 
```

说到这里，我是否提到您可以通过**SelectedWrappedItem.Value**属性检索展开的选定项目？

在这里你可以[得到一个工作样本](http://web.sisgarbe.pt/sispub/WebShared%5CCodeSamples%5CComboBoxWrapperSample.zip)

希望它可以帮助别人

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-16T07:58:31.943

仍然不是 100% 对这个解决方案感到满意，但到目前为止我发现的最好的事情是，您只需要覆盖 ComboBox 样式并应用`AttachedBehaviour`.

```
<ComboBox ItemsSource="{Binding Names}"
          ext:ComboBoxHelper.IsNullable="True" /> 
```

来源： http: [//xamlblog.com/PostPage.aspx ?postId=16#/Posts/16](http://xamlblog.com/PostPage.aspx?postId=16#/Posts/16)

**编辑：** 链接到 Internet 存档，因为链接已损坏： [https ://web.archive.org/web/20160420174905/http://xamlblog.com/PostPage.aspx?postId=16](https://web.archive.org/web/20160420174905/http://xamlblog.com/PostPage.aspx?postId=16)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-15T07:35:32.763

删除以下行并添加一个 CheckBox，然后您可以执行您的自定义操作。

```
 <ComboBoxItem>(None)</ComboBoxItem> 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2013-04-15T08:24:15.860

请使用以下代码。

```
 <ComboBoxItem IsSelected="{Binding ClearSelectedItems}">(None)</ComboBoxItem> 
```

在视图模型中，捕获“ClearSelectedItems”更改通知并清除 ItemsControl 的 SelectedItems。

# css - 无法弄清楚，网站正在“跳跃”

> ID：16009634
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:19.353
> 
> 标签：css, hyperlink

我希望有人可以帮助我，我一直在我的 CSS 中搜索有什么问题，但无法弄清楚。如果您查看此网站：http: [//viversa.nl/v2/index.html](http://viversa.nl/v2/index.html)并查看页面，您会注意到站点之间的一些跳转。如果您从“Projecten”单击“People”并返回，您会特别注意到它。看来“HOME”和“PROJECTEN”是一样的，布局都不错。然后其他页面：“OVER ONS”、“PEOPLE”、“CONTACT”和“SITEMAP”也有不同的布局。我不知道出了什么问题以及它是如何跳跃的，因为我只是简单地复制了菜单 + 徽标 + css，一遍又一遍地制作一个新页面。希望有人可以帮助我解决这个问题！谢谢！

真诚的，斯特凡

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:42:08.500

这种“跳跃”是由于滚动条出现在某些页面上而没有出现在其他一些页面上引起的。最简单的方法是确保始终有一个滚动条。

您可以在此处获得一些提示：[HTML/CSS：使主滚动条始终可见](https://stackoverflow.com/questions/1202425/html-css-making-the-main-scrollbar-always-visible)

# objective-c - 搜索字符串以多次出现的相同字符串开始和结束

> ID：16009637
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:29.423
> 
> 标签：objective-c, nsstring, nspredicate, nsrange, nsscanner

我申请了同样的问题，但我没有得到答案，我尝试了 2 天我没有得到它，任何人都可以帮助我。

我只需要查找并打印以“&”开头和结尾的字符串。但在我的字符串中很多相同的“&”出现

前任：

&abc;123:342:431:234& &xyz;232:2344:433:434& &pqr;234:453:534:3445&

我只想打印以“&xyz”开头然后以“&”结尾的字符串 (&xyz;232:2344:433:434&)

有时我会得到
&pqr;234:453:534:3445& &abc;123:342:431:234& &xyz;232:2344:433:434&

这里我也想打印相同的“&xyz”并以“&”结尾。

我试过了，“NSRange”，“NSscanner”，“NSpredictive”。但我不知道特定的字符串是 ptrit

// NSScanner :

```
 NSMutableArray *substrings = [NSMutableArray new];
    NSScanner *scanner = [NSScanner scannerWithString:s];
    [scanner scanUpToString:@"&abc" intoString:nil]; //
    NSString *substring = nil;
    [scanner scanString:@"&abc" intoString:nil]; // Scan the # character
    if([scanner scanUpToString:@"&" intoString:&substring]) {
       // If the space immediately followed the &, this will be skipped
       [substrings addObject:substring];
       NSLog(@"substring is :%@",substring);
    }
    // do something with substrings
    [substrings release];

// NSpredictive : 
```

NSString *new=@"&abc;123:342:431:234& &xyz;232:2344:433:434& &pqr;234:453:534:3445&";

```
NSArray *arr = [new ComponentsSepetratedByString @:" "];

NSPredicate *predicate = [NSPredicate predicateWithFormat:@"self BEGINSWITH[cd] %@ AND self ENDSWITH[cd] %@",@"&abc",@"&"];

NSLog(@"Sorted Array %@",[arr filteredArrayUsingPredicate:predicate]);
NSArray *sortedArray = [arr filteredArrayUsingPredicate:predicate];

NSMutableArray *finalResult = [NSMutableArray arrayWithCapacity:0];
for(NSString *string in sortedArray)
{
    NSString *content = string;
    NSRange range1 = [content rangeOfString:@"&abc"];
    if(range1.length > 0)
        content = [content stringByReplacingCharactersInRange:range1 withString:@""];

    NSRange range2 = [content rangeOfString:@"&"];
    if(range2.length > 0)
        content = [content stringByReplacingCharactersInRange:range2 withString:@""];

    [finalResult addObject:content];
}

NSLog(@"%@",finalResult); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:36:08.063

这是你想要的？

```
NSString *string = @"&abc;123:342:431:234& &xyz;232:2344:433:434& &pqr;234:453:534:3445&";

NSString *pattern = @"&xyz[^&]+&";
NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:pattern
                                       options:0 error:NULL];

[regex enumerateMatchesInString:string options:0 range:NSMakeRange(0, [string length])
             usingBlock:^(NSTextCheckingResult *result, NSMatchingFlags flags, BOOL *stop) {
                 NSRange range = [result range];
                 NSString *matched = [string substringWithRange:range];

                 NSLog(@"%@", matched);
             }]; 
```

*输出：*

```
&xyz;232:2344:433:434&

```

# ruby - sidekiq 取消预定作业的列表

> ID：16009639
> 
> 赞同：13
> 
> 时间：2013-04-15T07:16:33.697
> 
> 标签：ruby, sidekiq

我有几个像这样运行的预定作业：

```
MyWorker.perform_at(3.hours.from_now, 'mike', 1) 
```

我想知道，如果稍后，比如说一个小时后，我想取消这份工作，我该怎么做？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-07-26T01:17:38.170

我最近编写了一些代码来处理这个问题，它可以在我的 sidekiq-status gem 分支中找到。你可以查看它，或者在这里使用它： [https ://github.com/Robinson7D/sidekiq-status](https://github.com/Robinson7D/sidekiq-status)

（目前，您必须将其用作`git:`gemfile 中的信息，直到项目的主分支实现这一点）

要使用它，首先要存储 job_identifier：

```
job_identifier = MyWorker.perform_at(3.hours.from_now, 'mike', 1) 
```

当你想销毁它时，你调用 Sidekiq::Status.cancel 方法：

```
Sidekiq::Status.cancel job_identifier 
```

**编辑：**自写这篇文章以来，我的代码已被 Sidekiq::Status 的主分支接受 - [https://github.com/utgarda/sidekiq-status](https://github.com/utgarda/sidekiq-status)。你不再需要使用我的叉子。在 Utgarda 的分叉上，您可以通过调用 unschedule 来触发它，而不是取消：

```
Sidekiq::Status.unschedule job_identifier 
```

进一步：您还可以使用标准 Sidekiq gem 删除作业，如下所述：[https](https://github.com/mperham/sidekiq/wiki/API) ://github.com/mperham/sidekiq/wiki/API （尽管对于他们的方法，您需要计划作业时间的 unix-timestamp -您不能仅使用作业的 id 删除；如果您希望删除没有时间戳的作业，Sidekiq::Status 方法可能适合您）。

但是，与其在 wiki 中概述的方式不同，我会推荐一些类似于`Sidekiq::ScheduledSet.new().delete(unix_timestamp, jid)`如果您只想删除一项工作的内容。）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-13T16:11:09.643

据我所知，Sidekiq 目前无法取消日程安排工作。我写了一个服务，让我可以取消我的预定邮件。但是使用 redis 命令可以很容易地取消作业：

你会得到这样的日程安排工作：

```
schedules_jobs = $redis.zrange "schedule", 0, -1, {withscores: true} 
```

然后你得到一系列工作，你选择一个工作并像这样取消它：

```
$redis.zrem "schedule", schedules_jobs[0] 
```

# mysql - mysql 按大小写排序

> ID：16009643
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:46.993
> 
> 标签：mysql

我正在尝试使用 mysql 进行特定排序。这是我的桌子

```
id      fb_id   ...   date_added
1       1111111111    2013-04-15 14:15:00
2       1111111111    2013-04-15 14:16:00
3       1111111111    2013-04-15 14:17:00
4       2222222222    2013-04-15 14:18:00
5       3333333333    2013-04-15 14:19:00
6       4444444444    2013-04-15 14:20:00
7       2222222222    2013-04-15 14:21:00
8       1111111111    2013-04-15 14:22:00 
```

我期望的是首先按 fb_id 111111111 和 2222222222 排序，然后按最新日期顺序排序，如下所示......

```
id      fb_id   ...   date_added
1       1111111111    2013-04-15 14:22:00
2       2222222222    2013-04-15 14:21:00
3       2222222222    2013-04-15 14:18:00
4       1111111111    2013-04-15 14:17:00
5       1111111111    2013-04-15 14:16:00
6       1111111111    2013-04-15 14:15:00
7       4444444444    2013-04-15 14:20:00
8       3333333333    2013-04-15 14:19:00 
```

我正在尝试的 SQL：

```
SELECT `id`, `fb_id`, `date_added` from MyTable
ORDER BY case when fb_id in (1111111111,2222222222) then -1 else date_added end, date_added desc 
```

它首先按 fb_id 排序，但其余数据不按 'date_added desc' 排序？请帮忙..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T07:19:08.827

`date_added`由于您的`ELSE`子句，您首先按升序排序。尝试：

```
ORDER BY case when fb_id in (1111111111,2222222222) then 0 else 1 end, 
    date_added desc 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:27:29.220

使用基于行的函数的解决方案应该谨慎看待，当你尝试扩大规模时，它们有时会导致问题。

如果您的桌子仍然相对较小，那应该不是问题，但如果您担心，您可以尝试以下操作：

```
select 1 as seq, id, fb_id, date_added
    where fb_id in (1111111111,2222222222)
union all select 2 as seq, id, fb_id, date_added
    where fb_id not in (1111111111,2222222222)
order by seq, fb_id, date_added desc 
```

这会导致对 DBMS 的两次查询，但这通常比在排序之前必须对结果集的每一行执行额外处理要快。

与所有解决方案一样，您应该衡量影响而不是猜测，并使用具有代表性的数据来​​做。

# php - MongoCursor 对象尚未被其构造函数正确初始化

> ID：16009645
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:54.153
> 
> 标签：php, mongodb

我有一个 PHP 脚本，它在服务器 A 上处理 Mongo 命令没有问题，在服务器 B 上，同一行代码给我一个错误

```
The MongoCursor object has not been correctly initialized by its constructor 
```

我想问题是一些服务器配置，因为我只有 FTP 访问两台服务器，我的问题：

*   在服务器 AI 上使用 phpinfo 看不到专门用于 Mongo 的部分，我如何查看 Mongo 驱动程序是否已启动并运行？
*   您能否向我提供有关此特定错误的更多信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:18:45.877

请参阅此以了解 mongo 异常错误：-

```
http://php.net/manual/en/class.mongoexception.php 
```

# css - CSS中的文本对齐

> ID：16009647
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:58.823
> 
> 标签：css

我正在做一个项目，我希望在页面右侧的无序列表中添加一些文本，例如

这是演示文本。○

但它就像

.这是演示文本o

在页面的右侧

其中 o 是子弹。

我用过方向：rtl; 为了这。我也尝试过 float 等以达到所需的结果，但没有成功。

谁能告诉我如何达到上述结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:35:23.350

您可能不想使用`direction: rlt;`- 据我了解，它更适用于实际文本方向从右到左的用途。

实现类似效果的一种快速简便的方法是隐藏普通项目符号并通过 css 替换它们，例如：

```
.list-right li {
  text-align: right;
  list-style: none;
}
.list-right li:after {
  content: ' \2022'; /* Bullet */
  margin-left: 0.5em;
} 
```

[JS Bin 演示](http://jsbin.com/azuguf/2/edit)

# c# - TCP 连接阻止我的 WPF 窗口？如何获取 WPF 窗口？

> ID：16009648
> 
> 赞同：0
> 
> 时间：2013-04-15T07:16:59.147
> 
> 标签：c#, .net, wpf

我开发了一个应用程序，在开发时遇到了一个问题。所以我想解决它。我正在使用 TCP 服务器和客户端概念。我写代码很好。但是阻止我的 WPF 窗口。我该如何解决？谁能帮我。

**我的代码**

```
private void LoadingInboxMessage(){
try {
  InboxTCPServer("127.0.0.1",1001);
  string []header = new string[]{"Name","Mobile","Address"};
  SQL sql = new SQL();
  MySqlConnection con = sql.ConnectServer("127.0.0.1","root","''","smsdb");
  if(con!=null) {
    MySqlDataReader dr = sql.SQLFetching(con,"SELECT * FROM receivedetails");
    CreateFlowDocument cfd = new CreateFlowDocument("inboxFlow");
    this.InboxFlowDocument.Document = cfd.CreateTable("inboxtable",header,dr);
 }
     else {
    MessageBox.Show("Not Connectioned");
    Application.Current.Shutdown(0);
 }
} catch(Exception e) {
   MessageBox.Show(e.Message);
     }
}

public void InboxTCPServer(string ipv4, int port){
try {
  IPAddress ip = IPAddress.Parse(ipv4);
  TcpListener serv = new TcpListener(ip,port);
  serv.Start();
  Socket s = serv.AcceptSocket();
  byte[] b = new byte[1000];
  int k = s.Receive(b);
  MessageBox.Show(b.ToString());
} catch(Exception e) {
    MessageBox.Show(e.Message);
}
} 
```

请帮我”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:25:53.403

您可能想看看 C# 异步 TCP/IP 管理。我认为您的问题是您挂起代码以等待呈现 UI 的同一线程中的连接，从而导致程序无响应。这里有几个示例链接：

*   [异步客户端套接字示例](http://msdn.microsoft.com/en-us/library/bew39x2a.aspx "TCP客户端")
*   [异步服务器套接字示例](http://msdn.microsoft.com/en-us/library/fx6588te.aspx "TCP服务器")

# ruby-on-rails - 在 activeAdmin 中过滤索引

> ID：16009649
> 
> 赞同：1
> 
> 时间：2013-04-15T07:17:03.710
> 
> 标签：ruby-on-rails, activeadmin

在我的 activeadmin 应用程序中，我需要过滤将出现在索引视图中的记录。

对于我的“Group”模型，收集方法效果很好，但对于“Item”模型，它不起作用并返回以下错误：

```
undefined method `page' for #<Array:0xc240bc4> 
```

我在 admin/items.rb 中使用此代码：=> 不起作用

```
collection_action :index, :method => :get do
  # Only get the items belonging to a group owned by the current user
  scope = Group.where("owner_id = ?", current_user.id).map{|group| group.items}

  @collection = scope.page() if params[:q].blank?
  @search = scope.metasearch(clean_search_params(params[:q]))

  respond_to do |format|
  format.html {
    render "active_admin/resource/index"
  }
  end
end 
```

在 admin/groups.rb 中，以下工作正常（仅显示正确的组）

```
collection_action :index, :method => :get do
  # Only get the groups owned by the current user
  scope = Group.where("owner_id = ?", current_user.id).scoped

  @collection = scope.page() if params[:q].blank?
  @search = scope.metasearch(clean_search_params(params[:q]))

  respond_to do |format|
    format.html {
      render "active_admin/resource/index"
    }
  end
end 
```

我无法弄清楚为什么这不适用于“项​​目”模型。任何想法 ？

**编辑**

我找到了一种解决方法，只获取属于 current_user 的第一组的项目：

```
scope = Group.where("owner_id = ?", current_user.id).first.items.scoped 
```

现在没关系，因为用户只有一个组，但这在不久的将来不适合。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T13:27:20.037

尝试有很多：通过 [http://guides.rubyonrails.org/association_basics.html#the-has_many-through-association](http://guides.rubyonrails.org/association_basics.html#the-has_many-through-association)

一些

```
class Group < ActiveRecord::Base
  has_many :items
  belongs_to :user
end

class Item < ActiveRecord::Base
  belongs_to :group
end

class User < ActiveRecord::Base
  has_many :groups
  has_many :items, :through => :groups
end 
```

这将允许你做下一个范围

```
 current_user.items 
```

在你的控制器中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:38:51.110

`admin/items.rb`

`scope = Group.where("owner_id = ?", current_user.id).map{|group| group.items}`

`admin/groups.rb`

`scope = Group.where("owner_id = ?", current_user.id).scoped`

该`.scoped`方法使您的数组成为一个 activerecord 对象，可以应用更多方法，如分页、排序等。

如果您想获得包含 current_user 项目的组，也许您可​​以使用，

`Group.joins(:items).where("owner_id = ?", current_user.id)`

反而？

# actionscript-3 - AS3 如何将定时器事件分派给另一个类？

> ID：16009652
> 
> 赞同：0
> 
> 时间：2013-04-15T07:17:05.903
> 
> 标签：actionscript-3, timer, dispatch

我试图每秒从 Mytimer 类调度事件并从 Main 类捕获事件。我已经将变量“sus”声明为整数 = 10。到目前为止我什么都没有，没有输出，什么都没有。请帮忙！

这是 Mytimer.as

```
 private function onUpdateTime(event:Event):void
    {

        nCount--;
        dispatchEvent(new Event("tickTack", true));
        //Stop timer when it reaches 0
        if (nCount == 0)
        {
            _timer.reset();
            _timer.stop();
            _timer.removeEventListener(TimerEvent.TIMER, onUpdateTime);
            //Do something
        }
    } 
```

在 Main.as 我有：

```
 public function Main()
    {
        // constructor code
        _timer = new MyTimer  ;
        stage.addEventListener("tickTack", ontickTack);
    }

    function ontickTack(e:Event)
    {
        sus--;
        trace(sus);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:28:05.470

在您的`Main.as`中，您已将侦听器添加到舞台，而不是您的计时器。这一行：

```
stage.addEventListener("tickTack", ontickTack); 
```

应该是这样的：

```
_timer.addEventListener("tickTack", ontickTack); 
```

* * *

但是 ActionScript 已经有一个`Timer`类，看起来它具有您需要的所有功能。无需重新发明轮子。查看[Timer 类的文档](http://www.adobe.com/livedocs/flash/9.0/ActionScriptLangRefV3/flash/utils/Timer.html)。

在您的主要内容中，您可以说：

```
var count:int = 10; // the number of times the timer will repeat.
_timer = new Timer(1000, count); // Creates timer of one second, with repeat.
_timer.addEventListener(TimerEvent.TIMER, handleTimerTimer);
_timer.addEventListener(TimerEvent.TIMER_COMPLETE, handleTimerTimerComplete); 
```

然后只需添加您的处理程序方法。您不需要同时使用两者。通常 TIMER 事件就足够了。像这样的东西：

```
private function handleTimerTimerComplete(e:TimerEvent):void 
{
    // Fires each time the timer reaches the interval.
}

private function handleTimerTimer(e:TimerEvent):void 
{
    // Fired when all repeat have finished.
} 
```

# html - 文本中间的水平线

> ID：16009654
> 
> 赞同：9
> 
> 时间：2013-04-15T07:17:09.417
> 
> 标签：html, css

我想在中间显示一条带有单词的水平线，使其如下所示：

![在此处输入图像描述](https://i.stack.imgur.com/6CldH.png)

我正在尝试这个并且不起作用：

**HTML：**

```
<h2><span>Test</span></h2> 
```

**CSS：**

```
h2{
    font-size: 100px;
    border-top: solid 1px black;
    width: 100%;
    height: 50px;
    margin-top: 25px;
    top: 50%;
    z-index: 1;    
}

span{
     background: #fff;
      padding: 0 20px;
      margin-top:-25px;
       display: inline-block;
       z-index: 5;
} 
```

**JSFiddle：http:** [//jsfiddle.net/2ds9a/](http://jsfiddle.net/2ds9a/)

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-15T07:27:04.993

你可以习惯**css** `:after`

像这样

**HTML**

```
<h2><span  class="line-center">Test</span></h2> 
```

**CSS**

```
.line-center{
    margin:0;padding:0 10px;
    background:#fff;
    display:inline-block;
}
h2{

    text-align:center;
    position:relative;
    z-index:2;

}
h2:after{
    content:"";
    position:absolute;
    top:50%;
    left:0;
    right:0;
    border-top:solid 1px red;
    z-index:-1;
} 
```

**[现场演示](http://jsfiddle.net/2ds9a/4/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:24:58.270

如[this answer](https://stackoverflow.com/a/2812830/2134785)（由[Quentin](https://stackoverflow.com/users/19068/quentin)建议）所示，以下代码应该适合您：

```
<div style="height: 2px; background-color: black; text-align: center">
  <span style="background-color: white; position: relative; top: -0.5em;">
    Section Title
  </span>
</div> 
```

有关更多信息，请查看[此问题。](https://stackoverflow.com/questions/2812770/add-centered-text-to-the-middle-of-a-hr-like-line)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T07:39:03.340

有不同的方法可以做到这一点，这是我的解决方案：

[http://jsfiddle.net/zzLnt/](http://jsfiddle.net/zzLnt/)

```
 <h2><span class="line"></span><span class="text">Test<span></h2>
   <style> 
    h2{
        font-size: 100px;
        z-index: 1;
        position: relative;
        text-align: center;
    }

    .line{
        background: #000;
        border-top: solid 1px black;
        position: absolute;
        height: 1px;
        display: block;
        top: 56px;
        width: 100%;
    }

    .text{
        background-color: #FFFFFF;
        z-index: 20;
        position: relative;
        text-align: center;
        padding: 0 34px;
    }
</style> 
```

# jquery - CCS3 转换和 jQuery toggleClass 溢出：隐藏不起作用

> ID：16009656
> 
> 赞同：2
> 
> 时间：2013-04-15T07:17:16.460
> 
> 标签：jquery, css-transitions, toggleclass

我正在尝试制作一个从左侧滑入的菜单，并将其他所有内容推到画布上 70%。当此操作适用时，我还想删除滚动。

如果我使用 jQuery 在具有溢出：隐藏的包装容器上切换类，则 css 转换效果不起作用（在 IE10 中除外，它实际上可以工作）。

这是一个非常简单的例子：[jsfiddle](http://jsfiddle.net/6gGmq/)

```
$('button').click(function () {
    $('#wrapper').toggleClass('hidden');
    $('#test').toggleClass('test');
    return false;
});

.hidden {
    overflow:hidden;
}
#test {
    position: absolute;
    left:-50px;
    transition: left 1s;
}
#test.test {
    left:100px;
} 
```

如果我删除该`$('#wrapper').toggleClass('hidden');`行，它会起作用。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:24:53.743

您应该添加 display:none 而不是 visibility

```
.hidden {
    display:none
} 
```

# android - 隐藏和展开布局

> ID：16009660
> 
> 赞同：0
> 
> 时间：2013-04-15T07:17:27.117
> 
> 标签：android

我有一个问题。

有一个`layout`with text `Follow`。和其他`layout`更多的设计。

我想隐藏和展开`second layout`，点击`First layout`。

但`First layout`应该始终可见。

任何想法 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:36:24.323

您不需要动画，而是使用**动态设置布局参数**。在 上设置 OnclikListener `follow`并更改 other 的布局参数`layout`。

```
linearLayout.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, 144)); 
```

这是实现所需结果的最简单方法。

# c - Xcode 上的 C：访问不正确

> ID：16009667
> 
> 赞同：-9
> 
> 时间：2013-04-15T07:17:57.853
> 
> 标签：c, xcode, exc-bad-access

我正在尝试完成我的`C`编程课作业`Xcode`。这很简单。它读取一个文本文件，其中包含学生 ID 列表和他们的考试成绩。然后它根据这些数据计算总分，并将它们写入另一个文本文件。但是，我不断收到以下`Bad Access`错误消息：

```
Thread 1: EXC_BAD_ACCESS(code=1, address=0x7fff00000de4) 
```

我不知道这意味着什么。我应该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:51:28.637

这`EXC_BAD_ACCESS`意味着您尝试在内存中尝试不正确的地址。

您应该从以下内容开始：

1.  使用前检查所有指针是否已初始化
2.  如果您有一个数组，那么您可能正在尝试访问超出范围的元素

当然，使用调试器。

# php - 通过php从HTML标签中提取数据[自动获取开始和结束标签]

> ID：16009671
> 
> 赞同：0
> 
> 时间：2013-04-15T07:18:31.300
> 
> 标签：php, html

想要制作一个脚本，该脚本将自动从 html 标签（开始和结束）获取内容并将它们存储到一个数组中。

例子：

**输入：**

```
$str = <p>This is a sample <b>text</b> </p> this is out of tags.<p>This is <p>another text</p>for same aggregate <i>tags</i>.</p> 
```

**输出：**

```
$blocks[0] = <p>This is a sample <b>text</b> </p>
$blocks[1] = <p>This is <p>another text</p>for same aggregate <i>tags</i>.</p>

NB: the first block start with <p> so must be stop at </p>, the second block again start with <p> but it has another start and end paragraph[<p></p>] between this, and stop when find </p> . That means i want to put all of the data and inner tags between start and end tags. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:37:48.833

我将尝试对此提供答案，尽管此解决方案并不能准确地为您提供所需的内容，因为嵌套`<p>`标签不是有效的 HTML。使用 PHP 的[DOMDocument](http://php.net/manual/en/class.domdocument.php)，您可以像这样提取段落标签。

```
<?php

$test = "<p>This is a sample <b>text</b> </p> this is out of tags.<p>This is <p>another text</p>for same aggregate <i>tags</i>.</p>";

$html = new DOMDocument();
$html->loadHTML($test);
$p_tags = array();

foreach ($html->getElementsByTagName('p') as $p) {
    $p_tags[] = $html->saveHTML($p);
}

print_r($p_tags);

?> 
```

由于无效的标签嵌套向您抛出一些警告后，输出应如下所示：

```
Array
(
    [0] => <p>This is a sample <b>text</b> </p>
    [1] => <p>This is </p>

    [2] => <p>another text</p>
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:47:37.333

您可以使用[Simple Html Dom](http://simplehtmldom.sourceforge.net/manual.htm)库来执行此操作。这是示例。

```
require_once('simple_html_dom.php');    
$html = " <p>This is a sample <b>text</b> </p> this is out of tags.<p>This is <p>another text</p>for same aggregate <i>tags</i>.</p>";    
$html = str_get_html($html);    
$p = $html->find('p');
$contentArray = array();
foreach($p as $element)
    $contentArray[] = $element->innertext; //You can try $element->outertext to get the output with tag. ie. <p>content</p>

print_r($contentArray); 
```

你的输出是这样的：

```
Array
(
    [0] => This is a sample <b>text</b> 
    [1] => This is 
    [2] => another text
) 
```

# sql - 返回带有行数的选择查询

> ID：16009674
> 
> 赞同：0
> 
> 时间：2013-04-15T07:18:42.277
> 
> 标签：sql, db2

我正在尝试从为行位置添加列而不添加标识列的查询中返回值。我要的不是表格中的绝对位置，而是查询结果中的位置

假设我有一张这样的桌子

```
 My_TBL
 -----------------------
 FLD_A     FLD_B   FLD_C
 a         A       t
 b         B       t
 c         C       p
 d         D       p
 ..        .. 
```

并且选择查询是

```
 select FLD_A,FLD_B from My_Tbl where FLD_C='p'

 FLD_A    FLD_B
 -----------------------
 c         C      
 d         D 
```

我在 Db2 中有什么可以添加到我的查询中以使每一行都计入该输出？

```
 POS       FLD_A    FLD_B
 -----------------------
 1         c         C      
 2         d         D 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T12:48:09.547

使用`row_number()`. 它只会计算实际返回的行数。

```
select  row_number() over (order by FLD_A,FLD_B) as POS,
        FLD_A,
        FLD_B 
    from My_Tbl 
    where FLD_C='p' 
```

# java - 在java中将字符串强制转换为Class

> ID：16009679
> 
> 赞同：-5
> 
> 时间：2013-04-15T07:18:49.660
> 
> 标签：java, casting, setter, getter-setter

我正在将字符串传递给 setter 方法

```
PostPublication postPublication = new PostPublication();
                    /*
         * Class MessageCont = Class.forName(messageContext
         * .getProperty("MessageContent").toString());
         */
        postPublication
                .setMessageContent((MessageContent_type0) messageContext
                        .getProperty("MessageContent")); 
```

PostPublication 类的 Setter 方法是

```
public void setMessageContent(
            org.openoandm.www.xml.isbm.MessageContent_type0 param) {

        this.localMessageContent = param;

    } 
```

localMessageContent 的声明是

```
protected org.openoandm.www.xml.isbm.MessageContent_type0 localMessageContent; 
```

MessageContent_type0 类代码

```
/**
 * MessageContent_type0.java
 *
 * This file was auto-generated from WSDL
 * by the Apache Axis2 version: 1.6.2  Built on : Apr 17, 2012 (05:34:40 IST)
 */

                package org.openoandm.www.xml.isbm;

            /**
            *  MessageContent_type0 bean class
            */
            @SuppressWarnings({"unchecked","unused"})

        public  class MessageContent_type0
        implements org.apache.axis2.databinding.ADBBean{
        /* This type was generated from the piece of schema that had
                name = MessageContent_type0
                Namespace URI = http://www.openoandm.org/xml/ISBM/
                Namespace Prefix = ns1
                */

                        /**
                        * field for ExtraElement
                        */

                                    protected org.apache.axiom.om.OMElement localExtraElement ;

                           /**
                           * Auto generated getter method
                           * @return org.apache.axiom.om.OMElement
                           */
                           public  org.apache.axiom.om.OMElement getExtraElement(){
                               return localExtraElement;
                           }

                            /**
                               * Auto generated setter method
                               * @param param ExtraElement
                               */
                               public void setExtraElement(org.apache.axiom.om.OMElement param){

                                            this.localExtraElement=param;

                               }

        /**
        *
        * @param parentQName
        * @param factory
        * @return org.apache.axiom.om.OMElement
        */
       public org.apache.axiom.om.OMElement getOMElement (
               final javax.xml.namespace.QName parentQName,
               final org.apache.axiom.om.OMFactory factory) throws org.apache.axis2.databinding.ADBException{

               org.apache.axiom.om.OMDataSource dataSource =
                       new org.apache.axis2.databinding.ADBDataSource(this,parentQName);
               return factory.createOMElement(dataSource,parentQName);

        }

         public void serialize(final javax.xml.namespace.QName parentQName,
                                       javax.xml.stream.XMLStreamWriter xmlWriter)
                                throws javax.xml.stream.XMLStreamException, org.apache.axis2.databinding.ADBException{
                           serialize(parentQName,xmlWriter,false);
         }

         public void serialize(final javax.xml.namespace.QName parentQName,
                               javax.xml.stream.XMLStreamWriter xmlWriter,
                               boolean serializeType)
            throws javax.xml.stream.XMLStreamException, org.apache.axis2.databinding.ADBException{

                java.lang.String prefix = null;
                java.lang.String namespace = null;

                    prefix = parentQName.getPrefix();
                    namespace = parentQName.getNamespaceURI();
                    writeStartElement(prefix, namespace, parentQName.getLocalPart(), xmlWriter);

                  if (serializeType){

                   java.lang.String namespacePrefix = registerPrefix(xmlWriter,"http://www.openoandm.org/xml/ISBM/");
                   if ((namespacePrefix != null) && (namespacePrefix.trim().length() > 0)){
                       writeAttribute("xsi","http://www.w3.org/2001/XMLSchema-instance","type",
                           namespacePrefix+":MessageContent_type0",
                           xmlWriter);
                   } else {
                       writeAttribute("xsi","http://www.w3.org/2001/XMLSchema-instance","type",
                           "MessageContent_type0",
                           xmlWriter);
                   }

                   }

                            if (localExtraElement != null) {
                                localExtraElement.serialize(xmlWriter);
                            } else {
                               throw new org.apache.axis2.databinding.ADBException("extraElement cannot be null!!");
                            }

                    xmlWriter.writeEndElement();

        }

        private static java.lang.String generatePrefix(java.lang.String namespace) {
            if(namespace.equals("http://www.openoandm.org/xml/ISBM/")){
                return "ns1";
            }
            return org.apache.axis2.databinding.utils.BeanUtil.getUniquePrefix();
        }

        /**
         * Utility method to write an element start tag.
         */
        private void writeStartElement(java.lang.String prefix, java.lang.String namespace, java.lang.String localPart,
                                       javax.xml.stream.XMLStreamWriter xmlWriter) throws javax.xml.stream.XMLStreamException {
            java.lang.String writerPrefix = xmlWriter.getPrefix(namespace);
            if (writerPrefix != null) {
                xmlWriter.writeStartElement(namespace, localPart);
            } else {
                if (namespace.length() == 0) {
                    prefix = "";
                } else if (prefix == null) {
                    prefix = generatePrefix(namespace);
                }

                xmlWriter.writeStartElement(prefix, localPart, namespace);
                xmlWriter.writeNamespace(prefix, namespace);
                xmlWriter.setPrefix(prefix, namespace);
            }
        }

        /**
         * Util method to write an attribute with the ns prefix
         */
        private void writeAttribute(java.lang.String prefix,java.lang.String namespace,java.lang.String attName,
                                    java.lang.String attValue,javax.xml.stream.XMLStreamWriter xmlWriter) throws javax.xml.stream.XMLStreamException{
            if (xmlWriter.getPrefix(namespace) == null) {
                xmlWriter.writeNamespace(prefix, namespace);
                xmlWriter.setPrefix(prefix, namespace);
            }
            xmlWriter.writeAttribute(namespace,attName,attValue);
        }

        /**
         * Util method to write an attribute without the ns prefix
         */
        private void writeAttribute(java.lang.String namespace,java.lang.String attName,
                                    java.lang.String attValue,javax.xml.stream.XMLStreamWriter xmlWriter) throws javax.xml.stream.XMLStreamException{
            if (namespace.equals("")) {
                xmlWriter.writeAttribute(attName,attValue);
            } else {
                registerPrefix(xmlWriter, namespace);
                xmlWriter.writeAttribute(namespace,attName,attValue);
            }
        }

           /**
             * Util method to write an attribute without the ns prefix
             */
            private void writeQNameAttribute(java.lang.String namespace, java.lang.String attName,
                                             javax.xml.namespace.QName qname, javax.xml.stream.XMLStreamWriter xmlWriter) throws javax.xml.stream.XMLStreamException {

                java.lang.String attributeNamespace = qname.getNamespaceURI();
                java.lang.String attributePrefix = xmlWriter.getPrefix(attributeNamespace);
                if (attributePrefix == null) {
                    attributePrefix = registerPrefix(xmlWriter, attributeNamespace);
                }
                java.lang.String attributeValue;
                if (attributePrefix.trim().length() > 0) {
                    attributeValue = attributePrefix + ":" + qname.getLocalPart();
                } else {
                    attributeValue = qname.getLocalPart();
                }

                if (namespace.equals("")) {
                    xmlWriter.writeAttribute(attName, attributeValue);
                } else {
                    registerPrefix(xmlWriter, namespace);
                    xmlWriter.writeAttribute(namespace, attName, attributeValue);
                }
            }
        /**
         *  method to handle Qnames
         */

        private void writeQName(javax.xml.namespace.QName qname,
                                javax.xml.stream.XMLStreamWriter xmlWriter) throws javax.xml.stream.XMLStreamException {
            java.lang.String namespaceURI = qname.getNamespaceURI();
            if (namespaceURI != null) {
                java.lang.String prefix = xmlWriter.getPrefix(namespaceURI);
                if (prefix == null) {
                    prefix = generatePrefix(namespaceURI);
                    xmlWriter.writeNamespace(prefix, namespaceURI);
                    xmlWriter.setPrefix(prefix,namespaceURI);
                }

                if (prefix.trim().length() > 0){
                    xmlWriter.writeCharacters(prefix + ":" + org.apache.axis2.databinding.utils.ConverterUtil.convertToString(qname));
                } else {
                    // i.e this is the default namespace
                    xmlWriter.writeCharacters(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(qname));
                }

            } else {
                xmlWriter.writeCharacters(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(qname));
            }
        }

        private void writeQNames(javax.xml.namespace.QName[] qnames,
                                 javax.xml.stream.XMLStreamWriter xmlWriter) throws javax.xml.stream.XMLStreamException {

            if (qnames != null) {
                // we have to store this data until last moment since it is not possible to write any
                // namespace data after writing the charactor data
                java.lang.StringBuffer stringToWrite = new java.lang.StringBuffer();
                java.lang.String namespaceURI = null;
                java.lang.String prefix = null;

                for (int i = 0; i < qnames.length; i++) {
                    if (i > 0) {
                        stringToWrite.append(" ");
                    }
                    namespaceURI = qnames[i].getNamespaceURI();
                    if (namespaceURI != null) {
                        prefix = xmlWriter.getPrefix(namespaceURI);
                        if ((prefix == null) || (prefix.length() == 0)) {
                            prefix = generatePrefix(namespaceURI);
                            xmlWriter.writeNamespace(prefix, namespaceURI);
                            xmlWriter.setPrefix(prefix,namespaceURI);
                        }

                        if (prefix.trim().length() > 0){
                            stringToWrite.append(prefix).append(":").append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(qnames[i]));
                        } else {
                            stringToWrite.append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(qnames[i]));
                        }
                    } else {
                        stringToWrite.append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(qnames[i]));
                    }
                }
                xmlWriter.writeCharacters(stringToWrite.toString());
            }

        }

        /**
         * Register a namespace prefix
         */
        private java.lang.String registerPrefix(javax.xml.stream.XMLStreamWriter xmlWriter, java.lang.String namespace) throws javax.xml.stream.XMLStreamException {
            java.lang.String prefix = xmlWriter.getPrefix(namespace);
            if (prefix == null) {
                prefix = generatePrefix(namespace);
                javax.xml.namespace.NamespaceContext nsContext = xmlWriter.getNamespaceContext();
                while (true) {
                    java.lang.String uri = nsContext.getNamespaceURI(prefix);
                    if (uri == null || uri.length() == 0) {
                        break;
                    }
                    prefix = org.apache.axis2.databinding.utils.BeanUtil.getUniquePrefix();
                }
                xmlWriter.writeNamespace(prefix, namespace);
                xmlWriter.setPrefix(prefix, namespace);
            }
            return prefix;
        }

        /**
        * databinding method to get an XML representation of this object
        *
        */
        public javax.xml.stream.XMLStreamReader getPullParser(javax.xml.namespace.QName qName)
                    throws org.apache.axis2.databinding.ADBException{

                 java.util.ArrayList elementList = new java.util.ArrayList();
                 java.util.ArrayList attribList = new java.util.ArrayList();

                            if (localExtraElement != null){
                                elementList.add(org.apache.axis2.databinding.utils.Constants.OM_ELEMENT_KEY);
                                elementList.add(localExtraElement);
                            } else {
                               throw new org.apache.axis2.databinding.ADBException("extraElement cannot be null!!");
                            }

                return new org.apache.axis2.databinding.utils.reader.ADBXMLStreamReaderImpl(qName, elementList.toArray(), attribList.toArray());

        }

     /**
      *  Factory class that keeps the parse method
      */
    public static class Factory{

        /**
        * static method to create the object
        * Precondition:  If this object is an element, the current or next start element starts this object and any intervening reader events are ignorable
        *                If this object is not an element, it is a complex type and the reader is at the event just after the outer start element
        * Postcondition: If this object is an element, the reader is positioned at its end element
        *                If this object is a complex type, the reader is positioned at the end element of its outer element
        */
        public static MessageContent_type0 parse(javax.xml.stream.XMLStreamReader reader) throws java.lang.Exception{
            MessageContent_type0 object =
                new MessageContent_type0();

            int event;
            java.lang.String nillableValue = null;
            java.lang.String prefix ="";
            java.lang.String namespaceuri ="";
            try {

                while (!reader.isStartElement() && !reader.isEndElement())
                    reader.next();

                if (reader.getAttributeValue("http://www.w3.org/2001/XMLSchema-instance","type")!=null){
                  java.lang.String fullTypeName = reader.getAttributeValue("http://www.w3.org/2001/XMLSchema-instance",
                        "type");
                  if (fullTypeName!=null){
                    java.lang.String nsPrefix = null;
                    if (fullTypeName.indexOf(":") > -1){
                        nsPrefix = fullTypeName.substring(0,fullTypeName.indexOf(":"));
                    }
                    nsPrefix = nsPrefix==null?"":nsPrefix;

                    java.lang.String type = fullTypeName.substring(fullTypeName.indexOf(":")+1);

                            if (!"MessageContent_type0".equals(type)){
                                //find namespace for the prefix
                                java.lang.String nsUri = reader.getNamespaceContext().getNamespaceURI(nsPrefix);
                                return (MessageContent_type0)org.openoandm.www.xml.isbm.ExtensionMapper.getTypeObject(
                                     nsUri,type,reader);
                              }

                  }

                }

                // Note all attributes that were handled. Used to differ normal attributes
                // from anyAttributes.
                java.util.Vector handledAttributes = new java.util.Vector();

                    reader.next();

                                    while (!reader.isStartElement() && !reader.isEndElement()) reader.next();

                                   if (reader.isStartElement()){

                                     //use the QName from the parser as the name for the builder
                                     javax.xml.namespace.QName startQname1 = reader.getName();

                                     // We need to wrap the reader so that it produces a fake START_DOCUMENT event
                                     // this is needed by the builder classes
                                     org.apache.axis2.databinding.utils.NamedStaxOMBuilder builder1 =
                                         new org.apache.axis2.databinding.utils.NamedStaxOMBuilder(
                                             new org.apache.axis2.util.StreamWrapper(reader),startQname1);
                                     object.setExtraElement(builder1.getOMElement());

                                         reader.next();

                              }  // End of if for expected property start element

                                else{
                                    // A start element we are not expecting indicates an invalid parameter was passed
                                    throw new org.apache.axis2.databinding.ADBException("Unexpected subelement " + reader.getName());
                                }

                            while (!reader.isStartElement() && !reader.isEndElement())
                                reader.next();

                                if (reader.isStartElement())
                                // A start element we are not expecting indicates a trailing invalid property
                                throw new org.apache.axis2.databinding.ADBException("Unexpected subelement " + reader.getName());

            } catch (javax.xml.stream.XMLStreamException e) {
                throw new java.lang.Exception(e);
            }

            return object;
        }

        }//end of factory class

        } 
```

当我传递数据以设置 setter 方法时，它会抛出异常

```
java.lang.String cannot be cast to org.openoandm.www.xml.isbm.MessageContent_type0 
```

如何通过在其中传递字符串来设置 setter 方法？提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:22:20.123

您需要将您的 String 转换为 MessageContent_type0，简单的转换是不行的。

不知道这门课是什么，但也许有类似的东西

```
new MessageContent_type0(myString); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:22:37.067

在 java 中是不允许的。您可以向上转换或向下转换继承层次结构中的任何对象。但不能将任何东西投射到继承层次结构之外。

在您的情况下，类型中`localMessageContent`必须有一些带有`string`参数或方法的构造函数，例如`setMessage(string)`

# python - Django：如何在模板中获取站点的根路径？

> ID：16009691
> 
> 赞同：12
> 
> 时间：2013-04-15T07:19:26.677
> 
> 标签：python, django

我想为我的网站设计一个返回主页按钮，以及如何在模板中获取我的网站的根路径，以便我可以执行以下操作：

```
<a href="{{ root_url }}">Go back home</a> 
```

或者我应该首先找出视图中的路径，然后将其传递给模板以通过某些上下文进行渲染。谢谢。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-15T07:34:46.237

我认为这里的正确方法是使用`{% url %}`标签，并且我假设您的 url conf 中有一个根 url。

**网址.py**

```
url(r'^mah_root/$', 'someapp.views.mah_view', name='mah_view'), 
```

然后在您的模板中：

```
<a href="{% url mah_view %}">Go back home</a> 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-04-15T07:26:08.950

您应该能够访问请求的[get_host()](https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpRequest.get_host)方法：

```
<a href="http://{{ request.get_host() }}">Go back home</a> 
```

虽然你也可以这样做：

```
<a href="/">Go back home</a> 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-10-24T17:08:48.027

我发现了一个技巧，使用这个标签：

`{{ HTTP_HOST }}`

你可以这样做：

```
<a href="{{ HTTP_HOST }}"> back home <a> 
```

或者

```
<a href="{{ HTTP_HOST }}/what_you_want"> back home <a> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-10-27T19:52:45.090

这就是我所做的：

在 urls.py 中：

```
from django.contrib import admin
from django.urls import include, path
from django.views.generic import TemplateView

urlpatterns = [
    path('blog/', include('blog.urls')),
    path('admin/', admin.site.urls),
    path('', TemplateView.as_view(template_name='landing.html'), name='landing')
] 
```

然后，无论从哪个角度看：

```
<a href="{% url 'landing' %}">Site Title</a> 
```

当您单击链接时，这将解析为 localhost:8000/ 或 site.domain.com/ 无论您使用的是哪个

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-10-06T23:20:27.393

参考标准 Django 示例：

```
urlpatterns = [
    path('', views.index, name='index'),
] 
```

然后模板代码：

```
href="{% url 'index' %}" 
```

也将工作。

# java - 堆大小错误 Aspose

> ID：16009692
> 
> 赞同：1
> 
> 时间：2013-04-15T07:19:37.123
> 
> 标签：java, aspose, aspose.words

在使用 Aspose 将 docx 文件转换为 pdf 文件时出现此错误。这是此 docx 文件为 44Mb`heap size`的代码

```
public void convertDoc(String Path, String destPath) throws Exception{

        Document doc = new Document(Path); //At this line heap size error comes
        doc.save(destPath);
        System.out.println("doc converted to pdf");

        } 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T07:54:36.767

增加堆大小应该可以解决问题。

如果没有，请检查您的 Word 文档中是否有高分辨率图像。我已在 512 MB 内存下将非常大的 DOC 文件转换为 PDF（没有高分辨率图像）。但是，有些文件，甚至不到50页，但图像很大，它们需要很大的内存，甚至高达3GB！

可能的解决方案：

*   使用 Aspose.Words 将文档中的图像替换为更小、调整大小的图像
*   如果文档有多个部分，请按部分拆分文档并分别转换为 PDF。当然，这稍后需要合并 PDF 文件。

我在 Aspose 担任开发人员/传播者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:47:50.510

由于您正在加载大于堆大小的文档，因此在运行这样的程序时必须增加堆大小

```
 java -Xmx512M myprogram 
```

如果您使用的是 eclipse `Run -> Run Configurations`，请在 Arguments Tab 下输入 -Xmx512m 并单击 RUN

![在此处输入图像描述](https://i.stack.imgur.com/BgBn7.jpg)

# ios - 我可以用“不备份”属性标记文档目录吗？

> ID：16009693
> 
> 赞同：3
> 
> 时间：2013-04-15T07:19:38.350
> 
> 标签：ios, backup

我读过我可以用“不备份”属性标记文件夹。
据我了解，在这种情况下，目录的所有内容都将从备份中排除。
在我们的应用程序中，我们需要从备份中排除 Documents 目录中的所有文件（这些文件可以在应用程序执行期间从 Documents 中添加或删除）。
我们需要将文件存储在 Documents 中，因为我们使用“应用程序支持 iTunes 文件共享”功能。
我们可以用“不备份属性”标记 Documents 目录吗？
苹果允许这样做吗？
这会成为拒绝我们应用的理由吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-11-17T07:06:21.223

根据苹果

> 在 iOS 5.0 及更早版本中，将文件放在 /Library/Caches 目录中，以防止它们被备份
> 
> 在 iOS 5.0.1 及更高版本中，将文件放在 /Library/Application Support 目录中，并对它们应用 **com.apple.MobileBackup**扩展属性。此属性可防止将文件备份到 iTunes 或 iCloud。如果您有大量支持文件，您可以将它们存储在自定义子目录中，并将扩展属性仅应用于该目录。

据我所知，您不能使用不备份属性标记文档目录

1）您可以使用下面的代码片段标记文档目录中的各个文件

```
- (BOOL)addSkipBackupAttributeToItemAtPath:(NSString *)filePathString {
        NSURL *fileURL =
        [NSURL fileURLWithPath:filePathString];

        assert([[NSFileManager defaultManager] 
        fileExistsAtPath: [fileURL path]]);

        NSError *error = nil;

        BOOL success = [fileURL setResourceValue:[NSNumber numberWithBool:YES]
                                      forKey:NSURLIsExcludedFromBackupKey
                                     error:&error];
        return success;
    } 
```

2）您可以在文档文件夹中创建一个子目录并对其应用扩展属性。

您可以使用以下语法设置扩展属性。

```
int result = setxattr(path, attrName, myDataBytes, [myData length], 0, 0); 
```

[您可以在以下链接](http://www.cocoanetics.com/2012/03/reading-and-writing-extended-file-attributes/)中找到有关读取和写入扩展属性的更多信息

我希望这有帮助

# c# - 动态函数 , IOrderedQueryable > 表达

> ID：16009694
> 
> 赞同：7
> 
> 时间：2013-04-15T07:19:42.803
> 
> 标签：c#, iqueryable, linq-expressions, iorderedqueryable

我正在使用这里提到的模式 [http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in- an-asp-net-mvc-应用程序](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application)

我正在使用下面的方法来查询 EF

```
public virtual IEnumerable<TEntity> Get(
        Expression<Func<TEntity, bool>> filter = null,
        Func<IQueryable<TEntity>, IOrderedQueryable<TEntity>> orderBy = null,
        string includeProperties = "")
    {
        IQueryable<TEntity> query = dbSet;

        if (filter != null)
        {
            query = query.Where(filter);
        }

        foreach (var includeProperty in includeProperties.Split
            (new char[] { ',' }, StringSplitOptions.RemoveEmptyEntries))
        {
            query = query.Include(includeProperty);
        }

        if (orderBy != null)
        {
            return orderBy(query).ToList();
        }
        else
        {
            return query.ToList();
        }
    } 
```

现在我想创建动态`Func<IQueryable<TEntity>, IOrderedQueryable<TEntity>>`表达式来订购我的数据。

我只知道字段名称为字符串，订单类型（升序、降序）为字符串（asc、desc）

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-15T18:08:41.880

最后我可以写出我想要的方法。

```
 public static Func<IQueryable<TEntity>, IOrderedQueryable<TEntity>> GetOrderBy(string orderColumn, string orderType) {
            Type typeQueryable = typeof(IQueryable<TEntity>);
            ParameterExpression argQueryable = Expression.Parameter(typeQueryable, "p");
            var outerExpression = Expression.Lambda(argQueryable, argQueryable);
            string[] props = orderColumn.Split('.');
            IQueryable<TEntity> query = new List<TEntity>().AsQueryable<TEntity>();
            Type type = typeof(TEntity);
            ParameterExpression arg = Expression.Parameter(type, "x");

            Expression expr = arg;
            foreach(string prop in props) {
                PropertyInfo pi = type.GetProperty(prop, BindingFlags.IgnoreCase | BindingFlags.Public | BindingFlags.Instance);
                expr = Expression.Property(expr, pi);
                type = pi.PropertyType;
            }
            LambdaExpression lambda = Expression.Lambda(expr, arg);
            string methodName = orderType == "asc" ? "OrderBy" : "OrderByDescending";

            MethodCallExpression resultExp =
                Expression.Call(typeof(Queryable), methodName, new Type[] { typeof(TEntity), type }, outerExpression.Body, Expression.Quote(lambda));
            var finalLambda = Expression.Lambda(resultExp, argQueryable);
            return (Func<IQueryable<TEntity>, IOrderedQueryable<TEntity>>)finalLambda.Compile();
        } 
```

这个方法有两个参数，第一个是字段名，另一个是 asc 或 desc。方法的结果可以直接与 IQueryable 对象一起使用。

感谢您的帮助

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-04-11T22:01:33.040

这对聚会来说已经很晚了，但正确的答案位于[https://stackoverflow.com/a/10935223/14275的另一个问题上](https://stackoverflow.com/a/10935223/14275)

```
var students = repository.Get(x => x.FirstName = "Bob",q => q.OrderBy(s => s.LastName)); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-15T13:02:47.217

我不确定您到底想完成什么，但我已经更改了您的代码并添加了一些示例来演示它是如何工作的。

这是一个简单的控制台应用程序，其中包含 dummyText 作为列表。Queryable 方法可以根据需要使用过滤和排序表达式。我希望它有帮助

```
 class Program
{

    private List<string> _dummyText = new List<string>(){ "Arda",
        "Araba",
        "Antartika",
        "Balon"};

    static void Main(string[] args)
    {
        Program p = new Program();
        List<string> result = p.Get(s => s.StartsWith("A"), orderBy: q => q.OrderBy(d => d.Length)).ToList();

        Console.ReadLine();
    }

    public virtual IEnumerable<string> Get(
    Expression<Func<string, bool>> filter = null,
    Func<IQueryable<string>, IOrderedQueryable<string>> orderBy = null)
    {

        IQueryable<string> query = _dummyText.AsQueryable();

        if (filter != null)
        {
            query = query.Where(filter);
        }

        if (orderBy != null)
        {
            return orderBy(query).ToList();
        }
        else
        {
            return query.ToList();
        }

    }

} 
```

# eclipse - 用于 Eclipse 的 Force.com IDE 插件

> ID：16009696
> 
> 赞同：0
> 
> 时间：2013-04-15T07:19:46.410
> 
> 标签：eclipse, eclipse-plugin, salesforce, force.com

当我尝试为 Eclipse 下载 Force.com 插件时，它不成功并给我以下错误。请给我一个解决方案。

```
Cannot complete the install because of a conflicting dependency.
Software being installed: Force.com IDE 18.0.0.201004191706 (com.salesforce.ide.feature.feature.group 18.0.0.201004191706)
Software being installed: Force.com IDE 19.0.0.201006111421 (com.salesforce.ide.feature.feature.group 19.0.0.201006111421)
Only one of the following can be installed at once: 
Force.com IDE API 24.0.0.201202271900 (com.salesforce.ide.api 24.0.0.201202271900)
Force.com IDE API 16.0.0.200906151227 (com.salesforce.ide.api 16.0.0.200906151227)
Force.com IDE API 23.0.0.201110271337 (com.salesforce.ide.api 23.0.0.201110271337)
Force.com IDE API 23.0.1.201111041306 (com.salesforce.ide.api 23.0.1.201111041306)
Force.com IDE API 25.0.0.201206181021 (com.salesforce.ide.api 25.0.0.201206181021)
Force.com IDE API 27.0.0.201302151147 (com.salesforce.ide.api 27.0.0.201302151147)
Force.com IDE API 23.0.0.201110271426 (com.salesforce.ide.api 23.0.0.201110271426)
Force.com IDE API 18.0.0.201004191706 (com.salesforce.ide.api 18.0.0.201004191706)
Force.com IDE API 20.0.1.201011121559 (com.salesforce.ide.api 20.0.1.201011121559)
Force.com IDE API 24.0.0.201202291502 (com.salesforce.ide.api 24.0.0.201202291502)
Force.com IDE API 24.0.0.201202291629 (com.salesforce.ide.api 24.0.0.201202291629)
Force.com IDE API 19.0.0.201006111421 (com.salesforce.ide.api 19.0.0.201006111421)
Force.com IDE API 14.0.2.200812101436 (com.salesforce.ide.api 14.0.2.200812101436)
Force.com IDE API 15.0.0.200902181452 (com.salesforce.ide.api 15.0.0.200902181452)
Force.com IDE API 26.0.0.201210261118 (com.salesforce.ide.api 26.0.0.201210261118)
Force.com IDE API 23.0.2.201201091635 (com.salesforce.ide.api 23.0.2.201201091635)
Force.com IDE API 15.0.1.200903241010 (com.salesforce.ide.api 15.0.1.200903241010)
Force.com IDE API 14.0.0.200810271707 (com.salesforce.ide.api 14.0.0.200810271707)
Force.com IDE API 15.0.2.200904191137 (com.salesforce.ide.api 15.0.2.200904191137)
Force.com IDE API 20.0.0.201010190848 (com.salesforce.ide.api 20.0.0.201010190848)
Force.com IDE API 25.0.0.201206151446 (com.salesforce.ide.api 25.0.0.201206151446)
Force.com IDE API 14.0.1.200810311433 (com.salesforce.ide.api 14.0.1.200810311433)
Cannot satisfy dependency:
From: Force.com IDE 18.0.0.201004191706 (com.salesforce.ide.feature.feature.group 18.0.0.201004191706)
To: com.salesforce.ide.api [18.0.0,19.0.0)
Cannot satisfy dependency:
From: Force.com IDE 19.0.0.201006111421 (com.salesforce.ide.feature.feature.group 19.0.0.201006111421)
To: com.salesforce.ide.api [19.0.0,20.0.0) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T12:32:05.063

它表明您正在使用 Juno 或 Indigo。我对这些版本有同样的问题。试试[赫利俄斯](http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/heliossr1)。

# iphone - UITextField 文本中的超链接

> ID：16009698
> 
> 赞同：0
> 
> 时间：2013-04-15T07:20:01.627
> 
> 标签：iphone, ios, uitextfield

我有一个社交网络应用程序，用户可以在其中创建挑战并添加一些以 # 开头的特殊关键字，我们称之为挑战标签，一个挑战可以有多个标签。所有挑战都将显示在时间线上，并附有完整信息。现在我想在 UITextfield 中出现#Tags 的地方添加 UIButton 或其他东西。因此，如果用户点击任何#Tag，我将能够使用相同的#Tag 显示所有挑战。

简而言之，我想获得用户点击的#Tag。！

[这就是挑战描述在时间线上的样子](http://i.stack.imgur.com/mFHpx.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:39:22.350

1.  看看这个[库](https://github.com/lukeredpath/LRLinkableLabel)。您可以使用它来创建带有可点击超链接的标签（您可以使用相同的方法检测哈希标签区域并将 UIButton 实例放在`drawRect`方法中）。
2.  另一种选择是使用带有静态 HTML 的 UIWebView 而不是 UITextField 来存储带有哈希标签的文本。阅读[此](https://stackoverflow.com/questions/10992339/how-to-intercept-button-click-inside-uiwebview-on-ios)内容以供参考。

# javascript - 正则表达式修剪字符串中 spaves 和换行符的组合

> ID：16009709
> 
> 赞同：0
> 
> 时间：2013-04-15T07:20:57.137
> 
> 标签：javascript, regex

我有一个字符串，我想修剪空格和 <br /> 的所有前导和尾随组合。如果字符串是

> <br /> < br />< br />< br /> < br /> < br />你好< br /> < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br />
> "

我必须打招呼。我尝试失败：

```
string = string.replace(/(<br \/>)+$| +$/g,'').replace(/^(<br \/>)+|^ +/g,'') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:24:52.993

你可以试试这个：

```
> var string = "< br /> < br />< br />< br /> < br /> < br /> Hello < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br /> <br />";
> string.replace(/^(<\s*br\s*\/>|\s*)*|(<\s*br\s*\/>|\s)*$/gi, '');
"Hello" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:30:16.697

你可以试试这个。我想这应该对你有帮助

```
var a="< br /> < br />< br />< br /> < br /> <br /> Hello < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br /> < br />";
var b=a.replace(/< br \/>|\s/g,"");
alert(b);//Hello 
```

干杯...！！！！！

# java - 使用枚举清晰地表示错误消息 - 这是一种好习惯吗？

> ID：16009715
> 
> 赞同：8
> 
> 时间：2013-04-15T07:21:20.840
> 
> 标签：java, exception-handling, error-handling, enums

我想将我的错误消息和内容合并到一个文件中，并尽可能使我的代码更具可读性。

这是我的枚举文件中的一个示例：

```
public enum ZipErrorType {

// START: define exception messages (alphabetical order)
EMPTY_FILE_NAME_IN_LIST {
    public String toString() {
        return "One or more null/empty filename(s) found";
    }
},

FILE_DOESNT_EXIST {
    public String who(String sThisFile) {
        return "[" + sThisFile + "] does not exist";
    }
},

FILE_LIST_IS_NULL {
    public String toString() {
        return "File list is null/empty";
    }
},

FILENAME_NOT_ABSOLUTE {
    public String who(String sThisFile) {
        return "[" + sThisFile + "] is not absolute";
    }
},

MUST_BE_DIR {
    public String who(String sThisFile) {
        return "[" + sThisFile + "] must be a directory";
    }
},

MUST_BE_FILE {
    public String who(String sThisFile) {
        return "[" + sThisFile + "] must be a file";
    }
},

NULL_OR_EMPTY {
    public String who(String sThisFile) {
        return "[" + sThisFile + "] is null/empty";
    }
},

OUTPUT_FILE_ALREADY_EXISTS {
    public String who(String sThisFile) {
        return "[" + sThisFile + "] already exists";
    }
},

OUTPUT_FILENAME_EMPTY {
    public String toString() {
        return "Output filename is null/empty";
    }
},

OUTPUT_PATH_EMPTY {
    public String toString() {
        return "Output path is null/empty";
    }
},
// END: define exception messages

NONE {};

public String who(String sThisFile) { return ""; }
} 
```

然后在我的程序中，我有如下代码：

```
private static ZipErrorType getFileErrorsIfAny(String sFilename, boolean shouldBeFile) {

    // check if given filename is absolute
    File file = new File(sFilename);
    if (!file.isAbsolute()) {
        return ZipErrorType.FILENAME_NOT_ABSOLUTE;
    }

    // check if file exists
    if (!file.exists()) {
        return ZipErrorType.FILE_DOESNT_EXIST;
    }

    // check if corresponding file is a file when it shouldn't be...
    if (file.isFile() && !shouldBeFile) {
        return ZipErrorType.MUST_BE_DIR;
    }
    // ...or a directory when it should be a file
    else if (file.isDirectory() && shouldBeFile) {
        return ZipErrorType.MUST_BE_FILE;
    }

    return ZipErrorType.NONE;
} 
```

...以及我如何使用枚举的示例：

```
 // check input files
    for (String sFile : files) {
        if (sFile == null || sFile.trim().length() == 0) {
            throw new NullPointerException("One or more filename is null/empty");
        }

        errorIfAny = getFileErrorsIfAny(sFile.trim(), true); 
        if (!errorIfAny.equals(ZipErrorType.NONE)) {
            throw new ZipInputException(errorIfAny.who(sFile.trim()));
        }
    } 
```

现在我知道仅凭这些代码片段很难判断，但是从一般的角度来看，这可以吗？我正在做的事情不值得麻烦吗，有没有办法改善这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T08:22:01.420

我建议使用简单的字符串模板而不是枚举来构建错误消息。像这样的东西：

```
String EMPTY_FILE_NAME_IN_LIST_TEMPLATE = "One or more null/empty filename(s) found";
String FILE_DOESNT_EXIST_TEMPLATE = "[ %s ] does not exist";
String FILE_LIST_IS_NULL_TEMPLATE = "File list is null/empty";
String FILENAME_NOT_ABSOLUTE_TEMPLATE = "[ %s ] is not absolute";
String MUST_BE_DIR_TEMPLATE = "[ %s ] must be a directory";
String MUST_BE_FILE_TEMPLATE = "[ %s ] must be a file";
String NULL_OR_EMPTY_TEMPLATE = "[ %s ] is null/empty";
String OUTPUT_FILE_ALREADY_EXISTS_TEMPLATE = "[ %s ] already exists";
String OUTPUT_FILENAME_EMPTY_TEMPLATE = "Output filename is null/empty";
String OUTPUT_PATH_EMPTY_TEMPLATE = "Output path is null/empty"; 
```

然后，`String.format(template, sFilename)`用于构建实际消息。

您也可以考虑直接从方法中抛出异常`getFileErrorsIfAny()`：

```
File file = new File(sFilename);
if (!file.isAbsolute()) {
    throw new ZipInputException(String.format(FILENAME_NOT_ABSOLUTE_TEMPLATE, sFilename));
} 
```

对我来说看起来更干净，更紧凑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:45:06.433

`enum`这似乎有可能导致代码周围出现许多大量的 s。

这不是第一次有人想要将日志消息与日志语句分开。

事实上，[`java.util.logging`](http://docs.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html)已经有一个专为本地化设计的[框架。](https://blogs.oracle.com/CoreJavaTechTips/entry/logging_localized_message)

它使用`.properties`包含消息的文件。
您会在类路径中获得带有文件路径的记录器：-

```
Logger logger = Logger.getLogger("com.example", "path/to/messages.properties"); 
```

然后使用属性键完成记录语句

```
logger.log(level, "messageKey"); 
```

您可以参数化日志记录，因为它使用[`MessageFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html)语法

```
zip.fileDoesNotExist={0} does not exist

logger.log(level, "zip.fileDoesNotExist", file); 
```

这些参数非常灵活，因为您可以在其中指定格式信息，甚至[`ChoiceFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/ChoiceFormat.html)在需要时使用。

所有这些的主要优点是您的消息位于单独的文件中，而不是`class`. **并且**可以随`logging.properties`文件随意开启和关闭登录。您甚至可以为单个课程打开和关闭登录。**您可以登录到多个文件、**控制台、发送有关错误的电子邮件等

**所以，总而言之。使用现有的日志框架。不要自己滚。**

*免责声明：我只谈论 JUL，因为 JUL 是内置于 Java 中的——你不需要任何 3rd 方库，那里有很多很多其他框架。*

# c# - 写入记录器的方法是纯的吗？

> ID：16009723
> 
> 赞同：5
> 
> 时间：2013-04-15T07:21:45.577
> 
> 标签：c#, attributes

纯方法定义为“[不进行任何可见的状态更改](http://msdn.microsoft.com/en-us/library/system.diagnostics.contracts.pureattribute.aspx)”。

如果一个参数为空或抛出异常，我的方法是写一条日志消息。还是纯的吗？写入记录器是可见的变化吗？

这是代码：

```
 /// <summary>
    /// Formats with invariant culture - won't throw an exception.
    /// </summary>
    /// <param name="format">A composite format string.</param>
    /// <param name="args">An object array that contains zero or more objects to format.</param>
    /// <returns>A copy of format in which the format items have been replaced by the string representation of the corresponding objects in args.</returns>
    [SuppressMessage("Microsoft.Globalization", "CA1303:Do not pass literals as localized parameters", MessageId = "CyanCor.Core.Logging.Log.ExceptionPrevent(System.String,System.String,System.Int32,System.String)", Justification = "It is for the logger (riedl)")]
    [Pure - yes or no?]
    public static string FormatSafe(this string format, params object[] args)
    {
        if (format == null)
        {
            Log.ExceptionPrevent("Argument format is null");
            return NullFormat;
        }

        try
        {
            return string.Format(CultureInfo.InvariantCulture, format, args);
        }
        catch (ArgumentException exc)
        {
            Log.Exception(exc);
            return format;
        }
        catch (FormatException exc)
        {
            Log.Exception(exc);
            return format;
        }
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:27:37.057

一般来说，“状态改变”是指修改一个对象的状态，即。修改变量或更改复杂对象的结构。按照这个定义，您的方法似乎仍然是纯粹的。

# ios - locationManager 避免标签中的（空）字符串

> ID：16009729
> 
> 赞同：1
> 
> 时间：2013-04-15T07:22:00.480
> 
> 标签：ios, cllocationmanager, stringwithformat

我有一些代码可以找到用户位置并将其返回到标签中。在某些情况下，subAdministrativeArea 或通道不可用，我想修改我的字符串，使其不显示 (null)。我尝试了一些 if 来检查这一点，但如果 (null) 不止一个，则会出现问题。有人对此有任何想法吗？

这是我当前的代码，需要修改以检测地标对象是否等于 null：

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
        CLLocation *currentLocation = newLocation;
        [location stopUpdatingLocation];

        [geocoder reverseGeocodeLocation:currentLocation completionHandler:^(NSArray *placemarks, NSError *error) {
        if (error == nil && [placemarks count] > 0) {
            placemark = [placemarks lastObject];

            countryDetected = placemark.ISOcountryCode;
            placeLabel.text = [NSString stringWithFormat:@"%@, %@, %@, %@, %@ %@", placemark.country, placemark.subAdministrativeArea, placemark.subLocality, placemark.postalCode, placemark.thoroughfare, placemark.subThoroughfare];
            userPlace = [NSString stringWithFormat:@"%@, %@, %@, %@, %@ %@", placemark.country, placemark.subAdministrativeArea, placemark.subLocality, placemark.postalCode, placemark.thoroughfare, placemark.subThoroughfare];

        } else {
            NSLog(@"%@", error.debugDescription);
        }
    } ];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:25:49.700

两种选择：

1) 使用一个`NSMutableString`并且只附加非零值

2）更新您当前的解决方案，使每个参数如下：

```
placemark.country ? placemark.country : @"", placemark.subAdministrativeArea ? placemark.subAdministrativeArea : @"", ... 
```

更新：我没有注意到原始问题中的逗号。由于那些在那里，您最好的选择是选项1：

```
NSMutableString *label = [NSMutableString string];
if (placemark.country) {
    [label appendString:placemark.country];
}
if (placemark.subAdministrativeArea) {
    if (label.length) {
        [label appendString:@", "];
    }
    [label appendString:placemark.subAdministrativeArea];
}
// and the rest 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:27:35.310

试试这个..如果`placemark.subAdministrativeArea`是`nil`那么你可以在if条件中编写自己的字符串，否则将值设置`placemark.subAdministrativeArea`为字符串变量并将其分配给`UILable`...

**更新：**

```
NSMutableString *strLblTexts = [[NSMutableString alloc] init];
if (placemark.country != nil) {
        [strLblTexts appendString:placemark.country];
}
if (placemark.subAdministrativeArea != nil) {
        if ([strLblTexts isEqualToString:@""]||[strLblTexts isEqual:nil]) {
        [strLblTexts appendString:placemark.subAdministrativeArea];
    }
    else{
        NSString *strtemp=[NSString stringWithFormat:@",%@",placemark.subAdministrativeArea];

        NSLog(@">>>>>>>>>>>>> str temp :%@", strtemp);
        [strLblTexts appendString:strtemp];
    }
}
if (placemark.subLocality != nil) {
        if ([strLblTexts isEqualToString:@""]||[strLblTexts isEqual:nil]) {
        [strLblTexts appendString:placemark.subLocality];
    }
    else{
        NSString *strtemp=[NSString stringWithFormat:@",%@",placemark.subLocality];

        NSLog(@">>>>>>>>>>>>> str temp :%@", strtemp);
        [strLblTexts appendString:strtemp];
    }
} 
```

像另一个 3 字段一样做同样的事情，最后将该值设置为`UILable`如下所示...

```
placeLabel.text = strLblTexts; 
```

# encryption - HTTPS 密钥协商和使用 Javascript 的 HTTP 隧道

> ID：16009731
> 
> 赞同：0
> 
> 时间：2013-04-15T07:22:00.937
> 
> 标签：encryption, security, protocols, tunneling

HTTPS 广泛用于在线安全。它提供安全性和完整性，但不提供身份验证。为确保客户不与中间人交谈，我们拥有数字证书和 PKI。这一切都很好，除了在以下标准适用的情况下：

*   服务器和客户端不共享一个公共的、受信任的根 CA，因此它们无法验证彼此的证书
*   环境（例如防火墙、权限等）不允许使用常规 HTTPS 协议

问题是：我们是否仍然可以在客户端和服务器之间发送安全的、经过身份验证的消息，也许使用 Javascript？

类似于以下内容：

1.  客户端定期向服务器发送 HTTP 请求
2.  服务器响应包含 Javascript 代码的页面
3.  客户端的Javascript异步发送数据到用于协商的服务器
4.  服务器运行某种脚本（例如 PHP）来建立隧道
5.  客户端和服务器通过加密隧道进行通信

我可以看到可以以这种方式发送具有安全性和完整性的消息，但是是否可以在不使用 PKI 的情况下进行身份验证，也许是通过利用服务器可以动态重写发送给客户端的 Javascript 的事实？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T17:38:42.703

您的步骤 2 中存在一个问题 - `Server responds with page containing Javascript code`：您怎么知道坐在电线上的人没有修改此 Javascript，因为它是以明文形式传输的？基本上，当 X 想要验证 Y 时，X 应该知道一些关于 Y 的信息——它可以是公共信息，例如它可以验证的公钥/证书或共享秘密

# vb.net - 条件表达式中的数据类型不匹配。-Microsoft JET 数据库引擎

> ID：16009734
> 
> 赞同：1
> 
> 时间：2013-04-15T07:22:09.823
> 
> 标签：vb.net, oledb, vb.net-2010, oledbconnection

在下面的代码中，它是一个用于`OLEDB`连接的“删除”按钮。我的数据库表名是`tblinformation`.

顺便说一句，错误显示：

```
Data type mismatch in criteria expression. `-Microsoft JET DATABASE ENGINE`, and it was in a form of msgbox..

Imports System.Data.OleDb
Imports System.String
Public Class frmbookinfo
Dim cnn As New OleDb.OleDbConnection

Dim Str As String
    If CheckId() = False Then
        MsgBox("Id : Integer Value Required!!!")
        Exit Sub
    End If
    Try
        Str = "delete from tblinformation where bcode="
        Str += txtbookcode.Text.Trim
        Con.Open()
        Cmd = New OleDbCommand(Str, Con)
        Cmd.ExecuteNonQuery()
        Dst.clear()
        Dad = New OleDbDataAdapter("SELECT * FROM tblinformation ORDER BY bcode", Con)
        Dad.Fill(Dst, "tblinformation")
        MsgBox("Record deleted successfully...")
        If CurrentRow > 0 Then
            CurrentRow -= 1
            ShowData(CurrentRow)
        End If
        Con.Close()
    Catch ex As Exception
        MessageBox.Show("Could Not delete Record!!!")
        MsgBox(ex.Message & " -  " & ex.Source)
        Con.Close()
    End Try 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:08:20.090

可能您`bcode`在数据库中的字段是文本类型。
您使用字符串连接来构建命令文本，如果您未能正确处理您的值，这将无济于事。

而是使用参数化查询并让任务正确解析您的参数到数据库框架代码

```
 Str = "delete from tblinformation where bcode=?"
    Con.Open()
    Cmd = New OleDbCommand(Str, Con)
    Cmd.Parameters.AddWithValue("@p1", txtbookcode.Text.Trim)
    Cmd.ExecuteNonQuery() 
```

现在您的 sql 命令包含一个参数占位符 (?)，并且在参数集合中分配了正确的参数值。框架代码正确处理此参数

**编辑**如果您的`bcode`字段是文本字段，则不能以这种方式构建命令。您应该在单引号之间封装您的值。像这样的东西。

```
IT WORKS BUT IT IS WRONG - VERY WRONG -
Str = "delete from tblinformation where bcode='" & txtbookcode.Text.Trim & "'" 
```

## 但这从一开始就是错误的。

*   首先 - 如果您的 txtbookcode 包含单引号，则整个命令文本将变为无效，您会得到一个`Syntax Error`
*   第二 - 字符串连接不好，因为您不能信任您的用户。如果它输入一些恶意文本，您可能会遇到[Sql Injection 问题](https://stackoverflow.com/questions/332365/how-does-the-sql-injection-from-the-bobby-tables-xkcd-comic-work)

所以，我真的建议您使用第一个示例中说明的参数化查询方法

# ajax - 将滚动移动到 div

> ID：16009737
> 
> 赞同：0
> 
> 时间：2013-04-15T07:22:20.247
> 
> 标签：ajax

我有搜索公司的功能，我使用 ajax 来做这个搜索。当`ajax()`函数成功时，我需要将滚动移动到 div，我试试这个：

```
success: function(data){
$(".insid_body_web").html(data);
$(window).scrollTop($('#insid_body_web').offset().top);
$("#ResultCompany1").show();
$("#ResultCompany2").show(); 
$("#ErrorSearch").hide();
}, 
```

`FadeIn()`但是这个移动滚动效果不好，我需要通过功能或其他方式移动效果好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:32:41.540

FadeIn 用于删除某些内容。据我猜测，您需要的是平滑滚动到顶部。如果是那么让我知道，我会放代码。

```
success: function(data){
$(".insid_body_web").html(data);
$('html, body').animate({scrollTop:$('#insid_body_web').offset().top}, 'slow');
$("#ResultCompany1").show();
$("#ResultCompany2").show(); 
$("#ErrorSearch").hide();
}, 
```

# winforms - 如何在 C# windowsforms 窗体应用程序中停止闪烁？

> ID：16009743
> 
> 赞同：1
> 
> 时间：2013-04-15T07:23:01.537
> 
> 标签：winforms, c#-4.0, panel, flicker, doublebuffered

我有主面板和自动滚动=true，所有控件都放在主面板上。功能工作正常，但是当我单击任何控件或向下或向上滚动时，每次单击或滚动时它都会开始闪烁一秒钟，

我也设置

```
 DoubleBuffered = true; 
```

但这对我不起作用。

任何人都可以建议我解决方案或可以帮助我的新代码我alrasy在这个问题上花了2天时间。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:12:23.537

您可以尝试将其放入您的表单类中：

```
private const int WM_HSCROLL = 0x114;
private const int WM_VSCROLL = 0x115;

protected override void WndProc (ref Message m)
{
    if ((m.Msg == WM_HSCROLL || m.Msg == WM_VSCROLL)
        && (((int)m.WParam & 0xFFFF) == 5))
    {
        // Change SB_THUMBTRACK to SB_THUMBPOSITION
        m.WParam = (IntPtr)(((int)m.WParam & ~0xFFFF) | 4);
    }
    base.WndProc (ref m);
} 
```

您还可以将其添加到您的表单类构造函数中：

```
SetStyle(ControlStyles.OptimizedDoubleBuffer | ControlStyles.UserPaint | ControlStyles.AllPaintingInWmPaint, true); 
```

我使用的是 Windows 8，并且在 AutoScroll=true 的面板上没有闪烁。但上述方法应该可以解决闪烁问题。

# objective-c - 守护程序未加载 SMJobSubmit 目标 C

> ID：16009745
> 
> 赞同：0
> 
> 时间：2013-04-15T07:23:16.883
> 
> 标签：objective-c, macos, daemon, launchd

我想编写一个使用 SMJobSubmit() API 加载守护进程的程序，这是我的代码：

```
int main (int argc, const char * argv[])
{

    NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];

    NSString* myLabel = @"com.apple.mydaemon";

    AuthorizationItem authItem = { kSMRightBlessPrivilegedHelper, 0, NULL, 0 };
    AuthorizationRights authRights = { 1, &authItem };
    AuthorizationFlags flags = kAuthorizationFlagInteractionAllowed | kAuthorizationFlagPreAuthorize | kAuthorizationFlagExtendRights;
    NSString *executablePath=@"/usr/libexec/mydaemon";
    AuthorizationRef auth;
    CFErrorRef error=0;
    if( AuthorizationCreate( &authRights, kAuthorizationEmptyEnvironment, flags, &auth ) == errAuthorizationSuccess ) {
        (void) SMJobRemove( kSMDomainSystemLaunchd, (CFStringRef)myLabel, auth, false, NULL );
        //NSLog( @"Authenticated install submit failed with error %@", error );

        NSMutableDictionary *plist = [NSMutableDictionary dictionary];
        NSMutableDictionary * programArgumnets=[NSMutableDictionary new];
        [programArgumnets setObject:executablePath forKey:@"item0"];
        [plist setObject:myLabel forKey:@"Label"];
        [plist setObject:programArgumnets forKey:@"ProgramArguments"];
        [plist setObject:[NSNumber numberWithBool:YES] forKey:@"RunAtLoad"];
        [plist setObject:[NSNumber numberWithBool:YES] forKey:@"KeepAlive"];

        if ( SMJobSubmit( kSMDomainUserLaunchd, (CFDictionaryRef)plist, auth, &error) ) {
            // Script is running
        } else {
            NSLog( @"Authenticated install submit failed with error %@", error );
        }
        if ( error ) {
            CFRelease( error );
        }

            (void) SMJobRemove( kSMDomainSystemLaunchd, (CFStringRef)myLabel, auth, false, NULL );
        AuthorizationFree( auth, 0 );
    }

    [pool drain];
    return 0;
} 
```

但它给出了这个错误：

SMJobSubmit[822:707] 验证安装提交失败，错误域=kSMErrorDomainFramework Code=2051“操作无法完成。（kSMErrorDomainFramework 错误 2051 - 指定加载到 launchd 的作业无效。）” UserInfo=0x100115750 { NSDescription=指定加载到 launchd 的作业无效。}

问题是什么 ？提前致谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T23:57:09.543

ProgramArguments 不应为空。ProgramArguments 数组的第一个元素应与 Program 键相同。有关更多详细信息，请参阅 launchd 文档和 execvp 手册页。

# php - 如何将“while”循环的内容定位在右上角？

> ID：16009748
> 
> 赞同：0
> 
> 时间：2013-04-15T07:23:41.983
> 
> 标签：php, css, html, while-loop

`while`我有一个从PHP 编码的循环中获取的名称列表。当我尝试显示嵌入在 div 中的循环内容时，内容会重叠。我用于内容的样式是：

```
<style>
    #cap{
        position: absolute;
        top: 0px;
        right: 0px;
    }
</style> 
```

以下是循环内容的完整代码以及 PHP 中 div 的样式：

```
<?php
    $result2 = mysql_query("SELECT `player_name` FROM `player_data` WHERE  `team_id`=$team2");

    while($row = mysql_fetch_assoc($result2))
    {
        $name2 = $row['player_name'];
        echo "<div id='cap'>";
        echo "" . $name2 . "<br/>";
        echo "</div>";
    }
?> 
```

如何使此内容 $name2 不重叠？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:29:17.033

像这样的东西：

```
echo '<div id="cap">';
while($row = mysql_fetch_assoc($result2))
{
    $name2 = $row['player_name'];
    echo '<div class="player">';
    echo $name2;
    echo '</div>';
}
echo '</div>'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:37:02.043

将带有该 CSS 的 div 放在循环之外：

```
echo '<div id="cap">';
while($row = mysql_fetch_assoc($result2))
{
     $name2 = $row['player_name'];
     echo "" . $name2 . "<br/>";
}
echo "</div>"; 
```

# php - 如何从同一个数组中获取共同值

> ID：16009753
> 
> 赞同：0
> 
> 时间：2013-04-15T07:24:02.333
> 
> 标签：php, arrays

我想从同一个数组中获取共同值和不同值

例如 ：

```
$array1 = array(1,2,2,2,3,3,4,4,4,5,5,5,5,6,6,6,7,8,9,10); 
```

我希望数组为

```
$array1 = array(1,2,3,4,5,6,7,8,9,10); 
```

谁能给我这样的想法

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:25:52.033

使用数组唯一

```
array_unique($array1); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:27:28.947

你为什么不试试

```
$array1 = array(1,2,2,2,3,3,4,4,4,5,5,5,5,6,6,6,7,8,9,10); 
$array1 = array_unique($array1); 
```

[http://php.net/manual/en/function.array-unique.php](http://php.net/manual/en/function.array-unique.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T07:26:05.550

```
$array1 = array(1,2,2,2,3,3,4,4,4,5,5,5,5,6,6,6,7,8,9,10);
$array = array_unique($array1);
print_r($array ) 
```

见[array_unique](http://php.net/manual/en/function.array-unique.php)。它将从数组中删除重复值

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T07:26:42.703

尝试这个 ：

```
 $array1 = array(1,2,2,2,3,3,4,4,4,5,5,5,5,6,6,6,7,8,9,10);

 $unique_array=array_unique($array1);

 print_r($unique_array); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T07:25:55.277

使用 array_unique()。它减少了一个数组。

# css - 如何选择 ID 以特定字符串开头和结尾的所有元素？

> ID：16009755
> 
> 赞同：41
> 
> 时间：2013-04-15T07:24:05.653
> 
> 标签：css, css-selectors

在 CSS 中，如何选择以开头和结尾的所有`<tr>`元素？`id``section_``_dummy`

例如，我想选择样式并将其应用于以下内容`<tr>`：

```
<tr id="section_5_1_dummy">
    <td>...</td>
</tr>

<tr id="section_5_2_dummy">
    <td>...</td>
</tr> 
```

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2013-04-15T07:24:05.653

下面的 CSS3 选择器将完成这项工作：

```
tr[id^="section_"][id$="_dummy"] {
    height: 200px;
} 
```

`^`表示应该以什么开头`id`。

`$`表示应该以什么结尾`id`。

* * *

`id``href`当应用于（例如）时，本身可以用另一个属性替换，例如`<a>`：

```
a[href^="http://www.example.com/product_"][href$="/about"] {
    background-color: red;
} 
```

# java - 在 vaadin 日历上双击监听器

> ID：16009757
> 
> 赞同：0
> 
> 时间：2013-04-15T07:24:09.553
> 
> 标签：java, vaadin

我正在开发一个 vaadin 项目，我正在使用 vaadin 日历插件。日历组件有事件re-size，事件点击它的Basic Event组件，事件拖动它的日历单元格，意思是当我们拖动日历单元格时，它会产生一个事件。现在，我希望当我双击日历的单元格时，它会生成一个事件，我可以收听该事件并执行我的功能。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T11:39:19.917

您可以在 上使用以下功能`ClickEvent`：

```
public void itemClick(ItemClickEvent event) {
    if (event.isDoubleClick()) {
        ...
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-30T16:33:10.403

在版本 7.1.12 中仍然不可能。这里有一个开放的错误：http: [//dev.vaadin.com/ticket/12408](http://dev.vaadin.com/ticket/12408)

# node.js - 在 node.js 中访问重定向文件中的会话变量

> ID：16009759
> 
> 赞同：0
> 
> 时间：2013-04-15T07:24:21.923
> 
> 标签：node.js, express

作为新手，我正在构建一个糟糕的登录系统。到目前为止，我已经这样做了：

```
app.post("/verifyLogin",function(request,response){
var usr=request.body.username;
var pass=request.body.password;

userModel.find({$and:[{username:usr},{password:pass}]},function(err,user){

if(user.length==0)
{
    response.redirect("/?msg=failed");
}
else
{
    request.session.user=user;
    response.redirect("/dashboard");

}

 });

    }); 
```

这工作正常，但成功登录后我想在仪表板中获取用户详细信息。我一无所知。请阐明一些观点。

**编辑**

我在路线中为仪表板设置了以下设置：

```
app.get("/dashboard",function(request,response){
response.sendfile('/lms/site/dashboard.html');
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:31:48.077

如果您的意思是要将用户的详细信息传递给模板：

```
app.get('/dashboard', function(req, res) {
  res.render('dashboard', {
    user : req.session.user
  });
}); 
```

这假设了一些事情：

*   你有一个有效的模板设置；
*   您有一个名为的模板`dashboard`（扩展名与您的模板设置相匹配）；
*   您将提供某种设置以确保用户在打开`/dashboard`.

**编辑：**由于您不想使用模板，您可以使用 AJAX 将用户详细信息从服务器获取到客户端：

```
// server side
app.get('/userdata', function(req, res) {
  // check if a user is logged in
  ...
  // return the user details as JSON
  res.send(req.session.user);
});

// client side (in 'dashboard.html', this assumes is will load jQuery)
$.getJSON('/userdata', function(user) {
  // process user data, insert it into the DOM somewhere...
}); 
```

**编辑2：**要检查用户是否登录，您可以创建一个中间件，`req.session.user`如果未定义，它将检查是否存在并重定向到登录页面：

```
var isLoggedIn = function(req, res, next) {
  if (req.session && req.session.user)
    next(); // user logged in, so pass
  else
    res.redirect('/'); // not logged in, redirect to login page
}; 
```

您将对`isLoggedIn`需要用户登录的所有路由使用中间件：

```
app.get('/userdata', isLoggedIn, function(req, res) {
  res.send(req.session.user);
}); 
```

# c# - SQL 自联接查询到 LINQ 查询

> ID：16009760
> 
> 赞同：-1
> 
> 时间：2013-04-15T07:24:26.257
> 
> 标签：c#, sql, linq

我有点坚持将 SQL 查询转换为 LINQ。任何机构都可以帮助我。这是我的查询

```
SELECT x.*
  FROM FilterType x
  JOIN (SELECT t.FilterType
          FROM FilterType t
          where FilterId in (7,15)
      GROUP BY t.FilterType
        HAVING COUNT(t.FilterType) > 1) y ON y.FilterType = x.FilterType 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:34:56.823

假设你有`int[] ids = { 7, 15 }`. 然后查询将如下所示：

```
from t in FilterType.Where(x => ids.Contains(x.FilterId))
group t by t.FilterType into g
where g.Count() > 1
from f in g
select f 
```

或者使用方法语法：

```
FilterType.Where(x => ids.Contains(x.FilterId))
          .GroupBy(t => t.FilterType)
          .Where(g => g.Count() > 1)
          .SelectMany(g => g); 
```

生成的 SQL 不会和你的完全一样，但结果应该是一样的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:34:42.990

```
from a in FilterType
join b in
    (
        from x in FilterType
        where (new int[]{7, 15}).Contains(x.FilterID)
        group x by new {x.FilterType} into g
        where g.Count() > 1
        select new {FilterType = g.Key.FilterType}
    ) on a.FilterType equals b.FilterType
select a; 
```

# java - 访问网页时出现 FileNotFoundException

> ID：16009761
> 
> 赞同：1
> 
> 时间：2013-04-15T07:24:31.157
> 
> 标签：java, filenotfoundexception, urlconnection

我正在尝试在 API 网页的帮助下使用视频 ID 来获取 youtube 视频的标题。但是，我`FileNotFoundException`在尝试通过代码访问相同的内容时面临。

我的代码如下，

```
 String title = "";
        try {
            URL u = new URL("http://gdata.youtube.com/feeds/api/videos/" + videoID + "?v=2");
            URLConnection uc = u.openConnection();
            System.setProperty("java.net.useSystemProxies", "true");
            uc.setRequestProperty("Host", "www.youtube.com");
            uc.setRequestProperty("Connection", "keep-alive");
            uc.setRequestProperty("User-Agent", "Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/13.0.782.112 Safari/535.1");
            uc.setRequestProperty("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8");
            uc.setRequestProperty("Accept-Encoding", "html");
            uc.setRequestProperty("Accept-Language", "en-US,en;q=0.8");

            System.out.println("Retrieving video title for \"" + videoID + "\"");
            BufferedReader br = new BufferedReader(new InputStreamReader(uc.getInputStream()));
            String tmp = "";

            String pageResponse = "";
            while ((tmp = br.readLine()) != null) {
                pageResponse += tmp;
            }

            title = parseResponse(pageResponse, "<media:title type='plain'>", "</media:title>");//pageResponse is a method to extract the text between 2 stings
            System.out.println("Title : " + title);

        } catch (Exception e) {
            System.out.println(e);

        } 
```

控制台输出：

```
http://www.youtube.com/watch?v=m7dapUWHykw
Video ID : m7dapUWHykw
http://gdata.youtube.com/feeds/api/videos/m7dapUWHykw?v=2
Retrieving video title for "m7dapUWHykw"
java.io.FileNotFoundException: http://gdata.youtube.com/feeds/api/videos/m7dapUWHykw?v=2 
```

**但是如果我使用网络浏览器打开它，我可以毫无问题地访问它。**

谁能告诉我代码有什么问题？

上述方法的PrintStackTrace如下，

```
java.io.FileNotFoundException: http://gdata.youtube.com/feeds/api/videos/m7dapUWHykw?v=2
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1311)
        at getytv.YouTubeDownloader.getYouTubeVideoTitle(YouTubeDownloader.java:170)
        at getytv.YouTubeDownloader.getYouTubeVideoDownloadLinks(YouTubeDownloader.java:276)
        at getytv.GetYouTubeVideo.updateDownloadTable(GetYouTubeVideo.java:215)
        at getytv.ClipBoardMonitor$1.run(ClipBoardMonitor.java:88) 
```

提前致谢。

# asp.net - 在 Visual Studio Web 开发人员中连接的 sql 数据库

> ID：16009766
> 
> 赞同：1
> 
> 时间：2013-04-15T07:24:46.033
> 
> 标签：asp.net, sql

您选择的数据存储存在问题。这可能是由无效的服务器名称或凭据或权限不足引起的。这也可能是由于未启用角色管理器功能造成的。单击下面的按钮可重定向到您可以选择新数据存储的页面。

以下消息可能有助于诊断问题：

> 无法打开物理文件“C:\Users\sooraj.r\Documents\Visual Studio 2010\WebSites\FormsDemo\App_Data”。操作系统错误 5：“5（无法检索此错误的文本。原因：15105）”。无法将文件“C:\Users\sooraj.r\Documents\Visual Studio 2010\WebSites\FormsDemo\App_Data”附加为数据库“FormsDemo.mdf”。

# sql-server - 使用第一个单元格的值插入第二个单元格的值，第三个单元格值与 SQL Server 中第一个和第二个单元格值的总和

> ID：16009770
> 
> 赞同：1
> 
> 时间：2013-04-15T07:24:56.180
> 
> 标签：sql-server, sql-server-2008

实际情况有点复杂，所以我会用简单的方式来解释。

我有一个包含 10 列的表格，如下所示

```
ID     Year1   Year2   Year3   Year4   Year5
--------------------------------------------
1       x1      x1+     x1+      x1+
              Year1    Year1+   Year1+   and so on
                       Year2    Year2+
                                Year3 
```

x1 是一个标量值

Year1 - “同一行”的前一个单元格的值

在这种情况下，我如何在 sql server 中编写插入语句。

我不能使用 Insert into tableName values (1, x1, ???.....

我从第三排开始就卡住了。任何帮助都会有所帮助。谢谢你。

我发现的另一个选择是首先插入，然后依次更新每个单元格的值。这种方法使用了太多的代码行，我担心它会导致开销

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:48:18.090

我可以在这里想到两种可能的解决方案。

1.  如果您使用 T-SQL，则对列使用变量并按照您在触发插入之前的描述更新这些值。

2.  如果您使用某种中间件编程语言（如 Java），请在插入之前更新列值。

# javascript - How to retrieve a dynamic variable from an object

> ID：16009774
> 
> 赞同：0
> 
> 时间：2013-04-15T07:25:24.260
> 
> 标签：javascript, arrays, underscore.js

I have a js object which looks like this:

```
 var detailsArray = [
                                 {a0 :1,
                                  b0 :'A'},
                                 {a1 :2,
                                  b1 :'B'},
                                 {a2 :3,
                                  b2 :'C'},
                                 {a3 :4,
                                  b3 :'D'}]; 
```

This is how the object is created from the server side. On the client side I want to retrieve the value of all 'a's and add them to an array. The problem is that the variable name is changing depending on the index number. I have tried using underscore.js to do something like this:

```
 var variableA = new Array();
          for(var i = 0;i<detailsArray.length;i++){
            var temp = 'a' + i;
            variableA[i] = _.pluck(detailsArray,temp);
          } 
```

But this does not work. Can anyone tell how to get the values??

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:31:51.297

There is two ways for accessing properties of object in javascript : using the **dot** like you just done, or using the array syntax style.

```
var obj = {'a':5};

obj.a
obj['a'] 
```

So with your code, this would give this :

```
var variableA = new Array();
for(var i = 0;i<detailsArray.length;i++){
    variableA[i] = detailsArray[i]['a' + i];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:35:38.780

With underscore, you could do:

```
_.reduce(_.map(detailsArray, function(o, i) {
    return o['a' + i];
}), function(a, b) {
    return a + b;
}); 
```

And with native JS in newer browsers:

```
detailsArray.map(function(o, i) {
    return o['a' + i];
}).reduce(function(a, b) {
    return a + b;
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:31:23.607

here's one possible implementation

```
var tmp = []; 
for (var i = 0; i < detailsArray.length; i++) { 
   var obj = detailsArray[i]; // current object at index
   for (var props in obj) { // iterate properties in current object
       if (props.charAt() == "a") { // if starts with a....
           tmp.push(obj[props]);  // add value to array
           break; // stop the property iteration and move to next object
        }
   } 
}
console.log(tmp); // [1,2,3,4] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:34:33.070

You can also do it like that:

```
for (var i = 0; i < detailsArray.length; i++)
  alert(eval("detailsArray[" + i + "].a" + i)); 
```

The code I provide will `alert` all the values corresponding to as in the json array, but obviously you can do whatever you want with the values obtained.

Here I am counting that all the keys will be of the kind a smth, but I suppose this is a safe assumption.

# asp.net - 用户无权执行操作 - 尝试登录到 asp.net 登录页面

> ID：16009775
> 
> 赞同：0
> 
> 时间：2013-04-15T07:25:31.010
> 
> 标签：asp.net, windows-7, visual-studio-2012, iis-7.5, login-control

我开发了一个 asp.net 网站，它要求用户使用默认的 asp.net 登录控件和本地 SQl 登录。不幸的是，我们不得不用新的 Win7 副本重新加载 PC 现在，我备份了 IIS7，用户可以导航到 login.aspx 页面，但尝试登录时出现以下错误。“用户无权执行操作” - 现在我已经在 Visual Studio 2012 下的 asp.net 配置下重新创建了所有用户，但仍然没有。任何建议从哪里开始解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:47:32.103

您是否在 SQL 上创建了用户？创建一个新的登录名。并更改您的连接字符串。

例如在 sql 中创建一个用户并将这个连接字符串添加到你的 web 配置里面

```
 <connectionStrings> <add name="xxxConnectionstr" connectionString="Data Source=.\;Initial Catalog=yourdatabasename"; Uid="yoursqluser"; Pwd="yourpassword" providerName="System.Data.SqlClient"/></connectionStrings> 
```

我认为您的连接字符串包含“Integrated Security = True”，这意味着您正在使用 Windows 用户登录。当您更改 Windows 7 时，用户已更改

# ios - 如何解压缩 .gz 文件和扩展名为 .gz 的 zip 文件

> ID：16009776
> 
> 赞同：0
> 
> 时间：2013-04-15T07:25:34.723
> 
> 标签：ios, objective-c, gzip, gunzip

我正在从服务器获取数据库“swx.sqlite.gz”，现在我需要将其解压缩到 swx.sqlite 并在应用程序中使用它。

之后，当我需要发送数据库文件时，我需要将其压缩为 swx.sqlite.gz 并发送回服务器。

我进行了很多搜索，但没有找到 .gz 扩展名的 lib 或文件。与 ZipArchive 一样，SSZipArchive 仅使用 .zip 扩展名。

# python - 如何将 html 表转换为 pandas 数据框

> ID：16009778
> 
> 赞同：10
> 
> 时间：2013-04-15T07:25:42.313
> 
> 标签：python, dataframe, pandas, html-table

`pandas`提供了一个有用`to_html()`的转换`DataFrame`成`html table`. 是否有任何有用的功能可以将其读回`DataFrame`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-07-29T07:35:18.973

pandas 0.12 中发布的[read_html实用程序](http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.html.read_html.html?highlight=read_html#pandas.io.html.read_html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-20T21:56:51.003

在一般情况下，这是不可能的，但如果您大致了解表格的结构，您可以这样做：

```
# Create a test df:
>>> df = DataFrame(np.random.rand(4,5), columns = list('abcde'))
>>> df
     a           b           c           d           e
0    0.675006    0.230464    0.386991    0.422778    0.657711
1    0.250519    0.184570    0.470301    0.811388    0.762004
2    0.363777    0.715686    0.272506    0.124069    0.045023
3    0.657702    0.783069    0.473232    0.592722    0.855030 
```

现在解析 html 并重建：

```
from pyquery import PyQuery as pq

d = pq(df.to_html())
columns = d('thead tr').eq(0).text().split()
n_rows = len(d('tbody tr'))
values = np.array(d('tbody tr td').text().split(), dtype=float).reshape(n_rows, len(columns))
>>> DataFrame(values, columns=columns)

     a           b           c           d           e
0    0.675006    0.230464    0.386991    0.422778    0.657711
1    0.250519    0.184570    0.470301    0.811388    0.762004
2    0.363777    0.715686    0.272506    0.124069    0.045023
3    0.657702    0.783069    0.473232    0.592722    0.855030 
```

如果需要，您可以将其扩展为 Multiindex dfs 或自动类型检测`eval()`。

# c++ - 如何使用附加模板参数编写非“原位”方法

> ID：16009788
> 
> 赞同：3
> 
> 时间：2013-04-15T07:25:59.350
> 
> 标签：c++, templates, inline

我有以下代码（也可在[http://ideone.com/6ozZrs](http://ideone.com/6ozZrs)获得）：

```
#include <iostream>

template<class T>
class MyClass{
    public:
        inline MyClass(const T &t);
        template<class C>
        void MyUberFunction(const C &c)
        {
            std::cout<<"My t: "<<m_t<<std::endl;
            std::cout<<"Do uber things with: "<<&c<<std::endl;
        }
    private:
        T m_t;
};

template<class T>
MyClass<T>::MyClass(const T &t):
    m_t(t)
{
}

int main(int argc, char *argv[])
{
    MyClass<int> myInstance(1337);
    myInstance.MyUberFunction("Another type");

    return 0;
} 
```

MyUberFunction 方法采用一组与其类不同的模板参数。如何拆分它的声明和定义（就像我对类构造函数所做的那样）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T07:29:26.723

您可以将此语法用于类外定义：

```
template<class T> // <== The class template parameters first
template<class C> // <== The member function template parameters after
void MyClass<T>::MyUberFunction(const C &c)
{
    std::cout<<"My t: "<<m_t<<std::endl;
    std::cout<<"Do uber things with: "<<&c<<std::endl;
} 
```

这是您修改后的代码编译的[**实时示例**](http://liveworkspace.org/code/3kW04t$369)。

# c# - 发送无响应的 Web 请求

> ID：16009795
> 
> 赞同：0
> 
> 时间：2013-04-15T07:26:37.087
> 
> 标签：c#, httpwebrequest

我在这个控制台程序中有一些问题。我想用这个循环向一个网站发送许多请求而没有响应，因为响应增加了更多延迟，我不需要响应。

所以在我运行这个程序之后，它只发送两个请求，然后它就停止了，什么也不做。请帮我解决这个问题。

```
namespace ConsoleApplication8
{
    class Program
    {
        static void Main(string[] args)
        {
            string post2;
            for (int i = 111; i < 222; i++)
            {
                post2 = i.ToString();
                System.Net.HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://google.com");
                request.Method = "POST";
                request.KeepAlive = true;
                request.UserAgent = "Mozilla/5.0 (Windows NT 5.1; rv:19.0) Gecko/20100101 Firefox/19.0";
                request.ContentType = "application/x-www-form-urlencoded";
                request.Accept = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8";
                request.ServicePoint.Expect100Continue = false;
                string postData = post2;
                byte[] byteArray = Encoding.UTF8.GetBytes(postData);
                request.ContentLength = byteArray.Length;
                Stream dataStream = request.GetRequestStream();
                dataStream.Write(byteArray, 0, byteArray.Length);         
                Console.WriteLine(post2);
            }                              
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T14:13:34.107

.NET 默认限制为两个连接。如果需要，您可以增加限制，但真正的问题是您没有关闭流。

```
namespace ConsoleApplication8
{
    class Program
    {
        static void Main(string[] args)
        {
            string post2;
            for (int i = 111; i < 222; i++)
            {
                post2 = i.ToString();
                System.Net.HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://google.com");
                request.Method = "POST";
                request.KeepAlive = true;
                request.UserAgent = "Mozilla/5.0 (Windows NT 5.1; rv:19.0) Gecko/20100101 Firefox/19.0";
                request.ContentType = "application/x-www-form-urlencoded";
                request.Accept = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8";
                request.ServicePoint.Expect100Continue = false;
                string postData = post2;
                byte[] byteArray = Encoding.UTF8.GetBytes(postData);
                request.ContentLength = byteArray.Length;
                // You need to close the request stream when you're done writing to it.
                using(Stream dataStream = request.GetRequestStream())
                {
                    dataStream.Write(byteArray, 0, byteArray.Length);         
                    Console.WriteLine(post2);
                }
                // Even if you don't need the response, you still need to close it.
                request.GetResponse().Close();
            }                              
        }
    }
} 
```

# forms - 如何在 Symfony2 中提交评论？

> ID：16009799
> 
> 赞同：0
> 
> 时间：2013-04-15T07:26:52.643
> 
> 标签：forms, symfony, comments, submit

我想在主页上提交评论，然后重定向到这个页面。这是我的行动：

```
public function submitcommentAction(Request $request)
{
    $user=$this->get('security.context')->getToken()->getUser();
       $uid=$user->getId();

    $comment=new comment();

    //$comment->setCafe();

    $form=$this->createFormBuilder($comment)
            ->add('cafe','hidden')
            ->add('description','textarea')
            ->getForm();
    if($request->getMethod()=='POST')
    {
        $form->bind($request);

        if($form->isValid())
        {
            $comment->setCafe($form['cafe']->getData());
            $comment->setUser($uid);
            $comment->setDescription($form['description']->getData());
            $em=$this->getDoctrine()->getEntityManager();
            $em->persist($comment);
            $em->flush();
              // return $this->redirect($this->generateUrl('showcofe'));   
            var_dump($em);
    exit();

        }
    }

                    $r='error';
        return $this->      render('CafeManagementBundle:Default:simple.html.twig',array('r'=>$r));

} 
```

这是我的树枝：

```
 <div class="new-comment">
      <div class="new-comment-text"> :your comment
        <div>
          <form id="comment-form" method="post" action={{path('subcomment')}}" {{form_enctype(form1)}}">
            <ul class="smallbuttons">

                <input type="hidden" id="form_cafe" name="form[cafe]" value="{{cafe.id}}" />
                  {{form_widget(form1.description)}}
                <div style="display:none">{{ form_rest(form1) }}</div>

         <p><a id="clickbotton1"     href="javascript:document.getElementById('form1').submit()" class="btn_smallorange edit2">submit</a></p> 
            </ul>
          </form>
        </div>
      </div>
    </div> 
```

我不知道如何将隐藏字段（咖啡馆）传递给控制器​​。另外，请您告诉我，我的控制器是否正确？

# actionscript-3 - 标准可打印点的文本大小

> ID：16009809
> 
> 赞同：0
> 
> 时间：2013-04-15T07:27:32.980
> 
> 标签：actionscript-3, size, textfield, point

如何在标准 CSS/可打印点中设置文本大小（在 TextField 内）？根据手册：

> fontSize - 仅使用值的数字部分。不解析单位 (px, pt)；像素和点是等价的。

据我了解，仅在 72 PPI 的情况下，1 像素可能等于 1 点。所以，actionscript 只是操作像素（不是真正的点）。我的麻烦是获得可以打印的实际文本大小。欢迎任何建议或解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:37:20.463

SWF 以像素为单位进行测量，此外，它是可缩放的，因此 1 个像素现在可以是 1 个点，稍后可以是 2 个点（scaleY=scaleX=2），并且稍后可以是一个未定义的数字（从舞台上删除而不取消引用）。简而言之，对于 AS 来说，没有“真正的点”，因为它对打印机一无所知，而对显示器却一无所知。

# java - 将多个 ArrayList 快速聚合为一个

> ID：16009818
> 
> 赞同：2
> 
> 时间：2013-04-15T07:28:10.623
> 
> 标签：java, arraylist, data-structures

我有以下列表：

```
List<ArrayList> list; 
```

`list.get(i)`包含具有以下值的 ArrayList 对象`{p_name=set1, number=777002}`。

我必须创建一个

```
Map<key,value> 
```

其中键包含 p_name，值是数字。

如何轻松快速地完成此操作，因为初始列表中可能有数百个条目，并且每个数字都可以出现在多个 p_name 条目中。

更新：这是我目前的解决方案

```
 List<Row> list; //here is my data

    Map<String,String> map = new TreeMap<String,String>();

    for (Row l : list) {
        if (l.hasValues()) {
            Map<String, String> values = l.getResult(); // internal method of Row interface that returns a map
            String key = values.get( "number");
            map.put(key,  values.get( "p_name" ));
        }  
    } 
```

该方法有效，但也许可以做得更好？

PS：我的设计中有一个明显的错误。我想知道你是否找到它:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:37:45.163

正弦键可以有多个值，您正在寻找的是 MultiMap。[Multimap](http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/Multimap.html) 或表单中的简单映射

```
 Map<Key,ArrayList<Values>> 
```

对我来说，这里没有“快速”的方法。您仍然需要遍历所有元素并检查所有值。

而实际上数百到 Java 并没有多少

# c# - 使用 Microsoft LifeCam 和 C# 捕获图像

> ID：16009821
> 
> 赞同：2
> 
> 时间：2013-04-15T07:28:27.727
> 
> 标签：c#, webcam

我有一个 Microsoft LifeCam，我想使用 C# 捕获图像并在我的应用程序中使用该图像。

我已经[在 SO 中检查了先前提出的问题，但](https://stackoverflow.com/q/3843183/1471381)[OpenCV](http://sourceforge.net/projects/opencv/)的第一个答案中提供的链接看起来无效（我得到“FORBIDDEN”响应）。

我想知道是否有任何样本可以用来从 LifeCam 学习和捕获图像？而且我还需要为此的**dll 。**

有没有人在这种情况下有任何经验？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-20T04:36:41.697

感谢[Sascha](https://stackoverflow.com/users/66907/sascha)，[ESCAPI 解决方案](https://stackoverflow.com/a/16010448/1471381)真的很有帮助，我使用 ESCAPI.dll 和 C# 包装器将其转换为 C#，一切顺利。

# php - PHPExcel 不会重新计算

> ID：16009822
> 
> 赞同：3
> 
> 时间：2013-04-15T07:28:28.567
> 
> 标签：php, phpexcel

在我的 excel 文件中，我有`B1=IF(A1>0,"Greater than Zero",IF(A1<0,"Less than Zero","Equal Zero"))`. 更改值后，我尝试通过检索`B1`信息。`getCalculatedValue``A1`

我这样做了多次，但是两个回声都返回“小于零”我不明白为什么第二个回声不返回“等于零？”

```
/** Change A1 Value **/
$objPHPExcel->getActiveSheet()->setCellValue('A1','=-1');

/** Calculate and State B1 Value **/
echo $objPHPExcel->getActiveSheet()->getCell('B1')->getCalculatedValue();

/** Change A1 Value AGAIN **/
$objPHPExcel->getActiveSheet()->setCellValue('A1','=0');

/** Calculate and State B1 Value **/
echo $objPHPExcel->getActiveSheet()->getCell('B1')->getCalculatedValue(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T09:56:11.077

PHPExcel默认缓存公式计算的结果以提高性能，所以第二次调用时`getCalculatedValue()`，它会返回缓存的值，而不是重新计算。如果您更改了基础数据，则需要在`getCalculatedValue()`再次调用之前清除计算缓存，以便检索同一单元格的更新计算值。

```
PHPExcel_Calculation::getInstance()->clearCalculationCache(); 
```

或者，完全禁用计算缓存：

```
PHPExcel_Calculation::getInstance()->disableCalculationCache(); 
```

# javascript - MVC razor 如何在客户端管理 TempData 值？

> ID：16009823
> 
> 赞同：2
> 
> 时间：2013-04-15T07:28:30.267
> 
> 标签：javascript, asp.net-mvc, razor, tempdata

目前我已经开始使用 MVC 4 Razor。我想知道“如果在 javascript 中分配它的值，在哪里处理 TempData？”

例如。

```
<script type="text/javascript">                        

        function removeTempDataValue()
        {
            @{TempData["a"] = null;}
            @{TempData["b"] = null;}
        }
    </script> 
```

现在在这种情况下，我将`removeTempDataValue()`在单击一个 div 时调用函数。所以我想知道 MVC4 razor 将如何设置它`TempData`的值。

那么它将如何管理`TempData`价值客户端呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:35:15.577

> 所以我想知道 MVC4 razor 将如何设置 TempData 的值。

TempData 纯粹是服务器端。因此，当您这样做时，您基本上是在删除服务器上的值。Javascript 在客户端上运行得更晚。诸如单击事件之类的事情在客户端上运行，您根本无法操纵 TempData。

> 那么它将如何管理 TempData 的价值客户端呢？

它不会管理任何客户端。如果您想更改 TempData 中的某些值，这只能发生在服务器端。如果您想从客户端修改某些服务器端值，您可以使用 AJAX 请求。

# jquery - Cakephp如何使用ajax在单个控制器中添加多个视图文件

> ID：16009824
> 
> 赞同：-2
> 
> 时间：2013-04-15T07:28:35.623
> 
> 标签：jquery, cakephp-1.3, cakephp-ajaxhelper

我有一个名为 User 的控制器。我在该控制器中编写了三个函数，即；function1,function2,function3 每个函数在 View/User 文件夹中都有相应的视图文件。我的问题是，在我的 function1.ctp 文件中，我使用 jquery 创建了一个左侧菜单栏。该菜单栏中有三个菜单，当我单击每个菜单时，我想借助对控制器的ajax请求加载function1.ctp，function2.ctp function3.ctp的内容。我们该怎么做？这可能吗..？如果有人可以帮助我..请回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T08:21:52.030

当然这是可能的——AJAX 尽可能地定义了它。

如果您已经设置了这三个功能，并且在您访问时看到它们呈现他们的视图，`example.com/yourcontroller/functionName`那么您就差不多了。

您现在在客户端需要做的是当用户单击主菜单时 - 加载子菜单，对吗？将 javascript 点击函数回调附加到点击的 HTML 项目，当该事件发生时通过 AJAX 调用服务器。

您需要问自己“我需要从服务器返回什么 - HTML 或 JSON？” 在第一种情况下 - 当您收到返回的 HTML 数据时，只需将其放入您想要的 DOM 中。在第二种情况下，您将需要处理 JSON 并构建 HTML 或其他任何内容。

这就是答案，现在是一些建议。

你真的，真的需要为菜单使用 AJAX 吗？他们经常改变吗？

请记住：**1 AJAX 调用 == 1 对服务器的请求** 您的子菜单是否真的需要像这样加载它们的数据/更改密集型？例如，如果您的菜单根据用户的位置（在站点中）或用户操作而改变，那么您可以使用它，否则您就是在用火箭筒杀死蚊子！您应该尽量保持数据交换尽可能低，gzip 服务器返回等等。这种解决方案对于这种情况可能是一种过度杀伤力。

# java - Java 向/从文件写入/读取不可序列化的对象

> ID：16009825
> 
> 赞同：0
> 
> 时间：2013-04-15T07:28:38.833
> 
> 标签：java, spatial-index, notserializableexception

我正在使用[JSI](http://sourceforge.net/projects/jsi/) (Java Spatial Index, RTree) 来实现 2D 空间搜索。我想将树保存到文件中，该文件`java.io.NotSerializableException`使用下面的代码触发。

```
public class GeographicIndexer {
    private static final Logger log = LoggerFactory.getLogger(GeographicIndexer.class);  
    public SpatialIndex spatialIndex = null;

    public void init() {
        this.spatialIndex = new RTree();
        this.spatialIndex.init(null);
    }

    public void add(float x1, float y1, float x2, float y2, int id) {
        Rectangle rect = new Rectangle(x1, y1, x2, y2);
        this.spatialIndex.add(rect, id);
    }

    public void add(float x, float y, int id) {
        this.add(x, y, x, y, id);
    }

    public void saveIndex(String indexStorePath) {
        try {
            OutputStream file = new FileOutputStream(indexStorePath);
            OutputStream buffer = new BufferedOutputStream(file);
            ObjectOutput output = new ObjectOutputStream(buffer);    
            try {
                output.writeObject(this.spatialIndex);
            } finally {
                output.close();
            }
        } catch(IOException e) {
            log.error("Fail to write geographic index");
            e.printStackTrace();
        }
    }

    public GeographicIndexer loadIndex(String indexStorePath) {
        try {
            InputStream file = new FileInputStream(indexStorePath);
            InputStream buffer = new BufferedInputStream(file);
            ObjectInput input = new ObjectInputStream(buffer);

            try {
                this.spatialIndex = (SpatialIndex)input.readObject();
            } catch (ClassNotFoundException e) {
                log.error("Fail to read geographic index");
            } finally {
                input.close();
            }

            return this;
        } catch(IOException e) {
            log.error("Fail to read geographic index");
            return this;
        }
    }
} 
```

如何序列化这个 3rd 方类以便我可以读/写它？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:55:45.233

由于`com.infomatiq.jsi.rtree.RTree`没有实现`Serializable`，您不能使用 Java 序列化来保持其对象的状态。您可以使用其他框架进行序列化，例如[这里](http://simple.sourceforge.net/)的框架。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:39:37.883

由于 RTree 没有实现 Serializable，因此您不能对其使用 Java 序列化。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-15T07:38:25.587

尝试扩展它，使扩展类可序列化。然后你应该能够写入文件。

# java - Java 字符串以空格结尾

> ID：16009828
> 
> 赞同：-10
> 
> 时间：2013-04-15T07:28:47.377
> 
> 标签：java, string

总是遇到java字符串的最后一个字符串符号的问题。它似乎占用了一个空间，因此如果 string[a] == string[b] 或什至有时 a.equals(b) 仍然不起作用，即使 a 和 b 看起来相同但它可能会返回不同的答案其中一个包含结束标志。不知道哪个函数可以用于字符串的忽略功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:31:25.863

用于[`String.trim()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29)删除周围的空格，然后使用`String.equals()`( *not* `==`，请参阅Java 语言规范中的[15.21 Equality Operators以获取完整详细信息。)。](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.21)请记住，`String`实例是不可变的，因此`String.trim()`返回一个新`String`的，并且必须在`equals()`检查中使用它。

请注意，它`trim()`也会删除前导空格。如果这是不希望的，则使用`String.substring()`擦除尾随空格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:31:14.653

应该总是`trim()`比较之前的字符串。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:32:54.297

```
trim() 
```

将返回您的字符串，开头和结尾没有空格。

前任：

```
String s =" test ";
s =s.trim(); //will become "test" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:35:47.270

您只能`stringA.equals(stringB);`用于删除空格使用`.trim()`

# multithreading - 如何在Scala中取消Future？

> ID：16009837
> 
> 赞同：57
> 
> 时间：2013-04-15T07:29:26.947
> 
> 标签：multithreading, scala, future

[Java Future](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Future.html)有`cancel`方法，可以中断运行`Future`任务的线程。例如，如果我在 a 中包装一个可*中断*的阻塞调用，`Java Future`我可以稍后中断它。

[Scala Future](http://www.scala-lang.org/api/current/index.html#scala.actors.Future)没有提供任何`cancel`方法。假设我将一个可*中断*的阻塞调用包装在`Scala Future`. 我怎么能打断它？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-04-15T07:50:59.857

这还不是`Future`s API 的一部分，但将来可能会作为扩展添加。

作为一种解决方法，您可以使用`firstCompletedOf`包装 2 个期货 - 您要取消的期货和来自自定义的期货`Promise`。然后，您可以通过使承诺失败来取消由此创建的未来：

```
def cancellable[T](f: Future[T])(customCode: => Unit): (() => Unit, Future[T]) = {
  val p = Promise[T]
  val first = Future firstCompletedOf Seq(p.future, f)
  val cancellation: () => Unit = {
    () =>
      first onFailure { case e => customCode}
      p failure new Exception
  }
  (cancellation, first)
} 
```

现在你可以在任何未来调用它来获得一个“可取消的包装器”。示例用例：

```
val f = callReturningAFuture()
val (cancel, f1) = cancellable(f) {
  cancelTheCallReturningAFuture()
}

// somewhere else in code
if (condition) cancel() else println(Await.result(f1)) 
```

编辑：

有关取消的详细讨论，请参阅《[学习 Scala 并发编程》](https://rads.stackoverflow.com/amzn/click/com/1783281413)一书的第 4 章。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2016-10-11T20:45:26.700

我没有对此进行测试，但这扩展了 Pablo Francisco Pérez Hidalgo 的答案。我们没有阻塞等待 java `Future`，而是使用中间体`Promise`。

```
import java.util.concurrent.{Callable, FutureTask}
import scala.concurrent.{ExecutionContext, Promise}
import scala.util.Try

class Cancellable[T](executionContext: ExecutionContext, todo: => T) {
  private val promise = Promise[T]()

  def future = promise.future

  private val jf: FutureTask[T] = new FutureTask[T](
    new Callable[T] {
      override def call(): T = todo
    }
  ) {
    override def done() = promise.complete(Try(get()))
  }

  def cancel(): Unit = jf.cancel(true)

  executionContext.execute(jf)
}

object Cancellable {
  def apply[T](todo: => T)(implicit executionContext: ExecutionContext): Cancellable[T] =
    new Cancellable[T](executionContext, todo)
} 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-10-23T10:40:56.797

通过取消我猜你想猛烈地打断`future`.

找到这段代码：[https ://gist.github.com/viktorklang/5409467](https://gist.github.com/viktorklang/5409467)

做了一些测试，似乎工作正常！

享受 ：）

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-03-01T13:18:45.687

我认为可以通过使用[Java 7`Future`接口](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html)及其实现来降低实现的复杂性。

`Cancellable`可以构建一个 Java 未来，该未来将被其`cancel`方法取消。另一个future可以等待它的完成，从而成为可观察的接口，它本身的状态是不可变的：

```
 class Cancellable[T](executionContext: ExecutionContext, todo: => T) {

   private val jf: FutureTask[T] = new FutureTask[T](
     new Callable[T] {
       override def call(): T = todo
     }
   )

   executionContext.execute(jf)

   implicit val _: ExecutionContext = executionContext

   val future: Future[T] = Future {
     jf.get
   }

   def cancel(): Unit = jf.cancel(true)

 }

 object Cancellable {
   def apply[T](todo: => T)(implicit executionContext: ExecutionContext): Cancellable[T] =
     new Cancellable[T](executionContext, todo)
 } 
```

# asp.net - 要移动到 excel 文件中的特定 gridview 数据

> ID：16009841
> 
> 赞同：0
> 
> 时间：2013-04-15T07:29:46.553
> 
> 标签：asp.net, c#-3.0

我正在尝试将特定的 gridview 数据移动到 excel 文件中，但出现错误`object reference not set to the instance of an object`

```
<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns = "false" Font-Names = "Arial"
Font-Size = "11pt" AlternatingRowStyle-BackColor = "#C2D69B" 
HeaderStyle-BackColor = "green">
<Columns>
<asp:TemplateField>
<HeaderTemplate>
<asp:CheckBox ID="Chckcol0" runat="server" Checked="true"/>
<asp:Label ID="lbl_catid" runat="server" Text=" CategoryID"></asp:Label>
</HeaderTemplate>
<ItemTemplate>
<asp:Label ID="lbl_catid" runat="server" Text='<%# Eval("cat_id")%>'></asp:Label>
</ItemTemplate>
</asp:TemplateField>
<asp:TemplateField>
<HeaderTemplate>
<asp:CheckBox ID="Chckcol1" runat="server" Checked="true"/>
<asp:Label ID="lbl_catname" runat="server" Text="category Name"></asp:Label>
</HeaderTemplate>
<ItemTemplate>
<asp:Label ID="lbl_categoryname" runat="server" Text='<%# Eval("categoryname")%>'>     </asp:Label>
</ItemTemplate>
</asp:TemplateField>
<asp:TemplateField>
<HeaderTemplate>
<asp:CheckBox ID="Chckcol2" runat="server" Checked="true"/>
<asp:Label ID="description" runat="server" Text="description"></asp:Label>
</HeaderTemplate>
<ItemTemplate>
<asp:Label ID="lbl_description" runat="server" Text='<%# Eval("description")%>'>  </asp:Label>
</ItemTemplate>
</asp:TemplateField>
</Columns>
</asp:GridView> 
```

而我背后的代码：

```
public partial class _Default : System.Web.UI.Page
{
MySqlConnection con = new MySqlConnection("Data Source=localhost;Database=mylibrary_db;User ID=root;Password=MyLuck2010");
protected void Page_Load(object sender, EventArgs e)
{

    if (!IsPostBack)
    {
        fillgrid();
    }
}
protected void fillgrid()
{
    MySqlDataAdapter da = new MySqlDataAdapter("select cat_id,categoryname,description from library_category", con);
    DataSet ds = new DataSet();
    da.Fill(ds);
    GridView1.DataSource = ds;
    GridView1.DataBind();
}
protected void getcheckedgridview()
{
    CheckBox chkCol0 = (CheckBox)GridView1.HeaderRow.Cells[0].FindControl("chkCol0");
    CheckBox chkCol1 = (CheckBox)GridView1.HeaderRow.Cells[0].FindControl("chkCol1");
    CheckBox chkCol2 = (CheckBox)GridView1.HeaderRow.Cells[0].FindControl("chkCol2");
    ArrayList arr;
    if (ViewState["States"] == null)
    {
        arr = new ArrayList();
    }
    else
    {
        arr = (ArrayList)ViewState["States"];
    }
    arr.Add(chkCol0.Checked);
    arr.Add(chkCol1.Checked);
    arr.Add(chkCol2.Checked);
    ViewState["States"] = arr;
}
protected void btnExportExcel_Click(object sender, EventArgs e)
{
    Response.Clear();
    Response.Buffer = true;
    Response.AddHeader("content-disposition","attachment;filename=GridViewExport.xls");
    Response.Charset = "";
    Response.ContentType = "application/vnd.ms-excel";
    StringWriter sw = new StringWriter();
    HtmlTextWriter hw = new HtmlTextWriter(sw);
    GridView1.AllowPaging = false;
    GridView1.DataBind();
    GridView1.HeaderRow.Style.Add("background-color", "#FFFFFF");
    GridView1.HeaderRow.Cells[0].Style.Add("background-color", "green");
    GridView1.HeaderRow.Cells[1].Style.Add("background-color", "green");
    GridView1.HeaderRow.Cells[2].Style.Add("background-color", "green");
    ArrayList arr = (ArrayList)ViewState["States"];
    GridView1.HeaderRow.Cells[0].Visible = Convert.ToBoolean(arr[0]);
    GridView1.HeaderRow.Cells[1].Visible = Convert.ToBoolean(arr[1]);
    GridView1.HeaderRow.Cells[2].Visible = Convert.ToBoolean(arr[2]);
    GridView1.HeaderRow.Cells[0].FindControl("chkCol0").Visible = false;
    GridView1.HeaderRow.Cells[1].FindControl("chkCol1").Visible = false;
    GridView1.HeaderRow.Cells[2].FindControl("chkCol2").Visible = false;

    for (int i = 0; i < GridView1.Rows.Count; i++)
    {

        GridViewRow row = GridView1.Rows[i];
        row.Cells[0].Visible = Convert.ToBoolean(arr[0]);
        row.Cells[1].Visible = Convert.ToBoolean(arr[1]);
        row.Cells[2].Visible = Convert.ToBoolean(arr[2]);
        row.BackColor = System.Drawing.Color.White;
        row.Attributes.Add("class", "textmode");

        if (i % 2 != 0)
        {
            row.Cells[0].Style.Add("background-color", "#C2D69B");
            row.Cells[1].Style.Add("background-color", "#C2D69B");
            row.Cells[2].Style.Add("background-color", "#C2D69B");
        }

    }

    GridView1.RenderControl(hw);
    string style = @"<style> .textmode { mso-number-format:\@; } </style>";
    Response.Write(style);
    Response.Output.Write(sw.ToString());
    Response.End();
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:49:33.547

故障最有可能与`Convert.ToBoolean(arr[0]);`（见行`GridView1.HeaderRow.Cells[0].Visible = Convert.ToBoolean(arr[0]);)`

我会在故障线上放一个中断标签，看看它的值`arr[0]`是多少。我猜 arr 为空或 null 并且您的 ViewState 没有返回您期望的数据。这可能是因为您`getcheckedgridview()`的代码没有调用您的方法（或者至少，不是您显示的代码）！

您可以尝试（唯一的变化是方法的第一行）

```
protected void btnExportExcel_Click(object sender, EventArgs e)
{
    getcheckedgridview();//Only change to your code
    Response.Clear();
    Response.Buffer = true;
    Response.AddHeader("content-disposition","attachment;filename=GridViewExport.xls");
    Response.Charset = "";
    Response.ContentType = "application/vnd.ms-excel";
    StringWriter sw = new StringWriter();
    HtmlTextWriter hw = new HtmlTextWriter(sw);
    GridView1.AllowPaging = false;
    GridView1.DataBind();
    GridView1.HeaderRow.Style.Add("background-color", "#FFFFFF");
    GridView1.HeaderRow.Cells[0].Style.Add("background-color", "green");
    GridView1.HeaderRow.Cells[1].Style.Add("background-color", "green");
    GridView1.HeaderRow.Cells[2].Style.Add("background-color", "green");
    ArrayList arr = (ArrayList)ViewState["States"];
    GridView1.HeaderRow.Cells[0].Visible = Convert.ToBoolean(arr[0]);
    GridView1.HeaderRow.Cells[1].Visible = Convert.ToBoolean(arr[1]);
    GridView1.HeaderRow.Cells[2].Visible = Convert.ToBoolean(arr[2]);
    GridView1.HeaderRow.Cells[0].FindControl("chkCol0").Visible = false;
    GridView1.HeaderRow.Cells[1].FindControl("chkCol1").Visible = false;
    GridView1.HeaderRow.Cells[2].FindControl("chkCol2").Visible = false;

    for (int i = 0; i < GridView1.Rows.Count; i++)
    {

        GridViewRow row = GridView1.Rows[i];
        row.Cells[0].Visible = Convert.ToBoolean(arr[0]);
        row.Cells[1].Visible = Convert.ToBoolean(arr[1]);
        row.Cells[2].Visible = Convert.ToBoolean(arr[2]);
        row.BackColor = System.Drawing.Color.White;
        row.Attributes.Add("class", "textmode");

        if (i % 2 != 0)
        {
            row.Cells[0].Style.Add("background-color", "#C2D69B");
            row.Cells[1].Style.Add("background-color", "#C2D69B");
            row.Cells[2].Style.Add("background-color", "#C2D69B");
        }

    }

    GridView1.RenderControl(hw);
    string style = @"<style> .textmode { mso-number-format:\@; } </style>";
    Response.Write(style);
    Response.Output.Write(sw.ToString());
    Response.End();
} 
```

**编辑**

根据您的评论，我认为错误消息现在是由于您的代码没有找到有问题的控件。所以

```
CheckBox chkCol0 = (CheckBox)GridView1.HeaderRow.Cells[0].FindControl("chkCol0"); 
```

找不到名为*“chkCol0”*的控件，因此 chkCol0 为空。

# iphone - 在ios中添加国际键盘

> ID：16009842
> 
> 赞同：0
> 
> 时间：2013-04-15T07:29:48.567
> 
> 标签：iphone, ios

是否可以像表情符号键盘一样在 iphone 中添加我自己的国际键盘？如果是，那怎么可能？请记住，我不是要求启用国际键盘，而是要求添加我自己的键盘。任何建议将不胜感激。

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:38:00.267

**你不能。表情符号键盘是操作系统的一部分，只需设置默认键即可启用。

iOS 上不支持创建自己的键盘并使其在全球范围内可用的方式。**

[为 iPhone 创建自定义国际键盘](https://stackoverflow.com/questions/6556647/create-custom-international-keyboard-for-iphone)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:40:10.417

我认为这将帮助您[创建自定义键盘并在您的 iPhone 上进行配置。](https://stackoverflow.com/questions/7189287/create-custom-keyboard-and-configure-it-on-your-iphone)

如果您使用非公共 API 执行此操作，则根据[Apple 人机界面指南](https://daw.apple.com/cgi-bin/WebObjects/DSAuthWeb.woa/wa/login?appIdKey=d4f7d769c2abecc664d0dadfed6a67f943442b5e9c87524d4587a95773750cea&path=//appstore/resources/approval/guidelines.html)

*   2.5 使用非公开 API 的应用将被拒绝
*   2.6 应用程序在其指定的容器区域之外读取或写入数据将被拒绝。

没有公共 API 可以添加额外的键盘。

# javascript - Canvas 绘图模式的代码

> ID：16009843
> 
> 赞同：0
> 
> 时间：2013-04-15T07:29:56.630
> 
> 标签：javascript, canvas

我正在尝试用 Canvas 制作一个小型绘图工具。今天我正在研究矩形。这是我的代码：

```
<body>
    <div id="main">
        <form name="Show">
            X <input type="text" name="MouseX" value="0" size="4"><br>
            Y <input type="text" name="MouseY" value="0" size="4"><br>
       </form>
       <canvas id="canvas" width="300" height="300">
          Your browser does not support Canvas !!
       </canvas>
        <div>
        <select name="color">
        <option value="black" selected>Black</option>
        <option value="red">Red</option>
        <option value="blue">Blue</option>
        <option value="green">Green</option>
        <option value="yellow">Yellow</option>
        <option value="brown">Brown</option>
        </select>
        <img id="rectMode" src="rectMode.png" />
        </div>
        <div>
            <button id="clear">Clear the draw</button>
        </div>
    </div>

<script language="JavaScript">

var color= 'black';
var mode= 0;
/**
 * All functions here
 */
function draw(startX, startY, endX, endY)   {
    ctx.beginPath();
    ctx.moveTo(startX, startY);
    ctx.lineTo(endX, endY);
    ctx.strokeStyle= color;
    ctx.stroke();
}
function drawRect(startX, startY, width, height)   {
    ctx.beginPath();
    ctx.rect(startX, startY, width, height);
    ctx.strokeStyle= color;
    ctx.stroke();
}
/**
 * Change draw color
 */
$("select[name=color]").change(function(){
    color= $(this).val();
})

/**
 * Draw Mode
 * 0: normal
 * 1: draw Rectangle
 */
$("#rectMode").click(function(){
    if(mode!= 1) {
        mode= 1;
        $(this).attr('src','rectMode1.png');
    }
    else  {
        mode= 0;
        $(this).attr('src','rectMode.png');
    }
})

/**
 * Get Cursor Coordinates
 */
ctx= $("#canvas")[0].getContext('2d');

var IE = document.all?true:false;
if (!IE) document.captureEvents(Event.MOUSEMOVE)
document.onmousemove = getMouseXY;
var tempX = 0;
var tempY = 0;
var pos= new Array();

function getMouseXY(e) {
if (IE) {
    tempX = event.clientX + document.body.scrollLeft;
    tempY = event.clientY + document.body.scrollTop;
}
else {  
    tempX = e.pageX;
    tempY = e.pageY;
    tempX -= $("#canvas").offset().left;
    tempY -= $("#canvas").offset().top;
}  
if (tempX < 0) {
    tempX = 0;
}
if (tempY < 0) {
    tempY = 0;
}  
document.Show.MouseX.value = tempX;
document.Show.MouseY.value = tempY;

pos[0]= tempX;
pos[1]= tempY;
return true;
}

/**
 * On mouse down get cursor coordinates to start drawing
 */
$("#canvas").mousedown(function(){
    getMouseXY;
    startY= pos[1];
    // On mouse move keep drawing with mode
    $("#canvas").mousemove(function(){
        getMouseXY;
        endX= pos[0];
        endY= pos[1];
        if(mode==1) {
            width= endX - startX;
            height= endY- startY;
            ctx.clearRect(startX, startY, width, height);
            drawRect(startX, startY, width, height);
        }
        else  {
            draw(startX, startY, endX, endY);
            startX= pos[0];
            startY= pos[1];
        }
    })
})

/**
 *  On mouse up stop drawing
 */
$(document).mouseup(function(){
    $("canvas").unbind("mousemove");
})

/**
 * Clear Canvas Content
 */
$("#clear").click(function(){
    ctx.clearRect(0,0,300,300);
})
</script>
</body> 
```

好吧，我的问题是： Exp：当我在坐标 (10,10) 处鼠标按下并鼠标移动到 (100,100) 时，正确绘制了一个矩形。但是当我继续将鼠标移回（90,90）时，从（100,100）到（90,90）的所有矩形都不像我预期的那样清晰。

当我将鼠标移动到某个地方而不是将其移回到起点附近时，总是会发生这种情况。

有人可以看看我的代码并告诉我出了什么问题，我在绘制新矩形之前清除了前一个矩形，所以这个错误应该不会发生。

请帮帮我，非常感谢你:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T10:52:38.663

您需要跟踪上一次绘制操作的坐标。实际上，您只是清除了要为每一帧绘制的区域，这意味着随着矩形的缩小，您不会清除先前绘制的区域，而只是清除其中的一部分。

为了确定这一点，我在某些地方对您的代码进行了相当大的重构，所以请询问我是否做了任何您不理解的事情。

[http://jsfiddle.net/DaveRandom/YUtpH/1/](http://jsfiddle.net/DaveRandom/YUtpH/1/)

```
var color = 'black',
    rectMode = 0,
    IE = document.all ? true : false,
    $canvas = $("#canvas"),
    ctx = $canvas[0].getContext('2d');

/**
 * All functions here
 */
function getMouseXY(e, $canvas) {
    var pos = {};

    if (IE) {
        pos.x = event.clientX + document.body.scrollLeft;
        pos.y = event.clientY + document.body.scrollTop;
    } else {
        pos.x = e.pageX - $canvas.offset().left;
        pos.y = e.pageY - $canvas.offset().top;
    }

    document.Show.MouseX.value = pos.x = Math.min(300, Math.max(0, pos.x));
    document.Show.MouseY.value = pos.y = Math.min(300, Math.max(0, pos.y));

    return pos;
}

function draw(action, startPos, endPos) {
    action.ctx.beginPath();
    if (action.rectMode) {
        drawRect(action);
    } else {
        drawLine(action);
    }
    action.ctx.strokeStyle = action.color;
    action.ctx.stroke();
}

function drawLine(action) {
    action.ctx.moveTo(action.start.x, action.start.y);
    action.ctx.lineTo(action.end.x, action.end.y);
    action.start = action.end;
}

function drawRect(action) {
    var clearX = action.last.x + (action.last.w < 0 ? 1 : -1),
        clearY = action.last.y + (action.last.h < 0 ? 1 : -1),
        clearW = action.last.w + (action.last.w < 0 ? -2 : 2),
        clearH = action.last.h + (action.last.h < 0 ? -2 : 2),
        drawX = action.start.x,
        drawY = action.start.y,
        drawW = action.end.x - action.start.x,
        drawH = action.end.y - action.start.y;

    action.ctx.clearRect(clearX, clearY, clearW, clearH);
    action.ctx.rect(drawX, drawY, drawW, drawH);

    action.last = {
        x: drawX,
        y: drawY,
        w: drawW,
        h: drawH
    };
}

/**
 * Get Cursor Coordinates
 */
if (!IE) {
    document.captureEvents(Event.MOUSEMOVE);
}

/**
 * Change draw color
 */
$("select[name=color]").change(function(){
    color = $(this).val();
});

/**
 * Draw Mode
 * 0: normal
 * 1: draw Rectangle
 */
$("#rectMode").click(function() {
    if (rectMode) {
        rectMode = 0;
        $(this).attr('src','rectMode.png');
    } else {
        rectMode = 1;
        $(this).attr('src','rectMode1.png');
    }
});

/**
 * On mouse down get cursor coordinates to start drawing
 */
$canvas.mousedown(function(e) {
    var startPos = getMouseXY(e, $canvas),
        action = {
            ctx: ctx,
            color: color,
            rectMode: rectMode,
            start: startPos,
            last: {
                x: startPos.x,
                y: startPos.y,
                w: 0,
                y: 0
            }
        };

    // On mouse move keep drawing with mode
    $canvas.mousemove(function(e){
        action.end = getMouseXY(e, $canvas);
        draw(action);
    });
});

/**
 * On mouse up stop drawing
 */
$(document).mouseup(function(){
    $canvas.unbind("mousemove");
});

/**
 * Clear Canvas Content
 */
$("#clear").click(function() {
    ctx.clearRect(0, 0, 300, 300);
}); 
```

# iphone - UIAlertView 内存问题

> ID：16009845
> 
> 赞同：1
> 
> 时间：2013-04-15T07:30:03.913
> 
> 标签：iphone, ios, memory-management, uialertview, instruments

我创建了一个非常简单的 iPhone 应用程序，它具有单个视图和一个 UIButton，其中包含用于显示 UIAlertView 的操作。我正在使用以下代码

```
- (IBAction)showAlert:(id)sender {
     UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Message" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
     [alert show];
     [alert release];
} 
```

附上仪器分配工具屏幕截图。 ![在此处输入图像描述](https://i.stack.imgur.com/1vp63.png)

在图像中，低内存分配显示应用程序正在运行而没有显示`UIAlertView`，高峰值显示内存使用量在我显示后`UIAlertView`，即使我已经关闭`UIAlertView`并释放它，但它继续显示相同的内存状态和活动对象（高达 50,000）。但是当我按下主页按钮时，应用程序进入后台，您可以在附加的图像中看到活体对象和使用的内存减少。

问题：

我的代码有什么问题？

为什么即使在释放`UIAlertView`它之后显示高内存分配和活动对象？

为什么我必须去后台释放内存和活物？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:22:12.273

我不会太担心它，除非这是您的应用程序中的主要内存瓶颈，或者除非每个 UIAlertView 累积添加更多内存。

你的代码是正确的。但是即使您释放了 UIAlertView，用户界面系统至少会保留它，直到您关闭警报。除了 UIAlertView 本身，它还分配显示警报所需的图形资源。关闭警报后，这取决于自动释放循环何时启动，以及缓存参数，是否以及何时释放内存。

当您按下主页按钮时，您的应用程序将进入后台，并作为该内存释放的一部分被强制执行。即清空缓存，运行自动释放周期等。

# php - facebook登录将代码作为查询字符串中的变量返回

> ID：16009846
> 
> 赞同：2
> 
> 时间：2013-04-15T07:30:06.973
> 
> 标签：php, facebook, api

我在我的一个网站中使用 Facebook 登录，使用 sdk for PHP。

有时facebook登录有效，有时无效。

这是我的 index.php：

```
/// fb login area.....
include("facebook/src/facebook.php");

$facebook = new Facebook(array(
  'appId'  => '159326560901256',
  'secret' => 'c6b30bd2f80747b64d5b1d15a3da9e9c',
));

$user = $facebook->getUser();

$loginUrl = $facebook->getLoginUrl(array(
  'scope' => 'email',
  'redirect_uri' => 'http://xyz.com/login_fb.php'
));

<a href="<?=$loginUrl?>"><img class="fb_img" 
  src="images/fb_logo.png" width="153" height="38" /></a> 
```

它去`login_fb.php`：

[https://www.facebook.com/dialog/oauth?client_id=123131231&redirect_uri=http%3A%2F%2Fxyz.com%2Flogin_fb.php&state=403bc8aaf9eaee4064e3cc27befc71ff&scope=email](https://www.facebook.com/dialog/oauth?client_id=123131231&redirect_uri=http%3A%2F%2Fxyz.com%2Flogin_fb.php&state=403bc8aaf9eaee4064e3cc27befc71ff&scope=email)

现在在 login_fb.php 我得到这个网址：

```
login_fb.php?code=ASA&S^&*A^S&*A^S&*^A&*ASUAUIYSUIYASIYAUSYUIASA 
```

在`$user`我得到`0`

```
/// code for login_fb.php
include("facebook/src/facebook.php");

$facebook = new Facebook(array(
  'appId'  => '159326560901256',
  'secret' => 'c6b30bd2f80747b64d5b1d15a3da9e9c',
));

// Get User ID
$user = $facebook->getUser();
if ($user) {
    try {
        $user_profile = $facebook->api('/me');
    } 
    catch (FacebookApiException $e) {
        error_log($e);
        $user = null;
    }

    $logoutUrl = $facebook->getLogoutUrl(array(
      'next' => 'http://minuteville.com/index.php?val=fblogout'
    )); 
```

为什么它不起作用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:13:41.147

通过添加以下行并`getAccessTokenFromCode`在 Facebook SDK 中使用，可以解决问题。

访问代码过期。所以通过交换代码获取新的访问代码可以解决问题

`$access_code = $facebook->getAccessTokenFromCode($_GET['code']);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:39:22.693

[https://developers.facebook.com/docs/howtos/login/server-side-login/#step6](https://developers.facebook.com/docs/howtos/login/server-side-login/#step6)

您应该能够使用 code 参数构建访问令牌以获取用户。这一切都写在文档中。

# jquery - 如果父项没有列表项，则jQuery隐藏div

> ID：16009851
> 
> 赞同：0
> 
> 时间：2013-04-15T07:30:24.017
> 
> 标签：jquery

如果其中没有列表项，我有这个片段可以正常工作并隐藏 .currencybox div。

```
jQuery(".currencybox:not(:has(li))").hide(); 
```

如果 .currencybox div 没有任何列表元素，我该如何更改它以隐藏名为 .currencycontainer 的 div？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:49:27.877

html:

```
<div class="parent">
    <div class="currencycontainer" >currencycontainer</div>
    <div class="currencybox" >currencybox
        <ul>
            <li>1</li>
        </ul>
    </div>
</div>
<div class="parent">
    <div class="currencycontainer" >currencycontainer</div>
    <div class="currencybox" >currencybox
        <ul>
        </ul>
    </div>
</div> 
```

js：

```
$(".currencybox:not(:has(li))").each(function(){
    $(this).parent().find('.currencycontainer ').hide();
}); 
```

请参阅演示[小提琴](http://jsfiddle.net/2WJd2/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:36:33.290

怎么样：

```
$(".currencybox:not(:has(li))").each(function(){
    $(this).closest('.currencycontainer ').hide();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:37:37.537

```
if ($('.currencybox').children('li').length == 0)
{
$('.currencycontainer').hide();

} 
```

可能会有所帮助

# jquery - 切换 subnav 和 newsticker

> ID：16009852
> 
> 赞同：1
> 
> 时间：2013-04-15T07:30:33.230
> 
> 标签：jquery, menu

我想默认显示一个新贴纸，但它的定位方式是在悬停菜单时，子导航应该替换新贴纸。但我不能完全让它工作：

JSFiddle：http: [//jsfiddle.net/rd9jS/](http://jsfiddle.net/rd9jS/)

```
$(document).ready(function() {
    $('#nav > ul > li').mouseover(function () {
        $('#news').hide();
        $(this).parent().find("ul.children").not($('ul.children', this)).hide();
        $('ul.children', this).slideDown();
    });
    $('#nav .children').mouseleave(function (e) {
        setTimeout(function(){
            $(this).hide();
            $('#news').slideDown();
        },2000);
        e.stopPropagation();
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:41:49.463

在提供给的匿名函数中`setTimeout`，`this`并不是你想的那样。它实际上是全局`window`对象。解决此问题的一种方法是存储对创建函数的上下文的引用。

```
$('#nav .children').mouseleave(function (e) {
    var $children = $(this);

    setTimeout(function(){
        $children.hide();
        $('#news').slideDown();
    ,2000);
    e.stopPropagation();
}); 
```

MDN 的[`"this"`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this#Method_binding)文档是关于这个主题的一个很好的参考，我引用：

> 在当前范围内绑定到 this 的对象由当前函数的调用方式决定

# c# - ASP.Net 如何从 gridview C# 更新数据库

> ID：16009857
> 
> 赞同：1
> 
> 时间：2013-04-15T07:30:56.493
> 
> 标签：c#, sql, database, sharepoint

您将如何从 gridview 更新 SQL 数据库？（更新记录后）

使用 - SharePoint -> 应用程序页面 - 我知道，SharePoint....“让基本的事情变得更基本，让困难的事情变得不可能”（侧面甚至没有 SQLDatasource 控件，如果需要，您必须自己添加它- 不知道他们是否不想让您在项目中添加一个或其他东西......）

[我在 gridview 中显示了数据](https://stackoverflow.com/questions/8934850/binding-gridview-to-sqldatasource-programmatically)，并启用了

```
 AutoGenerateEditButton="True" 
```

在网格视图中。gridview 的数据源是我从数据库中填充的数据集。

我认为如果没有绑定到您的网格视图的 SQLDatasource，您将不得不再次连接到数据库并手动更新数据库。但是除了绑定到自动更新的gridview的SQLDataSource之外，我似乎找不到任何方法来做到这一点。

执行此操作的方法，但需要绑定到 gridview 的 SQLDatasource

[方法 Nr1](http://www.encodedna.com/2013/01/asp.net-gridview-edit-delete.htm)

[方法 Nr2](https://stackoverflow.com/questions/12192236/update-in-asp-net-gridview-when-binding-with-sqldatasource)

编辑 gridview 后，您将如何更新数据库？

--更新解决方案--添加了一些修改。谢谢

```
 protected void Page_Load(object sender, EventArgs e)
        {
            int employeerId = 1;
            //Add all the employees to the list to view them.
            string query = "select emp.Name as [Employee Name], em.* from EthicsManagement em join EmployeeTable emp on em.employeeId = emp.employeeId where emp.managerId =" + employeerId;

            DataSet ds = dbConn.returnSqlDataset(query);
            grdViewDetails.DataSource = ds;
            grdViewDetails.DataBind();
            int x  = grdViewDetails.Columns.Count;

            //Hide the columns.
            grdViewDetails.DataBind();
            if (grdViewDetails.Columns.Count > 0)
            {
                grdViewDetails.Columns[2].Visible = false;
                grdViewDetails.Columns[3].Visible = false;
            }
            else
            {
                grdViewDetails.HeaderRow.Cells[0].Visible = false;
                foreach (GridViewRow gvr in grdViewDetails.Rows)
                {
                    gvr.Cells[2].Visible = false;
                    gvr.Cells[3].Visible = false;
                }
            }
        }

protected void grdViewDetails_RowEditing1(object sender, GridViewEditEventArgs e)
    {
        string query = "select emp.Name as [Employee Name], em.* from EthicsManagement em join EmployeeTable emp on em.employeeId = emp.employeeId where emp.managerId =" + 1;
        grdViewDetails.EditIndex = e.NewEditIndex;
        //e.newedit index:- will be provide index of row for which edit button is selected
        grdViewDetails.DataSource = dbConn.returnSqlDataset(query);
        grdViewDetails.DataBind();
    }

    protected void grdViewDetails_RowUpdating(object sender, GridViewUpdateEventArgs e)
    {
        string query = "select emp.Name as [Employee Name], em.* from EthicsManagement em join EmployeeTable emp on em.employeeId = emp.employeeId where emp.managerId =" + 1;

        foreach (TableCell cell in grdViewDetails.Rows[e.RowIndex].Cells)
        {
            if (cell.Controls[0] is TextBox)
            {
                TextBox textbox = (TextBox)cell.Controls[0];
                string value = textbox.Text;
            }
            else
            {
                if (cell.Controls[0] is CheckBox)
                {
                    CheckBox chkBoxWeek = (CheckBox)cell.Controls[0];
                    Boolean checkStatus = chkBoxWeek.Checked;
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-30T11:00:24.133

行编辑：当用户点击编辑按钮时，网格视图的行编辑事件将被执行。该事件将提供行索引

```
protected void GridView1_RowEditing(object sender, GridViewEditEventArgs e)
    {
        GridView1.EditIndex = e.NewEditIndex;
        databind();
    } 
```

行更新：这将执行回发，将执行网格视图的行更新事件过程

```
protected void GridView1_RowUpdating(object sender, GridViewUpdateEventArgs e)
    {
        Label l = (Label)GridView1.Rows[e.RowIndex].FindControl("Label1");
        TextBox t1 = (TextBox)GridView1.Rows[e.RowIndex].FindControl("TextBox1");
        TextBox t2 = (TextBox)GridView1.Rows[e.RowIndex].FindControl("TextBox2");
        FileUpload fu = (FileUpload)GridView1.Rows[e.RowIndex].FindControl("FileUpload1");

        string fpath = Server.MapPath("images");
        string fname = fu.FileName;
        string concat = fpath + "\\" + fname;
        fu.SaveAs(concat);

        cmd = new SqlCommand("update userdata set username='" + t1.Text + "', password='" + t2.Text + "' , Image = '" + "~/images/"+ fu.FileName + "' where userid='" + Convert.ToInt32(l.Text) + "'", con);

        con.Open();
        cmd.ExecuteNonQuery();
        con.Close();
        GridView1.EditIndex = -1;
        databind();
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:34:02.140

行编辑：当用户点击编辑按钮后回发生时，网格视图的行编辑事件将被执行。该事件将提供行索引

```
protected void gremp_rowediting(object sender,EventArgs e)
 {
   dataset ds=(dstaset)session["ds1"];
   gvemp.editindex=e.new editindex;
//e.newedit index:- will be provide index of row for which edit button is selected
   gvemp.Datasource=Ds.Table["employee"];
   gvemp.Databind();
 } 
```

行更新：这将执行回发，将执行网格视图的行更新事件过程

```
protected void gvemp-rowupdating(Object sender,EvenArgs e)
 {
  Textbox txt=(Textbox)gvemp.Rows[e.RowIndex].cells[3].controls[0];
 //here i will update the third cell data in grid view
  int avg=int.parse(txt.Text);
  Dataset ds=(dataset)session["ds1"]; 
  ds.Tables["employee"].rows[e.Rowindex]["Average"]=avg;
  ds.Tables["employee"].AcceptChanges();
  session["Ds1"]=ds;
//it will overwrite the session of Dataset
//Rearrange Gridview
  gvemp.editIndex=-1;
  gvemp.Datasource=Ds.Tables["employee"];
  gvemp.DataBind();
 } 
```

点击此链接了解更多详情：

[http://www.aspdotnet-sharepoint.com/2011/11/row-editdeleteupdate-in-grid-view-using.html](http://www.aspdotnet-sharepoint.com/2011/11/row-editdeleteupdate-in-grid-view-using.html)

# python - 从字符串中获取数字

> ID：16009861
> 
> 赞同：1
> 
> 时间：2013-04-15T07:31:22.403
> 
> 标签：python, string, digit

我想通过一行解析并使用python从中获取一组特定的数字。

字符串看起来像这样：“72732672 bytes available (56004608 bytes used)” 数字可以是任何数值，这使我无法预先定义它。在这种情况下，具体目标是“72732672”。

你们中的任何人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:33:38.083

所以你想要字符串中的整数？一种方法是使用[正则表达式](http://docs.python.org/2/library/re.html)。但这可以在不使用正则表达式的情况下完成。

```
>>> line = "72732672 bytes available (56004608 bytes used)" 
>>> [int(word) for word in line.split() if word.isdigit()]
[72732672] 
```

如果您想使用正则表达式 -

```
>>> import re
>>> 
>>> re.findall(r'\d+', line)
['72732672', '56004608'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:36:47.393

使用`re`模块：

```
>>> digits = re.compile(r'[0-9]+')
>>> digits.findall("72732672 bytes available (56004608 bytes used)")
['72732672', '56004608'] 
```

您可以使用 int 转换为实际数字：

```
>>> l = digits.findall("72732672 bytes available (56004608 bytes used)")
>>> l = [int(x) for x in l]
>>> l
[72732672, 56004608] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:48:31.933

```
>>> import re
>>> text = "72732672 bytes available (56004608 bytes used)"
>>> re.findall(r'\d+', text)
['72732672', '56004608'] 
```

# extjs - ExtJS 3.4：如何在带有列布局的嵌套 Ext.form.Panel 中显示标签

> ID：16009862
> 
> 赞同：1
> 
> 时间：2013-04-15T07:31:22.903
> 
> 标签：extjs

我发现用列布局显示文本标签是不可能的。我尝试了很多配置。标签字段仍然不显示。这是我的代码：

```
var contactPanel = new Ext.form.FormPanel(
{             
       bodyStyle:"padding:5px",
       items:
       [
          {xtype:"fieldset",title:"Customer",html:"XXX COMPANY LIMITED"},
          {xtype:"fieldset",title:"Contact Person",items:[
            new Ext.Panel
            ({
              bodyStyle:"padding:0px 0px 0",labelAlign:'right',border:false,items:
              [{
                layout:"column",border:false,defaults:{border:false,defaults:{xfield:"form",defaultType:'textfield',anchor:'95%'}},
                items:[
                  {columnWidth:.05,html:"<span style='font-size:14px;position:absolute;'>English Name</span>"},
                  {columnWidth:.25,items:[new App.common.ArrayComboBox({width:120,fieldLabel: "Title", data:['Dr','Mr','Ms'], value:2})]},
                  {columnWidth:.35,items:[{width:220,fieldLabel:'Surname',xtype:'textfield',value:"Lau"}]},
                  {columnWidth:.35,items:[{fieldLabel:'Given Name',xtype:'textfield',value:"Alan"}]},
                  {columnWidth:.7,items:[{fieldLabel:'Customer Name',xtype:'textfield'}]},
                  {columnWidth:.5,items:[{fieldLabel:'Responsibility',xtype:'textfield'}]}
                ]
              }]
            })
          ]}
   ]
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:03:27.537

标签显示在“表单”布局的面板中。尝试将内部面板的默认值修改为此（添加布局：'form'）：

```
defaults:{border:false, layout: 'form',defaults:{xfield:"form",defaultType:'textfield',anchor:'95%'}} 
```

# css - 如何确保我的布局适合每个屏幕分辨率

> ID：16009868
> 
> 赞同：0
> 
> 时间：2013-04-15T07:31:41.937
> 
> 标签：css, resolution

见@http [://www.nobleprotocol.com](http://www.nobleprotocol.com)

我试图让这张图片的大小适合每个屏幕。您可以给我任何 css/html 编码技巧来帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:29:03.703

采用`cover`

```
html { 
  background: url("imageURL") no-repeat center center fixed; 
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
} 
```

来源：[http ://css-tricks.com/perfect-full-page-background-image/](http://css-tricks.com/perfect-full-page-background-image/)

看这个

[http://jsfiddle.net/TxyBQ/](http://jsfiddle.net/TxyBQ/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:36:23.890

```
<style type="text/css">
    body {
        background-image:url("image.png");
    background-size:cover;
    }
</style> 
```

# c++ - 如何让 Box2D 只创建一个实体实例？

> ID：16009874
> 
> 赞同：0
> 
> 时间：2013-04-15T07:32:06.703
> 
> 标签：c++, box2d, testbed

我只调用了 body->CreateFixture(&fixtureDef) 一次，但 Testbed 继续创建实体。这是我的代码：

```
#ifndef FOOTEST_H
#define FOOTEST_H
#define DEGTORAD 0.0174532925199432957f
#define RADTODEG 57.295779513082320876f    

class FooTest : public Test
    {
        public:
        FooTest() { } //do nothing, no scene yet

        void Step(Settings* settings)
        {
            //run the default physics and rendering
            Test::Step(settings);

        b2BodyDef myBodyDef;
        myBodyDef.type = b2_dynamicBody;
        myBodyDef.position.Set(0, 20);
        b2Body *dynamicBody = m_world->CreateBody(&myBodyDef);

        b2PolygonShape polygonShape;
        b2FixtureDef myFixtureDef;
        myFixtureDef.shape = &polygonShape;
        myFixtureDef.density = 1;

        for(int i=0;i<4;i++){
        b2Vec2 pos(sinf(i*90*DEGTORAD), cos(i*90*DEGTORAD));
        polygonShape.SetAsBox(1, 1, pos, 0);
        dynamicBody->CreateFixture(&myFixtureDef);
        }

        myBodyDef.type = b2_staticBody;
        myBodyDef.position.Set(0, 0);

        b2Body *staticBody = m_world->CreateBody(&myBodyDef);

        b2EdgeShape edgeShape;
        edgeShape.Set( b2Vec2(-15,0), b2Vec2(15,3) );

        myFixtureDef.shape = &edgeShape;
        staticBody->CreateFixture(&myFixtureDef);
        }

        static Test* Create()
        {
            return new FooTest;
        }
    };  
#endif 
```

我正在关注本教程： [iForce2D](http://www.iforce2d.net/b2dtut/fixtures "iForce2D Box2D 教程") 本教程的屏幕截图仅显示了已创建夹具的一个实例。我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T10:33:21.557

“Testbed”`Step`反复调用，您在每次调用中创建实例。
请注意，本教程在`FooTest`构造函数中进行了所有设置，因此它只运行一次。

`Step`出于某种原因，您已将设置从构造函数移至函数。
就在那篇教程的前面一点，它说“如果你没有为渲染或物理控制做任何特殊的事情，你不需要覆盖 Step()”。

# php - 多维数组循环

> ID：16009875
> 
> 赞同：0
> 
> 时间：2013-04-15T07:32:10.190
> 
> 标签：php, multidimensional-array

我有一个多维数组

```
return array(

// This level separates instances by their instance key.
'cytec' => array(

    // This level separates models by their model key.
    'model1' => array(

        'title'   => 'Business card model 1 title',
        'preview' => 'public path to preview image',
        'pdf'     => 'web safe path to PDF to generate from',
        'fields'  => array(

            'title' => array(
                'label'        => 'Title',
                'type'         => 'text',
                'required'     => true,
                'coordinate-x' => 30,
                'coordinate-y' => 20,
                'rules'        => 'required',
            ),

            'phone' => array(
                'label'        => 'Phone',
                'type'         => 'text',
                'help'         => 'syntax +32(0)3 485 85 53', 
                'coordinate-x' => 40,
                'coordinate-y' => 20,
                'rules'        => '',
            ),

            'position' => array(
                'label'        => 'Position',
                'type'         => 'select',
                'options'      => array(
                    'developer' => 'Web Developer',
                    'designer'  => 'Web Designer',
                ),
                'required'     => true,
                'coordinate-x' => 40,
                'coordinate-y' => 20,
                'rules'        => 'required|in:developer,designer',
            ),
        ),
    ),
),
); 
```

我得到这个返回

```
Array ( 
   [model1] => Array ( 
                  [title] => Business card model 1 title 
                  [preview] => public path to preview image 
                  [pdf] => web safe path to PDF to generate from 
                  [fields] => Array ( 
                                 [title] => Array ( 
                                              [label] => Title 
                                              [type] => text 
                                              [required] => 1 
                                              [coordinate-x] => 30 
                                              [coordinate-y] => 20 
                                              [rules] => required 
                                           )
                                 [phone] => Array ( 
                                              [label] => Phone 
                                              [type] => text 
                                              [help] => syntax +32(0)3 485 85 53 
                                              [coordinate-x] => 40 
                                              [coordinate-y] => 20 
                                              [rules] => 
                                           ) 
                                 [position] => Array ( 
                                                [label] => Position 
                                                [type] => select 
                                                [options] => Array ( 
                                                               [developer] => Web Developer
                                                               [designer] => Web Designer
                                                             ) 
                                                [required] => 1 
                                                [coordinate-x] => 40 
                                                [coordinate-y] => 20 
                                                [rules] => required|in:developer,designer 
                                              ) 
                             ) 
                )
  ) 
```

但是现在我不想循环遍历它，而只是取回数组 model1 的名称。
我该怎么做呢？我不需要数组模型 1 的值，只需要名称

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:37:24.073

如果要从关联数组中获取键，请使用以下结构：

```
foreach( $array as $key => $value )
{
     echo($key);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:38:27.653

```
 $array = 'your returned array'

 echo $requiredValue = $array['cytec']['model1']['title']; 
```

更一般地说，如果你有关联数组，那么你可以使用[foreach](http://php.net/manual/en/control-structures.foreach.php)循环

```
foreach($array as $key=>$value)
{
   print_r($value);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:41:23.013

```
print_r($x['cytec']['model1']['title']); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T07:41:44.533

要获取关联数组的键，您还可以使用：

```
while ($cytec_name = current($cytec)) {
   echo key($cytec).'<br />';
} 
```

# android - 搜索栏没有到达最后

> ID：16009877
> 
> 赞同：2
> 
> 时间：2013-04-15T07:32:20.797
> 
> 标签：android

我正在开发一个使用 seekbar 的应用程序。我的 seekbar 的最大值为 6 即 android:max="6" 因为我希望间隔为 5。我的问题是 seekbar 没有达到最后我尝试了很多东西但仍然无助所以任何人都可以建议我该怎么做。我的代码是

```
 public class MainActivity  extends Activity implements SeekBar.OnSeekBarChangeListener 
  {

    SeekBar seekBar;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    seekBar=(SeekBar)findViewById(R.id.seek);
  int max = 6;
seekBar.setMax(max);
seekBar.setProgress(0);

    seekBar.setOnSeekBarChangeListener(this);
}

public void onProgressChanged(SeekBar seekBar, int progress,
        boolean fromUser) {

}

public void onStartTrackingTouch(SeekBar seekBar) {
    // Notify that the user has started a touch gesture.

}

public void onStopTrackingTouch(SeekBar seekBar) {
    // Notify that the user has finished a touch gesture.

}

} 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:43:46.080

xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:layout_width="match_parent"
          android:orientation="vertical"
          android:layout_height="match_parent"
          >

<SeekBar
      android:layout_width="match_parent"
      android:layout_height="30dp"
      android:max="6"
      android:id="@+id/sb"
      />
</LinearLayout> 
```

活动.java

```
public class MyActivity extends Activity implements SeekBar.OnSeekBarChangeListener {

private SeekBar sb;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
          setContentView(R.layout.main);
      sb = (SeekBar)findViewById(R.id.sb);
      sb.setOnSeekBarChangeListener(this);
     }

@Override
public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {

}

@Override
public void onStartTrackingTouch(SeekBar seekBar) {

}

@Override
public void onStopTrackingTouch(SeekBar seekBar) {

}
} 
```

![在此处输入图像描述](https://i.stack.imgur.com/srmqb.png)

所有的工作都像一个魅力。希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-31T18:36:14.513

尝试在搜索栏的末尾添加一些填充：

myseekbar.setPadding(0, 0, 5, 0);

# jsp - 需要以表格形式显示 out.println 命令数据

> ID：16009883
> 
> 赞同：0
> 
> 时间：2013-04-15T07:32:47.190
> 
> 标签：jsp, jsp-tags, jspinclude

请帮我解决我无法以表格格式 显示以下“ **out.println”数据的地方。**

```
if(rs.next())          
 {         
out.println(rs.getString("Case_Title"));         
out.println(rs.getString("Problem_Descr"));          
out.println(rs.getString("Problem_Submit"));         
}         
}        
catch(Exception e)        
{         
e.printStackTrace();        
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:42:17.610

检查此链接 [http://www.coderanch.com/t/493812/JSP/java/display-records-Grid-view-format](http://www.coderanch.com/t/493812/JSP/java/display-records-Grid-view-format)

您需要做的就是使用 jsp scriptlet <% .....%>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:45:14.387

像这样试试

```
<%
    while (rs.next()) {
%>
<p ><%=rs.getString("Case_Title")%></p>
<p ><%=rs.getString("Problem_Descr")%></p>
<p ><%=rs.getString("Problem_Submit")%></p>

<%
    }
%> 
```

如果可能的话， [避免使用脚本](http://balusc.blogspot.in/2010/07/how-to-avoid-java-code-in-jsp-files.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:57:17.783

使用下面的代码::

```
<table>
    if(rs.next())          
    {         
        out.println("<tr>");
        out.println("<td>");
        out.println(rs.getString("Case_Title"));         
        out.println("</td>");
        out.println("<td>");
        out.println(rs.getString("Problem_Descr"));          
        out.println("</td>");
        out.println("<td>");
        out.println(rs.getString("Problem_Submit"));         
        out.println("</td>");
        out.println("</tr>");
    }         
    }        
    catch(Exception e)        
    {         
        e.printStackTrace();        
    } 
<table> 
```

# mysql - Mysql 集群创建表 - errno:157

> ID：16009884
> 
> 赞同：1
> 
> 时间：2013-04-15T07:32:50.160
> 
> 标签：mysql, cluster-computing

我正在尝试设置一个mysql集群，我首先启动了ndb_mgmd，然后在数据节点上启动了ndbd，然后是mysqld。`ndb_mgm -e show`我在管理节点上得到以下信息。

```
Cluster Configuration
---------------------

[ndbd(NDB)] 2 node(s)
id=2    @10.252.151.67  (Version: 5.1.68, Nodegroup: 0, Master)
id=3    @10.253.4.143  (Version: 5.1.68, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=1    @10.253.19.149  (Version: 5.1.68)

[mysqld(API)]   2 node(s)
id=4    @10.253.4.143  (Version: 5.1.68)
id=5    @10.252.151.67  (Version: 5.1.68) 
```

当我尝试在其中一个数据节点上创建数据库时，出现以下错误

```
create table user_table(
  ycsb_key varchar(32) primary key,
  field1 varchar(100), field2 varchar(100), field3 varchar(100), field4 varchar(100),
  field5 varchar(100), field6 varchar(100), field7 varchar(100), field8 varchar(100),
  field9 varchar(100), field10 varchar(100))
  max_rows=1000 engine=ndbcluster partition by key(ycsb_key); 
```

我收到此错误：

`ERROR 1005 (HY000): Can't create table 'user_database.user_table' (errno: 157)`

有没有人得到类似的错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:36:50.480

启动集群（启动你的ndbd进程并使其上线）然后重启集群，似乎有帮助，看看这个[线程](http://forums.mysql.com/read.php?25,133034,133034)

# ajax - JSF2对同一个托管bean的多个Ajax请求不同的操作方法

> ID：16009889
> 
> 赞同：1
> 
> 时间：2013-04-15T07:33:13.517
> 
> 标签：ajax, jsf-2, primefaces, simultaneous

我有一个带有两个按钮 BUTA 和 BUTB 的 JSF2 Primefaces 页面 MultiAjax.xhtml。该页面有一个 ViewScoped ManagedBean MBMultiAjax，它有两个 actionmethods butAAction 和 butBaction ...这两个方法都有一个 startTime 和 endTime 打印到 sout ...

两者都查询数据库并将结果显示在页面上的两个不同表中。

如果我先按 BUTA，然后按 BUTB，我发现方法 butBaction 的执行在 butAAction 完成后开始，这可以从这两种方法的 starttime 和 endtime 的sout 中得到验证......

我希望由于 Ajax 是异步的，因此这两种方法的执行开始时间必须只有很小的差异，而不是一个接一个执行的同步。

为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T11:13:50.437

默认情况下`<p:commandButton`会将请求排队，您应该添加`async`属性并将其设置为 true ：

```
<p:commandButton async="true" ... /> 
```

来自 Primefaces 文档：

```
async
Default: FALSE
Type: Boolean
Description: When set to true, ajax requests are not queued. 
```

# c# - 如何在类库项目中使用 Server.MapPath

> ID：16009891
> 
> 赞同：10
> 
> 时间：2013-04-15T07:33:14.557
> 
> 标签：c#, asp.net, server.mappath

我有一个 Web 应用程序，它有许多类库项目。下面的一些示例代码。

```
public static class LenderBL
{
    static string LenderXml { get { return "MyPathHere"; } }

    public static LenderColl GetLenders()
    {
        var serializer = new XmlSerializer(typeof(LenderColl));

        using (XmlReader reader = XmlReader.Create(LenderXml))
        {
            return (LenderColl)serializer.Deserialize(reader);
        }
    }
} 
```

我通常会使用 Server.MapPath 来获取属性 LenderXml 的路径，但是当我在类库中使用它时，会返回父解决方案的路径，而不是类库项目的路径。

有没有办法获取类库项目本身的路径？

提前致谢。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-15T07:37:16.500

```
 var Mappingpath = System.Web.HttpContext.Current.Server.MapPath("pagename.aspx"); 
```

希望它有帮助。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-04-29T09:28:48.350

据我了解，您需要当前的组装位置

```
static public string CurrentAssemblyDirectory()
{
    string codeBase = Assembly.GetExecutingAssembly().CodeBase;
    UriBuilder uri = new UriBuilder(codeBase);
    string path = Uri.UnescapeDataString(uri.Path);
    return Path.GetDirectoryName(path);
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-15T07:46:57.757

`Server.MapPath`将始终在 Web 根目录的上下文中运行。因此，在您的情况下，Web 根目录是父 Web 项目。虽然您的类库（程序集）看起来像单独的项目，但在运行时，它们都托管在 Web 项目进程中。因此，对于类库中的资源，有几点需要考虑。

首先，考虑将资源保留在类库中是否有意义。也许，您应该`xml`在 Web 项目中拥有该文件，并在类库中引用它。这等同于 MVC 项目如何在 Web 项目中保留其视图。但是，我认为您不能这样做。

其次，您可以更改`xml`文件的构建属性。如果将文件更改为`content`并`copy-always`在其属性中。该文件将复制到 bin 目录。然后`Server.MapPath`应该可以工作，因为该文件将是可访问的。

第三，您可以将资源设为[嵌入式资源](https://stackoverflow.com/questions/8936616/using-embedded-resources-in-c-sharp-console-application)，然后在代码中引用它。这是一种将所有资源保留在已构建程序集本地的方法。

希望这可以帮助。

# php - 网站翻译

> ID：16009892
> 
> 赞同：6
> 
> 时间：2013-04-15T07:33:22.677
> 
> 标签：php, html, internationalization, web, machine-translation

我正在用 2 种语言开发一个网站。

一种选择是我们可以自己翻译，但这可能需要更多的开发时间。

所以我正在寻找一个插件。

我尝试了[Microsoft Translator Widget](http://www.microsofttranslator.com/widget/)和[google translate gadget](https://translate.google.com/manager/website/) ，但两者都不适用于完整的网站。用户必须在网站的每个页面上选择他们的语言。任何其他插件都可以翻译整个网站。我读了很多线程，例如 [link1](https://stackoverflow.com/questions/5507498/how-to-translate-entire-website-with-google-translate) [link2](https://stackoverflow.com/questions/6151668/alternative-to-google-translate-api)。注意帮助了我。

请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-21T09:58:44.817

您所能做的就是在用户首次进入网站时将 cookie 或会话存储为用户的语言偏好。
然后，您可以在每个页面上使用相同的会话，根据会话中的语言变量自动调用特定语言的谷歌翻译引擎。
您可以在单独的 .php 文件中执行此操作，并将其包含在您的所有网页中。
希望能帮助到你。谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-13T13:31:26.987

如果您使用的是 OS 或 OTS CMS，则可能会内置语言支持。如果您自己构建一些东西并且您有时间进行自己的语言翻译，您可以使用谷歌翻译或微软翻译来构建您的翻译文件。

Null 有一个很好的评论，这只是扩展更多：

Joomla 和 PHPBB 有很好的语言实现示例。

```
JText::_('COM_SOMETHING_BLAH_TITLE'); 
```

编写自己的代码：

1.  创建语言文件

语言.en

语言.es

1.  在每个语言文件中添加相同的行：

(en) MESSAGE_SOMETHING="某事" (es) MESSAGE_SOMETHING="算法"

1.  创建一个类或函数来打印语言文本：

    打印翻译('MESSAGE_SOMETHING', 'es');

你的翻译功能可能是这样的

```
function translate ($label, $lang) {
$language = load_and_populate_language($lang);
$translated = $language[$label];
return (if $translated is empty, '', else $translated)
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-02T12:40:39.630

更好的是您可以使用 CMS（内容管理系统）。在 CMS 中，他们提供语言翻译设施。你可以翻译你想要的语言。它会自动翻译您的内容。

Tomato cms 是最适合您的解决方案之一……它是开源 CMS。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T14:18:40.813

我在[http://learnwithecho.com/](http://learnwithecho.com/)上发布了一个 Google 翻译插件示例。如果您在网站的每个页面上安装它，它将继续工作。您可以通过检查 cookie 是否已加载来确认这一点。但是，如果您的内容跨越多个站点，请尝试以下操作：

*   用户访问 siteA.com/index
    *   选择备用语言
    *   此页面上的 Javascript 检测 cookie 并加载 siteB.com/setLang.php?lang=LANG
*   用户加载 siteB.com/setLang.php
    *   返回内容类型 application/javascript
    *   在 siteB 上设置一个 cookie 以存储该语言
*   用户点击从站点 A 到站点 B 的链接
    *   用户带来您制作的 cookie，页面加载后谷歌翻译启动

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-18T03:39:20.157

Microsoft Translator 小部件在同一站点上的页面中保留用户的选择，因此从这个角度来看，它确实有效地翻译了整个站点。

如果站点分布在不同的域中（例如使用 iFrames），这将有点困难。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-02-22T19:42:19.117

只是一个建议，但也许您会发现自己提供翻译然后拥有客户端语言翻译器很有用？我正是为此目的编写了这个插件，因为自动翻译的质量达不到我想要的水平。

[https://github.com/coolboke1324/jquery-lang-js](https://github.com/coolbloke1324/jquery-lang-js)

该插件具有跨页面的语言持久性，允许基于短语和正则表达式的匹配，可以处理任意数量的语言选项，并允许您按照您的描述从单击事件触发更改。

[您可以在https://www.orbzu.com](https://www.orbzu.com)上看到它被实时使用（查看页面左上角的标志图标，然后选择一种新语言以查看页面上的文本自动更改）。

# mysql - 使用自连接的最大值

> ID：16009898
> 
> 赞同：2
> 
> 时间：2013-04-15T07:33:46.167
> 
> 标签：mysql, stored-procedures, stored-functions

我的桌子看起来像这样......

```
mysql> select * from billing_order_history;
+----------+---------------+--------------+---------------------+
| order_id | modify_action | new_order_id | modified_by_user_id |
+----------+---------------+--------------+---------------------+
|       52 |             2 |           54 |                   1 | 
|       54 |             2 |           55 |                   1 | 
|       55 |             2 |           56 |                   1 | 
+----------+---------------+--------------+---------------------+
3 rows in set (0.00 sec) 
```

旧订单 ID 连接到新订单 ID。52 >> 54 >> 55 >> 56

给定原始订单 ID 52，我需要返回最新的订单 ID，即 56。

如果我在 where 子句中添加 b.order_id = 52，我已经编写了以下自联接。

```
select max(a.new_order_id) from billing_order_history as a inner join billing_order_history as b on a.order_id = b.new_order_id 
```

模式和样本记录：

```
 CREATE TABLE billing_order_history (
  order_id bigint(20) ,
  modify_action int(11) ,
  new_order_id bigint(20) ,
  modified_by_user_id bigint(20) 
) ;
insert into billing_order_history values (52, 2, 54, 1), (54, 2, 55, 1), (55,2,56,1); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:41:24.467

你可以试试这个：

```
select max(latest)
from (
Select @latest:=case when @latest=order_id then new_order_id else @latest end
   as latest from billing_order_history, (select @latest:=55 ) as t
order by order_id) as t1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:07:48.663

最好增强您的模式以建立从任何订单到最新订单的链接。这通常使用所谓的*传递闭包表*来完成。

您应该选择持续保持从任何订单到最新订单的链接（每次插入新订单时），或者仅在需要时使用它。这主要是一个以性能为导向的决定。在大多数情况下，传递闭包表将被持续维护。

添加一个订单（或一组彼此之间不形成任何链的新订单）后，只需一条`UPDATE`语句即可使用其先前值和新订单更新传递闭包表。

从 MySQL 版本 5 开始，您可以使用触发器`billing_order_history`来更新传递闭包表（可以作为单独的表实现，也可以作为 中的另一列实现`billing_order_history`）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T07:54:06.007

我最后的信息是 MySQL 还不支持递归查询。2011 年 12 月，[这篇文章为此](https://stackoverflow.com/questions/8561654/how-to-work-with-recursive-query-in-mysql)提到了 PostgreSQL 或 Sybase。

您剩下的选择是从您的编程语言迭代 SQL 查询，直到获得空结果。

# r - 从列中提取负值

> ID：16009899
> 
> 赞同：0
> 
> 时间：2013-04-15T07:33:47.493
> 
> 标签：r, integer

**我已经在R**中读取了一个包含 5 列和 200 行的表- 我希望在一个十行向量中的索引在我的第五列中具有负值 - 这可能吗？

我的表叫做 r。我知道我可以通过以下方式提取第五行：

```
r[,5] 
```

但我不知道如何排除所有正值，或获取列中负值的索引

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:47:01.803

```
# *** Get some test data ***
> con <- textConnection(Lines <- "
+ First, Last, Email, CustomerSince, Balance, RiskFactor
+ Alan, Appleton, aa@google.com,1992, -100,  3
+ Bob, Bates, BobB@yahoo.com,1997, 231,  2
+ Charles, Clemson, Chuck@Clemson.com,2001, -4.2,  1
+ Dennis, Delgado, dd@hotmail.com,2004, 27,  1
+ Ernesto, Ellonka, Ernie@hotmail.com,2010, 40.5,  6
+ ")
> x <- read.csv(con)
> close(con)
# *** That's what our data looks like.  5th column is numeric
> x
    First      Last              Email CustomerSince Balance RiskFactor
1    Alan  Appleton      aa@google.com          1992  -100.0          3
2     Bob     Bates     BobB@yahoo.com          1997   231.0          2
3 Charles   Clemson  Chuck@Clemson.com          2001    -4.2          1
4  Dennis   Delgado     dd@hotmail.com          2004    27.0          1
5 Ernesto   Ellonka  Ernie@hotmail.com          2010    40.5          6

# *** And here's how to get a vector of all indexes of the Balance column
# *** that have a negative value
> x["Balance"] < 0
     Balance
[1,]    TRUE
[2,]   FALSE
[3,]    TRUE
[4,]   FALSE
[5,]   FALSE
> 
# *** And here's how to directly exclude the positive balance from the list
> x[x$Balance < 0, ]
First      Last              Email CustomerSince Balance RiskFactor
1    Alan  Appleton      aa@google.com          1992  -100.0          3
3 Charles   Clemson  Chuck@Clemson.com          2001    -4.2          1

# to just get the list of indexes that match that criteria, you can use which()
> which(x$Balance < 0)
[1] 1 3 
```

# regex - 重定向到其他域但保留键入的域

> ID：16009901
> 
> 赞同：30
> 
> 时间：2013-04-15T07:34:03.137
> 
> 标签：regex, apache, .htaccess, mod-rewrite, mod-proxy

在互联网上查找了大约一个小时后，我没有找到我的问题的答案。所以我用错误的关键字搜索，或者我想要的东西是不可能的。

我想要什么：
我有多个具有不同扩展名的域，例如：

*   我的域名.be
*   我的域名.nl

现在我想要的是 mydomain.be 被重定向到 mydomain.nl。我在互联网上找到的解决方案如下所示，需要.htaccess：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^mydomain.be$ [OR]
RewriteCond %{HTTP_HOST} ^www.mydomain.be$
RewriteRule (.*)$ http://www.mydomain.nl/$1 [R=301,L] 
```

使用此代码，当您键入 mydomain.be 时，您将被重定向到 mydomain.nl。但地址栏中的 URL 也更改为 mydomain.nl。我想要的是将 URL 保留在地址栏中 mydomain.be 中。

所以，mydomain.be：

*   保留网址
*   显示 mydomain.nl 的内容

如何？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-15T09:01:02.320

It is possible to get it done via mod_rewrite but make sure mod_proxy is enabled in your Apache's httpd.conf. Once that is done enable mod_rewrite and .htaccess through `httpd.conf` and then put this code in your `.htaccess` under `DOCUMENT_ROOT` directory:

```
Options +FollowSymLinks -MultiViews
RewriteEngine On
RewriteBase /

RewriteCond %{HTTP_HOST} ^(www\.)?mydomain\.be$ [NC]
RewriteRule ^ http://www.mydomain.nl%{REQUEST_URI} [L,NE,P] 
```

Take note of flag `P` which is used for handling the proxy request.

[**Read more about flag: P in mod_rewrite**](https://httpd.apache.org/docs/2.2/rewrite/flags.html#flag_p)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T09:08:25.003

另一种无需麻烦的选择`.htaccess`是将两个域都指向同一个文档根目录或将一个域设置为另一个域的别名，具体取决于您如何配置 Apache。然而，这也有缺点：

*   如果您的内容管理系统使用绝对 URL，则单击链接上的 mydomain.nl 的用户将被定向到 mydomain.be 域（例如，WordPress 就是这样做的）。
*   搜索引擎通过将您放在搜索结果的下方来惩罚这种行为。至少谷歌有，他们有[一篇关于重复内容的有趣博客文章](http://googlewebmastercentral.blogspot.de/2009/12/handling-legitimate-cross-domain.html)。不确定竞争对手。

一个示例 apache 配置可能是：

```
<VirtualHost *:80>
    ServerName mydomain.nl
    ServerAlias mydomain.be

    DocumentRoot /var/www/mydomain.nl/htdocs
</VirtualHost> 
```

# mysql - LOAD DATA INFILE 和用户访问

> ID：16009903
> 
> 赞同：0
> 
> 时间：2013-04-15T07:34:06.947
> 
> 标签：mysql

我正在尝试将文件中的数据插入到 mysql 表中，我正在使用它`LOAD DATA INFILE`，这是我的 php 代码

```
sql = " HERE LOAD DATA INFILE QUERY ...";
$sth = $db->prepare( $sql ); 
$sth->execute();

var_dump( $sth->errorInfo() ); 
```

数据未加载，errorInfo() 显示`Access denied for user 'blabla'@'localhost' (using password: YES)`

但是我连接到数据库的这个用户拥有所有特权。

为什么会这样？我哪里错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:40:41.780

尝试授予文件权限：

```
GRANT FILE ON *.* TO user@localhost 
```

[您可以在此处](http://dev.mysql.com/doc/refman/5.1/en/privileges-provided.html#priv_file)阅读更多信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-10-04T11:15:54.213

正如斯蒂芬的回答正确指出的那样，您需要将 FILE 权限授予想要从外部文件加载数据的用户。此权限需要由 root 或具有适当授予权限的用户授予。

请注意，FILE 权限是**全局**权限。见[https://mariadb.com/kb/en/grant/](https://mariadb.com/kb/en/grant/)

当您使用该命令时`grant all privileges on <dbname>.* to <user>@<host>;`，您正在授予**数据库**权限。因此，文件权限不会包含在授权语句中。

`flush privileges;`在授予权限后，无论是全局权限还是数据库权限或任何级别，执行命令以确保应用更改始终是一个好主意。

重要提示：命令`load data infile`和`load data local infile`. 如 MariaDB 文档中所述：

> 当您执行 LOAD DATA INFILE 语句时，MariaDB 服务器会尝试从自己的文件系统中读取输入文件。相反，当您执行 LOAD DATA LOCAL INFILE 语句时，客户端会尝试从其文件系统中读取输入文件，并将输入文件的内容发送到 MariaDB 服务器。这允许您将文件从客户端的本地文件系统加载到数据库中。

[https://mariadb.com/kb/en/load-data-infile/](https://mariadb.com/kb/en/load-data-infile/)

如果您尝试从主目录加载 CSV 文件，则必须使用`load data local infile`.

# asp.net - 可以在 .cs 文件的 html 代码中显示一些调试消息吗？

> ID：16009904
> 
> 赞同：1
> 
> 时间：2013-04-15T07:34:06.980
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3

我有以下问题：

我有我的观点和控制器。从控制器，我访问一些后端类和方法。现在我想做以下事情：

我想编写我的网站的调试版本。在这个调试版本中，我想显示在后端类中生成的调试信息。

问题是，我不能将它们直接发送到我的`.cshtml`视图，或者这可能吗？

我需要向我发送一些文本，`.cshtml`但不是从控制器本身，从其他一些类，然后将其写入例如`<div id="myDebug"></div>`

**这可能吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:32:41.793

我个人喜欢使用[NLog](http://nlog-project.org/)来编写调试信息。

您可以像 Yuriy 建议的那样使用 ActionFilter，例如当调用控制器上的操作时：

```
public static class Logger
{
    static readonly NLog.Logger _logger = LogManager.GetLogger("SomeLogger");

    public static void LogDebug(string message)
    {
        _logger.Debug(message);
    }
}

public class LogActionFilter : ActionFilterAttribute
{    
    public override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        //do something
        Logger.Debug("Debug info") 
    }
} 
```

您也可以在后端类中使用静态 Logger。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:39:26.357

我相信您需要实现自己的 ActionFilter 并根据当前模式将调试信息注入 ViewBag，然后在出现时将其呈现在视图中。

# apache-flex - 使用 flex printjob 打印网格和图表

> ID：16009905
> 
> 赞同：2
> 
> 时间：2013-04-15T07:34:15.810
> 
> 标签：apache-flex, printing, anychart

我有一个由高级数据网格和任意图表组成的仪表板。我的打印功能似乎只打印数据网格而不是图表。请看下面的代码。

```
public function PrintDashboard():void{
printJob = new FlexPrintJob(); // calls the dialog

if(printJob.start())  // Starts when the user presses ok
{

    printJob.addObject(dashPreview,FlexPrintJobScaleType.MATCH_WIDTH); // the object you want to add, and the scaling you want to apply
    printJob.send(); // Send everything to the printers.        
} 
```

}

请帮助打印任何图表对象。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:12:14.140

发现了问题。只需要设置 printJob.printAsBitmap = false;

# ruby-on-rails - soundcloud 嵌入 url = http 的不安全内容

> ID：16009910
> 
> 赞同：0
> 
> 时间：2013-04-15T07:34:35.497
> 
> 标签：ruby-on-rails, security, ssl, soundcloud

我正在使用 auto_html gem 来嵌入 soundcloud url。

在我的 chrome javascript 控制台中，我收到以下错误：

```
The page at about:blank displayed insecure content from http://w.soundcloud.com/
player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F87676243&show_artwork=true. 
```

和这个警告。

```
Unsafe access frame with URL https://app.herokuapp.com/ from frame with URL https://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F87676243&show_artwork=true. Domains, protocols and ports must match. 
```

我不知道为什么最上面的不是https？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T08:57:07.283

这是 Chrome 中的一个错误 – [https://code.google.com/p/chromium/issues/detail?id=17325](https://code.google.com/p/chromium/issues/detail?id=17325)

并且对您没有实际意义，在修复之前忽略它。每个嵌入，如 youtube 或 vimeo 都有它。对不起 ：（

# git - Git中断合并提交，如果不会推送它并使用rebase选项执行pull

> ID：16009920
> 
> 赞同：1
> 
> 时间：2013-04-15T07:35:00.173
> 
> 标签：git, merge, push, rebase, pull

有时我不想发生的事情发生在我的存储库中。这是我想避免但不知道最佳方法的情况之一：

```
git init --bare bare.git;
git clone bare.git/ clonned1;
git clone bare.git/ clonned2;
cd clonned1;
REV=1;echo "$REV commit" > $REV.file;git add .;git ci -m "$REV commit";
REV=2;echo "$REV commit" > $REV.file;git add .;git ci -m "$REV commit";
git push;
git co -b new-branch;
REV=3;echo "$REV commit" > $REV.file;git add .;git ci -m "$REV commit";
REV=4;echo "$REV commit" > $REV.file;git add .;git ci -m "$REV commit";
git push -u origin new-branch;
gitk --all; 
```

存储库状态：

![在此处输入图像描述](https://i.stack.imgur.com/rKE3P.png)

```
git co master;
git merge --no-ff new-branch;
gitk --all; 
```

存储库状态：

![在此处输入图像描述](https://i.stack.imgur.com/A9Opk.png)

```
cd ../clonned2;
git pull;
REV=5;echo "$REV commit" > $REV.file;git add .;git ci -m "$REV commit";
REV=6;echo "$REV commit" > $REV.file;git add .;git ci -m "$REV commit";
git push;
gitk --all; 
```

存储库状态：

![在此处输入图像描述](https://i.stack.imgur.com/rFVeX.png)

```
cd ../clonned1;
git pull --rebase;
gitk --all; 
```

存储库状态：

![在此处输入图像描述](https://i.stack.imgur.com/iIMuG.png)

如您所见，我在 master 分支上丢失了合并提交，这意味着我丢失了项目历史的一部分。当然，愚蠢的我，我忘了推动我的改变。但它不时发生。

如何避免这种情况？如何确保我不会忘记推动？git 有什么方法可以告诉我这个吗？也许我的方法不正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:59:39.647

在这种情况下，在获取最新内容后，我倾向于`git reset`在 master 上使用：`clonned1`

```
git fetch --all
git reset --hard @{u}
git merge new-branch 
```

第一个命令获取所有远程数据。第二个将 master 重置为与远程相同，并从 master 中删除您的提交。最后一个重做合并。

一般来说，任何涉及变基和合并的事情都是可疑的，因为变基会丢弃合并提交。即使`git rebase -p`是应该保留合并的选项在这里也失败了，因为它会将分支上的提交与它一起变基，使图形看起来像这样：

![](https://i.imgur.com/Ki8KBlC.png)

所以最好的办法是像我上面描述的那样重做合并。

为了帮助我避免这个问题，我做的一件事是在我的提示中加入一些信息。特别是，当有上游集时，我`git rev-list --count --right-only @{u}...`用来告诉我master在遥控器前面有多远。这最终在我的提示中显示为一个数字，并作为一个提醒推动新修订。

# java - 等待如何知道Java中的中断？

> ID：16009921
> 
> 赞同：9
> 
> 时间：2013-04-15T07:35:07.980
> 
> 标签：java, multithreading, interrupt

`Thread.interrupt`中断诸如`sleep`,`join`和之类的调用`wait`。我想知道它是如何实现的。

我知道`Thread.interrupt`设置一个标志`isInterrupted`。`wait`只是轮询这个标志吗？我希望它不会。所以我的问题是如何`wait`“知道”中断。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:54:35.937

`wait()`不投票。`interrupt()`检查被中断线程的状态。如果它运行，它只是设置标志。如果它在`wait()`、`sleep()`或`join()`中，则中断线程也将其排队到处理器。当被中断的线程恢复执行时，它首先检查标志，如果标志打开则抛出 InterruptedException。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:52:12.160

等待和加入与睡眠不同，等待/加入不检查中断标志。如果您中断了稍后调用 sleep() 的线程，它将被中断，但如果它调用 wait() 或 join() 则不会发生任何事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:41:16.870

这是一个操作系统问题，因为系统正在处理线程而不是 JVM。每个操作系统以不同的方式处理线程

# windows-phone-8 - 如何获取 Windows Phone 8 中的应用程序使用的 wifi 数据

> ID：16009923
> 
> 赞同：0
> 
> 时间：2013-04-15T07:35:18.623
> 
> 标签：windows-phone-8

是否可以在 Windows Phone 8 中获取应用程序使用的 wifi 数据。

用例如下：

1.  应用程序应该在后台运行
2.  它应该得到总的 wifi 数据使用量
3.  设备上安装的不同应用程序使用的 Wifi 数据

我在[NetworkInformation](http://msdn.microsoft.com/en-in/library/windowsphone/develop/microsoft.phone.net.networkinformation%28v=vs.105%29.aspx)中进行了搜索，但看起来它没有所需的信息

这里有什么帮助吗？

问候，

SRS

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T19:35:16.627

这在 Windows Phone 中是不可能的。

# .net - 执行后期绑定方法调用与 switch/case 方法选择的性能

> ID：16009925
> 
> 赞同：3
> 
> 时间：2013-04-15T07:35:30.147
> 
> 标签：.net, reflection, ssis, etl, late-binding

虽然我用 SSIS 标记了这个问题，但它不一定是我问题的核心；因此，如果您通常熟悉 .NET 反射和代码性能问题，请继续阅读，因为您可能会有所帮助！

但特别是，相关代码将被执行多次（即针对每行的数据源）这一事实是关键。

我正在更新一个预先存在的自定义数据流控制。

对于行中的每一列，代码必须在`Microsoft.SqlServer.Dts.Pipeline.PipelineBuffer`实例（行）上执行特定方法，具体取决于（列）SSIS 数据类型。

例如，

```
public override void ProcessInput(int inputID, PipelineBuffer buffer)
{
    ...
    while (!buffer.EndOfRowset && buffer.NextRow())
    {
         ...
         someStringAtColumn1 = buffer.GetString(1);
         someIntAtColumn2 = buffer.GetInt16(2);
         someBoolAtColumn3 = buffer.GetBoolean(3);  

         //  And so on, for up to ~25 different types....
     }
     ...
} 
```

但是，控件需要是动态的，因此我们在设计时不知道每列在运行时将是哪种类型。

为此，在[SSIS Junkie SSIS 上发布的模式：用于填充管道缓冲区列的通用方法](http://consultingblogs.emc.com/jamiethomson/archive/2007/09/06/SSIS_3A00_-Generic-method-for-populating-a-pipeline-buffer-column.aspx)已被使用（并且有效）。总之，这使用 a`SWITCH (buffer.GetColumnInfo(columnIndex).DataType)`来决定调用 ~25 个方法中的哪一个`buffer`。

**所以，我的问题：**

1.  `SWITCH`是否对每一行（可能数百万）的每一列（每个表的数量不同，但假设平均 10 列）重复此语句，可能会导致显着的性能影响（就处理时间而言）？

2.  最好在每个表的基础上（即*在*逐行处理开始之前）为每列后期绑定到正确的方法，然后对每一列执行特定于列的后期绑定方法（在逐行处理期间）？

我正在考虑的方法是这样的：

```
// Set up per-column late-bound methods, once, prior to processing the rows
  System.Reflection.MethodInfo[] lateBoundMethods;

  //Psuedo code here for brevity...
  foreach column in tableDefinition {
      lateBoundMethods[i++] = getColumnSpecificGetValueMethod(column.DataType);
  }
  //End of psuedo code

private System.Reflection.MethodInfo getColumnSpecificGetValueMethod(DataType dataType)
{
    string methodName = "";

    switch (dataType)
    {
        case DataType.DT_BOOL:
            methodName = "GetBoolean";
            break;
        case DataType.DT_BYTES:
            methodName = "GetBytes";
            break;
        case DataType.DT_CY:
            methodName = "GetDecimal";
            break;

            ...

        case DataType.DT_WSTR:
            methodName = "GetString";
            break;
        default:
            return null; //TODO: Throw an exception?
    }

    System.Reflection.MethodInfo methodInfo = typeof(PipelineBuffer).GetMethod(
        methodName,
        System.Reflection.BindingFlags.ExactBinding |
        System.Reflection.BindingFlags.Instance |
        System.Reflection.BindingFlags.Public);

    return methodInfo;
}

private object getValueFromBuffer(PipelineBuffer buffer, int columnIndex)
{
    if (buffer.IsNull(columnIndex))
    {
        return null;
    }
    return lateBoundMethods[columnIndex].Invoke(buffer, new object[] { columnIndex});
} 
```

然后，在行处理期间，对于每一列我只需要调用

`Object columnValue = getValueFromBuffer(buffer, columnIndex);`.

所以我猜问题 2 归结为“**针对*****已经*****绑定的****执行 a会比执行大开关/案例更快吗？`.Invoke`*`MethodInfo`*** *”。*

 ***编辑：**我很欣赏反射通常被认为是缓慢的。但是根据上面的大胆问题，我不清楚反射的哪些*部分*是缓慢的。我很高兴在执行前设置阶段表现不佳，只要调用后期绑定方法比在处理行时*选择要调用的方法更快。*因此，对于任何说明这会很慢的答案，您能否澄清一下，您认为调用后期绑定方法会很慢，而不是识别要绑定哪个方法的任务。

我意识到没有答案会像运行一些测试那样确定......但我在投入大量精力之前一直在寻找一些（合理的）权威指示，因为将 ETL 部署到我们的 TEST 环境中进行性能测试并非易事.

此外，我愿意接受有关其他更好方法的建议。

感谢您的时间和投入！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T10:42:30.917

您似乎对每一行都使用了反射，这将非常缓慢。我建议您使用字典而不是 switch 语句并缓存反射方法（例如，每个方法只反射一次 = ~25 次 + N 字典查找而不是 N 次反射）。这将大大提高性能。

正如您所建议的，最终的答案当然是编写一个快速原型并运行一个分析器。*

# iphone - 我需要使用地图框 ios sdk 一起显示标记和路径（从当前位置到所需位置）

> ID：16009930
> 
> 赞同：1
> 
> 时间：2013-04-15T07:35:44.040
> 
> 标签：iphone

```
-(RMMapLayer* )mapView:(RMMapView *)mapView1 layerForAnnotation:(RMAnnotation *)annotation {

    NSArray *locations = [NSArray arrayWithObjects:[[CLLocation alloc] initWithLatitude:28.6667 longitude:77.2167],nil
                          ];
    RMMarker *marker =  [[RMMarker alloc] initWithMapBoxMarkerImage:@"bus" tintColor:[UIColor blueColor]];
    marker.canShowCallout = YES;
    marker.leftCalloutAccessoryView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"depot.jpg"]];
    marker.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];

    RMShape *shape = [[RMShape alloc] initWithView:mapView1];
    shape.lineColor = [UIColor redColor];
    shape.zPosition =1;

    if ([annotation isKindOfClass:[RMAnnotation class]]) {
        if ([annotation.annotationType isEqualToString:@"marker"]) {
            //[marker replaceUIImage:[self imageWithImage:[UIImage imageNamed:@"ic_marker.png"] scaledToSize:CGSizeMake(32, 48)]];
            [marker setAnchorPoint:CGPointMake(0, 0)];
            return marker;
        } else if ([annotation.annotationType isEqualToString:@"path"]) {
            shape.lineWidth = 3;
            for (int i=0; i<[locations count]; i++) {
                NSLog(@"my coord count : %d", [locations count]);
                CLLocationCoordinate2D myLoc = [[locations objectAtIndex:i] coordinate];
                if (i>0) {
                    [shape addLineToCoordinate:myLoc];
                } else {
                    [shape moveToCoordinate:myLoc];
                }
            }

            [shape closePath];
            return shape;
        }
    } 
    return nil;

}

- (void)mapView:(RMMapView *)mv didUpdateUserLocation:(RMUserLocation *)userLocation{

    CLLocationCoordinate2D userCoordinate = userLocation.location.coordinate;

    CGFloat latDelta = rand()*.035/RAND_MAX -.02;
    CGFloat longDelta = rand()*.03/RAND_MAX -.015;
    CLLocationCoordinate2D newCoord = { userCoordinate.latitude + latDelta, userCoordinate.longitude + longDelta };

   annotation01 = [RMAnnotation annotationWithMapView:mapView coordinate:newCoord andTitle:@"Current Location"];
    annotation01.annotationIcon = [UIImage imageNamed:@"marker-red.png"];
    annotation01.anchorPoint = CGPointMake(0.5, 1);
    annotation01.annotationType = @"marker";
    [mv addAnnotation:annotation01];
} 
```

# iphone - 如何像pickerview一样在iPhone中创建一个多翻按钮

> ID：16009932
> 
> 赞同：-1
> 
> 时间：2013-04-15T07:35:44.977
> 
> 标签：iphone, ios6, uiscrollview, uipageviewcontroller

我想创建一个小的子视图，其中有 3 个按钮（比如 A、B、C）。视图应该有一个无限滚动，这样当我滚动时它应该为这些按钮创建一个循环循环。如果我滚动视图，按钮的顺序应该是**A->B->C->A->B->C** ....等等。此外，如果我从 A 滚动到 B 并且 B 按钮出现在视图的中心，则应该执行该按钮的操作。因此，由于滚动，哪个按钮出现在中心，应该执行该特定按钮的操作（类似于pickerview）。在我提到的这 3 个按钮中，一个按钮应该在中心，左右其他 2 个按钮应该是半隐藏的，这样用户就知道视图内还有其他按钮。

总而言之，我想要完全像图片中显示的这个翻转按钮。

![在此处输入图像描述](https://i.stack.imgur.com/i3OJl.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-02T06:30:52.097

[http://code4app.net/ios/loop-ScrollView/4fdaa4676803faab3d000000](http://code4app.net/ios/loop-ScrollView/4fdaa4676803faab3d000000)

通过上面的链接获取循环循环滚动的源代码，顺便说一下，这将满足您对***无限滚动视图***的需求。

***您甚至可以通过在Cyclescrollview.m***类的**句柄点击**方法中使用***点击滚动功能***来自定义该开源代码，

 ***```
- (void)handleTap:(UITapGestureRecognizer *)tap {

    [scrollView scrollRectToVisible:CGRectMake(0, 30, 70, 40) animated:YES];

     NSLog(@"Tap");
} 
```

或者您甚至可以通过使用此方法来滚动图像以执行您想要的任何操作滚动功能，

```
- (void)cycleScrollViewDelegate:(CycleScrollView *)cycleScrollView didScrollImageView:(int)index

 {
    if (index==1)
        {
    NSLog(@"First image scrolled");
}
   if (index==2)
        {
    NSLog(@"Second image scrolled");
}
   if (index==3)
        {
   NSLog(@"Third image scrolled");
}

} 
```

您还可以减少图像之间的间距，以使它们看起来像您提到的“一个按钮应该在中心，另外两个应该半隐藏”

祝你的翻转按钮好运。***

# intellij-idea - 在 IntelliJ IDEA 编辑器中删除到行尾

> ID：16009937
> 
> 赞同：47
> 
> 时间：2013-04-15T07:36:02.697
> 
> 标签：intellij-idea, keyboard-shortcuts

IntelliJ IDEA 是否支持此功能？

Eclipse 用`Ctrl`++支持这个，用 d$ 支持`Shift`vi`Del`等等......

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2013-04-15T09:49:23.730

在`Settings`| `Keymap`找到**EditorDeleteToLineEnd**操作，右键单击，分配您想要的快捷方式（复制键盘映射，因为您无法修改默认设置）：

![删除到行尾](https://i.stack.imgur.com/BqNqU.png)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2014-10-17T23:21:10.353

对于 Mac 用户，这里删除 intellij 中的当前行：![在此处输入图像描述](https://i.stack.imgur.com/f57mM.png)

来源：[https ://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf](https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf)

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-04-15T09:48:40.340

根据[文档](http://www.jetbrains.com/idea/webhelp/basic-editing.html)，它不支持您想要的。您只能删除整行 ( `Ctrl`+ `Y`) 或删除到单词开始/结束 ( `Ctrl`+`Backspace`和`Ctrl`+ `Delete`)。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2019-03-15T15:31:13.173

删除整行（对于 mac 用户）：

```
⌘ + x 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2019-05-30T05:07:14.830

对于 Windows 用户，

```
Ctrl + x 
```

它会删除整行，除非您突出显示该行的某些部分

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2019-11-17T17:43:08.237

对于 Windows 或 Linux 用户

```
Ctrl + y 
```

对于 Mac 用户

```
Cmd + x or Cmd + del 
```

您还可以从 Settings / Preferences >> Keymap >> Delete Line 更改此设置

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-05-22T16:59:38.813

对我来说， **Delete Line**没有预定义，我必须手动为其分配键盘组合。

转到**File->Settings->Keymap->Editor Actions->Delete Line**。将其分配为**Alt+D**。
我使用*Alt*而不是*Ctrl*，因为 Ctrl 已经分配了所有字母以进行不同的操作。您还可以使用 (Ctrl + Shift + ? ) 组合。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-02-29T01:27:30.753

除了为 EditorDeleteToLineEnd 分配新的快捷键

我的组合是：Shift + End（从插入符号选择到行尾），然后 Ctrl + C/V 或 Delete

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2020-08-17T10:07:14.960

双击该行并按键删除或退格键

# python - 如何理解下面python代码中的'*'

> ID：16009938
> 
> 赞同：0
> 
> 时间：2013-04-15T07:36:05.360
> 
> 标签：python, operators, tuples

当我阅读代码 MySQLdb 时，在 times.py 中，我无法理解一行代码：

```
return date(*localtime(ticks)[:3]) 
```

谁能告诉我'*'有什么用，非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:37:16.587

它被称为*splat*运算符，它将序列转换为给定函数使用的位置参数。还有一个*双 splat*运算符，以防您不知道哪个将 a 转换`dict`为命名参数，然后将其传递给函数。另[请阅读此内容](https://stackoverflow.com/questions/2322355/proper-name-for-python-operator)以获取更多相关讨论。

举个例子：

```
def printIt(*args, **kwargs):
  print 'Splat Contents=%s' % str(args)
  print 'Double Splat Contents=%s' % str(kwargs)

lst = [1, 2, 3]
dct = { 'name': 'sanjay', 'age': 666 }
printIt(*lst, **dct) # usage 
```

所以基本上总结一下，*splat*在函数应用程序中使用时的意思是“获取这个序列，解包并将其作为位置参数传递”。*splat*在函数定义中使用时表示“此函数采用可变数量的位置参数”。类似的推理可以应用于*双 splat*算子。这就是最通用的函数定义看起来像这样的原因`def funcName(*args, **kwargs)`（正如我的示例中已经发布的那样，它可以处理*任何*类型的参数）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:39:28.467

我将尝试通过示例来解释它。以下代码

```
params = [1, 2, 3]
func(*params) 
```

相当于这个：

```
func(1, 2, 3) 
```

因此，这基本上允许您使用来自列表的参数调用函数。在您的特定示例中，有一个函数调用（它返回一个列表）并添加了一个列表切片，但您应该已经弄清楚了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:37:03.303

它解压缩 into 的前三个元素`localtime(ticks)`并将它们用作日期函数的参数。

# enums - Telerik OpenAccess：可以映射“NullAble”枚举类型属性吗？

> ID：16009940
> 
> 赞同：1
> 
> 时间：2013-04-15T07:36:11.610
> 
> 标签：enums, nullable, openaccess

我是OpenAccess的初学者。我正在根据我的“Linq to Sql”经验编写一些测试代码

我尝试将允许 null int 字段映射到“NullAble”枚举类型属性，但失败了。

在 VS.Net 的可视化设计器中，如果我将“Nullable”属性设置为“true”并将“Type”属性设置为“MyEnum”（“MyEnum”是我定义的枚举）到域类中的属性，则错误下面将在我编译项目时返回。

“MyClass”持续类的名称为“MyEnum”的成员的类型不是其列的有效映射。

如果我将“Nullable”属性设置为“false”并将“Type”属性设置为“MyEnum?” 到领域类中的属性，编译通过，但是运行时从数据库中取数据会返回下面的错误。

类型转换器初始化失败。名称为“IntConverter”的转换器不会从 CLR 类型“System.Nullable`1[[Model.MyEnum, Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]”转换为 SQL 类型“int”。

但是在“Linq to Sql”中，“NullAble”枚举类型属性可以映射到一个类中并且可以正常工作。

感谢您提前提供任何帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:38:36.913

不幸的是，目前似乎不支持 Nullable Enums，但这个问题已经得到解决，您可以在 Telerik OpenAccess ORM 的未来版本中找到它的更新。

作为一种解决方法，您可以在域类的部分类中创建一个包装器属性，以正确获取和设置枚举。

您可以通过以下步骤实现此目的： 1) 将域类属性的类型更改为“int”，将其 Nullable 设置设置为“true”，并将其访问修饰符设置为“private”。2) 创建包含 Nullable 枚举的实体的部分类。3）添加一个包装器属性并实现它的getter和setter，如下所示：

```
public MyEnum? MyEnumWrapper
{
    get
    {
        if (this.MyEnum.HasValue)
        {
            return (MyEnum)this.MyEnum.Value;
        }

        return null;
    }
    set
    {
        this.MyEnum = (int?)value;
    }
} 
```

关于您遇到的[映射错误](http://www.telerik.com/help/openaccess-orm/openaccess-tasks-model-tools-validate-rules-type-member-invalid-mapping.html)- 它是[OpenAccess ORM 验证框架](http://www.telerik.com/help/openaccess-orm/openaccess-tasks-model-tools-validate-data-model.html)的一部分，旨在警告您模型中可能存在的不一致，这并不意味着您的项目不可构建，它也将在实施可空枚举支持。

# asp.net - 在 asp.net mvc 中显示下拉列表的 Razor 语法

> ID：16009941
> 
> 赞同：0
> 
> 时间：2013-04-15T07:36:20.750
> 
> 标签：asp.net, asp.net-mvc-3, razor

我的视图模型中有一个逗号分隔的字符串：

```
vm.colours = "black, white, blue, green" 
```

在我的 Razor 页面中，我想显示一个下拉列表，所以我有：

```
@Html.DropDownList(m => m.colours, new SelectList(Model.colours)) 
```

但是，这为字符串中的每个 LETTER 提供了一个选择列表项。

有什么办法可以修改这个，给我每种颜色的选择列表项？

谢谢，

标记

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:42:21.533

目前你只发送一个字符串，它只是一个字符数组，所以在这种情况下它被解释为这样。使用`Split`方法来分离你想要的元素。

编辑：

检查[此答案](https://stackoverflow.com/a/16010321/1816426)`Split`以获取在这种情况下使用的代码示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:59:56.793

> @Html.DropDownList(m => m.colours, new SelectList(Model.colours))

`DropDownList`没有接受表达式的重载。要使该代码正常工作，您需要这样做：

```
Html.DropDownList("give_it_a_name", new SelectList(Model.colours)) 
```

或者你的意思是使用`DropDownListFor`，如果是，那么你需要两件事：

1.  将接受从下拉列表中选择的项目的属性
2.  您的列表将用于在下拉列表中显示选项

您的视图应如下所示：

```
public class YourVM 
{
    public string SelectedColor{get;set;}
    public IEnumerable<string> Colors {get;set;}
} 
```

你需要在你的控制器中有这样的东西：

```
var colors = "black, white, blue, green";
vm.colours = colors.Split(','); 
```

最后在你看来：

```
@Html.DropDownListFor(m => m.colours, new SelectList(Model.Colors)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:40:46.383

好吧，看起来颜色不是一个，`IEnumerable<string>`而只是一个`string`。由于`SelectList`将枚举传入的对象，这意味着在这种情况下枚举返回所有字符的字符串。请尝试使用字符串数组：

`vm.colours = new string[] { "black", "white", "blue", "green" };`

调用`Html.DropDownList`保持不变。

# android - 在android中将byteArray转换为位图？

> ID：16009944
> 
> 赞同：1
> 
> 时间：2013-04-15T07:36:38.190
> 
> 标签：android, image, bitmap, bytearray

在我的网络服务中，图像以 byteArray 格式存储。我想转换位图图像。

我在这里附上了我的代码。

```
 BufferedInputStream bufferedInputStream = new BufferedInputStream(AndroidJSONParsingActivity.inputStream);
             Bitmap bmp = BitmapFactory.decodeStream(bufferedInputStream);
             ByteArrayOutputStream companylogo = new
             ByteArrayOutputStream();
             ImageView image=new ImageView(this);
             image.setImageBitmap(bmp); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:41:18.073

```
Bitmap bitmap = BitmapFactory.decodeFile("/path/images.jpg");
ByteArrayOutputStream blob = new ByteArrayOutputStream();
bitmap.compress(CompressFormat.PNG, 0 /*ignored for PNG*/, blob);
byte[] bitmapdata = blob.toByteArray();
//if bitmapdata is the byte array then getting bitmap goes like this

Bitmap bitmap = BitmapFactory.decodeByteArray(bitmapdata , 0, bitmapdata .length);
Returns The decoded bitmap, or null if the image could not be decode. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:44:58.530

尝试这个，

```
// Camera arg conversion to Bitmap
Bitmap background = BitmapFactory.decodeByteArray(Your_byte_array_image, 0,
                            Your_byte_array_image.length);
Bitmap back = Bitmap.createBitmap(background.getWidth(),
                        background.getHeight(), Bitmap.Config.ARGB_8888); 
```

使用此位图。

# jquery - jQuery Masonry 不渲染 Rails 3 一个月 Rails

> ID：16009950
> 
> 赞同：0
> 
> 时间：2013-04-15T07:36:55.087
> 
> 标签：jquery, jquery-masonry

我一直在尝试实现 jQuery Masonry，但它一直无法正常工作。

它出错并在浏览器控制台中显示此内容。

未捕获的类型错误：对象 [object Object] 没有方法“imagesLoaded”

Masonry 在 Vendor/asset/javascripts 中

好的，这是我的文件。

技能.js.coffee：

```
jQuery ->
  $('#skills_page').imagesLoaded ->
    $('#skills_page').masonry itemSelector: ".box" 
```

index.html.haml

```
.container
  #skills_page
    = render @skills

= will_paginate @skills 
```

custon.css.scss

```
.box {
  background-color: #fff;
  width: 214px;
  margin: 5px;
  float: left;
  -webkit-box-shadow: 1px 100px 6px rgba(0, 0, 0, .375);
  -moz-box-shadow: 1px 100px 6px rgba(0,0,0,.375);
  box-shadow: 1px 1px 6px rgba(0, 0, 0, .375);
  display: block;

}
.box img {
    diplay: block;
    width: 100%;

}

.description {
    margin: 10px 0 5px;
} 
```

_skill.html.haml

```
.box
  .pin_container
    - if skill.image.file?
      .pin_image_bkg= image_tag(skill.image(:long)) 
    - else
      .pin_image_bkg= image_tag "214by70.png"
    - if skill.user.profile_pic.file?
      .pin_image= image_tag(skill.user.profile_pic(:medium), :style => "-webkit-border-top-left-radius: 5px;-webkit-border-top-right-radius: 5px;-moz-border-radius-topleft: 5px;-moz-border-radius-topright: 5px;-webkit-border-bottom-right-radius: 7px;-webkit-border-bottom-left-radius: 7px;-moz-border-radius-bottomright: 7px;-moz-border-radius-bottomleft: 7px;")
    - else
      .pin_image= image_tag("default_avatar.png", :style => "-webkit-border-top-left-radius: 5px;-webkit-border-top-right-radius: 5px;-moz-border-radius-topleft: 5px;-moz-border-radius-topright: 5px;-webkit-border-bottom-right-radius: 7px;-webkit-border-bottom-left-radius: 7px;-moz-border-radius-bottomright: 7px;-moz-border-radius-bottomleft: 7px;")
    .pin_btn= link_to 'View', skill, :class => "btn"
  .pin_subtitle 
    Help Package from
    =link_to "#{skill.user.name}" , skill.user
  .pin_title
    =link_to "#{skill.title}", skill
  .mini_info
    -unless skill.work_hrs.blank?
      .left
        .mini_hours= skill.work_hrs
      .left
        .mini_title W
    -unless skill.meeting_hrs.blank?
      .left
        .mini_hours= skill.meeting_hrs
      .left
        .mini_title M
      .clear 
```

这是您查看页面源代码时我的脚本的样子:)

```
 <script src="/assets/jquery.js?body=1" type="text/javascript"></script>
<script src="/assets/jquery_ujs.js?body=1" type="text/javascript"></script>
<script src="/assets/jquery.masonry.min.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-transition.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-alert.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-modal.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-dropdown.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-scrollspy.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-tab.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-tooltip.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-popover.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-button.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-collapse.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-carousel.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-typeahead.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap/bootstrap-affix.js?body=1" type="text/javascript"></script>
<script src="/assets/twitter/bootstrap.js?body=1" type="text/javascript"></script>
<script src="/assets/applications.js?body=1" type="text/javascript"></script>
<script src="/assets/pages.js?body=1" type="text/javascript"></script>
<script src="/assets/password_resets.js?body=1" type="text/javascript"></script>
<script src="/assets/skills.js?body=1" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T20:04:29.947

如果 jQuery 工作正常，那么看起来 masonry 插件没有正确加载，因此出现“方法不可用”错误。我在这里拼凑了一个基本的[小提琴](http://jsfiddle.net/tenoversix/JDgEk/81/)......没有咖啡脚本，它似乎工作正常。

确保首先包含 jQuery，然后是 Masonry 插件。

JS / jQuery 应该类似于：

```
$(document).ready(function () {

    var $skills_page = $('#skills_page');

    $skills_page.imagesLoaded(function () {
        $skills_page.masonry({
            // options
            itemSelector: '.box',
            columnWidth: 200
        });
    });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T10:56:30.500

检查您的 application.js 文件

jquery 在那里被调用吗？

您的 application.js 文件（在资产下）应该看起来像这样 [http://screencast.com/t/CwM2FRlGaVs](http://screencast.com/t/CwM2FRlGaVs)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T06:48:11.203

原来我们的这是一个愚蠢的:)

在我的应用程序布局中，我在底部有这个：

```
 :plain

      <!-- jQuery via Google + local fallback, see h5bp.com -->

      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

      <script>window.jQuery || document.write('<script src="js/jquery-1.7.1.min.js"><\/script>')</script>

      <!-- Bootstrap jQuery Plugins, compiled and minified -->

      <script src="js/bootstrap.min.js"></script>    

    :plain

      <script src="http://code.jquery.com/jquery.js"></script>

      <script src="js/bootstrap.min.js"></script> 
```

这打破了一切:)

删除了，一切都很好:)

抱歉问了一个愚蠢的问题！

# zend-framework2 - 如何从 Zend Framework 2 中的视图文件访问路由、发布、获取、服务器等参数

> ID：16009959
> 
> 赞同：3
> 
> 时间：2013-04-15T07:37:13.810
> 
> 标签：zend-framework2, zend-route, zend-view

我们如何以 ZF2 方式从**VIEW文件中访问路由、发布、获取、服务器参数？**

[在这里](https://stackoverflow.com/questions/12077126/how-to-access-route-post-get-etc-parameters-in-zend-framework-2)，我发现了几乎相同的问题，但没有提到关于视图的地方，也没有在任何地方回答

谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-15T15:34:12.600

您必须创建一个视图助手来为您获取这些参数。

## 查看助手

只需复制`Zend\Mvc\Controller\Plugin\Params`到`App\View\Helper\Params`并进行一些调整：

```
<?php

namespace App\View\Helper;

use Zend\Mvc\MvcEvent;
use Zend\Stdlib\RequestInterface;
use Zend\View\Helper\AbstractHelper;

class Params extends AbstractHelper
{
    protected $request;

    protected $event;

    public function __construct(RequestInterface $request, MvcEvent $event)
    {
        $this->request = $request;
        $this->event = $event;
    }

    public function fromPost($param = null, $default = null)
    {
        if ($param === null)
        {
            return $this->request->getPost($param, $default)->toArray();
        }

        return $this->request->getPost($param, $default);
    }

    public function fromRoute($param = null, $default = null)
    {
        if ($param === null)
        {
            return $this->event->getRouteMatch()->getParams();
        }

        return $this->event->getRouteMatch()->getParam($param, $default);
    }
} 
```

只需将所有实例替换`$controller`为`$request`and`$event`属性即可。你明白了。（不要忘记复制 DocBlock 评论！）

## 工厂

接下来我们需要一个工厂来创建我们的视图助手的实例。在您的`App\Module`课程中使用类似以下的内容：

```
<?php
namespace App;

use App\View\Helper;
use Zend\ServiceManager\ServiceLocatorInterface;

class Module
{
    public function getViewHelperConfig()
    {
        return array(
            'factories' => array(
                'Params' => function (ServiceLocatorInterface $helpers)
                {
                    $services = $helpers->getServiceLocator();
                    $app = $services->get('Application');
                    return new Helper\Params($app->getRequest(), $app->getMvcEvent());
                }
            ),
        );
    }
} 
```

## 如何使用

一旦你拥有了所有这些，你就在主场。只需从您的视图中调用`params`视图助手：

```
// views/app/index/index.phtml
<?= $this->params('controller') ?>
<?= $this->params()->fromQuery('wut') ?> 
```

希望这能回答你的问题！如果您需要任何澄清，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-12T19:09:58.987

我为此目的创建了**Params View Helper （正如@radnan 建议的那样）。**

通过作曲家安装它

> 作曲家需要 tasmaniski/zf2-params-helper

注册新模块

```
'modules' => array(
    '...',
    'ParamsHelper'
), 
```

并使用它

```
$this->params()->fromPost();  //read all variables from $_POST
$this->params()->fromRoute(); //read all variables from Routes
$this->params()->fromQuery(); //read all variables from $_GET 
```

查看完整文档[GitHub 源](https://github.com/tasmaniski/zf2-params-helper)

# android - 使用 android 中的共享首选项保存位置

> ID：16009963
> 
> 赞同：1
> 
> 时间：2013-04-15T07:37:20.073
> 
> 标签：android, position, global-variables, sharedpreferences, onclicklistener

我必须开发一个android应用程序。这里我必须在这里设置位置：

```
ar = new LinearLayout(this);
ar.setOrientation(LinearLayout.VERTICAL);
ar.setPadding(3, 3, 3, 3);
ar.setLayoutParams(artiLayoutParams);
ar.setGravity(Gravity.CENTER);
ar.setBackgroundColor(Color.parseColor("#666666"));
ar.setBackgroundDrawable(getResources().getDrawable(R.drawable.list_selector));
ar.setId(position);
position++;
ar.setOnClickListener(mArticleClick); 
```

之后我必须获得位置并显示图像列表取决于这些位置。

```
 @Override
    public void onClick (View v) {

        int object = v.getId();

        String articletitle = Appscontent.Sub_arraylist.get(object).toString();
        String articleimage = Appscontent.Sub_arraylistimage.get(object).toString();

        Intent in = new Intent(MainActivity.this, SubCate.class);
        in.putExtra("Title", articletitle);
        in.putExtra("Image", articleimage);

        startActivity(in);
    }
}; 
```

在这里，我必须使用共享首选项或全局变量保存这些位置..我怎样才能保存它？？？？

请给我一些想法？？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:45:51.890

保存价值（位置）：

```
 SharedPreferences setPref = getSharedPreferences("Packagename", Context.MODE_PRIVATE);
    setPref.edit().putInt("position", your position).commit(); 
```

获取值（位置）：

```
 SharedPreferences getPref = getSharedPreferences("Packagename", Context.MODE_PRIVATE);
  int pos = getPref.getInt("position",0); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:44:46.463

使用共享偏好来保存

```
SharedPreferences pos= getSharedPreferences("position", 0);
Editor ed=pos.edit();
ed.putString("pos",object);
ed.commit(); 
```

并得到它

```
SharedPreference pos=getSharedPreference("position",0);
int id=pos.getInt("pos",1); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:44:14.040

要在键中保存值：

```
private void SavePreferences(String key, String value){
  SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
  SharedPreferences.Editor editor = sharedPreferences.edit();
  editor.putString(key, value);
  editor.commit();
} 
```

# permissions - CentOS6.4/proc目录下的可写文件

> ID：16009967
> 
> 赞同：0
> 
> 时间：2013-04-15T07:37:33.290
> 
> 标签：permissions, centos

在搜索其他人可写的文件时，我遇到了 /proc/ 子目录中的许多文件。我不太了解这些文件的用法，但很想知道机器上的某个人是否使用“rm -rf /proc”或有人为了破坏它们而编写它们，那么它将如何损害服务器。我正在运行 CentOS6.4

我对 /selinux 目录也有同样的情况，在这里我也有一些其他人可以写的文件。

感谢您对此的帮助。

亲切的问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-09T07:07:01.530

您应该会发现 /proc、/sys 和 /selinux 中所有可由普通用户写入的文件实际上是特定于这些用户的，或者它们执行/控制所有用户都可以访问的事情。

例如，/proc/mounts 是指向/proc/self/mounts 的符号链接，当前用户拥有的各种进程将具有可写文件（例如：/proc/1234/*）。

这都是正常的 unixy 东西，应该不会给您带来任何问题，前提是您没有更改授予用户权限的任何默认设置。

proc 和 sys 目录实际上并不是磁盘上文件系统的一部分，它们是由操作系统提供的，符合旧的 unix 哲学“一切都是文件”。

我想说你不需要关心你发现了什么，这听起来很正常。如果您想特别检查其中任何一个，请随意提供一些特定的文件名和权限。

# python-2.7 - Python 2.7 和 3.3 之间的语义差异是什么？

> ID：16009971
> 
> 赞同：1
> 
> 时间：2013-04-15T07:37:37.777
> 
> 标签：python-2.7, python-3.3

我写了一个相当大的项目。我用 Python 3.3 运行它，它可以工作。

如果我用 2.7 运行它，语法没有任何抱怨，但程序不起作用（输出不是预期的）。

我不希望任何人通过查看几千行代码来帮助我找到不同之处。我只想知道在哪里可以找到在 2.7 和 3.3 中语法有效但语义不同的事物列表。由于 Python 版本之间存在大量差异，我除了应该能够找到对我有帮助的东西。

我大量使用了生成器和 corountines。除此之外，没有什么花哨的（没有自省等）。

我意识到这是广泛的并且缺乏代码；我只是对如何学习差异有点不知所措（而且我认为查看那么多记录不充分的代码不会对任何人有帮助）。

编辑：但是，如果我错了，它在[https://github.com/paulddraper/internet-simulator](https://github.com/paulddraper/internet-simulator)。它模拟 TCP 连接（作为学校项目开始）。我使用 corountines 来编写函数，就好像它们是多线程的一样。无论如何，如果使用 Python 3.3`main.py`从内部运行`src/`，我得到的输出与使用 Python 2.7 运行时不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:11:27.480

找到了。

要获得 Python 3 的除法行为，我需要`from __future__ import division`在 2.7 中添加 when。

我已经知道了，但由于某种原因，当我试图考虑语义差异时并没有想到它。

# java - 运行 Linkedin 的 Rest.li 示例

> ID：16009980
> 
> 赞同：0
> 
> 时间：2013-04-15T07:38:07.423
> 
> 标签：java, rest, gradle, linkedin, rest.li

我使用以下链接作为指南：[1](https://github.com/linkedin/rest.li/wiki/Quickstart%3a-A-Tutorial-Introduction-to-Rest.li)和[2](https://github.com/linkedin/rest.li)

*   我下载了 gradle 1.4 - rest.li 源需要 1.2 或更高版本[1](https://github.com/linkedin/rest.li/wiki/Quickstart%3a-A-Tutorial-Introduction-to-Rest.li)。运行时，`gradle -version`我看到以下内容：

    ```
    Gradle 1.4

    Gradle build time: Monday, January 28, 2013 3:42:46 AM UTC
    Groovy: 1.8.6
    Ant: Apache Ant(TM) version 1.8.4 compiled on May 22 2012
    Ivy: 2.2.0
    JVM: 1.7.0_09 (Oracle Corporation 23.5-b02)
    OS: Windows 7 6.1 amd64 
    ```

    所以那部分应该没问题。

*   [我从2](https://github.com/linkedin/rest.li)下载了所有资源并解压缩。
*   我`RESTLI_HOME=/path-to-restli-source/rest.li`按[1](https://github.com/linkedin/rest.li/wiki/Quickstart%3a-A-Tutorial-Introduction-to-Rest.li)设置（不确定我是否需要这样做 - 确认不需要）。
*   `<my path>\rest.li-master\example-standalone-app\api`我在命令行中导航到。
*   我`gradle build -stacktrace`按照[3](https://github.com/linkedin/rest.li/tree/master/example-standalone-app)执行。这给了我以下堆栈跟踪：

    ```
    Creating properties on demand (a.k.a. dynamic properties) has been deprecated and is scheduled to be removed in Gradle 2.0\. Please read         http://gradle.org/docs/current/dsl/org.gradle.api.plugins.ExtraPropertiesExtension.html for information on the replacement for dynamic properties.
    Deprecated dynamic property: "pegasusVersion" on "root project 'example-standalone-app'", value: "1.8.3".
    Deprecated dynamic property: "spec" on "root project 'example-standalone-app'", value: "{product={pegasus={dat...".
    Deprecated dynamic property: "sourceCompatibility" on "project ':api'", value: "1.6".
    Deprecated dynamic property "sourceCompatibility" created in multiple locations.
    :api:generateAvroSchema UP-TO-DATE
    :api:mainDataModelJar UP-TO-DATE
    :api:generateDataTemplate
    There are 1 data schema input files. Using input root folder: C:\dev\trees\rest.li-master\example-standalone-app\api\src\main\pegasus
    :api:generateDataTemplate FAILED

    FAILURE: Build failed with an exception.

    * What went wrong:
    Execution failed for task ':api:generateDataTemplate'.
    > Ambiguous method overloading for method java.net.URLClassLoader#<init>.
    Cannot resolve which method to invoke for [class [Ljava.net.URL;, null] due to overlapping prototypes between:
    [class [Ljava.net.URL;, class java.security.AccessControlContext]
    [class [Ljava.net.URL;, class java.lang.ClassLoader]

    * Try:
    Run with --info or --debug option to get more log output.

    * Exception is:
    org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':api:generateDataTemplate'.
    at         org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:72)
    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:49)
    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:34)
    at org.gradle.api.internal.changedetection.CacheLockHandlingTaskExecuter$1.run(CacheLockHandlingTaskExecuter.java:34)
    at org.gradle.internal.Factories$1.create(Factories.java:22)
    at org.gradle.cache.internal.DefaultCacheAccess.longRunningOperation(DefaultCacheAccess.java:179)
    at org.gradle.cache.internal.DefaultCacheAccess.longRunningOperation(DefaultCacheAccess.java:232)
    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.longRunningOperation(DefaultPersistentDirectoryStore.java:142)
    at org.gradle.api.internal.changedetection.DefaultTaskArtifactStateCacheAccess.longRunningOperation(DefaultTaskArtifactStateCacheAccess.java:83)
    at org.gradle.api.internal.changedetection.CacheLockHandlingTaskExecuter.execute(CacheLockHandlingTaskExecuter.java:32)
    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:55)
    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)
    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:41)
    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:51)
    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:52)
    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:42)
    at org.gradle.api.internal.AbstractTask.executeWithoutThrowingTaskFailure(AbstractTask.java:275)
    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.executeTask(DefaultTaskPlanExecutor.java:52)
    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.processTask(DefaultTaskPlanExecutor.java:38)
    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:30)
    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:84)
    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:29)
    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:61)
    at org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)
    at org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:67)
    at org.gradle.api.internal.changedetection.TaskCacheLockHandlingBuildExecuter$1.run(TaskCacheLockHandlingBuildExecuter.java:31)
    at org.gradle.internal.Factories$1.create(Factories.java:22)
    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:124)
    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:112)
    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.useCache(DefaultPersistentDirectoryStore.java:134)
    at org.gradle.api.internal.changedetection.DefaultTaskArtifactStateCacheAccess.useCache(DefaultTaskArtifactStateCacheAccess.java:79)
    at org.gradle.api.internal.changedetection.TaskCacheLockHandlingBuildExecuter.execute(TaskCacheLockHandlingBuildExecuter.java:29)
    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:61)
    at org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)
    at org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:67)
    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)
    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:61)
    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:54)
    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:165)
    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:113)
    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:81)
    at org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:38)
    at org.gradle.launcher.exec.InProcessGradleLauncherActionExecuter.execute(InProcessGradleLauncherActionExecuter.java:39)
    at org.gradle.launcher.exec.InProcessGradleLauncherActionExecuter.execute(InProcessGradleLauncherActionExecuter.java:25)
    at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:50)
    at org.gradle.api.internal.Actions$RunnableActionAdapter.execute(Actions.java:171)
    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:201)
    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:174)
    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:170)
    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:139)
    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)
    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)
    at org.gradle.launcher.Main.doAction(Main.java:48)
    at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)
    at org.gradle.launcher.Main.main(Main.java:39)
    at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:50)
    at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:32)
    at org.gradle.launcher.GradleMain.main(GradleMain.java:26)
    Caused by: groovy.lang.GroovyRuntimeException: Ambiguous method overloading for method java.net.URLClassLoader#<init>.
    Cannot resolve which method to invoke for [class [Ljava.net.URL;, null] due to overlapping prototypes between:
    [class [Ljava.net.URL;, class java.security.AccessControlContext]
    [class [Ljava.net.URL;, class java.lang.ClassLoader]
    at com.linkedin.pegasus.gradle.PegasusGeneratorV2Plugin$GenerateDataTemplate.generate(PegasusGeneratorV2Plugin.groovy:1225)
    at org.gradle.api.internal.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:216)
    at org.gradle.api.internal.BeanDynamicObject.invokeMethod(BeanDynamicObject.java:122)
    at org.gradle.api.internal.CompositeDynamicObject.invokeMethod(CompositeDynamicObject.java:147)
    at com.linkedin.pegasus.gradle.PegasusGeneratorV2Plugin$GenerateDataTemplate_Decorated.invokeMethod(Unknown Source)
    at org.gradle.util.ReflectionUtil.invoke(ReflectionUtil.groovy:23)
    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$4.execute(AnnotationProcessingTaskFactory.java:161)
    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$4.execute(AnnotationProcessingTaskFactory.java:156)
    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:510)
    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:499)
    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:64)
    ... 57 more

    BUILD FAILED

    Total time: 23.93 secs 
    ```

*   问题在于 Pegasus，模式定义生成器[4](https://github.com/linkedin/rest.li/wiki/DATA-Data-Schema-and-Templates)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-29T18:06:37.607

使用 Java 6 编译，问题是我使用的是 Java 7。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-22T18:16:58.340

从 pegasus 1.9.5 及更高版本开始，构建与 java 7 兼容。

# eclipse - JNI 的输出

> ID：16009985
> 
> 赞同：0
> 
> 时间：2013-04-15T07:38:27.607
> 
> 标签：eclipse, console, java-native-interface

`printf`在 Eclipse 中运行包含本机代码的自定义 JNI 模块时，`printf`从不显示本机调用的输出。从 shell ( `cmd.exe`) 调用相同的设置时，会显示输出。

可以将 Eclipse 的控制台配置为也显示本机`printf`输出吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T21:33:22.523

`printf`您可能在标准输出缓冲区中有未写入的数据 - 尝试通过在打印后添加`fflush(stdout);`语句来刷新标准输出。

[http://en.cppreference.com/w/cpp/io/c/fflush](http://en.cppreference.com/w/cpp/io/c/fflush)

# .net - ajaxpro 2.0：当 ajax 函数在回调函数中时，IE 10 发送错误

> ID：16009988
> 
> 赞同：1
> 
> 时间：2013-04-15T07:38:31.243
> 
> 标签：.net, callback, internet-explorer-10, ajaxpro

我在 .net 4.0 应用程序中使用 Ajaxpro.2。一个普通的 Ajax-Function 可以完美运行，但是当我想在回调函数中添加另一个 Ajax-Function 时，IE 10 在第 412 行的 core.ashx 中发送脚本错误 16389：this.xmlHttp.open("POST", this.url,异步）；这个错误只出现在IE10！！！

问候和谢谢迈克尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-16T12:00:11.200

我有同样的问题。就我而言，我使用的是旧版本的 AjaxPro。我将其更新为 9.2.17.1 ( [http://ajaxpro.codeplex.com/releases/view/23363](http://ajaxpro.codeplex.com/releases/view/23363) )。我再次将它添加到项目中并且它起作用了。

# java - IKAnalyzer loadExtendWords

> ID：16009992
> 
> 赞同：0
> 
> 时间：2013-04-15T07:38:46.427
> 
> 标签：java

当我使用 IKAnalyzer 作为中文分词时，我遇到了一个问题

我只想将自己的扩展词加载到字典中，但它似乎不起作用：

代码如下：

```
 Dictionary dic = Dictionary.getInstance();
        Dictionary.loadExtendWords(Arrays.asList("abc"));
        Dictionary.loadExtendWords(Arrays.asList("abc2013"));
        Dictionary.loadExtendWords(Arrays.asList("学校2013"));
        String testString = "test abc abc2013 Chineses:学校2013";
        Analyzer analyzer = new IKAnalyzer(true);
        TokenStream ts = analyzer.tokenStream("demo", new StringReader(testString));
        ts.reset();
        StringBuilder sb = new StringBuilder();
        String t = null;
        while (ts.incrementToken()) {
            t = ts.getAttribute(CharTermAttribute.class).toString();

            sb.append(t).append(" ");
            System.out.print(t + "|");

        }
        ts.end();
        ts.close(); 
```

输出为“test|abc|abc2013|chineses|School|2013|”，可以看到自定义词“School2013”​​不起作用。

IKAnalyzer 似乎对中英文混用没用。

# php - 将字符串拆分为相应的单词

> ID：16009995
> 
> 赞同：2
> 
> 时间：2013-04-15T07:39:01.730
> 
> 标签：php

如果我有一个这样的字符串

`~1~~2~~3~`

如何使用 php 获取数字？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T07:41:32.517

使用正则表达式：

```
$string = '~1~~2~~3~';
preg_match_all('/~(\w+)~/', $string, $m);
print_r($m[1]); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T07:42:20.903

尝试：

```
$input  = '~1~~2~~3~';
$output = array();

foreach ( explode('~~', $input) as $val ) {
  $output[] = (int) trim($val, '~');
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-15T07:42:02.703

```
preg_match_all('/([\d]+)/', $string, $match); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T09:49:31.087

好吧，只是为了让您在阳光下拥有各种变化...... :-)

```
$s = '~1~~2~~3~';
$a = preg_split('/~+/', $s, -1, PREG_SPLIT_NO_EMPTY); 
```

[运行代码](http://ideone.com/hMBcHN)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-15T07:42:14.443

我会匹配数字：

```
preg_match_all("/(\d+)/", $string, $numbers) 
```

# html - display:table width+padding 给出滚动条

> ID：16009997
> 
> 赞同：1
> 
> 时间：2013-04-15T07:39:09.270
> 
> 标签：html, css

我需要给父 div 填充，`display:table`但是当它`width:100%`添加填充时会导致水平滚动条，那么如何使用填充（但没有滚动条）使父 div 全宽到浏览器？

这是我的代码

```
.tbl{
    display:table;
    width:100%; padding:10px;
    background:#C99 
}
.row{
    display:table-row;
    width:100%
}
.cell{
    display:table-cell;
    border:solid 1px black  
} 
```

**[小提琴](http://jsfiddle.net/MPfH3/)**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:41:27.750

曾经`box-sizing`

```
.tbl{
box-sizing:border-box;
    -moz-box-sizing:border-box;
    -webkit-box-sizing:border-box;
} 
```

**[现场演示](http://jsfiddle.net/MPfH3/1/)**

更多关于**[盒子尺寸的信息](http://css-tricks.com/box-sizing/)**

更多关于**[Box 模块](http://css-tricks.com/the-css-box-model/)**