# StackOverflow 问答 13308000-13308999

# c# - 在 c#.net 中制作媒体播放器的开源 Codec 库

> ID：13308001
> 
> 赞同：-1
> 
> 时间：2012-11-09T12:22:52.673
> 
> 标签：c#, .net

他们有任何开源编解码器库吗？我可以用来制作我的媒体播放器吗？我必须制作一个支持 mp3、mp4、flv 和 xvid 文件的媒体播放器（使用 c#.net），

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T12:33:27.367

VLC（我认为它本身就是一个不错的媒体播放器）提供了一个 .Net 接口以便将其嵌入应用程序中，您可以查看[VideoLAN Wiki](http://wiki.videolan.org/.Net_Interface_to_VLC)了解详细信息（我从未使用过它，但据我在论坛上看到的） ， 有用）。

# windows-phone-7 - Windowsphone 开始按钮处理程序

> ID：13308006
> 
> 赞同：0
> 
> 时间：2012-11-09T12:23:06.680
> 
> 标签：windows-phone-7, windows-phone-7.1

好吧，我正在为 Windowsphone 开发一个小游戏（使用 Silverlight）。这样，我想如何处理“开始”按钮事件？显然，不可能覆盖 Application_Deactivated 方法，对吧？因此，即使我创建了一个方法并在 Apllication_Deactivated 中调用它，游戏还是会结束。

我想展示一个画布，例如：您是否展示了您想离开游戏。很基本。我已经在返回按钮上做到了。那么，我怎么能在开始按钮上做同样的事情呢？

干杯，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T12:27:41.957

简短的回答：你不能。

微软表示，处理按下开始按钮时发生的事情不是开发人员的选择。您应该做的是处理事件并保存用户状态，然后在用户导航回应用程序时重新加载状态。

# python - 如何使用 Beautifulsoup 在 html 代码中添加背景颜色？

> ID：13308010
> 
> 赞同：2
> 
> 时间：2012-11-09T12:23:30.317
> 
> 标签：python, beautifulsoup

使用 beautifulsoup，我得到了一个网站的 html 代码，假设是这样的：

```
<!DOCTYPE html>
<html>
<head>
</head>
<body>
<h1>My First Heading</h1>
<p>My first paragraph.</p>
</body>
</html> 
```

如何使用 beautifulsoup 在**head**标签`body {background-color:#b0c4de;}`内添加这一行？

 **可以说python代码是：

```
#!/usr/bin/python

import cgi, cgitb, urllib2, sys
from bs4 import BeautifulSoup

site = "www.example.com"
page = urllib2.urlopen(site)
soup = BeautifulSoup(page) 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-09T12:33:04.713

您可以使用：

```
soup.head.append('body {background-color:#b0c4de;}') 
```

但是您应该先[创建一个`<style>`标签](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#beautifulsoup-new-string-and-new-tag)。

例如：

```
head = soup.head
head.append(soup.new_tag('style', type='text/css'))
head.style.append('body {background-color:#b0c4de;}') 
```**

# .net - 如何使用 devexpress gridcontrol 获取边距值？

> ID：13308011
> 
> 赞同：0
> 
> 时间：2012-11-09T12:23:30.373
> 
> 标签：.net, wpf, devexpress

我有一个网格控件。我真的很想学习gridcontrol的位置。我的另一个问题是我的鼠标光标在哪里。我真的很想知道我的鼠标光标在哪里？在网格控制上？在 GridControl 上滚动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T14:10:07.387

您可以使用[TableViewHitInfo类，该类允许您通过](http://help.devexpress.com/#WPF/clsDevExpressXpfGridTableViewHitInfotopic)[TableView.CalcHitInfo](http://help.devexpress.com/#WPF/DevExpressXpfGridTableView_CalcHitInfotopic)方法识别哪个元素位于指定的屏幕坐标处：

```
void grid_MouseMove(object sender, MouseEventArgs e) {
    TableViewHitInfo hi =
        ((TableView)grid.View).CalcHitInfo(e.OriginalSource as DependencyObject);
    textBlock.Text = hi.HitTest.ToString();
} 
```

相关帮助文章：[命中信息](http://help.devexpress.com/#WPF/CustomDocument7557)

# python - 从 django fileupload 将文件传递到远程服务器

> ID：13308012
> 
> 赞同：2
> 
> 时间：2012-11-09T12:23:31.327
> 
> 标签：python, django, urllib2

我有一个带有文件上传的 Django 表单。在视图中，我想通过 urllib 发布请求将此文件传递给另一台服务器。

我试图把这个文件放在一个像这样的普通 post 变量中。

第一台服务器上的views.py：

```
def loadfile(request):
    server_url = "foo"

    class UploadFileForm(forms.Form):
        filename = forms.FileField()
    context['fileform'] = UploadFileForm()

    #after button is pressed
    if request.method == 'POST':
        upload_file(context, server_url, request.FILES['filename'])

    return render_to_response("bar")

def upload_file(context, server_url, image_data):
    #create a temp file to store image on sever
    temp = tempfile.NamedTemporaryFile()
    for chunk in image_data.chunks():
        temp.write(chunk)
    temp.flush()

    #build filename
    origfilename = str(image_data)
    extention = origfilename[origfilename.rfind("."):]
    filename = uuid.uuid4().hex + extention            

    #encode image so it can be send
    with open(temp.name, "rb") as f:
        data = f.read()
        encoded_string = base64.urlsafe_b64encode(data)
        url = "http://" + server_url + "/uploadimage?filename=" + filename
        urllib2.urlopen(url, "img_data="+encoded_string)
    temp.close() 
```

如果下游服务器也是 django 测试服务器，则此方法有效，但使用 nginx/uwsgi 我遇到“错误网关”错误。我认为这是因为 uwsgi 的缓冲区大小太小。因此，一个解决方案是发出适当的多部分发布请求。

问题是：如何在给定 django 文件上传请求的情况下轻松创建多部分 urllib 请求？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T12:26:32.277

使用[请求](http://docs.python-requests.org/en/latest/user/quickstart/#post-a-multipart-encoded-file)库：

```
url = 'http://httpbin.org/post'
files = {'file': open('report.xls', 'rb')}
r = requests.post(url, files=files) 
```

# ios - iOS - 如何将数据注入到标签栏控制器中显示的视图控制器？

> ID：13308014
> 
> 赞同：0
> 
> 时间：2012-11-09T12:23:40.517
> 
> 标签：ios, dependency-injection, uitabbarcontroller

我有一个 iOS 应用程序，它有一个页面视图，可以将多个项目显示为页面。每个页面都包含一个带有 2 个选项卡的选项卡栏控制器，因此我可以以两种方式显示每个页面的信息 - 作为表格或作为图表。这是一个屏幕截图：

![页面和选项卡屏幕截图](../Images/7b85d60ff3eae33613ea31142dce18e3.png)

因此，用户通过更改页面来选择要查看的项目（在本例中为香蕉）。但是我不知道应该在哪里或如何将他们正在查看的项目注入选项卡控制器中的 2 个视图控制器中。如果有帮助，这是我的故事板的照片。我想在创建表视图控制器或图形控制器时注入它，但我看不到该代码发生在哪里 - 我错过了什么吗？

谢谢。

![在此处输入图像描述](../Images/b90694d9fcdc6e3f4e94d80b32dd0377.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:28:03.157

如果我的理解是正确的，你应该继承你的标签栏控制器并实现

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender 
```

方法。

在那里，您可以通过 segue 对象的 destinationViewController 属性访问目标视图控制器。

根据 segue 标识符，您可以自定义目标视图控制器：

```
if ([segue.identifier isEqualToString:@"SegueID"]) {
    MyViewController *myViewController = (MyViewController *)segue.destinationViewController;
    //customize view controller
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:51:11.063

不确定这在storybaord环境中是否同样有效，但UITabBarControllerDelegate有一个名为didSelectViewController的回调方法。它将为您提供正在选择的视图控制器。 [来自 Apple 的文档。](http://developer.apple.com/library/ios/ipad/#documentation/uikit/reference/UITabBarControllerDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intf/UITabBarControllerDelegate)

# android - 如何制作自定义 ListView

> ID：13308015
> 
> 赞同：1
> 
> 时间：2012-11-09T12:23:39.800
> 
> 标签：android, android-listview

我有一个 TextView，它在里面有一个列表。

```
public class Home extends ListActivity {
ListView listView;
static final String[] Liste = {"a", "b", "c"};

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setTitle("CalcPlus");
    listView = getListView();
    //Own row layout
    listView.setAdapter(new ArrayAdapter<String>(this,
                R.layout.activity_home, R.id.text, Liste));
    //listView.setOnItemClickListener(this);
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_home, menu);
    return true;
} 
```

现在我想要列表项的灰色小描述，如下所示： ![在此处输入图像描述](../Images/8f3f327283d73ac17b1321d165066be0.png)

我阅读了这些教程：[1](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)和[2](http://www.softwarepassion.com/android-series-custom-listview-items-and-adapters/)但我不得不承认，我不明白他们在说什么。有人可以解释如何使用它们吗？我是否必须删除我现在拥有的 TextView/List？有没有另一种方法来做一点描述，而不使用自定义的 ListView？

这是我的xml：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<ListView android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:divider="#b5b5b5"
        android:dividerHeight="1dp"
        android:listSelector="@drawable/list_selector" />
<TextView
android:id="@+id/text"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_centerHorizontal="true"
android:layout_centerVertical="true"
android:text=""
android:textAllCaps="false"
android:textSize="22dp"
android:textStyle="bold"
android:layout_marginBottom="50dp" 
android:layout_marginTop="50dp" 
android:layout_marginLeft="2dp"/> 
```

我并没有真正使用列表视图“列表”，只是为了测试目的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:49:54.487

您需要了解以下行

```
listView.setAdapter(new ArrayAdapter<String>(this,
            R.layout.activity_home, R.id.text, Liste)); 
```

表示您要`layout.activity_home.xml`用于每个项目的列表视图。所以我不明白为什么里面有一个 ListView ......

默认情况下，ArrayAdapter 每个项目使用一个文本字段。如果您想要更复杂的项目布局，则需要覆盖`getView()`适配器的方法。

这是我能想到的最简单的解决方案：

在 Home.java 中：

```
public class Home extends ListActivity {
ListView listView;
static final String[] Liste = {"a", "b", "c"};

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setTitle("CalcPlus");

    listView = getListView();

    listView.setAdapter(new ArrayAdapter<String>(this, R.layout.list_item, R.id.text, Liste) {
        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            View view = super.getView(position, convertView, parent);

            String item = getItem(position);

            TextView subTitleView = (TextView) view.findViewById(R.id.subtitle);
            subTitleView.setText("Subtitle of " + item);

            return view;
        }
    });
}
} 
```

并且`layout/list_item.xml`：

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
android:padding="10dp" >

<TextView
    android:id="@+id/text"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true"
    android:text=""
    android:textAllCaps="false"
    android:textSize="22dp"
    android:textStyle="bold" />

<TextView
    android:id="@+id/subtitle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true"
    android:text=""
    android:textAllCaps="false"
    android:textSize="16dp"
    android:textStyle="normal" />

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:51:57.017

首先使用**setContentView**并调用布局。从布局调用**LISTVIEW**。然后使用适配器将**列表**放在列表视图中，使用您的数据。

# iphone - 苹果手机 | 从头开始构建的新版本的核心数据迁移

> ID：13308016
> 
> 赞同：1
> 
> 时间：2012-11-09T12:23:43.147
> 
> 标签：iphone, xcode, core-data

我正在更新应用程序，这个版本完全是从头开始构建的，并且具有全新的`coreData`模型架构。我需要`coreData`从旧模型编写迁移。我一直在寻找编写`coreData`迁移的资源，但它们都需要旧模型文件。由于这个版本是全新的，我没有旧的模型模式。

有什么方法可以编写迁移，以便在用户更新应用程序时转储旧模型？

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T14:45:29.700

如果您有旧 App，则可以从 App 包中包含的已编译模型文件重新创建模型：

*   如有必要，将应用程序同步到 iTunes。
*   Ctrl-单击 iTunes 中的应用程序，然后使用“在 Finder 中显示”找到“YourApp.ipa”文件。
*   将“YourApp.ipa”复制到一个临时目录，然后在命令行中使用“unzip YourApp.ipa”来解压存档。
*   在提取的“Payload/YourApp.app”文件夹中应该有一个“XXX.momd”文件夹，其中包含一个文件“XXX.mom”（*XXX*是模型的名称）。这是编译好的模型文件。
*   在您的 Xcode 项目（或临时项目）中，创建一个新的“数据模型”文件“XXX.xcdatamodeld”。
*   选择此文件并从菜单中选择“编辑器 -> 导入 ...”。
*   在导入对话框中，从上方选择“XXX.mom”文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:09:31.967

如果没有旧模型架构，您将无法进行迁移。嗯，这有点合乎逻辑。

您唯一可以感知的选择是对旧模型模式进行**逆向工程**并从那里获取它。

然后通过添加/删除/更改实体、属性和关系来构建新模式。

如果您可以从现有存储中提取数据，只需编写自定义导出函数并将其插入到您全新的核心数据存储中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T22:42:04.127

您可以通过使用纯 sqlite SELECTs 读取旧数据库并通过 coredata 模型将数据插入新数据库来进行迁移。我在我的软件中做了这个来从并发软件中导入数据:)

# android - 如何更快地对android中的数据进行预处理？

> ID：13308020
> 
> 赞同：0
> 
> 时间：2012-11-09T12:23:58.160
> 
> 标签：android, performance, sqlite

在我的 android 应用程序中，该应用程序在应用程序开始时具有预处理步骤，该步骤从数据库加载应用程序所需的数据。SQLite 数据库的大小约为 40 MB。该应用程序需要花费大量时间来预处理来自数据库的数据，因此用户必须等待大约 1 分钟的时间才能使用该应用程序。有什么方法可以提高我的应用程序的性能吗？数据库操作大多是这样的选择类型：

`Cursor mCursor = myDataBase.rawQuery("SELECT SUM(TimeTaken) as _time from AssessmentAttempted where AssesmentId IN(" + assessmentIds + ")", null);`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:31:14.897

为了提高预处理阶段的性能，为对数据库进行的所有操作创建一个 SQL 事务。这将尤其减少插入和更新时间。

```
myDataBase.beginTransaction();
try {
    //make all the BD operations
    myDataBase.setTransactionSuccessful();
}catch {
    //Error in between database transaction 
}finally {
    myDataBase.endTransaction();
} 
```

# ads - 在动态加载的 html 上显示 Google Ads

> ID：13308023
> 
> 赞同：1
> 
> 时间：2012-11-09T12:24:14.333
> 
> 标签：ads

我们有一个 Google Adsense 帐户，并且这些广告在我们的网站上运行良好。现在我们计划重写我们的网站以使其更具活力。经过测试，这些广告不再适用于新网站。

这是我们的网站设计。加载主页后，我们单击链接以在 jsp 的特定部分加载 html 页面。它是一个 Ajax 调用，Ajax 响应是必须显示的 html。现在使用标签的 innerHTML 方法将 html 设置在标签内。

html 中嵌入了广告脚本。即使不是 Ajax 调用，广告也不起作用。我们尝试将 替换为 an 并将 html 代码嵌入到 . 广告确实有效，但我们必须将我们在 jsp 中编写的代码移动到 html 中，这是一项非常繁琐的任务。而且在谷歌浏览器中也不起作用。我们可以看到广告以静态 html 显示，而不是我们在网站上显示的方式。

请协助我们解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-12T00:37:32.063

您不能使用 innerHTML 插入 javascript 代码。它将表现为内部内容，而不是 javascript。我的意思是它不会被执行。

取而代之的是，您可以使用 iframe 并将您的 adsense 代码放在那里。如果您愿意，您可以使用 javascript 创建一个 iframe，然后使用 document.write() 在其中写入。由于 iframe 具有不同的*文档*实例，因此它将是异步的。

# joomla - joomla 1.5 出现问题（当我访问与文章不同类型的项目时出现错误 500 » 文章

> ID：13308026
> 
> 赞同：0
> 
> 时间：2012-11-09T12:24:26.437
> 
> 标签：joomla, http-headers

有人给了我一个基于 joomla 1.5 的网页。

网页有很多菜单，但是在前端的“用户菜单”中，当用户选择该菜单的任何菜单项时，网页返回一个空白页面（在标题中看到错误500）。

我认为这是许可问题。

该网页每个文件夹有 755 个，每个文件有 644 个。

我还检查了“文章»文章”类型的菜单项可以正常工作，但其他类型的“JForms»表格”、“文章»文章/表格”不起作用。

在这种情况下我能做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:54:18.203

如果您能找到更多信息，请在全局配置中打开错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T10:56:43.060

好的。

问题是因为机器没有与外部的互联网连接，所以，内部服务器在此过程中超时。因此，服务器返回 500 错误。

*当一个页面被查询（该类型的文章）时，服务器会尝试连接到 feedburner.com。

# html - 使用 CSS 排列隐藏元素

> ID：13308028
> 
> 赞同：1
> 
> 时间：2012-11-09T12:24:38.127
> 
> 标签：html, css, twitter-bootstrap

**好的，这就是我需要的：**

*   我有一个水平容器（我们称之为 C），包含 2 个元素（A，B）
*   在这两个元素中，只有一个必须在任何时候都可见。所以，对方的`visibility`属性设置为`hidden`。
*   假设这些元素按照这个确切的顺序 : 放置`|<----------- A B ->|`，因此是右对齐的。
*   当元素 B 处于活动状态时，一切正常。
*   当元素 A 处于活动状态（因此 B 不可见）时，A 元素不会浮动到右侧并保持原位：`|<----------- A --->|`

**问题：**

*   我怎样才能将元素A“推”到右边（“上方”元素B），这样它就好像它向右浮动/

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T12:29:19.867

使用`display:none;`而不是`visibility:hidden;`as`visibility:hidden;`将隐藏元素但仍占用空间

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T12:30:15.320

`Visibility: hidden`将阻止元素被渲染，但仍会占用空间。

`Display: none`将阻止元素被渲染并影响布局。

# c# - 如何解决 C# Premature Object Dispose

> ID：13308029
> 
> 赞同：1
> 
> 时间：2012-11-09T12:24:50.470
> 
> 标签：c#, .net, mysql

我有错误的代码，我不知道哪里或什么是错误的。

我正在为客户编写应用程序。在启动屏幕期间，应用程序会检查 Mysql 是否正在运行以便以后能够连接到它。如果 mysql 已打开，应用程序将继续启动。如果 mysql 没有运行，我启动它并重新检查。

最初，我正在寻找 mysql pid，但由于某种原因，如果不使用非托管代码，我就无法获得它。

所以我在xampp源代码中找到了另一种方式，我决定使用它。

在 vstudio 调试器下运行应用程序步进或在断点处停止运行完美，但如果不步进运行，应用程序会启动 mysql 服务器但无法检测到它并最终应用程序停止（如果数据库失败，我不希望应用程序继续加载）。

这种行为使我认为一个或多个变量在我可以再次使用之前在运行时被释放。

我不知道如何解决这个问题，需要帮助。

**编辑：问题是 mysql 还没有启动，还没有中断运行应用程序正如 Jan & SWEKO 所说。添加一些延迟效果很好**

初始屏幕加载代码。

```
// App booting tasks
void Load()
{

 // License validation ok
 Boolean licensecheck = BootChecks.LicenseCheck();

 if (! licensecheck)
 {
   MessageBox.Show("License Error Conta ct Technical Support","Error",MessageBoxButtons.OK,MessageBoxIcon.Stop);
            Application.Exit();
}

bar.Width += 10; // feed progress bar ( it's a custom drawn label )
this.Refresh();  // update form to paint it
Application.DoEvents(); // process all pooled messages

// Mysql check
Boolean dbcheck = BootChecks.DbCheck();

// THE ISSUE IT'S HERE RUNNING WITHOUT STEPPING , ALWAYS FIRES THE ERROR
if ( ! dbcheck )
{
MessageBox.Show("Can't init Mysql. Contact Technical Support", "Error", MessageBoxButtons.OK, MessageBoxIcon.Stop);
            Application.Exit();
 }

 bar.Width += 10;
 this.Refresh();
 Application.DoEvents();

 // more stuff

} 
```

数据库校验码

```
public static bool DbCheck()
{

Boolean norun = MysqlController.CheckMysqlIsRunning(Constants.dbpidfile);

// check if running
if ( norun ) return true;

// if not running, I start it
MysqlController.StartMysql(Constants.dbexe,Constants.dbopts);

Boolean rerun = MysqlController.CheckMysqlIsRunning(Constants.dbpidfile);

// if really running all it's ok
if ( rerun ) return true;

// really a fault
return false;

} 
```

真正的mysql检查

评论：这种方式是在 xampp 包上找到的。要知道 mysql 是否正在运行，请查找 mysql pid 文件，并打开一个命名事件。如果绝对正确，mysql它正在运行。

```
public static Boolean CheckMysqlIsRunning(String pathtopidfile)
{
    try
    {
        Int32 pid;
        using ( StreamReader sr = new StreamReader(pathtopidfile) )
        {
            pid = int.Parse(sr.ReadToEnd());
        }

        IntPtr chk = OpenEvent(SyncObjectAccess.EVENT_MODIFY_STATE, false, 
            String.Format("MySQLShutdown{0}", pid.ToString()));

        if ( chk != null ) return true;

        return false;
    }
    catch (Exception) { return false;}
}

public static void StartMysql(String path, String aargs)
{
  // All ok. Simply spawn a process
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T12:34:38.820

你必须编写某种循环。您启动 mysql 进程，当您立即检查时，该进程仍然不存在并且您返回 false。

尝试这样的事情：

```
// if not running, I start it
MysqlController.StartMysql(Constants.dbexe,Constants.dbopts);
// wait 10 seconds max.
int timeout = 10;
bool mySqlIsRunning = false;

while(!MysqlController.CheckMysqlIsRunning(Constants.dbpidfile)) {
    // wait a while
    Thread.Sleep(1000);
    if (timeout-- == 0) {
        // timeout error
        // show message to user ...
    }
}

// here mysql is running or your timeout is expired. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:36:11.690

我认为问题可能是您在运行检查时生成了一个未完成的后台进程。

当你在调试时，MySQL 有足够的时间在你从它开始的时间里启动

```
MysqlController.StartMysql(Constants.dbexe,Constants.dbopts); 
```

至

```
Boolean rerun = MysqlController.CheckMysqlIsRunning(Constants.dbpidfile); 
```

但是，当您真正运行应用程序时，情况可能并非如此。作为一个简单的测试，尝试添加一个简单`Thread.Sleep(2000)`的等待几秒钟，然后再次运行检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:35:27.677

恕我直言，它的错误形式是有一个方法说它会做一个检查，然后也做一个初始化。将检查的代码分成两部分。*然后在检查后在*主代码中进行初始化。通过将它们作为属性保存在表单上来保留对数据库的引用。

# excel - 捕获 Vlookup 1004 错误

> ID：13308031
> 
> 赞同：0
> 
> 时间：2012-11-09T12:24:56.893
> 
> 标签：excel, vba

我正在尝试使用 Vlookup 在“数据库”（DB_SHEET）中查找一些税款。当我的数据库中不存在我的名字时，我在 VlookUp 中收到错误“1004”。

为什么“On Error GoTo Err1”没有捕捉到错误？

我的代码：

```
Dim tax1 as Double, tax2 as Double, name as String

On Error GoTo Err1
While Cells(rowIndex, 1) <> ""
    name = Cells(rowIndex, 4)
    fin = Cells(rowIndex, 5) * Cells(rowIndex, 6)
    tax1 = WorksheetFunction.VLookup(name, Sheets(DB_SHEET).Range("D:G"), 3, False)
    tax2 = WorksheetFunction.VLookup(name, Sheets(DB_SHEET).Range("K:P"), 2, False)

    Cells(rowIndex, 8) = (fin * tax1) - (fin * tax2)
Err1:
    rowIndex = rowIndex + 1
Wend
On Error Goto 0 
```

我已经知道一个有效的代码，但我想了解为什么我不能执行 "WorksheetFunction" 并使用 "On Error" 捕获错误。

其他有效的版本：

```
Dim tax1 as Variant, tax2 as Variant, name as String

While Cells(rowIndex, 1) <> ""
    name = Cells(rowIndex, 4)
    fin = Cells(rowIndex, 5) * Cells(rowIndex, 6)
    tax1 = WorksheetFunction.VLookup(name, Sheets(DB_SHEET).Range("D:G"), 3, False)
    tax2 = WorksheetFunction.VLookup(name, Sheets(DB_SHEET).Range("K:P"), 2, False)

    If Not IsError(tax1) And not IsError(tax2) Then
         Cells(rowIndex, 8) = (fin * tax1) - (fin * tax2)
    End if

    rowIndex = rowIndex + 1
Wend 
```

**编辑（之后：K_B 答案）**

1) 如果我在 WorksheetFunction.Vlookup(...) 中使用 Application.Vlookup(...) 我得到“错误 13”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:35:23.717

这是因为 Excel 错误和 VB 错误之间的差异。您的 VLookup 会抛出 Excel 错误，但 VB 代码工作正常（变体现在只包含错误代码）。如果您在 VBA 中执行 1/0，您将收到一个 VB 错误，该错误将使用`On Error GoTo ...`

您已经自己找到了通过检查表达式的值是否与函数有错误来捕获 Excel 错误的解决方案`IsError()`，所以我不能在那里填写！

现在假设`tax1`和`tax2`通常是十进制数，您可以更改这`Dim` 两个变量`Single`的 `Variant`现在，当您的 VLookup 失败时，您将收到一个 VB 错误，因为无法将错误放入其中，`Single`并且您可以使用 THAT FAIL 捕获`On Error GoTo ...`

# .htaccess - 如何使用 htaccess 将两个 url 指向一个

> ID：13308032
> 
> 赞同：0
> 
> 时间：2012-11-09T12:24:56.837
> 
> 标签：.htaccess, redirect

我正在尝试将 url 重定向到一个新的 url

```
http://www.domain.com/ --> http://www.domain.com/v3/
http://www.domain.com/v2 --> http://www.domain.com/v3/ 
```

这就是我所做的

```
RewriteEngine on
RewriteRule ^v2/(.*) http://www.domain.com/v3/ [R=301,L]
RewriteRule ^(.*) http://www.domain.com/v3/ [R=301,L] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T00:12:18.687

尝试这个：

```
Redirect 301 /v2 http://domain.com/v3
Redirect 301 / http://domain.com/v3/ 
```

# java - Scene2d touchDown 不会在 Actor 上触发

> ID：13308033
> 
> 赞同：0
> 
> 时间：2012-11-09T12:24:58.330
> 
> 标签：java, libgdx, scene2d

我创建了一个简单的测试，其中`touchDown()`包含图像演员的事件。该事件在舞台上有效，但对演员无效。这是代码：

我`InputProcessor`在父类（`AbstractScreen`）的构造函数中设置了。

```
Gdx.input.setInputProcessor(this.stage); 
```

在子类中：

```
private TextureAtlas atlas;
private Image boardImg;

public void show(){
    super.show(); 

    atlas = new TextureAtlas(Gdx.files.internal("data/packs/mainMenu.atlas"));      
    AtlasRegion board = atlas.findRegion("board");

    boardImg = new Image(board);

    boardImg.addListener(new InputListener(){
           public boolean touchDown(InputEvent event, float x, float y, int pointer, int    button){
               Gdx.app.log("aaaa", "down");
               return true;
           }
    });

    stage.addActor(boardImg);

    stage.addListener(new InputListener() {
          public boolean touchDown (InputEvent event, float x, float y, int pointer, int button) {
               Gdx.app.log("aaaa", "stage down");
               return true;
          }
    });     
}

@Override
public void resize(int width, int height) {
    super.resize(width, height);        
    boardImg.setPosition(stage.getWidth()/2 - boardImg.getWidth()/2, stage.getHeight()/4);  
} 
```

我在桌面和安卓上都进行了测试（结果相同）。我得到了“下台”事件，但没有得到演员的事件。我也试过没有舞台活动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-12T19:59:06.363

图像不接收触摸事件，因为它没有大小。

仔细阅读文档：

> 请注意，actor 必须指定其边界才能在这些边界内接收输入事件。

只知道`boardImg = new Image(board)`不会为您设置演员的宽度和高度。所以你需要手动制作。假设您使用像素完美尺寸：

```
boardImg = new Image(board);
boardImg.setWidth(board.getWidth());
boardImg.setHeight(board.getHeight()); 
```

那会成功的。祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T21:21:19.760

完成所有这些工作：

1.  boardImg.setTouchable(Touchable.enabled)

2.  在舞台侦听器中返回 false 或清除其侦听器。

3.  不要在父类中调用 setInputProcessor(this.stage) 而是在子类中调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T19:50:07.960

我认为问题是因为`touchDown()`stage 的方法返回**true**，所以事件将被“**消费**”并且不会传播给它的孩子，演员，所以不会调用`touchDown()`方法。`boardImg`

# javascript - 带有 XMLHttpRequest 的 Ajax 请求：使用 Internetexplorer 的不同格式的 HTTP 标头“Accept-Language”

> ID：13308039
> 
> 赞同：0
> 
> 时间：2012-11-09T12:25:15.707
> 
> 标签：javascript, ajax, internet-explorer, http-headers

我在使用 Internet Explorer 9 时遇到问题。当我使用 XMLHttpRequest 对象发出 AJAX 请求时，浏览器会在 HTTP 标头中为“Accept-Language”发送“de”。当我加载没有 AJAX 的页面时，“Accept-Language”的值为“de-DE”。

在这两种情况下使用 Firefox 或 Chrome 时，“Accept-Language”值是相同的。

这种差异会导致我在页面上使用的一些脚本出现问题。

除了使用 xmlhttp.setRequestHeader("Accept-Language","de-DE") 手动设置值之外，还有其他方法可以解决此问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:59:57.253

[语言子标签是可选](http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.10)的，因此 Internet Explorer 没有问题。

> 除了手动设置值之外，还有其他方法可以解决此问题`xmlhttp.setRequestHeader("Accept-Language","de-DE")`吗？

该修复需要应用于解析标头的脚本。其细节将取决于脚本的编写方式，而不是客户端。不要试图控制语言偏好。

# facebook - 网址在 Facebook 上被屏蔽

> ID：13308042
> 
> 赞同：0
> 
> 时间：2012-11-09T12:25:21.653
> 
> 标签：facebook, url, dns

> **可能重复：**
> [Facebook 不会分享指向我网站的链接](https://stackoverflow.com/questions/13185406/facebook-wont-share-a-link-to-my-site)

当我在 Facebook 上发布我的 URL 时，我收到一条错误消息：“您尝试分享的内容包含一个因垃圾邮件或不安全而被阻止的链接。”

该域曾经是从前任所有者那里停放的，并且有一个 URL 重定向，因此这可能是 Facebook 一开始就阻止该 URL 的原因。但是，现在我正在开发该域，需要包含来自 Facebook 的社交插件，但不能。

我已经尝试了“帮助中心”和“让我们知道”链接一千零一次，但从未得到回复。有没有办法通知 Facebook 这个域名现在是安全的并让他们解除封锁？

更改域是最后的手段，因为我已经对其进行了投资。

提前致谢。

# php - 达到错误最大函数嵌套级别 200

> ID：13308047
> 
> 赞同：0
> 
> 时间：2012-11-09T12:25:41.307
> 
> 标签：php, symfony

我目前正在研究`Symfony`, `Rest API`。我是新手`framework`。我已经`Symfony`正确安装了。现在我已经安装了`FriendsOfSymfony`捆绑包，一切都很好，但是当我点击时，`logout`我收到以下错误

```
 Fatal error: Maximum function nesting level of '100' reached, aborting! in C:\xampp\htdocs\Symfony\vendor\twig\lib\Twig\Loader\Filesystem.php on line 6010 
```

经过一番搜索，我找到了一个解决方案来设置`xdebug`，`php.ini`设置限制 200 而不是 100，然后我收到以下错误，

```
 Fatal error: Maximum function nesting level of '200' reached, aborting! in C:\xampp\htdocs\Symfony\vendor\twig\lib\Twig\Loader\Filesystem.php on line 6010 
```

我也完全看不到 symfony 的演示。请大家告诉我如何才能摆脱这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T12:39:34.680

尝试检查调用堆栈。也许你有一个无限循环。停用 xDebug 或将 php.ini 中的最大嵌套级别设置得更高：

```
xdebug.max_nesting_level=500 
```

这是正常行为。尝试类似：

```
 $traceStack = debug_backtrace();
    var_dump($traceStack);
    $i=0;
    foreach($traceStack as $n) {
        /* do what you want here */
        /*
         *   $n is an array of:
         *   'file' => ..
         *   'line' => ...
         *   'function' ...
         *   'class' => ...
         *   'object' => ...
         *   'type' => ...
         *   'args' => ...
         */
    } 
```

**重要提示**：不要忘记重新启动 apache（或 FPM）！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-08T15:28:57.667

就我而言，它与作曲家有关。**在composer.json**文件中更新了一些供应商，但我忘记运行命令**composer update**或**composer install**。系统产生了一系列错误，导致了这个“最大嵌套级别”。

执行这些命令后，问题已解决

# visual-studio-2012 - VS2012中鼠标悬停在当前语句指示器时如何禁用线程列表弹出？

> ID：13308054
> 
> 赞同：1
> 
> 时间：2012-11-09T12:26:10.340
> 
> 标签：visual-studio-2012

这是我的意思的弹出窗口：

                                                       ![在此处输入图像描述](../Images/087c45ca9b723a12e112328e27628cb6.png)

它恰好掩盖了几行的指标边距，使得无法将当前语句指标拖到这些行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:26:10.340

“调试”工具栏有一个名为“在源代码中显示线程”的按钮：

                                      ![在此处输入图像描述](../Images/8a63f20de08d94ed2c1bd71b13538299.png)

将其关闭以禁用此弹出窗口以及当前语句指示器下方看起来凌乱的图形：

                                                              ![在此处输入图像描述](../Images/d40922c52a2fc4c5565309218cf5739d.png)

（我花了太长时间才找到这个，谷歌搜索没有帮助，因此这个答案......通过在其他优秀的快速启动搜索框中搜索“线程”无法找到这个按钮也无济于事）

# osgi - 在 Felix servletbridge 战争中添加 OSGi 片段包

> ID：13308056
> 
> 赞同：2
> 
> 时间：2012-11-09T12:26:30.340
> 
> 标签：osgi, apache-felix, osgi-fragment, pax-web

我正在尝试创建战争托管 OSGi 包。完整的配置应该能够托管 WAB 包，现在我尝试为此进行集成`pax-web-extender-war`。它需要一些依赖项，例如`slf4j-api`and`slf4j-log4j12`问题是：我总是遇到这个异常：

```
org.osgi.framework.BundleException: Fragment bundles can not be started.
    at org.apache.felix.framework.Felix.startBundle(Felix.java:1782) 
```

因为`slf4j-log4j12`真的是一个片段包。我认为菲利克斯应该解决这个问题，但事实并非如此。所以我尝试将这个 jar 移动到，`WEB-INF/lib`但随后由于 osgi 无法将其解析为捆绑包而导致接线失败。

所以，

*   **我应该把片段包放在**哪里？****
***   它应该以某种方式配置**吗**`framework.properties`？*   Apache Felix 甚至能够处理片段包吗？**

 **以下是战争的当前布局*（请注意，它基于 felix http 桥示例）*：

```
.
└── WEB-INF
    ├── bundles
    │   ├── commons-fileupload-1.2.2.jar
    │   ├── commons-io-2.4.jar
    │   ├── hello-wab-1-SNAPSHOT.war
    │   ├── org.apache.felix.http.bridge-2.2.0.jar
    │   ├── org.apache.felix.http.samples.filter-2.2.0.jar
    │   ├── org.apache.felix.webconsole-4.0.0.jar
    │   ├── pax-web-api-2.1.0.jar
    │   ├── pax-web-extender-war-2.1.0.jar
    │   ├── pax-web-spi-2.1.0.jar
    │   ├── slf4j-api-1.6.6.jar
    │   ├── slf4j-log4j12-1.6.6.jar
    │   └── wrapper-json-1-SNAPSHOT.jar
    ├── classes
    │   └── org
    │       └── apache
    │           └── felix
    │               └── http
    │                   └── samples
    │                       └── bridge
    │                           ├── FrameworkService.class
    │                           ├── ProvisionActivator.class
    │                           └── StartupListener.class
    ├── framework.properties
    ├── lib
    │   ├── org.apache.felix.framework-4.0.3.jar
    │   ├── org.apache.felix.http.proxy-2.2.0.jar
    │   ├── org.apache.felix.webconsole-4.0.0.jar
    │   ├── org.osgi.compendium-4.3.0.jar
    │   └── wrapper-json-1-SNAPSHOT.jar
    └── web.xml 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:36:29.793

我建议将 pax-logging 添加到你的包中，它可以避免登录 OSGi 世界的痛苦。[Pax 记录](http://team.ops4j.org/wiki/display/paxlogging/Pax+Logging)

对于片段包，您只需将它们添加到通常的包中。我会在你的设置中说可能在 bundles 文件夹中。由于它是一个片段包，因此您得到的 Exception 是正确的，它不是一个“可启动”包。它只会解决并希望附加到托管捆绑包。

顺便说一句，Felix 能够处理片段包 :)**

# extjs - ExtJs 复选框有时会被选中，有时不会

> ID：13308059
> 
> 赞同：0
> 
> 时间：2012-11-09T12:26:37.560
> 
> 标签：extjs

我有一个网格，第一列是一个复选框，我需要标记复选框，但是当我加载我的网格时，有时复选框会被选中，有时不会被选中，有人可以帮助我吗？

```
 var item = record.data;
            grid.store.load({
            callback: function(response){
                Ext.each(response, function(records) {
                    Ext.each(item.links, function (valor){
                        if(records.data.id == valor.id){
                          var row = records.index;
                          grid.getSelectionModel().select(row);
                        }
                    });
                });
            }
        });
        form.loadRecord(record); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:17:26.343

Problem solved with event `beforerefresh`. Thanks for all.

```
 var item = record.data;
            grid.store.load({
            callback: function(response){
                grid.getView().on('beforerefresh', function(view) {
                    Ext.each(response, function(records) {
                        Ext.each(item.links, function (valor){
                            if(records.data.id == valor.id){
                              var row = records.index;
                              grid.getSelectionModel().select(row, true);

                            }
                        });
                    });
                });
            }
        });
        form.loadRecord(record); 
```

# algorithm - 计算一个货物需要多少辆卡车（跟进）

> ID：13308062
> 
> 赞同：1
> 
> 时间：2012-11-09T12:26:51.897
> 
> 标签：algorithm, math

相关问题：[在游戏中计算卡车载货量](https://stackoverflow.com/questions/10469358/calculating-truck-cargo-capacity-in-a-game)

在我的相关问题中，我有 3 种不同类型的卡车，但我决定对其进行简化，只使用一个简单的数字来表示每个玩家拥有多少辆卡车。

我需要找出给定货物需要多少辆卡车。

> 每辆卡车可运载 50 个板条箱 ( `truckCapacity`)
> 
> 玩家 1 有 0 辆卡车 ( `numberOfTrucks`)
> 
> 我要搬运的货物是 10 箱 ( `cargo`)

我尝试了以下方法；

```
sum = truckCapacity / cargo
= 5 
```

这是错误的，如果我要移动 10 个板条箱，应该是 1 个。因为我只需要 1 辆卡车就可以移动 10 个板条箱

我试过了

```
sum = truckCapacity - cargo
= 40 
```

但这并没有告诉我我需要多少辆卡车。

根据我的相关问题中接受的答案，我尝试过，

```
current_capacity(truck) = total_capacity(truck) - loaded_crates(truck) 
```

但这一次只能装载一辆卡车，并没有告诉我需要购买多少辆额外的卡车。

我所追求的是；

我输入货物，它返回需要多少卡车才能移动所述货物。

如果我有很多货物要移动，它也应该工作。所以，如果我想移动 500 个板条箱，它应该告诉我需要 10 辆卡车（每辆卡车 50 个板条箱 * 10 辆卡车 = 500 个板条箱移动）

诸如卡车中剩余多少空间之类的事情并不重要。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T13:26:58.217

正确的答案已经给出，但我想告诉你*为什么*它是正确的，以及你如何根据你已经知道的情况自己想出它：

在**你自己的**计算中，你说：

> 每辆卡车 50 个板条箱 * 10 辆卡车 = 500 个板条箱已移动

象征性地，这写着：

> *`cratesPerTruck * trucks = crates`*

这就是说，给定容量和可用卡车的数量，您可以计算出可以移动的板条箱数量。

您现在可以求解*卡车*：

> *`cratesPerTruck * trucks = crates`*                        -- 两边除以*`cratesPerTruck`*
> *`cratesPerTruck / cratesPerTruck * trucks = crates / cratesPerTruck`*
> *`1 * trucks = crates / cratesPerTruck`*
> *`trucks = crates / cratesPerTruck`*

有你的答案。

## 直觉

划分有两种常见的解释：

1.  分配
2.  将对象装入另一个¹

**拟合**：我们也可以问自己，一个数字适合另一个数字多少次。
例如，我们需要跨越 50 米的链条，但我们只能购买 2 米的链条。我们需要将多少条链链在一起？

`50 / 2 = 25`: 2 米适合 25 次 50 米，所以我们需要 25 条 2 米链条。

**将拟合**应用于您的示例：假设您的每个板条箱长一米，总共有 50 个。其次，您的每辆卡车都有一个 10 米长的装载区。您可以想象将装载区排成一列，因此您总共需要知道一个装载区可容纳多少次 50 米的板条箱。

`50/10 = 5`需要卡车。

**分布**：假设我们有 10 个苹果和 5 个人。我们将苹果分发给人们，每个人得到多少申请？

*10/5 = 2*，所以每个人都有两个苹果。

**将分布**应用于您的示例不太直观²，但它确实有效。
假设一辆卡车有 4 个板条箱的容量，所以有 1、2、3 和 4 点。

如果您要将板条箱堆放在这四个位置上，那么您获得的层数等于您需要多少辆卡车来运输整个负载。

如果我们有 24 个板条箱要分配到各个点，那么每个点将堆放 6 个板条箱，这意味着您总共需要 6 辆卡车。

## 多方面分析

`cratesPerTruck`*描述一个*比率——正如***per所暗示的——就像速度描述你******每秒***走多少*米***一样：**

 ***   板条箱被卡车分开
*   米除以秒

从这个简单的单词替换中可以看出，这些单位描述了一个*部门*：

![每辆卡车的板条箱](../Images/c935e05e0e8363cff4968832405db9b6.png)

如果将多个 crate 除以`crates divided by trucks`，您将得到以下结果：

![多方面分析](../Images/b5c8d0b4f92e594820e659354028f564.png)

除以分数与乘以它的倒数相同。然后`[crates]`取消，给我们留下`[trucks]`.

* * *

[**脚注**：
¹或者给我一个更好的想法的评论。]

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T12:32:26.860

分裂是要走的路，但你分裂的方向错了。如果你知道`cargo`和`cargo_per_truck`，那么：

```
trucks = cargo / cargo_per_truck 
```

因此，给定 500 个板条箱，每辆卡车 50 个板条箱，您需要 500/50 = 10 辆卡车。

当然，这会给你部分卡车——有 10 个板条箱，你需要 10/50 = 0.2 辆卡车——所以你需要总是四舍五入：

```
trucks = ceil(cargo / cargo_per_truck) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-09T12:32:31.493

这是天花板（货物/卡车容量）。

在数学和计算机科学中，下限和上限函数分别将实数映射到最大的前一个整数或最小的后一个整数。更准确地说， floor(x) = 是不大于 x 的最大整数，而 ceiling(x) = 是不小于 x 的最小整数。[http://en.wikipedia.org/wiki/Floor_and_ceiling_functions](http://en.wikipedia.org/wiki/Floor_and_ceiling_functions)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T15:37:02.463

您可以尝试使用：

**(5021 / 50) 模型 1**

其中**5021**是您的***货物***，**50**是您的***容量***。您将按货物/容量获得卡车数量。mod部分将检查提取卡车后剩下的东西，1比1。

在这种情况下，该值将返回 0 或 1，因为它是一个整数，它只显示整数。

所以你想要的是检查你是否还有任何东西。如果不是（mod 返回 0），您需要***货物/容量***= ***TrucksNeeded。*** 如果有（mod 返回 1），您需要（***货物***/***容量***）+ 1 = TrucksNeeded。

简而言之： ***卡车需要 =（货物/容量）+（货物/容量 mod 1）*****

# java - 以编程方式将 SWT 按钮设置为按下状态？

> ID：13308066
> 
> 赞同：4
> 
> 时间：2012-11-09T12:27:04.613
> 
> 标签：java, button, swt, state

我正在尝试以编程方式将 SWT 按钮设置为“按下”状态。这有可能吗？

**更新：**
我想要实现的 - 是将处于选定状态的按钮渲染到图像上。

```
Image buttonimg_mouseover = new Image(getDisplay(), 100, 100);
Button button = new Button(parent.parent, SWT.PUSH);
button.setAlignment(SWT.CENTER);
button.setImage(arrowimg);
button.setSize(100, 100);
button.setSelection(true); // doesn't work

GC gcbutton = new GC(buttonimg_mouseover); //draw an image of the button
button.print(gcbutton); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T12:38:24.597

您可以使用以下代码段来完成

```
Button myButton = new Button(parent, SWT.TOGGLE);
myButton.setSelection(true); 
```

但是，这仅适用于类型`CHECK`,`RADIO`或`TOGGLE`。

请参阅[`Button#setSelection(boolean)`](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Button.html#setSelection%28boolean%29).

# php - OS Mountain LION PHP 环境变量

> ID：13308069
> 
> 赞同：0
> 
> 时间：2012-11-09T12:27:16.297
> 
> 标签：php, macos, path, env

我刚刚安装了 Mac OS 10.8 Mountain Lion，我注意到系统使用的 PHP 版本不是与 MAMP 关联的版本。

我曾经修改我的 PATH 变量以指向我的操作系统为 PHP 使用不同的 BIN 文件夹，但我只是找不到在 10.8 中修改 PATH 变量的位置。

我创建了一个 .profile 并查看了该`.bash_profile`文件，但操作系统继续使用

```
/usr/bin/php 
```

作为默认的 PHP 安装，而不是

```
/Applications/MAMP/bin/php/php5.3.14/bin 
```

在哪里可以找到系统 PATH 变量设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T18:28:55.530

对我来说，我可以在山狮中编辑我的 ~/.profile 文件。我不确定原始 PHP 路径的位置，但您可以尝试添加 `export PATH="$PATH:/Applications/MAMP/bin/php/php5.3.14/bin"` 到您的 .profile 文件中。确保在运行 which php.ini 之前重新启动终端。

# proxy - Httpcomponents-客户端代理问题

> ID：13308073
> 
> 赞同：0
> 
> 时间：2012-11-09T12:27:23.593
> 
> 标签：proxy, apache-httpcomponents

尝试使用新的 httocomponent-client 模块通过代理连接到 Internet 时遇到问题

如果我直接使用 Proxy 对象和 HttpURLConnection 一切正常：

```
URL u = new URL("http://www.google.com");
Proxy proxy = new Proxy(Type.HTTP, new InetSocketAddress("somehost", 8080));
HttpURLConnection con = (HttpURLConnection) u.openConnection(proxy);
con.setRequestMethod("GET");
System.out.println(con.getResponseCode()); 
```

现在我尝试对新的 api 做同样的事情：

```
HttpHost proxy = new HttpHost("somehost", 8080, "http");
httpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);
HttpHost targetHost = new HttpHost("http://www.google.com");
HttpGet httpGet = new HttpGet("/");
try {
    HttpResponse httpResponse = httpClient.execute(targetHost, httpGet);
    System.out.println(httpResponse.toString());
} catch (Exception e) {
    e.printStackTrace();
} 
```

但我明白了：

```
HTTP/1.1 407 Proxy Authentication Required ( Forefront TMG requires authorization to fulfill the request. Access to the Web Proxy filter is denied.  ) [Via: 1.1 xxx, Proxy-Authenticate: Negotiate, Proxy-Authenticate: Kerberos, Proxy-Authenticate: NTLM, Connection: Keep-Alive, Proxy-Connection: Keep-Alive, Pragma: no-cache, Cache-Control: no-cache, Content-Type: text/html, Content-Length: 7079  ] 
```

我也试过

```
ProxySelectorRoutePlanner routePlanner = new ProxySelectorRoutePlanner(
httpClient.getConnectionManager().getSchemeRegistry(),new MyProxySelector());  
    httpClient.setRoutePlanner(routePlanner); 
```

MyProxySelector 返回我 nned 但没有结果的代理。

为什么使用新 API 需要在代码中进行代理身份验证？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T13:47:29.000

我不知道为什么使用 ProxySelectorRoutePlanner 的解决方案不起作用，您确定使用代理设置启动 JVM 吗？

看起来你需要添加这一行：

```
httpClient.getCredentialsProvider().setCredentials(new AuthScope("yourProxyHost", Port),
            new UsernamePasswordCredentials("yourUsername", "yourPass")); 
```

# iphone - iOS 5/6 陀螺仪北参考

> ID：13308075
> 
> 赞同：0
> 
> 时间：2012-11-09T12:27:36.187
> 
> 标签：iphone, ios, rotation, compass-geolocation, gyroscope

我无法正确读取 iphone 的内部陀螺仪。

我开发了一个基于磁力计的增强现实引擎。因为陀螺仪比磁力计提供更可靠的值，所以我想改进引擎。

现在，问题是，如果 iphone 处于横向模式，陀螺仪值，参考北方，工作良好。但是，如果我在横向和纵向之间移动 iphone，则值是错误的。我试图根据加速度计计算偏移量，但它仍然无法正常工作。第二个问题是，如果 iphone 处于纵向模式并且我将其向后滚动，则指南针数据会跳跃 180 度。

```
_mmanager.deviceMotionUpdateInterval = 1/60.0;
_mmanager.accelerometerUpdateInterval = 1.0/90.0;
[_mmanager startDeviceMotionUpdatesUsingReferenceFrame:CMAttitudeReferenceFrameXTrueNorthZVertical];

// queue to get accelation data
NSOperationQueue *motionQueue = [[NSOperationQueue alloc] init];
[_mmanager startAccelerometerUpdatesToQueue: motionQueue withHandler:^(CMAccelerometerData *data, NSError *error) {
    _xacc = (data.acceleration.x * 0.1) + (_xacc * (1.0 - 0.1));
    _yacc = (data.acceleration.y * 0.1) + (_yacc * (1.0 - 0.1));
    _zacc = (data.acceleration.z * 0.1) + (_zacc * (1.0 - 0.1));
}];

// in my update method
double gyx = _mmanager.deviceMotion.attitude.yaw;
double gyy = _mmanager.deviceMotion.attitude.roll;
double gyz = _mmanager.deviceMotion.attitude.pitch;

// sidewise rotation of the iphone to calculate a offset
double rotation = fmod(((atan2(-_yacc, _xacc)+M_PI/2)*180/M_PI)+180, 360);
// heading with compass data and offset just work perfectly
double compassheding = fmod(_lmanager.heading.trueHeading+rotaion, 360);

double gyroheading = -gyx*180/M_PI-90;

if(gyroheading < 0){
    gyroheading = gyroheading+360;
}

// same offset as obove. but wont work correctly.
double ro2 = fmod(((atan2(-_yacc, _xacc)+M_PI/2)*180/M_PI)+180, 360);
head = fmod(head+ro2, 360); 
```

我现在的问题是，我怎样才能正确读出带有北参考的陀螺仪并计算偏移量，所以当我将 iphone 放在我眼前时，这些值仍然是正确的，就像拍照一样。我只想用陀螺仪获得可靠的航向数据并摆脱滞后的指南针。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T12:15:43.280

它可能对你有帮助，这里有一篇文章，陀螺仪和指南针一起使用，以摆脱落后的指南针，仍然有一些准确的东西：http: [//www.sundh.com/blog/2011/09/stabalize-compass-带陀螺仪的iphone/](http://www.sundh.com/blog/2011/09/stabalize-compass-of-iphone-with-gyroscope/)

# php - Magento + Varnish - 在特定时间打开和关闭的商店的逻辑

> ID：13308080
> 
> 赞同：2
> 
> 时间：2012-11-09T12:27:54.500
> 
> 标签：php, ajax, magento, caching, varnish

我最近部署了我的 Magento 站点并开始在其上使用 Varnish。

然而，我们确实有一些 PHP 逻辑，在每个商店上放置一个打开和关闭按钮（它们在工作时间开放），并且在它关闭后它应该收到任何订单。此外，我们在“添加到购物车”按钮上有逻辑，以便在商店开业时通知客户。

这里的问题是，如果我使用 VArnish 为页面提供服务，加载时间确实很棒，但是当商店打开（或关闭）时，页面不会刷新（当然）。

在这种情况下，哪个是最佳实践？

*   编写一个 AJAX 逻辑，从后端获取这些动态信息
*   在商店打开时，对所有具有此逻辑的页面运行清漆清除
*   设置较低的 TTL（这将减少 Cache Hit）。

非常感谢你的帮助。

最好的问候，毛里西奥。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:58:08.983

将每个商店的打开和关闭时间存储在 html 中并使用 javascript 向用户显示当前状态如何？这样您就可以使用缓存并且仍然拥有您提到的动态部分。

示例（不起作用，主要是伪代码）：

```
<p id="open" data-open-start="8:00 UTC" data-open-end="16:00 UTC">We are open between 8:00 UTC and 16:00 UTC</p>

<script>
  // assuming JQuery
  var open_start_time = [get data-open-start-time and parse it]
  var open_end_time = [get data-open-end-time and parse it]
  // some time zone conversions...
  if (currentTime >= open_start_time && currentTime <= open_end_time) {
    $('p#open').text('we are open!');
  } else {
    $('p#open').text('sorry, we are closed!');
  }
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T21:32:15.020

如果您仍想缓存整个页面，唯一的解决方案是更新您的 Magento为每个提供的页面设置一个特殊的[HTTP 标头“过期” 。](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.21)此标头允许 Varnish 在日期结束时过期缓存。

因此，如果商店当前已关闭，则需要设置下一次开张的值，反之亦然。

# javascript - 在 JSP 转发之前显示 JavaScript 警报

> ID：13308082
> 
> 赞同：1
> 
> 时间：2012-11-09T12:28:00.140
> 
> 标签：javascript, jsp

我试图在执行转发之前在 jsp 页面的正文中用 javascript 发出一条消息并且它没有被执行。

这是代码

```
<%
...
out.write("<script type='text/javascript'>\n");
out.write("alert( " + "' Hello '" + ");\n");
out.write("</script>\n");

request.getRequestDispatcher("secondpage.jsp").forward(request, response);
%> 
```

在这里，我想在将控件传递给另一个 jsp 页面之前提醒消息。我该怎么做。在这里，如果我删除转发部分，警报消息将显示在警报框中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T12:29:31.843

`forward`替换不发送到浏览器的页面内容。

由于浏览器甚至没有收到您编写的脚本，因此无法执行它。

假设您希望用户在重定向前一秒看到警报，您可以这样做：

```
<%
out.write("<script type='text/javascript'>\n");
out.write("alert(' Hello ');\n");
out.write("setTimeout(function(){window.location.href='secondpage.jsp'},1000);");
out.write("</script>\n");
%> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T12:54:54.327

为什么你在 JSP 中通过 Java *scriptlet*编写 JS 代码，而 JSP 本身已经提供了一个很好的模板来编写 HTML/JS 代码？

无论如何，只需使用 JS 来执行重定向而不是 JSP。您知道，Java/JSP 在网络服务器上运行并生成 HTML/JS，而后者又仅在网络浏览器中运行。转发基本上替换了请求/响应目标，如果响应未提交，它会丢弃预先写入响应缓冲区的所有内容。

以下是您可以在普通 HTML/JS 中执行此操作的方法：

```
<script>
    alert('Hello');
    window.location = 'secondpage.jsp';
</script> 
```

而已。看，你根本不需要把它放在一些*scriptlet* ugliness 中。只需将其完整地放入 JSP 文件中即可。

# android - Android：视频在方向变化时拉伸

> ID：13308088
> 
> 赞同：1
> 
> 时间：2012-11-09T12:28:13.717
> 
> 标签：android, orientation, android-videoview

我正在视频视图中显示视频：

在我的 XML 中：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:gravity="center"
  android:layout_height="fill_parent">

    <VideoView
    android:layout_gravity="center"
    android:id="@+id/videoview_player"
    android:layout_width="wrap_content"
     android:layout_height="wrap_content" />

</LinearLayout> 
```

看起来这很完美。视频会自行调整大小以填满屏幕，而视频仍保持其纵横比。

但是在平板电脑上，在纵向大约 30 到 60 秒后，视频会延伸到全屏。（它不保持纵横比，它会拉伸高度）

像这样：

![在此处输入图像描述](../Images/d62f74e68acad1fb332db76bb173b54e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:36:27.183

我最终继承了 VideoView：

```
public class PlayerVideoView extends VideoView{

    private int mForceHeight = 0;
    private int mForceWidth = 0;
    public PlayerVideoView(Context context) {
        super(context);
    }

    public PlayerVideoView(Context context, AttributeSet attrs) {
        this(context, attrs, 0);
    }

    public PlayerVideoView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    public void setDimensions(int w, int h) {
        this.mForceHeight = h;
        this.mForceWidth = w;

    }

    @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        setMeasuredDimension(mForceWidth, mForceHeight);
    }
} 
```

在 onCreate 我设置尺寸的位置

```
videoView.setDimensions(800, 600); 
```

然后在

```
@Override
public void onConfigurationChanged(Configuration newConfig) {..} 
```

我根据用户的设备方向手动设置纵向或横向的尺寸。

# f# - 在 F# 中实现 ThreadStatic 单例

> ID：13308090
> 
> 赞同：4
> 
> 时间：2012-11-09T12:28:30.053
> 
> 标签：f#, singleton

我正在学习 F# 并想实现 ThreadStatic 单例。我正在使用在类似问题中找到的内容：[F# How to implement Singleton Pattern (syntax)](https://stackoverflow.com/questions/2691565/f-how-to-implement-singleton-pattern-syntax)

使用以下代码编译器抱怨`The type 'MySingleton' does not have 'null' as a proper value`.

```
type MySingleton = 
    private new () = {}
    [<ThreadStatic>] [<DefaultValue>] static val mutable private instance:MySingleton
    static member Instance =
        match MySingleton.instance with
        | null -> MySingleton.instance <- new MySingleton()
        | _ -> ()
        MySingleton.instance 
```

在这种情况下如何初始化实例？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T15:20:03.000

我认为`[<ThreadStatic>]`会导致代码相当笨拙，尤其是在 F# 中。有一些方法可以更简洁地做到这一点，例如，使用[`ThreadLocal`](http://msdn.microsoft.com/en-us/library/dd642243.aspx)：

```
open System.Threading

type MySingleton private () = 
  static let instance = new ThreadLocal<_>(fun () -> MySingleton())
  static member Instance = instance.Value 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-09T13:36:55.163

另一个 F#y 解决方案是将实例存储为[选项](http://msdn.microsoft.com/en-us/library/dd233245.aspx)

```
type MySingleton = 
    private new () = {}

    [<ThreadStatic>; <DefaultValue>]
    static val mutable private instance:Option<MySingleton>

    static member Instance =
        match MySingleton.instance with
        | None -> MySingleton.instance <- Some(new MySingleton())
        | _ -> ()

        MySingleton.instance.Value 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-09T12:54:46.620

接近 Ramon 所说的，将`AllowNullLiteral`属性应用于类型（默认情况下，在 F# 中声明的类型不允许 'null' 作为适当的值）：

```
[<AllowNullLiteral>]
type MySingleton = 
    private new () = {}
    [<ThreadStatic>] [<DefaultValue>] static val mutable private instance:MySingleton
    static member Instance =
        match MySingleton.instance with
        | null -> MySingleton.instance <- new MySingleton()
        | _ -> ()
        MySingleton.instance 
```

# javascript - solr 适用于我的本地 iis 不适用于托管 iis

> ID：13308095
> 
> 赞同：2
> 
> 时间：2012-11-09T12:28:38.917
> 
> 标签：javascript, internet-explorer, jquery, solr, cross-domain

```
var urlsearch = "http://192.168.10.113:8080/collective-intellegence/StoreClicks?userid=" + userId + "&query=" + query;

//Inserted data in the database.
$.ajax({
    type: 'POST',
    url: urlsearch,
    dataType: 'json',
    success: function (data) {
    }
}); 
```

当我在 Visual Studio iis 中运行程序时，这是有效的。不是当我在主机网站上运行代码时。方法：

当我使用

```
http: //192.168.9.185/KLMS/CustomGoogleSearch.aspx 
```

url 它仅在 IE 中不起作用。

但是当我使用

```
http: //localhost:56332/KLMS/CustomGoogleSearch.aspx 
```

url 在 IE 中工作正常并带有确认消息。

我正在做一个跨域ajax调用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T14:14:43.833

由于跨域问题，这不适用于 IE。

所以你必须添加 XDomainRequest()。 [看到这个](http://msdn.microsoft.com/en-us/library/dd573303%28v=vs.85%29.aspx)

# css - CSS 收集类似的属性？

> ID：13308097
> 
> 赞同：0
> 
> 时间：2012-11-09T12:28:44.793
> 
> 标签：css

如何“收集” CSS 语句？我有几个我想对齐的类`table.t-data-grid thead tr th.*`

我如何收集例如以下内容？

```
table.t-data-grid thead tr th.depot, table.t-data-grid thead tr th.amount ... {

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:32:45.733

你真的需要这么复杂的选择器吗？你的选择器越不复杂，它的性能就越好。因此，只需尽可能多地投入以针对正确的元素。

看起来，你会更好

```
.t-data-grid .depot, .t-data-grid .amount { ... } 
```

# javascript - 从 Web 浏览器应用程序读取和写入套接字

> ID：13308100
> 
> 赞同：0
> 
> 时间：2012-11-09T12:29:03.373
> 
> 标签：javascript, c++, browser, tcp, future-proof

我需要与之交谈的服务器通过 TCP/IP 发布协议，用于从数据库查询数据并侦听套接字以在数据更新时接收通知。服务器提供了一个使用此 TCP 协议的 Java API。这意味着我*可以*轻松编写一个 Swing 应用程序来与该服务器通信。

我想要一个基于浏览器的解决方案。由于我知道该协议，我可以在 JavaScript 中执行此操作吗？我的应用程序必须在表格中显示数据。我听说过 Web Sockets，但我不确定它是否允许这种双向通信。*可行*吗？有没有更好的跨平台方法可以在大多数浏览器中使用？我是否应该考虑在浏览器中运行基于 Java Swing 的解决方案？

编辑：如何更改我的 C++ 服务器中的代码以添加我的 Javascript 代码可以直接与其通信的附加接口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:37:13.147

WebSocket 协议不同于 TCP/IP 套接字。你必须写一些东西把它们联系在一起。

您可以在 JavaScript 中完美地做到这一点：使用[Node.js](http://www.nodejs.org)。有足够的教程可以找到关于该主题的内容。将其链接到浏览器内 JS 的最佳方式是通过[Socket.IO](http://socket.io)。

*   创建一个连接到 api 的 Node.js 服务器
*   让服务器与您的 Web 应用程序对话
*   用它 ：）

这将适用于跨平台和跨浏览器（即使在 IE6（！！）上，Socket.IO 也可以使用/模拟 websockets）。不过，您必须运行一个服务器应用程序（Node.js 应用程序）。

我个人的看法是，如果你想要一个基于 Web/浏览器的解决方案，你应该使用原生技术，而不是 Java。

希望这可以帮助 ：）

# java - instanceof 类参数

> ID：13308102
> 
> 赞同：24
> 
> 时间：2012-11-09T12:29:09.263
> 
> 标签：java, instanceof

我正在尝试编写一个方法来返回与它作为参数获取的类匹配的所有对象：

```
public class Scenario extends View {

    ...

    private Actor[] actors = new Actor[1024];

    ...

    public Actor[] getActors(Class<?> cls) {
        //Count actors corresponding to class cls
        int cnt = 0;      
        for (int i = 0; i<actorsCount; i++)
           if (actors[i] instanceof cls) cnt++; 

        //Build a new array;
        Actor[] clsActors = new Actor[cnt];

        //Fill it
        for (int j = 0, k=0; j<cnt; k++)
           if (actors[k] instanceof cls)
              clsActors[j++] = actors[k];

        return clsActors;
    }
} 
```

但是，我收到一个错误：**“- 不兼容的操作数类型 boolean 和 Class＜capture#1-of ? extends Scenario＞”**

“演员”由我的精灵扩展，比如鸟、英雄等。例如，这个想法是在给定时间获取场景中所有鸟的列表以进行一些计算。

知道这里发生了什么吗？如何测试给定对象是否是给定类的实例？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-11-09T12:46:46.163

```
import java.util.Arrays;

public class Main
{
    static class Actor {}
    static class Frog extends Actor {@Override public String toString() {return "I'm a frog";}}
    static class Lizard extends Actor {@Override public String toString() {return "I'm a lizard";}}

        private static Actor[] actors;        

        public static Actor[] getActors(Class<?> cls) {
            //Count actors corresponding to class cls
            int cnt = 0;      
            for (int i = 0; i<actors.length; i++)
               if (cls.isInstance(actors[i])) cnt++; 

            //Build a new array;
            Actor[] clsActors = new Actor[cnt];

            //Fill it
            for (int j = 0, k=0; j<cnt; k++)
                    if (cls.isInstance(actors[k]))
                  clsActors[j++] = actors[k];

            return clsActors;
        }

    public static void main(String[] args)
    {
            actors = new Actor[] {new Frog(), new Lizard()};
            System.out.println(Arrays.toString(getActors(Frog.class)));
    }
} 
```

输出：

```
[I'm a frog] 
```

编辑：使用列表的更优雅的 getActors() 版本：

```
 public static Actor[] getActors(Class<?> cls) {
        LinkedList<Actor> chosenActors = new LinkedList<Actor>();           
        for(Actor actor: actors) if(cls.isInstance(actor)) chosenActors.add(actor);                         
        return chosenActors.toArray(new Actor[0]);
    } 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-11-09T12:32:26.657

尝试这个：

```
cls.isInstance(yourObject) 
```

而不是使用`instanceof`运算符，只有在编译时知道该类时才能使用该运算符。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-09T12:33:27.390

`instanceof`只能与类文字一起使用。你需要使用[`Class.isInstance()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29)，即

```
if (cls.isInstance(actors[k])) 
```

# ios - iOS：NSXMLParserErrorDomain 错误 4、5 和 73

> ID：13308103
> 
> 赞同：0
> 
> 时间：2012-11-09T12:29:13.403
> 
> 标签：ios, xcode, nsurlconnection, nsxmlparser, grand-central-dispatch

在我的应用程序中，我有一个，它使用、GCD 和`UISearchBar`实时解析结果。在 WiFi 和 3G 中一切正常，但在 EDGE 中，我得到了标题中描述的错误。`NSURLConnection``NSXMLParser`

解析器在连接后立即启动`didReceiveData`。任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:37:50.713

您应该在 connectionDidFinishLoading: 被触发时开始解析。在 didReceiveData 中只是连接接收到的数据。请参阅文档： [https ://developer.apple.com/library/mac/#documentation/Foundation/Reference/NSURLConnectionDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intf/NSURLConnectionDelegate](https://developer.apple.com/library/mac/#documentation/Foundation/Reference/NSURLConnectionDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intf/NSURLConnectionDelegate)

# google-apps-script - Google 应用脚本：ContentService 网络应用使用情况

> ID：13308106
> 
> 赞同：1
> 
> 时间：2012-11-09T12:29:21.640
> 
> 标签：google-apps-script, google-gadget

我现在被困了 3 天，试图让 2 个谷歌小工具在谷歌网站上可靠地通信，以根据 UiInstance.getId() 值交换匿名用户会话信息。由于不推荐使用小工具到小工具的 pubsub 功能，因此我尝试使用服务器小工具中的 ContentService 来服务来自客户端小工具的 doPost 请求 - 想法是，我将会话信息存储在服务器小工具中并拉将数据放入网站其他页面上的小工具中 - 不确定这是否可能。

但是，我什至试图修补 StackOverflow 上发布的 ContentService 上的各种示例。我被困在一个非常基本的步骤中，无法超越下面的超级简单的服务器代码。我无法弄清楚我需要从客户端小工具中使用的服务器小工具的 URL 是什么。我似乎得到了令人困惑的结果。

服务器代码：

```
function doGet(e) {
  var output = ContentService.createTextOutput();
  output.setContent("Hi from ContentServer!");
  return output;
} 
```

我遵循的步骤：

1) 将服务器发布为 Web 应用程序并进行设置，以便任何人/匿名者都可以访问它。

2) 发布窗口弹出窗口显示该小工具可在 [https://script.google.com/macros/s/AKfycbyIa07kBC-gqG0nJq3Up5GzUntbTaYcM1KmaYF7vQvFIWN_qxA/exec获得](https://script.google.com/macros/s/AKfycbyIa07kBC-gqG0nJq3Up5GzUntbTaYcM1KmaYF7vQvFIWN_qxA/exec)

3) 如果我使用浏览器打开链接，我会得到“Unknown macro doGet”。

4）如果我点击“测试您的最新代码的网络应用程序”给出的链接。from the publish window popup, it seems to take me to [https://script.googleusercontent.com/echo?user_content_key=WwuWW_Hhp2wlHpHWsX-qAwu7jtKrwlt1fkkesojKEWeJXKm5AoUOhuRHxu4RIHLrWovOBUsHhOB3No0RYr05RE4tWtliFlXKm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnG5I1NuldcVdfVF6dOROkmljXtr0dWIARhfeRbamxWJIIJeMc5tWnrGPpehwqDtynQ&lib=MfYY3NqJ0IdcpreIfwd3uwgmzn1S_adTp](https://script.googleusercontent.com/echo?user_content_key=WwuWW_Hhp2wlHpHWsX-qAwu7jtKrwlt1fkkesojKEWeJXKm5AoUOhuRHxu4RIHLrWovOBUsHhOB3No0RYr05RE4tWtliFlXKm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnG5I1NuldcVdfVF6dOROkmljXtr0dWIARhfeRbamxWJIIJeMc5tWnrGPpehwqDtynQ&lib=MfYY3NqJ0IdcpreIfwd3uwgmzn1S_adTp)

第 4 步中的上述链接可在浏览器中使用，但在我的客户端小工具中非常不稳定！它似乎在我第一次版本并发布它时起作用，但如果我更新版本一次，它就会返回原始 HTML。

我相信我错过了一些微不足道的步骤，或者网络应用小工具存在严重的版本控制或部署错误。

我在 stackoverflow 上查看了以下非常有用的线程。 [如何使用 ContentService 和 doPost 创建 REST API](https://stackoverflow.com/questions/11935420/how-to-use-contentservice-and-dopost-to-create-a-rest-api)

KamilG 似乎已经克服了这里的[问题 Google Apps 脚本的另一个 doGet() 问题 - “未知宏 doGet”错误](https://stackoverflow.com/questions/11487439/another-doget-issue-with-google-apps-script-unknown-macro-doget-error)

但它对我来说非常不稳定，我无法确定任何可靠的程序来让 ContentService 从我的服务器小工具中工作。

任何帮助和解释将不胜感激。

这是我的客户端小工具代码。

```
function doGet(e) {
//  var url = "https://script.google.com/macros/s/AKfycbyIa07kBC-gqG0nJq3Up5GzUntbTaYcM1KmaYF7vQvFIWN_qxA/exec";
  //var url = "https://script.googleusercontent.com/echo?user_content_key=9tzQxTSPm8ADsHKl4bCg6ru-49C19kYZCW8IRuWiWi-Xe_lTlQZS4xq8v5aPqjR6Ybj7-xjjJXyQPhOH0T3KFtJUtXc7U-Dkm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnJlCLn2pnKC0O1TYz53ccgjxtVC9ccM8kFegFJ0AJSK_YP_ylqfjfm1EU_BUbZUu-88PMDJ6xpj8&lib=MTLHdJRs3UPYj3bYgbhBNnNGZ7UmftE34";
  var url = "https://script.googleusercontent.com/echo?user_content_key=LvlwGkBktQ732xyD1HJbh5OhMsuhkidt_rOovw-olm-wJQF4LlErMDSxsfDaAb4UBYqOeTI3-8soIBj-KaOCDi0WlUav4Nl_m5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnG5I1NuldcVdfVF6dOROkmljXtr0dWIARhfeRbamxWJIIJeMc5tWnrGPpehwqDtynQ&lib=MfYY3NqJ0IdcpreIfwd3uwgmzn1S_adTp";

  // WELL ONE OF THE URLS WORKS FROM ABOVE!!! BUT ONLY TILL I UPDATE THE SERVER WEB APP VERSION :(

  var app = UiApp.createApplication().setTitle("ClientService Client test");
  app.setStyleAttribute("background", "azure");

  var fetchMethod = 'get';
  var response = UrlFetchApp.fetch(url, {method: fetchMethod});

  //var lbl = app.createHTML("<b>Response :</b>" + response.getContentText());
  var lbl = app.createTextArea().setText(response.getContentText());

  var lbl1 = app.createHTML("<b>Response code :</b> "
                            + response.getResponseCode()); 

  app.add(lbl);
  app.add(lbl1);
  return app;
} 
```

请帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T14:10:38.037

这在大多数情况下都按预期运行，但我认为可能有一些替代方案。

1.  关于您的第 3 点 - 上面的那个 URL 有效。您测试的版本一定有问题（也许您没有正确声明 doGet？）。
2.  #4 中的链接是一次性使用重定向，当您使用内容服务时会发生这种情况。请参阅底部[的](https://developers.google.com/apps-script/content_service?hl=en)重定向部分。这个链接是短暂的，你可能很快就可以在浏览器中捕捉到它，但另一个单独的调用客户端（“小工具”）可能就没那么幸运了。所以你永远不应该直接调用 googlecontentservice.com 链接。
3.  关于 ContentService 片状的整体问题，我还没有看到这一点。如果我正确使用 /exec 链接，然后在每次适当的更改后正确增加版本，那么一切都会按预期工作。

我构建了一个简单的 Web 应用程序来访问您的内容服务，并且对我来说一切似乎都很好。见下文。该代码看起来与您的相同，但我使用的是第一个 url。

[https://script.google.com/macros/s/AKfycbw6nlfv5ME6F3Z2WBdW24YAgfQm_E5gYV0xrMDvDwZLrX7PdMU/exec](https://script.google.com/macros/s/AKfycbw6nlfv5ME6F3Z2WBdW24YAgfQm_E5gYV0xrMDvDwZLrX7PdMU/exec)

作为替代方案 - 您是否有理由从一个脚本到另一个脚本执行服务器端 UrlFetch？如果您可以获取数据服务器端，您可以只在 UI 脚本中执行内容脚本的逻辑吗？

# android - 如何从 Phonegap 打开 Google Play 商店

> ID：13308107
> 
> 赞同：1
> 
> 时间：2012-11-09T12:29:23.610
> 
> 标签：android, ios, cordova, google-play, itunes

我想从我的 phonegap 应用程序打开 google play 商店来安装另一个通知应用程序。怎么可能做到这一点？我猜ios很容易通过URL导航方案。但是 google 并不支持所有的 url 导航方案。我只检查了推特正在使用它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:35:47.803

您可以打开此应用程序的 URL，当用户单击下载时，它将重定向它的播放商店应用程序。

看这个[链接](https://stackoverflow.com/questions/7755275/phonegap-android-app-open-links-within-app)

或者您可以使用其中之一：

```
window.location.href("http://stackoverflow.com") 
```

或者

```
window.open("http://stackoverflow.com") 
```

或者你直接启动它看看这个例子和文档： [文档](http://developer.android.com/guide/components/intents-filters.html)

[例子](https://github.com/phonegap/phonegap/wiki)

# wpf - WPF边框动画不起作用

> ID：13308108
> 
> 赞同：0
> 
> 时间：2012-11-09T12:29:25.370
> 
> 标签：wpf

我正在尝试将动画放在边框上，如下所示

```
 <LinearGradientBrush x:Key="RedButtonBrushUp" StartPoint=".5,0" EndPoint=".5,1">
        <GradientStop Color="#ffaaaa" Offset="0"/>
        <GradientStop Color="#cc6666" Offset="0.6"/>
        <GradientStop Color="#bb2222" Offset="1"/>
    </LinearGradientBrush>

    <LinearGradientBrush x:Key="ButtonBrushUp" StartPoint=".5,0" EndPoint=".5,1">
        <GradientStop Color="#aaccff" Offset="0"/>
        <GradientStop Color="#7799ff" Offset="0.6"/>
        <GradientStop Color="#555599" Offset="1"/>
    </LinearGradientBrush>

<Border x:Name="BorderUp" BorderThickness="2,2,2,2" CornerRadius="4,4,4,4" Background="{StaticResource RedButtonBrushUp}">
                    <Border.Triggers>
                        <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                                <Storyboard >
                                    <DoubleAnimation Storyboard.TargetName="BorderUp"
                                     Storyboard.TargetProperty="Background"
                                     RepeatBehavior="Forever"
                                     AutoReverse="True"
                                     To="{StaticResource ButtonBrushUp}"
                                     Duration="0:0:0.5" ></DoubleAnimation>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Border.Triggers>
                </Border> 
```

但它说 {StaticResource ButtonBrushUp} 是无效的类型。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:53:02.573

To 不能接受渐变画笔停止所需的这种更改。

这是您正在尝试做的一个工作示例

```
 <Window.Resources>
        <Storyboard x:Key="OnLoaded1">
            <ColorAnimationUsingKeyFrames Storyboard.TargetProperty="(Border.BorderBrush).(GradientBrush.GradientStops)[1].(GradientStop.Color)" Storyboard.TargetName="myBorder">
                <EasingColorKeyFrame KeyTime="0:0:1" Value="#FFC53838"/>
            </ColorAnimationUsingKeyFrames>
        </Storyboard>
    </Window.Resources>
    <Window.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded" SourceName="myBorder">
            <BeginStoryboard Storyboard="{StaticResource OnLoaded1}"/>
        </EventTrigger>
    </Window.Triggers>
    <Grid>
 <StackPanel x:Name="stackPanel" Orientation="Vertical" HorizontalAlignment="Center">
    <Border x:Name="myBorder" Background="#99FFFFFF" BorderThickness="3"
    Margin="0,60,0,20" Padding="20"  >
        <Border.BorderBrush>
            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="Black" Offset="0"/>
                <GradientStop Color="White" Offset="1"/>
            </LinearGradientBrush>
        </Border.BorderBrush>
      <TextBlock>
        This example shows how to have a border change color after an initial load.
      </TextBlock>
    </Border>
  </StackPanel> 
```

# c# - 保存 UnitOfWork 时引发 EntityAddedEvent

> ID：13308122
> 
> 赞同：0
> 
> 时间：2012-11-09T12:30:21.123
> 
> 标签：c#, wpf, mvvm, repository-pattern, unit-of-work

我正在使用 UnitOfWork 和存储库模式。该架构是 MVVM，将 LINQ-to-SQL 类直接作为模型。以下代码片段显示了 Generic Repository、A Sample(City Repository) 和 UnitOfWork 类。

**通用存储库：**

```
public abstract class Repository<T> : IRepository<T> where T : class
    {
        protected Table<T> _objectSet;

        #region Constructor

        public Repository(DataContext context)
        {
            _objectSet = context.GetTable<T>();            
        }

        #endregion

        public virtual void Add(T entity)
        {
            _objectSet.InsertOnSubmit(entity);
        }
} 
```

**城市仓库：**

```
 public class CityRepository: Repository<City>
 {
        public CityRepository(DataContext context): base(context)
       {
             public override void Add(City entity)
             {
                  //Can't publish event here, because Changes 
                  //aren't still submitted to Database

                  base.Add(entity);
                  //CityAddedEventArgs e = new CityAddedEventArgs(entity);
                  //if (this.CityAdded != null)
                  //this.CityAdded(this, e);

             }
       }
 } 
```

**工作单元**

```
public class UnitOfWork : IUnitOfWork
{
        private readonly DataContext _context;

        public UnitOfWork(DataContext context)
        {
            _context = context;
        }

        #region IUnitOfWork Members

        public AddressRepository Addresses
        {
            get
            {
                if (_addresses == null)
                {
                    _addresses = new AddressRepository(_context);
                }
                return _addresses;
            }
        }

        public CityRepository Cities
        {
            get
            {
                if (_cities == null)
                {
                    _cities = new CityRepository(_context);
                }
                return _cities;
            }
        }

        public void Save()
        {
            _context.SubmitChanges();

           //Need to Raise event here if an entity is added, 
           //but don't know which entity is added !
        }

} 
```

现在。我想在将实体添加到数据库时发布一个事件，即在 UnitOfWork.Save() 方法上。例如，如果将 AddressEntity 添加到数据库中，则必须触发 AddressAdded 事件，如果将 CityEntity 添加到数据库中，则必须触发 CityAdded 事件。但是，在 SubmitChanges 之后我怎么知道将哪个实体添加到数据库中？

* * *

* * *

发布事件的唯一目的是让`ViewModel`知道一个实体被添加到数据库中，现在它可以添加`EntityViewModel`到它的`ObservableCollection<EntityViewModel>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:36:13.073

在您的 Save 方法中，您可以首先将添加的元素放在一个列表中，然后在 SubmitChanges() 之后使用该列表。类似的东西（我现在没有 Visual Sutdio，所以它可能无法编译）：

```
 public void Save()
    {
        var inserts = _context.GetChangeSet().Inserts.ToList();

        _context.SubmitChanges();

        foreach(var entityAdded in inserts)
        {
            //raise event
        }
    } 
```

# http - 网络服务器是否对获取请求施加字符限制

> ID：13308123
> 
> 赞同：0
> 
> 时间：2012-11-09T12:30:30.620
> 
> 标签：http, http-get

> **可能重复：**
> [HTTP GET 请求的最大长度？](https://stackoverflow.com/questions/2659952/maximum-length-of-http-get-request)

我有一个使用 GET 方法的 ajax 请求。

在一台服务器 (apache) 上，GET 请求可以处理 >512 个字符，但在另一台服务器上 512 是限制。

我正在使用相同的浏览器。

...顺便说一句，如果我使用 post 来执行 ajax 请求，则没有问题。

* * *

**编辑**

[www.w3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.15) ... *10.4.15 414 请求 URI 太长*

*服务器拒绝为请求提供服务，因为 Request-URI 比服务器愿意解释的要长。这种罕见的情况只有在客户端错误地将 POST 请求转换为具有长查询信息的 GET 请求时才可能发生，此时客户端已下降到重定向的 URI“黑洞”（例如，重定向的 URI 前缀指向本身的后缀），或者当服务器受到客户端的攻击时，客户端试图利用某些服务器中存在的安全漏洞，使用固定长度的缓冲区来读取或操作 Request-URI。*

# android - 无法运行 ActionBarSherlock

> ID：13308127
> 
> 赞同：5
> 
> 时间：2012-11-09T12:30:40.640
> 
> 标签：android, actionbarsherlock

我有一个 2.2 的 android 项目，我想添加 ActionBarSherlock。当我运行我的项目时，我得到了这个错误；

```
C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:4: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:6: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionBar.Solid'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:8: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:10: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.Solid'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:12: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.Solid.Inverse'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:15: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionBar.TabView'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:17: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.TabView'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:19: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.TabView.Inverse'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:89: error: Error: No resource found that matches the given name: attr 'android:dividerPadding'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:88: error: Error: No resource found that matches the given name: attr 'android:showDividers'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:22: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionBar.TabBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:24: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.TabBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:26: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.TabBar.Inverse'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:101: error: Error: No resource found that matches the given name: attr 'android:textAllCaps'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:29: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionBar.TabText'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:31: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.TabText'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:33: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionBar.TabText.Inverse'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:36: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionButton'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:38: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionButton'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:41: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionButton.CloseMode'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:43: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionButton.CloseMode'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:46: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionButton.Overflow'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:48: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionButton.Overflow'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:51: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ActionMode'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:53: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionMode'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:55: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ActionMode.Inverse'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:58: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.PopupMenu'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:60: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.PopupMenu'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:184: error: Error: No resource found that matches the given name: attr 'android:dividerPadding'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:183: error: Error: No resource found that matches the given name: attr 'android:showDividers'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:214: error: Error: No resource found that matches the given name: attr 'android:spinnerMode'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:63: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Spinner'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:65: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.Spinner'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:68: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ListView.DropDown'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:70: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ListView.DropDown'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:73: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.PopupWindow'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:75: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.PopupWindow'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:258: error: Error: No resource found that matches the given name: attr 'android:animationResolution'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:78: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ProgressBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:80: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ProgressBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:83: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ProgressBar.Horizontal'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:85: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ProgressBar.Horizontal'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:88: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.AutoCompleteTextView'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:90: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.AutoCompleteTextView'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:328: error: Error: No resource found that matches the given name: attr 'android:textAllCaps'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:93: error: Error 
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:117: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu.Large'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:119: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu.Small'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:121: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu.Small'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:4: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:6: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:4: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:8: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Light'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:10: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:6: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Light'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:8: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Light.DarkActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:14: error: Error: No resource found that matches the given name: attr 'android:actionBarWidgetTheme'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:22: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:26: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__themes.xml:196: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__themes.xml:197: error: Error: No resource found that matches the given name: attr 'android:windowActionModeOverlay'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__themes.xml:198: error: Error: No resource found that matches the given name: attr 'android:windowCloseOnTouchOutside'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:30: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Dialog'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__themes.xml:222: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__themes.xml:223: error: Error: No resource found that matches the given name: attr 'android:windowActionModeOverlay'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__themes.xml:224: error: Error: No resource found that matches the given name: attr 'android:windowCloseOnTouchOutside'.
[2012-11-09 13:54:53 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:32: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Light.Dialog'.
[2012-11-09 14:05:43 - testApp] Error in an XML file: aborting build.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:65: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.Spinner'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:68: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ListView.DropDown'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:70: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ListView.DropDown'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:73: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.PopupWindow'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:75: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.PopupWindow'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:258: error: Error: No resource found that matches the given name: attr 'android:animationResolution'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:78: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ProgressBar'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:80: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ProgressBar'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:83: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.ProgressBar.Horizontal'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:85: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.ProgressBar.Horizontal'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:88: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.AutoCompleteTextView'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:90: error: Error retrieving parent for item: No resource found that matches the given name 'android:Widget.Holo.Light.AutoCompleteTextView'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values\abs__styles.xml:328: error: Error: No resource found that matches the given name: attr 'android:textAllCaps'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:93: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionBar.Menu'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:96: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionBar.Title'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:98: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionBar.Title.Inverse'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:100: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionBar.Subtitle'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:102: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionBar.Subtitle.Inverse'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:104: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionMode.Title'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:106: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionMode.Title.Inverse'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:108: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionMode.Subtitle'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:110: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.ActionMode.Subtitle.Inverse'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:113: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:115: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu.Large'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:117: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu.Large'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:119: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu.Small'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__styles.xml:121: error: Error retrieving parent for item: No resource found that matches the given name 'android:TextAppearance.Holo.Widget.PopupMenu.Small'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:4: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:6: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:4: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:8: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Light'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v11\abs__themes.xml:10: error: Error: No resource found that matches the given name: attr 'android:windowActionBar'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:6: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Light'.
[2012-11-09 14:05:55 - testApp] C:\Users\vitaly\Downloads\ActionBarSherlock-4.2.0\ActionBarSherlock-4.2.0\library\res\values-v14\abs__themes.xml:8: error: Error retrieving parent for item: No resource found that matches the given name 'android:Theme.Holo.Light.DarkActionBar'. 
```

找到与给定名称“android:Theme.Holo.Light.Dialog”匹配的源。[2012-11-09 14:11:12 - testApp] XML 文件中的错误：正在中止构建。[2012-11-09 14:20:55 - testApp] XML 文件中的错误：正在中止构建。

和 xml fragment_sample.xml 的问题错误

```
Multiple annotations found at this line:
    - Element type "xmlns:android" must be followed by either attribute specifications, ">" 
     or "/>".
    - Attribute is missing the Android namespace prefix : 
```

和 fragment_sample.xml 是

```
<?xml version="1.0" encoding="utf-8"?>
<xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical" android:layout_width="match_parent"
android:layout_height="match_parent">
<android:name="com.test.sherlock.SherlockSimpleFragment"
android:id="@+id/list" android:layout_weight="1" android:layout_width="match_parent"
android:layout_height="match_parent" /> 
```

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-29T04:50:44.640

当您在项目中使用操作栏 Sherlock 时，请确保，

步骤1：

您正在构建一个 android 版本 4.0 或更高版本的项目。要检查您是否正在构建 4.0 或更高版本，请转到属性 -> android -> 检查项目构建路径到 4.0 或更高版本。

第2步：

清理你的项目

这应该可以解决您的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T12:35:56.420

您可能尝试使用错误的 Android SDK 版本构建项目。尝试使用 4.1 (API lvl 16) 构建它。您可以在 Eclipse 中的项目属性 -> Android 选项卡中更改它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-23T21:00:58.280

在我看来，xml 格式不正确。这里发生了一些事情。

您没有指定所需的视图类型，因此将其`xmlns:android`作为元素（视图）类型。这会使解析器感到困惑，因为元素不能等于任何东西（即元素不能等于 url）。

然后它抱怨你没有声明命名空间（因为它用完了然后试图声明一个元素等于某物）。

最后，看起来第一个元素没有关闭。

更正它应该像在设置命名空间之前创建适当的元素/视图类型一样简单，然后确保所有元素都正确终止。

```
<?xml version="1.0" encoding="utf-8"?>
<SomeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <android:name="com.test.sherlock.SherlockSimpleFragment"
        android:id="@+id/list"
        android:layout_weight="1"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />
</SomeLayout> 
```

看起来意图是`SomeLayout`成为 a `LinearLayout`，但它可以是任何类型的布局，因为您只是将它用作容器，我猜您会想要`FrameLayout`，但是有充分的理由选择其他类型的布局。

其他一些与问题无关的观点。

*   `android:orientation`仅用于`LinearLayout`
*   您不需要在视图上指定权重，因为您使用的是匹配父级。`LinearLayout`如果包装元素是 a ，并且您试图使视图占据屏幕的百分比，则只需要使用它。
*   因为这个布局非常简单，你也可以将片段直接附加到它的父布局

# python - 在 NumPy 中检索具有频率数组的数组元素

> ID：13308131
> 
> 赞同：2
> 
> 时间：2012-11-09T12:31:00.373
> 
> 标签：python, numpy

我有一个数字数组，`a`. 我有第二个数组，`b`指定我想在 中检索相应元素的次数`a`。如何做到这一点？在这种情况下，输出的顺序并不重要。

```
import numpy as np

a = np.arange(5)
b = np.array([1,0,3,2,0])

# desired output = [0,2,2,2,3,3]
# i.e. [a[0], a[2], a[2], a[2], a[3], a[3] ] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T12:37:35.987

那正是这样`np.arange(5).repeat([1,0,3,2,0])`做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:36:11.963

一种非常低效的方法是：

```
import numpy as np

a = np.arange(5)
b = np.array([1,0,3,2,0])

res = []
i = 0
for val in b:
    for aa in range(val):
        res.append(a[i])
    i += 1
print res 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:38:30.327

这是一种方法：

```
res = []
for i in xrange(len(b)):
    for j in xrange(b[i]):
        out.append(a[i])

res = np.array(res)  # optional 
```

# symfony - 如何使用渲染将多个变量从树枝传递到 symfony 控制器操作

> ID：13308138
> 
> 赞同：0
> 
> 时间：2012-11-09T12:31:40.873
> 
> 标签：symfony, twig

我正在尝试从树枝中呈现一个动作以列出表格的结果。第一个变量通过正常，我正在填充列表，但第二个变量没有到达。

```
{% render 'RiskAssessmentBundle:Assessment:assessmentlist' with {'offenderId': entity.getId, 'assessmentStatus': 'Complete' } %} 
```

以上是我的树枝模板中的渲染调用。offenderId 带着一个值到达。

```
 /**
 * List widget
 *
 * @param int $offenderId   id of the offender
 * @param string $assessmentStatus   const value of desired status
 *
 * @Template("RiskAssessmentBundle:Assessment:assessmentlist.html.twig")
 */
public function assessmentlistAction($offenderId, $assessmentStatus = null)
{
    var_dump($assessmentStatus);
    $em = $this->getDoctrine()->getEntityManager();

    $offender = $em->getRepository('RiskOffenderBundle:Offender')->find($offenderId);

    if (is_null($assessmentStatus)) {
        $assessments = $em->getRepository('RiskAssessmentBundle:Assessment')
            ->findAllByActive(true, $offenderId, 5);
    } else {
        $assessments = $em->getRepository('RiskAssessmentBundle:Assessment')
            ->findAllByStatus($assessmentStatus, $offenderId, 5);
    }

    return array(
        'assessments' => $assessments,
        'offender' => $offender,
    );
} 
```

以上是调用的动作。$assessmentStatus 的 var_dump 始终为 NULL。我是 symfony 的新手，但是我能找到的每一个文档都让我觉得这应该可以工作。任何人都知道我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:17:38.600

The above code works perfectly. We have an extension system running and the entire twig template had been extended. The render I modified was not the render being called. Once I modified the other template it all works perfectly.

# android - 两个 ListView 和一个按钮

> ID：13308139
> 
> 赞同：0
> 
> 时间：2012-11-09T12:31:50.430
> 
> 标签：android, listview, button, scroll

我正在做一个 android 应用程序，我想将布局分成 3 个部分，如下所示：

![在此处输入图像描述](../Images/207fa13d986fa7fd9550dae8f710cef3.png)

但现在按钮位于第二个列表视图上方，但位于屏幕底部，我不知道为什么。

我不知道我是否必须使用relativeLayout 或linearLayout 来包含listviews，并且文本在relativelayout/linearLayout 内部或外部，最后一个按钮是什么？

这是我的代码：

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
       android:layout_width="fill_parent"
       android:layout_height="fill_parent"
       android:orientation="vertical" >

   <TextView android:id="@+id/imageSelected"
          android:text="@string/imgSelected"
          android:layout_width="wrap_content"
              android:layout_height="fill_parent"
              android:layout_marginBottom="3dip"/>

   <LinearLayout 
     android:id="@+id/linearLayoutImagenes"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_alignParentTop="true"
     android:layout_below="@+id/imageSelected" >

   <ListView
      android:id="@+id/listaFusionPhotos"
      android:layout_width="fill_parent"
      android:layout_height="fill_parent" 
      />

   </LinearLayout >

    <TextView android:id="@+id/nameSelected"
          android:text="@string/namSelected"
          android:layout_width="wrap_content"
          android:layout_height="fill_parent"
          android:layout_below="@+id/linearLayoutImagenes"
          android:layout_marginBottom="3dip"/>

<LinearLayout  
  android:id="@+id/linearLayoutNombres"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_alignParentTop="true"
      android:layout_below="@+id/nameSelected"
      >

    <ListView
       android:id="@+id/listaFusionNombres"
       android:layout_width="fill_parent"
       android:layout_height="fill_parent"/>

   </LinearLayout >

   <Button
      android:id="@+id/fusion"
      android:layout_width="160dip"
      android:layout_height="wrap_content"
      android:layout_below="@+id/linearLayoutNombres"
      android:layout_marginTop="3dip"
      android:text="Fusionar" 
      android:onClick="Mostrar_Registrados"
      android:layout_alignParentBottom="true"/>

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T12:43:34.847

试试这个。这看起来和图片一模一样。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
android:weightSum="11" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="0dp"
    android:text="Medium Text"
    android:textAppearance="?android:attr/textAppearanceMedium" 
    android:layout_weight="1"/>

<ListView
    android:id="@+id/listView1"
    android:layout_width="fill_parent"
    android:layout_height="0dp" 
    android:layout_weight="4">
</ListView>

<TextView
    android:id="@+id/textView2"
    android:layout_width="wrap_content"
   android:layout_height="0dp"
    android:layout_weight="1"
    android:text="Medium Text"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<ListView
    android:id="@+id/listView2"
    android:layout_width="fill_parent"
    android:layout_height="0dp" 
    android:layout_weight="4">
</ListView>

<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="0dp"
    android:layout_weight="1"
    android:text="Button" />

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:40:32.197

```
<LinearLayout  
     android:id="@+id/linearLayoutNombres"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_alignParentTop="true"
      android:layout_below="@+id/nameSelected"
      android:layout_above="@+id/fusion" // "line added"
>
    <Button
      android:id="@+id/fusion"
      android:layout_width="160dip"
      android:layout_height="wrap_content"
      android:layout_below="@+id/linearLayoutNombres" --> "remove this line"
      android:layout_marginTop="3dip"
      android:text="Fusionar" 
      android:onClick="Mostrar_Registrados"
      android:layout_alignParentBottom="true"/> 
```

# oracle11g - 在 UCM 中签入页面自定义 - 添加元数据复选框

> ID：13308143
> 
> 赞同：0
> 
> 时间：2012-11-09T12:32:07.623
> 
> 标签：oracle11g, oracle-ucm

我想允许用户为一个元数据选择多个选项，我们需要提供相同的复选框。我已经修改了相应的包含并添加了 java 脚本，但是有些值没有分配给元数据：我已经修改了包含并添加了 JS 如下，但是元数据没有被分配到选定的值，谁能告诉我我哪里出错了：

```
 <script type="text/javascript">
           function getSelected(Language) {
                                       var selected = new Array();
                                       var index = 0; for (var intLoop=0; intLoop < Language.length; intLoop++) {
                                       if (Language[intLoop].selected) {             index = selected.length;        
                                                                       selected[index] = new Object;    
                                                                       selected[index].value = Language[intLoop].value;          
                                                                        selected[index].index = intLoop;         }      }      
                                                                            return selected;
                                                                           }
function submit(selected)
{
var value =selected;
xTranslateTo = value;
}
</script>
<$if strEquals(fieldName, "xTranslateTo") and not (isInfo or isQuery)$>
<tr <$strTrimWs(inc("std_nameentry_row_attributes"))$>>
<td <$if captionFieldWidth$>width="<$captionFieldWidth$>"<$endif$> <$if isInfo$>align=right<$endif$>><$strTrimWs(inc(fieldCaptionInclude))$></td>
<td <$if isFieldInfoOnly$>colspan="100"<$endif$> <$if captionEntryWidth$>;width="<$captionEntryWidth$>"<$endif$>><$inc(fieldEntryInclude)$>

<INPUT TYPE=CHECKBOX  NAME="Language" VALUE="English">English
<INPUT TYPE=CHECKBOX  NAME="Language" VALUE="Italian">Italian
<INPUT TYPE=CHECKBOX  NAME="Language" VALUE="French">French
<INPUT TYPE=CHECKBOX  NAME="Language" VALUE="German" >German</td>
</tr>
 <a href="javascript:;" onclick=" getSelected()">
<$else$>
<$include super.std_nameentry_row$>
<$endif$> 
```

任何人都可以阐明我哪里出错了

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T12:58:54.873

我想你的问题是这一行：

```
xTranslateTo = value; 
```

IDOC 在服务器端运行，因此在客户端的 JS 中无法访问所有元数据变量。现在您的脚本只是设置名为“xTranslateTo”的本地 JS 变量的值，仅此而已。

您需要创建隐藏字段“xTranslateTo”并将其填充到您的 JS 中，而不是这个局部变量。一旦在提交期间发送此隐藏字段，它将在服务器端解析并放入相应的元字段。

当然，它还需要对 IDOC 进行额外的解析，以设置先前选择的语言的复选框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:29:36.190

我能够显示复选框并将逗号分隔值分配给元数据，现在我要做的就是在用户调用更新元数据表单时显示复选框。

```
<$if strEquals(fieldName, "xLang") and not (isInfo or isQuery)$>
<script>
function boxFunc()
{
    var textval=document.getElementsByName('xLang')[0];
        var langs=document.getElementsByName("ucmlang");
        larray="";
            for(i=0;i<langs.length;i++)
          {
             if(langs[i].checked)
                   {
                     larray=larray+langs[i].id+",";
                   }
      }
           larray=larray.substring(0,larray.length-1);
          textval.value=larray;

}
</script>
<tr <$strTrimWs(inc("std_nameentry_row_attributes"))$>>
<td<$if captionFieldWidth$>width="<$captionFieldWidth$>"<$endif$> <$if isInfo$>align=right<$endif$>><$strTrimWs(inc(fieldCaptionInclude))$></td>
<td <$if isFieldInfoOnly$>colspan="100"<$endif$> <$if captionEntryWidth$>;width="<$captionEntryWidth$>"<$endif$>><$inc(fieldEntryInclude)$></td>
<td><!– addition –&gt;English<!– end addition –&gt;<input type="checkbox"  name="ucmlang"  id = "English" onclick="boxFunc()">
<td><!– addition –&gt;French<!– end addition –&gt;<input type="checkbox"  name="ucmlang"  id = "French" onclick="boxFunc()"></td>
<td><!– addition –&gt;Italian<!– end addition –&gt;<input type="checkbox"  name="ucmlang"  id = "Italian" onclick="boxFunc()"></td>
<td><!– addition –&gt;German<!– end addition –&gt;<input type="checkbox"  name="ucmlang"  id = "German" onclick="boxFunc()"></td>
<td><!– addition –&gt;Japanese<!– end addition –&gt;<input type="checkbox"  name="ucmlang"  id = "Japanese" onclick="boxFunc()"></td>
</tr>
<$else$>
<$include super.std_nameentry_row$>
<$endif$> 
```

# bash - 如何获取第一个可用的 TCP 端口来监听？

> ID：13308144
> 
> 赞同：9
> 
> 时间：2012-11-09T09:52:56.557
> 
> 标签：bash, networking, tcp, port

出于测试目的，我想将我的服务附加到某个 TCP 端口。然后，我将调用此端口，确保服务正常工作，然后将其关闭。我需要找到一种方法来生成这样的端口号，因为我不能使用固定的端口号 - 测试可以并行运行。可能吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T12:27:29.377

我就是这样做的：

```
#include <stdio.h>
#include <errno.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>

int main() {
    struct sockaddr_in addr;
    socklen_t len = sizeof(addr);
    addr.sin_port = 0;
    int sock = socket(AF_INET, SOCK_STREAM, 0);
    if (sock < 0) {
        perror("socket()");
        return -1;
    }
    if (bind(sock, (struct sockaddr*) &addr, sizeof(addr)) != 0) {
        perror("bind()");
        return -1;
    }
    if (getsockname(sock, (struct sockaddr*) &addr, &len) != 0) {
        perror("getsockname()");
        return -1;
    }
    printf("%d\n", addr.sin_port);
    return 0;
} 
```

然后，编译并运行：

```
cc -o reserve reserve.c && ./reserve 
```

它输出端口号，可用于绑定。

我在 Github 上发布了该工具的完整版本：[https ://github.com/yegor256/random-tcp-port](https://github.com/yegor256/random-tcp-port)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T20:45:32.000

绑定时只需指定端口零；然后用于`getsockname()`找出分配了哪个端口，这样您就可以通过其他方式告诉您的客户您正在侦听哪个端口。很少有用。

# android - 如何减小透明位图大小（不是尺寸）

> ID：13308153
> 
> 赞同：3
> 
> 时间：2012-11-09T12:32:46.937
> 
> 标签：android, image-processing, bitmap, transparency, out-of-memory

在我的 android 应用程序中，我正在处理画布位图（实际上它是来自三星 SPen SDK 的 SCanvas，但没关系），通常这种位图的 90-95% 区域是透明的，所以我希望不会太大位图大小（KB）。但似乎位图大小（以 KB 为单位）并不取决于它是简单的背景还是复杂的图片，例如，如果我有两张图片（对不起，我是新用户，我不能发布任何图片）：

1）空框（1000x700 px，背景透明，彩色边框）

2）全画幅（1000x700 px，背景透明，彩色边框，里面有很多文字）

两个位图的大小约为 1.3MB。

但是如果我将这些位图转换为字节数组，第一个数组的大小大约是第二个数组大小的 11 倍。

我必须在数据库中存储很多这样的图像作为 BLOB 并将它们显示为 ImageView 位图。

**问题 1**：如果我需要显示 20 个具有 95% 透明图像的 ImageView 对象，有没有办法不同时使用 20 * 1.3MB？对我来说，它似乎应该只有 1 个 alpha 层 + 20 个“数据”层。

**问题 2**：有什么方法可以在不损失太多质量的情况下减小具有透明度的图像的大小（以 KB 为单位）？我看到的唯一方法是使用 inSampleSize = 2 解码图像字节数组，然后创建一个缩放位图以保持原始图像尺寸，例如：

```
originalBitmap.compress(Bitmap.CompressFormat.PNG, 0, stream);
byte[] bitmapBytes = stream.toByteArray();
BitmapFactory.Options options = new BitmapFactory.Options();
options.inJustDecodeBounds = true;
BitmapFactory.decodeByteArray(bitmapBytes, 0, bitmapBytes.length, options);
int bWidth = options.outWidth;
int bHeight = options.outHeight;
options.inSampleSize = 2;
options.inPreferredConfig = Bitmap.Config.ARGB_4444;
options.inJustDecodeBounds = false;
Bitmap scaledBitmap = BitmapFactory.decodeByteArray(bitmapBytes, 0, bitmapBytes.length, options);
Bitmap finalBitmap = Bitmap.createScaledBitmap(scaledBitmap, bWidth, bHeight, true); 
```

但是不管我使用什么选项（inPreferredConfig、inDither），finalBitmap 的质量都是不可接受的。

关于处理具有大约 90% 的简单透明背景和 10% 的单色“数据”的图像的最佳方法，还有其他想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:55:32.930

无论您使用什么格式，在显示之前它总是以原始未压缩（解码）数据结束，如果它没有被解码，您将无法在显示器上看到它。如果您担心内存，请尽量不要一直解码所有图像，只需解码您必须显示的图像，并始终释放其他图像（不要保留对它们的引用）。

# bash - shc 加密的 shell 脚本不可执行

> ID：13308157
> 
> 赞同：0
> 
> 时间：2012-11-09T12:33:07.917
> 
> 标签：bash, encryption, portability

我使用该工具创建了一个加密的 shell 脚本`shc`。该脚本在我的计算机上运行良好，但是当我将其传输到另一台计算机（solaris 10 到 solaris 10）时，出现以下错误： `invalid argument` 这不是权限问题，加密脚本应该没问题，我猜这是头文件/编译器问题。

使用的`shc`命令是`shc -rf <filename>`脚本应该在另一台计算机上运行！？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-28T06:08:07.893

根据[The Geek Stuff](http://www.thegeekstuff.com/2012/05/encrypt-bash-shell-script/)，您需要使用 -r 选项来放松安全性，并使用 -f 来指定脚本文件：

```
shc -r -f script.sh 
```

# ms-access - 一次保存多条记录访问表单

> ID：13308160
> 
> 赞同：0
> 
> 时间：2012-11-09T12:33:18.213
> 
> 标签：ms-access

如何制作一次保存多条记录的表单。我想为每个客户一次付款。我有三个表：付款、客户和价格。我有三种价格。价格是根据年龄确定的。这个价格是自动计算的。

示例：表格付款

我想与客户有一个子表单，每个客户都有一个自动计算的付款价格。已付款客户的子表单： - 客户 ID：1 价格：20 - 客户 ID：2 价格：15 - 客户 ID：3 价格：40

使用此表格，我想为每个客户付款，即在 subfrom 中。我想立即做到这一点：

付款： - 订单 ID：1 客户 ID 1 价格 20 - 订单 ID：2 客户 ID 2 价格 15 - 订单 ID：3 客户 ID 3 价格 40

这将被发送到餐桌付款。

有人知道我该如何解决这个问题？

# java - 引用一个字符串变量给了我一串数字

> ID：13308162
> 
> 赞同：-1
> 
> 时间：2012-11-09T12:33:20.663
> 
> 标签：java, android, string, reference

我正在尝试引用存储在 .xml 文件中的字符串，每次引用它时，我都会得到一串数字。

```
 if (Medals.medal_counter1 == 0) {
            Medals.medal_counter1++;
            victory.setMessage("you won " + R.string.medal01);

        }
                     victory.show(); 
```

这是存储的字符串。

```
<string name="medal01">&quot;A medal&quot;</string> 
```

我实际得到的对话框更像这样，

“你赢了 21310334567”

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T12:35:56.777

那是因为您正在获取字符串资源的 ID。如果要检索实际的字符串内容，则需要使用`Context.getString(int resourceId)`方法。

例如，从 Activity 内部：

```
victory.setMessage("you won " + getString(R.string.medal01)); 
```

除此以外：

```
victory.setMessage("you won " + victory.getContext().getString(R.string.medal01)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:36:49.880

试试这个

```
getResources().getString(R.string.medal01); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T12:37:18.810

**-**您指的是使用文件`R.string.medal01`中的公共静态最终整数值`R.java`。

**- 改用以下：**

```
victory.setMessage("you won " + getString(R.string.medal01)); 
```

# gwt - GWT和GXT问题与HTML片段中的javascript

> ID：13308164
> 
> 赞同：0
> 
> 时间：2012-11-09T12:33:25.983
> 
> 标签：gwt, gxt

当我在 Gxt 中集成设计师工作的 Html 代码时遇到一些问题，我决定运行非常简单的测试并从使用 Gwt HtmlPanel 开始，我无法解释为什么不呈现包含的 javascript。

```
public class TestHTML implements EntryPoint {

    public void onModuleLoad() {

        String contenu = "<html>"
         +"<head>"
        +" <script type='text/javascript'>"
        +"function functionOne() { alert('You clicked the top text'); }"
        +"function functionTwo() { alert('You clicked the bottom text'); }"
        +"</script>"
        +"</head>"
        +"<body>"
         +"<p><a href='#' onClick='functionOne();'>Top Text</a></p>"
         +"<p><a href='javascript:functionTwo();'>Bottom Text</a></p>"
         +"</body>"
        +"</html>";
          HTMLPanel htmlPanel = new HTMLPanel(contenu);
          ContentPanel content = new ContentPanel();
          content.add(htmlPanel);
          RootPanel.get().add(content);

    }
} 
```

我在浏览器中找不到 javascript 函数（我用萤火虫查看） 有人有答案或建议吗？问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T15:33:17.017

您应该在 gwt 中使用 JSNI。

```
public void onModuleLoad() {
    registerJS();
    String contenu = "<html>"
            +"<body>"
             +"<p><a href='#' onClick='functionOne();'>Top Text</a></p>"
             +"<p><a href='javascript:functionTwo();'>Bottom Text</a></p>"
             +"</body>"
            +"</html>";
              HTMLPanel htmlPanel = new HTMLPanel(contenu);
              RootPanel.get().add(htmlPanel);
}

public native void registerJS()/*-{
    $wnd.functionOne = function(){
        alert('you clicked the top text');
    }

    $wnd.functionTwo = function(){
        alert('you clicked the bottom text');
    }
}-*/; 
```

# java - Thread.sleep() 在 64 位刀片服务器的 java 中挂起

> ID：13308172
> 
> 赞同：0
> 
> 时间：2012-11-09T12:33:57.780
> 
> 标签：java

我有一个场景，我在固定持续时间重复调度任务。固定延迟是通过调用另一个使用 Thread.sleep(long ms) 方法实现可运行接口的类的 start 方法生成的。但是当我在我的本地电脑上测试这个应用程序时它正在工作。但是当我在具有操作系统（Windows server 2008 R2）的 ibm 刀片服务器（64 位）中运行这个应用程序时，它不能按预期工作。它不出来的睡眠方法。

请提出解决方案？

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:14:38.410

您的问题中没有太多信息可以查看问题所在。`Thread.sleep`应该返回或抛出异常。也许正在发生一些不同的事情。例如，发生了异常，被捕获并忘记了，或者您在某个地方出现了死锁。无论如何，不​​同版本的 Java 有时会存在细微的差异，从而导致错误。您必须自己调查问题。

*   尝试调试应用程序。当它挂起时，按暂停并检查所有线程以找到挂起的线程。
*   如果无法在服务器上安装调试器，请`System.out.println`在代码的每个合理位置添加；阅读控制台中的输出，您可能能够找到问题所在。
*   如果您无法使用控制台启动应用程序，请创建一个文本文件并将消息写入其中。`flush`每次都不要忘记。

# erlang - 如何修改 ejabberd 服务器上的在线订阅工作流程？

> ID：13308174
> 
> 赞同：2
> 
> 时间：2012-11-09T12:34:10.337
> 
> 标签：erlang, xmpp, ejabberd, rostering

我正在用 ejabberd 服务器开发一些东西。我需要更改订阅逻辑。我正在使用 ejabberd-2.1.11

我需要的是订阅如何工作，我想更改逻辑，以便用户自动上传他们的名册联系人订阅并立即保存在 rosterusers 表列订阅中为 B。这样他们应该能够至少当第一个已经注册到服务器时，请在网上和他们的联系人中查看。（希望这对您有意义并且有效）

我是 erlang 和 ejabberd 架构的初学者，但我已经开发了一些基本模块，我的问题是你是否可以在这方面帮助我，做出这种改变有多困难，如果你能给我一些提示变化将是

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-18T06:37:39.263

我会远离修改服务器，它符合标准并遵循规范。因此，如果您需要移动到另一台服务器或升级，您知道它会正常工作。要实现这一点，您将使用服务器的功能在客户端上实现此行为。如果您确实确定要修改服务器，mod_roster.erl 就是您要查看的文件。如果使用外部数据库，您也可以直接修改数据库，但在客户端重新登录之前不会反映更改。

# json - AngularJS：如何在应用加载之前加载 json feed？

> ID：13308178
> 
> 赞同：9
> 
> 时间：2012-11-09T12:34:24.107
> 
> 标签：json, angularjs

我只是在学习 angularJS（使用 angular-seed），我需要在加载站点的其余部分之前从 JSON 提要加载我的站点配置。

不幸的是，使用 $http 或 $resource 不会及时返回提要以供应用程序的其余部分加载。

强制应用程序在应用程序的其余部分之前加载此数据的正确方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T13:22:28.590

您必须使用 Controller.resolve 方法。查看 Misko（核心 Angular 开发人员之一）的答案[https://stackoverflow.com/a/11972028/726711](https://stackoverflow.com/a/11972028/726711)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-26T18:14:35.183

使用 resolve 方法破坏了我所有的单元测试......我采用了这种方式，其中设置是一项服务。

```
$q.when(settings.loadConfig()).then(function () {
  console.log( settings.versionedApiUrl );  
}); 
```

然后，我检查我们是否已经加载了设置，以确保我们不会多次请求。

```
class settings {
    loadConfig = ( ):angular.IPromise<any> =>  {

                var deferred = this.q.defer();

                if( this.settingsLoaded  ){
                      deferred.resolve({})
                      return deferred.promise;
                }

                this.http({
                      url:'config.json'
                }).then((result) => {

                      if( result.data ){
                            this.versionedApiUrl = result.data.versionedApiUrl;
                            this.apiServer = result.data.apiServer;
                            this.widgetServiceRoot = result.data.widgetServiceRoot;
                            this.settingsLoaded = true;
                      }

                      deferred.resolve({});
                });
                return deferred.promise;
          }
} 
```

# mysql - mysql 按类型报告每日查询过滤，包括缺少的分组行

> ID：13308184
> 
> 赞同：3
> 
> 时间：2012-11-09T12:34:39.750
> 
> 标签：mysql

我是一个相对新手，我已经与这个斗争了太久了 - 所以请任何人都可以帮忙！

我有一张表格，可以接收不同类型开发的查询（dev_enquiry），我正在创建一个动态图表来显示每个开发每天有多少查询。我加入了日历表，其中包含一列日期，以便在没有查询时可以获得 0 值。

这个 SQL 给了我我想要的东西，但它适用于所有的发展

```
SELECT    calendar.datefield AS DATE, COUNT(de_id) AS enquiries
FROM      `calendar`  
LEFT JOIN dev_enquiry ON DATE(dev_enquiry.de_date_created) = calendar.datefield)
WHERE     calendar.datefield BETWEEN (
                                       SELECT MIN(DATE(de_date_created)) 
                                       FROM   dev_enquiry
                                      ) 
      AND (SELECT MAX(DATE(de_date_created)) FROM dev_enquiry)
GROUP BY  DATE 
ORDER BY  DATE DESC

2012-11-08      3
2012-11-07      0
2012-11-06      2
2012-11-05      1
2012-11-04      3 
```

**我想按开发类型过滤掉结果，但当那天没有针对特定开发的查询时仍保留空值。**

以下过滤结果但不给我空值：

```
SELECT  cal.datefield AS DATE, COUNT(t.de_id)  AS  enquiries
  FROM (
SELECT * FROM dev_enquiry as d LEFT JOIN calendar as c ON (DATE(d.de_date_created) = c.datefield) 
WHERE     d.de_dev_name = 'Green') as t
LEFT JOIN calendar as cal ON (cal.datefield = DATE(t.de_date_created)) 
 WHERE (cal.datefield BETWEEN (SELECT   MIN(DATE(t.de_date_created)) 
FROM dev_enquiry) AND (SELECT MAX(DATE(de_date_created)) FROM dev_enquiry)) 
GROUP BY DATE ORDER BY  DATE  DESC

2012-11-08      1
2012-11-06      2
2012-11-05      1
2012-11-04      1 
```

缺少 2012-11-07 的结果

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T15:07:29.240

这里的诀窍是用完整的日历表引导您的查询，并离开不完整的（缺少一些天）汇总表。还要注意`IFNULL`将（空）结果变成零。

```
 SELECT cal.datefield AS date, 
            IFNULL(s.enquiries, 0) AS enquiries
       FROM calendar as cal
  LEFT JOIN (
           SELECT count(*) enquiries,
                  de_date_created
             FROM dev_enquiry
            WHERE de_dev_name = 'Green'
         GROUP BY de_date_created
         ) s on s.de_date_created = cal.datefield
   WHERE cal.datefield 
            BETWEEN (SELECT MIN(de_date_created) FROM dev_enquiry)
                AND (SELECT MAX(de_date_created) FROM dev_enquiry)
   ORDER BY datefield DESC 
```

这是一个 SQL Fiddle。 [http://sqlfiddle.com/#!2/2db68/12/0](http://sqlfiddle.com/#!2/2db68/12/0)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T15:30:07.503

也许我误解了这个问题，为什么不在`AND de_dev_Name = 'Green'`第一个查询示例中的左连接中添加一个？

```
SELECT    calendar.datefield AS d, COUNT(dev_enquiry.de_id) AS enquiries
FROM      calendar
LEFT JOIN dev_enquiry ON (dev_enquiry.de_date_created = calendar.datefield AND de_dev_name = 'Green')
WHERE     calendar.datefield BETWEEN
          (SELECT MIN(DATE(de_date_created)) FROM dev_enquiry)
      AND (SELECT MAX(DATE(de_date_created)) FROM dev_enquiry)
GROUP BY  d
ORDER BY  d DESC 
```

# android - 它是如何工作的 SQLiteOpenHelper 上下文

> ID：13308185
> 
> 赞同：7
> 
> 时间：2012-11-09T12:34:38.727
> 
> 标签：android, sqlite, sqliteopenhelper, android-context

我有一个包含两个活动的应用程序。

其中一个列出了几个值，而另一个将新值添加到数据库中。

我有一个类，它从 SQLiteOpenHelper 扩展并管理数据库连接、查询等。

现在，我知道在 SQLiteOpenHelper 的构造函数中，您必须传递一个上下文，该上下文用于确定它是否必须创建新数据库或打开现有数据库。

但是，如果我在每个活动中都有一个 SQLiteOpenHelper 类的实例，那么上下文会有所不同。

有没有办法避免这种情况？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T12:37:46.587

传入应用程序上下文 (.getApplication()) 而不是 Activity。这样，两个实例都将使用相同的上下文访问数据库。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T12:40:12.890

`Context`可能不同但不会创建不同的数据库。SQLiteOpenHelper[构造函数](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html#SQLiteOpenHelper%28android.content.Context,%20java.lang.String,%20android.database.sqlite.SQLiteDatabase.CursorFactory,%20int%29)有一个`name`参数，即数据库文件名。如果存在，则无论是否`Context`通过都不会创建。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-15T12:38:41.837

实际上，创建的数据库**与上下文的应用程序包相关联**。因此，您是否传递了 Application 上下文或 Activity 上下文并不重要。

[**上下文.java**](https://github.com/android/platform_frameworks_base/blob/master/core/java/android/content/Context.java)

```
/**
 * Open a new private SQLiteDatabase associated with this Context's
 * application package.  Create the database file if it doesn't exist.
 ...
 ...
 */
public abstract SQLiteDatabase openOrCreateDatabase(String name,
        int mode, CursorFactory factory); 
```

# javascript - 如何知道浏览器是否嵌入到其他应用程序中？

> ID：13308188
> 
> 赞同：2
> 
> 时间：2012-11-09T12:34:52.080
> 
> 标签：javascript, jquery, browser-detection

我使用 Sketchup 的扩展程序打开一个网络对话框（从默认的操作系统浏览器 - 在 Windows 中是 IE，但没有菜单和其他栏），但是这个页面可以由浏览器访问（不是嵌入的 - 可以是所有浏览器）。如果用户浏览器嵌入在另一个应用程序中，我需要知道（使用 javascript/jquery）。有人有解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T12:36:44.183

在这里，这将检测页面是否加载到 iframe 中

```
if (window!=window.top) { /* I'm in a frame! */ } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-09T21:44:03.490

检查用户代理。例如，在 Mac 上的 SketchUp 16.1 中，navigator.userAgent = "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.6 (KHTML, like Gecko) **SketchUp/16.1** (Mac; Safari)"

# php - 在 php 中使用 javascript 警报

> ID：13308214
> 
> 赞同：0
> 
> 时间：2012-11-09T12:36:13.370
> 
> 标签：php, javascript

我在一个网站上工作，我从数据库中获取记录以匹配用户输入，如果数据与数据库中的详细信息不匹配，它必须显示一个 javascript 警报框。但问题是 javascript 框也显示在身体负载上。以下是我的代码：

```
//Storing the value of form's username and password into PHP variables
$username = $_POST['username'];
$password = $_POST['password'];
//This query is to check whether ther user has provided valid details
$query = mysql_query("Select * from accounts where username='$username' and     password='$password'");
$status = mysql_num_rows($query);
/**Now checking whether the number of rows returned by database are greater than 0 to  verify the login
if number of rows are greater than zero we will redirect the user to index page with a     session variable**/

if($status >0)
{
$_SESSION['username'] = $username;
?>
<meta http-equiv="refresh" content="0;url=index.php">
<?}
else
{?>
<script language="javascript">
alert('UserName or Password does not match. Please try again');
</script>
<?}?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:47:21.560

代替

```
else 
```

和

```
else if (isset($_POST['username'])) { 
```

如果您不希望在用户未尝试登录时出现警报。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:45:37.543

为此，您需要一个登录标志。

将此添加到您的表单中：

```
<input type="hidden" name="login_process" value="true" /> 
```

然后用以下内容包围您的登录代码：

```
if($_POST["login_process"] == "true"){ 

    //your login code

}

...your page body 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:49:02.397

```
you miss <?php and Varible
    this Code Use then Check
       <?php 

            $username = $_POST['username'];
            $password = $_POST['password'];

            //This query is to check whether ther user has provided valid details
            $query = mysql_query("Select * from accounts where username='".$username."' and     password='**".$password."**'");
            $status = mysql_num_rows($query);

            /**Now checking whether the number of rows returned by database are greater than 0 to  verify the login if number of rows are greater than zero we will redirect the user to index page with a session variable**/

            if($status >0)
            {
               $_SESSION['username'] = $username;
            ?>
            <meta http-equiv="refresh" content="0;url=index.php">
            **<?php** }
            else
            {?>
            <script language="javascript">
            alert('UserName or Password does not match. Please try again');
            </script>
            **<?php** }?> 
```

# c++ - 如何清除 C++ 数组？

> ID：13308216
> 
> 赞同：20
> 
> 时间：2012-11-09T12:36:29.443
> 
> 标签：c++, visual-c++

如何清除/清空 C++ 数组？Theres [`array::fill`](http://www.cplusplus.com/reference/stl/array/fill/)，但看起来只像它的 C++11？我正在使用 VC++ 2010。如何清空它（重置为全 0）？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-11-09T12:37:43.763

```
std::fill_n(array, elementCount, 0); 
```

假设`array`是一个普通数组（例如`int[]`）

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-09T12:42:11.630

假设一个`a`大小为 的 C 样式数组`N`，其中元素的类型可隐式转换为`0`，下面将所有元素设置为从 构造的值`0`。

```
std::fill(a, a+N, 0); 
```

请注意，这与“清空”或“清除”不同。

**编辑**：按照 james Kanze 的建议，在 C++11 中，您可以使用更惯用的替代方法

```
std::fill( std::begin( a ), std::end( a ), 0 ); 
```

在没有 C++11 的情况下，您可以按照以下方式推出自己的解决方案：

```
template <typename T, std::size_t N> T* end_(T(&arr)[N]) { return arr + N; }

template <typename T, std::size_t N> T* begin_(T(&arr)[N]) { return arr; }

std::fill( begin_( a ), end_( a ), 0 ); 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-11-09T12:38:33.550

```
std::fill(a.begin(),a.end(),0); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-12-15T15:48:59.197

如果你想用*内在*值以外的东西填充数组，*std::fill*不会删除它；相反，我发现*std::generate*很有用。例如，我有一个要初始化的列表向量

```
std::generate(v.begin(), v.end(), [] () { return std::list<X>(); }); 
```

你也可以做整数，例如

```
std::generate(v.begin(), v.end(), [n = 0] () mutable { return n++; }); 
```

要不就

```
std::generate(v.begin(), v.end(), [] (){ return 0; }); 
```

但我想 std::fill 对于最简单的情况更快

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-19T15:34:39.770

`for (auto& a : SomeArray) a = 0;`

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-11-09T12:43:08.450

嘿，我认为处理这种操作的最快方法是 memset() 内存。

例子-

**`memset(&myPage.pageArray[0][0], 0, sizeof(myPage.pageArray));`**

**类似的 C++ 方法是使用 std::fill**

```
char *begin = myPage.pageArray[0][0];
char *end = begin + sizeof(myPage.pageArray);
std::fill(begin, end, 0); 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2012-11-09T12:37:52.663

如果只有 0 那么你可以使用`memset`：

```
int* a = new int[6];

memset(a, 0, 6*sizeof(int)); 
```

# java - 如何使复选框执行连续任务，直到它被取消选中？

> ID：13308218
> 
> 赞同：1
> 
> 时间：2012-11-09T12:36:33.573
> 
> 标签：java, swing, jcheckbox

任何人都知道如何使复选框执行一项任务，直到它被取消选中？

```
JCheckBox chckbxInspecAuto = new JCheckBox("Inspe. Auto.");
chckbxInspecAuto.addActionListener(new ActionListener() {
public void actionPerformed(ActionEvent arg0)
{
try {

      gimage = vision.grab();
      cvSaveImage("image001.bmp", gimage);
      ipanel.loadImage("image001.bmp");

            } catch (com.googlecode.javacv.FrameGrabber.Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } 

        }
    }); 
```

编辑：代码现在在那里......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:44:47.913

您可以扩展[SwingWorker](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html)类甚至 Thread 来实现您希望复选框控制的功能。创建方法`contiueWorking()`并`stopWorking()`在运行方法中检查一些布尔标志以查看是执行任务还是休眠。正如 Robin 在下面的帖子中评论的那样，swing 组件只能从事件工作线程访问。我在下面的示例中违反了这条规则，因为我想产生一些简单的东西，并且由于正在运行的线程大部分时间都在休眠，所以它工作正常。

我会使用 SwingWorker 来完成一项更耗时的任务，我希望在执行时更新用户。例如，假设我们有一个线程生成然后发送一组电子邮件消息，并且对于每封电子邮件，在 UI 中显示一些文本，以确认消息已发送或指示无法发送的原因。每条消息都可能将线程锁定一段时间。UI 不会与线程执行电子邮件任务同步更新。SwingWorker 来救援。java2s.com 站点有一个[SwingWokerDemo](http://www.java2s.com/Code/Java/JDK-6/SwingWorkerfromJDK6SE.htm)。

```
import java.awt.BorderLayout;
import javax.swing.*;
import java.awt.event.*;
import java.util.ArrayList;

/**
 *  The sequence of prime integers is calculated and displayed on the screen.
 *  This little program demonstrates how a checkbox can be used
 *  to start and stop a thread. 
 */
public class ThreadDemo extends JFrame {

    JCheckBox runningCB;
    JTextArea displayArea;
    JTextField delayField;
    PrimeCalcThread workerThread = null;
    public ThreadDemo() {
        super("Prime Numbers");
        runningCB = new JCheckBox("Calculate Primes");
        JPanel topPanel = new JPanel();
        topPanel.add(runningCB);
        topPanel.add(new JLabel("Dealy: "));
        delayField = new JTextField(10);
        delayField.setText("500");
        topPanel.add(delayField);
        getContentPane().add(topPanel,BorderLayout.NORTH);

        displayArea = new JTextArea(30,80);
        displayArea.setText("2, 3, 5, ");
        displayArea.setLineWrap(true);
        JScrollPane scroller = new JScrollPane(displayArea);
        getContentPane().add(scroller,BorderLayout.CENTER);
        pack();

        runningCB.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                if(runningCB.isSelected() ) {
                    if(workerThread != null)
                        workerThread.contiueWorking();
                    else {
                        workerThread = new PrimeCalcThread();
                        workerThread.start();
                    }
                }
                else {
                   if(workerThread != null)
                       workerThread.stopWorking(); 
                }
            }
        });
        delayField.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                String input = delayField.getText().trim();
                try {
                    int d = Integer.parseInt(input);
                    workerThread.setDelay(d);
                }
                catch(NumberFormatException nfe) { }
            }
        });
        setVisible(true);
    }

    public static void main(String[] arg) {
        ThreadDemo window = new ThreadDemo();
        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }

    /**
     * When this thread is active it calculates prime numbers. The Thread 
     * continues until it is paused with stopWorking() or until the 
     * boolean field endThread is set to true.
     */
    class PrimeCalcThread extends Thread {
        ArrayList<Integer> primeList;
        int delay = 500;
        boolean active = true;
        boolean endThread = false;
        private int lastPrime;

        public PrimeCalcThread() {
            primeList = new ArrayList<> (1024);
            primeList.add(2); primeList.add(3); primeList.add(5);
            lastPrime=5;
        }

        public void run() {
            while(!endThread) {
                if(active) {
                    calcNextPrime();
                    displayArea.append(lastPrime + ", ");
                }
                try { sleep(delay);  }
                catch(InterruptedException whatever) { }
            }
        }

        private void calcNextPrime() {
            int p = lastPrime+2;
            while(!isPrime(p))
                p+=2;
            primeList.add(p);
            lastPrime = p;
        }

        /**
         * Checks if p is prime by checking for divisibility by all primes in the
         * calculated primeList so far. This method only works if sqrt(p) < lastPrime
         */
        private boolean isPrime(int p) {
            int maxCheck = (int) Math.sqrt(p) + 1;
            for(int prime: primeList) {
                if(p % prime == 0)
                    return false;
                if(prime > maxCheck)
                    break;
            }
            return true;
        }

        public int getLastPrime() {
            return lastPrime;
        }

        public ArrayList<Integer> getPrimeList() {
            return primeList;
        }

        public int getDelay() {
            return delay;
        }

        public void setDelay(int waitTime) {
            if(waitTime>=0)
                delay = waitTime;
        }

        public void contiueWorking() {
            active=true;
        }
        public void stopWorking() {
            active=false;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:51:01.847

**-**好吧，创建一个守护线程并在无限循环中运行它，让它继续检查 JCheckBox 是否使用 `isSelected()`方法或`ItemListener`.

**-**当`JCheckBox` **被选中**时，**创建一个线程**来执行任务，**或者**使用`SwingWorker Class`它来正确同步 UI 和非 UI 线程的工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:56:11.697

这取决于任务。

如果任务在其他机器上的其他进程上，您可以简单地发送正确的消息。如果任务是同一应用程序中的一个单独线程，您可以执行 wxyz 建议的操作，或者您可以使用某种具有启动和停止线程能力的侦听器（线程始终相同，或者您每次都在创建一个新线程您选择复选框？）。

我最喜欢的一个是以“PUSH”方式使用观察者模式，所以你可以使用某种外部信号到线程，当发送时会创建和/或停止它。

# facebook - 使用 Facebook FQL 在聊天中获得最活跃的朋友

> ID：13308225
> 
> 赞同：0
> 
> 时间：2012-11-09T12:36:59.217
> 
> 标签：facebook, facebook-fql

有没有办法通过 FQL 获得聊天中最活跃的朋友？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T14:14:22.217

FQL中没有`count()`方法，所以不，不是直接的。您可以查询[线程](https://developers.facebook.com/docs/reference/fql/thread/)表，然后循环`recipients`返回以在您自己的脚本中对其进行计数。

如果您查看文档中的新[统一消息](https://developers.facebook.com/docs/reference/fql/unified_message/)和相关表格，Facebook 似乎正在向消息传递系统添加功能。您将来也许可以做到这一点。

# charts - jqplot图例的问题

> ID：13308226
> 
> 赞同：2
> 
> 时间：2012-11-09T12:37:09.830
> 
> 标签：charts, jqplot, legend

我正在使用 jqplot。我在传说中遇到了一些问题。图例与图表的某些部分重叠。图例也被拉伸到图表的整个宽度。

这是它的外观。 ![在此处输入图像描述](../Images/2a540e59a53184128e0f989b1bed5d25.png)

这使它看起来很难看。谁能帮我解决这个问题？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-29T22:33:35.767

我的问题出在 CSS 中。我已经声明了

```
table { width: 100%; } 
```

所以我补充说：

```
.jqplot-table-legend { width: auto; } 
```

这为我解决了问题！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-04T21:07:25.107

我从这个论坛尝试了这个技巧

[https://groups.google.com/forum/?fromgroups#!topic/jqplot-users/2ugbIYORAss](https://groups.google.com/forum/?fromgroups#!topic/jqplot-users/2ugbIYORAss)

```
 //Take out HTML content of entire legend
    var text = jQuery("table[class='jqplot-table-legend']").html();

    //Stick it to the Legend Div Tag - of page
    //create a div tag with id='jqplotctrl_legend'
    jQuery('#jqplotctrl_legend').html(text); 

    //Set original jQPlot legend to empty 
    jQuery("table[class='jqplot-table-legend']").html(''); 
```

# facebook - Facebook Feed 对话框返回 API 错误代码：191

> ID：13308232
> 
> 赞同：1
> 
> 时间：2012-11-09T12:37:33.350
> 
> 标签：facebook, api, feed, error-code

在我的 Facebook 应用程序中，我总是会收到以下错误：

> 发生错误。请稍后再试。API 错误代码：191 API 错误描述：指定的 URL 不属于应用程序 错误消息：redirect_uri 不属于应用程序。

我只想通过按钮提供帖子我的代码是

```
 function postToFeed() {
    // calling the API ...
    var obj = {
      method: 'feed',
      link: 'https://mydomain.com/',
      picture: 'https://mydomain.com/img/feed.png',
      name: 'BLABLADialog',
      caption: 'UeberschriftBLABLA',
      description: 'DescriptionBLABLA',
      show_error: true
    };
    function callback(response) {
      document.getElementById('msg').innerHTML = "Post ID: " + response['post_id'];
    }
    FB.ui(obj, callback);
  } 
```

我的 Canvas-URL 是“http://mydomain.com/”
我的 Secure Canvas-URL 是“https://mydomain.com/”
我的 Tab-URL 是“https://mydomain.com/tab.php”
我的安全选项卡 URL 是“https://mydomain.com/tab.php”
我的网站带有 Facebook 登录 SITE URL 是“https://mydomain.com/”

所以我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:42:41.177

您需要在`var obj`数组中包含一个 redirect_uri。在[Feed Dialog 文档](https://developers.facebook.com/docs/reference/dialogs/feed/)中，`redirect_uri`指定为：

> 用户单击对话框上的按钮后要重定向到的 URL。**必需**，但大多数 SDK 会自动指定。

因此必须指定它，并且它必须是属于您应用的站点 URL 的 URL。

# c++ - 在 OpenCV 中将二进制图像转换为 RGB

> ID：13308240
> 
> 赞同：2
> 
> 时间：2012-11-09T12:38:06.487
> 
> 标签：c++, opencv, error-handling, type-conversion

我正在使用 OpenCV 2.4.3 进行前景检测。我想将二进制的结果前景转换为 RGB 图像。我的代码是这样的：

```
cv::VideoCapture cap;
cap.open ( "test.avi " );
cv::Mat img;
cv::Mat finalForeground;
cv::Mat element( 3, 3, CV_8U, cv::Scalar(1) );
cv::gpu::GMG_GPU gmgGpu

gmgGpu.initialize ( cv::Size ( 1600, 1200 ) );
cv::gpu::GpuMat gpuForeground;
cv::Mat rgbForeground;

for ( int i = 0; i < 500; i ++ )
{
    cap >> img; 
    cv::gpu::GpuMat gpuImg ( img );    
    gmgGpu.operator()(gpuImg, gpuForeground);
    gpuForeground.download ( finalForeground);
    cv::morphologyEx ( finalForeground, finalForeground, CV::MORPH_CLOSE, element );
    cvCvtColor ( finalForeground, rgbForeground, CV_GRAY2BGR );
 } 
```

然后我收到这样的错误：

> > 错误 C2664：“cvCvtColor”：无法将参数 2 从“cv::Mat”转换为“CvArr *”
> > 
> > 没有可以执行此转换的用户定义转换运算符，或者无法调用该运算符

有人可以就处理此错误提出任何建议吗？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T12:40:47.683

您可能不应该混合使用 C 和 C++ 符号。

尝试使用**[cv::CvtColor](http://opencv.willowgarage.com/documentation/cpp/miscellaneous_image_transformations.html#cv-cvtcolor)** 而不是 cvCvtColor

关于第二个问题，您是否使用 cv::CvtColor 输入和输出都具有三个通道？

# c# - 不能在 C# 中使用 stackalloc 来初始化先前声明的指针吗？

> ID：13308242
> 
> 赞同：4
> 
> 时间：2012-11-09T12:38:23.410
> 
> 标签：c#, stackalloc

我刚刚发现`stackalloc`C# 的符号有一个令人难以置信的怪癖，请看下面的代码：

```
//          int *p;
//          p = stackalloc int[42];  // won't work! 
//  Error CS1525: Unexpected symbol `stackalloc' (CS1525) 

            int *p = stackalloc int[42]; //works 
```

我的意图是在这样的三元表达式中使用 stackalloc：

```
int *p = size > 0xFFFFF ? (int*)Marshal.AllocHGlobal(size).ToPointer() : stackalloc int[size]; 
```

编译器完全出乎意料的打击让我震惊。如果有人能对这种奇怪的行为有所了解，我将不胜感激。我已经在单声道和 .net 上对其进行了测试，但都不起作用。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-09T12:47:07.510

[http://msdn.microsoft.com/en-us/library/cx9s2sy4(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/cx9s2sy4(v=vs.100).aspx)
只有在声明和初始化局部变量时才能使用 stackalloc。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-09T14:48:38.243

人们已经回答了这个问题，您只能在声明和初始化局部变量时使用它：http: [//msdn.microsoft.com/en-us/library/cx9s2sy4](http://msdn.microsoft.com/en-us/library/cx9s2sy4(v=vs.110).aspx) (v=vs.110).aspx 。

但是，如果您想知道这是什么原因，那就是词法作用域。局部变量声明创建一个包含一个或多个基本块的词法范围。CLR 要求堆栈指针在每个此类基本块的开头和结尾处的位置相同。控制转移语句只能跳转到基本块的第一条指令。

当您使用`stackalloc`时，编译器需要通过递减堆栈指针并在分配的变量超出范围时再次递增它来在堆栈上腾出一些空间。

如果您在表达式评估中，堆栈上会有临时值，那么编译器应该将该变量放在哪里？在方法的开头分配它不是一种选择，因为您可以使用表达式来指定大小。

因此，您必须明确告诉编译器您希望将该变量分配到何处以及应保留内存多长时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:53:06.347

可以理解这是一种古怪的行为......我不知道为什么，但它记录在 MSDN 上

看这里：

[http://msdn.microsoft.com/en-us/library/cx9s2sy4.aspx](http://msdn.microsoft.com/en-us/library/cx9s2sy4.aspx)

# magento - Catalog/product/list.phtml 正在某个地方使用 ul

> ID：13308250
> 
> 赞同：0
> 
> 时间：2012-11-09T12:38:40.537
> 
> 标签：magento

我正在编辑目录/产品/list.phtml。

我肯定在正确的文件/主题等中，因为`<h1 Some Content /h1>`在页面顶部添加 a 会在模板路径提示的虚线红线内的页面的正确部分产生一些内容。

但是，在文件中进一步进行的任何更改都没有显示。

经过仔细检查，我发现我的 list.phtml 包含一个`<ol>`标签，而前端的信息包含在一个`<ul>`标签中。

我不知道 magento 从哪里提取这些数据？有任何想法吗？

# php - 获取没有标题/编码的外部网页的html源

> ID：13308252
> 
> 赞同：3
> 
> 时间：2012-11-09T12:38:50.780
> 
> 标签：php, html, character-encoding

我只想知道是否可以从没有编码标头的 html 文件中提取编码的内容（以 utf-8 格式）。

我的具体情况是这个网站：

[http://www.metal-archives.com/band/discography/id/203/tab/all](http://www.metal-archives.com/band/discography/id/203/tab/all)

我想提取所有信息，但如您所见，例如，这个词看起来很糟糕：

> 墨头

我尝试使用 file_get_html、htmlentities、utf_decode、utf_encode 并将它们与不同的选项混合，但我找不到解决方案......

编辑：

我只想用这个简单的代码查看格式正确的同一个网站：

```
$html_discos = file_get_html("http://www.metal-archives.com/band/discography/id/223/tab/all");
//some transform/decode here
print_r($html_discos); 
```

我希望字符串或 DOM 对象中的内容格式正确，以便稍后获取某些部分。

编辑2：

$file_get_html 是“simple html dom”库的一个函数：

[http://simplehtmldom.sourceforge.net/](http://simplehtmldom.sourceforge.net/)

有这个代码：

```
function file_get_html($url, $use_include_path = false, $context=null, $offset = -1, $maxLen=-1, $lowercase = true, $forceTagsClosed=true, $target_charset = DEFAULT_TARGET_CHARSET, $stripRN=true, $defaultBRText=DEFAULT_BR_TEXT, $defaultSpanText=DEFAULT_SPAN_TEXT)
{
    // We DO force the tags to be terminated.
    $dom = new simple_html_dom(null, $lowercase, $forceTagsClosed, $target_charset, $stripRN, $defaultBRText, $defaultSpanText);
    // For sourceforge users: uncomment the next line and comment the retreive_url_contents line 2 lines down if it is not already done.
    $contents = file_get_contents($url, $use_include_path, $context, $offset);
    // Paperg - use our own mechanism for getting the contents as we want to control the timeout.
    //$contents = retrieve_url_contents($url);
    if (empty($contents) || strlen($contents) > MAX_FILE_SIZE)
    {
        return false;
    }
    // The second parameter can force the selectors to all be lowercase.
    $dom->load($contents, $lowercase, $stripRN);
    return $dom;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:43:06.013

URL 的 Content-Type

```
http://www.metal-archives.com/band/discography/id/203/tab/all 
```

是：

```
Content-Type: text/html 
```

这将默认为 ISO-8859-1。但是您想使用 UTF-8。更改 Content-Type 以便正确发出信号：

```
Content-Type: text/html; charset=utf-8 
```

请参阅：[设置 HTTP 字符集参数](http://www.w3.org/International/O-HTTP-charset.en.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:53:06.677

```
header('Content-Type: text/html; charset=utf-8');
echo file_get_contents('http://www.metal-archives.com/band/discography/id/203/tab/all'); 
```

只要*您*以 UTF-8 形式发出，原始数据就会正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:41:02.480

尝试使用`html_eneity_decode` [http://php.net/manual/en/function.html-entity-decode.php](http://php.net/manual/en/function.html-entity-decode.php)（该页面的来源具有编码字符）

# android - 用另一个替换标记

> ID：13308263
> 
> 赞同：2
> 
> 时间：2012-11-09T12:40:01.070
> 
> 标签：android, google-maps-markers

在我的 android 地图应用程序中，我试图在触摸事件上替换标记。这是我的叠加项目类和我在主类中定义的默认标记。

```
public class MyItemizedOverlay extends ItemizedOverlay<OverlayItem> {

Bitmap marker = BitmapFactory.decodeResource( null, R.drawable.image_pin);//Replace with this marker

private ArrayList<OverlayItem> myOverlaysNormal ;

Context mContext;

public MyItemizedOverlay(Drawable defaultMarker) {
    super(boundCenterBottom(defaultMarker));
    myOverlaysNormal = new ArrayList<OverlayItem>();
    populate();

}

public void addOverlay(OverlayItem overlay){
    myOverlaysNormal.add(overlay);
    populate();
}

@Override
protected OverlayItem createItem(int i) {
    return myOverlaysNormal.get(i);
}
@Override
protected boolean onTap(int index) {

myOverlaysNormal.get(index).getPoint();

return true;
}

// Removes overlay item i
public void removeItem(int i){
    myOverlaysNormal.remove(i);

    populate();
}

// Returns present number of items in list
@Override
public int size() {
    return myOverlaysNormal.size();
}

public void addOverlayItem(OverlayItem overlayItem) {
    myOverlaysNormal.add(overlayItem);
    populate();
}

} 
```

如何用另一个标记（R.Drawable.image_pin）替换触摸标记。 **或者**如何扩展标记默认标记？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:48:41.033

有多种方法可以做到这一点我希望我可以帮助你的代码，但你应该好好搜索和好好阅读。

这里有一些链接会帮助你：

[第一个例子](https://stackoverflow.com/questions/10058666/adding-a-custom-marker-to-map-android)

[2 例子](https://stackoverflow.com/questions/4428730/creating-custom-overlay-on-the-map)

# android - 使用 DOM Parser 从 url 解析 XML 数据

> ID：13308270
> 
> 赞同：0
> 
> 时间：2012-11-09T12:40:20.343
> 
> 标签：android, xml, xml-parsing, android-xml, domparser

我想从 url 解析 xml 文件：

[http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=cher&api_key=5d6ce941674603e4bb75cfad6cfa13b7](http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=cher&api_key=5d6ce941674603e4bb75cfad6cfa13b7)

我想解析文件的以下标签：

```
<artist>
<name>Cher</name>
<image size="medium">http://userserve-ak.last.fm/serve/64/62286415.png</image>
</artist> 
```

但我不知道如何仅获取这两个标签的值。

我已经尝试了来自 [http://www.androidhive.info/2011/11/android-xml-parsing-tutorial/的示例代码](http://www.androidhive.info/2011/11/android-xml-parsing-tutorial/)

但它没有显示解析具有不同属性值的相同标签。谁能指导我如何做到这一点？

提前谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:58:02.373

从您提供的链接中，我只提取了一小部分：

```
 XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName("artist");
    // looping through all item nodes <artist>
    for (int i = 0; i < nl.getLength(); i++) {
       Element e = (Element) nl.item(i);
       String name = parser.getValue(e, "name"));
       String image = parser.getValue(e, "image")); 

       //if you want the artist 'Cher' sigh ;)
       if (name.equals("Cher")){
          //do whatever you want
       }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T09:38:35.490

谢谢。我从这个网址解决了我的问题：

[使用属性获取元素](https://stackoverflow.com/questions/6093121/getting-element-using-attribute)

```
if(str.equals("image"))
         {
             n = item.getElementsByTagName(str);

             for (int i = 0; i < n.getLength(); i++) {
                    Node subNode = n.item(i);

                    if (subNode.hasAttributes()) {
                        NamedNodeMap nnm = subNode.getAttributes();

                        for (int j = 0; j < nnm.getLength(); j++) {
                            Node attrNode = nnm.item(j);

                            if (attrNode.getNodeType() == Node.ATTRIBUTE_NODE) {
                                Attr attribute = (Attr) attrNode;

                               if( attribute.getValue().equals("medium"))
                               {
                                   return this.getElementValue(n.item(i));
                               }
                            }
                        }               
                    }
                }

         } 
```

# android - 如何在 AChartEngine 中使堆叠条具有相同的宽度

> ID：13308273
> 
> 赞同：1
> 
> 时间：2012-11-09T12:40:29.673
> 
> 标签：android, alignment, bar-chart, achartengine

我想用 AChartEngine 绘制一个带有 2 个堆叠条的条形图，就像在[SalesBarChart](http://www.achartengine.org/content/demo.html)示例中一样。我的问题是，具有相同 X 值的条不具有相同的宽度，即较大的条比较小的条宽，见下图。

![在此处输入图像描述](../Images/922eef994218858ee3af30066fe993bf.png)

源代码：

```
renderer = new XYMultipleSeriesRenderer();
// Set chart parameters
renderer.setBarSpacing(0.5);
// Margin background color
renderer.setMarginsColor(Color.rgb(0xF3, 0xF3, 0xF3));
// Disable pan and zoom
renderer.setPanEnabled(false, false);
renderer.setZoomEnabled(false, false);
// Text sizes
renderer.setAxisTitleTextSize(16);
renderer.setChartTitleTextSize(20);
renderer.setLabelsTextSize(16);
renderer.setLegendTextSize(16);
// X axis
renderer.setXLabelsColor(Color.BLACK);
renderer.setXLabelsAlign(Align.RIGHT);
// TODO: adjust axis limits depending on time series
// Y axis
renderer.setYAxisMin(0);
renderer.setYAxisMax(200);
renderer.setYLabels(10);
renderer.setYLabelsColor(0, Color.BLACK);
renderer.setYLabelsAlign(Align.RIGHT);

// Configure renderer for normal and alarm time series
XYSeriesRenderer alarmRenderer = new XYSeriesRenderer();
alarmRenderer.setColor(Color.rgb(0xCC, 0x00, 0x00));
renderer.addSeriesRenderer(alarmRenderer);
XYSeriesRenderer normRenderer = new XYSeriesRenderer();
normRenderer.setColor(Color.rgb(0x99, 0xCC, 0x00));
renderer.addSeriesRenderer(normRenderer);

[...]

dataset = new XYMultipleSeriesDataset();
renderer.setChartTitle(items[which]);
// Dummy Data TODO: replace with real data
Random r = new Random();
int limit = 100;
normValues = new TimeSeries("Normal");
alarmValues = new TimeSeries("Alarm");
dataset.addSeries(alarmValues);
dataset.addSeries(normValues);
for (int i = 0; i < 100; i++) {
    Date date = new Date(i*1000);
    int value = 70+r.nextInt(60);
    if (value <= limit) {
        normValues.add(date, value);
    } else {
        normValues.add(date, 100);
        alarmValues.add(date, value);
    }
}

            if (!init) {
                trend.removeView(chart);
            }
            chart = ChartFactory.getBarChartView(getActivity(), dataset, renderer, Type.STACKED);
            chart.setBackgroundColor(Color.TRANSPARENT);
            chart.setLayoutParams(params);
            chart.setPadding(6, 20, 6, 0);
            trend.addView(chart, 0); 
```

我怎样才能实现两个条具有相同的宽度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T14:08:39.523

当 2 个系列的项目数量不同时，就会发生这种情况。请确保该系列具有相同的长度。

# html - 我想要表格的每个单元格边框都有填充和点缀

> ID：13308276
> 
> 赞同：-1
> 
> 时间：2012-11-09T12:40:35.417
> 
> 标签：html

我希望每个单元格的边框如下图所示：

```
<table border="1" width="90%">
<tr>
    <th>NAME OF OFFEROR</th>
    <th>EMPLOYER</th>
    <th>FAMILY/BECHLOR</th>
    <th>NATURE OF LEASE</th>
    <th>RENT</th>
    <th>DEPOSIT</th>
    <th>TERM OF LEASE</th>
</tr>
<?PHP
    $query=mysql_query("select name,company,categary,lease,tol,rent,deposit from client_enquiry where pro_id='".$property."'") or die(mysql_error());
    while($row=mysql_fetch_row($query))
    {
        echo "<tr><td>".$row[0]."</td><td>".$row[1]."</td><td>".$row[2]."</td><td>".$row[3]."</td><td>".$row[5]."</td><td>".$row[6]."</td><td>".$row[4]."</td></tr>";
    }
?>
</table> 
```

![在此处输入图像描述](../Images/8b1d7292223a6e4d2578d3721c8bc454.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:26:02.660

我在这里为你做了一个例子：http: [//jsfiddle.net/paulalexandru21/yyjtB/](http://jsfiddle.net/paulalexandru21/yyjtB/)

我建议你不要使用表格，因为它们是有点旧的元素，不是很优化。Div 是更好的。代码如下所示：

html:

```
 <div class="col border">
    <div class="head">
        <p>Gold</p>
        <small>FREE</small>         
    </div>
    <ul>
        <li><b>5</b> products</li>            
        <li><b>1</b> image per product</li>
        <li><b>Basic</b> stats</li>
        <li><b>Basic</b> customization</li>        
    </ul>
</div>
<div class="col border">
    <div class="head">
        <p>Platinum</p>
        <small>FREE</small>        
    </div>
    <ul>
        <li><b style="color: #76CAC6">25</b> products</li>
        <li><b style="color: #76CAC6">3</b> image per product</li>
        <li><b style="color: #76CAC6">Better</b> stats</li>
        <li><b style="color: #76CAC6">Full</b> customization</li>        
    </ul>
</div>
<div class="col border">
    <div class="head">
        <p>Diamond</p>
        <small>FREE</small>        
    </div>
    <ul>
        <li><b style="color: #87BE84">100</b> products</li>
        <li><b style="color: #87BE84">5</b> image per product</li>
        <li><b style="color: #87BE84">Best</b> stats</li>
        <li><b style="color: #87BE84">Full</b> customization</li>        
    </ul>
</div> 
```

CSS：

```
 html, body {font-family: arial;}

.col {
    height: 500px;
    width: 200px;
    float: left;
}

.arange {
    padding-top: 20px;
    background: pink;
}

.border {
    border-right: 1px dotted gray;
}

.head{
    padding-top: 20px;
    background: #000;
    color: #FFF;
    width: 200px;
    height: 90px;
    lign-height: 100px;
}

p {
    font-size: 18pt;
    font-family: arial;
    color: white;
    margin-left: 20px;
}

small {
    font-size: 10pt;
    font-family: arial;
    color: gray;
    font-weight: bold;
    margin-left: 20px;
}

ul {
    margin-left: 20px;
    margin-right: 20px;
    color: gray;
}

ul li {
    padding: 10px 0px;
    border-bottom: 1px dotted gray;
    font-size: 15px;
}

blue {color: #76CAC6;} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:07:06.110

您应该发布您的 HTML 和 CSS 以显示您尝试过的内容。

顺便说一句，您可以在 TD 中使用 div 来获取底部边框：

[http://jsfiddle.net/jzx2N/2/](http://jsfiddle.net/jzx2N/2/)

编辑：保持 TD 高度和宽度对齐的新代码...

![在此处输入图像描述](../Images/c26f89d3b9636bb5bed58ceda8db147d.png)

CSS

```
table{
  border-collapse: collapse;
  margin: 20px;  
}

td{
   padding-top: 15px;
   padding-bottom: 15px;
   border-right: 2px dotted silver;
   border-left: 2px dotted silver;
   vertical-align: bottom;
   width: 33%;
}

.tdLeft{
   border-left: none;
}

.tdRight{
   border-right: none;
}

.innerDiv{
    border-bottom: 2px dotted silver;
    padding-left: 20px;
    padding-right: 20px;
    height: 100%;
    margin-left: 20px;
    margin-right: 20px;
    padding-bottom: 20px;
} 
```

HTML

```
<table>
    <tr>
        <td class="tdLeft">
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>
        <td>
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>
        <td class="tdRight">
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>        
    </tr>    
    <tr>
        <td class="tdLeft">
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>
        <td>
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>
        <td class="tdRight">
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>        
    </tr>
    <tr>
        <td class="tdLeft">
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>
        <td>
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>
        <td class="tdRight">
            <div class="innerDiv">
             Stuff on column
            </div>
        </td>        
    </tr>
</table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:49:01.320

查看 CSS 属性：

```
border
border-spacing 
```

并将它们应用到您的桌子上。

# macos - 我的 Mac 上的 PostgreSQL - 我安装了吗？我该如何卸载它？

> ID：13308279
> 
> 赞同：5
> 
> 时间：2012-11-09T12:40:52.743
> 
> 标签：macos, postgresql, postgres.app

抱歉这个菜鸟问题，但我不确定我刚刚对 PostgreSQL 做了什么。`Postres.app`我从[http://postgresapp.com/](http://postgresapp.com/)下载并安装了它， 然后我决定不再需要它，而宁愿用 Homebrew 安装 PostgreSQL。所以我`Postgres.app`从我的应用程序文件夹拖到我的垃圾箱，然后清理我的垃圾箱并重新启动。现在我发现我可以跑步`psql`从命令行没有问题，我似乎能够创建并连接到 PostgreSQL 数据库等等。所以我的问题是：我的系统上是否已经安装了 PostgreSQL（Mac 10.8.2 - Mountain Lion）？当我安装 Postgres.app 时，它只是为我启动和停止数据库的包装器吗？（如果是这样，为什么要下载 28 MB？）或者我在安装 Postgres.app 时是否安装了 PostgreSQL？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T14:13:02.797

根据[这个](http://postgresapp.com/documentation#toc_21)，你已经完成了垃圾箱。您可以浏览它提到的作为安装目录的文件夹列表，如果仍然存在，则将其删除：

*   二进制文件：`/Applications/Postgres.app/Contents/MacOS/bin`
*   标题：`/Applications/Postgres.app/Contents/MacOS/include`
*   图书馆：`/Applications/Postgres.app/Contents/MacOS/lib`
*   共享库：`/Applications/Postgres.app/Contents/MacOS/share`
*   数据：`~/Library/Application\ Support/Postgres/var`

您还可以检查您的 psql 安装是否正在运行：

```
$ which psql 
```

`/usr/bin/`如果它被某些来源（macports，brew）正确安装，它应该来自它，我认为 PostgresApp 使用它自己的 bin 文件夹。

# mysql - MySQL GROUP BY“和过滤”

> ID：13308281
> 
> 赞同：6
> 
> 时间：2012-11-09T12:40:56.647
> 
> 标签：mysql, sql, group-by

假设我有这样的查询：

```
SELECT name, GROUP_CONCAT(number)
FROM objects
GROUP BY name 
```

它输出：

```
+----------+----------------------+
|  NAME    | GROUP_CONCAT(NUMBER) |
+----------+----------------------+
| false_1  | 2,1                  |
| false_2  | 3,4                  |
| true_1   | 4,3,2,1              |
| true_2   | 2,3                  |
+----------+----------------------+ 
```

现在我如何返回具有`2 AND 3`as 的行`number`？

**注意：**此查询是分组的 - 表有 10 行，如下所示：

```
+---------+--------+
|  NAME   | NUMBER |
+---------+--------+
| true_1  | 1      |
| true_1  | 2      |
| true_1  | 3      |
| ...     | ...    |
+---------+--------+ 
```

[[链接到 SQLFiddle]](http://sqlfiddle.com/#!2/faae0/5)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-09T12:43:30.510

```
SELECT name, GROUP_CONCAT(number)
FROM objects
WHERE number IN (2,3)
GROUP BY name
HAVING COUNT(*) = 2 
```

*   [查看 SQLFiddle 演示](http://sqlfiddle.com/#!2/faae0/9)

或者，如果您想保留名称所具有的所有价值，

```
SELECT  a.name, GROUP_CONCAT(A.number)
FROM    objects a
        INNER JOIN
        (
          SELECT name
          FROM objects
          WHERE number IN (2,3)
          GROUP BY name
          HAVING COUNT(*) = 2
        ) b ON a.Name = b.Name
GROUP BY a.name 
```

*   [查看 SQLFiddle 演示](http://sqlfiddle.com/#!2/faae0/32)

# c++ - 如何防止 C 或 C++ 程序使用 CRT 函数？

> ID：13308282
> 
> 赞同：3
> 
> 时间：2012-11-09T12:40:59.213
> 
> 标签：c++, c, crt

就我而言，我有两层，即核心层和应用层。应用层依赖于核心层。

我希望只有核心层应该使用 CRT 功能。

在应用层，如果使用了任何 CRT 函数，它不应该编译。

有什么办法可以做到这一点？例如，不应该在应用层直接调用free/malloc。

我认为#define所有CRT函数出现错误的一种方法是应用程序层不能使用直接CRT调用（应用程序层包括核心层的头文件）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:52:11.453

你不需要#define CRT 中的所有函数。定义头文件中声明的函数之一就足以导致编译失败。

此外，查看 CRT 标头，它们中的大多数都依赖于这种结构：

```
 #ifndef "some unique id"
    #define "some unique id"
    /* header body */
    #endif 
```

如果你定义了这个唯一的id，你将有效地导致不包含头文件，因此在尝试使用在这个头文件中声明的函数时会发生编译错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:57:03.333

假设您的所有项目都是本机 C 或 C++，我相信删除对 Windows CRT 二进制文件的引用就足够了。如果有人尝试使用它们，他们将收到链接错误。

对于 dll，打开项目属性（从 Visual Studio），然后转到`Configuration Properties->Linker->Input`并设置`Ignore All Default Libraries`为`Yes (/NODEFAULTLIB)`. 在那个之上，设置`Additional Dependencies`为您需要的解决方案中的库。

对于静态库，请转到`Librarian->General`并执行相同操作。

# ravendb - RavenDb 在 USB 密钥上嵌入在线/离线模式

> ID：13308283
> 
> 赞同：2
> 
> 时间：2012-11-09T12:41:02.123
> 
> 标签：ravendb

我想构建一个 Windows 应用程序 (WPF)，它将使用 RavenDb Embedded，并且支持使用 USB 密钥来定位中央数据库。

当 USB 密钥不存在时，应用程序将使用本地存储。

当 USB 密钥存在时，应用程序将使用密钥上的存储作为主存储。

当然，当 USB 密钥存在时，两个存储之间的数据会合并/同步。

是否有这样做的“已知”模式？两个商店之间是否有开箱即用的“合并”数据？RavenDb Embedded 是否支持“多商店数据库”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T14:35:06.837

根据[文档](http://ravendb.net/docs/server/multiple-databases)，嵌入式模式不支持多个数据库。但是，您可以通过创建两个具有不同 DataDirectory 路径的独立 EmbeddableDocumentStore 实例来自己管理多个数据库。

您可以启用[Embedded+HTTP](http://ravendb.net/docs/server/scaling-out/replication/from-embedded-server)模式在两个实例之间进行复制，只要将它们放在不同的 HTTP 端口上即可。

也就是说，我认为让 raven 直接使用 USB 密钥并不是一个好主意。担忧是：

1.  如果在写操作的过程中删除了密钥会发生什么？Raven 应该可以很好地处理关机，但我猜你会抛出一些异常，而且我认为它的设计并没有考虑到这种情况。

2.  磁盘 I/O 可能不足以提供性能，但这可能取决于 USB 记忆棒的额定速度。试试看，让我们知道您的表现如何。

# r - 不支持的目标函数返回值

> ID：13308285
> 
> 赞同：0
> 
> 时间：2012-11-09T12:41:13.990
> 
> 标签：r, optimization

这是我的代码：用`DEoptim`算法优化的函数；这个功能确实很简单。

可重现的代码：

```
library(DEoptim)
library(sm)

tau.0 <- c(58.54620, 61.60164, 64.65708, 71.19507, 82.39836, 101.28953, 119.68789)
rate <- c(0.04594674, 0.01679026, 0.02706263, 0.04182605, 0.03753949, 0.04740187, 0.05235710)
Du <- c(4.27157210, -0.07481174, -0.10551229, 0.51753843, 1.51075420, 6.51483315, 7.35631500)
Co <- c(0.2364985, -6.2947479, -7.5422644, -1.2745887, -42.6203118, 55.7663196, 70.9541141)

h <- h.select(x = tau.0, y = rate, method = 'cv')
sm <- sm.regression(x = tau.0, y = rate, h = h)
ya <- sm$estimate
xa <- sm$eval.points
y <- approx(x = xa, y = ya, xout = tau.0, rule = 2)$y

besty <- function(x) {

    dtau.0 <- x
    xout <- seq(1, max(tau.0), dtau.0)
    ratem <- approx(x = tau.0, y = rate / 1, xout = xout)$y
    ym <- approx(x = tau.0, y = y / 1, xout = xout)$y
    Dum <- approx(x = tau.0, y = Du, xout = xout)$y
    Com <- approx(x = tau.0, y = Co, xout = xout)$y
    dy <- NULL

    for(i in 1:length(ym)) {

        dy[i] <- ratem[i] - ym[i-1]

    }

    dy[is.na(dy)] <- na.omit(dy)[1]
    Dum[is.na(Dum)] <- na.omit(Dum)[1]
    Com[is.na(Com)] <- na.omit(Com)[1]
    dP <- Dum * dy - .5 * Com * dy ^ 2
    xout.m <- xout / 12
    dcurve <- cbind(dP * 100, xout.m)
    PVBP <- dcurve[which(dP == max(dP)),1]
    Maty <- dcurve[which(dP == max(dP)),2]

    return(- PVBP / x)

}

DEoptim(fn = besty, lower = 1, upper = 120) 
```

对我来说最后一个命令返回

```
ERROR: unsupported objective function return value 
```

我的代码`DEoptim`在优化方面有什么问题？

如果我替换最后一个函数的命令行

```
return(- PVBP / x) 
```

和

```
return(as.numeric(- PVBP / x)) 
```

它似乎`DEoptim`工作正常，直到几次迭代，然后......

```
> DEoptim(fn = besty, lower = 1, upper = 12)
Iteration: 1 bestvalit: -0.898391 bestmemit:    1.186242
Iteration: 2 bestvalit: -0.903304 bestmemit:    1.185117
Iteration: 3 bestvalit: -0.999273 bestmemit:    1.043355
Iteration: 4 bestvalit: -0.999273 bestmemit:    1.043355
Error in DEoptim(fn = besty, lower = 1, upper = 12) : 
  unsupported objective function return value 
```

也许是函数语法？

多谢你们 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T12:57:24.357

我不知道你到底想做什么，所以我不能给你一个准确的答案。但是，这里是找出问题所在的步骤。

1.  将您的功能更改为：

    ```
    besty <- function(x) {
        cat(x, "\n")
        dtau.0 <- x
        xout <- seq(1, max(tau.0), dtau.0)
       <snip> 
    ```

2.  现在，当您运行优化器时：

    ```
    set.seed(1)
    DEoptim(fn = besty, lower = 1, upper = 120) 
    ```

    您会打印出传递的值：

    ```
    32.6 
    45.28 
    69.17
    .... 
    ```

    特别是，它在`x = 8.353`传递值时中断。

3.  接下来，使用此特定值逐步执行您的函数，即

    ```
    x = 8.353
    dtau.0 <- x
    xout <- seq(1, max(tau.0), dtau.0)
    ratem <- approx(x = tau.0, y = rate / 1, xout = xout)$y
    ym <- approx(x = tau.0, y = y / 1, xout = xout)$y
    Dum <- approx(x = tau.0, y = Du, xout = xout)$y
    Com <- approx(x = tau.0, y = Co, xout = xout)$y
    .... 
    ```

    我不知道你在做什么，所以我不能告诉你什么是“错误的”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T15:48:36.830

由于 Aaron、Joshua Ulrich 和 csgillespie 提示而解决。

为了使代码正常工作，需要进行两项修改：

```
...
PVBP <- dcurve[which(dP == max(dP)),1]
Maty <- dcurve[which(dP == max(dP)),2]
... 
```

必须替换为

```
...
PVBP <- dcurve[which(dP == max(dP)),1][1]
Maty <- dcurve[which(dP == max(dP)),2][1]
... 
```

尽管

```
...
return(- PVBP / x)
... 
```

必须替换为

```
...
return(as.numeric(- PVBP / x))
... 
```

并且为了避免`NA`目标函数中的 s，需要将边界设置为

```
DEoptim(fn = besty, lower = 1, upper = max(tau.0) / 12) 
```

感谢帮助过我的人！

# c# - 关闭与数据库的所有连接以进行独占访问

> ID：13308286
> 
> 赞同：-1
> 
> 时间：2012-11-09T12:41:45.303
> 
> 标签：c#, sql-server-2008

在我的应用程序中，我有很多连接可以根据需要打开和关闭，但其中一些可能没有完全关闭！如果我出于恢复数据库或其他目标等原因需要独占访问数据库

如果我想恢复我的 bak 文件，由于活动连接会发生异常，即无法对数据库进行专有访问以进行恢复。所以我应该杀死 Connection 来恢复！

**更新1：** 使用代码块在我的代码句柄中的所有连接

```
using (SqlConnection con = new SqlConnection(BaseModule.ConnectionString))
                {
                   //Code
                } 
```

但我已经打开了连接

**更新 2：**此代码解决了我的问题：

```
ALTER DATABASE [dbName]
SET OFFLINE WITH ROLLBACK IMMEDIATE

ALTER DATABASE [dbName]
SET ONLINE 
```

但这是杀死活动连接的好方法吗？是否会导致在网络中运行的程序中丢失数据？

**更新 3：**

恢复 bak 文件代码：

```
 try
        {
            Restore objRestore = new Restore();
            ServerConnection con;
            con = new ServerConnection("(local)", BaseModule.dbUserName, BaseModule.dbPassWord);
            Server srv = new Server(con);
            objRestore.Database = BaseModule.dbName;
            objRestore.Action = RestoreActionType.Database;
            objRestore.Devices.AddDevice(dialogOpen.FileName, DeviceType.File);
            this.progressRestore.Value = 0;
            this.progressRestore.Maximum = 100;
            this.progressRestore.Value = 100;
            objRestore.PercentCompleteNotification = 10;
            objRestore.ReplaceDatabase = true;
            objRestore.PercentComplete += new PercentCompleteEventHandler(objRestore_PercentComplete);
            objRestore.SqlRestore(srv);
            MessageBox.Show("Completed");

        }
        catch (Exception exp)
        {
            MessageBox.Show("Error Occured" + exp.InnerException.ToString());
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T12:44:01.307

尝试这个：

```
use master
ALTER DATABASE YourDatabase SET SINGLE_USER WITH ROLLBACK IMMEDIATE 

--do you stuff here 

ALTER DATABASE YourDatabase SET MULTI_USER 
```

另外，看看这里：

[如何终止与 SQL Server 2005 数据库的所有当前连接？](https://stackoverflow.com/questions/11620/how-do-you-kill-all-current-connections-to-a-sql-server-2005-database)

# java - 如何基于其他集合的所有元素的笛卡尔积构建一个集合？

> ID：13308287
> 
> 赞同：4
> 
> 时间：2012-11-09T12:41:56.817
> 
> 标签：java, scala, collections

您能否分享基于多个数组/另一个集合中项目的完整迭代在 Scala 中创建不可变集合的任何好的解决方案？

例如，在 Java 中，您可以使用：

```
List<String> signals = ...;
List<SignalState> states = ...;

List<SignalAndState> result = new ArrayList<~>(signals.size() * states.size());

for (String signal: signals) {
  for (SignalState state: states) {
    // some if() condition or process() function can be here 
    result.add(new SignalAndState(signal, state))
  }
} 
```

使用 Scala 构建这样的东西的最佳实践是什么？我认为，相同的方法（在 for() 中使用 for()）是个坏主意，并且与 Scala 语言的对象功能性质完全不兼容。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T12:52:29.083

我不确定最佳实践，但是您可以实现此目的的一种方法是对我们使用`for`理解来创建您正在寻找的集合：

```
val signals = List[String](...)
val states = List[SignalState](...)

for(signal <- signals; state <- states) yield new SignalAndState(signal, state) 
```

这应该产生一个`List[SignalAndState]`包含所有元素的

或者，您可以使用`flatMap`and`map`来完成相同的结果，例如：

```
signals flatMap ( signal => states map ( state => new SignalAndState(signal, state))) 
```

# javascript - 使用延迟加载更改网站的背景图像

> ID：13308291
> 
> 赞同：0
> 
> 时间：2012-11-09T12:42:12.167
> 
> 标签：javascript, jquery, css, lazy-loading, background-image

在我的网站中，我有一个日历，每当用户将鼠标悬停在日历的一天上时，我都希望背景发生变化，但当然我不希望所有加载开销都发生在页面加载时，而是仅在用户悬停时发生超过一天。

我试图按照我在[这个问题](https://stackoverflow.com/questions/12014606/how-to-lazy-load-div-background-images)中的发现来做，但它似乎只在第一次工作。这是我在修改插件代码作为测试后所做的：

```
counter = 0;
  $('.calendar-day').hover(
    function() {
      if (counter == 0) {
        $('body').attr('data-background', template_url + '/images/bg_2.jpg'); 
        counter++;
      } else if (counter == 1) {
        $('body').attr('data-background', template_url + '/images/bg_3.jpg'); 
        counter++;
      } else if (counter == 2) {
        $('body').attr('data-background', template_url + '/images/bg_4.jpg'); 
        counter++;
      } else if (counter == 3) {
        $('body').attr('data-background', template_url + '/images/bg_1.jpg'); 
        counter = 0;
      }  
      $('body').lazyload();
    },
    function() {

    }  
  ); 
```

即使它确实触发了所有情况，也不会发生延迟加载，并且在第一次之后背景不会改变。对此有什么想法吗？也欢迎其他管理此问题的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:03:49.650

这可能对你有用。试试看：

```
var counter = -1,
    loadImage = function(onCase) {
        return function(e) {
            if (counter % 4 === onCase) {
                $('body').css('background-image', 'url(' + this.src + ')');
            }
        };
    };

$('body').on('mouseenter', '.calendar-day', function() {
    counter++;
    switch (counter % 4) {
        case 0:
            $('<img>').on('load', loadImage(0))
                .attr('src', template_url + '/images/bg_2.jpg');
            break;
        case 1:
            $('<img>').on('load', loadImage(1))
                .attr('src', template_url + '/images/bg_3.jpg');
            break;
        case 2:
            $('<img>').on('load', loadImage(2))
                .attr('src', template_url + '/images/bg_4.jpg');
            break;
        case 3:
            $('<img>').on('load', loadImage(3))
                .attr('src', template_url + '/images/bg_1.jpg');
            break;
    }
}); 
```

`onCase`旨在验证我们仍然想添加“这个”背景并且还没有移动到另一个，以防出现竞争情况。

**编辑：**更清洁的版本

```
var counter = -1,
    loadImage = function(index, backgroundImages) {
        $('<img>').on('load', function(e) {
            if (counter % backgroundImages.length === index) {
                $('body').css('background-image', 'url(' + this.src + ')');
            }
        }).attr('src', backgroundImages[index]);
    },
    backgroundImages = [
        template_url + '/images/bg_2.jpg',
        template_url + '/images/bg_3.jpg',
        template_url + '/images/bg_4.jpg',
        template_url + '/images/bg_1.jpg'
    ];

$('body').on('mouseenter', '.calendar-day', function() {
    counter++;
    loadImage(counter % backgroundImages.length, backgroundImages);
}); 
```

当元素`mouseenter`触发（第一个悬停状态，第二个是mouseleave）事件`.calendar-day`时，我们增加`counter`并调用`loadImage`. Using`counter % backgroundImages.length`将返回我们当前的索引，一个介于 0 - backgroundImages.length 之间的数字（不包括 backgroundImages.length 本身的值）。如果您不知道模符号 ( `%`)，您可以在[此处](http://en.wikipedia.org/wiki/Modulo_operation)阅读。

`loadImage`创建一个`img`未附加到 dom 的元素，添加一个事件侦听器来捕获图像何时加载，然后将`img`元素设置`src`为我们当前的图像。一旦图像被加载，我们检查我们是否仍然想将该图像作为背景（或者我们是否已经移动到另一个图像），如果是这样，那么我们设置`body`背景图像，确信它已经被加载。一旦图像被加载一次，它应该在我们的浏览器中捕获，所以下次我们附加一个事件侦听器以查看图像何时加载时，它应该立即触发。

希望我没有错过任何东西，如果有，请告诉我。

# oracle10g - 如何将 WSO2 数据服务 3.0 与 Oracle 10g 集成

> ID：13308293
> 
> 赞同：1
> 
> 时间：2012-11-09T12:42:30.193
> 
> 标签：oracle10g, wso2, wso2dss

我们使用带有 Oracle 10g (R 10.2.0.2) 的 Windows Server 8。

我们认为 Oracle JDBC Jar 是正确的，我们测试了一些可能性。

现在我们测试连接时的问题是：“不支持提供的数据源类型”。

有人有什么建议吗？

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T03:48:46.280

我相信您在 master-datasources.xml 或您在环境中使用的任何其他 *-datasources.xml 中定义的数据源配置一定存在问题。请仔细检查您的数据源配置中是否正确定义了以下行。所有 RDBMS 数据库都应配置为定义类型为“RDBMS”。

```
<definition type="RDBMS"> 
```

下面描述了满足您要求的完整示例数据源配置。

```
<datasource>
            <name>testds</name>
            <description>The datasource used for registry and user manager</description>
            <jndiConfig>
                <name>jdbc/testds</name>
            </jndiConfig>
            <definition type="RDBMS">
                <configuration>
                    <url>jdbc:oracle:thin:@localhost:1521:XE</url>
                    <username>test</username>
                    <password>test</password>
                    <driverClassName>oracle.jdbc.OracleDriver</driverClassName>
                    <maxActive>50</maxActive>
                    <maxWait>60000</maxWait>
                    <testOnBorrow>true</testOnBorrow>
                    <validationQuery>SELECT 1 FROM DUAL</validationQuery>
                    <validationInterval>30000</validationInterval>
                </configuration>
            </definition>
        </datasource> 
```

希望这可以帮助。

问候， 普拉巴斯

# random - 具有淡入淡出效果的随机变化背景

> ID：13308294
> 
> 赞同：1
> 
> 时间：2012-11-09T12:42:41.230
> 
> 标签：random, background, fadein, fadeout

阿罗哈 Stockoverflow。

先谢谢了！我正在尝试修改网页上随机变化的背景，以添加 FADE 效果，因此从一个背景到另一个背景的变化不会那么突然和尖锐。我试图通过网络无休止地搜索我的问题的解决方案，但这一切都指向添加一个 jQuery 插件，如果可能的话，我最好避免使用它。

我的工作代码如下，需要添加某种淡入/淡出效果。

```
<script type="text/javascript">     
   var num;
   var temp=0;
   var speed=5000; /* this is set for 5 seconds, edit value to suit requirements */
   var preloads=[];

/* add any number of images here */

preload(
        'images/bg1.jpg',
        'images/bg2.jpg',
        'images/bg3.jpg',
        'images/bg4.jpg',
        'images/bg5.jpg'

       );

function preload(){

for(var c=0;c<arguments.length;c++) {
   preloads[preloads.length]=new Image();
   preloads[preloads.length-1].src=arguments[c];
  }
 }

function rotateImages() {
   num=Math.floor(Math.random()*preloads.length);
if(num==temp){
   rotateImages();
 }
else {
   document.body.style.backgroundImage='url('+preloads[num].src+')';
   temp=num;

setTimeout(function(){rotateImages()},speed);
  }
 }

if(window.addEventListener){
   window.addEventListener('load',rotateImages,false);
 }
else { 
if(window.attachEvent){
   window.attachEvent('onload',rotateImages);
  }
 }      
</script> 
```

非常感谢您花时间看它。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:10:03.320

如何在没有插件的情况下做到这一点：

*   使用 2 层作为背景图像，将它们放在彼此的顶部。
*   用底层的第一张图片初始化页面，使顶层不可见（使用CSS opacity 属性，确保谷歌这个，不同的浏览器使用不同的方法）。

褪色时：

*   为顶层设置新图像。
*   使用短的循环（帧持续时间 < 40 毫秒）setTimeout 将顶层的不透明度增加到 1。使用 1/（速度/帧持续时间）的增量。
*   当完全淡入时，将底层设置为使用新的（现在可见的）图像，并将顶层设置为不透明度 0。

像这样：

```
<html>
<head>
    <script type="text/javascript">     
        var num;
        var current=0;
        var speed=5000; /* this is set for 5 seconds, edit value to suit requirements */
        var fps = 25;
        var fadeDuration = 1000;
        var opacityIncrement = 1/(fadeDuration/(1000/fps));
        var preloads=[];
        var topLayerOpacity = 0;

        var topLayer = document.createElement("div");
        var bottomLayer = document.createElement("div");

        setOpacity(topLayer, 0);

        /* add any number of images here */

        preload(
                'images/bg1.jpg',
                'images/bg2.jpg',
                'images/bg3.jpg',
                'images/bg4.jpg'

               );

        function loadComplete(){
            //add layers to background div
            document.getElementById('backgroundContainer').appendChild(bottomLayer);
            document.getElementById('backgroundContainer').appendChild(topLayer);

            rotateImages();
        }

        function preload(){

            //preload images
            for(var c=0;c<arguments.length;c++) {
                    preloads[preloads.length]=new Image();
                    preloads[preloads.length-1].src=arguments[c];
            }
        }

        // selecte new random image from preloads and start fade-in 
        function rotateImages() {
            num=Math.floor(Math.random()*preloads.length);
            //don't select current image
            if(num==current){
                rotateImages();
            }
            else {
               topLayer.style.backgroundImage = 'url('+preloads[num].src+')';
               current=num;

               //start fade-in
               fadeIn();

               setTimeout(function(){rotateImages()},speed);
            }
        }

        // fade in topLayer
        function fadeIn(){
            if (topLayerOpacity < 1){
                topLayerOpacity += opacityIncrement;
                setOpacity(topLayer, topLayerOpacity);// opacityIncrement);
                setTimeout(fadeIn, 1000/fps);
            }else{
                fadeInComplete();
            }   
        }

        //return opacity for element
        function getOpacity(el){
            alert (el.style.opacity);
            return el.style.opacity;
        }

        //sets opacity on element
        function setOpacity(el, val){
            el.style.opacity = val;
            el.style.filter = 'alpha(opacity=' + val*100 + ')';
        }

        //called when fadeIn completed
        function fadeInComplete(){
            bottomLayer.style.backgroundImage = topLayer.style.backgroundImage;
            topLayerOpacity = 0;
            setOpacity(topLayer, topLayerOpacity);
        }

        if(window.addEventListener){
            window.addEventListener('load',loadComplete,false);
        }
        else { 
            if(window.attachEvent){
                window.attachEvent('onload',loadComplete);
            }
        }      

    </script>

    <style type="text/css">

        #backgroundContainer{
            width:100%;
            height:100%;
            position:absolute;
            /*background-color:green;*/
        }

        #backgroundContainer div{
            width:100%;
            height:100%;
            position:absolute;
            top:0;
        }

        .page {
            width:100%;
            text-align:center;
            position:absolute;
        }

        .contents{
            width:400px;
            margin:0 auto;
            background-color:lightblue;
        }
    </style>
</head>
<body>
    <!-- holds background layers -->
    <div id="backgroundContainer"></div>

    <!-- substitutes for 'body' on this webpage -->
    <div class="page">

        <!-- contents for your webpage, through css centered within page-div -->
        <div class="contents">
            <p>Contents</p>
        </div>
    </div>
</body>
</html> 
```

**或者**

使用 jQuery/mootools/script.aculo.us/...

祝你好运！

# java - 在 Resteasy 中创建 Excel

> ID：13308299
> 
> 赞同：6
> 
> 时间：2012-11-09T12:43:04.973
> 
> 标签：java, apache-poi, resteasy

我想从我的 RestEasy 网络服务创建/返回一个 excel 文件，但在让它工作时遇到了一些麻烦。当我运行下面的代码（伪代码）时，出现以下错误：

> org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure：找不到 MessageBodyWriter 类型的响应对象：媒体类型的 java.io.FileOutputStream：application/vnd.ms-excel

这是一些代码

```
@POST
@Path("/exportMyData")
@Produces("application/vnd.ms-excel")
public Response getMyData(@FormParam("id") String id) {
    HSSFWorkbook hwb = new HSSFWorkbook();
    ResponseBuilder response = null;
    try{
        List<Alert> alertList= service.getAlerts(id);

        HSSFSheet sheet =  hwb.createSheet("new sheet");

        HSSFRow rowhead=   sheet.createRow((short)0);
        rowhead.createCell((int) 0).setCellValue("ID");
        rowhead.createCell((int) 1).setCellValue("Name");
        rowhead.createCell((int) 2).setCellValue("Age");

        for(Alert alert : alertList){
            HSSFRow row=   sheet.createRow((short)1);
            row.createCell((int) 0).setCellValue(alert.getId());
            row.createCell((int) 1).setCellValue(alert.getName());
            row.createCell((int) 2).setCellValue(alert.getAge());
        }

        FileOutputStream fos = new FileOutputStream("mystream.xls");
        hwb.write(fos);
        response = Response.ok(fos);            
        response.header("Content-disposition","attachment; filename=export.xls");
    }catch(Exception e){

    }

    return response.build();
} 
```

有任何想法吗？提前致谢/埃里克

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-10-28T19:29:50.977

我发现如果您执行以下操作，它将起作用：

```
ByteArrayOutputStream baos = new ByteArrayOutputStream();
hwb.write(baos);
response = Response.ok(baos.toByteArray());
response.header("Content-disposition", "attachment; filename=export.xls"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-24T00:52:36.890

您返回 Excel 的要求不需要 RestEasy。您可以使用普通的旧 servlet 来执行此操作。

RestEasy 用于实现返回 XML、JSON 或纯文本的 REST 服务。@Produces 不支持“application/vnd.ms-excel”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-11T08:15:53.543

您需要使用 MessageBodyWriter/MessageBodyReader 接口创建自定义 mediaType。请参阅此（[如何在 JAX-RS 中处理/创建新的内容类型/媒体类型？](https://stackoverflow.com/questions/17480830/how-to-handle-create-new-content-type-mediatype-in-jax-rs)）。

# asp.net-mvc-3 - Consuming Web Api's as HttpPost

> ID：13308307
> 
> 赞同：0
> 
> 时间：2012-11-09T12:43:22.257
> 
> 标签：asp.net-mvc-3, asp.net-mvc-4, asp.net-web-api, asp.net-mvc-areas, wcf-web-api

Can somebody help me how to post an array of type long to a WebApi.

I think I have to use PostAsync from HttpClient, but I am not sure how to put array to HttpContent.

This is my controller.

```
 [HttpPost]
 [Authorize]
 public void UpdateBatchesToReadyToShip(long[] batchIds)
 {
            // process request
  } 
```

And this is how I am trying to consume API

```
var buffer = Encoding.ASCII.GetBytes("username:password");
var authHeader = new AuthenticationHeaderValue("Basic", Convert.ToBase64String(buffer));
client.DefaultRequestHeaders.Authorization = authHeader;
var arr = new long[3];
arr[0] = 10;
arr[1] = 12;
arr[2] = 13;
HttpContent content = new StringContent(string.Join(",", from i in arr select i.ToString()));
var task = client.PostAsync("https://<uri>/api/orderprocessing/UpdateBatchesToReadyToShip",content:content);
if (task.Result.StatusCode == HttpStatusCode.Unauthorized)
{
Console.WriteLine("wrong credentials");
}
else
{
//task.Result.EnsureSuccessStatusCode();
HttpResponseMessage message = task.Result;
if (message.IsSuccessStatusCode)
{
var details = message.Content.ReadAsStringAsync().Result;
Console.Write(details);
}
} 
```

And I am getting this exception

```
{StatusCode: 500, ReasonPhrase: 'Internal Server Error', Version: 1.1, Content: System.Net.Http.StreamContent, Headers:
{
  Pragma: no-cache
  Cache-Control: no-cache
  Date: Fri, 09 Nov 2012 12:37:44 GMT
  Server: Microsoft-IIS/8.0
  X-AspNet-Version: 4.0.30319
  X-Powered-By: ASP.NET
  Content-Length: 1060
  Content-Type: application/json; charset=utf-8
  Expires: -1
}} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T15:27:24.623

Instead of using StringContent, you can use ObjectContent:

```
var content = new ObjectContent<long[]>(arr, new JsonMediaTypeFormatter());

var task = client.PostAsync(
    "https://<uri>/api/orderprocessing/UpdateBatchesToReadyToShip",
    content:content); 
```

# apache-flex - Flex Mobile：file.exists 问题

> ID：13308309
> 
> 赞同：1
> 
> 时间：2012-11-09T12:43:29.043
> 
> 标签：apache-flex, mobile, air, flex4

我正在开发一个示例移动应用程序并且在处理文件存储时遇到问题。

下面是我的代码：

```
var dbFile:File = File.applicationStorageDirectory.resolvePath( "mydb.db");

if(dbFile.exists) //always return false
{
    startConnection();
}
else
{
    trace("File storage issue.");
} 
```

它总是去跟踪语句。

下面是 dbFile 对象的调试视图： ![文件对象调试视图](../Images/1b3f3ae8b530f62b90da8dc8446fcbd5.png)

非常感谢任何指向解决方案的指针。谢谢。

# integration-testing - Spring AbstractTransactionalJUnit4SpringContextTests 和 simpleJdbcTemplate

> ID：13308312
> 
> 赞同：0
> 
> 时间：2012-11-09T12:43:36.920
> 
> 标签：integration-testing, spring-test

我正在尝试使用`AbstractTransactionalJUnit4SpringContextTests`. 我想使用`executeSQLScript`这个类的方法。

但是，当`executeSQLScript`调用方法时，它会抛出，`NullPointerException`因为`simpleJdbcTemplate`类的参数`AbstractTransactionalJUnit4SpringContextTests`没有被初始化。

我的代码如下所示：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration({"classpath:test-services-spring-context.xml"})
@TransactionConfiguration(transactionManager = "promoTransactionManager")
public class PromoBrickDAOIT extends AbstractTransactionalJUnit4SpringContextTests {

    @Autowired
    private PromoBricksDAO promoBricksDAO;

    @Before
    public void setUp(){
        executeSqlScript("classpath:testdata/sql/PromoBrick_Create.sql",     false);
    }

    @After
    public void tearDown(){
    }

    @Test  
    public void testPromoBrickGivenBrowseTaxonomyNodeId(){
        String btxNodeId = "v1_12";
        List<PromoBrick> promoBricks =     promoBricksDAO.findByBtxNodeId(btxNodeId);
        assertNotNull(promoBricks);
        assertEquals(promoBricks.size(), 1);
        PromoBrick promoBrick = promoBricks.get(0);
        assertNotNull(promoBrick);
    }

    public void setDataSource (@Qualifier("promoDataSource") DataSource     dataSource)    {
            super.setDataSource(dataSource);
    }
} 
```

在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T14:27:48.047

你缺少`@Autowired`你的`setDataSource()`方法。

请参阅Spring 参考手册[的测试夹具的依赖注入](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/testing.html#testcontext-fixture-di)部分中的最后一条注释。

# objective-c - 应用程序外的 iOS 计时器

> ID：13308313
> 
> 赞同：2
> 
> 时间：2012-11-09T12:43:49.200
> 
> 标签：objective-c, ios

我正在尝试制作我的第一个应用程序，它运行得非常好。我知道很多编程语言，但是我遇到了一个问题。

我试图限制用户每小时最多执行一项操作。我一直在尝试做一个计时器。我还涉足了一些服务器端代码来帮助我，但是我似乎无法让它工作。我想知道是否有人有任何可以帮助我的答案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:54:13.760

您无法在本地通过 iPhone 实现。

*   可以更改设备上的时钟时间，存储时间戳的解决方案将不起作用。
*   计时器不在后台运行。所以这个解决方案行不通。

要实现它，您将不得不编写服务器端业务。在执行任何操作之前，请从服务器端检查是否已经过了一个小时。每当有对服务器的请求时，服务器都会更新该特定用户的上次操作时间（如果已经过了一小时）。这个时间将由服务器设置，不依赖于客户端的本地时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:48:57.257

可能最好的方法如下： 1\. 保持用户操作的最后时间是某个文件或数据库（或在 NSUserDefaults 中） 2\. 在让用户执行操作时检查存储的时间戳以查看自 1 小时以来是否已经过去最后一次调用。

此外，可能需要根据服务器端检查这一点（以避免删除和重新安装应用程序重置存储的时间戳）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:49:57.283

尝试这样的事情：

```
@interface YourClass
@property (assign, nonatomic) double lastActionTime;
@end

@implementation YourClass

- (BOOL)isActionAllowed
{
    double currentTime = [[NSDate date] timeIntervalSince1970];
    if (currentTime - 3600 > lastActionTime)
    {
        lastActionTime = currentTime;
        return YES;
    }
    return NO;
}

@end 
```

即使应用程序关闭，您也可以保存`lastActionTime`以保留它。`NSUserDefaults`

该解决方案假设用户不更改日期或重新安装应用程序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T12:50:28.733

使用**NSTimer**禁用一个小时的操作。

`scheduledTimerWithTimeInterval`将帮助您实现这一目标。

```
NSTimer* timer = [NSTimer scheduledTimerWithTimeInterval:yourTimeinterval target:self selector:@selector(trigger) userInfo:nil repeats:YES]; 
```

# objective-c - 尝试在 Xcode 4.5 中使用 iOS 4.3 测试 iPad

> ID：13308317
> 
> 赞同：0
> 
> 时间：2012-11-09T12:44:01.173
> 
> 标签：objective-c, ios, xcode4, osx-mountain-lion, ios4

所以，我正在尝试在 Xcode 模拟器上测试我们的游戏。我正在使用 OSX-Mountain Lion 并拥有 Xcode 4.5，但我需要使用 iPad 模拟器测试 iOS 4.3。这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:46:28.307

在构建设置中将**部署目标设置为 4.3**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:50:35.443

确保您的部署目标设置为 iOS 4.3，并下载**iOS 4.3 模拟器**（在 Xcode 中：*设置*->*下载*->*组件*-> *iOS 4.3 模拟器*）。完成后，在您的方案中选择“iPad 4.3 Simulator”（Xcode 主窗口左上角的选择器），然后运行！

# c++ - Chromium 嵌入式 64 位构建

> ID：13308318
> 
> 赞同：0
> 
> 时间：2012-11-09T12:44:01.960
> 
> 标签：c++, visual-c++, google-chrome

在哪里获得这个版本。V8 和 Chromium 都针对 64 位进行编译。那么为什么没有 64 位构建呢？

我不喜欢在我的应用程序中使用 IE。出于显而易见的原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:53:13.510

您可以像在 Linux 中构建 x64 一样构建 Chromium 和 V8，只是它在 Windows 上不受支持。来自“ 64 位支持”下的[Chromium 设计文档：](http://www.chromium.org/developers/design-documents/64-bit-support)

> `-Dtarget_arch=x64`可以使用GYP 构建系统上的标志在Linux 上构建 64 位版本的 Chromium 。（这是 64 位 Linux 系统的默认设置。）
> 
> Chromium 使用的 64 位版本的 V8 JavaScript 引擎可以使用`--arch=x64`v8 的 Scons 构建系统中的标志单独构建。这适用于 Linux 和 Mac OS X 平台。
> 
> Chromium 和 V8 目前在 Windows 平台上都没有 64 位版本。但是，Chrome 确实作为 32 位应用程序在 64 位 Windows 上运行。V8 应该只需要进行少量更改即可在 Windows 平台上构建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:37:08.767

谷歌似乎在 Windows 64 位端口上工作（如果这是你的意思） - 这个错误已被分配：[http ://code.google.com/p/chromium/issues/detail?id=8606](http://code.google.com/p/chromium/issues/detail?id=8606)

# android - 如何访问 Classloaders/App Linearalloc 类信息大小？

> ID：13308321
> 
> 赞同：4
> 
> 时间：2012-11-09T12:44:15.220
> 
> 标签：android, memory, android-ndk, classloader, dalvik

***信息：不是应该在这里解决的 LinearAlloc 问题！***

你好，

我的问题是分析 LinearAlloc 超出容量错误（1）。虽然我已经有了错误的解决方案，但我仍然需要一种方法来分析正在运行的应用程序的使用大小。我使用的是Android 4.0.3（不能更新），也就是说容量是8mb。

错误发生在运行时，因为应用程序/库是动态加载的（2）。在第 306 行的 LinearAlloc.cpp (3) 中，我的解决方案是：

`LOGVV("--- old=%d size=%d new=%d", startOffset, size, nextOffset);`

***如何启用 VeryVerbose 日志级别？***

或者

***是否有另一种方法可以访问 bootclasspath 类加载器标头的已用内存大小（参见（3））？***

***也许来自 NDK-Api？***

如果我被正确告知，它就是类信息的记忆。我正在寻找该用途的特定内存。

***使用了多少容量以及如何在运行时访问它？***

没有必要在代码中访问它我只需要这个值。如果它是可计算的，`dumpsys meminfo`或者`DDMS`它是否也可以解决问题。

不需要root的解决方案是首选！

(1) [LinearAlloc 超出容量](http://code.google.com/p/android/issues/detail?id=22586)

(2) 不允许发布3个链接：google: Custom Classloading Android

(3) [LinearAlloc.cpp](http://code.metager.de/source/xref/android/4.0.3/dalvik/vm/LinearAlloc.cpp)

编辑：添加 NDK-API 作为可能的解决方案。

PS这是我的第一个问题/欢迎任何改进建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-20T08:19:42.963

据我所知，没有适用于 Dalvik LinearAlloc Si​​ze 的 SDK/NDK API。但是你可以通过访问 Linux Interface /proc//smap 来计算这个大小以获取详细信息。

地图：

```
/dev/ashmem/dalvik-LinearAlloc 
```

在 Dalvik 代码中，此内存最大映射大小为**16M**。而这个内存是mmap分配的，所以基本块是4K。所以如果你想计算这个内存使用量是使用@Smap `RSS`。

# objective-c - “未找到实例方法”警告的 -Wsomething 标志是什么？

> ID：13308322
> 
> 赞同：12
> 
> 时间：2012-11-09T12:44:20.353
> 
> 标签：objective-c, cocoa, warnings, clang

我最近遇到一个案例，有人在 init 方法中添加了一个参数，并破坏了另一个共享代码的项目。由于这只是一个警告，没有人意识到该应用程序已损坏，因此我试图仅将此警告变为错误：

```
warning: instance method '-someMethod' not found (return type defaults to 'id') 
```

我发现您可以将 Other C Flags 中的 -Werror=foo 传递给 Xcode 中的编译器，以将警告转换为错误，但我似乎找不到 'foo' 应该是什么。我已经尝试过“未声明的选择器”，但这只捕获了@selector 案例。我试过 -Werror-implicit-function-declaration 但这似乎也没有抓住这种情况。

在偶然搜索巨大的 clang 源代码期间找到“warn_inst_method_not_found”后，我尝试了“inst-method-not-found”和“instance-method-not-found”。

帮助 ... ？

**更新：** 这是一个您可以编译的示例（例如在 CodeRunner 中）以查看警告：[https ://gist.github.com/4045701](https://gist.github.com/4045701)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-16T23:21:19.220

您正在寻找的选项是`-Werror=objc-method-access`. 如果您下载并编译您发布的要点，Clang 在警告消息中明确告诉您这一点：

```
% clang test.m -c
test.m:13:21: warning: instance method '-initWithNum:' not found (return type
      defaults to 'id') [-Wobjc-method-access]
  ...theObj = [[MyClass alloc] initWithNum: [NSNumber numberWithInt: 15]];
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 warning generated.

% clang test.m -Werror=objc-method-access -c  // ta-da! 
```

但在实际情况下，我同意上述所有评论者的观点：您应该修复或禁止*所有*编译器警告。您的构建应该一直干净地*构建*。否则，正如您正确地观察到的那样，您将无法将真正的错误与“通常的垃圾邮件”区分开来。

FWIW，这是我正在使用的 Clang 版本：

```
$ clang --version
clang version 3.2  (http://llvm.org/git/llvm 1503aba4a036f5394c7983417bc1e64613b2fc77)
Target: x86_64-apple-darwin12.2.0
Thread model: posix 
```

# php - Symfony2 - 无法登录（用户存储库）

> ID：13308324
> 
> 赞同：1
> 
> 时间：2012-11-09T12:44:43.830
> 
> 标签：php, security, symfony, yaml

我有点问题......遵循 Symfony2 的手册，现在我坚持让自己登录：s

任何帮助都会欢迎这个新手。所以这是我的用户实体：

```
<?php

namespace SocialGeo\BackendBundle\Entity;

use Doctrine\ORM\Mapping as ORM;
use Symfony\Component\Security\Core\User\UserInterface;
use Symfony\Component\Security\Core\User\EquatableInterface; 
use Symfony\Component\Security\Core\User\AdvancedUserInterface;
use Doctrine\Common\Collections\ArrayCollection;
/**
* SocialGeo\BackendBundle\Entity\Users
*/
class Users implements AdvancedUserInterface
{
/**
 * @var integer $userId
 */
private $userId;

/**
 * @var string $username
 */
private $username;

/**
* @ORM\Column(type="string", length=60)
*/
private $salt;

/**
 * @var string $userPassword
 */
private $userPassword;

/**
 * @var string $userEmail
 */
private $userEmail;

/**
 * @var boolean $userActive
 */
private $userActive;

/**
 * @var string $userFavourites
 */
private $userFavourites;

/**
 * @var integer $userScore
 */
private $userScore;

/**
 * @var \Doctrine\Common\Collections\ArrayCollection
 */
private $rolesRole;

/**
 * Constructor
 */
public function __construct()
{
    $this->rolesRole = new ArrayCollection();
    $this->salt = md5(uniqid(null, true));
}

/**
 * Get userId
 *
 * @return integer 
 */
public function getUserId()
{
    return $this->userId;
}

/**
 * Set username
 *
 * @param string $username
 * @return Users
 */
public function setUsername($username)
{
    $this->username = $username;

    return $this;
}

/**
 * Get username
 *
 * @return string 
 */
public function getUsername()
{
    return $this->username;
}

/**
 * Set userPassword
 *
 * @param string $userPassword
 * @return Users
 */
public function setUserPassword($userPassword)
{
    $this->userPassword = $userPassword;

    return $this;
}

/**
 * Get userPassword
 *
 * @return string 
 */
public function getUserPassword()
{
    return $this->userPassword;
}

/**
 * Set userEmail
 *
 * @param string $userEmail
 * @return Users
 */
public function setUserEmail($userEmail)
{
    $this->userEmail = $userEmail;

    return $this;
}

/**
 * Get userEmail
 *
 * @return string 
 */
public function getUserEmail()
{
    return $this->userEmail;
}

/**
 * Set userActive
 *
 * @param boolean $userActive
 * @return Users
 */
public function setUserActive($userActive)
{
    $this->userActive = $userActive;

    return $this;
}

/**
 * Get userActive
 *
 * @return boolean 
 */
public function getUserActive()
{
    return $this->userActive;
}

/**
 * Set userFavourites
 *
 * @param string $userFavourites
 * @return Users
 */
public function setUserFavourites($userFavourites)
{
    $this->userFavourites = $userFavourites;

    return $this;
}

/**
 * Get userFavourites
 *
 * @return string 
 */
public function getUserFavourites()
{
    return $this->userFavourites;
}

/**
 * Set userScore
 *
 * @param integer $userScore
 * @return Users
 */
public function setUserScore($userScore)
{
    $this->userScore = $userScore;

    return $this;
}

/**
 * Get userScore
 *
 * @return integer 
 */
public function getUserScore()
{
    return $this->userScore;
}

/**
 * Add rolesRole
 *
 * @param SocialGeo\BackendBundle\Entity\Roles $rolesRole
 * @return Users
 */
public function addRolesRole(\SocialGeo\BackendBundle\Entity\Roles $rolesRole)
{
    $this->rolesRole[] = $rolesRole;

    return $this;
}

/**
 * Remove rolesRole
 *
 * @param SocialGeo\BackendBundle\Entity\Roles $rolesRole
 */
public function removeRolesRole(\SocialGeo\BackendBundle\Entity\Roles $rolesRole)
{
    $this->rolesRole->removeElement($rolesRole);
}

/**
 * Get rolesRole
 *
 * @return Doctrine\Common\Collections\Collection 
 */
public function getRolesRole()
{
    return $this->rolesRole->toArray();
}

public function eraseCredentials() 
{

}

public function getPassword() 
{
    return $this->userPassword;
}

public function getRoles() 
{
    //return $this->groups->toArray();
    return $this->getRolesRole();
}

public function getSalt() 
{
    return $this->salt;
}
public function isEqualTo(UserInterface $users)
{
    return $this->username === $users->getUsername();
}

public function isAccountNonExpired() {
    return true;
}

public function isAccountNonLocked() {
    return true;
}

public function isCredentialsNonExpired() {
    return true;
}

public function isEnabled() {
    return $this->userActive;
}
} 
```

我的角色实体：

```
<?php

namespace SocialGeo\BackendBundle\Entity;

use Symfony\Component\Security\Core\Role\RoleInterface;
use Doctrine\Common\Collections\ArrayCollection;
use Doctrine\ORM\Mapping as ORM;

/**
 * SocialGeo\BackendBundle\Entity\Roles
 */
class Roles implements RoleInterface
{
/**
 * @var integer $roleId
 */
private $roleId;

/**
 * @var string $roleName
 */
private $roleName;

/**
* @ORM\Column(name="role", type="string", length=20, unique=true)
*/
private $role;

/**
 * @var string $roleDescription
 */
private $roleDescription;

/**
 * @var \Doctrine\Common\Collections\ArrayCollection
 */
private $usersUser;

/**
 * Constructor
 */
public function __construct()
{
    $this->usersUser = new ArrayCollection();
}

/**
 * Get roleId
 *
 * @return integer 
 */
public function getRoleId()
{
    return $this->roleId;
}

/**
 * Set roleName
 *
 * @param string $roleName
 * @return Roles
 */
public function setRoleName($roleName)
{
    $this->roleName = $roleName;

    return $this;
}

/**
 * Get roleName
 *
 * @return string 
 */
public function getRoleName()
{
    return $this->roleName;
}

/**
 * Set roleDescription
 *
 * @param string $roleDescription
 * @return Roles
 */
public function setRoleDescription($roleDescription)
{
    $this->roleDescription = $roleDescription;

    return $this;
}

/**
 * Get roleDescription
 *
 * @return string 
 */
public function getRoleDescription()
{
    return $this->roleDescription;
}

/**
 * Add usersUser
 *
 * @param SocialGeo\BackendBundle\Entity\Users $usersUser
 * @return Roles
 */
public function addUsersUser(\SocialGeo\BackendBundle\Entity\Users $usersUser)
{
    $this->usersUser[] = $usersUser;

    return $this;
}

/**
 * Remove usersUser
 *
 * @param SocialGeo\BackendBundle\Entity\Users $usersUser
 */
public function removeUsersUser(\SocialGeo\BackendBundle\Entity\Users $usersUser)
{
    $this->usersUser->removeElement($usersUser);
}

/**
 * Get usersUser
 *
 * @return Doctrine\Common\Collections\Collection 
 */
public function getUsersUser()
{
    return $this->usersUser;
}

public function getRole() {
    return $this->role;
}
} 
```

用户存储库实体：

```
<?php

namespace SocialGeo\BackendBundle\Entity;

use Symfony\Component\Security\Core\Role\RoleInterface;
use Doctrine\Common\Collections\ArrayCollection;
use Doctrine\ORM\Mapping as ORM;

/**
 * SocialGeo\BackendBundle\Entity\Roles
 */
class Roles implements RoleInterface
{
/**
 * @var integer $roleId
 */
private $roleId;

/**
 * @var string $roleName
 */
private $roleName;

/**
* @ORM\Column(name="role", type="string", length=20, unique=true)
*/
private $role;

/**
 * @var string $roleDescription
 */
private $roleDescription;

/**
 * @var \Doctrine\Common\Collections\ArrayCollection
 */
private $usersUser;

/**
 * Constructor
 */
public function __construct()
{
    $this->usersUser = new ArrayCollection();
}

/**
 * Get roleId
 *
 * @return integer 
 */
public function getRoleId()
{
    return $this->roleId;
}

/**
 * Set roleName
 *
 * @param string $roleName
 * @return Roles
 */
public function setRoleName($roleName)
{
    $this->roleName = $roleName;

    return $this;
}

/**
 * Get roleName
 *
 * @return string 
 */
public function getRoleName()
{
    return $this->roleName;
}

/**
 * Set roleDescription
 *
 * @param string $roleDescription
 * @return Roles
 */
public function setRoleDescription($roleDescription)
{
    $this->roleDescription = $roleDescription;

    return $this;
}

/**
 * Get roleDescription
 *
 * @return string 
 */
public function getRoleDescription()
{
    return $this->roleDescription;
}

/**
 * Add usersUser
 *
 * @param SocialGeo\BackendBundle\Entity\Users $usersUser
 * @return Roles
 */
public function addUsersUser(\SocialGeo\BackendBundle\Entity\Users $usersUser)
{
    $this->usersUser[] = $usersUser;

    return $this;
}

/**
 * Remove usersUser
 *
 * @param SocialGeo\BackendBundle\Entity\Users $usersUser
 */
public function removeUsersUser(\SocialGeo\BackendBundle\Entity\Users $usersUser)
{
    $this->usersUser->removeElement($usersUser);
}

/**
 * Get usersUser
 *
 * @return Doctrine\Common\Collections\Collection 
 */
public function getUsersUser()
{
    return $this->usersUser;
}

public function getRole() {
    return $this->role;
}
} 
```

最后一个：security.yml：

```
security:
 encoders:
    SocialGeo\BackendBundle\Entity\Users:
        algorithm: sha1
        encode_as_base64: false
        iterations: 1 

 role_hierarchy:
    ROLE_ADMIN: ROLE_USER
    ROLE_SUPER_ADMIN: [ ROLE_USER, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH ]

 providers:
  users:
    entity: { class: SocialGeoBackendBundle:Users }

 firewalls:
    admin_area:
        pattern: ^/users
        http_basic: ~

 access_control:
    - { path: ^/login, roles: ROLE_ADMIN } 
```

问题是我的应用程序每次都要求我登录，但我无法登录（每次我都转到 /users 页面）。家是可以访问的。

因此，当我转到 /users 时，浏览器会弹出一个基本的 http: 并询问我的凭据，当我填写它们并按 Enter 时，我会得到相同的浏览器弹出窗口，要求我登录...

编辑：我在每个用户的数据库中的盐是：7308e59b97f6957fb42d66f894793079，我的每个用户的密码是“通过”，用 sha1 散列到：9d4e1e23bd5b727046a9e3b4b7db57bd8d6ee684

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T14:10:31.180

您的密码散列不正确。您应该将盐与明文密码一起使用。在散列之前尝试在密码前加上盐。

`update users set password = sha1(concat('7308e59b97f6957fb42d66f894793079', 'pass'))`

# java - 如何在 Eclipse 中禁用 JBoss Tools 编辑器？

> ID：13308325
> 
> 赞同：4
> 
> 时间：2012-11-09T12:44:44.593
> 
> 标签：java, eclipse, jboss, eclipse-plugin

我确实有一个问题，即默认情况下我的所有文件都是使用相关的 JBoss 工具编辑器打开的。不幸的是，它们在我的机器上很慢，如果我只想编辑 XML 文件中的单个标签左右，它们并不总是有用的。

如果可能的话，我不想卸载 JBoss 工具，因为它有时会很有用。但我想默认使用内置编辑器打开我的文件。

**这是我的问题：** 如何禁用 JBoss Tools 编辑器并将内置编辑器设置为我的 Eclipse 的默认编辑器？如何为**内容相关的文件关联**禁用 JBoss 工具编辑器？

谢谢你。:-)

* * *

与以下内容重复：

*   [如何在 Eclipse 中添加编辑器？](https://stackoverflow.com/questions/11800186/how-to-add-editors-to-eclipse)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T12:47:43.523

您可以设置将在默认情况下打开文件的编辑器

**首选项-> 编辑器-> 文件关联**菜单。

选择关联的编辑器之一，然后按**默认**按钮。

编辑：您可以细化文件关联。要更改文件的`web.xml`关联，请进入相同的文件关联菜单，然后单击右上角的**添加**。键入`web.xml`并按**OK**，然后编辑关联的编辑器。

编辑2：

不幸的是，没有将编辑器与内容类型直接关联的设置。内容类型菜单主要用于设置默认编码。编辑器关联由文件关联传递。

您可以将文件扩展名或完整文件名与编辑器相关联。通配符受到限制，因此您无法将编辑器与所有`.x*ml`文件相关联。

如果您可以进行多项更改，以下是`.xhtml`使用内置网页编辑器打开所有文件的示例步骤（在我的 3.7 中尝试并工作）：在文件关联菜单中，单击`.xhtml`项目，然后选择编辑器您在下面的列表中选择，然后单击右侧的**默认按钮。**从现在开始，双击`.xhtml`文件将在内置编辑器而不是 JBoss 工具中打开它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-31T18:16:18.117

打开 xhtml 文件时，您可以使用“源”选项卡作为默认选项。

首选项 -> JBoss 工具 -> Web -> 编辑器

仅标记“使用源选项卡作为默认值”选项。

# php - 调用未知方法“_compile_source”。灵巧3

> ID：13308327
> 
> 赞同：0
> 
> 时间：2012-11-09T12:44:51.423
> 
> 标签：php, smarty, smarty3, cmsmadesimple

希望有人可以帮助我。我在 CMSMS 中使用 smarty，并且在我的页面中运行了一个称为用户定义标签的东西。这包含以下代码：

```
$db = cmsms()->GetDb(); 
$menu = $smarty->get_template_vars('page'); 
$user_id = $smarty->get_template_vars('userid'); 
if (!isset($user_id)) { 
  $user_id = -1; 
} 

// Getting menu items from DB 
$query = 'SELECT * FROM '. cms_db_prefix() .'module_tools_options 
 WHERE active = 1 AND user_id = ? AND menu = ? 
 ORDER BY sort'; 
$dbresult = $db->Execute($query, array($user_id, $menu)); 

while ($dbresult && $row = $dbresult->FetchRow()) { 
$smarty->_compile_source('preprocess template', $row['title'], $_compiled); 
@ob_start(); 
$smarty->_eval('?>' . $_compiled); 
$result = @ob_get_contents(); 
@ob_end_clean(); 
   echo '<li id="menu_' . $row['option_id'] . '">' . $result . "</li>\n"; 
} 
```

我已经升级了 CMSMS 安装，所以它现在运行 smarty 3，这破坏了我的页面。我收到以下错误：

> /lib/smarty/sysplugins/smarty_internal_templatebase.php：调用未知方法“_compile_source”。

我猜 Compile Source 方法在 Smarty 3 中已经被贬值了。谁能指出我正确的替换方向或让它再次工作的方法？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-11T10:39:59.840

代替：

```
$smarty->_compile_source('preprocess template', $row['title'], $_compiled); 
@ob_start(); 
$smarty->_eval('?>' . $_compiled); 
$result = @ob_get_contents(); 
@ob_end_clean(); 
```

和：

```
$result = $smarty->fetch('string:'.$row['title']); 
```

# java - XSLT 如何使用数组过滤数据

> ID：13308330
> 
> 赞同：1
> 
> 时间：2012-11-09T12:45:18.507
> 
> 标签：java, xslt-1.0, xslt

我是 XSLT 的初学者。我的源 XML：

```
<Request>
   <Documents>
      <Doc Type="A">123</Doc>
      <Doc Type="C">345</Doc>
   </Documents>
</Request> 
```

我的响应 XML：

```
<Response>
   <RequestedDoc>
       <Doc Type="A">123</Doc>
       <Doc Type="C">345</Doc>
   </RequestedDoc>
   <Result>
      <Document>
         <Id>A123</Id>
         <Name>Doc1</Name>
      </Document>
      <Document>
         <Id>E143</Id>
         <Name>Doc2</Name>
      </Document>
      <Document>
         <Id>C345</Id>
         <Name>Doc3</Name>
      </Document>
      <Document>
         <Id>D153</Id>
         <Name>Doc4</Name>
      </Document>
   </Result>
</Response> 
```

我需要`Result`使用标签过滤`RequestedDoc`标签。我在 XSLT 下尝试过，但它只返回第一个结果。

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
   <xsl:output method="xml" indent="yes" />
   <xsl:variable name="requestedDoc" select="//RequestedDoc/Doc"/>

   <xsl:template match="Response">
      <xsl:element name="FilterResult">
          <xsl:apply-templates select="//Result/Document[contains(Id,$requestedDoc)]"/>
      </xsl:element>
   </xsl:template>

   <xsl:template match="Document">
      <xsl:element name="Name">
         <xsl:value-of select="Name"/>
      </xsl:element>
   </xsl:template>
</xsl:stylesheet> 
```

但是这个 XSLT 总是首先返回数据`Doc A123`。

```
<FilterResult>
  <Name>Doc1</Name>
</FilterResult> 
```

预期结果是

```
<FilterResult>
  <Name>Doc1</Name>
  <Name>Doc3</Name>
</FilterResult> 
```

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:37:51.263

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="/*">
     <FilterResult>
      <xsl:apply-templates/>
     </FilterResult>
 </xsl:template>

 <xsl:template match="Document[substring(Id,2) = /*/RequestedDoc/*]">
  <xsl:copy-of select="Name"/>
 </xsl:template>
 <xsl:template match="text()"/>
</xsl:stylesheet> 
```

**当应用于提供的响应文件时：**

```
<Response>
   <RequestedDoc>
       <Doc Type="A">123</Doc>
       <Doc Type="C">345</Doc>
   </RequestedDoc>
   <Result>
      <Document>
         <Id>A123</Id>
         <Name>Doc1</Name>
      </Document>
      <Document>
         <Id>E143</Id>
         <Name>Doc2</Name>
      </Document>
      <Document>
         <Id>C345</Id>
         <Name>Doc3</Name>
      </Document>
      <Document>
         <Id>D153</Id>
         <Name>Doc4</Name>
      </Document>
   </Result>
</Response> 
```

**产生想要的正确结果：**

```
<FilterResult>
   <Name>Doc1</Name>
   <Name>Doc3</Name>
</FilterResult> 
```

# c++ - 改变浮动样本的体积

> ID：13308334
> 
> 赞同：0
> 
> 时间：2012-11-09T12:45:40.740
> 
> 标签：c++, audio, signal-processing, volume

如何增加或减少以浮点数 (float) 表示的音频信号的音量。

只是乘法吗？

```
float volume_control(float signal, float gain) {

    return signal*gain;

} 
```

你怎么能通过让我们说分贝来控制这个功能：

volume_control(x, 28) //应该增加 28 DB。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T12:50:37.980

是的，只是相乘。如果您输出它，请确保根据您的约定将输出限制在 [0, 1] 或 [-1, 1] 中。

以分贝为单位，使用：

```
return signal * pow( 10.0f, db * 0.05f ); 
```

请参阅有关分贝的[wiki 。](http://en.wikipedia.org/wiki/Decibel)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T12:49:21.760

是的，增益只是乘以一个因子。增益 1.0 不会改变音量 (0 dB)，0.5 会降低 2 倍 (-6 dB)，2.0 会增加 2 倍 (+6 dB)。

要将 dB 增益转换为可应用于样本值的合适因子：

```
double gain_factor = pow(10.0, gain_dB / 20.0); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:38:15.237

> 以浮点数 (float) 表示的音频信号的音量

您要做的第一件事是找出浮动的实际含义。它可以是一个以 db 为单位测量的音量控制，它可以是一个样本，它是在特定时间发送到扬声器的电量，它可能是一个样本，它是扬声器在特定时间点的位置。

如果是声波在特定时间点的“幅度”，那么上面的计算是准确的。但是声音被表达为浮动的事实并不能告诉您浮动的含义。

# asp.net-mvc - 无法从 MVC 应用程序创建 Spring.net 对象

> ID：13308336
> 
> 赞同：0
> 
> 时间：2012-11-09T12:45:48.430
> 
> 标签：asp.net-mvc, spring.net, applicationcontext

我正在构建一个支持 Spring 的 MVC 4 应用程序。

我的 Web.config 如下所示

```
<configSections>
    <sectionGroup name="spring">
      <section name="context" type="Spring.Context.Support.WebContextHandler, Spring.Web"/>
      <section name="objects" type="Spring.Context.Support.DefaultSectionHandler, Spring.Core" />
    </sectionGroup>
</configSections> 
```

...

```
<spring>
    <context type="Spring.Context.Support.MvcApplicationContext, Spring.Web.Mvc3, Version=1.3.2.40943, Culture=neutral, PublicKeyToken=65e474d141e25e07">
      <!--<resource uri="config://spring/objects"/>-->
    </context>

    <objects xmlns="http://www.springframework.net" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.springframework.net http://www.springframework.net/xsd/spring-objects.xsd">
      <object type="Org.Zighinetto.MyNS.RepositoryHelper" singleton="true" id="Org.Zighinetto.RepositoryHelper">
        <property name="SessionFactory" ref="Org.Zighinetto.SessionFactory"/>
      </object>

      <object id="Org.Zighinetto.Ecommerce.NHibernateHelper" type="MvcTest.Utils.NHibernateHelper" singleton="true"/>
      <object id="Org.Zighinetto.Ecommerce.SessionFactory" type="NHibernate.ISessionFactory" factory-object="Org.Zighinetto.Ecommerce.NHibernateHelper" factory-method="CreateSessionFactory" />
    </objects>
</spring> 
```

在我的控制器中，我想获得对该对象的引用，该对象基本上包装了所有 FNH DAO（我称它们为存储库......）

```
public CustomerController()
        {
            IApplicationContext ctx = new MvcApplicationContext();

            RepositoryHelper repoHelper = (RepositoryHelper)ctx.GetObject("Org.Zighinetto.RepositoryHelper");
            _customerRepository = repoHelper.CustomerRepository;
        } 
```

`GetObject`调用崩溃并出现以下异常

```
No object named 'Org.Zighinetto.RepositoryHelper' is defined : Cannot find definition for object [Org.Zighinetto.RepositoryHelper]

[NoSuchObjectDefinitionException: No object named 'Org.Zighinetto.RepositoryHelper' is defined : Cannot find definition for object [Org.Zighinetto.RepositoryHelper]]
   Spring.Objects.Factory.Support.AbstractObjectFactory.GetObjectInternal(String name, Type requiredType, Object[] arguments, Boolean suppressConfigure) in c:\_prj\spring-net\trunk\src\Spring\Spring.Core\Objects\Factory\Support\AbstractObjectFactory.cs:2065
   Spring.Objects.Factory.Support.AbstractObjectFactory.GetObject(String name) in c:\_prj\spring-net\trunk\src\Spring\Spring.Core\Objects\Factory\Support\AbstractObjectFactory.cs:1826
   Spring.Context.Support.AbstractApplicationContext.GetObject(String name) in c:\_prj\spring-net\trunk\src\Spring\Spring.Core\Context\Support\AbstractApplicationContext.cs:1538 
```

我初始化 Spring.net 上下文是否不好？我该怎么做才能获得该对象引用？

[添加]

`ctx.GetObjectDefinitionNames()`返回空字符串。所以没有定义任何对象 Initializing AppContext with `new MvcApplicationContext("~/Web.Config")`doesn't change

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:14:57.437

我固定使用`IApplicationContext ctx = WebApplicationContext.GetRootContext()`

# qt - QComboBox AbstractItemView::item

> ID：13308341
> 
> 赞同：10
> 
> 时间：2012-11-09T12:46:25.857
> 
> 标签：qt, qt4, qcombobox, qtstylesheets

有没有办法可以增加 QComboBox 控件中列出的项目的高度？

我尝试按照[QTDevNet 论坛](http://qt-project.org/forums/viewthread/3474)中的建议进行操作，但没有运气

```
QComboBox QAbstractItemView::item {margin-top: 3px;} 
```

我也试过这个，仍然没有结果。

```
QComboBox QAbstractItemView::item {min-height: 20px;} 
```

是否有可能在样式表级别实现这一点？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-11-09T18:14:12.303

你的样式表似乎是正确的，所以我试了一下。似乎问题与[Qt center 上](http://www.qtcentre.org/threads/39268-Styling-a-QAbstractItemView-item)的问题类似：

> `QCompleter`在其模型上设置自定义`QAbstractItemDelegate`，不幸的是，此自定义项委托不会继承`QStyledItemDelegate`，而只是简单地继承`QItemDelegate`（然后覆盖该`paint`方法以显示选定状态）。

如果您用 a 替换默认委托`QStyledItemDelegate`，您的样式表应该可以工作：

```
QStyledItemDelegate* itemDelegate = new QStyledItemDelegate();
combo->setItemDelegate(itemDelegate); 
```

**重要提示：**如果您更改模型，那么这将重置视图的委托，因此需要在任何调用`setModel()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-23T03:03:44.743

另一种[解决方案](http://www.qtcentre.org/threads/21707-QcomboBox-item-height)是：

`ui->comboBox->model()->setData(ui->comboBox->model()->index(-row-, 0), QSize(-width-, -height-), Qt::SizeHintRole);`

，其中`-row-`是从零开始的项目索引；`-width-`和`-height-`分别代表项目宽度提示和高度提示。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-25T16:35:02.510

`QComboBox::item`为我工作

例如，当它被禁用时，我试图改变它的颜色，下面的代码就可以了。

这个没用：

```
QComboBox QAbstractItemView::item:!enabled {
    color:red;
} 
```

相反，我使用了：

```
QComboBox::item:!enabled {
    color:red;
} 
```

# mysql - 获取mysql中不同重复ID的计数

> ID：13308343
> 
> 赞同：4
> 
> 时间：2012-11-09T12:46:38.383
> 
> 标签：mysql, count, group-by, distinct, having

这是查询

```
select count(*), 
       ss.pname, 
       ttu.user_id, 
       ttl.location_name , 
       group_concat(em.customer_id), 
       count(em.customer_id)
  from seseal as ss, 
       track_and_trace_user as ttu, 
       track_and_trace_location as ttl, 
       eseal_mapping as em
 where ss.real_id=em.e_id 
   and em.user_id=ttu.user_id 
   and ttu.location_id=ttl.location_id
group by ss.pname, ttu.user_id, ttl.location_name 
having count(em.customer_id)>1 ; 
```

结果如下：

```
+----------+----------------+---------+---------------+------------------------------+-----------------------+
| count(*) | pname          | user_id | location_name | group_concat(em.customer_id) | count(em.customer_id) |
+----------+----------------+---------+---------------+------------------------------+-----------------------+
|        6 | Nokia N91      |       1 | Malad         | 60,51,60,51,58,58            |                     6 |
|        2 | SUPERIA 1000gm |       4 | Raichur       | 51,46                        |                     2 |
|        5 | SUPERIA 1000gm |       5 | west bengal   | 51,46,51,51,46               |                     5 |
|        2 | SUPERIA 500gm  |       4 | Raichur       | 59,59                        |                     2 |
|        3 | SUPERIA 500gm  |       5 | west bengal   | 59,46,59                     |                     3 |
+----------+----------------+---------+---------------+------------------------------+-----------------------+ 
```

现在的问题是，正如您在结果集中看到的那样，某些行中的倒数第二列`customer_ids`是重复的，而在某些行中是唯一的。最后一列给出了它的计数。
现在我想要的是选择第三行，有两个客户 ID，即 51 和 46，它们在该行中是重复的，所以我这一行的最后一列应该包含 2。
同样，对于最后一行，我的最后一列应该包含 1只有一个`customer id`重复，即 59。
因此，如果您了解确切的问题，那么第二行不应成为此结果集的一部分，因为它不包含任何重复的客户 ID。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T18:12:09.920

怎么样：

```
group_concat(distinct em.customer_id) 
```

和

```
count(distinct em.customer_id) 
```

# xml - 使用 MS Word 进行 XML 创作

> ID：13308344
> 
> 赞同：1
> 
> 时间：2012-11-09T12:46:44.120
> 
> 标签：xml, interop, ms-word

我计划基于自定义 XSD xcheme 创建 XML 文档。MS Word 是一个很好的工具，我可以使用“熟悉的”工具来创建一些文档和标记。但是，我了解到[自定义 XML 支持已被删除](http://support.microsoft.com/kb/978951)。MS Word 可以编辑自定义 XML，但它会在保存之前去除自定义 XML 标记。

我想知道我是否可以以编程方式与 MS Word 互操作并导出或恢复 XML 源。如果你能指出我的某个地方，我会很高兴。或者有没有其他有效的方法来做到这一点？

**不是 1：**我住在美国以外，我相信我对此没有任何法律问题。

**not 2：**我试过氧XML作者，很好，但不如MS Word用户友好。

# eclipse - 如何将基本文件版本添加到 CVS，然后不对它提交个人更改？

> ID：13308347
> 
> 赞同：1
> 
> 时间：2012-11-09T12:47:02.080
> 
> 标签：eclipse, cvs

项目的一些开发文件和资源被签入到 CVS 存储库中。政策规定，当检出到本地 Eclipse IDE 时，CVS 上的版本应该正确构建。因此，添加了一些仅包含基本设置的文件。开发人员将更改这些文件以满足他们的个人需求，同时也根据他们的测试环境（包含本地路径等）。（我不是在这里谈论 IDE 配置，这些文件当然没有签入。）

CVS 不允许我将已签入的文件添加到 .cvsignore。

如何维护 CVS 存储库中文件的基本版本，但在我的本地工作副本中有一个我不想提交的修改副本？

到目前为止，我唯一的解决方案不是提交项目，甚至不是文件夹，而是手动排除那些特殊文件的单个文件。我可以改进吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T07:36:05.213

您可以做的唯一改进是仅在切换配置的位置创建一个点，以最大限度地减少需要开发人员自定义的文件数量。例如，如果你有 Java servlet，你可以添加这样的东西

```
<context-param>
  <param-name>configuration</param-name>
  <param-value>productionSetup.xml</param-value>
</context-param> 
```

到您的`web.xml`文件，然后将您的设置放入该文件。在这种情况下，`productionSetup.xml`将是正式的生产配置。开发人员 William 将检查 productionSetup.xml，进行复制`williamEnviroment.xml`并编辑他的个人设置。要使用他自己的配置运行 servlet，他只需要更改`web.xml`in`param-value`属性而不需要对该文件进行提交。

当然`web.xml`，将来可以更改以添加新参数或 servlet 所需的任何内容。William 必须手动检查该文件是否有新版本，但它只是一个需要监控的文件，并且合并将是微不足道的。

这个答案部分基于我在工作中的类似经历。

# ruby-on-rails - 控制器未引用 Ruby on Rails 类变量

> ID：13308350
> 
> 赞同：0
> 
> 时间：2012-11-09T12:47:07.550
> 
> 标签：ruby-on-rails

我在 Ruby on Rails 中有一个小型 Web 应用程序，其中列出了古董文档和文档引用的位置。我可以更新已附加到文档的位置，但是在尝试创建新文档时，出现以下错误

```
undefined method `locations' for nil:NilClass 
```

NilClass 出现在 LocationController#new 中：

```
def new
  @location = @document.locations.new
end 
```

这是从视图中调用的

```
<%= form_for(@location,:url=>new_document_location_path(@document)) do |f| %>
  <%= render :partial => "document_locations/form", :locals =>{:f=>f} %>
  <%= f.submit "Save",:class=>"span2 btn" %>
<%end%> 
```

所以由于某种原因，控制器没有引用@document 类。我知道该类可以在视图和范围内访问，因为我能够在表单中查看文档属性（例如 <%= @document.id %>

那么，为什么控制器不能引用@document 变量呢？我假设这取决于我如何传递类变量。不管怎样，我会非常感谢一些指点。

这就是模型的定义方式

```
class Document < ActiveRecord::Base
  has_many :locations, :dependent => :destroy
end

class Location < ActiveRecord::Base
  belongs_to :document
end 
```

这是我的路线

```
Pastpaper::Application.routes.draw do

  # added in to test
  match '/documents/:id/locations/create' => 'locations#create'
  resources :documents do 
    collection do 
      match 'permanent_delete/:id' => 'documents#permanently_delete',:as => :permanent_delete
    end

    match '/authorinfo' => 'documents#authorinfo',:as => :authorinfo

    match '/publicationinfo' => 'documents#publicationinfo',:as => :publicationinfo
    match '/images' => 'documents#itemimages' ,:as => :itemimages
    match '/locations' => 'documents#locations',:as => :locations
    match '/itempeople'  => 'documents#itempeople' ,:as => :itempeople
    match '/people_facts_locations' => 'documents#people_facts_locations',:as => :people_facts_loc
    resources :locations, :controller=>"locations"
    resources :people ,:controller => "document_people"
    resources :document_facts
    resource :facts
    resources :document_photos
  end

  resources :home do 
    collection do
      get 'document_search','simple_location_search','date_search','simple_people_search','simple_organisation_search','document_filter'
      get 'search_results'
      post 'search_results'
    end
  end

  match 'documents/publicationinfo/:id' => 'documents#publicationinfo',:as => :publicationinfo
  match 'documents/update/publishinginfo/:id' => 'documents#publishinginfo',:as => :publishinginfo 
  match 'documents/document_image_remove/:id' => 'documents#remove_image',:as=>"remove_image"
  match 'documents/make_primary_image/:id' => 'documents#make_primary_image',:as => :make_primary_image
  match 'person_detail/:id' => 'documents#person_detail',:as=>'person_detail'

  match 'about', :to=> 'pages#about'
  match 'contact', :to => 'pages#contact'
  match 'privacy', :to => 'pages#privacy'
  match 'terms', :to => 'pages#terms'
  match 'help', :to => 'pages#help'

  namespace :admin do
    resources :document_types
    resources :statuses
    resources :attribute_types
    resources :event_types
    resources :users
    resources :orders
    resources :documents
    match 'restore_document/:id' => 'Documents#restore_document', :as => 'restore_document'
    match 'report' => 'report#index' ,:as=>:report
    match 'report/surname_report' => 'report#surname_report',:as=>:surname_report
    match 'report/location_report' => 'report#location_report',:as=>:location_report
  end
  root :to => 'home#index'

end 
```

这是相关的控制器： DocumentController

```
class DocumentsController < ApplicationController
  before_filter :prepare_document ,:only => [:locations]

  def locations
    @locations = @document.locations.order("id asc")
    @location = @document.locations.new
  end

private
  def prepare_document
    if params[:id]
      @document = Document.find(params[:id], :include => [:document_attributes])
    elsif params[:document_id]
      @document = Document.find(params[:document_id], :include => [:document_attributes])
    end  
  end
end 
```

位置控制器

```
class LocationsController < ApplicationController
  before_filter :prepare_document

  def new
    @location = @document.locations.new
  end

  def create
    @location = @document.locations.build
    if @location.save
      redirect_to document_locations_url(@document)
    else
      render "new"
    end
  end

  def update
    @location = @document.locations.find(params[:id])
    if @location.update_attributes(params[:location])
      redirect_to document_locations_url(@document)
    else
      render "edit"
    end
  end

  def prepare_document
    if params[:document_id]
      if current_user.is_admin?
        @document = Document.find(params[:document_id], :include => [:document_attributes])
      else
        @document = current_user.documents.find(params[:document_id], :include => [:document_attributes])
      end  
    end  
  end
end 
```

这就是我的路线耙出的方式

```
 logout GET    /logout(.:format)                                          {:action=>"destroy", :controller=>"sessions"}
                            login POST   /login(.:format)                                           {:action=>"create", :controller=>"sessions"}
                  forgot_password        /forgot_password(.:format)                                 {:action=>"new", :controller=>"password_resets"}
                        user_home GET    /profile(.:format)                                         {:action=>"index", :controller=>"users"}
                deactivateaccount        /account/deactivate(.:format)                              {:controller=>"users", :action=>"accountdeactivate"}
                   changepassword        /account/changepassword(.:format)                          {:controller=>"users", :action=>"changepassword"}
                         register        /user/registration(.:format)                               {:controller=>"users", :action=>"new"}
                            users GET    /users(.:format)                                           {:action=>"index", :controller=>"users"}
                                  POST   /users(.:format)                                           {:action=>"create", :controller=>"users"}
                         new_user GET    /users/new(.:format)                                       {:action=>"new", :controller=>"users"}
                        edit_user GET    /users/:id/edit(.:format)                                  {:action=>"edit", :controller=>"users"}
                             user GET    /users/:id(.:format)                                       {:action=>"show", :controller=>"users"}
                                  PUT    /users/:id(.:format)                                       {:action=>"update", :controller=>"users"}
                                  DELETE /users/:id(.:format)                                       {:action=>"destroy", :controller=>"users"}
                  password_resets GET    /password_resets(.:format)                                 {:action=>"index", :controller=>"password_resets"}
                                  POST   /password_resets(.:format)                                 {:action=>"create", :controller=>"password_resets"}
               new_password_reset GET    /password_resets/new(.:format)                             {:action=>"new", :controller=>"password_resets"}
              edit_password_reset GET    /password_resets/:id/edit(.:format)                        {:action=>"edit", :controller=>"password_resets"}
                   password_reset GET    /password_resets/:id(.:format)                             {:action=>"show", :controller=>"password_resets"}
                                  PUT    /password_resets/:id(.:format)                             {:action=>"update", :controller=>"password_resets"}
                                  DELETE /password_resets/:id(.:format)                             {:action=>"destroy", :controller=>"password_resets"}
              password_reset_path        /password_resets/:id/edit(.:format)                        {:controller=>"password_resets", :action=>"edit"}
                                         /documents/:id/locations/create(.:format)                  {:controller=>"locations", :action=>"create"}
       permanent_delete_documents        /documents/permanent_delete/:id(.:format)                  {:controller=>"documents", :action=>"permanently_delete"}
              document_authorinfo        /documents/:document_id/authorinfo(.:format)               {:controller=>"documents", :action=>"authorinfo"}
         document_publicationinfo        /documents/:document_id/publicationinfo(.:format)          {:controller=>"documents", :action=>"publicationinfo"}
              document_itemimages        /documents/:document_id/images(.:format)                   {:controller=>"documents", :action=>"itemimages"}
               document_locations        /documents/:document_id/locations(.:format)                {:controller=>"documents", :action=>"locations"}
              document_itempeople        /documents/:document_id/itempeople(.:format)               {:controller=>"documents", :action=>"itempeople"}
        document_people_facts_loc        /documents/:document_id/people_facts_locations(.:format)   {:controller=>"documents", :action=>"people_facts_locations"}
                                  GET    /documents/:document_id/locations(.:format)                {:action=>"index", :controller=>"locations"}
                                  POST   /documents/:document_id/locations(.:format)                {:action=>"create", :controller=>"locations"}
            new_document_location GET    /documents/:document_id/locations/new(.:format)            {:action=>"new", :controller=>"locations"}
           edit_document_location GET    /documents/:document_id/locations/:id/edit(.:format)       {:action=>"edit", :controller=>"locations"}
                document_location GET    /documents/:document_id/locations/:id(.:format)            {:action=>"show", :controller=>"locations"}
                                  PUT    /documents/:document_id/locations/:id(.:format)            {:action=>"update", :controller=>"locations"}
                                  DELETE /documents/:document_id/locations/:id(.:format)            {:action=>"destroy", :controller=>"locations"}
                  document_people GET    /documents/:document_id/people(.:format)                   {:action=>"index", :controller=>"document_people"}
                                  POST   /documents/:document_id/people(.:format)                   {:action=>"create", :controller=>"document_people"}
              new_document_person GET    /documents/:document_id/people/new(.:format)               {:action=>"new", :controller=>"document_people"}
             edit_document_person GET    /documents/:document_id/people/:id/edit(.:format)          {:action=>"edit", :controller=>"document_people"}
                  document_person GET    /documents/:document_id/people/:id(.:format)               {:action=>"show", :controller=>"document_people"}
                                  PUT    /documents/:document_id/people/:id(.:format)               {:action=>"update", :controller=>"document_people"}
                                  DELETE /documents/:document_id/people/:id(.:format)               {:action=>"destroy", :controller=>"document_people"}
          document_document_facts GET    /documents/:document_id/document_facts(.:format)           {:action=>"index", :controller=>"document_facts"}
                                  POST   /documents/:document_id/document_facts(.:format)           {:action=>"create", :controller=>"document_facts"}
       new_document_document_fact GET    /documents/:document_id/document_facts/new(.:format)       {:action=>"new", :controller=>"document_facts"}
      edit_document_document_fact GET    /documents/:document_id/document_facts/:id/edit(.:format)  {:action=>"edit", :controller=>"document_facts"}
           document_document_fact GET    /documents/:document_id/document_facts/:id(.:format)       {:action=>"show", :controller=>"document_facts"}
                                  PUT    /documents/:document_id/document_facts/:id(.:format)       {:action=>"update", :controller=>"document_facts"}
                                  DELETE /documents/:document_id/document_facts/:id(.:format)       {:action=>"destroy", :controller=>"document_facts"}
                   document_facts POST   /documents/:document_id/facts(.:format)                    {:action=>"create", :controller=>"facts"}
               new_document_facts GET    /documents/:document_id/facts/new(.:format)                {:action=>"new", :controller=>"facts"}
              edit_document_facts GET    /documents/:document_id/facts/edit(.:format)               {:action=>"edit", :controller=>"facts"}
                                  GET    /documents/:document_id/facts(.:format)                    {:action=>"show", :controller=>"facts"}
                                  PUT    /documents/:document_id/facts(.:format)                    {:action=>"update", :controller=>"facts"}
                                  DELETE /documents/:document_id/facts(.:format)                    {:action=>"destroy", :controller=>"facts"}
         document_document_photos GET    /documents/:document_id/document_photos(.:format)          {:action=>"index", :controller=>"document_photos"}
                                  POST   /documents/:document_id/document_photos(.:format)          {:action=>"create", :controller=>"document_photos"}
      new_document_document_photo GET    /documents/:document_id/document_photos/new(.:format)      {:action=>"new", :controller=>"document_photos"}
     edit_document_document_photo GET    /documents/:document_id/document_photos/:id/edit(.:format) {:action=>"edit", :controller=>"document_photos"}
          document_document_photo GET    /documents/:document_id/document_photos/:id(.:format)      {:action=>"show", :controller=>"document_photos"}
                                  PUT    /documents/:document_id/document_photos/:id(.:format)      {:action=>"update", :controller=>"document_photos"}
                                  DELETE /documents/:document_id/document_photos/:id(.:format)      {:action=>"destroy", :controller=>"document_photos"}
                        documents GET    /documents(.:format)                                       {:action=>"index", :controller=>"documents"}
                                  POST   /documents(.:format)                                       {:action=>"create", :controller=>"documents"}
                     new_document GET    /documents/new(.:format)                                   {:action=>"new", :controller=>"documents"}
                    edit_document GET    /documents/:id/edit(.:format)                              {:action=>"edit", :controller=>"documents"}
                         document GET    /documents/:id(.:format)                                   {:action=>"show", :controller=>"documents"}
                                  PUT    /documents/:id(.:format)                                   {:action=>"update", :controller=>"documents"}
                                  DELETE /documents/:id(.:format)                                   {:action=>"destroy", :controller=>"documents"}
                    paypal_cancel        /payments/cancel(.:format)                                 {:controller=>"payments", :action=>"paypal_cancel"}
                    paypal_return        /payments/success(.:format)                                {:controller=>"payments", :action=>"paypal_return"}
                       paypal_ipn        /payments/ipn(.:format)                                    {:controller=>"payments", :action=>"create"}
       document_search_home_index GET    /home/document_search(.:format)                            {:action=>"document_search", :controller=>"home"}
simple_location_search_home_index GET    /home/simple_location_search(.:format)                     {:action=>"simple_location_search", :controller=>"home"}
           date_search_home_index GET    /home/date_search(.:format)                                {:action=>"date_search", :controller=>"home"}
  simple_people_search_home_index GET    /home/simple_people_search(.:format)                       {:action=>"simple_people_search", :controller=>"home"}
simple_organisation_search_home_index GET    /home/simple_organisation_search(.:format)                 {:action=>"simple_organisation_search", :controller=>"home"}
       document_filter_home_index GET    /home/document_filter(.:format)                            {:action=>"document_filter", :controller=>"home"}
        search_results_home_index GET    /home/search_results(.:format)                             {:action=>"search_results", :controller=>"home"}
                                  POST   /home/search_results(.:format)                             {:action=>"search_results", :controller=>"home"}
                       home_index GET    /home(.:format)                                            {:action=>"index", :controller=>"home"}
                                  POST   /home(.:format)                                            {:action=>"create", :controller=>"home"}
                         new_home GET    /home/new(.:format)                                        {:action=>"new", :controller=>"home"}
                        edit_home GET    /home/:id/edit(.:format)                                   {:action=>"edit", :controller=>"home"}
                             home GET    /home/:id(.:format)                                        {:action=>"show", :controller=>"home"}
                                  PUT    /home/:id(.:format)                                        {:action=>"update", :controller=>"home"}
                                  DELETE /home/:id(.:format)                                        {:action=>"destroy", :controller=>"home"}
                  publicationinfo        /documents/publicationinfo/:id(.:format)                   {:controller=>"documents", :action=>"publicationinfo"}
                   publishinginfo        /documents/update/publishinginfo/:id(.:format)             {:controller=>"documents", :action=>"publishinginfo"}
                     remove_image        /documents/document_image_remove/:id(.:format)             {:controller=>"documents", :action=>"remove_image"}
               make_primary_image        /documents/make_primary_image/:id(.:format)                {:controller=>"documents", :action=>"make_primary_image"}
                    person_detail        /person_detail/:id(.:format)                               {:controller=>"documents", :action=>"person_detail"}
                            about        /about(.:format)                                           {:action=>"about", :controller=>"pages"}
                          contact        /contact(.:format)                                         {:action=>"contact", :controller=>"pages"}
                          privacy        /privacy(.:format)                                         {:action=>"privacy", :controller=>"pages"}
                            terms        /terms(.:format)                                           {:action=>"terms", :controller=>"pages"}
                             help        /help(.:format)                                            {:action=>"help", :controller=>"pages"} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:50:25.997

```
def new
  @location = @document.locations.build
end 
```

使用构建不是新的。并将您的 prepare_document 在您的控制器中设为私有。

还

```
<%= form_for([@document, @location]) do |f| %> 
```

您的 url 参数错误，您不应该将表单发布到新操作，您应该将它们发布到更新操作，就像我上面显示的那样。

# android - 使用 Bitmap 设置 ImageView 时出现空指针异常

> ID：13308351
> 
> 赞同：0
> 
> 时间：2012-11-09T12:47:11.770
> 
> 标签：android, surfaceview

这是我班级中的 onCreate(...) 方法：

```
 protected void onCreate(Bundle savedInstanceState)
        {
            super.onCreate(savedInstanceState);
            requestWindowFeature(Window.FEATURE_NO_TITLE);
            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
            setContentView(R.layout.editor);
            setRequestedOrientation(1);

            v = new SView(this);
            v.setOnTouchListener(this);
            //v.setZOrderOnTop(true);
            //v.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT));
            setContentView(v);

            ImageView back = (ImageView) findViewById(R.id.IVEditor);
            bm = loadPhoto("photo", bm);
            if(bm != null)
            {
                    //This Section is giving me the error

                back.setImageBitmap(bm);

            }
        } 
```

这是错误，当我双击它时，它会将我带到上面的单独部分。我不知道为什么：

```
11-09 07:42:42.624: E/AndroidRuntime(32472): Caused by: java.lang.NullPointerException
11-09 07:42:42.624: E/AndroidRuntime(32472):    at com.synlight_development.tattoo_it.Editor.onCreate(Editor.java:64)
11-09 07:42:42.624: E/AndroidRuntime(32472):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1072)
11-09 07:42:42.624: E/AndroidRuntime(32472):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1785)
11-09 07:42:42.624: E/AndroidRuntime(32472):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:49:53.150

```
ImageView back = (ImageView) findViewById(R.id.IVEditor); 
```

`R.id.IVEditor`必须在您设置的布局内声明`setContentView`。

大概`R.id.IVEditor`是在里面声明的`R.layout.editor`。切换

```
 ImageView back = (ImageView) findViewById(R.id.IVEditor);
 bm = loadPhoto("photo", bm);
 if(bm != null) {
     back.setImageBitmap(bm);
 } 
```

和

```
 v = new SView(this);
  v.setOnTouchListener(this);
  //v.setZOrderOnTop(true);
 //v.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT));
  setContentView(v); 
```

应该成功。但这一切都取决于在哪里`R.id.IVEditor`声明；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:06:49.543

你能把你的编辑器布局文件内容粘贴到这里吗？因为那个 editor.xml 布局文件必须有一个 ImageView 作为它的元素，其 id 定义为`android:id = "@+id/IVEditor"`. 然后只有你会得到确切的 ImageView 对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:15:03.710

据我了解，您似乎正在`R.id.editor`用`SView`. 我有一段时间没有接触 Android，所以不确定是什么`SView`。但是，我首先会认为它会用`setContentView(R.id.Editor)`不包含带有 id 的布局元素的自定义视图/布局/whater替换您以前的内容`R.layout.IVEditor`。

所以，是的，您尝试将图像添加到当前布局中不存在的内容中。(`setContentView(v)`正在删除`R.id.editor`布局并放入不包含`R.layout.IVEditor`.

# jquery - 使用选择插件时，选择框中的 $(this) 值丢失

> ID：13308355
> 
> 赞同：0
> 
> 时间：2012-11-09T12:47:26.863
> 
> 标签：jquery, jquery-chosen

我已经为运行 onChange、onfocusout 和 onSubmit 的客户网站之一编写了自己的自定义表单验证。

以下函数调用选择框的验证：

```
 $("fieldset select").change(function(){
        changeCircumstance.validate(true, $(this)); 
    }); 
```

我通过要使用“$(this)”验证的表单项的 ID 和 true 值来指示这将是 onChange 验证。

我在这个网站上使用了 Chosen 插件，并注意到我的验证在大多数表单元素上完美运行，但在选择框元素上却没有。我相信这是由于选择框被选择更改为 div 标签，然后无法返回我的验证所需的 $(this) 值。

在不使用 $(this) 的情况下，如何在更改时定位特定的选择框，以便在正确的位置等显示错误消息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:02:07.587

尝试使用`$("fieldset select").chosen().change(...)`

# ios - 如何在 cellForRowAtIndexPath 中添加额外的单元格？

> ID：13308357
> 
> 赞同：0
> 
> 时间：2012-11-09T12:47:28.190
> 
> 标签：ios, uitableview

例如，我有 3 篇文章，当我显示文章时，我想在第一篇文章之前再显示一个单元格（总共 4 个）。

我需要显示不在数组中的第一篇文章，然后显示在数组中的文章。

**更新**

![在此处输入图像描述](../Images/b8f45611fd692327aaf311290a620545.png)

我尝试了下一个：

```
- (NSInteger)tableView:(
UITableView *)tableView numberOfRowsInSection:(NSInteger)section {

    return ([arr count] + 1);

} 
```

但是我的应用程序有时会崩溃，我看到 NSLOG 然后该应用程序在我调用 [tableView reloadData] 之前进入 cellForRowAtIndexPath。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:51:27.957

这是你不应该真正做的事情。

好吧，您可以通过返回一个包含 2 个子视图的视图（来自 -tableView:cellForRowAtIndexPath:) 来欺骗框架：您的“第一篇文章”单元格和原始的第一个单元格；不要忘记修改 -tableView:heightForCellAtIndexPath: 以及（否则您的视图会被剪切）。

但一般来说，您应该更改表格视图后面的数据模型以显示 4 个单元格——这只是一种更有效的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:58:37.067

你可以这样做：

**使用此方法返回一个附加行：**

```
// Each row array object contains the members for that section
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
{
     return [YouArray count]+1; 
} 
```

**最后检查此添加的行：**

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
// Create a cell if one is not already available
    UITableViewCell *cell = [self.mContactsTable dequeueReusableCellWithIdentifier:@"any-cell"];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"any-cell"] autorelease];
         }

     //Identify the added row
     if(indexpath.row==0)
     {
        NSLog(@"This is first row");
     } 
     else{
      // Write your existing code

     }

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T12:59:19.650

您需要使用在数组中添加一个额外的值`insertObject`

```
[arr insertObject:[NSNull null] atIndex:0]; 
```

并实现如下方法：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [arr count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    if([arr onjectAtIndex:indexPath.row] == [NSNull null])
    {
      // 1st cell extra cell do your stuff
    }
    return cell;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T12:50:42.300

您是否将所有文章都保存在一个数组中？您也应该将新文章添加到数组中。该数组是您的数据源。如果您希望新文章出现在顶部单元格中，我认为您希望将新文章作为数组中的第一个元素插入。一旦你更新了你的数组，你应该调用`[mytableView reloadData]`它来触发所有数据源方法被调用并重新加载你的表的数据。

# java - 是否有用于 Spring 集成的 JSR-303 验证过滤器实现？

> ID：13308370
> 
> 赞同：0
> 
> 时间：2012-11-09T12:48:50.233
> 
> 标签：java, spring, bean-validation, spring-integration

在我重新发明轮子之前，Spring Integration 中是否有用于 JSR-303 验证的过滤器实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:49:40.793

我不知道公开的，但我确实记得有人在他们的公司为 SI 中的 JSR 303 建立了一些支持；如果你想出了一些可重用的东西，你可以考虑将它贡献给扩展 repo。

[https://github.com/SpringSource/spring-integration-extensions](https://github.com/SpringSource/spring-integration-extensions)

# c# - Microsoft.jScript.Eval.JScriptEvaluate 中的 javascript 评估

> ID：13308371
> 
> 赞同：1
> 
> 时间：2012-11-09T12:48:51.530
> 
> 标签：c#

```
var x = "var dom = null;

try {
    dom = new ActiveXObject('Microsoft.XMLDOM');
    if (!dom.loadXML(xml)) // parse error ..
        window.alert(dom.parseError.reason + dom.parseError.srcText);
} catch (e) { dom = null; ";

try {
    var str = Microsoft.JScript.Eval.JScriptEvaluate(x,Microsoft.JScript.Vsa.VsaEngine.CreateEngine());
     MessageBox.Show(str.ToString());
} catch (Exception ex) {
    MessageBox.Show(ex.Message + "\n" + ex.StackTrace);
} 
```

此以下错误给了我下面给出的错误变量“窗口”尚未声明。

该项目是开发成 C#.net 的 windowsform 应用程序。

如何修复此错误？

# android - AlertDialog 仅显示两个按钮之一

> ID：13308379
> 
> 赞同：0
> 
> 时间：2012-11-09T12:49:11.030
> 
> 标签：android, button, android-alertdialog

我想用两个按钮显示警报：“Reprendre”和“Plus Tard”。我有以下代码：

```
alertsyncincomplete = new AlertDialog.Builder(this);
alertsyncincomplete.setCustomTitle(titleAlertSyncIncomplete);
alertsyncincomplete.setPositiveButton("Reprendre", new DialogInterface.OnClickListener() {
    public void onClick(DialogInterface dialog, int which) {

    }
});

alertsyncincomplete.setNegativeButton("Plus tard", new DialogInterface.OnClickListener() {
    public void onClick(DialogInterface dialog, int which) {

    }
}); 
```

但我只能看到屏幕上的一个按钮——第一个带有文本“Reprendre”的按钮。我使用`AlertDialog`了`setButton`and`setButton2`方法，得到了相同的结果。我将文本“Plus Tard”更改为“OK”（长度更短），然后显示两个按钮。我认为问题应该出在文本的长度上（即使我的按钮上的文本不是很长）。

我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T12:54:50.993

这对我有用：

```
AlertDialog.Builder builder = new AlertDialog.Builder(YouActivity.this);
builder.setTitle("title");
builder.setMessage("message");
builder.setPositiveButton("Reprendere", null);
builder.setNegativeButton("Plus Tard", null);
builder.show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:09:58.290

用这个 ：

```
AlertDialog anAlertDialog = new AlertDialog.Builder(getParent()).create();
                    anAlertDialog.setTitle("");
                    anAlertDialog.setMessage("Are you sure you want to logout!");
                    anAlertDialog.setButton("OK", new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog, int which) {

                            return;
                        }
                    });
                    anAlertDialog.setButton2("CANCEL", new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog, int which) {

                        }
                    });
                    anAlertDialog.show(); 
```

# asp.net-mvc - 避免在视图中呈现母版页

> ID：13308382
> 
> 赞同：2
> 
> 时间：2012-11-09T12:49:32.313
> 
> 标签：asp.net-mvc, razor

我只想从report.cshtml 中删除母版页。我写过

```
 @{
      Layout= string.Empty;
      } 
```

或者

```
 @{
      Layout=null;
      } 
```

也在控制器中尝试过

```
 public ActionResult LLCReportsPopUp(string camp)
        {
            return PartialView("~/Views/Reports/Views/LCCReport.cshtml");
        } 
```

但是没有结果，请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:27:32.283

将您的复制`_ViewStart.cshtml`到您的报告视图文件夹中，然后制作`Layout = null`. 任务完成。它将从您的报告中删除默认的主布局

```
@{
   // Layout = "~/Views/Shared/_Layout.cshtml";
    Layout = null;
} 
```

`_ViewStart.cshtml`在 Views\Report 文件夹上覆盖`_ViewStart.cshtml`Views 文件夹

如果您需要分配第二个布局而不是删除它，您可以这样做；

```
@{
    Layout = "~/Views/Shared/_MySecond_Layout.cshtml";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:31:04.047

另一种选择是简单地创建一个完全空白的布局模板并分配该模板。

# c# - C# GDI+ 换行文本（无 TextRenderer）

> ID：13308387
> 
> 赞同：0
> 
> 时间：2012-11-09T12:50:06.770
> 
> 标签：c#, gdi, word-wrap

假设我有字符串*“Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus arcu massa, tempus non tincidunt ut, tempus sit amet odio. Mauris in dui sed enim vulputate dictum.”*

我希望该字符串由特定长度（**以像素为单位**）包裹并且不破坏单词。以 80 像素为例。

我有用于绘制字符串的 Font 变量和 Graphics 变量（通常称为“g”），因此我可以在需要时测量字符串的长度。

我发现的所有示例仅按字符长度包装文本，但我需要以像素为单位进行 GDI+ 绘图。我不想使用 TextRenderer 控件，因为它似乎有错误。有时它会测量它自己的文本高度错误。这很罕见，但它会发生。

**到目前为止，我得到了以下信息：**

```
public static string WrapTextByPixels(string text, ref Graphics g, Font font, float maxWidth)
        {
            string[] originalLines = text.Split(new[] { " " }, StringSplitOptions.None);

            var wrapBuilder = new StringBuilder();

            float currentLineWidth = 0;

            foreach (var item in originalLines)
            {
                float itemWidth = g.MeasureString(item, font).Width;

                currentLineWidth += itemWidth;
                if (currentLineWidth > maxWidth ||
                    itemWidth > maxWidth) // When a single word is longer than the maxWidth then just add it
                {
                    wrapBuilder.Append(Environment.NewLine);
                    currentLineWidth = 0;
                }
                wrapBuilder.Append(item + " ");
            }

            return wrapBuilder.ToString();
        } 
```

但是上面的代码不起作用。有些行还是太长了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:46:41.147

您不能在此处绕过 TextRenderer，您**必须**使用其 MeasureText() 方法，以便计算的布局与稍后在 DrawText() 方法渲染文本时渲染的内容相匹配。其他计算字符串长度的方法，如 Graphics.MeasureString() 只会产生更多错误，Graphics 类的文本布局非常不同。非常糟糕，TextRenderer 被添加到 .NET 2.0 中的原因

如果你得到不好的结果，那几乎总是因为你没有正确指定 TextFormatFlags。它必须与将在 DrawText() 方法调用中使用的标志*完全匹配。*这并不总是很容易发现，尤其是当文本是通过在框架内绘制代码来绘制时。使用[参考源](http://referencesource.microsoft.com/netframework.aspx)找出答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:52:30.557

这是我曾经发现的一种扩展方法，它不是我自己的，我想给予信任，但我不记得我从哪里得到它：

```
public static string WrapText(this string text, double pixels, string fontFamily, float emSize)
    {
        string[] originalLines = text.Split(new[] { " " }, StringSplitOptions.None);

        var wrapBuilder = new StringBuilder();

        double actualWidth = 0;

        foreach (var item in originalLines)
        {
            var formatted = new FormattedText(
                item,
                CultureInfo.CurrentCulture,
                FlowDirection.LeftToRight,
                new Typeface(fontFamily),
                emSize,
                Brushes.Black);

            actualWidth += formatted.Width;
            if (actualWidth > pixels)
            {
                wrapBuilder.Append(Environment.NewLine);
                actualWidth = 0;
            }
            wrapBuilder.Append(item + " ");
        }

        return wrapBuilder.ToString();
    } 
```

这应该可以帮助你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:35:11.187

我并不完全相信 GDI+ 文本格式化程序已损坏，但在某些情况下它无法满足您的需求，您需要自己进行自动换行。

“简单”的方法是扫描您的字符串以查找您乐于插入换行符的位置（例如在空格处 - 但您可能还希望将逗号和破折号等标点符号视为潜在位置）。

当您逐字构建新字符串时，使用`Graphics.MeasureString`来确定行的新宽度。当超出所需宽度时，您需要在当前单词之前插入换行符。

请注意，您将遇到无法在可用宽度内中断的文本（一个非常长的单词，其中没有空格，或者非常窄的格式宽度），因此您可能需要一个在这些情况下中断单词的后备机制（要么停在适合的最后一个字符，要么发疯并添加连字符系统）。

另请注意，在`StringFormat`处理此类文本片段时，您使用的 可能会导致问题，因为它可以设置为在您正在测量的文本的开头/结尾处包含/排除空格，因此这可能会搞砸宽度计算，从而导致当最后一个字符“掠过”格式化区域的边缘时，您将换行有点太早或太晚。以类似的方式，您必须注意行尾的空格和多个空格字符序列。

对于调试，一个好的方法是将格式化宽度基于窗口的宽度，然后为每次重绘重新格式化文本。然后，您可以逐渐将寡妇拖出并向后拖，以检查格式化程序是否以理想的宽度自动换行，并处理狭窄的格式化区域等。

# jquery - .hide() 在 appendTo 之后不起作用

> ID：13308390
> 
> 赞同：0
> 
> 时间：2012-11-09T12:50:15.593
> 
> 标签：jquery, jquery-selectors, jquery-ui-sortable

我有以下代码在 IE8 上运行良好：

```
$("<div class='divButtons'>").appendTo( $(".widget_header") );
$(".divButtons").html( "(close), (min), (max)" ); 
```

但是，如果我添加一个`.hide`，而不是仅仅隐藏`.divButtons`，它会隐藏整个`.widget_header`.

例如：

```
$("<div class='divButtons'>").appendTo( $(".widget_header") );
$(".divButtons").html( "(close), (min), (max)" ).hide(); 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T12:53:37.580

您没有关闭 div 标签，因此您的 HTML 将无效，从而导致所有 div 的边界变得倾斜。试试这个：

```
$("<div class='divButtons'></div>").appendTo( $(".widget_header") );
$(".divButtons").html( "(close), (min), (max)" ).hide(); 
```

这是一个记录在案的 IE8 问题，您可以在[此处阅读](http://bugs.jquery.com/ticket/12581)

除此之外，您可以通过执行以下操作来创建更简洁、优化的代码：

```
$("<div class='divButtons'>(close), (min), (max)</div>").appendTo( $(".widget_header"));​ 
```

并使用 css 以最初的形式隐藏它`display: none;`

这是它的[小提琴演示](http://jsfiddle.net/abRfG/)

# javascript - AngularJS - 将元素附加到指定的 DOM 元素

> ID：13308392
> 
> 赞同：0
> 
> 时间：2012-11-09T12:50:26.573
> 
> 标签：javascript, angularjs

我是 AngularJS 的新手，我试图想象自己，如何用 Angular 来完成这个场景：

假设我们有 20 个不同的 div：

```
<div id="div0"></div>
<div id="div1"></div>
...
<div id="div19"></div> 
```

现在，在一些控制器中，我们正在加载 JSON，fe：

```
[
{label: "Lorem ipsum", position: "div0"},
{label: "Dolor", position: "div2"},
{label: "Lorem ipsum", position: "div8"}
] 
```

现在，我想渲染这些元素，所以输出将是，对于第一个 JSON 对象：

`{label: "Lorem ipsum", position: "div0"}`-> `<p>{{label}}</p>`->`<p>Lorem</p>`

并将其附加到`#div0`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:38:19.280

如果我理解你的问题，我认为这就是答案：

```
app.controller('MyCtrl', function($scope) {
   $scope.items = [
      {label: "Lorem ipsum", position: "div0"},
      {label: "Dolor", position: "div2"},
      {label: "Lorem ipsum", position: "div8"}
   ];
}); 
```

这是标记：

```
<div ng-repeat="item in items" id="{{item.position}}"><p>{{item.label}}</p></div> 
```

这就是它的全部内容。

**编辑**

OP 想将数据放入硬编码的 HTML 中……所以你可以这样做：

```
app.controller('MyCtrl', function($scope) {
   $scope.items = [
      {label: "Lorem ipsum", position: "div0"},
      {label: "Dolor", position: "div2"},
      {label: "Lorem ipsum", position: "div8"}
   ];

   $scope.getValue = function(position) {
      for(var i = 0; i < $scope.items.length; i++) {
        var item = $scope.items[i];
        if(item.position == position) {
            return item.label;
        }
      }
      return '';
   };
}); 
```

像这样标记：

```
<div id="div0">{{getValue('div0')}}</div>
<div id="div1">{{getValue('div1')}}</div>
<div id="div8">{{getValue('div8')}}</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T22:28:13.147

If you have control over the JSON that is returned from the server, the following would simplify things:

Controller/JSON:

```
$scope.contents = {
    content0: "Lorem",
    content1: "lpsum"
}; 
```

Markup:

```
<div>{{contents.content0}}</div>
<div>{{contents.content1}}</div> 
```

In jQuery, we normally think of associating content/DOM changes with IDs.
In Angular, we try to declare where the content should go, without the use of IDs.

# jquery - 选择下一个元素，从某个元素开始

> ID：13308395
> 
> 赞同：0
> 
> 时间：2012-11-09T12:50:33.917
> 
> 标签：jquery

我的页面上有两个`radio`按钮。当我选择第一个时，我希望它禁用`input`div 内的特定字段集。当我选择第二个`radio`时，我希望它禁用其他元素。但是这些元素并没有嵌套在`div`按钮`radio`所在的位置。

我似乎无法找到禁用正确元素的好方法。

这是一个例子： [http ://tinkerbin.com/tvx5EwHR](http://tinkerbin.com/tvx5EwHR)

有人知道我如何禁用正确的输入字段吗？

请注意，我宁愿不用`parent().parent()`作解决方案。因为当我后来决定稍微改变 DOM 布局时，这很容易破坏我的 JS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:56:37.180

与其尝试用选择器做任何复杂的事情，我只想稍微更新一下 DOM。就像是

```
<input type="radio" ... data-disable="element1"/>
...
<div class="element1">
... 
```

`$(this).data('disable')`然后，在 jQuery 中，您可以在第一次启用所有输入后获取要禁用的元素的类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:03:39.643

如果您想启用/禁用与单选按钮关联的整个 div，那么这可能会有所帮助

[https://stackoverflow.com/questions/7340449/how-can-i-disable-a-div-tag-on-my-html-page-using-javascript](https://stackoverflow.com/questions/7340449/how-can-i-disable-a-div-tag-on-my-html-page-using-javascript)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:59:04.643

请试试这个[http://tinkerbin.com/xQjeYD6C](http://tinkerbin.com/xQjeYD6C)

```
$(function() {
  $('.opt1').click(function() {
    $('.elements1').show();
    $('.elements2').hide();
  });

  $('.opt2').click(function() {
    $('.elements1').hide();
    $('.elements2').show();
  });
}); 
```

# c# - 这些（ += ， -= ， *= ， /= ）运算符是什么意思？

> ID：13308399
> 
> 赞同：7
> 
> 时间：2012-11-09T12:50:37.833
> 
> 标签：c#, operators

我一直在到处寻找这些是什么意思以及它们是如何使用的，，，，，我发现最多的是它们是，“加法分配”，“差异分配”，“产品分配”，`+=`“`-=`分配by Quotient”等，但我不知道何时或如何使用它们。如果有人可以向我解释一下，我将不胜感激。谢谢`*=``/=`

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-11-09T12:51:35.503

它们是简写：

`a += b`

是相同的

`a = a + b`

ETC...

所以

*   `a -= b`相当于`a = a - b`
*   `a *= b`相当于`a = a * b`
*   `a /= b`相当于`a = a / b`

正如 Kevin Brydon 建议的那样 - 在[此处](http://msdn.microsoft.com/en-us/library/6a71f45d%28v=vs.110%29.aspx)熟悉 C# 中的运算符。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-09T12:52:20.307

请参阅[`7.13 Assignment operators`规范](http://msdn.microsoft.com/en-us/library/aa691314.aspx)及其小节。具体而言[`7.13.2 Compound assignment`](http://msdn.microsoft.com/en-us/library/aa691316.aspx)：

> 通过应用二元运算符重载决议（[第 7.2.4 节](http://msdn.microsoft.com/en-us/library/aa691326.aspx)）来处理x *op* = y 形式的操作，就好像该操作写成 x *op* y。然后，
> 
>  *• 如果所选运算符的返回类型可隐式转换为 x 的类型，则运算将计算为 x = x *op* y，但 x 仅计算一次。
> 
> • 否则，如果所选运算符是预定义运算符，如果所选运算符的返回类型可显式转换为 x 的类型，并且如果 y 可隐式转换为 x 的类型，则运算计算为 x = ( T)(x *op* y)，其中 T 是 x 的类型，除了 x 只计算一次。
> 
> •否则，复合赋值无效，并出现编译时错误。*

 ** * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-09T12:52:12.233

```
a+=1 means a = a+1
a-=2 means a = a-2
a*=3 means a = a*3
a/=4 means a = a/4 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-11-09T12:52:03.917

这些是赋值运算符（简写）

```
a += 1; is equal to a =  a + 1;

b -= 1; is equal to b =  b - 1;

a *= 1; is equal to a =  a * 1;

b /= 1; is equal to b =  b / 1; 
```

参考：[链接](http://msdn.microsoft.com/en-us/library/aa691314.aspx)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-11-09T12:52:03.293

大致`var *operator*= expression`意思是`var = var *operator* expression`。另外，我听说某处有文档。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-11-09T12:53:51.427

这是一个简短的形式。所以不要写：

x = x + 1;

你可以简单地写：

x += 1;

它具有相同的效果。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-09T12:51:45.603

这些是速记运算符。
这些在您执行操作并将结果存储到它们之间的变量之一时使用。也就是说，您将结果存储到您的操作数之一中，假设示例
1)x=x+y;
在这里你可以做 x+=y;
例如 2) x=x+1；
在这里你可以做 x+=1;*

# java - 将 Java 转换为 iOS

> ID：13308404
> 
> 赞同：6
> 
> 时间：2012-11-09T12:51:06.700
> 
> 标签：java, android, ios, converter

有没有可用于将 Android java 代码转换为 iOS 的库？如果不止一个，请列举优点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T12:52:57.580

谷歌有[J2ObjC](http://google-opensource.blogspot.de/2012/09/j2objc-java-to-ios-objective-c.html)来实现这一点。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-10-29T14:45:30.547

有两个不错的工具可供使用，对同时使用 Android 和 iO 的人很有用

**Java to Objective c 转换器**点击[这里](https://code.google.com/p/j2objc/)访问。

**Objective c to Java 转换器**点击 [这里](https://code.google.com/p/objc2j/)访问。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-09T12:53:44.400

[从谷歌http://google-opensource.blogspot.com.es/2012/09/j2objc-java-to-ios-objective-c.html](http://google-opensource.blogspot.com.es/2012/09/j2objc-java-to-ios-objective-c.html)检查这个项目，这是我在这里唯一的一个。我前一段时间做了一些测试，结果不太好。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-09T12:53:51.380

使用**J2ObjC**

开源工具，可自动将 Java 源代码转换为用于 iPhone 和 iPad 原生应用程序的 Objective-C 语言

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-11-09T12:53:59.343

是**的 J2ObjC**。谷歌开发。

[http://code.google.com/p/j2objc/](http://code.google.com/p/j2objc/)

[http://www.androidcentral.com/google-develops-tool-translate-java-ios-friendly-objective-c-code](http://www.androidcentral.com/google-develops-tool-translate-java-ios-friendly-objective-c-code)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-11-09T12:54:32.787

您可能想看看[J2Objc。](http://code.google.com/p/j2objc/)它是来自 Google 的开源命令行工具，可将 Java 代码转换为 iOS（iPhone/iPad）平台的 Objective-C。

# webserver - 如何设置文档 Web 服务器

> ID：13308412
> 
> 赞同：-2
> 
> 时间：2012-11-09T12:51:47.630
> 
> 标签：webserver

我没有设置服务器的经验。那么...您如何设置托管文档的 Web 服务器，如下例所示？

![在此处输入图像描述](../Images/f2ab8d6c66b19689c6968211667a84fc.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:58:59.217

为此，基本的 apache 安装应该可以工作。如果目录不包含 index.html （或任何其他有效索引），那么它将根据您的示例显示目录内容。

注意：确保您的 apache 配置允许目录列表，方法是`Options Indexes andThenSomeOtherStuffMostLikely`在您的 httpd.conf 中包含目录定义。例如，这是我的网络服务器上的默认设置，它允许它：

```
<Directory "/usr/www/default/http">
    Options Indexes FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
</Directory> 
```

现在，如果 apache 具有对目录的读取和执行访问权限（它应该具有），那么它将显示为索引。

# java - 在循环中的 ArrayList.add() 之后，所有元素都是相同的。为什么？

> ID：13308431
> 
> 赞同：2
> 
> 时间：2012-11-09T12:52:56.827
> 
> 标签：java, android, arraylist

如果我这样做[准java代码]：

```
while (loop)
{
    localObject = getDataForObject();
    globalPublicStaticArrayList<Object>.add(localObject);
} 
```

globalPublicStaticArrayList 中的所有元素都是相同的，等于添加的最后一个 localObject 副本。我通过调试器中的循环，看到一旦添加了一个对象，它就会被复制到 globalPublicStaticArrayList 的所有元素中。

我找到的解决方法是：

```
while (loop)
{
    localObject = getDataForObject();
    globalPublicStaticArrayList<Object>.add(new Object(localObject.member1, localObject.member2,...));
} 
```

它与Java中的引用传递有关吗？为什么在第一种情况下元素是相同的？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T12:55:27.653

Java 使用按值调用，但这里这些值是对对象的*引用。*

您添加到列表中的不是对象的副本，而是引用的副本。您的方法每次调用时都返回相同的对象。它可能每次都应该返回一个新对象，那么您就不需要这种解决方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T12:55:51.800

```
globalPublicStaticArrayList<Object>.add(localObject); 
```

在这里，您正在传递 localObject 引用。您想要每个对象的副本，您应该在每次迭代中创建一个新对象

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:59:04.147

在 getDataForObject() 中，您可能没有创建返回类型的“新”对象。因此，所有对象都指向相同的地址。

# c# - UserControl KeyDown 事件不会触发撤销 Windows 应用程序 KeyDown 事件

> ID：13308438
> 
> 赞同：1
> 
> 时间：2012-11-09T12:53:16.520
> 
> 标签：c#, windows, visual-studio, user-controls

我有 UserControl 并面临 KeyDown 事件的问题。我的 UserControls 将显示反对撤销 windows 窗体 keydown 事件，如下所示：

**用户控件的事件：**

```
private void UserControl_KeyDown(object sender,KeyEventArgs e)
{
        if ((Keys)e.KeyCode == Keys.Escape) 
        {
            this.Visible = false;

        }

} 
```

上述事件将不得不隐藏 UserControl，但由于撤销 windows 窗体 keydown，事件不会触发，如下所示：

**窗体：**

```
private void button1_Click(object sender, EventArgs e)
{
        panel1.SendToBack();
        panel2.SendToBack();
        panel3.SendToBack();
        panel4.SendToBack();
        am.Focus();
        this.KeyDown -= new KeyEventHandler(Form1_KeyDown);

} 
```

这将显示用户控件，因为用户控件被添加到 windows 窗体，如下所示：

```
 private UserControl.UserControl am = new UserControl.UserControl();
    public Form1()
    {
        InitializeComponent();
        this.Controls.Add(am);

    } 
```

我想针对 UserControl 的可见性撤销 winform 的 keydown 事件并触发 UserControl 的 keydown 事件以隐藏 UserControl，但效果不佳。UserControl 事件的 keydown 事件不会触发。不知道为什么？。如何以正确的方式做同样的事情？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-09T13:21:55.680

键盘通知发布到具有焦点的控件。这几乎从来不是一个用户控件，它不想要焦点。即使您使用 Focus() 方法显式设置焦点，它也会立即将其传递给其子控件之一。UserControl 被设计为只是其他控件的容器。

改写 ProcessCmdKey() 方法。将此代码粘贴到控件类中：

```
 protected override bool ProcessCmdKey(ref Message msg, Keys keyData) {
        if (keyData == Keys.Escape) {
            this.Visible = false;
            return true;
        }
        return base.ProcessCmdKey(ref msg, keyData);
    } 
```

请注意，使用 Escape 键并不是最好的主意，您放置用户控件的表单很可能需要该键。就像一个对话。

# c++ - 错误：无效的基类 C++

> ID：13308441
> 
> 赞同：5
> 
> 时间：2012-11-09T12:53:29.750
> 
> 标签：c++, oop, class, derived-class, deriving

请任何人解释一下可能导致此错误的原因？

```
Error: Invalid base class 
```

我有两个类，其中一个派生自第二个：

```
#if !defined(_CGROUND_H)
#define _CGROUND_H

#include "stdafx.h"
#include "CGameObject.h"

class CGround : public CGameObject // CGameObject is said to be "invalid base class"
{
private:
    bool m_bBlocked;
    bool m_bFluid;
    bool m_bWalkable;

public:
    bool draw();

    CGround();
    CGround(int id, std::string name, std::string description, std::string graphics[], bool bBlocked, bool bFluid, bool bWalkable);
    ~CGround(void);
};

#endif  //_CGROUND_H 
```

CGameObject 看起来像这样：

```
#if !defined(_CGAMEOBJECT_H)
#define _CGAMEOBJECT_H

#include "stdafx.h"

class CGameObject
{
protected:
    int m_id;
    std::string m_name;
    std::string m_description;
    std::string m_graphics[];

public:
    virtual bool draw();

    CGameObject() {}
    CGameObject(int id, std::string name, std::string description, std::string graphics) {}

    virtual ~CGameObject(void);
};

#endif  //_CGAMEOBJECT_H 
```

我尝试清理我的项目但徒劳无功。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-09T13:14:59.217

`std::string m_graphics[]`定义数组 ( ) 而不将其大小指定为类的成员是无效的。C++ 需要提前知道类实例的大小，这就是为什么不能从它继承的原因，因为 C++ 在运行时不知道继承类的成员在内存中的哪个位置可用。
您可以在类定义中固定数组的大小，也可以使用指针并在堆上分配它，或者使用 a`vector<string>`代替数组。

# java - IBM RFT：未启动应用程序

> ID：13308442
> 
> 赞同：0
> 
> 时间：2012-11-09T12:53:34.553
> 
> 标签：java, user-interface, testing, rft

我正在使用带有 Eclipse 版本的 RFT 8.2，但我自己的 java 程序没有在 RFT 的录制功能中启动。

*   它只是一个用于 RFT 探索目的的小型 GUI，我在 RFT 应用程序设置中选择了它的类。
*   当然，我可以在 Eclipse 中正常启动它。
*   我可以启动 RFT 的测试模板（ClassicsJavaA 和 ClassicsJavaB）

如果您需要任何其他具体信息，请告诉我。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-11T06:57:11.763

您还没有提到您究竟是如何尝试启动您的应用程序（您如何配置您的应用程序，您的应用程序的类型是什么）使用 RFT 的“配置测试应用程序”向导，您可以添加一个 java 应用程序（如果您想执行 JAR 应用程序），或者如果您的应用程序是 EXE 形式，您可以添加一个可执行文件 (EXE)。

如果您要运行的应用程序是一个类文件，那么您可以在应用程序向导中配置“java.exe/javaw.exe”，并将类的名称作为参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T15:29:20.310

问题是因为该类位于一个包中，而标准 rft 引导行没有解决这种情况。

我通过在“路径”行中编写正确的类路径并在类之前编写包名来解决它（就像您将使用 CMD 行启动程序一样）。

**RFT 应用程序向导：**

路径：`C:\YourPath\bin`（Eclipse 类文件夹）

类或罐子：`package.packageTwo.KlassName`

# centos - centos - plesk - apache 文件拥有者

> ID：13308444
> 
> 赞同：2
> 
> 时间：2012-11-09T12:53:41.993
> 
> 标签：centos, plesk, mkdir, centos6

我有个问题。

服务器：VPS 系统：Centos 6 + Plesk 11

保存模式=关闭；

问题：

我有一个为用户创建文件夹的脚本。mkdir('/var/www/vhosts/website.com/private/'.$user_id.', 0755, true);

并且真正的 Plesk API 我为新文件夹创建了一个 ftp 用户。

问题是我的 php 脚本创建了以下组和用户的新内容：apache(502)/503

ftp 用户在此文件夹中完全没有权限。

如果我创建文件夹 true ftp 组和用户是：505/10000

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-13T12:33:04.653

这是因为您的 PHP 脚本在`mod_php`模式下运行并在`Apache`用户下执行。最简单的解决方案是将您的站点切换为在`FastCGI`模式下运行，以便 PHP 脚本在您的 PHP 用户下运行并且不存在所有权冲突。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-26T08:54:07.470

这个问题很老了，但我找到了一个解决方案，所以认为它可能对某人有帮助。以下命令需要使用 root 访问权限执行。

```
cd /var/www/vhosts/yourdomain.com
chown -R youruser:psacln httpdocs
chmod -R g+w httpdocs/wp-content
find httpdocs -type d -exec chmod g+s {} \; 
```

详细说明可以查看链接 [http://www.ryanbelanger.com/wordpress-file-permissions/](http://www.ryanbelanger.com/wordpress-file-permissions/)

# python - 如何使用 Python 将异步插入 MySQL

> ID：13308446
> 
> 赞同：0
> 
> 时间：2012-11-09T12:53:43.150
> 
> 标签：python, mysql, gevent

# 解决了，每个greenlet都应该有一个连接而不是共享同一个连接。

我想将大量数据插入 MySQL 数据库。我用来`gevent`从互联网上下载数据，然后将数据插入 MySQL。我发现 [umysqldb](https://github.com/hongqn/umysqldb)可以异步插入 MySQL。但是我收到以下错误：`Mysql Error 0: Concurrent access in query method`.

我的代码如下：

```
def insert_into_mysql(conn,cur,pid,user,time,content):
    try: 
        value=[pid,user,time,content] 
        #print 'value is', value
        print 'hi'
        cur.execute('insert into post(id,user,time,content) values(%s,%s,%s,%s)',value) 
        print 'after execute'
        conn.commit() 
    # except MySQLdb.Error,e: 
    except umysqldb.Error,e: 
        print "Mysql Error %d: %s" % (e.args[0], e.args[1]) 
```

`insert_into_mysql`包含在`download_content`：

```
while len(ids_set) is not 0:
    id = ids_set.pop()
    print 'now id is', id
    pool.spawn(download_content,conn,cur,int(id))
    r.sadd('visited_ids',id)
    pool.join() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T00:09:03.923

ultramysql 不允许您在同一个 mysql 连接上进行多个查询，它只是使其异步友好。因此，您需要为每个 greenlet 建立一个新的 mysql 连接，或者使用锁定原语来确保一次只有一个 greenlet 使用该连接。

# javascript - 仅使用 javascript 扫描 QR 码

> ID：13308451
> 
> 赞同：2
> 
> 时间：2012-11-09T12:54:11.910
> 
> 标签：javascript, barcode

> **可能重复：**
> [JavaScript QR 码阅读器 - 可以吗？或者，远程服务？](https://stackoverflow.com/questions/2566972/javascript-qr-code-reader-can-it-be-done-or-remote-service)

有什么方法可以仅使用 javascript 扫描条码/二维码。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T13:05:19.510

ZXing 有一个 javascript 端口，可让您解析图像或画布对象中的二维码。

要使用它扫描从网络摄像头生成的图像中的条形码，您需要一个基于闪存的小型模块或已经支持 html5 媒体捕获 api 的浏览器

[https://github.com/LazarSoft/jsqrcode](https://github.com/LazarSoft/jsqrcode)

# php - 无法从本地主机发送 SMTP 邮件（）

> ID：13308453
> 
> 赞同：0
> 
> 时间：2012-11-09T12:54:15.433
> 
> 标签：php

我尝试从本地主机发送邮件，但它不能正常工作。我在下面给出了我的代码。请看下面的代码，请告诉实际问题是什么。谢谢

我使用的邮件功能->

```
[mail function]
; For Win32 only.
; http://php.net/smtp
SMTP = SMTP
; http://php.net/smtp-port
smtp_port = 25

; For Win32 only.
; http://php.net/sendmail-from
;sendmail_from = NULL

; For Unix only.  You may supply arguments as well (default: "sendmail -t -i").
; http://php.net/sendmail-path
;sendmail_path = NULL

; Force the addition of the specified parameters to be passed as extra parameters
; to the sendmail binary. These parameters will always replace the value of
; the 5th parameter to mail(), even in safe mode.
;mail.force_extra_parameters = NULL

; Add X-PHP-Originating-Script: that will include uid of the script followed by the filename
mail.add_x_header = Off

; Log all mail() calls including the full path of the script, line #, to address and headers
mail.log = "D:\xampp\apache\logs\php_mail.log" 
```

使用的php代码->

```
 <?php
$to = "somebody@example.com, somebodyelse@example.com";
$subject = "HTML email";

$message = "
<html>
<head>
<title>HTML email</title>
</head>
<body>
<p>This email contains HTML Tags!</p>
<table>
<tr>
<th>Firstname</th>
<th>Lastname</th>
</tr>
<tr>
<td>John</td>
<td>Doe</td>
</tr>
</table>
</body>
</html>
";

// Always set content-type when sending HTML email
$headers = "MIME-Version: 1.0" . "\r\n";
$headers .= "Content-type:text/html;charset=iso-8859-1" . "\r\n";

// More headers
$headers .= 'From: <webmaster@example.com>' . "\r\n";
$headers .= 'Cc: myboss@example.com' . "\r\n";

mail($to,$subject,$message,$headers);
?> 
```

在上面执行 PHP 代码时出现错误->

```
Warning: mail() [function.mail]: Failed to connect to mailserver at "SMTP" port 25, verify your "SMTP" and "smtp_port" setting in php.ini or use ini_set() in D:\xampp\htdocs\mail.php on line 43 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:00:30.207

您的 SMTP 端口 25 上没有运行邮件服务器。您可以使用 IIS 附带的 SMTP 服务器，也可以使用[http://www.xmailserver.org/](http://www.xmailserver.org/)或[http://www.hmailserver.com之类的东西](http://www.hmailserver.com)

服务器管理器 > 功能（不是角色）> 右键单击​​，添加 > SMTP 服务器 - 然后配置 IIS 7 SMTP 以指向本地服务器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T22:33:17.697

这是一个简单的 python 脚本，它可以让您在 wamp 中的 localhost 上运行邮件服务器，您不必更改 php.ini 中的任何内容。

```
import smtpd

import smtplib

import asyncore

class SMTPServer(smtpd.SMTPServer):

    def __init__(*args, **kwargs):
        print "Running smtp server on port 25"
        smtpd.SMTPServer.__init__(*args, **kwargs)

    def process_message(*args, **kwargs):
        to = args[3][0]
        msg = args[4]
        gmail_user = 'yourgmailhere'
        gmail_pwd = 'yourgmailpassword'
        smtpserver = smtplib.SMTP("smtp.gmail.com",587)
        smtpserver.ehlo()
        smtpserver.starttls()
        smtpserver.ehlo
        smtpserver.login(gmail_user, gmail_pwd)
        smtpserver.sendmail(gmail_user, to, msg)
        print 'sent to '+to
        pass
if __name__ == "__main__":
    smtp_server = SMTPServer(('localhost', 25), None)
    try:
        asyncore.loop()
    except KeyboardInterrupt:
        smtp_server.close()

#end of code 
```

注意：我使用 args[3][0] 和 args[4] 作为地址和消息，因为我的 php mail() 发送的 args 对应于 args[3][0] 数组作为接收电子邮件

# caching - ColdFusion 的 cfquery 静默失败

> ID：13308456
> 
> 赞同：5
> 
> 时间：2012-11-09T12:54:23.253
> 
> 标签：caching, coldfusion, coldfusion-9

我有一个检索大量数据的查询。

```
<cfsetting requesttimeout="9999999" >

<cfquery name="randomething" datasource="ds" timeout="9999999" >
    SELECT
        col1,
        col2
    FROM
        table
</cfquery>

<cfdump var="#randomething.recordCount#" /> <!---should be about 5 million rows ---> 
```

我可以使用 python 的 cx_Oracle 成功检索数据，并`sys.getsizeof`在 python 列表中使用返回 22621060，即大约 21 兆字节。

ColdFusion 不会在页面上返回错误，而且我在任何日志中都找不到任何内容。为什么`cfdump`不显示行数？

**附加信息**

这样做的原因是因为我有大约 8000 个较小的查询要针对该`randomthing`查询运行。换句话说，当我对数据库运行这 8000 个查询时，该过程需要几个小时才能完成。我怀疑这是因为我正在与其他几个数据库用户竞争，并且数据库陷入了困境。

8000 个较小的查询在 col2 期间获得 col1 的计数。

```
SELECT 
    count(col1) as count
WHERE 
    col2 < 20121109 
AND 
    col2 > 20121108 
```

根据[亚当卡梅隆的](https://stackoverflow.com/users/894061/adam-cameron) [建议](https://stackoverflow.com/a/13308712/322909)。

*   cflog 提示查询未完成。

*   我尝试~~在代码和~~CFIDE/管理员中更改查询超时，[显然 CF9 不再尊重 timeout 属性](http://www.carehart.org/blog/client/index.cfm/2010/7/14/hidden_gem_in_cf9_admin_querytimeout)，无论我尝试什么，我都无法让查询超时。

我也开始玩弄这个`maxrows`属性，看看我是否能以这种方式辨别任何信息。

*   当 maxrows 设置为 1300000 时一切正常
*   当 maxrows 为 1400000 或更大时，我收到此错误 ![在此处输入图像描述](../Images/5473812d60c34a9abf3606762acec406.png)
*   当 maxrows 是 2000000 我观察到我原来的问题

**更新**

所以这不是 cfquery 的限制。通过使用`QueryNew`then 循环它来添加数据，我可以毫无问题地超过 200 万大关。

[我还使用这个问题](https://stackoverflow.com/q/7015557/322909)中的信息创建了一个 ThinClient 数据源，我没有观察到任何行为变化。

数据库端的消息是

*来自客户端的 SQL*Net 消息*

和

*SQL*Net 向客户端发送更多数据*

我刚刚发现，通过使用瘦客户端，`blockfactor1="100"`我可以检索更多行（appx. 3000000）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:10:24.603

数据库结束时是否记录了任何内容？

我想知道是否`timeout`没有受到尊重，并且 JDBC 在工作时正在“挂起”数据库。这是一个疯狂的猜测。如果你设置一个非常低的超时时间——例如：5 秒——它会在 5 秒后出错，还是什么？

浏览器也可能超时。`<cfquery>`什么说你在块之前和之后写一些东西到日志中，用`<cflog>`. 查看查询是否最终完成。

我想知道一旦你把这些 22M 记录带回 CF，你打算如何处理它们。不管它是什么，在我看来 CF 是做任何事情的错误场所：CF 不是用于繁重的数据处理，而是用于制作网页。如果您需要处理 22M 记录，我*怀疑*您应该在数据库上进行。也就是说，我在猜测你在做什么而没有继续的信息，所以我认为这样做可能是有充分理由的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-27T17:15:32.023

您是否尝试过包装您`cfquery`的`cftry`标签以查看是否报告了任何内容？

```
<cfsetting requesttimeout="600" >

<cftry>
    <cfquery name="randomething" datasource="ds" timeout="590" >
        SELECT
            col1,
            col2
        FROM
            table
    </cfquery>

    <cfdump var="#randomething.recordCount#" /> <!--- should be about 5 million rows --->

    <cfcatch type="any">
        <cfdump var="#cfcatch#">
    </cfcatch>
</cftry> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T14:03:43.763

这只是一个想法，但你可以试一试：

您提到使用`QueryNew`您可以成功添加您需要的超过两百万条记录。

此外，当您`maxRows`的数量少于 1,300,000 时，事情会按预期工作。

那么为什么不首先`count(*)`对表中的记录总数进行查询，除以一百万并向上取整，然后`cfloop`在该数字上执行查询，`maxRows=1000000`并`startRow=((i - 1 * 1000000) + 1)`在每次迭代时...

`ArrayAppend`每个查询从循环内到一个数组，然后当它全部完成后，循环遍历您的数组，将记录推送到一个新的 Query 对象中。这样，您最终会得到一个包含您尝试检索的所有记录的查询。

您**可能会**遇到内存问题，并且它的性能**不会**那么好，但是嘿 - 这是 Coldfusion，这些都是课程的标准，有时会发生疯狂的事情/工作。

（您可以随时将每个查询的结果附加到您正在构建的那个，`QueryNew`而不是将每个查询推送到一个数组中，但是如果不这样做，它会更容易调试并查看您能走多远如果您随时构建一个数组，则可以工作。）

（此外，使用 CF 可以处理的大小范围内的多个查询，您可以通过循环遍历数组然后每个查询来执行您需要的过程，而不是构建一个大规模查询 - 将节省处理时间和内存，但取决于您是否需要单个查询对象中的完整结果集）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-30T00:20:26.310

如果您的日期范围是一致的，我会建议在 sql 中使用一些聚合函数，而不是让 cf 处理它。就像是：

```
select col1, count(col1), year(col2), month(col2)
from table
group by year(col2), month(col2)
order by year(col2), month(col2) 
```

如果您也需要该详细级别，请添加 day()。您可以使用日期部分获得真正的创意。

这应该会大大加快整个运行时间，减少主查询的大小。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-01T22:08:40.953

因此，事实证明服务器内存不足，显然`cfquery`比 python 占用更多的内存`list`。

![CFMonitor 图表](../Images/000c3f18188c5901a38cfa2dbec7c399.png)

正是[Barry 的评论](https://stackoverflow.com/questions/13308456/coldfusions-cfquery-failing-silently#comment18675333_13308456)让我朝着正确的方向前进，在此之前我对服务器监视器知之甚少，除了它存在的事实。

事实证明，[我也不是很擅长阅读](https://stackoverflow.com/questions/13308456/coldfusions-cfquery-failing-silently#comment18161336_13308456)，在 application.log 文件中记录的错误是

*超出 GC 开销限制 包含或处理的文件的具体顺序是：\path\to\index.cfm，行：10"*

和

*Java堆空间包含或处理的文件的具体顺序是：\path\to\index.cfm*

我最终会接受 Adams的[建议](https://stackoverflow.com/a/13308712/322909)，让数据库进行处理。至少现在我可以解释为什么事情进展缓慢，而不仅仅是说“我不知道”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-10T06:10:00.430

您的问题是 ColdFusion 无法使 SQL 超时。我相信自从 CF6 以来，这一直是一个问题。所以基本上发生的事情是 cfquery 花费的时间超过 9999999 秒，但 CF 不能使 JDBC 超时，所以它等到之后尝试运行 cfdump（它在内部使用 cfoutput），这被报告为超时，因为现在认为请求有跑太久。

正如亚当指出的那样，无论您尝试做什么，对于 CF 来说都太大而无法实际处理，并且要么需要被分割成更小的工作，要么完全在数据库中处理。

# c# - 读取 CSV 并列出具有特定值的列表

> ID：13308457
> 
> 赞同：0
> 
> 时间：2012-11-09T12:54:22.520
> 
> 标签：c#, list, csv

我是 C# 新手，我一直在尝试了解如何从 CSV 文件中读取特定值。我的文件具有以下格式

```
08/11/2012 01:00:00,28/11/2012 01:00:00,29/11/2012 01:00:00,88,
08/11/2012 01:00:00,29/11/2012 01:00:00,30/11/2012 01:00:00,88,
08/11/2012 01:00:00,30/11/2012 01:00:00,01/12/2012 01:00:00,88,
08/11/2012 01:00:00,01/12/2012 01:00:00,02/12/2012 01:00:00,90.25,
08/11/2012 01:00:00,02/12/2012 01:00:00,03/12/2012 01:00:00,90.25, 
```

我想读取最后一个值（即`88 90.25`等）并将其作为字符串保存到列表中。我尝试了到目前为止在此论坛上找到的所有内容，但在我的情况下它不起作用。

我想这样做是因为我想将此列表与另一个字符串列表进行比较，该列表从我运行的另一个模型生成的 XML 文件中获取这些值。非常感谢你的帮助！

**此 csv 文件包含约 55000 行具有上述格式的行。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T13:00:57.933

```
var values = File.ReadAllLines("").Select(x => x.Split(new char[] { ',' })[3]); 
```

小编辑 - 错字。使用此示例进行测试：

```
 List<string> lines = new List<string>();
  lines.Add("08/11/2012 01:00:00,28/11/2012 01:00:00,29/11/2012 01:00:00,88,");
  lines.Add("08/11/2012 01:00:00,29/11/2012 01:00:00,30/11/2012 01:00:00,88,");
  var values = lines.Select(x => x.Split(new char[] { ',' })[3]); 
```

在列表中检索 88、88。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T12:59:12.757

如果您的价值观是这样的，并且在其价值观中不包括“，”：

```
TextReader tr1 = new StreamReader(CSVFileName, true);

var Data = tr1.ReadToEnd().Split('\n')
    .Where(l => l.Length > 0)  //nonempty strings
    .Skip(1)               // skip header if it has one
    .Select(s => s.Trim())   // delete whitespace
    .Select(l => l.Split(',')) // get arrays of values
    .Select(l => new { Date_1 = l[0], 
                       Date_2 = l[1], 
                       Date_3 = l[2], 
                       Val = l[3] }); 
```

然后你可以使用这个对象`foreach`或任何你喜欢的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T12:59:28.963

```
double[] numbers = fileText.Split('\n').Select(x => double.Parse(x.Split(',')[3])).ToArray();
string numbersJoined = string.Join(" ", numbers); 
```

# sql - 在最后一行打印文字“执行；” - 行数总是不同

> ID：13308460
> 
> 赞同：0
> 
> 时间：2012-11-09T12:54:27.237
> 
> 标签：sql, oracle, oracle10g

这是我生成批处理文件的 SQL 代码

```
SELECT    'CANCEL_TRANS trans WITH serial = "'
   || serial
   || '" , short_name = "'
   || short_name
   || '";'
FROM trans
WHERE ( (trans.status = 0))
   AND TO_TIMESTAMP (time_created, 'YYYY/MM/DD-HH24:MI:SS.FF') <
          SYSDATE - 1 / 24
   AND platform_name LIKE '%test%'; 
```

输出

（总是不同的行数）

```
CANCEL_TRANS trans WITH serial = "507760" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507761" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507781" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507782" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507785" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507786" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507880" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507883" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507884" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507886" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507976" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507964" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507967" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507971" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "507762" , short_name = "BD";
CANCEL_TRANS trans WITH serial = "508096" , short_name = "BD"; 
```

我希望在最后一行打印这个字符串/文字。希望用 SQL（不是 shell 脚本）来做到这一点：

```
execute; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:01:48.703

使用`UNION ALL`：

```
SELECT ...
UNION ALL
SELECT 'execute;' from dual 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:11:41.607

您使用以下代码：

```
SELECT top 1 'CANCEL_TRANS trans WITH serial = "' || serial 
              || '" , short_name = "' || short_name || '";' 
  FROM trans 
 WHERE trans.status = 0
   AND TO_TIMESTAMP(time_created, 'YYYY/MM/DD-HH24:MI:SS.FF') < SYSDATE - 1 / 24 
   AND platform_name LIKE '%test%' order by serial desc; 
```

# android - Android twitter 集成和以编程方式发送推文

> ID：13308471
> 
> 赞同：0
> 
> 时间：2012-11-09T12:54:57.810
> 
> 标签：android, android-layout, android-intent, android-emulator

我正在尝试在 Android 中实现 Twitter 集成，并以编程方式发送推文。我在 Internet 上进行了很多搜索，但没有找到正确的 twitter 集成和发送推文示例。如果有人有 Android Twitter 集成和发送推文的适当示例，请分享链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T13:44:13.437

我用这个项目在 facebook、twitter 和linkedin 上发布消息。你可以试试这个：

[http://code.google.com/p/socialauth-android/](http://code.google.com/p/socialauth-android/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-16T04:00:42.513

我在做同样的事情时遇到了同样的问题，但是我的搜索通过以下链接停止：-

**下面的链接向您展示如何使用 Twitter 和其他社交媒体生成密钥**

[http://code.google.com/p/socialauth-android/wiki/Twitter](http://code.google.com/p/socialauth-android/wiki/Twitter)

**现在下面的链接是源代码，您可以在其中找到源代码**

[http://code.google.com/p/socialauth-android/downloads/list](http://code.google.com/p/socialauth-android/downloads/list)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:25:20.267

你可以使用[Twitter4J](http://twitter4j.org/)，这里有一些[例子](http://twitter4j.org/en/code-examples.html)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T12:58:34.237

是的。

Android 中的 Twitter OAuth 集成

在此处查找更多代码和实现：[https ://github.com/browep/Android-OAuth-](https://github.com/browep/Android-OAuth-)

[http://responsiveandroid.com/2012/03/15/twitter-oauth-integration-in-an-android-app.html](http://responsiveandroid.com/2012/03/15/twitter-oauth-integration-in-an-android-app.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T13:15:25.050

首先生成**客户密钥**和**客户机密**，然后将 twitter4j jar 添加到您的项目中。那么我想这个链接将作为一个简单的例子帮助你[http://blog.doityourselfandroid.com/2011/08/08/improved-twitter-oauth-android/](http://blog.doityourselfandroid.com/2011/08/08/improved-twitter-oauth-android/)

# delphi - 使用 StrToDateTime 和 TFormatSettings 的转换不起作用

> ID：13308472
> 
> 赞同：17
> 
> 时间：2012-11-09T12:55:08.420
> 
> 标签：delphi, delphi-xe2, tdatetime, formatdatetime

此代码应该在 Delphi XE2 中工作，但它在 StrtoDateTime 转换中给出“不是有效的日期和时间”错误：

```
procedure TForm2.Button1Click(Sender: TObject);
var
  s: string;
  d: TDateTime;
  FmtStngs: TFormatSettings;
begin
    GetLocaleFormatSettings(GetThreadLocale, FmtStngs);
    FmtStngs.DateSeparator := #32;
    FmtStngs.ShortDateFormat := 'dd mmm yyyy';
    FmtStngs.TimeSeparator := ':';
    FmtStngs.LongTimeFormat := 'hh:nn';

    s := FormatDateTime('', Now, FmtStngs);
    d := StrToDateTime(s, FmtStngs);
end; 
```

有什么提示吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-09T19:09:53.543

如果要转换一些特殊的 DateTime 格式，最好使用[VarToDateTime](http://docwiki.embarcadero.com/Libraries/XE3/en/System.Variants.VarToDateTime)而不是 StrToDateTime。只要看看两者的实现，您就会认识到， StrToDateTime 不知何故...... VarToDateTime 会询问操作系统是否无法自行确定。

这适用于 Delphi XE3（但也适用于早期版本）：

```
procedure TForm2.Button1Click( Sender: TObject );
var
  s: string;
  d: TDateTime;
  FmtStngs: TFormatSettings;
begin
    GetLocaleFormatSettings( GetThreadLocale, FmtStngs );
    FmtStngs.DateSeparator := #32;
    FmtStngs.ShortDateFormat := 'dd mmm yyyy';
    FmtStngs.TimeSeparator := ':';
    FmtStngs.LongTimeFormat := 'hh:nn';

    s := FormatDateTime( '', Now, FmtStngs );
    d := VarToDateTime( s );
end; 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-11-09T15:15:26.437

你有两个问题

1.  您不能将 WhiteSpace 用作 DateSeparator，因为解析字符串的内部例程使用此字符来确定字符串的日期和时间部分。

2.  当月份部分使用字符串时，该[`StrToDateTime`](http://docwiki.embarcadero.com/Libraries/XE3/en/System.SysUtils.StrToDateTime)功能不起作用 `mmm`，这在此[QC 23301中报告](http://qc.embarcadero.com/wc/qcmain.aspx?d=23301)

# php - 使用 PHP 验证用户的电子邮件是否存在于提供的域中

> ID：13308473
> 
> 赞同：-4
> 
> 时间：2012-11-09T12:55:14.630
> 
> 标签：php, email, email-verification

> **可能重复：**
> [检查电子邮件是否有效且存在](https://stackoverflow.com/questions/1778390/check-if-email-are-valid-and-exists)
> [如何在 PHP 中验证电子邮件地址](https://stackoverflow.com/questions/12026842/how-to-validate-an-email-address-in-php)

我正在开发一个通过在 PHP 中提供的邮件地址发送邮件的应用程序。现在我想验证给定的邮件地址是否真的存在于域中

```
 **i.e
    abc@xyz.com (for example its registred in xyz domain)
    abcd@xyz.com (for example its nod registred xyz domain)** 
```

我如何使用 PHP 来验证它。

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T12:57:27.273

1.  生成令牌
2.  将该令牌针对电子邮件地址存储在数据库中
3.  使用包含令牌和电子邮件地址哈希的 URL 向该地址发送电子邮件

如果有人访问该 URL，则该地址存在。

SMTP 提供了一种机制来询问服务器是否托管特定地址，但它几乎总是被禁用，因为它是垃圾邮件发送者最喜欢的工具。

# sql - 使用 SQL Server 中两个不同列上的 OR 条件确定记录是否处于活动状态

> ID：13308480
> 
> 赞同：1
> 
> 时间：2012-11-09T12:55:39.043
> 
> 标签：sql, sql-server, sql-server-2008

我面临一个棘手的问题，因为我的表有两个不同的列，它们决定记录是否处于活动状态。（两个不同的列是因为同一个数据库一次又一次的变化，当然不是我。）

这些字段是`bit`数据库中的类型。任何人都可以建议一个从表中获取记录的查询。

前任。从产品中选择 *（isActive = 0 或 isCancelled =1）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:59:12.913

不活动：

```
select * from product where isActive = 0 or isCancelled =1 
```

积极的

```
select * from product where isActive = 1 and isCancelled =0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:12:58.360

我认为这是编写此查询的好方法

```
select * from product where isActive = 1 and isCancelled = 0 -- Active records
select * from product where not (isActive = 1 and isCancelled = 0) -- Inactive records 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:21:06.740

我会选择计算值：

```
select *, (isActive = 1 and isCancelled = 0) as active
from product 
```

或者更好的是创建一个视图来隐藏这种丑陋：

```
create view complete_product as
select *, (isActive = 1 and isCancelled = 0) as active
from product 
```

# c# - 如何获取枚举的属性

> ID：13308481
> 
> 赞同：3
> 
> 时间：2012-11-09T12:55:49.723
> 
> 标签：c#, attributes, field

> **可能重复：**
> [获取枚举值的属性](https://stackoverflow.com/questions/1799370/getting-attributes-of-enums-value)

这是我的课：

```
[AttributeUsage(AttributeTargets.Field)]
public sealed class LabelAttribute : Attribute
{

    public LabelAttribute(String labelName)
    {
        Name = labelName;
    }

    public String Name { get; set; }

} 
```

我想获取属性的字段：

```
public enum ECategory
{
    [Label("Safe")]
    Safe,
    [Label("LetterDepositBox")]
    LetterDepositBox,
    [Label("SavingsBookBox")]
    SavingsBookBox,
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:05:38.090

读取 ECategory.Safe Label 属性值：

```
var type = typeof(ECategory);
var info = type.GetMember(ECategory.Safe.ToString());
var attributes = info[0].GetCustomAttributes(typeof(LabelAttribute), false);
var label = ((LabelAttribute)attributes[0]).Name; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:09:56.757

```
var fieldsMap = typeof(ECategory).GetFields()
    .Where(fi => fi.GetCustomAttributes().Any(a => a is LabelAttribute))
    .Select(fi => new
    {
        Value = (ECategory)fi.GetValue(null),
        Label = fi.GetCustomAttributes(typeof(LabelAttribute), false)
                .Cast<LabelAttribute>()
                .Fist().Name
    })
    .ToDictionary(f => f.Value, f => f.Label); 
```

之后，您可以像这样检索每个值的标签：

```
var label = fieldsMap[ECategory.Safe]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:05:52.130

您可以创建扩展：

```
public static class CustomExtensions
  {
    public static string GetLabel(this ECategory value)
    {
      Type type = value.GetType();
      string name = Enum.GetName(type, value);
      if (name != null)
      {
        FieldInfo field = type.GetField(name);
        if (field != null)
        {
          LabelAttribute attr = Attribute.GetCustomAttribute(field, typeof(LabelAttribute )) as LabelAttribute ;
          if (attr != null)
          {
            return attr.Name;
          }
        }
      }
      return null;
    }
  } 
```

然后你可以这样做：

```
var category = ECategory.Safe;    
var labelValue = category.GetLabel(); 
```

# facebook - APP_NAMESPACE 脸书

> ID：13308483
> 
> 赞同：1
> 
> 时间：2012-11-09T12:55:54.607
> 
> 标签：facebook, namespaces, ios6, request

我是 Stack Overflow 的新手，所以请原谅我在这个问题上可能犯的任何错误。我的问题与此有关：[单击 Facebook 通知后 App Launches 时请求 ID 不可用](https://stackoverflow.com/questions/12853431/request-id-is-not-available-when-app-launches-after-clicking-facebook-notificati)。

我遇到了与 Aromal Sasidharan 完全相同的问题，但在 Facebook 应用程序仪表板中，我的应用程序有一个命名空间集。还有其他地方需要填写吗？

# c# - 混淆黑白地铁和桌面应用程序

> ID：13308486
> 
> 赞同：1
> 
> 时间：2012-11-09T12:56:12.543
> 
> 标签：c#, visual-studio, windows-8

我已经下载了适用于 Windows 8 的 Visual Studio Express 2012。我认为要创建桌面（非 Metro）应用程序，我们需要 Visual Studio for Windows Desktop。

我是对的还是我已经完成了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:11:23.323

如果您想开发**Windows 窗体应用程序**，您将需要 Visual Studio Express 2012 for Windows Desktop。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T06:01:58.970

适用于 Windows 8 的 Visual Studio Express 2012 只能构建 Windows 应用商店应用程序。要构建传统的 Windows 桌面应用程序，您需要适用于 Windows 桌面的 Visual Studio Express 2012 或可以构建任何类型的应用程序（Windows 应用商店、桌面、Windows Phone 和 Web）的非 Express 版本（Professional、Ultimate 等）之一。

[http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-products](http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-products)

# .htaccess - htaccess RewriteRule 页面没有正确重定向

> ID：13308491
> 
> 赞同：0
> 
> 时间：2012-11-09T12:56:38.773
> 
> 标签：.htaccess, mod-rewrite, redirect

这是我第一次尝试编写 htaccess 规则。我的目标是将所有相对链接重定向到绝对链接。首先，我正在测试：

```
RewriteEngine On

RewriteRule gallery\.php$ http://www.domain.com/sample/gallery.php
RewriteRule info\.php$ http://www.domain.com/sample/gallery.php 
```

当我单击链接时，第一条规则使 Firefox 抛出错误“页面未正确重定向”，而第二条规则工作正常。未来的想法是写一个规则，比如，

```
RewriteRule catchAllRelativeLinks$ http: //www.domain.com/sample/$1 
```

但是如果我不能使第一条规则起作用，我认为我不会找到如何制定真正的规则。

编辑：为了避免无限循环，我不能尝试通过捕获变量来了解我是在第一个还是第二个 istance 上？我尝试过的一些想法（但失败了）：

```
RewriteCond %{IS_SUBREQ} false
RewriteRule ^gallery\.php$ http://www.domain.com/gallery.php?a [R=302,L]

RewriteCond %{THE_REQUEST} !(\?something)$
RewriteRule ^gallery\.php$ http://www.domain.com/gallery.php?something [R=302,L] 
```

或使用环境变量，

再次感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T17:49:34.513

您拥有的第一条规则会导致无限循环。`mod_rewrite`在使相对链接绝对化方面并不是那么好。这应该在 HTML 中完成。例如，转

```
<a href="gallery.php">Gallery</a> 
```

进入

```
<a href="/sample/gallery.php">Gallery</a> 
```

但是，第二条规则之所以有效，是因为它`mod_rewrite`做得非常好，那就是从一个页面或 URL 重定向到另一个页面或 URL。有关这方面的更多信息，请参阅[Apache 文档](http://httpd.apache.org/docs/current/rewrite/intro.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-06T12:06:59.223

您可以查看此链接以获取详细说明。

[https://wiki.apache.org/httpd/RewriteHTTPToHTTPS](https://wiki.apache.org/httpd/RewriteHTTPToHTTPS)

这对我有用（：

```
    重写引擎开启

    # 检查 POST 提交 |
    # 因为 POST 参数不会保留在重定向中。
    # 如果要确保所有 POST 提交都是安全的，可以省略该行   
    # （任何不安全的 POST 提交都将被忽略）
    重写条件 %{REQUEST_METHOD} !^POST$

    # 强制 HTTPS
    RewriteCond %{HTTPS} !=on [OR]
    RewriteCond %{SERVER_PORT} 80
    # 申请页数
    RewriteCond %{REQUEST_URI} ^something_secure [OR]
    RewriteCond %{REQUEST_URI} ^something_else_secure
    RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]

```

# scala - 不能在 SubCut 中使用 modifyBindings

> ID：13308492
> 
> 赞同：1
> 
> 时间：2012-11-09T12:56:44.060
> 
> 标签：scala, subcut

modifyBindings 是否会按承诺工作，该测试应该通过：

```
import org.scalatest.FunSuite
import org.scala_tools.subcut.inject.NewBindingModule
import org.scala_tools.subcut.inject.BindingModule
import org.scala_tools.subcut.inject.Injectable
import org.junit.Test

case class Resource1(name: String)

class ResourceClient(implicit val bindingModule: BindingModule) extends Injectable {
    val res1 = inject[Resource1]
}

object Config1 extends NewBindingModule(module => {
    module.bind[Resource1] toSingle new Resource1("name1")
})

class TestModifyBindings extends FunSuite {

@Test
def test1() {
    implicit val bindingModule = Config1
    val rc = new ResourceClient
    assert(rc.res1.name == "name1")
    Config1.modifyBindings { module =>
        module.bind[Resource1] toSingle new Resource1("name2")
        val rc2 = new ResourceClient //not sure if rc can be used here
        assert(rc2.res1.name == "name2") //FAILS
    }
}

} 
```

关于我错过了什么的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-24T05:09:02.033

If you make

```
 Config1.modifyBindings { module => 
```

into

```
 Config1.modifyBindings { implicit module => 
```

does that fix it?

# java - 为什么 getWindow() 无法解决？

> ID：13308495
> 
> 赞同：20
> 
> 时间：2012-11-09T12:56:55.110
> 
> 标签：java, javascript, java-7, jsobject

我无法解决 getWindow(); 出于某种原因的方法...

```
import java.applet.Applet;

import netscape.javascript.JSObject;

public class Class466 {
public static void method6020(Applet applet, String string, int i)
        throws Throwable {
    try {
        JSObject.getWindow(applet).eval(string);
    } catch (RuntimeException runtimeexception) {
        throw Class346.method4175(runtimeexception, new StringBuilder()
                .append("tf.a(").append(')').toString());
    }
}

public static Object method6021(Applet applet, String string, short i)
        throws Throwable {
    try {
        return JSObject.getWindow(applet).call(string, null);
    } catch (RuntimeException runtimeexception) {
        throw Class346.method4175(runtimeexception, new StringBuilder()
                .append("tf.f(").append(')').toString());
    }
}

public static Object method6022(Applet applet, String string,
        Object[] objects, byte i) throws Throwable {
    try {
        return JSObject.getWindow(applet).call(string, objects);
    } catch (RuntimeException runtimeexception) {
        throw Class346.method4175(runtimeexception, new StringBuilder()
                .append("tf.b(").append(')').toString());
    }
}

Class466() throws Throwable {
    throw new Error();
}
} 
```

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-01-15T20:43:12.077

在 jdk1.7.0_11 中，我注意到 ../jre/lib/ 中有两个单独的 jar，它们`netscape.javascript.JSObject.class`分别是 jfxrt.jar 和 plugin.jar。对于我的 IDE (IntelliJ)，当我为 Java 创建项目 SDK 时，它会将 jfxrt 和插件 jars 添加到类路径中。由于 jfxrt.jar 按字母顺序出现在类路径中 plugin.jar 之前，因此我的应用程序代码无法`JSObject.getWindow(...)`正确解析。由于我们没有在我们的应用程序中使用 JavaFX，我只是从我的项目 Java SDK 类路径中删除了 jfxrt.jar。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:02:59.783

是否声明了“MAYSCRIPT”小程序标签参数？

```
<APPLET code="XYZApp.class" codebase="html/" align="baseline"
 width="200" height="200" MAYSCRIPT> 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-09T13:00:45.187

我认为您必须添加：

```
import java.awt.Window;
import java.awt.event.WindowEvent 
```

# python - 如何将引导脚本添加到 tox 的 virtualenv？

> ID：13308498
> 
> 赞同：5
> 
> 时间：2012-11-09T12:57:12.123
> 
> 标签：python, virtualenv, psycopg2, setup.py, tox

我的测试需要 psycopg2 和 lxml，但是当我尝试通过 tox 在 vi​​rtualenv 中安装它时，由于缺少 pg_conf 或其他依赖项而失败。

我找到了引导脚本的解释：http: [//www.virtualenv.org/en/latest/index.html#bootstrap-example](http://www.virtualenv.org/en/latest/index.html#bootstrap-example)

如何将引导脚本添加到 tox 的 virtualenv？你知道我关心的任何好例子吗（lxml 和 psycopg2）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T06:51:56.837

我认为您不能将引导脚本（如 virtualenv 文档中所述）与 tox 一起使用。但是，您可以将`tox.ini`文件配置为安装未在 中指定的 Python 依赖项`setup.py`，并在运行测试之前运行任意命令。从毒物主页：

```
# content of: tox.ini , put in same dir as setup.py
[tox]
envlist = py26,py27
[testenv]
deps=pytest       # install pytest in the venvs
commands=py.test  # or 'nosetests' or ... 
```

`deps`并且`commands`实际上是列表：

```
deps=
    lxml
    psycopg2
    pytest
commands=
    ./some_other_script.sh
    py.test 
```

但是忘记引导脚本并退后一步。pg_conf 的原始问题是什么？

# c# - 使用 LINQ to SQL，如何在多个进程之间划分队列表中的记录？

> ID：13308500
> 
> 赞同：1
> 
> 时间：2012-11-09T12:57:16.947
> 
> 标签：c#, sql-server, linq-to-sql, concurrency

我使用 SQL Server 数据库表作为工作队列。

我有一个作家和多个读者。

写入器为队列表 (INSERT) 生成新记录。

每个读取器查找处于特定状态的记录（SELECT）进行消费，获取一批记录，将每条记录标记为拥有（UPDATE），处理它们，然后将所有处理的记录标记为完成或失败（UPDATE）。记录的工作流程很简单：状态从“A”表示已添加，到“B”表示正在处理，再到“C”表示完成或“F”表示失败。并且每条记录的所有者从处于状态“A”时的未设置变为唯一标识符，用于识别剩余步骤的阅读器。唯一标识符（一个十进制）加上状态（nchar（1））加上一个额外的批次 id（int），用于标识写入器的较大批次是处理中的三个关键字段。此外，该表还有一个时间戳字段，LINQ 使用该字段进行并发检查。

我需要防止由于两个读者选择相同的记录来处理而导致锁定延迟和更新失败。作为处理工作的一部分，会进行一个 Web 服务调用，该调用可能需要不确定的时间才能完成。我们通过交易向 Web 服务供应商付款，所以我不想打电话，然后找出另一个处理相同记录的进程。此类错误将使我们损失数千美元。

我读了这篇文章：

[使用 READPAST 和 UPDLOCK 处理 SQL Server 中的数据队列](http://www.mssqltips.com/sqlservertip/1257/processing-data-queues-in-sql-server-with-readpast-and-updlock/ "使用 READPAST 和 UPDLOCK 处理 SQL Server 中的数据队列")

这看起来很有希望，但我决定使用 LINQ to SQL。我读了这篇文章：

[使用 UPDLOCK 的 Linq to SQL](https://stackoverflow.com/questions/806775/linq-to-sql-with-updlock "使用 UPDLOCK 的 Linq to SQL")

后者说没有办法告诉 LINQ 使用 UPDLOCK 除非粗略地包装一个 SQL 过程。这是因为 LINQ 使用乐观并发，而这些功能假设是悲观锁定。

那么如何使用 LINQ 支持的特性来解决这个问题呢？我的应用程序是多线程的，但我可以针对同一个队列表运行多个实例，因此我不能只让一个调度程序将记录交给每个消费者线程。

我正在使用 .NET 4.0。我的应用程序是一个普通的旧 Windows 控制台应用程序。该解决方案应适用于 SQL Server 2005 和 SQL Server 2008 R2。我不想使用消息传递系统。

更新：对 SO 的进一步研究。找到这篇文章：

[LINQ to SQL - 队列](https://stackoverflow.com/questions/13174867/linq-to-sql-queue)

答案建议有一个调度程序线程，我排除了。

更新 2：在 SO 上找到另一篇文章：

[以原子方式标记并返回数据库中的一组行](https://stackoverflow.com/questions/1821142/atomically-mark-and-return-a-group-of-rows-in-database?rq=1)

这看起来真的很有希望。我需要直接执行 SQL，但是一旦我标记了我的记录并获得了我的 ID，其余的都可以在 L2S 中发生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:46:05.157

也许您可以对读者中的出列过程采取更悲观的方法。

让读者接收下一个排队的项目。然后让读者尝试将该项目出列。阅读器可以为出队调用中的项目分配唯一值，例如 guid。

然后，阅读器可以尝试获取它已出列的排队项目。当它收到项目时，它可以比较它已分配的项目的 guid。如果它们相同，那么它就是一个出列，然后读者可以处理。

假设您的读者可以一次出列一项，这应该是可行的。我不确定在每个读者出列多个项目时这会如何工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T17:11:35.947

服务这是我的答案。我将存储过程与我的 DataContext 关联以保留地址。它能够使用悲观并发在单个操作中选择、标记和返回记录。

```
CREATE PROCEDURE dbo.kccsp_ReserveAddresses
      @BATCH_SIZE int,
      @BATCH_ID int,
      @PROCESS_TOKEN numeric(18,0)
  AS
      -- Reserve a group of addresses in the queue so that a consumer may process them,
      -- but all other consumers will leave them alone.
      -- The query hints are essential to prevent lock contention, 
      -- or concurrency errors from multiple processors handling the same address.
      update TOP (@BATCH_SIZE) 
          KCC_GeoCodingAddressQueue WITH (ROWLOCK, READPAST, UPDLOCK)
      set 
          [Process Status] = 'B', 
          [Process Token] = @PROCESS_TOKEN
      output INSERTED.*
      where [Process Status] = 'A' and [Process Token] = 0 
```

我通过将过程拖到我的 dbml 设计器中的结果表上来做到这一点。这会导致结果集与我的实体类相同，并在标记它们的同时返回我分配的所有记录。SQL 提示处理并发和锁争用。

当我需要在 C# 中调用它时，我会这样做：

```
 int? batchSize = 50;
   int? batchIdToReserve = Batch.GeoBatchID;
   decimal? processorId = someId;
   var addresses = Context.kccsp_ReserveAddresses(batchSize, batchIdToReserve, processorId); 
```

# html - 使用 ExtJS 4.x 的 HTML5 应用程序

> ID：13308501
> 
> 赞同：0
> 
> 时间：2012-11-09T12:57:18.227
> 
> 标签：html, extjs, extjs4.1

ExtJS 4.x 是否支持符合 HTML5 的 Web 应用程序开发？

我的任务是使用 ExtJS MVC 架构开发单页应用程序。这样的应用程序会自动兼容 HTML5，还是我必须采取任何措施才能使其兼容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T19:22:18.010

是的。在此页面上：[http](http://www.sencha.com/products/extjs/) ://www.sencha.com/products/extjs/阅读“跨平台浏览器兼容性”部分。如果您没有使用 Extjs 框架进行过多的开发，那么它背后的驱动设计因素之一就是创建一个跨浏览器/平台库，无论您使用什么环境，它的外观和感觉都是一样的。另一个概念是它在支持它的浏览器上利用 HTML 5 概念，并在不支持 HTML 5 的浏览器中使用其他技术（IE8 中的 vml 等）执行 HTML5 类似的操作。我认为您不必担心合规性，尤其是在您使用 Extjs 4.x 库的情况下。

# android - 有多少设备支持移动接入点？

> ID：13308506
> 
> 赞同：2
> 
> 时间：2012-11-09T12:57:35.210
> 
> 标签：android

是否有任何图表显示可以用作移动接入点的设备数量？或者任何 API >= 8（或 9？）的设备都支持此功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:44:24.717

我同意评论，这确实属于其他地方，但我会答应...

在 Android 2.3（API 级别 9）中，操作系统获得了让设备充当移动热点的能力。任何给定*设备*是否支持这取决于设备制造商和移动运营商做出的决定。有些设备提供它，有些则不提供。

请注意，Android SDK 中没有与移动热点功能相关的 API，我上次检查过。

# android - 在设定的日期和时间通知

> ID：13308512
> 
> 赞同：0
> 
> 时间：2012-11-09T12:58:01.990
> 
> 标签：android

我想创建一个在设定的日期和时间触发的通知，我创建了以下函数：

```
public void notify(View v){
    Context context = AllClasses.this;
    Calendar calendar = Calendar.getInstance();
    calendar.set(Calendar.DAY_OF_WEEK, 4);
    calendar.set(Calendar.HOUR_OF_DAY, 17);
    calendar.set(Calendar.MINUTE, 31);
    calendar.set(Calendar.SECOND, 0);
    AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
    PendingIntent pi = PendingIntent.getService(context, 0, new Intent(context, Notify.class), PendingIntent.FLAG_UPDATE_CURRENT);
    am.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pi);
} 
```

和相应的类：

```
public class Notify extends BroadcastReceiver {
@Override
public void onReceive(Context context, Intent arg1) {
    NotificationManager nm;
    nm = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);        
    CharSequence from = "VIPUL";
    CharSequence message = "Crazy About Android...";
    PendingIntent contentIntent = PendingIntent.getActivity(context, 0,
      new Intent(), 0);
    Notification notif = new Notification(R.drawable.android_logo,
      "Crazy About Android...", System.currentTimeMillis());
    notif.setLatestEventInfo(context, from, message, contentIntent);
    nm.notify(1, notif);

}
} 
```

我无法弄清楚缺少什么。我需要某些权限还是什么。非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:02:28.220

我想你需要使用`PendingIntent.getBroadcast(context, requestCode, intent, flags)`替代`getService`方法。

# c# - 如何在 Windows 8 的启动画面中添加进度环？

> ID：13308516
> 
> 赞同：1
> 
> 时间：2012-11-09T12:58:19.570
> 
> 标签：c#, xaml, windows-8, splash-screen

我需要使用 C# 和 XAML 在 Windows 8 Metro 应用程序中激活启动画面并向其添加进度环。我添加了扩展的启动画面，但它根本没有显示！谁能告诉我该怎么做？

```
 using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using Windows.ApplicationModel;
    using Windows.ApplicationModel.Activation;
    using Windows.Foundation;
    using Windows.Foundation.Collections;
    using Windows.UI.Xaml;
    using Windows.UI.Xaml.Controls;
    using Windows.UI.Xaml.Controls.Primitives;
    using Windows.UI.Xaml.Data;
    using Windows.UI.Xaml.Input;
    using Windows.UI.Xaml.Media;
    using Windows.UI.Xaml.Navigation;
    using SplashScreenSample; 

    // The Blank Application template is documented at     http://go.microsoft.com/fwlink/?        LinkId=234227

    namespace App1
    {
    /// <summary>
    /// Provides application-specific behavior to supplement the default Application class.
    /// </summary>
    sealed partial class App : Application
    {
        /// <summary>
        /// Initializes the singleton application object.  This is the first line of authored code
        /// executed, and as such is the logical equivalent of main() or WinMain().
        /// </summary>
        public App()
        {
            this.InitializeComponent();
            this.Suspending += OnSuspending;
        }

        /// <summary>
        /// Invoked when the application is launched normally by the end user.  Other entry points
        /// will be used when the application is launched to open a specific file, to display
        /// search results, and so forth.
        /// </summary>
        /// <param name="args">Details about the launch request and process.</param>
        protected override void OnLaunched(LaunchActivatedEventArgs args)
        {
            // Do not repeat app initialization when already running, just ensure that
            // the window is active
           /* if (args.PreviousExecutionState != ApplicationExecutionState.Running)
            {
                bool loadState = (args.PreviousExecutionState ==                  ApplicationExecutionState.Terminated);
                ExtendedSplash extendedSplash = new ExtendedSplash(args.SplashScreen, loadState);
                Window.Current.Content = extendedSplash;
            }

            Window.Current.Activate();*/

            if (args.PreviousExecutionState == ApplicationExecutionState.Running)
            {
                Window.Current.Activate();
                return;
            }

            if (args.PreviousExecutionState == ApplicationExecutionState.Terminated)
            {
                //TODO: Load state from previously suspended application
            }

            // Create a Frame to act navigation context and navigate to the first page
            var rootFrame = new Frame();
             rootFrame.Navigate(typeof(MainPage));

             // Place the frame in the current window and ensure that it is active
            Window.Current.Content = rootFrame;
             Window.Current.Activate();
            if (!rootFrame.Navigate(typeof(MainPage)))
            {
                throw new Exception("Failed to create initial page");
            }

            // Place the frame in the current Window and ensure that it is active
            Window.Current.Content = rootFrame;
            Window.Current.Activate();
        }

        /// <summary>
        /// Invoked when application execution is being suspended.  Application state is saved
        /// without knowing whether the application will be terminated or resumed with the contents
        /// of memory still intact.
        /// </summary>
        /// <param name="sender">The source of the suspend request.</param>
        /// <param name="e">Details about the suspend request.</param>
        private void OnSuspending(object sender, SuspendingEventArgs e)
        {
            var deferral = e.SuspendingOperation.GetDeferral();
            //TODO: Save application state and stop any background activity
            deferral.Complete();
        }

        /// <summary>
        /// Invoked when the application is activated to display search results.
        /// </summary>
        /// <param name="args">Details about the activation request.</param>
        protected override void OnSearchActivated(Windows.ApplicationModel.Activation.SearchActivatedEventArgs args)
        {
            App1.SearchResultsPage1.Activate(args.QueryText, args.PreviousExecutionState);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-08T13:33:53.253

这个链接非常有帮助，并解释了如何在 Windows 8 的启动画面中添加进度环？ [http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh868191.aspx#modify_the_launch_activation_handler](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh868191.aspx#modify_the_launch_activation_handler)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-14T14:55:20.870

通过使用扩展的开始屏幕，您走在了正确的轨道上。

您应该从示例和快速入门开始，运行它，看看它是否适合您 [http://msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh973049%28v=win.10%29。 aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh973049%28v=win.10%29.aspx) http://code.msdn.microsoft.com/windowsapps/Splash-screen-sample-89c1dc78

如果示例正常工作而您的代码无效，请尝试找出两者之间的不同之处，或者将您的代码迁移到示例中。在 XAML 方面也可能有一些不合适的地方。

# c# - 如何在 XAML 中直接利用资源文件键值？

> ID：13308524
> 
> 赞同：1
> 
> 时间：2012-11-09T12:58:40.250
> 
> 标签：c#, windows-phone-7, xaml, windows-phone-8

我一直在使用`App.xaml`直接在 XAML 文件中提到的资源，例如在 Windows 8 App 中

```
Text="{StaticResource ApplicationName}" 
```

如何在 Windows Phone 8`ResourceApp.resx`中直接使用 XAML 中的文件？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-09T15:05:47.913

据我所知，您不能像在 Windows 应用商店应用程序中那样在 Windows Phone 8 中使用资源文件密钥和 x:Uid。
如果要本地化 Windows Phone 应用程序，则必须使用某种 ViewModel，在此 ViewModel 中实例化 AppResources 类，然后将此 ViewModel 用作页面的 DataContext：

```
public class MainViewModel : ViewModelBase
{
    /// <summary>
    /// Application localized strings
    /// </summary>
    public AppResources Loc
    {
        get { return _loc ?? (_loc = new AppResources()); }
    }
    private AppResources _loc;

    ...
} 
```

然后，您可以像这样访问资源：

```
Text="{Binding Loc.AppName}" 
```

我建议您观看 MVVM Light 视频，他们会教您如何在 ViewModel、数据绑定等中使用本地化资源：http:
[//www.galasoft.ch/mvvmvideo1](http://www.galasoft.ch/mvvmvideo1)
[http://www.galasoft.ch /mvvmvideo2](http://www.galasoft.ch/mvvmvideo2)

# php - Symfony 1.4：致命错误：调用未定义的方法 Propel::loadData()

> ID：13308525
> 
> 赞同：1
> 
> 时间：2012-11-09T12:58:43.553
> 
> 标签：php, symfony-1.4, propel

我正在为我的网站编写功能测试，该网站使用 Symfony 1.4.19 和 Propel 我正在关注[Jobeet 教程（第 9 天）](http://symfony.com/legacy/doc/jobeet/1_4/en/09?orm=Propel)的文档。

我修改了功能测试类如下：

```
// lib/test/FoobarTestFunctional.class.php
class FoobarTestFunctional extends sfTestFunctional
{
  public function loadData()
  {
    $loader = new sfPropelData();
    $loader->loadData(sfConfig::get('sf_test_dir').'/fixtures');

    return $this;
  }
} 
```

在我的测试中，我这样称呼它：

```
// test/frontend/fooActions.php

<?php

include(dirname(__FILE__).'/../../bootstrap/functional.php');

$browser = new FoobarTestFunctional(new sfBrowser());
$browser->setTester('propel', 'sfTesterPropel');
$browser->loadData();

// ... 
```

从命令行我运行测试：

> ./symfony 测试：功能前端 fooActions

我收到以下错误：

```
PHP Fatal error:  Call to undefined method Propel::loadData() in /path/to/site/lib/test/FoobarTestFunctional.class.php on line 7 
```

SF 1.2 和 SF 1.4 之间的 Propel 界面似乎发生了变化（又一次？！），但我找不到新的函数名称是什么。

任何人都知道如何解决这个问题？

# expressionengine - 替换 EE 中旧的 Acronym 模块？

> ID：13308526
> 
> 赞同：5
> 
> 时间：2012-11-09T12:58:44.923
> 
> 标签：expressionengine

是否有任何 EE 2 的附加组件可以替代旧的 EE 1 Acronym 模块？它允许您构建一个首字母缩略词数据库，您实际上可以用任何东西（包括链接文本）替换它。所以我在我网站的一个部分使用它，我经常需要链接到相同的地方。使用该模块，我可以在需要链接时插入首字母缩略词并轻松对其进行排序。如果通过在数据库中编辑而不是在使用它的每个帖子中更改链接，它还允许我轻松编辑这些链接。

# apache - Apache 实际上如何帮助服务大流量？

> ID：13308529
> 
> 赞同：1
> 
> 时间：2012-11-09T12:58:53.397
> 
> 标签：apache, cherrypy

我将与[cherrypy一起设置](http://en.wikipedia.org/wiki/CherryPy)[Apache](http://en.wikipedia.org/wiki/Apache_HTTP_Server)。从[cherrypy文档](http://tools.cherrypy.org/wiki/BehindApache)：

```
if you have a simple website that doesn't have a really high traffic website 
(say, less than 50 hits/second) [...], then running CherryPy exposed is fine.
Otherwise, running it behind Apache is probably the right option for you. 
```

Cherrypy 独立将创建一个线程池并为请求提供服务。当我在 Apache 后面使用它时，Apache 增加了一些可以处理更大负载的魔力。

我的问题是：apache 到底在那里做什么？它自己管理线程池吗？它会创建更多线程吗？它在工作安排方面做得更好吗？它是否为每个 Apache 线程生成一个单独的cherrypy 实例？

我的问题*不是*Apache 通常做什么，我知道 :) 我想知道哪些cherrypy“职责”被转移到了 Apache，所以这个串联性能更好

**有关的：**

*   [CherryPy 和并发](https://stackoverflow.com/questions/2685089/cherrypy-and-concurrency)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T05:34:14.937

基本上它是一个额外的进程/线程层。

如果 apache 配置了[worker dispatch](http://httpd.apache.org/docs/2.2/mod/worker.html)`ThreadsPerChild`，配置指令`MaxClients`定义了 apache 服务器将拥有的线程和进程的数量。

例如一个网站的请求包括`5 images`, `3 scripts`,`2 stylesheets`和`1 for the content`, 即`11 requests`. 浏览器不会并行发出所有请求，但是您将花费大量内存和线程来服务静态内容，就像将“原始产品”通过生产复杂产品的工厂并仅使用上的空间工厂交付未修改的产品并将其用于运输的大空箱（内存）留在工厂`raw product`。

apache 进程的线程在某种意义上是“更便宜”的，因为它们只做一项工作，处理与客户端的连接，并在 apache 的模块/处理程序交付给连接的任何地方交付。

# xcode - xcode NSMutableArray sqlite3_column_double

> ID：13308535
> 
> 赞同：0
> 
> 时间：2012-11-09T12:59:10.727
> 
> 标签：xcode, uiviewcontroller, sqlite, nsmutablearray, double

我有一个包含名称（字符串）和价格（双）值的数据库。在 xcode 中，我创建了一个包含可变数组的视图控制器。然后在数组中添加名称和价格我有代码

```
viewController *vc = [[viewController alloc] init];
vc.name =[NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,0)];
vc.price=sqlite3_column_double(sqlStatement,1); 
```

vc.name 行工作正常，但在 sqlite3_column_double 我收到以下错误：
从不兼容的类型“double”分配给“double *”。我使用了 sqlite3_column_double，因为对于整数我使用 sqlite3_column_int。
我必须为双类型使用其他东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:02:52.763

看起来您已将视图控制器声明为：

```
@interface viewController : UIViewController
{
    NSString *name;
    double *price
}
...
@end 
```

你的意思显然`double price`不是`double *price`。

# extjs - 如何清除/设置密码字段emptyText onfocus / onblur？

> ID：13308538
> 
> 赞同：6
> 
> 时间：2012-11-09T12:59:13.277
> 
> 标签：extjs, extjs4

我有要显示`*********`的密码和确认密码字段，直到该字段获得焦点。

```
var passwordFields = {
    layout: "vbox",
    border: 0,
    defaults: {
        xtype: "textfield",
        inputType: "password",
        labelAlign: "top",
        emptyText: "********",
        validateOnChange: false
    },
    items: [{
        fieldLabel: "Password",
        name: "pass",
        allowBlank : false,
        itemId: "pass"
    }, {
        fieldLabel: "Confirm Password",
        name: "pass-cfrm",
        allowBlank: false,
        initialPassField: "pass"
    }]
}; 
```

我是否需要添加一个`onfocus`处理程序才能在该字段处于焦点但用户没有输入任何内容时使 emptyText 消失，或者是否有更简单的方法我错过了？

**编辑：**

我将以下代码添加到控制器中，该控制器根据标志根据需要设置值，但希望 emptyText 的默认行为是它会在 onfocus 消失并在 onblur 后重新出现，如果该字段为空......

```
var field = this.getPassField();
field.emptyText = "••••••••";
field.applyEmptyText(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-05T07:51:56.143

通过该功能可以解决此问题

```
inputType:'password' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T00:30:43.410

看起来这是一个缺失的功能。如果您查看对 inputType 文档的评论： [http](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.Base-cfg-inputType) ://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.Base-cfg-inputType您会看到有人已经发现了。但是，我在其他字段类型上使用 emptyText，它们工作得很好。

# knockout.js - MVCContrib 网格 - 我可以指定 tbody 属性吗？

> ID：13308546
> 
> 赞同：4
> 
> 时间：2012-11-09T12:59:43.360
> 
> 标签：knockout.js, mvccontrib, mvccontrib-grid

我正在尝试将 MVCContrib 网格与[KnockoutJS](http://knockoutjs.com/)一起使用。为此，我必须在 tbody 中指定数据绑定，例如`<tbody data-bind="foreach: people">`. 我找不到如何做到这一点的方法。

`@Html.Grid(Model).Attributes()`将我的绑定应用于`<table>`标签。有没有办法设置`tbody`属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T16:18:39.173

简短的回答是**否定的，没有办法`tbody`**在当前实现上设置属性。

**但是你可以自己实现这个功能：**

你只需`RenderBodyStart`要从`GridRenderer`类中实现你自己版本的方法。

已经有一个 你可以构建的`GridRenderer`所谓的实现：`HtmlTableGridRenderer`

```
public class BodyWithAttributesHtmlTableGridRenderer<T> 
    : HtmlTableGridRenderer<T> where T : class
    {
        private readonly IDictionary<string, object> bodyAttributes;

        public BodyWithAttributesHtmlTableGridRenderer(
            IDictionary<string, object> bodyAttributes)
        {
            this.bodyAttributes = bodyAttributes;
        }

        protected override void RenderBodyStart()
        {
            string str = BuildHtmlAttributes(bodyAttributes);
            if (str.Length > 0)
                str = " " + str;
            RenderText(string.Format("<tbody{0}>", str));
        }
    } 
```

`Render()`在您的视图中，您可以使用`RenderUsing`可以指定自定义渲染器的方法，而不是调用 ：

```
@Html.Grid(Model))
    .RenderUsing(new BodyWithAttributesHtmlTableGridRenderer<MyModel>(
    new Dictionary<string, object>(){{"data-bind", "foreach: people"}})) 
```

生成的 html 看起来像这样：

```
<table class="grid">
    <thead>
        <tr>
            <th>Prop</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: people">
        <tr class="gridrow">
            <td>1</td>
        </tr>
        <tr class="gridrow_alternate">
            <td>2</td>
        </tr>
    </tbody>
</table> 
```

你应该注意到这只是一个快速而肮脏的解决方案来展示什么是可能的，你可以使用更多的扩展点来使属性传递更好。

# c++ - 解决 LNK2019 C++ 模板问题？

> ID：13308547
> 
> 赞同：1
> 
> 时间：2012-11-09T12:59:47.817
> 
> 标签：c++, templates, dll, prototype

> **可能重复：**
> [为什么在使用模板时会出现“未解析的外部符号”错误？](https://stackoverflow.com/questions/456713/why-do-i-get-unresolved-external-symbol-errors-when-using-templates)

我的解决方案分为 3 个项目。第一个是 MFC (GUI) 应用程序，第二个是静态库，第三个是 DLL。DLL 依赖于静态库，而 GUI 依赖于两者。这里的想法是编写一个带有演示插件 (DLL) 的 SDK（静态库），MFC (GUI) 应用程序使用该插件。

话虽如此，SDK 包含模板函数，允许插件开发人员选择要挂钩的原型函数。但是 dll 与 lib 似乎存在实现问题......

SDKLib.h：

```
#define MY_EXPORTS
#include "SdkHookMgr.h"

// Prototypes
typedef HMODULE (WINAPI *HookLoadLibraryA)( LPCSTR lpFileName );
typedef HMODULE (WINAPI *HookLoadLibraryW)( LPWSTR lpFileName ); 
```

SdkHookMgr.h：

```
#ifdef MY_EXPORTS
    #define MY_API  __declspec(dllexport) WINAPI
#else
    #define MY_API  WINAPI
#endif

template <typename HookFunction>
BOOL MY_API Hook(HookFunction Target); 
```

SdkHookMgr.cpp：

```
#include "SdkHookMgr.h"
template <typename HookFunction>
BOOL MY_API Hook(HookFunction Target)
{
    switch( typeid(Target) )
    {
    case HookLoadLibraryA:
        // Use private SDK functions to hook LoadLibraryA
        break;
    case HookLoadLibraryW:
        // Use private SDK functions to hook LoadLibraryW
        break;
    //...
    default:
        return FALSE;
    }
    return TRUE;
} 
```

demodll.cpp：

```
#include <SdkLib.h>

HMODULE WINAPI Hooked_LoadLibraryA ( LPCSTR lpFileName )
{
    //...
}

//...
Hook<HookLoadLibraryA>(Hooked_LoadLibraryA); 
```

这里的问题是 lib 编译得很好，但是 dll 显示：  

```
demodll.obj : error LNK2019: unresolved external symbol "int __stdcall Hook<struct HINSTANCE__ * (__stdcall*)(char const *)>(struct HINSTANCE__ * (__stdcall*)(char const *))" 
```

我想发生的事情是 lib 看到了实现`SdkHookMgr.cpp`，但 dll 没有（即使它与 sdklib.lib 链接）。我真的很喜欢在调用`Hook()`函数时限制开发人员使用具有相同签名的原型和函数的想法，并且计算模板是最好的方法......**但是我怎样才能绕过这个漏洞**而不必包含`Hook()`within的实现`SdkHookMgr.h`呢？构建静态库的目的是首先避免插件开发人员戳 SDK 的源代码......

# java - 将具有泛型方法的非泛型类转换为泛型类

> ID：13308551
> 
> 赞同：0
> 
> 时间：2012-11-09T13:00:08.447
> 
> 标签：java, string, class, generics, methods

标题可能令人困惑......这是代码：

这是生成具有不同类型的每个不同对象的类..例如：`BookingReferenceExtractor` `AircraftExtractor`我这里的方法是通用的...取一个字符串并主观返回不同的对象...

```
public class ExtractorFactory {

    private static ExtractorFactory extractorFactory;

    public ExtractorFactory(){

    }

    public Extractor extractorFor(String extractorType) {
        if(extractorType.equals("booking_reference")){
            return new BookingReferenceExtractor();
        }
        else if("itinerary".equals(extractorType)){
            return new ItineraryExtractor();
        }
        else if("passengers".equals(extractorType))
        {
            return new PassengersExtractor();
        }
        else if("aircraft".equals(extractorType))
        {
            return new AircraftExtractor();
        }

        return null;
    }
} 
```

我现在需要的是使该类具有通用性...例如，当我将参数传递给构造函数时，它将主观地生成对象...而无需访问其他方法...例如：

```
ExtractorFactory BookingReferenceExtractor_object = new ExtractorFactory("booking_reference");

ExtractorFactory ItineraryExtractor_object = new ExtractorFactory("itinerary");
..
.. 
```

基本上，需要对类承包商做一些事情，使其通用，任何传入的字符串，它都可以直接生成对应对象，而无需调用其他方法。

我一直在阅读这个 tut： http: [//math.hws.edu/javanotes/c10/s5.html](http://math.hws.edu/javanotes/c10/s5.html)我知道它应该做类似的事情：

```
class Queue<T> {
    private LinkedList<T> items = new LinkedList<T>();
    public void enqueue(T item) {
      items.addLast(item);
    }
    public T dequeue() {
      return items.removeFirst();
    }
    public boolean isEmpty() {
      return (items.size() == 0);
    }
} 
```

...但不确定如何转换为通用类...有什么建议吗？谢谢。

# python - 功能中的功能

> ID：13308553
> 
> 赞同：0
> 
> 时间：2012-11-09T13:00:10.773
> 
> 标签：python

我怎样才能使功能。显示所有不好的值，而不仅仅是一个？

```
def get_bad_results(person_results):
        for i in person_results:
                if i[1]>i[3] or i[1]<i[2]:
                    return i[0]

test_results = [["White blood cells",8.5,2,7],
                ["Neutrophils",5.3,2.5,5],
                ["Red blood cells", 12.4, 9,15]]

a = get_bad_results(test_results)
print a 
```

显示`White blood cells`

代替

```
White blood cells, Neutrophils 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T13:03:15.533

您的`count_healthy()`函数没有`return`值`b`，`None`. 由于该函数执行打印，然后是`print b`，这解释了 a`None`在函数输出之后的输出。

基本上，一个应该进行计数的函数可能不应该*也*打印结果，而是应该打印结果，`return`以便调用者可以决定应该打印或以不同方式处理结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:03:29.017

您的函数没有`return`语句，因此它隐式返回`None`.

尝试添加`return`语句并返回要打印的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T14:03:35.197

正如您期望每次调用有多个结果一样，最好使用生成器函数：

```
def get_bad_results(person_results):
    for i in person_results:
        if i[1]>i[3] or i[1]<i[2]:
            yield i[0] 
```

或生成器表达式：

```
def get_bad_results(person_results):
    return (i[0] for i in person_results if i[1]>i[3] or i[1]<i[2]) 
```

以便

```
test_results = [["White blood cells",8.5,2,7],
                ["Neutrophils",5.3,2.5,5],
                ["Red blood cells", 12.4, 9,15]]

for i in get_bad_results(test_results):
    print i
print list(get_bad_results(test_results))
print ", ".join(get_bad_results(test_results)) 
```

给出输出

```
White blood cells
Neutrophils
['White blood cells', 'Neutrophils']
White blood cells, Neutrophils 
```

对于其他功能，请执行

```
def count_healthy(all_results):
    counter = 0
    for i in all_results:
        if len(list(get_bad_results(i))) == 0:
            counter += 1
    return counter 
```

要不就

```
def count_healthy(all_results):
    return sum(1 for i in all_results if len(list(get_bad_results(i))) == 0) 
```

* * *

编辑：

对于许多人来说`get_bad_results()`，将其转换为列表可能会占用大量内存。

所以`len(list(get_bad_results(i))) == 0`你可以使用

```
def has_results(it):
    """Returns True if the iterator it yields any items."""
    return next((True for _ in it), False) 
```

进而

```
def count_healthy(all_results):
    return sum(1 for i in all_results if not has_results(get_bad_results(i))) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T13:02:55.587

您正在尝试打印函数的结果

```
a = get_bad_results(test_results)
print a

b =count_healthy(all_results)
print b 
```

默认情况下，函数返回 None

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T13:33:48.433

好的，我修好了，但现在

```
def get_bad_results(person_results):
        for i in person_results:
                if i[1]>i[3] or i[1]<i[2]:
                    return i[0]

test_results = [["White blood cells",8.5,2,7],
                ["Neutrophils",5.3,2.5,5],
                ["Red blood cells", 12.4, 9,15]]

a = get_bad_results(test_results)
print a 
```

显示`White blood cells`

代替`White blood cells, Neutrophils`

# android - DOM中的cancelBubble的android等价物

> ID：13308554
> 
> 赞同：2
> 
> 时间：2012-11-09T13:00:11.800
> 
> 标签：android, listview, dom, gesture

在我当前的项目中，我实现了一个`PullToRefreshListView`带有标题视图的 a，例如，一个`ImageView`.

PullToRefreshListView 有一个标题 view( `RefreshView`) 来显示**下拉刷新**或**释放加载**时下拉列表。

但是，当您不小心拉动`ImageView`（标题视图）时，`RefreshView`会显示 ，因为`ImageView`是`PullToRefreshListView`.

```
 ___________________________                      ____________________________ 
|                           |                    |                           |
|                           |                    |                           |
|        ImageView          |                    |       ImageView           |
|                           |                    |                           |
-----------------------------                    -----------------------------
|                           |                    |                           |
|                           |                    |       RefreshView         |
|                           |                    |                           |
|                           |                    -----------------------------
|                           |                    |                           |
|         ListView          |                    |                           |
|                           |                    |                           |
|                           |                    |        ListView           |
|                           |                    |                           |
|                           |                    |                           |
|                           |                    |                           |
|                           |                    |                           |
-----------------------------                    -----------------------------

          Normal                                          Pulled 
```

我可以找到一个替代方案来设计它，但我很好奇`cancelBubble`Android 中是否有等价物（如在 DOM 中），这样我就可以防止所采取的手势作用`ImageView` 于整体`PullToRefreshListView`。

**编辑** ：`RefreshListView`扩展`ListView`。它实际上是

```
public class RefreshListView extends ListView implements OnScrollListener 
```

我让它实现`OnScrollListener`捕捉下拉手势。但如果我这样做

```
refreshListView.addHeadersView(imageView) 
```

然后拉`imageView`会导致`RefreshView`出现。

所以我认为如果有cancelBubble，工作会更容易。

# ios - 如何通过推送通知打开 ios 应用程序？

> ID：13308555
> 
> 赞同：3
> 
> 时间：2012-11-09T13:00:14.047
> 
> 标签：ios, push-notification

我可以知道，如何在点击通知时打开 ios 应用程序。或者当我们滑动通知的图标（以防iphone被锁定时）？

任何人都可以在这里帮助我吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-09T13:13:23.320

当通知进来时，操作系统会处理该行为。不管它是否是由第 3 方发送的，如果它通过 APNS，它将打开应用程序和内部`applicationDidFinishLaunchingWithOptions:(NSDictionary *)launchOptions`：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

    if (launchOptions != nil) {
         // Launched from push notification
         NSDictionary *notification = [launchOptions objectForKey:UIApplicationLaunchOptionsRemoteNotificationKey];
    }
} 
```

如果应用程序恰好在通知进入操作系统时已经打开，则会触发委托方法：

```
 - (void)application:(UIApplication*)application didReceiveRemoteNotification:(NSDictionary *)userInfo {   
     // Do something
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-09T13:01:49.457

它会自动打开应用程序。苹果为我们做这些事情。我们不需要为打开应用程序编写任何代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-13T14:39:53.417

该应用程序会自动打开，但您是最后一个视图控制器。因此，为了打开您想要的视图控制器，只需执行 application:didReceiveRemoteNotification: 进一步解释[here](http://developer.apple.com/library/ios/documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application%3adidReceiveRemoteNotification%3a)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T13:02:03.480

按下本地通知后，应用程序会自动启动。

# javascript - 哪些浏览器不支持原生forEach、filter、every等等

> ID：13308556
> 
> 赞同：3
> 
> 时间：2012-11-09T13:00:24.103
> 
> 标签：javascript, browser, underscore.js

阅读文档后，[`underscore.js`](http://underscorejs.org)我发现（令我惊讶的是）实际上并非所有浏览器都支持

*   [`forEach`](http://underscorejs.org/#each)
*   [`filter`](http://underscorejs.org/#filter)
*   [`every`](http://underscorejs.org/#every)
*   [`some`](http://underscorejs.org/#some)

方法。以前我认为这些方法无处不在。检查哪些浏览器不支持它们，没有给我任何信息：`my chrome, IE9, firefox 13`都支持它们。

那么我在哪里可以找到支持它们的浏览器以及可能不支持的其他方法呢？

PS对不起，我想我把我的问题弄糊涂了。我知道所有的浏览器都支持下划线的 foreach。在这个问题中，我指的是本机方法。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-09T13:03:42.573

这是一个很好的兼容性表： http: [//kangax.github.com/es5-compat-table/](http://kangax.github.com/es5-compat-table/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T13:04:28.120

我通常看一下[http://kangax.github.com/es5-compat-table/](http://kangax.github.com/es5-compat-table/)，它对分配的 javascript 方法有很好的支持。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:04:18.303

所有浏览器都将支持下划线的方法[`forEach`](http://underscorejs.org/#each)、、[`filter`](http://underscorejs.org/#filter)和（[`every`](http://underscorejs.org/#every)以及[`some`](http://underscorejs.org/#some)任何其他方法）。只是其中一些效率不高，因为它们没有本地对应物。

例如， check `forEach`: underscore 首先检查`Array`原型是否原生支持`forEach`with `nativeForEach = ArrayProto.forEach`。如果是这样，它使用本机原型方法。如果没有，它会使用自己的`for`循环实现（在集合函数中，请参阅`var each = _.each = _.forEach = function(obj, iterator, context) ...`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T13:06:00.960

他们已经存在了一段时间。JavaScriptKit 是一个很好的资源。

所有支持 JavaScript 1.6+ 的现代浏览器都实现了这些方法。

[Javascriptkit：数组](http://www.javascriptkit.com/jsref/arrays.shtml)

# sql-server - RANK() 和 PIVOT() - 限制输出中的等级数

> ID：13308558
> 
> 赞同：0
> 
> 时间：2012-11-09T13:00:31.553
> 
> 标签：sql-server, pivot, rank

我在 SELECT RANK() over(Partition by...) 上使用 PIVOT 函数返回一个表格“矩阵”，显示我的哪些战争游戏朋友每支军队的胜利最多。我想将矩阵限制为仅显示每支军队排名前 3 的成员（例如，在下图中的“HE”列中，我想排除排名为“4”的突出显示记录）

![陆军以成员获胜](../Images/22f5e0f4690f95defd9ef7816e25adfb.png)

我认为我需要包含 WHERE 或 TOP 子句，但无法确定它的位置。我试过在这个网站和谷歌上寻找，但找不到答案。抱歉，如果这是一个学习者的问题，但我对 SQL Server 还是很陌生。

这是两个表 [Armies] 和 [Battles]（电子表格格式）：- [https://docs.google.com/spreadsheet/ccc?key=0Ana40VqkvVtRdDAwc1BRWnhsWEdaaTQzcFprQmlyeVE](https://docs.google.com/spreadsheet/ccc?key=0Ana40VqkvVtRdDAwc1BRWnhsWEdaaTQzcFprQmlyeVE)

这是我的代码：-

```
SELECT *
FROM
    (
    SELECT
        RANK() over(Partition by ArmyMnemonic Order by COUNT(WDL) desc, Member) as ranks, ArmyMnemonic, Army, Member,
         COUNT(WDL) as Wins
    FROM
        [dbo].[Battles]

    INNER JOIN Armies on Army1 = Armies.ArmyNum

    Where
        WDL=2 and Home=1 -- represents a "Win"
    Group By
        Member, ArmyMnemonic, Army, WDL
    ) as rnk

PIVOT (sum(rnk.ranks) for ArmyMnemonic in([Be],[Br],[DoC],[DE],[Dw],[HE],[Li],[OK],[OG],[Sk],[TE],[TK],[VC],[WoC],[WE])) as pvt

ORDER BY Wins Desc; 
```

谢谢你提供的所有帮助。

创建表脚本：-

```
USE [WFBattlesDB]
GO

/****** Object:  Table [dbo].[Armies]    Script Date: 11/09/2012 13:24:15 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

SET ANSI_PADDING ON
GO

CREATE TABLE [dbo].[Armies](
[ArmyNum] [int] NOT NULL,
[ArmyMnemonic] [nvarchar](3) NOT NULL,
[Army] [char](30) NOT NULL,
[Official] [bit] NULL,
[Active] [bit] NULL,
 CONSTRAINT [PK_Armies] PRIMARY KEY CLUSTERED 
```

（[ArmyNum] ASC）WITH（PAD_INDEX = OFF，STATISTICS_NORECOMPUTE = OFF，IGNORE_DUP_KEY = OFF，ALLOW_ROW_LOCKS = ON，ALLOW_PAGE_LOCKS = ON）ON [PRIMARY]）ON [PRIMARY]

```
GO

SET ANSI_PADDING OFF
GO 
```

* * *

```
USE [WFBattlesDB]
GO

/****** Object:  Table [dbo].[Battles]    Script Date: 11/09/2012 13:25:35 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[Battles](
[keyBattle] [int] IDENTITY(1,1) NOT NULL,
[subDate] [datetime] NOT NULL,
[Member] [nvarchar](20) NOT NULL,
[Home] [bit] NOT NULL,
[Army1] [int] NOT NULL,
[Army2] [int] NOT NULL,
[WDL] [int] NOT NULL,
[PtsVal] [int] NULL,
[MVU] [nvarchar](30) NULL,
[Fun] [int] NULL,
[Luck] [int] NULL,
[Notes] [nvarchar](1500) NULL,
[Link] [nvarchar](255) NULL 
```

) 开 [主要]

```
GO 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:17:21.693

我添加了一个额外级别的子查询，以便`WHERE`可以应用一个简单的子句

```
SELECT *
FROM
    (SELECT * FROM ( --Subquery start
    SELECT
        RANK() over(Partition by ArmyMnemonic Order by COUNT(WDL) desc, Member) as ranks, ArmyMnemonic, Army, Member,
         COUNT(WDL) as Wins
    FROM
        Battles

    INNER JOIN Armies on Army1 = Armies.ArmyNum

    Where
        WDL=2 and Home=1 -- represents a "Win"
    Group By
        Member, ArmyMnemonic, Army, WDL

    ) t where t.ranks <= 3 --New WHERE clause

    ) as rnk
PIVOT (sum(rnk.ranks) for ArmyMnemonic in([Be],[Br],[DoC],[DE],[Dw],[HE],[Li],[OK],[OG],[Sk],[TE],[TK],[VC],[WoC],[WE])) as pvt
ORDER BY Wins Desc; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:20:49.363

您不能`ranks`在`WHERE`子句中使用 the，因为它在`PIVOT`函数中使用。因此，您可以创建第二`ranks`列进行过滤。我在内部选择中创建了第二列：

```
RANK() over(Partition by ArmyMnemonic Order by COUNT(WDL) desc, Member) as rankFilter 
```

然后，您可以在`WHERE`子句中使用它：

```
SELECT Army, Member, Wins, [Be],[Br],[DoC],[DE],[Dw],[HE],[Li],[OK],[OG],[Sk],[TE],[TK],[VC],[WoC],[WE]
FROM
(
    SELECT
        RANK() over(Partition by ArmyMnemonic Order by COUNT(WDL) desc, Member) as ranks, ArmyMnemonic, Army, Member,
         COUNT(WDL) as Wins,
       RANK() over(Partition by ArmyMnemonic Order by COUNT(WDL) desc, Member) as rankFilter
    FROM
        [dbo].[Battles]

    INNER JOIN Armies on Army1 = Armies.ArmyNum

    Where
        WDL=2 and Home=1 -- represents a "Win"
    Group By
        Member, ArmyMnemonic, Army, WDL
    ) as rnk

PIVOT (sum(rnk.ranks) for ArmyMnemonic in([Be],[Br],[DoC],[DE],[Dw],[HE],[Li],[OK],[OG],[Sk],[TE],[TK],[VC],[WoC],[WE])) as pvt
where rankFilter <=3

ORDER BY Wins Desc; 
```

或者您可以`WHERE`在以下子查询中应用`PIVOT`：

```
SELECT Army, Member, Wins, [Be],[Br],[DoC],[DE],[Dw],[HE],[Li],[OK],[OG],[Sk],[TE],[TK],[VC],[WoC],[WE]
FROM
(
    select *
    from
    (
        SELECT
            RANK() over(Partition by ArmyMnemonic Order by COUNT(WDL) desc, Member) as ranks, ArmyMnemonic, Army, Member,
             COUNT(WDL) as Wins
        FROM
            [dbo].[Battles]

        INNER JOIN Armies on Army1 = Armies.ArmyNum

        Where
            WDL=2 and Home=1 -- represents a "Win"
        Group By
            Member, ArmyMnemonic, Army, WDL
    )  rnk
    where rnk.ranks <= 3
) src
PIVOT (sum(ranks) for ArmyMnemonic in([Be],[Br],[DoC],[DE],[Dw],[HE],[Li],[OK],[OG],[Sk],[TE],[TK],[VC],[WoC],[WE])) as pvt

ORDER BY Wins Desc; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:13:03.867

将所有内容包装在另一个 select 语句中：

选择前 3 * 从 (

```
SELECT *
FROM
    (
    SELECT
        RANK() over(Partition by ArmyMnemonic Order by COUNT(WDL) desc, Member) as ranks, ArmyMnemonic, Army, Member,
         COUNT(WDL) as Wins
    FROM
        [dbo].[Battles]

    INNER JOIN Armies on Army1 = Armies.ArmyNum

    Where
        WDL=2 and Home=1 -- represents a "Win"
    Group By
        Member, ArmyMnemonic, Army, WDL
    ) as rnk

PIVOT (sum(rnk.ranks) for ArmyMnemonic in([Be],[Br],[DoC],[DE],[Dw],[HE],[Li],[OK],[OG],[Sk],[TE],[TK],[VC],[WoC],[WE])) as pvt 
```

) 数据 ORDER BY Wins Desc

# android - 查看 Rails 开发网站的最佳移动模拟器

> ID：13308559
> 
> 赞同：0
> 
> 时间：2012-11-09T13:00:34.590
> 
> 标签：android, iphone, ruby-on-rails, mobile, simulator

我正在使用 Rails 3.2.8，我想设计一个客户想要在移动设备上查看网站的网站，如果来自移动设备的请求自动显示移动视图，我能够实现这一点。

我的问题是需要使用 SIMULATOR 进行测试，它给人以各种移动应用程序（如 iphone、Android、Blackberry 等）的感觉。

有人可以建议我吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:11:14.633

试试这个链接。这是免费的移动网站准备测试。 [http://www.gomez.com/mobile-readiness-test/](http://www.gomez.com/mobile-readiness-test/)

你也可以试试**Perfecto Mobile Handset Cloud**。它使您可以通过云访问真实设备，但它不是免费的。

# coordinates - KML 多边形坐标排序（顺时针、逆时针）

> ID：13308564
> 
> 赞同：0
> 
> 时间：2012-11-09T13:00:54.553
> 
> 标签：coordinates, kml, polygon

我在谷歌地球上可视化多边形时遇到问题。我正在从上到下（在 java 中）读取 .xlsx 文件，并且我有一组坐标（x，y）。我的应用程序正在使用 JAK lib 生成 .kml 文件。之后，当我将此 .kml 文件导入谷歌地球时，我的多边形形状错误。这是示例：

![错误的多边形形状](../Images/a1f7c69c901a6c7169e4e8dfe0c6df75.png)

问题是在 kml 文件中，坐标按照它们出现在图像上的顺序排列。最后一个坐标默认连接到第一个坐标，这就是问题所在。如何对这个形状将是矩形的坐标进行排序？当然这是最简单的例子。我有比矩形更复杂的多边形（在文件中）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:08:35.840

您在 Polygon 中使用的KML 的[LinearRing](https://developers.google.com/kml/documentation/kmlreference#linearring)结构是一个环，因此多边形是按照您在环中指定的顺序线性绘制的。所以如果你想画一个矩形，它们需要按 1、2、4 3 的顺序排列。

KML 中没有任何内容可以告诉它以不同的方式解释环。当您阅读 XSLX 时，您需要在您的 java 应用程序中对它们进行排序，或者让为您提供数据的人以正确的顺序向您发送点列表。我不确定你在做什么的领域是什么，但对我来说，以任何方式将它们发送给你没有任何意义，除了作为一个线性点环，他命令你画线.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T15:26:53.697

如果你的多边形是凸的，你可以实现任何[凸包算法](http://en.wikipedia.org/wiki/Convex_hull_algorithms)。这适用于您的示例，但不适用于更复杂的多边形。

# javascript - 如何仅使用纯 JavaScript 将 css 边距值转换为像素？

> ID：13308568
> 
> 赞同：6
> 
> 时间：2012-11-09T13:01:06.140
> 
> 标签：javascript, html, css

我正在寻找将 html 元素 css 边距值转换为绝对像素的最简单和跨浏览器的方法。例如说边距是“自动”。我不能使用任何 js 框架。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:06:19.040

您想使用以下`window.getComputedStyle`方法：

```
var style = window.getComputedStyle(element, null);
// style.marginLeft 
```

这是一个工作演示：http: [//jsfiddle.net/VxccZ/](http://jsfiddle.net/VxccZ/)

**更新**

对于 IE 8 及更早版本（不支持此方法），请使用`currentStyle`元素的属性：

```
var style = element.currentStyle;
// style.marginLeft 
```

总结一下：

```
var getMarginLeft = function (element) {
  var style;
  if (window.getComputedStyle) { style = window.getComputedStyle(element, null); }
  else { style = element.currentStyle; }

  return style.marginLeft;
}; 
```

我不能 100% 确定它`currentStyle`具有`margin: auto`. 你将不得不自己尝试。我不能在 Mac 上自己做到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-08-24T10:22:33.273

使用`parseInt()`功能。

**纯 JavaScript / 打字稿：**

```
var elem = document.getElementById("someElement");
var marginTopNumericValue = parseInt(elem.style.marginTop); 
```

# numpy - SciPy：`scipy.special.fresnel(x[, out1, out2])` 中的参数是什么？

> ID：13308573
> 
> 赞同：2
> 
> 时间：2012-11-09T13:01:25.083
> 
> 标签：numpy, integration, scipy, fresnel

我正在尝试使用 SciPy 绘制回旋曲线函数。[这](http://docs.scipy.org/doc/scipy/reference/generated/scipy.special.fresnel.html#scipy.special.fresnel)是菲涅耳积分的语法，但我不明白参数`x`, `out1`, `out2`in 是`scipy.special.fresnel(x[, out1, out2])`什么？描述中的公式是关于`t`和`z`，它们不在函数中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:33:46.227

参数`out1`和`out2`是可选的。您可以使用

```
s, c = fresnel(x) 
```

文档字符串中显示的参数`z`是`x`参数。这是一个不幸的差异——文档字符串应该与函数签名一致。

如果您已经有要在其中放置函数调用结果的数组，则可以使用参数`out1`和。`out2`这允许您通过重用现有数组来节省内存。

请注意，函数的 scipy 实现将参数缩放 pi/2。请参阅维基百科文章中关于此的注释：[http ://en.wikipedia.org/wiki/Fresnel_integral](http://en.wikipedia.org/wiki/Fresnel_integral)

该脚本将生成维基百科文章中显示的第一个图：

```
import numpy as np
from scipy.special import fresnel
import matplotlib.pyplot as plt

t = np.linspace(0, 5.0, 201)
ss, cc = fresnel(t / np.sqrt(np.pi / 2))
scaled_ss = np.sqrt(np.pi / 2) * ss
scaled_cc = np.sqrt(np.pi / 2) * cc
plt.plot(t, scaled_cc, 'g--', t, scaled_ss, 'r-', linewidth=2)
plt.grid(True)
plt.show() 
```

# mysql - iptables 根据 mysql 的结果更改目标地址

> ID：13308574
> 
> 赞同：1
> 
> 时间：2012-11-09T13:01:27.180
> 
> 标签：mysql, iptables, nat

我需要根据执行 mysql 查询的结果更改 tcp/ip 数据包的目标地址...

`score`从`reputation`哪里选择`ip`= packet.source_ip

if (score < a) then packet.destination_ip = ...

否则 packet.destination_ip = ...

你认为解决这个问题的方法有哪些？谢谢。

PS这很重要，目标主机知道数据包来自的真实IP地址，而不是防火墙的IP地址。

# css - 顶部有边距的图层

> ID：13308580
> 
> 赞同：0
> 
> 时间：2012-11-09T13:01:40.407
> 
> 标签：css, overflow, margin, opacity, layer

以下问题。我的网页上需要一个 div 层。该层应在 300px 之后开始，并以网站结尾结束。

```
<div style ="       background-color: #FCFCFC; 
                    display: block;
                    height: 100%;
                    min-height: 100%;
                    height:auto !important; 
                    overflow: hidden !important;
                    opacity: 0.8;
                    left: 0;
                    position: absolute;
                    top: 0;
                    width: 100%;
                    z-index: 1100;
                    overflow: hidden !important; 
                    margin: auto;
                    min-height: 100%; 
                    height:auto !important; 
                    height:100%; 
                    "> 
```

现在这可行，但是：我的利润不在顶部。如果我插入 margin-top:300px 网站只会随着滚动条变得越来越大。

有任何想法吗？此致

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:07:53.987

您正在使用绝对位置，因此您应该使用而不是边距

```
top:300px; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:10:37.190

如果我理解正确：

[http://jsfiddle.net/lollero/BjbQc/](http://jsfiddle.net/lollero/BjbQc/)

CSS：

```
body {
    position: relative;
}

div {
    background: red; 
    position: absolute;
    top: 300px;
    right: 0px;
    bottom: 0px;
    left: 0px;
    opacity: 0.5;
}​ 
```

# c# - 使用 JavaScript 连接到 .NET 服务器

> ID：13308583
> 
> 赞同：4
> 
> 时间：2012-11-09T13:02:00.780
> 
> 标签：c#, javascript, web-services

我应该使用我们服务器上的 JS 访问资源。我已经设置了下面的代码。

```
var targetUrl = "http://somePlace.com/actualResourceName";
var xdr = new XDomainRequest();
xdr.onload = function () { alert(xdr.responseText); }
xdr.open("GET", targetUrl);
xdr.send(); 
```

但是，我不清楚如何创建另一端的方法。我提出了以下建议，完全意识到它不起作用。例如，我确定我缺少正确的属性。我什至不确定在哪里设置该方法应该对`actualResourceName`...做出反应

```
[???]
public String ActualResourceName()
{
  return "Bye, bye, cruel word!";
} 
```

我已经用谷歌搜索了，但我没有找到任何解决方案。不过，我可能在没有意识到它有用的情况下偶然发现了它。

C#中的方法应该怎么写？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T15:47:19.983

好的，这就去。我将描述两种方法来完成它，最简单的方法：

[**1\. ASP.NET WebApi**](http://www.asp.net/web-api)

您必须创建一个新的 ASP.NET MVC4 项目（无论是发布版还是 RC），选择“WebApi”作为选项： ![项目启动](../Images/54ac5215cc4c370bae8234c813581eca.png)

您将准备好模板。现在您右键单击“控制器”文件夹，然后添加 -> 控制器： ![在此处输入图像描述](../Images/d85660ebee85232df5e9b3ea5c069238.png)

并填写它，例如：

```
public class ActualResourceController : ApiController
{
    public string Get()
    {
        return "Hey there! Getting the resource...";
    }
} 
```

默认路由在 Global.asax 中，当你去定义`WebApiConfig.Register(...)`方法时，你会看到默认路由是`host/api/controller`. 让我们尝试一下，当您启动项目并进入（在我的情况下，端口由开发服务器自动选择）`http://localhost:23030/api/ActualResource` 时，您将获得：

```
<string>Hey there! Getting the resource...</string> 
```

WebApi 根据`Accept`标头返回 JSON 或 XML，如果您希望 JSON 成为唯一/默认值，请[查看此链接。](http://ellisweb.net/2012/04/force-webapi-to-return-json-by-default-for-html-get-requests/)

您当然可以创建一个类并返回它，它将以类似的方式序列化为 XML/JSON，您将在下面使用 ServiceStack 看到。

* * *

[**2.服务栈**](http://www.servicestack.net/)

现在，ServiceStack 是功能强大的开源 REST Web 服务框架。它的工作方式与 WebApi 有点不同，这里有一个简单的介绍（虽然文档很好）：

创建常规的 ASP.NET MVC 项目（在我的例子中，MVC4） - 你将有一个空模板：

![服务栈启动项目](../Images/af3562c349903cd6369747a060de80a4.png)

然后启动包管理器控制台并输入（如文档建议的那样）`Install-Package ServiceStack.Host.Mvc`，这将为您提供一个带有教程应用程序的 ServiceStack 项目模板，如果您愿意，您可以稍后将其删除。

但首先，ServiceStack 在 DTO、Request-Response 对象上工作。因此，让我们创建它们，`ActualResource`将作为请求和`ActualResourceResponse`响应的类。由于您在请求中没有参数，因此第一个是微不足道的：

```
public class ActualResource
{
} 
```

任何参数都是自动属性。现在回应：

```
public class ActualResourceResponse
{
    public string ResourceName { get; set; }
} 
```

以及服务类本身：

```
public class ActualResourceService : Service
{
    public object Get(ActualResource request)
    {
        return new ActualResourceResponse {
           ResourceName = "Hi! It's the resource name." };
    }
} 
```

`string`您当然可以出于当前目的返回裸机，它仍然可以正常工作。

现在在 ServiceStack 创建的模板中，一切都发生在 AppHost.cs 文件中，让我们看一下并稍微修改一下：

```
Routes
    .Add<Hello>("/hello") 
    .Add<Hello>("/hello/{Name*}")
    .Add<Todo>("/todos")
    .Add<Todo>("/todos/{Id}") //everything up to here are a template/tutorial routes, you can safely remove them
    .Add<ActualResource>("/actualResource"); //and here you add a route to your own service 
```

为了让它工作，你必须去 Global.asax 并注释掉整`WebApiConfig.Register(GlobalConfiguration.Configuration)`行，然后进入`RouteConfig.RegisterRoutes`方法并添加：

```
 routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
 routes.IgnoreRoute("api/{*pathInfo}"); // <<<---- this line
 routes.MapRoute(
      name: "Default",
      url: "{controller}/{action}/{id}",
      defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
  ); 
```

需要更多的管道，但它仍然不错。

现在当你启动服务时，在 下`localhost:whateverport/api/actualResource`，你会得到熟悉的字符串，这是一个截图： ![ServiceStack 回复页面](../Images/b74eed456c2e28e12c07eea70bd8e15b.png)

ServiceStack 可以序列化为各种格式，所以如果你在 下`http://localhost:yourPort/api/actualResource?format=json`，你会得到：

```
{"resourceName":"Hi! It's the resource name."} 
```

如果`?format=xml`，那么：

```
<ActualResourceResponse>
    <ResourceName>Hi! It's the resource name.</ResourceName>   
</ActualResourceResponse> 
```

等等...

现在 ServiceStack 设置有点复杂，但它支持开箱即用的 Memcache，你可以在 Redis 中使用，你可以使用各种身份验证提供程序，所有这些在某些场景中可能非常有用。但是，正如本叔叔曾经说过的，“权力越大，责任越大”，而且设置阶段有点困难……

* * *

现在你可以选择任何你喜欢的，这两个是目前最简单的选项恕我直言。当然，这只是一个简单的入门教程，当您开始项目时，您将有机会深入探索这个主题。

# xml - XSD Schemas - 基于文档中的值的枚举

> ID：13308585
> 
> 赞同：1
> 
> 时间：2012-11-09T13:02:04.757
> 
> 标签：xml, enums, xsd

这是一个正确的远射。

如果我的 XSD 中有一个已定义的元素，包含两个属性，比如 NAME 和 VALUE，是否可以根据 Name 中的值来限制 VALUE 枚举？

例如：

```
<xsd:complexType name="ConfigDef">
    <xsd:attribute name="NAME" type="xsd:string">
        <xsd:annotation>
            <xsd:documentation>The name of this Config setting.</xsd:documentation>
        </xsd:annotation>           
    </xsd:attribute>
    <xsd:attribute name="VALUE" type="xsd:string">
        <xsd:annotation>
            <xsd:documentation>The value of this Config setting.</xsd:documentation>
        </xsd:annotation>
    </xsd:attribute>
</xsd:complexType> 
```

我不认为它可以做到。可以做到吗？是否有 XSD 黑客可以让它工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T17:52:17.487

您可以使用嵌入式 schematron 来做到这一点

```
<xsd:schema elementFormDefault="qualified" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <xsd:complexType name="ConfigDef">
    <xsd:annotation>
      <xsd:appinfo>
        <sch:pattern name="Test constraints on the ConfigDef element"
          xmlns:sch="http://purl.oclc.org/dsdl/schematron">
          <sch:rule
            context="ConfigDef">
            <sch:assert test="@NAME eq 'foo' and @VALUE = ('bar','baz')">Error message when the assertion condition is broken...</sch:assert>
            <sch:assert test="@NAME eq 'qux' and @VALUE = ('teh','xyz')">Error message when the assertion condition is broken...</sch:assert>
          </sch:rule>
        </sch:pattern>
      </xsd:appinfo>
    </xsd:annotation>
    <xsd:attribute name="NAME" type="xsd:string">
      <xsd:annotation>
        <xsd:documentation>The name of this Config setting.</xsd:documentation>
      </xsd:annotation>           
    </xsd:attribute>
    <xsd:attribute name="VALUE" type="xsd:string">
      <xsd:annotation>
        <xsd:documentation>The value of this Config setting.</xsd:documentation>
      </xsd:annotation>
    </xsd:attribute>
  </xsd:complexType>
</xsd:schema> 
```

或者你可以用一个放松模式来做到这一点

```
element ConfigDef {
  ((
  attribute NAME {'foo'},
  attribute VALUE {'bar'|'baz'}) |  
  (
  attribute NAME {'qux'},
  attribute VALUE {'teh'|'xyz'}))
} 
```

# java - Eclipse 生成的 WSDL 中缺少子类

> ID：13308588
> 
> 赞同：2
> 
> 时间：2012-11-09T13:02:14.213
> 
> 标签：java, eclipse, web-services, soap, wsdl

我正在尝试设置 Web 服务。

我的方法是：

*   创建动态 Web 项目
*   创建类“MyService”：

    ```
    @WebService
    @XmlSeeAlso({B.class})
    public class MyService {
        public A method() {
            return new B();
        }
    } 
    ```

*   创建类“A”：

    ```
    @XmlSeeAlso(B.class)
    public class A {
        public int propertyOfA=0;
    } 
    ```

*   创建类“B”：

    ```
    public class B extends A {
        public int propertyOfB=1;
    } 
    ```

*   从 MyService.java 创建 Web 服务

没有错误，所有文件都已创建。但是，B 类不会出现在 WSDL 中的任何位置。因此，所有 Web 服务响应都不会包含 的任何值`propertyOfB`，因为它不在服务描述中。

如何`B`进入 WSDL？

编辑：我不确定它是否有任何区别，但我正在为 Tomcat v7.0、Apache Axis 创建 Web 服务

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T03:49:57.440

我认为您的要求是通知 Web 服务的用户 B 类型对象也可以从 method() 操作返回。所以你要做的就是在你的 service.xml 中添加一个这样的条目，

```
 <parameter name="extraClass">B</parameter> 
```

因此，它将向 WSDL 添加条目，提及 Web 服务操作也将返回这些类型的对象。因此，当代码生成发生时，这些也会生成。您可以通过检查响应的 xsi:type 来找到返回的类。请阅读此博客以进一步了解，[http://ssagara.blogspot.com/2011/07/how-to-get-best-use-of-axis2-object.html](http://ssagara.blogspot.com/2011/07/how-to-get-best-use-of-axis2-object.html)

# ruby-on-rails - Rails request.referer 在 Internet Explorer 中不起作用

> ID：13308593
> 
> 赞同：4
> 
> 时间：2012-11-09T13:02:33.553
> 
> 标签：ruby-on-rails, ruby-on-rails-3, cas, spree

我正在使用 Rails 中的 Spree 电子商务并使用 CAS 进行单点登录。
使用 cas 登录后，我使用 request.referer 将其重定向到上一页，但它不适用于 Internet Explorer。
在 Internet Explorer 中，它会将我重定向到我的应用程序的主页。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:05:57.603

在某些情况下，IE 不会发送referer 标头。Microsoft 有一篇涵盖此内容的[支持文章。](http://support.microsoft.com/kb/178066)

> 在 Internet Explorer 4.0 和更高版本中从一个文档链接到另一个文档时，如果链接是从 HTTPS 页面到非 HTTPS 页面，则不会发送 Referer 标头。当链接来自非 HTTP(S) 协议（例如 file://）到另一个页面时，Referer 标头也不会被发送。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T13:22:37.397

正如道格拉斯所说，request.referer 不能从“https”到“http”。您可以做的是在移动到 https:// url 之前存储 url。我想这应该可行。

# php - 如何直接从源链接上传文件？

> ID：13308600
> 
> 赞同：0
> 
> 时间：2012-11-09T13:03:05.993
> 
> 标签：php

有什么方法可以在不使用表单的情况下从源链接上传文件？假设，一个数组包含 3 个文件名的链接。

```
$array = array('C:\test\a.jpg', 'C:\test\b.doc', 'C:\test\c.txt'); 
```

现在我想将这 3 个文件上传到网络服务器中。我怎样才能使用 PHP 做到这一点？

**编辑：**

实际上，我目前正在一个网站 (http://eventconnectbd.com/) 上工作，管理员必须在该网站上上传带有图像的事件信息。已创建一个包含 100 个图像链接的 csv 文件（所有链接都与管理员的电脑相关）。所以基本上我创建了这些图片链接的数组，并想一个一个上传。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T17:27:45.227

不，这是不可能的。服务器无法访问客户端的硬盘内容，无论好坏（*更好*，真的）。您必须编写一个可以获得此类访问权限的浏览器插件（例如，Java 小程序）。

或者，您必须批量上传图片。要么压缩它们并上传单个 zip 文件，服务器可以再次分解，要么再次使用一个插件，让您一次选择多个文件进行上传（Flash 在这里很流行）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T15:46:22.857

```
<?php
$array = array('/var/www/a.jpg', '/var/www/b.jpg', '/var/www/c.jpg');
$dest_path = '/var/www/myweb/';
foreach($array as $file_path){
$file_name = end(explode('/', $file_path));
copy($file_path, $dest_path . $file_name);
}
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:12:10.077

不，这是不可能的。

如果您只知道客户端路径，那么您的 Web 服务器需要浏览客户端文件系统，这当然是不允许的。想象一下：如果允许的话，互联网上的每台服务器都可以读取你所有的文件，这真的是不可取的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T19:29:02.527

当然这是可能的。您所要做的就是实现两个部分：

1.  在单个 php 脚本中实现的服务器端的简单 API。它接受一个文件并将其存储在某个地方。也许您想添加一些安全性或合理性检查，但这是另一回事。
2.  客户端的一个小脚本，它迭代数组并使用 API 一个一个地上传每个文件。

就是这样，不需要任何表格，也不需要手动上传单个对象。

* * *

根据要求，我添加了一个简短的示例。没什么花哨的，只是为了展示这个想法：

服务器端 API，这里调用的原始 php 脚本`upload.php`：

```
<?php
// this is where uploaded files get dumped to
define('FILES_STORAGE','/some/path/writeable/for/http-server');
// $_FILES holds the meta data of the uploaded file as stored temporarily
syslog(LOG_DEBUG,sprintf("upload API accepted file '%s'",$_FILES['filedata']['name']));
// copy file to its final destination (temp file gets removed automatically)
copy ( $_FILES['filedata']['tmp_name'] , FILES_STORAGE.$_FILES['filedata']['name']);
// some feedback to the client, might be ignored
echo sprintf("file '%s' accepted and stored. ", $_FILES['filedata']['tmp_name']);
?> 
```

客户端脚本，我制作了一个简单的 bash 脚本，尽管您可以使用任何您想要或在客户端可用的语言。它只上传一个文件，但显然这可以在处理文件列表或其他任何内容的循环中完成：

```
#!/bin/bash
curl -i -F name=test -F filedata=@test.png http://api.myserver.org/upload.php 
```

当您执行脚本时，文件将被上传并移动到 API 文件顶部定义为`FILES_STORAGE`. 不进行错误、安全性和合理性检查，因为这是概念验证。

# git - 推送到 GitHub 时出现 403 错误

> ID：13308602
> 
> 赞同：3
> 
> 时间：2012-11-09T13:03:14.760
> 
> 标签：git, github

我正在尝试将一个新的本地分支（名为“haystack”）推送到我的 github 存储库：

```
git push -u origin haystack 
```

但我得到了错误：

> 错误：请求的 URL 返回错误：403 访问[https://github.com/Grails48/airbrake-grails.git/info/refs](https://github.com/Grails48/airbrake-grails.git/info/refs)

这是我第一次尝试推送到这个 repo。我查看了我的 GitHub 帐户的“SSH 密钥”部分，它说：

```
tony.drago@Office100 (b5:4d:e3:8f:26:76:cd:15:8b:c8:4c:f4:a7:fd:29:c3) 
```

（这不是真正的关键值）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T13:07:57.930

编辑您的`.git/config`文件，以便`url`使用`ssh`or`git`协议而不是`https`：

```
url = git@github.com:Grails48/airbrake-grails.git 
```

# php - 看不懂标签？

> ID：13308604
> 
> 赞同：1
> 
> 时间：2012-11-09T13:03:17.413
> 
> 标签：php, asp.net, asp-classic, tags

我找到了这个表格，其中输入值填充了这个里面的变量

```
<%= 
```

标签，

这个标签是什么？

它属于哪种编程语言？

```
<input type="hidden" name=" requestparameter " value="<%= requestparameter %>"> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T13:04:52.740

这是一个asp解析标签。它表示应该将里面的值写入输出。在 php 中，这些标签可以通过设置来启用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T13:23:53.260

它是一个asp标签，可以通过`asp_tags=1`在`php.ini`文件中设置在php中启用。启用时，

```
<%
  //php code here
 %> 
```

相当于

```
<?php 
  //php code here
?> 
```

在这种情况下

```
<input type="hidden" name=" requestparameter " value="<%= requestparameter %>"> 
```

相当于

```
<input type="hidden" name=" requestparameter " value="<?php echo(requestparameter) ?>"> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-11T07:12:36.177

经典（非 .NET）**ASP**（Active Server Page）服务器标签：

```
<%="Text"%> or <%=someVariable%> 
```

是以下的简写形式：

```
<% Response.Write "Text" %> or <% Response.Write("Text") %> or 
<% Response.Write someVariable %> or <% Response.Write(someVariable) %> 
```

它将作为文本输出到 HTML 页面中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T13:05:45.110

那是一个写变量值的[asp标签](http://www.asp.net/)

# php - 关于 joomla 中的国际化

> ID：13308609
> 
> 赞同：1
> 
> 时间：2012-11-09T13:03:33.177
> 
> 标签：php, joomla, internationalization, module

我创建了 joomla 模块`mod_my`。模块由`mod_sign_up_courses.php, en-GB.mod_sign_up_courses.ini, default.php, helper.php, ...`

如果我写

```
echo JText::_('BACK_TITLE'); 
```

`default.php (template),`然后它起作用了。
如果我写

```
echo JText::_('BACK_TITLE'); 
```

，`helper.php`那么它就不起作用了。

如何在 helper.php 中正确使用国际化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:22:44.947

您必须手动加载语言文件，例如[此处](http://dreference.blogspot.co.uk/2012/04/how-to-load-language-file-for-joomla.html)所述。

我引用：

```
/*load language file for plugin frontend*/
$lang = &JFactory::getLanguage();
$lang->load('plg_plg_pluginType_myPlugin', JPATH_ADMINISTRATOR); 
```

来源：[http ://dreference.blogspot.co.uk/2012/04/how-to-load-language-file-for-joomla.html](http://dreference.blogspot.co.uk/2012/04/how-to-load-language-file-for-joomla.html)

# iphone - Iphone 导航组内存泄漏

> ID：13308612
> 
> 赞同：-1
> 
> 时间：2012-11-09T13:03:38.793
> 
> 标签：iphone, cross-platform, titanium-mobile

我正在创建一个 Iphone 应用程序，我必须在其中使用 NavigationGroup 一次又一次地连续打开三个窗口。任何人都可以建议我如何在使用导航时关闭窗口。打开新窗口后，我试图使上一个窗口为空。但它不起作用。请帮忙！！！

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:10:15.027

您可以使用 Xcode 的“分析”功能来运行静态分析器。它会发现大部分基本的内存泄漏并告诉你该怎么做。在大多数情况下，`autorelease`如果您希望它们在未使用时被释放，请在您的对象上使用。将“窗口”设置为`nil`(null) 不会释放任何内存，除非您已将其声明为保留`@property`并将其设置为`nil`using `self.property`。相反，使用`autorelease`or `release`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:07:44.000

如果您按下视图控制器，然后用户点击后退按钮，则视图控制器会被导航控制器释放。如果它没有被释放，那么你的代码中的某个地方就会出现内存错误。

# numpy - 使用布尔列表在 numpy 矩阵中索引列（或行）

> ID：13308614
> 
> 赞同：0
> 
> 时间：2012-11-09T13:03:47.047
> 
> 标签：numpy, indexing

`A`给定一个形状的 numpy 矩阵`(m,n)`和一个`ind`长度为的布尔值列表`n`，我想提取`A`布尔列表中对应元素为真的列。

我第一次天真的尝试

```
Asub = A[:,cols] 
```

给出了相当奇怪的结果，没有必要在这里引用......

按照 pv. 对[这个问题](https://stackoverflow.com/questions/7820809/understanding-weird-boolean-2d-array-indexing-behavior-in-numpy)的回答，我尝试`numpy.ix_`如下：

```
>>> A = numpy.diag([1,2,3])
>>> ind = [True, True, False]
>>> A[:,numpy.ix_(ind)]
array([[[1, 0]],

       [[0, 2]],

       [[0, 0]]])
>>> A[:,numpy.ix_(ind)].shape
(3, 1, 2) 
```

现在结果的形状不合适：我想要一个`(3,2)`结果数组。我想我可以将结果分解为二维，但肯定有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T13:11:08.677

正如[文档所讨论](http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#boolean-array-indexing)的那样，“当 obj 是布尔类型的数组对象（例如可能从比较运算符返回）时，就会发生您想要的布尔索引。”

IOW，`ind`需要是一个`ndarray`类型`bool`：

```
In [15]: A = numpy.diag([1,2,3])

In [16]: ind = [True, True, False]

In [17]: A[:,ind]
Out[17]: 
array([[0, 0, 1],
       [2, 2, 0],
       [0, 0, 0]]) 
```

发生这种情况是因为它将 bool 解释为整数，并为您提供 columns `[1, 1, 0]`。

奥托：

```
In [18]: A[:,numpy.array(ind)]
Out[18]: 
array([[1, 0],
       [0, 2],
       [0, 0]]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:13:10.800

转换`ind`为数组：

```
>>> A[:, np.array(ind)]
array([[1, 0],
       [0, 2],
       [0, 0]]) 
```

# ruby-on-rails - Rails 回形针 - 未定义的方法关闭

> ID：13308617
> 
> 赞同：0
> 
> 时间：2012-11-09T13:03:58.630
> 
> 标签：ruby-on-rails, paperclip, undefined, processor

** [0image.jpg, __MACOSX/, __MACOSX/._0image.jpg] 的未定义方法“关闭”：数组

**app/controllers/components_controller.rb:49:in 'block in create' app/controllers/components_controller.rb:48:in 'create'**

使用 Rails，使用回形针上传 zip 文件并使用后处理器解压缩，我在保存组件时在控制器上收到上述错误：

```
def create
    @component = Component.new(params[:component])

    file = @component.folder

    respond_to do |format|
    if @component.save  <--- HERE
        format.html { redirect_to @component, notice: 'Component was successfully created.' }          
        format.json { render json: @component, status: :created, location: @component }
  else
        format.html { render action: "new" }
        format.json { render json: @component.errors, status: :unprocessable_entity }
  end
end 
```

在 component.rb 模型中，我有：

```
has_attached_file   :imgs,
                    :processors => [:unzipImgs],
                    :styles =>  {:original => {}},
                    :path => ":rails_root/public/system/imgs/:id/:basename.:extension" 
```

**编辑：**当没有附加文件时，表格的其余部分将正确保存。

**EDIT2：**完整堆栈：[0image.jpg，__MACOSX/，__MACOSX/._0image.jpg]的未定义方法`close'：Array Rails.root：/Users/.../rails/compolib

```
Application Trace | Framework Trace | Full Trace
paperclip (2.8.0) lib/paperclip/storage/filesystem.rb:43:in 'block in flush_writes'
paperclip (2.8.0) lib/paperclip/storage/filesystem.rb:42:in 'each'
paperclip (2.8.0) lib/paperclip/storage/filesystem.rb:42:in 'flush_writes'
paperclip (2.8.0) lib/paperclip/attachment.rb:214:in 'save'
paperclip (2.8.0) lib/paperclip.rb:472:in 'block in save_attached_files'
paperclip (2.8.0) lib/paperclip.rb:465:in 'block in each_attachment'
paperclip (2.8.0) lib/paperclip.rb:464:in 'each'
paperclip (2.8.0) lib/paperclip.rb:464:in 'each_attachment'
paperclip (2.8.0) lib/paperclip.rb:471:in 'save_attached_files'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in '_run__1684566124117949160__save__1124397323209591875__callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in '__run_callback'
activesupport (3.2.8) lib/active_support/callbacks.rb:385:in '_run_save_callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:81:in 'run_callbacks'
activerecord (3.2.8) lib/active_record/callbacks.rb:264:in 'create_or_update'
activerecord (3.2.8) lib/active_record/persistence.rb:84:in 'save'
activerecord (3.2.8) lib/active_record/validations.rb:50:in 'save'
activerecord (3.2.8) lib/active_record/attribute_methods/dirty.rb:22:in 'save'
activerecord (3.2.8) lib/active_record/transactions.rb:241:in 'block (2 levels) in save'
activerecord (3.2.8) lib/active_record/transactions.rb:295:in 'block in with_transaction_returning_status'
activerecord (3.2.8) lib/active_record/connection_adapters/abstract/database_statements.rb:192:in 'transaction'
activerecord (3.2.8) lib/active_record/transactions.rb:208:in 'transaction'
activerecord (3.2.8) lib/active_record/transactions.rb:293:in 'with_transaction_returning_status'
activerecord (3.2.8) lib/active_record/transactions.rb:241:in 'block in save'
activerecord (3.2.8) lib/active_record/transactions.rb:252:in 'rollback_active_record_state!'
activerecord (3.2.8) lib/active_record/transactions.rb:240:in 'save'
app/controllers/components_controller.rb:49:in 'block in create'
actionpack (3.2.8) lib/action_controller/metal/mime_responds.rb:270:in 'call'
actionpack (3.2.8) lib/action_controller/metal/mime_responds.rb:270:in 'retrieve_collector_from_mimes'
actionpack (3.2.8) lib/action_controller/metal/mime_responds.rb:194:in 'respond_to'
app/controllers/components_controller.rb:48:in 'create'
actionpack (3.2.8) lib/action_controller/metal/implicit_render.rb:4:in 'send_action'
actionpack (3.2.8) lib/abstract_controller/base.rb:167:in 'process_action'
actionpack (3.2.8) lib/action_controller/metal/rendering.rb:10:in 'process_action'
actionpack (3.2.8) lib/abstract_controller/callbacks.rb:18:in 'block in process_action'
activesupport (3.2.8) lib/active_support/callbacks.rb:414:in '_run__1888648103498344133__process_action__2172624313450771502__callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in '__run_callback'
activesupport (3.2.8) lib/active_support/callbacks.rb:385:in '_run_process_action_callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:81:in 'run_callbacks'
actionpack (3.2.8) lib/abstract_controller/callbacks.rb:17:in 'process_action'
actionpack (3.2.8) lib/action_controller/metal/rescue.rb:29:in 'process_action'
actionpack (3.2.8) lib/action_controller/metal/instrumentation.rb:30:in 'block in process_action'
activesupport (3.2.8) lib/active_support/notifications.rb:123:in 'block in instrument'
activesupport (3.2.8) lib/active_support/notifications/instrumenter.rb:20:in 'instrument'
activesupport (3.2.8) lib/active_support/notifications.rb:123:in 'instrument'
actionpack (3.2.8) lib/action_controller/metal/instrumentation.rb:29:in 'process_action'
actionpack (3.2.8) lib/action_controller/metal/params_wrapper.rb:207:in 'process_action'
activerecord (3.2.8) lib/active_record/railties/controller_runtime.rb:18:in 'process_action'
actionpack (3.2.8) lib/abstract_controller/base.rb:121:in 'process'
actionpack (3.2.8) lib/abstract_controller/rendering.rb:45:in 'process'
actionpack (3.2.8) lib/action_controller/metal.rb:203:in 'dispatch'
actionpack (3.2.8) lib/action_controller/metal/rack_delegation.rb:14:in 'dispatch'
actionpack (3.2.8) lib/action_controller/metal.rb:246:in 'block in action'
actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:73:in 'call'
actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:73:in 'dispatch'
actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:36:in 'call'
journey (1.0.4) lib/journey/router.rb:68:in 'block in call'
journey (1.0.4) lib/journey/router.rb:56:in 'each'
journey (1.0.4) lib/journey/router.rb:56:in 'call'
actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:600:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/best_standards_support.rb:17:in 'call'
rack (1.4.1) lib/rack/etag.rb:23:in 'call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/head.rb:14:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/params_parser.rb:21:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/flash.rb:242:in 'call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in 'context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/cookies.rb:339:in 'call'
activerecord (3.2.8) lib/active_record/query_cache.rb:64:in 'call'
activerecord (3.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/callbacks.rb:28:in 'block in call'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in '_run__1061138199520924850__call__1124397323209591875__callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in '__run_callback'
activesupport (3.2.8) lib/active_support/callbacks.rb:385:in '_run_call_callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:81:in 'run_callbacks'
actionpack (3.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/reloader.rb:65:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/remote_ip.rb:31:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:16:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/show_exceptions.rb:56:in 'call'
railties (3.2.8) lib/rails/rack/logger.rb:26:in 'call_app'
railties (3.2.8) lib/rails/rack/logger.rb:16:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/request_id.rb:22:in 'call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in 'call'
rack (1.4.1) lib/rack/runtime.rb:17:in 'call'
activesupport (3.2.8) lib/active_support/cache/strategy/local_cache.rb:72:in 'call'
rack (1.4.1) lib/rack/lock.rb:15:in 'call'
actionpack (3.2.8) lib/action_dispatch/middleware/static.rb:62:in 'call'
railties (3.2.8) lib/rails/engine.rb:479:in 'call'
railties (3.2.8) lib/rails/application.rb:223:in 'call'
rack (1.4.1) lib/rack/content_length.rb:14:in 'call'
railties (3.2.8) lib/rails/rack/log_tailer.rb:17:in 'call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in 'service'
/Users/oriolganduxepregona/.rvm/rubies/ruby-1.9.3-p286/lib/ruby/1.9.1/webrick/httpserver.rb:138:in 'service'
/Users/oriolganduxepregona/.rvm/rubies/ruby-1.9.3-p286/lib/ruby/1.9.1/webrick/httpserver.rb:94:in 'run'
/Users/oriolganduxepregona/.rvm/rubies/ruby-1.9.3-p286/lib/ruby/1.9.1/webrick/server.rb:191:in 'block in start_thread'
Request

Parameters:

{"utf8"=>"✓",
 "authenticity_token"=>"weF99XprqOcgJ0J+x06YM6RBE07gX66ni62UIFemVRM=",
 "component"=>{"name"=>"sadf",
 "platform"=>"asd",
 "func_desc"=>"",
 "dev_desc"=>"",
 "repo_dir"=>"",
 "xib_name"=>"",
 "folder"=>#<ActionDispatch::Http::UploadedFile:0x007fd0eb311c80 @original_filename="0image.jpg.zip",
 @content_type="application/zip",
 @headers="Content-Disposition: form-data; name=\"component[folder]\"; filename=\"0image.jpg.zip\"\r\nContent-Type: application/zip\r\n",
 @tempfile=#<File:/var/folders/69/v7w6k3gx3yb5dj0j3v17g_bh0000gn/T/RackMultipart20121109-483-hap1g9>>,
 "imgs"=>#<ActionDispatch::Http::UploadedFile:0x007fd0eb311168 @original_filename="0image.jpg.zip",
 @content_type="application/zip",
 @headers="Content-Disposition: form-data; name=\"component[imgs]\"; filename=\"0image.jpg.zip\"\r\nContent-Type: application/zip\r\n",
 @tempfile=#<File:/var/folders/69/v7w6k3gx3yb5dj0j3v17g_bh0000gn/T/RackMultipart20121109-483-aw31sq>>,
 "pos_img"=>""},
 "commit"=>"Create Component"} 
```

# jquery-ui - 具体检查 jQuery.ui.autocomplete 是否未定义

> ID：13308618
> 
> 赞同：1
> 
> 时间：2012-11-09T13:04:07.133
> 
> 标签：jquery-ui, jquery-autocomplete, jquery-ui-datepicker

我正在尝试以`jQuery UI`调制的方式使用。而不是加载一个`.JS`具有所有功能的文件（大于 200kb）`jQuery UI`：

```
<script type="text/javascript" src="jquery.ui.custom.js"></script> 
```

我打算只加载需要的（例如，用于自动完成）：

```
<script type="text/javascript" src="jquery.ui.core.min.js"></script>
<script type="text/javascript" src="jquery.ui.widget.min.js"></script>
<script type="text/javascript" src="jquery.ui.position.min.js"></script>
<script type="text/javascript" src="jquery.ui.menu.min.js"></script>
<script type="text/javascript" src="jquery.ui.autocomplete.min.js"></script> 
```

但我只想在未检测到自动完成功能的情况下通过 javascript 加载这些文件。我知道我可以检查是否`jQuery UI`已加载到具有以下`JavaScript`条件的页面：

```
if (typeof jQuery.ui !== 'undefined'){
    // jQuery UI core is loaded
} 
```

我需要做的是专门检查是否`jQuery UI`可以使用自动完成功能：

```
if (typeof jQuery.ui.autocomplete !== 'undefined'){
    // jQuery UI autocomplete is loaded
} 
```

但是上面的代码返回了这个错误：

```
Uncaught TypeError: Object [object Object] has no method 'autocomplete' 
```

我想要实现的是一种`jQuery UI`仅在使用其中一个资源时才加载库的方法。来自 Google 等网站的热链接不是一种选择，而且我不能将所有`jQuery UI`库放在我正在使用的网站的所有页面上。为了实现这一点，我将制作自​​定义 javascript 函数以使用`jQuery UI`Autocomplete 和 Datepicker 等小部件，在这些函数中，我将检查`jQuery UI`库是否已加载，如果没有则加载它们。我已经为 Autocomplete 和 Datepicker 实现了这一点，但如果在同一页面上运行这两个函数，它们将无法工作，因为我的`jQuery UI`库检查并不完全正常。

有人知道这样做的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T03:34:57.517

自动完成不是定义为 jquery 扩展的一部分吗？我认为你应该检查：

```
$.fn.autocomplete 
```

由于您调用 $('element').autocomplete(); 调用插件。

# android - 如何在android中为自定义按钮实现onkeydown事件

> ID：13308622
> 
> 赞同：2
> 
> 时间：2012-11-09T13:04:21.060
> 
> 标签：android, button, user-interface, onclick

我在布局中定义了一个按钮，我实现了 onclick 按钮没有问题，但现在我需要知道我的按钮何时是向下和向上的，比如财政按钮的 onkeydown 事件。海关按钮有类似的东西？？？因为 onKeyDown (int keyCode, KeyEvent event) 有一个 int 键码，但 muy 自定义按钮没有。我希望有人可以取消该查询。先感谢您

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-09T16:27:20.953

就在这里。试试这个代码。

```
 yourButton.setOnTouchListener(new OnTouchListener() {

        public boolean onTouch(View v, MotionEvent event) {

               switch ( event.getAction() ) {
                case MotionEvent.ACTION_DOWN: break;
                case MotionEvent.ACTION_UP: break;
                }
                return true;
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:47:56.710

我想，你可以尝试这样的事情：

```
public class MainActivity extends Activity {

    private Button button ;
    private Boolean buttonState = false;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        button = (Button) findViewById(R.id.button1);

        button.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                buttonState = !buttonState;
                if(buttonState){
                    button.setText("Down");
                } else {
                    button.setText("Up");
                }               
            }
        });
    }

} 
```

# php - li3 中是否有可能不区分大小写的路由？

> ID：13308624
> 
> 赞同：1
> 
> 时间：2012-11-09T13:04:24.413
> 
> 标签：php, case-sensitive, lithium

我想在 Lithium 创建一条路线，它匹配

*   /abc
*   /abC
*   /aBc
*   等等

到目前为止，我有这样的事情：

```
Router::connect('/abc', array('Example::test')); 
```

是否有可能将其更改为不区分大小写的内容。

感谢您的帮助，我在文档中找不到任何东西。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T00:25:42.897

对象的模式参数`Route`允许您定义不区分大小写的模式（如 Nils 的另一个答案中所述）。

我想指出，您还可以使用`Router::formatters`and规则来实现路由`Dispatcher`的一般不区分大小写。`'/{:controller}/{:action}'`它并不完美，但您可能会发现它很有帮助：

```
use lithium\action\Dispatcher;
use lithium\net\http\Router;
use lithium\util\Inflector;

/**
 * The following Router and Dispatcher formatters keep our
 * urls case-insensitive and nicely formatted using
 * lowercase letters and dashes to separate camel cased
 * controller and action names.
 *
 * Note that actions set in the routes file are also
 * passed through the Dispatcher's rules.  Therefore, we check if
 * there is a dash in the action before lower casing it to make it
 * case-insensitive.  For most of the framework and php, case sensitivity
 * is not an issue.  However, the templates are derived from the action
 * and controller names and case-sensitive file systems will cause
 * differences in case to not find the correct template.
 *
 * This solution is not complete.  It does not account for case sensitivity
 * with controller names (because lithium's default handling doesn't touch
 * the case of it and we're not overriding the default controller handling
 * since it does at least camelize the controller).  It also doesn't account
 * for one word actions because they don't contain a dash.  What probably needs
 * happen is the Dispatcher needs a formatter callback specifically for
 * translating urls.
 */
$slug = function($value) {
    return strtolower(Inflector::slug($value));
};
Router::formatters(array(
    'controller' => $slug,
    'action' => $slug
));
Dispatcher::config(array('rules' => array(
    'action' => array('action' => function($params) {
        if (strpos($params['action'], '-')) {
            $params['action'] = strtolower($params['action']);
        }
        return Inflector::camelize($params['action'], false);
    })
))); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T16:07:06.577

你应该可以这样做：

```
Router::connect('/{:dummy:[aA][bB][cC]}', array('Example::test')); 
```

编辑：通过自己创建 Route 对象，还有一种更好的方法

```
Router::connect(new Route(array(
        'pattern' => '@^/ab?$@i',
        'params' => array('controller' => 'example', 'action' => 'test'),
        'options' => array('compile' => false, 'wrap' => false)
))); 
```

如果我打破 '@^/ab?$@i' 上方的模式

*   @ == 正则表达式的开始
*   ^ == 行首
*   /ab == 寻找“/ab
*   ? == 可选斜杠
*   $ == 行尾
*   @ == 正则表达式结束
*   i == 使其不区分大小写

你可以在这里找到更多信息：http: [//li3.me/docs/lithium/net/http/Route](http://li3.me/docs/lithium/net/http/Route)

# javascript - 将 couchdb 复制过滤器从 javascript 转换为 erlang

> ID：13308628
> 
> 赞同：1
> 
> 时间：2012-11-09T13:04:28.687
> 
> 标签：javascript, erlang, couchdb

我在 JavaScript 中有一个复制过滤器，运行速度太慢，[有人建议](https://stackoverflow.com/questions/13195302/couchdb-filtered-replication-can-the-speed-be-improved)我尝试用 erlang 重写它。

我已经设置了环境，并且能够在蒲团“temp_view”对话框中成功执行简单的 erlang 视图，但是我没有运气将我的 JavaScript 函数转换为 erlang。

谁能建议如何最好地用erlang重写以下内容？任何帮助将不胜感激。

```
function(doc, req) {
    if (doc.date && doc.user_id && (doc.user_id == req.query.userid) && (doc._id.indexOf(\"_design\") != 0)){
        var doc_month = "" + doc.date[1];
        if(doc_month.length == 1) {
            doc_month = "0" + doc_month;
        }
        var doc_day = "" + doc.date[2];
        if(doc_day.length == 1) {
            doc_day = "0" + doc_day;
        }
        var req_month = "" + req.query.month;
        if(req_month.length == 1) {
            req_month = "0" + req_month;
        }
        var req_day = "" + req.query.day;
        if(req_day.length == 1) {
            req_day = "0" + req_day;
        }
        var doc_datestring = doc.date[0] + "-" + doc_month + "-" + doc_day;
        var req_datestring = req.query.year + "-" + req_month + "-" + req_day;

        return (doc_datestring >= req_datestring);
    } else {
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T00:39:58.447

我刚刚写完一些我认为类似于你的 javascript 函数的东西。我的文档中有一年和一个月的字段 - 都表示为整数。

这就是我最终的结果：

```
 {
   "_id": "_design/fast_segmenting",
   "language": "erlang",
   "filters": {
       "by_year_month": "... see below for erlang function ..."
   }
} 

```

有点难看，所以这里是更好格式的 Erlang 过滤器函数：

```
 fun({Doc}, {Req}) -> 
    {Query} = proplists:get_value((<<\"query\">>, Req), 
    Month = list_to_integer(binary_to_list(proplists:get_value((<<\"month\">>, Query))), 
    Year = list_to_integer(binary_to_list(proplists:get_value((<<\"year\">>, Query))), 

    case {proplists:get_value((<<\"pubMonth\">>, Doc), proplists:get_value((<<\"pubYear\">>, Doc)} of 
        {Month, Year} -> true; 
        _ -> false 
    end 
end. 

```

最有趣的是发现 Query 对象中的值是 Erlang 中的二进制文件，这就是我们需要将它们转换为整数的原因。

# android - Android：使用foursquare api获取关于签到地点的评论

> ID：13308629
> 
> 赞同：0
> 
> 时间：2012-11-09T13:04:33.490
> 
> 标签：android, comments, foursquare, checkin

我可以使用 [https://api.foursquare.com/v2/users/USER_ID/checkins/?oauth_token=ACCESS_TOKEN&v=20121109](https://api.foursquare.com/v2/users/USER_ID/checkins/?oauth_token=ACCESS_TOKEN&v=20121109)检索我的签到地点。

这个 api 返回关于我在 json fromat 上签到地点的所有信息，除了签到地点下的评论。结果只显示评论总数，但不显示评论。

但我需要评论。请帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:27:57.030

您可以使用签到 id 来检索签到的完整详细信息和评论： [https ://api.foursquare.com/v2/checkins/CHECKIN_ID?oauth_token=OAUTH_TOKEN&v=20121109](https://api.foursquare.com/v2/checkins/CHECKIN_ID?oauth_token=OAUTH_TOKEN&v=20121109)

API端点：[https ://api.foursquare.com/v2/checkins/CHECKIN_ID](https://developer.foursquare.com/docs/checkins/checkins)

回复包括以下评论：

```
 comments: {
  count: 1
  items: [
  {
   id: "..."
   createdAt: ...
   user: {
    id: "..."
    firstName: "..."
    lastName: "..."
    relationship: "self"
    photo: {
     prefix: "https://irs2.4sqi.net/img/user/"
     suffix: "..."
    }
   }
   text: "Hello that is a comment"
  }
  ]
 } 
```

# c++ - 运行 C++ 应用程序后出现 SQLite 控制台

> ID：13308633
> 
> 赞同：1
> 
> 时间：2012-11-09T13:04:44.680
> 
> 标签：c++, sqlite

我的问题是，当我运行主 .cpp 文件时，会出现 SQLite 控制台并等待命令，而不是在代码中执行操作并产生一些输出。问题是什么？好的，代码只是一个测试，以确保一切正常：

```
#include "sqlite3.h"
#include "stdafx.h"
#include <iostream>
#include <string>
using namespace std;

int _tmain(int argc, _TCHAR* argv[])
{
sqlite3 *database;
sqlite3_open("Database.sqlite", &database);
sqlite3_stmt *statement;

if (sqlite3_prepare_v2(database, "CREATE TABLE a (b INTEGER, c INTEGER);", -1, &statement, 0) == SQLITE_OK) {
    int cols = sqlite3_column_count(statement);
    cout << cols;

    int result = sqlite3_step(statement);
}
return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-17T21:33:37.637

不要将 sqlite 的 shell.c 包含到您的项目中。

# regex - 不同号码范围的以色列邮政编码的正则表达式

> ID：13308634
> 
> 赞同：2
> 
> 时间：2012-11-09T13:04:50.323
> 
> 标签：regex

我正在尝试为以下数字范围生成正则表达式...

我必须将 00001 或 0000001 作为起始编号

```
ISRAEL  NNNNN   00001   99999
        NNNNNNN 0000001 9999999 
```

我正在尝试使用这个正则表达式：`^0*[0-9]{5}$|^0*[0-9]{7}$`

但它在以下情况下失败。它接受这些不应该的数字。

```
0100012
000010121 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T14:35:07.857

我认为 OP 试图问的是如何编写一个正则表达式，以确保在所有 5 或 7 位数字中至少有一个非零（可能邮政编码不能全为零）。

显然，使用正则表达式更容易做到这一点。解析整数，看看它是大于零还是小于 100000 或 1000000，你就完成了。当然，如果你想强制你的用户在代码前面输入额外的零……那是你的选择。用户现在满足更奇怪的要求。

但是，如果您对任务的复杂性感到挑战，并希望不惜一切代价使用正则表达式来完成，那么您可以这样做：

```
^(?:0*[1-9]0*)+$ 
```

这将确保字符串的所有字符都是数字，并且其中至少有一个是非零的。另外检查字符串的长度，您会确定它是等于 7 还是 5。（这是一种相对简单的方法）。

艰难的道路：

```
^\d{4}[1-9]|\d{3}[1-9]\d|\d{2}[1-9]\d{2}|\d[1-9]\d{3}|[1-9]\d{4}$ 
```

*（这是针对 5 位邮政编码的，欢迎您尝试将其扩展到 7 位邮政编码）*：P

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:32:04.257

从您的问题中无法判断是否包含前导数字，所以这里有两个版本：

包括领先的数字：

```
^(00)?0{4}1\s+[0-9]{5}([0-9]{2})?$ 
```

没有前导数字：

```
^[0-9]{5}([0-9]{2})?$ 
```

*   `(00)?0{4}1`表示“2 可选`0`然后 4`0`则`1`”
*   `[0-9]{5}([0-9]{2})?`表示“5 位数字，然后 2 位可选数字”

# java - servlet（java）中的编码

> ID：13308637
> 
> 赞同：0
> 
> 时间：2012-11-09T13:04:59.717
> 
> 标签：java, servlets

我，下面的 servlet 代码不显示字符，放置它们，他说这样的话：п»ї СЂС€РЅС€РЅС‰ РѕР»СЂСЂС€С€。你能帮忙解决一下吗，我将不胜感激，我是java初学者，所以你可以把编码的代码发给我一切都很好，建议使用：

```
.getBytes("UTF-8"); 
```

这是代码：

```
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class servlet extends HttpServlet {
    /**
     * 
     */
    private static final long serialVersionUID = 1L;

    public static List<String> getFileNames(File directory, String extension) {

        List<String> list = new ArrayList<String>();
        File[] total = directory.listFiles();
        for (File file : total) {
            if (file.getName().endsWith(extension)) {
                list.add(file.getName());
            }
            if (file.isDirectory()) {
                List<String> tempList = getFileNames(file, extension);
                list.addAll(tempList);          
            }
        }
        return list;
    }

@SuppressWarnings("resource")
        protected void doPost(HttpServletRequest request, HttpServletResponse response) 
                throws ServletException, IOException{ 
                request.setCharacterEncoding("utf8");
                response.setContentType("text/html; charset=UTF-8");
                String myName = request.getParameter("text");

                List<String> files = getFileNames(new File("C:\\Users\\vany\\Desktop\\test"), "txt");
                for (String string : files) {
                if (myName.equals(string)) {
                       try {
                            File file = new File("C:\\Users\\vany\\Desktop\\test\\" + string);
                            FileReader reader = new FileReader(file);
                            int b;
                            PrintWriter writer = response.getWriter();
                            writer.print("<html>");
                            writer.print("<head>");
                            writer.print("<title>HelloWorld</title>");
                            writer.print("<body>");
                            writer.write("<div>");
                            while((b = reader.read()) != -1) {
                                writer.write((char) b);
                            }
                            writer.write("</div>");
                            writer.print("</body>");
                            writer.print("</html>");

                        } 
                       catch (Exception ex) {

                        }
                    }

                }
               }
        } 
```

我解决了所有问题，关闭所有大问题谢谢。特别感谢@BalusC 给他加分）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:30:16.607

这个问题是双重的。

首先，您忘记设置响应编码。这样，响应是使用服务器平台默认编码编写的。在将任何位写入响应*之前*添加以下行。

```
response.setCharacterEncoding("UTF-8"); 
```

其次，您正在使用服务器平台默认编码读取文件。

```
FileReader reader = new FileReader(file); 
```

您应该使用明确指定的编码读取文件。这可以通过`InputStreamReader`.

```
Reader reader = new InputStreamReader(new FileInputStream(file), "UTF-8"); 
```

### 也可以看看：

*   [Unicode - 如何让字符正确？](http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html)

* * *

**与具体问题无关**，HTML 代码不属于 servlet。它属于 JSP。

# python - numpy arctan2 错误或使用问题？

> ID：13308639
> 
> 赞同：3
> 
> 时间：2012-11-09T13:05:16.883
> 
> 标签：python, numpy, python-2.7

我正在将一些函数从 Excel 电子表格翻译成 python。我需要根据 numpy 文档使用 atan2，它是 arctan2： [arctan2](http://docs.scipy.org/doc/numpy/reference/generated/numpy.arctan2.html)。问题是这两个结果甚至不接近：

```
oc = 23.4384863405
sal = 89.7814630647
sra = np.arctan2(np.cos(np.deg2rad(sal)),
         np.cos(np.deg2rad(oc))*np.sin(np.deg2rad(sal)))
results: Excel = 1.566714757 Numpy = 0.00415720646  ?? 
```

我相信 Excel 结果是正确的。这是错误的numpy。

现在要么我没有正确使用 arctan2，要么 atan2 不是 numpy 中的 arctan2，要么 numpy 中存在错误，要么我完全迷失在这里。

我正在使用 python 版本 2.7.2 和 numpy 1.6.2

请问有什么想法吗？谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-09T13:18:06.353

From the [Excel docs](http://office.microsoft.com/en-ca/excel-help/atan2-HP005208991.aspx):

> The syntax for the ATAN2 function is:
> 
> ATAN2( x-coordinate, y-coordinate )

From the [numpy docs](http://docs.scipy.org/doc/numpy/reference/generated/numpy.arctan2.html):

> numpy.arctan2(x1, x2[, out])
> 
> Element-wise arc tangent of x1/x2 choosing the quadrant correctly.
> 
> The quadrant (i.e., branch) is chosen so that arctan2(x1, x2) is the signed angle in radians between the ray ending at the origin and passing through the point (1,0), and the ray ending at the origin and passing through the point (x2, x1). (Note the role reversal: the “y-coordinate” is the first function parameter, the “x-coordinate” is the second.)

They take their arguments in opposite order. Thus:

```
In [31]: arctan2(cos(deg2rad(sal)), cos(deg2rad(oc))*sin(deg2rad(sal)))
Out[31]: 0.0041572064598812417

In [32]: arctan2(cos(deg2rad(oc))*sin(deg2rad(sal)), cos(deg2rad(sal)))
Out[32]: 1.5666391203350154 
```

# javascript - 如何从 highstocks 图表中禁用范围选择器

> ID：13308643
> 
> 赞同：11
> 
> 时间：2012-11-09T13:05:22.163
> 
> 标签：javascript, highcharts, highstock

我正在尝试禁用 highstocks 中默认提供的从 - 到范围选择器。查阅了 api 文档，但没有找到解决方案。感谢您的支持！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-09T13:58:03.960

在您的图表配置中，设置为[`rangeSelector.inputEnabled`](https://api.highcharts.com/highstock/rangeSelector.inputEnabled)false。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2017-12-31T12:33:42.043

接受的答案只会禁用范围选择器；

如果你想完全删除它，你需要：

```
 rangeSelector: {
    enabled: false
}, 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2016-09-01T09:36:09.287

您可以使用添加 inputEnabled:false

```
rangeSelector : {
   inputEnabled:false
}, 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-09-02T06:37:56.180

您可以使用 StockChart，如下所示：

```
this.chartData = new StockChart({
  title: {
    text: 'Data Chart'
  },
  rangeSelector: {
    selected: 0,
    inputEnabled: false
  },
  series: [{
    tooltip: {
      valueDecimals: 2
    },
    name: 'Chart',
    data: [],
    type: undefined
  }]
}); 
```

# jquery - 从外部 JSON 填充 JPlayer 播放列表：没有结果

> ID：13308645
> 
> 赞同：0
> 
> 时间：2012-11-09T13:05:32.007
> 
> 标签：jquery, json, getjson, html5-audio, jplayer

我的 jplayer 脚本有问题。我需要 jplayer 播放从 json 文件构建的播放列表。这是一个带有一条轨道的示例 json 输出：

```
{
data: {

  tracks:[
    {
    id: 8678,

    title: "Show Me",

    slug: "show-me",

    url:{youtube: "",buy: ""},

    audio:[{url: "track1.mp3",format_name: "MP3",mime_type: "audio/mpeg",}],

    image:{original: "https://d25jn4u0zlr7r6.cloudfront.net/album/8/8/iroking_tP08851bc807e123178fd1e33d98.jpg"},
     }
        ]
     }
} 
```

这是我应该填充播放列表的脚本，但它不起作用。现在它会复制所有数据，但我希望它只获取标题、图像和音频 url。

```
<script type="text/javascript">
$(document).ready(function(){
var cssSelector = {
    jPlayer: "#jquery_jplayer_1", 
    cssSelectorAncestor: "#jp_container_1"
};
var playlist = []; // Empty playlist
};
var myPlaylist = new jPlayerPlaylist(cssSelector, playlist, options);
$.getJSON("https://api.server.com/2/radio/6/tracks?key=********************",

function(data){  // get the JSON array
    $.each(data,function(index,value){
        myPlaylist.add(value); // add each element in data in myPlaylist
    })
}); 
});
</script> 
```

任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T20:13:40.537

您需要更改此代码

```
$.getJSON("https://api.server.com/2/radio/6/tracks?key=********************",

function(data){  // get the JSON array
    $.each(data,function(index,value){
        myPlaylist.add(value); // add each element in data in myPlaylist
    })
}); 
```

**到这个代码**

```
$.getJSON("https://api.server.com/2/radio/6/tracks?key=********************",

function(data){  // get the JSON array
    $.each(data['data'].tracks, function(index,value){
        myPlaylist.add({
            title: value.title,
            artist: value.slug,
            mp3: value.audio[0].url,
            poster: value.image.original
        });
    })
}); 
```

# php - 从 Apache 下载的 Zip 文件 - 在 Ubuntu 中正常，在 Windows 7 中无效

> ID：13308648
> 
> 赞同：2
> 
> 时间：2012-11-09T13:05:42.180
> 
> 标签：php, windows, apache, zip

我正在尝试动态创建一个 zip 存档，以便从网站下载。这必须通过我们客户的最小努力来实现（例如，不安装特殊的解压实用程序）。事件的顺序是：

*   收集/创建了一堆文件。
*   PHP (v2.2) 使用 shell_exec() 调用 linux zip (v2.31) 将文件归档到单个文件。
*   PHP 发送标头如下（通过 Apache v2.2.22）：

    ```
    Content-Type: application/zip
    Content-Length: (whatever)
    Content-Disposition: attachment; filename="whatever.zip"
    Content-Transfer-Encoding: binary 
    ```

*   PHP 使用 readfile 将文件发送到浏览器。

收到的 zip 文件可以使用 Ubuntu 附带的 Archive Manager 实用程序轻松打开；但是，当使用 Firefox（最新版本）下载到 Windows 7 并作为普通压缩文件夹打开时，它会报告该文件无效。

原始 zip 文件与下载版本的比较表明，*两个*下载版本都有一个额外的 16 字节标头，如下所示：

```
2f3c 6f62 7964 0a3e 2f3c 7468 6c6d 0a3e 
```

但在其他方面是相同的。

此标头绝对是导致 zip 文件在 Windows 上失败的原因：当原始文件通过网络共享传输时，Windows 能够毫无困难地打开它。

标题似乎没有添加到其他下载的文件（当然不是 PDF）。

我的第一个想法是 Apache 正在对流进行 gzip 编码，但甚至没有安装相关模块（并且接收到的标头没有提及任何压缩）。同样，为 .zip 扩展名添加显式 asis 处理程序也没有效果。

提前感谢您提供的任何建议或帮助！

# php - move_uploded_file 问题

> ID：13308651
> 
> 赞同：-1
> 
> 时间：2012-11-09T13:05:49.163
> 
> 标签：php

我试图弄清楚文件上传系统如何在 PHP 中工作。我的代码是：

```
if(isset($_FILES['profile_pic'])){
    $allowed_ext= array('jpg','jpeg','png','gif');
    $file_name = $_FILES['profile_pic']['name'];
    $file_ext = strtolower(end (explode('.',$file_name)));
    $file_size = $_FILES['profile_pic']['size'];
    $file_tmp = $_FILES['profile_pic']['tmp_name'];
    if(in_array($file_ext, $allowed_ext) === false || $file_size > 2000000){
        $display_block = 'display:block !important';
        $pic_errors ='<p>*  File format JPG, JPEG, GIF or PNG</p> <p>*  Smaller 1Mb</p>';
    } else {
        move_uploaded_file($file_tmp, '/members/');
        echo 'uploaded..';
    }
}//if(isset($_FILES['profile_pic'])) 
```

有了权限，一切似乎都很好。

我得到的错误是：

> 警告：move_uploaded_file(/members/) [function.move-uploaded-file]：无法打开流：是第 116 行 /home/a6671212/public_html/settings.php 中的目录

如何修复此错误？

谢谢大家..

据我了解，我有两个问题..

1.  正如@Prisoner 所写.. move_uploaded_file($file_tmp, '/members/'); - 我没有在 /members/ 后面写文件名

2.  正如@Ketan Patel 所写，

如果我可以这样说，该功能应该更改为另一种格式。

move_uploaded_file($file_tmp, "/members/$file_name"); - 双引号...

有效！！！！！！！！谢谢你！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:08:19.913

您必须定义一个文件名，例如：

```
move_uploaded_file($file_tmp, 'members/filename.ext'); 
```

或者，在您的情况下：

```
move_uploaded_file($file_tmp, 'members/'.$file_name); 
```

另外，/members/ 是一个目录（在文件系统的根目录中）吗？如果不是，请使用成员目录的相对或绝对路径。编辑：从错误来看，我猜 /members/ 是一个目录，所以这应该可以正常工作：

```
move_uploaded_file($file_tmp, '/members/'.$file_name); 
```

不要忘记先检查文件是否存在，否则`move_uploaded_file`会覆盖旧文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:08:43.607

该函数的[`move_upload_file()`](http://php.net/manual/en/function.move-uploaded-file.php)工作方式类似于 unix 命令`mv`。您必须指定目标文件路径。

将您的代码行更改为此，它应该可以工作：

```
move_uploaded_file($file_tmp, './members/' . $file_name); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:09:11.177

尝试改变

```
move_uploaded_file($file_tmp, '/members/'); 
```

到

```
move_uploaded_file($file_tmp, 'members/' . $filename); 
```

（删除第一个斜杠并添加文件名）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T13:10:34.887

你使用这个功能

```
 move_uploaded_file($tmp_name, "$uploads_dir/$name"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T13:10:35.927

```
move_uploaded_file($file_tmp, '/members/' . $fileName); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-09T13:16:39.933

尝试改变

move_uploaded_file($file_tmp, '/members/'); 在 move_uploaded_file($file_tmp, 'members/' + $filename);

并确保使用 chamod 设置权限。chmod -R 0755 成员。还要确保您的应用程序可以访问 $file_temp 位置和读/写权限

# sql - IIS 连接到 LocalDB

> ID：13308654
> 
> 赞同：14
> 
> 时间：2012-11-09T13:05:59.180
> 
> 标签：sql, windows, iis, localdb

有什么方法可以让 IIS 无需使用`NT SERVICE\NETWORK SERVICE`用户帐户即可连接到 LocalDB。

此帐户没有合适的权限。我正在寻找使用其他默认帐户，或者有什么方法可以在`NETWORK SERVICE`不更改权限的情况下使用该帐户？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-09T17:43:50.480

您应该使用 LocalDB 的共享实例功能。这两篇关于将 LocalDB 与完整 IIS 结合使用的文章应该为您提供更多信息。特别是第二部分似乎相关，但第一部分也包含一些上下文。

（注意：原始链接不再可用，请改用archive.org）

1.  [第 1 部分：用户资料](https://web.archive.org/web/20190113153530/https://blogs.msdn.microsoft.com/sqlexpress/2011/12/08/using-localdb-with-full-iis-part-1-user-profile/)
2.  [第 2 部分：实例所有权](https://web.archive.org/web/20190119164902/https://blogs.msdn.microsoft.com/sqlexpress/2011/12/08/using-localdb-with-full-iis-part-2-instance-ownership/)

原始（截至 2019 年 3 月无效）链接：

1.  [第 1 部分：用户资料](http://blogs.msdn.com/b/sqlexpress/archive/2011/12/09/using-localdb-with-full-iis-part-1-user-profile.aspx)
2.  [第 2 部分：实例所有权](http://blogs.msdn.com/b/sqlexpress/archive/2011/12/09/using-localdb-with-full-iis-part-2-instance-ownership.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2021-02-26T15:58:15.103

### 如果链接再次消失，我将从文章中复制粘贴解决方案以便于访问：

## 帖子 1：

我们面临的问题是需要加载用户配置文件。这应该不难，因为每个 IIS 应用程序池都有一个名为“**加载用户配置文件**”的选项，可以在**“高级设置”**部分找到。不幸的是，Windows 7 的 Service Pack 1 中的情况稍微复杂了一些。如 KB 2547655 中所述，启用**loadUserProfile**不足以完全加载用户配置文件，我们还需要启用**setProfileEnvironment**。这需要编辑**applicationHost.config**文件，该文件通常位于 C:\Windows\System32\inetsrv\config。按照 KB 2547655 中的说明，我们应该为应用程序池 ASP.NET v4.0 启用这两个标志，如下所示：

```
<add name="ASP.NET v4.0" autoStart="true" managedRuntimeVersion="v4.0" managedPipelineMode="Integrated">
<processModel identityType="ApplicationPoolIdentity" loadUserProfile="true" setProfileEnvironment="true" />
</add> 
```

完成后，我们重新启动应用程序池以确保应用新设置并再次运行我们的 Web 应用程序。

**我这边的注意事项：** 只需在该 applicationHost 文件中找到“applicationPools”标签并将这两个变量更新为 true，它看起来像这样：

```
<processModel identityType="ApplicationPoolIdentity" loadUserProfile="true" setProfileEnvironment="true" /> 
```

就是这样，保存文件并重新启动 IIS 池。

## 帖子 2：

### 私有实例的问题

如我们所见，我们面临以下错误：

```
System.Data.SqlClient.SqlException: Cannot open database "OldFashionedDB" requested by the login. The login failed.
Login failed for user 'IIS APPPOOL\ASP.NET v4.0'. 
```

这一次错误很明显。LocalDB 已启动并且 Web 应用程序能够连接到它，但连接随后由于登录失败而终止。IIS 应用程序池的 ApplicationPoolIdentity 帐户（在本例中为**IIS APPPOOL\ASP.NET v4.0**）无法登录到 LocalDB 实例，因为未找到连接字符串 ( **OldFashionedDB ) 中指定的数据库。**多么奇怪，因为使用相同的连接字符串从 Visual Studio 连接成功！

Visual Studio 怎么可能很好地连接到 LocalDB，而来自 Web 应用程序的连接失败？在这两种情况下，连接字符串如下：

```
Data Source=(localdb)\v11.0;Initial Catalog=OldFashionedDB;Integrated Security=True 
```

答案是这里有**两个**不同的 LocalDB 实例。与作为 Windows 服务运行的 SQL Server Express 实例不同，LocalDB 实例作为用户进程运行。当不同的 Windows 用户连接到 LocalDB 时，他们最终会为每个用户启动不同的 LocalDB 进程。当我们连接到**(localdb)\v11.0**从 Visual Studio 中，为我们启动了一个 LocalDB 实例并作为我们的 Windows 帐户运行。但是，当在 IIS 中作为 ApplicationPoolIdentity 运行的 Web 应用程序连接到 LocalDB 时，会为其启动另一个 LocalDB 实例并作为 ApplicationPoolIdentity 运行！实际上，即使 Visual Studio 和 Web 应用程序都使用相同的 LocalDB 连接字符串，它们也会连接到不同的 LocalDB 实例。显然，在我们的 LocalDB 实例上从 Visual Studio 创建的数据库在 Web 应用程序的 LocalDB 实例中将不可用。

一个很好的类比是Windows 中的**My Documents**文件夹。假设我们打开 Visual Studio 并在**我的文档**文件夹中创建一个文件。然后我们以不同的用户身份登录到同一台机器并再次转到**我的文档**文件夹。我们不会在那里找到该文件，因为第二个用户的我的文档和我们的**我的文档**是两个不同的文件夹。同样，由两个不同用户拥有的 LocalDB 实例**(localdb)\v11.0**是具有两组不同数据库的两个不同进程。

这也是 Web 应用程序能够从 IIS Express 连接到 LocalDB 的原因。就像 LocalDB 一样，IIS Express 是一个用户进程。它由 Visual Studio 启动，并以与 Visual Studio 进程相同的 Windows 帐户运行。**连接到(localdb)\v11.0**的两个不同进程以同一个 Windows 帐户运行（Visual Studio 和 IIS Express，都作为我们的 Windows 帐户运行）正在连接到同一个 LocalDB 进程，也以同一个 Windows 帐户启动。

### 可能的解决方案

了解问题的本质带来了多种解决问题的方法。由于不同的方法有不同的权衡，而不是规定一种解决方案，下面我介绍了三种对我来说似乎最可行的方法。我希望听到你关于最适合你的那个！这是列表：

[方法 1：以我们的 Windows 用户身份运行 IIS](https://web.archive.org/web/20190119164835/https://blogs.msdn.microsoft.com/sqlexpress/2011/12/08/using-localdb-with-full-iis-part-2-instance-ownership/#OurIIS)
[方法 2：使用 LocalDB 共享实例](https://web.archive.org/web/20190119164835/https://blogs.msdn.microsoft.com/sqlexpress/2011/12/08/using-localdb-with-full-iis-part-2-instance-ownership/#SharedLocalDB)
[方法 3：使用完整的 SQL Server Express](https://web.archive.org/web/20190119164835/https://blogs.msdn.microsoft.com/sqlexpress/2011/12/08/using-localdb-with-full-iis-part-2-instance-ownership/#UseSSE)

让我们仔细看看它们中的每一个。

### 方法 1：以我们的 Windows 用户身份运行 IIS

如果不同的用户帐户是问题所在，为什么不尝试在我们的 Windows 帐户下运行我们的 Web 应用程序呢？Web 应用程序将连接到与 Visual Studio 相同的 LocalDB，一切都应该正常工作。

进行配置更改相对容易，只需启动 IIS 管理器并找到正确的应用程序池：

打开**高级设置**屏幕（在上下文菜单中可用）：

**单击Identity**属性中的小按钮以显示**Application Pool Identity**屏幕：

再次启动 Web 应用程序将确认问题已解决：

这种方法的缺点是什么？当然，在我们的账户下运行 Web 应用程序会带来一定的安全风险。如果有人劫持了我们的 Web 应用程序，他们将能够访问我们帐户可以访问的所有系统资源。将 Web 应用程序作为 ApplicationPoolIdentity 运行可提供额外的保护，因为 ApplicationPoolIdentity 帐户对本地系统资源的访问权限非常有限。因此，我一般不能推荐这种方法，但如果小心使用，在某些情况下它是一个可行的选择。

### 方法二：使用 LocalDB 共享实例

我们还可以使用 LocalDB 的实例共享功能。它允许我们与同一台机器上的其他用户共享一个 LocalDB 实例。共享实例将以公共名称访问。

共享实例的最简单方法是使用 SqlLocalDB.exe 实用程序。只需启动管理命令行提示符，然后键入以下命令：

```
sqllocaldb share v11.0 IIS_DB 
```

它将以公共名称 IIS_DB 共享私有 LocalDB 实例 v11.0。机器上的所有用户都可以使用 (localdb).\IIS_DB 作为服务器地址连接到该实例。注意 . 在实例名称之前，表示这是一个共享实例名称。我们应该用更新的连接字符串替换我们的 Web 应用程序中的连接字符串：

```
Data Source=(localdb)\.\IIS_DB;Initial Catalog=OldFashionedDB;Integrated Security=True 
```

在 Web 应用程序可以使用共享实例之前，我们需要启动它并为 ApplicationPoolIdentity 创建登录名。启动实例很容易，只需从 SQL Server 对象资源管理器连接到它即可启动它并使其保持活动状态。进入 SQL Server 对象资源管理器后，我们还可以为 ApplicationPoolIdentity 创建登录。我们可以使用以下查询：

```
create login [IIS APPPOOL\ASP.NET v4.0] from windows;
exec sp_addsrvrolemember N'IIS APPPOOL\ASP.NET v4.0', sysadmin 
```

此脚本为 ApplicationPoolIdentity 帐户提供对 LocalDB 实例的完全管理访问权限。只要有可能，我建议使用更有限的数据库级甚至表级权限。

现在我们可以再次运行我们的 Web 应用程序。这次它应该可以正常工作：

这种方法的缺点是什么？主要的一点是，在 Web 应用程序可以连接到共享实例之前，我们需要确保该实例已启动。为此，拥有该实例的 Windows 帐户必须连接到它，并且连接必须保持打开状态，否则 LocalDB 实例将关闭。

### 方法 3：使用完整的 SQL Server Express

由于完整的 IIS 作为服务运行，也许使用传统的、基于服务的 SQL Server Express 是正确的方法？我们可以只安装 SQL Server 2012 Express RC0 并在其中创建 OldFashionedDB 数据库。我们甚至可以使用我们全新的 SQL Server Data Tools 来执行此操作，因为它适用于任何 SQL Server 版本和版本。我们的连接字符串必须更改为：

```
Data Source=.\SQLEXPRESS;Initial Catalog=OldFashionedDB;Integrated Security=True 
```

当然，就像前面的例子一样，我们需要确保 ApplicationPoolIdentity 帐户可以访问我们的 SQL Server Express 实例。我们可以使用与之前相同的脚本：

```
create login [IIS APPPOOL\ASP.NET v4.0] from windows;
exec sp_addsrvrolemember N'IIS APPPOOL\ASP.NET v4.0', sysadmin 
```

之后，运行我们的 Web 应用程序再次带来快乐的画面：

这种方法的缺点是什么？显然我们失去了使用 LocalDB 的好处。安装 SQL Server Express 可能需要比 LocalDB 更多的时间，并且可能需要进行一些机器清理才能使其成功。SQL Server Express 安装程序可能会被损坏的 WMI 数据库、污染的注册表或 SQL Server 或 Visual Studio CTP 和 Beta 留下的组件等问题阻止。即使不需要 SQL Server Express，SQL Server Express 也会继续在后台运行，就像服务一样。

### 其他选项

还有其他在完整 IIS 下使用 LocalDB 的方法，此处未介绍。我们可以使用 Web 应用程序的私有 LocalDB 实例，并通过从 ASP.NET 代码执行 T-SQL 脚本通过 Web 应用程序与它进行通信。我们还可以使用 ADO.NET 连接字符串的 AttachDbFileName 选项，并使用一个数据库文件 (.mdf)，该文件将在开发期间附加到我们的 LocalDB 和 Web 应用程序的 LocalDB 以进行调试。我都试过了，我发现它们太麻烦了，无法进一步讨论。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-12T07:35:18.487

基于@KrzysztofKozielczyk 的回答。

我最初在这里发布了一个答案：

[https://stackoverflow.com/a/62810876/3850405](https://stackoverflow.com/a/62810876/3850405)

在遵循此之后，我验证`Load User Profile`了 my 设置为 true `Application Pool`，然后设置`setProfileEnvironment`为`true`in `applicationHost.config`。我通过`applicationHost.config`位于以下位置的编辑完成了最后一部分：

```
C:\Windows\System32\inetsrv\config\applicationHost.config 
```

[![在此处输入图像描述](../Images/cf87d5a3e6a9d99185114582012dae8b.png)](https://i.stack.imgur.com/yfzvF.png)

# tfs - 如何使用工作流从另一个 TFS 服务器调用构建

> ID：13308655
> 
> 赞同：0
> 
> 时间：2012-11-09T13:05:58.980
> 
> 标签：tfs, workflow-foundation-4

我正在尝试使用工作流从“tfs2”服务器调用“tfs1”服务器上的 2 个构建。我的目标是有一个单一的构建定义，它将抽象团队使用的多个分支。

任何有关跨 TFS 服务器构建调用的信息将不胜感激。

PS：我使用的是 tfs2012。

# xml - 使用 xml 传递特定于文化的双精度值

> ID：13308658
> 
> 赞同：1
> 
> 时间：2012-11-09T13:06:03.620
> 
> 标签：xml, cultureinfo

我一直在寻找可以帮助我解决当前在使用 WPF 和 Silverlight 的 MVVM Prism 设置中的文化问题的东西。

我们的设置要求我们有一个使用 en-gb 文化和 us-english 数据库语言设置的中央服务器，Silverlight 系统使用它没有问题，因为我们通过向服务传递用户 CultureInformation 来处理文化差异调用允许我们使用 double.parse(value, userCulture) 处理 XML 中的值，这也允许我们将值传回。我们还支持具有自己的本地数据库的软件的离线版本，该数据库与在线版本共享数据子集，这是使用软件内部更新功能进行更新的。

如果我从我的数据库中检索 XML 数据，则它采用以下示例格式

```
<code>
<Pipe>
 <RowNumber>1</RowNumber>
 <Standard>Schedule</Standard>
 <Size>125</Size>
 <DN>DN125</DN>
 <TransDN>DN125</TransDN>
 <Inches>5"</Inches>
 <Designation>40</Designation>
 <IntDia>128.20</IntDia>
 <OutDia>141.30</OutDia>
 <Wall>6.5500</Wall>
 <Area>1.290820730000000e002</Area>
</Pipe>
</code> 
```

这会导致以下两种情况出现问题：如果用户在本地运行软件，他们将直接访问 dll，并可能尝试使用机器本地文化设置解析上述数值。以西班牙为例，这将反转数字字段中`,`和`.`值的使用。这导致 IntDia 值返回为 12820,00。

每次我想检索 XML 数据时，我都可以指定详细信息，但是我想知道是否有更简洁的方法来处理这种情况，以便我们可以以正确的文化返回 xml 数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T16:09:06.390

万一将来有人遇到这个问题，我必须找到另一种方法。

相反，我选择在单独的线程下运行服务，在该线程中我可以将 Threads 文化指定为 CultureInvariant

```
 var task = Task.Factory.StartNew(() =>
        {
            Thread.CurrentThread.Name = "GetDetailsAsync";
            Thread.CurrentThread.CurrentCulture = CultureInfo.InvariantCulture;

            var uD = details.GetDetails(userName, password, cultureDetails);
            this.dispatcher.BeginInvoke((Action)
                (() => completedAction.Invoke(this, new GetDetailsCompletedEventArgs(new object[] { uD }, null, false, null))));
        });

        task.ContinueWith(
            s =>
            {
                task.Dispose();
                Debug.WriteLine("GetDetailsAsync thread disposed.");
            }); 
```

# javascript - 当我在菜单上移动时显示一个 div

> ID：13308662
> 
> 赞同：0
> 
> 时间：2012-11-09T13:06:25.810
> 
> 标签：javascript, asp.net, html

我有一个带有 C# 应用程序的 ASP.Net。我想要一个菜单​​，当我在菜单上使用鼠标时，我想显示一个 div，其中我有一些信息：一个标题，以及两列上的一些其他选项。我写了一个 Javascript 方法，我想让相应的 div 可见，但它找不到我的 div 部分（它总是空的）。

有人可以告诉我有什么问题吗？下面是代码。我是 ASP.Net、Javascript 的初学者。你知道另一种更好的方法吗？（如果你有，请举个例子）

我的 asp.net 页面：

```
 <%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Site.master.cs" Inherits="Sales_Site.SiteMaster" %>

 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head runat="server">
<title></title>
<link href="~/Styles/Site.css" rel="stylesheet" type="text/css" />
 <link href="~/Styles/Menu.css" rel="stylesheet" type="text/css" />
<asp:ContentPlaceHolder ID="HeadContent" runat="server">
</asp:ContentPlaceHolder>

 </head>
 <body>
<form runat="server">
<div class="page">
    <div class="header">
        <div class="menu" >
        <ul id="main-nav">
            <li><a href="Books.aspx" onmouseover="Javascript:Show('Books')">Books</a>
                <div class="main-nav-sectionBooks"  style="width:400px;height:250px;border-color:Blue;display:none;visibility:hidden;">
                    <div class="main-nav-section-left" style="float:left;width:200px;height:100px">
                    Books Categories :
                    <ul><li>Subcateg1</li></ul>
                    <ul><li>Subcateg2</li></ul>
                    <ul><li>Subcateg3</li></ul>
                </div>
                <div class="main-nav-section-right" style="float:right;width:200px;height:100px"></div>
                Test 123 
                </div>
            </li>
            <li><a href="Music.aspx" onmouseover="Javascript:Show('Music')">Music</a>
                <div class="main-nav-sectionMusic" runat="server" style="width:400px;height:250px;border-color:Blue;display:none;visibility:hidden;">
                    <div class="main-nav-section-left" style="float:left;width:200px;height:100px">
                    Music Categories :
                    <ul><li>Subcateg Music 1</li></ul>
                    <ul><li>Subcateg Music 2</li></ul>
                    <ul><li>Subcateg Music 3</li></ul>
                </div>
                <div class="main-nav-section-right" style="float:right;width:200px;height:100px"></div>
                Test 123 
                </div>
             </li>
            <li><a href="Clothing.aspx" onmouseover="Javascript:Show('Clothing')">Clothing</a>
             <div class="main-nav-sectionClothing" runat="server" style="width:400px;height:250px;border-color:Blue;display:none;visibility:hidden;">
                    <div class="main-nav-section-left" style="float:left;width:200px;height:100px">
                    Clothing Categories :
                    <ul><li>Subcateg Clothing 1</li></ul>
                    <ul><li>Subcateg Clothing 2</li></ul>
                    <ul><li>Subcateg Clothing 3</li></ul>
                </div>
                <div class="main-nav-section-right" style="float:right;width:200px;height:100px"></div>
                Test 123 
                </div>
                </li>
        </ul>
        </div>

    </div>
    <div class="main">
        <asp:ContentPlaceHolder ID="MainContent" runat="server"/>
    </div>
    <div class="clear">
    </div>
    <div class="footer">

</div>

</div>
    <script type="text/javascript" language="javascript">
        function Show(type) {
            HideControl("main-nav-sectionBooks");
            HideControl("main-nav-sectionMusic");
            HideControl("main-nav-sectionClothing");

            var ControlName = "main-nav-section" + type;
            alert(ControlName);
            var control = document.getElementById(ControlName);

            if (control) {

                control.style.display = 'block';
                control.style.visibility = 'visible';

            }
            else
                alert("null");

        }

        function HideControl(controlName) {
            var control = document.getElementById(controlName);

            if (control) {
                control.style.display = 'none';
                control.style.visibility = 'hidden';
            }
        }

</script>
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:50:09.903

我会用 CSS 做到这一点：

**示例** [http://jsbin.com/oreqew/1/edit](http://jsbin.com/oreqew/1/edit)

HTML：

```
<div class="page">
    <div class="header">
        <div class="menu" >
        <ul id="main-nav">            
          <li>Books
            <div class="main-nav-sectionBooks"  style="width:400px;height:250px;border:1px solid Blue;">
                  SOMETHING
          </li>           
        </ul>
      </div>
  </div>
 </div> 
```

CSS：

```
.main-nav-sectionBooks{
  display:none;
}

#main-nav li:hover div.main-nav-sectionBooks{
  display:block;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:24:57.837

你的问题很简单，你的元素没有任何“id”值，你有`class`像`class="main-nav-sectionBooks"`. 如果您`id`向元素添加属性，您将成功。此致，

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:11:54.430

你应该给你想要显示ID的div而不是你现在做的类。

```
<div class="main-nav-sectionClothing" runat="server" style... 
```

至

```
<div id="main-nav-sectionClothing" runat="server" style... 
```

那是因为使用您的 Javascript 代码，您试图通过 id 获取页面的元素`getElementById()`。

# java - 为什么 Java Compiler 拒绝编译它？

> ID：13308663
> 
> 赞同：2
> 
> 时间：2012-11-09T13:06:35.640
> 
> 标签：java

为什么 Java 编译器会在 finally 块中引发“局部变量 s 可能尚未初始化”。我无法弄清楚**s**在哪个代码流中仍未初始化。

```
 public static void test() {
    String s;
    try {
        s = "abc";
    } catch (Throwable e) {
        s = "throwable";
    } finally {
        System.out.println(s.getClass()); //---->(The local variable s may not have been initialized)
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T13:08:16.747

java 语言规范的一部分是局部变量必须在使用前显式初始化（​​即在其值被引用之前）。

有些东西`Throwables`会阻止`s`被赋予价值——`OutOFMemoryError`成为其中之一。

给出`s`一个值将解决编译问题：

```
String s = null; 
```

需要显式初始化的原因是局部变量使用堆栈内存，而不是堆内存作为实例变量，并且没有构造阶段为变量提供默认值 - 它必须被编码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T13:09:50.143

如果第 6 行出现 OutOfMemory-Error，则不能在第 8 行使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:09:06.617

这是因为编译器不能保证 100%`try`块中的分配将毫无问题地运行，并且与`catch`块类似。如果两个分配都失败了，`s`当它打印在`finally`不合法的块中时，它仍然是未初始化的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T13:09:33.653

> > 我无法弄清楚 s 在哪个代码流中仍未初始化。

理论上，异常可能会发生在`try/catch`块中，例如`OutOfMemoryException`。`s`为避免这种情况，您可以使用初始化`null`

```
String s = null; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-09T13:12:13.307

基本上，在 s 初始化之前，catch 块中可能会出现新的异常。例如 OutOfMemoryError。

# matlab - 如何从 MATLAB 中的日期单元格数组中提取年份？

> ID：13308669
> 
> 赞同：2
> 
> 时间：2012-11-09T13:06:48.010
> 
> 标签：matlab

我有一个如下的单元格数组，它们是日期。我想知道如何提取最后 4 位数字的年份？谁能教我如何在字符串中找到年份？谢谢！

```
'31.12.2001'
'31.12.2000'
'31.12.2004'
'31.12.2003'
'31.12.2002'
'31.12.2000'
'31.12.1999'
'31.12.1998'
'31.12.1997'
'31.12.2005'
'31.12.2004'
'31.12.2003'
'31.12.2002'
'31.12.2001'
'31.12.2000'
'31.12.1999'
'31.12.1998'
'31.12.2005'
'31.12.2004'
'31.12.2003'
'31.12.2002'
'31.12.2005' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T13:16:10.337

元胞数组示例：

```
A = {'31.12.2001'; '31.12.2002'; '31.12.2003'}; 
```

应用一些正则表达式：

```
B = regexp(A, '\d\d\d\d', 'match')
B = [B{:}]; 
```

**编辑：**在我测试之前，我从未意识到 matlab 会“嵌套”一层额外的单元格。我现在不太喜欢这个解决方案，因为我知道第二行是必要的。这是另一种方法，可以让您以数字形式获取年份：

```
C = datevec(A, 'dd.mm.yyyy');
C = C(:, 1); 
```

**第二次编辑：**令人惊讶的是，如果您的单元格数组的元素少于 10000 个，则该`regexp`方法在我的机器上更快。但它的输出是另一个元胞数组（它比数字矩阵占用更多的内存）。您可以使用`B = cell2mat(B)`来获取字符数组，但这会使两种方法的效率大致相同。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T13:36:28.940

只是为了添加一个有趣的答案，旨在将 OP 带到 Matlab 的陌生区域：

```
C = char(C);
y = (D(:,7:end)-'0') * 10.^(3:-1:0).' 
```

这比其他答案中发布的任何内容都要快一个数量级:)

或者，为了离家近一点，

```
y = cellfun(@(x)str2double(x(7:end)),C); 
```

或者，还有另一种`regexp`变体：

```
y = str2num(char(regexprep(C, '\d+\.\d+\.',''))); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-09T13:09:45.277

假设您的日期矩阵是 M 或单元格数组 C：

如果您的数据位于单元格数组中，请以

```
M = cell2mat(C) 
```

然后获取相关部分

```
Y=M(:,end-4:end) 
```

如果需要，您甚至可以将年份设为数字

```
Year = str2num(Y) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T13:38:38.863

使用正则表达式，这也适用于格式略有不同的日期，例如`1.1.2000`，这可能会弄乱你的偏移量

```
res = regexp(dates, '(?<=\d+\.\d+\.)\d+', 'match') 
```

# visual-studio-2010 - TFS 搁置 - 忘记取消勾选“在本地保留待处理的更改”

> ID：13308673
> 
> 赞同：10
> 
> 时间：2012-11-09T13:07:07.933
> 
> 标签：visual-studio-2010, tfs

我刚刚搁置了一堆更改。我忘了取消勾选“在本地保留待处理的更改”复选框...

我如何才能有效地将我的更改恢复到我开始处理它们之前的状态？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-09T13:21:07.273

只需对您搁置的文件“撤消签出”即可。
（只要您*确定*它们安全地存放在搁板中）

# java - Eclipse 中的 jar 库和单独的 .java 文件

> ID：13308674
> 
> 赞同：0
> 
> 时间：2012-11-09T13:07:16.980
> 
> 标签：java, eclipse

我正在使用 Eclipse 在 java 中编程，我是一个新手，我遇到了以下问题：我有一个使用外部 jar 库的 Eclipse 项目。在这个库中有一个特定的类需要临时修改。我有这个类的源代码。是否可以以某种方式将代码的源文件包含到项目中，以便它将“覆盖”jar 文件中的相应类？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:13:47.453

基本上，在类路径中不可能有两个具有相同签名（包 + 名称）的类，但是可以将这个类导入到您的项目中的不同包中并使用它而不是原始包。解决此问题的另一种方法是通过删除或更改您需要不同的类来编辑 .jar 文件。但是，请注意，更改 API 几乎从来都不是一个好主意。

# jquery - jquery.autocomplete - 路径中的非法字符

> ID：13308677
> 
> 赞同：0
> 
> 时间：2012-11-09T13:07:28.383
> 
> 标签：jquery, ajax, asp.net-mvc-3, autocomplete

我正在使用 jquery.autocomplete 插件，当它发出 Ajax 请求时，它给了我 HTTP 错误代码 500，并且消息正文显示路径中的非法字符。

我正在使用 MVC3，并且我已将 javascript 代码从视图移动到一个单独的脚本文件，该脚本文件在我的 _layout.cshtml 文件中引用。在我移动我的 javascript 之前它可以工作，但现在它没有，我不明白为什么。

**自动完成.js**

```
$(document).ready(function () {
    alert("one");
    $("#group_name").autocomplete('@Url.Action("LookUpGroupName", "UserManager")', // Call LookUpGroupName ActionResult in UserManager Controller
        {
        dataType: 'jsonp',
        parse: function (data) {
            var rows = new Array();
            for (var i = 0; i < data.length; i++) {
                rows[i] = {
                    data: data[i],
                    value: data[i].group,
                    result: data[i].group
                }
            }
            return rows;
        },
        formatItem: function (row, i, max) {
            return row.group;
        },
        width: 300,
        highlight: false,
        multiple: false
    }); // End of autocomplete
    alert("two");
}); 
```

**_Layout.cshtml**

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/themes/base/jquery.ui.autocomplete.custom.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.autocomplete.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/Custom/autocomplete.js")" type="text/javascript"></script>
  <link href="@Url.Content("~/Content/themes/base/jquery.ui.autocomplete.css")" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="page">
        <header>
           <div id="title" >
    <h1 style="color:Black">ALF and BRAD User Manager</h1>
</div>
<div id="logindisplay">
    <span style="color:Black; background-color:white; border-color:Black; border-style:solid; border-width:thin; text-align:right;">
        Logged in as:&nbsp<strong>@Context.User.Identity.Name</strong>
    </span> 
</div>

            <nav>
                <ul id="menu">
                    @Html.ActionLink("Home", "Index", "Home")&nbsp&nbsp
                    @Html.ActionLink("User Management", "Index", "UserManager")&nbsp&nbsp
                    @Html.ActionLink("User Status", "Index", "UserStatus")&nbsp&nbsp
                    @Html.ActionLink("Email Distibution List", "Index", "EmailDistributionList")&nbsp&nbsp
                    @Html.ActionLink("Email User Details", "Index", "EmailUserDetails")&nbsp&nbsp
                </ul>
            </nav>
        </header>
        <section id="main">
            @RenderBody()
        </section>
        <footer>
        </footer>
    </div>
</body>
</html> 
```

**看法**

```
<!-- Declare model to be used for view -->
@model UserManager.Models.vw_UserManager_Model_Add_Users 
@{
    ViewBag.Title = "Create New User";
}
<h2>
    CreateUser</h2>
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>New User Details</legend>
        <div class="editor-label">
            @Html.LabelFor(Model => Model.salutation)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => Model.salutation)
            @Html.ValidationMessageFor(model => Model.salutation)
        </div>
       @{Html.Partial("~/Views/Partial/_AutocompleteGroupName.cshtml", this.ViewData);
} 
```

![阿贾克斯响应](../Images/11490abb3de8387b762de5e0c1fad0c0.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-22T08:22:46.673

```
window.location = '<%=@Url.Action("GetValue","TaskNew") %>'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:24:27.517

[ASP.NET MVC jQuery 自动完成与包含在页面中的脚本中的 url.action 助手](https://stackoverflow.com/questions/2553377/asp-net-mvc-jquery-autocomplete-with-url-action-helper-in-a-script-included-in-a)我相信可以解决您的问题 - 您正在获取非法字符，因为它试图转到：`http://localhost:51395/UserManager/@Url.action(%20 ... etc`

当文件被移动到外部脚本时，@Url.action 没有被解析，因为 javascript 没有通过该解析引擎运行，因为它是服务器端。

# c# - 匹配文件版本的正则表达式模式

> ID：13308678
> 
> 赞同：-1
> 
> 时间：2012-11-09T13:07:37.370
> 
> 标签：c#, regex

我正在尝试匹配主要、次要、修订版和内部版本号。

我的问题是：

给定 2 个版本

```
string Version1 = "01.01.02.44";
string Version2 = "01.01.02.FF1";
string pattern =@"\d+.\d+.\d+.\d+";
var regEx = new Regex(pattern, RegexOptions.IgnoreCase);
var versionMatch = regEx.Match(Version2);
            if (match.Success)
            {
                 // DO ...
            } 
```

使用以下正则表达式模式：

```
string pattern =@"\d+.\d+.\d+.\d+"; 
```

我可以匹配版本1...

但是我如何让它匹配 Version2 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T13:11:44.150

您需要检查版本号中有效的任何字符，而不仅仅是数字。例如，以下正则表达式将匹配两者：

```
string pattern =@"\d+\.\d+\.\d+\.[0-9F]+"; 
```

这与前三个部分都是纯数字的假设相匹配，而最后一个可以是任何数字或字母 F。您只需根据您的精确要求修改字符类（我们不知道）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T13:17:02.490

Why use string manipulations to handle version numbers ?

I recommend using the **System.Version** class.

That class already manages all parts of a version (*Build*, *Major*, *MajorRevision*, *Minor*, *MinorRevision*, *Revision*).

You can easily compare version numbers, not only for a match, but also to check if a version number is older or newer than another :

```
Version v1 = new Version(2, 0);
Version v2 = new Version("2.1");

Console.Write("Version {0} is ", v1);

switch(v1.CompareTo(v2))
{
   case 0:
      Console.Write("the same as");
      break;
   case 1:
      Console.Write("later than");
      break;
   case -1:
      Console.Write("earlier than");
      break;
}

Console.WriteLine(" Version {0}.", v2); 
```

Take a look at this [MSDN article](http://msdn.microsoft.com/en-us/library/system.version.aspx) about System.Version for more details and examples.

That class will save you the overhead of handling the different parts of a version number yourself using string manipulations.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-09T13:11:00.573

最简单的方法是拆分`.`。

```
string[] parts = versionNumber.Split('.');
if (parts.Length != 4)
{
    // Invalid revision number.
}
else
{
    string major = parts[0];
    string minor = parts[1];
    string revision = parts[2];
    string buildNumber = parts[3];
    // etc...
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T13:23:18.877

要捕获您提到的两个字符串，您可以更改：

```
string pattern =@"\d+.\d+.\d+.\d+"; 
```

至：

```
string pattern =@"\d\d[.]\d\d[.]\d\d[.]...|\d\d[.]\d\d[.]\d\d[.].."; 
```

了解一些关于正则表达式的工作原理并可能测试一些场景对您来说会很有好处。然后，您可以调整模式以匹配您的确切需求。

如果要在 yuor 模式中捕获点 (.)，则必须将其括在方括号中，因为它用作保留字符。加号 (+) 表示任意数量的前面字符，因此 \d+ 将匹配任意数量的数字（01 和 0123 以及 567789 等）。

请参阅[正则表达式备忘单](http://www.addedbytes.com/download/regular-expressions-cheat-sheet-v1/png/)。

如果您想测试您的正则表达式，您可以[在线](http://regexpal.com/)进行。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T13:09:38.443

那是因为您只寻找整数 0-9 而不是字母

您可以将刺痛分成多个组，使用 .*? 获取所有字符，而不是仅 [0-9]

```
 @"(?s)\.(?<string>.*?)\.(?<string>.*?)\.(?<string>.*?)\.(?<string>.*?)" 
```

# linux - 在不增加 VmSize 的情况下增加虚拟内存

> ID：13308684
> 
> 赞同：5
> 
> 时间：2012-11-09T13:08:09.270
> 
> 标签：linux, fortran, mpi

我在谷歌和这个网站上搜索了我的问题，但我仍然不明白解决方案。

我有一段`MPI`程序，其中`RECV`有一些数据。程序在大数组上崩溃，错误是虚拟内存不足，所以我开始考虑`/proc/self/status`file.

之前`MPI_RECV`是：

```
Name:   model.exe                                                               
VmPeak:   841640 kB
VmSize:   841640 kB
VmHWM:     15100 kB
VmRSS:     15100 kB
VmData:   760692 kB 
```

之后：

```
Name:   model.exe                                                            
VmPeak:   841640 kB
VmSize:   841640 kB
VmHWM:    719980 kB
VmRSS:    719980 kB
VmData:   760692 kB 
```

我在 Ubuntu 上测试它，通过系统监视器我看到这​​个内存在增加。`VmSize`但我很困惑（和`VmPeak`）参数没有变化。

问题是——实际内存使用的指标是什么？

这是否意味着，真正的指标是`VmRSS`？（并且`VmSize`仅分配但仍未使用的内存）

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-11-09T13:54:21.273

（您的问题的可能解决方案是最后一段）

大多数具有虚拟内存的现代操作系统上的内存分配是一个两阶段的过程。首先，进程的一部分虚拟地址空间被保留，进程的虚拟内存大小（`VmSize`）相应增加。这会在所谓的进程页表中创建条目。页面最初不与物理内存帧相关联，即实际上没有使用物理内存。每当实际读取或写入此分配部分的某些部分时，就会发生页面错误，并且操作系统会从物理内存中安装（映射）一个空闲页面。这会增加进程的驻留集大小（`VmRSS`）。当一些其他进程需要内存时，操作系统可能会将一些不常用页面的内容（“不常用页面”的定义高度依赖于实现）存储到一些持久存储（大多数情况下是硬盘驱动器，或者通常存储到交换设备） ) 然后取消映射。此过程会减少 RSS，但会`VmSize`保持原样。如果稍后访问该页面，则会再次发生页面错误并将其带回。仅当释放虚拟内存分配时，虚拟内存大小才会减小。请注意，`VmSize`内存映射文件（即可执行文件和它链接到的所有共享库或其他显式映射文件）和共享内存块也计算在内。

进程中有两种通用类型的内存——静态分配的内存和堆内存。静态分配的内存保留所有常量和全局/静态变量。它是数据段的一部分，其大小由`VmData`公制。数据段还承载部分程序堆，其中分配了动态内存。数据段是连续的，即它从某个位置开始向上向堆栈增长（从一个非常高的地址开始然后向下增长）。数据段中的堆的问题在于它由一个特殊的堆分配器管理，该分配器负责将连续的数据段细分为更小的内存块。另一方面，在Linux中动态内存也可以通过直接映射虚拟内存来分配。这通常只用于大分配以节省内存，因为它只允许分配页面大小（通常为 4 KiB）倍数的内存。

堆栈也是大量内存使用的重要来源，尤其是在自动（堆栈）存储中分配大数组时。堆栈从可用虚拟地址空间的最顶部附近开始并向下增长。在某些情况下，它可能会到达数据段的顶部，或者可能会到达其他一些虚拟分配的末尾。坏事就会发生。堆栈大小计入`VmStack`公制，也计入`VmSize`. 可以这样概括：

*   `VmSize`占所有虚拟内存分配（文件映射、共享内存、堆内存、任何内存），并且几乎每次分配新内存时都会增长。几乎，因为如果新的堆内存分配是在数据段中释放的旧分配的位置进行的，则不会分配新的虚拟内存。每当释放虚拟分配时，它就会减少。`VmPeak`跟踪的最大值`VmSize`- 它只能随时间增加。
*   `VmRSS`随着内存被访问而增长，随着内存被分页到交换设备而减少。
*   `VmData`随着堆的数据段部分被使用而增长。它几乎永远不会缩小，因为当前的堆分配器会保留释放的内存以防将来的分配需要它。

如果您在使用 InfiniBand 或其他基于 RDMA 的结构的集群上运行，则另一种内存会发挥作用 - 锁定（注册）内存 ( `VmLck`)。这是不允许被调出的内存。它如何增长和缩小取决于 MPI 实现。有些人从不注销已经注册的块（关于为什么这里描述的技术细节太复杂了），其他人这样做是为了更好地使用虚拟内存管理器。

在您的情况下，您说您遇到了虚拟内存大小限制。这可能意味着此限制设置得太低，或者您遇到了操作系统强加的限制。首先，Linux（和大多数 Unix）有办法通过该`ulimit`机制施加人为的限制。在 shell 中运行`ulimit -v`会告诉您虚拟内存大小的限制（以 KiB 为单位）。您可以使用 设置限制`ulimit -v <value in KiB>`。这仅适用于由当前 shell 生成的进程及其子、孙等。您需要指导`mpiexec`（或`mpirun`) 将此值传播到所有其他进程，如果它们要在远程节点上启动。如果您在一些工作负载管理器（如 LSF、Sun/Oracle Grid Engine、Torque/PBS 等）的控制下运行程序，则有一些作业参数可以控制虚拟内存大小限制。最后但同样重要的是，32 位进程通常限制为 2 GiB 的可用虚拟内存。

# ios - 在视网膜 iPad 上应用图层蒙版会隐藏所有

> ID：13308693
> 
> 赞同：1
> 
> 时间：2012-11-09T13:08:43.780
> 
> 标签：ios, ipad, uiview, mask, cgpath

我有一个 UIView，我对其应用了图层蒙版。它适用于除视网膜 iPad 之外的所有设备。在视网膜 iPad 上，被遮盖的视图不显示。如果我取下遮罩，视图会显示在视网膜 iPad 上。

面具很简单。它显示了整个视图，除了从底部边缘取出的小三角形。

```
contentView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] applicationFrame].size.width, [[UIScreen mainScreen] applicationFrame].size.height - 50.0)];
CAShapeLayer *maskLayer = [[CAShapeLayer alloc] init];
CGMutablePathRef path = CGPathCreateMutable();
float triangleDepth = 10;
CGPathMoveToPoint(path, NULL, 0, 0);
CGPathAddLineToPoint(path, NULL, contentView.frame.size.width, 0);
CGPathAddLineToPoint(path, NULL, contentView.frame.size.width, contentView.frame.size.height);
CGPathAddLineToPoint(path, NULL, (contentView.frame.size.width / 2.0) + triangleDepth, contentView.frame.size.height);
CGPathAddLineToPoint(path, NULL, (contentView.frame.size.width / 2.0), contentView.frame.size.height - triangleDepth);
CGPathAddLineToPoint(path, NULL, (contentView.frame.size.width / 2.0) - triangleDepth, contentView.frame.size.height);
CGPathAddLineToPoint(path, NULL, 0, contentView.frame.size.height);
CGPathCloseSubpath(path);
[maskLayer setPath:path];
CGPathRelease(path);
contentView.layer.mask = maskLayer;
contentView.clipsToBounds = NO;
[self.view addSubview:contentView]; 
```

这段代码适用于每台设备，那么视网膜 iPad 有什么不同会阻止它工作呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T12:23:19.560

这只是 iOS 模拟器的一个问题。我终于在视网膜 iPad 上尝试了代码，一切正常。

# wpf - 隐藏图例和使用对数刻度的 WPF DynamicDataDisplay 版本问题

> ID：13308698
> 
> 赞同：1
> 
> 时间：2012-11-09T13:09:15.807
> 
> 标签：wpf, legend, dynamic-data-display

我正在使用 Microsoft 的 D3 和 WPF（不是 silverlight）。我正在拼命寻找可以让我隐藏传说的 D3 版本。我在网上找到了几个例子，使用的是旧版本的 D3。将此版本的源添加到我的解决方案时，我失去了我正在使用的其他功能 - 用对数刻度绘制图形。在对数刻度示例中使用的另一个版本的 D3 尚未实现“隐藏图例”。显然，我看到的示例使用了互斥的不同版本。此外，我没有足够的 c# savvi 来获取一个版本并将其转换为另一个版本。

请你们帮助我并提供一个解决方案，该解决方案使用任何（最好是最新）版本的 D3 for WPF 制作具有对数刻度的 ChartPlotter 并能够隐藏图例？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-12T14:50:34.393

关键似乎是 LogarithmNumericTicksProvider 类。仅这个类似乎就可以为您提供所需的功能。因此，您可以学习该课程并将其导入您拥有的具有隐藏图例的 D3 版本。

您的另一个选择是采用最新的 D3 稳定版本，并修复隐藏在其中的图例。我找到的隐藏图例的解决方案似乎还没有在稳定版本中实现，但看起来很容易实现。

您可以在 ChartPlotter 类中添加一个新属性，以在设置属性时隐藏和显示您的图例。它看起来像这样：

```
class ChartPlotter {
...
public bool LegendVisible {
  get { return legend.Visibility == Visibility.Visible; }

  set { legend.Visibility = value ? Visibility.Visible : Visibility.Hidden; }

}
} 
```

有了这个，您可以在代码中任何您需要的地方将 LegendVisible 属性设置为 true 或 false，它应该在命令中显示或隐藏。我在[这里找到了这个解决方案](http://dynamicdatadisplay.codeplex.com/discussions/36776)

可以在[这里](http://dynamicdatadisplay.codeplex.com/releases/view/26761)找到最稳定的 D3 版本。此版本实现了 LogarithmNumericTicksProvider。这个版本最适合使用，应该很容易实现新属性。

# android - 在 android 媒体播放器中重新加载数据源

> ID：13308704
> 
> 赞同：3
> 
> 时间：2012-11-09T13:09:47.427
> 
> 标签：android, android-mediaplayer, seek

我很难在 android 中使用媒体播放器。基本上，我尝试从我的 SD 卡中播放一首正在下载的歌曲（某种流媒体）。因此，在下载歌曲（20%）后，歌曲开始播放，如果我这样离开它，它可以正常播放直到结束。但是如果我尝试在最后寻找（超过 20%）显然它不会起作用，因为我的寻找位置在 EOF 文件上所以我在一个方法中制作了这段代码

```
 MediaPlayer mp = new MediaPlayer();
        mp.setDataSource(sFilePath);
        mp.prepare();
        int offset = (progress * mp.getDuration()) / 100;
        if (sCompleted) return;
        sLastSeek = offset;

        if (offset > sMediaPlayer.getDuration()) {
            sMediaPlayer.reset();
            sMediaPlayer.setDataSource(sFilePath);
            sMediaPlayer.prepare();
       } else {
           sMediaPlayer.seekTo(offset);
       } 
```

`sMediaPlayer`我的媒体播放器在哪里，`sFilePath`是文件路径。理论上应该涵盖我提出的案例，但是当我搜索文件长度时，播放器被重置（如代码所示）但没有播放，这非常尴尬并且超出了我的能力。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T12:23:13.067

也许 mediaPlayer 停止了，因为它到达了歌曲的结尾。重新启动它，以稳定的时间间隔（比如每 5 秒）刷新文件，或者只使用 onCompletionListener。在最后一种情况下，当文件结束时，您可以重新加载文件并继续播放... mp.getCurrentPosition() 以获取它停止播放的位置。

我还注意到您指的是 sMediaPlayer，但您的 MediaPlayer 被定义为 mp。

# string - 在多个视图 MVC3 中传递查询字符串的值

> ID：13308707
> 
> 赞同：1
> 
> 时间：2012-11-09T13:09:54.590
> 
> 标签：string, asp.net-mvc-3

登录后，我成功地将用户重定向到名为 CustomerStart 的页面。在该查询字符串（url）看起来像这样的ssn之后

```
localhost:1234/CustomerStart?ssn=850406-0297 
```

我通过写这个来做到这一点

```
return RedirectToAction("Index", "CustomerStart", new {ssn = model.ssn}); 
```

但是当我点击一个像这样在_layout中定义的按钮时，

```
<li>@Html.ActionLink("CustomerStart","Index", "CustomerStart")</li> 
```

我的查询字符串为空。

我想让我的客户在登录后或单击 CustomerStart 按钮时都在同一个 CustomerStart 页面中。

当我的客户单击上述按钮下的任何按钮时，我还想以不同的视图发送他们。

像这样，

```
 <li>@Html.ActionLink("CustomerStart","Index", "CustomerStart")</li>
 <li>@Html.ActionLink("Bill","Index", "Bill")</li> 
```

所以，我需要总是从查询字符串中获取值。但我不知道怎么做？

我是 MVC3 的新手，我完全迷路了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:41:58.510

尝试

```
<li>@Html.ActionLink("CustomerStart","Index", "CustomerStart",
                    new { ssn=Request.QueryString["ssn"]},
                    null)
</li>
<li>@Html.ActionLink("Bill","Index", "Bill",
                     new { ssn=Request.QueryString["ssn"]},
                     null)
</li> 
```

# android - Android webview 中的 setUserAgentString 对 loadURL() 中使用的 HTTP 标头没有影响

> ID：13308714
> 
> 赞同：8
> 
> 时间：2012-11-09T13:10:29.313
> 
> 标签：android, webview, user-agent

一直在尝试更改 Android 应用程序的 HTTP 请求中的用户代理字符串。我已经与wireshark和模拟器一起测试过，并且看到虽然我在webview中设置了useragent字符串，但相关的loadUrl请求并没有使用这个user-agent字符串。相反，我在wireshark 捕获中看到了Dalvik useragent 字符串。这是代码摘要。有任何想法吗？还是模拟器不支持这个？

```
@Override
public void run() {
    assert(context != null);

    ...
    ...
    webView = new WebView(context);
    ...
    String defaultUserAgent = "betaUAteststring";

    // Clear per-application caches etc
    webView.clearCache(true);
    webView.clearHistory();
    webView.getSettings().setAppCacheEnabled(false);
    webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);
    webView.getSettings().setJavaScriptEnabled(true);

    webView.setWebViewClient(new WebViewClient() {
        @Override  
        public void onPageFinished(WebView view, String url) {
        ....
        }

        @Override
        public void onPageStarted(WebView view, String url, Bitmap favicon) {
        ..
        }

        @Override
        public void onLoadResource(WebView view, String url) {
        ...
        }
    });

    // Start loading

    webView.getSettings().setUserAgentString(defaultUserAgent);
    String setUA = webView.getSettings().getUserAgentString();
    //--> logging here shows the correct user agent, so the webview does accept the value
    // However the following statement does not result in an http request with the webviews user agent
    webView.loadUrl(url);

    //Alternative doesn't help either (and shouldn't according to javadoc)

    //Map<String,String> headerMap = new HashMap<String,String>();
    //headerMap.put("User-Agent","uaTestInAMap");        
    //webView.loadUrl(url, headerMap);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T16:20:35.103

回答我自己的问题。无论出于何种原因，模拟器似乎都没有从 web 视图中获取用户代理字符串。但是，我还没有找到原因。该代码在真实设备上运行良好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-25T18:57:52.350

您错过了在打开的 url 上覆盖默认的 Android 行为（启动默认浏览器）。要使用您的自定义浏览器进行导航，您只需将 WebViewClient 附加到 WebView

那就是在您的代码中添加以下行：

```
 webView.setWebViewClient(new WebViewClient()); 
```

干杯，罗德里戈

# asp.net - 具有固定后端语言的多语言果园网站？

> ID：13308721
> 
> 赞同：1
> 
> 时间：2012-11-09T13:10:37.157
> 
> 标签：asp.net, .net, asp.net-mvc, localization, orchardcms

我正在寻找一种方法来强制 Orchard 在后端使用固定语言，同时仍然能够将 CulturePicker 用于前端。

任何提示都将受到高度赞赏 - 作为我在 Orchard 的第一个项目，我真的不知道从哪里开始 - 除了丑陋的黑客......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T16:10:39.230

最简单的方法是实现自己的`ICultureSelector`.

您需要先检查用户是否在管理屏幕上。如果是这样，则返回默认站点文化，否则返回 null（这样下一个文化选择器，在您的情况下是来自 CulturePicker 的选择器）。

例子：

```
 public class AdminCultureSelector : ICultureSelector {
    private readonly IWorkContextAccessor _workContextAccessor;

    public AdminCultureSelector(IWorkContextAccessor workContextAccessor) {
        _workContextAccessor = workContextAccessor;
    }

    public CultureSelectorResult GetCulture(HttpContextBase context)
    {
        string currentCultureName = _workContextAccessor.GetContext().CurrentSite.SiteCulture;

        if (!String.IsNullOrEmpty(currentCultureName) && AdminFilter.IsApplied(context.Request.RequestContext)) {
            return new CultureSelectorResult { Priority = 1000, CultureName = currentCultureName };
        }

        return null;
    }
} 
```

# javascript - 如何使 Fancybox 与轮播插件一起使用？

> ID：13308723
> 
> 赞同：1
> 
> 时间：2012-11-09T13:10:37.210
> 
> 标签：javascript, jquery, fancybox

我使用 Fancybox 和[Scrolling Carousel](http://www.convergent-evolution.co.uk/resources/jquery-plugins/scrolling-carousel/)。
尝试制作：点击`$(.subject)` 进入 Fancybox > 显示`$(.content)`>`$(.content)`滚动使用 scrollingCarousel。

我做了单独的测试工作正常。

但是如果我把它们放在一起（Demo1）。
为什么`$(.content)`不会加载滚动轮播？
（但如果重新加载`$(.content)`页面，则 scrollingCarousel 工作。）

所以我尝试在Fancybox回调（Demo2）afterLoad，beforeLoad，beforeShow中写...我也做了测试，还是不行。

（我已经测试过其他轮播插件，同样的问题。）

演示 1 [jsfiddle](http://jsfiddle.net/6VH7w/2/)

```
 $(".subject").fancybox({});
 $('.content').scrollingCarousel({}); 
```

演示 2

```
 $(".subject").fancybox({
     afterLoad: function(){
        $('.content').scrollingCarousel({});
     }
 }); 
```

HTML：

```
<div class="subject">
    <div>
        <a class="subjectlist"rel="1" href="#1">
            <img class="" src="http://farm7.staticflickr.com/6106/6347065961_bb73745e70_m.jpg">
        </a>
    </div>
</div>
<div class="content" id="1">
    <div><img class="" src="http://farm8.staticflickr.com/7171/6417719753_374653e28c_b.jpg"></div>
    <div><img class="" src="http://farm7.staticflickr.com/6106/6347065961_bb73745e70_b.jpg"></div>
    <div><img class="" src="http://farm7.staticflickr.com/6106/6347065961_bb73745e70_m.jpg"></div>
</div>​ 
```

CSS

```
.content{
    display:none;
    width: 200px;
    height: 200px;
}
.content img{
    width: 200px;
    height: 200px;
}​ 
```

任何建议或帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T16:20:55.487

`.content`被您的 CSS 隐藏`display: none`，因此您只需`.show()`在调用滚动条之前使用它来显示它，否则它只会保持隐藏状态。

[http://jsfiddle.net/6VH7w/3/](http://jsfiddle.net/6VH7w/3/)

```
$(".subjectlist").fancybox({
    afterLoad: function() {
        $('.content').show().scrollingCarousel({
            scrollerAlignment: 'vertical'
        });
    }
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-23T18:39:04.517

你好，我制作了owl carousel 2 和fancybox，添加了fancybox css、mousewheel 和js 文件。然后我做了我的物品

```
<div class="owl-carousel owl-theme">
   <div class="item">
       <a class="fancybox" group="fancybox" href="imagen0.png"><img class="img-responsive img-thumbnail center-block" src="imagen0.png" title="SEJ" /></a>
   </div>
   <div class="item">
       <a class="fancybox" group="fancybox" href="imagen1.png"><img class="img-responsive img-thumbnail center-block" src="imagen1.png" title="titulos_imagen" /></a>
   </div>
</div> 
```

我希望这对你有帮助。

# c# - 具有来自外部 C# 的静态属性访问问题的嵌套类

> ID：13308724
> 
> 赞同：0
> 
> 时间：2012-11-09T13:10:49.640
> 
> 标签：c#, oop

我有一个主类，在这个主类中我有另一个类A。A类几乎没有静态属性，当我尝试从外部访问这些静态属性但出现错误时......不可能

## 这是我的班级结构

```
 public class EShip
{
    class Credentials
    {
        private static string _accessKey = "aaa";
        private static string _accessPwd = "xxx";
        private static string _accountNumber = "2222";

        public static string AccessKey
        {
            get { return _accessKey; }
        }

        public static string AccessPassword
        {
            get { return _accessPwd; }
        }

        public static string AccountNumber
        {
            get { return _accountNumber; }
        }
    }

    public static Credentials Credential
    {
        { get; }
    }
} 
```

我尝试通过主类属性公开该内部类，并从外部尝试这样做

```
EShip.Credentials.AccessKey
EShip.Credentials.AccessPassword 
```

这是不可能的......建议我好的方法以及为什么我被卡住了。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:14:55.113

类`Credentials`不是公开的，因此不可访问。改变它，你就可以做到：

```
String key = EShip.Credentials.AccessKey; 
```

[访问修饰符（C# 编程指南）](http://msdn.microsoft.com/en-us/library/ms173121.aspx)

# assembly - MIPS 整数 Sandy Bridge

> ID：13308731
> 
> 赞同：3
> 
> 时间：2012-11-09T13:11:05.580
> 
> 标签：assembly, x86

我在汇编中编写了一个算术整数库。我想估计与我的处理器（英特尔 Sandy Bridge）的峰值性能相比的性能。

由于 Sandy Bridge 的 3 个 ALU 执行整数运算，“3 *（内核数）*频率”是否足以进行估算？我的 99% 的程序集都是`addq, adcq, mulq`指令）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T14:10:30.377

不。

有许多因素会影响任何代码的速度。诸如导致停顿的指令之间的依赖关系、缓存访问和缓存速度、缓存未命中和 RAM 速度等。

特别是对于 Sandy Bridge，还有超线程（这些 ALU 由 2 个逻辑 CPU 共享）以及涡轮增压和电源管理。然后是分页（TLB 查找和 TLB 未命中）。

最重要的是，还有操作系统开销；包括内核解决页面错误的速度（用于各种“写入时复制”和“写入时分配”目的），如何跨 CPU 调度所有工作，发生多少任务切换以及它们有多快，互斥锁/ futexes 被处理，等等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T14:09:35.107

如果我们谈论的是 1980 年代的处理器，例如 8086 或 68000，那么这将是有效的，每条指令都会在固定的时间内运行。

现代处理器变得非常难以手动进行基准测试，因为它们采用了许多技巧来使指令运行得更快、大缓存、流水线、乱序指令执行等。最好的方法是对代码进行计时。在进行基准测试时，您还应该考虑在其他内核中运行的代码的影响。您的进程可以根据处理器上的整体负载以不同的速度运行，例如在最新的 i7 芯片中。

# apache-flex - 优化包含 mx:LineChart 的 s:ItemRenderer

> ID：13308737
> 
> 赞同：0
> 
> 时间：2012-11-09T13:11:27.660
> 
> 标签：apache-flex

我正在开发的应用程序包含一个 Spark List 控件，该控件使用一个包含 mx:LineChart 的 Spark ItemRenderer。随着每个新项目添加到列表中，其重绘时间显着增加。添加第 15 项后，整个 GUI 冻结大约 20 秒以刷新列表。

**我可以做些什么来优化项目渲染器？**

每次我向列表中添加新项目时，我都会创建一个新的 ArrayCollection 并将其传递给列表。

ChartList.as 内部：

```
override protected function commitProperties():void {
    super.commitProperties();
    _itemRenderer = new ClassFactory(ChartListItemRenderer);
    list.itemRenderer = _itemRenderer; //list is a skin part
    list.dataProvider = _data; //list is of type s:List
} 
```

Indise ChartListItemRenderer.mxml：

```
<sc:ScenarioChart leftAxisData="data.series}"
                  bottomAxisData="{_period}"/> 
```

内部情景图表：

```
override protected function commitProperties():void {
    super.commitProperties();

    chart.dataProvider = _leftAxisData;
    bottomAxis.dataProvider = _bottomAxisData;
} 
```

# c# - 从 WPF 拖放到记事本

> ID：13308745
> 
> 赞同：2
> 
> 时间：2012-11-09T13:12:06.827
> 
> 标签：c#, wpf, drag-and-drop

我做了一些研究，发现了这个：

```
DataObject d = new DataObject();
d.SetData(DataFormats.Serializable, myObject);
d.SetData(DataFormats.Text, myObject.ToString());
myForm.DoDragDrop(d, DragDropEffects.Copy); 
```

在 win 表单中拖放的代码片段。

我尝试像这样实现它（**WPF**）：

```
private void listView1_MouseMove(object sender, MouseEventArgs e)
    {
        try
        {
            if (e.LeftButton == MouseButtonState.Pressed)
            {
                DataObject d = new DataObject();
                d.SetData(DataFormats.Serializable, listView1.SelectedItem);
                d.SetData(DataFormats.Text, listView1.SelectedItem.ToString());
                DragDrop.DoDragDrop(listView1, d, DragDropEffects.Copy);
            }
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }

    } 
```

现在我想，当我将 ListViewItem 拖放到记事本中时，它可能会复制所选项目的类名（因为这就是 listView1.SelectedItem.ToString()）...但是记事本却显示了取消符号的图片，而悬停，当我松开鼠标按钮时没有复制任何内容。

这样做的总体目标是将类更改为逗号分隔的字符串，因此当它复制粘贴到记事本时，该类的所有数据都将采用良好的格式。

但是，如果有人可以帮助我复制类名，我相信我可以从那里弄清楚：o

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T14:42:06.887

所以....是的。

```
 bool alreadycopying = false;

    private void listView1_MouseMove(object sender, MouseEventArgs e)
    {
        try
        {
            if (e.LeftButton == MouseButtonState.Released)
            {
                alreadycopying = false;
            }

            if (e.LeftButton == MouseButtonState.Pressed && alreadycopying == false)
            {
                alreadycopying = true;
                System.IO.StreamWriter test = new System.IO.StreamWriter(@"C:\SuperSecretTestFile.txt");
                test.WriteLine("Test");
                test.Close();

                List<String> testlist = new List<string>();
                testlist.Add(@"C:\SuperSecretTestFile.txt");

                DataObject d = new DataObject();
                d.SetData(DataFormats.FileDrop, testlist.ToArray<string>());
                DragDrop.DoDragDrop(listView1, d, DragDropEffects.All);
            }
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }

    } 
```

在多次抨击糟糕的记事本技术之后，c#取得了胜利<.<

# nservicebus - 返回源队列不起作用

> ID：13308752
> 
> 赞同：1
> 
> 时间：2012-11-09T13:12:20.247
> 
> 标签：nservicebus

由于某种原因，我有一些消息在错误队列中结束。我正在尝试使用 ReturnToSourceQueue.exe 实用程序，但它失败了。这是发生的事情：

```
PS C:\tools\NServicebus> .\ReturnToSourceQueue.exe
Please enter the error queue you would like to use:
nservicebus_errors
Please enter the id of the message you'd like to return to its source queue, or 'all' to do so for all messages in the q
ueue.
all
Attempting to return message to source queue. Please stand by.
Returning message with id 60dda2a3-e60f-4eaf-a40b-3a081cde0258\4114510 to queue
Could not return message to source queue.
Reason: Format name is invalid.
   at System.Messaging.MessageQueue.MQCacheableInfo.get_WriteHandle()
   at System.Messaging.MessageQueue.StaleSafeSendMessage(MQPROPS properties, ITransaction transaction)
   at System.Messaging.MessageQueue.StaleSafeSendMessage(MQPROPS properties, IntPtr transaction)
   at System.Messaging.MessageQueue.SendInternal(Object obj, MessageQueueTransaction internalTransaction, MessageQueueTr
ansactionType transactionType)
   at NServiceBus.Tools.Management.Errors.ReturnToSourceQueue.Class1.ReturnMessage(String messageId)
   at NServiceBus.Tools.Management.Errors.ReturnToSourceQueue.Class1.ReturnMessageToSourceQueue(String messageId)
Message ID not found in time. Going to look in message labels for original ID.
Returning message with id 60dda2a3-e60f-4eaf-a40b-3a081cde0258\4114510 to queue
Could not return message to source queue.
Reason: Format name is invalid.
   at System.Messaging.MessageQueue.MQCacheableInfo.get_WriteHandle()
   at System.Messaging.MessageQueue.StaleSafeSendMessage(MQPROPS properties, ITransaction transaction)
   at System.Messaging.MessageQueue.StaleSafeSendMessage(MQPROPS properties, IntPtr transaction)
   at System.Messaging.MessageQueue.SendInternal(Object obj, MessageQueueTransaction internalTransaction, MessageQueueTr
ansactionType transactionType)
   at NServiceBus.Tools.Management.Errors.ReturnToSourceQueue.Class1.ReturnMessage(String messageId)
   at NServiceBus.Tools.Management.Errors.ReturnToSourceQueue.Class1.ReturnMessageToSourceQueue(String messageId)
Returning message with id 60dda2a3-e60f-4eaf-a40b-3a081cde0258\4192925 to queue 
```

知道这里发生了什么吗？“格式名称无效”是什么意思？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T15:22:36.880

该工具从存储在消息的 Extension 属性中的消息头中提取队列的名称（此处假设为 MSMQ）。这意味着从该工具派生的名称无效。我会看一下消息头，看看它对源队列有什么影响。这是由 NSB 在内部设置的，所以我猜这是环境问题（可能是集群或远程队列）？

# axapta - Dynamics AX EP - 创建全新的数据集行

> ID：13308753
> 
> 赞同：0
> 
> 时间：2012-11-09T13:12:24.337
> 
> 标签：axapta, dynamics-ax-2009, enterprise-portal

我需要在 Dynamics AX 企业门户用户控件中的指定数据集中创建一个全新的行（无需在 axgridview 中编辑此数据）。我开发的代码如下：

代码隐藏：

```
protedted void NewDelegAxPopupParentControl_PopupClosed(object sender, EventArgs e)
{

    DataSet dataSet = this.AxDataSource.GetDataSet();
    DataSetView dataSetView = dataSet.DataSetViews[this.AxGridView1.DataMember];
    DataSetViewRow dataSetViewRow = dataSetView.AddNew();

    dataSetViewRow.SetFieldValue("ProjId", projid);
    dataSetViewRow.SetFieldValue("Destination_ITG", location);
    dataSetViewRow.SetFieldValue("DateFrom_ITG", DateTime.ParseExact(datefrom, "yyyy-MM-dd", CultureInfo.InvariantCulture));
    dataSetViewRow.SetFieldValue("DateTo_ITG", DateTime.ParseExact(dateto, "yyyy-MM-dd", CultureInfo.InvariantCulture));
    dataSetViewRow.SetFieldValue("Employee", "102");

    dataSetViewRow.EndEdit();
} 
```

当我第一次向数据集添加新行时 - 它工作正常。当我想添加另一行时 - 而不是创建新行 - 它会更新前一行。

解决此问题的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-11T11:00:51.457

您可以通过让 AX 进行创建来绕过该问题。

[这在The Code Workshop](http://codersvault.blogspot.dk/2010_06_01_archive.html)中被列为第三个解决方案。

# iphone - 我怎样才能在 UIDatePicker 上获得所有时间？

> ID：13308756
> 
> 赞同：0
> 
> 时间：2012-11-09T13:12:30.700
> 
> 标签：iphone, objective-c, xcode, uidatepicker

我有一个`UIDatePicker`设置为 fr_FR 所以我有从`00`到的数字`23`。当我选择一个小时时，我会得到`English`格式，如果我选择 ，比如说 ，`19`我想进入`19:00`屏幕，但我得到了`07:00`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:17:10.417

可能在你的日期格式中你 setdateformat:@"hh:mm" 检查为波纹管链接

> [datePickerFormat setDateFormat:@"HH:mm"];

检查下面的链接可能是它的帮助更多

[以 24 - 12 小时格式 xcode 将 NSDate 设置为“TimePicker”](https://stackoverflow.com/questions/11257127/setting-nsdate-in-a-timepicker-with-24-12-hours-format-xcode)

# ruby-on-rails - 如何在 Rails 3 中将 i18n 用于我的错误页面？

> ID：13308762
> 
> 赞同：8
> 
> 时间：2012-11-09T13:12:54.443
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1

我需要`I18n api`在我的`public/404.html`页面上使用。

如果我添加到 404.html 页面：

```
<%= t('.page_were_looking') %> 
```

我收到一条错误消息，例如：

```
Cannot use t('.page_were_looking') shortcut because path is not available 
```

如何使用`I18n`此页面的功能？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-09T13:18:00.100

Rails 通过提供类似路径的错误页面来支持多语言，语言环境`public/500.de.html`在哪里`de`。`i18n`在 Rails 本身根本被破坏的情况下使用它是没有意义的。如果 Rails 无法获得正确的本地化错误文件，它或者服务器可能会提供`public/500.html`.

这是在 Rails 2.3 中引入的。^([1](https://github.com/mynewsdesk/devcorner/blob/master/_posts/2010-01-13-rails-i18n-and-404500-error-pages.md))

`rake`在部署应用程序之前，有一种解决方案可以通过任务生成此静态文件。[看看这个要点](https://github.com/mynewsdesk/devcorner/blob/master/_posts/2010-01-13-rails-i18n-and-404500-error-pages.md)。

# view - 如何在 VisualWorks 中使用滚动条垂直排列视图？

> ID：13308765
> 
> 赞同：0
> 
> 时间：2012-11-09T13:13:00.233
> 
> 标签：view, scrollbar, smalltalk, visualworks

我在 Smalltalk 中编写 RSSReader，所以我有两个模型类：RSSModel（标题、条目）和 EntryModel（标题、图像、内容、日期）

我有 EntryView 列表（从 UI.View 继承）现在我有 RSSView 并且我的 displayOn 方法将垂直显示条目，每个条目之间有间隙：

```
 | dy iView gap |
        gap := 5.
        dy := 0.
        1 to: model entries size
            do: 
                [:i |
                iView := EntryView model: (model entries at: i).
                iView displayOn: aGC at: 0 @ dy.
                dy := dy + 89 + gap] 
```

结果是：

![结果](../Images/b2fc03bbfbbca40edef77f8bdbf149de.png)

我不确定我是否这样做正确，所以如果您有更好的显示 RSSView 解决方案，请告诉我。

问题：

1.  如何获得入口高度？现在我写`dy:=dy+89+gap`了 89 是硬编码的入口高度。
2.  如何启用滚动条来滚动窗口中的条目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T23:09:26.623

如何获得入口的高度？采用：

```
"entry bounds height" 
```

如何启用滚动条？

为了回答这个问题，我首先要指出的是，显示 EntryView 的方式并不是最好的方式。您想创建一个自定义控件，就像我在您的其他问题[How to create a window in smalltalk 中](https://stackoverflow.com/questions/13295815/how-to-create-a-window-in-smalltalk)解释的那样。您可以为视图使用 CompositeView，并使用 add:at: 将每个 EntryView 添加到组合中。

完成后，您可以转到视图的 UIPainter 属性编辑器中的详细信息选项卡并打开垂直滚动条。

# ruby-on-rails - FactoryGirl：填充一个具有许多关系的保留构建策略

> ID：13308768
> 
> 赞同：10
> 
> 时间：2012-11-09T13:13:06.503
> 
> 标签：ruby-on-rails, testing, factory-bot

我的问题似乎很常见，但我在文档或互联网本身中没有找到任何答案。

[在尊重 factory_girl 的构建策略的同时](https://stackoverflow.com/questions/1506556/has-many-while-respecting-build-strategy-in-factory-girl)，这似乎是这个问题的一个克隆，但在 factory_girl 发布后 2.5 年发生了很大变化。

我有一个名为 photos 的具有 has_many 关系的模型。我想填充这与保留我选择的构建策略有很多关系。

如果我打电话`offering = FactoryGirl.build_stubbed :offering, :stay`，我希望`offering.photos`成为一个存根模型的集合。

我发现实现这一目标的唯一方法是：

```
factory :offering do
  association :partner, factory: :named_partner
  association :destination, factory: :geolocated_destination

  trait :stay do
    title "Hotel Gran Vía"
    description "Great hotel in a great zone with great views"
    offering_type 'stay'
    price 65
    rooms 70
    stars 4
    event_spaces 3
    photos do
      case @build_strategy
      when FactoryGirl::Strategy::Create then [FactoryGirl.create(:hotel_photo)]
      when FactoryGirl::Strategy::Build then [FactoryGirl.build(:hotel_photo)]
      when FactoryGirl::Strategy::Stub then [FactoryGirl.build_stubbed(:hotel_photo)]
      end
    end
  end
end 
```

无需说它必须存在更好的方法来做到这一点。

想法？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-15T20:35:09.170

您可以使用各种 FactoryGirl 回调：

```
factory :offering do
  association :partner, factory: :named_partner
  association :destination, factory: :geolocated_destination

  trait :stay do
    title "Hotel Gran Vía"
    description "Great hotel in a great zone with great views"
    offering_type 'stay'
    price 65
    rooms 70
    stars 4
    event_spaces 3
    after(:stub) do |offering|
      offering.photos = [build_stubbed(:hotel_photo)]
    end
    after(:build) do |offering|
      offering.photos = [build(:hotel_photo)]
    end
    after(:create) do |offering|
      offering.photos = [create(:hotel_photo)]
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-11-08T14:34:42.377

这是 Flipstone 答案的稍微干净一点的版本：

```
factory :offering do
  trait :stay do
    ...
    photos do
      association :hotel_photo, :strategy => @build_strategy.class
    end
  end
end 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-11T15:35:22.003

您还可以直接调用 FactoryRunner 类并将构建策略传递给它以使用。

```
factory :offering do
  trait :stay do
    ...
    photos do
      FactoryGirl::FactoryRunner.new(:hotel_photo, @build_strategy.class, []).run
    end
  end
end 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-04-29T19:32:24.737

其他答案有一个缺陷，反向关联没有被正确初始化，例如`offering.photos.first.offering == offering`is `false`。`offering`更糟糕的是，不正确，`Offering`对于每个`photos`.

此外，明确指定策略是多余的。

为了克服流程并简化事情：

```
factory :offering do
  trait :stay do
    ...
    photos do
      association :hotel_photo, offering: @instance
    end
  end
end 
```

`@instance``Offering`是当前工厂创建的一个实例。对于好奇的，上下文是`FactoryGirl::Evaluator`。

如果你不`@instance`喜欢我做的那样，你可以查看`evaluator.rb`并找到以下内容：

```
def method_missing(method_name, *args, &block)
  if @instance.respond_to?(method_name)
    @instance.send(method_name, *args, &block) 
```

我真的很喜欢它的`itself`外观：

```
factory :offering do
  trait :stay do
    ...
    photos do
      association :hotel_photo, offering: itself
    end
  end
end 
```

确实可以使用`itself`，取消定义它`Evaluator`：

```
FactoryGirl::Evaluator.class_eval { undef_method :itself } 
```

它将被传递给`@instance`并返回`@instance`自身。

为了提供带有几张照片的完整示例：

```
factory :offering do
  trait :stay do
    ...
    photos do
      3.times.map do
        association :hotel_photo, offering: itself
      end
    end
  end
end 
```

用法：

```
offering = FactoryGirl.build_stubbed :offering, :stay
offering.photos.length # => 3
offering.photos.all? { |photo| photo.offering == offering } # => true 
```

请注意，有些事情可能无法按预期工作：

*   `offering.photos.first.offering_id`会出人意料的`nil`；
*   `offering.photos.count`将使用 a 访问数据库`SELECT COUNT(*) FROM hotel_photos ...`（在大多数情况下将返回 0），请在断言中使用`length`or 。`size`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-08T20:13:24.837

这种事情对我有用：

```
factory :offering do
  trait :stay do
    ...
    photos { |o| [o.association(:hotel_photo)] }
  end
end 
```

# django - Django Forms：显示评估为无的空选项

> ID：13308769
> 
> 赞同：1
> 
> 时间：2012-11-09T13:13:07.423
> 
> 标签：django, django-forms

当使用 Django 时，如果 required=False，会自动生成`ModelChoiceField`一个额外的选项。`('', '--------')`选择此选项时，它`None`以`cleaned_data`. 使用常规时如何（惯用地）重现此行为`ChoiceField`？

我注意到的一些事情：

*   我还没有找到任何自动将元组添加`('', '---------')`到列表中的方法`choices`，因此似乎需要手动添加它。我觉得应该有一种方法可以通过不同地设置其中一个参数来将其添加到选择中，所以如果存在的话，我很想听听。
*   从`''`to的转换`None`仍然必须在使用`cleaned_data`. 这意味着处理`ModelChoiceField`s 的代码必须与代码略有不同`ChoiceField`，这可能会导致细微的错误。再说一遍：如果有人知道更好的成语，我很想听听。
*   `TypedChoiceField`对`''`. 特别是，它没有`coerce`像人们期望的那样将其提供给功能。

考虑以下代码：

```
def int_or_none(s):
    if s.isnumeric():
        return int(s)
    return None

class NoneForm(forms.Form):
    field = forms.TypedChoiceField(
      choices=[('', '--------'), ('1', 'One'), ('2', 'Two')],
      required=False, coerce=int_or_none)

def home(request):
    if request.method == "POST":
        form = NoneForm(request.POST)
        if form.is_valid():
            assert type(form.cleaned_data['field']) in [int, type(None)]
            print form.cleaned_data['field']

    form = NoneForm()
    return HttpResponse(
      """<form method="POST">""" +
      form.as_table() +
      """<input type="submit"></form>""") 
```

上面的断言失败了！

以惯用的方式`ChoiceField`清理Django 的各种版本真的很难吗？`None`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T14:03:13.723

这是基于[rantanplan](https://stackoverflow.com/questions/13308769/django-forms-show-empty-option-that-evaluates-to-none#comment18212937_13308769)对`empty_value`参数的评论的结果。

请特别注意，空值的选择是在`''`选择中实现的（就像 in 一样`ModelChoiceField`，这很好）。

```
class NoneForm(forms.Form):
    field = forms.TypedChoiceField(
      choices=[('', '--------'), ('1', 'One'), ('2', 'Two')],
      required=False, coerce=int, empty_value=None)

def home(request):
    if request.method == "POST":
        form = NoneForm(request.POST)
        if form.is_valid():
            assert type(form.cleaned_data['field']) in [int, type(None)]
            print form.cleaned_data['field']

    form = NoneForm()
    return HttpResponse(
      """<form method="POST">""" +
      form.as_table() +
      """<input type="submit"></form>""") 
```

现在断言成功了。

# visual-c++ - Visual C++ - MFC 如何使用编辑框更改按钮的禁用状态

> ID：13308770
> 
> 赞同：0
> 
> 时间：2012-11-09T13:13:07.160
> 
> 标签：visual-c++, mfc

我目前正在使用 MFC，我想做一个简单的帐户管理。

我制作了一个从一开始就设置为禁用的登录按钮和 2 个编辑框，每个编辑框都是用户 ID 和密码。

我想做一件简单的事情：如果其中一个编辑框根本没有价值，则禁用登录按钮，否则..使按钮可用。

但是，代码根本不起作用。

这是代码：

头文件的一部分

```
 // Implementation
protected:
    HICON m_hIcon;

    // Generated message map functions
    virtual BOOL OnInitDialog();
    afx_msg void OnSysCommand(UINT nID, LPARAM lParam);
    afx_msg void OnPaint();
    afx_msg HCURSOR OnQueryDragIcon();
    DECLARE_MESSAGE_MAP()
private:
    // Value of the "Username" textbox
    CString m_CStr_UserID;
    // Control variable of the "Username" textbox
    CEdit m_CEdit_ID;
    // Value of the "Password" textbox
    CString m_CStr_UserPass;
    // Control variable of the "Password" textbox
    CEdit m_CEdit_PASS;
    // Control variable of the "Login" button
    CButton m_Btn_Login;
public:
    afx_msg void OnEnChangeEditId();

    afx_msg void OnEnChangeEditPass(); 
```

继续 .cpp

```
 .....
void CTestDlg::OnEnChangeEditId()
{
    // TODO:  If this is a RICHEDIT control, the control will not
    // send this notification unless you override the CDialog::OnInitDialog()
    // function and call CRichEditCtrl().SetEventMask()
    // with the ENM_CHANGE flag ORed into the mask.

    // TODO:  Add your control notification handler code here

    m_CEdit_ID.GetWindowTextW(m_CStr_UserID);
    if(!m_CStr_UserID.IsEmpty() && !m_CStr_UserPass.IsEmpty())
        m_Btn_Login.EnableWindow(TRUE);
    m_Btn_Login.EnableWindow(FALSE);
}

void CTestDlg::OnEnChangeEditPass()
{
    // TODO:  If this is a RICHEDIT control, the control will not
    // send this notification unless you override the CDialog::OnInitDialog()
    // function and call CRichEditCtrl().SetEventMask()
    // with the ENM_CHANGE flag ORed into the mask.

    // TODO:  Add your control notification handler code here
    m_CEdit_PASS.GetWindowTextW(m_CStr_UserPass);
    if(!m_CStr_UserPass.IsEmpty() && !m_CStr_UserID.IsEmpty())
        m_Btn_Login.EnableWindow(TRUE);
    m_Btn_Login.EnableWindow(FALSE);
} 
```

代码有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:17:52.733

In both handlers it's always being enabled FALSE. I think you're missing an `else`

You either need to `return` after the EnableWindow(TRUE) or use an `else`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T00:19:49.530

acraig5057 解释了您的代码的问题，并向您展示了如何解决它。我将补充一点，您也可以这样做：将两个编辑控件的 EN_CHANGE 映射到一个处理程序，我们称之为 OnEnChangeEditIdOrPass：

```
void CTestDlg::OnEnChangeEditIdOrPass()
{        
    m_Btn_Login.EnableWindow((m_CEdit_ID.GetWindowTextLength() != 0) && 
                             (m_CEdit_PASS.GetWindowTextLength() != 0));
} 
```

该函数`GetWindowTextLength`返回指定编辑控件中的字符数，如果编辑控件为空，则返回 0。

上面代码的逻辑是这样的：如果两个编辑框都有字符，&&会返回`TRUE`，登录按钮会被启用。如果其中至少一个没有，&& 将返回`FALSE`并且登录按钮将被禁用。

当然，此代码*不会*像您的代码那样将用户名和密码编辑控件的值保存到字符串变量中，但您始终可以从登录按钮的处理程序内部调用 GetWindowText。

# c++ - 在没有迭代器 C++ 的 std::set 中搜索

> ID：13308777
> 
> 赞同：3
> 
> 时间：2012-11-09T13:13:27.517
> 
> 标签：c++, iterator, stdset

我有`std::set`其中包含的`int`值。现在我使用迭代器来找出是否`set`contans `value`。

但是我的应用程序使用这个搜索非常频繁并且使用迭代器搜索太慢了，我可以做这样的事情吗：

```
std::set<int> fdsockets;

void myfunc(int fd)
{
    if(fdsockets[fd] != fdsockets.end())
    {
            // my code
    }
} 
```

但是使用 G++ 编译时出现错误

> 'fdsockets[fd]' 中的 'operator[]' 不匹配

也许我可以用一些东西代替`std::set`？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T13:15:53.800

[`std::unorered_set`](http://en.cppreference.com/w/cpp/container/unordered_set)或二分查找的有序`vector`对于简单的成员资格测试更有效。如果整数的最大值很低，则查找表可能是一种替代方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-09T13:17:40.863

听起来你想要[`set::find()`](http://en.cppreference.com/w/cpp/container/set/find)

```
if( fdsockets.find(fd) != fdsockets.end() )
{
      // my code
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-09T13:17:32.460

std::set 中没有 operator[]。

你大概是说

```
if(fdsockets.find(fd) != fdsockets.end()) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T14:16:10.080

如果您不需要`set::find`返回的迭代器（您只是在测试存在，而不是实际访问 fdsocket），这里有一个替代方案：

```
if(fdsockets.count(fd))
{
        // my code
} 
```

# android - sdk manager 无法在 avd 文件夹中创建 sdcard 并且无法找到 userdata.img

> ID：13308780
> 
> 赞同：1
> 
> 时间：2012-11-09T13:13:39.973
> 
> 标签：android, eclipse, emulation, sd-card

我现在已经无计可施了。我一直在尝试在 Eclipse 上设置 android 模拟器时遇到这些错误之一。我正在运行 Ubuntu。

我已经阅读了我为这个错误找到的所有答案，但对我没有任何帮助。请帮忙！！！

我已经多次卸载并安装了android SDK工具，包括系统映像。尽管出现以下错误，但我尝试更新 ia32-libs：

```
The following packages have unmet dependencies:
 ia32-libs : Depends: ia32-libs-multiarch but it is not installable
E: Unable to correct problems, you have held broken packages 
```

尝试后

```
sudo dpkg -r --force-all librtmp0
sudo apt-get install librtmp0
sudo apt-get install ia32-libs 
```

我仍然遇到与上述相同的错误。

# jquery - 页面刷新时如何运行jquery函数？

> ID：13308783
> 
> 赞同：2
> 
> 时间：2012-11-09T13:13:50.127
> 
> 标签：jquery, checkbox

我有一个复选框。当它被选中时，会出现一个段落。当它未选中时，它会隐藏。没有问题。问题是：如果我选中复选框，当我按下 F5（刷新）按钮时，复选框仍然被选中，但段落被隐藏。我想在刷新页面时显示段落。

这是HTML：

```
<input type="checkbox" id="something">
<p id="info" style="display:none">Yes ,checkbox is checked now...</p> 
```

这是jQuery：

```
$(document).ready(function() {

    $("#something").change( function(){
        if( $(this).is(':checked') ) {
            $("#info").show();
        } else {
            $("#info").hide();
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:15:52.443

You should check the state of the checkbox at loading :

```
$(document).ready(function() {
    function f() {
       if( $('#something').is(':checked') ) {
            $("#info").show();
        } else {
            $("#info").hide();
        }
    }
    $("#something").change(f);
    f();
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T13:16:31.537

You just have to trigger the event

```
$(document).ready(function() {

    // this only runs upon the event
    $("#something").change( function(){
        if( $(this).is(':checked') ) {
            $("#info").show();
        } else {
            $("#info").hide();
        }
    });

    // trigger the event
    $("#something").trigger("change");
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:17:26.530

Your current behavior is because you have the event handler for change. So when you do F5 and refresh, even though it is checked, there is no change.

You can just call this function explicitly in document.ready

```
function SetParagraphStatus() {
    if ($(this).is(':checked')) {
        $("#info").show();
    } else {
        $("#info").hide();
    }
}

$(document).ready(function () {

    $("#something").change(SetParagraphStatus);
    // call it anyway for load.
    SetParagraphStatus();
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T13:20:09.237

只需触发更改事件。

```
$(document).ready(function() {
    $("#something").change(function(){
        $("#info").toggle(this.checked);
    }).change()
}) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-28T21:15:33.253

```
$(window).bind("beforeunload", function(){

    $("#something >#info").show();

}); 
```

# objective-c - 使用参数从同级方法中调用方法

> ID：13308785
> 
> 赞同：2
> 
> 时间：2012-11-09T13:13:56.267
> 
> 标签：objective-c, xcode, ipad

我遵循了苹果的第一步教程，并且我有一个工作应用程序可以读取文本并将其显示在按钮单击的标签中。当我点击输入时，文本字段被辞职并且键盘消失，当我点击按钮时，该`changeGreeting`方法被调用。我想`changeGreeting`在按回车时使用的函数中调用该函数`textFieldShouldReturn`。

我尝试了我能想到的一切，并在网上阅读了很多内容，但我不确定如何将 (id)sender 作为参数处理。我应该如何编辑我的代码以在文本字段输入时调用 changeGreeting？

下面的代码：

```
- (IBAction)changeGreeting:(id)sender {

    self.userName = self.textField.text;

    NSString *nameString = self.userName;
    NSString *endString = @"burp";
    int r = arc4random() % 74;

    if ([nameString length] == 0) {
        nameString = @"World";
    }
    NSString *greeting = [[NSString alloc] initWithFormat:@"Hello, %@, %@! Random String of numbers: %d", nameString, endString, r];
    self.label.text = greeting;
}

    - (BOOL)textFieldShouldReturn:(UITextField *)theTextField {
    if (theTextField == self.textField) {
        [theTextField resignFirstResponder];
        // on enter the keyboard is removed, but I want the
        // changeGreeting method involed too, something like
        // [self changeGreeting]

    }
    return YES;
} 
```

感谢广告

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:16:53.863

You already have it. Just ignore the `sender` parameter:

```
- (BOOL)textFieldShouldReturn:(UITextField *)theTextField {
    if (theTextField == self.textField) {
        [theTextField resignFirstResponder];
        // on enter the keyboard is removed, but I want the
        // changeGreeting method involed too, something like
        [self changeGreeting:nil]
} 
```

# java - 需要Java简单代码行解释

> ID：13308792
> 
> 赞同：0
> 
> 时间：2012-11-09T13:14:28.093
> 
> 标签：java

> **可能重复：**
> [什么是 Java ?: 运算符，它有什么作用？](https://stackoverflow.com/questions/798545/what-is-the-java-operator-called-and-what-does-it-do)

您好，我在理解休闲代码时遇到了一些问题，有人可以帮我解决这个问题吗？

```
private Comparable elementAt( BinaryNode t ) {
    return t == null ? null : t.element;
} 
```

我不明白什么`t == null ? null : t.element;`意思。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T13:15:17.030

`return t == null ? null : t.element;`方法

```
if (t==null)
  return null;
else
  return t.element; 
```

另见[http://en.wikipedia.org/wiki/%3F:#Java](http://en.wikipedia.org/wiki/%3F:#Java)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T13:15:44.520

这是一个标准的习惯用法，可以避免 a `NullPointerException`in case`t`为 null。在这种情况下，它不会取消引用来获取元素，而是返回`null`.

有些人认为这是一个不好的习惯用法，因为它只会推迟 NPE，但是，根据具体情况，它可能正是人们所需要的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:15:55.737

它是一个三元运算符（在这种情况下检查 null），可以使用三元来代替 if/else 语句

# php - 在 php 会话中保存上传 img

> ID：13308794
> 
> 赞同：1
> 
> 时间：2012-11-09T13:14:40.780
> 
> 标签：php, session, file-upload

所以我已经构建了一个 3 步表单，在第 1 步中，当第 1 步验证通过时，在第 1 步结束时有一个上传文件输入：

```
$_SESSION['img']=array();
$_SESSION['img']['tmp_name']=$_FILES['file']['tmp_name'];
$_SESSION['img']['name']=$_FILES['file']['name'];

_crop("data/", $_SESSION['img']['tmp_name'], $_SESSION['img']['name'] , 83, 83); 
```

作为调整我的图像大小的`_crop`函数，所以在这里一切正常，img 被上传到 data/dir 并调整大小，但是如果我在表单的第三步调用函数 _crop，img 也不会被上传，即使

```
$_SESSION['img']['tmp_name']=$_FILES['file']['tmp_name'];
$_SESSION['img']['name']=$_FILES['file']['name']; 
```

在表格的第 3 步上仍然可见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:16:54.690

上传的文件是临时文件，请求完成后删除，您应该使用[move_uploaded_file()](http://www.php.net/manual/en/function.move-uploaded-file.php)函数将临时文件移动到某个目录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:18:59.677

仔细阅读：http: [//php.net/manual/ru/function.move-uploaded-file.php](http://php.net/manual/ru/function.move-uploaded-file.php)

文件被移动，而不是从临时目录中复制

# ruby-on-rails - 未初始化的常量 AssetSync

> ID：13308795
> 
> 赞同：6
> 
> 时间：2012-11-09T13:14:42.630
> 
> 标签：ruby-on-rails, heroku, amazon-web-services, assets

我使用 gem asset_sync 和 aws 来预编译我的资产。rake assets:precompile 工作正常。在我将我的应用程序推送到 heroku 之后，然后

```
heroku run rake db:migrate 
```

我收到以下错误

> “未初始化的常量 AssetSync”

初始化程序/asset_sync.rb

```
AssetSync.configure do |config|
  config.fog_provider = 'AWS'
  config.aws_access_key_id = "..."
  config.aws_secret_access_key = "..."
  config.fog_directory = Rails.env + "-..."
  config.fog_region = 'eu-west-1'
end 
```

配置/生产.rb

```
config.action_controller.asset_host = "//#{ENV['FOG_DIRECTORY']}.s3.amazonaws.com"
config.assets.enabled = true 
```

第一次运行 run rake assets:precompile 后，我所有的 app/assets/images 都移到了 public/assets 。我已将它们从 github 中删除，并将 public/assets/* 添加到 .gitignore。这可能是问题吗？

编辑：运行 git push heroku master 时，看起来它们是预编译的

```
 Preparing app for Rails asset pipeline
   Running: rake assets:precompile
   AssetSync: using /tmp/build_2ltvklj0gaxjp/config/initializers/asset_sync.rb
   AssetSync: using /tmp/build_2ltvklj0gaxjp/config/initializers/asset_sync.rb
   AssetSync: Syncing.
   Using: Directory Search of /tmp/build_2ltvklj0gaxjp/public/assets
   Uploading: assets/application-7e17d9f0ed9cb7ea50b750e2bfc7e28c.css.gz
   Uploading: assets/application-7e17d9f0ed9cb7ea50b750e2bfc7e28c.css
   AssetSync: Done.
   Asset precompilation completed (58.04s) 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-09T14:37:56.197

您的初始化程序假定 AssetSync 始终被定义，但如果您`Gemfile`看起来像这样，则情况并非如此：

```
group :assets do
  gem 'asset_sync'
end 
```

该`asset_sync`文档建议将初始化程序包装在：

```
if defined?(AssetSync)
...
end 
```

这是因为 Heroku 在`production`没有`assets`宝石组的情况下运行。Heroku 会在您运行推送时预编译您的资产——如果`asset_sync`启用，它将在那时更新 S3——因此当您的应用程序稍后启动时，它不再需要这些 gem。因此，您的`asset_sync`初始化程序需要处理未加载 gem 的情况。

# android - 应用程序在模拟器上运行良好，但在设备上出现 NoClassDefFoundError

> ID：13308796
> 
> 赞同：2
> 
> 时间：2012-11-09T13:14:50.090
> 
> 标签：android, android-emulator, noclassdeffounderror

我开发了一个应用程序，它在模拟器上按预期运行，但在我的设备（HTC one X）中运行它时出错。以下是logcat中显示的错误。有一种方法可以创建通知。`createNotification()`调用此方法时出现错误。Logcat 如下：

```
11-09 13:40:13.350: E/AndroidRuntime(5294): FATAL EXCEPTION: main
11-09 13:40:13.350: E/AndroidRuntime(5294): java.lang.NoClassDefFoundError: android.app.TaskStackBuilder
11-09 13:40:13.350: E/AndroidRuntime(5294):     at com.example.accessibility.Accessibility.createNotification(Accessibility.java:205)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at com.example.accessibility.Accessibility$1.onClick(Accessibility.java:69)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at android.view.View.performClick(View.java:3538)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at android.view.View$PerformClick.run(View.java:14319)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at android.os.Handler.handleCallback(Handler.java:608)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at android.os.Handler.dispatchMessage(Handler.java:92)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at android.os.Looper.loop(Looper.java:156)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at android.app.ActivityThread.main(ActivityThread.java:5045)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at java.lang.reflect.Method.invokeNative(Native Method)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at java.lang.reflect.Method.invoke(Method.java:511)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
11-09 13:40:13.350: E/AndroidRuntime(5294):     at dalvik.system.NativeStart.main(Native Method) 
```

如果有人可以帮助我解决此错误，我将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T13:31:38.483

`TaskStackBuilder`从 API 级别 16 开始可用（Android 4.1 也称为 Jellybean）。您的 HTC One X 装有 Android 4.0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:31:45.253

您最近是否更新了 eclipse android 插件（adt r17）？那么以下链接可能会有所帮助：

[如何使用 adt-17 修复 classdefnotfounderror](http://android.foxykeep.com/dev/how-to-fix-the-classdefnotfounderror-with-adt-17)

如果没有，请发布一些代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-12T10:50:25.003

正如@David Wasser 提到的，TaskStackBuilder 是在 API 级别 16（Android 4.1）中添加的

您可以通过添加 import`android.support.v4.app.TaskStackBuilder;`而不是 `import android.app.TaskStackBuilder;`

确保您的应用添加了 v4 / v7 支持库

# mysql - 大表中排序查询的 mysql 性能改进

> ID：13308799
> 
> 赞同：1
> 
> 时间：2012-11-09T13:14:57.140
> 
> 标签：mysql, sql

表结构：

```
CREATE TABLE `mytable` (
  `id` varchar(8) NOT NULL,
  `event` varchar(32) NOT NULL,
  `event_date` date NOT NULL,
  `event_time` time NOT NULL,
  KEY `id` (`id`) 
) ENGINE=MyISAM DEFAULT CHARSET=utf8 
```

此表中的数据如下所示：

```
 id      | event      | event_date  | event_time
---------+------------+-------------+-------------
ref1     | someevent1 | 2010-01-01  | 01:23:45
ref1     | someevent2 | 2010-01-01  | 02:34:54
ref1     | someevent3 | 2010-01-18  | 01:23:45
ref2     | someevent4 | 2012-10-05  | 22:23:21
ref2     | someevent5 | 2012-11-21  | 11:22:33 
```

该表包含大约 500.000.000 条与此类似的记录。

我想在这里询问的查询如下所示：

```
SELECT     *
FROM       `mytable`
WHERE      `id` = 'ref1'
ORDER BY   event_date DESC,
           event_time DESC
LIMIT      0, 500 
```

`EXPLAIN`输出如下所示：

```
select_type:   SIMPLE
table:         E
type:          ref
possible_keys: id
key:           id
key_len:       27
ref:           const     
rows:          17024 (a common example)
Extra:         Using where; Using filesort 
```

目的：此查询由网站生成，`LIMIT`-values 用于页面导航元素，因此如果用户想要查看较旧的条目，他们将被调整为`500, 500`，然后`1000, 500`等等。

由于字段中的某些项目`id`可以设置在相当多的行中，因此越来越多的行当然会导致查询速度变慢。分析那些缓慢的查询向我展示了排序的原因，在查询过程中，mysql 服务器大部分时间都在忙于对数据进行排序。索引字段`event_date`并`event_time`没有太大变化。

示例`SHOW PROFILE`结果，按持续时间排序：

```
state          | duration/sec | percentage
---------------|--------------|-----------
Sorting result |     12.00145 |   99.80640
Sending data   |      0.01978 |    0.16449
statistics     |      0.00289 |    0.02403
freeing items  |      0.00028 |    0.00233
...
Total          |     12.02473 |  100.00000 
```

现在的问题：

在深入研究 mysql 变量之类的[`sort_buffer_size`](http://dev.mysql.com/doc/refman/5.0/en/server-system-variables.html#sysvar_myisam_sort_buffer_size)其他服务器配置选项之前，您能想出任何方法来更改查询或排序行为，因此排序不再是那么大的性能消耗者，并且该查询的目的仍然存在吗？

我不介意一些开箱即用的想法。

先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:37:40.450

正如我在评论中所写的那样，多列索引（id、evet_date desc、event_time desc）可能会有所帮助。

如果此表将快速增长，您应该考虑在应用程序中添加选项，以便用户选择特定日期范围的数据。

示例：第一步总是返回 500 条记录，但要选择下一条记录，用户应设置数据的日期范围，然后设置分页。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:32:43.243

索引很可能是解决方案；你只需要做对。请参阅[mysql 参考页面](http://dev.mysql.com/doc/refman/5.0/en/order-by-optimization.html)。

最有效的方法是在`(id, event_date, event_time)`. 您可以`event_date desc, event_time desc`在索引中指定，但我认为没有必要。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:34:09.877

我会先做 sufleR 建议的事情 - (id, event_date desc, event_time desc) 上的多列索引。

但是，根据[http://dev.mysql.com/doc/refman/5.0/en/create-index.html](http://dev.mysql.com/doc/refman/5.0/en/create-index.html)，支持 DESC 关键字，但实际上并没有做任何事情。这有点痛苦——所以尝试一下，看看它是否能提高性能，但可能不会。

如果是这种情况，你可能不得不通过创建一个“sort_column”来作弊，它的值会自动递减（很确定你必须在应用层这样做，我认为你不能在 MySQL 中递减），并且将该列添加到索引中。

你最终会得到：

```
id      | event      | event_date  | event_time  | sort_value
---------+------------+-------------+-------------------------
ref1     | someevent1 | 2010-01-01  | 01:23:45   | 0
ref1     | someevent2 | 2010-01-01  | 02:34:54   | -1
ref1     | someevent3 | 2010-01-18  | 01:23:45   | -2
ref2     | someevent4 | 2012-10-05  | 22:23:21   | -3
ref2     | someevent5 | 2012-11-21  | 11:22:33   | -4 
```

以及 ID 和 sort_value 上的索引。

很脏，但唯一的其他建议是以其他方式减少与 where 子句匹配的记录数 - 例如，通过更改接口不返回 500 条记录，而是返回给定日期的记录。

# android - 带有Activity参数的类中的Android Override方法

> ID：13308801
> 
> 赞同：2
> 
> 时间：2012-11-09T13:15:02.477
> 
> 标签：android, methods, android-activity, overriding

我想知道我是否像这样通过其他课程进行活动：

```
public class GateActivity extends MapActivity {

private Presenter assistant = null;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    assistant = new Presenter(this);
// ...
} 
```

还有这个类：

```
public class Presenter {
private android.app.Activity act;

public Presenter(android.app.Activity a){
    this.act = a;
    // ...
} 
```

如果可以在“Presenter”类中创建这样的意图：

```
intent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.INTERNAL_CONTENT_URI);
intent.setType("image/*");
act.startActivityForResult(intent, 1); 
```

并创建/处理其“Override onActivityResult(...)”方法：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data){
    switch (requestCode){
    case 1: // ...
} 
```

提前致谢！;)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:29:14.837

是的，这应该工作。

当被调用的活动完成后，`GateActivity.onActivityResult()`将被调用。

# android - Android：从字符串转换为日期

> ID：13308804
> 
> 赞同：-1
> 
> 时间：2012-11-09T13:15:11.133
> 
> 标签：android, date, datepicker

我是安卓新手。我在数据库中有一个表，其中日期列为字符串类型，并以这种格式“dmyyyy”存储日期我需要从 sqlite 数据库中检索以这种格式存在的日期并将该值更新到 DatePicker 视图。我如何实现这一点，请帮助我。

例如：“1102012”（2012 年 11 月 1 日）

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:22:30.377

首先，您为什么首先将它们存储为该格式的字符串？您的格式完全模棱两可-假设您在示例中犯了一个错误，您将如何区分“1 月 11 日”和“11 月 1 日”？两者都是“111”，然后是年份。

据我了解，SQLite 通常使用 ISO-8601 日期和时间表示——这就是它的[日期/时间函数](http://www.sqlite.org/lang_datefunc.html)所使用的，这也是我期望客户端库公开的。

无论如何，在解析方面，您可以*使用*Joda [Time](http://joda-time.sf.net)，它是一个第三方日期/时间 API，比内置和类*要*好得多，也可以使用. 我建议您明确指定（理想情况下，*不是*用户的语言环境 - 这只是为了存储）时区（同样，您几乎可以肯定使用 UTC 而不是用户的时区）和模式（例如ISO-8601 ）。然后用于检索... 您可能希望将其设置为具有相同时区的 a ，以便获得更多有用的信息。`Date``Calendar``SimpleDateFormat``Locale``Locale.US`*`yyyy-MM-dd``parse``Date``Calendar`*

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:26:32.980

试试这样

```
String dateStr = "5/31/2011";
DateFormat df = new SimpleDateFormat("M/dd/yyyy");
Date date = df.parse(dateStr); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-09T13:46:03.903

日期应采用 DDMMYYYY 格式。格式 DMYYYY 是不可解析的。将以下方法添加到您的课程中；

```
private int getDay(String s) {
    return Integer.valueOf(s.substring(0, 2));
}

private int getMonth(String s) {
    return Integer.valueOf(s.substring(2, 4));
}

private int getYear(String s) {
    return Integer.valueOf(s.substring(4));
} 
```

然后像这样设置 DatePicker ：

```
String dateString = "01112012";
DatePicker datePicker = (DatePicker) findViewById(R.id.date_picker);
datePicker.updateDate(getYear(dateString), getMonth(dateString), getDay(dateString)); 
```*

# php - 何时以及如何在跨域的小书签中使用 !important CSS 属性？

> ID：13308809
> 
> 赞同：0
> 
> 时间：2012-11-09T13:15:37.017
> 
> 标签：php, javascript, css, api, bookmarklet

我有一个`bookmarklet`，最近我使用[cleanslate css](https://github.com/premasagar/cleanslate)`CSS`更改了属性，因为使用时第三方网站上的书签设计不一样。

这个 CSS 文件应该重置特定标签内所有标签的所有属性，它会这样做，但是当我需要操作设置时，我不能；

```
<div class="mainclass">
<div id="login">a</div>
<div id="form">b</div>
<div id="details">c</div>
</div> 
```

我有很多表单，我在特定操作中隐藏和取消隐藏，例如：我显示登录表单，如果用户未登录，我显示详细表单，如果用户登录并且我是否知道历史URL 和其他形式；

因此，如果我将`div id details display`属性设置为`block`，其余设置为`none`，然后尝试将所有属性设置为，`none`它不会执行任何操作，但我可以看到运行操作`div id form display``block``css``javascript`

这个 CSS 应该可以完成这项工作，但是因为我在所有标签属性上都使用了 !important 属性，所以我无法将 JavaScript 新值设置为属性，例如：

```
document.getElementById("form").style.display = "none"; 
```

![在此处输入图像描述](../Images/c6f16e4239d7fe9af8ebf06f0b133a14.png)

在这张图片中，我使用了旧的 CSS，使用了重置方法，并且 js 代码运行良好，但是在第三方网站上的设计不一样

实际项目中，所有第三方网站的设计都是一样的，但是js代码不能设置CSS属性

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:21:29.393

重要的是一般来说是一个非常糟糕的主意，应该尽量避免，因为它违反了 css 中的特异性规则。有没有办法让你的css更具体地覆盖当前样式而不是使用！importnat。

你仍然可以通过做这样的事情来申请重要

```
element.style.setProperty("display", "none", "important"); 
```

或者 jquery 让它变得很容易

```
element.css("display","none !important"); 
```

但最好还是不要使用重要的

# java - ClassNotFoundException found in Log4j 2.0

> ID：13308812
> 
> 赞同：4
> 
> 时间：2012-11-09T13:15:51.787
> 
> 标签：java, log4j

im already set the build path for log4j12-api-beta2.jar but it gives the following error please help me to solve this problem
my code is follows java file:

```
package com.sst.log4j;

 class Product {
private int productId;
private String productName;
public int getProductId() {
    return productId;
}
public void setProductId(int productId) {
    this.productId = productId;
}
public String getProductName() {
    return productName;
}
public void setProductName(String productName) {
    this.productName = productName;
}
public Product(int productId, String productName) {
    super();
    this.productId = productId;
    this.productName = productName;
}

 } 
```

and my Main() file is:

```
 package com.sst.log4j;
import org.apache.log4j.LogManager;
import org.apache.log4j.Logger;

public class ProductMain {

/**
 * @param args
 */
static Logger log=LogManager.getLogger(Product.class.getName());
public static void main(String[] args) {
    // TODO Auto-generated method stub
    Product p1=new Product(1,"garlands");
    System.out.println(p1.getProductName());
    log.error(p1.getProductName());

}

} 
```

it gives the following Exception:

```
Exception in thread "main" java.lang.NoClassDefFoundError: org/apache/logging/
 log4j/LogManager
at java.lang.ClassLoader.defineClass1(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
at org.apache.log4j.LogManager.getLogger(LogManager.java:38)
at com.sst.log4j.ProductMain.main(ProductMain.java:14)
    Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager
  at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
... 14 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:29:28.153

我刚刚从这里下载了 log4j 2.0：http: [//logging.apache.org/log4j/2.x/download.html](http://logging.apache.org/log4j/2.x/download.html)

我还没有使用它，但看起来你可能既需要在类路径上`log4j-api-2.0-beta2.jar`也需要`log4j-core-2.0-beta2.jar`。我猜api jar是这样你可以编译的，核心包含实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-30T04:40:07.587

您是否在使用 IDE（例如 Eclipse）并且您是否通过运行代码（而不是在编译代码时）获得了堆栈跟踪？

这里只是一个疯狂的猜测，但您可能只是在设置构建路径（因此您的项目可以编译好），但是您在运行时的类路径没有 Log4J jar。

在 Eclipse 中，您可以导出一个 JAR 文件，以便它在运行时可用。

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2013-01-08T12:10:50.040

文基马华，

您需要导入以下包才能使用 log4j 2.0

```
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger; 
```

他们会很好地工作。

# python - 使用 python 或 windows 命令行的 PC ram 大小

> ID：13308815
> 
> 赞同：1
> 
> 时间：2012-11-09T13:15:52.957
> 
> 标签：python

> **可能重复：**
> [如何在 Python 中获取当前的 CPU 和 RAM 使用情况？](https://stackoverflow.com/questions/276052/how-to-get-current-cpu-and-ram-usage-in-python)

如何使用 python 或 wmi 生成器/Windows 命令行读取 pc ram 大小

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T14:13:46.640

查看 psutil，如果您通过包管理器安装它，请注意那些使用 linux 的人，请注意您使用的版本，因为它们通常已过时。

> [https://github.com/giampaolo/psutil](https://github.com/giampaolo/psutil)
> 
> psutil 是一个模块，它提供了一个接口，用于通过使用 Python 以可移植的方式检索有关所有正在运行的进程和系统利用率（CPU、内存、磁盘、网络、用户）的信息，实现了命令行工具提供的许多功能，例如：

有关内存细节，请查看[http://code.google.com/p/psutil/wiki/Documentation#Memory](http://code.google.com/p/psutil/wiki/Documentation#Memory)

# eclipse - The barchart(jfreechart) is displayed as small icon on a composite in a view of Eclipse RCP plugin

> ID：13308820
> 
> 赞同：0
> 
> 时间：2012-11-09T13:16:00.683
> 
> 标签：eclipse, jfreechart, rcp, bar-chart

The barchart is displayed as small icon on a composite of a view in Eclipse RCP plugin. The chart does not cover the entire composite which should be the actual case. what additional setting needs to be made in code to display the graph on entire composite

Following is the code for displaying the **bargraph**

```
 final CategoryDataset dataset = createDataset();
      final JFreeChart chart = createChart(dataset);
      if(flag == false){
          frame.dispose();
      }

      frame = new ChartComposite(barchartComposite,SWT.NONE,chart,true);
      frame.setLayoutData(new GridData(GridData.FILL_BOTH));
      frame.setChart(chart);
      frame.forceRedraw();
      frame.pack();
      frame.setVisible(true);
      flag= false; 
```

The method `createDataset()` generates the data for the barchart and method `createChart(dataset)` generates the **barchart**.

> THE COMPLETE SOURCE CODE FOR DISPLAY OF VIEW

```
public class BarChartDisplay extends ViewPart {

Text searchfield = null;
String path = SelectDataBase.path;
public static int error=0;
public static int info=0;
public static int critical=0;
public static int warning=0;

ChartComposite frame;
boolean flag=true;

public BarChartDisplay() {

}

@Override
public void createPartControl(Composite parent) {

    //Composite A:
    final Composite mainComposite = new Composite(parent, SWT.NONE);
    GridData mainLayoutData = new GridData(SWT.FILL, SWT.FILL, true, true);
    mainLayoutData.horizontalSpan = 1;
    mainComposite.setLayoutData(mainLayoutData);

    GridLayout outerLayout = new GridLayout();
    outerLayout.marginTop = 30;
    outerLayout.marginLeft = 20;
    outerLayout.marginRight = 20;
    mainComposite.setLayout(new GridLayout(1, false));

    //Composite B:
    final Composite selectComposite = new Composite(mainComposite, SWT.NONE);
    selectComposite.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));
    selectComposite.setLayout(new GridLayout(4, false));

    //Composite C:
    final Composite barchartComposite = new Composite(mainComposite, SWT.NONE);
    barchartComposite.setLayout(new GridLayout(1, false));
    barchartComposite.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

    final CalendarCombo ccombo = new CalendarCombo(selectComposite, SWT.READ_ONLY | SWT.FLAT);
    GridData layoutDataCal = new GridData(150, 40);

    ccombo.computeSize(SWT.DEFAULT, SWT.DEFAULT);
    ccombo.showCalendar();
    ccombo.setLayoutData(layoutDataCal);

    org.eclipse.swt.widgets.Button button = new org.eclipse.swt.widgets.Button(selectComposite, SWT.PUSH);
    button.setText("Go");

button.addListener(SWT.Selection, new Listener() {
    public void handleEvent(Event e) {
      switch (e.type) {
      case SWT.Selection:

        error = 0;
        info = 0;
        warning = 0;
        critical = 0;

        DB db = new DB();
        Connection conn = null;
        conn = db.ConnTable(path);
        Statement statement;
        try {
            statement = conn.createStatement();
            String query = null;
            String textfielddata = ccombo.getDateAsString();

            System.out.println(textfielddata);

            query = "select priority from log where creation_date = '"+ textfielddata +"'";

            System.out.println(query);
            ResultSet rs = statement.executeQuery(query);

            while (rs.next()) {

                int  prioritydata = rs.getInt("priority");

                if (prioritydata == 1)
                    error++;
                else if (prioritydata == 2)
                    info++;
                else if (prioritydata == 3)
                    warning++;
                else if (prioritydata == 4)
                    critical++;
            }

        } catch (SQLException er) {
            er.printStackTrace();
        }

      final CategoryDataset dataset = createDataset();
      final JFreeChart chart = createChart(dataset);
      if(flag == false){
          frame.dispose();
      }

      frame = new ChartComposite(barchartComposite,SWT.BORDER,chart,true);
      frame.setLayoutData(new GridData(GridData.FILL_BOTH));
      frame.setChart(chart);
      frame.forceRedraw();
      frame.pack();
      frame.setVisible(true);
      flag= false;
      break;
      }
    }
  });

}

 /**
 * Returns a sample dataset.
 * 
 * @return The dataset.
 */
private CategoryDataset createDataset() {

    // row keys...
    final String series1 = "First";

    // column keys...
    final String category1 = "error";
    final String category2 = "info";
    final String category3 = "warning";
    final String category4 = "critical";

    // create the dataset...
    final DefaultCategoryDataset dataset = new DefaultCategoryDataset();

    dataset.addValue(error, series1, category1);
    dataset.addValue(info, series1, category2);
    dataset.addValue(warning, series1, category3);
    dataset.addValue(critical, series1, category4);

    return dataset;

}

/**
 * Creates a sample chart.
 * 
 * @param dataset  the dataset.
 * 
 * @return The chart.
 */
private JFreeChart createChart(final CategoryDataset dataset) {

    // create the chart...
    final JFreeChart chart = ChartFactory.createBarChart(
        "Priority BarChart",         // chart title
        "priority",               // domain axis label
        "Value",                  // range axis label
        dataset,                  // data
        PlotOrientation.VERTICAL, // orientation
        true,                     // include legend
        true,                     // tooltips?
        false                     // URLs?
    );

    // NOW DO SOME OPTIONAL CUSTOMISATION OF THE CHART...

    // set the background color for the chart...
    chart.setBackgroundPaint(Color.white);

    // get a reference to the plot for further customisation...
    final CategoryPlot plot = chart.getCategoryPlot();
    plot.setBackgroundPaint(Color.lightGray);
    plot.setDomainGridlinePaint(Color.white);
    plot.setRangeGridlinePaint(Color.white);

    // set the range axis to display integers only...
    final NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();
    rangeAxis.setStandardTickUnits(NumberAxis.createIntegerTickUnits());

    // disable bar outlines...
    final BarRenderer renderer = (BarRenderer) plot.getRenderer();
    renderer.setDrawBarOutline(false);

    // set up gradient paints for series...
    final GradientPaint gp0 = new GradientPaint(
        0.0f, 0.0f, Color.blue, 
        0.0f, 0.0f, Color.lightGray
    );

    renderer.setSeriesPaint(0, gp0);

    final CategoryAxis domainAxis = plot.getDomainAxis();
    domainAxis.setCategoryLabelPositions(
        CategoryLabelPositions.createUpRotationLabelPositions(Math.PI / 6.0)
    );
    // OPTIONAL CUSTOMISATION COMPLETED.

    return chart;

}   

@Override
public void setFocus() {

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T19:39:43.517

您必须修改名为`barchartComposite`.

```
parent.setLayout(new GridLayout(1, false));
parent.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

final CategoryDataset dataset = createDataset();
final JFreeChart chart = createChart(dataset);

Composite barchartComposite = new Composite(parent, SWT.NONE);
barchartComposite.setLayout(new GridLayout(1, false));
barchartComposite.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

ChartComposite frame = new ChartComposite(barchartComposite, SWT.BORDER,chart,true);
frame.setLayoutData(new GridData(GridData.FILL_BOTH)); 
```

您必须确保它`barchartcomposite`抓住了父复合材料的整个空间。这可以通过[GridLayout](http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/layout/GridLayout.html)和[GridData](http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/layout/GridData.html)来实现。

您可以在此处找到有关所有 SWT 布局的非常有用的教程：

*   [了解 SWT 中的布局](http://www.eclipse.org/articles/article.php?file=Article-Understanding-Layouts/index.html)

# vba - 从另一个 MS-Access 项目加载外部 .bas 模块

> ID：13308834
> 
> 赞同：1
> 
> 时间：2012-11-09T13:16:55.127
> 
> 标签：vba, ms-access, module, code-reuse

我有多个带有一些 VBA 代码的 MS-Access 2003 项目，并且我希望在同一个文件中拥有一些冗余功能。我考虑将其保存在外部 .bas 模块中并将其加载到我的所有项目中。是否可以？如果是这样，我们如何实现这一点，我是否必须更改对我的函数的实际（简单）调用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:24:23.537

您可以使用未记录的：

```
Application.SaveAsText acModule, "module1", "module1x.bas"
Application.LoadFromText acModule, "module1y", "module1x.bas" 
```

或者，您可以通过右键单击代码窗口中的模块名称来手动保存和加载。

最后，您可以像引用任何其他引用一样引用 Access 应用程序，然后使用代码。文件类型[*.mda 是库类型](http://msdn.microsoft.com/en-us/library/office/aa141032%28v=office.10%29.aspx)。据我所知，从 2007 年开始，您可以创建 *.accda 库类型。

# r - Normality test in R gives strange result?

> ID：13308840
> 
> 赞同：1
> 
> 时间：2012-11-09T13:17:20.600
> 
> 标签：r, testing, statistics, normal-distribution

> **Possible Duplicate:**
> [Seeing if data is normally distributed in R](https://stackoverflow.com/questions/7781798/seeing-if-data-is-normally-distributed-in-r)

I have 6 sets of residuals (fit - model) that I am testing for normality (I am trying to demonstrate that the deviation from the model is within instrumental noise).

The kernel density plots of all of them look approximately Gaussian, and the qqnorm plots look good. I have run all of them through two normality tests: shapiro.test {base} and ad.test {nortest}. These tests show that all the data sets are normal (p>>0.05, accept the null hypothesis of normality) except one. Usually I would not question these results, but the test that is coming back as 'not normal' (p<0.05, reject the null hypothesis of normality) is from the data set that looks MOST gaussian... I am confused, and would appreciate any help!

[Here](http://dl.dropbox.com/u/70897272/Matrix.png) is the matrix of my residual kernel density plots, with the p-values from Anderson-Darling normality tests (ad.test) noted. All graphs are on the same scale (x & y). The non-normal peculiarity is the CvsD graph marked in red.

[Here is a link to the data for the CvsD comparison.](http://dl.dropbox.com/u/70897272/example.r)

Why aren't these residuals normal!?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:59:31.757

事实上，这对我来说看起来不是很高斯；更像是具有大 n 的 t 分布——它比正态曲线更“尖锐”。ad.test*和*shapiro测试都返回 p < 0.05（`shapiro.test`根据您的数据返回 p = 0.002655）。

但是，请注意，正态性检验的有用性是有争议的；例如看[这个问题](https://stats.stackexchange.com/questions/2492/is-normality-testing-essentially-useless)。基本上，对于大样本量，即使是与正态分布的小偏差也会受到惩罚，并且 H0 会被拒绝。

也就是说，我仍然相信 - 鉴于您只有 328 个样本量 - 在您的情况下，分布并不真正正常。

# java - Hibernate get 方法在线程中返回旧版本的记录

> ID：13308845
> 
> 赞同：0
> 
> 时间：2012-11-09T13:17:27.967
> 
> 标签：java, spring, hibernate, web-applications

我们有 java web 应用程序，我们正在使用 spring、hibernate3，我无法从 DB 获取实际版本的记录。

这是代码片段：

```
Class Scheduler
{
    public void scheduleTests(………….)
    {
    .
    .
    .
    TestCase testCase;
    .
    //Updating entity
    getHibernateTemplate ().saveOrUpdate(testCase);
    getHibernateTemplate ().flush();
    .
    .
    .
    Starts new thread
    .
}

Thread run{
    .
    .
    TestCase testCase = getTestCase(testCaseId);
    .
    .
    .
    .
    updateTestCase(testCase);
}

getTestCase(testCaseId)
{
    TestCase testCase = null;
    try
    {                       
        testCase=(TestCase)getHibernateTemplate().get(TestCase.class, testCaseId);
    }
    catch (Exception ex)
    {
       ex.printStackTrace();
    }
    return testCase;
}

updateTestCase(TestCase testCase)
{
    try
    {
       getHibernateTemplate ().saveOrUpdate(testCase);
       getHibernateTemplate ().flush();
    }
    catch (Exception ex)
    {
       ex.printStackTrace();
    }
} 
```

在方法计划测试中，我更改了对象 TestCase 并将其保存到数据库中。然后新线程开始，在这个线程的开头，我向 DB 询问 DB 的实际版本的 TestCase。然后执行一些功能，并将 TestCase 的最终状态更新为 DB。

问题是当我运行这个场景超过 1 次时。然后奇怪的事情发生了。在线程方法运行中，我从方法 getTestCase 旧版本的 TestCase 得到，然后更新崩溃，但出现以下异常：

错误

```
org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:300) - Could not synchronize database state with session
"org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [at.h3g.portal.db.webshop.WsRcCheck#405]
    at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:1680)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2271)
    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2180)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2456)
    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:91)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:248)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:232)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:140)
    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)
    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)
    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:988)
    at org.springframework.orm.hibernate3.HibernateTemplate$29.doInHibernate(HibernateTemplate.java:815)
    at org.springframework.orm.hibernate3.HibernateTemplate.execute(HibernateTemplate.java:366)
    at org.springframework.
ERROR org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:300) - Could not synchronize database state with session
"org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [at.h3g.portal.db.webshop.WsRcCheck#405]
    at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:1680)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2271)
    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2180)
    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2456)
    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:91)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:248)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:232)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:140)
    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)
    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)
    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:988)
    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:337)
    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)
    at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:584)
    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:500)
    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:473)
    at org.springframework.transaction.interceptor.TransactionAspectSupport.doCommitTransactionAfterReturning(TransactionAspectSupport.java:267)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:170) 
```

为什么我得到旧版本的 TestCase？我能做什么？这是Hibernate和Spring的配置。

在 Web.Xml 中：

```
<filter>
    <filter-name>hibernateFilter</filter-name>
    <filter-class>org.springframework.orm.hibernate3.support.OpenSessionInViewFilter</filter-class>
    <init-param>
        <param-name>sessionFactoryBeanName</param-name>
        <param-value>sessionFactory</param-value>
    </init-param>
</filter> 
```

和上下文配置：

```
<bean id="sessionFactory"
    class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
    <property name="dataSource">
        <ref bean="dataSource" />
    </property>
    <property name="mappingResources">
        <list>
        .
        .
        .
        </list>
    </property>
    <property name="hibernateProperties">
        <props>
            <prop key="hibernate.dialect">
                org.hibernate.dialect.Oracle9Dialect
            </prop>
            <prop key="hibernate.connection.release_mode">
                auto
            </prop>
        </props>
    </property>
</bean>

<bean id="dataSource"
    class="org.springframework.jndi.JndiObjectFactoryBean">
    <property name="jndiName">
        <value>java:comp/env/jdbc/SOMEDATASOURCE</value>
    </property>
</bean>

<bean id="hibernateTemplate"
    class="org.springframework.orm.hibernate3.HibernateTemplate">
    <property name="sessionFactory">
        <ref bean="sessionFactory" />
    </property>
</bean>

<bean id="transactionManager"
    class="org.springframework.orm.hibernate3.HibernateTransactionManager">
    <property name="sessionFactory">
        <ref local="sessionFactory" />
    </property>
</bean>

<bean id="transactionInterceptorTestScheduling"
    class="org.springframework.transaction.interceptor.TransactionInterceptor">
    <property name="transactionManager">
        <ref bean="transactionManager" />
    </property>
    <property name="transactionAttributeSource">
        <value>                 org.company.db.Scheduler.updateTestCase=PROPAGATION_REQUIRES_NEW
        </value>
    </property>
</bean> 
```

而且我想补充一下，当时只创建了一个线程，没有其他任何东西可以访问数据库中的TestCase数据。唯一的问题是 getTestCase 返回旧版本的 TestCase 记录，我现在不知道为什么。

谢谢你的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T19:41:30.470

问题是休眠会话绑定到当前线程。所以一种解决方案是不使用线程，或者应该创建事务拦截器，它会处理线程的会话。查看更多关于[Spring 如何从 ProxyFactoryBean 获取具有原型范围的 bean](https://stackoverflow.com/questions/13434799/spring-how-to-get-bean-with-prototype-scope-from-proxyfactorybean)

# visual-c++ - Invalid external type library references ("Error loading DLL")

> ID：13308848
> 
> 赞同：1
> 
> 时间：2012-11-09T13:17:35.623
> 
> 标签：visual-c++, vb6, typelib

Whilst I am doing VB6 development, I think that this is a wider issue. I have found that sometimes in the VB IDE we get an error: [BadImplementsRefInCompatLib]. Using the Type Library Viewer that comes with "Advanced Visual Basic 6" by Matt Curland, it flags up that the type library in my component has a reference to a type library it can't find, but not what it is. The underlying error is with the TLI component when it tries to find out about an interface that is defined in another type library.

I also tried OLE View - to try and reverse compile the IDL - but again, it gave an error message when trying to get the external type, without identifying the erroneous value.

I traced the actual error back to the type library reference in the registry which was point to a component, but the major version was incorrect. Replacing the major version fixed the issue.

I used a binary editor to see if I could spot what information is being used in the type library. And indeed, I found the names (no paths) of the components which it references, but I couldn't work out the format. I was actually hoping to find a table of type library GUIDs and version numbers. I suppose I could write code to extract these names, and eliminate the "working" references, but this is a bit crude.

Does anyone know how a type library references external types?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T15:07:38.073

`[BadImplementsRefInCompatLib]` means that your binary compatible target's typelib has a reference to an external typelib and this external typelib is not registered.

For instance if you have a project group with several ActiveX DLLs that are set to binary compatible version compatibility **and** `Project2` references `Project1` (uses types from Project1 on functions/properties prototypes of a public class) when `Project1` breaks compatibility and gets recompiled `Project2`'s compatibility target has a typelib that references external typelib that is not registered (namely the old version of `Project1` component).

In our shop we do have references across VB6 projects but never ever use types from core on public methods/properties of classes. Such parameters are declared `As Object` and down-cast in code which is less trouble than tying components with external cross references. Curland's `EditTLB` is used regularly to spot offending classes.

No idea how a type library references external types. I just `importlib("component.tlb")` in idl and use types from `component` at will.

Btw, a very simple way to "protect" a COM component (DLL/OCX) from being used in VB6 IDE is to reference a `struct` in external custom made typelib (param to a public method) and then "forget" to ship this external typelib. VB6 IDE chokes with "Error loading DLL" on adding a reference to the DLL/OCX but the component works and registers perfectly, provided you don't try to call this "obfuscated" method cross threads (in-process or not).

# facebook - 更改脸书应用程序名称的后果？

> ID：13308854
> 
> 赞同：1
> 
> 时间：2012-11-09T13:17:59.883
> 
> 标签：facebook, facebook-apps

我将开始开发一个新的 facebook 应用程序来替换旧的。我可以创建一个新的并从零开始......或者我可以替换旧的代码并更改其名称，以留住用户？对我来说这听起来很奇怪，但我可以吗？

更改应用程序名称有什么后果吗？如果我更改名称，我可以保留我的用户吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:32:50.690

应用程序名称纯粹用于显示目的——更改它不会产生任何影响，除了在 Auth 对话框中显示给用户的内容以及显示您的应用程序名称的其他位置，通过您的应用程序发布的帖子（尽管对于后者它'还将影响以前发布的帖子的显示 - 在更改后查看时，它们将显示为通过新应用名称发布）。

> 留住用户？

但如果你从根本上改变功能，也许你应该“重新开始”——我不知道作为用户我有多喜欢它，因为我以前使用的应用现在做了完全不同的事情……</p>

# asp.net-mvc - 在 mvc3 中添加带有 url 的额外参数

> ID：13308858
> 
> 赞同：4
> 
> 时间：2012-11-09T13:18:07.290
> 
> 标签：asp.net-mvc, asp.net-mvc-3, routing

我是 asp.net mvc3 的新手。我想在控制器之前添加带有 url 的额外参数，例如：-

```
Newparameter/{controller}/{action}/{id}; 
```

它可能吗，我也需要改变它的价值。

请帮忙....

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T13:32:48.530

是的，这是可能的，只需在 Global.asax 中添加一条新路线，如下所示：

```
routes.MapRoute(
            "Default with new param", // Route name
            "{newParameter}/{controller}/{action}/{id}", // URL with parameters
            new { controller = "Home", action = "Index", id = UrlParameter.Optional } // Parameter defaults
        ); 
```

将其放在默认路由之前，因为它更具体。

然后创建一个将“newParameter”作为方法参数的操作方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:34:54.027

`Global.ascx`您将不得不定义一条新路线

```
routes.MapRoute(
              "RouteName",
              "{Param}/{controller}/{action}/{id}",
              new { controller = "Home", action = "Index", id = UrlParameter.Optional }             

            ); 
```

并且不要忘记将您的新路线放在默认路线之上

# android - 提取子串

> ID：13308864
> 
> 赞同：0
> 
> 时间：2012-11-09T13:18:28.510
> 
> 标签：android, string, substring

我在提取字符串时遇到了一些问题

我正在使用 4 个选项（例如按钮）进行多项选择，通过引用文件名进行选择。该文件（即问题）是一个png，文件名是Number-Q01AZ7BZ8CZ9DZ10ANZ8.png。这些 png 放在 assets 文件夹下。

```
 Set<String> regions = regionsMap.keySet(); // get Set of regions

     // loop through each region
     for (String region : regions) 
     {
        if (regionsMap.get(region)) // if region is enabled
        {
           // get a list of all flag image files in this region
           String[] paths = assets.list(region);

           for (String path : paths) 
              fileNameList.add(path.replace(".png", ""));
        } // end if
     } // end for

String fileName = fileNameList.get(randomIndex);

if (!quizCountriesList.contains(fileName)) 
{
   quizCountriesList.add(fileName); // add the file to the list

   String nextImageName = quizCountriesList.remove(0);
   correctAnswer = nextImageName; // update the correct answer

   int AZ = correctAnswer.indexOf("AZ");
   int BZ = correctAnswer.indexOf("BZ");
   int CZ = correctAnswer.indexOf("CZ");
   int DZ = correctAnswer.indexOf("DZ");
   int ANZ = correctAnswer.indexOf("ANZ");          

   String choiceA = null;
   String choiceB = null;
   String choiceC = null;
   String choiceD = null;

   choiceA = correctAnswer.substring( (AZ+2), (BZ) );
   choiceB = correctAnswer.substring( (BZ+2), (CZ) );
   choiceC = correctAnswer.substring( (CZ+2), (DZ) );
   choiceD = correctAnswer.substring( (DZ+2), (ANZ) ); 
```

日志猫如下：

```
11-09 21:14:08.495: E/AndroidRuntime(25905): FATAL EXCEPTION: main
11-09 21:14:08.495: E/AndroidRuntime(25905): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.trial.quizgame/com.trial.quizgame.QuizGame}: java.lang.StringIndexOutOfBoundsException: length=15; regionStart=1; regionLength=-2
11-09 21:14:08.495: E/AndroidRuntime(25905):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1967) 
```

我试图将按钮设置为 .setText(correctAnswer) 并且它将正确显示为 Number-Q01AZ7BZ8CZ9DZ10ANZ8，因此获取“correctAnswer”字符串的顶部应该没问题。提取字符串时留下的问题，但 BZ 必须位于 AZ 后面的位置，例如 CZ 在 BZ 后面，等等：

从 logcat 的 regionLength 是-2？我怎么能处理这个？我希望它适用于 Q01，选择 A=7、B=8、C=9、D=10 和 ANZ=8

提前感谢您的建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:48:54.397

您对字符串值的假设是错误的。如果 AZ、BZ、CZ、DZ、ANZ 存在，则此代码应该可以正常运行。

按照注释中的建议运行调试器，或者使用 android logcat 提供一些调试上下文。`android.utils.Log.d("APP", String.format("AZ=%d", AZ));`

如何存储数据并不是什么大问题。您可以调整几天...您可以创建包含图像名称和四个可能答案的 xml 文件...您可以使用下划线方法，您可以保留当前的方法。直到它只被您使用，这并不重要。你应该保持简单。更复杂 => 出现错误的机会更多...

因此，我建议阅读有关调试和日志记录的信息，而不是改进存储信息的方式...将其存储在文件名中，这是一个聪明的想法，快速高效，是理想的黑客攻击...

# c - 用C读取matlab的mat文件

> ID：13308867
> 
> 赞同：3
> 
> 时间：2012-11-09T13:18:59.570
> 
> 标签：c, matlab, mex

我使用以下 mex 代码从 C 中的 mat 文件中获取变量。变量名为“T”，它是一个 3D 矩阵。然后在 matlab 中，我将 mex 的输出分配给 matlab 变量，一切都很好。“T”的大小是恒定的（230x329x105）。既然我知道大小，我可以通过指向正确的索引来访问“T”的 mex 代码吗？像让我元素 [50][40][60] 之类的东西，还是我必须将 T 中的数据重新映射到我自己的 3D 数组？谢谢。

```
mxArray* getTravelTimes(const char *file) {
MATFile *pmat;
const char *name;
mxArray *pa;

pmat = matOpen(file, "r");
if (pmat == NULL) {
printf("Error reopening file %s\n", file);
return(NULL);
}

pa = matGetNextVariable(pmat, &name);
if (pa == NULL) {
  printf("Error reading in file %s\n", file);
  return(NULL);
 } 

if (matClose(pmat) != 0) {
  printf("Error closing file %s\n",file);
  return(NULL);
}
return(pa);
}

void mexFunction(int nlhs, mxArray *plhs[], int nrhs, const mxArray *prhs[])
{
  mxArray* T;
  T = getTravelTimes("./traveltimes/T_p_01.mat");
  plhs[0] = T;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T14:43:26.020

使用[`mxGetData`](http://www.mathworks.com/help/matlab/apiref/mxgetdata.html)on an`mxArray`获取指向其真实数据的第一个元素的指针。这是 type `void *`，因此您需要将其转换为正确的数据类型，然后才能正确使用它进行指针运算。

# java - 如何为多部分帖子编写服务器端文件接收器

> ID：13308868
> 
> 赞同：0
> 
> 时间：2012-11-09T13:19:05.403
> 
> 标签：java, jakarta-ee, file-upload

我找到了关于 [使用 Android SDK 发布多部分请求的多部分帖子](https://stackoverflow.com/questions/2017414/post-multipart-request-with-android-sdk)

但现在我需要一个服务器端来接收它。我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:24:47.820

看看[apache 文件上传](http://commons.apache.org/fileupload/)。

# ruby-on-rails - 在 ActiveRecord 重新定义的关联方法中调用实际关联

> ID：13308869
> 
> 赞同：0
> 
> 时间：2012-11-09T13:19:10.333
> 
> 标签：ruby-on-rails, ruby, activerecord

我有这个模型：

```
class User < ActiveRecord::Base
  belongs_to :company

  def company
    # Do something here

    # Call the actual association (that would be usually returned by calling User#company)
  end
end 
```

我知道我可以为关联使用另一个内部名称，但想避免这种情况。

我很确定当您调用普通关联方法时，Rails 会调用某种内部方法，`User#company`我想在此处重新定义的方法中自己调用它`User#company`。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:21:05.337

你可以调用`super`你的方法。或`association(:company)`或`associations(:company)`（我忘了是哪一个）。或者你可以

```
def company_with_my_stuff
  company_without_my_stuff
end
alias_method_chain :company, :my_stuff 
```

您也可以重命名`belongs_to :original_company, :class_name => "Company", :foreign_key => "company_id"`我认为更好的解决方案。

# registration - phpBB Spambot 对策

> ID：13308877
> 
> 赞同：1
> 
> 时间：2012-11-09T13:19:27.630
> 
> 标签：registration, recaptcha, spam, phpbb

我在 phpBB 上运行一个论坛，该论坛已更新到最新版本 (3.0.11)，过去我曾使用 reCAPTCHA 作为垃圾邮件对策。不幸的是，即使这样，我也会收到大量垃圾邮件虚假帐户，这个问题有时会引起一些问题。

通过谷歌搜索，我发现很多人建议我使用“自定义注册问题”作为更可靠的解决方案。虽然我可以创建和编辑这些问题，但每当我将设置更改为除 reCAPTCHA 之外的任何其他形式的对策时，我都会收到此错误：

![论坛注册问题](../Images/d871a64652594081d93b7de36eed0520.png)

因此，我暂时继续使用 reCAPTCHA 来保持我的论坛正常运行。

任何人对可能是什么问题或我该如何解决有任何想法或建议？到目前为止，我尝试从全新安装中重新上传 ucp_register.php 和 .html，但我仍然遇到了同样的问题。所以我不知道还能做什么...

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T13:52:57.623

我是 phpBB 论坛上的自由职业者，我建议您尝试[https://www.keycaptcha.com/](https://www.keycaptcha.com/) - 这是很酷的验证码，它使用 Flash 或 HTML5（如果不支持 Flash）。用户必须完成 2-4 块小拼图。我已经在许多板上尝试过它，它有很大帮助。当然，如果某些用户正在发送垃圾邮件，这将无济于事，但它会丢弃所有垃圾邮件程序。

# c# - 使用 Task.Factory.StartNew().ContinueWith() 的单元测试代码

> ID：13308882
> 
> 赞同：13
> 
> 时间：2012-11-09T13:19:55.603
> 
> 标签：c#, unit-testing, nunit, moq, task-parallel-library

所以我有一些代码

```
Task.Factory.StartNew(() => this.listener.Start()).ContinueWith(
                    (task) =>
                        {
                            if (task.IsCompleted)
                            {
                                this.status = WorkerStatus.Started;
                                this.RaiseStatusChanged();
                                this.LogInformationMessage("Worker Started.");
                            }
                        }); 
```

当我测试时，我正在模拟所有依赖对象（namley this.listener.Start()）。问题是测试在调用 ContinueWith 之前完成执行。当我调试时，由于我单步执行代码的额外延迟，它被调用得很好。

那么我如何 - 从不同程序集中的测试代码 - 确保代码在我的测试达到其断言之前运行？

我可以只使用 Thread.Sleep ...但这似乎是一种非常老套的方法。

我想我正在寻找 Thread.Join 的任务版本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:34:41.640

考虑以下：

```
public class SomeClass
{
    public void Foo()
    {
        var a = new Random().Next();
    }
}

public class MyUnitTest
{
    public void MyTestMethod()
    {
        var target = new SomeClass();        
        target.Foo(); // What to assert, what is the result?..
    }
} 
```

赋予的价值是`a`什么？你无法判断，除非结果是在方法之外返回的`Foo()`（作为返回值、公共属性、事件等）。

“[协调线程的动作以获得可预测的结果](http://www.albahari.com/threading/part2.aspx)”的过程称为[**同步**](http://msdn.microsoft.com/en-us/library/ms173179.aspx)。

在您的情况下，最简单的解决方案之一可能是返回[`Task`](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task.aspx)类的实例并使用其[`Wait()`](http://msdn.microsoft.com/en-us/library/dd235635.aspx)方法：

```
var task = Task.Factory.StartNew(() => Method1())
    .ContinueWith(() => Method2()); 
```

无需等待第一个任务，因为[ContinueWith()](http://msdn.microsoft.com/en-us/library/dd270696.aspx)创建了一个**在目标任务完成时**异步执行的延续( [MSDN](http://msdn.microsoft.com/en-us/library/dd270696.aspx) )：

```
task.Wait(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-09T15:02:36.750

我认为没有一种简单而实用的方法可以做到这一点。刚才我自己也遇到了同样的问题，而 Thread.Sleep(X) 是迄今为止解决问题的最简单（如果不是优雅）的方法。

我考虑的唯一其他解决方案是将 Task.Factory.StartNew() 调用隐藏在可以从测试中模拟的接口后面，从而完全在测试场景中删除任务的实际执行（但仍然期望接口方法将被调用。例如：

```
public interface ITaskWrapper
{
    void TaskMethod();
} 
```

而你的具体实现：

```
public class MyTask : ITaskWrapper
{
    public void TaskMethod()
    {
        Task.Factory.StartNew(() => DoSomeWork());
    }
} 
```

然后只需模拟您的测试方法并设置被调用`ITaskWrapper`的期望。`TaskMethod`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:31:32.450

如果有任何方法可以在处理结束时通知您（您可以为该 StatusChanged 事件添加处理程序吗？），请使用 ManualResetEvent 并在合理的超时时间内等待它。如果超时过期，则测试失败，否则继续执行您的断言。

例如

```
var waitHandle = new ManualResetEvent(false);
sut.StatusChanged += (s, e) => waitHandle.Set();

sut.DoStuff();

Assert.IsTrue(waitHandle.WaitOne(someTimeout), "timeout expired");
// do asserts here 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T13:33:37.803

`ContinueWith()`无论初始任务是否在调用之前完成，延续任务仍将运行。我仔细检查了以下内容：

```
// Task immediately exits
var task = Task.Factory.StartNew(() => { });

Thread.Sleep(100);

// Continuation on already-completed task
task.ContinueWith(t => { MessageBox.Show("!"); }); 
```

进一步调试。也许你的任务失败了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-01T01:27:26.993

在使用响应式扩展的被测代码期间处理异步进程时，一种方法是使用 TestScheduler。TestScheduler 可以及时向前移动，耗尽所有已调度的任务等。因此，您的测试代码可以采用 IScheduler，您可以为其提供 TestScheduler 实例。然后，您的测试可以操纵时间，而无需实际休眠、等待或同步。这种方法的改进是[Lee Campbell 的 ISchedulerProvider](http://www.introtorx.com/content/v1.0.10621.0/16_TestingRx.html#SchedulerDI)方法。

如果您在代码中使用 Observable.Start 而不是 Task.Factory.StartNew，那么您可以在单元测试中使用 TestScheduler 来推送所有计划任务。

例如，您的测试代码可能如下所示：

```
//Task.Factory.StartNew(() => DoSomething())
//    .ContinueWith(t => DoSomethingElse())
Observable.Start(() => DoSomething(), schedulerProvider.ThreadPool)
          .ToTask()
          .ContinueWith(t => DoSomethingElse()) 
```

并在您的单元测试中：

```
// ... test code to execute the code under test

// run the tasks on the ThreadPool scheduler
testSchedulers.ThreadPool.Start();

// assertion code can now run 
```

# php - 将数据连接传递给 PHP 类/方法的推荐方法？

> ID：13308886
> 
> 赞同：1
> 
> 时间：2012-11-09T13:20:07.837
> 
> 标签：php, mysql, oop, class

截至目前，我在每个页面的顶部都包含一个数据库连接字符串。然后我将我的数据库连接传递给我的类中的方法，如下所示：

```
public function select($db) {
  //Code here
} 
```

页面代码：

```
$login_user->select($db); 
```

我的想法是，如果我想查询不同的数据库，我可以在名为 $db2 的包含文件中创建一个新的连接字符串，然后我只需传递该值而不是 $db。

这是执行此操作的标准方式还是您有不同的建议？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T14:05:54.460

将连接字符串传递给您的类有很多缺点，没有好处。您走在正确的轨道上，但您想传递数据库对象而不是连接字符串。

依赖注入是一种让你的类访问数据库的好方法，它仅仅意味着将依赖关系（即数据库对象）传递给需要它们的对象，而不是对象本身从某种全局变量中获取依赖关系。

我建议您使用类`setDb()`上的方法来传递数据库对象，然后将其存储为属性以供任何内部使用。

例如，假设您`$db`在初始化脚本中创建了数据库对象：

```
class SomeClass
{
    protected $db;

    public function setDb($db)
    {
        $this->db = $db;
    }

    public function something()
    {
        // do some query on the database using $this->db
    }
}

$obj = new SomeClass();
$obj->setDb($db);

$obj->something(); 
```

DI 为您提供了您提到的好处：能够轻松切换数据库，而无需在您的方法中做大量工作。还有其他好处，即易于测试。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T13:48:41.670

正如已经指出的，这是一种非常常用的方法。但是，由于您包含了 OOP 标记，我猜您也在寻找有关该主题的 OO 视图:)。恕我直言，这种方法的问题在于您使用字符串来表示在您的问题域（数据库连接）中有意义的东西。这样做的一个问题是您不能将行为委托给字符串，因此您最终会处理诸如遍布整个系统的函数或其他不应该关心它但实际上有其他对象的连接错误之类的事情责任（根据经验，我总是尽量坚持[SRP](http://en.wikipedia.org/wiki/Single_responsibility_principle)）。此外，如果您生成模型的文档（如 UML 图），则 DB 连接将是您系统中使用的概念，不会在文档中表示（因为没有类来表示它）。最后，使用对象对 DB 连接及其相关 DB 访问进行建模是一种非常常用的方法，例如[Zend DB Adapter](http://framework.zend.com/manual/1.12/en/zend.db.adapter.html)类。

高温高压

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-09T20:51:08.473

首先开发一个处理与数据库有关的所有事情的类。这是我开始的数据库类的示例。它还没有完成，但您可以使用它来传递不同的数据库、表或任何您想要的。

```
<?php
 class Database
 {      // BEGIN class database
     // variables
   protected $db_host;
   protected $db_user;
   protected $db_password;
   protected $db_name;
   protected $connection;
   protected $queryRun;
   protected $numRows;
   protected $seldb;

// constructor
function __constructor(){
}
public function connect($db_host,$db_user,$db_password,$db_name)
{
    $this->db_host = $db_host;
    $this->db_user = $db_user;
    $this->db_password = $db_password;
    $this->db_name = $db_name;
    $this->connection = mysql_connect($this->db_host,$this->db_user,$this >db_password);
    if(!$this->connection)
    {
        mysql_error();
    }
    $this->seldb = mysql_select_db($this->db_name,$this->connection);
    if(!$this->seldb)
    {
        mysql_error();  
    }
}
public function disconnect()
{
    mysql_close($this->connection);
}
public function query(){
    $this->queryRun = mysql_query($this->sql,$this->connection);
    return $this->queryRun;
}
public function select($table,$columns = '*',$where = null,$order = null,$sort = null)
{
    $this->sql = 'SELECT ' .$columns. ' FROM ' .$table;
    if($where != null)
    {
        $this->sql . ' WHERE ' . $where;
    }
    if($order != null)
    {
        $this->sql . ' ORDER ' . $order;
    }
    if($sort != null)
    {
        $this->sql . ' SORT BY ' . $sort; 
    }
}
public function insert($table,$columns,$updatecolumns,$where = null)
{
    $this->sql = 'INSERT INTO ' .$table. '(' .$columns. ') VALUES (' .$updatecolumns. ')';
    if($where != null)
    {
        $this->sql . ' WHERE ' . $where;
    }
}

public function outputQuery()
{
    if(!$this->queryRun)
    {
        echo "Error";
    }
    else {
        $numRows = mysql_fetch_array($this->queryRun);
        foreach($numRows as $rows)
        {
            echo "<div id='feeditem'>";
            echo "<a href='#'><textarea>";
            echo $rows;
            echo "</textarea></a>";
            echo "</div>";
        }
    }
}

  }
?> 
```

然后，您可以创建类的实例，并在需要时使用类中的任何函数。

```
<?php
    include 'database.class.php';
    database1 = new Database();
    database1->connect('127.0.0.1','root','','users');
?> 
```

像这样的事情将是一个好的开始。

# c++ - 字符串文字的模板参数推导

> ID：13308887
> 
> 赞同：6
> 
> 时间：2012-11-09T13:20:10.550
> 
> 标签：c++, arrays, templates, pointers, c++11

```
template<typename T>
void print_size(const T& x)
{
    std::cout << sizeof(x) << '\n';
}

int main()
{
    print_size("If you timidly approach C++ as just a better C or as an object-oriented language, you are going to miss the point.");
    // prints 115
} 
```

这会在最近的 g++ 编译器上打印 115。所以很明显，`T`被推断为一个数组（而不是一个指针）。标准是否保证了这种行为？我有点惊讶，因为下面的代码打印了指针的大小，我认为它的`auto`行为与模板参数推导完全一样？

```
int main()
{
    auto x = "If you timidly approach C++ as just a better C or as an object-oriented language, you are going to miss the point.";
    print_size(x);
    // prints 4
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T13:24:31.493

`auto`行为与模板参数推导完全相同^(1 。)完全一样`T`！

比较一下：

```
template<typename T>
void print_size(T x)
{
    std::cout << sizeof(x) << '\n';
}

int main()
{
    print_size("If you timidly approach C++ as just a better C or as an object-oriented language, you are going to miss the point.");
    // prints 4
    auto x = "If you timidly approach C++ as just a better C or as an object-oriented language, you are going to miss the point.";
    print_size(x);
    // prints 4
} 
```

有了这个：

```
template<typename T>
void print_size(const T& x)
{
    std::cout << sizeof(x) << '\n';
}

int main()
{
    print_size("If you timidly approach C++ as just a better C or as an object-oriented language, you are going to miss the point.");
    // prints 115
    const auto& x = "If you timidly approach C++ as just a better C or as an object-oriented language, you are going to miss the point.";
    print_size(x);
    // prints 115
} 
```

* * *

¹不完全是，但这不是极端情况之一。

# javascript - Android 性能在 2.3.5 之后的版本上受到影响（phonegap/cordova）

> ID：13308888
> 
> 赞同：15
> 
> 时间：2012-11-09T13:20:12.310
> 
> 标签：javascript, android, performance, cordova

目前，我正在使用 Phonegap/Cordova (2.1.0/2.2.0)、JQ-Mobi（不是 jQueryMobile）、HTML5 和 Javascript 和 CSS3 开发 Android 应用程序。该应用程序包含 2 个本机扩展。

不知何故，当我将我的项目导出到具有最新 Android 版本的设备时，该应用程序的运行速度比 2.3.5 设备慢得多。

我已经尝试启用 HardwareAcceleration 并删除了所有的盒子阴影和其他难以呈现 css3 的东西。仍然在 4.1.1 或 4.0.4 上运行很糟糕。

我还升级到了最新版本的 Cordova（现在是 2.2.0），但它似乎并没有变得更好。

Javascript DOM 操作在应用程序启动时发生约 80-90%。

最差的表现是在切换面板和滚动表单时，其中大多数都有一些过渡。我在三星 Galaxy S2 android 2.3.5 上对其进行了测试，它看起来不错并且性能良好。相同的设备，但 4.0.4 运行糟糕。三星 Galaxy S3 4.1.1 运行更糟糕。带有 android 3.2.1 的 HTC Flyer P512 运行它应该如何运行。

有谁可以帮我离开这里吗？我如何才能提高这种性能？我没有提到的任何提示或提示？

我想补充一点，我没有在 Iphone 3gs 及以上版本上遇到问题，以解释这绝对是 Android 问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-19T15:06:40.890

我的 phonegap 应用程序在 iOS 上运行流畅，但在 Android 上表现极差。据我了解，这只是因为 Android 在解释 JavaScript 方面比 iOS 慢得多。

可以有很大帮助的一件事是减少对 jQuery 和 JQM 等库的使用。如果您想包含它们，请不要在不必要的地方使用它们。

jQuery.animate 之类的函数在 Android 上的运行速度非常慢，您最好使用原始 JS 迭代数组，而不是使用 jQuery.each 等。

问题不仅在于图形渲染，还在于 JavaScript 的执行速度。尽管降低屏幕分辨率可以提高您的性能。

**编辑**

我自己试图深入了解这一点，我能得到的唯一答案是将计算操作保持在最低限度。

*   谨慎使用库，并尽可能使用原始且编写良好的 JavaScript 来解决您的问题
*   保持一个小的 DOM 并尽可能少地操作它
*   利用 JavaScript 性能增强技术

所以看起来这确实是一个核心性能问题，而不是可以在 Phonegap 层解决的问题。举一个非科学的例子，我的一个应用程序上完全相同的 init() 函数在 iPhone 4s 上执行的平均时间约为 1.2 秒，而在我的三星 Galaxy S3 上则需要缓慢的 5 秒才能完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-14T11:16:13.590

我有同样的问题。我问了一个类似的问题，经过大量研究后，我最终在这里自己回答了这个问题：

[Cordova/Phonegap 在新平板电脑上使用 Open Layers 性能缓慢，但在新手机上很好](https://stackoverflow.com/questions/27846198/cordova-phonegap-slow-performance-with-open-layers-on-new-tablet-but-fine-on-ne)

我不会重复我给出的整个答案，但某些 Android 版本的性能缓慢是由于 WebView 中的一个错误，它限制了基于 GPU 的进程的 CPU 支持，但不提供 GPU 支持来补偿。

Kitkat V4.4.3 以上已修复此问题，但仍在某些设备上使用的旧版本（例如 V4.4.2）仍然受到影响。

您可以通过完全不使用 WebView 进行 HTML 呈现来避免这种情况，而是使用 Crosswalk。对于我们的项目，这完全解决了问题，我们现在可以在所有目标 Android 版本上顺利运行应用程序。做起来也很简单。

[https://crosswalk-project.org/documentation/cordova.html](https://crosswalk-project.org/documentation/cordova.html)

[https://blog.nraboy.com/2014/10/use-crosswalk-ionic-framework-android-apps/](https://blog.nraboy.com/2014/10/use-crosswalk-ionic-framework-android-apps/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-22T01:47:49.023

问题的核心是所有内容都在单个页面（执行上下文）中加载和运行，就个人而言，尽管单页面应用程序（sencha、jqmobile 等）风靡一时，但现代设备上的性能对用户体验没有任何影响正义。我会将应用程序分成不同的页面，这将显着减小 DOM 的大小并为每个新页面创建单独的执行上下文，这意味着您的主页（执行上下文）很好且精简（DOM 很小）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-18T09:39:44.883

尝试使用多线程和后台处理来进行资源广泛的操作。

当我的一个应用程序在高于 2.3.3 的版本上运行时崩溃时，我遇到了类似的问题，这对我有用。我从未与 PhoneGap 合作过，所以我不确定你将如何做。

# javascript - 从事件监听器获取形状对象

> ID：13308889
> 
> 赞同：0
> 
> 时间：2012-11-09T13:20:13.467
> 
> 标签：javascript, dojo, dojox.gfx

在某些事件发生后以某种方式操纵形状的通常过程是很好理解的：

```
var circle = group.createCircle({ cx: 100, cy: 300, r: 50 }).setFill("green").setStroke("pink");
circle.connect("onclick",function(e) {
    circle.setFill("red");
}); 
```

问题是，我正在处理的图形已从 SVG 文件转换为 JSON，然后加载到 dojox，这意味着我实际上没有可以通过变量引用的形状对象。所以我的问题是，我如何从偶数监听器中检索形状对象？像这样的东西不起作用：

```
...
var group = surface.createGroup();
dojox.gfx.utils.deserialize(group, json);
dojo.connect(group.getEventSource(),"onclick",function(ev) {
    ev.target.setFill('blue');
}); 
```

事件目标是实际的形状节点，而不是对象，所以我不能像`setFill()`它那样调用任何 dojox 方法。我可以只使用普通的 SVG DOM 方法，但是如果 dojo 为 IE 使用不同的渲染器，那会中断。

那么我可以以某种方式将该节点转换为形状对象吗？我的意思是，如果这不起作用，那么像我所描述的那样将图形加载到道场有什么意义？我觉得我在这里遗漏了一些明显的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T14:38:59.150

这有效：

```
group.connect("onclick",function(ev) {
    ev.gfxTarget.setFill('#ff0000');
}); 
```

而不是[文档](http://dojotoolkit.org/reference-guide/1.8/dojox/gfx.html#event-processing)当前建议的方式：使用`onmouseclick`事件。然后您可以访问形状对象作为`gfxTarget`事件对象的属性。

# jquery - asp datagrid 更改提交最佳实践和选项

> ID：13308890
> 
> 赞同：0
> 
> 时间：2012-11-09T13:20:21.643
> 
> 标签：jquery, asp.net, vb.net, datagrid

我创建了一个网格，我正在从 sql server 中提取数据。桌子是按时轮班的。我想提交更改、添加和删除班次。我很好奇我的一些选择是什么。我也很好奇什么被认为是最佳实践。谢谢，卡尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:47:47.237

我强烈建议您在可以执行基本数据操作（加载、插入或更新...）的情况下构建或使用“数据层”但是，这取决于您将使用的技术...（面向 MVC，数据实体模型，业务对象和 SQL 查询，...）然后您可以将您的网格绑定到该层，并且任何操作都将通过其调用来处理。

# python - 如何在 mod_python 中编写一个跨请求工作的单例类？

> ID：13308891
> 
> 赞同：1
> 
> 时间：2012-11-09T13:20:32.517
> 
> 标签：python, singleton, mod-python

我一直在尝试为 mod_python 实现一个单例类。它在处理单个请求时工作正常，但在我从新请求调用时实例化一个新对象（如预期的那样）。如何在请求中拥有一个具有公共对象的类。它的寿命是多少？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T15:23:09.593

据我所知，mod_python 中的持久性是通过[Session](http://www.modpython.org/live/current/doc-html/pyapi-sess.html)模块处理的。因此，您并不是真的在寻找（可能很糟糕）单例模式，而是更有可能在寻找一种在一系列请求上实现持久性的方法。

# c# - 将选定项目导出到 SQL 数据库

> ID：13308902
> 
> 赞同：0
> 
> 时间：2012-11-09T13:21:48.817
> 
> 标签：c#, sql-server

在我尝试导出列表中所选项目的过程中，我已经知道某个项目在我的列表中的排序位置，但我无法将该项目位置处的文本放入变量中。

```
if (CustomerListbox.SelectedIndex > -1)
{
    for (int i = 0; i < CustomerListbox.GetSelectedIndices().Count(); i++)
    {
        SqlConnection sqlConn = Connection.GetConnection();
        SqlCommand sqlCmd = new SqlCommand();
        sqlCmd.Connection = sqlConn;
        {
            ListItem li = new ListItem();
            li.Value = Convert.ToString(CustomerListbox.GetSelectedIndices().GetValue(i)); //Determines position within listbox
            li.Text = Convert.ToString(CustomerListbox.Items.FindByValue(li.Value));
            //^^^some magic line of code to do li.text = Items.somethingselected@position5.Value
            sqlCmd.CommandText = "ExportCustomers";
            sqlCmd.CommandType = CommandType.StoredProcedure;
            sqlCmd.Parameters.AddWithValue("myquery", "insert into CustomerSelect(Customers) values('" + li.Text + "')");

        }
        try
        {
            sqlConn.Open();
            sqlCmd.ExecuteNonQuery();
        }
        catch (Exception e2)
        {
            throw e2;
        }
        sqlConn.Close();
    }        
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:33:37.210

试试这个：

```
if (CustomerListbox.SelectedIndex > -1)
{
    foreach(ListItem litem in CustomerListbox.Items)
    {
        if (litem.Selected == True)
        {
            using(SqlConnection sqlConn = Connection.GetConnection())
            {
                using(SqlCommand sqlCmd = new SqlCommand())
                {   
                    sqlCmd.Connection = sqlConn;
                    ListItem li = new ListItem();

                    li.Value = litem.Value; //Determines position within listbox
                    li.Text = litem.Text;

                    sqlCmd.CommandText = "ExportCustomers";
                    sqlCmd.CommandType = CommandType.StoredProcedure;
                    sqlCmd.Parameters.AddWithValue("myquery", "insert into CustomerSelect(Customers) values('" + li.Text + "')");

                    sqlConn.Open();
                    sqlCmd.ExecuteNonQuery();
                }
            }
        }       
    }
} 
```

# java - google-http-java-client 用于 android

> ID：13308903
> 
> 赞同：0
> 
> 时间：2012-11-09T13:21:51.967
> 
> 标签：java, android, google-http-client

最近有没有人用过[google http client for android 。](https://code.google.com/p/google-http-java-client/wiki/Setup#google-http-client-android3)我下载了最新[版本](https://google-http-java-client.googlecode.com/files/google-http-java-client-1.12.0-beta.zip)，但缺少 jar。

```
google-http-client-android3-1.12.0-beta.jar 
```

根据文档，我需要导入

```
google-http-client-1.12.0-beta.jar
google-http-client-android2-1.12.0-beta.jar (only for SDK >= 2.1)
google-http-client-android3-1.12.0-beta.jar (only for SDK >= 3.0)
gson-2.1.jar
guava-11.0.1.jar
jackson-core-asl-1.9.4.jar
jsr305-1.3.9.jar
protobuf-java-2.2.0.jar 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T13:27:36.310

首先，下载[google-http-java-client-1.12.0-beta.zip](http://google-http-java-client.googlecode.com/files/google-http-java-client-1.12.0-beta.zip)并将其解压到您的计算机上。阅读 readme.html 以获取指导。此 zip 文件包含每个工件的客户端库类 jar 及其关联的源 jar。类似地，依赖项的类和源 jars 可以在依赖项文件夹中找到，包括许可证。

Eclipse 用户将希望将每个类 jar 的“源附件”设置为其对应的“-sources”jar。

对于 Android，重要的是要知道哪些依赖项与 Android 兼容，特别是哪个 SDK 级别。以下是 android 应用程序所需的依赖项文件夹中的 jar（或每个依赖项的更新兼容版本）：

```
google-http-client-1.12.0-beta.jar
google-http-client-android2-1.12.0-beta.jar (only for SDK >= 2.1)
google-http-client-android3-1.12.0-beta.jar (only for SDK >= 3.0)
gson-2.1.jar
guava-11.0.1.jar
jackson-core-asl-1.9.4.jar
jsr305-1.3.9.jar
protobuf-java-2.2.0.jar 
```

**警告：**对于 Android，jar 必须放在名为“libs”的目录中，以便 APK 打包程序找到它们。否则，您将在运行时收到 NoClassDefFoundError。

# php - 如何获取关联数组的当前元素数？

> ID：13308905
> 
> 赞同：0
> 
> 时间：2012-11-09T13:21:53.903
> 
> 标签：php, arrays, loops, foreach

说我有这个数组

```
$array = array('pen' => 'blue', 'paper' => 'red', 'ink' => 'white'); 
```

当我遍历它时

```
$string = '';
foreach ($array AS $key=>$value) {
    $string .= $key . ' = ' . $value;
} 
```

我想获取循环当前所在元素的“行号”。

如果循环在“笔”上，我会得到 1。如果循环在“纸”上，我会得到 2。如果循环在“墨水”上，我会得到 3。

有这个数组命令吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T13:22:49.760

不可以。您必须手动增加索引计数器：

```
$string = '';
$index = 0;
foreach ($array as $key=>$value) {
    $string .= ++$index . ") ". $key . ' = ' . $value;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T13:52:49.910

使用[`array_values()`](http://www.php.net/manual/en/function.array-values.php)函数从数组中提取值。它以数字方式索引数组，$key 将是循环中值的索引。

```
$array = array('pen' => 'blue', 'paper' => 'red', 'ink' => 'white');
$array = array_values($array);

$string = '';
foreach ($array as $key => $value) {
    $string .= $key + 1 . ' = ' . $value;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T15:40:07.430

```
$i = 0;
foreach ($array as $key=>$value) { // For each element of the array
    print("Current non-associative index: ".$i."<br />\n"); // Output the current index

    $i++; // Increment $i by 1
} 
```

希望有帮助。

# javascript - 在javascript中选择最后一个孩子

> ID：13308906
> 
> 赞同：6
> 
> 时间：2012-11-09T13:21:57.787
> 
> 标签：javascript

我在无序列表上有一个句柄（对于我的示例，我将调用句柄 Var1），并且希望能够将其最后一个 li 分配给一个变量。我尝试 `Lastli = var1.lastChild` 了我认为可行的唯一方法，但没有。我似乎无法仅使用 Javascript 而不是 jQuery 找到答案，感谢任何帮助。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-11-09T13:29:11.907

您可以选择父元素并使用 lastChild 属性。

```
var container = document.getElementsByTagName("ul")[0];
var lastchild = container.lastChild; 
```

或者您将所有项目选择到一个数组中并获取最后一个项目。这是一个简单的例子：

```
 var items = document.querySelectorAll("li");
 var lastchild = items[items.length-1]; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-09T13:24:58.903

您可以选择所有“li”并取最后一个。就像是：

```
var myLi = document.getElementsByTagName('li');
var lastLi = myLi[myLi.length-1]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-06-03T17:20:15.500

让我们考虑一个例子

```
<ul >
    <li>Coffee</li>
    <li>Tea</li>
    <li>Milk</li>
</ul> 
```

要获取列表的最后一个孩子，您可以简单地使用 queryselector

```
document.querySelector('li:last-child'); //this will return Milk which is the last child of the list
document.querySelector('li:first-child') OR document.querySelector('li'); //both will give you the first child of the list 
```

假设您想要第 n 个孩子，您可以使用以下语法：

```
document.querySelector('li:nth-child(2)');  //it will return the second child (here Tea) 
```

如果您想要给定列表中的所有列表项：

```
document.getElementsByTagName('li') //(Will return the whole list)here i am using tagname. It can be also applied on classname or element id 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-09T13:24:45.650

试试这个：`.childNodes[childNodes.length - 1]`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-09T13:26:12.493

要么`ulReference.children[ulReference.children.length -1]`要么`ulReference.childNodes[ulReference.childNodes.length -1]`。两者的区别可以看[这里](https://stackoverflow.com/questions/10381296/best-way-to-get-child-nodes)

# c# - Linq Group按特定的日期间隔？

> ID：13308914
> 
> 赞同：0
> 
> 时间：2012-11-09T13:23:00.827
> 
> 标签：c#, linq, datetime, group-by

我有以下行来分组我的收藏：

```
group c by new { date = GetGroupingDateKey(DateRangeType, c.ReadDate), name = c.Name } into g 
```

我使用以下函数来获取分组日期键：

```
private static DateTime GetGroupingDateKey(MeterReadingsTimeIntervals DateRangeType, DateTime Date)
{
    DateTime date = new DateTime();
    switch (DateRangeType)
    {
        case MeterReadingsTimeIntervals.Hourly:
            date = new DateTime(Date.Year, Date.Month, Date.Day, Date.Hour, 0, 0);
            break;
       case MeterReadingsTimeIntervals.Daily:
            date = new DateTime(Date.Year, Date.Month, Date.Day, 0, 0, 0);
            break;
        case MeterReadingsTimeIntervals.Weekly:

            // ???

            break;
        case MeterReadingsTimeIntervals.Monthly:
            date = new DateTime(Date.Year, Date.Month, 1, 0, 0, 0);
            break;
        case MeterReadingsTimeIntervals.Yearly:
            date = new DateTime(Date.Year, 1, 1, 0, 0, 0);
            break;
    }

    return date;
} 
```

但我不知道每周分组（可能是特定的天间隔、10 天、15 天等）。如何每周分组？我应该使用其他方式对数据进行分组吗？

谢谢指教。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:33:25.457

也许是这样的：

```
date = Date.AddDays(-((Date.DayOfWeek - DayOfWeek.Monday +7)%7));
date = new DateTime(date.Year, date.Month, date.Day, 0, 0, 0); 
```

如果您考虑每周一开始。

您可以使用以下代码进行尝试： **编辑**在@Rawling 建议后编辑的代码，查看评论

```
DateTime dt = DateTime.Now;
dt = dt.AddDays(-((dt.DayOfWeek - DayOfWeek.Monday + 7)%7));
dt = new DateTime(dt.Year, dt.Month, dt.Day, 0, 0, 0);//today is Friday and it will show Monday at the end. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:27:19.403

星期取决于您使用的日历类型及其规则。有些一年的第一周从一年的第一个星期一开始，有些在星期日，等等，存在差异。

例如，您可以使用[GregorianCalendar](http://msdn.microsoft.com/en-us/library/system.globalization.gregoriancalendar.aspx)及其方法 GetWeekOfYear(DateTime)。

```
case MeterReadingsTimeIntervals.Weekly:
  var gc = new GregorianCalendar();
  return gc.GetWeekOfYear(Date); 
```

现在要使其正常工作，您必须设置方法对象的返回类型或强制 weekinfo 进入相同的 DateTime （将其设置为找到的一周的星期一），

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T13:31:24.333

使用辅助功能

```
int DaysFromLast(DateTime date, DayOfWeek dow)
{
    return (7 + date.DayOfWeek - dow) % 7;
} 
```

您可以使用

```
var date = Date.Date;
date = date.AddDays(-DaysFromLast(date, DayOfWeek.Monday)); 
```

从星期一开始的一周，依此类推。

对于任意间隔，您需要一个固定的开始日期（最好是过去）；然后

```
var date = Date.Date;
date = date.AddDays(-((date - startDate).Days % numberOfDaysInInterval)); 
```

# svn - 无法在 SVN 存储库中提交文件删除；内部错误：非修改文件更改

> ID：13308915
> 
> 赞同：2
> 
> 时间：2012-11-09T13:23:01.997
> 
> 标签：svn, hook, commit, pre-commit

我似乎不再能够在我的存储库中提交文件删除。

```
Error Commit failed (details follow):
Error Commit blocked by pre-commit hook (exit code 1) with output:
Error Internal error: Non-modifying file change. 
```

我觉得很奇怪，这在网上找不到。

任何想法？

我正在使用乌龟 1.7.7 和 SVN 1.7.6

我的预提交.bat

```
PATH C:\msys\bin
PATH %PATH%;C:\Program Files\csvn\Python25
PATH %PATH%;C:\Program Files\csvn\bin
set PYTHON=C:\Program Files\csvn\Python25
set PYTHONPATH=C:\Program Files\csvn\lib\svn-python
bash %1/hooks/pre-commit %1 %2 
```

和我的预提交钩子

```
REPOS="$1"
TXN="$2"

: ${PATH:=/usr/local/bin:/usr/bin}
export PATH

svnlook log -t "$TXN" "$REPOS" | \
   grep "[a-zA-Z0-9]" > /dev/null || \
   { echo >&2 "An empty commit message is not allowed."; exit 1; }

python $REPOS/hooks/svnperms.py -r "$REPOS" -t "$TXN" || exit 1

# Validate the changes made by this transaction.
python $REPOS/hooks/pre-commit-check.py "$REPOS" "$TXN" || exit 1

# All checks passed, so allow the commit.
exit 0 
```

提前致谢

# struts2 - Struts2 - 请求的资源不可用

> ID：13308920
> 
> 赞同：3
> 
> 时间：2012-11-09T13:23:26.083
> 
> 标签：struts2, http-status-code-404

请有人帮我执行这个第一个 Struts2 应用程序。

web.xml` 文件：

```
 <?xml version="1.0" encoding="UTF-8"?>
    <web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-  app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" id="WebApp_ID" version="3.0">
    <display-name>Struts2FirstProject</display-name>
    <welcome-file-list>

    <welcome-file>index.jsp</welcome-file>

    </welcome-file-list>

    <filter>
    <filter-name>struts2</filter-name>
    <filter- class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
       </filter>

       <filter-mapping>
    <filter-name>struts2</filter-name>
    <url-pattern>/*</url-pattern>
        </filter-mapping>

     </web-app> 
```

Struts.xml 文件：

```
 <?xml version="1.0" encoding="UTF-8"?>

    <struts>

    <package name="default" extends="struts-default">
        <action name="getHello" class="anvi.Hello">
            <result name="success">/success.jsp</result>
            <result name="fail">/error.jsp</result>
        </action>
    </package>

    </struts> 
```

anvi.你好：

```
 package anvi;

    public class Hello {
    public String execute(){
        System.out.println("Hello from execute");
        return "success";

    }
    } 
```

控制台是：

```
 9 Nov, 2012 6:16:54 PM org.apache.catalina.core.AprLifecycleListener init
    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Program Files\Java\jre6\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Program Files/Java/jre6/bin/client;C:/Program Files/Java/jre6/bin;C:/Program Files/Java/jre6/lib/i386;C:\Program Files\PC Connectivity Solution\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Java\jdk1.6.0_21\bin;C:\Eclipse\eclipse;;.
    9 Nov, 2012 6:16:55 PM org.apache.tomcat.util.digester.SetPropertiesRule begin
    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:Struts2FirstProject' did not find a matching property.
    9 Nov, 2012 6:16:57 PM org.apache.coyote.AbstractProtocol init
    INFO: Initializing ProtocolHandler ["http-bio-8080"]
    9 Nov, 2012 6:16:57 PM org.apache.coyote.AbstractProtocol init
    INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
    9 Nov, 2012 6:16:57 PM org.apache.catalina.startup.Catalina load
    INFO: Initialization processed in 4256 ms
    9 Nov, 2012 6:16:57 PM org.apache.catalina.core.StandardService startInternal
    INFO: Starting service Catalina
    9 Nov, 2012 6:16:57 PM org.apache.catalina.core.StandardEngine startInternal
    INFO: Starting Servlet Engine: Apache Tomcat/7.0.32
    9 Nov, 2012 6:17:02 PM org.apache.catalina.util.SessionIdGenerator createSecureRandom
    INFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [224] milliseconds.
    9 Nov, 2012 6:17:04 PM com.opensymphony.xwork2.util.logging.commons.CommonsLogger info
    INFO: Parsing configuration file [struts-default.xml]
    9 Nov, 2012 6:17:05 PM com.opensymphony.xwork2.util.logging.commons.CommonsLogger info
    INFO: Unable to locate configuration files of the name struts-plugin.xml, skipping
    9 Nov, 2012 6:17:05 PM com.opensymphony.xwork2.util.logging.commons.CommonsLogger info
    INFO: Parsing configuration file [struts-plugin.xml]
    9 Nov, 2012 6:17:05 PM com.opensymphony.xwork2.util.logging.commons.CommonsLogger error
    SEVERE: Document is invalid: no grammar found. at (null:3:8)
    org.xml.sax.SAXParseException: Document is invalid: no grammar found.
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
        at javax.xml.parsers.SAXParser.parse(Unknown Source)
        at com.opensymphony.xwork2.util.DomHelper.parse(DomHelper.java:113)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:949)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadDocuments(XmlConfigurationProvider.java:163)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java:130)
        at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:209)
        at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:66)
        at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:390)
        at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:437)
        at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
        at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
        at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:277)
        at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258)
        at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:382)
        at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:103)
        at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)
        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
        at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
        at java.util.concurrent.FutureTask.run(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
    9 Nov, 2012 6:17:05 PM com.opensymphony.xwork2.util.logging.commons.CommonsLogger error
    SEVERE: Dispatcher initialization failed
    Unable to load configuration. - file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml:3:8
        at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:69)
        at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:390)
        at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:437)
        at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
        at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
        at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:277)
        at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258)
        at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:382)
        at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:103)
        at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)
        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
        at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
        at java.util.concurrent.FutureTask.run(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
    Caused by: Unable to load file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml - file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml:3:8
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:954)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadDocuments(XmlConfigurationProvider.java:163)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java:130)
        at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:209)
        at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:66)
        ... 18 more
    Caused by: Document is invalid: no grammar found. - file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml:3:8
        at com.opensymphony.xwork2.util.DomHelper.parse(DomHelper.java:115)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:949)
        ... 22 more
    Caused by: org.xml.sax.SAXParseException: Document is invalid: no grammar found.
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
        at javax.xml.parsers.SAXParser.parse(Unknown Source)
        at com.opensymphony.xwork2.util.DomHelper.parse(DomHelper.java:113)
        ... 23 more
    9 Nov, 2012 6:17:05 PM org.apache.catalina.core.StandardContext filterStart
    SEVERE: Exception starting filter struts2
    Unable to load configuration. - file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml:3:8
        at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:450)
        at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
        at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
        at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:277)
        at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258)
        at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:382)
        at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:103)
        at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)
        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
        at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
        at java.util.concurrent.FutureTask.run(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
    Caused by: Unable to load configuration. - file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml:3:8
        at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:69)
        at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:390)
        at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:437)
        ... 16 more
    Caused by: Unable to load file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml - file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml:3:8
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:954)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadDocuments(XmlConfigurationProvider.java:163)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java:130)
        at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:209)
        at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:66)
        ... 18 more
    Caused by: Document is invalid: no grammar found. - file:/D:/SOFTWARES/java/apache-tomcat-7.0.32/Struts2FirstProject/WEB-INF/classes/struts.xml:3:8
        at com.opensymphony.xwork2.util.DomHelper.parse(DomHelper.java:115)
        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:949)
        ... 22 more
    Caused by: org.xml.sax.SAXParseException: Document is invalid: no grammar found.
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)
        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
        at javax.xml.parsers.SAXParser.parse(Unknown Source)
        at com.opensymphony.xwork2.util.DomHelper.parse(DomHelper.java:113)
        ... 23 more
    9 Nov, 2012 6:17:05 PM org.apache.catalina.core.StandardContext startInternal
    SEVERE: Error filterStart
    9 Nov, 2012 6:17:05 PM org.apache.catalina.core.StandardContext startInternal
    SEVERE: Context [/Struts2FirstProject] startup failed due to previous errors
    9 Nov, 2012 6:17:05 PM org.apache.catalina.startup.HostConfig deployDirectory
    INFO: Deploying web application directory D:\SOFTWARES\java\apache-tomcat-7.0.32\webapps\docs
    9 Nov, 2012 6:17:05 PM org.apache.catalina.startup.HostConfig deployDirectory
    INFO: Deploying web application directory D:\SOFTWARES\java\apache-tomcat-7.0.32\webapps\examples
    9 Nov, 2012 6:17:06 PM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: contextInitialized()
    9 Nov, 2012 6:17:06 PM org.apache.catalina.core.ApplicationContext log
    INFO: SessionListener: contextInitialized()
    9 Nov, 2012 6:17:06 PM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('org.apache.jasper.compiler.TldLocationsCache', 'org.apache.jasper.compiler.TldLocationsCache@89dd')
    9 Nov, 2012 6:17:06 PM org.apache.catalina.startup.HostConfig deployDirectory
    INFO: Deploying web application directory D:\SOFTWARES\java\apache-tomcat-7.0.32\webapps\host-manager
    9 Nov, 2012 6:17:06 PM org.apache.catalina.startup.HostConfig deployDirectory
    INFO: Deploying web application directory D:\SOFTWARES\java\apache-tomcat-7.0.32\webapps\manager
    9 Nov, 2012 6:17:07 PM org.apache.catalina.startup.HostConfig deployDirectory
    INFO: Deploying web application directory D:\SOFTWARES\java\apache-tomcat-7.0.32\webapps\ROOT
    9 Nov, 2012 6:17:07 PM org.apache.coyote.AbstractProtocol start
    INFO: Starting ProtocolHandler ["http-bio-8080"]
    9 Nov, 2012 6:17:07 PM org.apache.coyote.AbstractProtocol start
    INFO: Starting ProtocolHandler ["ajp-bio-8009"]
    9 Nov, 2012 6:17:07 PM org.apache.catalina.startup.Catalina start
    INFO: Server startup in 10008 ms 
```

图片： ![图 1](../Images/399635dc62e89b10f6345ec2c7502564.png) ![图 2](../Images/691db07588e65e7d59d9f2bba23b0415.png) ![图 3](../Images/e70d105b1b457c881996f42f11259bcc.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T13:28:14.033

将 doctype 声明添加到您的`struts.xml`文件中。

```
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
   "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
   "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
  ...
</struts> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-23T10:57:15.433

添加库“commons-lang3-3.X”，然后它就可以正常工作了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:57:56.030

您好，这个问题是由于 DTD 标签引起的。

试试这是 DTD 标签：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="WebApp_ID" version="2.5"> 
```

问候，

恶业。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-23T07:04:03.203

嘿伙计们确保如果你把所有 struts2 jar 放在 lib 目录中。否则，如果将所有 jars 添加为用户库，则转到项目属性并在部署程序集中单击添加并选择 java 构建路径条目并选择您的用户库（即 struts2 库）。

# linux - 查找导致核心转储文件的程序

> ID：13308922
> 
> 赞同：27
> 
> 时间：2012-11-09T13:23:37.783
> 
> 标签：linux, debugging, ubuntu, coredump

我最近一直在进行密集的程序/包安装，所以我无法确定哪些新安装的程序（或旧程序）导致`core`我的主文件夹中出现文件。这是一台服务器，所以我最好找出机器上任何可能的不稳定来源。

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-11-09T13:25:43.287

您可以简单地使用该`file`程序来识别它们：

例如

```
# file /var/core/core
/var/core/core:     ELF 64-bit MSB core file SPARCV9 Version 1, from 'crs_stat.bin' 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-02-23T22:11:14.287

通常在核心文件上使用文件程序会显示错误的可执行文件，正如@Benj 在接受的答案中所解释的（来自 Benj 的答案的代码）：

```
# file /var/core/core
/var/core/core:     ELF 64-bit MSB core file SPARCV9 Version 1, from 'crs_stat.bin' 
```

但是，有时您可能会收到有关“程序头部分过多”的抱怨：

```
core.some-lib.nnnn.nnnn: ELF 64-bit LSB  core file x86-64, version 1 (SYSV), too many program header sections (1850) 
```

在这种情况下，您可以尝试一些替代方案：

*   跟踪核心文件的最后几个字符串（该应用程序对我来说大约是 25 个）：`strings core.some-lib.nnnn.nnnn | tail -50`
*   使用 gdb 本身：`gdb -c core.some-lib.nnnn.nnnn`这通常会告诉你这样的事情：`Core was generated by '/usr/local/bin/some-executable'`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-02-08T12:49:35.530

您可以导航到 core.pid 所在的目录并运行 gdb core core.pid

# eclipse - Activiti Diagramm Editor 缺少一些元素？

> ID：13308926
> 
> 赞同：0
> 
> 时间：2012-11-09T13:24:01.183
> 
> 标签：eclipse, plugins, activiti

看起来[Activiti 的图表编辑器](http://activiti.org/userguide/index.html#activitiDesigner)缺少指南中描述的一些元素。我特别在寻找[`Cancel End Event`](http://activiti.org/userguide/#bpmnCancelEndEvent). 如果我尝试更改生成的 XML 以使正确的节点编辑器通过进一步编辑破坏我的修改。

我使用的是旧版本的编辑器还是插件中真的没有实现这些元素？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-12T09:12:53.500

看来[姚江的 BPMN 编辑器](http://bpmn.sourceforge.net/)在 Activiti 元素的范围上更有特色。所以我继续说下去。我仍在测试它。

![在此处输入图像描述](../Images/6333c17a6ad657906084b63e745a58eb.png)

# android - 相同的应用程序，适用于 2.2 至 3.3 Android 版本，但不适用于 Android 4.0 及更高版本

> ID：13308928
> 
> 赞同：3
> 
> 时间：2012-11-09T13:24:15.770
> 
> 标签：android, video, version, compatibility

我正在测试一个简单的应用程序，它使用 VideoView 从互联网播放 http/rtsp 视频。该应用程序在 3.3 之前的 2.2 版本中运行良好，但是当我在 4.0 及更高版本上对其进行测试时，崩溃！！！（在模拟器和真实手机上都测试过：-/）

谁能给我一个提示为什么？

xml文件：

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <EditText android:id="@+id/path"
              android:layout_width="fill_parent"
              android:layout_height="wrap_content"
            />
    <VideoView android:id="@+id/surface_view"
                 android:layout_width="fill_parent"
                 android:layout_height="fill_parent">
    </VideoView>
    <LinearLayout
            android:orientation="horizontal"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
            >
                    <ImageButton android:id="@+id/play"
                     android:layout_height="wrap_content"
                     android:layout_width="wrap_content"
                     android:src="@drawable/play"/>
    </LinearLayout>    

</LinearLayout> 
```

.java文件：

```
 public class Video extends Activity {
    private static final String TAG = "VideoViewDemo";

    private VideoView mVideoView;
    private EditText mPath;
    private ImageButton mPlay;

    private Uri current;

    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.video);
        mVideoView = (VideoView) findViewById(R.id.surface_view);

        mPath = (EditText) findViewById(R.id.path);
        mPath.setText("http://daily3gp.com/vids/747.3gp");

        playVideo();

        mPlay = (ImageButton) findViewById(R.id.play);

        mPlay.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                playVideo();
            }
        });

        runOnUiThread(new Runnable(){
            public void run() {
                playVideo();

            }

        });
    }

    private void playVideo() {
        try {
            //final String path = mPath.getText().toString();
            Uri path = Uri.parse(mPath.getText().toString());
            Log.v(TAG, "path: " + path);
            if (path == null) {
                Toast.makeText(Video.this, "File URL/path is empty",
                        Toast.LENGTH_LONG).show();

            } else {
                // If the path has not changed, just start the media player
                if (path.equals(current) && mVideoView != null) {
                    mVideoView.start();
                    mVideoView.requestFocus();
                    return;
                }
                current = path;
                mVideoView.setVideoURI(path);
                mVideoView.start();
                mVideoView.requestFocus();

            }
        } catch (Exception e) {
            Log.e(TAG, "error: " + e.getMessage(), e);
            if (mVideoView != null) {
                mVideoView.stopPlayback();
            }
        }
    }

} 
```

这里是带有错误的 Logcat 文件：

```
 11-09 17:25:32.582: E/WindowManager(538): Activity com.testing.interacciones.Video has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@413fb820 that was originally added here
11-09 17:25:32.582: E/WindowManager(538): android.view.WindowLeaked: Activity com.testing.interacciones.Video has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@413fb820 that was originally added here
11-09 17:25:32.582: E/WindowManager(538):   at android.view.ViewRootImpl.<init>(ViewRootImpl.java:343)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:245)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:193)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:118)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.Window$LocalWindowManager.addView(Window.java:537)
11-09 17:25:32.582: E/WindowManager(538):   at android.app.Dialog.show(Dialog.java:274)
11-09 17:25:32.582: E/WindowManager(538):   at android.app.AlertDialog$Builder.show(AlertDialog.java:932)
11-09 17:25:32.582: E/WindowManager(538):   at android.widget.VideoView$4.onError(VideoView.java:382)
11-09 17:25:32.582: E/WindowManager(538):   at android.widget.VideoView.openVideo(VideoView.java:240)
11-09 17:25:32.582: E/WindowManager(538):   at android.widget.VideoView.access$2000(VideoView.java:49)
11-09 17:25:32.582: E/WindowManager(538):   at android.widget.VideoView$6.surfaceCreated(VideoView.java:465)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.SurfaceView.updateWindow(SurfaceView.java:562)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.SurfaceView.access$000(SurfaceView.java:82)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.SurfaceView$3.onPreDraw(SurfaceView.java:171)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.ViewTreeObserver.dispatchOnPreDraw(ViewTreeObserver.java:590)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1596)
11-09 17:25:32.582: E/WindowManager(538):   at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2418)
11-09 17:25:32.582: E/WindowManager(538):   at android.os.Handler.dispatchMessage(Handler.java:99)
11-09 17:25:32.582: E/WindowManager(538):   at android.os.Looper.loop(Looper.java:137)
11-09 17:25:32.582: E/WindowManager(538):   at android.app.ActivityThread.main(ActivityThread.java:4340)
11-09 17:25:32.582: E/WindowManager(538):   at java.lang.reflect.Method.invokeNative(Native Method)
11-09 17:25:32.582: E/WindowManager(538):   at java.lang.reflect.Method.invoke(Method.java:511)
11-09 17:25:32.582: E/WindowManager(538):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
11-09 17:25:32.582: E/WindowManager(538):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
11-09 17:25:32.582: E/WindowManager(538):   at dalvik.system.NativeStart.main(Native Method)
11-09 17:25:38.494: D/ExchangeService(421): Received deviceId from Email app: androidc259148960
11-09 17:25:38.494: D/ExchangeService(421): Reconciling accounts...
11-09 17:25:40.621: W/ThrottleService(93): unable to find stats for iface rmnet0
11-09 17:28:46.553: D/dalvikvm(177): GC_CONCURRENT freed 458K, 6% free 10347K/10951K, paused 7ms+8ms
11-09 17:28:48.562: I/dalvikvm(93): Jit: resizing JitTable from 4096 to 8192
11-09 17:30:29.982: I/Process(538): Sending signal. PID: 538 SIG: 9
11-09 17:30:30.122: I/ActivityManager(93): Process com.testing.interacciones (pid 538) has died.
11-09 17:30:30.132: W/InputDispatcher(93): channel '41650408 com.testing.interacciones/com.testing.interacciones.Splash (server)' ~ Consumer closed input channel or an error occurred.  events=0x8
11-09 17:30:30.132: E/InputDispatcher(93): channel '41650408 com.testing.interacciones/com.testing.interacciones.Splash (server)' ~ Channel is unrecoverably broken and will be disposed! 
```

我的清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.testing.interacciones"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="3" />

    <uses-permission android:name="android.permission.INTERNET" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".Splash" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>        

        <activity
            android:name=".Video"
            android:label="@string/app_name" >
            <intent-filter>
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>        

    </application>

</manifest> 
```

手机上的崩溃错误只是说“不幸的是，Test VideoView 已停止”

提前谢谢！

# c# - 所有异常的 ASP.NET MVC 过滤器（包括已处理）

> ID：13308931
> 
> 赞同：1
> 
> 时间：2012-11-09T13:24:24.077
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, c#-3.0

ASP.NET MVC：是否有过滤器可以知道控制器何时进入 catch 块？OnException 不起作用，因为它只是 4 个未处理的 ex。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:38:41.353

您可以编写自己的从**ActionFilterAttribute派生的属性**

```
public class LogExceptionAttribute : ActionFilterAttribute
    {
        public override void OnActionExecuting(ActionExecutingContext filterContext)
        {
                base.OnActionExecuting(filterContext);
        }

        public override void OnActionExecuted(ActionExecutedContext filterContext)
        {
                //here you can inspect filterContext for exceptions
                base.OnActionExecuted(filterContext);
        }

        public override void OnResultExecuting(ResultExecutingContext filterContext)
        {
            base.OnResultExecuting(filterContext);
        }

        public override void OnResultExecuted(ResultExecutedContext filterContext)
        {
            base.OnResultExecuted(filterContext);
        }
    } 
```

然后将属性放在动作/控制器上或将其注册到**Global.asax**中，`ApplicationStart()`作为全局过滤器。

**例子：**

```
 [LogException]
        public ActionResult Index()
        {
            throw new Exception();
            return View();
        } 
```

![在此处输入图像描述](../Images/a787a0bb88bb666825aa92e3593e692e.png)

这将使您能够记录异常或执行其他操作。

# php - 重复表单并在使用 MYSQL 和 Codeigniter 时遇到问题

> ID：13308940
> 
> 赞同：-3
> 
> 时间：2012-11-09T13:24:51.980
> 
> 标签：php, mysql, database, codeigniter, xampp

表单在页面中重复。我无法上传图片：（我不记得有任何循环。我非常需要帮助。这是我的

view_register.php

```
 <body>

<h1>IMAGE HERE</h1>

<div id="body">
    <br/>

    <p class="body">
    <!--trial-->
    <?php
    echo form_open('start');
    $firstname = array(
    'name'  =>  'firstname',
    'value' =>  set_value('firstname')
    );

    $lastname = array(
    'name'  =>  'lastname',
    'value' =>  set_value('lastname')
    );

    $email = array(
    'name'  =>  'email',
    'value' =>  set_value('email')
    );

    $dateofbirth = array(
    'name'  =>  'dateofbirth',
    'value' =>  set_value('dateofbirth')
    );

    $gender = array(
    'name'  =>  'gender',
    'value' =>  set_value('gender'),
    'style' =>  'margin:10px'
    );

    $username = array(
    'name'  =>  'username',
    'value' =>  set_value('username')
    );

    $password = array(
    'name'  =>  'password',
    'value' =>  ''
    );

    $confpass = array(
    'name'  =>  'confpass',
    'value' =>  ''
    );

    ?>

    <!--trial ends here-->

    <strong>User Information: </strong>
    &nbsp;
    <div align="right"><font color="red">*</font>Denotes Required Field</div>

    <div align="left">
    First Name<font color="red">*</font>:
    <?php echo form_input($firstname)?>
    <br/>

    Last Name<font color="red">*</font>:
    <?php echo form_input($lastname)?>
    <br/>

    Email Address<font color="red">*</font>:
    <?php echo form_input($email)?>
    <br/>

    Date Of Birth:
    <?php echo form_input($dateofbirth)?>
    <br/>

    Gender:
        <?php 
        echo form_radio($gender, 'Male');
        echo "Male";
        echo form_radio($gender, 'Female'); 
        echo "Female";
        ?>
        <br/>

    <strong>Account Information:</strong><br/>

    Username<font color="red">*</font>:
    <?php echo form_input($username)?><br/>

    Password<font color="red">*</font>:
    <?php echo form_password($password)?><br/>

    Password Confirmation<font color="red">*</font>:
    <?php echo form_password($confpass)?><br/>

    <?php 
    echo validation_errors();?>
    <?php echo form_submit(array('name'=>'register'), 'Register');?>
    <?php echo form_reset(array('name'=>'reset'), 'Reset')?>

</div>

</body> 
```

这是我的 user.php。我不太确定代码。这些主要是我见过的表格教程..

```
 class User extends CI_Controller {
private $view_data = array();
function _construct()
{
parent::_construct();
$this->view_data['base_url']=base_url();
}

function index()
{
$this->register();
}

function register()
{
$this->load->library('form_validation');

$this->form_validation->set_rules('firstname', 'First Name', 'trim|required|max_length[100]|min_length[1]|xss_clean');
$this->form_validation->set_rules('lastname', 'Last Name', 'trim|required|max_length[100]|min_length[1]|xss_clean');
$this->form_validation->set_rules('email', 'Email Address', 'trim|required|max_length[100]|xss_clean|valid_email');
$this->form_validation->set_rules('dateofbirth', 'Date of Birth', 'trim|max_length[100]|min_length[1]|xss_clean');
$this->form_validation->set_rules('gender', 'Gender', 'trim|max_length[6]|min_length[6]|xss_clean');
$this->form_validation->set_rules('username', 'User Name', 'trim|required|alpha_numeric|callback_username_not_exists|max_length[100]|min_length[6]|xss_clean'); 

if ($this->form_validation->run() == FALSE)
{
//not run
$this->load->view('view_register', $this->view_data);

}
else
{
//good
$firstname=$this->input->post('firstname'); 
$lastname=$this->input->post('lastname');
$email=$this->input->post('email');
$dateofbirth=$this->input->post('dateofbirth');
$gender=$this->input->post('gender');
$username=$this->input->post('username');
$password=$this->input->post('password');

$this->User_model->register_user($firstname, $lastname, $email, $dateofbirth, $gender, $username, $password);
}
$this->load->view('view_register', $this->view_data);
} 
```

然后在那之后我被卡住了。单击注册后，它说Page404 Not Found，甚至没有验证。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T14:12:54.683

第一的。寻找新的教程，那里有很多零意义的代码。我强烈推荐这个系列： http: [//net.tutsplus.com/sessions/codeigniter-from-scratch/](http://net.tutsplus.com/sessions/codeigniter-from-scratch/)

下一个。您找不到页面，因为您的表单操作无处可去。在行中：

```
echo form_open('start'); 
```

您试图在控制器中调用一个名为“start”的函数，但控制器中没有名为 start 的函数。该函数称为寄存器。

下一个。在查看是否有任何发布数据之前，您正在运行表单验证，并且您实际上是在可以有任何发布数据之前运行它。

您获得表单两次可能是因为您将相同的视图加载到页面中两次，一次是在表单验证失败时，它显然会在您第一次加载时再次加载，然后在您调用用户模型时再次加载。

老实说，这里唯一的答案是取消你所做的一切，重新安装 CI 并按照我上面给你的教程系列进行操作。您正在遵循的教程给了您非常糟糕的做法，您需要忘记他们教给您的内容。一步一步地按照 Nettuts 教程进行操作，并确保在继续之前了解它所告诉您的内容。不要只是复制、粘贴和交叉手指。

# php - SSRS - 是否可以使用隐藏参数调用 SSRS 报告，即 url 中没有参数？

> ID：13308943
> 
> 赞同：0
> 
> 时间：2012-11-09T13:25:01.773
> 
> 标签：php, ssrs-2008, reporting-services

我正在尝试从我的 php 页面调用 ssrs 报告，但我不希望任何人看到 url 中的参数。我想使用调用报告的 php/html 中的隐藏字段来输入参数。有没有人试过这个？如果是这样，您能否向我提供一个示例，说明它是如何完成的，甚至是指向讨论此问题的网站的链接？我已经寻找了一段时间，但无法找到有关此主题的任何内容。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T19:06:13.433

参数可以使用 POST 方法传递。检查[SSRS - 尝试将冗长的参数传递给报告并在新窗口中打开](https://stackoverflow.com/questions/8520915/ssrs-trying-to-pass-lengthy-parameters-to-a-report-and-opening-in-a-new-window)。请注意，这仍然是不安全的，因为所有流量都是纯文本的，并且很容易被泄露。

# c - 如何在 Visual Studio 中“模拟”C99 以进行变量声明

> ID：13308944
> 
> 赞同：11
> 
> 时间：2012-11-09T13:25:17.033
> 
> 标签：c, visual-studio-2012, c99, c89

我正在使用 Visual Studio 2012 开发简单的 Win32 C 程序。我知道 VS 编译器只支持 C89，但我想知道是否有办法覆盖这个限制。

特别是我想在我的代码中的任何地方声明变量，而不是只在范围块的开头（如 C89 所要求的那样）。

提前致谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-09T13:43:28.557

我看到的选择：

*   坚持使用 MSVC 并切换到 C++
*   坚持使用 MSVC 并使用将 C99 转换为 C90 的预编译器（[Comeau](http://www.comeaucomputing.com/)，[c99-to-c89](https://github.com/rbultje/c99-to-c89)）
*   切换到支持 C 语言最新版本的工具链（Intel、MinGW、Clang、Pelles-C、...）

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-08-14T22:47:36.753

这似乎是一个过时的线程，但是在我搜索相同的问题时首先登陆这里，我认为我应该发布更新：

从 VS13 开始，Visual C++ 编译器支持 C99 风格的变量声明。更多细节在这里：

[http://blogs.msdn.com/b/vcblog/archive/2013/06/28/c-11-14-stl-features-fixes-and-break-changes-in-vs-2013.aspx](http://blogs.msdn.com/b/vcblog/archive/2013/06/28/c-11-14-stl-features-fixes-and-breaking-changes-in-vs-2013.aspx)

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2012-11-09T13:31:30.000

使用 C++ 编译器构建您的应用程序。这是最简单的方法。您仍然可以编写 C 代码，只需将文件命名为 *.cpp

# php - php regex - 在文本中查找带有数字和空格的大写字符串

> ID：13308947
> 
> 赞同：2
> 
> 时间：2012-11-09T13:25:29.750
> 
> 标签：php, regex

我想编写 php 正则表达式来从文本中查找大写字符串，它也可以包含一个数字和空格。

例如，从这个文本中`"some text to contain EXAM PL E 7STRING uppercase word"`我想得到 string- `EXAM PL E 7STRING`，

找到的字符串应该只以大写开头和结尾，但在中间，没有大写字母也可以包含（但不一定）一个数字和空格。所以，正则表达式应该匹配任何这些模式

```
1) EXAMPLESTRING               - just uppercase string
2) EXAMP4LESTRING              - with number
3) EXAMPLES TRING              - with space
4) EXAM PL E STRING            - with more than one spaces
5) EXAMP LE4STRING             - with number and space
6) EXAMP LE 4ST RI NG          - with number and spaces 
```

并且总长度字符串应等于或大于 4 个字母

我写了这个正则表达式`'/[A-Z]{1,}([A-Z\s]{2,}|\d?)[A-Z]{1,}/'`，它可以找到前 4 个模式，但我想不出它也匹配最后 2 个模式。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T13:50:11.977

有一个巧妙的技巧叫做[前瞻](http://www.regular-expressions.info/lookaround.html)。它只是检查当前位置之后的内容。这可用于检查多个条件：

```
'/(?<![A-Z])(?=(?:[A-Z][\s\d]*){3}[A-Z])(?!(?:[A-Z\s]*\d){2})[A-Z][A-Z\s\d]*[A-Z]/' 
```

第一个环视实际上是一个lookbehind 并检查没有以前的大写字母。对于无论如何都会失败的字符串，这只是一点加速。第二个环视（前瞻）检查是否至少有四个字母。第三个检查没有两位数。其余的只是匹配一个允许字符的字符串，以大写字母开头和结尾。

请注意，在两位数的情况下，这根本不匹配（而不是将所有内容匹配到第二个数字）。如果您**确实**想在这种情况下进行匹配，则可以将“1 digit”规则合并到实际匹配中：

```
'/(?<![A-Z])(?=(?:[A-Z][\s\d]*){3}[A-Z])[A-Z][A-Z\s]*\d?[A-Z\s]*[A-Z]/' 
```

**编辑：**

正如 Ωmega 指出的那样，如果第二个数字之前的字母少于四个，但之后的字母更多，这将导致问题。这实际上非常困难，因为断言需要在第二个数字之前有超过 4 个字母。由于我们不知道这四个字母中第一个数字出现在哪里，我们必须检查所有可能的位置。为此，我将完全取消前瞻，并简单地提供三种不同的选择。（我将保留后视作为对不匹配部分的优化。）

```
'/(?<![A-Z])[A-Z]\s*(?:\d\s*[A-Z]\s*[A-Z]|[A-Z]\s*\d\s*[A-Z]|[A-Z]\s*[A-Z][A-Z\s]*\d?)[A-Z\s]*[A-Z]/' 
```

或者在这里添加评论：

```
'/
(?<!         # negative lookbehind
    [A-Z]    # current position is not preceded by a letter
)            # end of lookbehind
[A-Z]        # match has to start with uppercase letter
\s*          # optional spaces after first letter
(?:          # subpattern for possible digit positions
    \d\s*[A-Z]\s*[A-Z]
             # digit comes after first letter, we need two more letters before last one
|            # OR
    [A-Z]\s*\d\s*[A-Z]
             # digit comes after second letter, we need one more letter before last one
|            # OR
    [A-Z]\s*[A-Z][A-Z\s]*\d?
             # digit comes after third letter, or later, or not at all
)            # end of subpattern for possible digit positions
[A-Z\s]*     # arbitrary amount of further letters and whitespace
[A-Z]        # match has to end with uppercase letter
/x' 
```

这在 Ωmega 的冗长测试输入上给出了相同的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T14:02:02.517

我建议使用正则表达式模式

 ~~~~```
[A-Z][ ]*(\d)?(?(1)(?:[ ]*[A-Z]){3,}|[A-Z][ ]*(\d)?(?(2)(?:[ ]*[A-Z]){2,}|[A-Z][ ]*(\d)?(?(3)(?:[ ]*[A-Z]){2,}|[A-Z][ ]*(?:\d|(?:[ ]*[A-Z])+[ ]*\d?))))(?:[ ]*[A-Z])* 
```~~ 

（见[这个演示](http://ideone.com/ppAVF6)）。

 ~~```
[A-Z][ ]*(?:\d(?:[ ]*[A-Z]){2}|[A-Z][ ]*\d[ ]*[A-Z]|(?:[A-Z][ ]*){2,}\d?)[A-Z ]*[A-Z] 
```

（见[这个演示](http://ideone.com/GFQ9dv)）~~~~

# php - 从 db recs 范围中提取高值和低值的算法

> ID：13308948
> 
> 赞同：2
> 
> 时间：2012-11-09T13:25:40.227
> 
> 标签：php

我有一个这样的数据结构：

```
 array (size=10)
   1 => 
    array (size=2)
     'fdate' => string '11/05/12' (length=8)
     'ftime' => string '11:13' (length=5)
   2 => 
    array (size=2)
    'fdate' => string '11/05/12' (length=8)
    'ftime' => string '11:13' (length=5)
   3 => 
    array (size=2)
     'fdate' => string '11/05/12' (length=8)
     'ftime' => string '11:50' (length=5)
  4 => 
    array (size=2)
     'fdate' => string '11/05/12' (length=8)
     'ftime' => string '11:51' (length=5)
  5 => 
    array (size=2)
     'fdate' => string '11/07/12' (length=8)
     'ftime' => string '09:11' (length=5)
  6 => 
    array (size=2)
     'fdate' => string '11/07/12' (length=8)
     'ftime' => string '09:12' (length=5)
  7 => 
    array (size=2)
     'fdate' => string '11/07/12' (length=8)
     'ftime' => string '10:29' (length=5)
  8 => 
    array (size=2)
     'fdate' => string '11/08/12' (length=8)
     'ftime' => string '11:06' (length=5)
  9 => 
    array (size=2)
    'fdate' => string '11/08/12' (length=8)
    'ftime' => string '11:06' (length=5)
  10 => 
    array (size=2)
    'fdate' => string '11/08/12' (length=8)
    'ftime' => string '11:07' (length=5) 
```

在这种情况下，我需要评估并得出每个日期的第一个和最后一个 ftime 值

```
 fdate     ftime1 ftime2
 11/05/12, 11:13, 11:51
 11/07/12, 09:11, 10:29
 11/08/12, 11:06, 11:07 
```

我有一个这样的循环：

```
 $struct = array();
 $i = 1;
 foreach($recs as $row){            
   $struct[$i]['fdate'] = $row->fdate;// store fdate
   $struct[$i]['ftime1'] = $row->ftime;// store initial ftime
   $currentfdate = $row->fdate; // use $currentfdate in comparison to $row->fdate

   if($currentfdate <> $row->fdate){
      $struct[$i]['ftime2'] = $row->ftime;// store last ftime
   }

   $i++;
 } 
```

我不确定如何确定 fdate 何时更改以触发 ftime2 的存储。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T14:58:49.360

你可以试试这个：

```
$temp = array();
foreach($recs as $row){            
   $temp[$row->fdate][]=$row->ftime;
}

foreach($temp as $date=>$value){
  echo $date.'-'.current($value).'-'.end($value);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T15:09:06.737

This solution is a bit naive, in the sense that it assumes your recordset is already ordered properly (meaning the same dates are adjacent to each other and that their times are sequentially ordered ascending):

```
<?php

$records = array(
    array( 'fdate' => '11/05/12', 'ftime' => '11:13' ),
    array( 'fdate' => '11/05/12', 'ftime' => '11:13' ),
    array( 'fdate' => '11/05/12', 'ftime' => '11:50' ),
    array( 'fdate' => '11/05/12', 'ftime' => '11:51' ),
    array( 'fdate' => '11/07/12', 'ftime' => '09:11' ),
    array( 'fdate' => '11/07/12', 'ftime' => '09:12' ),
    array( 'fdate' => '11/07/12', 'ftime' => '10:29' ),
    array( 'fdate' => '11/08/12', 'ftime' => '11:06' ),
    array( 'fdate' => '11/08/12', 'ftime' => '11:06' ),
    array( 'fdate' => '11/08/12', 'ftime' => '11:07' )
);

$struct = array();
$currentDate = null;
$i = 0; // if you want zero-indexed result, change this to -1
foreach( $records as $record )
{
    if( $currentDate <> $record[ 'fdate' ] )
    {
        $i++;
        $struct[ $i ] = array(
            'fdate' => $record[ 'fdate' ],
            'ftime1' => $record[ 'ftime' ]
        );
        $currentDate = $record[ 'fdate' ];
    }
    else if( $struct[ $i ][ 'ftime1' ] <> $record[ 'ftime' ] )
    {
        $struct[ $i ][ 'ftime2' ] = $record[ 'ftime' ];
    }
}

var_dump( $struct ); 
```

*(replace array notation to object notation for your needs.)*

# ruby-on-rails-3 - Rails 应用程序不工作，开发模式，apache，在外部查看

> ID：13308951
> 
> 赞同：0
> 
> 时间：2012-11-09T13:25:58.963
> 
> 标签：ruby-on-rails-3, apache, centos

我在带有 Win7 主机的 CENTOS 6.x VirtualBox 来宾上安装了导轨。我制作了一个演示应用程序，我可以看到欢迎词“你正在使用 Ruby on Rails！” 主机浏览器的默认页面。但是，当我这样做时

```
demo> rails generate controller Say hello goodbye 
```

当我导航到 .../Say/hello 时，我得到“出了点问题”

我还注意到，我在“关于您的应用程序环境”页面的元素中收到了一条“出现问题”消息，该页面链接了欢迎索引。

我有：

*   关闭 selinux
*   编辑欢迎屏幕的文本并查看差异（从主机浏览器）以验证我在正确的位置工作
*   来这里寻求帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:40:44.423

在生产模式下会给出“出现问题”的消息，在开发中你应该看到实际的错误和回溯。确保在 Apache 配置中指定环境

```
RailsEnv 'development' 
```

# php - PHP是否提供对对象映射的请求

> ID：13308952
> 
> 赞同：1
> 
> 时间：2012-11-09T13:25:59.590
> 
> 标签：php, jsp

在 JSP 中有

```
<jsp:useBean....../>
<jsp:setProperty name="entry" property="*" /> 
```

（如果所有请求参数都与 bean 属性名称匹配）

PHP中有这样的东西吗？

我是 PHP 的初学者，所以如果它是一个幼稚的问题，请原谅我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T14:01:03.933

您正在将框架与语言进行比较。PHP 中也有一些框架可以做类似的事情，例如[Zend Framework 2](https://stackoverflow.com/tags/zend-framework2/info)。

不要**指望**PHP 生态系统是 Java 生态系统，它们是完全不同的语言，具有不同的解决问题的方法。

# go - 如何跟踪类型实例的计数？

> ID：13308955
> 
> 赞同：8
> 
> 时间：2012-11-09T13:26:06.037
> 
> 标签：go, instance, destructor

在面向对象的语言中，我使用类变量来跟踪当前通过构造递增和销毁递减产生的实例数量。

我尝试在 go 中实现类似的行为：

```
package entity

type Entity struct {
    Name string
}

func New(name string) Entity {
    entity := Entity{name}
    counter++
    return entity
}

var counter int = 0

func (e *Entity) Count() int {
    return counter
} 
```

这工作了一半，因为我不能通过析构函数减少计数器。

我可以以某种方式模仿对象破坏吗？我将如何正确跟踪实例计数？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-09T18:52:15.440

您可以像这样使用[runtime.SetFinalizer](http://golang.org/pkg/runtime/#SetFinalizer)。有关游乐场版本，请参见[此处](http://play.golang.org/p/nIWyke11mU)。

```
package main

import (
    "fmt"
    "runtime"
)

type Entity struct {
    Name string
}

var counter int = 0

func New(name string) Entity {
    entity := Entity{name}
    counter++
    runtime.SetFinalizer(&entity, func(_ *Entity) {
        counter--
    })
    return entity
}

func (e *Entity) Count() int {
    return counter
}

func main() {
    e := New("Sausage")
    fmt.Println("Entities", counter, e)
    e = New("Potato")
    fmt.Println("Entities", counter, e)
    runtime.GC()
    fmt.Println("Entities", counter)
    e = New("Leek")
    fmt.Println("Entities", counter)
    runtime.GC()
    fmt.Println("Entities", counter)
} 
```

这打印

```
Entities 1 {Sausage}
Entities 2 {Potato}
Entities 0
Entities 1
Entities 0 
```

请从文档中注意这一点，了解带有终结器的陷阱

> x 的终结器计划在 x 变得无法访问后的某个任意时间运行。无法保证终结器会在程序退出之前运行，因此它们通常仅用于在长时间运行的程序期间释放与对象关联的非内存资源。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-09T13:40:58.793

关于终结器的 golang-nuts有一个[讨论。](https://groups.google.com/forum/?fromgroups=#!topic/golang-nuts/Iomx9Z10d58)

目前，

*   没有终结器功能*（编辑：没有可靠的终结器功能，正如尼克向我展示的那样）*
*   GC 不使用也不维护任何引用计数

所以你必须自己管理你的实例数。

通常，您没有独立存在的实例，因此对于许多实际用途（不包括分析复杂且难以理解的程序），您可以使用它`defer`来跟踪变量的生命周期结束。我不会假装这真的取代了终结器，但它很简单而且通常就足够了。

# java - 在 Android 和 iPhone 中使用 AES-128 加密（结果不同）

> ID：13308957
> 
> 赞同：14
> 
> 时间：2012-11-09T13:26:12.587
> 
> 标签：java, android, iphone, encryption, aes

我正在尝试在 Android 和 iPhone 平台上使用 AES 算法加密一些文本。我的问题是，即使使用相同的加密/解密算法（AES-128）和相同的固定变量（密钥、IV、模式），我在两个平台上都会得到不同的结果。我包含来自两个平台的代码示例，用于测试加密/解密。在确定我做错了什么时，我将不胜感激。

*   密钥：“123456789abcdefg”</li>
*   四：“1111111111111111”</li>
*   纯文本：“HelloThere”</li>
*   模式：“AES/CBC/NoPadding”</li>

**安卓代码：**

```
public class Crypto {
    private final static String HEX = "0123456789ABCDEF";

    public static String encrypt(String seed, String cleartext)
            throws Exception {
        byte[] rawKey = getRawKey(seed.getBytes());
        byte[] result = encrypt(rawKey, cleartext.getBytes());
        return toHex(result);
    }

    public static String decrypt(String seed, String encrypted)
            throws Exception {
        byte[] rawKey = getRawKey(seed.getBytes());
        byte[] enc = toByte(encrypted);
        byte[] result = decrypt(rawKey, enc);
        return new String(result);
    }

    private static byte[] getRawKey(byte[] seed) throws Exception {
        KeyGenerator kgen = KeyGenerator.getInstance("CBC");
        SecureRandom sr = SecureRandom.getInstance("SHA1PRNG");
        sr.setSeed(seed);
        kgen.init(128, sr); // 192 and 256 bits may not be available
        SecretKey skey = kgen.generateKey();
        byte[] raw = skey.getEncoded();
        return raw;
    }

    private static byte[] encrypt(byte[] raw, byte[] clear) throws Exception {
        SecretKeySpec skeySpec = new SecretKeySpec(raw, "AES");
        Cipher cipher = Cipher.getInstance("AES");
        cipher.init(Cipher.ENCRYPT_MODE, skeySpec);
        byte[] encrypted = cipher.doFinal(clear);
        return encrypted;
    }

    private static byte[] decrypt(byte[] raw, byte[] encrypted)
            throws Exception {
        SecretKeySpec skeySpec = new SecretKeySpec(raw, "AES");
        Cipher cipher = Cipher.getInstance("AES");
        cipher.init(Cipher.DECRYPT_MODE, skeySpec);
        byte[] decrypted = cipher.doFinal(encrypted);
        return decrypted;
    }

    public static String toHex(String txt) {
        return toHex(txt.getBytes());
    }

    public static String fromHex(String hex) {
        return new String(toByte(hex));
    }

    public static byte[] toByte(String hexString) {
        int len = hexString.length() / 2;
        byte[] result = new byte[len];
        for (int i = 0; i < len; i++)
            result[i] = Integer.valueOf(hexString.substring(2 * i, 2 * i + 2),
                    16).byteValue();
        return result;
    }

    public static String toHex(byte[] buf) {
        if (buf == null)
            return "";

        StringBuffer result = new StringBuffer(2 * buf.length);
        for (int i = 0; i < buf.length; i++) {
            appendHex(result, buf[i]);
        }

        return result.toString();
    }

    private static void appendHex(StringBuffer sb, byte b) {
        sb.append(HEX.charAt((b >> 4) & 0x0f)).append(HEX.charAt(b & 0x0f));
    }
} 
```

**iPhone（Objective-C）代码：**

```
- (NSData *) transform:(CCOperation) encryptOrDecrypt data:(NSData *) inputData { 

    NSData* secretKey = [Cipher md5:cipherKey];

    CCCryptorRef cryptor = NULL;
    CCCryptorStatus status = kCCSuccess;

    uint8_t iv[kCCBlockSizeAES128];
    memset((void *) iv, 0x0, (size_t) sizeof(iv));

    status = CCCryptorCreate(encryptOrDecrypt, kCCAlgorithmAES128, kCCOptionPKCS7Padding,
                         [secretKey bytes], kCCKeySizeAES128, iv, &cryptor);

    if (status != kCCSuccess) {
        return nil;
    }

    size_t bufsize = CCCryptorGetOutputLength(cryptor, (size_t)[inputData length], true);

    void * buf = malloc(bufsize * sizeof(uint8_t));
    memset(buf, 0x0, bufsize);

    size_t bufused = 0;
    size_t bytesTotal = 0;

    status = CCCryptorUpdate(cryptor, [inputData bytes], (size_t)[inputData length],
                         buf, bufsize, &bufused);

    if (status != kCCSuccess) {
        free(buf);
        CCCryptorRelease(cryptor);
        return nil;
    }

    bytesTotal += bufused;

    status = CCCryptorFinal(cryptor, buf + bufused, bufsize - bufused, &bufused);

    if (status != kCCSuccess) {
        free(buf);
        CCCryptorRelease(cryptor);
        return nil;
    }

    bytesTotal += bufused;

    CCCryptorRelease(cryptor);

    return [NSData dataWithBytesNoCopy:buf length:bytesTotal];
}

+ (NSData *) md5:(NSString *) stringToHash {

    const char *src = [stringToHash UTF8String];

    unsigned char result[CC_MD5_DIGEST_LENGTH];

    CC_MD5(src, strlen(src), result);

    return [NSData dataWithBytes:result length:CC_MD5_DIGEST_LENGTH];
} 
```

我的一些参考资料：

*   [http://code.google.com/p/aes-encryption-samples/wiki/HowToEncryptWithJava](http://code.google.com/p/aes-encryption-samples/wiki/HowToEncryptWithJava)
*   [http://automagical.rationalmind.net/2009/02/12/aes-interoperability-between-net-and-iphone/](http://automagical.rationalmind.net/2009/02/12/aes-interoperability-between-net-and-iphone/)
*   [.Net 和 iPhone 之间的 AES 互操作性？](https://stackoverflow.com/questions/538435/aes-interoperability-between-net-and-iphone/)

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-05-31T10:07:03.850

对于 iPhone，我使用[了 AESCrypt-ObjC](https://github.com/Gurpartap/AESCrypt-ObjC)，对于 Android，使用以下代码：

```
public class AESCrypt {

  private final Cipher cipher;
  private final SecretKeySpec key;
  private AlgorithmParameterSpec spec;

  public AESCrypt(String password) throws Exception
  {
    // hash password with SHA-256 and crop the output to 128-bit for key
    MessageDigest digest = MessageDigest.getInstance("SHA-256");
    digest.update(password.getBytes("UTF-8"));
    byte[] keyBytes = new byte[32];
    System.arraycopy(digest.digest(), 0, keyBytes, 0, keyBytes.length);

    cipher = Cipher.getInstance("AES/CBC/PKCS7Padding");
    key = new SecretKeySpec(keyBytes, "AES");
    spec = getIV();
  }       

  public AlgorithmParameterSpec getIV()
  {
    byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, };
    IvParameterSpec ivParameterSpec;
    ivParameterSpec = new IvParameterSpec(iv);

    return ivParameterSpec;
  }

  public String encrypt(String plainText) throws Exception
  {
    cipher.init(Cipher.ENCRYPT_MODE, key, spec);
    byte[] encrypted = cipher.doFinal(plainText.getBytes("UTF-8"));
    String encryptedText = new String(Base64.encode(encrypted, Base64.DEFAULT), "UTF-8");

    return encryptedText;
  }

  public String decrypt(String cryptedText) throws Exception
  {
    cipher.init(Cipher.DECRYPT_MODE, key, spec);
    byte[] bytes = Base64.decode(cryptedText, Base64.DEFAULT);
    byte[] decrypted = cipher.doFinal(bytes);
    String decryptedText = new String(decrypted, "UTF-8");

    return decryptedText;
  }
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-09T16:11:24.537

难怪你会得到不同的结果。

您的问题是您滥用 SHA1PRNG 进行密钥派生。AFAIK 没有共同的标准 SHA1PRNG 如何在内部工作。AFAIR 甚至 J2SE 和 Bouncycaste 实现使用相同的种子输出不同的结果。

因此，您的实施`getRawKey(byte[] seed)`将为您生成一个随机密钥。如果您使用密钥进行加密，您将获得取决于该密钥的结果。由于密钥是随机的，您不会在 iOS 上获得相同的密钥，因此您会得到不同的结果。

如果您想要一个密钥派生函数，请使用像 PBKDF2 这样的函数，该函数在密钥派生方面几乎完全标准化。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-09T15:38:00.243

在 Android 上，您正在使用`getBytes()`. 这是一个错误，因为这意味着您使用的是默认字符集而不是已知字符集。改为使用`getBytes("UTF-8")`，这样您就可以确切地知道您将获得哪些字节。

我不知道 Objective-C 的等价物，但不要依赖默认值。将字符串转换为字节时显式指定 UTF-8。这样，您将在两侧获得相同的字节。

我还注意到您在 Objective-C 代码中使用 MD5，但在 Android 代码中没有。这是故意的吗？

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-10T18:11:36.933

[请参阅我对基于密码的 AES 加密的](https://stackoverflow.com/a/992413/3474)回答，因为您实际上是在使用“种子”作为密码。（只需将 256 的密钥长度更改为 128，如果这是您想要的。）

尝试通过播种具有相同值的 DRBG 来生成相同的密钥是不可靠的。

接下来，您没有在 Android 加密中使用 CBC 或 IV。我的例子也展示了如何正确地做到这一点。顺便说一句，正如我的示例所示，您需要为每条加密的消息生成一个新的 IV，并将其与密文一起发送。否则，使用 CBC 毫无意义。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2021-03-17T23:28:28.377

注意：对于java中的android

我已经编写了这个管理器文件，它的功能对我来说非常好。这适用于 AES 128，不含任何盐。

```
public class CryptoManager {

private static CryptoManager shared;
private String privateKey = "your_private_key_here";
private String ivString = "your_iv_here";

private CryptoManager(){
}

public static CryptoManager getShared() {
    if (shared != null ){
        return shared;
    }else{
        shared = new CryptoManager();
        return shared;
    }
}

public String encrypt(String value) {
    try {
        IvParameterSpec iv = new IvParameterSpec(ivString.getBytes("UTF-8"));
        SecretKeySpec skeySpec = new SecretKeySpec(privateKey.getBytes("UTF-8"), "AES");

        Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5PADDING");
        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);

        byte[] encrypted = cipher.doFinal(value.getBytes());
        return android.util.Base64.encodeToString(encrypted, android.util.Base64.DEFAULT);
    } catch (Exception ex) {
        ex.printStackTrace();
    }
    return null;
}

public String decrypt(String encrypted) {
    try {
        IvParameterSpec iv = new IvParameterSpec(ivString.getBytes("UTF-8"));
        SecretKeySpec skeySpec = new SecretKeySpec(privateKey.getBytes("UTF-8"), "AES");

        Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5PADDING");
        cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);
        byte[] original = new byte[0];
        original = cipher.doFinal(android.util.Base64.decode(encrypted, android.util.Base64.DEFAULT));

        return new String(original);
    } catch (Exception ex) {
        ex.printStackTrace();
    }

    return null;
}
} 
```

您需要像这样调用函数。

```
String dataToEncrypt = "I need to encrypt myself";
String encryptedData = CryptoManager.getShared().encrypt(data); 
```

您将使用以下行获得加密字符串

```
String decryptedString = CryptoManager.getShared().decrypt(encryptedData); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-04T15:23:22.993

如果您想要 Android 和 iPhone 的兼容代码示例，请查看适用于 iOS 的[RNCryptor 库](http://code.google.com/p/jncryptor/)[和](https://github.com/rnapier/RNCryptor)适用于 Java/Android 的 JNCryptor 库。

这两个项目都是开源的，并且共享一个通用的数据格式。在这些库中，使用了 256 位 AES，但是如果需要支持 128 位 AES，调整代码将是微不足道的。

根据接受的答案，两个库都使用 PBKDF2。

# configuration - 我应该怎么做才能为 Neo4j 设置新的 Gremlin 版本？

> ID：13308967
> 
> 赞同：1
> 
> 时间：2012-11-09T13:27:06.747
> 
> 标签：configuration, neo4j, dbpedia, gremlin

我在用`Neo4j - Graph Database Kernel 1.8`

它使用这个 gremlin 版本：

```
gremlin> Gremlin.version()
==> 1.5 
```

这是非常旧的版本。

我想升级到github 项目`gremlin` `2.0`或`2.1`从[github 项目](https://github.com/tinkerpop/gremlin/downloads)升级，因为我无法在以下位置运行此命令`gremlin 1.5`：

```
gremlin> g.v(1).outE.has("weight", T.gte, 0.5f).weight
==> No such property: T for class: groovysh_evaluate 
```

我的问题是我该怎么办，所以我不会把`neo4j`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T15:27:01.350

你可以运行：

```
import com.tinkerpop.gremlin.Tokens.T 
```

直接调用 gremlin 助手令牌（“T”）：

```
g.v(1).outE.has("weight", T.gte, 0.5f).weight 
```

或者你可以写：

```
g.v(0).outE.has("weight", Tokens.T.gte, 0.5f).weight 
```

把它写在 gremlin shell 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-11T12:09:32.103

Gremlin 插件和服务器将在接下来的几周内升级，可以吗？

# php - 在 PHP 中从字符串创建无限深的多维数组

> ID：13308968
> 
> 赞同：2
> 
> 时间：2012-11-09T13:27:16.090
> 
> 标签：php, arrays

> **可能重复：**
> [具有数组结构的字符串到数组](https://stackoverflow.com/questions/8537148/string-with-array-structure-to-array)

我有一个字符串“db/yum/user”，我试图将它分解，以便 / 的每个元素都成为一个更深的维度。

所以创建数据变量的直接方法是

```
$config['db']['yum']['user'] = "val"; 
```

到目前为止我的尝试：

```
$config = array();              
  function set_config($key,$value){
global $config;

        //Multi deminsional config
        $multi_configs = explode('/',$key);
        if($multi_configs!==false){
            $build_up = array();
            $c =& $build_up;

            foreach($multi_configs as $multi_config){
                $c[$multi_config] = array();
                $c     =& $c[$multi_config];
            }
            //$c = $value;
            array_merge($config,$c);
            return;
        }

        $config[$key] = $value;
    }
               set_config('db/yum/user','val');
               set_config('db/yum/server','val2');
                //etc,etc,etc, this was modified to make more sense in this context. 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-09T13:47:37.923

这可能是您正在寻找的：

```
#!/usr/bin/php
<?php

$config = array();

function set_config($key, $value) {
  global $config;

  if (FALSE=== ($levels=explode('/',$key)))
    return;

  $pointer = &$config;
  for ($i=0; $i<sizeof($levels); $i++) {
    if (!isset($pointer[$levels[$i]]))
      $pointer[$levels[$i]]=array();
    $pointer=&$pointer[$levels[$i]];
  } // for

  $pointer=$value;
} // set_config

set_config('db/yum/user','val');
set_config('db/yum/server','val2');

print_r($config);

?> 
```

输出是：

```
Array
(
    [db] => Array
        (
            [yum] => Array
                (
                    [user] => val
                    [server] => val2
                )

        )

) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T14:15:15.650

您还可以使用数组中的树结构来实现相同的解决方案。这是构造数组的代码：

```
$arr = array (5,6);

$new_arr=array ();
$prev=0;

foreach ($arr as $val) {
    $new_arr[$prev] = $val;
    $prev=$val;
}

$new_arr[$prev]="value"; 
```

这是检索值的代码：

```
 function retrieve ($arr) {

    $prev=0;
    while (1) {
        if (! isset($arr[$prev] ) )
            break;
        else $prev = $arr[$prev];

    }       
    return $prev;       
} 
```

# statistics - 混合（二进制和数字）向量的相似度得分

> ID：13308972
> 
> 赞同：2
> 
> 时间：2012-11-09T13:27:33.220
> 
> 标签：statistics, machine-learning, data-mining

我有一个数据集，其中实例有大约 200 个特征，其中大约 11 个特征是数字（整数），其余的是二进制（1/0），这些特征可能是相关的，并且它们具有不同的概率分布，

一段时间以来，我一直在寻求一个很好的相似度分数，它适用于混合向量并考虑到特征之间的相关性，

你知道这样的相似度分数吗？

谢谢，阿里安

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-12T03:02:11.983

在您的情况下，相似性函数在很大程度上依赖于输入数据模式。您可能会受益于从一组给定的相似/不相似点集合中学习数据输入空间的距离度量，该集合保留了训练数据之间的距离关系。

[这](http://www.cs.cmu.edu/~liuy/frame_survey_v2.pdf)是一份不错的调查报告。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T23:33:25.550

多种距离测量类型，[欧几里得](http://en.wikipedia.org/wiki/Euclidean_distance)、[曼哈顿](http://en.wikipedia.org/wiki/Taxicab_geometry)等，将根据数据集提供不同级别的准确度。最好阅读有关您的数据拟合方法的论文，并查看他们使用的启发式方法。更不用说某些方法只需要相应扩展的同质数据。[这](http://fedcsis.org/proceedings/fedcsis2012/pliks/347.pdf)是一篇论文，其中讨论了您可能会觉得有吸引力的一系列措施。

与往常一样，进行测试和交叉验证，看看混合特征类型是否真的有影响。

# ios - 智能应用横幅显示为空白、灰色条

> ID：13308976
> 
> 赞同：2
> 
> 时间：2012-11-09T13:27:38.400
> 
> 标签：ios, ios6, meta-tags

我将智能应用横幅元标记添加到我的页面中，昨天它运行良好。但是，现在横幅只显示为灰色条，其中没有任何内容。它似乎试图加载一些东西，但随后停止。不确定我在代码中所做的更改会破坏它。下面包含的屏幕截图链接或亲自查看：

[http://grahamgram.com](http://grahamgram.com)

![截屏](../Images/5406b34059924ee778e2602aadcbeb9d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-04-26T14:15:17.320

原因可能是：

1.  您使用了错误的应用程序 ID
2.  您的应用和您的 apple-id（您用于应用商店的那个）属于不同的国家/地区
3.  您正在使用代理在您的开发环境中测试此智能横幅（因此 iTunes 无法获取信息，您可以尝试使用代理从应用商店下载该应用）
4.  其他原因，例如第一个答案

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T15:42:18.940

我认为该服务目前已关闭。

我自己也遇到了同样的问题，刚刚测试了 ted.com 网站，他们的网站也没有加载。

希望有帮助！

# algorithm - 动态规划分词

> ID：13308979
> 
> 赞同：-1
> 
> 时间：2012-11-09T13:27:53.517
> 
> 标签：algorithm, theory, text-segmentation

假设我有一个像 'meetateight' 这样的字符串，我需要使用动态编程将它分割成有意义的单词，比如 'meet' 'at' 'eight'。

为了判断一个块/段“x = x1x2x3”有多“好”，给我一个黑盒子，在输入 x 上返回一个实数 quality(x)，这样： quality(x) 的大正值表示x接近英文单词，负数大表示x远离英文单词。

我需要帮助来设计相同的算法。

我尝试考虑一种算法，在该算法中，只要质量下降，我就会根据它们的质量和分段迭代地添加字母。但这在上面的例子中失败了，因为它切断了我而不是见面。

我需要更好的算法的建议。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:45:59.737

您可以使用动态编程，并跟踪输入的每个前缀的分数，一次添加一个字母。每次添加字母时，请查看是否可以将任何后缀添加到您已经使用过的前缀上（选择得分最高的一个）。例如：

```
m = 0
me = 1
mee = 0
meet = 1
meeta = 1 (meet + a)
meetat = 1 (meet + at)
meetate = 1 (meet + ate)
meetatei = 1 (meetate + i)
meetateig = 0
meetateigh = 0
meetateight = 1 (meetat + eight) 
```

要处理 0 和 1 之间的值，可以将它们相乘。还要保存您使用过的单词，以便您可以在最后拆分整个字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:35:10.193

使用英语词典构建一个[Trie](http://en.wikipedia.org/wiki/Trie)并向下导航如何使用所有可能的叶子路径扫描您的字符串（当您有多个选择时回溯）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-09T13:43:03.353

[我在我的博客上](http://programmingpraxis.com/2012/01/27/anagram-phrases/)写了一个程序来做到这一点；这里太长了。基本思想是切掉构成单词的前缀，然后递归处理输入的其余部分，当无法拆分整个字符串时回溯。

# android - 无法实现扩展的 TextView

> ID：13308983
> 
> 赞同：1
> 
> 时间：2012-11-09T13:28:12.367
> 
> 标签：android, runtimeexception, extending

我刚刚找到了 Chase 的 AutoResizeTextView

[自动缩放 TextView 文本以适应边界](https://stackoverflow.com/questions/5033012/auto-scale-textview-text-to-fit-within-bounds/5535672#5535672)

但我还不能让它运行。

```
AutoResizeTextView monologTextView;
monologTextView = (AutoResizeTextView) findViewById(R.id.dialogText); 
```

xml:

```
 <AutoResizeTextView
                android:id="@+id/dialogText"
                style="@style/monologText"
                android:layout_width="fill_parent"
                android:layout_height="100dp"
                android:layout_alignParentBottom="true"
                android:layout_alignParentLeft="true"
                android:ellipsize="none"
                android:singleLine="true"
                 /> 
```

导致 android.view.InflateException。

```
Binary XML file line #44: Error inflating class AutoResizeTextView 
```

当我将 XML 更改为 TextView

```
<TextView
                android:id="@+id/dialogText"
                style="@style/monologText"
                android:layout_width="fill_parent"
                android:layout_height="100dp"
                android:layout_alignParentBottom="true"
                android:layout_alignParentLeft="true"
                android:ellipsize="none"
                android:singleLine="true"
                 /> 
```

我收到以下运行时异常：

android.widget.TextView 无法转换为 com.gootsproject.AutoResizeTextView

如何实现扩展的 textView？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T13:33:36.400

```
<AutoResizeTextView
                android:id="@+id/dialogText"
                style="@style/monologText"
                android:layout_width="fill_parent"
                android:layout_height="100dp"
                android:layout_alignParentBottom="true"
                android:layout_alignParentLeft="true"
                android:ellipsize="none"
                android:singleLine="true"
                 /> 
```

你应该指出完整的路径：

```
<com.gootsproject.AutoResizeTextView 
```

# iphone - 如何确定应用程序是否通过教育商店安装？

> ID：13308984
> 
> 赞同：2
> 
> 时间：2012-11-09T13:28:11.083
> 
> 标签：iphone, objective-c, ios, app-store, analytics

iOS App Store 为学校提供 50% 的批量购买折扣，非常棒。有没有办法在应用程序的运行时确定应用程序是否是通过教育购买安装的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T20:32:11.963

在运行时？不可以。无法获取有关购买您的应用程序的任何信息。

在销售报告中，那是另一个问题。

我认为尝试根据教育购买修改应用程序的功能违反了苹果的规则。您的合同规定：

> 此外，您可以通过 iTunes Connect 选择，指示 Apple 以您既定价格等级的 50% 的折扣向授权机构客户推销许可应用程序。

在我看来，您可以选择同意以较低的价格发布相同的应用程序。

# maven - 如何从 mvn clean install 中排除项目？

> ID：13308989
> 
> 赞同：3
> 
> 时间：2012-11-09T13:28:17.727
> 
> 标签：maven, maven-2, maven-install-plugin

> **可能重复：**
> [如何使用命令行从 Maven 构建中排除某些模块](https://stackoverflow.com/questions/13266470/how-do-i-exclude-certain-modules-from-a-maven-build-using-the-commandline)

我`maven clean install`在一个包含多个模块（和子模块）的 pom 文件中运行。我想知道是否可以运行 maven 构建，但在命令行上指定从构建中跳过一个模块（目前我从构建中手动排除它们，但我更喜欢通过命令行来完成）。

我知道使用 -pl 您可以有选择地选择项目，但我想要的是有选择地排除（以黑名单方式）一些项目。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T13:33:57.647

您可以在配置文件中有一个单独的`<modules>`部分，并在命令行中激活您需要的配置文件。

例子：

```
<profiles>
    <profile>
       <id>profile-1</id>
       <activation>
         <activeByDefault>true</activeByDefault>
       </activation>
       <modules>...</modules> <!-- module set 1 -->
    </profile>
    <profile>
       <id>profile-2</id>
       <modules>...</modules> <!-- module set 2 -->
    </profile>
</profiles> 
```

现在，根据您当前的需要，执行

```
mvn install
mvn install -P profile-2 
```

请注意，您必须仔细考虑，排除的模块必须没有跨配置文件依赖项。

# python - 如何使用小马.vim

> ID：13308995
> 
> 赞同：2
> 
> 时间：2012-11-09T13:28:52.380
> 
> 标签：python, django, vim

我已经安装了[pony.vim](https://github.com/rainerborene/vim-pony)

我找不到任何文档来阅读如何使用它。我通过 vundle [gmarik vundle安装了它](https://github.com/gmarik/vundle)

如果我输入其中任何一个，我也得不到任何帮助

```
:helptags pony
:helptags pony-vim 
```

有人在使用它并且可以提供帮助吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T13:40:23.817

该插件的文档为零。那很*糟糕。*

你[看过代码](https://github.com/rainerborene/vim-pony/blob/master/plugin/pony.vim#L60-65)吗？

可用的命令似乎是：

```
:Dadmin
:Dmodels
:Dtests
:Dviews
:Durls
:Dmanage 
```

据我了解，您应该能够执行以下操作来导航到模型：

```
:Dmodels <Tab> 
```

# ant - ANT：javac 任务的几个文件集

> ID：13308998
> 
> 赞同：2
> 
> 时间：2012-11-09T13:29:07.200
> 
> 标签：ant, build.xml, fileset

我有一个带有两个不同文件集的 ANT 构建文件：

```
<fileset id="fs1">  <include name="source1\**" />  </fileset>
<fileset id="fs2">  <include name="source2\**" />  </fileset> 
```

并想在同一个 javac 任务中使用它们。

当然，我可以写

```
<javac ...>
     <include name="source1\**" />
     <include name="source2\**" />
</javac> 
```

但我希望文件的选择发生在外面，因为我的 javac-task 将使用不同的参数多次调用。

一种解决方案是复制临时目录中的所有文件并在其上调用 javac。但你会承认它不是很令人满意......

此外：是否有将两个文件集连接到一个文件集的解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T14:21:19.940

我找到了一个解决方案，使用`patternset.`

```
<patternset id="ps1">  <include name="source1\**" />  </patternset>
<patternset id="ps2">  <include name="source2\**" />  </patternset>

<javac ...>
  <patternset>
    <patternset refid="ps1" />
    <patternset refid="ps2" />
  </patternset>
</javac> 
```