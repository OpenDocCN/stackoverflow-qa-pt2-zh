# StackOverflow 问答 14254000-14254999

# android - 带手指开关的全屏图库

> ID：14254001
> 
> 赞同：0
> 
> 时间：2013-01-10T08:56:31.730
> 
> 标签：android

我想要一个全屏画廊，其中包含一组不同的图片，当我按下某个按钮时会打开这些图片。

我已经搜索了一段时间，但我找不到好的东西。也许你们中的某个人可以帮助我举一些例子。

到目前为止，我有一个包含选项卡菜单的应用程序，每个选项卡下都有一些按钮。现在，当我按下特定按钮时，我想打开一个包含一组特定图片的全屏图库。画廊喊可以通过在屏幕上移动手指来切换到下一张图片，并在图片下方有一个进度条，以查看画廊中有多少图片。

是否有可能有一个实现画廊的 java 类，当我按下按钮时，我传递了特定的图片集。所以我可以将所有图片存储在一个数组中。

画廊不应该有缩略图图片，只有主图片

例子：

```
Tab1 | Tab2 

Button1

Button2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:48:24.227

看看这个项目。 [此图库中的https://github.com/Dreddik/AndroidTouchGallery](https://github.com/Dreddik/AndroidTouchGallery) 是从一些 url 加载的，图库中的图像是完整的图像，图像之间的滑动使用手指触摸。您也可以缩放图片。您将在其中拥有库和示例项目。试试这个。希望这会帮助你。

# c++ - How can I quicksort a two dimension array by a specific cell?

> ID：14254004
> 
> 赞同：4
> 
> 时间：2013-01-10T08:56:36.513
> 
> 标签：c++, multidimensional-array, quicksort, qsort

I have got a 2d array and I would like to quicksort it with the given qsort() function in C++:

```
unsigned work[N][3]; 
```

I would like to sort the "work" array by the third index... so if `work[i]` goes before `work[j]` if `work[i][2]>work[j][2]`.

I know I would need to use a function to compare it, but I have no inkling how to do that.

**edit:** If I would do the following, would that help:

```
unsigned work[3][N];
qsort(work[2], N, sizeof(unsigned), compare); 
```

And compare would be the following:

```
int compare(const void* a, const void* b)
{
    return(*(unsigned*)a-*(unsigned*)b);
} 
```

?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:23:28.467

Well, the short answer would be to not use [`std::qsort`](http://en.cppreference.com/w/cpp/algorithm/qsort) at all, but [`std::sort`](http://en.cppreference.com/w/cpp/algorithm/sort). But unfortunately the latter won't work, since `unsigned int[3]` is not assignable. So here's the easiest `std::qsort` solution.

First we define a custom comparator function:

```
// return -1 if a before b, 1 if after, 0 if equal
int compare(const void *a, const void *b)
{
    const unsigned int *arg1 = reinterpret_cast<const unsigned int*>(a);
    const unsigned int *arg2 = reinterpret_cast<const unsigned int*>(b);
    if(arg1[2] > arg2[2])
        return -1;
    if(arg1[2] < arg2[2])
        return 1;
    return 0;
} 
```

Which we then use to sort the array. Keep in mind that `work` is an array of arrays, and thus `work[0]` is an array of 3 `unsigned int`s, there's no pointer indirection involved in any way. So it's perfectly suited for being sorted by `std::qsort`:

```
std::qsort(work, sizeof(work)/sizeof(work[0]), sizeof(work[0]), compare); 
```

By the way, the third element is indexed with `2`, since we usually start to count at `0` in C++ (and many other programming languages).

**EDIT:** Though, the best solution would indeed be to drop this array of arrays and use something more suited to C++, like a `std::vector` of `std::array<unsigned int,3>`s (or any other datastructure that fits a bit more to the actual context):

```
typedef std::array<unsigned int,3> uint3;
std::vector<uint3> work(N); 
```

Which can then be sorted with a simple:

```
std::sort(std::begin(work), std::end(work), 
          [](const uint3 &a, const uint3 &b) { return a[2] > b[2]; }); 
```

Or, if you don't have C++11 (though in this case you won't have `std::array` either and need to start thinking about a resonable datastructure apart from a mere 3-array):

```
struct compare
{
    bool operator()(const uint3 &a, const uint3 &b) const
    {
        return a[2] > b[2];
    }
};

std::sort(work.begin(), work.end(), compare()); 
```

As a bonus to much clearer code, you also most probably get a slight performance boost of `std::sort` over `std::qsort`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:44:02.923

Yes, you can `qsort()` this. `qsort()` works by taking a required *linear* block of "stuff", partitioning it into uniform sized chunks where *you* specify the size (in bytes), and feeding you the base address of each block partition for comparison.

First, determine the size you need. It should be obvious the "things" you're sorting are array *rows* three elements wide. Second, write a comparator that can accept the base address of two such things as pointers, in our case, a simple pointer will work, as it nicely peels off the outer array dimension. Finally, the actually comparison will be three elements deep (`p[2]` to be precise) off each pointer `p` we're given:

So lets flesh the code:

```
#include <stdlib.h>
#include <stdio.h>
#include <memory.h>
#include <time.h>

static const size_t ROWSIZE = 3;

static void print_array(int rows, int ar[rows][ROWSIZE])
{
    int i,j;
    for (i=0;i<rows;++i)
    {
        for (j=0; j<ROWSIZE; printf("%d ", ar[i][j++]));
        printf("\n");
    }
    printf("\n");
}

// compare function
static int compare_row(const void* left, const void* right)
{
    const int *ileft = left, *iright = right;
    return ileft[ROWSIZE-1] - iright[ROWSIZE-1];
}

int main()
{
    int ar[10][ROWSIZE] = {0}, i;

    // fill with random junk from 10 to 99
    srand((unsigned)time(0));

    for (i=0;i<ROWSIZE * sizeof(ar)/sizeof(ar[0]); ++i)
        ar[i/ROWSIZE][i%ROWSIZE] = 10 + (rand() % 90);

    // print prior to sort.
    print_array(sizeof(ar)/sizeof(ar[0]), ar);

    // send to qsort
    qsort(ar, sizeof(ar)/sizeof(ar[0]), sizeof(ar[0]), compare_row);

    // print again after sort.
    print_array(sizeof(ar)/sizeof(ar[0]), ar);

    return EXIT_SUCCESS;
} 
```

**Sample Output**

```
50 14 23 
69 81 93 
30 72 18 
26 49 29 
51 87 58 
18 74 40 
26 61 26 
43 80 27 
27 61 34 
13 66 89 

30 72 18 
50 14 23 
26 61 26 
43 80 27 
26 49 29 
27 61 34 
18 74 40 
51 87 58 
13 66 89 
69 81 93 
```

# visual-studio - 让 Visual Studio 2012 / 2013 向右而不是向左打开文件

> ID：14254005
> 
> 赞同：52
> 
> 时间：2013-01-10T08:56:37.413
> 
> 标签：visual-studio, visual-studio-2012, visual-studio-2013

是否可以让 Visual Studio 2012 将新文件打开到右侧而不是打开文件的最左侧？

* * *

## 回答 #1

> 赞同：91
> 
> 时间：2013-01-10T09:00:27.627

转到 `TOOLS`> `Options`> `+ Environment`> `Tabs and Windows`> `Tab Well`>`[x] Insert new tabs to the right of existing tabs`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-01-04T06:46:11.483

**警告：**在 Visual Studio 2012 中，如果您在 VS 扩展中安装了“Productivity Power Tools 2012”，则它具有**覆盖**标准设置以将新的 VS 文档选项卡放在右侧的功能。感谢@davesexton，我在这里发现了这一点......[如何让新的文档标签出现在右侧？](https://stackoverflow.com/questions/12399430/how-to-make-new-doc-tabs-appear-on-the-right-side#comment23151086_13312790)

要禁用 PPT 覆盖，请转到此处...

工具 > 选项 > 生产力工具 > 自定义文档井 > 常规 > 排序

取消选中这两个项目：

*   按项目
*   按字母顺序

可能还有更多，但这足以使它对我有用。

# linux - 通过 SSH 传递带有参数的脚本

> ID：14254011
> 
> 赞同：2
> 
> 时间：2013-01-10T08:56:58.810
> 
> 标签：linux, perl, bash, ssh

我试图通过带参数的 SSH 传递 Perl 脚本。我像这样工作得很好：

```
returnValue=$(ssh myuser$server 'perl -s' < /path/to/my/script) 
```

但是，如果我添加一些参数

```
returnValue=$(ssh myuser$server 'perl -s' < '/path/to/my/script -some argument') 
```

我收到错误“/path/to/my/script -some argument: no such file or directory”。

有谁知道如何做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:22:33.770

```
ssh myuser@server perl -s - -some -arguments </path/to/my/script 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-10T09:15:41.513

```
returnValue=$(/path/to/my/script -some argument | ssh myuser$server 'perl -s') 
```

# kendo-ui - 将单击编辑更改为在网格中双击

> ID：14254013
> 
> 赞同：3
> 
> 时间：2013-01-10T08:57:02.933
> 
> 标签：kendo-ui

我想将 kendo ui 网格上的单击编辑功能替换为双击。

我要保留的设置是：`selectable: "multiple, row", editable: true`

我发现一个解决方案是设置`editable: false`并添加一个`$('#grid').delegate('tbody>tr>td','dblclick', function (e){}`

不幸的是，这带来了其他问题，使我的整个编辑过程变得困难。例如，kendo 不能再轻松地跟踪更改，不会用那个红色箭头将字段标记为正在更改。

有没有办法将默认的剑道单击功能更改为双击？

所以请求的行为将是：

1.  单击选择行/单元格
2.  双击使单元格进入编辑模式。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T09:47:40.077

这不是*很好*，但可能会奏效：

```
var myGrid = $('#grid').data("kendoGrid");
myGrid.element.on('click', 'tbody>tr>td:not(.k-edit-cell)', function (e) {
    myGrid.closeCell();
});
myGrid.element.on("dblclick", "tbody>tr>td:not(.k-edit-cell)", "dblclick", function (e) {
    myGrid.editCell($(this));
}); 
```

第`on`一个单击退出单元格的编辑并且不更改其他绑定作为行选择，第二个进入单元格的编辑模式。

为什么我说*好看*？因为我宁愿选择上`unbind`一个`click`版本（仅）而不是关闭版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-08T21:00:54.450

我使用这段代码，它很丑但有效：

```
<script type="text/javascript">
    $(document).ready(function () {
        $(document).on("dblclick", "#MyGrid td[role='gridcell']", function (e) {   
        // do something
        });
    });
</script> 
```

# java - 这是对基于 Java 的 webbapp 的 404 和 50in 的滥用修复吗？

> ID：14254017
> 
> 赞同：2
> 
> 时间：2013-01-10T08:57:14.393
> 
> 标签：java, tomcat, http-status-code-404, web.xml, seo

由于疾病的持续副作用，我正在重新格式化我的网站。我负担不起编写手写教程所需的时间，因此我只用视频格式替换所有内容。我所有的内容都在 Tomcat 服务器上。我与我的网站有很多链接，并希望保留此流量。我目前采取的措施是使用发送 301 重定向的过滤器。我是否违反了任何标准，仅根据错误代码在 web.xml 中指定重定向到我的主页？例如：

```
...
<welcome-file-list>
        <welcome-file>Buhaugane-hyttefelt-hyttetomter-til-salgs-Filefjell-Mellom-Vestlandet-og-Aust-oslo-bergen.xhtml</welcome-file>
    </welcome-file-list>
    <error-page>
        <error-code>404</error-code>
        <location>/Buhaugane-hyttefelt-hyttetomter-til-salgs-Filefjell-Mellom-Vestlandet-og-Aust-oslo-bergen.xhtml</location>
    </error-page>
    <error-page>
        <error-code>505</error-code>
        <location>/Buhaugane-hyttefelt-hyttetomter-til-salgs-Filefjell-Mellom-Vestlandet-og-Aust-oslo-bergen.xhtml</location>
    </error-page>

... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:23:09.293

这样做完全没有问题。请参阅下面的文档（我知道它是 web 逻辑，但它适用于所有 java webapp）

[http://docs.oracle.com/cd/E13222_01/wls/docs81/webapp/web_xml.html#1017571](http://docs.oracle.com/cd/E13222_01/wls/docs81/webapp/web_xml.html#1017571)

请确保您的错误页面不会自行生成错误。

# ios - 如何在 cocos2d 中更改缩放中心？

> ID：14254021
> 
> 赞同：0
> 
> 时间：2013-01-10T08:57:22.233
> 
> 标签：ios, cocos2d-iphone, uigesturerecognizer

我想缩放到触摸位置，但这段代码总是缩放到屏幕中心。

```
-(id)init{
 UITapGestureRecognizer *doubleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action: @selector(handleDoubleTapFrom:)];
    doubleTap.numberOfTapsRequired = 2;
    doubleTap.numberOfTouchesRequired = 1;
    [[[CCDirector sharedDirector] view] addGestureRecognizer:doubleTap];
}

- (void)handleDoubleTapFrom:(UITapGestureRecognizer *)recognizer {

    //CGPoint touchLocation = [recognizer locationInView:[[CCDirector sharedDirector]view] ];
    if(!isGameFinished){
        if(zoomPerformed == NO ) {
            id zoomIn = [CCScaleTo actionWithDuration:1.0f scale:2];
            id sequence = [CCSequence actions:zoomIn, nil];
            [self runAction:sequence];
            zoomPerformed = YES;
        }else{
            id zoomOut = [CCScaleTo actionWithDuration:1.0f scale:1.0f];
            id sequence = [CCSequence actions:zoomOut, nil];
            [self runAction:sequence];
            zoomPerformed = NO;
        }
    }
} 
```

如何更改缩放原点？我搜索了，但没有一个方法奏效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:20:35.240

您需要移动正在缩放（缩放）的图层，以便与触摸位置对应的点位于屏幕的中心。

```
CGSize winSize = [[CCDirector sharedDirector] winSize];
CGPoint center = ccpMult(ccpFromSize(winSize), 0.5);
[self runAction:[CCMoveTo actionWithDuration:1.0f position:ccpSub(center, touchLocation)]]; 
```

缩小时，您还需要重置图层的位置。

# php - 如果任何单词的开头和结尾字符都为？，那么两者都是？应该在 PHP 中删除

> ID：14254026
> 
> 赞同：3
> 
> 时间：2013-01-10T08:57:39.860
> 
> 标签：php, regex

我想在我的 PHP 代码中删除我的段落中的几个问号。

例如：

```
$str = " Hi ?How? are you? Hope you are good. "; 
```

输出应该是：

```
$str = " Hi How are you? Hope you are good. "; 
```

所以段落中的单词有开始和结束字符“？” （问号），则应删除两个问号。请建议。请提出实现这一目标的最佳方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:03:00.147

试试这个：

```
$str = " Hi ?How? are you? Hope you are good. ";

$newstr = preg_replace('/\?([a-z0-9]{1,}?)\?/si','$1',$str);
echo $newstr; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:03:12.407

尝试以下操作：

```
$str = preg_replace('/\\?(\\w+)\\?','$1',$str); 
```

这将匹配由 . 包围的任何“单词” `?`。匹配“`\w`任何单词字符（字母、数字、下划线）”。意思是“`+`一个或多个”。如果您还想匹配`??`和删除它们，可以将其替换为`*`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:03:30.020

```
$string = " Hi ?How? are you? Hope you are good. ";
$pattern = "/\?(\w+)\?/";
$replacement = '${1}';
echo preg_replace($pattern, $replacement, $string); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:04:53.827

```
$str = " Hi ?How? are you? Hope you are good. ";
echo preg_replace("/\?(\w+)\?/", "$1", $str); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T09:05:12.770

最简单的正则表达式将是`\?([^\?\s]+)\?`您的单词在第一组中的位置。你可能不得不像 php 需要它一样逃避它。

# php - 为什么 Wordpress 在滑入和滑出时会注释掉我的 .entry-content？

> ID：14254028
> 
> 赞同：0
> 
> 时间：2013-01-10T08:57:42.320
> 
> 标签：php, javascript, wordpress

当点击帖子的标题时，我试图让我的 Wordpress 帖子的内容滑入视图。

我正在使用的代码如下：

```
<script type="text/javascript">
 jQuery(document).ready(function() {
 jQuery(".entry-content").hide();
 //toggle the componenet with class msg_body
 jQuery(".entry-title").click(function()
 {
  jQuery(this).next(".entry-content").slideToggle(500);
});
});
</script> 
```

看起来很简单，但是在突然实现它之后，我的 .entry-content 类被注释掉了。

有人见过这个吗？

让我知道是否需要更多细节来解释！提前致谢！

# iphone - 我应该针对我的下一个 iPhone 应用程序使用哪个 iOS 版本（考虑到 facebook 集成）

> ID：14254031
> 
> 赞同：1
> 
> 时间：2013-01-10T08:57:46.830
> 
> 标签：iphone, ios, facebook, ios5, ios6

问这个问题的原因是我想提供的 facebook 支持。由于 iOS 6 和 5 之间存在重大差异，我很困惑。

1 - 如果我只支持 5，我将失去大量用户群，对吗？有没有人对有多少人使用哪个操作系统有任何国家分析？

2 - 如果我只支持 6，我需要什么测试？就 Facebook 而言，我需要 iOS 6 设备或模拟器吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:22:13.480

我认为你应该为 ios 6.0 使用最新的 Facebook api，并为你的用户设置为 ios 6.0。我认为苹果总是坚持他们的用户更新他们的操作系统，并且不允许降级操作系统。所以如果你调查用户然后还找到最大用户使用最新的操作系统。我认为你应该选择 ios 6.0。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:33:40.743

您检查手机的版本并根据版本在 if-else 语句中编写代码。通过这种方式，您将同时支持 iOS 5 和 6。就测试而言，您将需要一个模拟器或设备来检查您的应用程序。[这是一个链接，您将通过该链接检测设备操作系统版本](https://stackoverflow.com/questions/7848766/how-can-we-programmatically-detect-which-ios-version-is-device-running-on)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:33:48.557

1.  我不知道任何发布国家/地区统计数据的页面，但例如[在这里](http://david-smith.org/iosversionstats/)您可以找到一位开发人员的统计数据，它们与我可以访问的统计数据相似（抱歉，但我无法发布） - 无论如何你会失去当您仅支持 iOS6 时，大约 20%-25% 的观众。

2.  在发布之前，您应该始终在设备上进行测试 - 大多数应用程序在模拟器上的行为相同，但并非总是如此。IMO 甚至应该在更多设备上进行测试（如 iPhone3GS、iPhone4、iPhone5 等），但当然这并不总是可能的。

# drupal - Drupal 在 amazon s3 上写入但未读取

> ID：14254039
> 
> 赞同：0
> 
> 时间：2013-01-10T08:58:23.267
> 
> 标签：drupal, amazon-web-services, amazon-s3

我的基于 Drupal 的站点在 Amazon Web 服务上运行。上传的文件存储在 S3 存储桶中。当用户上传图片时，我可以看到它保存在 S3 存储桶中。但是当它被调用时，我在页面上看不到它。这里可能是什么问题？

亲切的问候...

# nsis - 程序和功能中的 NSIS MUI 图标

> ID：14254043
> 
> 赞同：2
> 
> 时间：2013-01-10T08:58:33.260
> 
> 标签：nsis

我想在 Windows 程序和功能中显示我的自定义图标。我通过 NSIS 创建了一个安装程序脚本 *下面是我的 MUI 用户界面设置*

```
; MUI Settings
!define MUI_ABORTWARNING
!define MUI_ICON ".\Include\Images\Icons\icon.ico"
!define MUI_UNICON ".\Include\Images\Icons\icon.ico"
!define MUI_HEADERIMAGE
!define MUI_HEADERIMAGE_BITMAP ".\Include\Images\Header\header.bmp"
!define MUI_HEADERIMAGE_UNBITMAP ".\Include\Images\Header\header.bmp" 
!define MUI_HEADERIMAGE_RIGHT
!define MUI_WELCOMEFINISHPAGE_BITMAP ".\Include\Images\Wizard\welcome.bmp"
!define MUI_UNWELCOMEFINISHPAGE_BITMAP ".\Include\Images\Wizard\welcome.bmp" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:16:30.233

该图标必须注册为卸载值的一部分，您需要添加一个指向您的 .exe 或 .ico的[DisplayIcon](http://nsis.sourceforge.net/Add_uninstall_information_to_Add/Remove_Programs)`$InstDir`字符串值。

# python - 理解这个正则表达式

> ID：14254044
> 
> 赞同：-1
> 
> 时间：2013-01-10T08:58:45.450
> 
> 标签：python, regex

我有一个从 Internet 获得的正则表达式来匹配`<a>`标签中的 URL 链接。它如下所示：

```
variable = re.compile('<a\s(?:.*?\s)*?href=[\'"](.*?)[\'"].*?>') 
```

有人能解释一下这个模式将如何与`<a>`标签的内容匹配吗？

我对 Unix 中的正则表达式有基本的了解，但这对我来说看起来太复杂了，感谢任何人向我解释这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:02:58.000

`'<a\s(?:.*?\s)*?href=[\'"](.*?)[\'"].*?>'`

让我们分解一下。

*   `<a`就是这样，一个标签的开始。
*   `\s`表示空格。
*   `(?:.*?\s)*?`表示一个非捕获组，尽可能重复或根本不重复，该组的内容是`.*?`：任何内容，然后是空格。
*   `href=`就是这样，标签的一部分。
*   `[\'"]`表示要么`'`或`"`
*   `(.*?)`是你的捕获组，它捕获任何东西。
*   `[\'"]`表示要么`'`或`"`
*   `.*?`任何东西，或者什么都没有
*   `>`就这样，标签的结尾。

这在英语中是什么意思？

`<a ANYTHING href=URL>`

ANYTHING 被忽略，并且 URL 被捕获。

小细节：

*   URL 被引号字符包围，`'`或者`"`（因此包含在正则表达式中）。
*   ANYTHING 是链接上可能存在的可能属性。
*   如果您了解基本的 HTML，那么您知道任何链接都在标签中`<a> ... </a>`或`<a ... >`
*   这`href=`是我们想要的属性——也就是链接地址。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:52:23.343

好吧，@Inbar rose 已经详细回答了您的问题，但是当您使用正则表达式获取链接时，可能会有一些链接出现问题。如果您可以通过使用正常的拆分函数来获取它们，请考虑考虑一般的 html 语法 -

```
a='<a href="http://www.google.com">'r
print a.split('href=')[1].split('"')[1]

>> http://www.google.com 
```

# android - 读取文件有问题

> ID：14254045
> 
> 赞同：0
> 
> 时间：2013-01-10T08:58:45.633
> 
> 标签：android

在我的应用程序中，我必须从设置页面设​​置一个密码并将其写入文件，之后当我进入主页时，如果文件为空，我必须读取该文件，我必须进入设置页面，

用于它的代码是......

```
 try {
              System.out.println("Enter try block!!!");
                FileInputStream fis = openFileInput(FILENAME1);
                InputStreamReader in = new InputStreamReader(fis);
                BufferedReader br = new BufferedReader(in);
                data = br.readLine();
                System.out.println("data from settings file"+data);
                System.out.println("-------1Data Read From File is:1" + data);
               if(data.equals(null))
                {
                    Toast.makeText(getApplicationContext(), "You have to set a password", Toast.LENGTH_SHORT).show();
                    Intent in1 = new Intent();
                    in1.setClass(getApplicationContext(), SetteingsPage.class);
                    startActivity(in1);
                }
            } catch (Exception e) { 

            } 
```

如果密码已经设置，那么代码工作正常..但如果它是空的，它没有进入设置类......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:04:30.027

我在这里看到两个选项。首先，如果该文件不存在，您将无法通过`openFileInput`，因为它会引发异常。其次，您可能会得到一个不为空的空行。您应该尝试执行以下操作：

```
if(data==null || data.equals("")) ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:01:36.380

尝试更改您的 if 条件，例如，

```
if(data == null || data.equals("") || data.equals("null")) 
```

此外，如果 File 不可用，则`openFileInput()`抛出`FileNotFoundException`

你必须添加类似的 catch 子句，

```
catch (FileNotFoundException e) { 

  Toast.makeText(getApplicationContext(), "You have to set a password", Toast.LENGTH_SHORT).show();
  Intent in1 = new Intent();
  in1.setClass(getApplicationContext(), SetteingsPage.class);
  startActivity(in1);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:06:36.420

我敢肯定`FileNotFoundException`，当您尝试读取文件时，如果文件不存在，您会得到一个。

尝试此代码以查看文件是否存在。

`File file = getContext().getFileStreamPath(FILENAME1);`

`if(file.exists()) { ... }`

# ios - 重新加载数据源后如何以编程方式设置保留在 UITableViewCell 中的属性

> ID：14254046
> 
> 赞同：0
> 
> 时间：2013-01-10T08:58:51.560
> 
> 标签：ios, objective-c, animation, uitableview

我有`UITableView`以下布局

```
TableView
 -> CustomCell
 --> CustomLabel 
```

我的自定义标签有一些绘图代码，如果属性`@property (nonatomic) bool animated;`是`YES`，它将绘制动画内容，如果是`NO`，将绘制它的内容而不动画。

默认情况下`bool animated`是`NO`.

因此，当表格视图最初加载它的数据并重新绘制单元格时，内容是在没有动画的情况下绘制的。

现在，这就是我变得松懈的地方。

我追求的效果是，当用户单击单元格时，单元格的数据会更新并且内容会以动画方式重绘。

我这样触发，

```
[sender setTitle:newValue forState:UIControlStateNormal];
cell.noteTitle.animated = YES;
[self.tableView beginUpdates];
[self.tableView reloadRowsAtIndexPaths:[NSArray arrayWithObjects:pathOfTheCell, nil] withRowAnimation:UITableViewRowAnimationNone];
[self.tableView endUpdates]; 
```

问题是，当我设置时，

```
cell.noteTitle.animated = YES; 
```

当我打电话时

```
cell.noteTitle.animated = YES; 
```

它似乎创建了一个新实例`CustomCell`，正如我上面所描述的，有`animated = NO`.

所以我的问题是，我如何调用我的自定义单元格，以便它不会在表格加载单元格时设置动画，但在用户更改单元格值时会设置动画。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:31:31.593

this code is not enough to analyze the problem.

as per what I get you can try this

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    // Do your work "[sender setTitle:newValue forState:UIControlStateNormal];" 
    [self.tableView reloadRowsAtIndexPaths:[NSArray arrayWithObjects:pathOfTheCell, nil] withRowAnimation:UITableViewRowAnimationNone];
} 
```

**Note : need more code for correct answer**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:50:06.237

当我重写这个问题时，我偶然发现了答案。

在`didSelectRowAtIndexPath`我存储当前选择的路径，然后在

`cellForRowAtIndexPath`检查当前单元格是否在选定的单元格中绘制，然后相应地设置动画属性

```
if ([indexPath isEqual:self.currentSelectedIndexPath]){
    cell.noteTitle.animated = YES;
}else{
     cell.noteTitle.animated = NO;
} 
```

感谢各位的帮助，我意识到我应该在原始问题中包含更多代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:42:27.490

您可以从单元格中获取单元格以获取行索引，然后尝试对该单元格进行操作。

```
CustomCell * cell = [self.tableView cellForRowIndex:index]; //this will reference that cell
cell.noteTitle.animated = yes;
[self.tableView reloadData];
cell = nil; 
```

# java - Spring Framework - GET 和 POST 的区别

> ID：14254049
> 
> 赞同：1
> 
> 时间：2013-01-10T08:58:58.273
> 
> 标签：java, spring, spring-mvc

我正在使用 Spring Framework 在 JSP 上开发网页，如果页面使用 POST 操作发送，我通常知道 GET 和 POST 之间的区别；在浏览器区域，发送的信息似乎没有，而在 GET 中则正好相反。

在spring框架中，我通过控制器发送和获取信息，就在编写控制器之前，我使用请求映射；

```
@RequestMapping(value = "/pri/SuperUser/ResetPassword.qib",method = RequestMethod.GET)
@Override
public ModelandView function(Model model){
...
... 
```

那么，在这种情况下使用 GET 和 POST 有什么区别。除了在浏览器字段中查看发送的信息之外，应该还有其他不同的东西。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-10T09:18:00.417

听起来您还没有完全理解 GET/POST。

试着把它想象成一个 web 应用程序：

**GET** 应使用 GET 方法从服务器检索数据。对同一 URL 的多个 get 请求应该是有效的，并且不应在服务器端更改任何数据。

然而，这并不意味着不可能让 GET 请求改变服务器端的东西，但您应该尝试确保您遵循标准。

**POST** 当您需要在服务器端创建、更新或删除数据时，应该使用 POST 方法。多次发出相同的 POST 请求可能不安全，并可能导致数据不一致。POST 请求的内容在请求正文中发送。因此，您在浏览器中看不到参数，但如果您愿意（即使使用浏览器开发人员工具）很容易看到它们，因此它并不比 GET 请求更安全。

注意：这是它们在 WEB 上的一般使用方式，它不是实际规范，因为还有其他方法可用。如果您正在创建 REST 服务，您将需要探索其他方法

（简而言之 - POST - 用于创建数据，PUT - 用于更新数据和 DELETE 用于删除数据）

可能值得阅读实际规范以获得完整的理解：[http ://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html)

如果您确实想保护您的 HTTP 请求，那么这可以通过 HTTPS 使用 SSL 加密来完成（一个单独的主题）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:07:32.583

GET - 安全、幂等和可缓存

POST - 没有这些特征

查看：[Google 开发者链接](https://www.youtube.com/watch?v=YCcAE2SCQ6k)（视频）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:03:43.983

该方法将只接受使用 GET 的方法。您不能 POST 到此 URL。

您将获得标准差异，例如您发送此端点的数据将在 ?var=value 之后显示在浏览器 URL 中

因此，您可以执行获取请求以...`yoururl.com/pri/SuperUser/ResetPassword.qib`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T09:06:42.273

如果您的数据是机密的，最好使用**POST**方法，因为它不会反映在 url 上，这与**GET**不同。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T09:03:26.093

与一般情况相同。`RequestMapping`进程要么 GET 要么 POST 发送数据。

例如，如果您在浏览器中键入“DOMAIN/pri/SuperUser/ResetPassword.qib”并打开 URL，它就是 GET。

如果您从 HTML 页面使用 POST 方法提交表单，则它是 POST

# openerp - openerp 7 的 Jasper 报告模块

> ID：14254050
> 
> 赞同：2
> 
> 时间：2013-01-10T08:59:07.553
> 
> 标签：openerp

我能够使用 jasper 报告模块在 openerp6.1 中进行报告。它工作正常。但现在我想在 openerp7 中执行此操作。我找不到任何功能齐全的 jasper 报告模块。[http://pragtech.co.in/7.0/jasper_reports.zip](http://pragtech.co.in/7.0/jasper_reports.zip) - 从这个站点我下载了模块。由于安装它会出错。有人可以帮助我吗？？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-07T09:27:40.053

最近，当我尝试为 OpenERP v6.1（实际上也是 v7.0）设置 Pentaho 报告时，我也陷入了困境。然后我找到了这个链接..

[http://www.schenkels.nl/2013/04/creating-a-pentaho-reporting-server-ubuntu-12-04-openerp/](http://www.schenkels.nl/2013/04/creating-a-pentaho-reporting-server-ubuntu-12-04-openerp/)

此链接中描述的每个步骤都运行良好，但这部分：

> `<tomcat-users> </tomcat-users>`在您打开的文件之间添加基础 xml

当我尝试从 Pentaho 报表设计器中预览报表时，它运行良好。但是当我尝试在我的 OpenERP 中单击打印按钮时，我总是得到一个错误“连接被拒绝”。然后我将密码更改为`admin`，现在它运行良好（但不确定这也适用于你）。所以 xml 语法将如下所示：

```
<role rolename="admin-gui"/>
<role rolename="manager-gui"/>
<role rolename="manager-script"/>
<role rolename="manager-jmx"/>
<role rolename="manager-status"/>
<user username="admin" password="admin" roles="admin-gui,manager-gui,manager-script,manager-jmx,manager-status"/> 
```

...如果您也遇到该错误。之后，一切顺利。

祝你好运！！

# android - Android4.0.4联系人安装失败

> ID：14254051
> 
> 赞同：1
> 
> 时间：2013-01-10T08:59:09.063
> 
> 标签：android, contacts

我的手机已经root了。修改联系人后，打包并签名。提示安装失败，手机上没有分享用户或签名不匹配此应用。

我修改、打包和签名其他应用程序。它可以安装。

为什么联系人有错误？

# python - OpenERP 6.1 web 客户端 - 设置默认值（配置参数）

> ID：14254053
> 
> 赞同：0
> 
> 时间：2013-01-10T08:59:15.803
> 
> 标签：python, openerp, erp

我需要为*res.user*设置默认的**Home Action**。目前是**主页**，但我想设置我的自定义操作。因此，我尝试为*Settings --> Configuration --> Configuration Parameters*创建新记录，但是当我在字段**Field中设置****Home Action**字段并在字段**Type**中设置类型**Many2One**时，字段**Value**仍然是空列表。我无法为新用户选择自定义操作！如果我做错了什么，请纠正我。这是错误还是正常行为？欢迎任何其他解决方案。

 ********干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T11:44:03.980

只是一个附加说明：您还可以将此用户定义的默认值与产品模型中的 tax_id 字段等 many2many 字段一起应用。

但是有一个小错误，如果您在创建新记录时为 many2many 字段设置默认值，many2many 字段显示为空，当您保存记录时，您会看到它已使用默认值很好地记录，所以如果您想要要使记录与默认记录不同，您必须先保存而不是再次编辑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:49:08.290

我找到了另一个解决方案。当我单击右侧栏中的为**res.users****创建按钮时，在****自定义**操作**设置默认**部分中出现。**在这里您可以选择按下创建**按钮时出现的默认值。

 ******更新：

您可以在其中看到所有这些值

*设置 --> 自定义 --> 低级对象 --> 操作 --> 用户定义的默认值*

当然，在这里您可以创建新的默认值。**************

# rest - 如何将 Restful Web 服务与 Struts 2 集成

> ID：14254056
> 
> 赞同：5
> 
> 时间：2013-01-10T08:59:21.250
> 
> 标签：rest, struts2, jax-rs

您如何集成或创建 REST Web 应用程序？？。我看到了这个插件[struts-restplugin](http://struts.apache.org/2.x/docs/rest-plugin.html)，但文档没有提供任何运行示例。任何人都可以提供一些相同的示例或参考教程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:10:22.413

您可以使用 Struts Restplugin[链接](http://struts.apache.org/2.x/docs/rest-plugin.html)

[这里](http://www.zulutown.com/blog/2009/01/28/rest-web-application-with-struts21-rest-and-convention-plugins/)有帮助的教程

# seo - 隐藏特定文件夹及其子文件夹和文件？

> ID：14254057
> 
> 赞同：0
> 
> 时间：2013-01-10T08:59:21.787
> 
> 标签：seo, robots.txt

我想在搜索引擎中隐藏 public_html 中名为 ( beta ) 的文件夹以及它的所有子文件夹和文件，我是否必须将文件放在根文件夹 ( / ) 中并执行 robots.txt 的内容如下

```
User-agent: *
Disallow: /public_html/beta 
```

或者

将 robots.txt 放入 public_html 并执行如下内容

```
User-agent: *
Disallow: /beta 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T12:07:40.517

robots.txt 必须在根目录中。

www.yoursite.com/robots.txt

这就是你需要的：

用户代理： *

禁止：/文件夹/某事

某些东西是您要禁止的文件夹的名称

另外，请注意，您只想阻止名为 something 的子文件夹。如果您还有一个文件名为您不想禁止的文件，请执行以下操作：

用户代理： *

禁止：/文件夹/某事/

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T04:16:49.407

重要的是公共 URL，而不是服务器的实际物理文件夹。

因此，当您有一个站点时`example.com/cooking/index.html`，您的 robots.txt 需要位于`example.com/robots.txt`。因为`sports.example.com/football/blog`它会`sports.example.com/robots.txt`。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-18T08:59:17.060

最好的解决方案是从测试版中隐藏所有子文件夹和文件。您可以按如下方式定义 robots.txt：

用户代理： *

禁止：/beta*/

现在，所有搜索引擎都不会抓取所有子目录和文件，然后是 beta。

# c - 在 C 中为 connect() 函数 tcp 套接字编程设置超时会中断 recv()

> ID：14254061
> 
> 赞同：8
> 
> 时间：2013-01-10T08:59:35.897
> 
> 标签：c, tcp

在我的程序中，如果无法访问服务器，则连接功能需要太多时间。所以我尝试使用 select() 给时间连接。现在的问题是，当我尝试使用 recvfrom() 从服务器接收数据时，出现错误“EAGAIN”。这是用于连接和接收来自服务器的数据的代码。

```
int sock;
struct sockaddr_in addr;
int connectWithServer
{

    int status;

    struct timeval  timeout;
    timeout.tv_sec = 10;
    timeout.tv_usec = 0;

    addr.sin_port = htons(port);
    sock = socket (AF_INET,SOCK_STREAM,0);
    inet_pton(AF_INET,serverIP,&addr.sin_addr);

    fd_set set;
    FD_ZERO(&set);
    FD_SET(sock, &set);

    fcntl(sock, F_SETFL, O_NONBLOCK);

    if ( (status = connect(sock, (struct sockaddr*)&addr, sizeof(addr))) == -1)
    {
        if ( errno != EINPROGRESS )
            return status;

    }
    status = select(sock+1, NULL, &set, NULL, &timeout);

    return status;
}

long int receiveResponse (void *response , unsigned int length)
{
    socklen_t sockLen = sizeof(struct sockaddr);
    long int received = recvfrom(sock, response, length, 0,(struct sockaddr *)&addr,  &sockLen);
    printf("Received %ld bytes...  err %d\n",received, errno);

    return received;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T22:21:13.193

> 在 C 中为 connect() 函数 tcp 套接字编程设置超时不起作用

更正。设置连接超时*有效*。'不工作'的是后续`recvfrom()`，那是因为你让套接字处于非阻塞模式并且你不知道如何处理结果`EAGAIN.`所以，要么处理它，通过使用`select()`告诉你套接字何时是准备好读取，否则在完成连接后将套接字恢复为阻塞模式。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-08-19T05:45:45.513

在调用 recv() 之前，应该再次将套接字设置为阻塞模式。

```
fcntl(sockfd, F_SETFL, fcntl(sockfd, F_GETFL, 0) & ~O_NONBLOCK); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-10T10:11:31.887

第一次成功选择表示连接操作完成，但*不一定表示成功*，从[连接](http://linux.die.net/man/2/connect)手册页，您应该检查`SO_ERROR`以确保它成功完成

> 可以通过选择要写入的套接字来选择（2）或轮询（2）来完成。 **在 select(2) 指示可写后，使用 getsockopt(2) 读取 SOL_SOCKET 级别的 SO_ERROR 选项，以确定 connect() 是成功完成**（SO_ERROR 为零）还是未成功完成（SO_ERROR 是此处列出的常见错误代码之一，解释了失败的原因）。

因此，在您的代码中，您应该执行以下操作：

```
int ret;
ret=select(sockfd+1, NULL, &wfds, NULL, NULL); //should use timeout
if(ret==1 && getSocketOpt(sockfd, SO_ERROR) ==0) {
    return 0; //successfully connected
} 
```

然后，如另一个答案中所述，您应该在从套接字写入或读取之前再次调用 select 。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-01-10T09:18:08.800

您收到`EAGAIN`是因为没有数据可以从套接字缓冲区读取，并且您的套接字设置为`nonblocking`. 由于您与同行没有联系，因此我对此并不感到惊讶。

看看这个`man recvfrom`：

> 如果套接字上没有可用的消息，则接收调用等待消息到达，除非套接字是非阻塞的（参见 fcntl(2)），在这种情况下返回值 -1 并将外部变量 errno 设置为 EAGAIN。接收调用通常会返回任何可用的数据，直到请求的数量，而不是等待接收请求的全部数量。

另一种情况可能如下：

*   *您的套接字可能已连接，但您检查是否收到东西太快了。*为避免这种情况，请在 recvfrom 之前放置另一个选择，以便仅在您确定收到某些内容时从套接字缓冲区（调用`readfrom`或只是）中提取数据包。`read`

# jquery - 无法创建 Ajax 延迟数据表

> ID：14254063
> 
> 赞同：1
> 
> 时间：2013-01-10T08:59:41.887
> 
> 标签：jquery, ajax, jquery-datatables, deferred-rendering

我想制作延迟初始化数据表，以便在单击页码时加载数据。

我这样做是为了根据请求加载数据，但是表格在开始时呈现空表格，当单击任何其他数字时，所有页码都会出现 10 多条记录，并且这个标题也会出现“从 NaN 显示 41 到 Nan (从 NaN 总条目中过滤）”点击页码，当然数字 41 会根据点击的页码而变化。

```
 $.ajax({
         type:'POST',
        //get total record within db
        url: url+'getTotalInst',
        success: function(total){

            var oTable = $('#institutionsTable').dataTable( {
                "bJQueryUI": true,
                "sPaginationType": "full_numbers",
                "bProcessing": true,
                "bAutoWidth": false,

                "sAjaxSource": "control_panel/Institution_controller/getAllInstituions",

                "aoColumns": [
                    {
                        "mData": "institution_name"
                    },
                    {
                        "mData": "institution_type"
                    },
                    {
                        "mData": "address"
                    } ,
                    { 
                        "sTitle": "Tasks",
                        "sDefaultContent":"",      // must be used to prevent "Requested unknown parameter" error                          
                        "fnRender": function(obj) {
                            var inst_id = obj.aData.inst_id;

                            var returnButton = '<span class="button-group">'+
                                '<a href=<?php echo base_url() ?>index.php/updateInst/'+inst_id+' class="optionButton icon edit">edit</a>'+
                                '<a href="#" class="optionButton icon remove danger">delete</a>'+
                                '</span>';
                            return returnButton;
                        }
                    }],
                "fnRowCallback": function( nRow, aData, iDisplayIndex ) {

                    $(nRow).attr("id",aData.inst_id);
                    return nRow;
                },

                //for defer rendering! but not work well
                "bDeferRender": true,
                "bServerSide": true,
                "iDeferLoading": total,
                "iDisplayLength" : 10

            } );

        }
    }); 
```

**编辑**

Json 回报是巨大的，但这里是它的样本

```
 {"aaData":[{inst_id:79, institution_type:مراكز صحية, institution_name:مستشفى الشهيد كمال   عدوان,…},…],"iTotalRecords":71,"iTotalDisplayRecords":10} 
```

# tfs - VS2012 Find Shelvsets，显示评论

> ID：14254065
> 
> 赞同：1
> 
> 时间：2013-01-10T08:59:49.283
> 
> 标签：tfs, visual-studio-2012, unshelve, shelveset

在 Visual Studio 2012 的 Find Shelvsets 窗口中，如何自定义结果列表？

显示了搁置集的名称和日期，但我希望看到 VS2010 中的评论和完整时间戳。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T16:21:27.020

您可以从 Visual Studio 命令行运行以下命令 `tf shelvesets /owner:*` ，它将显示更多可能是您正在寻找的信息。

另外，来自 MSDN： [暂停您的工作并管理您的货架集](http://msdn.microsoft.com/en-us/library/ms181403.aspx)

在“查找搁置集”页面中获得搁置集列表（在“查找搁置集”中说明）后，双击搁置集进行查看。出现搁置集详细信息页面。 ![搁置细节](../Images/74e52e908a34e7e84cbc298a02c2f205.png)

# cakephp - 根据主机名 CakePHP 设置默认插件

> ID：14254070
> 
> 赞同：2
> 
> 时间：2013-01-10T09:00:09.280
> 
> 标签：cakephp, plugins

首先，让我解释一下我的情况：我有两个域，两个网站，相同的布局，但不同的内容和不同的目的。我想做的事：

在这两个系统之间共享：

*   功能、布局模板和管理。

有什么不同吗：

*   视图中的页面，一些控制器。

我考虑的选项：

**选项1**

1.  使两个站点之一成为插件
2.  检查主机名：$_SERVER['HTTP_HOST']，并在核心或引导程序中指明是否应使用插件。

像这样的东西：

```
if ($_SERVER['HTTP_HOST'] == 'www.example1.com') {
    Configure::write('defaultplugin', 'example1');
} else {
    Configure::write('defaultplugin', null);
} 
```

这可能吗

**选项 2**

一个虚拟地址，但这也很难实现，因为我的路由是这样配置的：

```
Router::connect("/{$prefix}/:language/:plugin", $indexParams, $shortParams); 
```

也许我应该将这条路线更改为：

```
Router::connect("/{$prefix}/:plugin/:language", $indexParams, $shortParams); 
```

但是，如果我之前的建议可行，我愿意这样做，因为我不知道最后一个解决方案是否能在某些层面上正常工作。

**选项 3**

使用此处描述的方法：[http ://rickguyer.com/cakephp-one-core-many-apps/](http://rickguyer.com/cakephp-one-core-many-apps/)

所以我会创建 3 个应用程序文件夹：example1、example2、common。但我不知道是否可以让 app 文件夹包含 example1 和 common 或 example2 和 common 的内容。

**选项 4**

Stackoverflow 上有人提出了一个很棒的想法。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:41:58.293

我们根据域切换 routes.php 内容。这样我们就拥有了所有的灵活性，而不必做太多的配置/黑客/切换。

您只需切换/替换相关路线，其余的应该没问题。

例如：

```
if ($isDomainX) {
    Router::connect('/', array('plugin' => 'shop', 'controller' => 'shop', 'action' => 'index', 'slug' => $slug), array('pass' => array('slug')));
    ...
} else {
     Router::connect('/', array('controller' => 'custom_pages', 'action' => 'homepage'));
    ...
} 
```

您还可以包含/切换整个文件，如果这样更容易阅读/维护。

# ios - 为什么我的 setAlpha 动画停止按钮接收发件人？

> ID：14254072
> 
> 赞同：1
> 
> 时间：2013-01-10T09:00:13.873
> 
> 标签：ios, animation, uibutton, alpha

我想要一个闪烁的按钮，然后我像这样编码我像这样初始化按钮：

```
_btn = [[UIButton alloc] initWithFrame:CGRectMake(50, 50, 200, 200)];
[_btn addTarget:self action:@selector(test:) forControlEvents:UIControlEventTouchUpInside];
[_btn setBackgroundImage:[UIImage imageNamed:@"img2.jpg"] forState:UIControlStateNormal]; 
```

我像这样对动画进行编码：

```
[UIView animateWithDuration:1 delay:0 options:UIViewAnimationOptionRepeat|UIViewAnimationOptionAutoreverse animations:^{
    _btn.alpha = 0.2;
} completion:nil]; 
```

按钮模糊但无法选择，无法接收发件人。有谁知道为什么收不到发件人？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:04:28.450

试试这个

```
[UIView animateWithDuration:1 delay:0 options: UIViewAnimationOptionAllowUserInteraction | UIViewAnimationOptionRepeat|UIViewAnimationOptionAutoreverse animations:^{
    _btn.alpha = 0.2;
} completion:nil]; 
```

我已将其作为选项插入到上面的代码中

```
UIViewAnimationOptionAllowUserInteraction 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:13:17.353

我没有`t know why it can`收到发件人，可能是因为 alpha 一直在变化。但我有办法解决它。你可以创建一个背景按钮，它可以接收发件人，你可以这样编码：

```
 _btn = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];
    _btn.userInteractionEnabled = NO;
    [_btn setBackgroundImage:[UIImage imageNamed:@"img2.jpg"] forState:UIControlStateNormal];

    _btn1 = [[UIButton alloc] initWithFrame:CGRectMake(50, 50, 200, 200)];
    [_btn1 addTarget:self action:@selector(test:) forControlEvents:UIControlEventTouchUpInside];
    [_btn1 setBackgroundColor:[UIColor clearColor]];
    [_btn1 addSubView : _btn]; 
```

然后像你的代码一样设置动画

```
[UIView animateWithDuration:1 delay:0 options:UIViewAnimationOptionRepeat|UIViewAnimationOptionAutoreverse animations:^{
    _btn.alpha = 0.2;
} completion:nil]; 
```

button1 将接收发件人

# sharepoint-2010 - sharepoint 2010 - 如何在对话窗口上显示视频？

> ID：14254074
> 
> 赞同：0
> 
> 时间：2013-01-10T09:00:32.450
> 
> 标签：sharepoint-2010

我是sharepoint的新手。我的要求是在对话框窗口上显示视频。我尝试使用媒体 webpart，但没有在对话框中打开视频的选项。实现此功能的最佳选择是什么？请指教。

我正在为我的 Intranet 站点使用沙盒 Sharepoint 2010。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:26:47.233

You can use the content editor web part to achieve this.

First, are you able to open the dialog box? is that dialog box is you custom application page?

If yes, then Edit page and add one content editor web part to that page.

Select that content editor web part and you will see the Format Text Tab -> HTML

Clcik Edit HTML

Put you html code of IFrame to show the video in this.

If everything goes fine,.

You can see your video

Let me know the outcome.

Thanks

# android - Wiki 关于 android-zoom-view.jar

> ID：14254076
> 
> 赞同：5
> 
> 时间：2013-01-10T09:00:34.553
> 
> 标签：android, scrollview, zooming

是否有任何关于如何实现 android-zoom-view.jar 的 Wiki 或任何文档。我在[http://code.google.com/p/android-zoom-view/](http://code.google.com/p/android-zoom-view/)上找到了它，我想尝试在我的应用程序上使用它来实现对 android scrollview 的缩放，但这让我很难做到这一点，因为我找不到任何关于它的维基。

非常感谢任何意见或建议。

提前致谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-11T04:06:12.797

我想分享有关如何使用 android-zoom-view.jar 的代码。这就是我使用它的方式。

1.  为要应用缩放功能的视图创建一个新布局 (R.layout.zoomable_view)。
2.  将它放在 ZoomView 中。
3.  然后将 ZoomView 放置到要显示可缩放视图的主容器中。

    ```
    private ZoomView zoomView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_zoomable);

       View v = ((LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.zoomable_view, null, false);
       v.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));

       zoomView = new ZoomView(this);
       zoomView.addView(v);

       main_container = (LinearLayout) findViewById(R.id.main_container);
       main_container.addView(zoomView);            
    } 
    ```

我希望这对其他人有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T10:18:18.660

在查看项目时，您可以假设它没有（非常）使用。因此，寻找官方文档（源代码中没有使用[Javadoc](http://en.wikipedia.org/wiki/Javadoc) ...）或教程似乎毫无意义。

所以你必须自己做，所以查看项目[唯一的java源文件](http://code.google.com/p/android-zoom-view/source/browse/src/pl/polidea/view/ZoomView.java)，它看起来并不难使用：

*   请注意，该类扩展了`FrameLayout`该类，因此您可以假设它的行为类似于常规[FrameLayout](http://developer.android.com/reference/android/widget/FrameLayout.html)。所以查看[FrameLayout 相关教程](http://mobile.tutsplus.com/tutorials/android/android-sdk_frame-layout/)。
*   专注于`public`方法，因为它定义了 Zoomlayout 的“API”

# python - cx_freeze 无法导入 JSONDecoder

> ID：14254079
> 
> 赞同：0
> 
> 时间：2013-01-10T09:00:41.987
> 
> 标签：python, json, cx-freeze

以下 python 脚本运行良好：

```
#!/usr/bin/python
import simplejson

print str(simplejson.loads('{"a": "abc"}')) 
```

然后冷冻后：

```
cxfreeze test.py --target-dir dist

Traceback (most recent call last):
  File "/usr/lib/pymodules/python2.7/cx_Freeze/initscripts/Console.py", line 29, in <module>
    exec code in m.__dict__
  File "test.py", line 3, in <module>
    import simplejson as json
  File "/usr/lib/python2.7/dist-packages/simplejson/__init__.py", line 111, in <module>
    from decoder import JSONDecoder, JSONDecodeError
  File "/usr/lib/python2.7/dist-packages/simplejson/decoder.py", line 29, in <module>
    NaN, PosInf, NegInf = _floatconstants()
  File "/usr/lib/python2.7/dist-packages/simplejson/decoder.py", line 21, in _floatconstants
    _BYTES = '7FF80000000000007FF0000000000000'.decode('hex')
LookupError: unknown encoding: hex 
```

这无济于事：

```
cxfreeze test.py --target-dir dist --include-modules simplejson 
```

从 simplejson 切换到 json 也没有帮助。

冻结 simplejson 部分时似乎没有错误：

```
P simplejson                /usr/lib/python2.7/dist-packages/simplejson/__init__.py
m simplejson._speedups      /usr/lib/python2.7/dist-packages/simplejson/_speedups.so
m simplejson.decoder        /usr/lib/python2.7/dist-packages/simplejson/decoder.py
m simplejson.encoder        /usr/lib/python2.7/dist-packages/simplejson/encoder.py
m simplejson.ordered_dict   /usr/lib/python2.7/dist-packages/simplejson/ordered_dict.py
m simplejson.scanner        /usr/lib/python2.7/dist-packages/simplejson/scanner.py 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T17:26:36.340

（转发为答案）

您需要包含模块`encodings.hex_codec`。我已经打开[了一个问题](https://bitbucket.org/anthony_tuininga/cx_freeze/issue/17/hooks-python-2-json-simplejson-dynamically)来自动完成这项工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-07T06:02:35.207

添加：

*从编码导入 hex_codec*

并在使用 freeze.py 构建时添加*-m 编码。*它对我有用。

# hibernate - JPA 相当于 Hibernate 的 @NaturalId

> ID：14254083
> 
> 赞同：12
> 
> 时间：2013-01-10T09:00:54.100
> 
> 标签：hibernate, jpa, naturalid

`@NaturalId`在 Hibernate 中，我可以使用实体的多个属性创建唯一键。

是否有 JPA 等效注释，它是其中的一部分`javax.persistence`？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-06-14T08:58:27.073

我通常做的是在列上添加一个唯一约束，使用`@Table(uniqueConstraints = @UniqueConstraint(columnNames={column_1, ..., column_n}))`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T09:06:04.820

不，那里没有。您将不得不使用复合键，因此[EmbeddedId](http://docs.oracle.com/javaee/6/api/javax/persistence/EmbeddedId.html)或[IdClass](http://docs.oracle.com/javaee/5/api/javax/persistence/IdClass.html)取决于您的喜好。

# wpf - 基于网络响应的WPF图像动画

> ID：14254084
> 
> 赞同：-1
> 
> 时间：2013-01-10T09:00:57.163
> 
> 标签：wpf, xaml, .net-4.5

在我们的 WPF 应用程序中，我们有 IObservable，它是从我们的服务器中填充的。当我们转向新的 .NET 4.5 功能（异步、等待）时，首先我们只加载没有图像的 ReturnItems，在成功下载后我们也使用 Parallel.Foreach() 来加载关联的图像。

当每个项目的图像下载完成时，字节 [] 被分配给 ReturnItems CoverImage 属性，并且从我的 UI DataTemplate s Image 元素也绑定到此属性。

我想要实现的是动画这个图像加载过程，所以当图像完成加载时会有某种从无到有的淡入淡出动画。如果可能的话，我想使用故事板。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:19:41.753

我假设在你设置图像的来源之前它是`null`，即它不是一个空数组或类似的。如果是这样，请将此样式用于图像：

```
<Style x:Key="StyleImageFadeIn"
       TargetType="{x:Type Image}">
    <Setter Property="Opacity"
            Value="0" />
    <Style.Triggers>
        <!--Sets visibility to Collapsed if Source is null - this will cause IsVisible to be false-->
        <Trigger Property="Source"
                 Value="{x:Null}">
            <Setter Property="Visibility"
                    Value="Collapsed" />
        </Trigger>
        <!--Fades-in the image when it becomes visible-->
        <Trigger Property="IsVisible" Value="True">
            <Trigger.EnterActions>
                <BeginStoryboard>
                    <BeginStoryboard.Storyboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0:0:1"/>
                        </Storyboard>
                    </BeginStoryboard.Storyboard>
                </BeginStoryboard>
            </Trigger.EnterActions>
            <!--This (ExitActions) is only necessary if the image is "loosing" its source at run-time-->
            <Trigger.ExitActions>
                <BeginStoryboard>
                    <BeginStoryboard.Storyboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0:0:0" />
                        </Storyboard>
                    </BeginStoryboard.Storyboard>
                </BeginStoryboard>
            </Trigger.ExitActions>
        </Trigger>
    </Style.Triggers>
</Style> 
```

# javascript - 如何使用 javascript 验证德国电话号码？

> ID：14254090
> 
> 赞同：6
> 
> 时间：2013-01-10T09:01:22.007
> 
> 标签：javascript, validation

在应用程序中，我需要验证德国电话号码的表单字段，尝试了一些但不能完全正常工作，任何帮助将不胜感激..

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T09:17:25.520

这个问题的答案应该可以为您解决这个问题：[Validate phone number with JavaScript](https://stackoverflow.com/q/4338267/669645)

您只需要调整正则表达式以适应德语格式

来自[https://github.com/posabsolute/jQuery-Validation-Engine/issues/265](https://github.com/posabsolute/jQuery-Validation-Engine/issues/265)的正则表达式可能会完成这项工作： /^([+][0-9]{1,3}[ .-])?( [(]{1}[0-9]{1,6}[)])?([0-9 .-/]{3,20})((x|ext|extension)[ ]?[0- 9]{1,4})?$/

# php - 即时创建拇指与上传后

> ID：14254092
> 
> 赞同：3
> 
> 时间：2013-01-10T09:01:24.047
> 
> 标签：php, image, thumbnails

只是想知道什么更好：

**即时创建拇指：**

*   [+] 轻松创建多种拇指尺寸
*   [+] 易于维护
*   [-]~~通过 PHP 发送图像浪费 cpu~~

**用户上传后创建拇指：**

*   [+] 节省服务器 CPU
*   [-] 维护非常痛苦，新添加拇指大小也很痛苦
*   [-] 也许拇指永远不会显示。

有什么建议么？我真的应该担心CPU吗？假设我有数千张图片，每张图片都需要 5 种以上不同尺寸的拇指。未来可能还会有更多尺寸。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T09:06:01.753

> [-] 通过 PHP 发送图像浪费 cpu

您不必*在每个请求上一次又一次地生成相同的图像！*
在第一次请求时生成图像，然后将其放置在下次将由 Web 服务器提供服务的地方。一个简单的实现，使用`mod_rewrite`：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ generateImage.php?image=$1 [QSA,L] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:05:18.267

用户上传后：[-] 我不知道你的项目，但也许拇指永远不会显示。所以服务器不需要渲染拇指。

我即时生成拇指

# android - 日期和时间选择器对话框

> ID：14254093
> 
> 赞同：52
> 
> 时间：2013-01-10T09:01:30.930
> 
> 标签：android, datepicker, datetimepicker, timepicker

我想创建一个可以同时选择**时间**和**日期**的对话框。
我知道[在 Android 上没有可以做到这一点的默认小部件](https://stackoverflow.com/a/2056819/833219)。我也知道有[开源项目](http://code.google.com/p/datetimepicker/)关于如何做类似的工作人员。这个项目的问题是在对话框中我们有两个按钮：*datePicker*和*timePicker*。

![在此处输入图像描述](../Images/5b0b87571860a88cba8910c4b95a1d3f.png)

这不是我想要做的——我希望日期和时间选择器同时出现。
所以我认为两个主要问题将是：

1.  首先让时间和日期选择器出现在同一个对话框中。
2.  第二个问题是更改时间和日期选择器的外观（橙色）。

第一个问题由 Bhavesh 解决。这是我得到的：

![在此处输入图像描述](../Images/594aa643dbe55a7c07fac7eb5b96e597.png)

现在的问题是我想将所有*蓝色条颜色*更改为*橙​​色*。
我添加`android:calendarViewShown="false"`以删除右侧的日历 :) 谢谢 Bhavesh，我将主题更改为*HOLO*
这是我得到的：

## ![在此处输入图像描述](../Images/a5298d1ccf654f419d4d65de8706abc1.png)

您可以下载代码（这是我能做的最好的）。你可以从[这里](http://www.filefactory.com/file/6mf3bl0alkhf/n/DateTimePicker_zip)下载。

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2013-01-10T09:17:26.670

> 首先让时间和日期选择器出现在同一个对话框中

在这里，我可以帮助您：您可以创建一个由 a`DatePicker`和 a `TimePicker`in a组成的布局`LinearLayout`，并将方向设置为垂直。

**custom_dialog.xml：**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/linearLayout1"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

    <DatePicker
         android:id="@+id/datePicker1"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content" >
    </DatePicker>

    <TimePicker
        android:id="@+id/timePicker1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
    </TimePicker>

</LinearLayout> 
```

然后使用这个布局来创建你的对话框。

```
Dialog dialog = new Dialog(mContext);

dialog.setContentView(R.layout.custom_dialog);
dialog.setTitle("Custom Dialog"); 
```

要对与您交互的用户做出反应，请`TimePicker`执行以下操作：

```
TimePicker tp = (TimePicker)dialog.findViewById(R.id.timepicker1);
tp.setOnTimeChangedListener(myOnTimechangedListener); 
```

要在用户完成设置后从 Date- 和 TimePicker 中获取值，请在对话框中添加一个 OK 按钮，然后在用户按 OK 时从 Date- 和 TimePicker 中读取日期和时间值。

要制作与屏幕截图完全相同的内容，我建议您使用自己的逻辑自定义所有内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:56:20.183

要更改蓝条颜色，请尝试以下操作。

定义你自己的主题如下，它扩展了 THEME_HOLO_DARK

尝试如下： -

```
<style name="testo" parent="@android:style/Widget.DeviceDefault.DatePicker">
    <item name="android:divider">@drawable/MyDivider</item>
</style> 
```

检查以下[change-basic-theme-color-of-android-application](https://stackoverflow.com/questions/9688724/change-basic-theme-color-of-android-application)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-04-19T05:58:30.847

**日期选择器**和**时间选择器**都在一个对话框中。检查这个简单易用的库。[自定义日期时间选择器](https://github.com/noowenz/CustomDateTimePicker)

[![在此处输入图像描述](../Images/201dd0fea856fd80efb0f727e5e083b8.png)](https://i.stack.imgur.com/QgH0j.png) [![在此处输入图像描述](../Images/3ee30771af6e8d6bad053c563721df7c.png)](https://i.stack.imgur.com/lpetH.png)

希望能帮助到你。快乐编码！！！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-07-13T12:09:27.403

> 有很多可用的解决方案，其中一个，我喜欢这个简单的方法：

```
String mDateTime;
void getDateTime(){
    final Calendar c = Calendar.getInstance();
    int year = c.get(Calendar.YEAR);
    int month = c.get(Calendar.MONTH);
    int day = c.get(Calendar.DAY_OF_MONTH);
    final int hour = c.get(Calendar.HOUR_OF_DAY);
    final int minute = c.get(Calendar.MINUTE);
    mDateTime = "";
    new DatePickerDialog(
            mContext, new DatePickerDialog.OnDateSetListener() {
        @Override
        public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {
            mDateTime =  year +"-"+  month +"-"+ dayOfMonth;
            new Handler().postDelayed(new Runnable() {
                @Override
                public void run() {
                    new TimePickerDialog(mContext, new TimePickerDialog.OnTimeSetListener() {
                        @Override
                        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {
                            mDateTime+=" "+hourOfDay+":"+minute;
                        }
                    }, hour, minute, false).show();
                }
            },500);
        }
    }, year, month, day).show();
} 
```

# python - whois.domaintools.com python 脚本的用户身份验证

> ID：14254094
> 
> 赞同：0
> 
> 时间：2013-01-10T09:01:35.897
> 
> 标签：python, python-3.x, python-2.7, urllib2, whois

我正在尝试开发 python 脚本以从 domaintools.com 获取托管公司信息，下面是我的脚本。此身份验证部分有问题，它返回 403 错误。

```
domain_tools_url = 'https://secure.domaintools.com/log-in/'
username = 'username@gmail.com'
password = 'password'
sys.path.append("./BeautifulSoup")

passman = urllib2.HTTPPasswordMgrWithDefaultRealm()
passman.add_password(None, domain_tools_url, username, password)
authhandler = urllib2.HTTPBasicAuthHandler(passman)
opener=urllib2.build_opener(authhandler, urllib2.HTTPHandler(debuglevel=0))
opener.addheaders = [('User-agent', 'Mozilla/5.0')]
url = "http://whois.domaintools.com/62.75.xxx.xxx"
page = opener.open(url) 
```

我能知道如何解决这个问题吗？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T19:25:24.753

> 那么我该如何处理这个url =“whois.domaintools.com/62.75.xxx.xxx”

我建议不要解析 html，而是使用 domaintools 自己的 API 以直接的方式获取您需要的数据，而无需走弯路（第 3 方库）

[http://www.domaintools.com/api/](http://www.domaintools.com/api/)

DomainTools 每月免费提供 500 个 whois 查询，如果您需要更多，还可以订阅。

```
import urllib.request
import json

# please take notice that this is only a sample query 
# you usually need to authenticate your request: http://www.domaintools.com/api/docs/authentication/
data = json.loads(urllib.request.urlopen('http://freeapi.domaintools.com/v1/domaintools.com/whois/').read().decode('utf-8'))

def readValues(obj):
    if isinstance(obj, str):
        print(obj)
    elif isinstance(obj, dict):
        for value in obj.values():
            readValues(value)
    elif isinstance(obj, list):
        for item in obj:
            readValues(item)

readValues(data) 
```

它在 Python 3 中，仅供参考

# mysql - 如何使用jsp将下拉列表中的所有值插入mysql表

> ID：14254098
> 
> 赞同：0
> 
> 时间：2013-01-10T09:01:49.297
> 
> 标签：mysql, jsp

我的项目中有 1 个名为 select.jsp 的应用程序，在 select.jsp 中我有一个下拉框，如果我没有在下拉框中选择任何内容，则该框中的所有值都应使用 jsp 插入 mysql 表中，请帮助我解决这个问题。

我尝试了以下代码：

select.jsp 包含以下代码：

```
<%@page import="java.sql.*"%>
    <html>
    <head>

    </head>
    <body>
    <form id="frm1" name="frm_addUser" method="post" action="./index.jsp">
    Select Programming Language:
    <select name="lang" id="t">
    <option value="select">select language</option>
    <option value="C/C++">C/C++</option>
    <option value="C#">C#</option>
    <option value="Java">Java</option>
    <option value="Perl">Perl</option>
    <option value="Python">Python</option>
    </select><br>
    <input type="text" id="cmblen" name="cmbna">

    <input type="submit" value="Submit" ><br>
    </form>

    <%!
    String tlen="";
    String languages="";%>
    <%
    try
    {
        Class.forName("com.mysql.jdbc.Driver");
        Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/test","root","sumith");
            Statement st=con.createStatement();
        int j=0;
        String lang[]=request.getParameterValues("lang");

        for(int i=0; i<lang.length; i++)
        {
            //languages+=lang[i]+", ";
            j=st.executeUpdate("insert into combo(language) values('"+lang[i]+"')");
        }

            out.println("Data is successfully inserted into database.");
    }
    catch(Exception e)
    {
        //out.println(e);
        //e.printStackTrace();
    }

            %>

    </body>
    </html> 
```

但我的问题是在 mysql 表中我只能插入组合框的第一个值，但剩余的值没有插入到 mysql 表中，你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:08:30.867

```
if (!selectedValue.equals("select")) {
    int i = st.executeUpdate("insert into combo (combocol) values ('" + selectedValue + "')");
  } else {
    int i = st.executeUpdate("insert into combo (combocol) values ('C/C++'),('C#'),('java'),('perl'),('python')");
  } 
```

# vba - VBA 打印为 PDF

> ID：14254099
> 
> 赞同：-2
> 
> 时间：2013-01-10T09:01:56.630
> 
> 标签：vba

如何在不询问文件名或显示 adobe 阅读器的情况下自动将 Excel 打印文件另存为 PDF。

这是用于带有附件的自动电子邮件。

我不需要 Excel，因为我将使用 Outlook VBA 检索记录，然后对齐它，excel，水晶代表，将其保存为 PDF 并附加。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:06:42.050

我不知道您的文档是什么样子，所以它可能不会安静地剪切它，但您可以将文档的每个工作表保存为 pdf 文件，如下所示：

```
Sub Mac()
Dim wsh As Worksheet, vWshs, vWshName

vWshs = Array("Sheet1", "Sheet2", "Sheet3")
With ActiveWorkbook
    For Each vWshName In vWshs
        .Worksheets(vWshName).ExportAsFixedFormat Type:=xlTypePDF, Filename:= _
            "C:\Tmp\" & vWshName, Quality:=xlQualityStandard, _
            IncludeDocProperties:=True, IgnorePrintAreas:=False, OpenAfterPublish:=False
    Next vWshName
End With
End Sub 
```

# matlab - MATLAB：从 parfor 调用超类的方法

> ID：14254100
> 
> 赞同：3
> 
> 时间：2013-01-10T09:01:58.517
> 
> 标签：matlab, inheritance

让我们直接进入代码。有两个班。超类是

```
classdef Parent
  methods
    function this = Parent()
    end

    function say(this, message)
      fprintf('%s\n', message);
    end
  end
end 
```

子班是

```
classdef Child < Parent
  methods
    function this = Child()
      this = this@Parent();
    end

    function say(this, message)
      for i = 1
        % This one works...
        say@Parent(this, message);
      end

      parfor i = 1
        % ... but this one does not.
        say@Parent(this, message);
      end
    end
  end
end 
```

问题是：如何在不引入任何其他方法的情况下使*第二个循环工作？*至于现在，它会引发一个错误，说“只能从同名的子类方法中显式调用基类方法”。谢谢你。

问候，伊万

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:11:04.680

我认为您可能需要在调用循环之前显式`this`转换为，然后显式调用该方法：`Parent``parfor``Parent``say`

```
this2 = Parent(this);
parfor i = 1:1
  say(this2, message);
end 
```

为此，您需要修改 的构造函数`Parent`以接受输入参数：

```
function this = Parent(varargin)
    if nargin == 1
        this = Parent();
    end
end 
```

如果`Parent`并且`Child`具有属性，就像您的真实类可能那样，您将在语句之后包含一些代码`if`，将`Child`s 属性分配给新构造的`Parent`对象。

# php - 使用 PHP Zend 为 Windows azure 部署创建证书 - 例如无法下载 RDP 文件

> ID：14254102
> 
> 赞同：2
> 
> 时间：2013-01-10T09:02:06.863
> 
> 标签：php, azure, cloud-hosting

我正在使用 win Azure，部署我无法远程登录实例。

这是错误。

```
 Failed to download RDP file for instance 
servicecall_webrole_IN_0 in cloud service testingservicecall. 
```

细节：

```
The supplied cscfg file can not be parsed. 
Got exception Microsoft.WindowsAzure.Plugins.RemoteAccess.AccountEncryptedPassword. 
```

配置文件

```
<Setting name="Microsoft.WindowsAzure.Plugins.RemoteAccess.AccountEncryptedPassword" value="MIIBnQYJKoZIhv..." /> 
```

任何与 php 一起使用 win azure 的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:10:26.707

我希望您在部署之前已将远程桌面证书上传到您的托管服务中，并在使用相同证书加密的 cscfg 文件中的 RDP 密码..

从错误看起来，密码以纯文本形式存储在 cscfg 中？您必须使用 azure sdk 提供的 csencrypt 工具对 cscfg 中的密码进行加密。

# mysql - 建议合适的mysql日期函数

> ID：14254104
> 
> 赞同：4
> 
> 时间：2013-01-10T09:02:24.360
> 
> 标签：mysql, sql, datetime, select

我有一个数据类型的日期字段`datetime`，即使`H:s:i`已存储，但我不想在验证中考虑我`CURDATE()`在查询条件下使用但正在考虑“H:S:i”的验证，例如

```
SELECT ('2013-01-10 05:10:50' <= CURDATE()) FROM dual 
```

上面的查询返回 false(0)，为什么不返回 true(1)，因为`2013-01-10 05:10:50`是过去的时间。简而言之，我想存储 'H:s:i' 但在验证哪个 MySql 函数适合时不应该考虑？

**更新以下内容**

我不想使用`NOW()`，`SYSDATE()`因为这些函数会`H:s:i`在验证时考虑，所以我使用过`CURDATE()`但预期的结果在我使用时会有所不同`CURDATE()`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:07:35.997

您的查询返回`false`，因为`CURDATE()`返回**日期**而不是日期和时间。仅返回日期意味着`2012-01-10 00:00:00`与日期和时间进行比较。因此`CURDATE()`不是以前`2013-01-10 05:10:50`。

我建议您使用`NOW()`- 它确实返回日期和时间。

[`NOW()`这里的文档](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_now)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:08:40.797

`CURDATE()`不包括时间，因此它将是 00:00:00 或 9th/10th 边界的午夜。如果您想执行此检查，请`NOW()`改用

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:20:56.993

你可以试试这个：

```
SELECT DATE('2013-01-10 05:10:50') <= CURDATE() FROM DUAL;

SELECT '2013-01-10 05:10:50' <= DATE_FORMAT(NOW(), '%Y-%m-%d 23:59:59') FROM DUAL; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:09:54.823

使用`now()`而不是`curdate()`.

`now()`返回当前日期*和时间*，而`curdate()`返回当前日期，该日期被强制转换为日期时间以进行比较，并在如果`00:00:00`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T09:12:00.440

你必须使用 now() 或 current_timestamp

# macros - 迭代创建局部变量？

> ID：14254110
> 
> 赞同：0
> 
> 时间：2013-01-10T09:02:42.140
> 
> 标签：macros, lisp, common-lisp, let

我创建了一个函数，它将任意长的数字列表作为参数。从这个列表中，我希望使用`let`. 矩阵将根据列表内的数字序列具有行和列。例如，

```
>(foo '(2 2 3) arg2 ... argn) 
```

应该在本地创建

```
M1: #2a((0 0)(0 0))     M2: #2a((0 0 0)
                                (0 0 0)) 
```

也就是说，第一个矩阵从列表中相邻元素的前两个元素中获取其维度，依此类推。

我的问题是：有没有办法`Mn`在`let`表达式中迭代地创建任意长的局部变量集？或者这是我应该使用宏的情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:14:38.183

> 我的问题是：有没有办法在 let 表达式中迭代地创建任意长的局部变量 Mn 集？或者这是我应该使用宏的情况？

不，您不能在运行时生成现有 LET 表达式的变量。

是的，您可以使用宏来生成具有“任意”数量变量的 LET 表达式。但前提是您知道宏扩展期间的数字列表（例如编译代码时）。

为了理解您的问题，您需要向我们展示示例代码，您希望如何使用生成的变量？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-11T11:57:28.723

我实际上设法通过将矩阵保存在向量中来解决问题：

```
(defun sum-net (structure)
;make vectoor to hold matrices
  (let ((matrices (make-array `(,(length structure)))))
;fill structures with empty matrices->weights & vectors->Net-Layers
    (dotimes (n (1- (length matrices)))
      (setf (svref matrices n) 
            (make-array `(,(nth n structure)
                          ,(nth (+ n 1) structure)))) 
```

感谢您的建议。PS抱歉耽搁了，我感冒了。

# bash - 在退出脚本之前等待后台进程完成

> ID：14254118
> 
> 赞同：66
> 
> 时间：2013-01-10T09:03:01.447
> 
> 标签：bash, shell, unix, tcl, grep

在退出脚本（TCL/Bash）之前，如何确保我的所有后台进程都已完成执行。

我正在考虑将我所有的后台进程 pid 写入 pidfile。然后在最后 pgrep pidfile 以查看在我退出之前是否有任何进程仍在运行。

有没有更简单的方法来做到这一点？是否有 TCL 特定的方法来做到这一点？

* * *

## 回答 #1

> 赞同：140
> 
> 时间：2013-01-10T12:06:28.910

如果要等待作业完成，请使用`wait`. 这将使 shell 等到所有后台作业完成。但是，如果您的任何作业自己守护进程，它们不再是 shell 的子进程，并且 wait 将没有任何效果（就 shell 而言，子进程已经完成。事实上，当一个进程自己守护进程时，它会这样做通过终止并产生一个继承其角色的新进程）。

```
#!/bin/sh
{ sleep 5; echo waking up after 5 seconds; } &
{ sleep 1; echo waking up after 1 second; } &
wait
echo all jobs are done! 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-01-10T09:11:38.063

您可以`kill -0`用于检查特定 pid 是否正在运行。

假设您在 pwd`pid`中调用的文件中有数字列表`pid`

```
while true;
do 
    if [ -s pid ] ; then
        for pid in `cat pid`
        do  
            echo "Checking the $pid"
            kill -0 "$pid" 2>/dev/null || sed -i "/^$pid$/d" pid
        done
    else
        echo "All your process completed" ## Do what you want here... here all your pids are in finished stated
        break
    fi
done 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-10T20:38:19.220

**警告**：前面的脚本很长。

不久前，我遇到了一个类似的问题：从一个 Tcl 脚本，启动多个进程，然后等待所有进程完成。这是我为解决此问题而编写的演示脚本。

### 主要的.tcl

```
#!/usr/bin/env tclsh

# Launches many processes and wait for them to finish.
# This script will works on systems that has the ps command such as
# BSD, Linux, and OS X

package require Tclx; # For process-management utilities

proc updatePidList {stat} {
    global pidList
    global allFinished

    # Parse the process ID of the just-finished process
    lassign $stat processId howProcessEnded exitCode

    # Remove this process ID from the list of process IDs
    set pidList [lindex [intersect3 $pidList $processId] 0]
    set processCount [llength $pidList]

    # Occasionally, a child process quits but the signal was lost. This
    # block of code will go through the list of remaining process IDs
    # and remove those that has finished
    set updatedPidList {}
    foreach pid $pidList {
        if {![catch {exec ps $pid} errmsg]} {
            lappend updatedPidList $pid
        }
    }

    set pidList $updatedPidList

    # Show the remaining processes
    if {$processCount > 0} {
        puts "Waiting for [llength $pidList] processes"
    } else {
        set allFinished 1
        puts "All finished"
    }
}

# A signal handler that gets called when a child process finished.
# This handler needs to exit quickly, so it delegates the real works to
# the proc updatePidList
proc childTerminated {} {
    # Restart the handler
    signal -restart trap SIGCHLD childTerminated

    # Update the list of process IDs
    while {![catch {wait -nohang} stat] && $stat ne {}} {
        after idle [list updatePidList $stat]
    }
}

#
# Main starts here
#

puts "Main begins"
set NUMBER_OF_PROCESSES_TO_LAUNCH 10
set pidList {}
set allFinished 0

# When a child process exits, call proc childTerminated
signal -restart trap SIGCHLD childTerminated

# Spawn many processes
for {set i 0} {$i < $NUMBER_OF_PROCESSES_TO_LAUNCH} {incr i} {
    set childId [exec tclsh child.tcl $i &]
    puts "child #$i, pid=$childId"
    lappend pidList $childId
    after 1000
}

# Do some processing
puts "list of processes: $pidList"
puts "Waiting for child processes to finish"
# Do some more processing if required

# After all done, wait for all to finish before exiting
vwait allFinished

puts "Main ends" 
```

### 孩子.tcl

```
#!/usr/bin/env tclsh
# child script: simulate some lengthy operations

proc randomInteger {min max} {
    return [expr int(rand() * ($max - $min + 1) * 1000 + $min)]
}

set duration [randomInteger 10 30]
puts "  child #$argv runs for $duration miliseconds"
after $duration
puts "  child #$argv ends" 
```

### 运行 main.tcl 的示例输出

```
Main begins
child #0, pid=64525
  child #0 runs for 17466 miliseconds
child #1, pid=64526
  child #1 runs for 14181 miliseconds
child #2, pid=64527
  child #2 runs for 10856 miliseconds
child #3, pid=64528
  child #3 runs for 7464 miliseconds
child #4, pid=64529
  child #4 runs for 4034 miliseconds
child #5, pid=64531
  child #5 runs for 1068 miliseconds
child #6, pid=64532
  child #6 runs for 18571 miliseconds
  child #5 ends
child #7, pid=64534
  child #7 runs for 15374 miliseconds
child #8, pid=64535
  child #8 runs for 11996 miliseconds
  child #4 ends
child #9, pid=64536
  child #9 runs for 8694 miliseconds
list of processes: 64525 64526 64527 64528 64529 64531 64532 64534 64535 64536
Waiting for child processes to finish
Waiting for 8 processes
Waiting for 8 processes
  child #3 ends
Waiting for 7 processes
  child #2 ends
Waiting for 6 processes
  child #1 ends
Waiting for 5 processes
  child #0 ends
Waiting for 4 processes
  child #9 ends
Waiting for 3 processes
  child #8 ends
Waiting for 2 processes
  child #7 ends
Waiting for 1 processes
  child #6 ends
All finished
Main ends 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-05-26T18:04:59.330

**GNU`parallel`和`xargs`**

这两个工具可以让脚本更简单，也可以控制最大线程数（线程池）。例如：

```
seq 10 | xargs -P4 -I'{}' echo '{}' 
```

或者：

```
seq 10 | parallel -j4  echo '{}' 
```

另请参阅：[如何编写进程池 bash shell](https://stackoverflow.com/questions/6441509/how-to-write-a-process-pool-bash-shell)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-02-19T09:22:26.563

即使你没有pid，你也可以触发'wait;' 触发所有后台进程后。为了。例如。在 commandfile.sh-

```
bteq < input_file1.sql > output_file1.sql &
bteq < input_file2.sql > output_file2.sql &
bteq < input_file3.sql > output_file3.sql &
wait 
```

然后当它被触发时，如 -

```
subprocess.call(['sh', 'commandfile.sh'])
print('all background processes done.') 
```

只有在所有后台进程完成后才会打印。

# css - & 在 Sass 中用于特定标签

> ID：14254129
> 
> 赞同：1
> 
> 时间：2013-01-10T09:03:36.137
> 
> 标签：css, css-selectors, sass

我想将 & （指一个类）与标签结合使用。像这个例子：

```
.back {
    text-transform: uppercase;
    text-decoration: none;
    font-weight: 700;
    color: blue;

    &:hover {
        color: red;
   }
} 
```

我只想将悬停用于 a-tags。以下是不可能的

```
a&:hover {
     color: red;
} 
```

有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:46:04.573

如果我正确理解您的问题，您就不需要`&`：

```
.back {
  ...

  a:hover {
    color: red;
 } 
```

}

在 sass 中，这将编译为`.back a:hover { color:red; }`. 您不需要 &，因为它用于进一步扩展`back`类，我认为您不想这样做。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-10T09:08:44.587

```
.back {
  ...
}

a.back:hover {
  color: red
} 
```

# php - 有条件地将页面从 http 重定向到 https 或 https 到 http

> ID：14254130
> 
> 赞同：3
> 
> 时间：2013-01-10T09:03:40.087
> 
> 标签：php, .htaccess, mod-rewrite

我正在尝试编辑我的`.htaccess`文件，以便让用户通过 SSL 连接访问某些页面，而不是其他页面。

例如，当访问一个名为`login.php`（有时是`login.php?lo=true`）的页面时，他们会输入他们的登录详细信息。在他们访问之后，`login.php`他们会继续前进`check_login.php`，如果他们成功了，他们会继续前进`index.php`。

我的问题是：如何更改我的`.htaccess`文件以便发生以下情况：

*   `http://www.site.com/login.php`--->`https://www.site.com/login.php`如果有变量，例如`lo=true`

*   `http://www.site.com/check_login.php`-->`https://www.site.com/check_login.php`

*   **不是**login.php 或 check_login.php 的任何其他页面只是`http`，不是`https`

我对 ModRewrite 规则的了解有限，到目前为止，我已经实现了以下内容：

```
RewriteCond %{HTTPS} !=on
RewriteRule ^login\.php$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
RewriteRule ^login\.php?lo=true$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:12:03.160

您不能将查询字符串放在规则中的正则表达式中，只能匹配 URI，而不是查询字符串。尝试：

```
RewriteCond %{HTTPS} off
RewriteRule ^login\.php$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

RewriteCond %{HTTPS} off
RewriteRule ^check_login\.php$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

RewriteCond %{HTTPS} on
RewriteCond %{REQUEST_URI} !^/?(check_)?login\.php
RewriteRule ^ http://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:17:41.680

`?`除非您在替换 URL 中使用 a，否则无需担心查询字符串。以下是您需要的两组规则（第二组规则与第一组正好相反）：

```
RewriteCond %{HTTPS} !=on
RewriteRule  ^(?:login\.php|check_login\.php)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=302,L]

RewriteCond %{HTTPS} =on
RewriteRule !^(?:login\.php|check_login\.php)$  http://%{HTTP_HOST}%{REQUEST_URI} [R=302,L] 
```

请注意，我使用 302 重定向进行测试。别忘了改成301。

# python - 将子 href 提取到 BeautifulSoup 列表

> ID：14254133
> 
> 赞同：0
> 
> 时间：2013-01-10T09:04:05.573
> 
> 标签：python, beautifulsoup, href, urllib2

我正在学习 python 并使用 BeautifulSoup 来抓取一些网页。我要做的是找到第一个'td'的子'a'，提取href并将其添加到列表中。如何以及在何处将 href 添加到单元格文本？

```
import urllib2

from BeautifulSoup import BeautifulSoup

def listify(table):
    """Convert an html table to a nested list""" 
    result = []
    rows = table.findAll('tr')
    for row in rows:
        result.append([])
        cols = row.findAll('td')
        for col in cols:
            strings = [_string.encode('utf8') for _string in col.findAll(text=True)]
            text = ''.join(strings)
            result[-1].append(text)
    return result 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:11:07.000

*   找到第一个`td`：`row.find('td')`改为使用；它将返回第一场比赛
*   再次查找 child `a`，`.find('a')`用于查找第一个。
*   元素的行为类似于 python `dict`，使用项目访问来获取元素属性，例如`href`.

总之，这使得：

```
cell = row.find('td')
link = cell.find('a') if cell else None
if link is not None and 'href' in link:
    result[-1].append(link['href']) 
```

# c++ - 奇怪的行为？

> ID：14254134
> 
> 赞同：3
> 
> 时间：2013-01-10T09:04:07.920
> 
> 标签：c++, templates, iterator, typedef

> **可能重复：**
> [我必须在哪里以及为什么要放置“模板”和“类型名称”关键字？](https://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords)

我（不得不 :)）几周前成为了一名 C++ 开发人员（我之前有过一些经验，但不是太多，我更多的是使用 Java），试图学习所有重要的东西并尽可能高效地开发。如果我的问题完全愚蠢，请原谅。我对一个简单的示例模板类有疑问：

```
template<typename T>
class SameCounter {
private:
    map<T,int> counted;
public:
    SameCounter(list<T> setup) {
        for(list<T>::iterator it = setup.begin(); it != setup.end(); it++) {
            counted[*it]++;
        }
    }
    map<T,int>::const_iterator& begin() { // line 25
        return counted.begin();
    }
    map<T,int>::const_iterator& end() {
        return counted.end();
    }
};

...
// using the class
Reader rdr;
rdr.Read();
SameCounter<char> sc(rdr.GetData()); 
```

编译时出现一些错误：

```
Error   3   error C4430: missing type specifier - int assumed. Note: C++ does not support default-int   d:\learn_cpp\examples\gyakorlas_1.cpp   25
Error   2   error C2143: syntax error : missing ';' before '&'  d:\learn_cpp\examples\gyakorlas_vizsga\gyakorlas_1.cpp  25

(both of them twice) 
```

我对此一无所知，我假设的模板可能有问题，因为如果我将 SameCounter 创建为普通类，那完全没问题。感谢您的帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T09:10:43.730

这应该可以帮助您：

```
typename map<T,int>::const_iterator& begin() {
    return counted.begin();
}
typename map<T,int>::const_iterator& end() {
    return counted.end();
} 
```

C++ 模板很棘手。T 是一个模板参数，`map<T, int>::const_iterator`可能意味着不同的东西（类型名称，还有 - 比如说 - 静态成员......），具体取决于您传递的 T 。

这就是为什么在模板中有时您需要明确您的意图并表明您实际上的意思是“`const_iterator`是一种类型，我想要引用它”。关键字“typename”允许这样做。

见： http: [//pages.cs.wisc.edu/~driscoll/typename.html](http://pages.cs.wisc.edu/~driscoll/typename.html)

* * *

为了使您的代码更简单并~~避免~~减少对 的需求`typename`，您可以从以下内容开始：

```
private:
    typedef std::map<T, int> MapType;
    MapType counted; 
```

然后就去

```
typename MapType::const_iterator &begin() { 
```

不幸的是，这`typename`仍然需要在这里，您需要进一步`typedef typename`为每个依赖类型将其从进一步的声明中删除（参见**@rhalbersma**的答案）。

* * *

在**@rhalbersma**的评论之后，我还要强调**您应该按值返回这些迭代器**。返回对临时对象的引用会导致未定义的行为，因为对象超出范围并且您最终会得到“悬空引用”。

所以让它：

```
typename MapType::const_iterator begin() { 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:17:34.687

我在下面注释了您的课程。有几点值得一提：

```
 template<typename T>
  class SameCounter 
  {
  private:
     typedef map<T,int> MapType; // typedef here to keep specific container in a single place
     typedef typename MapType::const_iterator const_iterator; // to avoid retyping "typename"
     typedef typename MapType::iterator iterator; // to avoid retyping typename
     MapType counted;
  public:
     SameCounter(list<T> setup) {
        // auto here to avoid complicated expression
         for(auto it = setup.begin(); it != setup.end(); it++) {
             counted[*it]++;
         }
     }

    // by value instead of by reference, mark as const member
    const_iterator begin() const {
        return counted.begin();
    }

    // by value instead of by reference, mark as const member
    const_iterator end() const {
        return counted.end();
    }

    // probably best to also forward cbegin()/cend() and non-const begin() / end()
 }; 
```

*   **如果您想从`map`另一个容器（例如）更改为**内部类型定义**`unorderd_map`，它们会派上用场，并且它们可以避免重复键入`typename`嵌套类型定义。**
***   **auto**（C++11 关键字）可以限制输入复杂的迭代器类型*   **迭代器的**按值返回是惯用的方式*******   **begin()/end() 的**const 正确性*******   **为非常量迭代器重载**begin() / end() 并提供 cbegin()/cend()******

 ****一般来说，最好使用与要包装的函数相同的接口（常量、返回值）（在这种情况下为 map 的 begin()/end()）。****

# jenkins - Jenkins - 代理背后的 Gradle 插件

> ID：14254136
> 
> 赞同：0
> 
> 时间：2013-01-10T09:04:19.230
> 
> 标签：jenkins, gradle, jenkins-plugins

我正在尝试在 Windows XP 下为自动构建项目配置本地 Jenkins 服务器。我想调用一个 gradle 脚本，所以，我安装了 gradle 插件。Gradle 为代理配置得很好（如果我通过控制台调用脚本，它就可以工作），但不适用于 Jenkins。我尝试使用 EnvInject 插件注入 gradle.properties，但仍然无法正常工作。任何想法？

我在 Windows 7 上使用 Jenkins 的同事没有这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:04:06.500

好的，问题解决了：我在环境系统变量GRADLE_USER_HOME`C:\Documents and Settings\myUser\.gradle`中设置了，这样gradle就可以看到gradle.properties文件了。

# mongodb - 如何找出 MongoDB 稀疏索引中包含多少对象？

> ID：14254137
> 
> 赞同：2
> 
> 时间：2013-01-10T09:04:26.827
> 
> 标签：mongodb, indexing

根据[MongoDB 的手册](http://docs.mongodb.org/manual/core/indexes/)，在稀疏索引中，仅包含包含该字段的对象。我可以看到稀疏索引的大小（以字节为单位），但是如何查找它包含的对象数量？我正在对我的对象进行升级，这个数字是还有多少需要处理。

更新：我的索引字段是一个整数和一个 ObjectId。如果它们在索引中具有固定大小，我可以将其大小（以字节为单位）除以每个索引大小以获得近似值吗？当我删除具有该字段的对象时，磁盘上的稀疏索引大小可能不会缩小...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:06:11.173

如果设置了相应的字段，则对象将包含在稀疏索引中，即使它是`null`. 因此，您可以使用[`$exists`](http://docs.mongodb.org/manual/reference/operator/exists/)来获取具有值集的元素的数量：

```
> db.Foo.count();
185
> db.Foo.find({"SparseField" : {$exists : true} }).count();
174 
```

所以只有 11 个文档不在稀疏索引中。或者，您可以使用[`hint`](http://docs.mongodb.org/manual/reference/method/cursor.hint/)强制使用稀疏索引的查询并用于[`explain`](http://docs.mongodb.org/manual/reference/method/cursor.explain/)检索一些统计信息：

```
> db.Foo.find().hint("sparse_index_name").explain();
{
    "cursor" : "BtreeCursor sparse_index_name",
    "n" : 174,
} 
```

**使用CAVEAT**查询的`explain()`行为与不使用解释的查询不同。具体来说，`db.Foo.find().hint("sparse_index_name").count()`将返回 185，而不是 174。

* * *

不时检查稀疏索引的正确使用是有意义的：

```
> db.Foo.find({"SparseField" : null }).count();
38 
```

哎呀。这 38 个文档被索引，可能不是故意的。

# c# - Windows Mobile 中的两种现代形式

> ID：14254152
> 
> 赞同：0
> 
> 时间：2013-01-10T09:05:13.697
> 
> 标签：c#, forms, windows-mobile, compact-framework

可以使用 Compact Framework (Windows Mobile 6.1) 显示两个表单，其中第一个表单（第二个后面 - 绿色）占据整个空间（默认情况下），而第二个表单（第一个上方 - 蓝色）有一个距离从屏幕顶部开始大于零（我尝试时不起作用的 Top 属性）？

下图解释了我的意思：

![在此处输入图像描述](../Images/199c27e9d68e2563da605a0816b0e77b.png)

我能怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:15:17.157

Windows Mobile 无法显示不占据整个屏幕的表单。如果需要，您必须找到运行 Windows CE 的设备。Windows Mobile 中唯一不是“全屏”的是`MessageBox`.

由于 Compact Framework 应用程序可以在 Windows Mobile 和 Windows CE 上运行，因此有一个`Top`用于窗体的属性，它在 Windows Mobile 中不起作用（与通常调整位置或大小的其他属性一样）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T18:01:38.030

虽然我也认为不支持相当大的窗口窗体，但我找到了一个简单的方法：[http ://www.hjgode.de/wp/2012/11/07/mobile-development-move-your-form/](http://www.hjgode.de/wp/2012/11/07/mobile-development-move-your-form/)

所以让我们知道，如果这对你有用。

其余的继续学习做不可能的事情，就像我整天做的那样。

# c++ - 了解 CPU L2 缓存和 L2_REJECT_BUSQ_THIS_CORE_ALL_INVALID

> ID：14254154
> 
> 赞同：2
> 
> 时间：2013-01-10T09:05:20.850
> 
> 标签：c++, multithreading, caching, x86, multicore

考虑具有以下核心拓扑的 Intel Core 2 架构：

```
Socket 0: ( 0 2 4 6 )
Socket 1: ( 1 3 5 7 ) 
```

每个核心都有自己的一级缓存；L2缓存组是这样的：

```
( 0 2 ) ( 4 6 ) ( 1 3 ) ( 5 7 ) 
```

1\. 我观察到在某些应用程序中，性能计数器 L2_REJECT_BUSQ_THIS_CORE_ALL_INVALID 的值相当高。在这些应用程序上，#L2 数据缓存未命中率也很高。RESOURCE_STALLS_ROB_FULL 也很高，是总停顿周期的主要部分。

是否正确告诉，例如，核心 0 在 L2 中找到数据并未命中，然后其 L2 缓存的总线控制器向其他 L2 的总线控制器广播一些消息以查看数据是否在其 L2 中。但是，由于总线带宽的限制，总线上的竞争非常激烈，不知怎么的，其他人的总线队列一直都满了，那么core 0又要多次重播look-up消息？如果这是真的那么这就是为什么 L2_REJECT_BUSQ_THIS_CORE_ALL_INVALID 如此之高？还是我在翻译？

2\. 假设是否正确，撇开冷缺失的影响，如果我执行一个在核心上有 100 个 L2 数据缓存未命中的循环，导致 200 个 L2_REJECT_BUSQ_THIS_CORE_ALL_INVALID，然后执行更长的循环（例如迭代次数加倍）有 200 次 L2 数据缓存未命中将导致 400 L2_REJECT_BUSQ_THIS_CORE_ALL_INVALID？如果不是，那么导致意外非线性的原因是什么？

# performance - R 循环运行太慢

> ID：14254155
> 
> 赞同：1
> 
> 时间：2013-01-10T09:05:25.390
> 
> 标签：performance, r, optimization, for-loop

我有两个非常大的数据框（50MM+ 行），我需要对它们进行一些计算。我开发了以下循环，但运行速度太慢。我尝试使用 apply 和其他方法，但我无法让它们工作。

```
#### Sample Data
df=data.frame(id=1:10,time=Sys.time()-1:10,within5=NA)
df2=data.frame(id2=c(1,1,1,5,5,10),time2=Sys.time()-c(9,5,2,3,4,6))

#### Loop shows how many results from df2 are within 5 secs of the creation of the ID    in df
for (i in 1:length(df$id))
{
temp=df2[df2$id==df$id[i],]
df$within5[i]=sum(abs(as.numeric(difftime(temp$time2,df$time[i],units="secs")))<5)
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T10:11:07.160

为了检查程序的改进，制作了更大的样本数据。

```
df=data.frame(id=1:100,time=Sys.time()-1:100)
df2=data.frame(id2=sample(1:100,300000,replace=T),time2=Sys.time()-sample(1:5,300000,replace=T)) 
```

使用`ddply()`package中的函数`plyr`根据 column 划分您的数据`id2`。然后将您的函数应用于每个子集。

```
library(plyr)
df3 <- ddply(df2,"id2",function(x){ 
    data.frame(within5=sum(abs(as.numeric(difftime(x$time2,df$time[df$id==x$id2[1]],units="secs")))<5))}) 
```

结果我们得到了新的数据框。

```
 head(df3)
  id2 within5
1   1    3129
2   2    3032
3   3    2935
4   4    3121
5   5    3042
6   6    2426 
```

如果您需要`within5`原始数据框中的列，您可以使用 function `merge()`。

```
df4 <- merge(df,df3,by.x="id",by.y="id2",all=T) 
```

使用我的样本数据，这个计算速度快了 10 倍。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T21:23:50.750

对于上面的数据，使用第二个 id 查找参考时间，并从中减去事件时间

```
dt <- df2$time2 - df$time[df2$id] 
```

然后选择绝对时差小于 5 的事件 id

```
okIds <- df2$id2[abs(as.numeric(dt)) < 5] 
```

将这些制成表格，并添加到您的原始数据框中

```
df$within5 <- tabulate(okIds, max(df$id)) 
```

这依赖于 id 是顺序整数（如果不是，则将它们设为 a `factor()`，然后使用整数对结果进行编码）并且速度非常快。

# iphone - 具有透明背景的 UIControl

> ID：14254163
> 
> 赞同：4
> 
> 时间：2013-01-10T09:05:45.320
> 
> 标签：iphone, ios, uicontrol

我有一个`UIControl`子类。我使用以下代码更改它的背景颜色：

```
- (void)drawRect:(CGRect)rect
{
    [self.backgroundColor setFill];
    UIRectFill([self bounds]);
} 
```

这适用于所有颜色，除了`[UIColor clearColor]`. 我怎样才能使`UIControl`透明的背景？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-11T15:54:32.600

您应该在 initWithFrame 或/和 initWithCoder 中设置清晰的背景颜色

```
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code

        self.backgroundColor = [UIColor clearColor];
    }
    return self;
}

- (id)initWithCoder:(NSCoder *)aDecoder
{
    self = [super initWithCoder:aDecoder];
    if (self)
    {
        self.backgroundColor = [UIColor clearColor];
    }
    return self;
} 
```

您的控件的默认背景将是透明的，然后您可以根据需要在 drawRect 中填充任何背景颜色。

它在您的示例中不起作用的原因是该控件具有默认的黑色背景，该背景设置在 drawRect 之外的某个位置（可能在父 UIView init 中）。当您设置彩色背景时，它会覆盖黑色背景。当您设置一个清晰的，您会看到默认的黑色背景。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-11T16:17:56.050

对于 a`UIControl`的子类`UIView`

```
self.backgroundColor = [UIColor <anycolor>]; 
```

应该足够了，正如@niko34 所描述的，如果您希望控件具有透明颜色，即`[UIColor clearColor]`或任何其他具有任何透明度的颜色，您还需要设置

```
self.opaque = NO; 
```

否则任何透明颜色都将以不透明的方式绘制

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-11T12:35:55.247

Try setting alpha to 0.5 or below and I think it should show a semi transparent background with a black tint like `[UIColor colorWithRed:0.0 green:0.0 blue:0.0 alpha:0.5]`

# firefox - 是否有已发布的 Firefox 开发/部署时间表？

> ID：14254164
> 
> 赞同：0
> 
> 时间：2013-01-10T09:05:49.963
> 
> 标签：firefox

Firefox 20中会修复[一些错误](https://bugzilla.mozilla.org/show_bug.cgi?id=828839)（它们目前在 18 中，刚刚发布），我很想知道是否有任何资源或任何东西可以让我估计 FF20 何时发布。

我假设显然没有确切的日期，但只是让我知道这可能需要 2 周还是 6 个月，因为这会影响我在代码中为解决该代码而必须做的事情。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:09:05.423

Firefox 20（面向开发人员）将在 2013 年 4 月左右发布。目前可以下载 Nightly 构建版本，但当然，这并不稳定。

有关更改的更多信息： [https ://developer.mozilla.org/en-US/docs/Firefox_20_for_developers](https://developer.mozilla.org/en-US/docs/Firefox_20_for_developers)

注意：变更日志仍在草稿中

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T13:32:34.037

[https://wiki.mozilla.org/RapidRelease/Calendar](https://wiki.mozilla.org/RapidRelease/Calendar)有一个时间表，我会在那里停止回答，但 stackoverflow 需要更多字符。;)

# javascript - 如何使用画布在图像上绘制叠加层？

> ID：14254165
> 
> 赞同：2
> 
> 时间：2013-01-10T09:05:48.393
> 
> 标签：javascript, jquery, css, html

我想在图像 JavaScript 上绘制形状（多边形、矩形、圆形）。并想使用选定的形状生成热点，下面是我想要的示例链接。以及如何在图像上绘制覆盖画布？

例如 [https://google-developers.appspot.com/maps/documentation/javascript/examples/drawing-tools](https://google-developers.appspot.com/maps/documentation/javascript/examples/drawing-tools) http://www.maschek.hu/imagemap/imgmap

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:19:58.437

我在[http://jsbin.com/acuvom/5上实现了类似的东西](http://jsbin.com/acuvom/5)

基本上它将在与原始图像相同的宽度和高度的相同位置绘制透明画布。在我的示例中，我还将图像移动到画布中以提取图像的选定区域，但您可以省略这部分。

在覆盖画布上绘图将绘制一个半透明区域，允许底层图像通过。

# javascript - 如何使用 Jquery 获取左侧滑块，如 Google 或 facebook 移动网站？

> ID：14254168
> 
> 赞同：1
> 
> 时间：2013-01-10T09:06:00.020
> 
> 标签：javascript, jquery-ui

我希望获得与 Google 或 Facebook 左侧导航滑块相同的效果。我必须在我的移动网站上获得相同的效果。是否有框架或模板来实现这一点？![在此处输入图像描述](../Images/df0a6333aa3e84d4e7a27c2ff3ae9964.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:24:20.463

That is called a drawer. This is what a quick search yields:

[http://jquer.in/javascript-and-jquery-solutions-for-fantastic-mobile-websites/drawer-slide-menu/](http://jquer.in/javascript-and-jquery-solutions-for-fantastic-mobile-websites/drawer-slide-menu/)

It's oriented for mobile, but it can be useful on desktop too.

# python - 关于如何在 qt 进程中获取重定向 url html？

> ID：14254175
> 
> 赞同：1
> 
> 时间：2013-01-10T09:06:20.270
> 
> 标签：python, redirect, qtwebkit

当qt处理一个301链接时，它会得到重定向的html内容，但我想获取第一个链接的html内容，例如：

当我请求url`http://10.1.1.1/one.php`时，服务器会返回header`location: http://10.1.1.1/two.php`和一些内容“重定向”，然后它会重定向url“two.php”并返回two.php的html内容，webkit的函数“page().mainFrame().toHtml( )”只能获取后面的html内容，但我无法获取以前的html内容（“重定向”），我在互联网上搜索了几天但没有任何帮助。

我能做些什么？

# iphone - 在 Xcode 中以编程方式创建按钮、文本字段和插入图像

> ID：14254176
> 
> 赞同：-1
> 
> 时间：2013-01-10T09:06:25.853
> 
> 标签：iphone

我在 iphone 应用程序中遇到了意外的问题。无论出于何种原因，我编译这个，我得到一个 SIGABRT 错误。它发生在：

```
 textFieldRounded=[[UITextField alloc]initWithframe: CGRectMake(20,50,280,31)];
    textFieldRounded.borderStyle=UITextBorderStyleRoundedRect;
    textFieldRounded.textColor=[UIColor blackColor];
    textFieldRounded.font=[UIFont systemFontOfSize:17.0];
    textFieldRounded.placeholder=@"enter your name";
    textFieldRounded.backgroundColor=[UIColor whiteColor];
    textFieldRounded.autocorrectionType=UITextAutocorrectionTypeNo;
    textFieldRounded.backgroundColor=[UIColor clearColor];
    textFieldRounded.keyboardType=UIKeyboardTypeDefault;
    textFieldRounded.returnKeyType=UIReturnKeyDone;
    textFieldRounded.clearButtonMode=UITextFieldViewModeWhileEditing;
    [self.view addSubView:textFieldRounded];
    textFieldRounded.delegate=self;    
    UIButton *button =[UIButton buttonWithType:UIButtonTypeRoundedRect];
    [button addTarget:self action:@selector(buttonPressed:)
     forControlEvents:UIControlEventTouchDown];
    [button setTitle:@"Button" forstate:UIControlStateNormal];
    button.frame = CGRectMake(20,108,97,37);
    [self.view addSubview:button];
    label= [[UILabel alloc] initWithFrame:CGRectMake(40,243,240,21)];
    label.backgroundColor=[UIColor clearColor];
    label.textAlignment,UITextAlignmentCenter;
    label.text=@"Label";
    [self.view addSubview:label];    
    CGRect myImageRect = CGRectMake(40.0f,190.0f,240.0f,128.0f);
    image= [[UIImageView alloc] initWithFrame:myImageRect];
    [image setImage:[UIImage imageNamed:@"Default@2x.png"]];
    image.backgroundColor=[UIColor clearColor];
    image.opaque =YES;
    image.alpha=0;
    [self.view addSubview:image];
    [image release];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:24:59.760

你可以创建`UITextField`，`UIButton`或者`UILabel`像下面的代码： -

**UITextField**

```
UITextField *textField = [[UITextField alloc] initWithFrame:CGRectMake(10, 200, 300, 40)];
textField.borderStyle = UITextBorderStyleRoundedRect;
textField.font = [UIFont systemFontOfSize:15];
textField.placeholder = @"enter text";
textField.autocorrectionType = UITextAutocorrectionTypeNo;
textField.keyboardType = UIKeyboardTypeDefault;
textField.returnKeyType = UIReturnKeyDone;
textField.clearButtonMode = UITextFieldViewModeWhileEditing;
textField.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;    
textField.delegate = self;
[self.view addSubview:textField];
[textField release]; 
```

**用户界面按钮**

```
UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
[button addTarget:self action:@selector(aMethod:) forControlEvents:UIControlEventTouchUpInside];
[button setTitle:@"UIButton" forState:UIControlStateNormal];
button.frame = CGRectMake(80.0, 210.0, 160.0, 40.0);
[view addSubview:button];
[button release]; 
```

**UIL标签**

```
UILabel *headingLabel = [[UILabel alloc] initWithFrame:CGRectMake(10, 240, 300, 30)];

[self.view addSubview:headingLabel]; 
```

// 可选的

```
headingLabel.text = @"WELCOME";
headingLabel.textColor = [UIColor orangeColor];
headingLabel.textAlignment = UITextAlignmentCenter;
headingLabel.tag = 10;
headingLabel.backgroundColor = [UIColor clearColor];
headingLabel.font = [UIFont fontWithName:@"MarkerFelt-Thin" size:14.0];
headingLabel.hidden = NO;
headingLabel.highlighted = YES;
headingLabel.highlightedTextColor = [UIColor blueColor];
headingLabel.lineBreakMode = YES;
headingLabel.numberOfLines = 0; 
```

**UIImageView**

```
UIImageView *myImage = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 150, 150)];
myImage.image = [UIImage imageNamed:@"myImage.png"];
[self.view addSubview:myImage];
[mymyImage release]; 
```

希望它可以帮助你

# mysql - codeigniter query issue

> ID：14254188
> 
> 赞同：0
> 
> 时间：2013-01-10T09:07:28.353
> 
> 标签：mysql, codeigniter, activerecord

I have this query:

```
$this->db->select('COUNT(tran_ID) AS count, CASE WHEN MONTH(days)>=4 THEN concat(YEAR(days), "-", YEAR(days)+1) ELSE concat(YEAR(days)-1, "-", YEAR(days)) END AS format_date,product_class AS saleCol'); 
```

I get syntax error on

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHEN MONTH(days)>=4 THEN concat(YEAR(days), `"-"`, YEAR(days)+1) ELSE concat(YEA' at line 1

SELECT COUNT(tran_ID) AS count, `CASE` WHEN MONTH(days)>=4 THEN concat(YEAR(days), `"-"`, YEAR(days)+1) ELSE concat(YEAR(days)-1, `"-"`, YEAR(days)) END AS format_date, `product_class` AS saleCol FROM (`transactions`) WHERE `trans_type` = 'E' AND `product_class` != '0' GROUP BY `format_date`, `product_class` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:14:53.073

Try this query, added `FALSE` as the second parameter in select statement

```
$this->db->select(
                  'COUNT(tran_ID) AS count, 
                   CASE WHEN MONTH(days)>=4 THEN concat(YEAR(days), "-", YEAR(days)+1)
                     ELSE concat(YEAR(days)-1, "-", YEAR(days)) 
                   END AS format_date,
                   product_class AS saleCol',FALSE); 
```

# windows - 检索 Win64 异常表中的所有条目

> ID：14254193
> 
> 赞同：2
> 
> 时间：2013-01-10T09:07:44.500
> 
> 标签：windows, delphi, winapi, exception

从[Win64 异常堆栈遍历不显示条目](https://stackoverflow.com/questions/14187450/win64-exception-stack-walking-not-displaying-entries)的一些更清晰的理解中，我希望能够从 Win64 异常表中检索所有条目 - 包括 API 调用[RtlAddFunctionTable](http://msdn.microsoft.com/en-us/library/windows/desktop/ms680588%28v=vs.85%29.aspx)和[RtlInstallFunctionTableCallback](http://msdn.microsoft.com/en-us/library/windows/desktop/ms680595%28v=vs.85%29.aspx)的任何运行时添加。

这可能来自德尔福吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T01:53:23.357

从：

```
RtlVirtualUnwind(UNW_FLAG_NHANDLER,
                   LImageBase,
                   LContext.Rip,
                   LRuntimeFunction,
                   LContext,
                   HandlerData,
                   EstablisherFrame,
                   NvContext); 
```

`HandlerData`指针包含有关异常表的编译***器/语言特定信息。***如果您颠倒一些细节`System.pas`，特别是方法`_DelphiExceptionHandler`和`FindOnExceptionDescEntry`，则可以找出每个条目的用途 - 细节与 中的`TExcScope`记录定义相反`System.pas`。

# opencl - OpenCL 中的最佳本地/全局工作量

> ID：14254194
> 
> 赞同：4
> 
> 时间：2013-01-10T09:07:48.173
> 
> 标签：opencl

我想知道如何为 OpenCL 中的不同设备选择最佳的本地和全局工作大小？AMD、NVIDIA、INTEL GPU 有什么通用规则吗？我应该分析设备的物理构造（多处理器数量、多处理器中的流处理器数量等）吗？

它取决于算法/实现吗？因为我看到一些库（如 ViennaCL）评估正确值只是测试本地/全局工作大小的许多组合并选择最佳组合。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-11T10:25:27.577

NVIDIA 建议您的（本地）工作组大小是 32 的倍数（等于一个 warp，这是它们的原子执行单元，这意味着 32 个线程/工作项被原子地调度在一起）。另一方面，AMD 建议使用 64 的倍数（等于一个波前）。不确定英特尔，但您可以在他们的文档中找到此类信息。

因此，当您进行一些计算并假设您有 2300 个工作项（全局大小）时，2300 不能被 64 或 32 整除。如果您不指定局部大小，OpenCL 将为您选择一个错误的局部大小. 当您没有作为原子执行单元倍数的本地大小时会发生什么情况，您将获得空闲线程，从而导致设备利用率不佳。因此，添加一些“虚拟”线程可能是有益的，这样您就可以获得一个 32/64 的倍数的全局大小，然后使用 32/64 的局部大小（全局大小必须可以除以局部大小）。对于 2300，您可以添加 4 个虚拟线程/工作项，因为 2304 可以被 32 整除。在实际内核中，您可以编写如下内容：

```
int globalID = get_global_id(0);
if(globalID >= realNumberOfThreads)
globalID = 0; 
```

这将使四个额外的线程与线程 0 执行相同的操作。（执行一些额外的工作通常比拥有许多空闲线程更快）。

希望能回答你的问题。GL 高频！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:12:53.280

如果您实际上是在使用很少的内存进行处理（例如存储内核私有状态），您可以为您的问题选择最直观的全局大小，让 OpenCL 为您选择本地大小。

在这里查看我的答案：[https ://stackoverflow.com/a/13762847/145757](https://stackoverflow.com/a/13762847/145757)

如果内存管理是您算法的核心部分并且会对性能产生很大影响，您确实应该走得更远，首先使用**clGetKernelWorkGroupInfo检查****最大本地大小**（取决于内核的本地/私有内存使用情况），其中本身将决定您的**全球规模**。

# mysql - mysql node js quest -- SELECT EXISTS 查询

> ID：14254197
> 
> 赞同：3
> 
> 时间：2013-01-10T09:08:04.103
> 
> 标签：mysql, node.js, select, exists

这个逻辑有什么问题？

```
var selectString = 'SELECT EXISTS(SELECT 1 FROM users WHERE user="'+username+'")';

var queryUserExists = connection.query(selectString);
var resultsLength = queryUserExists._results.length;

console.log(queryUserExists);

if(resultsLength > 0){
   socket.write("fail user already exists"+"\r\n");

} else {
    console.log('insert=');
    var query = connection.query (
        'INSERT INTO users '+
        'SET user = ?, password = ?, token = ?',
        [username, password, token]
    );

    socket.write("success"+"\r\n");
} 
```

resultsLength 始终返回零。使用此查询的正确方法是什么？

返回对象：

```
sql: 'SELECT 1 FROM users WHERE user = \'a new user is my name\' ORDER BY user LIMIT 1',
typeCast: true,
nestTables: false,
_resultSet: null,
_results: [],
_fields: [],
_index: 0,
_loadError: null } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T11:02:18.540

正确的代码：感谢[https://stackoverflow.com/users/722783/mahmoud-gamal](https://stackoverflow.com/users/722783/mahmoud-gamal)优化了数据库查询！

```
connection.query("SELECT 1 FROM users WHERE user = '"+username+"' ORDER BY user LIMIT 1", function (error, results, fields) {
if (error) {
    console.log(error);
    socket.write("fail internal error"+"\r\n");
}
if (results.length  > 0) {
    console.log('fail');
    socket.write("fail user already exists"+"\r\n");

} else {

        console.log('insert');
        var query = connection.query (
            'INSERT INTO users '+
            'SET user = ?, password = ?, token = ?',
            [username, password, token]
        );

        socket.write("success"+"\r\n");

}

console.log(results);
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:10:14.910

试试这个：

```
SELECT 1
FROM users
WHERE EXISTS (SELECT 1 
              FROM users 
              WHERE user = 'username')
ORDER BY user
LIMIT 1; 
```

**或者：**为什么不：

```
SELECT 1
FROM users
WHERE user = 'username'
ORDER BY user
LIMIT 1; 
```

**注意：**

```
ORDER BY user
LIMIT 1; 
```

只是为了性能。

# ruby-on-rails - 有没有办法根据 Rails 中的域验证注册时的电子邮件？

> ID：14254198
> 
> 赞同：0
> 
> 时间：2013-01-10T09:08:06.070
> 
> 标签：ruby-on-rails, ruby-on-rails-3

例子：

接受的扩展名：“@blogsllc.org”

使用电子邮件“joe@blogsllc.org”注册的用户将能够创建一个帐户。

想知道在 Rails 中执行此操作的最佳方法是什么，以及其他人将如何处理？我想象着尝试根据一堆正则表达式检查电子邮件地址的格式，但是随着支持的扩展列表的增加，这可能会很乏味。

另一种方法是拥有一个支持扩展的数据库，并根据数据库检查创建的电子邮件地址，以查看扩展是否被接受，但我不确定在 Rails 中实现这一点的最佳方法是什么。

我正在寻求实现类似于 Facebook 在早期所做的事情。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:10:48.857

**编辑**误解：

如果您不需要比直接匹配域（文件具有扩展名，电子邮件具有域）更花哨的东西，那么只需拆分`@`第二部分并将其与数据库列匹配是最简单的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:16:42.480

您可以添加以下代码

```
class EmailValidator < ActiveModel::EachValidator
 def validate_each(record, attribute, value)
  unless value =~ /\A([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})\z/i
   record.errors[attribute] << (options[:message] || "is not an email")
  end
 end
end

class Person < ActiveRecord::Base
 validates :email, :presence => true, :email => true
end 
```

[**此链接将很有用**](http://guides.rubyonrails.org/active_record_validations_callbacks.html)

# python - 使用 scikit-learn 在朴素贝叶斯分类器中混合分类和连续数据

> ID：14254203
> 
> 赞同：75
> 
> 时间：2013-01-10T09:08:22.983
> 
> 标签：python, machine-learning, data-mining, classification, scikit-learn

我在 Python 中使用 scikit-learn 开发一种分类算法来预测某些客户的性别。其中，我想使用朴素贝叶斯分类器，但我的问题是我混合了分类数据（例如：“在线注册”、“接受电子邮件通知”等）和连续数据（例如：“年龄”、“长度”会员资格”等）。我以前没怎么用过 scikit，但我认为高斯朴素贝叶斯适用于连续数据，而伯努利朴素贝叶斯可用于分类数据。但是，由于我想在我的模型中**同时包含**分类数据和连续数据，我真的不知道如何处理这个问题。任何想法将不胜感激！

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2013-01-10T10:07:55.673

你至少有两个选择：

*   通过计算每个连续变量的百分位数，然后使用百分位数作为分箱边界对连续变量进行分箱，将所有数据转换为分类表示。例如，对于一个人的身高，创建以下箱：“非常小”、“小”、“常规”、“大”、“非常大”，确保每个箱包含大约 20% 的训练集人口。我们没有任何实用程序可以在 scikit-learn 中自动执行此操作，但您自己做应该不会太复杂。然后在您的数据的这些分类表示上拟合一个唯一的多项式 NB。

*   在数据的连续部分独立拟合高斯 NB 模型，在分类部分独立拟合多项式 NB 模型。然后通过将类分配概率（使用`predict_proba`方法）作为新特征来转换所有数据集：`np.hstack((multinomial_probas, gaussian_probas))`然后在新特征上重新拟合一个新模型（例如一个新的高斯 NB）。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2019-10-17T08:22:44.563

希望我不会太晚。我最近用 NumPy 编写了一个名为 Mixed Naive Bayes 的库。它可以假设训练数据特征上混合了高斯和分类（multinoulli）分布。

[https://github.com/remykarem/mixed-naive-bayes](https://github.com/remykarem/mixed-naive-bayes)

该库的编写使得 API 类似于[scikit-learn](http://scikit-learn.org)的。

在下面的示例中，假设前 2 个特征来自分类分布，后 2 个特征是高斯分布。在`fit()`方法中，只需指定`categorical_features=[0,1]`，表示第 0 列和第 1 列服从分类分布。

```
from mixed_naive_bayes import MixedNB
X = [[0, 0, 180.9, 75.0],
     [1, 1, 165.2, 61.5],
     [2, 1, 166.3, 60.3],
     [1, 1, 173.0, 68.2],
     [0, 2, 178.4, 71.0]]
y = [0, 0, 1, 1, 0]
clf = MixedNB(categorical_features=[0,1])
clf.fit(X,y)
clf.predict(X) 
```

Pip 可通过`pip install mixed-naive-bayes`. 有关 README.md 文件中的用法的更多信息。非常感谢拉取请求:)

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2015-12-02T06:28:46.527

简单的答案：乘以结果！一样的。

朴素贝叶斯基于应用贝叶斯定理和每对特征之间独立性的“朴素”假设——这意味着你计算贝叶斯概率取决于特定特征而不保留其他特征——这意味着算法将来自一个特征的每个概率乘以第二个特征的概率（我们完全忽略了分母——因为它只是一个归一化器）。

所以正确的答案是：

1.  从分类变量计算概率。
2.  从连续变量计算概率。
3.  乘以 1 和 2。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-06-03T09:29:50.477

@Yaron 的方法需要一个额外的步骤（下面的 4.）：

1.  根据分类变量计算概率。
2.  从连续变量计算概率。
3.  乘以 1\. 和 2. **AND**
4.  将 3\. 除以 1\. 和 2 的乘积之和。**编辑：**我的实际意思是分母应该是（给定低血压的事件概率为*是*）+（给定低血压的证据概率为*否*）（假设一个二元问题，不失一般性）。因此，给定证据的假设（*是*或*否*）的概率总和为 1。

步骤 4\. 是标准化步骤。以@remykarem`mixed-naive-bayes`为例（[第 268-278 行](https://github.com/remykarem/mixed-naive-bayes/blob/94034528f7169a84c46977d66ea34ca4dd86dc2f/mixed_naive_bayes/mixed_naive_bayes.py#L268-L278)）：

```
 if self.gaussian_features.size != 0 and self.categorical_features.size != 0:
            finals = t * p * self.priors
        elif self.gaussian_features.size != 0:
            finals = t * self.priors
        elif self.categorical_features.size != 0:
            finals = p * self.priors

        normalised = finals.T/(np.sum(finals, axis=1) + 1e-6)
        normalised = np.moveaxis(normalised, [0, 1], [1, 0])

        return normalised 
```

高斯和分类模型的概率（`t`和`p`分别）在第 269 行（上面摘录中的第 2 行）中相乘，然后在第 275 行（上面摘录中从底部的第四行）中的 4\. 中进行归一化。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-10-07T13:31:45.430

对于混合功能，您可以检查[此](https://github.com/ashkonf/HybridNaiveBayes)实现。

作者在他的[Quora 回答](https://qr.ae/pGJqfF)中提出了数学证明，您可能想检查一下。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-11-11T13:35:27.350

您将需要以下步骤：

1.  从分类变量计算概率（使用`predict_proba`方法 from `BernoulliNB`）
2.  从连续变量计算概率（使用`predict_proba`方法 from `GaussianNB`）
3.  乘以 1\. 和 2\. AND
4.  **除以先验**（来自`BernoulliNB`或来自，`GaussianNB`因为它们相同）然后
5.  将 4 除以 4 的总和（在类上）。这是标准化步骤。

应该很容易看出如何添加自己的先验而不是使用从数据中学到的先验。

# opengl-es - WebGL 锯齿状边缘（抗锯齿）

> ID：14254204
> 
> 赞同：3
> 
> 时间：2013-01-10T09:08:30.657
> 
> 标签：opengl-es, webgl, antialiasing, multisampling

所以我目前只使用顶点和颜色数据（没有索引，没有纹理）渲染我的地形，也许当我稍后添加纹理时，问题会自行解决。无论是远距离还是近距离，我似乎都在地形边缘与背景相遇的地方出现锯齿状边缘。

看起来这个问题可以通过使用抗锯齿/多重采样来解决，但我的印象是，通过使用默认参数设置 WebGL 上下文，它将默认使用抗锯齿，所以这应该不是问题。

* * *

问题如下：

![例子](../Images/7cebb6fccf13b9768f24f3b421de2e55.png)

* * *

这是我的上下文初始化代码：

```
gl = WebGLUtils.setupWebGL(canvas);
if (!gl) {
  return;
}
gl.viewportWidth = canvas.width;
gl.viewportHeight = canvas.height;
gl.clearColor(0.0, 0.0, 0.0, 1.0);
gl.enable(gl.DEPTH_TEST); 
```

通过不向 setupWebGL 传递其他选项，我假设它将使用使用抗锯齿的默认设置...

* * *

这是适用的初始化代码：

```
this.buffers['Position'] = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, this.buffers[attrib]);
gl.bufferData(gl.ARRAY_BUFFER, this.getData(attrib), gl.STATIC_DRAW);

this.buffers['Color'] = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, this.buffers[attrib]);
gl.bufferData(gl.ARRAY_BUFFER, this.getData(attrib), gl.STATIC_DRAW); 
```

* * *

这是适用的绘图代码：

```
gl.bindBuffer(gl.ARRAY_BUFFER, this.buffers['Position']);
gl.vertexAttribPointer(
  this.shader.getAttribute('Position'),
  this.getItemSize('Position'),
  gl.FLOAT,
  false,
  0,
  0
);
gl.bindBuffer(gl.ARRAY_BUFFER, this.buffers['Color']);
gl.vertexAttribPointer(
  this.shader.getAttribute('Color'),
  this.getItemSize('Color'),
  gl.FLOAT,
  false,
  0,
  0
);
gl.drawArrays(gl.TRIANGLES, 0, this.getNumItems()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T07:27:06.190

我使用的硬件（MacBook Air，Intel HD 4000）上的 WebGL 中似乎强制禁用了抗锯齿功能。

# javascript - 当在 application.create() 之外创建数据时，将数据加载到 ember 路由器的根路由中

> ID：14254210
> 
> 赞同：1
> 
> 时间：2013-01-10T09:09:08.923
> 
> 标签：javascript, ember.js

当您想使用`Em.Application.create()`在路由器中创建的类时，您需要在 application.create 之外指定路由器。但是因为应用程序是自动初始化的，所以路由器不会路由到`/`路由。

您过去可以通过添加`autoinit: false`到 application.create 来推迟初始化。现在你应该使用`App.deferReadiness()`and `App.advanceReadiness()`。但是，这似乎不起作用。

而且我似乎无法摆脱您“应该”以不同方式做事的感觉。

我添加了最少的代码来显示下面的问题。[这里](http://jsfiddle.net/NXA2S/6/)还有一个jsfiddle

**编辑：**

显然 ember 中有一个新路由器，我有点忽略了这一点。我已将代码更改为新路由器，但猜猜它仍然无法正常工作：P

```
window.App = App = Em.Application.create({
    ApplicationController: Em.Controller.extend({}),

    ApplicationView: Em.View.extend({
        template: Em.Handlebars.compile('{{outlet}}'),
    }),

    ExtendedPatientController: Em.ObjectController.extend({}),

    ExtendedPatientView: Em.View.extend({
        classNames: ['patient-view', 'extended'],
        template: Em.Handlebars.compile('{{name}}')
    }),

    Patient: Em.Object.extend({
        name: undefined,
    }),
});

App.Router.map(function (match) {
  match('/').to('application', function (match) {
    match('/').to('extendedPatient');
  })
});

App.deferReadiness();

App.ExtendedPatientRoute = Em.Route.extend({
  setupController: function (controller) {
    controller.set('', App.Patient.create({
      name: "Bert"
    }));
  },
  renderTemplates: function () {
    this.render('extendedPatient', {
      into: 'application'
    });
  }
});

App.advanceReadiness(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T07:12:21.263

实际上，您在这里做的工作比您需要做的**要多得多。**

这是使示例工作所需的所有代码。

模板：

```
<script type="text/x-handlebars" data-template-name="index">
  <div class="patient-view extended">
    <p>Name: {{name}}</p>
  </div>
</script> 
```

应用程序：

```
window.App = Em.Application.create();

App.Patient = Em.Object.extend({
  name: null
});

App.IndexRoute = Em.Route.extend({
  model: function() {
    return App.Patient.create({
      name: "Bert"
    });
  }
}); 
```

工作小提琴位于：http: [//jsfiddle.net/NXA2S/23/](http://jsfiddle.net/NXA2S/23/)

让我解释一下：

*   当您前往 时`/`，您正在进入自动`index`路线。要在屏幕上显示该路线的内容，您需要做的就是实现一个`index`模板。当您启动并运行时，最简单的方法是将您的模板放入您的`index.html`. 稍后，您可能会想要使用构建工具（有关更多信息，请参阅[我的答案](https://stackoverflow.com/questions/14271651/define-application-template-in-ember-view-in-the-most-recent-ember-js-build/14273004#14273004)）。
*   `model`您可以通过覆盖路由处理程序中的钩子来控制在路由模板中显示的模型。在 的情况下`index`，路由处理程序是`App.IndexRoute`。在这种情况下，模型是全新的`App.Patient`。

您可能想要实现控制器和事件。[您可以在 Ember.js 网站](http://emberjs.com/guides/routing/)上了解有关路由器的更多信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T17:25:50.310

所以新路由器确实解决了这个问题，并且感觉有点光亮。

我终于找到了如何做这个基本示例，这就是路由器中发生的事情：

```
App.Router.map(function (match) {
  match('/').to('extendedPatient');
}); 
```

这需要在视图中发生：

```
ExtendedPatientView: Em.View.extend({
    classNames: ['patient-view', 'extended'],
    //You need to specify the defaultTemplate because you extend the view class
    //instead on initializing it.
    defaultTemplate: Em.Handlebars.compile('{{name}}')
}), 
```

您不必推迟新路由器修复的应用程序中的准备情况。

在路由中你不需要指定，`renderTemplates`所以路由器现在看起来像：

```
App.ExtendedPatientRoute = Em.Route.extend({
  setupController: function (controller) {
    controller.set('content', App.Patient.create({
      name: "Bert"
    }));
  },
}); 
```

[http://jsfiddle.net/NXA2S/28/](http://jsfiddle.net/NXA2S/28/)

# iphone - 数组中的 UIGridView

> ID：14254211
> 
> 赞同：2
> 
> 时间：2013-01-10T09:09:14.693
> 
> 标签：iphone, ios, xml, gridview

我正在使用 [`UIGridView`Repo](https://github.com/tanin47/UIGridView)从提要中创建图像的网格视图。但是当我使用以下代码时，我会得到相同的图像填充所有网格。

```
-(UIGridViewCell *) gridView:(UIGridView *)grid cellForRowAt:(int)rowIndex AndColumnAt:(int)columnIndex
{
Cell *cell = (Cell *)[grid dequeueReusableCell];

if (cell == nil) {
    cell = [[Cell alloc] init];
}

NSString *imageLink = [item objectForKey:@"link"];

NSURL * imageURL = [NSURL URLWithString:imageLink];
NSData * imageData = [NSData dataWithContentsOfURL:imageURL];
UIImage * image = [UIImage imageWithData:imageData];

cell.thumbnail.image = image;
return cell;
} 
```

如何用数组中的所有图像填充网格？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:38:41.463

在您的`gridView's cellForRowAt`方法中，您`same image link`对所有`UIGridViewCell`.

`Get different link`从`feed`并取决于`rowIndex and column index`使用`different image`

**编辑**：例如我假设你有 4 行图像

```
 int column = 4;
 int row = totalImage / column;

 for(int i=1; i<=totalImage; i++)
 {
    for(int j=1; j<=row; j++)
    {
       for(int m=1; m<=column; m++)
       {
          // j and m 's image
       }
    }
 } 
```

# xml - XML 无效 DTD 错误

> ID：14254213
> 
> 赞同：2
> 
> 时间：2013-01-10T09:09:27.513
> 
> 标签：xml, validation, dtd

.

**在线验证：http:** [//xmlvalidator.new-studio.org](http://xmlvalidator.new-studio.org)

[**XML 文档**](http://pastebin.com/UkEt0mT3 "带有嵌入式 DTD 的 XML 文档") *（也显示在下方）*

## 问题 1

当我取消注释以下行号时。4

```
<!ELEMENT persona (#PCDATA|(name,dob?,address*)) > 
```

并评论以下行号。5

```
<!ELEMENT persona (name,dob?,address*) > 
```

为什么会显示以下错误？

*   第 4 行第 28 列：元素类型“persona”的声明中需要元素类型。

*在这里，我希望用户可以使用可解析的字符串，也可以编写姓名、dob 和地址标签并在其中写入信息。*

## 问题2

当我将编码从“ISO-8859-1”替换为“utf-8”，并在浏览器（谷歌浏览器）中加载页面时；它显示以下错误。

```
error on line 2 at column 21: Encoding error 
```

*但验证成功& OK。*

**为什么会显示该错误？** 哪种编码好？

## 带有嵌入式 DTD 的 XML 文档

```
<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE personality [
<!ELEMENT personality (persona*) >
<!-- <!ELEMENT persona (#PCDATA|(name,dob?,address*)) > -->
<!ELEMENT persona (name,dob?,address*) >
<!-- <!ELEMENT name (#PCDATA|(first_name,last_name)) > -->
<!ELEMENT name (first_name,last_name) >
<!ELEMENT first_name (#PCDATA) >
<!ELEMENT last_name (#PCDATA) >
<!ELEMENT dob (date+,month+,year+) >
<!ELEMENT date (#PCDATA) >
<!ELEMENT month (#PCDATA) >
<!ELEMENT year (#PCDATA) >
<!ELEMENT address (building,street,city,state,country,country_code) >
<!ELEMENT building (#PCDATA) >
<!ELEMENT street (#PCDATA) >
<!ELEMENT city (#PCDATA) >
<!ELEMENT state (#PCDATA) >
<!ELEMENT country (#PCDATA) >
<!ELEMENT country_code (#PCDATA) >

<!ATTLIST persona id ID #REQUIRED >
<!ATTLIST name type (string|number) "string" >
<!ATTLIST dob type (string|number) "number" >
<!ATTLIST address type (string|number) "string" >

<!ENTITY author "Miguel Pitts" >
<!ENTITY website "example.com" >
<!ENTITY email "miguelpitts4MN@teleosaurs.xyz" >
<!ENTITY copyright "Copyright © Miguel Pitts" >

]>

<?xml-stylesheet type="text/css" href="xmlstyle.css" ?>

<personality>
    <persona id="p1">
        <name type="string">
            <first_name>Miguel</first_name>
            <last_name>Pitts</last_name>
        </name>
        <dob type="number">
            <date>12</date>
            <month>02</month>
            <year>1989</year>
        </dob>
        <address type="string">
            <building>1233</building>
            <street>15</street>
            <city>NY</city>
            <state>Bangkok</state>
            <country>China</country>
            <country_code>82</country_code>
        </address>
    </persona>
</personality> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T03:16:06.057

*在这里，我希望用户可以使用可解析的字符串，也可以编写姓名、dob 和地址标签并在其中写入信息。*

可以理解，但 XML 规范不允许（出于 Nic Gibson 在[另一个 SO question](https://stackoverflow.com/questions/4433285/dtd-and-mixed-content/4436609#4436609)中概述的原因）。最好的办法是稍微重新设计 XML；例如，您可以声明

```
<!ELEMENT persona (str | (name,dob?,address*) ) >
<!ELEMENT str (#PCDATA) > 
```

或者你可以声明

```
<!ELEMENT persona_simple (#PCDATA) >
<!ELEMENT persona_struct (name,dob?,address*) > 
```

*为什么会显示该错误？哪种编码好？*

这些是技巧问题吗？它显示该错误，因为它检测到输入的字符编码不可能是声明的字符编码。通过“哪种编码好？” 我假设您的意思是“我应该在文档的编码声明中命名哪种编码？” - 该问题的答案是“您在文档中使用的编码”。如果您要问这个问题，我想您不确定您的文档实际使用的是哪种编码；从您描述的行为来看，看起来该文档实际上不是使用 UTF-8 而是使用 ISO 8859 第 1 部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:34:14.357

更改您的角色元素，如下所示

```
<!ELEMENT persona (#PCDATA | name | dob | address)* > 
```

[供你参考](http://www.featureblend.com/dtd-elements-mixed-content.html)

# c++ - 错误：从 'int' 到 'const char*' 的无效转换

> ID：14254215
> 
> 赞同：1
> 
> 时间：2013-01-10T09:09:43.343
> 
> 标签：c++, printf

我有一个 C++ 程序：

```
#include <iostream>
using namespace std;
int main (){
    char x [10] = "abc";
    system (sprintf ("mkdir ", "%s", x));    //error happens here, can't 
                                             //convert int to const char*
    return 0;
} 
```

结果是：

```
sys.c:8:37: error: invalid conversion from ‘int’ to ‘const char*’ 
```

我在哪里将 int 转换为 char？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:12:53.383

system 需要一个 const char * 作为输入，而 sprintf 返回一个 int。这是导致您错误的问题。此外， sprintf 的第一个参数必须是一个足够大的可写缓冲区。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:46:37.587

I know that the question has been answered already, but I wanted to share another approach to this, and it's too verbose for a comment :)

short example:

```
#include <cstdio>
#include <cstdlib>

int main()
{
    char x[] = "yourdirectory";
    /* len will contain the length of the string that would have been printed by snprintf */
    int len = snprintf(0, 0, "mkdir %s", x);

    /* casting the result of calloc to (char*) because we are in C++ */
    char *buf = (char*)calloc(len + 1, sizeof(char)); 
    /* fail if the allocation failed */
    if(!buf)
        return -1;

    /* copy to buffer */
    snprintf(buf, len + 1, "mkdir %s", x);

    /* system is evil :( */
    system(buf);

    return 0;
} 
```

since snprintf returns the number of characters that would have been printed, giving it a length of 0 will tell you how large a buffer you have to allocate for the command.

this code will also work with arbitrary directories given by a user and will not suffer from input truncation of buffer overruns.

Take care :)

EDIT: of course, system is still evil and should never be used in "real" code ;)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:17:03.347

来自[sprintf](http://www.cplusplus.com/reference/cstdio/sprintf/)文档

> ## 冲刺
> 
> ```
> int sprintf ( char * str, const char * format, ... ); 
> ```
> 
> sprintf() 将格式化数据写入字符串。
> 
> 如果在 printf 上使用 format ，则使用相同的文本组成一个字符串，但不是打印，而是将**内容作为 C 字符串存储在 str 指向的缓冲区中**。
> 
> **str** - **指向存储结果 C 字符串的缓冲区的指针**。缓冲区应该足够大以包含结果字符串。

`sprintf` writes to the first argument, and in your case the first argument is a [string literal](https://stackoverflow.com/questions/4493139/are-string-literals-const) .

Also as other answer points out, sprintf returns `int` and `system()` [expects](http://linux.die.net/man/3/system) `const char*`

# c# - 我可以在当前线程中添加关闭事件吗

> ID：14254217
> 
> 赞同：0
> 
> 时间：2013-01-10T09:09:50.297
> 
> 标签：c#, multithreading

有什么方法可以将事件添加到线程结束时执行的当前线程。

我有一个解决方案，我们创建了我们想要重用的资源，但仍然需要在线程结束时处理以防止泄漏，我不能相信每个人都会勤奋地向他们的代码添加手动处理调用。

我可以在线程周围使用包装器来做到这一点，但这不是一个可靠的解决方案，因为我无法 100% 确定每个人都会使用包装器，有时可能需要将其添加到现有线程中。

所以我需要我的资源能够添加一个 dispose 事件，以便在胎面完成时调用。

这在 C# 中可能吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:34:53.367

> 有什么方法可以在线程结束时将事件添加到当前执行的线程中？

不，框架中没有您可以订阅的事件。

正如您所说，一种解决方案是用一个`try / finally`块包装线程主方法。

* * *

另一种解决方案是依赖 GC。如果有人忘记调用`Dispose`，析构函数仍会在对象超出范围后被调用——不过，它将在终结器线程上调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:41:36.507

如果您预计开发人员可能会忘记调用`Dispose()`对象，则可以使用另一种模式来强制他们调用此类方法。这受到数据库事务如何工作的启发。

这个想法是您使用公开两种方法的对象。`Complete()`和`RollBack()`。在对象生命周期结束时，开发人员需要调用`Complete()`工作。如果他不遵守，对象的析构函数（或`Dispose()`）将调用`RollBack()`. 在 .NET`TransactionScope`中的类就是一个很好的例子。

在您的情况下，您需要将线程对象封装在此类中。调用者不直接处理线程对象，而是处理这个类对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:00:33.133

我们都在这里谈论同一个.net吗？只是暗示`Finalize`

[http://msdn.microsoft.com/en-us/library/b1yfkh5e(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/b1yfkh5e(v=vs.100).aspx)

[http://msdn.microsoft.com/en-us/library/66x5fx1b.aspx](http://msdn.microsoft.com/en-us/library/66x5fx1b.aspx)

这是在清除资源时告诉“GC”执行一些附加操作的方法。

# sql - ORACLE 特别加入

> ID：14254218
> 
> 赞同：0
> 
> 时间：2013-01-10T09:09:53.477
> 
> 标签：sql, oracle

让我试着解释一下这个场景。我有两个表 A（列 - A1、A2、A3）和 B（列 - B1、B2、B3）。我需要在 A1.B2 上将表 A 与表 B 连接起来。对于每个连接，表 B 有一个或两个具有不同 B3 值的记录（X 或 Y）。我想编写一个查询，其中 JOIN 查询需要选择 B3=X 的行（如果没有其他 B3=Y 的行）；如果存在两行（B3=X & B3=Y），则查询只需选择 B3=Y 的行（忽略 B3=X 的行）。

让我试着给表格一些价值并解释更多。

```
表 A
********
A1 A2 A3
1 11 111
2 22 222
3 33 333
4 44 444

表 B
********
B1 B2 B3
6 1 X
7 1 是
8 2 X
9 3 X
10 3 是
11 4 X

再次.. JOIN 在 A1.B2 上。结果应该如下，

加入结果
*************
A1 A2 A3 B1 B2 B3
1 11 111 7 1 是
2 22 222 8 2 X
3 33 333 10 3 是
4 44 444 11 4 X

```

如果你们对我的问题有任何澄清，请告诉我。

提前致谢。瑜伽士

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:39:25.303

`ROW_NUMBER`如果您按连接列分区并按“选择顺序”列排序，则可以使用函数从表 B 中选择行：

```
SELECT b1, b2, b3,
       ROW_NUMBER() OVER (PARTITION BY b2 ORDER BY b3 DESC) as rn
  FROM b;

1 Y 1
1 X 2
2 X 1
3 Y 1
3 X 2
4 X 1 
```

然后您可以过滤第一行，即`rn=1`：

```
SELECT b1, b2, b3
  FROM (SELECT b1, b2, b3,
               ROW_NUMBER() OVER (PARTITION BY b2 ORDER BY b3 DESC) as rn
          FROM b)
 WHERE rn=1;

7  1 Y
8  2 X
10 3 Y
11 4 X 
```

然后可以将过滤后的行连接到表 a：

```
SELECT *
  FROM a 
  JOIN (
        SELECT b1, b2, b3
          FROM (SELECT b1, b2, b3,
                       ROW_NUMBER() OVER (PARTITION BY b2 ORDER BY b3 DESC) as rn
                  FROM b
                )
          WHERE rn=1
       ) bfilter  ON a.a1 = bfilter.b2;

1 11 111  7 1 Y
2 22 222  8 2 X
3 33 333 10 3 Y
4 44 444 11 4 X 
```

如果 'X' 和 'Y' 不是实际值，您可以使用语句扩展`ORDER`子句`CASE`以允许一般值：

```
 ROW_NUMBER() OVER (PARTITION BY b2 ORDER BY 
   CASE b3 WHEN 'Y' THEN 1
           WHEN 'X' THEN 2
           ...
    END ASC) 
```

编辑：

```
 SELECT a1, a2, a3, b1, b2, b3
   FROM (
         SELECT a1, a2, a3, b1, b2, b3,
                ROWNUMBER() OVER (PARTITION BY a1 ORDER BY 
                   CASE WHEN a2=... AND b3=... THEN 1
                        WHEN a2=... AND b3=... THEN 2
                        ...
                   END ASC)
          FROM a JOIN b ON a.a1 = b.b2
        ) 
  WHERE rn = 1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:24:19.057

您可以按如下方式使用左外连接

```
select A.A1, A.A2, A.A3, 
nvl(BT1.B1, BT2.B1), 
nvl(BT1.B2, BT2.B2),
nvl(BT1.B3, BT2.B3) from A 
left outer join B BT1 on A.A1 = BT1.B2 and BT1.B3 = 'Y'
left outer join B BT2 on A.A1 = BT2.B2 and BT2.B3 = 'X' 
```

各种连接的一个很好的解释是[http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:19:56.227

这是，我会怎么做：

*   加入
*   按 B2 分组
*   取最大值（B3）

这样，当没有可用的字母顺序较高的值 (Y) 时，您可以确保仅选择 X

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-01T13:44:16.227

与联合

```
select a.*,b.* from a,b
where a.a1=b.b2
and b.b3='Y'
union
select a.*,b.* from a,b
where a.a1=b.b2
and not exists (select bb.br from b bb where bb.b2=a.a1 and bb.b3='Y') 
```

没有 UNION

```
select a.*,b.* from a,b
where a.a1=b.b2
and (b.b3='Y'
or not exists (select bb.b3 from b bb where bb.b2=a.a1 and bb.b3='Y')) 
```

这里的约束是 B 对于每个 A 的行恰好有 1 或 2 行

# javascript - 用于在 HTML 更改时更新选择器的 jQuery 设计模式

> ID：14254220
> 
> 赞同：0
> 
> 时间：2013-01-10T09:09:58.110
> 
> 标签：javascript, jquery

我正在寻找一些关于使我的 jQuery 选择器更具可配置性的建议。例如，给定以下由 PHP 生成的 HTML：

```
<ul id="my-list">
    <li>first</li>
    <li>second</li>
</ul> 
```

还有一点 jQuery：

```
$(function() {
    $(document).on("click", "#my-list li", function() {
        alert("You clicked " + $(this).text());
    });
}); 
```

到目前为止一切顺利，但有一天设计师出现并将id“my-list”重命名为“list-of-numbers”，javascript停止工作。目前，解决方案是*记住*通过 grep 代码来查找对“my-list”的任何引用，但这是非常错误的。是否有用于使选择器可配置的 jQuery 设计模式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:18:10.820

这可以称为“选择器选择”。您可以定义一组包含选择器的变量作为解决方案：

```
var selectors = { myLi: "#my-list li",
                  myUl: "#my-div ul" }; 
```

然后您可以简单地进行对象查找以获取选择器：

```
$(selectors.myLi); 
```

这具有可读性和动态性的优点；但是，在您更改 . 的示例场景中`ID`，除非在代码中的某处明确指出需要更改，否则这不会很有帮助。

您可能需要考虑进行一些[委派](http://api.jquery.com/delegate/)并使用自定义[数据属性](http://ejohn.org/blog/html-5-data-attributes/)来定义角色。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:14:14.263

在 JS 代码的开头定义一组选择器（不要忘记为您使用的内容添加注释）：

```
var selectors = {
  'listSelector':'#my-list li' /* DESC */,
  'nextSelector': '.whatever'
} 
```

并在您的查询中使用它们：

```
 $(document).on("click", selectors.listSelector, function() {
    alert("You clicked " + $(this).text());
 }); 
```

# iphone - 滚动时大型 UICollectionViewCell 停止显示

> ID：14254222
> 
> 赞同：19
> 
> 时间：2013-01-10T09:10:06.503
> 
> 标签：iphone, ios, uicollectionview

`UICollectionView`与此处描述的相同行为导致了[这个问题](https://stackoverflow.com/questions/13016302/large-cells-in-a-uicollectionview-getting-removed-while-the-cell-is-still-displa)。即使我决定发布我自己的，因为我做了进一步的调查，我不想在评论或编辑上述问题时发表。

**怎么了？：**

当大单元格显示在 a`UICollectionView`中时`UICollectionViewFlowLayout`，将集合视图滚动到某个偏移量后，单元格将消失。

当进一步滚动直到另一个单元格进入可见区域时，消失/隐藏的单元格再次变得可见。

我使用垂直滚动集合视图和全角单元格进行了测试，但我很确定，类似的水平滚动设置也会发生这种情况。

**什么是大细胞？：**

所描述的行为发生在高于显示高度两倍的单元格（`960.f + 1.f`在 3,5 英寸显示器上，`1136.f + 1.f`在 4 英寸上）。

**究竟会发生*什么*？：**

当集合视图的滚动偏移量超过`cell.frame.origin.y + displayHeightOfHardware`单元格隐藏属性设置为`YES`并被调用（例如，当到达3.5 英寸 iPhone`-collectionView:didEndDisplayingCell:forItemAtIndexPath:`时，第一个单元格变为隐藏）。`scrollingOffset.y``481.f`

如上所述，当滚动到下一个单元格进入视图时，隐藏单元格会再次显示（即隐藏属性更改为`NO`），此外，当滚动足够远时，单元格将永远不会再次消失，而它不应该再次消失，无论你在哪里滚动到。

当使用大于 Triple-display-height ( `1441.f/1705.f`) 的单元格时，这种情况会发生变化。这些显示相同的行为，但无论它们向上和向下滚动多远，它都保持不变。

**还有什么？：**

这种情况不能通过覆盖`-(BOOL)shouldInvalidateLayoutForBoundsChange:(CGRect)newBounds`返回来解决`YES`。

单元格在隐藏后无法通过以`NO`编程方式设置隐藏属性来强制显示（`didEndDisplayingCell`例如）

**那么，问题是什么？：**

我很确定，这是一个错误，`UICollectionView/Controller/Cell/Layout`我将在 Apple 提交 TSI。但与此同时：**有没有人对快速破解解决方案有任何想法**？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T13:58:55.327

对于这个问题，我有一个非常肮脏和内部的解决方案：

```
@interface UICollectionView ()
- (CGRect)_visibleBounds;
@end

@interface MyCollectionView : UICollectionView

@end

@implementation MyCollectionView

- (CGRect)_visibleBounds {
    CGRect rect = [super _visibleBounds];
    rect.size.height = [self heightOfLargestVisibleCell];
    return rect;
}

- (float)heightOfLargestVisibleCell {
    // do your calculations for current max cellHeight and return it 
    return 1234;
}

@end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T15:45:02.933

我有一个似乎对我有用的解决方法，不应该违反 Apple 的 iOS 应用程序规则。

关键是观察到大细胞边界是问题所在。我通过确保单元格的一个边缘位于可滚动内容区域的可视区域内来解决这个问题。您显然需要根据您的需要对 UICollectionViewFlowLayout 类或 UICollectionViewLayout 进行子类化，并使用 contentOffset 值来跟踪您在 UIScrollView 中的位置。

我还必须确保：

```
- (BOOL)shouldInvalidateLayoutForBoundsChange:(CGRect)newBounds 
```

返回 YES 或面临指示布局无效的运行时异常。在我的例子中，我保持较大单元格的边缘绑定到左边缘。这样，您可以避免对这些较大的单元格进行错误的边界交叉检测。

这确实会创建更多工作，具体取决于您希望如何呈现单元格的内容，因为滚动时单元格的宽度/高度正在更新。就我而言，单元格内的子视图相对简单，不需要太多的摆弄。

按照这里的要求是我的一个例子`layoutAttributesInRect`

```
- (NSArray *)layoutAttributesForElementsInRect:(CGRect)rect
{
    NSMutableArray* attributes = [NSMutableArray array];
    NSArray *vertical = myVerticalCellsStore.cells;
    NSInteger startRow = floor(rect.origin.y * (vertical.count)/ (vertical.count * verticalViewHeight + verticalViewSpacing * 2));
    startRow = (startRow < 0) ? 0 : startRow;

    for (NSInteger i = startRow; i < vertical.count && (rect.origin.y + rect.size.height >= i * verticalViewHeight); i++) {
        NSArray *horizontals = myHorizontalStore.horizontalCells;
        UICollectionViewLayoutAttributes *verticalAttr = [self layoutAttributesForSupplementaryViewOfKind:@"vertical" atIndexPath:[NSIndexPath indexPathForItem:0 inSection:i]];
        if (CGRectIntersectsRect(verticalAttr.frame, rect)) {
            [attributes addObject:verticalAttr];
        }

        BOOL foundAnElement = NO;
        for (NSInteger j = 0 ; j < horizontals.count; j++) {
            MYViewLayoutAttributes *attr = (MyViewLayoutAttributes *)[self layoutAttributesForItemAtIndexPath:[NSIndexPath indexPathForItem:j inSection:i]];
            if (CGRectIntersectsRect(rect, attr.frame)) {
                [attributes addObject: attr];
                foundAnElement = YES;
            }
            else if (foundAnElement) {
                break;
            }
        }
    }
    return attributes;
} 
```

这是我的净化代码。基本上我计算的是第一个单元格应该基于单元格高度。在我的情况下，这是固定的，所以计算很容易。但是我的水平元素有不同的宽度。所以内部循环实际上是关于找出正确数量的水平单元格以包含在属性数组中。我正在使用`CGRectIntersectsRect`来确定单元格是否相交。然后循环继续进行，直到交叉点失败。如果至少找到一个水平单元格，则循环将中断。希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-16T23:00:06.943

我发现这个问题只发生在使用子类 UICollectionViewLayoutAttributes 并且该属性类没有正确的 isEqual: 方法时。

例如：

```
@implementation COGridCollectionViewLayoutAttributes
- (id)copyWithZone:(NSZone *)zone
{
    COGridCollectionViewLayoutAttributes *attributes = [super copyWithZone:zone];
    attributes.isInEditMode = _isInEditMode;
    return attributes;
}

- (BOOL)isEqual:(id)other {
    if (other == self) {
        return YES;
    }
    if (!other || ![[other class] isEqual:[self class]]) {
        return NO;
    }
    if ([((COGridCollectionViewLayoutAttributes *) other) isInEditMode] != [self isInEditMode]) {
        return NO;
    }

    return [super isEqual:other];
}

@end 
```

工作但最初我有：

```
return YES; 
```

这是在 iOS 7 上。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-23T18:43:03.810

我的解决方案与乔纳森的解决方案基本相同，但属于一个类别，因此您不必使用自己的子类。

```
@implementation UICollectionView (MTDFixDisappearingCellBug)

+ (void)load {
    NSError *error = nil;
    NSString *visibleBoundsSelector = [NSString stringWithFormat:@"%@isib%@unds", @"_v",@"leBo"];

    if (![[self class] swizzleMethod:NSSelectorFromString(visibleBoundsSelector) withMethod:@selector(mtd_visibleBounds) error:&error]) {
        FKLogErrorVariables(error);
    }
}

- (CGRect)mtd_visibleBounds {
    CGRect bounds = [self mtd_visibleBounds]; // swizzled, no infinite loop
    MTDDiscussCollectionViewLayout *layout = [MTDDiscussCollectionViewLayout castedObjectOrNil:self.collectionViewLayout];

    // Don`t ask me why, but there's a visual glitch when the collection view is scrolled to the top and the max height is too big,
    // this fixes it
    if (bounds.origin.y <= 0.f) {
        return bounds;
    }

    bounds.size.height = MAX(bounds.size.height, layout.maxColumnHeight);

    return bounds;
}

@end 
```

# javascript - 什么时候需要在 Javascript 中设置类的 'prototype.constructor' 属性？

> ID：14254224
> 
> 赞同：5
> 
> 时间：2013-01-10T09:10:11.297
> 
> 标签：javascript, prototypal-inheritance

> **可能重复：**
> [Javascript 构造函数属性的意义是什么？](https://stackoverflow.com/questions/4012998/what-it-the-significance-of-the-javascript-constructor-property)

在 developer.mozilla.org 的 Javascript[文档](https://developer.mozilla.org/en-US/docs/JavaScript/Introduction_to_Object-Oriented_JavaScript)中，关于继承的主题有一个例子

```
// inherit Person
Student.prototype = new Person();

// correct the constructor pointer because it points to Person
Student.prototype.constructor = Student; 
```

我想知道为什么要在这里更新原型的构造函数属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:10:34.663

**每个**函数都有一个`prototype`属性（即使你没有定义它），`prototype`对象有唯一的属性`constructor`（指向一个函数本身）。因此，在你做了`Student.prototype = new Person();` `constructor`属性`prototype`指向`Person`函数之后，你需要重新设置它。

您不应该将其视为`prototype.constructor`神奇的东西，它只是指向函数的指针。即使您跳过 line `Student.prototype.constructor = Student;`line`new Student();`也会正常工作。

`constructor`属性很有用，例如在以下情况下（当您需要克隆对象但不确切知道创建它的函数时）：

```
var st = new Student();
...
var st2 = st.constructor(); 
```

所以最好确保`prototype.constructor()`是正确的。

# ruby-on-rails - 错误凭据时设计守望者 401 未经授权

> ID：14254227
> 
> 赞同：9
> 
> 时间：2013-01-10T09:10:26.097
> 
> 标签：ruby-on-rails, devise, warden

我有一个非常标准的 Devise 登录程序：

看法：

resource_name, :url => session_path(resource_name)) 做 |f| %>

```
<%= f.input :password, input_html: {class: "span6"} %>

<% if devise_mapping.rememberable? -%>
    <p><%= f.check_box :remember_me %>&nbsp;&nbsp;&nbsp;Remember me</p>
<% end -%>

<input type="hidden" name="after_sign_in_page" value="<%=@after_sign_in_page%>">
<p><%= f.submit "Sign in", class: "btn btn-success" %></p> 
```

我刚刚创建了一个会话控制器来降低电子邮件的大小写：

```
class SessionsController < Devise::SessionsController

  def create
    params[:user][:email].downcase!
    super
    logger.debug "Errors: #{resource.errors}"
  end 
```

具有良好凭据的登录会很好。

如果凭据错误，它会使用以下日志重定向到登录页面：

```
Started POST "/users/sign_in" for 127.0.0.1 at 2013-01-10 09:59:44 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8eytQkr20JOOOdDvpCWakbmUzNoaHMxK9/BSEVxETik=", "user"=>{"email"=>"nicolas@demoreau.be", "password"=>"[FILTERED]", "remember_me"=>"0"}, "after_sign_in_page"=>"", "commit"=>"Sign in"}
Time zone: (GMT+00:00) UTC, current area: , user to register: , current controller: sessions
Completed 401 Unauthorized in 69ms
Processing by SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8eytQkr20JOOOdDvpCWakbmUzNoaHMxK9/BSEVxETik=", "user"=>{"email"=>"nicolas@demoreau.be", "password"=>"[FILTERED]", "remember_me"=>"0"}, "after_sign_in_page"=>"", "commit"=>"Sign in"}
  Rendered devise/sessions/_new.html.erb (17.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (19.7ms)
  Rendered layouts/_header.html.erb (66.1ms)
Completed 200 OK in 173ms (Views: 98.3ms | ActiveRecord: 0.9ms) 
```

显然 401 被 Warden 丢弃了，但我不知道为什么。用户被正确重定向回登录页面，但没有显示错误消息（这是正常的，因为它们被重定向清除了）

我究竟做错了什么？

谢谢！

编辑1：

现在，我找到了一个快速破解方法。我在 SessionsController#new 中添加了这个

```
if params[:user]
  flash[:alert] = "Incorrect login or password"
end 
```

不是很优雅，但至少，我有一些东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T22:25:52.123

首先，让我建议您不要覆盖 Devise 控制器：

1.  在这种情况下，Devise 会为您将电子邮件转换为小写，因此实际上不需要覆盖该`create`方法。
2.  如果您坚持标准，您的应用将无缝支持设计更新。

此外，Devise 应该自动设置一个 flash 错误，确保你在你的视图中显示它。

状态码 401 只是对未授权请求的标准响应。

> 401 Unauthorized 与 403 Forbidden 类似，但专门用于需要身份验证且已失败或尚未提供身份验证时使用
> 
> [http://en.wikipedia.org/wiki/List_of_HTTP_status_codes](http://en.wikipedia.org/wiki/List_of_HTTP_status_codes)

你绝对应该考虑放弃你的自定义控制器，

干杯

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-12T14:40:13.110

不会设置您的 flash 消息，因为`Devise::SessionsController#create`调用warden 进行身份验证，如果失败，将调用`Devise::FailureApp`. 您的控制器从不处理故障情况。

[如果您想要自定义消息，您可以为此自定义失败应用程序， Devise wiki](https://github.com/plataformatec/devise/wiki)中有一些文章解释了如何执行此操作。

但总的来说，您可以通过 I18n 自定义您的失败消息，并且可能有更好的方法来实现您想要的，而无需覆盖 Devise 控制器。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-25T02:42:41.003

我同意 jassa，只需更新您的设计版本（带有`bundle update devise`）。

Devise 中已经存在不区分大小写的电子邮件，只需确保您有以下配置：

```
# devise.rb
Devise.setup do |config|
  config.case_insensitive_keys = [:email ]
end 
```

无论如何，由于您似乎缺少一些 flash 消息和此配置，所以如果您重新运行生成器可能会更好：

```
rails generate devise:install 
```

然后你应该让设计覆盖一些文件，只要确保你先备份你的。

# css - 如何使用 css 在单击 li 元素时显示 div？

> ID：14254230
> 
> 赞同：1
> 
> 时间：2013-01-10T09:10:39.333
> 
> 标签：css, css-selectors

使用 CSS，有什么方法可以显示 li 元素内的 div 吗？我不想为此使用任何javascript。

这是我的示例代码。

```
<ul>
   <li id="help">
      Help
        <div id="helpContainer">
           This is the help text content
        </div>
   </li>
</ul> 
```

CSS

```
#helpContainer
{
display:none;
} 
```

在这里，我想在点击 li(id=help) 时显示 helpContainer div

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:43:19.590

[演示 演示](http://html-bin.appspot.com/aghodG1sLWJpbnIMCxIEUGFnZRjJ3kkM) [2演示](http://html-bin.appspot.com/aghodG1sLWJpbnIMCxIEUGFnZRjJ3kkM#help) [3](http://html-bin.appspot.com/aghodG1sLWJpbnIMCxIEUGFnZRiPv0kM)

```
#helpContainer {
  display: none;
}

li#help:hover div#helpContainer{
  display: block;
}
li#help:target div#helpContainer{
  display: block;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:38:57.647

[**jsFiddle 演示**](http://jsfiddle.net/ZGRhR/)

这是一个 CSS3 方法，它在需要时隐藏**帮助。**

要查看隐藏的**帮助**，请单击右下角的`resize`小部件并垂直向下拖动。

**CSS3：**

```
.help{
  background-color: lightblue;
  width: 200px;
  height: 25px;
  min-height: 25px;
  line-height: 25px;
  max-height: 50px;
  resize: vertical;
  overflow: hidden;
}

.helpContainer {
  background-color: yellow;
  color: red;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:41:43.990

正如我在评论中提到的。您可以使用`:target`.

或者，如果您想不使用`:target`.

```
#helpContainer{  
  float: left;
  display:none;
  position: absolute;
  padding-top: 20px;
  top: 10px;
}

#help:active #helpContainer{
  display: block;
}

#helpContainer:hover{
   display: block;
} 
```

我为此做了一个小演示。
[http://jsbin.com/eyavuw/1/](http://jsbin.com/eyavuw/1/)
（源代码）[http://jsbin.com/eyavuw/1/edit](http://jsbin.com/eyavuw/1/edit)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:16:42.743

CSS 用于样式，因此，您可以使用它来操作 DOM 元素，为此，您将需要 Javascript。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-10T09:12:41.877

您**必须**使用 Javascript 来操作页面的 DOM（文档对象模型）。

[本文](http://motyar.blogspot.com/2011/02/handling-onclick-event-with-css.html)介绍如何使用 #anchor 标记和 puesdo-class :target CSS 选择器 (http://reference.sitepoint.com/css/pseudoclass-target)。不过，这并没有真正做到您想要的（您必须使用锚标记来点击新的 # 标记以将页面置于不同的状态，而使用 Javascript 您可以只为您真正关心的对象上的 onclick 事件分配一个侦听器关于），我永远不会在实践中使用它。

# wpf - WPF 列表框中的日期未以正确的语言环境显示

> ID：14254235
> 
> 赞同：2
> 
> 时间：2013-01-10T09:10:49.340
> 
> 标签：wpf

我有一个 XAML 页面，其中一个 ListBox 绑定到客户对象的集合。Customer 类有一个 CreatedDate 属性，该属性绑定到 ListBoxItem 模板中的 TextBox。出于某种原因，日期以美国格式显示（我在英国），尽管将这个已知修复添加到 App.xaml：-

```
FrameworkElement.LanguageProperty.OverrideMetadata(
   typeof(FrameworkElement),
   new FrameworkPropertyMetadata(XmlLanguage.GetLanguage(CultureInfo.CurrentCulture.IetfLanguageTag))); 
```

页面上其他地方的日期格式正确。有任何想法吗？

**更新：-** ListBoxItem 模板中的日期显示如下：-

```
<TextBlock>
    <TextBlock.Inlines>
        <Run Text="{Binding CreatedDate}"/>
        ...various other <Run elements ...
    </TextBlock.Inlines>
</TextBlock> 
```

这似乎是问题所在。如果我使用普通而不是构造（即`<TextBlock Text="{Binding CreatedDate}"/>`）绑定 CreatedDate，它的格式正确。为什么会这样？它是 Inlines 元素的错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:54:06.260

这也被报告为[Microsoft 论坛](http://social.msdn.microsoft.com/Forums/eu/wpf/thread/1ec9d115-b119-41b2-8f80-223a71a79457)中的一个错误（尽管没有错误报告的链接）。Per Mike Danes，论坛版主：

```
The problem is the Run element, this is not a FrameworkElement,
it's a FrameworkContentElement. 
Its language property was registered with a default value of en-US 
and it cannot be overriden. 
```

同时，您可以通过在运行时设置正确的语言来解决此问题（这是在 MS 论坛中建议的，但我自己没有尝试过）。

另一种选择，如果你知道你总是想要一个特定的格式，是在绑定中使用 StringFormat 选项：

```
<TextBlock>
    <TextBlock.Inlines>
        <Run Text="{Binding CreatedDate, StringFormat={}{0:dd/MMM/yyyy}}"/>
        ...various other <Run elements ...
    </TextBlock.Inlines>
</TextBlock> 
```

请注意，ShortDate 的 StringFormat 选项不起作用 - 您需要输入明确的格式：

```
<TextBlock>
    <TextBlock.Inlines>
        <Run Text="{Binding CreatedDate, StringFormat=d}"/>
        ...various other <Run elements ...
    </TextBlock.Inlines>
</TextBlock> 
```

# sharepoint - Powershell 脚本：使用 sharepoint 活动目录创建用户配置文件同步服务

> ID：14254243
> 
> 赞同：0
> 
> 时间：2013-01-10T09:11:24.790
> 
> 标签：sharepoint, powershell, user-profile, sharepoint-2013

在 sharepoint 2013 中，我必须通过脚本使用 sharepoint 活动目录创建用户配置文件同步连接。我已经使用 powershell 创建了用户配置文件服务，之后有什么方法可以选择配置同步设置中的选项以在同步选项中选择使用 SharePoint Active Directory。之后，我必须使用脚本创建同步连接。

我有 sharepoint 2010 的脚本，但我找不到 sharepoint 2013 的脚本。如果有人之前尝试过这个，请帮助我

谢谢你

* * *

感谢选择该选项工作正常.. 但之后我无法创建连接这是我用来创建连接的代码

添加-SPProfileSyncConnection-ProfileServiceApplication 53eb09e7-4269-4e88-9109-ea29f603043a

-ConnectionForestName "abcde.com"

-连接域“abcde”

-ConnectionUserName "用户名"

-ConnectionPassword “密码” -asplaintext -force

-ConnectionSynchronizationOU "OU=abc,DC=abcde,DC=com"

此脚本给出以下错误

Add-SPProfileSyncConnection：无法访问代理。请验证代理是否正在运行。在 line:1 char:1 + Add-SPProfileSyncConnection + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ + CategoryInfo : InvalidData: (Microsoft.Offic.. .eSyncConnection: SPCmdletAddProfileSyncConnection) [Add-SPProfileSyncConnection], ArgumentE xception + FullyQualifiedErrorId : Microsoft.Office.Server.UserProfiles.PowerShell。SPCmdletAddProfileSyncConnection

对于 -ConnectionSynchronizationOU 我是否给出了正确的参数？你能帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T21:35:53.757

这是来自我的博客 [http://www.benjaminathawes.com/blog/Lists/Posts/Post.aspx?ID=42](http://www.benjaminathawes.com/blog/Lists/Posts/Post.aspx?ID=42)

$upa=Get-SPServiceApplication -Name "UserProfileServiceAppName"

$upa.NoILMUsed=$true

$upa.Update()

我还建议您在此处查看 Spence 关于 AD 直接导入的文章： [http ://www.harbar.net/archive/2012/07/23/sp13adi.aspx](http://www.harbar.net/archive/2012/07/23/sp13adi.aspx)

# widget - On Tumblr How To Show ShareThis Widget On Whole Site, But Pages?

> ID：14254246
> 
> 赞同：0
> 
> 时间：2013-01-10T09:11:29.030
> 
> 标签：widget, tumblr, sharethis

I have a Tumblr blog, I have added ShareThis codes,

But it is appearing on pages also, how to hide that widget on pages?

Thank you!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T17:23:45.653

Just make sure to wrap your share widget in `{block:Date}{/block:Date}`. Since Pages don't have dates assigned to them (like your regular posts do) you share widget will not be rendered!

# azure - 在 Windows Phone 后台代理中从 Azure SQL 读取内容

> ID：14254248
> 
> 赞同：0
> 
> 时间：2013-01-10T09:11:42.257
> 
> 标签：azure, windows-phone-8, azure-sql-database, azure-mobile-services

我正在编写 Windows Phone 8 应用程序，但从 Windows Phone 8 后台代理访问我的 Azure 移动服务数据库时遇到问题。

我正在使用该代码：

```
public static MobileServiceClient MobileService = new MobileServiceClient("https://name.azure-mobile.net/","secret!");
...
await ScheduledAgent
                 .MobileService
                 .GetTable<Element>()
                 .Where(e =>
                        e.First == parameters[1]
                        && e.Next == parameters[2]
                        && e.Other == parameters[3]
                        && e.Last == parameters[4])
                 .Take(1)
                 .ToListAsync()); 
```

当我在包含该代码的行上设置断点时，调试器停止，但在单步执行 (F10) 之后，Visual Studio 将调试器与后台代理分离（应用程序仍在模拟器上工作），所以我无法捕获异常。

有没有可能从那里访问它？

亲切的问候！

# java - 播放框架形式问题

> ID：14254259
> 
> 赞同：7
> 
> 时间：2013-01-10T09:12:18.953
> 
> 标签：java, playframework, playframework-2.1

我正在[http://www.playframework.org/documentation/2.0.4/JavaTodoList](http://www.playframework.org/documentation/2.0.4/JavaTodoList)上做示例， 但我的表单有问题。如果您查看“任务表单”部分，您会看到我被要求添加静态表单 taskForm = form(Task.class); 到应用程序控制器。

我得到的问题是“应用程序类型的方法形式（类）未定义”

我正在运行 play-2.1-RC1 而不是 play-2.0.4（play-2.0.4 是示例中提到的）

这是我得到的编译错误

```
[info] Compiling 4 Scala sources and 2 Java sources to /Users/johnnybekkestad/Documents/workspace/play/todolist/target/scala-2.10/classes...
[error] /Users/johnnybekkestad/Documents/workspace/play/todolist/app/controllers/Application.java:12: error: cannot find symbol
[error]     static Form<Task> taskForm = form(Task.class);
[error]                                  ^
[error]   symbol:   method form(Class<Task>)
[error]   location: class Application
[error] 1 error
[error] (compile:compile) javac returned nonzero exit code
[error] application -

! @6d1acongn - Internal server error, for (GET) [/] ->

sbt.PlayExceptions$CompilationException: Compilation error[error: cannot find symbol]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$2$$anonfun$apply$15$$anonfun$apply$16.apply(PlayReloader.scala:322) ~[na:na]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$2$$anonfun$apply$15$$anonfun$apply$16.apply(PlayReloader.scala:322) ~[na:na]
    at scala.Option.map(Option.scala:133) ~[scala-library.jar:na]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$2$$anonfun$apply$15.apply(PlayReloader.scala:322) ~[na:na]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$2$$anonfun$apply$15.apply(PlayReloader.scala:319) ~[na:na]
    at scala.Option.map(Option.scala:133) ~[scala-library.jar:na] 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-10T13:45:48.757

换行：

```
form(Task.class); 
```

为了：

```
Form.form(Task.class); 
```

当然，您必须添加：

```
import views.html.*; 
```

# emacs - 为 emacs 函数提供建议；坏话

> ID：14254260
> 
> 赞同：2
> 
> 时间：2013-01-10T09:12:19.883
> 
> 标签：emacs, defadvice, advising-functions

我试图在 emacs 中建议一个函数，但没有任何反应。

```
(defadvice save-place-find-file-hook (after recenter activate)
  "Recenter after getting to saved place."
  (recenter)) 
```

也就是说，不会发生重新定位。如果有 a`(message "foo")`相反，则确实显示 foo 。什么是我不知道的defadvice？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T18:49:21.120

`find-file-hook`在缓冲区显示之前运行，因此您的重新定位不适用于您认为它适用的缓冲区，并且在它发生后立即撤消，当`find-file`用所选窗口中的新缓冲区替换当前缓冲区时。

# iphone - 向 OpenEars 添加新语言

> ID：14254266
> 
> 赞同：14
> 
> 时间：2013-01-10T09:12:41.003
> 
> 标签：iphone, ios, openears

我最近开始研究[OpenEars](http://www.politepix.com/openears/)语音识别，它很棒！但我还需要支持其他语言的语音识别和听写，如俄语、法语和德语。我发现[这里](http://sourceforge.net/projects/cmusphinx/files/Acoustic%20and%20Language%20Models/)有各种声学和语言模型。

但我无法真正理解 - 我需要在应用程序中集成额外的语言支持就足够了吗？

**问题是 - 我应该采取哪些步骤才能成功地将（例如俄语）整合到 Open Ears 中？**

据我了解 - Open Ears 演示中用于英语的所有声学和语言模型都位于文件夹**hub4wsj_sc_8k**中。[在voxforge 语言档案](http://sourceforge.net/projects/cmusphinx/files/Acoustic%20and%20Language%20Models/)中可以找到相同的文件。所以我只是在演示中替换了它们。有一点不同 - 在演示英语中，还有一个`sendump`2MB 的大文件，它不在 voxforge 语言档案中。Open Ears 演示中使用了另外两个文件：

*   OpenEars1.languagemodel
*   OpenEars1.dic

这些我替换为：

*   msu_ru_nsh.lm.dmp
*   msu_ru_nsh.dic

因为 .dmp 类似于 .languagemodel。但应用程序崩溃没有任何错误。

我究竟做错了什么？谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-05-10T15:51:11.487

根据我的评论，重新发布为答案：

[....] 此类问题的第 1 步是打开 OpenEarsLogging 和 verbosePocketsphinx，这将为您提供有关问题所在的非常精细的信息（在控制台输出中搜索错误和警告字样以节省时间）。可以在文档中找到有关执行此操作的说明。随时向 OpenEars 论坛提出问题 [....]：[http](http://politepix.com/forums/openears) ://politepix.com/forums/openears您可能还想查看此线程：[http ://politepix.com/forums/topic/other - 语言](http://politepix.com/forums/topic/other-languages)

解决方案：

为后续读者跟进，在打开日志记录后，我们通过使用 mix_weights 文件代替 sendump 并确保语音词典使用声学模型中存在的音素而不是英语音素来实现此功能.

可以在此处阅读我们完成此故障排除的完整讨论：[http ://www.politepix.com/forums/topic/using-russian-acoustic-model/](http://www.politepix.com/forums/topic/using-russian-acoustic-model/)

* * *

更新：自从本周发布 OpenEars 1.5 以来，可以将任何声学模型的路径作为主要聆听方法的参数传递，并且有一种更加标准化的方法来打包和引用任何声学模型，因此您可以拥有许多在同一个应用程序中的声学模型。此论坛帖子中的信息取代了我在此答案中链接到的讨论中的信息：[http ://www.politepix.com/forums/topic/creating-an-acoustic-model-bundle-for-openears-1-5 -and-up/](http://www.politepix.com/forums/topic/creating-an-acoustic-model-bundle-for-openears-1-5-and-up/)由于历史原因，我留下了其余的答案，因为该讨论中可能有一些仍然有用的细节，但可以跳过它以支持新链接。

# html - 将 div 放在居中的图像顶部

> ID：14254268
> 
> 赞同：1
> 
> 时间：2013-01-10T09:12:42.273
> 
> 标签：html, css, image, center

我有一个看起来像这样的标记：

```
<div style="width: 150px; height: 250px;">
    <img src="Image1.jpg" />

    <div class="YellowExclaimIcon iconsBlack"></div>
</div> 
```

我想要达到的目标如下：

![结果](../Images/4da84d7811ab0889cc4930d77dc95d92.png)

这意味着图像应始终放置在父 div 的中心（水平和垂直），警告图标应位于图像顶部，右侧和底部的边距为 5。

另外需要注意的是，图像的宽度和高度并不总是相同的，但是警告图标的位置应该始终是正确的位置。

YellowExclaimIcon 类包含背景图像，但如果需要，可以将其更改为图像。需要考虑的是图像还具有最大宽度和最大高度。

我尝试了这个线程[CSS Help - div over image](https://stackoverflow.com/questions/8769830/css-help-div-over-image)中的答案，但我无法让它与居中一起使用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T10:41:16.420

如果图像宽度和高度是可变的，则只能通过更改标记来实现，如下所示：

```
<style type="text/css">
    div.container {
        width:150px; height:250px; display:table-cell; vertical-align:middle; 
        text-align:center; background-color:#ededed}
    div.image {
        position:relative; display:inline-block; }
    div.image img {
        display:block; }
    div.YellowExclaimIcon {
        position:absolute; width:80px; height:80px; bottom:5px; right:5px; 
        background:transparent url(your-icon.png) no-repeat 100% 100%}
</style>

<div class="container">
    <div class="image">
        <img src="Image.jpg" alt="" />
        <div class="YellowExclaimIcon"></div>
    </div>
</div> 
```

上面的示例将始终在中心水平和垂直对齐图像，右下角有一个图标，5px 边距。

检查工作示例：http: [//jsfiddle.net/Q9uhV/](http://jsfiddle.net/Q9uhV/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:18:29.593

用于`position:relative`外部 div 和`absolute`内部 div

**HTML**

```
 <div class="outer">

    <div class="YellowExclaimIcon"></div>
</div> 
```

**CSS**

```
 .outer{
  width: 150px; height: 250px; 
  border:solid red 1px;
  position:relative;
  vertical-align:middle;
  background:url(http://icons.iconarchive.com/icons/everaldo/kids-icons/128/penguin-icon.png) no-repeat center center;
}
.outer img{text-align:center; vertical-align:middle}
.YellowExclaimIcon{  
  position:absolute;
  width:100%;
  height:100%;
  top:0; left:0; background:url(http://da.countyofventura.org/images/buttons/images/warning-icon.gif) no-repeat center 95%;
} 
```

**[演示](http://jsfiddle.net/EMmGN/3/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:20:44.480

您需要使用 z-index 和一些定位，如下所示：

```
<div style="width: 150px; height: 250px;">
    <img src="Image1.jpg" style="z-index:-1" />

    <div class="YellowExclaimIcon iconsBlack" style="z-index:1; margin-left:10px; margin-bottom:10px"></div>
</div> 
```

..例如，将您的边距设置为您需要的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:24:21.140

制作警告图像`absolute`，以便您可以将其放置在指定位置的其他图像之上。

HTML：

```
<div class="container">
  <img src="penguin.png" />
  <img class="warning" src="warning.png" />
</div> 
```

CSS：

```
.warning {
  position:absolute;
  left:80px;
  top:80px
} 
```

有关演示，请参阅[此 jsFiddle](http://jsfiddle.net/veger/gakmb/2/)。

# asp.net-mvc - ASP.NET MVC Jquery Ajax 发布表单序列化？

> ID：14254270
> 
> 赞同：11
> 
> 时间：2013-01-10T09:12:50.903
> 
> 标签：asp.net-mvc, jquery

阿贾克斯函数

```
$(function () {
    $('form').submit(function () {
        if ($(this).valid()) {
            $.ajax({
                url: this.action,
                type: this.method,
                data: { model: $(this).serialize(), locations: getCheckedLocation(), reports: getCheckedReports() },
                beforeSend: function () {

                },
                complete: function () {

                },
                success: function (result) {
                    $('#user_operations_container').html(result);
                    setTimeout(function () { LoadAction('@Url.Action("GetAllUsers", "User")') }, 1000);
                    $("#widgets ul li a").removeClass("link_active");
                    $("#widgets ul li:first-child a").addClass("link_active");
                }
            });
        }
        return false;
    });
}); 
```

在 ajax 数据属性中使用的函数

```
function getCheckedLocation() {
    var nodes = $('#tt_location').tree('getChecked');
    var s = '';
    for (var i = 0; i < nodes.length; i++) {
        if (s != '') s += ',';
        s += nodes[i].text;
    }
    return s;
}

function getCheckedReports() {
    var nodes = $('#tt_reports').tree('getChecked');
    var s = '';
    for (var i = 0; i < nodes.length; i++) {
        if (s != '') s += ',';
        s += nodes[i].text;
    }

    return s;
} 
```

HTML

```
<div> // there are html helpers for model (dropdownlistfor, textboxfor,...)
</div>
<div> // checkbox tree (#tt_location)
</div>
<div> // checkbox tree (#tt_reports)
</div> 
```

控制器

```
[HttpPost]
public ActionResult _EditUser(UserViewModel model,string locations,string reports)
{
    // model = null
    // locations and reports are expected. (not null)
} 
```

问题

为什么模型为空？当我使用像这样 = 的 ajax 数据属性时`data: $(this).serialize(),`，它的工作模型不为空。

我如何发布带有附加数据（位置、报告）的模型。

我希望我能解释一下。谢谢...

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-10T10:28:25.393

试试这样：

```
 data:$('this').serialize() + "&locations=" + getCheckedLocation() "&reports=" + getCheckedReports() 
```

它会起作用的。

希望能帮助到你

# c# - MVC 路由到博客类别

> ID：14254277
> 
> 赞同：0
> 
> 时间：2013-01-10T09:13:02.470
> 
> 标签：c#, asp.net-mvc, razor, asp.net-mvc-4, asp.net-mvc-routing

我已经在 , 中有一条路线，当有一年和一个月时`RouteConfig`重定向到Action ：-`Archive`

```
routes.MapRoute("Blog", "Blog/{action}/{id}",
new
{
    controller = "Blog",
    action = "show",
    id = ""
}); 
```

现在我希望有另一个在有类别时`MapRoute`重定向到`Archive`Action，例如`Blog/Archive?catId=2`.

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:27:13.967

在您的 RouteConfig 中，您可以添加

```
routes.MapRoute("Archive", "Blog/Archive", new {controller = "Blog", Action = "Archive" }); 
```

在您的控制器中，您可以执行此操作

```
public void Archive(int catId) {
    ...
} 
```

这将自动将 catId 查询字符串值映射到 catId 变量。

# javascript - 如何在javascript中处理来自servlet的响应类型

> ID：14254280
> 
> 赞同：1
> 
> 时间：2013-01-10T09:13:30.013
> 
> 标签：javascript, ajax, servlets

以下是我们的一个应用程序中的场景

客户端 > ajax 调用 > Servlet

该服务返回生成的 powerpoint 演示文稿，并且响应类型设置为`application/vnd.ms-powerpoint`。

知道如何在客户端处理这个问题吗？

它应该作为二进制数据使用还是我们应该回到 ActivexObjects 或任何其他技术？

任何想法都会很有用，谢谢！

# css - 根据屏幕分辨率更改 TD 字体大小

> ID：14254281
> 
> 赞同：2
> 
> 时间：2013-01-10T09:13:31.330
> 
> 标签：css, fonts, screen, resolution

我正在寻找一个非常基本的示例，如果屏幕分辨率为 1024 * 768 或更小，它将更改 TD 字体大小。

表格和布局适合任何分辨率，但标准字体在此分辨率下略大。所以我希望找到一种方法来改变那种字体..

目前我的 css 在一个单独的文件中，并包含 TD：

```
table.format td {
    padding: 3px 10px;  
    text-align: center;
    color: #333;
    font-size:10pt;
} 
```

加载css后，我可以确定屏幕大小然后覆盖这个值吗？

任何想法或指示？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:28:50.713

像这样使用 css 媒体查询：

```
table.format td {
    padding: 3px 10px;  
    text-align: center;
    color: #333;
    font-size:10pt;
}

@media screen and (max-width:480px){
   table.format td {
     font-size:16pt; 
   }
}

@media screen and (max-width:1024px){
   table.format td {
     font-size:12pt; 
   }
}

@media screen and (max-width:1920px){
   table.format td {
     font-size:10pt; 
   }
} 
```

您可以更改最大/最小宽度以满足您的需要

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-05T09:38:08.867

为 CSS3 试试这个。如果浏览器窗口被调整大小，它甚至可以减少额外的脚本。

[http://css-tricks.com/viewport-sized-typography/](http://css-tricks.com/viewport-sized-typography/)

# php - SSL 安全说明

> ID：14254282
> 
> 赞同：0
> 
> 时间：2013-01-10T09:13:35.807
> 
> 标签：php, html, mysql, ssl, https

如果我有一个域：`https://somedomain.example`使用有效的 SSL 证书，我是否必须采取任何其他预防措施来加密客户端和我的服务器之间的数据，或者我现在唯一关心的是通过我的 MySQL 数据库中的一些 AES 加密来保护服务器上的数据。

本质上，我是否将客户端和服务器之间的所有安全性都留给 SSL，例如 Facebook 和 Google 就是这样做的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:19:01.107

*只需使用 SSL 即可处理所有加密，因此数据在传输过程*中将受到保护。

[XSS](https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29)和[CSRF](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29)的认证、授权和防御需要分别处理。（尽管您*可以*使用 SSL 客户端证书进行身份验证）。

XSS 是需要特别注意的，如果攻击者可以将 JS 注入页面，那么它可以访问浏览器中未加密的数据（与传输时不同）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:19:53.553

这可能不是您的意思，但即使使用 SSL，在数据库中使用密码盐也是一个好主意。您没有充分的理由将纯文本密码存储在数据库中。即使存储在您的服务器上的数据并不是那么敏感，因为如果您的数据库遭到破坏，用户通常会跨站点使用相同的密码，您可能会将密码泄露给他们的网上银行等严肃的事情。

就个人而言，我更喜欢更进一步，并在加盐密码的基础上实施挑战响应方案。这很容易实现，这样我的服务器很少会看到用户的实际密码，除了在注册期间。在我看来，我的服务器知道的越少越好。

# javascript - 从 iFrame 中加载的外部页面访问 IFrame 元素

> ID：14254288
> 
> 赞同：1
> 
> 时间：2013-01-10T09:13:55.497
> 
> 标签：javascript, jquery, html, dom, iframe

我想使用 JavaScript 从 IFrame 源页面访问主页中可用的 IFrame 元素

这是我的主页

```
<html>
<body>
<IFrame id="page-container" src="http://stackoverflow.com"
      width="200px" height="200px">
</IFrame>
</body>
</html> 
```

子页面

```
 <html>
   <head>
   <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.js"/>
   <script type="text/javascript" >
   $(document).ready(function(){
    var containerFrame= $('#page-container');
    //var containerFrame=document.frames["page-container"];
    //var containerFrame=document.frames["page-container"];
    //var containerFrame=document.parent.frames["page-container"];
   });
   </script>

   <body>
   <div>some content..</div>
   </body>
   </html> 
```

我的所有尝试都变得**不确定**。

***怎么做？是否可以？***

> **编辑**： 我***尝试加载跨域页面***。
> 
> 在 IE 中，我收到错误“出于安全原因，不允许使用框架”，并且域、协议和端口也必须匹配。我们能以任何方式实现这一目标吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:17:16.893

```
var containerFrame = $('#page-container', window.parent.document) 
```

这应该首先引用窗口的父级，然后查找 iframe div

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:17:30.983

您需要指定要在其中搜索的上下文`#page-container`，在这种情况下将是父窗口。

```
var containerFrame = $('#page-container', window.parent.document); 
```

# sencha-touch - Sencha Touch - 如何根据之前的值更改列表项的样式

> ID：14254289
> 
> 赞同：0
> 
> 时间：2013-01-10T09:13:56.113
> 
> 标签：sencha-touch, sencha-touch-2

我有一个列表（xtype：'list'），我使用 XTemplate 来自定义它。它看起来像这样：

`itemTpl: new Ext.XTemplate('<div>', '<span style="display: inline-block; width: 100px">{itemName}</span>', '<span style="display: inline-block;` `width: 100px">{price}</span>','</div>')`

我想根据以前的值和当前值更改 {price} 的颜色（我猜是使用 css）：

如果 [当前值] > [先前值] 将其着色为绿色。如果 [前一个值] > [当前值] 将其着色为红色。

价格值更新如下：

```
var itemList = Ext.getCmp('itemList');
var store = itemList.getStore();
store.getAt(i).set('price', currentPrice); 
```

而 i 是更新的项目数（或列表中的行），而 currentPrice 是新值。此代码由每秒调用一次的函数执行。

我知道有一个选项可以在 XTemplate 中设置条件，但是我看到的所有示例都将新值与常量进行了比较。如何通过将新值与旧值进行比较来更改 {price} 的颜色？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:27:32.587

您可以在商店加载/创建或填充/创建时添加“颜色”属性来存储。

```
store.each(function(item, i) {
        var previousItem = store.getAt(i-1);
        if (previousItem) {
            var previousPrice = previousItem.get('price');
            var price = item.get('price');
            item.set('color', (price > previousPrice) ? 'green' : 'red');
        }
    }) 
```

然后你可以在模板中使用属性

```
itemTpl: new Ext.XTemplate('<div>', '<span style="display: inline-block; width: 100px; color: {color}">{itemName}</span>', '<span style="display: inline-block; width: 100px">{price}</span>','</div>') 
```

# delphi - Delphi Panels 和自定义组件 Z 顺序问题

> ID：14254295
> 
> 赞同：4
> 
> 时间：2013-01-10T09:14:22.407
> 
> 标签：delphi, z-order, delphi-xe3, tpanel

我正在从事一个个人项目，最近遇到了很多问题，导致了很多问题，但是，嘿，这就是 SO 的用途吗？;)

无论如何，我尝试制作一个透明的 TPanel，这是通过制作自定义组件来实现的。我制作的应用程序是关于魔兽世界的，我在官方网站上制作了一个天赋计算器，但在 Windows 应用程序中。天赋是法术/技能，每个天赋都有显示在工具提示中的信息。

所以我有一个带有信息的工具提示，

我有一个天赋网格，当我将鼠标悬停在天赋上时，我想查看信息。除此之外，我希望信息显示在光标位置附近。

几乎可以工作。定位有效，它显示了正确的信息但是！这就是问题所在。看看这张图片： ![人才筛选](../Images/a25b94e4e95abaedda09c0766de102d9.png)

黑色半透明面板是我的工具提示。您会看到位于`pnlTalents` 名为`Panel1`. 调用的工具提示`TooltipTalent`也有 parent `Panel1`。我曾尝试发送`pnlTalents`到后面并带到`TooltipTalent`前面，但这根本没有任何区别。我什至试过`TooltipTalent.BringToFront;`位置改变的那一刻。请注意，工具提示在屏幕顶部带有速度按钮的深灰色面板上没有问题。我比较了两个面板（顶部的一个和天赋的一个），发现属性没有区别。我在这里严重用尽了想法。我不知道是什么原因造成的，也不知道如何解决这个问题。

作为最后的手段，我尝试删除另一个覆盖整个表单的透明面板，看看是否有帮助，但问题仍然存在。

我也可以发布我的自定义组件的代码，但这会很多。如果您想查看代码，请告诉我，我会找到一种方法来显示它:)

谁可以帮我这个事？亲切的问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T10:46:02.270

```
procedure TMyPanel.CreateParams(var params: TCreateParams);
begin
  params.ExStyle := params.ExStyle or WS_EX_TRANSPARENT or WS_EX_TOPMOST ;
  inherited CreateParams(params);    
end; 
```

使用 Quickhackcode 我得到了这个结果

![在此处输入图像描述](../Images/ac59b3a0f5237bcc000e325a5e26b0f5.png)

例如，Image1 包含一个半透明 png：

```
unit Unit4;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, ExtCtrls, StdCtrls, dxGDIPlusClasses;

type

  TMyPanel=Class(TPanel)
     procedure CreateParams(var params: TCreateParams); override;
     procedure WMEraseBkGnd(var msg: TWMEraseBkGnd); message WM_ERASEBKGND;
  End;

  TForm4 = class(TForm)
    Panel1: TPanel;
    Button1: TButton;
    Image1: TImage;
    Button2: TButton;
    CheckBox1: TCheckBox;
    Panel2: TPanel;
    Button3: TButton;
    Label1: TLabel;
    procedure Button1Click(Sender: TObject);
    procedure Button3Click(Sender: TObject);
  private
    { Private-Deklarationen }

   Fmp:TMyPanel;
   fisInPaint:Boolean;
  public
    { Public-Deklarationen }
  end;

var
  Form4: TForm4;

implementation

{$R *.dfm}

{ TMyPanel }

procedure TMyPanel.CreateParams(var params: TCreateParams);
begin
  params.ExStyle := params.ExStyle or WS_EX_TRANSPARENT or WS_EX_TOPMOST ;
  inherited CreateParams(params);
end;

procedure TMyPanel.WMEraseBkGnd(var msg: TWMEraseBkGnd);
begin
  SetBkMode (msg.DC, TRANSPARENT);
  msg.result := 1;
end;

procedure TForm4.Button1Click(Sender: TObject);
begin

  Fmp := TMyPanel.Create(self);
  With Fmp do
    begin
      Parent := self;
      left:= Panel1.Left -100;
      top:= Panel1.top -100;
      width := 300;
      Height := 300;
    end;
   image1.Parent := Fmp;
   Image1.Align := alClient;
   Image1.Stretch := true;
   Fmp.BringToFront;
   Label1.Parent := FMP;
   label1.Transparent := true;
   Label1.Left := 100;
   Label1.Left := 100;
end;

procedure TForm4.Button3Click(Sender: TObject);
begin
   Fmp.Left := fmp.Left + 10;
end;

end. 
```

XP也无法重现问题：

![在此处输入图像描述](../Images/0810b18ec99463783009c069392a8613.png)

# mysql - Mysql将数据从列组合到行

> ID：14254300
> 
> 赞同：0
> 
> 时间：2013-01-10T09:14:51.437
> 
> 标签：mysql, row, pivot, copying

mysql表的大致结构是这样的Person Name, Mobile Number1, Mob2, Mob3, Mob4。

我想做的是：例如，如果表中有同一个人的 4 条记录，例如：

```
Person Mob1 Mob2 Mob3 Mob4
John   123  
John   435
John   324
John   432 
```

我需要将四个记录合并为一个，例如：

```
Person  Mob1 Mob2 Mob3 Mob4
John    123  435  324  433 
```

是否可以在 phpMyAdmin 中使用 mysql 查询来做到这一点？我知道使用 php 脚本是可能的，但是表非常大：接近 500Mb（近一百万条记录。），所以脚本会非常慢/需要很长时间才能完成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T23:01:22.323

我认为您需要使用存储过程，检查这些其他帖子以获取（可能）有用的信息：

*   [拆分post php mysql的关键字](https://stackoverflow.com/questions/3928325/split-keywords-for-post-php-mysql/3929161#3929161)
*   [MySQL 过程将数据从临时表加载到其他表。过程中需要拆分多值字段](https://stackoverflow.com/questions/3908966/mysql-procedure-to-load-data-from-staging-table-to-other-tables-need-to-split-u/3909888#3909888)
*   [如何在 MySQL 中将逗号分隔的字段扩展为多行](https://stackoverflow.com/questions/5096584/how-to-expand-comma-separated-field-into-multiple-rows-in-mysql)

或者你可以尝试使用一个函数和一个 group_concat()：

```
CREATE FUNCTION SPLIT_STR(
  x VARCHAR(255),
  delim VARCHAR(12),
  pos INT
)
RETURNS VARCHAR(255)
RETURN REPLACE(SUBSTRING(SUBSTRING_INDEX(x, delim, pos),
 LENGTH(SUBSTRING_INDEX(x, delim, pos -1)) + 1),
 delim, ''); 
```

然后选择查询将是：

```
SELECT
  tmp.id,
  SPLIT_STR(tmp.mobs, ',', 1) as mob1,
  SPLIT_STR(tmp.mobs, ',', 2) as mob2,
  SPLIT_STR(tmp.mobs, ',', 3) as mob3,
  SPLIT_STR(tmp.mobs, ',', 4) as mob4
  FROM (
    SELECT
      id,
      GROUP_CONCAT(mob1) as mobs
    FROM person
    GROUP BY name
  ) tmp 
```

当然，那你必须将它整合到一个`UPDATE`声明中，但我会让你自己尝试。（顺便说一句，`FUNCTION`从[这里](https://stackoverflow.com/questions/2696884/mysql-split-value-from-one-field-to-two)得到）。

# javascript - 点击时暂停 Javascript 几秒钟

> ID：14254303
> 
> 赞同：0
> 
> 时间：2013-01-10T09:14:59.207
> 
> 标签：javascript, html, settimeout, setinterval

好的，我知道这必须是前面讨论过的主题，但是考虑到我是新手并且仍在学习 javascript 的过程中，我找到的所有答案都有些复杂。

我的 html 的 head 部分中有以下代码

```
<script>
function timedText() {
    setTimeout(function(){displayResult()},3000);
    setTimeout(function(){displayResult1()},7000);
    setTimeout(function(){displayResult2()},15000);
    setTimeout(function(){timedText()},18000);
}
</script>

<script>
function change() {
    setTimeout(function(){timedText()},1000);
}   
</script>

<script>
function displayResult() {
    document.getElementById("adimg_holder").style.bottom="0px";
    document.getElementById("button1").style.backgroundPosition="bottom";
    document.getElementById("button2").style.backgroundPosition="top";
    document.getElementById("button3").style.backgroundPosition="top";
}

function displayResult1() {
    document.getElementById("adimg_holder").style.bottom="370px";
    document.getElementById("button1").style.backgroundPosition="top";
    document.getElementById("button2").style.backgroundPosition="bottom";
    document.getElementById("button3").style.backgroundPosition="top";
}

function displayResult2() {
    document.getElementById("adimg_holder").style.bottom="739px";
    document.getElementById("button1").style.backgroundPosition="top";
    document.getElementById("button2").style.backgroundPosition="top";
    document.getElementById("button3").style.backgroundPosition="bottom";
}
</script> 
```

和以下html

```
 <body onload="change()">
    <div class="banner_area">
    <div class="banner_wrapper">
        <img src="images/image_holder.png" />
        <div id="ad_holder">
            <div id="adimg_holder">
            <img class="ad_images" src="images/recruitment_banners.png" />
            <img class="ad_images" src="images/training_banners.png" />
            <img class="ad_images" src="images/staffing_banner.png" />
            </div>
        </div>
        <div id="ad_buttons">
        <div id="button1" style="background-image:url(images/buttonfirst.png);background-position:bottom;width:259px;height:41px" onclick="displayResult()"></div>
        <div id="button2" style="background-image:url(images/buttonsecond.png);width:259px;height:41px" onclick="displayResult1()"></div>
        <div id="button3" style="background-image:url(images/buttonthird.png);width:259px;height:41px" onclick="displayResult2()"></div>
    </div>
    </div>
    </div> 
```

所以按钮切换不同的位置，脚本以时间间隔在这些位置之间循环

现在我想要实现的是，当位置循环通过时，如果我点击其中一个按钮，它会跳转到相关位置并保持一段时间（比如几秒钟），然后继续循环。

希望我的动机很容易理解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:25:39.997

您可以使用 setTimeout 计时功能本身。

写一个函数为：

```
function calldesiredFunctionafterPause (functionTobeCalled){

   setTimeout(function(){functionTobeCalled,1000}) //increase the millisec as needed
} 
```

并在 onClick 上调用此函数并将函数名作为参数传递。

这将使 onclick 功能延迟所需的时间

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:44:32.690

以下是实现此行为的方法：http: [//jsfiddle.net/PcZsT/12/](http://jsfiddle.net/PcZsT/12/)

这是JavaScript：

```
function timedText() {
  setTimeout(function() {
    displayResult();
  },2000);
  setTimeout(function() {
    displayResult1();
  },6000);
  setTimeout(function() {
    displayResult2();
  },14000);
  setTimeout(function() {
    timedText();
  },15000);
}

(function change() {
  setTimeout(function() {
    timedText();
  },1000);
}());

var locked = false;

function button1Handler() {
  moveTop();
  lockFor(3);
}

function button2Handler() {
  moveBottom();
  lockFor(3);
}

function lockFor(seconds) {
  locked = true;
  setTimeout(function () {
    locked = false;
  }, seconds * 1000);
}

function displayResult() {
  if (locked) return;
  moveTop();
}

function moveTop() {
  document.getElementById("adimg_holder").style.bottom="0px";
  document.getElementById("button1").style.backgroundPosition="bottom";
  document.getElementById("button2").style.backgroundPosition="top";
  document.getElementById("button3").style.backgroundPosition="top";
}

function displayResult1() {
  if (locked) return;
  moveMiddle();
}

function moveMiddle() {
  document.getElementById("adimg_holder").style.bottom="370px";
  document.getElementById("button1").style.backgroundPosition="top";
  document.getElementById("button2").style.backgroundPosition="bottom";
  document.getElementById("button3").style.backgroundPosition="top";
}

function displayResult2() {
  if (locked) return;
  moveBottom();
}

function moveBottom() {
  document.getElementById("adimg_holder").style.bottom="739px";
  document.getElementById("button1").style.backgroundPosition="top";
  document.getElementById("button2").style.backgroundPosition="top";
  document.getElementById("button3").style.backgroundPosition="bottom";
} 
```

上面的函数分别是`button1`和的点击处理程序`button2`。

我还将`change` 函数更改为 бe IIFE（立即调用函数表达式），但这不是必需的，您不必这样做，因为您想被调用`onload`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:06:18.660

你不需要这么多代码：只需创建一个 displayResult 函数，它会一遍又一遍地调用自己：

```
var scrollParam = {        scrollPos : 0,         // current pos
                           scrollIncr : 370,      // incr in px each call
                           loopScrollAfter : 700  // set scrollPos to >0 if above that number
                           delay : 3000,          // std scroll delay 
                           whichIsOnTop : 0,      // index of the topmost item (button)
                           pauseDelay : 1000,     // added delay if someone clicks
                           pauseRequired : 0 };   // current required click delay

var mainItem = document.getElementById("adimg_holder");

function displayResult()
 {
   mainItem.style.bottom=scrollParam.scrollPos +"px";
   scrollParam.scrollPos += scrollParam.scrollIncr;
   if (scrollParam.scrollPos>scrollParam.loopScrollAfter) scrollParam.scrollPos=0;

   setBackgroundPosition("button1",0);
   setBackgroundPosition("button2",1);
   setBackgroundPosition("button3",2);
   scrollParam.whichIsOnTop = (scrollParam.whichIsOnTop + 1) % 3;

   // now setup the next call, taking into account if a pause is required
   var requiredDelay = scrollParam.delay;
   if (scrollParam.pauseRequired >0) { 
            requiredDelay += scrollParam.pauseRequired;  
            scrollParam.pauseRequired=0;
           }
   setTimeout(displayResult, requiredDelay);
 }

 var setBackgroundPosition(itemName, index ) {             
    document.getElementById(itemName).style.backgroundPosition=topOrBottom(index ); 
  };

 // returns "top" for the right index (==scrollParam.whichIsOnTop) and "bottom" for the others
 var topOrBottom(thisIndex) { return (thisIndex == scrollParam.whichIsOnTop) ? "top" : "bottom"; };

 // in the button click handler you should use :
 scrollParam.pauseRequired += scrollParam.pauseDelay;

 // to launch the scroll, just call :
 displayResult();                        // in the loaded() event handler for example. 
```

Rq ：如果您愿意，您可以轻松更改参数以获得更平滑的滚动。

# android - Android：在 VideoView 上方带有关闭按钮的 Admob 横幅

> ID：14254306
> 
> 赞同：0
> 
> 时间：2013-01-10T09:15:09.157
> 
> 标签：android, android-layout, admob

我希望制作看起来像 YouTube 视频播放器 + 视频上方横幅的应用

我应该使用什么布局？

我希望支持 android 2.1+ 或 2.2+

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T12:01:02.547

这是我做的代码：-

```
 FrameLayout.LayoutParams lparams = new FrameLayout.LayoutParams(40, 40);
                lparams.leftMargin = banner.x;
                lparams.topMargin = banner.y;
                lparams.gravity = Gravity.NO_GRAVITY;
                final ImageButton btn = new ImageButton(activity);
                btn.setImageResource(android.R.drawable.ic_menu_close_clear_cancel);
                btn.setOnClickListener(new OnClickListener() {

                    @Override
                    public void onClick(View v) {
                        btn.setVisibility(View.GONE);
                        hideAdmob(activity);
                    }
                });
                btn.setLayoutParams(lparams);
                activity.addContentView(btn, lparams); 
```

# python - 有没有办法将变量传递给 Jinja2 父母？

> ID：14254308
> 
> 赞同：20
> 
> 时间：2013-01-10T09:15:12.763
> 
> 标签：python, html, google-app-engine, jinja2

我正在尝试将一些变量从子页面传递给模板。这是我的python代码：

```
 if self.request.url.find("&try") == 1:
        isTrying = False
    else:
        isTrying = True

    page_values = {
        "trying": isTrying
    }

    page = jinja_environment.get_template("p/index.html")
    self.response.out.write(page.render(page_values)) 
```

模板：

```
<html>
  <head>
    <link type="text/css" rel="stylesheet" href="/css/template.css"></link>
    <title>{{ title }} | SST QA</title>

    <script src="/js/jquery.min.js"></script>

  {% block head %}{% endblock head %}
  </head>
  <body>
    {% if not trying %}
    <script type="text/javascript">
    // Redirects user to maintainence page
    window.location.href = "construct"
    </script>
    {% endif %}

    {% block content %}{% endblock content %}
  </body>
</html> 
```

和孩子：

```
{% extends "/templates/template.html" %}
{% set title = "Welcome" %}
{% block head %}
{% endblock head %}
{% block content %}
{% endblock content %} 
```

问题是，我想将变量“trying”传递给父级，有没有办法做到这一点？

提前致谢！

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2014-03-22T19:52:01.850

Jinja2 Tips and Tricks 页面上的示例完美地解释了这一点，[http://jinja.pocoo.org/docs/templates/#base-template](http://jinja.pocoo.org/docs/templates/#base-template)。本质上，如果您有一个基本模板

```
**base.html**
<html>
    <head>
        <title> MegaCorp -{% block title %}{% endblock %}</title>
    </head>
    <body>
        <div id="content">{% block content %}{% endblock %}</div>
    </body>
</html> 
```

和一个子模板

```
**child.html**
{% extends "base.html" %}
{% block title %} Home page {% endblock %}
{% block content %}
... stuff here
{% endblock %} 
```

任何 python 函数调用 render_template("child.html") 都会返回 html 页面

```
**Rendered Page**
<html>
    <head>
        <title> MegaCorp - Home page </title>
    </head>
    <body>
        <div id="content">
            stuff here...
        </div>
    </body>
</html> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2020-05-24T05:59:39.480

我认为您希望在基本布局中突出显示活动菜单，并且您需要这样的东西

```
{% extends 'base.html' %}
{% set active = "clients" %} 
```

然后使用可以在base.html中使用“活动”

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2021-03-09T18:20:25.073

您只需要在扩展模板**之前**声明该变量，因此扩展模板将可以访问该变量`trying`

```
{% set trying = True %}  <----------- declare variable

{% extends "/templates/template.html" %}
{% set title = "Welcome" %}
{% block head %}
{% endblock head %}
{% block content %}
{% endblock content %} 
```

几年后，但希望它可以帮助后来者

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-10T13:05:49.817

我不明白你的问题。当您将变量传递给上下文时（就像您尝试所做的那样），这些变量将在子级和父级中可用。要将标题传递给父级，您必须使用继承，有时与 super 结合使用：http: [//jinja.pocoo.org/docs/templates/#super-blocks](http://jinja.pocoo.org/docs/templates/#super-blocks)

另请参阅此问题：[Overriding app engine template block inside an if](https://stackoverflow.com/questions/13137628/overriding-app-engine-template-block-inside-an-if/13144105#13144105)

# django - Django：动态数据库文件

> ID：14254315
> 
> 赞同：16
> 
> 时间：2013-01-10T09:15:33.740
> 
> 标签：django, django-models, django-database

在我的 Django 项目中，我依赖于第三方应用程序，该应用程序在具有已知模式的各种目录中生成 SQLite 缓存文件。

我想使用 Django 模型来访问这些数据库，但显然我不能使用静态`DATABASES`设置。

如何在任意路径上动态打开 SQLite 数据库？

**编辑**

正如 Byron Ruth 指出的那样，解决方案是将 QuerySet 中`django.db.connections`的函数与函数结合使用。[`using`](https://docs.djangoproject.com/en/dev/topics/db/multi-db/#manually-selecting-a-database-for-a-queryset)

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-01-21T16:06:09.207

这是在您的设置中定义`django.db.connections`的简单包装器。`DATABASES`包装类在这里： [django.db.utils#L137-L227](https://github.com/django/django/blob/5c412dd8a724b263489c1bd7a2fea381460665d7/django/db/utils.py#L137-L227)

```
from django.db import connections

# Add connection information dynamically..
connections.databases['new-alias'] = { ... }
# Ensure the remaining default connection information is defined.
# EDIT: this is actually performed for you in the wrapper class __getitem__
# method.. although it may be good to do it when being initially setup to
# prevent runtime errors later.
# connections.databases.ensure_defaults('new-alias')

# Use the new connection
conn = connections['new-alias'] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T09:24:58.110

您可以在 DATABASES 设置中注册数据库。

```
from your_project import settings
database_id = "unqique_name"
new_database = {}
new_database["id"] = database_id
new_database['ENGINE'] = 'django.db.backends.sqlite3'
new_database['NAME'] = '/project/data/db_%s.sql' % database_id
new_database['USER'] = ''
new_database['PASSWORD'] = ''
new_database['HOST'] = ''
new_database['PORT'] = ''
settings.DATABASES[database_id] = new_database 
```

你可以，但你不应该。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-20T01:05:11.173

假设使用的唯一引擎是 SQLite，并且（唯一）数据库文件的位置有所不同，请提供一个可调用的`NAME`：

```
def get_db_loc():
    # code to determine filesystem location of database
    return location

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': get_db_loc(),
        # More config goes here
    }
} 
```

# jquery - knockout.js 完成渲染所有元素后的成功回调

> ID：14254317
> 
> 赞同：52
> 
> 时间：2013-01-10T09:15:36.617
> 
> 标签：jquery, foreach, knockout.js

我已经实现了一个淘汰赛 foreach 绑定，在同一页面中有多个模板，这里给出了一个示例，我感兴趣的是找出一个块何时完成渲染，我尝试过`afterRender`and `afterAdd`，但我猜它运行每个元素，而不是在整个循环完成之后。

```
<ul data-bind="foreach: {data: Contacts, afterAdd: myPostProcessingLogic}">
  <li>
    <div class="list_container gray_bg mrgT3px">
      <div class="list_contact_icon"></div>
      <div class="contact_name"><span data-bind="text: first_name"></span> <span data-bind="text: last_name"></span></div>
      <div class="contact_number"><span data-bind="text: value"></span></div>
      <div class="callsms_container">
        <a href="#notification-box" class="notifcation-window">
          <div class="hover_btn tooltip_call">
            <div class="hover_call_icon"></div>
            <span>Call</span></div>
        </a>
        <a class="sendsms" href="#sendsms" rel="#sendsms">
          <div class="hover_btn tooltip_sms">
            <div class="hover_sms_icon"></div>
            <span>SMS</span></div>
        </a>
        <a href="#">
          <div class="hover_more_btn"></div>
        </a>
      </div>
      <!-- close callsms container -->
      <div id="notification-box" class="notification-popup">
        <a href="#" class="close"><img class="btn_close" src="images/box_cross.png" /></a> <img class="centeralign" src="images/notification_call.png" /> <span>Calling... +44 7401 287366</span> </div>
      <!-- close notification box -->
      <!-- close list gray bg -->
      <div class="tooltip_description" style="display:none" id="disp"> asdsadaasdsad </div>
    </div>
  </li>
</ul> 
```

当循环完成渲染时，我有兴趣找出成功回调。

这是我的`afterAdd`函数，它基本上附加了一些jQuery事件，没什么。

```
myPostProcessingLogic = function(elements) { 
  $(function(){
      $(".list_container_callog").hover(function(){  
          $(".callsms_container", this).stop().animate({left:"0px"},{queue:false,duration:800});
      }, function() {
          $(".callsms_container", this).stop().animate({left:"-98%"},{queue:false,duration:800});
      });
  });
} 
```

提前谢谢，告诉我有一个成功回调:)

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2013-01-10T09:19:48.037

你有`afterRender`回调`knockout.js`：

```
foreach: { data: myItems, afterRender: renderedHandler } 
```

[这是文档。](http://knockoutjs.com/documentation/foreach-binding.html)

在您的处理程序中检查渲染集合的长度是否等于项目集合的长度。如果不是，请不要执行您打算使用的完整呈现逻辑。

```
renderedHandler: function (elements, data) {
    if ($('#containerId').children().length === this.myItems().length) {
        // Only now execute handler
    }
} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-04-11T15:19:21.257

尝试`ul`用

```
<div data-bind='template: {afterRender: myPostProcessingLogic }'> 
```

它只会在第一次渲染模板中的所有内容时起作用。但是您只会接到对 myPostProcessingLogic 的一次调用。这是一个[小提琴](http://jsfiddle.net/8k8V5/2237/)

```
<div data-bind='template: {afterRender: myPostProcessingLogic }'>
  <ul data-bind="foreach: Contacts">
    <li>
      <div class="list_container gray_bg mrgT3px">
        <div class="list_contact_icon"></div>
        <div class="contact_name"><span data-bind="text: first_name"></span> <span data-bind="text: last_name"></span></div>
        <div class="contact_number"><span data-bind="text: value"></span></div>
        <div class="callsms_container">
          <a href="#notification-box" class="notifcation-window">
            <div class="hover_btn tooltip_call">
              <div class="hover_call_icon"></div>
              <span>Call</span></div>
          </a>
          <a class="sendsms" href="#sendsms" rel="#sendsms">
            <div class="hover_btn tooltip_sms">
              <div class="hover_sms_icon"></div>
              <span>SMS</span></div>
          </a>
          <a href="#">
            <div class="hover_more_btn"></div>
          </a>
        </div>
        <!-- close callsms container -->
        <div id="notification-box" class="notification-popup">
          <a href="#" class="close"><img class="btn_close" src="images/box_cross.png" /></a> <img class="centeralign" src="images/notification_call.png" /> <span>Calling... +44 7401 287366</span> </div>
        <!-- close notification box -->
        <!-- close list gray bg -->
        <div class="tooltip_description" style="display:none" id="disp"> asdsadaasdsad </div>
      </div>
    </li>
  </ul>
</div> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-09-06T05:15:00.957

Chuck Schneider 上面的回答是最好的。我不得不使用无容器控件，因为 foreach 位于 tbody 元素上：

```
<!-- ko template: {afterRender: SetupCheckboxes } -->
<tbody data-bind="foreach: selectedItems" id="gridBody">
  <tr>
    <td>
      <input type="checkbox" />
    </td>
  </tr>
</tbody>
<!-- /ko --> 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-06-13T08:09:49.430

只需使用 Knockout 的无容器方法将 foreach 包装到另一个 foreach 循环中，如下所示：

```
<!-- ko foreach:{data: Contacts, afterRender: myPostProcessingLogic }-->
<ul data-bind="foreach: $data}">
  <li>
    <div class="list_container gray_bg mrgT3px">
      <div class="list_contact_icon"></div>
      <div class="contact_name"><span data-bind="text: first_name"></span> <span data-bind="text: last_name"></span></div>
      <div class="contact_number"><span data-bind="text: value"></span></div>
      <div class="callsms_container">
        <a href="#notification-box" class="notifcation-window">
          <div class="hover_btn tooltip_call">
            <div class="hover_call_icon"></div>
            <span>Call</span></div>
        </a>
        <a class="sendsms" href="#sendsms" rel="#sendsms">
          <div class="hover_btn tooltip_sms">
            <div class="hover_sms_icon"></div>
            <span>SMS</span></div>
        </a>
        <a href="#">
          <div class="hover_more_btn"></div>
        </a>
      </div>
      <!-- close callsms container -->
      <div id="notification-box" class="notification-popup">
        <a href="#" class="close"><img class="btn_close" src="images/box_cross.png" /></a> <img class="centeralign" src="images/notification_call.png" /> <span>Calling... +44 7401 287366</span> </div>
      <!-- close notification box -->
      <!-- close list gray bg -->
      <div class="tooltip_description" style="display:none" id="disp"> asdsadaasdsad </div>
    </div>
  </li>
</ul>
<!-- /ko --> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-02-10T20:22:08.330

上面的解决方案效果很好。此外，如果您需要使用 foreach "as" 选项，您可以这样做：

```
data-bind="foreach: { data: myItems, afterRender: renderedHandlet, as: 'myItem'}"> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-10-15T19:46:27.750

在 3.5 版本中，Knockout 提供事件来通知节点的内容何时被绑定

HTML

```
<div data-bind="childrenComplete: bindingComplete">...</div> 
```

JavaScript

```
function bindingComplete(){
...
} 
```

如果您在封装所有子数据绑定表达式的 DOM 中的某个点创建事件绑定表达式，那么它就等同于页面绑定完成事件

参考 [https://knockoutjs.com/documentation/binding-lifecycle-events.html](https://knockoutjs.com/documentation/binding-lifecycle-events.html)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-06-05T17:41:28.377

我最近刚刚提出了一个带有淘汰赛的拉取请求，要求他们添加两个事件以在绑定中定义，展开，然后在渲染项目之前和渲染所有项目之后调用正确的位置。我没有收到他们的任何回复，但这正是您想要做的，但您不必编写 hacky 代码即可使其正常工作。我很惊讶以前没有人提出过这个要求。我使用添加到源中的这些回调来销毁和重新初始化淘汰赛绑定的 jquery 数据表。这是最简单的解决方案。我在网上看到了很多尝试不同的方法，但这是最简单的解决方案。

拉取请求：-> [pr 1856](https://github.com/knockout/knockout/pull/1856)

```
ko.bindingHandlers.DataTablesForEach = {

  init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
    var nodes = Array.prototype.slice.call(element.childNodes, 0);
    ko.utils.arrayForEach(nodes, function(node) {
      if (node && node.nodeType !== 1) {
        node.parentNode.removeChild(node);
      }
    });
    return ko.bindingHandlers.foreach.init(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);
  },
  update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {

    var value = ko.unwrap(valueAccessor()),
      key = "DataTablesForEach_Initialized";

    var newValue = function() {
      return {
        data: value.data || value,
        beforeRenderAll: function(el, index, data) {

          if (ko.utils.domData.get(element, key)) {

            $(element).closest('table').DataTable().destroy();
          }
        },
        afterRenderAll: function(el, index, data) {
          $(element).closest('table').DataTable(value.options);
        }
      };
    };

    ko.bindingHandlers.foreach.update(element, newValue, allBindingsAccessor, viewModel, bindingContext);

    //if we have not previously marked this as initialized and there is currently items in the array, then cache on the element that it has been initialized
    if (!ko.utils.domData.get(element, key) && (value.data || value.length)) {
      ko.utils.domData.set(element, key, true);
    }

    return {
      controlsDescendantBindings: true
    };
  }
}; 
```

[淘汰赛数据表 JSFiddle](http://jsfiddle.net/zachpainter77/z8us2aej/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-12-17T22:07:28.550

在 knockout.js 中尝试`afterRenderAll`回调：

> foreach：{数据：myItems，afterRenderAll：myPostProcessingLogic}

# android - 在 GLSurfaceView 之上绘制 Android UI

> ID：14254320
> 
> 赞同：8
> 
> 时间：2013-01-10T09:15:46.870
> 
> 标签：android, glsurfaceview

对于我的游戏，我正在考虑在`GLSurfaceView`使用 RelativeLayout 的基础上绘制 UI 元素（用于显示已用时间的 TextView、用于暂停/重新启动游戏的按钮）......

到目前为止，我自己直接将所有 UI 元素绘制到 surfaceView，但考虑到 Android UI 提供的广泛选项（例如更改字体和颜色的字体），我决定使用它。

问题：

*   在上面绘制 UI 元素是一种好习惯，`GLSurfaceView`还是直接将所有 UI 内容自己绘制到上面更好`GLSurfaceView`？
*   我将`TextView`通过使用方法定期（每 16 毫秒）更新 UI 元素（Say）的内容`runOnUiThread()`......这很糟糕吗？
*   我的游戏会受到强制关闭的影响吗？

这是我用来设置RelativeLayout的测试java代码......`glView`是`GLSurfaceView`实例。

```
 rl = new RelativeLayout(this);
    rl.addView(glView);        
    tv = new TextView(this);
    RelativeLayout.LayoutParams lp = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    lp.addRule(RelativeLayout.ALIGN_TOP);
    tv.setLayoutParams(lp);
    tv.setText("FPS: 0");
    tv.setBackgroundColor(0x4060ff70);
    rl.addView(tv);

    setContentView(rl); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T19:06:06.107

> *   在 GLSurfaceView 之上绘制 UI 元素是一种好习惯，还是直接将所有 UI 内容自己绘制到 GLSurfaceView 更好？

如果您希望 android 布局系统提供的灵活性，那么在 GLSurfaceView 上绘制 android 控件似乎是一个好主意。警告尽管这些控件的绘制速度可能比您的 glSurfaceView 慢得多，因此请确保 UI 不需要太多图形能力来呈现并且不会更新太快。

自己渲染所有内容是一种选择，但是您会失去所有可以从 android UI 系统获得的功能。

> *   我将使用 runOnUiThread() 方法定期（每 16 毫秒）更新 UI 元素（比如 TextView）的内容……这很糟糕吗？

对我来说听起来不错。

> *   我的游戏会受到强制关闭的影响吗？

这与其他问题无关。如果您遵循正确的用法并且不会引发异常，那么您应该没问题。如果您确实导致异常，那么您的应用程序将被强制关闭（除非您正确处理异常）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-05T15:23:01.880

我目前在我正在制作的 Android 游戏中这样做，所以我想我会分享我的经验。

> 在 GLSurfaceView 之上绘制 UI 元素是一种好习惯，还是直接将所有 UI 内容自己绘制到 GLSurfaceView 更好？

就我个人而言，我认为使用 Android 提供的内置 UI 小部件来绘制 UI 是一种很好的做法。在某些情况下它不适合，例如，可以在游戏区域周围拖动的 UI 控件或具有复杂动画或行为的 UI 控件。

如果您喜欢按钮和 textViews，那么我推荐您建议的方法。

> 我将使用 runOnUiThread() 方法定期（每 16 毫秒）更新 UI 元素（比如 TextView）的内容……这很糟糕吗？
> 
> 我的游戏会受到强制关闭的影响吗？

我使用相同的系统来更新我的 UI 组件。我不需要每 16 毫秒更新一次，但我当然没有任何强制关闭或无响应 UI 的问题。

如果您有很多（我说的是 10-20+）组件定期更新，那么您可能会遇到无响应的 UI 问题。

您是否需要每 16 毫秒（大约 60 FPS）更新一次视图？您可以更新基础值以保持正确的逻辑，但仅每 20-30FPS 更新一次视图以减少在 UI 线程上运行的数量（如有必要）。

我认为 UI 不需要像你的 openGL 视图那样频繁地更新，因为你没有以同样的方式到处乱跑。如果 textView 每秒更新 20 次，您仍然会感觉到它在不断变化。

# extjs - 在 ExtJS 中覆盖类/属性的最佳实践？

> ID：14254321
> 
> 赞同：32
> 
> 时间：2013-01-10T09:15:48.660
> 
> 标签：extjs, extjs4, overriding, extjs4.1

我有一个`Ext.form.field.Text`并且我想覆盖该`setValue`功能。

在 ExtJS 中覆盖此类功能的推荐方法是什么？[分机覆盖](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-override)？

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2013-01-10T09:33:37.277

> *澄清一下：* 通过**真正的类修改**，我指**的是对一个类的预期永久修改/扩展**，这应该总是通过扩展一个类来完成。但这并不是**针对特定问题（错误修复等）的临时解决方案**。

您至少有四个选项如何覆盖（Ext）类的成员

*   **我猜原型**是众所周知的，它允许您覆盖类的所有实例的成员。你可以像这样使用它

    ```
    Ext.view.View.prototype.emptyText = ""; 
    ```

    虽然你不能像这样使用它

    ```
    // callParent is NOT allowed for prototype
    Ext.form.field.Text.prototype.setValue = function(val) {
        var me = this,
            inputEl = me.inputEl;

        if (inputEl && me.emptyText && !Ext.isEmpty(value)) {
            inputEl.removeCls(me.emptyCls);
            me.valueContainsPlaceholder = false;
        }

        me.callParent(arguments);

        me.applyEmptyText();
        return me;
    }; 
    ```

    这是一个**[JSFiddle](http://jsfiddle.net/sran/czrt6/23/)**

    **此变体不应用于实际的类修改。**

*   **[Ext.override](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-override)**与原型几乎相同，但它完全适用于允许您使用的 ExtJS 类系统`callParent()`

    你可以像这样使用它

    ```
    // callParent is allowed for override
    Ext.override('Ext.form.field.Text', {
        setValue: function(val) {
            this.callParent(['In override']);
            return this;
        }
    }); 
    ```

    这是一个**[JSFiddle](http://jsfiddle.net/sran/czrt6/40/)**（修复了 cp 错误！感谢[@nogridbag](https://stackoverflow.com/users/695318/nogridbag)）

    > **用例：**我遇到了一个（我认为仍然存在的）radiogroup 的不良行为，其中 ExtJS 期望一个对象（键值对）来正确设置值。但我的后端只有一个整数。我首先使用**[Ext.override](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-override)**对该`setValue()` 方法进行了修复，然后从 radiogroup 扩展。在那里，我只是从给定的值创建一个键值对并用它调用父方法。

    **正如[@rixo](https://stackoverflow.com/users/1387519/rixo)提到的，这可用于覆盖实例成员。因此可能有资格覆盖甚至混合（我自己从未测试过）**

    ```
    var panel = new Ext.Panel({ ... });
    Ext.override(panel, {
        initComponent: function () {
            // extra processing...

            this.callParent();
        }
    }); 
    ```

    **此变体不应用于实际的类修改。**

*   **扩展**现有类以应用其他行为和渲染。使用此变体创建行为不同的子类型，而不会丢失原始类型。

    *在以下示例中，我们使用一种方法扩展文本字段以在设置新值时更改标签颜色，并在直接调用时`setColored`覆盖该`setValue`方法以处理删除标签颜色`setValue`*

    ```
    Ext.define('Ext.ux.field.Text',{
        extend: 'Ext.form.field.Text',
        widget: 'uxtextfield',
        setColored: function(val,color) {
            var me = this;
            if (me.settedCls) {
                me.removeCls(me.settedCls);
            }
            me.addCls(color);
            me.settedCls = color;
            me.setValue(val,true);
        },
        setValue: function(val,take) {
            var me = this;
            if (!take && me.settedCls) {
                me.removeCls(me.settedCls);
            }
            me.callParent(arguments);
            return me;
        }
    }); 
    ```

    这是一个**[JSFiddle](http://jsfiddle.net/sran/czrt6/26/)**

*   **在极少数情况下会发生每个实例的覆盖，**并且可能不适用于所有属性。在这种情况下（我手头没有示例），您只需要一种不同的行为，您可能会考虑仅针对每个实例覆盖一个设置。基本上，当您在类创建上应用配置时，您总是会做这些事情，但大多数时候您只是覆盖配置属性的默认值，但您也可以覆盖引用函数的属性。这完全覆盖了实现，您可能不允许访问基本类型（如果存在），这意味着您不能使用`callParent`. 你可以试试`setValue`看到它不能应用于现有的链。但同样，您可能会遇到一些有用的罕见情况，即使它只是在开发过程中并为了生产而重新实现。对于这种情况，您应该在使用[Ext.override](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-override)创建特定之后应用覆盖，如上所述。

    > **重要提示：**`this`如果您不使用[Ext.override](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-override) ，则无法通过调用访问类实例！

***如果我遗漏了某些内容或某些内容（不再）正确，请发表评论或随时编辑。***

正如**[@Eric评论的那样](https://stackoverflow.com/users/1102962/eric)**

这些方法都不允许您覆盖 mixins（例如 Ext.form.field.Field）。由于 mixin 函数在您定义类时被复制到类中，因此您必须直接将覆盖应用到目标类

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-05-05T22:52:46.647

@sra 的回答很好，对我更深入地了解 Ext 中可用的覆盖功能非常有帮助，但它不包括我最常实现的覆盖方式，看起来像这样：

```
Ext.define('my.application.form.field.Text' {
    override: 'Ext.form.field.Text'
    getValue: function () {
        // your custom functionality here
        arguments[1] = false;

        // callParent can be used if desired, or the method can be 
        // re-written without reference to the original
        this.callParent(arguments)
    }
}); 
```

我仍在使用 Ext 5，因此我将在我的文件中加载此文件`Application.js`并将其添加到那里的 requires 数组中，该数组将覆盖全局应用于应用程序。我认为 Ext 6 项目包含一个覆盖文件夹，只需将此文件添加到该文件夹​​即可确保应用覆盖。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-06-19T08:43:44.477

这是在 ExtJS 7 中对我有用的唯一方法。

例子：

应用程序/桌面/覆盖/Toast.js

```
Ext.define(null, {
    override: 'Ext.window.Toast',
    show : function () {
        this.callParent();
// Your custom code here...
    }
}); 
```

# objective-c - 单元格的 UITableView 内容不会继续编辑

> ID：14254326
> 
> 赞同：0
> 
> 时间：2013-01-10T09:16:05.913
> 
> 标签：objective-c, xcode, uitableview, editmode

我有`UITableView`一些自定义单元格。在每个单元格中，有一个`ImageView`和三个标签，并从一个字符串数组中获取数据。我已经在我的故事板中完成了布局。数据源是一个字符串数组。这行得通。

现在我`EditButton`在代码中插入了一个。现在我可以看到了`EditButton`，但是当我激活编辑模式时，表格单元格将被调整大小，但图像和标签不会移动。

你能告诉我如何移动单元格的内容吗？谁知道`UITableView`使用 EditMode 和故事板的教程。我发现的所有教程都基于“旧”Xcode。

非常感谢

顺便说一句，这是我的代码：

```
- (id)initWithStyle:(UITableViewStyle)style
{
    self = [super initWithStyle:style];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    myData = [NSMutableArray arrayWithObjects:
              @"Line1_Label1|Line1_Label2|Line1_Label3",
              @"Line2_Label1|Line2_Label2|Line2_Label3",
              @"Line3_Label1|Line3_Label2|Line3_Label3",
              nil];
    self.navigationItem.leftBarButtonItem = self.editButtonItem;
}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [myData count];
}

// Return a cell for the table
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    // A cell identifier which matches our identifier in IB
    static NSString *CellIdentifier = @"CellIdentifier";

    // Create or reuse a cell
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    // Get the cell label using its tag and set it
    NSString *currentItem = [myData objectAtIndex:indexPath.row];
    NSArray *itemArray = [currentItem componentsSeparatedByString:@"|"];

    UILabel *cellLabel = (UILabel *)[cell viewWithTag:1];
    [cellLabel setText:itemArray[0]];

    UILabel *cellLabel2 = (UILabel *)[cell viewWithTag:3];
    [cellLabel2 setText:itemArray[1]];

    UILabel *cellLabel3 = (UILabel *)[cell viewWithTag:4];
    [cellLabel3 setText:itemArray[2]];

    // get the cell imageview using its tag and set it
    UIImageView *cellImage = (UIImageView *)[cell viewWithTag:2];
    [cellImage setImage:[UIImage imageNamed: @"control.png"]];

    return cell;
}

// Do some customisation of our new view when a table item has been selected
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    // Make sure we're referring to the correct segue
    if ([[segue identifier] isEqualToString:@"ShowSelectedMovie"]) {

        // Get reference to the destination view controller
        ItemViewController *vc = [segue destinationViewController];

        // get the selected index
        NSInteger selectedIndex = [[self.tableView indexPathForSelectedRow] row];

        // Pass the name and index of our film
        [vc setSelectedItem:[NSString stringWithFormat:@"%@", [myData objectAtIndex:selectedIndex]]];
        [vc setSelectedIndex:selectedIndex];
    }
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:18:08.860

首先在.h中制作一个tableview的IBOutlet，在.m中合成。

然后对编辑按钮进行操作（如果您还没有）。在动作中，写：

```
 CGRect rect = yourTableView.cell.contentView.frame;
    //Do whatever changes you wish to do with the sizing of the view. origin changes placement and size changes size (duh). Line below is an example.
    rect.origin.y = yourTableView.cell.contentView.frame.origin.y - 20;

    yourTableView.cell.contentView.frame = rect; 
```

这不会是动画的，但我认为它会实现你的目的。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-07T13:27:44.437

覆盖自定义 UITableViewCellController.m 的`-(void)layoutSubviews{}`- 方法，或者如果您不使用自定义 UITableViewCellController，请在 UITableViewController 中尝试。但是我还没有尝试过没有自定义 UITableViewCellController。

像这样的东西可以解决问题：

```
 -(void) layoutSubviews { 
      [super layoutSubviews];
      CGFloat xPositionOfElementInTableCell = 273.0f; /* the position of the element before going into edit mode */

      if (self.isEditing && !self.showingDeleteConfirmation) // if we enter editing mode but not tapped on the red minus at the moment
      {
          xPositionOfElementInTableCell = 241.0f;
      } else if (self.isEditing && self.showingDeleteConfirmation) // after we tappet on the red minus
          xPositionOfElement = 193.0f;
      }

      CGRect frameOfElementInTableCell = self.myElementInTableCell.frame;
      frameOfElementInTableCell.origin.x = xPositionofElement;
      self.myElementInTableCell.frame = frameOfElementInTableCell;
 } 
```

我希望它对你有帮助。这段代码的想法不是我的。我也在这里找到了它。不知道具体在哪里。

# jquery - 将 jquery-ui 对话框内容设置为对话框大小

> ID：14254327
> 
> 赞同：1
> 
> 时间：2013-01-10T09:16:16.963
> 
> 标签：jquery, css, jquery-ui, jquery-ui-dialog

我在 [这里有 jquery-ui 对话框](http://net.tutsplus.com/tutorials/javascript-ajax/creating-a-windows-like-interface-with-jquery-ui/)

问题是，在指定一些内容然后按下创建按钮时，内容需要填充整个对话框，但它正在计算它自己的宽度和高度并将其仅定位在对话框的一部分中。我试过给

```
width:100%; 
```

到css中内容持有者的id，但它不起作用。

截屏： ![在此处输入图像描述](../Images/b6bb9b4d52334b6e79c974df84e99418.png)

CSS：

```
.ui-dialog .ui-dialog-content { position: relative; border: 0; padding: .5em 1em; background: none; overflow: auto; zoom: 1; width:auto;/*height: auto;*/} 
```

任何人都可以帮助我哪里出错了吗？

干杯吉夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:33:06.997

看到你在那里给的链接。

我没有出现 div 的 id。如果它不存在，请给出一些 id。然后应用以下 css。

```
#id_of_dialogue{
height: 430px;
width: 368px;
top: 80px;
left: 324px;
} 
```

# java - 在 Java Swing 中禁用时如何调整字段的不透明度

> ID：14254328
> 
> 赞同：1
> 
> 时间：2013-01-10T09:16:23.383
> 
> 标签：java, swing, opacity, jtextfield

我有一个程序在启动时会禁用字段，以便用户无法更改参数。然而，不透明度变化如此之大，以至于当时的文字并不像我想要的那样清晰。我将字体设置为粗体，但这并没有太大帮助，而且在未禁用时它看起来也不合适。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:47:25.650

如果您真的指的是`JTextComponents`，那么我猜您需要的是[setDisabledTextColor(...)](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setDisabledTextColor%28java.awt.Color%29)，如下所示：

```
tarea = new JTextArea(10, 10);
tarea.setText("Hello World!");
tarea.setEnabled(false);
tarea.setDisabledTextColor(Color.BLACK); 
```

# makefile - 从 Rsync 的 Makefile 调用 winexe 的 Makefile

> ID：14254329
> 
> 赞同：0
> 
> 时间：2013-01-10T09:16:24.510
> 
> 标签：makefile, header-files, rsync, winexe

我想合并两个不同的源代码并为此制作单个可执行文件。我将 sourcecode1 作为 RSYNC，将 sourcecode2 作为 WINEXE。我想将 WINEXE 代码集成到 RSYNC 中。为此，我将 WINEXE 代码放在 RSYNC 代码中。

我在 RSYNC 的 Makefile 中将位于 WINEXE/source4/ 中的 WINEXE makefile 称为

```
WINEXE = winexe/source4

TARGET = $(WINEXE)

$(TARGET):

         @$(MAKE) -C $@; 
```

并从RSYNC代码调用WINEXE的主函数。

但是我遇到了很多与找不到头文件相同的错误。但是当我在 WINEXE 中使用“make”命令时，它工作正常。

有数百个头文件，因此无法更改每个文件中的头文件和库的路径。

请告诉我如何整合这两个代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T04:16:27.410

问题解决：尝试使用以下命令

> .PHONY：winexe
> 
> 运行程序：
> 
> ```
>  cd winexe/source4 && ./configure && make 
> 
>      @echo "i am here inside source" 
> ```

在外层 Makefile 中，调用内层文件夹的 Makefile。

# php - 如何使 if 语句检查图像是否已设置

> ID：14254331
> 
> 赞同：0
> 
> 时间：2013-01-10T09:16:28.450
> 
> 标签：php, wordpress, if-statement

我正在使用 Word press 的插件来设置 2 张精选图片以供发布。我需要做一个 if 语句来检查是否设置了第二个特色图像。如果已设置，它将显示代码场景 1。但如果未设置，并且如果未设置，则我需要显示代码场景 2。

这是我需要检查的功能代码，这将显示第二张图像。

```
<?php kd_mfi_the_featured_image( 'featured-image-2', 'post' ); ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:33:37.190

您应该使用 kd_mfi_get_the_featured_image：

```
<?php if(class_exists( 'kdMultipleFeaturedImages') && kd_mfi_get_the_featured_image('featured-image-2','post')): 
?>
<!-- If the image exists... Your code here, either HTML or PHP -->
<?php else: ?>
<!-- If the image not exists... Your code here, either HTML or PHP -->
<?php endif; ?> 
```

# c# - 使用 ViewState 和 ViewStateMode="Disabled" EnableViewState="true"

> ID：14254333
> 
> 赞同：1
> 
> 时间：2013-01-10T09:16:37.097
> 
> 标签：c#, asp.net, viewstate

我在 aspx 页面中使用 asp.net 和这段代码：

```
public partial class Default : System.Web.UI.Page
{
    string _Name;

    protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
        {
            _Name = "Maikel";
            ViewState["Name"] = _Name;
        }
    }

    protected void btnAddName_Click(object sender, EventArgs e)
    {
        if (ViewState["Name"] == null)
        {
            txtName.Text = "Empty";
        }
        else
        {
            txtName.Text = ViewState["Name"].ToString();
        }
    }
} 
```

没关系。并在文本框中显示“Maikel”。但是当我使用这段代码时：

```
<%@ Page Language="C#" AutoEventWireup="true" **ViewStateMode="Disabled" EnableViewState="true**" CodeBehind="Default.aspx.cs" Inherits="WebApplication3.Default" %> 
```

`ViewState["Name"]`是`Empty`！并在文本框中显示“ `Empty`”。为什么？

请帮助我`ViewState`使用`ViewStateMode="Disabled" EnableViewState="true"`。

**编辑：**

我使用母版页和（使用母版页的网页），并在母版页中编写此代码：

```
<%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Site1.master.cs" ViewStateMode="Disabled" EnableViewState="true" Inherits="WebApplication3.Site1" %> 
```

和代码`ViewState["Name"]`后面的代码（使用母版页的网页），ViewState 不是空的！为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:25:16.500

`ViewStateMode="Disabled"`在您的情况下，您通过在页面级别设置禁用了整个页面的 ViewState 属性。这就是为什么您在视图状态中没有得到任何东西的原因。

[ASP.NET 视图状态概述](http://msdn.microsoft.com/en-us/library/bb386448%28v=vs.100%29.aspx)

> 要默认禁用整个页面的视图状态，请将 @Page 指令的 ViewStateMode 属性设置为 Disabled。

[Control.ViewStateMode 属性](http://msdn.microsoft.com/en-us/library/system.web.ui.control.viewstatemode.aspx) *(MSDN)*

> 要**禁用页面的视图状态并为页面**上**的特定控件启用它**，请将页面和控件的 EnableViewState 属性设置为 true，将页面的 ViewStateMode 属性设置为 Disabled，并将控件的**ViewStateMode 属性设置为启用。**
> 
> 仅当 EnableViewState 属性设置为 true 时，页面或控件的 ViewStateMode 属性才有效。如果 EnableViewState 属性设置为 false，即使 ViewStateMode 属性设置为 Enabled，视图状态也会关闭。

**编辑：** 在页面中使用 ViewState。

您可以将所有控件放在一个面板中，对于该面板，您可以将 ViewState 设置为 false。在页面级别启用`ViewStateMode`，您将能够在后面的代码中使用 ViewState

对于 MasterPage，您可以禁用 ViewState`ContentPlaceHolder`

```
<asp:ContentPlaceHolder ID="HeadContent" runat="server" EnableViewState="false">
</asp:ContentPlaceHolder> 
```

并在母版页级别启用`ViewStateMode`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:44:32.403

对于`EnableViewState="True" ViewStateMode="Disabled"` 页面将不会保持任何视图状态，即 `ViewState["Name"]`

如果您需要对其进行管理，则需要设置`EnableViewState="True" ViewStateMode="Enabled"`

# actionscript-3 - 如何获取颜色的灰度值？

> ID：14254341
> 
> 赞同：1
> 
> 时间：2013-01-10T09:16:43.337
> 
> 标签：actionscript-3, flash

我正在使用下面的代码来获取颜色，将其更改为灰度，然后保存。问题是它总是蓝色而不是灰色。

```
newBitmapData = new BitmapData(bitmapWidth, bitmapHeight, true);

// Extract individual red, green, and blue values for the pixel:
rgbVal = bitmapData.getPixel(x, y);

redVal = (rgbVal & 0xFF0000) >> 16;
greenVal = (rgbVal & 0x00FF00) >> 8;
blueVal = rgbVal & 0x0000FF;

grayVal = Math.floor(0.3 * redVal + 0.59 * greenVal + 0.11 * blueVal);

newBitmapData.setPixel(x, y, grayVal); 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:25:21.683

您的“grayVal”只是它的亮度，要根据其亮度制作颜色：

```
newBitmapData.setPixel(x, y, Math.min(255,uint(grayVal))*0x10101); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T10:39:27.153

您没有再次将红色和绿色移回：

```
redVal = (rgbVal & 0xFF0000) >> 16;
greenVal = (rgbVal & 0x00FF00) >> 8;
blueVal = rgbVal & 0x0000FF;

//shift red and green back to original positions
redVal = int(0.3*redVal)<<16;
greenVal = int(0.59*greenVal)<<8;

grayVal = Math.floor(redVal + greenVal + 0.11*blueVal); 
```

# semantic-web - 迁移芝麻存储库

> ID：14254345
> 
> 赞同：0
> 
> 时间：2013-01-10T09:17:11.277
> 
> 标签：semantic-web, sesame, triplestore

我想将原生 Sesame 存储库迁移到基于 postgresql 的存储库。我还没有找到任何读取此任务的解决方案。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-13T05:17:37.300

首先，您应该知道 Sesame PostgreSQL 存储（以及 MySQL 存储）已被弃用，这意味着它们仍然可用，但不再积极支持或维护。

话虽如此，一个简单的迁移方法如下：

1.  使用 Sesame Binary RDF 格式或 TriG/TriX/N-Quads 将数据从您的本地存储库导出到文件。您可以通过编程方式或使用多个 Sesame 客户端工具之一进行导出，包括命令控制台或工作台。
2.  设置新的 PostgreSQL 存储
3.  将导出的数据文件加载到新的 PostgreSQL 存储中。

有关每个单独步骤的更多详细信息，请查看[Sesame 文档](http://www.openrdf.org/documentation.jsp)。

# string - R从自定义字符串中删除空格

> ID：14254354
> 
> 赞同：1
> 
> 时间：2013-01-10T09:17:30.827
> 
> 标签：string, r

我正在尝试按顺序将股票列表传递给 SQL 查询。为此，我将自定义字符串传递给 sqlQuery 命令。

我按如下方式构建字符串：

```
my.stocks <- c('BIL','BTI')
a <- "SELECT TRADE_DATE_TIME,PRICE  FROM MYDATA where TRADE_DATE_TIME > '2013-01-01' and INSTR_CODE = "
b <- my.stocks[1]
c <-  "order by TRADE_DATE_TIME asc"
my.string <- paste(a,"'",b,"'",c) 
```

我的问题是在自定义字符串中，引号和变量 b 之间有空格。如何删除这些空格？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:22:33.007

使用`sep`参数`paste`：

```
my.string <- paste(a,"'",b,"'",c, sep="") 
```

您还必须在`c`字符串的开头添加一个空格：

```
c <-  " order by TRADE_DATE_TIME asc" 
```

# html - 将 div 相对定位在另一个中

> ID：14254357
> 
> 赞同：3
> 
> 时间：2013-01-10T09:17:41.743
> 
> 标签：html, css

我在定位徽标和标题 div 时遇到问题。徽标工作正常，但标题 div 并没有准确定位在我想要的位置。它的位置变得与徽标相关，而不是与标题内容 div 相关。

提前致谢

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <style>
    *
    {
        margin:0px;
        padding:0px;
    }

    #header_wrap
    {
        float: left;
        width: 100%;
        height: 150px;
        background: #dddddd;
    }

    #header_content
    {
        width: 850px;
        height: 150px;
        margin: 0 auto 0;
        background: #cccccc;
    }

    #logo
    {
        width: 50px;
        height: 50px;
        background: #ffffff;
        position: relative;
        left: 10px;
        top: 50px;
    }

    #title
    {
        width: 100px;
        height: 50px;
        background: #ffffff;
        position: relative;
        left: 100px;
        top: 10px;
    }
    </style>
</head>

<body>

    <div id="header_wrap">
        <div id="header_content">
            <div id="logo">LOGO</div>
            <div id="title">TITLE</div>
        </div>
    </div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:20:03.450

`position:relative;`将改变元素相对于其**原始**位置的位置：

> ### `relative`
> 
> 盒子的位置是根据正常流计算的（这称为正常流中的位置）。然后盒子相对于它的正常位置偏移。

您想使用`position:absolute`以更改元素相对于下一个父元素的位置，该位置不是`static`：

```
#logo, #title{
    position: absolute;
}

#header_content{
    position: relative;
} 
```

请记住，这将删除内容流的元素，因此您可能需要在`#header_content`.

也可以看看：

*   [W3C：CSS 2.1：9 视觉格式化模型（第 9.3.1 节）](http://www.w3.org/TR/CSS2/visuren.html#choose-position)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:48:49.913

请准确描述您想要什么。我认为它可以提供帮助：

```
#header_content {
  width: 850px;
  height: 150px;
  margin: 0 auto 0;
  background: #CCC;
  position: relative;
}

#logo {
  width: 50px;
  height: 50px;
  background: white;
  float: left;
  margin-right: 50px;
  border: 1px solid #123456;
}

#title {
  width: 100px;
  height: 50px;
  background: white;
  float: left;
  border: 1px solid #098756;
} 
```

# c++ - C++ VisualStudio 获取文件版本信息

> ID：14254359
> 
> 赞同：1
> 
> 时间：2013-01-10T09:17:53.300
> 
> 标签：c++, winapi, mfc, getfileversion

我下载了这个类[http://www.codeproject.com/file/VersionInfo.asp](http://www.codeproject.com/file/VersionInfo.asp)

我用它从我当前运行的几个程序中获取文件信息。

当我想从我编写的程序中获取信息时它工作正常，但我无法获取“chrome”或我的“visual studio”的文件信息。

当我查询我的应用程序的产品名称时，我得到“Todo:ProductName”，因为它尚未设置；）

但是当我查询 chrome.exe 的 productName 时，我只得到“”什么都没有。

有谁知道为什么？

编辑：我调试了一下，问题就在这里。

```
BOOL CFileVersionInfo::Open( IN LPCTSTR lpszFileName )
{  
if( lpszFileName == NULL )
    ASSERT_RETURN( FALSE );

Close();
if( !GetVersionInfo( lpszFileName ) || !QueryVersionTrans() )
    Close();

return m_bValid;
}; 
```

输入“chrome.exe”时，GetVersionInfo(lpsz...) 确实返回 0

编辑 2：是的 chrome.exe 有一个产品名称字段。

示例：chrome.exe - 文件描述：Google Chrome - 类型：应用程序 - 文件版本：23.0.1271.97 - 产品名称：Google Chrome - 产品版本：23.0.1271.97 - 版权所有：..blabla... - 大小：1.18MB -修改日期：some_date - 语言：英语 - 原始文件名：chrome.exe

编辑 3：如何获得 exe 的完整路径？我只有进程ID。目前，我正在遍历所有进程并搜索我的 processId。

到目前为止感谢您的回答:-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:44:07.327

> 如何获得exe的完整路径？

使用[OpenProcess()](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms684320%28v=vs.85%29.aspx)获取`HANDLE`进程，然后使用[QueryFullProcessImageName()](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684919%28v=vs.85%29.aspx)获取 exe 的完整路径。

记得检查结果[`GetLastError()`](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms679360%28v=vs.85%29.aspx)以确定失败的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T10:13:37.550

这对我来说很好

```
#include <windows.h>
#include <vector>
#include <string>
#pragma comment( lib, "Version.lib" )

std::string processId_2_version( int processId )
{
    HANDLE h = OpenProcess( PROCESS_QUERY_INFORMATION, FALSE, processId );
    if ( h == 0 )
    {
        return "";
    }
    char exe[ 1024 ];
    DWORD exe_size = 1024;
    QueryFullProcessImageNameA( h, 0, exe, & exe_size );
    CloseHandle( h );
    DWORD dwHandle, sz = GetFileVersionInfoSizeA( exe, & dwHandle );
    if ( 0 == sz )
    {
        return "";
    }
    std::vector< unsigned char > buf( sz );
    if ( !GetFileVersionInfoA( exe, dwHandle, sz, & buf[ 0 ] ) )
    {
        return "";
    }
    VS_FIXEDFILEINFO * pvi;
    sz = sizeof( VS_FIXEDFILEINFO );
    if ( !VerQueryValueA( & buf[ 0 ], "\\", (LPVOID*)&pvi, (unsigned int*)&sz ) )
    {
        return "";
    }
    char ver[ 142 ];
    sprintf( ver, "%d.%d.%d.%d"
            , pvi->dwProductVersionMS >> 16
            , pvi->dwFileVersionMS & 0xFFFF
            , pvi->dwFileVersionLS >> 16
            , pvi->dwFileVersionLS & 0xFFFF
            );
    return ver;
} 
```

# php - PDO 会知道 mysql 是否崩溃？

> ID：14254362
> 
> 赞同：4
> 
> 时间：2013-01-10T09:18:10.227
> 
> 标签：php, mysql, exception, pdo

如果这是一个愚蠢的问题，请原谅我，但我处境艰难。

做这个：

```
$query = "SELECT `av`.`UUID`, `pay`.`amount`, `pay`.`id`
      FROM `2starsglobal`.`avatars` AS av
      RIGHT JOIN `payments` AS `pay` ON `av`.`id` = `pay`.`avatarId`
      WHERE `pay`.`payed` = 0 AND `pay`.`verificationPending` = 0
      ORDER BY `pay`.`id` ASC
      LIMIT 0, 14";

$stmt = $db->query($query);

echo 'SUCCESS';

$payments = "";

while($row = $stmt->fetch(PDO::FETCH_NUM))
{
    $payments .= ",{$row[0]},{$row[1]},{$row[2]}";
    //echo ',', $row[0],',', $row[1],',', $row[2];
    $query = "UPDATE `payments` SET `verificationPending`=1 WHERE `id`={$row[2]}"; 
}

try
{
    $db->query($query)->closeCursor();
}
catch(PDOException $e)
{
    return;
}

echo $payments; 
```

保证php会处理下面的情况吗？

我们有一个游戏支付系统，上次我们将其用于测试时，分配内存的 mysql 设置不正确，因此数据库拒绝连接并且没有按应有的方式运行查询，或者至少有一些他们。所以结果是，付款表中的已付款标志未设置，并且要一遍又一遍地进行付款。

现在上面的这段代码是查询和**成功**消息（用于通信）之后的内容，我的想法是如果 mysql 崩溃或失败，则不显示应该支付的款项。上面的块在所有情况下都有效吗？

希望我让自己清楚明白

**编辑：** 上面的代码主要是为了演示而编写的，它不是正确的代码，因为我注意到有点晚了。但这不应该打扰你，因为最初的问题是。如果`PDO`将处理数据库崩溃和所有其他问题。

我的想法是针对每个成功更新的行，针对`echo`特定的付款，这不是上面的代码所做的。很乱。

**更多编辑**

正如你会注意到的，我渴望得到一个关于我有多安全的答案。（我希望它有状态和事实，因为我安全或为什么不安全）所以这就是我可能会保留的代码，除非另有说明。我应该对此感到安全吗？

```
$query = "SELECT `av`.`UUID`, `pay`.`amount`, `pay`.`id`
      FROM `2starsglobal`.`avatars` AS av
      RIGHT JOIN `payments` AS `pay` ON `av`.`id` = `pay`.`avatarId`
      WHERE `pay`.`payed` = 0 AND `pay`.`verificationPending` = 0
      ORDER BY `pay`.`id` ASC
      LIMIT 0, 14";

$stmt = $db->query($query);

$payments = $stmt->fetchAll(); 

$query = "UPDATE `payments` SET `verificationPending`=1 WHERE "; 

foreach($payments as $payment)
{
     $query .= "`id`={$payment[2]} AND "; 
}

$query = substr($query, 0, strlen($query-5));

try
{
    $db->beginTransaction();

    $db->query($query)->closeCursor();

    $db->commit();
}
catch(PDOException $e)
{
    $db->rollBack();
    return;
}

echo "SUCCESS"; 

foreach($payments as $payment)
{
   echo ",{$payment[0]},{$payment[1]},{$payment[2]}";
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:24:54.740

它可能不是您正在寻找的解决方案，但您应该随时检查您的代码。在这种情况下，如果记录存在，您希望返回成功...

```
$query = '...';
$stmt = $db->query($query);

if($stmt === false)
    // Query failed to execute

while($row = $db->fetch(PDO::FETCH_NUM))
{
    ...
}

$stmt = $db->query($query);
if($stmt === false)
    // Update failed

$stmt->closeCursor();
// NOW you can echo 
```

[http://php.net/manual/en/pdo.query.php](http://php.net/manual/en/pdo.query.php) （如果查询失败，PDO 返回布尔值 false）

# maven-2 - Maven 3 警告：传输 asm:asm/maven-metadata.xml 失败

> ID：14254365
> 
> 赞同：4
> 
> 时间：2013-01-10T09:18:20.450
> 
> 标签：maven-2, maven-3, pom.xml, maven-assembly-plugin

在构建具有依赖项的 giraph jar 时，我们收到以下警告.. 真的不知道如何解决这些.. 我们已经尝试过

useProjectArtifact 为 false
并
unpack 为 true

两种剂量似乎都有效

任何建议如何解决这些...？？

```
[WARNING] Failure to transfer asm:asm/maven-metadata.xml from file:../../local.repository/trunk was cached in the local repository, resolution will not be reattempted until the update interval of local.repository has elapsed or updates are forced. Original error: Could not transfer metadata asm:asm/maven-metadata.xml from/to local.repository (file:../../local.repository/trunk): No connector available to access repository local.repository (file:../../local.repository/trunk) of type legacy using the available factories WagonRepositoryConnectorFactory

[WARNING] Failure to transfer asm:asm/maven-metadata.xml from file:../../local.repository/trunk was cached in the local repository, resolution will not be reattempted until the update interval of local.repository has elapsed or updates are forced. Original error: Could not transfer metadata asm:asm/maven-metadata.xml from/to local.repository (file:../../local.repository/trunk): No connector available to access repository local.repository (file:../../local.repository/trunk) of type legacy using the available factories WagonRepositoryConnectorFactory 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-17T20:22:47.530

这看起来像是连接问题、代理或防火墙，因此您可以制定以下解决方案：

*   显式引用 ASM 依赖项。查看正确的版本并尝试将其添加到您的 pom ( [http://mvnrepository.com/artifact/asm/asm](http://mvnrepository.com/artifact/asm/asm) ) 中。之后，执行`mvn install`以确保一切正常。

*   如果它不起作用，您可以尝试手动下载依赖项并将其复制到本地存储库（本地文件夹“.m2”）中，可能位于“/.m2/asm/asm/”。不是最好的解决方案，但也许这可以解决您的问题。

希望能帮助到你！

# jquery - 我正在使用二维数组使用 jquery flot 绘制我的图表。如何使用阈值产生两种不同的颜色？

> ID：14254371
> 
> 赞同：2
> 
> 时间：2013-01-10T09:18:26.657
> 
> 标签：jquery, flot, threshold

阈值函数在单维数组上工作正常，但是当我尝试在我作为输入的二维数组上实现它时，它不起作用。

我的数组：`d4=[{04,300},{10,800},{15,1200}]`

我的系列选择：

```
var options_current = {
  series: {
    lines: {
      show: true,
      lineWidth: 7,
      steps: true
    },
    points: {
      show: true,
      radius: 4
    },
  },
  xaxis: {
    min: 1,
    max: 30,
    tickFormatter: dayFormatter,
    tickColor: "rgba(255, 255,255, 0)",
    tickDecimals: 0,
    minTickSize: 5
  },
  yaxis: {
    min: 1,
    tickFormatter: dollarFormatter
  },
  grid: {
    hoverable: true,
    clickable: true,
    markings: [{
      xaxis: {
        from: temp_day,
        to: temp_day
      },
      color: '#A4A4A4'
    }],
  },
}; 
```

# android - 我们有办法将完整源代码包含到 APK 中吗？

> ID：14254373
> 
> 赞同：1
> 
> 时间：2013-01-10T09:18:34.190
> 
> 标签：android, eclipse, apk

我正在为不同的 Android 技术开发示例，并希望将完整的源代码（Eclipse 项目）包含在 APK 中。这应该允许任何拥有 Google Market 访问权限的人轻松重用代码。

是否有适当的方法来自动打包代码/资源并将其放入资产中？我在 Win//Linux 下使用 Eclipse。

目前我必须在签名之前手动 7z 压缩 src&res 并将其放入资产中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:23:57.583

当然，只需将其压缩并包含在您的 APK 下的目录中（例如 raw）。但请注意，您的 APK 至少会是其大小的 2 倍。

# c# - C# - 写入 CSV 文件时的格式列（单元格格式）

> ID：14254375
> 
> 赞同：4
> 
> 时间：2013-01-10T09:18:48.717
> 
> 标签：c#, .net, string

编写了将数据导出到 csv 文件的方法。如果`DEC20`csv 中单元格的值`20-Dec`是不正确的。

我的代码是这样的：

```
for (int i = 0; i < myData.Count(); i++)
{
    sb.AppendLine(string.Join(delimiter, 
                              Common.FormatExportString(myData[i].Code),
                              Common.FormatExportString(myData[i].Name),
                              Common.FormatExportString(myData[i].Description)));
}
//returns the file after writing the stream to the csv file.
return File(new System.Text.UTF8Encoding().GetBytes(sb.ToString()), "text/csv", fileName); 
```

请帮助我`string`使用 C# 获取要在 excel (csv) 文件中显示的确切格式。

例如： myData[i].Name 数据将是

> DEC20，或 2-5

像这样，

但 csv(excel) 中的输出显示为

> 12 月 20 日和 5 月 5 日

而不是原来的。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-10T09:34:35.390

问题与 csv 导出无关，如果您使用记事本打开 csv 文件，则格式正确。Excel 会自动将单元格类型检测为日期并将其显示为日期。

为避免这种行为，请将文本括在引号之间并在其前面放置一个`=`，如下所示：

```
= "DEC20" 
```

该文件应变为

```
= "field1", = "field2", = "field...", = "DEC20", ... 
```

你的方法应该变成：

```
for (int i = 0; i < myData.Count(); i++)
{
    sb.AppendLine(string.Join(delimiter, 
                              " = \"",
                              Common.FormatExportString(myData[i].Code),
                              Common.FormatExportString(myData[i].Name),
                              Common.FormatExportString(myData[i].Description)
                              "\""));
}

//returns the file after writing the stream to the csv file.
return File(new System.Text.UTF8Encoding().GetBytes(sb.ToString()), "text/csv", fileName); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:38:21.590

CSV 是一种非常简单的格式，它允许 Excel 在文本上应用默认格式。我建议您在不使用 CSV 的情况下编写 Excel 文件，但 Excel API 您应该指定您希望如何格式化单元格。

Excel COM 对象将允许您编写本机 Excel 文件。你可以在这里阅读： http: [//social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/ef11a193-54f3-407b-9374-9f5770fd9fd7](http://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/ef11a193-54f3-407b-9374-9f5770fd9fd7)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-07-23T07:39:13.430

问题不在于 CSV 输出，

问题是 Excel “太聪明了”，它会自动检测数据类型并推断 DEC20 是“December 20”，即使它不是！

您可以通过在文本前添加 ' 来指示 Excel 的文本列。作为
`"'my Val", "'Dec10", "'54/40/2042", "'22/7/2013", "439.54"`

所有这些都将被视为文本，而不是日期/数字或其他任何内容。

干杯

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-23T07:33:21.043

如果字符串被折叠，应该以正确的方式操作字符串以被excel接受。

如果字符串有，单引号（''）添加“'ur string'”并且整个字符串应该在`="your string with so all special characters and the commas"`

# oracle-sqldeveloper - sql developer导出表到xls

> ID：14254376
> 
> 赞同：0
> 
> 时间：2013-01-10T09:18:56.813
> 
> 标签：oracle-sqldeveloper

如何在不截断值的情况下将整个查询结果导出为 xls 格式（标题完好无损）。

例如

![黄色截断值](../Images/255e79a5f39fe4aebb9132ce4b77758f.png)

当实际值假设为 276408428673508271 时，该值**向上舍**入到**276408428673510000**

使用这种方法

![在此处输入图像描述](../Images/6e573c8902e84c5be6e5875f0cab878d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-10T16:22:46.910

通过单击网格中的“Ctrl+A”选择数据后，使用“Ctrl+Shift+C”复制带有 Header 的数据。将数据粘贴到 MS Excel 后，尝试将“格式”更改为数字或文本。您一定知道“格式化单元格”可作为 MS Excel 中的右键单击选项使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-01-06T15:07:33.570

我的解决方案是使用 LPAD 或 RPAD 函数，你给出你想要的确切长度，当你导出数据时，这些不会四舍五入。

# python - 如何将 pyplot 函数附加到图形实例？

> ID：14254379
> 
> 赞同：11
> 
> 时间：2013-01-10T09:19:06.727
> 
> 标签：python, numpy, matplotlib

以前，我遇到了[多个 Matplotlib 图形之间的干扰](https://stackoverflow.com/questions/7673444/avoid-interference-between-multiple-matplotlib-figures-on-the-web)问题。最后，我发现了一个问题，即某些 pyplot 函数不附加到它们的图形实例，但可以在并行创建的其他一些图形实例中呈现。

这是一些示例代码：

```
from django.http import HttpResponse
from numpy import arange, meshgrid
from matplotlib.mlab import bivariate_normal

def show_chart(request):
    delta = 0.025
    x = arange(-3.0, 3.0, delta)
    y = arange(-2.0, 2.0, delta)
    X, Y = meshgrid(x, y)
    Z1 = bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)
    Z2 = bivariate_normal(X, Y, 1.5, 0.5, 1, 1)
    Z = 10.0 * (Z2 - Z1)

    from matplotlib.pyplot import figure, contour
    fig1 = figure(figsize=(4, 4), facecolor='white')
    contour(X, Y, Z)

    response = HttpResponse(content_type='image/png')
    fig1.savefig(response, format='png')
    fig1.clear()
    return response 
```

上面示例中的轮廓 pyplot 函数可以在 fig1 中呈现，但有时也可以在其他并行生成的图中呈现。这很烦人。有什么方法可以将轮廓 pyplot 函数附加到 fig1？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-10T15:46:17.350

作为对这里发生的事情的一点解释，`matplotlib`有两个半独立的接口；状态机和OO接口。

状态机代码设计用于在交互式外壳中工作（并模仿 matlab 的界面）。它通过将 OO 接口包装在一组命令中来实现这一点，这些命令跟踪当前`figure`和`axes`是什么。当您使用来自`matplotlib.pyplot`（我怀疑您`from matploblib.pyplot import *`的代码中有一个）的命令时， in 或多或少等同于做`gcf().gca().contour(...)`. 当您创建一个新图形时，它会自动成为当前图形（如果您在迭代 shell 中使用它，这就是您想要的），因此您看到的行为是“正确的”行为。状态机界面也有代码，以确保在需要时重新绘制图形，管理 gui 事件循环等（您需要做的所有事情才能使交互界面顺利运行）。正如海登在评论中提到的那样，跑步`ipython --pylab`将自动运行`from matplotlib.pyplot import *`，这为您提供了一个非常好的交互式 shell。

OO 接口设计用于以编程方式处理`matplotlib`. 它增加了冗长的内容（您现在必须完成状态机的大部分工作），它弥补了清晰度。在 OO 模型中，大多数（可能是全部）绘图函数与`Axes`对象（[doc](http://matplotlib.org/api/axes_api.html)）相关联（因为可以有多个轴与图形相关联（例如使用的[子图](http://matplotlib.org/users/gridspec.html)`gridspec`）。

解决问题的另一种方法是

```
ax = fig1.gca() 
```

这将从 中获取当前轴`fig1`，如有必要，创建一个。如果您跟踪您的图形对象，而不是您的轴对象并且想要向图形添加另一个图形，这可能会有所帮助。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-01-10T09:43:30.787

您可以创建一个子图，然后调用子图的`contour`方法：

```
fig1 = figure(figsize=(4, 4), facecolor='white')
ax = fig1.add_subplot(111)
ax.contour(X, Y, Z) 
```

[`plt.subplots`](http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.subplots)只需一次调用即可方便地创建图形和子图：

```
import matplotlib.pyplot as plt

fig, ax = plt.subplots() 
```

# sql - 从同一数据库中的所有表中获取所有记录

> ID：14254381
> 
> 赞同：0
> 
> 时间：2013-01-10T09:19:11.727
> 
> 标签：sql, sql-server

如何呈现示例数据库中所有表的所有记录，下面的查询返回所有表记录计数。但我想要示例数据库中所有表的所有记录。

```
SELECT   TableName = o.name,
         Rows = max(i.rows)
FROM     sysobjects o
         INNER JOIN sysindexes i
           ON o.id = i.id
GROUP BY o.name
ORDER BY Rows DESC 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:28:02.533

您可以使用未记录的 (*) 存储过程对数据库中的每个表运行查询：

```
exec sp_MSforeachtable 'select * from ?' 
```

这将为每个表返回一个结果集。如果要将表名作为单独的列：

```
exec sp_MSforeachtable 'select ''?'' as TableName,* from ?' 
```

没有简单的方法来获得一个单一的结果集，因为一般情况下，数据库中所有表的列不会相互兼容。

* * *

(*) 希望这里的危险是显而易见的。它没有记录，因此它可能会根据应用于 SQL Server 的任何服务操作而消失或更改。另一方面，我怀疑他们永远不会移除它，而且它里面没有任何特殊的魔法。对于皮带和大括号，您可能希望以不同的名称将该过程复制到您自己的数据库中，然后您可以依赖它不会被更改。

# qt - 如何使小部件溢出以使滚动条出现在 Qt 中？

> ID：14254382
> 
> 赞同：6
> 
> 时间：2013-01-10T09:19:12.217
> 
> 标签：qt, user-interface, scrollbar, qscrollarea

我的小部件的结构是：

**QWidget 自定义为带有圆形边框的面板。**

要在边界内包含一个带有滚动条的区域并带有边距，然后我把它放在里面：

**带有 QVBoxLayout 的 QScrollArea（垂直添加内容）**

然后我在其中添加了一系列：

**标题间距为 0 的 QGroupBox 和 QFormLayout**

表单布局不像我想象的那样工作。里面的小部件是标签+旋转框，所有这些。

这是一张图片：

![图片](../Images/b58dc2cccc449b29503b62119de52f65.png)

第一的。他们没有居中。我不知道为什么。

第二。正如我告诉他们的，它们都被赋予了相同的固定尺寸，但无论如何它们都是堆积的，而不是压扁的，所以它们相互隐藏。为什么它不保持那个大小并且父 QScrollArea 显示外面的滚动条？这就是我想要的。

我不希望内容被压扁或拉伸。我希望他们处于领先地位。如果屏幕很大，面板会很长，但内容会在最上面，总是一样的大小。

* * *

有人要了代码，所以我把它复制在这里，但是代码真的很大......我认为它更令人困惑。但是好吧，我会删除没有意义的线条。这是您在该框中看到的部分：

```
 // THE PANEL OUTSIDE (A QWIDGET) is mainParametersLayout_. This particular scroll bar inside
  // is cameraModeParametersPanel_

  cameraModeParametersPanel_ = new QScrollArea();
  cameraModeParametersPanel_->setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);
  cameraModeParametersPanel_->setVerticalScrollBarPolicy(Qt::ScrollBarAsNeeded);
  mainParametersLayout_->addWidget( cameraModeParametersPanel_ );

  // HERE THERE ARE TWO MORE QGROUP BOXES. THE ONE THAT DOESN´T STAY THE WAY I SHOWED IS THIS. 

  QVBoxLayout* mainCameraLayout = new QVBoxLayout(cameraModeParametersPanel_);
  mainCameraLayout->setSpacing(5);

  // GROUP BOX 
  QGroupBox* activeCameraParametersGroup = new QGroupBox();
  activeCameraParametersGroup->setObjectName( parametersContainerName );
  activeCameraParametersGroup->setTitle(strings->cameraModeCameraParamsTitle);
  mainCameraLayout->addWidget( activeCameraParametersGroup );

  // LAYOUT
  QFormLayout* paramLayout = new QFormLayout( activeCameraParametersGroup );
  paramLayout->setRowWrapPolicy(QFormLayout::DontWrapRows);
  paramLayout->setFormAlignment( Qt::AlignHCenter | Qt::AlignTop );
  paramLayout->setLabelAlignment(Qt::AlignRight);

  // Iso : Spin Integer
  isoSpin = new SmartIntSpinButtons( control->getMinISO(), control->getMaxISO() );
  isoSpin->setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Fixed);
  paramLayout->addRow(strings->cameraISOCapString, isoSpin);

  // FStop: Spin Double
  fstopSpin = new SmartDoubleSpinButtons( control->getMinFStop(), control->getMaxFStop(), 2);
  fstopSpin->setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Fixed);
  paramLayout->addRow(strings->cameraFStopString, fstopSpin);

  // some other spins here...

  // Camera position: 3 Spin Double (X,Y,Z)
  camPosSpinX = new SmartDoubleSpinButtons( control->getMinCamPos(), control->getMaxCamPos(), 1);
  camPosSpinY = new SmartDoubleSpinButtons( control->getMinCamPos(), control->getMaxCamPos(), 1);
  camPosSpinZ = new SmartDoubleSpinButtons( control->getMinCamPos(), control->getMaxCamPos(), 1);

  camPosSpinX->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
  camPosSpinY->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
  camPosSpinZ->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);

  paramLayout->addRow( new QLabel( strings->cameraPositionString ) );
  QHBoxLayout* positionLy = new QHBoxLayout();
  positionLy->addWidget( camPosSpinX );
  positionLy->addWidget( camPosSpinY );
  positionLy->addWidget( camPosSpinZ );
  paramLayout->addRow( positionLy );

  // Target Position: 3 Spin Double( X,Y,Z )
  camTargetPosSpinX = new SmartDoubleSpinButtons( control->getMinCamTarget(), control->getMaxCamTarget(), 1);
  camTargetPosSpinY = new SmartDoubleSpinButtons( control->getMinCamTarget(), control->getMaxCamTarget(), 1);
  camTargetPosSpinZ = new SmartDoubleSpinButtons( control->getMinCamTarget(), control->getMaxCamTarget(), 1);

  camTargetPosSpinX->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
  camTargetPosSpinY->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
  camTargetPosSpinZ->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);

  paramLayout->addRow( new QLabel( strings->cameraTargetPositionString ));
  QHBoxLayout* targetLy = new QHBoxLayout();
  targetLy->addWidget( camTargetPosSpinX );
  targetLy->addWidget( camTargetPosSpinY );
  targetLy->addWidget( camTargetPosSpinZ );
  paramLayout->addRow( targetLy );

  // and the resoultion spins, which are the same style like the last one (but only X and Y). 
```

现在是所有样式表：

```
/* THE PANEL THAT CONTAINS THE QSCROLLBAR OUTSIDE */

SmartPanel
{
    background-image: url(:/resources/images/containers/panel_bg.png);
    background-repeat: repeat-y;
    background-position: left top;
    background-color: white;
    border: 1px solid #aaa;
    border-radius: 10;
    min-width: 20px;
    padding: 5px;

}

QScrollArea#parametersPanelScrollArea
{
    background: transparent;
    border: none;
}

/* the qgroupbox */  

QGroupBox#parametersContainer
{
  background-color: white;
  padding-top: 25px;
  border-style: solid;
  border-width: 1px;
  border-color: #aaa;
  border-radius: 10px;
}

QGroupBox#parametersContainer::title  {
    subcontrol-origin: margin;
    subcontrol-position: top center;
    border: 1px solid #aaa;
    margin-top: -5px;
    padding: 8px 5px 5px 5px;
    font-size: 18px;
    border-radius: 5px;
}    

/* ------------------ SPINBOX WIDGET ------------------------------------------*/

QWidget#intSpin, QWidget#doubleSpin
{
    min-height: 20px;
    border: 1px solid #ccc;
    padding: 0px;
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
    background: qlineargradient(x1:0, y1:0, x2:0, y2:1, stop:0 #ddd, stop:1 #fff);
}

QPushButton#upSpinBtn,
QPushButton#downSpinBtn
{
    border-radius: 0px;
    /*background: qlineargradient(x1:0, y1:0, x2:0, y2:1, stop:0 #ddd, stop:1 #fff);*/
    background-repeat: no-repeat;
    background-position: center;
    border: none;
}

QPushButton#upSpinBtn
{   
    background-image: url(:/resources/images/buttons/up_sm_arrow.png);
}

QPushButton#downSpinBtn
{
    background-image: url(:/resources/images/buttons/down_sm_arrow.png);
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-11T09:27:54.080

QScrollArea 不是容器。QScrollArea 是另一个小部件的“滚动视图”。你不应该在 QScrollArea 上设置布局。您应该创建小部件，用适当的布局填充它，然后使用[QScrollArea::setWidget(QWidget *)](http://qt-project.org/doc/qt-4.8/qscrollarea.html#setWidget)使其可滚动。

# javascript - Wordpress 不加载 javascript 文件

> ID：14254384
> 
> 赞同：1
> 
> 时间：2013-01-10T09:19:14.803
> 
> 标签：javascript, wordpress, plugins, ftp

我刚刚上传了一个之前在我的本地主机上开发的 wordpress 网站。在我的本地主机上，有几个插件 javascript 文件被拾取并用于在谷歌地图插件上显示标记的工具提示。

在我的本地主机上，这一切都很好，但是当我通过 FTP 上传它时，一些 javascript 文件似乎不再加载。有什么方法可以检查页面加载 javascript 时正在上传哪些文件？

每当我尝试从 Filezilla 检查或编辑文件时，都会出现 Microsoft JScript 运行时错误，代码：800A1391，错误：“文档”未定义，因此我无法检查主机使用的代码是否与我的完全相同本地主机。

非常感谢，

担

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:26:00.293

Try using either firebug [http://getfirebug.com/](http://getfirebug.com/) with Firefox or the Chrome web inspector and look at the (Net/Network) panel while you reload the page to see if the js files are trying to load. This should give you some insight.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:23:03.023

大多数浏览器开发工具包（Dragonfly、Chrome 开发工具、Firebug 等）都包含一个**Net**选项卡，它会告诉您哪些文件已被请求以及它们的状态。

# python - 使用 python 64bit 运行 32bit 程序

> ID：14254386
> 
> 赞同：2
> 
> 时间：2013-01-10T09:19:33.983
> 
> 标签：python, 64-bit, 32-bit, os.system

我想使用 os.system 或 subprocess.call 或其他方式通过 python 运行程序，但该程序是 32 位程序，而我的 python 是 64 位，无法找到该程序以运行它。通过python运行程序的最简单方法是什么？

更多细节：我正在使用 ubuntu，运行 python 2.7，安装 ia32-libs（程序从命令行完美运行），使用空闲运行 python。

谢谢！

=============（那天晚些时候）==============

好的，我知道了。问题在于仅使用 IDLE 时（不知道为什么）。使用其他 guis (iron python, eclipse) 不会返回错误。

谢谢你们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:23:03.997

```
subprocess.call("command param1 param2", shell=True) 
```

为我工作。你确定这是一个 32/64 位的问题吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T10:00:41.347

我必须同意 Thorsten：这应该可以正常工作。我在 Debian stable 上使用 64 位 python2.6 并使用 xsnow 32 位对其进行了测试：

```
$ file $(which python2.6)
/usr/bin/python2.6: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.18, stripped

$ file ~/bin/xsnow 
/home/myuser/bin/xsnow: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.8, stripped
aschmitz@dpcl001:~

$ python
Python 2.6.6 (r266:84292, Dec 26 2010, 22:31:48) 
[GCC 4.4.5] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import subprocess
>>> subprocess.call( "~/bin/xsnow", shell=True )
Xsnow-1.42, December 14th 2001 by Rick Jansen (rja@euronet.nl)
WWW: http://www.euronet.nl/~rja/Xsnow/ 
```

你能提供一个失败的示例代码吗？

# linux - 使用shell脚本重命名目录及其子目录中的文件夹？

> ID：14254387
> 
> 赞同：-1
> 
> 时间：2013-01-10T09:19:38.887
> 
> 标签：linux, windows, bash, shell

我有很多文件夹名为“XXXXX”，只是重命名为“OOOO”，脚本怎么写？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:54:29.710

`find`如果您的文件夹是带有附加命令的嵌套使用命令`remane`，如下所示：

```
find /path/to/your/folder -depth -iname XXXX -execdir rename s/XXXX/OOOO/ {} \; 
```

否则，只需使用`rename`：

```
 rename s/XXXX/OOOO/ 
```

# asp.net-mvc - 当我尝试将一个模型用于两个不同的视图时，foreach 循环出错

> ID：14254388
> 
> 赞同：1
> 
> 时间：2013-01-10T09:19:40.353
> 
> 标签：asp.net-mvc, razor

我对 ASP.NET MVC 很陌生，所以这可能是一个简单的问题。我按照[W3 Schools Movies 教程](http://www.w3schools.com/aspnet/mvc_app.asp)创建了一个小型数据库，其中包含我想用作博客文章并列出在主索引上。这是我当前的 Aktuelnosti.cs 代码

```
 namespace comp_2000.Models
{
    public class Aktuelnosti
    {
        public int ID { get; set; }
        public string Naslov { get; set; }
        public string Sadrzaj { get; set; }
        public DateTime Datum { get; set; }
    }
    public class AktuelnostiContext : DbContext
    {
        public DbSet<Aktuelnosti> Aktuelnosti { get; set; }
    }
} 
```

这是我在 Aktuelnosti 中对 Index.cshtml 的相关视图，它有效

```
@model IEnumerable<comp_2000.Models.Aktuelnosti>

<table border="1">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Naslov)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Sadrzaj)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Datum)
        </th>
        <th></th>
    </tr>

        @foreach (var item in Model) {
    <tr>
        <td width="20%">
            @Html.DisplayFor(modelItem => item.Naslov)
        </td>
        <td width="60%">
            @Html.DisplayFor(modelItem => item.Sadrzaj)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Datum)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.ID }) |
            @Html.ActionLink("Preview", "Details", new { id=item.ID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.ID })
        </td>
    </tr> 
```

所以，当我在 Home 中尝试相同的 Index.cshtml 代码时，它看起来像这样

```
@model IEnumerable<comp_2000.Models.Aktuelnosti>
@foreach (var item in Model)
{
<p>@Html.DisplayFor(modelItem => item.Naslov)</p>
<p>@Html.DisplayFor(modelItem => item.Sadrzaj)</p>
<p>@Html.DisplayFor(modelItem => item.Datum)</p>
<hr>
} 
```

我明白了

```
 Object reference not set to an instance of an object.

Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: System.NullReferenceException: Object reference not set to an instance of an object.

Source Error: 

Line 48:       
Line 49: 
Line 50: @foreach (var item in Model)
Line 51:     {
Line 52:     <p>@Html.DisplayFor(modelItem => item.Naslov)</p> 
```

它说问题出在 foreach 循环中。我做错了什么？我只想将一个数据库中的相同数据显示在两个不同的页面上。

编辑：还有一些关于用户代码未处理的 NullReferenceException。希望这对你有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:22:22.303

`System.NullReferenceException`表示某事为空。在这种情况下，很可能`Model`是`null`。确保控制器正在传递模型。

# java - 安卓中的 Flipper 和 ListView

> ID：14254403
> 
> 赞同：0
> 
> 时间：2013-01-10T09:20:19.543
> 
> 标签：java, android, listview

我使用 Flipper 作为父级，使用 Listview 作为子级。我的问题是列表视图中项目的翻转和单击。当我翻到下一页（通过从右向左拖动）时，我不小心单击了一个列表项。

**当我已经做出翻转手势时，如何禁用列表视图的 onClick？**

代码：

脚蹼 Ontouch：

```
public boolean dispatchTouchEvent(MotionEvent touchevent) {
        super.dispatchTouchEvent(touchevent);
        switch (touchevent.getAction()) {
        case MotionEvent.ACTION_DOWN: {
        lastX = touchevent.getX();
        break;
    }
    case MotionEvent.ACTION_UP: {
        float currentX = touchevent.getX();
        if (lastX - 100 > currentX) {
            if (result_pageNum < max_pageNum) {
                result_pageNum++;
                if (vf.getDisplayedChild() == 0) {
                    listView[1].setClickable(false);
                    setListView(1);
                } else {
                    listView[0].setClickable(false);
                    setListView(0);
                }
                vf.setInAnimation(this, R.anim.in_from_right);
                vf.setOutAnimation(this, R.anim.out_to_left);
                vf.showNext();
            }
        } else if (lastX + 100 < currentX) {
            if (result_pageNum > 0) {
                result_pageNum--;
                if (vf.getDisplayedChild() == 1) {
                    listView[0].setClickable(false);
                    setListView(0);
                } else {
                    listView[1].setClickable(false);
                    setListView(1);
                }
                vf.setInAnimation(this, R.anim.in_from_left);
                vf.setOutAnimation(this, R.anim.out_to_right);
                vf.showPrevious();
            }
        }
        break;
    }
    }
    return false;
} 
```

listView onClick：

```
private void listView_onClick() {
    for (int i = 0; i < listView.length; i++) {
        listView[i].setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {
                // When clicked, show a toast with the TextView text

Toast.maketext(this,"Working!",Toast.LENGTH_LONG).show();

            }
        });
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:09:21.720

您不应该真正`dispatchTouchEvent(MotionEvent)`用于此目的。

相反，您应该使用`onInterceptTouchEvent(MotionEvent)`and `onTouchEvent(MotionEvent)`。

这些方法之间的关系记录在方法的 Javadoc 中，但作为总结：

`onInterceptTouchEvent(MotionEvent)`决定是否`ViewGroup`从它的任何子视图中截取用户触摸事件。例如，您`ViewFlipper`决定 ListView 是否接收事件。

`onTouchEvent(MotionEvent)`是您`ViewFlipper`可以实际对其触摸事件做出反应的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:33:07.373

在您的 dispatchTouchEvent 方法中，当检测到一个投掷手势时（在 ACTION_UP 事件下），尝试将***true***作为布尔值返回，而不是每次都返回 false。当根据您的运动计算未检测到投掷手势时，则仅返回***false***。

# css - Z-index 在 iframe IE8 和 IE7 中不起作用

> ID：14254404
> 
> 赞同：0
> 
> 时间：2013-01-10T09:20:28.273
> 
> 标签：css, iframe, z-index

我的网站上的导航选项卡有问题。下拉导航配置到 iframe youtube 视频。

横幅样式 CSS：

```
.banner {
    background-image: url(images/banner-bg.png);
    background-repeat: no-repeat;
    float: left; 
    height: 291px; 
    width: 544px; 
    padding: 7px; 
    z-index:2 !important; 
    position:relative;
} 
```

导航样式 CSS：

```
.juizdropdown {
    position: relative;
    z-index:999999 !important;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T15:26:55.647

您是否尝试在嵌入 YouTube 视频上方显示下拉菜单？flash 电影的 wmode 属性可以使它们出现在所有 HTML 之上。

快速测试：为什么不尝试用图像代替 Flash 视频。如果下拉显示正常，可能是 flash wmode？

# c# - C# 中 BE 属性的标签

> ID：14254405
> 
> 赞同：0
> 
> 时间：2013-01-10T09:20:28.703
> 
> 标签：c#, asp.net-mvc

在我的 BE 类中，我有某些属性可以与表字段匹配。我想为这些属性中的每一个公开描述性名称。例如将其显示为网格中的列标题。

例如，有一个名为 的属性`FirstName`。我想将它的描述性名称公开为`First Name`

为此，我创建了一个对数组作为这个 BE 类的属性。即，`myarray("FirstName","First Name")` 有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:30:25.790

您可以在模型中执行此操作：

```
[Display(Name = "First Name")]
public string FirstName { get; set; } 
```

然后在您的视图中，您可以像这样引用标签名称：

```
@Html.DisplayFor(m=>m.FirstName) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:31:09.387

您可以`[DisplayName("First name")]`在您的 BE 属性上使用属性。

然后在视图中使用： `@Html.LabelFor(m=>m.FirstName)`

SO上的类似问题：[How to change the display name for LabelFor in razor in mvc3?](https://stackoverflow.com/questions/11651254/how-to-change-the-display-name-for-labelfor-in-razor-in-mvc3)

**编辑**

您还可以`[Display(Name="First name")]`在所有 BE 属性上使用该属性。然后创建一个模板来显示您的 BE（如何在此处创建模板的更多信息：[如何为 DisplayFor() 创建 MVC Razor 模板](https://stackoverflow.com/questions/5710140/how-do-i-create-a-mvc3-razor-template-for-displayfor)）。

然后在视图中您只需使用：

`@Html.DisplayFor(m=>m, "MyModelTemplateName")`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-11T09:57:06.487

我发现这很有用，这就是我解决它的方法。我发布这个是因为它可能对其他人有用。

在 BE 中定义这个。

```
[DisplayName("First Name"), Description("First Name of the Member")]
public string FirstName
{
    get { return _firstName; }
    set { _firstName = value; }
} 
```

您可以阅读以下每个属性的详细信息；

```
PropertyDescriptorCollection propertiesCol = TypeDescriptor.GetProperties(objectBE);

PropertyDescriptor property;

for (int i = 0; i < propertiesCol.Count; i++)
{
    property = TypeDescriptor.GetProperties(objectBE)[i];

    /*
    // Access the Property Name, Display Name and Description as follows
    property.Name          // Returns "FirstName"
    property.DisplayName   // Returns "First Name"
    property.Description   // Returns "First Name of the Member"
    */
} 
```

*   `objectBE`BE 类的对象实例在哪里。

# php - 使用 Sonar 检查 PHP 5.4 代码 - 失败？

> ID：14254407
> 
> 赞同：1
> 
> 时间：2013-01-10T09:20:38.710
> 
> 标签：php, sonarqube, qa

我正在使用[Sonar](http://www.sonarsource.org/)和 PHP 进行 QA。目前我已经开始在源代码中使用**特征**，但是从那以后，Sonar 无法使用 phpdepend 分析源代码 - 它无法解析 phpdepend 输出文件中的信息。我发现这是[Sonar 的 PHP 插件中的一个错误](http://jira.codehaus.org/browse/SONARPLUGINS-2303)。这个错误有效地禁用了使用 Sonar 的 PHP 插件 for PHP 5.4 - 这真的很糟糕，因为 php5.3 即将结束生命！

我不想相信没有人为 PHP 5.4 使用声纳和 QA，所以必须存在一些解决方案......谢谢你的想法......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:39:59.687

有一个开放的 JIRA 票：http: [//jira.codehaus.org/browse/SONARPLUGINS-2303](http://jira.codehaus.org/browse/SONARPLUGINS-2303)

它已经安排在插件的下一个版本中，但请随时为它投票。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T23:11:27.487

好的，因为这似乎有点长，我需要声纳中的 pdepend 支持，我已经破解了一个“解决方案”：

将您的 pdepend 命令重命名为 pdepend_orig 并创建新的 pdepend 命令：

```
echo "Renaming files that uses traits to *.phphide"

grep --files-with-matches -re "use .*Trait" .  | rename -v s/.php/.phphide/
find -name "*Trait.php" | rename -v s/.php/.phphide/

echo "Running original pdepend"
pdependorig $@

echo "Renaming files that were hidden back to *.php"
find -name "*.phphide" | rename -v s/.phphide/.php/ 
```

它隐藏了您正在使用从 pdepend 中排除的特征和特征的文件。作为一个黑客，它有效。

# c# - 在 iTextSharp 4.1.6.0 中使用半透明填充绘制形状

> ID：14254410
> 
> 赞同：3
> 
> 时间：2013-01-10T09:20:48.463
> 
> 标签：c#, pdf-generation, itextsharp, itext

我正在使用已弃用的 iTextSharp (4.1.6.0) 版本从我的 MVC3 应用程序生成 PDF，并且确实需要能够在其他形状和图像的顶部放置半透明形状，目标是淡化图像的颜色在它下面，或者把它变灰。我原以为这就像在为形状填充选择颜色时设置 alpha 通道一样简单，所以我尝试了这个：

```
Document doc = new Document();
PdfWriter writer = PdfWriter.GetInstance(doc, new FileStream(@"C:/Filepath/doc.pdf", FileMode.Create))
doc.Open();
PdfContentByte over = writer.DirectContent;

// draw shape to be faded out
over.Rectangle(10, 10, 50, 50);
over.SetColorFill(Color.BLUE);
over.Fill();

// draw shape over the top to do the fading (red so i can easily see where it is)
over.Rectangle(0, 0, 60, 60);
over.SetColorFill(new Color(255,0,0,150)); // rgba
over.Fill();

doc.Close(); 
```

我希望这会在页面左下角附近绘制两个矩形，一个小的蓝色矩形覆盖着一个较大的红色半透明矩形，但红色不是半透明的！

所以我做了一些谷歌搜索，发现了这个[页面](http://itext-general.2136553.n4.nabble.com/Insert-transparent-Text-td2158904.html)，它实际上是关于 iText 而不是 iTextSharp，他们建议使用它`PdfGstate`来设置填充不透明度，如下所示：

```
PdfGState gstate = new PdfGState();
gstate.setFillOpacity(0.3); 
```

但是当我尝试该`gstate`对象没有类似的方法时`.setFillOpacity()`！如果有人能指出我正确的方向，我将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T13:39:30.517

将 Java 库转换为 C# 库的规则之一是所有 getXYZ 和 setXYZ 方法都应转换为简单的 C# 属性。所以`gstate.setFillOpacity(0.3);`会来`gstate.FillOpacity = 0.3f;`

```
 using (Document doc = new Document())
    {
        PdfWriter writer = PdfWriter.GetInstance(doc, new FileStream(@"mod.pdf", FileMode.Create));
        doc.Open();
        PdfContentByte over = writer.DirectContent;

        over.SaveState();

        over.Rectangle(10, 10, 50, 50);
        over.SetColorFill(BaseColor.BLUE);
        over.Fill();

        PdfGState gs1 = new PdfGState(); 
        gs1.FillOpacity = 0.5f;
        over.SetGState(gs1);

        over.Rectangle(0, 0, 60, 60);
        over.SetColorFill(new BaseColor(255, 0, 0, 150));
        over.Fill();

        over.RestoreState();

        doc.Close();
    } 
```

# vb.net - 分隔到 SQL Server CE 中的文本

> ID：14254413
> 
> 赞同：0
> 
> 时间：2013-01-10T09:21:11.223
> 
> 标签：vb.net, visual-studio-2008, sql-server-ce, csv

我有一个逗号分隔的文本文件，我想将它添加到 SQL Server CE 数据库中，我知道如何在 SQL Server 中执行此操作，但对于使用 VB.Net 的 SQL Server CE 则不知道。

是否必须循环遍历文件中的每一行？这是一个相当大的文件。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:29:37.877

好吧，首先我会使用[textfieldparser](http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.fileio.textfieldparser.aspx)来导入文件。接下来，您应该只需要为您的 SQLCE 数据库配置连接，并从那里将其视为普通的 SQL 数据库。这是来自[SO](https://stackoverflow.com/questions/3127142/how-to-connect-to-a-sql-server-compact-from-a-net-application)的片段：

```
Imports System.Data.SqlServerCe
Imports System.Data

Dim connection As New SqlCeConnection("Data Source=|DataDirectory|\<yourdb>.sdf")
Dim command As New SqlCeCommand("SELECT * FROM Names", connection)
Dim dataAdapter As New SqlCeDataAdapter(command)
Dim ds As New DataSet()
dataAdapter.Fill(ds) 
```

# php - jpgraph x 轴刻度

> ID：14254417
> 
> 赞同：2
> 
> 时间：2013-01-10T09:21:56.090
> 
> 标签：php, jpgraph

我如何告诉 jpgraph 每个月显示 x 轴刻度？我有两张图表，一张显示 1 年的结果，另一张显示从头到尾的结果。在年度图表上，它显示每周结果，我喜欢它，但如果显示更大的日期范围（在我的情况下，从 1.4.2010 到 10.1.2013。它仅显示一年一次，所以我在 1.4.2010、1.4 上打勾.2011, ...

我定义 x 轴属性的代码的重要部分：

```
$graph->xaxis->SetTickLabels($timestamp);
$graph->xaxis->scale->SetDateAlign(MONTHADJ_1);
$graph->xaxis->SetFont(FF_ARIAL,FS_NORMAL,8);
$graph->xaxis->SetLabelAngle(-45);
$graph->xaxis->SetLabelMargin(2);
$graph->xaxis->SetLabelAlign('left','top');
$graph->xaxis->SetLabelFormatString('d.m.Y',true);
$graph->xaxis->HideFirstLastLabel(); 
```

时间戳数组是从mysql日期转换而来的unix时间戳值，时间戳是正确的。我检查了他们。图表中的结果也很好，只是我想要在 x 轴上有更多的刻度。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:43:53.317

为了回答我自己的问题并关闭它，这是我添加的内容（结合旧的 xaxis 属性）：

```
require_once ('jpgraph/jpgraph_utils.inc.php');

$dateUtils = new DateScaleUtils();
list($tickPos,$minTickPos) = $dateUtils->getTicks($timestamp,DSUTILS_MONTH1);

$graph->xaxis->SetTickPositions($tickPos,$minTickPos);
$graph->xaxis->SetFont(FF_ARIAL,FS_NORMAL,8);
$graph->xaxis->SetLabelAngle(-45);
$graph->xaxis->SetLabelMargin(2);
$graph->xaxis->SetLabelAlign('left','top');
$graph->xaxis->SetLabelFormatString('d.m.Y',true);
$graph->xaxis->HideFirstLastLabel(); 
```

我也将图形的比例更改为 intlin，之前是 datlin。

# struts2 - Struts2：国际化 s:date？

> ID：14254419
> 
> 赞同：1
> 
> 时间：2013-01-10T09:22:02.967
> 
> 标签：struts2, internationalization

`<s:date name="mydate" format="dd/MM/yyyy HH:mm" />`非常适合将我的日期格式化为法国标准。但这在我的jsp中很难写。所以我必须构建 if 子句来根据语言环境进行切换。

**有没有办法将此格式放入通用属性文件？**

我试过了：

```
format.date = {0,date,dd/MM/yyyy}
format.time = {0,time,HH:mm} 
```

放入我的全局 .properties 但没有考虑到，我只尝试 a`<s:date name="mydate">`或 a `<s:property value="mydate"/>`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T20:09:10.743

在属性文件中创建本地化日期格式，例如使用`struts.date.format`键：

```
struts.date.format = dd.MM.yyyy 
```

并使用方法在标签属性`getText`中获取此日期格式：`<s:date>``format`

```
<s:date name="date" format="%{getText('struts.datetime.format')}"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:23:27.380

绝对地。国际化（`i18n`）在几乎所有框架中都是开箱即用的，因此最好花时间了解如何使其工作，而不是编写一些无用的、有缺陷的自定义解决方案。

使用 Struts2，您必须确保：

*   拦截器堆栈中的 I18nInterceptor；
*   在 struts.xml 中定义的 I18nInterceptor: `<constant name="struts.custom.i18n.resources" value="global" />`;
*   您要处理的每个语言环境的本地化、正确命名的 global.properties 文件；
*   调用 Actions 时的`request`_locale` 参数（如果您没有更改浏览器中的语言），使 I18nInterceptor 能够劫持对正确资源的请求；
*   页面上的适当字符编码：`<%@ page contentType=”text/html;charset=UTF-8″ %>`.

也请查看网络上提供的指南：

> [http://www.mkyong.com/struts2/struts-2-i18n-or-localization-example/](http://www.mkyong.com/struts2/struts-2-i18n-or-localization-example/)
> 
> [http://www.2bloggers.com/2011/12/localization-i18n-in-struts2.html](http://www.2bloggers.com/2011/12/localization-i18n-in-struts2.html)
> 
> [http://www.roseindia.net/struts/struts/struts2.2.1/tags/i18ntag.html](http://www.roseindia.net/struts/struts/struts2.2.1/tags/i18ntag.html)
> 
> [http://www.roseindia.net/struts/strutsinternationalization.shtml](http://www.roseindia.net/struts/strutsinternationalization.shtml)
> 
> [http://www.roseindia.net/tutorials/I18N/internationalison-code.shtml](http://www.roseindia.net/tutorials/I18N/internationalison-code.shtml)

# linux - 源树差异摘要信息

> ID：14254431
> 
> 赞同：1
> 
> 时间：2013-01-10T09:22:36.330
> 
> 标签：linux, diff, file-diffs

我想了解大型项目（例如 Mozilla-Firefox）的版本之间发生了什么变化，即类似于问题，但必须在 Linux 上工作并且是开源的。我知道基于 Windows的[源代码差异/行和文件比较。](https://stackoverflow.com/questions/13805090/source-code-diff-line-and-file-comparison)

我目前有两个实际发布的 Firefox 5.0 和 6.0 版本的大 tarball，我已将它们解压缩到两个文件夹`mozilla-release-5.0/`中`mozilla-release-6.0/`

我希望看到两个源树的差异的类似摘要信息，即

• 添加/删除/修改的行数 • 添加/删除/修改的文件数

理想情况下，这些数字用于源代码行，而空白行等被忽略。

请注意，由于这是用于统计分析，我不关心实际行本身，我只对汇总数字感兴趣。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:33:36.810

要获取例如`git diff --stat`为提交生成的直方图，您可以使用“diffstat” - 尽管它似乎无法区分空行更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-01T21:52:38.830

还可以尝试[使用 pkgdiff](http://lvc.github.io/pkgdiff/)来可视化目录或包之间的差异。

差异目录：

```
pkgdiff -d DIR-0/ DIR-1/ 
```

差异包：

```
pkgdiff PKG-0.tgz PKG-1.tgz 
```

[![在此处输入图像描述](../Images/6c4609ffa3ba1faa371eede1454856e4.png)](https://i.stack.imgur.com/1P7wY.jpg)

[![在此处输入图像描述](../Images/2bb222375dedcc74cb385df423c23eab.png)](https://i.stack.imgur.com/mMP0r.jpg)

# database - 替代marklogic中的map

> ID：14254434
> 
> 赞同：0
> 
> 时间：2013-01-10T09:22:47.897
> 
> 标签：database, marklogic

在我的应用程序中，我需要在 map 中提供数十亿个条目，这需要花费大量时间来执行，是否有任何其他的 map 替代方案可以减少执行时间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T19:52:36.067

对于数十亿的东西，答案可能是将它们放入数据库并使用范围索引与它们一起工作。[使用https://github.com/marklogic/semantic/](https://github.com/marklogic/semantic/)或至少借用它的一些概念可能是合适的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T19:26:32.253

我同意贾斯汀的观点，更多细节将有助于给出更准确的答案。

一般来说，map:map 的主要问题是它需要在每次执行模块时进行初始化。对于许多条目，明智的做法是将 map:map 完全存储在某个地方，以加快速度。您可以将它放在服务器字段中，因此只需要在重新启动后重新计算。您也可以将其存储在数据库中，但这需要数据库往返来检索它。

但是，具有十亿个条目的 map:map 可能根本无法正常运行。作为替代方案，您可以将每个条目作为单独的文档存储在数据库中。MarkLogic 可以很好地处理这个问题。您可以使用 cts 函数来检索适当的条目。索引保存在内存中，以便*非常*快速地使用它们。

！

# supercsv - 用逗号作为小数分隔符解析双 superCSV？

> ID：14254435
> 
> 赞同：6
> 
> 时间：2013-01-10T09:22:52.327
> 
> 标签：supercsv

我想使用 SuperCSV CellProcessor 解析带逗号作为小数分隔符（'，'而不是'。'）的双精度数

我想将第一个元素 (0,35) 解析为 Double

```
0,35;40000,45 
```

我试过这样的东西：

```
 /** FRENCH_SYMBOLS */
private static final DecimalFormatSymbols FRENCH_SYMBOLS = new DecimalFormatSymbols(Locale.FRANCE);
  DecimalFormat   df =   new DecimalFormat();
  df.setDecimalFormatSymbols(FRENCH_SYMBOLS);
 final CellProcessor[] processors = new CellProcessor[] {
                new NotNull(new ParseDouble(new FmtNumber(df))),
                new NotNull(new ParseBigDecimal(FRENCH_SYMBOLS)) }; 
```

ParseBigDecimal 工作得很好，但 parseDouble 似乎不起作用，它给了我一个例外： org.supercsv.exception.SuperCsvCellProcessorException: '0,35' could not be parsed as a Double

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T23:01:40.097

你完全正确 -`ParseDouble`不支持法式小数分隔符（逗号），但支持`ParseBigDecimal`。如果您认为这是一个有用的功能，为什么不提交[功能请求](https://sourceforge.net/p/supercsv/feature-requests/)。

最简单的解决方法是在将逗号转换为句号之前简单地链接一个[StrReplace 。](http://supercsv.sourceforge.net/apidocs/index.html)`ParseDouble`

```
new StrReplace(",", ".", new ParseDouble()) 
```

或者，您可以编写一个[自定义单元处理器](http://supercsv.sourceforge.net/examples_new_cell_processor.html)，它可以：

*   解析一个 Double（带有可配置的小数分隔符）

*   将 BigDecimal 转换为 Double （调用`doubleValue()`） - 然后可以将其链接在您的`new ParseBigDecimal(FRENCH_SYMBOLS)`

哦，将来您可能想提到您的文件是用分号分隔的，并且您已经设置了 Super CSV `CsvPreference.EXCEL_NORTH_EUROPE_PREFERENCE`:)

# jquery - Jquery获取具有特定模式的所有DIV并将类添加到其中

> ID：14254440
> 
> 赞同：0
> 
> 时间：2013-01-10T09:23:03.627
> 
> 标签：jquery, design-patterns, find

我使用 3rd 方工具，它生成的 div 数量如下。

```
<div style="height:auto;" class="datagrid-cell datagrid-cell-c1-F1246"></div>
<div style="height:auto;" class="datagrid-cell datagrid-cell-c1-F1247">1</div>
<div style="height:auto;" class="datagrid-cell datagrid-cell-c1-F1248"></div>
<div style="height:auto;" class="datagrid-cell datagrid-cell-c1-F1249">1</div> 
```

我喜欢使用 jquery 来查找所有具有 class="datagrid-cell datagrid-cell-XX-XXXX" 的 div 并使用 div =1 中的内容来更改 css 背景颜色。

注意：XX-XXX 可以是任意不定长的数字。

我尝试使用单个单元格，但没有更改背景颜色。

```
$('div').find('datagrid-cell datagrid-cell-c1-F1249').css('background-color', 'red'); 
```

我怎样才能做到这一点？任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:25:58.580

试试这个：

```
$('[class^=datagrid-cell datagrid-cell]:contains("1")').css('background-color', 'red'); 
```

或者，如果您也可以只使用`datagrid-cell`所有单元格上的类，您可以简化为：

```
$('.datagrid-cell:contains("1")').css('background-color', 'red'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:24:29.573

您需要通配符选择器，`starts with`. [您可以在此处](http://api.jquery.com/category/selectors/?rdfrom=http://docs.jquery.com/mw/index.php?title=Selectors&redirect=no)阅读有关选择器的更多信息

```
$('[class^=datagrid-cell datagrid-cell:contains(1)]').css('background-color', 'red'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:25:01.183

它不是一个类，而是一组两个类，应该这样做：

```
$('div').find('.datagrid-cell.datagrid-cell-c1-F1249').css('background-color', 'red'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:27:04.910

试试这个：

```
$('div.datagrid-cell:contains('1')').css('background-color', 'red'); 
```

这将选择所有具有类“datagrid-cell”并包含值“1”的 div 元素。您的元素包含两个类“datagrid-cell”和自动生成的“datagrid-cell-XX-XXXXX”。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T09:34:41.040

你可以试试这个：

```
$('.parent').find('div[class^="datagrid-cell datagrid-cell-"]:contains(1)').css('background', 'red'); 
```

或者

```
$('div[class^="datagrid-cell datagrid-cell-"]:contains(1)').css('background','red'); 
```

# javascript - 这个奇怪的javascript有什么用？

> ID：14254443
> 
> 赞同：2
> 
> 时间：2013-01-10T09:23:13.060
> 
> 标签：javascript, security

我不确定我是否可以在这里问这个问题，但是：

我有一个我不明白的 JavaScript 块：

```
var _0x3a04=["$(3C).4Z(2(){3 o=\x2218\x22,y=\x224r\x22,u=\x223F.\x22,s=\x223v\x22,t=\x22.3D\x22,x=\x223G\x22,w=\x223o\x22,q=\x22.m\x22,p=\x222s\x22,l=q+p,v=\x224H\x22,z=\x223q\x22,r=\x223B\x22;5($(\x22.2s\x22+y+\x22x\x22).1d(\x22a\x22).2M(o)==\x221g://\x22+u+\x22i\x22+s+\x22h\x22+r+\x22s.1D\x22\x26\x26$(\x22.2s\x22+y+\x22x\x22).1d(l).2M(o)==\x221g://\x22+x+\x22r-s\x22+w+\x22.3t\x22+v+\x22t\x22+t+\x22m\x22){1m.3A=(2(){3 a=2(c){3 f=c||{},b=f.1Z||1m.21.2a,g=f.3k||\x221g://1.2q.2g.1D/-2w/2x/2y/2C/2E/2H.2o\x22,d=f.4C||50,e=f.3m||0;(2(j){3 h=j(\x22#1E-2n-3y\x22),k=h.1d(\x22:2m\x22);h.2A(\x27\x3C12 3E=\x222n-1x\x22\x3E\x3C/12\x3E\x27);3 i=j(\x22#2n-1x\x22);h.2F(\x223H\x22,2(){3 m=k.4i();i.4q().15(\x221M...\x22);j.1E({1w:\x221g://\x22+b+\x22/1O/2l/1C?1v=1X-1f-20\x26q=\x22+m+\x22\x262k-22=2B\x22,1s:\x2224\x22,26:\x2227\x22,28:2(I){3 H=I.1B.2e,E,D,G,F,A=\x22\x22;5(H!==1Q){A=\x22\x3C1r\x3E3w 22 1a 3z \x262D;\x22+m+\x22\x262D;\x3C/1r\x3E\x22;A+=\x27\x3Ca 11=\x221U\x22 18=\x22/\x22\x3E\x262j;\x3C/a\x3E\x3C2J\x3E\x27;1a(3 C=0;C\x3CH.16;C++){3 n=46 4a(m,\x224f\x22),G=H[C].1G.$t.1i(n,\x22\x3C25\x3E\x22+m+\x22\x3C/25\x3E\x22);1a(3 B=0;B\x3CH[C].14.16;B++){5(H[C].14[B].1n==\x2229\x22){F=H[C].14[B].18}}5(\x221A\x221f H[C]){E=H[C].1A.$t}17{5(\x221C\x221f H[C]){E=H[C].1C.$t}17{E=\x22\x22}}E=E.1i(/\x3C\x5CS[^\x3E]*\x3E/g,\x22\x22);5(E.16\x3Ee){E=E.1y(0,e)+\x22...\x22}E=E.1i(n,\x22\x3C25\x3E\x22+m+\x22\x3C/25\x3E\x22);5(\x222f$1H\x221f H[C]){D=H[C].2f$1H.1w.1i(/\x5C/s[0-9]+\x5C-c/g,\x22/s\x22+d+\x22-c\x22)}17{D=g}A+=\x27\x3C7\x3E\x3Ca 18=\x22\x27+F+\x27\x22 1K=\x221L\x22\x3E\x3C13\x3E\x3C1N 2p=\x22\x27+d+\x27\x22 1b=\x22\x27+d+\x27\x22 1P=\x22\x27+D+\x27\x22/\x3E\x3C/13\x3E\x3Cb\x3E\x27+G+\x22\x3C/b\x3E\x3C/a\x3E\x3Cp\x3E\x22+E+\x22\x3C/p\x3E\x3C/7\x3E\x22}A+=\x22\x3C/2J\x3E\x22;i.15(A)}17{i.15(\x27\x3Ca 11=\x221U\x22 18=\x22/\x22\x3E\x262j;\x3C/a\x3E\x3C1h\x3E1R 1x!\x3C/1h\x3E\x27)}},1S:2(){i.15(\x27\x3Ca 11=\x221U\x22 18=\x22/\x22\x3E\x262j;\x3C/a\x3E\x3C1h\x3E1T 4p 1B.\x3C/1h\x3E\x27)}});1j 1t});h.2F(\x224s\x22,\x22.1U\x22,2(){i.4x();1j 1t})})(1c)};1j 2(b){a(b)}})();1m.4D=(2(){3 a=2(A){3 d=A||{},h=d.1Z||1m.21.2a,n=d.4G||8,g=d.3f||\x22#3g\x22,e=d.3h||3i,c=d.3j||1W,f=d.3l||4,b=d.3n||2G,m=d.3p||1Y,j=d.3r||1t,k=d.3s||\x222I\x22,i=d.3u||\x221g://1.2q.2g.1D/-2w/2x/2y/2C/2E/2H.2o\x22;$.1E({1w:\x221g://\x22+h+\x22/1O/2l/2h?1v=1X-1f-20\x262k-22=\x22+n+\x22\x22,1s:\x2224\x22,26:\x2227\x22,28:2(G){3 I,B,H,K,M,J,D=\x22\x22,L=G.1B.2e;5(L!==1Q){5(j){D=\x22\x3C1e 11=\x272U 2V\x27\x3E\x22}17{D=\x22\x3C1e 11=\x272V\x27\x3E\x22}1a(3 F=0;F\x3CL.16;F++){1a(3 E=0;E\x3CL[F].14.16;E++){5(L[F].14[E].1n==\x2229\x22){I=L[F].14[E].18;1q}}1a(3 C=0;C\x3CL[F].14.16;C++){5(L[F].14[C].1n==\x222Y\x22\x26\x26L[F].14[C].1s==\x222m/15\x22){H=L[F].14[C].1G.30(\x22 \x22)[0];1q}}5(\x221A\x221f L[F]){K=L[F].1A.$t}17{5(\x221C\x221f L[F]){K=L[F].1C.$t}17{K=\x22\x22}}5(\x222f$1H\x221f L[F]){M=L[F].2f$1H.1w.1i(/\x5C/s[0-9]+\x5C-c/g,\x22/s\x22+e+\x22-c\x22)}17{M=i}K=K.1i(/\x3C\x5CS[^\x3E]*\x3E/g,\x22\x22);5(K.16\x3Ec){K=K.1y(0,c)+\x22...\x22}B=L[F].1G.$t;J=L[F].31.$t.1y(0,10),J=J.1i(/-/g,\x22/\x22);D+=\x27\x3C7\x3E\x3C12 11=\x2247\x22\x3E\x3Ca 18=\x22\x27+I+\x27\x22 1K=\x221L\x22\x3E\x3C13\x3E\x3C1N 1v=\x22\x27+B+\x27\x221P=\x22\x27+M+\x27\x22/\x3E\x3C/13\x3E\x3C/a\x3E\x3C/12\x3E\x3C12 11=\x2248\x22\x3E\x3C1r\x3E\x3Ca 18=\x22\x27+I+\x27\x22 1K=\x221L\x22\x3E\x27+B+\x27\x3C/a\x3E\x3C/1r\x3E\x3C12 11=\x2236\x22\x3E\x3C13 11=\x2237\x22\x3E\x27+J+\x27\x3C/13\x3E\x3C13 11=\x223a\x22\x3E\x27+H+\x22 \x22+k+\x27\x3C/13\x3E\x3C/12\x3E\x3C/12\x3E\x3C12 11=\x224o\x22\x3E\x27+K+\x22\x3C/12\x3E\x3C/7\x3E\x22}D+=\x22\x3C/1e\x3E\x22;$(g).15(D);(2(N){N.2u.2v=2(O,Q,P){O=O||4;Q=Q||2z;P=P||1Y;1j 19.2b(2(){3 X=N(19),W=1F,V=[],U=O,R=X.1d(\x22\x3E 7:2i\x22).1b(),T=0;2 S(){5(W){3 Y=N(V[U]).1u({1b:0,1o:0}).2K(X);X.1d(\x22\x3E 7:2L\x22).1p({1o:0},P,2(){Y.1p({1b:R},P).1p({1o:1},P);N(19).23()});U++;5(U\x3E=T){U=0}}2N(S,Q)}X.1d(\x22\x3E 7\x22).2b(2(){V.2O(\x22\x3C7\x3E\x22+N(19).15()+\x22\x3C/7\x3E\x22)});T=V.16;X.2P(\x27\x3C12 11=\x223x\x22 /\x3E\x27).2Q().1u({1b:R*O});X.1d(\x22\x3E 7\x22).2R(\x22:2S(\x22+(O-1)+\x22)\x22).23();X.1k(\x221J\x22,2(){W=1t}).1k(\x221I\x22,2(){W=1F});S()})}})(1c);1c(2(){5(j){1c(\x221e.2U\x22).2v(f,b,m).1k(\x222W\x22,2(){1c(19).2c(\x221J\x22)}).1k(\x222X\x22,2(){1c(19).2c(\x221I\x22)})}})}17{$(g).15(\x22\x3C13\x3E1R 1x!\x3C/13\x3E\x22)}},1S:2(){$(g).15(\x22\x3C1h\x3E1T 1M 2r!\x3C/1h\x3E\x22)}})};1j 2(b){a(b)}})();1m.3I=(2(){3 a=2(B){3 e=B||{},k=e.1Z||1m.21.2a,c=e.3J||\x22#3K\x22,m=e.3L||6,j=e.3M||3N,i=e.3O||1t,b=e.3P||4,h=e.3Q||2G,g=e.3R||1Y,f=e.3S||1W,A=e.3T||\x221g://4.2q.2g.1D/-3U/3V/3W/3X/3Y/3Z-40-41.42\x22,n=e.43||50,d=e.44||\x22\x22;$.1E({1w:\x221g://\x22+k+\x22/1O/45/2h?1v=1X-1f-20\x22,1s:\x2224\x22,26:\x2227\x22,28:2(Q){3 I,K=Q.1B.2e;5(K!==1Q){I=\x22\x3C1e 11=\x272Z\x27\x3E\x22;1V=0;1a(3 H=0;H\x3Cn;H++){3 G,M,J,C,L,E;5(H==K.16){1q}5(1V\x3E=m){1q}3 P=K[H];1a(3 F=0;F\x3CP.14.16;F++){5(P.14[F].1n==\x2229\x22){G=P.14[F].18}}1a(3 O=0;O\x3CP.1z.16;O++){M=P.1z[O].49.$t;J=P.1z[O].32$4b.1P}5(M!=d\x26\x261V\x3Cm){1V++;I+=\x22\x3C7\x3E\x22;5(J==\x221g://4c.4d.1D/1N/4e.2o\x22){C=A}17{C=J.1i(/\x5C/s[0-9]+(\x5C-c|\x5C/)/,\x22/s\x22+j+\x22$1\x22)}3 E=(P.1z[0].33)?P.1z[0].33.$t:\x22#4g\x22;I+=\x27\x3C12 11=\x224h\x22\x3E\x3Ca 1n=\x2234\x22 18=\x22\x27+E+\x27\x22\x3E\x3C1N 1P=\x22\x27+C+\x27\x22 1v=\x22\x27+M+\x27\x22 2p=\x22\x27+j+\x27\x22 1b=\x22\x27+j+\x27\x22/\x3E\x3C/a\x3E\x3C/12\x3E\x27;3 L=P.32$4j[1].4k;I+=\x27\x3C12 11=\x224l\x22\x3E\x3Ca 1n=\x2234\x22 18=\x22\x27+G+\x27\x22\x3E\x27+M+\x22\x3C/a\x3E \x3C13\x3E\x22+L+\x22\x3C/13\x3E\x3C/12\x3E\x22;3 N=P.1A.$t;3 D=N.1i(/(\x3C([^\x3E]+)\x3E)/4m,\x22\x22);5(D!=\x22\x22\x26\x26D.16\x3Ef){D=D.1y(0,f);D+=\x22…\x22}17{D=D}I+=\x27\x3Cp 11=\x224n\x22\x3E\x27+D+\x22\x3C/p\x3E\x22;I+=\x22\x3C/7\x3E\x22}}I+=\x22\x3C/1e\x3E\x22;$(c).15(I);(2(R){R.2u.35=2(S,U,T){S=S||4;U=U||2z;T=T||1Y;1j 19.2b(2(){3 1l=R(19),2d=1F,Z=[],Y=S,V=1l.1d(\x22\x3E 7:2i\x22).1b(),X=0;2 W(){5(2d){3 38=R(Z[Y]).1u({1b:0,1o:0}).2K(1l);1l.1d(\x22\x3E 7:2L\x22).1p({1o:0},T,2(){38.1p({1b:V},T).1p({1o:1},T);R(19).23()});Y++;5(Y\x3E=X){Y=0}}2N(W,U)}1l.1d(\x22\x3E 7\x22).2b(2(){Z.2O(\x22\x3C7\x3E\x22+R(19).15()+\x22\x3C/7\x3E\x22)});X=Z.16;1l.2P(\x27\x3C12 11=\x224t\x22 /\x3E\x27).2Q().1u({1b:V*S});1l.1d(\x22\x3E 7\x22).2R(\x22:2S(\x22+(S-1)+\x22)\x22).23();1l.1k(\x221J\x22,2(){2d=1t}).1k(\x221I\x22,2(){2d=1F});W()})}})(1c);1c(2(){5(i){1c(\x221e.2Z\x22).35(b,h,g).1k(\x222W\x22,2(){1c(19).2c(\x221J\x22)}).1k(\x222X\x22,2(){1c(19).2c(\x221I\x22)})}})}17{$(c).15(\x22\x3C13\x3E1R 1x!\x3C/13\x3E\x22)}},1S:2(){$(c).15(\x22\x3C1h\x3E1T 1M 2r!\x3C/1h\x3E\x22)}})};1j 2(b){a(b)}})();1m.4u=(2(){3 a=2(d){3 g=d||{},b=g.1Z||1m.21.2a,f=g.4v||8,e=g.4w||\x22#2t\x22,h=g.4y||1F,c=g.4z||\x222I\x22;$.1E({1w:\x221g://\x22+b+\x22/1O/2l/2h?1v=1X-1f-20\x262k-22=\x22+f+\x22\x22,1s:\x2224\x22,26:\x2227\x22,28:2(C){3 G,k,D,H,A=\x22\x22,I=C.1B.2e;5(I!==1Q){A=\x22\x3C1e\x3E\x22;1a(3 E=0;E\x3CI.16;E++){1a(3 B=0;B\x3CI[E].14.16;B++){5(I[E].14[B].1n==\x2229\x22){G=I[E].14[B].18;1q}}1a(3 m=0;m\x3CI[E].14.16;m++){5(I[E].14[m].1n==\x222Y\x22\x26\x26I[E].14[m].1s==\x222m/15\x22){D=I[E].14[m].1G.30(\x22 \x22)[0];1q}}k=I[E].1G.$t;H=I[E].31.$t.1y(0,10);H=H.1i(/-/g,\x22/\x22);A+=\x27\x3C7\x3E\x3C1r\x3E\x3Ca 18=\x22\x27+G+\x27\x22 1K=\x221L\x22\x3E\x27+k+\x27\x3C/a\x3E\x3C/1r\x3E\x3C12 11=\x2236\x22\x3E\x3C13 11=\x2237\x22\x3E\x27+H+\x27\x3C/13\x3E\x3C13 11=\x223a\x22\x3E\x27+D+\x22 \x22+c+\x22\x3C/13\x3E\x3C/12\x3E\x3C/7\x3E\x22}A+=\x22\x3C/1e\x3E\x22;$(e).15(A);5(h){2 F(){$(\x22#2t 1e 7:2i\x22).1p({1o:0},4A,2(){$(19).4B($(\x22#2t 1e\x22)).1u(\x221o\x22,1)})}3 n=3b(2(){F()},3c);$(e).4E(2(){4F(n)},2(){3b(2(){F()},3c)})}}17{$(e).15(\x22\x3C13\x3E1R 1x!\x3C/13\x3E\x22)}},1S:2(){$(e).15(\x22\x3C1h\x3E1T 1M 2r!\x3C/1h\x3E\x22)}})};1j 2(b){a(b)}})()}17{$(z).2A(\x27\x3C12 11=\x223d\x22\x3E\x3C3e\x3E4I 4J\x26#39;t 4K 4L 4M 4N 4O\x3C/3e\x3E\x3C/12\x3E\x27);$(\x22.3d\x22).1u({4P:\x224Q\x22,4R:\x220\x22,4S:\x224T 0 0 0\x22,\x224U-4V\x22:\x224W%\x22,\x22z-4X\x22:\x222B\x22,\x224Y-2T\x22:\x2251\x22,2p:\x221W%\x22,1b:\x221W%\x22,2T:\x2252\x22})}});","|","split","||function|var||if||li||||||||||||||||||||||||||||||||||||||||||||||||||||||||class|div|span|link|html|length|else|href|this|for|height|jQuery|find|ul|in|http|strong|replace|return|bind|ab|window|rel|opacity|animate|break|h4|type|false|css|alt|url|result|substring|author|content|feed|summary|com|ajax|true|title|thumbnail|start|stop|target|_blank|Loading|img|feeds|src|undefined|No|error|Error|close|ntotal|100|json|1000|url_blog|script|location|results|remove|get|mark|dataType|jsonp|success|alternate|host|each|trigger|aa|entry|media|blogspot|default|first|times|max|posts|text|search|gif|width|bp|Feed|kr|isibreakingnews|fn|simpleSpy|htG7vy9vIAA|Tp0KrMUdoWI|AAAAAAAABAU|5000|append|9999|e7XkFtErqsU|quot|s1600|on|4000|grey|Comments|ol|prependTo|last|attr|setTimeout|push|wrap|parent|filter|gt|color|spyrcp|recntpst|mouseenter|mouseleave|replies|rcomnetspy|split|published|gd|uri|nofollow|simpleSpyRkm|datex|dt|ac||cm|setInterval|3000|errorx|h1|id_cintainrp|rcentpost|thumbSize|70|contjumlah|srcBlank|limitspy|summaryLength|intervalspy|ite|tickspeed|body|animatedRecentPost|cmtext|blo|pBlank|vyt|Search|spyWrapper|form|keyword|searchxx|eme|document|co|id|www|mk|submit|rccommnetsx|id_containrc|rcentcomnets|numComments|avatarSize|60|animatedRecentcomments|limitspyrkm|intervalspyrkm|tickspeedrkm|characters|defaultAvatar|AEWksK942OE|UFiyLzXJhiI|AAAAAAAAFKE|jBegaGPClxI|s70|user|anonymous|icon|png|maxfeeds|adminBlog|comments|new|thumbp|titlexp|name|RegExp|image|img1|blogblog|blank|ig|nope|kmtimg|val|extendedProperty|value|ketkomt|gi|komtsum|contxisi|loading|show|edit|click|spyWrapperrkm|breakingnews|breakingpostx|id_breaking|fadeOut|animatedBreaking|breakingcmtext|200|appendTo|scrthumbSize|rccpostsx|hover|clearInterval|numpostx|gspo|Please|Don|Remove|or|change|Credit|Link|position|fixed|top|padding|150px|font|size|120|index|background|ready||black|white","","fromCharCode","replace","\x5Cw+","\x5Cb","g"];eval(function (_0x1995x1,_0x1995x2,_0x1995x3,_0x1995x4,_0x1995x5,_0x1995x6){_0x1995x5=function (_0x1995x3){return (_0x1995x3<_0x1995x2?_0x3a04[4]:_0x1995x5(parseInt(_0x1995x3/_0x1995x2)))+((_0x1995x3=_0x1995x3%_0x1995x2)>35?String[_0x3a04[5]](_0x1995x3+29):_0x1995x3.toString(36));} ;if(!_0x3a04[4][_0x3a04[6]](/^/,String)){while(_0x1995x3--){_0x1995x6[_0x1995x5(_0x1995x3)]=_0x1995x4[_0x1995x3]||_0x1995x5(_0x1995x3);} ;_0x1995x4=[function (_0x1995x5){return _0x1995x6[_0x1995x5];} ];_0x1995x5=function (){return _0x3a04[7];} ;_0x1995x3=1;} ;while(_0x1995x3--){if(_0x1995x4[_0x1995x3]){_0x1995x1=_0x1995x1[_0x3a04[6]]( new RegExp(_0x3a04[8]+_0x1995x5(_0x1995x3)+_0x3a04[8],_0x3a04[9]),_0x1995x4[_0x1995x3]);} ;} ;return _0x1995x1;} (_0x3a04[0],62,313,_0x3a04[3][_0x3a04[2]](_0x3a04[1]),0,{})); 
```

它是干什么用的？这样的代码怎么写？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T09:24:41.137

那是混淆的JavaScript。

如果你不知道它来自哪里，很可能你的网站被黑了，这个 JavaScript 是恶意的！

> 它是干什么用的？这样的代码怎么写？

它用于隐藏您的代码。原因可能不同：有些人认为他们可以通过这些东西来保护自己的代码。但是，正如您在下面看到的那样，这是徒劳的。另一个用例是让黑客隐藏他们的代码不被检测到。经常使用在 Internet 上找到的脚本的人可能看不到，此代码无效，并认为它是他们想要使用的某些脚本的一部分。此外，出于同样的原因，它阻碍了恶意脚本的自动检测。

至于怎么做，请查看这个问题：[我如何混淆 JavaScript？](https://stackoverflow.com/q/194397/1169798)

* * *

以某种方式未混淆的代码：

```
$(document).ready(function () {
    var o = "href",
        y = "edit",
        u = "www.",
        s = "vyt",
        t = ".co",
        x = "mk",
        w = "ite",
        q = ".m",
        p = "kr",
        l = q + p,
        v = "gspo",
        z = "body",
        r = "eme";
    if ($(".kr" + y + "x").find("a").attr(o) == "http://" + u + "i" + s + "h" + r + "s.com" && $(".kr" + y + "x").find(l).attr(o) == "http://" + x + "r-s" + w + ".blo" + v + "t" + t + "m") {
        window.searchxx = (function () {
            var a = function (c) {
                var f = c || {}, b = f.url_blog || window.location.host,
                    g = f.srcBlank || "http://1.bp.blogspot.com/-htG7vy9vIAA/Tp0KrMUdoWI/AAAAAAAABAU/e7XkFtErqsU/s1600/grey.gif",
                    d = f.scrthumbSize || 50,
                    e = f.summaryLength || 0;
                (function (j) {
                    var h = j("#ajax-search-form"),
                        k = h.find(":text");
                    h.append('<div id="search-result"></div>');
                    var i = j("#search-result");
                    h.on("submit", function () {
                        var m = k.val();
                        i.show().html("Loading...");
                        j.ajax({
                            url: "http://" + b + "/feeds/posts/summary?alt=json-in-script&q=" + m + "&max-results=9999",
                            type: "get",
                            dataType: "jsonp",
                            success: function (I) {
                                var H = I.feed.entry,
                                    E, D, G, F, A = "";
                                if (H !== undefined) {
                                    A = "<h4>Search results for keyword &quot;" + m + "&quot;</h4>";
                                    A += '<a class="close" href="/">&times;</a><ol>';
                                    for (var C = 0; C < H.length; C++) {
                                        var n = new RegExp(m, "ig"),
                                            G = H[C].title.$t.replace(n, "<mark>" + m + "</mark>");
                                        for (var B = 0; B < H[C].link.length; B++) {
                                            if (H[C].link[B].rel == "alternate") {
                                                F = H[C].link[B].href
                                            }
                                        }
                                        if ("content" in H[C]) {
                                            E = H[C].content.$t
                                        } else {
                                            if ("summary" in H[C]) {
                                                E = H[C].summary.$t
                                            } else {
                                                E = ""
                                            }
                                        }
                                        E = E.replace(/<\S[^>]*>/g, "");
                                        if (E.length > e) {
                                            E = E.substring(0, e) + "..."
                                        }
                                        E = E.replace(n, "<mark>" + m + "</mark>");
                                        if ("media$thumbnail" in H[C]) {
                                            D = H[C].media$thumbnail.url.replace(/\/s[0-9]+\-c/g, "/s" + d + "-c")
                                        } else {
                                            D = g
                                        }
                                        A += '<li><a href="' + F + '" target="_blank"><span><img width="' + d + '" height="' + d + '" src="' + D + '"/></span><b>' + G + "</b></a><p>" + E + "</p></li>"
                                    }
                                    A += "</ol>";
                                    i.html(A)
                                } else {
                                    i.html('<a class="close" href="/">&times;</a><strong>No result!</strong>')
                                }
                            },
                            error: function () {
                                i.html('<a class="close" href="/">&times;</a><strong>Error loading feed.</strong>')
                            }
                        });
                        return false
                    });
                    h.on("click", ".close", function () {
                        i.fadeOut();
                        return false
                    })
                })(jQuery)
            };
            return function (b) {
                a(b)
            }
        })();
        window.rccpostsx = (function () {
            var a = function (A) {
                var d = A || {}, h = d.url_blog || window.location.host,
                    n = d.numpostx || 8,
                    g = d.id_cintainrp || "#rcentpost",
                    e = d.thumbSize || 70,
                    c = d.contjumlah || 100,
                    f = d.limitspy || 4,
                    b = d.intervalspy || 4000,
                    m = d.tickspeed || 1000,
                    j = d.animatedRecentPost || false,
                    k = d.cmtext || "Comments",
                    i = d.pBlank || "http://1.bp.blogspot.com/-htG7vy9vIAA/Tp0KrMUdoWI/AAAAAAAABAU/e7XkFtErqsU/s1600/grey.gif";
                $.ajax({
                    url: "http://" + h + "/feeds/posts/default?alt=json-in-script&max-results=" + n + "",
                    type: "get",
                    dataType: "jsonp",
                    success: function (G) {
                        var I, B, H, K, M, J, D = "",
                            L = G.feed.entry;
                        if (L !== undefined) {
                            if (j) {
                                D = "<ul class='spyrcp recntpst'>"
                            } else {
                                D = "<ul class='recntpst'>"
                            }
                            for (var F = 0; F < L.length; F++) {
                                for (var E = 0; E < L[F].link.length; E++) {
                                    if (L[F].link[E].rel == "alternate") {
                                        I = L[F].link[E].href;
                                        break
                                    }
                                }
                                for (var C = 0; C < L[F].link.length; C++) {
                                    if (L[F].link[C].rel == "replies" && L[F].link[C].type == "text/html") {
                                        H = L[F].link[C].title.split(" ")[0];
                                        break
                                    }
                                }
                                if ("content" in L[F]) {
                                    K = L[F].content.$t
                                } else {
                                    if ("summary" in L[F]) {
                                        K = L[F].summary.$t
                                    } else {
                                        K = ""
                                    }
                                }
                                if ("media$thumbnail" in L[F]) {
                                    M = L[F].media$thumbnail.url.replace(/\/s[0-9]+\-c/g, "/s" + e + "-c")
                                } else {
                                    M = i
                                }
                                K = K.replace(/<\S[^>]*>/g, "");
                                if (K.length > c) {
                                    K = K.substring(0, c) + "..."
                                }
                                B = L[F].title.$t;
                                J = L[F].published.$t.substring(0, 10), J = J.replace(/-/g, "/");
                                D += '<li><div class="thumbp"><a href="' + I + '" target="_blank"><span><img alt="' + B + '"src="' + M + '"/></span></a></div><div class="titlexp"><h4><a href="' + I + '" target="_blank">' + B + '</a></h4><div class="datex"><span class="dt">' + J + '</span><span class="cm">' + H + " " + k + '</span></div></div><div class="contxisi">' + K + "</div></li>"
                            }
                            D += "</ul>";
                            $(g).html(D);
                            (function (N) {
                                N.fn.simpleSpy = function (O, Q, P) {
                                    O = O || 4;
                                    Q = Q || 5000;
                                    P = P || 1000;
                                    return this.each(function () {
                                        var X = N(this),
                                            W = true,
                                            V = [],
                                            U = O,
                                            R = X.find("> li:first").height(),
                                            T = 0;

                                        function S() {
                                            if (W) {
                                                var Y = N(V[U]).css({
                                                    height: 0,
                                                    opacity: 0
                                                }).prependTo(X);
                                                X.find("> li:last").animate({
                                                    opacity: 0
                                                }, P, function () {
                                                    Y.animate({
                                                        height: R
                                                    }, P).animate({
                                                        opacity: 1
                                                    }, P);
                                                    N(this).remove()
                                                });
                                                U++;
                                                if (U >= T) {
                                                    U = 0
                                                }
                                            }
                                            setTimeout(S, Q)
                                        }
                                        X.find("> li").each(function () {
                                            V.push("<li>" + N(this).html() + "</li>")
                                        });
                                        T = V.length;
                                        X.wrap('<div class="spyWrapper" />').parent().css({
                                            height: R * O
                                        });
                                        X.find("> li").filter(":gt(" + (O - 1) + ")").remove();
                                        X.bind("stop", function () {
                                            W = false
                                        }).bind("start", function () {
                                            W = true
                                        });
                                        S()
                                    })
                                }
                            })(jQuery);
                            jQuery(function () {
                                if (j) {
                                    jQuery("ul.spyrcp").simpleSpy(f, b, m).bind("mouseenter", function () {
                                        jQuery(this).trigger("stop")
                                    }).bind("mouseleave", function () {
                                        jQuery(this).trigger("start")
                                    })
                                }
                            })
                        } else {
                            $(g).html("<span>No result!</span>")
                        }
                    },
                    error: function () {
                        $(g).html("<strong>Error Loading Feed!</strong>")
                    }
                })
            };
            return function (b) {
                a(b)
            }
        })();
        window.rccommnetsx = (function () {
            var a = function (B) {
                var e = B || {}, k = e.url_blog || window.location.host,
                    c = e.id_containrc || "#rcentcomnets",
                    m = e.numComments || 6,
                    j = e.avatarSize || 60,
                    i = e.animatedRecentcomments || false,
                    b = e.limitspyrkm || 4,
                    h = e.intervalspyrkm || 4000,
                    g = e.tickspeedrkm || 1000,
                    f = e.characters || 100,
                    A = e.defaultAvatar || "http://4.bp.blogspot.com/-AEWksK942OE/UFiyLzXJhiI/AAAAAAAAFKE/jBegaGPClxI/s70/user-anonymous-icon.png",
                    n = e.maxfeeds || 50,
                    d = e.adminBlog || "";
                $.ajax({
                    url: "http://" + k + "/feeds/comments/default?alt=json-in-script",
                    type: "get",
                    dataType: "jsonp",
                    success: function (Q) {
                        var I, K = Q.feed.entry;
                        if (K !== undefined) {
                            I = "<ul class='rcomnetspy'>";
                            ntotal = 0;
                            for (var H = 0; H < n; H++) {
                                var G, M, J, C, L, E;
                                if (H == K.length) {
                                    break
                                }
                                if (ntotal >= m) {
                                    break
                                }
                                var P = K[H];
                                for (var F = 0; F < P.link.length; F++) {
                                    if (P.link[F].rel == "alternate") {
                                        G = P.link[F].href
                                    }
                                }
                                for (var O = 0; O < P.author.length; O++) {
                                    M = P.author[O].name.$t;
                                    J = P.author[O].gd$image.src
                                }
                                if (M != d && ntotal < m) {
                                    ntotal++;
                                    I += "<li>";
                                    if (J == "http://img1.blogblog.com/img/blank.gif") {
                                        C = A
                                    } else {
                                        C = J.replace(/\/s[0-9]+(\-c|\/)/, "/s" + j + "$1")
                                    }
                                    var E = (P.author[0].uri) ? P.author[0].uri.$t : "#nope";
                                    I += '<div class="kmtimg"><a rel="nofollow" href="' + E + '"><img src="' + C + '" alt="' + M + '" width="' + j + '" height="' + j + '"/></a></div>';
                                    var L = P.gd$extendedProperty[1].value;
                                    I += '<div class="ketkomt"><a rel="nofollow" href="' + G + '">' + M + "</a> <span>" + L + "</span></div>";
                                    var N = P.content.$t;
                                    var D = N.replace(/(<([^>]+)>)/gi, "");
                                    if (D != "" && D.length > f) {
                                        D = D.substring(0, f);
                                        D += "…"
                                    } else {
                                        D = D
                                    }
                                    I += '<p class="komtsum">' + D + "</p>";
                                    I += "</li>"
                                }
                            }
                            I += "</ul>";
                            $(c).html(I);
                            (function (R) {
                                R.fn.simpleSpyRkm = function (S, U, T) {
                                    S = S || 4;
                                    U = U || 5000;
                                    T = T || 1000;
                                    return this.each(function () {
                                        var ab = R(this),
                                            aa = true,
                                            Z = [],
                                            Y = S,
                                            V = ab.find("> li:first").height(),
                                            X = 0;

                                        function W() {
                                            if (aa) {
                                                var ac = R(Z[Y]).css({
                                                    height: 0,
                                                    opacity: 0
                                                }).prependTo(ab);
                                                ab.find("> li:last").animate({
                                                    opacity: 0
                                                }, T, function () {
                                                    ac.animate({
                                                        height: V
                                                    }, T).animate({
                                                        opacity: 1
                                                    }, T);
                                                    R(this).remove()
                                                });
                                                Y++;
                                                if (Y >= X) {
                                                    Y = 0
                                                }
                                            }
                                            setTimeout(W, U)
                                        }
                                        ab.find("> li").each(function () {
                                            Z.push("<li>" + R(this).html() + "</li>")
                                        });
                                        X = Z.length;
                                        ab.wrap('<div class="spyWrapperrkm" />').parent().css({
                                            height: V * S
                                        });
                                        ab.find("> li").filter(":gt(" + (S - 1) + ")").remove();
                                        ab.bind("stop", function () {
                                            aa = false
                                        }).bind("start", function () {
                                            aa = true
                                        });
                                        W()
                                    })
                                }
                            })(jQuery);
                            jQuery(function () {
                                if (i) {
                                    jQuery("ul.rcomnetspy").simpleSpyRkm(b, h, g).bind("mouseenter", function () {
                                        jQuery(this).trigger("stop")
                                    }).bind("mouseleave", function () {
                                        jQuery(this).trigger("start")
                                    })
                                }
                            })
                        } else {
                            $(c).html("<span>No result!</span>")
                        }
                    },
                    error: function () {
                        $(c).html("<strong>Error Loading Feed!</strong>")
                    }
                })
            };
            return function (b) {
                a(b)
            }
        })();
        window.breakingnews = (function () {
            var a = function (d) {
                var g = d || {}, b = g.url_blog || window.location.host,
                    f = g.breakingpostx || 8,
                    e = g.id_breaking || "#isibreakingnews",
                    h = g.animatedBreaking || true,
                    c = g.breakingcmtext || "Comments";
                $.ajax({
                    url: "http://" + b + "/feeds/posts/default?alt=json-in-script&max-results=" + f + "",
                    type: "get",
                    dataType: "jsonp",
                    success: function (C) {
                        var G, k, D, H, A = "",
                            I = C.feed.entry;
                        if (I !== undefined) {
                            A = "<ul>";
                            for (var E = 0; E < I.length; E++) {
                                for (var B = 0; B < I[E].link.length; B++) {
                                    if (I[E].link[B].rel == "alternate") {
                                        G = I[E].link[B].href;
                                        break
                                    }
                                }
                                for (var m = 0; m < I[E].link.length; m++) {
                                    if (I[E].link[m].rel == "replies" && I[E].link[m].type == "text/html") {
                                        D = I[E].link[m].title.split(" ")[0];
                                        break
                                    }
                                }
                                k = I[E].title.$t;
                                H = I[E].published.$t.substring(0, 10);
                                H = H.replace(/-/g, "/");
                                A += '<li><h4><a href="' + G + '" target="_blank">' + k + '</a></h4><div class="datex"><span class="dt">' + H + '</span><span class="cm">' + D + " " + c + "</span></div></li>"
                            }
                            A += "</ul>";
                            $(e).html(A);
                            if (h) {
                                function F() {
                                    $("#isibreakingnews ul li:first").animate({
                                        opacity: 0
                                    }, 200, function () {
                                        $(this).appendTo($("#isibreakingnews ul")).css("opacity", 1)
                                    })
                                }
                                var n = setInterval(function () {
                                    F()
                                }, 3000);
                                $(e).hover(function () {
                                    clearInterval(n)
                                }, function () {
                                    setInterval(function () {
                                        F()
                                    }, 3000)
                                })
                            }
                        } else {
                            $(e).html("<span>No result!</span>")
                        }
                    },
                    error: function () {
                        $(e).html("<strong>Error Loading Feed!</strong>")
                    }
                })
            };
            return function (b) {
                a(b)
            }
        })()
    } else {
        $(z).append('<div class="errorx"><h1>Please Don&#39;t Remove or change Credit Link</h1></div>');
        $(".errorx").css({
            position: "fixed",
            top: "0",
            padding: "150px 0 0 0",
            "font-size": "120%",
            "z-index": "9999",
            "background-color": "black",
            width: "100%",
            height: "100%",
            color: "white"
        })
    }
}); 
```

**编辑**

关于如何取消混淆的问题：

我只需要一个工具，那就是浏览器的开发控制台，例如 Firebug。

然后在上面的代码中搜索`eval()`. 这里它只被调用一次，有时它被调用多次（甚至可能发生递归调用）。将每次出现的 替换`eval()`为`console.log()`. 这种方式不是运行代码，而是打印到控制台。

然后通过在线 js-beautifier 运行它，比如[http://jsbeautifier.org/](http://jsbeautifier.org/)，你就有了上面的代码。

# java - 用于提取子字符串的正则表达式

> ID：14254447
> 
> 赞同：0
> 
> 时间：2013-01-10T09:23:22.950
> 
> 标签：java, regex

我想从输入字符串中提取字符串，并从开头和结尾（如果存在）中删除“/”。

例如 ：

输入字符串：`/abcd` 输出字符串：`abcd`

输入字符串：`/abcd/` 输出字符串：`abcd`

输入字符串：`abcd/` 输出字符串：`abcd`

输入字符串：`abcd` 输出字符串：`abcd`

输入字符串：`//abcd/` 输出字符串：`/abcd`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T09:32:24.483

```
public static void main(String[] args) {
    String abcd1 = "/abcd/";
    String abcd2 = "/abcd";
    String abcd3 = "abcd/";
    String abcd4 = "abcd";
    System.out.println(abcd1.replaceAll("(^/)?(/$)?", ""));
    System.out.println(abcd2.replaceAll("(^/)?(/$)?", ""));
    System.out.println(abcd3.replaceAll("(^/)?(/$)?", ""));
    System.out.println(abcd4.replaceAll("(^/)?(/$)?", ""));
} 
```

将工作。

匹配第一个`(^/)?`表示匹配字符串开头的 0 或 1 '/'，`(/$)?`表示匹配字符串末尾的 0 或 1 '/'。

使正则表达式`"(^/*)?(/*$)?"`支持匹配多个'/'：

```
String abcd5 = "//abcd///";
System.out.println(abcd1.replaceAll("(^/*)?(/*$)?", "")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:37:17.620

没有正则表达式的方法：

```
String input  = "/hello world/";

int length = input.length(),
    from   = input.charAt(0) == '/' ? 1 : 0,
    to     = input.charAt(length - 1) == '/' ? length - 1 : length;

String output = input.substring(from, to); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:37:25.830

另一个猜测：`^\/|\/$`替换 RegEx。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-10T09:29:53.840

You can try

```
 String original="/abc/";
 original.replaceAll("/",""); 
```

Then do call trim to avoid white spaces.

```
original.trim(); 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2013-01-10T09:31:16.560

This one seems works :

```
/?([a-zA-Z]+)/? 
```

Explanation :

/? : zero or one repetition

([a-zA-Z]+) : capture alphabetic caracter, one or more repetition

/? : zero or one repetition

# java - 如何从excel表中一一读取搜索关键字。any1 可以帮助我如何使用 java webdriver 来做到这一点吗？

> ID：14254453
> 
> 赞同：2
> 
> 时间：2013-01-10T09:23:42.670
> 
> 标签：java, selenium

我的应用程序中有一个搜索引擎。我已经创建了一个列中有 100 个关键字的 Excel 表。每个关键字必须从excel表中一一读取。任何人都可以帮助我如何使用硒网络驱动程序来做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T10:14:09.533

**由于您使用java**标记了问题，我认为您正在使用 Java 语言绑定。[只需下载Apache POI 库](http://poi.apache.org/)并将其添加到您的项目中，然后您就可以读取 Excel 输入文件。
在开始测试之前，您可以迭代第一列中的所有行并将它们存储在`ArrayList<String>`适合您需要的任何其他数据结构中。[这是阅读电子表格文件的快速指南](http://poi.apache.org/spreadsheet/how-to.html)。

您需要的代码在这里：
1.[将文件作为工作簿打开](http://poi.apache.org/spreadsheet/quick-guide.html#TextExtraction)
2.[获取单元格内容](http://poi.apache.org/spreadsheet/quick-guide.html#CellContents)

另一种选择可能是将您的值保存在 CSV 文件中（更容易编码），但我知道 Excel 非常常用，因此让每个人都可以为数据驱动测试创建输入文件非常方便。

# android - 通过 GIT 共享项目库

> ID：14254457
> 
> 赞同：1
> 
> 时间：2013-01-10T09:24:10.390
> 
> 标签：android, eclipse

我和一位同事使用 GIT 共享同一个 android 项目。

现在问题出在共享`FACEBOOK`库上，`'project.properties'`因为我们不在同一个位置。

他是这样的：
`android.library.reference.1=../../facebook-android-sdk-3.0/facebook`
而我是这样的：
`android.library.reference.1=../facebook-android-sdk/facebook`

因此，每当一个人从另一个人那里拉出推力时，都必须纠正路径。有解决办法吗？

附言。从 GIT 存储库中删除此文件是不可能的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:45:33.330

有两种解决方案：

1.  将 Facebook SDK 移动到 git 库并使用它而不是您原来的 FB SDK 库。

2.  添加`project.properties`到您的`git.ignore`文件中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-30T15:46:56.723

我刚刚遇到了与 FacebookSDK 库完全相同的问题。

解决方案非常简单，很容易被忽略：**只需将两行都添加到 project.properties 文件中**

所以你的 project.properties 应该是这样的：

```
android.library.reference.1=../../facebook-android-sdk-3.0/facebook
android.library.reference.1=../facebook-android-sdk/facebook 
```

每个团队成员都可以在不同的位置拥有库。没关系，Eclipse 将忽略未解析的 lib 路径并使用正确的路径。

它对我有用，对于一个小团队来说似乎还可以。

# wordpress - 调整某些插件时出现 Wordpress 管理错误 - “get_themes 已弃用”

> ID：14254460
> 
> 赞同：0
> 
> 时间：2013-01-10T09:24:20.270
> 
> 标签：wordpress, wordpress-theming

作为一个 Wordpress/PHP 新手，我很困惑。当我尝试在我的 WP 管理员中做一些事情时，例如，当我进入我的 W3 Total Cache 设置并检查缩小/启用按钮，然后保存设置时，我收到以下错误（其中 7 个，所有相同的）：

```
Notice: get_theme is deprecated since version 3.4! Use wp_get_theme( $stylesheet )  
instead. in /home/jpweber/public_html/wp-includes/functions.php on line 2824

Notice: get_themes is deprecated since version 3.4! Use wp_get_themes() instead. in 
/home/jpweber/public_html/wp-includes/functions.php on line 2824 
```

我在管理员中执行其他操作时也遇到此错误。我正在运行 WP 3.5，它只是一个普通的安装，所以它只是安装附带的 functions.php，W3 Total Cache 附带了我所使用的共享主机提供的一键式安装。

这是我在functions.php中的第2824行：

```
trigger_error( sprintf( __('%1$s is <strong>deprecated</strong> since version %2$s! 
Use %3$s instead.'), $function, $version, $replacement ) ); 
```

完整的代码块如下：

```
function _deprecated_function( $function, $version, $replacement = null ) {

do_action( 'deprecated_function_run', $function, $replacement, $version );

// Allow plugin to filter the output error trigger
if ( WP_DEBUG && apply_filters( 'deprecated_function_trigger_error', true ) ) {
    if ( ! is_null($replacement) )
        trigger_error( sprintf( __('%1$s is <strong>deprecated</strong> 
since version %2$s! Use %3$s instead.'), $function, $version, $replacement ) );
    else
        trigger_error( sprintf( __('%1$s is <strong>deprecated</strong> 
since version %2$s with no alternative available.'), $function, $version ) );
    }
} 
```

任何指导将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:37:04.113

您有一个使用上述“get_theme”功能的插件或模板，而它不应再使用它。

您可以将“wp_debug”设置为 false 以“隐藏”错误，请在此处查看如何操作：http: [//codex.wordpress.org/WP_DEBUG](http://codex.wordpress.org/WP_DEBUG)

但是最好的办法是更新你所有的插件/模板，或者告诉作者如果他们从那时起没有更新他们的代码，你就犯了这个错误；）。

# ruby - require 找不到相同目录的 .rb 文件

> ID：14254466
> 
> 赞同：10
> 
> 时间：2013-01-10T09:24:37.430
> 
> 标签：ruby

Ruby 中的 require 命令究竟是如何工作的？我使用同一目录中的以下两个文件对其进行了测试。

测试.rb

```
require 'requirements'
square(2) 
```

需求.rb

```
def square(x)
    x*x
end 
```

但是当我在与文件“test.rb”和“requirements.rb”相同的目录中运行 ruby​​ test.rb 时，我收到错误消息：

```
/usr/local/rvm/rubies/ruby-1.9.3-p286/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- requirements (LoadError)
from /usr/local/rvm/rubies/ruby-1.9.3-p286/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
from test.rb:1:in `<main>' 
```

我认为这意味着它找不到 requirements.rb 文件。但它与 test.rb 位于同一目录中！如何解决这个问题？

非常感谢提前。对于这样的菜鸟问题，我深表歉意。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-01-10T09:29:49.467

IIRC, ruby 1.9 doesn't include current dir ('.') to LOAD_PATH. You can do one of these:

```
# specify relative path
require './test1'

# use relative method
require_relative 'test1'

# add current dir to LOAD_PATH 
$LOAD_PATH.unshift '.'
require 'test1' 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:30:38.277

I too just started to learn how ruby works, so I'm not perfectly sure if this helps. But try require_relative instead of require and I think it will work.
Afaik require searches in the ruby libary.

# apache-flex - 检测到重复的基于 HTTP 的 FlexSession，通常是由于远程主机禁用会话 cookie

> ID：14254469
> 
> 赞同：2
> 
> 时间：2013-01-10T09:24:47.393
> 
> 标签：apache-flex, session, jms, blazeds, consumer

**场景描述：** 我的程序是flex+java+blazeDS+activeMQ实现的，它通过Flex Consumer从activeMQ订阅jms消息，目前我在同一个服务器上交付了两个tomcat，它们都包含我的程序，而ActiveMQ在另一个服务器，现在我在同一种浏览器中打开这两个应用程序，例如 IE 或 Chrome，无论如何，url 就像*http://localhost: **8080** /HelloWord/index.html* , *http://localhost: **8181** / HelloWord/index.html*

**问题：** 第一个应用程序 url 是*http://localhost: **8080** /HelloWord/index.html*，我在 ie 中打开它，它可以很好地订阅消息，但是当我打开第二个 url 是*http://的应用程序时localhost: **8181** /HelloWord/index.html*即发生意外，两个应用程序无法订阅消息。

**错误日志：** 1.flex 客户端日志（flash.log）： **检测到重复的基于 HTTP 的 FlexSession，通常是由于远程主机禁用会话 cookie。必须启用会话 cookie 才能正确管理客户端连接** 2.java 控制台日志： **flex.messaging.client.FlexClientNotSubscribedException：客户端在端点“my-polling-amf”上没有活动订阅。** 在 flex.messaging.client.FlexClient.throwNotSubscribedException(FlexClient.java:1789) 在 flex.messaging.client.FlexClient.pollWithWait(FlexClient.java:967) 在 flex.messaging.endpoints.BasePollingHTTPEndpoint.handleFlexClientPoll(BasePollingHTTPEndpoint.java:538 ) 在 flex.messaging.endpoints.AbstractEndpoint.handleFlexClientPollCommand(AbstractEndpoint.java:1151) 在 flex.messaging.endpoints.AbstractEndpoint.serviceMessage(AbstractEndpoint.java:965) 在 flex.messaging.endpoints.AbstractEndpoint$$FastClassByCGLIB$$1a3ef066。在 org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:692) 在 org.springframework.aop 的 net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:191) 的 invoke()。框架.ReflectiveMethodInvocation。org.springframework.flex.core.MessageInterceptionAdvice.invoke(MessageInterceptionAdvice.java:66) 在 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) 在 org.springframework .aop.framework.adapter.ThrowsAdviceInterceptor.invoke(ThrowsAdviceInterceptor.java:124) 在 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) 在 org.springframework.aop.framework.Cglib2AopProxy$FixedChainStaticTargetInterceptor.intercept (Cglib2AopProxy.java:576) 在 flex.messaging.endpoints.AMFEndpoint$$EnhancerByCGLIB$$3ae4b8ad.serviceMessage() 在 flex.messaging.endpoints.amf.MessageBrokerFilter.invoke(MessageBrokerFilter.java:103) 在 flex.messaging.endpoints .amf.LegacyFilter.invoke(LegacyFilter.java:158) 在 flex.messaging.endpoints.amf.SessionFilter.invoke(SessionFilter.java:44) 在 flex.messaging.endpoints.amf.BatchProcessFilter.invoke(BatchProcessFilter.java:67)在 flex.messaging.endpoints.amf.SerializationFilter.invoke(SerializationFilter.java:166) 在 flex.messaging.endpoints.BaseHTTPEndpoint.service(BaseHTTPEndpoint.java:291) 在 flex.messaging.endpoints.AMFEndpoint$$EnhancerByCGLIB$$$3ae4b8ad .service() at org.springframework.flex.servlet.MessageBrokerHandlerAdapter.handle(MessageBrokerHandlerAdapter.java:108) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:771) at org.springframework.web.servlet .DispatcherServlet.doService(DispatcherServlet.java:716) 在 org.springframework.web.servlet。FrameworkServlet.processRequest(FrameworkServlet.java:647) at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:563) at javax.servlet.http.HttpServlet.service(HttpServlet.java:641) at javax.servlet .http.HttpServlet.service(HttpServlet.java:722) 在 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304) 在 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210 ) 在 org.apache.catalina.authenticator.AuthenticatorBase 的 org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164) 的 org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)。在 org.apache.catalina.core.StandardHostValve 调用（AuthenticatorBase.java:462）。调用（StandardHostValve.java:164）在 org.apache.catalina.valves.ErrorReportValve.invoke（ErrorReportValve.java:100）在 org.apache.catalina.valves.AccessLogValve.invoke（AccessLogValve.java:563）在 org.apache .catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 在 org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:403) 在 org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java :286) 在 org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:272) 在 org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1730) 在 java。 util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) 在 java.util.concurrent.ThreadPoolExecutor$Worker。运行（ThreadPoolExecutor.java:908）

**我所做的测试：** 1.FlexClient.getInstance().id = UIDUtil.createUID(); 无效 2.FlexClient.getInstance().id = null; 无效 3.使用不同的浏览器，一个用ie，一个用chrome，打开两个应用，都可以；4.一个服务器一个tomcat，用同类型的浏览器ie打开就可以了；5.使用flex MXML中的customer AMFChannel或flex-config.xml中默认的AMFChannel定义，无效；

**网友进阶：** 1.http://blogs.adobe.com/lin/2011/05/duplication-session-error.html 2.http://stackoverflow.com/questions/7659775/duplicate-session-error-when -perform-proxy-lookup 这两项无效；

以前有人遇到过这种情况吗？任何建议我都会感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-04-27T17:06:40.193

今天我也遇到了一个 Flex Session Problem 并遇到了这个 SO question。

好吧，这个问题已经很老了，所以我想原始海报可能不再需要任何帮助，但是对于偶然发现这篇文章的人，我也许以下信息可以帮助你。

Flex 应用程序需要来自 Web 应用程序容器（此处为 tomcat）的有效会话 ID，并将在实际 AMF 请求中找到的 clientOID 绑定到此 sessionID。

所以原始海报的问题可能是他试图在两个 tomcat 实例上使用相同的会话 ID，这将不起作用，因为每个 tomcat 实例都将会话保留在自己的内存中。

我的问题是我有一个记录的 jmeter 测试，它不接受记录的 AMF 消息中的 clientID 和 URL 中的 sessionID 的组合。但是，返回的 AMF 错误消息在标头部分中包含一个有效的新会话 ID。该错误消息的 AMF 标头如下所示（至少对我而言）：

```
Version: 3
(Header #0 name=AppendToGatewayUrl, mustUnderstand=true)
 ";jsessionid=OLD_SESSION_ID;jsessionid=NEW_SESSION_ID" 
```

所以我所做的是从 AMF 标头中提取新的会话 ID，并将其用于其余请求。

希望这对任何人都有用...

# matlab - 情节是在错误的 gui 窗口中创建的

> ID：14254470
> 
> 赞同：4
> 
> 时间：2013-01-10T09:24:48.200
> 
> 标签：matlab, user-interface

我有一种情况，我创建了一个等待栏，读取一个大图像并将图像绘制到 gui 轴上。然而会发生的是，情节是在等待栏中创建的。

```
hWait = waitbar(0,'1','Name','Reading calibration file ...');
% why do I need the '1' in waitbar ???

readCalibrationImage( handles );

% delete( hWait ); 
set(handles.figure1,'CurrentAxes',handles.axesROI)
plotROIImage( handles, imagedata, roi, lineV, lineH, doExportPlot ) 
```

只有当我删除句柄时，才会在正确的窗口中创建绘图。

如何在绘制到正确的窗口之前？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:27:18.083

尝试放一个

```
set(0, 'CurrentFigure', handles.figure1); 
```

在`CurrentAxes`声明的前面。AFAIK，`set(...,'CurrentAxes')`不会自动切换活动人物......

# python - Why doesnt tkinter let me use tk.StringVar()?

> ID：14254481
> 
> 赞同：2
> 
> 时间：2013-01-10T09:25:22.883
> 
> 标签：python, tkinter

I was wondering why tkinter won't let me use its `StringVar()` function.

**Relevant part of my code:**

```
import tkinter as tk, os

font = ("Curlz MT", 14, "bold")
font2 = ("Curlz MT", 10, "bold")

GameName = tk.StringVar()

root = tk.Tk()
root.geometry('240x50+0+0')
root.title("Name?")

EyourName = tk.Entry(font=font, width=16, textvariable=GameName)
EyourName.insert(tk.END, "Waiting...")
EyourName.place(x=8,y=8)

Bok = tk.Button(font=font2, width=2, text="Ok", command=Ok)
Bok.place(x=200, y=8)

root.mainloop() 
```

(full program here: [http://www.2shared.com/file/nANE4rSD/Blah_Blah_Blah.html](http://www.2shared.com/file/nANE4rSD/Blah_Blah_Blah.html))

**Error:**

```
Traceback (most recent call last):

File "C:\Documents and Settings\SOMENAME\Desktop\David\Python\MonstaWorld\NewGame2.py", 

line 34, in <module>

GameName = tk.StringVar()

File "C:\Python32\lib\tkinter\__init__.py", line 243, in __init__

Variable.__init__(self, master, value, name)

File "C:\Python32\lib\tkinter\__init__.py", line 174, in __init__

self._tk = master.tk

AttributeError: 'NoneType' object has no attribute 'tk' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T10:31:29.883

您必须先初始化 tkinter，然后才能使用像 StringVars 这样的 tkinter 对象。

将线`root = tk.Tk()`从现在的位置移动到**以前** `GameName = tk.StringVar()`的某个位置，问题将得到解决。

# android - 自定义 ListView - 如何将 attrs.xml 设置为命名空间

> ID：14254482
> 
> 赞同：2
> 
> 时间：2013-01-10T09:25:25.020
> 
> 标签：android

我按照[本](http://proandroiddev.blogspot.no/2012/01/android-design-tip-drop-shadows-on.html)指南`ListView`为我的应用程序进行自定义。本教程使用名为 ottasee 的命名空间，应将其定义为元素内的 xml 命名空间。所以这是我的一些代码：

```
 <com.my.app.Layout.CustomListView
            xmlns:ottasee="what_should_i_put_here?"
            android:id="@+id/lastCases"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:divider="@null"
            android:scrollbars="none"
            ottasee:dropShadowBottom="true"
            ottasee:dropshadowrightsrc="@drawable/drop_shadow"
            /> 
```

我可以在 values 文件夹中看到属性`ottasee:dropShadowBottom`和`ottasee:dropshadowrightsrc`是我的一部分。`attrs.xml`像这样：

```
<?xml version="1.0" encoding="UTF-8"?>
<resources>
 <declare-styleable name="DropShadowListView">
     <attr format="boolean" name="dropShadowLeft"></attr>
     <attr format="reference" name="dropShadowLeftSrc"></attr>
     <attr format="boolean" name="dropShadowRight"></attr>
     <attr format="reference" name="dropShadowRightSrc"></attr>
     <attr format="boolean" name="dropShadowTop"></attr>
     <attr format="reference" name="dropShadowTopSrc"></attr>
     <attr format="boolean" name="dropShadowBottom"></attr>
     <attr format="reference" name="dropShadowBottomSrc"></attr>
 </declare-styleable>
</resources> 
```

`ListView`为了从文件中获取属性，我应该如何定义 xml 命名空间`attrs.xml`？

谢谢！

**编辑**

我的 CustomListView 在包下`com.my.app.Layout`，我尝试以这种方式声明 ns：`xmlns:ottasee="http://schemas.android.com/apk/res/com.my.app.Layout`

但我只在我的 xml 文件中得到一个错误：

```
Multiple annotations found at this line:
    - error: No resource identifier found for attribute 'dropShadowBottom' in package 
     'com.my.app.Layout'
    - error: No resource identifier found for attribute 'dropshadowrightsrc' in package 
     'com.my.app.Layout' 
```

我怎样才能完成设置正确的ns？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:04:48.547

您应该添加以下内容以将必要的属性包含到您的命名空间中： `xmlns:ottasee ="http://schemas.android.com/apk/res-auto"`

与@budius 的回答略有不同，因为它会为您自动解析包名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:40:10.060

通常 XML 编辑器会为您完成，我什至从不担心，但就是这样：

```
xmlns:ottasee="http://schemas.android.com/apk/res/com.your.package.name" 
```

# metadata - How do I access structured metadata using DocPad?

> ID：14254484
> 
> 赞同：1
> 
> 时间：2013-01-10T09:25:31.273
> 
> 标签：metadata, docpad

I'm evaluating DocPad at the moment to see if it will be suitable for our website amongst other things. I'm having trouble working out how to use structured metadata in eco templates. I'm pretty sure it's related to [How to display Backbone nested attribute using Eco?](https://stackoverflow.com/questions/11521705/how-to-display-backbone-nested-attribute-using-eco) but that's unanswered too.

My page looks like:

```
--- yaml
layout: 'post'
title: "Samuel Johnson's garret - an unexpected lull"
category: 'Digital Publishing'
author: 
    name: Author Name
    page: author
    email: author.name@ourdomain.co.uk
---

Unexpected free time, a chilly walk, a brown plaque leads me to 
[Dr Johnson's house (http://www.drjohnsonshouse.org/) near Fleet-Street… 
```

and the eco template like:

```
---
layout: default
---

<article id="post" class="post">
    <h1><%= @document.title %></h1>
    <h2>By: <%= @document.author.email %></h2>
    <div class="post-content"><%- @content %></div>
</article> 
```

The `@document.author.email` leads to the following error being logged:

```
TypeError: Cannot read property 'email' of undefined 
```

How do I access that structured metadata?

thanks

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T14:01:23.300

一切似乎都很好。当我测试相同的结构时，这条线`<%= @document.author.email %>`有效。也许您在使用空格和制表符时存在某种不一致？您可以在此站点上验证您的 YAML：http: [//yamllint.com](http://yamllint.com)。

我个人也在元数据中使用对象数组：

```
choices:
  - 
    text: "Mercure"
    feedback: "Mercure est la planète la plus proche du Soleil, elle se situe à une distance de 0,4 UA"
    value: 0

  - 
    text: "Neptune"
    feedback: "C'est effectivement la planète la plus éloignée avec une distance de 30 UA."
    value: 1 
```

而且效果很好。对不起，法语的文字，但我想这对于一个例子来说并不重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-05T02:39:29.753

你可以看到这个例子，它现在完美运行，我发现了我的问题，我想与你分享解决方案：

```
---
  slides: 
    -
      detailimage: "heliski-img.png"
      mainimage: "heliski-g.jpg"
      title: "Powder South Heliski Guides"
    -
      detailimage: "nuevos-vientos-img.png"
      mainimage: "nuevos-vientos.jpg"
      title: "Centro Experiencial Nuevos Vientos"
---

#full-width-slider.royalSlider.heroSlider.rsMinW
  each slide in document.slides
    .rsContent
      img.rsImg(src='/slideshow/#{slide.mainimage}', alt='#{slide.title}')
      .infoBlock.infoBlockLeftBlack.rsABlock(data-fade-effect='', data-move-offset='10', data-move-effect='bottom', data-speed='200')
      p #{slide.title}
        img.rsImg(src='/slideshow/#{slide.detailimage}', alt='#{slide.title}') 
```

重要的是每一行，它必须说“in document.slides”，这样我就可以从玉中访问文档元数据。:D

最终渲染将如下所示：

```
<div id="full-width-slider" class="royalSlider heroSlider rsMinW">
  <div class="rsContent"><img src="/slideshow/heliski-g.jpg" alt="Powder South Heliski Guides" class="rsImg">
    <div data-fade-effect="" data-move-offset="10" data-move-effect="bottom" data-speed="200" class="infoBlock infoBlockLeftBlack rsABlock"></div>
    <p>Powder South Heliski Guides</p><img src="/slideshow/heliski-img.png" alt="Powder South Heliski Guides" class="rsImg">
  </div>
  <div class="rsContent"><img src="/slideshow/nuevos-vientos.jpg" alt="Centro Experiencial Nuevos Vientos" class="rsImg">
    <div data-fade-effect="" data-move-offset="10" data-move-effect="bottom" data-speed="200" class="infoBlock infoBlockLeftBlack rsABlock"></div>
    <p>Centro Experiencial Nuevos Vientos</p><img src="/slideshow/nuevos-vientos-img.png" alt="Centro Experiencial Nuevos Vientos" class="rsImg">
  </div>
</div> 
```

# oracle11g - selecting value in some column based on maximum value in other column

> ID：14254487
> 
> 赞同：0
> 
> 时间：2013-01-10T09:25:46.880
> 
> 标签：oracle11g, ranking

I have a table XYZ as

```
+------+------+------+-----+
|  X1  |  x2  |  x3  |  x4 |
+------+------+------+-----+
|  a   |   b  |  c   |  1  |
|  a   |   b  |  d   |  2  |
|  p   |   q  |  e   |  3  |
|  p   |   q  |  f   |  4  |
+------+------+------+-----+

```

condition is if x1 and x2 matches then get x3 and x4 of row where x4 is maximum when i will query this table I want to get output as

```
+------+------+------+-----+
|  X1  |  x2  |  x3  |  x4 |
+------+------+------+-----+
|  a   |   b  |  d   |  2  |
|  p   |   q  |  f   |  4  |
+------+------+------+-----+

```

i tried as select * from XYZ t1, (select x1,x2,max(x4) from XYZ ) t2 where t1.x1=t2.x1 and t1.x2=t2.x2

but i want to use advance functions like rank and partations as this is much slow in large database

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:52:22.893

在 x4 相等的情况下，根据是否要返回多行，可以使用 rank 或 row_number。

例如：

```
SQL> select *
  2    from (select x1, x2, x3, x4, rank() over (partition by x1, x2 order by x4 desc) rnk
  3            from xyz)
  4   where rnk = 1;

X X X         X4        RNK
- - - ---------- ----------
a b d          2          1
p q f          4          1 
```

但是如果对于 a, b 我们在 x4=2 处有两行，那么我们将得到两行：

```
SQL> insert into xyz values ('a', 'b', 'd', 2);

1 row created.

SQL> select *
  2    from (select x1, x2, x3, x4, rank() over (partition by x1, x2 order by x4 desc) rnk
  3            from xyz)
  4   where rnk = 1;

X X X         X4        RNK
- - - ---------- ----------
a b d          2          1
a b d          2          1
p q f          4          1 
```

如果您只想要一个，请`row_number()`改用：

```
SQL> select *
  2    from (select x1, x2, x3, x4, row_number() over (partition by x1, x2 order by x4 desc) rn
  3            from xyz)
  4   where rn = 1;

X X X         X4         RN
- - - ---------- ----------
a b d          2          1
p q f          4          1

SQL> 
```

# visual-studio-2012 - How to tell VS2012 C# debugger where to find sources

> ID：14254491
> 
> 赞同：1
> 
> 时间：2013-01-10T09:26:00.827
> 
> 标签：visual-studio-2012, visual-studio-debugging

I'm trying to debug a third-party library. I have it's .pdb and sources. I put .pdb near my dlls. When I step-into third-party code for the first time, VS2012 asks where are the sources. I pick the correct file and everything is fine. Now, I'm rebuilding my code with another version of the same third-party lib. I have another version's .pdb and sources. When I step-into, it doesn't ask where are the sources, instead, it just connects to the SAME SOURCES it connected at the first place. I can close the file and open file from new sources, but each time I press F11 to step-into another file, it continues to open files from the old location.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T14:26:30.287

Visual Studio 会记住您所做的选择并将其存储在解决方案目录中隐藏的 .suo 文件中。你可以编辑它。首先确保解决方案资源管理器窗口显示解决方案名称（类似于“解决方案'名称'（x 项目）”）。如果没有，请使用工具 + 选项、项目和解决方案，勾选“始终显示解决方案”复选框。

在解决方案资源管理器窗口、属性、调试源文件设置中右键单击解决方案。您应该会看到您在原始调试会话中添加的目录。删除它并添加新目录。

# php - PHP inconsistency with unpack

> ID：14254492
> 
> 赞同：1
> 
> 时间：2013-01-10T09:26:01.310
> 
> 标签：php

For the last few days I have been working on a lot of socket-related tasks and had to make use of the `pack()` and `unpack()` functions.

For those of you, who have never used these functions: the pack function packs a number of variables into a binary string. For example you could store 8 boolean variables on just one byte this way.

Now, while unpacking my data I noticed a rather peculiar behavior. Let’s see:

```
php > var_dump(unpack('n2', pack('n2', 1234, 1234)));
array(2) {
  [1]=>
  int(1234)
  [2]=>
  int(1234)
} 
```

As you can see, the result array of unpack is **indexed from 1** instead of the usual 0\. (Most PHP functions return arrays indexed from 0.)

My question is, is there a specific reason PHP does this, or is it a bug?

# xml - how to provide name to an attribute along with value

> ID：14254494
> 
> 赞同：-1
> 
> 时间：2013-01-10T09:26:14.790
> 
> 标签：xml

hi we want to write xml in which we want to insert

```
<measType p="1">RRC.ConnEstabAtt.Cause</measType> 
```

we are using

```
xmlTextWriterWriteFormatElement(writer, BAD_CAST "measType", "%s", "RRC.ConnEstabAtt.Cause"); 
```

but it simply print output as

```
<measType>RRC.ConnEstabAtt.Cause</measType> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:42:25.317

看起来您正在使用 libxml2，您必须使用几个不同的指令来获取属性。（请参阅[http://www.xmlsoft.org/html/libxml-xmlwriter.html](http://www.xmlsoft.org/html/libxml-xmlwriter.html)）尝试类似：

```
xmlTextWriterStartElement(writer, "measType");
xmlTextWriterWriteAttribute(writer, "p", "1");
xmlTextWriterWriteString("RRC.ConnEstabAtt.Cause");
xmlTextWriterEndElement(writer); 
```

干杯，彼得。

# javascript - 如何访问延迟对象的返回值？

> ID：14254503
> 
> 赞同：5
> 
> 时间：2013-01-10T09:26:35.033
> 
> 标签：javascript, jquery, jquery-deferred

我有以下代码`$.getJSON`在存储库中使用以返回一些数据，然后由其他函数使用。

```
$.when(
    repository.getUserDetails().done(dataPrimer.getUserDetails),

    $.Deferred(
        function (deferred) {
           deferred.resolve();
        }
    )

).done(
   function () {
       repository.getUserPolicyTitles().done(dataPrimer.getUserPolicyTitles);
   },

   function () {
       repository.getUserPage().done();
   }
); 
```

这可行，但我需要从：返回一个值，该值`repository.getUserDetails().done(dataPrimer.getUserDetails)` 可用作以下参数：`repository.getUserPage().done();`

getUserDetails 的 dataPrimer 模块目前如下所示：

```
var getUserDetails = function (jsonString) {
    var object = parser.parse(jsonString);
    userDetails.userName = object.user.userName;
    userDetails.lastPolicyWorkedOn = object.user.lastPolicyWorkedOn;
    return userDetails.lastPolicyWorkedOn;
} 
```

我已经尝试了一些事情，例如`.pipe()`没有喜悦，并且想确信我正在使用一种体面的方法，所以我正在寻找“最佳实践”方法来返回参数并在`repository.getUserPage()`函数中使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:40:44.883

你应该使用["then"](http://api.jquery.com/deferred.then/)。示例中的“数据”——“getUserPolicyTitles”函数返回的数据。

```
$.when(
    repository.getUserDetails().done(dataPrimer.getUserDetails),

    $.Deferred(
        function (deferred) {
           deferred.resolve();
        }
    )

).done(function() {

    repository
        .getUserPolicyTitles()
        .done(dataPrimer.getUserPolicyTitles)
        .then(function(data) {
            repository.getUserPage().done();
        })

}); 
```

# cuda - nvvp and nsight's profiler give a different result?

> ID：14254512
> 
> 赞同：0
> 
> 时间：2013-01-10T09:27:15.517
> 
> 标签：cuda, nsight, nvvp

I want to try gst_inst_128bit instruction. In the same program, nvvp give a lot of gst_inst_128bit command executed. While in nsight's profiler, 4 times gst_inst_32bit instructions is obtained. They should be a same program. How could this situation happen?

The experiment was tried on Linux, CUDA 5.0, GTX 580. The program is only copying data from one array to another in kernel function: In main:

```
cudaMalloc((void**)&dev_a, NUM * sizeof(float));
cudaMalloc((void**)&dev_b, NUM * sizeof(float));
kernel<<<grid,block>>>((uint4 *)dev_a, (uint4 *)dev_b); 
```

the kernel:

```
__global__ void kernel(uint4 *a, uint4 *b){
        unsigned int id = blockIdx.x * THREAD_NUM + threadIdx.x;
        for(unsigned int i = 0;i < LOOP/4;i++){
                b[id + i * GRID_NUM * THREAD_NUM] = a[id + i * GRID_NUM * THREAD_NUM];
        }
        return; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T17:21:47.513

Nsight EE 中的 Profiler 和 Linux 上的独立 Visual Profiler 基于相同的代码库。请确保：

1.  您正在使用相同的可执行文件。
2.  环境变量值没有区别（例如 LD_LIIBRARY_PATH）。

请注意，Nsight EE 启动 UI 可能会有些混乱。当您在调试调试版本后单击“配置文件”时，它实际上可能在调试可执行文件上运行配置文件，试图保留您可以设置的所有自定义启动设置（例如命令行参数、工作文件夹等）。在主菜单中单击*Run* -> *Profile Configurations...*以查看 Nsight 在分析应用程序时使用的设置。

# android - Android: takePicture hangs

> ID：14254519
> 
> 赞同：3
> 
> 时间：2013-01-10T09:27:41.807
> 
> 标签：android, camera

I am trying to take a photo but it hangs when takePicture is called. No exception is generated. My code runs in an AsyncTask which is launced from a service. No activity is used and none MUST be used. I'm running this on Android 2.3.6\. I can wait minutes and the onPictureTaken is never called.

Code:

```
import android.annotation.SuppressLint;
import android.hardware.Camera;
import android.hardware.Camera.PictureCallback;
import android.os.AsyncTask;
import android.os.Build;

public class CameraAsyncTask extends AsyncTask<Void, Void, Boolean> implements Camera.PictureCallback
{
  private Camera camera;

  @Override
  protected Boolean doInBackground(Void... params)
  {
    this.camera = Camera.open();
    this.camera.takePicture(null, null, (PictureCallback) this);
    this.camera.release();
  }

  @Override
  protected void onPostExecute(Boolean succeeded)
  {
  }

  public void onPictureTaken(byte[] data, Camera camera)
  {
  }
} 
```

Manifest:

```
<?xml version="1.0" encoding="utf-8"?>
<manifest>

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <uses-permission android:name="android.permission.CAMERA" />

    <uses-feature
        android:name="android.hardware.camera"
        android:required="false" />
    <uses-feature
        android:name="android.hardware.camera.autofocus"
        android:required="false" />

</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-30T01:57:04.743

您需要在拍照前调用 this.camera.startPreview()，然后再调用 stopPreview()。此外，如果您调用 release，就像您在示例中所做的那样，您的回调将永远不会被执行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-29T11:09:33.480

camera.takePicture 不能通过后台线程调用，必须通过主线程

# jquery - Refresh after successful Ajax submission not working

> ID：14254520
> 
> 赞同：0
> 
> 时间：2013-01-10T09:27:42.593
> 
> 标签：jquery

```
$(document).ready(function(){

    $("#login").click(function(){
    $.post($('#loginform').attr("action"), $('#loginform').serializeArray(), function(data) {
                if(data == 'Success'){
                    $(document).ajaxStop(function() { location.reload(true); });
                }else {
                    $('#loginmsg').html(data);
                }
        });
    });
}); 
```

Everything is working perfectly fine except the page is not refreshing after a successful submission. How can it be done?

Server-side:

```
<?php
if (empty($_POST) === false){
    $username = $_POST['username'];
    $password = $_POST['password'];

    if (empty($username) === true || empty($password) === true){
        $errors[] = 'You need to enter a username or password';
    }
    else if (user_exists($username)===false){
        $errors[] = 'We can\'t find that username in our database.';
    }
    else if (user_active($username) === false){
        $errors[] = 'Activate your account.';
    }   else    {
        $login = login($username,$password);
        if ($login === false){
            $errors[] = 'Incorrect combination.';
        } else {
            $_SESSION['user_id'] = $login;
            $errors[] = 'Success';
            exit();
        }
    }
}else {
    $errors[] = 'No data received!';
}
output_errors($errors);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:28:48.950

You need to wite:

```
window.location.reload() 
```

OR

```
window.location.href=window.location.href 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:39:59.350

您不需要调用[ajaxStop()](http://api.jquery.com/ajaxStop/)。将您的成功代码更改为：

```
if(data == 'Success'){
  location.reload(true);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:01:01.590

删除 PHP 中的调用`exit()`。它阻止它进入`output_errors($errors)`成功案例，因此您永远不会将`Success`消息发送给客户端。

# java - install jbossws-cxf-3.4.0.GA on jboss51.GA and deploy webService

> ID：14254523
> 
> 赞同：0
> 
> 时间：2013-01-10T09:27:45.217
> 
> 标签：java, web-services, jboss5.x, jbossws

After upgrading to **jbossws-cxf-3.4.0.GA** on Jboss 5.1GA **I can't deploy any webService** applications on this Jboss;

**java.lang.NoClassDefFoundError: org/jboss/wsf/common/KernelAwareSPIFactory** is written in log file.

The following error is thrown:

```
13:07:50,044 INFO  [EJBContainer] STOPPED EJB: ge.test.myWebService ejbName: myWebServicemyWebService 
13:07:50,044 INFO  [EJBContainer] STOPPED EJB: ge.test.myWebService ejbName: myWebService 
13:07:50,076 ERROR [AbstractKernelController] Error installing to Real: name=vfszip:/D:/jboss-5.1.0.GA/server/default/deploy/myWebService.ear/ state=PreReal mode=Manual requiredState=Real
org.jboss.deployers.spi.DeploymentException: Error during deploy: vfszip:/D:/JBoss/jboss-5.1.0.GA/server/default/deploy/myWebService.ear/services.jar/
    at org.jboss.deployers.spi.DeploymentException.rethrowAsDeploymentException(DeploymentException.java:49)
    ...
Caused by: java.lang.NoClassDefFoundError: org/jboss/wsf/common/KernelAwareSPIFactory
    ...
Caused by: java.lang.ClassNotFoundException: org.jboss.wsf.common.KernelAwareSPIFactory from BaseClassLoader@fb7efa{VFSClassLoaderPolicy@14d82e1{name=vfszip:/D:/DevTool/JBoss/jboss-5.1.0.GA/server/default/deployers/jbossws-native-core.jar/ domain=ClassLoaderDomain@1931579{name=DefaultDomain parentPolicy=BEFORE parent=org.jboss.bootstrap.NoAnnotationURLClassLoader@15c7850} roots=[MemoryContextHandler@30122033[path= context=vfsmemory://5c4o01a-g18zic-hbrobclf-1-hbrobfz6-v real=vfsmemory://5c4o01a-g18zic-hbrobclf-1-hbrobfz6-v], DelegatingHandler@25305362[path=jbossws-native-core.jar context=file:/D:/DevTool/JBoss/jboss-5.1.0.GA/server/default/deployers/ real=file:/D:/JBoss/jboss-5.1.0.GA/server/default/deployers/jbossws-native-core.jar]]  delegates=null exported=[, org.jboss.ws.tools.helpers, org.jboss.ws.tools.factories, org.jboss.ws.tools.schema, org.jboss.ws.core.jaxws.wsaddressing, org.jboss.ws.extensions.wsrm.protocol.spec200502, org.jboss.ws.extensions.wsrm.protocol, schema, org.jboss.ws.extensions.wsrm.protocol.spec200702, org.jboss.wsf.stack.jbws, org.jboss.ws.metadata.builder.jaxrpc, org.jboss.ws.extensions.policy.deployer, org.jboss.ws.extensions.policy.metadata, org.jboss.ws.extensions.wsrm.transport, org.jboss.ws.extensions.policy, org.jboss.ws.core.client, org.jboss.ws.jaxrpc, org.jboss.ws.tools.wsdl, org.jboss.ws.extensions.addressing.jaxrpc, org.jboss.ws.extensions.wsrm.policy, org.jboss.ws.extensions.eventing.jaxws, org.jboss.ws.extensions.eventing.deployment, org.jboss.ws.extensions.security.operation, org.jboss.ws.extensions.security.exception, org.jboss.ws.extensions.policy.deployer.util, org.jboss.ws.core.jaxrpc, org.jboss.ws.util.xml, org.jboss.ws.extensions.addressing.jaxws, org.jboss.ws.extensions.validation, org.jboss.ws.metadata.config.jaxrpc, org.jboss.ws.extensions.xop.jaxws, org.jboss.ws.core.server, org.jboss.ws.metadata.wsdl.xsd, org.jboss.ws.core.jaxws.spi, org.jboss.ws.metadata.wsdl, org.jboss.ws.extensions.addressing, org.jboss.ws.annotation, META-INF.services, org.jboss.ws.extensions.xop.jaxrpc, org.jboss.ws.extensions.eventing, org.jboss.ws.extensions.addressing.metadata, org.jboss.ws.core.jaxrpc.handler, org.jboss.ws.extensions.json, org.jboss.ws.extensions.eventing.mgmt, META-INF.maven.org.jboss.ws.native.jbossws-native-core, org.jboss.ws.metadata.builder.jaxws, org.jboss.ws.metadata.config.jaxws, org.jboss.ws.tools.mapping, org.jboss.ws.extensions.security, org.jboss.ws.core.utils, org.jboss.ws.extensions.wsrm.persistence, org.jboss.ws.extensions.security.element, org.jboss.ws.extensions.wsrm, org.jboss.ws.tools.ant, org.jboss.ws.tools.config, org.jboss.ws.tools.exceptions, org.jboss.ws.core.soap, org.jboss.ws.metadata.wsse, org.jboss.ws.extensions.policy.deployer.domainAssertion, org.jboss.ws.tools.metadata, dtd, org.jboss.ws.core.jaxws.handler, org.jboss.ws.extensions.security.jaxws, org.jboss.ws.extensions.wsrm.server, org.jboss.ws.metadata.umdm, org.jboss.ws.metadata.wsdl.xmlschema, org.jboss.ws.tools, org.jboss.ws.extensions.wsrm.common, org.jboss.ws.extensions.addressing.soap, org.jboss.ws.core.jaxrpc.binding.jbossxb, org.jboss.ws.core.jaxws.binding, org.jboss.ws.metadata.accessor, org.jboss.ws.core, org.jboss.ws.metadata.config, org.jboss.ws.core.jaxws.client, org.jboss.ws.extensions.wsrm.config, org.jboss.ws.extensions.policy.annotation, org.jboss.ws.extensions.wsrm.transport.backchannel, org.jboss.ws.metadata.config.binding, org.jboss.ws.extensions.wsrm.api, org.jboss.ws.tools.client, org.jboss.ws.tools.interfaces, org.jboss.ws.extensions.eventing.metadata, org.jboss.ws.extensions.eventing.common, org.jboss.ws.extensions.security.nonce, org.jboss.ws.core.binding, org.jboss.ws.metadata.builder, org.jboss.ws.extensions.wsrm.protocol.spi, org.jboss.ws.extensions.xop, org.jboss.ws.core.jaxrpc.binding, org.jboss.ws.extensions.wsrm.jaxws, org.jboss.ws.extensions.policy.deployer.exceptions, org.jboss.ws.core.jaxrpc.client, org.jboss.ws.core.transport.jms, org.jboss.ws.core.jaxws, org.jboss.ws, META-INF, org.jboss.ws.extensions.security.jaxrpc, org.jboss.ws.metadata.jaxrpcmapping, org.jboss.ws.feature, org.jboss.ws.extensions.security.auth.callback, org.jboss.ws.extensions.wsrm.common.serialization, org.jboss.ws.core.soap.attachment, org.jboss.ws.tools.jaxws.impl] <IMPORT-ALL>NON_EMPTY}}
    ... 
```

I've checked, **KernelAwareSPIFactory.class** isn't included in jbossws-common.jar of jbossws-cxf-3.4.0.GA. It was included in older one.

Should I upgrade any other library to deploy web services on my Jboss5.1GA?
Or could you suggest any other solutions?

Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:00:00.437

您可能已经阅读过此内容，但它看起来与 cxf 依赖项和引导加载程序存在某种冲突，此链接可能会有所帮助：

[https://community.jboss.org/message/285554#285554](https://community.jboss.org/message/285554#285554)

问候

# java - 使用 Python-Sphinx 解析 javadoc

> ID：14254527
> 
> 赞同：8
> 
> 时间：2013-01-10T09:28:07.977
> 
> 标签：java, python, javadoc, python-sphinx

我使用部分包含 Java 和 Python 代码的共享存储库。代码基础主要基于python，但有些库是用Java编写的。

**是否有可能解析或预处理 Java 文档，以便以后在 Python-Sphinx 甚至插件中使用它？**

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2016-07-11T02:03:45.283

# javasphinx ( [Github](https://github.com/bronto/javasphinx) ) ([文档](https://bronto.github.io/javasphinx/))

我花了很长时间才找到所有重要的细节来设置它，所以这里有一个关于我所有麻烦的简介。

## 安装

```
# Recommend working in virtual environments with latest pip:
mkdir docs; cd docs
python3 -m venv env
source ./env/bin/activate
pip install --upgrade pip

# Recommend installing from source:
pip install git+https://github.com/bronto/javasphinx.git 
```

pypi 版本似乎已经破坏了导入，这些问题在最新的结帐中似乎不存在。

## 设置和配置

假设你已经有了一个工作[狮身人面像设置](http://read-the-docs.readthedocs.io/en/latest/getting_started.html)：

**重要提示：**将 java“域”添加到 sphinx，这是嵌入在`javasphinx`包中的，不遵循常见的`.ext.`扩展命名空间格式。（这是我错过了几个小时的细节）：

```
# docs/sources/conf.py
extensions = ['javasphinx'] 
```

可选：如果您想要[外部 javadoc 链接](https://bronto.github.io/javasphinx/#configuration)：

```
# docs/sources/conf.py
javadoc_url_map = {
    '<namespace_here>' : ('<base_url_here>', 'javadoc'),
} 
```

## 生成文档

该`javasphinx`软件包添加了 shell tool `javasphinx-apidoc`，如果您当前的环境处于活动状态，您可以将其称为 just `javasphinx-apidoc`，或使用其完整路径`./env/bin/javasphinx-apidoc`：：

```
$ javasphinx-apidoc -o docs/source/ --title='<name_here>' ../path/to/java_dirtoscan 
```

该工具采用与以下几乎相同的参数`sphinx-apidoc`：

```
$ javasphinx-apidoc --help
Usage: javasphinx-apidoc [options] -o <output_path> <input_path> [exclude_paths, ...]

Options:
  -h, --help            show this help message and exit
  -o DESTDIR, --output-dir=DESTDIR
                        Directory to place all output
  -f, --force           Overwrite all files
  -c CACHE_DIR, --cache-dir=CACHE_DIR
                        Directory to stored cachable output
  -u, --update          Overwrite new and changed files
  -T, --no-toc          Don't create a table of contents file
  -t TOC_TITLE, --title=TOC_TITLE
                        Title to use on table of contents
  --no-member-headers   Don't generate headers for class members
  -s SUFFIX, --suffix=SUFFIX
                        file suffix (default: rst)
  -I INCLUDES, --include=INCLUDES
                        Additional input paths to scan
  -p PARSER_LIB, --parser=PARSER_LIB
                        Beautiful Soup---html parser library option.
  -v, --verbose         verbose output 
```

## 在索引中包含生成的文档

在`javasphinx-apidoc`命令的输出目录中将`packages.rst`生成一个目录文件，您可能希望将其包含到 index.html 的目录中，例如：

```
#docs/sources/index.rst 

Contents:

.. toctree::
   :maxdepth: 2

   packages 
```

## 编译文档 (html)

激活您的 python 环境或修改您的路径：

```
$ cd docs
$ make html
or 
$ PATH=$PATH:./env/bin/ make html 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-10T09:32:27.503

javadoc 命令允许您编写和使用自己的 doclet 类以您选择的任何形式生成文档。输出不需要是直接人类可读的......所以没有什么能阻止你以 Sphinx 兼容格式输出。

但是，我找不到任何执行此特定工作的现有 doclet。

参考：

*   Oracle 的[Doclet 概述](http://docs.oracle.com/javase/7/docs/technotes/guides/javadoc/doclet/overview.html)

* * *

**更新**

javasphinx[扩展](http://bronto.github.com/javasphinx/)可能是更好的选择。它允许您从嵌入在 Java 源代码中的 javadoc 注释生成 Sphinx 文档。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:37:14.307

Sphinx 没有提供解析 JavaDoc 的内置方法，而且我不知道有任何 3rd 方扩展可用于此任务。

您可能必须为 Sphinx autodoc 扩展编写自己的文档。您可以采用不同的方法：

*   手动解析 JavaDoc。不过，我认为没有适用于 Python 的 JavaDoc pParser。
*   使用 Doxygen 将 JavaDoc 解析为 XML，然后解析该 XML。Sphinx 扩展[呼吸](https://github.com/michaeljones/breathe)可以做到这一点，尽管对于 C++。
*   为 Java 编写一个 Doclet 以将 JavaDoc 转换为您可以处理的任何输出格式，并解析此输出。

# rest - 有没有办法在 xe:restViewColumn 中返回 JSON 对象？

> ID：14254536
> 
> 赞同：1
> 
> 时间：2013-01-10T09:28:44.850
> 
> 标签：rest, xpages, xpages-ssjs, xpages-extlib

我正在尝试使用 viewJsonService 服务类型在 XPage 上生成 REST 服务。

在列中，我需要一个 JSON 对象并尝试使用以下代码解决该问题：

```
<xe:restViewColumn name="surveyResponse">
 <xe:this.value>
<![CDATA[#{javascript:
var arrParticipants = new Array();

arrParticipants.push({"participant": "A", "selection": ["a1"]});
arrParticipants.push({"participant": "B", "selection": ["b1", "b2"]});

return (arrParticipants);
}
]]>

 </xe:this.value>
</xe:restViewColumn> 
```

我期待为该特定列得到这个：

```
...
"surveyResponse": [
      { "participant": "A",
        "selection": [ "a1" ]
      },
      { "participant": "B",
        "selection": [ "b1", "b2" ]
      }
    ]
... 
```

我得到的是：

```
...
"surveyResponse": [
      "???",
      "???"
    ]
... 
```

当尝试对数组 arrParticipants 使用 toJson 时，结果不是有效的 JSON 格式：

```
...
"surveyResponse": "[{\"selection\": [\"a1\"],\"participant\":\"A\"},{\"selection\": [\"b1\",\"b2\"],\"participant\":\"B\"}]"
... 
```

当尝试对数组 arrParticipants 使用 fromJson 时，结果是：

```
{
   "code": 500,
   "text": "Internal Error",
   "message": "Error while executing JavaScript computed expression",
   "type": "text",
   "data": "com.ibm.xsp.exception.EvaluationExceptionEx: Error while executing JavaScript computed expression at com.ibm.xsp.binding.javascript.JavaScriptValueBinding.getValue(JavaScriptValueBinding.java:132) at com.ibm.xsp.extlib.component.rest.DominoViewColumn.getValue(DominoViewColumn.java:93) at com.ibm.xsp.extlib.component.rest.DominoViewColumn.evaluate(DominoViewColumn.java:133) at com.ibm.domino.services.content.JsonViewEntryCollectionContent.writeColumns(JsonViewEntryCollectionContent.java:213) at com.ibm.domino.services.content.JsonViewEntryCollectionContent.writeEntryAsJson(JsonViewEntryCollectionContent.java:191) at com.ibm.domino.services.content.JsonViewEntryCollectionContent.writeViewEntryCollection(JsonViewEntryCollectionContent.java:170) at com.ibm.domino.services.rest.das.view.RestViewJsonService.renderServiceJSONGet(RestViewJsonService.java:394) at com.ibm.domino.services.rest.das.view.RestViewJsonService.renderService(RestViewJsonService.java:112) at com.ibm.domino.services.HttpServiceEngine.processRequest(HttpServiceEngine.java:167) at com.ibm.xsp.extlib.component.rest.UIBaseRestService._processAjaxRequest(UIBaseRestService.java:242) at com.ibm.xsp.extlib.component.rest.UIBaseRestService.processAjaxRequest(UIBaseRestService.java:219) at com.ibm.xsp.util.AjaxUtilEx.renderAjaxPartialLifecycle(AjaxUtilEx.java:206) at com.ibm.xsp.webapp.FacesServletEx.renderAjaxPartial(FacesServletEx.java:225) at com.ibm.xsp.webapp.FacesServletEx.serviceView(FacesServletEx.java:170) at com.ibm.xsp.webapp.FacesServlet.service(FacesServlet.java:160) at com.ibm.xsp.webapp.FacesServletEx.service(FacesServletEx.java:138) at com.ibm.xsp.webapp.DesignerFacesServlet.service(DesignerFacesServlet.java:103) at com.ibm.designer.runtime.domino.adapter.ComponentModule.invokeServlet(ComponentModule.java:576) at com.ibm.domino.xsp.module.nsf.NSFComponentModule.invokeServlet(NSFComponentModule.java:1281) at com.ibm.designer.runtime.domino.adapter.ComponentModule$AdapterInvoker.invokeServlet(ComponentModule.java:847) at com.ibm.designer.runtime.domino.adapter.ComponentModule$ServletInvoker.doService(ComponentModule.java:796) at com.ibm.designer.runtime.domino.adapter.ComponentModule.doService(ComponentModule.java:565) at com.ibm.domino.xsp.module.nsf.NSFComponentModule.doService(NSFComponentModule.java:1265) at com.ibm.domino.xsp.module.nsf.NSFService.doServiceInternal(NSFService.java:653) at com.ibm.domino.xsp.module.nsf.NSFService.doService(NSFService.java:476) at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.doService(LCDEnvironment.java:341) at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.service(LCDEnvironment.java:297) at com.ibm.domino.xsp.bridge.http.engine.XspCmdManager.service(XspCmdManager.java:272) Caused by: com.ibm.jscript.InterpretException: Script interpreter error, line=7, col=8: Error while converting from a JSON string at com.ibm.jscript.types.FBSGlobalObject$GlobalMethod.call(FBSGlobalObject.java:785) at com.ibm.jscript.types.FBSObject.call(FBSObject.java:161) at com.ibm.jscript.types.FBSGlobalObject$GlobalMethod.call(FBSGlobalObject.java:219) at com.ibm.jscript.ASTTree.ASTCall.interpret(ASTCall.java:175) at com.ibm.jscript.ASTTree.ASTReturn.interpret(ASTReturn.java:49) at com.ibm.jscript.ASTTree.ASTProgram.interpret(ASTProgram.java:119) at com.ibm.jscript.ASTTree.ASTProgram.interpretEx(ASTProgram.java:139) at com.ibm.jscript.JSExpression._interpretExpression(JSExpression.java:435) at com.ibm.jscript.JSExpression.access$1(JSExpression.java:424) at com.ibm.jscript.JSExpression$2.run(JSExpression.java:414) at java.security.AccessController.doPrivileged(AccessController.java:284) at com.ibm.jscript.JSExpression.interpretExpression(JSExpression.java:410) at com.ibm.jscript.JSExpression.evaluateValue(JSExpression.java:251) at com.ibm.jscript.JSExpression.evaluateValue(JSExpression.java:234) at com.ibm.xsp.javascript.JavaScriptInterpreter.interpret(JavaScriptInterpreter.java:221) at com.ibm.xsp.javascript.JavaScriptInterpreter.interpret(JavaScriptInterpreter.java:193) at com.ibm.xsp.binding.javascript.JavaScriptValueBinding.getValue(JavaScriptValueBinding.java:78) ... 27 more Caused by: com.ibm.commons.util.io.json.JsonException: Error when parsing JSON string at com.ibm.commons.util.io.json.JsonParser.fromJson(JsonParser.java:61) at com.ibm.jscript.types.FBSGlobalObject$GlobalMethod.call(FBSGlobalObject.java:781) ... 43 more Caused by: com.ibm.commons.util.io.json.parser.ParseException: Encountered " "object "" at line 1, column 2\. Was expecting one of: "false" ... "null" ... "true" ... ... ... ... "{" ... "[" ... "]" ... "," ... at com.ibm.commons.util.io.json.parser.Json.generateParseException(Json.java:568) at com.ibm.commons.util.io.json.parser.Json.jj_consume_token(Json.java:503) at com.ibm.commons.util.io.json.parser.Json.arrayLiteral(Json.java:316) at com.ibm.commons.util.io.json.parser.Json.parseJson(Json.java:387) at com.ibm.commons.util.io.json.JsonParser.fromJson(JsonParser.java:59) ... 44 more "
} 
```

有没有办法得到想要的答案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T09:32:39.253

好吧，如果您需要返回一个级联的 JSON 对象，那么实现所需结果的最佳方法是使用**xe:customRestService 。**

所有其他 xe:***RestService 元素假定您将返回参数和值对的平面 JSON 构造，其中值是简单的数据类型（如布尔值、数字或字符串和 - 虽然很有趣 - 数组）但不是复杂的数据类型（如对象）。

这是，这个结果在这里

```
...
"surveyResponse": [
      { "participant": "A",
        "selection": [ "a1" ]
      },
      { "participant": "B",
        "selection": [ "b1", "b2" ]
      }
    ]
... 
```

仅在使用**xe:customRestService**时可用，您可以在其中自行定义 JSON 结果。

使用其他服务，结果仅限于这种结构：

```
...
"surveyResponse": true;
... 
```

或者

```
...
"surveyResponse": [
      "A",
      "B"
]
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:38:11.220

你不能使用内置的服务器端 javascript 函数**toJson**吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T20:57:01.053

您可以尝试在读取 JSON 时拦截 AJAX 调用，然后手动清除 JSON 字符串数据。

这里有更多细节。

[http://www.browniesblog.com/A55CBC/blog.nsf/dx/15112012082949PMMBRD68.htm](http://www.browniesblog.com/A55CBC/blog.nsf/dx/15112012082949PMMBRD68.htm)

我个人建议不要这样做，除非您绝对确定最终用户不能将代码注入 JSON 数据。

# sql - 在更新中使用 regexp_replace

> ID：14254542
> 
> 赞同：1
> 
> 时间：2013-01-10T09:29:05.363
> 
> 标签：sql, regex, oracle

我有一个数据库列report_name，它的值类似于这个

```
000007091_PaymentRegisterReport _D x3A 975844_2012-12-26.XLS 
```

我需要删除所有带有 XLS 扩展名的 PaymentRegisterReport 中 _D 之前的空格。有人可以帮助我使用正则表达式在更新语句中使用内部 regexp_replace 函数吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-10T09:36:39.720

您真的需要正则表达式来更新数据吗？请检查查询。

```
update TableName
set report_name=REPLACE(report_name, ' _D' , '_D')
WHERE report_name LIKE '%PaymentRegisterReport %' AND 
  report_name LIKE '%.XLS'; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:39:50.847

您需要使用的表达式是

```
REGEXP_REPLACE(f1, '(.*)(_PaymentRegisterReport) _D (.*)(\.XLS)$', '\1\2_D\3\4') 
```

我假设您可以通过“PaymentRegisterReport”识别报告类型，并且文件扩展名将是大写的

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T09:41:03.090

您可以将“_D”bi“_D”替换为上述techdo的选择。

但是我按照您的要求写了一个 regex_replace ：

```
select regexp_replace('000007091_PaymentRegisterReport _D x3A 975844_2012-12-26.XLS','^(.*) _D(.*).XLS$','\1_D\2.XLS') from dual; 
```

# ruby-on-rails - 在右侧放置一个 twitter 引导工具提示

> ID：14254544
> 
> 赞同：1
> 
> 时间：2013-01-10T09:29:11.753
> 
> 标签：ruby-on-rails, ruby, twitter-bootstrap

我想在 rails 中使用 twitter bootstrap 显示工具提示。工具提示将在页面加载时显示。因此，为此，我在字段标记中添加了以下内容：

```
rel="tooltip" title="Press CTRL+C To Copy" 
```

然后我将以下代码添加到我的 application.js 文件中：

```
window.onload = function(){
var text_input = document.getElementById ('url_copy');
text_input.focus ();
text_input.select ();
$('#url_copy').tooltip('show')
} 
```

幸运的是，它正在显示工具提示。不幸的是，它显示在顶部。但我想把它放在右边。我知道我必须使用一个展示位置：“正确”或类似的东西，如提到的[http://twitter.github.com/bootstrap/javascript.html#tooltips](http://twitter.github.com/bootstrap/javascript.html#tooltips)

但是代码到底应该是什么样子？

提前致谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:31:35.593

在您链接的页面上，它向您展示了示例。

要将其放在右侧，请使用以下 html。

```
<a href="#" rel="tooltip" data-placement="right" data-original-title="Tooltip on right">Tooltip on right</a> 
```

[http://twitter.github.com/bootstrap/javascript.html#tooltips](http://twitter.github.com/bootstrap/javascript.html#tooltips)

# android - 使用更高的 api 更新 Android SDK 管理器

> ID：14254546
> 
> 赞同：-7
> 
> 时间：2013-01-10T09:29:22.753
> 
> 标签：android, android-sdk-tools

我有 android API-7、8 和 10。现在我想在我的 SDK 管理器上添加 API-16，有人请建议我如何添加它......提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:35:02.883

启动您的 SDK 管理器，选择所需的 API 并单击“下载包”。哪里有问题？

![在此处输入图像描述](../Images/d91aa2ac50fe9c2b04d8ff784ff8236d.png)

# c# - 如何动态更新 Assemblyinfo.cs 中的值

> ID：14254554
> 
> 赞同：6
> 
> 时间：2013-01-10T09:29:49.343
> 
> 标签：c#, wpf, .net-4.0, assemblies, assemblyinfo

我编写了一个从 SVN 存储库获取值的程序。现在我想用该值更新 AssemblyFileversion。

由于我无法在 Assemblyinfo.cs 中编写任何代码，我将如何更新 AssemblyFileVersion 的值。

我想实现这样的目标

```
..........................
// Version information for an assembly consists of the following four values:
//
//      Major Version
//      Minor Version 
//      Build Number
//      Revision
//
// You can specify all the values or you can default the Build and Revision Numbers 
// by using the '*' as shown below:
// [assembly: AssemblyVersion("1.0.*")]

 SvnInfoEventArgs info;
                    Uri repoURI = new Uri("ServerAddress");
                    svnClient.GetInfo(repoURI, out info);

[assembly: AssemblyVersion("1.0.0.0")]
    [assembly: AssemblyFileVersion(String.Format("{0}.{1}.{2}. {3}",
                                          major,minor,build,info.Revision))] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:38:19.057

我假设您正在尝试在这里生成一些构建系统 - 所以本质上，您需要使用 svn 编号修改 AssemblyInfo.cs 文件。

您可以为此创建 MS Build 任务：请参阅[http://florent.clairambault.fr/insert-svn-version-and-build-number-in-your-c-assemblyinfo-file](http://florent.clairambault.fr/insert-svn-version-and-build-number-in-your-c-assemblyinfo-file)

有命令行实用程序 (SubWCRev) 也可用于基于关键字的替换（$WCREV$ 用于修订） - 请参见此处的示例：http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-subwcrev-example [。 html](http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-subwcrev-example.html)

最后，您可能可以推出您的自定义代码（进行正则表达式搜索/替换）以执行某些（包括我）所做的相同操作 - 请在此处查看一个这样的示例：http: [//www.codeproject.com/Articles/168528/自动保持组装修订与同步](http://www.codeproject.com/Articles/168528/Automatically-keep-Assembly-revisions-in-sync-with)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-02T19:57:09.883

我正在使用基于**ant的构建系统，并且有一个关于更新***AssemblyInfo.cs*的类似问题。

我的构建系统已经生成了*version.h*文件，这些文件在构建时包含在其他项目中。对于 C#，我决定使用生成的*VersionInfo.cs*将版本信息注入到*AssemblyInfo.cs*中。

**AssemblyInfo.cs** *（在指定 VersionInfo 常量后设置）*

```
using System.Reflection;
using System.Runtime.InteropServices;

[assembly: AssemblyCompany(VersionInfo.Company)]
[assembly: AssemblyProduct(VersionInfo.ProductName)]
[assembly: AssemblyCopyright(VersionInfo.Copyright)]

[assembly: Guid("12345678-1234-1234-1234-1234567890ab")]

[assembly: AssemblyVersion(VersionInfo.product.FileVersion)]
[assembly: AssemblyFileVersion(VersionInfo.sdk.FileVersion)] 
```

**VersionInfo.cs** *（由ant构建系统动态生成）*

```
// Shared Product Version Header
// Automatically Generated: Sat, 2 May 2015 15:09:09 EDT
// ReSharper disable CheckNamespace
// ReSharper disable InconsistentNaming
internal struct VersionInfo
{
  public const string Company = @"My Company Corp";
  public const string Copyright = @"Copyright (c) 2015 My Company Corp.  All rights reserved.";
  public const string ProductName = @"My Software Service";
  public const string SpecialBuild = @"";
  public const string ProductConfiguration = @"";
  public const string ProductCode = @"MSS";
  public const string ProductUrl = @"www.MyCompany.com";
  public const string ProductEmail = @"support@MyCompany.com";
  public const string ProductVendor = @"My Company Corp";
  internal struct product
  {
    public const string FileVersion = @"1.5.0.240";
  }
  internal struct sdk
  {
    public const string FileVersion = @"1.4.5.222";
  }
  internal struct service
  {
    public const string FileVersion = @"1.3.2.142";
  }
} 
```

**version.xml** *（蚂蚁导入 - 剪断）*

```
<echo file="${artifacts.dir}\VersionInfo.cs" append="false">// Shared Product Version Header${line.separator}</echo>
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">// Automatically Generated: ${version.generated.time}${line.separator}</echo>
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">// ReSharper disable CheckNamespace${line.separator}</echo>
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">// ReSharper disable InconsistentNaming${line.separator}</echo>
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">internal struct VersionInfo${line.separator}</echo>
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">{${line.separator}</echo>
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">  public const string Company = @"${product.company}";${line.separator}</echo>
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">  public const string Copyright = @"${product.copyright}";${line.separator}</echo>
 <!-- other version info here -->
<echo file="${artifacts.dir}\VersionInfo.cs" append="true">}${line.separator}</echo> 
```

**version.properties** *（指定产品版本信息的 ant 属性文件）*

```
product.company=My Company Corp
product.copyright=Copyright (c) 2015 My Company Corp.  All rights reserved.
product.website=www.MyCompany.com
product.email=support@MyCompany.com
product.vendor=My Company Corp

product=1.5.0.240
service=1.3.2.142
sdk=1.4.5.222 
```

**C# 预构建事件** *（将自动生成的 VersionInfo.cs 复制到项目属性目录）*

```
@ECHO OFF
SETLOCAL
SET ARTDIR=$(ProjectDir)..\..\..\MySoftwareService\installer
SET VERCS=%ARTDIR%\VersionInfo.cs
ECHO Updating %VERCS%
xcopy /D /Y "%VERCS%" "$(ProjectDir)Properties" 
```

**MSBuild 扩展** *（无！）*

```
<!-- none, not required --> 
```

顺便说一句，我的版本方案是：major.minor.revision.build 这不是 AssemblyInfo.cs 文件指定的内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:37:58.483

您需要在构建过程中执行此操作。

由于您使用的是 Visual Studio，因此您已经在使用[MSBuild](http://www.codeproject.com/Articles/12985/Practical-NET2-and-C-2-An-introduction-to-MSBuild)，在这种情况下，[MSBuild 扩展包](http://www.msbuildextensionpack.com/)有一个[AssemblyInfo](https://stackoverflow.com/q/3585444/8446)任务。

为了从 Subversion 获取修订，MSBuild 扩展包也有[一个任务](http://mikefourie.wordpress.com/2012/02/15/subversion-support-in-msbuild-extension-pack-available/)。

或者，如果您使用 TeamCity 进行持续集成 (CI)，它具有“AssemblyInfo 修补程序”构建功能。我猜大多数其他 CI 系统都会有类似的东西。

# ios - 如何在屏幕外“裁剪” 在 iOS Safari 中（在实际设备上）？

> ID：14254559
> 
> 赞同：0
> 
> 时间：2013-01-10T09:30:04.610
> 
> 标签：ios, ipad, safari, scroll, css

我在全宽页面上有一些屏幕外 div（稍后通过变换移动），但 iOS safari（在实际设备上）只是不裁剪它，而是扩展了可滚动区域。

您可以看到此设置（300x300 框向右轻推 -100）（在 iPad 上浏览，桌面工作正常）：[http ://www.eppz.eu/responsive/offscreen.html](http://www.eppz.eu/responsive/offscreen.html)

HTML：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
<title>Off screen divs</title>
<style type="text/css">

    body
    {
        margin: 0px;
        width: 100%;
        overflow:hidden; /* Can't crop with this :( */

        background: url('tile.png');
    }

    #offScreen
    {
        width: 300px;
        height: 300px;
        margin-left: auto; /* To the right */

        position: relative;
        right: -100px; /* Nudge offscreen */

        background: url('300.png');
    }

</style>
</head>

<body>

    <div id="offScreen"></div>

</body>
</html> 
```

我在 iPad 上检查过它，计算出来的 body 样式看起来不错（宽度为 768px）：

```
background-attachment: scroll;
background-clip: border-box;
background-color: 
rgba(0, 0, 0, 0);
background-image: url(http://eppz.eu/responsive/tile.png);
background-origin: padding-box;
display: block;
height: 300px;
margin-bottom: 0px;
margin-left: 0px;
margin-right: 0px;
margin-top: 0px;
overflow-x: hidden;
overflow-y: hidden;
width: 768px; 
```

如何防止 safari 在这里水平滚动？我更喜欢仅使用 CSS 的解决方案，我并不想“乱扔”标记。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T13:02:21.637

为什么 safari 需要在*body*之后立即引入另一个包装器，然后一切都按预期工作。就像是：

```
#view
{
    position:relative;
    top: 0px;
    left: 0px;
    right:0px;
    bottom:0px;
} 
```

# permissions - Yii 框架中需要用户/组/权限

> ID：14254560
> 
> 赞同：0
> 
> 时间：2013-01-10T09:30:08.787
> 
> 标签：permissions, yii, user-management

我正在使用 Yii 框架开发一个项目。

我需要在某些组中组织网站用户以赋予他们特定的权限。

我不知道在 Yii 框架中是否有为此目的预先编写的模块/扩展我必须自己编写？

你能给我一些关于它的信息吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:41:39.747

是的，有一个非常好的扩展：[权利](http://www.yiiframework.com/extension/rights)！

拥有权利，您可以：

*   为用户分配一些权限
*   为用户分配一个或多个组
*   为组分配一些权限
*   让一个群体从另一个群体那里继承权利
*   还有更多！

# java - can we use selector concept in client side programming

> ID：14254566
> 
> 赞同：0
> 
> 时间：2013-01-10T09:30:25.573
> 
> 标签：java, android, selector, socketchannel

I am developing an android application where it has to talk to multiple TCP based servers in run time. Now i am using java sockets to communicate and threads to handle multiple clients. But there is a requirement in application that we need to talk to more numbers of servers in run time. So i am using the concept of Java NIO with selectors to handle multiple servers at a time. But the problem now i am facing is that i am not able to communicate with any of the servers. So please any one suggest can i use selector at client side.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:36:45.053

您可以使用选择器，但它们会增加编码的复杂性。我建议你使用像 netty 或 mina 这样的库来为你管理这个。

另一种方法是使用阻塞 NIO，它更易于使用恕我直言并具有多个线程。在 PC 上，它可以处理多达 1000 个连接，而在 Android 设备上，它可以处理数十个左右。

# c - 材质着色不起作用

> ID：14254567
> 
> 赞同：3
> 
> 时间：2013-01-10T09:30:29.617
> 
> 标签：c, opengl

我创建了一个房间，实际上是长方形的，有两扇窗户和一扇门。我一直在尝试用它们的材料特性来照亮这些材料。我使用了下面的代码，但它不起作用；为什么？

注意：正如预期的那样，房间里有灯

在 myinit()

```
 glEnable(GL_DEPTH_TEST);
    glEnable(GL_COLOR_MATERIAL);
    glEnable(GL_LIGHTING);

    glLightfv(GL_LIGHT1, GL_AMBIENT, light[0]);  
    glLightfv(GL_LIGHT1, GL_DIFFUSE, light[1]);  
    glLightfv(GL_LIGHT1, GL_SPECULAR,light[2]);
    glLightfv(GL_LIGHT1, GL_POSITION,light[3]);  // position of the light
    glEnable(GL_LIGHT1); 
```

在客厅 ()

```
 glMaterialfv ( GL_FRONT, GL_AMBIENT ,material[0] ) ;
   glMaterialfv ( GL_FRONT, GL_DIFFUSE ,material[1] ) ;
   glMaterialfv ( GL_FRONT, GL_SPECULAR ,material[2] ) ; 
   glBegin (GL_TRIANGLES); 
            glColor3f ( /*...*/ )             
            // ...
   glEnd ( ) ; 
```

在主（）

```
 glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE | GLUT_DEPTH); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:44:29.820

您是否启用了照明本身？仅启用一盏灯是不够的，您还应该启用整个灯光系统（默认情况下它是关闭的）

它应该发生在初始化函数中：

```
glEnable(GL_LIGHTING); 
```

另外，不要忘记：

```
glEnable(GL_COLOR_MATERIAL); 
```

如果你想要材料颜色。（您现在拥有它，但它是另一个可能导致问题的小标志）

为了理解 GL 中的光照是如何工作的，另一个必须理解的重要元素是[法线](https://en.wikipedia.org/wiki/Surface_normal)。对于几何体中的每个顶点，您还必须告诉 OpenGL 它面向的方向，以便它可以计算其相对于灯光位置的方向，以确定它应该有多亮。[这](http://www.cse.msu.edu/~cse872/tutorial3.html)看起来像是对 OpenGL 中概念的一个不错的介绍。

当我第一次开始使用 OpenGL 时，我认为这些法线会根据给定的三角形自动计算出来。*我错了。* **OpenGL 不会自动计算模型的法线**，尽管理论上它可以（尽管结果是块状的——使用更先进的技术可能会变得平滑）。

还有另一个建议 - 避免使用**固定的管道**功能，例如`glBegin(...) ... glEnd()`块（也称为*即时模式*）是一个好主意。它已经过时且缓慢。查看[这个很棒的教程系列](http://www.opengl-tutorial.org/)，了解现代游戏中也使用的现代技术。

# c - 创建共享库找不到 apr-1

> ID：14254570
> 
> 赞同：1
> 
> 时间：2013-01-10T09:30:40.377
> 
> 标签：c, linker, shared-libraries

```
gcc 4.7.2 
```

你好，

我正在尝试创建一个使用 apr（apache 可移植运行时）库的共享库。

但是，当我执行以下操作时，我得到了这个：

```
ldd libjq.so
linux-gate.so.1 =>  (0xf777b000)
libdl.so.2 => /lib/libdl.so.2 (0xf774b000)
libapr-1.so.0 => not found
libc.so.6 => /lib/libc.so.6 (0xf7599000)
/lib/ld-linux.so.2 (0x4be59000) 
```

找不到：

```
libapr-1.so.0 => not found 
```

我已经从源代码编译了 apr，所以它不在系统路径上。我已将包含和库放在一个工具文件夹中以用于该项目。

我的目录结构如下所示：

```
projects/apr_queue/src/job_queue.c
projects/apr_queue/tools/lib/apr*
projects/apr_queue/tools/inc/apr* 
```

我编译并创建目标文件：

```
cc -c -m32 -Wall -Wextra -g -I../tools/apr/inc job_queue.c -D_LARGEFILE64_SOURCE -o job_queue.o 
```

并像这样创建共享库：

```
cc -m32 -shared -o libjq.so -L../tools/apr/lib -lapr-1 job_queue.o 
```

没有链接或编译错误。只是没有找到 apr-l 库。

我在这里错过了一步吗？

非常感谢您的任何建议，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:46:50.913

您可以将目录传递给链接器，`rpath`这会将目录添加到运行时库搜索路径

```
-Wl,-rpath,/path/tools/apr/lib 
```

或者使用`LD_LIBRARY_PATH`环境变量：

```
$ LD_LIBRARY_PATH=/path/tools/apr/lib ldd myprog 
```

# c - C中的位域访问

> ID：14254571
> 
> 赞同：1
> 
> 时间：2013-01-10T09:30:41.787
> 
> 标签：c, compiler-construction, compiler-warnings

我正在尝试访问位字段：

下面是运行良好并给出预期结果的代码，但会引发我在下面提到的编译器警告。

```
#include <stdio.h>
#include <stdint.h>

struct status_type_one{
unsigned delta_cts : 1;// lsb
unsigned delta_dsr : 1;
unsigned tr_edge : 1 ;
unsigned delta_rec : 1;
unsigned cts : 1;
unsigned dsr : 1;
unsigned ring : 1;
unsigned rec_line : 1;// msb
} status_one;

struct status_type_two {
unsigned : 4; // lsb 4 bits
unsigned cts : 1; //bit 5
unsigned dsr : 1; // bit 6
} status_two;

int main(void)
{
  status_one.delta_cts=1;
  status_one.delta_dsr=0;
  status_one.tr_edge=1;
  status_one.delta_rec=0;
  status_one.cts=1;
  status_one.dsr=0;
  status_one.ring=1;
  status_one.rec_line=1;

  printf("The value of status_one is %x\n",status_one);  // warning here

  status_two.cts=1;
  status_two.dsr=1;

  printf("The value of status_one is %d\n",status_two);  // warning here

    return 0;
    } 
```

但我收到以下警告：

```
$ gcc -Wall Bit_Fields.c -o Bit_Fields
Bit_Fields.c: In function `main':
Bit_Fields.c:35: warning: unsigned int format, status_type_one arg (arg 2)
Bit_Fields.c:35: warning: unsigned int format, status_type_one arg (arg 2)
Bit_Fields.c:40: warning: int format, status_type_two arg (arg 2)
Bit_Fields.c:40: warning: int format, status_type_two arg (arg 2) 
```

输出正确，如下图所示

```
$ ./Bit_Fields
The value of status_one is d5
The value of status_one is 48 
```

任何人都可以告诉，警告是关于什么以及如何解决它？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:41:18.867

解决这个问题的典型方法是使用整数类型的联合值，例如：

```
union status_type_one
{
   struct status_type_one{
       unsigned delta_cts : 1;// lsb
       unsigned delta_dsr : 1;
       unsigned tr_edge : 1 ;
       unsigned delta_rec : 1;
       unsigned cts : 1;
       unsigned dsr : 1;
       unsigned ring : 1;
       unsigned rec_line : 1;// msb
   } bits;
   unsigned whole[1];       // Size should match the total bits size.
} status_one; 
```

现在，您的其他代码必须更改：

```
status_one.bits.delta_cts=1;
status_one.bits.delta_dsr=0;
status_one.bits.tr_edge=1;
... etc ... 
```

和打印：

```
printf("The value of status_one is %x\n",status_one.whole[0]); 
```

[显然，如果整个结构体不止一项，则需要循环或将多个值传递给 printf]

您正在做的事情可能看起来很有效，但是您实际上不应该将 STRUCT 传递给 printf 函数，并且如果您使用超过一个机器字的数据，或者在 64 -位机等

# cassandra - WSO2 BAM-database other than Cassandra

> ID：14254574
> 
> 赞同：4
> 
> 时间：2013-01-10T09:31:04.590
> 
> 标签：cassandra, wso2, wso2bam

Can we plug into any other database other than Cassandra , as all published data goes into Cassandra ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:38:50.433

不，目前 WSO2 BAM 默认支持 Cassandra。但是，如果需要，可以通过扩展 Stream Definition Store 和 Event Persistence 接口来集成另一个数据库。

# xml - Remove empty comment tags using XSLT

> ID：14254575
> 
> 赞同：0
> 
> 时间：2013-01-10T09:31:06.777
> 
> 标签：xml, xslt, xml-comments

I have an input xml suppose of the form

```
<A>
  <B></B>
  <!---->
  <C></C>
</A> 
```

I am using XSL to transform this XML, but when I parse this XML I am getting below error message

"Error serializing file java.lang.ArrayIndexOutOfBoundsException: -1 Base Exception"

I have already included below command in my XSL, still getting the same error

```
<xsl:template match="comment()"/> 
```

Please help!

TIA :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:40:52.543

尝试：

```
 <xsl:template match="comment()[.='']"/> 
```

示例 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<root>
  <!---->
  <!--above comment line should be deleted-->
  <foo>
    <!--fooo data-->
    <foobar/>
  </foo>
</root> 
```

输入 XSLT：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>

    <xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()"/>
        </xsl:copy>
    </xsl:template>
  <xsl:template match="comment()[.='']"/>
</xsl:stylesheet> 
```

输出：

```
<?xml version="1.0" encoding="utf-8"?>
<root>
  <!--above comment line should be deleted-->
  <foo>
    <!--fooo data-->
    <foobar />
  </foo>
</root> 
```

# nhibernate - NHibernate: cannot resolve inherited id property

> ID：14254578
> 
> 赞同：3
> 
> 时间：2013-01-10T09:31:12.553
> 
> 标签：nhibernate, mapping-by-code

I have the entity defined below:

```
public class Foo : Entity<Foo.FooId>
{
    public class FooId
    {
        public virtual String Bar { get; protected internal set; }
        public virtual Int32 Buzz { get; protected internal set; }
    }

    // ...
} 
```

And here's the base class:

```
public abstract class Entity<T> : IEquatable<Entity<T>>
{
    public virtual T Id { get; protected internal set; }

    // ...
} 
```

I'm going to map the "Id" property as a "composite key", so I've added the following mapping class:

```
public class FooMap : ClassMapping<Foo>
{
    public FooMap()
    {
        ComponentAsId(x => x.Id, m =>
        {
            m.Property(p => p.Bar);
            m.Property(p => p.Buzz);
        });
    }
} 
```

And that's all pretty nice, but I get an error with the following querying attempt:

```
session.QueryOver<Foo>()
       .Where(m => m.Id.Bar == "a" &&
                   m.Id.Buzz == 2).List(); 
```

The error I get is: *NHibernate.QueryException : could not resolve property: Id of: Foo*

It's quite strange, because by removing the base class and encapsulating everything within "Foo", it works like a charm. Thanks in advance.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T16:37:28.787

这是一个错误并报告为[NH-3105](https://nhibernate.jira.com/browse/NH-3105)。它现在已在最新的[源代码](https://github.com/nhibernate/nhibernate-core)中修复，并将作为 3.3.3.GA 发布。

# android - Android：从 SQLite 数据库中选择数据 - 建议

> ID：14254579
> 
> 赞同：0
> 
> 时间：2013-01-10T09:31:10.810
> 
> 标签：android

请给我建议，如果我有类似`SELECT * FROM order_list WHERE order_number = ?`In table 之类的查询，从数据库中选择数据的有效方法是什么？我有更多具有共同订单号的条目（在我的情况下），我想为具有相同订单号的条目创建列表然后射进去`ListView`。我不知道首先选择所有订单号然后在 foreach 循环中选择并创建`List<Item>`或存在更好的东西是否有效。我试过找到一些例子，但没有成功。我应该如何解决这个问题？谢谢你。我感谢每一个帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:46:25.967

**您可以像这样使用相同的想法：**

```
"select col1,col2,col3 from table   WHERE order_number = ? ", new String[]{YOUR_VARIABLE_HERE}; 
```

例如：

```
 public Object[] getData(String Id) {
    Cursor c = null;
    ArrayList<String> arrayListProductName = new ArrayList<String>();
    ArrayList<String> arrayListProductId = new ArrayList<String>();
    db=helper.getWritableDatabase();
    c = db.rawQuery("select distinct  Column1,Column2 from Table1inner join Table2 on Table1.anyId = Table2.anyId  Table2.Id = ?", new String[]{Id});   
    c.moveToFirst();
    while(!c.isAfterLast())
    {
        arrayListProductName.add(c.getString(c.getColumnIndex("Column1")));
        arrayListProductId.add(c.getString(c.getColumnIndex("Column2 ")));
        c.moveToNext();
    }
    c.close();
    db.close();
    return new Object[]{arrayListProductName,arrayListProductId};
    } 
```

**在您的活动课程中：**

```
helper = new YourDatabaseHelper(this);

Object[] objectScheme = merchandisingHelper.getData(retId);
arrayListSchemeProductName = (ArrayList<String>) objectScheme[0];
arrayListSchemeProductId = (ArrayList<String>) objectScheme[1]; 
```

希望这会帮助你。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:35:21.910

用于`GROUPBY`_`SQL`

```
SELECT *
FROM table_name
WHERE column_name = yourvalue
GROUP BY your_columnname 
```

与`GROUP BY`聚合函数一起使用，以按一列或多列对结果集进行分组。在您的情况下，它将根据您的记录对您的记录进行`order number`分组。分组后，您可以分配给您的列表视图或您想要的任何内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:46:29.643

如果我理解正确，您想知道它是否更有效：

1.  使用`WHERE order_number = ?`子句过滤

2.  加载所有内容，然后循环过滤。

那么 1 是一个更好的解决方案，它将避免大量不必要的对象创建。如果您有很多行，在`order_number`列上添加索引可能会很有趣。

If you want to show the result in a `Listview` the best solution is to connect the `SQLiteCursor` to the `ListView`, using a [SimpleCursorAdapter](https://developer.android.com/reference/android/widget/SimpleCursorAdapter.html). This is very efficient because you only have to load data when the `ListView` needs it.

# c++ - 初始化一个普通的 C 结构

> ID：14254585
> 
> 赞同：2
> 
> 时间：2013-01-10T09:31:22.763
> 
> 标签：c++, c

我想将 C 风格的结构添加到 C++ 标头并在 C 函数中使用它。但这不起作用：

```
struct Vertex {
float Position[2];
float Color[4];
};

struct Square{
Vertex vertices[4];
}; 
```

别处：

```
float color[4]={rColor, gColor, bColor, alpha};
float halfsize=(float)size/2;

Square square= {
    {{halfsize,halfsize},{color[0],color[1],color[2],color[3]}},
    {{halfsize,-halfsize},{color[0],color[1],color[2],color[3]}}, //error on this line
    {{-halfsize,-halfsize},{color[0],color[1],color[2],color[3]}},
    {{-halfsize,halfsize},{color[0],color[1],color[2],color[3]}}
}; 
```

在第二行报告“结构初始化程序中的多余元素”。

在相关说明中，是否有更有效的方法将数组传递`color`给`square`集合？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T09:35:27.417

您需要为初始化程序[添加一个额外的大括号](http://liveworkspace.org/code/1YHz9f$3)`Vertex vertices[4];`

```
 \/   
Square square= {{
    {{halfsize,halfsize},{color[0],color[1],color[2],color[3]}},
    {{halfsize,-halfsize},{color[0],color[1],color[2],color[3]}}, //error on this line
    {{-halfsize,-halfsize},{color[0],color[1],color[2],color[3]}},
    {{-halfsize,halfsize},{color[0],color[1],color[2],color[3]}}
}};
^ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T10:08:05.430

正如其他回答者所提到的，您应该添加一个额外的大括号，然后事情就会起作用。

但是，您还会问这是否是一种更有效的传入方式`color`。

恐怕我认为没有。由于 C 和 C++ 都不会跟踪数组的长度，并且由于没有用于拼接数组的构造，因此您无法向编译器指示您希望复制数组的某个部分。

但是你所说的高效到底是什么意思？如果您的意思是，“有没有一种执行速度更快的方法？” 那么答案几乎肯定是否定的。此初始化将非常快。

如果你的意思是，“有没有一种方法可以用更少的代码来编写？” 那么答案很可能是否定的。六行很紧。

Granted, you are using a C++ header, so I'd think you must also be using a C++ compiler so it seems pointless to build this part of the code in pure C. You could make `color` into an STL vector and then build some constructors for `Square` and `Vertex` which initialize off of this vector. It would not take significantly more code and may reduce the probability of accidental mistakes.

Alternatively, if you're set on C and plan on having this code come up time and again, you could consider using a macro (either as below, or for the whole bloody thing, but then I'd say it would be better to have it in a function):

```
#define RGB_INIT {color[0],color[1],color[2],color[3]} 
```

Though macros do have their dangers.

# python - 使用 Networkx 获取图结构

> ID：14254589
> 
> 赞同：0
> 
> 时间：2013-01-10T09:31:28.027
> 
> 标签：python, networkx

我正在使用 Networkx 构建依赖关系图。例如我有这个结构。

```
A
 +-B
   +-C
 +-H

AA
 +-BB
   +-CC 
```

我用这样的 Networkx 轻松构建

```
G = nx.DiGraph()

G.add_edge(A,B)
G.add_edge(A,H)
G.add_edge(B,C)

G.add_edge(AA,BB)
G.add_edge(BB,) 
```

（顺便说一句，我不知道如何设置根节点，所以我有一个 root = set()，我有我所有的根，在这种情况下，root=(A)）

我的问题是如何通过指定节点来获得所有层次结构？例如，如果我愿意：

```
 G.successors[A] 
```

它会给我

```
{A: {B: {C: {} }, H: {} } 
```

但此刻如果我愿意

```
G.successors[A] 
```

它只给我

```
{H:{} , B:{} } 
```

哪个是正确的，但其余的在哪里？？？此外，如果一个 Do G.successors[B] 它返回我

```
{C:{}} 
```

这是正确的，但是当我做 G.successors[A] 时他为什么不把它放进去？

还有一个问题。Networksx 是否有可能从一个节点获取“路径”到另一个节点？例如？

```
[A,H] or [A,B,C] 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:36:41.150

[http://networkx.lanl.gov/reference/algorithms.traversal.html](http://networkx.lanl.gov/reference/algorithms.traversal.html)

```
print nx.dfs_successors(G,'A')

>> {A: [H,B], B:[C]} 
```

我不知道如何生成您在示例中给出的结构..

# ruby-on-rails - Ransack相反的谓词：现在

> ID：14254593
> 
> 赞同：0
> 
> 时间：2013-01-10T09:31:31.327
> 
> 标签：ruby-on-rails, ransack

Ransack 的能力发现`User`具有`first_name`：

```
User.search(:first_name_present => "1") 
```

反之，发现`User`没有`first_name`或空白：

```
User.search(:first_name_blank => "1") 
```

.

很遗憾，

`User.search(:first_name_present => "0")` **不等于**

`User.search(:first_name_blank => "1")`

.

反正有没有做

`User.search(:first_name_present => "0")` **平等的**

`User.search(:first_name_blank => "1")`,

或者

`User.search(:first_name_present => "1")` **平等的**

`User.search(:first_name_blank => "0")`?

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T07:52:45.073

你当然可以在调用之前做这样的事情`search`：

```
params[:q][:first_name_present] = "1" if
  params[:q][:first_name_blank].nil? ||
  params[:q][:first_name_blank] == "0" 
```

我认为这些不是一回事很好，否则，你不能有一个复选框来只查找那些名字为空的用户——它不允许列出所有用户的状态。就像现在一样，未选中的复选框不会导致过滤。

# python - 将合取范式的文件加载到列表列表中

> ID：14254595
> 
> 赞同：0
> 
> 时间：2013-01-10T09:31:33.260
> 
> 标签：python, conjunctive-normal-form

我已经编写了一些代码来根据[此处](http://people.sc.fsu.edu/~jburkardt/data/cnf/cnf.html)描述的标准从存储 cnf 的文件中加载 cnf 。

该文件是：

```
c  simple_v3_c2.cnf      // lines bigining by c are comments
c  
p cnf 3 2                // the line bigining by p is the description of the pb
1 -3 0                   // folowing lines are formulation of the pb, with 0 as ending caractere
2 3 -1 0 
```

我想将它加载到 [[1, -3][2,3,-1]]

我编写的代码有效，但对我来说似乎很难看。我很想对此有一些反馈。（我是 python 新手）。

```
def loadCnfFile(fileName='example.cnf'):
""" retourne une liste de listes d'entiers decrivants la forme normale conjonctive"""
cnf=[]
cnfFile = open(fileName, 'r')
for line in cnfFile:
    if line[0]!="c" and line[0]!="p":
        l=line.split("0")[0].strip().split(" ")
        m=[]
        for k in l:
            m.append(int(k))
        cnf.append(m)
cnfFile.close()
return cnf 
```

谢谢 ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:55:15.900

我想对您的代码的最佳反馈是以更“pythonic”的方式重写它。例如：

```
def cnf_lines(path):
    """Yields cnf lines as lists from the file."""

    with open(path) as fp:
        for line in fp:
            if not line.startswith(('c', 'p')):
                items = map(int, line.split())
                yield items[:-1] 
```

关键点：

*   PEP-8 一致性（请不要在 python 中使用 camelCase）
*   `with`用于文件操作的上下文管理器 ( )
*   生成器 ( `yield`) 而不是累积列表

注意：此代码是有意简化的，并不完全支持您链接到的规范。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:38:28.837

使用`list comprehension`：

```
In [66]: with open("example.cnf") as f:
        print [map(int,line.split("0")[0].split()) for line in f if line and \
                            not (line.startswith("c") or line.startswith("p"))]
   ....:     
[[1, -3], [2, 3, -1]] 
```

或者：

```
with open("example.cnf") as f:
         x= lambda y,c:y.startswith(c)
         print [map(int,line.split("0")[0].split()) for line in f if line and \
                                not any(x(line,z) for z in ("c","p"))]
   ....:     
[[1, -3], [2, 3, -1]] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:52:06.310

Ashwini 的代码是正确的，并且对经验丰富的程序员很有吸引力（谢谢），但对于 python 新手（你似乎是）来说，一个简单的 for 循环可能更容易理解：

```
result = []
with open("example.cnf") as f:
    for line in f:
        if not (line.startswith("c") or line.startswith("p")):
            result.append([int(x) for x in line.rstrip("0").rstrip("0\n").split()]) 
```

# sql - 内连接三表

> ID：14254597
> 
> 赞同：6
> 
> 时间：2013-01-10T09:31:36.293
> 
> 标签：sql, oracle11g, oracle-apex

我在 Oracle APEX 工作。我想通过 .The `INNER JOIN`Tables 从三个表中生成报告。这些表是 Fallows。

> 患者（Par_Id(Pk)、Pat_Name、Pat_Gender）
> 
> 历史（His_Id（Pk），Pat_id（Fk），Treated_By）

和

> 治疗（Treat_Id、His_id(Fk)、Pat_id(Fk)、Treat_Type、Charges）

我想显示上述三个表格中提到的报告中的所有列。

谢谢。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-01-10T09:41:05.420

您应该始终指定要返回的列，尤其是当表包含相同的列名时

```
SELECT p.Par_Id, p.Pat_Name, p.Pat_Gender,
    h.His_Id, h.Treated_By,
    t.Treat_Id, t.Treat_Type, t.Charges
FROM Patient p 
INNER JOIN History h 
    ON p.PAR_ID = h.PAT_ID
INNER JOIN Treatment t
    ON h.HIS_ID = t.HIS_ID AND p.PAR_ID = h.PAT_ID 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:35:37.213

这应该可以解决问题

```
SELECT * FROM Patient p 
    INNER JOIN History h 
        ON p.PAR_ID = h.PAT_ID
    INNER JOIN Treatment t
        ON h.HIS_ID = t.HIS_ID AND p.PAR_ID = h.PAT_ID 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:35:08.137

试试这个

```
Select * from 
PATIENT  inner join HISTORY  on par_id=HISTORY.Pat_id
inner join Treatment  on par_id=Treatment.Pat_id 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T09:36:38.480

在mysql中太简单了

```
SELECT 
    * 
FROM PATIENT as p
LEFT JOIN HISTORY as h ON h.Pat_id = p.Pat_Id
LEFT JOIN Treatment as t ON t.His_id = h.His_Id 
```

# android - Android - 在应用程序处于后台时启动新活动

> ID：14254598
> 
> 赞同：2
> 
> 时间：2013-01-10T09:31:36.560
> 
> 标签：android, android-asynctask, android-activity

我的应用程序的第一个活动是启动屏幕，其中显示一些动画，同时使用**AsyncTask**在后台线程中进行一些加载。后台加载完成后，我想开始一个新活动。这样做的正确方法是什么？

1.  **直接从AsyncTask**类的**onPostExecute**方法启动一个新活动。
***   在开始新活动之前检查当前活动是否显示：
    *   如果显示当前活动，则启动新活动。
    *   如果当前活动未**显示**，请使用标志（布尔值）并在**onResume**方法期间检查标志，以便在那里启动新活动。**

 **## 我主要关心的是：

如果我的应用程序进入后台（由于来电、按下 home 键，...）并且后台线程 (AsyncTask) 完成执行，并且在我的应用程序**仍在运行时从****onPostExecute方法启动一个新活动****背景**：会发生什么？

*   一旦我的应用程序再次可见，新活动是否会直接启动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-18T10:58:25.000

我遇到了类似的情况：我的应用程序进入后台，一段时间后应用程序启动了一个显示另一个活动的意图。但是，应用程序的行为现在取决于它运行的操作系统：

*   **在 4.4 之前的设备**上，应用程序会静默打开新活动并保持在后台。当用户恢复应用程序时，已经提示他进行第二个活动。

*   **在 4.4 设备上**（在 4.4.2 和 4.4.4 上测试）应用程序打开第二个活动，但 3-4 秒后，应用程序弹出到前台，打断用户。

希望它可以帮助任何人。我仍在寻找第二种情况的解决方案，以防止应用程序弹出到前台。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:47:00.740

根据我的经验，我正在回答你的问题

**问题1**

如果您使用 AsyncTask，您必须在`OnPostExecute()`. 以我的经验，这是正确的做法。

**问题2**

每当您按主页键或接听电话时。您的活动将进入后台，直到您按后退按钮退出应用程序（那时您的应用程序已退出）。所以当你回到你的应用程序时，如果后台进程完成，你的新活动将是可见的。否则，您将看到启动闪屏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:17:59.907

我认为它取决于android的操作系统。它为每个组件定义了一些内置的优先级模型。

看看commonsware给出的答案。

[在android中更改进程优先级](https://stackoverflow.com/questions/9281543/change-process-priority-in-android)

这给出了关于组件优先级的简要概念。**

# java - 带有安全管理器和内部 URLClassLoader 的 tomcat 上的 JndiPermission 错误

> ID：14254599
> 
> 赞同：2
> 
> 时间：2013-01-10T09:31:36.870
> 
> 标签：java, tomcat

在使用安全管理器部署在 tomcat 中的 webapp 中，这有效：

```
URL url = servletContext.getResource("/WEB-INF/internal/tika/tika-app-1.2.jar");
// test to see if the content can be read
String test = IOUtils.toString(url); 
```

Tomcat 使用 jndi 作为内部 URL。根据有关安全管理器的 tomcat 文档（[此处](http://tomcat.apache.org/tomcat-7.0-doc/security-manager-howto.html)链接），war 文件中的资源被授予隐式权限。

但是，这不起作用：

```
URL url = servletContext.getResource("/WEB-INF/internal/tika/tika-app-1.2.jar");
ClassLoader cl = new URLClassLoader(new URL[] { url }, this.getClass().getClassLoader());
// load a class from the jar
Class<TextExtractor> clz = (Class) cl.loadClass(" ... some class ...");
delegate = clz.newInstance(); 
```

我得到的例外是：

```
Caused by: java.security.AccessControlException: access denied (org.apache.naming.JndiPermission jndi:/localhost/my_webapp/WEB-INF/internal/tika/tika-app-1.2.jar)
at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)
at java.security.AccessController.checkPermission(AccessController.java:546)
at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)
at java.net.URLClassLoader$4.run(URLClassLoader.java:515)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.getPermissions(URLClassLoader.java:513)
at java.security.SecureClassLoader.getProtectionDomain(SecureClassLoader.java:235)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
at com.sample.myClass.afterPropertiesSet(TikaWrapper.java:38) 
```

我想我的第一个问题是：**为什么**？

如果我将它添加到 catalina.policy 文件中，那么它可以工作：

```
permission org.apache.naming.JndiPermission "jndi:/localhost/my_webapp/WEB-INF/internal/tika/tika-app-1.2.jar"; 
```

然而，客户不愿意或不能改变他的策略文件。

我的第二个问题是：知道该怎么做吗？我不能把 jar 放在 /WEB-INF/lib 下，否则我已经做了。我可以把它放在tomcat外面，并用基于file://的URL加载它，但我试图避免它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T22:07:13.767

至于您的第一个问题，文档中有一个关于在安全管理器下运行时类加载的[小注释](http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html#Running_under_a_security_manager)，为了方便起见，在此处引用它：

> 在安全管理器下运行时，允许加载类的位置也取决于策略文件的内容。

因此，默认情况下，webapp 类加载器似乎只允许从 WEB-INF/lib 和 WEB-INF/classes 目录加载**类**。在您的情况下，您似乎将 webapp 类加载器作为父级分配给您的自定义类加载器，因此后者与其父级相同，只能从 WEB-INF/lib 和 WEB-INF/classes 加载类.

至于怎么做，由于客户端不想或不能更改策略文件，请考虑尝试以编程方式更改策略。[这里](https://stackoverflow.com/questions/11737971/programmatically-grant-permissions-without-using-policy-file)有一个很好的例子。但是，它只有在当前的权限集允许调用`java.security.Permission.setPolicy`() 方法时才有效，我敢打赌它不会，因为这会设置 JVM 系统范围的策略。

# php - Zend Framework 2 - Doctrine 2 - 如何使用固定装置

> ID：14254600
> 
> 赞同：4
> 
> 时间：2013-01-10T09:32:01.497
> 
> 标签：php, database, doctrine-orm, zend-framework2, fixtures

我需要使用固定装置将初始用户放入我的数据库中。

我看了一下这个模块，据说非常好：[https ://github.com/doctrine/data-fixtures](https://github.com/doctrine/data-fixtures)

不幸的是，我不明白如何使用它。好吧，我用我的固定装置建立一个类。接着？我习惯于在创建数据库 ( `schema-tool:create`) 时自动将数据写入其中的方式进行固定。

但这种联系在哪里？似乎您必须在代码中的某个位置调用 Loader？

如果有人能给我一个简短的教程如何使用这些（或任何其他工作）夹具模块，那就太好了！

谢谢！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-10T18:11:38.627

这些装置在`DoctrineModule`. 有一个独特的模块专门用于使用 Doctrine 加载夹具，它被称为`DoctrineDataFixtureModule`并且可以在[GitHub](https://github.com/Hounddog/DoctrineDataFixtureModule)上找到。

通过 composer: 安装它并在您的 application.config.php 中`hounddog/doctrine-data-fixture-module`启用。`DoctrineDataFixtureModule`如果您已经配置了学说，只需将其添加到您`FooModule`的 module.config.php 中：

```
'data-fixture' => array(
    'location' => __DIR__ . '/../fixtures',
) 
```

并在该模块的目录中创建一个名为“fixtures”的子目录。将您的课程放在那里并运行`vendor/bin/doctrine-module data-fixture:import`以导入固定装置。夹具类的示例可能如下[所示](https://github.com/doctrine/data-fixtures#doctrine-data-fixtures-extension)

# jsf - JSF Primefaces 的 IE 7.0.5730.13 问题

> ID：14254602
> 
> 赞同：1
> 
> 时间：2013-01-10T09:32:04.937
> 
> 标签：jsf, user-interface, primefaces, internet-explorer-7

我已经使用 Primefaces 创建了一个应用程序。它在 Firefox、Chrome 和 IE 9 上运行良好。但在 IE 7.0.5730.13 上使用该应用程序存在许多问题。

**我将列出一些问题：**

*   在按钮上单击两次并刷新页面后打开对话框
*   DropDownBox 只是一个灰色的框，单击它后才会打开列表，它看起来不像标准的 DropDownBox
*   树表不好看，有些节点越过树表就挂在那里

看起来 Primefaces 与 IE 7.0.5730.13 不兼容。

我研究了很多，但在这个问题上找不到任何东西。

提前致谢。

**编辑**

对于那些仍然对 IE 浏览器中的对话框有问题的人

*   删除“模态=真”
*   为您的对话框设置固定宽度
*   为您的对话框设置一个固定高度

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T17:12:06.200

Primefaces[应该支持 IE 7](http://blog.primefaces.org/?p=2408)，直到版本 3.5（不再支持它）。如果您使用的是此版本，只需将其降级到以前的版本。但是，我非常同意@maple_shaft。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-14T12:55:25.660

在大多数情况下，您是正确的，PrimeFaces 和大多数 JSF 组件框架都与 IE7 不兼容。此外，还有一些更高级的 JSF 组件利用了 HTML5 功能，并且在 IE8 中也可能无法正常工作。

在这方面，IE7 是一个古老的浏览器，如果您的客户坚持支持它，那就太荒谬了。如果他们必须为某些专有的旧版软件使用 IE7，那么您始终可以建议为您的软件使用合适的浏览器，例如任何受支持的 Firefox、Chrome 或 Safari 版本。

# iphone - 全屏观看视频后，Web 视图为空白

> ID：14254603
> 
> 赞同：1
> 
> 时间：2013-01-10T09:32:12.423
> 
> 标签：iphone, ios, objective-c, xcode, mpmovieplayercontroller

在我的应用程序中，我打开一个包含视频的 html 页面。当我尝试从全屏观看视频中恢复过来时。

Web 视图消失。

**我不知道为什么会这样。**

我的代码如下：

```
-(void)viewWillAppear:(BOOL)animated
{
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(update:) name:@"UIMoviePlayerControllerWillExitFullscreenNotification" object:nil];

} 
```

**它也进入更新方法，但没有向我显示 webview。**

# javascript - html5画布代码空白

> ID：14254607
> 
> 赞同：0
> 
> 时间：2013-01-10T09:32:25.063
> 
> 标签：javascript, canvas, html5-canvas

我迫切需要解决我在 html5 画布中遇到的问题。我正在制作一款教育游戏，但在添加了另一张照片并进行了必要的代码更改后，画布却空白了。我恢复了更改，但问题仍然存在。我花了大约一周的时间试图修复它，但我已经没有想法了:(这是相关代码（如果有人需要另一部分，请直说）：

```
// Create the canvas
var canvas = document.createElement("canvas");
var ctx = canvas.getContext("2d");
canvas.width = 1041;
canvas.height = 550;
document.body.appendChild(canvas);

// Background image
var bgReady = false;
var bgImage = new Image();
bgImage.onload = function () {
bgReady = true;
};
bgImage.src = "images/introbackground.png";
//.... rest of the photos load like this so I won't put it...
// Level 1 background 1 image
var bbg1Ready = false;
var bbg1Image = new Image();
bbg1Image.onload = function () {
    bbg1Ready = false; //Exception since it shouldn't load at the beginning
};
bbg1Image.src = "images/pollutedbeach1.png";

// Game objects
var hero = {
    speed: 200 // movement in pixels per second
};
var level1;
var level2;
var biolevel = false;
//...Code to make the hero picture move with arrow keys and to reset the game are skipped...
if (hero.x <= (level1.x + 345)
&& level1.x <= (hero.x + 32)
&& hero.y <= (level1.y +50)
&& level1.y <= (hero.y + 32)){
    biolevel = true;
    return biolevel;
}

var render = function () {
    if (bgReady) {
        ctx.drawImage(bgImage, 0, 0);
    }
    //...The same for all photos previously loaded...
    if (biolevel == true){
        level1Ready = false;
        level2Ready = false;
        bbg1Ready = true;
        hero.speed = 125;
    }
};
//...Then the main game loop to animate it... 
```

对不起，有点长，但我真的需要一个解决方案。谢谢！

# exchange-server - 如何在 MS Exchange 中提取电子邮件附件？

> ID：14254609
> 
> 赞同：0
> 
> 时间：2013-01-10T09:32:26.217
> 
> 标签：exchange-server

首先，我不得不说我没有使用 Exchange 的经验，所以我没有代码可以显示我已经尝试过哪些（因为我不知道从哪里开始）。

我需要检查进入特定邮箱的电子邮件并解析 csv 格式的附件。（假设附件名为“data.csv”，邮箱为“data@example.com”）。

最终数据必须导入mysql。我是 php 的 dab-hand，它将在 Windows 服务器上可用，但我不知道是否有 API 或任何我可以询问的东西。

如何提取此类数据？或者有人可以指出我正确的方向吗？

抱歉缺少“试用”代码。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T04:08:45.933

您需要 Exchange Web 服务 (EWS)，它为您提供用于 Exchange 的完整 SOAP API。对于初学者，请尝试[MSDN 上的 EWS 介绍文档。](http://msdn.microsoft.com/en-us/library/exchange/dd877045%28v=exchg.140%29.aspx "EWS 多科")

# jquery - 显示 div 中的第一个元素并隐藏其余元素

> ID：14254613
> 
> 赞同：1
> 
> 时间：2013-01-10T09:32:45.610
> 
> 标签：jquery, html

我目前已经让这段代码工作了，它隐藏了第一个“p”标签之外的所有内容，然后触发一个点击函数来切换其余 div 的 p 元素：

```
<div class="col">
<p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
<p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
<ul>
   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
   <li>Aliquam tincidunt mauris eu risus.</li>
   <li>Vestibulum auctor dapibus neque.</li>
</ul>
<p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>           
<div class="sub-content-btn">Find out more</div>
</div> 
```

```
jQuery('.col').each(function() { 
    jQuery(this).find('p:not(:first)').hide();
  });

  jQuery('.sub-content-btn').click(function() {
    jQuery(this).toggleClass('active');
    if(jQuery(this).hasClass('active')){
      jQuery(this).parent('.col').find('p').show();
    } else {
      jQuery(this).parent('.col').find('p').hide();
      jQuery(this).parent('.col').find('p:first').show();
    }
  }); 
```

如何修改此代码以隐藏 p 标签和 ul 元素而不仅仅是 p 标签，然后切换所有元素？有问题的 div 将包含 ul。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:38:39.587

尝试这个

```
jQuery('.col').each(function() { 
  var $this= jQuery(this);
  $this.find(':not(p:first, .sub-content-btn)').hide();

});

jQuery('.sub-content-btn').click(function() {
  var $this= jQuery(this);
  var $parent=  $this.parent('.col');
  $this.toggleClass('active');
  if($this.hasClass('active')){
    $parent.find('p').show();
  } else {
    $parent.find('p').hide();
    $parent.find('ul').hide();
    $parent.find('p:first').show();
 }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:38:39.957

尝试这个：

```
jQuery('.col').each(function () {
  jQuery(this).find(':not(p:first, .sub-content-btn)').hide();
});

jQuery('.sub-content-btn').click(function () {
  var $btn = jQuery(this);
  $btn.toggleClass('active');
  if ($btn.hasClass('active')) {
    $btn.siblings().show();
  } else {
    $btn.siblings().not('p:first').hide();
  }
}); 
```

[**示例小提琴**](http://jsfiddle.net/RoryMcCrossan/w8PPS/1/)

# iphone - 如何在 iOS 6 中使用 Eventkit 框架设置闹钟时间

> ID：14254614
> 
> 赞同：1
> 
> 时间：2013-01-10T09:32:45.437
> 
> 标签：iphone, objective-c

我想将事件添加到带有警报的日历中。如果任何事件时间为 9.00，则必须将闹钟设置为 8.45，如何使用 EKAlarm 添加闹钟时间。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:36:58.590

[我刚刚在techotopia](http://www.techotopia.com/index.php/Using_iOS_6_Event_Kit_to_Create_Date_and_Location_Based_Reminders)找到了一个描述，用于在 ios 6 中使用 Eventkit 框架设置警报时间，例如：-

```
-(void)createReminder
{
    EKReminder *reminder = [EKReminder 
          reminderWithEventStore:self.eventStore];

    reminder.title = _reminderText.text;

    reminder.calendar = [_eventStore defaultCalendarForNewReminders];

    NSDate *date = [_myDatePicker date];

    EKAlarm *alarm = [EKAlarm alarmWithAbsoluteDate:date];

    [reminder addAlarm:alarm];

    NSError *error = nil;

    [_eventStore saveReminder:reminder commit:YES error:&error];

    if (error)
        NSLog(@"error = %@", error);

} 
```

希望它可以帮助你:)

# c# - 在 C# 中使用串行端口

> ID：14254620
> 
> 赞同：0
> 
> 时间：2013-01-10T09:33:14.253
> 
> 标签：c#, wpf, multithreading

我在我的 WPF 应用程序中使用串行端口，并且日志文件中有许多错误，例如“没有足够的配额来处理此命令”。

这个来源我认为有问题。我的错误在哪里？

```
void barcodeSerialPort_DataReceived(object sender, SerialDataReceivedEventArgs e)
    {
        string code = barcodeSerialPort.ReadLine();

        this.Dispatcher.Invoke(DispatcherPriority.Normal, (Action)delegate()
        {                
            if (new DateTime(model.ComebackDate.Year, model.ComebackDate.Month, model.ComebackDate.Day) > DateTime.Now)
            {
                new WndMessage("Date time error...").ShowDialog();
                Switcher.Switch(new MainMenu());
                return;
            }

            // ...............
        }); 
```

* * *

```
10.01.2013 10:05:08 - Exception on UI Thread (Dispatcher)
Exception message - There is not enough quota to process this command
Source - WindowsBase
StackTrace -    at MS.Win32.UnsafeNativeMethods.PostMessage(HandleRef hwnd, WindowMessage msg, IntPtr wparam, IntPtr lparam)
   at System.Windows.Interop.HwndTarget.UpdateWindowSettings(Boolean enableRenderTarget, Nullable`1 channelSet)
   at System.Windows.Interop.HwndTarget.UpdateWindowPos(IntPtr lParam)
   at System.Windows.Interop.HwndTarget.HandleMessage(WindowMessage msg, IntPtr wparam, IntPtr lparam)
   at System.Windows.Interop.HwndSource.HwndTargetFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)
   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)
   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)
   at MS.Internal.Threading.ExceptionFilterHelper.TryCatchWhen(Object source, Delegate method, Object args, Int32 numArgs, Delegate catchHandler)
TargetSite -Void PostMessage(System.Runtime.InteropServices.HandleRef, MS.Internal.Interop.WindowMessage, IntPtr, IntPtr)
InnerException.Message - NULL 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:16:39.780

尝试使用调度程序类中的 BeginInvoke 而不是调用方法。此调用方法在导致此错误的同一线程上调用。和 beginInvoke 方法会将对象分派到 UI 线程队列中，这将正常工作。

尝试使用它。

```
 this.Dispatcher.BeginInvoke(DispatcherPriority.Normal, (Action)delegate()
        {                
            if (new DateTime(model.ComebackDate.Year, model.ComebackDate.Month, model.ComebackDate.Day) > DateTime.Now)
            {
                new WndMessage("Date time error...").ShowDialog();
                Switcher.Switch(new MainMenu());
                return;
            }

            // ...............
        }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:56:31.467

接收到的数据事件将在它自己的线程中触发，并通过调用`Dispatcher.Invoke()`您调用每次此事件被触发回 gui 线程并在该方法中您将调用一个`ShowDialog()`将暂停直到此对话框关闭，这将暂停您的调度程序，它将暂停您的数据接收线程。

所以要真正解决这个问题，你必须将数据接收和 gui 任务解耦。在数据接收事件中，只需将接收到的数据放入某种列表、队列等中，仅此而已。在 gui 线程中，您会定期查看此列表、排队（可能使用计时器）并根据您得到的内容采取行动。

**注意：**如果您需要操作列表，从多个线程排队（例如在数据接收事件中添加项目，在 gui 计时器中删除项目），您应该查看[`Concurrent`-namespace](http://msdn.microsoft.com/en-us/library/system.collections.concurrent.aspx)并考虑[任务并行库](http://msdn.microsoft.com/en-us/library/dd460717.aspx)的使用或[反应式扩展](http://msdn.microsoft.com/en-us/data/gg577609.aspx)。

# android - 使用 Green-DAO 持久化双向实体

> ID：14254622
> 
> 赞同：3
> 
> 时间：2013-01-10T09:33:19.853
> 
> 标签：android, android-sqlite, greendao

你可能还记得[我之前](https://stackoverflow.com/q/13836417/1056359)关于 Green DAO 中双向关系的问题，我有一个由对话和消息组成的聊天。
每条消息都有一个父对话，并且对话有一个消息列表。

当我尝试添加新消息时，只要我不关闭应用程序，它就可以完美运行。
这是我用于向现有对话添加消息的代码：

我现在有执行此操作的代码：

```
Conversation conv = getConversation();
List<Message> list = conv.getMessageList();

Message msg = new Message();
msg.setConversationId(conv,getId());
MessageDao.insert(msg);

list.add(msg);

conv.update();
// ConversationDao.update(conv); 
```

当我下次打开应用程序并调用`conv.getMessageList()`时，结果为空`ArrayList`。

我究竟做错了什么？

***编辑：***

我更改了我的代码，现在它看起来像这样：

```
Conversation conv= getCOnversation();

Message msg = new Message();
msg.setConversation(conv);
MessageDao.insert(msg);

conv.resetMessageList(); 
```

不幸的是，现在比以往任何时候（即使在同一次运行中），仍然调用`conv.getMessageList()`返回一个空的`java.list`.

***编辑2：***

这是生成器的代码（这不是真正的代码，而只是对问题重要的代码。

```
Entity message = schema.addEntity("Message");
message.addIdProperty().autoincrement();

Entity conversation =schema.addEntity("Conversation");
conversation.addIdProperty().autoincrement();

Property parentConversation = message.addLongProperty("parentConversation")
        .getProperty();
Property messages = conversation.addLongProperty("messages").getProperty();
message.addToOne(conversation, parentConversation);
conversation.addToMany(message, messages); 
```

***编辑 3***

现在，而不是打电话给`conv.getMessageList();`我运行这条线，它工作正常。

```
List<Message> messageList = MessageDao.queryBuilder()
    .where(Properties.parentConversation.eq(conv.getId())
    .list() 
```

我怀疑我或 greenrobot 在实施这一切时会遇到一个主要问题。

这是同时运行上述代码的问题`Session.runInTx`吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-14T14:28:32.140

这是有问题的部分：

```
Property parentConversation = message.addLongProperty("parent")
    .getProperty();
Property messages = conversation.addLongProperty("messages")
    .getProperty();

message.addToOne(conversation, parentConversation);
conversation.addToMany(message, messages); 
```

对于 1:N 关系，您必须对 ToOne 和 ToMany 关系使用**相同的属性。**试试这个并重新生成你的代码：

```
Property parentConversation = message.addLongProperty("parent")
    .getProperty();
message.addToOne(conversation, parentConversation);
conversation.addToMany(message, parentConversation); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:40:50.507

`conv.getMessageList`只返回一个 java 列表。在此处添加消息不会将其保存到数据库中。您需要通过 将消息保存到数据库`messageDao`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-13T12:31:41.250

只是一个猜测：在调用*msg.setConversation(conv)***之前**，您的对话是否持续存在？通过引入健全性检查确保：

 *```
Conversation conv = getConversation();
if(conv.getId() == null) {
    throw new RuntimeException("Conversation not persisted: " + conv);
}
Message msg = new Message();
msg.setConversation(conv);
MessageDao.insert(msg); // Breakpoint here, is parentConversation set?
conv.resetMessageList(); 
```

如果这是问题所在，您必须确保您的对话持续存在，例如通过调用*conversationDao.insertOrReplace(conv)*。

一旦可行，您还可以考虑将*conv.resetMessageList()*替换为以下行：

```
conv.getMessages().add(msg); // Keep same list, also more efficient 
```

如果这没有帮助，请调试它并检查 msg 在插入之前是否设置了 parentConversation（请参阅代码中的注释）。*

# javascript - HTML 中的下划线模板生成神秘的 404 错误

> ID：14254625
> 
> 赞同：2
> 
> 时间：2013-01-10T09:33:25.327
> 
> 标签：javascript, html, ruby-on-rails, underscore.js

好的，我有这个下划线模板（简化版），`_template.html.erb`在我的 Rails 应用程序中的页面某处呈现：

```
<script type="text/html" id="mytemplate">
<div class="foo">
  <img src="{{= my_variable }}" />
</div>
</script> 
```

然后我在需要时在其他地方渲染它：

```
// change it to mustache-style because of defaults clashing with erb
_.templateSettings = {
  interpolate: /\{\{\=(.+?)\}\}/g,
  evaluate: /\{\{(.+?)\}\}/g
};

options = {
  my_variable: '/foo/bar/baz.img'
}

compiled = _.template($("#mytemplate").html());
$(compiled(options)).appendTo("#wherever"); 
```

从理论上讲，这应该可以正常工作，并且确实可以，除了像这样的错误开始在服务器日志和其他地方弹出，浏览器在 URL 上出现 404 错误，例如：`http://example.com/{{=%20my_variable%20}}`或`http://example.com/foo/{{=%20my_variable%20}}`.

现在，我的**预感**是它与它是一个标签这一事实有关，`img`并且浏览器以某种方式尝试`GET`从页面访问它，即使它被包装在`script`标签中，但我不知道到底为什么。这是许多人推荐的将下划线模板嵌入 HTML 的方法之一。而且我也不能将其归因于较旧的浏览器和/或机器人，因为服务器日志显示这些是使用最新 Chrome 等的真实用户。

编辑：经过多一点调查，1\. 它只发生在少数人（独特的 IP） 2\. 他们都使用最新版本的 Chrome。所以也许这是一个失控的扩展？

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T17:08:41.837

您必须将其更改`type="text/html"`为不存在的东西`type="x-template"`（或任何真正的东西）

如果缓存被清除，这通常有效。

如果没有真正做到这一点，那么您可以使用**外部模板**（您加载的文件）。但是，如果您想让它们保持内联，则**转义有问题的字符**（使用内部 JS 字符编码）。这将被 JS 解析，但不会被 HTML 解析器捕获。

您可以使用此工具： http: [//mothereff.in/js-escapes](http://mothereff.in/js-escapes)（取消选中“*仅转义非 ASCII 和不可打印的 ASCII 字符*”框）

这就是它的样子：

```
<script type="text/html" id="mytemplate">
<div class="foo">
  \x3Cimg src="{{= my_variable }}" />
</div>
</script> 
```

# macos - svn checkout 在 Mac OS 10.8.2 上 SSL 握手失败

> ID：14254630
> 
> 赞同：2
> 
> 时间：2013-01-10T09:33:44.670
> 
> 标签：macos, svn, openssl, collabnet

我已经设置了 CollabNet Subversion，现在我正在尝试从我的 Mac 10.8.2 中签出一些存储库。我已在同一网络上使用完全相同的命令从 Windows 7 成功签出存储库：svn co [https://myserver.com/svn/repository](https://myserver.com/svn/repository) repository --username=USERNAME

在 Mac OS 上，我收到错误：svn：'https://myserver.com/svn/repository'的选项：SSL 握手失败：SSL 错误代码 -1/1/336032856 (https://myserver.com)

顺便说一句：我可以使用相同的 URL 从 Safari 浏览器访问存储库。

我找不到有关错误代码的任何信息。

我在**Mac OS 10.8.2上运行**

**svn，版本 1.6.18** (r1303927) 编译于 2012 年 8 月 4 日，19:46:53

**OpenSSL 1.0.1c** 2012 年 5 月 10 日

所有这些都随 XCode 开发者工具一起提供。

有人知道发生了什么或可以推荐任何解决方案吗？

SubvesionEdge**服务器**软件版本为：**3.2.2** -3395.103，**Subversion 版本：1.7.8** -3395.103，**服务器上的 OpenSSL：1.0.0j**

谁能让 svn check-out 在 Mac OS 10.8.2 上运行？你使用了哪个版本的 svn、openssl 和 SubversionEdge？

谢谢，

尼尔森

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-01T04:34:36.080

该错误代码看起来很假（336032856 是 0xC84A8B70）：

```
$ openssl errstr 0xC84A8B70
error:C84A8B70:lib(200):func(1192):reason(2928) 
```

通常你会得到一个有用的字符串，比如原因、源文件和行号。

* * *

```
OpenSSL on Server: 1.0.0j 
```

那是一个 TLS 1.1 服务器。

```
OpenSSL 1.0.1c 10 May 2012 
```

那是一个 TLS 1.2 客户端。

它们应该可以互操作。

* * *

尝试删除`--username=USERNAME`，并`svn`在需要时提示您。

* * *

是否提示您信任证书？可能是 SVN 服务器配置错误。

* * *

最后，[超级用户](https://superuser.com/)可能是一个更好的地方。（我个人不在乎，但有些人喜欢结束问题并出于任何原因投反对票。他们成群结队地狩猎）。

# applescript - 如何使用命令从“Applescript Editor”编译applescript，如“Compile”

> ID：14254632
> 
> 赞同：1
> 
> 时间：2013-01-10T09:33:44.617
> 
> 标签：applescript

我有两个苹果脚本：

父.scpt： `property a:1`

孩子.scpt： `property parent:load script POSIX file ".../parent.scpt" return a`

我在 parent.scpt 中将 a 的值更改为“2”，运行“sudo osacompile .../child.scpt”然后“sudo osascript .../child.scpt”它仍然得到值“1”，但是如果我从“AppleScript Editor”“编译”child.scpt，我可以得到正确的值“2”

我错过了什么？如何使用命令来实现这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T11:36:57.400

在您重新编译脚本之前，属性是持久的。如果在设置属性时加载脚本文件，它是在编译时完成的，而不是在运行时完成的。这意味着脚本的副本被存储并且属性与文件无关。它与脚本编辑器一起工作的原因是文件再次重新编译，这意味着 parent.scpt 再次加载到最新版本。

我不建议加载父对象，最好加载子对象。现在您从父子链的底部开始，最好从根对象开始构建对象树。

查看您正在尝试在对象树中动态添加对象的代码。一种方法是：

父.scpt：

```
property name : "I'm the parent"
property b : 100

set theChildLib to load script POSIX file "/Users/shortname/Desktop/child.scpt"
set theChild to theChildLib's newChildObject(me)
return {theChild's parent's name, theChild's name, theChild's a, theChild's b} 
```

孩子.scpt：

```
on newChildObject(_parent)
    script childObject
        property parent : _parent
        property name : "I'm the child"
        property a : 2
    end script
    return childObject
end newChildObject 
```

如您所见，我可以从孩子那里打电话给父母。当我调用对象中不存在的属性时，它将遵循父链。

# c# - 改进正则表达式以将大文本拆分为句子

> ID：14254636
> 
> 赞同：2
> 
> 时间：2013-01-10T09:33:52.807
> 
> 标签：c#, regex

> **可能重复：**
> [解析单个句子的正则表达式是什么？](https://stackoverflow.com/questions/1936388/what-is-a-regular-expression-for-parsing-out-individual-sentences)

我想将大文本拆分成句子。[我从这里](https://stackoverflow.com/questions/4957226/split-text-into-sentences-in-c-sharp)的答案得到的正则表达式

```
string[] sentences = Regex.Split(mytext, @"(?<=[\.!\?])\s+"); 
```

所以我想使用一种模式来进行拆分，例如 a`.` `?` `!`跟在 a`space`和一个**`capital`**字母之后，而不是拆分。
大写字母表示句首。

```
text = " Sentence one . Sentence e.g. two ? Sentence three.
sentence[1] = Sentence one 
sentence[2] = Sentence e.g. two 
```

对于像缩写这样有问题的情况，我打算替换

```
mytext.replace("e.g.","eg"); 
```

如何在正则表达式中实现这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T09:39:40.343

`\p{Lt}`表示 Unicode 大写字母（包括重音符号等），所以

```
string[] sentences = Regex.Split(mytext, @"(?<=[.!?])\s+(?=\p{Lt})"); 
```

应该做你想做的。

（请注意，我不认为`.`或`?`不需要在字符类中转义，所以我也删除了它们，但请检查这是否仍然适用于这些字符。）

However, note that this will still split on e.g. `Mr. Jones`...

# html - Div 显示在错误的位置

> ID：14254638
> 
> 赞同：0
> 
> 时间：2013-01-10T09:34:15.037
> 
> 标签：html, css, css-position

我有这样的代码：

```
<div style="position:relative">
    <div style="float:left; width: 183px; background-color:#c1cba9; color: #000000;"><img border="0" alt="Product categories" title="Product categories" src="http://www.gvcdigital.co.uk/images/graphic/categrieshead.png" width="179" height="43"><br />
        <div style="margin-left: 10;"><ul><li><a href="/Digi-Spot/Sound-Vision-/_i.html?_sacat=293&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Sound &amp; Vision</a><span class="cnt"> (9943)</span></li><ul class="lev2"><li><a href="/Digi-Spot/TV-Home-Audio-Accessories-/_i.html?_sacat=14961&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">TV &amp; Home Audio Accessories</a><span class="cnt"> (4056)</span></li><li><a href="/Digi-Spot/Performance-DJ-Equipment-/_i.html?_sacat=48458&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Performance &amp; DJ Equipment</a><span class="cnt"> (1893)</span></li><li><a href="/Digi-Spot/Multipurpose-Batteries-Power-/_i.html?_sacat=48446&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Multipurpose Batteries &amp; Power</a><span class="cnt"> (1571)</span></li></ul><li class="morelnk"><a href="/Digi-Spot/Sound-Vision-/_i.html?_sacat=293&amp;_sasi=1&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">more...</a></li><li><a href="/Digi-Spot/Business-Office-Industrial-/_i.html?_sacat=12576&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Business, Office &amp; Industrial</a><span class="cnt"> (2530)</span></li><ul class="lev2"><li><a href="/Digi-Spot/Building-Materials-Supplies-/_i.html?_sacat=41498&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Building Materials &amp; Supplies</a><span class="cnt"> (2168)</span></li><li><a href="/Digi-Spot/Electrical-Test-Equipment-/_i.html?_sacat=92074&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Electrical &amp; Test Equipment</a><span class="cnt"> (107)</span></li><li><a href="/Digi-Spot/Industrial-Tools-/_i.html?_sacat=64808&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Industrial Tools</a><span class="cnt"> (92)</span></li></ul><li class="morelnk"><a href="/Digi-Spot/Business-Office-Industrial-/_i.html?_sacat=12576&amp;_sasi=1&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">more...</a></li><li><a href="/Digi-Spot/Computers-Tablets-Networking-/_i.html?_sacat=58058&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Computers/Tabl&#8203;ets &amp; Networking</a><span class="cnt"> (1655)</span></li><ul class="lev2"><li><a href="/Digi-Spot/Cables-Connectors-/_i.html?_sacat=31491&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Cables &amp; Connectors</a><span class="cnt"> (1328)</span></li><li><a href="/Digi-Spot/Laptop-Desktop-Accessories-/_i.html?_sacat=31530&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Laptop &amp; Desktop Accessories</a><span class="cnt"> (262)</span></li><li><a href="/Digi-Spot/Other-Computing-Networking-/_i.html?_sacat=162&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">Other Computing &amp; Networking</a><span class="cnt"> (33)</span></li></ul><li class="morelnk"><a href="/Digi-Spot/Computers-Tablets-Networking-/_i.html?_sacat=58058&amp;_sasi=1&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">more...</a></li></ul><div class="link"><br><a href="/Digi-Spot/_i.html?_sasi=1&amp;_sid=560455030&amp;_trksid=p4634.c0.m322">See all items in the store</a></div></div><br />
        <img border="0" src="http://www.gvcdigital.co.uk/images/graphic/catbot.png" width="179" height="17"></div>
    <div style="float:left; width: 480px; height:100px; text-align: center; background-color:#d6d6a4;"><img border="0" src="http://www.gvcdigital.co.uk/images/graphic/description.png" width="232" height="81"><br /><div style="text-align: left; margin-left: 10;">[[Description]]</div></div>
    <div style="float:left; width: 324px; height:100px; text-align: center; ">
        <div style="width: 324px; color: #ffffff; background-color:#6b8861; background-color:#d6d6a4;font-size : 34px;">[[Title]]</div>
        <div style="width: 324px; color: #ffffff; background-color:#6b8861;"><div style="width: 320px; margin: 2 2 2 2; background-color:#ffffff;">[[Picture1]]</div><div style="width: 300px; height: 2px; background-color:#6b8861; color: #6b8861;"></div></div>
        <div style="width: 324px; color: #801010; font-size : 40px; background-color:#d6d6a4;">Price: [[BuyItNowPrice]]</div>
    </div>
</div>

<div style="clear: both; text-aling: center; width:985px;"><img border="0" src="graphic/buttom.png" width="524" height="42"></div> 
```

它的结果如下所示： ![在此处输入图像描述](../Images/0f7dcdf1a8c260fef84f8e25a2773913.png)

可能是什么问题呢？我希望用红色 div 标记的位于底部的中心。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:36:32.300

添加`margin: 0 auto`到该div：

```
<div style="clear: both; text-align: center; width:985px; margin: 0 auto;"><img border="0" src="graphic/buttom.png" width="524" height="42"></div> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:38:34.653

在您的最终 div 中，您拥有`text-aling: center`而不是`text-align: center`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:37:17.500

添加边距：0自动；到那个标记的div。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T09:38:47.130

你已经设置`text-aling:center`了它应该是什么时候`text-align:center`。修复它，您将获得位于 div 中心的图像。要使 div 本身居中，请添加`margin: 0 auto`到该 div

演示： http: [//jsfiddle.net/8p7A2/1/](http://jsfiddle.net/8p7A2/1/)添加了固定的文本对齐和边距。

# java - 如何在 JSON 中删除或替换字符串标签为空白

> ID：14254639
> 
> 赞同：0
> 
> 时间：2013-01-10T09:34:14.297
> 
> 标签：java, android

```
<?xml version="1.0" encoding="utf-8"?>
<string xmlns="http://www.taxmanntechnologies.com/">[{"INT_ID":"102010000000000015","INT_Section_ID":"102120000000000069", "Section_No":"Section - 16 ","Heading":" Functions of Central Board"}]</string> 
```

我有我要删除的数据`<string xmlns="http://www.taxmanntechnologies.com/"> </String >`，
以便我可以获取 JSON 数据，任何人都可以告诉我如何删除它以便我可以解析它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:43:51.997

如果你想“正确”地做，你需要解析 xml，流行的 xml 解析技术/库是 SAX 和 DOM，SAX 更受事件驱动，使用起来有点棘手，而且 DOM 速度较慢，尤其是对于大型 xml 文档。

对于这个用例，我将使用 DOM 解析器，大致如下：

```
File fXmlFile = new File("c:\\file.xml");
DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
Document doc = dBuilder.parse(fXmlFile);
doc.getDocumentElement().normalize();

NodeList nList = doc.getElementsByTagName("string");
String json =  nList.item(0).getNodeValue(); 
```

# php - SQL查询，通过给定坐标选择最近的地方

> ID：14254641
> 
> 赞同：17
> 
> 时间：2013-01-10T09:34:22.833
> 
> 标签：php, mysql, sql, range, coordinates

我有`$latitude = 29.6815400`and `$longitude = 64.3647100`，现在在 MySQL 中，我想将 15 个最近的地方带到这些坐标，我打算做这个查询：

```
SELECT *
FROM places
WHERE latitude  BETWEEN($latitude  - 1, $latitude  + 1)
AND   longitude BETWEEN($longitude - 1, $logintude + 1)
LIMIT 15; 
```

您认为它是正确的还是您提出其他建议？

怎么办`BEETWEEN`，因为我想在附近的地方搜索最多 50Km 范围的槽？

我忘了说我也可以在运行查询之前使用 PHP 做任何事情。

注意：**我不能使用存储过程**。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-10T10:07:34.877

这是计算两点之间距离**的****PHP**公式：

 **```
function getDistanceBetweenPointsNew($latitude1, $longitude1, $latitude2, $longitude2, $unit = 'Mi') 
{
   $theta = $longitude1 - $longitude2;
   $distance = (sin(deg2rad($latitude1)) * sin(deg2rad($latitude2))+
               (cos(deg2rad($latitude1)) * cos(deg2rad($latitude2)) * cos(deg2rad($theta)));
   $distance = acos($distance); $distance = rad2deg($distance); 
   $distance = $distance * 60 * 1.1515;

   switch($unit) 
   { 
     case 'Mi': break;
     case 'Km' : $distance = $distance * 1.609344; 
   } 
   return (round($distance,2)); 
} 
```

然后添加一个查询以获取距离小于或等于上述距离的所有记录：

```
$qry = "SELECT * 
        FROM (SELECT *, (((acos(sin((".$latitude."*pi()/180)) *
        sin((`geo_latitude`*pi()/180))+cos((".$latitude."*pi()/180)) *
        cos((`geo_latitude`*pi()/180)) * cos(((".$longitude."-
        `geo_longitude`)*pi()/180))))*180/pi())*60*1.1515*1.609344) 
        as distance
        FROM `ci_geo`)myTable 
        WHERE distance <= ".$distance." 
        LIMIT 15"; 
```

您可以在[这里](http://www.marketingtechblog.com/wbu-alpha/)查看类似的计算。

[你可以在这里](http://www.marketingtechblog.com/calculate-distance/#ixzz2HZ6jkOVe)阅读更多

**更新：**

您必须记住，要计算**longitude2**和**longitude2**您需要知道：

每个**纬度**相距约**69 英里（111 公里）。**范围从赤道的 68.703 英里（110.567 公里）到两极的 69.407（111.699 公里）不等（由于地球略呈椭圆形）。这很方便，因为每分钟（1/60 度）大约是一英里。

一个**经度**在赤道处最宽，为**69.172 英里 (111.321)**，并在两极逐渐缩小至零。在北纬 40° 或南纬 40° 经度之间的距离为 53 英里（85 公里）。

所以`$longitude2 $latitude2`按照50km计算的话**大概：**

```
$longitude2 = $longitude1 + 0.449; //0.449 = 50km/111.321km
$latitude2 = $latitude1 + 0.450; // 0.450 = 50km/111km 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2015-03-03T21:36:42.177

您必须考虑用繁重的查询淹没任何像 MySQL 这样的 DBMS 不应该是最好的解决方案。

相反，您可以推测一个非常快速的 SQL 查询，选择坐标在 side 的简单正方形内的所有位置`$radius`，而不是突然选择一个完美的圆半径。`PHP`可以过滤多余的。

让我展示一下这个概念：

```
$lat    = 45.0.6072;
$lon    = 7.65678;
$radius = 50; // Km

 // Every lat|lon degree° is ~ 111Km
$angle_radius = $radius / ( 111 * cos( $lat ) );

$min_lat = $lat - $angle_radius;
$max_lat = $lat + $angle_radius;
$min_lon = $lon - $angle_radius;
$max_lon = $lon + $angle_radius;

$results = $db->getResults("... WHERE latitude BETWEEN $min_lat AND $max_lat AND longitude BETWEEN $min_lon AND $max_lon"); // your own function that return your results (please sanitize your variables)

$filtereds = [];
foreach( $results as $result ) {
    if( getDistanceBetweenPointsNew( $lat, $lon, $result->latitude, $result->longitude, 'Km' ) <= $radius ) {
        // This is in "perfect" circle radius. Strip it out.
        $filtereds[] = $result;
    }
}

// Now do something with your result set
var_dump( $filtereds ); 
```

通过这种方式，MySQL 运行了一个非常友好的查询，不需要全表扫描，而 PHP 使用类似于`getDistanceBetweenPointsNew()`此页面中发布的函数的功能去除剩余部分，比较从结果集的坐标到半径中心的距离.

为了不浪费（大）性能增益，请在数据库中索引您的坐标列。

快乐黑客！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T14:03:38.967

我对销售房屋应用程序做了类似的事情，按距给定点的距离排序，将其放在您的 SQL 选择语句中：

```
((ACOS(SIN(' . **$search_location['lat']** . ' * PI() / 180) * SIN(**map_lat** * PI() / 180) + COS(' . **$search_location['lat']** . ' * PI() / 180) * COS(**map_lat** * PI() / 180) * COS((' . **$search_location['lng']** . ' - **map_lng**) * PI() / 180)) * 180 / PI()) * 60 * 1.1515) AS "distance" 
```

替换`$search_location`为相关的 lat/lng 值，map_lat/map_lng 值是包含 lat/lng 值的 SQL 列。然后，您可以按距离对结果进行排序，并使用 where 或 have 子句过滤 50 公里范围内的属性。

如果您需要分页等附加功能，我建议您使用 SQL 作为与 PHP 相比的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-14T20:55:42.390

有点晚了，但它可能会对某人有所帮助 - 如果您想要按位置最近的城市，我不会继续距离，因为那样一个孤立的位置将无法检索任何东西。试试这个：

```
$G_how_close_to_find_cities = "1.1"; // e.g. 1.1 = 10% , 1.2=20% etc
$G_how_many_cities_to_find_by_coordinates = "10";
$query = "SELECT * from Cities  WHERE 
                        Cities__Latitude <= ('".$latitude*$G_how_close_to_find_cities."') AND Cities__Latitude >= ('".$latitude/$G_how_close_to_find_cities."') 
                    AND Cities__Longitude <= ('".$longitude*$G_how_close_to_find_cities."') AND Cities__Longitude >= ('".$longitude/$G_how_close_to_find_cities."') 
                    ORDER BY SQRT(POWER((Cities__Latitude - ".$latitude."),2)+POWER((Cities__Longitude - ".$longitude."),2)) LIMIT 0,".$G_how_many_cities_to_find_by_coordinates; 
```**

# mobile - 是否有任何软件/应用程序包含所有品牌的手机模拟器，以便我可以在模拟器上测试手机应用程序？

> ID：14254644
> 
> 赞同：1
> 
> 时间：2013-01-10T09:34:27.220
> 
> 标签：mobile, emulation

寻求帮助/分享信息。

最近我在 ios、android、blackberry、window、nokia 等中开发了一些手机应用程序。但我想知道是否有任何软件/应用程序包含所有类型的模拟器，以便我可以在不同型号的设备上测试它以查看布局。像诺基亚远程设备访问这样的东西，因为里面只有诺基亚手机模拟器.我想要的是包含所有 hte 仿真器（iphone、三星、backberry 等）的软件/应用程序来使用它。希望任何人分享信息，无论付费/免费软件。谢谢你

# javascript - jQuery("#"+id) 与 document.getElementById(""+id)

> ID：14254651
> 
> 赞同：3
> 
> 时间：2013-01-10T09:35:01.213
> 
> 标签：javascript, jquery, html, innerhtml

我的一个 div 有以下 id，`id="ftbutton_1357567084/Team:8/User:10/Image:195"`我想在调用 ajax 后替换它的 html。

当我尝试使用 jQuery 执行此操作时，类似以下的操作不起作用

```
jQuery("#"+id).html(SOME HTML HERE); 
```

以下代码在哪里起作用

```
document.getElementById(id).innerHTML = SOME HTML HERE; 
```

我知道 ID 不应该包含一些特殊字符

```
ID attributes should be = after an initial letter (a-z or A-Z), may also use 
periods and colons, in addition to letters, numbers, hyphens, and underscores. 
```

参考[`How do I select an element by an ID that has characters used in CSS notation?`](http://docs.jquery.com/Frequently_Asked_Questions#How_do_I_select_an_element_by_an_ID_that_has_characters_used_in_CSS_notation.3F)

但由于某种原因，我无法更改每个元素的 id，因为它被认为是站点。

我也尝试过，但它不起作用

```
function jq( myid ) {
  return "#" + myid.replace( /(:|\.)/g, "\\$1" );
}
jQuery(jq("#"+id)).html(SOME HTML HERE); 
```

我只是想知道这是不是这种情况，我需要`document.getElementById(""+id)`改用`jQuery("#"+id)`吗？

或者换句话说

`document.getElementById(""+id)`比 更可靠吗`jQuery("#"+id)`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T09:39:09.557

做这个：

`$('[id="ftbutton_1357567084/Team:8/User:10/Image:195"]');`

这实际上是一个有趣的问题。最有可能 jQuery 认为`:`正在启动一个过滤器，就像`$('div:visible')`并没有意识到它是一个完整的 ID 一样。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:44:58.930

[`/`是一个元字符，你也必须转义它](http://api.jquery.com/category/selectors)：

> 要将任何元字符（例如`!"#$%&'()*+,./:;<=>?@[\]^`{|}~`）用作名称的文字部分，必须使用两个反斜杠对其进行转义：`\\`.

所以这应该可以正常工作：

```
function escape_selector( selector ) {
  return selector.replace( /([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g, "\\$1" );
} 
```

（正如[他的评论中提到的](https://stackoverflow.com/questions/14254651/jqueryid-vs-document-getelementbyidid/14254825#comment19782277_14254651)，您也需要删除`'#' +`，否则您将其添加到选择器中两次）。

[**演示**](http://jsfiddle.net/QEPCK/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T09:49:32.647

问题是您要添加`#`两次。一次在函数中，一次在实际`jQuery`调用中。应该是这样的：

```
function jq( myid ) {
  return "#" + myid.replace( /(:|\.|\/)/g, "\\$1" ); //note that added `/`
}
jQuery(jq(id)).html(SOME HTML HERE); //don't add # again! 
```

**一个稍微不相关的提示：**永远记住你可以使用一个实际的 DOM 对象来启动一个 jQuery 实例：

```
jQuery(document.getElementById(someId)); //this will work 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:53:55.173

最简单的答案似乎是：

```
function jq( myid ) {
  return $(document.getElementById(myid));
}

jq(myid).html(...); 
```

* * *

## 回答 #5

> 赞同：-4
> 
> 时间：2013-01-10T09:42:31.640

正确的功能是：

```
function jq( myid ) {
  return *$("#" + myid)*.replace( /(:|\.)/g, "\\$1" );
}
jQuery(jq("#"+id)).html(SOME HTML HERE); 
```

# xna-4.0 - 如何检查一个 ModelBone 的 BoundingSphere？

> ID：14254658
> 
> 赞同：0
> 
> 时间：2013-01-10T09:35:28.963
> 
> 标签：xna-4.0

喜欢这个标题问题。如何在 XNA 4.0 中检查一个 ModelBone 的 BoundingSphere？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:39:58.643

一个 ModelBone 是模型中的一个网格。您需要确定的网格来检查和使用属性：mesh.BoundingSphere 来检查要检查的 ModelBone。

# java - 尝试重新排列按钮时出现 java.lang.ClassCastException

> ID：14254661
> 
> 赞同：0
> 
> 时间：2013-01-10T09:35:40.030
> 
> 标签：java, android, exception

安卓 2.3.3

我正在开发一个自定义计算器。我正在尝试更改 UI，只是在按钮周围随机播放，特别是，当我尝试更改一个按钮时，我得到了 ClassCastException。我尝试“清理”项目，删除 R.java 文件，更改 xml 文件并保存，但没有任何效果。这是来自eclipse的错误堆栈:::

```
01-10 09:19:41.949: E/AndroidRuntime(21494): FATAL EXCEPTION: main
01-10 09:19:41.949: E/AndroidRuntime(21494): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mobilevoiceapps.advancedvoicecalculatorplus/com.mobilevoiceapps.advancedvoicecalculatorplus.AdvancedVoiceCalculatorPlus}: java.lang.ClassCastException: android.widget.LinearLayout
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1651)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.os.Looper.loop(Looper.java:130)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.app.ActivityThread.main(ActivityThread.java:3687)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at java.lang.reflect.Method.invokeNative(Native Method)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at java.lang.reflect.Method.invoke(Method.java:507)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at dalvik.system.NativeStart.main(Native Method)
01-10 09:19:41.949: E/AndroidRuntime(21494): Caused by: java.lang.ClassCastException: android.widget.LinearLayout
01-10 09:19:41.949: E/AndroidRuntime(21494):    at com.mobilevoiceapps.advancedvoicecalculatorplus.AdvancedVoiceCalculatorPlus.onCreate(AdvancedVoiceCalculatorPlus.java:226)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
01-10 09:19:41.949: E/AndroidRuntime(21494):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)
01-10 09:19:41.949: E/AndroidRuntime(21494):    ... 11 more 
```

这是没有任何错误的xml文件:::

```
 <LinearLayout
                android:id="@+id/linearLayout9"
                android:layout_width="match_parent"
                android:layout_height="45px"
                android:layout_marginBottom="2px"
                android:background="#000000" >

                <Button
                    android:id="@+id/btnPower"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="^"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnNthRoot"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="n √x"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnLog10"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="Log10"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnLN"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="Loge"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />
            </LinearLayout> 
```

当我将电源按钮更改为不同的线性布局时，会发生错误...

发生错误时的 XML

```
 <LinearLayout
                android:id="@+id/linearLayout4"
                android:layout_width="match_parent"
                android:layout_height="45px"
                android:layout_marginBottom="2px"
                android:background="#000000" >

                <Button
                    android:id="@+id/btnInverse"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="1/x"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnFactorial"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="n!"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnPower"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="^"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnPercentage"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="%"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnNumberLeftBrace"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text="("
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />

                <Button
                    android:id="@+id/btnNumberRightBrace"
                    android:layout_width="0dip"
                    android:layout_height="fill_parent"
                    android:layout_marginRight="2px"
                    android:layout_weight="0.20"
                    android:background="@drawable/button_custom"
                    android:text=")"
                    android:textColor="#FFFFFF"
                    android:textSize="24px" />
            </LinearLayout> 
```

当我尝试更改电源（id/btnPower）按钮时，我得到了 classcastexception。如果我在 linearlayout9(id/linearlayout9) 中替换它，那么错误就会消失。它编译得很好，但在运行时，它会给出一个异常。

```
 btn0 = (Button) findViewById(R.id.btnNumber0);
        btn1 = (Button) findViewById(R.id.btnNumber1); // line with the error
        btn2 = (Button) findViewById(R.id.btnNumber2);
        btn3 = (Button) findViewById(R.id.btnNumber3);
        btn4 = (Button) findViewById(R.id.btnNumber4);
        btn5 = (Button) findViewById(R.id.btnNumber5);
        btn6 = (Button) findViewById(R.id.btnNumber6); 
```

错误不在一个恒定的位置。这取决于我插入电源按钮的位置。我确实阅读了很多关于 ClassCastException 的问题，但我不太明白为什么会导致它。如果有人能详细解释一下，我会很高兴。

如果您需要任何其他信息，请告诉我。

[已解决] 从手机上卸载应用程序，转到项目-> 清理并再次运行。如果错误不断出现，请再次执行这些步骤。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:47:34.160

由于我已经遇到过这个问题，并且在上面浪费了很多时间，这就是我所做的：

*   从手机/模拟器卸载应用程序
*   （清洁可能有帮助 - 不确定）
*   重新编译并安装您的应用程序的新版本。

简单的清理似乎没有帮助，卸载更有可能删除奇怪并解决问题。

希望这能有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:47:46.313

Uninstall the application from the mobile, go to project->clean and run again. If the error keeps coming, do follow the steps again. Thanks for the help.

# mysql - MySQL join 查看其他表中是否存在记录

> ID：14254663
> 
> 赞同：5
> 
> 时间：2013-01-10T09:36:04.050
> 
> 标签：mysql

我有以下表格：

```
CREATE TABLE `accommodations` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) 

CREATE TABLE `accommodations_exclude` (
  `id_accommodation` int(11) unsigned NOT NULL,
  `id_course` int(11) NOT NULL,
  UNIQUE KEY `id_course` (`id_course`,`id_accommodation`)
) 
```

在住宿表中有 4 条记录，在住宿排除中还有更多。现在我想要一个查询，它总是给我来自住宿表的所有记录，并作为额外字段加入以查看住宿是否也存在于住宿排除表中。

例如; 在 accommodation_exclude 中有一行 id_accommodation = 2, id_course = 16。

我想要一个显示以下内容的结果集：

```
accommodation.id, accommodation.name, accommodation_exclude.id_accommodation, accommodation_exclude.id_course

1,'acco 1',null,null
2,'acco 2',2,16
3,'acco 3',null,null
4,'acco 4',null,null 
```

我现在的查询是这个：

```
SELECT *
FROM accommodations a
LEFT JOIN accommodations_exclude ae ON a.id = ae.id_accommodation 
WHERE ae.id_course = 16 
```

但这只给了我结果集

```
2,'acco 2',2,16 
```

而不是应该有空值的住宿

知道我在这里做错了什么吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T09:39:03.497

将`ae.id_course = 16`子句从`WHERE`您的`LEFT JOIN`

```
SELECT *
FROM accommodations a
LEFT JOIN accommodations_exclude ae ON
    a.id = ae.id_accommodation
    AND ae.id_course = 16 
```

您应该将其 `WHERE`视为最终结果集的过滤器，与链接表有关的任何内容都应该是您`JOIN`的 s.

您的原件`WHERE ae.id_course = 16`是从结果集中过滤掉 NULL ae.id_course 行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:39:15.647

使`accommodations_exclude`表格成为左表格，或者`RIGHT JOIN`像这样使用：

```
SELECT
 a.id, 
 a.name, 
 ae.id_accommodation, 
  ae.id_course
FROM accommodations a
RIGHT JOIN accommodations_exclude ae ON a.id = ae.id_accommodation; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/61022/4)

这会给你：

```
| ID |   NAME | ID_ACCOMMODATION | ID_COURSE |
----------------------------------------------
|  1 | acco 1 |           (null) |    (null) |
|  2 | acco 2 |                2 |        16 |
|  3 | acco 3 |           (null) |    (null) |
|  4 | acco 4 |           (null) |    (null) | 
```

**请注意：**对于您发布的示例数据，`WHERE ae.id_course = 16`将只返回一行，即`ae.id_course = 16`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-12T06:15:09.133

[“Ross McNab”的答案](https://stackoverflow.com/a/14254713/1407491)是最好的，但如果你没有使用条件，`JOIN`你可以使用这个示例代码：

```
SELECT *
FROM accommodations a
LEFT JOIN accommodations_exclude ae ON a.id = ae.id_accommodation 
WHERE ae.id_course = 16 OR ae.id_course IS NULL 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:55:31.793

```
SELECT ACCOMMODATION.ID, ACCOMMODATION.NAME,
       ACCOMMODATION_EXCLUDE.ID_ACCOMMODATION,
       ACCOMMODATION_EXCLUDE.ID_COURSE
  FROM ACCOMMODATION, ACCOMMODATION_EXCLUDE
 WHERE ACCOMMODATION.ID = ACCOMMODATION_EXCLUDE.ID_ACCOMMODATION(+)
       AND ACCOMMODATION_EXCLUDE.ID_COURSE = 16 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T09:38:45.623

根据您的情况，它不会再给您

```
WHERE ae.id_course = 16 
```

它为您提供了正确的结果集。删除它，它将列出所有这些。

# java - 为现有文件的文件名添加索引（file.txt => file_1.txt）

> ID：14254664
> 
> 赞同：2
> 
> 时间：2013-01-10T09:36:07.217
> 
> 标签：java, design-patterns, filenames

如果文件已经存在，我想为文件名添加索引，这样我就不会覆盖它。

就像我有一个文件`myfile.txt`并且同时`myfile.txt`存在于目标文件夹中一样 - 我需要复制带有名称的文件`myfile_1.txt`

同时，如果我有一个文件`myfile.txt`，但目标文件夹包含`myfile.txt`并且`myfile_1.txt`生成的文件名必须是`myfile_2.txt`

因此该功能非常类似于在 Microsoft 操作系统中创建文件夹。

最好的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-11-03T12:55:07.327

使用[commons-io](https://commons.apache.org/proper/commons-io/)：

```
private static File getUniqueFilename( File file )
{
    String baseName = FilenameUtils.getBaseName( file.getName() );
    String extension = FilenameUtils.getExtension( file.getName() );
    int counter = 1
    while(file.exists())
    {
        file = new File( file.getParent(), baseName + "-" + (counter++) + "." + extension );
    }
    return file
} 
```

这将检查例如是否`file.txt`存在并将返回`file-1.txt`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:48:22.787

您还可以从使用 apache commons-io 库中受益。它在 FileUtils 和 FilenameUtils 类中有一些有用的文件操作方法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-10T09:47:16.963

试试这个链接部分回答了您的查询。

[https://stackoverflow.com/a/805504/1961652](https://stackoverflow.com/a/805504/1961652)

```
 DirectoryScanner scanner = new DirectoryScanner();
    scanner.setIncludes(new String[]{"**/myfile*.txt"});
    scanner.setBasedir("C:/Temp");
    scanner.setCaseSensitive(false);
    scanner.scan();
    String[] files = scanner.getIncludedFiles(); 
```

获得正确的文件集后，请附加适当的后缀以创建新文件。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-10T09:51:50.527

未经测试的代码：

```
File f = new File(filename);
String extension = "";
int g = 0;
int i = f.lastIndexOf('.');
extension = fileName.substring(i+1);

while(f.exists()) {      
  if (i > 0) 
  {  f.renameTo(f.getPath() + "\" + (f.getName() + g) + "." + extension); }
  else
  {  f.renameTo(f.getPath() + "\" + (f.getName() + g)); }     

  g++;    
} 
```

# ios - Objective C 中的逻辑运算符和错误结果

> ID：14254665
> 
> 赞同：0
> 
> 时间：2013-01-10T09:36:23.613
> 
> 标签：ios, objective-c, logic

我通过屏幕上设置的 UITapGestureRecognizer 获得了 x 和 y，在获得了我发现对象触摸的位置后，我设置了条件，但不起作用。也许我在目标 C 中放置了错误的条件？Xcode 没有给出错误，但该功能不起作用。

```
 -(void)tappedMapOniPad:(int)x andy:(int)y{
       NSLog(@"the x is: %d", x);
         //the x is: 302
       NSLog(@"the y is: %d", y);
         //the y is: 37

       if((121<x<=181) && (8<y<=51)){ //the error is here
            self.stand = 431;
        }else if ((181<x<=257) && (8<y<=51)){
            self.stand=430;
        }else if ((257<x<=330) && (8<y<=51)){
            self.stand = 429;
        }

      NSLog(@"The stand is %d", self.stand);
        //The stand is 431

   } 
```

我能怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T09:38:45.753

```
121<x<=181 
```

让我们假设 x := 10 `121<10<=181`-> `false<=181`-> `0<=181`-> true

你必须一步一步地去做。

```
((121 < x) &&  (x <=181)) 
```

让我们假设 x := 10 `((121 < 10) && (10 <=181))`-> `false && true`->`false`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T09:37:55.057

代替

```
if((121<x<=181) && (8<y<=51)) 
```

经过

```
if((121 < x && x <= 181) && (8 < y && y <= 51)) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:37:45.697

`(121<x<=181)`类型的表达式在 Obj-c 中无效。

利用，`(x>121 && x<=181)`

您的完整代码将如下所示：

```
 if((x>121 && x<=181) && (y>8 && y<=51)){ //the error is here
        self.stand = 431;
    }
    else if ((x>181 && x<=257) && (y>8 && y<=51)){
        self.stand=430;
    }
    else if ((x> 255 && x<=330) && (y>8 && y<=51)){
        self.stand = 429;
    } 
```

或者您可以将其优化为：

```
if(y>8 && y<=51){
    if (x> 257 && x<=330) {
        self.stand = 429;
    }
    else if(x>181){
        self.stand=430;
    }
    else if(x>121){
        self.stand = 431;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:38:46.987

失踪`&&`

尝试

```
if((121<x&&x <=181)&&(8<y&&y <=51)) 
```

希望能帮助到你

# django - Django 管理面板在传递任何 url 参数时抛出 404

> ID：14254668
> 
> 赞同：0
> 
> 时间：2013-01-10T09:36:37.463
> 
> 标签：django, django-admin

传递任何 url 参数时，Django 管理面板会抛出 404 示例 url：

/admin/app/model/ - 好的

/admin/app/model/?foo=bar - 404

/admin/app/model/?p=1 - 404

Nginx+uwsgi

项目 urls 文件（admin、admin_tools、application urls）

```
from django.conf.urls import patterns, include, url
from django.views.generic import TemplateView
import restaurant.views
import club.views
import hotel.views
import custom_app.views
import cart.views
from django.views.decorators.csrf import csrf_exempt
from django.contrib import admin
import settings

handler404 = 'custom_app.views.handler404'
admin.autodiscover()

urlpatterns = patterns('',

    url(r'^admin_tools/', include('admin_tools.urls')),

    (r'^$', custom_app.views.Index.as_view()),
    (r'^restaurant$', restaurant.views.Index.as_view()),
    (r'^which$', csrf_exempt(TemplateView.as_view(template_name='custom_app/which.html'))),
    (r'^cart/add', cart.views.AddToCart.as_view()),
    (r'^cart/delete', cart.views.RemoveFromCart.as_view()),
    (r'^cart/send', cart.views.SendCart.as_view()),
    (r'^cart/delivery', cart.views.SetDelivery.as_view()),
    (r'^restaurant/about', restaurant.views.About.as_view()),
    (r'^restaurant/payment', restaurant.views.Payment.as_view()),
    (r'^restaurant/vip', restaurant.views.Vip.as_view()),
    (r'^restaurant/menu/(?P<slug>.+)', restaurant.views.Menu.as_view()),
    (r'^restaurant/menu/', restaurant.views.Menu.as_view()),
    (r'^restaurant/cart/', cart.views.Basket.as_view()),
    (r'^restaurant/tables/', restaurant.views.Tables.as_view()),
    (r'^restaurant/success_ordering', restaurant.views.SuccesTableOrder.as_view()),
    (r'^vacancy', custom_app.views.Vacancy.as_view()),
    (r'^hotel$', hotel.views.Main.as_view()),
    (r'^hotel/services', hotel.views.Services.as_view()),
    (r'^hotel/room/(?P<room>\d+)$', hotel.views.Main.as_view()),
    (r'^hotel/order/option/toggle$', hotel.views.ToggleOption.as_view()),
    (r'^hotel/order/date/toggle$', hotel.views.ToggleDate.as_view()),
    (r'^hotel/order/send$', hotel.views.Send.as_view()),
    (r'^club/events/old/(?P<year>\d+)/(?P<month>\d+)', club.views.OldEvents.as_view()),
    (r'^club/events/old/', club.views.OldEvents.as_view()),
    (r'^club/about', club.views.About.as_view()),
    (r'^club/event/(?P<pk>\d+)', club.views.DetailEvent.as_view()),
    (r'^club$', club.views.Main.as_view()),
    url(r'^admin/', include(admin.site.urls)),
    (r'^ckeditor/', include('ckeditor.urls')),

)
if settings.DEBUG:
    urlpatterns += patterns('',
        url(r'^media/(?P<path>.*)$', 'django.views.static.serve', {
            'document_root': settings.MEDIA_ROOT,
            }),
    ) 
```

Nginx 配置文件：

```
server
{
        listen  %server_ip%;
        server_name custom.ru www.custom.ru;
        root /home/custom/www/;

       location ~* ^/resize/([\d\-]+)/([\d\-]+)/(.+)$ {
            alias /home/custom/www/custom/$3;
            image_filter resize $1 $2;
            image_filter_buffer 2M;
            error_page 415 = /empty;
        }

        location ~* ^/crop/([\d\-]+)/([\d\-]+)/(.+)$ {
            alias /home/custom/www/custom/$3;
            image_filter crop $1 $2;
            image_filter_buffer 2M;
            error_page 415 = /empty;
        }

        location = /empty {
            empty_gif;
        }

        location /
        {
                root /home/custom/www/custom/;
                uwsgi_pass unix:///home/custom/tmp/uwsgi.sock;
                include uwsgi_params;
                uwsgi_param UWSGI_PASS   unix:///home/custom/tmp/uwsgi.sock;
                uwsgi_param UWSGI_CHDIR  /home/custom/www/custom/;
                uwsgi_param UWSGI_SCRIPT wsgi;
        }

        location /static
        {
                alias /home/custom/www/custom/static/;
        }

        location /media
        {
                alias /home/custom/www/custom/media/;
        }

        location = /favicon.ico { alias /home/custom/www/favicon.ico; }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:45:48.710

尝试

/admin/app/action?foo=bar

代替 /？

额外的 / 正在该位置寻找资源

# iphone - UIImage 未在 DetailViewController 的第一个实例中加载

> ID：14254673
> 
> 赞同：1
> 
> 时间：2013-01-10T09:36:44.907
> 
> 标签：iphone, ios, uiimageview, master-detail

我有一个主从应用程序。我在 MasterViewController 表视图中列出了应用程序文档文件夹中的所有图像。单击每个 tableview 项目时，我将图像加载到具有 UIImageView 的 DetailViewController 中。我面临的问题是，当我单击 tableview 项目时，图像不会在第一个实例中加载。我只是在 DetailViewController 中看到消息“详细视图内容在此处”。如果我回去再试一次，它会工作得很好。它只是第一次图像不会加载。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
 if (!self.detailViewController) {
    self.detailViewController = [[PtmDetailViewController alloc] initWithNibName:@"PtmDetailViewController" bundle:nil];
}
//NSDate *object = _objects[indexPath.row];

NSData *imgData = [NSData dataWithContentsOfFile:self.fPath];
UIImage *thumbNail = [[UIImage alloc] initWithData:imgData];
self.detailViewController.imgViewer.image = thumbNail;
[self.navigationController pushViewController:self.detailViewController animated:YES];
} 
```

我究竟做错了什么？任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:05:14.673

似乎`detailViewController`没有时间加载视图。因此，您将图像设置为`nil`UIImageView （尚未初始化）。

尝试添加一个属性`UIImage *thumb`，`detailViewController`然后在 detailViewController 的`viewDidLoad`添加

```
imgViewer.image=self.thumb; 
```

在你的`tableView:didSelectRowAtIndexPath:`改变中

```
UIImage *thumbNail = [[UIImage alloc] initWithData:imgData];
self.detailViewController.imgViewer.image = thumbNail; 
```

至

```
UIImage *thumbNail = [[UIImage alloc] initWithData:imgData];
self.detailViewController.thumb = thumbNail; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:08:17.513

我想，第一次要么`self.fpath`来了，`nil`要么里面没有图像`path`。第一次检查`imgData`是否有`valur or nil`。然后展示你的形象，

```
[UIImage imageWithContentsOfFile:self.fpath] 
```

# c# - 从 Windows 应用程序执行 ssis 包时 vshost32.exe 已停止工作

> ID：14254677
> 
> 赞同：0
> 
> 时间：2013-01-10T09:37:05.020
> 
> 标签：c#, sql-server-2008, ssis

我创建了一个 ssis 包。通过直接执行测试它，它工作正常。但是当通过 Windows 应用程序执行它时，收到错误消息“vshost32.exe 已停止工作”并且应用程序被关闭。任何想法？

![在此处输入图像描述](../Images/a5ae2a0e5bd186f3033956e0b7df01a6.png)

这是我的代码：

```
pkgLocation = ConfigurationManager.AppSettings["SSISPath"].ToString();
Microsoft.SqlServer.Dts.Runtime.Application app = new Microsoft.SqlServer.Dts.Runtime.Application();
Package pkg = app.LoadPackage(pkgLocation, null);
pkg.ImportConfigurationFile(@"C:\SSIS\Config\My_Config.dtsConfig");
DTSExecResult pkgResults = pkg.Execute(); 
```

这是我的系统配置：Win 7 32 位 SQL Server 2008 Visual Studio 2010

# macos - MasOS X上的node.js“命令失败：execvp（）：权限被拒绝”错误

> ID：14254680
> 
> 赞同：3
> 
> 时间：2013-01-10T09:37:11.027
> 
> 标签：macos, node.js

我正在尝试从节点运行一个程序（例如“/Applications/Safari.app”），`child_process.execFile`但它失败并出现错误：

```
"Command failed: execvp(): Permission denied" 
```

它在 Ubuntu 和 Windows 上运行良好，但在 MacOS 上出现此问题。我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:40:00.707

`/Applications/Safari.app`实际上是一个目录（[应用程序包](https://developer.apple.com/library/mac/#documentation/CoreFoundation/Conceptual/CFBundles/AboutBundles/AboutBundles.html)），而不是一个可执行文件。

我认为最简单的解决方案是`/Applications/Safari.app/Contents/MacOS/Safari`改用。

# delphi - 文本文件 XE2 中实数的小数分隔符

> ID：14254682
> 
> 赞同：3
> 
> 时间：2013-01-10T09:37:16.170
> 
> 标签：delphi, delphi-xe2

下面的代码给出了 Writeln(Outfile,testreal) 的实数，并带有“.”。即使我在 Windows 系统中定义了“，”，也可以使用小数分隔符。如何使用 Writeln(Outfile,testreal) 将数字写入文本文件？

（FloatToStr 方法给出了应有的结果。）

```
procedure TForm1.Button1Click(Sender: TObject);
var Outfile:textfile;
    testreal:single;
    StrDummy : string;

begin
  testreal:=1234.1234;
  assignfile(Outfile,'test_real.txt');
  Rewrite(Outfile);
  StrDummy:='Decimal Separator in Windows: '+GetLocaleChar(GetThreadLocale, LOCALE_SDECIMAL, '.')+#13#10+
            'Decimal Separator in Delphi:  '+DecimalSeparator;
  Writeln(Outfile,StrDummy);
  Writeln(Outfile,testreal);
  Writeln(Outfile,FloatToStr(testreal));
  Closefile(Outfile);
end; 
```

给

```
Decimal Separator in Windows: ,
Decimal Separator in Delphi:  ,
 1.23412341308594E+0003                      //Ps. Why is there a beginning space here? 
1234,12341308594 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:43:20.513

Legacy Pascal I/O 用于`Str`将浮点值转换为文本。并`Str`硬编码一个小数点分隔符`.`。

我建议您使用更现代的 I/O 形式。例如用于将浮点数转换为文本的`TStreamWriter`类`FloatToStr`。

# c# - LinqToSQL InsertOnSubmit 和 InsertAllOnSubmit 的区别

> ID：14254691
> 
> 赞同：1
> 
> 时间：2013-01-10T09:37:57.610
> 
> 标签：c#, linq-to-sql

我有一个关于 LINQ to SQL 的问题。

什么更快：

```
 public void CreateLocationImages(IEnumerable<LocationImage> list)
    {

        _db.LocationImages.InsertAllOnSubmit(list);

        _db.SubmitChanges();

    } 
```

或者

```
 public void CreateLocationImages(IEnumerable<LocationImage> list)
    {   
        foreach (LocationImage item in list)
        {
            _db.LocationImages.InsertOnSubmit(item);
        }
        _db.SubmitChanges();
    } 
```

或者也许没有区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:42:45.613

`SubmitChanges`因为在这两种情况下你只调用**一次**。两个代码都会产生相同的性能。*（如果有任何性能差异应该可以忽略不计）* 如果您的第二个代码段`_db.SubmitChanges();`在 for 循环内，那么它将是一个单独的连接并在数据库中插入语句。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:41:48.870

几乎一样，[ILSpy](http://ilspy.net/)在这种情况下是一个很好的工具

```
// System.Data.Linq.Table<TEntity>
public void InsertAllOnSubmit<TSubEntity>(IEnumerable<TSubEntity> entities) where TSubEntity : TEntity
{
    if (entities == null)
    {
        throw Error.ArgumentNull("entities");
    }
    this.CheckReadOnly();
    this.context.CheckNotInSubmitChanges();
    this.context.VerifyTrackingEnabled();
    List<TSubEntity> list = entities.ToList<TSubEntity>();
    using (List<TSubEntity>.Enumerator enumerator = list.GetEnumerator())
    {
        while (enumerator.MoveNext())
        {
            TEntity entity = (TEntity)enumerator.Current;
            this.InsertOnSubmit(entity);
        }
    }
} 
```

# smtpclient - 收到错误：不得为拾取目录交付方法启用 SSL

> ID：14254693
> 
> 赞同：2
> 
> 时间：2013-01-10T09:38:01.603
> 
> 标签：smtpclient

我正在使用 C# 并且在我的 IIS 上我正在发送 smtp 消息（使用本地主机）当人们浏览到它时服务器具有 SSL 认证（https）我想改进将使用 SSL 发送的邮件发送所以我添加了这一行：

```
`client.Credentials = System.Net.CredentialCache.DefaultNetworkCredentials;`
`client.UseDefaultCredentials = true;`
`client.EnableSsl = true;` 
```

在创建客户端之后： `var client = new System.Net.Mail.SmtpClient("127.0.0.1");`

之前： `client.DeliveryMethod = SmtpDeliveryMethod.PickupDirectoryFromIis;`

但现在当我发送邮件时，我得到：“不得为拾取目录传递方法启用 SSL”

请帮忙 ：）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-06-23T13:32:07.520

您必须在代码中将交付方式设置为网络：

**client.DeliveryMethod = SmtpDeliveryMethod.Network;**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T23:55:46.407

根据[SendAsync 方法的 MSDN 页面的 Exception 部分](http://msdn.microsoft.com/en-us/library/x5x13z6h.aspx)，如果“EnableSsl 设置为 true 但 DeliveryMethod 属性设置为 SpecifiedPickupDirectory 或 PickupDirectoryFromIis”，您将收到 SmtpException。对我来说，DeliveryMethod 默认设置为 Network（虽然它是一个桌面客户端）。从错误消息看来，它是特定的或 IIS 为您拾取的。您的软件是桌面还是 ASP.NET Web 应用程序？跟我们多说些。您使用的是 Send 还是 SendAsync？“client.Credentials = System.Net.CredentialCache.DefaultNetworkCredentials;” 是多余的， UseDefaultCredentials 应该在后台自动执行类似的操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-02-06T01:15:13.160

如果@badr slaoui 解决方案不适合您，我想补充一点。检查您的 web.config `<mailSettings>`，评论解决了我的问题。

```
<mailSettings>
  <smtp deliveryMethod="SpecifiedPickupDirectory" from="no-reply@global.ca">
    <network host="localhost" port="25" />
            <specifiedPickupDirectory pickupDirectoryLocation="C:\inetpub\mailroot\Pickup" />
  </smtp>
</mailSettings> 
```

# android - 如何在 Android 中处理 networkonmainthread 异常？

> ID：14254697
> 
> 赞同：1
> 
> 时间：2013-01-10T09:38:12.927
> 
> 标签：android

我有以下 2 节课

```
class CallNetworkMethod extends AsyncTask<Void, Void, Void>
{

    @Override
    protected Void doInBackground(Void... params) {

        if (TwitterUtils.isAuthenticated(prefs)) {
            sendTweet();
        } else {

            Intent i = new Intent(getApplicationContext(), TwPrepareRequestTokenActivity.class);
            i.putExtra("tweet_msg",getTweetMsg());
            startActivity(i);
        }

        return null;
    }

    @Override
    protected void onPostExecute(Void result) {

        // TODO Auto-generated method stub
        super.onPostExecute(result);
        //updateLoginStatus();
        loginStatus.setText("Logged into Twitter : " + TwitterUtils.isAuthenticated(prefs));
    }

} 
```

==================================================== ==

```
public class TwitterUtils {

static ArrayList<String> friens=null;

public static boolean isAuthenticated(SharedPreferences prefs) {

    String token = prefs.getString(OAuth.OAUTH_TOKEN, "");
    String secret = prefs.getString(OAuth.OAUTH_TOKEN_SECRET, "");

    AccessToken a = new AccessToken(token,secret);
    Twitter twitter = new TwitterFactory().getInstance();

    twitter.setOAuthConsumer(TwConstants.CONSUMER_KEY, TwConstants.CONSUMER_SECRET);

    twitter.setOAuthAccessToken(a);

    try {

        **twitter.getAccountSettings();**

        return true;
    } catch (TwitterException e) {
        return false;
    }
}

} 
```

运行此代码时出现异常（networkonmainthreadexception）。我调试此代码并找到异常出现的位置。它是**twitter.getAccountSettings();** .我认为这个方法应该在 AsynTask 中运行，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:49:16.783

问题是你用`AsyncTask`错了。`onBackground`返回值和接收结果的想法`onPostExecute`是将在后台线程上完成的事情传递给 UI 线程。

像这样的东西：

更改`class CallNetworkMethod extends AsyncTask<Void, Void, Void>`为

```
class CallNetworkMethod extends AsyncTask<Void, Void, Boolean> 
```

更改`protected Void doInBackground(Void... params) {`为

```
protected Boolean doInBackground(Void... params) {

   Boolean result = TwitterUtils.isAuthenticated(prefs);
        if (result) {
        sendTweet();
    } else {

        Intent i = new Intent(getApplicationContext(), TwPrepareRequestTokenActivity.class);
        i.putExtra("tweet_msg",getTweetMsg());
        startActivity(i);
    }
    return result;       
} 
```

并将其更改`protected void onPostExecute(Void result) {`为

```
protected void onPostExecute(Boolean result) {
    loginStatus.setText("Logged into Twitter : " + result.toString());
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:53:01.963

目前您正在调用`TwitterUtils.isAuthenticated(prefs)`，`onPostExecute`因为 onPostExecute 总是在 UI 线程上执行，然后您会遇到`networkonmainthreadexception`异常。

为避免此问题，请使用 a`Boolean Flag`从 doInBackground 获取返回并`TextView`在 onPostExecute 中显示为：

```
class CallNetworkMethod extends AsyncTask<Void, Void, Void>
{
  public static boolean status=false;
    @Override
    protected Void doInBackground(Void... params) {

       status=TwitterUtils.isAuthenticated(prefs);

        return null;
    }

    @Override
    protected void onPostExecute(Void result) {

        // TODO Auto-generated method stub
        super.onPostExecute(result);
        //updateLoginStatus();
        loginStatus.setText("Logged into Twitter : " + status);
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:46:41.910

```
Note that this method blocks waiting for a network response, so do not call it in a UI thread. 
```

这是使用时的建议：

```
facebook.request("me"); 
```

同样的情况可能是：

```
twitter.getAccountSettings(); 
```

因此，就像您使用 AsyncTasks 调用的其他网络连接一样，在某些 AsyncTask 中调用它。

好的，错误可能在这里：

```
@Override
    protected void onPostExecute(Void result) {

        // TODO Auto-generated method stub
        super.onPostExecute(result);
        //updateLoginStatus();
        loginStatus.setText("Logged into Twitter : " + TwitterUtils.isAuthenticated(prefs));
    } 
```

你在`TwitterUtils.isAuthenticated(prefs)`打电话`onPostExecute();`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:49:32.803

您对 isAuthenticated() 的第一次调用已正确放置在 AsyncTask 中。但是，当您使用：

```
loginStatus.setText("Logged into Twitter : " + TwitterUtils.isAuthenticated(prefs)); 
```

在您的 onPostExecute() 中，您再次在 UI 线程上调用网络方法，因为 onPostExecute() 在 UI 线程上运行。

删除此行，或将结果存储在本地`doInBackground()`并在此处使用。

# amazon-web-services - Amazon S3 PUT 范围标头

> ID：14254704
> 
> 赞同：1
> 
> 时间：2013-01-10T09:38:35.207
> 
> 标签：amazon-web-services, amazon-s3

我目前在 Amazon S3 上为 GET 请求使用范围标头，但我找不到 PUT 请求的等价物。

我是否必须再次上传整个文件，或者我可以指定要更新文件的哪个位置？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-11T05:11:07.000

需要重新上传。S3 没有追加和/或编辑文件的概念

但是，如果它是一个长文件，您可以执行“分段上传”的操作，并发送多个文件，然后将其合并回 AWS：

[http://docs.amazonwebservices.com/AmazonS3/latest/dev/uploadobjusingmpu.html](http://docs.amazonwebservices.com/AmazonS3/latest/dev/uploadobjusingmpu.html)

# java - 将日志文件流式传输到远程客户端

> ID：14254716
> 
> 赞同：2
> 
> 时间：2013-01-10T09:39:13.727
> 
> 标签：java, linux, logging, stream, syslog

我有一个在远程服务器（debian linux）上运行的 Java 应用程序。该应用程序将运行时信息记录到文件中。

有时，支持人员需要使用客户端工具（不是在服务器上运行，而是在支持人员的桌面上运行）分析日志。然后该工具需要远程访问

1.  服务器上的旧日志文件
2.  当前日志文件（实时增长）

我正在寻找一种好的（=标准、灵活、安全、调试良好等）方式来将这些过去和现在的日志消息流式传输到我的客户端工具。

怎么做呢？

是否存在提供此服务的图书馆？

可以调整 syslog 来执行此操作吗？

编辑：出于隐私原因，日志文件应仅存储在远程服务器上，通常不发送到中央日志服务。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:41:25.023

为什么不使用[Log4j](http://logging.apache.org/log4j/2.x/)的功能作为通过 TCP 将日志文件发布到远程服务器的功能？Log4j 是一个标准的 Java 日志工具（众所周知/有据可查），设置远程连接非常简单。

我过去曾使用它来跨网络传输并在一个常见的可搜索目录结构中整理来自多台机器的日志文件（当您不知道您的进程可能在哪里运行时，在网格环境中非常有用）

有关详细信息，请参阅[此页面。](http://nilshb.wordpress.com/2009/06/22/apache-log4j-as-log-server/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:43:16.290

最简单的方法可能是在 Linux 机器上设置 samba，这样您就可以在更新日志时远程访问日志，而无需复制它们。

* * *

你可以使用 rsync。这使您可以在机器之间安全地复制对文件的更改。即附加文件只会复制自上次rsync 以来的更改。注意：您必须反复运行它才能看到更新。

如果可以修改工具以支持 SSH，例如通过 VFS，那么您就可以像访问本地文件一样访问远程文件。

# php - Apple Mail 不显示使用 Zend_Mail 发送的 PDF

> ID：14254719
> 
> 赞同：3
> 
> 时间：2013-01-10T09:39:18.883
> 
> 标签：php, email, zend-framework, pdf, apple-mail

我的 Web 应用程序使用 Zend_Pdf 创建 PDF 文档并使用 Zend_Mail 发送它们。它还附加了一些用户上传的文档（也是 PDF）。附件显示在所有常用的邮件程序中，Apple Mail 除外。创建的 PDF 大小约为 30 KB，邮件使用外部邮件服务器发送。

在 Apple Mail 中，邮件列表显示带有回形针的邮件（表明它有附件），但是当打开邮件时，看不到任何附件。当我单击消息头中的“详细信息”时，它会显示附件和保存它们的选项。

这是发送电子邮件的（精简）代码：

```
<?php
    $mail = new Zend_Mail('utf-8');
    $mail->setFrom('niels@example.com', 'Niels')
         ->setSubject('Subject')
         ->addTo('niels@example.com', 'Niels')
         ->setBodyHtml('Hi there', 'utf-8', Zend_Mime::ENCODING_8BIT);

    $a = new Zend_Mime_Part($pdfContent);
    $a->type = 'application/pdf';
    $a->filename = 'my_pdf.pdf';
    $a->disposition = Zend_Mime::DISPOSITION_ATTACHMENT;
    $a->encoding = Zend_Mime::ENCODING_BASE64;
    $mail->addAttachment($a);

    $mail->setHeaderEncoding(Zend_Mime::ENCODING_BASE64);
    $mail->send(); 
```

我收到的邮件具有以下邮件标题

```
Content-Type: multipart/mixed; boundary="=_f6a669390c6713f60a851af814fe897f"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0 
```

HTML 邮件内容：

```
--=_f6a669390c6713f60a851af814fe897f
Content-Type: text/html; charset="utf-8"
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable 
```

附件内容：

```
--=_f6a669390c6713f60a851af814fe897f
Content-Type: application/pdf
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="my_pdf.pdf" 
```

有没有办法让附件显示在 Apple Mail 的邮件中？现在有些人回答“没有附件”。Apple 是否会做一些“聪明”的事情来隐藏/显示附件？还是我应该使用另一个 Content-Disposition 等？我已经搜索了很长时间以找到解决方案，但线索不多了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:00:46.390

这不是 Zend 问题，而是 Apple Mail 问题。安装雷鸟 ;-)

这里有一些提示：

*   如果您同时发送内联文件和附件，可能会出现这样的问题
*   邮件应用程序设置默认为内联附件

    1.  关闭邮件
    2.  打开终端
    3.  输入命令`defaults write com.apple.mail DisableInlineAttachmentViewing -bool yes`，
    4.  打开邮件并重试
*   您不应该在设置正文中明确指定编码，您的邮件将按照您的方式使用默认的“UTF-8”编码进行初始化

*   除非您使用不使用基于罗马字母的字符集的语言发送电子邮件，否则您不应该对标头进行编码

尝试附加文件内联和

```
$mail = new Zend_Mail('utf-8');
$mail->setFrom('niels@example.com', 'Niels')
         ->setSubject('Subject')
         ->addTo('niels@example.com', 'Niels')
         ->setBodyHtml('Hi there');

// add attachment
$mail->createAttachment(file_get_contents('my_pdf.pdf'), 'application/pdf', Zend_Mime::DISPOSITION_ATTACHMENT , Zend_Mime::ENCODING_BASE64); 

// try sending attachment inline... maybe this will work (not sure if supported by all mail clients)
// $mail->createAttachment(file_get_contents('my_pdf.pdf'), 'application/pdf', Zend_Mime::DISPOSITION_INLINE , Zend_Mime::ENCODING_BASE64); 

$mail->send(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-15T19:00:48.233

Alex 提供的答案确实是解决方案：这*是*一个 Apple Mail 问题。当附件大小增加时，它会显示在电子邮件中。例如：我刚刚发送了一个更大的 PDF 文档（79KB，在消息列表中显示为 112KB）并且是可见的。如果我发送相同类型的 PDF（但更小），它会被隐藏。

# linux - 在 sed 中使用变量

> ID：14254723
> 
> 赞同：3
> 
> 时间：2013-01-10T09:39:35.773
> 
> 标签：linux, shell, variables, sed, console

我正在尝试在 Linux（Ubuntu）中使用 sed 删除文件的一部分。具体来说，我想删除日志文件的第一行，直到第一次出现当前系统日期（使用模式 '10 Jan 13'）。

所以，我将日期存储在一个变量中

```
root@server:/# VAR_DATE=`date -R | cut -c6-11` 
```

之后，我使用 sed

```
root@server:/# cat log_file.txt | sed -n -e '/$VAR_DATE/,$p' 
```

但它不起作用。我已经尝试了很多具有相同结果的组合：

```
root@server:/# cat log_file.txt | sed -n -e '/"$VAR_DATE"/,$p'
root@server:/# cat log_file.txt | sed -n -e '/"${VAR_DATE}"/,$p'
root@server:/# cat log_file.txt | sed -n -e "/$VAR_DATE/,$p" 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:43:51.750

使用双引号，以便变量`$vardate`被 shell 扩展并转义最后一个`$`，所以它不被 shell 扩展`sed -n "/$vardate/,\$p" file`：

```
$ cat file
6 Jan 13
7 Jan 13
8 Jan 13
9 Jan 13
10 Jan 13
11 Jan 13
12 Jan 13
13 Jan 13

$ vardate="10 Jan 13"

$ sed -n "/$vardate/,\$p" file
10 Jan 13
11 Jan 13
12 Jan 13
13 Jan 13 
```

# javascript - 使用 javascript 从标签内的标签中获取价值

> ID：14254725
> 
> 赞同：-2
> 
> 时间：2013-01-10T09:39:44.057
> 
> 标签：javascript, jquery

我需要从这样的代码中提取数据：

```
<div class="rateCalc_InfoLine2">
    <span style="font-size:12px;">
        Text1 - <b><font color="red" size="2">$ 500</font></b>;
        Text2 - <b><font color="red">$ 30</font></b>
    </span>
</div> 
```

所以基本上，我需要找到class`30`内部`2nd font tag`的`span tag`值。结构是静态的，所以我不需要担心错误（只有值会改变）`div tag``rateCalc_InfoLine2``30`

我知道要像这样获得 div 的价值：

```
$(".rateCalc_InfoLine2").html(); 
```

但是如何获得我需要的特定的？

* * *

回答：`$(".rateCalc_InfoLine2 font").eq(1).html().replace('$ ', '');`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:41:11.633

您可以首先`div`使用[**后代选择器**](http://api.jquery.com/descendant-selector/)查找字体元素，然后使用 index 使用[eq()](http://api.jquery.com/eq/)查找第二个元素。

**[现场演示](http://jsfiddle.net/rajaadil/bTxr2/)**

```
$(".rateCalc_InfoLine2 font").eq(1).html(); 
```

编辑以删除 $

```
strResult = $(".rateCalc_InfoLine2 font").eq(1).html().replace('$ ', ''); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T09:41:22.193

```
$(".rateCalc_InfoLine2 font:eq(1)").html(); 
```

或者

```
$(".rateCalc_InfoLine2 font:last").html(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:46:15.277

试试这个：

```
$(".rateCalc_InfoLine2 font")[1].innerHTML; 
```

## [演示 JSFiddle](http://jsfiddle.net/fudfb/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T09:46:54.843

以下将[选择相关元素](http://api.jquery.com/category/selectors/basic-css-selectors/)`text()`，使用方法访问其文本内容，其中的`match()`任何数值，并将其分配给`sum`：

```
var price = $('.rateCalc_InfoLine2 font:eq(1)').text().match(/\d{1,}/);
if (price) { var sum = price[0]; } 
```

在您的示例中，`sum`将被分配 value `30`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T09:44:10.157

要从标签内选择值，您需要使用`html()`

```
var value = $(".rateCalc_InfoLine2 font").eq(1).html(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-10T09:41:21.840

好吧，在这种特定情况下，您可以这样做：

```
$(".rateCalc_InfoLine2 font")[1].innerHTML; 
```

# openerp - 在 openerp 销售点显示对象的价值

> ID：14254728
> 
> 赞同：0
> 
> 时间：2013-01-10T09:39:56.310
> 
> 标签：openerp

我在销售点模块中添加了一个输入框（#cus-in）。

我的乐趣：函数（）{

```
 var dd=pos.store.get('product.product');

        $("#cus-in").val(dd);

        ); 
```

我在 pos.js 中编写了这段代码。如何在 input(#cus-in) 视图中显示 dd 对象的值？我只在销售点模块的输入框中查看了 [object Object]。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-30T13:31:11.997

dd 是 product.product 模块上的对象，

首先打印 dd 像 console.log("value of dd:::::", dd) ，然后查看其中的甲酸盐值，在这里我认为是产品列表。

# eclipse - 互联网上的 VisualSVN 使用 MyEclipse 访问问题

> ID：14254735
> 
> 赞同：1
> 
> 时间：2013-01-10T09:40:14.300
> 
> 标签：eclipse, svn, subversive, visualsvn-server, myeclipse

我已经在 Windows 2008 R2 64 位机器上安装了视觉 svn。我在服务器上创建了存储库，正确设置了所有组并为它们分配了正确的权限。它在本地完美运行。

当您在浏览器（任何）中尝试以下参数时，您将成功登录到存储库并提交更新。

```
URL https://124.191.120.88:8443/svn/ 

        or

URL https://190dev.no-ip.org:8443/svn/

user name : dummy
password  : dummy123 
```

这意味着互联网上的一切都很好。

当我在 MyEclipse 中尝试上面的 url 以使用正确的凭据从 svn 检查 oyut 项目时，它给了我以下错误

如果使用这个https://124.191.120.88:8443/svn/ 作为它给我的网址

```
Repository has been moved
svn: Repository moved permanently to 'https://124.191.120.88:8443/'; please relocate 
```

如果我使用这个[https://190dev.no-ip.org:8443/svn/](https://190dev.no-ip.org:8443/svn/)作为 url 它首先问我一些证书

**验证[https://190dev.no-ip.org:8443](https://190dev.no-ip.org:8443)的服务器证书时出错：-未知证书颁发者指纹：4f:11:c6:8a:51:3a:f6:13:b7:7a:30:d3:d5 :2c:9a:2e:56:d5:23:11 可分辨名称：190DEV - 主机名不匹配 (190DEV)**

我验证了它，然后它给了我与前一种情况相同的错误。

我的配置

## 视觉 SVN 服务器

版本 2.5.8

## 颠覆

1.7.8

## 阿帕奇

2.2.22

## 日食

8.6.1

## 蚀

3.5.1

## 安装在 MyEclipse 中的 Subversion 客户端

Subversion 客户端适配器（必需）1.6.12 org.tigris.subversion.clientadapter.feature.feature.group

## 我的操作系统

Microsoft win xp（我认为是 32 位）

## 服务器操作系统

Windows Server 2008 R2 服务包 1 64 位

我想从 MyEclipse 中的存储库中签出项目，但是无论如何我都无法成功。

请帮我解决这个问题。

谢谢你米希尔帕雷克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:54:54.880

与任何可以访问 SVNParentPath 并列出嵌套存储库的浏览器相反，**现在**没有一个 Subversion 客户端可以做到这一点（在未来的 SVN 1.8 之前，至少已经宣布）。

您**必须**访问存储库 URL（您已经创建了，是吗？）`https://190dev.no-ip.org:8443/svn/<REPONAME>`。

使用“轻量级测试器”（CLI SVN 客户端）测试您的配置：`svn ls <URL>`- 没有错误，一些输出意味着“一切正常”，错误将按原样打印

来自我的 http-only VisualSVN-server 两个路径的示例（在 repo 和 SVNParentPath 中）

```
> svn ls http://mayorat.ursinecorner.ru:8088/svn/
Redirecting to URL 'http://mayorat.ursinecorner.ru:8088':
svn: E175002: Unable to connect to a repository at URL 'http://mayorat.ursinecorner.ru:8088'
svn: E175002: The OPTIONS request returned invalid XML in the response: XML parse error at line 1: no element found (http://mayorat.ursinecorner.ru:8088)

> svn ls http://mayorat.ursinecorner.ru:8088/svn/Hello/
branches/
tags/
trunk/ 
```

使用正确 URL 后“存储库已移动”问题的附加（唯一*可能）问题可能是一些配置设置*

1.  我总是在 SVN-URL 中使用斜杠（在适用的地方）
2.  在 svn 位置的 Apache 配置中，也始终使用斜杠：`<Location /svn/>`
3.  SVNParentPath trailslashed 也：`SVNParentPath "Path/To/Parent/"`

# c# - 在两个 asp.net Web 应用程序之间共享相同的 SessionId

> ID：14254737
> 
> 赞同：3
> 
> 时间：2013-01-10T09:40:15.873
> 
> 标签：c#, asp.net, sql-server-2008

我在两个 Web 应用程序之间使用了 sql server 会话模式。会话 ID 在 ASPState 数据库中创建。我需要在不使用查询字符串和 cookie 的情况下将会话 ID 从第一个应用程序共享到第二个应用程序。我按照此[链接](https://stackoverflow.com/questions/2868316/sharing-sessions-across-applications-using-the-asp-net-session-state-service)中的步骤操作。下面是代码。
在这两个应用程序**（web.config）**

```
<add name="DBConnection" connectionString="Data Source=localhost;DataBase=ASPState;Integrated Security=True;uid=sa;pwd=password-1" providerName="System.Data.SqlClient"/>

<sessionState mode="SQLServer" sqlConnectionString="DBConnection" allowCustomSqlDatabase="true" regenerateExpiredSessionId="false" cookieless="false" timeout="1" ></sessionState>         

<machineKey validationKey="566A547C407CB0C47ABAEC581B8B90C45E15039806352E4611B35E0FB70C1C096350A4BBAE816191331DCA55874D3F96B41FFDED4C6A913591684A90825F53A0" decryptionKey="B299127DFC22648C2EF92D7EDF2E4960277F562C60F3BDE4A4C3BFDFEA602FDF" validation="SHA1" decryption="AES" />
<modules runAllManagedModulesForAllRequests="true">    
<add name="BasicAuthenticationModule" type="UserAuthenticator" />
</modules> 
```

在第一个应用程序**Home.aspx.cs**

```
protected void imgBTN_Click(object sender, EventArgs e)
{
   string sessionKey = HttpContext.Current.Session.SessionID;
  //How to transfer the same session id to the second application
   Response.Redirect("http://localhost:43392/PartnerHome.aspx"");
} 
```

我从 ASPState 数据库中获得了会话密钥。但是如何从相同的会话 id 传递到第二个应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:53:13.897

您可以使用 SessionManager 将 ID 设置为目标站点中所需的任何内容。您只需要通过查询字符串 GET 或表单 POST 从一个传递到另一个：

来源

```
Response.Redirect("http://localhost:43392/PartnerHome.aspx?SessID="
    + Session.SessionID); 
```

目标

```
string sessionId = Request.QueryString["SessId"];
bool redirected = false;
bool isAdded = false;
new System.Web.SessionState.SessionIDManager().SaveSessionID(
    HttpContext.Current, sessionId, out redirected, out isAdded); 
```

请参阅[MSDN 上的 SessionIDManager](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.sessionidmanager.aspx)

# css - 为什么我在 IE8 上的这个按钮上有渐变？

> ID：14254738
> 
> 赞同：1
> 
> 时间：2013-01-10T09:40:25.397
> 
> 标签：css, internet-explorer-8, gradient

我有一个红色按钮。当我单击它时，该按钮变为带有渐变的蓝色。

我不明白为什么，因为 IE8 不支持 CSS3 中的渐变，不是吗？这真的很奇怪。按钮**没有**属性`background-image: url()`。

截图： http: [//f.cl.ly/items/2h071c370o3J0R3v0435/cap-blue.jpg](http://f.cl.ly/items/2h071c370o3J0R3v0435/cap-blue.jpg)

# .net - xaml 中控件的“IsTabStop”属性有什么用？

> ID：14254760
> 
> 赞同：7
> 
> 时间：2013-01-10T09:41:39.723
> 
> 标签：.net, windows-8

在MSDN中我看到了这个。但我无法理解，谁能解释清楚我有什么用。

`Gets or sets a value that indicates whether a control is included in tab navigation.`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-11T05:53:01.807

基于显式 TabIndex 设置或基于页面层次结构的隐式 TabIndex 对表单中的 Tab 键进行排序。通过这种方式，您可以确保数据输入是流畅的——就像用户可以`Tab`从城市到州到邮编而不是从邮编到城市到州一样。

TabIndex 完全是为了让数据输入字段的可用性更加友好。在许多方面，TabIndex 有助于推动表单的工作流程，而无需明确告知最终用户。这非常好，但在大型表格上可能非常乏味。许多开发人员不打扰。他们很烂。恕我直言

IsTabStop 是一种开关`Tab`功能。当设置为 true（默认值）时，用户将继续`Tab`像往常一样通过您的表单。当设置为 false 时，用户将`Tab`通过您的表单，但该控件将被跳过。

需要注意的是，从 Tab 键顺序中删除控件只是一种方便，绝不可以防止通过鼠标单击或手指点击手动输入控件。

IsHitTarget 在某种程度上类似于 IsTabStop。但这是另一个问题；）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T09:48:13.143

它在锡上说了什么

如果您说三个编辑框并且中间的一个仅显示，您可以将 tabstop 设置为 false ，然后从第一个 Tab 跳到第三个。鉴于标签顺序当然是正确的。

# cakephp - 如何将简单数据从控制器传递到cakePHP中的视图

> ID：14254763
> 
> 赞同：6
> 
> 时间：2013-01-10T09:41:49.633
> 
> 标签：cakephp, cakephp-2.0, cakephp-2.1

我得到一个 int 值给控制器，我想把它发送到相应的视图，但我要么通过，要么错误地访问它。这是我正在尝试做的事情：

控制器：

```
function send($int = NULL) {
    $this->set('integer', $int);

} 
```

看法：

```
echo $integer['int'] 
```

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-10T09:42:44.667

改变

```
echo $integer['int'] 
```

到：

```
echo $integer; 
```

in 第一个参数`$this->set`用作视图中的变量名，第二个参数是分配给该变量的值。

# dynamics-crm-2011 - 从插件显示提示框

> ID：14254764
> 
> 赞同：1
> 
> 时间：2013-01-10T09:42:03.663
> 
> 标签：dynamics-crm-2011

我有一个插件，我想显示一个弹出窗口，用户可以在其中输入一些文本，完成后插件可以使用。这样的事情是可能的还是提示只能使用javascript？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:22:25.303

这是不可能的。您可以通过抛出异常将消息从插件传递给用户，用户将收到异常消息但他们将无法回复。

我建议使用自定义工作流活动进行对话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T21:24:52.780

不能按照你想的那样去做。那是因为插件直接在服务器上运行。但是，您有两个选择。

1.  如果它用于调试，您可以使用跟踪器并写入它。缺点是您需要使插件崩溃才能将消息传递到 GUI。对于普通用户来说几乎不推荐。
2.  如果您绝对必须（而且我**知道**您不需要**那么**多），您可以从插件中调用 Web 服务。如果 Web 服务以*某种方式*与桌面通信，您将能够启动桌面应用程序并从那里显示消息框。

顺便说一句，您希望通过消息框实现什么？插件旨在处理服务器上的内部逻辑，因此可能有更好的方法来处理您的想法。

# apache-flex - 如果火花按钮上的皮肤发生变化，如何获得通知

> ID：14254766
> 
> 赞同：0
> 
> 时间：2013-01-10T09:42:18.063
> 
> 标签：apache-flex, flex-spark

我有一个带有自定义皮肤类的火花按钮子类，定义如下：

```
<s:Button xmlns:fx="http://ns.adobe.com/mxml/2009"
      xmlns:s="library://ns.adobe.com/flex/spark"
      skinClass="com.company.NvrControlButtonSkin"
      enabled="false"> 
```

然后，我在此按钮的脚本部分中为对象设置了一个子类，我在该对象上注册了一个属性侦听器。在监听器中，我需要在皮肤本身上设置一个属性。但是，碰巧该属性返回的对象`skin`还不是我在 skinClass 上设置的类型。我假设在设置实际皮肤之前已经调用了我的属性侦听器。我现在希望在`skin`属性实际更改时收到通知，以便我可以在需要的皮肤对象上设置属性。

有什么我可以听的或我可以覆盖的方法或通知皮肤现在实际上设置为我的自定义皮肤的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:04:59.473

你很幸运，这很容易解决。`SkinnableComponent`（因此也`Button`）实现了以下两个受保护的方法，您可以覆盖它们：

*   [attachSkin()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/spark/components/supportClasses/SkinnableComponent.html#attachSkin%28%29)，每次将新皮肤应用于组件时调用
*   [detachSkin()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/spark/components/supportClasses/SkinnableComponent.html#detachSkin%28%29)，当当前皮肤从组件中移除时调用

也就是说，我会尽量避免直接在皮肤上设置属性，因为它会在宿主组件和皮肤之间创建紧密耦合。尝试使用皮肤部件更新属性。

# sql - 查询相互阻塞

> ID：14254767
> 
> 赞同：0
> 
> 时间：2013-01-10T09:42:18.433
> 
> 标签：sql, concurrency, oracle10g, locks

我从系统登录到我的应用程序。我从一个用户执行刷新并从另一个用户复制粘贴。刷新主要有一组选择查询，复制粘贴有更多的插入查询。这样刷新需要一分钟或更短的时间来执行，但是当从其他系统完成复制粘贴时，它需要很长时间或等待复制粘贴完成，然后才完成。

我正在使用 oracle 10g 数据库。我一直在使用 oracle sql develepor (monitor session) 来查看实时查询，但无法有效地使用它。

你能告诉我：

1.  如果有的话，如何查看冲突的查询。
2.  如何查看各种查询获取的锁。
3.  完成一个查询需要多长时间。
4.  我可能使用的任何其他建议或任何其他方法或工具。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:47:14.827

**如何查看有冲突的查询**

在**Enterprise Edition**中，您可以使用**Enterprise Manager**来跟踪阻塞会话和参与的查询。( [Enterprise Manager for 10g 文档](http://www.oracle.com/technetwork/documentation/oem102-091877.html))

您还可以为此编写 SQL 查询，如本文所述：[跟踪 Oracle 阻塞会话](http://www.dba-oracle.com/t_tracking_oracle_blocking_sessions.htm)

文章中的 SQL（列出阻塞会话）：

```
select blocking_session, sid, serial#, wait_class, seconds_in_wait
from  v$session
where blocking_session is not NULL
order by blocking_session; 
```

列出活动查询（来自[Ask Anantha](http://askanantha.blogspot.co.uk/2008/04/query-to-find-out-queries-running-in.html)）：

```
SELECT a.USERNAME, a.STATUS, b.sql_text
FROM V$SESSION a 
INNER JOIN V$SQLAREA b ON a.SQL_ADDRESS= b.ADDRESS; 
```

*   推荐阅读：[V$SESSION 表](http://docs.oracle.com/cd/B13789_01/server.101/b10755/dynviews_2073.htm)

**如何查看各种查询获取的锁。**

此查询将告诉您会话 ID（来自[Oracle 论坛](https://forums.oracle.com/forums/thread.jspa?threadID=671163)）：

设置 linesize 150；迎头赶上；col sid_serial form a13 col ora_user for a15; a35 的 col 对象名称；a10 的 col 对象类型；a15 的 col lock_mode；col last_ddl for a8; a10 的 col 状态；

在 sid_serial 上中断；

```
SELECT l.session_id||','||v.serial# sid_serial,
   l.ORACLE_USERNAME ora_user,
   o.object_name, 
   o.object_type, 
   DECODE(l.locked_mode,
      0, 'None',
      1, 'Null',
      2, 'Row-S (SS)',
      3, 'Row-X (SX)',
      4, 'Share',
      5, 'S/Row-X (SSX)',
      6, 'Exclusive', 
      TO_CHAR(l.locked_mode)
   ) lock_mode,
   o.status, 
   to_char(o.last_ddl_time,'dd.mm.yy') last_ddl
FROM dba_objects o, gv$locked_object l, v$session v
WHERE o.object_id = l.object_id
  and l.SESSION_ID=v.sid
order by 2,3; 
```

**完成一个查询需要多长时间**

您可以使用[SearchOracle中的此 SQL 对其进行跟踪](http://searchoracle.techtarget.com/tip/Tracking-the-progress-of-long-running-queries)

```
SELECT * 
FROM 
    (select 
        username,opname,sid,serial#,context,sofar,totalwork ,round(sofar/totalwork*100,2) "% Complete" 
    from v$session_longops) 
WHERE "% Complete" != 100 
```

**我可能使用的任何其他建议或任何其他方法或工具**

好吧，谷歌浮现在脑海...

# php - 访问麻烦，同时使用 session_save_path()

> ID：14254770
> 
> 赞同：0
> 
> 时间：2013-01-10T09:42:29.003
> 
> 标签：php, session, count, limit

我遇到了一些麻烦，事实上我已经做了一个代码来计算同时登录的会话数。因为我想限制同时连接的数量。

所以我写了以下代码：

```
 <?php
  if ($d = opendir(session_save_path())) {
     $count = 0;
     $session_timeout = 3 * 600;
     while (false !== ( $file = readdir($d) )) {
        if ($file != '.' && $file != '..') {
          if (time() - fileatime(session_save_path() . '/' . $file) <            $session_timeout) {
             $count++;
               }
          }
        }
   }
if ($count > $societe['max_utilisateurs']) {
    $sql = "INSERT INTO `session` SET
    `temps` = now(),
    `login`='" . $_SESSION['login'] . "',
    `mouvement`='2'";
     mysql_query($sql) or die;
     session_unset();
     session_destroy();
     header('Location: ../');
     exit();
   };
    ?> 
```

在我做的第一行`opendir(session_save_path()`它返回给我以下错误

警告：opendir（/var/lib/php5）：无法打开目录：第 523 行 /mnt/getcash-trunk/GESTION/index.php 中的权限被拒绝

我不明白它来自哪里，因为我在本地服务器上使用 ubuntu 和每个文件夹和文件的完整权限 777 工作。

任何帮助将不胜感激

# javafx-2 - JavaFx 2 - 自包含应用程序及其偏好、数据库等

> ID：14254772
> 
> 赞同：4
> 
> 时间：2013-01-10T09:42:29.887
> 
> 标签：javafx-2, preferences, self-contained

假设我有一个跨平台可运行的应用程序

此应用程序创建然后在外部文件中读取/写入一些数据和首选项

捆绑层次结构如下：

```
ApplicationFolder/application.jar
ApplicationFolder/database.odb
ApplicationFolder/config.xml 
```

无论是在 Mac、Windows 还是 Linux 上，应用程序都知道一切都在她身边（即：/database.odb 或 /config.xml）

* * *

现在出现了 JavaFx 2 提供的自包含应用程序功能

该应用程序嵌入在 Windows 上的 .exe 和 Mac 上的 .app 中，但还不了解 Linux...

作为 Mac 用户，我在 Mac 上对其进行了测试，发现 database.odb 和 config.xml 现在是在用户根路径中创建的

因此，我同意我应该考虑一种跨平台机制来保存/读取我关于操作系统的应用程序偏好

但我不太确定该做什么以及如何去做（也找不到任何谷歌搜索帮助..）

* * *

在 Windows 上，.exe 安装在一个文件夹中，所以我想我可以保持相同的行为

在 Mac 上，.app 是一个文件夹，我应该将所有内容保存在里面（如何获取 .app 路径？！）

Java/JavaFx 中没有内置机制吗？

* * *

非常感谢您可以给我的任何评论、建议、文档或其他内容

巴迪斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T19:05:19.157

有很多方法可以做到这一点。我在这里列出了其中一些，没有特别的顺序。推荐的方法取决于存储的数据类型。

Java 提供了一些机制（例如[属性](http://docs.oracle.com/javase/tutorial/essential/environment/properties.html)API 和[首选项](http://docs.oracle.com/javase/7/docs/technotes/guides/preferences/designfaq.html)API）来维护应用程序的首选项。

如果您的应用程序足够复杂，可以从数据库中受益，那么您可能想要使用 Java EE 或 Spring，它们都有自己的配置机制。

对于只读配置，您可以将相关文件捆绑在应用程序 jar 中。

要相对于应用程序 jar 存储定制的应用程序配置文件或客户端应用程序范围的数据库，请在运行时编写所需的文件。请参阅[如何获取当前执行的 jar 文件所在的目录？](https://stackoverflow.com/questions/2837263/how-do-i-get-the-directory-that-the-currently-executing-jar-file-is-in).

对于用户特定的配置，用于`System.getProperty("user.home")`检索用户的主目录，然后为您的首选项存储创建一个子目录（例如`"{$user.dir}/.myapp"`），并使用隐藏文件属性使其不会显示在标准文件目录列表中。

如果您的应用程序依赖于互联网连接，那么您可以在服务器端而不是客户端存储这些信息，并使用互联网协议从客户端使用它。这种方法的一个优点是用户配置和数据可以跨客户端机器自动移植。

# ios - OS X - 从带有本地缓存 的 url 加载图像

> ID：14254779
> 
> 赞同：1
> 
> 时间：2013-01-10T09:42:49.467
> 
> 标签：ios, image, macos, caching

我想从 url 下载要在我的 OS X 应用程序中显示的图像。当我使用一个使用 NSURLRequest 和 NSURLConnection 来获取文件的库时，但图像有时很重，并且视图会延迟几秒钟来加载。

在 iOS 中，有一些库可以从本地缓存中加载图像，并且该过程是即时的。在 OS X 中是否有一些库或方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:09:03.903

看看[AFNetworking](https://github.com/AFNetworking/AFNetworking)。

它在[UIImageView](http://afnetworking.github.com/AFNetworking/Categories/UIImageView+AFNetworking.html)上有一个类别，应该可以满足您的需要。

它也是一个很好的 HTTP 库。

# javascript - 绑定禁用的文本框

> ID：14254780
> 
> 赞同：1
> 
> 时间：2013-01-10T09:42:50.257
> 
> 标签：javascript, jquery, html

> **可能的重复：在禁用按钮时**
> [禁用输入](https://stackoverflow.com/questions/3100319/event-on-a-disabled-input)
> [JQuery 注册单击事件上的事件](https://stackoverflow.com/questions/9391170/jquery-register-click-event-while-button-is-disabled)

我有一个文本框：

```
<input type='text' disabled='disabled' id='textbox' value='diusabled text' /> 
```

在我的 javascript 中，我尝试绑定它的点击事件：

```
$('#textbox').bind('click', function() { alert ('111'); }); 
```

当我单击文本框时，什么也没有发生，因为它已被禁用。我该怎么做才能使此功能正常工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:51:07.507

您必须创建一个处理点击事件的叠加层。

该博客向您展示了如何做到这一点：

[http://blog.pengoworks.com/index.cfm/2010/4/23/Attaching-mouse-events-to-a-disabled-input-element](http://blog.pengoworks.com/index.cfm/2010/4/23/Attaching-mouse-events-to-a-disabled-input-element)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:47:05.573

您不能将事件绑定到禁用的元素。您必须先从禁用更改为启用，然后为该事件分配`bind`事件。稍后`textbox`您可以再次禁用该文本框。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:47:09.383

您可以使文本框只读以触发事件并且不允许编辑。

**[现场演示](http://jsfiddle.net/rajaadil/tshU9/)**

```
 <input type='text' readonly id='textbox' value='diusabled text' /> 
```

# javascript - 获取 JQuery 可排序列表中的元素数

> ID：14254782
> 
> 赞同：5
> 
> 时间：2013-01-10T09:42:58.530
> 
> 标签：javascript, jquery-ui-sortable, content-length

JQuery Sortable 的 API 并不清楚如何检索可排序列表中的元素数量。我想要元素数量的原因是因为我想将小部件的位置设置为可排序列表的末尾。我知道有一个附加函数，但我有自己的逻辑来操作可排序列表。

有人知道该怎么做吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T09:50:38.390

这应该这样做：

```
$('#sortable li').length; 
```

由于`$(foo)`返回 jQuery 对象或 jQuery 对象数组，具体取决于选择器`foo`，您可以使用 .length 属性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:46:22.813

您可以使用[toArray](http://api.jqueryui.com/sortable/#method-toArray)方法并检查结果数组的长度

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T09:47:59.713

我认为这可能不会在 jQuery 可排序插件中实现（虽然我还没有检查过），因为只有标准 jQuery 可以计算您的列表项。

例如：

`var count = $("#myList li).length`

获取列表中的记录数`<ul id="myList">`

# visual-studio - 为什么 VS2012 认为我的命令键是我试图编辑代码？

> ID：14254785
> 
> 赞同：3
> 
> 时间：2013-01-10T09:43:08.293
> 
> 标签：visual-studio, visual-studio-2012

例如，当我按下 Ctrl-D 时，我需要一个即时窗口，我必须将鼠标指针移出代码窗口，或者我被告知我不允许在代码运行时编辑代码。我最近才遇到这种情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T18:08:08.573

不知道你的 Visual Studio 是如何设置的，我不能说。但是，请尝试执行以下操作：

*   打开 Visual Studio 2012，然后转到工具 > 选项...

![工具](../Images/4514917645ec0a83895141e68a8550e8.png)

*   在“选项”菜单中，转到“环境”>“键盘”。

![在此处输入图像描述](../Images/0cbc88044528a934eaece1513beb7766.png)

*   从那里，单击“按下快捷键：”输入框，然后使用键盘输入`CTRL + D`. 完成此操作后，它将显示当前正在使用该快捷方式的命令。

![在此处输入图像描述](../Images/7e36c5c7c11887fa72a0c25e45b64cf1.png)

*   最后，在“显示包含：的命令”输入框中输入命令名称。从下面的列表中单击命令名称，然后单击“删除”。

![在此处输入图像描述](../Images/70a00462e45a282cf06433288a5e19e8.png)

希望这就是你要找的！如果您还有其他问题，请告诉我！

# java - 两个属性的排序对象

> ID：14254788
> 
> 赞同：-1
> 
> 时间：2013-01-10T09:43:16.857
> 
> 标签：java, collections

> **可能重复：**
> [两个字段的 Java 排序问题](https://stackoverflow.com/questions/4805606/java-sort-problem-by-two-fields)

我有像这样的用户对象

```
class user
{
    String firstName;
    String lastName;
} 
```

我有一个`List`包含这些对象的对象，我必须按名字对其进行排序，如果名字与按姓氏排序的名字匹配。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:45:02.843

这里有几种方法。

您可以实现一个[Comparator](http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html)，然后在标准 Java Collection 库中使用它来对您的集合进行排序，例如[Collections.sort()](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29)

```
Comparator<MyObject> comparator = ....
Collections.sort(listOfObjects, comparator); // note-  will sort in place 
```

另一种方法是让您的对象实现[Comparable](http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html)。然后，这将为您的对象引入*本机*排序顺序。

请注意，您可以同时实现这两种方法。当您想要实现不同的排序策略（例如，按名称、按日期、按大小等）时，前者很有用。如果您想利用 Java 库中的本机排序概念和标准排序函数，则后者很有用。

查看有关[对象排序的 Java 教程](http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:45:40.597

如果您实现 Comparable 并使用您自己的`compareTo`方法来满足您的需求。

另一种选择是使用`Comparator`许多其他答案中指示的自定义。

可以在[这里](http://www.mkyong.com/java/java-object-sorting-example-comparable-and-comparator)找到一篇展示这两种方法的好文章。

# dynamic - Xpages：动态加载jar

> ID：14254793
> 
> 赞同：0
> 
> 时间：2013-01-10T09:43:30.413
> 
> 标签：dynamic, jar, xpages

有人有为 XPage 应用程序动态加载 jar 的经验吗？我们希望有一些计算代码，这些代码将在外部 Jar 文件中经常更改，并在需要时动态加载它们。有谁知道这是否可能与 Domino 一起使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:07:26.927

您可以创建一个可以像 OSGI 插件一样推出的 tasklet。通过这种方式，您可以在这个 tasklet 中执行计算，您可以独立于您的应用程序进行更新。这样，您只需更新您的更新站点，所有使用该代码的应用程序都将安装最新版本。

你可以在这里找到更多信息：http: [//xpag.es/ ?1926](http://xpag.es/?1926)

另一种解决方案是将 jar 文件放在服务器上的 java/ext/lib 目录中。每次创建新版本时，您都可以在服务器上更新该文件。服务器/HTTP 任务重启当然是必要的。

# android - “花式”滚动条的哪个视图？

> ID：14254797
> 
> 赞同：0
> 
> 时间：2013-01-10T09:43:42.577
> 
> 标签：android, spinner, scrollview, scroller

我正在开发一个需要从用户那里选择一个元素（三选一）的应用程序。

现在我尝试开发一个 Spinner，然后是一个 RadioGroup，它们都在工作，但我发现它们并没有真正吸引人。微调器太简单了，但很容易看到。另一方面，RadioGroup 更漂亮（带有一些背景自定义），但还没有我想的那么好。

我想实现类似 ScrollView 的东西，但是具有很好的“碰撞”效果，中间的选择和顶部和底部的阴影。

示例图像：

![在此处输入图像描述](../Images/69af94a117ddb863412e0216ea293399.png)

Libra 应用程序有这种增加体重的视图：

![在此处输入图像描述](../Images/17fcef3799cce68323dfff280b54100e.png)

Scroller 是我要找的吗？有什么例子或教程吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:50:33.740

我认为[AndroidWheel](http://code.google.com/p/android-wheel/)是您正在寻找的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:58:54.593

没有默认视图可以满足您的要求。`Gallery`做类似的事情，但已被弃用。

Scroller 不是 View，而是帮助 View 实现 Scrolling 的实用程序类。

当然，有一些图书馆可以帮助您。

# java - 以应用程序为中心的 GWT 图像

> ID：14254798
> 
> 赞同：-1
> 
> 时间：2013-01-10T09:43:47.320
> 
> 标签：java, gwt

我想知道当按下按钮时如何将图像居中在孔 GWT 应用程序上，并在到达代码中的特殊位置时使其消失。

它将是一个`"waiting.gif"`在程序计算某些东西时显示一个旋转的圆圈。当计算结果时，GIF 应该会消失。

我必须用某种弹出面板来做吗？或者它是如何工作的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:47:05.003

您有以下选择

**1）**你想要的是一个加载掩码。你可以使用gwt提供的[图像加载单元](http://code.google.com/p/google-web-toolkit/source/browse/trunk/user/src/com/google/gwt/cell/client/ImageLoadingCell.java?r=10797/ImageLoadingCell.java)，或者如果你正在进行**异步**调用，那么你可以试试[这个](https://stackoverflow.com/questions/1309436/automatic-loading-indicator-when-calling-an-async-function)

**2）**您可以为您的应用程序添加样式名称，并在 css 中使用您想要的图像，设置低**不透明度**属性。

**避免使用弹出窗口，因为计算图像的确切位置可能很麻烦**

# javascript - 清除 setTimeout 或重置功能

> ID：14254799
> 
> 赞同：3
> 
> 时间：2013-01-10T09:43:47.507
> 
> 标签：javascript, node.js, timer, settimeout

我有一个计时器功能，我想清除超时或重置功能，因为每次我执行它时，都会创建一个新的超时，所以我收到了几个计数。我的想法是每次执行函数时都重置计数。我只想要一个计时器实例并获得正确的计数。如果如果执行多次我想重新启动到0的功能。

这是我的代码：

```
var timeouts = new Array();
var timer = null;

io.sockets.on('connection', function (client)
{
    client.on("start", function (){
    console.log('Someone has pressed Start button',new Date().getTime());

        //try to kill all timeouts
        for (var timeout in timeouts) {
            clearTimeout(timeout);
        };

        if(this.timer == null) {
            this.timer = new timer(1000, function (data) {
                io.sockets.emit('timeupdate', data);
            })
        }else {
            this.timer = null;
    });
});

function timer(delay, callback)
{
    // self-reference
    var self = this;

    if (!(this instanceof timer)) {
        return new timer();
    }
    // attributes
    var counter = 0;
    var start = new Date().getTime();

    /**
     * Delayed running of the callback.
     */
    function delayed()
    {
        console.log(counter);
        callback(counter);
        counter ++;
        var diff = (new Date().getTime() - start) - counter * delay;
        var timeOut = setTimeout(delayed, delay - diff);
        timeouts.push(timeOut);
    }

    // start timer
    delayed();
    var timeout = setTimeout(delayed, delay);
    timeouts.push(timeout);
} 
```

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:51:35.363

使用`clearTimeout()`是正确的方法。问题是你的`for`循环。这可能看起来像一个经典的`foreach`循环，但事实并非如此。你所要做的：

```
for (var i=0; i< timeouts.length; i++) {
    clearTimeout(timeouts[i]);
} 
```

或者，我个人也不喜欢这个：

```
for (var i in timeouts) {
    clearTimeout(timeouts[i]); // note how the array is indexed using var i
} 
```

这是一个常见的 JavaScript 陷阱——- `for (x in y)`loop 实际上迭代数组的索引，而不是值。它还可以迭代对象的属性。试试看：

```
var a = [3, 2, 5, 8];

for (var i in a) {
    console.log(i);
    console.log(a[i]);
}

var o = { test: 'hello', number: 1234 }; 
for (var x in o)
    console.log(x); 
```

# django - 我可以在 {% include %} 使用模板时指定多行上下文变量/参数吗？

> ID：14254802
> 
> 赞同：0
> 
> 时间：2013-01-10T09:43:52.083
> 
> 标签：django, django-templates

我知道在使用另一个模板包含 Django 模板时可以设置上下文变量

```
{% include "default_table.html" with table_header=table_header1 table_data=table_data1 %} 
```

或者

```
{% with "My data" as table_data %}
    {% include 'default_table.html' %}
{% endwith %} 
```

我的问题是这两种方法都不允许我定义多行变量（当然，除非它们基于以前的多行变量）。

我的具体用例是这个

```
<!-- widget.html -->
<div class="box">
    <div class="title">{{ title }}</div>
    <div class="title">{{ body }}</div>
</div> 
```

我希望能够为`body`上下文变量设置更长的文本。这将使我可以在不同的地方重用通用的小部件 HTML。这可以做到吗？

我一直在[http://djangosnippets.org](http://djangosnippets.org)上搜索über`{% with ... %}`模板标签，但到目前为止还没有找到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:53:44.140

这个 Django 片段有点解决了我的问题：[http](http://djangosnippets.org/snippets/1860/) ://djangosnippets.org/snippets/1860/但我希望能够设置上下文变量而不是`{% localblock step_ready_js %}{% endlocalblock %}`在我的小部件 HTML 中定义。

# c# - 我可以在不复制内存的情况下创建一个包含现有数组子集的新数组引用吗？

> ID：14254805
> 
> 赞同：4
> 
> 时间：2013-01-10T09:43:58.057
> 
> 标签：c#, arrays, memory, buffer, subset

我正在用 C# 构建一个文件阅读器，将枚举大量数据。我想为我读出的每个元素使用相同的缓冲区，然后传递缓冲区以供客户端进一步处理。`byte[]`如果我可以返回正确大小的 a 而不是原始缓冲区和长度，API 会更干净。

是否可以在不复制内存的情况下在 C# 中执行此操作？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T09:47:33.713

您可以使用`ArraySegment<T>`

[http://msdn.microsoft.com/en-us/library/1hsbd92d.aspx](http://msdn.microsoft.com/en-us/library/1hsbd92d.aspx)

这使您可以指定要传递的段的开始和结束，而无需复制任何数据。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T09:47:25.263

如果您可以更改 API 参数类型，我认为您可以使用[ArraySegment](http://msdn.microsoft.com/en-us/library/1hsbd92d%28v=vs.100%29.aspx)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T10:19:56.690

[`ArraySegment`](http://msdn.microsoft.com/en-us/library/1hsbd92d.aspx)type 是一个通用结构，它允许我们存储有关数组范围的信息。它对于存储数组范围很有用。这`ArraySegment`有助于减少内存复制和堆分配的优化。

来自*MSDN*；

> Array 属性返回整个原始数组，而不是数组的副本；因此，对 Array 属性返回的数组所做的更改是对原始数组进行的。

这是一个[`DEMO`](http://ideone.com/uRRmoi).

# android - android谷歌地图v2和片段

> ID：14254810
> 
> 赞同：0
> 
> 时间：2013-01-10T09:44:08.410
> 
> 标签：android, google-maps

我不明白为什么我的应用程序无法运行。

我看到了这篇文章：[Error inflating class fragment](https://stackoverflow.com/questions/6424853/error-inflating-class-fragment)

但它对我不起作用。

我有错误：类片段错误

这是我的java代码：

```
package ant.junior.xbonnel;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentActivity;

public class ReferentMapActivity extends FragmentActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {          
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_referent_map);
}
} 
```

我的 xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".ReferentMapActivity" >

    <fragment xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/map"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    class="com.google.android.gms.maps.SupportMapFragment"/>

</RelativeLayout> 
```

和我的清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="ant.junior.xbonnel"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <meta-data
    android:name="com.google.android.maps.v2.API_KEY"
    android:value="xxx"/>

     <permission
          android:name="ant.junior.xbonnel.permission.MAPS_RECEIVE"
          android:protectionLevel="signature"/>
     <uses-permission android:name="ant.junior.xbonnel.permission.MAPS_RECEIVE"/>

     <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <uses-permission     android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

    <uses-feature
      android:glEsVersion="0x00020000"
      android:required="true"/>

    <application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
        <activity
            android:name="ant.junior.xbonnel.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name="ant.junior.xbonnel.ReferentIdentificationActivity"
            android:label="@string/title_activity_referent_identification" >
        </activity>
        <activity
            android:name="ant.junior.xbonnel.ReferentMapActivity"
            android:label="@string/title_activity_referent_map" >
        </activity>
    </application>

</manifest> 
```

# php - 带有 IPN 的 Paypal 第三方购物车

> ID：14254812
> 
> 赞同：0
> 
> 时间：2013-01-10T09:44:10.350
> 
> 标签：php, paypal, e-commerce

我有一个关于电子商务网站的项目，在该网站上车店和车主可以注册并创建买卖交易。我已经弄清楚如何处理付款（买方=车主，卖方=车店）。但我不知道如何获取交易信息（从贝宝到我的服务器），所以我可以将它保存到我的数据库中。（例如交易 ID）。

这是我在车主购物车上的代码：

```
<div id="confrm-body">
<label> Summary of Service Requests:</label><br/>
<label>Services in your cart has been categorized by   the shops the offer them. Please pay each service request respectively.</label>
<br/><label>Check out:0/3</label>   <br/>
<?php get_sum_cart($_SESSION['cid']);?>
 </div> 
```

以下是功能：

```
 <?php
function get_sum_cart($cid){
        $q_get_sum_cart="select distinct(tbl_cart.shop_id),shop_name from tbl_services,tbl_carshop,tbl_cart where tbl_cart.svc_id=tbl_services.svc_id
        and tbl_cart.shop_id=tbl_carshop.shop_id and tbl_cart.client_id='". $cid ."'";
        $get_sum_result=mysql_query($q_get_sum_cart);

        while($sum_row=mysql_fetch_array($get_sum_result)){
            $shop_id=$sum_row['shop_id'];
            $shop_name=$sum_row['shop_name'];   
            ?>
            <form action=<?php echo cart_url;?> method="post" > 
            <table class="tbl_summary">

                <tr>
                    <th colspan="6"><label class="h-lbl"><?php echo $shop_name?></label> <a id="<?php echo $shop_id?>" class="client-btn" href="#">Show/Hide</a></th>
                </tr>
                <div id="slide">
                <tbody class="tbl_summary_cont <?php echo $shop_id?>">
                <tr>
                    <th scope="col" class="sub-th" style="width:100px;"><label>Preview</label></th>
                    <th scope="col" class="sub-th" style="width:210px;"><label>Pacakage/Kit Name</label></th>
                    <th scope="col" class="sub-th" style="width:100px;"><label>Initial Charge</label></th>
                    <th scope="col" class="sub-th" style="width:100px;"><label>Tax</label></th>
                    <th scope="col" class="sub-th" style="width:110px;"><label>Payable</label></th>
                    <th scope="col" class="sub-th" style="width:150px;"><label>Date Added</label></th>

                <input type="hidden" name="business" value="<?php echo get_carshop_paypal($shop_id);?>">
                <input type="hidden" name="cmd" value="_cart">
                <input type="hidden" name="upload" value="1">
                <input type="hidden" name="rm" value="2">
                <input type="hidden" name="notify_url" value="https://localhost/test-ipn/">
                <input type="hidden" name="currency_code" value="<?php echo cart_currency;?>">
                <input type="hidden" name="lc" value="<?php echo cart_country;?>">
                <input type="hidden" name="return" value="<?php echo return_url;?>">

                </tr>

                <?php make_sum_tbl($shop_id,$cid);?>

                <tfoot>
                    <td colspan="6"><input type="submit" name="submit" class="submit" value=""> 

                    <div class="lbl_bill">

                        <?php $sub_total = sum_per_tbl($shop_id,$cid);?>
                        <label>Sub-total:<span>Php <?php echo number_format($sub_total,2);?></span></label>
                        <label>Discount:<span><?php echo $discount;?></span></label>
                        <label>Total:<span>Php <?php echo get_discount($sub_total);?></span></label>

                        </div>
                    </td>

                </tfoot>
                </tbody>
            </table>
            </form> 
            <?php   
            $o_t=$o_t + $sub_total;

        }
?>
                <label>Over-all Total of Payables:<span>Php <?php echo number_format($o_t,2);?></span></label>
<?php       

}

function make_sum_tbl($shop_id,$cid){
    $q_get_tbl="select cart_id,tbl_cart.svc_id,kit_name,material_fee,svc_fee,t_amnt,tax,shop_name,tbl_cart.date from tbl_services,tbl_carshop,tbl_cart where tbl_cart.svc_id=tbl_services.svc_id and tbl_cart.shop_id=tbl_carshop.shop_id
    and tbl_cart.client_id='".$cid."' and tbl_carshop.shop_id='".$shop_id."'";
    $get_tbl_result=mysql_query($q_get_tbl);
    $n=1;
    while($tbl_row=mysql_fetch_array($get_tbl_result)){
        ?>
            <tr class="<?php echo $class;?>">
            <td><label><img class="min-prev" src="<?php echo get_service_pic($tbl_row['svc_id']);?>"></label></td>
            <input type="hidden" name="item_number_<?php echo $n;?>" value="<?php echo $tbl_row['svc_id'];?>">
            <td><label><?php echo $tbl_row['kit_name'];?></label></td>
            <input type="hidden" name="item_name_<?php echo $n;?>" value="<?php echo $tbl_row['kit_name'];?>">
            <td><label><?php echo $tbl_row['material_fee']+$tbl_row['svc_fee'];?></label></td>
            <td><label><?php echo $tbl_row['tax'];?>%</label></td>  
            <td><label>Php<?php echo number_format($tbl_row['t_amnt'],2);?></label></td>
            <input type="hidden" name="amount_<?php echo $n;?>" value="<?php echo $tbl_row['t_amnt'];?>">
            <td><label><?php echo $tbl_row['date'];?></label></td>
            <td><label><?php echo $row['total'];?></label></td>
            </tr>
        <?php
        $n++;
    }
}
function sum_per_tbl($shop_id,$cid){
    $sum_q="select sum(t_amnt) as total from tbl_services,tbl_carshop,tbl_cart where tbl_cart.svc_id=tbl_services.svc_id and tbl_cart.shop_id=tbl_carshop.shop_id and tbl_cart.client_id='".$cid."' and tbl_carshop.shop_id='".$shop_id."'";
    $sum_result=mysql_query($sum_q);
    while($sum=mysql_fetch_array($sum_result)){
        $t=$sum['total'];
        }
        return $t;
    }

function get_discount($sub_total){
$disc=0;

$total=number_format($sub_total - ($sub_total * $disc),2);
return $total;
}   
?> 
```

这是配置文件：

```
function get_carshop_paypal($shop_id){
$get_p_add= "select pay_pal from tbl_carshop_paypal where shop_id='".$shop_id."'";
$result=mysql_query($get_p_add);
while($row=mysql_fetch_array($result)){
    $shop_paypal=$row['pay_pal'];

}
return $shop_paypal;
}
define('base_url','http://'.$_SERVER['HTTP_HOST'].'/');
define('cart_currency','PHP');
define('cart_country','PH');
define('cart_url','https://www.sandbox.paypal.com/us/cgi-bin/webscr');
define('return_url',base_url.'/occs/accounts/client/index.php?p=con-transact&make='.$make.'&year='.$year.'&model='.$model); 
```

这是我试图结合的（IPN_handler）：

```
class Paypal_IPN
{

    private $_url;

    public function __construct($mode = 'live')
    {
        if ($mode == 'live')
        $this->_url = 'https://www.paypal.com/cgi-bin/webscr';

        else
        $this->_url = 'https://www.sandbox.paypal.com/cgi-bin/webscr';
    }

    public function run()
    {
        $postFields = 'cmd=_notify-validate';

        foreach($_POST as $key => $value)
        {   
            $postFields .= "&$key=".urlencode($value);

        }

        $ch = curl_init();

            curl_setopt_array($ch, array(
            CURLOPT_URL => $this->_url,
            CURLOPT_RETURNTRANSFER => true,
            CURLOPT_SSL_VERIFYPEER => false,
            CURLOPT_POST => true,
            CURLOPT_POSTFIELDS => $postFields
        ));

        $result = curl_exec($ch);
        curl_close($ch);

        $fh = fopen('result.txt', 'w');
        fwrite($fh, $result . ' -- ' . $postFields);
        fclose($fh);

        echo $postFields;
    }
}?> 
```

你们能告诉我如何做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T17:32:27.613

您需要做的就是自定义该 IPN 库以包含您自己的数据库插入，然后确保在您的 PayPal 帐户配置文件中启用了 IPN。您还可以在按钮代码中使用 notify_url 来覆盖配置文件设置，但我喜欢将我的配置文件设置为默认 IPN 侦听器。

您可能对我[的 PayPal IPN 的 PHP 模板](http://www.angelleye.com/download-angell-eye-paypal-ipn-template/)感兴趣。它非常流行，虽然它可以重新开发为面向对象的类（我打算这样做），但它按原样工作得很好，并为您提供了一个有效的 IPN 解决方案，可将所有 IPN 记录在您的数据库中。

我几乎在所有项目中都使用它。只需安装 IPN 模板（下载中包含说明），然后您可以使用记录 ID 将 IPN 数据与您自己的数据相关联。例如，我总是在我的 PayPal 请求中包含 invoice 参数，以便将我的本地记录 ID 传递给 PayPal。这样，它也将作为发票参数返回 IPN。我只是将其用作与我正在工作的任何项目的现有表的关系，并且所有 IPN 数据都可用于该记录而无需任何进一步的定制。

您可以在大约 10 分钟内启动并运行它。

# android - 尝试打开手电筒时应用程序崩溃

> ID：14254813
> 
> 赞同：0
> 
> 时间：2013-01-10T09:44:11.720
> 
> 标签：android, flashlight

我正在尝试制作一个手电筒应用程序，但是当我按下“手电筒”按钮打开手电筒时，应用程序崩溃了。这是我的代码：

**显现：**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
   package="com.example.flashlight"
   android:versionCode="1"
   android:versionName="1.0" >

    <!-- Allows access to the flashlight -->
        <permission android:name="android.permission.FLASHLIGHT"
            android:permissionGroup="android.permission-group.HARDWARE_CONTROLS"
            android:protectionLevel="normal" />

        <uses-permission android:name="android.permission.CAMERA" />
        <uses-permission android:name="android.permission.FLASHLIGHT"/>
        <uses-feature android:name="android.hardware.camera" />
        <uses-feature android:name="android.hardware.camera.autofocus" />
        <uses-feature android:name="android.hardware.camera.flash" />

    <uses-sdk
       android:minSdkVersion="5"
       android:targetSdkVersion="16" />

    <application
       android:allowBackup="true"
       android:icon="@drawable/ic_launcher"
       android:label="@string/app_name"
       android:theme="@style/AppTheme" >
        <activity
           android:name="com.example.flashlight.MainActivity"
           android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

    </application>

</manifest> 
```

**爪哇：**

```
public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    public void toggleFlashlight() {
        Camera cam;
        cam = Camera.open();     
        Parameters p = cam.getParameters();
        p.setFlashMode(Parameters.FLASH_MODE_TORCH);
        cam.setParameters(p);
        cam.startPreview();
    }

} 
```

我将代码放在图像中，因为我无法让代码块工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:56:08.810

将参数 View v 添加到`public void toggleFlashlight()`

作为

```
public void toggleFlashlight(View v) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:55:43.463

改变：

```
public void toggleFlashlight() {
    Camera cam;
    cam = Camera.open();     
    Parameters p = cam.getParameters();
    p.setFlashMode(Parameters.FLASH_MODE_TORCH);
    cam.setParameters(p);
    cam.startPreview();
} 
```

到

```
public void toggleFlashlight(View v) {
    Camera cam;
    cam = Camera.open();     
    Parameters p = cam.getParameters();
    p.setFlashMode(Parameters.FLASH_MODE_TORCH);
    cam.setParameters(p);
    cam.startPreview();
} 
```

从您的 logcat 中可以看出，您正在将 XML 中的 onClick 方法设置为`toggleFlashlight()`. 由于是 View 的点击调用的方法，它必须匹配其他`onClick()`方法的签名，并且有一个 View 参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:28:27.907

```
private void switchOn()
{
       if(getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_FLASH))
    {
        if(cam == null)
        {
            cam = Camera.open();
            Parameters p = cam.getParameters();
            p.setFlashMode(Parameters.FLASH_MODE_TORCH);
            cam.setParameters(p);
            cam.startPreview();
        }
    }
}

private void switchOff()
{
    if(cam != null)
    {
        cam.stopPreview();
        cam.release();
        cam = null;
    }
} 
```

# jmeter - 如何在 10 秒内为 100 万个请求配置 JMeter 线程组？

> ID：14254814
> 
> 赞同：3
> 
> 时间：2013-01-10T09:44:14.013
> 
> 标签：jmeter, load-testing, stress-testing, gatling

我想在我的生产服务器上运行负载测试，以验证服务器是否可以使用 JMeter 每 10 秒处理 100 万个请求。如何在 10 秒内为 100 万个请求配置 JMeter 线程组？我需要多少个客户来做这个测试？

如果您有进行此类负载测试的经验，请分享您的宝贵经验。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-02T06:44:59.253

您可以使用 Gatling 并扩展到将并行运行测试的多台机器来完成此操作。最后 Gatling 可以将结果汇总到 1 个报告中。

Gatling 文档提供了很多信息：

[http://gatling.io/docs/1.5.6/user_documentation/cookbooks/scaling_out.html](http://gatling.io/docs/1.5.6/user_documentation/cookbooks/scaling_out.html)

但是您可以查看我的博客文章以了解如何做到这一点（我为此编写了一个脚本）

博客 - [http://www.nimrodstech.com/gatling-cluster-load-testing/](http://www.nimrodstech.com/gatling-cluster-load-testing/)

要点 - [https://gist.github.com/Nimrod007/5cfed34eeffedfd7ec76](https://gist.github.com/Nimrod007/5cfed34eeffedfd7ec76)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:40:57.570

**首先，您应该确保在 10 秒内确实需要 100 万个请求（您正在测试什么样的网站？）。**

然后，如果您想使用 JMeter，请确保：

*   您使用最新版本

*   您正确调整内存

*   如果不使用云，您肯定必须使用分布式测试

*   遵循最佳实践

> [http://www.dzone.com/links/r/see_how_to_make_jmeter_run_thousands_of_threads_w.html](http://www.dzone.com/links/r/see_how_to_make_jmeter_run_thousands_of_threads_w.html)（免责声明：我是这篇文章的作者）
> 
> [http://jmeter.apache.org/usermanual/best-practices.html](http://jmeter.apache.org/usermanual/best-practices.html)

*   您可以尝试使用[恒定吞吐量计时器](http://jmeter.apache.org/usermanual/component_reference.html#Constant_Throughput_Timer)来制作一种屏障

*   或者，您可以尝试“延迟线程直到创建”

*   最后尝试使用云解决方案来解决此负载，请参阅此法语博客，了解您在所有领域将面临的各种问题（不仅是加载软件）：

> [http://blog.milamberspace.net/index.php/2012/07/14/rapport-de-tres-gros-test-de-charge-avec-la-solution-blazemeter-1161.html](http://blog.milamberspace.net/index.php/2012/07/14/rapport-de-tres-gros-test-de-charge-avec-la-solution-blazemeter-1161.html) )

*但是我从来没有尝试过这个负载，所以我不知道它是否会起作用*，而且它是一种未开发的领域

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-10T10:02:37.507

看起来你最好看看另一个更适合这种情况的工具，
例如[Tsung](http://tsung.erlang-projects.org/)

*   [聪主页](http://tsung.erlang-projects.org/)
*   [聪@github](https://github.com/processone/tsung)
*   [缩放到 30K：Tsung](http://attentionshard.wordpress.com/2011/04/26/scaling-to-30k-tsung/)

或者至少是[加特林](http://gatling-tool.org/)：

*   [加特林主页](http://gatling-tool.org/)
*   [加特林：向外扩展](https://github.com/excilys/gatling/wiki/Scaling-out)

也许如果您想在任何情况下使用 jmeter，您可以查看[BlazeMeterLoad Testing Cloud](http://blazemeter.com/features)解决方案。

# http - 用 Nginx 模拟处理许多连续的请求

> ID：14254821
> 
> 赞同：1
> 
> 时间：2013-01-10T09:44:45.213
> 
> 标签：http, nginx

我应该如何在我的服务器上配置 nginx（具有 Core i7，一个硬盘驱动器 1T，16GB RAM）以使用 Nginx 模拟处理 40 个连续请求？任何请求都需要 15 到 60 秒。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:34:27.447

标准的 nginx conf 文件有这个，它支持超过 40 个同时请求。

```
events {
    worker_connections  1024;
} 
```

如果您的请求需要很长时间才能由您的上游服务器处理（我假设您使用 Nginx 作为反向代理），那么您需要将其添加到您的`server`或`location`阻止（无论您`proxy_pass`的请求在哪里），这将确保连接占用3 分钟（180 秒，为安全起见）或更短的时间不会被超时。

```
 proxy_read_timeout 180;
  proxy_connect_timeout 180; 
```

# sql - 选择其他列是组最大值的列值

> ID：14254822
> 
> 赞同：32
> 
> 时间：2013-01-10T09:44:52.970
> 
> 标签：sql, group-by, max

我正在尝试在表中选择两列（ID 和状态）。该表应显示每个 ID 具有最大值的状态。我尝试了其他一些示例，但似乎没有任何效果。

原始数据结构：

```
ID  state    value (FLOAT)
1   TX   921,294,481 
1   SC   21,417,296 
1   FL   1,378,132,290 
1   AL   132,556,895 
1   NC   288,176 
1   GA   1,270,986,631 
2   FL   551,374,452 
2   LA   236,645,530 
2   MS   2,524,536,050 
2   AL   4,128,682,333 
2   FL   1,503,991,028 
```

因此，生成的数据结构应如下所示：

```
ID  STATE (Max Value)
1   FL
2   AL 
```

佛罗里达州和阿拉巴马州在其 ID 组中具有最大值。

任何帮助将不胜感激。我确实在[这里](https://stackoverflow.com/questions/3680254/t-sql-selecting-column-based-on-maxother-column)找到了一个 SO 答案，但无法让答案对我有用。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-10T09:53:21.270

对于 SQL Server（和其他具有窗口函数的产品）：

```
SELECT *
FROM
(
   SELECT
     *,
     ROW_NUMBER() OVER (PARTITION BY ID ORDER BY value desc) as rn
   FROM
     UnnamedTable
) t
WHERE
   t.rn = 1 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-10T10:43:15.330

您可以使用子查询来获得此结果：

```
select t1.id, t1.[state] MaxValue
from yourtable t1
inner join
(
  select id, max(value) MaxVal
  from yourtable
  group by id
) t2
  on t1.id = t2.id
  and t1.value = t2.maxval
order by t1.id 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/bce38/6)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-10T09:56:58.687

基于`value`数字假设的解决方案：

```
SELECT
  [ID],
  [State],
  [Value]
FROM
(
  SELECT 
    [ID],
    [State],
    [Value],
    Rank() OVER (PARTITION BY [ID] ORDER BY [Value] DESC) AS [Rank]
  FROM [t1]
) AS [sub]
WHERE [sub].[Rank] = 1
ORDER BY
  [ID] ASC,
  [State] ASC 
```

如果多个`State`具有相同的 s 具有`ID`相同的`Value`，它们都会得到相同的`Rank`。这与 using 不同`Row_Number`，后者返回唯一的行号，但顺序是任意选择的。（另请参阅：[SQL RANK() 与 ROW_NUMBER()](https://stackoverflow.com/questions/7747327/sql-rank-versus-row-number)）

# ajax - Respond_to 来自同一控制器的许多 AJAX 调用

> ID：14254824
> 
> 赞同：0
> 
> 时间：2013-01-10T09:44:53.217
> 
> 标签：ajax, ruby-on-rails-3, ujs, respond-to

我有一个页面，其中包含 2 个或多个要分页的列表（例如 kaminari）

`@list_a`和`@list_b`

这些是在我的`pages#home`控制器中创建的

我想为每个列表（带有`remote: true`）提供一个链接，以通过 javascript 添加新元素。

那会让

```
respond_to do |format|
format.js
..
end 
```

将触发 home.js.erb 调用。

但是在 home.js.erb 中，我不知道如何知道哪个链接使 home.js.erb 着火了。

如何区分 2 个 ajax 链接 - 来自控制器或 js？如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:25:26.867

试试这个，

在视图文件中

```
<%= link_to "link_1", <your path>, :list => 1, remote: true %>
<%= link_to "link_2", <your path>, :list => 2, remote: true %> 
```

在 home.js.erb 中

```
<% if params[:list] == "1" %>
   // link 1 clicked
<% elsif params[:list] == "2" %>
   // link 2 clicked     
<% end %> 
```

# google-app-engine - 如何从扩展的 django 模板执行后端代码？

> ID：14254826
> 
> 赞同：0
> 
> 时间：2013-01-10T09:45:00.870
> 
> 标签：google-app-engine, django-templates

我有一个模板页面，`base.html`有

```
{% if admin %}
  {% include "admin-page.html" %}
{% endif %} 
```

现在我想做的是何时`admin-page.html`包含（如上）我想运行一些`admin-page.html`依赖的后端代码。

通常，当我想调用我的后端时，我会编辑`urls.py`并告诉它在哪里查看，但由于我从未真正点击过 url，`admin-page.html`所以我不确定如何与我的 python 后端交谈。

建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:48:50.847

如何在 admin-page.html 本身中包含所需的数据，方法是在该页面中设置一个单独的机制来获取然后显示数据？

例如，在您的 admin-page.html 中，您有一个 AJAX 组件，在加载到浏览器中时，它会直接从您的后端检索相关信息并显示它。

与请求页面时触发它的区别相同。正如您打算将它包含在该页面的初始显示中一样，它可能会在请求限制内很快返回所需的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:03:39.500

看起来我正在寻找一个自定义模板标签。

[https://docs.djangoproject.com/en/dev/howto/custom-template-tags/](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/)

# c - c中指针的内存分配

> ID：14254829
> 
> 赞同：0
> 
> 时间：2013-01-10T09:45:10.380
> 
> 标签：c, segmentation-fault, malloc

我有一个数组如下：

```
 char* arg[1024]; 
```

现在初始化 arg 我将传递给我正在执行以下操作的函数：

```
 arg = (char**)calloc(1024,sizeof(char*)); 
```

但是，每当我将 arg 传递给函数时。我最终得到一个分段错误。该函数基本上是在做一些非常简单的命令来解析单词：

```
 void parse(char* buffer, char** arg)
 {
   while(*buffer!='\0')
   {
     *arg=buffer;
      arg++;
      while(*buffer!=' ')
      buffer++;

      while(*buffer == ' ')
      {
         *buffer = '\0';
          buffer++;
      }         

   }
 } 
```

我在内存分配中做错了吗？或传递指针？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:49:04.507

```
char* arg[1024]; 
```

提供了一个静态分配的 1024`char`个指针数组。您无需再次动态分配它。所以删除你的`calloc()`行。

除了您的分配问题之外，还有另一个错误。看一眼：

```
while(*buffer != ' ')
    buffer++; 
```

如果 会发生什么`buffer = "test"`？您的`while`-loop 将找不到空间并继续在外部迭代`buffer`。导致各种未定义的行为......

要修复它，您还需要检查字符串终止符：

```
while(*buffer != 0 && *buffer != ' ')
    buffer++; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:49:12.767

`char* arg[1024];` 是*char 指针*数组。

`arg = (char**)calloc(1024,sizeof(char*));`是错的。我们无法将新分配的内存地址分配给`arg`.

如果你想创建*字符串数组*然后这样做：（*我认为你需要这个*）

```
char* arg[1024];
arg[i] = (char*)calloc(1024,sizeof(char)); 
```

哪里`i`是索引。

[你说`segmentation fault.`，但我认为你应该得到一个`arg = (char**)calloc(1024,sizeof(char*));` 声明的编译错误。*错误：分配时类型不兼容*]

我还注意到 `parse()`. （由*Veger*回答）
[您也可以使用`strsep()`函数来解析`buffer`字符串，这里[**我的回答**](https://stackoverflow.com/questions/13779872/problems-with-using-execvp-on-a-constructed-string/13780083#13780083)可能对此有用。]

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T09:51:25.827

arg 已在您的情况下分配。你说你需要它是 1024 个大元素——它是静态分配的

=> 将其排除在外`char *arg[1024]`并替换为`char **arg`

# python - 通过 Python 调用外部程序并将输出传递给 stdout

> ID：14254830
> 
> 赞同：1
> 
> 时间：2013-01-10T09:45:11.683
> 
> 标签：python, bash, python-2.7

如何调用用 bash 脚本编写的外部程序，使该脚本产生的输出在 sys.stdout 中可用，以便我可以通过 python 将输出记录到文件中。

例如。我现在通过以下代码段调用它们

```
if os.name == 'nt':
    path = module_dir_run+'/run.bat'
else:
    path = module_dir_run+'/run.sh'
if os.path.isfile(path):
    if (splitargs.arg):
        try:
            call([path, splitargs.arg])
        except:
            pass
    else:
        try:
            call([path])
        except:
            pass
else:
    print "Not found : " + path 
```

当我存储它的值时，`sys.stdout = file(filename, "w")`它会存储 python 输出的任何内容，而不是脚本输出的内容。

注意：我试图运行的脚本是一个交互式脚本，所以在调用结束后，控制又回到了 python，我怎样才能得到终端中写的所有内容？有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:02:50.443

我总是使用 subprocess.Popen() 从 Python 脚本中运行另一个程序。例子：

```
import subprocess

print "Starting process..."
process = subprocess.Popen(["echo", "a"], shell=False)
process.wait()
print "Done" 
```

您可以将进程的输出重定向到另一个文件，如下所示：

```
import subprocess

print "Starting process..."
with open("./out.log", "w") as f:
    process = subprocess.Popen(["echo", "a"], shell=False, stdout=f)
    process.wait()
print "Done" 
```

也可以通过“stderr”参数重定向stderr。

当您将`sys.stdout`当前脚本重定向以写入您自己的文件时，您也可以这样做以将其重定向到您的子进程中：

```
import subprocess
import sys

sys.stdout = open("./out.log", "w")
print "Starting process..."
sys.stdout.flush()
process = subprocess.Popen(["echo", "a"], shell=False, stdout=sys.stdout)
process.wait()
print "Done" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T10:00:58.420

您可以使用例如将此类调用的输出写入变量：

```
variable = subprocess.Popen(
    ['ls', 'mydir/'],  # note that the command is split on whitespace
    stdout=subprocess.PIPE).communicate()[0] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:59:34.907

正如 Martijn Pieters 所说，您必须`stdout`为您的`call()`通话提供替代方案。

基本上有两种方法： * 要么提供一个已经打开的文件（因为你已经改变了你的`sys.stdout`，这可能会很好） * 使用`stdout=subprocess.PIPE`和阅读和对待`stdout`你自己。（不是通过`subprocess.call()`then ，而是通过返回的对象`subprocess.Popen()`。）

请注意，`sys.stdout`从操作系统的角度来看，更改不会真正改变您进程的标准输出，而是会命令您的程序将所有内容输出到一个不常见的文件描述符上。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T13:23:25.603

这可能有用。特别是因为大多数其他答案不明白您需要将父 shell 的标准输入重定向到子进程的标准输入，因为您调用的程序/脚本是“交互式的”。

[Python 和子进程输入管道](https://stackoverflow.com/questions/4080906/python-and-subprocess-input-piping)

# c# - 删除 WCF SOAP 消息中的附加命名空间定义

> ID：14254831
> 
> 赞同：0
> 
> 时间：2013-01-10T09:45:14.780
> 
> 标签：c#, wcf

我有这个 WSDL（服务不是我的）：[http ://soaptest.webapi-beta.gratka.pl/dom.html?wsdl](http://soaptest.webapi-beta.gratka.pl/dom.html?wsdl)

当我使用 WCF 生成的代理时，请求肥皂消息中的方法标记会获得额外的命名空间定义，例如：

```
<q1:zaloguj xmlns:q1="http://soaptest.webapi-beta.gratka.pl/dom.html"> 
```

当我使用 wsdl.exe 生成的 PHP 或代理时，这不会发生。

我想问一下，为什么WCF会这样做，是否有可能改变这种行为（在BeforeSendRequest中不使用手工消息修改）

下面我粘贴由 PHP 和 WCF 生成的消息：

PHP一：

```
<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://soaptest.webapi-beta.gratka.pl/dom.html" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
    <SOAP-ENV:Body>
        <ns1:zaloguj>
            <login xsi:type="xsd:string">login</login>
            <haslo xsi:type="xsd:string">password</haslo>
            <klucz_webapi xsi:type="xsd:string">key</klucz_webapi>
            <id_kategoria xsi:type="xsd:int">382a</id_kategoria>
            <wersja_webapi xsi:type="xsd:int">2</wersja_webapi>
        </ns1:zaloguj>
    </SOAP-ENV:Body>
</SOAP-ENV:Envelope> 
```

WCF一：

```
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
    <s:Body s:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
        <q1:zaloguj xmlns:q1="http://soaptest.webapi-beta.gratka.pl/dom.html">
            <login xsi:type="xsd:string">login</login>
            <haslo xsi:type="xsd:string">password</haslo>
            <klucz_webapi xsi:type="xsd:string">key</klucz_webapi>
            <id_kategoria xsi:type="xsd:int">382</id_kategoria>
            <wersja_webapi xsi:type="xsd:int">2</wersja_webapi>
        </q1:zaloguj>
    </s:Body>
</s:Envelope> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:56:15.027

你有什么问题吗？就xml而言，两者都是等价的。PHP 代码`xmlns:ns1="http://soaptest.webapi-beta.gratka.pl/dom.html"`在根元素声明命名空间 ()，而 WCF 在需要它的地方声明——我相信这就是 WSDL 的实现方式——似乎没有任何问题。

# java - JApplet 在 Eclipse 中无法正常运行

> ID：14254832
> 
> 赞同：2
> 
> 时间：2013-01-10T09:45:14.907
> 
> 标签：java, eclipse, swing, applet, japplet

我在 Eclipse 中编写了一个非常基本的小程序：

```
public class SwingAppletDemo extends JApplet {

    private static final long serialVersionUID = -1935096480915162747L;
    JLabel jl;

    public void init() {
        try {
            SwingUtilities.invokeAndWait(new Runnable() {
                public void run() {
                    new SwingAppletDemo().makeGUI();
                }
            });
        }
        catch (Exception e) {
            e.printStackTrace();
        }
    }
    private void makeGUI() {

        jl = new JLabel("Press a button!");

        setLayout(new FlowLayout());

        add(jl);
    }   
} 
```

它编译得很好，然后我通过右键单击将它作为小程序运行`SwingAppletDemo.java`，然后我选择了`Run As > Java Applet`

小程序查看器打开，但其中没有显示任何标签。谁能告诉我哪里出错了，我参考了一些教程，但找不到必要的信息。

我也尝试在 Google Chrome 中运行它，但也只显示了一个空的小程序。

提前谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:49:26.557

`SwingAppletDemo`您正在您的方法中创建一个`init`从未显示的新方法。您可以简单地替换：

```
new SwingAppletDemo().makeGUI(); 
```

和

```
makeGUI(); 
```

# javascript - 如何修改 javascript captch 以在 extjs 中使用它

> ID：14254833
> 
> 赞同：0
> 
> 时间：2013-01-10T09:45:15.853
> 
> 标签：javascript, extjs, captcha

我正在用 extjs 做项目。我正在设计带有验证码检查的注册表单。我没有发现任何可以直接在 extjs 中进行验证的东西。所以我正在尝试使用 javascript 创建验证码，并希望将此 javascript 验证码集成到 extjs 中。我有javascript验证码作为-

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"                   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
     <html xmlns="http://www.w3.org/1999/xhtml" >
     <head>
     <title>BotBoot</title>

     <script type="text/javascript">
      var a = Math.ceil(Math.random() * 10);
      var b = Math.ceil(Math.random() * 10);       
      var c = a + b
      function DrawBotBoot()
     {
        document.write("What is "+ a + " + " + b +"? ");
        document.write("<input id='BotBootInput' type='text' maxlength='2'   size='2'/>");
     }    
     function ValidBotBoot(){
     var d = document.getElementById('BotBootInput').value;
     if (d == c) return true;        
     return false;
     }
     </script>

    </head>
    <body>

    Are you human?<br />

    <script type="text/javascript">DrawBotBoot()</script>
    <input id="Button1" type="button" value="Check" onclick="alert(ValidBotBoot());"/>
    </body>
    </html> 
```

为了将此 javascript 集成到 extjs 中，我创建了单独的 Captcha.js 文件为=

```
Ext.define('Balaee.view.sn.user.Captcha',   {
extend: 'Ext.container.Container',
alias: 'widget.captcha',
initComponent: function(config){
    this.a = Math.ceil(Math.random() * 10);
    this.b = Math.ceil(Math.random() * 10);       
    this.c = this.a + this.b;
},

DrawBotBoot: function(){

},

ValidBotBoot: function(){

}
}); 
```

并将其包含在我的注册表单中，我正在使用 - items:[ { xtype:'captcha',
}]

但我没有得到任何输出。那么如何将javascript函数DrawBotBoot和ValidBotBoot改成extjs呢？我还需要做哪些更改才能在我的注册表单中获取此验证码？我对 extjs 很陌生。有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:08:25.243

好的，我为你制作了代码。没有测试它，但它应该可以工作:)

```
Ext.define('Balaee.view.sn.user.Captcha',   {
    extend: 'Ext.container.Container',
    alias: 'widget.captcha',

    renderTo: Ext.getBody(),

    initComponent: function(config){
        var me = this;
        me.inputField = Ext.create('Ext.form.field.Text',{
            name: 'BotBootInput',
            fieldLabel: 'BotBootInput'
        });

        me.checkButton = Ext.create('Ext.Button', {
            text: 'Check',
            handler: function(btn){
                alert(me.ValidBotBoot());
            }
        });

        me.DrawBotBoot();

        Ext.apply(me, {
            items: [me.inputField, me.checkButton]
        });
        me.callParent(arguments);
    },

    DrawBotBoot: function(){
        this.a = Math.ceil(Math.random() * 10);
        this.b = Math.ceil(Math.random() * 10);       
        this.c = this.a + this.b;
        this.inputField.fieldLabel = "What is "+ this.a + " + " + this.b +"?");
    },

    ValidBotBoot: function(){
        var d = this.inputField.getValue();
        if (d === this.c){ 
            return true; 
        } else {
            return false;
        }
    }
});

//instantiate
var captcha = Ext.widget('captcha');
//to renew the captcha use captcha.DrawBotBoot 
```

# java - jaxws-maven-plugin 解析相对于类位置的 WSDL 位置，为什么？

> ID：14254838
> 
> 赞同：6
> 
> 时间：2013-01-10T09:45:39.817
> 
> 标签：java, maven, wsdl, jax-ws, maven-plugin

我正在使用`jaxws-maven-plugin`版本`2.1`。我发现从 jar 资源中为 WSDL 位置生成了非常奇怪的代码：

```
 <configuration>
                    <keep>true</keep>
                    <sourceDestDir>${basedir}/src/main/java</sourceDestDir>
                    <extension>true</extension>
                    <wsdlDirectory>${basedir}/src/main/resources/wsdl</wsdlDirectory>
                    <packageName>my.package.gen</packageName>
                    <wsdlLocation>wsdl/*</wsdlLocation>
                    <wsdlFiles>
                        <wsdlFile>mywsdl.wsdl</wsdlFile>                            
                    </wsdlFiles>
                </configuration> 
```

生成的代码是：

```
static {
    URL url = null;
    try {
        URL baseUrl;
        baseUrl = my.package.gen.My_Service.class.getResource(".");
        url = new URL(baseUrl, "wsdl/mywsdl.wsdl");
    } catch (MalformedURLException e) {
        logger.warning("Failed to create URL for the wsdl Location: 'wsdl/mywsdl.wsdl', retrying as a local file");
        logger.warning(e.getMessage());
    }
    MYSERVICE_WSDL_LOCATION = url; } 
```

所以 wsdl 文件是在生成的类居民的目录（包）中查找的，而不是在主 jar 目录中查找，这是合乎逻辑的。并且找不到 WSDL。

是 中的错误`jaxws-maven-plugin`，还是我的配置中的错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-02T14:18:30.440

您应该使用 jaxws-maven-plugin 版本 2.3 而不是 2.1，结果将如您所料。

2.3 版的输出如下（如果您的 wsdl 文件夹位于 src/main/resources 下）：

```
URL url = <Any>.class.getClassLoader().getResource("wsdl/anywsdl.wsdl"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T09:51:40.377

对于一代

```
url = new URL(baseUrl, "wsdl/mywsdl.wsdl"); 
```

这是预期的行为，据此，

[http://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html#wsdlLocation](http://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html#wsdlLocation)

这取决于你想做什么。

如果你有什么烦恼

> My_Service.class.getResource(".");

您可以通过以下方式摆脱这一点（相对路径）：

```
<plugin>
        <groupId>com.google.code.maven-replacer-plugin</groupId>
        <artifactId>replacer</artifactId>
        <version>1.5.0</version>
        <executions>
          <execution>
            <phase>process-sources</phase>
            <goals>
              <goal>replace</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <file>target/generated-sources/wsimport/lu/hitec/webservices/pssu/${wsdl.app}/${interface.name}_Service.java</file>
          <replacements>
            <replacement>
              <token>_Service\.class\.getResource\("\."\)</token>
              <value>_Service\.class\.getResource\(""\)</value>
            </replacement>
          </replacements>
        </configuration>
      </plugin> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-26T02:20:01.783

就我而言，生成的文件缺少该`class.getClassLoader()`部分。通过在驻留在目录中的目录名称之前添加正斜杠 (/) 来修复它`resources`，如下所示：`<wsdlLocation>/wsdl/*</wsdlLocation>`

完整的配置片段：

```
<configuration>
  <wsdlDirectory>src/main/resources/wsdl</wsdlDirectory>
  <wsdlLocation>/wsdl/*</wsdlLocation>
  <wsdlFiles>
    <wsdlFile>myFile.wsdl</wsdlFile>
  </wsdlFiles>
  <keep>true</keep>
</configuration> 
```

# php - Zend Framework 2 - ZFCUser - 翻译登录表单

> ID：14254842
> 
> 赞同：1
> 
> 时间：2013-01-10T09:45:41.890
> 
> 标签：php, authentication, zend-framework2, zfcuser

我正在使用`ZFCUser`并且需要开发一个德国项目。

不幸的是，登录表单是英文的，我找不到将表单字段特别是错误消息翻译成英文的方法。

模块是否有一种全局方式来覆盖消息或切换语言？

谢谢！

**编辑：**

这是我在引导程序中调用的翻译器：

```
$translator = new Translator();
    $translator->addTranslationFile(
        'phpArray',
        'vendor/zendframework/zendframework/resources/languages/de/Zend_Validate.php',
        'default',
        'de_DE'
    );
    AbstractValidator::setDefaultTranslator($translator); 
```

**编辑二：**

我的自定义翻译文件：

```
<?php

return array(

    // ZFCUser
    "Authentication failed. Please try again." => "test"

); 
```

我的工厂：

```
<?php

class CustomTranslatorFactory implements FactoryInterface
{
    public function createService(ServiceLocatorInterface $sl)
    {
        $translator = new Translator();
        $translator->addTranslationFile(
            'phpArray',
            'vendor/.../TranslationTable.php',
            'default',
            'de_DE'
        );
        return $translator;
    }
} 
```

Module.php 来自我的用户模块：

```
public function getServiceConfig()
{
    return array(
        'factories' => array(
            'translator' => 'Path\To\Translator\CustomTranslatorFactory',
        ),
    );
} 
```

**编辑三：**

我的翻译器看起来像这样。即使使用 PHP 文件而不是数组，也不会发生任何事情。没有错误，没有翻译。任何想法我做错了什么？

```
 $custom_translations = array(
        "Authentication failed. Please try again." => "test",

    );

    $translator = new Translator();
    $translator->addTranslationFile(
        'phpArray',
        'vendor/zendframework/zendframework/resources/languages/de/Zend_Validate.php',
        'default',
        'de_DE'
    );
    $translator->addTranslationFile(
        'phpArray',
        $custom_translations
    );
    return $translator; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:41:18.393

我正在为此创建一个答案，因为它对于评论部分来说变得太复杂了。

验证器库自己翻译消息。当您为它分配了翻译器时，您的验证消息就可以了。

但是，表单标签翻译属于另一个库。因此，他们还需要分配给他们的翻译。如评论中所述，您可以手动（通过调用`$viewHelper->setTranslator($translator)`）执行此操作，也可以让 ViewHelperManager 为您执行此操作。

您可以轻松地重构代码以支持第二种情况。

1.  为您的翻译器创建一个工厂类。
2.  将该工厂注册到 SM。使用“翻译”键。
3.  如果您需要它，`$translation`将来通过 SM 检索您的 var。

示例（`use`跳过）：

```
/** One of your modules, should be a base module that's always loaded */
class Module
{

    // ...

    public function getServiceConfig()
    {
        return array(
            'factories' => array(
                'translator' => 'Your\Translator\Factory', // could also be a closure (anonymous function)
            )
        );
    }
} 
```

-

```
class YourTranslatorFactory implements FactoryInterface
{
    public function createService(ServiceLocatorInterface $sl)
    {
        $translator = new Translator();
        $translator->addTranslationFile(
            'phpArray',
            'vendor/zendframework/zendframework/resources/languages/de/Zend_Validate.php',
            'default',
            'de_DE'
        );
        return $translator;
    }
} 
```

如果您需要访问它，只需像您习惯的那样从 SM 中检索它（`$translator = $sm->get('translator');`）。

注意：验证器实现`TranslatorAwareInterface`. 这意味着，如果您已将`translator`密钥注册到 SM，它们也应该自动注入验证器。因此，您甚至可以跳过静态方法调用。

另请注意：这只是一个示例，说明如何在不进行太多更改的情况下做到这一点。你也可以通过配置来达到这个目标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-12T15:39:52.203

仅供您参考——从昨天开始就有一个模块化的 de_DE 翻译可用（pl_PL 和 ja_JP 也可用）。它仅涵盖`ZfcUser`消息，因此并非所有验证器，而是表单标签等。[https://github.com/websafe/zf-mod-zfc-user-i18n-de-de](https://github.com/websafe/zf-mod-zfc-user-i18n-de-de)易于安装，也可通过 Packagist 获得。

# ruby-on-rails - 将 rails 2.3.2 更新到 2.3.15 后会破坏 scandic 字符集

> ID：14254853
> 
> 赞同：2
> 
> 时间：2013-01-10T09:46:29.317
> 
> 标签：ruby-on-rails, character-encoding, actionviewhelper

我们对 scandic 字符集有问题。

我们有 *.yml 格式的本地化文件和包含一些本地化的数据库。

问题是当我们使用 Actionview 助手时，它会通过从字符串中删除字符来破坏扫描字符集。

如果我们使用像 span 或 p 这样的普通 html 标签，那么它就可以正常工作。

任何想法为什么问题只与助手有关？

# android - List数组绑定ListView并更新数据和ListView棒

> ID：14254861
> 
> 赞同：0
> 
> 时间：2013-01-10T09:46:57.477
> 
> 标签：android, listview

我的代码：

```
adapter = new SimpleAdapter(this.Context, Arraylist, R.layout.activity_lxxx_show, 
new String[]
{
"_id", "line_id", "sort_order", "station_name", "status", 
"Top_colour", "Bottom_colour", "Left_colour", "Right_colour"
}, 
new int[]
{
R.id._id, R.id.tv_line_id, R.id.tv_sort_order, R.id.tv_station_name, R.id.tv_status, 
R.id.imageView_Top, R.id.imageView_Bottom, R.id.imageView_Left, R.id.imageView_Right
});
lv = (ListView) this.Context.findViewById(R.id.listView_lxxx);
lv.setAdapter(adapter); //display data in ListView

adapter.notifyDataSetChanged(); 
```

我需要在一段时间内重复调用此代码。我想将不同的 Arraylist 数据绑定到适配器。目前可以更新数据。

但 ListView 坚持自动。坚持的是，当我将 LIstView 滑到底部时，ListView 再次绑定数据并显示在 ListView 的顶部。

如何解决问题？我如何控制 ListView？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T05:27:14.623

不要重复创建列表视图和适配器。如果您重复创建列表视图和适配器，显示列表将是一个新列表，它将显示列表视图的顶部而不是当前位置。因此，创建列表和适配器一次，当您想将新项目绑定到列表时，只需更新适配器的数据并调用如下。

```
 adapter.notifyDataSetChanged(); 
```

请检查我在下面发布的示例。

```
public class GrowingListViewActivity extends ListActivity implements OnScrollListener  {
Aleph0 adapter = new Aleph0();

protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setListAdapter(adapter);
    getListView().setOnScrollListener(this);
}

public void onScroll(AbsListView view, int firstVisible, int visibleCount,
        int totalCount) {

    boolean loadMore = /* maybe add a padding */
    firstVisible + visibleCount >= totalCount;

    if (loadMore) {
        adapter.count += visibleCount; // or any other amount
        adapter.notifyDataSetChanged();
    }
}

public void onScrollStateChanged(AbsListView v, int s) {
}

class Aleph0 extends BaseAdapter {

    int count = 40; /* starting amount */

    public int getCount() {
        return count;
    }

    public Object getItem(int pos) {
        return pos;
    }

    public long getItemId(int pos) {
        return pos;
    }

    public View getView(int pos, View v, ViewGroup p) {
        TextView view = new TextView(GrowingListViewActivity.this);
        view.setText("entry View : " + pos);
        return view;
    }
}
} 
```

我想这会对你有所帮助。

# mysql - 如何从 MySQL 表中删除除具有最新日期的行之外的所有重复行？

> ID：14254868
> 
> 赞同：1
> 
> 时间：2013-01-10T09:47:04.983
> 
> 标签：mysql, sql, duplicate-removal

> **可能重复：**
> [使用连接从表中删除重复行](https://stackoverflow.com/questions/13562587/remove-duplicate-rows-from-table-with-join)

我的表看起来像这样：
`a`, `b`, `c`, `d`,`date`
如何删除所有具有相同`a`,`b`的行`c`和`d`除了最新的行`date`吗？有一些行，有相同的和`a`不同的。`b``c``d`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:53:22.993

试试这个：

```
DELETE FROM tableName 
WHERE (a, b, c, d, dte) NOT IN (SELECT a, b, c, d, dte 
                                FROM (SELECT a, b, c, d, MAX(dte) dte 
                                     FROM tableName GROUP BY a, b, c, d
                                ) AS A ); 
```

检查这个[**SQL FIDDLE 演示**](http://sqlfiddle.com/#!2/33d07/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T10:09:37.063

您可以像这样对同一张表使用左连接

```
DELETE table1
  FROM table1
  LEFT JOIN 
  ( SELECT MAX(`date`) as dates,a,b,c,d FROM table1
    GROUP BY a,b,c,d
  ) A
    ON table1.date = A.dates
   AND table1.a = A.a
   AND table1.b = A.b
   AND table1.c = A.c
   AND table1.d = A.d
 WHERE A.dates IS NULL; 
```

## [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/9cd39/1)

有关更多信息，请参阅[`DELETE`MySQL 的语法](http://dev.mysql.com/doc/refman/5.0/en/delete.html)

# java - Play Framework 1.2.5：发生 OutOfMemoryError：Play 框架中的 Java 堆空间

> ID：14254875
> 
> 赞同：4
> 
> 时间：2013-01-10T09:47:25.983
> 
> 标签：java, out-of-memory, playframework-1.x

我`OutOfMemoryError`在用 400k 记录查询 MongoDb 时得到了。我有一个包含大约 40 万条记录的用户集合。当我尝试检索所有用户（以将其转储到弹性搜索中）时， `OutOfMemoryError`出现错误。

我已经浏览了[这个](https://stackoverflow.com/questions/7331798/outofmemoryerror-occured-java-heap-space-in-play-framework)链接并在 application.config 中添加了*jvm.memory=-Xms64m -Xmx1024m*，但仍然是同样的异常。

这是我的堆栈跟踪 -

```
OutOfMemoryError occured : Java heap space

play.exceptions.JavaExecutionException: Java heap space
        at play.mvc.ActionInvoker.invoke(ActionInvoker.java:237)
        at Invocation.HTTP Request(Play!)
Caused by: java.lang.OutOfMemoryError: Java heap space
        at java.util.HashMap.<init>(HashMap.java:209)
        at java.util.LinkedHashMap.<init>(LinkedHashMap.java:181)
        at org.bson.BasicBSONObject.<init>(BasicBSONObject.java:45)
        at com.mongodb.BasicDBObject.<init>(BasicDBObject.java:42)
        at com.mongodb.DefaultDBCallback._create(DefaultDBCallback.java:124)
        at com.mongodb.DefaultDBCallback.create(DefaultDBCallback.java:87)
        at org.bson.BasicBSONCallback.objectStart(BasicBSONCallback.java:68)
        at com.mongodb.DefaultDBCallback.objectStart(DefaultDBCallback.java:63)
        at org.bson.BasicBSONCallback.objectStart(BasicBSONCallback.java:63)
        at org.bson.BasicBSONDecoder.decodeElement(BasicBSONDecoder.java:206)
        at org.bson.BasicBSONDecoder.decodeElement(BasicBSONDecoder.java:197)
        at org.bson.BasicBSONDecoder.decodeElement(BasicBSONDecoder.java:207)
        at org.bson.BasicBSONDecoder._decode(BasicBSONDecoder.java:80)
        at org.bson.BasicBSONDecoder.decode(BasicBSONDecoder.java:58)
        at com.mongodb.DefaultDBDecoder.decode(DefaultDBDecoder.java:56)
        at com.mongodb.Response.<init>(Response.java:66)
        at com.mongodb.DBPort.go(DBPort.java:128)
        at com.mongodb.DBPort.call(DBPort.java:79)
        at com.mongodb.DBTCPConnector.call(DBTCPConnector.java:218)
        at com.mongodb.DBTCPConnector.call(DBTCPConnector.java:189)
        at com.mongodb.DBApiLayer$Result._advance(DBApiLayer.java:452)
        at com.mongodb.DBApiLayer$Result.hasNext(DBApiLayer.java:418)
        at com.mongodb.DBCursor._hasNext(DBCursor.java:503)
        at com.mongodb.DBCursor.hasNext(DBCursor.java:523)
        at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1520)
        at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1332)
        at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1318)
        at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:504)
        at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:499)
        at com.salambc.service.ProfileService.getUsers(ProfileService.java:895)
        at controllers.Admin.index(Admin.java:56) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-22T08:56:18.223

请检查您的应用程序，因为内存中有很多大对象，所以内存不足。我遇到了同样的问题......因为Play中的所有变量/函数！是**静态**的，所以其中一些不能被 GC 释放。

请检查您使用 TemplateLoader、RenderArgs、Jobs 的方式...并尝试减少播放池和作业池（如果您已设置），最好是 4GB RAM 的 14 个播放池（在我的情况下）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-11T06:32:05.520

由于将太多对象加载到内存中，因此内存不足。

在 java 内存中加载这么多对象不是一个好习惯。如果很多用户尝试执行此用例，您将无法扩展。

为您的 java 进程提供更多内存可以解决您当前的错误，但从长远来看不是解决方案。

尝试考虑另一种设计，您可以在持久存储中进行一些计算或通过小数据块（100 或 1000）加载数据，因为加载数据块会导致可预测的内存消耗

# c# - 如何通过单击 ASP.NET gridview 中一行中的按钮来获取行数据

> ID：14254880
> 
> 赞同：25
> 
> 时间：2013-01-10T09:47:45.450
> 
> 标签：c#, asp.net, button, gridview

我有`GridView`一个 ASP.NET Web 应用程序，其中我在每行中添加了两个按钮：

```
 <ItemTemplate>
    <asp:Button ID="btnEdit" Text="Edit" runat="server" />
    <asp:Button ID="btnDelete" Text="Delete" runat="server"/>
 </ItemTemplate> 
```

现在如何通过单击一行中的编辑按钮从 gridview 获取行数据？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-01-10T09:50:30.897

您还可以像这样使用按钮单击事件：

```
<asp:TemplateField>
    <ItemTemplate>
        <asp:Button ID="Button1" runat="server" Text="Button" 
                    OnClick="MyButtonClick" />
    </ItemTemplate>
</asp:TemplateField> 
```

```
protected void MyButtonClick(object sender, System.EventArgs e)
{
    //Get the button that raised the event
    Button btn = (Button)sender;

    //Get the row that contains this button
    GridViewRow gvr = (GridViewRow)btn.NamingContainer;
} 
```

### 或者

您可以这样做来获取数据：

```
 void CustomersGridView_RowCommand(Object sender, GridViewCommandEventArgs e)
 {

    // If multiple ButtonField column fields are used, use the
    // CommandName property to determine which button was clicked.
    if(e.CommandName=="Select")
    {
      // Convert the row index stored in the CommandArgument
      // property to an Integer.
      int index = Convert.ToInt32(e.CommandArgument);    

      // Get the last name of the selected author from the appropriate
      // cell in the GridView control.
      GridViewRow selectedRow = CustomersGridView.Rows[index];
    }
} 
```

和 gridview 中的 Button 应该有这样的命令并处理 rowcommand 事件：

```
<asp:gridview id="CustomersGridView" 
        datasourceid="CustomersSqlDataSource" 
        autogeneratecolumns="false"
        onrowcommand="CustomersGridView_RowCommand"
        runat="server">

        <columns>
          <asp:buttonfield buttontype="Button" 
            commandname="Select"
            headertext="Select Customer" 
            text="Select"/>
        </columns>
  </asp:gridview> 
```

[**查看 MSDN 上的完整示例**](http://msdn.microsoft.com/en-us/library/bb907626.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T09:54:49.867

将`commandName`in .aspx 页面

```
 <asp:Button  ID="btnDelete" Text="Delete" runat="server" CssClass="CoolButtons" CommandName="DeleteData"/> 
```

订阅`rowCommand`网格的事件，你可以这样尝试，

```
protected void grdBillingdata_RowCommand(object sender, GridViewCommandEventArgs e)
{
        if (e.CommandName == "DeleteData")
        {
            GridViewRow row = (GridViewRow)(((Button)e.CommandSource).NamingContainer);
            HiddenField hdnDataId = (HiddenField)row.FindControl("hdnDataId");
         }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-10-07T11:38:54.097

```
<ItemTemplate>
     <asp:Button ID="Button1" runat="server" Text="Button" 
            OnClick="MyButtonClick" />
</ItemTemplate> 
```

和你的方法

```
 protected void MyButtonClick(object sender, System.EventArgs e)
{
     //Get the button that raised the event
Button btn = (Button)sender;

    //Get the row that contains this button
GridViewRow gvr = (GridViewRow)btn.NamingContainer;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T11:03:27.773

您是否有任何特定原因希望您的按钮出现在项目模板中。您也可以通过以下方式进行操作，通过为您提供网格行编辑事件的全部功能。您还可以轻松连接取消和删除功能。

**标记**

```
<asp:TemplateField HeaderText="Edit">
            <ItemTemplate>
   <asp:ImageButton ID="EditImageButton" runat="server" CommandName="Edit"
    ImageUrl="~/images/Edit.png" Style="height: 16px" ToolTip="Edit" 
    CausesValidation="False"  />

      </ItemTemplate>

         <EditItemTemplate>

                    <asp:LinkButton ID="btnUpdate" runat="server" CommandName="Update" 
                        Text="Update"  Visible="true" ImageUrl="~/images/saveHS.png" 
                        />
                   <asp:LinkButton ID="btnCancel" runat="server" CommandName="Cancel"   
                        ImageUrl="~/images/Edit_UndoHS.png"  />

                 <asp:LinkButton ID="btnDelete" runat="server" CommandName="Delete"   
                        ImageUrl="~/images/delete.png"  />

             </EditItemTemplate>

        <ControlStyle BackColor="Transparent" BorderStyle="None" />
               <FooterStyle HorizontalAlign="Center" />
           <ItemStyle HorizontalAlign="Center" />
       </asp:TemplateField> 
```

**背后的代码**

```
 protected void GridView1_RowEditing(object sender, GridViewEditEventArgs e)
{

    GridView1.EditIndex = e.NewEditIndex;
    GridView1.DataBind();

TextBox txtledName =   (TextBox) GridView1.Rows[e.NewEditIndex].FindControl("txtAccountName");

 //then do something with the retrieved textbox's text.

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-12-12T06:59:47.573

```
<asp:TemplateField>
   <ItemTemplate>
  <asp:LinkButton runat="server" ID="LnKB" Text='edit' OnClick="LnKB_Click"   > 
 </asp:LinkButton>
 </ItemTemplate>
</asp:TemplateField>

  protected void LnKB_Click(object sender, System.EventArgs e)
  {
        LinkButton lb = sender as LinkButton;

        GridViewRow clickedRow = ((LinkButton)sender).NamingContainer as GridViewRow;
        int x = clickedRow.RowIndex;
        int id = Convert.ToInt32(yourgridviewname.Rows[x].Cells[0].Text);
        lbl.Text = yourgridviewname.Rows[x].Cells[2].Text; 
   } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-10T10:12:51.583

```
 <asp:Button  ID="btnEdit" Text="Edit" runat="server"  OnClick="btnEdit_Click" CssClass="CoolButtons"/>

protected void btnEdit_Click(object sender, EventArgs e)
{
       Button btnEdit = (Button)sender;
       GridViewRow Grow = (GridViewRow)btnEdit.NamingContainer;
      TextBox txtledName = (TextBox)Grow.FindControl("txtAccountName");
      HyperLink HplnkDr = (HyperLink)Grow.FindControl("HplnkDr");
      TextBox txtnarration = (TextBox)Grow.FindControl("txtnarration");
     //Get the gridview Row Details
} 
```

与删除按钮相同

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-10-12T10:02:42.277

```
 protected void btnS10_click(object sender, EventArgs e)
    {
        foreach (GridViewRow row in Grd.Rows)
        {
            CheckBox chk_Single = (CheckBox)row.FindControl("ChkSendOne");
            if (row.RowType == DataControlRowType.DataRow)
            {
                string id = (row.Cells[0].FindControl("lblSNo") as Label).Text;
                if (Convert.ToInt32(id) <= 10)
                {

                    chk_Single.Checked = true;
                    if (chk_Single.Checked == true)
                    {
                        lblSelectedRecord.InnerText = (Convert.ToInt32(lblSelectedRecord.InnerText) + 1).ToString();
                    }
                }
            }
        }
    } 
```

# jquery-ui - Jqueryui 对话框与其他脚本创建冲突

> ID：14254881
> 
> 赞同：0
> 
> 时间：2013-01-10T09:47:48.807
> 
> 标签：jquery-ui, dialog

我有这样一个问题，我使用了一些脚本，如 jquery carousel 滑块、jquery 下拉菜单，但是当我尝试添加 jqueryui 对话框时，所有其他脚本都不起作用。这是我的代码：

在我添加 JqueryUi 对话框之前：

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type='text/javascript' src='js/jquery.hoverIntent.minified.js'></script>
<script type='text/javascript' src='js/jquery.dcmegamenu.1.3.3.js'></script>
<script type='text/javascript' src='js/jquery.liquidcarousel.pack.js'></script>
<script>
    $(document).ready(function(){  
        //To switch directions up/down and left/right just place a "-" in front of the top/left attribute  

        //Caption Sliding (Partially Hidden to Visible)  
        $('.boxgrid.caption').hover(function(){  
            $(".cover", this).stop().animate({top:'40px'},{queue:false,duration:160});  
        }, function() {  
            $(".cover", this).stop().animate({top:'90px'},{queue:false,duration:160});  
        });  
            $('.boxgrid2.caption').hover(function(){  
            $(".cover", this).stop().animate({top:'190px'},{queue:false,duration:160});  
        }, function() {  
            $(".cover", this).stop().animate({top:'240px'},{queue:false,duration:160});  
        });  
            $('.boxgrid3.caption').hover(function(){  
            $(".cover", this).stop().animate({top:'40px'},{queue:false,duration:160});  
        }, function() {  
            $(".cover", this).stop().animate({top:'90px'},{queue:false,duration:160});  
        }); 

    });  
</script>
<script>
jQuery(document).ready(function($) {
    jQuery('#mega-menu-1').dcMegaMenu();

});
</script>

<script> 
    function show() { 
        if(document.getElementById('benefits').style.display=='none') { 
            document.getElementById('benefits').style.display='block'; 
        } 
        return false;
    } 
    function hide() { 
        if(document.getElementById('benefits').style.display=='block') { 
            document.getElementById('benefits').style.display='none'; 
        } 
        return false;
    }   
</script> 
<script type="text/javascript">
    <!--
        $(document).ready(function() {
            $('#liquid1').liquidcarousel({height:129, duration:100, hidearrows:false});
        });
    -->
</script> 
```

带有 JqueryUi 对话框的代码：

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type='text/javascript' src='js/jquery.hoverIntent.minified.js'></script>
<script type='text/javascript' src='js/jquery.dcmegamenu.1.3.3.js'></script>
<script type='text/javascript' src='js/jquery.liquidcarousel.pack.js'></script>

<!--Dialog start-->
<script src="http://code.jquery.com/jquery-1.8.3.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>

<script>
// increase the default animation speed to exaggerate the effect
$.fx.speeds._default = 1000;
$(function() {
$( "#dialog" ).dialog({
autoOpen: false,
show: "blind",
hide: "fade"

});
$( ".log-in" ).click(function() {
$( "#dialog" ).dialog( "open" );
return false;
});
});
</script>
<!--Dialog end-->

<script>
    $(document).ready(function(){  
        //To switch directions up/down and left/right just place a "-" in front of the top/left attribute  

        //Caption Sliding (Partially Hidden to Visible)  
        $('.boxgrid.caption').hover(function(){  
            $(".cover", this).stop().animate({top:'40px'},{queue:false,duration:160});  
        }, function() {  
            $(".cover", this).stop().animate({top:'90px'},{queue:false,duration:160});  
        });  
            $('.boxgrid2.caption').hover(function(){  
            $(".cover", this).stop().animate({top:'190px'},{queue:false,duration:160});  
        }, function() {  
            $(".cover", this).stop().animate({top:'240px'},{queue:false,duration:160});  
        });  
            $('.boxgrid3.caption').hover(function(){  
            $(".cover", this).stop().animate({top:'40px'},{queue:false,duration:160});  
        }, function() {  
            $(".cover", this).stop().animate({top:'90px'},{queue:false,duration:160});  
        }); 

    });  
</script>

<script>
jQuery(document).ready(function($) {
    jQuery('#mega-menu-1').dcMegaMenu();

});
</script>

<script> 
    function show() { 
        if(document.getElementById('benefits').style.display=='none') { 
            document.getElementById('benefits').style.display='block'; 
        } 
        return false;
    } 
    function hide() { 
        if(document.getElementById('benefits').style.display=='block') { 
            document.getElementById('benefits').style.display='none'; 
        } 
        return false;
    }   
</script> 
<script type="text/javascript">
    <!--
        $(document).ready(function() {
            $('#liquid1').liquidcarousel({height:129, duration:100, hidearrows:false});
        });
    -->
</script> 
```

对我来说，另一件非常奇怪的事情是，当我在所有脚本之后添加 JqueryUi 对话框脚本时（到此代码的末尾）它根本不起作用。

任何想法为什么？

![截屏](../Images/8d726bacfd2f74e819268fc233ddc4f6.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T15:50:29.477

我使用了 noConflict();

添加到脚本`$jQ = jQuery.noConflict();`然后更改所有`$ -> $jQ`

```
<script>
$jQ = jQuery.noConflict();
$jQ .fx.speeds._default = 1000;
$jQ (function() {
$jQ ( "#dialog" ).dialog({
autoOpen: false,
show: "blind",
hide: "fade"

});
$jQ ( ".log-in" ).click(function() {
$jQ ( "#dialog" ).dialog( "open" );
return false;
});
});
</script> 
```

# hibernate - 休眠长会话

> ID：14254883
> 
> 赞同：0
> 
> 时间：2013-01-10T09:47:52.800
> 
> 标签：hibernate

在我的应用程序中，我将只使用一个非常长的 Hibernate 会话。为什么我要使用它？将主要插入数据库 - SQLite，1 秒内大约 10 次，并且每隔几个小时读取一次。所以我的问题来了，我是否需要不时关心关闭和开始一个新会话（为了兑现目的），或者休眠会自己管理它？或有关休眠中长时间会话的任何其他提示或链接。谢谢！

# c - 字符串文字的编译输出中的 .rodata 和 .rodata.str1.4 部分有什么区别？

> ID：14254889
> 
> 赞同：8
> 
> 时间：2013-01-10T09:48:01.490
> 
> 标签：c, compilation

例如，当我有：

```
const char mesg [] = "Hello World"; 
```

它直接放在`.rodata`但是当我有时：

```
const char* mesg = "Hello World"; 
```

它直接放入`.rodata.str1.4`

它们之间有什么区别，为什么我们在使用指针时使用 .rodata.str1.4 ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T10:24:46.057

我做了几个实验，看起来编译器将字符串放在目标文件的特殊部分中。有趣的事情发生在编译二进制文件时，字符串按预期以 .rodata 结尾。进一步的实验表明，如果你在不同的对象中有相同的字符串，它们会在生成的二进制文件中统一为相同的字符串。

所以我怀疑这样做的原因是编译器想给链接器一些关于只读数据的信息，而不是“它是只读的”，以便最终链接可以就如何处理它做出更明智的决定，包括重复数据删除。

```
$ cat foo.c
const char *
fun(int i)
{
        const char *foo = "foofoo foo foo foo";
    const char *bar = "barbar bar bar bar";
    return i ? foo : bar;
}
$ cat bar.c
#include <stdio.h>
extern const char *fun(int);

int
main(int argc, char **argv)
{
    const char *foo = "foofoo foo foo foo";

    printf("%s%s\n", foo, fun(1));
    return 0;
}
$ cc -c -O2 foo.c
$ cc -c -O2 bar.c
$ objdump -s foo.o
[...]
Contents of section .rodata.str1.1:
 0000 62617262 61722062 61722062 61722062  barbar bar bar b
 0010 61720066 6f6f666f 6f20666f 6f20666f  ar.foofoo foo fo
 0020 6f20666f 6f00                        o foo.
[...]
$ objdump -s bar.o
[...]
Contents of section .rodata.str1.1:
 0000 666f6f66 6f6f2066 6f6f2066 6f6f2066  foofoo foo foo f
 0010 6f6f0025 7325730a 00                 oo.%s%s..
[...]
$ cc -o foobar foo.o bar.o
$ objdump -s foobar
[...]
Contents of section .rodata:
 400608 01000200 00000000 00000000 00000000  ................
 400618 62617262 61722062 61722062 61722062  barbar bar bar b
 400628 61720066 6f6f666f 6f20666f 6f20666f  ar.foofoo foo fo
 400638 6f20666f 6f002573 25730a00           o foo.%s%s..
[...] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T10:13:03.250

根据类型、声明等，不同的编译器可能对只读数据使用不同的部分。

按照惯例，.rodata 可用于任何需要由加载程序放入内存的只读部分的内容。
所以将 const char * 放在那里就可以了。

但通常，编译器也会生成以 .rodata 为前缀的部分，以对只读数据进行分类。
它可能会被加载程序忽略，并完全视为 .rodata 部分（我认为它应该最常见），但如果需要，它可能允许在内存中进行一些特定的安排。

这就是链接描述文件经常指定 .rodata 和 .rodata* 的原因

# sql - 将 IN 与 LIKE 一起使用

> ID：14254894
> 
> 赞同：0
> 
> 时间：2013-01-10T09:48:16.920
> 
> 标签：sql, sql-server, sql-server-2008

好的，我有一个问题的答案可能很简单，但我不知道该怎么做：

**问题：**
我如何将 IN 与 LIKE 一起使用？

**为什么不重复：**
嗯，我知道我是否有多个字符串，我可以使用**OR**来检查。但我正在尝试做的事情并非如此。

**问题解释：**
我有一个带有参数@path的SP，现在我想发送多个路径，用分隔符分隔，（以避免多次调用sp）。我使用自定义函数拆分字符串，该函数返回具有拆分值的表。
现在我将如何使用该拆分值表中的值与 LIKE 运算符一起使用。

**到目前为止我做了什么：**

```
declare
    @path varchar(max) = 'CompanyRules/Billing/IntegrationServices|CompanyRules/Reports/IntegrationServices',
    @default_code varchar(max) = '1'

    declare @tempTable TABLE(path varchar(max))

    INSERT INTO @tempTable (path)
    SELECT split from fn_splitby(@path, '|')

    select prg.path, prg.default_code, prmd.optional_property_1, prmd.optional_property_2, prmd.optional_property_3, prmd.optional_property_4, prmd.optional_property_5, prmd.optional_property_6
    from pdm_rule_group prg, pdi_rule_master prmd
    where prg.path = prmd.path
    AND prg.path in (select path from @tempTable)
    AND prg.default_code != @default_code 
```

这不会产生任何结果。

**可能的解决方案：**
我认为我必须遍历@tempTable，然后创建单独的字符串以与 LIKE 一起使用。我确定这是一个不好的解决方案，并且可能有其他解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T09:54:11.617

替换此语句

```
AND prg.path in (select path from @tempTable) 
```

和

```
AND EXISTS (select 1 from @tempTable where   prg.path  like "%"+path+"%" ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:58:13.477

只需加入表：

```
select prg.path, prg.default_code, prmd.optional_property_1, prmd.optional_property_2, prmd.optional_property_3, prmd.optional_property_4, prmd.optional_property_5, prmd.optional_property_6
from
   pdm_rule_group prg
     inner join
   pdi_rule_master prmd
     on prg.path = prmd.path
     inner join
   @tempTable tt
     on
        prg.path like tt.path
where 
    prg.default_code != @default_code 
```

# binding - 为什么更改值时不会更新嵌套范围内的模型？

> ID：14254895
> 
> 赞同：0
> 
> 时间：2013-01-10T09:48:17.493
> 
> 标签：binding, nested, angularjs

AngularJs 源代码：

```
<html ng-app>
  <body ng-controller="Controller">
    <div ng-init="numbers=[11,22,33]">
       <div ng-repeat="n in numbers">
         <input type="text" ng-model="n"/> [{{n}}]
       </div>
    </div>
    <script>
        function Controller($scope) {}
    </script>
  </body>
</html> 
```

当我更改输入的值时，右侧的文本不会更新。哪里错了？

现场演示在这里：http: [//jsfiddle.net/Freewind/TZwxy/](http://jsfiddle.net/Freewind/TZwxy/)

您可以更改输入中的值并查看。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:30:08.977

尝试使用一组对象：

```
function Controller($scope) {
  $scope.numbers = [{value: 11 }, {value: 22 }, {value: 33 }];
}

<html ng-app>
  <body ng-controller="Controller">
    <div>
       <div ng-repeat="n in numbers">
         <input type="text" ng-model="n.value"/> [{{n.value}}]
       </div>
    </div>
  </body>

</html> 
```

请参阅[jsFiddle](http://jsfiddle.net/asgoth/nUfbn/)。

# php - 其他对象内的 PHP 对象

> ID：14254899
> 
> 赞同：0
> 
> 时间：2013-01-10T09:48:23.517
> 
> 标签：php, object

我有一个对象`$user`。

`var_dump($user)`将输出：

```
object(user)#12 (1) {
  ["mylog"]=> object(mylog)#13 (2) { 
    ["userid"]=> string(1) "1" 
    ["uname"]=> string(5) "admin"
  }
} 
```

我要访问的是“userid”属性。我成功了

```
foreach($user as $otherObject=>$property)
{
     echo $property->userid;
} 
```

`$user->OtherObjectPlaceholder->userid`我的问题是我是否可以在不需要遍历所有属性的情况下做类似的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:49:49.820

如果您返回对象，您可以在 php 中为方法创建链接。这称为[流利界面](http://en.wikipedia.org/wiki/Fluent_interface)。

```
class a
{
  public $a;

  public function __construct()
  {
      $this->a = new b; 
  }
}

class b {
   public $b;
}

$object = new a;
$object->a->b 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:50:46.640

在 $user 对象中创建一个 getter 并运行它：

```
$user->getOtherObject()->userid 
```

# android - Android 平板电脑方向改变处理

> ID：14254915
> 
> 赞同：0
> 
> 时间：2013-01-10T09:49:04.693
> 
> 标签：android

我在某些活动上显示一个弹出窗口，当旋转发生变化时，弹出窗口将消失。目前我们的目标是 Api 级别 11 的应用程序。当我使用以下内容时，它在模拟器中运行良好，但在设备上无法运行

```
<activity android:name=".TwitterActivity" android:label="@string/app_name"
            android:configChanges="keyboardHidden|orientation" /> 
```

当我在清单中使用以下语句时，它在模拟器和设备中都可以正常工作。

```
 <activity android:name=".TwitterActivity" android:label="@string/app_name"
        android:configChanges="keyboardHidden|orientation|screensize" /> 
```

但是我们的目标是针对 Api 级别 11 的应用程序。在 Api 级别 11 中没有“屏幕尺寸”（它来自 api 级别 13）。任何人都可以建议如何在 Api 11 中解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:01:12.420

尝试这个。

```
 android:configChanges="keyboardHidden|orientation|screenSize" 
```

我想这会对你有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:56:06.220

那么你可以在api 11中使用一个支持库来拥有api 13的特性。你需要下载它，你可以参考这个链接.. [http://developer.android.com/tools/extras/support-library.html](http://developer.android.com/tools/extras/support-library.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:56:25.303

首先是评论：你不应该用它`android:configChanges`来处理旋转问题。我知道它对大多数人来说“解决了”，但开发人员应该尝试正确处理轮换。

但要直接回答您的问题，您只需更改 android 项目的 API 级别。按照您当前的目标，将清单保持在 11，但将项目属性构建目标更改为 13 或更高版本。

# iphone - 是否可以取消所有正在处理的 NSURLConnection？

> ID：14254916
> 
> 赞同：2
> 
> 时间：2013-01-10T09:49:05.830
> 
> 标签：iphone, ios, xcode, cocoa-touch

我有N个`NSURLConnection`落后，问题是我想`NSURLConnection`一起取消。`NSURLConnection`我知道我们可以一一取消

有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T09:53:33.263

您可以将它们全部存储在一个`NSArray`中，然后遍历数组以取消每个。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T10:05:36.530

您可以`NSOperationQueue`通过将每个连接添加为`NSOperation`. 当您想停止所有连接时，您可以使用该`cancelAllOperations`方法终止队列。

# html - 如何设计垂直滚动条或自定义垂直滚动条设计？

> ID：14254920
> 
> 赞同：0
> 
> 时间：2013-01-10T09:49:17.437
> 
> 标签：html, css, scrollbar

你能帮我吗，如何使用CSS设计垂直滚动条......有没有办法使用css或css3自定义垂直滚动条设计......在此先感谢......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T09:59:48.667

看看[这个](http://giangnguyendesign.com/)网站。它使用`-webkit-`基于浏览器的自定义滚动条。当您检查 css 文件时，很清楚使用的是什么 css。

```
@media only screen and (-webkit-min-device-pixel-ratio: 0) and (min-device-width: 1025px) {
html {  overflow: hidden; }
body {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 12px;
    top: 0;
    overflow-y: auto;
    overflow-x: hidden;
}

::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-button:start:decrement,
::-webkit-scrollbar-button:end:increment {
    display: block;
    height: 10px;
}

::-webkit-scrollbar-button:vertical:increment {
    background-color: #fff;
}

::-webkit-scrollbar-track-piece {
    background-color: #eee;
    -webkit-border-radius: 3px;
}

::-webkit-scrollbar-thumb:vertical {
    height: 50px;
    background-color: #ccc;
    -webkit-border-radius: 3px;
}

::-webkit-scrollbar-thumb:horizontal {
    width: 50px;
    background-color: #ccc;
    -webkit-border-radius: 3px;
} 
```

但是，[http://jscrollpane.kelvinluck.com/](http://jscrollpane.kelvinluck.com/)是迄今为止我跨越的跨浏览器滚动条定制器的最佳示例......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T09:58:53.790

```
.scrollbar{ position: absolute; top: 20px; left: 85px; width: 499px;  
overflow-y: scroll;  
overflow-x: hidden;  
padding-right: 5px;  
visibility: visible;  
border: thin solid white;  
background-color: #336699;  
scrollbar-face-color: #336699; scrollbar-3dlight-color: #336699; scrollbar-base-color:      #336699;  
scrollbar-track-color: #336699; scrollbar-darkshadow-color: #000; scrollbar-arrow-color: #000;  
scrollbar-shadow-color: #fff; scrollbar-highlight-color: #fff; } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:55:15.937

用这个

```
.scroll
{
    display: block;
    border: 1px solid gray;
    padding: 10px 0px 0px 0px;
    margin-top: 5px;
    width: 212px;
    height: 320px;
    overflow-y: scroll;
    background-color: white;
    margin-left: 15px;
} 
```

# google-calendar-api - Google Calendar API 调用非对象

> ID：14254921
> 
> 赞同：0
> 
> 时间：2013-01-10T09:49:19.913
> 
> 标签：google-calendar-api, php

我在下面的代码中的 setSummary 行出现错误。我包含了谷歌的示例代码。这是一个错误还是我的代码有问题？

```
$event = new Event();
$task = $tasks[0];
if (!empty($refreshToken) && !empty($calendarId)) {
$client->refreshToken($refreshToken);
if (!empty($task[145])) {
    $event = $calendarServer->events->get($calendarId, $task[145]);
}
$event->setSummary('test string'); 
```

[来自https://developers.google.com/google-apps/calendar/v3/reference/events/update](https://developers.google.com/google-apps/calendar/v3/reference/events/update)的示例 Google 代码

```
$event = $service->events->get('primary', 'eventId');
$event->setSummary('Appointment at Somewhere');
$updatedEvent = $service->events->update('primary', $event->getId(), $event);
echo $updatedEvent->getUpdated(); 
```

我的脚本在 setSummary 行出现错误：（！）致命错误：在第 47 行的 /vagrant/public/gcalendar/sync.php 中的非对象上调用成员函数 setSummary()

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T17:21:58.153

我更新到最新版本的 php sdk，并发现如果事件已经存在，我没有正确创建新的“事件对象”。以下是我目前正在使用的。

```
if (!empty($eventIdString)) {
            $event = new Google_Event($calendarServer->events->get($calendarId, $eventIdString));
    }
    else {
        $event = new Google_Event();
    } 
```

# ios - 从委托方法刷新 UITableView 单元 UI 按钮图像的问题

> ID：14254927
> 
> 赞同：1
> 
> 时间：2013-01-10T09:49:37.733
> 
> 标签：ios, objective-c, storyboard, automatic-ref-counting

我在正确`UIButtons`设置`UITableViewCell`. 我在 Storyboard 中使用带有四个按钮的自定义单元来创建画廊效果，并使用 ImageLoader Delegate 从服务器加载图像，就像在 Apple 的 LazyTableImages 示例代码中一样。我从 ImageLoader 取回图像很好，问题是设置图像。

如果我在 中`UITableView cellForRowAtIndexPath`设置图像，如果它们已经加载或者只是默认图像，我可以将图像设置为罚款：

```
for (int i = 0; i < [posts count] && i < [galleryButtons count]; i++)
    {
        post = [posts objectAtIndex:i];
        UIButton *button = [galleryButtons objectAtIndex:i];

        [button setTag:post.userID];

        if (!post.userIcon)
        {

            if (tableView.dragging == NO && tableView.decelerating == NO)
            {
                loadFlag = YES;
            }
            [button setImage:[UIImage imageNamed:@"BtDefault.png"] forState:UIControlStateNormal];
        } else
        {
            [button setImage:post.userIcon forState:UIControlStateNormal];
        }
    }

if (loadFlag)
    {
        [self startIconDownload:posts forIndexPath: indexPath];
    } 
```

但是，当委托`ImageDidLoad`稍后调用该方法时，图像并没有改变。

```
- (void)postImageDidLoad:(NSIndexPath *)indexPath forColumn:(int)postColumn
{
ImageLoader *imageLoader = [imageDownloadsInProgress objectForKey:indexPath];
Post *post;

if (imageLoader != nil)
{
    UITableViewCell *cell = [timeLineTable cellForRowAtIndexPath:indexPath];

    if (timeLineStyle == 1) //Gallary Style
    {

        int index = (indexPath.row * 4) + postColumn;
        int buttonTag = 200 + postColumn + 1;
        NSLog(@"Button tag is %i", buttonTag);
        post = [currentPosts objectAtIndex:index];
        UIButton *galleryButton = (UIButton *)[cell viewWithTag:buttonTag];
        [galleryButton setImage:post.userIcon forState:UIControlStateNormal];

        UIImageView *imageTester = (UIImageView *)[cell viewWithTag:300];
        [imageTester setImage:post.userIcon];

        [timeLineTable reloadData];

        [cell setHighlighted:YES];

    } else  // Post Style
    {
        UIImageView *userImageView = (UIImageView*)[cell viewWithTag:101];
        UILabel *userNameLabel = (UILabel *)[cell viewWithTag:102];
        [userNameLabel setText:@"Image Loaded"];
        post = [currentPosts objectAtIndex:[indexPath row]];
        [userImageView setImage:post.userIcon];
    }

}
} 
```

你可以看到我`UIImage`在单元格中有一个用于测试。这工作得很好。如果我删除上面的 for 循环，此代码也可以正常工作`cellForRowAtIndexPath`。问题在于没有 for 循环，如果图像已经加载，则不会设置按钮图像。

我不确定这是否是指针过多阻止`UIButton`更改的问题。这就是我能想到的，但我对 StoryBoard 和这种自定义单元格操作风格还很陌生。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:39:45.590

在顶部您将按钮标签设置为`[button setTag:post.userID];`但在底部您使用标签检索按钮：`int buttonTag = 200 + postColumn + 1;`

# android - GCM - 形成“注册 ID”的可能字符

> ID：14254932
> 
> 赞同：3
> 
> 时间：2013-01-10T09:49:51.023
> 
> 标签：android, push-notification, google-cloud-messaging

我想知道 GCM 中的注册 ID 格式是否有某些限制。

换句话说，是否有任何字符可以安全地假设不会在有效的 GCM 注册 ID 中？

我之所以问这个问题，是因为我想为这样的有效 ID 添加一个后缀（由无效字符组成），并使用该后缀来标识 GCM 注册 ID（而不是 C2DM 注册 ID）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:03:01.340

如果您的用例允许，您可以使用“空格”字符。

GCM id 可能包含 a-zA-Z0-9 和“破折号”字符。（没有引用，只是观察）

并且尽量不要使用 {} 或 [] 作为分隔符，以防 json 字符串混淆。

另请注意，GCM id 没有长度限制。根据 id 生成引擎，它可能会更短或更长时间地返回。

# java - Java uncaughtExceptionHandler 不起作用

> ID：14254933
> 
> 赞同：3
> 
> 时间：2013-01-10T09:49:54.130
> 
> 标签：java, android, exception, runtimeexception, uncaughtexceptionhandler

我有一个全局异常处理程序例程，它在运行时异常中包装*了一些*异常

像这样

```
public class ExceptionHandler
{
public static void handle(){
    throw new RuntimeException(e);
}
} 
```

在`ExceptionHandler`课堂上我也有一个静态构造函数

```
static
  {
    Thread.UncaughtExceptionHandler h = new Thread.UncaughtExceptionHandler()
    {
      @Override
      public void uncaughtException(Thread thread, Throwable throwable)
      {
        Throwable t;
        t = throwable;
        if (throwable.getCause() != null)
          t = throwable.getCause();
        Log.e(t.getClass().getName(), t.getMessage(), t);
      }
    };
    Thread.currentThread().setUncaughtExceptionHandler(h);
    Thread.setDefaultUncaughtExceptionHandler(h);
  } 
```

问题是，投掷 RTE 后它不会进入`UncaughtExceptionHandler`. 为什么？

顺便说一句，我不能把它放到 main 方法中，因为我的 Android 程序中没有 main 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:59:05.033

您可以继承 Application 类并初始化您的`ExceptionHandler`in`onCreate()`方法。

```
public class YourApplication extends Application {

    @Override
    public void onCreate() {
        super.onCreate();

        Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler());
    }
} 
```

并在那里实现你的异常处理程序

```
private class ExceptionHandler implements Thread.UncaughtExceptionHandler {
    @Override
    public void uncaughtException(Thread thread, Throwable throwable) {
        processUncaughtException(thread, throwable);
    }
} 
```

您可能还想维护默认的异常处理程序，以便在设置它之前执行它

```
defaultExceptionHandler = Thread.getDefaultUncaughtExceptionHandler(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:59:37.613

初始化程序块仅在`static`ClassLoader 加载类时执行。我不是 Android 专家，但我认为您可以在主活动类中初始化异常处理程序。只需像这里一样使用静态初始化块或使用`Activity`生命周期方法，如`onCreate`. [Leonidos](https://stackoverflow.com/a/14255143/31136)在这里建议的另一个选项可能最适合这种初始化：扩展`Application` `class`并把你的代码放在那里。

# php - 调用未定义的函数 mb_strimwidth

> ID：14254943
> 
> 赞同：17
> 
> 时间：2013-01-10T09:50:29.747
> 
> 标签：php, string, laravel, truncation, mbstring

几个月前，我编写了一个简短的代码，用于`mb_strimwidth()`将一些文本完全放入表格单元格中，将点放在截断字符串的末尾。现在，一段时间后，我尝试执行相同的代码，但出现以下错误：

```
Fatal error: Call to undefined function mb_strimwidth() in ... 
```

我试图找到mbstring.php文件，当我找到该`mb_strimwidth()`函数时，我发现它不再实现了。这怎么可能？但我的主要问题是：我怎样才能得到与 相同的结果`mb_strimwidth()`？我想用循环重写函数`mb_strwidth()`，但是 mbstring.php 文件中的所有函数都是空的。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-01-10T10:02:27.147

所有`mb_*`函数都由名为 Multibyte String 的 PHP 扩展提供，内部名称为[mbstring](http://php.net/manual/en/book.mbstring.php)

您可能没有激活或安装扩展。在大多数 Linux 发行版上，您可以安装软件包`php-mbstring`来安装和激活此扩展。

如果您使用的是 mod_php，则需要在之后重新启动 Apache

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2017-08-26T19:51:24.423

刚遇到这个问题，如果您使用的是 linux，只需安装软件包`php-mbstring`并重新启动 Apache。

```
sudo apt-get install php-mbstring
sudo service apache2 restart 
```

如果您使用特定的 PHP 版本，您可能需要运行以下命令：

```
sudo apt-get install php7.x-mbstring
sudo service apache2 restart 
```

替换`7.x`为确切的 PHP 版本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-02-25T05:59:31.873

你需要安装`php-mbstring`包试试。

检查php版本

```
php -v 
```

然后检查 mbstring 是否已安装并启用

```
php -i | grep mbstring 
```

如果未安装运行此命令

```
sudo apt-get install php-mbstring 
```

> 如果您是**php 其他版本** 示例：**7.1、7.2、7.0**基于这样的运行命令：

```
sudo apt-get install php7.1-mbstring 
```

如果您使用 nginx 服务器运行 laravel .. 然后检查 nginx 配置文件，您在 conf 文件中加载了哪个版本..

转到`cd /etc/nginx/sites-available`并打开您的配置文件..如果您在 nginx conf 文件中加载 php7.2 版本..

**fastcgi_pass unix:/var/run/php/php7.1-fpm.sock;**

然后你需要安装**7.2** mbstring 包..

```
sudo apt-get install php7.2-mbstring 
```

并**重新启动**apache2 服务器

```
 sudo service apache2 restart 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-05-06T10:54:07.087

如果你已经安装了 mbstring，那么你必须在 php.ini 文件中调用这个扩展。

首先，检测您的 php-fpm.ini 文件或 php.ini 文件在哪里。

运行命令

```
php -i | grep php.ini 
```

它会返回 php.ini 文件的路径。

例如

```
/etc/php.ini 
```

然后用 vim 或其他编辑器打开文件

```
vim /etc/php.ini 
```

然后将 mbstring 扩展名添加到 php.ini 文件

```
extension=mbstring.so; 
```

最后，重启 php-fpm

```
systemctl restart php-fpm 
```

# ios - iphone App中字符串的幻灯片放映

> ID：14254947
> 
> 赞同：1
> 
> 时间：2013-01-10T09:50:41.583
> 
> 标签：ios, xcode, ios4

iphone应用程序中的UILabel中的字符串数组有幻灯片放映的方法吗？（即，字符串将一个接一个出现）。任何人请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:01:06.277

看看[NSTimer](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/Reference/NSTimer.html)。

这可以让您每 X 秒重复一次回调。您可以使用它来交换数组中的字符串。

```
[NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(swapStrings:) userInfo:nil repeats:YES];

_myStrings = @[ @"a" , @"b", ..... ];

... 

- (void) swapStirings:(id)sender 
{
    myInt ++;
    if (myInt >= [_myStrings count]) myInt = 0;
    myLabel.text = [_myStrings objectAtIndex:myInt];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T10:06:08.793

不，那里没有。但是，好消息应该是微不足道的。我建议创建一个 uilabel 的子类，其中包含一个字符串数组作为 ivar。子类有一个设置数组和时间间隔的 init 方法。然后它使用 nstimer 更改其标签并重新显示自身。祝你好运！

# flash - 两个不同 object<> 标签内的 html 页面中两个不同 swf 文件的声音控制

> ID：14254948
> 
> 赞同：0
> 
> 时间：2013-01-10T09:50:44.510
> 
> 标签：flash

在 html 页面中，我有两个`object<>`包含 back1.swf 和 back2.swf 的标签。只有 back1.swf 包含按钮，其他的是 swf 电影。其中一个按钮是“声音暂停”按钮。是否可以控制第二部 swf 电影的声音？**需要 AS2。**

两个对象标签，如`<object>...</object>`和 `<object>....</object>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:56:22.867

是的，这是可能的。查找 LocalConnection 类。两个 swf 都需要实现此功能才能相互通信。现在找不到 AS2 参考，但我应该在帮助 api 中。

# excel - Excel VBA：复制范围内的所有行，包括任何被过滤器隐藏的行

> ID：14254957
> 
> 赞同：0
> 
> 时间：2013-01-10T09:51:13.313
> 
> 标签：excel, vba, filter, copy

我有一个将表格复制到另一个电子表格中的 VBA 宏。此表上有一个过滤器，因为我经常需要深入研究内容，而且我经常过滤行。如何确保我的宏将复制表中的所有行，而不仅仅是过滤器选择的行？

目前我正在这样做：

```
Private Sub PopulateTab(SourceRange As Range, TargetRange As Range)

  SourceRange.Copy

  With TargetRange
    .PasteSpecial Paste:=xlPasteAll
    .PasteSpecial Paste:=xlPasteColumnWidths
    .PasteSpecial Paste:=xlPasteValues
  End With

End Sub 
```

它只复制过滤器选择的行，而不是整个范围。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:09:05.580

回答我自己的问题：我首先取消过滤范围：

```
Sub Unfilter(Sheet As Worksheet)

  Dim Fltr As Filter
  Dim iFiltr As Long

  With Sheet.AutoFilter
    For iFiltr = 1 To .Filters.Count
        If .Filters(iFiltr).On Then
            .Range.AutoFilter Field:=iFiltr
        End If
    Next iFiltr
  End With

End Sub 
```

我不存储过滤器选择，因为我不在乎让所有内容都未经过滤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-19T15:50:20.730

如果你不需要记住过滤器，你只需要一行代码：

```
Sub UnfilterMe(Sheet As Worksheet)
    Sheet.AutoFilterMode = False
End Sub 
```

# yii - 参数化 DeleteAllByAttributes 在 YII 中不起作用

> ID：14254958
> 
> 赞同：3
> 
> 时间：2013-01-10T09:51:16.700
> 
> 标签：yii

我正在使用以下代码：

```
MyClass::model()->deleteAllByAttributes(array('phone_number'=>':phone_number'), '', array(':phone_number'=>$phoneNumber)); 
```

我收到以下错误：

```
CDbException
SQLSTATE[HY093]: Invalid parameter number: number of bound variables
does not match number of tokens. The SQL statement executed was:
DELETE FROM `my_class` WHERE `my_class`.`phone_number`=:yp0
(E:\xampp\htdocs\yii\db\CDbCommand.php:354) 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-10T09:56:19.627

我相信您不需要绑定`attributes`数组中的属性（也是`findAllByAttributes()`如此）。数组中的值`params`绑定到`condition`字符串中的值，而不是`attributes`数组，所以我相信以下内容应该对你有用（并且经过清理）：

```
MyClass::model()->deleteAllByAttributes(array(
    'phone_number'=>$phoneNumber,
)); 
```

或者，您可以使用：

```
MyClass::model()->deleteAllByAttributes(array(),'`phone_number` = :phone_number',array(
    ':phone_number'=>$phoneNumber,
)); 
```

哪个会产生相同的效果...但是您不妨使用`deleteAll()`：

```
MyClass::model()->deleteAll('`phone_number` = :phone_number',array(
    ':phone_number'=>$phoneNumber,
)); 
```

# c++ - Outlook 2010 AppointmentItem.GetOrganizer 和 ResponseStatus 访问冲突

> ID：14254959
> 
> 赞同：1
> 
> 时间：2013-01-10T09:51:18.307
> 
> 标签：c++, crash, outlook

开发一个插件，将 Outlook 中的事件与外部系统同步。

但是，Outlook 经常在以下行崩溃：

```
m_Event->get_ResponseStatus( &olAppointmentResponseStatus ); 
```

或 m_Event->GetOrganizer( &spAddrEntry );

对于同一个事件，一次运行它有效，另一次运行它崩溃，这里没有可预测的模式。

同时，其他属性工作正常，如下所示：

```
m_Event->get_ReminderSet( &bReminderSet ); 
```

m_Event 声明为：CComPtr m_Event；

看起来问题发生在事件不是绝对正确时，例如当它的组织者状态未知时。我认为我能够处理（甚至修复）Outlook 没有崩溃的此类事件。

显然，try catch (...) 没有帮助，因为访问冲突不是 C++ 异常。有什么方法可以让 Outlook 在读取事件属性时不会崩溃？也许，某种“启用安全模式”，或者其他什么..

另一个问题为什么会出现坏事件，因为我的插件只通过 Outlook API 创建事件（这是否意味着 Outlook 可以保存一个事件，然后它无法在不崩溃的情况下读取？）但理想情况下，我想处理它可能遇到的任何事件Outlook 数据库。

# c# - 列表框绑定无法正常工作

> ID：14254960
> 
> 赞同：0
> 
> 时间：2013-01-10T09:51:18.480
> 
> 标签：c#, wpf, listbox, observablecollection

我将（至少我认为我做到了）数据绑定到了`ListBox`以下教程。我想要绑定的类元素中有数据，但`ListBox`在某些事件之后我什么也看不到。我有以下部分 XAML：

```
 <ListBox x:Name="jukeBoxListBox" Height="227" VerticalAlignment="Top" ItemsSource="{Binding FilePathList}"/> 
```

在我拥有的 WPF 表单 cs 文件中。我应该设置为 class`FolderItems`还是它的 attr `filePathList`？我也应该使用`ObservableCollection`而不是`list`？

```
InitializeComponent();    
FolderItems folderItems = new FolderItems();
this.DataContext = folderItems.FilePathList; 
```

我的数据类：

```
class FolderItems : INotifyPropertyChanged
{
    #region INotifyPropertyChanged implementation

    public event PropertyChangedEventHandler PropertyChanged;

    protected void Notify(string propertyName)
    {
        if (this.PropertyChanged != null)
        {
            PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
        }
    }
    #endregion INotifyPropertyChanged implementation

    private ObservableCollection<String> _pathList = new ObservableCollection<string>();

    public ObservableCollection<String> FilePathList
    {
        get { return _pathList; }
        set
        {
            if (value != _pathList)
            {
                _pathList = value;
                Notify("FilePathList");
            }
        }
    }
} 
```

我想我需要提到的是我更改了点击事件`List`中的元素。`Button`也许以下是问题的一部分。

```
//in the event fItems is an instance of FolderItems   
var files = new ObservableCollection<string>();
ProcessFiles(of.SelectedPath, files);
fItems.FilePathList = files;
//...

    private void ProcessFiles(string path, ICollection<string> files)
    {
        foreach (var file in Directory.GetFiles(path).Where(name => name.EndsWith(".mp3", StringComparison.OrdinalIgnoreCase)))
            files.Add(file);    

        foreach (var directory in Directory.GetDirectories(path))
            ProcessFiles(directory, files);

    } 
```

我来自 Javaland，是 C# 的新手。请原谅我的语言。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:54:51.483

如果您更改`List<string>`为`ObservableCollection<string>`（[请参阅此处](http://msdn.microsoft.com/en-us/library/ms668604.aspx)），您的绑定将收到有关列表更改的通知，例如当您添加项目时。

此外，您必须将 Notify 调用中的属性名称更改为`filePathList`.

您应该遵循 .Net 中属性的编码约定，这些约定通常使用前导大写字符编写。所以你的财产是`FilePathList`.

```
private ObservableCollection<String> pathList = new ObservableCollection<string>();

public ObservableCollection<String> FilePathList
{
    get { return pathList; }
    set
    {
        if (value != pathList)
        {
            pathList = value;
            Notify("FilePathList"); // changed here
        }
    }
} 
```

将绑定更改为重命名的属性：

```
<ListBox ... ItemsSource="{Binding FilePathList}"/> 
```

* * *

另请参阅[绑定到集合](http://msdn.microsoft.com/en-us/library/ms752347.aspx#binding_to_collections)和[使用集合对象作为绑定源](http://msdn.microsoft.com/en-us/library/ms743643.aspx#collections)。

* * *

更新

您的`ProcessFiles`方法应按如下所示编写以启用递归。

```
private void ProcessFiles(string path, ICollection<string> files)
{
    foreach (var file in Directory.GetFiles(path).Where(name => name.EndsWith(".mp3", StringComparison.OrdinalIgnoreCase)))
    {
        files.Add(file);
    }

    foreach (var directory in Directory.GetDirectories(path))
    {
        ProcessFiles(directory, files);
    }
} 
```

并被称为：

```
var files = new ObservableCollection<string>();
ProcessFiles(of.SelectedPath, files);

var folderItems = new FolderItems();
folderItems.FilePathList = files;
DataContext = folderItems; 
```

或者，如果您稍后需要访问该`FolderItems`对象（可能在某些事件处理程序中），您可以从以下位置取回它`DataContext`：

```
DataContext = new FolderItems();

...

var folderItems = DataContext as FolderItems;
ProcessFiles(of.SelectedPath, folderItems.FilePathList); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:12:38.900

试试这个。我搜索 dll 文件而不是 mp3。您可以根据需要更改模式。

```
 public class FolderItems : INotifyPropertyChanged
        {

            public event PropertyChangedEventHandler PropertyChanged;

            //Temp Data
            public FolderItems()
            {

  //Add System.windows.Form assampbly. 
            var dialog = new System.Windows.Forms.FolderBrowserDialog();
            System.Windows.Forms.DialogResult result = dialog.ShowDialog();

            if (result == System.Windows.Forms.DialogResult.OK)
            {
                FilePathList = ProcessFiles(dialog.SelectedPath);

                ////var directories = new System.IO.DirectoryInfo("C:\\Windows\\").GetFiles().Select(x => x.Name);

                //foreach (var file in directories)
                //{
                //    FilePathList.Add(file);
                //}
    }
            }

            private ObservableCollection<String> ProcessFiles(string path)
            {
                string[] directories;
                ObservableCollection<String> fileList = new ObservableCollection<string>();
                var files = new System.IO.DirectoryInfo(path).GetFiles("*.dll").Select(x => x.Name); //Directory.GetFiles(path).Where(name => name.EndsWith(".mp3", StringComparison.OrdinalIgnoreCase));
                fileList = new ObservableCollection<String>(files.ToList<String>());

                //your processing further
                //directories = Directory.GetDirectories(path);
                //foreach (string directory in directories)
                //{
                //    // Process each directory recursively
                //    ProcessFiles(directory);
                //}

                return fileList;
            }

            protected void Notify(string propertyName)
            {
                if (this.PropertyChanged != null)
                {
                    PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
                }
            }

            private ObservableCollection<String> _pathList = new ObservableCollection<string>();

            public ObservableCollection<String> FilePathList
            {
                get { return _pathList; }
                set
                {
                    if (value != _pathList)
                    {
                        _pathList = value;
                        Notify("FilePathList");
                    }
                }
            }

        } 
```

# excel - 查找最后一行 - 在 VBScript 中引用 Excel 对象库

> ID：14254964
> 
> 赞同：0
> 
> 时间：2013-01-10T09:51:27.100
> 
> 标签：excel, vbscript, vba

我写了一个简短的脚本，当我登录到我的计算机时将时间记录在电子表格中，但我无法正确定义最后一行。如果我在`VBA`下面写的话会执行得很好，但是在执行时我会收到一个错误`VBScript`。

VBScript 将`Rows`from`Rows.Count`作为一个变量，所以它会抛出一个错误，因为我有`Option Explicit`。如果我尝试将其限定为`.Rows.Count`它认为`xlup`的变量。

我是否需要在 中引用 Excel 对象库，`VBScript`或者我应该完全使用不同的语法来查找 LR 中的 LR `VBScript`？

```
Option Explicit

Dim xlapp
Dim oWB
Dim oWS
Dim LR

Set xlapp = CreateObject("excel.application")
Set oWB = xlapp.Workbooks.Open("H:\HR Stuff\time_management.xls")
Set oWS = oWB.Sheets("Sheet1")

With oWS
    LR = .Range("A" & Rows.Count).End(xlUp).Row
         .Cells(LR, 1).Value = Now
End With

oWB.Close True

xlapp.Quit
Set xlapp = Nothing 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:01:47.573

**xlUp**是 VBA 已知的常量，但 VBScript 不知道。你必须自己定义它：

```
Const xlUp = <Use Excel interactively to get the correct magic Number>* 
```

*   含义类似于“Debug.Print xlUp”

# java - 如何使 Java 方法通用？

> ID：14254965
> 
> 赞同：1
> 
> 时间：2013-01-10T09:51:28.237
> 
> 标签：java, generics, methods

我目前正在做一个项目，我必须使一些方法通用（以使代码更具可读性）。

这些项目有两个类：`Box`和`MyList`. 'Box' 的构造函数接受泛型参数；'MyList' 的构造函数只有一个。

```
public class Box<A, B> {} 
```

那是盒子的类。

```
public class MyList<T> {} 
```

这就是 MyList 的类。

在“Box”类中，我有一个如下所示的方法：

```
public static MyList enclose (Box <MyList <Integer, String>> t) {
// Here comes some code that is not important right now.
} 
```

我现在想要的是使该方法具有通用性，以便它不仅可以接收像 a 之类的参数`Box`。有人有想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:58:30.490

尝试

```
public static <T> MyList<T> enclose(T t) {
    return new MyList<T>();
}

public static void main(String[] args) {
    MyList<Box<String, String>> res = enclose(new Box<String, String>());
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:58:46.720

目前尚不完全清楚您想要做什么，并且泛型参数的数量与您的类不匹配，但也许这可以工作？

```
public <T> static MyList<T> enclose (Box <MyList <T>, String> t) {
// Here comes some code that is not important right now.
} 
```

或者，如果您想避免谈论 MyList，也许是这样：

```
public <T> static T enclose (Box <T, String> t) {
// Here comes some code that is not important right now.
} 
```

第二个版本将`Box`对象的第一个泛型参数的类型作为其返回类型...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:03:29.757

```
public static <T, S> MyList<T> enclose(Box <MyList<T>, S> box) {} 
```

Java 没有[更高种类的类型](http://en.wikipedia.org/wiki/Kind_%28type_theory%29)，因此上面的内容与 java 允许的一样通用。

或者，无需拥有`MyList<T>`

```
public static <T, S> T enclose(Box <T, S> box) {} 
```

希望这 2 个示例能让您大致了解如何在特定情况下声明泛型。

# jquery - 无法使用 grunt 构建 jquery - 子模块错误

> ID：14254967
> 
> 赞同：2
> 
> 时间：2013-01-10T09:51:33.510
> 
> 标签：jquery, build, gruntjs

我没有运气使用 grunt 构建 jQuery (git)。

一切都很顺利，直到实际的 grunt 命令输出如下：

```
grunt --config Gruntfile.js 

Running "update_submodules" task

TypeError: Cannot call method 'spawn' of undefined
at Object.<anonymous> (/Users/maciejbodek/Dropbox/Htdocs/git/jquery/node_modules/grunt-update-submodules/tasks/update-submodules.js:7:14)
at Object.task.registerTask.thisTask.fn (/usr/local/lib/node_modules/grunt/lib/grunt/task.js:58:16)
at Task.<anonymous> (/usr/local/lib/node_modules/grunt/lib/util/task.js:343:36)
at Task.start (/usr/local/lib/node_modules/grunt/lib/util/task.js:359:5)
at Object.grunt.tasks (/usr/local/lib/node_modules/grunt/lib/grunt.js:143:8)
at Object.module.exports [as cli] (/usr/local/lib/node_modules/grunt/lib/grunt/cli.js:36:9)
at Object.<anonymous> (/usr/local/lib/node_modules/grunt/bin/grunt:19:14)
at Module._compile (module.js:449:26)
at Object.Module._extensions..js (module.js:467:10)
at Module.load (module.js:356:32) 
```

任何提示表示赞赏。安装了所有需要的 npm 依赖等等。只是构建过程最终被中止。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T10:25:44.587

您需要运行最新的开发版本的 grunt，您可以使用它`npm install grunt@master`

还要确保你已经卸载了旧的全局 grunt`npm uninstall -g grunt`并安装了 grunt-cli global `npm install -g grunt-cli`。

请参阅[从 0.3 升级到 0.4](https://github.com/gruntjs/grunt/wiki/Upgrading-from-0.3-to-0.4)

# css - 更改当前选定 li 的 css

> ID：14254969
> 
> 赞同：0
> 
> 时间：2013-01-10T09:51:36.357
> 
> 标签：css

我有这个菜单：

```
<div id="menu-home">
    <ul>
        <li> a </li>
    </ul>
</div> 
```

当我在`test.php`对应于测试菜单的页面上时，我需要它`li`具有不同的样式..

我试过

```
#menu-home ul li:active 
```

但它没有用..

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:54:34.733

### 没有`:active`状态`<li>`

相反，您可以使用 PHP 来完成。

```
<div id="menu-home">
<ul>
<li <?php if (page is current page) echo ' class="active"';?>> a </li>
</ul>
</div> 
```

在 CSS 中，您可以给出：

```
#menu-home ul li.active {} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T10:07:06.733

该`<li>`元素没有活动状态，因为它只是一个（无状态）项目符号点。选择器`:active`只能用于链接；一个例子可以在[这里](http://www.w3schools.com/cssref/sel_active.asp)找到。

但是，`:active`只会在单击链接时突出​​显示该链接。之后，它会执行设置为执行的任何操作和/或导航，然后将访问该链接。从那里开始，您无法将其与您当前未查看的其他已访问页面区分开来，并且即使您导航到另一个页面，它也不会再次“未访问”。所以这不符合你的意图。

相反，我会`.active`在您的 CSS 中创建一个类，您可以在其中定义所有自定义样式。然后，生成您的页面的 PHP 需要注意在选定的菜单项上正确设置类，即：在构建菜单时将其附加`class="active"`到`<li>`或`<a>`。

（是的，只需查看 Praveen 对代码的回答 ^^）

# r - 从第三个条目开始对向量中的每个第二个值求和

> ID：14254981
> 
> 赞同：1
> 
> 时间：2013-01-10T09:52:24.720
> 
> 标签：r

我想将以下函数应用于向量而不是矩阵，其中向量由> 100个条目组成，我想从第三个元素开始添加它们并添加每隔一个元素。

```
apply(vector,1,function(x) sum(x[seq(3,length(x),2)])) 
```

一个简单的例子是：

```
a: 123 4 100 3 594 5 302 .... 
```

将添加的是 100+594+302+...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T10:07:33.987

那这个呢？

```
v <- 1:10 # an example vector

sum(v[-1][c(FALSE, TRUE)])
# [1] 24 
```

# android - 后退事件被发送到上一个活动

> ID：14254982
> 
> 赞同：0
> 
> 时间：2013-01-10T09:52:30.053
> 
> 标签：android, android-activity, back

我有 2 个活动如下：

```
public class MainActivity extends Activity {
    ....

    profile.login(new onCallback()) {
        @Override
        public void onResult(int result) {
            final Intent i = new Intent(MainActivity.this, DetailActivity.class);
            startActivity(i);
        }
    }

    ....

}

public class DetailActivity extends Activity {
    ....
} 
```

profile.login 在 AsyncTask 上运行并在有结果时回调。一旦收到结果，它将开始第二个活动。

以下是故障步骤：

1.  在 MainActivity 上，按下登录按钮。
2.  按返回关闭应用程序。
3.  该应用程序已关闭，但一段时间后会弹出第二个活动并立即强制关闭。

我跟踪生命周期事件，logcat 显示：

1.  MainActivity.onClickLogin
2.  DetailActivity.onCreate 已启动。
3.  DetailActivity.onCreate 结束。
4.  MainActivity.onDestroy 启动。
5.  MainActivity.onDestroy 结束。

它是非常依赖时间的，只发生在“DetailActivity.onCreate 结束”和屏幕不显示之间。一旦 DetailActivity 屏幕显示，按 Back 不会导致 MainActivity 销毁。它只是按预期破坏了 DetailActivity：

1.  MainActivity.onClickLogin
2.  DetailActivity.onCreate 已启动。
3.  DetailActivity.onCreate 结束。
4.  DetailActivity.onDestroy 启动。
5.  DetailActivity.onDestroy 结束。

**我的问题是：**

由于 DetailActivity 已经创建（onCreated 结束），是否应该将返回键事件发送到 DetailActivity 并导致它销毁？为什么将密钥发送到 MainActivity？

知道如何应对吗？

我正在使用的 Android 版本是 4.0.x

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:22:34.137

创建页眉和页脚。设置一个图像并在 onclick 侦听器上编写代码...

# heap - 为什么索引 i 的堆节点（从 1 开始）及其高度 h 满足 (2^h)*i <= n < (2^(h+1)*i) 其中 n 是堆大小？

> ID：14254985
> 
> 赞同：0
> 
> 时间：2013-01-10T09:52:39.707
> 
> 标签：heap

为什么索引 i 的堆节点（从 1 开始）及其高度 h 满足 (2^h)*i <= n < (2^(h+1)*i) 其中 n 是堆大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T06:27:36.227

案例N：1

```
2^h <= 1 <= 2^(h+1) 
```

注意节点的高度是 log(n) = log(1) = 0

```
= 2^0 <= 1 <= 2^(0+1) 
= 1 <= 1 <= 2 
```

所以你可以看到它的真实情况 n = 1

将 h = log(n) 替换为原始问题

```
= 2^h <= n <= 2^(h+1)
= 2^(log(n)) <= n <= 2^(log(n)+1)   #replace n = log(n)
= n <= n <= 2^log(n) * 2^1   #exponents property
= n <= n <= 2n 
```

请注意，如果我们在每一边除以“i”，索引“i”就会被抵消。

# ios - SuperView添加子图层后变为null但图像仍然可见

> ID：14254990
> 
> 赞同：1
> 
> 时间：2013-01-10T09:53:04.287
> 
> 标签：ios, uiimageview, calayer, cagradientlayer

我正在使用 MKNetwrkKit。我有一个`imageView`，我已将它作为一个添加`subView`到一个`UIView`. 我使用`"UIImageView+MKNetworkKitAdditions.h"`. 在下载完成之前，我添加了一个掩码`ImageView`并将其从`superView`中删除，然后我崩溃了！

```
- (void) testUIImageViewDownloadCrash {
    UIImageView *imageView = [[UIImageView alloc] init];

    [imageView mk_setImageAtURL:[NSURL URLWithString:@"http://www.gravatar.com/avatar/a717291747c76567bb0f086e15ae6e43?s=32&d=identicon&r=PG"] onCompletion:^(BOOL success, BOOL fromCache) {
        //
    }];

    UIView *view = [[UIView alloc] init];
    [view addSubview:imageView];
    [self addMaskToImageView:imageView];
    [imageView removeFromSuperview];
} 
```

现在，奇怪的是，只有当我添加掩码时才会发生这种崩溃......这是添加掩码的函数。

```
- (CAGradientLayer*) addMaskToImageView:(UIImageView *) inImageView
{
    CALayer *imageLayer = inImageView.layer;
    CGRect imageBounds = imageLayer.bounds;
    CGRect ellipseRect = CGRectInset(imageBounds, 4, 4);

    CGPathRef maskPath = CGPathCreateWithEllipseInRect(ellipseRect, NULL);
    if (maskPath)
    {
        CAShapeLayer *maskLayer = [CAShapeLayer layer];
        maskLayer.bounds = imageBounds;
        maskLayer.position = (CGPoint){CGRectGetMidX(imageBounds), CGRectGetMidY(imageBounds)};
        maskLayer.path = maskPath;
        maskLayer.fillColor = [UIColor blackColor].CGColor;

        imageLayer.mask = maskLayer;
        CFRelease(maskPath);        
    }

    CAGradientLayer *gradientRingLayer = [self createGradientRing:imageBounds];

    CALayer *containerLayer = [CALayer layer];

    [imageLayer.superlayer addSublayer:containerLayer];
    // Move container layer to the image position
    containerLayer.position = imageLayer.position;
    // Image is now at 0,0 in the container
    imageLayer.position = CGPointZero;

    [containerLayer addSublayer:gradientRingLayer];
    [containerLayer addSublayer:imageLayer];
         layer.shouldRasterize = YES;
         layer.rasterizationScale = [[UIScreen mainScreen] scale];
         layer.contentsScale = [[UIScreen mainScreen] scale];

    containerLayer.shadowColor = [UIColor blackColor].CGColor;
    containerLayer.shadowOpacity = 1.0f;
    containerLayer.shadowOffset = CGSizeMake(2.0f, 5.0f);
    containerLayer.shadowRadius = 7.5f;
    // Create shadow at the righ place around the image
    CGPathRef containerShadowPath = CGPathCreateWithEllipseInRect(imageLayer.frame, NULL);
    containerLayer.shadowPath = containerShadowPath;
    CFRelease(containerShadowPath);

    return gradientRingLayer;
}

- (CAGradientLayer*)createGradientRing:(CGRect)inBounds {
        CAGradientLayer *gradient = [CAGradientLayer layer];
        gradient.anchorPoint = CGPointMake(0.5f, 0.5f);
        gradient.position = CGPointMake(0.0f, 0.0f);
        //    gradient.startPoint = CGPointMake(0.0,0.0);
        //    gradient.endPoint = CGPointMake(0.0,0.0);
        gradient.bounds = inBounds;
        gradient.cornerRadius = 0.0;
        gradient.colors = [NSArray arrayWithObjects:
                           (id)[UIColor ringLight].CGColor,
                           (id)[UIColor ringLight].CGColor,
                           nil];

        CAShapeLayer *frameLayer = [CAShapeLayer layer];
        CGPathRef framePath = CGPathCreateWithEllipseInRect(CGRectInset(inBounds, 0, 0), NULL);
        if (framePath)
        {
            frameLayer.bounds = inBounds;
            frameLayer.position = (CGPoint){CGRectGetMidX(inBounds), CGRectGetMidY(inBounds)};
            frameLayer.path = framePath;
            frameLayer.fillColor = [UIColor blackColor].CGColor;
            CFRelease(framePath);
        }

        gradient.mask = frameLayer;

        return gradient;
    } 
```

如果我注释掉添加掩码，它不会崩溃。我不明白的另一件事是，添加掩码后，如果这样做：

```
NSLog(@"subviews count : %i",[view.subviews count]); 
```

然后我得到0！去哪儿了`imageView`？

我观察到该`addMask`函数正在生成一个`superView`空`imageView`值。我发现这条线`[containerLayer addSublayer:imageLayer];`是罪魁祸首。这是使`superView`null 的`imageView`。但为什么？我该如何解决？

有时我也会遇到这个异常，我不知道为什么。

```
-[__NSCFString sublayers]: unrecognized selector sent to instance 
```

我在 iOS 5 和 iOS 6 上试过。

# ios - TableView 编辑风格

> ID：14254996
> 
> 赞同：0
> 
> 时间：2013-01-10T09:53:29.420
> 
> 标签：ios, objective-c, xcode, tableview, editing

我有一个 tableView ，其中包含用户应该能够编辑的条目。特殊的是，tableView 有一个“正确的细节”样式（一个数字），当用户点击编辑时，我希望这个正确的细节被标准的披露指示器附件替换（如果可能的话，动画）。

我怎样才能做到这一点？谢谢！

更新：感谢您到目前为止的答案，但您能否给我一个代码示例，说明数字被图片替换的部分？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:03:40.157

您可以使用 UITableViewDelegate 方法进行编辑，例如`tableView:willBeginEditingRowAtIndexPath:`执行更改。用于`cellForRowAtIndexPath:`获取 UITableViewCell 对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T10:40:33.203

您可以在此处使用自定义单元格并完成所有这些工作。在这里，您可以使用相同的单元格并将子视图添加到您希望发生更改的那个单元格。稍后取决于状态，即；isEditing = True/false 你可以显示你想要的。

# java - 如何在 Java 中使用 RESTful Web 服务获取远程/客户端 IP 地址？

> ID：14254999
> 
> 赞同：12
> 
> 时间：2013-01-10T09:53:33.367
> 
> 标签：java, web-services, rest, restful-authentication

我在我的项目中编写了 Rest web 服务。web 服务调用可能来自不同的机器。所以我需要通过 REST web 服务找出 IP 地址。

从此[链接](https://stackoverflow.com/questions/3825084/rest-how-get-ip-address-of-caller) **request.getRemoteAddr()**使用它。

但我不能使用 getRemoteAddr()。因为我的请求和响应都是xml格式。

我在 REST 服务中使用了 post 方法。Tomcat 服务器。我以 xml 格式发送请求。

我怎样才能得到IP地址？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-01-10T10:19:36.427

假设您使用的是 JAX-RS：

```
@GET
Produces("application/xlm")
public String getData(@Context HttpServletRequest request){
   String ip = request.getRemoteAddr();
} 
```

注释`@Context`允许您注入

*   javax.ws.rs.core.HttpHeaders,
*   javax.ws.rs.core.UriInfo,
*   javax.ws.rs.core.Request,
*   javax.servlet.HttpServletRequest,
*   javax.servlet.HttpServletResponse,
*   javax.servlet.ServletConfig,
*   javax.servlet.ServletContext 和
*   javax.ws.rs.core.SecurityContext 对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:56:18.577

无论您的请求（在本例中为 xml）的格式（或内容类型）如何，您的请求都会提供 IP 地址，通过该地址提交 xml 有效负载（请求）。因此，检查您的请求是最好的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T10:08:32.513

即使您的请求是 xml/json 格式，您也将使用远程/客户端计算机地址，`request.getRemoteAddr();`因为 IP 地址位于[HTTP 请求标头](http://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Common_non-standard_request_headers)中。