# StackOverflow 问答 14767000-14767999

# ios - Phonegap iOS 的文本转语音 (TTS) 插件

> ID：14767008
> 
> 赞同：3
> 
> 时间：2013-02-08T06:33:34.897
> 
> 标签：ios, xcode4.5, phonegap-plugins

我正在使用 Xcode 在 Phonegap iOS 中开发应用程序。我需要 Phonegap iOS 的文本到语音（TTS）插件。我面临这个问题。谁能帮我。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T06:43:20.480

**文字转语音（TTS）**

[https://bitbucket.org/sfoster/iphone-tts/src](https://bitbucket.org/sfoster/iphone-tts/src)
[https://github.com/todoroo/iPhone-Speech-To-Text](https://github.com/todoroo/iPhone-Speech-To-Text)
[http://docs.phonegap.com/en/2.0.0/guide_plugin- development_index.md.html](http://docs.phonegap.com/en/2.0.0/guide_plugin-development_index.md.html) [https://github.com/phonegap/phonegap-plugins](https://github.com/phonegap/phonegap-plugins)
[https://github.com/phonegap/phonegap-plugins/tree/master/Android/TTS](https://github.com/phonegap/phonegap-plugins/tree/master/Android/TTS)
[https://github.com/macdonst/TTS](https://github.com/macdonst/TTS)
[http://www.raymondcamden.com/index.cfm/2011/10/12/First-test-of-PhoneGap-Plugins](http://www.raymondcamden.com/index.cfm/2011/10/12/First-test-of-PhoneGap-Plugins) [http://en.usenet.digipedia.org/thread/12992/27474/](http://en.usenet.digipedia.org/thread/12992/27474/) [https:// /groups.google.com/forum/?fromgroups=#!msg/phonegap/JSBV8zfbXZ0/JqiLM5HdTF4J](https://groups.google.com/forum/?fromgroups=#!msg/phonegap/JSBV8zfbXZ0/JqiLM5HdTF4J) [http://phonegap.com/blog/2012/09/](http://phonegap.com/blog/2012/09/)

这个链接可能对你有帮助:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-22T21:17:51.280

这应该适用于 ios（和 Android）[https://build.phonegap.com/plugins/1730](https://build.phonegap.com/plugins/1730)

虽然我无法让它工作（使用PhoneGap Build）

# c++ - 从类型列表中擦除类型 C++ 元编程

> ID：14767009
> 
> 赞同：0
> 
> 时间：2013-02-08T06:33:35.313
> 
> 标签：c++, template-meta-programming, loki

从C++ 元编程中的类型列表中**擦除类型**是什么意思。任何人都可以提出任何简单的例子。

```
 class null_typelist {};

    template <class H, class T>
    struct typelist
    {
        typedef H head;
        typedef T tail;

    };
template<class T1, class T2=null_typelist, class T3=null_typelist, class T4=null_typelist> struct List;

    template <class T1, class T2, class T3>
    struct List<T1, T2, T3, null_typelist>
    {
        typedef typelist<T1, typelist<T2, typelist<T3,null_typelist> > > type;

    };

    template <class H, class T>
    class ABC< typelist<H, T> > : public ABC<T>
    {
        ...
    };

    template <class H>
    class ABC< typelist<H, null_typelist> >
    {
    ...
    };

    struct Elements{};
    struct A: Elements{};
    struct B: Elements{};
    struct C: Elements{};

 typedef List<A,B,C>::type MyOBJ;

     struct Createobject : ABC<MyOBJ>
    { 
        ...

    };

    int main()
    {

        Createobject obj;

    } 
```

在这种情况下，如果我必须从类型列表中删除 B。可以删除它吗？以及我如何删除 B 型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:37:23.050

来自 Loki 的 Typelist.h：

```
00233 // class template Erase
00234 // Erases the first occurence, if any, of a type in a typelist
00235 // Invocation (TList is a typelist and T is a type):
00236 // Erase<TList, T>::Result
00237 // returns a typelist that is TList without the first occurence of T 
```

所以，如果一个类型列表`TList`提到 say `int`,`double`和`char`-`Erase<TList, double>::Result`将返回一个类型列表只是`int`and `char`。

如果您只是不了解类型列表是什么，那么也许您应该将其作为一个单独的问题发布，或者也在这里提出......

# c# - 允许快捷键由父表单处理

> ID：14767014
> 
> 赞同：0
> 
> 时间：2013-02-08T06:33:46.610
> 
> 标签：c#, winforms, keyboard-shortcuts, keypress

**场景：** 我创建了一个 Form( `Mainform`)，它是应用程序的父表单或宿主表单——就像 Outlook 中的主屏幕一样。

我`Help`在菜单栏项下创建了一个 BarItem( )，并`F1`使用 Shortcut 属性分配了一个快捷键。

但是如果获得焦点以外的任何其他形式`Mainform`，快捷键都达不到`Mainform`。我该如何解决这个问题？

我无法为从我的`Mainform`.

**类似情况：**例如，当您转到 Microsoft Outlook 中的任何窗口并按`F1`时，无论打开的表单如何，它都会启动一个帮助窗口。我想要类似的行为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:16:28.103

正如我在评论中所说的那样，您可以实现这一点，只需使用`KeyUp Event`您的所有`Form`属性，属性必须是`KeyPreview = true`

```
 private void Form1_KeyUp(object sender, KeyEventArgs e)
    {
        if (e.KeyCode == Keys.F1)
        {
            //do stuff
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T11:55:18.160

消息过滤器可能会有所帮助，并且是在您的情况下使用的适当方法。看看这些： http: [//msdn.microsoft.com/en-us/library/system.windows.forms.imessagefilter.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.imessagefilter.aspx) [http://msdn.microsoft.com/en-us/library/system.windows .forms.application.addmessagefilter.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.application.addmessagefilter.aspx)

这是向上和向下箭头键的消息过滤器示例 [https://stackoverflow.com/a/8257039/818321](https://stackoverflow.com/a/8257039/818321)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T06:51:59.477

在主窗体（如果你愿意的话，父窗体）确保属性`KeyPreview`设置为 true

# php - 使用mysql查询结果作为flexbox的数据

> ID：14767019
> 
> 赞同：0
> 
> 时间：2013-02-08T06:34:10.430
> 
> 标签：php, javascript, jquery, mysql, jquery-flexbox

祝大家美好的一天，我只是在互联网上冲浪并找到一些解决方案，当用户尝试在文本框中键入任何内容时，它有一个自动建议词，然后幸运的是我找到了**flexbox**，它是我正在寻找的所有套件，除了一件事，因为我在 ff lang 中锁定了知识。像javascript jquery，我不知道如何设置它，我不知道如何设置它的数据库。但我有这个指南[http://www.fairwaytech.com/flexbox#config](http://www.fairwaytech.com/flexbox#config)，几分钟后，结合所有代码。我创建了这个： **index.php**

```
<head>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>  
    <script type="text/javascript" src="jquery.flexbox.min.js"></script>  
    <link type="text/css" rel="stylesheet" href="..\css\jquery.flexbox.css" /> 
</head>
<script type="text/javascript">  
    $(function() { 
        $('#fb').flexbox('query.php');  
    });  
</script>
<body>
<form action="result.php" method="post">

        <div id="fb"></div>

</form>
</body> 
```

但我非常非常大的问题是如何在 index.php 中的 query.php 中链接我的查询结果。这是我的**query.php**

```
mysql_select_db('activity');
mysql_query('select per_name from myproject');
?> 
```

在我的 myproject 表中有两个字段 per_id 和 per_name，per_id(int) auto_increment per_name(varchar-100)。感谢读者和帮助者，对不起我的语法错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T06:45:22.867

您必须将列表作为 json 发送，因此使用`json_encode()`和 json 格式是

> 对 results.aspx 的调用是 ajax，应该返回如下所示格式的 JSON 字符串。
> 
> *   “id”属性是字符串或整数，是表单提交时提交的值（如html标签的“value”属性）*   “name”属性是一个字符串或整数，是为每个结果显示的文本，以及当一个结果被选中时（如html打开和关闭标签之间的文本）

根据[文档](http://www.fairwaytech.com/flexbox)

所以，试试这个

query.php**已更新**

```
$records=array();
$result=mysql_query('select * from myproject');
while($row=mysql_fetch_array($result){
   $records[id]=$row['per_id'];
   $records[name]=$row['per_name'];
}
echo json_encode(array('results'=>$records)); 
```

# c# - PointerPressed 在左键单击时不起作用

> ID：14767020
> 
> 赞同：19
> 
> 时间：2013-02-08T06:34:10.320
> 
> 标签：c#, wpf, windows-8, microsoft-metro, controls

在 WPF+C# 上为 Windows 8 创建 Metro (Microsoft UI) 应用程序时，我遇到了按钮上的 PointerPressed 事件的困难。当我执行左键单击（通过鼠标）时不会发生事件，但它会在右键单击或点击的情况下发生。那么这个事件有什么问题呢？例如

```
 <Button x:Name="Somebutton"  Width="100" Height="100"
PointerPressed="Somebutton_PointerPressed"/> 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-02-11T09:09:08.407

解决方案非常简单：这些事件不能通过 XAML 而是通过 AddHandler 方法来处理。

```
SomeButton.AddHandler(PointerPressedEvent, 
new PointerEventHandler(SomeButton_PointerPressed), true); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-04-11T00:56:22.670

我遇到了这个问题，但无法使用接受的答案，因为我的按钮是由 ItemsControl 动态创建的，并且没有好地方可以从中调用 AddHandler。

相反，我将 Windows.UI.Xaml.Controls.Button 子类化：

```
public sealed class PressAndHoldButton : Button
{
    public event EventHandler PointerPressPreview = delegate { };

    protected override void OnPointerPressed(PointerRoutedEventArgs e)
    {
        PointerPressPreview(this, EventArgs.Empty);
        base.OnPointerPressed(e);
    }
} 
```

现在，消费控件可以绑定到 PointerPressPreview 而不是 PointerPressed

```
<local:PressAndHoldButton
    x:Name="Somebutton"
    Width="100" 
    Height="100"
    PointerPressPreview="Somebutton_PointerPressed"/> 
```

如果需要，您可以在重写的 OnPointerPressed 方法中填充一些额外的逻辑，以便它仅在左键单击或右键单击时触发事件。无论你想要什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-20T23:47:56.497

FWIW，我一直面临同样的问题，并通过将事件处理程序添加到其他一些控件（但一个按钮）来解决它。

就我而言，我有一个像这样的`Button`包裹：`SymbolIcon`

```
<Button PointerPressed="OnTempoPressed" PointerReleased="OnTempoReleased">
  <SymbolIcon Symbol="Add" />
</Button> 
```

我所做的只是删除了`Button`包装并将其替换为 a `ViewBox`，然后将处理程序添加到`ViewBox`自身，现在一切正常：

```
<Viewbox PointerPressed="OnTempoPressed" PointerReleased="OnTempoReleased">
    <SymbolIcon Symbol="Add"/>
</Viewbox> 
```

请注意，您会丢失`Button`视觉效果和效果（即悬停等），但对我来说这不是问题。我认为您可以从库存样式中重新应用它们。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-08T06:56:18.850

如果您正在使用 Button 控件，请尝试使用“Click”事件附加事件。

请注意，Button 控件在内部考虑并处理 PointerPressed、MouseLeftButtonDown、MouseLeftButtonUp 和引发 Click 事件。通常 Button 控件不会允许 PointerPressed、MouseLeftButtonDown、MouseLeftButtonUp 事件冒泡并触发。

# objective-c - 将 SSL 证书添加到 iOS 中的 https 请求中？

> ID：14767021
> 
> 赞同：2
> 
> 时间：2013-02-08T06:34:13.403
> 
> 标签：objective-c, nsurlconnection, ssl-certificate

对不起，冗长的问题。到目前为止，我使用以下方法来信任 HTTPS 连接的证书，它工作正常。

```
- (BOOL)connection:(NSURLConnection *)connection canAuthenticateAgainstProtectionSpace:(NSURLProtectionSpace *)protectionSpace {
  return [protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust];
}

- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge {
  if ([challenge.protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust])
    if ([trustedHosts containsObject:challenge.protectionSpace.host])
      [challenge.sender useCredential:[NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust] forAuthenticationChallenge:challenge];

  [challenge.sender continueWithoutCredentialForAuthenticationChallenge:challenge];
} 
```

但是对服务器的每个请求至少需要 10 到 15 秒才能调用这些委托方法。客户将其作为缺陷提出，因此我尝试将证书 .der 保留在捆绑包中，并尝试随请求发送证书、信任、策略对象。我使用下面的代码从 .der 检索证书。

```
NSString *thePath = [[NSBundle mainBundle]
                     pathForResource:@"Mycertificate" ofType:@"der"];
NSData *certData = [[NSData alloc]
                    initWithContentsOfFile:thePath];

CFDataRef myCertData = (__bridge CFDataRef)certData;                 // 1

SecCertificateRef myCert;
myCert = SecCertificateCreateWithData(NULL, myCertData);    // 2
SecPolicyRef myPolicy = SecPolicyCreateBasicX509();         // 3

SecCertificateRef certArray[1] = { myCert };
CFArrayRef myCerts = CFArrayCreate(
                                   NULL, (void *)certArray,
                                   1, NULL);
SecTrustRef myTrust;

OSStatus status = SecTrustCreateWithCertificates(
                                                 myCerts,
                                                 myPolicy,
                                                 &myTrust);  // 4

SecTrustResultType trustResult;
if (status == noErr) {
    status = SecTrustEvaluate(myTrust, &trustResult);       // 5
    [request setClientCertificates:[NSArray arrayWithObject:(id)CFBridgingRelease(myCert)]];
}
//...
NSLog(@"myTrust  %@", myTrust);
// 6
if (trustResult == kSecTrustResultRecoverableTrustFailure) {
    // ...;
}
// ...
if (myPolicy)
    CFRelease(myPolicy); 
```

myCerts 包含我的所有证书对象，myTrust 包含我的受信任对象，myPolicy 包含我的 Policy 对象。我正在向服务器发送如下请求

```
NSURL *url = [NSURL URLWithString:@"https://....."];

NSMutableURLRequest *request = [self setURLRequestWithData:requestParam andURL:url];

_theConnection = [[NSURLConnection alloc] initWithRequest:request delegate:self]; 
```

我不知道如何使用此请求设置证书、信任和策略对象。请在这个问题上帮助我。如何以请求应始终信任服务器证书的方式向服务器发送请求。?? 提前致谢。

# mysql - 在 Centos 服务器上存储电子邮件附件的安全隐患

> ID：14767028
> 
> 赞同：1
> 
> 时间：2013-02-08T06:34:41.977
> 
> 标签：mysql, apache, security, centos, email-attachments

我正在处理一个应用程序，它需要处理传入的邮件到**cs@company.com**。**company.com**邮件帐户通过
Google **Apps for Business**运行。 因此，我通过**IMAP**获取传入的邮件，并将附件存储在服务器文件系统上。 应用程序的用户可以下载附件。 服务器是**Centos 6.3**，应用程序的 Web 界面基于 Apache/PHP/MySql。

 ******我的问题是：
1\. 将附件存储在我的服务器文件系统上会带来什么样的安全风险？
2\. 将附件存储到外部存储（例如**Amazon S3**）是否更安全？
3\. 将附件存储在数据库中是否更安全？******

# android - 如何列出外部存储Android的文件夹

> ID：14767034
> 
> 赞同：1
> 
> 时间：2013-02-08T06:35:08.733
> 
> 标签：android

我正在处理扩展文件。为此，我正在创建一个测试项目，该项目将首先下载（手动将文件保存在设备的外部存储中）。正如谷歌文档中提到的那样，默认情况下下载扩展文件保存在路径/Android/obb/packagename 上设备的外部存储中。现在我希望我可以将我的文件保存在外部存储中。因此，首先我想查看外部存储中的文件夹列表。那么如何做到这一点

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T06:38:27.203

你可以用这个

```
File sdcard = Environment.getExternalStorageDirectory();
File dirs = new File(sdcard.getAbsolutePath());

if(dirs.exists()) {
    File[] files = dirs.listFiles();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:53:08.010

您可以通过使用代码来做到这一点。

```
File extStorageDir=new File(Environment.getExternalStorageDirectory());
    String fileList=extStorageDir.list();

    for(String fileName:fileList)
    sysout("FileName="+fileNAme); 
```

# android - Android CheckBox 全选

> ID：14767035
> 
> 赞同：0
> 
> 时间：2013-02-08T06:35:10.117
> 
> 标签：android, checkbox

我被困在一个场景中。我有一个包含多个项目和一个复选框的列表视图，现在我已经实现了一个功能，当有人按下全选按钮时，应该选择所有列表视图项目复选框，反之亦然。

现在我必须实现，在按下全选后，如果用户取消选中列表项中的某些项目 - 那么应该自动取消选中全选按钮。

```
 /** Select All checkbox functionality here.. */
        mcbSelectAllContact
        .setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
            @Override
            public void onCheckedChanged(CompoundButton buttonView,
                    boolean isChecked) {
                groupListAdapter = new GroupMemberListAdapter(
                        buttonView.getContext(), isChecked);
                mlvGroupContactList.setAdapter(groupListAdapter);
                if (mcbSelectAllContact.isChecked()) {
                    for (int i = 0; i < mBooleanArray.length; i++) {
                        mBooleanArray[i] = true;
                    }
                } else {
                    for (int i = 0; i < mBooleanArray.length; i++) {
                        mBooleanArray[i] = false;
                    }
                }
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:11:51.710

尝试这个：

我尝试从列表视图中获取复选框并将选中的设置为 true。我希望这对你有帮助

```
 selelctAll_button.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {

            if (listview.getCount() > 0) {
                for (int i = 0; i < listview.getCount(); i++) {
                    View view = listview.getChildAt(i);
                    CheckBox check=   (CheckBox)view.findViewById(R.id.checkBox);
                    check.setChecked(true);
                }
        }
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:39:04.583

您应该设置`setOnCheckedChangeListener`所有复选框，并且每当未选中一个时，将其更改`mcbSelectAllContact`为未选中。

# javascript - HTML5离线缓存数据库存储

> ID：14767038
> 
> 赞同：0
> 
> 时间：2013-02-08T06:35:35.283
> 
> 标签：javascript, json, html, offline-caching, offline-browsing

我正在使用 json 字符串作为我的数据库的 HTML5 离线应用程序

```
 [
            {"id":"1","data":"a","group_name":"erwr"},
            {"id":"2","data":"b","group_name":"dasd"},                        
            {"id":"3","data":"c","group_name":"yjg"},         
             -------------------------------
             -------------------------------
                 // it has around 3000 elements
    ] 
```

将整个 json 存储在一个变量中并像这样赋值是个好主意吗

```
var mydatabase = "the above json";
localStorage.setItem('mydb', JSON.stringify(mydatabase )); 
```

我认为 javascript.中 var 的最大字符数存在一些限制，因此可能会丢失 json 中的某些元素。

我使用的另一种选择是将整个东西放在隐藏的 div 中

```
<div id="db" style="display:none">/**the above json**/</div> 
```

并访问喜欢

```
var mydb = $('#db').html();
localStorage.setItem('mydb',mydb); 
```

我的问题是第二种方法是最佳方法吗？如果不是有人请提供另一种最佳方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T01:25:07.943

`localStoage`方法很好。大多数浏览器至少支持 5 MB`localStorage`并且您的数据行看起来很小。Javascript 变量大小没有固定限制。

将其隐藏`<div>`会减慢初始页面加载速度。

# jpa - 创建具有当前日期的帐户

> ID：14767040
> 
> 赞同：0
> 
> 时间：2013-02-08T06:35:47.527
> 
> 标签：jpa

我有一个 mysql 数据库，其中包含电子邮件、通行证和创建日期。

我已经从数据库中导入了实体类。

从实体类创建 jsf 页面。

账户.java

```
@NotNull
    @Size(min = 1, max = 45)
    @Column(name = "email")
    private String email;
    @Basic(optional = false)

@NotNull
    @Size(min = 1, max = 8)
    @Column(name = "login_type")
    private String loginType;
    @Size(max = 45)
    @Column(name = "pwd")
    private String pwd;
    @Basic(optional = false)

@NotNull
    @Column(name = "create_date")
    @Temporal(TemporalType.TIMESTAMP)
    private Date createDate;
    @Basic(optional = false) 
```

系统应`createDate`根据创建帐户的时间自动生成，但我对如何执行此操作感到困惑。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T06:44:28.103

将此功能添加到`Account.java`

```
@PrePersist
public void createdAt() {
    this.createDate = new Date();
} 
```

此函数将在您持久化实体之前自动执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:40:56.830

从您的 xhtml 页面中删除以下代码。不要将日期作为最终用户的输入参数。

```
<h:outputLabel value="#{bundle.CreateAccountLabel_createDate}" for="createDate" />
                    <h:inputText id="createDate" value="#{accountController.selected.createDate}" title="#{bundle.CreateAccountTitle_createDate}" required="true" requiredMessage="#{bundle.CreateAccountRequiredMessage_createDate}">
                        <f:convertDateTime pattern="yyyy/mm/dd HH:mm:ss" />
                    </h:inputText> 
```

相反，在您的托管 bean 中，当您调用添加用户的方法时，将 Sysdate 作为参数传递给您的插入 SQL 查询。

# php - 如何从 PHP CLI 获取 apache 端口

> ID：14767041
> 
> 赞同：0
> 
> 时间：2013-02-08T06:35:54.610
> 
> 标签：php, apache, command-line-interface

`$_SERVER`我们从**浏览器**使用时获取 apache 信息。

我想从**CLI 获取该信息。**. 我怎样才能做到这一点？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:46:00.847

出于同样的原因，当您从 CLI 运行 PHP 时，SERVER_NAME 不可用。

当您从 CLI 运行 PHP 时，您将启动自己的 PHP 解释器，它运行您传递给它的任何代码，而无需任何类型的服务器。因此，从 CLI 来看，PHP 对您没有明确告诉它的 Web 服务器一无所知。

但是，从 PHP 5.4.0 开始，CLI SAPI 提供了一个内置的 Web 服务器。参考[这个](http://www.php.net/manual/en/features.commandline.webserver.php)。

此外，您可以做一个简单`test.php`的如下：

```
<?php
phpinfo();
?> 
```

并从 cmd/终端启动它。

```
prompt>php test.php 
```

让我明确一点，它不会提供通过 HTTP（浏览器）使用时可用的所有变量，但会列出任何可用的变量。

# sharepoint - 使用 powershell 在 sharepoint 中创建站点

> ID：14767044
> 
> 赞同：0
> 
> 时间：2013-02-08T06:36:02.123
> 
> 标签：sharepoint, powershell

尽管我知道 sharepoint，但我是 powershell 的新手。我想使用 Powershell 在 sharepoint 中创建一个站点。找到了一些链接，但“Get”命令会引发错误消息。我是否需要进行任何初始配置/设置才能开始使用 powershell wrt sharepoint？请指导...我如何使用 powershell 在 Sharepoint 中创建站点...

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T13:25:22.953

试试这个，如果你想使用 powershell 远程处理，命令看起来像这样：

```
Invoke-Command -ComputerName MyComputer `
               -FilePath .\Create-WebSite.ps1 `
               -ArgumentList "MySite", "C:\inetpub\MySite", 443 
```

或在本地：

```
.\Create-WebSite.ps1 -WebSiteName "MySite" -PathInfo "C:\inetpub\MySite" -Port 443 
```

这是脚本，我将其命名为**Create-WebSite.ps1**

```
[cmdletbinding(SupportsShouldProcess=$True,ConfirmImpact='High')]  
Param(  
    [Parameter(Mandatory = $True,Position = 0,ValueFromPipeline = $True)]  
    [string]$WebSiteName,  

    [Parameter(Mandatory = $True,Position = 1,ValueFromPipeline = $True)]  
    [string]$PathInfo,

    [Parameter(Mandatory = $false,Position = 3,ValueFromPipeline = $True)]  
    [int]$Port = 80,

    [Parameter(Mandatory = $false,Position = 4,ValueFromPipeline = $True)]  
    [string]$HostHeader
) 

begin
{
    Import-Module WebAdministration
}

process
{
    ForEach-Object {

        New-Item $PathInfo -ItemType Directory -force
        New-Item "$PathInfo\$WebSiteName" -ItemType Directory -force
        Set-Content "$PathInfo\$WebSiteName\app_offline.htm" "$WebSiteName under maintenance" 

        if ($WhatIfPreference.IsPresent) 
        {
            write-host "What if: Performing operation New-WebAppPool -Name $WebSiteName"
            write-host "What if: Performing operation New-Website -Name $WebSiteName -ApplicationPool $WebSiteName -HostHeader $HostName -PhysicalPath $PathInfo -Port $Port"
        }
        else
        {
            New-WebAppPool -Name $WebSiteName 

            New-Website -Name $WebSiteName `
                        -ApplicationPool $WebSiteName `
                        -HostHeader $HostHeader `
                        -PhysicalPath $PathInfo `
                        -Port $Port `
                        -SSL

            New-WebApplication -Site $WebSiteName `
                               -Name $WebSiteName `
                               -PhysicalPath "$PathInfo\$WebSiteName" `
                               -ApplicationPool $WebSiteName
        }

    }
}

end
{} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-11-06T20:14:51.023

要编写管理 SharePoint 的 PowerShell 脚本，您有两个选择

1.  打开 SharePoint shell 并逐行编写脚本
2.  打开 PowerShell ISE 并导入 eh SharePoint snapin 并编写代码

这是您可以在 Powershell ISE 中使用的代码：注意：首先根据您的环境更改变量
，要在 SharePoint 中创建一个站点，您必须创建一个 Web 应用程序，您可以通过以下链接进行操作： [https ://docs.microsoft .com/en-us/powershell/module/sharepoint-server/new-spwebapplication?view=sharepoint-ps](https://docs.microsoft.com/en-us/powershell/module/sharepoint-server/new-spwebapplication?view=sharepoint-ps)

并创建站点编写此代码

```
Add-PSSnapin Microsoft.Sharepoint.powershell -ErrorAction SilentlyContinue
#Variables
#-----------------------------------
$SiteURL = "http://contoso:4455/" #the site URL of webapplication which you have created
$SiteName = "sitename" 
$SiteOwner = "domain\farmadmin" #Primary Site Collection Administrator 
$SecondSiteOwner = "Domian\secondadminuser" #Secondary Site Collection Administrator 
$SiteTemplate = "DEV#0" #Developer Site Template for more site template go to https://vladtalkstech.com/2017/03/sharepoint-2016-site-template-id-list-for-powershell.html

# Create Site Collection

New-SPSite -Name $SiteName -Url $SiteURL -Template $SiteTemplate -OwnerAlias $SiteOwner -SecondaryOwnerAlias $SecondSiteOwner -Confirm:$false 
```

# c# - 在 VS2012 中使用 Debug.Write 编写消息？

> ID：14767046
> 
> 赞同：1
> 
> 时间：2013-02-08T06:36:06.920
> 
> 标签：c#

我在我的 C# 代码中使用以下内容：

```
System.Diagnostics.Debug.Write("xxx"); 
```

但是当我查看输出窗口时，即使我的代码确实执行了这一行，我也看不到任何东西。

这是编写我可以在 VS2012 中看到的消息的正确方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T06:40:47.857

*   `Debug.Write``DEBUG`只有在设置了构建标志时才会起作用。

或者

*   `Debug.Write`如果您在菜单下选中了 Visual Studio 选项“将所有输出窗口文本重定向到即时窗口”，则调用可能不会显示在输出窗口中

> 工具 > 选项 > 调试 > 常规。

要显示`"Tools > Options > Debugging"`，请选中“工具 > 选项 > 显示所有设置”旁边的框。

![调试](../Images/0b50aa331b513c52ae0a65ae52622c39.png)

# android - 在 Android 中---如何检查 TextToSpeech 文本容量（队列容量）？

> ID：14767048
> 
> 赞同：2
> 
> 时间：2013-02-08T06:36:09.563
> 
> 标签：android, google-text-to-speech

有谁知道一次TextToSpeech文本阅读能力的容量？

表示多少千字节的文件 Speak at Time？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-12-15T00:22:53.520

此代码向您显示最大字符数：

```
int num = android.speech.tts.TextToSpeech.getMaxSpeechInputLength(); // num = 4000 characters string maximum 
```

# javascript - 获取 JavaScript 变量到 JSP

> ID：14767049
> 
> 赞同：0
> 
> 时间：2013-02-08T06:36:15.600
> 
> 标签：javascript, mysql, jsp

我正在使用 MySql 和 JSP 做一个销售点网络应用程序，并且在销售模块中我提供了一个自动完成功能以从表中获取项目代码。表格是[IMAGE HERE](http://postimage.org/image/5g6b4z315/)。

问题是我希望`Item Name` `Quantity`和 `Unit Price`出现在相应的文本框中。

我尝试如下：

```
 function getData()
            {   
                var code=document.getElementById("itemCode");

            <%Sales dbObj = new Sales();
                ResultSet rs = dbObj.captureItemDetails(code);// javascript variable
                if (rs.next()) {
            %> 
```

1.  如何在 JSP 代码中获取所需的 javaScript 变量？
2.  有什么解决方案可以解决我不知道的问题吗？

请帮忙 。提前致谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T06:40:44.820

javascript变量不能直接从jsp访问，因为javascript变量在客户端，jsp变量是服务器端变量。

有一种方法可以访问它。

您可以使用隐藏字段来执行此操作，如下所示： **Javascript**

```
<script type="text/javascript">
var el = document.getElementById("jsvar");
el.value = "jsvalue_value";
</script>
<form action="./JSPpage.jsp" >
<input id="jsvar" type="hidden" value="" />
<input type="submit" />
</form> 
```

**JSP**

```
<%
if (request.getParameter("jsvar") != null) { %>
 Javascript variable value: <%=request.getParameter("jsvar")%>
<%   
} 
%> 
```

# php - 一个实体与许多其他实体的原则 oneToOne 映射与数据库模式中的那些不相关

> ID：14767052
> 
> 赞同：2
> 
> 时间：2013-02-08T06:36:36.000
> 
> 标签：php, symfony, doctrine, one-to-one

我有区域实体和 regionEmploymentDetails、regionEducationDetails、regionPowerDetails 实体，它们包含区域就业、教育和权力详细信息。实体是分开的，因为它们拥有不同的数据。下面是类，

```
class Region
{

    /**
     * @var integer
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     *@ORM\OneToOne(targetEntity="RegionEducationDetails")
      @ORM\JoinColumn(name="region_id", referencedColumnName="id")
    **/

    private $education_details;

    /**
     *@ORM\OneToOne(targetEntity="RegionEmploymentDetails")
      @ORM\JoinColumn(name="region_id", referencedColumnName="id")
    **/

    private $employment_details; 

    /**
     *@ORM\OneToOne(targetEntity="RegionPowerDetails")
      @ORM\JoinColumn(name="region_id", referencedColumnName="id")
    **/

    private $power_details;
}

class RegionEducationDetails
{

    /**
     * @var integer
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     * @var integer
     *
     * @ORM\Column(name="region_id", type="integer", length=20)
     */
    private $region_id;
}

class RegionEmploymentDetails
{

    /**
     * @var integer
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     * @var integer
     *
     * @ORM\Column(name="region_id", type="integer")
     */
    private $region_id;
}

class RegionPowerDetails
{

    /**
     * @var integer
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     * @var integer
     *
     * @ORM\Column(name="region_id", type="integer")
     */
    private $region_id;
} 
```

问题是当我使用命令生成模式时

php 应用程序/控制台原则：模式：更新 --force

它生成数据库表，但仅将 Region 实体与 RegionPowserDetails 实体相关联，并且不与其他实体相关联。

它似乎只考虑最后一个映射，因此只与最后一个实体相关。如果我删除权力实体关系，它与权力之前的实体相关，即就业。

我做错什么了吗？这个问题有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T12:37:55.293

区域类应该是，

```
class Region {

/**
 * @var integer
 *
 * @ORM\Column(name="id", type="integer")
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="AUTO")
 */
private $id;

private $education_details_id;

/**
 *@ORM\OneToOne(targetEntity="RegionEducationDetails")
  @ORM\JoinColumn(name="education_details_id", referencedColumnName="id")
**/

private $education_details;

private $employment_details_id; 

/**
 *@ORM\OneToOne(targetEntity="RegionEmploymentDetails")
  @ORM\JoinColumn(name="employment_details_id", referencedColumnName="id")
**/

private $employment_details; 

private $power_details_id;

/**
 *@ORM\OneToOne(targetEntity="RegionPowerDetails")
  @ORM\JoinColumn(name="power_details_id", referencedColumnName="id")
**/

private $power_details;

} 
```

# c++ - 虚函数中的默认参数

> ID：14767053
> 
> 赞同：1
> 
> 时间：2013-02-08T06:36:36.970
> 
> 标签：c++, virtual-functions, default-arguments

请帮我找出背后的原因：

```
#include <iostream>
using std::cout;

class A {
  public:
     virtual void fun(int a = 5) { cout<<a; }
};
class B::public A {
  public:
     void fun(int a = 10) {
        cout<<"Inside A::B::fun().\n";
        cout<<"\n"<<a;
     }
};
int _tmain(int argc, _TCHAR* argv[]) {
  A *obj = new B();
  obj->fun();
  reutrn 0;
} 
```

虽然它正在调用 B::fun()，但仍然打印 5，为什么以及如何工作。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:43:10.883

```
A *obj = new B();
obj->fun(); 
```

在此代码中，`fun()`以多态方式调用 - 调用者（仅）使用 的知识`A::fun()`，但调用被分派到重定向到实现的指针`B::fun()`。该函数参数 - `a`/ `5`- 在重定向调用之前由调用者提供（在编译期间之前的方式） -`A`的默认值是看到的，而不是`B`'s。

如果您想要一些您似乎期望的东西，您可能会发现它可以具有`A::fun(int a = -1)`或其他一些标记值，通过`fun`检查标记值的实现，然后根据需要将其替换为 5 或 10。这样，特定于实现的值会在调用期间而不是之前合并。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:43:45.130

默认参数不以动态调度行为为特征。它们是静态的。Scott Meyers 在“Effective C++”中详细讨论了这一点

# git - Git 源代码控制提供程序

> ID：14767057
> 
> 赞同：0
> 
> 时间：2013-02-08T06:37:03.400
> 
> 标签：git, version-control, github, visual-studio-2012

我在 Visual Studio 中使用 git 源代码控制提供程序。它工作正常，我的问题更多是我在 github 上的存储库中除了我的自述文件之外什么都看不到。这是正常的行为吗？还是我也应该能够看到所有解决方案和 c# 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T06:57:15.370

如果您将本地 Visual Studio 项目/解决方案推送到 GitHub，您会看到更多文件。
例如，请参阅“[从 Visual Studio 2010 将项目上传到 GitHub](https://stackoverflow.com/questions/5437010/uploading-project-to-github-from-visual-studio-2010) ”。

这`README.md`是 GitHub 在创建存储库时创建的默认文件。
您应该在本地克隆该存储库，然后在其中创建一个解决方案，以便您的 Visual Studio 直接在该存储库的本地工作树中工作。

# javascript - 使用父 div id 更改绝对 div 中的 css

> ID：14767064
> 
> 赞同：0
> 
> 时间：2013-02-08T06:37:43.163
> 
> 标签：javascript, jquery, html

```
<html>
<head>
<script src="jquery.min.js"></script>
</head>
<body>
 <div id="disp"> 
   <div>
      hi how are u
   </div>
   <div style="position:absolute;left:50px;top:100px;">
      hello
   </div>
 </div>
 <script type="text/javascript">
  $(function(){
    $("#disp").css({"background-color":"#00ff00"});
  });
  </script>
</body>
</html> 
```

如果您运行此代码，它将打印两个 div 一个是“嗨，你好吗”和“你好”，这里一个 div 有一个绿色一个是白色我已经改变了父 div 的颜色属性。我的问题是为什么下一个 div 没有变成绿色我知道问题是绝对位置我如何处理这种情况

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:56:18.000

只需继承父级的**background-color**属性：

```
<div style="position:absolute;left:50px;top:100px; background-color: inherit"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:44:08.717

在这里，你可以试试这个

```
$('#disp > div').eq(1).css('background-color', 'red'); 
```

希望这可以帮助..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T06:45:29.757

您可以使用`nth-child`css 选择器（即选择`#disp`容器中的第二个子 div）：

```
$("#disp div:nth-child(2)").css({"background-color":"#00ff00"}); 
```

然后，您可以根据需要修改您的 css 样式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T06:52:25.263

你应该写 css 而不是 jquery

```
 #disp > div {
     background:#00ff00;
   } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T06:47:42.833

我没有尝试过，但我想知道以下内容是否可行：

```
$("#disp div).filter(function() {
    return $(this).css("position") == "absolute";
}).css({"background-color":"#00ff00"}); 
```

# jquery - 中途停止后继续slideDown()？

> ID：14767067
> 
> 赞同：1
> 
> 时间：2013-02-08T06:37:54.403
> 
> 标签：jquery, jquery-animate, slidedown

`slideDown()`在我之前停止（或`slideUp()`）中途之后，如何让动画继续？我相信它不会的事实与`slideDown()`仅对最初隐藏的元素起作用的事实有关。这些动画中的元素并没有隐藏。

有没有办法规避这种行为，让 jQuery 在停止后继续动画？（编辑：或者如果您知道使用的替代解决方案`slideDown()`；当然也可以）

请也查看[我的 jsfiddle 示例](http://jsfiddle.net/ETQeC/)，看看我在做什么。

* * *

至于一些背景信息：
我想为表单验证消息实现这种行为。我单独将它们向下滑动，然后在延迟后再次向上滑动。但是，如果用户重新提交表单的速度比消息消失的速度更快，并且某些“新”消息已经存在并且尚未完成动画（向上或向下滑动），我想再次将它们向下滑动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T07:36:03.220

指示是否在`slideDown`中完成`.data()`。如果由于该`stop`功能没有完成，`hide`它`slideDown`又一次。

见**[演示](http://jsfiddle.net/GRRhy/1/)**。

```
$( 'div' ).hide().slideDown(1000, function() {
    $(this).data("completed", "completed");
});
setTimeout( function() {
    $( 'div' ).stop( true );
}, 500 );
setTimeout( function() {
    if ($('div').data("completed") !== "completed") {
        $( 'div' ).hide().slideDown();
    }
}, 2000 ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:26:32.050

您要做的是在动画之前使用 .stop() ，例如

```
$('#element').stop().slideUp(); 
```

[在http://api.jquery.com/stop/](http://api.jquery.com/stop/)查看 jQuery 的示例

如果您需要更多帮助或澄清，请告诉我:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-10T07:44:31.703

像[这样](http://jsfiddle.net/mmUZs/1/)的东西？

```
$( 'div' ).hide().slideDown( 1000 );
setTimeout( function() {
    $( 'div' ).stop( true );
    $( 'div' ).hide().slideDown(1000);
}, 500 ); 
```

对于`slideUp()`在中途，删除`hide()`

```
$( 'div' ).hide().slideDown( 1000 );
setTimeout( function() {
    $( 'div' ).stop( true );
    $( 'div' ).slideUp(1000);
}, 500 ); 
```

# python - 编写可重用的代码

> ID：14767077
> 
> 赞同：4
> 
> 时间：2013-02-08T06:38:30.657
> 
> 标签：python

我发现自己必须不断地为了不同的目的来回更改和调整旧代码，但偶尔为了实现两个版本之前的相同目的。

一个例子是处理素数的函数。有时我需要的是 n 个素数的列表。有时我需要的是第 n 个素数。也许我会在以后的功能中遇到第三个需求。

尽管我必须执行相同的过程但只返回不同的值，但无论如何我都会这样做。我认为必须有更好的方法来做到这一点，而不是不断地更改相同的代码。我想出的可能替代方案是：

1.  返回一个元组或一个列表，但这似乎有点混乱，因为其中会有各种数据类型，包括数千个项目的列表。

2.  使用输入语句来指导代码，虽然我宁愿让它在我单击运行时为我做所有事情。

3.  弄清楚如何利用类特性来返回类属性并在我需要的地方访问它们。这对我来说似乎是最干净的解决方案，但我不确定，因为我还是新手。

4.  只需为每个可重用函数制作五个版本。

我不想成为一个糟糕的程序员，那么哪个选择是正确的选择？或者，也许我可以做一些我没有想到的事情。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T07:21:59.693

# 模块化、可重用的代码

你的问题确实很重要。这在程序员的日常生活中很重要。这是一个问题：

**我的代码可以重用吗？**

如果不是，您将遇到代码冗余，在多个地方有相同的代码行。这是 bug 的最佳起点。想象一下，你想以某种方式改变行为，例如，因为你发现了一个潜在的问题。然后你在一个地方改变它，但你会忘记第二个位置。尤其是当您的代码达到 1,000、10,0000 或 100,000 行代码时。

它在**SRP**中进行了总结，即[*单一职责原则*](http://en.wikipedia.org/wiki/Single_responsibility_principle)。它指出每个类（也适用于函数）应该只有一个决定，即它“应该只做一件事”。如果一个函数做不止一件事，你应该把它分成更小的块，更小的任务。

每次遇到（或编写）包含超过 10 或 20 行（实际）代码的函数时，您都应该持怀疑态度。这样的功能很少坚持这个原则。

对于您的示例，您可以将其标识为单个任务：

1.  一个一个地生成素数（生成意味着`yield`为我使用）
2.  收集`n`素数。使用 1\. 并将它们放入列表中
3.  得到`n`素数。使用 1.，但不保存每个数字，只是等待`n`th。不像 2\. 那样消耗内存。
4.  查找素数对：使用 1.，记住前一个数，如果与当前数的差为 2，则产生这对
5.  收集所有素数对：使用 4\. 并将它们放入列表中
6.  ...
7.  ...

该列表是可扩展的，您可以在任何级别重复使用它。每个函数的代码不会超过 10 行，而且您不会每次都重新发明轮子。

将它们全部放入一个模块中，并从每个脚本中使用它来解决与素数相关的欧拉问题。

一般来说，我为我的欧拉问题脚本创建了一个小型库。你真的可以习惯在“Project Euler”中编写可重用的代码。

# 关键字参数

您没有提到的另一个选项（据我所知）是使用可选关键字参数。如果你认为小的原子函数太复杂（尽管我真的坚持你应该习惯它），你可以添加一个关键字参数来控制返回值。例如，在某些`scipy`函数中有一个参数`full_output`，它接受一个布尔值。如果为 False（默认），则仅返回最重要的信息（例如，优化值），如果为 True，则还返回一些补充信息，例如，优化执行得有多好以及需要多少次迭代才能收敛。

你可以定义一个参数`output_mode`，可能的值`"list"`，`"last"`或者其他任何东西。

# 推荐

坚持使用小的、可重用的代码块。习惯这一点是您可以在“Project Euler”中获得的最有价值的东西之一。

# 评论

如果您尝试实现我为可重用函数提出的模式，您可能会在第 1 点立即遇到问题：如何为此创建生成器样式的函数？例如，如果您使用筛法。但这还不错。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:46:40.467

我的猜测，创建包含以下内容的模块：

1.  私有核心函数（例如：返回第 n 个第一个素数的列表，甚至更一般的东西）
2.  几个使用核心一并以不同方式准备输出的包装器/实用程序函数。（例如：第 n 个素数）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:19:33.227

尽量减少你的函数，并重用它们。

例如，您可能有一个`next_prime`由`n_primes`and重复调用的函数`n_th_prime`。

这也使您的代码更易于维护，就好像您想出了一种更有效的方法来计算素数一样，您所做的就是更改`next_prime`.

此外，您应该使您的输出尽可能中立。如果你的函数返回多个值，它应该返回一个`list`或一个生成器，*而不是*一个逗号分隔的字符串。

# regex - 正则表达式匹配句子中的第一个单词

> ID：14767080
> 
> 赞同：13
> 
> 时间：2013-02-08T06:38:56.310
> 
> 标签：regex, text-segmentation

我正在寻找一个匹配句子中第一个单词的正则表达式，不包括标点符号和空格。例如：“This is a sentence”中的“This”。和“首先，我想说“你好！”中的“第一”

这不起作用：

```
"""([A-Z].*?(?=^[A-Za-z]))""".r 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-08T06:50:20.927

```
(?:^|(?:[.!?]\s))(\w+) 
```

将匹配每个句子中的第一个单词。

[http://rubular.com/r/rJtPbvUEwx](http://rubular.com/r/rJtPbvUEwx)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-07-17T06:28:25.417

您可以使用此正则表达式：`^[^\s]+`或`^[^ ]+`.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-12-22T14:34:16.287

这是一个旧线程，但人们可能像我一样需要这个。如果您的句子以一个或多个空格开头，则上述方法均无效。我这样做是为了得到句子中的第一个（非空）单词：

```
(?<=^[\s"']*)(\w+) 
```

解释：

`(?<=^[\s"']*)`正向向后查找以查找字符串的开头，后跟零个或多个空格或标点符号（您可以在括号之间添加更多），但不要将其包含在匹配中。
`(\w+)`单词的实际匹配，将返回

句子中的以下单词不匹配，因为它们不满足lookbehind。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-08T06:50:35.497

您可以使用此正则表达式：`^\s*([a-zA-Z0-9]+)`.

第一个词可以在捕获的组中找到。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-08T06:40:53.287

```
[a-z]+ 
```

这应该足够了，因为它将获得第一个 az 字符（假设不区分大小写）。

如果它不起作用，您可以尝试`[a-z]+\b`，甚至`^[a-z]\b`，但最后一个假设字符串以单词开头。

# c# - 为 EntityFramework 下拉列表创建 ViewModel

> ID：14767081
> 
> 赞同：0
> 
> 时间：2013-02-08T06:38:57.533
> 
> 标签：c#, asp.net-mvc, entity-framework

我想要一个不需要在控制器 POST 部分中查询数据库的下拉菜单，以便获取下拉选择的 ID，以便它可以作为外键放置在表中。我不明白它是如何在不需要进行查询的情况下关闭的。如果有意义，我希望实体框架为它做繁重的工作？这可能吗？

```
public class BillRate
   {
        public BillRate()
        {
            this.BillRateTickets = new List<Ticket>();
        }

        public long BillRateID { get; set; }
        public decimal TicketBillRate { get; set; }
        public virtual ICollection<Ticket> BillRateTickets { get; set; }
    }

public class Ticket
    {

        public long TicketID { get; set; }

        public virtual BillRate BillRate { get; set; }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:27:18.383

目前尚不清楚你到底是什么意思。如果您不查询数据库，您认为要显示在下拉列表中的项目来自哪里？它们肯定不会来自视图，因为在 HTML 中，当您提交包含`<select>`元素的表单时，只会将选定的值发送到服务器。集合值永远不会发送，因此 ASP.NET MVC 无法为您发明这些值。

如果您想避免访问您的数据库，您可以将此列表存储到缓存中，然后在您的 POST 操作中尝试首先在缓存中查找值。但是这些值必须保存在服务器的某个地方。所以你可以有一个方法，它会首先在缓存中查找值，如果没有找到查询数据库：

```
private IEnumerable<Ticket> GetTickets()
{
    // Try to get the tickets from the cache first:
    var tickets = MemoryCache.Default["tickets"] as IEnumerable<Ticket>;
    if (tickets == null)
    {
        // not found in cache, let's fetch them from the database:
        tickets = db.Tickets.ToList();
        // and now store them into the cache so that next time they will be available
        MemoryCache.Default.Add("tickets", tickets, new CacheItemPolicy { Priority = CacheItemPriority.NotRemovable });
    }

    return tickets;
} 
```

然后你可以有2个控制器动作：

```
public ActionResult Index()
{
    var model = new BillRate();
    model.BillRateTickets = GetTickets();
    return View(model);
}

[HttpPost]
public ActionResult Index(BillRate model)
{
    model.BillRateTickets = GetTickets();
    return View(model);
} 
```

# antlr - 语法粒度的多重选择和经验法则

> ID：14767084
> 
> 赞同：0
> 
> 时间：2013-02-08T06:39:09.930
> 
> 标签：antlr

[我在这里](https://stackoverflow.com/questions/14669870/how-to-use-similar-lexers)和[这里](https://stackoverflow.com/questions/14657396/alternative-between-parser-rule-and-lexer-rule)问了相关问题，现在我有一个新问题，但实际上我是在问一些一般的思维规则。

这是语法：

```
grammar post2;

post2: action_cmd+
        ;

action_cmd
    : cmd_name  action_cmd_def  
    ;

action_cmd_def
    : (cmd_chars | cmd_literal)+   Semi_colon  
    ;

cmd_name
    : 'a'..'z'  ('a'..'z' | '0'..'9' | '_'  )*
    ;

cmd_chars
    : ('a'..'z' | 'A'..'Z' | '0'..'9' | '_' | '.' | ':' | '-' |'\\')
    ;

cmd_literal
    : SINGLE_QUOTE  ~(SINGLE_QUOTE | '\n' | '\r')  SINGLE_QUOTE
    ;

SINGLE_QUOTE
    : '\''
    ;

Semi_colon
    : ';'
    ;

WS : ('\t' | ' ')+  {$channel = HIDDEN;};

New_Line : ('\r' | '\n')+   {$channel = HIDDEN;}; 
```

我收到这个错误并不奇怪 -

```
warning(200): post2.g:16:45: 
Decision can match input such as "'_'" using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input 
```

错误与规则“cmd_name”有关。

我相信原因是，正如 Bart 在另一个线程中指出的那样，当有“abc__”这样的输入时，它可以被解析为“abc_”（cmd_name）和“_”（action_cmd_def/cmd_chars）或“abc__”（cmd_name ）。

这是我的问题：1）如何解决？我尝试在 cmd_name 前添加“options {greedy=true;}”，但错误仍然存​​在。

2）我知道如果我把cmd_name和action_cmd_def合二为一，那么问题就没有了，这就导致了语法粒度的问题。由于ANTLR有这么强大的lexer/parser功能，我很喜欢用语法来过滤掉有意义的字符串，在这种情况下，我知道“action_cmd”的输入数据必须以命令名称字符串开头，然后跟着一些乱七八糟的东西，所以我喜欢把这两部分分开的语法；否则我将不得不使用目标语言（在我的例子中是 C）来编写动作部分，但是更深入的粒度会带来很多麻烦，我怀疑我是否走错了路。

有了这个，我想问一下，你对语法粒度的经验法则是什么？我在使用语法时会发疯吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-15T19:35:31.427

这是一个真正的模棱两可，但贪婪的选择应该适合你。也许它需要在子规则级别？看看这是否有效：

```
cmd_name
    : 'a'..'z' (options {greedy=true;} : 'a'..'z' | '0'..'9' | '_'  )* 
```

至于你问题的第二部分，我认为你的规则粒度很好。如果存在不只需要贪婪标志来解决的歧义，您还可以求助于使用句法谓词。它在 ANTLR 3 书中有很好的记录，但在网站上却不是很好。

这相当于尝试在语法上匹配谓词。如果它成功，那么它真正匹配它，如果它失败，那么它使用其他替代方案。例如，在 C 语言中，您不知道是否有函数声明或定义，直到看到声明的结尾，声明的长度没有下限。因此，您使用句法谓词说“让我们看看它是否是一个声明，如果是，则将其真正匹配，如果不是，则尝试其他替代方案。

```
externalDef
    :       ( "typedef" | declaration )=> declaration
    |       functionDef
    |       asm_expr
    ; 
```

# django - 从现有数据库创建 django 项目

> ID：14767090
> 
> 赞同：0
> 
> 时间：2013-02-08T06:39:40.220
> 
> 标签：django, django-models

我有一个现有的 MySQL 数据库。我想用那个数据库创建一个新的 django 应用程序。

我读到每次在 django 中添加新模型时都需要运行“syncdb”。那个时候在数据库中以`<database_name>.<table_name>`格式添加一个新表。并从该表中获取数据。

从 django 中的现有数据库中获取数据的正确方法是什么？

这是我的模型：

从 django.db 导入模型

```
class Users(models.Model):
    employee_id = models.CharField(max_length=30)
    def __unicode__(self):
        return self.employee_id 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:37:37.537

使用 Django 模型元选项分别设置您的模型`db_table`和`db_column`字段。有关如何使用它们的更多信息，请参阅这些链接： [https ://docs.djangoproject.com/en/dev/ref/models/options/#db-table](https://docs.djangoproject.com/en/dev/ref/models/options/#db-table) [https://docs.djangoproject.com/en/dev/参考/模型/字段/#db-column](https://docs.djangoproject.com/en/dev/ref/models/fields/#db-column)

# javascript - JavaScript / HTML5 - 获取画布对象文本？

> ID：14767092
> 
> 赞同：1
> 
> 时间：2013-02-08T06:39:50.187
> 
> 标签：javascript, html, dom, canvas

我正在使用 javascript / html 并尝试从页面上已经创建的画布对象中获取文本。

我想在页面加载后单击一个按钮并查看画布对象中的文本。这是我正在尝试的代码。

```
var CheckCanvas = document.getElementById(className);
var CheckContext = CheckCanvas.getContext('2d');

alert( 'btn text: ' + CheckContext.Text ); 
```

我也尝试过获取“fillText”属性，但无法从对象中获取文本。

任何帮助将非常感激。我确定这很简单，但我找不到解决方案。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:30:19.350

您将无法从画布对象中获取文本，因为它是图像。但是，您可以在绘制文本之前将文本存储在变量中，然后稍后再输出。

```
var text = "Hello";

conxtext.fillText(text, 100, 100);

alert("value: " + text); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:55:59.457

好的。首先，没有办法使用当前可用的画布方法来做到这一点（或者我不知道）。一种方法是编写自己的课程，但这需要大量工作。我建议你使用像 kineticjs 或 fabricjs 这样的画布库，这样可以很容易地实现这样的功能。这是一个使用fabricjs如何做到这一点的示例。

```
<canvas id="canvas1"></canvas>
<button id="addtext">Add Text </button>
<button id="retText">Retrive Text </button>

var canvas = new fabric.Canvas('canvas1');

document.getElementById('addtext').onclick = function() {
    var textVar = new fabric.Text("Hello World!");
    textVar.left=100;
    textVar.top=100;
    canvas.add(textVar);

  };
document.getElementById('retText').onclick = function() {
     var activeObject = canvas.getActiveObject();
      if (activeObject && activeObject.type === 'text') {
        alert(activeObject.text);
      }
    else
    {
        alert ("No object selected or Selected object not text");
    }
  }; 
```

[jsFiddle在这里。](http://jsfiddle.net/t345F/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:01:18.727

见[http://jsfiddle.net/ws5aK/](http://jsfiddle.net/ws5aK/)

`CheckContext.fillText`有效，但没有这样的属性称为`Text`.

# javascript - 将相同的功能应用于多个链接。显示/隐藏 div

> ID：14767093
> 
> 赞同：1
> 
> 时间：2013-02-08T06:40:06.337
> 
> 标签：javascript, jquery, triggers, toggle

当点击下面的链接时，我需要在用户点击各种按钮时发生。在此处查看测试站点：http: [//tryoutyourwebsite.com/sand](http://tryoutyourwebsite.com/sand)

```
$(document).ready(function() {

  $('#teams').animate({
      marginTop: '-495px'
  }, 200);

  $('.trigger').toggle(function(){

          $('#teams').animate({
              marginTop: '0'
          }, 500);

      },
      function(){
          $('#teams').animate({
              marginTop: '-495px'
          }, 500);
  });
});

<div id="close-teams" class="trigger"><a href="#"><img src="images/up-arrow.png"></a></div>    
<li><div id="open" class="trigger"><a href="#">Teams</a></div></li>
<div id="turtle" class="trigger"><a href="#teams">vote for a team</a></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:25:35.313

这是因为有两个带有 class 的元素，`.trigger`如果切换或不切换，每个元素都会记住自己的状态。

您可以编写单独的函数来单击菜单项和箭头，或者检查是否`#teams div hidden`触发单击：

```
$('.trigger').click(function() {
    if($('#teams').css('marginTop') == "0px") {
        $('#teams').animate({
            marginTop: '-495px'
        }, 500);              
    } else {
        $('#teams').animate({
            marginTop: '0px'
        }, 500);
    }
}); 
```

# css - 如何仅在 Wordpress 主题中删除横幅的 img 边框？

> ID：14767096
> 
> 赞同：2
> 
> 时间：2013-02-08T06:26:10.607
> 
> 标签：css, wordpress, stylesheet

我喜欢 Erudite Wordpress 主题。但是我不希望某些类型的 img 边框，即横幅。我仍然想要媒体库中其他图像的边框。

如何编辑 style.css 以仅删除横幅的边框？

例如，在此页面[中](http://www.clomputing.com/?p=17)。

图像是：

```
<img class="noborder" src="http://www.clomputing.com/wp-content/uploads/2013/02/available-on-appstore.png" width="280" height="80" /> 
```

我在*style.css*中尝试了以下内容：

```
img.noborder { border:none; } 
```

但边界仍然存在。

完整的 style.css 是：

```
.aligncenter {
    display: block;
    margin-left: auto;
    margin-right: auto;
}

.alignleft {
    float: left;
}

.alignright {
    float: right; 
}

img.noborder { border:none; } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:43:39.667

`important`以您的风格尝试使用此 css ：

```
.noborder {
    border: medium none !important;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T02:50:05.487

由于未知原因，`style.css`不包括在内。我必须 ftp 进入该站点并`erudite.css`直接编辑：

```
.entry-content img.no-border {border:0 none; padding:0; margin:0;} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:02:43.403

边框是给父 div 所以即使你给了border:none; 属性添加到您的 img 标签，这将不起作用。您应该从类条目内容（即父 div）中删除边框，而是将边框添加到您想要边框的图像中。

# actionscript-3 - 父母突然变成空 as3

> ID：14767097
> 
> 赞同：0
> 
> 时间：2013-02-08T06:40:22.163
> 
> 标签：actionscript-3

几个月前我刚刚学习了 AS3，如果这对你来说听起来很新手，我很抱歉。

这是我的问题。我去使用removeChild，但是有一个错误说：ArgumentError：错误＃2025：提供的DisplayObject必须是调用者的孩子。

所以，我追踪了父母，它是“空的”。但是当我试图追踪我拥有的每个对象的父对象时，结果还不错。那为什么突然变成null了？并且随机！你知道如何纠正这个吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T08:03:49.120

以下是我如何防范错误 #2025：

```
if ( container.contains( displayObject ) )
    container.removeChild( displayObject ); 
```

但一般来说，请务必只删除您之前添加的 DisplayObject。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:20:03.957

仅供参考，我认为你有一个小错误。

下面的代码相同的错误。

ArgumentError：错误 #2025：提供的 DisplayObject 必须是调用者的子对象。

是你的情况？

```
var mc:MovieClip = new MovieClip();
addChild(mc);
var childMc:MovieClip = new MovieClip();
mc.addChild(childMc);

//this line wrong.
stage.removeChild(childMc); 
```

如果是这种情况，请`stage.removeChild(childMc);`更改为`mc.removeChild(childMc);`

[removeChild()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/DisplayObjectContainer.html#removeChild%28%29)表示从 DisplayObjectContainer 实例的子列表中移除指定的子 DisplayObject 实例。作为`parent.removeChild(child);`

`stage`是`childMc`父母的父母。

`mc`是`childMc`父母。

还是这个案子？

```
var mc:MovieClip = new MovieClip();
addChild(mc);
var childMc:MovieClip = new MovieClip();
mc.addChild(childMc);

stage.removeChild(mc);
while(mc.numChildren)
{
    mc.removeChildAt(0);
} 
```

如果你在这种情况下，mc 会被这条线删除，`stage.removeChild(mc);` 试图 mc child removeChild。已删除 mc，因此发生错误。孩子必须从最下面移除。

改成

```
while(mc.numChildren)
{
    mc.removeChildAt(0);
}
stage.removeChild(mc); 
```

如果你想明确回答。必须附上代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T06:45:05.330

在调用 removeChild 之前，您是否在任何地方使用过 addChild？

孩子应该在您调用 removeChild 的父母的显示列表中。

只要不在舞台上，父级始终为空。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T22:21:22.497

如果你想在不记得它的父母是什么的情况下随意删除孩子，你可以这样做：

```
if( child.parent )  child.parent.removeChild( child ); 
```

# php - 如何更改来自 PHP 中的请求的 IP？

> ID：14767098
> 
> 赞同：0
> 
> 时间：2013-02-08T06:40:29.220
> 
> 标签：php, zend-framework

我正在使用 ZEND_HTTP_CLIENT：

```
$config = array(
  'adapter'      => 'Zend_Http_Client_Adapter_Socket',
  'ssltransport' => 'tls',
  'timeout'      =>  30
);
$client  = new Zend_Http_Client($url , $config); 
```

当我提出这个请求时，有没有办法改变我的 IP？我目前在服务器上有大约 4 个 IP 可供我使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T11:49:46.003

您可以通过您正在使用的适配器更改此设置。如果您使用的是套接字适配器：

```
$options = array(
    'socket' => array(
        // Bind local socket side to a specific interface
        'bindto' => '10.1.2.3:50505'
    )
);

// Create an adapter object and attach it to the HTTP client
$adapter = new Zend_Http_Client_Adapter_Socket();
$client = new Zend_Http_Client();
$client->setAdapter($adapter);

// Method 1: pass the options array to setStreamContext()
$adapter->setStreamContext($options);

// Method 2: create a stream context and pass it to setStreamContext()
$context = stream_context_create($options);
$adapter->setStreamContext($context);

// Method 3: get the default stream context and set the options on it
$context = $adapter->getStreamContext();
stream_context_set_option($context, $options);

// Now, preform the request
$response = $client->request(); 
```

以上内容实际上是从[Zend Manual](http://framework.zend.com/manual/1.12/en/zend.http.client.adapters.html)复制/粘贴的。

如果您使用 Zend 的 Curl 适配器，您可以传递**CURLOPT_INTERFACE** [Curl 设置](http://php.net/manual/en/function.curl-setopt.php)：

```
$adapter = new Zend_Http_Client_Adapter_Curl();
$client = new Zend_Http_Client();
$client->setAdapter($adapter);
$adapter->setConfig(array(
    'curloptions' => array(
        CURLOPT_INTERFACE => '192.168.1.2'
    )
)); 
```

# javascript - 将 onclick 事件分配给全局变量 - javascript

> ID：14767102
> 
> 赞同：0
> 
> 时间：2013-02-08T06:40:43.883
> 
> 标签：javascript, variables, global-variables

我有很多带有“mypoll”类的div。这是我的js代码：

```
var mypoll=[];

$(document).ready(function (){      
    mypoll=document.getElementsByClassName("mypoll");
});

for(var t=0; t<mypoll.length; t++) {
    mypoll[t].getElementsByClassName("deletePoll")[0].onclick=(function() {
        var currentI = t;
        return function() { 
            deletedMyPoll(currentI);
        };
    })();
}
function deletedMyPoll(i){
    var a=document.getElementsByClassName("mypoll")[0].innerHTML;
    alert(a);
} 
```

我得到的错误是

```
cannot set property onclick of undefined. 
```

我的项目中有完全相同的代码（它又大又复杂，我不能在这里全部发布）但它不起作用。

它虽然适用于jsfiddle。

javascript中的全局变量有什么问题吗？我可以那样使用它们吗？

[jsfiddle.net/Vwtmu](http://jsfiddle.net/Vwtmu)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:47:41.790

如果你打算使用 jQuery，你不妨使用它：

```
$(".mypoll").on('click', '.deletePoll', function () {

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:48:24.237

for 循环在 dom 准备好之前运行。

```
$(document).ready(function (){      
    mypoll=document.getElementsByClassName("mypoll");

    for(var t=0; t<mypoll.length; t++) {
        mypoll[t].getElementsByClassName("deletePoll")[0].onclick=(function() {
            var currentI = t;
            return function() { 
                deletedMyPoll(currentI);
            };
        })();
    }

}); 
```

# python - 如何通过python脚本将.xls文件转换为pdf

> ID：14767109
> 
> 赞同：1
> 
> 时间：2013-02-08T06:41:14.050
> 
> 标签：python

我使用 xlwt 模块创建了 .xls。现在我想将这个新创建的 xls 文件转换为 pdf。谁能告诉我如何通过python脚本来做到这一点。我正在使用 python 2.6 版本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:09:43.253

这里至少有两种可能性：要么您`.xls`以单元格的形式读回并生成 PDF，要么您想`.xls`从`.pdf`刚刚创建`.xls`.

在第一种情况下，您可能需要考虑`.pdf`直接编写（您有数据可以`.xls`在某个时候在程序中生成）。我有一个可以用 HTML 格式写出的网格类，或者写成`.xls' (using`xlwt `),`.xlsm `(using`openpyxl `) and to`.pdf `(using`reportlab`）。

如果您`.xls`在`.pdf`. 在这种情况下，使用 subprocess 调用`Microsoft Excel`或`OpenOffice/LibreOffice Calc`使用正确的命令行参数将文件打印/转换为 PDF。

例如，对于 LibreOffice 4.0，命令行将是：

```
scalc --convert-to pdf yourfile.xls 
```

这将导致`yourfile.pdf`

# google-drive-api - Google Drvie Sdk 如何将 C 文件夹从 A 文件夹移动到 B 文件夹？

> ID：14767113
> 
> 赞同：0
> 
> 时间：2013-02-08T06:41:24.660
> 
> 标签：google-drive-api

我想将特定文件夹从 A 文件夹移动到 B 文件夹。我不想复制和删除。我可以得到一些你的信息吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:47:31.833

您可以编辑文件的父集合以从中删除文件夹 A 并添加文件夹 B：

[https://developers.google.com/drive/v2/reference/parents](https://developers.google.com/drive/v2/reference/parents)

# linux - 排除目录 mv unix

> ID：14767116
> 
> 赞同：-1
> 
> 时间：2013-02-08T06:41:37.797
> 
> 标签：linux, shell, unix, command-line-interface

下面的命令移动每个以 *string 结尾但不带 . 或 _ 在它之前。

```
 mv {.,}*[!._]string /destination 
```

我怎样才能排除移动上述命令中的所有目录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T08:17:33.010

尝试

```
find /WHERE/TO/FIND -name '*STRING' \( ! -name '*_STRING' -o ! -name '*.STRING' \) -type f -exec mv \{\} /WHERE/TO/MOVE \; 
```

请注意，如果您只想从`/WHERE/TO/FIND`目录中移动每个文件，您应该添加`-maxdepth 1`（例如在该`-type f`部分之后）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T14:39:00.320

怎么样：

```
for file in {.,}*[!._]string; do test -f "$file" && mv "$file" /destination; done 
```

与 一起使用时 glob在什么外壳中`[!._]`实际工作`{.,}`？您最好避免使用该`{}`符号并执行以下操作：

```
for file in .*[!._]string *[!._]string; do ... ; done 
```

# php - isset($var) == "Test" 和 isset($var) && $var == 'Test" 有什么区别

> ID：14767117
> 
> 赞同：2
> 
> 时间：2013-02-08T06:41:42.990
> 
> 标签：php, isset

`isset($var) == "Test"`和 和有什么不一样`isset($var) && $var == 'Test"`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T06:50:53.533

第一个没有意义。如您所见，[`isset`](http://php.net/manual/en/function.isset.php)返回一个布尔值。所以`isset($var) == "Test"`正如我所说，根据字符串评估布尔值。

在求值`isset($var) && $var == 'Test'`过程中，PHP 首先检查变量 $var 是否已定义，然后检查该值是否等于字符串 'test'。

`$var == 'Test`仅在未确保已设置的情况下调用将导致“未定义变量”通知。如果您不确定并且不想要嘈杂的日志，那么您可以使用 isset 进行检查。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T06:51:55.640

这里有一个简短的例子：

```
$var = "Chuck Test";

var_dump(isset($var)); // bool(true)
var_dump(isset($undefined)); // bool(false)

var_dump(isset($var) == "Chuck Test"); // bool(true)
var_dump(isset($var) && $var == "Chuck Test"); // bool(true)
var_dump(isset($undefined) == "Chuck Test"); // bool(false)
var_dump(isset($undefined) && $undefined == "Chuck Test"); // bool(false) 
```

看起来它们是等效的，但它们不是：

```
var_dump(isset($var) == "Chuck Testa"); // bool(true) !!!
var_dump(isset($var) && $var == "Chuck Testa"); // bool(false) 
```

因为 isset() 返回`true`or `false`，并且一个非空字符串与`true`结果 in相比`true`。

所以最好使用该`isset($var) && $var == "Test"`变体，因为它可以满足您的期望。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T06:50:56.140

`isset()`如果设置了变量，该函数将返回 true（布尔值）。现在，当您比较 boolean == "Test" 时，它是假的。因此，要检查您的变量是否已设置并具有 'Test' 的值，您应该使用`isset($var) && $var == 'Test'`. 但我不明白为什么你不应该做`$var == 'Test'。解释器会以这种方式抱怨未初始化的变量吗？

阅读以下内容，如果您不了解该功能的`isset`实际作用，请提出任何问题：http: [//php.net/manual/en/function.isset.php](http://php.net/manual/en/function.isset.php)

# zend-framework - Zend Framework：存储电子邮件模板的位置

> ID：14767120
> 
> 赞同：2
> 
> 时间：2013-02-08T06:41:55.780
> 
> 标签：zend-framework, zend-mail

我正在编写一个 ZF 应用程序，它会在某些操作发生时生成电子邮件，例如当用户注册时。我的默认邮件设置是在邮件资源插件中设置的。

我的问题是，管理电子邮件模板的最佳方法是什么？它们可以是文本文件、.ini 或代码本身。

在我看来，文本文件是最简单的，但我总是对引入另一种需要管理的文件类型持谨慎态度。有没有人尝试过使用.ini？这是如何运作的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T06:46:57.123

您可以将您的电子邮件模板存储在以下目录中

创建一个视图脚本，如：/views/emails/template.phtml

```
<body>
<?php echo $this->var1; ?>
<h1>Welcome</h1>
<?php echo $this->var2; ?>
</body> 
```

请参阅这已经发布在 stackoverflow 上，这可能对您有帮助[如何在 Zend Framework 中制作电子邮件模板？](https://stackoverflow.com/questions/1218191/how-can-i-make-email-template-in-zend-framework)另一个解决方案还发布[了在 Zend/PHP 中使用电子邮件模板的最佳方法是什么](https://stackoverflow.com/questions/2416217/what-is-the-best-way-to-use-email-template-in-zend-php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T06:47:29.120

我会说 - 绝对不在代码中！它只会使您的代码与您想向用户显示的表示混合在一起。另外，如果您的网站是多语言的 - 它会让您有更大的混乱......好主意是使用某种模板引擎。例如：[如何在 Zend Framework 中制作电子邮件模板？](https://stackoverflow.com/questions/1218191/how-can-i-make-email-template-in-zend-framework)

# qt - QPainTextEdit 添加波浪线

> ID：14767122
> 
> 赞同：2
> 
> 时间：2013-02-08T06:42:29.387
> 
> 标签：qt, qplaintextedit

我正在开发一个小型 SQL IDE 应用程序，它是一个用于为 Oracle 和 DB2 编写 SQL 过程的简洁工具。我使用 Qt 4 作为 GUI 基础。还是想给My SQL IDE增加即时语法检查功能，它会在语法错误的SQL代码下写一波行，就像VS2010和eclipse一样。但我真的不知道如何处理这个功能。我已经将 QPlainTextEdit 用于文档编辑类。如果您能提供一些提示和提示，我将不胜感激！感谢您的时间！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T08:35:44.083

看看[QSyntaxHighlighter](http://qt-project.org/doc/qt-4.8/qsyntaxhighlighter.html)。它包含有关如何使用它的代码示例。QPlainTextEdit 也有一章[Using QPlainTextEdit as an Editor](http://doc.qt.digia.com/stable/qplaintextedit.html#using-qplaintextedit-as-an-editor)。可能对您有用的另一件事是[语法荧光笔示例](http://doc.qt.digia.com/stable/richtext-syntaxhighlighter.html)

# android - 获取配置文件状态

> ID：14767124
> 
> 赞同：0
> 
> 时间：2013-02-08T06:42:36.887
> 
> 标签：android

是否可以获取手机的配置文件，无论是静音模式还是普通模式？我想在广播接收器中检查它。

问题是我不想切换配置文件。我只想得到状态。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:36:41.603

您只需要获取 AudioManager 服务的句柄并通过结果切换大小写。像这样的东西：

```
AudioManager profileCheck = (AudioManager)getSystemService(Context.AUDIO_SERVICE);
if (profileCheck.getRingerMode() == AudioManager.RINGER_MODE_NORMAL)
    // Do something
else if (profileCheck.getRingerMode() == AudioManager.RINGER_MODE_VIBRATE)
    // Do something
else if (profileCheck.getRingerMode() == AudioManager.RINGER_MODE_SILENT)
    // Do something 
```

# javascript - 如何使用 javascript 检测浏览器选项卡刷新或关闭

> ID：14767136
> 
> 赞同：3
> 
> 时间：2013-02-08T06:43:56.933
> 
> 标签：javascript, jquery, html

我有一个问题，我有一个`javascript`功能要在浏览器关闭时使用，我该如何检测`a browser is being closed`？

我已经对我得到的解决方案进行了一些研究，`onunload`或者`beforeunload`当我重新加载页面时这两个功能都在执行，是否有任何解决方案可以区分重新加载和浏览器/选项卡关闭。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T06:45:47.933

不，您不知道，HTML 页面不是浏览器的“所有者”，您只能有限地访问信息，并且此信息不在其中。

您可以知道用户何时离开您的页面，但您不知道为什么，因为这不关您的事......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T07:21:33.420

gdoron 是正确的，因为您无法确定用户“离开页面”的原因/方式。在极端情况下，如果单击浏览器的 CLOSE 按钮并触发警报，您​​也许可以确定 mousedown 事件。但这可能需要跟踪 mousedown 事件的 X 和 Y，这不是一个很好的做事方式。而且我认为您无法准确确定标签是否已关闭。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-16T15:27:42.253

答案是，

```
</head>
<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript" language="javascript">

var validNavigation = false;

function endSession() {
// Browser or broswer tab is closed
// Do sth here ...
alert("bye");
}

function wireUpEvents() {
/*
* For a list of events that triggers onbeforeunload on IE
* check http://msdn.microsoft.com/en-us/library/ms536907(VS.85).aspx
*/
window.onbeforeunload = function() {
  if (!validNavigation) {
     endSession();
  }
 }

// Attach the event keypress to exclude the F5 refresh
$(document).bind('keypress', function(e) {
if (e.keyCode == 116){
  validNavigation = true;
}
});

// Attach the event click for all links in the page
$("a").bind("click", function() {
validNavigation = true;
});

 // Attach the event submit for all forms in the page
 $("form").bind("submit", function() {
 validNavigation = true;
 });

 // Attach the event click for all inputs in the page
 $("input[type=submit]").bind("click", function() {
 validNavigation = true;
 });

}

// Wire up the events as soon as the DOM tree is ready
$(document).ready(function() {
wireUpEvents();  
}); 
</script>    
</head>
<body>
<h1>Eureka!</h1>
  <a href="http://www.google.com">Google</a>
  <a href="http://www.yahoo.com">Yahoo</a>
</body>
</html> 
```

# linux - 无法在 linux 上将存储库克隆到 jenkins

> ID：14767140
> 
> 赞同：1
> 
> 时间：2013-02-08T06:44:12.343
> 
> 标签：linux, ubuntu, github, jenkins, jenkins-plugins

我能够克隆我为我在 jenkins 上的一项工作创建的存储库。然而，克隆作为另一个存储库的分支的存储库在尝试构建它时会出现以下错误 - 关于可能是什么问题的任何建议？

```
Started by user anonymous
Building in workspace /var/lib/jenkins/jobs/client1/workspace
Checkout:workspace / /var/lib/jenkins/jobs/client1/workspace - hudson.remoting.LocalChannel@1d5cac4
Using strategy: Default
Cloning the remote Git repository
Cloning repository https://..... (couldn't disclose the address link here)

    git --version
    git version 1.7.9.5
    ERROR: Error cloning remote repo 'origin' : Could not clone https://.....
    hudson.plugins.git.GitException: Could not clone https://......
        at hudson.plugins.git.GitAPI.clone(GitAPI.java:273)
        at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:1044)
        at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:986)
        at hudson.FilePath.act(FilePath.java:865)
        at hudson.FilePath.act(FilePath.java:838)
        at hudson.plugins.git.GitSCM.determineRevisionToBuild(GitSCM.java:986)
        at hudson.plugins.git.GitSCM.checkout(GitSCM.java:1142)
        at hudson.model.AbstractProject.checkout(AbstractProject.java:1331)
        at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:682)
        at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:88)
        at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:587)
        at hudson.model.Run.execute(Run.java:1557)
        at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:46)
        at hudson.model.ResourceController.execute(ResourceController.java:88)
        at hudson.model.Executor.run(Executor.java:236) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T20:28:08.943

我的第一个猜测是用户 jenkins 正在运行，因为它没有访问 git repo 的权限。

我会尝试登录服务器并运行

```
sudo su <jenkins_user_name>
git clone https://..... 
```

如果已经设置了 SSH 密钥，您可能只需要将服务器添加到您的已知主机。

# android - 如何在 webview android 中播放视频？

> ID：14767147
> 
> 赞同：2
> 
> 时间：2013-02-08T06:44:56.823
> 
> 标签：android, html, video, webview

由于我对 Java 和 Android 应用程序很陌生，我不得不问这个问题，因为我工作了 10 个小时，却什么也做不了。我在 Eclipse 中制作了一个全屏网络应用程序，但我无法在其中看到视频。这是我的代码：

塔里木.java

```
package com.tarim.tarimvideo;

import android.annotation.SuppressLint;
import android.annotation.TargetApi;
import android.app.Activity;
import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.view.MotionEvent;
import android.view.View;
import android.webkit.WebView;
import com.tarim.tarimvideo.util.SystemUiHider;

@SuppressLint("SetJavaScriptEnabled")
public class Tarim extends Activity {

private static final boolean AUTO_HIDE = true;
private static final int AUTO_HIDE_DELAY_MILLIS = 3000;
private static final boolean TOGGLE_ON_CLICK = true;
private static final int HIDER_FLAGS = SystemUiHider.FLAG_HIDE_NAVIGATION;
private SystemUiHider mSystemUiHider;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_tarim);

    final View controlsView = findViewById(R.id.fullscreen_content_controls);
    final View contentView = findViewById(R.id.fullscreen_content);
    WebView webView = (WebView)findViewById(R.id.tarayici);
    webView.getSettings().setJavaScriptEnabled(true);
    webView.loadUrl("http://www.youtube.com/watch?v=W8SCqLkHDqw");

    // Set up an instance of SystemUiHider to control the system UI for
    // this activity.
    mSystemUiHider = SystemUiHider.getInstance(this, contentView,
            HIDER_FLAGS);
    mSystemUiHider.setup();
    mSystemUiHider
            .setOnVisibilityChangeListener(new SystemUiHider.OnVisibilityChangeListener() {
                // Cached values.
                int mControlsHeight;
                int mShortAnimTime;

                @Override
                @TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2)
                public void onVisibilityChange(boolean visible) {
                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB_MR2) {
                        // If the ViewPropertyAnimator API is available
                        // (Honeycomb MR2 and later), use it to animate the
                        // in-layout UI controls at the bottom of the
                        // screen.
                        if (mControlsHeight == 0) {
                            mControlsHeight = controlsView.getHeight();
                        }
                        if (mShortAnimTime == 0) {
                            mShortAnimTime = getResources().getInteger(
                                    android.R.integer.config_shortAnimTime);
                        }
                        controlsView
                                .animate()
                                .translationY(visible ? 0 : mControlsHeight)
                                .setDuration(mShortAnimTime);
                    } else {
                        // If the ViewPropertyAnimator APIs aren't
                        // available, simply show or hide the in-layout UI
                        // controls.
                        controlsView.setVisibility(visible ? View.VISIBLE
                                : View.GONE);
                    }

                    if (visible && AUTO_HIDE) {
                        // Schedule a hide().
                        delayedHide(AUTO_HIDE_DELAY_MILLIS);
                    }
                }
            });

    // Set up the user interaction to manually show or hide the system UI.
    contentView.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View view) {
            if (TOGGLE_ON_CLICK) {
                mSystemUiHider.toggle();
            } else {
                mSystemUiHider.show();
            }
        }
    }); 

}

@Override
protected void onPostCreate(Bundle savedInstanceState) {
    super.onPostCreate(savedInstanceState);

    // Trigger the initial hide() shortly after the activity has been
    // created, to briefly hint to the user that UI controls
    // are available.
    delayedHide(100);
}
View.OnTouchListener mDelayHideTouchListener = new View.OnTouchListener() {
    @Override
    public boolean onTouch(View view, MotionEvent motionEvent) {
        if (AUTO_HIDE) {
            delayedHide(AUTO_HIDE_DELAY_MILLIS);
        }
        return false;
    }
};
Handler mHideHandler = new Handler();
Runnable mHideRunnable = new Runnable() {
    @Override
    public void run() {
        mSystemUiHider.hide();
    }
};
private void delayedHide(int delayMillis) {
    mHideHandler.removeCallbacks(mHideRunnable);
    mHideHandler.postDelayed(mHideRunnable, delayMillis);
}   
} 
```

AndroidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.tarim.tarimvideo"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />
<uses-permission android:name="android.permission.INTERNET"/>

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme">
    <activity
        android:name="com.tarim.tarimvideo.Tarim"
        android:configChanges="orientation|keyboardHidden|screenSize"
        android:label="@string/app_name"
        android:theme="@style/FullscreenTheme" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>

</manifest> 
```

活动.tarim.xml

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="#0099cc"
tools:context=".Tarim" >

<!--
     The primary full-screen view. This can be replaced with whatever view
     is needed to present your content, e.g. VideoView, SurfaceView,
     TextureView, etc.
-->

<TextView
    android:id="@+id/fullscreen_content"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:keepScreenOn="true"
    android:text="@string/dummy_content"
    android:textColor="#33b5e5"
    android:textSize="50sp"
    android:textStyle="bold" />

<!--
     This FrameLayout insets its children based on system windows using
     android:fitsSystemWindows.
-->

<FrameLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fitsSystemWindows="true" >

    <LinearLayout
        android:id="@+id/fullscreen_content_controls"
        style="?buttonBarStyle"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom|center_horizontal"
        android:background="@color/black_overlay"
        android:orientation="horizontal"
        tools:ignore="UselessParent" >

        <Button
            android:id="@+id/dummy_button"
            style="?buttonBarButtonStyle"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="@string/dummy_button" />
    </LinearLayout>

    <WebView
        android:id="@+id/tarayici"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</FrameLayout>

</FrameLayout> 
```

请注意，我在 Java 中只使用了 10 个小时，所以如果你能尽可能简单地解释我，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:02:55.660

如果没有 Flash 的帮助，在 WebView 中看起来是不可能的。请看这个：[Youtube in a webview](https://stackoverflow.com/questions/2292086/play-youtube-video-in-webview)（用于参考）。看看这个 Flash 演示：[Flash 演示](https://stackoverflow.com/questions/4506576/how-to-play-youtube-video-in-webview-in-android)。最后[这](https://developers.google.com/youtube/android/player/)可能也有帮助，它是 Android 的 YouTube API。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:25:48.083

只需在包含视频链接的 SDCARD 中放入一个 .html 文件。（将视频链接称为`content:\\`）。然后将该 .html 文件加载到 webview。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:33:41.983

首先关心编码。这是[一篇文章，其中包含一个工作示例](http://www.broken-links.com/2010/07/08/making-html5-video-work-on-android-phones/)和一些为 Android webkit 编码视频的指南。

然后......当我不得不面对这个问题时，我不得不进行一些研究并找到一些有用的答案。基本上你必须以原生浏览器的方式打开视频

```
public class InredisChromeClient extends WebChromeClient implements OnCompletionListener, OnErrorListener {
    private InterfazWebInredis interfazWeb; // Use Your WebView instance instead

    private VideoView mCustomVideoView;

    private LinearLayout mContentView;
    private FrameLayout mCustomViewContainer;
    private WebChromeClient.CustomViewCallback mCustomViewCallback;
    private LinearLayout mErrorConsoleContainer;
    static final FrameLayout.LayoutParams COVER_SCREEN_GRAVITY_CENTER = new FrameLayout.LayoutParams(
            ViewGroup.LayoutParams.FILL_PARENT,
            ViewGroup.LayoutParams.FILL_PARENT, Gravity.CENTER);

    public InredisChromeClient(InterfazWebInredis iwi) {
        super();
        this.interfazWeb = iwi;
    }

    public void onShowCustomView(View view, CustomViewCallback callback) {
        // super.onShowCustomView(view, callback);
        if (view instanceof FrameLayout) {
            mCustomViewContainer = (FrameLayout) view;
            mCustomViewCallback = callback;
            mContentView = (LinearLayout) interfazWeb.findViewById(R.id.mainContainer);
            if (mCustomViewContainer.getFocusedChild() instanceof VideoView) {
                mCustomVideoView = (VideoView) mCustomViewContainer.getFocusedChild();
                // frame.removeView(video);
                mContentView.setVisibility(View.GONE);
                mCustomViewContainer.setVisibility(View.VISIBLE);
                interfazWeb.setContentView(mCustomViewContainer);
                mCustomVideoView.setOnCompletionListener(this);
                mCustomVideoView.setOnErrorListener(this);
                mCustomVideoView.start();
            }
        }
    }

    public void onHideCustomView() {
        if (mCustomVideoView == null)
            return;
        // Hide the custom view.
        mCustomVideoView.setVisibility(View.GONE);
        // Remove the custom view from its container.
        mCustomViewContainer.removeView(mCustomVideoView);
        mCustomVideoView = null;
        mCustomViewContainer.setVisibility(View.GONE);
        mCustomViewCallback.onCustomViewHidden();
        // Show the content view.
        mContentView.setVisibility(View.VISIBLE);
    }

    @Override
    public void onCompletion(MediaPlayer mp) {
        mp.stop();
        mCustomViewContainer.setVisibility(View.GONE);
        onHideCustomView();
        interfazWeb.setContentView(mContentView);
    }

    @Override
    public boolean onError(MediaPlayer mp, int what, int extra) {
        interfazWeb.setContentView(R.layout.main);
        return true;
    }
} 
```

所以，这段代码的灵感来源于[浏览器的android项目源代码](http://android.git.kernel.org/?p=platform/packages/apps/Browser.git;a=blob;f=src/com/android/browser/BrowserActivity.java;h=0a3fec9a4336f1db4e3ae463c1ba061c59edff24;hb=HEAD)。

好吧，这种行为是全屏打开视频。我不知道是否可以在网页内的自己的框架中播放视频。但是这个解决方案对我有用，我也希望对你有用。

问候

# mysql - 如何删除重复行但基于两列保留 1

> ID：14767148
> 
> 赞同：1
> 
> 时间：2013-02-08T06:44:59.920
> 
> 标签：mysql, sql

我有一个叫做调度程序的表。它包含以下列：

```
ID
sequence_id
schedule_time (timestamp)
processed
source_order 
```

我需要从表中删除重复的行，但保留 1 行具有相同的 schedule_time 和 source_order 用于特定的 sequence_id 其中处理 = 0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T09:41:02.647

```
DELETE yourTable FROM yourTable LEFT OUTER JOIN (
SELECT MIN(ID) AS minID FROM yourTable WHERE processed = 0 GROUP BY schedule_time, source_order
) AS keepRowTable ON yourTable.ID = keepRowTable.minID
WHERE keepRowTable.ID IS NULL AND processed = 0 
```

我从这篇文章申请；P[如何删除重复的行？](https://stackoverflow.com/questions/18932/how-can-i-remove-duplicate-rows) 你看到了吗？

--固定版本--

```
DELETE yourTable FROM yourTable LEFT OUTER JOIN (
SELECT MIN(ID) AS minID FROM yourTable WHERE processed = 0 GROUP BY schedule_time, source_order
) AS keepRowTable ON yourTable.ID = keepRowTable.minID
WHERE keepRowTable.minID IS NULL AND processed = 0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:51:38.727

对于 mysql

```
DELETE a from  tbl a , tbl b WHERE a.Id>b.Id and
a.sequence_id= b.sequence_id and a.processed=0; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T10:11:08.723

删除重复项的最快方法 - 绝对是通过添加索引来强制删除它们，在表中只留下一个副本：

```
ALTER IGNORE TABLE dates ADD PRIMARY KEY (

  ID
  sequence_id
  schedule_time
  processed
  source_order
) 
```

现在，如果您有一个键，您可能需要删除它等等，但关键是，当您将带有 IGNORE 的唯一键添加到具有重复项的表中时 - 行为是删除所有额外的记录/重复项。所以在你添加了这个键之后，你现在只需要再次删除它就可以制作新的副本了:-)

现在，如果您需要进行更复杂的过滤（在其中一个重复项上保留您不能只包含在索引中 - 尽管不太可能），您可以在选择并输入您想要的内容的同时创建一个表- 都在同一个查询中：

```
CREATE TABLE tmp SELECT ..fields..  GROUP BY ( ..what you need..)

DROP TABLE original_table

ALTER TABLE tmp RENAME TO original_table_name 
```

# java - Mail.java:18：错误：找不到符号

> ID：14767149
> 
> 赞同：1
> 
> 时间：2013-02-08T06:45:01.037
> 
> 标签：java, email

```
import java.security.Security;  

 import java.util.Properties;  

 import javax.mail.Message;  

 import javax.mail.NoSuchProviderException;  

 import javax.mail.Session;  
 import javax.mail.Transport;  

 import javax.mail.PasswordAuthentication;  

 import javax.mail.internet.AddressException;  

 import javax.mail.internet.InternetAddress;  

 import javax.mail.internet.MimeMessage;  

 public class SendMail {  

 public String to;  

 public String subject;  

 public String text;  

 SendMail(String to, String subject, String text){  

      this.to = to;  
      this.subject = subject;  

      this.text = text;  

     }  

public void send() throws NoSuchProviderException, AddressException{  

  try 

        {  

           Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());  

           Properties props=new Properties();  

           props.setProperty("mail.transport.protocol","smtp");  

           props.setProperty("mail.host","mail.epro-tech.com");  

           props.put("mail.smtp.auth","true");  

           props.put("mail.smtp.port","465");  

           props.put("mail.debug","true");  

           props.put("mail.smtp.socketFactory.port","465");  

           props.put("mail.smtp.socketFactory.class","javax.net.ssl.SSLSocketFactory");  

           props.put("mail.smtp.socketFactory.fallback","false");  

           Session session=Session.getDefaultInstance(props,new GJMailAuthenticator());  

           session.setDebug(true);  
           Transport transport=session.getTransport();  

           InternetAddress addressFrom=new InternetAddress("itopstest@epro-tech.com");  

           MimeMessage message=new MimeMessage(session);  

           message.setSender(addressFrom);  

           message.setSubject(subject);  

           message.setContent(text,"text/html");  

           InternetAddress addressTo=new InternetAddress(to);  

           message.setRecipient(Message.RecipientType.TO,addressTo);  

           transport.connect();  

           Transport.send(message);  

           transport.close();  
           System.out.println("DONE");  

         }  

         catch(Exception e)  

         {  

           e.printStackTrace();  

         }  

    }  

 }  

class GJMailAuthenticator extends javax.mail.Authenticator{  

     protected PasswordAuthentication getPasswordAuthentication()  

     {  

         return new PasswordAuthentication("itopstest@epro-tech.com","Ops@890T");  

     }  

 } 

 public class Mail extends SendMail {  

     public static void main(String[] args) {  

         String to = "noreply@eprocorp.com";  

         String subject = "Test";  

         String message = "A test message";  

         SendMail SendMail = new SendMail(to, subject, message);  

                 try 

                 {  

                     SendMail.send();  

                }  

                 catch (Exception e)  

                 {  

                     //  

                 }  

     }  

 } 
```

收到错误

```
Mail.java:18: error: cannot find symbol
         SendMail SendMail = new SendMail(to, subject, message);
         ^
  symbol:   class SendMail
  location: class Mail
Mail.java:18: error: cannot find symbol
         SendMail SendMail = new SendMail(to, subject, message);
                                 ^
  symbol:   class SendMail
  location: class Mail
2 errors 
```

任何人都可以建议我如何纠正这个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:16:18.850

代码已经包含一个构造函数

SendMail(String to, String subject, String text) {
this.to = to;
this.subject = 主题；
this.text = 文本；
}

```
 even at extends in the class Mail i can see the errors 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:06:42.767

我可以看到有问题。

1.  Mail 类扩展了没有默认 cunstructor 的 SendMail 类。所以要么在 SendMail 类中创建一个默认的 cunstructor，要么在 Mail 类中创建一个参数化 cunstructor

2.  `SendMail.send();`在这里我猜编译器正在尝试访问 SendMail 类的静态方法。创建您的对象`SendMail sendMail = new SendMail(to, subject, message);`并访问发送方法`sendMail.send();`

3.  为您的两个类提供正确的包名称，因为您的类具有可以在 jar 中找到的通用名称。

# eclipse - Eclipse：远程调试时选择本地文件还是共享文件

> ID：14767150
> 
> 赞同：0
> 
> 时间：2013-02-08T06:45:04.503
> 
> 标签：eclipse

我做了一些代码更改并将代码部署到位于远程的 Jetty 服务器。通过浏览器访问应用程序，我正在尝试调试 Application 。

请告诉我是否需要从 Eclipse 调试配置中选择本地文件或共享文件。

请在此处查看屏幕截图。 ![在此处输入图像描述](../Images/d8f739199d57154b67df825dfb45667e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T22:26:35.510

屏幕截图中显示的选项不会帮助您自动将代码部署到远程 Jetty。

该选项仅允许您在 Eclipse 工作区中共享启动配置（远程 Java 应用程序 - ManageWatchlistCall）。这将允许您在版本控制系统中检查启动配置，以便您的同事自动获得 sme 远程 Java 应用程序启动配置。

为了将新代码发送到您的远程服务器，只有 2 个选项：

*   在远程服务器上重新部署您的应用程序。
*   将代码段热部署到远程支持（如果服务器支持）
*   使用热插拔错误修复（适用于小修复）（*）

> (*) 如果您正在运行 Java 虚拟机 (JVM) V1.4 或更高版本，Eclipse 支持称为 Hotswap Bug Fixing 的功能（在 JVM V1.3 或更低版本中不可用）。它允许在调试器会话期间更改源代码，这比退出应用程序、更改代码、重新编译然后开始另一个调试会话要好。要使用此功能，只需更改编辑器中的代码并继续调试即可。

# ruby-on-rails - 使用关系的未定义方法“index_path”

> ID：14767153
> 
> 赞同：0
> 
> 时间：2013-02-08T06:45:13.060
> 
> 标签：ruby-on-rails

使用 device 和 carrierwave gem 时出现以下错误：

```
undefined method `user_media_index_path'
.Showing .../user_medias/new.html.erb where line #3 raised: 
```

我在 user_media 模型中添加了 user_id 索引

我已经成功地为单个模型实现了文件上传，但我不知道如何使用单独的模块来实现。

**新的.html**

```
form_for @media, :html =>{:multipart =>true} do |f|
  Upload an Image  f.file_field :image
  f.submit 
end 
```

这是使用设备 gem 生成的用户模型：

**用户.rb**

```
class User < ActiveRecord::Base

  devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :trackable, :validatable

  attr_accessible :email, :password, :password_confirmation, :remember_me

  has_many :user_media, dependent: :destroy

end 
```

它是存储用户媒体（如图像等）的模型；我现在仅将其用于图像，但为了将来添加更多类型的媒体，我创建了此 user_media 模型

**用户媒体.rb**

```
class UserMedia < ActiveRecord::Base
  attr_accessible :anudio, :image, :video
  belongs_to :user

  mount_uploader :image, MediaUploader
end 
```

当要求创建上传图像的操作时，它会被重定向到这里

**用户媒体控制器**

```
class UserMediasController < ApplicationController
  def new
    @media = UserMedia.new
  end

  def create
    @media=current_user.user_media.build(params[:media])

    if @media.save
      render'index'
    else
      render'new'
    end
  end
end 
```

路线详情如下：

**路线.rb**

```
Projectx::Application.routes.draw do
  get "dashboard/index"
  resources :dashboard, :UserMedias
  get "home/index"
  devise_for :users

  root :to => 'home#index'

  match 'uploder' =>'UserMedias#new' 
```

**添加@peter建议的资源后，**rake routes 会输出这一切****

 **```
         dashboard_index GET /dashboard/index(.:format) 仪表盘#index
                         获取 /dashboard(.:format) 仪表板#index
                         POST /dashboard(.:format) 仪表板#create
           new_dashboard GET /dashboard/new(.:format) 仪表板#new
          edit_dashboard GET /dashboard/:id/edit(.:format) 仪表板#edit
               仪表板 GET /dashboard/:id(.:format) 仪表板#show
                         PUT /dashboard/:id(.:format) 仪表板#update
                         删除 /dashboard/:id(.:format) 仪表板#destroy
             user_medias GET /user_medias(.:format) user_medias#index
                         POST /user_medias(.:format) user_medias#create
          new_user_media GET /user_medias/new(.:format) user_medias#new
         edit_user_media GET /user_medias/:id/edit(.:format) user_medias#edit
              user_media GET /user_medias/:id(.:format) user_medias#show
                         PUT /user_medias/:id(.:format) user_medias#update
                         删除 /user_medias/:id(.:format) user_medias#destroy
              home_index GET /home/index(.:format) home#index
        new_user_session GET /users/sign_in(.:format) 设计/会话#new
            user_session POST /users/sign_in(.:format) 设计/会话#create
    destroy_user_session 删除 /users/sign_out(.:format) 设计/会话#destroy
           user_password POST /users/password(.:format) 设计/密码#create
       new_user_password GET /users/password/new(.:format) 设计/密码#new
      edit_user_password GET /users/password/edit(.:format) 设计/密码#edit
                         PUT /users/password(.:format) 设计/密码#update
cancel_user_registration GET /users/cancel(.:format) 设计/注册#cancel
       user_registration POST /users(.:format) 设计/注册#create
   new_user_registration GET /users/sign_up(.:format) 设计/注册#new
  edit_user_registration GET /users/edit(.:format) 设计/注册#edit
                         PUT /users(.:format) 设计/注册#update
                         删除 /users(.:format) 设计/注册#destroy
                    根/主页#index
                 上传者 /uploder(.:format) user_medias#new

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T08:39:57.393

错误指向您的路线文件中缺少的路线。将此添加到您的路线

```
resources :user_medias 
```**

# javascript - 有没有比一个一个地进行多个 JavaScript 替换调用更好的方法？

> ID：14767159
> 
> 赞同：0
> 
> 时间：2013-02-08T06:45:34.253
> 
> 标签：javascript, jquery, string, performance, replace

我正在用 Javascript 构建一个包含 HTML 的字符串。

现在，我正在做这样的事情：

```
var filter = "";
filter = util.getTemplate( "tmp_filter", temps );
filter = filter.replace( 'id="tmp_filter"','');
if (dyn.table.i18n) {
    filter = filter.replace(util.regex.re_text, dyn.filter.clear_tx);
} else {
    filter = filter.replace('data-i18n="[title]tmp_text"', 'title="'+dyn.filter.clear_tx+'" ');
    filter = filter.replace('data-i18n="tmp_text">','>'+dyn.filter.clear_tx);
}
filter = filter.replace(util.regex.re_theme, dyn.filter.theme);
filter = filter.replace(util.regex.re_icon, dyn.filter.icon);
filter = filter.replace(util.regex.re_iconpos, dyn.filter.iconpos);
filter = filter.replace('class="ui-listview-filter ', 'class="ui-listview-filter '+ dyn.custom_classes[0]+' '); 
```

它拉出一个模板并用`dyn`.

虽然这有效，但它的替换调用非常多。在 SQL 中，我可以嵌套这样的替换调用

```
SELECT LEN(REPLACE(REPLACE(address, ' CA', ''), ' NY', '')) FROM Tbl 
```

**问题：**
在 Javascript 中是否有更好的方法来进行多次`replace`调用？我不介意代码的长度，但我对`filter = filter.replace`. 只是想知道是否有更好的方法？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:56:02.773

您可以链接所有替换

# sql - 谷歌电子表格查询功能列ID不是列的字母

> ID：14767160
> 
> 赞同：2
> 
> 时间：2013-02-08T06:45:38.930
> 
> 标签：sql, google-apps-script, google-sheets

好吧...不确定这些是否可以完成。

我在谷歌电子表格中，单元格 A1 = time.. 范围是 A1:C4。

我有一个简单的表格如下：

```
time   sit   stand 
1      bob   mike
2      fred  pat
3      chris mike 
```

这是我的查询：

```
=query($A$1:$C$4,"select A,B,C where C='mike'",0) 
```

......非常直截了当。但是，我希望列引用是动态的。所以我需要能够使用标题进行查询。我该怎么做？我已经尝试过以下方法：

```
=query($A$1:$C$4,"select 'sit ', 'stand' where 'stand' = 'mike' ",0)

=query($A$1:$C$4,"select sit, stand where stand = 'mike' ",0) 
```

并根据此页面的建议： [Google 电子表格查询错误 - 列不存在](https://stackoverflow.com/questions/11650331/google-spreadsheet-query-error-column-doesnt-exist)

我还尝试了以下方法：

```
=query($A$1:$C$4,"select Col2, Col3  where Col3 = 'mike' ",0)

=query($A$1:$C$4,"select Col2, Col3  where (Col3) = 'mike' ",0)

=query($A$1:$C$4,"select (Col2), (Col3)  where (Col3) = 'mike' ",0)

=query($A$1:$C$4,"select 'Col2', 'Col3'  where 'Col3' = 'mike' ",0) 
```

他们都没有工作......有人知道怎么做或知道是否可能吗？

[https://developers.google.com/chart/interactive/docs/querylanguage](https://developers.google.com/chart/interactive/docs/querylanguage)

此处的示例似乎您可以做到，但这仅适用于应用程序脚本吗？而不是在电子表格功能中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T20:27:24.387

不幸的是，在 QUERY 电子表格函数 select 子句中没有通过标题引用列的本地方式。

如果 QUERY 的第一个参数不是显式引用的范围，则可以使用 Colx 表示法。实现此目的的一种方法是将范围括在括号中，并调用 ArrayFormula：

`=ArrayFormula(QUERY(($A$1:$C$4),"select Col2, Col3 where Col3 = 'mike'",0))`

它相当难看，但您可以使用 MATCH 函数来插入标题引用：

`=ArrayFormula(QUERY(($A$1:$C$4),"select Col"&MATCH("sit";$A$1:$C$1;0)&", Col"&MATCH("stand";$A$1:$C$1;0)&" where Col"&MATCH("stand";$A$1:$C$1;0)&" = 'mike'",1))`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-07-01T17:13:40.853

我也遇到过这个问题，但没有解决方案，所以我编写了一个脚本，允许在查询中引用列。要使用： 1\. 创建一个单独的表并将“[SHEET NAME]”设置为数据表的名称 2\. 创建一个名称范围（从工具菜单），它是存储列 ID 的行，例如 A1:K1 3 .将代码中的[COLUMNIDs ROW REFERENCE]更改为命名范围。现在在查询列 id 示例之前的简单前缀 $ 字符时： `=QUERY([SHEET_NAME]!A4:F, _Select(" * WHERE $[COLUMNID] < $[COLUMNID2]")`

```
function _Select(squery){
  var sheetName = "[SHEET NAME]";
  var sheet = SpreadsheetApp.getActive().getSheetByName(sheetName);
  var colIndex = sheet.getDataRange().getColumn();
  var colIndex2 = sheet.getDataRange().getLastColumn();

  var rangeString = sheetName+"!"+sheet.getRange(3, colIndex, 1, colIndex2).getA1Notation();

  return "SELECT "+yq(rangeString, squery);
}

function yq(range, sQuery) {
  var sheetName = SpreadsheetApp.getActiveSheet().getSheetName();
  if( (typeof range == "object") && (range !== null) ){
    sheetName = range.getSheet().getName();
    range = range.getA1Notation();
  }else{
    var tRange = range.split("!");
    if(tRange.length > 1){
      sheetName = tRange[0]
      range = tRange[1];
    }
  }

  var sheet = SpreadsheetApp.getActive().getSheetByName(sheetName);
  var range = sheet.getRange(range);

  var qInput = sQuery.split(" ");
  var outQuery = [];
  for(var i = 0; i < qInput.length; i++){
    if(qInput[i].charAt(0) == "$"){
      var colIndex = getHeaderValues(sheet, qInput[i].slice(1), range, "[COLUMNIDs ROW REFERENCE]");
      outQuery.push(colIndex.toString());
    }else{
      outQuery.push(qInput[i]);
    }
  }

  return outQuery.join(" ");
}

function getHeaderValues(sheet, columnName, range, columnHeaderRow){
  var columnHeaderRowIndex = range.getRowIndex() - 1;
  if(!isNaN(parseFloat(columnHeaderRow)) && isFinite(columnHeaderRow)){
    columnHeaderRowIndex = range.getRowIndex() + columnHeaderRow;
  }else if(typeof columnHeaderRow == "string"){
    columnHeaderRowIndex = SpreadsheetApp.getActive().getRangeByName(columnHeaderRow).getRowIndex();
  }  
  var numColumns = range.getLastColumn() - range.getColumn() + 1;
  var headersRange = sheet.getRange(columnHeaderRowIndex, range.getColumn(), 1, numColumns);
  var headers = headersRange.getValues()[0];
  var hIndex = null;
  for(var i = 0; i < headers.length; i++){    
    if(headers[i] == columnName){
      hIndex = headersRange.getColumn() + i;
      hIndex = sheet.getRange(headersRange.getRow(), hIndex).getA1Notation();
      return hIndex.charAt(0);
    }
  }
  return null;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-28T20:51:05.100

嗨，我有另一个解决方案。我打破了可以读取洞东西的线条。

```
=query($A$1:$C$4,"select "

&CHAR(MATCH("time";1:1;0)+64)
&","
&CHAR(MATCH("sit";1:1;0)+64)
&","
&CHAR(MATCH("stand";1:1;0)+64)

&"where C='mike'",0) 
```

仍然不好，并且您被限制为 24 列。因为在那之后你需要分裂。一点都不喜欢 :(

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-14T05:19:00.450

我发现您可以做两件事来改进查询列引用：

1.  将列引用搜索放在另一个单元格（图例）中并使用

    ```
    =query(A:C,"select "&D2&" where "&E2&" starts with '"&E3&"' ") 
    ```

    例如 D2 = A, E2 = C, E3 = foo

    这样做的好处是允许您通过编辑单元格而不是公式来更改查询术语，并且在您添加/移动列时也不会中断。您可以更进一步并命名范围以使其看起来像

    ```
    =query(A:C,"select "&cats&" where "&name&" starts with '"&search&"' ") 
    ```

2.  通过弄乱范围将其切换到 Col[n] 参考模式

    ```
    =query({A:C},"select Col1 where Col3 matches 'foo' ") 
    ```

    这使您能够在不破坏数据集的情况下四处移动数据集，但如果您在范围中插入更多列，则会破坏它。

# ios - 来自 NSString 的子字符串

> ID：14767167
> 
> 赞同：17
> 
> 时间：2013-02-08T06:46:22.007
> 
> 标签：ios, nsstring, substring

我正在使用`NSString`并且我想获取它的子字符串，其中包含我的字符串的前 20 个字符。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-02-08T06:50:47.433

您可以使用`substringToIndex`.

```
NSString *mystring = @"This is a test message having more than 20 characters";
NSString *newString = [mystring substringToIndex:20];
NSLog(@"%@", newString); 
```

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2013-02-08T06:50:30.723

```
NSString *str = @"123456789012345678901234";
NSString *subStr = [str substringWithRange:NSMakeRange(0, 20)]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T06:52:51.053

```
NSString *string = @"I am having a simple question.I am having NSString and i want a substring of it that contains first 20 ";
NSString *first20CharString = [string substringToIndex:20]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T06:56:08.180

试试这个

```
NSString *string = @"This is for testing substring from string";
    NSInteger intIndex = 20;
    NSLog(@"%@", [string substringToIndex:intIndex]); 
```

希望对你有帮助。。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T06:53:14.043

请检查以下内容：

```
NSString *strTmp = @"This is test string to check substring.";
NSInteger intIdx = 20;
NSLog(@"%@", [strTmp substringToIndex:intIdx]); 
```

这将对您有所帮助。

干杯!

# c# - GridViewRow 在 DataGrid 中为空

> ID：14767169
> 
> 赞同：1
> 
> 时间：2013-02-08T06:46:25.870
> 
> 标签：c#, .net, wpf, datagrid

我是 WPF 的新手。我在我的 wpf 项目中将数据表绑定到数据网格。我的 DataGrid 中有按钮，并且在按钮单击事件中，我试图找到 GridViewRow。但我将 Grdrow1 设为空。

我的代码：

```
<my:DataGrid Name="GridView1" ItemsSource="{Binding}" AutoGenerateColumns="False" >
    <my:DataGrid.Columns>
        <my:DataGridTemplateColumn Header="Vehicle Reg. No." Width="SizeToCells">
            <my:DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                    <Button Name="btnUserId" Cursor="Hand"  Click="btnUserId_Click" Content="{Binding Path=VehicleReg }" Style="{StaticResource LinkButton}"></Button>
                </DataTemplate>
            </my:DataGridTemplateColumn.CellTemplate>
        </my:DataGridTemplateColumn>
        <my:DataGridTextColumn Header="Vehicle Name"  Binding="{Binding Path=VehicleName}">
        </my:DataGridTextColumn>
    </my:DataGrid.Columns>
</my:DataGrid> 
```

我的 C# 代码是：

```
private void btnUserId_Click(object sender, RoutedEventArgs e)
{            
    GridViewRow Grdrow1 = ((FrameworkElement)sender).DataContext as GridViewRow;
} 
```

--------我的编辑帖子------

我为 GridViewRow 使用了以下命名空间：-

使用 System.Web.UI.WebControls；

这是当前的还是我必须使用的其他任何东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:11:40.027

在代码隐藏构造函数中：

```
 public Window1()
    {
        InitializeComponent();
        var dt = new DataTable();
        dt.Columns.Add("col1");
        dt.Columns.Add("col2");
        dt.Rows.Add("11", "12");
        dt.Rows.Add("21", "22");
        this.GridView1.DataContext = dt;
    } 
```

`btnUser_Click`：

```
 private void btnUserId_Click(object sender, RoutedEventArgs e)
    {
        var Grdrow1 = ((FrameworkElement)sender).DataContext as DataRowView;
    } 
```

你得到了行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:41:36.257

首先，请确保您没有将 DataGrid 与 GridView（ListView 的）混淆。似乎您的 Xaml 正在使用 DataGrid，但您试图转换为 DataGrids 中不存在的 GridViewRow。您可能正在寻找 DataGridRow。

然而，做出这种改变是不够的——你仍然会尝试一个不会成功的演员表。WPF 中 Click 事件的发送者只是用于连接事件处理程序的对象，在本例中为 Button。为了找到包含此 Button 的 DataGridRow，您必须沿着 WPF 可视化树向上走，直到使用 VisualTreeHelper 类找到它。

保持相同的 Xaml，这是我为 Click 事件处理程序提出的建议。请注意，发送者是按钮。从那开始，我们只需使用 VisualTree.GetParent 方法爬上可视树，直到找到第一个 DataGridRow 类型的对象。

```
private void btnUserId_Click(object sender, RoutedEventArgs e)
{            
    Button button = sender as Button;
    if (button == null)
        return;

    DataGridRow clickedRow = null;
    DependencyObject current = VisualTreeHelper.GetParent(button);

    while (clickedRow == null)
    {
        clickedRow = current as DataGridRow;
        current = VisualTreeHelper.GetParent(current);
    }

    // after the while-loop, clickedRow should be set to what you want
} 
```

# extjs - Ext - init 上的 javascript null 异常 - hiddenField

> ID：14767170
> 
> 赞同：0
> 
> 时间：2013-02-08T06:46:32.393
> 
> 标签：extjs

我的 Ext (Sencha) 页面在初始化时抛出这个 JS 错误：

```
Uncaught TypeError: Cannot read property 'value' of null - ext-all-debug.js:89797 
```

它在这一行出错：

```
 startUp: function () {
    var me = this;

    me.currentToken = me.hiddenField.value 
```

因为“hiddenField”为空。如果不粘贴整个页面内容（它非常大，并且在 NDA 下），任何人都可以告诉我应该在我的页面上查找导致这种情况的内容吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:03:01.860

看起来您正在使用历史记录并且没有创建它需要的适当的隐藏/iframe 元素。查看您正在使用的版本的历史示例。

# mysql - 修改列与更改列

> ID：14767174
> 
> 赞同：60
> 
> 时间：2013-02-08T06:47:09.653
> 
> 标签：mysql, alter-table

我知道，我们不能使用 重命名列`modify column syntax`，但是可以`change column syntax`。

我的问题是： 的主要用途是`modify syntax`什么？

例如，

```
alter table tablename change col1 col1 int(10) not null 
```

代替

```
alter table tablename modify col1 int(10) not null 
```

**已编辑的**
问题已替换

的主要用途是`modify syntax`什么？

上面的问题被下面的问题取代了

为什么我们必须使用更改列而不是修改列？

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2013-02-08T07:12:47.873

CHANGE COLUMN 如果您已经创建了 MySQL 数据库，并且在您的某个列命名错误之后决定，您不需要删除它并进行替换，您可以简单地使用**change column**重命名它。

```
ALTER TABLE MyTable CHANGE COLUMN foo bar VARCHAR(32) NOT NULL FIRST; 
```

MODIFY COLUMN 这个命令可以做 CHANGE COLUMN 可以做的所有事情，但不会重命名列。如果你需要在 MySQL 中调整列的大小，可以使用 modify SQL 命令。通过这样做，您可以允许比以前更多或更少的字符。您不能使用 modify 和 other 重命名列

```
ALTER TABLE MyTable MODIFY COLUMN foo VARCHAR(32) NOT NULL AFTER baz; 
```

**注意：ALTER TABLE 用于更改表意味着更改列名、大小、删除列。没有 ALTER TABLE 命令的帮助，不能使用 CHANGE COLUMN 和 MODIFY COLUMN 命令。**

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2019-10-28T09:35:35.907

区别在于您是要更改列名、列定义还是两者都更改。

### 改变

可以更改列名或定义，或两者都更改
`ALTER TABLE t1 CHANGE a b BIGINT NOT NULL`

### 调整

可以更改列定义但不能更改其名称
`ALTER TABLE t1 MODIFY b INT NOT NULL`

### 重命名列（来自 MySQL 8.0）

可以更改列名但不能更改其定义
`ALTER TABLE t1 RENAME COLUMN b TO a`

* * *

*此外，`CHANGE`and`MODIFY`后面可以跟一个可选的`COLUMN`关键字。*

完整解释：

1.  [MySQL 5.7 Docs - 重命名、重新定义和重新排序列](https://dev.mysql.com/doc/refman/5.7/en/alter-table.html#alter-table-redefine-column)
2.  [MySQL 8.0 Docs - 重命名、重新定义和重新排序列](https://dev.mysql.com/doc/refman/8.0/en/alter-table.html#alter-table-redefine-column)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-11-21T15:04:49.747

经过一个多小时的努力尝试将非 auto_increment 列添加到 auto_increment 语句中，我发现了一个不同之处：

```
alter table `doctor_experience` modify column `id` int(11) unsigned auto_increment 
```

有效，但声明：

```
alter table `doctor_experience` change column `id` `id` int(11) unsigned auto_increment 
```

会报错。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-08T06:57:43.493

那是一样的。这样做是为了支持另一种语法（据我所知，Oracle ALTER TABLE）。你可以同时使用它们。

注意：`ALTER TABLE CHANGE old_col_name new_col_name`语法允许使用一个命令重命名列。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-04-17T11:54:35.983

更改列：当我们想要更改列名及其定义时使用。例如 - 改变表`student`CHANGE `name` `full_name`VARCHAR(32) NOT NULL;

修改列：当列名相同但其定义发生变化时使用。例如 - 更改表`student`MODIFY `full_name`VARCHAR(64) NOT NULL;

重命名列：当我们只需要更改列名时使用（其定义将相同） alter table `student`RENAME COLUMN `full_name`TO `name`;

# ios - cocos2d 音频文件问题

> ID：14767180
> 
> 赞同：0
> 
> 时间：2013-02-08T06:47:52.717
> 
> 标签：ios, objective-c, cocos2d-iphone

我正在使用 CDLongAudioSource 在我的 cocos2d 游戏中播放我的音乐。但问题是当我的音频文件只加载但不播放时我的游戏崩溃了，因为我从我的场景返回到另一个场景，然后如果我再次进入音频文件需要播放应用程序崩溃的场景。

播放文件功能：

```
-(void)playMyEffect:(NSString*)audioFile{
    CDLongAudioSource*currentSound = [[CDAudioManager sharedManager] audioSourceForChannel:kASC_Right];
    //[currentSound load:@""];
    NSLog(@" file path to play %@",audioFile);
    [currentSound load:audioFile];
    currentSound.delegate = self;
    currentSound.backgroundMusic = NO;
    self.isSpeechComplete = NO;
    [currentSound play];
} 
```

![错误：屏幕截图](../Images/ae48ea5904e239e1d7d411b9e09757ed.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:01:08.397

确保在导航到其他场景之前停止播放器并删除内存引用。我认为这应该有效。

# javascript - 如何访问谷歌地图标记变量

> ID：14767184
> 
> 赞同：0
> 
> 时间：2013-02-08T06:48:04.353
> 
> 标签：javascript, google-maps

我有各种谷歌地图标记，它们是在循环中创建的，输出如下：

```
var marker1=new google.maps.Marker({position:new google.maps.LatLng(coordinates),map:map,title:'example'});google.maps.event.addListener(marker1,'click',function(){infwind(marker1,'<p>some info</p>')}); 
```

因为它是用“var”声明的，这不是使它成为一个具有全局范围的变量吗？

我需要访问各种标记变量中的所有信息以用于不同目的，但我无法获得所需的信息。

我对谷歌地图很陌生（如第一天）

当我尝试：

```
console.log(marker1); 
```

我收到未定义 marker1 的错误。如何访问这些标记？我假设我要么必须做类似 google.maps.someotherstuff 的事情，要么这些变量根本不像我想的那样全局。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:21:55.667

实际上，`var`在 Javascript 中为变量添加前缀意味着该变量在包含函数的范围内是局部的。所有未声明的变量都将被视为全局变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T08:37:44.630

您可以在创建标记时指定 ID，然后稍后引用该 ID...

创建标记：

```
 var location = new google.maps.LatLng(x, y);
    var marker = new google.maps.Marker({
      position: location,
      map: map,
      id: place your id here
    });

markers.push(marker) 
```

那么您可以参考以下 id：

```
for (var i=0; i < markers.length; i++) {
  if (marker[i].id == '') {
    do something;
}
} 
```

# ios - 如何在 http Post 时编辑内容？

> ID：14767185
> 
> 赞同：0
> 
> 时间：2013-02-08T06:48:12.167
> 
> 标签：ios, ios5, ios6, ios4, ios-simulator

嗨朋友们，我正在从以下代码中获取数据，即 HTML 内容。

```
-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    [receivedData appendData:data];
    NSString *htmlSTR = [[NSString alloc] initWithData:self.receivedData
                                          encoding:NSUTF8StringEncoding];
     NSLog(@"%@" , htmlSTR);
} 
```

如果我想编辑 HTML 页面中的一些内容然后想发布它，我该怎么做？

例如：如果我使用 gmail 帐户，当我将获得 gmail 的 HTML 内容时，我想在 html 页面中输入邮件 ID 和密码（不使用预定义的 UI），然后想发布内容.. 所以当我在我的选项中单击gmail时，它应该直接登录而不显示登录页面..

我们可以做到这一点，如果可以，那么在目标 C 中如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T06:57:48.317

```
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data 
```

方法在 Web 服务返回响应时被多次调用，因此最好将数据更改为：

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection 
```

您可以执行以下操作：

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    NSString *htmlSTR = [[NSString alloc] initWithData:self.receivedData
                                              encoding:NSUTF8StringEncoding];
    NSMutableString *strToBeChanged = [NSMutableString stringWithString:htmlSTR];
    // Perform changes to strToBeChanged.
} 
```

希望这对你有意义。

# javascript - 如何在访问主页时只显示一次欢迎消息？

> ID：14767186
> 
> 赞同：-3
> 
> 时间：2013-02-08T06:48:13.960
> 
> 标签：javascript, jquery, ruby-on-rails

几个月以来，我一直在使用 Rails 应用程序。现在我应该添加一个功能，在用户访问网站主页时**第一次显示****欢迎消息**，而**不是第二次，**即使用户重新加载同一页面。

 ****如何通过使用**jQuery**或**Javascript**来实现这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T06:50:16.267

只需设置一个 cookie 并检查它。如果您使用常用的 jQuery cookie 插件之一，则将此脚本放在页面底部：

```
(function($) {

    if (!$.cookie("yourcookiename")) {
        $("selector for the message").show();
        $.cookie("yourcookiename", "x");
    }

})(jQuery); 
```

这会查找 cookie，如果未找到，则会显示您默认隐藏的内容。

它并不*完美*，因为用户可以清除 cookie，但通常已经足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T06:52:18.367

不确定您如何定义第一次，如果您只是指注册用户，那么您可以在服务器端记录一些内容。

如果您的意思是任何人，您首先需要定义这个人是谁，向客户端浏览器写入 cookie 可能有效，但如果他们更改浏览器，您的消息将再次显示，在服务器端记录 IP 可能有效，但如果有人共享互联网连接，那么只有一个人可以在那个子网中真正看到它。

大多数情况下使用 cookie 应该没问题，或者使用 HTML5 本地存储****

# django - 我不知道何时在 django.contrib.contenttypes 模块中使用类 GenericForeignKey

> ID：14767194
> 
> 赞同：0
> 
> 时间：2013-02-08T06:48:53.207
> 
> 标签：django, django-1.4

我不知道何时在 django.contrib.contenttypes 模块中使用类 GenericForeignKey

[https://docs.djangoproject.com/en/dev/ref/contrib/contenttypes/#django.contrib.contenttypes.generic.GenericForeignKey](https://docs.djangoproject.com/en/dev/ref/contrib/contenttypes/#django.contrib.contenttypes.generic.GenericForeignKey)

我刚刚阅读了上面的链接，但我不知道。

当我使用那个类？

那门课什么时候有用？

请举几个例子~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:12:03.740

名字说分配，它是一个可以链接到任何内容类型的外键，即它可以与任何模型有关系。一个很好的例子是投票模型，您可以在其中对许多不同的对象进行投票，并且投票模型中的投票实例只会链接到您投票的模型。

```
class Article(models.Model):
    .......

class Video(models.Model):
     ......

class Like(models.Model):
    user = models.ForeignKey(User)
    content_type = models.ForeignKey(ContentType)
    object_id = models.PositiveIntegerField()
    obj = generic.GenericForeignKey() 
```

假设您有上面的这些模型，用户可以喜欢文章和视频，但您不想分别为文章喜欢和视频喜欢创建模型，因为它会在您的数据库中创建不必要的表，这可能会很痛苦，特别是如果您有分配可以喜欢的模型。为了解决这个问题，您创建了一个 Like 模型，它可以将您网站的所有喜欢存储在一个模型中。因此，当用户喜欢一篇文章时，即使 Article 模型没有明确的外键，like 实例也会与用户和文章有关系，这可以通过将 like 模型的内容类型设置为内容来完成您喜欢的模型的类型，在这种情况下为“文章”（不是您可以使用此：ContentType.objects。

```
article = Article.objects.get(pk=1)
article_ct = ContentType.objects.get_for_model(Article)
user = User.objects.get(username='admin')
Like.objects.create(user=user,  content_type=article_ct, object_id=article.id) 
```

# haskell - Haskell 产生非详尽模式错误

> ID：14767195
> 
> 赞同：2
> 
> 时间：2013-02-08T06:49:24.110
> 
> 标签：haskell

所以我决定玩弄 Haskell。我正在尝试解决 Project Euler 的第一个问题。以下是我的代码：

```
 euler1 limit (div:divisors) = if limit > 1 then (euler1 limit divisors) + (euler1 limit (div:[])) + (euler1 (limit-1) (div:divisors)) else 0
     euler1 limit (divisor:[]) = if limit > 1 && (mod limit divisor) == 0 then limit else 0
     euler1 limit [] = 0 
```

但是，当我通过 ghci 运行它时，会发生以下情况：

```
 euler1 9 [3,5]
     *** Exception: <interactive>:3:5-90: Non-exhaustive patterns in function euler1 
```

进一步调试：

```
 euler1 5 []
     0

     euler1 5 [5]
     *** Exception: <interactive>:3:5-90: Non-exhaustive patterns in function euler1 
```

这表明损坏的代码属于第二种情况（包含一个元素的列表），其中 euler1 甚至不包含递归步骤。

这是怎么回事？为什么它会如此壮观地破裂？我错过了什么模式？（我有单元素列表、多元素列表和空列表吗？）

编辑：对于任何关心我最初在上面提供的解决方案（在 John Ls 的出色帮助下）的人来说，仍然不太正确，因为它会计算一次以上除数的倍数的项目。一个最终的、正确的、有效的算法如下：

```
 euler1 limit (divisor:[]) = if ((limit > 1) && ((mod limit divisor) == 0)) then limit else 0
       euler1 limit (div:divisors) | ((limit > 1) && (euler1 limit (div:[]))==0) = (euler1 limit divisors) + (euler1 (limit-1) (div:divisors)) | ((limit > 1) && (euler1 limit (div:[]))/=0) = (euler1 limit (div:[])) + (euler1 (limit-1) (div:divisors)) |limit > 1 = euler1 (limit-1) (div:divisors) | otherwise = 0
       euler1 limit [] = 0 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-08T07:00:48.457

你在ghci中定义这个吗？如果你这样做：

```
Prelude> let euler1 limit (divisor:[]) = if limit > 1 && (mod limit divisor) == 0 then limit else 0
Prelude> let euler1 limit [] = 0 
```

第二个定义会影响第一个定义，导致非穷举模式失败。

相反，您应该使用 ghci 的多行语法

```
Prelude> :{
Prelude| let euler1 limit (divisor:[]) = if limit > 1 && (mod limit divisor) == 0 then limit else 0
Prelude|     euler1 limit (div:divisors) = if limit > 1 then (euler1 limit divisors) + (euler1 limit (div:[])) + (euler1 (limit-1) (div:divisors)) else 0
Prelude|     euler1 limit [] = 0
Prelude| :} 
```

另请注意，我切换了前两个语句的顺序。`div:divisors`将匹配一个单元素列表，因此您需要先检查该特殊情况。

# javascript - 单行 if 语句

> ID：14767199
> 
> 赞同：0
> 
> 时间：2013-02-08T06:49:38.733
> 
> 标签：javascript

请帮我。我正在使用单行 javascript if 语句，但我希望它在检查条件后执行两个操作，但我不知道如何放置第二个语句。我认为分号会起作用，但事实并非如此。它说分号是一个错误。这是我的代码，带有分号...

```
this.className === "unclickedButton" ? this.className = "clickedButton";
 $("#alert").style.display="block" : this.className = "unclickedButton"; 
$("#alert").style.display="none" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T06:52:49.693

您*可以*使用[逗号运算符](http://www.ecma-international.org/ecma-262/5.1/#sec-11.14)执行此操作：

```
this.className === "unclickedButton" ?
(this.className = ($("#alert").style.display="block", "clickedButton")) :
(this.className = ($("#alert").style.display="none", "unclickedButton")); 
```

...但它不会说它使代码可读。我会使用普通的`if`.

这是一个使用 jQuery ( [source ) 的](http://jsbin.com/ekecax/1/edit)[实时示例](http://jsbin.com/ekecax/1)。（我使用and ，见下文）。但严肃地说，将可维护性/可读性与以下内容进行比较：`show``hide`

```
if (this.className === "unclickedButton") {
    this.className = "clickedButton";
    $("#alert").style.display = "block";
}
else {
    this.className = "unclickedButton";
    $("#alert").style.display = "none";
} 
```

我知道我宁愿对哪一个进行维护。或者，如果你想要一个单行，稍微改变 CSS，这样你就有一个`button`类和一个*添加*`clicked`到它的类，然后这样做（我在这里假设 jQuery）：

 *```
$("#alert").toggle($(this).toggleClass('clicked').hasClass('clicked')); 
```

[实例](http://jsbin.com/ekecax/3)| [资源](http://jsbin.com/ekecax/3/edit)

* * *

旁注：您使用的选择器看起来像您在 jQuery 中使用的选择器，但 jQuery 实例没有`style`属性。如果您使用 Prototype 或 MooTools，您可能希望`#`删除`alert`. 如果您使用的是 jQuery，请使用它的`show`and`hide`方法（可能还有`addClass`/ `removeClass`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:53:26.867

尝试通过这样的 dwo if 语句执行此操作：

```
 if(statement 1){
        ...
        if(statement 2){
        ...
        }
    } 
```*

# inheritance - 如何在 Symfony 中为 Doctrine 创建一个具有未知子类的空超类？

> ID：14767200
> 
> 赞同：0
> 
> 时间：2013-02-08T06:49:46.810
> 
> 标签：inheritance, symfony, doctrine-orm

据我了解，如果我想使用继承原则，需要在超类映射信息中列出所有子类。

[手册](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/inheritance-mapping.html#single-table-inheritance)指出：

```
/**
 * @Entity
 * @InheritanceType("SINGLE_TABLE")
 * @DiscriminatorColumn(name="discr", type="string")
 * @DiscriminatorMap({"person" = "Person", "employee" = "Employee"})
 */
class Person
{
    // ...
} 
```

> @InheritanceType、@DiscriminatorColumn 和 @DiscriminatorMap 必须在作为映射实体层次结构的一部分的最顶层类上指定。

当我正在开发一个将被多个应用程序重用的 symfony 包时，这是一个主要问题。我想提供可以由应用程序扩展的超类。这意味着在我实现超类时子类是未知的。

问题[在 Symfony2](https://stackoverflow.com/questions/9801173/creating-portable-bundles-with-extendable-entities-in-symfony2)中创建具有可扩展实体的便携式 Bundle 解决了同样的问题。

这里的问题是：*我必须有哪些选择来解决这个限制？*

在我有这种需求的领域中，有一个订单。应用程序应该有可能实现它自己的订单项子类型。我想出了这个解决方案，但这需要很多额外的类才能获得类似继承的东西。

[http://www.gliffy.com/pubdoc/4293547/L.png](http://www.gliffy.com/pubdoc/4293547/L.png)

我很高兴看到更好/更短的解决方案。

# c++ - 将父类类型的成员驻留在另一个类中

> ID：14767204
> 
> 赞同：0
> 
> 时间：2013-02-08T06:49:57.390
> 
> 标签：c++, inheritance, polymorphism, virtual, class-design

```
#include <iostream>

class BarParent
{
    virtual void fuz()
    {
        std::cout << "BarParent" << std::endl;
    }
};

class BarChild : public BarParent
{
    virtual void fuz()
    {
        std::cout << "BarChild" << std::endl;
    }
};

class Foo
{
// ??BarParent bar;??
public:
    Foo(BarParent bar);
}; 
```

我寻求的是存储传递给构造函数的副本**并**`BarParent`让它驻留`Foo`，同时仍然调用正确的`virtual function`

这是一个嵌入式应用程序：堆的使用是不受欢迎的。所以最好不要堆

**摘要**：据了解，由于[切片问题](https://stackoverflow.com/questions/274626/what-is-the-slicing-problem-in-c)（长话短说编译器无法确定泛型的大小`Bar`等复制它的类型转换），因此无法实现，因此无法实现多态性。使用模板可能是一个好主意，但是，它定义了多个`class`es `Foo<typename BarType>`，因此，做 a`function`是`changeBar(BarParent)`不可能的，因为编译器会将 this`changeBar(BarType)`定义为仅为 class 定义`Foo<Bartype>`。如果有人有更好的主意，请告诉我。

我想我将不得不去堆或`const Barparent`指针。如果是用户`const_cast`，那是他自找麻烦，不是我的错！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T06:51:42.300

```
class Foo
{
    BarParent* bar; //or std::unique_ptr<>
public:
    Foo(BarParent* barInst):bar(barInst){}
}; 
```

这将做你想做的事。您存储一个指向`BarParent`对象的指针，您可以使用它来多态（这是一个词吗？）调用虚函数。

您需要在构造函数之外（在堆上或其他地方）创建副本，并将指向它的指针传递给`foo`对象构造函数。或者，您可以实现克隆方法，如[仅使用基类指针复制派生实体中所述（无需详尽测试！）- C++](https://stackoverflow.com/questions/5027456/copying-derived-entities-using-only-base-class-pointers-without-exhaustive-tes)

一种**完全不同的方法**是使用**模板**..它会给您留下多种`foo<>`类型..如果您不打算重新分配`bar`对象或将所有对象存储`foo`在容器中，这对您来说可能是更好的选择，因为它不涉及堆

```
template<typename BarType>
class Foo
{
    BarType bar; //pointer not needed any more since we are storing the exact type.
public:
    Foo(BarType& barInst):bar(barInst){}
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:01:32.047

我不知道没有[对象切片](http://en.wikipedia.org/wiki/Object_slicing)就可以优雅地处理这个问题。

我能想到的唯一方法是使用指针，并在“调用”`Foo`构造函数时创建一个副本：

```
class Foo
{
    BarParent* bar;

public:
    Foo(BarParent* b) : bar(b) {}
};

BarChild child;

Foo myFoo(new BarChild(child)); 
```

# java - Java 等效于 OpenSSL AES

> ID：14767205
> 
> 赞同：0
> 
> 时间：2013-02-08T06:49:58.790
> 
> 标签：java, bash, encryption, openssl, aes

我需要使用 OpenSSL 和 Java 加密一个字符串，并让它们最终完全相同。

OpenSSL

```
openssl enc -aes-256-cbc -S THISISASECRETKEY -k ALSOISASECRETKEY -in $txtName -out $aesName -a 
```

爪哇

```
import java.security.*;
import javax.crypto.Cipher;
import javax.crypto.spec.SecretKeySpec;
import sun.misc.*;

public class Protector {

    private static final String ALGORITHM = "AES";
    private static final int ITERATIONS = 1;
    private static final byte[] keyValue = "ALSOISASECRETKEY".getBytes();

    public static String encrypt(String value, String salt) throws Exception {
        Key key = generateKey();
        Cipher c = Cipher.getInstance(ALGORITHM);
        c.init(Cipher.ENCRYPT_MODE, key);

        String valueToEnc = null;
        String eValue = value;
        for (int i = 0; i < ITERATIONS; i++) {
            valueToEnc = salt + eValue;
            byte[] encValue = c.doFinal(valueToEnc.getBytes());
            eValue = new BASE64Encoder().encode(encValue);
        }
        return eValue;
    }

    public static String decrypt(String value, String salt) throws Exception {
        Key key = generateKey();
        Cipher c = Cipher.getInstance(ALGORITHM);
        c.init(Cipher.DECRYPT_MODE, key);

        String dValue = null;
        String valueToDecrypt = value;
        for (int i = 0; i < ITERATIONS; i++) {
            byte[] decordedValue = new BASE64Decoder().decodeBuffer(valueToDecrypt);
            byte[] decValue = c.doFinal(decordedValue);
            dValue = new String(decValue).substring(salt.length());
            valueToDecrypt = dValue;
        }
        return dValue;
    }

    private static Key generateKey() throws Exception {
        Key key = new SecretKeySpec(keyValue, ALGORITHM);
        // SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(ALGORITHM);
        // key = keyFactory.generateSecret(new DESKeySpec(keyValue));
        return key;
    }
} 
```

和 Java 主要

```
public class main {

    public static void main(String[] args) throws Exception {
        String password = "This is a test!";
        String salt = "THISISASECRETKEY";
        String passwordEnc = Protector.encrypt(password, salt);
        String passwordDec = Protector.decrypt(passwordEnc, salt);

        System.out.println("Salt Text : " + salt);
        System.out.println("Plain Text : " + password);
        System.out.println("Encrypted : " + passwordEnc);
        System.out.println("Decrypted : " + passwordDec);
    }
} 
```

Java 代码产生一个结果，但它不匹配。我需要将我的 Java 代码与确实必须保持不变的 OpenSSL 相匹配（与已经设置了很多后端的其他人一起工作）。我在某处读到 OpenSSL 和 Java 生成密钥的方式有所不同，如果这有帮助的话。

非常感谢您！

# sql - FROM 中的子查询必须有别名

> ID：14767209
> 
> 赞同：121
> 
> 时间：2013-02-08T06:50:06.843
> 
> 标签：sql, oracle, postgresql, subquery

我有这个我在 PostgreSQL 中编写的查询，它返回一个错误说：

> [Err] 错误：
> 第 3 行：FROM (SELECT DISTINCT (identifiant) AS made_only_recharge

这是整个查询：

```
SELECT COUNT (made_only_recharge) AS made_only_recharge
FROM (
    SELECT DISTINCT (identifiant) AS made_only_recharge
    FROM cdr_data
    WHERE CALLEDNUMBER = '0130'
    EXCEPT
    SELECT DISTINCT (identifiant) AS made_only_recharge
    FROM cdr_data
    WHERE CALLEDNUMBER != '0130'
) 
```

我在 Oracle 中有一个类似的查询，效果很好。唯一的变化是我`EXCEPT`在 Oracle 中用`MINUS`关键字替换了它。我是 Postgres 的新手，不知道它要求什么。处理这个的正确方法是什么？

* * *

## 回答 #1

> 赞同：168
> 
> 时间：2013-02-08T06:50:40.693

`ALIAS`在子查询中添加一个，

```
SELECT  COUNT(made_only_recharge) AS made_only_recharge
FROM    
    (
        SELECT DISTINCT (identifiant) AS made_only_recharge
        FROM cdr_data
        WHERE CALLEDNUMBER = '0130'
        EXCEPT
        SELECT DISTINCT (identifiant) AS made_only_recharge
        FROM cdr_data
        WHERE CALLEDNUMBER != '0130'
    ) AS derivedTable                           -- <<== HERE 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-26T03:13:23.913

在嵌套表的情况下，一些 DBMS 要求使用 MySQL 和 Oracle 之类的别名，而另一些则没有这样严格的要求，但仍然允许添加它们以替换内部查询的结果。

# iphone - 在我的 iphone App 中搜索 db 中的关键字

> ID：14767219
> 
> 赞同：1
> 
> 时间：2013-02-08T06:50:47.947
> 
> 标签：iphone, objective-c, ios5, nspredicate

我想知道如何在我的应用中实现关键字搜索。实际上我想输入一个文本（in `uitextfield`），然后搜索我的sqlite db并在db中找到相应的文本。我是iPhone开发的新手，等待您的帮助。请记住，我想在多个表中搜索。提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:22:41.477

首先从您可能已经完成的数据库中填充您的数组。

使用 NSPredicate 进行过滤，因为从数据库中获取记录包括内存使用。

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"SELF CONTAINS[c] %@", searchText];
arrSearch  = [[arrOriginal filteredArrayUsingPredicate:predicate] mutableCopy]; 
```

# android - 02-08 06:44:43.262: E/dalvikvm(503): 找不到类，引用自方法 RSSManager.run

> ID：14767220
> 
> 赞同：0
> 
> 时间：2013-02-08T06:50:52.690
> 
> 标签：android, rss, runtime, rss-reader

嗨，我必须从[这里开发一个 android BBC_NEWS_READER 应用程序](https://github.com/okey666/BBC-News-Reader)

这里出现以下错误：

```
02-08 06:44:43.262: E/dalvikvm(503): Could not find class 'org.mcsoxford.rss.RSSReader', 
referenced from method com.digitallizard.bbcnewsreader.RSSManager.run 
```

也出现以下错误：

```
 -08 06:44:44.503: E/AndroidRuntime(503): FATAL EXCEPTION: Thread-8
     02-08 06:44:44.503: E/AndroidRuntime(503): java.lang.NoClassDefFoundError: 
              org.mcsoxford.rss.RSSReader
     02-08 06:44:44.503: E/AndroidRuntime(503):     at 
      com.digitallizard.bbcnewsreader.RSSManager.run(RSSManager.java:63)
     02-08 06:44:44.503: E/AndroidRuntime(503):     at java.lang.Thread.run(Thread.java:1096) 
```

我怎样才能清除这些错误。请给我想法？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:53:10.487

1.首先，检查您的来源是否在错误日志中提到的位置。

2.如果是，请检查您是否输入错误

3.如果它仍然无法正常工作，（在我看来）创建一个新项目并重命名缺少的内容会更容易（我已经这样做了几次并且它一直有效）当然，请确保你复制所有代码

您的错误不属于清单，因为这将在日志中提到，如下所示：`have youe declared <yourClass> in AdroidManifest.xml?`

# jquery - 单个 html 没有显示在 fancybox 中，它作为一个画廊来了

> ID：14767224
> 
> 赞同：0
> 
> 时间：2013-02-08T06:51:06.250
> 
> 标签：jquery, fancybox

单个 html 没有显示在 fancybox 中，它是作为一个画廊来的。我想单独打开它们，但它是作为画廊意味着下一个，上一个按钮出现。我想隐藏它们或禁用它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:58:06.187

没有你的代码片段，很难说。它似乎在这里涵盖：http: [//fancybox.net/howto](http://fancybox.net/howto)

在该页面上，我发现了以下内容：

> 注意 - ID 用于 SINGLE 实例。如果您想对所有图像/元素使用相同的脚本，请改用类。
> 
> 注意 - 画廊是从具有相同“rel”标签的元素创建的，例如（在页面上）

问候，

塞缪尔·彼得森

# php - 提交表单后，Cake PHP Drop-down 不显示

> ID：14767225
> 
> 赞同：0
> 
> 时间：2013-02-08T06:51:09.760
> 
> 标签：php, cakephp

我是 CakePHP 的新手，我需要你们的帮助...！！

我有一个名为 ContactusController.php 的控制器，我在其中放置了这个关联：

```
$customerStatuses = $this->Contactus->CustomerStatus->find('list');
$enquiryTypes = $this->Contactus->EnquiryType->find('list');
$this->set(compact('customerStatuses', 'enquiryTypes')); 
```

在 ctp 文件中，我有这个内部表格：

```
echo "<div class='control-group'>\n";
        echo "". $this->Form->input('enquiry_type_id', array('type'=>'select', 'label' => 'Type Of Enquiry')) ."\n";
        echo "</div>\n";

        echo "<div class='control-group'>\n";
        echo "". $this->Form->input('customer_status_id', array('type'=>'select', 'label' => 'Customer Type')) ."\n";
        echo "</div>\n"; 
```

在模型中我也做了这样的关联：

```
public $belongsTo = array(
    'CustomerStatus' => array(
        'className' => 'CustomerStatus',
        'foreignKey' => 'customer_status_id',
        'conditions' => '',
        'fields' => '',
        'order' => ''
    ),
    'EnquiryType' => array(
        'className' => 'EnquiryType',
        'foreignKey' => 'enquiry_type_id',
        'conditions' => '',
        'fields' => '',
        'order' => ''
    )
); 
```

但我看不到 CustomerStatus 和 EnquiryStatus 的下拉列表。当我单击提交按钮时，只有它出现。我不知道我遇到了什么问题

请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T06:57:45.530

试试这个它可能会工作......

```
echo $this->Form->input('enquiry_type_id', array(
    'label' => 'enquiry',
    'id' => 'enquiry_id',
    'options' => 'post your array which contains the options'
)); 
```

# azure - 添加 HTTPS 端点后，我收到此警告：在证书存储中找不到“Microsoft.WindowsAzure.Plugins.PasswordEncryption”

> ID：14767234
> 
> 赞同：7
> 
> 时间：2013-02-08T06:51:59.100
> 
> 标签：azure, azure-web-roles

我向我的 WebRole 添加了一个 HTTPS 端点，现在当我尝试运行 Azure 模拟器时收到以下警告，这会导致计算模拟器停止并且调试器退出：

`Warning: The SSL certificate 'Microsoft.WindowsAzure.Plugins.RemoteAccess.PasswordEncryption' for endpoint 'HttpsIn' of role 'MyProj.Web' was not found in the local machine's certificate store.`

此证书与 HTTPS 端点无关。它也不（也不应该）在本地机器的证书存储中——它*确实*存在于 CurrentUser 证书存储中（我已经检查过了）。我试图在我的 ServiceConfiguration 中完全摆脱对这个证书的引用，只是为了看看会发生什么，但它会自动重新添加。

任何帮助，将不胜感激。

**编辑：**

为了清楚起见，我*没有*尝试将 Microsoft.WindowsAzure.Plugins.RemoteAccess.PasswordEncryption 证书用作我的 SSL 证书。我已经成功地在本地机器存储中为 HTTPS 端点设置了一个单独的自签名证书：

**服务定义.csdef**

```
 <Bindings>
      <Binding name="Endpoint1" endpointName="Endpoint1" />
      <Binding name="HttpsIn" endpointName="HttpsIn" />
    </Bindings>
    ...
    <Endpoints>
      <InputEndpoint name="Endpoint1" protocol="http" port="80" />
      <InputEndpoint name="HttpsIn" protocol="https" port="443" certificate="AzureSSL" />
    </Endpoints>
    ...
    <Certificates>
      <Certificate name="AzureSSL" storeLocation="LocalMachine" storeName="My"/>
    </Certificates> 
```

**服务配置.Local.cscfg**

```
<Certificates>
  <Certificate name="Microsoft.WindowsAzure.Plugins.RemoteAccess.PasswordEncryption" thumbprint="xxxxxxxxxx" thumbprintAlgorithm="sha1" />
  <Certificate name="AzureSSL" thumbprint="xxxxxxxxxx" thumbprintAlgorithm="sha1" />
</Certificates> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-08T16:37:02.450

WebRole 正在添加 RemoteAccess 证书设置并在 LocalMachine 中查找证书，因为 SDK 1.8 添加`<Import moduleName="RemoteAccess" />`到 csdef 文件。要解决此问题：

*   删除（本地和云）.cscfg 文件中的所有“Microsoft.WindowsAzure.Plugins.RemoteAccess. ** ”*
*   删除两个 .cscfg 文件中的 "Certificate name="Microsoft.WindowsAzure.Plugins.RemoteAccess.PasswordEncryption"
*   从 csdef 文件中删除`<Import moduleName="RemoteAccess" />` 和。`<Import moduleName="RemoteForwarder" />`
*   保存并重新编译。如果您以后需要激活远程桌面，那么过程将在[本文](http://msdn.microsoft.com/en-us/library/windowsazure/gg443832.aspx)中描述。

或者，您可以将 RDP 证书添加到 LocalMachine 商店。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T08:00:03.793

嗯，有两件事：

*   证书通常与 HTTPS 端点有很大关系。因为 HTTPS Endpoint 也需要证书，对吧？
*   从错误消息中可以清楚地看出，您还选择了要用于 HTTPS 端点的远程桌面密码加密证书。

后者一点也不差，但是您应该知道您的所有证书以及哪个证书用于什么。

首先，在 Azure 角色实例上启用远程桌面需要 X.509 证书。它是通过在配置文件（csdef）中指示证书的指纹来配置的。这是必需的，因为 RDP 帐户的密码已使用该证书加密。该密码加密是打包过程（或更准确地说是远程桌面向导过程）的一部分。您必须[将该证书单独上传到](http://www.windowsazure.com/en-us/manage/services/cloud-services/how-to-create-and-deploy-a-cloud-service/#uploadcertificate)您将部署包的 Windows Azure 云服务。并且在本地用户的商店中也有该证书。

第二个证书用于 HTTPS。它也被描述为指纹和位置。但是 HTTPS 证书通常位于`local machine`存储区，而不是`current user`存储区。此 X.509 证书必须再次单独上传到云服务并且必须存在。您可以[在此处阅读有关如何为 Windows Azure 云服务配置 HTTPS 端点的信息](http://msdn.microsoft.com/en-us/library/windowsazure/ff795779.aspx)。为了使打包工作正常，HTTPS 端点证书需要位于本地计算机存储（或更准确地说是 Web 托管存储 - 如果您打开 IIS 管理器并导航到`Server Certificates`，您必须能够在那里看到证书）。这是 HTTPS 证书的预期位置，这就是打包要求它存在的原因。这就是它抱怨找不到它的原因。因为您的密码加密证书（您表示也用于 HTTPS）不在本地计算机的存储中。

`properties`最后但并非最不重要的一点是，包使用的证书是在云服务项目的证书部分中配置的。

建议阅读：

*   [Windows Azure 中的证书概述](http://msdn.microsoft.com/en-us/library/windowsazure/gg981935.aspx)
*   [如何为角色创建证书](http://msdn.microsoft.com/en-us/library/windowsazure/gg432987.aspx)
*   [使用 SSL 保护 Windows Azure](http://msdn.microsoft.com/en-us/rfid/wazplatformtrainingcourse_deployingapplicationsinwindowsazurevs2010_topic5) - 尽管它有旧门户和旧版本 SDK 的屏幕截图，但所有概念和演练在今天都是正确和有效的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T00:09:29.470

非常简单：在 Visual Studio 中，转到“配置远程桌面”，单击查看证书，然后单击证书路径以查看友好的证书名称。在窗口开始键入“certmgr.msc”并选择 certmgr，打开 Personal/Certificate 并找到“来自 Visual Studio 的证书，突出显示并右键单击并复制。转到 Trusted Root Certification Autorities/Certificate and Paste。瞧，警告有走了

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-12-30T09:44:54.253

我通过在我的 Windows 10 上安装 IIS 解决了这个问题，[正如 w.brian 在评论中提到的那样](https://stackoverflow.com/questions/14767234/after-adding-https-endpoint-i-get-this-warning-microsoft-windowsazure-plugins/65504907#comment20702363_14777212)：

> 我实际上已经从另一个 SO question 解决了这个问题。显然，在您安装完整的 IIS 之前，IIS Express 不能很好地与 Azure SSL 端点配合使用。您甚至不需要使用完整的 IIS，只需安装它。

# php - 在 http 请求上运行 php 脚本而不使用 mod_rewrite 甚至机器人

> ID：14767238
> 
> 赞同：0
> 
> 时间：2013-02-08T06:52:10.350
> 
> 标签：php, .htaccess

这是一个简单的问题，但我希望有一个非常困难的解决方案。

我想让一个页面在 http 请求上运行一些 PHP 代码，而不使用 mod_rewrite 并且不使用 javascript。

前任。 [http://website.com/some_audio.mp3](http://website.com/some_audio.mp3) 当用户或机器人请求此链接时，会调用一个 php 脚本来处理然后拒绝或允许该请求。

我不能为此使用 mod_rewrite，我知道这听起来很疯狂，相信我的话。也不能使用javascript，因为机器人会绕过这个。需要某种 htaccess 解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:19:13.173

告诉 Apache “将文件解释为 PHP” ( `AddType application/x-httpd-php .mp3`) 几乎与重写 URL 相同，因此，如果不使用 mod_rewrite 或者为了简化，不将文件设为 PHP 脚本，这是不可能的。但是，您可以键入一些重写条件（“类似”...未测试），但您只是说：无需重写

```
RewriteCond %{HTTP_USER_AGENT} .*Googlebot.*$ [NC]
RewriteRule ^(.+\.mp3)$ - [F,L] 
```

# c++ - C++ 二叉树构建为什么不起作用？

> ID：14767239
> 
> 赞同：0
> 
> 时间：2013-02-08T06:52:12.393
> 
> 标签：c++, binary-tree

大家好，我真的很感谢任何帮助，谢谢。

首先，我正在构建一棵二叉树，但似乎无法构建它。在递归过程中，insertHelper 似乎在第一次迭代中识别出更大的根，但之后不会继续构建左右和连接到它的节点。在 C++ 中查看

标题：

```
struct Node {
public:
    int weight;
    Node *right;
    Node *left;
};

class Btree {
    Node *root;
    int insize;
    int taxsize;
    public:
        Btree();
        void insertOne(Node *);
        void insertHelper(Node *, Node *);
        void printTree();
        void ptHelper(Node *);  
}; 
```

班级：

```
Btree::Btree() {
    this -> root = NULL;
    this -> insize =0;
    this -> taxsize =0;
}
void Btree::insertOne( Node *n ) {
        if(root==NULL) {
            root = n;
        }else {
            Node *burr;
            burr = root;
            insertHelper( n, burr);
        }
    }
void Btree::insertHelper( Node *n, Node *curr ) {
    if(curr==NULL) {
        curr = n;
    }
    if(n->weight > curr->weight) {
        insertHelper(n, curr->right);
    }
    if(n->weight < curr->weight) {
        insertHelper(n, curr->left);
    }
}
void Btree::printTree() {
    Node *current;
    current = root;
    ptHelper(current);

}
void Btree::ptHelper(Node *m){
    if(m != NULL) {
        cout<<" "<<m->weight<<" ";
        if(m->left != NULL) {
            ptHelper(m->left);
        }
        if(m->right != NULL) {
            ptHelper(m->right);
        }
    }else {
        return;
    }
} 
```

主要的：

```
int main()
{
    Btree joe;
    int insize;
    int taxsize;
    cin >> insize;
    for(int i=0; i<insize; i++) {
        int tmp;
        cin >> tmp;
        Node *diamond = new Node();
        diamond->weight = tmp;
        joe.insertOne(diamond);
    }
    joe.printTree();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:16:53.703

您没有更新对左右的引用。试试这个：

```
void Btree::insertHelper( Node *n, Node *curr ) {

    if(curr==NULL) {
        curr = n;
    }
    //My debug output
    //cout<<"InsertHelper "<<n->weight<< " to " << curr->weight <<" \n";

    if(n->weight > curr->weight) {
        if (curr->right == NULL) {
            curr->right = n;
        } else {
            insertHelper(n, curr->right);
        }
    }
    if(n->weight < curr->weight) {
        if (curr->left == NULL) {
            curr->left = n;
        } else {
            insertHelper(n, curr->left);
        }
    }
} 
```

注意：实际上最好将接口更改为`Btree::insertOne( int n )`. 然后您可以管理 BTree 中节点的生命周期

# azure - 我们可以将谷歌文档与 Windows azure 集成吗

> ID：14767243
> 
> 赞同：0
> 
> 时间：2013-02-08T06:52:34.330
> 
> 标签：azure, google-docs, azure-storage, google-docs-api

我有一个应用程序将文档上传到 Windows azure 存储 blob，由于 azure 不支持在线查看、编辑和共享文档，我可以将 google docs 功能与存储在 azure 存储 blob 中的文档集成吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:40:47.073

不，您不能将 Google Docs 与存储在 Azure Blob 存储中的文档集成。Google 文档（在线查看、编辑、协作）仅适用于在线存储在 Google Docs 应用程序中的文档！您可以使用 Google Docs API（或 SkyDrive api，也支持在线编辑、查看、共享、协作）直接将文档上传到相应的商店！

# jquery - 单击单选按钮更改div背景

> ID：14767247
> 
> 赞同：0
> 
> 时间：2013-02-08T06:52:50.897
> 
> 标签：jquery

我有 4 个单选按钮，每个按钮分别包含在一个 div 中。在 jQuery 中，我想单击一个单选按钮并更改相关 div 的颜色。当我单击第二个单选按钮时，前一个 div 的颜色应该恢复并且新单击的单选按钮 div 颜色应该改变。
当我单击单选按钮时，所有 div 颜色都已更改，我只想选择更改

```
$('input:[name=pid]:radio').click(function () {
$(".column-title").css("background", "gray"); 

 below is the html of one div.
 <th><h3 class="column-title" style="height:60px; width:130px; background:#999; border-top-left-radius:10px;border-top-right-radius:10px; margin:0px; padding-top: 13px;">
<div style="color:#FFF; font-size:20px; font-weight:bold; padding-top:15px;"><?=$arr['Deluxe']['title']?></div>
</h3>

<div style="font-size:19px; float:left;padding: 27px 0 0; margin:0px;width:129px; border-right:1px solid #999">
<input type="radio" value="<?=($arr['Deluxe']['id'])?>" name="pid" Checked/>

<div class="new"><?php echo $arr['Deluxe']['price'].'/mon'; ?></div>

<div style="font-size:12px; font-weight:normal;">after your trial</div>

</div>
</th> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T06:57:42.337

您的选择器错误：

```
$('input[type=radio][name=pid]').change(function () { 
```

话虽如此，您可以向 div 元素添加一个类，贴一个 CSS 类并使用`closest`方法。

```
.active { background-color: 'red'} 
```

```
$(function() {
   var $divs = $('div.mydivs');

   $('input[type="radio"][name="pid"]').change(function () {
      $divs.removeClass('active');
      $(this).closest('div.mydiv').addClass('active');
   })
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:57:17.230

你可以这样做

**CSS**

```
.highlight{
background-color:'yellow';
} 
```

**HTML**

```
<div class="rdb-container">
<input type="radio" value="1" />
</div>
<div class="rdb-container">
<input type="radio" value="2" />
</div>
<div class="rdb-container">
<input type="radio" value="3" />
</div>
<div class="rdb-container">
<input type="radio" value="4" />
</div> 
```

**查询**

```
$(document).ready(function(){
 $('div.rdb-container input[type="radio"]').click(function(){
    $('div.rdb-container').removeClass('highlight');
    $(this).parent('div.rdb-container:first').addClass('highlight');
   });
}); 
```

# jquery - FancyBox 中的 JW 播放器

> ID：14767249
> 
> 赞同：1
> 
> 时间：2013-02-08T06:53:02.623
> 
> 标签：jquery, fancybox, jwplayer

我正在尝试让 JW Player 在 Fancy Box 中工作。Fancy Box 在下面设置的尺寸下可以正常打开，但视频不显示（这是在服务器上）。我在页面上使用的示例链接（与脚本和内容目录处于同一级别 - mp4 在内容目录中）

```
<a href='content/brat.mp4' class='video' data-width="600" data-height="345" title='me'>Robot</a> 
```

并在页面中：

```
 $(".video").fancybox({
    fitToView: false, // to show videos in their own size
    content: '<span></span>', // create temp content
    scrolling: 'no', // don't show scrolling bars in fancybox
    afterLoad: function () {
      // get dimensions from data attributes
      var $width = $(this.element).data('width'); 
      var $height = $(this.element).data('height');
      // replace temp content
      this.content = "<embed src='scripts/jwplayer/jwplayer.swf?file=" + this.href + "&autostart=true&amp;wmode=opaque' type='application/x-shockwave-flash' width='" + $width + "' height='" + $height + "'></embed>"; 
    }
  }); 
```

在 scripts/jwplayer/ 中有 jwplayer.flash.swf、jwplayer.js 和 jwplayer.html5.js

![在此处输入图像描述](../Images/e9140b30d4b72af65911a767e5f8f870.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T02:12:07.360

排序...问题是 jwplayer 6。我下载了第 5 版，一切正常！

[http://developer.longtailvideo.com/trac/browser/tags/mediaplayer-5.3#js](http://developer.longtailvideo.com/trac/browser/tags/mediaplayer-5.3#js)

哎呀...

# c# - 了解 BackGroundWorker.RunWorkerCompleted 事件结束

> ID：14767253
> 
> 赞同：0
> 
> 时间：2013-02-08T06:53:12.380
> 
> 标签：c#, backgroundworker

我在代码中使用后台工作者类作为

```
private void bwFilter_DoWork(object sender, DoWorkEventArgs e)
    {            
       //Some Code
    }
    private void bwFilter_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)
    {          
       //Some code
    } 
```

现在我在按钮单击中调用此事件

```
btnClick_Click(Object Sender,EventArgs e)
{
      bwFilter.RunWorkerAsync();       
} 
```

现在我只想在 bwFilter_RunWorkerCompleted 完成后在 btnClick 中做一些事情。我尝试以下但导致死锁情况

```
 btnClick_Click(Object Sender,EventArgs e)
{
      bwFilter.RunWorkerAsync();
      While(bwFilter.IsBusy)
      {
          Continue;
      }   
     //Start coding Again Here    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:57:39.370

使用`RunWorkerCompleted`事件，见[http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.runworkercompleted.aspx](http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.runworkercompleted.aspx)

```
bwFilter.RunWorkerCompleted += (s, e) => { ... do something ... };
bwFilter.RunWorkerAsynch(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T09:06:26.507

等待后台工作人员完成完全违背了使用工作人员的意义。并且不可避免地造成僵局。

所以不要打扰，直接调用 bwFilter_DoWork() 。

# php - Symfony 1.4 cookie 检索失败

> ID：14767258
> 
> 赞同：4
> 
> 时间：2013-02-08T06:53:31.317
> 
> 标签：php, cookies, symfony1, symfony-1.4

我正在尝试使用 Symfony 1.4 框架将变量存储在 cookie 中。这是我的 sfAction 派生类的片段：

```
class productActions extends sfActions
{
    public function preExecute()
    {
        $this->no_registration_form = true;
        $request = $this->getRequest();

        $cookie_value = $request->getCookie('pcatid');
        $this->prod_category_id = (!isset($cookie_value)) ? 0 : $cookie_value;

        $cookie_value = $request->getCookie('pitid');
        $this->product_item_id = (!isset($cookie_value)) ? 0 : $cookie_value;

        $cookie_value = $request->getCookie('pcatnm');
        $this->product_category_name = (!isset($cookie_value)) ? null : base64_decode ($cookie_value);

        $cookie_value = $request->getCookie('pipnm');
        $this->product_info_partial_name = (!isset($cookie_value)) ? null : $cookie_value;

        $cookie_value = $request->getCookie('protl');
        $this->title = (!isset($cookie_value)) ? null : base64_decode ($cookie_value);
    }

    public function postExecute()
    {
        $expire = time()+2592000;
        $path = '/products/';
        $response = $this->getResponse();

        $value = $this->prod_category_id;
        if (isset($value))
            $response->setCookie('pcatid', $value, $expire, $path);

        $value = $this->product_item_id;
        if (isset($value))
            $response->setCookie('pitid', $value, $expire, $path);

        $value = base64_encode($this->product_category_name);
        if (isset($value))
            $response->setCookie('pcatnm', $value, $expire, $path);

        $value = $this->product_info_partial_name;
        if (isset($value))
            $response->setCookie('pipnm', $value, $expire, $path);

        $value = base64_encode($this->title);
        if (isset($value))
            $response->setCookie('protl', $value, $expire, $path);        
    }

    public function executeIndex(sfWebRequest $request)
    {
        // uses defaults or settings stored in cookies
    }

    ... // other functions that set the required instance member fields
} 
```

我已经在调试会话中单步执行了代码，我可以看到 cookie 值正在`sfWebResponse`变量中进行整理——但是，没有设置任何 cookie——这在`preExecute()`函数中得到了证明——检索到的所有 cookie 的值都为 null。

为什么会这样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T13:50:14.060

我在一个新的 symfony 项目上做了一个简单的测试。

我已经复制/粘贴了您的`preExecute`&`postExecute`并添加了一个带有空模板的简单操作：

```
public function executeIndex(sfWebRequest $request)
{
  var_dump($_COOKIE);

  $this->prod_category_id          = 123;
  $this->product_item_id           = 456;
  $this->product_category_name     = 789;
  $this->product_info_partial_name = 159;
  $this->title                     = 753;
} 
```

我已将此行更改`$path = '/products/';`为`$path = '/';`.

在第一次尝试时，我没有任何 cookie，所以我什么都没有：

```
array
  empty 
```

刷新时，cookie 被定义，我可以看到它们：

```
array
  'symfony' => string 'c04khrspp5fmg3sh797uq9c9s1' (length=26)
  'pcatid' => string '123' (length=3)
  'pitid' => string '456' (length=3)
  'pcatnm' => string 'Nzg5' (length=4)
  'pipnm' => string '159' (length=3)
  'protl' => string 'NzUz' (length=4) 
```

**您的代码可能有什么问题**，您将 cookie 路径设置为`/products/`. **这意味着，您只有**在您处于打开状态时才能访问这些 cookie `http://exemple.com/products/...`。

如果您尝试在 上访问这些 cookie `http://exemple.com/`，您将一无所获。

如果这不能解决您的问题，您能否粘贴一个操作示例，从定义的 uri（至少是域之后的部分）出现问题的地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T15:42:35.930

当您将 $path 传递给方法时，您只能在从同一 URL 访问 cookie 时使用 cookie。

如果您想从所有站点访问 cookie，请不要在路径中传递任何内容。

```
$response = $this->getResponse();
$response->setCookie('stack', 'This cookie is readable from all site for the next 60 segs.', time() + 60);
$response->setCookie('overflow', 'This cookie is readable from mypage for the next 60 segs.', time() + 60, 'http://mysite.com/mypage'); 
```

# jquery - 将 jquery 功能添加到 html 文件中的标记

> ID：14767260
> 
> 赞同：1
> 
> 时间：2013-02-08T06:54:01.067
> 
> 标签：jquery, html, image, jquery-draggable

我正在使用 Jquery n css 进行 html5 应用程序开发。我正在创建一个 div 标签下的图像，如下所示

```
<div id="FrontRight">
<img id="imgFrontRight" src="../images/car.jpg">
</div> 
```

现在我希望这张图片 -imgFrontRight 可以使用以下属性进行拖动

```
$( "#imgFrontLeft" ). draggable
({ 
    axis: "y" ,
    containment:[0,152,0,290] }); 
```

当图像在我的 jquery javascript 文件中动态创建时，我已经实现了这一点。但是，当使用 img 标签在 html 文件中创建图像时，我希望发生同样的事情。

请帮助解决这个问题。感谢你 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:23:08.463

如果您正在动态创建元素，那么在将动态元素添加到之后，`dom`您需要通过调用它来使其可拖动`jQeury.draggable`。

```
$('<img src="" />').appendTo(x).draggable({....}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/HE3Le/)

# c - 如何在c中获取屏幕截图

> ID：14767261
> 
> 赞同：-8
> 
> 时间：2013-02-08T06:54:08.010
> 
> 标签：c, linux, screenshot

如何在 c 中获取屏幕截图。我想在没有任何其他库的情况下执行此操作，只需支持 c。你能为我提供整个代码源吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:02:40.050

标准 C 没有可用于此的库函数。标准 C 甚至不知道屏幕。您需要使用系统特定的调用。如果您使用的是 Linux，那么您可能使用的是 X 窗口系统，所以请看一下。它的库称为[Xlib](http://en.wikipedia.org/wiki/Xlib)。或者，更简单，找到一个截取屏幕截图的程序，然后使用函数[system()](http://www.acm.uiuc.edu/webmonkeys/book/c_guide/2.13.html#system)调用该程序。

# c# - 如何制作一个每次随机狗获胜的系统？

> ID：14767265
> 
> 赞同：1
> 
> 时间：2013-02-08T06:54:42.290
> 
> 标签：c#, random, instance

假设我有一门课叫狗，另一门叫人。我需要那些人能够赌狗，他们是按数字赌的（所以“人”赌狗 2 号）。如果狗赢了，他们会得到现金，否则他们会输。现在我遇到的问题是制作每只狗每次都获胜的系统。我想过这样做：

```
class Dog
    {
        public Random random;
        private bool race()
        {
            for (int i = random.Next(1,10); i < 10; i++)
            {
                return false;
            }
            return true;
        }
    } 
```

这将使它为每个调用 race 方法的实例生成一个介于 1 和 4 之间的随机数。但是这样一来，最终它们都将达到 10 并返回 true，因为我无法说“当其中一个实例返回 true 时，停止所有其他实例的方法。而且，如果巧合两个实例生成相同的数字那么他们都会赢，我也不希望有两个赢家。那么我该如何改进这种方法或制作一个更好的方法，我可以制作尽可能多的狗实例，但只有一只狗会赢？

请记住，我对此很陌生，还不能使用事件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:58:48.087

我认为最简单的处理方法是创建一个`Race`类或类似的。

```
public class Race
{
    public Dog Race(Dog[] dogs)
    {
        Random random = new Random();
        return dogs[random.Next(0, dogs.Length)];
    }
} 
```

# javascript - 如何访问 MongoDB 查询中的子文档？

> ID：14767266
> 
> 赞同：2
> 
> 时间：2013-02-08T06:55:21.770
> 
> 标签：javascript, json, mongodb, cursor, bson

所以我有以下代码。我需要它在 MongoDB shell 中运行。它在数据库中查询属性标记为 true 的人。现在我遇到了麻烦，因为我不知道如何将查询的 numcollect 部分更改为数组。我正在尝试平均 numcollect 集合中的所有数字。我知道这段代码不正确，但它显示了我正在尝试做的事情。我需要改变什么？

数据库：

```
{
     "name":"John Doe",
     "attribute":"true",
     "numcollect":{
        "one":12,
        "two":22,
        "three":44,
        "four":79
     }
},
{
     "name":"Jane Doe",
     "attribute":"true",
     "numcollect":{
        "one":13,
        "two":55,
        "three":18
     }
} 
```

代码

```
var people= [];
var index = 0;
db.test.find({"attribute":"true"}).forEach(
    function(myDoc) { 
        var person=new Object();
        person.name=myDoc.name;
        person.numcollect=myDoc.numcollect;
        person.numavg = 0;
        var i = 0;
        for(i = 0; i<numcollect.length; i++)
        {
            person.numavg+=person.numcollect[i];
        }
        person.numavg/=i;
        people[index]=person;
        index++;
    } 
); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:28:32.360

所以首先这个问题与 MongoDB 无关（因为它或多或少地使用了标准的 JavaScript 实现）。您只是想知道如何在 JavaScript 中循环遍历字典/对象中的值：

```
for (var i in numcollect) {
    if (numcollect.hasOwnProperty(i)) {
        person.numavg += numcollect[i];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-14T01:38:57.633

这可以是一个答案：

```
collection.mapReduce(function(){
            for(var key in this.numcollect)
                emit(this._id, this.numcollect[key])
        }, function(key, values){
            return Array.sum(values)
        },{
            out:{inline:1}
        }, function(err, doc){
            if(err){
                console.log("mapReduce ERROR", err);
            }else{
                console.log("mapReduce Result", doc);
            }
        }) 
```

# ruby-on-rails - Rails 3 - 如何表示属于城市的用户模型？

> ID：14767267
> 
> 赞同：2
> 
> 时间：2013-02-08T06:55:24.593
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rails-activerecord

我有一个用户模型，每个用户都有一个公司名称和一个与之关联的城市。对于该项目，我需要根据城市列出每个用户。例如：citywise/san-francisco、citywise/new-york。目前这些是心目中的模型

```
class User < ActiveRecord::Base
  attr_accessible :name, :company

  belongs_to :city
end

class City < ActiveRecord::Base
  attr_accessible :name, :slug

  has_many :users
end 
```

此外，城市不能是预定义的列表。它应该在数据库中创建每个用户时创建。

那么，**如何在创建/更新用户时访问或创建城市？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:36:05.830

首先，您需要将 Accepts_nested_attributes_for 和 attributes_for :cities_attributes 添加到您的 City 模型中：

```
class City < ActiveRecord::Base
  attr_accessible :name, :slug, attributes_for :cities_attributes
  accepts_nested_attributes_for :cities

  has_many_users
end 
```

由于您现在可以访问 City 模型中的所有属性，因此您可以使用字段将这些包含在表单中。

```
<%= form_for@city do |f| %>
   # City attributes
  <%= f.fields_for :users do |c| %>
     # User attributes
  <% end %>
<% end %> 
```

在您的索引视图中，您还可以使用嵌套：

```
<% @cities.each do |city| %>
  # city attributes goes here
  <% city.users.each do |user| %>
    # user attributes goes here 
```

第一行显示您定义的每个城市的所有属性，而第二行显示特定城市的每个用户的属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T06:58:27.793

您需要查看用户模型上的嵌套属性。

这是 的文档`accepts_nested_attributes_for`，该方法应该可以帮助您。[http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html](http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html)

# javascript - 状态栏消息未显示在托管网站上

> ID：14767269
> 
> 赞同：0
> 
> 时间：2013-02-08T06:55:32.777
> 
> 标签：javascript, asp.net

我使用下面的脚本在浏览器的状态栏上显示消息。

```
If Session("UserName") IsNot Nothing Then
        Dim strUserMessage As String = Session("UserName").ToString & ", Welcome to ABC Application"
        Page.ClientScript.RegisterStartupScript(Me.GetType(), "strUser", "<script>window.status = '" & strUserMessage & "' </script>")
    End If 
```

但是，此消息正确显示在 locahost/intranet 上。

但是每当我们在互联网上托管这个网站时。此消息未显示。

我们必须进行某些配置设置吗？？？

# c# - 如何将asp.net c#中的日期与sql进行比较

> ID：14767271
> 
> 赞同：0
> 
> 时间：2013-02-08T06:55:38.673
> 
> 标签：c#, asp.net

## 我的表 TimeTable 中有 2 列

1.  `start_date`（格式为`DD-MM-YYYY`）
2.  `end_date`

如果我从我的登录页面登录，我想检查当前日期是否在`start_date`和之间`end_date`；如果是这样，我可以登录。

如何在 C#..asp.net.. 中进行比较？

我已成功在登录页面中打印当前日期。

```
lblMsg.Text= DateTime.Now.ToString("dd-MM-yyyy"); 
```

我在 c# 中使用 asp.net

```
 start_date              end_date
8/2/2013 12:00:00 AM    10/2/2013 12:00:00 AM 
```

## 以 DD/MM/YYYY 格式存储日期的代码

CultureInfo 提供者 = CultureInfo.InvariantCulture；

```
 DateTime startdate = DateTime.ParseExact(tbstartdate.Text.ToString().Trim(), "dd/MM/yyyy", provider);
        DateTime enddate = DateTime.ParseExact(tbenddate.Text.ToString().Trim(),"dd/MM/yyyy",provider);
        string sql = "INSERT INTO TimeTable(start_date,end_date)"
     + "VALUES (@startdate,@enddate)";
        SqlConnection conn = new SqlConnection(ConnectionString);
        conn.Open();
        SqlCommand cmd = new SqlCommand(sql, conn);

        cmd.Parameters.Add("@startdate", SqlDbType.DateTime).Value = startdate;
        cmd.Parameters.Add("@enddate", SqlDbType.DateTime).Value = enddate;

        cmd.Prepare();
        n = cmd.ExecuteNonQuery();

        conn.Close(); 
```

## 登录页面查看日期代码

CultureInfo 提供者 = CultureInfo.InvariantCulture；

```
 DateTime date = DateTime.ParseExact(DateTime.Now.ToString("dd/mm/yyyy"), "dd/MM/yyyy", provider);
      //  DateTime date=DateTime.Now.ToString("dd/mm/yyyy");

        string query1 = "select * from TimeTable where ((start_date >= @date1 and End_date<= @date2) and UserType=@type)";
        SqlConnection conn = new SqlConnection(ConnectionString);
        conn.Open();
        SqlCommand com = new SqlCommand(query1, conn);
        com.Parameters.Add("@type",dpusertype.SelectedItem.Text.ToString());
        com.Parameters.Add("@date1",date);
        com.Parameters.Add("@date2", date);
        com.CommandType = CommandType.Text;
        SqlDataAdapter da = new SqlDataAdapter(com);
        DataTable dt = new DataTable();
        da.Fill(dt); 
```

`if (dt.Rows.Count > 0) // 比较表中的用户

```
 {

            FormsAuthentication.RedirectFromLoginPage(txtFcode.Text, Persist.Checked);
            Response.Redirect("~/DeptCoordinator/DeptCoordinator_homepage.aspx");  
        } 
```

## 出现错误

> 日历 System.Globalization.GregorianCalendar 不支持字符串表示的 DateTime。描述`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:04:17.207

你想同步类型：

将c#日期转换为sql格式

```
var sqlFormattedDate = myDateTime.Date.ToString("yyyy-MM-dd HH:mm:ss"); 
```

# emacs - Emacs AC 模式（自动完成）模式可以配置为忽略数字吗？

> ID：14767277
> 
> 赞同：4
> 
> 时间：2013-02-08T06:56:26.823
> 
> 标签：emacs, autocomplete

我在输入文本文件时经常包含数字数据、电话号码等，这会给 AC 模式带来麻烦。现在，当我输入“2”时，我会得到一个自动完成选项，其中包含我曾经输入的以“2”开头的每个数字或数字代码。至少可以说不是很有帮助。

我进去清理了我的`ac-comphist.dat`，但它又被数字污染了。有没有办法首先防止这些条目被添加，也许是使用正则表达式过滤器？我尝试`ac-ignores`使用整数列表设置变量，但似乎没有解决问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T16:00:56.937

我想我从来没有注意到十进制数字，但是对于十六进制数字，它真的很烦人。`ac-prefix-default`我通过像这样重新定义来修复它：

```
(eval-after-load "auto-complete"
  '(progn
     (defun ac-prefix-default ()
       "Same as `ac-prefix-symbol' but ignore a number prefix."
       (let ((start (ac-prefix-symbol)))
         (when (and start
                  (not (string-match "^\\(?:0[xX][0-9A-Fa-f]+\\|[0-9]+\\)$"
                                     (buffer-substring-no-properties start (point)))))
           start)))
     )) 
```

# java - 如何根据java构造函数中的参数进行响应

> ID：14767278
> 
> 赞同：0
> 
> 时间：2013-02-08T06:56:31.707
> 
> 标签：java, constructor, argument-validation

我有一个 MVC 类型的架构，用于向我的应用程序注册新用户。用户将注册表单提交给控制器 servlet。此 servlet 提取用户参数并将它们传递给类构造函数，该构造函数表示（并返回）一个模板（或虚拟）用户，其中所有字段都基于参数初始化。

我记得人们在使用它们之前坚持在方法或构造函数中进行参数验证。现在我尝试检查参数的有效性（例如它们不为空）。因此，当我发现任何具有无效值的参数时，如何通知 servlet 该特定参数无效，因为我无法从构造函数返回值。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:58:45.467

您应该使用另一个服务或某个类来验证您的数据，并从方法中抛出异常或将消息传递回 servlet

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T06:59:06.093

在调用构造函数之前进行验证。如果有任何问题，请返回错误信息给用户。如果一切正常，那么只需调用构造函数并创建对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T06:58:22.403

在调用构造函数之前在 servlet 中进行验证。如果验证失败，则转发到 error.jsp，您将在其中显示哪个输入参数为 null 或无效。

# ruby-on-rails - Rails 中的购物车结账错误

> ID：14767281
> 
> 赞同：0
> 
> 时间：2013-02-08T06:56:51.207
> 
> 标签：ruby-on-rails, forms, shopping-cart, stripe-payments

我不确定我错过了什么，我正在尝试将 Stripe Payments 与购物车结帐系统一起使用。我不断收到以下错误：

> /Users/dave/rails_projects/testapp/app/controllers/calendars_controller.rb:78：语法错误，意外keyword_end，期待$end

**表格中的动作**

```
 def create
    @cart = current_cart
    @calendar = Calendar.new(params[:calendar])
    @calendar.add_line_items_from_cart(current_cart)
    if @calendar.save
      Cart.destroy(session[:cart_id])
      session[:cart_id] = nil
      redirect_to calendar_path, notice: 'Your order is done.' 
    end
    # Amount in cents
    @amount = @cart.total_price
    customer = Stripe::Customer.create(
      :email => 'example@stripe.com',
      :card  => params[:stripeToken]
    )

    charge = Stripe::Charge.create(
      :customer    => customer.id,
      :amount      => @amount,
      :description => 'EquiptMe Gear Rental',
      :currency    => 'usd'
    )

    rescue Stripe::CardError => e
      flash[:error] = e.message
      redirect_to charges_path
    end

  end 
```

**风景**

```
<script src="https://checkout.stripe.com/v2/checkout.js" class="stripe-button"
          data-key="<%= Rails.configuration.stripe[:publishable_key] %>"
          data-description="A month's subscription"
          data-amount="500">
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T06:58:59.967

你的结局太多了。删除最后一个“结束”，它应该可以工作

# android - Android Maps v2 使用指南针旋转 mapView

> ID：14767282
> 
> 赞同：11
> 
> 时间：2013-02-08T06:57:00.523
> 
> 标签：android, google-maps, google-maps-api-2, google-maps-android-api-2, android-maps-v2

我正在开发一个需要用指南针旋转 mapView 的应用程序。我知道如何旋转相机，但我需要用指南针旋转 mapView。中心点应该是当前位置。我找到了 Maps V1 的代码，但我需要使用 Maps V2

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-12T11:16:50.353

好的，我自己想通了。首先，您需要从指南针计算方位。然后可以旋转 Maps api-2 相机。

```
public void updateCamera(float bearing) {
            CameraPosition currentPlace = new CameraPosition.Builder()
                    .target(new LatLng(centerLatitude, centerLongitude))
                    .bearing(bearing).tilt(65.5f).zoom(18f).build();
            googleMap.moveCamera(CameraUpdateFactory.newCameraPosition(currentPlace));

    } 
```

在您的代码中设置并在事件`SensorListener`中调用此方法。`onSensorChanged`我添加了一个倾斜值，因此地图将以 3D 旋转。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-07-07T13:42:13.533

在您的 GoogleMap 对象中，您可以访问 getMyLocation 方法。最后返回一个包含 getBearing 方法的 Location 对象。这个返回一个浮点数 [0..360]，根据最后一个已知位置和当前位置计算得出，0° 是北轴，旋转是时钟感应。

要恢复，您可以使用如下代码：

```
GoogleMap gMap = ..... 
float bearing = gMap.getMyLocation().getBearing();
CameraPosition newCamPos = new CameraPosition(latLngObject,
            zoomValue,
            tiltValue,
            bearing);
gMap.animateCamera(CameraUpdateFactory.newCameraPosition(newCamPos), durationValue, null); 
```

# algorithm - 超图的实际应用

> ID：14767284
> 
> 赞同：11
> 
> 时间：2013-02-08T06:57:11.270
> 
> 标签：algorithm, theory, graph-theory

超[图](http://en.wikipedia.org/wiki/Hypergraph)是一种图泛化，其中边可以连接许多顶点。最近我看到很多关于超图（分割、聚类等）的出版物。所以我的问题是：

*   是否有任何超图（可能还有实现）在现实世界中的应用，或者这只是不打算被工程师使用的学术研究？
*   是否有可以与超图一起使用的常见图算法的类似物，例如 max-flow 或 Dijkstra？

我对正态图有直觉。例如，图可以用来表示传输网络或贝叶斯网络的繁忙度规则。但是我对超图没有这种直觉，它们对我来说绝对是违反直觉的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T09:35:56.190

超图可表示为二分图，二分图可用于构造超图。这实际上只是说您可以将某种形式的参与者之间的交互表示为顶点或（超）边。

一旦我们认识到这种等价性，我们就可以得出结论，当您可能使用二分图时，超图是可用的，并且图算法的类似物更直接地适用于二分图上的算法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-10-29T15:13:51.483

使用超图可以很好地进行图像聚类：http: [//vision.ucsd.edu/bpc/](http://vision.ucsd.edu/bpc/)

幻灯片在这里：http: [//vision.ucsd.edu/~sagarwal/bpc_cvpr05_slides.pdf](http://vision.ucsd.edu/~sagarwal/bpc_cvpr05_slides.pdf)

尽管该算法没有成为主流，但它是超间隙中链接的概念及其含义的一个优雅例证。我认为超图在数据挖掘中可能非常有用。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-08T09:15:07.830

零件组装的数学模型基于超图。这在计算机辅助制造 (CAM) 系统中用于确定可能的和最佳的（在某种意义上）装配顺序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-02-18T00:58:07.417

[![在此处输入图像描述](../Images/4861e601b109bfb1d89cc55271474c73.png "图 1 - Battiston 等人的高阶交互表示。 人 [1]")](https://i.stack.imgur.com/NYTgA.png "图 1 - Battiston 等人的高阶交互表示。 人 [1]") ^(*图 1 - Battiston 等人的高阶交互表示。人 [1]*)

## 超图

在考虑组交互时，超图是一种有用的数据表示。考虑一个作者网络，其中一组作者 - 即 , `Author-A`,`Author-B`和`Author-C`在单一出版物中共同创作的人。使用传统的图边表示此信息，其中每条边连接两个作者以显示共同作者关系带来两个问题。**首先**，它引入了误导性信息，我们无法区分三位作者的单一出版物的情况；其中三位作者合着了三篇出版物（即`Publication-1`由`Author-A`and合着`Author-B`；and合着；and合着）。第二**个**`Publication-2``Author-B``Author-C``Publication-3``Author-A``Author-C`**使用传统图表示表示超图的含义是图存储中的数据膨胀。例如，在我们之前的共同作者网络中，我们需要添加**N*(N-1) 条**边来表示单个出版物的**N**个作者之间的共同作者身份。通过学习如何将数据编码到这些结构中，以及如何操纵它们以提取有意义的数据，我们或许能够获得对数据的洞察，而这在以前是不可能的。**

 **[![在此处输入图像描述](../Images/18a2647adb9a5b4f39b6a58c9ee3ca0d.png "图 2 - 表示组 {0,1,2}、{1,2,3} 和 {0,3} 的示例超图及其来自 [2] 的二分表示")](https://i.stack.imgur.com/UIPsK.png "图 2 - 表示组 {0,1,2}、{1,2,3} 和 {0,3} 的示例超图及其来自 [2] 的二分表示") ^(*图 2 - 表示组 {0,1,2}、{1,2,3} 和 {0,3} 的示例超图及其来自 [2] 的二分表示*)

## 超图算法

### 网页排名

Pagerank 是一种常用的图分析算法。它用于查找网络中顶点的相对重要性。在广泛的应用中，pagerank 起着非常重要的作用，例如在`recommendation systems`、`link prediction`、`search engines`等中。我们可以从两种不同的方式来考虑 pagerank 在超图中的含义。**首先**，顶点在网络中的重要性基于它们的组参与。例如，在社交网络环境中，我们可以根据组成员身份来衡量用户的重要性，例如，拥有少数用户的组的管理员可能对整个网络有更大的影响。**第二**，超边的重要性基于它链接到的顶点。例如，从共同作者网络中，我们可以根据作者在网络中的相对重要性找到最有影响力的出版物。

## 参考

1.  Battiston, F.、Cencetti, G.、Iacopini, I.、Latora, V.、Lucas, M.、Patania, A.、Young, J.-G. 和 Petri, G. (2020)。超越成对交互的网络：结构和动力学。物理报告。[https://doi.org/10.1016/j.physrep.2020.05.004](https://doi.org/10.1016/j.physrep.2020.05.004)
2.  朱利安顺。2020.实用的并行超图算法。在第 25 届 ACM SIGPLAN 并行编程原理与实践研讨会论文集 (PPoPP '20) 上。计算机协会，纽约，纽约，美国，232–249。DOI：[https ://doi.org/10.1145/3332466.3374527](https://doi.org/10.1145/3332466.3374527)
3.  Abdullah Al Raqibul Islam，使用 Apache Spark 实现超图 PageRank 的实验代码。，（2021 年），GitHub 存储库，[https://github.com/biqar/hypergraph-study](https://github.com/biqar/hypergraph-study)**

# javascript - 通过 javascript 将 jQuery 添加到 DOM - 不起作用

> ID：14767291
> 
> 赞同：1
> 
> 时间：2013-02-08T06:57:24.440
> 
> 标签：javascript, jquery, appendchild, createelement

我正在尝试通过脚本将 jQuery 添加到我的文档中，但从未找到 jQuery 库，尽管根据 firebug，脚本元素及其属性已附加到 DOM。即使等待了很长时间，图书馆也无法使用。我究竟做错了什么。

```
 if(typeof jQuery === 'undefined'){
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js";
        document.getElementsByTagName("head")[0].appendChild(script);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:03:42.607

从我的一些代码中复制的以下代码（因为这只是为了安全）应该可以工作：

```
if (typeof(jQuery.ui) == 'undefined')
{
    var script     = document.createElement('script');
    script.src = url;

    var head = document.getElementsByTagName('head')[0],

    // Attach handlers for all browsers
    script.onload = script.onreadystatechange = function() {

         if (!done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete')) {
        // callback function provided as param
        if(success != null)
        {
            success();
        }
        script.onload = script.onreadystatechange = null;
        };              
    };              
    head.appendChild(script);   
} 
```

顺便说一句，成功是我为真正的初始化定义的回调函数。就像gdoron说你需要等待它加载。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-08T07:04:52.133

尝试这个。它简单且工作正常..

```
if(typeof jQuery === 'undefined'){
var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js";
    document.head.appendChild(script);

} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-08T07:06:41.317

相反，如果使用`script.src`尝试使用`setAttribute`函数。

```
if (typeof jQuery === 'undefined') {
    var script = document.createElement("script");
    script.setAttribute("type","text/javascript");
    script.setAttribute("src","http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js");
    document.getElementsByTagName("head")[0].appendChild(script);
} 
```

# python - 我是否需要传入元组的所有值来索引字典？

> ID：14767293
> 
> 赞同：2
> 
> 时间：2013-02-08T06:57:31.393
> 
> 标签：python, list, hash, dictionary

使用 Python，我创建了一个由元组索引的列表：

```
return values[(a, b)] 
```

但是，有时我想传入`(a, _)`我不在乎的值`b`是什么的地方，并接收所有可能索引的列表。

如：

```
values[(dog, _)] => returns [(dog, Mike), (dog, Sam), (dog, Edward)] 
```

这在 Python 中可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:02:11.000

您必须使用键的确切值来索引字典。

要查找多个键，您需要遍历它们：

```
[k for k in my_dict if k[0] == dog] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:14:40.743

您不能使用元组键对字典进行部分索引。您必须使用相同的密钥来提取用于插入它的数据。

但是，另一种方法是使用嵌套字典。也就是说`values[key1,key2]`，您将索引两次，而不是使用单个元组 ()进行索引`values[key1][key2]`。如果你只提供第一个键，你会得到一个包含数据的内部字典。

这是一个例子：

```
>>> d = {1: {1: 2, 2: 3, 3: 4}, 2: {2: 1, 3: 2, 4: 3}}
>>> d[1][1]
2
>>> d[1]
{1: 2, 2: 3, 3: 4} 
```

如果您只想要一个内部字典的值，您可以使用以下`values`方法获取它：

```
>>> d[1].values()
dict_values([2, 3, 4]) 
```

在 Python 3 中，`dict.values`返回一个可迭代的“视图”对象。如果您需要一个真正的列表，只需将`values`调用包装在列表构造函数中（请注意值的顺序是任意的）：

```
>>> list(d[1].values())
[2, 3, 4] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T07:08:23.450

如果你有一个元组列表，那么你可以简单地从元组列表中创建一个字典，并将第一个元素用作字典键，如下所示：

```
>>> import collections
>>> l = [('a', 'foo'), ('a', 'bar'), ('b', 'hello')]
>>> d = collections.defaultdict(list)
>>> for k, v in l:
...   d[k].append(v)
... 
>>> d
defaultdict(<type 'list'>, {'a': ['foo', 'bar'], 'b': ['hello']})
>>> d['a']
['foo', 'bar'] 
```

# php - PHP 解析错误：语法错误，意外的 ':'

> ID：14767296
> 
> 赞同：0
> 
> 时间：2013-02-08T06:57:38.663
> 
> 标签：php, ternary-operator

很长一段时间我都用过这样的东西：

```
$foo = $foo ?: $bar; // similar to $foo = $foo ? $foo : $bar; 
```

它运作良好。

但现在我在使用`PHP`Version of的新主机上`5.2.17`，当我尝试运行类似的代码时，它显示一个解析错误：

```
Parse error: syntax error, unexpected ':' in /../ 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T06:58:22.573

缩短的三元语法仅在[PHP 5.3 和更新版本中可用](http://php.net/manual/en/language.operators.comparison.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:16:58.720

```
Please note that the ternary operator is a statement, and that it
doesn't evaluate to a variable, but to the result of a statement. This
is important to know if you want to return a variable by reference.
The statement return $var == 42 ? $a : $b; in a return-by-reference
function will therefore not work and a warning is issued in later PHP
versions.

So there is a problem with the return-by-reference for the ?: syntax.
That's way I explicitly wrote what should be returned. 
```

参考站点[https://groups.google.com/forum/#!msg/doctrine-user/qbSAvaKH5uI/DF_2XSxFvG4J](https://groups.google.com/forum/#!msg/doctrine-user/qbSAvaKH5uI/DF_2XSxFvG4J)

我不能说它有一个`bug`，但从网址[https://bugs.php.net/bug.php?id=60169](https://bugs.php.net/bug.php?id=60169)看来`bug`

```
there is also segfault in (***)?:value notation.
like:
   <?php
     $str = array('test');
     list($a, $b) = is_array($str)?:$str;

and this make *the patch doesn't work* (a memory leak) 
```

# c# - 将多个文件发送到 WebService 并将其读入 WebService 中的单独文件

> ID：14767304
> 
> 赞同：2
> 
> 时间：2013-02-08T06:57:48.573
> 
> 标签：c#, web-services, post, asmx

我想在 C# 中编写一个 Web 服务，它从流中接收多个文件，将它们读入不同的文件，然后对这些文件执行一些询问（例如，我需要发送的文件是 XML）：

**这是我到目前为止所做的：**

1）通过以下方法发送文件，这将创建一个请求并将其发布到 Web 服务：

```
public void postMultipleFiles()
    {
        string url = "<the url of the web service>";
        HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(url);
        httpWebRequest.Method = "POST";
        httpWebRequest.KeepAlive = true;
        httpWebRequest.ContentType = "text/xml; encoding='utf-8'";
        Stream memStream = new MemoryStream();
        string[] files = { @"<file1 location>", @"<file2 location>" };
        /*AJ*/
        foreach (string file in files)
        {
            FileStream fileStream = new FileStream(file, FileMode.Open, FileAccess.Read);
            byte[] buffer = new byte[1024];
            int bytesRead = 0;
            while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) != 0)
            {
                memStream.Write(buffer, 0, bytesRead);
            }
            fileStream.Close();
        }
        httpWebRequest.ContentLength = memStream.Length;
        Stream requestStream = httpWebRequest.GetRequestStream();
        memStream.Position = 0;
        byte[] tempBuffer = new byte[memStream.Length];
        memStream.Read(tempBuffer, 0, tempBuffer.Length);
        memStream.Close();
        requestStream.Write(tempBuffer, 0, tempBuffer.Length);
        requestStream.Close();
        try
        {
            WebResponse webResponse = httpWebRequest.GetResponse();
            Stream stream = webResponse.GetResponseStream();
            StreamReader reader = new StreamReader(stream);
            response.InnerHtml = reader.ReadToEnd();
            //Response.Write(reader.ReadToEnd());
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.ToString());
        }
        httpWebRequest = null;
    } 
```

2）读取webservice中的流如下：

```
[WebMethod]
    public string MultiFilePost()
    {
        string xmls = "";
        if (HttpContext.Current.Request.InputStream != null)
        { 
            StreamReader stream = new StreamReader(HttpContext.Current.Request.InputStream);
            xmls = stream.ReadToEnd(); // added to view content of input stream
            xmls = xmls.Replace("\r\n", "").Replace("\r", "").Replace("\n", "");
        }
        return xmls;
    } 
```

但这会将文件读入一个字符串，一个接一个地附加。

我如何设法将它放入两个不同的 XML 文件中？

提前致谢....

# c - 如何使用按位运算符计算对数基数 2？

> ID：14767308
> 
> 赞同：12
> 
> 时间：2013-02-08T06:57:59.260
> 
> 标签：c, bit-manipulation, logarithm, binary-log

我需要计算 C 中数字的以 2 为底的对数，但我不能使用数学库。答案不需要精确，只需要最接近的 int。我已经考虑过了，我知道我可以只使用一个 while 循环并将数字除以 2 直到它 < 2，并保持迭代计数，但是这可以使用按位运算符吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-08-09T04:21:23.940

abamert 已经回答了，但更具体地说，这就是你将如何编码：

```
Log2(x) = result
while (x >>= 1) result++; 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-08T07:03:18.083

如果将[移位](http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts)算作按位运算符，这很容易。

您已经知道如何通过连续除以 2 来做到这一点。

`x >> 1``x / 2`与C 中的任何无符号整数相同。

如果您需要加快速度，您可以进行“分而治之”——例如，一次移动 4 位，直到达到 0，然后返回查看最后 4 位。这意味着最多 16 个班次和 19 次比较，而不是每个班次 63 次。在现代 CPU 上是否真的更快，我不能不经过测试就说。你可以更进一步，先做 16 组，然后 4 组，然后 1 组。在这里可能没用，但如果你有一些 1024 位整数，可能值得考虑。

# haskell - Parsec 的单元测试？

> ID：14767309
> 
> 赞同：2
> 
> 时间：2013-02-08T06:58:04.370
> 
> 标签：haskell, parsec

我在哪里可以找到 Parsec 实施的测试？

[Parsec 的darcs 存储库](http://code.haskell.org/parsec3/)中没有任何内容。

注意：我不是在问*如何*为 Parsec 解析器编写测试，而是在寻找 Parsec 库本身的测试。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T00:46:24.680

Parsec 最初有一个名为 pbench 的测试/基准测试套件。它似乎迷失了时间：[http ://web.archive.org/web/20030818092724/http://www.cs.uu.nl/people/daan/pbench.html](http://web.archive.org/web/20030818092724/http://www.cs.uu.nl/people/daan/pbench.html)

据我所知，目前尚无 Parsec 的单元测试/回归套件。请参阅此处的讨论：http: [//permalink.gmane.org/gmane.comp.lang.haskell.libraries/14479](http://permalink.gmane.org/gmane.comp.lang.haskell.libraries/14479)

通过依赖为 attoparsec 编写的测试套件，无需太多工作*即可构建测试套件：* [https ://github.com/bos/attoparsec/tree/master/tests](https://github.com/bos/attoparsec/tree/master/tests)

# facebook-graph-api - FB.login() 使用测试用户 API 失败（自 2 天起）

> ID：14767314
> 
> 赞同：2
> 
> 时间：2013-02-08T06:58:27.437
> 
> 标签：facebook-graph-api, facebook-javascript-sdk

我想知道我是否是唯一一个遇到这个问题的人。

自从 2 天以来，一切都运行良好，我在登录测试用户（通过）后尝试与 facebook 连接时遇到问题`test user API`。

我的测试用户正在登录 facebook，但是当单击“与 facebook 连接”（调用 FB.login()）时，我收到 HTTP 错误 500。

当我退出测试用户会话并登录我的个人 facebook 帐户（手动在 facebook.com 上），然后返回我的应用程序并做同样的事情，一切正常。

我从 2 天开始就遇到了这个问题，但我没有触及我的这部分代码......

有人遇到同样的问题吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T16:50:51.573

我发现我们有很多开发人员遇到了这个问题，您可以[在此处](http://developers.facebook.com/bugs/587975411230466?browse=search_511a723d3868f0582858870)订阅，以便 Facebook 团队对此进行更新。

# php - .htaccess 中的 RewriteRules 会影响网站的速度吗？

> ID：14767316
> 
> 赞同：5
> 
> 时间：2013-02-08T06:58:29.617
> 
> 标签：php, performance, .htaccess, mod-rewrite

我打算在主目录中添加最多 10 个 .htaccess 重写 url 代码会影响我网站的执行（网站的加载时间）吗？

我当前的 .htaccess 文件是

```
Options +FollowSymLinks
RewriteEngine On
RewriteRule ^([0-9]+)/([0-9]+)/([^.]+).html index.php?perma=$3
RewriteRule ^movies/([^.]+).html gallery.php?movie=$1
RewriteRule ^album/([^.]+).html gallery.php?album=$1
RewriteRule ^img/([^.]+)/([^.]+).html gallery.php?img=$2
RewriteRule ^movies.html gallery.php 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:09:54.703

使用 apache mod_rewrite 时，您可能需要查看[重写规则顺序对性能的影响](https://stackoverflow.com/questions/6478346/performance-impact-of-order-of-rewrite-rules-when-using-apache-mod-rewrite)，就像@diolemo 评论的那样，对于 20 条重写规则，它并不明显。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T07:58:38.790

是的，它会影响加载时间。您拥有的规则/例外越多，渲染所需的时间就越长。但是：我们谈论的是人眼甚至不会注意到的微秒/毫秒。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-08T08:31:08.103

10 条规则不是问题，但供将来参考：通常的方法是将所有内容重定向到单个入口点，并让应用程序进行路由。一个简单的例子：

**.htaccess**

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* index.php [L,QSA] 
```

**索引.php**

```
$query = $_SERVER['REQUEST_URI'];
$queryParts = explode('/', $query);
switch($queryParts[0]) {
    case 'movies':
        // ...
        break;
    case 'album':
        // ...
        break;
    case 'img':
        // ...
        break;
    // ...
    default:
        // 404 not found
} 
```

这些`RewriteCond`条件确保不会重写对现有文件的请求。QSA 是可选的，它的意思是“附加查询字符串”，例如`movies.html?sort=title`被重写为`index.php?sort=title`. 原始请求 URI 在`$_SERVER['REQUEST_URI']`.

如果您的应用程序是面向对象的，那么您会对[前端控制器模式感兴趣。](http://martinfowler.com/eaaCatalog/frontController.html)所有主要的 PHP 框架都以某种方式使用它，这可能有助于查看它们的实现。

[如果没有，像Silex](http://silex.sensiolabs.org/)这样的微框架可以为您完成这项工作。在 Silex 中，您的路由可能如下所示：

**索引.php**

```
require_once __DIR__.'/../vendor/autoload.php';

$app = new Silex\Application();

$app->get('/{year}/{month}/{slug}', function ($year, $month, $slug) use ($app) {
    return include 'article.php';
});
$app->get('/movies/{movie}.html', function ($movie) use ($app) {
    return include 'gallery.php';
});
$app->get('/album/{album}.html', function ($album) use ($app) {
    return include 'gallery.php';
});
$app->get('/img/{parent}/{img}.html', function ($parent, $img) use ($app) {
    return include 'gallery.php';
});
$app->get('/movies.html', function () use ($app) {
    return include 'gallery.php';
});

$app->run(); 
```

`gallery.php`并且`article.php`必须*返回*他们的输出。如果您替换`$_GET['var']`为`$var`并添加输出缓冲，您可能可以使用此 index.php 重用现有脚本：

**画廊.php**

```
ob_start();
// ...
return ob_get_clean(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T07:50:39.703

下载网页所需的大部分时间来自于检索 HTML、CSS、JavaScript 和图像。重写 URL 的时间可以忽略不计。

通常，图像是加载时间缓慢的最大原因。像 Pingdom 这样的工具可以帮助您了解各种组件的加载时间。

[http://tools.pingdom.com/fpt/](http://tools.pingdom.com/fpt/)

HTH。

# c++ - 使用指针成员变量将数据输入到结构中

> ID：14767328
> 
> 赞同：0
> 
> 时间：2013-02-08T06:59:45.670
> 
> 标签：c++, pointers, struct, cin, dot-operator

我正忙着弄清楚接下来要做什么。基本上，这个程序只能使用指针变量（*）和动态分配的内存（例如，“int *variable = new int”）。我必须在其他一切之上创建一个结构！

我在下面包含了一些代码。我所有的 cin ">>" 运算符下面都有红线，并显示一条消息，“错误：没有运算符 ">>" 与这些操作数匹配”。在代码的“one.score2”部分（最后一行）中，我的“one”下方还有一条红线，并显示一条消息，“错误：表达式必须具有整数或非范围枚举类型”。

我怎样才能让我的代码工作？

```
#include <iostream>
#include <string>
using namespace std;

// Define structures
struct student
{
    string *name;
    double *score, *score2, *average;
};

void main(void)
{
    // Create our students
    student one, two;

    cout << "Enter the first student's name: ";
    cin >> one.name;
    cout << endl << "Enter " << one.name << "'s first exam: ";
    cin >> one.score;
    cout << endl << "Enter " << one.name << "'s second exam: ";
    cin >> one.score2;
    one.average = ((one.score + one.score2) / 2); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:03:10.707

您需要使用运算符`*`来取消引用指针。那是，

```
cout << "Enter the first student's name: ";
cin >> *one.name;
cout << endl << "Enter " << *one.name << "'s first exam: ";
cin >> *one.score;
cout << endl << "Enter " << *one.name << "'s second exam: ";
cin >> *one.score2;
*one.average = ((*one.score + *one.score2) / 2); 
```

但是，您需要记住首先为这些指针分配内存。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:04:28.180

只需更改您的结构如下

```
struct student
{
    string name;
    double score, score2, average;
}; 
```

根据您的示例，它们不需要是指针，正如 Joachim Pileborg 也*指出*的那样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:06:21.757

像 score 这样的成员是指向实际数据的指针。例如`one.score`，是一个指向双精度的指针。当您想 cin 到双精度时，您至少应该取消引用指针：

```
cin >> *one.score 
```

在您的 main() 示例中，您错过了分配数据实例。

```
one.score = new int;
cin >> *one.score 
```

最好的方法是避免指针访问数据，并使数据成为学生的成员。

# android - 您可以在 Android ICS 中强制显示三点下拉选项菜单吗？

> ID：14767330
> 
> 赞同：0
> 
> 时间：2013-02-08T06:59:45.840
> 
> 标签：android, drop-down-menu, android-actionbar, android-4.0-ice-cream-sandwich, popupmenu

我正在尝试找到一种方法来强制在 Android ICS 中显示三点下拉菜单。我知道它应该在缺少设置/菜单的硬按钮时显示。

这是我所指的屏幕截图：

[http://cdn.gottabemobile.com/wp-content/uploads/2011/12/ICS-Screen05.jpg](http://cdn.gottabemobile.com/wp-content/uploads/2011/12/ICS-Screen05.jpg)

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:06:49.260

`android:showAsAction="never"`您可以通过在菜单中使用 XML来强制项目出现在溢出菜单中。但是，如果您的设备有硬件菜单键，则不会显示溢出。您必须对单击的项目进行一些伪造，然后下拉自定义上下文菜单或其他内容。

我的应用程序也遇到了这个问题，尽管我更愿意强制它，但最好还是使用预期的平台行为并将其留给菜单按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-26T14:54:55.443

所以，事实证明这很简单，我最近在我的应用程序中实现了。

需要在溢出菜单中显示的项目，将它们嵌套在一个菜单项下，如下所示：

```
<menu xmlns:android="http://schemas.android.com/apk/res/android" >

    <item
        android:id="@+id/empty"
        android:orderInCategory="101"
        android:showAsAction="always"
        android:icon="@drawable/ic_action_overflow">

        <menu>        

            <item
                android:id="@+id/action_settings"
                android:orderInCategory="96"
                android:showAsAction="never"
                android:title="@string/menu_settings"
                android:icon="@drawable/ic_action_settings"/>

            <item
                android:id="@+id/action_share"
                android:orderInCategory="97"
                android:showAsAction="never"
                android:title="@string/menu_share"
                android:icon="@drawable/ic_action_share"/>

            <item
                android:id="@+id/action_rate"
                android:orderInCategory="98"
                android:showAsAction="never"
                android:title="@string/menu_rate"
                android:icon="@drawable/ic_action_important"/>

            <item
                android:id="@+id/action_feedback"
                android:orderInCategory="99"
                android:showAsAction="never"
                android:title="@string/menu_feedback"
                android:icon="@drawable/ic_action_edit"/>

            </menu>         
        </item>
</menu> 
```

现在，编辑主活动文件，如下所示：

```
package com.example.test;
//all your import statements go here

Menu mainMenu=null;

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState); }

@Override
public boolean onCreateOptionsMenu(Menu menu) {     
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.main, menu);
mainMenu=menu;
return true; }

//Menu press should open 3 dot menu
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode==KeyEvent.KEYCODE_MENU) {
        mainMenu.performIdentifierAction(R.id.empty, 0);
        return true; }
    return super.onKeyDown(keyCode, event); } 
```

# curl - php-curl ubuntu server64bit (12.04)

> ID：14767332
> 
> 赞同：0
> 
> 时间：2013-02-08T07:00:10.290
> 
> 标签：curl, 64-bit, ubuntu-12.04

我正在尝试在我的 ubuntu-server 64bit 上安装 php5-curl 但它是这样说的

以下软件包具有未满足的依赖关系： php5-curl : Depends: php5-common (= 5.3.10-1ubuntu3) 但要安装 5.3.10-1ubuntu3.4 E：无法纠正问题，您持有损坏的软件包。

在其中一个论坛中，我发现这是因为磁盘空间不足。所以，我尝试了这个命令。

df -Th

使用的文件系统类型大小可用使用% 安装在 /dev/sda1 ext4 462G 283G 157G 65% / udev devtmpfs 2.0G 4.0K 2.0G 1% /dev tmpfs tmpfs 791M 3.1M 788M 1% /run none tmpfs 5.0M 0 5.0M 0 % /run/lock 无 tmpfs 2.0G 0 2.0G 0% /run/shm

似乎还有很多可用空间，但仍然无法处理

我已经尝试过 apt-get install clean && upgrade/update

没什么帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-26T03:52:08.693

我遇到了这个问题。我只需要更新我的存储库并安装 curl（通过突触安装）就可以顺利进行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:44:18.873

先试试这个：

```
sudo apt-get -f install 
```

如果它不起作用：

卸载php5并尝试：

```
sudo apt-get autoclean

sudo apt-get clean

sudo apt-get autoremove 
```

强制删除包（如果需要）

```
sudo dpkg --remove -force --force-remove-reinstreq <package name> 
```

再次尝试安装 php5。

```
sudo apt-get -f install
sudo apt-get install <package name> 
```

# jquery - 从活动的手风琴选项卡获取文本并在 jquery 中单击更改

> ID：14767334
> 
> 赞同：0
> 
> 时间：2013-02-08T07:00:26.447
> 
> 标签：jquery

我有一个带有 5 个选项卡的手风琴，我正在尝试显示活动页面中的文本。访问页面时，默认活动确实显示我拥有的代码，但单击它不会触发更改。

```
 <script>
    $('h2 a.active').change(setDisplayText).on('click', function(e) {
    $('.sub_heading').html($(this).text());
    e.preventDefault();
    }); 
    </script> 
```

h2 在 OL LI 跨度中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:53:52.340

**更新的解决方案：**
我已经得到了`.h2`显示活动标题（使用控制台将 js 注入您的页面）。您需要做的是`onSlideAnimComplete`使用函数定义选项。

替换以下行：

```
$('#three').liteAccordion({ theme : 'dark', rounded : true, enumerateSlides : false, firstSlide : 5, linkable : true, easing: 'easeInOutQuart' }); 
```

与：（我整理了一下间距）

```
$('#three').liteAccordion({
        theme : 'dark',
        rounded : true,
        enumerateSlides : false,
        firstSlide : 5,
        linkable : true,
        easing: 'easeInOutQuart',
        onSlideAnimComplete: function() {
                //Changes .h2 upon animation complete 
                $('.h2').html($('h2.selected span').html());
            }
    }); 
```

然后删除行：

```
<script>
        $('h2 a.active').change(setDisplayText).on('click', function(e) {
        $('.sub_heading').html($(this).text());
        e.preventDefault();
        });
        </script> 
```

应该得到你正在寻找的功能（删除最后一部分只是为了删除冗余和控制台中显示的错误数量。）

你会注意到这`.h2`不会立即改变。我尝试首先使用该`onTriggerSlide`选项更改文本，但`h2.selected`在动画完成之前不会转移到新标题，因此它会显示以前`h2.active`的文本。如果你想制作动画`.h2`来调整它的过渡，你可以`fadeOut`（或任何你想要的动画）打开`onTriggerSlide`，然后重新制作动画`onAnimSlideComplete`。[本页](http://nicolahibbert.com/demo/liteAccordion/)分解了您使用 liteAccordion 的所有选项/方法。

让我知道这是否适合您以及您是否需要更多帮助:)

* * *

**原始帖子：**
由于我没有更大的上下文，因此我不会为您编写任何代码，但我很确定您正在寻找的内容可以通过定义您想要在点击时发生的任何事情来完成通过指定 activate 或 beforeActivate 选项来初始化手风琴。查看[http://api.jqueryui.com/accordion/#event-activate](http://api.jqueryui.com/accordion/#event-activate)，我相信您应该找到答案。

我不知道你到底想做什么，所以你必须弄清楚是使用 ui.newHeader、ui.oldHeader、ui.newPanel 还是 ui.oldPanel，然后你想用它们做什么，但这里有一些东西可以帮助您入门：

```
$('.acc').accordion({
        activate: function(e,ui) {
                console.log(ui.newTab.html());
            });
    }); 
```

# ios - SVN 状态框将如何出现在 Xcode 项目导航器中？

> ID：14767346
> 
> 赞同：1
> 
> 时间：2013-02-08T07:01:50.957
> 
> 标签：ios, xcode, xcode4.5

SVN 状态框将如何出现在 Xcode 项目导航器中？从 svn 成功签出后，理想情况下它应该向我显示修改或添加的文件，但不是。

有谁知道如何启用它们。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:15:40.300

您需要从文件->源代码控制中选择“显示远程状态”和“显示工作副本状态”

![在此处输入图像描述](../Images/2dfd90b7a9774b86cbf34e6d65194724.png)

# macos - Oracle 虚拟机访问主机和主机 vpn

> ID：14767350
> 
> 赞同：1
> 
> 时间：2013-02-08T07:02:06.040
> 
> 标签：macos, networking, virtualbox

我在 macbook OSX 10.8.2 上运行了 Oracle virtualbox。我有一个 Windows 8 虚拟机。我想完成两件事：

*   从 vm 访问从我的主机运行的网络服务器
*   从 vm 访问我公司的网络服务器。我可以通过 VPN 从我的主机访问这些主机，我可以通过在我的主机上运行的 VPN 从我的虚拟机访问这些主机吗？

我尝试了桥接的主机适配器，但到目前为止还没有成功。

问候， 马克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:09:01.843

桥接适配器应该可以工作。您如何尝试访问虚拟机？我想IP每次都是动态的，所以用主机名试试。

# javascript - 如何在Javascript中显示RequiredFieldValidator的errorMessage

> ID：14767351
> 
> 赞同：0
> 
> 时间：2013-02-08T07:02:08.037
> 
> 标签：javascript, asp.net

假设我有一个代码将强制显示RequiredFieldValidator 的errorMessage。该验证器声明如下。

```
<asp:RequiredFieldValidator
         ID="valOrderNameRequired" ControlToValidate="OrderName" EnableClientScript="true"
        Enabled="False" runat="server" ErrorMessage="Order Name is required" 
    meta:resourcekey="valOrderNameRequiredResource1" >*</asp:RequiredFieldValidator> 
```

将显示 errorMessage 的代码如下：

```
if(Condition true/false){    
    ValidatorEnable(document.getElementById("valOrderNameRequired"), true); 
    // code here, show the errorMessage
}else{
} 
```

但是上面的代码只会显示'*'。我还想显示 errorMessage 本身“需要订单名称”。

这个怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T08:33:43.840

为了显示`ErrorMessage`of `RequiredFieldValidator`，您必须使用Document 元素的其中一个`.innerHTML`或`.innerText`属性。

```
if(Condition true/false){    
    ValidatorEnable(document.getElementById("valOrderNameRequired"), true); 
    // code here, show the errorMessage
    alert(document.getElementById("valOrderNameRequired").innerHTML);
    alert(document.getElementById("valOrderNameRequired").innerText);
}else{
} 
```

希望它可以帮助你。

# android - Android - 如何避免两个 runOnUIThread 调用之间的死锁

> ID：14767354
> 
> 赞同：2
> 
> 时间：2013-02-08T07:02:15.663
> 
> 标签：android, multithreading, deadlock

我有这个过程通过一些“如果”运行，具体取决于用户是否插入或弹出内存笔式驱动器：

```
int userStatus = StopActivity.USER_HAS_NEVER_INSERTED_MEMORY;

while (true) {

    File usbDirectoryFile = new File(usbDirectory);

    if (usbDirectoryFile.exists()) {

        verMasInfoDirectory = usbDirectory + File.separator + "vermasinfo";
        File verMasInfoDirectoryFile = new File(verMasInfoDirectory);

        if (verMasInfoDirectoryFile.exists()) {

            break;

        } else if (userStatus != StopActivity.USER_HAS_BEEN_NOTIFIED) {

            userStatus = StopActivity.USER_HAS_BEEN_NOTIFIED;
            runOnUiThread(new Runnable() {

                @Override
                public void run() {
                    Toast.makeText(StopActivity.this, R.string.stop_activity_directory_not_exists_toast_text, Toast.LENGTH_LONG).show();
                }
            });
        }
    } else if (userStatus == StopActivity.USER_HAS_BEEN_NOTIFIED) {

        userStatus = StopActivity.USER_HAS_NOT_BEEN_NOTIFIED;
        runOnUiThread(new Runnable() {

                @Override
                public void run() {
                    Toast.makeText(StopActivity.this, R.string.stop_activity_ejected_memory_toast_text, Toast.LENGTH_LONG).show();
                }
        });
    }
    usbDirectoryFile = null;
} 
```

问题是当用户快速插入/弹出笔式驱动器时，对 runOnUIThread 的调用都可能导致死锁。

我怎样才能避免这种僵局？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:17:27.047

这些调用不会导致死锁。首先，它们由系统一次运行一个。也就是说，一个运行（在事件线程上）完成（直到`run()`方法返回），然后另一个被出列并由事件线程运行。其次，runnables 没有锁定资源，所以没有理由死锁。

可能您同时关注`Toast`屏幕上的两个 s（因为每个`Toast`都在返回后显示一段时间`show()`）。唯一的问题是一个会隐藏另一个。但是，仍然没有死锁。

如果您的应用程序死锁，则问题出在其他地方。

# arguments - 警告：implode() [ function.implode ]：第 71 行 C:\wamp\www\test.php 中传递的参数无效

> ID：14767355
> 
> 赞同：0
> 
> 时间：2013-02-08T07:02:17.977
> 
> 标签：arguments, warnings, implode

我尝试使用以下代码将 csv 文件转换为 tsv。

在我的 csv 中，第一个词没有任何价值。当我运行代码时，它会正确生成 tsv 文件，但会出现上述错误。请帮忙

谢谢

```
$myfile = "file path"; 
function convert($filename) 
{
if(@$fh_in = fopen("{$filename}.csv","r")) 
{
$fh_out = fopen("{$filename}.tsv","a"); 

while(!feof($fh_in))
{
$line = array();
$line = fgetcsv($fh_in,1024);
fwrite($fh_out,implode("\t",$line)."\n"); 
}

fclose($fh_in);
fclose($fh_out);

}
else { 
echo "File doesn’t exist\n";
return false;
}
echo "Conversion completed!\n";
return true; 
}
convert($myfile); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:06:38.277

根据[PHP Manual](http://php.net/implode)，内爆可以是

```
string implode ( string $glue , array $pieces )
string implode ( array $pieces ) 
```

因此，在您的情况下，如果`$line`为空，那么它将使用第二个原型执行并认为`\n`是错误的 $pieces。`$line`所以在调用 implode 之前检查值

# ios - SIGSEGV 符号仅指向核心类

> ID：14767356
> 
> 赞同：2
> 
> 时间：2013-02-08T07:02:22.343
> 
> 标签：ios, crash-reports, segmentation-fault

我在我的应用程序中使用 Bugsense 来获取崩溃报告。我有一个重复的 SIGSEGV 错误，没有其他细节。

我试图象征报告，但我得到了这个：

```
0 libobjc.A.dylib 0x33417f78 0x33414000 + 16248
1 CoreFoundation 0x36f651fb 0x36f4d000 + 98811
2 Foundation 0x32c42747 0x32b9e000 + 673607
3 CoreFoundation 0x36fdaad3 0x36f4d000 + 580307
4 CoreFoundation 0x36fda29f 0x36f4d000 + 578207
5 CoreFoundation 0x36fd9045 0x36f4d000 + 573509
6 CoreFoundation 0x36f5c4a5 CFRunLoopRunSpecific + 300
7 CoreFoundation 0x36f5c36d CFRunLoopRunInMode + 104
8 GraphicsServices 0x35123439 GSEventRunModal + 136
9 UIKit 0x35205cd5 UIApplicationMain + 1080
10 English Club 0x00036a2b 0x34000 + 10795 
```

它不指向我的任何课程（在最后一行“英语俱乐部”是我的应用程序的名称）。

这是否意味着这是苹果课程中的一个错误？我如何解析此报告以获得有用的信息（例如在这种情况下 +1234334 数字是什么等）

谢谢大家夏尼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:15:25.900

> 这是否意味着这是苹果课程中的一个错误？

不。

> 如何解析此报告以获得有用的信息

在启用调试符号的情况下重新编译，并在调试器中运行应用程序。然后，如果一切都做对了，你会得到一个符号化的堆栈跟踪。

> 在这种情况下 +1234334 数字是多少

它们是特定函数地址开头的偏移量 - 您很可能对它们不感兴趣。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-19T21:35:34.137

您最好的选择是启用僵尸并在调试器中重新运行并尝试手动重现崩溃。该错误可能出现在您的代码中，您在其中设置了一个指向您的目标 C 对象之一的委托。例如，请参阅与您的问题非常相似的问题：[SIGSEGV SEGV_ACCERR Crash Reports - What to do？](https://stackoverflow.com/questions/13794562/sigsegv-segv-accerr-crash-reports-what-to-do/17184663#17184663)

# ios - IOS 中的 ASPHTTPResquest - 响应状态代码为零

> ID：14767368
> 
> 赞同：0
> 
> 时间：2013-02-08T07:03:42.623
> 
> 标签：ios, asihttprequest

我正在尝试在我的代码中访问我的 URL 之一。它将 StatusCode 返回为零。

这是什么？看不懂。。

代码：调用方法

```
{
ASIHTTPRequest* request = [[MUGatewayHelper sharedGatewayHelper] prepareRequestForURL:requestURL];               
request.delegate = self;                                                                                            
request.didFinishSelector = _didFinishSelector;                                                                     
request.didFailSelector = _didFailSelector;
} 
```

我的响应（状态消息）为“空”，状态码为“零”

请指导我。我已经尝试在我的代码中使用其他一些 URL。它完美地工作。我确定，我的连接代码是正确的。ios设备中是否有任何认证问题？但是，如果我通过 ios 设备 safari 连接相同的 URL，我可以获得响应。ASIHttpRequest 中是否有任何阻塞？或与服务器的问题？

请指导我。我完全糊涂了，...

编辑日期：2 月 11 日

我在错误中有一些无效的 SSL 证书异常。但是我的 SSL 证书是原始的。如果在 Firefox 中添加 cookies 值，它可以工作。但是，如果在 ASIHttpRequest 中添加 cookie，我仍然得到响应者状态为 0。知道吗？

2 月 11 日 9.30 编辑

嗨朋友们，我在 safari、chorme 和 firefox 中使用了 GET 请求。它工作正常。当我在 iphone 浏览器中使用相同的 URL 时，它返回 404 异常。如果我在代码中的 ASIHTtpRequest 中使用，我得到的异常代码状态为零。是具体原因吗？请指导我...我很困惑..提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:17:32.627

所有要使用的功能`ASIHttpRequest`都存在于文档中。您的代码看起来不符合文档要求。
阅读 [ASIHTTPRequest 的文档](http://allseeing-i.com/ASIHTTPRequest/How-to-use)。我会帮你的。
`requestFinished`是当 URL 返回响应时调用的委托方法。

# c# - 如何通过按钮单击事件在代码中停止对用户意图或方法的 ajax 请求？

> ID：14767374
> 
> 赞同：1
> 
> 时间：2013-02-08T07:04:26.943
> 
> 标签：c#, javascript, asp.net, ajax

实际上我正在从数据库中获取数据集，但它正在消耗某个时间（> 1 分钟）。

所以我使用ajax异步运行来检查数据集是否返回结果，同时显示一个等待页面。

但是，有时，如果用户想要导航到其他页面而不是等待返回的结果，有没有人可以给我一个提示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:12:05.657

我会首先尝试从数据库中优化您的查询。任何运行时间超过 1 分钟的查询要么非常庞大（您可以实现分页来规避它）......或者甚至需要对表上的索引进行一些优化。

如果这仍然不能产生足够快的响应时间，那么这里有两种方法可以解决您的问题：

1.  每当用户想要点击这个长时间运行的查询时，在弹出窗口中运行它。这将允许用户在主 Web 应用程序中继续导航。

2.  获取您的页面并开始在 iframe 中显示它们。然后，您可以在用户导航其他页面（正在加载到子框架中）时在父框架中发出请求。由于在这种情况下不会重新加载父框架，因此ajax请求可以在父框架中不间断地完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T09:55:07.313

无论您在这种情况下使用什么脚本和代码都无济于事！更好地优化您的数据库模型。

*   创建具有聚集索引的表。
*   使用存储过程，
*   如果太慢，请创建您自己的函数和视图。
*   用户不会在一个页面上查看超过 10,000 条记录。取决于过程可以限制您的数据及其可选....但不是正确的方式！

一旦您发送了任何请求，您就无法在加载程序运行时停止它或导航。对于异步数据处理加载器（等待页面）不是必需的。

试试这个希望它会有所帮助....

# android - 刷新列表视图后，它显示第一个位置数据

> ID：14767376
> 
> 赞同：2
> 
> 时间：2013-02-08T07:04:48.380
> 
> 标签：android, android-layout

我有一个很长的 ListView，用户可以滚动。我每 30 秒刷新一次此列表视图，列表视图刷新成功。但是有一个问题，我希望将列表滚动到与刷新之前相同的位置。因为现在如果列表刷新，那么它会显示第一个位置。

我通过 AsynchronousTask 更新列表为：

```
private class HttpTask extends AsyncTask<String, Boolean, String> {

    @Override
    protected String doInBackground(String... params) {
        System.out.println("inside doInBackground>>!!>>> ");
        getResponse();

        return "Executed";
    }

    @Override
    protected void onProgressUpdate(Boolean... progress) {

    }

    @Override
    protected void onPostExecute(String result) {
        // publishProgress(false);
        System.out.println("post excute funt***********");
        setListAdapter(new ListAdapter(getApplicationContext(),
                R.layout.mylist, dataArr));
    }

} 
```

任何帮助将不胜感激。在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:22:28.580

尝试使用 setSelectionFromTop() 将位置设置为先前可见的状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:37:57.277

你只需要这样做：

```
listView.setSelection(position) // position is the item on the listView 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T08:19:04.543

我认为当您的列表视图将被刷新时，获取当时第一次可见的项目的位置，然后刷新您的列表视图并设置您在刷新之前获得的位置

```
 int firstPosition = mEventListView.getFirstVisiblePosition();
    EventLogAdapter eventLogAdapter = new EventLogAdapter(mContext, events);
    mEventListView.setAdapter(eventLogAdapter);
    mEventListView.setSelection(firstPosition); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:22:11.487

而不是设置一个新的 ListAdapter，做 listAdapter.notifyDataSetChanged() 这将刷新视图的内容而不是创建新的，并且列表视图不会向上滚动

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T08:04:19.950

您正在做的是在调用刷新时将适配器分配给列表视图

```
setListAdapter(new ListAdapter(getApplicationContext(),
            R.layout.mylist, dataArr)); 
```

哪个是错的

你必须刷新你的适配器

```
dataArr.notifyDataSetChanged(); 
```

希望这会奏效

# postgresql - PostgreSQL PGCopyOutputStream 断开连接

> ID：14767378
> 
> 赞同：0
> 
> 时间：2013-02-08T07:04:58.253
> 
> 标签：postgresql, postgresql-9.0

我面临一个问题，我的数据库连接似乎在 jdbc 的命令中途断开`COPY`（使用`PGCopyOutputStream`）。知道为什么会发生这种情况。我正在写入一个包含两列整数的表。我在`PostgreSQL 9.0.3`。

```
java.io.IOException: Write to copy failed.
at org.postgresql.copy.PGCopyOutputStream.write(PGCopyOutputStream.java:84) ~[postgresql-9.0-801.jdbc4.jar:na]
at org.postgresql.copy.PGCopyOutputStream.write(PGCopyOutputStream.java:76) ~[postgresql-9.0-801.jdbc4.jar:na]
at 
    ...
    ...
Caused by: org.postgresql.util.PSQLException: Database connection failed when writing to copy
at org.postgresql.core.v3.QueryExecutorImpl.writeToCopy(QueryExecutorImpl.java:856) ~[postgresql-9.0-801.jdbc4.jar:na]
at org.postgresql.core.v3.CopyInImpl.writeToCopy(CopyInImpl.java:53) ~[postgresql-9.0-801.jdbc4.jar:na]
at org.postgresql.copy.PGCopyOutputStream.writeToCopy(PGCopyOutputStream.java:125) ~[postgresql-9.0-801.jdbc4.jar:na]
at org.postgresql.copy.PGCopyOutputStream.write(PGCopyOutputStream.java:82) ~[postgresql-9.0-801.jdbc4.jar:na]
... 10 common frames omitted
Caused by: java.net.SocketException: Socket closed
at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:116) ~[na:1.7.0_03]
at java.net.SocketOutputStream.write(SocketOutputStream.java:153) ~[na:1.7.0_03]
at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.7.0_03]
at java.io.BufferedOutputStream.write(BufferedOutputStream.java:95) ~[na:1.7.0_03]
at org.postgresql.core.PGStream.SendChar(PGStream.java:174) ~[postgresql-9.0-801.jdbc4.jar:na]
at org.postgresql.core.v3.QueryExecutorImpl.writeToCopy(QueryExecutorImpl.java:850) ~[postgresql-9.0-801.jdbc4.jar:na]
... 13 common frames omitted 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T21:58:52.093

这是由于较早的主键约束违反，引发异常并使连接不可用而发生的。

# jquery - jquery最接近（）或孩子不工作

> ID：14767379
> 
> 赞同：-3
> 
> 时间：2013-02-08T07:05:00.093
> 
> 标签：jquery

jQuery代码： -

```
$('.cycle-status-update')
  .on('mouseenter', (function(){
    $(this).closest('.delete-status-update-link').show();
  }))
  .on('mouseleave', (function(){
    $(this).closest('.delete-status-update-link').hide();
  })) 
```

html代码：-

```
.status-partial
    -@user.status_updates.latest.limit(5).each do |status_update|
        .row-fluid.cycle-status-update{:class => cycle("dark", "light")}
            .row-fluid
                .span11
                    = status_update.status
                .span1
                    .delete-status-update-link
                        %strong= link_to "X", [@user,status_update], :remote => true, :method => :delete, :class => "delete-status-update"
            .row-fluid
                .time-ago-in-words
                    ="#{time_ago_in_words(status_update.created_at)} ago" 
```

这里可能是什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:07:06.210

使用[查找（）](http://api.jquery.com/find/)

```
$(this).find('.delete-status-update-link').show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:10:33.317

您的代码有问题，在函数之前和之后有`(function`额外的问题：`(``)`

```
$('.cycle-status-update')
     .on('mouseenter', (function(){
     $(this).closest('.delete-status-update-link').show();
}))//<----here
.on('mouseleave', (function(){ //<--before function
    $(this).closest('.delete-status-update-link').hide();
}))
//^----here 
```

试试这个：

```
$('.cycle-status-update').on('mouseenter', function(){
  $('.delete-status-update-link').show();
}).on('mouseleave', function(){
  $('.delete-status-update-link').hide();
}); 
```

# unix - 在 gvim 中复制突出显示的模式

> ID：14767385
> 
> 赞同：0
> 
> 时间：2013-02-08T07:05:35.950
> 
> 标签：unix, vim

可以说，我使用括号突出显示（匹配的）文本

```
/(.*) 
```

现在，如何仅将突出显示的文本（即匹配模式，而不是整行）复制到缓冲区中，以便我将其粘贴到某个位置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:53:54.513

[这个 Vim Tips Wiki 页面](http://vim.wikia.com/wiki/Copy_the_search_results_into_clipboard)提供了多种方法。最简单的方法是以下自定义命令：

```
function! CopyMatches(reg)
    let hits = []
    %s//\=len(add(hits, submatch(0))) ? submatch(0) : ''/ge
    let reg = empty(a:reg) ? '+' : a:reg
    execute 'let @'.reg.' = join(hits, "\n") . "\n"'
endfunction
command! -register CopyMatches call CopyMatches(<q-reg>) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:13:16.387

搜索时，您可以使用`e`标志移动到匹配结束。因此，如果我正确理解您的问题，如果您使用例如：

```
/bar 
```

如果您想复制它，请使用：

```
y//e 
```

这将使用之前的搜索模式进行拉拽，直到匹配结束。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T07:54:53.340

# xcode - 像 UITextField 的填充一样的 CSS

> ID：14767386
> 
> 赞同：0
> 
> 时间：2013-02-08T07:05:46.840
> 
> 标签：xcode, uitextfield

这是我的问题：看第一个字符，没有显示**k**
![在此处输入图像描述](../Images/8be9a3720b7572530fb0cc228a832c35.png)
的左下角。

 **我试过这个：

```
- (CGRect)textRectForBounds:(CGRect)bounds{
    return CGRectInset( bounds , 20 , 20 );
}

- (CGRect)editingRectForBounds:(CGRect)bounds {
    return CGRectInset( bounds , 20 , 20 );
} 
```

还有这个：

```
UIView *paddingView = [[UIView alloc] initWithFrame:CGRectMake(10, 10, 10, 20)] ;
myText.leftView = paddingView;
myText.leftViewMode = UITextFieldViewModeAlways; 
```

但没有机会！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T09:04:12.790

不确定这是否是一个好的解决方案，但是一旦我遇到这样的事情，我所做的就是在字符串的开头附加一个空格，这解决了这个问题，开始文本有点缩进。`stringByAppendingString`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-31T19:39:11.353

很抱歉这么晚才回答，但可能我的回答可以帮助寻找类似解决方案的人

这是我为填充所做的。在需要填充的 .m 文件顶部添加以下代码

```
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wobjc-protocol-method-implementation"

@implementation UITextField (custom)
- (CGRect)textRectForBounds:(CGRect)bounds {
    return CGRectMake(bounds.origin.x + 10, bounds.origin.y + 8,
                  bounds.size.width - 20, bounds.size.height - 16);
}
- (CGRect)editingRectForBounds:(CGRect)bounds {
    return [self textRectForBounds:bounds];
}
@end

#pragma clang diagnostic pop 
```

**PS 这些指令用于防止警告有关类别覆盖方法的警告。****

# c# - 通过可重用的 dll 共享 _Layout

> ID：14767395
> 
> 赞同：0
> 
> 时间：2013-02-08T07:06:23.797
> 
> 标签：c#, asp.net-mvc, mvccontrib

我可以在单独的 dll 中共享 _Layout.cshtml（MasterPage）吗？我正在使用 MvcContrib 库来共享控制器/视图，但不知道如何共享 _Layout。

MvcContrib 方法是可取的

# java-native-interface - 需要使用 jni 将 4 个变量从 c++ 输出到 java

> ID：14767397
> 
> 赞同：0
> 
> 时间：2013-02-08T07:06:40.610
> 
> 标签：java-native-interface, out

我擅长 c#，我需要 JAVA 帮助。

我有一个输出 4 个变量的 c++ 函数

```
int Func1(int inParam1, unsigned char* inParam2, int *outParam1, int *outParam2, int *outParam3, unsigned char** outParam4); 
```

我可以像这样使用 PInvoke 从 C# 调用这个函数

```
[DllImport("CLSFPCaptureDLL.dll"]
       int Func1(int inParam1, byte[] inParam2, out IntPtr outParam1, out IntPtr outParam2, out IntPtr outParam3, out IntPtr outParam4); 
```

但现在我需要在 java 中调用 c++ 函数。我编写了一个带有需要输出这 4 个变量的 java 类的 JNI。我怎样才能在 JAVA 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T14:19:38.187

你需要一个 c++ 中的桥梁。

请务必阅读有关[JNI](http://en.wikipedia.org/wiki/Java_Native_Interface)的内容，以便更好地遵循我的示例。

在 C++ 中，创建一个类并将其编译为 dll，以便它找到并链接到 CLSFPCaptureDLL.dll。阅读[JNI 函数](http://docs.oracle.com/javase/1.4.2/docs/guide/jni/spec/functions.html)，这将帮助您构建输出。

爪哇：

```
Test1.java:

package test;

public class Test1 {

    static {
        System.loadLibrary("YourLibrary");
    }

    public static byte[] myJniFunc();
} 
```

和 C++：

```
Test.cpp:

extern "C"
{
    JNIEXPORT jobject JNICALL Java_test_Test1_myJniFunc(JNIEnv *env, jclass cls)
    {
        // Make all the data you need, and pass it back as a jbyteArray
    }
} 
```

# c# - 如何在asp.net中触发treeview控件的子节点事件？

> ID：14767401
> 
> 赞同：0
> 
> 时间：2013-02-08T07:06:54.153
> 
> 标签：c#, asp.net

在我的 aspx 页面中，我有一个 treeview 控件，我在其中动态添加子控件。那么如何触发子节点的单击事件。

谢谢。

# jquery - 是否有带有成功和失败回调的lazyload jquery 插件？

> ID：14767406
> 
> 赞同：1
> 
> 时间：2013-02-08T07:07:02.640
> 
> 标签：jquery, lazy-loading

我想存档这样的东西：

```
$(this).lazyload({
            effect : 'fadeIn',
            success : function(){
                // Callback here
            },
            failure : function(){
                // Callback here
            }
        }); 
```

有没有 jquery 插件可以存档这个？

# vb.net - 将单元格值从 datagridview 传递到文本框而不单击单元格

> ID：14767413
> 
> 赞同：0
> 
> 时间：2013-02-08T07:08:04.297
> 
> 标签：vb.net

我的程序导入了 excel 文件，之后，excel 中的所有数据都显示在 `DatagridView`. 我想要一个特定的单元格将其值传递给`Textbox`.

我试过使用 `Me.TextBox3.Text = DataGridView1.Rows(15).Cells(2).Value.ToString()` 但是有一个错误不能在字符串中转换.. row15，column2 has text..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:58:34.007

我猜这个错误（错误转换为字符串）是因为值是`Nothing`. 索引从 0 开始，因此，正如 Andrey 所说，要到达第 15 行和第二列，您必须这样做：

```
Me.TextBox3.Text = DataGridView1.Rows(15).Cells(1).Value.ToString() 
```

# grails - Grails：如何关闭 BigDecimal 输出的数千个分组

> ID：14767414
> 
> 赞同：1
> 
> 时间：2013-02-08T07:08:05.810
> 
> 标签：grails, bigdecimal, number-formatting

在视图中呈现 BigDecimal 的值时，它会以逗号作为千位分隔符呈现，这会混淆我的 HTML5“数字”输入。有没有办法可以关闭分组。

我希望数字 1000 呈现为 1000，而不是 1,000。

```
<div class="control-group ${hasErrors(bean:ourCompany,field:'turnover','error')}">
  <label class="control-label">Annual Turnover</label>
  <div class="controls">
    <input value="${stripFormatting(fieldValue(bean:ourCompany,field:'turnover'))}" name="turnover" id="annual-turnover" placeholder="0" type="number">
    <span class="help-inline bee-hide-error ${hasErrors(bean:ourCompany,field:'turnover','bee-show-error')}">This can only be a numeric field.</span>
    <p class="bee-help-text"> <i class="icon-info-sign"></i> Total company income for the last financial year</p>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:45:30.497

试试这个：
Grails 标记[formatNumber](http://grails.org/doc/2.2.0/ref/Tags/formatNumber.html)，使用 Java 的[DecimalFormat](http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html)

# java - 减小 SNMP4J 的大小

> ID：14767420
> 
> 赞同：2
> 
> 时间：2013-02-08T07:08:44.827
> 
> 标签：java, snmp4j

我想将 SNMP4J 修剪到最大，以便与我的应用程序一起使用。目前 jar 有 457KB，SNMP4J 代理有 522KB。通过修剪不需要的特征，我怎样才能减小尺寸？我想删除 TCP 支持，因此数据包是 UDP。同样可以修剪哪些所有特征？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:23:42.750

找到jar文件的来源，删除不需要的类和文件并创建jar。
通过这种方式可以减小 jar 文件的大小。

# c# - 我想要两个元素的乘积之和

> ID：14767421
> 
> 赞同：-1
> 
> 时间：2013-02-08T07:08:52.347
> 
> 标签：c#, xml, xpath

我有 xml 。我使用以下 XPath 表达式：

`sum(//Item[@type='sg_aml_rel'][(./sg_percentage * ./related_id/Item[@type='sg_aml2']/sg_cost)])`

我创建了 XMLDoucment 对象并将 XML 加载到其中，然后创建了 XPathNavigator 对象并提供 xpth 来评估 XPathNavigator 的方法。我的 XML 看起来像：

```
<AML>
   <Item>
       <sg_percentage>10</sg_percentage>
       <related_id>
          <Item>
           <sg_cost>100<sg_cost>
          </Item>
       <related_id>    
   </Item>
  <Item>
       <sg_percentage>20</sg_percentage>
       <related_id>
          <Item>
           <sg_cost>500<sg_cost>
          </Item>
       <related_id>    
   </Item>
<AML> 
```

我想要总和（sg_percentage*sg_cost）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:21:40.150

当您询问有关 XSLT的问题时，我[已经为您提供了答案。](https://stackoverflow.com/questions/14750840/i-want-perform-sum-of-product-of-two-elements-at-differnt-levels)如果没有自定义扩展，则无法使用单个 XPath 1.0 表达式来完成此操作。您最好的选择是执行以下操作：

```
decimal sum = 0;
foreach (XPathNavigator item in document.CreateNavigator().Select("/AML/Item"))
{
    sum += Convert.ToDecimal(item.Evaluate("sg_percentage * related_id/Item/sg_cost"));
} 
```

完成后，`sum`应该具有您正在寻找的价值。

将其泛化一点的一种方法是定义如下方法：

```
public static decimal SumPaths(XmlNode source, string nodePath, string formula)
{
    decimal sum = 0;
    foreach (XPathNavigator item in source.CreateNavigator().Select(nodePath))
    {
        sum += Convert.ToDecimal(item.Evaluate(formula));
    }
    return sum;
} 
```

然后你可以这样称呼它：

```
decimal sum = 
     SumPaths(document, "/AML/Item", "sg_percentage * related_id/Item/sg_cost"); 
```

# c# - ThreadPool 在短短几秒钟内就使用了过多的内存

> ID：14767423
> 
> 赞同：1
> 
> 时间：2013-02-08T07:08:56.120
> 
> 标签：c#, threadpool

我制作了一个简单的控制台应用程序来打印素数。我将 ThreadPool 用于检查数字是否为素数的函数。

在任务管理器中，这个程序开始占用太多内存（几秒钟内 1 GB）如果我仍然必须使用 ThreadPool，我该如何改进？

这是我写的代码

```
class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine(2);
        Console.WriteLine(3);
        Console.WriteLine(5);
        Console.WriteLine(7);
        Console.WriteLine(11);
        Console.WriteLine(13);
        Console.WriteLine(17);
        for (long i = 19; i < Int64.MaxValue; i = i+2)
        {
            if(i % 3 == 0 || i % 5 == 0 || i % 7 == 0 || i % 11 == 0 || i % 13 == 0 || i % 17 == 0 )
                continue;

            ThreadPool.QueueUserWorkItem(CheckForPrime, i);
        }
        Console.Read();
    }

    private static void CheckForPrime(object i)
    {
        var i1 = i as long?;
        var val =  Math.Sqrt(i1.Value);
        for (long j = 19; j <= val; j = j + 2)
        {
            if (i1 % j == 0) return;
        }
        Console.WriteLine(i1);

    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T07:53:47.400

修复代码的最简单方法，只需使用信号量限制工作队列；

```
class Program
{
    // Max 100 items in queue
    private static readonly Semaphore WorkLimiter = new Semaphore(100, 100);

    static void Main(string[] args)
    {
        Console.WriteLine(2);
        Console.WriteLine(3);
        Console.WriteLine(5);
        Console.WriteLine(7);
        Console.WriteLine(11);
        Console.WriteLine(13);
        Console.WriteLine(17);

        for (long i = 19; i < Int64.MaxValue; i = i + 2)
        {
            if (i % 3 == 0 || i % 5 == 0 || i % 7 == 0 || i % 11 == 0 || i % 13 == 0 || i % 17 == 0)
                continue;

            // Get one of the 100 "allowances" to add to the queue.
            WorkLimiter.WaitOne();
            ThreadPool.QueueUserWorkItem(CheckForPrime, i);
        }
        Console.Read();
    }

    private static void CheckForPrime(object i)
    {
        var i1 = i as long?;
        try
        {
            var val = Math.Sqrt(i1.Value);
            for (long j = 19; j <= val; j = j + 2)
            {
                if (i1%j == 0) return;
            }
            Console.WriteLine(i1);
        }
        finally
        {
            // Allow another add to the queue
            WorkLimiter.Release();
        }
    }
} 
```

这将允许您始终保持队列已满（队列中有 100 个项目），而不会过度填充或添加`Sleep`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T07:41:04.787

坦率地说，你做错了多线程。如果使用得当，线程是一种强大的工具，但与所有工具一样，它们并非在*所有*情况下都是正确的解决方案。玻璃瓶很适合装啤酒，但不适合用来敲钉子。

在一般情况下，创建更多线程不会使事情运行得更快，正如您所发现的那样，这里尤其如此。您编写的代码在您的循环中每次迭代都会排队一个新线程，并且每个线程都将分配一个堆栈。由于 .NET 世界中堆栈的默认大小是 1 MB，因此您的内存承诺不会花很长时间就会飙升。因此，超过 1 GB 也就不足为奇了。最终，您将遇到硬内存限制并被`OutOfMemoryException`抛出。内存只是您的设计正在迅速使您的系统缺乏资源的最明显的资源。除非您的系统资源可以随线程池成倍增长，否则您不会体验到任何性能优势。

[Adil 建议](https://stackoverflow.com/a/14767472/366904)`Thread.Sleep`在继续循环（并创建额外的线程）之前插入一个调用，让您创建的新线程有时间运行。正如我在评论中提到的，虽然这“有效”，但对我来说似乎是一个非常丑陋的黑客。但我很难提出更好的解决方案，因为真正的问题是设计。你说你必须使用线程池，但你没有说为什么会这样。

如果您绝对*必须*使用线程池，最好的解决方法可能是对线程池的大小设置任意限制（即它可以产生多少新线程），这通过调用[`SetMaxThreads`方法](http://msdn.microsoft.com/en-us/library/system.threading.threadpool.setmaxthreads.aspx)来完成。这对我来说至少比`Thread.Sleep`.

[注意：如果您决定采用该`SetMaxThreads`方法，则应注意不能将最大值设置为小于最小值。最小值的默认值是 CPU 核心数，因此如果您有双核处理器，则不能在不先降低最小值的情况下将最大值设置为 1。]

最后，虽然在这种情况下它并没有真正改变答案，但值得注意的是任务管理器*不是*内存分析器。像依赖它一样依赖它会经常给你带来糟糕的（或至少非常误导性的）数据。

**编辑：**经过进一步思考，我发现问题真的不在于指数*执行*，而在于指数*查询*。允许的最大线程数可能无关紧要，因为代码仍然会比他们希望处理的速度更快地排队。所以不要介意限制大小。您可能想要使用[Joachim 的解决方案](https://stackoverflow.com/a/14768000/366904)，该解决方案涉及创建信号量，或者每个人都提出不使用线程池的隐含建议。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T07:13:21.540

您正在`threads`循环创建而没有任何中断。您应该对创建线程的过程进行一些休息，以便在您在`ThreadPool`. 您可以为此使用[System.Threading.Thread.Sleep](http://msdn.microsoft.com/en-us/library/d00bd51t.aspx)。

```
for (long i = 19; i < Int64.MaxValue; i = i+2)
{
      if(i % 3 == 0 || i % 5 == 0 || i % 7 == 0 || i % 11 == 0 || i % 13 == 0 || i % 17 == 0 )
            continue;
      ThreadPool.QueueUserWorkItem(CheckForPrime, i);
      System.Threading.Thread.Sleep(100);
} 
```

您应该知道在哪里使用线程，它们将是有益的，您需要多少线程以及线程对应用程序性能的影响。这取决于应用程序将暂停当前线程多长时间。我只是给了100毫秒，你根据你的应用进行调整。

# django - 相对进口

> ID：14767426
> 
> 赞同：13
> 
> 时间：2013-02-08T07:08:58.853
> 
> 标签：django

我正在阅读 Two Scoops Django Best Practices 以改进我的编码风格。我处于相对进口中，这是使其可重用的示例代码。

```
Old Way:
from cones.foo import bar

New way:
from .foo import bar 
```

上面的代码是针对cones app的，如果我在其他app中调用其他模型怎么办？我必须这样说：

```
from .foo import bar
from .other import sample

OR

from .foo import bar
from test.other import sample 
```

正确的方法是什么？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-08T07:15:24.653

我通常只出于一个原因使用这样的导入

```
from .foo import bar
from .other import sample 
```

原因是如果明天，我的模块名称从“test”更改为“mytest”，那么代码不需要重构。该代码可以正常工作而不会中断。

## 更新

所有以“。”开头的导入 点，仅适用**于**该软件包。跨包导入需要整个路径。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T07:16:32.283

如果`test`是另一个应用程序，

```
from .other import sample 
```

不会工作。

**更新：**

当您从同一个应用程序导入时，您只能使用相对导入。

内部`test`应用

```
from .other import sample 
```

将工作。但是您仍然需要完整的表格

```
from cones.foo import bar 
```

如果您`foo`从`test`应用程序中导入定义的方法。

因此，第二种方式回答您的问题是正确的方式。

# iphone - 在 iOS 中调用其他 facetime 电子邮件

> ID：14767431
> 
> 赞同：1
> 
> 时间：2013-02-08T07:09:29.660
> 
> 标签：iphone, ios, facetime

我想拨打其他 facetime 号码，但这些是电子邮件而不是号码。我该怎么做？

对于数字，我知道该使用什么。

```
NSURL *url = [NSURL URLWithString:@"facetime://+123456789"];
[[UIApplication sharedApplication] openURL:url]; 
```

但是对于电子邮件，我该如何更改它。任何的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:20:22.210

```
NSURL *url = [NSURL URLWithString:@"facetime://email@example.com"];
[[UIApplication sharedApplication] openURL:url]; 
```

这些是选项

```
@"facetime://appleId"             // For apple id
@"facetime://email@example.com"   // For email id
@"facetime://5558675309"          // For phone number 
```

# php - 将复选框列表写入json php的字符串数组

> ID：14767433
> 
> 赞同：-2
> 
> 时间：2013-02-08T07:09:32.970
> 
> 标签：php

我希望能够写的是一个字符串，它是一个数组，它将存储在数据库中的 jason 字符串中。我的代码遍历复选框，但我希望能够测试 $input 名称是否为“interests”

```
<input type="checkbox" name="interests[]" value="dvd" />` <-- checkbox lists 
```

我无法得到的另一件事是在每个 $ 值周围加上引号，例如“dvd”、“computers”

```
$interests = '[';
$count = 1;
$counter = count($_POST["interests"]);
foreach($_POST as $checkbox => $input) {
    if(is_array($input)) {
    // test here is input is "interests"    
        foreach($input as $index => $value) {   
            $interests .= /*quote here*/ $value /*quote here*/ .= ($count < $counter) ? ',' : '';
            $count += 1;
        }
    }
}
$interests .= ']';
echo $interests; 
```

兴趣是假设写出[“dvd”，“计算机”，“硬盘驱动器”]，但它只写出[dvd，计算机，硬盘驱动器]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:12:23.443

```
$_POST["interests"] = array("dvd", "computers", "hard drives");
$interests = '["' . implode('","', $_POST["interests"]) . '"]';
echo $interests; 
```

[看到它在行动](http://codepad.viper-7.com/KGtWp9)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:12:47.040

使用[`json_encode()`](http://php.net/manual/en/function.json-encode.php)而不是手动创建 JSON：

```
echo json_encode($_POST['interests']); 
```

输出

> [“DVD”，“电视”，“收音机”]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:17:29.397

试试这个，

```
$interests = '';
$count = 1;
$counter = count($_POST["interests"]);
foreach($_POST as $checkbox => $input) {
    if(is_array($input)) {
    // test here is input is "interests"    
        foreach($input as $index => $value) {   
            $interests .= $value .= ($count < $counter) ? ',' : '';
            $count += 1;
        }
    }
}
$interests = json_encode($interests);
echo $interests; 
```

# wpf - 如何对数据网格中的列进行排序

> ID：14767440
> 
> 赞同：0
> 
> 时间：2013-02-08T07:10:07.160
> 
> 标签：wpf, datagrid, telerik, radgrid

我有一个数据网格，其中包含两列..第二列将包含一个下拉列表..下拉列表包含所有 DB 列名称，当我从下拉列表中选择任何 DB 列字段时，该字段将映射到第一列并选择下拉列表中的字段将不再存在于下拉列表中。

当我从第一列清除该字段时，该字段将再次绑定到下拉列表，但该字段显示在下拉列表的最后，因此该字段最后不应显示，它应该显示在它的前一个位置（即从下拉列表映射的地方）。

所以任何人都可以让我知道如何处理这个是 xaml.cs 文件..这对我更有帮助......谢谢！

最初我已经声明了一个 ObservableCollection OcCols = null;

//在 swith case case 中使用 TableColumnsQuery 并添加表中的所有列名，然后将列添加到 OcCols。

TableColumnsQuery 被声明为“SELECT COLUMN_NAME FROM information_schema.columns WHERE COLUMNPROPERTY(object_id(TABLE_NAME), COLUMN_NAME, 'IsIdentity')!= 1 and table_name =

案例“TableColumnsQuery”，将表中的所有列添加到 OcCols，然后将 OcCols 添加到网格中。((GridViewComboBoxColumn)this.gridMappings.Columns[2]).ItemsSource = OcCols Gridmappings 是网格名称，第二列有我之前解释过的组合框\下拉列表。所以现在如何对组合框/下拉列表中的列文件进行排序。

谢谢！！！

# iphone - 如何将十六进制字符串转换为可读格式？

> ID：14767445
> 
> 赞同：0
> 
> 时间：2013-02-08T07:10:38.267
> 
> 标签：iphone, ios6

我有一个图像。我已将此图像转换为 NSData，然后使用字节数组将 NSData 转换为十六进制字符串。然后我使用 NSUTF8String 编码将此十六进制字符串解码为 nsnstring，但它给了我不可读格式的奇怪字符串。显示的字符串是：

```
 IHDR¿”uÓ®iDOTÍ(ÍÈ5·YÛ˙π@IDATxLºsG∂∂y¿∆∆Óu#ÕÃï•$zêAaÇûAÔ)íùDë“H#i43Ú&lt;⁄{o´Ω∑ﬁìîÓ∑˚7ˆ)Ù˝&quot;6‚DEvuuuUV÷…&amp;lt;Oæ&apos;ˇE˜€®ˆÂàÊ≈®Ó∑q≈RJ≥ñQ,ƒßº˝£ÆG    ]∆¨úqèYGL√£Ê    °ì4cLËz¬JÏIP&quot;…Ë{&quot;Úø[~ïèöÙ≥ÆG˛°æò˚ﬁ˘ÏGw/&lt;ˆÀû‰ø:qÙ˚äà^P˜⁄eÇ‹ö≤©&lt;Jâ}X‘ËjÖO™ÙH¥&gt;π¡ßx¨¯∂_ˇÀ∞˘â#Æ3áîa»‡óÈ}RùG∆∑∂à3tzØ⁄µö¸zµS1†Î5zµÆòÕ6ÈïŒ£‚åÇﬁØußùŒîU„UòÉzå≤ﬂ‡”àﬂ
*[»ËM8≠~É…£’ªTVø…±[=ªœ§∂…ÿiˆÍ\´=h2∏’ˆ∞YH8ÿ™Ï2µCnô¯»z‹    á“.”πïúÕË”ºZk»b    ö’Ç¶OﬂØÒ®M!£%h¥G,ÊÄI&apos;h]Qó/Â3∏µFAßu®ƒÙõLΩ3lsÑ¨*´\Ô“8£V_⁄ÌI:C£æ»D–ìrqùæ§ã=‚ùF,ò-l6‘ChÃ/$ùÏ·[w‹nÚlAW%ÓIπbSaÆä∫Ú$‹‚W≥=h·ø|I!:Ú&amp;‹Aœˇ∫#Ç;Ê±ÜlÊêÕïˆ⁄≤^}⁄•t≥AÀZRµyî±&gt;uÃ¯{&apos;=Cs¡°Ÿ¿\px&gt;‘?ÌöHó¬è«ù?§Lè∆O&apos;›}≥æ˛9Ôåóùøåÿ~µ?õpÙL:èZçX˛◊| ü“ˇî2&lt;∑œz{∆Ï√SÇl÷«vp¬’7·Ïüt)ÁÚün9™Y˜éÿz≤VÈîgh‹eXäÀ&apos;}í1A6ÌWŒÖÜg¸O≥ˆÔ&amp;quot;⁄gcˆ˛)˜–¨wp∆√∂w¬˘K ¯8kQØƒ±°iüd6†\ä ¬ä≈àl&gt;‘3Í‰∑œFz«\òt.(nB√sÓHı&lt;1¥z6% 
```

我想获取图像上的文本。有什么方法可以将十六进制字符串转换为 unicode 字符，以便稍后解析它以获取我想要的数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:16:47.040

不完全确定您在做什么，但听起来您正在尝试将图像本身中的文本转换为字符串 - 您不能这样做。

此外，您粘贴的字符串大部分是 unicode 字符。

# php - 连接 2 个不同的数据库不起作用

> ID：14767455
> 
> 赞同：1
> 
> 时间：2013-02-08T07:11:44.897
> 
> 标签：php, mysql

![在此处输入图像描述](../Images/2f44e0f095bfef822e2514185f15808d.png)

首先，我已经知道不建议使用 mysql_connect，但我没有时间学习 PDO 命令，一旦我先解决了这个问题，我会将其更改为 PDO。但是现在，我仍然无法在每个文件上合并两个具有不同数据库连接的代码。

```
<?php

    $dbh1 = mysql_connect('localhost', 'root', ''); 
    $dbh2 = mysql_connect('localhost', 'root', '', true); 

    mysql_select_db('invoices', $dbh1);
    mysql_select_db('hmis', $dbh2);

    $id = '17';

    /////

      if ($id) {
    echo "<h1>Edit Medical Records # : $id</h1>";
    }
    else
    {
    echo " <h1>Medical Records</h1>";
    }

    if($submit)
    {
    //-------------------check user name-----------------------------------------------------
    $name = $_POST['name'];

    $select = "select first_name from patient where last_name = '".$last_name."';";
    $query = mysql_query($select,$dbh1) or die ("Mysql error! It was: ".mysql_error());
    $rows = mysql_num_rows($query);
    if ($rows != 0)
    {

      echo ("<script language=javascript>alert ('Sorry! $first_name is already taken!')</script>");
      echo ("<script language=javascript>document.location.href = 'editclient.php'</script>");

    exit;
    }
    if($name == "admin"){
      echo ("<script language=javascript>alert ('Sorry! $first_name is not a good thing to do!')</script>");
      echo ("<script language=javascript>document.location.href = 'editclient.php'</script>");
    exit;

    }
    //-----------------------------------end check-------------------------------------------
    $sql = "INSERT INTO patient (`first_name`, `last_name`,`country`, `address`, `gender`, `telno`, `occ`, `spo`, `occ2`,`cp`, `tel2`, `reff`, `all`, `ill`, `mat`, `frat`, `datetime`, `vs`,`ppe`, `ffup`)
    VALUES ('$first_name','$last_name','$country','$address','$gender','$telno','$occ','$spo','$occ2', '$cp','$tel2','$reff','$all','$ill','$mat','$frat','$datetime','$vs','$ppe','$ffup')";
    $result = mysql_query($sql,$dbh1);
    //echo ("<script language=javascript>document.location.href = 'editclient.php?id=$id&message=Patient $id has been Created!'</script>");
    echo ("<SCRIPT LANGUAGE='JavaScript'>
        window.alert('Succesfully Updated')
        window.location.href='sample4.php';
        </SCRIPT>");

    }
    else if($update)
    {

    $sql = "UPDATE patient set first_name='$first_name',last_name='$last_name',
    country='$country',address='$address',gender='$gender',telno='$telno',
    occ='$occ',spo='$spo',occ2='$occ2', cp='$cp', tel2='$tel2',reff='$reff', ill='$ill', mat='$mat', frat='$frat', datetime='$datetime', vs='$vs', ppe='$ppe' ,ffup='$ffup'
    WHERE clientid=$id";
    $result = mysql_query($sql ,$dbh1);
    //echo ("<script language=javascript>document.location.href = 'editclient.php?id=$id&message=Client $id has been Updated!'</script>");
    echo ("<SCRIPT LANGUAGE='JavaScript'>
        window.alert('Succesfully Updated')
        window.location.href='sample4.php';
        </SCRIPT>");

    }
    else if($id)
    {
    $result = mysql_query("SELECT * FROM patient WHERE clientid=$id",$dbh1);
    $row = mysql_fetch_array($result);

    ?>
    </p>
    <br><font color=red size=4><?php if (isset($_GET['message'])) { echo ' - '.$_GET['message']; } ?></font><BR>
    <?

    //-------------NEXT PREVIOUS----------------------------------------------------------------------

    $sql ="SELECT * FROM patient WHERE clientid < '$id' ORDER by clientid DESC LIMIT 1";

    $resultp = mysql_query($sql ,$dbh1);
    $previousrows = mysql_num_rows($resultp);
    while ($prerow = mysql_fetch_array($resultp)) {
    $prev=$prerow['clientid'];
    }
    //echo $prev;

    $sql2 ="SELECT clientid FROM patient WHERE clientid > '$id' ORDER by clientid ASC LIMIT 1";

    $resultn = mysql_query($sql2,$dbh1);
    $nextrows = mysql_num_rows($resultn);
    while ($nextrow = mysql_fetch_array($resultn)) {
    $next=$nextrow['clientid'];
    }
    //echo $next;
    if ($previousrows == "") {
    echo "";
    }else{
    echo "<B><a href=$PHP_SELF?id=$prev>$prev <- Prev</a> | ";
    }
    echo "<font size=6><B>$id</B></font>";
    if ($nextrows == "") {
    echo "";
    }else{
    echo "<b> | <a href=$PHP_SELF?id=$next > Next -> $next</a></b>";
    }
    //-----------------end next prev-----------------------------------------------------
    ?><br><br>
    <?php include("inc/nav.inc");?>
    <form name="form2a" method="post" action="<?php echo $PHP_SELF?>">
       <table width="760" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td class=topHeadrow1 valign="middle" width="50%" colspan="2">
    Edit Patient Information:</td>
          <td class=topHeadrow1 valign="middle" width="10" rowspan="20">
    &nbsp;</td>
          <td class=topHeadrow1 valign="middle" width="50%">
    Procedures:</td>
        </tr>
        <tr>
          <td valign="top" align="right">
    <input type="hidden" name="id" value="<?php echo $row["clientid"]?>">
    First name:<br>
    </td>
          <td valign="top" align="left">
    &nbsp;<input type="text" size="20" name="first_name" value="<?php echo $row["first_name"]?>" ></td>
          <td valign="top" width="10%" rowspan="13">

          <!-- edit include inv -->

          <?php //include ('testinclude.php'); ?>

            <!-- END -->

          </td>
       </tr>
        <tr>
          <td valign="top" align="right">
    Last Name:
    </td>
          <td valign="top" align="left">
    &nbsp;<input type="text" name="last_name" size="20" value="<?php echo $row["last_name"]?>"></td>
       </tr>

       <tr> 
        <td valign="top" align="right"> Gender:</td>
          <td valign="top" align="left"><select name="gender">
          <option value="Male">Male</option>
          <option value="Female">Female</option> </select> 
             </td>
        </tr>
        <tr> 
        <td valign="top" align="right">  Country:</td>
      <td valign="top" align="left">
          <select name="country" >
            <option value="Afghanistan">Afghanistan</option>
            <option value="Bahrain">Bahrain</option>

    <option value="Bangladesh">Bangladesh</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Brunei">Brunei</option>
    <option value="Cambodia">Cambodia</option>
            <option value="China">China</option>
            <option value="Malaysia">Malaysia</option>

    <option value="Maldives">Maldives</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Myanmar">Myanmar (Burma)</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Philippines">Philippines</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Singapore">Singapore</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Syria">Syria</option>
    <option value="UAE">United Arab Emirates</option>
    <option value="Uzbekistan">Uzbekistan</option>

        </select> 

        </tr>

            <tr>
          <td valign="top" align="right">
    Tel. no.:</td>
          <td valign="top" align="left">
    <input
     type="text" size="20" name="telno" placeholder="###-####" value="<?php echo $row["telno"]?>"></td></tr>
     <tr>
          <td valign="top" align="right">
    Occupation:</td>
          <td valign="top" align="left">
    <input
     type="text" size="20" name="occ" value="<?php echo $row["occ"]?>"></td></tr>
     <tr>
          <td align="right">
    Spouse:</td>
          <td >
    <input
     type="text" size="20" name="spo" value="<?php echo $row["spo"]?>"></td></tr><tr>
      <td align="right">
    Occupation:</td>
          <td >
    <input
     type="text" size="20" name="occ2" value="<?php echo $row["occ2"]?>"></td></tr>

     <tr>
          <td align="right" width="20">
    Contact Person(in case of emergency):</td>
          <td >
    <input
     type="text" size="20" name="cp" value="<?php echo $row["cp"]?>"></td></tr><tr>
      <td align="right">
    Tel. no:</td>
          <td >
    <input
     type="text" size="20" name="tel2" value="<?php echo $row["tel2"]?>"></td></tr>

        <tr>
          <td valign="top" align="right" nowrap>
    Address:</td>
          <td valign="top" align="left">
    <input type="text" name="address" value="<?php echo $row["address"]?>" size="31"></td>
          </tr>

          <tr>
          <td valign="top" align="right" nowrap>
    Reffered By:</td>
          <td valign="top" align="left">
    <input type="text" name="reff" value="<?php echo $row["reff"]?>" size="31" ></td>
          </tr>

              <tr>
          <td class=topHeadrow1 valign="middle" width="50%" colspan="2">
    Past Medical History:</td>
          </tr>
        <tr>
          <td valign="top" align="right" nowrap>
    Allergy:</td>
          <td valign="top" align="left">
    <input type="text" name="all" value="<?php echo $row["all"]?>" size="31"></td>
          </tr> 
          <tr>
          <td valign="top" align="right" nowrap>
    Previous illness:</td>
          <td valign="top" align="left">
    <input type="text" name="ill" value="<?php echo $row["ill"]?>" size="31"></td>
          </tr>

        <tr>
         <td class=topHeadrow1 valign="middle" width="50%" colspan="2">
    <b><font size="4">
    Heredo-Familial Diseases:</font></b></td>
          </tr>
        <tr>
          <td valign="top" align="right" nowrap>
    Maternal:
         </td>
          <td valign="top" align="left">
    <input type="text" name="mat" value="<?php echo $row["mat"]?>" size="20"></td>
          </tr>
        <tr>
          <td valign="top" align="right" nowrap>
    Fraternal:
         </td>
          <td valign="top" align="left">
    <input type="text" name="frat" value="<?php echo $row["frat"]?>" size="20"></td>
          </tr>

    <tr>
         <td class=topHeadrow1 valign="middle" width="50%" colspan="2">
    <b><font size="4">
    Examination:</font></b></td>
          </tr>   
    <tr>
          <td valign="top" align="right" nowrap>
    Date / Time:</td>
          <td valign="top" align="left">
    <input type="text" name="datetime" value="<?php echo $row["datetime"]?>" size="31"></td>
          </tr>
          <tr>
          <td valign="top" align="right" nowrap>
    Vital Signs:</td>
          <td valign="top" align="left">
    <input type="text" name="vs" value="<?php echo $row["vs"]?>" size="31"></td>
          </tr>
          <tr>
          <td align="center" nowrap>
    Complain PPE Findings:</td>
          <td valign="top" align="left">
    <input type="text" name="ppe" value="<?php echo $row["ppe"]?>" size="31"></td>
          </tr>
           <tr>
          <td align="center" nowrap>
    Plan / Management / FF-UP</td>
          <td valign="top" align="left">
    <input type="text" name="ffup" value="<?php echo $row["ffup"]?>" size="31"></td>
          </tr>

        <tr>
          <td class=topHeadrow1 valign="middle" width="100%" colspan="4">
    <p align="center"><input class="form-button" type="Submit" name="update" value="Update Information"></td>
        </tr>
        <tr>
          <td valign="top" width="100%" colspan="4">
    <br>
    </td>
        </tr>
      </table>

      </form>

    <?
    }
    else
    {
    //----------------------------begin add client--------------------------------------------------------
    ?>
    <br><font color=red size=4><?php if (isset($_GET['message'])) { echo ' - '.$_GET['message']; } ?></font><BR>

    <form name="form2b" method="post" action="editclient.php" onSubmit="return checkPw(this)">
      <table>
        <tr>
          <td class="topHeadrow5" valign="top" width="100%" colspan="5">
    <b><font size="4">Patient Information:</font></b></td>
        </tr>
        <tr>
          <td valign="top" align="right">
    First Name:</td>
          <td valign="top" align="left">
    <input
     type="text" size="20" name="first_name" ></td></tr>
        <tr>
          <td valign="top" align="right">
    Last Name:</td>
          <td valign="top" align="left">
    <input type="text" name="last_name" size="20"></td></tr>
        <tr> 
        <td valign="top" align="right"> Gender:</td>
          <td valign="top" align="left"><select name="gender">
          <option value="Male">Male</option>
          <option value="Female">Female</option> </select> 
               </td>
        </tr>
        <tr> 
        <td valign="top" align="right">Country:</td>
      <td valign="top" align="left">
          <select name="country" >
            <option value="Afghanistan">Afghanistan</option>
            <option value="Bahrain">Bahrain</option>

    <option value="Bangladesh">Bangladesh</option>
    <option value="Bhutan">Bhutan</option>
    <option value="Brunei">Brunei</option>
    <option value="Cambodia">Cambodia</option>
            <option value="China">China</option>
            <option value="Malaysia">Malaysia</option>

    <option value="Maldives">Maldives</option>
    <option value="Mongolia">Mongolia</option>
    <option value="Myanmar">Myanmar (Burma)</option>
    <option value="Pakistan">Pakistan</option>
    <option value="Philippines">Philippines</option>
    <option value="Saudi Arabia">Saudi Arabia</option>
    <option value="Singapore">Singapore</option>
    <option value="Sri Lanka">Sri Lanka</option>
    <option value="Syria">Syria</option>
    <option value="UAE">United Arab Emirates</option>
    <option value="Uzbekistan">Uzbekistan</option>

        </select> 

        </tr>
        <tr>
          <td valign="top" align="right">
    Tel. no.:</td>
          <td valign="top" align="left">
    <input
     type="text" size="20" name="telno" placeholder="###-####"></td></tr>
     <tr>
          <td valign="top" align="right">
    Occupation:</td>
          <td valign="top" align="left">
    <input
     type="text" size="20" name="occ" ></td></tr>
     <tr>
          <td align="right">
    Spouse:</td>
          <td >
    <input
     type="text" size="20" name="spo" ></td>
      <td align="right">
    Occupation:</td>
          <td >
    <input
     type="text" size="20" name="occ2" ></td></tr>

     <tr>
          <td align="right" width="20">
    Contact Person(in case of emergency):</td>
          <td >
    <input
     type="text" size="20" name="cp" ></td>
      <td align="right">
    Tel. no:</td>
          <td >
    <input
     type="text" size="20" name="tel2" ></td></tr>

      <tr>
          <td valign="top" align="right" nowrap>
    Address:</td>
          <td valign="top" align="left">
    <input type="text" name="address"  size="50"></td>
          </tr>

          <tr>
          <td valign="top" align="right" nowrap>
    Reffered By:</td>
          <td valign="top" align="left">
    <input type="text" name="reff" size="31"></td>
          </tr>

        <tr>
         <td class="topHeadrow5" valign="top" width="200" colspan="5">
    <b><font size="4">
    Past Medical History:</font></b></td>
          </tr>

    <tr>
          <td valign="top" align="right" nowrap>
    Allergy:</td>
          <td valign="top" align="left">
    <input type="text" name="all" size="31"></td>
          </tr> 
          <tr>
          <td valign="top" align="right" nowrap>
    Previous illness:</td>
          <td valign="top" align="left">
    <input type="text" name="ill" size="31"></td>
          </tr>

        <tr>
         <td class="topHeadrow5" valign="top" width="100%" colspan="5">
    <b><font size="4">
    Heredo-Familial Diseases:</font></b></td>
          </tr>
        <tr>
          <td valign="top" align="right" nowrap>
    Maternal:
         </td>
          <td valign="top" align="left">
    <input type="text" name="mat" size="20"></td>
          </tr>
        <tr>
          <td valign="top" align="right" nowrap>
    Fraternal:
         </td>
          <td valign="top" align="left">
    <input type="text" name="frat" size="20"></td>
          </tr>

    <tr>
         <td class="topHeadrow5" valign="top" width="100%" colspan="5">
    <b><font size="4">
    Examination:</font></b></td>
          </tr>   
    <tr>
          <td valign="top" align="right" nowrap>
    Date / Time:</td>
          <td valign="top" align="left">
    <input type="text" name="datetime" size="31"></td>
          </tr>
          <tr>
          <td valign="top" align="right" nowrap>
    Vital Signs:</td>
          <td valign="top" align="left">
    <input type="text" name="vs" size="31"></td>
          </tr>
          <tr>
          <td align="center" nowrap>
    Complain PPE Findings:</td>
          <td valign="top" align="left">
    <input type="text" name="ppe" size="31"></td>
          </tr>
           <tr>
          <td align="center" nowrap>
    Plan / Management / FF-UP</td>
          <td valign="top" align="left">
    <input type="text" name="ffup" size="31"></td>
          </tr>
        <tr>
          <td width="10%">&nbsp;</td>
          <td width="90%"><input class="form-button" type="Submit" name="submit" value="Enter information"></td>
        </tr>
      </table>
      </form>
    <p>&nbsp;</p>

    <?
    }

    ?> 
```

上面代码的结果在上面的屏幕截图中。我注释掉了`include（'testinclude.php'）。但是，一旦我包含该文件，有关患者信息的所有数据都消失了，但程序列看起来消失了。我希望他们两个都出现。

当我包含 testinclude.php 时。这是结果：

![在此处输入图像描述](../Images/8eea85cfd7a08d44a9602966fa1cd98a.png)

testinclude.php

```
<?

$id = '17';
//printf("<td align=left><font face=Verdana size=1 color=red>There are no Records</font></td>",$num); //prints number

$procedures = "SELECT * FROM incurredcharges WHERE patient_no = '$id'";
$result = mysql_query($procedures ,$dbh2);

    if (mysql_num_rows($result) >= 1){

            $procedures = "SELECT
            `incurredcharges`.`procedure_no`,
  `c`.`procedure`

FROM
  incurredcharges
  INNER JOIN (
    SELECT `procedure`, `procedure_no` FROM `charges`
    UNION ALL
    SELECT `confinement`, `procedure_no` FROM `confinement`
    UNION ALL
    SELECT `service`, `procedure_no` FROM `ultrasound`
  ) c ON `incurredcharges`.`procedure_no` = c.`procedure_no`
WHERE `incurredcharges`.`patient_no` = '$id'";

            $result2 = mysql_query($procedures ,$dbh2);

            echo "<p><table border=1 cellspacing=0 cellpadding=2 bordercolor=#000000 width=100%>";
            echo "<tr align=top>
            <td class=topHeadrow5><b>Procedure #</b></td>
            <td class=topHeadrow5><b>Charge Incurred</b></td></tr>";

        while($row = mysql_fetch_array($result2)){

                    echo '
                    <tr>
                        <td>'.$row[0].'</td>
                        <td>'.$row[1].'</td>'; 
                        echo "</tr>";

        }
        echo '</table>';
        }
    else {

        echo "<p><table border=1 cellspacing=0 cellpadding=2 bordercolor=#000000 width=100%>";
        echo "<tr align=top>
        <td class=topHeadrow4><b>There are no Records</b></td></tr></table>";
        return false;
        }
?> 
```

我已经使用了连接多个数据库的技巧。每一个`mysql_query`，我都指定了它对应的数据库配置。但它仍然不起作用。

编辑：

好的，我只是尝试将 include('testinclude.php') 移到底部。它奏效了。它显示了患者信息和程序。

但在我的官方代码中，它没有。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:15:29.193

您必须`link`为每个数据库创建并将该链接传递给查询

```
 $link1 = mysql_select_db('invoices', $dbh1);
 $link2 = mysql_select_db('hmis', $dbh2);

 $sql1 = mysql_query($query1,$link1);
 $sql2 = mysql_query($query2,$link2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:18:04.000

请参考以下代码，

```
$dbh1 = mysql_connect($hostname, $username, $password); 
$dbh2 = mysql_connect($hostname, $username, $password, true); 

mysql_select_db('database1', $dbh1);
mysql_select_db('database2', $dbh2);

Then to query database 1, do this:

mysql_query('select * from tablename', $dbh1);

and for database 2:

mysql_query('select * from tablename', $dbh2); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:23:48.040

在打开第二个 MySql 连接时，您需要将第 5 个参数作为 true 传递。

请参考**MySql**手册，

```
resource mysql_connect (string $server, string $username,   
string $password, bool $new_link = false ) 
```

**new_link**
如果使用相同的参数对 mysql_connect() 进行第二次调用，则不会建立新链接，而是返回已打开链接的链接标识符。new_link 参数修改了这种行为并使 mysql_connect() 始终打开一个新链接，即使之前使用相同的参数调用了 mysql_connect() 也是如此。在 SQL 安全模式下，此参数被忽略。

我希望这有帮助。

# html - 为什么 TD 宽度不起作用或未遵循？

> ID：14767459
> 
> 赞同：13
> 
> 时间：2013-02-08T07:12:00.857
> 
> 标签：html, css, html-table, column-width

**原始问题：HTML 是否`<table>`有默认宽度？**

最近有人在这些地方问了一个问题，让我想知道。

以此为例。

[http://jsfiddle.net/rqmNY/1/](http://jsfiddle.net/rqmNY/1/)

在这个小提琴中，如果您要检查它的宽度（我正在使用来自 chrome 的检查元素），它会显示`100px`，按预期工作。

让我们再添加几个“td”，我们将看到“ `td:100px`” css 被忽略了。

[http://jsfiddle.net/rqmNY/2/](http://jsfiddle.net/rqmNY/2/)

如您所见，现在它是 83px，而不是`100px`最初的预期。

但是假设，我回到更少的 TD (7)，并为每个 TD 元素添加更宽的宽度 (500px)，结果是 td 的宽度卡在`119px`.

[http://jsfiddle.net/rqmNY/6/](http://jsfiddle.net/rqmNY/6/)

最后，假设我有一个宽度为 2000 像素、宽度为 td 的表格`100px`以及许多 td 元素。 [http://jsfiddle.net/rqmNY/7/](http://jsfiddle.net/rqmNY/7/)

现在表格宽度覆盖了 TD 宽度，并将 td 的宽度扩展为`222px`.

谁能解释这种行为？

ps 请注意，在所有情况下，检查元素工具都会告诉我宽度始终对应于 css，这只是最终结果没有正确显示。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-02-08T17:29:23.183

您是否尝试过添加`display:inline-block`到您的 TD CSS 中？这迫使浏览器不要忽略您的 TD 宽度。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-02-13T15:38:16.007

我非常相信这个问题的答案是这样的：

会影响 TD 的宽度的优先级是

1.  表宽

2.  父元素宽度（如果没有，视口）

3.  元素（TD）宽度。

因此，如果设置了表格宽度，TD 将始终调整到表格的宽度。但是，如果未设置宽度，“主”宽度将是视口的真实宽度。除非 CSS 代码另有说明，否则这是正确的。只有当 TD 的总宽度小于视口的总宽度时，才会考虑元素宽度。

**编辑**

1.  表格宽度将始终覆盖 TD 宽度。

2.  规定的 TD 宽度只会被遵循，直到超过视口宽度，视口宽度将被优先考虑。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T16:00:31.443

实际上，当您不指定表格宽度时，表格宽度取决于单元格宽度。但是当您指定表格宽度时，它将忽略 td 宽度。看下面的例子：

```
<table>
  <tr>
    <td>Column 1</td>
  </tr>
  <tr>
    <td>Column 2</td>
  </tr>
</table> 
```

如果你使用

```
td { 
  width:500px;
} 
```

那么表格宽度将为`1000px`.

但是如果你使用

```
table {
  width:500px;
} 
td { 
  width:500px;
} 
```

它将忽略`<td>`宽度，表格宽度将为`500px`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:54:12.643

根据 w3 Docs [Here](http://www.w3.org/TR/html401/struct/tables.html#adef-width-TABLE)它说“在没有任何宽度规范的情况下，表格宽度由用户代理确定。”

我能想到的是**td**宽度始终取决于表格宽度。如果您指定或不指定。如果你有一个宽度的表`500px`和 2 个宽度的 TD `200px`。现在，在表中添加这 2 个 TD 之后，还有`100px`剩余空间可以容纳，因此`50px`每个 TD 都被添加到覆盖原始宽度属性的两个 TD 中。请参阅此链接[http://jsfiddle.net/rqmNY/7/](http://jsfiddle.net/rqmNY/9/)

# php - 如何在 Magento 的“编辑订单”区域覆盖“配送方式”？

> ID：14767470
> 
> 赞同：1
> 
> 时间：2013-02-08T07:12:53.660
> 
> 标签：php, magento

我正在尝试覆盖`Edit order`管理方面的运输方式。

我所做的是，添加了新文件

`My/Module/Block/Adminhtml/Sales/Order/Create/Shipping/Method/Form/Form.php`在我的自定义模块中。它有代码，

```
<?php
class My_Module_Block_Adminhtml_Sales_Order_Create_Shipping_Method_Form extends Mage_Adminhtml_Block_Sales_Order_Create_Shipping_Method_Form
{
    protected function _toHtml(){
        $this->setTemplate('module/form.phtml');
        return parent::_toHtml();
    }
}
?> 
```

在我的`config.xml ,`

```
<blocks>
        <adminhtml>
            <rewrite><sales_order_create_shipping_method_form>My_Module_Block_Adminhtml_Sales_Order_Create_Shipping_Method_Form</sales_order_create_shipping_method_form>
            </rewrite>
        </adminhtml>
     </blocks> 
```

在`frontend/adminhtml/default/default/template/module/form.html`

我写

```
<?php echo "Hello world"; ?> 
```

我认为这足以覆盖`sales_order_create_shipping_method_form`. 但不幸的是什么也没发生！！

如果我错过了什么，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:17:26.710

您已将模板设置为 module/form.phtml 并且它将起作用，但是您调用`return parent::_toHtml()`它会用父模板覆盖您的模板。所以最好覆盖父母的整个方法。

# c# - 我们可以使用 Response.Redirect 重定向到其他应用程序的页面吗

> ID：14767473
> 
> 赞同：0
> 
> 时间：2013-02-08T07:13:57.543
> 
> 标签：c#, asp.net

我正在开发 3.5framework 中的两个 asp.net webprojects。

我已经使用 Response.Redirect 重定向到其他页面，并使用查询字符串传递数据，它在同一个应用程序中工作正常，但是当我重定向到其他应用程序时，它给了我一个错误。代码：

（同一项目的工作代码）

```
Response.Redirect("confirm_book.aspx?Data=" + Server.UrlEncode(txtfname.Text) + "&Data1=" + Server.UrlEncode(txtlname.Text)); 
```

（重定向到其他网站时代码无效）

```
Response.Redirect("http://abc.com/confirm_book.aspx?Data=" + Server.UrlEncode(txtfname.Text) + "&Data1=" + Server.UrlEncode(txtlname.Text)); 
```

（关于 confirm_book.aspx 页面加载事件）

```
string fname=Request.QueryString["Data"];
string lname=Request.QueryString["Data1"]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:18:49.240

当然，您可以重定向到另一个应用程序。您需要指定绝对地址：

```
Response.Redirect("http://www.example.com/foo.aspx?Data=" + Server.UrlEncode(txtfname.Text)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:56:25.213

你能把`Page_Load`你重定向到的应用程序的代码吗？

我认为您正在尝试从不存在的 URL 或 NULL 值中获取 QueryString。您可能需要先检查 QueryString 的值是否不为 NULL

```
if (Request.QueryString["Data"] != null){

string fname=Request.QueryString["Data"];
// do your logic here !
} else {
// the value is NULL , do error logic here
} 
```

并用每个 QueryString 做这个。

# c - gdb 打印双指针

> ID：14767475
> 
> 赞同：-3
> 
> 时间：2013-02-08T07:14:08.310
> 
> 标签：c, gdb

我有`struct`一个

```
typedef struct p {
    struct m **k;
    // ..other member
} p_t;

p_t *pi; 
```

我需要`pi->k[1]`通过 gdb 访问该值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:25:26.297

请执行下列操作

`(gdb) print pi->k[1]`

# android - 在android中检测'口哨'声音

> ID：14767476
> 
> 赞同：2
> 
> 时间：2013-02-08T07:14:09.433
> 
> 标签：android, audio

我想检测“口哨”的声音。为此，我实施了[http://code.google.com/p/musicg/](http://code.google.com/p/musicg/)

源代码本身有问题。当您启动应用程序时，它已准备好收听，但是当您返回并再次重新启动检测器线程时，它不会触发哨声检测。

DetectorThread.java

```
package weetech.wallpaper.services;

import java.util.LinkedList;

import weetech.wallpaper.utils.Debug;
import android.media.AudioFormat;
import android.media.AudioRecord;

import com.musicg.api.WhistleApi;
import com.musicg.wave.WaveHeader;

public class DetectorThread extends Thread {

private RecorderThread recorder;
private WaveHeader waveHeader;
private WhistleApi whistleApi;
private Thread _thread;

private LinkedList<Boolean> whistleResultList = new LinkedList<Boolean>();
private int numWhistles;
private int totalWhistlesDetected = 0;
private int whistleCheckLength = 3;
private int whistlePassScore = 3;

public DetectorThread(RecorderThread recorder) {
    this.recorder = recorder;
    AudioRecord audioRecord = recorder.getAudioRecord();

    int bitsPerSample = 0;
    if (audioRecord.getAudioFormat() == AudioFormat.ENCODING_PCM_16BIT) {
        bitsPerSample = 16;
    } else if (audioRecord.getAudioFormat() == AudioFormat.ENCODING_PCM_8BIT) {
        bitsPerSample = 8;
    }

    int channel = 0;
    // whistle detection only supports mono channel
    if (audioRecord.getChannelConfiguration() == AudioFormat.CHANNEL_IN_MONO) {
        channel = 1;
    }

    waveHeader = new WaveHeader();
    waveHeader.setChannels(channel);
    waveHeader.setBitsPerSample(bitsPerSample);
    waveHeader.setSampleRate(audioRecord.getSampleRate());
    whistleApi = new WhistleApi(waveHeader);
}

private void initBuffer() {
    numWhistles = 0;
    whistleResultList.clear();

    // init the first frames
    for (int i = 0; i < whistleCheckLength; i++) {
        whistleResultList.add(false);
    }
    // end init the first frames
}

public void start() {
    _thread = new Thread(this);
    _thread.start();
}

public void stopDetection() {
    _thread = null;
}

@Override
public void run() {
    Debug.e("", "DetectorThread started...");

    try {
        byte[] buffer;
        initBuffer();

        Thread thisThread = Thread.currentThread();
        while (_thread == thisThread) {
            // detect sound
            buffer = recorder.getFrameBytes();

            // audio analyst
            if (buffer != null) {
                // sound detected
                // MainActivity.whistleValue = numWhistles;

                // whistle detection
                // System.out.println("*Whistle:");

                try {
                    boolean isWhistle = whistleApi.isWhistle(buffer);
                    Debug.e("", "isWhistle : " + isWhistle + " "
                            + buffer.length);

                    if (whistleResultList.getFirst()) {
                        numWhistles--;
                    }

                    whistleResultList.removeFirst();
                    whistleResultList.add(isWhistle);

                    if (isWhistle) {
                        numWhistles++;
                    }

                    // Debug.e("", "numWhistles : " + numWhistles);

                    if (numWhistles >= whistlePassScore) {
                        // clear buffer
                        initBuffer();
                        totalWhistlesDetected++;

                        Debug.e("", "totalWhistlesDetected : "
                                + totalWhistlesDetected);

                        if (onWhistleListener != null) {
                            onWhistleListener.onWhistle();
                        }
                    }
                } catch (Exception e) {
                    Debug.w("", "" + e.getCause());
                }
                // end whistle detection
            } else {
                // Debug.e("", "no sound detected");
                // no sound detected
                if (whistleResultList.getFirst()) {
                    numWhistles--;
                }
                whistleResultList.removeFirst();
                whistleResultList.add(false);

                // MainActivity.whistleValue = numWhistles;
            }
            // end audio analyst
        }

        Debug.e("", "Terminating detector thread...");

    } catch (Exception e) {
        e.printStackTrace();
    }
}

private OnWhistleListener onWhistleListener;

public void setOnWhistleListener(OnWhistleListener onWhistleListener) {
    this.onWhistleListener = onWhistleListener;
}

public interface OnWhistleListener {
    void onWhistle();
}

public int getTotalWhistlesDetected() {
    return totalWhistlesDetected;
}
} 
```

RecorderThread.java

```
public class RecorderThread {

private AudioRecord audioRecord;
private int channelConfiguration;
private int audioEncoding;
private int sampleRate;
private int frameByteSize; // for 1024 fft size (16bit sample size)
byte[] buffer;

public RecorderThread() {
    sampleRate = 44100;
    frameByteSize = 1024 * 2;

    channelConfiguration = AudioFormat.CHANNEL_IN_MONO;
    audioEncoding = AudioFormat.ENCODING_PCM_16BIT;

    int recBufSize = AudioRecord.getMinBufferSize(sampleRate,
            channelConfiguration, audioEncoding); // need to be larger than
                                                    // size of a frame
    audioRecord = new AudioRecord(MediaRecorder.AudioSource.MIC,
            sampleRate, channelConfiguration, audioEncoding, recBufSize);
    buffer = new byte[frameByteSize];
}

public AudioRecord getAudioRecord() {
    return audioRecord;
}

public boolean isRecording() {
    if (audioRecord.getRecordingState() == AudioRecord.RECORDSTATE_RECORDING) {
        return true;
    }

    return false;
}

public void startRecording() {
    try {
        audioRecord.startRecording();
    } catch (Exception e) {
        e.printStackTrace();
    }
}

public void stopRecording() {
    try {
        audioRecord.stop();
    } catch (Exception e) {
        e.printStackTrace();
    }
}

public byte[] getFrameBytes() {
    audioRecord.read(buffer, 0, frameByteSize);

    // analyze sound
    int totalAbsValue = 0;
    short sample = 0;
    float averageAbsValue = 0.0f;

    for (int i = 0; i < frameByteSize; i += 2) {
        sample = (short) ((buffer[i]) | buffer[i + 1] << 8);
        totalAbsValue += Math.abs(sample);
    }
    averageAbsValue = totalAbsValue / frameByteSize / 2;

    Debug.e("", "averageAbsValue : " + averageAbsValue);

    // no input
    if (averageAbsValue < 30) {
       return null;
    }

    return buffer;
}

} 
```

用法

```
 public class DetectionService extends Service implements
    OnWhistleListener {

Handler handler;
private DetectorThread detectorThread;
private RecorderThread recorderThread;

@Override
public void onCreate() {
    super.onCreate();
    handler = new Handler();

}

@Override
public IBinder onBind(Intent intent) {
    return null;
}

@Override
public int onStartCommand(Intent intent, int flags, int startId) {

    try {
        if (intent != null && intent.getExtras() != null) {

            if (intent.getExtras().containsKey("action")) {
                Debug.e("", "action : " + intent.getStringExtra("action"));

                if (intent.getStringExtra("action").equals("start")) {
                    startWhistleDetection();
                }

                if (intent.getStringExtra("action").equals("stop")) {
                    stopWhistleDetection();
                    stopSelf();
                }
            }
        } else {

            startWhistleDetection();
            Debug.e("", "intent is null OR intent.getExtras() is null");
        }
    } catch (Exception e) {
        e.printStackTrace();
    }

    return super.onStartCommand(intent, flags, startId);
}

private void startWhistleDetection() {

    try {
        stopWhistleDetection();
    } catch (Exception e) {
        e.printStackTrace();
    }

    recorderThread = new RecorderThread();
    recorderThread.startRecording();
    detectorThread = new DetectorThread(recorderThread);
    detectorThread.setOnWhistleListener(this);
    detectorThread.start();

}

private void stopWhistleDetection() {
    if (detectorThread != null) {
        detectorThread.stopDetection();
        detectorThread.setOnWhistleListener(null);
        detectorThread = null;
    }

    if (recorderThread != null) {
        recorderThread.stopRecording();
        recorderThread = null;
    }

}

@Override
public void onDestroy() {
    super.onDestroy();
}

@Override
public void onWhistle() {
    Debug.e("", "onWhistle()");
} 
```

它会第一次检测到哨声，直到您不停止服务。但是在停止并再次启动后它没有检测到（不调用监听器）。我只是没有追踪，可能是什么问题？

录音有问题吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T10:26:56.290

我投入了 6 个小时，:D 难以置信，录音机停止时没有释放。停止后我刚刚释放了录音机。

源代码有轻微的愚蠢错误。它不是释放记录器。

```
public void stopRecording() {
    try {
        audioRecord.stop();
        audioRecord.release();

    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-04T09:45:13.157

这段代码对我来说没问题

```
 if (detectorThread != null) {
            detectorThread.stopDetection();
            recorderThread.stopRecording();
    } 
```

# openerp - OpenERP 7：如何从安装队列中删除模块

> ID：14767477
> 
> 赞同：1
> 
> 时间：2013-02-08T07:14:11.620
> 
> 标签：openerp

在创建新的数据库后，我尝试在 OpenERP 7 中安装一些“应用程序”。我在 CRM 应用程序中遇到错误：它试图传入不存在的“2013 年 2 月 30 日”。

我目前对修复 2 月 30 日的问题不感兴趣：对我来说更重要的是从“应用计划升级”列表中删除 CRM 模块。

我似乎无法像在 6.x 中那样找到“取消安装”选项。

谁能指导我如何从安装队列中删除有问题的安装？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T05:23:51.543

转到**设置->已安装模块**从搜索中删除**已安装**，然后写入模块名称以查找模块。

![在此处输入图像描述](../Images/f8d1c2df26f71cacf098331262b57f0c.png) 然后单击模块，然后单击**取消安装**。

![在此处输入图像描述](../Images/8a4cac10f2eadc2e5d3215ebdb4ee200.png)

# iphone - 在这种类型的 API 中传入什么图片进行图片上传

> ID：14767484
> 
> 赞同：0
> 
> 时间：2013-02-08T07:14:46.700
> 
> 标签：iphone, image

这是 API“ [http://flut.psites.info/api/message_image.php?userfile=image&loginuid=loginuid](http://flut.psites.info/api/message_image.php?userfile=image&loginuid=loginuid) ”

在 API 中在这里传递“userfile”以将图像上传到服务器。

# file - 是否可以上传带有恶意文件名的文件？

> ID：14767487
> 
> 赞同：0
> 
> 时间：2013-02-08T07:14:59.053
> 
> 标签：file, http, upload

是否可以向 Apache 或 IIS 发送一个 http 上传请求文件，该文件的文件名带有“../”或“..”，不会被拒绝并传递给 php 或 ASP.Net 引擎？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:35:14.660

不是你问的那样。当它到达服务器时，浏览器已经读取了文件并将其作为内容块传递，除了您可以选择使用或丢弃的原始文件名之外，没有任何关于它来自何处的信息。

通常，文件上传会进入一个临时存储位置（例如 /tmp），然后需要从那里移到您可以控制和命名的某个地方。

该存储是在服务器上配置的，因此任何将路径信息放入文件名的尝试也应该被服务器的文件上传实现阻止，如果浏览器还没有这样做，服务器应该再次清理文件名。

如果有一个错误，那么所有的赌注都是关闭的。

# c# - 根据下拉列表中选择的月份和年份填充日期

> ID：14767489
> 
> 赞同：0
> 
> 时间：2013-02-08T07:15:10.863
> 
> 标签：c#, asp.net, date, drop-down-menu

我有 3 个下拉列表，分别代表年、月和日期。现在我想根据用户选择的年份和月份填充我的日期。我想使用普通的下拉列表尝试它，所以我暂时排除了日期时间选择器的选项。

这是我通常用来填充值的代码：

```
 protected void Call_Date()
{
    for (int i = 1; i <= 31; i++)
    {
        date0.Items.Add(i.ToString());

    }

    for (int j = 1; j <= 12; j++)
    {
        month0.Items.Add(j.ToString());

    }

    for (int k = DateTime.Now.Year; k <= 2020; k++)
    {
        year0.Items.Add(k.ToString());
    }
} 
```

我该怎么做才能使其相应地工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:23:41.317

尝试这个;

```
DateTime myDate = new DateTime((int)year0.SelectedValue,(int)month0.SelectedValue,(int)date0.SelectedValue) 
```

但请记住，@Cris 提出了一个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:25:33.320

`DateTime.IsLeapYear`您可以通过使用方法检查年份是否是闰年。如果您不想使用 DateTime 函数，那么您可以像[这样](http://support.microsoft.com/kb/214019)计算闰年。一旦找到了，就很容易找到一个月中的天数。

1月31日、2月28/29（闰年）、3月31日、4月30日、5月31日、6月30日、7月31日、8月31日、9月30日、10月31日、11月30日、12月. 31

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:28:04.393

这是一个示例[http://dotnetstation.wordpress.com/adding-date-year-and-month-in-dropdownlist-using-aspnetc/](http://dotnetstation.wordpress.com/adding-date-year-and-month-in-dropdownlist-using-aspnetc/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:28:39.927

您应该利用框架的 DateTime 类从选定的年份和月份中获取所需的日期。

```
 //build a date for the month and year selected by the user
    DateTime newDate = new DateTime(yearSelected, monthSelected, 1);

    //iterate through the days in that month
    for (int i = newDate.Day; i < DateTime.DaysInMonth(newDate.Year, newDate.Month); i++ )
    {
        //add to your list
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T07:34:43.543

不确定客户端解决方案是否可以，但看起来您可以使用 Knockout 作为一种选择......它有点像这个例子： http: [//knockoutjs.com/examples/cartEditor.html](http://knockoutjs.com/examples/cartEditor.html)，根据第一个下拉列表（月），您可以填充下一个（天）并使其与有效天数相匹配，以便您可以生成有效日期...

话虽如此，我最近为生日字段制作了一个编辑器模板......它与您的设置大致相同，具有三个下拉菜单。它还有一个隐藏字段（实际日期），该字段使用 Javascript 设置，每次三个下拉框之一更改时都会运行该字段。然后它会尝试设置隐藏字段的值并在该字段上运行不显眼的验证以检查有效日期，如果不是则显示错误消息...

检查编辑器模板中的下拉列表的伪代码在这里：

```
$("Dropdown").change(function () {
 if (($("Year").val() != "") && ($("Day").val() != "") && ($("Month").val() != "")) {
   var date = new Date($("Year").val(), $("Month").val() - 1, $("Day").val())
    $("Hidden").val(date.toString("yyyy-MM-dd"));

    $('form').validate().element('Hidden');
  } else {
   $("Hidden").val("");
  }
}
}) 
```

最后，正如 Cris 所说，您还需要检查日期是否有效，而不是 2 月 31 日。服务器端，我只会在日期上执行 Date.TryParse() 以检查它是否是实际日期，而不是表格发布时的其他内容......

# oracle - 如何检查表中是否在指定时间发生了删除

> ID：14767490
> 
> 赞同：1
> 
> 时间：2013-02-08T07:15:12.110
> 
> 标签：oracle, oracle11g

最近，我们的一个站点报告了一个非常奇怪的情况。根据我们的字段，我们发现应该有某种删除，该场景必须发生

在我们的应用程序代码中，该表本身没有删除。所以我们在 gv$sqlarea（因为我们使用 RAC）表中检查了该表是否有任何删除 sql。我们什么也没找到。

然后我们尝试通过我们的 PL/SQL Developer 进行相同类型的删除。我们能够通过 gv$sqlarea 或 gv$session 跟踪所有删除。但是当我们在plsql developer中使用以下查询，锁定，编辑和提交时，没有任何痕迹

```
select t.*, t.rowid 
  from <table> 
```

我们能找到的东西是 sys.mon_mods$ 有删除计数。但是不会长期保存，这样我们就可以通过时间戳来追溯

谁能帮我找出这个

> 甲骨文版本：11.1.0.7.0
> 
> 类型：RAC（5 个实例）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:27:38.337

`gv$sqlarea`只显示共享池中的 SQL 语句。如果语句只执行一次，取决于共享池的大小和执行的不同 SQL 语句的数量，一条语句在共享池中的停留时间可能不会很长。我当然不希望在几个小时后，一次性语句仍会出现在合理活跃的系统的共享池中。

假设您没有启用审核并且您没有删除记录的触发器，那么系统是否处于`ARCHIVELOG`模式？您是否有从删除该行的时间点开始的存档日志？如果是这样，您可能会使用[LogMiner](http://docs.oracle.com/cd/E11882_01/server.112/e22490/logminer.htm#SUTIL1553)来查看归档日志以找到有问题的语句。

# entity-framework-4 - EF4 自动检查约束

> ID：14767497
> 
> 赞同：1
> 
> 时间：2013-02-08T07:15:34.840
> 
> 标签：entity-framework-4, check-constraint

如何在 EF4 CodeFirst 中指定检查约束。

示例：我有一个字符串属性，我只能为其设置特定值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T09:15:33.073

EF 代码首先没有任何等效的检查约束。如果您想在数据库中有检查约束，您可以使用自定义数据库初始化程序并执行自定义 SQL 来更改表并添加检查约束（我[在此处](https://stackoverflow.com/questions/5701608/unique-key-with-ef-code-first/5701702#5701702)描述了唯一索引的类似方法），或者如果您已经在使用 EF 代码优先迁移，您可以`Up`在基于代码的迁移中为您的方法添加约束创建。

# label - 如何在Highcharts中水平居中y轴标签？

> ID：14767504
> 
> 赞同：2
> 
> 时间：2013-02-08T07:16:15.467
> 
> 标签：label, highcharts, axis

我已将 y 轴标签设置为“对齐：高”，即它水平显示在 y 轴的顶部。现在，由于我的标题分为两行，我想将 y 轴标签居中。我用“yaxis：{title {style {text-align：center}}}”尝试了它，并尝试将一些CSS放入标题中。但它不起作用。

有人给我小费吗？非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T12:06:48.080

你的意思是图表的标题还是 yAxis ？

[http://api.highcharts.com/highcharts#yAxis.title.align](http://api.highcharts.com/highcharts#yAxis.title.align) [http://api.highcharts.com/highcharts#title.align](http://api.highcharts.com/highcharts#title.align)

# html - html5中本地数据库的安全级别

> ID：14767512
> 
> 赞同：2
> 
> 时间：2013-02-08T07:16:51.267
> 
> 标签：html, security

我正在使用**html5**本地数据库来存储一些凭据。到目前为止，我知道如何在本地数据库中存储/访问变量和数据库表。

问题是，当我在那里存储一些用户凭据时，我不确定它有多安全。

例如：`window.localStorage.setItem('value', area.value);`存储`area.value`到`value`变量。

并用于访问该项目`window.localStorage.getItem('value')`。

当外部方可以使用用户使用的同一台计算机时，是否可以在不知道表信息（或上述情况下的变量信息）的情况下跟踪本地数据库的数据。

我已经提到[了这个](https://stackoverflow.com/questions/2903608/html5-web-database-security)。虽然不清楚。

感谢您的光临……！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:25:29.910

您不应将凭据存储在本地数据库中。

您可以使用此代码跟踪它

```
for (var key in window.localStorage){
    console.log("Key:", key);
    console.log("Value:", window.localStorage[key]);
} 
```

它应该适用于大多数浏览器。安全违规可以通过例如 XSS 来完成。

# python - 如何将自定义 django templatetag 与 django 模板 if 语句一起使用？

> ID：14767516
> 
> 赞同：3
> 
> 时间：2013-02-08T07:17:00.067
> 
> 标签：python, django, django-templates

我制作了一个 django 模板标签，它计算我的自定义用户多对多字段长度之一：

```
from django import template

register = template.Library()

@register.simple_tag(takes_context=True)
def unread_messages_count(context):
    user = context['request'].user
    return len(user.messages_unread.all()) 
```

在模板本身中，我只想在它大于零时才向用户显示它，所以我尝试了：

```
{% ifnotequal unread_messages_count 0 %}
   some code...
{% endifnotequal %} 
```

但显然它没有用。甚至没有'with'语句：

```
{% with unread_messages_count as unread_count %}
    {% ifnotequal unread_count 0 %}
        some code...
    {% endifnotequal %}
{% endwith %} 
```

如何检查变量是否大于 0，只有在大于 0 的情况下，才向用户显示一些代码（包括变量本身中的数字）。谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-08T07:21:29.037

最简单的方法是使用分配标签..

[https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#assignment-tags](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#assignment-tags)

```
@register.assignment_tag(takes_context=True)
def unread_messages_count(context):
    user = context['request'].user
    return len(user.messages_unread.all())

{% unread_messages_count as cnt %}
{% if cnt %}
   foo
{% endif %} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T13:05:13.100

您可以使用 django 自定义过滤器[https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#writing-custom-template-filters](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#writing-custom-template-filters)

```
def unread_messages_count(user_id):
  # x = unread_count   ## you have the user_id
  return x 
```

并在模板中

```
{% if request.user.id|unread_messages_count > 0 %}
  some code...
{% endif %} 
```

# java - setOnClickListener Android

> ID：14767519
> 
> 赞同：1
> 
> 时间：2013-02-08T07:17:26.573
> 
> 标签：java, android, mobile, methods

```
Button b1 = (Button) findViewById(R.id.button1);

OnClickListener list1 = new OnClickListener() {
    @Override
    public void onClick(View v) {
        startActivity(new Intent(MainActivity.this, Second.class));
    }
};

b1.setOnClickListener(list1); 
```

为什么我们不需要实例化或初始化传递给 onClick 的 View v？它指的是什么对象？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:20:25.340

`View v`实际上是如果`Button b1`你按下按钮

如果按下按钮，`View v`将返回 Object`Button b1`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T11:34:36.840

测试以下..

```
protected void onCreate(Bundle savedInstanceState) 
{
     Button b1 = (Button) findViewById(R.id.button1);
    b1.setOnClickListerner(this);
    .....
    .....
}

public void onClick(View v)
{
     if(v == b1)
    {
        // do stuff
    }
} 
```

上面的代码和你的代码都是一样的。当你按下按钮时，按钮对象的引用被传递给 onClick()。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:24:29.990

android 将每个元素（即文本字段、按钮等）视为视图。这里 View v 将返回您单击的按钮的对象，即按钮 b1。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:25:47.310

`b1.setOnClickListener(list1);`- 您的此代码将`list1`侦听器绑定到您的 button`b1`的 onClick 事件。

每当在按钮 b1 上单击 - 在这种情况下 -**触摸**`onClick()`时，将调用该方法，该方法将发送`handle(v)`触发它的视图（在您的情况下 -**按钮 b1**）。

因此，`View v`将是您触发`OnClickListener`.

# winapi - 如何在 vb6 中将 FILETIME 从 WinApi 转换为 DateTime？

> ID：14767523
> 
> 赞同：0
> 
> 时间：2013-02-08T07:17:30.070
> 
> 标签：winapi, vb6

如何将 FILETIME 从 WinApi 转换（例如，从调用[此 WINAPI 函数](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683223%28v=vs.85%29.aspx)的结果到 vb6 中的 DateTime？（例如，如果我想将其用作[DateTime.DateDiff](http://msdn.microsoft.com/en-us/library/b5xbyt6f%28v=vs.80%29.aspx)函数的输入。）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T07:30:14.737

```
Public Type FILETIME
    dwLowDateTime As Long
    dwHighDateTime As Long
End Type

Public Type SYSTEMTIME
    wYear As Integer
    wMonth As Integer
    wDayOfWeek As Integer
    wDay As Integer
    wHour As Integer
    wMinute As Integer
    wSecond As Integer
    wMilliseconds As Integer
End Type

Private Declare Function FileTimeToSystemTime Lib "kernel32" (lpFileTime As FILETIME, lpSystemTime As SYSTEMTIME) As Long
Private Declare Function SystemTimeToVariantTime Lib "OLEAUT32.DLL" (lpSystemTime As SYSTEMTIME, vtime As Date) As Long

Dim st As SYSTEMTIME
Dim dt As Date

' convert a FILETIME to SYSTEMTIME first
FileTimeToSystemTime ft, st

' convert the SYSTEMTIME to a Variant date (VT_DATE)
SystemTimeToVariantTime st, dt 
```

# haskell - Haskell 通过枢轴值将列表一分为二

> ID：14767526
> 
> 赞同：3
> 
> 时间：2013-02-08T07:17:50.953
> 
> 标签：haskell

我想通过一个枢轴值将 [a] 拆分为 ([a], [a]) 并且我有我的代码

```
splitList :: (Ord a) => a -> [a] -> ([a],[a])
splitList pivot list = 
    ([x | x <- list, x <= pivot], [x | x <- list, x > pivot]) 
```

但是它迭代列表两次以生成两个列表，有没有办法只迭代一次？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T08:16:54.553

有两种可能性，取决于您是想要一个[尾递归](http://www.haskell.org/haskellwiki/Tail_recursion)解决方案（并且不关心反转元素的顺序），还是一个懒惰地消耗其参数的解决[方案](http://www.haskell.org/haskellwiki/Lazy_evaluation)。

惰性解决方案决定列表的第一个元素是进入第一部分还是进入第二部分，并使用简单的递归来处理列表的其余部分。在大多数情况下，这将是首选解决方案，因为惰性通常比尾递归更重要：

```
splitList :: (Ord a) => a -> [a] -> ([a],[a])
splitList _ [] = ([], [])
splitList p (x : xs)
    | x <= p    = (x : l, r)
    | otherwise = (l, x : r)
  where
    ~(l, r) = splitList p xs 
```

但是在某些情况下，您既不关心元素的顺序也不关心惰性，而是关心速度。（例如在实现排序算法时。）然后使用累加器来构建结果的变体（参见[Accumulating Parameters: Getting rid of the 'almost' in "almost tail recursive"](http://www.haskell.org/haskellwiki/Performance/Accumulating_parameter)）来实现尾递归会更合适：

```
splitListR :: (Ord a) => a -> [a] -> ([a],[a])
splitListR pivot = sl ([], [])
  where
    sl acc    []        = acc
    sl (l, g) (x : xs)
        | x <= pivot    = sl (x : l, g) xs
        | otherwise     = sl (l, x : g) xs 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T08:25:16.413

通常认为避免手动滚动递归是一种很好的风格；相反，您可以使用如下折叠功能：

```
splitList pivot = foldr triage ([],[]) 
  where
    triage x ~(lows, highs) 
      | x <= pivot = (x:lows, highs)
      | otherwise  = (lows, x:highs) 
```

当然，使用完全符合您需要的预先存在的功能（即分区）是更好的风格。:)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-08T08:08:16.180

如果你想从头开始写，你可以维护两个列表，一个用于小项目，一个用于大项目。首先，我将编写包装器：

```
splitList :: (Ord a) => a -> [a] -> ([a],[a])
splitList pivot input = spL input [] [] where 
```

好的，所以我只是调用 spL 并给它两个空列表开始。因为我使用的是 where 块，我不需要传递枢轴，所以只有三个正在改变的列表被传递. 如果我们在输入中没有留下任何东西，我们就完成了，应该返回答案：

```
 spL [] smalls larges = (smalls,larges) 
```

现在正如您所看到的，我们实际上会将 smalls 和 larges 倒过来，所以如果您不喜欢这样，请将那里的最终答案对替换为 (reverse smalls,reverse larges)。现在让我们处理一些输入：

```
 spL (i:input) smalls larges | i <= pivot = spL input (i:smalls) larges
                                | otherwise  = spL input smalls (i:larges) 
```

因此，如果它足够小，我们将它放在小物件的前面。

推到列表前面的原因是它节省了我们每次迭代到列表末尾的时间。就像我说的那样，如果这对您很重要，您可以随时反转以获得原始顺序。

我们一起得到：

```
splitList :: (Ord a) => a -> [a] -> ([a],[a])
splitList pivot input = spL input [] [] where
    spL [] smalls larges = (smalls,larges)
    spL (i:input) smalls larges | i <= pivot = spL input (i:smalls) larges
                                | otherwise  = spL input smalls (i:larges) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T07:28:15.567

```
import Data.List (partition)

splitList pivot = partition (<= pivot) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T20:56:17.753

[http://www.cs.indiana.edu/pub/techreports/TR27.pdf](http://www.cs.indiana.edu/pub/techreports/TR27.pdf) of 1976 ¹建议如下：

```
import Control.Applicative

partition3 [] p  = ZipList [[], [], []]
partition3 (x:xs) p 
   | x < p = ZipList [(x:),id,id] <*> partition3 xs p
   | x > p = ZipList [id,id,(x:)] <*> partition3 xs p
   | True  = ZipList [id,(x:),id] <*> partition3 xs p 
```

使用它，我们写

```
splitList pivot list = (a++b, c)
   where
      [a,b,c] = getZipList $ partition3 list pivot 
```

* * *

¹如此[处所示](http://www.youtube.com/watch?v=IHP7P_HlcBk)。

# php - PHP - 使用带有 IN 子句数组的 PDO

> ID：14767530
> 
> 赞同：95
> 
> 时间：2013-02-08T07:18:07.067
> 
> 标签：php, mysql, pdo, prepared-statement, in-clause

我正在使用 PDO 来执行一条语句，该语句带有一个`IN`使用数组作为其值的子句：

```
$in_array = array(1, 2, 3);
$in_values = implode(',', $in_array);
$my_result = $wbdb->prepare("SELECT * FROM my_table WHERE my_value IN (".$in_values.")");
$my_result->execute();
$my_results = $my_result->fetchAll(); 
```

上面的代码工作得很好，但我的问题是为什么不能：

```
 $in_array = array(1, 2, 3);
    $in_values = implode(',', $in_array);
    $my_result = $wbdb->prepare("SELECT * FROM my_table WHERE my_value IN (:in_values)");
    $my_result->execute(array(':in_values' => $in_values));
    $my_results = $my_result->fetchAll(); 
```

此代码将返回`my_value`等于`$in_array`(1) 中的第一项的项，但不返回数组中的其余项（2 和 3）。

* * *

## 回答 #1

> 赞同：138
> 
> 时间：2013-02-08T07:28:01.003

PDO 不适用于此类事情。您需要动态创建一个带有占位符的字符串并将其插入到查询中，同时以通常的方式绑定数组值。使用位置占位符将是这样的：

```
$in  = str_repeat('?,', count($in_array) - 1) . '?';
$sql = "SELECT * FROM my_table WHERE my_value IN ($in)";
$stm = $db->prepare($sql);
$stm->execute($in_array);
$data = $stm->fetchAll(); 
```

如果查询中有其他占位符，您可以使用以下方法（代码来自我的[PDO 教程](https://phpdelusions.net/pdo#in)）：

您可以使用`array_merge()`函数将所有变量连接到一个数组中，以数组的形式添加其他变量，按照它们在查询中出现的顺序：

```
$arr = [1,2,3];
$in  = str_repeat('?,', count($arr) - 1) . '?';
$sql = "SELECT * FROM table WHERE foo=? AND column IN ($in) AND bar=? AND baz=?";
$stm = $db->prepare($sql);
$params = array_merge([$foo], $arr, [$bar, $baz]);
$stm->execute($params);
$data = $stm->fetchAll(); 
```

如果您使用命名占位符，代码会稍微复杂一些，因为您必须创建命名占位符的序列，例如`:id0,:id1,:id2`. 所以代码是：

```
// other parameters that are going into query
$params = ["foo" => "foo", "bar" => "bar"];

$ids = [1,2,3];
$in = "";
$i = 0; // we are using an external counter 
        // because the actual array keys could be dangerous
foreach ($ids as $item)
{
    $key = ":id".$i++;
    $in .= ($in ? "," : "") . $key; // :id0,:id1,:id2
    $in_params[$key] = $item; // collecting values into a key-value array
}

$sql = "SELECT * FROM table WHERE foo=:foo AND id IN ($in) AND bar=:bar";
$stm = $db->prepare($sql);
$stm->execute(array_merge($params,$in_params)); // just merge two arrays
$data = $stm->fetchAll(); 
```

幸运的是，对于命名占位符，我们不必遵循严格的顺序，因此我们可以按任何顺序合并我们的数组。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-02-08T07:22:30.587

PDO 准备语句中的变量替换不支持数组。这是一对一的。

您可以通过根据数组的长度生成所需的占位符数量来解决该问题。

```
$variables = array ('1', '2', '3');
$placeholders = str_repeat ('?, ',  count ($variables) - 1) . '?';

$query = $pdo -> prepare ("SELECT * FROM table WHERE column IN($placeholders)");
if ($query -> execute ($variables)) {
    // ...
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-02-22T08:59:53.547

由于 PDO 似乎没有提供好的解决方案，您不妨考虑使用 DBAL，它主要遵循 PDO 的 API，但也添加了一些有用的功能[http://docs.doctrine-project.org/projects/doctrine-dbal/ en/latest/reference/data-retrieval-and-manipulation.html#list-of-parameters-conversion](http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/data-retrieval-and-manipulation.html#list-of-parameters-conversion)

```
$stmt = $conn->executeQuery('SELECT * FROM articles WHERE id IN (?)',
    array(array(1, 2, 3, 4, 5, 6)),
    array(\Doctrine\DBAL\Connection::PARAM_INT_ARRAY)
); 
```

可能还有一些其他的包不会增加复杂性并且不会模糊与数据库的交互（就像大多数 ORM 所做的那样），但同时使小型典型任务更容易一些。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-06-04T04:41:48.753

使用闭包的 PHP 妄想（@your-common-sense）的替代版本：

```
$filter      = ["min_price" => "1.98"];
$editions    = [1,2,10];

$editions = array_combine(
    array_map(function($i){ return ':id'.$i; }, array_keys($editions)),
    $editions
);
$in_placeholders = implode(',', array_keys($editions));
$sql = "SELECT * FROM books WHERE price >= :min_price AND edition IN ($in_placeholders)";
$stm = $pdo->prepare($sql);
$stm->execute(array_merge($filter,$editions));
$data = $stm->fetchAll(); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-04-11T14:37:51.590

我经常使用 FIND_IN_SET 而不是 IN，如下所示：

```
$in_array = array(1, 2, 3);
$in_values = implode(',', $in_array);
$my_result = $wbdb->prepare("SELECT * FROM my_table WHERE FIND_IN_SET(my_value, :in_values)");
$my_result->execute(array(':in_values' => $in_values));
$my_results = $my_result->fetchAll(); 
```

这不是最好的解决方案性能，但如果 $in_array 的可能数量选项有限，则通常不是问题。我经常将它用于 my_value 是枚举字段的状态。从来没有任何问题。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-11-02T15:37:15.053

我刚刚遇到了这个问题并编写了一个小包装器。我敢肯定，这不是最漂亮或最好的代码，但它可能会对某人有所帮助，所以它是：

```
function runQuery(PDO $PDO, string $sql, array $params = [])
{
    if (!count($params)) {
        return $PDO->query($sql);
    }

    foreach ($params as $key => $values) {
        if (is_array($values)) {
            // get placeholder from array, e.g. ids => [7,12,3] would be ':ids'
            $oldPlaceholder  = ':'.$key;
            $newPlaceholders = '';
            $newParams = [];
            // loop through array to create new placeholders & new named parameters
            for($i = 1; $i <= count($values); $i++) {
                // this gives us :ids1, :ids2, :ids3 etc
                $newKey = $oldPlaceholder.$i;
                $newPlaceholders .= $newKey.', ';
                // this builds an associative array of the new named parameters
                $newParams[$newKey] = $values[$i - 1];
            }
            //trim off the trailing comma and space
            $newPlaceholders = rtrim($newPlaceholders, ', ');

            // remove the old parameter
            unset($params[$key]);

            // and replace with the new ones
            $params = array_merge($params, $newParams);

            // amend the query
            $sql = str_replace($oldPlaceholder, $newPlaceholders, $sql);
        }
    }

    $statement = $PDO->prepare($sql);
    $statement->execute($params);
    return $statement;
} 
```

例如，将这些传入：

```
SELECT * FROM users WHERE userId IN (:ids)

array(1) {
  ["ids"]=>
  array(3) {
    [0]=>
    int(1)
    [1]=>
    int(2)
    [2]=>
    int(3)
  }
} 
```

变成：

```
SELECT * FROM users WHERE userId IN (:ids1, :ids2, :ids3)

array(3) {
  [":ids1"]=>
  int(1)
  [":ids2"]=>
  int(2)
  [":ids3"]=>
  int(3)
} 
```

它不是万无一失的，但作为满足我需求的唯一开发人员，它可以很好地完成工作，无论如何。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-02-27T10:15:58.930

这是未命名占位符（？）的解决方案。如果你传递带有问号的 $sql 像**"A=? AND B IN(?) "**和 $args 其中一些元素是像 [1, [1,2,3]] 这样的数组，它将返回带有适当数字的 SQL 字符串占位符 - **"A=? AND B IN(?,?,?)"**。它只需要 $args 参数来查找哪个元素是数组以及它需要多少个占位符。您可以使用此方法找到将运行您的查询的小型 PDO 扩展类： [https ://github.com/vicF/pdo/blob/master/src/PDO.php](https://github.com/vicF/pdo/blob/master/src/PDO.php)

```
public function replaceArrayPlaceholders($sql, $args)
{
    $num = 0;
    preg_match_all('/\?/', $sql, $matches, PREG_OFFSET_CAPTURE);  // Captures positions of placeholders
    //echo $matches[0][1][1];
    $replacements = [];
    foreach($args as $arg) {
        if(is_array($arg)) {
            $replacements[$matches[0][$num][1]] = implode(',',array_fill(0, count($arg), '?')); // Create placeholders string
        }
        $num++;
    }
    krsort($replacements);
    foreach($replacements as $position => $placeholders) {
        $sql = substr($sql, 0, $position).$placeholders.substr($sql, $position+1); // Replace single placeholder with multiple
    }
    return $sql;
} 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2017-06-16T08:36:15.167

据我了解，这是因为 PDO 会将 $in_values 内容视为单个项目并相应地进行处理。PDO 会将 1,2,3 视为单个字符串，因此查询看起来像

SELECT * FROM table WHERE my_value IN ("1,2,3")

您可能认为将 implode 更改为带有引号和逗号会修复它，但事实并非如此。PDO 将看到引号并更改它引用字符串的方式。

至于为什么您的查询与第一个值匹配，我没有解释。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2020-05-20T22:56:29.770

这是我的完整代码，对于我愚蠢的编码、糟糕的结构和注释行感到抱歉。也许有人重新编码了我的愚蠢代码:)

发送到课堂：

```
$veri_sinifi = new DB_Connect;
                          $veri_sorgu_degerleri=array(
                            "main_user_id" => (int)$_SESSION['MM_UserId'],
                            "cari_grup_id" => [71,72,73],
                            "cari_grup_adi" => ['fatih','ahmet','ali']                       
                          );                              
                          $siteler =$veri_sinifi->query("Select cari_grup_adi,cari_grup_id FROM m_cari_gruplar WHERE main_user_id= :main_user_id and cari_grup_id in (:cari_grup_id) and cari_grup_adi in (:cari_grup_adi)",$veri_sorgu_degerleri) ; 
```

类得到这个sql：

```
Select cari_grup_adi,cari_grup_id FROM m_cari_gruplar WHERE main_user_id= :main_user_id and cari_grup_id in (:cari_grup_id) and cari_grup_adi in (:cari_grup_adi) 
```

类将此 sql 转换为此。

```
Select cari_grup_adi,cari_grup_id FROM m_cari_gruplar WHERE main_user_id= :main_user_id and cari_grup_id in (:cari_grup_id0,:cari_grup_id1,:cari_grup_id2) and cari_grup_adi in (:cari_grup_adi0,:cari_grup_adi1,:cari_grup_adi2) 
```

类绑定参数：

```
 Select cari_grup_adi,cari_grup_id FROM m_cari_gruplar WHERE main_user_id= 1 and cari_grup_id in (71,72,73) and cari_grup_adi in ('fatih','ahmet','ali') 
```

代码：

```
class DB_Connect{
var $dbh;
function __construct(){
    $host = "";
    $db = "";
    $user = "";
    $password = "";
    $this -> dbh = $this -> db_connect($host, $db, $user, $password);
}
public function getDBConnection(){
    return $this -> dbh;
}
protected function db_connect($host, $db, $user, $password){
    //var_dump($host, $db, $user, $password);exit();
    try {
        $dbh = new PDO("mysql:host=$host;dbname=$db", $user, $password);
    }
    catch(PDOException $err) {
        echo "Error: ".$err->getMessage()."<br/>";
        die();
    }
    return $dbh;
}
public function query($statement,$bind_params){
    $keyword = substr(strtoupper($statement), 0, strpos($statement, " ")); // sql in en başındaki kelimeye bakıyor SELECT UPDATE vs gibi ordaki ilk boşluğa kadar olan kelimeyi alıyor.
  //echo $keyword;
    $dbh = $this->getDBConnection();        
    if($dbh){
        try{
            $sql = $statement;
            /*GELEN PARAMETRELERE BAKIP İÇİNDE ARRAY VAR İSE SQL STATEMENT KISMINI ONA GÖRE DEĞİŞTİRİYORUZ.
            Alttaki döngünün yaptığı işlem şu. Eğer alttaki gibi bir sorgu değerleri gönderilirse
            $veri_sorgu_degerleri=array(
                                    "main_user_id" => (int)$_SESSION['MM_UserId'],
                                    "cari_grup_id" => [71,72,73],
                                    "cari_grup_adi" => ['fatih','ahmet','ali']                       
                                  );    
            burada main_user_id tek bir değer diğerleri sise array olarak gönderiliyor. Where IN sorgusu birden fazla değer alabileceği için bunları PDO kabul ederken string olarak kabul ediyor yani yukardaki 71,72,73 değerini tırnak içine tek değermiş gib '71,72,73' şeklinde alıyor yapılması gereken sorgunun değiştirilmesi. bu döngü ile 

            Select cari_grup_adi,cari_grup_id FROM m_cari_gruplar WHERE main_user_id= :main_user_id and cari_grup_id in (:cari_grup_id) and cari_grup_adi in (:cari_grup_adi) 

            şeklindeki sorgu in kısımları değiştirilerek

            Select cari_grup_adi,cari_grup_id FROM m_cari_gruplar WHERE main_user_id= :main_user_id and cari_grup_id in (:cari_grup_id0,:cari_grup_id1,:cari_grup_id2) and cari_grup_adi in (:cari_grup_adi0,:cari_grup_adi1,:cari_grup_adi2)

            halini alıyor bir sonraki foreach de ise yine benzer yapı ile arary olarak gelen değerler in için tek tek bind ediliyor, normal gelen değerler ise normal bind yapılıyor.

            */
            foreach($bind_params as $paramkey => $param_value) {
              //echo "Key=" . $paramkey ."-".($param_value)."-, Value=" . $param_value;
              //echo "<br>";                 
              //echo "is_numeric($param_value)>".is_numeric($param_value)."<br>";
              //echo "is_string($param_value)>".is_string($param_value)."<br>";
              //echo "is_array($param_value)>".is_array($param_value)."<br>";
              $in_key="";
              $in_parameters="";
              if (is_array($param_value)) // Gelan parametre array ise yeniden yapılandır.
              {
              foreach ($param_value as $i => $item)
                {
                    $in_key = ":$paramkey".$i;
                    //echo "<br>$in_key = ".$paramkey.".$i";
                    $in_parameters .= "$in_key,";
                    //echo "<br>$in_parameters = ".$in_key;
                }
                $in_parameters = rtrim($in_parameters,","); // :id0,:id1,:id2
                //echo "<br>in_parameters>$in_parameters";
                $sql = str_replace(":".$paramkey, $in_parameters,$sql);
                //echo "<br>oluşan sql>".$sql."<br>"; 
               }
            }
            $sql = $dbh->prepare($sql);
            foreach($bind_params as $paramkey => $param_value) {
              //echo "Key=" . $paramkey ."-".($param_value)."-, Value=" . $param_value;
              //echo "<br>";                 
              //echo "is_numeric($param_value)>".is_numeric($param_value)."<br>";
              //echo "is_string($param_value)>".is_string($param_value)."<br>";
              //echo "is_array($param_value)>".is_array($param_value)."<br>";
              if (is_numeric($param_value)==1)  // gelen veri  numerik ise
                {
                    $param_value = (int)$param_value;
                    $pdo_param_type = PDO::PARAM_INT;
                } 
              elseif (is_string($param_value)==1)// gelen veri  string ise
                {$pdo_param_type = PDO::PARAM_STR; }
              if (is_array($param_value)) // gelen veri array tipinde ise
              {
              foreach ($param_value as $i => $param_array_value) // bu döngünün açıklaması yukardaki döngü için yazılan açıklama içinde mevcut
                {
                    $in_key = ":$paramkey".$i;
                                if (is_numeric($param_array_value)==1)  // gelen veri  numerik ise
                                    {
                                        $param_array_value = (int)$param_array_value;
                                        $pdo_param_type = PDO::PARAM_INT;
                                    } 
                                  elseif (is_string($param_array_value)==1)// gelen veri  string ise
                                    {$pdo_param_type = PDO::PARAM_STR; }
                                    $sql->bindValue($in_key, $param_array_value, $pdo_param_type );
                    //echo "<br>oldu1";
                    //echo "<br> -$in_key-";
                }
                //$sql = str_replace(":".$paramkey, $in_parameters, $sql);
                //echo "oluşan sql>".$sql."<br>"; 
               }
              else // array değilse aşağıdaki şekilde bind yap.
                {
                  //echo "<br>oldu2";
                  $sql->bindValue(":$paramkey", $param_value, $pdo_param_type ); // bindparam foreach içinde kullanılmaz çünkü execute esnasında bind yaptığı için yani anlık olarak değerleri atamaddığı için for döngüsünde en sonda value değişkeni neyse tüm parametrelere onu atıyor, bu sebeple bindvalue kullanıyoruz.PDO::PARAM_INT
                }
            } // foreach                
            $exe = $sql->execute();
            $sql->debugDumpParams();
            //echo $exe;

        }
        catch(PDOException $err){
            return $err->getMessage();
        }

        //BU KISMA AİT AÇIKLAMA AŞAĞIDAIR.
        switch($keyword){ // sorgu çalıştıktan sonra sorgu sonucuna göre gerekli işlemler yapılıyor.
            case "SELECT":  // Sorgu select sorgusu ise                
                $result = array(); //sonuçları diziye aktaracak.
                while($row = $sql->fetch(PDO::FETCH_ASSOC)){     // sonuç satırlarını tek tek okuyup                   
                    //echo $row;
                    $result[] = $row; // her bir satırı dizinin bir elemanına aktarıyor.bu değer diziden nasıl okunur açıklaması aşağıda                      
                }
                return $result; // sorgudan dönen diziyi doğrudan ana programa aktarıyor orada dizi olarak okunabilir.                
                break;
            default: 
                return $exe;
                break;
        }
    }
    else{
        return false;
    }
} 
```

}

# database - 如何通过 sql server 数据工具在重新创建数据库期间恢复旧数据？

> ID：14767533
> 
> 赞同：0
> 
> 时间：2013-02-08T07:18:46.650
> 
> 标签：database, visual-studio-2010, sql-server-data-tools

我尝试在 Visual Studio 2010 中使用数据库项目的“发布”功能重新创建数据库时自动恢复老化的数据。有谁知道我必须为此功能选择哪个偏好？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T15:36:06.240

发布“新”数据库时没有恢复数据的选项。您需要构建一个脚本来填充所有必要的对象或以其他方式将数据传输回数据库。

Red-Gate 的 SQL 数据比较可能对此任务有用，或者您可以找到一种方法来生成稍后可以调用的脚本。

如果您只想更新架构，我会检查您的发布设置以确保您没有选择“始终重新创建数据库”选项。

# jquery - 如何动态更改 Highchart 颜色

> ID：14767540
> 
> 赞同：0
> 
> 时间：2013-02-08T07:19:20.847
> 
> 标签：jquery, highcharts

我的 highchart 有问题，我的系列是通过循环我的模型来动态填充的。如果我还需要根据我的系列值更改我的 highchart 的颜色怎么办。
这是我的代码

```
series: [{
           name: 'Flag',
           showInLegend: false,
           pointWidth:24,
           pointPadding:0,
           groupPadding:0,
           data: (function()
           {
              var data = [];

               @{ 
                    var itemSumaryListData  = Model;
                    int subordinateCount = itemSumaryListData.subordinateCount;                                    
                    if(itemSumaryListData.employeeteamlevelsummarylist.Count > 0){
                        foreach (var employee in itemSumaryListData.employeeteamlevelsummarylist) {
                            <text>data.push(@employee.TotalFlag );</text>
                            }
                     }
                 }

                 return data;  
           })()
        }] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T12:09:45.787

您可以设置颜色参数：

[http://jsfiddle.net/x8JVj/](http://jsfiddle.net/x8JVj/)

```
series: [{
            name: 'Tokyo',
            color:'yellow',
            data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
        }] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-16T07:51:02.647

您可以尝试类似于此[JSFiddle](http://jsfiddle.net/abmadi/w9fv14k4/)并从图表数据中设置 MaxValue。

然后在 series.zones 中使用它：

```
[{value: ($.MaxValue )*0.5, color: '#00ffff'},...] 
```

# iphone - 将word文档加载到uiscrollview ios

> ID：14767541
> 
> 赞同：0
> 
> 时间：2013-02-08T07:19:26.487
> 
> 标签：iphone, ios, ipad, uiwebview, uiscrollview

正如我完成了根据页数将 pdf 文档加载到 uiscrollview 中一样。

我们如何将word文档加载到uiscrollview中，并且word文档应该加载到uiscrollview中的页数。

我们如何将 html 文件加载到 uiscrollview 中。

请我寻找 uiwebview、uidocumentinteractioncontroller 和 qlpreviewcontroller 的替代品。

任何帮助和建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T10:36:26.207

> 我完成了 uidocumentinteractioncontroller 和 qlpreviewcontroller

这些是要使用的正确类。你在哪里卡住？请更详细地编辑您的问题，我将更新此答案。

你也可以看看[这个答案](https://stackoverflow.com/questions/8493419/how-to-add-qlpreviewcontroller-as-subview-in-objective-c)。

# .htaccess - 如何删除不存在的 URL 中的某些字符串并在 Joomla 中使用 .htaccess 将其重定向到另一个 URL

> ID：14767548
> 
> 赞同：0
> 
> 时间：2013-02-08T07:20:21.517
> 
> 标签：.htaccess, url, redirect

这是我在stackoverflow中的第一个问题。这个网站在使用 Drupal、Joomla、Wordpress、javascript、HTML、JQuery 等 Web 开发领域的 Web 开发方面确实帮助了我很多。谢谢，非常感谢！

我也搜索过这个网站，它也与这个问题的标题有关，但老实说，他们都没有直接回答我的问题。我真的在努力解决这个问题好几天了，但我从来没有真正得到正确的解决方案。

所以这是我的问题。**我一直在尝试使用重定向这些不存在的 URL 在我的 Joomla 网站中，`.htaccess`但我无法做到正确。**你们中的任何人都可以建议如何在 中完成此操作`.htaccess`吗？

> www.mysite.com/index.php/component/content/37-2009-10-15-19-28-33?format=feed&type=rss

应该重定向到

> www.mysite.com/index.php/component/content

* * *

> www.mysite.com/index.php/paving-horizo​​ntal-concrete/park/34?format=feed&type=atom

应该重定向到

> www.mysite.com/index.php/paving-horizo​​ntal-concrete/park

* * *

> www.mysite.com/index.php/component/content/56?layout=blog&format=feed&type=rss

应该重定向到

> www.mysite.com/index.php/component/content/

* * *

我尝试了[这里](https://stackoverflow.com/questions/8535587/htaccess-redirect-non-existing-pages-based-on-index-php-page-with-wildcard-and)的建议，但仍然不成功。

任何帮助是极大的赞赏！先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T21:38:25.793

如果要删除 URL 路径的最后部分并使用永久外部重定向，请尝试：

```
RewriteEngine On
RewriteBase /

RewriteRule ^(index\.php/[^/]+/[^/]+)/ $1 [R=301,L] 
```

但正如我在评论中指出的那样，您以后将无法恢复最后一部分或查询字符串。

**编辑：**如果要保留查询字符串，只需添加`[QSA]`标志：

```
RewriteRule ^(index\.php/[^/]+/[^/]+)/ $1 [R=301,L,QSA] 
```

`[R]`或者，您可以通过删除标志来使用内部重定向。然后您会在环境变量`REQUEST_URI`（包括查询字符串）或`REDIRECT_URL`（不包括查询字符串）中找到原始 URL。

# c++ - c ++ Netbeans 7.2.1正确链接boost库

> ID：14767550
> 
> 赞同：0
> 
> 时间：2013-02-08T07:20:25.747
> 
> 标签：c++, static-libraries, netbeans-7.2, boost-signals

我最近从 Visual Studio 2010 Express 切换到使用 NetBeans，我已经对布局和简单性印象深刻，尽管它确实需要一点点推动才能正确编译。但是，我还有另一个问题。当我测试 boost 是否也能正常工作时，我将文件 boost/signals.hpp 包含在 main.cpp 中，然后转到项目选项中的其他库目录并添加我的 boost 安装的 lib 目录，与我会在视觉工作室做。毕竟，我还是得到了一堆未定义的引用。

我正在使用带有 msys 的 mingw 编译器，如果这有什么不同的话，我有 boost 1.47 版。我可以确认，在使用 Visual Studio 时，同样的 boost 安装工作正常。

这是构建日志。

```
"/usr/bin/make" -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf
make[1]: Entering directory m`/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'
"/usr/bin/make"  -f nbproject/Makefile-Debug.mk dist/Debug/MinGW-Windows/syncopate5.exe
make[2]: Entering directory `/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'
mkdir -p dist/Debug/MinGW-Windows
g++.exe     -o dist/Debug/MinGW-Windows/syncopate5 build/Debug/MinGW-Windows/main.o -L/C/Program\ Files\ \(x86\)/boost/boost_1_47/lib 
build/Debug/MinGW-Windows/main.o: In function `ZN5boost7signal0IvNS_10last_valueIvEEiSt4lessIiENS_8functionIFvvEEEED2Ev':
C:\Users\me\Documents\NetBeansProjects\Syncopate5\Syncopate5/../../../../../../Program Files (x86)/boost/boost_1_47/boost/signals/signal_template.hpp:139: undefined reference to `boost::signals::trackable::~trackable()'
C:\Users\me\Documents\NetBeansProjects\Syncopate5\Syncopate5/../../../../../../Program Files (x86)/boost/boost_1_47/boost/signals/signal_template.hpp:139: undefined reference to `boost::signals::detail::signal_base::~signal_base()'
make[2]: Leaving directory `/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'
C:\Users\me\Documents\NetBeansProjects\Syncopate5\Syncopate5/../../../../../../Program Files (x86)/boost/boost_1_47/boost/signals/signal_template.hpp:139: undefined reference to `boost::signals::detail::signal_base::~signal_base()'
make[1]: Leaving directory `/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'
build/Debug/MinGW-Windows/main.o: In function `ZN5boost7signal0IvNS_10last_valueIvEEiSt4lessIiENS_8functionIFvvEEEEC2ERKS2_RKS4_':
C:\Users\me\Documents\NetBeansProjects\Syncopate5\Syncopate5/../../../../../../Program Files (x86)/boost/boost_1_47/boost/signals/signal_template.hpp:197: undefined reference to `boost::signals::detail::signal_base::signal_base(boost::function2<bool, boost::signals::detail::stored_group, boost::signals::detail::stored_group> const&, boost::any const&)'
C:\Users\me\Documents\NetBeansProjects\Syncopate5\Syncopate5/../../../../../../Program Files (x86)/boost/boost_1_47/boost/signals/signal_template.hpp:197: undefined reference to `boost::signals::detail::signal_base::~signal_base()'
collect2.exe: error: ld returned 1 exit status
make[2]: *** [dist/Debug/MinGW-Windows/syncopate5.exe] Error 1
make[1]: *** [.build-conf] Error 2
make: *** [.build-impl] Error 2 
```

编辑：

尝试通过项目属性中的添加库对话框手动添加所需的 lib 文件后，我收到此错误。

```
"/usr/bin/make" -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf
make[1]: Entering directory `/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'
"/usr/bin/make"  -f nbproject/Makefile-Debug.mk dist/Debug/MinGW-Windows/syncopate5.exe
make[2]: Entering directory `/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'
make[2]: *** No rule to make target `../../../../../../Program Files \(x86\)/boost/boost_1_47/lib/libboost_signals-vc100-mt-1_47.lib', needed by `dist/Debug/MinGW-Windows/syncopate5.exe'.  Stop.
make[1]: *** [.build-conf] Error 2
make: *** [.build-impl] Error 2
make[2]: Leaving directory `/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'
make[1]: Leaving directory `/c/Users/me/Documents/NetBeansProjects/Syncopate5/Syncopate5'

BUILD FAILED (exit value 2, total time: 9s) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T12:12:38.597

这取决于您如何构建项目。

如果您从现有的 makefile 构建项目，则您的库路径和库应该存在于构建环境中。

如果您通过将源、包含和库逐个合并来手动构建项目，则需要*显式*添加所需的库。

具体来说，查看您更新的构建日志，您似乎没有*链接*所需的库，而是以某种方式将其添加为目标。

Right click on your project, go to `Properties`, under the `Build` tab look toward `Linker`, Here is where you should specify your link path and your dynamic/static libraries.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T03:05:56.307

After hours of googling and reading, i have discovered a little more about boost and finally found and understand my problem. When i originally obtained my install of boost, it was from BoostPro which has all the header only objects, as well as precompiled binaries for vc++ ONLY. After obtaining the most recent version of boost, and boost.build to create gcc versions of the libraries and linking against them, it worked without a hitch. Thanks Tyler Jandreau an Joachim Pileborg for answering my inherently flawed question :.

# iphone - 如何在 iphone 中获取最近的列表和收藏列表

> ID：14767551
> 
> 赞同：0
> 
> 时间：2013-02-08T07:20:40.010
> 
> 标签：iphone, contacts, favorites, recent-file-list

我想在 iOS 中获取默认的 iphone 联系人收藏夹列表和最近列表。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T09:35:03.467

您无法使用 ios sdk 获取收藏列表和最近通话列表。在 iPhone 中无法访问通话记录。您只能使用通讯录获取联系人。

检查以下链接

[iPhone通话记录/历史](https://stackoverflow.com/questions/6214725/iphone-call-log-history)

[通过 iPhone 访问通话记录](https://stackoverflow.com/questions/5714071/access-call-logs-through-iphone)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-31T18:11:52.523

其他海报是正确的，您无法访问收藏夹列表。但是你可以对地址簿进行一些智能分析，以找到更多“重要”的联系人：

[https://medium.com/growth-engineering-notebook/generate-better-referrals-by-analyzing-the-address-book-5d567f9dcf38](https://medium.com/growth-engineering-notebook/generate-better-referrals-by-analyzing-the-address-book-5d567f9dcf38)

# jquery - 使用jquery拖动特定图像时拖动不同的图像

> ID：14767555
> 
> 赞同：1
> 
> 时间：2013-02-08T07:21:17.497
> 
> 标签：jquery, html, jquery-draggable

我正在开发一个 html5 远程信息处理应用程序。我的要求是我有一个主窗口，并且在拖动（打开/关闭）时，其他窗口应该被拖动（打开/关闭）。请帮助我知道如何做到这一点。下面是我的代码

```
 var div_FrontRight= $('<div/>', { id: 'FrontLeft'});
      var div_FrontLeft= $('<div/>', { id: 'FrontLeft'});
       var div_Master= $('<div/>', { id: 'Master'});
       var div_RearRight= $('<div/>', { id: 'RearRight'});
       var div_RearLeft= $('<div/>', { id: 'RearLeft'});

       $("#AnimationWindow").append(div_FrontLeft);
       $("#AnimationWindow").append(div_Master);
       $("#AnimationWindow").append(div_RearRight);
       $("#AnimationWindow").append(div_RearLeft);

       var img_FrontLeft= $('<img/>', { id: 'imgFrontLeft', src:'../images/car.jpg'});
       var img_Master= $('<img/>', { id: 'imgMaster', src:'../images/car.jpg'});
       var img_RearRight= $('<img/>', { id: 'imgRearRight', src:'../images/car.jpg'});
       var img_RearLeft= $('<img/>', { id: 'imgRearLeft', src:'../images/car.jpg'});

       $("#FrontLeft").append(img_FrontLeft);
       $("#Master").append(img_Master);
       $("#RearRight").append(img_RearRight);
       $("#RearLeft").append(img_RearLeft);

       var div_stop= $('<div/>', { id: 'stop'});
       $("#AnimationWindow").append(div_stop);

       $( "#imgFrontLeft" ). draggable
({ 
    axis: "y" ,
    containment:[0,152,0,290] 
});
       $( "#imgMaster" ). draggable
({ 
    axis: "y", 
    containment:[0,158,0,430] 

});
       $( "#imgRearRight" ). draggable
({ 
    axis: "y",
    containment:[0,337,0,470
});
       $( "#imgRearLeft" ). draggable
({ 
    axis: "y", 
    containment:[0,337, 0,470] 
 }); 
```

单独拖动单个图像。但我的要求是，在Master的拖动中，其他4个窗口也应该被拖动。这可能吗 ？如果是，那么请提供同样的帮助。

提前致谢 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:41:21.637

尝试这个

```
 var div_FrontRight= $('<div/>', { id: 'FrontLeft'});
   var div_FrontLeft= $('<div/>', { id: 'FrontLeft'});
   var div_Master= $('<div/>', { id: 'Master'});
   var div_RearRight= $('<div/>', { id: 'RearRight'});
   var div_RearLeft= $('<div/>', { id: 'RearLeft'});

   $("#AnimationWindow").append(div_FrontLeft);
   $("#AnimationWindow").append(div_Master);
   $("#AnimationWindow").append(div_RearRight);
   $("#AnimationWindow").append(div_RearLeft);

   var img_FrontLeft= $('<img/>', { id: 'imgFrontLeft', src:'../images/car.jpg'});
   var img_Master= $('<img/>', { id: 'imgMaster', src:'../images/car.jpg'});
   var img_RearRight= $('<img/>', { id: 'imgRearRight', src:'../images/car.jpg'});
   var img_RearLeft= $('<img/>', { id: 'imgRearLeft', src:'../images/car.jpg'});

   $("#FrontLeft").append(img_FrontLeft).children(img_FrontLeft).draggable
   ({ 
        axis: "y" ,
        containment:[0,152,0,290] 
   });
   $("#Master").append(img_Master).children(img_Master).draggable
   ({ 
        axis: "y",
        containment:[0,337,0,470]
   });
   $("#RearRight").append(img_RearRight).children(img_RearRight).draggable
   ({ 
        axis: "y",
        containment:[0,337,0,470]
   });
   $("#RearLeft").append(img_RearLeft).children(img_RearLeft).draggable
   ({ 
        axis: "y", 
        containment:[0,337, 0,470] 
   });

   var div_stop= $('<div/>', { id: 'stop'});
   $("#AnimationWindow").append(div_stop); 
```

# javascript - 另一个 html 页面中的 javascript 变量

> ID：14767559
> 
> 赞同：2
> 
> 时间：2013-02-08T07:21:33.017
> 
> 标签：javascript, html

特别是我必须指出我刚刚开始开发 javascript 应用程序。我的问题是；我有一个包含我的地图的 html 页面。例如（a.html）。另外我在这个页面中有javascript变量（var map）我真正的问题是我有另一个html页面（b.html），它包含一个包含a.html的iframe。但我需要从 b.html 访问我的变量（var map）。我怎样才能实现它？可能吗？如果不是，我该如何解决这个问题？

谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:24:08.650

这是不可能的。您可以使用 cookie 或本地数据库在 html 文件之间共享数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:28:25.547

您可以在中创建一个空变量`b.html`

```
var mapCollector; 
```

然后在您加载后将您`a.html`的`iframe`地图写回

```
document.parent.mapCollector = map; 
```

或者您可以遍历`iframes`in`b.html`并以这种方式获取数据。该解决方案是理论上的，因为我现在没有我的环境。

限制是：两个 html 必须来自同一个域。

**编辑 ：**

正确的参考是：

```
window.parent.mapCollector = map; 
```

另请查看[我的测试用例](http://mikoandras.hu/work/stackoverflow/)以获取可行的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:41:40.467

如果您的浏览器支持 HTML5，您可以使用 localStorage。

```
localStorage.setItem('my_key','my_value');
var n = localStorage('my_key'); 
```

另一种选择是使用cookies。

所以你应该先检查：

```
function supports_html5_storage() {
  try {
    return 'localStorage' in window && window['localStorage'] !== null;
  } catch (e) {
    return false;
  }
} 
```

更多阅读：[http ://diveintohtml5.info/storage.html](http://diveintohtml5.info/storage.html)

# sql - sql server登录错误，用户名和密码

> ID：14767562
> 
> 赞同：0
> 
> 时间：2013-02-08T07:21:49.510
> 
> 标签：sql, sql-server-2008

我正在使用 sql server 2008 R2。有一个登录

```
Username:dev Password:*** 
```

这从过去 10 天开始运行良好，但我不知道为什么它突然停止工作并在尝试登录时显示错误消息：

```
TITLE: Connect to Server
------------------------------
Cannot connect to ASHI-PC\SQLEXPRESS.
------------------------------
ADDITIONAL INFORMATION:
Login failed for user 'dev'. (Microsoft SQL Server, Error: 18456) 
```

请帮我。我已经使用 sql server 配置管理器设置了 TCP 端口 1433，但这也不起作用，我检查了我的防火墙并将其禁用，我检查了处于运行模式的 sql 浏览器我已经重新启动它但没有得到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:24:57.137

18456 是登录失败消息。消息还有吗？通常你会得到一个“状态”代码，它会告诉你登录有什么问题。

尝试将您登录到计算机的 Windows 帐户添加到本地管理员组（如果尚未在其中），然后尝试再次连接到 SQL Server

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:29:29.557

显而易见的问题是过去 10 天有什么变化。

1.  您是唯一使用此登录名的人吗？（其他人是否可以更改密码/禁用用户）。

2.  您是否检查了相应的 SQL 服务是否已启动。

也许尝试使用 SQL 管理工作室并尝试使用凭据对该服务器/实例进行身份验证，看看您是否收到任何东西。

这篇[文章](http://blogs.msdn.com/b/sql_protocols/archive/2006/02/21/536201.aspx)虽然很旧（SQL 2005），但解释了您可能导致错误的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T08:01:49.190

通过使用 Windows 身份验证连接数据库并在此之后解决的问题

> 右键单击>选择重新启动还检查它是否处于配置管理器中的运行模式，然后单击停止然后再次启动。就我而言，它帮助了我。

# google-gadget - 谷歌小工具 - 如何添加不可更改的偏好

> ID：14767563
> 
> 赞同：0
> 
> 时间：2013-02-08T07:21:52.020
> 
> 标签：google-gadget, opensocial

是否可以在不让用户更改的情况下将首选项存储在谷歌小工具中？

```
<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
  <ModulePrefs title="title"/>
  <UserPref name="pref1" display_name="pref1"/>
  <UserPref name="pref2" display_name="pref2"/>
  <UserPref name="pref3" display_name="pref3"/>
  <Content type="html">
     <![CDATA[ 
       Hello, world!
     ]]>
  </Content> 
</Module> 
```

是否可以使用例如“pref2”作为不可更改的偏好？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-30T09:27:12.397

您可以以编程方式保存用户首选项。例如，假设您的用户偏好声明如下所示：

```
<UserPref name="enabled"
datatype="hidden"
default_value="true">
</UserPref> 
```

然后像这样启动用户偏好对象：

```
var prefs = new gadgets.Prefs(); 
```

然后设置用户首选项：

```
prefs.set("enabled", "false"); 
```

获取用户偏好：

```
prefs.get("enabled"); 
```

以这种方式，用户将无法更改首选项。有关更多详细信息[https://developers.google.com/gadgets/docs/fundamentals#SetPrefs](https://developers.google.com/gadgets/docs/fundamentals#SetPrefs)

# c# - 无法使用 system.web.extensions 托管网站

> ID：14767568
> 
> 赞同：4
> 
> 时间：2013-02-08T07:22:11.817
> 
> 标签：c#, asp.net, iis, web-config, iis-6

我正在开发一个 .net 4.0 Web 应用程序，并将其托管在 IIS 上。该应用程序成功托管了几次，而没有使用`<system.web.extensions>`in`web.config`文件。

该应用程序在没有任何错误的情况下发布，但是当我尝试使用它托管它`IIS`并尝试启用 `Directory Browsing`它时，它会发出错误`The configuration section system.web,extensions cannot be read because its missing a section declaration`。我已经将它设置为应用程序池中的 .net 4.0 应用程序，但仍然出现错误。

以下是我的`web.config`文件，

```
 <?xml version="1.0"?>
  <!--
    For more information on how to configure your ASP.NET application, please visit
    http://go.microsoft.com/fwlink/?LinkId=169433
    -->
  <configuration>
    <system.web>
      <compilation debug="true" targetFramework="4.0">
        <assemblies>
          <add assembly="MySql.Data, Version=6.5.4.0, Culture=neutral, PublicKeyToken=C5687FC88969C44D"/>
          <add assembly="System.Security, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A"/>
        </assemblies>
      </compilation>
      <httpRuntime requestValidationMode="2.0" executionTimeout="1000" maxRequestLength="2147483647" />
    </system.web>
    <system.web.extensions>
      <scripting>
        <webServices>
          <jsonSerialization maxJsonLength="2147483647">
          </jsonSerialization>
        </webServices>
      </scripting>
    </system.web.extensions>
  </configuration> 
```

我可以知道我在这里做错了什么..这真是令人头疼，我已经尝试了大部分在线资源，但都建议设置`.net 4.0`我已经完成的应用程序池..

非常感谢您的帮助 ：）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-08T09:12:19.627

```
<configuration>
  <configSections>
    <section name="system.web.extensions" type="System.Web.Configuration.SystemWebExtensionsSectionGroup" />
  </configSections>
</configuration> 
```

将此添加到配置部分。奇怪的是它在 applicationHost.config 中没有默认

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-02-03T23:36:38.307

如果您在 IIS 上使用设置为 2.0 - 3.5 集成管道的应用程序池上传 4.0 应用程序，那么您将看到有关缺少扩展部分声明的错误。

您需要在 IIS 上为 4.0-4.5 集成管道设置应用程序池。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-19T08:59:47.547

您可以通过在 webconfig 文件中添加以下配置设置来解决此问题

```
<configSections>
    <sectionGroup name="system.web.extensions" type="System.Web.Configuration.SystemWebExtensionsSectionGroup, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
      <sectionGroup name="scripting" type="System.Web.Configuration.ScriptingSectionGroup, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
        <section name="scriptResourceHandler" type="System.Web.Configuration.ScriptingScriptResourceHandlerSection, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="false" allowDefinition="MachineToApplication"/>
        <sectionGroup name="webServices" type="System.Web.Configuration.ScriptingWebServicesSectionGroup, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
          <section name="jsonSerialization" type="System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="false" allowDefinition="Everywhere"/>
        </sectionGroup>
      </sectionGroup>
    </sectionGroup>
  </configSections> 
```

# php - 从 Windows Azure 云 URL 流式传输音频或音乐文件

> ID：14767569
> 
> 赞同：0
> 
> 时间：2013-02-08T07:22:24.653
> 
> 标签：php, azure, streaming

是否有任何示例或开源应用程序可以从 Windows Azure 云 URL 流式传输音频文件，例如。[https://portalvhdsjqlyq1x0819tb.blob.core.windows.net/songs/Sleep%20Away.mp3](https://portalvhdsjqlyq1x0819tb.blob.core.windows.net/songs/Sleep%20Away.mp3)？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:38:28.547

Blob 存储不支持流协议。有[Windows Azure 媒体服务](http://www.windowsazure.com/en-us/home/features/media-services/)，它是 GA 并且支持流式传输。在此处阅读有关[如何使用媒体服务的](http://www.windowsazure.com/en-us/develop/media-services/how-to-guides/media-services-dotnet/)更多信息。

有一些解决方法，两年多前从史蒂夫马克思[这里](http://blog.smarx.com/posts/smooth-streaming-with-windows-azure-blobs-and-cdn)，[这里](http://blog.smarx.com/posts/publishing-adaptive-streaming-video-from-expression-encoder-to-windows-azure-blobs)和[这里](https://github.com/smarx/WazSmoothStreamingPlayer)描述。

但是，如果需要流式传输，我建议探索媒体服务。如果未明确要求流式传输，则 Azure Blob 存储已支持渐进式下载。

# mysql - EXPLAIN 声明说'使用 where; 如果在查询中设置了 USE INDEX()，则使用索引，否则只说“使用 where”

> ID：14767570
> 
> 赞同：2
> 
> 时间：2013-02-08T07:22:26.433
> 
> 标签：mysql, indexing, explain

我有一个具有以下结构的应用程序表

```
app_id VARCHAR(32) NOT NULL, 
dormant VARCHAR(6) NOT NULL, 
user_id INT(10) NOT NULL UNSIGNED 
```

我在这张表上有两个索引-：

```
combo1(UNIQUE) - app_id, user_id; 
combo2(INDEX) - app_id, dormant, user_id 
```

我运行这个查询

```
EXPLAIN SELECT COUNT(user_id), 
      IF(user_id=1,'yes','no') FROM apps 
      WHERE app_id='app_2' AND dormant = 'false' 
```

它输出以下信息-：

```
id -> 1; 
type -> SIMPLE; 
table -> apps; 
possible_keys -> combo1, combo2; 
key -> combo2; 
key_len -> 34; 
ref -> const; 
rows -> 1; 
Extra -> Using where 
```

但是当我运行这个查询时

```
EXPLAIN SELECT COUNT(user_id), 
    IF(user_id=1,'yes','no') 
FROM apps USE INDEX(combo2) 
WHERE app_id='app_2' AND dormant = 'false' 
```

它输出以下信息-：

```
id -> 1; 
type -> SIMPLE; 
table -> apps; 
possible_keys -> combo2; 
key -> combo2; 
key_len -> 42; 
ref -> const,const; 
rows -> 1; 
Extra -> Using where; Using index 
```

为什么它说`Using index`第二次，尽管它在两种情况下都使用相同的索引？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:57:28.003

**来自 MySQL 文档**：

仅使用索引树中的信息从表中检索列信息，而无需执行额外的查找来读取实际行。当查询仅使用属于单个索引的列时，可以使用此策略。

如果 Extra 列还显示 Using where，则表示该索引正在用于执行键值查找。如果不使用 where，优化器可能会读取索引以避免读取数据行，但不会将其用于查找。例如，如果索引是查询的覆盖索引，优化器可能会扫描它而不使用它进行查找。

有关这方面的更多信息，您可以参考[此](http://dev.mysql.com/doc/refman/5.0/en/explain-output.html#explain-extra-information)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T13:00:22.413

我将从评论中回答问题：如何重写查询，使其不仅适用于`user_id=1`：

```
SELECT
   COUNT(user_id) as distinct_user_count,
   IF(SUM(user_id=@user_id), 'yes', 'no') as is_the_user_found
FROM apps 
WHERE app_id='app_2' AND dormant = 'false'; 
```

# jquery - 如何判断图像是否在 html img 标签中加载失败？

> ID：14767573
> 
> 赞同：1
> 
> 时间：2013-02-08T07:22:31.503
> 
> 标签：jquery, html, image

如何判断图像是否在 html img 标签中加载失败（未找到 404，或其他 4xx 或 5xx 错误）并通过 jquery 回调报告？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:23:40.040

```
$('img').error(function(){
    //...
}); 
```

[文档](http://api.jquery.com/error/)

文档中的一个示例：

```
<img alt="Book" id="book" />

$('#book')
  .error(function() {
    alert('Handler for .error() called.')
  })
  .attr("src", "missing.png"); 
```

# java - 使用示例值初始化 java pojo

> ID：14767574
> 
> 赞同：3
> 
> 时间：2013-02-08T07:22:34.200
> 
> 标签：java, initialization, pojo

这听起来像是一个微不足道的问题，但我不知道有什么简单的方法可以做到。

如何使用默认/示例值在 Java 中构造类实例？该对象可能具有其他对象作为其构造的一部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:27:40.427

在变量声明时分配默认值。例子 -

```
public class Model{
  private String model = "default"; // Default value
  public String getModel(){
      return model;
  }
  public void setModel(String model){
      this.model = model;
  }
} 
```

或者通过构造函数赋值。

```
public class Model{
  private String model;
  public Model(String model){
      this.model = model;
  }
  public String getModel(){
      return model;
  }
  public void setModel(String model){
      this.model = model;
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:24:51.500

您可以在构造函数中提供默认值，也可以在定义类时提供默认值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:27:17.983

是否在构造函数中分配了值？如下所示：

```
public class Foo {
  private int bar;
  public Foo(int barValue) {
   super();
   this.bar = barValue;
  }
  public void setBar(int aBarValue) { this.barValue = aBarValue; }
  public int getBar() { return this.barValue; }
  public String toString() { return new Integer(this.getBarValue()).toString(); }
} 
```

# python - python初学者中的关系运算符

> ID：14767576
> 
> 赞同：0
> 
> 时间：2013-02-08T07:22:41.443
> 
> 标签：python, python-3.x

我使用了这段代码，它显示我有一个语法错误：

我是 python 新手，谁能帮我处理这部分代码。一个非常简单的初学者程序：

```
#display

def display(val):

    print("the number ",val)

#main program
while True:

    val = input("Enter an integer between 0 and 9 or -1 to quit") ;
    if val == '-1':
        break 
    if val <= '0' & val >= '9':
        display(val) 
```

***它在val =< '0'***部分显示错误

抱歉，这是我的一个非常糟糕的错字，我将在回溯中编辑问题：

```
Traceback (most recent call last):
  File "C:\Users\****\Desktop\ra2\ra.2.py", line 16, in <module>
    if val <= '0' & val >= '9':
TypeError: unsupported operand type(s) for &: 'str' and 'str' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T07:25:38.340

`if val =< '0' && val >= '9'`

应该：

`if val >= '0' and val <= '9'`,

或更简单：

`if '0' <= val <= '9'`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:24:27.510

错误的顺序。而不是`=<`它应该是`<=`：

```
val <= '0' 
```

而`and`不是`&`：

```
if val <= '0' and val >= '9': 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T07:27:02.063

这一行在这里：

```
if val =< '0' & val >= '9': 
```

应该：

```
if val >= '0' and val <= '9': 
```

请注意大于和小于号的方式，以及单词**and**而不是**&**的使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:28:16.963

这有效：

```
def display(val):

    print("the number ",val)

#main program
while True:

    val = input("Enter an integer between 0 and 9 or -1 to quit") ;
    if val == -1:
        break
    if val >= 0 and val <= 9:
        display(val) 
```

# java - 如何使用 XChart 使 Y 轴上的限制相同？

> ID：14767577
> 
> 赞同：3
> 
> 时间：2013-02-08T07:22:44.687
> 
> 标签：java, plot, charts, knowm-xchart

我正在尝试绘制一系列相似的函数。域为 [0,1]，范围始终为 [-3,3]。

我希望每个图的 Y 轴上的限制都相同。尝试设置系列 y min 和 y max 似乎不起作用。

有没有办法使 Y 轴上的限制在每张图上都相同？

```
import java.math.BigDecimal;
import java.util.*;
import com.xeiam.xchart.*;
public class Bug {
    static void plot(Chart chart,int n) {
        chart.setTitle("title");
        chart.setXAxisTitle("X");
        chart.setYAxisTitle("Y");
        List<Number> x=new ArrayList<Number>();
        List<Number> y=new ArrayList<Number>();
        String seriesName=addOneSeries(chart,n,x,y);
    }
    private static String addOneSeries(Chart chart,int n,List<Number> x,List<Number> y) {
        for(int i=0;i<=10;i++) {
            x.add(i/10.);
            y.add(i*n/10.);
        }
        String seriesName="series "+n;
        Series series=chart.addSeries(seriesName,x,y);
        series.xMin=BigDecimal.ZERO;
        series.xMax=BigDecimal.ONE;
        series.yMin=new BigDecimal(-5);
        series.yMax=new BigDecimal(5);
        return seriesName;
    }
    public static void main(String[] args) {
        for(int i=0;i<4;i++) {
            Chart chart=new Chart(700,500);
            plot(chart,i);
            new SwingWrapper(chart).displayChart();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-10T18:21:59.393

`Chart`现在可以使用[XChart](http://xeiam.com/xchart.jsp)在 a 上设置最小值和最大值。下面是演示这一点的 OP 的 Bug 类的返工。此时，由于它是一个全新的功能，您必须在[此处](https://oss.sonatype.org/content/groups/public/com/xeiam/xchart/xchart/2.0.0-SNAPSHOT/)获取一个 xchart-2.0.0-SNAPSHOT jar才能看到此功能。请随时[寻求帮助或请求更多功能](https://github.com/timmolter/XChart/issues?state=open)！

```
public class NoBug {

  static void plot(Chart chart, int n) {

    chart.setChartTitle("title");
    chart.setXAxisTitle("X");
    chart.setYAxisTitle("Y");
    List<Number> x = new ArrayList<Number>();
    List<Number> y = new ArrayList<Number>();
    String seriesName = addOneSeries(chart, n, x, y);
  }

  private static String addOneSeries(Chart chart, int n, List<Number> x, List<Number> y) {

    for (int i = 0; i <= 10; i++) {
      x.add(i / 10.);
      y.add(i * n / 10.);
    }
    String seriesName = "series " + n;
    Series series = chart.addSeries(seriesName, x, y);
    chart.getStyleManager().setxAxisMin(0);
    chart.getStyleManager().setxAxisMax(1);
    chart.getStyleManager().setyAxisMin(-5);
    chart.getStyleManager().setyAxisMax(5);
    return seriesName;
  }

  public static void main(String[] args) {

    for (int i = 0; i < 4; i++) {
      Chart chart = new LineChart(700, 500);
      plot(chart, i);
      new SwingWrapper(chart).displayChart();
    }
  }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-10-16T04:40:55.280

# 2020 年 10 月 15 日更新

这些方法现在使用大写的`X`or `Y`：

```
.setXAxisMin()
.setXAxisMax()
.setYAxisMin()
.setYAxisMax() 
```

请参阅[https://knowm.org/javadocs/xchart/org/knowm/xchart/style/AxesChartStyler.html#setXAxisMin(java.lang.Double)](https://knowm.org/javadocs/xchart/org/knowm/xchart/style/AxesChartStyler.html#setXAxisMin(java.lang.Double))

# c# - 动态需要在 RDLC 中添加分页符

> ID：14767579
> 
> 赞同：1
> 
> 时间：2013-02-08T07:22:50.537
> 
> 标签：c#, rdlc

在这里，我在列表中使用了两个子报告（subreport1，subreport2），有时显示 subreport1，有时显示 subreport2，有时两者都会在那个时候禁用空页面正在打印列表后给定 pageBreak 的因为，我不需要添加如果两个子报表都为空，则分页符，

请帮忙，

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-26T06:48:16.700

它将 KeepTogether 属性设置为 False

# python - 如何检测图像上的对象？

> ID：14767594
> 
> 赞同：23
> 
> 时间：2013-02-08T07:24:09.290
> 
> 标签：python, opencv, computer-vision

我需要python解决方案。

我有 40-60 张图片（Happy Holiday 集）。我需要检测所有这些图像上的对象。

我不知道对象大小、形式、图像上的位置，我没有任何对象模板。我只知道一件事：这个物体几乎存在于所有图像中。我称它为不明飞行物。

例子： ![在此处输入图像描述](../Images/465d35d9e273b614763fa0dfb0e97969.png) ![在此处输入图像描述](../Images/a985122971b93687052fd030e39af9f6.png) ![在此处输入图像描述](../Images/d8a42d87f923a16e94fd8186f0d5d282.png) ![在此处输入图像描述](../Images/2da244ffcdf88feff457908ebbf7e871.png)

如示例所示，从图像到图像，除了 UFO 之外，一切都发生了变化。检测后我需要得到：

左上角的X坐标

左上角的Y坐标

蓝色对象区域的宽度（我在示例中将区域标记为红色矩形）

蓝色对象区域的高度

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-02-08T07:39:46.040

当您将图像数据作为数组时，您可以使用内置的 numpy 函数轻松快速地执行此操作：

```
import numpy as np
import PIL

image = PIL.Image.open("14767594_in.png")

image_data = np.asarray(image)
image_data_blue = image_data[:,:,2]

median_blue = np.median(image_data_blue)

non_empty_columns = np.where(image_data_blue.max(axis=0)>median_blue)[0]
non_empty_rows = np.where(image_data_blue.max(axis=1)>median_blue)[0]

boundingBox = (min(non_empty_rows), max(non_empty_rows), min(non_empty_columns), max(non_empty_columns))

print boundingBox 
```

将为您提供第一张图片：

```
(78, 156, 27, 166) 
```

所以你想要的数据是：

*   左上角是 (x,y)：`(27, 78)`
*   宽度：`166 - 27 = 139`
*   高度：`156 - 78 = 78`

我选择了“每个蓝色值大于所有蓝色值中值的像素”属于您的对象。我希望这对你有用；如果没有，请尝试其他方法或提供一些不起作用的示例。

**编辑** 我修改了我的代码以使其更通用。由于两个具有相同形状颜色的图像不够通用（如您的评论所示），我综合创建了更多样本。

```
def create_sample_set(mask, N=36, shape_color=[0,0,1.,1.]):
    rv = np.ones((N, mask.shape[0], mask.shape[1], 4),dtype=np.float)
    mask = mask.astype(bool)
    for i in range(N):
        for j in range(3):
            current_color_layer = rv[i,:,:,j]
            current_color_layer[:,:] *= np.random.random()
            current_color_layer[mask] = np.ones((mask.sum())) * shape_color[j]
    return rv 
```

在这里，形状的颜色是可调的。对于 N=26 图像中的每一个，选择随机背景颜色。也可以在背景中加入噪音，这不会改变结果。

然后，我阅读了您的示例图像，从中创建了一个形状蒙版并使用它来创建示例图像。我将它们绘制在网格上。

```
# create set of sample image and plot them
image = PIL.Image.open("14767594_in.png")
image_data = np.asarray(image)
image_data_blue = image_data[:,:,2]
median_blue = np.median(image_data_blue)
sample_images = create_sample_set(image_data_blue>median_blue)
plt.figure(1)
for i in range(36):
    plt.subplot(6,6,i+1)
    plt.imshow(sample_images[i,...])
    plt.axis("off")
plt.subplots_adjust(0,0,1,1,0,0) 
```

![蓝色形状](../Images/ee0ae1488c103c8bd0d27589af5b9b89.png)

对于`shape_color`(parameter to `create_sample_set(...)`) 的另一个值，这可能如下所示：

![绿色形状](../Images/99a64913c14ce4ad58024ec46024d866.png)

接下来，我将使用标准偏差确定每个像素的可变性。正如您所说，该对象（几乎）位于同一位置的所有图像上。所以这些图像中的可变性会很低，而对于其他像素，它会明显更高。

```
# determine per-pixel variablility, std() over all images
variability = sample_images.std(axis=0).sum(axis=2)

# show image of these variabilities
plt.figure(2)
plt.imshow(variability, cmap=plt.cm.gray, interpolation="nearest", origin="lower") 
```

最后，就像在我的第一个代码片段中一样，确定边界框。现在我也提供它的情节。

```
# determine bounding box
mean_variability = variability.mean()
non_empty_columns = np.where(variability.min(axis=0)<mean_variability)[0]
non_empty_rows = np.where(variability.min(axis=1)<mean_variability)[0]
boundingBox = (min(non_empty_rows), max(non_empty_rows), min(non_empty_columns), max(non_empty_columns))

# plot and print boundingBox
bb = boundingBox
plt.plot([bb[2], bb[3], bb[3], bb[2], bb[2]],
         [bb[0], bb[0],bb[1], bb[1], bb[0]],
         "r-")
plt.xlim(0,variability.shape[1])
plt.ylim(variability.shape[0],0)

print boundingBox
plt.show() 
```

![BoundingBox 和提取的形状](../Images/63ef6141721cafd6074b90a25ac2f4db.png)

就是这样。我希望这次足够笼统。

复制和粘贴的完整脚本：

```
import numpy as np
import PIL
import matplotlib.pyplot as plt

def create_sample_set(mask, N=36, shape_color=[0,0,1.,1.]):
    rv = np.ones((N, mask.shape[0], mask.shape[1], 4),dtype=np.float)
    mask = mask.astype(bool)
    for i in range(N):
        for j in range(3):
            current_color_layer = rv[i,:,:,j]
            current_color_layer[:,:] *= np.random.random()
            current_color_layer[mask] = np.ones((mask.sum())) * shape_color[j]
    return rv

# create set of sample image and plot them
image = PIL.Image.open("14767594_in.png")
image_data = np.asarray(image)
image_data_blue = image_data[:,:,2]
median_blue = np.median(image_data_blue)
sample_images = create_sample_set(image_data_blue>median_blue)
plt.figure(1)
for i in range(36):
    plt.subplot(6,6,i+1)
    plt.imshow(sample_images[i,...])
    plt.axis("off")
plt.subplots_adjust(0,0,1,1,0,0)

# determine per-pixel variablility, std() over all images
variability = sample_images.std(axis=0).sum(axis=2)

# show image of these variabilities
plt.figure(2)
plt.imshow(variability, cmap=plt.cm.gray, interpolation="nearest", origin="lower")

# determine bounding box
mean_variability = variability.mean()
non_empty_columns = np.where(variability.min(axis=0)<mean_variability)[0]
non_empty_rows = np.where(variability.min(axis=1)<mean_variability)[0]
boundingBox = (min(non_empty_rows), max(non_empty_rows), min(non_empty_columns), max(non_empty_columns))

# plot and print boundingBox
bb = boundingBox
plt.plot([bb[2], bb[3], bb[3], bb[2], bb[2]],
         [bb[0], bb[0],bb[1], bb[1], bb[0]],
         "r-")
plt.xlim(0,variability.shape[1])
plt.ylim(variability.shape[0],0)

print boundingBox
plt.show() 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-13T14:48:40.620

我创建了第二个答案，而不是更多地扩展我的第一个答案。我使用相同的方法，但在您的新示例上。唯一的区别是：我使用一组固定阈值而不是自动确定它。如果你可以玩它，这就足够了。

```
import numpy as np
import PIL
import matplotlib.pyplot as plt
import glob

filenames = glob.glob("14767594/*.jpg")
images = [np.asarray(PIL.Image.open(fn)) for fn in filenames]
sample_images = np.concatenate([image.reshape(1,image.shape[0], image.shape[1],image.shape[2]) 
                            for image in images], axis=0)

plt.figure(1)
for i in range(sample_images.shape[0]):
    plt.subplot(2,2,i+1)
    plt.imshow(sample_images[i,...])
    plt.axis("off")
plt.subplots_adjust(0,0,1,1,0,0)

# determine per-pixel variablility, std() over all images
variability = sample_images.std(axis=0).sum(axis=2)

# show image of these variabilities
plt.figure(2)
plt.imshow(variability, cmap=plt.cm.gray, interpolation="nearest", origin="lower")

# determine bounding box
thresholds = [5,10,20]
colors = ["r","b","g"]
for threshold, color in zip(thresholds, colors): #variability.mean()
    non_empty_columns = np.where(variability.min(axis=0)<threshold)[0]
    non_empty_rows = np.where(variability.min(axis=1)<threshold)[0]
    boundingBox = (min(non_empty_rows), max(non_empty_rows), min(non_empty_columns), max(non_empty_columns))

    # plot and print boundingBox
    bb = boundingBox
    plt.plot([bb[2], bb[3], bb[3], bb[2], bb[2]],
             [bb[0], bb[0],bb[1], bb[1], bb[0]],
             "%s-"%color, 
             label="threshold %s" % threshold)
    print boundingBox

plt.xlim(0,variability.shape[1])
plt.ylim(variability.shape[0],0)
plt.legend()

plt.show() 
```

生产的地块：

![输入图像](../Images/f0e37716cd171e582d433b1da5d43fc2.png) ![输出](../Images/0a2e5eada8962322481f6e9cf0bc459a.png)

您的要求与认知神经科学中的[ERP](http://en.wikipedia.org/wiki/Event-related_potential)密切相关。您拥有的输入图像越多，随着信噪比的增加，这种方法的效果就越好。

# java - 使用 itext 获取 PDF 页面上最后打印行的行号

> ID：14767595
> 
> 赞同：1
> 
> 时间：2013-02-08T07:24:09.490
> 
> 标签：java, pdf, itext

我正在创建一个 PDF，我想在其中对打印的每一行进行编号并获取以下统计信息

每页也必须从零开始编号

pdf中的总行数，每页上的总行数等......

**所有这些都要做`RUNTIME`。而不是在创建之后`PDF`。创建的 PDF 无法再次打开。**

所以我没有再拍PDF，当文本每次都变化时，我怎么能把行号放在PDF中。

我使用了页面事件，但无法在 itext 中找到任何行事件

我正在`itext 2.1.5`使用`JAVA`.

# entity-framework - 来自 DTO 的 Entity Framework 5 并发更新

> ID：14767596
> 
> 赞同：0
> 
> 时间：2013-02-08T07:24:20.427
> 
> 标签：entity-framework, concurrency, poco, dto, optimistic-concurrency

我们正在使用随 VS 2012 提供的 Framework 4.5 和 EF 5.0。我们有一个实体，其中包含一个名为 RowVersion 的列，我计划将其用于并发检查。它是 MySQL 表中的一个“时间戳”值，它在插入或更新记录时会自行更新。

默认 EF 5 代码生成生成此 POCO：

```
Partial Public Class Terminal
    Public Property ID As Long
    Public Property User_ID As Nullable(Of Long)
    Public Property Name As String
    Public Property Number As Nullable(Of Integer)
    Public Property Location As String
    Public Property Description As String
    Public Property IsEnabled As Boolean
    Public Property RowVersion As Date

    Public Overridable Property UserSession As ICollection(Of UserSession) = New        HashSet(Of UserSession)

End Class 
```

我已将“RowVersion”属性的并发模式设置为“fixed”以启用并发检查，“StoreGeneratedPattern”设置为“Computed”。我们使用通过自动映射器映射的 DTO 通过 WCF 服务发送数据。

我们在更新通过服务返回的实体时遇到了一些问题。这是一些代码：

```
Public Sub SaveTerminal(Term As TerminalDto)
    Using db As New PasgaEntities(conString)
        Dim tmpTerminal As Terminal = Mapper.Map(Of Terminal)(Term)

        db.Terminal.Attach(tmpTerminal)

        db.Entry(tmpTerminal).State = EntityState.Modified
        db.SaveChanges() 'throws OptimisticConcurrencyException
    End Using
End Sub 
```

即使“rowVersion”没有改变，这总是会引发 OptimisticConcurrencyException。这是由将 DTO 映射回实体引起的吗？

有人可以指出我正确的方向吗？

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T10:34:17.097

我已经使用自定义的“RowVersion”列解决了这个问题，该列实际上是一个 DateTime 字段。由于无论如何我都必须手动处理 CRUD，因此更新或检查该字段是没有问题的。

# php - 对数字输入实施限制。

> ID：14767603
> 
> 赞同：-5
> 
> 时间：2013-02-08T07:24:41.757
> 
> 标签：php, html, css

所以我有这个：

```
<input name="data[Donation][amount]" value="0.00" step="any" maxlength="12" type="number" id="DonationAmount"> 
```

我的问题是如何确保没有负数输入该字段？如果可能的话，我想把它固定在后端和前端。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:30:05.327

在客户端，您可以使用 JavaScript 进行测试，例如

```
var num=123.45;
$("#DonationAmount").val().match(/^[0-9.]+$/) 
```

在服务器端，您可以检查

```
$num = "100";
if ( (int)$num == $num && (int)$num > 0 ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:31:03.167

您可以为此使用 min 和 max 属性！

```
<input type="number" min="0" max="10" /> 
```

允许用户选择 0 到 10 之间的数字！

如果你的后端是用 PHP 构建的，你可以像这样检查它：

```
if($_POST["data"]["Donation"]["amount"] < 0) {
    return false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:32:31.243

在前端，您应该使用 javascript 来执行此操作。

```
<script type="text/javascript">
function checknumber(val)
{
    if(val < 0)
    {
         alert('invalid value');
    }
}
</script>

<input name="data[Donation][amount]" value="0.00" step="any" maxlength="12" type="number" id="DonationAmount" onblur="checknumber(this.value)"> 
```

在服务器端，您可以执行此操作...

```
<?php
    $Amount = $_POST["data"]["Donation"]["amount"];

    if($Amount < 0 || !is_numeric($Amount))
    {
        echo "Invalid value";
    }
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:32:38.537

客户端：

```
$("#DonationAmount").keypress(function(event) {
  if ( event.which == 45 || event.which == 189 ) {
      event.preventDefault();
   }
}); 
```

这将确保'-'符号不能输入文本字段

服务器端 ：

```
if($_POST["data"]["Donation"]["amount"] < 0) {
    return false;
} 
```

HTML：

```
<input name="data[Donation][amount]" value="0.00" step="any" maxlength="12" min="0" type="number" id="DonationAmount"> 
```

# jquery - 使用 jQuery 选择两个元素，突出显示选择器

> ID：14767605
> 
> 赞同：0
> 
> 时间：2013-02-08T07:24:50.127
> 
> 标签：jquery, jquery-selectors

`<div>`我在标签中有一个项目列表，当用户将*鼠标悬停*在我的元素上时，它会突出显示。

现在我试图弄清楚如何允许用户选择**两个**元素来点击。当用户单击元素时，它应该被突出显示。

选择两个项目后，用户应该不能再选择，**除非**他们取消选择一个已选项目（使突出显示消失）然后选择其他项目。

这可能吗？

我目前的悬停：

```
 // hovers over element
                $('.media-search').hover(function(){
                    var $this = $(this);
                    // highlighting the object
                    $this.toggleClass('selectMedia');

                    $this.find('.next-btn').show();

                },function(){
                    var $this = $(this);

                    // removing the object
                    $this.removeClass('selectMedia');
                    $this.find('.next-btn').hide();
                }); 
```

`.selectMedia`只是突出显示我的`.media-search`div 的 CSS。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T08:58:58.737

从您的问题来看，您似乎正在尝试实现以下目标：

```
$('.media-search').hover(function(){
    $(this).toggleClass('highlight');
}).click(function(){

    if($('.selectMedia').length < 2 || $(this).hasClass('selectMedia'))
    {
        $(this).toggleClass('selectMedia');
    }
    else
        alert('please unselect one row');
}); 
```

JsFiddle 在[这里](http://jsfiddle.net/ZwAHQ/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:35:01.237

每次单击时，您只需计算具有该类别的项目数，如果超过两个，您无需执行任何操作就返回，或者显示一条消息，他们必须先取消选择一个，然后才能再选择一个。您只需使用 .lengt 或 size() 来计算 div 中具有该类的项目。

$(".classname).size() 或 .lengt 为您提供具有该类的元素的数量

# maven - Maven聚合站点生成

> ID：14767608
> 
> 赞同：9
> 
> 时间：2013-02-08T07:25:02.937
> 
> 标签：maven, maven-site-plugin

我有一个基于 Maven 的项目。有四个不同的项目，如下面的结构所示​​。每个主项目和子项目都有自己的 pom.xml 文件。

```
ProjectA
    |
    --------subProjects     
ProjectB  
   |
   --------subprojects
ProjectC    
   |
   --------subProjects
ProjectD
   |
    -------subprojects 
```

我正在运行`mvn site`哪个`ProjectC`依赖于`ProjectB`哪个相互依赖`ProjectA`和`ProjectB`

因此，当我运行 Maven 站点时`test results`，所有这些项目的所有内容都会被创建`individually`。我还想做的是`aggregation`在这些项目和子项目中创建一个所有测试结果并将其显示在`one place`.

那么maven网站有可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T11:27:31.997

是的。有两种选择：

1.  "[您可以通过将所有项目上的 project.build.directory 设置为一个公共文件夹来做到这一点。](https://stackoverflow.com/a/6522305/34088) "

2.  您可以`maven-surefire-report-plugin`通过添加`reportsDirectories`带有子元素`reportsDirectory`（[文档](http://maven.apache.org/surefire/maven-surefire-report-plugin/report-mojo.html)）的元素来添加额外的目录。

所以这应该工作：

```
<reportsDirectories>
    <reportsDirectory>../ProjectA/target/surefire-reports</reportsDirectory>
    <reportsDirectory>../ProjectA/module1/target/surefire-reports</reportsDirectory>
    ...
</reportsDirectories> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T13:26:12.313

稍微不同的方法是在[Jenkins](http://jenkins-ci.org/)或[Sonar](http://www.sonarsource.org/)等专用服务器中查看测试结果。这种方式无需修改现有项目。

[请参阅https://builds.apache.org/](https://builds.apache.org/)和[https://analysis.apache.org/](https://analysis.apache.org/)上的运行示例

来自声纳的两张截图： ![测试结果](../Images/a4ef5654cbfb04de7d7209b18076b583.png)

[模块和包的结果](https://analysis.apache.org/drilldown/measures/20341?metric=test_success_density&rids%5B%5D=28556) ![按模块和包的测试结果](../Images/eef4c87c1ffb952c2bb7c1d9d6e875f6.png)

对于 Jenkins，有[仪表板视图插件](https://wiki.jenkins-ci.org/display/JENKINS/Dashboard+View) ![在此处输入图像描述](../Images/b4223ff7e06bbcb0c28a57d46fd22f58.png)

# iphone - 使 web 应用程序屏幕适合 iphone 屏幕大小 ASP.NET

> ID：14767623
> 
> 赞同：1
> 
> 时间：2013-02-08T07:25:50.687
> 
> 标签：iphone, asp.net, html, ios5, ios4

我最近制作了一个 Web 应用程序（ASP.NET Webforms），用作 iPhone 托管应用程序。我将机身尺寸调整为：768 宽 x 854 高，这与 iPhone 屏幕视图非常相称，但更大。我在标题部分包含以下内容：

```
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=1.5;"/>
<link rel="apple-touch-icon" href="../logo.png" />
<meta http-equiv="Content-Type" content="application/vnd.wap.xhtml+xml; charset=utf-8" />
<meta name="HandheldFriendly" content="true" />
<meta name="apple-mobile-web-app-capable" content="yes" /> 
```

问题是当你在 iPhone 上打开这个托管应用程序时，你必须缩小以使网页屏幕适合 iPhone 屏幕。问题是：我怎样才能让这个自动调整/缩放/缩小到 iPhone 的原始尺寸？

# c#-4.0 - 当我将在按钮单击的文本框中输入一些数据时，我想要搜索数据库数据，它应该搜索

> ID：14767626
> 
> 赞同：1
> 
> 时间：2013-02-08T07:26:11.973
> 
> 标签：c#-4.0

我有一个`gridview`显示所有数据的地方。在该网格中，有 4 个字段，分别是姓名、地址、年龄和身份证。我有两个`textbox`搜索数据和一个按钮

我真正想要的是当我输入一些数据`textbox`并单击按钮时，它应该从数据库中搜索该`startswith`文本的数据并将该数据绑定到网格。

当我将`textbox`根据匹配的数据在第二个输入数据时，它将在数据库中搜索并在按钮单击时绑定到网格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:29:04.780

我认为您是初学者..尝试一些类似[this](http://asp-net-example.blogspot.in/2008/10/gridview-example-how-to-use-gridview-in.html)和[this的教程](http://www.dotnetspider.com/resources/Category518-ASP.NET-GridView.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T10:08:42.347

如果您是初学者，您必须在发布之前搜索一些内容。试试这个链接 问题已经有答案[使用按钮和文本框进行数据库搜索](https://stackoverflow.com/questions/6602079/finding-records-in-a-database-using-a-textbox-and-button)

# wordpress - Wordpress：上传时出错

> ID：14767629
> 
> 赞同：4
> 
> 时间：2013-02-08T07:26:19.857
> 
> 标签：wordpress, upload, wordpress-3.5

更新到 WordPress 3.5 后，以非管理员用户身份使用“添加媒体”按钮上传文件时，我开始收到以下错误：

> **错误：上传时发生错误。请稍后再试。**

图像似乎已完成上传，但最后会出现此错误消息。

这不会发生在管理员身上，只会发生在其他角色身上。我什至尝试为其他角色提供完整的管理功能，但错误仍然出现。

这是一个错误吗？还是我错过了什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-08T11:03:45.990

经过多次反复试验，我终于找到了适合我的解决方案。

首先，我发现为自定义用户角色上传文件需要以下角色功能：

```
$capabilites = array(

    'read'                  => true,
    'upload_files'          => true,
    'edit_published_pages'  => true,
    'edit_others_pages'     => true

); 
```

我不确定为什么特别需要这些，但是没有它们，错误就会不断发生。

其次，我必须更新我正在使用的功能以防止非管理员用户访问仪表板：

```
function redirect_nonadmin_fromdash(){

    if($_SERVER['PHP_SELF'] == '/wp-admin/async-upload.php'){

        /* allow users to upload files */

        return true;

    } else if(get_user_role() != 'administrator'){

        /* custom function get_user_role() checks user role, 
        requires administrator, else redirects */

        wp_safe_redirect(home_url());
        exit;

    }

}

add_action( 'login_form_login', 'redirect_nonadmin_fromdash' );
add_action( 'admin_init', 'redirect_nonadmin_fromdash', 1 ); 
```

以前，我正在检查 media-upload.php，但新的媒体上传器使用 async-upload.php。

因此，从本质上讲，这允许非管理员用户从前端使用新的媒体上传器，而不允许他们访问仪表板。

它还限制了他们对媒体库的访问，这对我来说也很重要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T08:32:46.540

这可能是由几个不同的因素引起的，这通常表明：

**文件太大**

有关如何增加最大允许文件大小的信息，请参阅[此](https://stackoverflow.com/questions/727736/php-maximum-total-upload-size)线程。

**没有足够的磁盘空间**

检查您的服务器硬盘驱动器是否已满。

**写权限不足**

确保 PHP 和您的网络服务器对 wp-uploads 文件夹具有写入权限。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-27T23:37:29.137

将 PHP 更新到 5.3 后，我刚刚遇到此错误。我的问题是short_open_tag。

默认情况下它是关闭的。我启用了它，现在一切正常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-01T02:46:09.473

我解决了我的问题，

```
sudo apt-get update
sudo apt-get install php5-gd 
```

这条消息我在上传时收到了萤火虫检查。

```
 GD Library Error: imagecreatetruecolor does not exist - please contact your webhost and ask them to install the GD libraryGD Library Error: imagecreatetruecolor does not exist - please contact your webhost and ask them to install the GD library{"success":true,"data":{"id":17,"title":"yoshi","filename":"yoshi1.jpg" 
```

所以我在上传的那一刻在萤火虫中得到了这个。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-17T16:47:25.200

请参阅此链接以获取更多详细信息-它对我有所帮助[https://sebastian.expert/fix-wordpress-an-error-occurred-in-the-upload-please-try-again-later/](https://sebastian.expert/fix-wordpress-an-error-occurred-in-the-upload-please-try-again-later/)

基本上它所说的是在上传文件后（出现错误消息时）使用 Chrome 或 Firefox 中的开发人员工具查看来自 async_upload.php 文件的响应。它以 JSON 格式返回错误详细信息。有了详细信息，解决问题会更容易、更快。

# three.js - 无法使用 JSONLoader 处理具有多个变形目标的动画

> ID：14767630
> 
> 赞同：0
> 
> 时间：2013-02-08T07:26:23.597
> 
> 标签：three.js

我在搅拌机中制作了一个简单的场景，其中包含一个简单的框和两个形状变形关键帧。

我导出的 .js 文件包含许多变形目标（我想每个动画帧都有一个？），但在生产中仍然没有显示动画，只是一个静态框。

这是我试图让这个工作的方式：

```
<script src="three.js" type="text/javascript"></script>
<script type="text/javascript">
  var size_width = window.innerWidth;
  var size_height = window.innerHeight;
  var player;
  var scene = new THREE.Scene();
  var camera = new THREE.PerspectiveCamera(75, size_width/size_height, 0.1, 1000);
  var renderer = new THREE.WebGLRenderer();
  var animation;

  var animOffset = 1;

  var duration = 1000;
  var keyframes = 101;
  var interpolation = duration / keyframes;
  var lastKeyframe = 0;
  var currentKeyframe = 0;

  renderer.setSize(size_width, size_height);
  document.body.appendChild(renderer.domElement);

  camera.position.x = 10;
  camera.position.y = -20;
  camera.position.z = 10;

  camera.rotation.x = 1.4;

  var player_loader = new THREE.JSONLoader();

  player_loader.load( "boxy.js", function(geo) {
    player = new THREE.Mesh(geo);
    scene.add(player);
  });

  function animate() {
    requestAnimationFrame(animate);
    render();
  }

  function render() {
    if ( player ) {
                var time = Date.now() % duration;
                var keyframe = Math.floor( time / interpolation );
                if ( keyframe != currentKeyframe ) {
                    player.morphTargetInfluences[ lastKeyframe ] = 0;
                    player.morphTargetInfluences[ currentKeyframe ] = 1;
                    player.morphTargetInfluences[ keyframe ] = 0;

                    lastKeyframe = currentKeyframe;
                    currentKeyframe = keyframe;
                }
                player.morphTargetInfluences[ keyframe ] = ( time % interpolation ) / interpolation;
                player.morphTargetInfluences[ lastKeyframe ] = 1 - player.morphTargetInfluences[ keyframe ];
            }
    renderer.render(scene, camera);
  }
  animate();
</script> 
```

这是我的出口：

[http://touhou.ru/upload/7b7513a903963b0804b0be763b8cc67c.js](http://touhou.ru/upload/7b7513a903963b0804b0be763b8cc67c.js)

也没有向控制台报告错误。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T22:48:50.357

您需要使用需要变形目标的材质来渲染网格。您可以通过在构造函数选项中将 morphTargets 布尔值设置为 true 来实例化材质来做到这一点。

我不确定您对 three.js 的熟悉程度，但在大多数情况下，人们创建网格对象时将几何对象和材质对象作为参数传递给网格构造函数。你只给了构造函数一个几何对象。

要在代码中运行动画，请更改在加载程序回调中实例化新网格的行：

```
player = new THREE.Mesh(geo); 
```

要使用具有变形目标的材质实例化网格，请启用：

```
player = new THREE.Mesh( geo, new THREE.MeshLambertMaterial({ morphTargets: true }) ); 
```

当我使用该更改运行您的代码时，我看到立方体的一个角向外变形，然后又向内变形。

# java - 如何从 pom 编辑器中删除 org.apache.maven.plugin.jar.JarMojo 错误

> ID：14767631
> 
> 赞同：6
> 
> 时间：2013-02-08T07:26:26.637
> 
> 标签：java, spring, maven, pom.xml

我正在使用 Spring Tool Suite 3.1.0.RELEASE，并且我创建的每个项目中的 pom.xml 文件都有一个名为“org.apache.maven.plugin.jar.JarMojo”的错误。没有进一步的错误细节。

在创建新的 Spring Utility Project 时，即使在自动生成的 pom.xml 中也会出现此错误。

它在构建期间不会导致任何错误，它仅显示在 IDE 中（pom 编辑器中的 Overview 选项卡顶部和 pom.xml 的第一行）。

![org.apache.maven.plugin.jar.JarMojo 错误截图](../Images/ebbb1dba7188869803aa5adff884827d.png)

任何人以前见过这个并且知道如何解决它？谷歌没有帮助。

这是我的 Spring Tool Suite 为 Spring Utility Project 生成的默认 pom.xml（它会导致所描述的错误）：

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.springframework.samples.spring</groupId>
    <artifactId>spring-utility</artifactId>
    <version>1.0.0.CI-SNAPSHOT</version>
    <packaging>jar</packaging>
    <name>Spring Utility</name>
    <url>http://www.springframework.org</url>
    <description>
        <![CDATA[
      This project is a minimal jar utility with Spring configuration.
    ]]>
    </description>
    <properties>
        <maven.test.failure.ignore>true</maven.test.failure.ignore>
        <spring.framework.version>3.0.6.RELEASE</spring.framework.version>
    </properties>   <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.7</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-test</artifactId>
            <version>${spring.framework.version}</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>${spring.framework.version}</version>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.14</version>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>1.5</source>
                    <target>1.5</target>
                </configuration>
            </plugin>

        </plugins>
    </build> 
</project> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-06T10:12:45.160

固定的。我单独下载了Maven 3.0.5，解压到C:\springsource\apache-maven-3.0.5。（STS 使用的是 Maven 3.0.3）然后在 STS 中从菜单中转到 Windows->Preferences，搜索“安装”以找到 Maven 安装页面。通过指向上面的文件夹添加了一个新的安装。应用。然后右键单击现有项目并选择 Maven->更新项目。错误消失了。

所有新项目也不再有错误。赢。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-11T07:32:48.400

我们在面向 Web 开发人员的 Eclipse Java EE IDE（Juno Service Release 2）中遇到了同样的问题，POM.xml 只是有这个“org.apache.maven.plugin.jar.JarMojo”错误，如上图所示。

这似乎是较新 Maven 的版本问题。最后我们安装一个旧的 C:\apache-maven-3.0.5

然后在 Eclipse -> Windows -> 首选项 -> 搜索“Maven” -> 安装，添加外部 C:\apache-maven-3.0.5

![引用外部 Maven 3.0.5](../Images/3b2e3d081a2851501551e07bd90bd100.png)

然后转到 Project -> Clean 并右键单击现有项目 -> Maven -> Update Projects 并可能重新启动 EClipse。

错误状态将消失。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-02T12:52:36.940

将包装从 jar 转换为 war。这解决了我的问题。

# vb.net - 如果选中则多选

> ID：14767632
> 
> 赞同：3
> 
> 时间：2013-02-08T07:26:28.867
> 
> 标签：vb.net, winforms, datagridview, checkbox

我无法将`Checkbox`列标题添加到多选（全选）行`Datagridview`，我用*谷歌搜索* ，但他们让我添加`checkbox`行而不是列标题。

这样我将选中所有复选框列标题单击。例如，请看下面的图片。这是我从互联网上获得的列表视图图像，但我正在使用`Datagridview`. ![在此处输入图像描述](../Images/f44b72a58945a17062880feab844a05b.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:33:14.137

我从互联网上得到这个，但我不记得链接在哪里，最初来自 c#。

```
Private checkboxHeader231 As CheckBox
Private Sub show_chkBox()
    Dim rect As Rectangle = DataGridView1.GetCellDisplayRectangle(columnIndexOfCheckBox, -1, True)
    ' set checkbox header to center of header cell. +1 pixel to position 
    rect.Y = 3
    rect.X = rect.Location.X + 8 + (rect.Width / 4)
    checkboxHeader231 = New CheckBox()
    With checkboxHeader231
        .BackColor = Color.Transparent
    End With

    checkboxHeader231.Name = "checkboxHeader1"
    checkboxHeader231.Size = New Size(18, 18)
    checkboxHeader231.Location = rect.Location
    AddHandler checkboxHeader231.CheckedChanged, AddressOf checkboxHeader231_CheckedChanged
    DataGridView1.Controls.Add(checkboxHeader231)
End Sub

Private Sub checkboxHeader231_CheckedChanged(sender As System.Object, e As System.EventArgs)
    Dim headerBox As CheckBox = DirectCast(DataGridView1.Controls.Find("checkboxHeader1", True)(0), CheckBox)
    For Each row As DataGridViewRow In DataGridView1.Rows
        row.Cells(columnIndexOfCheckBox).Value = headerBox.Checked
    Next
End Sub 
```

**用法：**

```
 Sub Form1Load(sender As Object, e As EventArgs) Handles MyBase.Load
        show_chkBox()
   End Sub 
```

我希望它会有所帮助

# java - 性能调整、检测和页面错误

> ID：14767634
> 
> 赞同：1
> 
> 时间：2013-02-08T07:26:32.550
> 
> 标签：java, performance, profiling, page-fault

我正在尝试在 JAVA 上调整我的一个应用程序。我正在使用 JAVA-Profiler 并从中获得了一些报告。我看到应用程序的页面错误数量从 30000 到 35000 不等。我怎样才能确定这个数字是太高还是正常？我在最初的一分钟和半小时后得到相同的数据。

我的 RAM 是 2 GB，我正在使用单线程应用程序。

线程仅尝试每 3 秒从队列中读取消息，并且队列为空。

由于没有进行任何处理，我认为根本不应该发生页面错误。请在这里指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T18:37:25.820

当您启动 JVM 时，它会将最大堆大小保留为连续块。但是，此虚拟内存仅在您访问这些页面时才变为主内存。即每次你的堆增长4 KB，你就会得到一个页面错误。您还将以相同的方式从线程堆栈中获取页面错误。

您的 35K 页面错误表明您正在使用大约 140 MB 的堆。

顺便说一句，您可以花 25 英镑购买 8 GB。你可以考虑升级。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-18T18:05:48.247

你的JVM是什么？如果是 HotSpot，您可以使用 -XX:LargePageSizeInBytes 或 -XX:+UseMPSS 等 JVM 选项来强制所需的页面大小，以最小化页面交换。我认为其他 JVM 也应该有类似的选项。

看看这个： [http ://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html](http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html)

# android - 在android中膨胀简单的xml布局时出现内存不足错误

> ID：14767636
> 
> 赞同：9
> 
> 时间：2013-02-08T07:26:43.020
> 
> 标签：android, xml, android-layout, out-of-memory

如果某些用户在 google play 上报告了内存错误，无论我多么努力，我似乎​​都无法重现。

该错误显示在我尝试设置文件布局的 java 文件的行上。这是 logcat 的完整转储：

```

      {java.lang.RuntimeException：无法启动活动 ComponentInfo{org.djodjo.android.sport.GrassrootsDragRacing/org.djodjo.android.sport.GrassrootsDragRacing.LogSheet}：android.view.InflateException：二进制 XML 文件第 2 行：错误膨胀类
              在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1970)
              在 android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)
              在 android.app.ActivityThread.access$600(ActivityThread.java:128)
              在 android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)
              在 android.os.Handler.dispatchMessage(Handler.java:99)
              在 android.os.Looper.loop(Looper.java:137)
              在 android.app.ActivityThread.main(ActivityThread.java:4514)
              在 java.lang.reflect.Method.invokeNative(Native Method)
              在 java.lang.reflect.Method.invoke(Method.java:511)
              在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:980)
              在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:747)
              在 dalvik.system.NativeStart.main（本机方法）
              原因：android.view.InflateException：二进制 XML 文件第 2 行：膨胀类错误
              在 android.view.LayoutInflater.createView(LayoutInflater.java:606)
              在 com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
              在 android.view.LayoutInflater.onCreateView(LayoutInflater.java:653)
              在 android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:678)
              在 android.view.LayoutInflater.inflate(LayoutInflater.java:466)
              在 android.view.LayoutInflater.inflate(LayoutInflater.java:396)
              在 android.view.LayoutInflater.inflate(LayoutInflater.java:352)
              在 com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:274)
              在 android.app.Activity.setContentView(Activity.java:1835)
              在 org.djodjo.android.sport.GrassrootsDragRacing.LogSheet.onCreate(LogSheet.java:20)
              在 android.app.Activity.performCreate(Activity.java:4470)
              在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1053)
              在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1934)
              ... 11 更多
              引起：java.lang.reflect.InvocationTargetException
              在 java.lang.reflect.Constructor.constructNative(Native Method)
              在 java.lang.reflect.Constructor.newInstance(Constructor.java:417)
              在 android.view.LayoutInflater.createView(LayoutInflater.java:586)
              ... 23 更多
              引起：java.lang.OutOfMemoryError
              在 android.graphics.Bitmap.nativeCreate(Native Method)
              在 android.graphics.Bitmap.createBitmap(Bitmap.java:605)
              在 android.graphics.Bitmap.createBitmap(Bitmap.java:551)
              在 android.graphics.Bitmap.createScaledBitmap(Bitmap.java:437)
              在 android.graphics.BitmapFactory.finishDecode(BitmapFactory.java:618)
              在 android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:593)
              在 android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:445)
              在 android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:775)
              在 android.content.res.Resources.loadDrawable(Resources.java:1968)
              在 android.content.res.TypedArray.getDrawable(TypedArray.java:601)
              在 android.view.View.(View.java:2834)
              在 android.view.View.(View.java:2771)
              在 android.view.ViewGroup.(ViewGroup.java:379)
              在 android.widget.RelativeLayout.(RelativeLayout.java:174)
              ... 26 更多

```

任何帮助将不胜感激:)

**编辑**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/log_sheet_background_new"
    android:orientation="vertical" >

    <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:background="#00FFFFFF"
        android:orientation="horizontal" >

        <!--
             <ImageView  
                android:id = "@+id/topLogo"
                android:layout_width="wrap_content" 
                android:layout_height="wrap_content"
                android:background="@drawable/top_logo3"
                android:layout_alignParentLeft="true"
            />
        -->

        <ImageView
            android:id="@+id/btnHelp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_gravity="right"
            android:layout_marginRight="3dip"
            android:layout_marginTop="3dip"
            android:adjustViewBounds="true"
            android:scaleType="fitCenter"
            android:src="@drawable/help_up" />
    </RelativeLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_marginBottom="5dip"
        android:layout_weight="1"
        android:gravity="center"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/btnNewLogSheet"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginLeft="5dip"
            android:layout_marginRight="0dip"
            android:background="@drawable/info_box_p1"
            android:clickable="true"
            android:text="Add New Log"
            android:textColor="#FF000000"
            android:textSize="16sp"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/btnDeleteAll"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginLeft="3dip"
            android:layout_marginRight="0dip"
            android:background="@drawable/info_box_p1"
            android:clickable="true"
            android:text="Clear All"
            android:textColor="#FF000000"
            android:textSize="16sp"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/btnLogSheetPredictET"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="5dip"
            android:layout_marginLeft="3dip"
            android:layout_marginRight="0dip"
            android:background="@drawable/info_box_p1"
            android:clickable="true"
            android:text="Predict ET"
            android:textColor="#FF000000"
            android:textSize="16sp"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/btnLogSheetListByDate"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginBottom="5dip"
            android:layout_marginLeft="3dip"
            android:layout_marginRight="0dip"
            android:background="@drawable/info_box_p1"
            android:clickable="true"
            android:text="Search by date"
            android:textColor="#FF000000"
            android:textSize="16sp"
            android:textStyle="bold" />
    </LinearLayout>

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-08T09:08:46.617

当图像的大小大于模拟器的宽度或高度时，就会出现此错误。所以检查你的图像并重新调整它们的大小。

有关更多信息，请参阅此链接[Binary XML file line #2: Error inflating class android.widget.LinearLayout](https://stackoverflow.com/questions/5810250/binary-xml-file-line-2-error-inflating-class-android-widget-linearlayout)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-26T13:24:39.437

当应用程序内存不足时，我会看到此错误，即。某处存在内存泄漏。我制作了一个图像重的应用程序，只有在切换到 Google 的新 Volley 框架后，错误才会消失。

# php - 按兴趣搜索人？

> ID：14767649
> 
> 赞同：0
> 
> 时间：2013-02-08T07:27:42.530
> 
> 标签：php, facebook, facebook-graph-api

如何根据人们的兴趣搜索他们？Graph API 中是否有任何功能，或者是否有任何 API 可用于执行此操作？

我需要将此功能与我的 php 项目集成，所以请告诉我是否可以使用 php。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:54:43.817

我不这么认为，因为它仍然是您可以通过您的帐户启用的测试版功能。这意味着不是每个人都在使用它，因此如果该 api 现在可用，将不会显示很多结果。

# c++ - c++解压返回无法创建解压目录

> ID：14767650
> 
> 赞同：0
> 
> 时间：2013-02-08T07:27:53.157
> 
> 标签：c++, fork, unzip, execvp

我编写了一段简单的代码，用于使用 unzip 提取 zip 文件。当未设置输出目录但返回错误是设置了目录时，它工作正常

> “存档：/home/vishvesh.kumar/tempFolder/test.zip checkdir：无法创建提取目录：/home/vishvesh.kumar/tempFolder 没有这样的文件或目录”

代码：

```
int main(int argc, char *argv1[])
{
    std::cout << "Creating child process...";
    std::vector<std::string> arguements;

    char* argv[4] = {0};
    argv [0] = "/usr/bin/unzip";
    argv [2] = "/home/vishvesh.kumar/tempFolder/test.zip";
    argv [1] = "-d /home/vishvesh.kumar/tempFolder/";
    argv [3] = NULL;
   createChildProcess(argv);

}

void createChildProcess(char* argv[])
{
    pid_t pid = fork();
    if (pid == -1)
    {
            std::cout << "error creating child process, exiting...";
            exit(1);
    }
    else if (pid == 0)
    { // This is the child process
       std::cout << "This is the child process. About to sleep\n";
       std::cout << "Woke up\n";
       if (execvp(argv[0], argv))
        { // execvp failed
            std::cout << "fatal - execvp failed!";
            exit(1);
        }

     }
    else
    { // This is the parent process.
        std::cout << "This is the parent process\n";
        int status;
        std::cout << " done. PID: " << pid << ".\n";

        double start = 0;
        waitpid(pid, &status, 0); // Wait for program to finish executing.
        double dur = (clock() - start) / CLOCKS_PER_SEC; // Get execution time
        std::cout << "Sad my son died\n";
        std::cout << "Program returned " << WEXITSTATUS(status);
        std::cout << " and lasted " << dur << " seconds.\nPress enter.\n";
        std::cin.get();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:31:11.247

```
argv [1] = "-d /home/vishvesh.kumar/tempFolder/"; 
```

应该

```
argv [1] = "-d";
argv [2] = "/home/vishvesh.kumar/tempFolder/"; 
```

它们是通过 传递给新进程的两个独立参数`execvp()`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T07:31:51.947

```
char* argv[4] = {0};
argv [0] = "/usr/bin/unzip";
argv [2] = "/home/vishvesh.kumar/tempFolder/test.zip";
argv [1] = "-d /home/vishvesh.kumar/tempFolder/";
argv [3] = NULL; 
```

应该：

```
char* argv[5];
argv [0] = "/usr/bin/unzip";
argv [1] = "-d";
argv [2] = "/home/vishvesh.kumar/tempFolder/";
argv [3] = "/home/vishvesh.kumar/tempFolder/test.zip";
argv [4] = NULL; 
```

你有它的方式，参数`-d`是 zip 文件，因为那是`-d`. 所以它试图创建该目录并且不能因为它是一个文件。

# c# - 如何使用电子邮件发送包含图表的 aspx 页面

> ID：14767653
> 
> 赞同：0
> 
> 时间：2013-02-08T07:28:10.823
> 
> 标签：c#, asp.net

我的 aspx 页面包含一些下拉列表和图表，当我尝试发送它时，它工作正常，但在收到的电子邮件中它不包括图表和选定的下拉项目。请帮助我

这是我的代码..

```
 protected void Button1_Click(object sender, EventArgs e)
    {
        //create the mail message
        MailMessage mail = new MailMessage();

        //set the addresses
        mail.From = new MailAddress("vprajapat@nvidia.com");
        mail.To.Add("vprajapat@nvidia.com");

        //set the content
        mail.Subject = "This is an email";

        //screen scrape the html
        string html = ScreenScrapeHtml("http://localhost:60275/WebSite5/Default2.aspx");
        mail.Body = html;
        mail.IsBodyHtml = true;

        //send the message
        SmtpClient smtp = new SmtpClient("smtp.nvidia.com", 25);
        //smtp.EnableSsl = true;

        smtp.UseDefaultCredentials = true;
        smtp.Send(mail);
    }
    public static string ScreenScrapeHtml(string url)
    {
        WebRequest objRequest = System.Net.HttpWebRequest.Create(url);
        StreamReader sr = new StreamReader(objRequest.GetResponse().GetResponseStream());
        string result = sr.ReadToEnd();
        sr.Close();
        return result;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:57:20.627

page.RenderControl() 或 control.RenderControl() 怎么样？

系统.Web.UI

```
 Dim sb As New StringBuilder()
 Dim sw As New StringWriter(sb)
 Dim htw As New HtmlTextWriter(sw)
 gridview.RenderControl(htw)  // or (control you wish)
 Dim str As String = sb.ToString() 
```

请转换成c#

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T08:05:10.437

你可以做这个把戏：

使 HTML 页面包含 Only`<iframe>`元素，它是`source`您希望在电子邮件中显示的页面

请记住，此技巧不适用于所有邮件提供商公司，在使用此技巧之前，您必须先检查它们的列表：http: [//www.campaignmonitor.com/blog/post/3219/do-iframes -工作在电子邮件/](http://www.campaignmonitor.com/blog/post/3219/do-iframes-work-in-email/)

# jquery - 内联返回 false 停止我的 setTimeout

> ID：14767656
> 
> 赞同：-1
> 
> 时间：2013-02-08T07:28:17.220
> 
> 标签：jquery, settimeout

我有以下代码捕获用户单击 li 中的 a 标签时。我可以成功捕获事件，但如果我在事件中使用 setTimeout，则 a 标签中的内联“返回 false”会阻止这种情况发生。关于如何停止或删除内联标签'return false;'的任何想法？

我不能只删除它，因为它正在用于桌面站点，并且我正在覆盖其移动站点的功能。

```
<ul class="paginate">
 <li>1</li>
 <li>
  <a href="http://www.xxx.co.uk/xxx/" onclick="ajaxPage('2',true,'left'); return false;">2</a>
 </li>
</ul>

$('.paginate li a').click(function(){ 
 alert('Caught page'); // THIS WORKS
 setTimeout(function(){
    setSearchPrice(); // THIS DOESN'T WORK, GET SUPPRESSED BUT THE INLINE RETURN FALSE
 },1400)
}); 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:35:38.967

> 我不能只删除它，因为它正在用于桌面站点，并且我正在覆盖其移动站点的功能。

我看不出这与它有什么关系，但您可以删除`onclick`DOM0 处理程序：

```
$('.paginate li a').each(function() {
  // Remove the onclick set up in the markup, since you're replacing it
  this.onclick = null;
}).click(function(e){ 
 // The replacement
 alert('Caught page');
 setTimeout(function(){
    setSearchPrice();
 },1400)
 // Probably want to prevent the default, since you've removed
 // the `return false` on the DOM0 handler that used to do it
 e.preventDefault();
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-08T07:36:49.177

我会建议使用`event.preventDefault()`; 它将停止事件的默认操作。这是一个很好的解释它是如何工作的。

[https://developer.mozilla.org/en-US/docs/DOM/event.preventDefault](https://developer.mozilla.org/en-US/docs/DOM/event.preventDefault)

# c# - 如何在 C# 中操作包含不同模式的字符串？

> ID：14767664
> 
> 赞同：1
> 
> 时间：2013-02-08T07:28:55.393
> 
> 标签：c#, string

我有以下类型的字符串格式---

```
Proposal is given to {Jwala Vora#3/13} for {Amazon Vally#2/11} {1#3/75} by {MdOffice employee#1/1} 
```

该字符串包含一对具有不同位置的**{ }**并且可能是 n 次。**现在我想用我将根据{}**对之间的字符串计算的其他字符串替换该对。

这该怎么做 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:32:05.803

你可以试试正则表达式。具体来说，`Regex.Replace`使用变体`MatchEvaluator`应该可以解决问题。有关详细信息，请参阅[http://msdn.microsoft.com/en-US/library/cft8645c(v=vs.80).aspx](http://msdn.microsoft.com/en-US/library/cft8645c(v=vs.80).aspx)。

这些方面的东西：

```
using System;
using System.Text.RegularExpressions;

public class Replacer
{
    public string Replace(string input)
    {
        // The regular expression passed as the second argument to the Replace method
        // matches strings in the format "{value0#value1/value2}", i.e. three strings
        // separated by "#" and "/" all surrounded by braces.
        var result = Regex.Replace(
            input,
            @"{(?<value0>[^#]+)#(?<value1>[^/]+)/(?<value2>[^}]+)}",
            ReplaceMatchEvaluator);
        return result;
    }

    private string ReplaceMatchEvaluator(Match m)
    {
        // m.Value contains the matched string including the braces.
        // This method is invoked once per matching portion of the input string.
        // We can then extract each of the named groups in order to access the
        // substrings of each matching portion as follows:
        var value0 = m.Groups["value0"].Value; // Contains first value, e.g. "Jwala Vora"
        var value1 = m.Groups["value1"].Value; // Contains second value, e.g. "3"
        var value2 = m.Groups["value2"].Value; // Contains third value, e.g. "13"

        // Here we can do things like convert value1 and value2 to integers...
        var intValue1 = Int32.Parse(value1);
        var intValue2 = Int32.Parse(value2);

        // etc.

        // Here we return the value with which the matching portion is replaced.
        // This would be some function of value0, value1 and value2 as well as
        // any other data in the Replacer class.
        return "xyz";
    }
}

public static class Program
{
    public static void Main(string[] args)
    {
        var replacer = new Replacer();
        var result = replacer.Replace("Proposal is given to {Jwala Vora#3/13} for {Amazon Vally#2/11} {1#3/75} by {MdOffice employee#1/1}");
        Console.WriteLine(result);
    }
} 
```

该程序将输出`Proposal is given to xyz for xyz xyz by xyz`.

您需要在`ReplaceMatchEvaluator`要处理的方法中提供特定于应用程序的逻辑`value0`，`value1`并`value2`酌情提供。该类`Replacer`可以包含可用于实现替换逻辑的附加成员`ReplaceMatchEvaluator`。`Replace`通过调用类的实例来处理字符串`Replacer`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:31:47.313

那么你可以用'{'和'}'分割字符串并以这种方式确定内容。

但我认为更好的方法是按索引查找字符，然后您知道一对或大括号的起始索引和结束索引，这样您就可以用替换的占位符重建字符串。

但是最好的方法可能是使用 Regex.Replace 但这只会有助于用您想要的值替换占位符，但我认为您的要求是还解析大括号内的文本并基于该值选择要插入的值所以这可能效果不好。[使用通配符类型搜索查找和替换字符串的一部分](https://stackoverflow.com/questions/2780023/find-and-replace-a-section-of-a-string-with-wildcard-type-search)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:42:04.180

您可以使用[Regex.Replace Method (String, String, MatchEvaluator)](http://msdn.microsoft.com/en-US/library/ht1sxswy%28v=vs.80%29.aspx)方法和`{.*?}`模式。以下示例使用字典替换值，但您可以用自己的逻辑替换它。

```
class Program
{
    static Dictionary<string, string> _dict = new Dictionary<string, string>();

    static void Main(string[] args)
    {
        _dict.Add("{Jwala Vora#3/13}","someValue1");
        _dict.Add("{Amazon Vally#2/11}", "someValue2");
        _dict.Add("{1#3/75}", "someValue3");
        _dict.Add("{MdOffice employee#1/1}", "someValue4");

        var input = @"Proposal is given to {Jwala Vora#3/13} for {Amazon Vally#2/11} {1#3/75} by {MdOffice employee#1/1}";

        var result = Regex.Replace(input, @"{.*?}", Evaluate);

        Console.WriteLine(result);
    }

    private static string Evaluate(Match match)
    {
        return _dict[match.Value];
    }
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-08T07:35:16.333

你不能做点什么`string.Format()`吗？

例如

```
string.Format("Proposal is given to {0} for {1} {2} by {3}", "Jwala Vora", "Amazon Vally", 1, "MdOffice employee"); 
```

# iphone - Xcode 4.5 不创建 xib 文件

> ID：14767669
> 
> 赞同：1
> 
> 时间：2013-02-08T07:29:16.997
> 
> 标签：iphone, ios, ipad, xcode4.5, xib

我已经创建了基于 SimpleView 的应用程序，我想在其中添加带有`.xib`接口的新文件，但是当我添加新文件然后然后该选项的`Objective-C class`子类被禁用时，我还想添加 xib ..`UITableViewCell``with xib for user interface`

如何使用`.xib`界面添加新文件？

这是截图.. ![1](../Images/a78c598599e107097d344c846918c8a5.png) ![2](../Images/fd5f0d25ee172a842e2d12858253a640.png) **感谢阅读..**

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T07:37:54.853

只有某些类，例如，`UIViewController`将启用 nib 选项。`UITableViewCell`不是这些**类**之一。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T07:41:45.287

我不知道为什么这是禁用的。而且我不记得它是在以前版本的 xcode 中启用的。

但您可以添加`xib`自定义单元格，如[**`this tutorial`**.](http://agilewarrior.wordpress.com/2012/05/19/how-to-add-a-custom-uitableviewcell-to-a-xib-file-objective-c/)
这是快速步骤

1.  创建一个简单的视图XIB
2.  将表格视图单元格从右下角的对象浏览器拖到 XIB 中
3.  删除多余的视图

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-12-22T12:21:24.683

在为新文件选择模板时，还要确保选择“iOS”，而不是“OSX”。选择“OSX”时，该选项在我的项目中被禁用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T08:37:38.933

对于 UITableViewCell，您将没有 xib，因为我们在添加新文件时通过选择用户界面添加了一个空视图。然后拖放uitableview单元格。

# cross-browser - 如何将 ie 浏览器更改为 Quirks 模式？

> ID：14767670
> 
> 赞同：1
> 
> 时间：2013-02-08T07:29:18.200
> 
> 标签：cross-browser

如何将ie浏览器模式改为Quirks模式，什么是Quirks模式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:30:42.457

在 Internet Explorer 中按`F12`然后更改文档模式。或者在 IE 中，您可以按`Alt Q.`

Quirks 模式是为了让你开发旧版浏览器，即 IE 6。主要是为了向后兼容。

[http://en.wikipedia.org/wiki/Quirks_mode](http://en.wikipedia.org/wiki/Quirks_mode)

# c# - windows登录时通知后台进程

> ID：14767674
> 
> 赞同：0
> 
> 时间：2013-02-08T07:29:33.533
> 
> 标签：c#, windows, multithreading, winapi

我有一个在后台线程中运行的 C# 应用程序，当 SAME 用户登录到系统时需要通知该应用程序。

前任 ：

1\. 用户登录系统

2\. 用户在后台启动应用程序。

3\. 应用程序运行/执行其任务。

4\. 现在假设用户出去吃午饭并锁定了他的计算机。

5\. 用户回来并解锁他的计算机。

6\. 现在需要通知应用程序用户再次回来并起床并开始执行其任务。

如何执行上面的第 6 步，以便应用程序知道用户已重新登录，现在需要开始。我可以注册一些 Windows 通知吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:34:57.620

好吧，您可以通过检测计算机不再空闲或已解锁来做到这一点。

看看这个：[如何以编程方式确定我的工作站是否被锁定？](https://stackoverflow.com/questions/44980/how-can-i-programmatically-determine-if-my-workstation-is-locked)

# visual-c++ - 素数 # 程序中的逻辑错误。程序在我回答提示后才结束，所以我看不到数字

> ID：14767675
> 
> 赞同：0
> 
> 时间：2013-02-08T07:29:42.037
> 
> 标签：visual-c++, linker-errors, output

//目的：如果 emirps 到控制台，则显示第一个“n”（用户选择）数字，每行五个。//注意：“emirp”是一个质数，反转时也是质数。

```
#include <iostream>
using namespace std;
bool isPrime(int value); //Prototyle for "prime number function"
int reverse (int value2); //Prototype for "emirp function"

int main()
{ 
```

//向用户询问一个正数

```
 cout << "Please enter a positive number:  ";
    int n;
    cin >> n; 
```

//拒绝负值输入

```
 if ( n < 1) 
    {
        cout << "INVALID NUMBER \n"; 
    }
    else
    { 
```

//计算直到'n'的所有emirps。

```
 int test = 0;
    int number = 2;
    while (test < n)
    {

   if (isPrime(number) && reverse(number))
   {
        cout << "\n" << reverse(number) << "\t\t\t";
        test++;
    }
   else
   {
        test++;
   }
    }
    }
    system("pause");
    return 0;
}

bool isPrime(int value)
{ 
```

//如果值是素数，则余数（计数）将为零两次——对于 1 和它本身。

```
 int divisor = 1;
    int count = 0;
    int prime = 0;
    if (value % divisor == 0)
    {
        count++;
        ++divisor;
    }
    if (count = 2)
    {
        return true;
    }
    else
    {
        return false;
    }
}

int reverse(int value2)
{
    //reverse the number
    value2*=10;
    value2 = value2 %10;
    value2/=10; 
```

//与素数函数相同的过程

```
 int divisor2 = 1;   
    int count2 = 0;
    int emirp = 0;
    if (value2 % divisor2 == 0)
    {
        count2++;
        ++divisor2;
    }
    if (count2 = 2)
    {
    int emirp = value2;
    }
    return emirp;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:35:58.417

如果只是查看控制台输出：

1.  按`CTRL+F5`在 Visual Studio 中运行应用程序。

2.  只需提供一个`getch()`in main() 函数

而且您的代码语法不正确：

1.  ```
     if (count = 2) //count ==2
     {
       return true;
      } 
    ```

2.  ```
     if (isPrime(number) && reverse(number))
     { 
      cout << "\n" << reverse(number) << "\t\t\t";
      test++;
      } 
    ```

将调用 reverse() 2 次。

修改它像;

```
int RevNum = reverse(number);

if (isPrime(number) &&RevNum)
  {
    cout << "\n" << RevNum << "\t\t\t";
    test++;
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:38:11.660

这甚至是如何构建的？如果（计数 = 2）{ ... }

另外：您的反向函数只返回一个 int，您希望 `if (isPrime(number) && reverse(number))`对该结果做什么？

顺便说一句，这不是再次进行整个计算的好方法：

```
 cout << "\n" << reverse(number) << "\t\t\t"; //you already did this in your "check" 
```

***编辑***：难怪它不起作用。 ***您每次都检查数值 (2)，而不是 n***

# xml - pervasive map xml 数据是如何实现的？

> ID：14767676
> 
> 赞同：2
> 
> 时间：2013-02-08T07:29:50.503
> 
> 标签：xml, pervasive

我需要使用普遍的地图设计器来映射 xml 数据。我会映射成txt文件。我总是收到错误“由于存在多个源记录，因此不会写入任何记录”。有什么办法可以解决吗？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-30T14:15:15.850

我建议花一些时间阅读 Pervasive Help 文档（它实际上非常好）。这是关于 XML 连接器的文章：http: [//docs.pervasive.com/products/integration/di/wwhelp/wwhimpl/js/html/wwhelp.htm#href=connectors/XML_connector.html](http://docs.pervasive.com/products/integration/di/wwhelp/wwhimpl/js/html/wwhelp.htm#href=connectors/XML_connector.html)

我以前经常使用 Pervasive Data Integrator，我记得有时设置 XML 源有点棘手。要记住的是，连接器正在尝试将您的 XML 文件转换为数据行，因此您需要调整连接器设置，使其以您期望的方式查看数据行。

# installation - WiX 3 - 图标始终为空白（白色）

> ID：14767679
> 
> 赞同：3
> 
> 时间：2013-02-08T07:30:06.810
> 
> 标签：installation, wix, icons, wix3.5, wix3.6

我已经为我的 Visual Studio 安装了最新的 WiX（安装程序），当我想设置图标时，它总是以空白结尾。我正在尝试在“所有 Windows 软件”中设置条目的图标

在下图中您可以看到图标的样子（图片来自互联网，不是来自我的示例）

[http://i.stack.imgur.com/smPKe.png](http://i.stack.imgur.com/smPKe.png)

我的代码：

```
<Icon Id="Icon" SourceFile="logo_16.ico"/>
<Property Id="ARPPRODUCTICON" Value="Icon" /> 
```

已经尝试过不同的 .ico 文件。谁知道为什么以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:11:49.227

请确保文件位于正确的目录中

```
< Icon Id="ATE_GUI.ico" SourceFile="..\src\ATE_GUI\res\ATE_GUI.ico"/><br>
 < Property Id="ARPPRODUCTICON" Value="ATE_GUI.ico" /> 
```

这是一个用法示例：

```
< Feature Id='Complete' Title='ATE' Description='The complete installation' Display='expand' ConfigurableDirectory='INSTALLFOLDER' Level='1'>
      <ComponentRef Id='ProgramMenuDir' />
< /feature> 
```

```
 <Component Id="comp_bin_debug_30" Guid="EB4650EB-75DC-4562-9DC3-8FFDD9B55468">
        <File Id="file_bin_30" Source="..\bin\Debug.x64\ATE.exe" KeyPath="yes" DiskId="1" />
        <Shortcut Id="startmenuATEDebug" Directory="ProgramMenuDir" Name="ATE (Debug.x64)"
      WorkingDirectory='INSTALLDIR' Icon="ATE_GUI.ico" IconIndex="0" Advertise="yes" />     
 </Component> 
```

# objective-c - NSError 初始化宏停止使用最近的 Clang

> ID：14767685
> 
> 赞同：1
> 
> 时间：2013-02-08T07:30:29.583
> 
> 标签：objective-c, automatic-ref-counting

我习惯使用这个宏来初始化`NSError**`参数：

```
#define INIT_ERROR_IF_NULL(error) error = error ? error : &(NSError*){ nil } 
```

这将检查传递的`NSError**`参数，如果是`NULL`，则将其初始化为虚拟对象`NSError`，这样我就不必将每个`*error`取消引用都包装在条件中。在代码中，这个版本：

```
- (void) doFoo: (NSError**) error
{
    if (error) {
        *error = [NSError …];
    }
} 
```

…变成这样：

```
- (void) doFoo: (NSError**) error
{
    INIT_ERROR_IF_NULL(error);
    *error = [NSError …];
} 
```

`error`我喜欢这种方法，它可以节省分支并让我编写更少的代码（当然，当只使用一次时我不会打扰）。问题是它在最近的 Clang 版本中停止工作，因为编译器抱怨指针类型不匹配：

```
Pointer type mismatch ('NSError *__autoreleasing *' and 'NSError **') 
```

如果我更改宏以将生成的匿名对象显式转换为`NSError *__autoreleasing*`（类型签名变得荒谬），编译器会在另一行进一步抱怨：

```
Casting 'NSError **' to type 'NSError *__autoreleasing *' changes retain/release properties of pointer 
```

同样，有问题的变量是一个方法参数。我不明白这个问题。我可以做些什么来保留我的宏？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:52:44.723

这编译没有错误/警告：

```
#define INIT_ERROR_IF_NULL(error) error = error ? error : &( NSError __autoreleasing *){ nil } 
```

# php - 电子邮件功能在网站上不起作用

> ID：14767691
> 
> 赞同：1
> 
> 时间：2013-02-08T07:31:03.100
> 
> 标签：php, email

我在[这个](http://www.mdpharma.se/contact.html)网站上传了一个联系页面。此 URL 工作正常，除了发送邮件功能不工作外，没有任何错误或警告。

当我在我们的测试服务器上对其进行测试时，它可以正常工作，我可以发送和接收邮件。

你能提供任何帮助吗？

```
$to = $_POST['email'];
$subject = $_POST['subject'];
$headers = 'From: info@mdpharma.se' . "\r\n" . 'Reply-To: info@mdpharma.se' . "\r\n" ;
$message =$_POST['message'];
$message = wordwrap($message, 70, "\r\n");

if($_POST['email']){
    mail($to, $subject, $message,null,'-fwebmaster@example.com');
    echo "Mail is successfully sent to you";
} else {
    echo "Mail is not set to you";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:39:52.687

你可以从这里获得帮助[http://phpmailer.worxware.com/index.php?pg=exampledb](http://phpmailer.worxware.com/index.php?pg=exampledb)。一切都在这里得到了很好的解释。祝你好运。

# java - 在Java中为对象数组赋值的更好方法

> ID：14767695
> 
> 赞同：1
> 
> 时间：2013-02-08T07:31:35.183
> 
> 标签：java

我在 Java 中有一个类，它有 2 个字段，例如

```
Class A
{
  int i;
  double v;
} 
```

我制作了一个 A 类对象数组，例如：

```
A[] x = new A[3]; 
```

将内存分配给对象后，我将值分配给对象，例如：

```
A[0].i = 1;
A[0].v = 2.5;
A[1].i = 2;
A[1].v = 3.5;
A[2].i = 55;
A[2].v = 1.5; 
```

我想知道是否有更好的方法来初始化对象值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:35:56.703

```
public class A {
int i;
double v;

public A(int ii, double dd) {
    i = ii;
    v = dd;
}

public static void main(String[] args) {

    A[] a = new A[10]; // size
    for (int i = 0; i < a.length; i++) {
        a[i] = new A(1, 1.0);

    }

}
} 
```

您也可以通过这种方式填充元素：

```
A[] a = new A[] { new A(1, 2.5), new A(2, 3.5), new A(55, 1.5) }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:41:30.253

是：**使用构造函数**：

```
A[] x = new A[]{new A(1, 2.5), ... }; 
```

**更新：**写。在下面发表评论：

```
// Fake constructor
public static A new_A(int i, double v) {
    A x = new A();
    x.i = i;
    x.v = v;
    return x;
}

A[] x = new A[]{new_A(1, 2.5), ... }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:37:01.823

```
Class A
{
  private int i;
  private double v;

 void setI(int i){
  this.i =i;
}
void setV(double v){
  this.v =v;
}
} 
```

之后赋值像 A[0].setI(1); 也为变量提供 getter。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:42:55.437

去找 setters\getters 和一个构造函数。

```
class A {
        int i;
        double v;

        public A(int i, double v) {
            super();
            this.i = i;
            this.v = v;
        }

        public int getI() {
            return i;
        }

        public void setI(int i) {
            this.i = i;
        }

        public double getV() {
            return v;
        }

        public void setV(double v) {
            this.v = v;
        }

    } 
```

如果你用这 3 个值初始化它，你也可以这样做：

```
A[] x = {new A(1,2.5), new A(2, 3.5), new A(55,1.5)}; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T07:46:52.017

修改你的代码如下

```
 Class A
    {
      private int i;
      private double v;
    public A(int x,double y)
    {
         i=x;
         v=y;
    }
    }
    class mainclass{
    public static void Main(String []args)
    {
          A[] x = new A[3];
          double i=1,v=2.5;
          for(int i=0;i<2;i++)
          {
             x[i]=new A(i,v);
             i+=1;
             v+=1.0;
          }
          x[3]=new A(55,1.5);
    } 
```

# java - 在循环内动态创建 ArrayList

> ID：14767697
> 
> 赞同：4
> 
> 时间：2013-02-08T07:31:48.640
> 
> 标签：java, arraylist

我们如何在循环内动态创建arraylist？

就像是 -

```
for(i=0;i<4;i++)  
{  
List<Integer> arr(i) = new ArrayList<>();  
} 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-08T07:32:55.887

听起来您*真正*想要的是列表列表：

```
List<List<Integer>> lists = new ArrayList<List<Integer>>();
for (int i = 0; i < 4; i++) {
    List<Integer> list = new ArrayList<>();
    lists.add(list);
    // Use the list further...
}

// Now you can use lists.get(0) etc to get at each list 
```

编辑：删除了数组示例，因为泛型类型的数组当然在 Java 中被破坏了 :(

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-05-11T02:09:26.180

也许你想要这样的东西。这将根据需要创建多个“列表”。在这种情况下，我正在创建两个列表：

```
import java.util.LinkedList;
import java.util.List;

public class NumberOfList {
    public static void main (String [] args){
        List<Integer> list[];
        list = new LinkedList[2];
        for(int x=0; x<2; x++){ 
            list[x]= new LinkedList(); 
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-12-20T09:37:43.987

**创建一个 Arraylist 列表：**

```
import java.io.*;
import java.util.Scanner;
public class Solution {

  public static void main(String[] args) {

    int i=0;

    Scanner obj=new Scanner(System.in);

    List<List<Integer>> lists = new ArrayList<List<Integer>>();
    System.out.println("Enter the number of lists");
    int n=obj.nextInt();

    while (i<n) {
      List<Integer> list = new ArrayList<Integer>();
      System.out.println("Enter the number of integers you want to enter in an ArrayList");

      int d=obj.nextInt();
      for(int j=0;j<d;j++){
        list.add(obj.nextInt());
      }
      lists.add(list);
      System.out.println("List "+i+ "is created");
      System.out.println(lists.get(i));
      System.out.println("");
      i++;
    } //end of while

  } //end of main
} //end of class 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-01-06T11:18:46.623

你可以试试这个。

```
List<List<Integer>> dataList = new ArrayList<List<Integer>>();

for(int i = 1; i <= 4; i++)
{
 List<Integer> tempList = new ArrayList<Integer>();
 dataList.add(tempList);
} 
```

用于添加数据

```
for(int i = 1; i <= 4; i++)
{
int value = 5+i;
  dataList.get(i - 1).add(value);

} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-08-07T10:48:38.897

创建一个以 ArrayList 作为元素的 ArrayList。

```
ArrayList<ArrayList<Integer>> mainArrayList = 
new ArrayList<ArrayList<Integer>>(); 
```

您可以通过以下方式将元素添加到 mainArrayList 中：

```
ArrayList<Integer> subArrayList;

for(int i=0;i<4;i++) {

    subArrayList = new ArrayList<Integer>();
    subArrayList.add(1); // I'm adding a random value to subArrayList
    mainArrayList.add(subArrayList);

} 
```

现在，mainArrayList 将包含我们添加的 4 个数组列表，我们可以使用 for 循环访问每个元素（即 ArrayList）。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-08T07:41:35.397

```
List<List<Integer>> dataList = new ArrayList<List<Integer>>();
for(i=0;i<4;i++)  
{  
 List<Integer> arr = new ArrayList<>();  

 dataList .add(arr );
} 
```

这可能会帮助你。如果不是，请澄清场景。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2013-02-08T07:33:14.863

我不确定你的意思，也许是这个？

```
List<Integer> arr = new ArrayList<Integer>();  
for(i=0;i<4;i++)  
{  
    arr.add(i);  
} 
```

# php - 在 url %20 中转换成空格如何解决这个问题

> ID：14767700
> 
> 赞同：-3
> 
> 时间：2013-02-08T07:32:05.840
> 
> 标签：php, url

我有一个像 wk%2002_13 这样的文件名，当它进入 url 时，它会转换为 wk 02_13，然后文件未找到错误，如何在不更改文件名的情况下修复此错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T07:38:52.500

查看[urlencode](http://php.net/manual/en/function.urlencode.php)函数：

```
<?php
echo urlencode('wk%2002_13'); # yields 'wk%252002_13'
?> 
```

# android - 右侧带有图像的 Android TextView

> ID：14767705
> 
> 赞同：2
> 
> 时间：2013-02-08T07:32:37.973
> 
> 标签：android, textview, imageview, word-wrap

我需要用右边的图像制作文本视图。我需要让文字环绕在左边的图像周围。

文本可能有不同的长度。图像始终位于右上角。

图片示例：

![在此处输入图像描述](../Images/adf8afd568a8fea6488b7fa0d6f2e805.png)

Х - 表示图像位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:43:49.403

实现这一目标的基本而简单的方法......！

```
final String testContent = "<html><body><img src=\"ic_launcher.png\" style=\"float:right;\"/>This is like testing if this thing works   ghdjdhfjkhgdjkhgkfdjgkljdfkljgklfdjkgljkfd kljlk lj kld jgkljdklgjfdkljgkfldjg kljfdkl dklfgjklfdj gklfdjklg This is like testing if this thing works ghdjdhfjkhgdjkhgkfdjgkljdfkljgklfdjkgljkfd kljlk lj kld jgkljdklgjfdkljgkfldjg kljfdkl dklfgjklfdj gklfdjklg jdfklgjkdfljg kldfjgkljdfklgjdklf. It XXX"
                + " in a more elaborate This is like testing if this thing works ghdjdhfjkhgdjkhgkfdjgkljdfkljgklfdjkgljkfd kljlk lj kld jgkljdklgjfdkljgkfldjg kljfdkl dklfgjklfdj gklfdjklg jdfklgjkdfljg kldfjgkljdfklgjdklf. It XXX"
                + " in a more elaborate This is like testing if this thing works ghdjdhfjkhgdjkhgkfdjgkljdfkljgklfdjkgljkfd kljlk lj kld jgkljdklgjfdkljgkfldjg kljfdkl dklfgjklfdj gklfdjklg jdfklgjkdfljg kldfjgkljdfklgjdklf. It XXX"
                + " in a more elaborate jdfklgjkdfljg kldfjgkljdfklgjdklf. It XXX";

        textView.setText(Html.fromHtml(testContent, imgGetter, null));

    }

    private ImageGetter imgGetter = new ImageGetter() {

        public Drawable getDrawable(String source) {
            Drawable drawable = null;
            if (imageNumber == 1) {
                drawable = getResources().getDrawable(R.drawable.ic_launcher);
                ++imageNumber;
            } else
                drawable = getResources().getDrawable(R.drawable.ic_launcher);
            drawable.setBounds(0, 0, drawable.getIntrinsicWidth(),
                    drawable.getIntrinsicHeight());

            return drawable;
        }
    }; 
```

![屏幕截图 1](../Images/da9cfcd08ecf3c44107c7cb3278e5e12.png) ![屏幕截图 2](../Images/2abfbb65b5ad4699bba7de57f8f1e9dd.png)

# gwt - 当我清除浏览器缓存时，GWT 无法加载

> ID：14767710
> 
> 赞同：0
> 
> 时间：2013-02-08T07:33:03.013
> 
> 标签：gwt, browser, smartgwt

我已经在位于虚拟机上的 JBoss 服务器上部署了我的 GWT 应用程序。如果我打开 Safari/Firefox/Chrome，清除缓存然后导航到我的应用程序：应用程序无法加载！我只看到一个空白屏幕（标题已加载）。

我使用 SmartGWT，当我只是 httpfox 检查流量时，我可以看到大部分资源（图像、javascript）都已下载，但一些 SmartGWT js 文件似乎挂起。

![加载我的 GWT 应用程序时来自 httpfox 的屏幕截图](../Images/fda880a3a46c0c7eec23dac4fffc42a7.png)

在屏幕截图中，ISC_core.js 和 ISC_Foundation.js 尚未完全下载，而且从未完全下载。（并不总是这两个文件，也可以是不同的，每次重试都会改变）。

现在，如果我重新加载浏览器，我的应用程序会完美加载，当我查看 httpfox 时，之前未完全下载的文件现在从浏览器缓存中获取。

如果我清除浏览器缓存并重试：空白页和同样的问题。

有没有人知道是什么导致了这种行为以及我应该在哪里解决它？

注意：这只发生在我在远程虚拟机上部署时。如果我在同一个 JBoss 服务器设置中本地部署，我没有问题并且无法重现上述问题。当我在 Eclipse 中调试并使用 Jetty 服务器时也没有问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:50:51.457

可能这是一个已知[问题](http://code.google.com/p/smartgwt/issues/detail?id=36)。它发布在 Google 群组上。

作为旁注，请在您的 jboss 上启用 gzip。请参阅此[链接](http://jira.geomajas.org/browse/GWT-151)以执行此操作

# c# - ReSharper 7.1 对象初始值设定项格式

> ID：14767711
> 
> 赞同：8
> 
> 时间：2013-02-08T07:33:04.370
> 
> 标签：c#, visual-studio-2012, resharper, resharper-7.1

当做这样的事情时：

```
MyObject tmp = new MyObject();
tmp.Prop = "Hello"; 
```

ReSharper 告诉我“使用对象初始值设定项”，所以我让它重新格式化代码，我得到如下内容：

```
MyObject tmp = new MyObject {
                                Prop = "Hello"
                            }; 
```

但是，我希望第一个大括号位于第二行，如下所示：

```
MyObject tmp = new MyObject 
                            {
                                Prop = "Hello"
                            }; 
```

但我在任何地方都找不到任何设置。我将“C# -> Formatting Style -> Braces Layout -> Array and object initializer”设置为“At next line (BSD style)”

是否有其他设置干扰这个，阻止我想要的格式？

**编辑：**如果我像我想要的那样手动格式化代码，当我输入分号时它会自动重新格式化（到错误的格式）。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T07:23:33.417

所以我终于找到了与格式混淆的设置：

![在此处输入图像描述](../Images/71c5713e9726fb9490efba5f0b9c20cc.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T09:21:08.113

有时我需要在 VS 和 Resharper 中设置相同的选项。

在 Resharper 就像你说的：

```
C# -> Formatting Style -> Braces Layout -> Array and object initializer' set to 'At next line (BSD style) 
```

在 Visual Studio 中：

```
Tools -> Options... -> Text Editor -> C# -> Formatting -> New Lines -> Place open brace on new line for object initialzers 
```

# ios - 如何从 NSDictionary 中的相应值获取密钥？

> ID：14767715
> 
> 赞同：14
> 
> 时间：2013-02-08T07:33:22.220
> 
> 标签：ios, objective-c

如何从 NSDictionary 中的相应值获取密钥？我知道 allKeys 函数，但我们是否有一个方法可以为单个值返回单个键。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-02-08T07:36:37.210

好吧，因为一个值可以在 NSDictionary 中多次出现，所以没有办法只说“给我这个值的密钥”。但是你可以说“给我所有包含这个值的键”。

`NSArray* arrayOfKeys = [yourDictionary allKeysForObject:myObject];`

如果该值在字典中只有一次，则可以使用以下方法提取它：

`YourObject* o = [arrayOfKeys firstObject];`

但是，总是对这个数组进行 NIL 和计数检查。前方出界异常！

PS Credits to @Hagile for `firstObject`method 而不是`objectAtIndex:0`

# python - 带有pyodbc代码的Python脚本未使用由py2exe制作的EXE运行

> ID：14767716
> 
> 赞同：1
> 
> 时间：2013-02-08T07:33:33.187
> 
> 标签：python, tkinter, py2exe, pyodbc

我制作了一个小型 Python Tkinter 应用程序，它使用 pyodbc 扩展名处理 .mdb 文件。我尝试使用 py2exe 制作 EXE，但是当我尝试运行 EXE 时出现以下错误。

```
Traceback (most recent call list):
File "My_Python_Script.py", line 14, in <module>
File "pyodbc.pyc", line 12, in <module>
File "pyodbc.pyc", line 10, in __load
RuntimeError: Unable to import decimal 
```

我脚本中的第 14 行是我导入 pyodbc 的位置。我尝试制作另一个不使用 pyodbc 的 python 脚本的 EXE，它工作正常。

有谁知道我可能做错了什么？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T08:11:41.860

您可能必须明确告诉 py2exe 包含一些附加模块：

```
setup(
        ...
        options={
                "py2exe": {
                        "includes": ["decimal"]
                }
        }
) 
```

# android - Android点击按钮调用布尔函数检查表是否存在

> ID：14767718
> 
> 赞同：0
> 
> 时间：2013-02-08T07:33:41.050
> 
> 标签：android, sqlite

我完全被困住了。整天用头撞砖墙！

我有一堂课：

```
public class Main extends Activity. 
```

这有几个按钮。在两个按钮上，我想获得一个布尔函数的结果，该函数检查数据库表是否存在，以便我可以选择下一个操作。

```
final Button reminderButton = (Button) findViewById(R.id.reminders);

reminderButton.setOnClickListener(new View.OnClickListener() {
    public void onClick(View v){

        //This is where I want to get the result from the boolean function
        // and then either provide a toast msg OR start a new activity
    }   
}); 
```

下面是布尔函数

```
public boolean isTableExists(SQLiteDatabase db, String tableName) {
    if (tableName == null || db == null || !db.isOpen()) 
    {
        return false;
    }
    Cursor cursor = db.rawQuery("SELECT COUNT(*) FROM sqlite_master WHERE type = ? 
                         AND name = ?",new String[] { "table", tableName });
    if (!cursor.moveToFirst())
    {
        return false;
    }
    int count = cursor.getInt(0);
    cursor.close();
    return count > 0;
} 
```

在我的一生中，我无法确定要放入我的 onclick 的语法（查看 v）{}

我试过

```
public void onClick(View v) 
{
    isTableExists(null, null);
} 
```

但我不认为 null,null 是正确的，但是那里有什么论据？

还是我完全走错了路？

感谢您的任何建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T08:05:51.173

从你的帖子我明白你想要`check whether Table exists or not`。

此代码将为您提供帮助。

```
public boolean isTableExists(String tableName, boolean openDb) {
    if(openDb) {
        if(mDatabase == null || !mDatabase.isOpen()) {
            mDatabase = getReadableDatabase();
        }

        if(!mDatabase.isReadOnly()) {
            mDatabase.close();
            mDatabase = getReadableDatabase();
        }
    }

    Cursor cursor = mDatabase.rawQuery("select DISTINCT tbl_name from sqlite_master where tbl_name = '"+tableName+"'", null);
    if(cursor!=null) {
        if(cursor.getCount()>0) {
                            cursor.close();
            return true;
        }
                    cursor.close();
    }
    return false;
} 
```

基于这个布尔值你可以做你的动作。

# selenium-webdriver - 如何在 ubuntu 中使用 chrome 浏览器运行 selenium python 脚本

> ID：14767721
> 
> 赞同：1
> 
> 时间：2013-02-08T07:33:45.343
> 
> 标签：selenium-webdriver

我遇到了这样的错误，我在下面的 URL 中看到了，但我不知道如何使用 ubuntu(12.04) 进行配置。我知道如何使用 windows 配置 chrome web 驱动程序。如果任何人知道给我一个答案，请参阅下面的错误。

```
Traceback (most recent call last):      
in setUp driver = webdriver.Chrome() File "/home/pyd/pydan/venvs/local/lib/python2.7/site-    packages/selenium/webdriver/chrome/webdriver.py", 
line 60, in __init__ self.service.start() File   "/home/pyd/pydan/venvs/local/lib/python2.7/site-   packages/selenium/webdriver/chrome/service.py", 
line 64, in start and read up at   
http://code.google.com/p/selenium/wiki/ChromeDriver") 
```

## WebDriverException：消息：'ChromeDriver 可执行文件需要在路径中可用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:37:32.467

如果您查看此链接[http://code.google.com/p/selenium/wiki/ChromeDriver](http://code.google.com/p/selenium/wiki/ChromeDriver)，这里有关于在 Linux 上哪里可以找到 chrome 二进制文件的有用信息。此外，您可能需要检查路径环境变量。

# ruby-on-rails - 如何检查后台脚本是否已停止使用 Rails？

> ID：14767722
> 
> 赞同：1
> 
> 时间：2013-02-08T07:33:50.107
> 
> 标签：ruby-on-rails, webserver, background-process, ubuntu-10.04

我有一个脚本在我的 Ubuntu 服务器上作为**后台作业持续在****屏幕上运行。**但有时如果发生一些错误，它可以停止。有什么方法可以**监视**它并在它停止时得到一些警报，而不是手动记录并检查脚本是否正在运行？

 ****我在 Linode 上运行我的服务器，而 Ubuntu 是 10.04 服务器版本。****

# ruby-on-rails - zurb 基础错误类未正确呈现

> ID：14767724
> 
> 赞同：0
> 
> 时间：2013-02-08T07:33:54.297
> 
> 标签：ruby-on-rails, jquery, zurb-foundation

我使用基础 3，并在我的表单上设置了自定义类，尽管我遇到的问题是选择下拉列表和错误类没有按应有的方式工作。

我希望的是我可以将选择框的宽度设置为与错误消息相同的列宽，以使视图看起来很漂亮

![在此处输入图像描述](../Images/88d8ea539f8d388163bde0b6f625abab.png)

```
<div class="four columns">
    <select class="four columns" id="event_location_id" name="event[location_id]" style="display: none; "><option value="">None</option>
<option value="8">APK</option>
<option value="10">BAL</option>
<option value="11">BANK</option>
<option value="12">BANY</option>
<option value="13">BEN1</option>
<option value="14">BEN2</option>
<option value="15">BER</option>
<option value="16">BRU</option>
<option value="17">BTN</option>
<option value="18">CAM</option>
<option value="19">CAUL-Ind</option>
<option value="20">CER</option>
<option value="22">DAN</option>
<option value="23">DON</option>
<option value="24">DRO</option>
<option value="25">ELG</option>
<option value="26">ELT</option>
<option value="27">ES1</option>
<option value="28">ES2</option>
<option value="29">F-1</option>
<option value="30">F-2</option>
<option value="31">FP</option>
<option value="32">GEL</option>
<option value="33">GRN</option>
<option value="34">GRN-2</option>
<option value="35">H-1</option>
<option value="36">H-2</option>
<option value="37">HAL-1</option>
<option value="38">HAL-2</option>
<option value="39">HHF (prev WAV)</option>
<option value="40">HUN</option>
<option value="41">KNG</option>
<option value="42">KNX</option>
<option value="43">LAT</option>
<option value="45">MEL</option>
<option value="46">MGV</option>
<option value="47">MHS</option>
<option value="48">MNT</option>
<option value="49">MON</option>
<option value="50">MON-Ind</option>
<option value="51">MUH</option>
<option value="52">PCK</option>
<option value="53">PEGS</option>
<option value="54">PHC</option>
<option value="55">PSF</option>
<option value="56">RMIT</option>
<option value="57">S-1</option>
<option value="58">S-2</option>
<option value="59">S.N.H.C.</option>
<option value="60">SHP</option>
<option value="61">SKW</option>
<option value="62">STB</option>
<option value="63">T.B.A.</option>
<option value="64">TRI</option>
<option value="65">WARN</option>
<option value="66">WER</option>
<option value="67">WGS</option>
<option value="68">WGW</option>
<option value="69">WHF</option>
<option value="71">YAR</option>
<option value="72">YVG</option>
<option value="21">CHU</option>
<option value="70">WOD</option>
<option value="73">Test</option>
<option value="9">ASH</option>
<option value="7">ALT</option>
<option value="44">MBN</option></select><div class="custom dropdown" style="width: 155px; "><a href="#" class="current">None</a><a href="#" class="selector"></a><ul style="width: 155px; "><li class="selected">None</li><li>APK</li><li>BAL</li><li>BANK</li><li>BANY</li><li>BEN1</li><li>BEN2</li><li>BER</li><li>BRU</li><li>BTN</li><li>CAM</li><li>CAUL-Ind</li><li>CER</li><li>DAN</li><li>DON</li><li>DRO</li><li>ELG</li><li>ELT</li><li>ES1</li><li>ES2</li><li>F-1</li><li>F-2</li><li>FP</li><li>GEL</li><li>GRN</li><li>GRN-2</li><li>H-1</li><li>H-2</li><li>HAL-1</li><li>HAL-2</li><li>HHF (prev WAV)</li><li>HUN</li><li>KNG</li><li>KNX</li><li>LAT</li><li>MEL</li><li>MGV</li><li>MHS</li><li>MNT</li><li>MON</li><li>MON-Ind</li><li>MUH</li><li>PCK</li><li>PEGS</li><li>PHC</li><li>PSF</li><li>RMIT</li><li>S-1</li><li>S-2</li><li>S.N.H.C.</li><li>SHP</li><li>SKW</li><li>STB</li><li>T.B.A.</li><li>TRI</li><li>WARN</li><li>WER</li><li>WGS</li><li>WGW</li><li>WHF</li><li>YAR</li><li>YVG</li><li>CHU</li><li>WOD</li><li>Test</li><li>ASH</li><li>ALT</li><li>MBN</li></ul></div><small for="event_location_id" class="error">can't be blank</small>
  </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T15:26:16.533

这是一个已[报告的错误](https://github.com/zurb/foundation/issues/1003)（显然已在 6 天前修复。）

同时，您可以使用两行 CSS 轻松修复它：

```
.custom.dropdown {
    width: 100% !important;  /* fixes width issue */
}
.custom.dropdown + .error {
    margin-top: -9px;        /* fixes overlapping */
} 
```

您可以[在这里看到它的实际效果](http://jsfiddle.net/naoise/epN2B/)。

# linux - 混淆 ns2 : 代理分类器和节点

> ID：14767728
> 
> 赞同：0
> 
> 时间：2013-02-08T07:34:30.363
> 
> 标签：linux, agent, classification, ns2

节点代表 ns2 中的基本结构。它们继承自 TclObject 类。

代理类似于 TcpAgent 和 UdpAgent 或 NullAgent，它们继承自 NsObject 类，而 NsObject 类本身继承自 TclObject。代理可以将数据发送到它们所连接的一个目标。target_ 是 NsObject *。

分类器继承自 NsObject。他们可以将数据发送给许多人，因为他们已经获得了列表。NsObject **。

节点类有neighbour_list。Node 有一个 RoutingModule 对象，该对象具有分类器。但由于 Node 不是 NsObject 类型，我不能将 Node 放在分类器的 NsObject** 中。

我想实现一些东西（我不知道是代理还是节点或分类器）（我认为它应该是一个分类器），以便我可以获得节点的邻居并根据逻辑向某些节点发送数据包。

我应该怎么办 ？如果我实现一个分类器，我如何将它附加到节点。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T23:17:49.747

我已经回答了我的一个问题。这会有所帮助。 [回答](https://stackoverflow.com/questions/14765726/what-can-be-done-in-ns2-and-what-can-not-be)

简而言之，在无线场景中，要获取节点的邻居，

1.  通过 ns_addr_t.addr_ = -1 广播 PING 消息。
2.  在接收 PING 时，将消息的发送者存储为我的邻居。向它发送 PING_REPLY。
3.  在接收 PING_REPLY 时，将消息的发送者存储为我的邻居。

一段时间后，设置模拟器启动协议。

> $ns at 500.0 "$myagent start-protocol"

# android - 从服务器检索值取决于间隔时间

> ID：14767733
> 
> 赞同：0
> 
> 时间：2013-02-08T07:34:46.743
> 
> 标签：android

我想从服务器数据库中检索有关健康详细信息的值取决于更新间隔时间。假设如果用户设置的间隔时间是 10 分钟，那么应该每 10 分钟从服务器检索一次值。它就像春天的石英。我尝试了 Timer 和 TimerTask，但它需要一个事件才能运行。但就我而言，没有事件。那么，我该如何实现呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:43:59.960

把它放在你的 onCreate() 方法上

```
Thread timer = new Thread() {
    public void run () {
        for (;;) {
            // do stuff in a separate thread
            uiCallback.sendEmptyMessage(0);
            try {
                Thread.sleep(UPDATE_TIME);
            } catch (InterruptedException e) {

                e.printStackTrace();
            }    
        }
    }
};
timer.start(); 
```

然后在回调中，检索您的数据。

```
 private Handler uiCallback = new Handler () {
        public void handleMessage (Message msg) {
            //  retrieve the values about health details from server database
         }
    }; 
```

每次用户设置间隔时不要忘记重置 UPDATE_TIME。

# iphone - 如何使用 json 解析将选定的图像发布到 Web 链接

> ID：14767736
> 
> 赞同：0
> 
> 时间：2013-02-08T07:34:50.207
> 
> 标签：iphone, ios, objective-c, json, uiimage

我是我的 iphone 应用程序，我想将图像发布到链接。该图像是从手机图库中选择的。我将该图像转换为nsstring。但我在发帖时出错。

错误是：（“错误域=org.brautaset.JSON.ErrorDomain Code=3 \"无法识别的前导字符\" UserInfo=0x9e599a0 {NSLocalizedDescription=无法识别的前导字符}"）

我正在使用以下代码

用于将图像转换为字符串：

```
CGFloat compression = 0.25f;

NSData *imagedata = UIImageJPEGRepresentation(self.profileImageView.image, compression);

profileObj.profileImageString = [[NSString alloc]initWithData:imagedata encoding:NSASCIIStringEncoding];
profileObj.profileImageString = [profileObj.profileImageString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];

NSLog(@"profileObj.profileImageString: %@",profileObj.profileImageString); 
```

发布到链接：

```
appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

ProfileObject *profile_obj=obj;
NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@"%@upload/register/john@gmail.com/password/774e4b7b118994b1c58d71c088834d43ca2937623319f6b7b6c48a1846132027/iPhone/1/%@",MainUrl,profile_obj.profileImageString]];

NSLog(@"url is---%@",url);

NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url
                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:60.0];
[request setHTTPMethod:@"POST"];
[request setValue:@"multipart/form-data" forHTTPHeaderField:@"Content-Type"];
NSError* error = nil;

NSURLResponse* response;

NSData* result = [NSURLConnection sendSynchronousRequest:request  returningResponse:&response error:&error];

NSString *dataString=[[NSString alloc]initWithData:result encoding:NSUTF8StringEncoding];
NSMutableDictionary *getResponseDict = [[NSMutableDictionary alloc] init];
[getResponseDict addEntriesFromDictionary:[dataString JSONValue]];
NSString  *responseStr=[getResponseDict objectForKey:@"message"];
NSLog(@"responseStr is....%@",responseStr);
return responseStr; 
```

对不起，我的英语很差 别介意。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T08:09:09.613

用于图片发布

```
NSString  *imgPath = fullPathOfYourImage;
    if([[NSFileManager defaultManager] fileExistsAtPath:imgPath])
    {
        [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];                                                        
        [body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"photo\"; filename=\"YourImageName.png\"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
                                                                                                               ^..YourImageName….^

        [body appendData:[@"Content-Type: application/octet-stream\r\n\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
        [body appendData:[NSData dataWithContentsOfFile:imgPath]];
        [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:45:46.117

您始终可以对图像数据进行 base64 编码。

这可确保您在帖子中获得正确的字符串。

你可以使用这样的扩展：[http](http://svn.cocoasourcecode.com/MGTwitterEngine/NSData+Base64.m) ://svn.cocoasourcecode.com/MGTwitterEngine/NSData+Base64.m来获得你想要的。

# c# - 搜索时显示项目

> ID：14767741
> 
> 赞同：-2
> 
> 时间：2013-02-08T07:35:03.810
> 
> 标签：c#, arrays, winforms, list

我做了一个列表框，保存按钮和一个搜索按钮，我还做了一个数组，所以当按下保存按钮时，数据被放入数组中，但是我想在搜索时将它显示在列表框中，这是我的代码搜索

```
foreach (Person per in Person.listperson)
            {
                if (textBox6.Text == per.lastname.ToString())
                {
                    listBox1.Items.Add(per.lastname);
                }
            } 
```

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:37:41.300

您可以将 ListBox 与您的列表进行数据绑定

```
private void Bind(List<Person> searchResults)
{
     //lb = your list box
     lb.DisplayMember = "lastname";
     lb.ValueMember = "id";
     lb.DataSource = searchResults;
} 
```

这会将列表中的所有项目绑定到显示它们的列表框:)

您的搜索也可以通过 LINQ 完成：

```
var results = Person.listperson.Where(x => x.lastname.ToString() == textBox6.Text).ToList();
Bind(results); 
```

希望能帮助到你 ：）

# android - 如何在 android 的自定义视图中显示移动图库页面？

> ID：14767742
> 
> 赞同：0
> 
> 时间：2013-02-08T07:35:05.590
> 
> 标签：android

```
Intent intent = new Intent();
intent.setType("image/*");
intent.setAction(Intent.ACTION_GET_CONTENT);
startActivityForResult(Intent.createChooser(intent, "Select Picture"),1); 
```

以上将带我们进入设备中的图库应用程序，因此我们将获得占据设备整个显示的图库屏幕。但我想在小布局中显示该图库应用程序视图（就像我展示的那样在下图中，而不是 EditText,Buttons ，我想在那个小布局中获取我的设备库屏幕）。这样我就可以给用户一种他没有离开应用程序的感觉。

我在其中一个 IPAD 应用程序 (HelloAlbums) 中看到了这一点。

是否有可能在android中实现这一点？

我正在使用上面的代码来调用电话库应用程序。

但我想在自定义视图中显示图库页面。![在此处输入图像描述](../Images/8f937970848081a8e17e2f7c14721822.png)

假设在我下面使用的视图中。

我怎样才能做到这一点？

请建议

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T07:41:06.677

尝试这个

```
public void ChoosePicture(View v) {
    Intent photoPickerIntent = new Intent(Intent.ACTION_PICK);
    photoPickerIntent.setType("image/*");
    startActivityForResult(photoPickerIntent, 1);
}

public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    switch (requestCode) {
    case 1:
     {
      if (resultCode == RESULT_OK)
      {
        Uri photoUri = data.getData();
        if (photoUri != null)
        {
        try {
              String[] filePathColumn = {MediaStore.Images.Media.DATA};
              Cursor cursor = getContentResolver().query(photoUri, filePathColumn, null, null, null); 
              cursor.moveToFirst();
              int columnIndex = cursor.getColumnIndex(filePathColumn[0]);
              String filePath = cursor.getString(columnIndex);
              cursor.close();
              bMap_image = BitmapFactory.decodeFile(filePath);
              ImageView img = (ImageView) findViewById(R.id.gallery1);
              img.setImageBitmap(bMap_image);

     }catch(Exception e)
      {}
      }
    }// resultCode
    }// case 1
    }// switch, request code
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:44:00.120

请转到此[链接](http://developer.android.com/resources/tutorials/views/hello-gallery.html)：

并修改您的 imageadapter 类

```
public View getView(int position, View convertView, ViewGroup parent) {
    ImageView i = new ImageView(mContext);

    i.setImageResource(mImageIds[position]);
    i.setLayoutParams(new Gallery.LayoutParams(150, 100));//make change of this size
    i.setScaleType(ImageView.ScaleType.FIT_XY);
    i.setBackgroundResource(mGalleryItemBackground);

    return i;
} 
```

只需更改 layoutParams 的高度和宽度。

# ruby-on-rails - 如何使用 jquery 激活 Rails 中的导航选项卡

> ID：14767745
> 
> 赞同：1
> 
> 时间：2013-02-08T07:35:14.763
> 
> 标签：ruby-on-rails, twitter-bootstrap

我有一个`ul`类似的菜单：

```
<ul class="tabs pull-right">
  <% if user_signed_in? %>
  <li class="active"><a href="/dashboard">Dashboard</a></li>
  <% else %>    
  <li class="active"><a href="/">Home</a></li>
  <% end %>
  <% if user_signed_in? %>
  <li><a href="/upgrade">Upgrade</a></li>
  <% else %>
  <li><a href="/pricing">Pricing</a></li>
  <% end %> 
```

**我的jQuery代码是**

```
$(document).ready(function(){
  $(".tabs li").click(function() {
    $(".tabs li").removeClass('active');

    var selected_tab = $(this).find("a").attr("href");
    $(this).addClass("active");
    $(selected_tab).fadeIn();
    return false;
  });
}); 
```

**我的 CSS**

```
.tabs_wrapper { width: 900px; } 
.tabs_container { border-bottom: 0px solid #ccc; } 
.tabs { list-style: none; padding: 5px 0 4px 0; margin: 0 0 0 10px; font: 1.15em arial; } 
.tabs li { display: inline; } 
.tabs li a { border: 1px solid #ccc; 
             padding: 4px 6px; text-decoration: none; 
             background-color: #eeeeee; border-bottom: none; 
             outline: none; border-radius: 5px 5px 0 0; -moz-border-radius: 5px 5px 0 0; 
             -webkit-border-top-left-radius: 5px; 
             -webkit-border-top-right-radius: 5px; } 
.tabs li a:hover { background-color: #dddddd; padding: 4px 6px; } 
.tabs li.active a { border-bottom: 1px solid #fff; background-color: #fff; padding: 4px 6px 5px 6px; border-bottom: none; } 
.tabs li.active a:hover { background-color: #eeeeee; padding: 4px 6px 5px 6px; border-bottom: none; } 
```

我的问题是当我尝试点击定价时，页面正在激活，但在菜单中它显示主页...它没有激活菜单中的定价选项卡...。你们中的任何一个都可以告诉你有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T18:26:35.510

您的 jQuery 代码对我来说没有多大意义。

这是据我了解的代码

1.  将点击事件绑定到所有选项卡元素
2.  从所有选项卡元素中删除“活动”类
3.  获取您单击的选项卡的“href”属性值
4.  将活动类添加到您单击的选项卡
5.  下一部分 $(selected_tab) 部分应该会给您一个错误，您提取的 href 值不应该能够转换为 jQuery 对象 afaik。

请提供有关您要执行的操作的更多信息。

据我所知，单击选项卡会给您带来硬页面刷新，在 href 属性中加载页面，而不是引用同一页面上的 DOM 元素。如果是这种情况，您上面的代码将永远不会设置活动选项卡，因为一旦您单击，您就会离开。

根据我掌握的少量信息，您可以做这样的事情，但这并不理想，很可能会闪烁。

```
$(function() {
  // cache your tabs selector
  var $tabs = $('.tabs li');

  // see what page you are currently on to compare to tabs
  var pageLocation = window.location.pathname;

  // remove the Active class from the tabs
  $tabs.removeClass('active');

  // loop through your tabs
  $tabs.each(function () {
    var $tab = $(this);
    var tabHref = $tab.attr('href');

    if (tabHref === pageLocation){
      $tab.addClass('active');
    }
  });

  // Alternative dont add active to any tabs in your template and select by href
  // this selector would be slow
  $('a[href="'+pageLocation+'"]').parent().addClass('active');
}); 
```

[http://jsfiddle.net/billpull/D3jKZ/](http://jsfiddle.net/billpull/D3jKZ/)

就像我之前说的那样，这并不理想。这很可能是您希望在模板中设置的东西，但对 RoR/erb 模板不太熟悉，但我认为您可以做一些事情，其中​​您有一个带有选项卡的基本模板设置，然后您有一个贯穿它们的循环，并且检查活动页面。这是 jinja for python 中的一个示例

Base.html

```
{% set logged_in_tabs = [
   ('/dashboard', 'dashboard', 'Dashboad'),
   ('/upgrade', 'upgrade', 'Upgrade')
] %}

{% set unauthed_tabs = [
   ('/', 'home', 'Homepage'),
   ('/pricing', 'pricing', 'Pricing')
] %}

{% set active_page = active_page|default("home") %}

<ul class="tabs">
  {% if user_signed_in %}
    {% for href, id, caption in logged_in_tabs %}
       <li {% if id == active_page %}class="active"{% endif %}><a href="{{ href|e }}">{{ caption|e }}</a></li>
    {% endfor %}
  {% else %}
       {% for href, id, caption in unauthed_tabs %}
         <li {% if id == active_page %}class="active"{% endif %}><a href="{{ href|e }}">{{ caption|e }}</a></li>
       {% endfor %}
  {% endif %}
</ul> 
```

仪表板.html

```
{% extends 'Base.html' %}
{% set active_page = 'dashboard' %} 
```

如果可能的话，您将不得不找到某种方式将其转换为 erb。听起来您的选项卡无论如何都是常见元素，因此它们应该是通过仪表板、升级等扩展的主模板的一部分或一部分。这种方法将使突出显示选项卡的工作远离客户端并防止任何形式的闪烁这可能发生在页面加载时。

# android - 为什么 AsyncTasks 在 Android 中不会被销毁

> ID：14767747
> 
> 赞同：1
> 
> 时间：2013-02-08T07:35:22.967
> 
> 标签：android, android-asynctask

在我的应用程序中，我大约每 5 秒持续创建一个 AsyncTask。我在调试期间检查了任务，可以清楚地看到任务始终完成其进程并退出 doInBackground 方法。onPostExecute 中的任何代码都不会被执行。然而，正如我在 Eclipse 中看到的那样，AsyncTask 继续保留在内存中。我想也许它会被重用于下一个循环，或者最终被垃圾收集，但另一个被创建并继续下去。最终，它们中的足够多被创建并减慢了系统速度。

潜在的问题是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:38:46.660

> AsyncTask 管理一个使用 ThreadPoolExecutor 创建的线程池。它将有 5 到 128 个线程。如果线程数超过 5 个，这些多余的线程最多会停留 10 秒，然后才会被移除。（注意：这些数字是针对目前可见的开源代码，并因 Android 版本而异）。
> 
> 请不要管 AsyncTask 线程

源问题：[AsyncTask 线程永不消亡](https://stackoverflow.com/questions/3077461/asynctask-threads-never-die-android)

# java - 即使窗口最小化，如何在java应用程序中连续运行线程？

> ID：14767748
> 
> 赞同：0
> 
> 时间：2013-02-08T07:35:24.293
> 
> 标签：java, multithreading, runnable

我有一个实现“Runnable”接口的类，并有一个线程在其中运行。但是一旦窗口被最小化，线程就会停止运行，并在最大化窗口时从最小化之前的状态重新启动。即使窗口最小化，我应该如何确保线程的连续运行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T07:38:21.417

GUI 线程确实如此。您可以创建 Worker 线程来执行耗时的任务。

# c# - 使用 Windows 窗体设计器将属性绑定到控件

> ID：14767753
> 
> 赞同：0
> 
> 时间：2013-02-08T07:35:47.647
> 
> 标签：c#, winforms, data-binding, designer

我想使用 Windows 窗体设计器将属性绑定到控件。

例如，我有这个组件：

```
class MyComponent:Component, INotifyPropertyChanged {
    public event PropertyChangedEventHandler PropertyChanged;
    private string _strProperty;
    [Bindable(true)]
    public string StrProperty {
      get{
        return _strProperty;
      }
      set {
        if (_strProperty != value) {
          _strProperty = value;
          if (PropertyChanged != null) PropertyChanged(this, new PropertyChangedEventArgs("StrProperty"));
        }
      }
    }
  } 
```

我将这个组件从工具箱中拖放到一个表单上。组件名称是 myComponent1。在同一个表单上，我有一个名为 textBox1 的 TextBox 控件。
现在我想将*textBox1.Text*属性绑定到*myComponent1.StrProperty*属性。我知道我可以写代码：

```
textBox1.DataBindings.Add(new Binding("Text", myComponent1, "StrProperty")); 
```

但我想使用设计器达到相同的结果。可能吗？我应该使用 BindingSource 吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-03-30T14:30:56.320

由于您的问题已有 3 年历史，我不确定这是否适用于您当时的 Visual Studio 版本，但对于现在感兴趣的其他人来说，您可以这样做：

*   选择**文本框1**
*   在属性网格中展开**(DataBindings)**
*   在**Text**中，输入**myComponent1 - StrProperty**
*   按**回车**，完成

就那么简单。如果您检查生成的设计器代码，您将看到创建的新绑定，就像您通过代码完成的那样。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T09:36:53.467

不可以，您只能在 WinForm 中使用代码隐藏来绑定属性。但是，您可以在没有 C# 代码但使用 XAML 的情况下在 WPF 中绑定数据。

# php - 对数组进行排序，在 PHP 上保持偶数

> ID：14767760
> 
> 赞同：3
> 
> 时间：2013-02-08T07:36:16.460
> 
> 标签：php, arrays, sorting

我尝试对下面的数组进行排序以将偶数值保持在顶部并按从`asc`到的排序顺序`desc`

```
$array = array(1,2,3,4,5,6,7,8,9,10); 
```

我试过这个对数组进行排序

```
usort($array, function($a, $b) { 
                    if ($a % 2 == 0 )
                    { 
                        return 1 ;
                    }
                    else 
                    { 
                        return -1;
                    }
            }
        ); 
```

我得到如下输出

```
Array
(
    [0] => 7
    [1] => 9
    [2] => 1
    [3] => 5
    [4] => 3
    [5] => 2
    [6] => 4
    [7] => 6
    [8] => 8
    [9] => 10
) 
```

我希望输出数组是

```
Array
(
    [0] => 2
    [1] => 4
    [2] => 6
    [3] => 8
    [4] => 10
    [5] => 1
    [6] => 3
    [7] => 5
    [8] => 7
    [9] => 9
) 
```

偶数和奇数应按升序到降序排序，但将偶数保持在奇数之上

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T07:43:45.453

`usort`[不稳定](http://en.wikipedia.org/wiki/Sorting_algorithm#Stability)。_ 该文档指出：

> 如果两个成员比较相等，则它们在排序数组中的相对顺序是未定义的。

所以，你可以做的是：

```
usort($array, function($a, $b) {
                if ($a % 2 == $b % 2) {
                    return intval($a - $b);
                }
                elseif ($a % 2 == 0 )
                { 
                    return -1 ;
                }
                else 
                { 
                    return 1;
                }
        }
    ); 
```

如果两者都是偶数或两者都是奇数，则会比较实际值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T07:46:15.177

我认为您需要一个更复杂的功能。因为当您查看它时，需要处理不同的情况，并且在每种情况下都必须发生不同的事情：

*   `$a`两者`$b`都是偶数：默认数字比较
*   `$a`两者`$b`都是奇数：默认数字比较
*   `$a`是偶数，`$b`是奇数：`$a`总是小于`$b`
*   `$a`是奇数，`$b`是偶数：`$b`总是小于`$a`

对于实施，请参阅[fab 的答案](https://stackoverflow.com/a/14767875/989169)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-08T07:44:00.017

有点长，但对我来说很好：

```
$array = array(1,2,3,4,5,6,7,8,9,10);

$even =array();

$odd = array();

foreach ($array as $item) {

  if($item%2==0) {

    $even[] = $item;
  }

  else {

    $odd[] = $item;

  }

}

usort($even);

usort($odd);

$array_sort = array_merge($even,$odd);

print_r($array_sort); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-08T07:44:36.237

```
usort($array, function($a, $b) { 
                    if ($a % 2 == $b % 2) {
                           if ($a == $b) {
                               return 0;
                           }
                           return ($a < $b) ? -1 : 1;
                    } elseif ($a % 2 == 0) { 
                        return -1 ;
                    } else { 
                        return 1;
                    }
            }
        ); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-08T08:00:41.093

简短而简单的编写方法：

```
<?php
$array = array(1,2,3,4,5,6,7,8,9,10);
usort($array, function($a, $b){
  if ($a % 2 == $b % 2) {
    return $a - $b;
  }
  return $a % 2 != 0;
});
print_r($array);
?> 
```

或使用三元：

```
<?php
$array = array(1,2,3,4,5,6,7,8,9,10);
usort($array, function($a, $b){
  return ($a % 2 == $b % 2) ? ($a - $b) : ($a % 2 != 0);
});
print_r($array);
?> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-11-01T21:21:21.750

对于比较函数，首先取两个数的 mod 2 值的差。

它将是 -1、0 或 1。如果它不为零，则一个数字是偶数，另一个是奇数，因此您可以返回该值。（这将使赔率高于偶数。）

如果为零，则要么两个数字都是偶数，要么两个数字都是奇数，您需要取两个数字的差来打破平局。

一个简洁的写法是：

```
usort($array, function($a, $b) {
    return $a % 2 - $b % 2 ?: $a - $b;
}); 
```

* * *

要在开始时对奇数进行排序，请在第一次比较中交换`$a`和。`$b`

```
return $b % 2 - $a % 2 ?: $a - $b; 
```

# f# - 为什么 F# 中的函数会以这种方式实现？

> ID：14767765
> 
> 赞同：2
> 
> 时间：2013-02-08T07:36:53.810
> 
> 标签：f#

由于支持柯里化，F# 函数与普通 CLR 方法有很大不同。例如函数

```
let inc a = a + 1 
```

会有类型`Microsoft.FSharp.Core.FSharpFunc<int,int>`。它会产生 C# 互操作性问题。必须专门设计函数以便从 C# 中轻松调用。

这种设计背后的基本原理是什么？我相信原因是咖喱支持。但是柯里化可以使用闭包来实现。例如这段代码：

```
let add a b = a + b
let inc = add 1 
```

可以很容易地被编译器转换成这个：

```
let add a b = a + b
let inc = fun x -> add 1 + x 
```

在这种情况下， add 和 inc 都可以是普通`System.Func`对象。我相信这个设计决定背后有一些有趣的原因。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-08T13:51:25.720

据我记得，在 F# 中为函数提供单独类型的动机是性能（在早期版本`FSharpFunc<...>`中实际上称为`FastFunc<...>`）。我不完全确定最近的事态发展（我确信 F# 团队做了一些测试来确定代理是否可以在 Visual Studio 2010 中工作），但我是这样理解这个问题的：

如果您有一个函数`add : int -> int -> int`，那么该函数可以表示为一个委托`Func<int, Func<int, int>>`（使用柯里化表示）。问题是你经常会想用两个参数来调用它，比如`add 1 2`.

使用嵌套`Func`类型的表示，这将编译为`add.Invoke(1).Invoke(2)`.

但是，在编译类似`add`的函数时，F# 编译器实际上创建了一个新类，例如，`AddClass`它*继承*自`FSharpFunc<int, FSharpFunc<int, int>>` *并*添加了一个带有两个参数的额外`Invoke`重载。这意味着，在大多数情况下，`add 1 2`可以只编译为一个 call `add.Invoke(1, 2)`。

这种设计使 F# 代码更快。它稍微使互操作性复杂化，但不会太多。编写一个接受委托的 F# 成员或函数相当容易：

```
let foo (inc : Func<int, int>) = inc.Invoke(41) 
```

（您只需要添加类型注释然后调用`f.Invoke`- 但您也可以将`f.Inokve`其用作一等值并将其传递给其他函数）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-10T18:02:15.670

我的猜测是 F# 表示支持大步语义，`System.Func`但不支持。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-17T15:40:08.833

与 C# 互操作的最佳方法是将所有内容包装在类/成员中。C# 永远不必查看成员的内部工作。

# android - iOS内存警告的Android对应

> ID：14767766
> 
> 赞同：5
> 
> 时间：2013-02-08T07:36:53.980
> 
> 标签：android, ios, memory, warnings

在 iOS 中，应用程序会通过实现一个名为 的函数来收到内存警告`DidReceiveMemoryWarning`，这意味着 RAM 不够用。如果发送此警告的 2 级版本，应用程序可能会被强制停止。

Android中是否有类似的东西（如广播意图）告诉我的应用程序内存不足，我可以以编程方式删除一些对象？

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-08T07:50:43.633

[您应该通过扩展Android Application](http://developer.android.com/reference/android/app/Application.html)类来定义自己的自定义应用程序对象，并在清单文件的 Application 标记中定义该对象。在这个自定义对象中，您可以覆盖[onLowMemory()](http://developer.android.com/reference/android/app/Application.html#onLowMemory%28%29)方法。

希望这对您有所帮助。

# javascript - 调用函数的链接的 ID

> ID：14767768
> 
> 赞同：-1
> 
> 时间：2013-02-08T07:37:00.693
> 
> 标签：javascript, hyperlink, greasemonkey, event-listener

我希望在这里发布很多具体的代码不是问题，但我认为如果每个人都能看到它会更好地解释它，所以我将给你我的代码然后我会解释我的问题。

我的代码：

```
function addBeGoneLinks () {
     var beGoneClassElems;
     var beGoneSpan;
     var beGoneLink;
     var beGonePrintSafe;
     var spacesSpan;
     //var middotSpan = document.createElement ('span');

     var interactionContainer = document.getElementsByClassName('feedItemInteractionContainer');

     for (var i=0; i<children.length; i++)
     {
         beGonePrintSafe = false;

         beGoneClassElems = children[i].getElementsByClassName('beGone')

         beGonePrintSafe = true;

         if (beGoneClassElems.length == 0)
         {
             beGoneLink = document.createElement('a');
             beGoneLink.href = 'javascript:void(0);';
             beGoneLink.appendChild(document.createTextNode('Be Gone'));
             beGoneLink.className = 'beGone';
             beGoneLink.id = 'beGoneLink' + i.toString();
             beGoneLink.addEventListener ("click", function() {beGone();}, false);//This line!
             beGoneLink.align = 'right';

             spacesSpan = document.createElement('span');
             spacesSpan.innerHTML = ' - ';

             if (interactionContainer[i] != undefined)
             {
                 interactionContainer[i].appendChild(spacesSpan);
                 interactionContainer[i].appendChild(beGoneLink);
             }
         }
     }
} 
```

在这里，我有一个来自我正在处理的 Greasemonkey 脚本的函数。当点击其中一个链接时，我的目标是让它调用该函数，该函数`beGone()`将除其他外删除几个父级的整个元素，从而删除他们的兄弟姐妹、他们的父母和他们父母的兄弟姐妹，以及一两个之后的水平。

我的想法只是获取被按下的链接的 id 并将其传递给，`beGone()`这样我就可以让父母使用它的 id，但我不知道该怎么做。我可以通过它调用的函数传递链接的 id 吗？如果没有，还有其他方法可以做到这一点吗？

我不确定我是否遗漏了一些非常简单的解决方案，但我一直无法在网络上找到一个根深蒂固的解决方案，尤其是因为我不确定如何搜索这个特定问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:48:26.317

尝试这个：

```
beGoneLink.addEventListener("click", beGone, false);

beGone = function (evt) {
    evt.target; // evt.target refers to the clicked element.
       ...
} 
```

然后，您可以使用`evt.target.id`,`evt.target.parentNode`等。

# android - Android经典的类似IRC的聊天框

> ID：14767771
> 
> 赞同：2
> 
> 时间：2013-02-08T07:37:06.147
> 
> 标签：android, android-layout

我害怕为 Android 应用程序设计 UI，我一直在搜索并尝试所有可能的组合以达到我想要的方式，但我似乎无法做到正确。

我想要一个简单的 Android 应用程序，它在屏幕底部有一个文本字段和一个发送按钮并排在一起（我已经有了这个正确的），我还想要一个功能性聊天区域填充上面屏幕的其余部分.

它显然需要可滚动，我希望能够通过执行类似的操作在聊天底部添加一个新行`chatBox.add(username, text)`。

这是我正在寻找的视图类型：

```
<bob> my name is bob
<bill> hi bob, my name is bill!
<bob> we are having an awesome conversation, bill
<bill> both of our names start with a b
<bob> how right you are 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-10T09:52:09.433

我做了这样的应用程序。对于聊天窗口，我使用了 listView。ListView 具有 stackFromBottom 模式。所以最后添加的消息将在 ListView 的底部。我还创建了扩展 ArrayAdapter 的自定义适配器，因此很容易添加新消息。

这是[一个很好的示例](http://www.survivingwithandroid.com/2012/10/android-listviewarrayadapter-and.html)，如何将 listView 与适配器一起使用并添加新项目。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T12:15:01.617

Leonisdos 是对的，你应该使用 listView。你知道应用程序 Irssi-ConnectBot 吗？我认为你应该看看它的源代码有很多很好的例子。

[这里](http://code.google.com/p/irssi-connectbot/)是 Irssi-connectbot 的 code.google 项目（和[github](https://github.com/irssiconnectbot)）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T12:27:12.917

将 a 包裹`TextView`在 a 中`ScrollView`。追加新聊天条目时使用`append()`on`TextView`和`fullScroll(View.FOCUS_DOWN)`on 。`ScrollView`

对于更长的聊天，Leonidos 的`ListView`方法更有效，但我想我会提到这个。

# java - 文件大小 > 8MB 时上传 Struts 1.x 文件

> ID：14767773
> 
> 赞同：0
> 
> 时间：2013-02-08T07:37:12.730
> 
> 标签：java, upload, struts, struts-1

我想在我的应用程序中上传一个文件（压缩的 excel）。文件大小几乎是 8MB。所以它给出了尺寸错误。

我试图上传一个小文件，它工作正常。但是对于大小> 1 MB，它不起作用。

上传大（压缩）文件有什么办法吗？？？

我正在使用 Struts 1.x 框架。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:59:31.993

来自[http://tomcat.apache.org/tomcat-5.5-doc/config/http.html](http://tomcat.apache.org/tomcat-5.5-doc/config/http.html)

最大邮政大小

将由容器 FORM URL 参数解析处理的 POST 的最大大小（以字节为单位）。可以通过将此属性设置为小于或等于 0 的值来禁用此限制。如果未指定，则此属性设置为 2097152（2 兆字节）。

在 {Tomcat 安装文件夹}\conf\ 中找到 server.xml

8*1024*1204 =8388608

```
<Connector port="8080" protocol="HTTP/1.1"  connectionTimeout="20000"         
redirectPort="8443" maxPostSize="8388608" /> 
```

将限制放在 maxPostSize..

# vba - VBA代码获取excel单元格文本的出现索引

> ID：14767774
> 
> 赞同：-2
> 
> 时间：2013-02-08T07:37:16.773
> 
> 标签：vba, excel

我有一个包含文本值的 excel 列。这些值可以在列中重复任意次数。例如这里是我的专栏。

```
AAAA
BBBB
CCCC
BBBB
EEEE
FFFF
BBBB
CCCC
CCCC
DDDD 
```

我需要 2 个 VBA 代码，它们的工作方式如下：

**Code1：**此代码将返回单元格文本出现的次数，直到当前单元格。例如，如果当前单元格是第 9 行，则输出将为 3，因为 CCCC 已出现 3 次直到该单元格。

**Code2：**此代码将返回文本第 n 次出现的行 ID。例如，我想要 BBBB 的第 2 次出现的行号，所以输出将是 4

任何人都可以帮助代码吗？提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:09:47.223

使用公式从单元格 B1 向下填充，`=COUNTIF($A$1:A1,A1)`它将为您计数到该单元格。

第二部分可以通过多种方式实现，但请尝试这种过于冗长的方法并根据您的需要进行调整：

对上面的 B 列使用 suggsetiong 后，单元格 C1:`=A1&B1`并填写

单元格 D1：从 1 向下填充到列表底部

单元格 G1：??1 复制粘贴（转置）唯一的文本字符串 单元格 F2：从 1 向下填充到 n 单元格 G2：`=INDEX($D$1:$D$17,MATCH(G$1&$F2,$C$1:$C$17,0))`然后向下向右复制以填充正方形。

# php - 如何从登录表单中传递第三个参数来验证用户身份

> ID：14767776
> 
> 赞同：0
> 
> 时间：2013-02-08T07:37:35.593
> 
> 标签：php, yii

嗨，我正在使用登录表单中的第三个字段，我的登录表单代码如下所示

```
<div class="row">
<?php echo $form->labelEx($model,'username'); ?>
<?php echo $form->textField($model,'username'); ?>
<?php echo $form->error($model,'username'); ?>
</div>

<div class="row">
    <?php echo $form->labelEx($model,'password'); ?>
    <?php echo $form->passwordField($model,'password'); ?>
    <?php echo $form->error($model,'password'); ?>

</div>

<div class="row">
    <?php   echo $form->labelEx($model,'userrole'); ?>
    <?php 
        $data = Userrole::model()->findAll();
        echo $form->dropDownList($model, 'userrole', CHtml::listData($data, 'id', 'userType'));
    ?>
    <?php echo $form->error($model,'userrole'); ?>
</div> 
```

这里我应该传递第三个参数来验证用户，所以如何传递给 UserIdentity 类。UserIdentity 类只定义了用户名、密码属性所以它只会获取用户名和密码所以，如何获取第三个

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T01:06:59.503

[CUserIdentity 中的构造函数只是一个 setter](http://www.yiiframework.com/doc/api/1.1/CUserIdentity#__construct-detail)。因此，您可以进行以下更改以将 userole 传递给 CUserIdentity

1) 更新您的表单（我假设它是 LoginForm？） public $userrole;

然后在您的身份验证方法中，更新对 UserIdentity 的调用以包含用户角色

```
$this->_identity=new UserIdentity($this->username,$this->password, $this->userrole); 
```

然后在您的 UserIdentity.php 文件中，添加以下内容：

```
public $userrole;
public function __construct($username, $password, $userrole)
{
    $this->username = $username;
    $this->password = $password;
    $this->userrole = $userrole;
} 
```

你可能需要稍微调整一下，但这是你需要做的传递变量的一般要点。确保更新 Form::rules() 数组，以便正确验证用户角色。

# python - Python Crawler 给了我很多语法错误

> ID：14767778
> 
> 赞同：0
> 
> 时间：2013-02-08T07:37:38.877
> 
> 标签：python, syntax, web-crawler

谁能帮我在 Python 3.3 中编译这个 python 代码？我收到很多错误消息。

[https://github.com/andronikov/tpb2csv](https://github.com/andronikov/tpb2csv)

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:40:12.000

`print`该代码与 Python 3 不兼容，它仅适用于 Python 2（从该代码中的语句而非函数这一事实可以看出）。

您可以尝试在其上使用[2to3](http://docs.python.org/2/library/2to3.html)，但我预计会进行大量手动工作，因为原始代码似乎正在执行大量 Unicode 字符串操作，并且该语言的这一部分已在 Python 3 中进行了彻底检查。

哦，它使用了 BeautifulSoup 之类的第三方库`UnicodeDammit`。这并不容易。

# .htaccess - 如何运行最新的 RewriteRule

> ID：14767780
> 
> 赞同：-1
> 
> 时间：2013-02-08T07:37:46.260
> 
> 标签：.htaccess

选项 +FollowSymLinks RewriteEngine on

RewriteRule ^where-is-german-spoken$ default-template.php?page_id=4 [L,QSA]

RewriteRule ^where-is-german-spoken$ where-is-german-spoken.php?page_id=4 [L,QSA]

我想执行最后一个重写规则“ RewriteRule ^where-is-german-spoken$ where-is-german-spoken.php?page_id=4 [L,QSA]”。

实际运行 RewriteRule 的第一个 url。我们如何运行最后一个 RewriteRule 代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:57:41.933

在 RewriteRule 上，如果所有 RewriteRule 的条件都正确，则第一个条件正确的 RewriteRule 运行

[http://httpd.apache.org/docs/2.2/rewrite/flags.html#flag_s](http://httpd.apache.org/docs/2.2/rewrite/flags.html#flag_s)

要查看标志列表，请参阅此页面

[http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#RewriteRule](http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#RewriteRule)

# html - 除 IE 外，链接不显示

> ID：14767781
> 
> 赞同：0
> 
> 时间：2013-02-08T07:37:47.440
> 
> 标签：html, css, hyperlink

好吧，现在是深夜，我无法弄清楚这一点。[我在此处](http://bouquetcouture.com/bouquets.php)的页面上有 11 个缩略图图像，它们都是硬编码的（不要问），代码是相同的，除了图像的文件名和附加到每个链接 URL 的查询字符串。

前两个缩略图（左上和右上）在 Firefox、Safari、Chrome 或 Opera 中不作为链接，但在 IE9 中当鼠标悬停时它们会作为链接（尽管在 FF Firebug 中显示链接代码在那里），但其余的都是做。这一定是一些愚蠢的胡言乱语，我太疲惫了，看不到。然而，我一遍又一遍地查看代码，并没有任何问题。

更糟糕的是，如果我复制前两个链接的代码（左上角和右上角的缩略图）并将代码粘贴到前两个条目下方，缩略图会显示并且链接有效！

什么...？

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T07:44:27.990

您的 div #mainText 足够大，可以覆盖前两个缩略图。不同的浏览器要么对此有不同的处理方式，要么与 z-indexing 的不同处理有关，但减少该 div 的高度，或删除高度属性（因此它与需要的一样高）将修复它......

# android - 如何在同一活动中放置和获取价值？

> ID：14767782
> 
> 赞同：0
> 
> 时间：2013-02-08T07:37:49.423
> 
> 标签：android, android-intent

我想在同一个活动中输入和获取价值..我们可以这样做..有可能吗？

我这样写它可能在同一个活动中......

> ```
>  try {
>     int success = json.getInt(TAG_SUCCESS);
>     if (success == 1) {
>         System.out.println("Success");
>         groups = json.getJSONArray(TAG_GROUP);
>         System.out.println("Result Success+++"+groups);
>          for (int i = 0; i < groups.length();i++) {
>         JSONObject c = groups.getJSONObject(i);
>         String question = c.getString(TAG_QUES);
>         System.out.println("Checking ::"+question);
>         ques1.add(question);
>         String questionid = c.getString(TAG_QUESID);
>         System.out.println("Checking ::"+questionid);
>         id=questionid;
>         quesid.add(questionid);
>          }
>     } else {
>         showAlert();
>     }
> } catch (JSONException e) {
>     System.out.println("Error "+e.toString());
> }
>     List<NameValuePair> params1 = new ArrayList<NameValuePair>();
>     params1.add(new BasicNameValuePair("questionid", questionid)); // here i want to pass the questionid
>     json = jsonParser.makeHttpRequest(url_get_ansurl, "GET", params1);
>     System.out.println("ques value got");
>     Log.d("All Groups: ", json.toString());
>     System.out.println("question");
>     try {
>     int success = json.getInt(TAG_SUCCESS);
>     System.out.println("Success");
>     if (success == 1) {
>         System.out.println("Success");
>         groups = json.getJSONArray(TAG_GROUP);
>         System.out.println("Result Success+++"+groups);
>          for (int i = 0; i < groups.length();i++) {
>         JSONObject c = groups.getJSONObject(i);
>             String answer = c.getString(TAG_ANSW);
>             System.out.println("Checking ::"+answer);
>             answ1.add(answer);
>          }
>     } else {
>         showAlert();
>     }
> } catch (JSONException e) {
>     System.out.println("Error "+e.toString());
> }
> protected void onPostExecute(String file_url) {
>     pDialog.dismiss();
>  ques1=new ArrayList<String>(new ArrayList<String>(ques1));
>     //  j=0;
>     TextView txtque = (TextView) findViewById(R.id.que_txt); 
>     txtque.setText(ques1.get(j)); 
> ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:53:59.847

我想sharepreferences会解决这个问题

```
 SharedPreferences.Editor editor = app_preferences.edit();
    editor.putInt("counter", counter);
    editor.commit();

    SharedPreferences app_preferences = 
        PreferenceManager.getDefaultSharedPreferences(this);
    int counter = app_preferences.getInt("counter", 0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:48:26.600

用这个...

```
Intent i = new Intent(FirstScreen.this, SecondScreen.class);   
String keyIdentifer  = null;
i.putExtra("STRING_I_NEED", strName);
Then, to retrieve the value try something like:

String newString;
if (savedInstanceState == null) {
    extras = getIntent().getExtras();
    if(extras == null) {
        newString= null;
    } else {
        newString= extras.getString("STRING_I_NEED");
    }
} else {
    newString= (String) savedInstanceState.getSerializable("STRING_I_NEED");
} 
```

# android - 如何在android设备的变体位置动态显示自定义对话框

> ID：14767788
> 
> 赞同：1
> 
> 时间：2013-02-08T07:38:07.003
> 
> 标签：android

我正在做一个平板电脑应用程序。我必须显示一个带有主题的自定义对话框`android.R.style.Theme_Translucent_NoTitleBar`。

现在我可以根据需要显示带有视图的对话框（即，数字选择器位于固定位置 - 在屏幕左侧）。

我必须在按钮的单击位置上动态放置相同的对话框。一段时间在屏幕左侧，一段时间在右侧。

很快我们可以说：在屏幕的任何位置。

所以请帮助我任何代码或想法。

# visual-studio-2010 - 在远程服务器中创建一个文件夹并在 vb.net 中复制一个文件

> ID：14767791
> 
> 赞同：0
> 
> 时间：2013-02-08T07:38:14.990
> 
> 标签：visual-studio-2010, networking, vb.net-2010

我尝试在网上搜索了几个小时，但没有得到任何有用的答案。如果可以为我提供完成此操作的代码，那将有很大帮助。

我有一个受密码保护的远程服务器的 IP 地址（它需要用户名和密码才能登录）我需要在 VB.NET 中编写一个代码，在这个远程服务器中创建一个文件夹并从本地服务器复制一个文件（其中代码正在执行）到远程服务器。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T12:06:34.813

这在技术上是不可能的，它是一种黑客攻击的方式。

这就是为什么我们有其他技术来做到这一点，即 FTP、SFTP、Webdav。

我建议你也这样做，使用上述任何一种技术并做你的事情。

# jquery - facybox 中的 Houzz 添加按钮

> ID：14767794
> 
> 赞同：1
> 
> 时间：2013-02-08T07:38:21.050
> 
> 标签：jquery, fancybox

我想在**fancybox**弹出窗口中显示的每个图像上添加“Houzz Add”按钮。我在 beforeShow 函数中放置了 houzz 提供的代码以显示每个图像的链接，但弹出窗口仅显示第一张图像的按钮和其他重定向到 Houzz.com 的简单链接

有什么办法可以在弹出窗口中的每个图像上添加按钮

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T17:59:52.543

您应该能够通过在每次动态创建它们时为每个按钮额外嵌入 SCRIPT 标记来做到这**一点**。这将重新运行将 A 标签转换为 Houzz 按钮的 JavaScript。

Houzz 服务器将通过后端 CURL 请求（类似于 Facebook 的 Like 按钮）验证元数据，因此请确保您的 FancyBox Houzz 按钮指向的链接也将 Houzz 按钮嵌入到它们自己的**静态**HTML 页面中。

希望这可以帮助！

Web 开发人员文档： http: [//www.houzz.com/buttonsAndBadges#houzzbutton](http://www.houzz.com/buttonsAndBadges#houzzbutton)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-02T07:13:42.877

集成社交网站链接的代码也像 facebook、twitter、pinterest 和 houzz 类似的代码也可用于集成其他按钮。

```
beforeShow: function () {
if (this.title) { 
    this.title += '<br />';
    //----Twitter button------//
    this.title += '<a href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-url="' + this.href + '">Tweet</a> ';
    //----pinterest (pin it)------//
    this.title += '<a class="pin-it-button" href="http://pinterest.com/pin/create/button/?url='+encodeURIComponent(document.location.href)+'&media='+encodeURIComponent('http://absoluteimagepath.com/path/to/image/'+this.href)+'&description=Pin from ScottGale.com">'+'<img title="Pin It" src="http://assets.pinterest.com/images/PinExt.png" alt="" border="0" /></a>';
  //----Facebook like------//
    this.title += '<iframe src="//www.facebook.com/plugins/like.php?href='+this.href+'&amp;send=false&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:110px; height:23px;" allowTransparency="true"></iframe>';
  //----Houzz button------//
    this.title += '<iframe width="48" scrolling="no" height="20" frameborder="0" style="border: medium none;" src="http://www.houzz.com/buttonWidget/1?url='+this.href+'&img='+this.href+'&title=YourTitle&hzid=YourHouzzID&ref=http://yourdomain"></iframe>';
} 
```

}

# jsp - 关于 JSP 设置属性

> ID：14767802
> 
> 赞同：0
> 
> 时间：2013-02-08T07:38:44.843
> 
> 标签：jsp

我写了以下代码：

### 动物.java

```
package com.MyPack;

public class Animal 
{
    private String name;

    /* getter and setter methods */
} 
```

### 动物园.java

```
package com.MyPack;

public class Zoo 
{   
    private String address;
    private Animal animal;

    /* Getter and Setter Method */
} 
```

### JSP

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
        <title>Insert title here</title>
    </head>
    <body>
        <jsp:useBean id="animal" class="com.MyPack.Animal" scope="request">
            <jsp:setProperty name="animal" property="name" value="Tiger" />
        </jsp:useBean>

        <jsp:useBean id="zoo" class="com.MyPack.Zoo" scope="request">
            <jsp:setProperty name="zoo" property="address" value="Bannerghatta" />
            <jsp:setProperty name="zoo" property="animal" value="${animal}" />
        </jsp:useBean>

        <jsp:getProperty name="zoo" property="${zoo.address}" />
    </body>
</html> 
```

我正在使用 EL 打印地址，我正在尝试使用动物类打印名称，`${zoo.animal.name}`但它会导致错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:30:59.500

我认为代码：

```
<jsp:getProperty name="zoo" property="${zoo.address}" /> 
```

应该：

```
<jsp:getProperty name="zoo" property="address" /> 
```

此外，我看不到您`${zoo.animal.name}`在 JSP 中的何处编写了 EL，错误堆栈跟踪也会有所帮助。

### 编辑

您不能在不评估表达式`EL`的属性中使用 s ，因为它需要类中属性的实际名称。此外，即使它进行了评估，它的属性属性也将是.`property="${zoo.address}"``Zoo``property="${zoo.address}"``property="Bannerghatta"`

所以我的建议是要么使用`EL`将地址显示为 ( `${zoo.address}`) ，要么使用标准操作将地址显示为`<jsp:getProperty name="zoo" property="address" />`，你不能同时使用两者。

我强烈建议通过以下教程来很好地掌握`EL`JSP 标准操作的概念：

1.  [JSP 和 Java Bean](http://pdf.coreservlets.com/JSP-and-JavaBeans.pdf)
2.  [JSP 表达语言又名 JSP EL](http://pdf.coreservlets.com/JSP-EL.pdf)

# python - 资源的getChild 没有调用twisted

> ID：14767805
> 
> 赞同：1
> 
> 时间：2013-02-08T07:38:52.493
> 
> 标签：python, http, twisted

我不是 python 扭曲的专家，请帮我解决我的问题，当我尝试路径时 getChild 没有调用`localhost:8888/dynamicchild`。甚至将 isLeaf 作为 False 在我的资源中。

根据我的理解，当我尝试`localhost:8888`它应该返回蓝页当然它正在发生但是当我尝试`localhost:8888/somex`语句打印“getChild called”应该打印在屏幕上但现在它没有发生

```
from twisted.web import resource 

from twisted.web import server 
from twisted.internet import reactor

class MyResource(resource.Resource):
    isLeaf=False
    def render(self,req):
        return "<body bgcolor='#00aacc' />"

    def getChild(self,path,request):
        print " getChild called "

r=resource.Resource()
r.putChild('',MyResource())
f=server.Site(r)
reactor.listenTCP(8888,f)
reactor.run() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T11:16:07.020

那是因为它是您发送到 server.Site 构造函数的根资源，它的 getChild 方法被调用。

尝试这样的事情：

```
from twisted.web import resource 

from twisted.web import server 
from twisted.internet import reactor

class MyResource(resource.Resource):
    isLeaf=False

    def __init__(self, color='blue'):
        resource.Resource.__init__(self)
        self.color = color

    def render(self,req):
        return "<body bgcolor='%s' />" % self.color

    def getChild(self,path,request):
        return MyResource('blue' if path == '' else 'red')

f=server.Site(MyResource())
reactor.listenTCP(8888,f)
reactor.run() 
```

请求“/”现在将返回蓝色背景，而其他所有内容都返回“红色”。

# android - 在整个活动期间保持数字键盘打开

> ID：14767806
> 
> 赞同：1
> 
> 时间：2013-02-08T07:38:54.583
> 
> 标签：android, android-edittext, android-keypad

我有一个要求用户输入 PIN 的屏幕。我有 4 个单独的盒子，每个盒子只有一个数字。所以我想在活动的整个生命周期中保持数字键盘打开。我能够在活动开始时强制打开键盘。但是在按下后退按钮时它会被隐藏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:42:23.807

您能否将其设置为清单文件中活动部分的一部分：

```
android:windowSoftInputMode="stateAlwaysVisible" 
```

你可以尝试这样的事情：

```
public class EditView extends EditText {

    public EditView (Context context, AttributeSet attrs) {
        super(context, attrs);
    }
    @Override
    public boolean onKeyPreIme(int keyCode, KeyEvent event) {
        return true;
    }
} 
```

# c# - 如何检查 HtmlElement 是否存在于 HtmlDocument 中

> ID：14767807
> 
> 赞同：0
> 
> 时间：2013-02-08T07:39:10.487
> 
> 标签：c#, html, browser, match

C# - 我正在使用 Web 浏览器控件，因为我的应用程序需要网页 UI，它允许编辑 Html 文件，并且作为项目，将在所有项目页面中搜索当前选择的包含元素。

选择查看任何给定元素的 Outer Html 看起来不错，但任何超过 1 个属性和文本顺序颠倒如下：

从：

```
<a href="Misc/coralifeaqualight.comcoralife-bulbs/" class="link-post-on-header">Coralife Bulbs</a> 
```

至：

```
<a class="link-post-on-header" href="Misc/coralifeaqualight.comcoralife-bulbs/">Coralife Bulbs</a> 
```

所以我需要知道，有没有办法阻止 HtmlElements 反转它们的内容，以便在查看时它仍然与 Html 源匹配，或者有没有一种快速的方法来检查给定 HtmlElement 的整个 HtmlDocument(System.Windows.Forms) 所以没关系？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:15:02.997

这个解决方案不会赢得美容奖，但是......它可以完成这项工作.. 如果我理解你，你想检查 html 元素是否存在于 2 个文档中？也许通过验证属性可以完成这项工作？

```
static bool FindElementsByClassAndHref(HtmlDocument doc, string className, string href)
{
  foreach (HtmlElement e in doc.All)
    if (e.GetAttribute("className") == className && e.GetAttribute("href") == href)
      return true;
} 
```

# c - Libm 没有三角函数

> ID：14767810
> 
> 赞同：3
> 
> 时间：2013-02-08T07:39:27.677
> 
> 标签：c, embedded, gnu, libm

由于缺少 fp 操作单元，特定嵌入式系统上的 libmath 没有类似的功能`sin`。`cos`

是否有一些通过查找表提供功能的库？我实际上并不需要 100% 可靠的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T09:28:10.893

对于没有硬件浮点的目标，更好的方法可能是使用定点和 CORDIC 算法。

Anthony Williams 的[定点数学库](http://www.justsoftwaresolutions.co.uk/news/optimizing-applications-with-fixed-point-arithmetic.html)为标准数学库提供了一个完全类似的数据类型，该数据类型通常比同一目标上的*软件浮点*`fixed`快 5 倍左右。它是一个 C++ 库，但只要您的编译器支持 C++，即使您的其余代码不使用 C++ 特定功能，这也不成问题。在大多数情况下，移植代码以使用此库所需要做的就是将 math.h 替换为 fixed.hpp 并将 type 关键字和type替换。*`float``double``fixed`*

 ** * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T07:48:27.237

根据所需的速度和精度要求，也许您可​​以通过编写程序来创建查找表来创建简单查找表所需的功能。或使用[CORDIC](http://en.wikipedia.org/wiki/CORDIC)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T08:20:13.207

如果您的系统没有库为您提供 sin/cos 函数或内存中的查找表，您可以非常轻松地创建一个。

下一个 matlab 函数将`sin(x)`在 ac header 中为您提供（[0,2*pi] range with 2*pi/100 step）`myheader.h`：

```
step=2*pi/100;
x=[0:step:2*pi];
y=floor(0.5 * 65535 * sin(x));

fd=fopen('myheader.h','wt');
fprintf(fd,'int16_t y[%d]={%g',length(y),y(1));
fprintf(fd,',\n %.9g',y(2:end));
fprintf(fd,'};\n');
fclose(fd); 
```

* * *

标题如下所示：

```
int16_t y[101]={0,
 2057,
 4107,
 6140,
 8149,
 10126,
 12063,
 13952,
 15786,
 17558,
 19260,
 20887,
 22431,
 23886,
 25248,
 26509,
 27667,
 28714,
 29649,
 30466,
 31164,
 31738,
 32187,
 32509,
 32703,
 32767,
 32703,
 32509,
 32187,
 31738,
 31164,
 30466,
 29649,
 28714,
 27667,
 26509,
 25248,
 23886,
 22431,
 20887,
 19260,
 17558,
 15786,
 13952,
 12063,
 10126,
 8149,
 6140,
 4107,
 2057,
 -0,
 -2057,
 -4107,
 -6140,
 -8149,
 -10126,
 -12063,
 -13952,
 -15786,
 -17558,
 -19260,
 -20887,
 -22431,
 -23886,
 -25248,
 -26509,
 -27667,
 -28714,
 -29649,
 -30466,
 -31164,
 -31738,
 -32187,
 -32509,
 -32703,
 -32768,
 -32703,
 -32509,
 -32187,
 -31738,
 -31164,
 -30466,
 -29649,
 -28714,
 -27667,
 -26509,
 -25248,
 -23886,
 -22431,
 -20887,
 -19260,
 -17558,
 -15786,
 -13952,
 -12063,
 -10126,
 -8149,
 -6140,
 -4107,
 -2057,
 -0}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T12:40:01.397

我认为提供这样的库没有意义，因为与编写自己的库相比，设计选择和参数化太多了。我的意思是这些都不是很困难，但不能作为万能的解决方案提供。

*   参数：

    *   sin/cos == (unsigned) vs (signed) 的参数
    *   短，整数，浮点数，定点
    *   范围：有限（mod pi，mod 2pi）
    *   是自变量弧度、度数或其他值（例如 2pi==65536==0）
*   价值

    *   浮点数 vs. 定点数 vs. 缩放整数
    *   仅第一象限，完整或扩展范围（无需模数减少参数）
    *   正弦和余弦，或者只是正弦
*   要求

    *   代码大小
    *   数据大小
    *   执行速度
        *   “恒定”对比
        *   允许有很多变化
    *   精确
        *   最小化一些最小二乘度量
        *   最小化一些最大误差
        *   最小化 1 - sin(x)^2 - cos(x)^2 误差
*   方法

    *   直接 a=LUT[b]
    *   根据象限进行镜像：a=sign(b)*LUT[ b ^ mirror(b)]; // 概念公式
    *   科尔迪克
    *   三阶或五阶泰勒多项式
    *   使用两个 LUT 表增加（角度）精度 LUTA(x)=sin(x); LUTB(x)=sin(x/256) 和角度和的公式

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T12:00:28.583

Jack Ganssle 有一篇关于优化嵌入式系统触发的优秀文章：

[http://www.ganssle.com/approx/approx.pdf](http://www.ganssle.com/approx/approx.pdf)*

# android - 有没有不使用图像识别的简单 AR SDK？

> ID：14767812
> 
> 赞同：0
> 
> 时间：2013-02-08T07:39:37.507
> 
> 标签：android, ios, augmented-reality

我正在寻找一个“基本”AR SDK，它允许我在用户周围绘制图像和 3D 形状（无论他在哪里）。如果 SDK 包含一种简单的方法来检测与形状的交互（例如 onClick），那就更好了。

我在 Android 上从头开始制作了一个项目，但还有很多工作要做，之后我需要在 iOS 上做同样的事情......所以这就是我寻找 SDK 或类似项目的原因（无论如何平台）。

我测试了 Metaio，但它非常昂贵，而且对于我的目的来说可能有点矫枉过正，因为它使用 LLA 坐标。

我在 Android 上测试了 DroidAR，但它仅适用于 Android，而且看起来也很重（不需要 GPS）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T05:36:19.803

我真的不确定你真正想要做什么..但是如果你只是在相机上显示图像或 3d 模型而不进行任何检测，你可以很容易地实现这一点，我正在为 Android 解释，你可以将它扩展到 ios 上相同的逻辑。

**第一种方法：**

您必须在您的应用程序中使用 Android 的自定义相机，然后根据您的需要使用任何游戏引擎。我会建议[Jpct-ae](http://www.jpct.net/jpct-ae/)或[Rajawali](http://www.rozengain.com/blog/2011/08/23/announcing-rajawali-an-opengl-es-2-0-based-3d-framework-for-android/) ，它们非常易于集成，可用于 2d 图像和 3d 模型。本[教程](http://www.jpct.net/forum2/index.php/topic,1586.0.html)将解释很多

保持 gl-surface 透明，你可以让模型漂浮在太空中......

**第二种方法：** 要为您的 AR 应用程序添加更多效果，您可以使用传感器值根据设备的移动在 3d 空间中移动模型......它会产生很酷的效果。

使用第一种方法并另外收集传感器值并将该矩阵应用于游戏引擎的 gl 相机..对于传感器值，请遵循[此处](http://www.jpct.net/forum2/index.php/topic,1666.0.html)[的](https://stackoverflow.com/questions/2881128/how-to-use-onsensorchanged-sensor-data-in-combination-with-opengl) 好教程..

我希望这可以帮助你..我很久以前就做过这些，但如果你愿意的话，试着帮忙..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T08:24:53.743

高通的[Vuforia](https://developer.qualcomm.com/mobile-development/mobile-technologies/augmented-reality)怎么样？我能够快速获得一个在其上运行的示例项目。

**编辑**看起来我错了它可以做什么。根据[这个](http://augmentedtomorrow.com/tag/qualcomm/)（有点过时，所以谁知道）Metaio 可能是你唯一的选择。

# php - 简单 html dom url 上的错误

> ID：14767814
> 
> 赞同：1
> 
> 时间：2013-02-08T07:39:45.260
> 
> 标签：php, simple-html-dom

我正在使用简单的 html dom，我遇到了这个问题：

`Warning: file_get_contents(http://forums.xxxxx.co.il/viewtopic.php?f=1015&amp;t=14635609) [function.file-get-contents]: failed to open stream: HTTP request failed! HTTP/1.1 404 Not Found in C:\wamp\www\forums_walla\simple_html_dom.php on line 76`

我认为问题是`&amp;`应该只在哪里`&`？

有谁知道该怎么做？或者应该修复什么？

顺便说一句，代码是这样的：

```
$href1 = "http://forums.xxxx.co.il/".$topic_page_href; // where $topic_page_href contains the link to next page as --> viewtopic.php?f=1015&t=14635609 which was scrapped from a page)
$topic_page = file_get_html($href1); 
```

如果我这样做

```
$href1 = "http://forums.xxxx.co.il/viewtopic.php?f=1015&t=14635609
$topic_page = file_get_html($href1); 
```

一切都很好。

## 从昨天开始，我一直在尝试解决它，但没有。希望有人有解决方案。提前谢谢:)

请问有什么需要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:45:53.597

将字符串送入

```
htmlspecialchars_decode() 
```

[文档在这里](http://www.php.net/manual/en/function.htmlspecialchars-decode.php)

# sql - PostgreSQL: Is it worth preparing a statement that simply calls a stored procedure, passing its parameters

> ID：14767818
> 
> 赞同：4
> 
> 时间：2013-02-08T07:40:06.850
> 
> 标签：sql, postgresql

If we have a prepared statement like:

```
SELECT my_func($1::text, $2::int) 
```

Is there is any gain in speed if I prepare a statement with this call and do the call via the prepared statement.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T09:00:49.393

Let me quote [the docs](http://www.postgresql.org/docs/current/interactive/sql-prepare.html) here:

> Prepared statements have the largest performance advantage when a single session is being used to execute a large number of similar statements. The performance difference will be particularly significant if the statements are complex to plan or rewrite, for example, if the query involves a join of many tables or requires the application of several rules. *If the statement is relatively simple to plan and rewrite but relatively expensive to execute, the performance advantage of prepared statements will be less noticeable.*

Emphasize is mine. I think it clearly states in which conditions `PREPARE` can have benefits.

Still, all languages currently provide a native way to prepare statements ([like PHP](https://stackoverflow.com/questions/1247373/to-use-prepared-statements-by-php-for-postgres)), so the overall machinery is executed for you behind the scenes.

To make it short:

*   if it is a one-timer from the client, execute directly;
*   if it comes from the application and assumes user input, use your platform and it's functionality to prepare for security reasons;
*   if statement is executed many times within a session, use any means (either `PREPARE` or platform's functionality) to prepare for performance reasons.

# java - 比较列表中的对象属性值

> ID：14767821
> 
> 赞同：1
> 
> 时间：2013-02-08T07:40:24.290
> 
> 标签：java, collections

```
Class Order
{
  String  name;
  Order(String n)
   { name = n; }

 //setter and getters of name
}

Order a = new Order("same");
Order b = new Order("same");
Order c = new Order("diff");

List<Order> nameList// a,b,c 
```

我想要

```
seperate list of Orders 
     List<Order> dupList// a,b
     List<Order> nondupList// c 
```

现在我想检查“nameList”的多个订单中是否有相同的名称。

我使用 List 的索引实现了这一点，并与该索引 List Orders 以外的其他索引进行了比较。

但是有没有其他更好的方法来实现这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T08:03:14.530

如果你想使用纯java，将元素添加到一个List中，并`sort`与适当的比较器一起使用。然后遍历列表，跟踪前一个元素，做一个控制中断；换句话说，如果元素与前一个元素相同，则两者都是重复的。如果他们不是（或者是第一个），他们是候选人，您需要等待下一次检查才能找到重复项。

如果不想排序，可以在元素出现时将它们添加到 Set 中；如果在添加元素之前它已经在集合中，则可以将其添加到重复集合中。您可以在进行时检查两组删除，或者在最后从完整集中删除重复项。您可以使用任何集合，但 Set 更有效，因为它有一个快速的 contains 方法。

如果您可以使用库，您可以只使用 Guava 并将所有内容添加到多集（[http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html](http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html)）然后迭代在多重集上，你有每个元素的计数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T08:02:05.353

可能另一种方法是 - 覆盖 hashCode 方法和 equals 方法。在计算字符串名称时生成 hasCode。

```
public class Order {
    String name;

    public Order(String n) {
        name = n;
    }

    // setter and getters of name
    @Override
    public int hashCode() {
        int h = 0;
        int len = name.length();
        for (int i = 0; i < len; i++)
            h = 31 * h + name.charAt(i);
        return h;
    }
    @Override
    public boolean equals(Object obj) {
        if(obj == null)
            return false;
        else if(this.hashCode() == obj.hashCode())
            return true;
        return false;
    }
} 
```

...

```
List<Order> nameList = ...;// a,b,c
Set<Order> nonDuplicate= new HashSet<Order>(nameList); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T08:16:40.707

您可以使用 Map>，获取给定名称的列表，如果为 null，则创建它并将其放入，在该列表中添加当前顺序。

# asp.net - 将值绑定到gridview内的文本框

> ID：14767824
> 
> 赞同：2
> 
> 时间：2013-02-08T07:40:41.940
> 
> 标签：asp.net, vb.net, gridview, binding, textbox

我在将gridview内的字段值绑定到gridview内的文本框时遇到问题。我打算这样做是为了编辑表格。

我尝试使用 eval 和 bind 来执行此操作，但文本框不会显示值，我完全不知道为什么。

```
<asp:UpdatePanel runat="server">
    <ContentTemplate>
        <asp:GridView ID="gvBS" runat="server" AutoGenerateColumns="false" DataKeyNames="ID" SkinID="gvWithoutWidth">
         <Columns>
            <asp:CommandField ShowEditButton="true" EditImageUrl="~/Images/GridView/gv_edit.png" ButtonType="Image" 
                CancelImageUrl="~/Images/GridView/gv_cancel.png" UpdateImageUrl="~/Images/GridView/gv_update.png"/>
            <asp:TemplateField HeaderText="Sollmonat" HeaderStyle-HorizontalAlign="Left">
                <EditItemTemplate>
                    <asp:TextBox ID="tbSollMonat" runat="server" Text='<%# Eval("SollMonat") %>'></asp:TextBox>
                    <asp:RequiredFieldValidator ID="rfvSollMonat" ValidationGroup="Update" runat="server"
                        ControlToValidate="tbSollMonat" ErrorMessage="Bitte Sollmonat (dd.mm.yyyy) angeben"
                        SetFocusOnError="true">*</asp:RequiredFieldValidator> 
                    <asp:RegularExpressionValidator ID="revSollMonat" ValidationGroup="Update" runat="server"
                        ValidationExpression="^\d+$" ControlToValidate="tbSollMonat">*</asp:RegularExpressionValidator>
                </EditItemTemplate>
                <ItemTemplate>
                    <%# Eval("SollMonat")%>
                </ItemTemplate>
            </asp:TemplateField>
            </Columns>
        </asp:GridView>
    </ContentTemplate>
</asp:UpdatePanel> 
```

问题是它在 ItemTemplate 内工作正常，但在 EditItemTemplate 元素内却不行。真的不知道问题出在哪里。

后面的代码：

```
Sub gvBS_RowEditing(ByVal sender As Object, ByVal e As GridViewEditEventArgs) Handles gvBS.RowEditing
        gvBS.EditIndex = e.NewEditIndex
    End Sub

    Sub gvBS_RowCancelingEdit() Handles gvBS.RowCancelingEdit
        Me.gvBS.EditIndex = -1
        gvBS_DataBind()
    End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:52:04.853

我假设`GridView`进入永远不会编辑模式，因为您没有处理该`RowEditing`事件，或者您`DataBind`在设置`gvBS.EditIndex = e.NewEditIndex;`.

```
<asp:GridView 
    OnRowEditing="gvBS_RowEditing" OnRowCancelingEdit="gvBS_RowCancelingEdit"
    ID="gvBS" runat="server" AutoGenerateColumns="false" 
    DataKeyNames="ID" SkinID="gvWithoutWidth"> 
```

代码隐藏（`BindGrid`是数据绑定网格的方法）：

```
protected void gvBS_RowEditing(object sender, GridViewEditEventArgs e)
{
    gvBS.EditIndex = e.NewEditIndex;
    BindGrid();
}

protected void gvBS_RowCancelingEdit(object sender, GridViewCancelEditEventArgs e)
{
    gvBS.EditIndex = -1;
    BindGrid();
} 
```

您还应该记住仅在第一次加载时对其进行数据绑定，而不是在`ViewState`启用（默认）时连续回发。因此，您可以检查页面的`IsPostBack`属性：

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        BindGrid();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:53:58.647

像这样在 EditItemTemplate 中尝试 Bind 而不是 Eval

```
<asp:UpdatePanel runat="server">
<ContentTemplate>
    <asp:GridView ID="gvBS" runat="server" AutoGenerateColumns="false" DataKeyNames="ID" SkinID="gvWithoutWidth">
     <Columns>
        <asp:CommandField ShowEditButton="true" EditImageUrl="~/Images/GridView/gv_edit.png" ButtonType="Image" 
            CancelImageUrl="~/Images/GridView/gv_cancel.png" UpdateImageUrl="~/Images/GridView/gv_update.png"/>
        <asp:TemplateField HeaderText="Sollmonat" HeaderStyle-HorizontalAlign="Left">
            <EditItemTemplate>
                <asp:TextBox ID="tbSollMonat" runat="server" Text='<%# Bind("SollMonat") %>'></asp:TextBox>
                <asp:RequiredFieldValidator ID="rfvSollMonat" ValidationGroup="Update" runat="server"
                    ControlToValidate="tbSollMonat" ErrorMessage="Bitte Sollmonat (dd.mm.yyyy) angeben"
                    SetFocusOnError="true">*</asp:RequiredFieldValidator> 
                <asp:RegularExpressionValidator ID="revSollMonat" ValidationGroup="Update" runat="server"
                    ValidationExpression="^\d+$" ControlToValidate="tbSollMonat">*</asp:RegularExpressionValidator>
            </EditItemTemplate>
            <ItemTemplate>
                <%# Eval("SollMonat")%>
            </ItemTemplate>
        </asp:TemplateField>
        </Columns>
    </asp:GridView>
</ContentTemplate> 
```

# excel - 对 excel 工作表功能感到困惑 - 如何删除重复项并将非重复项放在新列中

> ID：14767825
> 
> 赞同：0
> 
> 时间：2013-02-08T07:40:45.370
> 
> 标签：excel, excel-2010

我有一个 Excel 表，其中包含*`column - A`*和中的数据*`Column - B`*。但我确信其中*`Column - B`*包含一些数据，这些数据也存在于*`Column - A`*. 在这种情况下，我想从中删除数据*`Column - B`*，这些数据也存在*`Column - A`*。

我尝试了一种方法，它给了我重复的值，将它们放在另一列中。

```
A1: 1   B1:     C1: 3
A2: 2   B2:     C2: 5
A3: 3   B3:     C3: 8
A4: 4   B4:     C4: 2
A5: 5   B5:     C5: 0 
```

使用以下工作表函数：在 B1 中`=IF(ISERROR(MATCH(A1,$C$1:$C$5,0)),"",A1)`，它产生的输出为：

```
A1: 1   B1:     C1: 3
A2: 2   B2: 2   C2: 5
A3: 3   B3: 3   C3: 8
A4: 4   B4:     C4: 2
A5: 5   B5: 5   C5: 0 
```

不知道如何获得以下输出：

```
A1: 1   B1:  8  C1: 3
A2: 2   B2: 10  C2: 5
A3: 3   B3:     C3: 8
A4: 4   B4:     C4: 2
A5: 5   B5:     C5: 0 
```

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:59:22.513

在 B1 中键入并自动填充：`=IF(ISERROR(VLOOKUP(C1,A:A,1,0)),C1,"")`- 这将在 B 中返回所有不在 A 中的值。如果想要相反 - 交换 C1 和“”。

# java - 在 Mac 上的 Java2D 中旋转文本

> ID：14767826
> 
> 赞同：0
> 
> 时间：2013-02-08T07:40:45.460
> 
> 标签：java, text, rotation, graphics2d, java-2d

这是我目前面临的问题：我想使用 Java2D 在 JPanel 上绘制一个字符串。字符串必须旋转用户定义的角度。

在该字符串下，我还以给定的颜色绘制背景以方便阅读（我的 JPanel 上还绘制了许多其他内容）。

在我的 JPanel 的覆盖绘制方法中，我所做的如下：

```
final Graphics2D g2 = (Graphics2D) g.create();

final int textWidth = g.getFontMetrics().stringWidth(textToDraw);
final int textHeight = g.getFontMetrics().getHeight();

g2.translate(pointToDraw.x, pointToDraw.y);
g2.rotate(angle);

g2.setColor(textBackground);
g2.fillRect(deltaX, -textHeight, textWidth, textHeight);

g2.setColor(drawColor);
g2.setFont(font);
g2.drawString(textToDraw, deltaX, deltaY);
g2.dispose(); 
```

这在 linux 上运行良好，但在 Mac OS X（使用 Java 1.6）上，文本显示不正确：文本正确旋转，但在每个字符之后，有一个换行符。

我怎样才能让它在两个平台上工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T10:26:56.973

我认为这不是您想要的解决方案，但是从我能够阅读的所有内容来看，似乎没有更好的解决方案...

问题似乎是 Mac 正在旋转每个字符，而不仅仅是`String`

![在此处输入图像描述](../Images/c3cdae43c2cf3c36447779b34f147467.png)

基本上，我已经作弊了。这会将文本呈现为`BufferedImage`（您应该仅在属性更改时创建图像，不像我，我已经在`paint`方法中完成了它）然后旋转图像......

```
public class RotateText {

    public static void main(String[] args) {
        new RotateText();
    }

    public RotateText() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Test");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new TestPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class TestPane extends JPanel {

        private String textToDraw = "Stack Overflow";
        private double angle = 90;
        private Color drawColor = Color.BLACK;

        public TestPane() {
            Timer timer = new Timer(50, new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    angle += 2;
                    repaint();
                }
            });
            timer.setRepeats(true);
            timer.setCoalesce(true);
            timer.start();
        }

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(200, 200);
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);
            final Graphics2D g2 = (Graphics2D) g.create();

            FontMetrics fm = g2.getFontMetrics();

            int textWidth = fm.stringWidth(textToDraw);
            int textHeight = fm.getHeight();

            BufferedImage img = new BufferedImage(textWidth, textHeight, BufferedImage.TYPE_INT_ARGB);
            Graphics2D ig = img.createGraphics();
            ig.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
            ig.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
            ig.setColor(drawColor);
            ig.drawString(textToDraw, 0, fm.getAscent());
            ig.dispose();

            int x = (getWidth() - textWidth) / 2;
            int y = (getHeight() - textHeight) / 2;

            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
            g2.setTransform(AffineTransform.getRotateInstance(Math.toRadians(angle), getWidth() / 2, getHeight() / 2));
            g2.drawImage(img, x, y, this);
            g2.dispose();
        }

    }

} 
```

# android - 如何像卡拉 OK 应用程序一样从歌曲中删除声音或人声？

> ID：14767831
> 
> 赞同：3
> 
> 时间：2013-02-08T07:40:59.673
> 
> 标签：android, voice

我正在做一个应用程序只是卡拉 OK 应用程序。过去一周我一直在摸索如何从歌曲中删除声音或人声，并像卡拉 OK 应用程序一样在歌曲中添加我们的声音......请帮助我。

# javascript - 单击切换按钮时如何更改背景颜色？

> ID：14767835
> 
> 赞同：1
> 
> 时间：2013-02-08T07:41:12.257
> 
> 标签：javascript, jquery, css

我需要帮助 ：

单击任何切换按钮时遇到问题，我希望它更改背景颜色，再次单击时，它必须返回原始背景颜色。您的帮助将不胜感激。

```
function createButtons(tbID, tbClass, tbType, tbValue, onClick) {
    return '\n<input ' 
            + (tbID ? ' id=\'' + tbID + '\'' : '')
            + (tbClass ? ' class=\'' + tbClass + '\'' : '')
            + (tbType ? ' type=\'' + tbType + '\'' : '')
            + (tbValue ? ' value=\'' + tbValue + '\'' : '')
            + (onClick ? ' onclick=\'' + onClick + '\'' : '')
            + '>';
}
function DisplayButtons(cableData) {
    var newContent = '';
    $.each(cableData,

    function (i, item) {
        function toggle() {
            $(this).clicked ? $("#tb").addClass("btnColor") : $(this).removeClass("btnColor");
            $("#tb").toggleClass("btnColorR");
        }
        newContent += createButtons("tb" + item.CommonCable, null, "submit", item.CommonCable,
            ' alert("clicked")');
    });
    $("#Categories").html(newContent);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:49:39.417

您的按钮上需要一个单击事件侦听器。每当单击按钮时，toggleClass() 将在类*normal*和*active*之间切换，每个类都包含不同的背景颜色。

根据您的评论，您似乎是根据数据库中的值动态创建这些按钮，因此您不会事先知道按钮的 ID。对于这种情况，不要为特定按钮（引用 id）创建单击事件侦听器，而是为页面上的所有按钮创建事件`$('input[type=button]').click(function () {...`。

**HTML：**

```
<!-- 
    These buttons were generated dynamically from values stored in a database 
    I won't know their ids
-->
<input type="button" name="btn_1_from_db" value="Toggle Color1" />    
<input type="button" name="btn_2_from_db" value="Toggle Color2" /> 
<input type="button" name="btn_3_from_db" value="Toggle Color3" /> 
<input type="button" name="btn_4_from_db" value="Toggle Color4" /> 

<div id="target" class="normal">
   My color will change
</div> 
```

**CSS**

```
.normal {
    background-color: green;
}

.active {
   background-color: red;
} 
```

**Javascript：**

```
$(document).ready(function () {

    // If any button is clicked, toggle its assigned class (changes the color)
    $('input[type=button]').click(function () {
        $('#target').toggleClass('active');
    });
}); 
```

示例：http: [//jsfiddle.net/EkAAh/](http://jsfiddle.net/EkAAh/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:51:38.900

试试你的代码

```
function createButtons(tbID, tbClass, tbType, tbValue, onClick) {
    return '\n<input ' 
            + (tbID ? ' id=\'' + tbID + '\'' : '')
            + (tbClass ? ' class=\'' + tbClass + '\'' : '')
            + (tbType ? ' type=\'' + tbType + '\'' : '')
            + (tbValue ? ' value=\'' + tbValue + '\'' : '')
            + (onClick ? ' onclick=\'toggle(this);' + onClick + '\'' : '')
            + '>';
}
function toggle(ths) {
    $(ths).toggleClass("btnColor");
    $("#tb").toggleClass("btnColorR");
}
function DisplayButtons(cableData) {
    var newContent = '';
    $.each(cableData,

    function (i, item) {
        newContent += createButtons("tb" + item.CommonCable, null, "submit", item.CommonCable,
            ' alert("clicked")');
    });
    $("#Categories").html(newContent);
} 
```

# c++ - C++ 运算符重载：调用默认函数

> ID：14767836
> 
> 赞同：1
> 
> 时间：2013-02-08T07:41:15.467
> 
> 标签：c++, operator-overloading

每次调用重载运算符时是否可以以某种方式调用默认函数？例如，您有一个包含以米或码为单位的值的类，并且您希望在应用重载运算符之前检查它们是否具有相等的单位。现在我`checkCompatibility()`在每个重载的运算符定义中都使用了一个 -function，但是如果这对于任何重载的二进制操作都会自动发生，那将会很方便。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:43:12.923

没有这样的功能，但[Boost.Units](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_units.html)旨在解决单位转换问题（在编译时）。您的函数将采用`quantity<length>`as 参数，并且库确保传入的任何内容都兼容并处理单位转换。

# forms - 如何获取实体或将变量传递给 Symfony2 树枝表单小部件？

> ID：14767837
> 
> 赞同：7
> 
> 时间：2013-02-08T07:41:19.073
> 
> 标签：forms, variables, twig, symfony-2.1

在我的*edit.html.twig 中*，我有：

```
{% form_theme edit_form 'MyBundle:Entity:form.html.twig' %}
{% set img_src = asset('120x100.jpg') %}
{{ dump(img_src) }}
{{ dump(entity) }}
{{ form_widget(edit_form, {'form_type': 'horizontal', 'img_src': img_src }) }} 
```

我有**img_src**和**实体**转储没有问题。
在*form.html.twig*我有：

```
{% extends 'MyBundle:Form:bootstrap.html.twig' %}
{% block _entity_field_widget %}
    {{ dump(img_src) }}
    {{ dump(entity) }}
    {% set type = 'hidden' %}
    {{ block('form_widget_simple') }}
{% endblock _channel_media_widget %} 
```

*bootstrap.html.twig*只是一个引导的 *form_div_layout.html.twig*
而在那个小部件中我没有**img_src**也没有**entity**。
任何想法如何在小部件中获取实体？它应该传递给表单小部件还是有其他方法？我究竟做错了什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-08T07:47:31.667

每个 symfony 表单类型都扩展 AbstractType 类。

AbstactType 类有方法：

```
public function buildView(FormView $view, FormInterface $form, array $options)
{
    $view->set('img_src', '120x100.jpg');
    $view->set('my_variable', $foo);

} 
```

您可以在表单类型上创建此方法，然后在树枝中创建下一个方法：

```
{{ asset(img_src) }} 
```

# jquery - 未附加到正确 div 和 div 切换的注释会导致跳转到页面顶部

> ID：14767839
> 
> 赞同：0
> 
> 时间：2013-02-08T07:41:21.870
> 
> 标签：jquery

过去几天我一直在研究评论系统，但遇到了几个问题：

1.  消息评论未附加到正确的 div - 我如何将评论附加到正确的 div，然后创建一个新的 div 以允许进行另一条评论

2.  每当用户点击页面下方的元素的“评论”链接时，他们就会被移动到页面顶部，这会导致混乱

我该如何解决这些问题？

我在这里发布了我的系统演示，因为有相当多的代码要经过：http: [//jsfiddle.net/BQ84D/3/](http://jsfiddle.net/BQ84D/3/)

这是相关的JS代码：

```
$(document).ready(function () {
    $('.comment_button').click(function () {
        var ID = $(this).attr("id");
        var comment = $("#ctextarea" + ID).val();
        var dataString = 'comment=' + comment + '&msg_id=' + ID;
        if (comment.match(/^\s*$/)) {
            $(function () {
                $("#dialog-message2").dialog({
                    modal: true,
                    buttons: {
                        Ok: function () {
                            $(this).dialog("close");
                        }
                    }
                });
            });
        } else {
            var stuff = '<div class="stcommentbody" id="stcommentbody"><div class="stcommentimg"><img src="sri.jpg" class="small_face"/></div> <div class="stcommenttext">' + comment + '<div class="stcommenttime"></div> </div></div>';
            $("#commentload" + ID).append(stuff);
            $("#ctextarea" + ID).val('');
            $("#ctextarea" + ID).focus();
        }
        return false;
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T08:17:36.117

这是一个演示。 [http://jsfiddle.net/gxELB/](http://jsfiddle.net/gxELB/)

我添加了以下代码以在评论框之前插入评论

```
$('<div class="commentcontainer" id="commentload5"><div class="stcommentbody" id="stcommentbody5"><div class="stcommentimg"><img src="" class="small_face"></div><div class="stcommenttext">    <b>Test</b>&nbsp;' + comment + '<div class="stcommenttime">8 days ago</div></div></div></div>').insertBefore('#commentbox' + ID); 
```

我还添加了以下代码来防止表单提交，以便演示工作。

```
$('form').submit(function (e) {
    e.preventDefault();
}); 
```

为了解决问题 #2，我删除了 href="#" 属性。你也可以做一个 e.preventDefaut() 来解决这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T08:14:44.153

试试[这个小提琴](http://jsfiddle.net/BQ84D/4/)

`Point 1.`

我认为您只有一个 div`commentload`在小提琴中。

`Point 2.`

```
$("[id^='commentlink']").click(function (e) {
    e.preventDefault(); // <--prevent the default behavior clicked link
}); 
```

如果您`.preventDefault()`在所有单击的链接中或使用上述链接，则每当单击 id 开头的链接时页面都不会跳转到顶部`commentlink`

# performance - 如何在Oracle中查找存储过程的成本并对其进行优化

> ID：14767842
> 
> 赞同：1
> 
> 时间：2013-02-08T07:41:33.557
> 
> 标签：performance, oracle, stored-procedures, plsql, query-optimization

任何人都可以让我知道是否有任何方法可以找出 Oracle 中存储过程的成本？如果没有直接的方法，我想知道任何替代品。
我发现成本的方法是自动跟踪存储过程中使用的所有查询，然后根据查询执行的频率估计 proc 成本。
除此之外，我想要优化我的存储过程的建议，尤其是下面给出的查询。
过程逻辑：
下面是我的存储过程中用作游标的动态 sql 查询。此游标在循环内打开并获取。我获取信息并将它们放入一个可变数组中，对数据进行计数，然后将其插入到表中。
我的目标是找出 proc 的成本以及优化 sp。

```
SELECT DISTINCT acct_no    
FROM raw
WHERE 1=1
AND code = ''' || code ||
''' AND qty       < 0  
AND acct_no 
IN (SELECT acct_no FROM ' || table_name || ' WHERE counter = 
(SELECT MAX(counter) FROM ' || table_name || ')) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T09:55:12.470

分析 SQL 和 PLSQL 性能的最佳工具之一是本机[SQL 跟踪](http://docs.oracle.com/cd/E11882_01/server.112/e16638/sqltrace.htm#PFGRF01020)。

1.  在会话中启用跟踪：

    ```
    SQL> alter session set SQL_TRACE=TRUE;

    Session altered 
    ```

2.  运行你的程序

3.  退出您的会话

4.  导航到您的服务器[`udump`](http://docs.oracle.com/cd/E11882_01/server.112/e25513/initparams265.htm#REFRN10229)目录并找到您的跟踪文件（通常是最新的）

5.  [运行 tkprof](http://docs.oracle.com/cd/E11882_01/server.112/e16638/sqltrace.htm#i4191)

这将生成一个文件，其中包含所有语句的列表，其中包含大量信息，包括每个语句的执行次数、查询计划和统计信息。这比为每个选择手动运行计划更加详细和精确。

如果您想优化过程的性能，您通常会按照执行（使用[`sort=EXEELA`](http://docs.oracle.com/cd/E11882_01/server.112/e16638/sqltrace.htm#PFGRF94987)）或获取 SQL 的时间对跟踪文件进行排序，并尝试优化最有效的查询。

您还可以在步骤 1 中使用[以下命令使跟踪文件记录等待事件：](http://docs.oracle.com/cd/E11882_01/server.112/e16638/sqltrace.htm#PFGRF94998)

```
ALTER SESSION SET EVENTS '10046 trace name context forever, level 8'; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T11:13:09.257

找出存储过程的成本（执行时间）的方法是使用分析器。11g 引入了高度整洁的 Hierarchical Profiler。 [了解更多](http://docs.oracle.com/cd/E11882_01/appdev.112/e25518/adfns_profiler.htm#ADFNS023.)。

在 11g 之前，只有 DBMS_PROFILER，这已经足够好了，尤其是当您的存储过程不使用其他模式中的对象时。 [了解更多](http://docs.oracle.com/cd/B19306_01/appdev.102/b14261/tuning.htm#sthref2172)。

跟踪有助于识别性能不佳的 SQL。Profiler 可以很好地识别存储过程的 PL/SQL 元素的成本。如果您的 proc 有一些不读取或写入表的昂贵计算元素，那么这些元素将不会显示在 SQL 跟踪中。

同样，如果您有一个经过良好调整的 SQL 语句，但使用不当，ia profiler run 可能比跟踪更有帮助。我的意思的一个例子是在游标循环中重复执行相同的 SELECT 语句：我知道这不是你正在做的，但它已经足够接近了。

* * *

显然，分层分析器 DBMS_HPROF 默认安装在 11g 中，但 DBA 必须向想要使用它的开发人员授予一些权限。 [了解更多](http://www.oracle-base.com/articles/11g/plsql-hierarchical-profiler-11gr1.php)。

要在 10g（或更早版本）中安装 DBMS_PROFILER，DBA 必须运行此脚本：

```
$ORACLE_HOME/rdbms/admin/proftab.sql 
```

一定要获得报告基础设施：

```
$ORACLE_HOME/plsql/demo/profsum.sql 
```

（此脚本的名称或位置在早期版本中可能有所不同）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-09T22:41:01.847

简单的方法是执行该过程，然后查询 v$sql。如果你想要一个小提示让你的生活更轻松（不仅仅是包）在过程中的查询中添加一个空白注释，比如

```
select /* BIG DADDY */ * from dual; 
```

然后查询v$sql如下

```
select * from v$sql where sql_text like '%BIG DADDY%'; 
```

最好的方式绝对是*@Vincent Malgrat*建议的方式。

祝你好运。

# php - PHP 或 Processmaker 中的会话超时

> ID：14767846
> 
> 赞同：1
> 
> 时间：2013-02-08T07:41:35.740
> 
> 标签：php, session

如何在 php 或 processmaker(BPM) 中进行会话超时？

我参考了大多数论坛和维基，但这并没有解决我的问题。

请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T15:07:09.733

在 ProcessMaker 上，您必须更改**php.ini**上的以下参数才能修改会话超时

*   session.gc_maxlifetime
*   session.cache_expire
*   session.cache_limiter

这适用于版本**2.5RC1（Release Candidate）**，可在[ProcessMaker sourceforge 页面上下载](http://sourceforge.net/projects/processmaker/files/ProcessMaker/2.5/2.5-RC1/)

希望这也对您有所帮助。

[加工制造者](/questions/tagged/processmaker "显示标记为“流程制造者”的问题")

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:46:07.100

存储用户最后一次发出请求的时间

```
<?php
  $_SESSION['timeout'] = time();
?> 
```

在随后的请求中，检查他们多久以前提出过他们的上一个请求（本例中为 10 分钟）

```
<?php
  if ($_SESSION['timeout'] + 10 * 60 < time()) {
     // session timed out
  } else {
     // session ok
  }
?> 
```

[从这里](https://stackoverflow.com/questions/3068744/php-session-timeout)提取

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T07:47:01.003

这在上一篇文章中有很好的解释。请参阅下面的链接[PHP 会话超时](https://stackoverflow.com/questions/3068744/php-session-timeout)

和

[如何在 30 分钟后使 PHP 会话过期？](https://stackoverflow.com/questions/520237/how-do-i-expire-a-php-session-after-30-minutes)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T08:01:02.137

在 php 脚本的开头包含此代码：

```
<?php

   if(!isset($_SESSION)){@session_start();}

   if (isset($_SESSION['timeout']) and $_SESSION['timeout'] + 1800 < time()) { 

      session_unset();
      session_destroy();

   } else {

      $_SESSION['timeout'] = time();      

   }

?> 
```

第一行检查是否有会话，如果没有会话则创建它。

session_start() 前面的@ 符号是为了抑制 session_start() 可能抛出的任何警告或通知。这段代码根本没有什么重要的，你可以删除它。

下一行检查 $_SESSION['timeout'] 变量是否存在，以及它是否包含从当前时间到过去 30 分钟以上的值。

第一次运行脚本时它不会存在，因此如果您在它不存在时检查它的值，如果在您的 php.ini 文件中启用了它，它将给您一个通知或警告消息。

如果它不存在，我们跳到 else 并创建它，然后添加当前 time()。

现在 1800 的值是以秒为单位的 30 分钟。30 * 60 是另一种常见的写法，以使其更易于阅读。

如果 if 为真，则用户已超过 30 分钟处于非活动状态。如果小于 30 分钟或脚本第一次运行，它将跳到 else 并更新超时变量。

# ios - 如何向 UITableViewCell 添加自定义分隔符？

> ID：14767847
> 
> 赞同：12
> 
> 时间：2013-02-08T07:41:40.043
> 
> 标签：ios, objective-c

请抽出时间，因为这是一个很长的解释

我有一个`UIViewController`由 a`UIButton`和 a组成的 a ，它在按钮的事件中`UITableView`加载不同类型的s和`UITableViewCell`标识符。我正在使用故事板。`Cell1``Cell2``touchUpInside`

两个电池的隔板都是定制的。

`Cell1`有一个分隔符，占据单元格的整个宽度和单元格底部的 1 个像素高度。

而`Cell2`有一个分隔符，它与单元格的偏移量为 5 个像素，左右都有。

每次单击外部的按钮时`tableView`，都会`tableViewCell`根据单元格标识符交换 s。

最初是`tableView`占据了Cell1的整个宽度，`viewController`由Cell1组成，但是点击了按钮，`tableViewCell`s变成了Cell2并改变了frame `tableView`，宽度减少了10，x-origin增加了5。

但是当这种情况发生时，分隔符`Cell2`距离右侧的单元格 5 像素，但左侧的距离为 5 像素。这发生在所有`Cell2`加载数据的单元格中，并且没有数据的单元格会适当地更改框架。

但之后的单元格的宽度为`Cell1`（较大的宽度）

```
-(void)setSeperatorStyleForTableView :(UITableViewCell *)cell //this is called in cellForRowAtIndex 
{
   //cell- type of cell(Cell1 or Cell2)

     CGRect seperatorFrame;
    UIImageView *seperatorImage;

    seperatorFrame = [self setSeperatorFrame:cell];

    if(firstCellToBeLoaded)//BOOL used to change the button text and load appropriate cells
    {
        seperatorImage = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"table_row         
                                                                            2.png"]];
    }
    else
    {

        seperatorImage = [[UIImageView alloc] initWithImage:[UIImage   
                                                  imageNamed:@"table_row.png"]];
    }
    seperatorImage.frame = seperatorFrame;
    seperatorImage.autoresizingMask = YES;
    [cell.contentView addSubview:seperatorImage];

}

//set the customized separator frame

-(CGRect)setSeperatorFrame :(UITableViewCell *)cell
{

    CGRect seperatorFrame;
    seperatorFrame.size.height = 1.0;
    seperatorFrame.origin.y = cell.frame.origin.y + (cell.frame.size.height - 1.0);

    if(firstCellToBeLoaded)
    {
        seperatorFrame.origin.x = cell.frame.origin.x ;
        seperatorFrame.size.width = cell.frame.size.width;
    }
    else
    {
        seperatorFrame.origin.x = cell.frame.origin.x + 5.0;
        seperatorFrame.size.width = cell.frame.size.width -10.0;

    }

    return seperatorFrame;
} 
```

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-02-08T08:25:54.073

您可以添加`tableView`标准分隔线，并在每个单元格的顶部添加您的自定义线。

在以下代码中更改设置分隔线的**高度/宽度/颜色/图像。**`UIView`

添加自定义分隔符的最简单方法是添加简单`UIView`的 1px 高度：

```
UIView* separatorLineView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 1)];/// change size as you need.
separatorLineView.backgroundColor = [UIColor grayColor];// you can also put image here
[cell.contentView addSubview:separatorLineView]; 
```

**此代码可能会解决您的问题:)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T08:18:40.787

正确的方法是在单元格类中使用分隔符，如果您没有在其中添加分隔符图像变量，则子类 UITableViewCell 并且在每个单元格创建时您可以只更改图像和框架，而不是在每个单元格上添加重绘。如果您需要此代码，我也可以提供。目前，当单元格被重绘时，它已经有你上次添加的图像，而你只是再次添加它，要么在 -prepareForReuse 方法中删除它，要么按照我上面解释的那样做。

```
***** Custom Cell *****
//
//  CustomCell.m
//  Custom
//
//  Created by Syed Arsalan Pervez on 2/8/13.
//  Copyright (c) 2013 SAPLogix. All rights reserved.
//

#import "CustomCell.h"

@implementation CustomCell

- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        // Initialization code
        _separatorImage = [[UIImageView alloc] initWithFrame:CGRectZero];
        [[self contentView] addSubview:_separatorImage];
    }
    return self;
}

- (void)prepareForReuse
{
    _separatorImage.image = nil;
}

- (void)dealloc
{
    [_separatorImage release];
    [super dealloc];
}

@end 
```

在视图控制器中使用上述单元格。

```
***** Test View Controller *****
//
//  TestViewController.m
//  Custom
//
//  Created by Syed Arsalan Pervez on 2/8/13.
//  Copyright (c) 2013 SAPLogix. All rights reserved.
//

#import "TestViewController.h"
#import "CustomCell.h"

@interface TestViewController ()

@end

@implementation TestViewController

- (void)viewDidLoad
{
    [self.tableView setSeparatorStyle:UITableViewCellSeparatorStyleNone];

#warning TODO: set the image name here
    _separatorImage1 = [[UIImage imageNamed:@""] retain];
    _separatorImage2 = [[UIImage imageNamed:@""] retain];
}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return 2;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *_identifier = @"CustomCell";
    CustomCell *cell = [tableView dequeueReusableCellWithIdentifier:_identifier];
    if (!cell)
    {
        cell = [[[CustomCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:_identifier] autorelease];
    }

    //Set Separator Image Here
    //Preload the image so it doesn't effect the scrolling performance
    CGRect frame = cell.contentView.frame;
    switch (indexPath.row)
    {
        case 0:
            cell.separatorImage.image = _separatorImage1;
            cell.separatorImage.frame = CGRectMake(0, CGRectGetMaxY(frame)-1, frame.size.width, 1);
            break;
        case 1:
            cell.separatorImage.image = _separatorImage2;
            cell.separatorImage.frame = CGRectMake(frame.origin.x+5, CGRectGetMaxY(frame)-1, frame.size.width-10, 1);
            break;
    }

    return cell;
}

- (void)dealloc
{
    [_separatorImage1 release];
    [_separatorImage2 release];

    [super dealloc];
}

@end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-19T22:25:36.853

我这样做...希望这可能会有所帮助。

```
//
//  UITableViewCell+MyAdditions.h
//
//  Created by Roberto O. Buratti on 19/02/14.
//

#import <UIKit/UIKit.h>

@interface UITableViewCell (MyAdditions)

@property (nonatomic,assign) UITableViewCellSeparatorStyle cellSeparatorStyle;
@property (nonatomic,strong) UIColor *cellSeparatorColor;

@end

//
//  UITableViewCell+MyAdditions.m
//
//  Created by Roberto O. Buratti on 19/02/14.
//

#import "UITableViewCell+MyAdditions.h"

NSString *const kUITablewViewCellSeparatorLayerName = @"kUITablewViewCellSeparatorLayerName";

@implementation UITableViewCell (MyAdditions)

-(CALayer *)separatorLayer
{
    for (CALayer *sublayer in self.layer.sublayers)
    {
        if ([sublayer.name isEqualToString:kUITablewViewCellSeparatorLayerName])
            return sublayer;
    }
    return nil;
}

-(CALayer *)newSeparatorLayer
{
    CALayer *separatorLayer = [CALayer layer];
    separatorLayer.name = kUITablewViewCellSeparatorLayerName;
    separatorLayer.frame = CGRectMake(0, self.bounds.size.height - 1, self.bounds.size.width, 1);
    separatorLayer.backgroundColor = [UIColor whiteColor].CGColor;
    [self.layer addSublayer:separatorLayer];
    return separatorLayer;
}

-(UITableViewCellSeparatorStyle)cellSeparatorStyle
{
    CALayer *separatorLayer = [self separatorLayer];
    if (separatorLayer == nil)
        return UITableViewCellSeparatorStyleNone;
    else
        return UITableViewCellSeparatorStyleSingleLine;
}

-(void)setCellSeparatorStyle:(UITableViewCellSeparatorStyle)separatorStyle
{
    CALayer *separatorLayer = [self separatorLayer];
    switch (separatorStyle)
    {
        case UITableViewCellSeparatorStyleNone:
            [separatorLayer removeFromSuperlayer];
            break;
        case UITableViewCellSeparatorStyleSingleLine:
            if (separatorLayer == nil)
                separatorLayer = [self newSeparatorLayer];
            break;
        default:
            @throw [NSException exceptionWithName:NSStringFromClass([self class]) reason:@"Unsupported separatorStyle" userInfo:nil];
            break;
    }
}

-(UIColor *)cellSeparatorColor
{
    CALayer *separatorLayer = [self separatorLayer];
    return [UIColor colorWithCGColor:separatorLayer.backgroundColor];
}

-(void)setCellSeparatorColor:(UIColor *)separatorColor
{
    CALayer *separatorLayer = [self separatorLayer];
    if (separatorLayer == nil)
        separatorLayer = [self newSeparatorLayer];
    separatorLayer.backgroundColor = separatorColor.CGColor;
}

@end 
```

现在你可以做类似的事情

```
UITableViewCell *cell = ...
cell.cellSeparatorStyle = UITableViewCellSeparatorStyleSingleLine;
cell.cellSeparatorColor = [UIColor orangeColor]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-26T21:08:44.280

正如其他人所说，通常有两种方法可以做到这一点，要么创建一个1px`CALayer`的`UIView`分隔符，要么将其添加到`contentView`.

随着时间的推移，我看到多个项目以不同的方式执行此操作，有时甚至在*同一个*项目中有多种不同的方式。由于单元重用，也很容易引入错误，而且为了正确渲染像素线，必须结合屏幕比例：`(1.0 / [UIScreen mainScreen].scale)`.

我创建了一个[库](https://github.com/kgaidis/KGViewSeparators)，将其简化为一个方法类，不需要子类化。 [https://github.com/kgaidis/KGViewSeparators](https://github.com/kgaidis/KGViewSeparators)

**目标-C**：

`[view kg_show:YES separator:KGViewSeparatorTop color:[UIColor blackColor] lineWidth:KGViewSeparatorLineWidth(1.0) insets:UIEdgeInsetsMake(0, 15.0, 0, 15.0)];`

**迅速：**

`view.kg_show(true, separator: .Bottom, color: UIColor.blackColor(), lineWidth: KGViewSeparatorLineWidth(1.0), insets: UIEdgeInsetsZero)`

# jquery - JQGrid 删除错误模型弹出窗口

> ID：14767852
> 
> 赞同：1
> 
> 时间：2013-02-08T07:42:03.637
> 
> 标签：jquery, jqgrid, validation

我正在使用 JQGrid 编辑规则来验证 JQGrid 单元格中的数据。现在，如果输入数据错误并且不允许添加行，它会显示模型弹出窗口。我想要模型弹出窗口以外的所有功能。我只想在页面上的自定义错误 div 中显示错误。我不想弹出模型。但同样，所有其他事情都应该是相同的，就像不应该添加错误行一样。这是 我正在使用的所有编辑规则的[链接。](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules)我正在使用默认的一个和几个自定义函数。所有规则都按要求工作。

如果需要任何进一步的信息，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T09:23:19.940

内联编辑目前不支持任何其他验证消息作为弹出对话框。我同意这是一个问题，但我无法为您提供任何*通用*的好解决方案。

例如，您可以做的是将原始实现覆盖（子类化）`$.jgrid.info_dialog`到您的自定义实现（有关此类技巧的示例，请参见[答案）。](https://stackoverflow.com/a/12230794/315935)然后你可以根据输入参数验证`$.jgrid.info_dialog`是否调用显示内联编辑的验证错误。如果出现验证错误，您可以将错误消息放在自定义 div 上。在所有其他情况下，您可以将呼叫转接到原始`$.jgrid.info_dialog`.

# git - 使用 Git 跟踪本地忽略的文件

> ID：14767854
> 
> 赞同：3
> 
> 时间：2013-02-08T07:42:08.500
> 
> 标签：git, gitignore

在我们的存储库中，一些文件和文件夹被忽略了。这里感兴趣的是：

1.  构建包含（以及其他）一些配置文件和外部二进制模块的输出文件夹。请注意，这意味着这些感兴趣的文件位于已被忽略的文件夹（“bin”文件夹）中。
2.  与源代码一起放置的设置脚本。这些脚本被忽略，因为它们是特定于程序员的（例如，它们包含本地机器上外部库的路径）。

然而，我只想为自己追踪这些文件。主要是为了在清洁后轻松地重新创建它们，但也有其他原因。

如何做到这一点？

* * *

已经有一个类似的问题：[Track files in local Git repo but ignore in remote](https://stackoverflow.com/questions/6147827/track-files-in-local-git-repo-but-ignore-in-remote)。但它只是相似的，因此提出的答案在这里不适用：

1.  我忽略的要跟踪的文件没有放在一个文件夹中（这样放置它们是不切实际的）。它们分布在整棵树的不同位置。顺便说一句，它们非常稀疏。只有其中几个。
2.  无法使用替代分支，因为我在各个分支中一直需要这些文件，而不仅仅是在切换到该替代分支之后。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:54:25.337

这有点骇人听闻，但是如何将它们从单独的 repo 符号链接到您的主项目中？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T08:01:40.013

首先，您可以将忽略的文件添加到索引并提交它。
你只需要`git add --force -- /path/to/file`。

其次，您可以自己添加设置文件：它们包含私有数据。
您可以考虑基于内容过滤器驱动程序的模板方法，该驱动程序在结帐时将根据以下内容生成这些文件（作为私有非版本化文件）：

*   模板文件（版本化）
*   值文件（存储在其他地方，为每个开发人员的环境提供正确的值）

![弄脏](../Images/f3c29793e13bdf0ede0c52eda51216b2.png)

参见例如“[如何在我的本地和 github 存储库中保留一个文件的不同内容？](https://stackoverflow.com/questions/6031800/how-to-keep-different-content-of-one-file-in-my-local-and-github-repository/6031981#6031981) ”

# c++ - std::ofstream 二进制写入的意外结果

> ID：14767857
> 
> 赞同：34
> 
> 时间：2013-02-08T07:42:19.000
> 
> 标签：c++, iostream

我是 C++ std::stream 的新手，我正在做一些测试。我有这个简单的代码：

```
int i = 10;
char c = 'c';
float f = 30.40f;

std::ofstream out("test.txt", std::ios::binary | std::ios::out);
if(out.is_open())
{
    out<<i<<c<<f;
    out.close();
} 
```

正如`std::ios::binary`我所期望的那样，在文件中打开流时将具有,和`test.txt`的二进制表示，但我有.`i``c``f``10c30.4`

你能告诉我我做错了什么吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-08T07:44:42.707

`std::ios::binary`承诺不对流进行任何行尾转换（以及与文本流的一些其他小的行为差异）。

你可以看看

*   提升序列化[http://www.boost.org/doc/libs/1_53_0/libs/serialization/doc/index.html](http://www.boost.org/doc/libs/1_53_0/libs/serialization/doc/index.html)
*   Boost Spirit 二进制生成器[http://www.boost.org/doc/libs/1_53_0/libs/spirit/doc/html/spirit/karma/reference/binary/](http://www.boost.org/doc/libs/1_53_0/libs/spirit/doc/html/spirit/karma/reference/binary/)
*   使用 ofstream::write(...) 手动写入字节

这是一个使用 Boost Spirit Karma 的示例（假设 Big-Endian 字节排序）：

```
#include <boost/spirit/include/karma.hpp>
namespace karma = boost::spirit::karma;

int main()
{
    int i = 10;
    char c = 'c';
    float f = 30.40f;

    std::ostringstream oss(std::ios::binary);
    oss << karma::format(
            karma::big_dword << karma::big_word << karma::big_bin_float, 
            i, c, f);

    for (auto ch : oss.str())
        std::cout << std::hex << "0x" << (int) (unsigned char) ch << " ";
    std::cout << "\n";
} 
```

这打印

```
0x0 0x0 0x0 0xa 0x0 0x63 0x41 0xf3 0x33 0x33 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-02-08T07:55:35.557

为了写入原始二进制数据，您必须使用[ostream::write](http://www.cplusplus.com/reference/ostream/ostream/write/)。它不适用于输出运算符。

还要确保如果要从二进制文件中读取，不要使用 operator>> 而是使用[istream::read](http://www.cplusplus.com/reference/istream/istream/read/)。

这些链接还提供了如何处理二进制数据的示例。

所以对于你的例子：

```
int i = 10;
char c = 'c';
float f = 30.40f;

std::ofstream out("test.txt", std::ios::binary | std::ios::out);
if(out.is_open())
{
    out.write(reinterpret_cast<const char*>(&i), sizeof(i));
    out.write(&c, sizeof(c));
    out.write(reinterpret_cast<const char*>(&f), sizeof(f));
    out.close();
} 
```

# ruby-on-rails - 创建方法不提交 POST 请求

> ID：14767860
> 
> 赞同：0
> 
> 时间：2013-02-08T07:42:31.113
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

我在 Rails 应用程序中有一个控制器，用户可以在其中创建假期请求，似乎当我填写必要的信息时，它并没有执行`POST`请求并提交我的表单。我在 RailsPanel 中的输出如下：[Rails Panel](http://i.imgur.com/9wzROci.png)。从这里它就好像它在做`GET`请求时肯定应该做 a`GET`然后 a `POST`。我相信我在创建方法周围的某个地方搞砸了。任何反馈都会非常感谢您！

**控制器**

```
class HolidaysController < ApplicationController
  before_filter :authenticate_user!
  before_filter :admin_user, :only => [:index, :update, :edit, :absence]
  before_filter :correct_user, :only => [:delete]

  def new
    @holiday = Holiday.new
    @user = current_user
  end

  def show
    @holiday = Holiday.find(params[:id])
    c_u = current_user
  end

  def create
    @user = current_user
    @holiday = current.holidays.build(params[:holiday])
    @holiday.approver_id = approval_method(current_user, @holiday)
    if @holiday.save
      redirect_to root_path
      flash[:success]= "holiday application sent!"
    else
      render :new
    end
  end

  def myholidays
    @holidays = current_user.holidays.all
  end

  def index
    @holidays = Holiday.all
  end

  def absence
    #show the holidays where the approver id matches the current user id
    #and state = "requested"'

    @user = current_user
    if current_user.role? :administrator
      # a admin can view all current holiday requests
      @holidays = Holiday.all( :conditions => 'state = "requested"')
    else
    #otherwise an admin sees the holiday requests that they are approvers for
      @holidays = Holiday.all(:conditions => ["approver_id = #{current_user.id}", "state = requested"])
    end
  end

  def edit 
    today = Date.today
    @holidays = Holiday.all
    @month = (params[:month] || (Time.zone || Time).now.month).to_i
    @year = (params[:year] || (Time.zone || Time).now.year).to_i
    @shown_month = Date.civil(@year, @month)
    #L51 - Parses the given representation of date and time with the given template
    #and returns a hash of parsed elements.
    @holiday = Holiday.find(params[:id])
  end

 def update
   admin = User.find(current_user.role? :administrator)
   holiday = Holiday.find(params[:id])
   user = User.find(id = holiday.user_id)

   if holiday.update_attributes(params[:holiday])
     if holiday.state == "approved"
       user.absentdays = user.absentdays - (holiday.days_used).to_i
       user.save
     end
     redirect_to absence_path, :notice => "Request updated"
   else 
     render 'edit'
   end
 end

 def destroy 
   Holiday.find(params[:id]).destroy 
   redirect_to root_url, :notice => "Request deleted"
 end

 private 

 def current_user?(user)
   user == current_user
 end 

 def admin_user
   redirect_to dashboard_path, :notice => "You must be an admin to do this!" unless current_user.role? :administrator
 end

 def signed_in_user 
   redirect_to login_path, notice: "Please sign in." unless signed_in? 
 end

 def correct_user 
   @user = current_user 
   redirect_to dashboard, notice: "You are not the correct user." unless current_user?(@user) or current_user.role? :administrator
 end

 def approval_method(current_user, holiday_to_approve)
   found = false 
   days = holiday_to_approve.days_used
   user = current_user 
   approver = user.role? :administrator

   until found == true 
     #Admins should be automatically approved and have no approvers 
     if approver == nil 
       holiday_to_approve.state = "approved"
       #if user absent days is equal to absent days - day and convert to integer
       user.absentdays = user.absentdays - (days).to_i
       user.save

       found = true 
     else 
       redirect_to dashboard_path, :notice => "Request complete"
     end 
     break if found == true 
     end 
   end
end 
```

**假期/show.html.erb**

```
<form class="form">
<p>You have<b><%= @user.absentdays %> days of holiday left.</b></p>
<%= form_for @holiday do |f| %>
    <% if @holiday.errors.any? %>
        <div>
          <h2>Form is invalid</h2>
          <ul>
            <% for message in @holiday.error.full_messages %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>
    Select the dates required for absence<br>
    Start: <%= datepicker_input "holiday", "start_at", :minDate => 0, :dateFormat => "yy-mm-dd" %><br>
    End: <%= datepicker_input "holiday", "end_at", :minDate => 0, :dateFormat => "yy-mm-dd" %>

    <br><br>

    Please select the type of absence you require<br>
    <%= f.collection_select :type_id, Type.all, :id, :name, :prompt => "Select absence type" %>
    <br><br>
    <%= f.text_field :description %>
    <br><br>

    <%= f.submit "Submit Request", :class => "submit" %>
<% end %>
</form> 
```

**新的.html.erb**

```
<% provide(:title, 'apply for absence') %>

  <p>You have <b><%= @user.absentdays %></b> days of holiday time left.</p>
  <%= form_for @holiday do |f| %>
      <% if @holiday.errors.any? %>
          <div class="error_messages">
            <h2>Form is invalid</h2>
            <ul>
              <% for message in @holiday.errors.full_messages %>
                  <li><%= message %></li>
              <% end %>
            </ul>

      <% end %>
      Select the dates required for absence<br>
      start: <%= datepicker_input "holiday","start_at", :minDate => 0, :dateFormat => "yy-mm-dd" %><br>
      end: <%= datepicker_input "holiday","end_at", :minDate => 0, :dateFormat => "yy-mm-dd" %>
      <br><br>

      Please select the type of absence you require<br>
      <%= f.collection_select :type_id, Type.all, :id, :name, :prompt => "Select absence type" %>
      <br><br>
      Please provide a short description of the nature of your absence (if applicable)<br>
      <%= f.text_field :description %>
      <br><br>

      <%= f.submit "submit" %>

  <% end %>

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:11:15.313

原因是，您的表格中有一个表格，`holidays/show.html.erb`但您的`holidays/new.html.erb`.

根据 rails 约定，如果表单是在**new.html.erb**中提交的，那么默认情况下会调用该特定控制器的**POST**方法。

但由于您的文件是`show.html.erb`.，因此您**必须**在`form_for`.

```
form_for @holiday , :url => { :action => :create }, :html => { :method => "post"} do |f| 
```

# c++ - C++ 中的光线网格相交或 AABB 树实现，开销很小？

> ID：14767861
> 
> 赞同：7
> 
> 时间：2013-02-08T07:42:32.323
> 
> 标签：c++, geometry, intersection, aabb

你能推荐我吗...

*   AABB树的经过验证的轻量级C / C ++实现？
*   或者，另一种有效的数据结构，加上轻量级的 C/C++ 实现，来解决大量光线与大量三角形相交的问题？

“大数字”意味着射线和三角形都有几个 100k。

我知道 AABB 树是 CGAL 库的一部分，并且可能是 Bullet 等游戏物理库的一部分。但是，我不希望在我的项目中增加大量额外库的开销。理想情况下，我想使用一个小型的浮点型模板化标头实现。只要它可以轻松集成到我的项目中，我也会使用一堆 CPP 文件。依赖`boost`没问题。

是的，我用谷歌搜索过，但没有成功。

我应该提到我的**应用程序上下文**是网格处理，而不是渲染。简而言之，我将参考网格的拓扑结构从 3D 扫描转换为网格的几何形状。我正在从顶点和沿着参考网格的法线向 3D 扫描拍摄光线，我需要恢复这些光线与扫描的交点。

**编辑**

几个答案/评论指向最近邻数据结构。我创建了一个关于使用最近邻方法处理光线网格交叉点时出现的问题的小插图。最近邻方法可以用作在许多情况下都有效的启发式方法，但我不相信它们实际上可以系统地解决问题，就像 AABB 树一样。

![在此处输入图像描述](../Images/b5ab2d4c2a175889e2c27681be207e4b.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T23:03:18.333

虽然这段代码有点旧并且使用的是 3DS Max SDK，但它为 C++ 中的对象-对象碰撞变形提供了一个相当不错的树系统。一眼看不出来它是四叉树、AABB-tree 还是 OBB-tree（评论也有点吝啬）。

[http://www.max3dstuff.com/max4/objectDeform/help.html](http://www.max3dstuff.com/max4/objectDeform/help.html)

它需要从 Max 翻译到您自己的系统，但可能值得付出努力。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T15:37:07.610

如果没有实时要求，我会先尝试蛮力。

1M * 1M 射线->三角形测试的运行时间不应超过几分钟（在 CPU 中）。

如果这是一个问题，那么第二好的做法是通过计算目标网格中的三角形/多边形之间的邻接图/关系来限制搜索区域。在初始猜测失败后，可以尝试相邻的三角形。这当然依赖于缺乏自我遮挡/多个生命值。（我认为这是对“可见性不适用于此问题”的一种解释）。

还取决于拓扑的病态程度，可以尝试将目标网格环境映射到单位立方体上（每个像素将由投影在其上的三角形列表组成）并通过单个射线-> aabb 测试 + 查找来测试初始候选对象.

鉴于反馈，还有一个更简单的选项需要考虑——将空间划分为简单的 3D 网格，其中每个维度都可以通过 x/y/z 位置的直方图甚至定期细分。

*   100x100x100 网格的大小*非常*易于管理，只有 1e6 个条目
*   要访问的最大立方体数量与直径成正比（最大 300）
*   有约 60000 个极端细胞，这表明每个细胞有 10 个三角形

*   警告：三角形必须放置在它们占据的每个单元格上——保守的算法将它们放置在它们不属于的单元格上；大三角形可能需要剪裁和重新组装。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T13:05:30.183

试试 ANN 库： [http ://www.cs.umd.edu/~mount/ANN/](http://www.cs.umd.edu/~mount/ANN/)

它是“近似最近邻”。我知道，您正在寻找稍微不同的东西，但您可以通过以下方式来加快数据处理速度：

1.  将点馈入 ANN。
2.  查询要从其投射光线的每个顶点周围的用户可选半径（将其视为“每个网格旋钮”），并找出范围内的网格顶点。
3.  仅选择该范围内的三角形，并沿法线进行光线追踪以找到所需的三角形。

通过明智地选择搜索半径，您肯定会在不影响准确性的情况下获得相当大的加速。

# sql - 计算列规范中的除法和求和值

> ID：14767863
> 
> 赞同：4
> 
> 时间：2013-02-08T07:42:44.333
> 
> 标签：sql, sql-server

我正在处理一张表格，我需要使用以下值计算行程之间的平均时间。

```
Date        Clockin       CLockout        Trip1           Trip2
====        =======       ========        =====           ======
01/01/2013   13:00        17:00            3               3 
```

我试过这个。

```
(datediff(minute,[Clockin],[ClockOut])/case when [Trip1]=(0) then NULL else [Trip1] end+case when [Trip2]=(0) then NULL else [Trip2] end) 
```

和

```
(datediff(minute,[Clockin],[ClockOut])/case when [Trip1]=(0) then 1 else [Trip1] end+case when [Trip2]=(0) then 1 else [Trip2] end) 
```

目标是计算行程之间的持续时间。即，如果trip2 为空，则为4 小时/ 3 次，否则为4 小时/ 3 + 3（4 小时/ 6 次）

但以上似乎并没有产生正确的结果。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:50:48.917

根据您希望如何处理 0 的行程总和（是否为空结果？），以下计算之一应该有效：

```
declare @t table ([Date] date, Clockin time, CLockout time, Trip1 int, Trip2 int)
insert into @t  

    select '01/01/2013', '13:00', '17:00', 3, 3 union all
    select '01/01/2013', '13:00', '17:00', 0, 3 union all
    select '01/01/2013', '13:00', '17:00', 0, 0 union all
    select '01/01/2013', '13:00', '17:00', 3, null;

select  [minutes]=datediff(mi, Clockin, Clockout), 
        [trips] = ((isnull(Trip1, 0)+isnull(Trip2,0))),
        [calc] = datediff(mi, Clockin, Clockout)/ (nullif((isnull(Trip1, 0)+isnull(Trip2,0)), 0)),
        [calc2] = datediff(mi, Clockin, Clockout)/ isnull((nullif((isnull(Trip1, 0)+isnull(Trip2,0)), 0)), 1)
from @t 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:52:42.173

```
CASE WHEN trip2 IS NULL 
     THEN DATEDIFF(hour,[Clockin],[ClockOut]) / Trip1 
     ELSE (DATEDIFF(hour,[Clockin],[ClockOut]) / Trip1 + Trip2) 
        * (DATEDIFF(hour,[Clockin],[ClockOut]) + (Trip1 + Trip2)) 
END 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:54:06.933

尝试这样的事情：

```
SELECT 
  CONVERT(Decimal, DateDiff(hh,ClockIn,ClockOut)) / 
  CASE 
    WHEN Trip1 IS NULL AND Trip2 IS NULL THEN 1
    ELSE CONVERT(Decimal, (COALESCE(Trip1,0) + COALESCE(Trip1,0)))
  END as result
FROM YourTable 
```

如果 Trip1 和 Trip2 都为 NULL，我不确定您想要什么，但我添加了一个 CASE 语句来除以 1。

这是[小提琴](http://sqlfiddle.com/#!3/6ec61/3)。

祝你好运。

# django - 如何设置主干和美味派以在执行 POST 请求时正确发送 api_key 和用户名

> ID：14767864
> 
> 赞同：2
> 
> 时间：2013-02-08T07:42:45.427
> 
> 标签：django, backbone.js, tastypie

当我通过 curl 发出请求时，通过 url 传递用户名+ApiKey，例如：

```
curl --dump-header - -H "Content-Type: application/json" -X POST --data '{"question": "Is a test yo?", "pub_date": "2011-05-22T00:46:38"}' "http://localhost:8000/polls/api/v1/poll/?username=federico&api_key=10a2d3586e63078ef39f9da8f9aa9209715ed282 
```

我没有问题（除了服务器抱怨这是一个错误的请求，因为我没有发送 FK 数据，但无论如何数据库都会更新。

**但是，当我尝试通过标头**发送用户名 + apikey 来做同样的事情时， 我收到 401 Unauthorized 错误并且没有任何反应。

我在这里想念什么？

```
#resources

class PollResource(ModelResource):
    choices = fields.ToManyField('polls.api.ChoiceResource', 'choice_set', full=True)

    class Meta:
        queryset = Poll.objects.all()
        resource_name = 'poll'
        allowed_methods = ['get', 'post', 'put']
        list_allowed_methods = ['get', 'post', 'put', 'delete']
        authentication = ApiKeyAuthentication()
        authorization = DjangoAuthorization()

class ChoiceResource(ModelResource):
    poll = fields.ForeignKey(PollResource, 'poll')

    class Meta:
        queryset = Choice.objects.all()
        resource_name = 'choice'
        list_allowed_methods = ['get', 'post', 'put', 'delete']

// js

// backbone-tastypie config
Backbone.Tastypie.csrfToken = $("#secret-token")[0].value;
Backbone.Tastypie.apiKey = {
    username: USER,
    key: API_KEY
};

// model
var Poll = Backbone.Model.extend({
    urlRoot: '/polls/api/v1/poll/'
}); 
```

在 HTTP_Authorization 标头中使用 ApiKey 来自 Backbone 的请求：

```
Request URL:http://localhost:8000/polls/api/v1/poll/
Request Method:POST
Status Code:401 UNAUTHORIZED
Request Headersview source
Accept:application/json, text/javascript, */*; q=0.01
Accept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3
Accept-Encoding:gzip,deflate,sdch
Accept-Language:en-US,en;q=0.8
Authorization:ApiKey federico:10a2d3586e63078ef39f9da8f9aa9209715ed282
Connection:keep-alive
Content-Length:109
Content-Type:application/json
Cookie:djdt=hide; sessionid=96ca6e066bab30f241819b22cc85693b; csrftoken=PYMw9nrqh3TOqse3GM3ojU5iSOV2QMUA
Host:localhost:8000
Origin:http://localhost:8000
Referer:http://localhost:8000/index/
User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_5) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.57 Safari/537.17
X-CSRFToken:PYMw9nrqh3TOqse3GM3ojU5iSOV2QMUA
X-Requested-With:XMLHttpRequest
Request Payload
{"csrfmiddlewaretoken":"PYMw9nrqh3TOqse3GM3ojU5iSOV2QMUA","question":"What is love?","pub_date":"07/02/2013"}
Response Headersview source
Content-Type:text/html; charset=utf-8
Date:Thu, 07 Feb 2013 21:57:01 GMT
Server:WSGIServer/0.1 Python/2.7.1
Vary:Cookie 
```

编辑：我一直在尝试调试它，显然这是 url 的一些问题......

这是我项目的 url.py

```
urlpatterns = patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^index/$', 'polls.views.index', name='index'),
    url(r'^polls/', include('polls.urls')),
) 
```

这是应用程序的 url.py

```
v1_api = Api(api_name='v1')
v1_api.register(PollResource())
v1_api.register(ChoiceResource())

urlpatterns = patterns('',
    url(r'api/', include(v1_api.urls)),
) 
```

# django - Django 将函数查看为 formset_factory 表单

> ID：14767872
> 
> 赞同：1
> 
> 时间：2013-02-08T07:43:32.993
> 
> 标签：django, forms

我正在尝试一个单一的视图功能，它将显示一个空表单，并且还将显示一个先前填写的表单以供进一步编辑。这是我目前的看法：

```
def manage_contacts(request):
    ContactsFormSet = modelformset_factory(Contact)
    if request.method == 'POST':
        formset = ContactsFormSet(request.POST, request.FILES)
        if formset.is_valid():
            formset.save()
            return HttpResponseRedirect('/people/')
    else:
        formset = ContactsFormSet(queryset=Contact.objects.none())
    return render_to_response("contact.html", {
        "formset": formset,
    })

def edit_form(request, item_id):
    ContactsFormSet = modelformset_factory(Contact)
    if request.method == 'POST':
        instance = get_object_or_None(ContactsFormSet, pk=item_id)
        formset = Contact(request.POST, instance=instance)
        return render_to_response("contact.html", {
            "formset": formset,
    }) 
```

目前我有两个功能：第一个显示新表单，第二个用于编辑现有数据。第二个函数给出错误。我无法`modelformset_factory`从现有数据库列中获取显示数据。但是，第一个功能有效。我面临的障碍是我找不到将两者重写为单一视图函数的方法。这就是我在模型中所拥有的：[https ://stackoverflow.com/a/14724113/498309](https://stackoverflow.com/a/14724113/498309)

```
#urls.py
url(r'^edit/(?P<item_id>\d+)/$', 'app.views.edit_form'), 
```

**更新 1**

```
def contact_view(request, item_id=None):
    context_data = {}
    if item_id:
        contact = get_object_or_404(Contact, pk=item_id)
    if request.method == 'POST':
        forms_are_valid = True
        new_form = ContactForm(request.POST, prefix='new')
        if new_form.is_valid():
            new_form.save()
        else:
            forms_are_valid = False
            context_data['new_form'] = new_form
        if item_id:
            existing_form = ContactForm(request.POST, instance=contact,
                prefix='existing')
            if existing_form.is_valid():
                existing_form.save()
            else:
                forms_are_valid = False
                context_data['existing_form'] = existing_form 
        if forms_are_valid: 
            return HttpResponseRedirect('thanks/')
    else: 
        new_form = ContactForm(prefix='new')
        context_data['new_form'] = new_form
        if item_id:
            existing_form = ContactForm(instance=contact, prefix='existing')
            context_data['existing_form'] = existing_form
    return render_to_response('contact.html', context_data) 
```

此视图不显示表单。但它没有显示任何错误，它只显示 html 模板。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T10:28:39.723

我不会使用模型集来执行您的建议。只需在同一视图中使用两种形式，添加[前缀](https://docs.djangoproject.com/en/1.4/ref/forms/api/#prefixes-for-forms)以区分它们 -

```
from django.http import HttpResponseRedirect
from django.shortcuts import get_object_or_404, render_to_response

def contact_view(request, contact_id=None):
    context_data = {}
    if contact_id:
        contact = get_object_or_404(pk=contact_id)
    if request.method = 'POST': 
        forms_are_valid = True
        new_form = ContactForm(request.POST, prefix='new')
        if new_form.is_valid():
            new_form.save()
        else:
            forms_are_valid = False
            context_data['new_form'] = new_form  errors
        if contact_id:
            existing_form = ContactForm(request.POST, instance=contact,
                                        prefix='existing')
            if existing_form.is_valid():
                existing_form.save()
            else:
                forms_are_valid = False
                context_data['existing_form'] = existing_form 
        if forms_are_valid: 
            return HttpResponseRedirect('thanks/')
    else: 
        new_form = ContactForm(prefix='new')
        context_data['new_form'] = new_form
        if contact_id:
            existing_form = ContactForm(instance=contact, prefix='existing')
            context_data['existing_form'] = existing_form
    return render_to_response('contact.html', context_data) 
```

定义中的contact_id 参数允许您将视图用于新联系人和现有联系人。让两个 url 指向同一个视图，一个包含 contact_id，一个不包含 -

```
url(r'^contact/(?P<contact_id>\d+)/$', 'app.views.contact_view'),
url(r'^contact/$', 'app.views.contact_view'), 
```

视图检查是否传递了 item_id - 如果是，那么我们知道我们正在处理现有的联系人。

恐怕我还没有真正运行过这段代码（而且它比我预期的要长一点），所以它可能有问题，但是我以前多次使用过这种模式——它确实有效。

更新

该视图将两个表单传递给模板`new_form`和`existing_form`. 在模板中输出这些表单的最简单方法是 -

```
<form action="/contact/" method="post">
    {{ existing_form.as_p }}
    {{ new_form.as_p }}
    <input type="submit" value="Submit" />
</form> 
```

查看有关[自定义表单模板](https://docs.djangoproject.com/en/1.4/topics/forms/?from=olddocs#customizing-the-form-template)的文档以获取更多信息。

# annotations - 命名和匿名切入点注释的不同分辨率范围？

> ID：14767873
> 
> 赞同：0
> 
> 时间：2013-02-08T07:43:39.383
> 
> 标签：annotations, aspectj, pointcuts

我正在使用 AspectJ 注释，出于某种原因，命名切入点与匿名切入点的切入点解析范围似乎不同。

例如，在下面的代码中，如果匿名则解析相同的切入点，但命名时则不会。但是，如果我使用通配符而不是特定类型，则命名的切入点将匹配。

有什么想法吗？

```
import some_other_package.not_the_one_where_this_aspect_is.Account;

@Aspect
public class MyClass {

//this does not match... but matches if Account is replaced by *
@Pointcut("execution(* Account.withdraw(..)) && args(amount)")
public void withdr(double amount){}

@Before("withdr(amount)")
public void dosomething1(double amount){}

//this matches
@Before("execution(* Account.withdraw(..)) && args(amount)")
public void dosomthing2(double amount){}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T11:52:21.120

根据文档，@AspectJ 语法导入没有用。您需要完全限定类名或使用小丑。导入在您的第二种情况下有效，这是与预期行为的偏差，而不是预期的。你不能依赖它。

如果你这样做，两种变体都可以工作：

```
@Aspect
public class AccountInterceptor {
    @Pointcut("execution(* *..Account.withdraw(..)) && args(amount)")
    public void withdraw(double amount) {}

    @Before("withdraw(amount)")
    public void doSomething1(JoinPoint joinPoint, double amount) {
        System.out.println(joinPoint + " -> " + amount);
    }

    @Before("execution(* *..Account.withdraw(..)) && args(amount)")
    public void doSomething2(JoinPoint joinPoint, double amount) {
        System.out.println(joinPoint + " -> " + amount);
    }
} 
```

# java - java，很难让我的打印类打印我的其他类信息，请帮助这些是我的代码

> ID：14767876
> 
> 赞同：-1
> 
> 时间：2013-02-08T07:43:46.863
> 
> 标签：java

```
// my first class
public class FirstProject{
int first_number;

public FirstProject(){
    first_number = 0;
}
public FirstProject(int Fn){
    first_number = Fn;
}
public void Print(){
    System.out.println("First number = " + first_number); System.out.println();
} 
```

}

//第二个类在一个单独的文件中//在这个类上不断收到一个错误，说找不到 . 在 p1.print();

```
public class TestProgram {
public static void main(String[] args){

    FirstProject p1 = new FirstProject(10); 

    p1.print(); System.out.println();

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:45:13.940

Java 区分大小写：

```
p1.Print(); 
```

但更好的改变

```
public void Print(){ -> public void print(){ 
```

由于根据惯例，方法不应以大写字母开头。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:46:22.207

这仅仅是因为您将其创建为`public void Print`并将其称为`print`. Java 区分大小写 ;)

# iphone - 检查 ALAssetsLibrary 是否为空

> ID：14767891
> 
> 赞同：0
> 
> 时间：2013-02-08T07:45:15.627
> 
> 标签：iphone, xcode

我正在使用 ALAssetsLibrary 并且应用程序在它为空时崩溃。我如何检查它是否为空？

```
 -(void)getLastImageName1
{
//    if (val < 10) {

//      NSLog(@"getLastImageName1\n");
    ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];

    // Enumerate just the photos and videos group by using ALAssetsGroupSavedPhotos.

    last =1;

    [library enumerateGroupsWithTypes:ALAssetsGroupSavedPhotos usingBlock:^(ALAssetsGroup *group, BOOL *stop) {

        // Within the group enumeration block, filter to enumerate just photos.
        [group setAssetsFilter:[ALAssetsFilter allPhotos]];
        if (last == 1) {
//            NSLog(@"last\n");
            last++;
                        // Chooses the photo at the last index
            [group enumerateAssetsAtIndexes:[NSIndexSet indexSetWithIndex:[group numberOfAssets]-1] options:0 usingBlock:^(ALAsset *alAsset, NSUInteger index, BOOL *innerStop) {

                // The end of the enumeration is signaled by asset == nil.
                if (alAsset) {

                    NSString *lastImgNew = alAsset.defaultRepresentation.filename;
//                    NSLog(@"current img name %@\n",lastImgNew);

                    NSString *plistPath1 = [DOCUMENT_DIR_PATH stringByAppendingPathComponent:@"previouslastimagename.plist"];
                    NSArray *lastImg = [NSArray arrayWithContentsOfFile:plistPath1];
//                    NSLog(@"get pre lastimg %@\n",lastImg);

//                    NSArray *lastImg = [[DBModel database]getPreviousName];
//                    NSLog(@"get lastImg %@\n",lastImg);

                    if ([lastImg count] != 0) {
//                        NSLog(@"count\n");

                    if ([[lastImg objectAtIndex:0] isEqualToString:lastImgNew]) {
//                        NSLog(@"img eql\n");
//                        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"" message:@"equal" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
//                        [alert show];

                        [self hideImage];
//                     }    
                    }
                    else
                    {
//                        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"" message:[NSString stringWithFormat:@"pre %@ current %@",[lastImg objectAtIndex:0],lastImgNew] delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
//                        [alert show];

//                        NSLog(@"img not eql\n");
                        [self performSelectorOnMainThread:@selector(displayAlert) withObject:nil waitUntilDone:YES];

                    }
                    }

                }
            }];

        }

    } failureBlock: ^(NSError *error) {
        // Typically you should handle an error more gracefully than this.
        //            NSLog(@"No groups");
    }]; 
```

last++ 变量之后的行。我正在使用 newscreenshot 图像检查 lastimage 以不允许用户在截屏后使用应用程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T10:29:56.680

这是给您错误的行：

```
[NSIndexSet indexSetWithIndex:[group numberOfAssets]-1] 
```

如果资产为零，那么您将索引设置为 -1。您可以将该枚举块包装在条件中以`numberOfAssets`在继续之前测试 if > 0。此外，还有其他问题可能对您有所帮助。例如：[如何在 iPhone 库中获取最新的照片？](https://stackoverflow.com/questions/9290929/how-to-get-the-latest-photo-in-iphone-library)

# android - Web 视图未在 android 中加载本地 html 文件

> ID：14767892
> 
> 赞同：2
> 
> 时间：2013-02-08T07:45:16.463
> 
> 标签：android, webview

> 我正在将 html 集成到 android.我已经创建了一个 web 视图，但我无法加载本地 html 页面。令人惊讶的是，网络视图正在正确加载“http:google.com”，而不是我的本地 html 文件。我已经尝试了几乎所有可能的 SO 链接。错误消息是“无法加载网页”

```
WebView view  =  (WebView) findViewById(R.id.webView1);
    view.loadUrl("file:///assets/www/trialhtml.html");![enter image description here][1] 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T08:04:13.443

创建您的 HTML 文件并将其放在 assets 文件夹中，然后您需要将这些行添加到`onCreate`方法中，如下所示：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    WebView webView = new WebView(this);
    webView.loadUrl("file:///android_asset/test.html");
    setContentView(webView);
} 
```

这是最终结果： ![应用截图](../Images/53cbc0cbff8501d2454931260d58b163.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:49:43.503

试试下面的代码： -

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    String myURL = "file:///android_asset/index.html";
    WebView view  =  (WebView) findViewById(R.id.webView1);

    /*By default Javascript is turned off,
     * it can be enabled by this line.
     */
    view.getSettings().setJavaScriptEnabled(true);
    view.setWebViewClient(new WebViewClient());

    view.loadUrl(myURL);

} 
```

检查您的文件是否存在，您也可以清理项目并重建它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:50:22.930

尝试使用此代码：

```
this.webview = (WebView)findViewById(R.string.webview);

    WebSettings settings = webview.getSettings();
    settings.setJavaScriptEnabled(true);
    webview.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);

    final AlertDialog alertDialog = new AlertDialog.Builder(this).create();

    progressBar = ProgressDialog.show(Main.this, "WebView Example", "Loading...");

    webview.setWebViewClient(new WebViewClient() {
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            Log.i(TAG, "Processing webview url click...");
            view.loadUrl(url);
            return true;
        }

        public void onPageFinished(WebView view, String url) {
            Log.i(TAG, "Finished loading URL: " +url);
            if (progressBar.isShowing()) {
                progressBar.dismiss();
            }
        }

        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
            Log.e(TAG, "Error: " + description);
            Toast.makeText(activity, "Oh no! " + description, Toast.LENGTH_SHORT).show();
            alertDialog.setTitle("Error");
            alertDialog.setMessage(description);
            alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int which) {
                    return;
                }
            });
            alertDialog.show();
        }
    });
    webview.loadUrl("http://www.google.com"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T07:54:45.300

**将您的 .html 文件粘贴到项目文件夹的 assets 文件夹中。并使用 fol 代码在布局文件夹中创建一个 xml 文件**

```
WebView  xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/webview"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
/> 
```

在活动中添加 fo 代码

```
setContentView(R.layout.my);
WebView mWebView = null;
mWebView = (WebView) findViewById(R.id.webview);
mWebView.getSettings().setJavaScriptEnabled(true);
mWebView.loadUrl("file:///android_asset/www/trialhtml.html"); //new.html is html file na 
```

# c++ - 构造函数返回错误，动态内存c ++

> ID：14767895
> 
> 赞同：2
> 
> 时间：2013-02-08T07:45:37.583
> 
> 标签：c++

```
#pragma once
# include <iostream>
# include <string>
# include <cstring>

using namespace std;
const int err=404;

class longMath{
protected:
    char* str;
    int size;

protected:
    //void create(int len);
public:
    inline longMath();
    inline longMath(longMath &a);
    inline longMath(char* s);
    inline longMath(string &s);
    ~longMath(){delete [] str;}
    void print();
};  
    //-------------------------------------------------------------//

longMath::longMath(){size=0;}

longMath::longMath(longMath &a){
    str = new char [a.size];
    strncpy(str,a.str,a.size);
    size= a.size;
}

longMath::longMath(char* s){
    size = (sizeof s)/(sizeof s[0]);
    str = new char [size+1];
    strncpy_s(str,size+1,s,size);
}

void longMath::print(){
    for (int i=0;i<size;i++){
        cout<<*(str+i);
    }
    cout<<endl;
}

longMath::longMath(string &s){
    str = new char [s.length()];
    for (int i=0;i<size;i++){
        *(str+i)=s[i];
    }
    size = s.length();
}

longMath longMath::operator= (const longMath &a){//оператор присвоения
    if (this==&a) return *this;
    delete [] str;
    str = new char [a.size];
    strncpy(str,a.str,a.size);
    size = a.size;
    return *this;
}

//----------additional function--------------------//
int switcher(char &c){
    switch (c){
    case '1': return 1; break;
    case '2': return 2; break;  
    case '3': return 3; break;
    case '4': return 4; break;
    case '5': return 5; break;
    case '6': return 6; break;
    case '7': return 7; break;
    case '8': return 8; break;
    case '9': return 9; break;
    case '0': return 0; break;
    default: return err;
    }
} 
```

还有另一个主文件

```
# include <iostream>
# include "longMath.h"
using namespace std;

int main(){
    char* s("regw");

    longMath h,n(s);
    n.print();

    system("PAUSE");
    return 0;
} 
```

该程序不想编译，它返回异常`0x0f8657aa (msvcr100d.dll)`

请帮帮我。程序似乎不太复杂。构造函数有问题，初始化为`char*`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:47:39.277

这可能是问题

```
(sizeof s)/(sizeof s[0]); 
```

此技巧仅适用于数组，不适用于指向数组的指针。

您应该添加一个长度参数并在构造期间将其传递。或者用于`strlen`查找字符串的长度，如果它是空终止的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:56:25.900

我认为您正在执行以下操作： sizeof(char*, a pointer) 通常为 4（在 32 位机器上）， sizeof(s[0]) 就像 sizeof(char) （在 32 位机器上为 1 个字节） ，所以你总是得到 4 个字节。如果你的字符串超过 3 个字节，程序就会崩溃。使用 strlen(s) 获取 char* s 的长度。试试看。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T08:40:58.107

在您的默认构造函数中，您没有分配内存，`str`而是调用`delete [] str`了析构函数。在默认构造函数中设置`str`为`NULL`应该修复崩溃问题：

```
longMath::longMath() : str(NULL), size(0)
{
} 
```

该程序不会编译，因为您没有`operator=`在 longMath 类中声明而是定义了它。您需要在类中添加以下声明：

```
longMath& operator= (const longMath &a); 
```

# node.js - 如何仅获取虚拟属性。Node.JS + 猫鼬 + MongoDB

> ID：14767902
> 
> 赞同：1
> 
> 时间：2013-02-08T07:46:13.673
> 
> 标签：node.js, mongodb, mongoose

考虑我定义了一个*Mongoose 模式*

```
var Schema_MySchema = new mongoose.Schema({
Field1: String, Field2: String
}); 
```

我通过以下方式添加了虚拟属性和设置选项：

```
Schema_MySchema.virtual('USERNAME').get(function () {
    return this.Field1;
});

Schema_MySchema.set('toJSON', { virtuals: true }); 
```

使用 schema 对象从 MongoDB 中检索数据，如下所示：

```
var Mod_Obj = mongoose.model('SchemaName', Schema_MySchema);
var Model_Instance = new Mod_Obj();
Model_Instance.find({}, function (err, docs) {
   /* 
      Here I get a object docs with following structure:
      [{ _id: ObjectId("511XXXdff9c4c419000008"), 
          Field1: 'SOMEvalueFromMongoDB_1', 
          Field2: 'SOMEvalueFromMongoDB_2',
          USERNAME: 'SOMEvalueFromMongoDB_1'
      }]
  */
}); 
```

现在我想删除从 MongoDB 返回的实际属性，比如说我想从中`Field1`删除`docs`

我尝试了以下方法来删除：

**1.** `delete docs.Field1;`

**2.** `var Json_Obj = docs.toJSON(); delete Json_Obj.Field1;`

**3.** `var Json_Obj = docs.toObject({ virtuals: true }); delete Json_Obj.Field1;`

**4.** `delete docs[0].Field1;`

**5.** `delete docs[0]['Field1'];`

所有的方法都没有奏效。:-(

如果在简单的 JSON 上执行测试，它可以工作：

```
var a = { 'A' : 1, 'B': 2 };
delete a.A;
console.log(a); //prints only object with B attribute only. i.e. { B: 2 } 
```

谁能告诉我这里有什么问题？

提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:53:29.010

我相信您缺少索引和`docs`数组。

如果您的文档具有以下结构

```
[{ _id: ObjectId("511XXXdff9c4c419000008"), 
      Field1: 'SOMEvalueFromMongoDB_1', 
      Field2: 'SOMEvalueFromMongoDB_2',
      USERNAME: 'SOMEvalueFromMongoDB_1'
  }] 
```

删除代码应该是

```
delete docs[index]['Field1'] 
```

IE。删除`Field1`第一个元素

```
delete docs[0]['Field1'] 
```

**更新评论：**

请参考[这个答案](https://stackoverflow.com/questions/7503450/how-do-you-turn-a-mongoose-document-into-a-plain-object)。

在这里你需要这样做

```
var k = docs[index].toObject();
delete k['Field1']; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T08:38:14.667

删除字段后必须保存文档，尝试如下

```
var Mod_Obj = mongoose.model('SchemaName', Schema_MySchema);
var Model_Instance = new Mod_Obj();
Model_Instance.find({}, function (err, docs) {
   /* 
      Here I get a object docs with following structure:
      [{ _id: ObjectId("511XXXdff9c4c419000008"), 
          Field1: 'SOMEvalueFromMongoDB_1', 
          Field2: 'SOMEvalueFromMongoDB_2',
          USERNAME: 'SOMEvalueFromMongoDB_1'
      }]
  */
delete docs[0].Field1;
docs[0].save(function(err){
if(err){
console.log(err);
}else{
console.log("Field1 is deleted");
}
});
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T09:34:35.373

找到了一些解决方案。这是使用 Mongoose 的方法

```
schema.options.toObject.transform = function (doc, ret, options) {
  // remove the _id of every document before returning the result
  delete ret._id;
} 
```

转到[Document.toObject([options])](http://mongoosejs.com/docs/api.html#document_Document-toObject)然后滚动到主题**Transform**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-04-15T04:27:53.617

您需要更新模型才能返回它。

```
toJSON: {
    virtuals: true,
    transform: function(doc, ret) {
         ret.id = ret._id;
         delete ret._id;
      }
} 
```

# java - 如何获取 GMT + 2 的时间并将其放入微调器中 24 小时内的项目中（仅限小时和分钟）？

> ID：14767906
> 
> 赞同：0
> 
> 时间：2013-02-08T07:46:30.160
> 
> 标签：java, android, spinner, gmt

例子

3:50 = 这是格林威治标准时间 +2 的时间，并在 24 小时前将其放入微调器项目中。
4:20 至 12:50

感谢您分享想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T08:44:26.670

这将为您提供 GMT+2 中的当前小时和分钟

```
TimeZone timeZone = new TimeZone();
timeZone.setOffset(2);
Calendar calendar = Calendar.getInstance(timeZone);
int hour = calendar.get(Calendar.HOUR_OF_DAY);
int minute = calendar.get(Calendar.MINUTE); 
```

# ruby-on-rails - 用一个共同的附件发送两封不同的电子邮件，合并在一起？

> ID：14767908
> 
> 赞同：0
> 
> 时间：2013-02-08T07:46:35.830
> 
> 标签：ruby-on-rails, ruby, actionmailer, email-attachments

我正在发送两封不同的电子邮件：

```
mail(:to => email1, :template_name => "mail1_template",
         :subject => "Mail 1").deliver!
mail(:to => email2, :template_name => "mail2_template",
         :subject => "Mail 2").deliver! 
```

在我添加附件之前它工作正常：

```
attachments["file.pdf"] = File.read("file.pdf")
mail(:to => email1, :template_name => "mail1_template",
         :subject => "Mail 1").deliver!
mail(:to => email2, :template_name => "mail2_template",
         :subject => "Mail 2").deliver! 
```

PDF 附件本身没有问题，但是由于某些非显而易见的原因，email2 收件人收到的邮件正在与发送给“email1”收件人的第一个邮件合并：“email2”收件人收到一封电子邮件中的两个电子邮件内容。一旦我删除附件线，一切都会恢复正常。

我将如何解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:57:37.743

尝试转换邮件的含义，首先发送 email2，然后发送 email1 -

```
 attachments["file.pdf"] = File.read("file.pdf")
    mail(:to => email2, :template_name => "mail2_template",
             :subject => "Mail 2").deliver!

    mail(:to => email1, :template_name => "mail1_template",
             :subject => "Mail 1").deliver! 
```

这样做的原因是让知道现在哪个电子邮件得到了两个合并的邮件。

调试也很有帮助。

假设它是您的开发环境，所以不要忘记在您的`/config/environments/development.rb`：

```
 config.action_mailer.raise_delivery_errors = true 
```

并检查日志`development.log`以跟踪错误的实际位置。

更新：

此外，您已发送上述 2 封邮件的附件。ruby 对您将向谁发送附件感到困惑，即第一封电子邮件或其他电子邮件或两者兼而有之。做一件事——在两封邮件之间放入附件，然后检查结果。

```
 mail(:to => email2, :template_name => "mail2_template",
             :subject => "Mail 2").deliver!

    attachments["file.pdf"] = File.read("file.pdf")

    mail(:to => email1, :template_name => "mail1_template",
             :subject => "Mail 1").deliver! 
```

更新：

为了将附件发送到两封电子邮件：

```
 attachments["file.pdf"] = File.read("file.pdf")

    mail(:to => email2, :template_name => "mail2_template",
             :subject => "Mail 2").deliver!

    attachments["file.pdf"] = File.read("file.pdf")

    mail(:to => email1, :template_name => "mail1_template",
             :subject => "Mail 1").deliver! 
```

希望它会帮助你。

# jquery - 具有多个系列的 Highcharts 气泡图

> ID：14767913
> 
> 赞同：0
> 
> 时间：2013-02-08T07:47:07.423
> 
> 标签：jquery, highcharts

我正在使用 highcharts 创建气泡图。我将 x、y 和 z 坐标作为数据传递。它显示具有不同半径的圆圈，底部有单个图例条目。我需要气泡图中单个圆圈的图例，因此我为单个气泡创建了不同的系列。我有不同的传说，但圆圈的大小是一样的。请在下面查看我的代码。请让我知道这有什么问题。提前致谢

```
 $.each(input,function(index,value) {        
        red = Math.floor(Math.random() * 255);
        blue = Math.floor(Math.random() * 255);
        green = Math.floor(Math.random() * 255);    
        color = red  + ',' + green + ',' + blue;
        chartData .push({
            name : value.departmentName,                
            marker: {
                symbol:'circle',
                fillColor:{
                        radialGradient: { cx: 0.5, cy: 0.3, r: 0.7 },
                        stops: [[0, 'rgba(255,255,255,0.5)'],[1, Highcharts.Color('rgba(' + color+ ',0.5)').brighten(-0.3).get('rgb')]]},

                lineColor:'rgba(' + color + ',.75)',
                lineWidth:1,           
                states:{
                    hover:{
                        enabled:false
                    }
                }
            },
            data: [{x:value.year, y:value.numberOfUsers, name: value.departmentName, marker: {radius:value.passcount,
                fillColor:{
                    radialGradient: { cx: 0.5, cy: 0.3, r: 0.7 },
                    stops: [[0, 'rgba(255,255,255,0.5)'],[1, Highcharts.Color('rgba(' + color+ ',0.5)').brighten(-0.3).get('rgb')]]}}, z : value.passcount}]
           });      

        });
        return chartData; 

    ...

    function drawChart (chartData){
            //High charts
            var chart = new Highcharts.Chart({
                chart: {
                    renderTo:'container',                       
                    type: 'bubble',
                    plotBorderWidth: 1 ,
                    zoomType: 'xy'
                },
                title:{
                    text:''
                },
                exporting:{
                    enabled : false
                },
               credits: {
                enabled: false
               },
                plotOptions: {
                    series: {
                        shadow:false,
                    }           
                },
                xAxis:{
                    minPadding:.075,
                    maxPadding:.075,
                    lineColor:'#999',
                    lineWidth:1,
                    tickColor:'#666',
                    tickLength:3,
                    title:{
                        text:'My chart'
                    }
                },
                yAxis:{
                    lineColor:'#999',
                    lineWidth:1,
                    tickColor:'#666',
                    tickWidth:1,
                    tickLength:3,
                    gridLineColor:'#ddd',
                    title:{
                        text:'Number Of Users',
                        rotation:270,
                        margin:10,
                    }
                },
                series: chartData

            }); 
```

![上述代码的输出如下](../Images/5e54efc29788d2e44c455c843aecd60f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:30:10.983

如您所知，Highcharts Bubbles 尚未正式发布。但是，在最新的开发代码中，气泡大小会跨系列进行调整，因此您可能只是加载了一些旧代码。[尝试从http://github.highcharts.com/rambera/highcharts.js](http://github.highcharts.com/rambera/highcharts.js)和[http://github.highcharts.com/rambera/highcharts-more.js](http://github.highcharts.com/rambera/highcharts-more.js)运行 Highcharts 。

# python - 比较范围内每个整数的值

> ID：14767914
> 
> 赞同：-4
> 
> 时间：2013-02-08T07:47:14.183
> 
> 标签：python

```
n= int(raw_input(" Enter a number"))
i = 0 
length = 0 
maxLength = 0 

for i in range(1, n - 1):
              if length > maxLength:
              maxLength = length 
              i = i + 1
*run other program which gets value*
code 
code 
code 
print i 
print maxLength 
```

所以，到目前为止，我所拥有的是一个程序，它当然会获取一个值，我需要用这个值做的是创建一个循环，它将比较 1 和用户输入之间的整数范围内的每个整数值的值或“n”，然后输出具有最高值的整数，以及该值在范围内的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:21:45.100

```
n = 7
maxLength = 0 

for i in range(1, n+1):
    if i > maxLength:
        maxLength = i

print i 
print maxLength 
```

* * *

我不知道你为什么要这样做......而且我不知道你为什么要遍历一个范围`i`，然后`i = i + 1`在迭代中添加，`for`循环会为你做到这一点..

而且你从来没有`length`在你的逻辑中使用过，所以我删除了它..

同样，我在您的代码中根本看不到任何逻辑。为什么不只是：

```
n = int(raw_input('Enter a number: '))
for i in range(1, n+1):
    pass
print i
print n 
```

# android - [cocos2dx android]使用来自Bitmap的原始数据渲染CCSprite

> ID：14767915
> 
> 赞同：2
> 
> 时间：2013-02-08T07:47:23.793
> 
> 标签：android, bitmap, cocos2d-x, ccsprite

我正在尝试将图像从 URL 获取到位图中，然后使用位图中的原始数据尝试创建 CCSprite。这里的问题是当我显示精灵时图像已损坏。我创建了一个独立的 android 应用程序（没有 cocos2dx）并使用相同的代码来获取和显示位图并正确显示。图像在 cocos2dx 中没有正确渲染的任何原因？

我从 URL 获取图像的代码是：

```
String urlString = "http://www.mathewingram.com/work/wp-content/themes/thesis/rotator/335f69c5de_small.jpg";//http://graph.facebook.com/"+user.getId()+"/picture?type=large";
Bitmap pic = null;
pic = BitmapFactory.decodeStream((InputStream) new URL(urlString).getContent());
int[] pixels = new int[pic.getWidth() * pic.getHeight()];
pic.getPixels(pixels, 0, pic.getWidth(), 0, 0,pic.getWidth(),pic.getHeight());
int len = pic.getWidth()* pic.getHeight();
nativeFbUserName(pixels,len,pic.getWidth(), pic.getHeight()); 
```

函数“nativeFbUserName”是对原生 c++ 函数的调用，它是：

```
void Java_com_WBS_Test0001_Test0001_nativeFbUserName(JNIEnv *env, jobject thiz,jintArray name, jint len, jint width, jint height) {
jint *jArr = env->GetIntArrayElements(name,NULL);
int username[len];
for (int i=0; i<len; i++){
    username[i] = (int)jArr[i];
}
HelloWorld::getShared()->picLen = (int)len;
HelloWorld::getShared()->picHeight = (int)height;
HelloWorld::getShared()->picWidth = (int)width;
HelloWorld::getShared()->saveArray(username);
HelloWorld::getShared()->schedule(SEL_SCHEDULE(&HelloWorld::addSprite),0.1);
}
void HelloWorld::saveArray(int *arrayToSave)
{
arr = new int[picLen];
for(int i = 0; i < picLen; i++){
    arr[i] = arrayToSave[i];
}
}
void HelloWorld::addSprite(float time)
{
this->unschedule(SEL_SCHEDULE(&HelloWorld::addSprite));
CCTexture2D *tex = new CCTexture2D();
bool val = tex->initWithData(arr,(cocos2d::CCTexture2DPixelFormat)0,picWidth,picHeight, CCSizeMake(picWidth,picHeight));
CCLog("flag is %d",val);
CCSprite *spriteToAdd = CCSprite::createWithTexture(tex);
spriteToAdd->setPosition(ccp(500, 300));
this->addChild(spriteToAdd);
} 
```

编辑：所以我发现这个链接[Access to raw data in ARGB_8888 Android Bitmap](https://stackoverflow.com/questions/5010545/access-to-raw-data-in-argb-8888-android-bitmap?answertab=votes#tab-top)指出它可能是一个错误。有没有人找到解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T16:30:10.363

**EDIT** So I just noticed a corruption of images on the lower right corner of the image.I am not sure why this is happening and how to fix it. Any ideas?

**EDIT END**

Answering my own question, I obtained a byte array from the bitmap using:

```
byte[] data = null;
ByteArrayOutputStream baos = new ByteArrayOutputStream();
pic.compress(Bitmap.CompressFormat.JPEG, 100, baos);
data = baos.toByteArray(); 
```

And then passed this byte array to the native code.

# md5 - 如何判断两个二进制文件是否完全相同

> ID：14767918
> 
> 赞同：1
> 
> 时间：2013-02-08T07:47:31.620
> 
> 标签：md5, checksum

我有一个存储库，用于存储所有图像文件。我知道有很多重复的图像，我想删除每一个重复的图像。

我想如果我为每个图像文件生成校验和并将文件重命名为其校验和，我可以通过检查文件名轻松找出是否有重复的。但问题是，我不能确定选择要使用的校验和算法。例如，如果我使用 MD5 生成校验和，我是否可以完全相信校验和是否相同，这意味着文件完全相同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-22T06:47:29.380

为了确保您最好遵循两步程序：首先计算每个文件的校验和。如果校验和不同，您确定文件不相同。如果您碰巧发现一些具有相同校验和的文件，则无法进行逐位比较以 100% 确定它们是否真的相同。这与使用的散列算法无关。

您将获得大量的时间节省，因为对每对可能的文件进行逐位比较将花费永远和一天的时间，而比较一手可能的候选人相当容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:59:06.620

为 2 个不同的文件获得相同校验和的机会非常渺茫，但不能绝对保证（[鸽洞原则](http://en.wikipedia.org/wiki/Pigeonhole_principle)）。一个迹象表明 GIT 对包括 Linux 在内的软件开发源代码使用 SHA-1 校验和并且从未引起任何已知问题，所以我会说你是安全的。我会使用 SHA-1 而不是 MD5，因为如果你真的很偏执，它会稍微好一些。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T07:53:13.637

从安全论坛（[https://security.stackexchange.com/a/3145](https://security.stackexchange.com/a/3145)）中对类似问题的回答来看，碰撞率约为每 2^64 条消息 1 次碰撞。如果您的文件不同，并且您的收藏量不大（即接近这个数字），则可以安全地使用 md5。

另外，请参阅此处对一个非常相似的问题的回复：[在 MD5 产生冲突之前有多少随机元素？](https://stackoverflow.com/questions/201705/how-many-random-elements-before-md5-produces-collisions)

# php - 发送带有 PHP 输出内容的邮件不会显示在收件箱中

> ID：14767922
> 
> 赞同：0
> 
> 时间：2013-02-08T07:47:42.987
> 
> 标签：php, email, mailer

我有忘记密码表格，用户可以在其中输入有效的电子邮件地址。我向用户发送邮件没有问题，我唯一的问题是我想从数据库（用户名和密码）向用户发送他们的帐户信息，以便他们知道他们的用户名和密码。但似乎我很难在用户的收件箱上显示他们的帐户信息。我是 PHP 新手，如果你能帮助我解决这个问题，那就太好了。

这是我的代码：

**编辑：**

```
<?php
if (isset($_POST['submit'])) {
    $email_from = "example@domain.com";
    $datesent = date('D m/d/Y, g:i A');
    $error_message = "";
    $msg = "";
    $subject = "Some text here";

    //some validations here

    $query = "Select * from user_information where EMAIL_ADDRESS = '".$_POST['email']."'";
    $result = mysql_query($query) or die("ERROR: ".mysql_error());
    $check = mysql_num_rows($result);
    if ($check == 0) {
        $row = mysql_fetch_assoc($result);
        $username = $row['USERNAME'];
        $password = $row['PASSWORD'];
        $fname = $row['FIRST_NAME'];
    }
    ob_start(); //Turn on output buffering
?>

    Hi <? php echo $fname; ?>!

        Here is your Account information:

        Username: <? php echo $username; ?>
        Password: <? php echo $password; ?>

    //some text here

<?php
    $message = ob_get_contents();
    ob_get_clean();
    $email_message = "From: ".clean_string($email_from)."\n";
    $email_message. = "Sent: ".clean_string($datesent)."\n";
    $email_message. = "Subject: ".clean_string($subject)."\n";
    $email_message. = "\n".clean_string($message)."\n";
    $headers = 'From: '.$email_from."\r\n";
    $headers. = 'To: '.$email."\r\n";
    $headers. = 'Sent: '.$datesent."\r\n";
    $email_sent = @mail($sendto, $subject, $email_message, $headers);
} ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:33:42.053

改变

```
if ($check == 0) 
```

至

```
if ($check > 0) 
```

注意：不要使用 $_POST ， $_GET 变量而不清理它们。如果您不验证和清理 $_POST 和 $_GET 变量，则使用 mysql_query 很容易发生 sql 注入。使用 PHP_PDO

还

```
 if (isset($_SESSION['submit'])) { 
```

至

```
 if (isset($_POST['submit'])) { 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:56:39.620

以下代码对您不起作用：

```
$check = mysql_num_rows($result);
if($check==0){
    ...
 } 
```

应该：

```
$check = mysql_num_rows($result);
if($check != false){
    ...
 } 
```

如果没有结果行，您只需设置用户名、密码和 fname

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T08:43:23.940

首先启动会话，然后只有你可以使用会话变量，当从数据库中获取数组时，行数不应该为零，像这样

```
 if ($check != 0) {
    $row = mysql_fetch_assoc($result);
    $username = $row['USERNAME'];
    $password = $row['PASSWORD'];
    $fname = $row['FIRST_NAME'];
} 
```

并且这段代码也有错误

```
 ob_start(); //Turn on output buffering
  ?>
  Hi <?php echo $fname; ?>!

    Here is your Account information:

    Username: <?php echo $username; ?>
    Password: <?php echo $password; ?>

//some text here 
```

你没有用过`<?php`，而是`<? php`。希望有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T08:10:20.323

我假设您发布了整个源文件。如果是这样，您`session_start()`的文件开头缺少 a 。没有它访问`$_SESSION`是不可能的。或者，也许您想改用`$_POST`并编写`$_SESSION`？

# android - Android：如何缩放 getMaxAmplitude() 的返回值？

> ID：14767924
> 
> 赞同：2
> 
> 时间：2013-02-08T07:47:53.910
> 
> 标签：android, audio, signal-processing

该函数的返回值应该是一个从 0 到 32767 的整数，代表音频的幅度。

但是，经过测试，即使是很小的声音也很容易达到最大值（32767）。例如，婴儿哭声将输出 (32767) 幅度。但是一点声音也会输出（32767）幅度。

请问如何管理这个函数的返回值？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:54:04.470

假设您的传感器/麦克风/解码器在 0 到 100 范围内响应，因此 0 映射到 0 和 100 将映射到 32767。

```
ScaleConstant = 32767/100 
```

对于 50 的输出：

```
value = 50*ScaleConstant 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-08T21:10:31.897

看来您的设备对声音非常敏感。我之前在android中实现过这段代码没有问题。我建议在另一台设备上测试它并检查问题是否仍然存在或代码是否存在问题。

getMaxAmplitude() 函数返回一个介于 0 到 +32767 之间的值，这是作为声压测量的噪声响度的估计值。要近似获得以 dB 为单位的值，您可以在 android 中使用以下代码，这是对数学方程的直接解释。

```
20 * Math.log10(mediaRecorderObject.getMaxAmplitude()) 
```

这将返回一个近似的 dB 值。

我建议的另一件事是，您使用手机校准应用程序。在应用程序启动之前，您可以在静音环境中进行录音。因此，如果在两部不同手机上运行的应用程序在静音环境中的录音显示值为 4000 和 6000，您可以添加适合您的应用程序的缩放因子。

# regex - 这个正则表达式如何工作？

> ID：14767925
> 
> 赞同：0
> 
> 时间：2013-02-08T07:48:14.260
> 
> 标签：regex

你能解释一下这个正则表达式吗？

```
$price = "...555.55";
$price  = preg_replace('/^./', '', $price); 
```

输出：

```
 $price = ..555.55; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T07:50:27.010

正则表达式`'/^./'`匹配字符串开头的任何字符。

*   `dot(.)`匹配除字符之外的任何`newline`字符，并且
*   `caret(^)`用于匹配开头。

因此，您`preg_replace`将用空字符串替换开头的任何字符。所以，替换第一个之后`...555.55`就变成了。`..555.55``.`

如果您只想`dots(.)`从头开始替换所有，那么您必须`.`在您的正则表达式中转义。因为简单地使用`.`将匹配任何字符。此外，您需要使用一些量词 -`*`或`+`替换更多`dots(.)`.

因此，您的正则表达式将是：

```
preg_replace('/^[.]+/', '', $price); 
```

或者：

```
preg_replace('/^\.+/', '', $price); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T07:49:51.220

`/^./`匹配字符串开始后的第一个字符。

*   `/`并`/`分隔正则表达式。
*   `^`匹配字符串开头的位置，
*   `.`匹配任何字符，除非它是换行符）。

该匹配项将被空字符串 ( `''`) 替换。

如果要替换前三个字符：

```
$price = preg_replace('/^.{3}/', '', $price); 
```

如果要替换字符串开头的所有点，则需要对它们进行转义并应用量词（`+`意思是“一个或多个”）：

```
$price = preg_replace('/^\.+/', '', $price); 
```

如果要替换字符串开头的所有非数字（这可能更有意义）：

```
$price = preg_replace('/^\D+/', '', $price); 
```

# javascript - 是否可以使用 javascript:window.print() 返回值？

> ID：14767933
> 
> 赞同：2
> 
> 时间：2013-02-08T07:48:28.827
> 
> 标签：javascript

我正在尝试保存该值，就`1`好像它成功（返回 true）并且`0`它在数据库中失败（返回 false）一样。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T08:09:05.847

不，`window.print()`是无效的，它不返回值，因此您无法确定对话框是否已打开，或者文档是否实际打印。

相关 - 有一个[`onafterprint`](https://developer.mozilla.org/en-US/docs/DOM/window.onafterprint)事件，但目前不是跨浏览器。

来自[MDN](https://developer.mozilla.org/en-US/docs/DOM/window.onafterprint)：

> 某些浏览器（包括 Firefox 6 及更高版本和 Internet Explorer）会发送打印前和打印后事件，以让内容确定何时可能发生打印。您可以使用它来调整打印期间呈现的用户界面（例如通过在打印过程中显示或隐藏用户界面元素）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T08:02:57.640

打印对话框是操作系统的一部分。Javascript 只能访问属于网页一部分的项目。

# ios - 无法创建新的证书签名请求 (CSR)？

> ID：14767934
> 
> 赞同：2
> 
> 时间：2013-02-08T07:48:28.900
> 
> 标签：ios, iphone-developer-program, csr

我正在尝试在我的 iOS 设备上测试我的应用程序。为此，我需要创建一个`Certificate Signing Request`( `CSR`)。

这些是我采取的步骤：

*   `Keychain Access`在实用程序文件夹中打开。
*   在下拉菜单上单击`Keychain Access`→ `Certificate assistant`→`Request a Certificate from a Certificate Authority`
*   输入我的 Apple ID 电子邮件地址和我的姓名
*   打勾`Save to disk`
*   已点击`continue`
*   将 CSR 保存在桌面上

然后是错误：

```
The specified keychain is not a valid keychain file 
```

我已经尝试搜索引擎寻找答案，但我没有运气！任何帮助将不胜感激！提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T13:27:09.553

我已经解决了这个问题！以下是步骤：

转到您的终端并输入：

```
ls -l ~/Library/ 
```

这将确保钥匙串文件夹的权限正确。

Keychains 文件夹上的 privs 应该是

```
drwxr-xr-x 
```

如果不是`drwxr-xr-x`，请按照以下步骤操作：

*   转到钥匙串访问中的下拉菜单。
*   钥匙串访问 > 钥匙串急救
*   输入您的`Username`和`Password`
*   勾选`Repair`
*   点击**开始**

这解决了我的问题！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-28T16:24:23.310

您需要直接启动位于的钥匙串访问`/Applications/Utilities`。我做到了，它对我有用:)

# facebook-social-plugins - ShareThis 特定文章的社交图标

> ID：14767937
> 
> 赞同：0
> 
> 时间：2013-02-08T07:48:32.763
> 
> 标签：facebook-social-plugins, sharethis

我想将 ShareThis 社交图标添加到包含多篇文章的页面中，目前我在每篇文章上显示这些图标，例如一个页面中有 5 篇文章，每篇文章都有一个 Facebook 与计数器的分享，如果我想分享第 3 篇文章和点击分享，facebook会分享第一篇文章内容而不是第3篇文章内容的链接，有人可以帮忙吗？

我从 ShareThis 复制了以下代码并粘贴到 php 循环中：

```
<span class='st_sharethis_hcount' displayText='ShareThis'></span>
<span class='st_facebook_hcount' displayText='Facebook'></span>
<span class='st_twitter_hcount' displayText='Tweet'></span>
<span class='st_linkedin_hcount' displayText='LinkedIn'></span>
<span class='st_googleplus_hcount' displayText='Google +'></span>
<span class='st_email_hcount' displayText='Email'></span> 
```

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T10:44:00.480

您必须创建动态文章 url，为每篇文章分开并将此 url 传递给 span 标签，如下所示。

```
<span class="st_sharethis_hcount" st_url="article url" st_title="article title"></span> 
```

在您的代码中添加额外的参数。st_url="文章网址"

如果您需要更多帮助。请在下面的链接上查看。

[http://support.sharethis.com/customer/portal/articles/475079-share-properties-and-sharing-custom-information#Properties_Tags](http://support.sharethis.com/customer/portal/articles/475079-share-properties-and-sharing-custom-information#Properties_Tags)

# oracle11g - 套接字连接

> ID：14767938
> 
> 赞同：0
> 
> 时间：2013-02-08T07:48:34.480
> 
> 标签：oracle11g

我想通过 oracle 11g 数据库通过套接字将字符串发送到外部显示单元我收集到字符或字符串首先必须转换为十六进制，并且在字符串的末尾必须添加校验和（以验证要发送的字符串）

谁能告诉我如何打开套接字连接并发送字符串？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-14T07:47:40.517

```
DECLARE
   bt_conn      UTL_TCP.connection;
   retval       BINARY_INTEGER;
   l_sequence   VARCHAR2 (50) := '@0100010303000118000201001401000201'; --string to be sent
BEGIN
   bt_conn :=
      UTL_TCP.open_connection (remote_host   => '127.0.0.1', --IP of socket to be opened 
                               remote_port   => 26665, -- port number of socket
                               tx_timeout    => 15);
   DBMS_LOCK.SLEEP(1); -- this is to ensure a slight pause once opening the connection before  --sending the string
   retval := UTL_TCP.write_line (bt_conn, l_sequence);
   UTL_TCP.flush (bt_conn);
   UTL_TCP.close_connection (bt_conn);
EXCEPTION
   WHEN OTHERS
   THEN
      raise_application_error (-20101, SQLERRM);
      UTL_TCP.close_connection (bt_conn);
end; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T10:49:02.790

从理论上讲，您可以通过使用 Java 存储过程来实现这一点 - 如果您授予自己 priv 从 Oracle JVM 打开 TCP 套接字。但是这种方式无论事务结果如何（提交或回滚）都会发送数据。更好的解决方案是将这些字符串存储在一些队列表中，然后使用一些外部进程将它们撤回。

您也可以使用 DBMS_PIPE。

# javascript - 我有日期函数的节点 JS 错误有什么问题？

> ID：14767940
> 
> 赞同：1
> 
> 时间：2013-02-08T07:48:39.143
> 
> 标签：javascript, node.js, terminal, express, npm

我对新日期（）有一些错误；我使用 node js 和插件 express npm 我构建变量日期但是有问题编译是错误的

这是我的代码.js

```
 var update_time = new Date();
     update_time.formatDate("y/m/d"); 
```

我运行节点这是错误

```
/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:216
          throw ex;
                ^
TypeError: Object Fri Feb 08 2013 14:33:09 GMT+0700 (ICT) has no method 'formatDate'
    at /home/kingdark/Repos/api/epg/src/sync/epg.js:24:22
    at Parser.exports.Parser.Parser.parseString (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:199:18)
    at Parser.EventEmitter.emit (events.js:96:17)
    at Object.exports.Parser.Parser.reset.saxParser.onclosetag (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:183:24)
    at emit (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:589:33)
    at emitNode (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:594:3)
    at closeTag (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:834:5)
    at Object.write (/home/kingdark/Repos/api/epg/node_modules/xml2js/node_modules/sax/lib/sax.js:1253:29)
    at Parser.exports.Parser.Parser.parseString (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:211:31)
    at Parser.__bind [as parseString] (/home/kingdark/Repos/api/epg/node_modules/xml2js/lib/xml2js.js:6:61)
    at /home/kingdark/Repos/api/epg/src/sync/epg.js:16:15 
```

如何解决可能我的语法错误，对不起我的英语技能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:54:57.287

没有内置方法“formatDate”，但是您可以使用类似[node-dateformat 的方法](https://github.com/felixge/node-dateformat)

```
var now = new Date();

dateFormat(now, "yyyy/mm/dd"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:55:56.450

如错误消息的第一行所示：`Object ... has no method 'formatDate'`. JavaScript 中的 Date 对象没有您尝试的格式函数。查看[此问题](https://stackoverflow.com/questions/1056728/)的已接受答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T08:07:46.757

**JavaScript中没有像`formatdate()`日期对象这样的功能......**

因此，请尝试如下...它会对您有所帮助....

```
var d = new Date();
var FormattedDate = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate();
alert(FormattedDate); 
```

# file-upload - 共享点库多文档上传事件的任何事件接收器？

> ID：14767943
> 
> 赞同：0
> 
> 时间：2013-02-08T07:49:04.697
> 
> 标签：file-upload, sharepoint-2010, document-library

共享点库多文档上传事件的任何事件接收器？我正在尝试在库中上传多个文档时更新一些信息。我没有任何线索。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-12T16:59:37.370

您需要捕获每次将文件上传到 SharePoint 时自动触发的**ItemAdded事件。**Visual Studio 本身中有用于 SharePoint 事件接​​收器的模板（*新项目*> *SharePoint* >*事件接收器*）。

该向导将指导您创建解决方案 - 包括您想要处理的事件。创建后，您将在解决方案中看到空的事件接收器，您可以在其中添加逻辑以执行您想要执行的任何操作。传递给每个事件接收器的“**属性**”对象包含有关您上传的文件的所有必要信息。

[此链接](http://community.bamboosolutions.com/blogs/bambooteamblog/archive/2009/03/11/list-event-receivers.aspx)很好地描述了文档库触发的每个事件的功能。

如果您想获得关于该主题的相对深入的指南，请查看[此处](http://karinebosch.wordpress.com/walkthroughs/event-receivers-walkthrough2/)。

另一种方法是使用**SharePoint Designer**创建在项目上传时触发的**SharePoint 工作流**- 尽管这可能是更直接的方法，但它最终会导致可定制性较低的解决方案。

关于同时**多次上传**，SharePoint 事件接​​收器（据我所知）在单个项目（即上传的一个文件）的上下文中，所以我可能会：

*   查询文档库/数据库以查找具有相同“ **DateCreated** ”值的项目
*   使用数据库记录上传文件，记录**上传时间**和**文件名**，然后根据匹配记录执行操作。

# java - java - 如何不在Java中获取网站的移动版本？

> ID：14767949
> 
> 赞同：-3
> 
> 时间：2013-02-08T07:49:46.633
> 
> 标签：java, extract, webpage

此代码返回网站的移动版本。如何获得桌面版本？

```
InputStreamReader page = new InputStreamReader(new URL('http://www.***.com/').openStream()); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T07:50:46.037

使用与桌面浏览器匹配的用户代理

已编辑来源

```
URL url = new URL("http://www.clarku.edu/");
URLConnection connection = url.openConnection();
connection.addRequestProperty("User-Agent", "Mozilla/6.0 (Windows NT 6.2; WOW64; rv:16.0.1) Gecko/20121011 Firefox/16.0.1");

BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream())); 
```

# php - 随机化数组的元素

> ID：14767954
> 
> 赞同：-2
> 
> 时间：2013-02-08T07:50:31.760
> 
> 标签：php, arrays, random

我有一个元素数量未知的数组。我想随机化它的元素，这样每次我显示它时，它的元素都会以随机顺序显示。现在我做：

```
 foreach($photos['data'] as $photo)
{ echo $photo; } 
```

有没有办法随机化 $photos['data'] 数组的元素？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:57:28.037

shuffle() 函数随机化数组中元素的顺序。更多信息，请参阅[此](http://php.net/manual/en/function.shuffle.php)。

此函数为数组中的元素分配新键。现有密钥将被删除。

此函数在成功时返回 TRUE，或在失败时返回 FALSE。

对于 EG：

```
<?php
$my_array = array("a" => "Dog", "b" => "Cat", "c" => "Horse");

shuffle($my_array);
print_r($my_array);
?> 
```

在你的情况下：

```
<?php
suffle($photos['data']);
print_r($photos['data']);
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:54:06.417

您可以使用[随机播放](http://www.php.net/manual/en/function.shuffle.php)功能：

例如：

```
<?php
suffle($photos['data'];
foreach ($photos['data'] as $photo) {
  echo $photo;
}
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T08:17:59.917

```
echo $items[array_rand($items)]; 
```

array_rand() 通过这个函数。这是最适合您问题的选项

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-08T07:55:21.953

使用`sort()`功能。请参阅链接以获取更多帮助[http://php.net/manual/en/function.sort.php](http://php.net/manual/en/function.sort.php) 认为它会对您有所帮助。谢谢。

# c++ - 为什么局部变量的地址对于不同的执行是相同的？

> ID：14767965
> 
> 赞同：1
> 
> 时间：2013-02-08T07:51:21.710
> 
> 标签：c++

```
int fun(int x);

int main()
{
    fun(10);
    fun(11);   
    return 0;
}

int fun(int x)
{
    int loc;//local variable
    cout<<&loc;
    return 0;
} 
```

输出是

```
0xbfb8e610 
0xbfb8e610 
```

这里 loc 是一个局部变量，它在第一次执行函数后超出范围`f(10)`，然后再次分配给下一次执行`fun(11)`。因此，`loc`根据我的理解，变量的地址必须不同。那么为什么`&loc`两次执行的地址相同？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T07:55:32.413

每次调用都`fun`需要自己的位置来存储变量。但是一旦函数返回，变量就不再存在。没有理由不能重复使用该地址。它不一定是，但没有理由不能。

在典型的实现中，堆栈空间用于保存在调用函数时从函数及其局部变量返回所需的信息。当函数返回时，局部变量从堆栈中移除，返回信息从堆栈中弹出，使堆栈回到调用函数时的位置。由于这两个函数调用是相同的，因此它们在两种情况下都以相同的堆栈结束，从而使局部变量具有相同的地址。这是一个有经验的程序员所期望的，但不是依赖的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T08:07:11.083

堆栈上正在发生的事情的有点超简单（模糊）的说明。

`main()`（假设`0xtopomain`保持不变）：

```
 ~Stack~
==============
= 0xtopomain =
= 0x........ =
============== 
```

第一次执行`fun()`（推）：

```
 ~Stack~
==============
= 0xothers.. =
= 0xbfb8e610 = <- loc
= 0xmemoffun = <- other memory allocated for fun()
= 0xtopomain =
= 0x........ =
============== 
```

返回`main()`（弹出）：

```
 ~Stack~
==============
= 0xtopomain = <- Where the hell is loc?!!
= 0x........ =
============== 
```

第二次执行`fun()`（再次推送）：

```
 ~Stack~
==============
= 0xothers.. =
= 0xbfb8e610 = <- loc's here again
= 0xmemoffun = <- other memory allocated for fun()
= 0xtopomain =
= 0x........ =
============== 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-08T07:57:54.970

存储在堆栈中的局部变量（一个特殊的内存区域，新推送的变量位于顶部，旧变量位于底部）。当您调用一个函数时，会完成一些操作，例如存储返回地址、参数和寄存器等。但是有一个顺序。并且在返回时，所有推送的变量都从堆栈中弹出。由于您使用的是相同的函数并且在两次调用之间，您不会在主函数中使用任何局部变量，因此您的变量地址应该是相同的。

# facebook - 如何在动作中获得“观看 X 的一集”而不是“观看 X”？

> ID：14767966
> 
> 赞同：0
> 
> 时间：2013-02-08T07:51:26.343
> 
> 标签：facebook, facebook-opengraph

> Fahim 在 SideReel 上观看了 The Mentalist 的一集。

当我在 sidereel 上看东西时，这就是我的活动。其中“watched”是动作，“The mentalist”是可点击的对象标题，“Sidereel”是应用程序。但是在动作位中有额外的“一集”（不可点击）。

我想实现类似效果的东西，但是当我通过 Action 定义“观看”时，我得到：

> 法希姆观看了侧卷上的心理医生

'The mentalist on sidereel' 是 object.title

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T10:00:23.057

解决方案是“灵活的句子”：在此处了解更多信息：[https ://developers.facebook.com/blog/post/2013/01/03/better-open-graph-stories-with-flexible-sentences/](https://developers.facebook.com/blog/post/2013/01/03/better-open-graph-stories-with-flexible-sentences/)

# actionscript-3 - Security.allowDomain 的解决方法

> ID：14767967
> 
> 赞同：1
> 
> 时间：2013-02-08T07:51:31.003
> 
> 标签：actionscript-3, flash, apache-flex, actionscript, flex4

我有一些应该从外部服务器访问的 SWF 文件。为了能够做到这一点，我需要在每个 SWF 文件中都有 Security.allowDomain。这里的问题是我没有这些文件的 FLA 并且有数千个 SWF。

如果有更好的方法将这些文件配置为可从其他域访问？就像拥有某种配置文件一样。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T08:21:28.163

是的，有一种解决方法，但我认为这是一个安全漏洞，因此它可以在任何版本的 Flash Player 中修复。同时它现在可以工作，所以这里是解决方案 - 使用`URLLoader`with`BINARY` `dataFormat`作为 swf 字节的预加载器：

swf 没有脚本的安全权限：

```
package
{
import flash.display.MovieClip;

public class astest extends MovieClip
{
    public function astest()
    {
    }

    public function externalCheck():void
    {
        graphics.beginFill(0xFF0000);
        graphics.drawCircle(100, 100, 100);
    }
}
} 
```

想要加载以前的 swf 并调用`externalCheck`方法的加载器 swf：

```
package
{
import flash.display.Loader;
import flash.display.MovieClip;
import flash.events.Event;
import flash.net.URLLoader;
import flash.net.URLLoaderDataFormat;
import flash.net.URLRequest;
import flash.utils.ByteArray;

public class astest2 extends MovieClip
{
    private var loader:Loader;
    private var urlLoader:URLLoader;

    public function astest2()
    {
        init();
    }

    //this method works fine
    protected function init():void
    {
        urlLoader = new URLLoader();
        urlLoader.dataFormat = URLLoaderDataFormat.BINARY;
        urlLoader.load(new URLRequest("http://domain_with_your_swfs/astest.swf"));

        urlLoader.addEventListener(Event.COMPLETE, function(event:Event):void
        {
            addChild(loader = new Loader());

            loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onLoader);
            loader.loadBytes(urlLoader.data as ByteArray);
        });
    }

    //this method will fire SecurityError when calling the 'externalCheck' method
    protected function init2(event:Event = null):void
    {
        addChild(loader = new Loader());

        loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onLoader);
        loader.load(new URLRequest("http://domain_with_your_swfs/astest.swf"));
    }

    protected function onLoader(event:Event = null):void
    {
        var swf:Object = loader.content;
        swf.externalCheck();
    }

}
} 
```

不要忘记将`crossdomain.xml`文件放在要加载 swf 文件的服务器的根目录下，没有它 URLLoader 将无法加载字节，这是唯一的安全要求。

# ruby - 字符串替换中的 ERRNO::EACCES

> ID：14767972
> 
> 赞同：1
> 
> 时间：2013-02-08T07:51:41.553
> 
> 标签：ruby, string

我正在尝试编写一个替换字符串的程序。

```
require File.join(APP_ROOT, 'lib', 'main.rb') 
files_names = Dir.entries("../DeSpacer")
files_names.each do |file_name|
  File.open("#{file_name}", "w") do |text|
  text.each {|line| line.gsub!(/\.\s{2,}/, "\.\s")}
  end
end 
```

我不断得到一个

```
Permission denied -. (ERRNO::EACCES) 
```

你能解释一下我做错了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T07:58:37.287

最初的问题是您只是打开文件进行写入（'w'），而不是读取，因此收到异常。

正如上面的评论所提到的，代码还有其他问题。

[这个答案](https://stackoverflow.com/a/1274631/499571)提供了一种更典型的方式来做你想做的事情。

正如同一个问题的[另一个答案](https://stackoverflow.com/a/3502884/499571)中提到的，Ruby 也有一个从 Perl 继承的命令行快捷方式，这使得这样的事情变得微不足道：

```
ruby -pi.bak -e "gsub(/oldtext/, 'newtext')" *.txt 
```

这将编辑一个或多个文件，备份带有后缀“.bak”的先前版本。

从[编程 Ruby](http://www.ruby-doc.org/docs/ProgrammingRuby/html/rubyworld.html)：

```
-i [extension}
' Edits ARGV files in place. For each file named in ARGV, anything you write to 
standard output will be saved back as the contents of that file. A backup copy of
the file will be made if extension is supplied.
% ruby -pi.bak -e "gsub(/Perl/, 'Ruby')" *.txt 
```

# garbage-collection - dispose 方法是否也会处理调用对象？

> ID：14767975
> 
> 赞同：0
> 
> 时间：2013-02-08T07:51:45.547
> 
> 标签：garbage-collection, dispose, idisposable, finalize

我在 MSDN 上找到了以下代码：

```
public class DisposeExample
{

    public class MyResource: IDisposable
    {    
        private IntPtr handle;
        private Component component = new Component(); 
        private bool disposed = false;

        public MyResource(IntPtr handle)
        {
            this.handle = handle;
        }

        public void Dispose()
        {
            Dispose(true);

            GC.SuppressFinalize(this);
        }

        protected virtual void Dispose(bool disposing)
        {
            if(!this.disposed)
            {

                if(disposing)
                {
                    // Dispose managed resources.
                    component.Dispose();
                }

                CloseHandle(handle);
                handle = IntPtr.Zero;

                disposed = true;

            }
        }

        ~MyResource()
        {
            Dispose(false);
        }
    }
    public static void Main()
    {
        MyResource obj = new MyResource()
        //obj.dispose()
    }
} 
```

现在我在这里的困惑是，如果我调用 obj.dispose，它会处理在 MyResources 类中创建的对象，即句柄、组件等。但是 obj 是否也会从堆中删除？同样适用于析构函数。如果我不调用 dispose，则有时会调用析构函数。析构函数中的代码删除了包含的对象。但是obj呢？其次，如果我没有在类中定义析构函数并且我什至不调用 dispose，那么 GC 是否永远不会出现在这里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:04:42.917

IDisposable 的存在是为了从您的托管对象中删除非托管项目。运行时自动提供了一个析构函数，这个析构函数在这里的唯一目的是释放非托管项。一旦您的对象超出范围或设置为**null**并且没有更多对其的引用，最终将被 GC 清除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:21:31.320

我建议使用 IDisposable 的基本规则是，在任何给定的时间，对于实现 IDisposable 的每个对象，都应该有一个明确定义的实体负责确保它被清理（几乎总是通过调用`Dispose`) 在它被放弃之前。这种责任最初将属于调用`IDidposable`对象构造函数的任何实体，但该实体可能会将责任移交给其他实体（可能会再次将其移交，等等）。

一般来说，我猜大多数程序员如果假装终结器和析构函数不存在，他们会得到最好的服务。它们通常只在代码编写不佳的情况下才需要，并且在大多数情况下，人们必须花费精力编写 100% 正确的终结器/析构函数并解决与线程上下文、意外复活等相关的所有棘手问题. 可以更好地确保始终遵循上面给出的主要规则。由于框架及其语言中的一些不幸的设计决策，有一些情况在没有终结器/析构函数的情况下无法很好地处理，但在大多数情况下，它们用于将相对较快失败的代码转换为将大部分工作，但有时可能会以几乎无法调试的方式失败。

# c# - 按钮单击事件未触发并给出错误

> ID：14767979
> 
> 赞同：1
> 
> 时间：2013-02-08T07:52:02.943
> 
> 标签：c#, asp.net

我需要有关我的代码的指导。

```
 public class FacultyTemplatedynamic:ITemplate
{
    ListItemType ItemType;
    string FieldName;
    string InfoType;
    private bool isEditMode = false;
    protected bool isInEditMode
    {
        get { return this.isEditMode; }
        set { this.isEditMode = value; }
    }
    public FacultyTemplatedynamic(ListItemType itemType, string field_name, string info_type)
    {
        FieldName = field_name;
        ItemType = itemType;
        InfoType = info_type;
    }

    public void InstantiateIn(Control container)
    {
        switch (ItemType)
        {
            case ListItemType.Header:
                Literal header_litrl = new Literal();
                header_litrl.Text = "<b>" + FieldName + "</b>";
                container.Controls.Add(header_litrl);
                break;
            case ListItemType.Item:
                switch (InfoType)
                {
                    case "Command":
                        ImageButton edit_button = new ImageButton();
                        edit_button.ID = "edit_button";
                        edit_button.ImageUrl = "~/Images/edit.gif";
                        edit_button.CommandName = "Edit";
                        edit_button.ToolTip = "Edit";
                        container.Controls.Add(edit_button);
                        break;
                    default:
                        Label field_lbl = new Label();
                        field_lbl.ID = "labelName";
                        //field_lbl.Visible =!(bool) isInEditMode;
                        field_lbl.Text = String.Empty; //we will bind it later through 'OnDataBinding' event
                        field_lbl.DataBinding += new EventHandler(OnDataBinding);
                        container.Controls.Add(field_lbl);
                        break;
                }
                break;
            case ListItemType.EditItem:
                if (InfoType == "Command")
                {
                    ImageButton update_button = new ImageButton();
                    update_button.ID = "update_button";
                    update_button.CommandName = "Update";
                    update_button.ImageUrl = "~/Images/update.gif";

                    update_button.ToolTip = "Update";
                    update_button.OnClientClick = "return confirm('Are you sure to update the record?')";
                    container.Controls.Add(update_button);

                    ImageButton cancel_button = new ImageButton();
                    cancel_button.ImageUrl = "~/Images/cancel.gif";
                    cancel_button.ID = "cancel_button";
                    cancel_button.CommandName = "Cancel";
                    cancel_button.ToolTip = "Cancel";
                    container.Controls.Add(cancel_button);

                }
                else// for other 'non-command' i.e. the key and non key fields, bind textboxes with corresponding field values
                {
                    Label field_lbl1 = new Label();
                    field_lbl1.ID = "LabelEdit";
                    //field_lbl1.Visible = (bool)isInEditMode;
                    field_lbl1.Text = String.Empty; //we will bind it later through 'OnDataBinding' event
                    field_lbl1.DataBinding += new EventHandler(OnDataBinding);
                    container.Controls.Add(field_lbl1);
                }
                break;
        }
    }

    private void OnDataBinding(object sender, EventArgs e)
    {
        object bound_value_obj = null;
        Control ctrl = (Control)sender;
        IDataItemContainer data_item_container = (IDataItemContainer)ctrl.NamingContainer;
        bound_value_obj = DataBinder.Eval(data_item_container.DataItem, FieldName);

        switch (ItemType)
        {
            case ListItemType.Item:
                Label field_ltrl = (Label)sender;
                field_ltrl.Text = bound_value_obj.ToString();

                break;
            case ListItemType.EditItem:
                TextBox field_txtbox = (TextBox)sender;
                field_txtbox.Text = bound_value_obj.ToString();

                break;
        }
    }
}

 private void CreateTemplatedGridView()
        {
            PopulateTable();
            for (int i = 0; i < dt.Columns.Count; i++)
            {
                TemplateField tf = new TemplateField();
                tf.HeaderTemplate = new FacultyTemplatedynamic(ListItemType.Header, dt.Columns[i].ColumnName, dt.Columns[i].DataType.Name);
                tf.ItemTemplate = new FacultyTemplatedynamic(ListItemType.Item, dt.Columns[i].ColumnName, dt.Columns[i].DataType.Name);
                tf.EditItemTemplate = new FacultyTemplatedynamic(ListItemType.EditItem, dt.Columns[i].ColumnName, dt.Columns[i].DataType.Name);
                GrdMarkAttendance.Columns.Add(tf);
            }
            TemplateField tf1 = new TemplateField();
            GrdMarkAttendance.Columns.Add(tf1);
            GrdMarkAttendance.DataSource = dt;
            GrdMarkAttendance.DataBind();
        }

     private void PopulateTable()
        {
            dt = new DataTable();
            dt = obj.GetRegister();
        }    

     protected void GrdMarkAttendance_RowDataBound(object sender, GridViewRowEventArgs e)
        {
            PopulateTable();
            int i = dt.Columns.Count;          
            if (e.Row.RowType == DataControlRowType.DataRow)
            {

                DropDownList ddl = new DropDownList();
                ddl.ID = "ddl";
                ddl.Items.Insert(0, "Present");
                ddl.Items.Insert(1, "Absent");
                ddl.Items.Insert(2, "Leave");              
                e.Row.Cells[i].Controls.Add(ddl);
            }
        }    

    protected void Button1_Click(object sender, EventArgs e)
        {

        } 
```

**当我运行此页面并单击按钮时，出现以下错误：**

***“/”应用程序中的服务器错误。***

***找到了具有相同 ID 'labelName' 的多个控件。FindControl 要求控件具有唯一的 ID。***

*说明：在执行当前 web *request*期间发生未处理的异常。*请查看堆栈跟踪以获取有关错误的更多信息以及它* *起源于代码中的位置。**

 **异常详细信息：System.Web.HttpException：找到具有相同 ID* **'labelName'** *的多个控件。*** FindControl***要求控件具有唯一 ID。*

***来源错误：***

*在执行当前 Web 请求期间生成了未处理的异常。**有关异常起源和位置的信息可以使用 * *下面的异常堆栈跟踪来识别。*

***堆栈跟踪：***

```
*[HttpException (0x80004005): Multiple controls with the same ID 'labelName' were found.* *FindControl requires that controls have unique IDs.]*
  *System.Web.UI.Control.FillNamedControlsTable(Control namingContainer, ControlCollection* *controls) +265*
  *System.Web.UI.Control.FillNamedControlsTable(Control namingContainer, ControlCollection*    * controls)* +311
   *System.Web.UI.Control.FindControl(String id, Int32 pathOffset) +145*
   *System.Web.UI.Control.FindControl(String id, Int32 pathOffset) +365*
   *System.Web.UI.Control.FindControl(String id, Int32 pathOffset) +365*
   *System.Web.UI.Control.FindControl(String id, Int32 pathOffset) +365*
   *System.Web.UI.Control.FindControl(String id, Int32 pathOffset) +365*
   *System.Web.UI.Page.FindControl(String id) +38*
   *System.Web.UI.Page.ProcessPostData(NameValueCollection postData, Boolean fBeforeLoad)*  +287 
   *System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean*  *includeStagesAfterAsyncPoint) +4911* 
```

*   **我不知道为什么昨天会出现这个错误，但它工作正常，但是当我在 Row 的特定单元格中使用*** **FindControl 时，** *它开始给我错误，但现在我删除 ** **该代码并单击按钮时显示错误。* *请给你** **建议让我可以走得更远**

**抱歉，如果我以错误的格式发布问题或提供的数据不足**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T07:53:50.557

请阅读堆栈跟踪！

第一行：“找到具有相同 ID 'labelName' 的多个控件”

检查您的视图是否有具有相同 ID 的多个控件。

编辑：

尝试 Ctrl + F 并搜索 labelName.. 如果您在同一个文档中找到 2.. 您发现了问题...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T08:09:28.163

在您的页面中有两个或多个具有相同 id 的控件。找到该控件并为其赋予不同的 id*

# php - 如何将两个 MySQL 列合并为一列？

> ID：14767984
> 
> 赞同：8
> 
> 时间：2013-02-08T07:52:25.077
> 
> 标签：php, mysql, sorting

我想转换这个 MySQL 表：

```
title1 | title2 |type  
-------+--------+----
qwe1   | qwe2   | 3  
asd1   | asd2   | 7 
```

到 PHP 中的这个表

```
title | type  
------+-----
asd1  | 7  
asd2  | 7  
qwe1  | 3  
qwe1  | 3 
```

但我不知道如何正确地按第一列对 PHP 表进行排序。

（这是我目前使用的代码）

```
$sql = "SELECT * FROM table ORDER BY title1, title2";   
$pager = new PS_Pagination( $dbh, $sql, 3, 4, null );//pagination class
$rs = $pager->paginate(); 

while ($row = $rs->fetch(PDO::FETCH_ASSOC)){
    echo "<tr>";
    echo "<td>{$row['title1']}</td>";
    echo "<td>{$row['type']}</td>";
    echo "</tr>";

    echo "<tr>";
    echo "<td>{$row['title2']}</td>";
    echo "<td>{$row['type']}</td>";
    echo "</tr>";
}       

echo "</table>"; 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-08T07:59:31.780

在 SQL 本身中，您可以使用`UNION`. 并`ORDER BY`用于整个查询！

```
SELECT `title1` AS `title`, `type`
FROM `table`
UNION
SELECT `title2` AS `title`, `type`
FROM `table`
ORDER BY `title` ASC 
```

### 输出

```
+-------+------+
| TITLE | TYPE |
+-------+------+
|  asd1 |    7 |
|  asd2 |    7 |
|  qwe1 |    3 |
|  qwe2 |    3 |
+-------+------+ 
```

### 小提琴：[http ://sqlfiddle.com/#!2/ff9cf/1](http://sqlfiddle.com/#!2/ff9cf/1)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-08T08:01:45.170

尝试：

```
SELECT 'title1' AS 'title', 'type' from 'table'
UNION
SELECT 'title2' AS 'title', 'type' from 'table'
ORDER BY 'title' 
```

希望我的语法正确。

本质上，您想要执行两个查询并合并结果，这就是 UNION 所做的。

编辑（请参阅其他答案以了解 UNION 和 UNION ALL 之间的区别）。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-08T07:59:41.477

[**在使用Union**](http://dev.mysql.com/doc/refman/5.0/en/union.html)之前使用 As 将列重命名为 gt 相同的结构[](http://dev.mysql.com/doc/refman/5.0/en/union.html)

 **```
SELECT title1 as title, type
FROM YourTable
UNION ALL
SELECT title2 as title, type
FROM YourTable 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-08T07:58:06.650

我认为你需要使用 UNION：

```
SELECT title1, type
FROM YourTable
UNION ALL
SELECT title2, type
FROM YourTable 
```

如果您不想重复，可以删除使用 UNION 而不是 UNION ALL。

- 编辑

正如建议的那样，如果您也打算对这些结果进行排序，只需添加一个 ORDER BY 子句并为您的列命名：

```
SELECT title1 title, type
FROM YourTable
UNION ALL
SELECT title2 title, type
FROM YourTable
ORDER BY title 
```

祝你好运。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-08T08:00:04.237

你需要[工会](http://dev.mysql.com/doc/refman/5.0/en/union.html)

IE

```
select * from (select title1 as title, type
from table
union
select title2 as title, type
from table) order by title 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-08T08:39:25.753

根据我对您想要连接 title1+title2 然后订购的问题的理解。

我不明白为什么每个人都使用工会

```
Select concat(title1,title2) title, type
from yourTable
order by title asc 
```

会做这项工作

编辑：无法从 iphone 编写代码格式的文本。谢谢 fthiella**

# hadoop - 如何使用 cloudera demo vm 设置 hadoop 集群

> ID：14767985
> 
> 赞同：1
> 
> 时间：2013-02-08T07:52:41.093
> 
> 标签：hadoop, cloudera

cloudera 有演示 vm [https://ccp.cloudera.com/display/SUPPORT/Demo+VMs](https://ccp.cloudera.com/display/SUPPORT/Demo+VMs) 我有 5 台演示 vm 机器，如何使用它们设置 hadoop 集群？我不想使用cloudera manager，因为它总是导致失败，它告诉不能得到心跳，我尝试了很多次并放弃了。

cloudera 没有展示如何使用演示虚拟机设置集群。谁能给我看？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T15:08:11.457

查看这些关于如何创建 CDH 集群的视频，应该不难。

[https://www.youtube.com/watch?v=sCYOQufLzvU](https://www.youtube.com/watch?v=sCYOQufLzvU)

[https://www.youtube.com/watch?v=-d40H96QAI](https://www.youtube.com/watch?v=-d40H96QAIs)

[https://www.youtube.com/watch?v=1ArXR5cl9fk](https://www.youtube.com/watch?v=1ArXR5cl9fk)

尚未尝试将演示虚拟机组合到集群中。

# sql - SQLite/Postgres SQL Query Distinct 列

> ID：14767988
> 
> 赞同：1
> 
> 时间：2013-02-08T07:52:45.553
> 
> 标签：sql, sqlite, postgresql

我已经处理这个问题已经有一段时间了，我无法解决这个问题。就像这样，我有`case_no`（字母数字）`first_name`、`last_name`和的表`description`。

我想要做的是为每个不同的 first_name/last_name 组合只选择一行。所以，例如

```
 case_no         |         first_name         |         last_name
---------------------+----------------------------+------------------------
     AAAAAAA         |          john              |          doe
     BBBBBBB         |          Dog               |          dawg
     CCCCCCC         |          Cat               |          kitten
     DDDDDDD         |          john              |          doe 
```

鉴于该示例，我想检索以下行：

```
 case_no         |         first_name         |         last_name
---------------------+----------------------------+------------------------
     BBBBBBB         |          Dog               |          dawg
     CCCCCCC         |          Cat               |          kitten
     DDDDDDD         |          john              |          doe 
```

我该怎么做呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T07:58:01.827

试试这个，

```
SELECT MAX(CASE_NO), FIRST_NAME, LAST_NAME
FROM TABLE
GROUP BY FIRST_NAME, LAST_NAME; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T08:43:56.330

在 PostgreSQL 中：

```
SELECT DISTINCT ON (2, 3)
       case_no, first_name, last_name
FROM   tbl
ORDER  BY 2, 3, case_no DESC NULLS LAST; 
```

关于`DISTINCT ON`：

*   [在每个 GROUP BY 组中选择第一行？](https://stackoverflow.com/questions/3800551/select-first-row-in-each-group-by-group/7630564#7630564)

与版本的区别`max()`：

*   结果按 排序`first_name, last_name`。你可能想要也可能不想要。
*   性能类似。如果您需要有序的结果，这可能会更快，否则`max()`可能会更快。
*   您可以轻松地从同一行添加更多列。

# android - 在 YouTube 中检索视频时出错

> ID：14767994
> 
> 赞同：0
> 
> 时间：2013-02-08T07:53:16.967
> 
> 标签：android, youtube

我正在制作一个应用程序，您可以在其中流式传输您的视频并在我的应用程序中显示，但我收到错误消息，在检索视频期间发生错误。我的代码片段如下：

```
public class Rads extends Activity {

public static final String SCHEME_YOUTUBE_VIDEO = "ytv";
public static final String SCHEME_YOUTUBE_PLAYLIST = "ytpl";

static final String YOUTUBE_VIDEO_INFORMATION_URL = "http://www.youtube.com/get_video_info?&video_id=";
static final String YOUTUBE_PLAYLIST_ATOM_FEED_URL = "http://gdata.youtube.com/feeds/api/playlists/";

protected ProgressBar mProgressBar;
protected TextView    mProgressMessage;
protected VideoView   mVideoView;

public final static String MSG_INIT = "com.keyes.video.msg.init";
protected String      mMsgInit       = "Initializing";

public final static String MSG_DETECT = "com.keyes.video.msg.detect";
protected String      mMsgDetect     = "Detecting Bandwidth";

public final static String MSG_PLAYLIST = "com.keyes.video.msg.playlist";
protected String      mMsgPlaylist   = "Determining Latest Video in YouTube Playlist";

public final static String MSG_TOKEN = "com.keyes.video.msg.token";
protected String      mMsgToken      = "Retrieving YouTube Video Token";

public final static String MSG_LO_BAND = "com.keyes.video.msg.loband";
protected String      mMsgLowBand    = "Buffering Low-bandwidth Video";

public final static String MSG_HI_BAND = "com.keyes.video.msg.hiband";
protected String      mMsgHiBand     = "Buffering High-bandwidth Video";

public final static String MSG_ERROR_TITLE = "com.keyes.video.msg.error.title";
protected String      mMsgErrorTitle = "Communications Error";

public final static String MSG_ERROR_MSG = "com.keyes.video.msg.error.msg";
protected String      mMsgError      = "An error occurred during the retrieval of the video.  This could be due to network issues or YouTube protocols.  Please try again later.";

/** Background task on which all of the interaction with YouTube is done */
protected QueryYouTubeTask mQueryYouTubeTask;

protected String mVideoId = null;

@Override
protected void onCreate(Bundle pSavedInstanceState) {
    super.onCreate(pSavedInstanceState);

    this.requestWindowFeature(Window.FEATURE_NO_TITLE);
    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);

    // create the layout of the view
    setupView();

    // determine the messages to be displayed as the view loads the video
    extractMessages();

    // set the flag to keep the screen ON so that the video can play without the screen being turned off
    getWindow().setFlags(android.view.WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON, android.view.WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);

    mProgressBar.bringToFront();
    mProgressBar.setVisibility(View.VISIBLE);
    mProgressMessage.setText(mMsgInit);

    // extract the playlist or video id from the intent that started this video

    Uri lVideoIdUri = this.getIntent().getData();

    if(lVideoIdUri == null){
        Log.i(this.getClass().getSimpleName(), "No video ID was specified in the intent.  Closing video activity.");
        finish();
    }
    String lVideoSchemeStr = lVideoIdUri.getScheme();
    String lVideoIdStr     = lVideoIdUri.getEncodedSchemeSpecificPart();
    if(lVideoIdStr == null){
        Log.i(this.getClass().getSimpleName(), "No video ID was specified in the intent.  Closing video activity.");
        finish();
    }
    if(lVideoIdStr.startsWith("//")){
        if(lVideoIdStr.length() > 2){
            lVideoIdStr = lVideoIdStr.substring(2);
        } else {
            Log.i(this.getClass().getSimpleName(), "No video ID was specified in the intent.  Closing video activity.");
            finish();
        }
    }

    ///////////////////
    // extract either a video id or a playlist id, depending on the uri scheme
    YouTubeId lYouTubeId = null;
    if(lVideoSchemeStr != null && lVideoSchemeStr.equalsIgnoreCase(SCHEME_YOUTUBE_PLAYLIST)){
        lYouTubeId = new PlaylistId(lVideoIdStr);
    }

    else if(lVideoSchemeStr != null && lVideoSchemeStr.equalsIgnoreCase(SCHEME_YOUTUBE_VIDEO)){
        lYouTubeId = new VideoId(lVideoIdStr);
    }

    if(lYouTubeId == null){
        Log.i(this.getClass().getSimpleName(), "Unable to extract video ID from the intent.  Closing video activity.");
        finish();
    }

    mQueryYouTubeTask = (QueryYouTubeTask) new QueryYouTubeTask().execute(lYouTubeId);
}

/**
 * Determine the messages to display during video load and initialization. 
 */
private void extractMessages() {
    Intent lInvokingIntent = getIntent();
    String lMsgInit = lInvokingIntent.getStringExtra(MSG_INIT);
    if(lMsgInit != null){
        mMsgInit = lMsgInit;
    }
    String lMsgDetect = lInvokingIntent.getStringExtra(MSG_DETECT);
    if(lMsgDetect != null){
        mMsgDetect = lMsgDetect;
    }
    String lMsgPlaylist = lInvokingIntent.getStringExtra(MSG_PLAYLIST);
    if(lMsgPlaylist != null){
        mMsgPlaylist = lMsgPlaylist;
    }
    String lMsgToken = lInvokingIntent.getStringExtra(MSG_TOKEN);
    if(lMsgToken != null){
        mMsgToken = lMsgToken;
    }
    String lMsgLoBand = lInvokingIntent.getStringExtra(MSG_LO_BAND);
    if(lMsgLoBand != null){
        mMsgLowBand = lMsgLoBand;
    }
    String lMsgHiBand = lInvokingIntent.getStringExtra(MSG_HI_BAND);
    if(lMsgHiBand != null){
        mMsgHiBand = lMsgHiBand;
    }
    String lMsgErrTitle = lInvokingIntent.getStringExtra(MSG_ERROR_TITLE);
    if(lMsgErrTitle != null){
        mMsgErrorTitle = lMsgErrTitle;
    }
    String lMsgErrMsg = lInvokingIntent.getStringExtra(MSG_ERROR_MSG);
    if(lMsgErrMsg != null){
        mMsgError = lMsgErrMsg;
    }
}

/**
 * Create the view in which the video will be rendered.
 */
private void setupView() {
    LinearLayout lLinLayout = new LinearLayout(this);
    lLinLayout.setId(1);
    lLinLayout.setOrientation(LinearLayout.VERTICAL);
    lLinLayout.setGravity(Gravity.CENTER);
    lLinLayout.setBackgroundColor(Color.BLACK);

    LayoutParams lLinLayoutParms = new LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT);
    lLinLayout.setLayoutParams(lLinLayoutParms);

    this.setContentView(lLinLayout);

    RelativeLayout lRelLayout = new RelativeLayout(this);
    lRelLayout.setId(2);
    lRelLayout.setGravity(Gravity.CENTER);
    lRelLayout.setBackgroundColor(Color.BLACK);
    android.widget.RelativeLayout.LayoutParams lRelLayoutParms = new android.widget.RelativeLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT);
    lRelLayout.setLayoutParams(lRelLayoutParms);
    lLinLayout.addView(lRelLayout);

    mVideoView = new VideoView(this);
    mVideoView.setId(3);
    android.widget.RelativeLayout.LayoutParams lVidViewLayoutParams = new android.widget.RelativeLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);
    lVidViewLayoutParams.addRule(RelativeLayout.CENTER_IN_PARENT);
    mVideoView.setLayoutParams(lVidViewLayoutParams);
    lRelLayout.addView(mVideoView);

    mProgressBar = new ProgressBar(this);
    mProgressBar.setIndeterminate(true);
    mProgressBar.setVisibility(View.VISIBLE);
    mProgressBar.setEnabled(true);
    mProgressBar.setId(4);
    android.widget.RelativeLayout.LayoutParams lProgressBarLayoutParms = new android.widget.RelativeLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);
    lProgressBarLayoutParms.addRule(RelativeLayout.CENTER_IN_PARENT);
    mProgressBar.setLayoutParams(lProgressBarLayoutParms);
    lRelLayout.addView(mProgressBar);

    mProgressMessage = new TextView(this);
    mProgressMessage.setId(5);
    android.widget.RelativeLayout.LayoutParams lProgressMsgLayoutParms = new android.widget.RelativeLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);
    lProgressMsgLayoutParms.addRule(RelativeLayout.CENTER_HORIZONTAL);
    lProgressMsgLayoutParms.addRule(RelativeLayout.BELOW, 4);
    mProgressMessage.setLayoutParams(lProgressMsgLayoutParms);
    mProgressMessage.setTextColor(Color.LTGRAY);
    mProgressMessage.setTextSize(TypedValue.COMPLEX_UNIT_SP, 12);
    mProgressMessage.setText("...");
    lRelLayout.addView(mProgressMessage);
}

@Override
protected void onDestroy() {
    super.onDestroy();

    YouTubeUtility.markVideoAsViewed(this, mVideoId);

    if(mQueryYouTubeTask != null){
        mQueryYouTubeTask.cancel(true);
    }

    if(mVideoView != null){
        mVideoView.stopPlayback();
    }

    // clear the flag that keeps the screen ON 
    getWindow().clearFlags(android.view.WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);

    this.mQueryYouTubeTask = null;
    this.mVideoView = null;

}

public void updateProgress(String pProgressMsg){
    try {
        mProgressMessage.setText(pProgressMsg);
    } catch(Exception e) {
        Log.e(this.getClass().getSimpleName(), "Error updating video status!", e);
    }
}

private class ProgressUpdateInfo {

    public String mMsg;

    public ProgressUpdateInfo(String pMsg){
        mMsg = pMsg;
    }
}

/**
 * Task to figure out details by calling out to YouTube GData API.  We only use public methods that
 * don't require authentication.
 * 
 */
private class QueryYouTubeTask extends AsyncTask<YouTubeId, ProgressUpdateInfo, Uri> {

    private boolean mShowedError = false;

    @Override
    protected Uri doInBackground(YouTubeId... pParams) {
        String lUriStr = null;
        String lYouTubeFmtQuality = "17";   // 3gpp medium quality, which should be fast enough to view over EDGE connection
        String lYouTubeVideoId = null;

        if(isCancelled())
            return null;

        try {

            publishProgress(new ProgressUpdateInfo(mMsgDetect));

            WifiManager lWifiManager = (WifiManager) Rads.this.getSystemService(Context.WIFI_SERVICE);
            TelephonyManager lTelephonyManager = (TelephonyManager) Rads.this.getSystemService(Context.TELEPHONY_SERVICE);

            ////////////////////////////
            // if we have a fast connection (wifi or 3g), then we'll get a high quality YouTube video
            if( (lWifiManager.isWifiEnabled() && lWifiManager.getConnectionInfo() != null && lWifiManager.getConnectionInfo().getIpAddress() != 0) ||
                ( (lTelephonyManager.getNetworkType() == TelephonyManager.NETWORK_TYPE_UMTS ||

                   /* icky... using literals to make backwards compatible with 1.5 and 1.6 */       
                   lTelephonyManager.getNetworkType() == 9 /*HSUPA*/  ||
                   lTelephonyManager.getNetworkType() == 10 /*HSPA*/  ||
                   lTelephonyManager.getNetworkType() == 8 /*HSDPA*/  ||
                   lTelephonyManager.getNetworkType() == 5 /*EVDO_0*/  ||
                   lTelephonyManager.getNetworkType() == 6 /*EVDO A*/) 

                 && lTelephonyManager.getDataState() == TelephonyManager.DATA_CONNECTED) 
               ){
                lYouTubeFmtQuality = "18";
            }

            ///////////////////////////////////
            // if the intent is to show a playlist, get the latest video id from the playlist, otherwise the video
            // id was explicitly declared.
            if(pParams[0] instanceof PlaylistId){
                publishProgress(new ProgressUpdateInfo(mMsgPlaylist));
                lYouTubeVideoId = YouTubeUtility.queryLatestPlaylistVideo((PlaylistId) pParams[0]);
            }

            else if(pParams[0] instanceof VideoId){
                lYouTubeVideoId = pParams[0].getId();
            }

            mVideoId = lYouTubeVideoId;

            publishProgress(new ProgressUpdateInfo(mMsgToken));

            if(isCancelled())
                return null;

            ////////////////////////////////////
            // calculate the actual URL of the video, encoded with proper YouTube token
            lUriStr = YouTubeUtility.calculateYouTubeUrl(lYouTubeFmtQuality, true, lYouTubeVideoId);

            if(isCancelled())
                return null;

            if(lYouTubeFmtQuality.equals("17")){
                publishProgress(new ProgressUpdateInfo(mMsgLowBand));
            } else {
                publishProgress(new ProgressUpdateInfo(mMsgHiBand));
            }

        } catch(Exception e) {
            Log.e(this.getClass().getSimpleName(), "Error occurred while retrieving information from YouTube.", e);
        }

        if(lUriStr != null){
            return Uri.parse(lUriStr);
        } else {
            return null;
        }
    }

    @Override
    protected void onPostExecute(Uri pResult) {
        super.onPostExecute(pResult);

        try {
            if(isCancelled())
                return;

            if(pResult == null){
                throw new RuntimeException("Invalid NULL Url.");
            }

            mVideoView.setVideoURI(pResult);

            if(isCancelled())
                return;

            // TODO:  add listeners for finish of video
            mVideoView.setOnCompletionListener(new OnCompletionListener(){

                public void onCompletion(MediaPlayer pMp) {
                    if(isCancelled())
                        return;
                    Rads.this.finish();
                }

            });

            if(isCancelled())
                return;

            final MediaController lMediaController = new MediaController(Rads.this);
            mVideoView.setMediaController(lMediaController);
            lMediaController.show(0);
            //mVideoView.setKeepScreenOn(true);
            mVideoView.setOnPreparedListener( new MediaPlayer.OnPreparedListener() {

                public void onPrepared(MediaPlayer pMp) {
                    if(isCancelled())
                        return;
                    Rads.this.mProgressBar.setVisibility(View.GONE);
                    Rads.this.mProgressMessage.setVisibility(View.GONE);
                }

            });

            if(isCancelled())
                return;

            mVideoView.requestFocus();
            mVideoView.start();
        } catch(Exception e){
            Log.e(this.getClass().getSimpleName(), "Error playing video!", e);

            if(!mShowedError){
                showErrorAlert();
            }
        }
    }

    private void showErrorAlert() {

        try {
            Builder lBuilder = new AlertDialog.Builder(Rads.this);
            lBuilder.setTitle(mMsgErrorTitle);
            lBuilder.setCancelable(false);
            lBuilder.setMessage(mMsgError);

            lBuilder.setPositiveButton("OK", new DialogInterface.OnClickListener(){

                public void onClick(DialogInterface pDialog, int pWhich) {
                    Rads.this.finish();
                }

            });

            AlertDialog lDialog = lBuilder.create();
            lDialog.show();
        } catch(Exception e){
            Log.e(this.getClass().getSimpleName(), "Problem showing error dialog.", e);
        }
    }

    @Override
    protected void onProgressUpdate(ProgressUpdateInfo... pValues) {
        super.onProgressUpdate(pValues);

        Rads.this.updateProgress(pValues[0].mMsg);
    }

}

@Override
protected void onStart() {
    super.onStart();
}

@Override
protected void onStop() {
    super.onStop();
} 
```

}