# StackOverflow 问答 12703000-12703999

# c++ - 模板类并强制某些方法由用户实现

> ID：12703001
> 
> 赞同：1
> 
> 时间：2012-10-03T06:31:22.293
> 
> 标签：c++, stl

> **可能重复：**
> [是否可以编写 C++ 模板来检查函数是否存在？](https://stackoverflow.com/questions/257288/is-it-possible-to-write-a-c-template-to-check-for-a-functions-existence)

我正在尝试编写一个 C++ 类模板。我想要的是当这个类模板与*用户定义的类*一起使用时，我想强制那些用户定义的类实现某些方法，例如，`to_data`和`from_data`。我不想要那些用于基本 C++ 原始数据类型的东西。我该怎么做呢？例如，`std::vector`如果类的复制构造函数不可用，则给出编译错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T09:17:06.873

Simply use the methods in your class template:

```
template <typename T>
struct Serializer
{
    void serialize(T const & t) const { write(t.to_data()); }
    void deserialize(T & t) const { t.from_data(read()); }
}; 
```

If the types you instantiate the template with have the appropriate member functions, everything will be fine. If they don't, the compiler will trigger an error:

```
struct Foo
{
    int val;

    int to_data() const { return val; }
    void from_data(int i) { val = i; }
};

struct Bar {};

Serializer<Foo> sf;
sf.serialize(); // OK

Serializer<Bar> sb;
sb.serialize(); // compiler error: Bar has no member function named "to_data" 
```

Note that the compiler error is only triggered when we try to use some functions of the class template. This is because member functions of class templates are only instantiated (compiled, if you will) when you use them. So it is perfectly fine to instantiate `Serializer` with `Bar` **as long as you don't use the `serialize` and `deserialize` member function**.

* * *

Regarding the second issue, namely how to provide a different behavior for primitive types, you have several solutions. The first one is to specialize your class template for the types you want to handle differently. For instance, the following code specializes `Serializer` so that it handles `int` differently:

```
template <>
struct Serializer<int>
{
    void serialize(int i) const { write(i); }
    void deserialize(int & i) const { i = read(); 
}; 
```

However, this implies writing a specialization for each particular type, even if some of them are in fact handled in the same way.

A less cumbersome solution would be to use type traits and [`std::enable_if`](http://en.cppreference.com/w/cpp/types/enable_if) to select the correct implementation depending on some characteristics of the arguments types (in this case, whether they are primitive or not):

```
#include <type_traits>

template <typename T, typename Enable = void>
struct Serializer
{
    // same as before
};

// Partial specialization for fundamental types
template <typename T>
struct Serializer<T, typename 
    std::enable_if<std::is_fundamental<T>::value>::type>
{
    void serialize(T t) const { write(t); }
    void deserialize(T & t) const { t = read(); }
};

Serializer<Foo> sf; // first implementation
Serializer<int> si; // second (specialized) implementation 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T06:34:19.937

You can make the methods that must be implemented by user pure virtual functions. If you don't want those for basic C++ primitive datatypes, you can specialize your template for these situations and provide default implementations for these cases.

# html - HTML tag attribute

> ID：12703004
> 
> 赞同：0
> 
> 时间：2012-10-03T06:31:40.130
> 
> 标签：html, xhtml, tags

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:38:18.443

> My question is, can I just use the `<a>` elements `tag` attribute

There is no tag attribute in HTML. So that will have all the problems of `data-*` but without the future support.

If you want to store arbitrary data in HTML 4/XHTML 1 then the best attribute to use is probably `class`.

> The href attributes value is set to: `javascript:void(0);` because the actual URL triggers an AJAX event

Don't do that. Use a real (working) URI, and add a JavaScript event handler that prevents the default behaviour if it succeeds. If the URI contains the data you need for your JS to run, then all the better as you can extract it from the `href` attribute.

# java - Java error with double variables

> ID：12703008
> 
> 赞同：2
> 
> 时间：2012-10-03T06:31:55.373
> 
> 标签：java

I'm attempting to add interactive input to a program. I've been working on it for hours and can't figure it out. Here is the code -

```
// This program calculates an employee's take home pay. 
    public class Payrolls
        import javax.swing.JOptionPane;

    {
        public static void main(String args[])
        {
            String salaryString;
            double salary;
            double stateTax;
            double federalTax;
            String numDependentsString;
            double numDependents;
            double dependentDeduction;
            double totalWithholding;
            double takeHomePay;

            salaryString = JOptionPane.showInputDialog ("Enter Salary Here: ");
            salary = double.parseDouble (salaryString);
            numDependentsString = JOptionPane.showInputDialog     ("Enter Number of Dependents: ");
            numDependents = double.parseDouble (numDependentsString);

            // Calculate state tax here.
            stateTax = salary * .06;

            System.out.println("State Tax: $" + stateTax);
            // Calculate federal tax here. 
            federalTax = salary * .25;

            System.out.println("Federal Tax: $" + federalTax);
            // Calculate dependant deduction here.
            dependentDeduction = (salary * .02) * numDependents;

            System.out.println("Dependents: $" + dependentDeduction);
            // Calculate total withholding here.
            totalWithholding = stateTax + federalTax;

            // Calculate take home pay here.
            takeHomePay = salary - totalWithholding + dependentDeduction;

            System.out.println("Salary: $" + salary);
            System.out.println("Take Home Pay: $" + takeHomePay);
            System.exit(0);
        }
    } 
```

**I have 9 errors -**

```
Payrolls.java:19: error: class expected
                salary = double.parseDouble (salaryString);
                                ^
Payrolls.java:19: error: ';' expected
                salary = double.parseDouble (salaryString);
                                           ^
Payrolls.java:19: error: not a statement
                salary = double.parseDouble (salaryString);
                                             ^
Payrolls.java:19: error: ';' expected
                salary = double.parseDouble (salaryString);
                                                         ^
Payrolls.java:21: error: class expected
                numDependents = double.parseDouble (numDependentsString);
                                       ^
Payrolls.java:21: error: ';' expected
                numDependents = double.parseDouble (numDependentsString);
                                                  ^
Payrolls.java:21: error: not a statement
                numDependents = double.parseDouble (numDependentsString);
                                                    ^
Payrolls.java:21: error: ';' expected
                numDependents = double.parseDouble (numDependentsString); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-03T06:35:08.547

```
Double.parseDouble (salaryString); 
```

它的`Double.parseDouble`，不是`double.parseDouble`。:)

该`parseDouble`方法来自[Double](http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html)类。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T06:35:09.393

尝试 Double.parseDouble 而不是 double.parseDouble

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T06:37:59.533

请记住，Java 区分大小写。因此，它将 double 和 Double 视为两个单独的项目。在这种情况下，您尝试使用 Double，但错误地指定了 double。这是一个非常常见的 Java 问题，不要为此感到难过，只要注意 Java 是区分大小写的。编码快乐！！

现在，要解决问题：

线

```
 salary = double.parseDouble (salaryString); 
```

应该读

```
 salary = Double.parseDouble (salaryString); 
```

“numDependents = Double.parseDouble (numDependentsString);”也是如此 行也。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-03T18:17:14.407

请使用 Double 而不是 double。Java 是纯区分大小写的语言。double 是一个关键字，表示变量的数据类型，没有方法。Double 是 java 中的类，具有类似 parseDouble(String str) 的方法。此方法返回字符串值的双精度值。

```
salary = double.parseDouble(salaryString);
numDependentsString = JOptionPane.showInputDialog("Enter Number of Dependents: ");
numDependents = double.parseDouble(numDependentsString); 
```

继续编码！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-03T06:36:17.893

在此代码中，您在其他任何地方都没有任何问题：

```
 salaryString = JOptionPane.showInputDialog ("Enter Salary Here: ");
    salary = Double.parseDouble (salaryString);
    numDependentsString = JOptionPane.showInputDialog     ("Enter Number of Dependents: ");
    numDependents = Double.parseDouble (numDependentsString); 
```

您使用的是 double.parseDouble，而不是使用包装类 Double。

用上面的代码替换你的代码，你会没事的。

我的意思是使用 Double.parseDouble 代替。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-03T06:36:33.323

使用双重包装类

```
Double.parseDouble(salaryString) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-03T06:37:06.597

```
 salary = double.parseDouble (salaryString); 
```

将其更改为

```
salary = Double.parseDouble (salaryString); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-03T06:42:14.493

Java has very very helpful errors, just read them carefully.

The 19 means line number 19, then just read what it's telling you carefully. You usually don't have to read past the first few lines of the error printout. Only fix that one problem, and when you fix it, compile again and hopefully it will be a different error to solve. Repeat until you run out of errors.

I know there is a tendency to ignore the messages because they are so long, but seriously, they work.

Now, to make things easier, download Eclipse. It's free and easy--it will set up quickly. Create your program in Eclipse. It will underline every error and when you put your mouse over the error line it will tell you exactly what's wrong.

It really makes things much easier.

# xcode - 卸载以前的 XCode 并安装 XCode 4.5

> ID：12703011
> 
> 赞同：0
> 
> 时间：2012-10-03T06:32:14.983
> 
> 标签：xcode, xcode4.2, xcode4.5

完全卸载以前版本的 XCode 并安装 XCode 4.5 是否安全？因为...

我刚刚卸载了 XCode 4.2，它主要删除了开发者文件夹中的所有文件，现在我安装了 4.5，但它让我害怕，因为开发者文件夹中没有任何内容。即使是这种情况，XCode 仍然可以工作吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T06:34:33.153

Xcode 4.4+ 被设计为通过 App Store 安装，现在将所有内容存储在 /Applications 目录下的 Xcode.app 包中。

确保使用`xcode-select`为 Xcode 安装选择新路径，并从 Xcode 4.5 中安装命令行工具。

来自[Xcode 4.5 发行说明](https://developer.apple.com/library/mac/releasenotes/DeveloperTools/RN-Xcode/_index.html#//apple_ref/doc/uid/TP40001051-SW174)：

> 从 Xcode 4.3 开始，Xcode.app 文件包包含所有 Xcode 开发人员工具。Xcode 使用的命令行工具的手册页也放在这个包中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T06:39:44.867

是的 完全卸载以前的Xcode 并安装新的Xcode4.5 是完全安全的。我已经做到了，一切对我来说都很好。

只需在安装 Xcode4.5 后安装命令行工具，如下图所示：）

![在此处输入图像描述](../Images/1688e1a7435a1d0df0340d40397d9f0d.png)

# ios - 需要一些关于 iOS 项目的面向对象设计的建议

> ID：12703020
> 
> 赞同：2
> 
> 时间：2012-10-03T06:33:38.860
> 
> 标签：ios, iphone, objective-c

我有几个关于代码设计的问题。这可能很长。我会尽可能缩短它。

# Q1) 依赖还是独立？

创建一个类并添加所需的功能，以允许对象更改自己的状态与控制器（又名视图控制器）更改的状态

我发现代码示例在尝试交流时是最好的： 注意：我减少了一些代码行。[来自http://www.techotopia.com/index.php/An_Overview_of_Objective-C_Object_Oriented_Programming](http://www.techotopia.com/index.php/An_Overview_of_Objective-C_Object_Oriented_Programming)的原始代码。

无论如何，如果我必须为帐户设置帐户余额，建议我这样做：

```
@interface BankAccount: NSObject
{
    double accountBalance;
    long accountNumber;
}
-(double) getAccountBalance;
-(void) setAccountBalance: (double) x;
@end

// Implementation Section Starts Here

@implementation BankAccount

-(void) setAccountBalance: (double) x
{
    accountBalance = x;
}

-(double) getAccountBalance
{
    return accountBalance;
}
@end

//usage
    BankAccount *account1 = [BankAccount alloc] init];

    [account1 setAccountBalance: 1500.53]; 
```

----但是我相信我会在这样的控制器中编写它：-----

```
@interface BankAccount: NSObject
{
    double accountBalance;
    long accountNumber;
}

import "BankAccount.h"
@interface MeViewController : UIViewController 
-(void)setAccountBalance:(double)x toAccount:(BankAccount *)tempBankAcc;
@end

@implementation myViewController

-(void) setAccountBalance:(double)x toAccount:(BankAccount *)tempBankAcc
{
    tempBankAcc.accountBalance = x;
}

//USAGE
BankAccount *account1 = [BankAccount alloc] init];

[self setAccountBalance(Account1,1500.53)]

@end 
```

因为我相信是我（meViewController）设置了AccountBalance，而不是帐户本身作为帐户只是一个帐户。这是一个非常糟糕的主意吗？我可以通过他们的示例看到该对象可以照顾自己（独立），这意味着改变自己的状态，而我的方法说 BankAccount 只能通过/使用控制器（依赖）修改？？？

# Q2) 控制器中应该/不应该有什么？

我还在某处读过控制器内部编写的代码应该仅用于：

响应用户交互和更新视图

这是否意味着我永远不应该在控制器中执行以下操作：

从 NSUserDefaults 读取或写入。由于它是一个单例，我认为无论哪个控制器当前处于活动状态，写入它都会更容易？馊主意？我知道我应该在 applicationDidEnterBackground 和 applicationWillTerminate 中保存数据（包括 NSUserDefaults），因此将数据保存在其他地方（例如，在另一个控制器中）是个坏主意。

# Q3) 你最常使用哪些设计模式，你错误地滥用了哪些设计模式？

单例：我的理解是 [UIApplication sharedApplication],[NSNotification defaultCenter] 和其他单例可以通过所有控制器访问，那么 NSObject 子类呢？还是 UIView 子类？

显然，您可以使用 NSNotification 在模型更新时通知其他控制器。有人可以告诉我何时使用以及如何使用它的示例吗？也许当您导入一些具有与最初预期不同的属性的数据时，可能会通知观察者升级的数据模型，这是您何时在数据模型中通知控制器的示例？

现在问题已经够多了。

对不起，但我不得不把它们都从我的脑海中抹去:-)

本

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:55:19.527

首先要做的事情：不要使用这个

```
@interface BankAccount: NSObject
{
    double accountBalance;
    long accountNumber;
}
-(double) getAccountBalance;
-(void) setAccountBalance: (double) x;
@end 
```

在这里，`accountBalance`ivar 是公共的，而它应该是私有的。

相反，使用`@property`：

```
@interface BankAccount: NSObject
    @property (assign, nonatomic) double accountBalance;
@end 
```

这将定义一个二传手：

```
- (void)setAccountBalance:(double)accountBalance { ... } 
```

和一个吸气剂：

```
- (double)accountBalance { ... } 
```

和一个**名为**`_accountBalance`.

然后，您可以在您的实现中使用：

```
@synthesize accountBalance; 
```

它将像这样自动创建setter/getter：

```
- (void)setAccountBalance:(double)accountBalance {
    _accountBalance = accountBalance;
}

- (double)accountBalance {
    return _accountBalance;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:08:17.323

Q1) 模型层对象，尤其是那些将与之交互和变异的对象，应该负责它们自己的内部表示以及表示交互规则的知识。对于银行帐户，我认为您提出的两种方法都是错误的。尤其是第二个，因为它实际上甚至负责从帐户中更新状态。但第一个也是因为它只提供了一种`setBalance`方法，这在现实世界中没有意义。使用该账户的人现在必须处理转账、取款、存款、利息等所有逻辑。真的，银行账户应该有方法`deposit` `withdraw` `balance`等等，这样它就可以表示这些交互发生的规则和逻辑。在这种情况下，借鉴这在现实生活中的工作方式可能会有所帮助。

Q2）这在很大程度上取决于您的应用程序的设置方式。一个简单应用的模型层可能只是一个 plist 或`NSUserDefaults`一些`NSDictionary`实例。在这种情况下，您可能不想让*视图*控制器与之交互，但可能需要一个数据控制器对象。但是你可以让视图控制器与这种模型对话而侥幸逃脱。但是，当事情变得更复杂时，您肯定需要分离关注点，并让控制器对象更接近数据模型，或者让更复杂的模型提供它们交互的规则。就我个人而言，我会避免让所有视图控制器加载 NSUserDefaults，您可以只创建一个数据控制器类来处理它并根据需要实例化它。

Q3）我在这里看到两个问题。不确定“所有控制器都可以访问”是什么意思。但是如果使用得当，NSNotification 非常有用。假设您有 3 个视图控制器，它们都协调银行帐户的不同视图 - 一个是分类帐，一个是饼图，一个是预算计算器。当应用程序请求从 Internet 刷新银行帐户信息时，当该请求返回时，它可以立即通知所有这三个视图控制器，它们可以相应地刷新视图。当您有多个对象有兴趣知道某事发生时，它真的会被使用。

希望这会有所帮助，如果您有任何问题，请告诉我。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:47:26.080

**Q1** 如果把对象本身的所有业务逻辑都拿掉，无非就是一个浅容器对象。此外，您需要在您使用的每个控制器中复制该逻辑。业务逻辑进入业务对象。

对于您的具体示例，控制器的方法只将调用委托给对象本身（实际上，如果您在此处使用属性，则调用相同的方法）。所以你一无所获。在控制器中拥有该方法可能会很好，如果控制器不仅仅是调用对象，可能会更新更多数据。这里的一个很好的提示是控制器不使用它自己的任何实例变量。它很容易成为一个类方法。这是一种代码气味。

**Q2** 基本上，您有三种访问 NSUserDefaults 的选择：应用程序级别、视图控制器级别或视图级别。

最糟糕的情况是视图级别 - 视图应该在任何上下文中工作，并且应该可以按照您喜欢的任何方式进行配置，并且它当然不应该依赖于一些外部事物的魔法。这将使可重用性（不仅对于其他应用程序，而且在同一个应用程序内）成为一种痛苦。

访问视图控制器级别的默认值通常是可以的，尤其是当它们扮演一些单例角色时。即，如果您只有一个播放屏幕和一个设置屏幕，则它们中的每一个都可能很容易与默认值对话。如果您有可能对同一类的多个实例进行了不同的配置，那么将这些实例“个性化”会很痛苦，而且气味难闻。

这是您希望将默认值的访问置于视图控制器之外的地方，这是最优雅和灵活的方法，但有时只是没有必要。

可重用性可能比预期的要早，即打开第二个文本编辑器窗口（可能显示也可能不显示不同的字体）、第二个设置屏幕（即弹出窗口）、第二个棋盘游戏屏幕等。

**Q3** 我认为单身人士本身并不坏。不过，它们确实带有很高的价格标签。它们在早期阶段很方便，就像全局变量一样。

它们很快就会变得非常昂贵。没有所有权，一切都是共享的，没有机会在不影响该对象的其他用户的情况下进行任何更改。依赖于单例的对象的可重用性很差，因为您也总是需要这些单例。大多数时候我倾向于避开它们。每当我的代码中有其中一个时，摆脱它们都是一个不错的决定。

至于通知：它们实际上是为在系统级别进行通信而设计的。它们不应该被滥用于正常的应用程序逻辑和通信。这是系统级事件的广播。如果您将它们用作对象通信的替代品，那么这无疑是一条通往地狱的道路。这会将*所有*逻辑都从代码中剔除，并且无法构建负责任的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T06:56:41.760

阅读斯坦福关于 MVC 的讲座。我想你会在那里找到很多答案[http://www.stanford.edu/class/cs193p/cgi-bin/drupal/node/205](http://www.stanford.edu/class/cs193p/cgi-bin/drupal/node/205)

# sql - How to select by DATE and add default sequenct while insert in select command?

> ID：12703041
> 
> 赞同：0
> 
> 时间：2012-10-03T06:34:34.653
> 
> 标签：sql, db2

copy a new row with SPECIALITY = 305 in same table where

```
PROV_TYPE      =014          
SEQ_NO         --------> start by 1,2,3 like that  
SPECIALTY      =300                                                               
D_PROC_PT_SP_BEGIN current date                             
D_PROC_PT_SP_END   noo end date!! blank 
```

# php - Magento 不允许像 ä 这样的特殊字符

> ID：12703042
> 
> 赞同：6
> 
> 时间：2012-10-03T06:34:43.217
> 
> 标签：php, magento

我在我的 magento 商店中上传了我的产品的 csv。在 CSV 中，我的产品名称带有特殊字符，例如 ä 。但在前端，这些字符显示了一些 html 标签，如
“& auml;”。我想避免这样的字符。有什么办法可以解决这个问题。

谢谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T06:44:06.803

像这样尝试可能会帮助您在哪里显示产品名称

```
<?php 

    html_entity_decode(htmlentities(utf8_decode(strip_tags($_newProduct['name']))));

   // where $_newProduct is the collection of product
 ?> 
```

或尝试这样的事情

这些问题的解决方案是添加

```
AddDefaultCharset Off 
```

在 magento 根目录的 .htaccess 文件中。如果您仍然有问题，请升级到此：

```
AddDefaultCharset UTF-8 
```

或者

转到 .htaccess 文件并从中删除 #

```
AddDefaultCharset UTF-8 
```

和

以 .txt 格式打开您的 csv 文件并在 UTF-8 下另存为，然后将数据导入 magento

您的特殊字符也将在 magento admin 中导入而不会出现任何错误

希望对你有帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:23:13.893

感谢您的回复。我只使用了 html_entity_decode(); . 它给了我正确的输出。谢谢。

# sql-server-2008 - Difference between stored procedure and function in SQL Server

> ID：12703044
> 
> 赞同：1
> 
> 时间：2012-10-03T06:34:59.017
> 
> 标签：sql-server-2008

> **Possible Duplicate:**
> [Function vs. Stored Procedure in SQL Server](https://stackoverflow.com/questions/1179758/function-vs-stored-procedure-in-sql-server)

I want to know what the differences between a stored procedure and a function in SQL Server are?

And where each one is used in ?

For example I have just written a stored procedure and I have finished it with

```
return @@Identity 
```

So can we say is this a function because this will return a value?

These sort of problems has made me distracted.

# html - 列顶部的表格行

> ID：12703046
> 
> 赞同：0
> 
> 时间：2012-10-03T06:35:03.050
> 
> 标签：html, html-email

我在表格行顶部的文本在某种程度上受到它下面的第二列的影响..似乎不能让它占据表格的整个宽度。

[http://jsfiddle.net/PmWBw/2/](http://jsfiddle.net/PmWBw/2/)

对不起，我知道我是唯一一个还在桌子上工作的人。HTML 电子邮件仍然存在。

```
 <table width="800" class="bodyContent" style="border: 1px solid #b8b7b7;margin-bottom: 20px;">

            <table> 
                 <tr style="width: 800px;">TEST TEXT TEST TEXT TEST TEXT TEST TEXT TEST TEXT TEST TEXT</tr>
            </table>

            <td valign="top" width="260" class="leftColumnContent">

                <table border="0" cellpadding="20" cellspacing="0" width="100%">
                    <tr mc:repeatable>
                        <td valign="top">
                            <img src="http://www.homeplan.com/newsletter/images/top_left.png" mc:label="image" mc:edit="tiwc300_image00" />
                        </td>
                    </tr>
                </table>
            </td>

            <td valign="top" width="260" class="rightColumnContent">

                <!-- // Begin Module: Top Image with Content \\ -->
                <table border="0" cellpadding="20" cellspacing="0" width="100%">
                    <tr mc:repeatable>

                        <td valign="top">

                            <img src="http://www.homeplan.com/newsletter/images/top_right.png" mc:label="image" mc:edit="tiwc300_image01" />

                        </td>
                    </tr>

                </table>  
            </td>                  
</table> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T06:40:14.233

对于初学者来说，您的第一行包含一个 td，它位于另一个 td 内的 tr 内。如果不出意外，这可能应该得到解决。

此外，与您的原始问题有点无关，但是当我没有看到添加的代码获得任何真正的好处或功能时，在您的单元格内放置表格似乎有点多余。您正在使用可以应用于 td 或图像本身的相同内容来设置内部表格的样式。至少在这个特定的应用程序中。
只是一个想法。

**更新：**

```
<table width="600" class="bodyContent" style="border: 1px solid #b8b7b7;margin-bottom: 20px;">
    <tr>
        <td colspan="2">
            <table>
                <tr style="width: 600px;">
                    <td>TEST TEXT TEST TEXT TEST TEXT TEST TEXT TEST TEXT TEST TEXT</td>
                </tr>
            </table>
        </td>
    </tr>

    <tr>
        <td valign="top" width="260" class="leftColumnContent">
            <table border="0" cellpadding="20" cellspacing="0" width="100%">
                <tr mc:repeatable>
                    <td valign="top">
                        <img src="http://www.homeplan.com/newsletter/images/top_left.png" mc:label="image" mc:edit="tiwc300_image00" />
                    </td>
                </tr>
            </table>
        </td>

        <td valign="top" width="260" class="rightColumnContent">
            <!-- // Begin Module: Top Image with Content \\ -->
            <table border="0" cellpadding="20" cellspacing="0" width="100%">
                <tr mc:repeatable>
                    <td valign="top">
                        <img src="http://www.homeplan.com/newsletter/images/top_right.png" mc:label="image" mc:edit="tiwc300_image01" />
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T06:41:29.707

首先，你不能让代码看起来像这样：`<td><tr><td>asdf</td></tr></td>`. 它`<tr>`需要被`<table>`.

# windows - OleDbException (0x80004005)：未找到 Oracle 客户端和网络组件。我怎样才能解决这个问题？

> ID：12703049
> 
> 赞同：3
> 
> 时间：2012-10-03T06:35:07.400
> 
> 标签：windows, oracle, oracle11g, iis-7.5, oledb

我想用我的 web 应用程序中的 oledb 连接（msdaora.dll）连接到 oracle。

我用 ：

```
IIS 7.5
64 bit windows server 2008 r2 enterprise.
64 bit oracle 11g
32 bit oracle client

visual studio 2010
32bit msdaora.dll
my aplication is .aspx 
```

我的错误是什么：

```
Server Error in '/PPIGanTT' Application.
--------------------------------------------------------------------------------

Oracle client and networking components were not found. These components are supplied by Oracle Corporation and are part of the Oracle Version 7.3.3 or later client software installation.

Provider is unable to function until these components are installed. 
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: System.Data.OleDb.OleDbException: Oracle client and networking components were not found. These components are supplied by Oracle Corporation and are part of the Oracle Version 7.3.3 or later client software installation.

Provider is unable to function until these components are installed.

Source Error: 

An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.  

Stack Trace: 

[OleDbException (0x80004005): Oracle client and networking components were not found. These components are supplied by Oracle Corporation and are part of the Oracle Version 7.3.3 or later client software installation.

Provider is unable to function until these components are installed.]
   System.Data.OleDb.OleDbConnectionInternal..ctor(OleDbConnectionString constr, OleDbConnection connection) +351
   System.Data.OleDb.OleDbConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningObject) +86
   System.Data.ProviderBase.DbConnectionFactory.CreateNonPooledConnection(DbConnection owningConnection, DbConnectionPoolGroup poolGroup) +31
   System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection) +76
   System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory) +126
   System.Data.OleDb.OleDbConnection.Open() +43
   csOra.OpenCnn() +47
   csOra..ctor(String sTnsName, String sUserId, String sPassword) +273
   _Default.Page_Load(Object sender, EventArgs e) +8801
   System.Web.Util.CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o, Object t, EventArgs e) +14
   System.Web.Util.CalliEventHandlerDelegateProxy.Callback(Object sender, EventArgs e) +35
   System.Web.UI.Control.OnLoad(EventArgs e) +91
   System.Web.UI.Control.LoadRecursive() +74
   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +2207 
```

我之前尝试过的：

1--在 iis 中，我 `enable32applications` 将`true`.

2 - 将我的连接类型从更改为`oledb`，`oracle.data.access` 但它也不起作用。

3-- 我想找到 64 位 msdaora.dll 但我找不到。

我能做些什么来解决这个错误？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-03T21:27:30.697

我有一个类似的问题。根本问题是我的平台目标是`Any CPU`. 有两种解决方案对我有用：

1.  将平台目标更改为您在目标上拥有的现有（且唯一）oracle 客户端的 CPU，在您的情况下为 x86，或
2.  安装了缺少的 oracle 客户端，在您的情况下为 x64 的 msdora.dll。

我认为 IIS 正在决定它将使用哪个（x86 或 x64）msdora.dll，因为`Any CPU`平台目标编译。您必须要么取消 IIS 的选择，要么提供所有答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-15T00:31:11.650

对我来说，这是在 PATH 环境变量上切换项目的问题。即我放置了这个：C:\Oracle\product\11.2\bin; 在此之前：C:\Oracle\product\12.1.0\dbhome_1\bin; 对于不同的公司，这些路径部分会有所不同。然后需要记住将 PATH 上的项目切换回以再次使用 Oracle 12。

# java - 在java中用“”替换{？

> ID：12703053
> 
> 赞同：0
> 
> 时间：2012-10-03T06:35:17.200
> 
> 标签：java, regex

我有一个这样的字符串：

```
{ TestAddCardForMerchant } 
```

我希望将 ,`{`替换`}`为`""`. 有可能这样做吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-03T06:36:51.157

使用[`String.replaceAll()`方法](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)和`"[{}]"`正则表达式：

```
String replaced = "{ TestAddCardForMerchant }".replaceAll("[{}]","\""); 
```

字符串`replaced`将是`" TestAddCardForMerchant "`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-03T06:39:28.490

如果您只需要更换`{}`成对。

```
String result = str.replaceAll("\\{([^}]+)\\}", "\"$1\""); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T06:37:35.917

这应该这样做：

```
myString.replaceAll("[{}]", "\""); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T06:38:45.333

您可以使用[String#replaceAll](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)方法替换`{}`字符串中所有出现的 .. `[]`in`[{}]`用于表示字符类.. 这意味着`{`或`}`..

此外，您需要`"`使用反斜杠转义，因为它在 Java 中具有特殊含义。所以，这是您的正则表达式，以实现您的需要：-

```
"{test}".replaceAll("[{}]", "\"") 
```

# regex - 正则表达式出现奇怪的错误'[

> ID：12703055
> 
> 赞同：3
> 
> 时间：2012-10-03T06:35:22.653
> 
> 标签：regex, perl, quoting

我是 Perl 的新手，正在学习它。我编写了一个脚本，它通过 bash 提供的选项卡提供单词自动完成功能。如果输入不在定义的数组中，它会打印预定义的消息，如果输入在数组中，那么它会运行相同的系统命令。

根据我的假设，它运行良好，但如果我只输入 [ 字符，它会给出错误，我无法找到它发生的原因。

还有一件事，假设我只键入不带任何字符的制表符，它不显示数组中的预定义命令。它只提示。

请指导我，如果我错了，请纠正我。

在我使用 bash shell 脚本之前，我们有 -x 选项在运行时进行调试，Perl 是否有任何选项可以做到这一点？

我的脚本：

```
 #!/usr/bin/perl

 use Term::Complete;
 use List::Util 'first';

 @cmd = qw/ls uptime clear/;
 while (defined @cmd) {

     $in = Complete('prompt', @cmd);
     if (first { /$in/ } @cmd) {

         system($in);
     }
     elsif ($in eq 'exit') {

         `kill -9 $$`;
     }
     else {

         print "Use these commands: ls uptime clear";
    }
} 
```

错误，如果我输入 [ ：

```
perl tab1.pl 
prompt uptime
12:02:31 up  3:29,  2 users,  load average: 0.00, 0.00, 0.00
prompt [
Unmatched [ in regex; marked by <-- HERE in m/[ <-- HERE / at tab1.pl line 8. 
```

BR本

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-03T06:37:51.847

`[`是正则表达式中的特殊字符，您必须对其进行转义。

如果您读取用户的输入，并想按原样搜索，您可以使用`\Q`and `\E`：

```
/\Q$in\E/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T06:37:34.640

如果您想以`[`文字形式插入，则应使用反斜杠 ( `\`)对其进行转义

否则有特殊含义`regular expressions`

# c# - 客户端和服务器之间的 UDP 连接

> ID：12703057
> 
> 赞同：0
> 
> 时间：2012-10-03T06:35:28.017
> 
> 标签：c#, udpclient

这是我的程序的服务器代码，它正在工作，但是在它发送数据后它卡住了。我需要刷新它并准备好再次发送数据。

服务器代码：

```
private void button1_Click(object sender, EventArgs e) {   
    try {
        String text = textBox1.Text;
        UdpClient udpc = new UdpClient(text,8899);
        IPEndPoint ep = null;

        while (true) {
            MessageBox.Show("Name: ");
            string name = textBox2.Text;

            if (name == "") break;

            byte[] sdata = Encoding.ASCII.GetBytes(name);
            udpc.Send(sdata, sdata.Length);

            if (udpc.Receive(ref ep)==null) {               
                MessageBox.Show("Host not found");
            } else {                
                byte[] rdata = udpc.Receive(ref ep);
                string job = Encoding.ASCII.GetString(rdata);
                MessageBox.Show(job);
            }
        }
    } catch {
        MessageBox.Show("Error Restarting");
    } 
```

客户端代码：

```
private void button1_Click(object sender, EventArgs e) {
    try {
        UdpClient subscriber = new UdpClient(8899);
        IPAddress addr = IPAddress.Parse("127.0.0.2");
        subscriber.JoinMulticastGroup(addr);
        IPEndPoint ep = null;

        for (int i = 0; i < 1; i++) {
            byte[] pdata = subscriber.Receive(ref ep);
            string strdata = Encoding.ASCII.GetString(pdata);
            MessageBox.Show(strdata);
            textBox1.Text = strdata;
            pass = strdata;
        }
        subscriber.DropMulticastGroup(addr);
    } catch {
        Refresh();
        MessageBox.Show("Not Found");
    }
} 
```

服务器可以向一个客户端发送数据。**我想一次发送一个客户。** 但是发送数据后，服务器卡住了。

我需要它刷新并再次为客户端发送数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:04:30.620

服务器端的 udpc.Receive() 方法将阻塞，直到从客户端接收到数据报。UDP 不可靠。这意味着服务器不期望来自另一端的任何 ACK。所以你可以简单地删除这部分代码。或者如果您需要确保消息到达，请为每个客户端运行一个单独的线程，如下所示：

```
private void button1_Click(object sender, EventArgs e) {   
    System.Threading.Thread Server_thread = new Thread(My_Send_Function);
    Server_thread .Start();
}

private void My_Send_Function() {   
    try {
        String text = textBox1.Text;
        UdpClient udpc = new UdpClient(text,8899);
        IPEndPoint ep = null;

        while (true) {
            MessageBox.Show("Name: ");
            string name = textBox2.Text;

            if (name == "") break;

            byte[] sdata = Encoding.ASCII.GetBytes(name);
            udpc.Send(sdata, sdata.Length);

            if (udpc.Receive(ref ep)==null) {
                MessageBox.Show("Host not found");
            } else {
                byte[] rdata = udpc.Receive(ref ep);
                string job = Encoding.ASCII.GetString(rdata);
                MessageBox.Show(job);
            }
        }
    } catch {
        MessageBox.Show("Error Restarting");
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T06:43:45.663

如果我理解你的代码，从服务器发送数据，然后等待答案。在客户端，您只是获取数据，但没有发回任何内容。除非您为套接字提供超时，否则它将无限期地等待，直到有东西到达。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:05:08.853

您不应在主 UI 线程（在 button1_Click 内）中使用 udpc.Receive()。如果这样做，您的应用程序将挂起，直到有东西到达。使用超时也不是解决方案。应用程序将挂起，直到超时到期。相反，您必须使用多个线程。您可以通过使用 BeginReceive 而不是 Receive 或显式创建一个新线程并在那里使用 Receive 来实现。如果你在谷歌上搜索“c# 中的异步 udp 套接字”或类似的东西，那么你会发现很多关于如何正确设置它的示例。

# jquery-ui-tabs - 我想防止删除 jquery ui 选项卡

> ID：12703059
> 
> 赞同：2
> 
> 时间：2012-10-03T06:35:34.153
> 
> 标签：jquery-ui-tabs

正如标题中所说，我想防止删除 jquery ui 选项卡或至少在之前要求确认。

我试过了

```
$( "#tabs" ).bind( "tabsremove", function(event, ui) {
        var ok=confirm("Are you sure you want to close this tab ?");
        if (ok) {
            return true;
        } else {
            return false;
        };
     }); 
```

或者

```
$( "#tabs" ).bind( "tabsremove", function(event, ui) {
        var ok=confirm("Are you sure you want to close this tab ?");
        if (ok) {
            return true;
        } else {
            return false;
        };
     }); 
```

但是这个问题是在之后提出的，而不是在我想要的之前提出的。这可能吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T06:52:41.547

这[是你的意思吗？](http://jsfiddle.net/bldoron/aX289/)

```
$( "#tabs span.ui-icon-close" ).live( "click", function() {
        var ok=confirm("Are you sure you want to close this tab ?");
        if (ok) {
            var index = $( "li", $tabs ).index( $( this ).parent() );
            $tabs.tabs( "remove", index );
        } else {
            return false;
        }; 
```

这是来自[jQuery-ui-tabs](http://jqueryui.com/demos/tabs/#manipulation)

# java - scala/Serializable NoClassDefFoundError (RMI w/ Scala)

> ID：12703061
> 
> 赞同：6
> 
> 时间：2012-10-03T06:35:56.650
> 
> 标签：java, scala, rmi, noclassdeffounderror, serializable

一直在关注关于 RMI for Java 的[本教程](http://docs.oracle.com/javase/tutorial/rmi/index.html)，试图将其转换为 Scala。`interface`我没有使用,而是`trait`注释方法来指示`RemoteException`.

一切都实现了，并进入[编译步骤](http://docs.oracle.com/javase/tutorial/rmi/compiling.html)并完全遵循它，除了`javac`我使用`scalac`.

最后在令人兴奋的[最后一步](http://docs.oracle.com/javase/tutorial/rmi/running.html)，运行它，我设置了安全策略，启动`rmiregistry`，去启动我的服务器，然后遇到这个问题：

```
java.rmi.ServerError: Error occurred in server thread; nested exception is: 
    java.lang.NoClassDefFoundError: scala/Serializable 
```

这可能是什么原因造成的？我将他们的命令从更改`java`为`scala`，但其他一切都是一样的（以用户名和文件路径为模）.. 怎么找不到`scala/Serializable`？

潜在相关：

```
$ java -version
java version "1.6.0_24"
OpenJDK Runtime Environment (IcedTea6 1.11.4) (rhel-1.49.1.11.4.el6_3-x86_64)
OpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)

$ scala -version
Scala code runner version 2.9.2 -- Copyright 2002-2011, LAMP/EPFL 
```

更新：替换`scala.Serializable`为`java.io.Serializable`一切正常。但是，这是一种解决问题的方法，而不是解决问题。根据 Scala API，`scala.Serializable extends java.io.Serializable`所以类路径有些问题......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T10:05:28.730

Scala 将代码编译为 Java 类，但是当您以任何方式使用标准库时，您还需要在类路径中包含 Scala 运行时库。

换句话说，您需要`/path/to/scala-library.jar`在调用的`-cp`参数中`java`。

# objective-c - -ObjC 标志导致 iPhone 模拟器上出现重复的符号

> ID：12703066
> 
> 赞同：2
> 
> 时间：2012-10-03T06:36:19.630
> 
> 标签：objective-c, ios, ios-simulator, static-linking

我的项目依赖于包含类别的 .framework。为了使这些类别起作用，我`-ObjC -all_load`在 Xcode 中添加到我的“其他链接器标志”中。这在设备上完美运行，但是当我在模拟器中构建和运行时，我得到`duplicate symbols for architecture i386`.

我也尝试过使用链接器标志`-force_load ${BUILT_PRODUCTS_DIR}/MyFramework.framework/MyFramework`，它在设备上也可以正常工作，但在模拟器上却不行。

出了什么问题，我该如何解决？

# c# - 解压缩并解压缩到 MemoryStream

> ID：12703070
> 
> 赞同：1
> 
> 时间：2012-10-03T06:36:40.420
> 
> 标签：c#, .net, unzip, unrar, sevenzipsharp

我的应用程序加载包含大量图像的 RAR/ZIP 档案并在列表框中显示缩略图。我目前正在使用 SevenZipSharp。Afaik 它只支持将单个文件转储到**磁盘**- 我必须为每个图像执行此操作才能获得缩略图。我认为将图像转储到内存至少会给我一些性能改进。任何想法如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:55:36.723

在 SevenZipSharp 源代码中，您可以看到有两个将对象作为输入类型`SevenZipExtractor.ExtractFile()`的重载：[`System.IO.Stream`](http://msdn.microsoft.com/en-us/library/system.io.stream%28v=vs.80%29.aspx)

```
public void ExtractFile(string fileName, Stream stream)
// and
public void ExtractFile(int index, Stream stream) // 'index' is the index in the archive file table. 
```

作为[`MemoryStream`](http://msdn.microsoft.com/en-us/library/system.io.memorystream%28v=vs.80%29.aspx)继承自`Stream`，您可以使用这些功能之一来实现您想要的。

*注意：* `SevenZipExtractor`具有接受`Stream`对象作为输入类型的构造函数。

# ios - 用 UIView 替换 UIActionSheet 中的按钮

> ID：12703075
> 
> 赞同：1
> 
> 时间：2012-10-03T06:37:13.203
> 
> 标签：ios, button, uiactionsheet

我想`UIActionSheet`用`UIView`. 我正在将 Facebook 集成到我的应用程序中，登录按钮 (FBLoginView) 是`UIView`. 我想将此视图用作`UIActionSheet`. 这可能吗？

**编辑：**我正在尝试在我的应用程序中集成 facebook 共享。为此，我必须使用他们的 sdk。对于登录 facebook，他们提供了自己的自定义视图，称为“FBLoginView”，它已作为 UIView 的子类。我只需要分配内存并将这个视图添加到我自己的视图中。然后点击view会调用sdk中提供的所有功能，打开fb app或者safari，询问登录密码等，然后再回到app。

现在我想把这个按钮放在 UIActionSheet 中。在工作表中，我没有看到自定义按钮的选项。即使有一个选项，我如何使用 UIView 来创建 UIButton？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-17T15:55:36.147

我在 StackOverflow 上从另一个用户那里找到了这个，你可能会发现它很有用，就像我一样

[将 UIView 添加为 UIActionSheet 上的子视图](https://stackoverflow.com/questions/11051512/add-uiview-as-subview-on-uiactionsheet)

祝你好运，如果您找到任何其他解决方案，请告诉我们:)

更新：我会远离 UIACtionSheet，因为它在 iOS 8 以后已被弃用。您现在需要使用 UIAlertController。我会使用这样的东西：

```
UIAlertController * alert=[UIAlertController alertControllerWithTitle:@"Connection Method"
                                                              message:@"Select Connection Method"
                                                       preferredStyle:UIAlertControllerStyleActionSheet];
//These will essentially be the buttons that we used to create for UIActionSheet. They are created pretty much the same way as how they used to,
//but you have to declare their corresponding action here too.

UIAlertAction* firstAction = [UIAlertAction actionWithTitle:@"Title1"
                                                      style:UIAlertActionStyleDefault
                                                    handler:^(UIAlertAction * action) {
                                                        declaredVariable = NO;
                                                        [alert dismissViewControllerAnimated:NO completion:nil];
                                                        [self doSomethingHereOrExecuteTheFunctionYouNeed];
                                                    }];
UIAlertAction* secondAction = [UIAlertAction actionWithTitle:@"Title2 and so on"
                                                       style:UIAlertActionStyleDefault
                                                     handler:^(UIAlertAction * action) {
                                                         BOOL newVarable = YES;
                                                         [alert dismissViewControllerAnimated:NO completion:nil];
                                                         [self followAlertControllerChoice];
                                                     }];

UIAlertAction* cancel = [UIAlertAction actionWithTitle:@"Cancel button"
                                                 style:UIAlertActionStyleCancel
                                               handler:^(UIAlertAction * action) {
                                                   [alert dismissViewControllerAnimated:YES completion:nil];
                                               }];
//Add buttons ("Actions") here
[alert addAction:firstAction];
[alert addAction:secondAction];
[alert addAction:cancel];

//Finally, present your alertcontroller
[self presentViewController:alert animated:YES completion:nil]; 
```

AFAIK，您只能将文本字段添加到警报控制器，您可以这样做：

```
[alertController addTextFieldWithConfigurationHandler:^(UITextField *textField) {
    textField.placeholder = @"Enter your text here";
    textField.textAlignment = NSTextAlignmentLeft; 
```

//如此等等 }];

显然，Apple 不希望我们将 UIAlertController 子类化，如下[所示](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAlertController_class/)：

> UIAlertController 类旨在按原样使用，不支持子类化。此类的视图层次结构是私有的，不得修改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-17T16:07:57.790

乱来可不是个好主意`UIActionSheet`。

来自[UIActionSheet 类参考](https://developer.apple.com/library/ios/documentation/uikit/reference/uiactionsheet_class/Reference/Reference.html)：

> ### 子类化注释
> 
> UIActionSheet 不是为子类而设计的，也不应该将视图添加到它的层次结构中。如果您需要呈现比 UIActionSheet API 提供的自定义更多的表单，您可以创建自己的表单并使用 presentViewController:animated:completion: 以模态方式呈现它。

有相当多的操作表替换。查看[https://www.cocoacontrols.com/search?q=uiactionsheet](https://www.cocoacontrols.com/search?q=uiactionsheet)以获取起始列表。

我的建议是找一个你喜欢的功能而不是黑客`UIActionSheet`。

# iphone - Objective-c 中的 SQLite 错误（IOS 应用程序开发）

> ID：12703080
> 
> 赞同：0
> 
> 时间：2012-10-03T06:37:32.917
> 
> 标签：iphone, objective-c, ios, cordova, sqlite

我正在使用以下代码在 SQLite 中打开数据库并执行插入查询。

```
// Open the database and store the handle as a data member
if (sqlite3_open([databaseFile UTF8String], &databaseHandle) == SQLITE_OK)
{

    const char *sqlStatement = [insertStmt cStringUsingEncoding:NSUTF8StringEncoding];
    char *error;

    if (sqlite3_exec(databaseHandle, sqlStatement, NULL, NULL, &error) == SQLITE_OK)
    {
        NSLog(@"Config table values inserted.");
        registration_done = YES;
    } 
    else 
    {
        NSLog(@"Error: %s", error);
        [[NSRunLoop currentRunLoop] runUntilDate:[NSDate dateWithTimeIntervalSinceNow:1]]; 

        if (sqlite3_exec(databaseHandle, sqlStatement, NULL, NULL, &error) == SQLITE_OK) {
            NSLog(@"Config table values inserted 2.");
            registration_done = YES;
        } 
        else {
            NSLog(@"Error: %s", error);
        }
    }
}
else{

    sqlite3_close(databaseHandle);
}

sqlite3_close(databaseHandle); 
```

但我收到以下错误，之后应用程序终止：

> -[__NSCFType UTF8String]：无法识别的选择器发送到实例 0x15d9a0

当我使用 Phonegap(2.1.0) 时，数据库文件和表是在 /Caches/ 目录中创建的。在调用上述 Objective-C 代码之前，Phonegap 正在正确执行查询，这意味着在 /Caches/ 目录中成功创建了表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T06:50:09.610

只需使用

```
const char *sqlStatement = [insertStmt UTF8String]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T11:26:27.860

@clint：- 请阅读此[网址](http://docs.phonegap.com/en/1.2.0/phonegap_storage_storage.md.html)

或试试这个例子，这真的很有效

```
<!DOCTYPE html>
<html>
  <head>
    <title>Contact Example</title>

    <script type="text/javascript" charset="utf-8" src="phonegap-1.2.0.js"></script>
    <script type="text/javascript" charset="utf-8">

    // Wait for PhoneGap to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Populate the database 
    //
    function populateDB(tx) {
        tx.executeSql('DROP TABLE IF EXISTS DEMO');
        tx.executeSql('CREATE TABLE IF NOT EXISTS DEMO (id unique, data)');
        tx.executeSql('INSERT INTO DEMO (id, data) VALUES (1, "First row")');
        tx.executeSql('INSERT INTO DEMO (id, data) VALUES (2, "Second row")');
    }

    // Query the database
    //
    function queryDB(tx) {
        tx.executeSql('SELECT * FROM DEMO', [], querySuccess, errorCB);
    }

    // Query the success callback
    //
    function querySuccess(tx, results) {
        var len = results.rows.length;
        console.log("DEMO table: " + len + " rows found.");
        for (var i=0; i<len; i++){
            console.log("Row = " + i + " ID = " + results.rows.item(i).id + " Data =  " + results.rows.item(i).data);
        }
    }

    // Transaction error callback
    //
    function errorCB(err) {
        console.log("Error processing SQL: "+err.code);
    }

    // Transaction success callback
    //
    function successCB() {
        var db = window.openDatabase("Database", "1.0", "PhoneGap Demo", 200000);
        db.transaction(queryDB, errorCB);
    }

    // PhoneGap is ready
    //
    function onDeviceReady() {
        var db = window.openDatabase("Database", "1.0", "PhoneGap Demo", 200000);
        db.transaction(populateDB, errorCB, successCB);
    }

    </script>
  </head>
  <body>
    <h1>Example</h1>
    <p>Database</p>
  </body>
</html> 
```

# javascript - JavaScript 仅在停止调试时评估 HiddenFor (ASP MVC4)

> ID：12703084
> 
> 赞同：0
> 
> 时间：2012-10-03T06:37:39.810
> 
> 标签：javascript, scope, helper, html.hiddenfor

我在评估 JavaScript (ASP MVC4) 中的隐藏字段时遇到问题 我在视图中使用模型并且模型中的属性有隐藏输入

```
@Html.HiddenFor(mdl => mdl.FilterByUser, new { @id = "filterByUserId" }) 
```

我有一个带搜索框的助手，按下回车键我正在搜索。

```
$("#search-box").keydown(function (event) {
    var keypressed = event.keyCode || event.which;
    if (keypressed == 13) {
        var searchValue = $("#search-box").val();
        var filterByUser = $("#filterByUserId").val();
        debugger;

        window.location = "?searchValue=" + searchValue + "&filterByUser=" + filterByUser;

    }
}); 
```

问题是 var filterByUser 仅在我打开 DeveloperTools 并且浏览器在“调试器”中停止时才具有值。如果工具已关闭，我会收到“参数字典包含方法的不可为空类型‘System.Boolean’的参数‘filterByUser’的空条目”

另一个值 searchValue 在评估中没有问题。

我能做些什么来解决这个问题？谢谢你，丹尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:01:11.193

我知道了。问题是助手已经在表单中。如果我在 js keydown 处理程序中放置一个断点/警报，它就会被执行。如果不是，则在按下 textarea 时使用 form.submit 调用控制器操作。

我的解决方案：移除了 js 处理程序，并调整了表单中的属性以匹配控制器操作属性。

# css - ie9 和更少的拉伸绝对输入字段错误

> ID：12703087
> 
> 赞同：0
> 
> 时间：2012-10-03T06:37:44.133
> 
> 标签：css, internet-explorer, internet-explorer-8, internet-explorer-9, position

似乎无法拉伸**ie9 中的绝对输入字段（使用顶部、左侧、右侧或底部 CSS 规则）。**更不用说**ie8**或**ie7**了。

[http://jsfiddle.net/global_1981/Y6pEj/](http://jsfiddle.net/global_1981/Y6pEj/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T06:53:37.703

***[演示](http://jsfiddle.net/Y6pEj/10/)***

嗨，现在你可以**更改你的代码**，如果可能的话，并`label tag`在你的表单中添加**不**使用`position`

像这样

***html***

```
<h1>Testing ie input field, absolutely positioned to fill container</h1>
<div class="container">
    <label><input class="field" type="text" /></label>
</div> 
```

**CSS**

```
.container {
  background-color:green;
  width:300px;
  height:100px;
}
label{
margin:5px;
    display:block;
}
.field {
    width:100%;
    border:none;
    margin:0px; padding:0px;
} 
```

***[现场演示](http://jsfiddle.net/Y6pEj/10/)***

# android - 如何启用/禁用飞行模式？

> ID：12703088
> 
> 赞同：1
> 
> 时间：2012-10-03T06:37:49.733
> 
> 标签：android, android-intent, android-emulator, android-manifest

我正在尝试以编程方式启用/禁用飞行模式，但以下代码不起作用。应用程序在运行时意外停止，我必须强制关闭

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_airplanemode); 
```

检查飞行模式状态的代码 boolean isEnabled = Settings.System.getInt(getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 0) == 1;

切换代码

```
 Settings.System.putInt(
              getContentResolver(),
              Settings.System.AIRPLANE_MODE_ON, isEnabled ? 0 : 1); 
```

重新加载意图

```
 Intent intent = new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);
    intent.putExtra("state", !isEnabled);
    sendBroadcast(intent);
        TextView a = new TextView(this);
        a.setText("AIRPLANE MODE : "+isEnabled);
        setContentView(a);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_airplanemode, menu);
    return true;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T06:53:53.720

您需要执行以下操作。将以下内容添加到您的 Manifesf 文件中

```
<uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
<uses-permission android:name="android.permission.WRITE_SETTINGS" /> 
```

并在 onResume() 中使用以下代码行，

```
Settings.System.putInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, 1);
newIntent = new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);
newIntent.putExtra("state", true);
sendBroadcast(newIntent); 
```

这应该可以，不需要添加 context.sendBroadcast()。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T06:48:37.970

尝试将所需的权限添加到您的 Androidmanifest.xml 文件尝试添加

```
android.permission.WRITE_SETTINGS 
```

# java - 如何在 Java 中使用父目录中的类？

> ID：12703092
> 
> 赞同：2
> 
> 时间：2012-10-03T06:38:06.153
> 
> 标签：java

例如，我有一个名为`Foo`inside的类`Foo.java`，它将使用一个名为`Bar`inside的类`../Bar.java`。当我这样做的时候，有什么办法可以让它工作`javac Foo.java`吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T06:40:35.223

将您的类添加到类路径..

```
javac -cp "path to your Bar.class" Foo.java 
```

您还需要将该类导入您的`Foo.java`.. 最好使用一个包，并将类路径提供到包含您的包的目录.. 这样您就可以为您的类提供不同的命名空间..

所以，如果你的包是： -`pkg1.pkg2.Bar`并且你已经将你的包保存`.java`到一个名为 的目录`Demo`中，那么你的类路径应该包含路径直到`Demo`.. 并且你的类实际上将在目录`pkg1/pkg2/Bar.class`内的另外两个`Demo`目录下。

```
Demo+
    |
    +-- B.java (`Under package pkg1.pkg2)
    |
    +--pkg1+
    |      |
    |      +--pkg2+
    |             |
    |             +-- B.class
    |
    +-- A.java (`Under no package`) - Add - import pkg1.pkg2.B 
    |
    +-- A.class (javac -cp . A.java) - Will search the package pkg1.pkg2 in current directory 
```

即使`.`那里不需要，你也可以用任何路径替换它，如果你`B.class`在其他地方..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T06:40:16.057

假设它们都是你的类并且属于同一个模块，你应该使用包并且两个类应该存在于同一个包层次结构中。然后它会自动工作。

例如，包可能类似于 com.company.application.module.Bar 和 com.company.application.module.subcomponent.Foo。查看更多关于正确包命名的讨论：

*   [Oracle.com：命名包](http://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html)
*   [维基百科：包命名约定](http://en.wikipedia.org/wiki/Java_package#Package_naming_conventions)

您也可以`javac -sourcepath path/to/src/solution/java;path/to/src/test/java`明确指向多个位置（请注意，这`-classpath`也可以，请参阅有关差异的[讨论](https://stackoverflow.com/questions/2441760/differences-between-classpath-and-sourcepath-options-of-javac)）。

如果我们谈论的是同一个模块中不存在的单独组件，您只需使用类路径来让代码知道两者（或者最好是一些依赖机制，如 Maven，它可以解决这些问题）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T06:41:11.383

您的类有包，这些包反映在目录结构中。例如`com/company/pk/Foo`和`com/company/Bar`- 然后您可以使用该`import`语句引用它们。如果您的类在不同的目录中但没有声明 a `package`，那么您做错了。

[了解软件包](http://docs.oracle.com/javase/tutorial/java/package/packages.html)

# node.js - 如何在express js中获取json文件并显示在视图中

> ID：12703098
> 
> 赞同：17
> 
> 时间：2012-10-03T06:38:36.647
> 
> 标签：node.js

我`.json`在快速获取文件并在视图中显示时遇到问题。请分享你的例子。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-10-31T19:50:39.573

```
var fs = require("fs"),
    json;

function readJsonFileSync(filepath, encoding){

    if (typeof (encoding) == 'undefined'){
        encoding = 'utf8';
    }
    var file = fs.readFileSync(filepath, encoding);
    return JSON.parse(file);
}

function getConfig(file){

    var filepath = __dirname + '/' + file;
    return readJsonFileSync(filepath);
}

//assume that config.json is in application root

json = getConfig('config.json'); 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2016-03-16T09:19:04.077

在你的控制器中做这样的事情。

要**获取****json**文件的内容：

**ES5** `var foo = require('./path/to/your/file.json');`

**ES6** `import foo from './path/to/your/file.json'`；

要将**json****发送**到您的视图：

 **```
function getJson(req, res, next){
    res.send(foo);
} 
```

这应该通过请求将**json**内容发送到您的视图。

**笔记**

根据[BTMPL](https://stackoverflow.com/users/1008329/btmpl)

> 虽然这会起作用，但请注意 require 调用会被缓存，并且会在每个后续调用中返回相同的对象。您在服务器运行时对 .json 文件所做的任何更改都不会反映在服务器的后续响应中。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2013-12-13T06:58:32.063

这个对我有用。使用 fs 模块：

```
var fs = require('fs');

function readJSONFile(filename, callback) {
  fs.readFile(filename, function (err, data) {
    if(err) {
      callback(err);
      return;
    }
    try {
      callback(null, JSON.parse(data));
    } catch(exception) {
      callback(exception);
    }
  });
} 
```

用法：

```
readJSONFile('../../data.json', function (err, json) {
  if(err) { throw err; }
  console.log(json);
}); 
```

[资源](https://codereview.stackexchange.com/a/26262)**

# jquery - 使用 jQuery 可拖放/可拖放调整拾取元素的大小

> ID：12703099
> 
> 赞同：3
> 
> 时间：2012-10-03T06:38:39.637
> 
> 标签：jquery, jquery-ui, jquery-ui-sortable, jquery-ui-draggable, jquery-ui-droppable

演示：http: [//jsfiddle.net/rWpca/](http://jsfiddle.net/rWpca/)

**问题一**

我在这里想要实现的是，当用户拾起或将可拖动对象放到可放置区域时，样式会有所不同。可悲的是，发生了一些中间动画。

您会注意到，当您拿起它时，项目的大小立即增加，这是所需的行为，但一旦您放下它，字体大小会暂时减小，然后再次增加。*此行为仅在 jQuery 动画放置项的定位时出现。如果元素“捕捉”到位而不是平滑过渡，则没有动画或字体大小的变化。*

**问题二**

有时，当您放下单词时，jQuery 不会平滑地为定位设置动画，因此它会落在正确的位置。它只是飞过页面，根本没有缓动。为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T17:31:10.220

要解决大小问题，请将您的 CSS 更改[为此](http://jsfiddle.net/rWpca/2/).

从：

```
span.ui-draggable-dragging { font-size: 20px; } 
```

到：

```
span.ui-draggable-dragging, span.ui-sortable-helper { font-size: 20px; } 
```

当您拖动时，`ui-sortable-helper`该类将添加到您的跨度中。

编辑：关于你的第二个问题，我发现你可以将`revert`属性设置为整数。我将其设置为 500，您的第二个问题似乎发生得更少。
像这样： `revert: 500`

# iphone - 从 UIViewController 导航回来会导致崩溃

> ID：12703102
> 
> 赞同：0
> 
> 时间：2012-10-03T06:38:43.077
> 
> 标签：iphone, ios, uiwebview

我只是在`viewDidLoad`方法中使用这段代码。它只打开网页，仅此`UIWebView`而已。但是当我回到上一个视图时它会导致崩溃。这是代码：

```
NSString *urlAddress = @"http://www.google.com";
NSURL *url = [NSURL URLWithString:urlAddress];
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
[moreWeb loadRequest:requestObj]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T06:49:06.370

像这样停止加载：

```
-(void)viewWillDisappear:(BOOL)animated{
[moreWeb stopLoading];
moreWeb.delegate = nil;
} 
```

它会正常工作的。

# c# - excel与c#.net的集成

> ID：12703104
> 
> 赞同：0
> 
> 时间：2012-10-03T06:38:45.630
> 
> 标签：c#, .net, excel

我需要在运行时使用 c# 创建基于 excel 模板的运输标签。

现在我有工作系统，我正在用数据库值替换 excel 模板中的字段名称并将其发送以进行打印。

但是如果数据库中的值为空，它会创建空间。我不想要那个空间。在单个 excel 行中，需要替换 2 个以上的单元格，因此如果不存在值，那么我只需要删除单元格（因为我无法删除行）并将其正下方的单元格移动到该位置或合并它与下面的单元格。

如果您有更好的方法来生成基于 excel 模板的运输标签，请告诉我。谢谢

```
 Excel.Application xlApp;
            Excel.Workbook xlWorkBook;
            Excel.Worksheet xlWorkSheet;
            object misValue = System.Reflection.Missing.Value;
            xlApp = new Excel.ApplicationClass();

            //string path = AppDomain.CurrentDomain.BaseDirectory + @printLabelName;
            string fileLocation = "";
            DataTable dtPath = clsData.getFileLocations();
            if (dtPath.Rows.Count != 0)
            {
                //ctbExport.Text = dt.Rows[0]["exportFileLocation"].ToString();
                fileLocation = dtPath.Rows[0]["printTemplateLocation"].ToString() + "\\";
            }

            String[] orderList = ctbOrderNo.Text.Split(' ');
            for (int i = 0; i < orderList.LongLength; i++)
            {
                string strOrderNo = orderList[i];

                int val = clsData.updOrderDataBulkPrint(Convert.ToDecimal(ctbCustomValue.Text), cmbCustomType.Text, strOrderNo);

                DataTable dt = clsData.getOrderDetailByOrderNo(strOrderNo);
                if (dt.Rows.Count == 0)
                {
                    MessageBox.Show("Order No. " + strOrderNo + " doesn't exist");
                    return;
                }
                DataTable dtSender = clsData.getSenderDataById(Convert.ToInt32(cmbSender.SelectedValue));
                if (dtSender.Rows.Count > 0 && dt.Rows.Count > 0)
                {
                    //We will name shipping label excel template file names as number for e.g. 1 , 2 , 3 , 4 , 4 etc. 
                    //user will put of these values and then system will know which shipping label excel template to use for all these orders.
                    string printLabelName = numUpDownPrintLabelRype.Value.ToString() + ".xlsx";

                    //string path = AppDomain.CurrentDomain.BaseDirectory + @printLabelName;                       
                    string path = fileLocation + @printLabelName;

                    bool isPathCorrect = true;
                    try
                    {
                        object missingValue = Type.Missing;

                        xlWorkBook = xlApp.Workbooks.Open(path, 0, true, 5, "", "", true, Microsoft.Office.Interop.Excel.XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);
                        xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);

                        //MessageBox.Show(xlWorkSheet.get_Range("A1", "A1").Value2.ToString());                                           
                        xlWorkSheet.Cells.Replace("SenderName", dtSender.Rows[0]["senderName"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("SenderCompanyName", dtSender.Rows[0]["senderCompanyName"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("SenderAdressLine1", dtSender.Rows[0]["senderAdressLine1"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("SenderAddressLine2", dtSender.Rows[0]["senderAddressLine2"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("SenderCity", dtSender.Rows[0]["senderCity"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("SenderState", dtSender.Rows[0]["senderState"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("SenderZIP", dtSender.Rows[0]["senderZIP"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("SenderCountry", dtSender.Rows[0]["senderCountry"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("OrderNumber", dt.Rows[0]["orderNo"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("Zone", dt.Rows[0]["zone"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);

                        xlWorkSheet.Cells.Replace("CustomerName", dt.Rows[0]["customerName"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);

                        xlWorkSheet.Cells.Replace("CustomerCompanyName", dt.Rows[0]["cCompanyName"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);

                        object misval = Type.Missing;

                      //Replace values by database values here

                        xlWorkSheet.Cells.Replace("CustomerAddressLine1", dt.Rows[0]["cAddressLine1"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomerAddressLine2", dt.Rows[0]["cAddressLine2"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomerAddressLine3", dt.Rows[0]["cAddressLine3"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomerAddressCity", dt.Rows[0]["cAddressCity"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomerAddressState", dt.Rows[0]["cAddressState"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomerAddressZIP", dt.Rows[0]["cAddressZIP"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomerAddressCountry", dt.Rows[0]["cAddressCountry"].ToString(), missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);

                        xlWorkSheet.Cells.Replace("ProductType", cmbProdType.Text, missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomsType", cmbCustomType.Text, missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);
                        xlWorkSheet.Cells.Replace("CustomsValue", ctbCustomValue.Text, missingValue, missingValue, missingValue, missingValue, missingValue, missingValue);

                        xlWorkBook.PrintOut(1, 1, 1, false, misValue, misValue, misValue, misValue);

                        xlWorkBook.Close(false, misValue, misValue);
                    }
                    catch (Exception ex)
                    {
                        MessageBox.Show("Can't open Label Template, please check location.");
                        isPathCorrect = false;
                    }
                }
                else {
                    MessageBox.Show("This Sender doesn't exist.");
                }
            }
            xlApp.Quit(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T06:58:11.100

> 因此，如果值不存在，那么我只需要删除单元格（因为我无法删除行）并将其正下方的单元格移动到该位置或将其与下面的单元格合并

您想使用`.Range.Delete(Shift)`Excel PIA DLL（我确定您已经在使用的互操作 DLL）中给出的方法。

[http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.range.delete(v=office.11​​).aspx](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.range.delete(v=office.11).aspx)

[xlDeleteShift方向](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.xldeleteshiftdirection%28v=office.11%29.aspx)

找到要删除的单元格后，请使用以下内容（从您的代码示例中提取的部分）：

## 未经测试

```
xlWorkSheet.get_Range("A1", "A1").Delete(XlDeleteShiftDirection.xlShiftUp); 
```

# c++ - 模板依赖的实现

> ID：12703106
> 
> 赞同：1
> 
> 时间：2012-10-03T06:38:47.837
> 
> 标签：c++, templates

这是一段简单的代码：

```
#include <iostream>
#include <fstream>

template<typename T>
class A {
    public:
        T _v;
        template<unsigned short V> void init() { _v *= V; }
        void print(double txt) { std::cout << "Initialized with ?? : " << txt << std::endl; }
};

int main() {
    A<double> foo;
    foo._v = 3.5;
    foo.init<2>();
    foo.print(foo._v);

    A<int> bar;
    bar._v = 2;
    bar.init<5>();
    foo.print(bar._v);
} 
```

我希望有一个`A::print(double)`依赖于的函数的实现`unsigned short V`，例如，替换`??`为`unsigned short`已经`init()`实例化的。我的问题是：（a）它可行吗？(b) 如果 (a)，如何？

`class A<T>`在搜索 if ( a `V`)`init()`时，我想我可以`print(double)`向去。我基本上对任何建议持开放态度，我唯一需要的是调用`print`保持不变（因为我会从其他不知道`unsigned short V`.

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T06:43:46.583

单程：

```
template<typename T>
class A {
    public:
        T _v;
        unsigned short _v2;
        template<unsigned short V> void init() { _v2 = V;  _v *= V; }
        void print(double txt) { std::cout << "Initialized with "
            << _v2 << " : " << txt << std::endl; }
}; 
```

或者为什么不：

```
template<typename T, unsigned short V>
struct A {
        T _v = V;
        void print(double txt) { std::cout << "Initialized with "
            << V << " : " << txt << std::endl; }
}; 
```

# url - 透明地将 firstdomain.com 转发到 seconddomain.com

> ID：12703109
> 
> 赞同：1
> 
> 时间：2012-10-03T06:39:01.793
> 
> 标签：url, dns, forward

我需要向 DNS 服务器添加一个条目，因此当在客户端中输入**firstdomain.com**时，他们实际上浏览了**seconddomain.com**，但他们看不到**seconddomain.com**网址

我应该向 DNS 添加什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T06:44:28.953

只需让它们指向同一个IP。如果两个域都引用相同的 IP，它们将访问相同的资源。

# emacs - Emacs24 的 ruby -mode 函数中的 ido-imenu 发生了什么？

> ID：12703110
> 
> 赞同：1
> 
> 时间：2012-10-03T06:39:20.110
> 
> 标签：emacs, emacs24, ido, ruby-mode

[emacs-starter-kit v1 中的Emacs 23.2](https://github.com/technomancy/emacs-starter-kit/)有`C-x C-i`（或`ido-imenu`）（类似于 Sublime Text 的 Cmd+R）。emacs-starter-kit v2 中的[Emacs24缺少此功能。](http://technomancy.us/153)我发现[了这个 github 问题](https://github.com/eschulte/emacs24-starter-kit/issues/15)和[修复](http://eschulte.me/emacs-starter-kit/starter-kit-defuns.html)，它试图重新创建功能。虽然这`ido-imenu`工作`elisp-mode`，它停止工作`ruby-mode`。我得到：

```
imenu--make-index-alist: No items suitable for an index found in this buffer 
```

1.  有没有人想出如何让它工作？
2.  为什么从 Emacs24 中取出这个？
3.  这个功能有新的替代品吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T09:55:48.133

由于该功能是 ESK 的一部分（而不是与 Emacs 捆绑的功能），您可能最好在上游报告错误。在相关说明中，ESK 的主要竞争对手 Emacs Prelude 提供了相同的功能（`C-c i`默认绑定），并且在 Emacs 24 中似乎可以正常使用 ruby​​-mode。[在这里](http://emacswiki.org/emacs/ImenuMode#toc10)您可以找到更多关于`ido-imenu`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T08:48:58.510

因此，在再次阅读emacs-wiki 上[**的为模式定义 Imenu 菜单**部分](http://emacswiki.org/emacs/ImenuMode#toc8)后，我终于想通了。

**简短回答**：您需要将此位添加到您的自定义中。随意向列表中添加更多*类型*（我对方法很满意）。

```
(add-hook 'ruby-mode-hook
          (lambda ()
            (set (make-local-variable imenu-generic-expression)
                 '(("Methods"  "^\\( *\\(def\\) +.+\\)"          1)
                   )))) 
```

**更长的答案**：我首先尝试定义一个`ruby-imenu-generic-expression`函数并`imenu-generic-expression`使用以下方法将其设置为`ruby-mode-hook`：

```
(defvar ruby-imenu-generic-expression
  '(("Methods"  "^\\( *\\(def\\) +.+\\)"          1))
  "The imenu regex to parse an outline of the ruby file")

(defun ruby-set-imenu-generic-expression ()
  (make-local-variable 'imenu-generic-expression)
  (make-local-variable 'imenu-create-index-function)
  (setq imenu-create-index-function 'imenu-default-create-index-function)
  (setq imenu-generic-expression ruby-imenu-generic-expression))

(add-hook 'ruby-mode-hook 'ruby-set-imenu-generic-expression) 
```

但是，这不起作用（我会得到与以前相同的错误）。更多阅读[**为模式定义 Imenu 菜单**部分](http://emacswiki.org/emacs/ImenuMode#toc8)向我展示了方法。现在，我不是`elisp`专家，所以这是我的假设：基本上，上述方法适用于

> 主要模式支持“真实”变量“imenu-generic-expression”的缓冲区本地副本。如果你的模式不这样做，你将不得不依赖一个钩子。

的示例`foo-mode`清楚地说明了如何为`ruby-mode`. 所以看起来`ruby-mode`没有真实`imenu-generic-expression`变量的缓冲区本地副本。我仍然无法解释为什么它在 Emacs 23.2（使用 ESK v1）中有效，但在 Emacs24 上无效，但至少我找到了一个有效的解决方案。

# javascript - 试图在网站上包含 datetimepicker。错误是什么？

> ID：12703114
> 
> 赞同：0
> 
> 时间：2012-10-03T06:39:41.970
> 
> 标签：javascript, jquery, html

我曾经在我的网站上有一个工作的 datetimepicker，但现在它停止工作了。我发现我引用的 js 被删除了。我去了页面并下载了js并将其本地存储在我的服务器上。

这是我从中获取js的地方：

[http://trentrichardson.com/examples/timepicker/](http://trentrichardson.com/examples/timepicker/)

我在 datetimepicker 之前导入 jquery 和 jquery ui：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script> 
```

我得到的错误是：

```
 Uncaught TypeError: Object [object Object] has no method 'prop' datetimepicker.js:387 
```

这种方法是否应该来自 jquery-ui，我该如何解决？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-03T06:41:59.217

尝试使用最新版本的 jQuery.js 和 jQueryUI.js

原因是**[.prop()](http://api.jquery.com/prop/)**方法仅从 jQuery1.6 添加，但您使用的是 1.5

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T06:42:29.287

> 这个方法是否应该来自 jquery-ui

不，它来自您链接到的页面上可用的脚本。

> 我该如何解决这个问题？

下载并包含该脚本

# c - 原始套接字不发送包含任意数据的数据包

> ID：12703116
> 
> 赞同：0
> 
> 时间：2012-10-03T06:39:45.380
> 
> 标签：c, sockets

看下面的代码示例

[https://gist.github.com/3825444](https://gist.github.com/3825444)

```
/*
Testing arbitrary raw ip packets
works only if datagram is filled with 0
filling with anything else will not send any packets, or atleast wireshark does not detect anything
this is strange
*/

#include<stdio.h>
#include<string.h> //memset
#include<sys/socket.h>
#include<stdlib.h> //for exit(0);
#include<errno.h> //For errno - the error number
#include<netinet/tcp.h> //Provides declarations for tcp header
#include<netinet/ip.h>  //Provides declarations for ip header

int main (void)
{
    //Create a raw socket
    int s = socket (PF_INET, SOCK_RAW, IPPROTO_TCP);

    if(s < 0)
    {
        perror("socket");
    }

    //Datagram to represent the packet
    char datagram[4096] , source_ip[32];

    struct sockaddr_in sin;

    strcpy(source_ip , "192.168.1.2");

    sin.sin_family = AF_INET;
    sin.sin_port = htons(80);
    sin.sin_addr.s_addr = inet_addr ("1.2.3.4");

    memset (datagram, 2 , 4096);    /* zero out the buffer */

    //IP_HDRINCL to tell the kernel that headers are included in the packet
    int one = 1;
    const int *val = &one;
    if (setsockopt (s, IPPROTO_IP, IP_HDRINCL, val, sizeof (one)) < 0)
    {
        printf ("Error setting IP_HDRINCL. Error number : %d . Error message : %s \n" , errno , strerror(errno));
        exit(0);
    }

    //Uncommend the loop if you want to flood :)
    while (1)
    {
        //Send the packet
        if (sendto (s,      /* our socket */
                    datagram,   /* the buffer containing headers and data */
                    512,    /* total length of our datagram */
                    0,      /* routing flags, normally always 0 */
                    (struct sockaddr *) &sin,   /* socket addr, just like in */
                    sizeof (sin)) < 0)      /* a normal send() */
        {
            perror("sendto");
        }
        //Data send successfully
        else
        {
            printf ("Packet Send \n");
        }
    }

    return 0;
} 
```

上述程序不会生成任何数据包，或者至少wireshark 不会检测到任何数据包。

但是，如果数据报通过执行填充为 0

`memset (datagram, 0 , 4096); /* zero out the buffer */`

然后会生成大量数据包并被wireshark检测到。

为什么会有这样的差异？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-09T08:57:48.553

您正在将垃圾放入标题中。设置零成功比设置 2 失败更值得注意。

# app-store-connect - iTunes Connect 文件上传大小问题

> ID：12703118
> 
> 赞同：0
> 
> 时间：2012-10-03T06:40:04.943
> 
> 标签：app-store-connect, filesize

我正在尝试通过 iTunes Connect 上传 txt 文件（4,073 字节）来管理我的一个应用程序的内容。它不允许我上传并说文件大小超过 4000 个字符。然后，我手动从文件中删除了几个字符并上传了 txt 文件（4,045 字节）并被 iTunes Connect 接受。

不确定如何限制/确定 txt 文件的大小？因为我有一个自动化工具，它基本上生成了 4000 字节/字符限制的文件，iTunes 连接显然忽略了这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:10:06.900

您最好的选择是将限制设置为 4,000 个字符并坚持下去。

你永远不知道 Apple 何时会加强 iTunesConnect 应用程序描述字段的（可能是临时的）灵活性。

# javascript - 使用 Javascript 将 HTML 页面转换为图像

> ID：12703124
> 
> 赞同：2
> 
> 时间：2012-10-03T06:40:17.337
> 
> 标签：javascript, html, image, sap-bsp

### 你好，

**编辑**：我想通过不使用任何第三方软件来实现它。我的应用程序是 SAP 产品，我不能去找每个客户并在他的系统中安装该软件。
*我有以下场景..*

    我的网站（当然，它是一个业务应用程序）中有一个名为`"Save as image"`.so 的按钮，因此每当用户按下该按钮时，必须将页面内容转换为图像文件并保存在他的系统中。
    我们可以通过javascript或jquery来实现吗？
    如果我们不能在 javascript 中完成，我们可以在 SAP BSP 中完成吗，因为我的应用程序是在 SAP BSP 中开发的？

        我已经在这个网站上搜索过，找到了一个只适用于 Firefox 扩展的解决方案。但我需要一个跨浏览器解决方案，它必须适用于 IE、Chromer 等。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-03T06:44:53.043

这样做的方法是在隐藏`<canvas>`元素中呈现 HTML 页面，然后将画布内容保存为图像。

这是可能的，但您不会有完美的渲染输出或适用于旧版浏览器的解决方案。

请参见

[https://stackoverflow.com/a/12660867/315168](https://stackoverflow.com/a/12660867/315168)

了解更多信息。

或者，将无状态页面 URL 提交到无头浏览器呈现页面并使用 Selenium 自动化截取屏幕截图的服务器端。如果该页面是公开的，那么也存在一些 Web 服务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:26:18.647

一种简单但部分的 IE 解决方案，它使用 ActiveX，而不是跨浏览器，而通用的解决方案有点麻烦

IE解决方案

```
function printScreen(){
  var oWordBasic;
  if (window.ActiveXObject){
    oWordBasic = new ActiveXObject("Word.Basic");
    oWordBasic.SendKeys('%{1068}'); 
    oWordBasic.SendKeys('%{PRTSC}'); //or if the above doesnt work..
    //save or transfer the clipboard contensts
  }
} 
```

一般解决方案：

使用像 Gadwin PrintScreen [http://www.gadwin.com/printscreen/](http://www.gadwin.com/printscreen/)这样的屏幕捕获实用程序，它适用于 Windows，但我确信 Linux 和 Mac 也有类似的。您可以定义一个热键，并让它使用自动编号将图像保存到固定位置。该程序不需要安装，它是可移植的，因此可以驻留在网络共享上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T06:53:15.457

您也可以尝试创建包含在站点中的 java applet 或 jar，以捕获屏幕或浏览器的某些部分。我看到了基于 jar 加载文件的实时屏幕共享机制，但我没有看到代码。

这是一些用于将 java html 转换为图像的库 [http://code.google.com/p/java-html2image/](http://code.google.com/p/java-html2image/)

heres simmilar topic [如何使用 java 捕获其他应用程序的选定屏幕？](https://stackoverflow.com/questions/464593/how-to-capture-selected-screen-of-other-application-using-java)

# c# - 如何设置自定义 DataGrid 非活动选择颜色？

> ID：12703127
> 
> 赞同：5
> 
> 时间：2012-10-03T06:40:33.420
> 
> 标签：c#, wpf, wpfdatagrid

我想知道，有没有办法设置自定义`DataGrid`选择颜色，何时`DataGrid`或包含的窗口`DataGrid`变为非活动状态？

例如，这里是`DataGrid`and `ListBox`，显示相同的数据。两个控件都有一个选定项。最初，`DataGrid`有输入焦点：

![在此处输入图像描述](../Images/4fe8564f2bac701c1e74e9d123f23021.png)

一切看起来都不错 - 中的选定项目`ListBox`是灰色的。然后，让我们将焦点转移到`ListBox`：

![在此处输入图像描述](../Images/6f1334a3162d516934b6710ddc6892d8.png)

现在的行为`DataGrid`不正确 - 选择颜色没有改变。
我知道`SystemColors.HighlightBrushKey`和`SystemColors.ControlBrushKey`。此 XAML 被放置在窗口的资源中：

```
 <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="BlueViolet"/>
    <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="DarkGray"/> 
```

但看起来`DataGrid`忽略了第二个 - `SystemColors.ControlBrushKey`，我想`DataGrid`表现得像任何其他控件（`ListBox`, `ComboBox`, `ListView`）。

我可以用触发器实现类似的东西：

```
<Style TargetType="{x:Type DataGridCell}">
    <Style.Triggers>
        <MultiTrigger>
            <MultiTrigger.Conditions>
                <Condition Property="IsFocused" Value="False"/>
                <Condition Property="IsSelected" Value="True"/>
            </MultiTrigger.Conditions>
            <Setter Property="Background" Value="DarkGray"/>
        </MultiTrigger>
    </Style.Triggers>
</Style> 
```

![在此处输入图像描述](../Images/0bbc837b17cb65127d56dfa063858185.png)

但是这个解决方案是不完整的。首先，它是灰色选中的，但未聚焦的单元格，甚至网格选择单元是`FullRow`. 第二件事 - 当应用程序窗口失去焦点时触发器不会触发。

有什么建议么？

**更新**。

此错误已在 .NET 4.5 中修复，因此不再存在。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T09:53:12.627

我找到了解决方案，但它看起来并不优雅。

基本问题是：

*   `DataGrid.IsFocused`是永久`false`的，因为焦点有具体的单元格，而不是网格本身。
*   无法确定单元格样式，网格中是否有任何焦点单元格。您只能测试`IsFocused`当前单元格。
*   数据网格不会对父窗口的停用做出反应。

确定数据网格是否具有焦点的唯一方法是检查`DataGrid.CurrentCell`属性。不幸的是，它是一个结构，你不能创建一个触发器来检查这个属性`{x:Null}`。

为了解决这些问题，我需要两个附加属性。
首先，它们旨在确定网格中是否有任何聚焦单元格。结果一定是`bool`，源是`DataGridCellInfo`，所以，首先，转换器一定要写成：

```
[ValueConversion(typeof(DataGridCellInfo), typeof(bool))]
public sealed class DataGridCellInfoToBooleanConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        if (value == null || value.GetType() != typeof(DataGridCellInfo) || targetType != typeof(bool))
            return DependencyProperty.UnsetValue;

        // IsValid will be false, if there's no focused cell.
        return ((DataGridCellInfo)value).IsValid;
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        return DependencyProperty.UnsetValue;
    }
} 
```

附带属性：

```
 public static bool GetHasFocusedCell(DependencyObject obj)
    {
        return (bool)obj.GetValue(HasFocusedCellProperty);
    }

    public static void SetHasFocusedCell(DependencyObject obj, bool value)
    {
        obj.SetValue(HasFocusedCellProperty, value);
    }

    public static readonly DependencyProperty HasFocusedCellProperty = DependencyProperty.RegisterAttached(
        "HasFocusedCell",
        typeof(bool), 
        typeof(FocusedCellBehavior),
        new UIPropertyMetadata(false)); 
```

当网格的父窗口变为不活动时，必须更改第二个附加属性：

```
 public static bool GetIsParentWindowActive(DependencyObject obj)
    {
        return (bool)obj.GetValue(IsParentWindowActiveProperty);
    }

    public static void SetIsParentWindowActive(DependencyObject obj, bool value)
    {
        obj.SetValue(IsParentWindowActiveProperty, value);
    }

    public static readonly DependencyProperty IsParentWindowActiveProperty = DependencyProperty.RegisterAttached(
        "IsParentWindowActive", 
        typeof(bool), 
        typeof(FocusedCellBehavior), 
        new UIPropertyMetadata(false)); 
```

现在，让我们在 XAML 中绑定附加属性：

```
 <!-- A converter to define, is there any focused cell in DataGrid -->
        <local:DataGridCellInfoToBooleanConverter x:Key="DataGridCellInfoToBooleanConverter"/>

    <DataGrid Grid.Row="0" SelectionUnit="FullRow" SelectionMode="Single"
              ItemsSource="{Binding}" 
              local:FocusedCellBehavior.HasFocusedCell="{Binding CurrentCell, RelativeSource={RelativeSource Mode=Self}, Converter={StaticResource DataGridCellInfoToBooleanConverter}}"
              local:FocusedCellBehavior.IsParentWindowActive="{Binding IsActive, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}"/> 
```

接下来，我需要一个单元格样式来设置适当的背景颜色：

```
 <!-- A style of selected cell in DataGrid, when there's no any focused cells in DataGrid -->
        <Style TargetType="{x:Type DataGridCell}" x:Key="InactiveSelectedCellStyle">
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"/>
                </Trigger>
            </Style.Triggers>
        </Style> 
```

以及触发触发器的网格样式，当附加属性将更改其值时：

```
 <!-- 
            A style of DataGrid, that defines a couple of triggers, which being fired 
            when helper attached properties will change their values 
        -->
        <Style TargetType="{x:Type DataGrid}">
            <Style.Triggers>
                <Trigger Property="local:FocusedCellBehavior.IsParentWindowActive" Value="False">
                    <Setter Property="CellStyle" Value="{StaticResource InactiveSelectedCellStyle}"/>
                </Trigger>
                <Trigger Property="local:FocusedCellBehavior.HasFocusedCell" Value="False">
                    <Setter Property="CellStyle" Value="{StaticResource InactiveSelectedCellStyle}"/>
                </Trigger>
            </Style.Triggers>
        </Style> 
```

有没有更好的解决方案？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-08-04T12:07:56.667

我通过在 .Net 4.5 中使用 DataGrid.Resources 实现了这种行为

```
<DataGrid.Resources>
    <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}" Color="{x:Static SystemColors.HighlightColor}"/>
    <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightTextBrushKey}" Color="{x:Static SystemColors.HighlightTextColor}"/> 
```

# jira - 如何在 Jira v.5.0 中编辑自定义字段？

> ID：12703129
> 
> 赞同：0
> 
> 时间：2012-10-03T06:40:35.037
> 
> 标签：jira, edit, custom-fields

我尝试编辑我的自定义字段之一。就像在这个[指令](https://confluence.atlassian.com/display/JIRA/Configuring+a+Custom+Field#ConfiguringaCustomField-edit)中一样。但我没有筛选“查看自定义字段”。为什么？任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T20:13:14.620

您是否以管理员身份登录？如果是这样，您应该能够选择右上角的管理，然后单击“问题”选项卡并选择“字段”。这应该会将您带到所有自定义字段的列表。

# data-binding - Windows Metro 风格应用数据绑定

> ID：12703134
> 
> 赞同：1
> 
> 时间：2012-10-03T06:41:11.750
> 
> 标签：data-binding, windows-8, microsoft-metro

我需要将图像从项目中的文件夹加载到堆栈面板。在每个图像下还应显示一个名称。图片文件夹可以随时更改，图片数量也可以更改。（最多50张图片）我想知道我是否可以使用数据绑定来处理这个问题。我想在 XML 中包含图像 ID、它们的来源和每个图像的名称，这样我就可以在图像文件夹更改时更改该 XML 文件，而无需更改其余代码。这可行吗？如果有怎么办？有人可以指导我吗？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:45:59.007

一种解决方案是使用 Filepicker 让用户选择文件夹内的图像，然后将所选图像绑定到 Itemscontrol。然后可以将该 itemscontrol 放在 Stackpanel 中。这是使用该解决方案的快速示例。

这是选择图像文件的代码隐藏：

```
 private List<EditableImage> availableImagesList = new List<EditableImage>();

    private async void FilePicker_Clicked(object sender, RoutedEventArgs e)
    {

        FileOpenPicker openPicker = new FileOpenPicker();
        openPicker.ViewMode = PickerViewMode.List;
        openPicker.SuggestedStartLocation = PickerLocationId.DocumentsLibrary;

         //TODO: add supported image file types
        openPicker.FileTypeFilter.Add("jpg,png,gif");

        // We prompt the user to pick one or more files
        IReadOnlyList<StorageFile> files = await openPicker.PickMultipleFilesAsync();

        if (files.Count > 0)
        {
            availableImages.DataContext = null;
            String fp = ""; // The path of the picked image
            int index = availableImagesList.Count;

            foreach (StorageFile file in files)
            {
                // Copying the selected image to local app data folder
                //TODO: check if the selected file is actually and image
                if (file != null )
                {
                    StorageFile fileCopy = await file.CopyAsync(ApplicationData.Current.LocalFolder, file.DisplayName + file.FileType, NameCollisionOption.ReplaceExisting);
                    fp = fileCopy.Path;
                }

                //Creating the image
                CustomImage picToAdd = new CustomImage(index+1, file.DisplayName, fp);

                //Adding the image as an UI element to the app bar
                availableImagesList.Add(picToAdd);
            }

            availableImages.DataContext = availableImagesList;

        }
    } 
```

CustomImage 模型：

```
public class CustomImage
{
    private static Uri _baseUri = new Uri("ms-appx:///");

    private int _id;
    public int Id
    {
        get { return _id; }
        set
        {
            this.SetProperty(ref this._id, value); 
        }
    }

    private string _name;
    public string Name
    {
        get { return _name; }
        set
        {
            this.SetProperty(ref this._name, value);
        }
    }

    private string _imgPath;
    public string ImgPath
    {
        get { return _imgPath; }
        set
        {
            this.SetProperty(ref this._imgPath, value);
        }
    }

    private String _imagePath = null;

    private ImageSource _image = null;
    public ImageSource Image
    {
        get
        {
            if (this._image == null && this._imagePath != null)
            {
                this._image = new BitmapImage(new Uri(CustomImage._baseUri, this._imagePath));
            }
            return this._image;
        }

        set
        {
            this._imagePath = null;
            this.SetProperty(ref this._image, value);
        }
    }

    public void SetImage(String path)
    {
        this._image = null;
        this._imagePath = path;
        this.OnPropertyChanged("Image");
    }

   public CustomImage(int id, string name, string imagepath)
    {

        SetImage(imagepath);
        _id = id;
        _name = name;

    }
} 
```

这是 Stackpanel 中 ItemsControl 的 XAML：

```
 <StackPanel x:Name="loadedImages" HorizontalAlignment="Left" Orientation="Horizontal">

                <!--Displaying the selected images in stackpanel-->
                <ItemsControl ItemsSource="{Binding}" ItemsPanel="{StaticResource LoadedItemsPanel}">
                    <ItemsControl.ItemTemplate>
                        <!--The template for each object that is displayed as an UI element-->
                        <DataTemplate>
                            <Grid Height="88" Margin="2,0" Width="88"  >
                                <Image Source="{Binding Image}"/>
                                <TextBlock Text="{Binding Name}"/>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel> 
```

在您的页面资源中，您还必须定义：

```
 <ItemsPanelTemplate x:Key="LoadedItemsPanel">
        <WrapGrid Orientation="Horizontal"/>
    </ItemsPanelTemplate> 
```

# android - 翻译动画滞后

> ID：12703135
> 
> 赞同：2
> 
> 时间：2012-10-03T06:41:12.713
> 
> 标签：android, animation

在我的应用程序中，我创建了 20-30 个视图，每个视图都有 2 个图像视图，并且在运行时我将图像从 res 文件夹显示到相应的 imageview 。我已经在每个视图上添加了手势侦听器，并且我想在每个视图上滑动视图。对于滑动，我正在使用翻译动画，但有时翻译动画需要很长时间并且动画有滞后。我还检查了 Galaxy s2 (4.0.4) 上需要 11-12 mb 的堆大小。也使位图可清除仍然存在延迟，所以有什么技巧可以快速动画和消除延迟？？？

# visual-c++ - c ++：崩溃说“纯虚拟调用”

> ID：12703142
> 
> 赞同：1
> 
> 时间：2012-10-03T06:41:29.800
> 
> 标签：visual-c++

{ 使用 Visual Studio 2010 , Win7 }

```
class Base
{
    public:
        Base() : terminateCondition(false)
        {
            //spawn new thread and set entry point to newThreadFunc()
        }

        virtual ~Base() // edited to say it's virtual.
        {
            terminateCondition=true;
            //wait for thread to join
        }

        virtual void vfunc() = 0;

        static void __stdcall newThreadFunc(void *args)
        {
            while(!terminateCondition)
                pThis->vfunc();
        }

        volatile bool terminateCondition;
};

class Derived : public Base
{
    public:
        virtual void vfunc()
        {
            //Do Something
        }
};

Derived* dPtr=new Derived; //now assume pThis is dptr
//later somewhere
delete dPtr; 
```

此代码崩溃说`pure virtual called`. 移动`terminateCondition=true`到析构函数`Derived`可以防止这种崩溃。我想我部分明白了为什么。破坏与构造的顺序相反，因此首先执行 d'tor ，并且在调用 d'tor 之前破坏`Derived`的所有功能。同时，如果遇到应用程序将崩溃。它崩溃说**纯虚拟调用**。我无法理解这部分。有人可以解释一下吗？`Derived``Base``pThis->vfunc()`

 *** * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-03T06:43:14.130

您的基类析构函数需要`virtual`，因为它不是此代码调用**未定义行为**。

参考：
**C++03 标准：第 5.3.5/3 节：**

> 如果操作数的静态类型与其动态类型不同，则静态类型应为操作数动态类型的基类，且静态类型应具有虚拟析构函数或行为未定义。

* * *

当您通过构造函数/析构函数调用虚函数时，动态调度不会像您期望的那样工作。
in 构造函数/析构函数的类型`this`是正在执行构造函数/析构函数的类的类型。虽然您希望动态调度调用覆盖的派生类方法`Derived::vfunc()`，但它最终会调用`Base::vfunc()`没有定义的调用，因此会导致**未定义的行为**。

参考：
**C++03 标准 10.4/6：**

> “可以从抽象类的构造函数（或析构函数）调用成员函数；直接或间接对从此类构造函数创建（或销毁）的对象进行虚拟调用（10.3）的效​​果（或析构函数）未定义。”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T06:47:32.543

发生这种情况是因为您的代码`vfunc`可以在`Base::Base()`尚未完成或`Base::~Base()`已经开始时调用。这两种情况都会调用未定义的行为，通常表现为“纯虚调用”错误。出现错误的原因是“虚拟”机制直到大多数派生对象的类的构造函数开始运行后才会生效，而“虚拟”机制在大多数派生对象的类的析构函数完成后才生效跑步。因此，当您在对象上执行构造函数或析构函数时调用虚函数时，将调用构造函数或析构函数正在执行的类的相应函数。如果该函数恰好是纯虚函数，则行为未定义。

ISO/IEC 14882:2003, 10.4/6： *可以从抽象类的构造函数（或析构函数）调用成员函数；对于从这样的构造函数（或析构函数）创建（或销毁）的对象，直接或间接地对纯虚函数进行虚调用（10.3）的效​​果是未定义的。***

# javascript - Adding Some Feature in JQuery UI Autocomplete

> ID：12703143
> 
> 赞同：0
> 
> 时间：2012-10-03T06:41:33.057
> 
> 标签：javascript, html, jquery-autocomplete, string-split

This is my Jquery Script Code.

```
<script type="text/javascript">

        var months = ['01 - January', '02 - February', '03 - March', '04 - April', '05 - May', '06 - June', '07 - July', '08 - August', '09 - September', '10 - October', '11 - November', '12 - December'];    

$().ready(function() {

    $("#month").autocomplete(months,{minChars: 0,max: 12,autoFill: true,mustMatch: true,matchContains: false,scrollHeight: 220,
    formatItem: function(data, i, total) 
    {
            // don't show the current month in the list of values (for whatever reason)
            if ( data[0] == months[new Date().getMonth()] ) 
                return false;
            return data[0];
    }
    });

    $("#clear").click(function() {
        $(":input").unautocomplete();
    });
});
</script>

</head>
<body>
<div id="content">

    <form autocomplete="off">
        <p>
            <label>Single Month:</label>
                <input type="text" id="month" />

        </p>
        <input type="submit" value="Submit" />
    </form>
</div>
</body> 
```

Now I'm Entering a key '01' It Picks only '01 - January' in tat list . If i select the option by mouse clicking or Typing Enter key, the it will show in the text box. But i need to show only month code in the input filed. In list box only i should show the month code with the month description. I don't want to show the month description in the input box. And another one I need to show arrow button to show the list. How can i do this ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T18:19:52.457

看到[这个小提琴](http://jsfiddle.net/qMrCx/)。我没有添加所有的月份。:) 但想法是将包含两条数据的数组传递给自动完成小部件。自动完成小部件需要一个数组格式的数据源，其中之一是：

*   包含标签属性、值属性或两者的对象
*   简单的字符串值

要添加“下拉”箭头，请参阅jQuery 文档中的[此示例](http://jqueryui.com/demos/autocomplete/combobox.html)。它很长，但是一旦完成，它看起来非常好。

# dynamics-crm-2011 - How to change the display for values in the fields of a form

> ID：12703146
> 
> 赞同：-1
> 
> 时间：2012-10-03T06:41:47.127
> 
> 标签：dynamics-crm-2011

I have a requirement like, The form has flag values, 'Private' and 'Public'. When private is selected, some of the fields(text, option set, look ups) has to be marked with '******' for display alone. Someone please help me with the code, how to change the display for the values in fields(especially optionset and lookup). The plugin is registered for retrieve and retrieve multiple on post operation.

Thanks in advance!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T09:04:45.623

您可以使用 XRM javascript 对象重命名字段标签。

看[这里](http://msdn.microsoft.com/en-us/library/gg334351.aspx)

因此，要更改标签的值，只需使用：

```
Xrm.Page.getControl('new_fieldname').setLabel('New Label *'); 
```

您可以通过使用挂钩到 onchange 事件

```
Xrm.Page.getAttribute('new_optionset').addOnChange(function() {
    //method logic goes here
}); 
```

# c# - DataGridView drag & drop

> ID：12703148
> 
> 赞同：1
> 
> 时间：2012-10-03T06:42:00.440
> 
> 标签：c#

I am still learning C#, so I hope someone could help me with this.

I have two `DataGridView` objects, when I drag and drop the from datagridview1, it works, but if I drag again from datagridview1 to 2, the data overrides the value from first column. Each repetition will create one additional blank column with the columnname from datagridview1, but will not replicate the values to its respective columns, All the values will be at the first column.

```
private void dataGridView1_DragDrop(object sender, DragEventArgs e)
    {

        List<int> selectedColumns = new List<int>();
        // The mouse locations are relative to the screen, so they must be 
        // converted to client coordinates.
        Point clientPoint = dataGridView1.PointToClient(new Point(e.X, e.Y));
        dataGridView1.DataBindings.Clear();
        // Get the row index of the item the mouse is below. 
        rowIndexOfItemUnderMouseToDrop = dataGridView1.HitTest(clientPoint.X, clientPoint.Y).RowIndex;

        // If the drag operation was a move then remove and insert the row.
        if (e.Effect == DragDropEffects.Move)
        {
            DataGridViewRow rowToMove = e.Data.GetData(typeof(DataGridViewRow)) as DataGridViewRow;

            listBox1.Items.Add(rowIndexOfItemUnderMouseToDrop.ToString());
            listBox1.Items.Add(columIndexFromMouseDown.ToString());

           // dataGridView1.Rows.RemoveAt(rowIndexFromMouseDown);

            foreach (DataGridViewColumn col in dataGridView1.Columns)
            {
                if (col.Index == columIndexFromMouseDown)
                {
                    dataGridView2.Columns.Add((DataGridViewColumn)col.Clone());
                    selectedColumns.Add(columIndexFromMouseDown);

                }
            }

            int rowIndex = 0;

            foreach (DataGridViewRow row in dataGridView1.Rows)
            {

                dataGridView2.Rows.Add();

                for (int i = 0; i < selectedColumns.Count; i++)
                {
                    dataGridView2.Rows[rowIndex].Cells[i].Value = row.Cells[selectedColumns[i]].Value;
                }

                rowIndex++;
            }

         //   dataGridView1.Rows.Insert(rowIndexOfItemUnderMouseToDrop, rowToMove);
          }

      // dataGridView1.DataSource = DataSetRecords.Tables[0];
    } 
```

Attached is the code.

Any ideas? Thanks in advance.

# cross-browser - Gradient background is not working with Chrome

> ID：12703149
> 
> 赞同：0
> 
> 时间：2012-10-03T06:42:02.260
> 
> 标签：cross-browser, css

Hello I am using following code that works fine with Firefox, but does not work in Chrome.

```
background: -moz-linear-gradient(center top , #CAF579, #73CA08) repeat scroll 0 0 transparent; 
```

I used WebKit also, but still it's not working.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:50:15.600

每个浏览器都有不同的渐变背景语法。此代码应涵盖最广泛使用的浏览器：

```
#gradient {
    /* For WebKit (Safari, Google Chrome etc) */
    background: -webkit-gradient(linear, left top, right bottom, from(#CAF579), to(#73CA08));
    /* For Mozilla/Gecko (Firefox etc) */
    background: -moz-linear-gradient(left top, #CAF579, #73CA08);
    /* For Internet Explorer 5.5 - 7 */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#CAF579FF, endColorstr=#73CA08FF);
    /* For Internet Explorer 8 */
    -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#CAF579FF, endColorstr=#73CA08FF)";
} 
```

你可以在这里看到更多：[http ://robertnyman.com/2010/02/15/css-gradients-for-all-web-browsers-without-using-images/](http://robertnyman.com/2010/02/15/css-gradients-for-all-web-browsers-without-using-images/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T06:47:11.070

```
 background: -webkit-linear-gradient(top , #CAF579, #73CA08) repeat scroll 0 0 transparent; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-03T14:00:57.990

CSS 渐变的语法有点复杂。

有 5 种不同的语法 - 4 种已弃用的语法（旧的 ie `filter`、新的 ie `-ms-filter`、旧的 webkit `-webkit-gradient`、新的 mozilla `-moz-linear-gradient`（加上一组供应商前缀以用于不同的浏览器（`-moz-`、`-webkit-`、`-ms-`、`-o-`））和无前缀的标准`linear-gradient`（与以前的有很大区别处理渐变角度的版本）。

在您的情况下，对于 Google Chrome **，您需要添加`-webkit-linear-gradient`到您的 css**。另外，无前缀版本，因为它预期 Chrome 和 Safari 将*很快*支持标准语法。

详情参考MDN：[https ://developer.mozilla.org/en-US/docs/CSS/linear-gradient](https://developer.mozilla.org/en-US/docs/CSS/linear-gradient)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T06:58:31.370

chrome的某些版本（新版本）识别标准语法而不是`-webkit` ie

```
background: linear-gradient(center top , #CAF579, #73CA08) repeat scroll 0 0 transparent; 
```

因此，您应该始终将其与`-moz`和`-webkit`（为了与旧版本兼容）组合在一起，例如：

```
background: -moz-linear-gradient(center top , #CAF579, #73CA08) repeat scroll 0 0 transparent; 
background: -webkit-linear-gradient(center top , #CAF579, #73CA08) repeat scroll 0 0 transparent;
background: linear-gradient(center top , #CAF579, #73CA08) repeat scroll 0 0 transparent; 
```

检查此[**链接**](https://stackoverflow.com/q/7512891/1577396)以获取更多信息。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-03T06:47:32.160

对于 chrome，您必须使用`-webkit-gradient`而不是`-moz-linear-gradient`. 请注意，它也有不同的语法，例如：

```
background: -webkit-gradient(linear, center top, center bottom , from(#CAF579), to(#73CA08)) repeat scroll 0 0 transparent; 
```

有关更多示例，请参见此页面：[http ://webdesignerwall.com/tutorials/cross-browser-css-gradient](http://webdesignerwall.com/tutorials/cross-browser-css-gradient)

# haskell - Make GHC accept Main module with a main function that isn't IO ()

> ID：12703151
> 
> 赞同：4
> 
> 时间：2012-10-03T06:42:18.320
> 
> 标签：haskell, ghc

Is there some way (flag or hack) to make GHC accept a main module where the main function's signature isn't `IO ()`? For [Fay](http://hackage.haskell.org/package/fay) the main functions have the type `Fay ()`, but GHC does not accept this if the module is Main (or the module name is left out).

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-19T19:37:55.307

程序的入口点必须有`IO a`some类型`a`，据我所知，没有办法让 GHC 接受其他类型（不修改其源代码）。

默认情况下，入口点是，但您可以使用带有 GHC 的标志`Main.main`指定不同的操作作为入口点。`-main-is`一般形式是

```
ghc -main-is Module.action ModuleThatImportsEverything.hs -o programme 
```

如果模块是，您可以省略该`Module`部分`Main`，

```
ghc -main-is action ModuleThatImportsEverything.hs -o programme 
```

或`action`零件，如果其名称为`main`，

```
ghc -main-is Module ModuleThatImportsEverything.hs -o programme 
```

相当于`-main-is Module.main`。

对于您的情况，您可以将虚拟操作添加到`Main`模块或虚拟模块 - 当然需要从`Main`模块（直接或间接）导入 - 到程序中作为入口点，就 GHC 而言担心的。

# clearcase - shipping_server(5548)_C(5865): Error: data transfer timed out

> ID：12703153
> 
> 赞同：1
> 
> 时间：2012-10-03T06:42:28.440
> 
> 标签：clearcase

We are recieving the below error when we are trying to sync the vobs in multisite.

```
2012-10-03T17:12:36+05:30 shipping_server(5548)_C(5865): Error: data transfer timed out
2012-10-03T17:12:36+05:30 shipping_server(5548)_C(5865): Error: unable to forward file 
```

We have checked ping telnet everything is working fine , still we are not able to `mkorder` a single test file

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:02:55.803

查看技术说明“[错误：数据传输超时](http://www-01.ibm.com/support/docview.wss?uid=swg21170879)”

> ### 解决问题
> 
> 防火墙上为 MultiSite 交换定义的端口数需要大于 20 以防止超时。
> 
> 将 shipping.conf 和防火墙中定义的端口数增加到 30 或更多。

其他潜在原因：

"[如何解决运输服务器问题](http://www-01.ibm.com/support/docview.wss?uid=swg21257876)"

这包括：

> 两台机器上的端口都打开了吗？服务器至少需要 3
> 个。会不会有防火墙问题阻止了这些？对于防火墙问题，您可能会收到以下错误：

```
unable to send packet: data transfer timed out 
```

它参考了技术说明“[配置 MultiSite Shipping Server 以在静态端口范围内工作](http://www-01.ibm.com/support/docview.wss?rs=988&uid=swg21207525)”以供其他配置考虑。

# javascript - consuming REST API on client side using JQuery for phonegap Application

> ID：12703155
> 
> 赞同：4
> 
> 时间：2012-10-03T06:42:30.020
> 
> 标签：javascript, ajax, jquery

My code is like

```
$.ajax({
    cache: false,
    url:  <Web Service URL>,
    data: "{}",
    type: 'GET',
    crossDomain: true,
    dataType: 'json',
    success: function() { alert("Success"); },
    error: function() { alert('Failed!'); },
}); 
```

I'm trying to access the REST API from client side using JQuery but it gives error like `XMLHttpRequest cannot load <Web Service URL>. Origin null is not allowed by Access-Control-Allow-Origin.`

So may someone help me to resolve this error..?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-14T06:57:50.450

在谷歌之后，我知道，用户必须在 phonegap/hybrid 应用程序的 config.xml 中添加“”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T06:47:19.557

Ajax 请求需要发送到为网页提供服务的服务器。

您可以做的是在您的网站上安装一个代理，将来自浏览器的请求转发到您希望拨打电话的网站。

[http://your.site.here/proxy/bentley/LearnService/Learnservice.svc/REST/](http://your.site.here/proxy/bentley/LearnService/Learnservice.svc/REST/) ...

因此，如果您碰巧使用 apache，您可以通过在 httpd.conf 中添加如下内容来配置反向代理：

```
ProxyPassReverse /proxy/bentley http://khara37793punl.bentley.com/ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:51:56.433

看看这个问题的其他 SO 问题： [Access Control Allow Origin not allowed by](https://stackoverflow.com/questions/9327218/access-control-allow-origin-not-allowed-by)

还有著名的： [Access-Control-Allow-Origin Multiple Origin Domains？](https://stackoverflow.com/questions/1653308/access-control-allow-origin-multiple-origin-domains)

所有这些都解释了这些答案，您必须允许为您的服务器编写脚本，或者您的脚本必须在同一台服务器上。

# iphone - 实现为本地存储的视频中的每一帧触发的委托

> ID：12703157
> 
> 赞同：4
> 
> 时间：2012-10-03T06:42:33.450
> 
> 标签：iphone, objective-c, ios, avfoundation

如何实现为本地存储的视频中的每一帧触发的委托？我试过`AVCaptureVideoDataOutputSampleBufferDelegate`了，但它不适用于本地存储的视频。有没有其他方法可以做到这一点，或者我可以使用 virtual`AVCaptureDevice`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T06:46:06.507

AVCapture_ **_**方法都适用于相机类型的东西，磁盘上的电影文件肯定不是。

我怀疑你*真正*在寻找的是类似于iOS 6.0 中的[" `AVPlayerItemVideoOutput`" 类。](http://developer.apple.com/library/ios/#documentation/AVFoundation/Reference/AVPlayerItemVideoOutput_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40012229)

[虽然它有一个委托协议](http://developer.apple.com/library/ios/#documentation/AVFoundation/Reference/AVPlayerItemOutputPullDelegate_Protocol/Reference/Reference.html#//apple_ref/doc/uid/TP40012230)，但我还没有使用过这个新的对象或协议，我不知道像“ `outputSequenceWasFlushed`”这样的委托方法是否真的对你有用）。关于该类的一件事`AVPlayerItemVideoOutput`是，它就像您可以获取这些项目的像素缓冲区（即，对于电影来说，这些项目将是帧）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T00:37:50.270

你可以看看这些： [https ://ar.qualcomm.at/support_file/download/iOS/videoplayback%20sample%20app/vuforia-videoplayback-ios-1-0-2.zip](https://ar.qualcomm.at/support_file/download/iOS/videoplayback%20sample%20app/vuforia-videoplayback-ios-1-0-2.zip)

它实现了你想要的东西。它依赖于*AVAssetReader*您可以使用*AVAssetReaderOutput -> copyNextSampleBuffer*方法。

您可以根据视频资产的帧速率为播放的每一帧设置一个计时器，在计时器中，您可以检索前面提到的由*copyNextSampleBuffer检索到的**CMSampleBufferRef*，它也可以从 iOS4.x 获得

# google-calendar-api - 谷歌日历是否以 ics 格式导入 vtodo？

> ID：12703165
> 
> 赞同：1
> 
> 时间：2012-10-03T06:43:14.310
> 
> 标签：google-calendar-api, icalendar

我正在尝试在谷歌日历中导入 vtodo（ics 格式的任务）

```
BEGIN:VTODO
CALSCALE:GREGORIAN
BEGIN:VTASK
DTSTART:20120731T000000
DUE:20120731T000000
SUMMARY:test
ORGANIZER:CN=xxx@xxx.com
ATTENDEE:CN=xxx@xxx.com
PERCENT-COMPLETE:0
STATUS:0
PRIORITY:1
CATEGORIES:General
DESCRIPTION:
END:VTASK
END:VTODO 
```

它说无效的ics文件。谷歌日历只能导入 vevents 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T10:11:11.783

是的。Google 日历只会从 ICS 文件导入事件。但是您的 ICS 文件也无效。

它需要被`VCALENDAR`BEGIN和END标签包围，并且`VTASK`不是格式中的有效标记（规范中没有提到[）](https://www.rfc-editor.org/rfc/rfc5546)。

# git - 要添加到 git 存储库的文件

> ID：12703166
> 
> 赞同：1
> 
> 时间：2012-10-03T06:43:14.677
> 
> 标签：git

我有一个托管在 GitHub 上的存储库，我想知道应该将哪些文件推送到它。显然我的源文件已添加到其中，但我不确定如何处理我正在使用的库。

例如，我在我的项目中使用[它。](https://github.com/The-Shadow/java-speech-api)它存储`/lib/`在我的项目目录中。我应该包含`/lib/`在我的存储库中吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T06:47:17.113

您应该指导用户让他们下载 3rd 方库的最新版本（或者您可以指定经过测试的 OK 版本），这样您就不会违反其他 3rd 方库的许可（其中一些不会允许您在其他软件中重新分发/捆绑）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T01:21:10.770

I would use a dependency management/build tool like Jenkins, npm, ant+ivy, etc... Then include that configuration and instructions. You want to make the barrier to contribution as low as possible. Even asking folks to download and coordinate versions themselves can be off putting. If I have the choice of contributing to two similar projects I will pick the one with a nice build system and dep management over the one that has none. Also include unit-tests =)

Since you appear to be using java, here is an example from a project I help with:

[https://github.com/vngx/vngx-jsch](https://github.com/vngx/vngx-jsch)

# php - 动态表创建背景颜色

> ID：12703168
> 
> 赞同：1
> 
> 时间：2012-10-03T06:43:17.960
> 
> 标签：php

我正在动态创建一个充满值的表...如果有办法在白色和浅灰色之间交替此表的行颜色，我会感到很痛苦。

这是我用来创建表的代码...

```
while($row = mysql_fetch_array($result))
  {
  echo "<tr>";
  echo "<td>" . $row['name'] . "</td>";
  echo "<td>" . $row['width'] . "</td>";
  echo "<td>" . $row['height'] . "</td>";
  echo "<td>" . $row['normal_fill'] . "</td>";
  echo "<td>" . $row['our_fill'] . "</td>";
  echo "<td>" . $row['old_price'] . "</td>";
  echo "<td>" . $row['price'] . "</td>";
  echo '<td><form method="post" action=""><input type="hidden" name="duckdown_id" value="'.$row['duckdown_id'].'" /><input type="submit" name="sumbit" value="Delete" /></form></td>';
  echo "</tr>";
  }
echo "</table>"; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T06:44:49.373

添加一个增量变量并检查每 2 行：

```
$i = 1;
while($row = mysql_fetch_array($result)){
  $background = '#000';
  if($i%2 == 0){
      $background = '#00f';
  }
  $i++;
  echo "<tr style='background-color:".$background.";'>"; 
```

作为旁注，我看到您仍在使用函数，如果您刚刚开始，`mysql_*`您可以移至函数已弃用。[这是一个很好的教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)。`PDO``mysql_*`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T06:54:08.110

我的方法非常类似于（并且基于）@Mihai Iorga's 将基于 css 类：

CSS：

```
gray { background-color: gray; }
red { background-color: red; } 
```

PHP：

```
$i = 1;
while($row = mysql_fetch_array($result)){
  $background = 'gray';
  if($i%2) {
      $background = 'red';
  }
  $i++;
  echo "<tr class='$background'>";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:01:14.877

如果你使用 CSS（来自 Mihai lorga 的代码）

PHP

```
$i = 1;
while($row = mysql_fetch_array($result)){
    if($i%2 == 0){
        echo "<tr class=even>";
    }else{
        echo "<tr class=odd>";
    }
    echo "<td>" . $row['name'] . "</td>";
    //etc.
    $i++;
} 
```

CSS

```
<style type="text/css">
    .even{
        background-color:#00f;
    }
    .odd{
        background-color:#000;
    }
</style> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:14:19.040

您可以使用如下简单的 jquery 代码，

```
 $(document).ready(function()
   {
      $('tbody tr:odd').addClass("row-odd");
      $('tbody tr:even').addClass("row-even");  
   }); 
```

并在样式表中定义“row-odd”和“row-even”类。

# database - Oracle rownum 1 不工作

> ID：12703172
> 
> 赞同：0
> 
> 时间：2012-10-03T06:43:34.067
> 
> 标签：database, oracle

我遇到了 oracle 的问题，只需创建带限制的简单选择，但 oracle 没有这个功能，所以我写了类似的东西

：

```
 select b.strdir,b.num, b.value, b.time  

          from mytable b
         where b.dev_id = 223
           and b.cur_id = 23
           and b.time=(
                select xx.time from mytable xx
                where xx.dev_id = b.dev_id and xx.cur_id = b.cur_id and xx.nom = b.nom
                and rownum=1
                order by xx.time DESC
               )

         order by b.strdir nulls first; 
```

但它不起作用请帮助：/

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:28:39.520

这种类型的查询最好使用第一个/最后一个聚合函数（也称为“保持子句”）来处理，尽管我没有测试过这个查询。

```
select max(b.strdir) keep (dense_rank last order by b.time) strdir
     , max(b.num) keep (dense_rank last order by b.time) num
     , max(b.value) keep (dense_rank last order by b.time) value
     , max(b.time) time  
  from mytable b
 where b.dev_id = 223
   and b.cur_id = 23
 group by b.nom
 order by strdir nulls first 
```

[http://rwijk.blogspot.com/2012/09/keep-clause.html](http://rwijk.blogspot.com/2012/09/keep-clause.html)

问候，
罗布。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T08:05:34.343

要获取最近使用的 dev_id、row_id 对：

```
 select b.strdir,b.num, b.value, b.time  
      from mytable b
     where b.dev_id = 223
       and b.cur_id = 23
       and b.time =(
            select max(xx.time) from mytable xx
            where xx.dev_id = b.dev_id and xx.cur_id = b.cur_id 
              and xx.nom = b.nom --> not sure this line is necessary
           )
     order by b.strdir nulls first; 
```

请注意，在`ROWNUM = 1`应用时，该`SORT BY`子句被忽略，*因为*`SORT BY`在. 解决方案是使用一个子查询来查找最新时间。*`WHERE``MAX(time)`*

 *还要注意返回重复行的风险，以防可能存在具有相同`time`值的行。一种可能的解决方案是`SELECT DISTINCT`在外部 SQL 中使用 a 。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T06:49:32.237

Oracle 在一行通过谓词之后分配 rownum，因此您的 where 子句永远不会让任何东西通过。在 oracle 中选择 TOP n 的规范方法是：

```
select * from ( <your statement> ) where rownum <= N 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:37:53.137

```
 select b.strdir,b.num, b.value, b.time  

      from mytable b
     where b.dev_id = 223
       and b.cur_id = 23
       and b.time=(
            select max(xx.time) from mytable xx
            where xx.dev_id = b.dev_id and xx.cur_id = b.cur_id and xx.nom = b.nom

           )

     order by b.strdir nulls first; 
```

这是好版本吗？**最大（xx.time）***

# c# - 多个 ref 类型字段上的 LINQ GroupBy；自定义 EqualityComparer

> ID：12703186
> 
> 赞同：2
> 
> 时间：2012-10-03T06:44:19.250
> 
> 标签：c#, linq, group-by, iequalitycomparer

因此，我在 SO 和其他地方浏览了大约 20 个关于此的示例，但没有找到一个涵盖我正在尝试做的事情。这 -[我可以指定我的显式类型比较器内联吗？](https://stackoverflow.com/questions/188120/can-i-specify-my-explicit-type-comparator-inline)- 看起来像我需要的，但还不够远（或者我不明白如何更进一步）。

*   我有一个 LoadData 列表，LoadData 对象具有引用类型和值类型的字段
*   需要对 ref 和 value 字段的混合进行分组，将输出投影到匿名类型
*   需要（我认为）提供自定义 IEqualityComparer 来指定如何比较 GroupBy 字段，但它们是匿名类型

    ```
    private class LoadData
    {
        public PeriodEndDto PeriodEnd { get; set; }
        public ComponentDto Component { get; set; }
        public string GroupCode { get; set; }
        public string PortfolioCode { get; set; }
    } 
    ```

到目前为止，我使用的最好的 GroupBy 查询：

```
var distinctLoads = list.GroupBy(
    dl => new { PeriodEnd = dl.PeriodEnd, 
                Component = dl.Component, 
                GroupCode = dl.GroupCode },
    (key, data) => new {PeriodEnd = key.PeriodEnd, 
                Component = key.Component, 
                GroupCode = key.GroupCode, 
                PortfolioList = data.Select(d=>d.PortfolioCode)
                                    .Aggregate((g1, g2) => g1 + "," + g2)},
    null); 
```

这组，但仍有重复。

1.  如何指定自定义代码来比较 GroupBy 字段？例如，组件可以通过 Component.Code 进行比较。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-03T06:48:20.053

这里的问题是您的密钥类型是匿名的，这意味着您不能声明`IEqualityComparer<T>`为该密钥类型实现的类。虽然*可以*编写一个比较器，以自定义方式（通过泛型方法、委托和类型推断）比较匿名类型的相等性，但这不会非常令人愉快。

两个最简单的选择可能是：

*   `PeriodEndDto`通过在and中覆盖 Equals/GetHashCode 使匿名类型“正常工作” `ComponentDto`。如果您想在任何地方使用自然平等，这可能是最明智的选择。我`IEquatable<T>`也建议实施
*   不要使用匿名类型进行分组 - 使用命名类型，然后您可以覆盖它`GetHashCode`，`Equals`或者您可以以正常方式编写自定义相等比较器。

编辑：`ProjectionEqualityComparer`不会真的工作。不过，编写类似的东西是可行的——`CompositeEqualityComparer`其中一种允许您从几个“投影+比较器”对创建一个相等比较器。与匿名类型相比，它会非常难看。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T08:14:34.380

编辑：

正如 Jon Skeet 指出的那样，这个解决方案似乎比它更好，如果你不仔细考虑的话，因为我忘记了实现 GetHashCode。正如 Jon 在他的回答中所说，必须实现 GetHashCode 使得这种方法“不是非常令人愉快”。`EqualityComparer<T>.Create()`想必，这也是框架中（所谓的“莫名其妙”）缺席的解释。我将把答案留作参考，作为不该做的例子，也可能具有指导意义。

原始答案：

您可以使用`Comparer<T>.Create`.NET 4.5 中引入的模式建议的方法（但在 .NET 中莫名其妙地不存在`EqualityComparer<T>`）。为此，请创建一个`DelegateEqualityComparer<T>`类：

```
class DelegateEqualityComparer<T> : EqualityComparer<T>
{
    private readonly Func<T, T, bool> _equalityComparison;

    private DelegateEqualityComparer(Func<T, T, bool> equalityComparison)
    {
        if (equalityComparison == null)
            throw new ArgumentNullException("equalityComparison");
        _equalityComparison = equalityComparison;
    }

    public override bool Equals(T x, T y)
    {
        return _equalityComparison(x, y);
    }

    public static DelegateEqualityComparer<T> Create(
        Func<T, T, bool> equalityComparison)
    {
        return new DelegateEqualityComparer<T>(equalityComparison);
    }
} 
```

然后围绕 GroupBy 方法编写包装器以接受`Func<TKey, TKey, bool>`委托代替`IEqualityComparer<TKey>`参数。这些方法将委托包装在一个`DelegateEqualityComparer<T>`实例中，并将其传递给相应的 GroupBy 方法。例子：

```
public static class EnumerableExt
{
    public static IEnumerable<IGrouping<TKey, TSource>> GroupBy<TSource, TKey>(
        this IEnumerable<TSource> source,
        Func<TSource, TKey> keySelector,
        Func<TKey, TKey, bool> equalityComparison)
    {
        return source.GroupBy(
            keySelector,
            DelegateEqualityComparer<TKey>.Create(equalityComparison);
    }
} 
```

最后，在您的呼叫站点，您将使用类似以下表达式的`equalityComparison`参数：

```
(a, b) => a.PeriodEnd.Equals(b.PeriodEnd)
    && a.Component.Code.Equals(b.Component.Code)
    && a.GroupCode.Equals(b.GroupCode) 
```

# java - Java JFrame_JPanel

> ID：12703187
> 
> 赞同：0
> 
> 时间：2012-10-03T06:44:20.293
> 
> 标签：java, swing, layout, jpanel, jlabel

我在使用 JFrame 和 JPanel 时遇到问题。我的整个代码如下：

```
class GUIExample
{

    public static void main(String args[])
    {
        //Creating the frame
        JFrame frame=new JFrame("Chat Frame");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(400,400);
        frame.setLocationRelativeTo(null);
        frame.setDefaultLookAndFeelDecorated(true);
        frame.setLayout(new FlowLayout());

        //Creating data panel and a label and a text box        
        JPanel dataPanel=new JPanel();
        dataPanel.setLayout(new FlowLayout());

        dataPanel.setLocation(0,0);
        dataPanel.setOpaque(true);
        dataPanel.setBackground(Color.WHITE);
        dataPanel.setSize(200,200);

        JLabel lblName=new JLabel("Enter Text: ");
        lblName.setLayout(new FlowLayout());
        lblName.setBounds(0, 10, 2, 2);

        dataPanel.add(lblName);

        frame.add(dataPanel);
        frame.setVisible(true);
    }
} 
```

请帮助程序发生了什么

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:52:37.580

它显示一个带有标签的窗口说“输入文本：”有什么问题？

# java - Alfresco Share: java.net.SocketException: 没有可用的缓冲区空间

> ID：12703195
> 
> 赞同：1
> 
> 时间：2012-10-03T06:45:11.243
> 
> 标签：java, mysql, tomcat, alfresco

我正在使用 Alfresco 4.0d + MySQL + Win 2008 R2。日志中大约每周出现一次此消息：

```
java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind
    at java.net.PlainSocketImpl.socketBind(Native Method)
    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:365)
    at java.net.Socket.bind(Socket.java:577)
    at com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.bind(BaseSSLSocketImpl.java:95)
    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.bind(SSLSocketImpl.java:45)
    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.<init>(SSLSocketImpl.java:399)
    at com.sun.net.ssl.internal.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:123)
    at org.alfresco.encryption.ssl.AuthSSLProtocolSocketFactory.createSocket(AuthSSLProtocolSocketFactory.java:168)
    at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
    at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
    at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
    at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
    at org.alfresco.httpclient.AbstractHttpClient.executeMethod(AbstractHttpClient.java:110)
    at org.alfresco.httpclient.AbstractHttpClient.sendRemoteRequest(AbstractHttpClient.java:86)
    at org.alfresco.httpclient.HttpClientFactory$HttpsClient.sendRequest(HttpClientFactory.java:307)
    at org.alfresco.solr.client.SOLRAPIClient.getModelsDiff(SOLRAPIClient.java:1007)
    at org.alfresco.solr.tracker.CoreTracker.trackModels(CoreTracker.java:1630)
    at org.alfresco.solr.tracker.CoreTracker.trackRepository(CoreTracker.java:1134)
    at org.alfresco.solr.tracker.CoreTracker.updateIndex(CoreTracker.java:491)
    at org.alfresco.solr.tracker.CoreTrackerJob.execute(CoreTrackerJob.java:45)
    at org.quartz.core.JobRunShell.run(JobRunShell.java:216)
    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:563) 
```

之后，就无法进行 Alfresco Share 登录。尝试了修复包，建议 [https://issues.alfresco.com/jira/browse/ALF-13666](https://issues.alfresco.com/jira/browse/ALF-13666) http://stackoverflow.com/questions/10088363/java-net-socketexception-no-buffer-space-available-maximum -connections-reached 没有帮助。请就如何解决问题提出建议。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T16:39:53.863

它是 Windows 2008 R2 中的一个错误。

我在这篇文章中回答了这个问题：[java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind](https://stackoverflow.com/questions/10088363/java-net-socketexception-no-buffer-space-available-maximum-connections-reached)

# mysql - 为什么我无法在 Windows 上使用 cmake 构建 mysql？

> ID：12703200
> 
> 赞同：0
> 
> 时间：2012-10-03T06:45:47.093
> 
> 标签：mysql, visual-studio-2010, build, cmake, build-process

mysql 是一段不错的代码，值得学习:)

现在我即将使用 vs 2010 在 Windows 7 x64 系统上构建 mysql。

事实上，我在windows上使用cmake和visual studio ide都没有构建mysql，错误信息如下：

```
90>PostBuildEvent:
90>  CPack: Create package using ZIP
90>  CPack: Install projects
90>  CPack: - Install project: MySQL
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/storage/archive/cmake_install.cmake:3
8 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/storage/archive/RelWithDebInfo/ha_archive.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:57 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/storage/blackhole/cmake_install.cmake
:38 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/storage/blackhole/RelWithDebInfo/ha_blackhole.dll
".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:58 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/storage/example/cmake_install.cmake:3
8 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/storage/example/RelWithDebInfo/ha_example.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:60 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/storage/federated/cmake_install.cmake
:38 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/storage/federated/RelWithDebInfo/ha_federated.dll
".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:61 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/audit_null/cmake_install.cmake
:38 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/audit_null/RelWithDebInfo/adt_null.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:67 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/auth/cmake_install.cmake:38 (F
ILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/auth/RelWithDebInfo/auth.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:68 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/auth/cmake_install.cmake:66 (F
ILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/auth/RelWithDebInfo/auth_test_plugin.dll".

90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:68 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/auth/cmake_install.cmake:94 (F
ILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/auth/RelWithDebInfo/qa_auth_interface.dll"
.
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:68 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/auth/cmake_install.cmake:122 (
FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/auth/RelWithDebInfo/qa_auth_server.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:68 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/auth/cmake_install.cmake:150 (
FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/auth/RelWithDebInfo/qa_auth_client.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:68 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/daemon_example/cmake_install.c
make:38 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/daemon_example/RelWithDebInfo/libdaemon_ex
ample.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:69 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/fulltext/cmake_install.cmake:3
8 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/fulltext/RelWithDebInfo/mypluglib.dll".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:70 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/semisync/cmake_install.cmake:3
8 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/semisync/RelWithDebInfo/semisync_master.dl
l".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:71 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/plugin/semisync/cmake_install.cmake:6
6 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/plugin/semisync/RelWithDebInfo/semisync_slave.dll
".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:71 (INCLUDE)
90>
90>
90>  CMake Error at D:/tmp/mysql-5.5.28/bu/sql/cmake_install.cmake:38 (FILE):
90>    file INSTALL cannot find
90>    "D:/tmp/mysql-5.5.28/bu/sql/RelWithDebInfo/mysqld.exe".
90>  Call Stack (most recent call first):
90>    D:/tmp/mysql-5.5.28/bu/cmake_install.cmake:84 (INCLUDE)
90>
90>
90>EXEC : CPack error : Error when generating package: MySQL
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: 命令“setlocal
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: cd D:\tmp\mysql-5.5.28\bu
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: if %errorlevel% neq 0 goto :cmEnd
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: D:
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: if %errorlevel% neq 0 goto :cmEnd
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: C:\tools\cmake28\bin\cpack.exe -C RelWithDebInfo --confi
g ./CPackConfig.cmake
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: if %errorlevel% neq 0 goto :cmEnd
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: :cmEnd
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: endlocal & call :cmErrorLevel %errorlevel% & goto :cmDon
e
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: :cmErrorLevel
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: exit /b %1
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: :cmDone
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets
(113,5): error MSB3073: if %errorlevel% neq 0 goto :VCEnd
90>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets 
```

# solr - Solr 中有优化调度程序吗？

> ID：12703202
> 
> 赞同：1
> 
> 时间：2012-10-03T06:45:56.053
> 
> 标签：solr

  我想每天在特定时间（例如午夜）优化 Solr 服务器。有没有办法在 Solr 中安排优化作业？.. Solr 中是否有类似 Quartz 的调度 API？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T11:35:28.587

Solr 中没有内置任何东西。但是您可以通过发出以下 Curl 语句对索引运行优化：

```
 curl 'http://localhost:8983/solr/update?optimize=true&maxSegments=10&waitFlush=false' 
```

请务必根据您的环境的需要更改 URL 和参数。您可以在 Solr Wiki - [UpdateXMLMessage - 提交和优化](http://wiki.apache.org/solr/UpdateXmlMessages#A.22commit.22_and_.22optimize.22)页面上查看有关选项的更多详细信息。

然后你可以安排这个curl命令以各种方式被调用；例如 cron 作业或通过 Quartz。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T23:16:09.493

您可以很容易地在我的[DIH 调度程序](http://wiki.apache.org/solr/DataImportHandler#Scheduling)中修改 URL ，它[应该包含在 Solr 4.1](https://issues.apache.org/jira/browse/SOLR-2305)中。

它基本上允许 Solr Web 应用程序生成一个单独的线程（当应用程序在服务器上启动时），以指定的时间间隔定期触发 GET 请求。

[您可以在此处](http://code.google.com/p/solr-data-import-scheduler/)找到 Google 代码的源代码。

# ruby-on-rails - 数量（月）的 Rails 路线约束。前导零

> ID：12703207
> 
> 赞同：1
> 
> 时间：2012-10-03T06:46:10.047
> 
> 标签：ruby-on-rails, regex, routes, constraints

我不太擅长为*Rails 路线*编写正则表达式。

我希望从 1 到 12 的数字有效（因为它基本上是月数），但是，我也希望从**01**到**09**的数字也有效，因此单个数字的前导零是有效的。

有人可以帮我解决这个问题吗？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T06:53:29.610

[这是](http://www.regular-expressions.info/tutorial.html)一个很好的起点。

你正在寻找这样的东西：

```
^0?[1-9]|1[0-2]$ 
```

`^`and匹配开头和结尾，`$`这样你就不会匹配像`a09b`. `|`就像一个 OR 语句并且具有最低优先级，所以在它的左边，表示`0?[1-9]`前面有一个*可选字符的任何**一个*字符，而在它的右边，表示前面有一个*必需的 1 的任何**一个*字符。`1-9` *`0``1[12]`*`12`**

 **** * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T06:55:01.940

试试这个正则表达式：`/^(0?[1-9]|1[012])$/`***

# javascript - Javascript：语句和表达式之间的区别？

> ID：12703214
> 
> 赞同：85
> 
> 时间：2012-10-03T06:46:48.607
> 
> 标签：javascript, expression, terminology, semantics

之前我问过[这个](https://stackoverflow.com/questions/12664230/is-boolean-expression-statement-the-same-as-ifboolean-expression-stat/)问题，又想了想这个话题，我开始怀疑“陈述”和“表达”这两个术语的含义之间看似模糊的界限在哪里。所有语句都是表达式吗？REPL 控制台中的返回值来自哪里？它们似乎并不总是具有任何直观意义。当然，如果你输入`1+1`，你会得到`2`，但其他时候逻辑是什么就不那么明显了。

鉴于输入到 REPL 中的任何内容都会产生*一些*值，这是否意味着它可以在 JS 源代码中用作表达式和独立语句？

可以在以下代码段中使用的代码字符串`_X_`也可以用于`_Y_`反之亦然？`if(_X_) _Y_`

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-10-03T06:55:07.610

> 所有语句都是表达式吗？

“只要 JavaScript 需要一个语句，你也可以写一个表达式。这样的语句称为表达式语句。反过来不成立：你不能在 JavaScript 需要表达式的地方编写语句。例如，if 语句不能成为函数的参数。”</p>

这来自 Axel Rauschmayer 最近关于该主题的一篇文章： [JavaScript 中的表达式与语句](http://www.2ality.com/2012/09/expressions-vs-statements.html)

希望能帮助到你。

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2016-04-06T15:44:14.773

根据[MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#Expressions)：

> 表达式是解析为值的任何有效代码单元。

因此，任何可以用作右值的东西都是表达式。

标准*不是*是否存在副作用。表达式肯定会产生副作用。Eg`a=2`是一个表达式，因为它具有值 (2)，并且还为变量赋值。这就是为什么您可以执行以下操作：

```
let a;
let b = 1 + (a = 2); // a is now 2 and b is 3 
```

根据上下文，同一（文本）代码块可能同时被视为表达式*和语句。*例如，文本片段`function f(){}`是下面代码中第 1 行的表达式和第 2 行的语句：

```
let g = function f() {};
function f() {}; 
```

因此，不能（在一般情况下）通过脱离上下文查看文本代码来确定某事物是表达式还是语句；相反，它是语法树中节点的属性，只有在（心理或实际）解析代码后才能确定。

此外，也许更重要的是，函数内部的函数语句（也称为函数声明）`f`构成了在调用函数时创建的执行上下文的一部分`f`。但是，函数表达式**不**构成该执行上下文的一部分。

一个经常被引用的效果是函数声明被“提升”而函数表达式没有。

考虑到函数语句在执行上下文中占用空间而函数表达式不占用空间，在深度递归中也可以通过实验观察到更微妙的效果。例如，下面的代码使用函数的无限递归`f`。第一种情况下的函数`f`在其中包含一个函数表达式，在第二种情况下，它包含等效的函数声明：

```
// Function Expression
{
    let i = 0;
    try {

        function f () {
            i++;
            (function g() {})(); // this is an expression
            f();
        }

        f();

    } catch (err) {
        console.log(`Function Expressions case: depth of ${i} reached. Error: ${err.name}`);
    }
}
// Function Declaration
{
    let i = 0;
    try {
        function f () {
            i++;
            function g() {}; // this is a statement
            g();
            f();
        }

        f();

    } catch (err) {
        console.log(`Functions Declarations case: depth of ${i} reached. Error: ${err.name}`);
    }
} 
```

在我的机器上，我始终得到以下信息（在 node.js 中）：

```
Function Expressions case: depth of 17687 reached. Error: RangeError
Functions Declarations case: depth of 15476 reached. Error: RangeError 
```

…这与函数声明增加了保存执行上下文所需的空间量并因此更快地消耗堆栈空间并因此略微降低​​最大递归深度的事实是一致的。

* * *

## 回答 #3

> 赞同：31
> 
> 时间：2016-07-13T10:14:58.793

用最简单的术语来说，**表达式**被求值以*产生一个值*。另一方面，执行**语句**以*使某些事情发生*。

* * *

## 回答 #4

> 赞同：22
> 
> 时间：2013-11-06T10:50:27.780

表达式产生或评估一些值。

表达式示例： `new Date()`生成没有任何副作用的新 Date 对象。 `[1,2,3]`产生一个没有任何副作用的新数组。 `5+6`产生一个新值 11.它只是产生新值而没有任何副作用。

语句产生一些行为或做某事，它也有一些副作用。根据副作用，可以对语句进行分类。

`x=5;`是一个语句，这里的副作用是 x 的赋值或更改。

`setTimeout()`- 计时器的开始是副作用。

语句一般用分号隔开。

表达式语句是具有某些副作用的表达式或简称为“具有副作用的表达式”。

表达式语句示例：

`x+=6;`是复杂表达式（主要表达式组）正在做赋值，这是一个副作用，所谓的表达式语句。

```
delete a[2]; 
```

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2017-06-14T06:56:20.643

**表达式**：解析为值的代码单元，例如，**文字**和**运算符**。表达式示例：

```
> 3
> 1 + 2
> "expression"
> fn()
> []
> {} 
```

**语句**：表示一条或多条指令的代码单元，通常以语言保留关键字开头，*显式*或*隐式地*以语句终止符结束。语句示例：

```
> 3;
> let x = 3;
> if () {}
> for () {}
> while () {} 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2016-11-22T18:11:49.913

JavaScript 中的所有程序都是由语句组成的，它们以分号结尾，除了用于对零个或多个语句进行分组的块语句。**语句**只是执行一些操作，但不产生任何值或输出，而**表达式**返回一些值。当解释器看到一个表达式时，它会检索它的值并用新值替换表达式。语句用于操作这些表达式。您可以在此处检查它是表达式还是语句：[JavaScript Parser](http://esprima.org/demo/parse.html)

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2020-10-06T01:36:58.367

转到浏览器控制台（`Ctrl + Shift + I`或`Command + Shift + I`）：

输入对您来说不明确的代码。

如果浏览器`undefined`在每行执行后返回，它就是一个语句。

`undefined`如果浏览器在每行执行之后返回任何值，则它是一个表达式。

[![显示表达式和语句之间差异的 Chrome 浏览器控制台图像](../Images/8eb509a7a240aad6cecb4ccf952d9d44.png)](https://i.stack.imgur.com/q4jdN.png)

浏览器控制台的行为就像它`console.log(statement)`用于输入的每一行代码一样。请参阅[此](https://stackoverflow.com/questions/24342748/why-does-console-log-say-undefined-and-then-the-correct-value/#answer-24342788)以获取更多信息。

此程序仅用于验证。

但有必要了解：

1.  *表达式`return`值，语句没有。*

2.  *所有的表达式都是陈述，但不是其他的。您不能使用语句代替表达式。*

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2017-12-26T21:15:35.437

我强烈建议阅读 Axel Rauschmayer 博士的综合博文
**[Expressions vs statements in JavaScript](http://2ality.com/2012/09/expressions-vs-statements.html)**
，如上面@ZER0 接受的答案中所述。

但我最喜欢的记忆捷径是：

> 表达式：
> `e`可以设置`E`为`Expression`
> .. 或`Expressed`通过打印它。
> 陈述：
> ..还有什么。

* * *

以下是从
[Anders Kaseorg 的 Quora 回答](https://www.quora.com/Whats-the-difference-between-a-statement-and-an-expression-in-Python-Why-is-print-%E2%80%98hi%E2%80%99-a-statement-while-other-functions-are-expressions/answer/Anders-Kaseorg?srid=LS3Y)中修改的。

语句是执行某些操作的完整代码行。

**`E`非常`E`xpression 可以用作语句**
*（其作用是评估表达式，并*忽略*结果值）*。

但是xpression`E`是代码中任何计算为 value 的部分。 `e``e`

> 表达式可以使用运算符“水平”组合成更大的表达式。
> *`E`有一个水平平坦的顶部*

**大多数语句不能用作表达式。**

> 语句只能通过一个接一个地编写或使用块结构来“垂直”组合。
> *`S`相比之下，垂直运行。*

* * *

*[来自 Ryan Lam 的 Quora Post：](https://www.quora.com/Whats-the-difference-between-a-statement-and-an-expression-in-Python-Why-is-print-%E2%80%98hi%E2%80%99-a-statement-while-other-functions-are-expressions/answer/Ryan-Lam-1?srid=LS3Y)*

> 这是一个一般的经验法则：如果你可以打印它，或者将它分配给一个变量，它就是一个表达式。如果你不能，这是一个声明。

以下是一些表达式示例：

```
2 + 2
3 * 7
1 + 2 + 3 * (8 ** 9) - sqrt(4.0)
min(2, 22)
max(3, 94)
round(81.5)
"foo"
"bar"
"foo" + "bar"
None
True
False
2
3
4.0 
```

以上所有内容都可以打印或分配给变量。

以下是一些陈述示例：

```
if CONDITION:
elif CONDITION:
else:
for VARIABLE in SEQUENCE:
while CONDITION:
try:
except EXCEPTION as e:
class MYCLASS:
def MYFUNCTION():
return SOMETHING
raise SOMETHING
with SOMETHING: 
```

上述构造都不能分配给变量。它们是服务于目的的句法元素，但它们本身没有任何内在的“价值”。换句话说，这些结构不会“评估”任何东西。例如，尝试执行以下任何操作都是荒谬的，而且根本行不通：

```
x = if CONDITION:
y = while CONDITION:
z = return 42
foo = for i in range(10): 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-08-18T04:00:21.730

我们有以下两种类型的表达式：

**1\. 布尔表达式**用于执行**语句**块。 [![在此处输入图像描述](../Images/e815a8deae31f2749b6804456ae193c0.png)](https://i.stack.imgur.com/COZRw.png)

**2.算术表达式**用于变量赋值，它也充当**语句**。

例如：`number = number + 1;`

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-02-08T13:12:03.917

产生值的代码片段称为表达式。每个字面书写的值（例如 22 或“精神分析”）都是一个表达式。括号之间的表达式也是一个表达式，就像应用于两个表达式的二元运算符或应用于一个表达式的一元运算符一样。

一个表达式对应人类语言中的一个句子片段，一个 JavaScript 语句对应一个完整的句子。程序是语句的列表。

最简单的语句是后面有分号的表达式。这是一个程序：

1个；！错误的; 不过，这是一个无用的程序。表达式可以满足于只产生一个值，然后可以由封闭代码使用。一个声明是独立存在的，因此只有当它影响到世界时，它才算是某种东西。

声明可能有副作用。

[https://eloquentjavascript.net/02_program_structure.html](https://eloquentjavascript.net/02_program_structure.html)

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2022-02-01T21:21:10.590

## 简而言之，表达即价值，陈述即行为。

让我向您展示一些幼稚的例子。

以下代码定义了一个`value`. 它是一个由关键字引导的`statement`调用。这是一个.`let statement``let``1``expression`

```
// statement
// |---------|
   let n = 1 ;
//        |-|
//        expression 
```

这是`for statement`由`for`关键字引导的。它带有一些嵌套的表达式和语句。

```
//      expression(1)
//      |-----------|
   for (num in numArr) {                 //--+
                                         //  |
      sum += (num * 3); // statement(2)  //  |
//            |-----|                    //  |statement(1)
//            expression(2)              //  |
                                         //  |
   }                                     //--+ 
```

所以 a`statement`是一个指令单元，告诉计算机**要做什么**。`for statement`, `while statement`, `if statement`, 它们都是**动作**，换句话说就是**任务**，或者**行为**。

但是对于`expression`，**我们谈论的是值、贵重物品、对象或一些可以产生值的过程，如函数。**

```
1 + 2
(2 + 3) * 5 === 25
new Foo() 
```

所以 Javascript 也有`function expression`. 因为`function`是一个`value`。在下面的代码中，

1.  整个片段是一个声明。
2.  之后的一切`=`都是一种表达。
3.  `return width * height;`是嵌套语句。
4.  `width * height`是一个表达式。

```
const rectArea = function(width, height) {
  return width * height;
}; 
```

# jsf-2 - 如何在 JSF 2.0 中制作下载文件？

> ID：12703227
> 
> 赞同：8
> 
> 时间：2012-10-03T06:47:38.710
> 
> 标签：jsf-2

我有文件定位在里面`WebContent/WEB-INF/resources/file/theFile.pdf`，我可以知道如何下载将显示常规下载弹出对话框的文件或在网页中呈现它（只要最简单的方法都可以）当用户单击链接时页面？我正在使用 JSF2.0，目前正在使用`h:outputLink`下载 pdf 文件但没有运气，控制台输出显示此错误：

```
File not found: /pages/resources/file/theFile.pdf 
```

如何告诉 JSF 删除`/pages`并从我的文件开始，`/resources`因为我的文件位于资源文件夹中。

这是下载代码：

```
<h:outputLink value="resources/file/theFile.pdf">
  <h:graphicImage library="images" name="pdf.jpg" style="border:none"/>
</h:outputLink> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-03T12:40:07.620

> *我有文件定位在里面`WebContent/WEB-INF/resources/file/theFile.pdf`*

首先，`/WEB-INF`（和`/META-INF`）的内容是**不**公开的（因为它们可能包含敏感信息，例如`web.xml`标签文件、模板等）。将文件放在公共网络内容*之外* `/WEB-INF`。

假设它现在位于 中`WebContent/resources/file/theFile.pdf`，那么您可以按如下方式链接到它：

```
<h:outputLink value="#{request.contextPath}/resources/file/theFile.pdf">
    <h:graphicImage library="images" name="pdf.jpg" style="border:none"/>
</h:outputLink> 
```

* * *

**与具体问题**无关**`library`，您对属性的使用`<h:graphicImage>`毫无意义。另请参阅[JSF 资源库的用途是什么以及应该如何使用它？](https://stackoverflow.com/questions/11988415/what-is-the-jsf-resource-library-for-and-how-should-it-be-used)**

 *** * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T06:59:37.420

`#{request.contextPath}`用前缀试试

```
<h:outputLink value="#{request.contextPath}/resources/file/theFile.pdf">
    <h:graphicImage library="images" name="pdf.jpg" style="border:none"/>
</h:outputLink> 
```**

# directx - WARP驱动程序、参考驱动程序和软件驱动程序有什么区别？

> ID：12703228
> 
> 赞同：0
> 
> 时间：2012-10-03T06:48:01.457
> 
> 标签：directx, directx-11

在 DirectX 11 中，有四种类型的驱动程序：

*   D3D_DRIVER_TYPE_HARDWARE
*   D3D_DRIVER_TYPE_REFERENCE
*   D3D_DRIVER_TYPE_SOFTWARE
*   D3D_DRIVER_TYPE_WARP

第一个是我们众所周知的硬件驱动程序。我们总是在我们的程序中使用这个。最后 3 个是 WARP 驱动程序、参考驱动程序和软件驱动程序。从MSDN上的文档看，我不太清楚这三种驱动有什么区别，同样都是软件实现的，但是，有什么区别呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T11:56:26.857

参考设备和软件设备 [http://www.gamedev.net/topic/631456-whats-the-difference-between-d3d-driver-type-software-and-d3d-driver-type-reference/](http://www.gamedev.net/topic/631456-whats-the-difference-between-d3d-driver-type-software-and-d3d-driver-type-reference/)

对于 WARP 设备 [http://msdn.microsoft.com/en-us/library/gg615082.aspx](http://msdn.microsoft.com/en-us/library/gg615082.aspx)

参考设备通常作为预发行版提供（因此人们可以在没有硬件支持的情况下开始使用全功能 api 编写代码），问题是参考设备（以及除硬件之外的任何东西）太慢了，几乎无法使用。

# c++ - 为 iOS 编译 C++ 程序

> ID：12703231
> 
> 赞同：1
> 
> 时间：2012-10-03T06:48:08.400
> 
> 标签：c++, objective-c, static-libraries, objective-c++

在这里，我有一个用 C++ 编写的程序，该程序使用标准输入和标准输出与外界通信。(std::cin 和 std::cout) 我想更改这个程序的源代码并为 iOS 编译它。我的问题是，是否可以将 Xcode 中的静态库编译为 Objective C++，然后在 Objective C 项目中使用该库？

# javascript - ExtJS：如何在 window.onpopstate 中调用控制器？

> ID：12703240
> 
> 赞同：0
> 
> 时间：2012-10-03T06:48:55.827
> 
> 标签：javascript, extjs, history

当用户向后和向前单击时，我想调用我的控制器。但我无法在 window.onpopstate 中访问我的控制器。我还尝试将我的控制器放入历史状态数据中，但这会导致错误。

1.  尝试在 onpopstate 中访问我的控制器：

    ```
    Ext.define('PageController',{
        extend:'Ext.app.Controller',
        onLaunch:function(){
            window.onpopstate = this.onPopState; //trigger the onPopState function when backward and forward
            window.history.pushState(null, '', '/');
        },
        onPopstate:function(s){
            this.someFunction(); //"this" is not PageController, it's PopStateEvent
        },
        someFunction:function(){...}
    }); 
    ```

2.  尝试将我的控制器置于状态：

    ```
    Ext.define('PageController',{
        extend:'Ext.app.Controller',
        onLaunch:function(){
            window.onpopstate = this.onPopState; //trigger the onPopState function when backward and forward
            window.history.pushState({'controller':this}, '', '/'); //try to put my controller into state data, which causes error

        },
        onPopstate:function(s){
            s.state.controller.someFunction();
        },
        someFunction:function(){...}
    }); 
    ```

firebug 中的错误：未捕获错误：DATA_CLONE_ERR：DOM Exception 25

那么，如何在 window.onpopstate 中访问我的控制器？或者是否可以在我的控制器中为向后和向前事件添加侦听器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:39:25.667

我终于找到了解决方案！在我的控制器中编写以下代码：

```
window.onpopstate = Ext.bind(this.onPopState, this); 
```

这可以将功能范围更改为我的控制器，然后我可以在 onpopstate 中调用我的控制器！

# python - 打开（文件） - 它是否保持打开状态？

> ID：12703241
> 
> 赞同：1
> 
> 时间：2012-10-03T06:48:56.457
> 
> 标签：python, file

我正在学习如何使用`open(file, 'r')`并且想知道：

如果我说`open(file1, 'r')`然后稍后尝试`open()`再次使用相同的文件，它会工作吗？因为我从来没有做过`close()`。它在打开后是否立即关闭，因为它没有分配给任何变量？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-03T06:54:50.960

在 cpython 中，如果您使用`open()`而不将结果分配给变量，则文件会立即再次关闭。在其他 python 实现（IronPython、jython 等）上，情况可能并非如此；如果没有明确关闭，则在被垃圾收集器删除时关闭文件对象。

不过，您可以多次打开文件，因此您可以随时将相同的文件名`open()`再次传递给以后，无论文件是否打开。

通常最好通过使用`with`语句将打开的文件用作上下文管理器。当`with`语句下缩进的代码块完成后，文件会自动为您关闭：

```
with open(filename, 'r') as f:
    # Do things with f

# f is automatically closed 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T06:55:36.023

该文件将保持打开状态，直到您关闭它或 Python 进程停止。您可以再次打开它，但完成后应将其关闭。

最好的方法是使用 open 作为 with 语句上下文管理器：

```
with open("file", 'r') as f:
    # do stuff 
```

一旦代码离开 with 块，文件就会自动关闭。实际上，它甚至比这更好，因为即使代码通过引发异常离开块，文件也会关闭。当然，您也可以使用`file.close()`.

如果你知道文件不会太大，你只想读它，一个常见的习惯是把整个文件加载到内存中，然后你就可以忘记文件句柄了。例如：

```
with open("file", 'r') as f:
    text = f.read() 
```

要查看文件是否存在，请使用`os.path.exists`：

```
import os
os.path.exists("file") 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:01:17.763

我不知道我是否理解你，但是使用 open() 你可以创建代表文件流的对象。直到您继续引用此对象，文件流才会打开。但是如果您再次为同一个文件调用 open()，您将创建另一个表示文件流的对象。流的目标将相同，但对象将不同。

i don't know how if garbage collector works in python the same as in java, but if it does, all the objects that are not pointed by any reference will be deleted from memory. not "immediately" but when garbage collector will run, and this is unpredictable. it may be now, and it may be in next few seconds.

# string - 字符串的零是多少？

> ID：12703243
> 
> 赞同：135
> 
> 时间：2012-10-03T06:48:58.353
> 
> 标签：string, go

```
func NewKey(c appengine.Context, kind, stringID string, intID int64, parent *Key) *Key 
```

文档说：

> NewKey 创建一个新密钥。种类不能为空。stringID 和 intID 之一或两者必须**为零**。如果两者都为零，则返回的密钥不完整。parent 必须是完整的密钥或 nil。

字符串的零是多少？

我试过`0`and `nil`，我得到了如下错误：

```
cannot use nil as type string in function argument 
```

* * *

## 回答 #1

> 赞同：229
> 
> 时间：2012-10-03T06:51:33.430

那是`""`：

```
var s string
fmt.Println(s=="") // prints "true" 
```

字符串不能为 nil（但`*string`可以）。

你可以简单地测试

```
if stringId=="" { 
```

要传入零字符串`stringID`，请使用

```
k := NewKey(c, "kind", "", 0, p) 
```

从[规范](http://golang.org/ref/spec#The_zero_value)：

> 当通过声明或调用 make 或 new 分配内存来存储值时，并且未提供显式初始化，则为内存提供默认初始化。这种值的每个元素的类型都设置为零值：布尔值为 false，整数为 0，浮点数为 0.0，**字符串为 ""**，指针、函数、接口、切片、通道和映射为 nil。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-27T06:31:50.043

在这种情况下为空字符串，或者您可以使用 NewIncompleteKey()

# vi - 与 IDE 相关的“vi”是什么？

> ID：12703245
> 
> 赞同：0
> 
> 时间：2012-10-03T06:49:04.033
> 
> 标签：vi

我听说过这个术语，但似乎找不到任何可靠的参考资料来描述它是什么、它的用途或任何类似的东西。对不起，如果这个问题是题外话，完全不知道该去哪里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:51:10.203

`vi`是Linux系统中使用的文本编辑器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T06:55:12.110

尝试阅读vi[的 Wiki 解释](http://en.wikipedia.org/wiki/Vi)。在您了解它之前，它是一个非常强大但对用户不太友好的编辑器，如果您真的需要，您可以在 windows 上获得它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T06:55:44.427

Vi 是文本编辑器。

学好它可以提高你的生产力，这可能会让你感到惊讶。

vi 的基本思想是它允许您在文件中移动并通过*键入*命令对文本进行操作。

# javascript - 谷歌地图中带有 Html 的 InfoWindow

> ID：12703253
> 
> 赞同：6
> 
> 时间：2012-10-03T06:49:41.030
> 
> 标签：javascript, google-maps, google-maps-api-3

我正在使用以下代码为地图中的标记创建一个信息窗口。在消息变量中，我正在发送一个带有 Html 的字符串。当我在信息框中运行我的应用程序时，我得到的字符串没有 Html 样式。例如在盒子里面我看到等等等等等等……有谁知道如何获得带有html样式的信息框？

```
 function attachSecretMessage(marker, number) {

         var infowindow  = new google.maps.InfoWindow(
      { content: message[number],
          size: new google.maps.Size(50, 50)
      });
            google.maps.event.addListener(marker, 'click', function() {
                infowindow.open(map1, marker);
      }); 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-03T09:10:31.110

将所有自定义 html 代码放在一个变量中，并将值分配给“内容”！！！

```
 var contentString = 
                '<div id="content" style="width:400px; background-color:red;">' +
                'My Text comes here' + 
                '</div>';

   var infowindow = new google.maps.InfoWindow({
            content: contentString,
            maxWidth: 400
        }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T09:11:27.203

代替 infoWindow 试试[infoBox](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/docs/examples.html)这个可以风格化

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-08T14:54:41.193

在地图中显示用户提交的地址是很常见的，所以这里要小心 XSS 攻击。这是我公司的安全审计人员发现的漏洞之一。

有人很容易提交这样的地址：

```
<img src onerror=alert('hello, I'm hacking you!') /> 
```

尽管像 React 这样的框架通常可以保护您免受这些框架的影响，但这些 3rd 方库可能不会！

# javascript - 在 d3js 树中的标签后添加图形

> ID：12703254
> 
> 赞同：1
> 
> 时间：2012-10-03T06:49:44.873
> 
> 标签：javascript, svg, tree, d3.js

在这里查看 d3js 树[http://bl.ocks.org/1061834](http://bl.ocks.org/1061834)

我已经使用 .append("text") 向节点添加了标签。这工作正常。标签是不同长度的字符串。

假设我要添加图形，比如说一个圆圈，在标签之后，是否需要计算字符串的长度，然后添加图形元素？我是否将标签和图形组合在一起，以便传递字符串长度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:09:48.660

是的，您需要计算要显式添加的图形元素的位置。正如您所说，最简单的方法可能是将标签和图形放在一个组中，然后`.getBBox()`在文本上使用以确定图形的偏移量。

# javascript - jquery jrating插件额外的url参数

> ID：12703255
> 
> 赞同：0
> 
> 时间：2012-10-03T06:49:46.280
> 
> 标签：javascript, jquery

嘿，我正在使用一个名为 jRating 的 jquery 插件，这很酷，你可以在这里查看：

[http://www.myjqueryplugins.com/jRating](http://www.myjqueryplugins.com/jRating)

我遇到的问题是......我在一页上有多个评级，并认为能够与请求一起发送额外的“rating_type”参数会非常方便。类似 mypage.php?rating_type=personality 的东西。如果我将它添加到 'php' 选项，调用时

```
$(".rating").jRating({ 
... 

  phpPath: phpPath: $(this).attr("data-remote") + "?rating_type=" + $(this).attr("data-rating-type");

...
}); 
```

我注意到 rating_type 参数没有在请求中发送。

有没有简单的方法来添加额外的 url 参数？或者这是我应该自己破解的东西？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:37:09.723

由于您的页面上有多个评级，因此需要在 .each 函数中迭代 jRating，我相信您的 HTML 中有具有特定值的“data-remote”和“data-rating-type”属性。

注意：在 jRating 默认 php 文件中，在 $_POST 中接收值，这里是在查询字符串中传递值，因此需要使用 $_GET['rating_type'];

我使用来自 jRating 的示例代码及其工作 -> [LINK](http://jsfiddle.net/542WZ/1/)

```
<div class="basic rating" id="12_1" data-remote="xxxx" data-rating-type="yyy" ></div>

$(document).ready(function(){
     $('.rating').each(function(index){
        $(this).jRating({
          step:true,
          length : 10, // nb of stars
          phpPath : "php/jRating.php?rating_type=thomasbabu",
          onSuccess : function(){
        alert('Success : your rate has been saved :)');
           }
        });
    });
}); 
```

# model-view-controller - 无法在 sencha touch 2 中自定义 TabPanel 中的标签栏视图。默认视图始终显示。

> ID：12703264
> 
> 赞同：0
> 
> 时间：2012-10-03T06:50:34.617
> 
> 标签：model-view-controller, sencha-touch-2, tabbar, tabpanel, tabview

我想更改选项卡的视图，我希望它们大且呈矩形，但它们显示为默认胶囊（具有弯曲半径的矩形）。如何自定义它们？

### 这是代码

```
var entryForm = Ext.define("TimeSheet.view.Newentry", {
extend: "Ext.TabPanel",
requires: ["Ext.XTemplate", "Ext.field.DatePicker", "Ext.field.Select", "Ext.TitleBar", "Ext.DateExtras"],
xtype:'newentryview',

config: {
    autodestroy: true,
    fullscreen: true,
    scrollable: true,
    cardSwitchAnimation: 'cube',
    tabBarPosition: 'top',
    tabBar: {
        height: '70px',
        layout: {
            pack: 'center'
        }
    },
    defaults: {
        styleHtmlContent: true
    },
    items: [{
        title: 'Add Entry',
        iconMask: true,
        iconCls: 'info',
        flex: 1,
        style: 'border: none; font: 22px Arial black',
        fullscreen: true,
    },{
        title: 'Dashboard',
        iconMask: true,
        iconCls: 'compose',
        flex: 1,
        cls: 'dashpnl',
        style: 'border: none; font: 22px Arial black',
        fullscreen: true,
    },{
        title: 'Settings',
        iconMask: true,
        iconCls: 'settings',
        fullscreen: true,
        html: 'Page 3',
    }]
} 
```

});

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T12:45:55.560

您可以在您的 css 文件中更改它：

如果您的标签面板停靠在顶部：

```
.x-tabbar.x-docked-top .x-tab {
    padding: 0.4em 2em;
    -webkit-border-radius: 0em;
    border-radius: 0em;
} 
```

如果您的标签面板停靠在底部：

```
.x-tabbar.x-docked-bottom .x-tab {
    padding: 0.4em 2em;
    -webkit-border-radius: 0em;
    border-radius: 0em;
} 
```

# c# - “远程服务器返回错误：(417) 预期失败。”

> ID：12703265
> 
> 赞同：6
> 
> 时间：2012-10-03T06:50:37.837
> 
> 标签：c#, .net, wcf, firewall

我正在编写使用我的 wcf 服务的 Windows 8 应用程序。（在 Visiual Studio 2012 上）。当我在家尝试时它运行良好，因此它可以连接到 wcf。但是当我在办公室尝试时，它无法连接到 wcf 并返回错误：

> 远程服务器返回错误：(417) 预期失败。

我认为它是由办公网络中的防火墙引起的。谷歌搜索太多，尝试了很多但问题仍然存在。

```
System.Net.ServicePointManager.Expect100Continue = false; 
```

不起作用，因为 .Net Framework 4.5 没有 ServicePointManager 类，但 msdn 说 .Net 4.5 上有 ServicePointManager .. [http://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.expect100continue.aspx](http://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.expect100continue.aspx)

```
<system.net>
    <settings>
        <servicePointManager expect100Continue="false" />
    </settings>
</system.net> 
```

无法尝试在 web.config 或 app.config 上写入，因为 win8 应用程序没有这些文件..

有些人将上述代码写入VS 2012的devenv.exe.config文件。我试过了，但没有任何改变。

[http://www.jlpaonline.com/?p=176](http://www.jlpaonline.com/?p=176)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T08:35:53.820

好吧，您在[这里](http://social.msdn.microsoft.com/Forums/en-NZ/winappswithcsharp/thread/a5262ed2-d947-431e-ac02-4262dade4494)发布了问题，[Can Bilgin](http://social.msdn.microsoft.com/profile/can%20bilgin/?ws=usercard-mini)给出了答案。我把它贴在这里给那些比你有问题的人。

> 我认为应该可以手动添加标头...我会尝试使用操作范围...来自较早的示例：

```
Task<GetADGroupMemberResponse> AccountManagement.GetADGroupMemberAsync(GetADGroupMemberRequest request)
{
    // CB: Creating the OperationContext
    using (var scope = new OperationContextScope(this.InnerChannel))
    {
        // CB: Creating and Adding the request header
        var header = MessageHeader.CreateHeader("Server", "http://schemas.microsoft.com/2008/1/ActiveDirectory/CustomActions", request.Server);
        OperationContext.Current.OutgoingMessageHeaders.Add(header);

        return base.Channel.GetADGroupMemberAsync(request);
    }
} 
```

> 由于使用 httpclient 的 http 请求，您可以执行类似的操作（再次来自前面的示例）：

```
var httpClient = new HttpClient(); 
var httpContent = new HttpRequestMessage(HttpMethod.Post, "http://app.proceso.com.mx/win8/login");

// NOTE: Your server was returning 417 Expectation failed, 
// this is set so the request client doesn't expect 100 and continue.
httpContent.Headers.ExpectContinue = false;

var values = new List<KeyValuePair<string, string>>(); 
values.Add(new KeyValuePair<string, string>("user", "******"));
values.Add(new KeyValuePair<string, string>("pass", "******"));

httpContent.Content = new FormUrlEncodedContent(values);

HttpResponseMessage response = await httpClient.SendAsync(httpContent);

// here is the hash as string 
var result = await response.Content.ReadAsStringAsync(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-11T23:11:00.043

作为参考，以下是使用 WebClient 将 JSON 请求发布到 REST Web 服务的完整示例。它将`Expect100Continue`标志设置为`false`，如果需要，包括使用默认凭据的代理身份验证，并捕获非 200 响应代码。

```
void Main()
{
    var ms = new MemoryStream();
    var ser = new DataContractJsonSerializer(typeof(Job));
    ser.WriteObject(ms, new Job { Comments = "Test", Title = "TestTitle", Id = 1 });

    var uri = new Uri("http://SomeRestService/Job");
    var servicePoint = ServicePointManager.FindServicePoint(uri);
    servicePoint.Expect100Continue = false;

    var webClient = new WebClient();
    webClient.Headers["Content-type"] = "application/json";

    IWebProxy defaultProxy = WebRequest.DefaultWebProxy;
    if (defaultProxy != null){
        defaultProxy.Credentials = CredentialCache.DefaultCredentials;
        webClient.Proxy = defaultProxy;
    }

    try {
        var result = webClient.UploadData(uri, "POST", ms.ToArray());
    } catch (WebException we) {
        var response = (HttpWebResponse)we.Response;
    }
}

[DataContract]
public class Job
{
    [DataMember (Name="comments", EmitDefaultValue=false)]
    public string Comments { get; set; }
    [DataMember (Name="title", EmitDefaultValue=false)]
    public string Title { get; set; }
    [DataMember (Name="id", EmitDefaultValue=false)]
    public int Id { get; set; }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-25T13:58:52.540

尽管将此行
() 作为设置添加到配置中可能会修复初始错误，但如果您的代理设置不允许您使用在目标服务器上打开的正确开放端口，您仍然可能会收到 (504) 网关超时。要为您发送到的服务器添加代理例外，请通过 Internet Explorer 将其添加为连接选项卡上的代理排除 -> LAN 设置 -> 高级。我希望你能连接到那时。

# javascript - 如何处理 TypeScript 中内置对象的专有/自定义属性的警告

> ID：12703266
> 
> 赞同：32
> 
> 时间：2012-10-03T06:50:38.493
> 
> 标签：javascript, jquery, typescript

我正在使用依赖于[专有财产`navigator.id`](https://developer.mozilla.org/en-US/docs/DOM/navigator.id)的角色。由于此属性不是标准的，TypeScript 编译器会生成以下警告：

```
$ tsc home.ts --out my_ts_generated_code.js
/Users/..../home.ts(27,18): The property 'id' does not exist on value of type 'Navigator' 
```

但是 .js 文件已成功生成并在 FF15 浏览器上运行，没有任何警告/错误消息。
根据文档的说明，我还包含了一个 polyfill `navigator.id`，因此`navigator.id`肯定会在每个浏览器中都可用。

有人可以建议我如何处理这个警告吗？

**索引.html**

```
<!-- some HTML omit above -->
<script src="https://login.persona.org/include.js"></script>
<script src="my_ts_generated_code.js"></script>
<button class="btn" id="signin">Sign in</button>
<button class="btn" id="signout">Sign out</button>
<!-- some HTML omit below --> 
```

**主页.ts**

```
declare var $;

class Student {
    fullname : string;
    constructor(public firstname, public middleinitial, public lastname) {
        this.fullname = firstname + " " + middleinitial + " " + lastname;
    }
}

interface Person {
    firstname: string;
    lastname: string;
}

function greeter(person : Person) {
    return "Hello, " + person.firstname + " " + person.lastname;
}

var user = new Student("Jane", "M.", "User");

$(function() {
    $('#signin').on('click', function(e) {
        e.preventDefault();
        navigator.id.request();
    });

    $('#signout').on('click', function(e) {
        e.preventDefault();
        navigator.id.logout();
    });
    //document.body.innerHTML = greeter(user);
}); 
```

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-10-03T07:34:29.423

1）您可以重新解释导航器道具。

```
(<any>navigator).id.request(); 
```

2）您可以自己声明 id prop

我的公司.lib.d.ts

```
interface Navigator {
  id: any
} 
```

应用程序.ts

```
navigator.id.request(); 
```

观看此视频[http://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript/](http://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript/) Anders 告诉 jQuery.UI 向 jQuery 添加新方法（见 46 分钟）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T06:56:13.217

在 stmt 之前添加检查`if(navigator.id != null && typeof navigator.id != 'undefined')`，其中 navigator.id 被引用

# push-notification - 如何使用 EasyAPNS 推送报亭通知

> ID：12703267
> 
> 赞同：1
> 
> 时间：2012-10-03T06:50:39.943
> 
> 标签：push-notification, apple-push-notifications, newsstand-kit

我在 EasyAPNS 的帮助下构建了一个推送通知应用程序。目前我有另一个应用程序，它是一个报亭应用程序。我的问题是在哪里可以为报亭通知添加有效负载？

在发布消息之前，我在 class_APNS.php 中添加了这样的内容：

```
$usermessage['aps']['content-available'] = 1; 
```

但我的应用程序永远无法收到推送通知。（我已经注册了报亭推送通知。）

有人可以帮忙吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:03:13.097

我解决了这个问题。

我的方法是正确的。让我更详细地解释一下。我在发布之前修改了 class_APNS.php 中的 queueMessage 函数。这是代码：（我添加了一个标志报亭以表明它是报刊亭推送还是普通推送

```
 if ( $this->newsstand )
            {
                $usermessage['aps']['content-available'] = 1;   
            }
            else {
                if(isset($this->usermessage['aps']['content-available']))
                    unset($this->usermessage['aps']['content-available']);
            }

            $fk_device = $this->db->prepare($deviceid);
            $message = $this->_jsonEncode($usermessage);
            $message = $this->db->prepare($message);
            $delivery = (!empty($when)) ? "'{$when}'":'NOW()'; 
```

# iphone - UITableView 代表

> ID：12703270
> 
> 赞同：0
> 
> 时间：2012-10-03T06:50:50.613
> 
> 标签：iphone, objective-c, ios, interface-builder

我正在尝试调用`reloadData`我的`UITableView`. 我正在制作没有界面构建器的应用程序。

此代码适用于 Interface Builder，但似乎并非没有。

当我将我的代码与我以前在界面生成器中执行的操作进行比较时，我错过了将视图控制器拖到`UITableView`. 我有代表和数据源设置和工作。我的代码中是否缺少某些内容？

**编辑：** 这是在我的 viewDidLoad 中设置的 _tableView 具有属性集并且是合成的。

```
//Data is set into an NSArray then copied into an NSMutableArray
_nsarray = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:docPath error:NULL];

_nsmArray = [[NSMutableArray alloc] init];
[_nsmArray addObjectsFromArray:_nsarray];

_tableView = [[UITableView alloc] initWithFrame:CGRectMake(0, 0, 320, 416)];
_tableView.delegate = self;
_tableView.dataSource = self;
[self.view addSubview:_tableView];

-(void)refreshTable {
    //_tableView = [[UITableView alloc] initWithFrame:CGRectZero];
    [self.tableView reloadData];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:57:44.020

**你是如何管理你的表数据的？NSArray？**

您需要提供这些详细信息，因为您发布的内容应该可以工作：设置`dataSource`and`delegate`和调用`reloadData`。当您只是“ `reloadData`”时，您需要确保对数据源进行了更改。如果没有对数据源进行任何更改*（即从数组中添加/删除对象）*，则不会发生任何事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:00:52.273

您确定正确设置了委托和数据源吗？像这样：

```
 [tableView setDelegate:self];
    [tableView setDataSource:self]; 
```

然后你必须在主线程中调用方法“reloadData”，所以你应该像这样调用你的方法“refreshTable”：

```
 [self performSelectorOnMainThread:@selector(refreshTable) withObject:nil waitUntilDone:NO]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:03:13.243

严格地说，您只需要两件事就可以在表格视图中显示数据：

1）`self.tableView`必须是指向table view，所以`reloadData`需要的时候可以调用。

2）表视图的`dataSource`属性必须分配给您的类，该类必须实现`UITableViewDataSource`协议中所需的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:09:45.677

只需确保在**.h 文件中添加了 UITableViewDelegate 和 UITableViewDataSource 协议。**

```
@interface YourClassName : UIViewController<UITableViewDelegate, UITableViewDataSource> 
```

然后将您的 tableview 委托和 dataSource 设置为 self.

前任：

```
 [yourTableView setDelegate:self];
    [yourTableView setDataSource:self]; 
```

# file - 如何在 CentOS 的文件夹中获取文件创建/复制的事件？

> ID：12703271
> 
> 赞同：0
> 
> 时间：2012-10-03T06:50:50.850
> 
> 标签：file, shell, event-handling, centos

我需要在 CentOS 中编写一个脚本，它将在后台运行。该脚本需要检查是否在 /root/MyFile 文件夹中创建了文件名“status.txt”。如果创建了该文件，则我的脚本应捕获一个事件。

我应该在我的脚本中编写什么代码片段，以便获取已在文件夹中创建 txt 文件的事件？

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:32:18.553

最简单的解决方案：

```
while true; do
do
  [ -e "/root/MyFile/status.txt" ] && { echo file is created; break; }
  sleep 1
done 
```

而不是`echo file is created`您可以编写要执行的命令。

您可以使用**inotify**进行相同的操作：

```
inotifywait --format '%f' -m /root/MyFile 2> /dev/null | while read file
do
  [ "$file" = status.txt ] \
  && [ -e "/root/Myfile/$file" ] \
  && { echo file is created ; break; }
done 
```

该解决方案的优点是您将立即获得操作，因为将创建文件。在第一种情况下，您也将等待第二种情况。第二个优点是您需要每秒轮询文件系统。

但这种解决方案也有缺点：

*   它仅适用于 Linux；
*   你需要相对现代的内核；
*   你需要安装inotify-tools；
*   如果您在创建之前创建了许多文件`status.txt`，那么您将进行许多额外的比较操作。

恢复：

我认为，您需要第一个解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:26:35.637

如果您的内核比 2.6.13 更新，您可以使用[inotify](http://en.wikipedia.org/wiki/Inotify)机制来实现您的目标。[使用提供的示例](https://github.com/rvoicilas/inotify-tools/wiki#wiki-info)安装包[inotify-tools](https://github.com/rvoicilas/inotify-tools/)并编写将监视您的文件的脚本

# java - 用于查找财政年度天数余额的 Java 代码

> ID：12703272
> 
> 赞同：-6
> 
> 时间：2012-10-03T06:50:52.060
> 
> 标签：java

如何在java中找到当前财政年度的余额天数。例如，截至 3 月 31 日的余额天数。

```
if(Integer.parseInt(currentmonth)<4){
    currentyears=Integer.parseInt(currentyear)-1;
    finMonth=Integer.parseInt(currentmonth)+9;
    remainMonth=12-finMonth;        
}else{  
    currentyears=Integer.parseInt(currentyear);
    finMonth=Integer.parseInt(currentmonth)-3;
    remainMonth=12-finMonth;
} 
```

这是我查找财政年度的代码。我的问题是找出财政年度的剩余天数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:17:11.743

这里有一些让你开始的东西：

```
import java.util.Calendar;

public class DaysLeft {
    public static void main(String args[]) {
        Calendar cal = Calendar.getInstance();

        int max_days = cal.getMaximum(Calendar.DAY_OF_YEAR);
        int today = cal.get(Calendar.DAY_OF_YEAR);
        int days_left = max_days - today;

        System.out.format("We have a maximum of %d days this year.\n", max_days);
        System.out.format("Today is day number %d.\n", today);
        System.out.format("That means we have %d days left this year.\n",days_left);
    }       
} 
```

它计算一年中有多少天，今天是什么日子以及一年中还剩多少天。当然，您必须对其进行调整以适应您的需求。祝你好运！

# android - getView 充气机

> ID：12703273
> 
> 赞同：0
> 
> 时间：2012-10-03T06:51:02.407
> 
> 标签：android, android-layout, layout-inflater, android-inflate

这可能是一个基本问题，但我只想知道：在 getView() 方法中初始化 Inflater 时，这些行之间有什么不同：

```
convertView = inflater.inflate(resource, root);
convertView = View.inflate(context, resource, root); 
```

后续问题：初始化 Inflater 时最好使用哪个？感谢您的任何回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:00:24.570

该`View#inflate()`方法将负责为您检索`LayoutInflater`，`Context`而前一种方法将使用您获取的 inflater 方法。

如果只需要对视图进行一次膨胀，则可以使用该`View#inflate()`方法，因为它更方便。

但是，如果您要在适配器中膨胀视图，因为您必须反复膨胀视图，最好只获取`LayoutInflater`一次对象（在适配器的构造函数中，传递`Activity`上下文或`LayoutInflater`对象）并重用相同的膨胀器对象中的`getView()`.

# java - 检查Java中持有对象的引用的类名

> ID：12703285
> 
> 赞同：6
> 
> 时间：2012-10-03T06:51:57.647
> 
> 标签：java

```
class A {
}

class B extends A {
}

class TestType {
   public static void main(String args[]) {
      A a = new B();
      // I wish to use reference 'a' to check the Reference-Type which is 'A'.
   }
} 
```

有可能吗？如果否，请说明原因。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:15:31.593

[Chris Jester-Young 的评论](https://stackoverflow.com/questions/12703285/check-the-class-name-of-the-reference-holding-an-object-in-java#comment17150810_12703285)非常好。它说：

> 你不能。局部变量的静态类型不会保留在字节码中，也不会在运行时保留。（如果它是一个字段，您可以在该字段的包含类上使用反射来获取该字段的类型。）

另请参阅[Java 泛型中擦除的概念是什么？](https://stackoverflow.com/questions/313584/what-is-the-concept-of-erasure-in-generics-in-java)

和[http://gafter.blogspot.com/search?q=super+type+token](http://gafter.blogspot.com/search?q=super+type+token)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T08:01:42.813

> 检查Java中持有对象的引用的类名

你不能。

1.  没有像 '持有对象*的引用这样的东西。*这样的引用可能为零，或者可能有十六亿个。

2.  你不能从被持有的物体内部得到它/它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:06:14.283

如果您调用`a.getClass()`，那么它将始终返回您创建此对象的类的实例。在您的情况下，`B`它会返回您`B.class`。

现在，如果您想调用方法`a`并获取类，`A.class`那么您将无法以正常方式进行操作。

一种出路是在`A`

```
public static Class<A> getType() {
        return A.class;
    } 
```

然后你可以调用`a.getType()`which is `A.class`。我们在这里使用静态方法，因为它们没有被覆盖。

# iphone - 带有图像的 UITableView 滚动非常缓慢

> ID：12703297
> 
> 赞同：4
> 
> 时间：2012-10-03T06:52:47.783
> 
> 标签：iphone, ios, uitableview, scroll

> **可能重复：**
> [带图像的表格视图、缓慢的加载和滚动](https://stackoverflow.com/questions/4071497/table-view-with-images-slow-load-and-scroll)

我有一个 从服务器`UITableView`下载图像的。`UITableViewCells`我观察到 tableView 滚动非常缓慢。

我认为这可能是下载问题，但我意识到下载完成后表格仍然滚动缓慢并且图像图标大小较小。

我搜索了谷歌，但找不到任何帮助。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    btnBack.hidden = FALSE;

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil)
    {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
        cell.selectionStyle = UITableViewCellSelectionStyleNone;

        cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
        cell.backgroundColor = [UIColor clearColor];

        cell.textLabel.font = [UIFont fontWithName:@"Noteworthy" size:17.0];
        cell.textLabel.font = [UIFont boldSystemFontOfSize:17.0];
        cell.textLabel.textColor = [UIColor blackColor];
        cell.textLabel.highlightedTextColor = [UIColor blackColor];
    }

        cell.textLabel.text = [NSString stringWithFormat:@"     %@", [test.arrTitle objectAtIndex:indexPath.row]];

        NSString *Path;
        Path = [NSString stringWithFormat:@"http://%@",[test.arrImages objectAtIndex:indexPath.row]];
        NSLog(@"image-->%@",[test.arrImages objectAtIndex:indexPath.row]);
        NSString *strImage = Path;
        NSURL *url4Image = [NSURL URLWithString:strImage];    
        NSData *data = [NSData dataWithContentsOfURL:url4Image];
        image =[[UIImage alloc] initWithData:data];
        cell.imageView.image =image;
        [image release];

        return cell;
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-04T07:01:41.163

虽然我在下面的原始答案试图解决与异步图像检索相关的几个关键问题，但它仍然从根本上受到限制。正确的实现还可以确保如果您快速滚动，可见单元格的优先级高于已滚动到屏幕外的单元格。它还将支持取消先前的请求（并在适当的时候为您取消它们）。

虽然我们可以将这些类型的功能添加到下面的代码中，但最好采用一个既定的、经过验证的解决方案，该解决方案利用下面讨论的`NSOperationQueue`技术`NSCache`，但也解决了上述问题。`UIImageView`最简单的解决方案是采用支持异步图像检索的已建立类别之一。AFNetworking和[SDWebImage](https://github.com/AFNetworking/AFNetworking)库都有可以[优雅](https://github.com/rs/SDWebImage)`UIImageView`地处理所有这些问题的类别。

* * *

您可以使用GCD[`NSOperationQueue`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSOperationQueue_class/Reference/Reference.html)或[GCD](http://developer.apple.com/library/ios/#documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html)进行延迟加载（有关不同异步操作技术的讨论，请参阅[并发编程指南](http://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008091)）。前者的优势在于您可以精确指定允许多少并发操作，这对于从 Web 加载图像非常重要，因为许多 Web 服务器限制了它们将从给定客户端接受的并发请求的数量。

基本思想是：

1.  在单独的后台队列中提交图像数据的请求；
2.  下载完图像后，将 UI 更新分派回主队列，因为您不应该在后台进行 UI 更新；
3.  在主队列上运行已调度的最终 UI 更新代码时，请确保`UITableViewCell`它仍然可见，并且它没有被出列和重用，因为有问题的单元格滚动出屏幕。如果您不这样做，则可能会暂时显示错误的图像。

您可能希望将您的代码替换为以下代码：

首先，为您定义一个[`NSOperationQueue`](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSOperationQueue_class/Reference/Reference.html)用于下载图像以及[`NSCache`](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSCache_Class/Reference/Reference.html)存储这些图像的属性：

```
@property (nonatomic, strong) NSOperationQueue *imageDownloadingQueue;
@property (nonatomic, strong) NSCache *imageCache; 
```

其次，初始化这个队列并缓存在`viewDidLoad`：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    self.imageDownloadingQueue = [[NSOperationQueue alloc] init];
    self.imageDownloadingQueue.maxConcurrentOperationCount = 4; // many servers limit how many concurrent requests they'll accept from a device, so make sure to set this accordingly

    self.imageCache = [[NSCache alloc] init];

    // the rest of your viewDidLoad
} 
```

第三，您`cellForRowAtIndexPath`可能看起来像：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    btnBack.hidden = FALSE;

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
        cell.selectionStyle = UITableViewCellSelectionStyleNone;

        cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
        cell.backgroundColor = [UIColor clearColor];

        cell.textLabel.font = [UIFont fontWithName:@"Noteworthy" size:17.0];
        cell.textLabel.font = [UIFont boldSystemFontOfSize:17.0];
        cell.textLabel.textColor = [UIColor blackColor];
        cell.textLabel.highlightedTextColor = [UIColor blackColor];
    }

    cell.textLabel.text = [NSString stringWithFormat:@"     %@", [test.arrTitle objectAtIndex:indexPath.row]];

    // code change starts here ... initialize image and then do image loading in background

    NSString *imageUrlString = [NSString stringWithFormat:@"http://%@", [test.arrImages objectAtIndex:indexPath.row]];
    UIImage *cachedImage = [self.imageCache objectForKey:imageUrlString];
    if (cachedImage) {
        cell.imageView.image = cachedImage;
    } else {
        // you'll want to initialize the image with some blank image as a placeholder

        cell.imageView.image = [UIImage imageNamed:@"blankthumbnail.png"];

        // now download in the image in the background

        [self.imageDownloadingQueue addOperationWithBlock:^{

            NSURL *imageUrl   = [NSURL URLWithString:imageUrlString];    
            NSData *imageData = [NSData dataWithContentsOfURL:imageUrl];
            UIImage *image    = nil;
            if (imageData) 
                image = [UIImage imageWithData:imageData];

            if (image) {
                // add the image to your cache

                [self.imageCache setObject:image forKey:imageUrlString];

                // finally, update the user interface in the main queue

                [[NSOperationQueue mainQueue] addOperationWithBlock:^{
                    // Make sure the cell is still visible

                    // Note, by using the same `indexPath`, this makes a fundamental
                    // assumption that you did not insert any rows in the intervening
                    // time. If this is not a valid assumption, make sure you go back
                    // to your model to identify the correct `indexPath`/`updateCell`

                    UITableViewCell *updateCell = [tableView cellForRowAtIndexPath:indexPath];
                    if (updateCell)
                        updateCell.imageView.image = image;
                }];
            }
        }];
    }

    return cell;
} 
```

~~第四，也是最后，虽然人们可能倾向于在内存不足的情况下编写代码来清除缓存，但事实证明它是自动执行的，因此这里不需要额外的处理。如果你在模拟器中手动模拟低内存的情况，你不会看到它因为`NSCache`没有响应而驱逐它的对象`UIApplicationDidReceiveMemoryWarningNotification`，但是在实际运行过程中，当内存低时，缓存会被清除。~~实际上，`NSCache`本身不再优雅地响应低内存情况，因此您确实应该为此通知添加观察者并在低内存情况下清空缓存。

我可能会建议一些其他优化（例如，也许还将图像缓存到持久存储中以简化未来的操作；我实际上将所有这些逻辑都放在我自己的`AsyncImage`类中），但首先看看这是否解决了基本的性能问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:05:15.453

把它写在你的`UITableView` `cellForRowAtIndex:`方法中

```
asyncImageView = [[AsyncImageView alloc]initWithFrame:CGRectMake(30,32,100, 100)];         
[asyncImageView loadImageFromURL:[NSURL URLWithString:your url]];
[cell addSubview:asyncImageView];
[asyncImageView release]; 
```

需要为`AsyncImageView class`该类导入和创建对象

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T06:56:54.430

滚动非常慢，因为您在主线程中加载图像，即同步。您可以在后台线程中异步执行相同的操作，看看[SDWebImage](https://github.com/rs/SDWebImage)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:02:06.423

建议您将图像存储在一个数组中并将它们填充到您的`viewDidLoad`, 然后在您`cellForRowAtIndexPath:`刚刚设置的

```
cell.imageView.image = [yourImageArray objectAtIndex:indexPath.row]; 
```

就缓慢而言，这是因为您在`cellForRowAtIndexPath`方法中通过下载 URLDATA 阻塞了主线程，因此在滚动时，除非未获取图像，否则您运行应用程序的主线程将被阻塞。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-03T07:09:35.723

如前所述：不要在 cellForRowAtIndexPath 中做任何繁重的工作 您可以使用 GCD 轻松解决问题。 [使用块从后台线程加载图像](https://stackoverflow.com/questions/7502073/loading-images-from-a-background-thread-using-blocks/7502281#7502281)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-03T07:12:41.643

您应该考虑使用 an[`NSOperationQueue`](http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSOperationQueue_class/Reference/Reference.html)来处理图像的延迟加载和自定义 tableviewcell。[您可以在此处](http://www.cimgf.com/2008/02/16/cocoa-tutorial-nsoperation-and-nsoperationqueue/)获取示例示例[`NSOperationQueue`](http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSOperationQueue_class/Reference/Reference.html)

Google for tweetie custom tableviewcell 这应该会让你朝着正确的方向前进。

Apple 有一个用于在 tableViews 中下载图像的示例项目：[LazyTableImages](http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html#//apple_ref/doc/uid/DTS40009394-Intro-DontLinkElementID_2)

# batch-file - 用于列出按大小排序的文件夹中指定大小以上的文件的批处理脚本

> ID：12703298
> 
> 赞同：0
> 
> 时间：2012-10-03T06:52:48.047
> 
> 标签：batch-file

我有这段代码可以列出文件夹内特定大小以上的文件吗？但我希望列表按“大小”排序

谁能帮我解决这个问题？

```
@echo off & setLocal EnableDelayedExpansion
pushd D:\temp_files

for /f "tokens=* delims= " %%a in ('dir/b/s') do (

if %%~Za gtr 1000000 echo %%~nxa%tab% %%~Za%tab% %%~ta >>test_list.txt

) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T11:40:35.690

如果您从命令行键入`help dir`或，您将看到 DIR 命令具有允许您按大小降序对输出进行排序的选项。此外，您可能希望从输出中删除目录。`dir /?``/O-S``/A-D`

```
for /f "tokens=* delims= " %%a in ('dir /b /s /o-s /a-d') do ( 
```

# silverlight - 如何从某个游戏中显示我在 WP7 中发布的所有游戏？

> ID：12703301
> 
> 赞同：0
> 
> 时间：2012-10-03T06:52:55.220
> 
> 标签：silverlight, windows-phone-7

我需要在我发布的每个游戏中以某种方式添加一个链接，以便它指向我发布的所有游戏的列表。

这是可能的，我可以注意到在某些标题为“更多游戏”的游戏中。

如果有人能告诉我，我需要通过 C# 使用一些库来做到这一点。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T09:22:50.207

我发现在市场中搜索发布者名称会返回该发布者的所有应用程序，并将它们显示在市场中的列表中。

```
MarketplaceSearchTask marketplaceSearchTask = new MarketplaceSearchTask();

marketplaceSearchTask.SearchTerms = "Publisher's name";

marketplaceSearchTask.Show(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:29:10.637

有些应用程序可以访问市场，因此可以从应用程序访问它。

但是，如果您只需要列出您使用链接制作的其他游戏，也许还有一张图片，那么为什么不直接从某处的网络服务器下载一个静态文件呢？只需一个您自己更新的简单网页就可以了，如果您想做一些更花哨的事情，您可以下载一个 JSON 或 XML 文件用作游戏列表。

无需更新游戏本身即可轻松更新此文件，因此当您发布其他游戏时无需更新游戏。

我认为这样的选择比从代码访问市场要容易得多。

# xcode4 - 故事板放大/缩小键盘快捷键

> ID：12703302
> 
> 赞同：44
> 
> 时间：2012-10-03T06:53:00.437
> 
> 标签：xcode4

我可以在 Xcode 中使用什么快捷键组合来放大和缩小？是的，我知道这是一个愚蠢的问题，但谷歌搜索没有给我任何结果。即使是 Xcode 键盘快捷键也没有给我太多信息。也许我必须要求为 Xcode 4.5 提供更好的更新键盘快捷键文档

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2014-06-12T09:38:23.403

您也可以**用鼠标双击**情节提要的空白区域。第一次会缩小，第二次 - 放大。有时它比使用困难的热键更容易。

* * *

## 回答 #2

> 赞同：58
> 
> 时间：2012-11-23T00:02:14.220

试试这个

缩小 = `shift`+ `command`+ `alt`+`{`

放大 = `shift`+ `command`+ `alt`+`}`

这对我有用！

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2016-01-07T12:31:58.707

从鼠标或触控板 -> 右键单击​​将显示选项。希望这会有所帮助[![在此处输入图像描述](../Images/31162992512490bcbded84d717233ce7.png)](https://i.stack.imgur.com/k6CPy.png)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-01-15T19:25:17.393

刚刚弄清楚了-.-确保您使用的是故事板。然后你可以去编辑器 -> 画布 -> 缩放快捷键是 alt, command { 和 alt, command }

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2019-02-18T18:12:10.727

去

**`System preferences >> Keyboard >> Shortcuts`**

选择应用程序快捷方式 点击加号图标 (+)

[![自定义放大和缩小快捷键](../Images/338011eaff47e01fff2b5f64f64c72b3.png)](https://i.stack.imgur.com/mTlQl.jpg)

[![手动添加键盘快捷键](../Images/151dfc6a9eb14c0d602404bf65bb1612.png)](https://i.stack.imgur.com/rFxN9.jpg)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-02-03T11:33:07.587

在 Xcode 7 中，快捷方式已更改为以下内容：

*   **缩小：** `cmd (⌘)` +`-`
*   **放大：** `cmd (⌘)` +`+`
*   **正常 (100%) :** `cmd (⌘)` + `ctrl (^)`+`=`

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-04-12T20:26:14.020

如果您有触控板，您还可以通过捏合来放大/缩小（但是，这不是“键盘快捷键”:)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-03-07T06:08:45.823

Rohit 接受的答案有效，但菜单选项只是在 XCode 5 上显示 Command+Alt+{ 和 Command+Alt+}，即 Alt 不是必需的。有趣的是其他 SO 答案说缩放是不可能的，也许在以后的 Xcode 4x 或 5 中添加？

Apple 喜欢空白和宽边距，但如果您有多个屏幕，即使在 4k 显示器上，缩放也是绝对必要的！

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-07-26T01:53:47.170

如果您有触控板，则可以单击情节提要并用两根手指单击以获取缩放选项菜单。

**注意：**如果您没有使用两指手势设置的点击，您可以转到系统偏好设置 > 触控板 > 指向并单击。然后将辅助点击更改为“用两根手指点击或点击”

# javascript - 循环延迟对象和承诺

> ID：12703303
> 
> 赞同：1
> 
> 时间：2012-10-03T06:53:03.867
> 
> 标签：javascript, jquery

我有以下代码

```
 $.when(tableInsert("index.php/get/sync/riesgos", insert_riesgo, evalua.webdb.db, callback)).then(function(){
        update_records("riesgos");
        $.when(tableInsert("index.php/get/sync/estancias", insert_estancia, evalua.webdb.db, callback)).then(function(){
            update_records("estancias");
            $.when(tableInsert("index.php/get/sync/riesgosestancias", insert_riesgoestancia, evalua.webdb.db, callback)).then(function(){
                update_records("riesgosestancias");
            });
        });
    }); 
```

我试图找到如何将它集成到 for 循环或 $.each 循环中，以便它等待在下一次迭代之前完成承诺。起初看起来三个调用更容易嵌套，但这只是一段代码，现在嵌套调用计数为 15！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-03T07:09:21.403

好吧，您首先需要一个包含数据的数组，例如：

```
var calls = [
    {
        url: "index.php/get/sync/riesgos",
        func: insert_riesgo,
        update: "riesgos"
    },
    ...
]; 
```

然后您可以使用[`.pipe` *^([docs])*](http://api.jquery.com/deferred.pipe/)链接调用：

```
var def = (new $.Deferred()).resolve();

$.each(calls, function(call) {
    def = def.pipe(function() {
        return tableInsert(call.url, call.func, evalua.webdb.db, callback).done(function() {
            update_records(call.update);
        ]);
    });
}); 
```

`$.when`在您的示例中不需要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:46:08.167

如果您对整个异步`Deferred`事物感兴趣：

```
var arr = [
  ["index.php/get/sync/riesgos", insert_riesgo, "riesgos"],
  ["index.php/get/sync/estancias", insert_estancia, "estancias"],
  ["index.php/get/sync/riesgosestancias", insert_riesgoestancia, "riesgosestancias"]
];

var dfd = $.Deferred().resolve();

$.each(arr, function(i, item) {
  dfd.then(function() {
    return $.when(tableInsert(item[0], item[1], evalua.webdb.db, callback)
    .then(function() {
      update_records(item[2]);
    });
  })
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:15:58.500

在看到您的答案@felix-kling 之前，我一直在思考并采取了类似的方法：

做一个数组：

```
webdb.tables=[{
    name: "riesgos",
    callback: insert_riesgo,
},{
    name: "estancias",
    callback: insert_estancia,
},{
    name: "riesgosestancias",
    callback: insert_riesgoestancia,
}]; 
```

并使用递归函数循环：

```
var i=0;
    function recursive(){
        $.when(tableInsert("index.php/get/sync/"+webdb.tables[i].name, webdb.tables[i].callback, webdb.db, callback)).then(function(){
            update_records(webdb.tables[i].name);
            if(++i<webdb.tables.length)
                recursive();
        });
    } 
```

# python - 获取并组合来自中间美味派资源的数据

> ID：12703304
> 
> 赞同：2
> 
> 时间：2012-10-03T06:53:07.737
> 
> 标签：python, django, model, tastypie

仅当请求该资源的详细信息时，是否有将数据从中间表添加到资源的最佳实践？

作为示例，我将使用 Django 示例模型（Person、Group 和 Membership）。

当我获得所有人员资源 (/api/person/) 的列表时，我没有在结果中获得任何组信息。

```
[
    {        
        "id": "1",
        "name": "John Doe",
        "resourceUri": "/user/1/"
    },
    {
        "id": "2",
        "name": "Jane Doe",
        "resourceUri": "/user/2/"
    }
] 
```

但是，当我获得一个人资源 (/api/person/1/) 的详细信息时，我希望结果中包含某些组信息。该组信息部分来自组和成员模型。

```
{
    "resourceUri": "/user/1/",
    "name": "John Doe",
    "groups": [        
        {
            "date_joined": "15/02/1988",
            "name": "administrator"            
        },        
        {            
            "date_joined": "25/05/1992",
            "name": "helpdesk"
        }
    ]
} 
```

所以基本上我正在寻找一种方法来为我的结果添加额外的数据。并且可选地仅在请求特定方法（例如获取资源的详细信息）时。我尝试通过重写 dehydrate 方法来实现这一点，我成功了，但感觉非常不自然，我想知道是否有最佳实践。

## Django 模型

```
class Person(models.Model):
    name = models.CharField(max_length=128)

    def __unicode__(self):
        return self.name

class Group(models.Model):
    name = models.CharField(max_length=128)

    def __unicode__(self):
        return self.name

class Membership(models.Model):
    person = models.ForeignKey(Person)
    group = models.ForeignKey(Group)
    date_joined = models.DateField()
    invite_reason = models.CharField(max_length=64)

    class Meta:
        unique_together = ('person', 'group') 
```

## 美味派资源

```
class Person(ModelResource):
    class Meta:
        queryset = Person.objects.all() 
```

# c++ - 如何比较 OpenCV 中的标量

> ID：12703305
> 
> 赞同：3
> 
> 时间：2012-10-03T06:53:10.110
> 
> 标签：c++, opencv, for-loop, comparison, scalar

我有一个名为“myClass”的类，它返回“cv::Scalar”类型，我想这样做：

```
cv::Scalar myValue; 
for ( myValue > myClass (i,j) )
.... 
```

但是“for”行中的比较部分给出了错误，说“没有运算符 > 匹配这些操作数”。有人可以帮助我吗？谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-03T07:13:13.587

为了完成智禄的回答：

如果要比较 Scalar 的元素，则应执行以下操作：

```
cv::Scalar scalar(myValue);   //here you assign a value to the element (0,0)
for (scalar.val[0,0] > myClass (i,j)) // access the elment of Scalar
{
} 
```

无论如何，如果您只想要一个值，那么使用 Scalar 是没有意义的。还要注意，你需要一个适当的 for 循环表达式，比如

```
for(i = 0; i < 0; i++){} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-03T06:57:02.793

标量是一个四双类型元素数组。您可以在这种结构中存储任意数量的元素（双精度类型）。因此，您不能像 int 类型那样直接将 Scalar 的一个实例与另一个实例进行比较。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-03T07:22:52.323

如果没有运算符来比较两个`cv::Scalar`元素，您可以定义它：

```
#include "OpenCVStuff.h"

// Custom operator to compare cv::Scalar class...
bool operator >(const cv::Scalar &a, const cv::Scalar &b)
{
    bool Result = false;
    // Do whatever you think a Scalar comparison must be.
    return Result;
}

int main(int argc, char **argv)
{
    cv::Scalar myValue; 

    // Assuming myClass (i,j) returns a cv::Scalar
    for ( myValue > myClass (i,j) )
    {
        // Do something...
    }

    return 0;
} 
```

这样做，您可以定义比较两者的方式`cv::Scalar`，而不会打扰`cv::Scalar`类本身。

我已经把它`main.cpp`作为一个例子，但是你可以在任何你想要的地方定义操作符，只要它在执行比较的地方是可见的。

# c - arm-none-eabi-gcc ：使用 printf 打印浮点数

> ID：12703307
> 
> 赞同：7
> 
> 时间：2012-10-03T06:53:19.950
> 
> 标签：c, gcc, arm, printf

我正在为 SAM3N arm cortex-M3 微控制器编写 C 程序。当我尝试打印浮点数时，它只打印'f'。示例：仅`printf("%f",43.12);`打印`f`，不打印`43.12`.

但是用整数打印效果很好。

如何启用花车的完整打印？我知道编译器默认禁用浮点打印以减小代码大小（即，它们似乎链接了缩减版本）。另请注意，`CFLAGS=-Dprintf=iprintf`makefile 中没有使用。

工具详情：

*   ARM/GNU C 编译器：（crosstool-NG 1.13.1 - Atmel 构建：13）4.6.1
*   以上工具随 Atmel studio 6.0 一起提供。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-09-08T12:12:22.740

您可以尝试，在链接器设置中添加以下选项

-lc -lrdimon -u _printf_float

它在 ARM-CORTEXM0 中对我有用

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-03T08:11:03.773

可能是您的平台/库不`%f`支持`printf/sprintf`. 作为第一种方法，您可以滚动自己的 printf 用于浮点数/双精度数：

```
void printDouble(double v, int decimalDigits)
{
  int i = 1;
  int intPart, fractPart;
  for (;decimalDigits!=0; i*=10, decimalDigits--);
  intPart = (int)v;
  fractPart = (int)((v-(double)(int)v)*i);
  if(fractPart < 0) fractPart *= -1;
  printf("%i.%i", intPart, fractPart);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:36:01.670

在默认情况下禁用浮点数的编译器中，默认库可以处理它们是不寻常的。查看您的参考资料，您将找到有关如何重新编译具有浮点支持的适当库的信息，或者（更有可能）在哪里可以找到已经使用它构建的版本。

# ruby-on-rails - rails - 从嵌套属性中获取其他值

> ID：12703310
> 
> 赞同：0
> 
> 时间：2012-10-03T06:53:32.090
> 
> 标签：ruby-on-rails, ruby-on-rails-3, nested-attributes

我正在做一个图书管理员，所以每个用户都有自己的图书收藏。我所做的是这个

```
<%= simple_form_for @user_collection do |f|%>
  <%= f.input :user%>
  <%= f.input :collection_name%>
  <%= f.simple_fields_for :collection_books do |builder|%>
    <%= builder.input :book_name%>
    <div class="author"><%= builder.input :author%></div>
    <div class="year"><%= builder.input :year%></div>
  <%end%>
<%end%> 
```

我使用该视图将书籍与用户联系起来。

这里 book_name 输入是一个自动完成字段[1]，用于搜索书名，当点击一本书时，作者和年份输入会填充我从搜索中获取的信息。

此外，我正在使用链接 [2] 来添加更多书籍。我在这里显示的代码没有显示其他字段，作为我的 Collection 模型中的一个示例，我有这个验证行

```
validates_presence_of :collection_name 
```

因此，如果我尝试在没有 collection_name 的情况下保存该集合，它会按预期再次呈现该视图，但问题来了，因为我只是使用访问器属性来显示书籍信息，而不是因为我想保存它们。

集合.rb

```
 attr_accessible :collection_books_attributes ... (and others)
  has_many :collection_books
  has_many :books, :through => :collection_books
  accepts_nested_attributes_for :collection_books 
```

收藏书.rb

```
 attr_accessible :book_name
  attr_accessor :author, :year 
```

有没有办法将这些值存储在参数中而不会出现质量分配错误？因为每次我尝试保存时，它们都包括我创建的那些访问器，以便在出现错误时显示本书的作者和年份（正如我之前提到的）。

希望我的问题足够清楚:)

提前致谢

哈维尔

[1] [http://railscasts.com/episodes/102-auto-complete-association-revised](http://railscasts.com/episodes/102-auto-complete-association-revised) [2] [http://railscasts.com/episodes/196-nested-model-form-revised](http://railscasts.com/episodes/196-nested-model-form-revised)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:08:20.807

我坚持如果我添加一个 attr_accessor，就没有必要在 attr_accessible 列表中添加它。现在我正在检索图书信息。

我在这里找到了提示

[虚拟属性和批量分配](https://stackoverflow.com/questions/9005567/virtual-attributes-and-mass-assignment)

# python - 如何在python的服务器代码中指定xmlrpc故障代码

> ID：12703312
> 
> 赞同：1
> 
> 时间：2012-10-03T06:53:43.597
> 
> 标签：python, xml-rpc, fault, xmlrpclib

python的[xmlrpclib](http://docs.python.org/library/xmlrpclib.html)是一种通过 Internet 与不同计算机通信的便捷方式，提供对类、函数等的直接访问。在服务器端出现错误的情况下，该错误会作为[故障](http://docs.python.org/library/xmlrpclib.html#fault-objects)报告给客户端，由一些文本消息和一些故障代码组成。

我的问题是如何在服务器端控制这些属性，即如何显式设置要发送到客户端的故障字符串和故障代码。这些细节的文档似乎非常稀疏，感谢您提供任何帮助。

谢谢，

亚历克斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:29:32.563

经过一番挖掘，我找到了答案。要在 xmlrpc 服务器中“抛出”错误，可以简单地做

```
import xmlrpclib

# some code
if not ok:
  # throw fault:
  raise xmlrpclib.Fault(11, "some message") 
```

这会在客户端引发带有 faultCode 11 和 faultString “一些消息”的故障。这可以被覆盖以实现自己的错误类。

# html - HTML Tidy：如何将“强制输出”设置为“是”？

> ID：12703314
> 
> 赞同：3
> 
> 时间：2012-10-03T06:53:56.107
> 
> 标签：html, xml, tidy

我在 Windows 的命令行环境中使用 HTML Tidy。我需要强制将一些html文件转换为xml，即使有错误。

我执行以下步骤：

*   创建一个文件“conf.txt”，其内容为：
    `force-output: yes`
*   键入以下命令行：
    `tidy -config conf.txt -o filename.xml filename.htm`

但是，不会生成“filename.xml”。[请注意，当使用http://infohound.net/tidy/tidy.pl](http://infohound.net/tidy/tidy.pl)的在线版本的 tidy 时，我能够从同一个“坏”HTML 文件中获取输出 XML 文件。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-07-17T20:43:05.710

我想出了一个办法：

```
tidy --force output yes -o filename.xml filename.htm 
```

# asp.net - 如何为所有方法提供所需类的一个实例

> ID：12703315
> 
> 赞同：1
> 
> 时间：2012-10-03T06:53:58.977
> 
> 标签：asp.net, httprequest

有一个类，其他类在他们的方法中使用它。**我想在请求期间**只给所有方法一个类的**实例**。

 **更新：**在请求期间**我的**意思是**：当用户向服务器发出请求以加载网页 ( **beginRequest** ) 时，将调用和引发多个事件和方法。他们中的许多人需要我的班级将一些数据保存到数据库中。而不是在**每个**方法或页面中**实例化**我的类并对数据库进行**多个事务**，我希望所有方法只使用一个**缓冲**这些数据的**实例**，并在请求**结束时****将所有**数据插入数据库**一次**。这些在下一个请求中**重复**

 ******* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:01:27.810

您可以使用每个请求的集合并使用它创建每个请求的单音。

[http://www.4guysfromrolla.com/articles/060904-1.aspx](http://www.4guysfromrolla.com/articles/060904-1.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:01:46.693

使用单例模式

来自[P&P](http://msdn.microsoft.com/en-us/library/ms998426.aspx)

在某些情况下，应用程序中的所有其他对象都需要使用某种类型的数据。在大多数情况下，这种类型的数据在系统中也是唯一的。例如，用户界面只能有一个所有应用程序都必须访问的鼠标指针。同样，企业解决方案可以与管理与特定遗留系统的连接的单网关对象交互

如何使一个对象的实例全局可用并保证只创建一个类的实例？

[示例](http://msdn.microsoft.com/en-us/library/ff650316.aspx)：

```
public class Singleton
{
   private static Singleton instance;

   private Singleton() {}

   public static Singleton Instance
   {
      get 
      {
         if (instance == null)
         {
            instance = new Singleton();
         }
         return instance;
      }
   }
} 
```********

# xtext - 测试某些东西无法在 Xtext 中解析

> ID：12703318
> 
> 赞同：1
> 
> 时间：2012-10-03T06:54:16.540
> 
> 标签：xtext

我有以下语法：

```
grammar ru.focusmedia.fire.idl.IDL with org.eclipse.xtext.xbase.Xbase

generate idl "http://www.focusmedia.ru/fire/idl/IDL"

Model:
    'package' package=QualifiedName
    imports+=Import*
    typeDefs+=TypeDef+;

... 
```

所以字符串`asd`应该无法解析，任何不以`package`. 我希望`ParseHelper.parse("asd")`抛出异常或 return `null`，但两者都没有。我如何识别解析失败？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:21:11.390

您可以通过 Resource#getErrors 查询包含错误解析结果的资源。类似的东西`resultFromParseHelper.eResource().getErrors()`应该可以解决问题。

使用junit：

```
Assert.assertEquals(result.eResource().getErrors().toString,0,result.eResource().getErrors().size) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T10:14:35.430

另一种选择是使用`ValidationTestHelper`.

# mysql - 如何使用mysql单查询获取具有总数的数据

> ID：12703322
> 
> 赞同：0
> 
> 时间：2012-10-03T06:54:38.600
> 
> 标签：mysql, sql, database

我想编写一个 mysql 查询来获取我所有的表数据和总记录数。

例如。这是我的桌子

```
ID     Name    typeId
1      test1   1
2      test2   1
3      test3   2 
```

如果我要获取类型为 1 的数据，我需要这样的结果

```
Name    count 
test1   2
test2   2 
```

我怎样才能为这种结果编写sql。我不想要子查询。我想在没有子查询的情况下获取数据请帮助我。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:02:36.970

 ~~查看您想要的结果，这是一个奇怪的要求，因为您想要所有计数（不是每个`Name`）。您可以为此使用子查询：

```
SELECT `Name`, (SELECT COUNT(*) FROM myTable) as `COUNT`
FROM myTable 
```

或者，如果您想为每个计数`Name`尝试以下操作：

```
SELECT `Name`, COUNT(*) AS `COUNT` 
FROM myTable 
GROUP BY `Name`; 
```

 ~~**编辑：**

当您更新您的问题时，您的查询应该是这样的：

```
SELECT `Name`,
(SELECT COUNT(*) FROM myTable WHERE TypeId = 1 GROUP BY TypeId) as `COUNT`
FROM myTable WHERE TypeId = 1; 
```

# [*看到这个 SQLFiddle*](http://sqlfiddle.com/#!2/65953/5)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:06:43.043

或者是在`CROSS JOIN`这里使用

```
SELECT name, c.totalCount   
FROM Table1, (SELECT COUNT(*) totalCount FROM Table1) c 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/f3f19/7)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T06:59:01.650

```
select name,count(*) as count from tablename where typeid=1 group by name 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T06:58:51.043

```
SELECT name, count(*) AS count FROM <TABLE NAME> GROUP BY name; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-03T09:10:09.403

```
SELECT t.*, count(\*) AS count FROM myTableName as t GROUP BY t.Name; 
```~~~~

# java - 自动更新 JTable？

> ID：12703332
> 
> 赞同：1
> 
> 时间：2012-10-03T06:55:29.587
> 
> 标签：java, swing, jtable

有没有一种方法可以通过在我们的编码中包含一些计时器或相关内容来自动更新 JTable？有时我会从其他地方更新我的数据库（后端），那么当 JTable 遇到数据库中的某些更改时，它可能会自动更新吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T06:59:45.307

> 当 JTable 遇到数据库中的某些更改时，它可能会自动更新自己？

*   是的，对于`Oracle`并且`MySql`有一个 3rd 方库，解决方法可以从 DB 解释器返回所需的事件，它将通知数据库中的更改

> 有没有办法让 JTable 自动更新自己

*   不，必须以编程方式更新[XxxTableModel](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#data)

> 有时我会从其他地方更新我的数据库（后端），

*   是的，可以开始`Timer`并在某些基础上检查表的更改（参见使用 3rd.party 库的更好方法）并在某些/相同的基础上更新`XxxTableModel`

*   所有更改都`Swing GUI`必须在 Swing`EventDispatchThread`中的[Concurency 中完成](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-03T07:10:29.593

每当数据库发生变化时，设置一个参数值。在 JTable 处理程序代码上，使用 SwingTimer 在每特定时间段后触发。在计时器代码中检查 DB 参数值。如果已设置，请读取您的数据库，准备新的 Table Model 对象，然后将其设置在 JTable 上。然后触发 modelchange 事件。

# jquery - 复选框 IE 中的选中属性

> ID：12703335
> 
> 赞同：0
> 
> 时间：2012-10-03T06:55:40.133
> 
> 标签：jquery

在附加带有检查属性的输入元素时，如下代码

```
$("#addcheckbox").append("<input type='checkbox' value=\"Hi\" checked='checked'>"); // addcheckbox is div 
```

在 IE 中呈现的元素看起来像

```
<input type="checkbox" CHECKED="" value="Hi"/> 
```

这发生在使用 jquery 1.7.2 之前，如下所示

```
<input type="checkbox" CHECKED="checked" value="Hi"/> 
```

因此，如果 jquery 模板出现问题，我将面临很多问题。

任何帮助

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T06:57:50.103

也许是因为您没有正确关闭输入..关闭标签并重试..

```
$("#addcheckbox").append("<input type='checkbox' value='Hi' checked='checked' />"); 
```

或者

```
$('<input/>', {  
    type: 'checkbox',  
    value: 'Hi',  
    checked: 'checked'  
}).appendTo('#addCheckBox') ; 
```

还有什么是#addCheckBox 这里.. 它是一个Div 吗？

# python - 如何使用 Django 模板插件在 Eclipse 中添加注释？

> ID：12703337
> 
> 赞同：0
> 
> 时间：2012-10-03T06:55:51.523
> 
> 标签：python, django

我正在使用 Eclipse，我知道有多种方法可以多选行并使用一些快捷方式添加注释。

我已经将 Eclipse 用于 Symfony Twig 模板，并且我使用`ctrl+shift + /`并注释了所有行。

但我无法找到如何在 Django 模板中注释行，例如：

```
{#  #} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:51:39.777

我知道在 django 模板中评论多行的一种方法是使用 {% comment %}....内容在这里....{% endcomment %}...然后是通常的 ctrl+shift+/在 Eclipse 中将在 django 模板中添加传统的 html 注释..我希望这会有所帮助..

# java - 当 hazelcast 集群仅包含 lite 成员时会发生什么？

> ID：12703338
> 
> 赞同：1
> 
> 时间：2012-10-03T06:55:59.830
> 
> 标签：java, hazelcast

我在 Java 桌面项目中使用 hazelcast，在 1 到 6 个客户端之间实时同步共享数据。我存储了一张包含大约 200 个条目的地图，以及相应的状态（空闲/忙碌），这样两个客户端就不能同时预订同一个项目。

由于客户端硬件不是同质的，为了优化性能，我将最慢的成员配置为[lite members](http://www.hazelcast.com/docs/2.3/manual/single_html/#LiteMember)。这似乎可以缩短响应时间。

但是，我注意到如果我将所有成员都设置为精简成员（例如，没有存储空间），那么共享地图似乎无论如何都可以正常工作。所以我的问题是：仅由 lite 成员组成的 hazelcast 集群的含义是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:46:58.627

如果所有成员都是精简版，则无法正常工作的集群，因为没有地方放置数据。

您如何将会员设置为精简会员？

您是否看到有关集群形成的“精简”消息，例如：

```
Members [2] {
    Member [127.0.0.1]:5701 this lite
    Member [127.0.0.1]:5702 lite
} 
```

# c - 在 C 中使用 fread 读回数据后的值错误

> ID：12703343
> 
> 赞同：0
> 
> 时间：2012-10-03T06:56:31.620
> 
> 标签：c, fwrite, fread

我`tmpfile()`用来创建一个文件（所以它会自动以**二进制模式**打开）。
然后我`floats`用`fwrite()`. 所有这些`floats`都> 0。

**问题是，当我尝试用 读取这些值（>0）时`fread()`，我得到负值！**

我写的值`out[i][j][couche]`是可以的（因为它们的定义，它们不可能<0）。问题在最后（`fread`）。

```
void flou_bis (FILE * fp, PIXRVB **out, PIXRVB **in, int np, int nl, int rayon, int couche){
    int i,j,k,l,nb;
    float ret1, ret2;
    float rCouche;

    /* Other things not relevant..
    (process the values of array out[][][] ...)*/

    for (i=0; i<nl; i++)
    {
        for (j=0; j<np; j++)
        {
            fwrite ( &(out[i][j][couche]) , sizeof(float), 1, fp);
        }
    }

    rewind(fp);
    /*fsync(fp); // Useless
    rewind(fp);*/

    printf("%d float read\n", fread ( &ret2, sizeof(float), 1, fp)); /*Here is the problem!!! */
    printf("%f\n", ret2);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:12:16.690

你应该：

1.  打印出您在 中访问的值`out`，以验证索引是否正常工作，包括浮点数和字节数。
2.  检查`fwrite()`没有失败。
3.  打印文件的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T17:43:29.257

问题解决了，我需要创建一个临时变量来强制转换：

```
float ent = (float) out[i][j][couche];
fwrite ( &ent, sizeof(float), 1, fp); 
```

没有（浮动）它不起作用，我不知道为什么谢谢大家的帮助；）

# android - 我们如何限制搜索栏以固定步骤取得进展

> ID：12703346
> 
> 赞同：1
> 
> 时间：2012-10-03T06:56:46.580
> 
> 标签：android, progress, seekbar, android-progressbar

> **可能重复：**
> [Android：在 SeekBar 中设置间隔](https://stackoverflow.com/questions/6431335/android-set-interval-in-seekbar)

我有一个最大值为 100 的搜索栏，所以它可以采用的值的总跨度是 0-100。

但我的要求是 seekbar 上显示的进度只能是固定的步骤。即我只希望我的搜索栏采用这些值 1, 10 , 20, 30, 40, ....90, 100 而不是这些步骤之间的任何值。

如何限制我的搜索栏以这种方式工作？

请帮忙

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:01:03.543

您可以将搜索栏的最大值设为 10，并在显示所选值时，获取当前进度并乘以 10。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-03T07:05:10.460

将可能的值存储在一个数组中，并使用当前的搜索栏值作为数组索引。

伪代码

```
int[] values = {1, 10 , 20, 30, 40, ....90, 100};
int current = values[ seekbar.getValue() ]; 
```

因此，如果 seekbar.getValue() == 1 你的当前 == 10。

# python - 在 nginx 后面使用带有cherrypy的会话 RamSession 时出错

> ID：12703347
> 
> 赞同：1
> 
> 时间：2012-10-03T06:56:49.990
> 
> 标签：python, nginx, cherrypy

我正在使用我自己的基于 nginx 后面的 RamSession 的会话运行一个樱桃应用程序。问题是每个请求的会话 ID 都会更改。我认为问题在于每次发出请求时，它都会发送给不同的工作人员，因此会话被保存，但下一个可用工作人员在下一个请求中无法识别它（不幸的是，对事情如何工作的了解有限）。当我将工人数量设置为 1 时，一切都按预期工作。我知道我可能可以使用 FileSession 或任何类型的基于数据库的会话处理程序，但只是想知道是否有解决方案。谢谢

这是我的新贵脚本：

```
description "uwsgi tiny instance"
start on runlevel [12345]
stop on runlevel [06]

exec /home/web/.virtualenvs/myenv/bin/uwsgi --uid web -H /home/web/.virtualenvs/myenv -w myapp.wsgi -p 1 -M -s 127.0.0.1:3031 
```

这是我的会议：

```
class MySession(sessions.RamSession):
    def clean_up(self):
        """Clean up expired sessions."""
        now = self.now()
        for id, (data, expiration_time) in copyitems(self.cache):
            if expiration_time <= now:
                try:
                    active = Mongo(ActiveSession).find_one('active', self.cache['active'])
                    Mongo(ActiveSession).remove(active)
                except:
                    print "Failed to remove active session object."
                try:
                    del self.cache[id]
                except KeyError:
                    pass
                try:
                    del self.locks[id]
                except KeyError:
                    pass
        # added to remove obsolete lock objects
        for id in list(self.locks):
            if id not in self.cache:
                self.locks.pop(id, None) 
```

和我的配置：

```
config = {
    '/static': {
        'tools.staticdir.on': True,
        'tools.staticdir.dir': os.path.join(current_dir, 'media/public')
    },
    '/fotos': {
        'tools.staticdir.on': True,
        'tools.staticdir.dir': os.path.join(current_dir, 'media/fotos')
    },
    '/' : {
        'tools.sessions.on': True,
        'tools.sessions.name': 'myapp'
        'tools.sessions.storage_type': 'my',
        'engine.autoreload_on': False
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T15:14:42.637

您的直觉是正确的： RamSession 一次仅限于 1 个进程。简单的解决方案是切换到 FileSession（如果您的工作人员都可以访问相同的文件系统）或数据库会话。假设您的工人分布广泛，很可能是后者。

# timer - JMeter - 收到响应后设置计时器

> ID：12703352
> 
> 赞同：2
> 
> 时间：2012-10-03T06:57:20.997
> 
> 标签：timer, jmeter

我知道 JMeter 中的计时器在发送请求时开始计数。
我需要将计时器设置为在响应返回或超时时启动。
这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T11:15:16.157

我想你误会了。

如果您谈论的是计时器，它们在请求之前或之后开始和结束。

读这个：

*   [计时器](http://jmeter.apache.org/usermanual/test_plan.html#timers)

*   [范围规则](http://jmeter.apache.org/usermanual/test_plan.html#scoping_rules)

*   [测试动作](http://jmeter.apache.org/usermanual/component_reference.html#Test_Action)

或者，也许您在谈论响应时间？

# c# - Cargo-cult 编程：锁定 System.Object

> ID：12703354
> 
> 赞同：6
> 
> 时间：2012-10-03T06:57:38.907
> 
> 标签：c#, synchronization, locking

我想我已经养成了一种货物崇拜的编程习惯：

每当我需要使类线程安全时，例如具有 Dictionary 或 List 的类（完全封装：从不直接访问并且仅由我的类的成员方法修改），我创建两个对象，如下所示：

```
public static class Recorder {

    private static readonly Object _devicesLock = new Object();
    private static readonly Dictionary<String,DeviceRecordings> _devices;

    static Recorder() {

        _devices = new Dictionary<String,DeviceRecordings>();

        WaveInCapabilities[] devices = AudioManager.GetInDevices();
        foreach(WaveInCapabilities device in devices) {

            _devices.Add( device.ProductName, new DeviceRecordings( device.ProductName ) );
        }
    }//cctor

    // For now, only support a single device.

    public static DeviceRecordings GetRecordings(String deviceName) {

        lock( _devicesLock ) {

            if( !_devices.ContainsKey( deviceName ) ) {

                return null;
            }

            return _devices[ deviceName ];
        }
    }//GetRecordings
}//class 
```

在这种情况下，我将所有操作包装`_devices`在一个`lock( _devicesLock ) {`块中。我开始怀疑这是否有必要。为什么我不直接锁定字典？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-03T07:04:53.070

在您的用例中，锁定字典会很好，因为它是私有的。您仍然需要仔细设计您的类以防止死锁。

如果字典是唯一需要线程安全的共享资源并且代码的其他部分是线程安全的，我建议使用[ConcurrentDictionary](http://msdn.microsoft.com/en-us/library/dd287191.aspx)而不是锁定。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:05:45.880

如果您确定主对象在类中完全使用，则不需要它。严格来说，即使它是没有必要的，但是具有 2 个变量的版本更容易推理：

*   阅读代码的人不需要考虑主要对象是否曾经被暴露并可能被您的班级过分的东西锁定
*   带有单独锁定对象的代码看起来更符合良好实践
*   如果一个人意外/故意暴露主要对象会更安全

# javascript - Javascript 事件移除

> ID：12703360
> 
> 赞同：1
> 
> 时间：2012-10-03T06:57:53.830
> 
> 标签：javascript, events

另一个Javascript，可能对你来说是小问题，但我就是不明白如何解决它，谷歌搜索了一夜，问题很简单......我有桌子，在td里面我有按钮，我`onclick`为所有这些按钮分配了事件，因此，当我单击一个按钮时，我执行了一个功能，并且在功能结束时，我想更改该事件以执行另一个功能，这是我的代码...

```
var $UserRow = $(Final).closest('tr').clone();

$('td button', $UserRow).each(function () {

   this.removeEventListener('click', GetInfo, false);
   this.addEventListener('click', GetBetslip, false);
});

$UserRow.appendTo('#UserTicket'); 
```

所以`$UserRow`是我想复制到另一个表的行并且该部分工作正常，但是在我复制它之前我想删除所有按钮事件......我已经尝试过

```
this.removeEventListener('click',GetInfo,false);
this.detachEvent('Click', GetInfo);
this.onclick = GetBetslip;
this.onclick = function () { GetBetslip()}; 
```

我只是不知道该尝试什么了...你能帮我吗...我想要的只是更改该 tr 内每个按钮的事件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T06:59:16.580

看起来您正在使用 jQuery，如果您正在寻找[此功能。`$().off()`](http://api.jquery.com/off/)

根据评论，您可能会做得更好：

```
$(this).attr('onclick', false); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:02:49.373

如果使用 jQuery，最好使用 jQuery 绑定和取消绑定事件。仅当您使用 jQuery 绑定处理程序时才能使用此方法：

改为这样做：

```
$('td button', $UserRow).each(function () {

   $(this).off('click', GetInfo);
   $(this).on('click', GetBetslip);
}); 
```

# azure - SSL 如何在 Windows Azure 虚拟机中工作？

> ID：12703362
> 
> 赞同：3
> 
> 时间：2012-10-03T06:57:54.397
> 
> 标签：azure, azure-virtual-machine

以前我问过问题，从 Windows azure 中选择最适合我的应用程序的服务，并根据答案@[我们可以在 Azure 网站或虚拟机中运行 windowservice 或 EXE 吗？](https://stackoverflow.com/questions/12384917/can-we-run-windowservice-or-exe-in-azure-website-or-in-virtual-machine)我将使用**虚拟机**

关于 WAVM，我有以下疑问

1）我可以通过 IIS 设置以与我们在专用服务器中相同的方式实现 SSL 吗？

2）另外，对于文件/图像，我不会使用存储帐户，那么这会有什么问题吗？

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-03T07:51:52.060

您可以像在任何 Windows 服务器上一样使用 SSL。不要忘记添加 Internet (80) 和 SSL (443) 的端点。最好的方法是在外部使用相同的端口号。

![Azure VM 上 ssl 网站的终结点](../Images/e57a36209383fb2f61f3244ea893f080.png)

我在 WIF 培训中使用了它，其中域控制器和 ADFS 位于 Azure 的虚拟机上。

对于第二个遮阳篷。C:\drive（操作系统磁盘）与您添加到 VM 的磁盘具有不同的备份方案。因此，为了存储数据，请将 Datadisk 添加到您的 VM。磁盘的最大大小为 999GB。根据 VM 大小，您最多可以安装 16 个磁盘。有关说明，请参见图像

![为 Azure VM 创建 datadisd](../Images/54038709d0281c989b7f2c88f59bd000.png)

磁盘的 vhd 文件位于 Azurestorage 中，因此在本地复制了 3 次，并且由于地理复制而复制了 3 次。

SY

米歇尔·范布伦

# asp.net - 错误结束标记缺少更新面板

> ID：12703364
> 
> 赞同：1
> 
> 时间：2012-10-03T06:58:09.310
> 
> 标签：asp.net, .net, ajax

```
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
    <asp:ScriptManager ID="ScriptManager1" runat="server">
    </asp:ScriptManager>
    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
<ContentTemplate>

//some code goes here

</ContentTemplate>
 </asp:UpdatePanel>
</asp:Content> 
```

在应用更新面板之前，它显示正常。但添加后它显示“缺少结束标记”。但是当运行代码时，它在浏览器中完美显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:24:09.917

您将脚本管理器移动到您的`MasterPage`

母版页

```
 <form id="form1" runat="server">
    <div>
        <asp:ScriptManager ID="ScriptManager1" runat="server">
        </asp:ScriptManager>

         <asp:contentplaceholder id="ContentPlaceHolder1" runat="server">
        </asp:contentplaceholder>
    </div>
    </form> 
```

页

```
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
   <ContentTemplate>

      //some code goes here

   </ContentTemplate>
 </asp:UpdatePanel>
</asp:Content> 
```

# c# - Webmaster Tools API C# - Url Encoded SiteID 导致 400 响应

> ID：12703370
> 
> 赞同：1
> 
> 时间：2012-10-03T06:58:41.273
> 
> 标签：c#, .net, api, urlencode, google-search-console

网站管理员工具 API 需要 SiteID 才能进行大多数操作。
此 SiteID 是网站 URL 的 URL 编码版本，显示在 Google 网站管理员工具仪表板中。

那么为什么下一个 URL 不起作用（可怕的“错误请求”或“未找到站点”）？

```
var site = "http://example.com/";
var urlEncoded = HttpUtility.UrlEncode(site);
var url = "https://www.google.com/webmasters/tools/feeds/" + urlEncoded + "/crawlissues/"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T06:58:41.273

Google 要求编码字符使用大写字母，而 HttpUtility.UrlEncode 生成小写字符。

有关“选择性 ToUpper”方法的实现，请参见此[答案。](https://stackoverflow.com/a/918162/687857)

（另一件事，最后一个斜线可能会有所不同！*[http://x.com/](http://x.com/)*不是*[http://x.com](http://x.com)*）

# mysql - mysql 从一张表中查询多个参数？

> ID：12703382
> 
> 赞同：0
> 
> 时间：2012-10-03T06:59:33.903
> 
> 标签：mysql, search, select

好的，我有 mysql 查询，我想在 table_1 中搜索这两个参数
我会尝试用“php”展示这个想法

```
if(table_2_params.params_id == 124){
   //select LIKE  "%EXTEC (Sandvik)%" from  table_2_params.nosaukums
}
elseif(table_2_params.params_id == 126){
  //SELECT  FROM table_2_params WHERE nosaukums is BETWEEN  "2010" AND  "2012"
} 
```

我想查询显示第一个和第二个参数...（**他们都匹配**）
天我希望你能明白我想说什么...

好的，这是 **mysql查询：**

```
 SELECT table_1 . * , table_2_params . * 
    FROM table_1, table_2_params
    WHERE table_1.pamat_kat_sad =  '756'
    AND table_1.preces_id = table_2_params.preces_id
    AND (
        (
        table_2_params.params_id =124
        AND table_2_params.nosaukums LIKE  "%EXTEC (Sandvik)%"
        )
        AND (
        table_2_params.params_id =126
        AND table_2_params.nosaukums
        BETWEEN  "2010"
        AND  "2012"
        )
    )
    ORDER BY table_1.preces_id DESC 
```

问题可能是`table_2_params.nosaukums`类型是`longtext`......

如果我只选择

```
 AND (
    table_2_params.params_id =126
    AND table_2_params.nosaukums
    BETWEEN  "2010"
    AND  "2012"
    ) 
```

它显示正确的年份......如果我只选择

```
(
    table_2_params.params_id =124
    AND table_2_params.nosaukums LIKE  "%EXTEC (Sandvik)%"
    ) 
```

它还显示正确的值...

但我不能让他们俩一起工作..

请帮我！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:04:03.137

问题出在这里：

```
 AND (
    (
    table_2_params.params_id =124          #remove this check
    AND table_2_params.nosaukums LIKE  "%EXTEC (Sandvik)%"
    )
    AND (
    table_2_params.params_id =126          #or remove this check
    AND table_2_params.nosaukums
    BETWEEN  "2010"
    AND  "2012"
    )
) 
```

您尝试比较 params_id 是否同时为 124 和 126。那将永远不会起作用。删除其中一个比较，您的查询应该可以工作！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:13:40.343

如果您想要两组条件，只需使用`OR`. 您还应该注意，表之间的连接应该使用`(INNER|LEFT) JOIN`：

```
SELECT
    table_1.*
    , table_2_params.* 
FROM
    table_1
    INNER JOIN table_2_params
        ON table_1.preces_id = table_2_params.preces_id
WHERE
    table_1.pamat_kat_sad =  '756'
    AND
    (
        (
            table_2_params.params_id =124
            AND table_2_params.nosaukums LIKE '%EXTEC (Sandvik)%'
        )
        OR
        (
            table_2_params.params_id =126
            AND table_2_params.nosaukums BETWEEN '2010' AND '2012'
        )
    )
ORDER BY
    table_1.preces_id DESC 
```

最后，您的查询可能表现不佳，因为 mysql 将无法使用任何索引`AND table_2_params.nosaukums LIKE '%EXTEC (Sandvik)%'`

# python - Heroku：ImportError：没有名为站点的模块

> ID：12703388
> 
> 赞同：4
> 
> 时间：2012-10-03T07:00:16.687
> 
> 标签：python, heroku, importerror

在我的 repo 进行一些更改并部署到 heroku 之后，我收到以下错误：

ImportError：没有名为站点的模块

我不知道是什么导致了这个问题，因为我只在最后 2 次提交中更改了一些 Django 模板。

此致

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2016-01-14T21:35:47.790

看看你的 Procfile。它应该显示如下内容：

```
web: gunicorn site:app 
```

确保`site`是您的应用程序的名称。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-04-11T22:14:44.153

Heroku 对此有一篇文章：[https ://help.heroku.com/BWJ7QYTF/why-am-i-seeing-importerror-no-module-named-site-when-deploying-a-python-app](https://help.heroku.com/BWJ7QYTF/why-am-i-seeing-importerror-no-module-named-site-when-deploying-a-python-app)

Python buildpack 的更新意味着在应用程序上设置的 PYTHONPATH 和 PYTHONHOME 配置变量可能会引入此问题。

> 首先，检查这些是否存在
> 
> `heroku config`
> 
> 要解决此问题，您可以像这样取消设置它们：
> 
> `heroku config:unset PYTHONHOME -a appname`
> 
> `heroku config:unset PYTHONPATH -a appname`

# jquery-mobile - 从弹出覆盖中排除页眉和页脚

> ID：12703390
> 
> 赞同：2
> 
> 时间：2012-10-03T07:00:46.207
> 
> 标签：jquery-mobile

我希望当页面由于弹出菜单而有覆盖时可以访问我的页眉和页脚（如[http://jquerymobile.com/branches/popup-widget/docs/pages/popup/index.html](http://jquerymobile.com/branches/popup-widget/docs/pages/popup/index.html)所示）。所以简而言之，只有属性“data-role=content”的 div 应该应用覆盖。如果可能，这应该使用最少的额外 CSS 和/或 JavaScript 来实现。我已经查看了整个 jQuery移动文档，但没有找到任何关于我的问题的参考。

一些代码：

```
<!DOCTYPE html>
<html>
    <head>
        <title>Context Menu</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="http://jquerymobile.com/test/css/themes/default/jquery.mobile.css" />
        <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
        <script src="http://jquerymobile.com/test/js/jquery.mobile.js"></script>
    </head>

    <body>

        <div data-role="page">

            <div data-role="header" data-position="fixed">
                <h1>Header</h1>
            </div>

            <div data-role="content">
                <a href="#popupMenu" data-rel="popup" data-role="button">Menu</a>

                <div data-role="popup" id="popupMenu" data-overlay-theme="b">
                    <ul data-role="listview" data-inset="true" style="width: 200px">
                        <li><a href="#">Add</a></li>
                        <li><a href="#">Edit</a></li>
                        <li><a href="#">Manage</a></li>
                        <li><a href="#">Delete</a></li>
                    </ul>
                </div>
            </div>

            <div data-role="footer" data-position="fixed">
                <h1>Footer</h1>
            </div>

        </div>

    </body>
</html> 
```

因此，在此示例中，单击菜单链接时不应覆盖页眉和页脚。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:25:14.910

`z-index`css 属性允许您设置页面不同“层”的叠加方式。jquery mobile 中的固定标头具有`z-index`1000。通过将`z-index`叠加层的值设置为低于 1000 的值，它将显示在标头的“下方”。

# php - 在zend框架中的显示表中面临错误

> ID：12703391
> 
> 赞同：0
> 
> 时间：2012-10-03T07:00:48.983
> 
> 标签：php, zend-framework

我的控制器功能是

```
public function listAction()
 {
       $params = array('host'       =>'localhost',
                        'username'  =>'root',
                        'password'  =>'',
                        'dbname'    =>'zend'
                         );
        $DB = new Zend_Db_Adapter_Pdo_Mysql($params);
        $DB->setFetchMode(Zend_Db::FETCH_OBJ);
        $sql = "SELECT * FROM `user` ORDER BY user_name ASC";
        $result = $DB->fetchAssoc($sql);
        echo count($result);
        $this->view->assign('title','Member List');
        $this->view->assign('description','Below, our members:');
        $this->view->assign('datas',$result);
 } 
```

和 phtml 文件正在获取 mysql 表

```
<?php 
$datas = $this->datas;
    for($i = 1; $i<= count($datas);$i++)
    { echo $datas[$i]['id'];
  echo $datas[$i]['user_name'];
  echo $datas[$i]['first_name'];  
  echo $datas[$i]['last_name'];
       } ?> 
```

它显示未定义偏移量 = 1 的错误，如果我从 2 开始 for 循环它是好的，并显示少一行形式的 mysql 表。

请帮忙，我没有得到错误的地方

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:18:29.183

因为 $datas 没有数组索引 1。用下面的代码替换你的 phtml 文件。希望这会有所帮助。

```
<?php
$datas = $this->datas;
foreach ($datas as $data) {
    echo $data['id'];
    echo $data['user_name'];
    echo $data['first_name'];
   echo $data['last_name'];
 }
?> 
```

# javascript - ASP.NET 回发中的 JQuery

> ID：12703398
> 
> 赞同：0
> 
> 时间：2012-10-03T07:01:07.217
> 
> 标签：javascript, jquery, asp.net, postback

我使用 JQuery 构建了一张（美国）地图，这样当您单击单个州时，它会根据该特定州显示一条消息。我对 ASP.NET 完全陌生，现在我需要让它在单击状态时执行服务器端回发，并在代码隐藏中执行 response.write 以将完整的选定状态名称显示回浏览器。我该如何做到这一点？下面是我的 HTML 代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Map</title>

    <style>

  #alert {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 16px;
    background-color: #ddd;
    color: #333;
    padding: 5px;
    font-weight: bold;
  }

  #tata {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 16px;
    background-color: #ddd;
    color: #333;
    padding: 5px;
    font-weight: bold;
  }
</style>

    <link href="map.css" media="screen" rel="stylesheet" type="text/css" />

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="jquery.map.js" type="text/javascript"></script>
    <script src="jquery.map.usa.js" type="text/javascript"></script>

<script type="text/javascript">
jQuery(document).ready(function() {
    jQuery('#map').vectorMap({
        map: 'usa_en',
        enableZoom: true,
        showTooltip: true,
        selectedRegion: 'mo',
        normalizeFunction: 'linear',
        onLabelShow: function(element, label, code, region){
            $('#resorts')
                .text(code.toUpperCase()+ ' has ' +region+ ' stunners!')
                .stop()
                .css('backgroundColor', '#ff0')
                .animate({backgroundColor: '#ddd'}, 1000);
        },
        onRegionClick: function(element, code, region){
            $('#alert')
                .text('Hi Joe! You have selected the state of '+region+' on the map with the state initals of: ' + code.toUpperCase())
                .stop()
                .css('backgroundColor', '#af0')
                .animate({backgroundColor: '#ddd'}, 1000);
        }
    });

});

</script>
  </head>
  <body>
    <div id="alert" style="width: 350px; height:50px;">Clicked Data</div>
    <center><div id="map" style="width: 600px; height: 450px;"><div id="resorts" style="width: 350px; height:25px;">Resorts</div></div></center>
  </body>
</html> 
```

任何帮助深表感谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:05:54.117

我认为您不需要在这里使用回发和模型背后的代码。

您可以使用 jQuery ajax 调用很好地实现它，并使用页面方法并返回 HTML 并将其呈现在 div 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:22:19.387

您可以使用 jquery ajax 调用。例如，以下代码将在按钮单击时获取服务器日期时间并用文本框显示它。
在 .aspx 页面上：

```
$("#btn").click(function () {
         $.ajax({
             type: "POST",
             url: "Ajaxdemo.aspx/GetSysDate",
             data: "{}",
             contentType: "application/json; charset=utf-8",
             dataType: "json",
             success: function (msg) {
                 $("#txtShowDate").val(msg.d);
             }
         });
     }); 
```

在页面的 .cs 文件中：

```
[WebMethod]
public static string GetSysDate()
{
    return DateTime.Now.ToString();
} 
```

您可以在服务器端使用此方法执行您的操作并返回字符串消息。此外，您可以在 ajax 调用定义中使用“data:”传递参数。

# php - 如何在 Magento 的主页上提供忘记密码的链接？

> ID：12703399
> 
> 赞同：4
> 
> 时间：2012-10-03T07:01:09.417
> 
> 标签：php, magento, magento-1.6, magento-1.7

我为我的 Magento 网站的主页创建了一个新的模板 phtml 文件 2columns-right-home.phtml。我想在这里提供登录表格。还有“创建新帐户”、“忘记密码”等链接。如何提供链接？

我尝试了以下方法：

```
<a href="<?php echo $this->getForgotPasswordUrl() ?>">Forgot password?</a> 
```

但是该页面并未指向该链接。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-03T07:08:25.997

使用该`getUrl`函数获取模块控制器的`forgotpassword`操作链接（其恰好也是，[阅读更多](http://alanstorm.com/magento_controller_hello_world)）。如此：`account``customer``frontName``customer`

```
<a href="<?php echo Mage::getUrl('customer/account/forgotpassword') ?>">Forgot password?</a> 
```

[更多信息`getUrl`](http://www.magentocommerce.com/wiki/5_-_modules_and_development/reference/geturl_function_parameters)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-16T10:39:06.280

```
Mage::helper('customer')->getForgotPasswordUrl() 
```

看着

```
var_dump(get_class_methods(get_class(Mage::helper('customer')))) 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-10-03T07:13:56.377

忘记密码链接：

```
<a href="<?php echo Mage::getBaseUrl(); ?>customer/account/forgotpassword">Forget Password ?</a> 
```

帐户创建链接：

```
<a href="<?php echo Mage::getBaseUrl(); ?>customer/account/create">Create Account</a> 
```

# c# - 如何在 Wp7 中的 BingMaps 上显示特定位置？

> ID：12703401
> 
> 赞同：0
> 
> 时间：2012-10-03T07:01:15.253
> 
> 标签：c#, windows-phone-7.1

我有一个地图和一个文本框名称 txtSearch 和一个按钮名称 btnSearch 。我提供了 SearchService 和 GeocodeService 的服务参考。在文本框中输入地点并单击搜索按钮后，我们如何在地图上找到特定位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:04:51.353

访问[http://www.bingmapsportal.com/ISDK/AjaxV7](http://www.bingmapsportal.com/ISDK/AjaxV7)！在 REST 服务部分中 - 通过查询查找位置...

这也可能有帮助。[http://dev.virtualearth.net/REST/v1/Imagery/Map/Road/](http://dev.virtualearth.net/REST/v1/Imagery/Map/Road/)

对于 Bing API，您需要注册以获取开发密钥。

一旦你有了一个坐标，你就必须玩`pushpins`。希望能帮助到你。

# c# - 如何在图片框中选择和移动矩形？

> ID：12703402
> 
> 赞同：2
> 
> 时间：2012-10-03T07:01:15.673
> 
> 标签：c#, select, draw, move

只是想知道我将如何实际选择我绘制的矩形然后能够移动它？我还需要删除它，但我可以解决这个问题。只是有点迷失了我需要做什么。伪代码或实际代码都可以，只是一个垫脚石将不胜感激。

此外，如果其他人知道如何在 listBox 中实际显示矩形 X 和 Y，那也很棒。但目前，首要问题是优先事项。

这就是我绘制矩形的方式：

```
 private void pictureBox1_MouseDown(object sender, MouseEventArgs e)
    {

        if (buttonDown)
        {
            if (pictureBox1.Image != null)
            {
                draw = true;
                Graphics g = Graphics.FromImage(imageFile);
                Pen pen1 = new Pen(color, 4);
                g.DrawRectangle(pen1, e.X - 5, e.Y - 5, 5, 5);
                g.Save();
                pictureBox1.Image = imageFile;
            }                
        }           
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T09:15:37.670

为了实现这种行为，您必须存储有关矩形的信息。例如在这样的课程中：

```
class Rect
{
    int X { get; set; }
    int Y { get; set; }
    int Width { get; set; }
    int Height { get; set; }
} 
```

请注意，已经有一个`Rectangle`类型。您也可以使用它，但由于它是一个结构，您必须以不同的方式处理选择。

现在您可以创建一个矩形列表和选择：

```
List<Rect> rects = new List<Rect>();
Rect selectedRect = null; 
```

在列表框中显示这些矩形非常容易。只需将列表框的项目绑定到列表即可。您可能需要覆盖`ToString()`以获得用户友好的输出。

绘制矩形可能如下所示：

```
foreach(var r in rects)
{
    g.DrawRectangle(pen1, r.X, r.Y, r.Width, r.Height);
    ...
} 
```

您可以突出显示选定的矩形。例如，用不同的笔或围绕它的另一个矩形：

```
if(selectedRect == r)
    g.DrawRectangle(pen1, r.x - 5, r.Y - 5, r.Width + 10, r.Height + 10); 
```

在`MouseDown`事件或其他适当的事件中，您可以将选择设置为单击的矩形：

```
foreach(var r in rects)
    if(e.X >= r.X && e.X <= r.X + r.Width && e.Y >= r.Y && e.Y <= r.Y + r.Height)
        selectedRect = r; 
```

要移动矩形，您将保存已单击的矩形点（距左上角的距离）。在鼠标移动事件中，检查左键是否按下并`selectedRect`相应地重新定位。

# ruby-on-rails - 通过关联模型的属性对 Mongoid 对象进行排序

> ID：12703406
> 
> 赞同：1
> 
> 时间：2012-10-03T07:01:33.380
> 
> 标签：ruby-on-rails, mongodb, mongoid

我在尝试了解 Mongoid 如何进行排序时遇到了一些问题。我有 2 个模型，Gig 和 Venue，它们都通过 belong_to has_many 关系关联。

我试图通过场地对象的属性“名称”对 Gig 中的对象进行排序，但无济于事。

我希望有人能指出我正确的方向。

以下是截断的模型描述。

我的查询也在下面：

```
# Gig Model
class Gig 
  include Mongoid::Document
  include Mongoid::Paperclip
  include SearchMagic

  belongs_to :owner, :class_name => "User", :inverse_of => :owns
  belongs_to :venue

  has_and_belongs_to_many :attenders, :class_name => "User", :inverse_of => :attending

  has_and_belongs_to_many :artistes

<snip>
end

# Venue Model
class Venue
  include Mongoid::Document
  include Mongoid::Paperclip
  include SearchMagic

  has_many :gigs
  field :foursquare_id, type: String
  embeds_one :address
  embeds_many :user_ratings

  field :facebook, type: String
  field :twitter, type: String
  field :website, type: String
  field :name, type: String
  field :postal, type: String
  field :tel, type: String
  field :venue_type, type: String
  field :description, type: String
  field :rating, type: Float, default: 0.0

<snip>
end

# Console

>> Gig.desc('venue.name').map{|f| f.venue.name}                                            
=> ["*SCAPE", "Velvet Underground", "Blujaz Lounge", "Velvet Underground", "Home Club", "Wh
ite House, Emily Hill", "Zouk", "Zouk", "The Pigeonhole", "Home Club", "Home Club", "Home C
lub"]

# sorting doesn't work 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:07:06.623

你不能加入mongo。如果您需要连接，请使用关系数据库。非关系数据库的一个“特性”是您不能进行连接。

你基本上有两种选择：

1.  一个 before_save 回调，它将场地名称作为附加字段注入到演出中（例如参见[https://github.com/rewritten/timebank/blob/master/lib/mongoid/denormalize.rb](https://github.com/rewritten/timebank/blob/master/lib/mongoid/denormalize.rb)）

2.  map-reduce 任务，在对任何场地或演出进行任何修改后，会将场地名称作为附加字段更新到演出中。

最后，您需要 Gig 集合中的一个字段来订购它。

# java - ScrollableResults 到列表参考

> ID：12703407
> 
> 赞同：0
> 
> 时间：2012-10-03T07:01:35.797
> 
> 标签：java, hibernate, collections

我必须将可滚动结果引用转换为列表引用。可能吗？当我尝试转换时，我遇到了异常，`java.lang.ClassCastException: org.hibernate.impl.ScrollableResultsImpl cannot be cast to java.util.List.` 请提供此问题的解决方案....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:10:49.053

您不能将`ScrollableResults`对象转换为`List`. 投射不会自动为您转换对象。您需要自己创建一个新的`List`，然后遍历`ScrollableResults`并将每一行添加到`List`自己：

```
ScrollableResults result = ...;

List<...> list = new ArrayList<>();

while (result.next()) {
    list.add(result.get());
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:11:02.900

`org.hibernate.impl.ScrollableResultsImpl`不实现`java.util.List`接口。所以你不能把它投射到列表中。您应该通过调用 next 方法滚动对象并获取行值 `ScrollableResultsImpl#getCurrentRow()`，然后插入到您的列表中。

```
ScrollableResults sResult = ...;

List<Object[]> list = any list implementation; like ArrayList/LinkedList...

while (sResult.next()) {
    list.add(result.getCurrentRow());
} 
```

# ios - 在 iOS 中以编程方式将 .Caf 文件转换为更标准的格式

> ID：12703413
> 
> 赞同：0
> 
> 时间：2012-10-03T07:02:06.573
> 
> 标签：ios, audio, avaudiorecorder, avaudiosession, caf

我知道这已经被问到了，但找不到一个直接的答案。我的应用程序将 .caf 文件从 ios 上传到 Webserver，其中 .caf 不是可识别的格式。在上传到服务器之前，我应该在 iOS 中以编程方式将其转换为 mp3、.wav..etc 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:16:11.277

**编辑**：我遇到了同样的问题，下面给出了解决方案

我有同样的问题，As`.caf isn't a recognized format in ISS 6.0`或更大（不确定哪个ISS）所以你`convert into base64`然后在服务器中保存为`.cab file`

再次检索时转换格式`.cab to .caf`文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T14:45:27.103

我找不到一个简单的方法来做到这一点。所以，我最终在我的 Windows 机器上下载了 caf 播放器。

# asp.net - Asp.net AjaxControlToolkit 试图加载错误的版本？

> ID：12703416
> 
> 赞同：0
> 
> 时间：2012-10-03T07:02:34.127
> 
> 标签：asp.net, .net, ajaxcontroltoolkit

4 周前，我们在我们的 Web 应用程序中发布了一个新版本，在更新之前我们使用 AjaxControlToolkit 的“4.1.50731.0”，现在我们使用“4.1.60623.0”，每天几次我们收到以下错误

> 引发了“System.Web.HttpUnhandledException”类型的异常。---> System.IO.FileLoadException：无法加载文件或程序集“AjaxControlToolkit，版本=4.1.50731.0，文化=中性，PublicKeyToken=28f01b0e84b6d53e”或其依赖项之一。

给出此错误的网址是

> StartForm.aspx?_TSM_HiddenField_=ToolkitScriptManager1_HiddenField&_TSM_CombinedScripts_=%3b%3bAjaxControlToolkit%2c+Version%3d4.1.50731.0%2c+Culture%3dneutral%2c+PublicKeyToken%3d28f01b0e84b6d53e....

不同的客户端 IP 地址会导致此问题，因此它不止一个客户端..

我在应用程序中搜索了“4.1.5”的所有文件，但没有找到任何结果。

我的第一个猜测是，有些页面在 4 周后已经兑现，但现在似乎不太可能了。

有谁知道这里发生了什么？

# jquery - 隐藏 div 中的内容在显示时闪烁

> ID：12703419
> 
> 赞同：1
> 
> 时间：2012-10-03T07:02:43.210
> 
> 标签：jquery, css, wordpress, slider

我正在构建一个非常自定义的 wordpress 主题，只是被最后一个问题难住了。当您单击中间图像（图像分页）时，在精选帖子滑块上，内容会加载，然后图像和文本的下半部分会闪烁！这只会发生一次，之后您可以在所有精选帖子之间来回单击，没有问题，交叉淡入淡出就好了。

我认为这一定与某些预加载问题有关，但是所有内容都会显示一瞬间，然后就好像重新加载了一样。

[http://www.charliegrove.com/barna](http://www.charliegrove.com/barna)是我制作主题和测试一切的地方。

任何诊断问题的帮助将不胜感激。谢谢！

# php - mysql_real_escape_string 的缺点？

> ID：12703420
> 
> 赞同：12
> 
> 时间：2012-10-03T07:02:47.657
> 
> 标签：php, mysql, sql-injection, mysql-real-escape-string

我在这里看到一些人表示使用连接查询`mysql_real_escape_string`不会（完全）保护您免受 SQL 注入攻击。

`mysql_real_escape_string`但是，我还没有看到说明无法保护您免受攻击的输入示例。大多数示例忘记了`mysql_query`仅限于一个查询并且使用`mysql_real_escape_string`不正确。

我能想到的唯一例子如下：

```
mysql_query('DELETE FROM users WHERE user_id = '.mysql_real_escape_string($input)); 
```

这不会保护您免受以下输入的影响：

```
5 OR 1=1 
```

我认为这是错误使用`mysql_real_escape_string`而不是缺点，它是为字符串而不是数值设计的。您应该转换为数字类型，或者如果您在清理时要将输入视为字符串，您应该在查询中执行相同操作并在其周围加上引号。

谁能提供一个可以绕过的输入示例，该示例`mysql_real_escape_string`不依赖于不正确处理数值或忘记`mysql_query`只能执行一个查询？

编辑：我对它的局限性感兴趣，`mysql_real_escape_string`而不是将其与替代方案进行比较，我意识到新项目有更好的选择，我对此没有异议。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T04:40:27.877

或 mysql_ 扩展的主要缺点`mysql_real_escape_string`是它比其他更现代的 API 更难正确应用，尤其是准备好的语句。`mysql_real_escape_string`应该只在一种情况下使用：转义在 SQL 语句中用作引号之间的值的文本内容。例如：

```
$value = mysql_real_escape_string($value, $link);
$sql = "... `foo` = '$value' ...";
                     ^^^^^^ 
```

`mysql_real_escape_string`确保`$value`上述上下文中的 不会弄乱 SQL 语法。它不像您在这里想象的那样工作：

```
$sql = "... `foo` = $value ..."; 
```

或在这里：

```
$sql = "... `$value` ..."; 
```

或在这里：

```
$sql = mysql_real_escape_string("... `foo` = '$value' ..."); 
```

如果应用于除 SQL 语句中带引号的字符串之外的任何上下文中使用的值，它会被误用，并且可能会或可能不会弄乱结果语法和/或允许某人提交可能启用 SQL 注入攻击的值。的用例`mysql_real_escape_string`非常狭窄，但很少被正确理解。

另一种让自己陷入困境的方法`mysql_real_escape_string`是使用错误的方法设置数据库连接编码。你应该做这个：

```
mysql_set_charset('utf8', $link); 
```

你*也*可以这样做：

```
mysql_query("SET NAMES 'utf8'", $link); 
```

问题是后者绕过了 mysql_ API，它仍然认为您正在使用`latin1`（或其他）与数据库交谈。现在使用时`mysql_real_escape_string`，它将假定错误的字符编码和转义字符串，而不是数据库稍后将解释它们。通过运行`SET NAMES`查询，您在 mysql_ 客户端 API 如何处理字符串与数据库如何解释这些字符串之间产生了分歧。这可用于某些多字节字符串情况下的注入攻击。

**如果应用正确**`mysql_real_escape_string`，我知道没有基本的注入漏洞。尽管如此，主要问题还是非常容易错误地应用它，这会带来漏洞。

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:39:31.053

好的，所以除了`mysql_*`被弃用之外，我了解您想*了解*可能存在的任何可能的解决方法。[也许这篇博](http://www.suspekt.org/2008/09/18/slides-from-my-lesser-known-security-problems-in-php-applications-talk-at-zendcon/)文和幻灯片可能会揭示其中的一些内容。
但正如这里[这个较老的问题](https://stackoverflow.com/questions/5741187/sql-injection-that-gets-around-mysql-real-escape-string)所显示的那样，铸造和引用并不能完全证明。有*太多的事情会出错*，墨菲定律与*“永远不要相信网络”*这一永远有效的口头禅交织在一起，将会大错特错。

也许[这篇文章](http://shiflett.org/blog/2006/jan/addslashes-versus-mysql-real-escape-string)，但最重要的是，该文章[的后续内容](http://ilia.ws/archives/103-mysql_real_escape_string-versus-Prepared-Statements.html)可以揭示更多的安全问题。老实说，我知道`mysql_real_escape_string`即使与类型转换和字符串格式结合使用也不是完全可靠的：

```
printf('WHERE id = \'%d\'',(int)mysql_real_escape_string($_REQUEST['id'])); 
```

没有涵盖所有可能的攻击。
我不是这方面的专家，但我可以告诉你的是清理每一个输入，如果有的话，会给你一种*虚假*的安全感。大多数时候，您会（最初）知道什么、为什么以及如何防御攻击，但您的同事可能不知道。他们可能会忘记一些事情，并且您的整个系统都会受到损害。

总结：是的，您可能能够防止*任何形式的恶意输入*进入您的数据库，但它需要的每一个额外操作都会增加风险。在这种情况下，最大的责任（一如既往）是周一早上没有喝第四杯咖啡的开发人员。没有任何代码，无论多么防御和深思熟虑，都可以保护自己免受这个怪物的伤害，这个怪物是一个疲惫的、脾气暴躁的开发人员，对咖啡因和尼古丁冷火了。**

# android - 删除 ListView 元素

> ID：12703422
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:02:53.503
> 
> 标签：android, listview

我正在从文本文件中读取信息并将其显示在 ListView 上。现在，我需要添加一个功能，以便用户可以从列表视图中删除任何记录的文件。删除记录后如何更新 txt 文件数据。请让我知道此实现的任何其他替代方式。

```
System.out.println("history"+readed);
            tokens = readed.split("\\$");

            if(tokens.length>0)
            {
                data = new Vector<RowData>();
                for(int iTmp=tokens.length-1;iTmp>=0;iTmp--)
                {
                    demo = tokens[iTmp].split("\\@");
                    System.out.println("$$$$$$$$$$HISTORY is"+demo[0]+""+demo[1]+" "+ReadCountry());
                    try {
                        rd=new RowData(demo[0], demo[1], ReadCountry());
                    }
                    catch (ParseException e)
                    {
                        e.printStackTrace();
                    }
                    data.add(rd);
                }
            }

            CustomAdapter adapter = new CustomAdapter(this, R.layout.firstlist,R.id.title, data);
            getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);
            setListAdapter(adapter);
            getListView().setTextFilterEnabled(true); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:10:07.330

如果要从 ListView 中删除记录，则必须从 Vector 中删除此记录，然后：

```
adapter.notifyDataSetChanged(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T13:29:14.870

从列表视图中删除文本时，您还必须从 ArrayList 中删除该位置的数据。

做这个：

*数据.remove( `[pass the position here]`)*

然后这样做：

```
adapter.notifyDataSetChanged(); 
```

# c# - 无法将值 NULL 插入到列“ImageId”、表“DressDB .dbo.Image”中；列不允许空值。插入失败

> ID：12703425
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:02:55.790
> 
> 标签：c#, asp.net, sql, sql-server

我像这样在 sql 中创建 db

```
ImageId Int(set identity property=true)

ImageName Varchar(50)

Image image 
```

和我这样的aspx

```
<html xmlns="http://www.w3.org/1999/xhtml" >
  <head runat="server">
    <title>Inserting images into databse and displaying images with gridview</title>
    <style type="text/css">
      .Gridview
      {
        font-family:Verdana;
        font-size:10pt;
        font-weight:normal;
        color:black;
        width:500px;
      }
    </style>
  </head>
  <body>
    <form id="form1" runat="server">
      <div>
        <table>
          <tr>
            <td>
              Image Name:
            </td>
            <td>
              <asp:TextBox ID="txtImageName" runat="server"></asp:TextBox>
            </td>
          </tr>
          <tr>
            <td>
              Upload Image:
            </td>
            <td>
              <asp:FileUpload ID="fileuploadImage" runat="server" />
            </td>
          </tr>
          <tr>
            <td>
            </td>
            <td>
              <asp:Button ID="btnUpload" runat="server" Text="Upload" onclick="btnUpload_Click" />
            </td>
          </tr>
        </table>
      </div>
      <div>
        <asp:GridView ID="gvImages" CssClass="Gridview" runat="server" AutoGenerateColumns="False" HeaderStyle-BackColor="#7779AF" HeaderStyle-ForeColor="white">
          <Columns>
            <asp:BoundField HeaderText = "Image Name" DataField="imagename" />
            <asp:TemplateField HeaderText="Image">
              <ItemTemplate>
                <asp:Image ID="Image1" runat="server" ImageUrl='<%# "ImageHandler.ashx?ImID="+ Eval("ImageID") %>' Height="150px" Width="150px"/>
              </ItemTemplate>
            </asp:TemplateField>
          </Columns>
        </asp:GridView>
      </div>
    </form>
  </body>
</html> 
```

我的代码是这样的

```
string strcon = ConfigurationManager.ConnectionStrings["dbconnection"].ConnectionString;
protected void Page_Load(object sender, EventArgs e)
{
  if (!IsPostBack)
  {
    BindGridData();
  }
}
/// <summary>
/// btnUpload_Click event is used to upload images into database
/// </summary>
/// <param name="sender"></param>
/// <param name="e"></param>
protected void btnUpload_Click(object sender, EventArgs e)
{
  //Condition to check if the file uploaded or not
  if (fileuploadImage.HasFile)
  {
    //getting length of uploaded file
    int length = fileuploadImage.PostedFile.ContentLength;
    //create a byte array to store the binary image data
    byte[] imgbyte = new byte[length];
    //store the currently selected file in memeory
    HttpPostedFile img = fileuploadImage.PostedFile;
    //set the binary data
    img.InputStream.Read(imgbyte, 0, length);
    string imagename = txtImageName.Text;
    //use the web.config to store the connection string
    SqlConnection connection = new SqlConnection(strcon);
    connection.Open();
    SqlCommand cmd = new SqlCommand("INSERT INTO Image (ImageName,Image) VALUES (@imagename,@imagedata)", connection);
    cmd.Parameters.Add("@imagename", SqlDbType.VarChar, 50).Value = imagename;
    cmd.Parameters.Add("@imagedata", SqlDbType.Image).Value = imgbyte;
    int count = cmd.ExecuteNonQuery();
    connection.Close();
    if (count == 1)
    {
      BindGridData();
      txtImageName.Text = string.Empty;
      ScriptManager.RegisterStartupScript(this, this.GetType(), "alertmessage", "javascript:alert('" + imagename + " image inserted successfully')", true);
    }
  }
}
/// <summary>
/// function is used to bind gridview
/// </summary>
private void BindGridData()
{
  SqlConnection connection = new SqlConnection(strcon);
  SqlCommand command = new SqlCommand("SELECT imagename,ImageID from [Image]", connection);
  SqlDataAdapter daimages = new SqlDataAdapter(command);
  DataTable dt = new DataTable();
  daimages.Fill(dt);
  gvImages.DataSource = dt;
  gvImages.DataBind();
  gvImages.Attributes.Add("bordercolor", "black");
}
string strcon = ConfigurationManager.AppSettings["ConnectionString"].ToString();
public void ProcessRequest(HttpContext context)
{
  string imageid = context.Request.QueryString["ImID"];
  SqlConnection connection = new SqlConnection(strcon);
  connection.Open();
  SqlCommand command = new SqlCommand("select Image from Image where ImageID=" + imageid, connection);
  SqlDataReader dr = command.ExecuteReader();
  dr.Read();
  context.Response.BinaryWrite((Byte[])dr[0]);
  connection.Close();
  context.Response.End();
} 
```

但是当运行这个应用程序时，会出现这个错误

```
无法将值 NULL 插入到列“ImageId”、表“DressDB .dbo.Image”中；列不允许空值。插入失败。
该语句已终止。

```

请问我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:29:33.803

Mahmoud Gamal 是正确的，但是如果您觉得使用 Management Studio 中的设计视图更舒服，那么您正在寻找的选项是：

![如何在设计器中将列设置为标识](../Images/10e02437d237458788c66053164b7093.png)

这会将第一个插入行的值设置为 1，然后对于插入到表中的每个新行将该计数器增加 1。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:08:33.320

错误很明显。您不能在此列中插入 NULL 值，因为它不允许`NULL`值。

> 请问我该如何解决？

使该列`ImageId`自动递增，如下所示：

```
ALTER TABLE Images
ALTER IMAGE_ID INT NOT NULL IDENTITY(1, 1); 
```

然后你的`INSERT`陈述：

```
INSERT INTO Image (ImageName,Image) VALUES (@imagename,@imagedata) 
```

应该可以正常工作。

但是在您的表已经包含数据的情况下，您不能像@Damien_The_Unbeliever 指出的那样直接执行此操作。在这种情况下¹：

> 你有2个选择，
> 
> *   创建具有标识的新表并删除现有表
>     
>     
> *   创建具有标识的新列并删除现有列

有关详细信息，请参阅以下问题：

*   [**向现有列添加标识**。](https://stackoverflow.com/questions/1049210/adding-an-identity-to-an-existing-column)

* * *

^(¹引用自此[答案](https://stackoverflow.com/a/1049305/722783))

# silverlight - 如何使 XAML 样式覆盖绑定？

> ID：12703426
> 
> 赞同：0
> 
> 时间：2012-10-03T07:03:02.690
> 
> 标签：silverlight, windows-runtime

此问题适用于 WinRT，但也可能适用于 Silverlight。假设我已经对 ListView/ListBox 的 Background 属性进行了数据绑定，但我希望该数据绑定仅在应用特定*主题*时才存在。我使用XAML 样式的[合并字典实现了主题。](http://msdn.microsoft.com/en-us/library/windows/apps/hh968442.aspx)当应用不同的主题时，我希望它由样式静态定义。

有没有办法只使用 XAML 来实现这一点？

我尝试在 ListView 标记本身的“背景”之后放置“样式”属性，以查看属性的顺序是否重要，但这似乎没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T17:53:36.053

尼尔佐 -

这似乎是您将使用自定义转换器的地方。这样，当绑定发生时，您可以运行逻辑测试和任意代码以返回绑定可接受的值。

WinRT 项目附带了一个自定义转换器的示例，我相信它被命名为 BooleanToVisibility Converter。

记录一下：这不需要是转换（即绑定对象是 bool，转换为 Visibility 并将其返回到 Visibility 属性）它可以是一个逻辑测试——绑定对象是 XYZ 派生自 ABC 并且如果 XYZ。 Parent.SomeProperty == someValue 返回不同的 ABC。

这是用于创建/实现它们的堆栈溢出链接： [绑定到自定义转换器的属性](https://stackoverflow.com/questions/11234618/binding-to-a-property-of-a-custom-converter)

# .htaccess - .htaccess 为规则组添加一个 !not 条件

> ID：12703429
> 
> 赞同：0
> 
> 时间：2012-10-03T07:03:18.457
> 
> 标签：.htaccess, mod-rewrite, clean-urls

为了适应一些 ajax，我正在进行基本的 .htaccess 重写。

文件夹结构

```
main.html
alpha/
      alpha.php
      alpha.html 
```

main.html 包含一个调用 alpha/alpha.php 的 div，alpha/alpha.html 还包含 alpha.php 的静态包含。

我想要一个调用 alpha/alpha.html 的干净 url www.myUrl.com/alpha。

如何为一组规则添加一个 !NOT 条件，这样我就不必在每个规则上都包含它，例如`[^(html|php)]`从组中的每个规则中删除，即

```
set the following condition
^[^(html|php)]$
for

RewriteRule ^(.*)_aaa$ %{DOCUMENT_ROOT}/$1/$1.html [L]
RewriteRule ^(.*)_bbb$ %{DOCUMENT_ROOT}/$1/$1.html [L]
RewriteRule ^(.*)_ccc$ %{DOCUMENT_ROOT}/$1/$1.html [L]

end condition and do not apply for 
RewriteRule ^(.*)_ddd$ %{DOCUMENT_ROOT}/$1/$1.html [L] 
RewriteRule ^(.*)_eee$ %{DOCUMENT_ROOT}/$1/$1.html [L]` 
```

当前的.htaccess

```
Options +ExecCGIn
Options -indexes

DirectoryIndex main.html

Options +FollowSymLinks
RewriteEngine on
RewriteBase /

# main start page
RewriteRule ^main$ main.html [L] 

# clean for alpha
# myUrl.com/alpha
RewriteRule ^(.*)[^(html|php)]$ %{DOCUMENT_ROOT}/$1/$1.html [L] 
```

谢谢艺术

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:46:07.357

尝试使用消极的后视：

```
RewriteRule ^(.*)(?<!html|php)$ %{DOCUMENT_ROOT}/$1/$1.html [L] 
```

时髦的小意思`(?<!html|php)$`是：字符串 ( `$`)的结尾**没有**a`html`或`php`。

* * *

编辑：

鉴于：

```
set the following condition
^[^(html|php)]$
for

RewriteRule ^(.*)_aaa$ %{DOCUMENT_ROOT}/$1/$1.html [L]
RewriteRule ^(.*)_bbb$ %{DOCUMENT_ROOT}/$1/$1.html [L]
RewriteRule ^(.*)_ccc$ %{DOCUMENT_ROOT}/$1/$1.html [L]

end condition and do not apply for 
RewriteRule ^(.*)_ddd$ %{DOCUMENT_ROOT}/$1/$1.html [L] 
RewriteRule ^(.*)_eee$ %{DOCUMENT_ROOT}/$1/$1.html [L]` 
```

你要：

```
# If this matches, (the opposite of !(html|php)), skip all of the following rules (3 of them)
RewriteRule \.(php|html)$ - [S=3]

RewriteRule ^(.*)_aaa$ %{DOCUMENT_ROOT}/$1/$1.html [L]
RewriteRule ^(.*)_bbb$ %{DOCUMENT_ROOT}/$1/$1.html [L]
RewriteRule ^(.*)_ccc$ %{DOCUMENT_ROOT}/$1/$1.html [L]

# if first condition matched, we skipped to here
RewriteRule ^(.*)_ddd$ %{DOCUMENT_ROOT}/$1/$1.html [L] 
RewriteRule ^(.*)_eee$ %{DOCUMENT_ROOT}/$1/$1.html [L]` 
```

# android - 我无法配置 Intent 和 BroadcastReceiver

> ID：12703433
> 
> 赞同：3
> 
> 时间：2012-10-03T07:03:28.433
> 
> 标签：android, android-intent, broadcastreceiver

我想从“class gps_Listener”创建“Intent”并在“class LocationChangedReceiver”中发送参数

我的班级 gps_Listener

```
public class gps_Listener implements LocationListener {

        public void onLocationChanged(Location location) {
            // TODO Auto-generated method stub
            send("I found the location");

        }

        public void onProviderDisabled(String provider) {
            // TODO Auto-generated method stub

        }

        public void onProviderEnabled(String provider) {
            // TODO Auto-generated method stub

        }

        public void onStatusChanged(String provider, int status, Bundle extras) {
            // TODO Auto-generated method stub

        }

        public void send(String str) {
            Intent intent = new Intent("logGPS");
            intent.putExtra("Message", str);
            sendBroadcast(intent);   //-  without context does not work

        }

    } 
```

和类 LocationChangedReceiver

```
public class LocationChangedReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {
        // TODO Auto-generated method stub

    }

} 
```

我不知道该怎么做，因为你可以看到没有“上下文”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:05:50.047

您可以在创建时将上下文传递给您的侦听器。所以你可以在你的发送方法中使用它：

```
public class gps_Listener implements LocationListener {
    private Context context;

    public gps_Listener(Context context) {
        this.context = context;
    }

    ...

    public void send(String str) {
        Intent intent = new Intent("com.your.package.YOUR_ACTION");
        intent.putExtra("Message", str);
        context.sendBroadcast(intent);
    }
} 
```

以这种方式创建它：

```
gps_Listener myListener = new gps_Listener(yourContext);
LocationManager myManager = (LocationManager)getSystemService(LOCATION_SERVICE);
myManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, myListener); 
```

请记住在清单中注册您的广播接收器（您也可以动态取消/注册）：

```
<receiver android:name=".receivers.LocationChangedReceiver" android:enabled="true">
   <intent-filter>
       <action android:name="com.your.package.YOUR_ACTION"></action>
   </intent-filter>
</receiver> 
```

# python - 以 LCD 格式显示系统时钟时间

> ID：12703434
> 
> 赞同：3
> 
> 时间：2012-10-03T07:03:33.863
> 
> 标签：python, pyqt4

我只想以 LCD 格式显示系统时钟时间。我还希望使用`hh:mm:ss`格式显示时间。我的代码如下。但是当我运行它时，它并不像我预期的那样。谁能解释为什么？

```
import sys
from PySide import QtGui, QtCore

class Example(QtGui.QWidget):

    def __init__(self):
        super(Example, self).__init__()
        self.initUI()
        timer = QtCore.QTimer(self)
        timer.timeout.connect(self.showlcd)
        timer.start(1000)
        self.showlcd()

    def initUI(self):

        self.lcd = QtGui.QLCDNumber(self)
        self.setGeometry(30, 30, 800, 600)
        self.setWindowTitle('Time')

        vbox = QtGui.QVBoxLayout()
        vbox.addWidget(self.lcd)
        self.setLayout(vbox)

        self.show()

    def showlcd(self):
        time = QtCore.QTime.currentTime()
        text = time.toString('hh:mm:ss')
        self.lcd.display(text)

def main():

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())

if __name__ == '__main__':
    main() 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-03T07:24:19.180

`QLCDNumber`有一个固定的数字显示 ( [`QLCDNumber.digitCount`](http://doc.qt.digia.com/4.6/qlcdnumber.html#digitCount-prop))，其默认值为`5`. 因此，您的文本被截断为最后 5 个字符。您应该设置一个适当的值（在您的情况下为 8）。

```
import sys
from PySide import QtGui, QtCore

class Example(QtGui.QWidget):

    def __init__(self):
        super(Example, self).__init__()
        self.initUI()
        timer = QtCore.QTimer(self)
        timer.timeout.connect(self.showlcd)
        timer.start(1000)
        self.showlcd()

    def initUI(self):

        self.lcd = QtGui.QLCDNumber(self)
        self.lcd.setDigitCount(8)          # change the number of digits displayed
        self.setGeometry(30, 30, 800, 600)
        self.setWindowTitle('Time')

        vbox = QtGui.QVBoxLayout()
        vbox.addWidget(self.lcd)
        self.setLayout(vbox)

        self.show()

    def showlcd(self):
        time = QtCore.QTime.currentTime()
        text = time.toString('hh:mm:ss')
        self.lcd.display(text)

def main():

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())

if __name__ == '__main__':
    main() 
```

# c - 使用外部 makefile 进行正确的语法检查

> ID：12703435
> 
> 赞同：0
> 
> 时间：2012-10-03T07:03:34.143
> 
> 标签：c, eclipse, makefile

我制作了一个 Makefile 项目（新建 -> C 项目 -> Makefile 项目）。它可以正确编译。

但是语法检查器不能正常工作，因为 Eclipse 没有从 makefile 中导入一些重要的选项。-I（标题文件夹）例如。

如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T23:08:04.253

Eclipse 使用您的 makefile 生成的构建输出来解析编译标志、包含路径、预定义的宏等。它期望您的构建系统回显它执行的每个命令。

也就是说，如果输出如下所示，它将**不起作用**`make`：

```
[CC] foo.o
[CC] bar.o
[LD] baz 
```

确保它打印原始命令，例如：

```
gcc -Ipath/to/include -DFOO=1 -O2 ... -o foo.o -c foo.c
gcc -Ipath/to/include ... -o bar.o -c bar.c
ld foo.o bar.o -o baz 
```

一些构建工具提供了启用详细模式的选项（如`make V=1`）。但是，手写的 makefile 通常是可以的，因为 Make 默认会回显执行的命令。

在这种情况下，Eclipse 将能够识别构建选项（如`path/to/include`或`FOO=1`）并使用它们来设置 C/C++ 索引器。

## 相关项目设置

配置项目：

*   在*C/C++ Build -> Discovery Options*检查这些条目：
    *   **自动发现路径和符号**
    *   发现配置文件：**每个文件扫描仪信息配置文件的 GCC**
    *   **启用构建输出扫描器信息发现**

之后，您需要从 Eclipse 内部执行新的构建（**Clean Project**，然后是**Build Project**），以便它会看到完整的构建日志。

这个功能相当脆弱，有时会被破坏......通常它有助于使用*Project -> Index -> Rebuild*刷新索引。

# android - 安卓外接触摸屏

> ID：12703437
> 
> 赞同：1
> 
> 时间：2012-10-03T07:03:50.403
> 
> 标签：android, wpf, touch, multi-touch, kiosk

我有一个带 IR 输入的 42 英寸多点触控显示器。我想开发用于多点触控输入的应用程序，我计划使用 android。有什么方法可以获取触摸输入吗？当我们使用 WPF 时，必须依赖 PC。我真的很困惑如何通过！请帮帮我。在ANDROID中是否可以使用独立显示器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T08:30:34.990

一般来说，让 Android（至少在 ICS 下）包含触摸屏 HID 驱动程序的唯一选择似乎是从源代码重新编译 Android。

[以下是您所描述目的的一些说明](http://kafana.org/posts/pandaboard_android_ics/)（它们还需要[PandaBoard](http://pandaboard.org)单板计算机作为中介）。

[xda-developers 上有一个人试图使用 Android USB 主机功能和仅](http://forum.xda-developers.com/showthread.php?p=30210471#post30210471)在三星 Galaxy S3 上的 MHL 来做到这一点，但没有任何一种方式证实他曾经得到过这种工作。

# facebook - 获取 Facebook 页面的页面 access_token（使用 Graph API）

> ID：12703439
> 
> 赞同：0
> 
> 时间：2012-10-03T07:04:10.710
> 
> 标签：facebook, facebook-graph-api, facebook-access-token

我正在尝试访问公共 FB 社区页面并在网页上显示图像，例如-http://www.codeofaninja.com/2011/06/display-facebook-photos-to-your-website.html 我的网站是正在用java开发，所以我正在寻找一个核心java解决方案来做这样的事情。

我的网站没有提示用户通过 Facebook 登录或进行身份验证。我只是想在我的网站上显示我自己相册中的所有图像。

我创建了一个 FB 应用程序，然后创建了一个社区页面，上面有我的照片。

我正在努力使用我的应用程序或页面从我的后端代码进行身份验证。我的应用程序具有 user_photos 权限，并且应用程序类型（应用程序->您的应用程序->高级->应用程序类型）是 Web。

以下是我使用图形 API 尝试过的事情：1）获取访问令牌

```
https://graph.facebook.com/oauth/access_token?client_id=ABC&client_secret=XYZ&grant_type=client_credentials 
```

2）然后使用访问令牌来访问页面及其相册，但上面给了我应用程序 access_token。如[Page 的 Graph API 文档中](https://developers.facebook.com/docs/reference/api/page/#page_access_tokens)所述，它需要一个页面 access_token，但我不明白如何通过带有后端应用程序的应用程序 access_token 获取 page_access_token。

检索到页面访问令牌后，我可以使用以下调用来检索所有照片。

```
https://graph.facebook.com/PAGE_ID/photos?access_token=<page_access_token> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-27T22:23:31.600

您可以进行以下 Graph API 调用来获取特定用户管理员的所有页面的页面访问令牌。

```
https://graph.facebook.com/user_id/accounts?access_token=<user_acess_token> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T16:33:44.440

您从中检索的应用访问令牌

> [https://graph.facebook.com/oauth/access_token?client_id=ABC&client_secret=XYZ&grant_type=client_credentials](https://graph.facebook.com/oauth/access_token?client_id=ABC&client_secret=XYZ&grant_type=client_credentials)

可用于访问页面上的公共数据 - 您不需要特定的“页面”访问令牌。

此页面[https://developers.facebook.com/tools/explorer/](https://developers.facebook.com/tools/explorer/)便于测试 - 插入应用程序访问令牌和页面 url 进行试用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T09:56:25.437

> 但我不明白如何通过带有后端应用程序的应用程序 access_token 获取 page_access_token。

一点也不……</p>

要获取*页面*访问令牌，您必须首先拥有具有权限的*用户*访问令牌`manage_pages`。

（如果你得到一个长期存在的用户访问令牌，并使用它来获取页面访问令牌，那么后者默认不会过期。）

# php - Facebook登录未将数据输入mysql

> ID：12703441
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:04:23.237
> 
> 标签：php, html, mysql, facebook

我正在学习如何在教程的帮助下使用 Facebook 登录，运行得最多，但数据没有输入到数据库中。

到目前为止，这里的代码可以正常工作

```
<?php
require 'lib/db.php';
require 'lib/facebook.php';
require 'lib/fbconfig.php';
session_start();
$facebook=$_SESSION['facebook'];
$userdata=$_SESSION['userdata'];
$logoutUrl=$_SESSION['logout'];
$access_token_title='fb_'.$facebook_appid.'_access_token';
$access_token=$facebook[$access_token_title];

if(!empty($userdata))
{
echo '<h1>Login User Details</h1>';
echo '<img src="https://graph.facebook.com/'.$userdata['id'].'/picture">';
echo "<br/>";
echo '<b>Access Token: </b>'.$access_token;
echo "<br/>";
echo '<b>User ID: </b>'.$userdata['id'];
echo "<br/>";
echo  '<b>Name: </b>'.$userdata['name'];
echo "<br/>";
echo  '<b>First Name: </b>'.$userdata['first_name'];
echo "<br/>";
echo  '<b>Last Name: </b>'.$userdata['last_name'];
echo "<br/>";
echo  '<b>Email: </b>'.$userdata['email'];
echo "<br/>";
echo  '<b>Gender: </b>'.$userdata['gender'];
echo "<br/>";
echo  '<b>Birthday: </b>'.$userdata['birthday'];
echo "<br/>";
echo  '<b>Location: </b>'.$userdata['location']['name'];
echo "<br/>";
echo  '<b>Hometown: </b>'.$userdata['hometown']['name'];
echo "<br/>";
echo  '<b>Bio :</b>'.$userdata['bio'];
echo "<br/>";
echo  '<b>Relationship Status: </b>'.$userdata['relationship_status'];
echo "<br/>";
echo  '<b>Time Zone: </b>'.$userdata['timezone'];
echo "<br/>";
echo "<br/>";

$facebook_id=$userdata['id'];
$name=$userdata['name'];
$email=$userdata['email'];
$gender=$userdata['gender'];
$birthday=$userdata['birthday'];
$location=mysql_real_escape_string($userdata['location']['name']);
$hometown=mysql_real_escape_string($userdata['hometown']['name']);
$bio=mysql_real_escape_string($userdata['bio']);
$relationship=$userdata['relationship_status'];
$timezone=$userdata['timezone'];
echo "$add = mysql_query('insert INSERT INTO users(`facebook_id`, `name`, `email`, `gender`, `birthday`, `location`, `hometown`, `bio`, `relationship`, `timezone`, `access_token`) 
VALUES ('$facebook_id','$name','$email','$gender','$birthday','$location','$hometown','$bio','$relationship','$timezone','$access_token')</span>";

echo "<br/>";

 echo '<a href="'.$logoutUrl.'">Logout Facebook</a>';
 }
 else
 {
  header("Location: fblogin.php");
 }
 ?> 
```

显然做错了什么。那么有谁知道任何可以帮助我解决这个问题的教程？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:12:09.827

您的查询中的错误

```
echo "$add = mysql_query('insert INSERT INTO users(`facebook_id`, `name`, `email`, `gender`, `birthday`, `location`, `hometown`, `bio`, `relationship`, `timezone`, `access_token`) VALUES ('$facebook_id','$name','$email','$gender','$birthday','$location','$hometown','$bio','$relationship','$timezone','$access_token')</span>"; 
```

应该

```
$add = mysql_query("INSERT INTO users(`facebook_id`, `name`, `email`, `gender`, `birthday`, `location`, `hometown`, `bio`, `relationship`, `timezone`, `access_token`) VALUES ('$facebook_id','$name','$email','$gender','$birthday','$location','$hometown','$bio','$relationship','$timezone','$access_token')"); 
```

并尝试使用`PDO`or`mysqli`代替`mysql`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:06:14.090

你不插入任何东西。

做就是了：

```
$add = mysql_query("INSERT INTO users(`facebook_id`, `name`, `email`, `gender`, `birthday`, `location`, `hometown`, `bio`, `relationship`, `timezone`, `access_token`) 
VALUES ('$facebook_id','$name','$email','$gender','$birthday','$location','$hometown','$bio','$relationship','$timezone','$access_token')"); 
```

没有那个`echo`。

作为旁注，我看到您仍在使用函数，如果您刚刚开始，`mysql_*`您可以移至函数已弃用。[这是一个很好的教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)。`PDO``mysql_*`

以下是使用 PDO 完成此操作的方法：

```
$db = new PDO('mysql:host=localhost;dbname=testdb;charset=UTF-8', 'username', 'password', array(PDO::ATTR_EMULATE_PREPARES => false, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION));

$stmt = $db->prepare("INSERT INTO users(`facebook_id`, `name`, `email`, `gender`, `birthday`, `location`, `hometown`, `bio`, `relationship`, `timezone`, `access_token`) 
    VALUES (:facebook_id,:name,:email,:gender,:birthday,:location,:hometown,:bio,:relationship,:timezone,:access_token)");
$stmt->execute(array(':facebook_id' => $facebook_id, ':name' => $name, ':email' => $email, ':gender' => $gender, ':birthday' => $birthday, ':location' => $location, ':hometown' => $hometown, ':bio' => $bio, ':relationship' => $relationship, ':timezone' => $timezone, ':access_token' => $access_token)); 
```

# xpath - 如何从 Tibco ActiveMatrix 的 Java 方法中检查空值

> ID：12703446
> 
> 赞同：0
> 
> 时间：2012-10-03T07:04:41.027
> 
> 标签：xpath, null, tibco, businessworks

我在从 Tibco ActiveMatrix 进程中的 Java 方法组件检查空值时遇到问题。

基本上，我有一个 Java 方法组件调用 java 来获取一个计费帐户，如果返回为 null，我想记录搜索条件 - 计费帐户 id；否则，我会将对象映射为 XML 内容...

问题是在“XPath”中使用以下内容来检查转换中的空对象（有条件成功）：

*   空（$Get-BA-Details/ns5:JavaMethodActivityOutput/MethodReturnValue
*   计数（$Get-BA-Details/ns5:JavaMethodActivityOutput/MethodReturnValue）= 0
*   字符串长度（$Get-BA-Details/ns5:JavaMethodActivityOutput/MethodReturnValue）= 0

*'$Get-BA-Details' 是 Java 方法组件。*

他们都返回'false'，然后尝试将java对象映射为XML内容，这导致找不到计费帐户时出错。

任何人都可以点亮一些灯吗？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T21:39:28.283

据我所知，您无法检查 Java 方法活动的返回是否`null`使用 XPath。相反，您可以创建一个 Java 代码活动，该活动将 a`ObjectReference`作为输入参数并提供 a`boolean`作为输出参数。然后，您可以使用如下代码来检查对象是否是`null`（`object`是输入参数并且`isnull`是输出参数）：

```
isnull = object == null; 
```

我在BWUnit的最新快照中为此创建了[BWUnit测试，您可以从](http://windyroad.org/software/bwunit/)[http://windyroad.org/software/bwunit/download/BWUnit-11.2.zip下载](http://windyroad.org/software/bwunit/download/BWUnit-11.2.zip)

测试位于下载`StackOverflow/UnitTestSuite/JavaMethodNullTestCase`中的简单示例中`Examples/Simple`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T19:35:32.490

尝试这个：

$Get-BA-Details/ns5:JavaMethodActivityOutput/MethodReturnValue=""

# javascript - 悬停文本链接时显示图像？

> ID：12703447
> 
> 赞同：0
> 
> 时间：2012-10-03T07:04:47.137
> 
> 标签：javascript, jquery, css, image, hyperlink

我有一个菜单，我想在用户将鼠标悬停在链接上时显示图像。到目前为止，我已经尝试过 CSS 和 JavaScript，但我似乎仍然有问题。

使用 html 和 css，图像似乎相互隐藏。使用 JS，所有图像都会在页面加载时首先显示。否则它工作正常。

非常感谢任何帮助，因为我为此付出了很多努力。

提前致谢。

编辑： display:none 和 overflow:hidden 都成功了！非常感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:10:44.833

在 page_id=1401 的第二个链接上，您似乎需要将溢出设置为隐藏。

尝试将您的 CSS 文件中从第 2208 行开始的完整类更改为

```
.full {
width: 100%;
height: 465px;
overflow:hidden;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:10:51.277

在第二个示例中，您可以将`style="display: none;"`div 添加到*1*到*7*。
现在它们在加载时可见，但这将在加载时隐藏它们。

# quartz-scheduler - 关于对集群和非集群调度程序使用同一组石英表

> ID：12703451
> 
> 赞同：3
> 
> 时间：2012-10-03T07:04:57.360
> 
> 标签：quartz-scheduler

我有必须在集群模式下运行的作业以及需要在每个节点中运行的作业。我还需要非集群作业是持久的，因此我创建了两个调度程序，一个以集群模式运行，另一个以非集群模式运行，两者都使用与作业存储相同的一组石英表。这个设计有问题吗？我从 Quartz 配置参考中看到以下语句（http://quartz-scheduler.org/documentation/quartz-2.1.x/configuration/ConfigJDBCJobStoreClustering）

永远不要针对任何其他实例正在运行 (start()ed) 的同一组数据库表启动 (scheduler.start()) 非集群实例。您可能会遇到严重的数据损坏，并且肯定会遇到不稳定的行为但是没有解释，我不清楚这是否真的意味着。在不创建另一组石英表的情况下是否有其他选择。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-03T08:25:07.763

如果您启动两个不同名称的调度程序，您可以毫无问题地重用相同的表。作业、触发器和所有其他 Quartz 实体由包含调度程序名称的复合主键标识。这意味着集群调度程序使用不同的记录子集，并且永远不会接触非集群的记录。

另一种解决方案是使用不同的表集。Qurtz 允许您基于调度程序定义表前缀。

文档中的注释是关于具有相同调度程序名称的两个非集群应用程序使用相同数据库的情况。然后他们会严重地打断对方并引起各种问题。

# android - Android - 任何用于设计和生成 XML 的第三方工具？

> ID：12703466
> 
> 赞同：5
> 
> 时间：2012-10-03T07:06:03.457
> 
> 标签：android, xml, android-layout

是否有任何第三方工具可以让我们为 android 设计布局，然后相应地生成它们的 xml 文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:08:11.123

[IntelliJ IDEA 12](http://www.jetbrains.com/idea/download/index.html)有一个用于布局的图形编辑器，它还可以动态生成 XML。反过来也一样。IntelliJ IDEA 的社区版是免费和开源的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T08:30:21.910

有一种叫做[DroidDraw](http://www.softpedia.com/get/Programming/Coding-languages-Compilers/DroidDraw.shtml)的东西，您可以使用它轻松生成 xml 文件。它是一个用户界面（UI）设计器/编辑器。您需要将小部件拖放到编辑器中，然后它将生成相应的 xml 代码。希望它有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:16:32.023

您可以使用外部编辑器。但我建议使用 XML 本身，因为您可以获得更大程度的控制。

作为一个简化的示例，您可以使用可视布局编辑器将文本框拖到合适的大小。但它可能仅适用于您用于测试它的特定屏幕尺寸和分辨率。相反，如果您使用像“wrap-content”这样的 xml 属性，那么您的文本框将自动重新调整其大小以将文本包含在其中，并且这将在所有屏幕尺寸/分辨率下可靠地发生。

当然，您仍然需要针对您计划使用应用程序定位的屏幕尺寸和分辨率来微调和调整布局，但只是为了获得细粒度控制和准确性，强烈建议直接使用 xml我的意见。

一旦你掌握了窍门，这也不是那么难:-)

# ruby-on-rails - Rails 3 - 创建新的 HABTM 关联时未更新连接表

> ID：12703471
> 
> 赞同：3
> 
> 时间：2012-10-03T07:06:25.970
> 
> 标签：ruby-on-rails, ruby-on-rails-3, has-and-belongs-to-many, jointable

我在过去的三天里一直在做这个，我在任何地方都找不到任何答案。我正在尝试学习 Rails，我从一个看起来非常简单的应用程序开始。

我有 2 个模型：

```
class Album < ActiveRecord::Base

  has_and_belongs_to_many :users

  attr_accessible :title

end 
```

和

```
class User < ActiveRecord::Base

  has_and_belongs_to_many :albums

  attr_accessible :first_name, :last_name

end 
```

我还创建了连接表

```
create_table "albums_users", :id => false
    t.integer "album_id"
    t.integer "user_id" 
```

我的 users/show.html.erb 文件包含一个表单

```
<%= form_for([@user, @user.albums.build]) do |f| %> 
```

发送此表单时，它会调用我的相册#create 控制器

```
 def create
    @user = User.find(params[:user_id])
    @album = @user.albums.cre(params[:album])  
    @album.save
  end 
```

这会创建一个新专辑，但不会在连接表中创建条目。

在查看提交表单时发送的参数哈希时，我有

```
Parameters: {"utf8"=>"✓", "commit"=>"Create Album", "user_id"=>"1", "authenticity_token"=>"XNCPLYWQRzjpuQfjqbR7XuhMjr5iRzjLiqXpqZ4spFo=", "album"=>{"event"=>"title"=>"My Title"}} 
```

并且 SQL 请求不使用参数哈希中的 user_id 值

> SQL (3.4ms) INSERT INTO "albums" ("title", "user_id") VALUES (?, ?) [["title", "My Title"],["user_id", nil]]

我尝试使用 user_id 将 hidden_​​field 添加到我的表单中，但随后出现此错误

```
Can't mass-assign protected attributes: user_id 
```

有人可以解释一下我的模型和关联有什么问题吗？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T08:02:45.863

1.  对 has_many 关联使用复数
2.  直接在用户的相册中构建相册

    ```
    @album = @user.album.create(params[:album]) 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:53:01.343

user_id 不是 params 哈希的专辑子哈希的一部分，因此在保存专辑时不可能添加用户。

一个简单的解决方案是这样的：

```
def create
    @user = User.find(params[:user_id])
    @album = @user.album.build(params[:album])  
    @album.save
end 
```

# javascript - 在 Dygraph.js 中隐藏标签

> ID：12703475
> 
> 赞同：2
> 
> 时间：2012-10-03T07:07:16.553
> 
> 标签：javascript, dygraphs

我在某个特定点画一条线，但我想要的是我可以隐藏图例中该特定线的标签，或者我可以更改图例中该线的值

注意：绘制线的值和图例中的值应该相同。这是我的要求之一

这怎么可能 ？任何帮助将不胜感激 。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:39:57.490

啊，我找到了。值格式化程序是我需要的东西。我能够在 dygraph 选项参考中的 valueFormatter 属性的帮助下更改值。

# c# - 使用 Unity 作为 AOP 框架时缺少完整的堆栈跟踪

> ID：12703481
> 
> 赞同：3
> 
> 时间：2012-10-03T07:08:20.903
> 
> 标签：c#, .net, unity-container, aop

我注意到当使用 Unity 作为 AoP 框架时，尤其是 VirtualMethodInterceptor + CallHandler。

我得到的堆栈跟踪不包括原始代码。相反，它有一个 xxx_wrapper_yyyy 类型的类，我假设它是一个从原始类动态继承的类。可以理解，由于没有为动态类编写源代码，因此它没有报告原始代码中发生错误的行号。

我怎样才能改变这个？我需要抛出异常的堆栈跟踪和行号。

仅供参考，呼叫处理程序正在按预期工作。唯一的例外是缺少发生它的原始虚拟方法的行号。并且没有调用处理程序不包含任何会吞下或处理异常的行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T11:22:33.427

使用此代码

```
[TestMethod]
public void Should_Wrap_Exception_ThrownByTarget()
{
  var container = new UnityContainer();
  container.RegisterType<Target>(
    new Interceptor<VirtualMethodInterceptor>(), 
    new InterceptionBehavior<PolicyInjectionBehavior>());
  container.AddNewExtension<Interception>();
  var config = container.Configure<Interception>();
  config.AddPolicy("1").AddCallHandler<ExceptionHandler>().AddMatchingRule<AlwaysMatches>();
  var target = container.Resolve<Target>();
  target.AlwaysThrows("foo");
}
public class AlwaysMatches : IMatchingRule
{
  public bool Matches(MethodBase member)
  {
    return true;
  }
}
public class ExceptionHandler : ICallHandler
{
  public int Order { get; set; }
  public IMethodReturn Invoke(IMethodInvocation input, GetNextHandlerDelegate getNext)
  {
    IMethodReturn r = getNext()(input, getNext);
    if (r.Exception != null)
    {
      throw new InvalidOperationException("CallHandler", r.Exception);
    }
    return r;
  }
}
public class Target
{
  public virtual string AlwaysThrows(string foo)
  {
    throw new Exception("Boom!");
  }
} 
```

我得到一个看起来像这样的堆栈跟踪

```
 at UnityExceptionAspect.Target.AlwaysThrows(String foo) in C:\VisualStudio\Evaluation\UnityExceptionAspect\Target.cs:line 9
   at DynamicModule.ns.Wrapped_Target_c49f840ef38c41d7b4d5956223e95f73.<AlwaysThrows_DelegateImplementation>__0(IMethodInvocation inputs, GetNextInterceptionBehaviorDelegate getNext) 
```

抱歉格式不好...

它肯定包含异常的原始来源，尽管它被有关生成类型的神秘信息所混淆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-31T16:38:47.147

只需将返回值的 Exception 设置为新的异常即可。例如：

```
public IMethodReturn Invoke(IMethodInvocation input, GetNextHandlerDelegate getNext)
{
    IMethodReturn r = getNext()(input, getNext);
    if (r.Exception != null) r.Exception = new Exception("NameOfInterceptor", r.Exception);
    return r;
} 
```

# java - 将字符串从 c jni 设置为 java

> ID：12703482
> 
> 赞同：0
> 
> 时间：2012-10-03T07:08:21.957
> 
> 标签：java, c, java-native-interface, jnienv

我在将字符串从 jni 设置为 java 类时遇到问题，我编写了 jni（在 c 中），我想将字符串从 jni 设置为 java 我确实喜欢这样

```
jclass cls;
jmethodID mid;

/* cls = (*env)->GetObjectClass(env, obj); */
cls = (*env)->FindClass (env,"com/example/lsextractor/LSCore");
jobject objRet = (*env)->AllocObject(env,cls);
jstring estr = (jstring)(*env)->NewStringUTF(env,(char*)"Hello");
mid = (*env)->GetMethodID(env, cls, "setTemplate","(Ljava/lang/String;)V");
(*env)->CallObjectMethod(env,objRet,mid,estr);

return (jint)1; 
```

但是这个方法不起作用我无法从我的类中获取字符串但我可以从我的 java 类中访问所有其他方法我无法将字符串从 jni 设置为 java 确实有这样做的想法，这是我的类

```
public byte[] getimage()
    {
        return this.Image;
    }
    public void setimage(byte[] rawImg)
    {
         this.Image=rawImg;
    }
    public String getTemplate()
    {
        return this.Template;
    }
    public void setTemplate(String Tmp)
    {
        this.Template = Tmp;
    }
    static
    {
    System.loadLibrary("test"); 
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:42:16.513

首先，您不应该使用`AllocObject`该函数，因为不会使用该函数调用构造函数。

试试这个：

```
mid = (*env)->GetMethodID(env, cls, "<init>", "()V");  
jobject objRet = (*env)->NewObject(env, cls, mid); 
```

这会给你一个初始化的对象。

* * *

第二个问题是你在打电话`CallObjectMethod`

正确的方法调用是：

```
(*env)->CallVoidMethod(env, objRet, mid, estr); 
```

那是因为`Void`函数的一部分是返回类型。您的调用试图调用返回的方法`Object`。

* * *

> **分配对象**
> 
> `jobject AllocObject(JNIEnv *env, jclass clazz);`
> 
> 分配一个新的 Java 对象，而不调用该对象的任何构造函数。返回对对象的引用。

# c# - 与在浏览器上运行的 Javascript 共享程序变量值

> ID：12703491
> 
> 赞同：3
> 
> 时间：2012-10-03T07:08:44.687
> 
> 标签：c#, javascript

我正在开发一个 C# windows 窗体应用程序，该应用程序在同一客户端 PC 中扫描客户端 PC 中的护照，用户将打开一个带有一些文本框的网页。

有什么方法可以与浏览器页面共享一些 windows 窗体应用程序的值？

（无论如何，是否可以通过浏览器 JavaScript 中的 RPC 或任何共享或发送这些值的机制来调用 Windows App 中的某些功能） ![](../Images/f7fc4e2fa81565574818d7d576e204db.png)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:13:04.893

您需要`http`在您的 C# 应用程序中实现一个可以响应 http 请求的小型服务器。然后，您的网页可以`GET`向适当的 URL 发出请求，以获取数据以填充字段。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T07:14:46.080

您可以将 Web 服务器用作可相互访问的资源。c# 应用程序可以向服务器发送数据，Web 浏览器可以使用 AJAX 轮询/侦听来自 Web 服务器的更新。如果 Windows 应用程序也连接到服务器，它可以从网页接收更新。

或者，如果您想在 Windows 应用程序和网站之间进行一次性数据共享，您可以：

*   在 Windows 应用程序中收集数据
*   发送到服务器
*   收到一个唯一的 ID
*   使用查询字符串中的唯一 ID 启动 Web 浏览器
*   网站查找刚刚由 Windows 应用程序发送的数据。

当然，还有其他方法可以做到这一点。我的目标是避免对正在使用的网络浏览器有任何了解，例如需要下载插件以促进浏览器和 Windows 应用程序之间的通信。

# java - 将此 Apache 重写规则转换为 tukey URLRewriteRule

> ID：12703492
> 
> 赞同：0
> 
> 时间：2012-10-03T07:08:45.747
> 
> 标签：java, apache, mod-rewrite, url-rewriting, tuckey-urlrewrite-filter

tukey.org [URLRewriteFilter](http://www.tuckey.org/urlrewrite/)可以用于让浏览器了解压缩 css 文件（如 css.gz）并运行它。

实际上，我在 PHP 中使用了这个 Apache Rewrite 规则，并且运行良好

```
RewriteEngine On
RewriteCond %{HTTP:Accept-Encoding} .*gzip.*
AddEncoding x-gzip .gz
AddType application/x-javascript .gz
AddType text/css .gz 
```

并且该规则可以转换为 tukey.or [URLRewriteFilter](http://www.tuckey.org/urlrewrite/) ???

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:46:59.043

你错了，这与mod_rewrite无关。您的配置中实际上有 2 个不相关的部分：

*   一个使用[mod_rewrite](http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html)指令，但没有`RewriteRule`，因此它不完整且无用（参见 的文档[`RewriteCond`](http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html#rewritecond)）：

    ```
    RewriteEngine On
    RewriteCond %{HTTP:Accept-Encoding} .*gzip.* 
    ```

*   和一个使用[mod_mime](http://httpd.apache.org/docs/2.4/mod/mod_mime.html)指令（不正确，因为它试图为同一`.gz`扩展设置 2 种类型）：

    ```
    AddEncoding x-gzip .gz
    AddType application/x-javascript .gz
    AddType text/css .gz 
    ```

所以不，你不能`URLRewriteFilter`这样做，因为它与重写 URL 无关，你真的想在你的 Apache 配置中使用[mod_deflate](http://httpd.apache.org/docs/2.4/mod/mod_deflate.html)。对于 Java 等效项，请参阅[Java deflate response](https://stackoverflow.com/questions/3813281/java-deflate-response)示例。

# javascript - impress.js - 如何添加下一个和上一个按钮

> ID：12703496
> 
> 赞同：1
> 
> 时间：2012-10-03T07:09:13.260
> 
> 标签：javascript, jquery, impress.js

我找到了这个：

```
impress().next();
impress().prev();
impress().goto(10); 
```

但我不知道如何使用它？有没有办法实现两个简单的按钮，它们可以进一步或返回一张幻灯片？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:13:36.783

好吧，我想通了：

```
<button id="prev"></button>
<button id="next"></button>

$("#next").click(function () {
   api.next();
});

$("#prev").click(function () {
   api.prev();
}); 
```

就是这样，比我想象的要容易。

# python - 文件名、目录、文本、python 文件夹子文件夹

> ID：12703497
> 
> 赞同：0
> 
> 时间：2012-10-03T07:09:17.213
> 
> 标签：python, file-io, directory, subdirectory

在您的帮助下，我制作了一个脚本，该脚本从文件夹 (/desktop/filme/) 中获取子文件夹 (/desktop/filme/1,2,3,4,5...) 的列表并保存每个文件名的名称另一个文件夹（/desktop/text/1.txt、/desktop/文本/2.txt...)。使用 txt 它可以正常工作，我希望它保存在 excel 中，就像我将它保存在 txt 中一样，因为我使用 xlwt。如果您有任何使其与其他库一起使用的想法，我会尝试一下。

这是保存txt-s的脚本：

```
import os
import os.path

for dirname, dirnames, filenames in os.walk(r"C:/Users/s/Desktop/filme/"):

    for subdirname in dirnames:

        foldere_filme = os.path.join(dirname, subdirname)
        numarul_folderelor = foldere_filme.replace("C:/Users/s/Desktop/filme/", "")
        print numarul_folderelor #1,2,3,4,5...
        root_text = "C:/Users/s/Desktop/text/"+numarul_folderelor+".txt"
        fisier_text = open(""+root_text+"", "w")
        for filenames in os.listdir(foldere_filme):
            numele_pt_text = filenames.replace(".avi", "")
            print numele_pt_text
            fisier_text.writelines(
                                "Full Movie: \n\n\nwatch "
                                +numele_pt_text+" online free, \nwatch "
                                +numele_pt_text+" online")
        fisier_text.close() 
```

我想将它用于使用 xlwt 或其他任何东西创建 excel：

```
import os
import xlwt
import os.path

for dirname, dirnames, filenames in os.walk(r"C:/Users/s/Desktop/filme/"):

    for subdirname in dirnames:
        foldere_filme = os.path.join(dirname, subdirname)
        numarul_folderelor = foldere_filme.replace("C:/Users/s/Desktop/filme/", "")
        print numarul_folderelor #1,2,3,4,5...
        wbk = xlwt.Workbook()
        sheet = wbk.add_sheet('sheet 1', cell_overwrite_ok=True)
        for filenames in os.listdir(foldere_filme):
            numele_pt_text = filenames.replace(".avi", "")
            print numele_pt_text
            sheet.write(0,0,numele_pt_text)
            sheet.write(1,0,numele_pt_text)
            sheet.write(2,0,numele_pt_text)
            sheet.write(3,0,numele_pt_text)
            sheet.write(4,0,numele_pt_text)
            sheet.write(5,0,numele_pt_text)
            sheet.write(6,0,numele_pt_text)
            sheet.write(7,0,numele_pt_text)
            sheet.write(8,0,numele_pt_text)
            sheet.write(9,0,numele_pt_text)
            wbk.save("C:/Users/s/Desktop/text/"+numarul_folderelor+".xls") 
```

我会努力的，但我会非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T08:10:44.343

但是为什么要为每一行打开和关闭文本文件呢？你可以这样做：

```
 numarul_folderelor = foldere_filme.replace("C:/Users/s/Desktop/filme/", "")
    print numarul_folderelor #1,2,3,4,5...

    root_text = "C:/Users/s/Desktop/text/"+numarul_folderelor+".txt"
    fisier_text = open(""+root_text+"", "w")

    for filenames in os.listdir(foldere_filme):
        numele_pt_text = filenames.replace(".avi", "")
        print numele_pt_text
        fisier_text.writelines(
                        "Full Movie: \n\n\nwatch "
                        +numele_pt_text+" online free, \nwatch "
                        +numele_pt_text+" online")
    fisier_text.close() 
```

# java - 是否可以在不调用 soot.Main.main(...) 的情况下使用烟灰分析？

> ID：12703500
> 
> 赞同：3
> 
> 时间：2012-10-03T07:09:24.513
> 
> 标签：java, api, static-analysis, soot

我想使用[Soot](http://www.sable.mcgill.ca/soot/)对 Java 程序进行静态分析，包括控制流图。

各种[教程](http://www.sable.mcgill.ca/soot/tutorial/)都说使用 Soot 的“标准方法”是创建一个 main 方法，在该方法中将自定义转换添加到 Soot 管道**，然后调用[soot.Main.main(...)](http://www.sable.mcgill.ca/soot/doc/soot/Main.html#main%28java.lang.String%5B%5D%29)**：

```
public static void main(String[] args) {        
    PackManager.v().getPack("jtp").add(
         new Transform("jtp.gotoinstrumenter", GotoInstrumenter.v()));
    soot.Main.main(args);
} 
```

当然，如果您想在命令行工具以外的其他东西中使用 Soot，这有一些严重的限制。例如，我不清楚在程序中多次调用 Soot 的 main 方法是否合法。

那么有没有人知道通过更复杂的 API 直接使用烟尘分析工具的可能性？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-24T16:04:42.140

答案是肯定的。在您的主目录中，您可以设置您使用的课​​程：

```
configure("../yourClasspath/");
SootClass sootClass = Scene.v().loadClassAndSupport("className");
sootClass.setApplicationClass();

// Retrieve the method and its body
SootMethod m = c.getMethodByName("methodName");
Body b = m.retrieveActiveBody();

// Instruments bytecode
new YourTransform().transform(b); 
```

之后，您可能会构建 CFG 并运行一些分析。

它遵循配置方法：

```
public static void configure(String classpath) {

        Options.v().set_verbose(false);
        Options.v().set_keep_line_number(true);
        Options.v().set_src_prec(Options.src_prec_class);
        Options.v().set_soot_classpath(classpath);
        Options.v().set_prepend_classpath(true);

        PhaseOptions.v().setPhaseOption("bb", "off");
        PhaseOptions.v().setPhaseOption("tag.ln", "on");
        PhaseOptions.v().setPhaseOption("jj.a", "on");
        PhaseOptions.v().setPhaseOption("jj.ule", "on");

        Options.v().set_whole_program(true);
    } 
```

# html - HTML5 移动应用程序模板

> ID：12703503
> 
> 赞同：0
> 
> 时间：2012-10-03T07:09:32.650
> 
> 标签：html, jquery-mobile

我将开发一个 HTML5 移动应用程序，我的计划是：我将在 web 浏览器（如 Firefox）中开发页面，然后我计划使用 PhoneGap 应用程序将其转换为移动设备。我也打算使用 jQuery Mobile，请建议我开始使用的模板。提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T08:18:30.677

您可以查看以下内容...在 JqueryMobile 网站的演示部分，您可以找到满足您需求的所有模板...

1.  [http://jquerymobile.com/demos/1.2.0/](http://jquerymobile.com/demos/1.2.0/)
2.  [http://www.mrova.com/free-mobile-template-mobi/](http://www.mrova.com/free-mobile-template-mobi/)

还请访问很好的[What jQuery Mobile Means for Developers](http://www.readwriteweb.com/mobile/2010/10/what-jquery-mobile-means-for-developers.php)文章，并在开始之前了解它针对您的要求提供了什么。

# iphone - 如何通过 iPhone 中的应用程序共享通行证？

> ID：12703507
> 
> 赞同：0
> 
> 时间：2012-10-03T07:09:48.797
> 
> 标签：iphone, ios6, sharing, passbook

假设我的存折应用程序中有通行证。并想与我的一位朋友分享通行证。

*   在我的应用程序中，如果我将 .pkpass 数据（从服务器接收）邮寄给我的朋友，则设备会将其识别为通行证。

    ```
    [controller addAttachmentData:data mimeType:@"application/vnd.apple.pkpass" fileName:@"Pass.pkpass"]; 
    ```

*   假设我的文档目录或应用程序包中有 .pkpass 文件，然后将该文件更改为数据然后邮寄，也可以正常工作。

    ```
     NSString *filePath = [[NSBundle mainBundle] pathForResource:@"walmart" ofType:@"pkpass"];
     NSData *data = [[NSData alloc] initWithContentsOfFile:filePath];
    [controller addAttachmentData:data mimeType:@"application/vnd.apple.pkpass" fileName:@"Pass.pkpass"] 
    ```

*   但是当我使用以下代码时，它就不起作用了。

    ```
    _passLibrary = [[PKPassLibrary alloc] init];
    _passArray = [_passLibrary passes];
    PKPass *pass = _passArray[0];
    NSData *data = [[NSData alloc] initWithContentsOfURL:[pass passURL]];
    [controller addAttachmentData:data2 mimeType:@"application/vnd.apple.pkpass" fileName:@"Pass.pkpass"]; 
    ```

我想到的另一种方式是通过蓝牙共享。但是，如果我没有准确的通行证数据，那就没有意义了。从上述所有指定的方法中，第三种方法是有意义的（编码质量方面），但数据不是所需的。

也请向我建议使共享成为可能的其他方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T20:43:04.917

如果您和您的好友使用同一个应用程序，您可以在服务器上保留通行证列表，将其标记为可共享，显示可共享通行证列表并允许他们直接从服务器获取通行证；一种标准的服务器<->应用程序类型的功能。

如果您想使用蓝牙，那么您有点超出我的舒适区，但是由于 .pkpass 文件只是一个字符块，您可以通过以太网传输文件/块并根据文档使用 PassKit API 实例化它.

# java - java native2ascii没有正确转换属性文件

> ID：12703509
> 
> 赞同：2
> 
> 时间：2012-10-03T07:09:59.933
> 
> 标签：java, character-encoding

我在属性文件中有以下文本：

> Asegúrese de que los datos

我正在尝试将文本转换为 ascii，但字符**ú**正在转换为**\ufffd**，这意味着无效字符而不是有效的 ascii 等效字符。

我使用转换文本的命令是：

> native2ascii -encoding UTF-8 x.properties y.properties

你知道我做错了什么以及解决这个问题的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T14:31:09.883

发现同样的问题。

它适用于 windows，但在 linux 上失败。

如果您赶时间，可以使用此在线版本： [http ://www.00bug.com/native2ascii.html](http://www.00bug.com/native2ascii.html)

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-19T14:40:15.083

对于遇到相同问题的人来说，问题是该文件以 ANSI 而不是 UTF-8 保存。

# mysql - Mysql触发脚本不起作用

> ID：12703512
> 
> 赞同：2
> 
> 时间：2012-10-03T07:10:12.873
> 
> 标签：mysql, triggers, insert

我一直在尝试在 mysql 中设置触发器，但无济于事。以下是与之相关的表格：

```
mysql> describe ttloki;
+-------------+-----------+------+-----+-------------------+-----------------------------+
| Field       | Type      | Null | Key | Default           | Extra                       |
+-------------+-----------+------+-----+-------------------+-----------------------------+
| Lokinumero  | int(11)   | NO   | PRI | NULL              | auto_increment              |
| Ttnumero    | int(11)   | NO   | MUL | NULL              |                             |
| Kirjausaika | timestamp | NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |
+-------------+-----------+------+-----+-------------------+-----------------------------+
3 rows in set (0.00 sec)

mysql> describe tyontekija;
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| Numero   | int(11)     | NO   | PRI | NULL    |       |
| Sukunimi | varchar(40) | NO   |     | NULL    |       |
| Etunimi  | varchar(40) | NO   |     | NULL    |       |
| Osasto   | int(11)     | YES  | MUL | NULL    |       |
| Lahios   | varchar(40) | YES  |     | NULL    |       |
| Postino  | varchar(5)  | NO   | MUL | NULL    |       |
| Puhelin  | varchar(16) | YES  |     | NULL    |       |
| Palkka   | int(11)     | YES  |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+
8 rows in set (0.00 sec) 
```

我最后一次试用触发器是这样的：

```
create trigger uusitt
after insert on TYONTEKIJA
for each row
insert into TTLOKI(Ttnumero) values
(old.TYONTEKIJA.Numero); 
```

每当我尝试插入 TYONTEKIJA 时，它都会给我关于触发器中值的任何错误。

```
mysql> insert into TYONTEKIJA(Numero,Sukunimi,Etunimi,Osasto,Lahios,Postino,Puhelin,Palkka) values
    -> (220000, "Saarikoski", "Pekka", 5, "Umpikuja 1", "02760", "060-7358461", 3000);
ERROR 1054 (42S22): Unknown column 'old.TYONTEKIJA.Numero' in 'field list' 
```

我不明白如何正确设置这种触发器。我应该改变什么来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:14:29.647

插入值时，不能使用`old`标识符，因为还没有旧值。也许你的意思是，`new.Numero`？

# grammar - 上下文无关语法：Kleene plus

> ID：12703514
> 
> 赞同：0
> 
> 时间：2012-10-03T07:10:19.037
> 
> 标签：grammar

我用上下文无关语法制作自然数集。

```
N ::= 0
 | 1  
 | 2 
 | 3 
 | 4 
 | 5 
 | 6 
 | 7 
 | 8 
 | 9 
 | kleene{...} plus 
```

我如何表达自然数，没有kleene plus？

例如 1495

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:27:23.393

你可以递归地表达一个自然数。

```
N ::= N | N N 
```

对于 1495，1 是一个自然数，后跟另一个自然数 (4)，4 是一个自然数，后跟另一个 (9)，9 是一个自然数，后跟一个自然数 (5)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-23T09:17:57.130

```
DIGIT ::= 0 | 1  | 2  | 3  | 4  | 5  | 6  | 7  | 8  | 9
N ::= DIGIT | DIGIT N 
```

# android - onActivityResult 在非活动类中？

> ID：12703516
> 
> 赞同：1
> 
> 时间：2012-10-03T07:10:28.147
> 
> 标签：android, facebook, android-activity

我正在尝试在 Android 中实现 facebook 登录和墙贴，所以我创建了一个处理所有内容的非活动类。我看到了所有这些使用此方法的示例 - onActivityResult 但我不知道我是否必须使用它或为什么它如此重要。只要我没有在手机上安装 facebook 应用程序，代码就可以在没有它的情况下工作，我想知道 onActivityResult 是否与它有关。PS：我很确定我正确地生成了哈希键。谢谢你。:)

```
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.widget.Toast;

import com.facebook.android.DialogError;
import com.facebook.android.Facebook;
import com.facebook.android.Facebook.DialogListener;
import com.facebook.android.FacebookError;
import com.infobest.praiser.R;
import com.infobest.praiser.utils.Constants;

/**
 * Functionality for facebook sharing
 * 
 * @author oana_balaceanu
 * 
 */
public class ShareFacebook
{
    private static final String[] PERMISSIONS = new String[] {"publish_stream"};

    private Facebook facebook;
    private String messageToPost;
    private Context ctx;

    public ShareFacebook(String messageToPost, Context ctx)
    {
        this.messageToPost = messageToPost;
        this.ctx = ctx;

    }

    public boolean saveCredentials(Facebook facebook)
    {
        Editor editor = ctx.getSharedPreferences(Constants.KEY, Context.MODE_PRIVATE).edit();
        editor.putString(Constants.TOKEN, facebook.getAccessToken());
        editor.putLong(Constants.EXPIRES, facebook.getAccessExpires());
        return editor.commit();
    }

    public boolean restoreCredentials(Facebook facebook)
    {
        SharedPreferences sharedPreferences = ctx.getSharedPreferences(Constants.KEY,
            Context.MODE_PRIVATE);
        facebook.setAccessToken(sharedPreferences.getString(Constants.TOKEN, null));
        facebook.setAccessExpires(sharedPreferences.getLong(Constants.EXPIRES, 0));
        return facebook.isSessionValid();
    }

    public void share()
    {
        facebook = new Facebook(Constants.APP_ID);
        restoreCredentials(facebook);

        if (!facebook.isSessionValid())
        {
            loginAndPostToWall();
        }
        else
        {
            postToWall(messageToPost);
        }
    }

    public void loginAndPostToWall()
    {
        facebook.authorize((Activity) ctx, PERMISSIONS,
            (DialogListener) new LoginDialogListener());
    }

    public void postToWall(String message)
    {
        FacebookPoster fp = new FacebookPoster();
        fp.execute(message, null, null);
    }

    private class FacebookPoster extends AsyncTask<String, Object, Object>
    {

        @Override
        protected Object doInBackground(String... message)
        {
            Bundle parameters = new Bundle();
            parameters.putString("message", message[0]);
            parameters.putString("link", ctx.getResources().getString(R.string.rateLink));
            parameters.putString("picture", ctx.getResources().getString(R.string.linkIconPicture));
            try
            {
                facebook.request("me");
                String response = facebook.request("me/feed", parameters, "POST");
                Log.d("Tests", "got response: " + response);
                if (response == null || response.equals("") || response.equals("false"))
                {
                    return ctx.getResources().getString(R.string.facebookError);
                }
                else
                {
                    return ctx.getResources().getString(R.string.facebookSuccess);

                }
            }
            catch (Exception e)
            {
                Log.d("ShareOnFacebook", e.toString());
                return ctx.getResources().getString(R.string.facebookError);
            }
        }

        @Override
        protected void onPostExecute(Object result)
        {

            super.onPostExecute(result);
            showToast(result);
        }

    }

    class LoginDialogListener implements DialogListener
    {
        public void onComplete(Bundle values)
        {
            saveCredentials(facebook);
            if (messageToPost != null)
            {
                postToWall(messageToPost);
            }

        }

        public void onFacebookError(FacebookError error)
        {
            showToast(ctx.getResources().getString(R.string.facebookError));

        }

        public void onError(DialogError error)
        {
            showToast(ctx.getResources().getString(R.string.facebookError));

        }

        public void onCancel()
        {
            showToast(ctx.getResources().getString(R.string.facebookCancel));

        }
    }

    private void showToast(Object message)
    {
        Toast.makeText(ctx, message.toString(), Toast.LENGTH_SHORT).show();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:18:55.300

如果您在安装了 Facebook 应用程序的模拟器或智能手机上测试您的应用程序，登录将因此失败。

# c++ - 在 C++ 中解释编译器如何识别一个类是抽象的还是非抽象的？

> ID：12703520
> 
> 赞同：0
> 
> 时间：2012-10-03T07:10:44.473
> 
> 标签：c++, abstract

内部编译器如何识别类是抽象的（我们不能为其创建对象）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:14:39.950

一个抽象类将包含至少一个纯虚函数。像这样的东西

```
virtual void foo() = 0; 
```

任何从 this 派生且不覆盖 this 这样的函数的类也将是抽象的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:14:21.327

编译器足够聪明，可以检查一个类或它派生的任何类中的纯虚函数。

如果类本身定义了纯虚函数^([Ref 1])，则无论它是否定义函数体，都将其标记为抽象类。

如果一个类继承自一个具有纯虚函数的类，那么它**必须**为纯虚函数提供一个定义。如果没有，它被标记为抽象。

^([参考 1])

```
virtual void doSomething() = 0;
                          ^^^^^ 
```

PS：是的，纯虚函数可以有定义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:14:44.023

当然，通过检查定义并查看它是否在抽象类的定义中。不然怎么会这样？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:16:45.190

如果类中至少有一个成员是抽象的，那么类就是抽象的。因此，如果类包含至少一个纯虚函数，则从编译器的角度来看，它是抽象的。

```
virtual void PureVirtualMethod() = 0;   // Any class that has methods
                                        // with such declaration is abstract. 
```

# java - 如何在服务器端验证上传的文件是否为 mp3？

> ID：12703524
> 
> 赞同：1
> 
> 时间：2012-10-03T07:10:54.653
> 
> 标签：java, file-upload

我正在我的应用程序中上传 mp3 文件，我已经完成了文件的上传，它工作正常。我想在服务器端验证文件，检查上传的文件格式是否正确（.mp3）。客户端验证工作正常，但我也想在服务器端检查它，因为只需更改扩展名即可更改上传文件。

> 我正在使用 java servlet 进行上传，并且我有预处理器在上传之前进行验证。

任何人都可以帮助我，在此先感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:17:51.977

除了扩展名之外，您还可以深入了解[MP3 规范](http://mpgedit.org/mpgedit/mpeg_format/MP3Format.html)，读取文件并验证它是否符合定义。

可能你可以使用一些已经解释规范的 Java 库，比如[这个](http://www.javazoom.net/javalayer/javalayer.html)

但是，除非你真的需要，我认为扩展检查就足够了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:21:09.830

如果你真的想检查它是否正确到达，你必须安装一个 MP3 编码器/解码器并通过它提取文件。如果您只是想验证文件是否确实是 mp3 文件（而不是是否损坏），只需检查文件头即可，其预期内容可以在文件格式定义中找到，可用于许多地方在网络上免费（其中一些可能已经过时）。

# c++ - 浮点异常 C++

> ID：12703525
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:10:57.530
> 
> 标签：c++

我正在尝试进行一些 c++ 编程，以下行在运行时给了我一个“浮点异常”：

```
realAnswer=(0-720+5*1440)/((775-720)/(750-720))+720; 
```

什么可能导致问题？（realAnswer 是双精度）

编辑：添加斜线

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:12:56.597

您缺少一个 *：

```
realAnswer=(0-720+5*1440)/((775-720)*(750-720))+720; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:24:25.143

除了 Petar 指出的缺失 * 之外，您的计算仅使用整数，而您希望获得双精度。您现在得到的答案是四舍五入（723）。

以下将为您提供我假设您正在寻找的双精度。我已经通过编译和运行它来测试它：

```
realAnswer=(0.0-720.0+5.0*1440.0)/((775.0-720.0)*(750.0-720.0))+720.0; 
```

结果是 723.927。

# java - Scala 类型不匹配中的@remote 注释

> ID：12703528
> 
> 赞同：2
> 
> 时间：2012-10-03T07:11:33.103
> 
> 标签：java, scala, rmi

我的特质：

```
@remote trait Computer {
  def execute(task: Task[Any]): Any
} 
```

类的伴随对象中的主类片段，`ComputerImpl`只需`Computer`定义`execute`为即可实现`= task.execute()`。

```
val name = "Computer"
val engine: Computer = new ComputerImpl()
val stub = UnicastRemoteObject.exportObject(engine, 0).asInstanceOf[Computer] 
```

我收到此错误：

```
system/ComputerImpl.scala:19: error: type mismatch;
 found   : api.Computer
 required: java.rmi.Remote
      val stub = UnicastRemoteObject.exportObject(engine, 0).asInstanceOf[Computer] 
```

如果我做得更明确，它就会消失，`trait Computer extends Remote`但在“Scala for Impatient”中它说“Scala 使用注释`@cloneable`而`@remote`不是可克隆和远程对象的`Cloneable`and`java.rmi.Remote`接口。”

出了什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T08:18:50.567

这看起来应该可以工作，但这是一个编译阶段的问题。`@remote`在完成编译的类型检查之后，编译器正在应用，即在接口中添加特征定义。但是，以下工作：

```
val stub = UnicastRemoteObject.exportObject(engine.asInstanceOf[java.rmi.Remote], 0).asInstanceOf[Computer] 
```

但这有点难看。

编辑：它在`typer`编译阶段失败，而看起来`@remote`替换是在`jvm`阶段完成的，也就是`typer`阶段之后。

事实上，这是一个已知问题，[类型推断因 @remote 注释而失败](https://issues.scala-lang.org/browse/SI-150)。从那里，马丁奥德斯基说：

> 这完全符合规定。@remote 与类型检查器的“扩展远程”不同。

没有进一步的解释，但我不会为编译器解决方案屏住呼吸:-)

# php - mkdir() 函数给出无效参数错误

> ID：12703529
> 
> 赞同：0
> 
> 时间：2012-10-03T07:11:33.100
> 
> 标签：php

我正在练习使用 html 解析器从一些第三方网站上抓取数据。当我通过给定标签循环时，我使用 mkdir() 函数创建一个新文件夹，该文件夹以循环中使用的变量之一命名。我的代码如下：

```
foreach($s->find('a') as $t)
{
    $inner = $t->plaintext;
    if(!is_dir("img/ncaa/".$team."")
    && !file_exists("/img/ncaa/".$team."/".substr($inner, 0, 4).".png"))
    {
        foreach($t->find('img') as $l)
        {
               $url = $l->src;
        }   

        mkdir("img/ncaa/".$team."");

        $img = "/img/ncaa/".$team."/".substr($inner, 0, 4).".png";
        file_put_contents($img, file_get_contents($url));
    }   
} 
```

我收到一条错误消息：**Warning: mkdir() [function.mkdir]: Invalid argument in**

当我注释掉以上所有代码并简单地写

```
mkdir("img/ncaa/Boston Celtics"); 
```

这似乎行得通。我想了一会儿，它可能与权限有关，但事实并非如此。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:14:10.807

改为运行：

```
foreach($s->find('a') as $t)
{
    $inner = $t->plaintext;
    if(!is_dir("img/ncaa/".$team."")
    && !file_exists("/img/ncaa/".$team."/".substr($inner, 0, 4).".png"))
    {
        foreach($t->find('img') as $l)
        {
               $url = $l->src;
        }   

        $theDir = "img/ncaa/".$team."";
        var_dump($theDir);
        mkdir($theDir);

        $img = "/img/ncaa/".$team."/".substr($inner, 0, 4).".png";
        file_put_contents($img, file_get_contents($url));
    }   
} 
```

并检查输出，它可能会显示错误

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:39:25.287

在 foreach 循环之前，打印您的 $team 值。如果该值为空，请在 for-each 循环之前使用 $team = "Boston Celtics" 显式设置它并查看它是否有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:17:24.747

我想知道为什么在您的某些说明中使用相对路径，例如：

```
$theDir = "img/ncaa/".$team.""; 
```

在其他人中，您使用的是绝对路径，例如：

```
$img = "/img/ncaa/".$team."/".substr($inner, 0, 4).".png"; 
```

您必须选择一种策略：绝对路径或相对路径。混合使用这两种方法会在您的程序中造成混乱，我相信这就是您的 mkdir 无法正常工作的原因。

# c++ - std::thread::id 的要求。可以雾化吗？

> ID：12703532
> 
> 赞同：8
> 
> 时间：2012-10-03T07:11:41.230
> 
> 标签：c++, multithreading, c++11, atomic, language-lawyer

该标准说：“thread::id 类型的对象为所有不代表执行线程的线程对象提供......一个不同的值”。这是关于 的单个/不同值`operator==`，还是实际的按位单个/不同值？

问题的原因：MSVC2012`std::thread::id::id()`在它的一个字段中留下了垃圾，并且它破坏了在 an 上进行比较交换的代码`std::atomic<std::thread::id>`（因为后者取决于按位比较）。

首先是`std::atomic<std::thread::id>`合法的构造吗？

编辑：作为参考，代码如下：

```
while( !worker_id.compare_exchange_weak( no_id = thread_id_type(), self_id ) )
    sleep(); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-03T10:37:27.927

首先`std::atomic<std::thread::id>`是合法的：`std::thread::id`要求可平凡复制（30.3.1.1p2），满足`std::atomic<>`（29.5p1）的要求。

但是，它是一个不透明的类，因此不要求比较相等的对象的位模式相同。

因此，如果您使用`compare_exchange_weak`or `compare_exchange_strong`then 它可能会因比较相等的值而失败。

因此，建议是`compare_exchange_weak`在循环中使用，**将`expected`值保留为上一次迭代的结果**。

在您的情况下，我从您的循环中解释的语义是：保持循环同时`worker_id`是另一个线程的 ID，或者`worker_id`是`std::thread::id`但交换失败。您可以通过以下方式实现此目的：

```
no_id=std::thread::id();
while((no_id!=std::thread::id()) ||
      !worker_id.compare_exchange_weak( no_id, self_id ) ){
    if(no_id!=std::thread::id()) no_id=std::thread::id();
    sleep();
} 
```

或者

```
no_id=std::thread::id();
while(!worker_id.compare_exchange_weak(
          (no_id!=std::thread::id())?(no_id=std::thread::id())?no_id, self_id ) )
    sleep(); 
```

**即只有在不是**时才更改`no_id`值。 **`std::thread::id()`**

 *** * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-03T08:42:46.340

这在[LWG924](http://www.open-std.org/JTC1/SC22/WG21/docs/papers/2009/n2992.htm#LWG924)中进行了讨论。本质上，您不能使用`compare_exchange_strong`，但您应该能够在循环中使用 compare_exchange_weak，例如

```
expected = current.load();
do {
  desired = function(expected);
} while (!current.compare_exchange_weak(expected, desired)); 
```

**编辑**：无条件重置值会破坏循环的目的 - 基于提供的代码，我认为最好的解决方案是：

```
no_id = std::thread::id();
while( !worker_id.compare_exchange_weak( no_id, self_id ) )
{
  if (no_id != std::thread::id())
  {
    sleep();
    no_id = std::thread::id();
  }
} 
```**

# php - 如何翻译 localhosts 数据库名称并在 php / mysql 中远程连接

> ID：12703534
> 
> 赞同：1
> 
> 时间：2012-10-03T07:11:44.240
> 
> 标签：php, mysql

我有一个远程服务器。当我直接在服务器上时，此代码有效。（用户名/密码已更改..）。网址是`myuniversity.edu/myfolder`

我想我想将其更改为`myuniversity.edu/foo/bar`.. 但这不起作用。那么我将如何翻译数据库的名称呢？我对谷歌的研究没有发现任何有用的东西。我的特定文件夹不应该是一个因素，因为许多其他学生都与确切的某些代码联系在一起。

```
function dbConnect()
{
    $serverName = 'foo\bar';
    $uName = 'un';
    $pWord = '***';
    $db = 'RWS';

    try
    {
       //instantiate a PDO object and set connection properties

       $conn = new PDO("sqlsrv:Server=$serverName; Database=$db", $uName, $pWord,
       array(PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION));

       //return connection object

       return $conn;
    }
   catch (PDOException $e)
   {
       // if connection fails
       die('Connection failed: ' . $e->getMessage());
   }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:41:24.227

将**myuniversity.edu/foo/bar**更改为**myuniversity.edu/server=foo&name=bar**

然后改变

> $serverName = 'foo\bar'; 至
> 
> $serverName = $_GET['server']+$_GET['name'];

我似乎在您的代码中，文件夹定向不会给您一个可供 php 读取的变量...希望这会给您一个想法

# scala - Scala sbt 控制台 - 代码更改未反映在 sbt 控制台中

> ID：12703535
> 
> 赞同：43
> 
> 时间：2012-10-03T07:11:54.343
> 
> 标签：scala, sbt

我使用 scala sbt 控制台来测试我的方法。（命令：**sbt**然后**控制台**）但是在 eclipse 或其他外部编辑器中完成的代码更改并没有反映在 sbt 控制台中。

每次，我都必须退出控制台（使用 Crt + D）并再次使用**控制台**命令启动它以查看更改。

有人面临这个问题吗？有没有办法从控制台重新加载代码？

我正在使用 Ubuntu 64 位，

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-10-03T07:40:45.590

并非没有使用 JRebel 之类的东西，主要是因为类定义可能会以某种方式中断，从而使已经加载的实例无法使用。我唯一的建议是使用**~console**运行控制台，这样如果进行了更改，它们将被重新编译并重新进入控制台。

此外，如果您定期运行一组命令，则 initialCommands sbt 设置将命令配置为在启动控制台后立即运行。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-10-03T11:24:45.420

一种选择是`:restart`在控制台中使用 - 这将重新加载它并重播您迄今为止输入的所有命令。

要获得更好的解决方案，您可能需要阅读我关于使用 JRebel 和 Scala 进行增量开发的[博文。](http://batsov.com/articles/2011/04/26/jrebel-with-scala/)

您应该像这样修改 sbt 启动脚本：

```
#!/bin/bash

java -noverify -javaagent:/home/username/path/to/jrebel/jrebel/jrebel.jar
 -Drebel.lift_plugin=true -XX:+CMSClassUnloadingEnabled
 -XX:MaxPermSize=512m -Xmx512M -Xss2M -jar `dirname $0`/sbt-launch.jar
 "$@" 
```

当您从 SBT 内部启动 REPL 时，例如使用以下命令：

```
sbt console 
```

对导入类的更改将自动反映，而无需执行 a`:replay`或`restart`REPL——这让人想起交互式 Lisp 编程。

# windows-8 - Windows RT 中的网络资源限制

> ID：12703538
> 
> 赞同：4
> 
> 时间：2012-10-03T07:12:00.493
> 
> 标签：windows-8, microsoft-metro, windows-store-apps

根据[《后台任务简介》](http://www.microsoft.com/en-us/download/details.aspx?id=27411)第 20 页，在*网络资源限制*下，后台任务每 15 分钟可以下载 4.69 MB。

这是否意味着，在 Windows RT 中，如果我们在后台通过 IE10 Metro 下载 20MB 的文件，需要 40 多分钟？（否则我们必须把下载进度保持在前面）

此外，作为后台应用程序，您不得使用超过 0.002% 的 CPU。

在同一页上，他们争辩说：

> 网络使用可能会严重消耗设备电池，因此在后台任务执行期间也会受到限制。但是，如果设备使用交流电源运行，则后台任务不受网络限制。他们可以根据需要自由使用尽可能多的网络带宽（当然，受任何运营商特定带宽或使用限制的限制）。请注意，即使设备在交流电源上运行，后台任务的 CPU 使用率也始终受到资源限制。

由于这些原因，我们无法为 Windows RT 实现下载管理器？**在**用户同意的情况下如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:52:31.457

据我从链接的文档中可以看出，您受限于后台任务中的数据吞吐量，这是基于用于为网络设备供电的能源量，而不是任何特定的数据值。4.69MB 只是 10Mbps 的一个例子，它比大多数标准住宅互联网连接慢。

此外，正如您链接的段落所述，如果设备连接到主电源，则没有任何限制，因此台式电脑和大多数笔记本电脑永远不会出现问题。没有迹象表明您可以要求用户绕过限制。

所以是的，您可以构建一个下载管理器，只要您知道用户在何处以及如何使用该应用程序并进行相应调整，它就应该可以正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-24T19:49:17.083

有用于卸载系统后台管理下载的 API： [请参阅 Mike Taulty 的博客条目](http://mtaulty.com/CommunityServer/blogs/mike_taultys_blog/archive/2012/04/23/background-downloads-in-a-windows-8-metro-style-app.aspx)。后台模式下的 WinRT 应用程序还有其他严重的限制，通常不会在博客文章和论坛中讨论，例如您的后台任务在与您的应用程序不同的进程或线程单元中运行这一事实：在[链接到上面](http://www.microsoft.com/en-us/download/details.aspx?id=27411)的白皮书中，请参阅部分在*后台任务主机可执行文件上*. 它说除非您的后台任务是 PushNotificationTrigger 或 ControlChannelTrigger，否则您的任务是由 BackgroundTaskHost.exe 或 WWAHost.exe 运行的 inproc 服务器。即使在前两种“在同一个应用程序中”运行的情况下，它也位于单独的公寓中。这些都只能通过将数据编组到文件或 ApplicationData 存储中来与主应用程序共享数据。

我已经对 ControlChannelTrigger 进行了试验，发现了以下限制（如果您将它们挖掘出来，也会在文档中列出）：

*   在连接套接字之前，通道必须与套接字关联
*   一个应用程序只能使用有限数量的 ControlChannel，即使指定了软件通道（在我的例子中是 6 个）

# ruby-on-rails - 将 cancan 与 gems 控制器一起使用

> ID：12703540
> 
> 赞同：0
> 
> 时间：2012-10-03T07:12:05.987
> 
> 标签：ruby-on-rails

首先对我糟糕的英语感到抱歉。我已经安装了 cancan 和 bigbluebutton_rails， [https://github.com/mconf/bigbluebutton_rails](https://github.com/mconf/bigbluebutton_rails)。gem bigbluebutton_rails 有一些模型和控制器，例如 bigbluebutton/servers_controller.rb。这个控制器有一些操作，如创建、加入、授权等。我希望只有具有角色管理员的用户才能创建。我能做些什么？我需要将 load_and_authorize_resource 放在 bigbluebutton/servers_controller.rb 中吗？但它在 gem 中，我认为不建议修改 gems 代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:25:51.143

他们有一个与 cancan 集成的页面：[https ://github.com/mconf/bigbluebutton_rails/wiki/How-to%3A-Integrate-with-CanCan](https://github.com/mconf/bigbluebutton_rails/wiki/How-to%3A-Integrate-with-CanCan)

但是emmm，还没写。。。

所以......他们还有一个与 Devise 集成的页面：[https](https://github.com/mconf/bigbluebutton_rails/wiki/How-to%3A-Integrate-with-Devise) ://github.com/mconf/bigbluebutton_rails/wiki/How-to%3A-Integrate-with-Devise已经写好了，所以从中推断接受的方式是继承`Bigbluebutton::ServersController`.

如何创建自定义服务器控制器，如下所示：

```
class CustomServersController < Bigbluebutton::ServersController
  load_and_authorize_resource!
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-07T19:56:23.660

补充 Sam Peacey 的答案，现在 BigbluebuttonRails 有一个（相当简单的）wiki 页面，描述如何将其与 CanCan 集成：[https ://github.com/mconf/bigbluebutton_rails/wiki/How-to:-Integrate-with-CanCan](https://github.com/mconf/bigbluebutton_rails/wiki/How-to%3a-Integrate-with-CanCan)

您还可以使用应用程序 Mconf-Web ( [https://github.com/mconf/mconf-web](https://github.com/mconf/mconf-web) ) 作为示例。当前分支中的版本`branch-v2`( [https://github.com/mconf/mconf-web/tree/branch-v2](https://github.com/mconf/mconf-web/tree/branch-v2) ) 使用 CanCan、Devise 和 BigbluebuttonRails，所有这些都一起工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:57:46.987

在 ruby​​ 中你可以重新打开类，所以在 /config/initializers/bigbluebutton.rb 中放一些代码，上面写着

```
require 'bigbluebutton'

class Bigbluebutton::ServersController < ApplicationController
  load_and_authorize_resource!

  # you also have to overwrite this method so the @server loaded
  # by CanCan is not overwritten by Bigbluebutton
  def find_server
    @server ||= BigbluebuttonServer.find_by_param(params[:id])
  end
end 
```

# sql-server - SQL Server 2005：将 Transaction_ID 映射到 @@SPID

> ID：12703549
> 
> 赞同：2
> 
> 时间：2012-10-03T07:12:44.163
> 
> 标签：sql-server, sql-server-2005

无论如何`transaction_id`要从某个地方映射`sys.dm_tran_active_transactions`到`SPID`SQL Server 2005 中的某个地方吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:31:10.890

这听起来很明显，但记录的前两列[`sys.dm_tran_session_transactions`](http://msdn.microsoft.com/en-us/library/ms188739%28v=sql.90%29.aspx)是`session_id`和`transaction_id`。这是在事务和会话之间映射的表。

# extjs3 - Ext.grid.EditorGridPanel 中的启用-禁用单列单元格

> ID：12703551
> 
> 赞同：1
> 
> 时间：2012-10-03T07:12:53.490
> 
> 标签：extjs3

我有**EditorGridPanel**，我希望根据同一行的其他列值启用-禁用单元格值，并且我正在使用**Extjs 3**。当我试图在 Google 上找到解决方案时，我发现我可以使用**RowEditing 插件**。我不想使用这个插件，有没有其他方法可以做到这一点？

我想在单击编辑按钮时启用和禁用此功能，因此我可以在**“beforeedit”**事件中执行此操作。在这里，我遇到了一个问题，即我如何能够访问一个特定的单元格对象以及如何启用和禁用该单元格对象。有启用-禁用整个网格列的方法，但是有没有任何方法可以返回该特定单元格对象并启用-禁用该单元格对象？

有谁知道有没有办法做到这一点，请告诉我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T12:17:27.943

**更新：**

正如我之前考虑的那样，“beforeedit”事件是针对行触发的，但对于我们单击的每个单元格都会触发。所以我首先将字段名称作为**“var fldname = e.field;”** 然后我为匹配的字段返回 false 以使其禁用 Ex: var fldname= e.field;

```
onBeforeEdit : function(e) {
var fldname= e.field;
if(fldname == "FirstName" || fldname = "LastName"){
return false;
} 
```

所以它禁用网格的“FirstName”和“LastName”列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T16:14:38.100

如果我正确理解你的意图，你应该看看这里：[http ://docs.sencha.com/ext-js/3-4/#!/api/Ext.grid.EditorGridPanel-event-beforeedit](http://docs.sencha.com/ext-js/3-4/#!/api/Ext.grid.EditorGridPanel-event-beforeedit)

而且，据我了解，这是您一直在寻找的方法：[http ://docs.sencha.com/ext-js/3-4/#!/api/Ext.grid.GridView-method-getCell](http://docs.sencha.com/ext-js/3-4/#!/api/Ext.grid.GridView-method-getCell)

将这两者结合在一起，您应该具有与 EditorGridPanel 的“beforeedit”事件的侦听器类似的功能。

```
onBeforeEdit : function(e) {
    var htmlCell = e.grid.getView().getCell(e.row, e.cell);
    Ext.fly(htmlCell).addClass('disabled');
} 
```

# java - 在 Mirth 中处理消息时出现内存不足错误

> ID：12703556
> 
> 赞同：1
> 
> 时间：2012-10-03T07:13:13.920
> 
> 标签：java, mirth

在检索已处理的消息时，Mirth 服务在我的一个频道中出现以下错误

> 尝试检索消息时出现内存不足错误。增加堆大小或减小页面大小并再次搜索。

我尝试增加堆大小，但没有奏效。只有当我的页面大小为 5 或更少时，我才能检索消息。否则我会得到同样的错误。谁能告诉我如何在不遇到此错误的情况下检索已处理的消息？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-05-24T07:28:17.727

在 Mirth 3.3.1 或更高版本中，为了增加堆大小

**欢乐服务器**

1.  转到 mirth 安装目录并更改**C:\Program Files\Mirth Connect\mcserver.vmoptions** 中的值将**'-Xmx256m'**的值更改为**'-Xmx1024m'**。此行将 vlaues 设置为 1GB。

例如：

```
-server
-Xmx512m
-Djava.awt.headless=true 
```

**欢乐客户**

1.  转到 mirth 安装目录并转到**Config**目录并更改**C:\Program Files\Mirth Connect\conf\mirth.properties 中的值**

**更改administrator.maxheapsize** = 512m的属性值例如：

```
# administrator
administrator.maxheapsize = 512m 
```

完成这些更改后，请重新启动 mirth 服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T23:09:50.227

转到安装 Mirth 的目录。从 conf 目录中，打开文件 wrapper.conf。找到该行：

wrapper.java.maxmemory=256

根据需要增加数量，小心为服务器的其余部分保留开销。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T09:09:31.913

你运行的是哪个版本的 Mirth？你将堆大小设置为什么，你在哪里设置的？

您是否确认增加的堆大小与您的操作系统内存限制兼容？例如，几年前我在 Mirth 1.8 上遇到了这个问题，除了更改堆大小设置之外，我最终还增加了我的 VM 的可用内存（从 1GB 增加到 1.5）。

# jquery - 滑动框和标题

> ID：12703557
> 
> 赞同：1
> 
> 时间：2012-10-03T07:13:16.550
> 
> 标签：jquery, css

我的问题是我鼠标悬停，图像向上滑动，当我离开鼠标时，又向下滑动。但是由于我有很多图像和内容框，所以每当我将鼠标悬停在任何框上时，所有其他内容框也会随之滑动。这是什么问题，请帮助我。

[在这里提琴](http://jsfiddle.net/qGvDA/)

我的 Jquery 在脚本文件中被引用：

```
$("ul.contentnav li a").stop().mouseover(function(e){    
   $(this).siblings().slideDown("slow");
    })      
$("ul.contentnav li a").stop().mouseout(function(e){    
     var description = $(this).next($(".description")); 
     var descriptionImg = $(this).next($(".descriptionImg"));
     $(this).siblings().slideUp("slow"); 
     //description.slideUp("slow");
     //$(this).siblings().slideUp("slow");
    }) 
```

这是我的 HTML：

```
<div class="content">
    <ul class="contentnav">
      <li><a href="#content_aboutPearl"><img src="images/afd.jpg" width="222" height="161" /></a>
        <div class='description'><p class='description_content'>ABOUT FASHION DESIGN</p></div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#content_fashiondesign"><img src="images/pearl02.jpg" width="222" height="161" /></a>
        <div class='description'><p class='description_content'>FASHION DESIGN</p></div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#"><img src="images/fd3.jpg" width="222" height="161" /></a>
        <div class='description'>
          <p class='description_content'>ADMISSION PROCEDURE </p>
        </div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#"><img src="images/fd4.jpg" width="222" height="161" /></a>
        <div class='description'>
          <p class='description_content'>COURSE OVERVIEW </p>
        </div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#"><img src="images/dp.jpg" width="222" height="161" /></a>
        <div class='description'>
          <p class='description_content'>DOWNLOAD <br />
            PROSPECTUS </p>
        </div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#"><img src="images/fd6.jpg" width="222" height="161" /></a>
        <div class='description'>
          <p class='description_content'>EVENTS/BLOGS </p>
        </div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#"><img src="images/daf.jpg" width="222" height="161" /></a>
        <div class='description'>
          <p class='description_content'>DOWNLOAD <br />
            APPLICATION FORM </p>
        </div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#"><img src="images/fd8.jpg" width="222" height="161" /></a>
        <div class='description'>
          <p class='description_content'>STUDENTS PORTFOLIO </p>
        </div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
      <li><a href="#"><img src="images/fd9.jpg" width="222" height="161" /></a>
        <div class='description'>
          <p class='description_content'>FACULTY </p>
        </div>
        <div class="descriptionImg"><img src="images/plus.png" width="35" height="35" /></div>
      </li>
    </ul>
    <!-- end .content --></div> 
```

这是我的CSS：

```
ul.contentnav {
    list-style: none; /* this removes the list marker */
}
ul.contentnav li {
    position:relative;
    float:left;
    margin-right:2px;
    margin-bottom:2px;
    width: 222px;
    height: 161px;
}
ul.contentnav li:nth-child(3){
margin-right:0px;
}
ul.contentnav li:nth-child(6){
margin-right:0px;
}
ul.contentnav li:nth-child(9){
margin-right:0px;
}

ul.contentnav a, ul.contentnav a:visited { /* grouping these selectors makes sure that your links retain their button look even after being visited */
    /*padding: 5px 5px 5px 15px;*/
    display: block; /* this gives the link block properties causing it to fill the whole LI containing it. This causes the entire area to react to a mouse click. */
    width: 220px;  /*this width makes the entire button clickable for IE6\. If you don't need to support IE6, it can be removed. Calculate the proper width by subtracting the padding on this link from the width of your sidebar container. */
    text-decoration: none;
    text-align:center;
    background-color: #e02f1d;
    height: 161px;
    position:relative;
}
ul.contentnav a:hover, ul.contentnav a:active, ul.contentnav a:focus { /* this changes the background and text color for both mouse and keyboard navigators */

    color: #FFF;

}

div.description{  
    position:absolute; /* absolute position (so we can position it where we want)*/  
    bottom:0px; /* position will be on bottom */  
    left:0px;  
    width:220px;
    /* styling bellow */  
    background-color:black;  
    font-family: 'tahoma';  
    font-size:15px;  
    color:white;  
    opacity:0.6; /* transparency */  
    filter:alpha(opacity=60); /* IE transparency */ 
    display:none;
    /*display:block;*/
}  
p.description_content{  
    padding:10px;  
    margin:0px;
    font-size:13px;
}  

div.descriptionImg{  
    position:absolute; /* absolute position (so we can position it where we want)*/  
    top:50px; /* position will be on bottom */  
    left:90px;     
    display:none;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:26:47.323

> *“每当我将鼠标悬停在任何框上时，所有其他内容框也会随之滑动”*

如果我对您的理解正确，问题是为了将鼠标移动到特定的框，您不禁将它移动到一个或多个其他框，并且所有其他框也会出现悬停效果。

如果是这样，您可以引入超时，以便不会发生悬停，除非鼠标在框中至少停留了 500 毫秒（或者任何适合您的时间 - 实验）。如果鼠标在那段时间内移出框外，请在运行前取消超时：

```
var timerId;

$("ul.contentnav li a").mouseover(function(e){
    var a = this;
    //clearTimeout(timerId);
    timerId = setTimeout(function() {    
       $(a).siblings().slideDown("slow");
    }, 500);
}).mouseout(function(e){
    clearTimeout(timerId);
     var description = $(this).siblings(".description");
     var descriptionImg = $(this).siblings(".descriptionImg");
     $(this).siblings().slideUp("slow");
     //description.slideUp("slow");
     //$(this).siblings().slideUp("slow");
}); 
```

（请注意，使用以前的方式是没有意义`.stop()`的 - 在分配鼠标事件处理程序之前，您停止过一次动画，此时将永远不会停止动画。此外，`.next()`不会做你看起来认为它确实如此 - 当且仅当它与提供的选择器匹配时，它才会选择下一个元素，它不会继续往下看，直到找到匹配的选择器 - 我认为如果你改变它来使用`.siblings("your selector")`你会得到你的效果想。）

演示：http: [//jsfiddle.net/qGvDA/3/](http://jsfiddle.net/qGvDA/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:22:16.903

我不知道你到底想要什么。但试试这个可能会有所帮助

```
$("ul.contentnav li a").hover(function(){
   $(this).siblings().slideDown("slow");

 },function(){
   var description = $(this).next($(".description")); 
   var descriptionImg = $(this).next($(".descriptionImg"));
   $(this).siblings().slideUp("slow"); 
}); 
```

# vb.net - If.....then 语句无法正常工作

> ID：12703558
> 
> 赞同：0
> 
> 时间：2012-10-03T07:13:17.930
> 
> 标签：vb.net, visual-studio-2010, text, if-statement, streamreader

大家，早安。

我有这个非常奇怪的问题。

这是我的代码片段。

```
 Dim apantisi_pou_edwse As String
    Dim objreader As New StreamReader(TEST_NAME)
    Dim Answer1 As String = Split(objreader.ReadToEnd(), vbCrLf)(1) & vbCrLf

     If test1.RadioButton1.Checked = True Then
                apantisi_pou_edwse = test1.RadioButton1.Text.ToString()

            ElseIf test1.RadioButton2.Checked = True Then
                apantisi_pou_edwse = test1.RadioButton2.Text.ToString()
            End If
    If apantisi_pou_edwse = Answer1 Then
                RichTextBox1.BackColor = Color.Green
                RichTextBox1.Text = "Right answer!"
            ElseIf apantisi_pou_edwse <> Answer1 Then
                RichTextBox1.BackColor = Color.Red
                RichTextBox1.Text = "Sorry, wrong anwser"
            End If 
```

所以它的作用是从文本文件中读取一行并将其分配给字符串变量 Answer1。然后它获取相应单选按钮的 Text 属性并将其分配给字符串变量 apantisi_pou_edwse。最后，它检查是否 apantisi_pou_edwse = Aswer1。问题是，即使两者相等， if...then 语句也无法识别它们，因此始终移动到 elseif 部分。我错过了什么？非常感谢

编辑

```
If String.Compare(apantisi_pou_edwse, Answer1) = 0 Then
            RichTextBox1.BackColor = Color.Green
            RichTextBox1.Text = "Συγχαρητήρια απάντησες σωστά"
        Else
            RichTextBox1.BackColor = Color.Red
            RichTextBox1.Text = "Λυπάμαι απάντησες λάθος"
        End If 
```

我用上面的那个改变了我的 if 语句，但它仍然不起作用:(

Edit2 感谢 Mortalus 和 Enigmativity 的回答！他们解决了问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:29:35.450

尝试更改此行：

```
Dim Answer1 As String = Split(objreader.ReadToEnd(), vbCrLf)(1) & vbCrLf 
```

对此：

```
Dim Answer1 As String = Split(objreader.ReadToEnd(), vbCrLf)(1) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:20:03.833

您应该使用不同的方法来比较以下行中的字符串：

```
If apantisi_pou_edwse = Answer1 Then 
```

这一行比较了`apantisi_pou_edwse`变量`Answer1`的引用

尝试使用。

```
String.Compare(apantisi_pou_edwse, Answer1 ) 
```

# php - 无法修改静态函数的标头信息

> ID：12703560
> 
> 赞同：1
> 
> 时间：2012-10-03T07:13:27.473
> 
> 标签：php, header, export-to-excel

我想做的是，调用一个类来将mysql数据从另一个类导出到excel。下面是我使用的代码（我省略了打开连接的代码）：

```
//This is the class for calling the `ExportToExcel` class
Class SampleClass {
    public static function mainFunction() {
        ExportToExcel::exportToExcel();
    }
}

Class ExportToExcel {
    public static function exportToExcel() {
        $DB = DB::Open(); //Open the database

       $csv_terminated = "\n";
       $csv_separator = ",";
       $csv_enclosed = '"';
       $csv_escaped = "\\";

       $sql_query = "The Query goes here...";

       $result = $DB->qry($sql_query, 2, TRUE); //Run the query 
       $fields_cnt = 0;
       $schema_insert = '';

       while ($finfo = mysqli_fetch_field($result)) {
           $fields_cnt++;
           $l = $csv_enclosed . str_replace($csv_enclosed, $csv_escaped . $csv_enclosed, stripslashes($finfo->name)) . $csv_enclosed;
           $schema_insert .= $l;
           $schema_insert .= $csv_separator;
       }

       $out = trim(substr($schema_insert, 0, -1));
       $out .= $csv_terminated;

       while ($row = mysqli_fetch_array($result)) {
           $schema_insert = '';
           for ($j = 0; $j < $fields_cnt; $j++) {
               if ($row[$j] == '0' || $row[$j] != '') {
                   if ($csv_enclosed == '') $schema_insert .= $row[$j];
                   else {
                       $schema_insert .= $csv_enclosed . 
                       str_replace($csv_enclosed, $csv_escaped . $csv_enclosed, $row[$j]) . $csv_enclosed;
                   }
               } else $schema_insert .= '';

               if ($j < $fields_cnt - 1) $schema_insert .= $csv_separator;
            }

            $out .= $schema_insert;
            $out .= $csv_terminated;
       } 

       header("Cache-Control: must-revalidate, post-check=0, pre-check=0"); //--> WARNING
       header("Content-Length: " . strlen($out)); //--> WARNING
       header("Content-type: text/x-csv"); //--> WARNING
       header("Content-Disposition: attachment; filename=somefile.csv"); //--> WARNING
       echo $out;
       exit;
    }
} 
```

但它返回错误：

```
Warning: Cannot modify header information - headers already sent by (output started at 'files' on line XX 
```

当我在没有任何类和函数的情况下直接运行代码时，它可以工作。我尝试使用检查标题列表`var_dump(headers_list())`，我得到了：

```
array(5) { 
    [0]=> string(23) "X-Powered-By: PHP/5.4.4" 
    [1]=> string(38) "Expires: Thu, 19 Nov 1981 08:52:00 GMT" 
    [2]=> string(77) "Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0" 
    [3]=> string(16) "Pragma: no-cache" 
    [4]=> string(23) "Content-type: text/html" 
} 
```

我尝试使用删除标题，`header_remove();`但它是相同的。如何解决问题？谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:18:14.817

这意味着在进行各种 header() 调用之前，您有时会向浏览器发送文本。

检查您的代码，看看它是否正在打印对它正在做的事情的响应。这可以是来自代码的错误或某种打印的任何内容。

不幸的是，如果没有完整的代码，我们将无法识别在调用 header() 之前向浏览器发送文本的代码的特定部分。

**编辑：**

还要检查空格。如果`<?php ?>`在 header() 调用之前传递给浏览器的外部有空格，那么也会这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:15:09.927

尝试`ob_start()`在开始和`ob_flush()`结束时添加

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:38:07.520

`echo`当我们向浏览器发送一些输出而不是标题时会出现此问题。您应该在任何`header()`类似之前找到一个空格或一个`header("location")`。

参考这篇文章[Header 已经发送的问题](https://stackoverflow.com/questions/8028957/headers-already-sent-by-php)

# python - Django 干草堆过滤

> ID：12703561
> 
> 赞同：2
> 
> 时间：2012-10-03T07:13:38.193
> 
> 标签：python, django, django-haystack

我有两个 django 过滤器，我想用它们来过滤帖子，但一个帖子可以有很多类别，所以我将类别放在 URL 的列表中。现在问题来了——我需要按帖子的标题和类别进行过滤，但我需要以一种能够检查类别的联合的方式进行过滤。这是当前代码：

```
sqs = SearchQuerySet().all()

if 'title' in request.GET and request.GET['title'] != '':
   sqs = sqs.filter_and(title=request.GET['title'])

if 'category' in request.GET and request.GET['category'] != '':
    catlist = request.GET.getlist('category')

    for i in catlist:
        sqs = sqs.filter_or(category=i) 
```

非常感谢你的帮助！

更多信息：Django 1.4.1，Django-Haystack 1.2.7

编辑：

我做了你建议的（使用__in）：

```
if 'title' in request.GET and request.GET['title'] != '':
   sqs = sqs.filter_and(title=request.GET['title'])

if 'category' in request.GET and request.GET['category'] != '':
    catlist = request.GET.getlist('category')

    sqs = sqs.filter_or(category__in=catlist) 
```

但仍然没有运气 - 我无法按字段和类别搜索。仅按类别搜索似乎有效，但是当这两个字段一起输入时，它们不起作用。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-03T08:03:22.953

使用`django.db.models.Q`和联合操作或`__in`

```
sqs.filter(Q(category=i) | Q(category=j)) 
```

（您可以在提交之前合并 Q `filter`）

或使用 __in：

```
sqs.filter(category__in=catlist) 
```

我会在不链接的情况下命名一些包，因为谷歌搜索它们很简单。

尝试从 shell 调试和运行查询。要调试，请安装 ipdb 并将此行添加到视图中要停止的位置。

```
import ipdb; ipdb.set_trace() 
```

您将在控制台窗口（而不是浏览器）中看到 shell。在调试外壳中键入`h`或。`help`试试 django 调试工具栏，它可以帮助调试 queires（它有 SQL 调试面板），在浏览器中工作。

还可以尝试在 shell 中进行查询。安装 django-extensions 并使用 shell_plus：

```
manage.py shell_plus 
```

IPython 也会有所帮助。在 shell 中，尝试运行查询并查看结果。只有当您确定它们按您的意愿工作时，才将逻辑放入视图中。否则，通过刷新页面进行调试是一条很长的路。

如果您需要一个类别或标题来匹配，请执行以下操作：

```
q = Q()
title = request.GET.get('title'):
if title:
    q |= Q(title__contains=title)  # q = q | Q(...)

if request.GET.get('category'):
    for cat in request.GET.getlist('category'):
        q |= Q(category=cat)

sqs = SearchQuerySet.filter(q) 
```

# zend-framework - 如何在zend框架中只删除几个url参数

> ID：12703564
> 
> 赞同：2
> 
> 时间：2012-10-03T07:13:59.193
> 
> 标签：zend-framework, url-parameters, urlvariables

我正在尝试使用 zend 框架（v 1.11）开发应用程序。我对这个框架完全陌生。

我有一个这样的网址。

`http://xyz.local/client/feedback/index/username/abc/page/2`

上面的链接指向`client`模块，`feedback`控制器的`index`动作。

**每个请求都需要url 参数`username`和有效值。**

在此页面上，我已对所有反馈进行了分页。我的问题是，当我从`index`操作导航到相同或不同控制器中的其他操作时，参数名称`/page/2`仍保留在 url 中。

假设如果我导航到`new`同一个控制器的操作，那么新的 URL 看起来像这样

`http://xyz.local/client/feedback/new/username/newClient/page/2`

而它应该是这样的

`http://xyz.local/client/feedback/new/username/newClient`

使用`$this->url(array('module' => 'client', 'controller' => 'feedback', 'action' => 'new'), null, true)`重置所有参数，包括我不想要的用户名。

Zend 的标准做法是什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-03T08:28:18.430

您可以将用户名传递给视图并将其添加到 URL-ViewHelper 中的 url 参数中：

```
$this->url(array('module' => 'client', 'controller' => 'feedback', 'action' => 'new', 'username' => $username), null, true) 
```

# r - 连接具有相同 .names 的列表

> ID：12703566
> 
> 赞同：0
> 
> 时间：2012-10-03T07:14:12.133
> 
> 标签：r, list, matrix

我有同名的列表 v1 和 v2：

```
v1: structure(list(ID = c("A1"), Name = c("A2"),.Names = c("ID", "Name") 
    ...
v2: structure(list(ID = c("B1"), Name = c("B2"),.Names = c("ID", "Name") 
```

我想连接列表，同时保留名称，即得到类似的东西：

```
v12:  structure(list(ID = c("A1","B1"), Name = c("A2","B2"), 
.Names = c("ID", "Name") 
```

手动连接工作：

```
v12<-cbind(Map(c, v1, v2)) 
```

但是，如果 v1 和 v2 是应用 lapply() 的结果，并且它们本身存储在一个列表中，那么类似的逻辑似乎不起作用：

```
v<-lapply(...)
v12<-cbind(Map(c,v)) 
```

自动化流程的最佳方法是什么？例如：

```
v1 <- structure(list(ID = c("A1"), Name = c("A2")),.Names = c("ID", "Name"))             
v2 <-  structure(list(ID = c("B1"), Name = c("B2")),.Names = c("ID", "Name"))
v <- list(v1, v2)
k<-t(mapply(c, v)) 
```

结果是：

```
ID  Name
A1  A2
B1  B2 
```

不在：

```
 ID    Name
"A1","B1"   "A2","B2" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:05:10.617

这个怎么样？

```
> data.frame(ID = do.call("paste", c(lapply(v, FUN = "[", "ID"), sep = ",")), 
+    Name = do.call("paste", c(lapply(v, FUN = "[", "Name"), sep = ",")))
     ID  Name
1 A1,B1 A2,B2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:28:04.987

我发现您的问题*非常*不清楚，但也许您可以尝试：

```
setNames(Reduce(function(x, y) paste(x, y, sep = ", "), v), 
         c("ID", "Name"))
#       ID     Name 
# "A1, B1" "A2, B2" 
```

或者，`t()`也可以在其中添加一个：

```
t(setNames(Reduce(function(x, y) paste(x, y, sep = ", "), v), 
           c("ID", "Name")))
     ID       Name    
[1,] "A1, B1" "A2, B2" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T08:22:13.730

如果我理解正确，您想要一个与其他两个结构相同但元素合并的列表。在这种情况下，试试这个：

```
ul <- unlist(list(v1,v2))
sapply(unique(names(ul)),function(x) as.vector(ul[names(ul)%in%x]),simplify=FALSE)
$ID
[1] "A1" "B1"

$Name
[1] "A2" "B2" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:26:41.200

一个主意：：

```
v1 <- structure(list(ID = c("A1"), Name = c("A2")),.Names = c("ID", "Name"))
v2 <-  structure(list(ID = c("B1"), Name = c("B2")),.Names = c("ID", "Name"))
v <- list(v1, v2)

t(mapply(c, v)) # output as matrix 
```

第二次尝试：

```
unlist(apply(mapply(c,v), 1, function(x) list(unlist(x))), recursive = FALSE)
# output as list 
```

*更新：*如果您想在每个列表中具有唯一值，请使用以下命令：

```
v3 <- list(ID = "B1", Name = "B3")
vx <- list(v1, v2, v3)

unlist(apply(mapply(c,vx), 1,
             function(x) list(unique(unlist(x)))), recursive = FALSE) 
```

# jsf - primefaces 折线图数据提示未显示 xAxis 的正确值

> ID：12703572
> 
> 赞同：1
> 
> 时间：2012-10-03T07:14:31.887
> 
> 标签：jsf, jsf-2, primefaces, linechart

我在使用 primefaces 折线图时遇到问题。

我创建了`pieChartBean.createPieModel(Arraylist<HashMap<String, String>> piechart)`X 轴显示的折线图`Date`。现在 LineChart 显示正确，但数据提示未显示正确的值。我按照[primefaces 示例](http://www.primefaces.org/showcase-labs/ui/lineChart.jsf)创建折线图并发现了同样的问题。这是我的示例代码：

linchart.xhtml

```
<p:lineChart id="lineChart"  value="#{myBean.getLineChart()}" legendPosition="e" minY="0" maxY="100"  styleClass="jqplot-table-legend jqplot-target">
    <f:convertDateTime pattern="MM.dd.YYYY"/>
</p:lineChart> 
```

折线图截图

![在此处输入图像描述](../Images/ae48e0087cb8ccce0bd18fcbbcdeca7d.png)

这里显示数据提示`(1,40) instead of (date, 40)`

```
primefaces version-3.4 
```

更新：1

Primefaces UserGuide 3.4 将图表转换器描述为：

```
Charts support converters for category display, an example case would be java.util.Date objects for categories, in case you’d like charts to do the date formatting, bind a converter.
   <p:lineChart value="#{bean.model}">
       <f:convertDateTime pattern="dd.MM.yyyy" />
   </p:lineChart> 
```

[jqplot dateAxis](http://www.jqplot.com/deploy/dist/examples/date-axes.html#)如何提供帮助

Linechart 接受数据，`Arraylist<HashMap<String, String>>`但根据转换器它应该是`Arraylist<HashMap<Date, integer>>`. 我错过了什么吗

谢谢

# php - 从 php 中的存储过程返回结果

> ID：12703580
> 
> 赞同：0
> 
> 时间：2012-10-03T07:15:05.863
> 
> 标签：php, mysql, stored-procedures

我想从 php 中的 mysql 存储过程中获取结果集。我怎样才能做到这一点？任何帮助表示赞赏。最好有人可以发布代码片段！例如，如果我有一个登录表。我创建了一个存储过程

```
SELECT * FROM login 
```

现在我需要在 php 中调用这个存储过程并遍历结果集

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:31:22.833

PHP：

```
$mysqli = new mysqli("localhost", "root", "", "quadv2_dev");

if (!$mysqli->multi_query("CALL testlist()")) {
    echo "CALL failed: (" . $mysqli->errno . ") " . $mysqli->error;
}

do {
    if ($res = $mysqli->store_result()) {
        printf("---\n<pre/>");
        print_r($res->fetch_all());
        $res->free();
    } else {
        if ($mysqli->errno) {
            echo "Store failed: (" . $mysqli->errno . ") " . $mysqli->error;
        }
    }
} while ($mysqli->more_results() && $mysqli->next_result()); 
```

mysql：

```
DELIMITER $$

CREATE
    /*[DEFINER = { user | CURRENT_USER }]*/
    PROCEDURE `quadv2_dev`.`testlist`()
    /*LANGUAGE SQL
    | [NOT] DETERMINISTIC
    | { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }
    | SQL SECURITY { DEFINER | INVOKER }
    | COMMENT 'string'*/
    BEGIN

    SET @Qry ="SELECT *  FROM Content";
    PREPARE st FROM @Qry;
    EXECUTE st;
    DEALLOCATE PREPARE st;

    END$$

DELIMITER ; 
```

# solr - 检查数据是否来自 RAM 而不是来自辅助存储

> ID：12703586
> 
> 赞同：0
> 
> 时间：2012-10-03T07:15:57.407
> 
> 标签：solr, ram

我的 solr 索引很少。它们被保存在我的辅助存储中（我可以看到索引文件）。我想知道在查询时，索引是从 RAM（主存储器）还是从辅助存储器提供的。

我怎样才能检查它？这个想法是，如果索引是从辅助内存提供的，我可以做一些磁盘 I/O 延迟，以便增加整体查询时间，因为在 RAM 服务索引的情况下，这是不可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T11:32:45.893

查看[http://your.host:8983/solr/core0/admin/stats.jsp](http://your.host:8983/solr/core0/admin/stats.jsp)（此 url 用于多核）并查看缓存部分

# iphone - 如何使用 NSXMLParser 解析 scxml 文件

> ID：12703588
> 
> 赞同：0
> 
> 时间：2012-10-03T07:15:57.763
> 
> 标签：iphone, ios5, ios6, nsxmlparser

我有以下 scxml 文件

```
<?xml version = "1.0"?>
<scxml version="1.0" name="statemachine" initial="initialState" xmlns="http://www.w3.org/2005/07/scxml" binding="early" exmode="lax">

<state id="initialState">
    <transition target="state1" cond="TRUEPREDICATE" />
</state>
<state id="state1">
    <transition target="state2" cond="SELF.currentStateName == 'state1'" />
</state>
<state id="state2">
    <transition target="state1" cond="SELF.currentStateName == 'state2' && SELF.count <  5" />
    <transition target="finalState" cond="SELF.currentStateName == 'state2' && SELF.count >=  5" />
</state>
<state id="finalState"/>
</scxml> 
```

我想使用 NSXMLParser 解析这个文件。当我单击按钮时，我的想法是，我们要检查状态和目标。
我想显示当前状态值。

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T11:37:22.167

*整个文档将采用**字典**格式。在此字典中，**状态**将是一个具有键 id 的字典，而**转换**是另一个具有键目标的字典，cond。在`-didStartElement`中，您可以获得这些值。*

猜猜，这对你有用！

# javascript - 动态 div 被重置

> ID：12703589
> 
> 赞同：0
> 
> 时间：2012-10-03T07:16:01.730
> 
> 标签：javascript, jsf, jsf-2

我试图`chatBean.selectedUser`在单击 h:commandLink 时在 javascript 生成的动态 div 中显示。我面临的问题是，每当我单击 commandLink 按钮时，页面都会刷新`action=#{chatBean.refresh}`，因此动态 div 被重置，我无法创建动态 div。我需要提交表单来更新 selectedUser 属性，但表单提交会重置页面。

1）这是xhtml页面

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
<script>
var counter = 0;
var numBoxes = 5;
function toggle4(showHideDiv) {
       var ele = document.getElementById(showHideDiv + counter);
       if(ele.style.display == "block") {
              ele.style.display = "none";
       }
       else {
              ele.style.display = "block";
       }
       if(counter == numBoxes) {
                document.getElementById("toggleButton").style.display = "none";
       }
}

</script>
</h:head>

<h:body class="thrColElsHdr">

        <div class="friends">

        <h4>Friends</h4>
        <h:form>
        <p:selectOneMenu value="#{chatBean.selectedUser}">
        <f:selectItems value="#{chatBean.friendList}" var="users" itemLabel="#{users.firstName}" itemValue="#{users.firstName}"/>
        </p:selectOneMenu>

        <h:commandLink onclick="counter++; toggle4('chat');" id="chat" value="Chat" action="#{chatBean.refresh}"></h:commandLink>
        </h:form>
        <br>
        </br>
        <h:outputLabel id="theLabel" value="#{chatBean.selectedUser}"/>

        </div>

</div>
 <div id="chat1" class="chat"><h:outputLabel value="#{chatBean.selectedUser}"/></div>
 <div id="chat2" class="chat"><h:outputLabel value="#{chatBean.selectedUser}"/></div>
 <div id="chat3" class="chat"><h:outputLabel value="#{chatBean.selectedUser}"/></div>
 <div id="chat4" class="chat"><h:outputLabel value="#{chatBean.selectedUser}"/></div>
 <div id="chat5" class="chat"><h:outputLabel value="#{chatBean.selectedUser}"/></div>
</h:body>
</html> 
```

2）这里是chatBean

```
package com.bean;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

import javax.faces.context.FacesContext;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;
import javax.persistence.Query;
import javax.servlet.http.HttpSession;

import com.entity.Friend;
import com.entity.User;

public class ChatBean {
    private EntityManager em;
    private String selectedUser;

    public String getSelectedUser() {
        return selectedUser;
    }

    public void setSelectedUser(String selectedUser) {
        this.selectedUser = selectedUser;
    }

    public ChatBean(){
        selectedUser= new String();
        EntityManagerFactory emf=Persistence.createEntityManagerFactory("FreeBird");
         em =emf.createEntityManager();
    }

public List<User> getFriendList(){

        FacesContext context = FacesContext.getCurrentInstance();
        HttpSession session = (HttpSession) context.getExternalContext().getSession(true);
        User user=(User) session.getAttribute("userdet");
        Query query = em.createQuery("SELECT f FROM Friend f WHERE f.email='"+user.getEmail()+"' AND f.status=1",Friend.class);
         List<Friend> results =query.getResultList();
         ArrayList<User> friends = new ArrayList<User>();
         Iterator<Friend> it = results.iterator();
          while(it.hasNext()){
              System.out.println("in getFriendList...");

             User friend =em.find(User.class,it.next().getFriendEmail());
             friends.add(friend);
         }
          return friends;
}
public String refresh(){
    System.out.println("inside refresh...");
    return "NewFile";
}

} 
```

3）这里是用户实体类

```
package com.entity;

import java.io.Serializable;
import javax.persistence.*;

/**
 * The persistent class for the user database table.
 * 
 */
@Entity
public class User implements Serializable {
    private static final long serialVersionUID = 1L;

    @Id
    private String email;

    @Lob()
    private String aboutMe;

    private String birthDate;

    private String city;

    private String college;

    private String confirmation;

    private String contactNo;

    private String country;

    private String degree;

    private String firstName;

    private String gender;

    private String highSchool;

    private String image;

    private String interest;

    private String lastName;

    private String password;

    private int pincode;

    @Lob()
    private String quote;

    private String relationship;

    private String secondarySchool;

    private String state;

    private String street;

    private String university;

    private String userName;

    public User() {
    }

    public String getEmail() {
        return this.email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getAboutMe() {
        return this.aboutMe;
    }

    public void setAboutMe(String aboutMe) {
        this.aboutMe = aboutMe;
    }

    public String getBirthDate() {
        return this.birthDate;
    }

    public void setBirthDate(String birthDate) {
        this.birthDate = birthDate;
    }

    public String getCity() {
        return this.city;
    }

    public void setCity(String city) {
        this.city = city;
    }

    public String getCollege() {
        return this.college;
    }

    public void setCollege(String college) {
        this.college = college;
    }

    public String getConfirmation() {
        return this.confirmation;
    }

    public void setConfirmation(String confirmation) {
        this.confirmation = confirmation;
    }

    public String getContactNo() {
        return this.contactNo;
    }

    public void setContactNo(String contactNo) {
        this.contactNo = contactNo;
    }

    public String getCountry() {
        return this.country;
    }

    public void setCountry(String country) {
        this.country = country;
    }

    public String getDegree() {
        return this.degree;
    }

    public void setDegree(String degree) {
        this.degree = degree;
    }

    public String getFirstName() {
        return this.firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getGender() {
        return this.gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public String getHighSchool() {
        return this.highSchool;
    }

    public void setHighSchool(String highSchool) {
        this.highSchool = highSchool;
    }

    public String getImage() {
        return this.image;
    }

    public void setImage(String image) {
        this.image = image;
    }

    public String getInterest() {
        return this.interest;
    }

    public void setInterest(String interest) {
        this.interest = interest;
    }

    public String getLastName() {
        return this.lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public String getPassword() {
        return this.password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public int getPincode() {
        return this.pincode;
    }

    public void setPincode(int pincode) {
        this.pincode = pincode;
    }

    public String getQuote() {
        return this.quote;
    }

    public void setQuote(String quote) {
        this.quote = quote;
    }

    public String getRelationship() {
        return this.relationship;
    }

    public void setRelationship(String relationship) {
        this.relationship = relationship;
    }

    public String getSecondarySchool() {
        return this.secondarySchool;
    }

    public void setSecondarySchool(String secondarySchool) {
        this.secondarySchool = secondarySchool;
    }

    public String getState() {
        return this.state;
    }

    public void setState(String state) {
        this.state = state;
    }

    public String getStreet() {
        return this.street;
    }

    public void setStreet(String street) {
        this.street = street;
    }

    public String getUniversity() {
        return this.university;
    }

    public void setUniversity(String university) {
        this.university = university;
    }

    public String getUserName() {
        return this.userName;
    }

    public void setUserName(String userName) {
        this.userName = userName;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:42:37.607

开始改变

```
public String refresh(){
    System.out.println("inside refresh...");
    return "NewFile";
} 
```

进入

```
public void refresh(){
    System.out.println("inside refresh...");
} 
```

如果它适合你，我会建议一些改进......

# crystal-reports - 多表的水晶报表

> ID：12703590
> 
> 赞同：1
> 
> 时间：2012-10-03T07:16:07.280
> 
> 标签：crystal-reports, crystal-reports-2008

我正在设计一个水晶报表。我需要在一页上显示两个表格。（换句话说，每页上有两个详细信息部分）。

两个表都有彼此独立的记录。例如
，表 1 的列是：

```
|Item No | Item Name | Date | Qtty Sold | Selling Price | 
```

表 2 的列是：

```
Item No | Item Details | RemainingQtty | 
```

表 1 有 30 行，表 2 有 5 行

有人可以帮助我如何实现这一目标吗？

非常感谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T09:28:16.920

**解决了**

我建议使用**单个查询来报告要在两个表中显示的数据**（使用 UNION；两个查询必须具有相同数量\类型的列）；添加一个**额外的列并调用它`Table`**，将值强制为`1`or `2`。

报告内

*   根据报表创建一个`GROUP`（因此表1的所有记录将显示在顶部，表2的记录将显示在底部）
*   创建 2`DETAIL`和 2`GROUP HEADER`部分以正确显示数据
*   使用此抑制规则`{Command.Table}=1`显示正确`GROUP HEADER`和`DETAIL`

[这是示例报告的链接](http://beativoi.altervista.org/opentech/DoubleTable.rpt) [http://beativoi.altervista.org/opentech/DoubleTable.rpt](http://beativoi.altervista.org/opentech/DoubleTable.rpt)

* * *

根据表值对记录进行排序，然后创建两个详细信息部分

# android - 如何解决这个问题：android 中的 java.lang.NumberFormatException？

> ID：12703593
> 
> 赞同：2
> 
> 时间：2012-10-03T07:16:13.680
> 
> 标签：android, bar-chart, numberformatexception

我正在android中创建一个条形图，但是我的logcat上出现了这些错误，这是什么意思？请建议...

任何人都可以让我知道解决方案吗？

**日志猫**

```
10-03 12:39:26.965: W/KeyCharacterMap(524): No keyboard for id 0
10-03 12:39:26.965: W/KeyCharacterMap(524): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
10-03 12:39:45.455: D/AndroidRuntime(524): Shutting down VM
10-03 12:39:45.455: W/dalvikvm(524): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
10-03 12:39:45.475: E/AndroidRuntime(524): FATAL EXCEPTION: main
10-03 12:39:45.475: E/AndroidRuntime(524): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.test_wb/com.example.test_wb.ResultActivity}: java.lang.NumberFormatException: 
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.os.Handler.dispatchMessage(Handler.java:99)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.os.Looper.loop(Looper.java:123)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.app.ActivityThread.main(ActivityThread.java:4627)
10-03 12:39:45.475: E/AndroidRuntime(524):  at java.lang.reflect.Method.invokeNative(Native Method)
10-03 12:39:45.475: E/AndroidRuntime(524):  at java.lang.reflect.Method.invoke(Method.java:521)
10-03 12:39:45.475: E/AndroidRuntime(524):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
10-03 12:39:45.475: E/AndroidRuntime(524):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
10-03 12:39:45.475: E/AndroidRuntime(524):  at dalvik.system.NativeStart.main(Native Method)
10-03 12:39:45.475: E/AndroidRuntime(524): Caused by: java.lang.NumberFormatException: 
10-03 12:39:45.475: E/AndroidRuntime(524):  at org.apache.harmony.luni.util.FloatingPointParser.parseDblImpl(Native Method)
10-03 12:39:45.475: E/AndroidRuntime(524):  at org.apache.harmony.luni.util.FloatingPointParser.parseDouble(FloatingPointParser.java:283)
10-03 12:39:45.475: E/AndroidRuntime(524):  at java.lang.Double.parseDouble(Double.java:287)
10-03 12:39:45.475: E/AndroidRuntime(524):  at com.example.test_wb.ResultActivity.onCreate(ResultActivity.java:40)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
10-03 12:39:45.475: E/AndroidRuntime(524):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
10-03 12:39:45.475: E/AndroidRuntime(524):  ... 11 more 
```

**结果活动.java**

```
public class ResultActivity extends Activity 
{   
TextView txt1,txt2;

String a,b;
double x_axis,y_axis;

@Override
public void onCreate(Bundle savedInstanceState)
{   
super.onCreate(savedInstanceState);
setContentView(R.layout.main1);

Bundle extras = getIntent().getExtras();

if(extras != null)
{   
    a = extras.getString("gotonextpageX");
    b = extras.getString("gotonextpageY");

    double x_axis = Double.parseDouble(a); // Type casting
    double y_axis = Double.parseDouble(b); // Type casting

  }
else
{

}

draw();

//txt1 = (TextView)findViewById(R.id.txtVw);
//txt2 = (TextView)findViewById(R.id.txtVw2);
//txt1.setText(x);
//txt2.setText(y);
}

public void draw()
{   

String[] titles = new String[] { "Order's profit of the year", " " };

List<double[]> values = new ArrayList<double[]>();

values.add(new double[] { y_axis });

int[] colors = new int[] { Color.BLACK, Color.WHITE};

XYMultipleSeriesRenderer renderer = buildBarRenderer(colors);
renderer.setOrientation(Orientation.HORIZONTAL);

 setChartSettings(renderer, "Profit for the year 2012", " ", " ",0,x_axis, 0,y_axis, Color.GRAY, Color.LTGRAY);

renderer.setXLabels(1);
renderer.addXTextLabel(100, "x");

//renderer.addXTextLabel(200, "ord2");
//renderer.addXTextLabel(300, "ord3");
//renderer.addXTextLabel(400, "ord4");
//renderer.setPanEnabled(true, false);

int length = renderer.getSeriesRendererCount();

for (int i = 0; i < length; i++) 
{
    SimpleSeriesRenderer seriesRenderer = renderer.getSeriesRendererAt(i);
    seriesRenderer.setDisplayChartValues(true);
    }

ChartFactory.getBarChartIntent(this, buildBarDataset(titles, values), renderer,Type.DEFAULT);
}

protected XYMultipleSeriesRenderer buildBarRenderer(int[] colors) 
{   

  // creates a SeriesRenderer and initializes it with useful default values as well as colors

    XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();

    renderer.setAxisTitleTextSize(15);
    renderer.setChartTitleTextSize(20);
    renderer.setLabelsTextSize(15);
    renderer.setLegendTextSize(15);

    int length = colors.length;

    for (int i = 0; i < length; i++) 
    {
        SimpleSeriesRenderer r = new SimpleSeriesRenderer();
        r.setColor(colors[i]);
        renderer.addSeriesRenderer(r);
        }
    return renderer;
    }

protected void setChartSettings(XYMultipleSeriesRenderer renderer, String title, String xTitle,
String yTitle, double xMin, double x_axis2, double yMin, double yMax, int axesColor,int labelsColor) 
{   

// sets lots of default values for this renderer

renderer.setChartTitle(title);
renderer.setXTitle(xTitle);
renderer.setYTitle(yTitle);

renderer.setXAxisMin(xMin);

//renderer.setXAxisMax(x2);

renderer.setYAxisMin(yMin);
renderer.setYAxisMax(yMax);

renderer.setAxesColor(axesColor);
renderer.setLabelsColor(labelsColor);

renderer.setApplyBackgroundColor(true);
renderer.setBackgroundColor(Color.GRAY);
}

protected XYMultipleSeriesDataset buildBarDataset(String[] titles, List<double[]> values) 
{   
// adds the axis titles and values into the data-set

XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();
int length = titles.length;

for (int i = 0; i < length; i++) 
{
    CategorySeries series = new CategorySeries(titles[i]);

    double[] v = values.get(i);
    int seriesLength = v.length;

    for (int k = 0; k < seriesLength; k++) 
    {
        series.add(v[k]);
    }

    dataset.addSeries(series.toXYSeries());
}
return dataset;
}} 
```

**Main_WB.java**

```
public class Main_WB extends Activity
{
EditText edt1, edt2;
// TextView txt_1;

Button btn;
ArrayList<String> result;

@Override
public void onCreate(Bundle savedInstanceState) 
{
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

edt1 = (EditText) findViewById(R.id.editText1);
edt2 = (EditText) findViewById(R.id.editText2);
btn = (Button) findViewById(R.id.button1);

result = new ArrayList<String>();

btn.setOnClickListener(new View.OnClickListener() 
{
    public void onClick(View v) 
    {
        result.addAll(getTMSChart(edt1.getText().toString(), edt2.getText().toString()));

        Intent in = new Intent(getApplicationContext(), ResultActivity.class);

        in.putExtra("gotonextpageX", result.get(0));
        in.putExtra("gotonextpageY", result.get(1));

        startActivity(in);
    }
});
}
private ArrayList<String> getTMSChart(String FromDate, String ToDate) 
{
// txt_1 = (TextView)findViewById(R.id.textView1);

System.setProperty("http.keepAlive", "false");
SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

envelope.dotNet = true;

String NAMESPACE = "http://tempuri.org/";
String URL = "http://54.251.60.177/TMSOrdersService/TMSDetails.asmx";
String METHOD = "GetTMSChart";

SoapObject request = new SoapObject(NAMESPACE, METHOD);
request.addProperty("FromDate", FromDate);
request.addProperty("ToDate", ToDate);

envelope.setOutputSoapObject(request);
HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

String x = "", y = "";

ArrayList<String> stringResult = new ArrayList<String>();

try 
{
    androidHttpTransport.call(NAMESPACE + METHOD, envelope);
    SoapObject result = (SoapObject) envelope.bodyIn;
    SoapObject root = (SoapObject) ((SoapObject) (result).getProperty(0)).getProperty("NewDataSet");
    int tablesCount = root.getPropertyCount();

    for (int i = 0; i < tablesCount; i++) 
    {
        SoapObject table = (SoapObject) root.getProperty(i);
        int propertyCount = table.getPropertyCount();

        for (int j = 0; j < propertyCount; j++) 
        {

            stringResult.add(table.getPropertyAsString("Order_No").toString());
            stringResult.add(table.getPropertyAsString("Freight_Rate").toString());
        }
    }
}
catch (Exception e) 
{
}

return stringResult;
}} 
```

谢谢你的时间！..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:24:25.280

来自官方文档：

“公共类 NumberFormatException 扩展了 IllegalArgumentException

抛出以表明应用程序已尝试将字符串转换为其中一种数字类型，但该字符串没有适当的格式。”

您可能正在尝试将字符串解析为数字类型（在您的情况下，将字符串解析为双精度类型），但该字符串可能没有正确的格式来转换为双精度类型。

因此，在代码中，当您使用意图对象获取值时，请检查它们的格式是否正确。或者，当您将它们插入到用于调用此活动的意图对象中时，只需正确格式化它们，即 intent.putExtra(...)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:24:52.513

```
double x_axis = Double.parseDouble(a); // Type casting
double y_axis = Double.parseDouble(b); // Type casting 
```

此处的 a 或 b 都不能转换为 double。也许其中之一为空、空或不是数字？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:27:26.760

您正在尝试将字符串转换为

```
double x_axis = Double.parseDouble(a); // Type casting
double y_axis = Double.parseDouble(b); // Type casting 
```

成双。现在解析器试图理解输入字符串并且在不属于数字的字符上失败，例如字母'a'。

您可以在进行解析之前打印“a”和“b”的值，以查看它们是什么并修复解析。或者在调试器中启动您的应用程序并在第 40 行放置一个断点。

# iphone - iOS：4英寸显示器的图像

> ID：12703594
> 
> 赞同：0
> 
> 时间：2012-10-03T07:16:14.510
> 
> 标签：iphone, ios, ios6

如何为 4 英寸显示器中的图像视图指定图像名称，例如视网膜尺寸 @2x 与图像名称一起使用？有什么特别的方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:18:16.190

iPhone 5 没有区别。它是视网膜，所以它使用@2x 图像，但除了用于告诉操作系统你支持更大屏幕的 Default-568h@2x.png 图像之外，没有什么特别的。

3.5 英寸和 4 英寸 iPhone 之间的唯一区别是`[[UIWindow mainWindow] bounds]`返回的尺寸（以及相关的屏幕尺寸元素）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T10:03:30.933

@2x 图像适用于视网膜显示器，即 iPhone 4S 和 iPhone 5。

为了为 iPhone 4S 和 iPhone 5 选择不同的图像，我首先使用链接检查我使用的是哪个设备型号：

[检测特定的 iPhone/iPod touch 型号](https://stackoverflow.com/questions/1108859/detect-the-specific-iphone-ipod-touch-model)

然后相应地您可以为 iPone 4S 或 iPhone 5 设置图像....

# java - 从 JAR 文件中的 Java 类中删除方法

> ID：12703597
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:16:39.373
> 
> 标签：java, jar

我有一个 jar 文件，其中包含一些类。

我必须从类中删除一个方法，并且需要在我的应用程序中使用相同的 jar 文件。

我需要一个可以让我完成这些任务的工具。

-> 打开 .JAR 文件并显示 java 代码

-> 编辑java源代码并保存文件

有什么工具可以做这个操作吗？如果是，请回答我的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:21:15.390

用于`jar`解压缩存档，然后找到`.class`包含要删除的方法的文件。

然后，您可以使用 java 反编译器反编译成`.java`文件、编辑和重新编译。但请注意，如果代码被混淆，则很难找到该方法的位置。

# asp.net-mvc - Razor，如何缓存 ITemplate

> ID：12703599
> 
> 赞同：0
> 
> 时间：2012-10-03T07:16:44.240
> 
> 标签：asp.net-mvc, templates, razor

我正在使用 RazorEngine 来呈现模板（我们用作时事通讯）。RazorEngine 3 (https://github.com/Antaris/RazorEngine) 的一个好处是您可以使用： - 模板布局 - 包含模板

但是，要使其正常工作，您需要创建一个动态解析器​​服务。

这将解析并返回完整的模板，作为已编译的 RazorTemplate：

```
ITemplate rTemplate = service.Resolve(templateId, parameters); 
```

然后我做 rTemplate.Run()

哪个调用：

```
public static string Run(this ITemplate template)
{
    ExecuteContext context = new ExecuteContext();
    return template.Run(context);
} 
```

问题是这不会缓存我的模板！我真的需要缓存它们。但 Razor.Parse(template, model, cacheName) 只接受字符串模板。

怎么解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-13T12:39:16.430

缓存实例的`ITemplate`实例没有什么意义，如果您多次运行一个实例，您可能会遇到它的输出问题。当您使用 时`Resolve(name)`，它使用您`ITemplateResolver`来定位模板内容，然后编译该模板。当您提供了一个名称时，它将`Type`根据该名称缓存模板。`Compile(name)`对、 和等的后续调用`Resolve(name)`将导致使用现有的命名模板类型，而不是再次重新编译模板。

# sql - 只有在使用列列表并且 IDENTITY_INSERT 为 ON 时，才能为表“customers”中的标识列指定显式值

> ID：12703600
> 
> 赞同：12
> 
> 时间：2012-10-03T07:16:45.680
> 
> 标签：sql, sql-server-2008-express

> **可能重复：**
> [当 IDENTITY_INSERT 设置为 OFF 时，无法在表“表”中插入标识列的显式值](https://stackoverflow.com/questions/1334012/cannot-insert-explicit-value-for-identity-column-in-table-table-when-identity)

我是 SQL 新手。我正在尝试`INSERT`在 SQL Server 2008 Express 版本中编写查询。

查询是：

```
insert into customers
values(201, 'Singh', 'rajnish', '101 bhandup', 'mumbai', 'mp', 33321, 0, null, 123.89, 25.00) 
```

但我收到以下错误。

> 只有在使用列列表并且 IDENTITY_INSERT 为 ON 时，才能为表“customers”中的标识列指定显式值。

我搜索了stackoverflow。发现了一些类似的问题，但无法理解解释。请帮助我理解错误并纠正它。

编辑 ：

我试着做：

```
SET IDENTITY_INSERT customers ON;
insert into customers
values(201, 'Singh', 'rajnish', '101 bhandup', 'mumbai', 'mp', 33321, 0, null, 123.89, 25.00)
SET IDENTITY_INSERT customers OFF; 
```

但我又遇到了同样的错误。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-03T07:22:45.273

试试这个

```
SET IDENTITY_INSERT customers ON
GO
insert into customers(id, ...)
values(201,'Singh','rajnish','101 bhandup','mumbai','mp',33321,0,null,123.89,25.00)
SET IDENTITY_INSERT customers OFF 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-03T07:20:40.967

如果您的第一个值是标识列，则只需将其删除，如下所示：

```
insert into customers
values('Singh','rajnish','101 bhandup','mumbai','mp',33321,0,null,123.89,25.00) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-03T07:19:11.577

当表使用标识字段时，它会选择自己的值。它跟踪这些值以确保它永远不会尝试输入重复值，并且如果您尝试指定自己的值，则会产生此错误。

因此，在您的情况下，A 插入没有标记为标识字段的字段的行；让 sql 引擎为该字段选择它自己的值。（这就是您正确使用身份字段的全部原因）

或者，B. 在运行插入之前启用[identity_insert](http://msdn.microsoft.com/en-us/library/ms188059%28v=sql.105%29.aspx)（如果您有充分的理由插入特定值作为键）。

您还需要使用[有效的插入语句](http://msdn.microsoft.com/en-us/library/ms174335%28v=sql.105%29.aspx)。指定要插入的列以及值。

# sql-server - 如何在应用程序代码中获取“start_lsn”值

> ID：12703601
> 
> 赞同：2
> 
> 时间：2012-10-03T07:16:46.413
> 
> 标签：sql-server, sql-server-2008-r2, cdc

**数据库通过“更改数据捕获**”机制跟踪所有更改。我需要添加有关进行这些更改的用户的其他信息。以下用户不是 SQL Server 用户。安全授权是通过外部机制执行的。

我想添加一个带有“ **start_lsn** ”和“ **userId** ”列的帮助表，以将事务与授权用户相关联。有没有办法确定“ **start_lsn** ”值，它对应于应用程序代码中执行的当前事务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T15:11:39.317

目前，我找到了以下解决方案：

1)

*   再创建一个表（例如，**“UserActivity”**），其中包含**“ID”**和**“userId”**列；

*   使用“ID”列作为主键；

*   为此表启用 CDC 选项。

2)

*   用**事务范围**包装所有数据修改操作；

*   在特定事务期间使用当前**“userId”**将新数据记录添加到此表中：

    *   开始**独家**交易；

    *   执行“数据操作”；

    *   将有关**“userId”**的信息插入**“UserActivity”**表。

由于事务是独占的并且所有操作都在单个事务范围内进行，因此**“last_lsn”**（**“start_lsn”**）值是相同的。

之后，使用 JOIN 运算符，将**“UserActivity”**表中的数据与数据操作信息合并。

# c# - 如何禁用 AspNetSqlMembershipProvider？

> ID：12703602
> 
> 赞同：0
> 
> 时间：2012-10-03T07:16:46.657
> 
> 标签：c#, asp.net, .net, entity-framework-4

我需要在我的项目中禁用 AspNetSqlMembershipProvider。

在我的 web.config 中：

```
<connectionStrings>
    <add name="ApplicationServices" connectionString="Data Source=XXX.XXX.XXX.XXX,XXXXX;Initial Catalog=XXXXX;MultipleActiveResultSets=True;Persist Security Info=True;User ID=XXXXX;Password=XXXXX" providerName="System.Data.SqlClient" />
    <remove name="LocalSqlServer"/>

</connectionStrings>

<membership>
<providers>
    <clear/>
    <add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices"
                     enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false"
                     maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10"
                     applicationName="/" />
</providers>
</membership> 
```

我需要完全禁用会员资格。现在会员尝试连接到数据库。我不需要这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:18:22.920

把它从你的`web.config`

```
<add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices"
                 enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false"
                 maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10"
                 applicationName="/" /> 
```

# sql - 如何在 ms-access VBA 中引用不同子中的变量？

> ID：12703603
> 
> 赞同：0
> 
> 时间：2012-10-03T07:17:07.827
> 
> 标签：sql, database, vba, ms-access

我拥有的是一个单独的 Private Sub，它获取一个值并将其设置为 Double 类型的变量“Record”。

现在我需要能够引用该值，即使它在另一个子中？

例如：

```
Private Sub GetValue()

Dim Record as Double

Record = (Code to find Record)

End Sub 
```

如何在另一个 Sub 中引用该“记录”？

在此先感谢，鲍勃 P

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:04:17.850

答案是你不能。它对那个子私有

您需要做的是，拥有

```
Dim Record as Double 
```

在通用代码中，或者，将其转换为函数并返回它以便您可以执行

```
Myrecord = GetValue() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T08:02:03.083

我更喜欢 SQL Server 和 Excel，如果我必须解决您的问题，我会以两种方式之一来解决。那不可能真的是你的函数的主体，是吗 - 因为记录被设置为本地，然后......消失了！

1.  使用全局变量。只需将`Dim Record as Double`任何子的外部。这也意味着只要你最后一次调用这个 Sub，它就会被设置，假设所有其他代码只从它读取。
2.  改用 a `Function`。下面的例子

* * *

```
Private Function GetRecord() as Double
    Dim Record as Double
    Record = ....
    GetRecord = Record
End Function 
```

# php - 在 MySQL 中使用过滤器内部连接多对多表

> ID：12703606
> 
> 赞同：-4
> 
> 时间：2012-10-03T07:17:24.053
> 
> 标签：php, mysql

表结构..这里只有3个表..（购买，客户，产品）。..

```
bought table structure : fields (id,product_id,customer_id), 
customer table structure: (customer_id,name,address) , 
product table structure: (product_id,name). 
```

产品表内包括产品a和b。从购买的表中，我想获取客户 ID（购买了产品“a”但没有购买产品“b”的客户）。

使用 mysql 或类似的，你将如何选择所有购买了产品'a'但没有购买产品'b'的客户，而不使用子选择。（确保结果中没有客户购买产品'b'。）..请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:23:55.050

我不确定，您想按产品名称过滤吗？也许我在你的问题中遗漏了一些东西，但我认为这应该可行

```
select customer_id 
from
bought b
inner join customer c on b.customer_id = b.customer_id
inner join product p on p.product_id = b.product_id
where p.name = 'a' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T08:24:37.543

这是您的表格和连接的全部答案。

**顾客**

```
CREATE TABLE customer (
  customer_id int NOT NULL PRIMARY KEY AUTO_INCREMENT,
  name varchar(50),
  address varchar(100)
) ENGINE=InnoDB; 
```

**产品**

```
CREATE TABLE product (
  product_id int NOT NULL PRIMARY KEY AUTO_INCREMENT,
  name varchar(50)
) ENGINE = InnoDB; 
```

**购买或交易**

```
CREATE TABLE bought (
  id int NOT NULL PRIMARY KEY AUTO_INCREMENT,
  product_id int,
  customer_id int,
  FOREIGN KEY (product_id) REFERENCES product(product_id),
  FOREIGN KEY (customer_id) REFERENCES customer(customer_id)
) ENGINE=InnoDB; 
```

**插入值**

```
INSERT INTO customer (name, address) VALUEs ("George","Kentucky")
INSERT INTO customer (name, address) VALUEs ("Stan","Dublin")
INSERT INTO customer (name, address) VALUEs ("Kazaam","UAE")
INSERT INTO customer (name, address) VALUEs ("Sarah","New York")

INSERT INTO product (name) VALUES ("tomato")
INSERT INTO product (name) VALUES ("apple")

INSERT INTO bought (customer_id, product_id) VALUEs("1","2")
INSERT INTO bought (customer_id, product_id) VALUEs("2","1")
INSERT INTO bought (customer_id, product_id) VALUEs("3","1")
INSERT INTO bought (customer_id, product_id) VALUEs("4","1") 
```

**带过滤器的内部联接** --> 这将是您的 $query

```
SELECT customer.customer_id, customer.name as customer_name, product.name as product_name
FROM customer
INNER JOIN bought ON customer.customer_id = bought.customer_id
INNER JOIN product ON product.product_id = bought.product_id 
WHERE product.name LIKE "apple" AND product.name NOT LIKE "tomato"
ORDER BY customer.name 
```

这将过滤所有购买苹果的客户。您所要做的就是更改**product.name**的值。如果要更改字段，请更改**INNER JOIN**的第一行。

**维恩图的解释：** 如果你仔细想想，MySQL是遵循维恩图的设计的。它不能与 3 个对象相交并过滤它们。您试图通过在中间构建另一个圆圈来超越维恩图的设计。见下图。

![在此处输入图像描述](../Images/25b4b7d0ae604eb70c4e447f8ea978e9.png)

因此，为了解决您在 PHP 上的问题，我们创建了那个内圈。您运行一个循环来获取所有在 product_name 上有“apples”的 customer_id(s)。然后再次执行 mysql_fetch 数组的循环。并仅输出带有“apples”的 customer_ids。

如果用MySQL不能解决过滤，就用PHP过滤数据来解决。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:28:00.377

> 我想吸引购买了产品“a”但没有购买产品“b”的客户

尝试这个：

```
SELECT * 
FROM Customers c
INNER JOIN
(
     SELECT * 
     FROM bought 
     WHERE product_id = id of 'a'
) ba ON c.CustomerId = ba.CustomerId
LEFT JOIN
(
     SELECT * 
     FROM bought 
     WHERE product_id = id of 'b'
) bb ON c.CustomerId = bb.CustomerId
WHERE bb.CustomerId IS NULL; 
```

# jquery - JPlayer播放列表的定位

> ID：12703608
> 
> 赞同：0
> 
> 时间：2012-10-03T07:17:25.307
> 
> 标签：jquery, jplayer, playlist

我想知道我是否可以更改[jplayer 播放列表](http://www.jplayer.org/latest/demo-02-jPlayerPlaylist/)的位置？我知道它的附加组件，但没有找到任何关于将其位置更改为出现在播放器右侧或同一页面上但甚至不接近播放器的声明。![JPlayerPlaylist 我需要什么的肮脏模拟](../Images/5eb838cb5e58e65e19f268b814bbfe4b.png)
我知道我可以编写自己的列表并实现“播放列表”功能，但需要知道我不能使用基本播放列表插件的功能来做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T09:55:35.507

通过使用一些 DIV 作为播放列表并在该 div 的项目上实现 JPlayer 的功能来实现，例如：

```
 Response.Write(i + " <a href='javascript:play(" + song.ID + ")' >" + song.ArtistName + " " + song.Title + " (" + song.AlbumTitle + ", " + song.Year + ")" +
                           "</a><br>"); 
```

在哪里`play()`：

```
 function play(songId) {
            $.ajax({
                cache: false,
                url: "poligon.aspx",
                data: "songId=" + songId,
                success: function (result) {
                    $(".jp-title").html(result.Text);
                    $("#jquery_jplayer_1").jPlayer("setMedia", {
                        mp3: result.MP3
                    });

                    SetNextSong(result.NextSongID);
                    SetPreviousSong(result.PreviousSongID);

                    $("#jquery_jplayer_1").jPlayer("play", 0);
                },
                error: function (error) {
                    alert(error);
                }
            });
        } 
```

# android - 将我的 android app min sdk 从 api 8 更改为 api 4 会删除我的 overridependingtransition

> ID：12703609
> 
> 赞同：0
> 
> 时间：2012-10-03T07:17:25.227
> 
> 标签：android, android-2.2-froyo, android-sdk-1.6

问题是 1.6 版本不支持覆盖挂起的转换 ang 给我错误，所以我删除了它们，但我的应用程序看起来很丑没有。问题是如何使 overridependingtransition 在支持 1.6 版本的 2.2 及更高版本上工作？感谢您的回复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:23:34.257

请查看Android 开发者网站上的[平台版本。](http://developer.android.com/about/dashboards/index.html)1.6 及以上版本的用户不到 1%。

但是如果你真的必须支持 1.6，请查看 Android Dev 网站上的以下链接：

*   [版本控制您的应用程序](http://developer.android.com/tools/publishing/versioning.html)
*   [支持不同平台版本](http://developer.android.com/training/basics/supporting-devices/platforms.html)
*   [使用版本感知组件](http://developer.android.com/training/backward-compatible-ui/using-component.html)
*   [多 APK 支持](http://developer.android.com/guide/google/play/publishing/multiple-apks.html)

# java - 如何在 Vaadin 中向 Tab 中添加内容？

> ID：12703614
> 
> 赞同：1
> 
> 时间：2012-10-03T07:17:40.143
> 
> 标签：java, vaadin

我有带有标签的 tabSheet。

```
 TabSheet tabsheet = new TabSheet();
 tabsheet.setSizeUndefined();
 tabsheet.addTab(new Label("Contents of the first tab"),"Слои");
 tabsheet.addTab(table, "Tab");
 tabsheet.addTab(new Label("Contents of the third tab"),"Межевые планы"); 
```

现在我想将另一个组件添加到第二个选项卡，例如 horisontalLayout

```
 HorizontalLayout lo = new HorizontalLayout();
  Button newContact = new Button();
  Button search = new Button();
  Button share = new Button();
  Button help = new Button();
   lo.addComponent(newContact);
   lo.addComponent(search);
   lo.addComponent(share);
   lo.addComponent(help); 
```

但是如何做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:26:14.667

准备布局：

```
 VerticalLayout l1 = new VerticalLayout();
    l1.setMargin(true);
    l1.addComponent(new Label("I am a label."));
    ... add your other components here. 
```

然后将其添加到您的标签页：

```
 TabSheet t = new TabSheet();
    t.setHeight("200px");
    t.setWidth("400px");
    t.addTab(l1, "My Tab", icon1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:07:57.493

首先，您应该定义整个选项卡的布局，然后您可以在此布局中添加其他组件。请参见下面的示例：

```
VerticalLayout verticalLayout = new VerticalLayout();
verticalLayout.setSizeFull();
tabsheet.addTab(verticalLayout, "Vertical Layout with inline components");
verticalLayout.addComponent(new Lable("Example"));
verticalLayout.addComponent(new Button("Button")); 
```

# javascript - 用于 HTML 内容的单独字符串文件

> ID：12703615
> 
> 赞同：1
> 
> 时间：2012-10-03T07:17:46.663
> 
> 标签：javascript, html

有没有办法将 HTML 中的所有常量（例如字符串和数字）分隔到一个单独的文件中？也就是说，而不是

```
<title>Hello World</title> 
```

做类似的事情

```
<title>STR_TITLE</title> 
```

和另一个文件，声明

```
STR_TITLE = "Hello World" 
```

我目前正在使用全局 Javascript 变量并在 HTML 代码中使用 document.write()，但正在寻找更好的解决方案。

我认为将内容分离到易于阅读/使用的文件中会更简单，因此非开发人员可以随时进入并更改内容。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:19:13.973

有很多可用的库可以帮助解决这个问题，这里有一个：

[{{ 胡子 }}](http://mustache.github.com/)

另一个：

[ICanHaz.js](http://icanhazjs.com/)

所有这些：

[microjs.com/#template](http://microjs.com/#templating)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:22:27.293

您也可以使用车把或 underscore.js

# ajax - Jquery多次加载到div中

> ID：12703621
> 
> 赞同：0
> 
> 时间：2012-10-03T07:18:01.030
> 
> 标签：ajax, jquery, jquery-selectors

我正在尝试制作一个包含 4 个可配置部分的页面，所有这些部分都将为用户提供相同的输入，但最终是 4 个独特的配置设置。

我正在使用通用基本页面来执行此操作，但遇到了 Jquery 选择器无法区分不同 div 内的部分但都来自同一页面的问题。起初我认为这是特定于实现的，所以创建了一个较小的测试页面，但最终似乎有同样的问题。

test.html 如下：

```
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="jquery/js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="jquery/js/jquery-ui-1.8.24.custom.min.js"></script>
</head>
<body>
<script type="text/javascript">
$(document).ready(function () 
{
    $('#div1').load("test2.html");
    $('#div2').load("test2.html");
});
</script>
<div id="div1"></div>
<div id="div2"></div>
</body>
</html> 
```

test2.html如下：

```
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="jquery/js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="jquery/js/jquery-ui-1.8.24.custom.min.js"></script>
</head>
<body>
<script type="text/javascript">
function testing()
{
    alert("Alert: " + $('#test').val());
}
</script>
<div id="testing">
<input id="test" onchange="testing()"></input>
</div>
</body>
</html> 
```

如果这不是正确的方法，那将是更好的方法，我知道我可能会使用 iframe，但我是否能够从其他页面中的输入框访问值。

我已经在 ubuntu firefox 15.0.1 上测试过了

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:25:58.820

首先，您不应该使用带有 jQ​​uery 的 load() 方法的完整 HTML 文档。您应该只有 div 里面的内容。例如，没有 doctype，没有 html 或 body 标签。只是身体本身。

其次：元素标识符在任何页面上都应该是唯一的。当您加载第一个 div 的内容时，它会创建一个 id=testing 的 div 元素。当您第二次加载它时，它会尝试创建它的另一个副本，但具有相同的标识符。

标识符必须是唯一的。（这就是他们识别的方式......）

另一种解决方案是使用 ajax() 加载内容，然后从 Javascript 代码中替换标识符，最后调用 $("#div1").html(replaced_html_content)。但如果我是你，我不会那样做。使用服务器端脚本并提供查询参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:34:33.550

s 如果您无法对 test2.html 进行更改，您可以使用如下代码。下面的代码只会抓取元素的主体部分。

```
$('#div1').load('test2.html body'); 
```

如果您可以对 test2.html 进行更改，请删除所有脚本和正文部分，并确保您只包含了需要的内容。

或者，如果您可以放置​​一个包含您想要的 HTML 部分的包装器，那就更好了。然后你可以像这样得到特定的div。

```
$('#div1').load('test2.html #container'); 
```

你这个关键字而不是专门说 div 名称。它将允许您获取输入已更改的 div。

**检查下面的链接**。它会帮助你。[尝试演示](http://jsfiddle.net/kryA2/1/)。

希望这会帮助你。如果您有任何问题，请随时提问。

# php - 如果某事或其他事 THEN - 这种情况可以在 1 行吗？

> ID：12703630
> 
> 赞同：0
> 
> 时间：2012-10-03T07:18:25.833
> 
> 标签：php, wordpress, conditional

我想添加条件逻辑以向登录用户显示页面。我有 2 个条件不允许他们查看页面，而是限制了内容消息。只有 1 必须为真

1）他们不是表单的作者 2）他们没有名为“成员”的自定义字段

```
if( $_GET['gform_post_id'] <= 0 || $user != $author ) {
//Then show restricted content message
} 
```

上面的代码适用于第一个条件。但我不确定如何添加第二部分。我想这将是一个`elseif`

我想理论上我可以通过做这样的事情来复制受限消息

```
if( $_GET['gform_post_id'] <= 0 || $user != $author ) {
//Then show restricted content message
} elseif {
if($memberstatus == 'member'){
//Then show restricted content message
} 
```

我不认为这个很好的解决方案的原因是我的“限制内容”非常大，因为我基本上用 HTML 编写了一个带有 Div 的页面。所以在代码中重复两次看起来有点笨拙。

所以我的问题是：有没有办法在同一行写条件？

IE

```
IF Condition 1 OR Condition 2 {
//Then show restricted content message
} 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:22:12.357

那这个呢？

```
if(($_GET['gform_post_id'] <= 0 || $user != $author) || $memberstatus == 'member' ) {
    //Then show restricted content message
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:23:22.307

如果我理解你的话，你想要这个：

```
if( ($_GET['gform_post_id'] <= 0 || $user != $author) || $memberstatus == 'member' ) {
   //Then show restricted content message
} 
```

# javascript - 在j查询中将字符串转换为dd/mm/yyyy格式

> ID：12703631
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:18:27.943
> 
> 标签：javascript, jquery, asp.net

我有三个下拉菜单`for showing date`。日和月的值都显示为 1, 2, 3,....。现在我需要最后的日期`01/01/2012`。

我怎么能做到这一点`Jquery`。我在附加一个`0 for values less than 10`. 我正在寻找一个简洁和最佳的解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:23:46.537

jQuery 中没有用于处理日期的任何内容，您可以使用纯 Javascript：

```
var year = date.getFullYear();
var month = date.getMonth() + 1;
var day = date.GetDate();

var formatted = (day<10?'0':'') + day + '/' + (month<10?'0':'') + month + '/' + year; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:23:21.523

看起来您可以从[data.js中受益](http://www.datejs.com/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-03T07:21:59.097

看看这个，jQuery [dateFormat 插件](http://archive.plugins.jquery.com/project/jquery-dateFormat)。这可能就是你所追求的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T08:07:58.830

在这里我已经完成了完整的解决方案，您也可以查看演示链接..

对于上述解决方案，您已包含文件最新的 jQuery.js 和 date.format.js

**演示** [http://codebins.com/bin/4ldqp6w](http://codebins.com/bin/4ldqp6w)

**HTML**

```
<select id="seldd">
  <option value="1">
    1
  </option>
  <option value="2">
    2
  </option>
  <option value="3">
    3
  </option>
  <option value="4">
    4
  </option>
  <option value="5">
    5
  </option>
  <option value="6">
    6
  </option>
  <option value="7">
    7
  </option>
  <option value="8">
    8
  </option>
  <option value="9">
    9
  </option>
  <option value="10">
    10
  </option>
</select>
<select id="selmm">
  <option value="1">
    1
  </option>
  <option value="2">
    2
  </option>
  <option value="3">
    3
  </option>
  <option value="4">
    4
  </option>
  <option value="5">
    5
  </option>
  <option value="6">
    6
  </option>
  <option value="7">
    7
  </option>
  <option value="8">
    8
  </option>
  <option value="9">
    9
  </option>
  <option value="10">
    10
  </option>
  <option value="11">
    11
  </option>
  <option value="12">
    12
  </option>
</select>
<select id="selyy">
  <option value="2012">
    2012
  </option>
  <option value="2011">
    2011
  </option>
  <option value="2010">
    2010
  </option>
  <option value="2009">
    2009
  </option>
  <option value="2008">
    2008
  </option>
  <option value="2007">
    2007
  </option>
  <option value="2006">
    2006
  </option>
  <option value="2005">
    2005
  </option>
  <option value="2004">
    2004
  </option>
  <option value="2003">
    2003
  </option>
  <option value="2002">
    2002
  </option>
  <option value="2001">
    2001
  </option>
</select>
<input type="button" value="Convert into Date" id="btn1" /> 
```

**jQuery**

```
$(function() {
    $("#btn1").click(function() {
        var strdt = $("#seldd").val().trim() + "/" + $("#selmm").val().trim() + "/" + $("#selyy").val().trim();

        var thisDate = new Date(Date.parse(strdt));
        alert(dateFormat(thisDate, "dd/mm/yyyy"));
    });

}); 
```

**演示** [http://codebins.com/bin/4ldqp6w](http://codebins.com/bin/4ldqp6w)

# java - 压缩字符串和符号

> ID：12703633
> 
> 赞同：1
> 
> 时间：2012-10-03T07:18:40.220
> 
> 标签：java, android, string, encoding, compression

我有大约 200 个字符的字符串，包括字符和符号我想使用任何算法压缩这个字符串......

请帮助我任何类型的程序、代码、算法

提前致谢

目前我正在使用它，但是当符号存在时，它显示数组索引超出范围。

```
**COMPRESSION**
byte[] encode(String txt, int bit){
int length = txt.length();
float tmpRet1=0,tmpRet2=0;
if(bit==6){
    tmpRet1=3.0f;
    tmpRet2=4.0f;
}else if(bit==5){
    tmpRet1=5.0f;
    tmpRet2=8.0f;
}
byte encoded[]=new byte[(int)(tmpRet1*Math.ceil(length/tmpRet2))];
char str[]=new char[length];
txt.getChars(0,length,str,0);
int chaVal = 0;
String temp;
String strBinary = new String("");
for (int i = 0;i<length; i++){
    temp = Integer.toBinaryString(toValue(str[i]));
    while(temp.length()%bit != 0){
        temp="0"+temp;
    }
    strBinary=strBinary+temp;
}
while(strBinary.length()%8 != 0){
   strBinary=strBinary+"0";
}
Integer tempInt =new Integer(0);
for(int i=0 ; i<strBinary.length();i=i+8){
    tempInt = tempInt.valueOf(strBinary.substring(i,i+8),2);
    encoded[i/8]=tempInt.byteValue();
}
return encoded;
}

**DECOMPRESSION** :

String decode(byte[] encoded, int bit){
String strTemp = new String("");
String strBinary = new String("");
String strText = new String("");
Integer tempInt =new Integer(0);
int intTemp=0;
for(int i = 0;i<encoded.length;i++){         
    if(encoded[i]<0){
        intTemp = (int)encoded[i]+256;
    }else
        intTemp = (int)encoded[i];
    strTemp = Integer.toBinaryString(intTemp);
    while(strTemp.length()%8 != 0){
        strTemp="0"+strTemp;
    }
    strBinary = strBinary+strTemp;
}
for(int i=0 ; i<strBinary.length();i=i+bit){
    tempInt = tempInt.valueOf(strBinary.substring(i,i+bit),2);
    strText = strText + toChar(tempInt.intValue()); 
}
return strText;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:30:36.213

有一次，在我学习的时候，我的老师让我编写了一个文本压缩器（很酷的作业）。基本思路是：如果每个字符都是 8 位，则找出出现次数最多的字符，并给它们赋值较短的值，而对出现次数较少的字母赋值较大。

例子：

`A = 01010101` `B = 10101010`

`Uncompressed: AAAB - 01010101 01010101 01010101 10101010`

`Compressed:`

A 出现 3 次（应该有更短的表示） B 出现 1 次（应该有更长的表示）

`A - 01`

`B - 10`

`Result: 01 01 01 10`

因此，您为每个字母生成一系列位，使任何字母都不应该具有可以与另一个字母匹配的表示。然后将生成的方案存储在压缩文件中。如果要解压缩，只需从压缩文件中读取方案，然后开始逐位读取。

在这里查看详细信息：[http ://web.stonehill.edu/compsci//LC/TEXTCOMPRESSION.htm](http://web.stonehill.edu/compsci//LC/TEXTCOMPRESSION.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:22:55.067

您可以使用 GZIPOutputStream 进行压缩 GZIPInputStream 进行解压缩。

如果您想在内存中执行此操作，只需使用 ByteArrayInputStream/ByteArrayOutputStream 作为上述两个类的目标。

请参阅下面的链接：

[http://docs.oracle.com/javase/1.5.0/docs/api/java/util/zip/GZIPOutputStream.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/zip/GZIPOutputStream.html)

# iphone - 如何检查它是从哪个视图控制器导航的 ....in obj c

> ID：12703636
> 
> 赞同：1
> 
> 时间：2012-10-03T07:18:56.857
> 
> 标签：iphone, objective-c, ios, xcode, navigation

我在一个上下文中，我从一些 3 个类导航到一个类，比如 classX，并且我在 classX 上有一个后退按钮，单击该后退按钮我需要导航到它已从中导航的类，所以我需要检查它是从哪个视图控制器导航的，是否可以不使用**`UINavigationController`**？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:24:36.467

您将通过以下方式检查呈现视图控制器的类型是否是您期望的类型：

```
if ([self.navigationController.presentingViewController isKindOfClass:[ParentController class]]) {
     ...
} 
```

# ssrs-2008 - 左侧的图像在生成的 PDF 中需要是连续的

> ID：12703642
> 
> 赞同：0
> 
> 时间：2012-10-03T07:19:23.133
> 
> 标签：ssrs-2008, reporting-services

我要生成一个 PDF，每页有 6 个报告。我需要整个 PDF 的左侧图像。

喜欢说

```
> PDF
> 第 1 页
图像1
image1 报告
图像1    
> 第 2 页
图像1
image1 报告
图像1     
> 第 3 页
图像1
image1 报告
图像1    

```

我尝试使用以下方法，但没有得到想要的结果

1.  只需使用右键单击 -> 插入 -> 图像插入图像。根据需要将图像的大小设置为 1*3。
2.  只是使用了 SSRS 的背景图像属性，但大小不是我想要的 1 * 3。

问题：在我的 PDF 的 6 页中，我没有在每个报告中获得连续的 3 张图像。我得到的是这样的

```
> PDF
> 第 1 页
图像1
image1 报告
图像1    
> 第 2 页

         报告
图像1     
> 第 3 页

         报告
图像1    

```

我真的希望我说清楚:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T15:00:15.993

我无法发表评论，所以我将发布作为答案。我建议使用图像作为背景。如我所见，您希望图像在报告的每一页中重复 3 次，这是背景。使用图像编辑器，编辑您想要在每个页面中查看的图像，然后将其设置为背景。下一步是设置图像的大小，使其与您的报告相匹配。

# c# - 如何解决“'installutil' 不是内部或外部命令、可运行程序或批处理文件。”？

> ID：12703645
> 
> 赞同：62
> 
> 时间：2012-10-03T07:20:02.043
> 
> 标签：c#, visual-studio, visual-studio-2012, cmd

刚刚尝试通过以下方式运行应用程序：

![在此处输入图像描述](../Images/5e1b71a9cac38f0660ef711389948439.png)

我已浏览到其中包含应用程序的目录`WindowsService1.exe`，然后尝试了该命令`Installutil WindowsService1.exe`，但出现以下错误...

![在此处输入图像描述](../Images/cb6b81eff16232b2aaa74c745d799dde.png)

由于 VS 只安装了一两天，我担心该安装可能有问题，因为它应该识别 installutil。

我可以执行一些基本诊断以确保 VS 命令提示符找到它应该找到的所有程序吗？

**编辑**

如果我`PATH`在命令提示符下运行，我会看到以下内容：

![在此处输入图像描述](../Images/0a2d3863f619103662fba89b7e3aaff9.png)

* * *

## 回答 #1

> 赞同：138
> 
> 时间：2012-10-03T07:35:18.683

这有点离题，但我已经停止使用 InstallUtil 来安装我的服务。将其添加到服务本身非常容易。添加对`System.Configuration.Install`（如果我没记错的话，在客户端配置文件版本中不可用）的引用，然后像这样在 Program.cs 中更新您的 Main() 函数。

```
static void Main(string[] args) {
    if (Environment.UserInteractive) {
        var parameter = string.Concat(args);
        switch (parameter) {
            case "--install":
                ManagedInstallerClass.InstallHelper(new[] { Assembly.GetExecutingAssembly().Location });
                break;
            case "--uninstall":
                ManagedInstallerClass.InstallHelper(new[] { "/u", Assembly.GetExecutingAssembly().Location });
                break;
        }
    } else {
        ServiceBase[] servicesToRun = { 
            new Service1() 
        };
        ServiceBase.Run(servicesToRun);
    }
} 
```

然后你可以`WindowsService1.exe`用`--install`参数调用它，它会安装服务，你可以忘记`InstallUtil.exe`.

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-12-10T07:15:10.670

这就是我为使它消失所做的事情：

1.  找到 installutil 驻留在我的 PC 上的位置。就我而言，它是 C:\Windows\Microsoft.NET\Framework\v4.0.30319

2.  以管理员身份打开命令提示符并将当前目录更改为上述目录：'cd C:\Windows\Microsoft.NET\Framework\v4.0.30319'

3.  然后输入：'installutil C:\MyProgramName.exe'

有趣的是，在上述解决方案之前，我尝试了不同的选项，其中将 C:\Windows\Microsoft.NET\Framework\v4.0.30319 添加到系统路径变量中，但仍然找不到。

祝大家安装顺利。

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2012-10-03T07:25:28.357

InstallUtil.exe 通常位于 C:\Windows\Microsoft.NET\Framework 下列出的版本之一下。

就我而言，它在 v4.0.30319 下。

你可以检查你的路径：

回显 %PATH%

应该给你一个搜索可执行文件的目录列表。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-06-16T04:29:59.923

在 bytes.com 上找到了解决方案

安装服务的代码：

```
@ECHO Installing Service...
@SET PATH=%PATH%;C:\Windows\Microsoft.NET\Framework\v4.0.30319\
@InstallUtil  C:\Unlock_4_Service\bin\Debug\Unlock_4_Service.exe
@ECHO Install Done.
@pause 
```

@InstallUtil <Windows 服务的.exe 文件路径>

卸载服务的代码

```
@ECHO Installing Service...
@SET PATH=%PATH%;C:\Windows\Microsoft.NET\Framework\v4.0.30319\
@InstallUtil /u C:\Unlock_4_Service\bin\Debug\Unlock_4_Service.exe
@ECHO Uninstall Done.
@pause 
```

@InstallUtil /u <你的windows服务的.exe文件路径>

将 2 个文件另存为 service_install.bat 和 service_uninstall.bat

每次您必须安装或卸载服务时，以管理员身份运行文件。 ![在此处输入图像描述](../Images/eb46e267e82bb4cbb6f67dcbe2280c47.png)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2019-02-19T09:46:29.030

在使用命令行安装服务之前...

使用2个步骤：

1.  cd C:\Windows\Microsoft.NET\Framework\v4.0.30319
2.  InstallUtil.exe 路径\MyWindowsService.exe

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2020-01-07T12:49:52.757

只需`installUtil.exe`在环境变量中添加路径即可解决此问题。

**例子：**

```
 C:\Windows\Microsoft.NET\Framework\v4.0.30319 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-10-03T07:24:14.577

除非您修改了路径，否则以下内容应在开发人员命令提示符而不是 cmd 中可用：

*   构建
*   mstest（终极版）
*   csc
*   伊斯兰教

... ETC

如果这些不可用，则您的安装可能已损坏。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2014-05-07T09:33:24.407

这可能是因为您没有以管理员身份或具有管理权限打开命令提示符。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-11-30T09:54:37.123

以管理员模式打开visual studio命令提示符，即右键单击vs命令提示符并以管理员身份运行

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2018-10-29T13:15:07.800

***根据微软[页面](https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-install-and-uninstall-services)：***

> 如果您使用的是 Visual Studio 命令提示符，`InstallUtil.exe`则应该在系统路径上。如果没有，您可以将其添加到路径中，或使用完全限定的路径来调用它。此工具随 .NET Framework 一起安装，其路径为：

**`%WINDIR%\Microsoft.NET\Framework[64]\`**

> 例如，对于 .NET Framework 4 或 4.5.* 的 32 位版本，如果您的 Windows 安装目录为 C:\Windows，则路径为：

**`C:\Windows\Microsoft.NET\Framework\v4.0.30319\InstallUtil.exe`**

> 对于 .NET Framework 4 或 4.5.* 的 64 位版本，默认路径为：

**`C:\Windows\Microsoft.NET\Framework64\v4.0.30319\InstallUtil.exe`**

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2017-05-25T19:21:15.277

我从 2017 年回到 2015 年之后得到了这个，我仍在使用 2017 年的命令提示符。有什么要检查的。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2019-01-29T09:24:02.537

```
Add this in windows Environmental variables
First: Right click on My computer or This PC
Second: Click on Environmental Variables
Third: add this path after clicking on path
C:\Windows\Microsoft.NET\Framework\v4.0.30319\installutil.exe 
```

# c# - Thread.abort() 和 Thread.join() 在 c# windows 应用程序中花费很长时间

> ID：12703650
> 
> 赞同：1
> 
> 时间：2012-10-03T07:20:57.907
> 
> 标签：c#, c#-4.0

在我的 c# windows 应用程序中，

我有两个按钮导出和取消。

在我的导出按钮中，我在这里将 sql 数据表导出到 .csv 文件。它在线程下运行。

```
thrThreadExportProcess = new Thread(new ThreadStart(startExport));
           thrThreadExportProcess.Start();
           thrThreadExportProcess.IsBackground = true; 
```

当它的导出过程正在运行时，用户在这里点击取消按钮，我正在中止线程，然后加入线程并删除导出的文件。

当它加入线程时，应用程序会挂起一段时间然后它会运行。

我的问题是为什么它会挂断一段时间。

这是取消按钮中的代码部分。

```
if (thrThreadExportProcess.IsAlive)
            {
               thrThreadExportProcess.Abort();
               thrThreadExportProcess.Join();
               File.Delete(csvPath);
            } 
```

请提供您宝贵的建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:34:07.357

`Thread.Abort`对任何事情都不做任何保证，应该避免。为什么在这种特定情况下挂起取决于`startExport`方法中的代码。

从[msdn 上的 Thread.Abort](http://msdn.microsoft.com/en-US/library/ty8d3wta%28v=vs.80%29.aspx)：

> 不保证线程立即中止，或者根本不中止。如果线程在作为 abort 过程的一部分调用的 finally 块中执行无限量的计算，则可能会发生这种情况，从而无限期地延迟 abort。要等到线程中止，您可以在调用 Abort 方法后在线程上调用 Join 方法，但不能保证等待会结束。

这是有关[创建和终止线程的文档](http://msdn.microsoft.com/en-us/library/7a2f3ay4%28v=VS.80%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:34:57.987

Thread.Abort() 在本机代码中不会立即终止线程（例如，在 I/O 或网络上阻塞）。它只告诉线程尽快退出。

所以 Thread.Join() 基本上会等到您要中止的线程完成磁盘/网络 I/O。

这些天真的不鼓励使用 Thread.Abort()，您应该尽可能使用 .NET 4.5 的新异步方法。您也不应该在 GUI 线程中使用 Thread.Join()。

# firebird - 如何在一个查询/表中获取 2 个字段的唯一值列表？

> ID：12703658
> 
> 赞同：1
> 
> 时间：2012-10-03T07:21:39.867
> 
> 标签：firebird

例如。我有这个查询

```
select distinct t1.date1, t2.date2
from t1
join t2 ...
....
where ... 
```

我想获取这 2 个日期的唯一值列表。我如何在 Firebird 2.5 上执行此操作？

我试试这个

```
with dates as (
select t1.date1 d1, t2.date2 d2
from t1
join t2 ...
....
where ...)
select d1 from dates
union
select d2 from dates 
```

但是这个版本会降低性能两倍

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T13:22:34.060

试试这个：

```
with dates (dt) as (
  select t1.date1 from t1
  where (1=1) --conditions

  union

  select t2.date2 from t2
  where (1=1) --conditions
)

select unique dt
from dates 
```

# ios - 强制 viewDidLoad 在 iOS 上触发

> ID：12703659
> 
> 赞同：22
> 
> 时间：2012-10-03T07:21:44.580
> 
> 标签：ios, iphone, viewdidload, loadview

我有两个窗口应用程序，当我展示第一个窗口时，我希望第二个窗口中的视图加载并准备稍后在后台的内容。

我试过使用方法`loadView`，但苹果说你不应该直接调用这个方法。

到目前为止，我选择使用`userInteractionEnabled`实际上隐式调用方法的视图`viewDidLoad`方法。

是否有一种优雅的方法可以强制`ViewControllers` `viewDidLoad`方法在自然触发之前触发（当窗口是关键并呈现时）？

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-10-03T07:25:23.337

你可以打电话`[viewController view];`。

[UIViewController](https://developer.apple.com/reference/uikit/uiviewcontroller/1621460-view?language=objc)的文档解释了如何延迟加载视图属性以及在`viewDidLoad`加载视图后调用该属性。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2016-07-21T07:53:45.670

在 iOS 9 中，Apple 终于解决了这个问题：

```
// Loads the view controller's view if it has not already been set.
@available(iOS 9.0, *)
public func loadViewIfNeeded() 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-01-20T00:27:13.313

**Swift 2.0**，与@Carl Veazey 解决方案的结果相同：

```
let viewController = MyCustomViewController()
_ = viewController.view 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:24:39.203

您可以为该控制器创建一个全局实例（可能位于`AppDelegate`）并调用您要为其执行操作的方法。然后在推送到该控制器时不要创建新实例只需使用您创建的实例供全局使用。

# android - 如何在android中缩放/旋转位图时解决内存问题？

> ID：12703660
> 
> 赞同：0
> 
> 时间：2012-10-03T07:21:46.547
> 
> 标签：android

我想在 Android 活动中缩放和旋转图像。我这样做如下

```
 Matrix matrix = new Matrix();
        matrix.postRotate(rotation);
        matrix.postScale(zoomScale,zoomScale);
        Bitmap scaledBitmap = Bitmap.createBitmap(bitmap,0,0,bitmap.getWidth(),bitmap.getHeight(),matrix,true);
        imageView.setImageBitmap(scaledBitmap); 
```

但经过几次旋转和缩放后，它给了我一个内存错误。我该如何解决这个问题？大多数应用程序每天都非常有效地执行此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:32:15.757

解决方法是先通过 inJustDecodeBounds 选项找到图像的宽度和高度。然后，使用这些值查找并设置 inSampleSize 以加载缩放图像。详情请参阅[此处](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)。

# java - java格式化文本

> ID：12703662
> 
> 赞同：0
> 
> 时间：2012-10-03T07:21:48.987
> 
> 标签：java

我正在阅读 2 个数组它们就像：

```
{xxxxx, yyy, aaaaaa, rrrrrrrr} 
```

和

```
{222, 44, 55, 77} 
```

我想输出为

```
xxxxx    === 222
yyy      ===  44
aaaaaa   ===  55
rrrrrrrr ===  77 
```

我该如何进行格式化？

我正在努力实现我的目标

```
System.out.println(array[1] + "===" + array1[1]); 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:32:58.017

```
String[] array = new String[]{"xxxxx", "yyy", "aaaaaa", "rrrrrrrr"};
String[] array1 = new String[]{"222", "44", "55", "77"};
for (int i = 0; i < array.length; i++) {
    System.out.println(String.format("%-9s===%4s", array[i], array1[i]));
} 
```

这是[格式化程序文档](http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html#syntax)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:23:28.073

```
int[] array1 = {222,44,55,77};
String[] array ={"xxxxx", "yyy", "aaaaaa", "rrrrrrrr"};

    for(int i=0; i<array.length; i++)
    System.out.println(array[i] + " ===== " + array1[i]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:24:21.053

迭代一个循环。

```
String[] array = {"xxxxx","yyy","aaaaaa","rrrrrrrr"};
        String[] array1 = {" 222","44","55","77"};
        for (int i = 0; i < array1.length && i<array.length; i++) {
            System.out.println(array[i]+"==="+array1[i]);
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:24:57.907

```
 String array1[] = {"xxxxx","yyy","aaaaaa"};
    int[] array2[] = {222,44,55,77};
    if(array1.length==array2.length) { 
     for(int i=0; i<array1.length; i++) {
    system.out.println(array1[i]+ "==="+array2[i]);
   } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-03T07:29:04.520

假设您的 println 调用输入错误（缺少一个“+”），如果您想在输出中添加标签，请使用**\t**。

此外，您需要使用循环来打印所有数组：

```
for(int i=0;i<array.length;i++){
    System.out.println(array[i] + "\t===\t" + array1[i]);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-03T07:49:23.927

您需要使用`printf`方法格式化输出..

```
 String[] array1 = {"xxxxx","yyy","aaaaaa", "zzz"};
     int[] array2 = {222 ,44 ,55 ,77};

     if(array1.length==array2.length) { 

         for(int i=0; i<array1.length; i++) {
             System.out.printf("%-7s===%4d", array1[i], array2[i]);
             System.out.println();
         }
    } 
```

使用`%-7s`左对齐您的`first string`.. 宽度为 7
使用`%4d`右对齐您的最后一个值.. 宽度为 4

# c++ - 如何在 C++ 中将数组向右移动？

> ID：12703665
> 
> 赞同：3
> 
> 时间：2012-10-03T07:22:04.977
> 
> 标签：c++, arrays, shift

我正在尝试实现一个将对象数组移动到数组右侧的函数。我在互联网上发现的只是循环轮班的实现，但这不是我想要的。如果右侧实际上有空白空间，我想将元素向右移动。假设您创建了一个对象 Packet 数组，其大小为 10

```
Packet* a[] = { p4 , p3 , p2 , p1, null, null, null, null, null, null } 
```

移位功能只会将所有内容向右移动

```
{ null ,p4 , p3 , p2 , p1, null, null, null, null, null } 
```

并且在数组末尾有一个元素的情况下

```
{ p10, p9, p8, p7 ,p6 ,p5 ,p4 , p3 , p2 , p1} 
```

该功能不会改变任何东西。

```
 { p4 , p3 , p2 , p1, null, null, null, null, null, null } 
```

我的实现想法是将数组复制到一个临时数组中，擦除原始数组上的所有内容，然后复制到其中，但从位置 [1] 而不是位置 [0] 开始。但这似乎不是很有效。

还有其他想法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-03T07:30:25.330

假设数组有 n 个元素：

```
if(a[n-1]==null){
   memmove(a+1, a, (n-1)*sizeof(Packet*));
   a[0]=null;
} 
```

另一种方法是不移动数组的元素，而是移动用于访问它的索引。基本上，你想要做的是加 1 模 n。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-03T07:23:33.323

从右到左迭代数组，将 element 分配`n-1`给 element `n`。当你到达第一个元素时，分配`null`给它。（不管它是什么意思）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-03T08:17:00.770

C++ 中显而易见的答案是使用`std::vector`，在这种情况下，它变得像这样简单：

```
if ( a.back() == NULL ) {
    a.insert( a.begin(), NULL );
    a.pop_back();
} 
```

您也可以考虑`std::deque`, 这将允许`push_front`, 而不是`insert`. 对于这么小的数组，简单的复制对象。的简单性`std::vector`通常胜出。

如果您必须使用 C 样式数组，例如：

```
if ( *(end( a ) - 1) == NULL ) {
    std::copy_backwards( begin( a ), end( a ) - 1, end( a ) );
    a[0] = NULL;
} 
```

应该做的伎俩。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-03T07:32:35.053

如果您要经常这样做（并且数组不小），请考虑使用[`std::deque`](http://en.cppreference.com/w/cpp/container/deque)，因为它允许在两端进行有效的插入和删除。`N`然后可以用`N`从后面弹出空`N`值并在前面推空值来替换位置的右移。你也可以使用[`std::rotate`](http://en.cppreference.com/w/cpp/algorithm/rotate)它。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-03T09:35:35.227

对于 POD 和非 POD 类型的任何容器（包括原始数组），请使用以下内容：

```
template <class Iterator, class Distance>
void shiftRight(Iterator begin, Iterator end, Distance dist)
{
    typedef typename std::iterator_traits<Iterator>::value_type value_type;
    Iterator newBegin = begin, oldEnd = end;
    std::advance(newBegin, dist);
    std::advance(oldEnd, -dist);
    std::copy_backward(begin, oldEnd, end);
    std::fill(begin, newBegin, value_type());
} 
```

它适用于 POD 和 nonPOD 类型，因为`copy_backward`它负责值类别，如果它是 POD，则它使用`memmove`（至少在 gcc 使用的 std 库中）。

`std::advance`随机访问迭代器使用简单的加法/减法。

`std::fill`还像 . 一样照顾 PODness `std::copy*`。

`value_type()`对于指针类型只是 NULL，对于 bool false，对于整数类型 0 等等。

数组的用法：

```
 int* a[] = { 0, new int(1), new int(2), 0, 0, new int(3) };

  std::for_each(a, a + sizeof(a) / sizeof(*a), [](int* a) { !a ? (std::cout << "null\n") : (std::cout << *a << "\n"); });

  shiftRight(a, a + sizeof(a) / sizeof(*a), 3);
  std::cout << "-----------------------------------------------------\n";

  std::for_each(a, a + sizeof(a) / sizeof(*a), [](int* a) { !a ? (std::cout << "null\n") : (std::cout << *a << "\n"); }); 
```

按预期输出：

```
null
1
2
null
null
3
-----------------------------------------------------
null
null
null
null
1
2 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-03T07:29:01.907

您可以尝试实现一个链表，它允许您移动/取消移动或推送/弹出元素（在这种情况下将释放空间）。

循环的做法有什么问题？它非常有效。例如。：

```
bool insert(Packet *queue[], int *rear, int front, Packet *value)
{
  int tmp = (*rear+1) % MAX;
  if (tmp == front) 
    return false;

  *rear = tmp;
  queue[*rear] = value;
  return true;
}

bool delete(Packet *queue[], int rear, int *front, Packet **value) 
{
  if (*front == rear) 
    return false;

  *front = (*front+1) % MAX;
  *value = queue[*front];
  return true;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-09-28T08:43:46.850

在 C++11 中，我们有[`std::rotate`](http://en.cppreference.com/w/cpp/algorithm/rotate).

```
int [] values = {1, 2, 3, 4, 5};
std::rotate(
    std::begin(values),
    std::next(std::begin(values)), // the new 'top'
    std::end(values));
*std::rbegin(values) = 0;

assert(values[0] == 2);
assert(values[1] == 3);
assert(values[2] == 4);
assert(values[3] == 5);
assert(values[4] == 0); 
```

# opengl-es - opengl es gldrawelements 函数导致内存访问冲突

> ID：12703669
> 
> 赞同：2
> 
> 时间：2012-10-03T07:22:13.300
> 
> 标签：opengl-es, vbo

我现在正在学习 OpenGL ES，并从蓝皮书中复制和修改一些示例。该示例只是在黑色背景上绘制一个红色三角形；我做到了，它奏效了。

所以我把它改成了立方体图，效果也很好。但是，一旦我将其更改为使用 VBO 和 IBO，它就会在 glDrawElements 函数中崩溃，内存访问 violaiton 为 0x00000005。

我搜索了许多网站以找出原因，但我能够找到任何有帮助的网站。

你会发现我的代码有什么问题吗？

**更改说明**

*   我用三角形代替了立方体。
*   如果它们产生任何错误，我检查了所有 gl/egl 函数，但它们没有。

我正在使用 OpenGL ES 1.3 版本。

```
struct Vertex
{
GLfloat x;
GLfloat y;
GLfloat z;
};

void NewTriangle( Vertex*& vertices, GLuint& verticesCount, GLubyte*& indices, GLuint& indicesCount )
{
    verticesCount = 3;
    vertices = new Vertex[verticesCount];
    vertices[0] = Vertex( 0, 0 );
    vertices[1] = Vertex( -0.5, -0.5 );
    vertices[2] = Vertex( 0.5, -0.5 );
    indicesCount = 3;
    indices = new GLubyte[indicesCount];
    indices[0] = 0;
    indices[1] = 1;
    indices[2] = 2;
}

void NewVerticesAndIndices( Vertex*& vertices, GLuint& verticesCount, GLubyte*& indices, GLuint& indicesCount )
{
    NewTriangle( vertices, verticesCount, indices, indicesCount );
    //NewCube( vertices, verticesCount, indices, indicesCount );
}

void RenderCommon( Vertex*& vertices, GLuint& verticesCount, GLubyte*& indices, GLuint& indicesCount )
{
    const GLfloat color[] = { 1, 0, 0, 1 };
    glVertexAttrib4fv( 0, color );
    glEnableVertexAttribArray( 1 );
    glVertexAttribPointer( 1, 3, GL_FLOAT, GL_FALSE, 0, (const void*)vertices );

    glDrawElements( GL_TRIANGLES, indicesCount, GL_UNSIGNED_BYTE, (const void*)indices );
}

void RenderWithMemories( Vertex*& vertices, GLuint& verticesCount, GLubyte*& indices, GLuint& indicesCount )
{
    RenderCommon( vertices, verticesCount, indices, indicesCount );
}

void RenderWithVBO( const GLuint& vbo, const GLuint& ibo, Vertex*& vertices, GLuint& verticesCount, GLubyte*& indices, GLuint& indicesCount )
{
    glBindBuffer( GL_ARRAY_BUFFER, vbo );
    glBufferData( GL_ARRAY_BUFFER, verticesCount*sizeof(*vertices), (void*)vertices, GL_STATIC_DRAW );

    glBindBuffer( GL_ELEMENT_ARRAY_BUFFER, ibo );
    glBufferData( GL_ELEMENT_ARRAY_BUFFER, indicesCount*sizeof(*indices), (void*)indices, GL_STATIC_DRAW );

    GLuint vboOffset = 0;
    GLuint iboOffset = 0;
    RenderCommon( (Vertex*&)vboOffset, verticesCount, (GLubyte*&)iboOffset, indicesCount );
}

void BlueEyeApp::OnRender()
{
    glViewport( 0, 0, 640, 480 );
    glClear( GL_COLOR_BUFFER_BIT );

    glUseProgram(m_program);

    GLuint verticesCount;
    Vertex* vertices = NULL;
    GLuint indicesCount;
    GLubyte* indices = NULL;
    NewVerticesAndIndices( vertices, verticesCount, indices, indicesCount );

    //RenderWithMemories( vertices, verticesCount, indices, indicesCount ); // successfully output
    RenderWithVBO( m_vbo, m_ibo, vertices, verticesCount, indices, indicesCount ); // crashes

    eglSwapBuffers( GetDisplay(), GetSurface() );

    delete[] vertices;
    delete[] indices;
} 
```

我在初始化中有这个：

```
bool BlueEyeApp::CreateBuffers()
{
    glGenBuffers( 1, &m_vbo );
    glGenBuffers( 1, &m_ibo );
    return true;
} 
```

我想知道它是否与 egl 版本有关，因为我的 eglInitialize 结果的主要和次要版本是 1.3。我不知道这些版本是什么意思；我以为我有 opengl es 2.0 或更高版本。

我还检查了所有的 gl/egl 函数错误检查，没有错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T16:22:21.163

我不确定这是否是您唯一的问题，但您无法拨打`glBindAttribLocation`您当前所在的位置。

`glBindAttribLocation`仅在下次链接程序调用后链接程序时生效。如果你在链接后调用它，它什么也不做。

在链接着色器之前绑定您的属性，或者在链接`glGetAttribLocation`程序后用于查找属性位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-22T05:35:06.603

很老的帖子，但我很久以前就解决了这个问题。
一旦我更改了我的 Opengl ES 库文件，一切正常。

对我来说很奇怪，我用 glError 检查了每一个 glCode 并且没有检测到任何东西。
但是一旦 glDrawElement 被调用，程序就崩溃了。
当我更改 gles 库文件时，问题就消失了。
我想指定我转到哪个版本，但我不记得了。

希望这可以帮助某人。:)

# java - JTable - 尝试将数据和列名传递给构造函数时出现 ArrayIndexOutOfBoundsException

> ID：12703671
> 
> 赞同：1
> 
> 时间：2012-10-03T07:22:16.267
> 
> 标签：java, arrays, swing, multidimensional-array, jtable

我想使用 JTable 创建一个简单的表，其中的值将来自多数组对象。但是当我尝试将该数据对象和列名的字符串数组传递给构造函数时，我得到 ArrayIndexOutOfBoundsException。.setValueAt 方法适用于此，但我想使用数组填充表。

这是类的构造函数部分。

```
public Table(){
    super("My Table");

    String[] colName = {"Name","Age","Address"};
    System.out.println("ok");
    Object tableValue[][] = {
        {"Dianne Delos Reyes","17", "Lambakin"},
        {"Maya Fojas", "30", "Dubai"},
        {"Robert Alcantara", "Lambakin"}
    };

    table = new JTable(tableValue,colName);
    table.setPreferredScrollableViewportSize(new Dimension(500, 50));
    table.setFillsViewportHeight(true);
    add(table);

    scrollPane = new JScrollPane(table);
    add(scrollPane);
} 
```

知道为什么我会收到这样的错误吗？提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:24:59.983

```
{"Robert Alcantara", "Lambakin"} 
```

它仅包含`two values`您使用过`3`值的其他地方。如果它试图访问`third value`它会得到`ArrayIndexOutOfBoundsException`

# iphone - 同一文本中的多种颜色

> ID：12703677
> 
> 赞同：0
> 
> 时间：2012-10-03T07:22:29.243
> 
> 标签：iphone, objective-c, ios, uilabel, uitextview

我正在开发一个 Iphone 应用程序。有没有办法在同一个标​​签或 TextView 中有多种颜色？

我的意思是我需要这样的东西：

![在此处输入图像描述](../Images/b88459a1ff3a921610c3e5cb86584c03.png)

有没有办法在不使用 3 个标签的情况下做到这一点？因为文本可能会动态变化，我希望有正确的定位。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:30:43.717

在 iOS 6 中有一种新类型的字符串，称为`NSAttributedString`.

您可以更改字符串部分的 , , , 和几乎`colors`所有`fonts`内容`sizes`。`underline`

[苹果文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:24:58.263

是的，单个标签可以有不同的样式和颜色。看看[OHAttributedLabel](https://github.com/AliSoftware/OHAttributedLabel)

另外，看看这个[StackOverFlow 答案。](https://stackoverflow.com/a/3869071/1603234)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:27:09.763

您可以使用[OHAttributedLabel](https://github.com/AliSoftware/OHAttributedLabel)或[CoreTextAttributedLabel](https://github.com/umerh/CoreTextAttributedLabel)

# python - 搜索 API：snippeted_fields 选项返回错误 UnboundLocalError：分配前引用了局部变量“prev_len”

> ID：12703678
> 
> 赞同：1
> 
> 时间：2012-10-03T07:22:32.027
> 
> 标签：python, google-app-engine, full-text-search

我在 GAE 搜索 api 中使用“snippeted_fields”来搜索产品描述。

这是搜索索引表中的产品描述：**Multirate 10G IP Services Engine (Modular)+Phone**。我正在寻找**Multirate 10G IP**。apppot中没有错误。但是 dev_appserver 返回以下错误。

```
ERROR    2012-10-03 04:22:40,497 functions.py:143] local variable 'prev_len' referenced before assignment
Traceback (most recent call last):
   File "C:\Program Files\Google\google_appengine\lib\webapp2\webapp2.py", line 1530, in __call__
     rv = self.router.dispatch(request, response)
   File "C:\Program Files\Google\google_appengine\lib\webapp2\webapp2.py", line 1278, in default_dispatcher
     return route.handler_adapter(request, response)
   File "C:\Program Files\Google\google_appengine\lib\webapp2\webapp2.py", line 1102, in __call__
     return handler.dispatch()
   File "C:\Program Files\Google\google_appengine\lib\webapp2\webapp2.py", line 572, in dispatch
     return self.handle_exception(e, self.app.debug)
   File "C:\Program Files\Google\google_appengine\lib\webapp2\webapp2.py", line 570, in dispatch
     return method(*args, **kwargs)
   File "C:\Users\app_search\search.py", line 1664, in get
     result = find_search_document(search_item)
   File "C:\Users\app_search\search.py", line 192, in find_search_document
     result = index.search(query_string)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\search\search.py", line 2722, in search
     apiproxy_stub_map.MakeSyncCall('search', 'Search', request, response)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\apiproxy_stub_map.py", line 94, in MakeSyncCall
     return stubmap.MakeSyncCall(service, call, request, response)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\apiproxy_stub_map.py", line 320, in MakeSyncCall
     rpc.CheckSuccess()
   File "C:\Program Files\Google\google_appengine\google\appengine\api\apiproxy_rpc.py", line 156, in _WaitImpl
     self.request, self.response)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\apiproxy_stub.py", line 160, in MakeSyncCall
    method(request, response)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\search\simple_search_stub.py", line 871, in _Dynamic_Search
     results = index.Search(params)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\search\simple_search_stub.py", line 510, in Search
     docs = self._AttachExpressions(docs, search_request)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\search\simple_search_stub.py", line 493, in _AttachExpressions
     evaluator.Evaluate(expr)
   File "C:\Program Files\Google\google_appengine\google\appengine\api\search\stub\expression_evaluator.py", line 198, in Evaluate
    result = self._Eval(expression_tree)
  File "C:\Program Files\Google\google_appengine\google\appengine\api\search\stub\expression_evaluator.py", line 156, in _Eval
    return func(*node.children)
  File "C:\Program Files\Google\google_appengine\google\appengine\api\search\stub\expression_evaluator.py", line 132, in _Snippet
    doc_words, position, search_util.DEFAULT_MAX_SNIPPET_LENGTH)
  File "C:\Program Files\Google\google_appengine\google\appengine\api\search\stub\expression_evaluator.py", line 95, in _GenerateSnippet
    while (len(snippet) + next_len + prev_len + 6 < max_length and
UnboundLocalError: local variable 'prev_len' referenced before assignment 
```

代码：

```
def find_search_document(query):
   _INDEX_NAME = "GPL_Description"    
   query = '"{0}"'.format(query.replace('"',''))

   options = search.QueryOptions(           
        snippeted_fields=['description'])

   query_string = search.Query(query_string = query, options = options)

   index = search.Index(name=_INDEX_NAME)
   return index.search(query_string) 
```

另外，是否可以使用搜索 api 突出显示“多速率 10G IP 服务引擎”等小型描述的搜索查询？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T10:19:01.307

IIRC **snippeted_fields**在开发服务器上不起作用。

尝试部署它并检查行为，它应该在部署时按预期工作。

尽管根据我的经验，它只是在开发服务器上没有返回任何结果，而不是上面的错误。

# c++ - 如何为子类 QComboBox 编写paintEvent()

> ID：12703679
> 
> 赞同：1
> 
> 时间：2012-10-03T07:22:39.370
> 
> 标签：c++, qt, paintevent

我对 QComboBox 进行了子类化以对其进行自定义。在开始自定义之前，我编写了以下 paintEvent() 方法来测试是否正确应用了我的样式表。但是，如果我使用此paintEvent，则不会显示所选项目（已选择的一项-或-我新选择的一项）。

```
class MyComboBox: public QComboBox
{
    Q_OBJECT
public:
    MyComboBox(QWidget *parent = 0): QComboBox(parent){}

    virtual void paintEvent(QPaintEvent* pEvent)
    {
    QStylePainter painter(this);
    QStyleOptionComboBox opt;
    initStyleOption(&opt);
    painter.drawComplexControl(QStyle::CC_ComboBox, opt);
    QVariant itemData = this->itemData( this->currentIndex(), Qt::DisplayRole);
    if(!itemData.isNull() && qVariantCanConvert<QPen>(itemData))
        style()->drawItemText(&painter,this->rect(),Qt::AlignLeft,(this->palette()), true, itemData.toString());
    }
}; 
```

如何修复paintEvent？此外，是否有关于不同 Qt 控件的paintEvent 的文档？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:31:01.003

我认为您的问题是您覆盖了基类方法，而没有在派生类中首先调用它。您应该在派生类方法中调用它

# objective-c - Objective C - 使用客户端证书访问带有 ws-security 的 SOAP 服务

> ID：12703685
> 
> 赞同：0
> 
> 时间：2012-10-03T07:23:01.120
> 
> 标签：objective-c, soap, x509certificate, ws-security

我想使用客户端证书访问具有 ws-security 的 SOAP 服务。这样做有什么直接的方法或第三方库吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:34:30.603

Sudzc站点[可](http://sudzc.com)帮助您生成基于 WSDL 的代码。[你可以在这里](https://github.com/kirbyt/360idev/tree/8da9a5a1c2ee3825f195abc878276244a774f33f/SOAP)找到一个例子。

# sed - 如何使用sed删除两个符号之间出现的所有文本？

> ID：12703690
> 
> 赞同：0
> 
> 时间：2012-10-03T07:23:26.013
> 
> 标签：sed

我有一个像这样行的文件：

```
bear/forest/\AAA mountains/fish/
fish/\AAA stream/river/\AAA shrimp/
llama/mountains/ 
```

我想删除出现在 2 之间`/`的任何文本`\AAA`，例如，上面会变成：

```
bear/forest/fish/
fish/river/
llama/mountains/ 
```

`AAA`总是出现在第一个`/`符号之后。

我试图进行查找和替换，匹配模式`/\AAA*/`并将其替换为`/`，但这不起作用：

```
sed -i -r 's/\/\\AAA*\//\//g' file.txt 
```

我有 GNU sed 4.2.1 版。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:37:01.010

只需删除 和 之间`/\AAA`的所有内容`/`。如果模式或替换包含以下内容，则使用替代字符分隔模式可提高可读性`/`：

```
sed 's,/\\AAA[^/]*/,/,g' 
```

# node.js - 无法在 ubuntu 中安装 jsdom

> ID：12703692
> 
> 赞同：0
> 
> 时间：2012-10-03T07:23:27.687
> 
> 标签：node.js, jsdom

```
$ sudo npm install jsdom 
npm http GET https://registry.npmjs.org/jsdom
npm http 304 https://registry.npmjs.org/jsdom
....
 contextify@0.1.3 install /home/sadchandra/node_modules/jsdom/node_modules/contextify
node-gyp rebuild
make: Entering directory `/home/sadchandra/node_modules/jsdom/node_modules/contextify/build'
  CXX(target) Release/obj.target/contextify/src/contextify.o
make: g++: Command not found
make: *** [Release/obj.target/contextify/src/contextify.o] Error 127
make: Leaving directory `/home/sadchandra/node_modules/jsdom/node_modules/contextify/build'
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/lib/node_modules/node-gyp/lib/build.js:236:23)
gyp ERR! stack     at ChildProcess.EventEmitter.emit (events.js:96:17)
gyp ERR! stack     at Process._handle.onexit (child_process.js:678:10)
gyp ERR! System Linux 3.2.0-30-generic-pae
gyp ERR! command "node" "/usr/bin/node-gyp" "rebuild"
gyp ERR! cwd /home/sadchandra/node_modules/jsdom/node_modules/contextify
gyp ERR! node -v v0.8.11
gyp ERR! node-gyp -v v0.7.0
gyp ERR! not ok 
npm WARN optional dep failed, continuing contextify@0.1.3
jsdom@0.2.15 node_modules/jsdom
├── cssom@0.2.5
├── htmlparser@1.7.6
└── request@2.11.4 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-03T13:20:22.887

您`g++`在 Ubuntu 安装中缺少二进制文件。您需要运行`sudo apt-get install g++`安装`g++`，然后再次尝试安装。

# java - 是否可以抓取 Flash 网站

> ID：12703695
> 
> 赞同：4
> 
> 时间：2012-10-03T07:23:42.720
> 
> 标签：java, php, flash, web-crawler

我希望抓取一个 Flash 网站并定期截取每个页面。

是否有可能抓取一个完全在 Flash 中运行的网站？

这可以在 Java 或 PHP 中实现吗？如果可以，是否有任何有用的材料可以帮助我完成这个过程。

非常感谢您对此事的任何帮助，非常感谢

编辑：还值得注意的是，网站上的链接和按钮每隔几个小时就会更改一次

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-13T06:23:32.543

您可以使用[PhantomJs](http://phantomjs.org)。

尽管他们从 v1.5 中删除了 Flash 支持，但您可以使用以前的版本或使用具有 Flash 支持的 fork，如下所示：[put-the-flash-back-in-phantomjs](http://www.ryanbridges.org/2013/05/21/putting-the-flash-back-in-phantomjs/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:28:26.627

您无法在客户端获取屏幕截图，当然也不能使用 PHP。PHP 在您的服务器上运行，而不是在客户端上运行。

# php - Ext js4 表单不读取 json 输出

> ID：12703696
> 
> 赞同：-2
> 
> 时间：2012-10-03T07:23:44.150
> 
> 标签：php, forms, extjs4

我刚开始学习 extjs，并且正在尝试登录表单。但是找不到太多可阅读的材料并无法使登录表单正常工作。我尝试的表单创建字段，在 login.php 上提交表单。但不是执行 "success:" "failure:" ，而是在 login.php 上打印 json 代码，当我尝试使用 prin_r($_POST) 打印提交的代码时，它返回空白值。

这是来自 app.js 的代码

```
Ext.require('Ext.container.Viewport');

Ext.application({
name : 'userApp',
appFolder : 'app',

launch : function() {
    console.log("random stuff ");
    Ext.create('Ext.container.Viewport', {
        layout : 'fit',
        items : [
        {
            xtype: 'form',
            id: 'userLogin',
            title: 'User Login',
            name: 'loginform',
            items: [{
                xtype: 'textfield',
                fieldLabel: 'Username',
                name: 'username',
                allowBlank: false,
            },
            {
                xtype: 'textfield',
                fieldLabel: 'Password',
                name: 'password',
                allowBlank: false,
            },
            {
                xtype: 'button',
                text: 'Login',
                url: 'login.php',
                handler: function(obj){
                    form = obj.getParent().getParent();
                    form.submit({
                        url: 'login.php',
                        method: 'POST',
                        success: function() {
                            console.log(arguments);
                            alert("sss");
                        },
                        failure: function() {
                            console.log(arguments);
                            alert("ssssssss");
                        }
                    });
                }
            }]
        }]
    });
}
}); 
```

和 login.php 是

```
<?php
print_r($_POST);
if(isset($_REQUEST['username']) && isset($_REQUEST['password'])){
    if($_REQUEST['username'] == "neelam" && $_REQUEST['password'] == "neelam"){
        echo '{"success": true}';
    }
}
echo '{"success": false}';
?> 
```

请发extjs4 + php的CRUD教程链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T18:55:25.220

尝试更改以下行：

```
form = obj.getParent().getParent(); 
```

到：

```
form = obj.up('userLogin'); 
```

另外，您可能想添加一个 die(); 在您的 php 代码中的以下行之后，否则即使成功，您也会得到成功和失败的响应。

```
echo '{"success": true}';
die(); 
```

并且不要忘记在测试之前删除 print_r() :)

# c# - 在 WebView (WinRT) 的外部浏览器中打开链接

> ID：12703698
> 
> 赞同：11
> 
> 时间：2012-10-03T07:23:46.683
> 
> 标签：c#, xaml, microsoft-metro, windows-runtime, winrt-xaml

我有一个 WebView 组件，用于在我的应用程序中显示 HTML 广告。当用户单击 WebView 中的广告时，我想在外部浏览器中打开广告链接。我怎么做？

我需要来自 WP7 浏览器的 OnNavigating 之类的东西。我尝试了 WebView 的 Tapped 事件，但即使我设置 IsTapEnabled=true，它也不会被调用。我需要类似的东西

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-06T14:09:22.930

为此，您需要使用 ScriptNotify 事件。这是我处理场景的方式（使用 NavigateToString）。如果您从 URL 中检索 Web 视图内容，则需要能够修改 HTML 以使其正常工作。

1.  将以下 Javascript 代码添加到您的 HTML

    ```
    <script type="text/javascript">for (var i = 0; i < document.links.length; i++) { document.links[i].onclick = function() { window.external.notify('LaunchLink:' + this.href); return false; } }</script> 
    ```

    这会为页面上的每个链接 (<a href="..."></a>) 添加一个 onclick 处理程序。window.external.notify 是一种在 Webview 中工作的 Javascript 方法。

2.  将 ScriptNotify 事件处理程序添加到 web 视图。

    ```
    WebView.ScriptNotify += WebView_ScriptNotify; 
    ```

3.  声明事件处理程序

    ```
    async private void WebView_ScriptNotify(object sender, NotifyEventArgs e)
    {
        try
        {
            string data = e.Value;
            if (data.ToLower().StartsWith("launchlink:"))
            {
                await Launcher.LaunchUriAsync(new Uri(data.Substring("launchlink:".Length), UriKind.Absolute));
            }
        }
        catch (Exception)
        {
            // Could not build a proper Uri. Abandon.
        }
    } 
    ```

请注意，如果您使用的是外部 URL，则必须将其添加到 webview 允许的 Uris 白名单 ( [http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml。 controls.webview.scriptnotify](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.webview.scriptnotify)供参考）。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-05-06T07:47:22.790

尝试处理 NavigationStarting 事件。在这里您可以拦截和取消 URL 的加载。您可以筛选要在 Web 视图中打开的链接，以及要在默认浏览器中打开的链接。

```
private async void webView_NavigationStarting(WebView sender, WebViewNavigationStartingEventArgs args)
    {
        if(null != args.Uri && args.Uri.OriginalString == "URL OF INTEREST")
        {
            args.Cancel = true;
            await Launcher.LaunchUriAsync(args.Uri);
        }
    } 
```

# debugging - nginx。测试用于处理请求的位置

> ID：12703702
> 
> 赞同：32
> 
> 时间：2012-10-03T07:24:03.147
> 
> 标签：debugging, nginx

我想知道如何知道某个特定位置是否用于处理`nginx`.

例如：

```
# 1
location / {}

# 2
location ~ /[\w\-]+\.html {}

# 3
location ~ /\w+\.html {} 
```

我如何知道 URI like`/mysite`是否由第三个位置而不是第二个位置处理？我倾向于使用[`add_header`](http://nginx.org/en/docs/http/ngx_http_headers_module.html#add_header)这个问题：

```
location / {
    add_header location 1;
}

location ~ /(\w+\-)\.html {
    add_header location 2;    
}

location @named {
    add_header location named;
} 
```

我想知道是否有更好的解决方案，或者您个人出于调试目的使用什么？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2016-10-28T02:19:51.060

如果您只想查看使用了哪个块，而不关心返回其他有效结果，那么使用它可能更直接，`return`而不是`add_header`.

```
location / {
    return 200 'location 1';
}

location ~ /(\w+\-)\.html {
    return 200 'location 2';    
}

location @named {
    return 200 'location named';
} 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2014-02-26T20:31:54.340

对这种方法提出警告。我发现`location`用作调试标头是个坏主意，因为`Location`它是 HTTP 响应 301 使用的真实标头。

所以如果（像我一样）在你的测试中你最终会得到这个：

```
HTTP/1.1 301 Moved Permanently
...
Location: http://mydomain.com/banana/
location: banana 
```

然后你的浏览器会吓坏并报告`Duplicate headers received from server`。所以使用`locationdebug`或安全的东西。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2012-10-03T13:12:31.137

add_header 技巧是我将如何做到的。

我现在正在工作，所以我无法测试，但你可能会在日志文件中得到一些东西，我将`error_log`级别设置为：

*   `debug`：您需要使用 nginx 来构建`--with-debug`它才能工作，您可以使用`nginx -V`命令进行检查
*   `notice`：如果未启用调试日志记录

# vba - Outlook：更改日历颜色

> ID：12703703
> 
> 赞同：1
> 
> 时间：2012-10-03T07:24:06.233
> 
> 标签：vba, colors, calendar, outlook, vsto

是否可以通过 VBA/VSTO 更改 Outlook 2007/2010 中日历文件夹的颜色？请注意，我不是在谈论可以使用类别设置的约会颜色。要了解我的意思，请转到 Outlook 中的“日历”选项卡，右键单击日历并选择“颜色”菜单。你会得到一个固定的选项列表。我想以编程方式执行此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T14:04:31.747

不幸的是，[目前无法](http://social.msdn.microsoft.com/Forums/hr/outlookdev/thread/65ec9b9f-e80c-48f0-8c9d-e02f7a1e5c1a)使用`Outlook.CalendarView`. MS 选择不以编程方式支持此功能 - 他们仅使用**Calendar Default Display Options**和**Calendar Color Properties**通过 UI 公开它。

# iphone - self.interfaceOrientation 导致在 iOS 4.x 上调用 shouldAutorotateToInterfaceOrientation

> ID：12703709
> 
> 赞同：1
> 
> 时间：2012-10-03T07:24:24.483
> 
> 标签：iphone, ios, uiviewcontroller, ios4, autorotate

当我在模拟器或设备中测试 4.x 下的单视图应用程序时，启动时，主 UIViewController 的`shouldAutorotateToInterfaceOrientation:`方法被精确调用 3046 次（在设备上）或 23777 次（在模拟器上），然后崩溃。...更新...

更新：在我的方法里面 `UIInterfaceOrientation currentOrientation = self.interfaceOrientation;`

这似乎是罪魁祸首，它导致 shouldAutorotateToInterfaceOrientation: 再次被调用，因此将其置于无限循环直到崩溃。有谁知道为什么？它在 iOS 5+ 中不这样做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:00:10.980

如果您需要对方向更改事件进行任何处理，请改用此方法，

```
 - (void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
 {
    [self HandleOrientationChange:toInterfaceOrientation];
 }

 -(void) HandleOrientationChange:(UIInterfaceOrientation) orientation
  {} 
```

# android - 定义安全区

> ID：12703713
> 
> 赞同：0
> 
> 时间：2012-10-03T07:24:39.040
> 
> 标签：android

我正在开发一个应用程序，该应用程序将在该特定人员离开安全区时发送警报消息。我正在使用 GPS 来跟踪位置信息。谁能给我一些关于如何设置安全区的想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:02:12.453

**最好的方法；使用内置接近警报计算手机上的位置和接近度**

您应该创建基本的服务器应用程序以保留数据库中的所有安全区域。该服务器应用程序还应该生成一些定义文件（xml 或 json）以将所有安全点传输到 Android 应用程序。然后您的应用程序可以从您的服务器下载该安全点。

*示例区域定义 json 文件；*

```
{"areas": [
{"area-name": "Dangerous areas in NY",
 "danger-score": 5,
 "coordinates": [
    {"lat": "00.00000","lon": "00.00000", "radius": 2},
    {"lat": "00.00000","lon": "00.00000", "radius": 5},
    {"lat": "00.00000","lon": "00.00000", "radius": 10},
    {"lat": "00.00000","lon": "00.00000", "radius": 25}
]},
{"area-name": "Less Dangerous areas in NY",
"danger-score": 2,
 "coordinates": [
    {"lat": "00.00000","lon": "00.00000", "radius": 25},
    {"lat": "00.00000","lon": "00.00000", "radius": 50},
    {"lat": "00.00000","lon": "00.00000", "radius": 12},
    {"lat": "00.00000","lon": "00.00000", "radius": 45}
]} 
```

]}

您的应用程序可以每 X 分钟轮询一次用户的当前位置。（想想电池寿命！）为了计算到安全点的距离，您可以使用 Android 内置功能“接近警报”。

[Android 接近警报参考](http://developer.android.com/reference/android/location/LocationManager.html#addProximityAlert%28double,%20double,%20float,%20long,%20android.app.PendingIntent%29)

[与您的案例非常接近的示例项目。](http://blog.brianbuikema.com/2010/07/part-1-developing-proximity-alerts-for-mobile-applications-using-the-android-platform/)

快乐的编码...

# node.js - Moongose：按数学排序并按字符串数组中的多个值搜索

> ID：12703717
> 
> 赞同：1
> 
> 时间：2012-10-03T07:24:46.043
> 
> 标签：node.js, mongodb, mongoose

您好 SO 用户，

我遇到了一些高级 Mongoose 查询，我根本无法从文档中弄清楚。

首先，我想按一些数学排序。基本上我希望能够按两个对象的价格差异进行排序。我有“价格”和“旧价格”，其中包含基本数值。然后我想减去它们并按最高折扣排序。所以在 SQL 中我会是这样的

```
ORDER BY (oldprice - price) 
```

* * *

我遇到的另一个问题是通过字符串数组过滤字符串数组。

所以基本上我有一个“裤子”模型，有一个 [size] 对象（字符串数组），它包含多种尺寸。现在我希望能够通过多个用户选择的尺码来搜索数据库，并找到**所有**包含**一个**所选尺码的裤子。

我试过做：

```
Pants.find({
  name: new RegExp(search, 'ig'),
  sizes: {
    $in: [selectedSizes]
  }
}).skip(skip).limit(limit).sort(sort).execFind(function(err, pants) {
  return res.send(pants);
}); 
```

如果一个值在“selectedSizes”中，则可以正常工作，但由于多个值而失败。

希望有人有一些想法;-)

* * *

裤子型号：

```
var PantsSchema;
PantsSchema = new mongoose.Schema({
  supplier: {
    type: String
  },
  manufacturer: {
    type: String
  },
  web: {
    type: String
  },
  name: {
    type: String
  },
  link: {
    type: String,
    required: true,
    unique: true
  },
  image: {
    type: String
  },
  sizes: {
    type: [String]
  },
  price: {
    type: Number
  },
  oldprice: {
    type: Number
  },
  added: {
    type: Date,
    "default": Date.now
  },
  updated: {
    type: Date
  }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T09:04:10.690

对于按问题排序，您需要在其中创建一个`Mongo`存储值的字段，`oldPrice - price`因为您只能按字段排序（并且您需要为此字段编制索引）。

然后你只需在`sort`你的调用中添加一个表达式`mongoose`：

```
.sort('priceDifference', 1);  // 1 or -1 depending on ascending or descending 
```

对于第二个问题，您需要创建`$or`表达式，为您要查找的每种尺寸创建一个表达式。我认为它看起来像这样：

```
.find( { $or : [ { sizes : { $in: ['m'] } }, { sizes : {$in: ['l'] } } ] } ) 
```

# android - 查询未获取正确的详细信息

> ID：12703722
> 
> 赞同：0
> 
> 时间：2012-10-03T07:24:53.997
> 
> 标签：android, sqlite

嗨，我正在努力学习安卓。我编写了一个查询来获取除第一个选定行之外的详细信息。但它不工作？我这边有什么问题吗？

```
String selectQuery = "SELECT *  FROM " + TABLE_ITEMS +" WHERE "+ ITEMFOLDER_ID +"=?"+"AND id NOT IN (SELECT id from itemTable  WHERE idFolder =? LIMIT 0,1)"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:05:04.740

*   除非您指定一个，否则没有保证订单；子查询可以返回任何匹配的随机记录。添加一个`ORDER BY`子句，或使用类似`... (SELECT min(id) FROM itemTable WHERE idFolder=?)`.
*   你有两个参数；确保两者都已设置。

还有一些进一步的评论：

*   如果您使用`TABLE_ITEMS`and`ITEMFOLDER_ID`符号，您也应该在子查询中使用它们。
*   子查询返回不超过一条记录，因此`IN`您可以将条件写成更有效一点，而不是`... AND id != (SELECT ...)`。

# linux - 如何对日期进行检查更正并拆分不是标准字符串 AWK

> ID：12703723
> 
> 赞同：2
> 
> 时间：2012-10-03T07:24:56.683
> 
> 标签：linux, bash, sed, awk

我有一个具有以下语法的输入文件：

```
"ID","Company Name","AccountManager","Product","Support Type","Country" 
```

例子：

```
"1","Company one","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version","29.10.2012 ► Type of support","Russia"

"2","Company two","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version","31.10.2012 ► Type of support\n28.10.2012 ► Type of support\nn/a ► Type of support","Foreign"

"3","Company three","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version\nProduct► (d2XXXXXX) ► Version,"31.12.2012 ► Type of support\nType of support\nn\\a ► Type of support\n31.03.2013 ► Type of support\n25.10.2012 ► Type of support\nn\\a ► Type of support","Russia"

"4","Company fourth","Surname Name / Phone/ Cell Phone ","1) Product► (d2XXXXXX) ► Version\n2) Product► (d2XXXXXX) ► Version\n3) Product► (d2XXXXXX) ► Version\n4) Product► (d2XXXXXX) ► Version\n5) Product► (d2XXXXXX) ► Version\n6) Product► (d2XXXXXX) ► Version,"1) 31.12.2012 ► Type of support\n2) Type of support\n3) n\\a ► Type of support\n4) 31.03.2013 ► Type of support\n5) 25.10.2012 ► Type of support\n6) n\\a ► Type of support","Foreign"

"5","Company five","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version","33.10.2012 ► Type of support","Russia" 
```

第一个公司只有一个产品，第二个公司有 3 个产品 - 它们用`\n`(Product and Support Type) 分隔，第三个公司有 6 个产品，第四个公司有 6 个产品，但不是标准字符串 (1)， 2）等），第五家公司有1个产品，但日期（33）有错误。

在输出中，此字符串必须是单独的并重复列的值：

`"ID","Company Name","AccountManager","Country"`，但`"AccountManager"`应该只有姓氏和姓名，并且支持类型列应该与今天的日期进行比较 - 如果支持类型中的日期与今天的日期在 27 到 32 天之间的值不同，则此列必须在输出文件中。如果我们获得`n/a`了支持类型，则应该错过它。

输出应如下所示： 在文件 Russia.csv 中：

```
"1","Company one","Surname Name","Product► (d2XXXXXX) ► Version","29.10.2012","Russia"
"3","Company three","Surname Name","Product► (d2XXXXXX) ► Version","25.10.2012","Russia" 
```

在文件 Foreign.csv 中：

```
"2","Company two","Surname Name","Product► (d2XXXXXX) ► Version","28.10.2012","Foreign"
"2","Company two","Surname Name","Product► (d2XXXXXX) ► Version","31.10.2012","Foreign"
"4","Company fourth","Surname Name","Product► (d2XXXXXX) ► Version","25.10.2012","Foreign" 
```

在 Error.csv 中：

```
 Error in date! "5","Company five","Surname Name / Phone/ Cell Phone ","Product► (d2XXXXXX) ► Version","33.10.2012 ► Type of support","Russia" 
```

我有一个脚本可以与日期（27 到 32）进行比较，但不能检查正确的日期、使用计数拆分字符串和单独的文件输出：

```
#/usr/bin/awk -f

BEGIN {
    FS=",";
    "date +\"%s\"" | getline curr_timestamp;
}

{
    split($3, account, "/");
    gsub(/ $/, "", account[1]);
    split($4, products, "\\\\n");
    split($5, supports, "\\\\n");
    for (i in products) {
        gsub("\"", "", products[i]);
        gsub("\"", "", supports[i]);
        split(supports[i], timesupport, " ");
        # ignore not available and support without date
        if (supports[i] !~ /n\\\\a*/ && supports[i] !~ /n\/a*/ && $2 !~ /\NULL/ && timesupport[1] ~ /[0-9][0-9].[0-9][0-9].[0-9][0-9][0-9][0-9]/) {
            # formatting date
            split(timesupport[1], date, "\.");
            mydate = "date -d \""date[3]"/"date[2]"/"date[1]"\" \"+%s\"";
            # date to timestamp (using bash)
            mydate | getline timestamp;
            # timestamp is >= 27 days and <= 32 days
            if ((timestamp-curr_timestamp) >= 2332800 && (timestamp-curr_timestamp) <= 2764800)
                print $1","$2","account[1]"\",\""products[i]"\",\""supports[i]"\","$6;
        }
    }
} 
```

# facebook-like - 喜欢按钮并确认

> ID：12703731
> 
> 赞同：0
> 
> 时间：2012-10-03T07:25:15.367
> 
> 标签：facebook-like, confirmation

我已阅读有关此问题的所有主题，但没有任何帮助。

我在[http://igor-mironchik.narod.ru/projects.html](http://igor-mironchik.narod.ru/projects.html)页面上添加了“喜欢”按钮。但是当我按下“喜欢”按钮时，我总是看到“确认”链接，有时在确认后什么也没有发生。我的意思是该按钮消失了，刷新页面后，我看到了以前的点赞数。

我究竟做错了什么？你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T19:26:12.200

您的标题中有 og:article 在一页中**有****多个喜欢**:( 尝试删除 og:article 或 ..尝试在 iframe 中添加喜欢按钮

 **```
<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Figor-mironchik.narod.ru%2Fprojects%2Fqtarg.html&amp;send=false&amp;layout=button_count&amp;width=120&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21&amp;appId=YOUR_APP_ID" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:120px; height:21px;" allowTransparency="true"></iframe> 
```**

# ios - 如何使用 UITouch 检测圆形敲击？

> ID：12703732
> 
> 赞同：1
> 
> 时间：2012-10-03T07:25:16.840
> 
> 标签：ios, xcode

如何在 iOS 中使用 UITouch 检测圆形点击？

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {    
  // what goes here?
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T14:35:52.647

我相信您正在寻找的是某种检测圆周运动的方法。我建议你调查一下`UIGestureRecognizer`。如果是这样，那么也许这可以帮助您，它是`UIGestureRecognizer`用于此目的的子类。

我在一个应用程序中使用了它，我想添加一个圆形开关的功能，有点像 Hi-Fi 系统上的音量控制。看看这个。

[https://bitbucket.org/danielphillips/dpcirculargesturerecognizer](https://bitbucket.org/danielphillips/dpcirculargesturerecognizer)

# jquery - 随机选择内存

> ID：12703734
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:25:23.167
> 
> 标签：jquery, html

我想将更多图像添加到列表中，它会随机选择一定数量的图像。就像现在一样，所有图像都显示在列表中。知道我该怎么做吗？

这是 HTML 中的列表

```
<div id="sample">

    <!-- start: Memory Lætt -->
    <div class="kvilt-memory-game">
        <ul>
            <!-- back image (must be the first item) -->
            <li><img title="Click to reveal" src="img/back.png" /></li>
            <!-- match image (must be the second item) -->
            <li><img title="Match made" src="img/matched.jpg" /></li>               
            <!-- image figures (add as many as you want) -->
            <li><img id="ID01" title="Figure 01" src="img/ficard01.png" /></li>
            <li><img id="ID02" title="Figure 02" src="img/ficard02.png" /></li>
            <li><img id="ID03" title="Figure 03" src="img/fucard01.png" /></li>
            <li><img id="ID04" title="Figure 04" src="img/fucard02.png" /></li>

      </ul>
    </div> 
```

这是我执行的脚本

```
/* plugin methods */
var methods =
{

    /* intialization */
    init : function(options)
    {

        /* settings */
        var settings = 
        { 
            spacing: 10, /* space between items */
            columns: 4 /* number of columns */
        };
        return this.each(function()
        {

            var self = $(this), data = self.data('data');
            if(!data)
            {

                /* overwrite default settings */
                if (options && $.isPlainObject(options)) $.extend(settings, options);

                /* get unordered list */
                var list = self.find('ul').first();

                /* get images data */
                var datBack, datMatch, datFigs = [], numFigs, imgEl;
                list.find('img').each(function(i)
                {
                    imgEl = $(this);                        
                    if (i == 0) { datBack = { src: imgEl.attr('src'), title: imgEl.attr('title') }; }
                    else if (i == 1) { datMatch = { src: imgEl.attr('src'), title: imgEl.attr('title') }; }
                    else { datFigs.push({ src: imgEl.attr('src'), id: imgEl.attr('id'), title: imgEl.attr('title') }); }
                });
                datFigs = datFigs.concat(datFigs);
                numFigs = datFigs.length;

                /* init data */
                self.data('data',
                {
                    target: self, 
                    list: list,
                    settings: settings,                     
                    datBack: datBack,
                    datMatch: datMatch,
                    datFigs: datFigs,
                    numFigs: numFigs,
                    itmData: null, 
                    busy: false,
                    events: { init: $.Event('init'), match: $.Event('match'), done: $.Event('done'), reveal: $.Event('reveal'), fail: $.Event('fail') },
                    stats: { numClicks: 0, time: 0 },
                    matchCount: 0
                });

                /* generate items */
                methods._generate.call(self, self.data('data'));
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:42:16.730

如果我没记错的话，您必须使用 JS 脚本创建 html 代码，因为所有 html 代码都是视图。因此，您必须从 html 代码中退出图像，并在需要时使用脚本进行制作。

我会制作一些功能来显示每个图像，然后使用切换来显示每个图像。它不是随机的，但几乎是随机的，您只需要选择一个随机数，这将是第一个，另一个随机数是增量以查找下一个图像。

如何使用切换以使用替代功能的示例：

```
$("p").toggle(function(){
alert("You've activated the first function now");
},function(){
alert("Now it's the second one");
}); 
```

这将与您的 html 中的所有“p”对象一起运行，就像 $("p") 所做的那样。

# azure-sql-database - 更新数据库失败 因为数据库是只读的

> ID：12703735
> 
> 赞同：1
> 
> 时间：2012-10-03T07:25:26.747
> 
> 标签：azure-sql-database

我们为我们的数据库订阅了 Windows Azure。目前，我将我们的生产实例的数据库复制到我们的开发实例中并成功完成。包括数据在内的所有表都被完全复制。现在我正在尝试运行 delete 语句以删除不必要的数据，但我无法继续，这是我在 SQL Server Management Studio 中收到的错误消息。

“更新数据库失败，因为数据库是只读的。请联系您的 Azure 服务所有者。您的 Azure 帐户可能存在计费相关问题。”

我问我的队友了解我在哪里可以找到数据库日志，但他们告诉我我们无权访问数据库应用程序文件夹。

有人可以建议我应该如何进行吗？

顺便说一句，我们在 1 台服务器中有 5 个 DB，我能够对除此之外的 4 个 DB 进行修改（运行更新/删除语句）。相同的用户和权限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T08:59:51.313

您的数据库很可能已达到其最大大小。

您可以使用`Alter Database`语法来提高最大尺寸。

在这样做之前，请确保您知道这将如何[影响您的计费](http://msdn.microsoft.com/en-us/library/windowsazure/ee621788.aspx)。

# c - 在 Visual Studio 2008 中编译 libpng 时出错

> ID：12703742
> 
> 赞同：0
> 
> 时间：2012-10-03T07:26:09.403
> 
> 标签：c, windows-mobile, libpng

l我正在尝试在程序中使用libpng，在Windows Mobile 6.1上工作。

为此，我从模板“c++ SmartDevice Class library”创建了一个 c++ 项目，并使用那里提供的 Visual Studio 项目作为指南，从 libpng 添加了适当的 c 源文件，并将 libpng 源的目录添加到源搜索目录。

但是，当我尝试编译时，出现以下错误：

```
error C2054: expected '(' to follow 'PNG_DLL_EXPORT'    <path>\lib\lpng1512\png.h   991 
```

换句话说，首先 PNG_DLL_EXPORT 会导致错误，然后在 png.h 的每一行中都会出现错误。

原因是什么？这应该如何解决？这是一个已知问题吗？

**更新：**那里使用的确切宏是 PNG_EXPORT。它在 pngconf.h 中定义为：

```
#define PNG_EXPORT(ordinal, type, name, args)\
   PNG_EXPORTA(ordinal, type, name, args, PNG_EMPTY) 
```

因此，使用的宏定义为：

```
/* ANSI-C (C90) does not permit a macro to be invoked with an empty argument,
 * so make something non-empty to satisfy the requirement:
 */
#define PNG_EMPTY /*empty list*/ 
```

和

```
/* The ordinal value is only relevant when preprocessing png.h for symbol
* table entries, so we discard it here.  See the .dfn files in the
* scripts directory.
*/
#ifndef PNG_EXPORTA

#  define PNG_EXPORTA(ordinal, type, name, args, attributes)\
      PNG_FUNCTION(PNG_EXPORT_TYPE(type),(PNGAPI name),PNGARG(args), \
        extern attributes)
#endif 
```

在兔子洞下面，有：

```
/* In 1.5.2 the definition of PNG_FUNCTION has been changed to always treat
 * 'attributes' as a storage class - the attributes go at the start of the
 * function definition, and attributes are always appended regardless of the
 * compiler.  This considerably simplifies these macros but may cause problems
 * if any compilers both need function attributes and fail to handle them as
 * a storage class (this is unlikely.)
 */
#ifndef PNG_FUNCTION
#  define PNG_FUNCTION(type, name, args, attributes) attributes type name args
#endif

#ifndef PNG_EXPORT_TYPE
#  define PNG_EXPORT_TYPE(type) PNG_IMPEXP type
#endif 
```

再往下：

```
#  if (defined(_MSC_VER) && _MSC_VER < 800) ||\
      (defined(__BORLANDC__) && __BORLANDC__ < 0x500)
    /* older Borland and MSC
     * compilers used '__export' and required this to be after
     * the type.
     */
#    ifndef PNG_EXPORT_TYPE
#      define PNG_EXPORT_TYPE(type) type PNG_IMPEXP
#    endif
#    define PNG_DLL_EXPORT __export
#  else /* newer compiler */
#    define PNG_DLL_EXPORT __declspec(dllexport)
#    ifndef PNG_DLL_IMPORT
#      define PNG_DLL_IMPORT __declspec(dllimport)
#    endif
#  endif /* compiler */ 
```

在其他文件中，pngpriv.h，PNG_DLL_EXPORT 最终被使用：

```
/* See pngconf.h for more details: the builder of the library may set this on
 * the command line to the right thing for the specific compilation system or it
 * may be automagically set above (at present we know of no system where it does
 * need to be set on the command line.)
 *
 * PNG_IMPEXP must be set here when building the library to prevent pngconf.h
 * setting it to the "import" setting for a DLL build.
 */
#ifndef PNG_IMPEXP
#  ifdef PNG_BUILD_DLL
#     define PNG_IMPEXP PNG_DLL_EXPORT
#  else
      /* Not building a DLL, or the DLL doesn't require specific export
       * definitions.
       */
#     define PNG_IMPEXP
#  endif
#endif 
```

**Update2：**这个问题是特定于编译成 dll 的。编译成 lib 不会导致相同的编译器错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T11:32:41.163

编译成 .lib 成功完成。

不过，原因尚不清楚。

# php - 在php中提交而不刷新

> ID：12703745
> 
> 赞同：2
> 
> 时间：2012-10-03T07:26:16.307
> 
> 标签：php, javascript

我已经阅读了很多关于该主题的帖子。我已经看到很多答案并指出使用 ajax。有没有其他方法可以在表单提交时不刷新页面？

例如样本表格

```
<form method="post">
<input type="radio" name="test" value="Start">Start<br />
<input type="radio" name="test" value="Stop">Stop<br />
<input type="submit" value="GO">
</form> 
```

有没有不使用 ajax 和 jquery 的 javascript 方法？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T07:27:54.407

是的，您可以使用 iframe：

```
<iframe id="myIframe" name="myIframe" width="0" height="0" frameborder="0"></iframe>
<form method="post" target="myIframe" action="script.php">
    <input type="radio" name="test" value="Start">Start<br />
    <input type="radio" name="test" value="Stop">Stop<br />
    <input type="submit" value="GO">
</form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:28:03.757

是的，您可以使用嵌入在 iframe 中的表单。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:28:38.313

我认为您可能会使用 AJAX，因为它是在不刷新页面的情况下提交表单的更好方法

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T08:02:36.160

```
<form method="post" onSubmit="event.preventDefault()">
<input type="radio" name="test" value="Start">Start<br />
<input type="radio" name="test" value="Stop">Stop<br />
<input type="submit" value="GO">
</form> 
```

您不需要为这个简短的目的使用任何 iframe...当您寻找 javascript 方法时，我建议您在 html`event.preventDefault()`中的`form`标签内使用...它不会让表单提交并刷新页面。 ..

# java - 以间隔执行方法

> ID：12703747
> 
> 赞同：0
> 
> 时间：2012-10-03T07:26:30.573
> 
> 标签：java, jsp

我有一个页面，我有两个将数据写入表的执行方法。

我想在 JSP 中的两个方法之间添加 5 分钟的延迟。即第二种方法应仅在 5 分钟后执行。

我怎样才能在 JSP 中做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:00:15.090

如果您必须在 JSP 中执行此操作，您确实可以使用`Thread.sleep()`调用，但如果您需要输出，则必须确保请求是 POST，因为调用者可能会将 GET 视为超时（如果需要） 5分钟完成。它也很丑陋，并且会阻塞连接器池中的线程。

如果您不需要第二种方法的结果来回答请求，您也可以提交 a `Runnable`or `Callable`to a 。[`ScheduledThreadPoolExecutor`](http://docs.oracle.com/javase/7/docs/api/index.html?java/util/concurrent/ScheduledThreadPoolExecutor.html)

# iphone - 我想在同一视图中截取具有 UIKIT 和 OpenGL 的 iPad 的屏幕截图

> ID：12703752
> 
> 赞同：1
> 
> 时间：2012-10-03T07:26:41.627
> 
> 标签：iphone, objective-c, ios

我想在同一视图中截取具有 UIKIT 和 OpenGL 的 iPad 的屏幕截图。我尝试使用`[self.view.layer renderInContext:UIGraphicsGetCurrentContext()];` Iam 截取屏幕截图，但 OpenGL 所在的区域为黄色，请帮忙

# design-patterns - 工厂方法 DP

> ID：12703755
> 
> 赞同：0
> 
> 时间：2012-10-03T07:26:47.683
> 
> 标签：design-patterns, methods, factory

“这是关于创建对象（产品）而不指定将要创建的对象的确切类别”。怎么会这样？并且如果有一个 evryone 继承自它的抽象类 - 听起来像“多态性”。有什么区别呢？

谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:00:53.643

让我们考虑一下，我们有一个接口：

```
public interface IClass {} 
```

此外，我们有两个继承该接口的类（或抽象类，或任何其他基类）：

```
public class First : IClass {}

public class Second: IClass {} 
```

第一个用于生产代码中的员工，第二个用于测试。

你有一个工厂方法：

```
public IClass GetClass () 
{
    if(InTest) return new Second();
    else 
    return new First();
} 
```

因此，调用此方法的代码并未指定将创建的确切类。它只知道如何使用它。

# java - 无法在 Java 中调用验证方法

> ID：12703756
> 
> 赞同：0
> 
> 时间：2012-10-03T07:26:49.710
> 
> 标签：java

我有这个问题，我创建了两种验证用户输入的方法。然后我试图在程序的其余部分运行之前让他们的输入进行验证。它不起作用，我在网上找不到任何有用的东西。

我在另一个程序中以完全相同的方式完成了它，但它在这个程序中不起作用。任何帮助将非常感激。

（主要部分被注释掉，因为我试图让它运行）......

```
 import java.util.*;

public class GuessingGame {

/**
 * @param args
 */
public static void main(String[] args) {
    // TODO Auto-generated method stub

    int answer;
    int tries = 0;
    answer = (int) (Math.random() * 99 + 1);

    System.out.println("Welcome to the Guess the Number Game ");
    System.out.println("+++++++++++++++++++++++++++++++++++++ \n");
    System.out.println("I'm thinking of a number between 1-100 ");
    System.out.println("Try to guess it! ");

    Scanner sc = new Scanner(System.in);
    String choice = "y";

while (choice.equalsIgnoreCase("y"))    
{

        int guess = getIntWithinRange(sc, "Enter number: ", 0, 100);

        /**

        if (guess == answer) 
        {
            System.out.println("Your guess is correct! Congratulations!");
        }
        else if (guess > answer + 10)
            { System.out.println("Your guess was way too high");
            tries++;
            }

        else if (guess < answer)
            { System.out.println("Your guess was too low. Try again. ");
            tries++;
            }

        else if (guess > answer)
            {System.out.println("Your guess was too high. Try again.");
            tries++;
            }

                System.out.println("The number was " + answer + " !");
                System.out.println("You guessed it in " + tries + " tries");

                    if (tries < 2)
                        {System.out.println("That was lucky!");
                        }

                    if (tries >=2 && tries <=4)
                        {System.out.println("That was amazing!");
                        }

                    if (tries > 4 && tries <= 6)
                        {System.out.println("That was good.");
                        }

                    if (tries >= 7 && tries <=7)
                        {System.out.println("That was OK. ");
                        }

                    if (tries > 7 && tries < 10)
                        { System.out.println("That was not very good. ");
                        }

                    if (tries >= 10)
                        {System.out.println("This just isn't your game. ");
                        }
                **/ 

                      //ask if they want to continue
                    System.out.println("\n Continue (y/n)? ");
                    choice = sc.next();
                    sc.nextLine();
                    System.out.println();

    }

    //print out thank you message
    System.out.println("Thanks for finding the common divisor ");
    sc.close();
}

public static int getInt(Scanner sc, String prompt)
{
    int i = 0;
    boolean valid = false;

    while(valid == false);
    {   
        System.out.println(prompt);
        if (sc.hasNextInt())
        {
            i = sc.nextInt();
            valid = true;
        }
        else
        {
            System.out.println("Please enter a number... ");
        }
        sc.nextLine();
    }
    return i;

}

public static int getIntWithinRange(Scanner sc, String prompt, int min, int max)
{
    int i = 0;
    boolean valid = false;

    while (valid == false)
    {
        i = getInt(sc, prompt);
        if (i <= min || i >= max)
            System.out.println("Number must be between 1-100 ");
        else
            valid = true;
    }
    return i;
} 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:31:35.767

在方法`getInt()`中，这将导致一个无限循环：

```
boolean valid = false;

while(valid == false);
{ 
```

由于尾随分号：删除它。尾随分号`while`相当于：

```
while (valid == false) {} 
```

这意味着预期的循环体永远不会执行，并且值`valid`永远不会改变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:37:12.077

虽然你的问题已经解决了，但我想指出一些关于你的代码的事情。

首先，您的代码有很多重复性..

您的方法： - **`getIntWithinRange`**只是将您的请求委托给另一个方法**`getInt`**，我认为这没用..
您在**`getInt`**方法中拥有的一切，您可以简单地将其移至**`getIntWithinRange`**方法..这样您就不会创建`2 boolean`变量，`2 while loops`等等重复代码..

此外，您不需要检查布尔值，例如：-

```
while (valid == false)   // Not needed
while (!valid)      // is enough 
```

此外，您还可以拥有您的`Scanner sc = new Scanner(System.in);`作为您的实例变量..您不需要在您正在阅读用户输入的所有方法中定义它..实际上您不是..您只是在复制它..

**在您评论的代码中： -**

```
if (tries >= 7 && tries <=7) 
```

相当于： -

```
if (tries == 7) 
```

**在你的主要方法中**： -

```
System.out.println("\n Continue (y/n)? ");
choice = sc.next();
sc.nextLine(); --> // You don't need this line at all.. 
                   // It is just used to read user input.. 
                   // That you are doing in your `getIntWithinRange` method..
System.out.println(); 
```

**在您的 getInt 方法中**：-

```
 else {
          System.out.println("Please enter a number... ");
    }
    sc.nextLine(); -->  // This should be sc.next().. And should be inside else
                        // You are just getting a new user input.. not required here..
                        // Just move the pointer to next input.. But don't read it.. 
```

# android - android 主题 - 在自定义主题中定义颜色

> ID：12703757
> 
> 赞同：24
> 
> 时间：2012-10-03T07:26:57.757
> 
> 标签：android, android-theme

我确信有一个简单的答案，但我只是找不到它，所以我把它扔到 stackoverflow ... ;-)

我只是举个例子。我有一个 android 应用程序，用户可以在其中选择首选项中的主题 - 深色或浅色主题。根据选择的主题，我必须在我的应用程序中调整 20 种颜色。所以我希望我可以在主题中定义颜色，然后在我的 TextViews 等中使用这种定义颜色的名称。但到目前为止，我无法弄清楚如何做到这一点，并且在这里和那里找不到任何解决方案. 我真的不想为这 20 种颜色中的每一种定义额外的深色和浅色风格，但到目前为止，这似乎是我能找到的唯一解决方案。

非常感谢任何提示

马丁：

**更新：**

在伪语法中，这就是我正在寻找的。是否可以？

```
<style name="AppTheme.MyDark" parent="android:Theme">
  -?-> titleColor = "#ffffff"
  -?-> introColor = "#ffaaaa"  
</style>

<style name="AppTheme.MyLight" parent="android:Theme.Light">
  -?-> titleColor = "#000000"
  -?-> introColor = "#004444"  
</style>

<TextView
        android:id="@+id/quoteTitle"
        android:textColor=@titleColor
        ...
</TextView>

<TextView
        android:id="@+id/quoteIntro"
        android:textColor=@introColor
        ...
</TextView> 
```

* * *

## 回答 #1

> 赞同：83
> 
> 时间：2012-10-03T08:46:21.403

我找到了一个似乎可行的解决方案。首先，您需要在 attr.xml 中定义自定义颜色字段

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

<attr name="titleColor" format="reference|color" />
<attr name="introColor" format="reference|color" />

</resources> 
```

接下来你定义你的主题

```
<style name="AppTheme.MyDark" parent="android:Theme">
   <item name="titleColor">#FFFFFF</item>
   <item name="introColor">#FFFFFF</item>
</style>

<style name="AppTheme.MyLight" parent="android:Theme">
   <item name="titleColor">#000000</item>
   <item name="introColor">#004444</item>
</style> 
```

最后在你的布局中

```
<TextView
    android:id="@+id/quoteTitle"
    android:textColor="?titleColor"
    ...
</TextView>

<TextView
    android:id="@+id/quoteIntro"
    android:textColor="?introColor"
    ...
</TextView> 
```

我主要[在这里找到了解决方案](https://stackoverflow.com/questions/10545039/android-how-can-i-define-custom-colors-drawables-etc-in-themes)

android 官方文档中似乎没有关于使用属性的解释。我找到的最佳资源在[这里](https://stackoverflow.com/questions/3441396/defining-custom-attrs)

# listview - 在主页中使用自定义类项目？地铁应用

> ID：12703766
> 
> 赞同：0
> 
> 时间：2012-10-03T07:27:33.387
> 
> 标签：listview, listbox, windows-8, microsoft-metro, winrt-xaml

我想定义一个自定义类，它有一个图像和一个文本块。

自定义类

```
<Page Height="100" Width="500"
    x:Class="SQLite.Custom"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SQLite"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"> 

    <Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
        <Image Name="img" HorizontalAlignment="Left" Height="67" Margin="10,10,0,0" VerticalAlignment="Top" Width="91"/>
        <TextBlock Name="txtBlk" HorizontalAlignment="Left" Margin="177,22,0,0" TextWrapping="Wrap" FontSize="35" VerticalAlignment="Top" Height="45" Width="264"/>

    </Grid>
</Page> 
```

现在我想将它们添加回我的主页中的列表视图。

```
Custom clb = new Custom();
listviews.Items.Add(clb); 
```

我试过这样做，但在很多情况下都失败了。无法访问 clb.img 或 clb.txtBlk 。

请需要一些帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:33:38.620

您尚未标记您的问题是与 XAML 还是 WinJS 相关，但让我指出一篇[文章](http://code.msdn.microsoft.com/windowsapps/ListView-item-templates-7d74826f/sourcecode?fileId=50887&pathId=1185249808)，该文章显示了如何在 WinJS 中创建列表视图项模板的示例：

```
<div id="regularListIconTextTemplate" data-win-control="WinJS.Binding.Template" style="display: none"> 
    <div class="regularListIconTextItem"> 
            <img src="#" class="regularListIconTextItem-Image" data-win-bind="src: picture" /> 
        <div class="regularListIconTextItem-Detail"> 
            <h4 data-win-bind="innerText: title"></h4> 
            <h6 data-win-bind="innerText: text"></h6> 
        </div> 
    </div>
</div> 
```

这是 XAML ListView 项模板的 MSDN[文章](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.itemscontrol.itemtemplate)。

# ruby-on-rails-3.2 - Ruby on Rails 用户总积分

> ID：12703776
> 
> 赞同：0
> 
> 时间：2012-10-03T07:28:33.607
> 
> 标签：ruby-on-rails-3.2

我有两个模型，我试图在索引视图上显示用户的告知信用。

```
class User < ActiveRecord::Base
has_many  :credits

class Credit < ActiveRecord::Base
belongs_to :user 
```

我正在尝试在 index.html.erb 视图上显示用户的总积分。我创建了一个辅助方法。

```
module UsersHelper

 def designer_owed
    designer_owed = Credit.where( :user_id => @user ).sum(:total_received)
  end 
```

我得到的结果有点令人困惑，我知道我做错了什么，但我无法弄清楚。

**index.html.erb**

```
<%= h number_to_currency(designer_owed, :unit => "$") %> 
```

我得到一个零。

但在我的**show.html.erb**

**<%= h number_to_currency(designer_owed, :unit => "$") %>**

我得到了正确的总数。当我使用 index.html.erb 查询时，我的 sql 看起来像这样

```
SELECT SUM("credits"."total_received") AS sum_id FROM "credits" WHERE "credits"."user_id" IS NULL 
```

我想在索引视图上显示这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:06:57.053

在您的视图中，像“@user”这样的实例变量对应于控制器中的实例变量。

在您的索引控制器和相应的视图中，您通常会有一个包含所有用户的“@users”实例变量。事实上，在许多情况下，索引操作可以很简单：

```
def index
  @users = User.all
end 
```

在任何情况下，在您的索引中都有一个 @user 变量是不寻常的 - 而且您似乎没有，因此您遇到了错误。

在您的索引视图中，我想您想遍历所有用户并显示每个用户的欠款金额，因此：

```
<%= h @users.each {|user| number_to_currency(designer_owed(user), :unit => "$") %> 
```

我的 erb 有点生锈了，因为我已经使用 Haml 很长时间了，但我认为这应该可以。您需要对其进行更改以满足您的布局需求。

您的辅助方法现在接受用户参数：

```
def designer_owed(user)
  Credit.where( :user => user ).sum(:total_received)
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T08:17:16.237

```
def index
  @users = User.includes(:credits) #fires 2 queries. for users and for credits. use for code optimization
end 
```

鉴于，做

```
%table
  %thead
    %tr 
      %th User
      %th Credits
  %tbody
    - @users.each do |user|
      %tr
        %td user.name
        %td user.credits.collect(&:total_recieved).sum #doesnt fire extra query cause we have used 'includes' 
```

结帐[http://guides.rubyonrails.org/active_record_querying.html](http://guides.rubyonrails.org/active_record_querying.html)

# ruby-on-rails - has_many 和 belongs_to 使用不同的键关联到同一个模型

> ID：12703777
> 
> 赞同：1
> 
> 时间：2012-10-03T07:28:35.317
> 
> 标签：ruby-on-rails, activerecord, model-associations

我的 Rails 应用程序中有两个模型

```
 Class Employee 
      belongs_to :cost_center
    End

    Class CostCenter
      has_many :employees
    End 
```

现在，一名员工可以**拥有多个成本中心**作为**成本中心所有者**。如何在 Rails 中定义此关联？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:54:52.450

你必须有正确的列，否则很容易。

```
class Employee
  has_many :owned_cost_centers, :class_name => "CostCenter", :foreign_key => :owner_id
  belongs_to :cost_center
end

class CostCenter
  belongs_to :owner, :class_name => "Employee", :foreign_key => :owner_id
  has_many :employees
end 
```

为了完整起见，您应该添加`:inverse_of`到所有关联。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:39:23.103

我会避免循环引用。如果员工属于成本中心，那么所有者也应该属于成本中心。

如果您真的需要区分拥有和受雇，我会考虑制作两个模型，因为员工与所有者是不同的实体。

```
class Owner
  belongs_to :cost_center
end

class CostCenter
  has_many employees
  has_one owner
end 
```

# css - 带有滚动条的 bing 地图信息框

> ID：12703782
> 
> 赞同：4
> 
> 时间：2012-10-03T07:28:45.527
> 
> 标签：css, scroll, bing-maps, infobox

我试图确保信息框弹出窗口内的内容滚动，以便显示所有信息，但是当我尝试使用滚动条在释放鼠标按钮时滚动时，地图会像按住并平移一样粘在这一点上。这是一些要重现的代码：

```
 var location = new Microsoft.Maps.Location(0, 0);
    var html = "title<br/>description desc desc"
            + " description desc desc description desc desc"
            + " description desc desc description desc desc"
            + " description desc desc description desc desc"
            + " description desc desc description desc desc"
        ;

    var popupHTML = '<div style="height: 50px; width: 100px; overflow: auto; background: white;">{content}</div>';

    var options = {
        htmlContent: popupHTML.replace('{content}', html),
        visible: true,
    };
    var popup = new Microsoft.Maps.Infobox(location, options);

    map.entities.push(popup); 
```

或者将以下内容粘贴到信息框部分下的必应地图 SDK 中：

```
 map.entities.clear(); 
    var infoboxOptions = {title:'Infobox Title', description:'<div style="height:20px; overflow: auto;">Infobox description description description description description description description description description description description description description description description description description description description<div>'}; 
    var defaultInfobox = new Microsoft.Maps.Infobox(map.getCenter(), infoboxOptions );    
    map.entities.push(defaultInfobox); 
```

然后尝试向下滚动，当您释放时，地图将卡在该位置，就像您按住并平移一样。

欢迎任何建议，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-12T14:23:54.887

您必须禁用默认事件处理程序！

在您的信息框创建函数中尝试以下操作：

```
map.infobox = new Microsoft.Maps.Infobox(center, infoboxOptions);
        map.moveHandler = Microsoft.Maps.Events.addHandler(map, 'mousemove', function (e) {
                    e.handled = true;});
        map.wheelHandler = Microsoft.Maps.Events.addHandler(map, 'mousewheel', function (e) {
                    e.handled = true;});
        Microsoft.Maps.Events.addHandler(map, 'click', function(e) { 
            if (map.infobox) 
                {map.entities.remove(map.infobox);
                map.infobox = false;
                Microsoft.Maps.Events.removeHandler(map.moveHandler);
                Microsoft.Maps.Events.removeHandler(map.wheelHandler);
                map.moveHandler = false;
                map.wheelHandler = false}}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-08-19T13:25:21.613

我知道我在这里聚会有点晚了，但我遇到了同样的问题，并使用内置事件解决了它。

# 原因

通过各种事件处理程序中***的大量***日志记录语句，我发现问题的发生是因为`mousedown`地图上发生了一个事件，但是滚动条以某种方式阻止了`mouseup`事件的发生，从而使地图被拖动。

# 解决方案

初始化地图时，我为地图上的 mouseDown 事件添加事件处理程序。

```
Microsoft.Maps.Events.addHandler(map, 'mousedown', map_mousedown); 
```

对于显示框，我为`mouseenter`和 `mouseleave`事件添加了事件处理程序`entitychanged`。

```
Microsoft.Maps.Events.addHandler(infobox, 'mouseenter', infobox_mouseenter);
Microsoft.Maps.Events.addHandler(infobox, 'mouseleave', infobox_mouseleave);
Microsoft.Maps.Events.addHandler(infobox, 'entitychanged', infobox_entitychanged); 
```

在 mouseenter 和 mouseleave 事件处理程序中，我设置了一个值，指示鼠标是否在信息框上方，并在信息框关闭时使用 entitychanged 重置它。

```
var overInfobox = false;

function infobox_mouseenter(event) {
    overInfobox = true;
}

function infobox_mouseleave(event) {
    overInfobox = false;
}

function infobox_entitychanged(event) {
    overInfobox = false;
} 
```

在地图的 mousedown 事件处理程序中，会检查此值。如果为真，则事件的默认操作（即拖动地图）将被阻止。

```
function map_mousedown(event) {
    if (overInfobox)
        event.handled = true;
} 
```

这样，当鼠标单击信息框中的某些内容时，它不会影响地图。滚动条将起作用，您可以将地图拖动到信息框之外（当您使用`X`右上角的关闭信息框时）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-14T13:52:23.710

您可以将此 css 应用于您的 html 代码的 div 父级：

```
 <style>
    .infobox{

     border: 1px solid #777 ;
     font: 11px ;
     width: 95%;
      margin:auto;
     min-height: 3em;
     max-height: 18em;
     overflow: auto;
    padding: 5px;
            }
   </style> 
```

# javascript - 用于 Web Worker 中 HTML 字符串内容的 DOM 类 API

> ID：12703785
> 
> 赞同：4
> 
> 时间：2012-10-03T07:28:54.997
> 
> 标签：javascript, html, web-worker, jsdom

是否有任何库可以帮助在网络工作者中进行 html 字符串操作？

我想做的是，在一个工人内部，有一个嘶嘶声类型的选择器工具，它可以让我做这样的事情：

```
hString = "<div><img src='foo'></img></div>"
imgSrc  = $(hString).find("img").attr("src")   // foo 
```

，没有 DOM 交互。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:41:54.343

你基本上想要的是一个纯 Javascript DOM 实现，你可以在上面运行 jQuery 和伙伴

Node.js 存在一种这样的实现

[https://github.com/tmpvar/jsdom](https://github.com/tmpvar/jsdom)

它可以欺骗 DOM 窗口对象、API 等。

您可以获取代码，撕掉 Node 依赖项，然后尝试在 Web Worker 的顶部应用 jQuery。

# c# - D3 - 动态数据显示 WPF 日期时间轴内部格式

> ID：12703786
> 
> 赞同：2
> 
> 时间：2012-10-03T07:28:55.993
> 
> 标签：c#, wpf, datetime, dynamic-data-display

我正在使用动态数据显示 WPF 图表。我正在尝试在带有 x 轴的日期时间轴的图表中设置 Viewport2D 的可见数据矩形。如何将日期转换为需要分配给 Viewport2D 上的 Visible 属性的 DataRect 的有效双精度值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-31T19:09:19.800

动态数据显示具有专门用于其图表轴的 ConvertToDouble 方法。根据您使用的轴类型，您必须传入不同的类型，但对于 DateTimeAxis，它看起来像这样：

```
var axis = (DateTimeAxis)plotter.MainHorizontalAxis;
double xMin = axis.ConvertToDouble(date1); 
double xMax = axis.ConvertToDouble(date2);
Rect visibleRect = new Rect(xMin, 0, xMax - xMin, 1 - 0);
//not sure what bounds you want for y axis, so assumed 1 for example purposes. 
```

# java - 如何使用确认密码验证密码然后重定向？

> ID：12703787
> 
> 赞同：1
> 
> 时间：2012-10-03T07:28:58.960
> 
> 标签：java, jsp, jakarta-ee, jsf-2

如何使用确认密码验证密码，`login.jsp`并且只有在相等的情况下，然后重定向到`success.jsp`哪个显示`Welcome #{beans.username}`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T12:49:05.577

只需执行`Validator`通常的方式。肯定不应该像其他人建议/暗示的那样在操作方法中进行验证。如果验证失败，则默认情况下不会调用操作方法，并且只会重新显示相同的页面并显示验证错误。您可以`<f:attribute>`在确认密码字段中传递密码字段，以便验证器可以获取其值以进行测试。

这是视图的启动示例：

```
<h:inputSecret id="password" binding="#{passwordComponent}" value="#{bean.password}" required="true" />
<h:message for="password" />

<h:inputSecret id="confirm" required="#{not empty password.value}">
    <f:validator validatorId="confirmPasswordValidator" />
    <f:attribute name="passwordComponent" value="#{passwordComponent}" />
</h:inputText>
<h:message for="confirm" /> 
```

和验证器：

```
@FacesValidator("confirmPasswordValidator")
public class ConfirmPasswordValidator implements Validator {

    @Override
    public void validate(FacesContext context, UIComponent component, Object value) throws ValidatorException {
        UIInput passwordComponent = (UIInput) component.getAttributes().get("passwordComponent");
        String password = (String) passwordComponent.getValue();
        String confirmPassword = (String) value;

        if (confirmPassword != null && !confirmPassword.equals(password)) {
            throw new ValidatorException(new FacesMessage(
                FacesMessage.SEVERITY_ERROR, "Confirm password is not the same as password", null));
        }
    }

} 
```

该消息将出现在 中`<h:message for="confirm">`。

请注意，您只需要将密码作为支持 bean 中的属性，而不是确认密码。

```
private String password;

// Getter+setter. 
```

在 action 方法中，您可以按通常的方式返回导航案例结果：

```
public String login() {
    User user = userService.find(username, password); 

    if (user != null) {
        FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("user", user);
        return "success?faces-redirect=true";
    } else {
        FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(
            FacesMessage.SEVERITY_WARN, "Unknown login, please try again.", null));
        return null;
    }
} 
```

由于 JSF 2.0 不再需要详细的导航案例，`faces-config.xml`正如其他答案所建议的那样。

* * *

**与具体问题无关**，为什么还要坚持使用遗留的 JSP 视图技术？从 JSF 2.0 开始，这已被[弃用](http://docs.oracle.com/javaee/6/tutorial/doc/giepx.html)，取而代之的是 Facelets。请考虑将JSP[迁移](https://stackoverflow.com/questions/4441713/migrating-from-jsf-1-2-to-jsf-2-0/4532870#4532870)到 Facelets。然后，您将能够使用新的 JSF 2.0`<f:ajax>`和强大的 Facelets 模板功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:46:33.177

您必须在托管 bean 中定义登录功能。此函数应返回一个字符串，该字符串的值将应用您**faces-config.xml**中描述的导航规则。

您的*faces-config.xml*将包括：

```
<navigation-rule>
    <description>
       Login
    </description>
    <from-view-id>/Login.jsp</from-view-id>
    <navigation-case>
        <from-outcome>login_success</from-outcome>
        <to-view-id>/Success.jsp</to-view-id>
    </navigation-case>
    <navigation-case>
        <from-outcome>login_failed</from-outcome>
        <to-view-id>/Login_failed.jsp</to-view-id>
    </navigation-case>
</navigation-rule> 
```

您的*Beans.java*托管 bean 将包含登录功能：

```
public String login(){
    //Compare login and password against a DB, file, etc.

    if(entered_password.equals(stored_passwd){
        return "login_success";
    }else{
        return "login_failed";
    }
} 
```

最后，在您的*Login.jsp*表单中，您将定义一个类似于以下内容的登录按钮（加上用于登录和密码值的 h:inputText）：

```
<h:commandbutton value="LOGIN" action="#{Beans.login}" /> 
```

因此，当用户按下登录按钮时，该`login()`函数将被执行，并根据其返回值确定重定向。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:32:58.263

因为您的密码将是字符串类型。您可以使用 String.equals() 方法检查它们是否相等。

```
 String pass1 ="#s27zaiyt0";
   String pass2 ="#s27zaiyt0";
   sysout(pass1.equals(pass2)); 
```

# php - MongoDB 按日期分组

> ID：12703792
> 
> 赞同：0
> 
> 时间：2012-10-03T07:29:06.667
> 
> 标签：php, mongodb, date, group-by

我在 mongodb 中有一个名为“通知”的集合，我想要的是查询所有通知并按“日期”对它们进行分组。我在通知集合中有一个名为“date_created”的字段，其中包含 MongoDate() 对象，所以我想要的输出是，

按 =>“今天”分组的通知，其中包含今天创建的所有通知 按 =>“昨天”分组的通知，其中包含昨天创建的所有通知，

并且清单逐日进行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T17:11:40.260

您的分组需要多复杂？您可能只想对文档中的相应字段进行[排序。](http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bsort%28%29%7D%7D)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:40:15.420

```
 $pipeline= array( '$group' => array( "_id" => '$col2',
                                                            'col1' => array('$sum' => '$col1') ,
                                                             'col3' => array('$sum' => '$col3'),
                                                              'col4' => array('$sum' => '$col4')    
                                                        )
                                                    )   ;               

                   if ($this -> publisher_id) {         
                        $pipeline=array_merge($pipeline, array('col5' => $this -> col5value));
                    }

                     $conn = new Mongo();
                     $c = $conn->$db;

                     $result = $c-> command (
                                    array( 
                                        "aggregate" => "tablename",
                                        "pipeline" => 
                                            array($pipeline)
                                    )
                                );
Note : sql query :
select sum(col1) as col1,... from tablename
where col5='value' group by col2 
```

# c# - 数学日的时分秒

> ID：12703793
> 
> 赞同：0
> 
> 时间：2012-10-03T07:29:07.400
> 
> 标签：c#, math, time, string-formatting

这个问题被问了多次，但我无法让它工作......

我正在开发一个程序来计算两点之间的距离，并计算一个单位绕它走的时间......

这是我需要做的简化版本：

```
x = 24 
y = 23

Root of (24² + 23²) = 33.24 fields

33.24 x 30 = 997,2 minuts

997,2/60 = 16,62 hours
16: (60*0.62) = 16:37,2   
16:37: (60*0,2) = 16:37:12 
```

所以我在 C# 中有这段代码，但它不起作用：

```
first_town = "35|629";
second_town = "59|606";
snelheidUnit = 30;

string[] firstTownSplit = first_town.Split('|');
string[] secondTownSplit = second_town.Split('|');
int firstTownPart1 = Convert.ToInt32(firstTownSplit[0]);
int firstTownPart2 = Convert.ToInt32(firstTownSplit[1]);
int secondTownPart1 = Convert.ToInt32(secondTownSplit[0]);
int secondTownPart2 = Convert.ToInt32(secondTownSplit[1]);

int verschilX = firstTownPart1 - secondTownPart1;
int verschilY = firstTownPart2 - secondTownPart2;

double aantalVelden = Math.Sqrt((Math.Pow(verschilX, 2) + Math.Pow(verschilY,2)));       // Fields
double aantalMinuten = aantalVelden * snelheidUnit;             // Minuts
double aantalUren = aantalMinuten / 60;                 // Hours

TimeSpan time = TimeSpan.FromHours(aantalUren);
string FinalTime = string.Format("{0:D2}d:{1:D2}h:{2:D2}m:{3:D2}s:{4:D3}ms", time.Days, time.Hours, time.Minutes, time.Seconds, time.Milliseconds); 
```

预期的输出应该是：00d:16h:37m:12s:772ms

但是是：00d:16h:37m:14s:772ms

差异为 2 秒。瓶颈是什么？为什么预期输出和实际输出之间有 2 秒的差异？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:58:21.533

> (24² + 23²) 的根 = 33.24 个字段

的平方根`1105`不*完全是* `33.24`; 只有`33.24`将平方根四舍五入才能得到。所以比较你的问题描述：

> ```
> 33.24 x 30 = 997,2 minuts
> 
> 997,2/60 = 16,62 hours
> 16: (60*0.62) = 16:37,2   
> 16:37: (60*0,2) = 16:37:12 
> ```

与更精确的平方根值相反：

> ```
> 33.241540277189322804630581542105 * 30 = 997.24620831567968413891744626316 minutes
> less 16 hours (960 minutes) leaves 37.246208315679684138917446263157 minutes
> less 37 minutes leaves 0.246208315679684138917446263157 minutes
> which gives 14.772498940781048335046775789394 seconds 
> ```

这与你得到的大约 2 秒不同

如果你想重现你原来的计算，你需要在之后做一些事情

```
double aantalVelden = Math.Sqrt((Math.Pow(verschilX, 2) + Math.Pow(verschilY,2)));       // Fields 
```

以与原件相同的方式对其进行**四舍五入；**例如，

```
aantalVelden  = Math.Round(aantalVelden, 2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:37:25.847

似乎它应该像它一样工作。十进制值的差异很小，最终导致与您的预期结果有几秒钟的差异。这是我使用过的代码：

```
 double verschilX = 24;
        double verschilY = 23;
        double snelheidUnit = 30;

        double aantalVelden = Math.Sqrt((Math.Pow(verschilX, 2) + Math.Pow(verschilY, 2)));       // Fields 
        double aantalMinuten = aantalVelden * snelheidUnit;             // Minuts 
        double aantalUren = aantalMinuten / 60;                 // Hours 

        TimeSpan time = TimeSpan.FromHours(aantalUren);
        string FinalTime = string.Format("{0:D2}d:{1:D2}h:{2:D2}m:{3:D2}s:{4:D3}ms", time.Days, time.Hours, time.Minutes, time.Seconds, time.Milliseconds); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:35:41.110

我拿了你的代码，它没有编译和制作

```
 double verschilY = 24;
        double verschilX = 23;
        double aantalVelden = Math.Sqrt((Math.Pow(verschilX, 2) + Math.Pow(verschilY, 2)));       // Fields 
        double aantalMinuten = aantalVelden * 30;             // Minuts 
        double aantalUren = aantalMinuten / 60;                 // Hours 
        TimeSpan time = TimeSpan.FromHours(aantalUren); 
        string FinalTime = string.Format("{0:D2}d:{1:D2}h:{2:D2}m:{3:D2}s:{4:D3}ms", time.Days, time.Hours, time.Minutes, time.Seconds, time.Milliseconds);
        Console.WriteLine(FinalTime); 
```

它带着正确的答案回来了。

# c# - 创建固定文档会导致内存泄漏

> ID：12703796
> 
> 赞同：2
> 
> 时间：2012-10-03T07:29:22.717
> 
> 标签：c#, wpf, memory-leaks, fixeddocument

我在我的应用程序中创建 WPF 报告，我发现每次创建报告时，报告都会保留在内存中。我完全清除了文档内容，并且只打印了一个空的 UserControl。我将代码减少到最低限度，但它仍然在泄漏。你知道我做错了什么 - 或者我没有做什么吗？

分析表明问题在于 ContextLayoutManager 在 ContextLayoutManager.LayoutQueue.Request 中的 FixedPage 上保持引用

```
 private AutoResetEvent _documentGenerated = new AutoResetEvent(false);
    private Stream _outputStream;
    private void button1_Click(object sender, RoutedEventArgs e)
    {
        using (_outputStream = new FileStream(@"c:\report_tst.xps", FileMode.Create))
        {
            Thread thread = new Thread(new ThreadStart(doWork));
            thread.Name = "Report generating thread";
            thread.SetApartmentState(ApartmentState.STA);
            thread.Start();

            _documentGenerated.WaitOne();
        }
    }

    private void doWork()
    {
        FixedDocument fixedDoc = new FixedDocument();
        PageContent pageContent = new PageContent();
        FixedPage fixedPage = new FixedPage();
        fixedPage.Children.Add(new UserControl());
        ((IAddChild)pageContent).AddChild(fixedPage);
        fixedDoc.Pages.Add(pageContent);

        var package = Package.Open(_outputStream, FileMode.Create);
        var xpsDoc = new XpsDocument(package, CompressionOption.Normal);
        XpsDocumentWriter xpsWriter = XpsDocument.CreateXpsDocumentWriter(xpsDoc);

        xpsWriter.Write(((IDocumentPaginatorSource)fixedDoc).DocumentPaginator);

        xpsDoc.Close();
        package.Close();

        _documentGenerated.Set();
    } 
```

感谢您的任何建议。

# opencv - 从 Eclipse 运行 javacv 示例

> ID：12703800
> 
> 赞同：0
> 
> 时间：2012-10-03T07:29:38.787
> 
> 标签：opencv, javacv

我下载了这个[javacv 示例](http://code.google.com/p/javacv/downloads/detail?name=javacv-examples-20120903-src.zip&can=2&q=)。当我尝试从 Eclipse 运行此代码时，它会显示这种错误。请帮我解决这个错误。谢谢

线程“AWT-EventQueue-0”java.lang.UnsatisfiedLinkError 中的异常：C:\Users\sujan\AppData\Local\Temp\javacpp13165890902885\jniopencv_core.dll：在 java.lang.ClassLoader$NativeLibrary 中找不到依赖库。 load(Native Method) at java.lang.ClassLoader.loadLibrary0(Unknown Source) at java.lang.ClassLoader.loadLibrary(Unknown Source) at java.lang.Runtime.load0(Unknown Source) at java.lang.System.load( Unknown Source) at com.googlecode.javacpp.Loader.loadLibrary(Loader.java:418) at com.googlecode.javacpp.Loader.load(Loader.java:368) at com.googlecode.javacpp.Loader.load(Loader. java:315) 在 com.googlecode.javacv.cpp.opencv_core.(opencv_core.java:131) 在 java.lang.Class.forName0(Native Method) 在 java.lang.Class.forName(未知来源)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T22:21:40.550

您将正确设置 opencv 库的路径。还要确保 opencv 和 javacv 的位数应该相同。您可以在下面的链接中找到说明。

[http://opencvlover.blogspot.in/2012/04/javacv-setup-with-eclipse-on-windows-7.html](http://opencvlover.blogspot.in/2012/04/javacv-setup-with-eclipse-on-windows-7.html)

# apache - 在本地 PC Apache 上托管 PHP 网站的要求

> ID：12703805
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:30:19.980
> 
> 标签：apache, web-hosting, nameservers

1.  我有一台具有静态 IP 的 PC。（Windows XP 操作系统）

2.  我从 GoDaddy 购买了 ex-ipower.com 域名

3.  我的电脑安装了 WAMP 服务器，网站文件位于 wamp www 文件夹的根目录中。

我需要知道的是

1.  如何将我的域名指向我的静态 IP，以及
2.  此任务是否需要任何其他硬件或软件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T01:08:31.897

您可以在 Go Daddy 将您的域指向您的 IP 地址。

访问区域文件编辑器

1.  登录您的客户经理。
2.  在域旁边，单击启动。
3.  执行以下操作之一：
4.  单击要更新的域名，然后在 DNS 管理器部分中单击启动。
5.  在 A（主机）部分中，单击要编辑的 A 记录。
6.  编辑以下任何字段：

    主机 — 输入 A 记录链接到的主机名。键入 @ 将记录直接映射到您的域名，包括 www。指向 - 输入您的域名用于此主机记录的 IP 地址。TTL — 选择服务器应缓存信息的时间。

7.  单击保存区域文件，然后单击确定。

DNS 更改可能需要 24-48 小时才能传播。一旦完成并且传播时间已经过去，域将指向您的 WAMP 设置。您只需要设置 Apache。您可能还需要确保您的防火墙允许端口 80。

# php - ZEND ACL 角色 - 如何在 helperss 中访问它们

> ID：12703807
> 
> 赞同：2
> 
> 时间：2012-10-03T07:30:23.933
> 
> 标签：php, zend-framework, acl

我有 application\plugins\Acl.php 与：

```
class Application_Plugin_Acl extends Zend_Controller_Plugin_Abstract {
    public function dispatchLoopStartup(Zend_Controller_Request_Abstract $request) {
    $acl = new Zend_Acl(); 
```

我在那里添加角色。我也有助手 HasAccess.php：

```
class Zend_View_Helper_HasAccess extends Zend_View_Helper_Abstract {
    public function hasAccess($role, $action, $controller) {
    if (!$this->_acl) {
        $acl = Zend_Controller_Front::getInstance()->getPlugin('Application_Plugin_Acl');
    }
    return $acl->isAllowed($role, $controller, $action); 
```

而且我无法从视图文件中访问角色：

```
$this->hasAccess('user', 'partner', 'news') 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:00:18.140

在 application\plugins\Acl.php 中，您必须将该 ACL 实例附加到您的视图

```
class Application_Plugin_Acl extends Zend_Controller_Plugin_Abstract {
    public function dispatchLoopStartup(Zend_Controller_Request_Abstract $request) {
    $acl = new Zend_Acl();

    // Set ACL to view files
    $layout = Zend_Layout::getMvcInstance();
    $view   = $layout->getView();
    $view->acl = $acl;
} 
```

然后，您可以在视图文件中使用 ACL：

```
$this->acl->hasAccess(...); 
```

如果要在 View Helpers 中使用 ACL，请使用：

```
$this->view->acl->hasAccess(...); 
```

# c# - 从正在运行的线程 C# 更改窗体的属性

> ID：12703809
> 
> 赞同：1
> 
> 时间：2012-10-03T07:30:33.800
> 
> 标签：c#, multithreading, variables

我发现运行线程在很大程度上与主应用程序隔离。您不能更改变量（在您的类中全局声明），也不能通过简单地在线程中给它们新值来更改表单属性或任何东西。

当线程运行时，您将如何从线程内部更改标签中的文本？

我不认为锁定值是必要的，因为它没有在主程序中使用，所以不会发生死锁。

我尝试了什么，失败了。

有一个全局变量（int = 0）

运行测试线程将变量更改为 5。

当我想**在我的线程**（messagebox.show（int.tostring（））之外显示该数字时，var仍然是0

您将如何从线程中更改主窗体中/主窗体上的内容？

**代码**

*创建一个我没有使用的线程的代码就是这个。*

```
 Thread threadA = new Thread(new ThreadStart(DoWork));
        threadA.Start(); 
```

当我使用这种方式时，我得到了错误

“跨线程操作无效：控件'button1'从创建它的线程以外的线程访问”

当我尝试在我的线程上编辑或更改某些内容时。

所以我使用了这段代码。

*lbldirectory 是我的部分类的名称。*

```
 // StartFileCheckProcess();
            workerObject = new lbldirectory(); 
            workerThread = new Thread(workerObject.DoWork);

            // the worker thread.
            workerThread.Start(); 
```

DoWork 是我的课程，我尝试更改表单上的属性。

这是 DoWork 类。它确实是一个简单的类，但它只是为了了解为什么会发生这种情况，而其他人只是为了了解他们为什么以及如何克服这一点。

```
public void DoWork()
        {
            button1.Text = "Hello there";
        } 
```

这样运行线程，线程工作，它只是不能改变我表单上的任何东西。

***修改后的答案***（由 Tudor 和 Konstantin Vasilcov 提供）

在按钮单击事件上。

```
var t = new Thread(TEST);
    t.Start(); 
```

线程启动的类

```
private void TEST()
            {
                for (int i = 0; i < 10; i++)
                {
                    lbl_CurrentFile.BeginInvoke(
                    ((Action)(() => lbl_CurrentFile.Text = i.ToString())));
                    Thread.Sleep(1000);
                }
            } 
```

这成功地更改了线程内标签的文本

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-03T07:35:56.307

好的，这里有两件事要注意：

1.更改GUI控件：只有GUI线程才能对控件进行更改。其他线程需要通过`Invoke`/将它们的更新转发到 GUI 线程，`BeginInvoke`例如：

```
 var t = new Thread(
    o => 
    {
         textBox.BeginInvoke(
             ((Action)(() => textBox.Text = "text")));
    }); 
```

2.更改标量值或引用：这通常可以毫无问题地完成，但要小心数据竞争。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-03T07:33:23.083

如果需要从后台线程访问 GUI，则需要使用[Control.Invoke](http://msdn.microsoft.com/en-us/library/zyzhdc6b.aspx)方法：

```
public void DoWork()
{
    button1.Invoke(new Action(() =>
    {
        button1.Text = "Hello there";
    }));            
} 
```

如果您在多个线程之间共享一些变量，则每次由其中一个线程访问共享变量时，都必须受到其中一种同步技术的显式保护。我想你可以在那里找到大量必要的信息：[Thread Synchronization (C# Programming Guide)](http://msdn.microsoft.com/en-us/library/ms173179%28v=vs.80%29.aspx)

# java - 如何使用通用配置java读取复杂的xml

> ID：12703812
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:30:40.620
> 
> 标签：java, xml, apache-commons-config

我需要使用通用配置读取复杂的 XML 文件。有人可以帮助我吗？

```
<configurations>  
<configuration type="application configuration">  
    <group id="1" name="President">  
        <sentiment-searcher>  
            <sentiment id="1" type="sentiment candidate 1">  
                <positive>'Obama okay' 'Obama great'</positive>  
                <negative>'Obama bad' 'Obama idiot'</negative>  
            </sentiment>  
            <sentiment id="2" type="sentiment candidate 2">  
                <positive>'Putin okay'</positive>  
                <negative>'Putin bad'</negative>  
            </sentiment>  
        </sentiment-searcher>  
    </group>  
</configuration>  
</configurations> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:38:49.827

[公共配置](http://commons.apache.org/configuration/index.html)可能不是此任务的正确工具。当您已经知道键名（即当您知道要获取时`some.important.config`）时，配置 API 很有用，但当您不知道元素是什么样子以及键可能是什么时，它不太适合处理复杂的嵌套数据结构.

STaX API 更适合这项任务。[这是使用woodstox 框架的教程](http://www.developerfusion.com/article/84523/stax-the-odds-with-woodstox/)。

如果您仍想使用公共配置，文档说明了如何[从文件中读取配置](http://commons.apache.org/configuration/userguide/howto_filebased.html#File-based_Configurations)以及如何[访问嵌套值](http://commons.apache.org/configuration/userguide/howto_xml.html#Hierarchical_properties)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:40:32.707

你可以：

1.  在 java 中定义你的类模型（配置、组、情感等）
2.  使用 Jaxb 转换您的 xml（例如）

# mysql - 将 mysql 查询嵌套到单个查询中

> ID：12703814
> 
> 赞同：0
> 
> 时间：2012-10-03T07:30:44.737
> 
> 标签：mysql, nested-queries

```
$image=mysql_query("select * from carad order by carAdID DESC LIMIT 10");

    while($row=mysql_fetch_array($image))
    {
          $getimage=mysql_query("select * from carimage where carAdID='".$row["carAdID"]."' LIMIT 1");
          while($getimagerow=mysql_fetch_array($getimage))
          {
              echo(''); 
              echo('<a href="#" ><div class="simages"><img src="'.substr($getimagerow["carImageUrl"],1).'" width="600" height="400" /><div class="SliderContent">'.$row["catalogPrice"].'</div></div></a>');
          }
    } 
```

我正在使用两个查询，一个是在 while 循环之前，而在 while 循环中，id 来自第一个查询是否有任何最佳方法可以在单个查询中调用这些查询，以便优化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:33:29.397

尝试这个：

```
SELECT ci.*
FROM carimage ci 
INNER JOIN 
(
    select * 
    from carad 
    order by carAdID DESC LIMIT 10
 ) c ON ci.carAdID = c.carAdID
 --May be you need to add LIMIT here as well 
```

# c# - 如何读取文件 (Metro/WinRT)

> ID：12703816
> 
> 赞同：15
> 
> 时间：2012-10-03T07:30:58.457
> 
> 标签：c#, wpf, windows-8, microsoft-metro, windows-runtime

我对这个看似简单的任务的明显复杂性感到非常震惊。我知道我必须使用`StorageFile`该类，并且我找到了这个[示例](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/jj150593.aspx)，但我只想读取一个我知道路径的单个文件，并将它的数据作为文本读取到字符串中。

从我收集到的信息来看，要使用 读取文件`StorageFile`，我必须通过一堆接口；`IAsyncOperation<StorageFile>`和`IAsyncOperationCompletedHandler`。

必须有更好（更简单）的方法。就像是：

```
using (StorageFile sf = StorageFile.OpenAsync("myFile.txt"))
{
    string line = sf.ReadLine();
} 
```

显然这不起作用，但也许我错过了一些东西，或者有人可以向我解释如何以不同的方式读取文件？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-10-03T07:59:46.713

此网页可能会有所帮助：[http ://blog.jerrynixon.com/2012/06/windows-8-how-to-read-files-in-winrt.html](http://blog.jerrynixon.com/2012/06/windows-8-how-to-read-files-in-winrt.html)

相关代码：

```
public string CurrentFileBuffer
{
    get; private set;
}

public async void ReadTextFile(string Path)
{
    var folder = Package.Current.InstalledLocation;
    var file = await folder.GetFileAsync(Path);
    var read = await FileIO.ReadTextAsync(file);
    CurrentFileBuffer = read;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-03T11:16:04.070

[Windows.Storage.FileIO](http://msdn.microsoft.com/en-us/library/windows/apps/windows.storage.fileio.aspx)有一堆帮助/实用程序方法，它们在一行代码中完成这项工作，而不是使用 StorageIO 接口和类。

例如

```
ReadLineAsync()
ReadTextAsync()
WriteLineAsync()
WriteTextAsync() 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-12-02T06:09:13.200

您可以使用以下方法获取文件：

```
StorageFile file3 = await StorageFile.GetFileFromPathAsync(@"C:\myFile.txt"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-28T19:31:04.293

你可以`FileIO`像这样使用这个类。

```
public async void Read(IStorageFile file)
{
    var lines = await FileIO.ReadLinesAsync(file);

} 
```

# ruby-on-rails - rails + angularjs 在编辑时将值加载到文本字段中

> ID：12703820
> 
> 赞同：1
> 
> 时间：2012-10-03T07:31:12.280
> 
> 标签：ruby-on-rails, angularjs

在将 AngularJS 与 rails 应用程序一起使用时，我在编辑记录时遇到了问题，文本字段的值设置为空白。有没有办法告诉 AngularJS 使用 rails 给表单元素的值作为初始值？

我整理了一个 JSFiddle 来演示我遇到的问题：

[http://jsfiddle.net/YUza7/15/](http://jsfiddle.net/YUza7/15/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-03T08:03:37.830

使用 ng-init 指令，因为它在运行任何代码之前加载初始值。

[http://jsfiddle.net/YUza7/17/](http://jsfiddle.net/YUza7/17/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T15:00:25.073

正如您在回答中已经说明的那样，您可以使用 ng-init。

一种更“有角度的方式”是修改您的 $scope/data 模型，而不是在表单元素上使用 value 参数。

另请参阅[AngularJS - 使用 ng-model 时忽略输入文本框上的值属性？](https://stackoverflow.com/questions/10610282/angularjs-value-attribute-on-an-input-text-box-is-ignored-when-there-is-a-ng-m)

# javascript - html 与 javascript 到 pdf

> ID：12703821
> 
> 赞同：0
> 
> 时间：2012-10-03T07:31:19.417
> 
> 标签：javascript, html, pdf

我想找到一种方法将例如[http://docs.sencha.com/ext-js/4-0/](http://docs.sencha.com/ext-js/4-0/)页面转换为 pdf 有没有办法将 php 与库或其他方式一起使用？谢谢

我必须明确主题：

我想将带有 javascript 的页面（例如具有 extjs 代码的页面）转换为 pdf ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:33:01.913

这需要 shell 访问，但我以前使用过它：[wkhtmltopdf](http://code.google.com/p/wkhtmltopdf/)

用法：

```
wkhtmltopdf http://docs.sencha.com/ext-js/4-0/ ext-js-4-0-doc.pdf 
```

要在 PHP 中运行，您必须将二进制文件放在 PHP 可以访问它的地方，并使用 shell_exec 或类似函数调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:33:46.337

您可以尝试 mpdf 或 fpdf 下载并阅读文档[mpdf](http://www.mpdf1.com/mpdf/download)

```
<?php

$html = "
<h1><a name='top'></a>mPDF</h1>
<h2>Basic HTML Example</h2>
This file demonstrates most of the HTML elements.
<h3>Heading 3</h3>
<h4>Heading 4</h4>
<h5>Heading 5</h5>
<h6>Heading 6</h6>
<p>P: Nulla felis erat, imperdiet eu, ullamcorper non, nonummy quis, elit. Suspendisse potenti. Ut a eros at ligula vehicula pretium. Maecenas feugiat pede vel risus. Nulla et lectus. Fusce eleifend neque sit amet erat. Integer consectetuer nulla non orci. Morbi feugiat pulvinar dolor. Cras odio. Donec mattis, nisi id euismod auctor, neque metus pellentesque risus, at eleifend lacus sapien et risus. Phasellus metus. Phasellus feugiat, lectus ac aliquam molestie, leo lacus tincidunt turpis, vel aliquam quam odio et sapien. Mauris ante pede, auctor ac, suscipit quis, malesuada sed, nulla. Integer sit amet odio sit amet lectus luctus euismod. Donec et nulla. Sed quis orci. </p>

<hr />

<div><img src='tiger.wmf' style='float:right;'>DIV: Proin aliquet lorem id felis. Curabitur vel libero at mauris nonummy tincidunt. Donec imperdiet. Vestibulum sem sem, lacinia vel, molestie et, laoreet eget, urna. Curabitur viverra faucibus pede. Morbi lobortis. Donec dapibus. Donec tempus. Ut arcu enim, rhoncus ac, venenatis eu, porttitor mollis, dui. Sed vitae risus. In elementum sem placerat dui. Nam tristique eros in nisl. Nulla cursus sapien non quam porta porttitor. Quisque dictum ipsum ornare tortor. Fusce ornare tempus enim. </div>
<div><img src='klematis.jpg' style='opacity: 0.5; float: left;' />DIV: Proin aliquet lorem id felis. Curabitur vel libero at mauris nonummy tincidunt. Donec imperdiet. Vestibulum sem sem, lacinia vel, molestie et, laoreet eget, urna. Curabitur viverra faucibus pede. Morbi lobortis. Donec dapibus. Donec tempus. Ut arcu enim, rhoncus ac, venenatis eu, porttitor mollis, dui. Sed vitae risus. In elementum sem placerat dui. Nam tristique eros in nisl. Nulla cursus sapien non quam porta porttitor. Quisque dictum ipsum ornare tortor. Fusce ornare tempus enim. </div>

<blockquote>Blockquote: Maecenas arcu justo, malesuada eu, dapibus ac, adipiscing vitae, turpis. Fusce mollis. Aliquam egestas. In purus dolor, facilisis at, fermentum nec, molestie et, metus. Maecenas arcu justo, malesuada eu, dapibus ac, adipiscing vitae, turpis. Fusce mollis. Aliquam egestas. In purus dolor, facilisis at, fermentum nec, molestie et, metus.</blockquote>

<address>Address: Vestibulum feugiat, orci at imperdiet tincidunt, mauris erat facilisis urna, sagittis ultricies dui nisl et lectus. Sed lacinia, lectus vitae dictum sodales, elit ipsum ultrices orci, non euismod arcu diam non metus.</address>

<pre>PRE: Cum sociis natoque penatibus et magnis dis parturient montes, 
nascetur ridiculus mus. In suscipit turpis vitae odio. Integer convallis 
dui at metus. Fusce magna. Sed sed lectus vitae enim tempor cursus. Cras 
sed, posuere et, urna. Quisque ut leo. Aliquam interdum hendrerit tortor. 
Vestibulum elit. Vestibulum et arcu at diam mattis commodo. Nam ipsum sem, 
ultricies at, rutrum sit amet, posuere nec, velit. Sed molestie mollis dui.</pre>

<div><a href='#top'>Hyperlink (&lt;a&gt;)</a></div>
<div><a href='http://www.pallcare.info'>Hyperlink (&lt;a&gt;)</a></div>

<div>Styles - <tt>tt(teletype)</tt> <i>italic</i> <b>bold</b> <big>big</big> <small>small</small> <em>emphasis</em> <strong>strong</strong> <br />new lines<br>
<code>code</code> <samp>sample</samp> <kbd>keyboard</kbd> <var>variable</var> <cite>citation</cite> <abbr>abbr.</abbr> <acronym>ACRONYM</acronym> <sup>sup</sup> <sub>sub</sub> <strike>strike</strike> <s>strike-s</s> <u>underline</u> <del>delete</del> <ins>insert</ins> <q>To be or not to be</q> <font face='sans-serif' color='#880000' size='5'>font changing face, size and color</font>
</div>

<p style='font-size:15pt; color:#440066'>Paragraph using the in-line style to determine the font-size (15pt) and colour</p>

<h3>Testing BIG, SMALL, UNDERLINE, STRIKETHROUGH, FONT color, ACRONYM, SUPERSCRIPT and SUBSCRIPT</h3>
<p>This is <s>strikethrough</s> in <b><s>block</s></b> and <small>small <s>strikethrough</s> in <i>small span</i></small> and <big>big <s>strikethrough</s> in big span</big> and then <u>underline and <s>strikethrough and <sup>sup</sup></s></u> but out of span again but <font color='#000088'>blue</font> font and <acronym>ACRONYM</acronym> text</p>

<p>This is a <font color='#008800'>green reference<sup>32-47</sup></font> and <u>underlined reference<sup>32-47</sup></u> then reference<sub>32-47</sub> and <u>underlined reference<sub>32-47</sub></u> then <s>Strikethrough reference<sup>32-47</sup></s> and <s>strikethrough reference<sub>32-47</sub></s></p> 

<p><big>Repeated in <u>BIG</u>: This is reference<sup>32-47</sup> and <u>underlined reference<sup>32-47</sup></u> then reference<sub>32-47</sub> and <u>underlined reference<sub>32-47</sub></u> but out of span again but <font color='#000088'>blue</font> font and <acronym>ACRONYM</acronym> text</big></p> 

<p><small>Repeated in small: This is reference<sup>32-47</sup> and <u>underlined reference<sup>32-47</sup></u> then reference<sub>32-47</sub> and <u>underlined reference<sub>32-47</sub></u> but out of span again but <font color='#000088'>blue</font> font and <acronym>ACRONYM</acronym> text</small></p>

<p>The above repeated, but starting with a paragraph with font-size specified (7pt)</p>

<p style='font-size:7pt;'>This is <s>strikethrough</s> in block and <small>small <s>strikethrough</s> in small span</small> and then <u>underline</u> but out of span again but <font color='#000088'>blue</font> font and <acronym>ACRONYM</acronym> text</p>

<p style='font-size:7pt;'>This is <s>strikethrough</s> in block and <big>big <s>strikethrough</s> in big span</big> and then <u>underline</u> but out of span again but <font color='#000088'>blue</font> font and <acronym>ACRONYM</acronym> text</p>

<p style='font-size:7pt;'>This is reference<sup>32-47</sup> and <u>underlined reference<sup>32-47</sup></u> then reference<sub>32-47</sub> and <u>underlined reference<sub>32-47</sub></u> then <s>Strikethrough reference<sup>32-47</sup></s> and <s>strikethrough reference<sub>32-47</sub></s></p>

<p><small>This tests <u>underline</u> and <s>strikethrough</s> when they are <s><u>used together</u></s> as they both use text-decoration</small></p>

<p><small>Repeated in small: This is reference<sup>32-47</sup> and <u>underlined reference<sup>32-47</sup></u> then reference<sub>32-47</sub> and <u>underlined reference<sub>32-47</sub></u> but out of span again but <font color='#000088'>blue</font> font and <acronym>ACRONYM</acronym> text</small></p> 

<p style='font-size:7pt;'><big>Repeated in BIG but with font-size set to 7pt by in-line css: This is reference<sup>32-47</sup> and <u>underlined reference<sup>32-47</sup></u> then reference<sub>32-47</sub> and <u>underlined reference<sub>32-47</sub></u> but out of span again but <font color='#000088'>blue</font> font and <acronym>ACRONYM</acronym> text</big></p>

<ol>
<li>Item <b><u>1</u></b></li>
<li>Item 2<sup>32</sup></li>
<li><small>Item</small> 3</li>
<li>Praesent pharetra nulla in turpis. Sed ipsum nulla, sodales nec, vulputate in, scelerisque vitae, magna. Sed egestas justo nec ipsum. Nulla facilisi. Praesent sit amet pede quis metus aliquet vulputate. Donec luctus. Cras euismod tellus vel leo. 
<ul>
<li>Praesent pharetra nulla in turpis. Sed ipsum nulla, sodales nec, vulputate in, scelerisque vitae, magna. Sed egestas justo nec ipsum. Nulla facilisi. Praesent sit amet pede quis metus aliquet vulputate. Donec luctus. Cras euismod tellus vel leo. </li>
<li>Subitem 2
<ul>
<li>
Level 3 subitem
</li>
</ul>
</li>
</ul>
</li>
<li>Item 5</li>
</ol>

<dl>
<dt>Definition list</dt>
<dd>List defined by DL, DD and DT tags</dd>
</dl>

<p>Sed bibendum. Nunc eleifend ornare velit. Sed consectetuer urna in erat. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. Mauris sodales semper metus. Maecenas justo libero, pretium at, malesuada eu, mollis et, arcu. Ut suscipit pede in nulla. Praesent elementum, dolor ac fringilla posuere, elit libero rutrum massa, vel tincidunt dui tellus a ante. Sed aliquet euismod dolor. Vestibulum sed dui. Duis lobortis hendrerit quam. Donec tempus orci ut libero. Pellentesque suscipit malesuada nisi. </p>

<table border='1'>
<thead>
<tr>
<th>Data</th>
<td>Data</td>
<td>Data</td>
<td>Data<br />2nd line</td>
</tr>
</thead>
<tbody>
<tr>
<th>More Data</th>
<td>More Data</td>
<td>More Data</td>
<td>Data<br />2nd line</td>
</tr>
<tr>
<th>Data</th>
<td>Data</td>
<td>Data</td>
<td>Data<br />2nd line</td>
</tr>
<tr>
<th>Data</th>
<td>Data</td>
<td>Data</td>
<td>Data<br />2nd line</td>
</tr>
</tbody>
</table>

<p>Praesent pharetra nulla in turpis. Sed ipsum nulla, sodales nec, vulputate in, scelerisque vitae, magna. Sed egestas justo nec ipsum. Nulla facilisi. Praesent sit amet pede quis metus aliquet vulputate. Donec luctus. Cras euismod tellus vel leo. Cras tellus. Fusce aliquet. Curabitur tincidunt viverra ligula. Fusce eget erat. Donec pede. Vestibulum id felis. Phasellus tincidunt ligula non pede. Morbi turpis. In vitae dui non erat placerat malesuada. Mauris adipiscing congue ante. Proin at erat. Aliquam mattis. </p>

<form>

<b>Textarea</b>
<textarea name='authors' rows='5' cols='80' wrap='virtual'>Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. Quisque viverra. Etiam id libero at magna pellentesque aliquet. Nulla sit amet ipsum id enim tempus dictum. </textarea>
<br /><br />

<b>Select</b>
<select size='1' name='status'><option value='A'>Active</option><option value='W' >New item from auto_manager: pending validation</option><option value='I' selected='selected'>Incomplete record - pending</option><option value='X' >Flagged for Deletion</option> </select> followed by text
<br /><br />

<b>Input Radio</b>
<input type='radio' name='pre_publication' value='0' checked='checked' > No &nbsp;&nbsp;&nbsp;&nbsp; <input type='radio' name='pre_publication' value='1' > Yes 
<br /><br />

<b>Input Radio</b>
<input type='radio' name='recommended' value='0' > No &nbsp;&nbsp;&nbsp;&nbsp; <input type='radio' name='recommended' value='1' > Keep &nbsp;&nbsp;&nbsp;&nbsp; <input type='radio' name='recommended' value='2'  checked='checked' > Choice 
<br /><br />

<b>Input Text</b>
<input type='text' size='190' name='doi' value='10.1258/jrsm.100.5.211'> 
<br /><br />

<b>Input Password</b>
<input type='password' size='40' name='password' value='secret'> 
<br /><br />

<input type='checkbox' name='QPC' value='ON' > Checkboxes<br>
<input type='checkbox' name='QPA' value='ON' > Not selected<br>
<input type='checkbox' name='QLY' value='ON' checked='checked' > Selected<br>
<input type='checkbox' name='QLY' value='ON' disabled='disabled' > Disabled
<br /><br />

<input type='submit' name='submit' value='Submit' /> 
<input type='image' name='submit' src='goto.gif' />
<input type='button' name='submit' value='Button' />
<input type='reset' name='submit' value='Reset' />

</form>

";

//==============================================================
//==============================================================
//==============================================================

include('../mpdf.php');

$mpdf=new mPDF(); 

$mpdf->WriteHTML($html);
$mpdf->Output();
exit;

//==============================================================
//==============================================================
//==============================================================

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:34:36.530

您可以尝试使用基于 FPDF 的 PHP 类 TCPPDF 来进行 HTML->PDF 转换[**。**](http://www.tcpdf.org/)

# windows-8 - 我想知道为什么 Blend for Windows 8 删除了“进入用户控制”功能

> ID：12703822
> 
> 赞同：4
> 
> 时间：2012-10-03T07:31:21.500
> 
> 标签：windows-8, blend

我喜欢自定义用户控件，从 Blend 2 开始就一直在使用它们，我想知道为什么现在我们不能在 Windows 8 中选择网格并制作成用户控件了？我们必须添加一个新项目，然后手动将所有网格添加到新创建的用户控件中。这背后有什么想法吗？这是一个坏习惯吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T22:41:08.237

如你所知，Silverlight 5 的 Blend 仍然是一个有缺陷的测试版，所以很高兴有一个适用于 winRT 应用程序的 Blend 版本 ^_^#，我喜欢 xaml 和 blend 但我相信你将不得不等待很长时间获取和更新。

# actionscript-3 - 如何以干净、可管理的方式跟踪我的所有 Box2D 碰撞？

> ID：12703824
> 
> 赞同：5
> 
> 时间：2012-10-03T07:31:24.293
> 
> 标签：actionscript-3, flash, box2d, collision-detection

我第一次在我正在开发的中型 Flash 游戏中认真使用 Box2D。我目前对 Box2D 的体验仅限于创建一个世界、身体并以功能性的方式将这些身体添加到世界中。

我发现将 Box2D 集成到我的游戏环境中很容易，维护编写良好的代码并完成了一些处理碰撞的教程。我现在面临的问题是我的游戏将有许多实体，每个实体都以不同的方式与其他实体交互，而且我发现很难编写自己的`b2ContactListener`子类而不让它变得非常混乱。

根据我使用的教程，我创建了自己的子类并添加了该方法`b2ContactListener`的覆盖。`BeginContact()`调用时接收的参数`BeginContact()`将引用 的一个实例`b2Contact`，通过它我可以访问两个`b2Fixture`实例（两个发生碰撞的实例）。然后我可以访问与这些s`b2Body`中的每一个关联的实例。`b2Fixture`

*   **问题：**目前我有一个迂回的方法来找出两个东西相撞（即它们是墙和导弹，还是玩家和树等），它使用`GetUserData()`并看起来像这样作为示例：

    ```
    var f1Player:Boolean = contact.GetFixtureA().GetBody().GetUserData() is Player
    var f2Player:Boolean = contact.GetFixtureB().GetBody().GetUserData() is Player
    var f1Tree:Boolean = contact.GetFixtureA().GetBody().GetUserData() is Tree
    var f2Tree:Boolean = contact.GetFixtureB().GetBody().GetUserData() is Tree
    // ... continutes with all possible combinations.

    // Example of managing a collision:
    if(f1Player && f2Tree)
    {
        // Player (FixtureA) and Tree (FixtureB)
    }

    if(f2Player && f1Tree)
    {
        // Player (FixtureB) and Tree (FixtureA)
    } 
    ```

    如您所见，这最终会变得非常漫长且难以管理。我还必须编写每组操作以执行两次，以适应某个元素是 FixtureA 或 FixtureB，反之亦然（显然是以交换参数的函数调用的形式，而不是从字面上重写）。

这显然不是正确的方法，但我无法找到更彻底地解释碰撞检测管理的资源。

有没有人可以分享使用 Box2D 进行碰撞检测管理的经验？另外，是否使用`SetUserData( entityThatOwnsTheBody );`正确的方法来使用该方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T21:03:26.930

是的，确实有点麻烦。实际上，我认为您拥有它的方式很典型。

fwiw Box2D 本身在测试夹具是否重叠时必须处理类似的问题。有很多函数，例如 b2CollideCircles、b2CollidePolygonAndCircle、b2CollidePolygons 等，当两个灯具彼此靠近时，引擎会选择应该使用其中的哪个函数。

它通过将函数指针放在一个二维数组中来做到这一点，然后通过使用两种形状类型作为索引在这个数组中查找适当的函数。有关详细信息，请参阅 b2Contact.cpp 中的前三个函数。

当然，如果你不能在 AS3 中传递这样的函数引用，那么我想这个答案并没有多大帮助，但我想我还是会发布，因为 C/C++/JS 用户可能会来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T08:59:45.190

我使用`c++`了 的版本`Box2d`，但我认为同样的方法也适用于 actionscript。我创建了一个类`Object`，其中包含一个`b2Body *_body`指针和一个指向图形表示的指针。`_body`'s`UserData`被设置为指向`Object *`. 类`Object`有以下方法：

```
virtual bool acceptsContacts    ();
virtual void onContactBegin     (const ContactData &data);
virtual void onContactEnded     (const ContactData &data);
virtual void onContactPreSolve  (const ContactData &data);
virtual void onContactPostSolve (const ContactData &data); 
```

当在`b2ContactListener`子类中检测到碰撞时，它会检查碰撞的物体是否有用户数据。如果是这样，它会将他们的用户数据投射到`Object*`并且如果任何碰撞的对象接受了联系人 - 它创建`ContactData`（一个包含有关碰撞的所有必需信息的类）并将其放入它的内部`list`以便稍后交付。

当`b2World::update`方法返回时，`ContactListener`将所有联系信息传递给对象进行处理。交付被延迟，以便您可以在处理碰撞时创建新的身体、关节等（执行更新时不允许这样做）

此外，如果在碰撞处理期间删除了一个碰撞体，您必须通知`ContactListener`（只需在其中放置一个指针），因此它可以使适当的联系人无效而不是传递它们`ContactData`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:58:10.937

我想出了比原来更好的东西。

首先，我只是让我的`Being`班级（拥有 a `b2Body`）将自己设置为它的身体`UserData`。此类还将包含一个`onContact()`方法，类似于以下内容：

```
public class Being
{

    private var _body:b2Body;

    public function Being()
    {
        // Define the body here.
        // ...

        _body.SetUserData(this);
    }

    public function onCollision(being:Being = null):void
    {
        //
    }

} 
```

然后在我自己的`b2ContactListener`实现中，我只是将碰撞`Being`（或 null，如果没有`Being`分配给碰撞`b2Body`的 's `UserData`）传递给对方`Being`的 's `onCollision()`：

```
override public function BeginContact(contact:b2Contact):void
{
    var bodyA:b2Body = contact.GetFixtureA().GetBody();
    var bodyB:b2Body = contact.GetFixtureB().GetBody();

    var beingA:Being = bodyA.GetUserData() as Being || null;
    var beingB:Being = bodyB.GetUserData() as Being || null;

    beingA && beingA.onCollision(beingB);
    beingB && beingB.onCollision(beingA);
} 
```

最后，在我的每个子类中，我可以轻松地为特定类型的`Being`其他 s 之间的冲突准备逻辑：`Being`

```
class Zombie extends Being
{
    override public function onCollision(being:Being = null):void
    {
        if(being && being is Bullet)
        {
            // Damage this Zombie and remove the bullet.
            // ...
        }
    }
} 
```

# android - 屏幕方向更改时，AlertDialogue 被破坏

> ID：12703830
> 
> 赞同：3
> 
> 时间：2012-10-03T07:31:53.770
> 
> 标签：android, screen-orientation, android-alertdialog

在我的应用程序中，我显示了一个警报对话框，并且当屏幕方向改变时它会关闭。如何解决这个问题？我的代码如下。

```
private void showDialogue() {
    AlertDialog.Builder alert = new AlertDialog.Builder(MyClass.this);
    alert.setTitle("Title");
    alert.setIcon(R.drawable.icon);
    LayoutInflater inflater = (LayoutInflater)MyClass.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View view = inflater.inflate(R.layout.dialogue, null, false);
    EditText from= (EditText)view.findViewById(R.id.from);
    EditText to= (EditText)view.findViewById(R.id.to);
    from.setHint("eg : From");
    to.setHint("eg : To");
    alert.setView(view);
    searchAlert = alert.create();
    searchAlert.show();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:37:42.770

这是正常的，因为 Activity 被销毁并再次创建。您可以看到这个问题[Android - Dealing with a Dialog on Screen Orientation change](https://stackoverflow.com/questions/3013530/android-dealing-with-a-dialog-on-screen-orientation-change)它应该有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:41:42.347

当方向改变时，活动被销毁并再次创建。

要了解活动的生命周期，请查看此视频： [http](http://www.youtube.com/watch?v=fL6gSd4ugSI) ://www.youtube.com/watch?v= fL6gSd4ugSI -Android 基本视频 2。

然后你应该弄清楚如何保存信息包并在调用活动的创建时重新初始化它。

这都可以在文档中找到。

# ios - 超链接，使用相机的电子邮件地址检测

> ID：12703833
> 
> 赞同：0
> 
> 时间：2012-10-03T07:32:05.133
> 
> 标签：ios, augmented-reality

我想构建一个能够识别超链接和电子邮件地址的应用程序，当我在一张包含大量信息以及超链接和电子邮件地址的纸张或白板上指出相机时。无论如何，以前有人构建过这样的应用程序还是可行的？我应该为此使用增强现实吗？说啥？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T12:40:36.683

有趣的想法。您将不得不使用文本识别。对于超链接和电子邮件地址，您可以创建一些特定功能算法应查找的规则（“@”、“http://”、..）。

然而文本识别（最终文本提取与预定义字体中的字母比较）并不容易。我真的不明白你想如何使用 AR。事实上，这将是 AR 应用程序，它将从现实世界中获取此类信息，并将其转换为数字形式。

这将是一个很棒的应用程序，但祝你好运:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T23:30:54.043

在我的脑海中，首先想到的基本算法是（1）捕获图像，（2）通过 OCR 处理它以查找您想要的特定字符串，以及（3）做您想做的事情。

快速搜索“智能手机上的 OCR”出现了这篇论文，该论文讨论了智能手机上的 OCR，并提到了 Google 提供的一个库，因此您可能会开始在那里获得概述：

[http://www.cs.unc.edu/cms/publications/honors-theses-1/lian09.pdf](http://www.cs.unc.edu/cms/publications/honors-theses-1/lian09.pdf)

您所描述的场景听起来不像纯粹意义上的 AR，因为您并没有真正“跟踪”现实世界中的任何东西，而是拍照然后对该图像进行后期处理。

祝你好运。

# javascript - 如何重新填充表单变量？

> ID：12703834
> 
> 赞同：0
> 
> 时间：2012-10-03T07:32:06.500
> 
> 标签：javascript, jakarta-ee, websphere

如果用户试图离开包含未保存数据的页面，我有一个页面应该发出警告。此对话框的意思是“您有未保存的数据。您要继续吗？”

![在此处输入图像描述](../Images/e9d61e96b9dd5fe38b00f48299cc5438.png)

问题是当用户单击链接继续前进并显示对话框时，表单值变为空白。我希望将值保持在原位，以便用户实际上可以选择不继续，然后仍然将输入的内容留在表单中。

代码现在的方式是它为表单是否有脏数据保留一个标志，这是一个隐藏变量：

`<input type="hidden" name="saveStatus" value="<%=saveStatus%>" />`

`onclick`触摸表格用和设置这个隐藏变量`onkeypressed`。

在服务器上，我有一些检查数据是否脏的逻辑：

```
public boolean returnToUnsavedData(ISessionHandler sessionHandler,
        Action action) {
    String saveStatus = sessionHandler.getRequestParameter("saveStatus");

    if (saveStatus != null && !saveStatus.trim().equals("")) {
        setHasUnsavedData(true);
    } else {
        setHasUnsavedData(false);
    }

    if (hasUnsavedData()) {
        if (!"menuHasUnsavedDataOk".equalsIgnoreCase(action
                .getActionCommand())
                && !action.getActionName().equals("Administrera")) {
            ResourceBundle messages = ResourceBundle.getBundle("messages");
            UserMessage um;
            if (action.getActionCommand().equals("fastsearch")) {

                um = new ExtendedUserMessage(
                        messages.getString("PV24"), UserMessage.TYPE_WARNING,
                        "Varning", action.getActionName(),
                        action.getActionCommand(), sessionHandler.getRequest().getParameter("fastsearch"));
            } else {
             um = new ExtendedUserMessage(
                    messages.getString("PV24"), UserMessage.TYPE_WARNING,
                    "Varning", action.getActionName(),
                    action.getActionCommand());
            }
            action.addUserMessage(um);
            action.setReturnPage(action.getCurrPage());
            setLatestActionTarget(action.getActionTarget());
            return true;
        } else {
            setHasUnsavedData(false);
        }
    }

    return false;
} 
```

我想这是我可以检查服务器端的变量并重新填充所有内容的地方，然后使用像上面这样的技术和隐藏变量来保留表单值。

你认为这个想法会奏效还是你能提出替代解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T09:24:11.073

我认为您在这里不需要服务器端参与，您可以通过使用来实现这一点`javascript`：

```
<input type="hidden" id="saveStatus" name="saveStatus" value="<%= saveStatus %>"/> 
```

在页面被卸载之前注册一个观察者并`saveStatus`在那里检查你的变量：

```
window.onbeforeunload = function() { 
    if (document.getElementById('saveStatus').value) {
        return 'You have unsaved changes, are you sure you want to leave the page?'); 
    }
}; 
```

但是，通过使用它，您将没有自己的“自定义”确认屏幕，将使用浏览器的内置确认（类似于 stack-overflow）。

# browser - 禁用第三方 cookie 是否可以保护客户端免受跨站点请求伪造攻击？

> ID：12703838
> 
> 赞同：2
> 
> 时间：2012-10-03T07:32:16.453
> 
> 标签：browser, security, csrf

假设 example.org 使用 cookie 对用户进行身份验证，并且它没有实现跨站点请求伪造保护。禁用第三方 cookie 的 example.org 用户是否受到 CSRF 攻击的保护（假设对 example.org 的所有敏感请求都需要存在有效的身份验证 cookie）？如果不是这样，您能否举例说明 evil.com 如何以 example.org 用户的名义执行敏感操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T16:21:05.450

禁用第三方 cookie 只会使浏览器*拒绝第三方网站设置的 cookie*。因此，如果您从站点*A访问一个页面并且从站点**B*请求了一个资源，您的浏览器将拒绝任何不是来自站点*A 的*cookie 。

但是如果已经有第三方网站设置的cookies，即您直接访问了第三方网站，浏览器将在请求中发送它们。因此，如果您从站点*A访问一个页面，并且从站点**B*请求了一个资源，您的浏览器将发送为站点*B*设置的所有 cookie 。

这意味着，禁用第三方 cookie 并不能保护您免受 CSRF 的影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T10:57:50.787

首先，您必须了解*第三方 cookie*的工作原理——最常见的解释包括广告，所以我也会这样做。

当您访问一个网站`somesite.com`并且其中有一个图形广告时。

当网站向广告发出请求时（假设广告来自 ads.com），它要求`ads.com`加载广告并允许它存储 cookie。该 cookie 可用于建立您的个人资料，这就是*第三方 cookie*有时称为*跟踪 cookie*的原因。

通过阻止第三方 cookie，您的浏览器不允许`ads.com`（在我们的示例中）存储 cookie（但仍会显示广告）。

因此，假设您与 有一个打开的会话，`mymail.com`并且您输入有一个请求来自 的操作的图像，例如*img src=mymail.com/deleteAll*。`evil.com``evil.com``mymail.com`

 *浏览器向该站点发出请求，但由于您有一个打开的会话并且没有针对 csrf on 的保护`mymail.com`，该请求将与您已经拥有的 cookie 一起传递，`mymail.com`因为您与它有一个会话。

我建议阅读[OWASP 的 csrf 预防备忘单](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29_Prevention_Cheat_Sheet)以进一步阅读。*

# python - 如何在python的输入文件中标记自然英文文本？

> ID：12703842
> 
> 赞同：4
> 
> 时间：2012-10-03T07:32:22.860
> 
> 标签：python, nltk

我想`tokenize input file in python`请建议我是 python 的新用户。

我阅读了一些关于正则表达式的内容，但仍然有些困惑，所以请建议任何链接或代码概述。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-03T07:37:57.357

尝试这样的事情：

```
import nltk
file_content = open("myfile.txt").read()
tokens = nltk.word_tokenize(file_content)
print tokens 
```

NLTK 教程也充满了易于理解的示例：[https ://www.nltk.org/book/ch03.html](https://www.nltk.org/book/ch03.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-01-29T23:48:09.087

# Using `NLTK`

If your file is small:

*   Open the file with the context manager `with open(...) as x`,
*   then do a `.read()` and tokenize it with `word_tokenize()`

[code]:

```
from nltk.tokenize import word_tokenize
with open ('myfile.txt') as fin:
    tokens = word_tokenize(fin.read()) 
```

If your file is larger:

*   Open the file with the context manager `with open(...) as x`,
*   read the file line by line with a for-loop
*   tokenize the line with `word_tokenize()`
*   output to your desired format (with the write flag set)

[code]:

```
from __future__ import print_function
from nltk.tokenize import word_tokenize
with open ('myfile.txt') as fin, open('tokens.txt','w') as fout:
    for line in fin:
        tokens = word_tokenize(line)
        print(' '.join(tokens), end='\n', file=fout) 
```

* * *

# Using SpaCy

```
from __future__ import print_function
from spacy.tokenizer import Tokenizer
from spacy.lang.en import English

nlp = English()
tokenizer = Tokenizer(nlp.vocab)

with open ('myfile.txt') as fin, open('tokens.txt') as fout:
    for line in fin:
        tokens = tokenizer.tokenize(line)
        print(' '.join(tokens), end='\n', file=fout) 
```

# objective-c - 使用 SBjson 修改本地文件中的 json 数据

> ID：12703844
> 
> 赞同：0
> 
> 时间：2012-10-03T07:32:28.100
> 
> 标签：objective-c, sbjson

我最近开始在 MAC OS 10.6 上进行应用程序开发，我正在尝试使用 SBJSON 在我的 MAC 机器上修改本地 JSON 文件中的“键/值”对。我已成功读取键的值，但我无法了解如何修改键的值并将其同步到 JSON 文件。假设，我有一个以下 JSON 数据 int oa 本地文件：

```
{
    "name": {
            "fName":"John",
            "lName":"Doe"
            }
            } 
```

我想将“fName”的值更改为其他值，例如罗伯特。

我已经尝试了很多搜索，但没有任何线索......任何人都可以帮助我。

我正在使用 SBJSON 框架！

代码：

`NSString *filePath = @"/Users/dev/Desktop/SQLiteFile/myJSON2.json";`

 ````
NSData   *myData    = [NSData dataWithContentsOfFile:filePath];

NSString *responseString = [[NSString alloc] initWithData:myData encoding:NSUTF8StringEncoding];
NSLog(@"FILE CONTENT : %@", responseString);

SBJsonParser *jsonParser = [[SBJsonParser alloc] init];

NSDictionary * dictionary = (NSDictionary*)[jsonParser objectWithString:responseString error:NULL];

[dictionary setObject:@"Robert" forKey:@"fName"];

//
// Code for writing this change into the file, which i needed.
//

[jsonParser release]; 
````  `* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:44:10.587

您需要字典的可变深层副本。然后你就可以修改它了。`

# iphone - UITableview 编辑/延迟单元格的内容超出屏幕

> ID：12703849
> 
> 赞同：0
> 
> 时间：2012-10-03T07:33:05.260
> 
> 标签：iphone, uitableview

所有，我正在使用**UITableview**并尝试实现**编辑/删除**功能。

当我打电话给这条线时。

```
 [tblStoreAvail setEditing:TRUE animated:TRUE]; 
```

单元格的内容超出屏幕。

这些函数永远不会被调用。

```
- (void)tableView:(UITableView *)tableView willBeginEditingRowAtIndexPath:(NSIndexPath *)indexPath

- (void)tableView:(UITableView *)tableView didEndEditingRowAtIndexPath:(NSIndexPath *)indexPath

- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath 
```

![UITableView 单元格内容超出屏幕](../Images/2bd91ecc8cc0578037a77a766c7f0858.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:42:34.140

如果您使用的是 custuomTableViewCell，请使用您所需的标签框架实现以下方法：

```
- (void)willTransitionToState:(UITableViewCellStateMask)state
{
    [super willTransitionToState:state]; 
if(state == UITableViewCellStateDefaultMask)
    {
        [self.lblLocation setFrame:CGRectMake(13,22,302,21)];
    }
    else if(state == UITableViewCellStateShowingDeleteConfirmationMask)
    {
        [self.lblLocation setFrame:CGRectMake(13,22,245,21)]; 
    }
    else if(state == UITableViewCellStateShowingEditControlMask)
    {
        [self.lblLocation setFrame:CGRectMake(13,22,245,21)]; 
    }
    else
    {
        [self.lblLocation setFrame:CGRectMake(13,22,210,21)];  
    }
} 
```

如果您使用的是默认 TableViewCell，请确保为 tableView 设置委托并执行以下操作：

```
- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath
{
 yourCustomCell *cell = (yourCustomCell *)[tableView cellForRowAtIndexPath:indexPath];
[cell.lblLocation setFrame:CGRectMake(13,22,302,21)];
    return  YES;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:35:52.770

你遇到了两个问题，泰穆尔。

1）您需要将`delegate`表的“”设置为包含这些委托方法的任何对象（可能是您的视图控制器）。您可以通过编程方式或通过 XIB / 故事板中的连接来执行此操作。

2）如果您使用的是自定义单元格，则需要向下调整字体大小以保存要显示的所有数据。

如果您没有使用自定义 UITableViewCell 对象来显示表格中的数据，那么请开始使用它们，以便获得您真正想要看到的格式。

# c# - RNGCryptoServiceProvider 和 Zeros？

> ID：12703851
> 
> 赞同：13
> 
> 时间：2012-10-03T07:33:24.083
> 
> 标签：c#, encryption, .net-4.0, random, rngcryptoserviceprovider

浏览一些密码学的东西，我看到`RNGCryptoServiceProvider`有两种方法：

[关联](http://msdn.microsoft.com/en-us/library/3bs7131y.aspx)

```
RNGCryptoServiceProvider.GetNonZeroBytes 
```

和

```
RNGCryptoServiceProvider.GetBytes 
```

所以我问：

用加密强的随机值序列填充字节数组有什么*奇怪的，其中**一些（0或更多）*是零？ *（它是随机值，显然不会有很多零，而且零也是一个常规数字）*

他们为什么要创造与众不同的东西？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-03T08:29:30.927

在 .NET 框架内，[GetNonZeroBytes(byte[])](http://msdn.microsoft.com/en-us/library/system.security.cryptography.rngcryptoserviceprovider.getnonzerobytes.aspx)用于为 RSA 加密生成 PKCS#1 填充，`0x00`用作分隔符。

使用 Reflector 之类的工具，您可以看到它在[RSAPKCS1KeyExchangeFormatter.CreateKeyExchange(byte[])](http://msdn.microsoft.com/en-us/library/58tf26wb)中用于根据[RFC 2313](https://www.rfc-editor.org/rfc/rfc2313)第 8.1.2 节实现填充（[RFC 3218](https://www.rfc-editor.org/rfc/rfc3218#section-2)有一些很好的 ASCII 艺术，可以更清楚地演示字节布局）。

[GetNonZeroBytes(byte[])](http://msdn.microsoft.com/en-us/library/system.security.cryptography.rngcryptoserviceprovider.getnonzerobytes.aspx)也可以用来生成盐。Cryptography StackExchange 站点有[一个类似的问题](https://crypto.stackexchange.com/questions/3396/why-x00-is-usually-avoided-in-salt)，它表明避免`0x00`是帮助库和 API 可能将 salt 视为以零结尾的字符串，这会意外截断 salt。但是，除非使用[P/Invoke](http://msdn.microsoft.com/en-us/library/aa288468%28v=vs.71%29.aspx) ，否则这在 .NET 中不太可能成为问题。

# php - php 两个具有相同键的不同数组

> ID：12703862
> 
> 赞同：0
> 
> 时间：2012-10-03T07:34:11.890
> 
> 标签：php, arrays

我是 php 新手，还在学习这门语言，

假设我有两个数组

**例如**

```
Array
(
    [house_id] => 6
    [name] => Lake Villa
    [floor] => 5
    [unit] => 25
)

Array
(
    [house_id] => 6
    [name] => Lake Villa
    [floor] => 5
    [unit] => 25
    [parking_id] => 9
    [resident_count] => 4
) 
```

我如何将第一个数组的键放到第二个数组上，我的意思是，我只需要`house_id, name, floor, unit`第二个数组并丢弃其余信息。

但是，它们的键不同且不是动态的，这意味着返回的第一个数组键也存在于第二个中，但带有附加信息。上面的信息只是一个示例，键可能会有所不同，但第一个数组上的任何键也包含在第二个数组上。

我试过这个，但不工作：

```
foreach($arr1 as $k=>$v) {
    foreach($arr2 as $j=>$w) {
        if(isset($arr2[$k]))
            $arr[$k] = $w;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:36:30.417

您可以使用 array_intersect_key 来合并数组。

```
$newArray = array_intersect_key($array2, $array1); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-03T07:38:14.363

使用[array_intersect_key()](http://www.php.net/manual/en/function.array-intersect-key.php)。

> array_intersect_key() 返回一个数组，其中包含 array1 的所有条目，这些条目的键出现在所有参数中。

### 代码

```
var_dump(array_intersect_key($array1, $array2)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:36:48.160

```
foreach($arr2 as $key=>$val){
   if(!array_key_exists($key,$arr1))        
   unset($arr2[$key]);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:38:32.173

从改变条件

```
if(isset($arr2[$k])) 
```

到

```
if($arr1[$k] == $arr2[$j])   // it will work. 
```

and`isset`用于检查变量是否设置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-03T07:38:45.927

试试这个：

```
foreach($arr2 as $k=>$v) {
    //Check if key is in first array
    if(!isset($arr1[$k])) {
        //Key not in first array, remove from second array. 
        unset($arr2[$k]); 
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-03T07:39:01.920

试试这个

```
$result_array = array_intersect_key($arr2, $arr1); 
```

# android - 运行android程序后屏幕上什么都没有显示

> ID：12703865
> 
> 赞同：0
> 
> 时间：2012-10-03T07:34:26.067
> 
> 标签：android, android-layout, android-listview

我写了一个 android 应用程序来显示一个列表。代码取自一个例子。编译没有错误，但运行应用程序后没有任何显示。期待您帮助解决这个问题谢谢。请在下面找到我使用的代码...

主要活动

```
public class MainActivity extends ListActivity {
  ArrayList<String> listItems=new ArrayList<String>();
  ArrayAdapter<String> adapter;
  int clickCounter=0;

  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    listItems.add("Hello");

    adapter=new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, listItems);
    setListAdapter(adapter);
  }

  public void addItems(View v) {
    listItems.add("Clicked : "+clickCounter++);
    adapter.notifyDataSetChanged();
  }
} 
```

主要活动.xml

```
<LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >
<Button
    android:id="@+id/addBtn"
    android:text="Add New Item"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:onClick="addItems"/>
<ListView
    android:id="@android:id/list"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:drawSelectorOnTop="false"
/> 
```

AndroidManifest.xml

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.testlistview"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <meta-data
            android:name="android.support.PARENT_ACTIVITY"
            android:value="android.app.ListActivity" />
    </activity>
</application>
</manifest> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:46:57.227

请将以下意图过滤器添加到清单中：

```
 <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter> 
```

Android 需要这个意图过滤器来知道要启动哪个活动。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-03T07:43:09.253

您可能在 MainActivity 中设置了错误的内容视图。尝试将 setContentView 语句替换为以下语句：

```
setContentView(R.layout.mainactivity.xml); 
```

# java - JAVA NIO Selector 中的查询？

> ID：12703868
> 
> 赞同：0
> 
> 时间：2012-10-03T07:34:30.527
> 
> 标签：java, sockets, nio

我正在开发一个点对点应用程序。因为每个对等点都有一个服务器套接字通道和一个套接字通道，.. 现在我需要两个选择器来处理服务器套接字通道和套接字通道的连接，...

SelectorProvider 似乎是一个单例类，它只处理一个 Selector 实例，.. 我不能同时用于套接字通道，..

有没有办法在一个程序的单个实例中使用两个选择器，..

```
private ServerSocketChannel svrScktChnl;
private SocketChannel socketChannel; 
```

两个选择器

```
public Selector selector=null;
public Selector playerSelector=null; 
```

我正在尝试分别初始化这些选择器，一个用于服务器套接字通道，另一个用于套接字通道，..

但是我无法再次初始化，因为它会引发错误，，..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T09:51:36.527

> 现在我需要两个选择器来处理服务器套接字通道和套接字通道的连接，...

不，你没有。您可以为两者使用相同的选择器，除非出于某种原因未在此处说明您想在单独的线程中处理它们，这实际上违反了 NIO 所代表的一切。

> SelectorProvider 似乎是一个单例类

错误的。`SelectorProvider.provider()`返回一个单例，但您不需要使用它：到处都有 API 可以让您指定自己的提供程序。并不是说它是相关的，因为：

> 它只处理一个 Selector 实例

错误的。我不知道你所说的“fice”是什么意思，但每次调用它时都会`SelectorProvider.openSelector()`返回一个新的`Selector`，如果没有在这里发布问题并可能永远等待可能不正确的答案的豪华技术，你可能会自己发现它，甚至如果 Provider 本身是一个单例，那么它不是。

> ..我不能同时用于套接字通道，..

不，显然你从未真正尝试过。您需要了解这是一门经验科学，您需要进行自己的实验。在 Internet 站点上发布问题并坐等答案并不能有效地利用您或任何其他人的时间，也不能像自己做作业那样快速地提供正确的答案。

> 它抛出一个错误

你不能指望任何人用这么少的信息来帮助你。你会接受来自客户的错误报告吗？

# python - 计算图像平均 RGB 值的基准函数

> ID：12703871
> 
> 赞同：1
> 
> 时间：2012-10-03T07:34:45.570
> 
> 标签：python

我以两种方式实现了 Python 图像库图像的平均 RGB 值的计算：

# 1 - 使用列表

```
def getAverageRGB(image):
  """
  Given PIL Image, return average value of color as (r, g, b)
  """
  # no. of pixels in image
  npixels = image.size[0]*image.size[1]
  # get colors as [(cnt1, (r1, g1, b1)), ...]
  cols = image.getcolors(npixels)
  # get [(c1*r1, c1*g1, c1*g2),...]
  sumRGB = [(x[0]*x[1][0], x[0]*x[1][1], x[0]*x[1][2]) for x in cols] 
  # calculate (sum(ci*ri)/np, sum(ci*gi)/np, sum(ci*bi)/np)
  # the zip gives us [(c1*r1, c2*r2, ..), (c1*g1, c1*g2,...)...]
  avg = tuple([sum(x)/npixels for x in zip(*sumRGB)])
  return avg 
```

# 2 - 使用 numpy

```
def getAverageRGBN(image):
  """
  Given PIL Image, return average value of color as (r, g, b)
  """
  # get image as numpy array
  im = np.array(image)
  # get shape
  w,h,d = im.shape
  # change shape
  im.shape = (w*h, d)
  # get average
  return tuple(np.average(im, axis=0)) 
```

我惊讶地发现 #1 的运行速度比 #2 快 20%。

我正确使用 numpy 吗？有没有更好的方法来实现平均计算？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T08:27:42.487

确实令人惊讶。

您可能想使用：

```
tuple(im.mean(axis=0)) 
```

计算你的平均值`(r,g,b)`，但我怀疑它会改善很多。您是否尝试过剖析`getAverageRGBN`并找到瓶颈？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-04T20:18:19.070

没有改变尺寸或写 getAverageRGBN 的单行：

```
np.array(image).mean(axis=(0,1)) 
```

同样，它可能不会提高任何性能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-14T05:23:11.033

在 PIL 或 Pillow 中，在 Python 3.4+ 中：

```
from statistics import mean
average_color = [mean(image.getdata(band)) for band in range(3)] 
```

# mirth - 什么是 Mirth 中的源连接器入站、源连接器入站和目标 1 出站？

> ID：12703872
> 
> 赞同：0
> 
> 时间：2012-10-03T07:34:53.427
> 
> 标签：mirth, outbound, inbound

Mirth 中的 Source Connector Inbound、Source Connector Outbound 和 Destination 1 Outbound 是什么意思？以及在哪种情况下使用这些。我在 Mirth 论坛上搜索，但没有得到满意的答案。我无法感知这三个概念。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T09:01:14.260

我不确定第三个概念是什么，因为您重复了 Source Connector Inbound 两次。

一般来说，Mirth Channel 表示将传入消息转换为一个或多个动作和/或传出消息。一个通道由一个源连接器和一个或多个目标连接器组成。

源连接器定义了您接收入站消息的方式。它可以是一个传统的 LLP 侦听器，它通过 TCP 连接从客户端接收消息，它可以是一个文件读取器，它监控 FTP 站点以获取上传的消息批次，一个数据库读取器，它监控 EMR 系统中的更改记录等。

目标连接器定义了您对数据或消息执行的操作。可以为目标连接器指定您选择的任何名称，但通道中第一个目标连接器的默认名称始终为“目标 1”。目的地连接器允许您执行诸如将消息数据保存到数据库、基于传入消息生成新消息或转换消息并通过各种机制发送它、创建 PDF 或 HTML 文档等操作。

这篇[博](http://irwinj.blogspot.com/2008/12/getting-started-with-mirth-part-1_18.html)文已有四年历史，但仍然提供了对基础知识的有用介绍。

# jquery - 提交时禁用按钮不会刷新页面

> ID：12703873
> 
> 赞同：1
> 
> 时间：2012-10-03T07:34:56.483
> 
> 标签：jquery

我有一个按钮和 som javascript，如下所示

```
$("btnCreate").click(function () {

    $("loadingdiv").show("slow");

    $(this).attr("disabled", true);
});
$("loadingdiv").hide("fast"); 
```

它工作得很好，按钮不再可点击并变灰。但加载 div 在那里并且没有消失。page_load 不再被解雇。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:37:09.797

我不确定你的代码是如何开始工作的。您不是通过它的标识符或类名来选择任何元素。

要通过标识符选择元素，您需要`#`在元素 id 之前添加。
要按类选择元素，您需要添加`.`在类名之前添加 。

下面将通过它们的标识符来选择元素，假设它们是这样的。

```
$("#btnCreate").click(function () {
    $("#loadingdiv").show("slow");

    $(this).attr("disabled", true);
});

$("#loadingdiv").hide("fast"); 
```

### [DEMO](http://jsfiddle.net/SmuWg/) - 上面的代码假设它们是你的 id

关于任何未提交的页面或未重新加载的页面，不应受到禁用按钮的影响。
确保您的按钮在表单中是类型的`submit`，并且没有附加到`submit`阻止它或类似事件的脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:59:37.423

我想做一点补充。

要使加载 div 消失，您可以绑定一个回调，该回调在加载任何数据后执行，并且在该回调中您可以隐藏该 div。

好吧，这个答案太抽象了，但这就是我在这里看到的内容：)

# java - Java：枚举值（）和 valueOf（字符串）

> ID：12703876
> 
> 赞同：6
> 
> 时间：2012-10-03T07:35:08.537
> 
> 标签：java, enums

javac 为什么要在定义的枚举类型中添加`values()`和`valueOf(String)`方法？将它们添加到 Enum 类本身不是更好吗？

我的意思是，如果我有一些枚举，例如

```
enum FooEnum {ONE, TWO} 
```

javac在编译时添加`values()`and 。我觉得有点奇怪。这背后的原因是什么？`valueOf(String)``FooEnum`

*只是为了确保返回值/值的类型安全还是还有其他什么？如果只是为了类型安全，泛型不会有帮助吗？*

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-03T07:37:20.597

它们是静态方法——它们是如何被添加到的`Enum`？静态方法不是多态的。`Enum`此外，在您提出的方案中，实施会是什么样子？`Enum`本身不知道值 - 只有具体类型知道。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-03T07:38:14.720

> 为什么 javac 将 values() 和 valueOf(String) 方法添加到正在定义的枚举类型？

这使类保持自包含。

> 将它们添加到 Enum 类本身不是更好吗？

编译器无法执行此操作，因为 Enum 类已被编译，并且您可能不会在任何情况下使用相同的副本。

这可以在运行时完成，但是您会增加复杂性，例如，它会使卸载类变得更加困难而收益甚微。

> 这背后的原因是什么？

没有比这更好的地方了。

注意：`Enum.valueOf(clazz, name)`调用`clazz.valueOf(name);`，因为调用 a 没有任何意义`clazz.valueOf(clazz, name);`（尽管如果你想混淆别人，你可以这样做）

# android - 从 sd 卡显示图像 (Android 2.3 vs 4.0.4)

> ID：12703877
> 
> 赞同：1
> 
> 时间：2012-10-03T07:35:09.077
> 
> 标签：android, image, imageview, android-sdcard

我正在使用以下代码下载图像：

```
// Download AVATAR
                    try {
                        File avatar = new File(Environment.getExternalStorageDirectory() + "/Android/data/carl.fri.fer.omegan/avatar.jpg");
                        prefs.edit().putString("loginUser", json.name).commit();
                        prefs.edit().putInt("loginMatter", json.darkmatter).commit();

                        if (!avatar.exists()) {
                            Log.i("AVATAR", "Downloading user avatar...");
                            URL url = new URL("Valid URL");

                            URLConnection ucon = url.openConnection();
                            InputStream is = ucon.getInputStream();
                            BufferedInputStream bis = new BufferedInputStream(is);
                            ByteArrayBuffer baf = new ByteArrayBuffer(50);
                            int current = 0;
                            while ((current = bis.read()) != -1) {
                                    baf.append((byte) current);
                            }

                            FileOutputStream fos = new FileOutputStream(avatar);
                            fos.write(baf.toByteArray());
                            fos.close();
                        }
                        else Log.i("AVATAR", "The user avatar already exists!");
                } catch (IOException e) { System.out.println("Error downloading avatar: " + e); } 
```

然后我尝试使用以下代码显示此图像：

```
File usrAvatar = new  File(Environment.getExternalStorageDirectory() + "/Android/data/carl.fri.fer.omegan/avatar.jpg");
            if(usrAvatar.exists()) {

                Bitmap avatarBmp = BitmapFactory.decodeFile(usrAvatar.getAbsolutePath());
                userAvatar.setImageBitmap(avatarBmp);
            } 
```

问题出现在这里：

```
userAvatar.setImageBitmap(avatarBmp); 
```

Android 4.0.4：错误类型：**NullPointerException**。

Android 2.3.5：错误类型：**ImageView 未显示图像但未出现错误**。

1- `ImageView`userAvatar 是正确的，因为我可以从可绘制文件夹中显示和图像。

2-我要显示的图像已成功下载，因为使用文件管理器我可以在指定的文件夹和文件名上找到它。

3- 图像没有损坏，因为我可以使用任何图像查看器打开它。

那么，这可能是问题所在？它的驾驶是疯狂的！

任何帮助将不胜感激。

谢谢你的优势！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:39:15.577

试试下面的代码：

```
 ImageView bmImage;
      FileInputStream instream = new FileInputStream("/sdcard/Pictures/Image.png"); 
            BufferedInputStream bif = new BufferedInputStream(instream); 
            byteImage1 = new byte[bif.available()]; 
            bif.read(byteImage1); 
            textView.append("\r\n" + byteImage1+"\r\n"); 
                        bmImage.setImageBitmap(BitmapFactory.decodeByteArray(byteImage1, 0, byteImage1.length));
            textView.append("\r\n" + byteImage2+"\r\n"); 
```

# playorm - 命令行工具因内存而失败

> ID：12703879
> 
> 赞同：0
> 
> 时间：2012-10-03T07:35:19.697
> 
> 标签：playorm

PlayOrm.java 使用以下参数可以正常工作：

-k playormks -s localhost:9160 -t cassandra

但是当我只给

-t 内存

它给出了以下例外：

com.alvazan.orm.impl.bindings.BootstrapImpl.createBestCassandraConfig(BootstrapImpl.java:73) 在 com.alvazan.orm.api.base.Bootstrap.createAndAddBestCassandraConfiguration(Bootstrap.java) 的线程“主”java.lang.NullPointerException 中的异常:77) 在 com.alvazan.ssql.cmdline.PlayOrm.main(PlayOrm.java:73)

我是否还需要使用 -t inmemory 提供其他内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T16:01:02.000

好的，这是一个错误（我们将修复它）。解决方法是提供种子和密钥空间，即使您不需要它们；）。

谢谢，院长

# sql - 如何通过存储过程更改列名并更改表中的值？

> ID：12703880
> 
> 赞同：4
> 
> 时间：2012-10-03T07:35:19.777
> 
> 标签：sql, sql-server, stored-procedures

我有下表：

```
Desk_name | head
ali       | john 
cars ln   | max
pol fr    | max
jus       | john 
```

我想创建一个存储过程以获得回报：

```
Name      | sector_head
ali mm    | john
cars ln   | max
pol fr    | max
jus mm    | john 
```

如您所见，列名已更改（从“Name”更改为“Desk_name”），并且“Name”列中的每个名称如果是单个单词，则在每个值的末尾都有缩写“mm”（ali 和 jus ）。

我怎样才能做这样的存储过程（我正在使用 sql server）？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:37:14.627

您需要提供`ALIAS`它，例如

```
SELECT CASE WHEN LTRIM(RTRIM(Desk_name)) LIKE '% %'  -- finds any space in string
            THEN Desk_name 
            ELSE Desk_name + ' mm'
       END AS Name, 
       head AS sector_head 
FROM   tableName 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!3/e3f47/1)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-03T07:48:08.630

试试这个：

在 sql 服务器中

```
select case when charindex(' ',ltrim(rtrim(Desk_name)))=0 
            then Desk_name+' mm' 
            else Desk_name 
       end  as Name ,
       head as sector_head
from your_table 
```

# [SQL小提琴演示](http://sqlfiddle.com/#!3/ead5e/1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:50:11.063

```
SELECT CASE WHEN Desk_name = 'ali' OR Desk_name = 'jus'  THEN Desk_name + ' mm' ELSE Desk_name END AS Name, 
head AS sector_head
FROM DeskName 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T08:09:55.380

据我了解，您需要在更新表之前重命名列 Desk_name。为此，您可以尝试以下操作：

```
sp_RENAME 'YourTableName.Desk_name' , 'Name', 'COLUMN' 
```

它应该重命名您的列。之后，您应该使用 Joe 或 John 的解决方案来更新表中的记录。

# c# - WPF 资源加载在 LoadFrom 加载上下文中失败

> ID：12703887
> 
> 赞同：6
> 
> 时间：2012-10-03T07:35:58.573
> 
> 标签：c#, wpf, xaml, assembly-loading

我有一个 WPF 程序集，我在本机代码的互操作场景中使用 LoadFrom 加载上下文，如下所示：

```
AppDomain.CreateInstanceFrom("c:\mydlls\mywpfstuff.dll", "myclass") 
```

请注意，mydlls 与可执行文件所在的文件夹不同。这适用于我也加载的常规非 ui .NET dll，但是当我尝试执行此操作时出现错误。我附加了 AppDomain.CurrentDomain.AssemblyResolve 事件处理程序并获取了一个无法加载的事件。ResolveEventArgs 中的名称为“mywpfstuff.resources”，RequestingAssembly 为空。我没有名为“mywpfstuff.resources”的文件，并且无法弄清楚如何自己解决这个程序集。

触发错误的代码行是 InitializeComponent(); 调用我的主要用户控件构造函数。

在我看来，内部 XAML（BAML？）机制试图加载一些资源，但使用标准的 Load 上下文而不是 LoadFrom 上下文。

有没有办法解决这个问题，最好是让 WPF 使用 LoadFrom 上下文，或者如果这不可能，如何手动解决程序集？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T18:12:53.763

由于本地化问题和缺少 resx，我过去也遇到过类似的问题。

如果 XAML 使用来自该程序集的资源，请仔细检查 UI 文化的资源是否在**c:\mydlls的****正确子文件夹**中实际可用。

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T09:24:01.123

当我创建这个[Unused References – VS2010 Add-in – top to bottom](http://ofirzeitoun.wordpress.com/2012/08/14/unused-references-vs2010-addin/)时，我遇到了类似的情况。

问题是资源已经加载，您无法重新加载其他资源。

希望这可以帮助...

我创建了一个要访问的 Start 方法：

```
public static void Start()
{
    if (Application.Current == null)
    {
        // create the Application object
        App a = new App();
        var l = a.Resources["Locator"] as Locator;
        // do something with l
        a.Run();
    }
    else
    {
        var locator = new Locator();
        // do something with l
        Application.Current.Resources.Remove("Locator");
        Application.Current.Resources.Add("Locator", locator);
        MainWindow main = new MainWindow();
        main.Show();
    }
} 
```**

# cocoa - Cocoa NSScrollView 的平移问题

> ID：12703890
> 
> 赞同：1
> 
> 时间：2012-10-03T07:36:06.943
> 
> 标签：cocoa, nsscrollview, nsimageview

我正在使用 Xcode 制作一个应用程序，该应用程序具有一个 NSImageView，我通过在我的 .xib 中选择它来制作一个 NSScrollView（我认为），然后转到 Xcode 中的编辑器菜单，然后嵌入到 > scrollView 中。

我的 NSScrollView 中有一个比打开它的窗口大的图像，我可以很好地使用滚动条滚动，甚至在我的方法中打开了该`autoscroll:`功能。`mouseDragged:`

我希望能够简单地平移图像而无需使用`mouseDragged:`. 到目前为止，我`mouseDragged:`在 panning.m（NSImageView 的子类）中的代码是这样的：

```
-(void)mouseDragged:(NSEvent *)theEvent{
   NSPoint p = [theEvent locationInWindow];
   [self scrollRectToVisible:NSMakeRect(p.x - self.visibleRect.origin.x, p.y - self.visibleRect.origin.y, self.visibleRect.size.width, self.visibleRect.size.height)];
   [self autoscroll:theEvent];
} 
```

这在某种程度上有效，但是有很多抖动。也许是因为我没有限制界限？

我想知道我是否走在正确的轨道上，或者是否有更好/更有效的方法。

任何帮助表示赞赏。

干杯。

# php - PHP脚本不上传图片

> ID：12703892
> 
> 赞同：0
> 
> 时间：2012-10-03T07:36:22.133
> 
> 标签：php, html, image, file-upload

您好我有一个脚本，允许用户上传图像，但它不上传图像。一切都很好，比如兰特号等，但图像不仅被上传。以下是我的图片上传表格。

```
 <form action="register.php" method="post" enctype="multipart/form-data" name="regForm" id="regForm" >
        <table width="95%" border="0" cellpadding="3" cellspacing="3" class="forms">
           <tr>
               <td>Profile Image<span class="required"><font color="#CC0000">*</font></span> </td>
               <td><input name="user_image" type="file" class="required password" id="user_image"> 
                   <span class="example">Upload your image</span>
                   <input name="doRegister" type="submit" id="doRegister" value="Register">
               </td>
           </tr>
        </table>
    </form> 
```

这是 register.php

```
<?php
 $path = "user/".time().uniqid(rand()).basename($_FILES['user_image']['name'],'.');
 if($user_image !=none)
 {
      move_uploaded_file($_files['user_image']['tmp_name'], $path);
      {
          echo "Successful<BR/>"; 
          echo "File Name :".$HTTP_POST_FILES['user_image']['name']."<BR/>"; 
          echo "File Size :".$HTTP_POST_FILES['user_image']['size']."<BR/>"; 
          echo "File Type :".$HTTP_POST_FILES['user_image']['type']."<BR/>"; 
          echo "<img src=\"$path\" width=\"150\" height=\"150\">";
      }
}
else
{
   echo "Error";
}
?> 
```

**在这个我的上传文件夹是用户，我也想知道上传后的文件名是什么，因为我想向用户展示它，所以我该怎么做。提前致谢！如果您需要更多信息，请询问我。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T09:31:51.430

HTML 表单照常执行，

下面的编码将根据生成自动创建一个新的文件夹编号，在该文件夹内它将包含上传。如果要更改上传的路径，请使用/的\INSTEAD，因为它会导致错误。

**注册.php**

```
 if ($_POST['doRegister'] == "Register")
{

    $path1 = "C:\Uploads\ ";
    if (file_exists($path1))
    {
    $path = $path1 .time().uniqid(rand()).'\ ';

$target_path = $path . basename( $_FILES['user_image']['name']);

if(move_uploaded_file($_FILES['user_image']['tmp_name'], $target_path)) {
    echo "Successfully uploaded on $path".$_FILES['user_image']['name']."<br>";

    echo "File Name :".$_FILES['user_image']['name']."<BR/>"; 
          echo "File Size :".$_FILES['user_image']['size']."<BR/>"; 
          echo "File Type :".$_FILES['user_image']['type']."<BR/>"; 
}
    }
else
{

    mkdir($path1);
    $path = $path1 .time().uniqid(rand()).'\ ';
mkdir($path);

$target_path = $path . basename( $_FILES['user_image']['name']);

if(move_uploaded_file($_FILES['user_image']['tmp_name'], $target_path)) {
    echo "Successfully uploaded on $path".$_FILES['user_image']['name']."<br>";

    echo "File Name :".$_FILES['user_image']['name']."<BR/>"; 
          echo "File Size :".$_FILES['user_image']['size']."<BR/>"; 
          echo "File Type :".$_FILES['user_image']['type']."<BR/>"; 
}

}   

}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:47:42.303

```
<?php

if(isset($_FILES['user_image']))
{ 
 $path = "user/".time().uniqid(rand()).basename($_FILES['user_image']['name'],'.');

  move_uploaded_file($_files['user_image']['tmp_name'], $path);
  {
      echo "Successful<BR/>"; 
      echo "File Name :".$HTTP_POST_FILES['user_image']['name']."<BR/>"; 
      echo "File Size :".$HTTP_POST_FILES['user_image']['size']."<BR/>"; 
      echo "File Type :".$HTTP_POST_FILES['user_image']['type']."<BR/>"; 
      echo "<img src=\"$path\" width=\"150\" height=\"150\">";
  }
}
else
{
  echo "No File Chosen";
}
?> 
```

# php - 如何在char之前获取字符串？

> ID：12703898
> 
> 赞同：0
> 
> 时间：2012-10-03T07:36:42.877
> 
> 标签：php, strstr

```
echo $_SERVER['REQUEST_URI']."\n";
echo strrchr($_SERVER['REQUEST_URI'], '/'); 
```

`strrchr`返回与以前相同的地址，但我需要所有直到最后**/**。

更新： `$_SERVER['REQUEST_URI'] = /users/dev/index.php` 我需要`/users/dev/`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:42:14.107

您可以使用`substr()`和`strrpos()`：

```
$url = '/users/dev/index.php';
echo substr($url, 0, strrpos($url, '/')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:50:25.413

### 如果您有不同的 .php 文件名，请使用正则表达式

$s = '/users/dev/index.php';

```
preg_match('~^(.*?)([^/]+\.php)~', $s, $m);
print_r($m); 
```

### 如果您只有 index.php，请使用 substr()

```
$m = substr($s, 0, strpos($s, 'index.php'));
print_r($m); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:50:37.637

检查这个

```
print_r(pathinfo($_SERVER['REQUEST_URI'],PATHINFO_DIRNAME)); 
```

# ruby-on-rails-3 - rails - 在延迟的作业中创建新作业

> ID：12703900
> 
> 赞同：0
> 
> 时间：2012-10-03T07:36:45.207
> 
> 标签：ruby-on-rails-3, recursion, delayed-job

我正在使用延迟方法在我的控制器中创建延迟作业，如下所示：

```
JobProcessor.delay(:run_at => Time.now).process_job(options) 
```

现在在我正在做的 process_job 方法中

```
chunks = options[:collection].each_splice(10).to_a
chunks.each do |chunk|
  self.delay(:run_at => Time.now).chunk_job
end 
```

`stack level too deep`当我向 URL 发送请求时，这给了我错误

可能是什么问题？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T09:16:08.520

通过进行一些更改，我能够使它对我有用。

*   我将外部方法更改`process_job`为实例方法
*   并保持其余代码不变。

所以现在我的代码看起来像

```
JobProcessor.new.process_job(options) 
```

在控制器中，在`JobProcessor`我的类中

```
class JobProcessor
  def process_job(options)
    chunks = options[:collection].each_splice(10).to_a
    chunks.each do |chunk|
      self.class.delay(:run_at => Time.now).chunk_job(options)
    end
  end
  handle_asynchronously :process_job, :run_at => Proc.new { 2.seconds.from_now }

  def self.chunk_job(options)
    # perform chunk job here
  end
end 
```

这对我有用。

# joomla - 在Joomla2.5中，如何区分用户登录是前端还是后端

> ID：12703902
> 
> 赞同：1
> 
> 时间：2012-10-03T07:36:48.373
> 
> 标签：joomla, joomla2.5

如何从站点前端或管理后端找出用户登录。

有没有办法找出用户登录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:15:33.237

试试这样，我想它可以帮助你。

```
<?php

$db = JFactory::getDbo();
$user = JFactory::getUser();

$query = $db->getQuery(true);
$query->select('s.time, s.client_id, u.id, u.name, u.username');
$query->from('#__session AS s');
$query->leftJoin('#__users AS u ON s.userid = u.id');
$query->where('s.guest = 0');
$db->setQuery($query);
$users = $db->loadObjectList();

foreach ($users as $user)
{
    if($user->client_id) {
        echo JText::_('JADMINISTRATOR');
    } else {
        echo JText::_('JSITE');
    }
}
?> 
```

# java - 如何在select中找到n的值

> ID：12703904
> 
> 赞同：1
> 
> 时间：2012-10-03T07:36:57.230
> 
> 标签：java, jsoup

```
 list2= doc.select("div.idContent > p").get(k); 
```

我有很多以 idcontent 作为 HTML 中的 id 的 div。我想知道“k”的值。我一直保持 K=0;k<10;k++

比我看到的异常：

```
Exception in thread "main" java.lang.IndexOutOfBoundsException: Index: 9, Size: 9
    at java.util.ArrayList.rangeCheck(Unknown Source)
    at java.util.ArrayList.get(Unknown Source) 
```

使用 Jsoup 如何找到 k 的值？并摆脱这个例外？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:41:08.823

`doc.select`返回一个[`Elements`](http://jsoup.org/apidocs/org/jsoup/select/Elements.html)对象，该对象实现[`Collection<Element>`](http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html). 这意味着您可以调用`size()`来确定`k`.

```
Elements elements = doc.select("div.idContent > p");
for (int k = 0; k < elements.size(); k++) {
    Element list2 = elements.get(k);
    // process list2
} 
```

但是，由于[`Collection<Element>`](http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html)extends [`Iterable<Element>`](http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html)，您可以改用增强的 for 循环，这样更易​​于阅读：

```
for (Element list2: doc.select("div.idContent > p") {
   // process list2
} 
```

# ruby-on-rails - 在 Rails 中处理 Mongodb 中的关联

> ID：12703908
> 
> 赞同：0
> 
> 时间：2012-10-03T07:37:10.070
> 
> 标签：ruby-on-rails, mongodb, associations, mongoid

我有 2 个模型（Paygrade 和 Empsal），用于 2 个控制器（paygrades 和 empsals），这里以 empsals 的形式显示（_form.html.erb）

```
# PayGrade <%= f.collection_select :pay_grade, Paygrade.all, :id, :title,  
# :prompt => 'Select Paygrade' %>
PayGrade <%= f.collection_select :paygrade, Paygrade.all, :id, :title,  
                :prompt => 'Select Paygrade' %> 
```

Empsal模型

```
class Empsal
  include Mongoid::Document
  # field :pay_grade, type: String
  belongs_to :paygrade
  field :salary_component, type: String
  field :pay_frequency, type: String
  field :currency, type: String
  field :amount, type: String
  field :comments, type: String

end 
```

工资等级模型

```
class Paygrade
  include Mongoid::Document
  has_many :empsals # +++++ added
  validates_presence_of :title
  field :title, type: String

end 
```

我想建立关联，以便它将在 Empsal 中为字段 pay_grade 保存 paygrade 的 ID。但是在 view.html.erb <% empsal.pay_grade %> 中显示 id 的相关名称应该在 (Paygrade 和 Empsal) 的模型中进行什么关联以获得所需的输出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:50:43.323

```
class Empsal
  include Mongoid::Document
  belongs_to :paygrade
end 
```

# jquery - 使用 jQuery 在下拉列表中显示数据库值

> ID：12703909
> 
> 赞同：0
> 
> 时间：2012-10-03T07:37:10.260
> 
> 标签：jquery

我从数据库中获得了一些价值。现在我想在下拉列表中将该值显示为选定值。这是示例，我有三个选项 o1、02、03 的下拉列表。从数据库中我得到了值 o3，现在我想将其显示为选定值。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:18:56.027

请试试这个在下拉列表中选择选项

```
$("#drop_down_id").val('your value'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:44:25.130

尝试这个

```
 $(document).ready(function(){
       $("#mydropdownlist").val("thevalue");
    }) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T07:39:47.253

HTML：

```
<select id="some_id">
    <option value="o1">Blabla</option>
    <option value="o2">Blabla</option>
    <option value="o3">Blabla</option>
</select> 
```

Javascript：`$("#some_id").val("o2");`

第一部分`$("#some_id")`只是选择元素。您可以选择多个元素。（例如，按类而不是 id。）我建议在这里阅读“jQuery 选择器”：

[http://api.jquery.com/category/selectors/](http://api.jquery.com/category/selectors/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-03T07:40:01.023

```
$("#dropdown").val(data); 
```

其中 data 既是（元素的）`value`属性又是从服务器返回的数据。`option`

# iphone - 如何使用动态 json 数据设置 numberOfSectionsInTableView、titleForHeaderInSection

> ID：12703912
> 
> 赞同：-1
> 
> 时间：2012-10-03T07:37:16.877
> 
> 标签：iphone, objective-c, ios, json

我在下面给出了一些 json 数据，我想将其显示在表中，其中部分标题为部门、设计、员工、开发、员工。

我在 中使用了静态数据 `numberOfSectionsInTableView`，`titleForHeaderInSection`但我想使用动态数据来做到这一点。

我怎样才能做到这一点？

```
{                                                                                                                                                                          
    "Departments":[
        {
            "name":"Designing",
            "id":"1.1",
            "Employees":[
                {
                    "name":"Ramesh",
                    "id":"1.1.1",
                    "salary":"4lakhs"
                },
                {
                    "name":"Suresh",
                    "id":"1.1.2",
                    "salary":"4lakhs"
                }
            ]
        },
        {
            "name":"Developing",
            "id":"1.2",
            "Employees":[
                {
                    "name":"Ram",
                    "id":"1.2.1",
                    "salary":"4lakhs"
                },
                {
                    "name":"Sam",
                    "id":"1.2.2",
                    "salary":"4lakhs"
                }
           ]
      }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:56:55.177

首先，您必须从您指定的字符串 JSON 对象创建一个 NSDictionary。

```
 NSDictionary *myDict = [NSJSONSerialization JSONObjectWithData:webData options:nil error:NULL]; 
```

然后在表视图委托方法中：

```
 - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
    {
        return [[myDict valueForKey:@"Departments"] count];
    }

    - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
    {
        return [[[[myDict valueForKey:@"Departments"] objectAtIndex:section] valueForKey:@"Employees"] count];
    }

    - (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
    {
        return [[[myDict valueForKey:@"Departments"] objectAtIndex:section] valueForKey:@"name"];
    } 
```

或者至少我会尝试像这样设置它们。

# jquery - 更改按钮单击时选择的选项

> ID：12703918
> 
> 赞同：8
> 
> 时间：2012-10-03T07:37:28.247
> 
> 标签：jquery, button, jquery-mobile

单击按钮时，我想将选择列表中的选定选项更改为与单击的按钮相对应。这就是我到目前为止所拥有的， [jsfiddle](http://jsfiddle.net/jamesil/8RUBj)

```
$('#btnCityAuckland').click(function(){
    $('#City').val('A');
}) 
```

我那里确实有一些 jQuery，但它可能离正确还很遥远，因为它不可能那么简单。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-03T07:46:05.813

```
$('#btnAuckland').click(function(){ 
    $('#City').val('A').trigger('change');
})​ 
```

显然，您可以`.trigger()`在设置值后调用该方法。

演示：http: [//jsfiddle.net/8RUBj/11/](http://jsfiddle.net/8RUBj/11/)

**编辑**
另外，最好使用`data`属性来设置值和类，然后你可以一次性完成所有按钮。

```
$('.select-change').click(function(){ 
    $('#City').val($(this).data('val')).trigger('change');
})​ 
```

演示 v2：http: [//jsfiddle.net/8RUBj/15/](http://jsfiddle.net/8RUBj/15/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T07:41:52.440

您的代码是正确的，只是您输入错误`$('#btnCityAuckland')`，它确实是：

```
$('#btnAuckland') 
```

工作[**演示**](http://jsfiddle.net/6XEG9/)

您还可以根据单击的按钮自动选择选项，而不是对 ID 进行硬编码，如下所示：

```
$('div > a').click(function(){ //click handler for all city buttons
    $("#City option:contains('"+$(this).text()+"')").attr("selected",true);
    $("#City").selectmenu('refresh', true); //Refresh to show name on select
})​ 
```

工作[**演示**](http://jsfiddle.net/5CgUZ/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-03T07:50:53.090

如果您没有使用 jQuery Mobile，您的代码将按原样工作。`.selectmenu("refresh")`使用 jQuery Mobile，您可以通过如下调用来刷新伪选择：

```
$('div[data-role="controlgroup"] a').click(function(){
      $('#City').val( $(this).text().charAt(0) ).selectmenu("refresh");
}); 
```

演示：http: [//jsfiddle.net/8RUBj/18/](http://jsfiddle.net/8RUBj/18/)

请注意，您不需要为每个按钮分配单独的单击处理程序：出于演示目的，我展示了一种使代码更通用的相当笨拙的方法，这样它就可以在不更改 html 的情况下工作，但是您可以添加`data-`属性或按钮的某些内容以指示与每个按钮关联的值。

[有关 jQuery Mobile 选择方法的更多信息](http://jquerymobile.com/test/docs/forms/selects/methods.html)。

# c# - 任务完成时发出信号（哪些内容正在调用异步方法）

> ID：12703919
> 
> 赞同：1
> 
> 时间：2012-10-03T07:37:33.833
> 
> 标签：c#, asynchronous, task

我第一次研究 C# 中的任务功能。我正在研究它的原因是我需要控制我的应用程序需要做的一堆事情，并且我需要严格控制这些“任务”。确切地说，我需要知道给定任务何时以及是否完成，如果需要，我还需要能够取消重新定义任务的执行。

从我目前阅读的内容来看，如果我使用同步代码，我可以做到这一点。所以例如我有：

```
Task task = new Task(() => 
{
synchronousMethod();
});
task.Start(); 
```

这将按预期工作，所以我会知道这个任务什么时候完成，因为代码是同步执行的。于是任务开始，执行进入到synchronousMethod内容，运行到最后，返回Task代码，正在被标记为Complete。当此方法更改为异步方法时，问题就开始了。该方法正在不同的线程中运行，因此，即使任务可能被标记为已完成，异步方法也可能仍未完成。

更糟糕的是，当该异步方法将在内部运行具有异步调用的其他方法时，我也希望将其作为单个任务的一部分包含在内。

所以我的问题是，如果我可以在 Task 命名空间中实现我想要的控制级别。当然，我可以尝试输入将在某个点调用的某些回调，这将向我发出信号，任务达到某个点，但是如果这些任务数量很大，我需要知道哪个任务是哪个任务不会我感兴趣的优雅解决方案。

任何帮助/建议？

# android - 在 androidmanifestfile 中更改 android 标签名称和颜色

> ID：12703920
> 
> 赞同：0
> 
> 时间：2012-10-03T07:37:34.347
> 
> 标签：android, android-manifest

嗨，我必须开发一个示例应用程序。在这里我希望选择应用程序名称为管理员登录，重力为中心，背景颜色为#465371，文本颜色为#ffffffff。现在我必须运行应用程序意味着标签名称仅在此处更改.重力和背景，textcolor在这里没有改变。请给我解决方案。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.androidlogin.ws"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="8" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name=".AndroidLoginExampleActivity"
        android:label="Admin Login"  android:background="#465371" android:textColor="#ffffffff" android:gravity="center">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
  </application>

  </manifest> 
```

我得到了这样的o/p：

![在此处输入图像描述](../Images/75821e17c39431afe993f5af0b7f6e52.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:38:54.437

你可以在你的自定义中做所有事情**`titlebar`**。对于自定义标题栏，请检查此链接。

[https://stackoverflow.com/a/3438352/1263679](https://stackoverflow.com/a/3438352/1263679)

# c# - 当对 C# mvc 控制器的 ajax 调用不起作用时处理会话超时

> ID：12703942
> 
> 赞同：7
> 
> 时间：2012-10-03T07:38:49.070
> 
> 标签：c#, asp.net-mvc, session-timeout

从 ajax 调用函数时。程序流程不识别过期会话，即不重定向到登录页面。取而代之的是，它保存了记录。我在 c# .net mvc 中工作。那么我如何在ajax调用时处理会话。在这里，我给出了我的代码。

```
 $.ajax({ 
            type: "POST",
            url:'/Employee/SaveEmployee',
            data:
            {
                Location:$("#txtLocation").val(), 
                dateApplied:$("#txtDateApplied").val(), 
                Status:$("#ddStatus").val(), 
                mailCheck:$("#ddMailCheck").val(),
                ...
                ...
                ... 
            },
            success: function (result) 
            {

            },
            error: function (msg) 
            {
            }
      }); 
```

这里的控制器

```
[Authorize]
public string SaveEmployee(string Location, string dateApplied, string Status, string mailCheck, ...)
{
      objEmpMain.FirstName = firstName;
      objEmpMain.LastName = lastName;
      objEmpMain.Initial = Initial;
      objEmpMain.Address1 = Address;
      ...
      ... 
      ...
} 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-03T08:05:44.260

您的 AJAX 调用的结果仍然可能最终显示为成功（尽管不要担心，它实际上不会执行您的操作方法），并调用您的`success`处理程序。这是因为您期待 HTML，这就是您收到的内容（尽管生成的 HTML 可能是您的登录页面，而不是您想要的 HTML）。顺便说一句，如果您期望 JSON（使用`dataType:'JSON'`），它会触发错误，因为它将 HTML 解析为 JSON。

您需要做的是防止 FormsAuth 重定向 AJAX 请求的登录页面。现在，`AuthorizeAttribute`忠实地返回 a `NotAuthorizedResult`，它向客户端发送 HTTP 401 Not Authorized 响应，这对于您的 AJAX 客户端来说是理想的。

问题是 FormsAuth 模块检查 StatusCode，如果它是 401，它会执行重定向。我以这种方式解决了这个问题：

1）创建我自己的派生类型，在`AuthorizeAttribute`其中放置一个标志，`HttpContext.Items`让我知道授权失败，我应该强制执行 401 而不是重定向：

```
public class AjaxAuthorizeAttribute : AuthorizeAttribute
{
    /// <summary>
    /// Processes HTTP requests that fail authorization.
    /// </summary>
    /// <param name="filterContext">Encapsulates the information for using <see cref="T:System.Web.Mvc.AuthorizeAttribute"/>. The <paramref name="filterContext"/> object contains the controller, HTTP context, request context, action result, and route data.</param>
    protected override void HandleUnauthorizedRequest(AuthorizationContext filterContext)
    {
        if (filterContext.HttpContext.Request.IsAjaxRequest()) filterContext.HttpContext.Items["AjaxPermissionDenied"] = true;

        base.HandleUnauthorizedRequest(filterContext);
    }
} 
```

2) 添加到您的 Global.asax.cs：

```
 protected void Application_EndRequest(Object sender, EventArgs e)
    {
        if (Context.Items["AjaxPermissionDenied"] is bool)
        {
            Context.Response.StatusCode = 401;
            Context.Response.End();
        }
     } 
```

3) 将 statusCode 处理程序添加到您的 jQuery AJAX 设置中：

```
$.ajaxSetup({
    statusCode: {
        401: function() {
            window.location.href = "path/to/login";
        }
    }
}); 
```

4) 将您希望使用此行为的控制器或操作更改`AuthorizeAttribute`为`AjaxAuthorizeAttribute`：

```
[AjaxAuthorize]
public string SaveEmployee(string Location, string dateApplied, string Status, string mailCheck, ...)
{
      objEmpMain.FirstName = firstName;
      objEmpMain.LastName = lastName;
      objEmpMain.Initial = Initial;
      objEmpMain.Address1 = Address;
      ...
      ... 
      ...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-05T08:53:55.947

我想建议您使用 StatusCode = 306。我在使用 401 时遇到了一些问题。IIS 对待 401 的方式与我理解的不同。306对我来说很好用。

问候。

# android - 如何发送将在 Android 屏幕上弹出的短信？

> ID：12703943
> 
> 赞同：0
> 
> 时间：2012-10-03T07:38:50.647
> 
> 标签：android, sms, alert

是否可以这样做，当我发送短信时，它会在屏幕上弹出/提示，以便使用它轻松提醒接收者。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:56:57.967

您可以使用以下自定义方法发送短信，

```
public static void sendsms( String address,String msgContent )
{
    try
    {
        SmsManager sms = SmsManager.getDefault();
        ArrayList<String> smsString = sms.divideMessage(msgContent); 
        sms.sendMultipartTextMessage(address, null, smsString, null, null);
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }
} 
```

并使用以下代码显示 AlertDialog，

```
// Sending SMS 
sendSMS ( "9898989898","hello this is sms" );

// showing alertdialog
AlertDialog alertDialog = new AlertDialog.Builder(this).create();
alertDialog.setTitle( "SMS" );
alertDialog.setMessage( "Sending SMS" );
alertDialog.setButton( "OK", getDialogListener());
alertDialog.show(); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-03T07:41:48.180

您可以使用广播接收器并在新消息到达时显示通知。

# c# - 如何比较两个字符串数组的序列

> ID：12703945
> 
> 赞同：1
> 
> 时间：2012-10-03T07:38:57.717
> 
> 标签：c#, arrays, c#-2.0

我有两个字符串数组

```
string[] a; 
string[] b; 
```

我怎样才能发现数组a中的元素序列与数组b相似？

因为我使用的是 .net2.0，所以我不能使用 LINQ。

**编辑**

这是我尝试过的

```
foreach (string val2 in a)
                { 
                                       foreach (string val1 in b)
                    {
                        if (val1 == val2)
                        {
                           // Values are same - continue processing
                        }
                        else
                        {
                            // Value not same   -- exit                         }
                    }
                } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T07:43:28.067

```
 private bool Compare(string[] a, string[] b)
    {
        if (a.Length != b.Length) return false;

        for (int i = 0; i< a.Length; i++)
            if (a[i] != b[i]) return false;

        return true;
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T07:43:05.950

我相信您想查看两个数组中的元素是否具有**相同的值和相同的索引**。你可以有一个简单的方法，如：

```
public static bool IsSequenceEqual(string[] a, string[] b)
{
    if (a.Length != b.Length)
        return false;
    for (int i = 0; i < a.Length; i++)
    {
        if (a[i] != b[i])
            return false;
    }
    return true;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T08:13:35.670

如果两个列表都已排序，则可以使用其他解决方案之一。但如果列表未排序，您可以执行以下操作。

```
 Dictionary<string, byte> dict = new Dictionary<string, byte>();
  foreach (string s in a)
  {
      dict.Add(s, 0);
  }

  bool same = true;
  foreach (string s in b)
  {
      same &= dict.ContainsKey(s);
      if (!same) 
          break;
  } 
```

您仍然可以在此之前进行简单的测试，例如检查等长等。

如果您可以使用 .NET 4.0，则可以使用`Intersect`数组方法。然后，您可以`a.Intersect(b)`将长度与`a`or的长度进行比较`b`。如果是这样，`true`那么列表是相等的，因为两个数组的所有元素都相交。您可以使用`a.Union(b)`.

**编辑** phoog 建议使用 Dictionary 而不是 ArrayList。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-02T11:46:03.467

```
 /// <summary>
    /// Compare two string array. 
    ///  If both null - return true ; 
    ///  If only one is null - return false ;
    /// </summary>
    bool IsSequenceEqual(string[] a, string[] b)
    {
        if (a == null && b == null) // both null - return true
            return true;
        if (a == null || b == null) // only one is null - return false
            return false;

        if (a.Length != b.Length) // length is different - return false
            return false;

        // check if equal
        for (int i = 0; i < a.Length; i++)
        {
            if (a[i] != b[i])
                return false;
        }
        return true;
    } 
```

# asp-classic - 检查 FreeASPUpload 中的文件是否存在

> ID：12703953
> 
> 赞同：1
> 
> 时间：2012-10-03T07:39:26.560
> 
> 标签：asp-classic

如果我之前上传过，我想检查文件。如果文件存在，我想用不同的名称上传。这个怎么做？

```
on error resume next
    Set Upload = New FreeASPUpload
  <!--  Upload.OverwriteFiles = False-->
    Upload.Save(UploadPathValue)
if err <> 0 then
    Response.Write(err.description)
end if 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T11:37:54.060

在保存之前，您需要使用文件系统对象检查文件是否存在。以下是如何执行此操作的说明：[ASP 文件存在](http://www.w3schools.com/asp/met_fileexists.asp)

# caching - Magento cache_dir 不可写并抛出错误

> ID：12703957
> 
> 赞同：1
> 
> 时间：2012-10-03T07:39:40.390
> 
> 标签：caching, magento

我是 Mangento 的新手。我喜欢在管理面板中进行导航的任何操作都会出现以下错误。

有人能告诉我在哪里可以找到 Magento 安装中的 cache_dir 目录吗？而且它工作得很好，直到 3 天。是什么造成了这个错误？

[http://pastebin.com/jHcD82wv](http://pastebin.com/jHcD82wv)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:46:22.003

缓存文件夹默认在此处：

```
/var/www/html/var/cache 
```

或在这里：

```
/var/www/html/<Magento installation dir>/var/cache 
```

顺便说一句，如果您不确定如何找到文件夹，您可以随时转到根目录并执行以下操作：

```
ls -R | grep -i cache 
```

**更新：**

变量的名称是`cache_dir`。它取自：app/code/core/Mage/Core/Model/Config/Options.php：

```
$this->_data['cache_dir']   = $this->_data['var_dir'].DS.'cache'; 
```

# yii - 单一表格处理 2 个模型

> ID：12703958
> 
> 赞同：0
> 
> 时间：2012-10-03T07:39:45.943
> 
> 标签：yii

我创建了两个模型：用户和用户配置文件，现在我想在用户视图 (_form) 的用户配置文件的某些字段中显示，在用户表中创建操作时我已经这样做了：

```
 public function actionCreate() {

    // Uncomment the following line if AJAX validation is needed
    // $this->performAjaxValidation($model);

    $user_form= new TblUser;
    $profile_form = new TblUserProfile;

            if(isset($_POST['user_form'], $_POST['profile_form'])){

     // populate input data to $a and $b
    $user_form->attributes=$_POST['user_form'];
    $profile_form->attributes=$_POST['profile_form'];

           // validate BOTH $a and $b
          $valid=$user_form->validate();
         $valid=$profile_form->validate() && $valid;

        if($valid)
    {
        // use false parameter to disable validation
        $user_form->save(false);

         $profile_form->save(false);
            // ...redirect to another page

        }
    }

    $this->render('create', array(
        'user_form'=>$user_form,
        'profile_form'=>$profile_form,
    ));

} 
```

然后 ，

这是我的 _form 用户表类

```
 <p class="note">Fields with <span class="required">*</span> are required.</p>

    <?php echo Chtml::errorSummary($user_form,$profile_form); ?>

    <div class="row">
        <?php //echo $form->labelEx($model,'id'); ?>
        <?php echo $form->hiddenField($user_form,'id'); ?> 
        <?php //echo $form->error($model,'id'); ?>
    </div>

    <div class="row">
        <?php echo $form->labelEx($user_form,'password'); ?>
        <?php echo $form->passwordField($user_form,'password',array('size'=>40,'maxlength'=>40)); ?>
        <?php echo $form->error($user_form,'password'); ?>
    </div>

    <div class="row">
        <?php echo $form->labelEx($user_form,'username'); ?>
        <?php echo $form->textField($user_form,'username',array('size'=>45,'maxlength'=>45)); ?>
        <?php // echo $form->error($user_form,'username'); ?>
    </div>

            <div class="row">
        <?php //echo $form->labelEx($model,'Is_active'); ?>
        <?php echo $form->HiddenField($user_form,'Is_active'); ?>
        <?php //echo $form->error($model,'Is_active'); ?>
    </div>

        <div class="row">
        <?php echo $form->labelEx($profile_form,'user_first_name '); ?>
        <?php echo $form->textField($profile_form,'user_first_name ',array('size'=>45,'maxlength'=>45)); ?>
        <?php  echo $form->error($profile_form,'user_first_name '); ?>
    </div>

    <div class="row buttons">
        <?php echo CHtml::submitButton($user_form->isNewRecord ? 'Create' : 'Save'); ?>
    </div>
<?php echo CHtml::endForm(); ?>

        <!-- form --> 
```

现在，我已经像这样在同一个视图中渲染了两个模型，

```
<?php echo $this->renderPartial('_form', 
    array('user_form'=>$user_form,'profile_form'=>$profile_form)); ?> 
```

做完这一切后我面临的问题是：

```
 Undefined variable: form

C:\wamp\www\topicoll\protected\views\tblUser\_form.php(9)

01 
02 
03 <?php echo CHtml::beginForm(); ?>
04 
05 
06 
07     <p class="note">Fields with <span class="required">*</span> are required.</p>
08 
09     <?php echo CHtml::errorSummary($user_form,$profile_form); ?>
10 
11     <div class="row">
12         <?php //echo $form->labelEx($model,'id'); ?>
13         <?php echo $form->hiddenField($user_form,'id'); ?> 
14         <?php //echo $form->error($model,'id'); ?>
15     </div>
16 
17     <div class="row">
18         <?php echo $form->labelEx($user_form,'password'); ?>
19         <?php echo $form->passwordField($user_form,'password',array('size'=>40,'maxlength'=>40)); ?>
20         <?php echo $form->error($user_form,'password'); ?>
21     </div> 
```

请告诉我我错过了什么！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T07:53:04.830

哦..您正在使用 CHtml 开始一个表格`CHtml::beginForm()` 并结束`CHtml::endForm()`

如果你这样做，你必须使用 CHtml 来生成表单元素，即在你的 _form`CHtml::activeTextfield($model, 'field', array())` 的 `CHtml::activeLabelEx($model, 'field')` 所有地方

另一种方式是……

添加此代码而不是 CHtml::beginForm()。

```
$form=$this->beginWidget('CActiveForm', array(
    'id'=>'user-form',
    'enableAjaxValidation'=>false,
    'clientOptions'=>array(
    ),
)); 
```

并添加此代码代替 CHtml::endForm()

```
$this->endWidget(); 
```

它会解决你的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T07:54:36.693

在你的 _form.php 替换`<?php echo CHtml::beginForm(); ?>`为

```
<?php $form=$this->beginWidget('CActiveForm', array(
    'id'=>'profile-form',
    'type'=>'horizontal',
    'enableAjaxValidation'=>false,
)); ?> 
```

并`<?php echo CHtml::endForm(); ?>`与

```
<?php $this->endWidget(); ?> 
```

并在您的控制器中更改代码块

```
if(isset($_POST['user_form'], $_POST['profile_form'])){

     // populate input data to $a and $b
    $user_form->attributes=$_POST['user_form'];
    $profile_form->attributes=$_POST['profile_form']; 
```

和

```
if(isset($_POST['TblUserProfile'], $_POST['TblUser'])){

     // populate input data to $a and $b
    $user_form->attributes=$_POST['TblUser'];
    $profile_form->attributes=$_POST['TblUserProfile']; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-06T11:28:48.613

```
<?php $form=$this->beginWidget('CActiveForm', array(
    'id'=>'profile-form',
    'type'=>'horizontal',
    'enableAjaxValidation'=>false,
)); ?>
and <?php echo CHtml::endForm(); ?> with

<?php $this->endWidget(); ?>
And in your controller change the code block

if(isset($_POST['user_form'], $_POST['profile_form'])){

     // populate input data to $a and $b
    $user_form->attributes=$_POST['user_form'];`enter code here`
    $profile_form->attributes=$_POST['profile_form'];
with 
```

# c# - 为什么焦点会随着可见性的变化而变化？

> ID：12703964
> 
> 赞同：0
> 
> 时间：2012-10-03T07:40:04.507
> 
> 标签：c#, winforms, focus

在更改可见性元素时，我在 winform 中遇到了焦点问题。

我正在开发杂志阅读器应用程序，在 winform 中我有位图和两个箭头，它们正在改变杂志的网站。但是当焦点改变时，位图会开始一个锐化线程，并且由于箭头仅在鼠标移动时可见，我正在改变它们的可见性。这就是我的问题，当我改变它们的可见性时，我会从位图上失去焦点。

那么请问，是否可以在不改变焦点的情况下改变可见性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T08:05:55.697

[当您使用Control.Focus](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.focus.aspx)将焦点明显地设置在位图上时，还将 2 个箭头的属性[TabStop](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.tabstop.aspx)设置为 false。

# java - postDelayed 有时无法在 Android 中运行

> ID：12703970
> 
> 赞同：0
> 
> 时间：2012-10-03T07:40:20.213
> 
> 标签：java, android, multithreading, handler

我在我的代码中运行多个线程和处理程序。

这是我的处理程序

```
PrizeRunnable mTempPotionRunnable = new PrizeRunnable(aaa);
handler.postDelayed(mTempPotionRunnable, 4000); 
```

和

```
 class PrizeRunnable implements Runnable {
        String type;

        PrizeRunnable(String type) { 
            this.type = type; 
        }

        public void run() {
            synchronized (this) {
                  if(!mIsHandlerStarted){
                      if(type.equals(aaa))
                          // Do something
                      else if(type.equals(bbb))
                          // Do something

                    mIsHandlerStarted = true;
                    handler.removeCallbacks(this);
                  }
              }
        }
    } 
```

但有时它会同时运行。

我不知道原因。

**更新**

我尝试将其更改为：

```
handler.postDelayed(mTempPotionRunnable, 4000); 
```

和

```
Runnable mTempPotionRunnable = new Runnable() {
@Override
public void run() {
      synchronized (this) {
          if(!mIsHandlerStarted){
                // Do something
                mIsHandlerStarted = true;
                handler.removeCallbacks(mMetalRunnable);
          }
      }
}
}; 
```

可能会解决我的问题。我正在测试这种方法。

但我无法将参数传递给我的`Runnable`. 我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T07:42:34.640

我的猜测是，这是因为您正在当前实例上进行同步：

```
synchronized (this) {
    ...
} 
```

因此，除非您将相同的实例传递给所有处理程序，否则每个处理程序都将使用不同的锁定对象。尝试使用静态锁：

```
class PrizeRunnable implements Runnable {
    String type;
    private static final Object lock = new Object();

    PrizeRunnable(String type) { 
        this.type = type; 
    }

    public void run() {
        synchronized (lock) {
              if(!mIsHandlerStarted){
                  if(type.equals(aaa))
                      // Do something
                  else if(type.equals(bbb))
                      // Do something

                mIsHandlerStarted = true;
                handler.removeCallbacks(this);
              }
          }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T03:32:51.773

制作全局变量，我可以将参数传递给我的`Runnable`

# android - 如何使用 SQLite 数据库将数据库表和列连接在一起

> ID：12703979
> 
> 赞同：0
> 
> 时间：2012-10-03T07:40:51.053
> 
> 标签：android, sqlite, foreign-keys, primary-key

我正在开发一个 Android 应用程序。它涉及 SQLite 数据库。我在一个数据库中创建了 5 个表并创建了 5 个 DBAdapter。

我在这些表中有主键（buddiesList、titles、event、likes & dislikes）和 4 个表中的外键（titles、event、likes & dislikes）。这些表是在 SQLite 数据库中创建的。

哦，一个 DBAdapter 是我编写代码以创建 5 个表的地方，并且需要将这些表链接在一起，并且将主键和外键链接在一起。而其他 4 个 DBAdapter 用于 5 个表中的每一个。我只是发布代码，您可能会明白我在说什么以及我需要什么。

AnniversaryDBAdapter - 创建了 5 个表。

```
public class AnniversaryDBAdapter
{

    private static final String DATABASE_NAME = "Tables";
    private static final int DATABASE_VERSION = 2;

    private static final String CREATE_TABLE_TITLE = "create table titles(title_id integer primary key autoincrement, title text not null, image text not null);";
    private static final String CREATE_TABLE_BUDDIESLIST = "create table buddiesList(name_id integer primary key autoincrement, name text not null);";
    private static final String CREATE_TABLE_LIKES = "create table likes(likes_id integer primary key autoincrement,like text not null, name_id integer not null, FOREIGN KEY(name_id) REFERENCES buddiesList(name_id));";
    private static final String CREATE_TABLE_DISLIKES = "create table dislikes(dlike_id integer primary key autoincrement, dislike text not null, name_id integer not null, FOREIGN KEY(name_id) REFERENCES buddiesList(name_id));";
    private static final String CREATE_TABLE_EVENTS = "create table event(event_id integer primary key autoincrement, title_id integer not null, location text not null, starttime text not null, endtime text not null, desc text not null, date text not null, name_id integer not null, FOREIGN KEY(title_id) REFERENCES titles(title_id));";

    private final Context context;
    private static final String TAG = "DBAdapter";

    private DatabaseHelper DBHelper;
    protected SQLiteDatabase db;

    private static String DB_PATH = "/data/data/main.page/Tables/";

    public AnniversaryDBAdapter(Context aContext)
    {
        this.context = aContext;
        DBHelper = new DatabaseHelper(context);
    }

private static class DatabaseHelper extends SQLiteOpenHelper
{

    DatabaseHelper(Context context)
    {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
    }

    @Override
    public void onCreate(SQLiteDatabase db)
    {
        /*try
        {
            database.execSQL(CREATE_TABLE_BUDDIESLIST);
            database.execSQL(CREATE_TABLE_LIKES);
            database.execSQL(CREATE_TABLE_EVENTS);
            database.execSQL(CREATE_TABLE_TITLE);
            database.execSQL(CREATE_TABLE_DISLIKES);
        }catch(SQLException e)
        {
            e.printStackTrace();
        }*/

        db.execSQL(CREATE_TABLE_BUDDIESLIST);
        db.execSQL(CREATE_TABLE_LIKES);
        db.execSQL(CREATE_TABLE_EVENTS);
        db.execSQL(CREATE_TABLE_TITLE);
        db.execSQL(CREATE_TABLE_DISLIKES);
/*      database.execSQL("CREATE TRIGGER fk_budevent_nameid" +
                "BEFORE INSERT" +
                "ON events FOR EACH ROW BEGIN" +
                "SELECT CASE WHEN((SELECT name_id FROM buddiesList WHERE name_id = new.name_id) IS NULL)" +
                "THEN RAISE(ABORT, 'Foreign Key Violation')END;" +
                "END;");
        */

    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)
    {
        Log.w(TAG, "Upgrading database from version "+oldVersion+" to "+newVersion+", which will destroy all old data");

        onCreate(db);

    }

}

public AnniversaryDBAdapter open() throws SQLException
{
    db = this.DBHelper.getWritableDatabase();
/*  if(!db.isReadOnly())
    {
        db.execSQL("PRAGMA foreign_keys = ON;");
    }*/
    return this;
}

public void close()
{
    DBHelper.close();
}
/*
public long insertEvent(String title,String location,String starttime,String endtime,String desc,String date, String name)
{
   ContentValues cValues = new ContentValues();

   cValues.put(KEY_TITLE, title);
   cValues.put(KEY_LOCATION, location);
   cValues.put(KEY_START, starttime);
   cValues.put(KEY_END, endtime);
   cValues.put(KEY_DESC, desc);
   cValues.put(KEY_ALARM, alarm);
   cValues.put(KEY_DATE, date);
   cValues.put(KEY_NAME, name);

   return db.insert(CREATE_TABLE_EVENTS, null, cValues);

}

public boolean deleteEvent(long rowId)
{
    return db.delete(CREATE_TABLE_EVENTS, KEY_ROWID + "=" + rowId, null) > 0;
}

public Cursor getAllEvents()
{
    return db.query(CREATE_TABLE_EVENTS, new String[] {KEY_ROWID, KEY_TITLE, KEY_LOCATION, KEY_START, KEY_END, KEY_DESC, KEY_DATE, KEY_NAME}, null, null, null, null, null);

}

public Cursor getEvent(long rowId) throws SQLException
{
    Cursor c = db.query(true,CREATE_TABLE_EVENTS, new String[] {KEY_ROWID, KEY_TITLE, KEY_LOCATION, KEY_START, KEY_END, KEY_DESC, KEY_DATE, KEY_NAME}, KEY_ROWID + "=" + rowId, null, null, null, null, null);
    if(c != null)
    {
        c.moveToFirst();
    }
    return c;
}
*/
} 
```

正如您在 AnniversaryDBAdapter 中看到的，在 buddiesList 表中，name_id 是链接到事件、喜欢和不喜欢表的主键。event, likes and dislikes 表中的 name_id 是从 buddiesList 表中检索的外键。但是，当我在事件页面中键入事件详细信息并将它们保存到事件表中时，表中的 name_id 应该是从 buddiesList 表中检索到的数字，而是存储为名称而不是 id。喜欢和不喜欢也是如此。

另外，如果取消注释`if(!db.isReadOnly()) { db.execSQL("PRAGMA foreign_keys = ON;"); }`
我无法打开信息、事件和 SMS 页面，我会收到强制关闭消息。

BuddyDBAdapter - buddiesList 表

```
public class BuddyDBAdapter extends AnniversaryDBAdapter
{
    public static final String KEY_ROWID = "name_id";
    public static final String KEY_NAME = "name";
    private static final String TAG = "DBAdapter";
    private static final String CREATE_TABLE_BUDDIESLIST = "buddiesList";

    //private SQLiteDatabase db;

    public BuddyDBAdapter(Context aContext)
    {
        super(aContext);
    }

    public long insertNames(String name)
    {
        ContentValues buddyValues = new ContentValues();
        buddyValues.put(KEY_NAME, name);
        return db.insert(CREATE_TABLE_BUDDIESLIST, null, buddyValues);
    }

    public boolean deleteNames(long rowId)
    {
        return db.delete(CREATE_TABLE_BUDDIESLIST, KEY_ROWID + "=" + rowId, null) > 0;
    }

    public Cursor getAllNames()
    {

           return db.query(CREATE_TABLE_BUDDIESLIST, new String[] { KEY_ROWID, KEY_NAME }, null, null, null, null, null);

    }

    public Cursor getNames(long rowId) throws SQLException
    {
        Cursor c = db.query(true, CREATE_TABLE_BUDDIESLIST, new String[] { KEY_ROWID, KEY_NAME }, KEY_ROWID + "=" + rowId, null, null, null, null, null);
        if(c != null)
        {
            c.moveToFirst();
        }
        return c;
    }
} 
```

BuddyDBAdapter 中的代码类似于 CalendarAdapter(事件表)、 LikesDBAdapter(likes table) & DislikesDBAdapter(dislikes table) 除了表和列的名称

我的问题是，我不确定如何将表格连接在一起。以及，如何在 SQLite 数据库中启用外键。

即使我输入喜欢

```
 private static final String CREATE_TABLE_TITLE = "create table titles(title_id integer primary key autoincrement, title text not null, image text not null);";
    private static final String CREATE_TABLE_BUDDIESLIST = "create table buddiesList(name_id integer primary key autoincrement, name text not null);";
    private static final String CREATE_TABLE_LIKES = "create table likes(likes_id integer primary key autoincrement,like text not null, name_id integer not null, FOREIGN KEY(name_id) REFERENCES buddiesList(name_id));";
    private static final String CREATE_TABLE_DISLIKES = "create table dislikes(dlike_id integer primary key autoincrement, dislike text not null, name_id integer not null FOREIGN KEY(name_id) REFERENCES buddiesList(name_id));";
    private static final String CREATE_TABLE_EVENTS = "create table event(event_id integer primary key autoincrement, title_id integer not null, location text not null, starttime text not null, endtime text not null, desc text not null, date text not null, name_id integer not null, FOREIGN KEY(name_id) REFERENCES buddiesList(name_id), FOREIGN KEY(title_id) REFERENCES titles(title_id));"; 
```

和

```
if(!db.isReadOnly())
    {
        db.execSQL("PRAGMA foreign_keys = ON;");
    } 
```

我仍然有强制关闭错误。

另外，我不确定如何将 buddiesList 表中的 name_id 连接到事件、喜欢和不喜欢表。同样，将titles表中的title_id连接到事件表中的title_id。

谁能帮我解决这个问题？提供的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-06T08:23:48.400

您缺少一些索引；请参阅[必需和建议的数据库索引](http://www.sqlite.org/foreignkeys.html#fk_indexes)。

更改数据时，确保它始终有效，例如，在其子项之前插入一个父项，并在其父项之前删除所有子项。

# android - Android“无法加载样本（空）”

> ID：12703980
> 
> 赞同：2
> 
> 时间：2012-10-03T07:40:51.457
> 
> 标签：android, soundpool

我在声音管理器方面遇到了一个模糊的问题。只有我加载的第一个声音有效。第二声没有。

初始化，这里 WRONG_SOUND 不加载。

```
Globals.mSoundManager = new SoundManager();
Globals.mSoundManager.initSounds(getBaseContext());
Globals.mSoundManager.addSound(Globals.CORRECT_SOUND, R.raw.correct);
Globals.mSoundManager.addSound(Globals.WRONG_SOUND, R.raw.wrong); 
```

如果我反转加载，CORRECT_SOUND 不会加载

```
Globals.mSoundManager = new SoundManager();
Globals.mSoundManager.initSounds(getBaseContext());
Globals.mSoundManager.addSound(Globals.WRONG_SOUND, R.raw.wrong);
Globals.mSoundManager.addSound(Globals.CORRECT_SOUND, R.raw.correct); 
```

SoundManager 的构造函数

```
public void initSounds(Context theContext) {
    mContext = theContext;
    mSoundPool = new SoundPool(4, AudioManager.STREAM_MUSIC, 0);
    mSoundPool.setOnLoadCompleteListener(this);
    mSoundPoolMap = new HashMap<Integer, Integer>();
    mAudioManager = (AudioManager) mContext
            .getSystemService(Context.AUDIO_SERVICE);
} 
```

addSound 方法

```
public synchronized void addSound(int Index, int SoundID) {
    mSoundPoolMap.put(Index, mSoundPool.load(mContext, SoundID, 1));

    synchronized(this) {
        try {
            this.wait(1000) ;
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
} 
```

SoundManager 实现 OnLoadCompleteListener

```
@Override
public void onLoadComplete(SoundPool arg0, int arg1, int arg2) {
    synchronized (this) {
        this.notifyAll();
    }
} 
```

我认为这是一个负载问题，所以我添加了一个 OnLoadCompleteListener，但加载的第二个声音仍然无法正常工作。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-05T18:27:53.980

为了解决这个问题，我不得不更改 mp3 文件，并且它起作用了。神奇的是，mp3 文件适用于 Android 的媒体播放器，也适用于 mac。但由于某种原因，这种对新 mp3 的疯狂更改是修复它的唯一方法。许多SO问题也有这个解决方案。

# ruby-on-rails-3 - 如何在 Active Admin 的编辑页面中仅显示值

> ID：12703987
> 
> 赞同：30
> 
> 时间：2012-10-03T07:41:26.277
> 
> 标签：ruby-on-rails-3, activeadmin, formtastic

我在 Active Admin 中有一个编辑表单。我需要一些只读字段。

我当前的编辑页面就像

![在此处输入图像描述](../Images/5d563a805d33a66cafd922a2d97b649e.png)

我需要页面看起来像这样

![在此处输入图像描述](../Images/8382bbe4e18eed37e84b924bcd8e719e.png)

如何才能做到这一点。我的编辑表单页面的代码就像

```
 form :html => { :enctype => "multipart/form-data" } do |f|  
      f.inputs "Users" do
        f.input :device, :label => 'Device', :as => :select, :collection => DEVICE, :include_blank => false
        f.input :current_address, :label => 'Current Address', :as => :string
      end
    end 
```

请帮忙。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-11-07T20:48:37.147

正如亚历克斯所说，设置为禁用。然后你可以使用 css 来获得你想要的视觉效果，如果你能接受它的语义的话。

让我让它工作的语法略有不同。

在您的管理表单中：

```
 f.input :finish_position, input_html: { disabled: true } 
```

在你的 CSS active_admin.css

```
input[disabled="disabled"],
input[disabled] {
  background-color: #F4F4F4;
  border: 0px solid #F4F4F4 !important;  
} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-12-08T15:04:59.293

为了在 ActiveAdmin.register{} 块中定义更清晰的表单，您可能还想使用 formtastic 定义要在活动管理员中使用的“只读”输入类型：

表单块语法适用于 0becbef0918a 的 activeadmin 版本 1.0.0.pre。

```
# app/admin/inputs/readonly_input.rb

class ReadonlyInput < Formtastic::Inputs::StringInput
  def to_html
    input_wrapping do
      label_html <<
      template.content_tag('div', @object.send(method))
    end
  end
end

# app/admin/your_model.rb

ActiveAdmin.register YourModel do
  # ...

  form do |f|
    # ...

    input :current_address, as: :readonly

    # ...
  end  
end 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2016-07-13T13:32:37.597

我遇到了同样的问题并尝试使用`:disabled`，但它并没有解决我的问题，因为我希望在将值发送到服务器时将其`field`包含在对象中。`params`当您将 a 标记`form input`为`:input_html => {:disabled => true}`时，它不会在 中包含此字段值`params`。所以，相反，我使用`:input_html => {:readonly => true}`了它解决了我的两个问题：

1.  不允许用户`edit`
2.  包括值`params`

我希望这将有所帮助。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-02-14T07:13:06.740

这个怎么样？

```
form :html => { :enctype => "multipart/form-data" } do |f|  
  f.inputs "Users" do
    f.input :device, :label => 'Device', :as => :select, :collection => DEVICE, :include_blank => false
    f.li do
      f.label :current_address
      f.span f.object.current_address
    end
  end
end 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-03T08:28:27.403

尝试添加`, :disabled => true`地址输入字段。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-03-08T19:26:13.300

诀窍是使用“对象”。以下是您应该如何编码：

```
form :html => { :enctype => "multipart/form-data" } do |f|  
  f.inputs "Users" do
    f.input :device, :label => 'Device', :as => :select, :collection => DEVICE, :include_blank => false
    f.label :current_address, f.object.current_address
  end
end 
```

# symfony - SQLSTATE [28000] [1045] 用户'root'@'localhost'的访问被拒绝（使用密码：否）

> ID：12703989
> 
> 赞同：1
> 
> 时间：2012-10-03T07:41:42.830
> 
> 标签：symfony, symfony-2.1

我正在使用 symfony 2.1.2、FOSuserBundle、SonataAdminBundle、SonataUserBundle 和 SonataMediaBundle。问题是我无法访问我的数据库并收到此错误。

这是我的参数.yml

```
parameters:
    database_driver: pdo_mysql
    database_host: localhost
    database_port: null
    database_name: superlinea
    database_user: root
    database_password: !Admin1234
    mailer_transport: smtp
    mailer_host: localhost
    mailer_user: null
    mailer_password: null
    locale: en
    secret: f4c89326a7c2d2fb848e84dc8b39ea92
    database_path: null 
```

这是我的 config.yml [教义部分：]

```
doctrine:
    dbal:
        default_connection:   default
        connections:
            default:
                driver:   %database_driver%
                host:     %database_host%
                port:     %database_port%
                dbname:   %database_name%
                user:     %database_user%
                password: %database_password%
                charset:  UTF8
    orm:
        auto_generate_proxy_classes: %kernel.debug%
        # auto_mapping: true
        # entity_managers:
        #     default:
        #         mappings:
        #             ApplicationSonataMediaBundle: ~
        entity_managers:
            default:
                mappings:
                    ApplicationSonataMediaBundle: ~
                    ApplicationSonataUserBundle: ~
                    SonataUserBundle: ~
                    FOSUserBundle: ~
    dbal:
        types:
            json: Sonata\Doctrine\Types\JsonType 
```

我检查了使用parameters.yml 上的凭据从我的终端连接到mysql，它连接正确。我清除了缓存，但仍然没有使用指定的密码。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-04T07:20:37.687

问题出在您的 config.yml 中，

```
dbal:
  types:
    json: Sonata\Doctrine\Types\JsonType 
```

应该进入教义dbal。像这样：

```
doctrine:
    dbal:
        default_connection:   default
        connections:
            default:
                driver:   %database_driver%
                host:     %database_host%
                port:     %database_port%
                dbname:   %database_name%
                user:     %database_user%
                password: %database_password%
                charset:  UTF8
        types:
            json: Sonata\Doctrine\Types\JsonType 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-12-18T16:19:20.303

在你的 app/config/parameters.yml

```
# This file is auto-generated during the composer install
parameters:
    database_driver: pdo_mysql
    database_host: 127.0.0.1
    database_port: 3306
    database_name: symfony
    database_user: root
    database_password: "your_password"
    mailer_transport: smtp
    mailer_host: 127.0.0.1
    mailer_user: null
    mailer_password: null
    locale: en
    secret: ThisTokenIsNotSoSecretChangeIt 
```

database_password 应该在双引号 (") 或单引号 (') 内。

我已经看到大多数用户发生这种情况是因为他们使用的密码带有前导零或数字（在我的情况下就是这样）

* * *

而且我也尝试过使用 localhost 和双引号密码，但它不起作用。

所以在那种情况下使用

```
database_host: 127.0.0.1 
```

代替

```
database_host: localhost 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-07-23T09:24:04.600

对于所有遇到此问题的人，只需尝试清除缓存：

```
php bin/console cache:clear 
```

# android - 布尔标志值始终显示为负

> ID：12703990
> 
> 赞同：0
> 
> 时间：2012-10-03T07:41:43.960
> 
> 标签：android

经过长时间的努力，我在这段代码中诊断出我的问题是，如果块中的`flag`错误`catch`永远不会成为真的..即使我提供有效的输入
，请告诉我它是怎么回事？当标志值在 catch 块中变为 false 时如何解决该问题在 1 次为 false 后始终显示为 false 并在我提供正确输入时打印无效输入消息

```
 public class AgAppHelperMethods   {

     private static final String LOG_TAG = null;

   private static AgAppHelperMethods instance = null;
      static boolean flag=true;

   public static String varMobileNo;
    public static String varPinNo;

   String[][] xmlRespone = null;

    public static AgAppHelperMethods getInstance() 
   {
       if(instance == null) 
          {
              instance = new AgAppHelperMethods();
          }
      return instance;
   }

public static   String[][] AgAppXMLParser( String parUrl) {

    String _node,_element;
     String[][] xmlRespone = null;
     HttpURLConnection urlConnection = null;

     try {

     String url = ("www.xyz.com....");
     URL finalUrl = new URL(url);   

      urlConnection = (HttpURLConnection) finalUrl.openConnection();

      urlConnection.setUseCaches(false); 

          urlConnection.connect();

    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
            DocumentBuilder db = dbf.newDocumentBuilder();
            Document doc = db.parse(new    
             InputSource(urlConnection.getInputStream()));
            doc.getDocumentElement().normalize();

            NodeList list=doc.getElementsByTagName("*");
            _node=new String();
            _element = new String();
            xmlRespone = new String[list.getLength()][2];

            //this "for" loop is used to parse through the
            //XML document and extract all elements and their
            //value, so they can be displayed on the device

            for (int i=0;i<list.getLength();i++)
                {
                    Node value=list.item(i).      getChildNodes().item(0);
                    _node=list.item(i).getNodeName();
                    _element=value.getNodeValue();
                    xmlRespone[i][0] = _node;
                    xmlRespone[i][1] = _element;

                }//end for

            urlConnection.disconnect();

        }//end try

    catch (Exception e)
    {
        String[][] res;
     flag=false;

   Log.e(LOG_TAG, "CONNECTION ERROR  FUNDAMO SERVER NOT RESPONDING", e);

     public class AgAppTransAirTimeTopUp  extends Activity {

                btnTATsubmit.setOnClickListener(new OnClickListener()
        {
        public void onClick(View v)

        {

                                submitATTP();
             }

        }

                                        }); 

                protected void submitATTP() {

                       xmlResponse = AgAppHelperMethods.AgAppXMLParser("Axyz......");
                 if(!AgAppHelperMethods.flag)
                    {

    Toast.makeText(getApplicationContext(), "Invalid Input " ,     
             Toast.LENGTH_SHORT).show();

            }
    else {

 Intent j = new Intent(AgAppTransAirTimeTopUp.this, AgAppTransATTPResponse.class); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:45:15.637

每次输入时都用 true 初始化它`AgAppXMLParser`，因为变量是**静态**的：

```
public static   String[][] AgAppXMLParser( String parUrl) { 
   String _node,_element;
   String[][] xmlRespone = null;
   HttpURLConnection urlConnection = null;

   flag = true;

   ..... 
```

# html - Internet Explorer 的按钮上出现奇怪的白线

> ID：12703992
> 
> 赞同：3
> 
> 时间：2012-10-03T07:41:47.780
> 
> 标签：html, internet-explorer, css

我有一个严重的 HTML 问题：Internet Explorer 中的按钮上出现一条奇怪的白线。

**原始样机示例 -**

![原来的](../Images/d5ce5d872e3f5d5546745ab4f738d5bc.png)

按钮 HTML -

```
<input type="button" Class="buttonAll" value="Regenerate" onClick="Captcha();"/>

<input type="submit" value="Save" onclick="" class="buttonAll"> 
```

我的 UI HTML 不包含任何**Doctype**，并且我有一个只做外观更改的标准。

我尝试以两种方式应用 CSS：

**使用 BG 图像 -**

![使用背景图像](../Images/845c0e41aacf2553db551773136019f5.png)

上面的CSS：

```
background:#92110d url(../images/bg-all-buttons.gif) repeat-x 0 0; 
```

**使用 CSS 渐变 -**

![使用 CSS 渐变](../Images/988a0f3b57fdd4709700d7b21fa2535c.png)

CSS：

```
input[type="button"], input[type="submit"], .buttonAll {

    overflow:visible; display:inline-block; cursor:pointer;  
    outline:0px none; width: auto; vertical-align:middle;
    margin:3px 6px 3px 0px; padding:2px 6px; border:1px solid #804240; 

    /*background:#92110d url(../images/bg-all-buttons.gif) repeat-x 0 0;*/

    background: #92110d;    background-repeat:repeat;
    background: -webkit-gradient(linear, left top, left bottom, from(#f04b47), to(#92110d));
    background: -moz-linear-gradient(center top, #f04b47, #92110d);
    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#f04b47', endColorstr='#92110d');

    text-align:center; text-transform:capitalize; color:#fdfad9; font-size:11px!important; } 
```

上述代码在 FF 和 Chrome 中运行良好。

是否有可能由于事件焦点/活动/模糊而发生这种情况
我想知道如何删除这条白线？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:19:40.780

例如，您需要从输入字段中删除边框`input[type="button"], input[type="submit"], .buttonAll { border:none;}`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T10:42:37.750

Vipul 上面的代码是对的。原因是您的文档类型声明。因为有两种类型的文档模式 1\. 严格模式，2\. 怪癖模式。Quirk 模式不支持 W3C 现代标准。

# android - 另一个“位图大小超出 VM 预算”

> ID：12703994
> 
> 赞同：0
> 
> 时间：2012-10-03T07:41:52.050
> 
> 标签：android, bitmap, out-of-memory

> **可能重复：**
> [Android：将图像加载到位图对象时出现奇怪的内存不足问题](https://stackoverflow.com/questions/477572/android-strange-out-of-memory-issue-while-loading-an-image-to-a-bitmap-object)
> [OutOfMemoryError：位图大小超出 VM 预算：- Android](https://stackoverflow.com/questions/2928002/outofmemoryerror-bitmap-size-exceeds-vm-budget-android)

我知道有很多关于这一切的话题，但无论我尝试什么似乎都不起作用。

我尝试了几种 onDestroy 技巧，包括回收位图、将其设置为 null 等。不确定我的代码是否与其他情况有任何不同？看起来是这样的......我正在使用 TouchImageView 扩展，所以我可以使用捏缩放，所以也许这使它更复杂？

无论如何，这是我的代码。谁能指出我该如何解决这个问题（顺便说一句，无需缩小位图）？

```
 public class PageActivity extends Activity {

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.page);

            Intent parent = getIntent();
            int pagenumber = parent.getIntExtra("pagenumber", 1);
            int resID = getResources().getIdentifier("page"+pagenumber , "drawable", getPackageName());

            TouchImageView img = new TouchImageView(this);
            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), resID);
            img.setImageBitmap(bitmap);
            img.setMaxZoom(4f);

            LinearLayout rootview = (LinearLayout) findViewById(R.id.RootView);
            rootview.addView(img);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:47:22.613

正如您所说，您已经使用了从裁剪到回收的所有内容，现在也尝试使用 Wea​​kReferences。

如果这也没有帮助，那么您的代码中可能存在内存泄漏。

请查看我对同一问题的回答：[位图大小超出 Vm 预算错误 android](https://stackoverflow.com/questions/10737582/bitmap-size-exceeds-vm-budget-error-android/10738115#10738115)

这是一个通用的答案，请尝试我提到的所有方法。其中一个应该适合你:)

谢谢你。

# java - Vaadin，在哪里放置图像？

> ID：12703998
> 
> 赞同：3
> 
> 时间：2012-10-03T07:42:05.510
> 
> 标签：java, liferay, vaadin

我有一个带有 Vaadin portlet 的 Liferay 项目。

我想为我的按钮添加图标。

```
 Button search = new Button("Search");
  search.setIcon(new ThemeResource("img/silk/add.png")); 
```

但是不知道放哪里？现在我把它放在`docroot`目录中。

**更新**

不，我试试这个。

```
 Button search = new Button("Search");
  search.setIcon(new ThemeResource("LifeRayVaadin-portlet/icons/add.png")); 
```

但是当我在控制台中重新部署项目时

```
09:34:05,773 WARN  [404_jsp:109] /html/VAADIN/themes/liferay/LifeRayVaadin-portlet/icons/add.png 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T05:52:28.107

因此，您的 portlet 正在寻找`/html/VAADIN/themes/liferay/LifeRayVaadin-portlet/icons/add.png`.

`icons`您可以在下面创建一个目录`VAADIN`并调用：

```
search.setIcon(new ThemeResource("../../icons/add.png")); 
```

`ThemeResource`没有任何路径将在路径中查找文件，`VAADIN/themes/yourtheme/`因此`../../`将让您（在这种情况下）到`/VAADIN/`. 我个人永远不会在项目中硬编码主题或 portlet 的名称，因为当它更改时，您必须检查每个引用并更改它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T08:25:47.063

您可以将图像放在 $PORTLET-NAME/docroot/icons 目录中并使用 Path 调用它们

```
/$PORTLET-NAME$/icons/add.png 
```

在你的情况下，它将是

```
 Button search = new Button("Search");

  search.setIcon(new ThemeResource("/$PORLTET-NAME$/icons/add.png")); 
```