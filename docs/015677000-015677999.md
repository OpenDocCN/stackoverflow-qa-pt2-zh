# StackOverflow 问答 15677000-15677999

# clearcase - 如何修改创建和签入的软链接

> ID：15677001
> 
> 赞同：3
> 
> 时间：2013-03-28T08:16:29.823
> 
> 标签：clearcase, cleartool

我创建了一个软链接`vob`

```
myscript.pl ->/usr2/myscript.pl 
```

并登记入住。

现在我需要改变`softlink`喜欢的路径，

```
myscript.pl ->/usr2/john/myscript.pl 
```

如何实现这一点，在`cleartool`

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:36:36.563

如本[IBM 技术](http://www-01.ibm.com/support/docview.wss?uid=swg21118146)说明中所述：

> **将 VOB 符号链接修改为相对路径的唯一方法是创建一个新的符号链接**：
> 
> 注意：**您不能编辑（修改）VOB 符号链接，如果它是使用绝对路径创建的以利用相对路径**。
> 
> *   查看目录
> *   `cleartool rmelem`使用命令删除旧的 VOB 链接
> *   创建具有相同名称的新链接
> 
> 例子：

```
cleartool ln -slink -nc ../../same_file_name.txt
Check in the directory 
```

> 笔记：
> 
> *   建议您**使用相对 VOB 符号链接**而不是绝对符号链接。
>     绝对 VOB 符号链接要求您使用来自视图标记级别的绝对路径名，例如`\view-tag\VOB-tag\filename`.
>     因此，它们仅在创建它们的视图中有效。
> *   Windows 操作系统（与 UNIX 和 Linux 操作系统相反）不支持指向 ClearCase MVFS 之外的文件的符号链接，并且必须使用相对路径而不是绝对路径来创建符号链接。
>     尽管该[`cleartool ln`命令](http://www-01.ibm.com/support/docview.wss?uid=swg21260645)将创建链接，但该链接不会出现在标准目录列表中；它只会由 cleartool ls 命令显示。
>     这适用于所有未指向有效 MVFS 路径名的符号链接。

# c# - 加载嵌入实体时发生 EntityCommandExecutionException

> ID：15677005
> 
> 赞同：0
> 
> 时间：2013-03-28T08:16:38.277
> 
> 标签：c#, sql-server, database, entity-framework

我有一个从我的数据库中获取所有产品的代码：

```
using (var entities = new DataEntities())
        {
            var products = entities.Products.AsQueryable();
            if (!string.IsNullOrEmpty(nameFilter))
            {
                products = products.Where(o => o.Name.Contains(nameFilter));
            }
            var result = products.Select(ProductBuilder.CreateProductDto);
            return result.ToList();
        } 
```

**CreateProductDto**方法：

```
 public static ProductDto CreateProductDto(this Product product)
    {
        return new ProductDto
        {
            Id = product.Id,
            Name = product.Name,
            IsEnabled = product.IsEnabled,
            KeyPairDto = new KeyPairDto()
            {
                Id = product.KeyPair.Id,
                EncryptedPrivateExponent = product.KeyPair.EncryptedPrivateExponent,
                Modulus = product.KeyPair.Modulus,
                PublicExponent = product.KeyPair.PublicExponent,
            },
        };
    } 
```

它在我同事的机器上运行良好。但是我得到 EntityCommandExecutionException 并带有以下内部异常：*已经有一个打开的 DataReader 与此命令相关联，必须先关闭它。*尝试访问时`product.KeyPair`。

有趣的是，如果我`product.KeyPair`通过调试器刷新 - 它加载得很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:31:17.313

添加

```
MultipleActiveResultSets=true 
```

到实体框架连接字符串中连接字符串的提供者部分（即定义数据源、初始目录等的部分）

# qt - Qt 按钮槽被调用了两次，虽然被禁用了

> ID：15677009
> 
> 赞同：2
> 
> 时间：2013-03-28T08:17:01.727
> 
> 标签：qt, signals, slot, qpushbutton

我有一个 QPushButton，以及一个连接到它的“按下”信号的插槽，如下所示：

```
connect( &m_oBtnSnapshot, SIGNAL( pressed() ), this, 
    SLOT( SnapshotClicked() ) ); 
```

Slot 是这样实现的：

```
void
GUI::SnapshotClicked()
{
    m_oBtnSnapshot.blockSignals( true );
    m_oBtnSnapshot.setDisabled( true );

    m_oBtnBenchmark.repaint();
    m_oBtnBenchmark.update();

    emit( DoSnapshotWork() );

    m_oBtnSnapshot.setDisabled( false );
    m_oBtnSnapshot.blockSignals( false );
} 
```

如您所见，我在单击按钮时禁用该按钮，并在一切完成后重新启用它。让我们假设 DoSnapshotWork() 函数需要 5 秒......虽然这 5 秒按钮被禁用，但如果我点击它，SnapshotClicked() Slot 将在之后被调用。为什么禁用按钮不会阻止我单击它？

我已经尝试在进入插槽时断开信号并在之后重新连接，但没有任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:27:38.210

因为鼠标按下事件被放置到事件循环中，并等到您的`SnapshotClicked()`方法完成，此时按钮再次启用。

`QCoreApplication::processEvents()`一个简单的解决方案是在之后立即调用`emit`，这将导致在按钮仍处于禁用状态时处理按下事件。或者，您可以让该`DoSnapshotWork()`方法在完成时发出一个信号，然后启用该按钮并解除对信号的阻塞。

还，

```
m_oBtnBenchmark.repaint();
m_oBtnBenchmark.update(); 
```

`repaint()`强制重绘小部件，同时通过事件循环`update()`调用`repaint()`- 不要同时调用它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T08:35:33.980

`GUI::SnapshotClicked()`是 GUI 线程的一部分，这意味着，当它运行时，您的 GUI 是不可访问的。我假设，信号`DoSnapshotWork()`与一个插槽连接，在另一个线程中运行`Qt::QueuedConnection`（或`Qt::AutoConnection`）。在这种情况下，发出此信号是异步的，这意味着`GUI::SnapshotClicked()`在您的插槽完成之前很久就完成了。我想你应该这样做：

gui.h

```
public slots:
    void onReleaseButton(); 
```

gui.cpp

```
void
GUI::SnapshotClicked()
{
    m_oBtnSnapshot.setDisabled( true );

    m_oBtnBenchmark.repaint();
    m_oBtnBenchmark.update();

    emit( DoSnapshotWork() );
}

void
GUI::onReleaseButton()
{
    m_oBtnSnapshot.setDisabled( false );
} 
```

别的地方：

```
connect(shapshotWorker, SIGNAL(releaseButton()), gui, SLOT(onReleaseButton()));

...

DoSnapshotWork()
{
...

emit releaseButton();
} 
```

PS：你需要一个很好的理由来使用 QPushButton::pressed() 信号。在大多数情况下，您更喜欢 QPushButton::clicked()。

# c# - 如何在触摸屏中滚动 ListView

> ID：15677017
> 
> 赞同：6
> 
> 时间：2013-03-28T08:17:17.833
> 
> 标签：c#, wpf, listview, scroll, touchscreen

我有一个带有`ListView`. 在桌面模式下我没有问题，但是当我将此应用程序与触摸屏一起使用时，会出现与`ListView`垂直滚动相关的问题。事实上，当我在我的屏幕上触摸屏幕时，我`ListView`选择了这个列表的项目，但是当我上下移动手指时，不是滚动我的列表，唯一发生的事情就是选择我手指下的项目（选择变化）。

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T08:49:26.917

可能您使用的 .Net 框架小于或等于 3.5。如果可以，请跳至 4 并查看该属性`ScrollViewer.PanningMode`，因为它就是您要找的。

# javascript - Javascript字符串搜索问题

> ID：15677020
> 
> 赞同：2
> 
> 时间：2013-03-28T08:17:23.537
> 
> 标签：javascript, string, search

我是 JS 的自学成才的业余爱好者，我认为是时候在这里注册了 :)

我正在尝试（但失败）编写一个脚本，该脚本从字符串数组中取出单个字符串，并检查它是否包含下拉菜单中的某些变量关键字。我的代码：http: [//jsfiddle.net/apMsc/1/](http://jsfiddle.net/apMsc/1/)

我认为下拉菜单和search/indexOf存在一些冲突。如果关键字位于字符串的开头，我的代码似乎才有效。如果关键字被埋得更深，则`search()`返回 -1（我也尝试过`indexOf`）。

例如：

```
document.getElementById('result').innerHTML = test3array[0].indexOf(drop1); 
```

其中**test3array[0]**是 string `value1@-@ value2@-@ value1@-@ value2`，而**drop1**是菜单中的变量。

如果我搜索 value1，该脚本将起作用，但除非我将其移到开头，否则不会搜索 value2。我也尝试使用`new RegExp(drop1)`这里基于以前的主题，但没有奏效。

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:37:58.240

这是因为两者都`test3array[0]`以`drop1`换行符开头。如果您想摆脱换行符，请调用`trim()`这些变量。例如，这有效：

```
document.getElementById('result').innerHTML =
    test3array[0].trim().indexOf(drop1.trim()); 
```

编辑：这里有一些关于提问的建议：您试图找出代码中不起作用的部分并将其发布在这里。在提出问题之前找到一个最小的测试用例是一个好主意，甚至通常会引导您找到解决方案，但是当您这样做时，您还应该检查您的最小测试用例是否也重现了该错误。就其本身而言，这条线`document.getElementById('result').innerHTML = test3array[0].indexOf(drop1);`是正确的。

# sass - SASS - 不能包含指令内部的精灵

> ID：15677022
> 
> 赞同：0
> 
> 时间：2013-03-28T08:17:35.120
> 
> 标签：sass, compass-sass, zurb-foundation

我正在使用 SASS 和 Foundation 4。

由于 Foundation 4 的本质是移动优先，所以我首先从移动造型开始。所以它是这样的：

```
@import "icons/*.png";
@include all-icons-sprites;

// mobile styles
.some-el {
    // some styles
}

@media only screen and (min-width: 48em) {
   .fb {
       @include icons-sprites(facebook);
   }
} 
```

它不工作。如果我在媒体查询指令之外调用 .fb，它就可以工作。

我知道您不能在指令中扩展全局样式，但这是导入和包含精灵，这将在移动和桌面样式中需要，这就是为什么我在顶部导入精灵，并在媒体内部或外部相应地使用它们询问。

那么我有什么办法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T19:36:00.220

我通过将其更改为以下内容来解决此问题：

```
@media only screen and (min-width: 48em) {
  .fb {
     background-image: inline-sprite($icons-sprites)
     @include icons-sprites(facebook);
  }
} 
```

# android - 我们可以克隆一个 WebView 吗？

> ID：15677026
> 
> 赞同：0
> 
> 时间：2013-03-28T08:18:01.197
> 
> 标签：android, webview

我面临这个问题：我有一个加载网站的 WebView 名称 webViewA，现在我想将 webViewA 克隆到包含从 webViewA 加载的所有内容的 webViewB，我该怎么做？

谢谢！ **编辑：**

好的，我将解释我的目的，我使用[android-flip](https://github.com/openaphid/android-flip)制作 WebView 的 FlipView，一开始，我的 WebView 会加载一个 url，然后，当用户翻到下一页时，我想使用这个 webview 和 scrollTo下一页位置。使用android-flip，我无法在getView方法中返回之前加载数据的WebView，所以我认为我应该克隆那个WebView并使用克隆，滚动并返回到flipview。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-08-11T06:10:08.120

您应该能够发出请求以在后台检索 html。一旦你有了html，你就可以存储它。然后，您可以使用此存储的 html 将相同的内容加载到任意数量的 Web 视图中。无需发出网络请求。

# c# - 互操作：结构成员名称与 c# 关键字冲突 - 事件

> ID：15677034
> 
> 赞同：1
> 
> 时间：2013-03-28T08:18:20.790
> 
> 标签：c#, .net, interop

我正在使用访问控制设备（终端）。API 是原生的。要将数据发送到设备，我实例化 struct（由 API 提供），使用 [Marshal.StructureToPtr] 将其更改为 IntPtr，然后将该指针传递给 API 函数。这是我正在使用的结构。

```
[StructLayout(LayoutKind.Sequential, CharSet = CharSet.Ansi)]
public struct NameOfTheStruct
{
    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 256)]
    ushort[] event;

    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 256)]
    ushort[] someName;
}; 
```

问题是给定结构中的成员名称与 [event] 关键字重叠。如果我更改成员名称，我猜对本机 api 的函数调用将失败。

这会：

```
[MarshalAs(UnmanagedType.ByValArray, SizeConst = 256)]
[ComAliasName("event")]
ushort[] eventName; 
```

解决我的问题？或者还有其他解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:21:04.253

您可以`@`使用关键字作为标识符：

```
[MarshalAs(UnmanagedType.ByValArray, SizeConst = 256)]
ushort[] @event; 
```

在 C# 中，您可以像这样访问该字段：

```
yourInstance.@event 
```

`@`但这实际上并不是标识符的一部分 。

您可以在“2.4.2 Identifiers”下的 C# 规范中查找它：

> 前缀“@”允许使用关键字作为标识符，这在与其他编程语言交互时很有用。字符 @ 实际上不是标识符的一部分，因此标识符在其他语言中可能被视为普通标识符，没有前缀。带有@ 前缀的标识符称为逐字标识符。允许对不是关键字的标识符使用 @ 前缀，但出于风格问题强烈建议不要使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:20:04.117

尝试将 @ 放在它前面：

```
 [MarshalAs(UnmanagedType.ByValArray, SizeConst = 256)]
 ushort[] @event; 
```

# html - 网站在小屏幕上有额外的空白（小于页面宽度）

> ID：15677047
> 
> 赞同：0
> 
> 时间：2013-03-28T08:18:59.097
> 
> 标签：html, css, cross-browser, viewport

我正在为我的一个新 iOS 应用程序构建这个网站。

它在大多数台式机上都能正常工作，但在 iPad 和 iPhone 上，我在屏幕右侧有额外的空白区域，我检查了一下，它发生在每个小于 1000 像素的屏幕上。

似乎 100% 的 div 并没有填满屏幕。

可能是什么问题呢 ？

**编辑** 对不起:)。这是链接 - [EnglishClubApp](http://www.englishclubapp.com)

谢谢， 沙尼

# c - 函数声明和定义 C - 以帕斯卡定义的参数：它应该是什么？

> ID：15677048
> 
> 赞同：0
> 
> 时间：2013-03-28T08:19:03.120
> 
> 标签：c, function, coding-style, declaration, definition

我最近阅读了一段有趣的代码，但我无法识别它的含义：

```
void foo(arg1, arg2)
int arg1;
unsigned char arg2[16];
{
    //some code
} 
```

我以前从未在 C 语言中看到过类似的函数参数声明和定义。自 2003 年以来，我一直在开发软件，但它就像旧的或全新的东西。是什么样的函数定义风格？我记得，你可以用这种方式在 Pascal 中声明参数，但不能在 C 中。

安德鲁

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:24:00.383

这等于：

```
 void foo(int arg1, unsigned char arg2[16]) 
 { 
```

这是非常古老的风格。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:28:22.983

它是原始的 pre-ANSI C，如 K&R1（Kernighan 和 Ritchie 的“The C Programming Language”的原始版本。所谓的“原始”或 pre-ANSI C 编译器使用这种语法。一些现代编译器可以这样调用）他们将接受带有命令行选项的此类代码。

从那时起，C 已经发展了很长一段路，但您仍然偶尔会在较旧的程序中遇到它。

# c# - 缓存，仅在更新资源时同步线程

> ID：15677050
> 
> 赞同：0
> 
> 时间：2013-03-28T08:19:16.780
> 
> 标签：c#, caching, thread-synchronization

我在 SO 和其他网站上阅读了很多关于缓存和线程同步的内容，但我仍然无法回答我的问题。

[用于静态字典缓存的 .NET 线程安全](https://stackoverflow.com/questions/15066486/net-thread-safety-for-static-dictionary-cache)

[锁是如何工作的？](https://stackoverflow.com/questions/6029804/how-does-lock-work-exactly-c-sharp)

[为什么要对单独的对象执行锁定？](https://stackoverflow.com/questions/1873201/why-are-locks-performed-on-separate-objects?rq=1)

[http://msdn.microsoft.com/en-us/magazine/cc188793.aspx](http://msdn.microsoft.com/en-us/magazine/cc188793.aspx)

...

我正在尝试实现一个缓存，该缓存公开只能从外部读取的资源。这些资源可以更新，但不会经常更新，也不会花费太多时间。

基本上，资源是键值列表（id 和字符串）并且不是很大（一百个元素不多）。

因此，我不想在 read 方法上加锁以避免同步开销，因为它在大多数情况下都不是必需的，但我想在需要更新资源时使用它。

我的问题是：有没有办法做这样的事情：

```
public class AFTypeCache<T> where T : class
{
   private Dictionary<int, T> _types;
   private Func<Dictionary<int, T>> _dataProvider;
   private readonly object _sync = new object();

   public void UpdateData()
   {
       // here something (?) to make sure no more threads are reading the resource
       lock (_sync)
       {
           _types = _dataProvider();
       }
   }

   public IEnumerable<int, T> Get()
   {
       // thought about something like that but I'm pretty sure this won't work...
       if (_updating)
       {
           lock
           {
                return _types;
           }
       }
       else
       {
           // I know not the way to get enumerator but that's not the point
           return _types;
       }
   }
} 
```

另外，尝试实现这一点真的有用吗，还是我走错了路，应该在`Get`方法中使用锁？

**编辑：**

好的，经过更多的谷歌搜索，我会有一个更精确的问题：是否有可能知道其他线程是否正在使用类引用，如果是，请等待该线程完成使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T10:30:43.247

我错过了什么或者你正在尝试创建一个并发字典？如果是这样，为什么不使用框架一？( [http://msdn.microsoft.com/en-us/library/dd287191.aspx](http://msdn.microsoft.com/en-us/library/dd287191.aspx) )

你可以用并发字典（或者你自己的版本）来解决你的问题，使用线程ID和类名作为键，值是一个布尔值，表示线程中类的使用.

但我也看不出这样做的任何理由，并发字典已经存在于框架中。

# visual-studio-2012 - 将新的 Redistributables 添加到 VS InstallShield LE 项目

> ID：15677056
> 
> 赞同：3
> 
> 时间：2013-03-28T08:19:49.073
> 
> 标签：visual-studio-2012, installshield-le

我想添加`Microsoft SQL CE 4.0`到我的 VS InstallShield LE Project Redistributables

我已经完成了以下步骤：

*   我在此路径中创建一个**Microsoft SQL CE 4.0.prq**文件（像 Microsoft SQL CE 3.5 SP2.prq 一样修改它）和**Microsoft SQL CE 4.0**文件夹：`C:\Program Files (x86)\InstallShield\2012SpringLE\SetupPrerequisites`
*   我将**SSCERuntime_x86-ENU.exe**和**SSCERuntime_x64-ENU.exe**复制到Microsoft SQL CE 4.0 文件夹中

结果：

![VS InstallShield LE 项目可再发行组件](../Images/2c7ce12c341d30ea9a01661d04804729.png)

项目构建成功，但是安装程序无法安装SQL CE 4.0..

谁能帮我？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T20:04:33.160

InstallShield Limited Edition 没有 Professional 和 Premier 中的 Prereq 编辑器。我假设这意味着您手动编辑了 PRQ XML。如果是这样，您是如何确定架构的？没有 XSD，并且某些字段是整数，如果没有工具来帮助您解决问题，这些字段将毫无意义。

这是一篇旧博客文章，展示了如何使用该工具：

[http://blog.iswix.com/2006/11/using-installshield-12-to-install-net.html](http://blog.iswix.com/2006/11/using-installshield-12-to-install-net.html)

如果是我，我会下载 Professional 或 Premier 的 Eval 副本并将其扔到 VM 上。使用该工具编辑 PRQ，然后将其复制回您的 LE 安装。还有另一个堆栈溢出答案，有人说他们编写了自己的 PRQ 并发布了代码。

[SQL CE 4.0 作为 InstallShield 先决条件](https://stackoverflow.com/questions/9181157/sql-ce-4-0-as-a-installshield-prerequisite)

它构建的事实告诉您找到了所有不同的文件。它没有安装的事实意味着您的 XML 有问题。

# java - 如何将 XML 文件 NodeValue 插入 SQL Server 数据库？

> ID：15677059
> 
> 赞同：1
> 
> 时间：2013-03-28T08:20:03.890
> 
> 标签：java, sql-server, xml, database, insert

我正在尝试将 XML 文件插入 SQL Server 数据库，但仍然不知道下面的代码有什么问题。

我的 XML 节点名称是：作者、标题、流派、价格、发布日期、描述。

通过获取上述节点名称，我想在我的数据库表中创建列，以便我可以将节点值插入到列中。

我的 XML 文件如下所示：

```
<?xml version="1.0"?>
<Results>
<Row>
  <author>Gambardella, Matthew</author>
  <title>XML Developer's Guide</title>
  <genre>Computer</genre>
  <price>44.95</price>
  <publish_date>2000-10-01</publish_date>
  <description>An in-depth look at creating applications 
  with XML.</description>
</Row>

<Row>
  <author>Corets, Eva</author>
  <title>Maeve Ascendant</title>
  <genre>Fantasy</genre>
  <price>5.95</price>
  .
  .
  .
  .
  .    
  </Row>
  </Results> 
```

要插入数据库的 Java 代码：

```
try{
    Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver").newInstance();

    Connection con = DriverManager.getConnection(
                              "jdbc:sqlserver://localhost:1433;user=joy\studentsdatabaseName=EMPLOYEEintegratedSecurity=t    rue;");

    Statement st=con.createStatement();

    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();

    DocumentBuilder db = dbf.newDocumentBuilder();

    Document doc = db.parse("d:/books.xml");

    NodeList n1= doc.getElementsByTagName("Row");
    for(int i=0;i<n1.getLength();i++){
        String st1= n1.item(i).getFirstChild().getNodeValue();

        System.out.println(st1);    // i dont know why it doesnt print anything ?

        st.executeUpdate("insert into checktbl(sub)values('"+st1+"')");

    }
}
catch(Exception e){
    e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:26:07.720

可能是因为在作者之前，行元素之后有一个空白子文本节点。例如：以下 XML 在 Row 和作者之间没有空格：

```
<Row><author>blah</author></Row> 
```

但是以下可能有（是的，空格和换行符通常很重要！）

```
<Row>
   <author>blah</author></Row> 
```

但这也可能取决于解析器配置

# php - 获取表格中显示的查询结果

> ID：15677061
> 
> 赞同：1
> 
> 时间：2013-03-28T08:20:04.180
> 
> 标签：php, jquery, ajax

我无法弄清楚如何在表中显示查询结果。html 表单有一个允许选择机构名称的下拉菜单。该表应显示属于该机构的人员。当我通过提交按钮执行代码时，来自 pgsql 的查询结果显示在 php 页面上。Json基本上是显示出来的。我应该得到显示在应该出现在 html 页面上的表中的查询结果。有人告诉我使用 ajaxsubmit() 但我不确定如何调整下面的代码。帮助将不胜感激。谢谢你。

```
<html>
<head>

<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />

<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
<script> 
$(document).ready(function(){

   //////////////////////////////////////
  // Displays insitution names in Drop Down Menu

        //Getting the selector and running the code when clicked
        $('#selinstit').click(function(e){
                 //Getting the JSON object, after it arrives the code inside
               //function(dataI) is run, dataI is the recieved object
               $.getJSON('http://localhost/listinstitutions.php',function(dataI){
                            //loop row by row in the json, key is an index and val the row
                            var items = [];  //array
                          $.each(dataI, function(key, val) {
                            //add institution name to <option>  
                            items.push('<option>' + val['Iname'] + '</option>');
                        });//end each
                        //concatenate all html
                        htmlStr=items.join('');
                        console.log(htmlStr);
                        //append code
                        $('option#in').after(htmlStr);
                });//end getJSON
        });//end cluck

    ///////////////////////////////
   // Displays persons form an institution in a table

     $( "$subinst" ).button().click(function( event ) {
     //console.log($(this)); // for Firebug    
     $.getJSON('http://localhost/SelectPersonsBasedOnInstitution.php',function(data){   // I make an AJAX call here
     //console.log($(this)[0].url); // for Firebug   check what url I get here
                            //loop row by row in the json, key is an index and val the row
                            var items = [];  //array
                          $.each(data, function(key, val) {

                        //add table rows
                            items.push('<tr border=1><td>' + val['Pfirstname'] + '</td><td>' + val['Plastname'] + '</td><td><a mailto:=" ' + val['Pemail'] + ' " >' + val['Pemail'] + '</a></td></tr>');
                        });//end each
                        //concatenate all html
                    htmlStr=items.join('');

                        //append code
                        $('#instito').after(htmlStr);
                });//end getJSON
      event.preventDefault();
      });

    //// to send query to php file: for slect institution
    $("#subinst").click(function() {

    var url = "http://localhost/SelectPersonsBasedOnInstitution.php"; // the script where you handle the form input.

    $.ajax({
           type: "POST",
           url: url,
           data: $("#myForm").serialize(), // serializes the form's elements.
           success: function(data)
           {
               alert(data); // show response from the php script.
           }
         });

    return false; // avoid to execute the actual submit of the form.
    });

}); //end ready

</script>

</head>   

<body>

<form id="myForm" action="SelectPersonsBasedOnInstitution.php" method="post">
Select persons from an institution:
<br>                                            
<tr>
 <td>
   <select id="selinstit" name="instit">
   <option id="in">Select</option>                       
   </select>
 </td>
 <td>
   <input type="submit" id="subinst" value="Submit" /> 
 </td>
</tr>

</form>

   <table frame="border" id="instito">
   </table>

</body>
</html> 
```

SelectPersonsBasedOnInstitution.php 的 PHP 代码

```
<?php

//////////
// part 1: get information from the html form
ini_set('display_errors', 1);                                      
ini_set('display_startup_errors', 1);

foreach ($_REQUEST as $key => $value){
 $$key=$value;  
}

// part2: prepare SQL query from input
$sqlquery= sprintf('SELECT "Pfirstname", "Plastname", "Pemail" FROM "PERSON"
LEFT JOIN "INSTITUTION" ON
"PERSON"."Pinstitution"="INSTITUTION"."Iinstitution"
WHERE "Iname" = \'%s\'',$instit);
//echo $sqlquery;

/////////
// part3: send query
$dbh = pg_connect("host=localhost dbname=mydv user=***password=***");
$sql=  $sqlquery;
$result = pg_query($dbh,$sql);
$myarray = pg_fetch_all($result);

$jsontext = json_encode($myarray);
echo($jsontext);

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:29:22.800

我认为您应该尝试`append`而不是`after`尝试。

**编辑**

请使用以下功能

```
var htmlStr = ""; //to store html
$(document).ready(function(){
    //// to send query to php file: for slect institution
        $("#subinst").click(function(event) {

        var url = "http://localhost/SelectPersonsBasedOnInstitution.php"; // the script where you handle the form input.

        $.ajax({
               type: "POST",
               url: url,
               data: $("#myForm").serialize(), // serializes the form's elements.
               success: function(data)
               {
                   //alert(data); // show response from the php script.
                   var json_data = $.parseJSON(data);
                   var items = [];  //array
                              $.each(json_data, function(key, val) {

                            //add table rows
                                items.push('<tr border=1><td>' + json_data[key].Pfirstname + '</td><td>' + json_data[key].Plastname + '</td><td><a mailto:=" ' + json_data[key].Pemail + ' " >' + json_data[key].Pemail + '</a></td></tr>');
                            });//end each
                            //concatenate all html
                        htmlStr=items.join('');

                            //append code
                            $('#instito').append(htmlStr);
               }
             });

        event.preventDefault(); // avoid to execute the actual submit of the form.
        });

});//ready() 
```

`$( "#subinst" ).button().click(function( event ) {`而且我认为您可以从脚本中删除事件处理程序。

# javascript - Ajax 请求返回未定义

> ID：15677064
> 
> 赞同：1
> 
> 时间：2013-03-28T08:20:12.007
> 
> 标签：javascript, jquery, html, ajax, ajax-request

我有以下ajax请求：

```
$.ajax({
    type:'POST',
    url:'../php/anmelden_info.php',
    data:{
        kat :  'Freizeitfussballer'
    },
    success: function(data){
        alert(data[0].anmelde_info);
    }
}); 
```

哪个警报`undefined`但我不知道为什么，因为当我进入控制台并寻找答案时，我得到了：

```
[{"kategorien_id":"3","kat_name":"Fasnacht","anmelde_info":"\n<b>Informationen:.... ......<\/b>\n<br \/>\nDer Turniereinsatz betr\u00e4gt 100.- pro Mannschaft."}] 
```

而且我不知道我做错了什么！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:35:56.083

`dataType: json`在你的jquery调用中 设置
如下

```
 $.ajax({
    type:'POST',
     url:'../php/anmelden_info.php',
     data:{ kat :  'Freizeitfussballer'},
     dataType: json,
     success: function(data){
      console.dir(data);
     }
    }); 
```

或者如果它不起作用试试这个

```
 $.ajax({
    type:'POST',
     url:'../php/anmelden_info.php',
     data:{ kat :  'Freizeitfussballer'},
     dataType: json,
     success: function(data){
     data = JSON.parse(data);
     console.dir(data);
     }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:26:08.640

```
Try the below code first whilst you have the developer tools open in either Firebug or Chrome.  This will show you the structure of the data obejct passed into the sucess method.

$.ajax({
    type:'POST',
     url:'../php/anmelden_info.php',
     data:{
      kat :  'Freizeitfussballer'
     },
     success: function(data){
      console.dir(data);
     }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:31:11.700

您必须`$.each()`在成功功能中使用：

```
success: function(data){
    $.each(data, function(i, item){
       console.log(data.anmelde_info);
    });
} 
```

我建议你使用`console.log()`更好的调试。

# r - 第一次根据数字出现的条件选择行

> ID：15677073
> 
> 赞同：2
> 
> 时间：2013-03-28T08:20:37.540
> 
> 标签：r, select, row, conditional-statements

我想查找第一次出现定义数字（例如 2）的行？

例如：

```
group <- c("a", "a", "a", "a", "a", "b", "b", "b", "b", "b")
value <- c(1, 1, 2, 2, 1, 1, 2, 1, 2, 3)
GOAL <- c("FALSE", "FALSE", "TRUE", "FALSE", "FALSE", "FALSE", "TRUE", "FALSE", "FALSE", "FALSE")
data <- data.frame(group, value, GOAL)
data 
```

在“目标”列中将是结果。提前谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:49:08.763

这种方式假设每个`group`至少有一个 2。尽管您的样本数据是按组排序的，但此处使用的方法并不依赖于此。

```
# given vector v, return vector of FALSEs, except at the first 2
f <- function(v) replace(logical(length(v)), which(v == 2)[1], TRUE)
transform(data, GOAL=as.logical(ave(value, group, FUN=f)))
#    group value  GOAL
# 1      a     1 FALSE
# 2      a     1 FALSE
# 3      a     2  TRUE
# 4      a     2 FALSE
# 5      a     1 FALSE
# 6      b     1 FALSE
# 7      b     2  TRUE
# 8      b     1 FALSE
# 9      b     2 FALSE
# 10     b     3 FALSE 
```

`as.logical`如果需要`TRUE`/ ，调用 to是必要的`FALSE`，因为`ave`它总是返回一个数字向量。没有`as.logical`，你会得到 0 和 1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:48:54.600

或者你可以做

```
valueFirst <- 2
data[data$value==valueFirst,][1,] 
```

然后你有行。如果您只想将 GOAL 作为输出：

```
data[data$value==valueFirst,][1,3] 
```

# sql - 在sql中制作多项选择清单

> ID：15677077
> 
> 赞同：0
> 
> 时间：2013-03-28T08:20:46.190
> 
> 标签：sql, sql-server

我正在研究 Sql server 并尝试做不同的例子。你能建议我在这种情况下使用什么吗？下面是我的 ckecklist（不是复选框，在不同的窗口中作为列表打开）：

```
Colors 
   Red
   Blue
  White
  Black
  Green 
```

从表 item.colors

想要根据选择的记录提供搜索。例如，假设选择了“红色”和“蓝色”，并且希望从表中获取相关记录作为输出。

```
Colors
  Red     v
  Blue    v
  White
  Black 
  Green 
```

所以输出：

```
 id    Name      Colors
  1    T-shirt    Red      
  2    Boots      Blue 
```

任何建议如何做到这一点？即使使用参数，那么在数百条记录的情况下该怎么办？我们不能有 100 个参数）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:42:58.563

您可以使用两个选项（可能更多）：

A. 使用字符串参数

首先，在应用程序中将您的值连接成单个字符串并将其作为一个 varhcar 参数发送。它可能看起来像这样：'Red;Blue'（或者可能是一些 ID）。之后 SQL 过程应该将字符串拆分回值列表并将其放入#temp 表中。网络上有很多字符串拆分功能。您可以轻松地搜索它或查看此链接以获取一些想法：[如何拆分字符串以便访问项目 x？](https://stackoverflow.com/questions/2647/split-string-in-sql) 最终只需将#temp 表中的值与您的表连接起来即可获得所需的数据。

B. XML

这是一个更“花哨”的选择。将您的值从应用程序放入 XML 并将其作为 XML 参数传递给存储过程。我不知道您使用哪种编程语言，但应该有提供的方法来执行此操作。然后在您的过程中 - 如果您知道如何 - 您可以直接将 XML 参数与您的表连接以过滤数据，或者您可以再次将它们溢出到 #temp 表。再一次，那里有大量关于如何使用 XML 的信息。一些示例： [从 SQL Server 2008 中的 XML 字段中选择值](https://stackoverflow.com/questions/899313/select-values-from-xml-field-in-sql-server-2008) [http://blog.sqlauthority.com/2010/06/23/sqlauthority-news-guest-post-select-from-xml-jacob-sebastian/](http://blog.sqlauthority.com/2010/06/23/sqlauthority-news-guest-post-select-from-xml-jacob-sebastian/)

编辑：（第三种选择，最简单，但我不推荐）

C. 动态 SQL

就像在选项 A 中一样创建连接字符串，但在过程内部 - 不要将其拆分回值，而只需使用 SELECT 语句将其粘合到字符串并使用 sp_executesql 或 EXEC。

```
SET @sql = 'SELECT * FROM YourTable WHERE Color IN (' + @parameter + ')'
EXEC(@sql) 
```

# windows - 如何确定 dll 是 unicode 还是 ansi 代码？

> ID：15677081
> 
> 赞同：3
> 
> 时间：2013-03-28T08:21:04.893
> 
> 标签：windows, dll, visual-c++

我想调用一个DLL。但是，我不知道 DLL 的正确字符集是什么。

所以，我不知道我的 LoadLibrary 应该使用 unicode 还是 ANSI 代码。有什么方法可以知道 dll 是在哪种模式下构建的？

# html - 在一些文本html之前和之后需要一条虚线

> ID：15677086
> 
> 赞同：1
> 
> 时间：2013-03-28T08:21:28.627
> 
> 标签：html

在我的网站中，我需要一些文字和前后的虚线。就像是：

--------图片宽度（100px）-------------------------

有人可以帮我完成这个。我尝试使用谷歌搜索，但找不到任何东西。边框中有完整的虚线/线，但没有这样的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T08:41:42.583

设置一个容器并创建一个`<div>`位于中间的带有虚线边框的容器。

见[演示](http://jsfiddle.net/laucheukhim/k5afz/2/)。

```
<div class='container'>
    <img src='http://dummyimage.com/100/000/fff' />  
    <div class='line'></div>
</div> 
```

```
.container {
    position: relative;
    text-align: center;
}

.line {
    border-top: 1px dashed #000;
    width: 100%;
    position: absolute;
    top: 50%;
    z-index: -2;
} 
```

同样对于文本，给它一些背景和填充，你很高兴。

```
<div class='container'>
    <span class='text'>some text</span>
    <div class='line'></div>
</div> 
```

```
.text {
    background-color: #FFF;
    padding: 0 3px;
} 
```

# mysql - php mysql 添加 1 年至今，然后比较新日期是否会在 30 天内到来

> ID：15677089
> 
> 赞同：1
> 
> 时间：2013-03-28T08:21:34.967
> 
> 标签：mysql, date

我一直在编写一个小脚本，该脚本应该在该日期前 30 天检查到期日期并发送电子邮件提醒。

我有一个表，其中的列名称`'completed'`表示课程完成和完成的日期。每门课程有效期为1年。

我一直在尝试做的是首先在 ' ' 中添加一整年，`completed`然后检查该新日期是否恰好在 30 天之前`now().`

示例：课程于 2012 年 12 月 31 日结束。有效期至 2013 年 12 月 31 日，因此如果`TODAY`是 2013 年 12 月 1 日，则应发送电子邮件提醒。

我有这个小脚本：

```
 SELECT distinct
     userID
     , completed+INTERVAL 1 YEAR AS expires
   FROM activity
  WHERE completed > NOW() + INTERVAL 30 DAY 
```

但显然它不起作用......有人能指出我正确的方向吗？

谢谢！干杯，格雷格

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:25:59.700

为了提高效率，你真正需要做的是`+INTERVAL 1 YEAR`深入到 WHERE。您可以使用简单的代数来做到这一点。

```
completed + (1 YEAR) > NOW + (30 DAYS) 
```

等同于

```
completed  > NOW + (30 DAYS) - (1 YEAR) 
```

给予

```
SELECT distinct
    userID,
    ADDDATE(completed,INTERVAL 1 YEAR) AS expires
FROM activity
-- Used CURRENT_DATE so that time of day is not a factor
WHERE completed > SUBDATE(ADDDATE(CURRENT_DATE,INTERVAL 30 DAY), INTERVAL 1 YEAR) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:24:02.713

嗯，这个：

```
SELECT distinct
     userID
     , completed+INTERVAL 1 YEAR AS expires
   FROM activity
  WHERE completed+INTERVAL 1 YEAR > NOW() + INTERVAL 30 DAY 
```

# android - 服务在android中运行时弹出窗口

> ID：15677092
> 
> 赞同：2
> 
> 时间：2013-03-28T08:21:40.597
> 
> 标签：android, android-layout, android-intent, android-service

谁能告诉我如何在服务在 android 中运行时弹出一个窗口，这意味着，我正在开发一个应用程序，当在 android 手机中检测到来电时会弹出一个窗口。我搜索了很多，但没有找到任何确切的解释。所以请告诉我我该怎么做。

我正在使用这段代码。当我运行这个应用程序时，它强行退出。

```
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.telephony.PhoneStateListener;
import android.telephony.TelephonyManager;
import android.os.Bundle;

public class CallHelper extends Activity
{

    /**
     * Listener to detect incoming calls. 
     */
    public class CallStateListener extends PhoneStateListener
    {

        @Override
        public void onCallStateChanged(int state, String incomingNumber) 
        {

            switch (state) {
            case TelephonyManager.CALL_STATE_RINGING:
                // called when someone is ringing to this phone
                    Intent i = new Intent(getApplicationContext(), Out.class);
                    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);   //must be provided
                    getApplicationContext().startActivity(i);

                break;
            }
        }
    }

    /**
     * Broadcast receiver to detect the outgoing calls.
     */

    private Context ctx;
    private TelephonyManager tm;
    private CallStateListener callStateListener;

    public CallHelper(Context ctx) 
    {
        this.ctx = ctx;     
        callStateListener = new CallStateListener();

    }

    /**
     * Start calls detection.
     */
    public void start() 
    {
        tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);
        tm.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);
    }

    /**
     * Stop calls detection.
     */
    public void stop() 
    {
        tm.listen(callStateListener, PhoneStateListener.LISTEN_NONE);

    }
       //Intent intent = new Intent(); 
       //startService(intent);
} 
```

提前致谢！！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-24T05:56:03.013

```
you can use the Broadcast receiver in your  service in manifest.xml
---------------------------------------------   
<receiver android:name="com.pericent.saferide.recciver.InComingCall" >
  <intent-filter>
       <action android:name="android.intent.action.PHONE_STATE" />
            </intent-filter>
        </receiver>
--------------------------------------------------
and when call is coming you call your activity in on receive method  of BroadcastReciver

and you change your code listener like this
-------------------------------------------------- 
switch(state) {
            case CALL_STATE_RINGING:
                checkCallAsUnreceived(incomingNumber);
                break;
            case CALL_STATE_OFFHOOK:    //call was received
                checkCallAsReceived();
                break;
            case CALL_STATE_IDLE:       //no active calls
                sendMsgIfCallWasntReceived();
                break;
        }
-------------------------------------------------------------

and for more detail you can see the below url:-
https://github.com/MarcinOS/AutoResponder 
```

# spring - 在侦听器中获取 Servlet 请求对象？

> ID：15677093
> 
> 赞同：0
> 
> 时间：2013-03-28T08:21:43.487
> 
> 标签：spring, httprequest

我怎样才能得到我配置的`HttpServletRequest`对象。`org.springframewrok.web.context.request.RequestContextListener``web.xml`

我正在`Spring 3.0`使用`Struts2`.

我知道我可以`ServletContext`通过实现来获得`ServletContextListener`，但我需要`request`侦听器中的对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:26:38.277

使用[`RequestContextHolder`](http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/context/request/RequestContextHolder.html)which是. `requestDestroyed`_`requestInitialized`[`RequestContextListener`](http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/context/request/RequestContextListener.html)

# php - PHP - 在数字之间添加空格的正确方法？

> ID：15677094
> 
> 赞同：6
> 
> 时间：2013-03-28T08:21:50.890
> 
> 标签：php, numbers, space

如果您知道答案，可能是一个简单的问题。

**是）我有的**

没有空格的数字。

```
$str = 10000;
$str2 = 100000; 
```

**我想要的是**

将上面转换为下面...

```
$str = '10 000';
$str2 = '100 000'; 
```

**自己的想法**

我想到了一些 strpos、regexp、str_replace 但这真的是解决这个问题的方法吗？我会接受最正确、最简短的代码答案，而且不乏速度。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-28T08:25:48.513

使用[number_format](http://php.net/number_format)函数。对于`space`thoudsandsSparator 如下。

```
number_format($number, 0, '.', ' ') 
```

[键盘演示。](http://codepad.org/Y0XCnRhC)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-28T08:23:35.330

不要再看了[`number_format`](http://php.net/number_format)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-28T08:24:12.167

使用[number_format](http://php.net/number_format)：

```
$formatted = number_format(
    $number, $numberOfDecimals, $decimalSeperator, $thousandsSeperator); 
```

# ruby-on-rails - 在哪里保存额外的参数在 rails

> ID：15677097
> 
> 赞同：1
> 
> 时间：2013-03-28T08:22:02.407
> 
> 标签：ruby-on-rails

我几乎没有包含大量记录的大型数据库（看起来像 city-city-price）。我还有十几个修改价格的参数。我应该在哪里保存这个参数？我看到 3 个选项：

*   为每个参数创建带有字段的数据库（但这将是只有一条记录的数据库并且可扩展性不好）
*   用一个字段创建数据库并为每个参数记录（但我应该记住每条记录的含义）
*   控制器中的硬编码参数

所有选项似乎都不优雅。这种情况还有其他好的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:38:14.373

我假设您想将固定参数存储在某处，例如城市名称或价格货币。这些是项目列表而不是动态变量。

处理它的标准方法是使用像 yaml 这样的配置文件。这使您能够将键映射到参数的值。

如果适合，我建议您查看[YAML 配置文件](http://railscasts.com/episodes/85-yaml-configuration-file?view=comments)railscast：

否则，您还可以创建一个新模型来保留数据库中的所有值。例如，如果您想在生产环境中动态更改列表，这种选择可能会更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:31:06.633

YAML 是一种在整个应用程序中处理某些值的好方法，无需任何模型关联。

否则，只需创建一个类似的文件`config/initializers/constants_file.rb`并将值放在该文件中，以便在重新启动服务器后可以在任何地方访问这些值。

例如，在`config/initializers/constants_file.rb`我有以下

```
CURRENCY_TYPES = {:city1 => "value1", :city2 => "value2", ...}

```

**您可以从CURRENCY_TYPES[:city1]**等应用程序的任何位置访问它。

或者您仍然可以在模型中创建一个常量，如果需要，您可以使用它。

# shell - 有没有办法在 shell 脚本中调用 vim 宏？

> ID：15677099
> 
> 赞同：4
> 
> 时间：2013-03-28T08:22:06.300
> 
> 标签：shell, vim

我正在使用 shell 脚本和 vim 宏在 unix 环境中进行数据处理。以下是步骤：

1.  我使用 grep 从日志文件中获取一些有用的行。
2.  vim 中的宏用于操作数据。
3.  同样，使用 shell 脚本来处理数据。

我必须对许多文件执行此操作。所以，我想知道有没有办法通过特殊的包装器在 shell 脚本中调用 vim 的宏。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-28T08:43:45.247

您可以触发录制的宏，例如

```
$ vim -c "normal! @q" file 
```

这是一种脆弱的做法。

## 备择方案

除非您真的需要特殊的 Vim 功能，否则您最好使用*非交互式工具*，如`sed`,`awk`或 Perl/Python/Ruby/*您最喜欢的脚本语言*。

也就是说，你可以以非交互方式使用 Vim：

## 静默批处理模式

对于非常简单的文本处理（即像增强的 'sed' 或 'awk' 一样使用 Vim，也许只是受益于`:substitute`命令中增强的正则表达式），请使用*Ex-mode*。

```
REM Windows
call vim -N -u NONE -n -es -S "commands.ex" "filespec" 
```

注意：静默批处理模式`-s-ex`会弄乱 Windows 控制台，因此您可能需要`cls`在 Vim 运行后进行清理。

```
# Unix
vim -T dumb --noplugin -n -es -S "commands.ex" "filespec" 
```

注意：如果“commands.ex”文件不存在，Vim 会挂起等待输入；最好事先检查它的存在！或者，Vim 可以从标准输入读取命令。如果使用 - 参数，您还可以使用从 stdin 读取的文本填充新缓冲区，并从 stderr 读取命令。

## 全自动

对于涉及多个窗口的更高级处理，以及 Vim 的真正自动化（您可能与用户交互或让 Vim 运行以让用户接管），请使用：

```
vim -N -u NONE -n -c "set nomore" -S "commands.vim" "filespec" 
```

以下是使用的参数的摘要：

```
-T dumb           Avoids errors in case the terminal detection goes wrong.
-N -u NONE        Do not load vimrc and plugins, alternatively:
--noplugin        Do not load plugins.
-n                No swapfile.
-es               Ex mode + silent batch mode -s-ex
                  Attention: Must be given in that order!
-S ...            Source script.
-c 'set nomore'   Suppress the more-prompt when the screen is filled
                  with messages or output to avoid blocking. 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-28T08:26:13.570

我不清楚你的要求。但也许 vim -s, vim -W, vim -W 可以帮助你！

# html - 显示没有 javascript 的隐藏图像

> ID：15677105
> 
> 赞同：1
> 
> 时间：2013-03-28T08:22:26.837
> 
> 标签：html, css, image

我看到人们使用 jQuery 隐藏/显示图像的许多问题，但我没有安装 jQuery，我更喜欢使用 Html/css？

有没有办法在不使用任何 JavaScript 的情况下单击按钮时显示图像？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:31:05.423

正如@Gnuey 所说，只需从主机引用它就可以轻松安装 jQuery。google 和 Microsoft 都托管 jQuery，但大多数人使用 google。我建议您查看他的评论以获取更多信息。

实际上，@Dipesh Parmar 您可以在纯 css 中完成这项工作，但您需要一个解决方法：

给图像一个 id，然后让按钮转到那个 id：

```
<a href="/#revealonclick"><button>Click to reveal image</button></a>
<img alt="" id="revealonclick" src="/image/pic.png"> 
```

然后在图片的CSS中：

```
#revealonclick{
    display: none;
}

#revealonclick:target{
    display: inline;
} 
```

是的。这是可能的。CSS3 很棒。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T08:33:02.733

您可以使用`checkboxes`切换点击。

**HTML**

```
<input type="checkbox" id="toggle">
<label for="toggle">Click me!</label>
<img src="http://image.shutterstock.com/display_pic_with_logo/232318/232318,1264892711,1/stock-photo-sleeping-pug-puppy-45602341.jpg" alt="" /> 
```

**CSS**

```
img{display:none;}
input[type=checkbox]:checked ~ img {
    display:block;
} 
```

[JSF](http://jsfiddle.net/acE5S/)中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:28:00.377

点击 DOM 是浏览器`event`，`css`无法处理，`events`因此您需要使用**javascript**、**jQuery**或**mootools**等`client-side`脚本。

 ******* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T08:30:24.580

你不需要 jQuery 来做到这一点。只需使用没有任何库的纯 Javascript。

有一些 CSS 事件，最常见的是 :hover，但在你的情况下 :active 是最接近的。然而。使用纯 CSS 没有好的方法可以做到这一点。这里也是一个链接，你只能用 CSS 做些什么：

[http://www.ryancollins.me/?p=1041](http://www.ryancollins.me/?p=1041)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T08:36:28.933

您可以使用 JavaScript 的基本形式如下：（如果您严重反对**安装**jQuery）

```
function toggleImage() {
    var imgId = document.getElementById('image');
    imgId.style.visibility = (imgId.style.visibility === "hidden" || imgId.style.visibility === "") ? "visible" : "hidden";
} 
```

HTML 在哪里

```
<img id="image" src="http://i458.photobucket.com/albums/qq305/Ellerwind1982/souleater5.jpg" />
<button id="sth" onclick="javascript: toggleImage();">Hi</button> 
```******

# xml - java - 使用dom在java中解析xml时，将xml代码放置在eclipse目录结构中的位置

> ID：15677107
> 
> 赞同：1
> 
> 时间：2013-03-28T08:22:49.963
> 
> 标签：xml, xml-parsing

我想在 DOM 解析器的帮助下使用 java 解析 XML 文件，我想知道在 eclipse 的目录结构中我必须将 XML 文件和 .java 文件存储在哪里。现在我的困惑是在 eclipse 的目录结构中添加这两个文件的位置？这个你能帮我吗，

```
<?xml version="1.0" encoding="UTF-8"?>
<stocks>
<stock>
<symbol>Citibank</symbol>
<price>100</price>
<quantity>1000</quantity>
</stock>
<stock>
<symbol>Axis bank</symbol>
<price>90</price>
<quantity>2000</quantity>
</stock>
</stocks> 
```

my.java 代码在这里。

```
import java.io.File;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

public class DOMExampleJava {

public static void main(String args[]) {
try {

File stocks = new File("Stocks.xml");
DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
Document doc = dBuilder.parse(stocks);
doc.getDocumentElement().normalize();

System.out.println("root of xml file" + doc.getDocumentElement().getNodeName());
NodeList nodes = doc.getElementsByTagName("stock");
System.out.println("==========================");

for (int i = 0; i < nodes.getLength(); i++) {
Node node = nodes.item(i);

if (node.getNodeType() == Node.ELEMENT_NODE) {
Element element = (Element) node;
System.out.println("Stock Symbol: " + getValue("symbol", element));
System.out.println("Stock Price: " + getValue("price", element));
System.out.println("Stock Quantity: " + getValue("quantity", element));
}
}
} catch (Exception ex) {
ex.printStackTrace();
}
}

private static String getValue(String tag, Element element) {
NodeList nodes = element.getElementsByTagName(tag).item(0).getChildNodes();
Node node = (Node) nodes.item(0);
return node.getNodeValue();
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T13:21:37.950

根据您的问题，我觉得您还没有完成基本的 Eclipse 设置。在尝试您的 XML 解析程序之前，我建议先阅读这个[eclipse 入门教程](http://www.cis.upenn.edu/~matuszek/cit591-2004/Pages/starting-eclipse.html)并运行教程中给出的基本程序。这将确保您的 Eclipse 设置已准备就绪。

接下来，将您的`DOMExampleJava`类添加到项目中（一旦您完成了本教程，您就会知道项目所指的内容）并确保编译时没有错误。然后尝试运行您的解析示例。

至于 XML 文件的位置，鉴于您刚刚在`File`构造函数中指定了文件名，您必须将文件放在项目目录中。另一种方法是在`File`构造函数中指定文件的绝对路径，例如，`File("/home/some/directory/stock.xml")`在 linux 或`File("C:/Answers/File/data.txt")`windows 上；这样您就不必担心它相对于 eclipse 目录结构的位置。

如果您有任何问题，请在评论中告诉我。

# c++ - 如何在 opencv 中访问 yml 文件的元素？

> ID：15677109
> 
> 赞同：1
> 
> 时间：2013-03-28T08:22:57.687
> 
> 标签：c++, c, opencv, matrix, yaml

我有一个看起来像这样的 yml 文件：

%YAML:1.0

```
X: !!opencv-matrix
    rows: 13
    cols: 40
    dt: f
    data: [ 166.000000, 162.666667, 159.333333, 
        156.000000, 152.666667, 149.333333, 146.000000, 
        142.333333, 138.666667, 135.000000, 131.333333,.... etc 
```

如何将此文件转换为矩阵形式并访问其元素。我必须对这个矩阵做一些数学运算。我编写了以下代码来读取此文件。如果我想说从第二列中减去它的第一列，我该怎么办？请帮忙。

代码：

```
#include "stdafx.h"
#include "cv.h"
#include "highgui.h"

using namespace cv;
using namespace std;

int main (int argc, char * const argv[])
{   
Mat X;
string XFile  = "newStorageFile.yml";
FileStorage fsDemoX(XFile , FileStorage::READ);
fsDemoX["X"] >> X;

cout << "Print the contents of X:" << endl;
cout << X << endl << endl;

fsDemoX.release();

return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T12:00:42.627

这是一个以 yml 格式存储的 OpenCV 矩阵。您拥有在文档的[持久性页面](http://docs.opencv.org/modules/core/doc/xml_yaml_persistence.html)中加载矩阵所需的所有文档。

然后，您可以将矩阵处理[为系数数组](http://docs.opencv.org/modules/core/doc/operations_on_arrays.html)或[矩阵](http://docs.opencv.org/modules/core/doc/basic_structures.html#mat)（在代数意义上）。

作为旁注，您不需要调用该`fsDemoX.release()`方法，当到达作用域的末尾时会自动调用析构函数。

# lucene - Jackrabbit 2.6 对 Lucene MMapDirectory 的支持

> ID：15677111
> 
> 赞同：0
> 
> 时间：2013-03-28T08:23:04.770
> 
> 标签：lucene, mmap, jackrabbit

我想知道 Jackrabbit (2.6.0) 是否可以设置为使用 Lucene 的 MMapDirectory。我在 jackrabbit-core 中找不到任何与 Lucene 的 MMapDirectory 的 FSDirectoryManager/RAMDirectoryManager 等效的管理器类。

提前致谢。

# c# - 如何在javascript的警报弹出窗口中显示字符串数组值

> ID：15677116
> 
> 赞同：0
> 
> 时间：2013-03-28T08:23:11.490
> 
> 标签：c#, javascript, asp.net

我必须在 javascript 警报弹出窗口中显示字符串数组，该弹出窗口将显示字符串索引或序列号，然后在字符串数组值之后显示空格，然后换行。然后以相同的方式显示该数组字符串中的所有值。我的代码不起作用。

```
 function Test(Str)
    {
    for(var i = 1; i <= Str.length; i++) 
    alert("Str["+i+"]: "+Str[i],"/n");

    }

        </script>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
        <asp:Button ID="Submit" runat="server" Text="Submit" onclick="Submit_Click" />  
    </div>

    C#:

    protected void Submit_Click(object sender, EventArgs e)
        {
            string[] Str = new string[5];
            Str[0] = "string1";
            Str[1] = "string2";
            Str[2] = "string3";
            Str[3] = "string4";
            Str[4] = "string5";
            Submit.Attributes.Add("onclick", "javascript:Test(Str);");
        }

i need dispaly in following way:

1: string1
2: string2
3: string3
4: string4
5: string5 
```

javascript 弹出窗口不起作用。我怎样才能做到这一点..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:30:58.817

我没有看到你的`test2`功能。而且我认为你在某个地方复制了这个函数而不是修改它：

```
function Test(Str)
{
for(var i = 1; i <= Str.length; i++) 
alert("yourArr["+i+"]: "+yourArr[i],"/n");

} 
```

如果上面的函数是你使用的，那么它有一些错误：

*   使用 yourArr[i] 而不是 Str[i]
*   使用 , (在 "/n" 之前) 而不是 +
*   使用“/n”而不是“\n”
*   警告每个字符串而不是一组字符串

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:47:17.697

您需要将**C# 字符串数组序列化为 javascript 数组**。

**C#代码：**

```
 string[] Str = new string[5];
    Str[0] = "string1";
    Str[1] = "string2";
    Str[2] = "string3";
    Str[3] = "string4";
    Str[4] = "string5";
    JavaScriptSerializer js = new JavaScriptSerializer();
    string jsArray = js.Serialize(Str);
    Submit.Attributes.Add("onclick", "javascript:Test(" + jsArray + ");"); 
```

另外，**修改 Javascript 函数**：

```
 function Test(Str) {
        for (var i = 1; i <= Str.length; i++)
            alert("yourArr[" + i + "]: " + Str[i], "/n");
    } 
```

# jsp - 在 textarea 中一次填充一个元素的 List 字符串

> ID：15677121
> 
> 赞同：0
> 
> 时间：2013-03-28T08:23:40.930
> 
> 标签：jsp, session, servlets, textarea, jstl

我正在使用`HttpSession session`and在 jsp`session.setAttribute("property_name", list_of_strings);`中填充 a ，但我希望文本一次填充 List 一个项目并在新行中填充。有人能告诉我怎么做吗？`List<String>``<textarea><c:forEach var="word" items="${property_name}">${word}</c:forEach>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:55:16.267

您可以尝试将此 HTML 字符用作 textarea 中的行分隔符：

```
 &#10; 
```

在您的代码中：

```
 <c:forEach var="word" items="${property_name}">${word} &#10;</c:forEach> 
```

# opencv - OpenCV & C++：全局 cv::Mat 对象返回错误值

> ID：15677122
> 
> 赞同：0
> 
> 时间：2013-03-28T08:23:48.643
> 
> 标签：opencv, c++-cli, global-variables

我正在尝试在 Windows 窗体中使用 OpenCV。我创建了一个全局 cv::Mat 对象，并期望该对象供其他函数使用。但是，每次我初始化全局 cv::Mat 对象并退出/返回函数时，我的全局 cv::Mat 对象的值都会自动更改，原因不明。

一个示例代码片段如下：

```
private: cv::Mat *cvImage; 
```

出于某种原因，我创建了一个名为 decode() 的函数，它返回 cv::Mat。

```
void copy(){cvImage = &decode();} 
```

cvImage 无法通过上述代码获得正确的值。通常是 data、dataend、datalimit、datastart 和 rows 为 0 或意外值。

即使我尝试使用局部变量，比如 cv::Mat img 来做所有事情然后运行 `cvImage = &img;` ，每当函数退出或返回时，cvImage 的值也会意外改变。

我想知道为什么会发生这种情况？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:17:52.420

您在那里使用指针会产生未定义的行为。不要将它们与垫子一起使用！

*不* `cv::Mat *cvImage;`

*做* `cv::Mat cvImage;`

cv::Mats 被引用，那些指针会对它们造成严重破坏。

提醒一句：

```
Mat a,b;  b=a;         // shallow copy, shared pixels (that's probably, what you wanted)
Mat a,b;  b=a.clone(); // deep copy, b will have y copy of a's pixels 
```

**编辑：**

“出于某种原因，我创建了一个名为 decode() 的函数，它返回 cv::Mat。”

这是你的第一个问题，这里 decode 创建了一个临时的（离开 copy() 后被销毁）

无效复制(){cvImage = &decode();}

然后你返回它的地址。

因为看起来，cli 只能处理 POD 对象（如指针）

1.  让解码返回 a Mat*，而不是获取临时地址

    Mat * decode() { Mat *m = new Mat(100,100,CV_UC8); ...返回米；}

2.  让副本删除旧的

    void copy(){ if (cvImage) 删除 cvImage; cvImage = 解码（）；}

# ember.js - 提交更改后更新记录？

> ID：15677129
> 
> 赞同：0
> 
> 时间：2013-03-28T08:24:18.293
> 
> 标签：ember.js

我有一个编辑单个记录的表单。我使用 提交更改`record.get('transaction').commit();`，一切顺利 - 它被正确存储，没有发生错误，并且被标记为“不脏”。但进一步检查显示，该记录并未使用已提交的数据进行更新！刷新会重新加载它，然后就可以了，但是在收到 PUT 格式 {'objects': [new record data is here]} 的响应后，它不应该自动刷新有问题的记录吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:45:59.743

PUT 响应应该在`{object: {field: value}}`not中包含更新的记录`objects`

# css - Bootstrap - 为什么：Row 移除 margin-left 而不是 Row-fluid

> ID：15677137
> 
> 赞同：7
> 
> 时间：2013-03-28T08:25:13.673
> 
> 标签：css, twitter-bootstrap, margin

**排 ：** `margin-left: -20px;`

**行流体：**没什么`margin-left`。

为什么 row-fluid 没有`margin-left`通过某种方式去除它`%`？

*编辑：*
`.row-fluid` >`.span`正在添加`margin-left`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T08:45:26.127

您可以在此处找到有关 Bootstrap 流畅方面的更多信息：http: [//twitter.github.com/bootstrap/scaffolding.html#fluidGridSystem](http://twitter.github.com/bootstrap/scaffolding.html#fluidGridSystem)

这是因为`<span>`封装在其中的标签`.row`具有`margin-left: 20px`. 负左边距是为了解决这个问题，以便该行正确显示。有了这种`.row-fluid > span`关系，该封装内的 span 标签没有左边距，因此不需要在其中更正`.row-fluid`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-12T17:14:51.223

这很难解释，你的答案是**粗体**，其余的是上下文。

## 静态布局的逻辑是什么？

`span`元素必须与其他元素`margin-left: 20px`保持分离`span`。

该`row`元素必须`margin-left: -20px`确保第一个`span`- 或任何`span`放置在“左列”的元素 - 放置在`container`.

它之所以起作用，是因为 static`row`没有设置它的`width`，所以`margin-left: -20px`不会减去元素的宽度，继续填充它的祖先。

## 在流体布局中会发生什么？

我们可以尝试相同的逻辑，但不同之处在于元素的and`width`以百分比定义，所以**如果我们增加****元素的实际宽度（通过应用负数****），这些****元素也会增加它的大小，所以它们不会适合在****.**`margin-left``span`**`row``margin``span``container`**

所以流体布局使用不同的技术来实现类似的结果，只需将 a`margin-left: 0`应用于`:first-child`.

## 深层发掘

为什么不在两种布局中使用相同的策略呢？当然，这将简化实现，但静态技术（不适用于流体）更强大。这是因为任何落在“左列”中的元素，无论是否`:first-child`存在，都将成为“边距更正”。静态布局需要这种行为来舒适地提供响应性，没有它，流体布局可以或多或少地管理。

# shell - 从 Unix 脚本运行 sftp 命令时禁用密码提示

> ID：15677138
> 
> 赞同：0
> 
> 时间：2013-03-28T08:25:15.490
> 
> 标签：shell, unix, passwords, sftp

我可以从 Unix shell 脚本运行 sftp 脚本。

但它提示连接服务器密码。

如何在 unix shell 脚本的 sftp 命令中配置密码，以便在无需人工干预的情况下传输文件。

我的脚本如下。

```
/usr/bin/sftp ${USER}@${HOST} <<EOF
cd  ${PATH}
mput *.csv
quit
EOF 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T06:54:16.043

您必须在 unix 中生成 id_rsa。
生成 id_rsa 的脚本：

```
ssh-keygen -t rsa 
```

或访问此链接：[http ://www.electrictoolbox.com/article/linux-unix-bsd/create-rsa-dsa-keys-ssh/](http://www.electrictoolbox.com/article/linux-unix-bsd/create-rsa-dsa-keys-ssh/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-19T20:40:28.600

您应该使用**lftp**命令，而不是使用 sftp命令。使用此命令，您可以使用选项 -u 提供密码并使用选项 -e 运行远程命令，只需一个命令行，在脚本中非常容易。

# ember.js - 如何从模板将属性传递给 Ember.View

> ID：15677151
> 
> 赞同：0
> 
> 时间：2013-03-28T08:26:08.137
> 
> 标签：ember.js

我已经定义了以下 Ember.View：

```
App.ControlGroup = Ember.View.extend
  classNames: ['control-group']
  layoutName: 'controlGroup' 
```

布局模板 (controlGroup.handlebars) 如下所示：

```
<label class="control-label">{{ view.label }}</label>
<div class="controls">
  {{ yield }}
</div> 
```

这是一个使用上面定义的视图的示例：

```
 {{#view App.ControlGroup label="Property code"}}
    {{#if isNew}}
      {{view Em.TextField valueBinding="code"}}
    {{else}}
      <p>{{code}}</p>
    {{/if}}
  {{/view}} 
```

这将生成以下html：

```
<div id="ember10170" class="ember-view control-group">
  <label class="control-label">Property code</label>
  <div class="controls">   
    <input id="ember10172" class="ember-view ember-text-field" type="text">
  </div>
</div> 
```

这正是我想要的。但是，我了解到在模板中使用视图的属性（见`{{ view.label }}`上文，在 controlGroup.handlebars }} 中）是一种反模式，并且属性查找应该来自视图的控制器。所以我想知道该怎么做。在这种情况下，该属性与视图（html 片段）本身有关，因此我的实现对我来说似乎是合法的，但我很想看到其他方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:54:34.653

我不认为使用视图属性本身是一种不好的做法，只是人们倾向于过度使用 Ember 的这种功能。由于模型、控制器、视图具有不同的生命周期，“什么去哪里”的问题可以分解为：

*   **模型**：可*持久的*数据，将在页面刷新后继续存在。
*   **控制器**：*非持久*化数据，不会在页面刷新后存活，但对视图重新渲染无动于衷。
*   **视图**：*不时被破坏*，例如。在一个`{{#if}}`助手里面。

我认为这三个组件的行为暗示了将任何给定属性放在哪里。
（另外，我认为你的例子组织得很好，如果我错了，我很想听听推理）:)

编辑：在`label`属性的情况下，例如，`value`属性是如何在核心类中实现的，例如`Ember.TextField`. `{{view}}`可以在使用helper:时只给它一个值`{{view Ember.TextField value="foo"}}`，也可以通过声明一个 binding: 来将它转发给控制器`{{view Ember.TextField valueBinding="foo"}}`。后者将使用`foo`控制器上命名的属性。

# python - kv 语言中的 Kivy 屏幕管理器参考

> ID：15677154
> 
> 赞同：3
> 
> 时间：2013-03-28T08:26:27.163
> 
> 标签：python, user-interface, kivy

我正在尝试制作一个主菜单，让我在单击按钮时切换屏幕，但我不知道如何从按钮中引用管理器。

我有一个主菜单页面的设置（在 kv 文件中）：

```
<MainMenu>:  #AnchorLayout
     BoxLayout:
         Button:
             text: "button 1"
         Button:
             text: "change screen"
             on_release: root.manager.current = "OtherPage"

<MainWidget>:
    screen_manger: screen_manager
    ScreenManger:
        id: screen_manger
        Screen:
            name: "MainMenu"
            MainMenu
        Screen:
            name: "OtherPage"
            OtherPage    #this is defined in the kv file, just lazy to type it. 
```

当我单击 Button`Change Screen`时，我得到：

```
AttributeError: 'MainMenu' object has no attribute 'manager' 
```

老实说，这并不让我感到惊讶。我想我可以通过在 python 代码中编写所有布局并在`BoxLayout`或`MainMenu`小部件中添加对屏幕管理器的引用来解决这个问题，但我不知道如何在 kv 文件中执行此操作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T14:19:06.753

更好地理解问题后重新做答案：

您的 MainWidget 实例不知道 screen_manager 引用，它没有传递给它（并且在其规则中`root`引用 MainWidget 实例，而不是那个`ScreenManager`。

如果您`manager: screen_manager`在实例声明`MainWidget`下（第 15 行），并将`manager`ObjectProperty 添加到 MainWidget 的 python 声明中，那么您的绑定将起作用。

Python：

```
class MainWidget(Widget):
    manager = ObjectProperty(None) 
```

千伏：

```
<MainWidget>:
    screen_manger: screen_manager
    ScreenManger:
        id: screen_manger
        Screen:
            name: "MainMenu"
            MainMenu:
                manager: screen_manager
        Screen:
            name: "OtherPage" 
```

那么它应该可以按您的意愿工作。

编辑：另外，qua-non 的这个 wiki 条目可能会有所帮助[https://github.com/kivy/kivy/wiki/Linking-ScreenManager-to-a-different-Widget](https://github.com/kivy/kivy/wiki/Linking-ScreenManager-to-a-different-Widget)

# c# - 如何正确设置 IIS 7 应用程序池标识？

> ID：15677156
> 
> 赞同：9
> 
> 时间：2013-03-28T08:26:37.007
> 
> 标签：c#, asp.net, asp.net-mvc-3, iis-7, ninject

将我的网站部署到 IIS7.5 后，我发现了一种奇怪的行为：当应用程序池标识`ApplicationPoolIdentity`默认保留时（如[IIS 应用程序池标识](http://www.iis.net/learn/manage/configuring-security/application-pool-identities)中所建议的那样），**`Ninject`**似乎被忽略了，因为我在创建非常第一个控制器：

> System.InvalidOperationException：尝试创建类型为“..MainController”的控制器时发生错误。确保控制器有一个无参数的公共构造函数。---> System.DirectoryServices.DirectoryServicesCOMException：发生操作错误。

我试图授予`FullAccess`包含`IIS AppPool\<MySiteAppPool>`站点（包括所有子文件夹和文件）的文件夹，但这并没有改变任何东西。

但是，当我将应用程序池标识设置为任何域帐户时（即使是一个简单的帐户，没有管理权限，也没有对站点文件夹的任何访问权限），它可以正常工作。

根据通过 NuGet 包[设置 MVC3 应用程序教程安装 Ninject。](https://github.com/ninject/ninject.web.mvc/wiki/Setting-up-an-MVC3-application)

我不确定，如果相关，该站点应该在具有 Windows 身份验证的域 Intranet 中工作。

因此，唯一的问题似乎是应用程序池标识。就我渴望使用推荐的方式而言，我希望拥有`ApplicationPoolIdentity`，而不是域帐户。

这可以与什么联系起来？是否可以将所有这些混合在一起？

* * *

这是一个具有类似问题的 SO 线程：[ASP.NET MVC 4 + Ninject MVC 3 = No parameterless constructor defined for this object](https://stackoverflow.com/questions/12311479/asp-net-mvc-4-ninject-mvc-3-no-parameterless-constructor-defined-for-this-ob)。然而，那里也没有合适的答案。

* * *

正如已删除的评论所建议的那样，我尝试使用`NetworkSerive`作为身份。它工作正常。但是，我想这并不比非特权域帐户好多少。

* * *

**编辑**

突然发现另一个依赖关系：应用程序池标识用于 sql server 上的 windows 身份验证，尽管我希望客户端用户的凭据在那里使用。

**根据评论**

同意可以通过模拟使用经过身份验证的凭据访问远程 sql 服务器。

* * *

但是，仍然不清楚 ApplicationPoolIdentity 和 Ninject 的问题是什么。

这个问题最开头提到的文章让我认为这可能是由于虚拟帐户*没有用户个人资料*这一事实造成的。这方面对我来说仍然不清楚，因为仍然可以使 IIS 加载具有该`LoadUserProfile`属性的用户配置文件。我不明白，如果没有虚拟帐户的配置文件，IIS 将加载什么？

那里说：

> IIS 不加载 Windows 用户配置文件，但某些应用程序可能会利用它来存储临时数据。SQL Express 是执行此操作的应用程序示例。但是，必须创建用户配置文件以将临时数据存储在配置文件目录或注册表配置单元中。NETWORKSERVICE 帐户的用户配置文件由系统创建并且始终可用。但是，切换到唯一的应用程序池身份后，系统不会创建任何用户配置文件。只有标准应用程序池（DefaultAppPool 和 Classic .NET AppPool）在磁盘上有用户配置文件。如果管理员创建新的应用程序池，则不会创建用户配置文件。
> 
> 但是，如果需要，您可以通过将“LoadUserProfile”属性设置为“true”来配置 IIS 应用程序池以加载用户配置文件。

* * *

我在 serverfault.com 上找到了以下线程：

[如何将活动目录权限分配给默认应用程序池标识](https://serverfault.com/questions/510016/how-can-i-assign-active-directory-permission-to-the-default-app-pool-identity)

那里还指出，应用程序池身份无法作为网络服务工作，特别是查询 AD。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-06T00:04:37.143

iispool\appPoolName 帐户被称为虚拟帐户并被添加到 Windows 2008。他们的想法是它们并不是真正意义上的帐户。它们允许的是使用基本帐户增强进程之间的安全性。

您机器上的许多服务都使用 networkService，这是一个具有网络访问权限的内置帐户。因此，如果攻击者要利用其中一项服务，则可以访问在同一帐户下运行的任何其他进程。虚拟帐户（例如 IIS 使用的帐户）通过显示为不同的帐户来防止这种情况发生，同时仍然是同一个帐户 - 从技术上讲，您的 asp.net 应用程序仍然作为网络服务运行，并且授予该帐户对应该仍然有效的事物的访问权限。这也意味着如果您需要访问网络资源，iispool 帐户将像 networkservice 一样使用机器域帐户。

如果您正在访问远程 sql 服务器，则应添加此帐户以允许从您的 Web 服务器进行访问。我不建议使用模拟，除非您真的需要查看 SQL 服务器上的用户是谁。如果您将其关闭，您的应用程序安全性会更简单。

至于为什么您的注入不起作用，可能是您的任何依赖项失败。如果 controllerA 被注入 ClassB，而 ClassB 又被注入 ClassC 并且该类未能注入 ClassD，那么整个链都会失败。我已经发生过这种情况，并且花了一段时间才意识到它与我所看到的东西如此相去甚远。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T15:13:30.693

从问题的细节来看，这听起来很像导致 a`COMException`被抛出的权限问题，这阻止了 Ninject 实例化`MainController`. 异常与`System.DirectoryServices`用于查询 Active Directory 的类有关。

当 IIS 在普通应用程序池帐户下运行时，这些帐户无权对 Active Directory 进行查询，并且`COMException`可以抛出 a。我认为异常中的实际消息（找不到无参数的构造函数）有点像红鲱鱼，Ninject 试图回退到另一个构造函数，因为正常的构造函数不起作用。

这可以解释为什么当您将 IIS 应用程序池更改为作为域帐户运行时，它会突然起作用，因为该帐户确实有权查询域。

从问题中不清楚您是在使用`System.DirectoryServices`自己还是 Ninject/IIS/ASP 是否在使用它们。如果您自己使用它们，请确保您的 AD 类中的任何构造函数都不会抛出异常（捕获它们并记录它们或其他东西），这将防止您的应用程序在启动时崩溃。您可能会发现我上面所说的关于权限的内容。

如果您需要 IIS 作为普通应用程序池帐户运行（这是一个好主意），但仍以域用户身份查询 AD，那么您可以指定凭据[`DirectoryEntry`](http://msdn.microsoft.com/en-us/library/bw8k1as4%28v=vs.90%29.aspx)并使用 a`DirectorySearcher`进行 AD 搜索。如果您使用的是 .Net 4 或更高版本，那么我建议您改用新[`System.DirectoryServices.AccountManagement`](http://msdn.microsoft.com/en-us/library/system.directoryservices.accountmanagement%28v=vs.100%29.aspx)类（这也允许您指定凭据）。

使用该方法，您不需要任何模拟 AD 查询，并且您的应用程序池仍可以作为普通应用程序池帐户运行。

# svn - Visual Studio 2012 - 如果删除里面的一个文件，AnkhSVN 不会将项目更新到最新版本

> ID：15677163
> 
> 赞同：1
> 
> 时间：2013-03-28T08:26:57.910
> 
> 标签：svn, version-control, visual-studio-2012, ankhsvn

AnkhSVN 在更改现有类中的代码或将新文件添加到项目时工作正常。它将项目更新到所有成员的最新版本。问题是如果用户从本地某个目录中删除一个文件，因为他认为他不需要它，然后他想拥有它，AnkhSVN 不会再次添加该文件。因此，每次用户选择将项目更新到最新版本时，AnkhSVN 都会忽略该文件并且不会再次将其添加到项目中。唯一的方法是删除项目并直接从存储库中再次打开它。

在使用 TortoiseSVN 时，用户在本地删除文件是正常的，然后如果他选择将目录更新到最新版本，TortoiseSVN 会再次将该文件添加到本地版本。为什么 AnkhSVN 和 Visual Studio 2012 不是这种情况？它可以以某种方式修复吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:53:08.657

问题是，Ankh 对从 IDE 中删除的文件调用 svn delete：

[http://www.gamedev.net/topic/156860-ann-ankhsvn-a-subversion-addin-for-visual-studio-net/](http://www.gamedev.net/topic/156860-ann-ankhsvn-a-subversion-addin-for-visual-studio-net/)

我还没有找到任何设置来避免它，但是您可以`"Directly add new files to subversion"`在 VS 的设置中进行设置作为一种解决方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-07T09:26:24.423

当您使用挂起的更改或提交对话框从 AnkhSVN 提交文件时，AnkhSVN 将再次添加文件。AnkhSVN 将（默认情况下）不只是将任何文件直接添加到您的工作副本中，因为这使得修复文件大小写之类的事情变得非常困难。

如果您使用不同的客户端进行提交（例如 TorroiseSVN），您可以使用应用到工作副本命令来执行工作副本命令，否则这些命令将成为您提交的一部分。

# delphi - D2007 与 DXE2 中的 Delphi HDC 类型声明

> ID：15677165
> 
> 赞同：1
> 
> 时间：2013-03-28T08:27:06.567
> 
> 标签：delphi

在 Delphi 2007 与 Delphi XE2 中声明 HDC 类型（设备上下文句柄）的方式是否存在差异。

在 D2007 中，以下代码工作正常，但在 DXE2 中产生范围检查错误：

```
Control.Parent.Perform(WM_PAINT, Integer(DC), 0); 
```

单步执行 D2007 中的代码时，DC（设备上下文）的值似乎总是小于 MaxInt，但在 DXE2 中，DC 的值通常大于 MaxInt。

为什么 D2007 和 DXE2 在同一台机器上运行（相同的项目，相同的代码，相同的操作系统）时，DC 的值不同？

将 DC 转换为 WParam（我认为是无符号整数）是否安全？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:59:33.173

在现代 Delphi 版本中，您的演员表不正确。的第二个参数的`Perform`类型是`WPARAM`XE2 中无符号的。因此，如果您要投射，那么您应该投射到`WPARAM`.

在 32 位代码中，您的演员将大值重新解释`DC`为负值。然后，当您传递给无符号参数时，就会出现范围检查错误。在 64 位代码中，您的强制转换会导致指针截断。

但无论如何你都不需要投射。那是因为`HDC`is`UINT_PTR`和 so is `WPARAM`。只需删除演员表：

```
Control.Parent.Perform(WM_PAINT, DC, 0); 
```

传统上，Windows 类型的定义在 Delphi 中一直是一团糟，许多关键类型定义不正确。当引入 64 位 Delphi 编译器时，Embarcadero 选择了纠正这些错误的时机。

在较旧的 Delphi 版本中，需要强制转换，因为 的第二个参数`WPARAM`已签名，但未`HDC`签名。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:40:35.103

是 carfull 类型的整数不是 WParam .. 你需要将 DC 类型转换为 WParam 类型

```
 Control.Parent.Perform(WM_PAINT, WPARAM(DC), 0); 
```

# java - 如何使用闹钟唤醒设备？

> ID：15677179
> 
> 赞同：2
> 
> 时间：2013-03-28T08:28:09.727
> 
> 标签：java, android

我使用以下代码在中设置重复事件`AlarmManager`：

```
mAlarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 
    PERIOD, getPendingIntent(time)); 
```

接收器代码：

```
public class NotificationsReceiver extends BroadcastReceiver {
    public static final String NOTIFICATION_INFO="notification_info";

    @Override
    public void onReceive(Context context, Intent intent) {
       playSound(context);
       Intent i=new Intent(context, MainActivity.class);
       i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
       context.startActivity(i);
    }

    private void playSound(Context context) {
        Uri notification=RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);
        RingtoneManager.getRingtone(context, notification).play();
    }
} 
```

有一些问题 - 我需要在事件发生时播放音乐，但如果我的设备处于睡眠状态，我听不到任何信号！但是当我唤醒设备时，我会听到音乐。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:38:19.187

当我必须这样做时，我创建了以下类：

```
import android.content.Context;
import android.os.PowerManager;

public abstract class WakeLocker {
    private static PowerManager.WakeLock wakeLock;

    public static void acquire(Context context) {
        if (wakeLock != null) wakeLock.release();

        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);
        wakeLock = pm.newWakeLock(PowerManager.FULL_WAKE_LOCK |
                PowerManager.ACQUIRE_CAUSES_WAKEUP |
                PowerManager.ON_AFTER_RELEASE, "WakeLock");
        wakeLock.acquire();
    }

    public static void release() {
        if (wakeLock != null) wakeLock.release(); wakeLock = null;
    }
} 
```

然后你可以打电话`WakeLocker.acquire(getApplicationContext());`来唤醒你的手机，但不要忘记`WakeLocker.release();`在你的行动完成后打电话。

此外，将以下权限添加到您的清单中：`<uses-permission android:name="android.permission.WAKE_LOCK" />`

希望这有帮助。

# html - 下拉菜单 - 使用一个选项打开多个选项卡

> ID：15677180
> 
> 赞同：1
> 
> 时间：2013-03-28T08:28:16.233
> 
> 标签：html, drop-down-menu, option

我目前只使用 HTML，我希望有一个下拉菜单选项，可以在浏览器中打开多个选项卡，我已经能够使用一个选项在浏览器中打开一个选项卡，但我想知道它是否是可以用一个选项打开多个。我期待着您的来信，谢谢。

```
<form name="form" id="form">
      <select name="Dropdown" id="Dropdown">
        <option value="inidivual/Mindmap.pdf" selected="selected">Mind map</option>
        <option value="inidivual/moneymatters.xlsx">Spreadsheet</option>
        <option value="#">Identity design and documents</option>
        <option value="#">Project review</option>
      </select>
      <input type="button" name="go_button" id= "go_button" value="Open" onClick="window.open(Dropdown.value,'newtab'+Dropdown.value)">
    </form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T12:56:24.850

要选择多个选项，它应该设置为多个，因为

```
<form name="form" id="form" >
  <select name="Dropdown" multiple id="Dropdown">
    <option value="http://www.google.com" selected="selected">Mind map</option>
    <option value="http://www.yahoo.com">Spreadsheet</option>
    <option value="http://www.sdesigns.co.in">Identity design and documents</option>
    <option value="http://www.bing.com">Project review</option>
  </select>
  <input type="button" name="go_button" id= "go_button" value="Open"">
</form> 
```

并使用以下 jquery

```
$("#go_button").click(function(){
$("#Dropdown :selected").each(function(){
       var newLink = $(this).val();
  window.open(newLink);
  });
}); 
```

# php - 致命错误：调用未定义函数 mysqli_master_query()

> ID：15677187
> 
> 赞同：-3
> 
> 时间：2013-03-28T08:28:38.553
> 
> 标签：php, mysql, mysqli

查询我的数据库时遇到问题。我收到以下错误：

```
Fatal error: Call to undefined function mysqli_master_query() in /home/**/**/**/edit/add.php on line 4 
```

这是我的PHP代码..

```
<?php
    $db = mysqli_connect("localhost","XXX","XXX","XXX") or die(mysql_error());

    if(mysqli_master_query($db, "UPDATE users SET order =1 WHERE id =1")){
        echo "Y";
    }else{
        echo "N";
    }
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:29:55.353

[mysqli_master_query()](http://php.net/manual/en/function.mysqli-master-query.php)

```
 This function has been DEPRECATED and REMOVED as of PHP 5.3.0. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:32:40.243

您使用的是哪个版本？

自 PHP 5.3.0 起，mysqli_master_query() 函数已被弃用和删除。

参考： http: [//php.net/manual/en/function.mysqli-master-query.php](http://php.net/manual/en/function.mysqli-master-query.php)

# f# - 构造函数中的 F# 引号、数组和自标识符

> ID：15677190
> 
> 赞同：5
> 
> 时间：2013-03-28T08:29:09.340
> 
> 标签：f#, websharper

我认为这是 F# 的一个众所周知的限制，但我找不到任何好的解决方法……</p>

所以，这里是代码（我试图让它尽可能简单，所以它可能看起来没有任何意义）：

```
[<ReflectedDefinition>]
type Human (makeAName: unit -> string) as self =
    let mutable cats : Cat array = [| |]
    do
        // get a cat
        cats <- Array.append cats [| new Cat (self, makeAName ()) |]
    member this.Cats = cats
and
 [<ReflectedDefinition>]
 Cat (owner : Human, name : string) = class end 
```

编译器说：

> 错误 FS0452：引号不能包含数组上的内联汇编代码或模式匹配

实际上`as self`，破坏一切的是数组属性 getter 的组合。

这里的要点是：

*   我真的很想使用数组，因为我希望 WebSharper 将我的集合转换为 JavaSript 数组。
*   我真的需要构造函数中的自我标识符。
*   我真的需要类（即功能样式不起作用）。
*   每个方法的自标识符 ( `member this.Foo`) 工作正常。

我能想到的一种解决方法是将构造函数设为私有并使用静态方法来构造对象。这样我就不需要了`as self`。但这只是愚蠢的。

有没有更好的选择？

* * *

*更新：*

这是一个更简单的例子：

```
[<ReflectedDefinition>]
type User (uid: int) as self =
    let ROOT_UID = 0
    member this.isRoot = (uid = ROOT_UID) 
```

我`as self`什至不能定义一个类常量。好吧，这实际上是一个单独的问题，但我会在这里问：在这种特殊情况下如何定义类常量？

* * *

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-28T11:58:34.530

我不认为这很愚蠢。为了清晰起见，我们实际上更喜欢静态构造函数方法，即使在不使用 WebSharper 的代码中也是如此。在整个 IntelliFactory 代码库中，我们很少使用`self`.

您遇到了 F# 编译器和引用的两个恼人的限制。正如您所指出的，静态方法可以解决`self`问题：

```
[<ReflectedDefinition>]
type Human private (cats: ref<Cat []>) =
    member this.Cats = !cats

    static member Create(makeAName: unit -> string) =
        let cats = ref [| |]
        let h = Human(cats)
        let cat = Cat(h, makeAName())
        cats := [| cat |]
        h

and [<ReflectedDefinition>] Cat (owner: Human, name: string) =
    class
    end 
```

还有许多其他方法可以实现这一点，例如您可以摆脱`ref`间接性。

其次，你经常会得到带有数组操作`FS0452`的代码，即使是在普通的静态方法中也是如此。`ReflectedDefinition`这通常可以通过使用库函数而不是直接数组访问 ( `Array.iter`, `Array.map`) 来解决。

对于第二个例子，你真的想要这个：

```
[<ReflectedDefinition>]
module Users =

    [<Literal>]     
    let ROOT_UID = 0

    type User(uid: int) =
        member this.isRoot = (uid = ROOT_UID) 
```

注释将`[<Literal>]`让您对常量进行模式匹配，如果有多个常量，这会很方便。

对于您的积分：

1.  我真的很想使用数组——应该没问题
2.  我真的需要一个自我标识符——从来没有必要，就像构造函数不是一样
3.  我真的需要类（即功能样式不起作用） - 绝对不是真的
4.  每个方法的自标识符（成员 this.Foo）工作正常 - 是的，并且很有用

# android - 无法使用杰克逊 json 流解析 json 数组

> ID：15677191
> 
> 赞同：0
> 
> 时间：2013-03-28T08:29:11.930
> 
> 标签：android, json, jackson, arrays

我无法解析下面包含对象数组的 JSON 流，这里我只添加了一个对象以进行简化。

```
{
"status": true,
"categories": [
    {
        "obj_cat_id": "26",
        "session_user": "212233379",
        "timestamp": "2011-10-30 04:34:53"
    }
] 
```

}

我尝试了什么：

```
try {
        JsonFactory f = new JsonFactory();
        JsonParser jp = f.createJsonParser(is);
        jp.nextToken(); /* START_OBJECT */

        while (jp.nextToken() != JsonToken.END_OBJECT) {

            if ("status".equals(jp.getCurrentName())) {
                jp.nextToken(); /* VALUE_TRUE */
                status = jp.getText();
                Constants.showLog("Status", jp.getText());
            } else if ("categories".equals(jp.getCurrentName())) {

                //jp.nextToken();
                while (jp.nextToken() != JsonToken.END_ARRAY) {
                    //jp.nextToken();

                    while (jp.nextToken() != JsonToken.END_OBJECT) {

                        String namefieldOne = jp.getText();
                        Constants.showLog(TAG, namefieldOne);
                    }

                }

            } 
        }
        jp.close(); 
```

主要问题是，当我在当前令牌为 START_ARRAY 的情况下执行 jp.nextToken 时，它直接转到 END_ARRAY 并且我无法访问其对象值。

我正在使用 Jackson Streaming 解析器来提高效率。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:50:08.450

你考虑过使用[GSON](https://sites.google.com/site/gson/gson-user-guide)吗？您可以在服务器端或客户端 (Android) 使用它。将共享首选项保存为 JSON 和其他东西 :)

```
public class Category {
       Long obj_cat_id;
       Long session_user;
       Timestamp timestamp;

       /* Getters && Setters */
}

public class MyEntity
{
        private boolean status;
        private List<Category> categories;

        /* Getters && Setters */
}

public class Serializer
{ 
    private static Gson _gson;

    static
    {
        _gson = new Gson();
    }

    public static <T> T jsonToObject(String json, Type type)
    {
        return _gson.fromJson(json, type);
    }

    public static <T> String getJson(T object)
    {
        Type type = new TypeToken<T>()
        {}.getType();
        return _gson.toJson(object, type);
    }
} 
```

像这样使用：

```
String myJsonString = "{
"status": true,
"categories": [
    {
        "obj_cat_id": "26",
        "session_user": "212233379",
        "timestamp": "2011-10-30 04:34:53"
    }
]
}";

MyEntity myEntity= Serializer.jsonToObject(myJsonString , MyEntity.class);
/* And vice-versa */ 
```

# c# - 在统一 3d 中检查数组中是否存在值

> ID：15677194
> 
> 赞同：0
> 
> 时间：2013-03-28T08:29:25.167
> 
> 标签：c#, arrays, monodevelop, unity3d

我有两个脚本。

脚本 1 脚本 2

在 Script1 中，我声明了一个数组列表，它包含值 2、4、6 等...

```
public static ArrayList aArray= new ArrayList();

function update(){
   if(bool1)
   {
      aArray.Add(i);
   }
} 
```

我必须检查 Script2 的 arraylist 中是否存在值 5。

**如果值存在，我必须得到它的密钥。**

如何得到它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:36:00.293

首先，我建议使用泛型`List<T>`而不是非泛型`ArrayList`，这使您能够指定进入该列表的对象类型（为了更好的类型安全）。
此外，声明一个变量`readonly`可以防止您意外覆盖它，这通常是`List`s 的情况（毕竟，您总是可以只使用`Clear`它们）：

```
public static readonly List<int> items = new List<int>(); 
```

现在回答你的实际问题，如果你想检查一个值是否存在于列表中，你可以使用方法`Contains`.
要检查该值是否*不*存在，只需`!`在表达式前面放一个：

```
if (!Script1.items.Contains(i)) {
    // This will only execute if the list does not contain i.
    items.Add(i);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:35:56.947

尝试使用包含。此代码将检测您是否已经在 ArrayList 中拥有该值，并将阻止代码再次添加它。

```
public static ArrayList aArray= new ArrayList();

function update()
{
   if(aArray.Contains(i)==false)
   {
      aArray.Add(i);
   }
} 
```

如果你想删除一个值，它就像**aArray.Remove(i)一样简单**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:14:41.117

如果我理解正确，Script1 在您的相机中，而 Script2 在字符中。为了这个示例，我们将分别称它们为 MainCamera 和 Character。

现在，除非我理解错误，否则您正在尝试从 Script2 访问 Script1 中的数组。虽然其他答案非常正确，但 unity3D 需要一些解决方法来访问它。

无论如何，在 Script2 中使用这个：

```
if(GameObject.Find("MainCamera").GetComponent<Script1>().aArray.Contains(5))
{
   //Do your code here
} 
```

# mongodb - SQL2Mongo 连接字符串

> ID：15677195
> 
> 赞同：0
> 
> 时间：2013-03-28T08:29:35.513
> 
> 标签：mongodb, connection-string

有没有人尝试过 SQL2Mongo 导入器？我想将我的数据从 SQL 服务器迁移到 MongoDB，我知道这是一个 PITA 来获得正确的关系，但我认为这个工具将是一个好的开始。但是我无法让连接字符串正常工作，所以我只是想知道是否有人尝试过这个还是只是个玩笑：P

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-31T09:32:38.783

C:\Sql2Mongo>sql2mongo "数据源=sqlservername;uid=username;pwd=aaa;database=databasename;" “mongodb://localhost:27017)”

[http://sql2mongo.codeplex.com/](http://sql2mongo.codeplex.com/)

# ruby-on-rails-3 - 登录重定向到主页，而不是停留在同一页面

> ID：15677196
> 
> 赞同：2
> 
> 时间：2013-03-28T08:29:40.757
> 
> 标签：ruby-on-rails-3, devise

我安装了设计，它工作正常，但登录重定向。当用户从应用程序的任何页面登录时，Devise 会将用户重定向到主页，而不是在同一页面上重定向。我尝试实施设计的 How_to 解决方案，但没有帮助。

我在 application_controller 中写道：

```
def after_sign_in_path_for(resource)
 current_user_path 
end 
```

但它给出了错误：

```
undefined local variable or method `current_user_path' for #<Devise::SessionsController:0xaeacc34> 
```

当我写：

```
def after_sign_in_path_for(resource)
 current_user_path 
end 
```

它给 ：

```
undefined method `user_url' 
```

这个问题的解决方案是什么？任何机构都可以在这方面提供帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:38:34.613

您需要重定向到哪个场景（错误或成功）的其他地方？通常在用户成功登录后使用 after_sign_in_path_for。所以：

如果您没有覆盖设计默认功能，则使用下面的代码将控件导航到特定的自定义页面。`current_user`在此操作中也可以访问。

```
def after_sign_in_path_for(resource)
    scope = Devise::Mapping.find_scope!(resource)
    scope_path = :"#{scope}_root_path"
    respond_to?(scope_path, true) ? send(scope_path) : root_url
end 
```

更新：另一个例子如下：

```
 def after_sign_in_path_for(resource_or_scope)
    current_user.admin? ? dashboard_admin_home_index_path : current_user.sign_in_count >= 1 ? "/home/dashboard" : "/#{current_user.role}/dashboard"
  end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-25T09:15:13.873

您可以使用 request.referer

```
def after_sign_in_path_for(resource_or_scope)
  request.referer
end 
```

# html - 页面停止滚动

> ID：15677198
> 
> 赞同：-3
> 
> 时间：2013-03-28T08:29:53.030
> 
> 标签：html, css

我不明白发生了什么，但突然我的页面无法向下滚动以查看其余内容...

看看：[www.guestinnation.com/hotels.html](http://www.guestinnation.com/hotels.html)

正如您使用检查元素功能所看到的，div 比它看起来要长得多......

在此之前，我为页面的 div 设置了一个高度`60%`并使用了溢出：滚动，但后来我决定我只是希望它像主页一样，所以我取消了`height=60%`和溢出：滚动，但它最终是如你所见...

先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:40:26.953

**已编辑**

在你的 css 上改变两个位置：

```
#main{
  position: relative; // change it from fixed
}
#menumain2 {
  position: absolute; // change it from fixed
}
#menumain {
  position: absolute; // change it from fixed
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T08:46:57.367

您的页面滚动消失了，因为您曾经`position: fixed;`将主要内容居中。这意味着元素是相对于浏览器窗口定位的。

尝试类似的东西来制作模型。

```
<body>
      <div id="wrapper">
            <header></header>
            <div id="main"></div>
            <footer></footer>
      </div>
</body>

.wrapper{
      margin: 0 auto;
      position: relative /* Just in case */
      width: 960px; } 
```

我就是这样开始的。

或者，如果您在启动网站时遇到问题，请尝试一些 HTML 入门包，网络上到处都是。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T08:43:43.043

做这个 ：

```
#main
{
   position: relative;
}
#menumain
{
   position: absolute; 
}
#menumain2 
{
   position: absolute;
} 
```

# java - 如何从 HQL 形式的两个连接表查询中选择 *？

> ID：15677203
> 
> 赞同：5
> 
> 时间：2013-03-28T08:30:21.317
> 
> 标签：java, hibernate, hql, hibernate-annotations, named-query

我在这里有两个带有注释的休眠实体：

```
@Entity
@Table(name = "CLIENT")
public class Client {

    private Long pkClient;
    private String name;

    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    @Column(name="PK_CLIENT")
    public Long getPkClient() {
        return pkClient;
    }
    public void setPkClient(Long pkClient) {
        this.pkClient = pkClient;
    }

    @Column(name="NAME")
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }

    ...
}

@Entity
@Table(name="ACCOUNT")
public class Account {

    private Long pkClientAccount;
    private Long fkClient;
    private String accountNo;

    @Id
    @Column(name="PK_CLIENT_ACCOUNT")
    @GeneratedValue(strategy=GenerationType.AUTO)
    public Long getPkClientAccount() {
        return pkClientAccount;
    }
    public void setPkClientAccount(Long pkClientAccount) {
        this.pkClientAccount = pkClientAccount;
    }

    @Column(name="FK_CLIENT")
    public Long getFkClient() {
        return fkClient;
    }
    public void setFkClient(Long fkClient) {
        this.fkClient = fkClient;
    }

    @Column(name="ACCOUNT_NO")
    public String getAccountNo() {
        return accountNo;
    }
    public void setAccountNo(String accountNo) {
        this.accountNo = accountNo;
    }

    ...
} 
```

这种关系是一对多的，客户有多个账户。表 ACCOUNT 具有表 CLIENT 的主键 (PK_CLIENT) 的外键 (FK_CLIENT)。

我想以 HQL 形式执行此查询：

```
select * from ACCOUNT a inner join CLIENT b on a.FK_CLIENT = b.PK_CLIENT 
```

这意味着，将选择来自 Account 和 Client 实体的所有属性。

有人知道如何以 HQL 形式进行查询吗？

AFAIK，在 HQL 中我们只能选择一个实体。

注意：
我不能在 Account 实体中使用 @ManyToOne 映射，因为已经有 fkClient 属性并且我无法更改它，因为 get/setFkClient 已经在其他地方使用过。

上面的代码已经通过删除不相关的部分进行了简化，以便于阅读。如果您发现错字，请在评论部分告诉我，因为我手动输入了代码。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-28T08:47:39.603

是的，您可以使用 HQL 选择多个实体。Hibernate 将返回一个类型的数组`Object[].`

```
select 
    account, 
    client 
from Account account, Client client 
where account.fkClient = client.pkClient 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-02-12T16:31:32.593

使用[Hibernate 5.1](http://in.relation.to/2016/02/10/hibernate-orm-510-final-release/)，即使映射不反映数据库表关系，现在也可以连接实体。

因此，此 HQL 查询从 Hibernate 5.1 开始有效：

```
select 
    account, 
    client 
from Account account 
join Client client on account.fkClient = client.pkClient 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:45:35.930

尝试关注 HQL

```
select account from Account account, Client client where account.fkClient = client.pkClient 
```

有关更多详细信息，请参阅 Hibernate 参考文档 [http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/queryhql.html#queryhql-where](http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/queryhql.html#queryhql-where)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-11T13:33:57.257

您可以使用：

```
select * from  TB_1 as a 
left join  TB_2 as b 
on a.ID_TB_1 = b.ID_TB_2 and b.ID_TB_2 is null 
```

# objective-c - `发送到实例的无法识别的选择器`

> ID：15677205
> 
> 赞同：0
> 
> 时间：2013-03-28T08:30:29.477
> 
> 标签：objective-c

在我的应用程序中，我有一个在屏幕上滚动的动画。我的问题是，当我使用 an`@selector`调用我的动画时，线程崩溃了。

如果我使用相同`@selector`的方法在我的页面中调用另一个函数，它可以完美运行，但是当调用这个函数时它似乎不起作用。如果我将代码放在该`viewDidLoad`部分中，它可以正常工作。

`unrecognized selector sent to instance`我在 Stackoverflow中尝试了很多这样的链接，但没有任何帮助。我也尝试`- (void)imageSpawn`了代替 `- (void) imageSpawn:(id)sender withEvent:(UIEvent *)`事件并将选择器更改为`(imageSpawn)`而不是`（ImageSpawn :)仍然没有运气......

```
- (void)viewDidLoad {

    [self performSelector:@selector(imageSpawn:) withObject:nil afterDelay:3];
}

- (void) imageSpawn:(id) sender withEvent:(UIEvent *) event
{

    UIImage* image = [UIImage imageNamed:@"ae"];
    UIImageView *rocket = [[UIImageView alloc] initWithImage:image];
    rocket.frame = CGRectMake(-25, 200, 25, 40);
    [UIView animateWithDuration:5 animations:^(){rocket.frame=CGRectMake(345, 200, 25, 40);} completion:^(BOOL finished){if (finished){

           //trigger an event.
           UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Tapped row!"
                                                           message:[NSString stringWithFormat:@"Shot"]
                                                          delegate:nil
                                                 cancelButtonTitle:@"Yes, I did!"
                                                 otherButtonTitles:nil];
           [alert show];
        }
    }];
    [myScrollView addSubview:rocket];
} 

2013-03-28 10:14:31.661 shotplacementgiude001[16897:c07] -[SelectedCellViewController imageSpawn:]: unrecognized selector sent to instance 0xa159480
2013-03-28 10:14:31.663 shotplacementgiude001[16897:c07] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[SelectedCellViewController imageSpawn:]: unrecognized selector sent to instance 0xa159480'
*** First throw call stack:
(0x16b4012 0x13c1e7e 0x173f4bd 0x16a3bbc 0x16a394e 0xdbf5b3 0x1673376 0x1672e06 0x165aa82 0x1659f44 0x1659e1b 0x27157e3 0x2715668 0x305ffc 0x2c3d 0x2b65 0x1) libc++abi.dylib: terminate called throwing an exception
(lldb) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:49:04.637

```
- (void) imageSpawn:(id) sender withEvent:(UIEvent *) event 
```

是一个有 2 个参数的方法，它的选择器是

```
@selector(imageSpawn:withEvent:) 
```

然而，

```
performSelector:withObject:afterDelay: 
```

只能与具有**零个或一个参数**的方法一起使用。因此，您可以通过以下方式替换您的方法

```
- (void) imageSpawn:(id) sender 
```

并打电话

```
[self performSelector:@selector(imageSpawn:) withObject:nil afterDelay:3]; 
```

或使用 GCD 方法：

```
double delayInSeconds = 3.0;
dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));
dispatch_after(popTime, dispatch_get_main_queue(), ^(void){
    [self imageSpawn:nil withEvent:nil];
}); 
```

优点是更好的参数和类型检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T08:40:02.810

```
- (void)viewDidLoad 
{
     [self performSelector:@selector(imageSpawn:withEvent:) withObject:nil withObject:nil];
} 
```

您的方法定义包含两个参数 `- (void) imageSpawn:(id) sender withEvent:(UIEvent *) event`，因此您需要在选择器中使用两个参数调用方法。

**笔记**

如果要将两个对象传递给选择器，则可以使用另一种方法，即[performSelector:withObject:withObject：](https://developer.apple.com/library/mac/#documentation/cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html)

> 使用两个对象作为参数向接收者发送消息。

*例子*

```
[self performSelector:@selector(imageSpawn:withEvent:) withObject:senderObject withObject:eventObject]; 
```

因此，理想情况下，您应该使用上述方法进行两个参数解析，或者将要发送的数据封装到某个单一的 Objective C 对象（例如 NSArray、NSDictionary、一些自定义的 Objective C 类型）中，然后通过`[NSObject performSelector:withObject:afterDelay:]`

*例子*

```
NSDictionary *dictionary = [[NSDictionary alloc] init];
[dictionary setObject:senderObject forKey:@"sender"];
[dictionary setObject:eventObject forKey:@"event"];
[self performSelector:@selector(imageSpawn:withEvent:) withObject:dictionary afterDelay:3.0]; 
```

# c# - 在下一条语句中停止调试器

> ID：15677206
> 
> 赞同：0
> 
> 时间：2013-03-28T08:30:34.087
> 
> 标签：c#, .net

我需要一个代码，它将进入被调用的函数，然后暂停调试器

例如

调用`DEBUG(Foo())`将调用函数 foo 并且只会中断。

这可能吗？

我知道，`System.Diagnostics.Debugger.Break()`但我想节省自己的时间

我的问题的例子：

```
 foreach (Action item in collection)
        {
            if (IsDebug && System.Diagnostics.Debugger.IsAttached)
            {
                System.Diagnostics.Debugger.Break(); <----- stops here
                item.Invoke()
            }
        } 
```

此代码在调用之前停止，`item.Invoke()`我希望它在其中停止。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:34:48.610

以下是一些选项：

*   设置断点`item.Invoke()`并使用“Step into”键盘快捷键`F11`
*   将`[DebuggerStepThrough]`属性添加到 Foo，以便调试器不会进入它。
*   只需将您的代码分成两行并在第二行放置一个断点：

    ```
    var result = Foo();
    DEBUG(result); 
    ```

# seam - 在 Seam 中配置多个欢迎页面

> ID：15677210
> 
> 赞同：0
> 
> 时间：2013-03-28T08:30:56.763
> 
> 标签：seam

我有一个 Seam 应用程序，其中登录页面是访问应用程序时的默认欢迎页面。我还有一些其他页面，例如。更改密码或重置密码在访问时不需要任何身份验证，因为用户将在这些页面上填写他们的详细信息。但是我不能直接访问这些页面，例如`http://localhost:8080/myProject/changePassword.seam`给我一个 403 错误。有没有我遗漏的配置？我主要关心的是在抛出某个自定义异常时显示更改密码页面，我将`<exception>`在`pages.xml`. 但是当我输入时`<redirect view-id="/changePassword.seam">`，我得到的只是一个空白页。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T14:40:57.840

确保页面设置上的 loginRequired 设置为 false。此外，重定向通常指定为“/changePassword.xhtml”。

# configuration - 如何设置 solr requestHandler

> ID：15677213
> 
> 赞同：1
> 
> 时间：2013-03-28T03:30:52.640
> 
> 标签：configuration, solr, requesthandler

data-config.xml
我在 solrconfig.xml 中添加了一些设置信息，但在这里显示了一些错误：如何设置 requestHandler???请告诉我如何设置。谢谢。我不知道为什么会显示此错误。

* * *

> “点：org.apache.solr.common.SolrException：org.apache.solr.common.SolrException：RequestHandler 初始化失败”

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:44:10.990

*   检查您的 RequestHandler 类文件是否正确打包在 .jar 文件中，它们是否位于核心的 lib 目录或标准库位置。

*   确保它的路径可由 servlet 容器解析。

*   检查初始化 RequestHandler 时是否有其他异常堆积。

*   检查 WebServer 中的日志文件，对于 apche tomcat，它位于“apache-tomcat-7.0.37\logs”中。

*   确保您没有遗漏任何要包含的依赖项。

*   粘贴您的整个例外列表，以便更好地了解您的问题。

# php - 如何在 PHP 中减去 AM/PM 中的时间

> ID：15677215
> 
> 赞同：1
> 
> 时间：2013-03-28T08:31:06.817
> 
> 标签：php, time

我有时间格式说：

```
$start_time; (example: 1:30 PM)
$system_time; (example: 8:20 AM)        
echo $time_left_for_discussion = $start_time - $system_time; 
```

我想减去 $start_time - $system_time。但它没有显示正确的结果。

我该如何处理这种时间减法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:33:33.213

[`DateTime::createFromFormat()`](http://www.php.net/manual/en/datetime.createfromformat.php)两次都使用，然后减去那些。

```
$TimeStart = DateTime::createFromFormat( 'g:i A', $start_time );
$TimeEnd = DateTime::createFromFormat( 'g:i A', $end_time );

$Interval = $TimeStart->diff( $TimeEnd );
$time_left = $Interval->h . 'h' . $Interval->m 'm'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:38:25.163

```
<?php
  $d1 = strtotime('1:30 PM');
  $d2 = strtotime('8:20 AM');
   $diff = abs($d1-$d2);

  echo "Difference is $diff secs";

?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T08:32:57.393

您将需要查看[date()](http://php.net/manual/en/function.date.php)和[strtotime()](http://www.php.net/manual/en/function.strtotime.php)函数。

处理这种情况的方法是将日期转换为[unix 时间戳](http://en.wikipedia.org/wiki/Unix_time)，从另一个时间戳中减去一个时间戳，然后从结果时间戳中重新创建一个日期字符串。

注意：[time()](http://www.php.net/manual/en/function.time.php)函数将返回当前系统时间(-stamp)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T08:33:06.527

我可以建议你看看这个[http://php.net/manual/en/function.strtotime.php](http://php.net/manual/en/function.strtotime.php)

这是String to time，它非常有用。

祝你有美好的一天：D

# php - 验证码未显示 Codeigniter 和 Tank_Auth

> ID：15677216
> 
> 赞同：2
> 
> 时间：2013-03-28T08:31:07.393
> 
> 标签：php, codeigniter, captcha, tankauth

我在我的 codeigniter 应用程序中使用 Tank_Auth 进行注册。我启用了验证码注册，但它没有显示。

我将文件夹更改为 777 并且路径正确，因此它应该显示出来。

我的 Tank_auth.php 配置文件：

```
$config['captcha_path'] = './application/captcha/';
$config['captcha_fonts_path'] = './application/captcha/fonts/5.ttf';
$config['captcha_width'] = 200;
$config['captcha_height'] = 50;
$config['captcha_font_size'] = 14;
$config['captcha_grid'] = FALSE;
$config['captcha_expire'] = 180;
$config['captcha_case_sensitive'] = TRUE; 
```

我有一个 .htacces 文件，所以这可能是问题所在。

我的验证码文件夹存储在`httpdocs/application/captcha` 我的字体位于`httpdocs/application/captcha/fonts/`

它向我展示了这个： ![登记](../Images/cc9878c9f2b91eb60c6cf0f8a17292c3.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:36:22.883

```
$config['captcha_path'] = './application/captcha/'; 
```

改为：

```
$config['captcha_path'] = './PATH_TO_YOUR_IMAGES_FOLDER/captcha/'; 
```

确保您的图像文件夹中有一个名为`captcha`的文件夹，当然具有适当的权限。CAPTCHA 路径是将生成的图像提供给浏览器的位置。文件`./application`夹中的文件不可公开访问，因此无法提供图像。您需要确保 CAPTCHA 位置在 webroot 之外`./application`但仍在 webroot 中。通常该文件夹是`./assets`，但您可能正在为您的图像使用不同的位置，无论它使用它。

# php - 获取计数行密码neo4j

> ID：15677223
> 
> 赞同：1
> 
> 时间：2013-03-28T08:31:38.220
> 
> 标签：php, neo4j, cypher

如何获取count函数返回的列名

这就是问题所在

```
cypherquery='START n=node:node_auto_index(name='Ashish') MATCH n-[:f]-h RETURN h,count(h)' 
```

第一列名称肯定是“ h ”，但是第二列的名称呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:08:40.530

使用 AS 关键字，如下所示：

```
'START n=node:node_auto_index(name='Ashish') MATCH n-[:f]-h RETURN h,count(h) as columnName' 
```

使用“columnName”来引用结果。

# r - 在 ggplot/ggmap 中省略一些边框

> ID：15677225
> 
> 赞同：8
> 
> 时间：2013-03-28T08:31:43.670
> 
> 标签：r, ggplot2, ggmap

我对 R 很陌生，我只是在玩一个项目，以绘制 2010 年至 2020 年阿拉巴马州各县的预计人口增长情况。这是我的代码：

```
dat <- read.table("C:/Users/rasmus/Documents/countyinfo.txt", sep="\t", header=TRUE)

library(ggplot2)
library(maps)
library(ggmap)

mdat <- map_data('county')
str(mdat)
al1 = get_map(location = c(lon = -86.304474, lat = 32.362563), 
              zoom = 7, maptype = 'roadmap')
al1MAP = ggmap(al1) + 
         geom_point(data=dat,inherit.aes = FALSE, 
                    aes(y=Lat, x=Lon, map_id=County, size=Growth), col="red") + 
         borders("state", colour="red", alpha=0.8) + 
         borders("county", colour="blue", alpha=0.5)
al1MAP 
```

现在，我有两个问题。

1）州边界似乎在做奇怪的事情。这是关闭县覆盖的屏幕截图：

![在此处输入图像描述](../Images/bb937b67216da8a079b9b2da241464cf.png)

2）鉴于这只是关于阿拉巴马州，我想关闭州边界以外的边界，但我不知道该怎么做。我的猜测是尝试使用`xlim`and `ylim`，但我不知道如何将它们限制为阿拉巴马州边界多边形。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-28T08:41:05.447

似乎`borders()`某些状态的坐标函数连接在一起。

要解决此问题，您可以使用将`state`边框存储为单独的数据框`map_data()`，然后`state`使用将边框添加`geom_path()`到地图中。另外`geom_path()`确保`group=region`点仅根据一个区域连接。

要仅显示阿拉巴马州县的边界，您应该`region="alabama"`向 function添加参数`borders()`。

```
al1 = get_map(location = c(lon = -86.304474, lat = 32.362563), 
      zoom = 6, maptype = 'roadmap')
mdat <- map_data('state')
ggmap(al1) + 
  geom_path(data=mdat,aes(x=long,y=lat,group=region),colour="red",alpha=0.8)+
  borders("county", colour="blue", alpha=0.5,region="alabama") 
```

![在此处输入图像描述](../Images/056ece011c788bd207b850c78221796d.png)

# eclipse - Eclipse Gynamide 和 JDK 兼容性

> ID：15677226
> 
> 赞同：0
> 
> 时间：2013-03-28T08:31:47.060
> 
> 标签：eclipse, ganymede, jdk1.4

我在我的系统上使用**JDK1.4.2_02**，这是运行我的 ATG Dynamo 服务器所必需的。我试图运行 Eclipse 'Ganymede'-（3.4/3.4.2）。但是面临问题，它要求使用我无法使用的JDK1.5。由于 ATG Dynamodosent 在 JDK1.5 上运行。

我搜索了一下，发现 Eclipse 3.2 / Callisto 与 JDK 1.4.2 兼容，但在我们的软件列表中没有。唯一可用的旧版本是 Eclipse 'Ganymede'-（3.4/3.4.2）。

**有什么方法可以将 Eclipse 'Ganymede'-( 3.4/3.4.2) 与 JDK 1.4.2_02 一起使用。**

问候马扬克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:36:31.890

如果它不兼容，那么您将无法使用 Java 4 运行它。

但是为什么不在服务器上安装两个 JVM 版本呢？您可以使用 Java 4 来运行 ATG Dynamo 服务器，并使用更新的 JVM 来运行 Eclipse。

此外，为什么不能使用更新的 JVM 运行 ATG 发电机服务器？AFAIK JVM 向后兼容。

# mysql - mysql脚本。语法错误，关键字 PIVOT 上出现意外 IDENT_QUOTED 错误消息

> ID：15677229
> 
> 赞同：0
> 
> 时间：2013-03-28T08:32:23.583
> 
> 标签：mysql, pivot

我正在尝试在我的工作台中打开一个脚本，但关键字 PIVOT 以红色下划线显示，并显示一条错误消息：` 语法错误，意外 IDENT_QUOTED。脚本：

```
select * from 
(select c1.id, a.num0,a.num1 from table1 c1
Inner Join
(select c2.id, if(team=1,1,0) as num0, if(team=2,1,0)as num1 from table1 c2,table2 r2
where c2.q_id = 2046 and r2.q_id = 2046 group by c2.d)a on a.id = c1.id) pvt

PIVOT(
For content
IN([team1],[team2]))pvt2 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:46:39.787

您的查询有语法错误，因为 MySQL 不支持`PIVOT`. 你需要做一些额外的事情才能在 MySQL 中实现你想要的。请参阅[此](https://stackoverflow.com/questions/12598120/mysql-pivot-table-query-with-dynamic-columns)或[此](https://stackoverflow.com/questions/7674786/mysql-pivot-table)相关问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:47:59.897

MySQL 没有 PIVOT 函数。但是，可以使用带有`CASE`表达式的聚合函数来复制此功能。

根据您的原始查询，您似乎需要类似以下内容：

```
select t2.id,
  sum(case when team = 1 then 1 else 0 end) num0,
  sum(case when team = 2 then 1 else 0 end) num1
from table1 t1
inner join table2 t2
  on t1.q_id = t2.q_id
group by t2.id 
```

# google-contacts-api - 如何获取谷歌联系人用户名、电子邮件和个人资料图片？

> ID：15677231
> 
> 赞同：2
> 
> 时间：2013-03-28T08:32:45.190
> 
> 标签：google-contacts-api

我在获取谷歌联系方式方面需要`username`帮助`email`，，，`picture`。此代码在获取电子邮件时工作正常：

```
var config = {
  'client_id': 'XXXXXXXXXXXX.apps.googleusercontent.com',
  //'scope': 'https://www.googleapis.com/auth/urlshortener',
  'scope': 'https://www.google.com/m8/feeds'
};

gapi.auth.authorize(config, function () {
  var authParams = gapi.auth.getToken(); // from Google oAuth
  authParams.alt = 'json';
  $.ajax({
    url: 'https://www.google.com/m8/feeds/contacts/default/full',
    dataType: 'jsonp',
    data: authParams,
    success: function (data) {
      alert(JSON.stringify(data))
    }
  });
}); 
```

此数据仅显示用户电子邮件地址，但我还想要用户名和个人资料图片。

这可能吗？请帮我。

# android - 运行 android 应用程序时出现 ClassNotFoundException

> ID：15677233
> 
> 赞同：2
> 
> 时间：2013-03-28T08:32:53.157
> 
> 标签：android, eclipse, classnotfoundexception, egit

我正在尝试[从](https://code.google.com/p/spydroid-ipcamera/). 但是，一旦它在我的 Nexus 4 上运行，就会遇到“不幸的是 Spydroid 已停止”。

我使用 egit 将代码的副本抓取到 eclipse 中的新项目中。那时，它抛出了几个错误，告诉我右键单击项目并选择 Android 工具 --> 修复项目属性。我按照它说的做了，然后点击运行，它将它上传到 Nexus 4，安装它，当它尝试运行时就是我崩溃的时候。

我在结帐/设置过程中做错了吗？[我在项目的谷歌代码页上](https://code.google.com/p/spydroid-ipcamera/issues/detail?id=92&thanks=92&ts=1364454233)发布了一个类似的帖子

**日志猫：**

```
03-28 02:59:20.028: D/AndroidRuntime(31294): Shutting down VM
03-28 02:59:20.028: W/dalvikvm(31294): threadid=1: thread exiting with uncaught exception (group=0x41920930)
03-28 02:59:20.028: E/AndroidRuntime(31294): FATAL EXCEPTION: main
03-28 02:59:20.028: E/AndroidRuntime(31294): java.lang.RuntimeException: Unable to instantiate application net.majorkernelpanic.spydroid.SpydroidApplication: java.lang.ClassNotFoundException: Didn't find class "net.majorkernelpanic.spydroid.SpydroidApplication" on path: /data/app/net.majorkernelpanic.spydroid-1.apk
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.app.LoadedApk.makeApplication(LoadedApk.java:504)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4364)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.app.ActivityThread.access$1300(ActivityThread.java:141)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1294)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.os.Looper.loop(Looper.java:137)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.app.ActivityThread.main(ActivityThread.java:5041)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at java.lang.reflect.Method.invokeNative(Native Method)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at java.lang.reflect.Method.invoke(Method.java:511)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at dalvik.system.NativeStart.main(Native Method)
03-28 02:59:20.028: E/AndroidRuntime(31294): Caused by: java.lang.ClassNotFoundException: Didn't find class "net.majorkernelpanic.spydroid.SpydroidApplication" on path: /data/app/net.majorkernelpanic.spydroid-1.apk
03-28 02:59:20.028: E/AndroidRuntime(31294):    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:65)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.app.Instrumentation.newApplication(Instrumentation.java:968)
03-28 02:59:20.028: E/AndroidRuntime(31294):    at android.app.LoadedApk.makeApplication(LoadedApk.java:499)
03-28 02:59:20.028: E/AndroidRuntime(31294):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:34:53.930

可能的错误可能是：

*   仔细检查包名

*   检查构建路径中的订单/导出选项

# java - Freemarker 模板加载

> ID：15677235
> 
> 赞同：2
> 
> 时间：2013-03-28T08:33:00.063
> 
> 标签：java, freemarker

在我的应用程序中，所有 freemarker 模板都在 /templates/ftl/ 中，因此在应用程序部署期间，我加载了一个类，我调用了一个扩展 FreemarkerManager 并具有方法的类

```
Configuration configuration = super.createConfiguration(servletContext);
configuration.setDirectoryForTemplateLoading(new File("/templates/ftl/")); 
```

这样，当我需要加载模板文件时，我可以简单地这样做：

```
 ServletContext servletContext = ServletActionContext.getServletContext();
    Configuration configFreemarker = (Configuration) servletContext
                    .getAttribute("freemarker.Configuration");
    Template template = configFreemarker.getTemplate("pathToMyTemplate"); 
```

仅在一种特定情况下，我需要获取来自完全不同路径（而不是 /templates/ftl/）的模板。

如何在这个特定的时刻声明用于模板加载的第二个目录而不破坏所有调用旧路径的现有代码？我可以同时有 2 个不同的模板加载起点吗？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-28T14:29:34.550

您可以使用`MultipleTemplateLoader`.

```
import freemarker.cache.*; // template loaders live in this package

...

FileTemplateLoader ftl1 = new FileTemplateLoader(new File("/tmp/templates"));
FileTemplateLoader ftl2 = new FileTemplateLoader(new File("/usr/data/templates"));
ClassTemplateLoader ctl = new ClassTemplateLoader(getClass(), "");
TemplateLoader[] loaders = new TemplateLoader[] { ftl1, ftl2, ctl };
MultiTemplateLoader mtl = new MultiTemplateLoader(loaders);

cfg.setTemplateLoader(mtl); 
```

资料来源：[Freemarker 手册](http://freemarker.sourceforge.net/docs/pgui_config_templateloading.html#autoid_41)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-26T20:18:58.033

另一种更优雅的方式（在我看来）是在配置 xml 中：

```
<bean id="freemarkerConfig" class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer">
  <property name="templateLoaderPaths">
        <value>/path1/ , /path2/</value>
  </property>
</bean> 
```

# java - 如何提供自己的 Web 服务实现实例？

> ID：15677240
> 
> 赞同：2
> 
> 时间：2013-03-28T08:33:19.793
> 
> 标签：java, web-services, websphere

我有一个在应用程序服务器（Websphere Application Server 7.0）上运行的 Web 服务（JAX-RPC）。通常开发过程是这样的：

*   我编写了一个带有 Web 服务实现的类（例如 MyService.java）
*   IDE 生成 Web 服务端点接口（例如 MyService_SEI.java）
*   IDE 生成配置 XML

部署 Web 服务时，MyService_SEI 是声明的服务接口，应用程序服务器通过公共无参数构造函数实例化 MyService 实例。

但是如果我想进行构造函数注入（即有没有无参数构造函数的 MyService 类）或者如果我想提供一个实现 MyService_SEI 并使用它的动态代理对象怎么办？

有没有办法控制实例化过程（如过滤器或拦截器）来实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T13:48:21.400

您不能进行构造函数注入，因为注入总是在调用默认构造函数之后发生。如果您尝试在默认构造函数中使用注入的引用，它总是会失败，没有解决方法，因为这是规范的要求。因此，您提到的第一个选项被丢弃。

对于第二个选项，使用过滤器或拦截器，您实际上有一个选项。WebSphere WebServices 是使用 Axis2 实现构建的，Axis 提供了一种[实现 Handlers](http://axis.apache.org/axis2/java/core/docs/jaxws-guide.html#Handlers)的方法。

您可以将处理程序添加到 JAX-WS 运行时环境中，以执行请求和响应消息的额外处理。

这是来自 Axis 文档的处理程序示例：

```
package org.apache.samples.handlersample;

import java.util.Set;

import javax.xml.namespace.QName;
import javax.xml.ws.handler.MessageContext;
import javax.xml.ws.handler.soap.SOAPMessageContext;

public class SampleProtocolHandler implements
       javax.xml.ws.handler.soap.SOAPHandler<SOAPMessageContext> {

   public void close(MessageContext messagecontext) {
   }

   public Set<QName> getHeaders() {
       return null;
   }

   public boolean handleFault(SOAPMessageContext messagecontext) {
       return true;
   }

   public boolean handleMessage(SOAPMessageContext messagecontext) {
       Boolean outbound = (Boolean) messagecontext.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);
       if (outbound) {
           // Include your steps for the outbound flow.
       }
       return true;
   }

} 
```

而不是像这样添加一个 handler.xml 文件：

```
 <?xml version="1.0" encoding="UTF-8"?> 
```

```
 <jws:handler-chain name="MyHandlerChain">
            <jws:protocol-bindings>##SOAP11_HTTP ##ANOTHER_BINDING</jws:protocol-bindings>
            <jws:port-name-pattern 
             xmlns:ns1="http://handlersample.samples.apache.org/">ns1:MySampl*</jws:port-name-pattern>
       <jws:service-name-pattern 
             xmlns:ns1="http://handlersample.samples.apache.org/">ns1:*</jws:service-name-pattern>
            <jws:handler>
                    <jws:handler-class>org.apache.samples.handlersample.SampleLogicalHandler</jws:handler-class>
            </jws:handler>
            <jws:handler>
                    <jws:handler-class>org.apache.samples.handlersample.SampleProtocolHandler2</jws:handler-class>
            </jws:handler>
            <jws:handler>
                    <jws:handler-class>org.apache.samples.handlersample.SampleLogicalHandler</jws:handler-class>
            </jws:handler>
            <jws:handler>
                    <jws:handler-class>org.apache.samples.handlersample.SampleProtocolHandler2</jws:handler-class>
            </jws:handler>
    </jws:handler-chain> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T22:42:38.117

一个简单的方法是创建两个类。一个你的班级有所有的花里胡哨（构造函数注入等让我们称之为工人）。和实际的服务。该服务将把它需要的东西委托给工人类，它可以通过调用一些工厂方法来获得。

工厂甚至可以查看一些常见的 db 或其他配置来决定哪个运行时实例（哪个类、什么配置、共享或公共），这样您就有了很好的分离和权力

仅仅因为您使用一种框架/注入方法并不意味着您不能混合以使其更强大

# python - django 模型 - 查询集问题

> ID：15677241
> 
> 赞同：0
> 
> 时间：2013-03-28T08:33:21.547
> 
> 标签：python, database, django

我正在尝试在 db 中搜索一个项目。db 中有两个项目，但我无法以某种方式获得第二个项目。我的代码在下面，结果只是第一行，`Bewertung`而不是第二行。

我的代码很简单：

```
locations = Location.objects.all()[:5] 
bewertungs = Bewertung.objects.filter(von_location__in=locations) 
```

为什么我在 db 中找不到第二个条目的原因是什么？我得到第一个记录`bewertung`是 4，但第二个没有出现在结果中。

**编辑**：

这就是 Bewertung 模型。

```
class Bewertung(models.Model):
   von_location= models.ForeignKey(Location,related_name="locations_bewertung",default="")
   von_user = models.ForeignKey(User,related_name="users_bewertung",default="")
   price_leistung = models.IntegerField(max_length=5,default=00)
   romantic = models.IntegerField(max_length=3,default=00)
   bewertung = models.IntegerField(max_length=3,default=00)
   def __unicode__(self):
       return self.bewertung 
```

这些是记录：

![在此处输入图像描述](../Images/bc96abe5ee43cbf2fd0b7f27521d7d2c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:45:13.993

```
class Bewertung(models.Model):
   //you don't have to put default="" because this is already required
   von_location= models.ForeignKey(Location,related_name="locations_bewertung")
   von_user = models.ForeignKey(User,related_name="users_bewertung")

   //use DecimalField instead of IntergerField
   //use max_digits not max_length because it is for string
   price_leistung = models.DecimalField(max_digits=3, decimal_place=2, default=0)
   romantic = models.DecimalField(max_digits=3, decimal_place=2, default=0)
   bewertung = models.DecimalField(max_digits=3, decimal_place=2, default=0)

   //you return your unicode with an int field which result to error 
   //so you must do it this way
   def __unicode__(self):
       return "{0}".format(self.bewertung) 
```

# java - 使用 Dimension 将 JFrame 最大化为屏幕大小

> ID：15677245
> 
> 赞同：1
> 
> 时间：2013-03-28T08:33:44.247
> 
> 标签：java, swing, jframe, fullscreen, dimension

我能想到的是我没有正确设置屏幕尺寸。日志显示高度和宽度看起来正确。从[摇摆步道](http://docs.oracle.com/javase/tutorial/uiswing/examples/start/HelloWorldSwingProject/src/start/HelloWorldSwing.java)：

```
package net.bounceme.dur.nntp.swing;

import java.awt.Dimension;
import java.awt.Toolkit;
import java.util.logging.Logger;
import javax.swing.*;
import java.awt.*;

public class HelloWorldSwing {

    private static final Logger LOG = Logger.getLogger(HelloWorldSwing.class.getName());

    private static void createAndShowGUI() {
        //Create and set up the window.
        JFrame frame = new JFrame("HelloWorldSwing");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

       // Container c = frame.getContentPane();
//        frame.getContentPane();
      //  c.setBackground(Color.YELLOW);
        // adjust to need.
        Dimension d = new Dimension(400, 40);
        //c.setPreferredSize(d);

        //Add the ubiquitous "Hello World" label.
        JLabel label = new JLabel("Hello World");
        frame.getContentPane().add(label);

        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
        int height = screenSize.height - 50;
        int width = screenSize.width - 50;
        frame.setSize(height, width);
        frame.setSize(d);
        LOG.info(height + "\t\t\t" + width);
        //Display the window.
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        //Schedule a job for the event-dispatching thread:
        //creating and showing this application's GUI.
        javax.swing.SwingUtilities.invokeLater(new Runnable() {

            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

强制性法律样板：

```
/*
 * Copyright (c) 1995, 2008, Oracle and/or its affiliates. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 *   - Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 *
 *   - Redistributions in binary form must reproduce the above copyright
 *     notice, this list of conditions and the following disclaimer in the
 *     documentation and/or other materials provided with the distribution.
 *
 *   - Neither the name of Oracle or the names of its
 *     contributors may be used to endorse or promote products derived
 *     from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */ 

/**
 * This example, like all Swing examples, exists in a package:
 * in this case, the "start" package.
 * If you are using an IDE, such as NetBeans, this should work 
 * seamlessly.  If you are compiling and running the examples
 * from the command-line, this may be confusing if you aren't
 * used to using named packages.  In most cases,
 * the quick and dirty solution is to delete or comment out
 * the "package" line from all the source files and the code
 * should work as expected.  For an explanation of how to
 * use the Swing examples as-is from the command line, see
 * http://docs.oracle.com/javase/javatutorials/tutorial/uiswing/start/compile.html#package
 */ 
```

截屏：

![在此处输入图像描述](../Images/0ad2326276df8968ea05507c9a9fddac.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T08:41:28.083

尝试删除`frame.pack();`. 这给出了扩展的框架。这是因为 pack() 导致框架[重新调整大小](http://docs.oracle.com/javase/6/docs/api/java/awt/Window.html#pack%28%29)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:42:26.837

1.  `Toolkit.getDefaultToolkit().getScreenSize()`不考虑任务/停靠栏等任何其他内容
2.  您正在调用`JFrame#pack`，它将将框架调整为其内容的首选大小

你应该使用`JFrame#setExtendedState(JFrame.MAXIMIZED_BOTH)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T08:42:02.840

您应该在代码中注释此行：

```
//frame.setSize(d); 
```

同时删除这一行：

```
//frame.pack(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T08:43:52.920

删除`pack()`呼叫。并尝试将所有三种方法设置为`setSize()`,`setPrefferredSize()`并且`setMaximumSize()`具有相同的维度。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-02-15T05:25:17.713

试试这个，

```
this.setExtendedState(MAXIMIZED_BOTH); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-12-31T22:57:53.983

只是要注意那些刚刚发现这一点的人，

`frame.setSize(height, width);`

是倒退，应该是：

`frame.setSize(width, height);`

否则当你运行程序时你会很快注意到（除非你有一个方形屏幕）你的 JFrame 不会覆盖你屏幕右侧的一部分。

此外，删除这部分代码以查看 JFrame 尝试占用大部分屏幕（我在 28 英寸显示器上使用上述代码（不带`frame.pack()`）获得了大部分屏幕：

`frame.setSize(d);`

上面的代码片段将您的 JFrame 更改为在 Dimension d 中定义的宽度 400、高度 40。

# javascript - 在 yii 中启用和禁用图像

> ID：15677249
> 
> 赞同：0
> 
> 时间：2013-03-28T08:34:17.193
> 
> 标签：javascript, yii

在 yii 表单中有一个用于同意条件的复选框。像这样的代码

```
<div class="row">                     
<?php echo $form->checkBox($model,'agree',array('id'=>'abc')); ?>
<?php echo $form->labelEx($model, 'agree'); ?>
<?php echo "<br><br>".$form->error($model,'agree'); ?>
</div>
<div class="row buttons" >
<?php  echo CHtml::imageButton(Yii::app()->request->baseUrl.'/images/home/Create.png',      array('submit'),array('id'=>'efg'));?></div> 
```

我想禁用图像按钮onload，并且在选中复选框时，我想启用图像按钮。yii怎么可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:55:30.540

在 javascript 中，您应该：

1.  检查复选框的状态
2.  根据此状态启用或不启用按钮

这是一个例子：

```
<script type="text/javascript">
/*<![CDATA[*/
jQuery(document).ready(function() {
    $('#abc').click(function () {
        if($('#abc').is(':checked')) {
            $("#efg").removeAttr("disabled");
        } else {
           $("#efg").attr("disabled", "disabled");
        }
    });
});
/*]]>*/
</script> 
```

# android - Android 增强现实上的标记图像传感器方法名称？

> ID：15677251
> 
> 赞同：1
> 
> 时间：2013-03-28T08:34:29.463
> 
> 标签：android, opengl-es, augmented-reality, marker

我使用框架 Pro Android 增强现实。

我想知道传感器标记中使用了什么方法。

用作彩色图片黑白方块的标记，扩展名为 .patt，但我想将标记图像更改为不同颜色的图像和我提到的此方法的 .png 或 .jpg 文件扩展名必须使用吗？

我知道OpenGL是一种传感器标记的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-21T05:17:59.847

转到本地数据源类并将您的位图添加到 'cachedMarkers' Arraylist 。像这样

Marker home = new IconMarker("" +name,30,10, 0,Color.WHITE, bitmap); cachedMarkers.add(home); ARData.addMarkers('缓存`enter code here`的标记');

像这样，您可以将任何图像添加到该点..根据方法将参数传递给 Icon Marker 类

# php - php计数分组值

> ID：15677258
> 
> 赞同：0
> 
> 时间：2013-03-28T08:34:51.707
> 
> 标签：php, mysql

我四处搜索并找到了许多解决我问题的方法，但我仍然遇到一个问题。我正在尝试创建一个每行有四个图像的表。这已经完成了。我已经告诉脚本按rewardid 分组，它这样做了，所以现在不会出现重复的图像（我在网站上找到了执行这些操作的步骤）。我遇到的问题是我试图在每个图像下放置一个乘数来计算每组中有多少。（即假设我有 5 枚奖牌。在我的页面上，它只显示一枚奖牌，但我真的有 5 枚，所以我希望它在图片下方显示 x5。）这就是我目前所拥有的：

```
print "<div class='style1'><br>  <br><h2>User Medals</div></h3><br />
<table width='80%' class='table' border='0' cellspacing='1'><tr bgcolor='gray'><th></th><th></th><th></th><th></th></tr>";
    $result=mysql_query("SELECT * FROM awardsearned WHERE userid=$userid group by rewardid");
    $count = 0;
    while($res=mysql_fetch_array($result))
    {
    $award = $res['rewardpic'];
    $award2 = $res['rewardid'];
    $result2=mysql_query("SELECT awardid, count(rewardid) FROM awardsearned WHERE rewardid=$award2 AND userid=$userid");
            $count2 = count($result2); 
        if($count==4) //three images per row
        {
           print "</tr>";
           $count = 0;
        }
        if($count==0)
           print "<tr>";
        print "<td>";

        print "<center><img src='$award' width='100' height='100'/><br />x$count2</center> ";

        $count++;
        print "</td>";
    }
    if($count>0)
       print "</tr>";
print "
</table>"; 
```

抱歉，如果这搞砸了，以前从未在这里发布过。如果需要，它在 pastebin 上[http://pastebin.com/iAyuAAzV](http://pastebin.com/iAyuAAzV)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:39:25.823

像这样更新您的查询：

```
SELECT *,COUNT(rewardid) no_of_rewards 
     FROM awardsearned WHERE userid=$userid group by rewardid 
```

`$res['no_of_rewards']`将保留您的号码。

这也将消除对第二个查询的需要。

这些东西被称为“聚合函数”。更多在[文档](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html)中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:53:23.237

要回答您的问题：

$result2 的值只会给出 TRUE(1) 或 FALSE(0)。如果您的查询正确执行 $count2 将返回 1，因此您的代码中总是会得到 1。

尝试并改变

```
$result2=mysql_query("SELECT awardid, count(rewardid) FROM awardsearned WHERE rewardid=$award2 AND userid=$userid");
$count2 = count($result2); 
```

**到：**

```
$result = mysql_query("SELECT awardid, count(rewardid) FROM awardsearned WHERE rewardid=$award2 AND userid=$userid");
$arr = mysql_fetch_array($result);
$count2 = count($arr); 
```

这应该为您提供结果集中的实际记录数。

有更好的方法来做到这一点（看看 Bart Friederichs 的回答！），比如只做 SELECT 并循环遍历结果集一次。这将是为了性能和灵活性。

还要考虑到 mysql_query 现在已弃用，不应使用。（首选方法是使用 PDO 或 mysqli 代替）

# javascript - 遮罩层（onclick）卡在 Internet Explorer 9 和 10 中

> ID：15677262
> 
> 赞同：0
> 
> 时间：2013-03-28T08:35:01.817
> 
> 标签：javascript, onclick, internet-explorer-9, mask, internet-explorer-10

我在一个简单的登录提交按钮上附加了一个“onclick”事件，它显示了一个关于包装 div 大小的掩码。但是，如果我在 Internet Explorer 9 和 10 中快速单击该按钮两次，则掩码会卡在那里。我在任何其他浏览器中都没有遇到过这种问题。

我创建了一个简单的演示： http: [//nagyhonlap.hu/IE9-10Mask/index.html](http://nagyhonlap.hu/IE9-10Mask/index.html)

有谁知道如何解决这个问题，但也保留原来的功能？

# android - 他们从 Android 源代码的哪里下载内核？

> ID：15677265
> 
> 赞同：0
> 
> 时间：2013-03-28T08:35:28.523
> 
> 标签：android, kernel

我试图深入研究 android 源代码，我意识到 Android 源代码不包含许多设备（如三星 toro 等）的预编译内核。

因此，我认为 Android 在构建时会下载必要的内核，但我找不到它们实际执行内核下载的代码。

我发现很少有相关文件，例如“generate-factory-images-package.sh”或“generate-packages.sh”，但它们似乎没有执行实际的下载过程。

有人可以指出Android实际获取必要内核的代码吗？

谢谢！

# css - 用图像替换硬编码链接

> ID：15677273
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:04.117
> 
> 标签：css

我想替换图像的标签链接。

我的链接如下所示：

```
<li id="backto-page"><a href="portfolio.html">&larr; Back to the Porfolio</a></li> 
```

现在我只使用了下面的css，但现在链接不起作用..只有de id backto-page a tag中的文本将不可见并且背景图像将显示..当您将鼠标悬停在链接上时也会有没有指针可见...

```
li#backto-page {
    text-indent: -9999px;
    background: #000 url(../images/list-icon.png) no-repeat center center;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:44:59.390

添加`display: block`到`li#backto-page a`您的 CSS 中。

```
li#backto-page a {
    display: block;
} 
```

[http://jsfiddle.net/5KNAt/](http://jsfiddle.net/5KNAt/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:40:08.537

用jquery试试

```
 $(function(){
        $("#backto-page").html('<img src="../images/list-icon.png"/>');

    }) 
```

# php - 查找相关帖子并按相关性对其进行排名

> ID：15677276
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:16.943
> 
> 标签：php, sql

我有一个包含不同文章的网站。数据库结构是这样的：

文章编号 | 文章位置 | 文章分类 | 文章主题

列的实际文本字符串位于另一个表中，因此所有列都填充有数字（整数）

我想查找相关帖子，这意味着如果用户阅读 ArticleLocation = 1、ArticleCategory= 3 和 ArticleTopic = 2 的文章，那么我想找到共享最多相同列值的前 5 篇文章。

关于如何做到这一点的任何想法？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:22:01.677

假设表名为`ArticleTable`，请尝试以下操作：

```
SELECT *, (
CASE ArticleLocation WHEN :loc THEN 1 ELSE 0 END +
CASE ArticleTopic WHEN :topic THEN 1 ELSE 0 END +
CASE ArticleCategory WHEN :cat THEN 1 ELSE 0 END) AS Relevance
FROM ArticleTable 
ORDER BY Relevance DESC
LIMIT 5 
```

，`:loc`并设置`:topic`为`:cat`相关值。

# cakephp - 如何更新翻译 cakephp 但不是主表

> ID：15677279
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:23.250
> 
> 标签：cakephp, internationalization

我已经向模型添加了翻译行为，模型在这里

```
App::uses('AppModel', 'Model');
class Category extends AppModel
{
    public $hasMany = "Product";
    public $validate = array(
        'name' => array(
            'rule' => 'notEmpty'
        )
    );
    public $actsAs = array(
        'Translate' => array(
            'name','folder','show'
        )
    );
    public $name = "Category";

    public $translateModel = 'KeyTranslate';
} 
```

这是用于更新模型的控制器

```
public function admin_edit_translate($id,$locale)
    {

    $this->Category->locale = $locale;          
    $category = $this->Category->findById($id);

    if ($this->request->is('post') || $this->request->is('put')) {
        $this->Category->id = $id;
        if ($this->Category->save($this->request->data)) {
            $this->Session->setFlash('Category translate has been updated');
            //$this->redirect(array('action' => 'edit',$id));
        } else {
            $this->Session->setFlash('Unable to update category');
        }
    }
    if (!$this->request->data) {
        $this->request->data = $category;
    }
    } 
```

我的问题是我在类别数据库中有一个名称字段，当我更新或创建新翻译时，它会使用翻译后的值进行更新。我该如何避免

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:11:50.640

您必须使用`Model::locale`值来设置代码语言以保存在数据库中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-10T18:07:33.110

发生这种情况是因为 TranslateBehavior 使用了 beforeSave 和 afterSave 之类的回调来保存翻译的内容，因此它需要让模型的保存操作继续进行，从而包含最后翻译的内容。

您可以通过像这样调用 beforeSave 和 afterSave 来欺骗 TranslateBehavior 认为模型正在保存某些内容来解决此问题：

```
$Model = $this->Category;

$Model->create($this->request->data);
$Model->locale = $locale;

$beforeSave = $Model->Behaviors->Translate->beforeSave($Model, array(
    array(
        'callbacks' => true
    )
));

if($beforeSave) {
    $Model->id = $id;
    $Model->Behaviors->Translate->afterSave($Model, true);
} 
```

这样翻译将被保存，主表将保持不变。可能不是保存翻译的最佳方式。为什么你需要保持主表不变？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-11T12:00:10.933

回调`Behavior::beforeSave`是在`Model::beforeSave`...

但是，在真正保存`Model::beforeSave`之前修改数据的最简单方法是：`Behavior::beforeSave`

```
$this->Behaviors->Behavior_Name->runtime[Model_Name]['beforeSave'][Field_Name] = '...'; 
```

# java - 使用带有 Java 和 JQuery 的 JSON 返回多组数据

> ID：15677281
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:30.353
> 
> 标签：java, jquery, json

我想使用 JSON 将数据集从 servlet 发送到 jsp。详细地说，我想要做的是从数据库中获取多行并在 jsp 中打印它们的值。我完成了数据库连接和数据获取的部分。但我找不到使用 JSONObject 将它们转发到 jsp 的方法。每行都有多个属性（列值）。请帮我解决问题。

我正在做的是：

```
Collection <JsonObject> c=new ArrayList();
JsonObject j[] = null;  

for(int i=0;i<uid_list.size();i++){//uid_list contains all the user_id's from the database
               j[i].add("uid", j[i]);
               j[i].add("fname", j[i]);
               j[i].add("lname", j[i]);
               j[i].addProperty("uid", uid_list.get(i).toString());
               j[i].addProperty("fname", fname_list.get(i).toString());
               j[i].addProperty("lname", lname_list.get(i).toString());
               c.add(j[i]);
} 
```

另外，JsonObject 和 JSONObject 之间有什么区别吗？后者在 servlet 中无法识别，并且通过使用 JsonObject 无法识别 put 方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:41:32.137

除了尝试插入未初始化数组的代码之外，还有许多用于 Java 的 JSON 库。您需要提供更多详细信息，您正在使用哪个

此外，如果您的目标只是将 JSON 字符串传递到浏览器，您甚至可能不需要 jsp，您可以直接将 JSON 对象的字符串版本写入 HttpResponse

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:42:06.970

首先，在使用 JspnObject 数组之前必须对其进行实例化。因此，这意味着以下内容：

```
JsonObject j[] = new JsonObject[noOfObjects to be iterated] 
```

# android - 如何在结果上使用活动？

> ID：15677284
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:35.977
> 
> 标签：android

```
 String s1 = e1.getText().toString();
            String s2 = e2.getText().toString();
            String s3 = e3.getText().toString();

            Intent updateIntent = new Intent(DetailActivity.this,MainActivity.class);
            Bundle bundle = new Bundle();
            bundle.putString("name", s1);
            bundle.putString("lat", s2);
            bundle.putString("lon", s3);

            updateIntent.putExtras(bundle); 
```

这是我放置数据的第一堂课。我将我将很快使用的第二类数据发送到我在代码中使用的第一类。现在我必须再次在我的第一堂课中使用这些捆绑数据。有一个 ArrayList 项，我从 JSON 中放入数据。我必须在我的第一堂课上再次更改这些数据。我希望我能解释我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:42:47.073

要将活动用于结果，您应该**首先**在第一堂课中开始：

```
startActivityForResult(intent, 1); 
```

在**第二堂课**中，您需要设置结果并完成活动：

```
Intent i = getIntent();
String msg = i.getStringExtra("color");
if (msg.contentEquals("choosecolor")) 
{
    i.putExtra("chosencolor", color);
    setResult(RESULT_OK, i);
    finish();
} 
```

在**第一堂课**中，您可以使用以下代码接收数据：

```
 protected void onActivityResult(int requestCode, int resultCode, Intent data) {

     if (resultCode == RESULT_OK) {
         //get the data sent from the second class here...
         data = data.getStringExtra("key");
         //do something with my precious data
     }
 } 
```

# linux - C、无函数将十六进制数转换为十进制数

> ID：15677286
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:44.873
> 
> 标签：linux, hex, decimal, converter

我正在尝试将十六进制数转换为十进制数。到目前为止，我想出的是：

```
#include <unistd.h>
#include <stdio.h>

long convert(char *input, short int *status){
    int length = 0;
    while(input[length])
    {
        length++;
    } 
    if(length = 0)
    {
        *status = 0;
        return 0;
    }
    else
    {
        int index;
        int converter;
        int result = 0;
        int lastNumber = length-1;
        int currentNumber;
        for(index = 0; index < length; index++){
            if(index == 0)
            {
                converter = 1;
            }

            else if(index == 1)
            {
                converter = 16;
            }

            else{
                converter *= 16;
            }
            if(input[lastNumber] < 45 || input[lastNumber] > 57)
            {
                *status = 0;
                return 0;
            }
            else if(input[lastNumber] > 45 && input[lastNumber] < 48)
            {
                *status = 0;
                return 0;
            }

            else{
                if(input[lastNumber] == 45)
                {
                    *status = -1;
                    return result *= -1;
                }
                currentNumber = input[lastNumber] - 48;
                result += currentNumber * converter;
                lastNumber--;
            }
        }
        *status = -1;
        return result;
    }
}

int main(int argc, char **argv)
{
    char *input=0;
    short int status=0;
    long rezult=0;
    if(argc!=2)
    {
        status=0;
    }
    else
    {
        input=argv[1];
        rezult=convert(input,&status);
    }

    printf("result: %ld\n", rezult);
    printf("status: %d\n", status);

    return 0;
} 
```

不知何故，我总是得到结果 0。我也不允许使用任何其他外部函数（printf 除外）。我上面的代码可能有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:38:57.647

这个：

```
if(dolzina = 0)
{
    *status = 0;
    return 0;
} 
```

不仅仅是 testing `dolzina`，它首先将其*设置*为 0。这会导致`else`子句运行，但`dolzina`等于 0 这不是预期的结果。

当然，您应该只用于`==`比较。

# php - Codeigniter Core 类无法加载（Linux）

> ID：15677288
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:52.620
> 
> 标签：php, codeigniter

在我的 Windows Web 服务器中一切正常，即使我将它放在子文件夹中，核心类也已成功加载，但是当我将其上传到子文件夹中的 Linux 服务器时，我收到一个错误，即没有类 MY_someclass 扩展 CI_Controller核心，如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:40:33.060

检查你的类和文件的大小写 - Windows 不在乎，Linux 不在乎

99.9% 的时间是这个问题

# struts2 - 如何使用 struts 2 动态更改图块 3 的属性值？

> ID：15677289
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:53.420
> 
> 标签：struts2, tiles-3

我的`tiles.xml`文件中有以下代码。

我有一个 Struts2 Action，它从数据库中获取数据并填充到`sidebar.jsp`显示定义`siderbar.jsp`中

我被困了一个星期，请帮帮我。

```
 <definition name="baseLayout" template="/jsp/baseLayout.jsp">
      <put-attribute name="header" value="/jsp/header.jsp"/>
      <put-attribute name="menu"   value="/jsp/menu.jsp"/>
      <put-attribute name="body"   value="/jsp/body.jsp"/>
      <put-attribute name="sidebar"   value="/jsp/sidebar.jsp"/>    
      <put-attribute name="footer"   value="/jsp/footer.jsp"/>
   </definition>

   <definition name="show" extends="baseLayout">
      <put-attribute name="body"   value="/jsp/body.jsp"/>
   </definition>

   <definition name="listview" extends="baseLayout">
      <put-attribute name="body"   value="/jsp/listview.jsp"/>
   </definition> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:43:22.187

据我了解，sidebar.jsp 是保存侧边栏数据的 JSP。检查用于填充 JSP 的对象的值。

```
 I again hit another method of same action for another work and this time
 I populate list view definition but my previous data of siderbar.jsp does not
 retain its value. 
```

当您点击另一个动作时，该动作的所有变量都会再次初始化，这可能是您的 sidebar.jsp 无法保留先前数据的原因。

一种简单的解决方案是将与 sidebar.jsp 相关的数据存储在会话中

希望这可以帮助 ：）

# c# - 编辑/添加项目到 Resources.resx

> ID：15677290
> 
> 赞同：0
> 
> 时间：2013-03-28T08:36:59.733
> 
> 标签：c#

我尝试将项目动态添加到 Resources.resx。目前我正在使用 RessourceWriter，但这不起作用（它会生成 *.resources 文件并且不写入 .resxfile）。

```
 ResourceWriter writer = new ResourceWriter("Resources.resx");
        writer.AddResource(string.Concat("AppImage",indes.ToString()), newImg);
        writer.Close(); 
```

有人可以告诉我我做错了什么，或者甚至不可能将项目动态添加到 Ressources.resx 吗？

提前谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:09:30.990

resx 文件旨在在开发/设计时填充资源，而不是在运行时填充，请记住，有一个资源设计器类包含 IDE 自动生成的代码。

您可以在项目预构建事件中填写您的 resx 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-27T15:02:57.873

这是一种在运行时更新 resx 文件的方法。

```
string ResxFile = System.IO.File.ReadAllText("Properties/Resources.resx");
string wordResxName = resxname;
string word = resxvalue;
string ResxAddStrings = "  <data name=\"" + wordResxName + "\" xml:space=\"preserve\">\r\n    <value>" + word + "</value>\r\n  </data>\r\n";
ResxAddStrings += "</root>";
System.IO.File.WriteAllText("Properties/Resources.resx", ResxFile); 
```

# java - 如何从 HttpServletResponse 获取 xml 字符串 - 调试时

> ID：15677291
> 
> 赞同：3
> 
> 时间：2013-03-28T08:37:15.503
> 
> 标签：java, google-app-engine

当您想查看将要返回的内容时，您如何调试 HttpServletResponse。那是标题和内容，基本上都是。

信息：`resp.setContentType("text/html");`

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:47:56.157

您应该使用and编写自己的`OutpustStream`包装器。拦截写入响应的内容。`Filter``HttpServletResponseWrapper`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T08:51:55.033

您可以在源代码中搜索写入 HttpServletResponse 输出流的任何内容。HttpServletResponse 不会保留已写入它的所有内容的完整副本。您还可以阅读所有 get* 方法的 javadoc 以查找有关该特定 HttpServletResponse 的更多信息

[http://docs.oracle.com/javaee/5/api/javax/servlet/http/HttpServletResponse.html](http://docs.oracle.com/javaee/5/api/javax/servlet/http/HttpServletResponse.html)

# android - 从广播接收器绑定远程服务

> ID：15677293
> 
> 赞同：0
> 
> 时间：2013-03-28T08:37:26.213
> 
> 标签：android, broadcastreceiver

我有一个名为**BroadcastReceiver**`StartService`，它在手机启动时启动，然后启动服务，但是当我从这个**BroadcastReceiver**去服务时， 我得到了异常：

> android.content.ReceiverCallNotAllowedException: IntentReceiver 组件不允许绑定到服务

我的代码如下：

```
import android.content.BroadcastReceiver;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.IBinder;
import android.util.Log;

public class StartService extends BroadcastReceiver {
        private RemoteServiceConnection conn = null;
        private IMyRemoteService remoteService;
        @Override
        public void onReceive(Context context, Intent intent) {
        // TODO Auto-generated method stub
        Intent startServiceIntent = new Intent(context, RemoteServiceClient.class);
                                    context.startService(startServiceIntent);
                                    conn = new RemoteServiceConnection();

                                        Intent i = new Intent();
                                        i.setClassName("com.collabera.labs.sai", "com.collabera.labs.sai.RemoteService");
                                        context.bindService(i, conn, Context.BIND_AUTO_CREATE);
                                }

                                class RemoteServiceConnection implements ServiceConnection {
                                    public void onServiceConnected(ComponentName className, 
                                        IBinder boundService ) {
                                      remoteService = IMyRemoteService.Stub.asInterface((IBinder)boundService);
                                      Log.d( getClass().getSimpleName(), "onServiceConnected()" );
                                    }

                                    public void onServiceDisconnected(ComponentName className) {
                                      remoteService = null;
                                       Log.d( getClass().getSimpleName(), "onServiceDisconnected" );
                                    }
                                };
                            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:16:16.647

一些步骤如下。

**步骤1：**

```
public class StartService extends BroadcastReceiver
        {  
            @Override
            public void onReceive(Context context, Intent intent) {
                Intent startServiceIntent = new Intent(context, myServices.class);
                context.startService(startServiceIntent);           
            }    
        } 
```

**第2步：**

```
// make all service related task 
```

**第 3 步：**

```
<service
            android:name=".myServices"
            android:enabled="true" />
        <receiver android:name="com.yourpackage.StartService " >
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
            </intent-filter>
        </receiver> 
```

我总是以这种方式使用 BroadcastReceiver 和服务。

可能对您有帮助。如果有帮助，请接受答案。

# c# - 底层连接已关闭：连接意外关闭 wcf

> ID：15677294
> 
> 赞同：1
> 
> 时间：2013-03-28T08:37:32.423
> 
> 标签：c#, .net, wpf, wcf, silverlight

我在 WPF 项目中使用 WCF 服务。我有大量数据，表中有大约 847 000 条记录。此异常在客户端引发

在虚拟机中

```
proxy.ServicesClient client = new proxy.ServicesClient();
var result = client.GetCustomers(); // here throws ('ComunicationException was unhandled by user code: The underlying connection was closed: The connection was closed unexpectedly.') 
```

在 App.config 中

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    <system.serviceModel>
      <bindings>
        <basicHttpBinding>
          <binding name="BasicHttpBinding_IServices" closeTimeout="00:10:00"
              openTimeout="00:10:00" receiveTimeout="00:10:00" sendTimeout="00:10:00"
              maxBufferSize="2147483647" maxReceivedMessageSize="2147483647">
            <security mode="None" />
          </binding>
        </basicHttpBinding>
      </bindings>
      <behaviors>
        <endpointBehaviors>
          <behavior name="clientBehavior">
            <dataContractSerializer maxItemsInObjectGraph="2147483647" />
          </behavior>
        </endpointBehaviors>
      </behaviors>
        <client>
            <endpoint address="http://localhost:7902/WpfStoreService.svc"
                binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IServices"
                contract="proxy.IServices" name="BasicHttpBinding_IServices" behaviorConfiguration="clientBehavior" />
        </client>
    </system.serviceModel>
</configuration> 
```

在 Web.Config 中

```
<?xml version="1.0"?>
<configuration>

  <connectionStrings>
    <add name="AdventureWorksLTConnectionString" connectionString="Data Source=.;Initial Catalog=AdventureWorksLT;Integrated Security=True;" />
  </connectionStrings>

  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>

  <system.serviceModel>    

    <bindings>
      <basicHttpBinding>    
        <binding name="BasicHttpBinding_IServices" receiveTimeout="00:10:00" sendTimeout="00:10:00" openTimeout="00:10:00" closeTimeout="00:10:00"
                 maxReceivedMessageSize="2147483647"
                 maxBufferSize="2147483647"
                 maxBufferPoolSize="2147483647">
          <readerQuotas maxDepth="2147483647"
                        maxStringContentLength="2147483647"
                        maxArrayLength="2147483647"
                        maxBytesPerRead="214748364"
                        maxNameTableCharCount="2147483647"/>

          <security mode="None"/>
        </binding>

      </basicHttpBinding>
    </bindings>

    <services>
      <service name="WpfStore.Services.Services" behaviorConfiguration="debugbehavior">
        <endpoint address="" binding="basicHttpBinding" contract="WpfStore.Services.Contracts.IServices" bindingConfiguration="BasicHttpBinding_IServices"/>
      </service>
    </services>

    <behaviors>
      <serviceBehaviors>
        <behavior name="debugbehavior">
          <serviceMetadata httpGetEnabled="true"/> 
          <serviceDebug includeExceptionDetailInFaults="false"/>
          <dataContractSerializer maxItemsInObjectGraph="2147483647"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
  </system.serviceModel>
 <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>   
  </system.webServer>  
</configuration> 
```

注意： **1.**它不适用于大量数据。在这种情况下，我在表中有大约 847 000 条记录。它可以完美地处理小数据（大约 5000 - 6000 条记录）。 **2.**我对其进行调试，并将所有记录从 SQL 服务器检索到我的 DAL；在我从客户端调用此服务功能后，此异常会在 5-10 秒内上升。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-26T11:59:54.183

我刚刚在我的代码中添加了这一行

```
System.Net.ServicePointManager.Expect100Continue = false; 
```

[在 MSDN 上](http://social.msdn.microsoft.com/Forums/en-US/246ffc07-1cab-44b5-b529-f1135866ebca/exception-the-underlying-connection-was-closed-the-connection-was-closed-unexpectedly?forum=netfxnetcom&prof=required)找到解释

希望这会帮助你。

# cloud-foundry - 在 CloudFoundry 上部署 OpenEMR

> ID：15677295
> 
> 赞同：0
> 
> 时间：2013-03-28T08:37:43.503
> 
> 标签：cloud-foundry

我在我的实验室环境中设置了 cloudfoundry。我正在尝试在其上部署 openEMR ( [http://www.open-emr.org/](http://www.open-emr.org/) )。

此应用程序需要一些文件和文件夹的写入权限。应用程序推送成功并运行，但我不知道如何授予这些文件和文件夹的写权限。由于许可，我坚持安装并且没有安装应用程序。

请告诉我如何授予所需文件夹和文件的写权限。

谢谢拉纳费萨尔穆尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T00:53:24.607

Cloud Foundry 上的文件系统是短暂的，如果您重新启动应用程序，写入文件系统的任何内容都会丢失。我会研究在应用程序中持久化数据的其他方法。

# python - python如何从字符串中提取运算符

> ID：15677296
> 
> 赞同：6
> 
> 时间：2013-03-28T08:37:44.583
> 
> 标签：python, regex

我想提取运算符，例如：`+,-,/,*`以及`(,),_`字符串

例如。

```
a-2=b
(c-d)=3 
```

输出：

```
- ,=, (, -, ), = 
```

这不起作用：

```
re.finditer(r'[=+/-()]*', text) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T08:40:08.140

您`re`需要使用反斜杠转义某些字符。（`+`, `-`, `(`,`)`在 中具有特殊含义`re`）。

无论如何，为此你不需要`re`：

```
(c for c in s if c in '+-/*()_') 
```

# php - 提交表单后禁用重新加载页面

> ID：15677298
> 
> 赞同：4
> 
> 时间：2013-03-28T08:37:47.240
> 
> 标签：php, javascript, html

我有一个创建动态表的脚本。用户单击按钮后，`row`将添加表格底部的下一步。：

```
function createRow()
        {
            var options='<select name="nameselect'>
            options+='<option>one</option>';
            options+='</select>';
        options+='<input type=\'submit\' name=\'loadReq\' value=\'Pobierz dane\' />';
            var form = document.createElement('form'); // create row node
            var row = document.createElement('tr'); // create row node
            var col = document.createElement('td'); // create column node
            var col2 = document.createElement('td'); // create second column node
            var col3 = document.createElement('td'); // create column node
            var col4 = document.createElement('td'); // create second column node
            var col5 = document.createElement('td'); // create column node
            var col6 = document.createElement('td');
            form.appendChild(col);
            row.appendChild(form); // append first column to row
            row.appendChild(col2); // append second column to row
            row.appendChild(col3); // append first column to row
            row.appendChild(col4); // append second column to row
            row.appendChild(col5); // append first column to row
            //row.appendChild(col6);
            col.innerHTML = options; 

            col2.innerHTML = 'some text'; // put data in second column
            col3.innerHTML = 'some text';
            col4.innerHTML = 'some text';           
            col5.innerHTML = 'some text';
            table.insertAdjacentElement('beforeEnd', row);
            counter++;
        } 
```

所以现在我`some text`在 2-5 列中添加具有值的行，并`drop down list`在第一列中添加按钮作为表单。

但是每当我提交表单时，页面都会重新加载，因此我的`JavaScript`功能不再存在，结果我得到的页面与我之前打开的页面完全相同，并且我添加的行消失了。

是否可以提交表单并且不会失去`JavaScript`功能的影响？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:39:34.167

您可以考虑使用 AJAX 提交表单： http: [//www.malsup.com/jquery/form/](http://www.malsup.com/jquery/form/)

这样，您可以使用表单中的数据执行一些操作，并向用户提供反馈，而无需触发整页刷新。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:21:17.073

我认为您对 PHP/Javascript 的所有可能性感到迷茫。

要更新您向用户显示的内容，即使您想使用用户在表单中输入的数据，也无需提交表单。可以使用 Javascript 来完成（无需重新加载页面）：

```
var userInput = document.getElementById('userInput').value; 
```

现在，如果您想提交表单以在 PHP 中获取和使用用户输入（例如更新数据库......），您可以提交表单，当您重新显示它时（页面重新加载后），使用以前的用户输入。做这样的事情：

```
echo '<input type="text" name="userInput" value="'.$_POST['userInput'].'">'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:40:17.920

要么取消按钮单击的默认行为，要么将其从 an 更改`<input type="submit">`为`<input type="button">`or `<button>`（两者都没有默认行为）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T08:40:34.867

如果您添加`return false;`到提交表单时调用的函数，它将阻止表单提交。

```
function createRow(){
    /*Code*/
    return false;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T08:40:44.587

```
 table.insertAdjacentElement('beforeEnd', row);
    counter++;
    return false;
} 
```

额外的`return false;`使它不会像通常那样提交表单。

# android-activity - 首选项屏幕选项（CheckBoxPreference 和 EditTextPreference）未显示

> ID：15677302
> 
> 赞同：2
> 
> 时间：2013-03-28T08:38:06.797
> 
> 标签：android-activity, android-preferences

我是安卓新手。我的首选项屏幕选项未显示。我正在关注下面的教程部分“首选项”和“创建设置活动”（[https://wiki.oulu.fi/display/esde/List+views%2C+Intents%2C+Preferences+and+Notifications](https://wiki.oulu.fi/display/esde/List+views%2C+Intents%2C+Preferences+and+Notifications)）

这是我的 SettingsActivity.java 类

```
public class SettingsActivity extends Activity {

public static class SettingsFragment extends PreferenceFragment {
    private  SettingsFragment settingsFragment = null;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Load the preferences from an XML resource
        addPreferencesFromResource(R.xml.preferences);
        settingsFragment = new SettingsFragment();

        // Display the fragment as the main content.
        getFragmentManager().beginTransaction()
        .replace(android.R.id.content, settingsFragment)
        .commit();
    }
} 
```

这是首选项的设置

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<PreferenceCategory android:title="@string/server_settings" >
</PreferenceCategory>

<CheckBoxPreference
    android:defaultValue="false"
    android:key="@+id/pref_check"
    android:summaryOff="@string/pref_off"
    android:summaryOn="@string/pref_on" >
</CheckBoxPreference>

<EditTextPreference
    android:key="@+id/pref_edit" 
    android:defaultValue="@string/pref_default"
    android:dialogTitle="@string/edit_text_pref">

</EditTextPreference> 
```

在主要活动中，我有以下启动 SettingActivity 类的方法。

```
//  launch the settings activity
public boolean onOptionsItemSelected(MenuItem item) {
    startActivity(new Intent(this, SettingsActivity.class));
    //return super.onOptionsItemSelected(item);
    return true;
} 
```

我还在主要活动下添加了以下代码，onCreate 方法从首选项设置文件中初始化设置的默认值

```
PreferenceManager.setDefaultValues(this, R.xml.preferences, false); 
```

你能帮我解决这个问题吗？

# compilation - Makefile 输出文件夹

> ID：15677308
> 
> 赞同：0
> 
> 时间：2013-03-28T08:38:20.583
> 
> 标签：compilation, makefile, g++

我有一个makefile，我想做的就是让我的可执行文件转到我拥有所有文件的文件夹中创建的文件夹。假设我有一个文件夹，其中有一些.cpp文件，我创建了一个文件夹在这个名为 OUTPUT 的文件夹中（在编译期间），我希望我的 exec 用这些 cpp 文件制作到这个文件夹中。我怎么做？
提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:08:17.157

```
OUTPUT/exec: foo.cpp bar.cpp baz.cpp
    g++ $^ -o $@ 
```

改进是可能的，但这会让你开始。

# sql - 您可以选择从一个实例到另一个实例的表吗？

> ID：15677310
> 
> 赞同：2
> 
> 时间：2013-03-28T08:38:26.380
> 
> 标签：sql, sql-server, ssms

如果我有 2 个实例，一个在服务器上，另一个在我的本地计算机上。两者都有相同的数据库（这是用于开发），但是一个表在一个实例上发生了变化，我希望它在另一个实例上也发生变化，而不需要在另一个实例上重新运行查询等，是否可以对`COPY`表还是从一个实例到另一个实例的表`INSERT INTO`？`SELECT INTO`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:03:29.973

是的，您可以为该用例定义链接服务器。见[这里](http://msdn.microsoft.com/en-us/library/ms188279.aspx)。

另一种方法是设置 SSIS 包，或使用 Visual Studio 数据工具中的数据比较功能。

# dns - 注册域名时如何隐藏个人信息？

> ID：15677314
> 
> 赞同：-1
> 
> 时间：2013-03-28T08:38:35.067
> 
> 标签：dns, registration, domain-name

我注册了几个域名（.de、.com），但即使我订购了隐藏我的 whois 记录的选项，似乎总有办法检索我的个人信息（不希望每个人都能看到）我住的地方等）。

肯定有一点我错过了，或者被误解了。

有人可以向我澄清这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:18:29.703

.com 域的 whois 数据库中需要有有效的联系信息。

一些托管服务提供商提供隐私数据包来隐藏您的信息。

我不确定您是否可以对 .de 域名执行相同操作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T07:17:40.887

您可以在[域注册](http://hioxindia.com/checkAvailability.php)过程中启用或禁用隐私保护。但是，隐私保护选项不适用于以下域名：CA、.CO.NZ、.NET.NZ、.ORG.NZ、.TEL、.DE、.EU、.ES、.CO.IN、. NET.IN、.ORG.IN、.GEN.IN、.FIRM.IN、.IND.IN、.CO.UK、.ME.UK、.ORG.UK、.IN、.US、.ASIA。

# ruby-on-rails - 如何启动在机器重新启动的某些端口上运行的 Rails 应用程序

> ID：15677315
> 
> 赞同：1
> 
> 时间：2013-03-28T08:38:36.803
> 
> 标签：ruby-on-rails, capistrano, unicorn, rvm-capistrano

如何在 EC2 实例中重新启动的机器上使用 unicorn 启动 Rails 应用程序。我们使用 capistrano 进行部署和启动，但想知道如何在机器重新启动时解决这个问题。

# android - Android 更改 ToggleButton 状态 - TextView 或其他 android.widget

> ID：15677318
> 
> 赞同：1
> 
> 时间：2013-03-28T08:38:47.813
> 
> 标签：android, android-widget

我正在使用 GCM，并且在调用我的服务器后的 onRegistered 方法中，我必须在 AppSettings Activity 中更改 toggleButton 的状态

```
//called when i click the toggleButton
    public void onPushStateButtonClicked(View view) {
                // controllo se il bottone è su on
                boolean on = ((ToggleButton) view).isChecked();
                PushClientService p = new PushClientService();
                if (on) {
                    savePushStateButton(true);
                    // se il bottone  in impostazioni è settato ad on registro il dispositivo
                    p.pushService(this);
                }else if(!on) {
                    savePushStateButton(false);
                    // se il bottone  in impostazioni è settato ad on cancello il dispositivo
                    //nel caso sia il primo accesso essendo il bottone a false di default preveniamo l'eccezione
                    try{    
                        GCMRegistrar.unregister(this);
                    }catch(IllegalArgumentException iAE){
                        Log.e("Errore:","stai cercando di cancellate un device non registrato");
                    }
                }
            } 
```

在另一个类 GCMIntentService

```
protected void onRegistered(Context context, String registrationId) {
            Log.i(TAG, "Device registered: regId = " + registrationId);
            Log.d("onRegistered", getString(R.string.gcm_registered));
            boolean myServerRegistration=ServerUtilities.customRegistration(context, registrationId);
            if(!myServerRegistration){
                // Errore sulla registrazione sul server, deregistro il device
                GCMRegistrar.unregister(context);
                **//change the state of the ToggleButton**

            }
        } 
```

我想通过另一个有上下文的简单类将其值设置为 false，这可能吗？或者我可以刷新一个活动吗？

tnks 的回应！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T16:35:49.950

我已经解决了自己这是活动中的代码

```
// Set AppSettings object into GCMIntentService
        GCMIntentService.setActivityMain(AppSettings.this); 
```

这是在 GCMIntent 类中：

```
protected static AppSettings activityMain;

public static void setActivityMain(AppSettings a){
        activityMain = a;
    }
// run on UI thread
public void changePushStateButtonStatus(){

    activityMain.runOnUiThread(new Runnable() {
        @Override
        public void run() {
            activityMain.pushStateButton.setChecked(false);    
        }
    });
}

protected void onRegistered(Context context, String registrationId) {
        Log.i(TAG, "Device registered: regId = " + registrationId);
        Log.d("onRegistered", getString(R.string.gcm_registered));
        boolean myServerRegistration=ServerUtilities.customRegistration(context, registrationId);
        if(!myServerRegistration){
            // Error on our server registration, unregister the device
            GCMRegistrar.unregister(context);
            // Save on sharedPreference the button status
            savePushStateButton(false);
            // Start a thread on UI to change the button status
            changePushStateButtonStatus();
        }
    } 
```

# c# - c# 修改SQL数据

> ID：15677321
> 
> 赞同：0
> 
> 时间：2013-03-28T08:38:58.523
> 
> 标签：c#, sql

我正在用 C# 制作一个具有基本编码经验的基本票务系统。我的大部分经验是在 SQL 中。

我有数据库和表。我已经存储了创建和修改票证的过程。

我被卡住了（这可能是非常基本的），因为：

1.  在我的 EDIT 票证页面上，我通过内联 SQL 从现有数据中填充各种文本框和下拉列表。

2.  在我的页面上，我可以使用新值编辑所有字段和下拉列表。（即从首次记录时更改票证优先级）

3.  我有一个按钮，它调用我的“更新”存储过程，但是它只更新我拥有的新字段，对现有字段的任何修改都会在提交之前被原始值覆盖。

原始值在页面加载时被调用，所以我认为按钮在提交之前会重新加载页面。我希望它提交屏幕上的所有值。

我认为这一定很明显，记住我是新手，所以我可能错过了一些简单的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:42:26.447

如果您要说的是您将数据库中的值加载到 PageLoad 事件处理程序中的表单控件中，那么是的，您可能正在覆盖更改的值。为了使事情尽可能简单，请将原始值加载代码包装在以下内容中：

```
if( !IsPostBack )
{
   // load initial form values here from DB
} 
```

我建议您阅读有关 ASP.NET 页面生命周期的信息：http: [//msdn.microsoft.com/en-us/library/ms178472 (v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/ms178472(v=vs.90).aspx)

# haskell - 使用 GHCi 测试 FFI 代码（带有“外国进口”）

> ID：15677323
> 
> 赞同：11
> 
> 时间：2013-03-28T08:38:59.220
> 
> 标签：haskell, ffi, ghci

大家好（您的当地时间）。

我浏览了[Real World Haskell 关于外部函数接口的章节，并](http://book.realworldhaskell.org/read/interfacing-with-c-the-ffi.html)[在此处](http://en.wikibooks.org/wiki/Haskell/FFI)进行了一些后续阅读。我现在正在尝试绑定到 C 函数，我想澄清一些事情。

以下是相当清楚的：

```
foreign import ccall unsafe "math.h sin" c_sin :: CDouble -> CDouble 
```

我可以加载这个和在 ghci 中使用它的代码，一切都很好。它甚至以 emacs 的 Haskell 模式加载到嵌入式 ghci 中。我发现这非常适合测试。 `math`是一个系统库，所以这很简单。

现在是 Real World Haskell 的一个例子：

```
foreign import ccall unsafe "pcre.h pcre_compile" c_pcre_compile :: ... 
```

我故意省略了其余的函数签名。现在，我无法在 Haskell 模式下加载它。我见过的所有例子都说必须这样做：

```
ghci -lpcre 
```

我这样做，并立即确认事情正在正确加载：

```
GHCi, version 7.6.2: http://www.haskell.org/ghc/  :? for help
Loading package ghc-prim ... linking ... done.
Loading package integer-gmp ... linking ... done.
Loading package base ... linking ... done.
Loading object (dynamic) /usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/../../../../lib/libpcre.so ... done
final link ... done 
```

然后我可以加载我的绑定代码并进行测试，但是...

*_问题 1_*我可以从 ghci 中加载非系统库，比如 pcre 吗？这将允许我在 emacs 中进行测试。

继续。当我尝试编写绑定到我*自己的*C 代码时，事情变得更加复杂。

```
foreign import ccall unsafe "myprint.h myprint" c_myprint :: CString -> IO () 
```

诚然，这是一个毫无意义的功能。它从 Haskell 中获取一个 ByteString 并用 C 打印它。这是一个简单的测试文件：

```
{-# LANGUAGE ForeignFunctionInterface #-}
-- printTest.hs

import Foreign
import Foreign.C.Types
import Foreign.C.String

import qualified Data.ByteString.Char8 as B

---

foreign import ccall unsafe "myprint.h myprint" c_myprint :: CString -> IO ()

---

main = B.useAsCString (B.pack "Tempura is great!") c_myprint 
```

我已经能够通过这样做来编译它：

```
ghc --make myprint.c printTest.hs 
```

并获得一个可执行文件，但我根本无法在 ghci 中加载它。这严重滞后于测试过程。

*_问题 2_在绑定到**我的*C 代码的 ghci 中加载 Haskell 代码需要做什么？FFI 信息的主要来源都没有对此发表任何看法。再多的摆弄`ghci -L`也无法让它发挥作用。

请并感谢您提供的任何帮助。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-28T10:17:09.887

ghci 将加载任何库，只要它对您的体系结构有效并且可以位于某个路径上。在 Windows 上，带有空格的路径名会导致问题，我不知道它们是否仍然存在。

要在 ghci 中加载你自己的代码，你需要先编译它，然后告诉 ghci 加载它的输出：

```
mybox$ gcc -c myprint.c
mybox$ ghci Myprint.hs myprint.o

*Main> main
Loading package array-0.4.0.1 ... linking ... done.
Loading package deepseq-1.3.0.1 ... linking ... done.
Loading package bytestring-0.10.0.2 ... linking ... done.
Tempura is great!
*Main> 
```

您还可以将 C 文件编译到库中并将其加载到 ghci 中，但是对于仅一个文件，使用目标文件非常方便。如果你想创建一个库，像@Jonke 建议的命令应该可以工作。在我的系统（OSX）上，

```
mybox$ gcc -shared -fPIC myprint.c -o libmyprint.dylib
mybox$ ghci -L. -lmyprint Foo.hs 
```

在我的系统上，它也可以仅使用库文件路径作为参数，但我不知道这是否可移植。

# jquery - 在 $.ajax 请求中传递数据会返回一个空数组。怎么了？

> ID：15677326
> 
> 赞同：1
> 
> 时间：2013-03-28T08:39:03.383
> 
> 标签：jquery, ajax

我正在为此苦苦挣扎。

我正在尝试使用 $.ajax 将元素数据传递给我的 php 文件，它总是返回空。

这是我的代码：

```
 strJson = '{'
    $.each(this_side.data(), function(i, v) {
        strJson += i + ":'" + v + "',";
    });
    strJson += term_id + ":'" + term_id + "',";
    strJson += new_page_num + ":'" + new_page_num + "'";
    strJson += '}';

    alert(strJson); // this works

    $.ajax({
        url: 'my url here',
        type: 'post',
        data: strJson,
        success: function(data){
            alert(data);
        }
    }); 
```

$_POST 的 Outpot 是一个空数组。它不工作。

我在这里想念什么？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:55:09.070

不要打扰`dataType`and `contentType`，jQuery 应该自己处理。返回什么`this_side.data()`？如果它是一个数组，那么你`i`在循环中的变量`$.each`是一个数字，而你的 JSON 只是格式错误。尝试

```
$.each(this_side.data(), function(i, v) {
    strJson += "'" + i + "':'" + v + "',";
}); 
```

然后您还应该发布一个 JSON 对象，而不是 JSON 字符串：

```
 $.ajax({
    data : JSON.parse( strJson ),
    ...
 }) 
```

`this_side.data()`当返回一个对象并且键具有像“-”这样的“特殊”字符时，这也考虑在内。

如果`this_side.data()`返回一个对象，则以下方法更容易：

```
$.ajax({
    url: 'my url here',
    type: 'post',
    data: $.extend( 
            this_side.data(),
            {'term_id': term_id, 'new_page_num' : new_page_num }
          ),
    success: function(data){
        alert(data);
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:44:31.137

尝试这个：

```
$.ajax({
    url: 'my url here',
    type: 'POST',
    dataType: 'json',
    contentType: "application/json; charset=utf-8",
    data: { param: strJson },
    success: function(data){
        alert(data);
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:44:31.717

也尝试添加`dataType:"json"`：

```
$.ajax({
    url: 'my url here',
    type: 'post',
    data: $.parseJSON(strJson),
    dataType: "json",
    success: function(data){
        alert(data);
    }
}); 
```

并在发送前解析`strJson`with 。`$.parseJSON()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T08:56:26.637

在 data 参数中，您发送的是 json 格式的字符串。

尝试以以下格式发送数据。

```
strJson='name=Will&address=florida'; 
```

让我知道这个是否奏效。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T08:40:50.820

由于 lordVlad 评论而更新了答案：

```
strJson = '{'
    $.each(this_side.data(), function(i, v) {
        strJson += i + ":'" + v + "',";
    });
    strJson += "'"+ i + "':'" + v + "',";
    strJson += new_page_num + ":'" + new_page_num + "'";
    strJson += '}'; 
```

尝试在`dataType`您的代码中添加和“contentType”

```
$.ajax({
        url: 'my url here',
        type: 'post',
        data : JSON.parse(strJson),
        dataType: 'json',
        success: function(data){
            alert(data);
        },
        contentType: "application/json; charset=utf-8"
    }); 
```

您也可能需要查看官方文档：[http ://api.jquery.com/jQuery.post/](http://api.jquery.com/jQuery.post/)

# delphi - 仅从 dll 导出函数序数

> ID：15677327
> 
> 赞同：7
> 
> 时间：2013-03-28T08:39:21.027
> 
> 标签：delphi, dllexport

我正在研究一个 DLL，我希望我导出的函数只能按序号而不是按名称导出。

这可能吗 ？如果是，我想知道如何完成。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-28T09:05:24.950

让 Delphi 标记导出函数的唯一方法是使用`exports`指令。并且 Delphi 将始终为您导出的每个函数在 PE 导出表中添加一个命名条目。但是很容易给这个函数起个名字。

```
library Project32;

procedure Foo;
begin
end;

exports
  Foo index 1 name '';

begin
end. 
```

# c# - c#如何在列表的开头和结尾修剪空元素

> ID：15677333
> 
> 赞同：1
> 
> 时间：2013-03-28T08:39:49.223
> 
> 标签：c#, list, for-loop

给定一个对象列表，其值为

```
StatusList = new List<StatusData>
                {
                    new StatusData {Count = 0, Id = 1},
                    new StatusData {Count = 0, Id = 2},
                    new StatusData {Count = 1, Id = 3},
                    new StatusData {Count = 0, Id = 4},
                    new StatusData {Count = 2, Id = 5},
                    new StatusData {Count = 3, Id = 6},
                    new StatusData {Count = 0, Id = 7},
                    new StatusData {Count = 0, Id = 8},
                    new StatusData {Count = 0, Id = 2}
                }; 
```

如何通过删除带有零的元素来修剪列表的左侧和右侧？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T08:43:53.580

```
int start = 0, end = StatusList.Count - 1;

while (start < end && StatusList[start].Count == 0) start++;
while (end >= start && StatusList[end].Count == 0) end--;

return StatusList.Skip(start).Take(end - start + 1); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:47:18.357

```
// Remove until count != 0 is found
foreach (var item in StatusList.ToArray())
{
    if (item.Count == 0)
        StatusList.Remove(item);
    else
        break;
}
// Reverse the list
StatusList.Reverse(0, StatusList.Count);
// Remove until count != 0 is found
foreach (var item in StatusList.ToArray())
{
    if (item.Count == 0)
        StatusList.Remove(item);
    else
        break;
}
// reverse back
StatusList.Reverse(0, StatusList.Count); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-28T08:41:37.863

使用 LINQ：

```
var nonEmptyItems = StatusList.Where(sd => sd.Count > 0); 
```

`nonEmptyItems`将包含`Count`大于 0 的项目，包括中间的项目。

或者，如果您不希望删除该中心项目，则可以使用 while 循环并从前面和后面删除每个空项目，直到不存在此类项目为止。

```
var trimmed = false;
while(!trimmed)
{
  if(StatusList[0].Count == 0)
     StatusList.RemoveAt(0);

  if(StatusList[StatusList.Count - 1].Count == 0)
    StatusList.RemoveAt(StatusList.Count - 1);

  if(StatusList[0].Count == 0 > StatusList[StatusList.Count - 1].Count > 0)
    trimmed = true;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-04-19T16:43:03.797

效率不高但更具可读性的解决方案是：

```
StatusList.Reverse();
StatusList = StatusList.SkipWhile(x => x.Count == 0).ToList();
StatusList.Reverse();
StatusList = StatusList.SkipWhile(x => x.Count == 0).ToList(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T10:06:20.110

我就是这样解决的...

```
RemoveOutsideZeros(ref StatusList);
                StatusList.Reverse();
RemoveOutsideZeros(ref StatusList);

private void RemoveOutsideZeros(ref List<StatusData> StatusList)
{
    bool Found0 = false;
    foreach (StatusData i in StatusList.ToList())
    {
        if (i.Count != 0)
    {
        Found0 = true;
    }
        if (i.Count == 0 && Found0 == false)
        {
            StatusList.Remove(i);
        }
    } 
```

}

# django - django中的500服务器错误

> ID：15677335
> 
> 赞同：0
> 
> 时间：2013-03-28T08:39:54.003
> 
> 标签：django, ubuntu

我的项目在我的 PC 上运行良好，然后我在服务器上对其进行了更新。我有 500 错误（服务器错误）。在日志（apache2 error.log）中没有错误，如果我选择调试为真，一切正常。我认为这个问题与 django 有关，但我找不到任何日志来修复错误。服务器：

```
Linux 3.2.0-23-generic #36-Ubuntu SMP Tue Apr 10 20:39:51 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux 
```

姜戈 1.5。如何解决？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:57:03.663

如果它在调试时运行良好，您可能错过了设置允许的主机：

```
ALLOWED_HOSTS = ["domain.com"] 
```

还要确保您在 ADMINS 中有一个有效的电子邮件地址，这样您就可以在生产环境中通过电子邮件获得回溯。

# javascript - 从控制事件中获取 html 中的 javascript 结果

> ID：15677346
> 
> 赞同：1
> 
> 时间：2013-03-28T08:40:13.763
> 
> 标签：javascript, jquery, asp.net-mvc, asp.net-mvc-4, razor

我是 MVC 的新手，所以我真的不知道这是什么方法：我希望在一个标签悬停时，其他标签会根据鼠标悬停 javascript 返回的集合生成，如下所示：

```
<script....
  function getSongs(genreId)
     { return collection of Song objects }

</script>
<div>
   @foreach(Genre genre in Genres)
     {
       <div> <label onmouseover= "here send @genre.Id to the function that will handle this and that will return a collection of Song objects"> @genre.Text </label> </div>
     }
</div>
<div>
   @foreach(Song song in the collection returned by the js function)
    {  <div> <label> @song.Title </label> </div> }
</div> 
```

我在这里写了这个例子，没有从vs粘贴，如果有一些语法错误，请见谅。什么是正确的方法，如果这是正确的方法，那么应该如何完成？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T14:35:03.103

稍微改变你的标记。在这里，我使用[`ActionLink`](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.linkextensions.actionlink%28v=vs.108%29.aspx)html 辅助方法将标签标记更改为锚标记。

```
<div>
 @foreach(Genre genre in Genres)
 {
    <div>@Html.ActionLink(genre.Name,"Songs","Genre",
                          new { id=genre.ID},new { @class="lnkGenre"})</div>
 }
</div>
<div id="songList"></div> 
```

这将生成一个像这样的锚标签列表。

```
<a href="/Genre/Songs/24" class="lnkGenre">Pop</a> 
```

假设 24 是您的流派的 ID，而 Pop 是名称。

现在我们将编写一些javascript代码来监听这个锚标记的点击事件。当用户点击`a`标签时。我们将读取单击的锚标记的 href 属性值，并使用该[`getJSON`](http://api.jquery.com/jQuery.getJSON/)方法向其发出 ajax 请求。

```
$(function(){  // putting our code inside document ready

   $("a.lnkGenre").click(function(e){                 

    e.preventDefault(); //prevent the default click event behavior

    var _this=$(this);   
    var songList="";
    $.getJSON(_this.attr("href"),function(data){
        if(data.Status=="Success")
        {
           $.each(data.Items,function(index,item){
              songList="<li>"+item.Title+"</li>";
           });
        }
        $("#songList").html(songList);
    });

 });

}); 
```

我们应该有一个`Songs`在我们的方法中调用的动作方法，`GenreController`它现在接受流派 id 并返回 Json 格式的歌曲列表

```
public ActionResult Songs(int id)
{
  List<dynamic> songVMList= new List<dynamic>();
  var songList=repositary.GetSongsForGenre(id);
  foreach(var item in songLsit)
  {
     var sub = new { ID = item.ID, Title= item.Title};
     songVMList.Add(sub); 
  }
  return Json(new { Status = "Success", Items = subCategoryVMList },
                                             JsonRequestBehavior.AllowGet);      
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T14:21:58.673

您可以将 Genres 中的 Song 对象序列化为 JSON，并将其存储在 js 变量中。您可以使用 JavaScriptSerializer().Serialize(songsList) 对 Razor/C# 执行此操作。根据您的数据的结构，您需要在 javascript 中创建类似字典的内容，以“genreId”作为键，以“listOfSongs”作为其值，或者 - 如果您在 Song 对象中有 GenreId - ，你不需要这个，因为序列化的数据将包含 GenreId 来获取歌曲。

在遍历 Genres 集合时，您可以为内部标签设置一个“data-genreId”属性，该属性应该具有genre.Id 值。

然后，在鼠标悬停回调中，您可以抓取悬停的元素并读取“data-genreId”属性的值——这应该会给您genreId。有了这个Id，你就需要使用js从开头提到的集合中抓取歌曲。获得歌曲列表后，您可以创建包含歌曲信息（如您提到的标题）的 html 元素，并将它们注入页面中的 div 占位符中。

另外，我认为您不需要最后一个 foreach ，因为它在您提供的示例中，因为当使用我提到的方法悬停标签时，它将动态填充。

# php - 将 PHP 常量插入字符串

> ID：15677348
> 
> 赞同：0
> 
> 时间：2013-03-28T08:40:26.893
> 
> 标签：php, string-concatenation

我有一个名为 db.php 的文件，它连接到数据库。

```
<?php
    define("DB_HOST", "localhost");
    define("DB_NAME", "login");
    define("DB_USER", "admin");
    define("DB_PASS", "123");
    mysql_connect(DB_HOST, DB_USER, DB_PASS) OR die("Falha na ligação.");
?> 
```

我想做的是在另一个文件中使用该 DB_NAME 定义，这样我只需要在 db.php 中更改它，以防我必须更改数据库名称。

这是我希望应用它的示例。

```
$qp = "UPDATE login.users SET palpiteatual = '".$_POST['atextfield']."' WHERE user_name = '".$_SESSION['user_name']."'"; 
```

我没有使用 login.users，而是尝试了以下方法但没有成功。

```
$qp = "UPDATE '"DB_NAME"'.users SET palpiteatual = '".$_POST['atextfield']."' WHERE user_name = '".$_SESSION['user_name']."'";
$qp = "UPDATE "+DB_NAME+".users SET palpiteatual = '".$_POST['atextfield']."' WHERE user_name = '".$_SESSION['user_name']."'"; 
```

不确定以这种方式使用它的确切语法如何。提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T08:42:34.150

```
$qp = "UPDATE ".DB_NAME.".users SET palpiteatual..."; 
```

请注意，如果您没有多个连接和多个数据库，则无需使用 DB_NAME

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T08:42:50.383

PHP中的字符串连接是使用[连接运算符完成的](http://php.net/manual/en/language.operators.string.php) `.`

```
$qp = "UPDATE ".DB_NAME.".users 
```

# sql - 执行连接时是否可以得到总和？

> ID：15677350
> 
> 赞同：2
> 
> 时间：2013-03-28T08:40:27.537
> 
> 标签：sql, oracle, birt

我有这个代码：

```
select id,
p1.value as company,
p2.value as budget

FROM  process p

LEFT JOIN Param p1 on p1.ID = p.ID AND p1.NAME = 'Company'
LEFT JOIN Param p2 ON p2.ID = p.ID AND p2.NAME = 'Budget'

where type = 'Authorization'; 
```

我的公司很少。这里的示例结果是：

```
Company      Budget

Goodis       10000
McDonalds    15000
Goodis       500
Goodis       100
Everest      100
McDonalds    1000
Everest      10000 
```

我想要做的是得到每家公司的预算总和（我不能在 where 子句中分开公司，因为我需要整个数据并且有很多公司）。仅在 SQL 中完成对我来说似乎有点困难。我正在尝试做一个 BIRT 报告，所以，如果你有任何关于 BIRT 级别的建议，我也会很高兴！

这是一种方法吗，还是我的尝试毫无意义？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T11:06:28.647

我相信你想要一个分析函数：

```
select id, p1.value as company, p2.value as budget,
       sum(p2.value) over (partition by p1.value) as CompanyBudget
FROM  process p
LEFT JOIN Param p1 on p1.ID = p.ID AND p1.NAME = 'Company'
LEFT JOIN Param p2 ON p2.ID = p.ID AND p2.NAME = 'Budget'
where type = 'Authorization'; 
```

这将返回每行的总预算，但不会减少行数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:42:44.337

`GROUP BY p1.value`与 一起使用`SUM`：

```
select 
  p.value as company,
  COALESCE(SUM(p2.value), 0) as Totalbudget
FROM  Param AS p
LEFT JOIN process AS p1 ON p.ID = p1.ID AND p.NAME = 'Company'
LEFT JOIN process AS p2 ON p.ID = p2.ID AND p.NAME = 'Budget'
GROUP BY p.value; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:10:53.617

看看这是否有帮助 -

```
SELECT id, company, SUM(NVL(budget, 0)) AS budget
FROM
(
   SELECT id,
   p1.value AS company,
   p2.value AS budget
   FROM  process p
   LEFT JOIN Param p1 on p1.ID = p.ID AND p1.NAME = 'Company'
   LEFT JOIN Param p2 ON p2.ID = p.ID AND p2.NAME = 'Budget'
   WHERE TYPE = 'Authorization'
)
WHERE company IS NOT NULL
GROUP BY id, company 
```

# c# - 如果我发送函数，则更改字典

> ID：15677352
> 
> 赞同：1
> 
> 时间：2013-03-28T08:40:31.890
> 
> 标签：c#, .net, dictionary

我的字典有一个问题。小例子：

```
 Dictionary<int, bool> dict = new Dictionary<int, bool>();
        for (int i = 0; i < 5; i++)
        {
            dict.Add(i, true);
        }
        var dict2 = dict;
        dict2.Clear(); 
```

在此之后，我必须清除字典。如果我需要一本不断变化的字典和一本不变的字典，我需要做什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T08:42:53.503

创建一个副本，而不仅仅是复制参考：

```
var dict2 = new Dictionary<int, bool>(dict); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:44:25.607

既然[`Dictionary`](http://msdn.microsoft.com/en-us/library/xfhwa508.aspx)是*类*，那么它就是[*引用类型*](http://msdn.microsoft.com/en-us/library/490f96s2.aspx)。

当你写

```
var dict2 = dict; 
```

您实际上将`dict`和分配`dict2`给相同的引用。这就是为什么当你想使用[`Clear()`](http://msdn.microsoft.com/en-us/library/b5txwy7s%28v=vs.110%29.aspx)方法时，**它会影响它们**。您应该复制它们而不是复制它们的引用。喜欢;

```
var dict2 = new Dictionary<int, bool>(dict); 
```

来自*[C# 语言规范](http://msdn.microsoft.com/en-us/library/vstudio/ms228593.aspx)*；

> 值类型的变量直接包含它们的数据，而引用类型的变量存储对其数据的引用，后者被称为对象。使用引用类型，两个变量可以引用同一个对象，因此对一个变量的操作可能会影响另一个变量引用的对象。对于值类型，每个变量都有自己的数据副本，对一个变量的操作不可能影响另一个变量。

# c++ - 使用 shared_ptr 列表撤消/重做

> ID：15677353
> 
> 赞同：0
> 
> 时间：2013-03-28T08:40:32.497
> 
> 标签：c++, list, pointers, iterator, shared-ptr

我正在尝试实现一个类似于绘画的绘图程序。我有两个包含 shared_ptrs 到 Shapes 的 std::lists。一个是“Undo”链表，另一个是“Redo”链表。在我对Shape shared_ptr 调用reset 之前，通过push_back 将shared_ptr 添加到Undo 链表中。

```
LRESULT CDrawView::OnLButtonUp(UINT uMsg, WPARAM wParam, LPARAM lParam, BOOL& bHandled)
{
   int xPos= GET_X_LPARAM(lParam);
   int yPos = GET_Y_LPARAM(lParam);
   end.X = xPos;
   end.Y = yPos;
   m_shape->setEnd(xPos,yPos);
   m_shape->Draw(m_GraphicsImage);
   Undo.push_back(m_shape);
   RedrawWindow();
return 0;
} 
```

当给出 Undo 命令时，我抓取 Undo 链表后面的 shared_ptr 并将其移动到 Redo 链表中。然后，将 m_GraphicsImage 清除为白色，最后尝试遍历 Undo 列表，重绘所有内容。

```
LRESULT CMainFrame::OnUndo(WORD /*wNotifyCode*/, WORD /*wID*/, HWND /*hWndCtl*/, BOOL& /*bHandled*/)
{
   m_view.Redo.push_back(m_view.Undo.back()); //gets the first element that was Undo
   m_view.m_GraphicsImage.Clear(255); //Clears the board

   for(std::list<std::shared_ptr<Shape>>::iterator it = m_view.Undo.end(); it!=m_view.Undo.begin() ; it--)
   {
     it->get()->Draw(m_view.m_GraphicsImage);
   }
return 0;
} 
```

我不断得到 list iterator not deferencable....我只是想创建一个简单的撤消和重做

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:59:26.707

取消引用`end()`迭代器是非法的，这是在此循环的第一次迭代中发生的：

```
for(std::list<std::shared_ptr<Shape>>::iterator it = m_view.Undo.end(); 
```

从[`list::end()`](http://en.cppreference.com/w/cpp/container/list/end)参考页面：

> 返回指向容器最后一个元素之后的元素的迭代器。该元素充当占位符；**尝试访问它会导致未定义的行为。**

如果您希望向后迭代，请使用`reverse_iterators`,[`rbegin()`](http://en.cppreference.com/w/cpp/container/list/rbegin)和：[`rend()`](http://en.cppreference.com/w/cpp/container/list/rend)

```
for (std::list<std::shared_ptr<Shape>>::reverse_iterator i(l.rbegin());
    i != l.rend();
    i++)
{
} 
```

由于您有可用的 c++11 功能 ( `std::shared_ptr`)，您可以使用它`auto`来推断`iterator`类型，而不是显式键入它：

```
for (auto i(l.rbegin()); i != l.rend(); i++)
{
} 
```

# c# - 从客户端访问服务器端方法的最佳方式？

> ID：15677367
> 
> 赞同：-1
> 
> 时间：2013-03-28T08:41:24.627
> 
> 标签：c#, asp.net

我正在使用 webmethod 和 AjaxPro 从客户端访问服务器端方法。是否有任何其他方法可以访问服务器端方法，比这些更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:44:18.543

jQuery ajax 方法很容易满足这些需求。

请在此处查看更多信息 - [http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

而这个 - [http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)

例子：

```
 $.ajax({
 type: "POST",
 url: "PageName.aspx/MethodName",
 data: "{}",
 contentType: "application/json; charset=utf-8",
 dataType: "json",
 success: function(msg) {
// Do something interesting here.
}
}); 
```

# android - 如何将 SimpleCursorAdapter 与 single_choice 和 multiple_choice 一起使用

> ID：15677371
> 
> 赞同：1
> 
> 时间：2013-03-28T08:41:41.613
> 
> 标签：android, adapter, simplecursoradapter, listadapter

[我正在开发一个包含多答案类型和单答案类型的测验应用程序。问题和答案存储在 sqlite 数据库中。我使用简单的光标适配器并从这里](https://stackoverflow.com/questions/12077955/android-using-simplecursoradapter-to-get-data-from-database-to-listview/12078768#12078768)了解如何使用！我的问题是，如果我的答案类型发生变化（单个到多个），我如何从 simple_list_item_single_choice 切换到 simple_list_item_multiple_choice，以及如何保存选择的答案。请给出一些想法。这里是编码....

```
 db = new DBAdapter(this);
  SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, 
  android.R.layout.simple_list_item_1, 
  db.getAllTitles(), 
  new String[] { "title" }, 
  new int[] { android.R.id.text1 });

 ListView listView = (ListView) findViewById(R.id.list);
listView.setAdapter(adapter); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:17:32.917

检查此代码：单选：

```
 SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, 
  android.R.layout.simple_list_item_single_choice, 
  db.getAllTitles(), 
  new String[] { "title" }, 
  new int[] { android.R.id.text1 });

 ListView listView = (ListView) findViewById(R.id.list);
 listView.setAdapter(adapter);
 listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE); 
```

对于多个：

```
SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, 
  simple_list_item_multiple_choice, 
  db.getAllTitles(), 
  new String[] { "title" }, 
  new int[] { android.R.id.text1 });

 ListView listView = (ListView) findViewById(R.id.list);
 listView.setAdapter(adapter);
 listView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE); 
```

取决于您的要求，您必须设置以上之一：我认为您已经知道哪个问题需要单个答案以及需要多个答案取决于您还必须创建列表项点击

```
listView.setOnItemClickListener(new OnItemClickListener() {

            private String my_sel_items;

            public void onItemClick(AdapterView arg0, View arg1, int arg2,
                    long arg3) {
                if(ans == multiple){
                my_sel_items = new String("Selected Items");
                SparseBooleanArray a = lView.getCheckedItemPositions();

                for (int i = 0; i < a.size(); i++) {
                    if (a.valueAt(i)) {
                        my_sel_items = my_sel_items + ","
                                + (String) listView.getAdapter().getItem(i);
                    }
                }
                Log.v("values", my_sel_items);
               }else{
                 // for single it default selected item
               }
            }
        }); 
```

# asp.net - Gridview 控制第一个事件

> ID：15677373
> 
> 赞同：1
> 
> 时间：2013-03-28T08:41:43.613
> 
> 标签：asp.net

Gridview 控制第一个被触发的事件

我在 .aspx 页面上有一个 Gridview 控件。什么是第一个被触发/触发的 gridview 控制事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:45:38.207

Init() 在初始化服务器控件时发生，这是从 Control 继承的其生命周期中的第一步。

# cakephp - cakephp - 保存文件同步并作为附件发送

> ID：15677377
> 
> 赞同：1
> 
> 时间：2013-03-28T08:42:10.023
> 
> 标签：cakephp

嗨，cakephp 中的 File::write() 有一个奇怪的问题。

我编写此代码以生成 pdf 视图并将其保存在文件中。

```
private function generate( $id ){

    $order = $this->Order->read( null, $id );
    $this->set('order', $order);

    $view = new View($this);

    $viewdata = $view->render('pdf');

    //set the file name to save the View's output
    $path = WWW_ROOT . 'ordini/' . $id . '.pdf';
    $file = new File($path, true);

    //write the content to the file
    $file->write( $viewdata );

    //return the path
    return $path;

} 
```

我需要生成这个 pdf 并将其作为附件发送，所以这是我的代码

```
public function publish ($id) {
    $pdf_file = $this->generate( (int)$id );

    $Email = new CakeEmail();
    $Email->from(array('info@.....com' => '......'));
    $Email->to('....@gmail.com');
    $Email->subject('Nuovo ordine');

    $filepath = WWW_ROOT . 'ordini/' . $id . '.pdf';

    $Email->attachments(array('Ordine.pdf' => $filepath));

    $Email->send('......');

} 
```

我第一次运行此代码时，电子邮件不起作用，只有当文件夹中已经有 pdf 时，电子邮件才能正常工作。

我认为 File::write 执行某种异步写入，当系统执行 Email::attachments 时，文件还没有准备好。

如何在此代码中插入 while() 以检查文件可用性？

多谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:56:40.483

```
if($file->write( $viewdata ))
{
   return $path;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:15:46.383

使用返回值是不够的。我改变了这条线

```
$file = new File($path, false); 
```

不强制打开文件对我有用。

# macos - 配置文件的默认位置 - MacOS？

> ID：15677388
> 
> 赞同：8
> 
> 时间：2013-03-28T08:42:36.153
> 
> 标签：macos, app-config, configuration-files

在跨平台应用程序中，我正在使用一个配置文件，该文件允许用户根据需要覆盖各种默认值。

我遇到的问题是......在哪里放置/查找此配置文件，特别是关于 MacOS X（我从未使用过且无权访问）？我知道 MacOS X 是基于 Unix 的，但我也知道很多事情在那里做的非常不同......

我目前的选择：

Unix：

```
~/.config/<appname>/<appname>.cfg 
```

Windows（shomewhat 也不确定这个，这里似乎到处都是 - %LOCALAPPDATA% 或 %USERPROFILE% 似乎也是有效的选择）：

```
%APPDATA%/<appname>/<appname>.cfg 
```

苹果系统：

```
...? 
```

对 MacOS 或我的其他选择有何评论？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-28T08:52:59.280

我认为它必须是`~/Library/Application Support/<appname>/<appname>.cfg`
见[Mac App Programming Guide](https://developer.apple.com/library/mac/#documentation/General/Conceptual/MOSXAppProgrammingGuide/AppRuntime/AppRuntime.html)中的表格：“Mac 应用程序环境”->“运行时环境的低级详细信息”->“文件系统”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T08:56:07.357

您可以按照上面为 Unix/Linux 显示的相同方式存储它。

`~`对于 OS X 上的主目录，其工作方式与 UNIX 平台相同。`.`隐藏目录的名称也是如此。

鉴于您描述的跨平台需求，我将在 OS X 上以与您的 UNIX 示例完全相同的方式执行此操作。

# responsive-design - 与 Foundation4 脱离画布

> ID：15677389
> 
> 赞同：1
> 
> 时间：2013-03-28T08:42:36.553
> 
> 标签：responsive-design, zurb-foundation

我一直在研究 Foundation 4 框架。我只想知道这个版本是否需要画布布局系统。据我所知，这不是必需的，因为他们添加了“移动优先”主题的移动支持。

如果我错了，请纠正。

谢谢， 斯里尼瓦斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T18:21:41.777

为了在小型设备中获得更好的 UI，[Off Canvas Layout](http://www.zurb.com/playground/off-canvas-layouts)非常棒。就像如果您按下按钮并且面板从左侧滑入（或者取决于您如何看待它，主面板会滑开）。你真的应该使用它。当然，如果你已经从[github repo](https://github.com/zurb/foundation)或[网站](http://foundation.zurb.com/)下载了最新版本，它已经随 Zurb Foundation 4 一起提供了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T01:01:15.703

Foundation 4 不需要 Off Canvas Layouts，因为它是为版本 3 编写的。但是虽然它是为 V3 编写的，但它可以与 F4 一起使用。我知道，不仅是意见，而且事实上，因为我已经玩过它，并且有一个使用 F4 的原型，带有非画布布局，特别是与[类似](http://www.zurb.com/playground/playground/off-canvas/offcanvas-4.html)的滑动面板。

# mysql - mysql 表中的下和子类别（coldfusion，mysql）

> ID：15677397
> 
> 赞同：1
> 
> 时间：2013-03-28T08:42:57.870
> 
> 标签：mysql, coldfusion

我有一个关于 ColdFusion 和 Mysql 的问题。我有两个表：PRODUCT 和 PRODUCT_CAT。我想列出包含一些特殊产品的类别，这些产品标记为：`IS_EXTRANET=1`。所以我写了这个查询：

```
<cfquery name="get_product_cat" datasource="#dsn1#">
    SELECT PC.PRODUCT_CAT,PC.PRODUCT_CATID,PC.HIERARCHY
    FROM PRODUCT_CAT PC LEFT OUTER JOIN PRODUCT P ON P.PRODUCT_CATID=PC.PRODUCT_CATID
    WHERE P.IS_EXTRANET=1
    GROUP BY PC.PRODUCT_CATID,PC.PRODUCT_CAT,PC.HIERARCHY
    ORDER BY PC.HIERARCHY,PC.PRODUCT_CAT
</cfquery> 
```

**和输出：**

```
<select name="product_catid">
    <option value="">All Categories</option>
    <cfoutput query="get_product_cat">
          <option value="#product_catid#" <cfif isdefined("attributes.product_catid") and len(attributes.product_catid) and (attributes.product_catid eq product_catid)>selected</cfif>><cfloop from="2" to="#listlen(hierarchy,'.')#" index="pc">&nbsp;&nbsp;</cfloop>#product_cat#</option>
    </cfoutput>
</select> 
```

但有一个问题。在`product_cat`表格内，有 2 种类别：“under”和“sub”。所以在每个“下”类别中，没有产品，但有“子”类别。当我尝试列出仅包含具有`is_extranet=1`定义的产品的类别时，没有列出“下”类别。但我也希望列出“下”类别。换句话说，如果“子”类别内是具有定义的产品`is_extranet=1`，则显示“下”类别，然后显示具有这些产品的子类别。我希望我很清楚:)

另外，“下”类别的层次结构如下所示：100 和子：100.001

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:42:16.567

基于 PC.HIERARCHY 是独一无二的，这对我有用：

```
SELECT PC.PRODUCT_CAT,PC.PRODUCT_CATID,PC.HIERARCHY
  FROM PRODUCT_CAT PC
  WHERE LEFT(PC.HIERARCHY,3) IN 

  (SELECT DISTINCT LEFT(PC.HIERARCHY,3)
    FROM PRODUCT_CAT PC
    INNER JOIN PRODUCT P ON P.PRODUCT_CATID=PC.PRODUCT_CATID
    WHERE P.IS_EXTRANET=1)

GROUP BY PC.PRODUCT_CATID,PC.PRODUCT_CAT,PC.HIERARCHY
ORDER BY PC.HIERARCHY,PC.PRODUCT_CAT; 
```

或者：

```
SELECT PC.PRODUCT_CAT,PC.PRODUCT_CATID,PC.HIERARCHY
  FROM PRODUCT_CAT PC
  INNER JOIN 
  (SELECT LEFT(PC.HIERARCHY,3) AS UPPER
    FROM PRODUCT_CAT PC
    INNER JOIN PRODUCT P ON P.PRODUCT_CATID=PC.PRODUCT_CATID
    WHERE P.IS_EXTRANET=1) AS H
    ON LEFT(PC.HIERARCHY,3)=H.UPPER 
GROUP BY PC.PRODUCT_CATID,PC.PRODUCT_CAT,PC.HIERARCHY
ORDER BY PC.HIERARCHY,PC.PRODUCT_CAT; 
```

我不确定哪个会提供更好的性能。小提琴在[这里](http://sqlfiddle.com/#!2/f3573d/5)

# c - dup2 在 Fd[0]!= STDIN_FILENO 之后

> ID：15677403
> 
> 赞同：0
> 
> 时间：2013-03-28T08:43:09.140
> 
> 标签：c, linux, pipe

有人可以`dup2`在检查 if 后解释使用的`fd[0] != STDIN_FILENO`原因吗，因为据我了解`fd[0] != STDIN_FILENO`会失败并且`dup2`仍然会返回其他内容`STDIN_FILENO`，只是试图理解一些示例代码谢谢，如果有人可以为我解释 execlp 的使用那将是真棒。

```
int fd[2];
pid_t pid;

if(argc != 2) {
        fprintf(stderr, "Must be specify exactly 1 file\n");
        exit(0);
    }

    if(pipe(fd) < 0)
        exit(1);./ 

    pid = fork();

    switch (pid) {
        case -1:
            exit(1);
        case 0:
            close(fd[1]);
                        //here
            if(fd[0] != STDIN_FILENO) {
                if(dup2(fd[0], STDIN_FILENO) != STDIN_FILENO)
                    exit(3);
                close(fd[0]);
            }
            if(execlp("tr", "tr", "[a-z]", "[A-Z]", (char *) 0) < 0)
                exit(4);
            break;

        default:
            close(fd[0]);
                        // and here
            if(fd[1] != STDIN_FILENO) {
                if(dup2(fd[1], STDIN_FILENO) != STDIN_FILENO)
                    exit(5);
                close(fd[1]);
            }
            if(execlp("cat", "cat", argv[1], (char *) 0) < 0)
                exit(4);
            break;
    }
    return 0; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:06:57.383

目的是使标准输入（STDIN_FILENO，即 0）指向 fd[0] 指向的文件（管道的读取端）。首先检查它们是否已经不同......如果它们是相同的，代码会将 0 复制到 0，然后关闭 0 - 不好。如果它们不相同，请使用 dup2 使 STDIN_FILENO 指向 fd[0] 指向的位置。如果 dup2 成功，它返回它的第二个参数，因此如果 dup2 失败，则通过调用 exit 来进行检查。

你写

> 据我了解 fd[0] != STDIN_FILENO 会失败

完全不清楚你为什么“理解”这一点。仅当 fd[0] 包含 STDIN_FILENO（即 0）时它才会失败，但它不太可能因为它包含调用分配的文件描述符`pipe`。

> dup2 仍会返回除 STDIN_FILENO 以外的其他内容

如果成功，则 dup2 返回其第二个参数。除非失败，否则它不会返回除 STDIN_FILENO 以外的其他内容——为什么会这样？-- 在这种情况下它返回-1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T08:58:56.790

[`execlp`](http://linux.die.net/man/3/execlp)基本上执行一个程序。该程序将从`STDIN_FILENO`（换句话说，fd 0）读取其输入。[`dup2`](http://linux.die.net/man/2/dup2)和[`close`](http://linux.die.net/man/2/dup2)系统调用用于将或`fd[0]`文件描述符`fd[1]`移动到该数字。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:23:04.287

检查是一种防御性编程实践，因为通常标准输入和标准输出之前已经打开，尽管如果它们在您进行调用`fd[0] != STDIN_FILENO`之前都已关闭，则会将两个描述符分配给管道（注意当管道是创建后，用于管道两端的文件描述符是下一个编号最小的描述符），因此检查将变得有意义。`pipe()``pipe()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T08:57:01.697

该程序将在父进程中运行 cat，在子进程中运行 tr，它希望 cat 的输出被 tr 读取。

开始时，它打开一个管道，parent 将写入 fd[1]，child 将从 fd[0] 读取，以便 parent 可以向 child 写入数据。

在父级中，它将 fd[1] 复制到标准输入；在子进程中，它将 fd[0] 复制到标准输入。

在child中，execlp运行tr，tr将从stdin读取，并且由于stdin已经被dup为fd[0]，所以它实际上从管道中读取了cat的输出。

`execlp()`在当前进程中运行一个新的可执行文件。你可以`man execlp`为它的论点详细。

# css - 为数据列表中的选项提供固定长度

> ID：15677406
> 
> 赞同：7
> 
> 时间：2013-03-28T08:43:17.087
> 
> 标签：css, html, alignment, width

我有这个 HTML 代码：

```
<style type="text/css">
.select {
    white-space:pre-wrap;
    background-color:#FF9;  
        width: 500px;
}
</style>
<input type="text" list="browsers" class="select"/>
<datalist  id=browsers >
    <?php while ($row_Recordset1 = mysql_fetch_assoc($Recordset1)) {;?>
    <option>
        <?php echo $row_Recordset1['RBC']; }?>
    </option>
</datalist> 
```

我有一些超过 500px 的数据，因此当我单击文本框时，列表宽度大于文本框宽度（500px）

如何修复列表宽度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:24:18.513

您可以做到这一点的唯一方法是将 CSS 与 white-space 属性和 no-wrap 一起使用。
[http://www.w3schools.com/cssref/pr_text_white-space.asp](http://www.w3schools.com/cssref/pr_text_white-space.asp)

或者您可以在输入周围使用 div 来强制大小，让输入成为它需要的大小，并使用带有 overflow-x 的 div 来控制大小并将其强制为 500px 宽度。

# c# - 如何在 C# 中正确更改当前选中的 RadioButton 组的 RadioButton

> ID：15677407
> 
> 赞同：2
> 
> 时间：2013-03-28T08:43:18.627
> 
> 标签：c#, .net, winforms, radio-button

我有`GroupBox`一堆`RadioButtons`。当他们有焦点时，我可以使用向上/向下键来遍历它们。

但是当我手动更改 check`RadioButton`并按下 up/down 时，迭代会从更改之前的位置开始进行 checked `RadioButton`。问题是：

*   当 RadioButton 具有焦点时，控件处理事件对应于上/下键单击。

**答：** 要处理 TAB、ESC、RETURN 或 ARROW 按钮的事件，`KeyDown`您需要覆盖[`IsInputKey`](http://msdn.microsoft.com/ru-ru/library/system.windows.forms.control.isinputkey.aspx)控件的方法。或覆盖`ProcessCmdKey`而不是`KeyDown`.

*   如何正确更改当前选中的 RadioButton。

**答：** 除了设置`radioButton.Checked = true`。你需要把注意力集中在它上面—— `radioButton.Focus()`。

示例：我有 6 个单选按钮 (0-5) 组。

*   当前检查的是 RadioButton No.1 。
*   我的功能将选中的 RadioButton 从 No.1 更改为 No.3 。
*   用户按下 Arrow_Up 并且 RadioButton No.0 变为选中而不是 No.2。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:56:58.187

1.  什么事件对应于上/下键点击`RadioButton`？

    **没有**事件对应于`RadioButton`您可以按下键而不释放但仍处理键命令的单个 s。但是，您可以覆盖`ProcessCmdKey`表单继承自的方法`Form`：

    ```
    protected override bool ProcessCmdKey(ref Message msg, Keys keyData) {
        Console.WriteLine("123"); 
        return false; 
    } 
    ```

2.  如何访问`RadioButton`组的内部索引器？

    `TabIndex`财产。个体s**没有**内部索引。`RadioButton`但是由于您将它们放在 a `GroupBox`which is a上`Control`，并且有一个名为的继承属性`Controls`是它的子控件的集合。

问题由例子提出，出现的问题`TabIndex`。

`Control`是 WinForm 应用程序的大多数可视化组件的基类。它有一个父/子层次结构，`RadioButton`你放在上面的所有 s`GroupBox`都具有相同的父级，并且它`GroupBox`本身拥有这些`RadioButton`s，并且具有`Controls`可以通过索引访问它们的属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:46:22.030

好的，当用户按下向上/向下按钮时，他/她只是将焦点移动到单选按钮上。所以你只需要调用`Focus()`刚刚设置检查属性的按钮的方法`true`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:00:55.493

您可以像这样获得选定的单选按钮：

```
RadioButton checkedButton = Controls.OfType<RadioButton>().FirstOrDefault(r => r.Checked); 
```

您可以将 checkChanged 事件添加到所有单选按钮。

这将获得选中的单选按钮的索引：

```
int index = groupBox1.Controls.IndexOf(groupBox1.Controls.OfType<RadioButton>().FirstOrDefault(r => r.Checked)); 
```

这将选择一个特定的索引：

```
groupBox1.Controls.OfType<RadioButton>().ElementAtOrDefault(index).Select(); 
```

# asp.net-mvc-3 - 添加到类型实体问题的 ICollection

> ID：15677411
> 
> 赞同：0
> 
> 时间：2013-03-28T08:43:29.697
> 
> 标签：asp.net-mvc-3, entities, icollection

有人可以帮忙吗不确定我在使用什么错误：

在我的控制器中：

```
 [HttpPost]
 public ActionResult SaveRecommendedUserDetails(RecommendAFriendViewModel model)
 {
    //List<Entities.Group.Group> entityGroups = new List<Entities.Group.Group>();

        foreach (var group in model.Groups)
        {
          Entities.Group.Group entityGroup = new Entities.Group.Group();
          entityGroup.GroupId = group.GroupId;
          //entityGroups.Add(entityGroup);
          recommendedUser.Groups.Add(entityGroup); //groups in recommendeduser is already of type ICollection.
        }
 } 
```

RecommendAFriendViewModel 模型组属性：

```
 public IEnumerable<DataModels.Group.GroupDataModel> Groups { get; set; } 
```

推荐用户实体组属性：

```
 public virtual ICollection<Group.Group> Groups { get; set; } 
```

在我得到的两条红线上：无法从“int”转换为“Zinc.Entities.Group.Group”
和：system.Collections.Generic.List.Add(Zinc.Entities.Group.Group) 的最佳重载方法匹配' 有一些无效的参数

可以告诉我我做错了什么吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:46:57.117

您从未初始化`entityGroups`变量。在使用变量之前，您应该确保它已被分配。您的范围`entityGroup`也可以移动到`foreach`循环中：

```
[HttpPost]
public ActionResult SaveRecommendedUserDetails(RecommendAFriendViewModel model)
{
    var entityGroups = new List<Entities.Group.Group>();
    foreach (var group in model.Groups)
    {
        if (!recommendedUser.Groups.Any(x => x.GroupId == group.GroupId))
        {
            var entityGroup = new Entities.Group.Group();
            entityGroup.GroupId = group.GroupId;
            entityGroups.Add(entityGroup.GroupId);
        }
    }
    recommendedUser.Groups.Add(entityGroups);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:47:53.973

您不会在循环`Entities.Group.Group`的每次迭代中实例化一个新对象`foreach`。您所做的只是覆盖最后一个`entityGroup.GroupId`属性集，然后尝试将相同的实体对象添加到集合中，因为它已经存在于先前的迭代中。

在语句中移动您的 entityGroup 变量声明`if`应该可以解决您的问题。

```
if (!recommendedUser.Groups.Any(x => x.GroupId == group.GroupId))
{
  Entities.Group.Group entityGroup = new Entities.Group.Group(); // here
  entityGroup.GroupId = group.GroupId;
  entityGroups.Add(entityGroup); //get red line here
} 
```

# css - 背景的 CSS 径向内阴影

> ID：15677413
> 
> 赞同：2
> 
> 时间：2013-03-28T08:43:32.440
> 
> 标签：css, background

我正在尝试修改 Wordpress 模板的背景。我有一张带有 repeat-x 选项的图片。我想在该图像上添加径向内边框。可能吗？

这是当前的背景：

```
body {
background: #18191b url(images/bg.jpg) repeat-x center 0;
color: #e9e9e9;
font-family: Arial, Helvetica, sans-serif;
font-size: 12px;
line-height: 18px; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:50:45.663

你可以使用`-moz-box-shadow`和`-webkit-box-shadow`：

```
-moz-box-shadow: inset 0 0 8px rgba(0,0,0, 0.25);
-webkit-box-shadow: inset 0 0 8px rgba(0,0,0, 0.25); 
```

您还可以`box-shadow`将其应用于 Internet Explorer

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:51:43.920

如果我理解正确，你需要这个。`box-shadow: 0 0 10px #ddd inset;`

有关 box-shadow 的更多信息，您可以在此处找到：[“box-shadow”属性](http://www.w3.org/TR/2002/WD-css3-border-20021107/#the-box-shadow)

# mysql - 如何在关系数据库中有效地存储一年中每一天的小时间隔？

> ID：15677414
> 
> 赞同：-1
> 
> 时间：2013-03-28T08:43:34.153
> 
> 标签：mysql, sql, relational-database

我有一个活动，我必须为一年中的每一天设置小时间隔，在其中播放或不播放。

例如：

将在一年中的每一天播放，除了星期一和星期二它不会从 7 点到 9.30 播放。

如何有效地将结构存储在 SQL 数据库中？我有 365 天和 48 个半小时的间隔。我不想对不同的表使用外键，因为它效率低下。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T03:05:01.543

最简单的表看起来像这样。它*可能*不是最好的结构，因为半小时时间段的结尾没有明确存储。尽管如此 。. .

```
create table campaign_times (
  campaign_name varchar(35) not null,
  time_segment timestamp not null,
  play boolean not null default true,
  primary key (campaign_name, time_segment)
); 
```

我生成了一堆随机的广告系列名称（大约 175 个），并将这些名称与全年的半小时间隔交叉连接：3,083,520 行。我知道我需要一个关于 time_segment 的索引。我还添加了一个播放索引，以防 PostgreSQL 可以使用它。（PostgreSQL 过去不止一次地对低选择性列的智能处理让我感到惊讶。）

```
create index on campaign_times (time_segment);
create index on campaign_times (play); 
```

确保统计数据是最新的。

```
analyze campaign_times; 
```

现在让我们看看这种情况到底有多糟糕。

```
explain analyze
select *
from campaign_times 
where current_timestamp between time_segment and time_segment + interval '30 minutes'
  and play = true;

"Index Scan using campaign_times_time_segment_idx on campaign_times  
[snip]
"Total runtime: 498.713 ms" 
```

从 300 万行的表中获取当前播放列表不到半秒。并且无需考虑诸如删除旧行、尝试更周到的索引、存储*更少的*行（例如仅比今天提前一个月）等优化。

我可以忍受这一点。

* * *

在生产中，我想要外键和检查约束。这些不会影响 PostgreSQL 中 SELECT 语句的速度，我*认为*它们不会影响 MySQL 中的 SELECT 速度。（好吧，检查约束肯定不会，因为 MySQL 无论如何都不会强制执行它们。）

# android - LibGDX PhysicsBox2D，如果我设置线速度，物理不能正常工作

> ID：15677415
> 
> 赞同：0
> 
> 时间：2013-03-28T08:43:34.943
> 
> 标签：android, box2d, physics, libgdx, collision

我的世界是`world = new World(new Vector2(0, 0), true);`//没有重力，我在屏幕的左侧、右侧、顶部底部都有墙，因此元素不会飞离显示器。

我的渲染类中有以下代码：

```
Gdx.gl.glClearColor(0, 0, 0.2f, 1);
Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);
camera.update();
Box2DDebugRenderer debugRenderer = new Box2DDebugRenderer();
batch.setProjectionMatrix(camera.combined);
batch.begin();
batch.draw(texture, 0, 0);
for (Element element : elements) {
element.body.setUserData(element);
element.rect.x = element.body.getPosition().x-16;//16 = half the width of element
element.rect.y = element.body.getPosition().y-16; 
if (element.goodOrEvil == 0) {
        batch.draw(happyImage, element.rect.x, element.rect.y);
} else if (element.goodOrEvil == 1) {
    batch.draw(sadImage, element.rect.x, element.rect.y);
}
} //i draw the elements that i have to fix the bodies to
batch.end();
debugRenderer.render(world, camera.combined);
Iterator<Element> iter = elements.iterator();
//next i set the accelerometer to move the elements, so that i could control them, i need to move all the elements in the same direction, in the same time
while (iter.hasNext()) {
Element element = iter.next();
element.body.setLinearVelocity(Gdx.input.getAccelerometerY() * 50, -Gdx.input.getAccelerometerX() * 50);
}
if (TimeUtils.nanoTime() - lastDropTime > 1000000000)
    spawnElement(); // this creates a new element
world.step(1 / 45f, 6, 2); 
```

这是我的 spawnElement() 类：

```
private void spawnElement() {
    Rectangle elementRect = new Rectangle();
    elementRect.x = MathUtils.random(0, 800 - 32);
    elementRect.y = 400;
    elementRect.width = 32;
    elementRect.height = 32;
    Element element = new Element(elementRect, (int) elementRect.x % 2);
    elements.add(element);
    // First we create a body definition
    BodyDef bodyDef = new BodyDef();
    // We set our body to dynamic, for something like ground which doesnt
    // move we would set it to StaticBody
    bodyDef.type = BodyType.DynamicBody;
    // Set our body's starting position in the world
    bodyDef.position.set(elementRect.x, elementRect.y);

    // Create our body in the world using our body definition
    body = world.createBody(bodyDef);

    // Create a circle shape and set its radius to 6
    CircleShape circle = new CircleShape();
    circle.setRadius(6f);

    // Create a fixture definition to apply our shape to
    FixtureDef fixtureDef = new FixtureDef();
    fixtureDef.shape = circle;
    fixtureDef.density = 0.5f;
    fixtureDef.friction = 0.4f;
    fixtureDef.restitution = 0.6f; // Make it bounce a little bit

    // Create our fixture and attach it to the body
    Fixture fixture = body.createFixture(fixtureDef);
    element.body = body;

    lastDropTime = TimeUtils.nanoTime();
} 
```

现在，如果我将重力设置为存在`world = new World(new Vector2(-2, -20), true);`并注释掉这一行：`element.body.setLinearVelocity(Gdx.input.getAccelerometerY() * 50, -Gdx.input.getAccelerometerX() * 50);`物理效果很好，但我无法控制我的对象。如果我保持原样（没有重力和那条线），我可以控制我的对象，但是当一个元素撞到墙上，另一个元素来时，它们重叠，然后才开始分裂。我需要它们相互碰撞，并保持靠近，但根本不重叠。关于如何做到这一点的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:40:58.870

而不是使用`element.body.setLinearVelocity(Gdx.input.getAccelerometerY() * 50, -Gdx.input.getAccelerometerX() * 50);` 我使用了这个：

```
Vector2 gravity = new Vector2(Gdx.input.getAccelerometerY() * 50, -Gdx.input.getAccelerometerX() * 50);
world.setGravity(gravity); 
```

然后它就像我设置静态重力一样回答，但我在每次渲染时都改变重力，使用我的加速度计的值

# c++ - C++ 接口：如何避免键入相同的方法名称 3 次？

> ID：15677423
> 
> 赞同：2
> 
> 时间：2013-03-28T08:44:12.677
> 
> 标签：c++, design-patterns, interface

[作为这个问题](https://stackoverflow.com/questions/15676807/interfaces-in-c-why-do-i-need-an-interface-class-another-parent-class)的后续：如果我创建一个纯虚拟接口类并将实现类拆分为头文件和源文件，我会得到以下信息：

界面：

```
class IDemo
{
    public:
        virtual ~IDemo() {}
        virtual void OverrideMe() = 0;
}; 
```

实现类，标题：

```
class Child : public IDemo
{
    public:
       virtual void OverrideMe();
}; 
```

实现类，来源：

```
void Child::OverrideMe() 
{
    //doStuff
} 
```

所以我需要将接口中声明的方法的名称重复 3 次——这不仅麻烦，而且令人困惑。有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T08:57:17.370

没有办法避免这种情况（除非您在头文件中编写定义，正如其他人已经建议的那样；正如 Botz3000 也建议的那样 - 不要这样做）。

这就是这样做的方法。

* * *

根据您的评论，我决定写一个答案：

我：

> 什么如此令人困惑

你：

> 如果有人查看标题，他怎么知道这个方法声明实际上是从基类继承的

好吧，有两种方法 - 发表评论，例如：

```
/*
 * This overrides Base::OverrideMe
 */
virtual void OverrideMe(); 
```

当您将鼠标光标放在评论上时，大多数编辑都会向您显示此评论。

另一种方法是使用`C++11`, 在函数后添加`override`关键字：

```
class Child : public IDemo
{
    public:
       virtual void OverrideMe() override;
}; 
```

这对于其他情况也可能有用。您可能希望查看[有关 C++11 的 wiki 文章的这一部分：`override`](http://en.wikipedia.org/wiki/C++11#Explicit_overrides_and_final)

另请参阅：['override' 关键字是否只是检查覆盖的虚拟方法？](https://stackoverflow.com/questions/13880205/override-in-c11)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:49:42.800

不，没有什么好的办法。
接口必须指定方法，因为它是其契约的一部分。
标头必须指定方法，以声明该类覆盖它。
源文件必须指定方法，以便编译器知道实现属于哪个方法。我不觉得这令人困惑。

将出现次数减少到两次的唯一方法是在类的标题中实现该方法，但我强烈反对这种做法。

# python - 在python中将打印语句与列表理解相结合

> ID：15677429
> 
> 赞同：3
> 
> 时间：2013-03-28T08:44:26.167
> 
> 标签：python, printing, list-comprehension, polling

我正在编写代码以使用 GSM 调制解调器在 python 中发送和接收消息。

每当收到新消息时，我都会在从串行端口对象读取后在列表 x 中获得以下响应。

```
+CMTI: "SM",0 # Message notification with index 
```

我正在轮询这个指示，我已经使用列表推导来检查我是否收到了上述回复

```
def poll(x):
    regex=re.compile("\+CMTI:.......")
    [m for l in x for m in [regex.search(l)] if m] 
```

这似乎有效，但是我想在找到匹配项时添加打印语句，例如

```
print "You have received a new message!" 
```

如何将打印语句与上述结合起来？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:02:27.350

使用普通`for`循环，可以这样完成：

```
def poll(x):
    regex = re.compile("\+CMTI:.......")
    lst = []
    for l in x:
        for m in [regex.search(l)]:
            if m:
                lst.append(m)
                print "You have received a new message!" 
```

请注意，此列表没有存储在任何地方（函数范围之外）——也许你想要`return`它。

* * *

作为旁注，hacky解决方案：

```
from __future__ import print_function
def poll(x):
    regex = re.compile("\+CMTI:.......")
    [(m, print("You have received a new message!"))[0] for l in x for m in [regex.search(l)] if m] 
```

但这是*非常不符合标准*的 - 请改用其他版本。

# facebook - 即使在代码中传递，脚本也会在 facebook 登录中给出错误“需要参数 app_id”

> ID：15677434
> 
> 赞同：2
> 
> 时间：2013-03-28T08:44:46.360
> 
> 标签：facebook, facebook-graph-api, login, facebook-login

我开发了一个网站，我想在其中加入“使用 facebook 登录”按钮。我已经编写了必要的部分并为它制作了 facebook 应用程序。在我的代码中，我什至传递了应用程序 ID 和密钥。即使这样做之后，当我按下按钮通过 facebook 登录时，它也会给我一个错误“需要参数 app_id”。这是我的登录脚本

```
 <?php 
            include 'fbaccess.php'
            if(empty($user))
            {
            ?>
            <form name="fblogin" action="<?php echo $loginUrl;?>">
            <input type="submit" name="fbsubmit" value="Login with Facebook"/>
            </form>
            <?php                   
            } 
            else {
                echo $user_info;
            }
            ?> 
```

这是我的 fbaccess.php 代码

```
 <?php
     $app_id        = APP_ID;
     $app_secret    = APP_SECRET;
     $site_url  = "www.jajabora.com/index.php";

     include_once "src/facebook.php";

     //creating the object of facebook from the API
     $facebook = new Facebook(array(
 'appId'        => $app_id,
 'secret'   => $app_secret,
  ));

      //getting the user id to check whether the user is logged in or not
       $user = $facebook->getUser();

      //if user is not authenticated api/me will throw an exception, hence we will know                he isnt logged in after logging out
      /*checks if the user is logged in or not*/if($user){
      // Single query method 
  try{
    // Proceed knowing you have a logged in user who's authenticated.
    $user_profile = $facebook->api('/me');
   }/*if exception the user has logged out after logging in hence not authenticated*/
  catch(FacebookApiException $e){
    error_log($e);
    $user = NULL;
  }
      // Single query method ends 
      }
       if($user){
  // Get logout URL
  $logoutUrl = $facebook->getLogoutUrl();
      }else{
  // Get login URL
  $loginUrl = $facebook->getLoginUrl(array(
    'scope' => 'publish_stream, user_birthday,user_location,email,first_name,last_name,gender',
    ));
       }
      if($user){
  // Proceed knowing you have a logged in user who has a valid session.

      //========= Batch requests over the Facebook Graph API using the PHP-SDK ========
  // Save your method calls into an array
  $queries = array(
    array('method' => 'GET', 'relative_url' => '/'.$user)/*,
    array('method' => 'GET', 'relative_url' => '/'.$user.'/home?limit=50'),
    array('method' => 'GET', 'relative_url' => '/'.$user.'/friends'),
    array('method' => 'GET', 'relative_url' => '/'.$user.'/photos?limit=6'),*/
    );

   // POST your queries to the batch endpoint on the graph.
   try{
    $batchResponse = $facebook->api('?batch='.json_encode($queries), 'POST');
     }catch(Exception $o){
    error_log($o);
      }

    //Return values are indexed in order of the original array, content is in   ['body'] as a JSON
   //string. Decode for use as a PHP array.
    $user_info      = json_decode($batchResponse[0]['body'], TRUE);
    $feed           = json_decode($batchResponse[1]['body'], TRUE);
    /*$friends_list     = json_decode($batchResponse[2]['body'], TRUE);
    $photos         = json_decode($batchResponse[3]['body'], TRUE);*/
        //========= Batch requests over the Facebook Graph API using the PHP-SDK ends =====

       try {
   $publishStream = $facebook->api("/$user/feed", 'post', array(
    'message'       => 'Check out jajabora.com',
    'link'          => 'http://jajabora.com'/*,
    'picture'       => 'http://25labs.com/images/25-labs-160-160.jpg'*/,
    'name'          => 'Jajabora',
    'caption'       => 'jajabora.com',
    'description'       => 'A carpooling website. highly recommended to  save fuel and cost of travel',
    ));
           }catch(FacebookApiException $e){
         error_log($e);
               }
                }
              ?> 
```

请指导我。我是 facebook 登录编码的新手

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T10:10:51.913

我怀疑问题可能隐藏在这里：

```
<form name="fblogin" action="<?php echo $loginUrl;?>">
        <input type="submit" name="fbsubmit" value="Login with Facebook"/>
</form> 
```

您正在向生成的链接发送获取请求，为什么？用户应该遵循该链接并授予您的应用程序权限，尝试这样的事情而不是表单：

```
<a href="<?php echo $loginUrl?>">Login with Facebook </a> 
```

为了将用户重定向到某个页面，请将 redirect_uri 添加到 getLoginUrl：

```
$loginUrl = $facebook->getLoginUrl(array(
'scope' => 'publish_stream, user_birthday,user_location,email,first_name,last_name,gender',
redirect_uri => PAGE_URL
)); 
```

确保此页面属于您在应用设置中设置的域。

# c++ - C++ rand() 不断返回相同的数字

> ID：15677436
> 
> 赞同：0
> 
> 时间：2013-03-28T08:44:58.640
> 
> 标签：c++

我不明白为什么我的程序会为每一轮生成相同的随机数字。事实上，除非我退出并重新启动程序，否则这个数字不会改变。由于我是 C++ 新手，这应该是一个我不知道的相当微不足道的错误。以下是我的代码，提前感谢您的帮助。

```
#include <iostream>
#include <ctime>
#include <cstdlib>
#include <string>
using namespace std;

int getRandNum();

int main()
{
    int randNum = getRandNum();

    srand((unsigned int) time(NULL));

.
.
.

}

int getRandNum()
{
    int randNum;

    randNum = rand() % 3 + 1;

    return randNum;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:47:46.110

你`rand`从函数调用`getComputerChoice()`。但是，在您使用 设置种子之前调用该函数`srand`。

你需要`srand`在第一次调用`rand`函数之前调用，这也意味着之前`getComputerChoice`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:48:27.317

您`computerChoice`只调用一次函数并将此结果用于所有后续操作。

此外，必须在使用 播种随机生成器之后进行调用`srand`，就像@ZdeslavVojkovic 正确提到的那样

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:52:39.317

您需要移动`int computerChoice = getComputerChoice();`到`do`循环内部。上面的代码在一开始就选择了一个选项，然后从不选择另一个。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T08:55:16.027

你只要`getComputerChoice()`在下面写`getPlayerChoice()`，你的问题就解决了。

```
playerChoice = getPlayerChoice();
computerChoice = getComputerChoice(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T09:00:47.370

您的算法存在问题，您在 main() 开始时只调用一次 getComputerChoice()，但您需要在 do ... while 中执行此操作：

```
...
if(playQuitOption == 'p' || playQuitOption == 'P')
    {
        cout << endl;

        playerChoice = getPlayerChoice();
        computerChoice = getComputerChoice();
... 
```

# sqlite - 为什么我会收到错误“错误：没有这样的列：主要。 . “虽然它存在？

> ID：15677438
> 
> 赞同：0
> 
> 时间：2013-03-28T08:45:01.050
> 
> 标签：sqlite

这有效：

```
sqlite> .databases
seq  name             file                                                      
---  ---------------  ----------------------------------------------------------
0    main             /path/to/db
2    uni              /path/to/db 
```

还有这个：

```
sqlite> pragma main.table_info(tsv_storage);
0|id|int|0||0
1|seqid|text|0||0
... 
```

还有这个：

```
sqlite> select count(*) from main.tsv_storage;
198159 
```

并且附加的数据库也有效：

```
sqlite> select * from uni.fasta_storage where uni.fasta_storage.id = 1;
1 MASNTVSAQ...  Q197F8.1 002R_IIV3 Uncharacterized protein 002R  Q197F8 
```

但这不是：

```
sqlite> select main.tsv_storage.seqid where main.tsv_storage.id=8;
Error: no such column: main.tsv_storage.seqid 
```

编辑：我也有这个问题，我必须加入表格吗？

```
insert into main.tsv_storage(seqlength) select length(fasta) from 
uni.fasta_storage where uni.fasta_storage.title = main.tsv_storage.seqid;
Error: no such column: main.tsv_storage.seqid 
```

它发生在所有列上，不仅是 seqid。我想我做了这里解释的一切：http: [//sqlite.awardspace.info/syntax/sqlitepg12.htm](http://sqlite.awardspace.info/syntax/sqlitepg12.htm)

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:52:09.517

```
sqlite> select * from main.tsv_storage.seqid where main.tsv_storage.id=8; 
```

您尚未定义在何处查找选择。您需要告诉查询要在表中搜索哪些字段，然后定义要搜索的表。该`select *`部分告诉查询查看表中的所有字段。`from`查询部分告诉进程要查找的表。最后部分`where`告诉查询在查找时要匹配什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:27:22.087

使用时`INSERT ... SELECT ...`，该`SELECT`部分必须是有效查询。

如果没有子句`main.tsv_storage`中的表，您将无法访问列：`FROM`

```
INSERT INTO main.tsv_storage(seqlength)
SELECT length(fasta)
FROM uni.fasta_storage, main.tsv_storage
WHERE uni.fasta_storage.title = main.tsv_storage.seqid; 
```

整个命令看起来很可疑。您确定不想更新`seqlength`列中*现有*记录的值吗？在这种情况下，你会使用这样的东西：

```
UPDATE main.tsv_storage
SET seqlength = (SELECT length(fasta)
                 FROM uni.fasta_storage
                 WHERE uni.fasta_storage.title = main.tsv_storage.seqid); 
```

# git - 从分支获取最新 Git 提交哈希的命令

> ID：15677439
> 
> 赞同：105
> 
> 时间：2013-03-28T08:45:07.147
> 
> 标签：git, github

如何使用命令行检查特定 Git 分支的最新提交哈希？

* * *

## 回答 #1

> 赞同：159
> 
> 时间：2013-03-28T10:21:38.213

```
git log -n 1 [branch_name] 
```

`branch_name`（可能是远程或本地分支）是可选的。如果没有`branch_name`，它将显示当前分支上的最新提交。

例如：

```
git log -n 1
git log -n 1 origin/master
git log -n 1 some_local_branch

git log -n 1 --pretty=format:"%H"  #To get only hash value of commit 
```

* * *

## 回答 #2

> 赞同：78
> 
> 时间：2013-03-28T10:51:48.690

使用`git ls-remote git://github.com/<user>/<project>.git`. 例如，我的 trac-backlog 项目给出：

```
:: git ls-remote git://github.com/jszakmeister/trac-backlog.git
5d6a3c973c254378738bdbc85d72f14aefa316a0    HEAD
4652257768acef90b9af560295b02d0ac6e7702c    refs/heads/0.1.x
35af07bc99c7527b84e11a8632bfb396823326f3    refs/heads/0.2.x
5d6a3c973c254378738bdbc85d72f14aefa316a0    refs/heads/master
520dcebff52506682d6822ade0188d4622eb41d1    refs/pull/11/head
6b2c1ed650a7ff693ecd8ab1cb5c124ba32866a2    refs/pull/11/merge
51088b60d66b68a565080eb56dbbc5f8c97c1400    refs/pull/12/head
127c468826c0c77e26a5da4d40ae3a61e00c0726    refs/pull/12/merge
2401b5537224fe4176f2a134ee93005a6263cf24    refs/pull/15/head
8aa9aedc0e3a0d43ddfeaf0b971d0ae3a23d57b3    refs/pull/15/merge
d96aed93c94f97d328fc57588e61a7ec52a05c69    refs/pull/7/head
f7c1e8dabdbeca9f9060de24da4560abc76e77cd    refs/pull/7/merge
aa8a935f084a6e1c66aa939b47b9a5567c4e25f5    refs/pull/8/head
cd258b82cc499d84165ea8d7a23faa46f0f2f125    refs/pull/8/merge
c10a73a8b0c1809fcb3a1f49bdc1a6487927483d    refs/tags/0.1.0
a39dad9a1268f7df256ba78f1166308563544af1    refs/tags/0.2.0
2d559cf785816afd69c3cb768413c4f6ca574708    refs/tags/0.2.1
434170523d5f8aad05dc5cf86c2a326908cf3f57    refs/tags/0.2.2
d2dfe40cb78ddc66e6865dcd2e76d6bc2291d44c    refs/tags/0.3.0
9db35263a15dcdfbc19ed0a1f7a9e29a40507070    refs/tags/0.3.0^{} 
```

只需 grep 找到您需要的并将其删除：

```
:: git ls-remote git://github.com/jszakmeister/trac-backlog.git | \
   grep refs/heads/master | cut -f 1
5d6a3c973c254378738bdbc85d72f14aefa316a0 
```

或者，您可以在命令行上指定所需的 refs 并避免使用 grep：

```
:: git ls-remote git://github.com/jszakmeister/trac-backlog.git refs/heads/master | \
   cut -f 1
5d6a3c973c254378738bdbc85d72f14aefa316a0 
```

注意：它不一定是`git://`URL。可能是`https://`，`git@github.com:`也可能是。

最初，这是为了找出远程分支的最新提交（不仅仅是从您上次获取，而是从远程存储库分支中的实际最新提交）。如果您需要本地某些东西的提交哈希，最好的答案是：

```
git rev-parse branch-name 
```

它快速、简单且只需一个命令。如果你想要当前分支的提交哈希，你可以查看 HEAD：

```
git rev-parse HEAD 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-28T08:48:52.323

`git log -n 1`做完后尝试使用`git checkout branchname`。这显示了最新提交的提交哈希、作者、日期和提交消息。

执行`git pull origin/branchname`第一个，以确保您的本地 repo 与上游匹配。

如果您可能只想查看本地分支在远程分支上的提交列表，请执行以下操作：

```
git fetch origin
git cherry localbranch remotebranch 
```

这将列出您尚未合并到本地分支的所有提交的哈希值。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-28T08:50:33.827

`git fetch nameofremoterepo`那么你可以`git log`

就个人而言，我别名`gitlog`为`git log --graph --oneline --pretty --decorate --all`. 试试看它是否适合你

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T09:17:56.173

在你写的评论中

> 我想表明本地和 github repo 是有区别的

正如另一个答案中已经提到的，你应该先做`git fetch origin`。然后，如果远程在您当前的分支之前，您可以列出本地分支和远程之间的所有提交

```
git log master..origin/master --stat 
```

如果您的本地分支机构领先：

```
git log origin/master..master --stat 
```

`--stat`还显示已更改文件的列表。

如果要明确列出添加和删除，请使用`git diff`：

```
git diff master origin/master 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-07-17T02:08:14.330

请注意，使用“git log -n 1 [branch_name]”选项时。-n 只返回一行日志，但不保证返回的顺序。以下是 git-log 手册页的摘录

```
.....
.....
Commit Limiting

Besides specifying a range of commits that should be listed using the special notations explained in the     description, additional commit limiting may be applied.

Using more options generally further limits the output (e.g. --since=<date1> limits to commits newer than <date1>, and using it with --grep=<pattern> further limits to commits whose log message has a line that matches <pattern>), unless otherwise noted.

Note that these are applied before commit ordering and formatting options, such as --reverse.

-<number>
-n <number>
.....
..... 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2022-01-06T13:57:35.543

添加到上面 John Szakmeister 的出色答案（[https://stackoverflow.com/a/15679887/4597676](https://stackoverflow.com/a/15679887/4597676) ），您可以通过将输出传递到类似或类似`git rev-parse BRANCHNAME`的命令来执行此操作而无需触摸鼠标：`pbcopy`

*   `git rev-parse HEAD | pbcopy`.
    然后，您可以 pbpaste 或使用鼠标粘贴它。
*   它看起来像在您应该能够使用`xsel`或类似的Linux机器上。（我自己没有尝试过）。[https://askubuntu.com/q/1157488](https://askubuntu.com/q/1157488)。
*   看起来您可以从剪贴板在 Windows 上使用 clip.exe。cf：[https ://www.winhelponline.com/articles/248/1/Copy-command-line-output-directly-to-the-Clipboard-using-Clipexe.html](https://www.winhelponline.com/articles/248/1/Copy-command-line-output-directly-to-the-Clipboard-using-Clipexe.html)

# linux - 从文本文件中获取值并在 UNIX 环境中进行计算

> ID：15677440
> 
> 赞同：1
> 
> 时间：2013-03-28T08:45:07.510
> 
> 标签：linux, bash, shell, unix, awk

在 unix shell 中，我有一个包含以下信息的 txt 文件（Price.txt）：

```
Buy value: 15
Sell value: 30 
```

我可以知道如何使用可以grep买入价值和卖出价值（整数）的命令，然后在它们之间做差异，存储在一个新变量中吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:12:44.760

这是一个简单的`awk`脚本，它将打印出售价值与购买价值之间的差异*（文件中哪个先出现无关紧要）*：

```
$ awk '/Buy value/{b=$3}/Sell value/{s=$3}END{print s-b}' file
15 
```

或者，如果您知道`Buy value`永远是第一位的，您可以更简洁一点：

```
$ awk '/Buy value/{b=$3}/Sell value/{print $3-b}' file
15 
```

如果这些是文件中仅有的两行：

```
$ awk '{b?b=$3-b:b=$3}END{print b}' file
15 
```

但是，如果您需要做更多的事情，第一个脚本是最健壮且最容易修改的。

要将此结果存储在 shell 变量中，请执行以下操作：

```
$ diff=$(awk '/Buy value/{b=$3}/Sell value/{s=$3}END{print s-b}' file)

$ echo $diff
15 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:12:03.510

一个非常基本的方法是：

```
buy=$(tail -1 YOUR_FILE | cut -d: -f2)
sell=$(head -1 YOUR_FILE | cut -d: -f2)
echo "the result is $(( $sell - $buy ))" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T11:16:08.377

这是一个不使用任何外部程序的纯 shell 解决方案：

```
#!/bin/bash

diff=0
while read bs value amount
do
    if [[ $bs == Buy ]]
    then
        diff=$(( diff - amount ))
    elif [[ $bs == Sell ]]
    then
        diff=$(( diff + amount ))
    else
        echo "$bs ignored!" >&2
    fi

done < Price.txt

echo "Difference: $diff" 
```

# ios - 如何开发动态 iOS 设置菜单

> ID：15677442
> 
> 赞同：1
> 
> 时间：2013-03-28T08:45:11.207
> 
> 标签：ios, menu, settings, options, preference

如果您正在开发 Android 应用程序，您可以创建一个 PreferenceScreen/Activity，然后将一些在 xml 文件中声明的首选项链接到该屏幕。因此，您可以构建不同的设置菜单并从应用程序的不同位置调用它们。它们都使用相同的样式和相同的机制来保存选择的设置。

我只是想知道，iOS 中没有这样的功能。我们必须在我们的应用程序中调用许多不同的设置菜单，那么我该如何归档呢？最好设计一个动态设置屏幕，您可以从应用程序的任何位置调用（每次都填充不同的信息），或者我们应该使用一个所有应用程序设置都存在的大设置菜单。那么，是否可以简单地跳转到这个大设置菜单的“子菜单”？

我应该使用 iOS Settings Bundle 在文件中生成菜单结构，然后在表格视图中显示它们吗？

我可以找到一些设置工具包，例如 InAppSettingsKit，但我不喜欢使用开源库来实现如此重要的功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T12:04:03.603

设置包是将设置添加到您的应用程序的正确方法。

从 iOS 应用程序中访问设置有点不寻常，但如果您确定要这样做，那么 InAppSettingsKit 是一种使应用程序内设置尽可能类似于设置应用程序的好方法。它是开源的这一事实不应该让你失望——iOS 工具链的大部分都是开源的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T11:37:26.353

我做了类似的事情，我有一个菜单模式的枚举。每次选择表格视图单元格时，它都会更改模式并重绘表格视图。numberOfRowsInSection: 和 numberOfSections 中的条件：更改表格的布局和 cellForRowAtIndexPath 中的条件：更改内容，均基于新模式集。然后，我将每种模式的表格内容转成 JSON 文件，并在开始时将其读入字典，该字典形成表格读取的数据结构。

我选择了 JSON，因为它很容易用 NSJSONSerialization 解析

# casting - 如何调整 LISTAGG 以在选择查询中支持超过 4000 个字符？

> ID：15677446
> 
> 赞同：5
> 
> 时间：2013-03-28T08:45:19.860
> 
> 标签：casting, oracle11g, collect

Oracle 数据库 11g 企业版 11.2.0.2.0 - 64 位生产。

我有一个以下格式的表格。

```
Name     Department
Johny    Dep1
Jacky    Dep2
Ramu     Dep1 
```

我需要以下格式的输出。

```
Dep1 - Johny,Ramu
Dep2 - Jacky 
```

我已经尝试过 'LISTAGG' 功能，但有 4000 个字符的硬性限制。由于我的数据库表很大，因此无法在应用程序中使用。另一种选择是使用

```
SELECT CAST(COLLECT(Name) 
```

但是我的框架只允许我执行选择查询而不执行 PL/SQL 脚本。因此我找不到任何方法来使用 COLLECT 命令所需的“CREATE TYPE”命令创建类型。

有没有其他方法可以使用选择查询来实现上述结果？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-03-13T10:58:56.427

您应该添加 GetClobVal 并且还需要 rtrim 因为它将在结果末尾返回分隔符。

```
SELECT RTRIM(XMLAGG(XMLELEMENT(E,colname,',').EXTRACT('//text()') 
  ORDER BY colname).GetClobVal(),',') from tablename; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-28T11:25:08.703

如果您不能创建类型（您不能只使用 sql*plus 一次性创建吗？），但您可以使用 COLLECT，然后使用内置数组。RDBMS 中有几个问题。运行此查询：

```
select owner, type_name, coll_type, elem_type_name, upper_bound, length 
 from all_coll_types
 where elem_type_name = 'VARCHAR2'; 
```

例如，在我的数据库上，我可以使用`sys.DBMSOUTPUT_LINESARRAY`一个相当大的可变数组。

```
select department, 
       cast(collect(name) as sys.DBMSOUTPUT_LINESARRAY) 
  from emp 
 group by department; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-04-15T19:17:21.530

@anuu_online 的衍生物，但处理结果中的 XML 转义。

```
dbms_xmlgen.convert(xmlagg(xmlelement(E, name||',')).extract('//text()').getclobval(),1) 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-03-26T10:18:48.360

对于 IBM DB2，将结果转换为 varchar(10000) 将提供超过 4000。

```
select column1, listagg(CAST(column2 AS VARCHAR(10000)), x'0A') AS "Concat column"... 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-03-28T19:20:50.033

我最终采用了另一种方法，使用没有硬限制 4000 的 XMLAGG 函数。

```
select department,
XMLAGG(XMLELEMENT(E,name||',')).EXTRACT('//text()')  
from emp 
group by department; 
```

# java - 创建一个程序来管理 Amazon EC2 实例

> ID：15677455
> 
> 赞同：1
> 
> 时间：2013-03-28T08:45:48.990
> 
> 标签：java, amazon-web-services, amazon-ec2

我正在尝试创建一个可以管理 EC2 实例（创建、停止、终止）的程序。我对该服务不熟悉，在查看文档和搜索网络后，没有找到任何关于创建管理服务的一般建议。我的问题是：

**哪种编程环境/语言最适合创建管理程序？**

**该程序如何与 EC2 实例交互？（我研究过[AWS EC2 命令行工具](http://aws.amazon.com/developertools/351)。这些可以从程序中用于创建/终止实例吗？）**

任何实现此目的的一般建议都值得赞赏（尤其是示例链接）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:54:04.710

我猜您是云和 aws 世界的新手，您可以使用 AWS 命令​​行工具来管理服务。此外，如果您只担心启动、停止或终止实例，您可以使用现成的 aws 管理控制台来让事情变得更简单。人们还构建了一些称为配置管理系统的东西，例如由 ruby​​ 构建的 opscode chef，或者您可以使用由 puppet lab 的自定义 DSL 构建的 puppet。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T16:03:04.333

> 哪种编程环境/语言最适合创建管理程序？

这个问题不能以明确的方式回答，您应该选择您最熟悉的语言，或者选择最适合您的环境/团队的语言 - 有很多可供选择，大多数流行的主要语言都包含在专用 SDK 中（目前是 Java、.NET、Node.js、Python、PHP、Ruby），请参阅[Amazon Web Services 工具以](http://aws.amazon.com/tools/)获取详细列表和指向有关每个工具的更多信息的链接。

*   请注意，还列出了两个*IDE 工具包*，如果您碰巧使用 Java 或 C# 进行开发，可能会更容易上手，特别是[AWS Toolkit for Eclipse](http://aws.amazon.com/eclipse/)和[AWS Toolkit for Microsoft Visual Studio](http://aws.amazon.com/visualstudio/)。

> 该程序如何与 EC2 实例交互？

所有的 SDK（以及基于这些的命令行工具）都使用 AWS API 与各自的服务进行交互（每个都有一个单独的 API，但它们中的大多数结构非常相似），请参阅[文档](http://aws.amazon.com/documentation/)以获取列表所有当前可用的服务及其文档的链接：

> 欢迎使用 Amazon Web Services (AWS) 文档。无论您是 AWS 新手还是高级用户，您都可以找到有关从介绍到高级功能的服务的有用信息。
> 
> 要了解如何开始使用 AWS，请参阅我们的[AWS 入门](http://docs.aws.amazon.com/gettingstarted/latest/awsgsg-intro)指南。如果您有兴趣了解有关我们的[AWS 免费使用套餐](http://docs.aws.amazon.com/gettingstarted/latest/awsgsg-freetier/)的更多信息，请参阅我们的 AWS 免费使用套餐文章。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:35:37.593

我不确定你是否真的需要一个程序来做到这一点。Amazon 管理控制台 ( [https://console.aws.amazon.com](https://console.aws.amazon.com) ) 非常简单明了，使用简单，您可以在很短的时间内启动数千个实例。我在大约 3 分钟内创建了 20 个实例，并在我第一次与该技术交互时删除（终止）了 9 个。你会提供一个必要的用例吗？就像你想制造导弹杀死一只鸡（而不是买一把刀）

HTH，谢谢，祝福

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:54:06.283

我曾经在一个与 EC2 打交道的项目上工作，我的职责之一是远程管理实例（部署/启动/存储/重启）。我使用 Java 和 Amazon API 为应用程序编写了一个通信模块。

此外，我制作了一些通用的 ant 脚本来处理必须部署到实例中的代码。一种老式的方式，但效果很好:)

# sql - 如何删除 MS SQL 数据库中的部分重复项？

> ID：15677458
> 
> 赞同：2
> 
> 时间：2013-03-28T08:45:54.520
> 
> 标签：sql, tsql

我有一个从不同来源自动填充的数据库表。现在我遇到了一些重复条目的问题。

例如：

```
 EID  |  TID  |  StartDate  |  EndDate
--------------------------------------------
  1    |  1    |  20.01.2012 |  23.01.2012   
  1    |  2    |  25.01.2012 |  26.01.2012
  1    |  3    |  27.01.2012 |  30.01.2012
  2    |  2    |  20.02.2012 |  23.02.2012
  2    |  2    |  25.01.2012 |  26.01.2012
  3    |  1    |  20.01.2012 |  23.01.2012 
```

如您所见，有两行 EID 和 TID 相同。我想要实现的是，删除日期较高的那一行。我发现的唯一解决方法是只选择较低的查询。

```
SELECT EID, TID, Min(StartDate), Min(EndDate) FROM Table1 GROUP BY EID, TID 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:48:16.450

您可以使用 a[`CTE`](http://msdn.microsoft.com/en-us/library/ms190766%28v=sql.105%29.aspx)和[`ROW_NUMBER`](http://msdn.microsoft.com/en-us/library/ms186734.aspx)函数：

```
WITH CTE AS
(
   SELECT EID, TID, StartDate, EndDate,
      RN = ROW_NUMBER() OVER (PARTITION BY  EID, TID ORDER BY StartDate, EndDate)
   FROM Table1 
)
DELETE FROM CTE WHERE RN > 1 
```

[**演示**](http://sqlfiddle.com/#!3/33081/3/1)

# c++ - 如何将 std::cout 重定向到 UITextView？

> ID：15677459
> 
> 赞同：2
> 
> 时间：2013-03-28T08:45:58.177
> 
> 标签：c++, ios, objective-c

我正在向 iOS 应用程序添加 C++ 代码，并且我想使用 UITextView 作为一种方式来显示通过 std::cout 发生的事情。我不想过多地修改 C++ 代码。

到目前为止，我已经定义了一个名为 stdcout 的字符串流，在我对捕获输出感兴趣的 C++ 代码范围内，我正在 C++ 块返回后更新 UITextView。这有点侵入性，因为我需要进行一些手动文本替换，而且容易出错。

有一个更好的方法吗 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:29:05.330

你可以看看 rdbuf()。

如果您关心性能/灵活性，您可以编写自定义流缓冲区并实现溢出成员，以便您获得“自动”“实时”更新。

这是一个中继到字符串流的简单示例：

```
#include <sstream>
#include <iostream>

int main()
{
    std::ostringstream oss;
    auto saved = std::cout.rdbuf(oss.rdbuf());

    std::cout << "hello world" << std::endl;

    std::cout.rdbuf(saved);
    return oss.str().length();
} 
```

该程序在我的 cygwin shell 上以 exitcode '12' 退出：

```
./test.exe; echo $?
12 
```

# ms-word - 在某些情况下，使用 docx4j 将 XHTML 转换为 docx 会丢失原始样式

> ID：15677461
> 
> 赞同：3
> 
> 时间：2013-03-28T08:46:06.243
> 
> 标签：ms-word, xhtml, docx4j

在我的测试过程中，我发现将以下 html 内容转换为 docx 时，原始样式会丢失。

1.  `< a href="http://www.google.com">Google< /a>`

    结果为docx：没有下划线。

2.  `< p>< span style="text-decoration: underline;">underline text< /span>< /p>`

    结果为docx：没有下划线

3.  `< p>< span style="text-decoration: line-through;">delete text< /span>< /p>`

    结果为 docx: no delete line

4.  `< p style="margin-left:30.0px;">indent text< /p>`

    结果为docx：没有任何缩进

5.  `< h1>header line< /h1>`

    结果为 docx：只有纯文本

6.  `< p>< span style="background-color: rgb(255,255,0);">background color< /span>< /p>`

    结果为 docx:no any background-color

7.  `< hr/>`

    结果为docx：空

8.  `< table style="border-width:1px;">`...

    结果为docx：无边框

9.  `< span style="font-family: arial , helvetica , sans-serif;font-size: large;">`...

    导致 docx: 字体设置全部丢失。

有谁知道如何处理这些问题？或任何解决方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:31:37.107

[XHTMLImporter 源代码](https://github.com/plutext/docx4j/blob/master/src/main/java/org/docx4j/convert/in/xhtml/XHTMLImporter.java)中的注释指出，其中一些内容仍有待实现。

关于你的#4，我认为支持缩进。也许只是不适用于您使用过的单位？

重新您的 #8 表格边框，对这些有一些支持；谷歌搜索其他帖子。

实现下划线、删除和背景色都应该很简单。

如果您愿意这样做，我们很乐意接受拉取请求。

# iphone - 一个应用程序中的多个应用程序内购买

> ID：15677464
> 
> 赞同：0
> 
> 时间：2013-03-28T08:46:10.243
> 
> 标签：iphone, in-app-purchase

我有一个应用程序在同一页面上有多个应用程序内内容。当我购买一个内容时，即使我没有购买所有内容，它也会显示已经购买。

```
- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions
  {
     NSLog(@"[transactions count] : - %d ", [transactions count]);
    for (SKPaymentTransaction *transaction in transactions)
    {
        switch (transaction.transactionState)
        {
            case SKPaymentTransactionStatePurchased:
                [self completeTransaction:transaction];
                break;
            case SKPaymentTransactionStateFailed:
                [self failedTransaction:transaction];
                break;
            case SKPaymentTransactionStateRestored:
                [self restoreTransaction:transaction];
            default:
                break;
        }
    }

 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:01:24.840

您需要为应用内购买创建多个按钮，然后为它们分配不同的标签以识别它们。这是示例代码：

```
- (void)purchaseProUpgrade{
    SKPayment *payment;
    if(btnTag ==0){
      payment = [SKPayment paymentWithProductIdentifier:kInAppPurchaseProUpgradeProductId1];  
    }
    else if(btnTag ==1){
      payment = [SKPayment paymentWithProductIdentifier:kInAppPurchaseProUpgradeProductId2];   
    }

    [[SKPaymentQueue defaultQueue] addPayment:payment];
} 

// saves a record of the transaction by storing the receipt to disk

-(void)recordTransaction:(SKPaymentTransaction *)transaction{  
   if(btnTag == 0){
            if ([transaction.payment.productIdentifier isEqualToString:kInAppPurchaseProUpgradeProductId1]){
        [[NSUserDefaults standardUserDefaults] setValue:transaction.transactionReceipt forKey:@"proUpgradeTransactionReceipt" ];
                [[NSUserDefaults standardUserDefaults] synchronize];
            }
    }
    else if(btnTag == 1){
        if ([transaction.payment.productIdentifier isEqualToString:kInAppPurchaseProUpgradeProductId2])
        {
            // save the transaction receipt to disk
            [[NSUserDefaults standardUserDefaults] setValue:transaction.transactionReceipt forKey:@"proUpgradeTransactionReceipt" ];
            [[NSUserDefaults standardUserDefaults] synchronize];
        }
    }

} 

-(void)finishTransaction:(SKPaymentTransaction *)transaction wasSuccessful:(BOOL)wasSuccessful{

    [[SKPaymentQueue defaultQueue] finishTransaction:transaction];
   NSDictionary *userInfo = [NSDictionary dictionaryWithObjectsAndKeys:transaction, @"transaction" , nil];
   if (wasSuccessful) {
        [[NSNotificationCenter defaultCenter] postNotificationName:kInAppPurchaseManagerTransactionSucceededNotification object:self userInfo:userInfo];
         if(btnTag == 0){
              //write ur code
         }
        else if(btnTag == 1){
             //write ur code
        }
}
    else
    {
        [[NSNotificationCenter defaultCenter] postNotificationName:kInAppPurchaseManagerTransactionFailedNotification object:self userInfo:userInfo];
    }
} 
```

这将解决您的问题...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:15:16.347

请在此处查看[Rey Wenderlich](http://www.raywenderlich.com/2797/introduction-to-in-app-purchases)的最佳教程，该教程描述了使用多种产品的应用内购买的完整实现。

# asp.net-mvc-3 - 渲染刷新/重定向父页面

> ID：15677468
> 
> 赞同：0
> 
> 时间：2013-03-28T08:46:30.483
> 
> 标签：asp.net-mvc-3, asp.net-mvc-4, asp.net-mvc-partialview, renderaction

我目前正在开发一个 asp.net 4 mvc 应用程序，我正在尝试找出在子控制器中提交表单后重定向/刷新父页面的最佳方法。

所以在我的主要观点中，我有

## 主视图

```
@Html.RenderAction("child") 
```

## 子视图/控制器

```
[HttpPost]
public ActionResult Create() {    
    if (ModelState.IsValid) {
        // Save 
        Save();

        Response.Redirect(Request.Url.ToString()); <--- Redirects the main page hack
    }

    return PartialView();    
} 
```

重定向/刷新托管渲染操作的主页的正确方法是什么？

点网阴影

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T15:25:59.463

只需检查默认帐户控制器（Internet 应用程序模板）如何为登录/注销操作设置此设置：

```
 public ActionResult LogOff()
    {
        (...)

        return RedirectToAction("Index", "Home");
    } 
```

# matlab - Matlab IIR 滤波器

> ID：15677469
> 
> 赞同：0
> 
> 时间：2013-03-28T08:46:36.483
> 
> 标签：matlab, filter, signal-processing

我们的任务是实现一个滤波器（数字高通 IIR 滤波器）以降低 500 Hz 以下的频率并允许更高的频率。使用 sptool 和椭圆函数，我们构造了以下内容

```
% Sampling Rate (Hz)
Fs = 46875; 

% High-pass filter
N = 4; % Filter Order
Wn = 500/(46875/2);  % Cutoff Frequency in terms of Passband / Nyquist frequency ratio
Rp = 0.5; % Passband ripple specification
Rs = 20; % Stopband attenuation

[Num,Den] = ellip(N,Rp,Rs,Wn,'high');

secondOrderSection = tf2sos(Num,Den)./2 
```

然后我们使用 L1 norm 计算比例因子：我们需要在 16 位 atmel 微控制器（AC3U3 Xplained）上实现，因此必须以 Q_0.15 形式计算比例因子

```
% FIRST SECTION
firstScaleFactor = 1/(sum(abs(impz(1,secondOrderSection(1,4:6)))))
sf1_2_Q = round(firstScaleFactor*(2^15))

% SECOND SECTION
secondScaleFactor = 1/(sum(abs(impz(1,secondOrderSection(2,4:6)))))
sf2_2_Q = round(secondScaleFactor*(2^15)) 
```

问题：我们的比例因子似乎有点低，第一个比例因子是 77，第二个是 14。我们的计算有什么错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T15:41:02.577

[德州仪器 (TI) 的本应用笔记](http://spinlab.wpi.edu/courses/ece4703_2008/spra509.pdf)概述了定点滤波器实现中的溢出避免技术。

# java - 从 Java 执行带有反引号的 Unix 命令

> ID：15677473
> 
> 赞同：1
> 
> 时间：2013-03-28T08:46:56.390
> 
> 标签：java, unix, process

我正在尝试从 java 执行以下命令（在 unix 框中正确运行）-

```
kill -9 `ps -ef | grep -i myScript.sh | grep bash | awk '{print $2}'` 
```

但是当通过Java执行时，我得到以下错误 -

```
/usr/bin/kill[8]: `ps: Arguments must be %job or process ids
Exit : 1 
```

**代码：**

```
String command = "kill -9 `ps -ef | grep -i myScript.sh | grep bash | awk '{print $2}'`";
Process process=Runtime.getRuntime().exec(command);
InputStream stderr = process.getErrorStream();
InputStreamReader inputStream = new InputStreamReader(stderr);
BufferedReader reader = new BufferedReader(inputStream);
String error = null;
while((error = reader.readLine()) != null) {
    System.out.println(error);
}
exitVal = process.waitFor();
System.out.println("Exit : "+ exitVal); 
```

ps - 只是提醒一下，该命令在 shell 下运行得非常好。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T08:48:30.723

您尝试运行的是 shell 命令行，但您正在运行`kill`并将所有参数传递给它，这就是您从`/usr/bin/kill`.

您应该像从 Java 代码一样运行 shell `bash`，然后使用该`-c`选项传递命令行。

如果您这样做，最好将命令参数作为数组而不是单个字符串传递给您。

```
String[] command = {"bash","-c","kill -9 `ps -ef | grep -i myScript.sh | grep bash | awk '{print $2}'`"}; 
```

# log4j - Liferay 日志记录

> ID：15677481
> 
> 赞同：4
> 
> 时间：2013-03-28T08:47:22.510
> 
> 标签：log4j, liferay, liferay-6

我知道您可以在路径上定义 liferay 日志的日志级别

> /liferay-portal-6.1.10-ee-ga1/logs/liferay.yyyy-mm-dd.log 通过控制面板 -> 服务器管理 -> 日志级别

. 但这很难做到，因为有很多页面要经过，还有很多类或包。有没有办法可以从一个地方将所有级别设置为 WARN？

在 Log4j 属性文件中，我在不同的地方定义了一个日志文件，并将那里的日志级别设置为 WARN。这行得通。我是否也可以在同一个 Log4j 属性文件中为此路径进行其他设置：

> /liferay-portal-6.1.10-ee-ga1/logs/liferay.yyyy-mm-dd.log?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-28T12:34:56.237

这是可能的。在这里创建一个目录：`LIFERAY-PORTA/tomcat-7.XXXXX/lib/ext/META-INF`

并将其放入文件中： 1\. portal-log4j-ext.xml 2\. log4j.dtd // 这是您从中获得的`portal-impl.jar/META-INF/`

配置portal-log4j-ext.xml

```
<?xml version="1.0"?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">

    <category name="com.liferay.portal">
        <priority value="ERROR" />
    </category>

    <category name="my.portlet.soccer">
        <priority value="DEBUG" />
    </category>

</log4j:configuration> 
```

准备好。

# python - python中是否有像PAM这样的模块？

> ID：15677487
> 
> 赞同：1
> 
> 时间：2013-03-28T08:47:53.463
> 
> 标签：python, linux, pam

我想在linux帐户的基础上做一个auth认证（就像PAM一样），这应该通过python来实现。还是我应该编写linux的加密算法，我的意思是每个发行版都拥有相同的加密方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T09:25:23.117

我确实找到了一个名为 pam 的模块，它是由 ctype 实现的（调用你系统的 PAM）。

片段：

```
import pam

if pam.authenticate('username','password'):
    print 'authentication correct'
else:
    print 'authentication incorrect' 
```

# c# - 逐步构建 OR 查询表达式

> ID：15677492
> 
> 赞同：8
> 
> 时间：2013-03-28T08:48:02.093
> 
> 标签：c#, .net, sql, linq

在 LINQ 中，可以按如下方式逐步构建 LINQ 查询：

```
var context = new AdventureWorksDataContext();
// Step 1
var query = context.Customers.Where(d => d.CustomerType == "Individual");
// Step 2
query = query.Where(d => d.TerritoryID == 3); 
```

上面的查询将产生一个等效的 SQL 语句，其中的 WHERE 子句由两个由**AND**逻辑运算符组合在一起的谓词组成，如下所示：

```
SELECT * FROM Customers WHERE CustomerType = 'Individual' AND TerritoryID = 3 
```

是否可以构建一个 LINQ 查询以生成等效的 SQL 语句，`progressively`这样生成的查询具有一个 WHERE 子句，其中谓词由**OR**逻辑运算符组合在一起，如下所示？

```
SELECT * FROM Customers WHERE CustomerType = 'Individual' OR TerritoryID = 3 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-28T08:54:08.723

您需要先构建过滤器，然后将过滤器组合成一个 lambda，您可以将其用作组合查询：

```
var filters = new List<Expression<Func<YourType, bool>>>();
filters.Add(d => d.TerritoryID == 3);
filters.Add(d => d.CustomerType == "Individual");
...

var lambda = AnyOf(filters.ToArray());
// this is: d => d.TerrotoryID == 3 || d.CustomerType == "Individual";

var data = src.Where(lambda); 
```

使用：

```
static Expression<Func<T,bool>> AnyOf<T>(
          params Expression<Func<T,bool>>[] expressions)
{
    if (expressions == null || expressions.Length == 0) return x => false;
    if (expressions.Length == 1) return expressions[0];

    var body = expressions[0].Body;
    var param = expressions[0].Parameters.Single();
    for (int i = 1; i < expressions.Length; i++)
    {
        var expr = expressions[i];
        var swappedParam = new SwapVisitor(expr.Parameters.Single(), param)
                            .Visit(expr.Body);
        body = Expression.OrElse(body, swappedParam);
    }
    return Expression.Lambda<Func<T, bool>>(body, param);
}
class SwapVisitor : ExpressionVisitor
{
    private readonly Expression from, to;
    public SwapVisitor(Expression from, Expression to){
        this.from = from;
        this.to = to;
    }
    public override Expression Visit(Expression node)
    {
        return node == from ? to : base.Visit(node);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T08:56:20.467

如果你想分两步，你可以使用联合：

```
 var context = new AdventureWorksDataContext();
// Step 1
var query = context.Customers.Where(d => d.CustomerType == "Individual");
// step2 
query = query.Union(context.Customers.Where(d => d.TerritoryID == 3)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:06:01.283

要在不使用动态 linq 库的情况下完成您的要求，您可以在 where 子句中为每个测试定义表达式，然后使用它们来构建 lambda 表达式：

```
Expression<Func<Customer, bool>> isIndividualCustomer = c => c.CustomerType == "Individual";

Expression<Func<Customer, bool>> territoryIdIs3 = c => c.TerritoryID == 3;

Expression<Func<Car, bool>> customerIsIndividualOrOfTerritoryId3 = Expression.Lambda<Func<Customer, bool>>(
    Expression.Or(isIndividualCustomer.Body, territoryIdIs3.Body), isIndividualCustomer.Parameters.Single()); 
```

用法：

```
var query = context.Customers.Where(customerIsIndividualOrOfTerritoryId3); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:12:27.910

虽然您可以直接执行此类操作，但我使用了 LinqKit 库，它使这种渐进式查询构建变得非常容易：

你最终会得到：

```
var context = new AdventureWorksDataContext();
// Step 1
var query = context.Customers.Where(d => d.CustomerType == "Individual");
// Step 2
query = query.Or(d => d.TerritoryID == 3); 
```

我正在开发的系统需要很多这样的东西，而 LinqKit 是一个重要的救生员。你可以在[这里](http://www.albahari.com/nutshell/linqkit.aspx)找到它。

（注意：无论如何，我不隶属于 LinqKit 的开发人员 - 只是一个粉丝。）

# php - 短 if 语句

> ID：15677495
> 
> 赞同：0
> 
> 时间：2013-03-28T08:48:24.437
> 
> 标签：php

我发现了一些奇怪的东西......，我的函数末尾有这段代码：

```
return $class == 3?"red":$class==2?"orange":$class==1?"yellow":""; 
```

现在，当`$class == 2`它返回“黄色”而不是“橙色”时，就像我预期的那样。谁可以给我解释一下这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:52:16.020

您需要使用括号，因为三元运算符在 PHP 中是左关联的。关联性是“*相同优先级的运算符在没有括号的情况下如何分组*”-来自[运算符关联性](http://en.wikipedia.org/wiki/Operator_associativity)

```
$class  == 3?"red":($class ==2?"orange":($class ==1?"yellow":"")); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T08:54:14.020

这是因为它被视为：

```
return (($class == 3?"red":$class==2)?"orange":$class==1)?"yellow":""; 
```

所以添加括号以强制正确使用：

```
return $class == 3?"red":($class==2?"orange":($class==1?"yellow":"")); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T08:52:56.237

我永远不会这样编码。我相信，当你在编码时，你真的很想立即看到一段代码在做什么。这不会那样做，这只会让你头疼;-)

也许将其更改为明确的内容：

```
switch($class) {
    case 1:
        return 'yellow';

    case 2:
        return 'orange';

    case 3:
        return 'red';

    default:
        return '';
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T08:53:20.737

使用括号：

```
$class  = 2;
echo $class == 3?"red":($class==2?"orange":($class==1?"yellow":"")); 
```

输出 ：`orange`

# mysql - 从mysql中选择信息

> ID：15677500
> 
> 赞同：-1
> 
> 时间：2013-03-28T08:48:32.830
> 
> 标签：mysql, search

我的需要是从mysql中选择目的地

该数据库包含以下信息

```
 IBIS, COUNTRY, REGION
 "AFG", "93";
 "AFG Mobile AWCC", "93", "70"
 "AFG Mobile ETSLAT", "93", "78"
 "AFG Mobile AREEBA", "93", "77"
 "AFG Mobile", "93", "75" 
```

我正在寻找信息 ZONE COUNTRY + 结果应该是 IBIS

```
Search 1 :9378555555 => Mobile AFG ETSLAT
Search 2 :9377755555 => Mobile AFG AREEBA
Search 3 :9399999999 => AFG 
```

感谢您的阅读和回复：）

+++++更新

```
"ALB Fixed ALBTEL";"355";"4249"
"ALB Tirana";"355";"422, 423, 4240, 4241, 4242, 4243, 4244, 4245, 4246, 4247, 4248" 
```

Country var(3) 和 Region 是 concat ...

```
Search 1 :355424955555 => ALB Fixed ALBTEL
Search 2 :35542405555  => ALB Tirana 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:25:31.373

我会使用这样的东西：

```
SELECT
  *
FROM
  yourtable
WHERE
  COUNTRY = LEFT('9399999999', 2)
  AND (REGION = SUBSTRING('9399999999', 3, 2) OR REGION IS NULL)
ORDER BY
  REGION IS NULL
LIMIT 1 
```

请[在此处](http://sqlfiddle.com/#!2/3b68f/1)查看小提琴。

**编辑**

不是有史以来最干净的解决方案，但对我来说看起来不错：

```
SET @num = '35542405555';

SELECT *
FROM
  yourtable
WHERE
  @num LIKE CONCAT(COUNTRY, '%')
  AND (REGION IS NULL
       OR FIND_IN_SET(SUBSTRING(@num, LENGTH(COUNTRY)+1, 2), REPLACE(REGION, ' ', ''))
       OR FIND_IN_SET(SUBSTRING(@num, LENGTH(COUNTRY)+1, 3), REPLACE(REGION, ' ', ''))
       OR FIND_IN_SET(SUBSTRING(@num, LENGTH(COUNTRY)+1, 4), REPLACE(REGION, ' ', '')))
ORDER BY
  REGION IS NULL
LIMIT 1 
```

[在这里](http://sqlfiddle.com/#!2/29cb3/35)拉小提琴。这仅限于 2、3 或 4 个字符的区域。

# eclipse - 开发 Eclipse RCP (Indigo) 应用程序

> ID：15677502
> 
> 赞同：0
> 
> 时间：2013-03-28T08:48:40.393
> 
> 标签：eclipse, eclipse-plugin, eclipse-rcp

第一次开发 RCP 应用程序并按照步骤创建一个**带有 View 的简单 RCP 应用程序**。首先，新建一个插件项目*New > Other > Plug-in Project*，将目标平台设置为 Eclipse 3.8，让 Wizard 生成一个 Activator，勾选复选框“*此插件将对 UI 做出贡献*”和“*你想创建一个富客户端应用程序：是的*”，我使用的模板是带有视图的 RCP 应用程序。

现在，教程说该项目将包含一些生成的类，如`Application.java`,`WindowAdvisor.java`等。但是，我的项目中只出现了一个类`Activator.java`。创建应用程序时我是否错过了一两步？

# java - GWT 2.5 无法在请求中序列化 HashMap

> ID：15677503
> 
> 赞同：1
> 
> 时间：2013-03-28T08:48:46.383
> 
> 标签：java, gwt, gwt-rpc, gwt-2.5

我升级到 2.5，我不能再通过 HashMap。我没有收到错误，但请求的反序列化卡住了。这在所有以前的版本中都有效，甚至在 2.0 之前

反序列化请求参数时出现问题。响应的序列化工作没有任何问题。

`Parameters`类扩展`HashMap`

```
 HashMap value = new HashMap();
        value.put("CODE", "VALUE");

        ArrayList values = new ArrayList();
        values.add(value);

        Parameters parameters = new Parameters();
        parameters.setValues(values);

        ArrayList list = new ArrayList();
        list.add(parameters);

        greetingService.greetServer("MyService","MyMethod", list, new AsyncCallback<String>() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:45:42.580

您可能遇到[问题 7779](https://code.google.com/p/google-web-toolkit/issues/detail?id=7779)。尝试 GWT 2.5.1。

# iphone - 在操作表中按下取消按钮时关闭邮件控制器视图

> ID：15677506
> 
> 赞同：1
> 
> 时间：2013-03-28T08:48:57.917
> 
> 标签：iphone, ios, objective-c, mfmailcomposeviewcontroller

我有一个包含四个部分的表格视图。其中一个部分的单元格包含电子邮件地址。当我单击该单元格时，我打开邮件视图控制器。现在，当我单击导航栏上的取消按钮时，会出现一个包含三个按钮的操作表。这三个按钮之一是取消按钮。现在，当我单击操作表的取消按钮时，我想返回表格视图。我已经尝试了所有可能的方法，包括

```
-(void)mailComposeController:
(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error 
```

`MFMailComposeViewController`委托 方法。

请帮帮我。这是我的代码：

```
if(indexPath.section == 2)
    {

if([MFMailComposeViewController canSendMail])

{

MFMailComposeViewController *mailcontroller = [[MFMailComposeViewController alloc]init];
               [mailcontroller.mailComposeDelegate self];
               [mailcontroller setToRecipients:[[NSArray alloc]initWithObjects:record.contactemail, nil]];
               [self presentViewController:mailcontroller animated:YES completion:nil];

}

}

-(void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error

{

[self dismissViewControllerAnimated:YES completion:nil];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:57:06.233

首先在您的文件中添加这两个委托，`.h`如下所示...

```
@interface yourViewController : UIViewController<
MFMessageComposeViewControllerDelegate, MFMailComposeViewControllerDelegate>{
   ///your code..
} 
```

并像下面这样给自己代表...

```
MFMailComposeViewController *mailcontroller = [[MFMailComposeViewController alloc]init];
mailcontroller.mailComposeDelegate = self; 
```

并尝试我的这种方法...

```
- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error
{
    if (result == MFMailComposeResultSent) 
    {
        NSLog(@"\n\n Email Sent");
        [AppDelegate showAlert:@"Email Sent"];

    }
    if([self respondsToSelector:@selector(dismissViewControllerAnimated:completion:)])
        [self dismissViewControllerAnimated:YES completion:nil];
    else
        [self dismissModalViewControllerAnimated:YES];
//    [self dismissViewControllerAnimated:YES completion:nil];
} 
```

试试这个

# perl - ssh 到另一个 unix 域后无法继续执行 perl 脚本

> ID：15677508
> 
> 赞同：0
> 
> 时间：2013-03-28T08:49:00.793
> 
> 标签：perl, unix, ssh

在这里遇到一个问题，需要你们的帮助

我正在编写一个将在 UNIX 机器上执行的 perl 脚本。在该脚本中，我将执行“ssh”操作以移植到其他 Unix 域（从 A ssh 到 B）。现在的问题是，在我移植到域 B 之后，我仍然需要从 perl 脚本执行一些操作（例如：echo Hello World！）。这里的问题是在移植到新的 unix 域之后，无法执行“ssh”之后的以下脚本，因为该脚本仍在“旧域”上。无论如何，这是解决这个问题还是有更好的方法来实现相同的目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:02:32.910

您可以使用该[`Expect`模块](http://search.cpan.org/~rgiersig/Expect/Expect.pod)打开 SSH 连接并通过 Perl 在其上执行命令。

如果您需要除此之外的帮助，则必须更具体地解释您正在尝试做什么。您可能有错误的设计来解决您的任务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:42:08.440

尝试这样做：

```
ssh <servername> "echo 'hello world'"; 
```

还可以使用 -t 选项检查 ssh。要检查此 echo 命令是否在服务器或 localhost 上运行，请尝试其他一些命令，例如 ls"。

**注意：：**当脚本终止时，ssh 连接将关闭。

# binary - 计算机如何将二进制数转换为 2 的补码中的十进制数

> ID：15677512
> 
> 赞同：5
> 
> 时间：2013-03-28T08:49:11.410
> 
> 标签：binary, numbers, cpu, computer-science

（我的问题仅与 2 的补码有关）

假设我给你这个二进制数 11111110，它作为二进制补码存储在机器上，我希望你找到它的十进制等值。有些人可能会说它是-2，而有些人可能会说它是 254，因为他们不知道它是签名的还是未签名的。（我知道这是一个带符号的数字，所以我取了它的补码并加了 1，得到了 2，所以答案是 -2。但如果我不知道这个符号，我会说 254）。

简而言之，计算机如何将这种存储在 2 的补码中的二进制表示形式转换为等效的十进制表示而不出错？

计算机知道它的符号吗？（如果是，那么这些信息存储在哪里？）

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-28T09:19:02.677

从技术上讲，您不能**将**二进制表示的数字转换为十进制数，因为计算机没有任何存储设施来表示十进制数。

实际上这听起来很荒谬，因为我们总是在处理十进制表示的数字。但是这些十进制表示实际上从未以十进制存储。计算机唯一要做的就是在显示数字时将数字转换为十进制表示。而这种转换与程序构建和库设计有关。

我将给出一个关于 C 语言的小例子。在 C 中，您有有符号和无符号整数变量。当您编写程序时，这些变量用于在内存中存储数字。谁知道他们的标志？编译器。汇编语言有有符号和无符号操作。编译器跟踪所有变量的符号并为有符号和无符号情况生成适当的代码。因此，您的程序在编译时可以完美地处理有符号或无符号整数。

假设您使用一个`printf`句子来打印一个整数变量，并且您使用`%d`格式转换器以十进制表示形式打印该值。此转换将由`printf`C 标准输入输出库中定义的函数处理。该函数从内存中读取变量，使用简单的基本转换算法将二进制表示转换为十进制表示。但是算法的目标是一个字符序列，而不是一个整数。所以这个算法做了两件事，它都将二进制转换为十进制表示；并将位转换为 char 值（或更准确地说是 ASCII 码）。`printf`应该知道数字的符号以成功进行转换，并且此信息再次由编译时放置的编译器构造提供。通过使用这些构造`printf`可以检查整数是有符号还是无符号，并使用适当的转换方法。

其他编程语言遵循类似的路径。本质上，数字始终以二进制形式存储。编译器/解释器知道有符号或无符号表示，因此是常识。十进制转换仅出于美观的原因进行，转换的目标是字符序列或字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-24T16:33:54.657

这是因为当您指定要使用带符号的数字时，计算机会将第一位解释`[1]1111110`为由其余位组成的数字的符号`1[1111110]`。所以1表示-，0表示+；"char" 可以存储从 -127 到 127 的数字；“无符号字符”可以存储 0 到 255 之间的数字；

# sql - 在 SQL Server 中将 varchar 转换为 datetime

> ID：15677513
> 
> 赞同：1
> 
> 时间：2013-03-28T08:49:15.323
> 
> 标签：sql, sql-server, date

在 varchar (dayname,month date,year) 中有日期，比如 (wednesday, 1013 年 1 月 16 日)，我必须将其转换为 datetime 格式。我尝试过转换功能等选项。但没有得到它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:25:52.490

转换在字符串中没有日期名称的情况下有效。删除它然后转换为日期时间：

```
declare @dateString varchar(50)
set @dateString = 'wednesday, january 16, 2013'

declare @index int
set @index = charindex( ',', @dateString )
set @dateString = substring( @dateString, @index + 1, len(@dateString) - @index)

select cast(@dateString as datetime) 
```

# python - CouchDB - 如何根据最终用户输入创建动态设计文档

> ID：15677515
> 
> 赞同：1
> 
> 时间：2013-03-28T08:49:23.267
> 
> 标签：python, drupal, couchdb

我一直在阅读更多关于 CouchDB 的内容并且非常喜欢它（master:master 复制是我想使用它的主要原因之一）。

但是，我有一个问题要问你们……我来自 php，并且经常使用 Drupal CMS。我最喜欢的一个（可能是整个 drupal 社区）是 MerlinOfChaos 编写的“视图”插件。这个想法是管理员可以使用视图 ui 系统，从数据库创建动态内容流。该内容可以来自任何内容类型（博客文章、文章、用户、图像等），并且可以进行过滤、排序、排列成网格等。一个简单的示例是为动画滑块创建内容源。管理员可以随时进入并更改其中显示的内容。虽然通常我会将其设置为最新的 5 个内容类型 X。

因此，使用 mongo 之类的东西，我可以看到如何做到这一点。一个相当先进的解析器，然后将管理员想要的内容转换为数据库查询。由于mongo都是基于动态查询的，所以非常可行。但是，我想用沙发。

我已经看到我可以创建一个带有参数的视图，并将基于该参数返回结果（例如您要显示的 5 个文章 ID 的参数）。但是，如果我希望能够从 UI 构建更高级的东西怎么办？我会添加更多参数吗？例如，假设创建的视图选择值为 'contentType' = 'post' 的所有文档，并且参数是 id/页面标题。但是，如果我希望最终用户也能够选择视图查询的内容类型怎么办。或者只要内容类型是 3 个不同值之一的 5 篇最新文章？

这让我想到的另一件事是，一旦创建了这样的视图并将其保存到数据库，并第一次调用，它就会花费时间来构建结果。你会在生产/直播系统上这样做吗？

部分想法是我希望最终用户能够根据网站上的文章和帖子在他们的个人资料页面上创建自定义的内容提要。并且能够过滤它们并制作自己的类别，可以这么说并标记它们。比如他们的“科技”饲料和他们的“食物”饲料。

我还是沙发新手，还有阅读要做。但这是困扰我的事情，我正试图绕过它。由于我想到的产品将根据最终用户的输入进行高度动态化。

应用程序本身将用 python 编写

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:58:44.270

简而言之，您需要在视图中发出类似这样的内容：

```
emit([doc.contentType, doc.addDate], doc); // emit the entire doc, 
// add date is timestamp (assuming) 
```

或者

```
emit([doc.contentType, doc.addDate], null); // use with include_docs=true 
```

然后，当您需要获取列表时：

```
startkey=["post",0]&endkey=["post",999999999]&limit=5&descending=true 
```

解释：

```
startkey   = ["post",0] = contentType is post, and addDate >= 0
endkey     = ["post",9999999999] = contentType is post, and addDate <= 9999999999
limit      = 5, limit to five posts
descending = true = sort descending, which is sort by adddDate descending 
```

为了克服在实时数据库上更新视图的缺点，
您还可以创建一个新的设计（视图）文档。
因此，至少您现有的代码和视图不会受到影响。

只有在创建新视图后，您才能部署最新代码以切换到此新视图，
并且可以停用旧视图。

# java - Java中如何获取BigInteger的精度

> ID：15677518
> 
> 赞同：2
> 
> 时间：2013-03-28T08:49:27.520
> 
> 标签：java, biginteger, bigdecimal

我正在我的 Web 应用程序中实现一个自定义验证器，它可以验证`BigInteger`bean 的属性。此属性映射到一种`Number(8, 0)`类型的 Oracle 表。

就像`BigDecimal`，我没有看到`BigInteger`可以返回给定数字精度的方法。

基本上，我首先将一个`BigInteger`值转换`BigDecimal`为获得它的精度，如下所示（这只是为了演示）。

```
int minPrecision=1;
int maxPrecision=8;

BigInteger bigInteger=new BigInteger("12345");
BigDecimal bigDecimal=new BigDecimal(bigInteger, 0);

int precision=bigDecimal.precision();
boolean isValid=precision>=minPrecision && precision<=maxPrecision;

System.out.println(isValid+" : "+precision); 
```

是否`BigInteger`提供了一种精确的方法来返回其值的精度？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T08:54:53.873

a 上没有精度方法，`BigInteger`因为精度的概念对整数没有意义。`BigInteger`表示任意大小的整数，而不是`BigDecimal`表示浮点数的精确十进制表示，因此具有相关的精度。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T08:56:59.640

您可以将其转换为字符串并计算字符数：

```
...
BigInteger bi = new BigInteger("12345678");
Integer numberOfDigits = bi.abs().toString().length();
boolean isValid=numberOfDigits>=minNumberOfDigits && numberOfDigits<=maxNumberOfDigits; 
```

# ruby - 在 ruby 中，file.readlines.each 不快于 file.open.each_line，为什么？

> ID：15677521
> 
> 赞同：6
> 
> 时间：2013-03-28T08:49:29.517
> 
> 标签：ruby, file, io

只是为了分析我的 iis 日志（奖励：碰巧知道 iislog 是用 ASCII 编码的，errrr ..）

这是我的红宝石代码

1.readlines

```
Dir.glob("*.log").each do |filename|
  File.readlines(filename,:encoding => "ASCII").each do |line|
    #comment line
    if line[0] == '#'
      next
    else
      line_content = line.downcase
      #just care about first one
      matched_keyword = keywords.select { |e| line_content.include? e }[0]
      total_count += 1 if extensions.any? { |e| line_content.include? e }
      hit_count[matched_keyword] += 1 unless matched_keyword.nil?
    end
  end
end 
```

2.打开

```
Dir.glob("*.log").each do |filename|
  File.open(filename,:encoding => "ASCII").each_line do |line|
    #comment line
    if line[0] == '#'
      next
    else
      line_content = line.downcase
      #just care about first one
      matched_keyword = keywords.select { |e| line_content.include? e }[0]
      total_count += 1 if extensions.any? { |e| line_content.include? e }
      hit_count[matched_keyword] += 1 unless matched_keyword.nil?
    end
  end
end 
```

[“readlines”读取 mem 中的整个文件](http://www.ruby-doc.org/core-1.9.3/IO.html#method-i-readlines)，为什么“打开”总是更快一点？我在 Win7 Ruby1.9.3 上测试了几次

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-28T10:41:56.247

两者`readlines`都只`open.each_line`读取一次文件。并且Ruby会对IO对象做缓冲，所以每次都会从磁盘读取一个块（例如64KB）的数据，以最小化磁盘读取的成本。磁盘读取步骤的耗时差异应该很小。

当您调用 时`readlines`，Ruby 会构造一个空数组`[]`并重复读取一行文件内容并将其推送到数组中。最后它将返回包含文件所有行的数组。

当您调用 时`each_line`，Ruby 会读取一行文件内容并将其交给您的逻辑。当您完成处理这一行时，ruby 会读取另一行。它重复读取行，直到文件中没有更多内容。

这两种方法的区别在于`readlines`必须将行附加到数组中。当文件很大时，Ruby 可能不得不复制底层数组（C 级别）以将其大小扩大一次或多次。

挖掘源代码，`readlines`由`io_s_readlines`which calls实现[`rb_io_readlines`](https://github.com/ruby/ruby/blob/trunk/io.c#L3399)。`rb_io_readlines`调用`rb_io_getline_1`获取行`rb_ary_push`并将结果推送到返回数组中。

`each_line`是通过[`rb_io_each_line`](https://github.com/ruby/ruby/blob/trunk/io.c#L3444)调用`rb_io_getline_1`fetch line 来实现的，就像`readlines`使用`rb_yield`.

因此，无需将行结果存储在不断增长的数组中`each_line`，也无需调整数组大小、复制问题。

# c# - 引用 WPF 数据网格中的单元格

> ID：15677522
> 
> 赞同：0
> 
> 时间：2013-03-28T08:49:30.153
> 
> 标签：c#, wpf, wpfdatagrid

我有一个 WPF DataGrid 如下：

![项目](../Images/b4dcacce5de798ee05be29eb41cc29ea.png)

我的问题是：

1.  如何根据价格 * 数量执行“总计”列的计算？
2.  有没有办法自动调整表格的列宽，让它看起来更好？

我的cs代码如下：

```
public partial class pgCheckout : Page {

    ObservableCollection<SaleItem> items = new ObservableCollection<SaleItem>();

    public pgCheckout() {
        InitializeComponent();
        dgItems.ItemsSource = items;
    }

    private void btnRemove_Click(object sender, RoutedEventArgs e) {

    }

    private void btnAdd_Click(object sender, RoutedEventArgs e) {
        using (var db = new PoSEntities()) {
            var query = from i in db.Items
                        where i.ItemID.Equals(txtItemID.Text.Trim())
                        select i;
            var itm = query.FirstOrDefault();
            if (itm == null) {
                lblErr.Content = "Invalid Item";
            }
            else {
                lblErr.Content = "";
                items.Add(new SaleItem() {
                    Num = items.Count + 1,
                    ItemID = itm.ItemID,
                    Name = itm.Name,
                    Price = itm.Price,
                    Quantity = 1,
                    Total = 1 //Need to be Price * Quantity
                });
            }
        }
    }
}

class SaleItem {
    public int Num { get; set; }
    public string ItemID { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
    public int Quantity { get; set; }
    public decimal Total { get; set; }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:00:32.867

您需要像这样为您的模型添加 INotifyPropertyChanged 接口

```
 class SaleItem : INotifyPropertyChanged
{
    public int Num { get; set; }
    public string ItemID { get; set; }
    public string Name { get; set; }

    private decimal price;
    public decimal Price
    {
        get { return price; }
        set
        {
            this.price = value; 
            OnPropertyChanged("Total");
        }
    }

    private decimal quantity;
    public decimal Quantity
    {
        get { return quantity; }
        set
        {
            this.quantity = value; 
            OnPropertyChanged("Total");
        }
    }

    public decimal Total
    {
        get { return Price * Quantity; }
    }

    public event PropertyChangedEventHandler PropertyChanged;
    private void OnPropertyChanged(string propertyName)
    {
        var handler = PropertyChanged;
        if (handler != null)
            handler(this, new PropertyChangedEventArgs(propertyName));
    }
} 
```

# jbpm - JBOSS JBPM 入门

> ID：15677523
> 
> 赞同：1
> 
> 时间：2013-03-28T08:49:30.707
> 
> 标签：jbpm

我曾使用过 oracle JPD（工作流引擎），现在我们决定为我们的项目使用开源工作流引擎。在谷歌搜索几周后，我们正在考虑使用 JBOSS JBPM，但与我过去使用 oracle JPD 的经验相比，我没有得到足够的与以下问题相关的信息。

1.  在 oracle JPD 中，我们在编辑器中设计流程，创建 ear 并将其部署到 weblogic 上。为所有与流程相关的内容提供 Web 控制台，例如版本控制流程、触发任务、停止任务等。JBOSS JBPM 是否有任何标准程序。谷歌搜索几个小时后，我发现以下选项 1.deploy 作为与您的应用程序的战争 2.deploy 通过 guvnor 存储库。

我担心的是我想将它部署为单独的实体，可以说是我的应用程序外部的 jar 或 ear。

2.我如何通过外部程序调用在服务器上运行的进程，例如作为独立 prgm 运行的简单 java 调度程序，并能够通过 jbpm api 启动在应用程序服务器上运行的进程，因为大多数示例只解释了在独立 JVM 中运行的进程。

3.我想建立工作清单应用程序，用户可以在其中完成分配给他的任务。

4.最后我最关心的是如何通过控制台对我的进程进行版本控制和管理，在那里我可以看到进程的状态等等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T02:25:05.567

1.  尽管有很多方法可以加载流程（从文件系统、类路径等），但推荐的方式是使用 Guvnor 存储库来存储和构建您的流程（它们将自动与 jBPM 控制台同步以进行执行和监控）。

2.  您可以通过 jBPM 控制台的 REST api 调用各种方法。

3.  可以使用相同的 REST api（并且作为 jBPM 控制台一部分的人工任务列表 UI 组件使用相同的 api）

4.  管理流程定义是通过 Guvnor 存储库（和相关的 UI）完成的。jBPM 控制台可用于启动流程实例、监控它们等。

# ios - 使用 pageIndex 更新滚动视图中的标签

> ID：15677527
> 
> 赞同：0
> 
> 时间：2013-03-28T08:50:05.553
> 
> 标签：ios, uiscrollview

我有一个滚动视图，其中有一个标签。每次用户滚动滚动视图时，我都必须更新标签的文本。我想用 pageindex 更新标签的值。我在 scrollviewdelegate 方法中获取页面索引，但无法在标签中更新它，因为标签在 viewDidload 中加载。有什么方法可以从滚动视图委托方法刷新或更新标签的文本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T08:55:22.480

取一个数组中的所有值并根据`pageindex`以下内容分配标签文本

```
label.text=[titlesArray objectAtIndex: pageindex]; 
```

为了实现这一目标，您可以在全球范围内使用标签。

```
EDIT:- 
```

为了实现这一目标，您可以采取两种方式。

1.在 Xib 中取 UILabel 并将标签与一些名称连接，您可以在 scrollviewDidEnd 方法中设置 labelname.text 。

2.以编程方式获取uilabel并在.h文件中定义那个并更改textscrollviewDidEnd特定方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:55:42.170

HERE **pageNumber**是滚动时更新和获取的数字 `UIScrollView`

将此代码写在您获取**pageNumber的位置**

```
Yourlbl.text = pageNumber; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:51:23.047

使标签成为属性并使用该属性来设置标签文本。

属性（假设启用弧的项目）：

```
@property (nonatomic, strong) UILabel *myLabel; 
```

ViewDidLoad：

```
- (void)viewDidLoad {
    self.myLabel = [UILabel new];
} 
```

并从 viewController 内部更新您的标签文本，如下所示：

```
self.myLabel.text = @"test"; 
```

# c - C中的数组指针和指针数组

> ID：15677529
> 
> 赞同：-3
> 
> 时间：2013-03-28T08:50:05.693
> 
> 标签：c, arrays, pointers

C中的数组指针和指针数组有什么区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:51:44.130

数组指针指向数组，而指针数组是指针数组，它可能指向某个地方。

```
int array[10]; // `array` is an array pointer

int* pointers_array[10]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T09:10:57.253

**数组指针**是指向数组的指针。您可以使用指针算法访问项目，反之，您可以使用指针以数组方式访问项目。

```
 int array [20];
 int a = *(array + 10);
 int b = array[10];

 int *p;
 p = array;

 int c = *(p + 10);
 int d = p[10]; 
```

所有方法都将起作用，a、b、c、d 将达到相同的值。但是，请谨慎使用不同的方法。array 和 p 的区别是

```
 p ++; // allowed
 array ++; // fail 
```

指针数组只是意味着您的数组项是指针（但是指向什么类型）。

```
 char* parray[20]; 
```

该数组包含 20 个指向“char”的指针或取决于对“strings”的解释

所以 parray 是一个**char 指针数组的****数组指针**

# function - 我的函数无法创建文本文件

> ID：15677531
> 
> 赞同：1
> 
> 时间：2013-03-28T08:50:11.350
> 
> 标签：function, python-idle, python-3.3

我是 Python 的初学者，我正在阅读 Wrox 的*“使用 Python 2.6 和 Python 3.1 开始 Python”* ……第 8 章中有一个关于使用文件和目录的特定示例，这让我很困扰……以下函数是应该创建（如果它不存在）并写入文本文件：

```
def write_to_file():
f=open("C:/Python33/test.txt","w")
f.write("TEST TEST TEST TEST")
f.close() 
```

当我运行该函数时，没有任何反应，没有创建文本文件，也没有返回错误消息......

当我在 IDLE 中逐个命令运行代码时，它可以完美运行...

功能有什么问题？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:03:18.257

根据我的记忆，Python 对缩进很挑剔：

```
def write_to_file():
    f = open("C:/Python33/test.txt", "w")
    f.write("TEST TEST TEST TEST")
    f.close()

# On top of that, you need to actually run the function.
write_to_file() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:04:13.477

我认为这是因为缩进，这样做：

```
def write_to_file():
    f=open("C:/Python33/test.txt","w")
    f.write("TEST TEST TEST TEST")
    f.close() 
```

# asp.net - 使用十进制掩码验证 aspxtextbox 的正则表达式验证表达式

> ID：15677533
> 
> 赞同：1
> 
> 时间：2013-03-28T08:50:17.850
> 
> 标签：asp.net, devexpress

嗨，这一切都是我的 aspxtextbox 设计，我所做的是我采用了掩码和正则表达式验证，如下所示

```
<dx:ASPxTextBox ID="txtBalance" runat="server" Width="150">
                            <MaskSettings Mask="<0..999999999999g>.<00..99>" IncludeLiterals="DecimalSymbol" />
                            <ValidationSettings RegularExpression-ValidationExpression="^(?:\d{1,14}|\d{1,11}\.\d\d)$">
                            </ValidationSettings>
                        </dx:ASPxTextBox> 
```

![在此处输入图像描述](../Images/79c4e6ab533d28e5ad63d544be4cabd6.png)

但这是触发错误我需要的是我需要验证这个输入`111,111,111,111.11`，这是根据我的要求的最大输入

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:18:01.150

它失败的原因有两个，主要原因是你的正则表达式只接受小数点到第十一个字符，其次你不匹配你输入的逗号来分隔你的数字。

看看这篇[文章](https://stackoverflow.com/questions/5917082/regular-expression-to-match-numbers-with-or-without-commas-and-decimals-in-text)，找到一个正则表达式，可以做你想做的事

# java - 我可以在 servlet 中获取客户端的物理地址吗？

> ID：15677536
> 
> 赞同：0
> 
> 时间：2013-03-28T08:50:25.273
> 
> 标签：java, servlets

要获取客户端的地址，我们使用 getRemoteAdd()。我需要获取 Mac 地址，即客户端的物理地址。我们可以得到客户的物理地址吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:54:07.967

> 在 TCP/IP 中您无法获取 MAC 地址

可以在这个线程上找到详细信息 [如何从 HttpServlet 获取客户端的 MAC 地址？](https://stackoverflow.com/questions/839973/how-to-get-a-clients-mac-address-from-httpservlet)

# ios - 如何对 UIView 进行自定义布局，使其适用于 iPhone 5 屏幕尺寸和常规屏幕尺寸

> ID：15677544
> 
> 赞同：2
> 
> 时间：2013-03-28T08:50:46.063
> 
> 标签：ios, objective-c, layout, autoresizingmask, contentmode

这是期望的结果。蓝色区域是感兴趣的 UIView。UIView 不是 UIImageView。

![在此处输入图像描述](../Images/4c3020467d511243e752c8d36f088f34.png)

我尝试了各种带有自动调整大小的蒙版的安排，但无济于事

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:16:31.060

处理不同的屏幕尺寸可能很棘手。在你的情况下它不是:) 因为你想在屏幕上居中视图的大小，你需要做的就是将视图的中心设置为屏幕的中心。

```
CGRect screenBounds = [[UIScreen mainScreen] bounds];
view.center = CGPointMake(screenBounds.size.width/2,screenBounds.size.height/2); 
```

此代码假定视图的 superView 的边界与 screenBounds 的大小相同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T23:21:01.240

这只能以编程方式完成。一种选择是@user2223761 建议的子类化。如果您不想继承 UIView，那么您需要在方向更改时设置框架并将 yourView.center 设置为中心的中心。

```
- (void) willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation duration:(NSTimeInterval)duration {

   if (UIInterfaceOrientationIsLandscape(interfaceOrientation)) {
          // Make sure that the frame is centered in the screen
          NSInteger paddingLeftSide = (self.view.bounds.size.width - 480) / 2;
          self.view.frame = CGRectMake(paddingLeftSide, 0, 480, 320);   
      } else {
          self.view.frame = CGRectMake(0, 0, 320, 320);
      }
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T08:53:26.750

第一：子类 UIView（创建一个 MYUIView）。二：覆盖方法

```
- (void)layoutSubviews {
   [super layoutSubviews];
   // .. put your code...
} 
```

并通过读取屏幕尺寸在该方法内手动执行帧更新。自动调整大小掩码必须设置为 UIViewAutoresizingNone。

# command - 检查命令的存在而不执行它

> ID：15677545
> 
> 赞同：0
> 
> 时间：2013-03-28T08:50:48.443
> 
> 标签：command

如何在不实际执行的情况下检查命令是否可以成功执行？例如，如果我想使用`telnet`连接连接到另一台主机，我如何检查 telnet 客户端是否存在？或者如果我想做一个`cp`or `mkdir`or `rmdir`，我如何在执行它们之前检查这些命令中的任何一个是否有效？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:57:32.327

你可以随时运行

```
which telnet 
```

这将告诉您将执行的实际文件。但是，它不会告诉您该命令是否会成功运行。例如，`which cp`只会告诉您可执行文件在哪里，而不是告诉您正在复制的文件是否存在并且您有权将它们复制到所选目的地。

希望这可以帮助

# ios - 在不更改先前路径的 CTM 时将图像绘制到 CGContextRef 并旋转它？

> ID：15677547
> 
> 赞同：1
> 
> 时间：2013-03-28T08:50:57.920
> 
> 标签：ios, rotation, cgcontext

我已经在上下文上绘制了一些路径。我想在上面显示图像并旋转图像。当我设置 CTM 时，上下文都在旋转。这不是我的目的。我想显示图像并旋转它，但是不改变先前路径的状态。我能做什么？有什么想法吗？？？

# sharepoint - SharePoint 中的身份验证或模拟

> ID：15677548
> 
> 赞同：1
> 
> 时间：2013-03-28T08:50:58.120
> 
> 标签：sharepoint, authentication, impersonation

我有一个托管在 iis 上的 mvc Web 应用程序，而 SharePoint 安装在另一台机器上。Web 应用程序读取 SharePoint 上的目录。如何验证来自在 SharePoint 上部署了 mvc Web 应用程序的机器的所有请求？或者如何模拟对有权访问 SharePoint 的服务帐户的所有请求？

请提供一些信息的链接，因为我是 SP 2013 的新手，如何实现这一点

# vb.net - 需要vb版本的DOM getElementByAttribute

> ID：15677552
> 
> 赞同：0
> 
> 时间：2013-03-28T08:51:09.307
> 
> 标签：vb.net, excel, dom

我知道 JavaScript 中有很多版本，但我需要这个作为 vb 版本用于 Exel 2010 中的脚本？有人做过这个翻译吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T12:16:24.400

如果您的查询是针对 XML DOM 方法，则在 VB 编辑器中的工具 > 参考中添加对 Microsoft.MSXML2 的引用

转到下面的 1)！

如果您的查询是针对 DHTML DOM 方法，则在 VB 编辑器中的工具 > 引用中添加对 Microsoft.mshtml 的引用

1) 然后您可以使用您在对象浏览器中看到的所有方法访问 DOM（在 VB 编辑器中按 f2 键，然后在下拉菜单中选择 MSHTML 以选择 DHMTML DOM 库。

使用 MSXML 的示例是：

```
xmlDoc=loadXMLDoc("books.xml");

x=xmlDoc.getElementsByTagName("title")[0]
y=x.childNodes[0]
msgbox y.nodeValue 
```

一个例子（使用 MSHTML）是：

```
Sub testDoc()
Dim xDoc As MSHTML.HTMLDocument
Dim sURL As String
Dim oElement As MSHTML.HTMLBaseElement
Set xDoc = New MSHTML.HTMLDocument

With xDoc
    .Open (sURL)
    Set oElement = .getElementById(idName)
    MsgBox oElement.ID
End With

End Sub 
```

我希望这能让你朝着正确的方向开始。

顺便说一句，菲利普

# php - 在 PHP 中重命名文件时出现错误

> ID：15677553
> 
> 赞同：-2
> 
> 时间：2013-03-28T08:51:10.183
> 
> 标签：php

我正在使用 PHP 将文件上传到我目录中的文件夹，但无法使用以下代码重命名它

```
$da = date("dmY");

$ja = $uid.$da;

$mukesh = $app.$ja;

// If no errors, upload the image, else, output the errors
if($err == '') {
if(move_uploaded_file($_FILES['userfile'][$mukesh], $uploadpath)); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:54:13.967

这是关于如何处理上传的 PHP 官方文档：[http ://www.php.net/manual/en/features.file-upload.post-method.php](http://www.php.net/manual/en/features.file-upload.post-method.php)

该方法`move_uploaded_file()`需要两个参数，临时文件的文件名和新位置。

```
$tmp = $_FILES['userfile']['tmp_name']; // temp path
move_uploaded_file($tmp, $uploadpath . '/' . $mukesh); 
```

您将需要命名您的输入元素`userfile`。

```
<input type="file" name="userfile" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:57:11.867

根据提供的代码片段，您可以执行以下操作

```
move_uploaded_file ($_FILES["userfile"]["tmp_name"], $uploadpath); 
```

当您上传文件时，文件将使用临时名称存储在 php.ini 中指定的上传位置。$_FILES["userfile"]["tmp_name"] 可以访问这个带有名称的文件位置

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:57:14.600

假设你上传了一张图片。如果没有错误，那么

```
 $uploads_dir = 'as per you defined';

 $tmp_name = $_FILES["userfile"]["tmp_name"];
 $name = 'custom_file_name.png';//$_FILES["userfile"]["name"];
 move_uploaded_file($tmp_name, $uploads_dir."/".$name); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:01:13.753

您正在重命名文件的临时名称...

当您要重命名时，请更改要用于存储文件的名称

```
$filename = time().$_FILES['userfile']['name'];
$upload_path = 'path_to_ur_upload_folder'.$filename;
move_uploaded_file($_FILES['userfile']['tmp_name'],$upload_path ); 
```

move_upload_file 中的第一个参数是流在复制和上传时将使用的临时名称。第二个参数是保存文件的路径（连同文件名）。第二个参数将帮助您重命名正在上传的文件

# oracle - 不使用子查询重写 avg

> ID：15677554
> 
> 赞同：0
> 
> 时间：2013-03-28T08:51:11.027
> 
> 标签：oracle, subquery, average

如何在没有子查询的情况下重写此查询？

```
select i.invoice_number, i.invoice_total 
  from invoices i 
 where i.invoice_total>(select avg(payment_total) 
                          from invoices); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T12:10:46.477

只有一个 SELECT :-)

```
select i1.invoice_number, i1.invoice_total 
from invoices i1, invoices i2 
group by i1.invoice_number, i1.invoice_total 
having i1.invoice_total > avg(i2.payment_total) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T15:22:29.257

适合您的变体..在 10g+ 上仅使用一个选择，并且没有笛卡尔自联接:)

```
SQL> select avg(payment_total)
  2    from invoices;

AVG(PAYMENT_TOTAL)
------------------
               5.4

SQL> select invoice_number, invoice_total, payment_total
  2    from invoices
  3  model return updated rows
  4  dimension by (row_number() over (order by 1) rn,
  5                case when invoice_total > avg(payment_total) over () then 1 else 2 end a)
  6  measures (invoice_total, invoice_number, payment_total)
  7  rules  (
  8     invoice_number[any, 1] = invoice_number[cv(rn), 1]
  9  )
 10   order by 1;

INVOICE_NUMBER INVOICE_TOTAL PAYMENT_TOTAL
-------------- ------------- -------------
             6             6             1
             7             7             8
             8             8             4
             9             9             7
            10            10             6 
```

“返回更新的行” .. 我们只返回我们触及的行。我们用 标记每一行是否超过平均值`case when invoice_total > avg(payment_total) over () then 1 else 2 end a`。即那些高于平均水平的行已`a`设置为`1`. 然后我们只需用`1`by 来处理行`invoice_number[any, 1] = invoice_number[cv(rn), 1]`（即不更改任何数据..只需将其更新为自身）。

与您的原始查询相比：

```
SQL> select i.invoice_number, i.invoice_total , i.payment_total
  2    from invoices i
  3   where i.invoice_total>(select avg(payment_total)
  4                            from invoices)
  5   order by 1;

INVOICE_NUMBER INVOICE_TOTAL PAYMENT_TOTAL
-------------- ------------- -------------
             6             6             1
             7             7             8
             8             8             4
             9             9             7
            10            10             6 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:59:07.960

```
select
  invoice_number,
  invoice_total
from (
  select 
    invoice_number,
    invoice_total ,
    avg(payment_total) over () avg_payment_total
  from
    invoices)
where
  invoice_total>avg_payment_total; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T11:19:03.593

这里有几种方法可以做到这一点。我不保证你的教授会接受他们。

对于我们的第一个替代方案，您首先创建一个函数：

```
CREATE OR REPLACE FUNCTION AVG_PAYMENT_TOTAL_FUNC RETURN NUMBER IS
  nAvg_payment_total  NUMBER;
BEGIN
  SELECT AVG(PAYMENT_TOTAL)
    INTO nAvg_payment_total
    FROM INVOICES;

  RETURN nAvg_payment_total;
END AVG_PAYMENT_TOTAL_FUNC; 
```

然后在查询中使用该函数：

```
select i.invoice_number, i.invoice_total 
  from invoices i 
  where i.invoice_total > AVG_PAYMENT_TOTAL_FUNC; 
```

第二种选择是创建一个视图：

```
CREATE OR REPLACE VIEW AVG_PAYMENT_TOTAL_VIEW AS
  SELECT AVG(PAYMENT_TOTAL) AS AVG_PAYMENT_TOTAL
    FROM INVOICES; 
```

然后你的查询变成

```
SELECT i.INVOICE_NUMBER,
       i.INVOICE_TOTAL,
       t.AVG_PAYMENT_TOTAL
  FROM INVOICES i
  CROSS JOIN AVG_PAYMENT_TOTAL_VIEW t; 
```

缺少这样的东西，我看不到完成分配给您的任务的方法。更重要的是，我无法想象为什么有人会关心查询中是否有一个或两个 SELECT 关键字。要求开发人员想出一些古怪/极客/书呆子的方法来在一个查询中完成上述所有操作，只使用一个 SELECT 关键字是浪费时间。有一些完全合理的方法可以快速、明智地完成这项工作；要求某人以其他方式解决问题既没有生产力也没有效率，因此和IMO毫无意义。

分享和享受。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T11:44:05.853

```
with average as (select avg(payment_total) avgtot
                 from invoices)
select i.invoice_number, i.invoice_total 
  from invoices i 
  ,    average a
 where i.invoice_total>a.avgtot; 
```

# jquery - 更改 JQuery UI 滑块显示属性

> ID：15677561
> 
> 赞同：0
> 
> 时间：2013-03-28T08:51:40.187
> 
> 标签：jquery, jquery-ui, slider, jquery-ui-slider

我创建了一个这样的 Jquery UI 滑块：

```
$(this.slider).slider({
        orientation: "vertical",
        range: "min",
        max: st,
        min: 0,
        step: 1,
        value: st,
        slide: function(event, ui) {
            vp.loadImage((st) - ui.value);
        }
    }); 
```

那么我怎样才能控制它的显示属性呢？我尝试了以下方法：

```
$(this.slider).slider.attr('display','none');
$(this.slider).slider().attr('display', 'none'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:59:02.550

让它像这样工作：

```
$(this.slider).hide(); 
```

# c# - 动态获取照片？

> ID：15677573
> 
> 赞同：0
> 
> 时间：2013-03-28T08:52:16.080
> 
> 标签：c#, javascript, asp.net, sql, css

我正在尝试在 ASP.NET (C#) 中集成 JavaScript 相册。我使用的代码使用硬编码图像；我想动态获取这些图像。

```
 <div class="image_stack" style="margin-left:300px">
   <img id="photo1" class="stackphotos" src="photos/4.jpg"  >
   <img  id="photo2" class="stackphotos" src="photos/5.jpg" >
   <img  id="photo3" class="stackphotos"  src="photos/6.jpg" > 
 </div> 
```

我想用从数据库中获取的 3 个 URL 替换这些硬编码的照片。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:56:21.170

一种简单的方法：

使用 ASP:图像控件

```
 <asp:Image ID="photo1" class="stackphotos" runat="server" ImageUrl=" " />  
 <asp:Image ID="photo2" class="stackphotos" runat="server" ImageUrl=" " />  
 <asp:Image ID="photo3" class="stackphotos" runat="server" ImageUrl=" " /> 
```

然后您可以在服务器端分配 ImageUrl 即

```
var obj= GetUserImages(); //method fetching image urls from db.
photo1.ImageUrl = obj.ImageUrl1;
photo2.ImageUrl = obj.ImageUrl2;
photo3.ImageUrl = obj.ImageUrl3; 
```

`2`. 您可以简单地将`runat="server"`属性放在现有的 img 标签上，然后在服务器端访问它们并设置它们的 url。即在您的 img 上放置 runat="server"，如下所示

```
<img id="photo1" runat="server" class="stackphotos" src="photos/4.jpg"  > 
```

然后像这样在服务器端访问它

```
photo1.Src = dbObject.Url; 
```

`3`. 您可以在循环中从服务器端动态插入 imgs。

```
string imgs = string.Empty;
foreach(var item in GetAllUserImages())
{
     images +="<img src='"+ item.ImageUrl +"' class='stackphotos' />";
}
div1.InnerHtml= images; 
```

div在哪里

```
<div id="div1" runat="server">
</div> 
```

`4`. 您可以调用`webmethod`(.aspx.cs 页面上的方法，用属性标记`[WebMethod]`并通过 ajax 调用它并在 javascript 函数中更新您的 img 标签。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:13:07.280

页：

```
<%@ Page Language="C#" %>
other page content
<asp:PlaceHolder runat="server" ID="myimages" />
other page content 
```

代码背后：

```
protected void Page_Load(object sender, EventArgs e)
{
using(var db = new myDataContext()) // see linq to sql / entity framework
   foreach(var i in db.ImagesTable.Select(img => new { Id = img.Id }))  // ImagesTable is the name of your table with info about your images
      myimages.Controls.Add(new LiteralControl(@"<img src=""myimgdir/" + i.Id + "".jpg" class=""stackphotos"" />")); // presuming that images are named according to an id in the database

} 
```

# ios - 如何有条件地设置 tabbarcontroller viewControllers？

> ID：15677574
> 
> 赞同：0
> 
> 时间：2013-03-28T08:52:17.267
> 
> 标签：ios, uitabbarcontroller

我的应用程序中有一个标签栏控制器。所以它最初在加载应用程序时填充了 5 个视图控制器。假设我在第一个索引视图控制器上并设置了一个值。根据我在单击 tabbarcontroller 中的第 4 项时设置的值，它应该显示特定的 viewcontroller。怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:11:24.047

一种方法是发布通知。

另一种方法是在某个全局变量中设置选择值，并在显示选项卡 4 的视图控制器时引用它。

# java - SSL Socket OutputStream Write Slow only on Windows

> ID：15677580
> 
> 赞同：2
> 
> 时间：2013-03-28T08:52:32.693
> 
> 标签：java, windows, ssl

**服务器：** Linux

**测试客户端：** OS X、CentOS、Windows

**服务器/客户端编程语言：** Java

```
Server-side

SSLServerSocketFactory sslserversocketfactory =
                (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();
SSLServerSocket sslserversocket =
                (SSLServerSocket) sslserversocketfactory.createServerSocket(9999);
SSLSocket sslsocket = (SSLSocket) sslserversocket.accept();

InputStream inputstream = sslsocket.getInputStream();
InputStreamReader inputstreamreader = new InputStreamReader(inputstream);
BufferedReader bufferedreader = new BufferedReader(inputstreamreader);

String string = null;
while ((string = bufferedreader.readLine()) != null) {
    System.out.println(string);
    System.out.flush();
} 
```

使用此选项执行的服务器程序

```
-Djavax.net.ssl.keyStore=mySrvKeystore -Djavax.net.ssl.keyStorePassword=123456 
```

**证书：**在 Linux 上使用 keytool 创建

```
keytool -genkey -keystore mySrvKeystore -keyalg RSA 
```

**客户端**

```
....
    SocketAddress sa = new InetSocketAddress(ip, port);
....
    SSLContext sslContext = SSLContext.getInstance("SSL");
....
      sslContext.init(.........., new SecureRandom());

      SSLSocketFactory socketFactory = sslContext.getSocketFactory();
      this.clientSock = socketFactory.createSocket();
      this.clientSock.connect(sa, this.ConnectTimeout);       
      this.clientSock.setSoTimeout(this.RecvTimeout);
      this.clientSock.setReuseAddress(true);
....

public boolean writeTo(String procname, BufferedOutputStream out, byte[] data)
{....
    out.write(data, 0, data.length);
    out.flush();
....} 
```

**结果：**一切正常，但只有来自 Windows 的客户端程序，写入输出流时会延迟。

1.  已建立 SSL 套接字连接
2.  设置输出/输入流
3.  将数据写入输出流
4.  冲洗

... 4-5 秒后，它无缘无故地卡在了这里...

1.  关闭

延迟发生在从 Windows 7、Windows XP 执行的同一个 java 客户端简单程序上。从 3 台不同的 Windows 机器测试。其他地方都很好。

所以我尝试用 C 和 PHP 构建 SSL 简单客户端，在 Windows 上效果很好。这意味着只有 Java 客户端方法不起作用。

有没有人有任何想法或类似的经验？我看过一些怀疑 WINS/DNS 的帖子，但这里的情况似乎并非如此。有趣的是，每台 Windows 机器总是有大约 4-5 秒的延迟。

非常感谢您提前提出的意见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-13T05:00:23.787

我遇到过类似的问题。使用 tcpdump，我发现从客户端到服务器的 TCP 连接（SYN、SYN-ACK、ACK）几乎是瞬间发生的，然后是一个神秘的暂停，然后客户端实际发送数据。

tcpdump 输出表明，在连接后，客户端（在 Windows 上运行）立即发送 NetBIOS 名称请求（大概是为了找出服务器的名称，也许它可以选择适当的证书或其他东西）并且服务器立即回复说明 NetBIOS UDP (137) 端口无法访问的 ICMP 响应。看起来 Windows 客户端忽略了该响应。1.5 秒后，Windows 客户端发送另一个 NetBIOS 名称请求，服务器发送相同的 ICMP 响应。再过 1.5 秒后，Windows 客户端发送第三个也是最后一个 NetBIOS 名称请求，服务器发回相同的 ICMP 响应。套接字数据最终在 1.5 秒后传输。

所以看起来windows尝试了3次来确定服务器的NetBIOS名称，每次等待1.5秒。最终（4.5 秒后）它放弃并发送数据。我认为这解释了您报告的 4-5 秒暂停。

消除暂停的一种解决方法是为服务器添加一个“主机”文件条目。（在该文件中使用什么主机名并不重要。IP 地址的存在避免了对 NetBIOS 名称解析的需要。）可能还有其他选择（例如，将服务器名称添加到 WINS 或 DNS 或其他东西，取决于您的 Windows 机器用于名称解析的内容）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:56:24.717

你在抱怨写作，你只是在显示阅读代码。编写代码是什么样的？如果您没有在堆栈中使用缓冲流或写入器，`SSLSocket`您可能会获得高达 44 倍的数据大小爆炸，这将严重影响性能。几年前，我在 Internet 上进行了一些广泛的测试，得出的结论是，使用正确编写的代码，SSL 的速度不会比明文慢 3 倍。

# iphone - “_CMTimeGetSeconds”，未找到架构 armv7 -IOS 的符号

> ID：15677588
> 
> 赞同：16
> 
> 时间：2013-03-28T08:52:59.333
> 
> 标签：iphone, ios, xcode

通过使用此代码

```
AVPlayerItem *playerItem = [AVPlayerItem playerItemWithURL:selectedVideoUrl];
CMTime duration = playerItem.duration;
float seconds = CMTimeGetSeconds(duration);
NSLog(@"duration: %.2f", seconds); 
```

错误

```
Undefined symbols for architecture armv7:
  "_CMTimeGetSeconds", referenced from:
      -[VideoUpload imagePickerController:didFinishPickingMediaWithInfo:] in VideoUpload.o
ld: symbol(s) not found for architecture armv7
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-03-28T08:58:33.370

CMTime 在 CoreMedia.framework 中定义。将该框架添加到您的项目中。

并查看 Apple 的[CMTime 参考](https://developer.apple.com/library/ios/#documentation/CoreMedia/Reference/CMTime/Reference/reference.html)

# javascript - 调整滑块图像大小以适合设备屏幕

> ID：15677590
> 
> 赞同：0
> 
> 时间：2013-03-28T08:53:03.757
> 
> 标签：javascript, jquery, carousel

我正在使用引导轮播并希望将其修改为始终适合窗口（或任何其他设备）的滑块。这是我的解决方案：

如果`imageRatio > winRatio`那么
`stretch images height to it's max`
否则
`stretch images width to it's max`

当图像比例大于窗口比例时，我添加`max-height:100%;max-width:none;`到图像中，当窗口比例大于图像比例时，我添加`max-width: 100%; max-height: none;`

长话短说，所有这些东西都有效，但是当我调整窗口图像比例和窗口比例时不知何故！这是`console.log（winRatio，imgRatio）的结果；

```
1.0709046454767726 1.5051546391752577 /* this is expected results but */
1.1124694376528117 1.1124694376528117 /* when i stop resizing */ 
```

* * *

**我的 HTML：**

```
<div class="row-fluid">

    <div id="top-slider" class="carousel slide">
        <!-- Carousel pattern mask -->
        <div class="mask"></div>

        <!-- Carousel items -->
        <div class="carousel-inner">
            <div class="active item"><img src="img/slider/slide01.jpg" alt="Slide 01" /></div>
            <div class="item"><img src="img/slider/slide02.jpg" alt="Slide 02" /></div>
            <div class="item"><img src="img/slider/slide03.jpg" alt="Slide 03" /></div>
        </div>

        <!-- Carousel nav -->
        <div class="carousel-control">
            <a class="left" href="#top-slider" data-slide="prev"></a>
            <a class="right" href="#top-slider" data-slide="next"></a>
        </div>
    </div>

</div>
<!-- /site top slider --> 
```

**Javascript：**

```
// DOM Ready
jQuery(document).ready(function($){

    /* strech homepage top slider's slides to fit device screen
    ------------------------------------------------------------------- */
    function fitSlider() {
        var wH = $(window).height() - $('#top-header').height();
        var wW = $(window).width();
        var winRatio = wW / wH;
        var imgH = $('#top-slider .carousel-inner').height();
        var imgW = $('#top-slider .carousel-inner').width();
        var imgRatio = imgW / imgH;
        console.log(winRatio, imgRatio);

        $('#top-slider').css('height', wH);

        if ( imgRatio > winRatio )
        {
            $('#top-slider .carousel-inner .item img').addClass('fit-height');
        }
        else
        {
            $('#top-slider .carousel-inner .item img').removeClass('fit-height');
        }
    }

    // On window resized fire this event
    $(window).bind('resize',function() {
        //Update slider
        fitSlider();
    });
    // On window loaded fire this event
    $(window).load(function() {
        fitSlider();
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:59:28.290

第一次运行脚本时，图像的大小会发生变化。所以下次你获取它时，你会得到你设置的图像的大小，而不是原始的初始高度。您必须将图像的初始尺寸存储在某个全局变量中，并将窗口尺寸与它们进行比较。

将这些转移到 window.load 函数中。并使这些变量全局化。

```
var imgH = $('#top-slider .carousel-inner').height();
var imgW = $('#top-slider .carousel-inner').width(); 
```

# ektron - Ektron 中 DxH 的附加连接器

> ID：15677597
> 
> 赞同：1
> 
> 时间：2013-03-28T08:53:25.857
> 
> 标签：ektron

我尝试在示例连接器代码的帮助下向 DxH 添加一个名为 AdvWrksConnector 的新连接器。根据“数字体验中心 - 开发人员网络研讨会”，我在“CBSvcHost.exe”中的 4 个区域进行了更改。

重新启动服务后当我在 Workarea 设置中打开 DxH 时出现错误

> “系统无法连接到位于 net.tcp://SysNo:PortNo/ContextBus 的数字体验中心。请检查您的 DXH 连接 URL 或联系您的 IT 管理员寻求支持。”

# sql - 在 GROUP BY SQL 查询中计算 COUNT

> ID：15677599
> 
> 赞同：1
> 
> 时间：2013-03-28T08:53:34.097
> 
> 标签：sql, sql-server, performance

我有查询以计算以下一项产品的总金额：

```
SELECT p.[Id], COUNT(o.[Id]), SUM(o.[Amount])
FROM [dbo].[Order] o
    INNER JOIN [dbo].[Product] p ON p.[Id] = o.[ProductId]
GROUP BY p.[Id] 
```

在这种情况下，COUNT(o.[Id]) 是一个产品项目的唯一订单数。

但不是 COUNT(o.[Id]) 我想使用下一个公式计算订单数：

```
COUNT(o.[OwnerId]) -- where o.[OwnerId] IS NOT NULL
+
COUNT(o.[Id]) -- where o.[OwnerId] IS NULL 
```

我可以在一个查询中实现它吗？什么解决方案会更好地提高性能？

更新：

我很抱歉我的快速完成。Mahmoud Gamal 提供了一个很好的例子，但它计算的有点不同。

```
SELECT
    p.[Id],
    COUNT(DISTINCT CASE WHEN o.[OwnerId] IS NOT NULL THEN o.[OwnerId] ELSE NULL END) AS [NumberOfOrderOwners],
    SUM(CASE WHEN o.[OwnerId] IS NULL THEN 1 ELSE 0 END) AS [NumberOfAnonimousOwners],
    SUM(o.[Amount])
FROM [dbo].[Order] o
    INNER JOIN [dbo].[Product] p ON p.[Id] = o.[ProductId]
GROUP BY p.[Id] 
```

上面的查询根据我的需要计算，但估计成本增加了两倍，因为我在 COUNT 中使用了 DISTINCT。

有人可以帮我改进我的查询吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:57:16.117

试试这个：

```
SELECT 
  p.[Id],
  SUM(CASE WHEN o.[OwnerId] IS NOT NULL THEN 1 ELSE 0 END) +
  SUM(CASE WHEN o.[Id]      IS NULL     THEN 1 ELSE 0 END) AS Total
FROM [dbo].[Order] o
INNER JOIN [dbo].[Product] p ON p.[Id] = o.[ProductId]
GROUP BY p.[Id] 
```

# javascript - Highstock 日期输入，页面跳转到 ipad 顶部

> ID：15677612
> 
> 赞同：3
> 
> 时间：2013-03-28T08:54:11.087
> 
> 标签：javascript, jquery, charts, highcharts, highstock

在 ipad 的 highstock 中，如果您在图表之前有内容并且您必须向下滚动页面才能查看图表，点击日期输入会跳转页面到顶部并且您无法看到图表，请参阅[http:// jsbin.com/oyicuc/35](http://jsbin.com/oyicuc/35)

此外，键盘默认打开，我们在项目中使用 jquery ui datepicker，所以理想情况下我们不希望键盘打开，这可能吗？更好的是能够使用本机 iOS 日期选择器。真的不想用自定义输入编写我们自己的函数......

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T12:57:31.820

[这可能与https://github.com/highslide-software/highcharts.com/issues/1645](https://github.com/highslide-software/highcharts.com/issues/1645)相同的问题，将在下次维护时修复。

# sql - 存储过程 sql server

> ID：15677613
> 
> 赞同：-2
> 
> 时间：2013-03-28T08:54:13.317
> 
> 标签：sql, sql-server, stored-procedures

我写了以下`stored procedure`但它给出了错误，我怎样才能让它正常工作。谢谢。

```
/* stored procedure interestcalc writen by M */
SET ANSI_NULLS ON

SET QUOTED_IDENTIFIER ON

CREATE PROCEDURE spInterestCal
 (
    @P_NO  INT,
    @TOTAL_MONEY   INT,
    @PAYMENT_TYPE  INT,  /* if payment type is 1 then Yearly, 2 then Semi Yearly, 3 then Quaterly, 4 then Montly  */
    @INTEREST_RATE  INT,
    @START_DATE  DATE,
    @END_DATE  DATE,
  )
AS 
BEGIN

    DECLARE @INSTALLMENT_FACTOR FLOAT 
    DECLARE @INSTALLMENT_NUMBER INT
    DECLARE @INTEREST FLOAT 
    DECLARE @I INT
    DECLARE @R_INSTALLMENT_NUMBER INT
    SET @INSTALLMENT_FACTOR = 0
    SET @INSTALLMENT_NUMBER = 0
    SET @INTEREST = 0
    SET @I = 1
    SET @R_INSTALLMENT_NUMBER = 0

    /*
    DECLARE @YEARS_DIFF INT
    DECLARE @MONTHS_DIFF INT
    DECLARE @DAYS_DIFF INT
    SET @YEARS_DIFF = DATEDIFF(YYYY,@START_DATE,@END_DATE)
    SET @MONTHS_DIFF = DATEDIFF(M,@START_DATE,@END_DATE)-(datediff(YYYY,@START_DATE,@END_DATE)*12)
    SET @DAYS_DIFF = DATEPART(D,@END_DATE)-DATEPART(D,@START_DATE) 
    */

    IF (@PAYMENT_TYPE = 1)  /* if PaymentType is 1 means Yearly */
       BEGIN 
            SELECT @INSTALLMENT_FACTOR = 1;
            SELECT @INSTALLMENT_NUMBER = 1; /*Yearly So 1 INSTALLMENT */
       END

    IF (@PAYMENT_TYPE = 2)  /* if PaymentType is 2 means Semi Yearly */
       BEGIN
            SELECT @INSTALLMENT_FACTOR = 0.5;
            SELECT @INSTALLMENT_NUMBER = 2; /*Semi Yearly So 2 INSTALLMENT */
       END

    IF (@PAYMENT_TYPE = 3)  /* if PaymentType is 3 means Quaterly */
       BEGIN
            SELECT @INSTALLMENT_FACTOR = 0.25;
            SELECT @INSTALLMENT_NUMBER = 4; /*Quaterly So 4 INSTALLMENT */
       END
    IF (@PAYMENT_TYPE = 4)   /* if PaymentType is 4 means Montly  */
       BEGIN 
            SELECT @INSTALLMENT_FACTOR = 0.08;
            SELECT @INSTALLMENT_NUMBER = 12;  /*Montly So 12 INSTALLMENT */
       END 

    SELECT @R_INSTALLMENT_NUMBER = ((SELECT DATEDIFF(YEAR, @START_DATE, @END_DATE))* @INSTALLMENT_NUMBER)
    DECLARE @SMOUNT INT
    DECLARE @SYEAR INT
    SELECT @SMOUNT = (SELECT MONTH(@START_DATE))
    SELECT @SYEAR =  (SELECT YEAR(@START_DATE))

    WHILE ((SELECT @I) < = @R_INSTALLMENT_NUMBER )  /* Calculates Interest And Prints Info*/
        BEGIN
             IF (@SMOUNT > 12)
                BEGIN
                    SELECT @SYEAR +1
                END
            SELECT @R_INSTALLMENT_NUMBER = @R_INSTALLMENT_NUMBER -1
            SELECT @INTEREST = ((SELECT @TOTAL_MONEY) - (SELECT @R_INSTALLMENT_NUMBER * (SELECT @INSTALLMENT_FACTOR*(SELECT @TOTAL_MONEY)))) * ((SELECT @INTEREST_RATE)/100 ) 
            PRINT '  P_NO IS   ' + @P_NO + '  TOTAL_MONEY IS   ' + @TOTAL_MONEY + '  INSTALLMET AMOUNT IS   ' + @TOTAL_MONEY/@R_INSTALLMENT_NUMBER +  ' @INTEREST IS  '+ @INTEREST  + ' DUE DATE IS  '+ (SELECT DAY(@START_DATE))  + '/' + (@SMOUNT) + '/' +(@SYEAR) 
            SELECT @SMOUNT = @SMOUNT + @INSTALLMENT_NUMBER-1

        END    

END
GO 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:03:31.040

解析查询时出现 4 个错误 - 尝试在 SQL Server Management Studio 中自行解析，您将看到：

```
Msg 102, Level 15, State 1, Procedure spInterestCal, Line 13
Incorrect syntax near ')'.

Msg 111, Level 15, State 1, Procedure spInterestCal, Line 18
'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.

Msg 1046, Level 15, State 1, Procedure spInterestCal, Line 74
Subqueries are not allowed in this context. Only scalar expressions are allowed.

Msg 102, Level 15, State 1, Procedure spInterestCal, Line 79
Incorrect syntax near 'GO'. 
```

如果不首先解决上述问题，您将无法检测到一些逻辑错误。

要更正第一个解析错误，只需从参数列表末尾删除虚假逗号（注意删除的逗号）：

```
@END_DATE  DATE 
```

第二个错误也很简单，放在`GO`the 之后`SET QUOTED_IDENTIFIER ON`和之前`CREATE PROCEDURE`：

```
SET QUOTED_IDENTIFIER ON
GO 
```

下一个涉及您的`PRINT`声明，其中包含一个`SELECT DAY(@START_DATE)`声明 - 这是不允许的，应该删除：

```
DAY(@START_DATE) 
```

最后一个正在发生，因为您`END GO`在程序结束时有一行。尝试：

```
END
GO 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:04:10.617

我看到两个语法错误：

1) *')' 附近的语法不正确*。去掉最后一个参数后的逗号：`@END_DATE`

2)*在这种情况下不允许子查询。只允许标量表达式*

```
PRINT '  P_NO IS   ' + @P_NO + '  TOTAL_MONEY IS   ' + @TOTAL_MONEY + '  
   INSTALLMET AMOUNT IS   ' + @TOTAL_MONEY/@R_INSTALLMENT_NUMBER +  ' @INTEREST IS  '+ 
   @INTEREST  + ' DUE DATE IS  '+ 
   (SELECT DAY(@START_DATE))  + '/' + (@SMOUNT) + '/' +(@SYEAR) 
```

移除且仅`SELECT`拥有`(SELECT DAY(@START_DATE))``' DUE DATE IS '+DAY(@START_DATE) + '/'`

# c# - 如何在非MDI类中设置子窗体的MDIParent属性？

> ID：15677629
> 
> 赞同：1
> 
> 时间：2013-03-28T08:55:21.110
> 
> 标签：c#, mdi, mdichild

我正在开发具有子表单的 MDI 应用程序。一旦满足某些条件，我必须显示子窗口。

我创建了一个名为 **clsDashbord**的单独类，该类具有方法**loadDashboard()**应该加载已经设计的 frmDashboard。代码如下：

```
 public void loadDashboard(String userName)
        {
            _Dashboard = new frmDashboard();
            _Main = new frmMDI();
           // _Dashboard.MdiParent = _Main;
            _Dashboard.Text = userName;
            _Dashboard.Show();

        } 
```

*如果我将MDIParent*设置为**Main** （这是 MDI Form 的实例变量），则表单不会显示，否则会显示。怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:18:00.167

通过查看“_Main = new frmMDI();”行，它看起来更像是一个范围界定问题

跟着这些步骤：

1.  创建一个名为“ReferenceTable”的类
2.  在 ReferenceTable 中创建一个名为 _Main 的静态变量
3.  设置 ReferenceTable._Main = new frmMain(); // 在 Program.cs 中
4.  set childform.Parent = ReferenceTable._Main //在调用 Show() 或 showDialog() 方法之前在所有子表单代码中

# javascript - jQuery 和多个“类别”选择器

> ID：15677636
> 
> 赞同：4
> 
> 时间：2013-03-28T08:55:38.990
> 
> 标签：javascript, jquery, html, css, user-interface

**html:**

```
<ul id="selector">
    <li><a href="#" class="group1" rel="group1">group 1</a></li>
    <li><a href="#" class="group2" rel="group2">group 2</a></li>
    <li><a href="#" class="group3" rel="group3">group 3</a></li>    
</ul>
<ul id="elements">
    <li class="group1">1</li>
    <li class="group1 group2">1 and 2</li>
    <li class="group3">3</li>
    <li class="group1 group3">1 and 3</li>
    <li class="group2 group3">2 and 3</li>
    <li class="group2">2</li>
</ul> 
```

**jQuery：**

```
$('#selector a').click(function(event){
    event.preventDefault();
    var $this = $(this),
        target = $this.attr('rel');
    $('#selector a').removeClass('active');
    $this.addClass('active');
    $('#elements li').addClass('inactive');
    $('#elements li.'+target).removeClass('inactive').addClass('active');
}); 
```

**CSS：**

```
#selector {margin: 10px 0; background: #eee; list-style: none; padding: 0px;}
#selector li {display: inline-block;}
#selector li a {display: block; margin: 0 4px; padding: 5px; background: #aaa;}
#selector li a.active {color: #fff;}

#elements {margin: 0px; padding: 0px; list-style: none; background: #eee;}
#elements li {display: inline-block; width: 100px; margin: 4px; text-align: center; background: #ccc; padding: 40px 0;}
#elements li.inactive {opacity: 0.2} 
```

这段简单的代码显示了一个小界面，允许用户单击组选择器元素并突出显示属于该组的所有元素。单击其他组按钮时，选择会更改。我想从这一点开始，是能够使多个组选择器“活动”，同时突出显示属于单击的两个、三个或更多选择器元素的所有元素。

换句话说 - 有人点击 group1 选择器 - 具有该类的元素被突出显示。比有人点击 group2 - 并且只有属于这两个组的元素被突出显示。当有人“取消单击” group1 选择器时，只有具有 class2 的元素会被突出显示等。当没有单击任何组选择器时 - 所有元素都具有 100% 的不透明度。

谁能告诉我从哪里开始以及我应该如何从上面的代码开始？

[http://jsfiddle.net/Cyber​​ek/MeG6S/](http://jsfiddle.net/Cyberek/MeG6S/)了解它现在如何工作的示例。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:02:10.740

这是一种方法，将所有内容包装在一个容器中并将类添加到该容器中，使用它来设置相关项目的样式。我们可以简单地切换被点击的类，而不是所有这些类操作。

[jsFiddle](http://jsfiddle.net/6db5v/)

**JS**

```
$('#selector a').click(function(event){
    event.preventDefault();
    var group = this.className;
    $('#container').toggleClass(group);
}); 
```

**CSS**

```
#container #elements li {opacity: 0.2}
#container.group1 #elements .group1,
#container.group2 #elements .group2,
#container.group3 #elements .group3 {opacity:1;}

#container.group1 #selector .group1,
#container.group2 #selector .group2,
#container.group3 #selector .group3{border:1px solid #000;} 
```

## 延期

如果您只想在 1 和 2 都处于活动状态时激活“1 和 2”，那么您可以像这样扩展它以覆盖所有基础。如果您有 5 个以上的组，则 JavaScript 替代方案可能会更好。

[jsFiddle](http://jsfiddle.net/W8JzL/4/)

```
#container.group1 #elements .group1:not(.group2):not(.group3),
#container.group2 #elements .group2:not(.group1):not(.group3),
#container.group3 #elements .group3:not(.group1):not(.group2),
#container.group1.group2:not(.group3) #elements .group1.group2:not(.group3),
#container.group2.group3:not(.group1) #elements .group2.group3:not(.group1),
#container.group3.group1:not(.group2) #elements .group3.group1:not(.group2),
#container.group1.group2.group3 #elements .group1,
#container.group1.group2.group3 #elements .group2,
#container.group1.group2.group3 #elements .group3,
#container:not(.group1):not(.group2):not(.group3) #elements li {opacity:1;} 
```

# c# - 单击按钮后保留 asp.net 控件的 UI 状态

> ID：15677637
> 
> 赞同：1
> 
> 时间：2013-03-28T08:55:40.097
> 
> 标签：c#, jquery, asp.net, drop-down-menu

我有一个带有下拉列表和许多 ASP.NET 文本框/标签的 ASP.NET Web 应用程序。当用户从下拉列表中选择特定项目时，标签会更改文本，其中一些会使用 jquery 隐藏等。但是，单击按钮后，控件将更改回页面首次加载时的状态。

请建议

1.  我如何保留新标签名称等？
2.  我是否应该将我为更改事件的下拉列表编写的相同 jquery 代码也放在文档加载事件中？
3.  我应该使用隐藏字段来存储值吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:01:09.573

> 1：如何保留新标签名称等？

**是的，**

您可以使用隐藏字段来存储。

> 2：我是否应该将我为更改事件的下拉列表编写的相同 jquery 代码也放在文档加载事件中？

**不，**

在 page_load 访问隐藏字段，提取和使用值。

> 3：我应该使用隐藏字段来存储值吗？

**是的，**

您可以使用隐藏字段来存储您在使用 jQuery 的 GUI 控件中所做的更改。通过使其运行在服务器上，使该隐藏字段服务器可访问。在服务器端，当您获得回发访问隐藏字段时，提取并将值分配给相应的控件。[**你可以在这篇文章**](https://stackoverflow.com/questions/13561473/javascript-created-control-values-are-not-posting-to-server/13561494#13561494)中看到它是如何工作的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:30:53.457

您可能知道，如果是提交类型，单击按钮后，它将回发到服务器，因为 HTTP 是无状态的，因此您有责任再次生成标签文本和值。通常 ASP.NET 视图状态会负责为输入文本执行此操作，但您必须自己处理标签。我可以建议这样的解决方案

1）有一个javascript方法，该方法具有根据下拉列表的选定值更改标签和隐藏字段值的逻辑

```
 function MyFunction ( ddlSelectedValue)
     {
      if(ddlSelectedValue == "1")
       {
           $("#LABELID").html('YOUR VALUE');
           // rest other logics
       }
     } 
```

2) ASP.NET 视图状态将帮助您在单击按钮后保留下拉状态。所以在页面顶部添加这个 jquery 脚本

```
 $(document).ready(function(){
       var ddlSelectedValue = $("#DDLID").val();
       MyFunction(ddlSelectedValue);

      }); 
```

3) 将第 1 点方法也附加到下拉列表的 onchange 上。

4）使用隐藏字段是可以的，因为隐藏字段将满足您在服务器端使用的要求，因为它们也会被回发。

# c# - 为什么我的泛型约束仍然需要强制转换？

> ID：15677638
> 
> 赞同：4
> 
> 时间：2013-03-28T08:55:41.523
> 
> 标签：c#, generics

谁能解释一下为什么调用下面的“DoTest1”方法是一个问题？

至于为什么我需要将传入的 GridCore 对象仍然转换为泛型类型 T 即使我指定 T 派生自 GridCore 与我的 where T : GridCore？

谢谢

```
public partial class Form1 : Form
{
    private void button1_Click(object sender, EventArgs e)
    {
        MyTest<MyAlbum> mytest = new MyTest<MyAlbum>();
        mytest.DoTest1(new MyAlbum());
        mytest.DoTest2(new MyAlbum());
    }
}

public class GridCore { }

public class MyAlbum : GridCore
{
    public string Title { get; set; }
}

public class MyTest<T> where T : GridCore
{
    private List<T> _list = new List<T>();

    public void DoTest1(GridCore ma)
    {
        //_list.Add(ma);        <-- why doesn't this work?
        _list.Add((T)ma);
    }

    public void DoTest2(T ma)
    {
        _list.Add(ma);
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:59:53.853

如果您期望您的方法推断出这`GridCore`是`T`（*由于约束*），那么在编译时它不能。这就是您收到错误的原因。

[泛型方法（C# 编程指南）](http://msdn.microsoft.com/en-us/library/twcad0zb.aspx)

> 编译器可以根据你传入的方法参数来推断类型参数；它**不能仅从约束**或返回值推断类型参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T08:57:36.073

```
 private List<T> _list = new List<T>(); 
```

_list 是类型 T，而 ma

```
 public void DoTest1(GridCore ma) 
```

是 GridCore 类型。这就是为什么它不起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T08:58:24.387

C# 确实要求开发人员将对象显式转换为它的任何派生类型，因为这样的转换可能在运行时失败。T 源自 GridCore。所以你可以写

```
GridCore gridcore = new T(); 
```

但应该明确输入

```
T t = (T)new GridCore(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:09:37.000

`where T: GridCore`表示 a`T`是 a `GridCore`，即是`GridCore`的基类型或接口`T`。

但是您的列表是`List<T>`，也就是说，它是 的列表，`T`并且`T`可能是 的派生类`GridCore`。

让我们假设`T`is`DerivedGridCore`并且有一个字段`int X`，那么`GridCore`应该有一个字段`int X`吗？

除非您显式转换类型（或存在隐式运算符），否则编译器不会做出该假设，因为不能保证该转换。

对于更直观的思考，a`Girafe`是一个`Animal`，但 an `Animal`is 不一定只能是 a `Girafe`；a`Tirget`要么是`Animal`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T09:12:15.053

简而言之，因为并非所有`GridCore`' 都是`T`'。所有`T`的都是`GridCores`（由于约束），而不是相反。

想象一下：

```
public class MyChicken : GridCore
{
    public string FavouriteColour { get; set; }
}

....

new MyTest<MyAlbum>().DoTest1(new MyChicken()); 
```

如果您的代码被允许，那么当您期待一张专辑时，您现在就会有一只鸡。不用说，尝试听音乐的人可能得不到他们所期望的。

您可能想要的是将`DoTest1`签名更改为仅接受`T`该类处理的签名：

```
public void DoTest1(T ma) 
```

现在， a`MyTest<MyAlbum>`将只接受`MyAlbum`它的`DoTest1`方法。

# android - 错误：“无法在设备 'emulator-5554' 上安装 apk：超时”

> ID：15677640
> 
> 赞同：16
> 
> 时间：2013-03-28T08:55:46.297
> 
> 标签：android, installation, emulation, apk

我已经使用模拟器运行了我的应用程序。上传和在我的模拟器上安装我的应用程序需要大约 5 分钟的时间。两分钟后它失败了。

这是错误控制台，

```
[2013-03-28 14:13:18 - newwaterreadingapp] ------------------------------
[2013-03-28 14:13:18 - newwaterreadingapp] Android Launch!
[2013-03-28 14:13:18 - newwaterreadingapp] adb is running normally.
[2013-03-28 14:13:18 - newwaterreadingapp] Performing     
com.example.newwaterreadingapp.MainActivity activity launch
[2013-03-28 14:13:18 - newwaterreadingapp] Automatic Target Mode: using existing     emulator 'emulator-5556' running compatible AVD 'NewAvd_water_electricity_reading'
[2013-03-28 14:13:18 - newwaterreadingapp] Uploading newwaterreadingapp.apk onto device 'emulator-5556'
[2013-03-28 14:18:31 - newwaterreadingapp] Installing newwaterreadingapp.apk...
[2013-03-28 14:20:35 - newwaterreadingapp] Failed to install newwaterreadingapp.apk on   device 'emulator-5556!
[2013-03-28 14:20:35 - newwaterreadingapp] (null)
[2013-03-28 14:20:37 - newwaterreadingapp] Launch canceled! 
```

我的应用程序位于`E:\Projects`文件夹中。我已经将我的 adb 超时增加到 15000 毫秒。但我仍然看到我的应用程序没有加载到模拟器上。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-28T09:19:45.680

Yon 可以在 Eclipse 中增加你的 adb 超时设置。转到 Preferences-> Android-> DDMS-> 找到“ **ADB connection time out (ms)** ”并给出更高的值。

另外，尝试查看您的模拟器是否连接到 DDMS。从 DDMS 视图检查或在命令提示符下运行“ADB 设备”

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-28T09:48:57.063

如果您正在使用，请`Emulator`重新启动。

如果您正在使用`phone`然后重新启动然后电话。

完全断电再上电。那为我修好了。

**或者**

在 Eclipse 中，选择`Window`→ `Preferences`，然后选择`Android`→`DDMS`并将 ADB 连接超时 (ms) 设置为比默认值更长的时间（即`5000`）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-02-13T09:00:28.963

adb 的默认超时时间很小，所以更改它的值如果使用 eclipse 遵循以下路径 Window -> Preferences -> Android -> DDMS -> ADB Connection Timeout (ms)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-04T07:32:53.167

1个原因可能是因为你的模拟器被挂起关闭它并启动一个新的模拟器如果新的模拟器也需要时间启动然后重新启动eclipse它对我有用

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-02T14:59:10.793

我遇到了同样的问题，这是由于模拟器没有足够的内存引起的。我正在运行只有 512mb RAM 的 3.0 模拟器，我纯粹是偶然在 LogCat 中看到大量来自系统进程的 OutOfMemory 异常。将其增加到 1024mb 并将 VM 堆增加到 64mb 并且安装良好。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-19T10:54:01.623

如果您使用模拟器，请打开模拟器，然后`settings->Apps->Select`从模拟器中卸载您的应用程序。

关闭模拟器

现在右键单击您`project->Run as->Run Configuration->`的目标选择自动选择兼容设备选项，然后单击运行。

# matlab - 替换矩阵的对角线

> ID：15677641
> 
> 赞同：0
> 
> 时间：2013-03-28T08:56:00.810
> 
> 标签：matlab, matrix, diagonal

我很有趣将矩阵的对角线替换`D`为`1,2,3,4`. 这是矩阵`D`：

```
A=[1,2,3,4,2,3,4,5; 3,4,5,6,4,5,6,7];
D=[A;A];
D=[D D]; % size of matrix [4x16] % 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T08:59:55.587

要将主对角线设置为从 1 开始并以 1 递增的整数：

```
D(eye(4)==1) = 1:4 
```

或者概括一下：

```
n = min(size(D));
D(eye(n)==1) = 1:n; 
```

请注意，这是将单位矩阵`==1`的输出转换为逻辑类型。`eye(n)`

**编辑：**

这只是对所有对角线的意思的猜测，但这里是：

```
n = size(D,1);
m = size(D,2);
I = repmat(eye(min([n,m])), ceil(n/m), ceil(m/n));
I = I(1:n, 1:m)==1
d = repmat(1:min([n,m]), 1, max([ceil(n/m), ceil(m/n)]));
d = d(1:max(m,n));
D(I) = d 
```

# java - 用于套接字接收或套接字的 NullPointer

> ID：15677642
> 
> 赞同：1
> 
> 时间：2013-03-28T08:56:01.537
> 
> 标签：java, android, networking, udp, wifi

我一直在向连接到服务器的客户端发送数据包，但尝试将相同的数据包发送到实际主机本身却不断出现错误。

这是破坏的代码

```
if(socket == null)
            {
                try 
                {
                    socket = new DatagramSocket( port );
                } 
                catch (SocketException e) 
                {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }

            if( server.returnPlayers() > 0)
            {

                byte[] buf = new byte[256];
                DatagramPacket packet = new DatagramPacket( buf, buf.length );
                try 
                {
                    socket.receive( packet ); ..<---this line
                } 
                catch (IOException e) 
                {
                    Log.d(TAG, "Error with receiving data");
                    e.printStackTrace();
                }
                ... 
```

知道为什么吗？相同的数据包被发送到客户端，它工作 100%。

帆布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T21:46:09.830

您的 try/catch 太本地化 'socket' 可能在 catch 之后仍然为空。将 catch 移到此代码的末尾。在可能受它们影响的代码之前不要捕获异常。

# mysql - 使用SQL选择特定表中最后两个条目之间差异大于零的用户？

> ID：15677645
> 
> 赞同：0
> 
> 时间：2013-03-28T08:56:13.840
> 
> 标签：mysql, sql

这是我的表的[SQLFiddle 链接](http://sqlfiddle.com/#!2/0e1b3/1)。

`num`我基本上只想选择 Jack 和 Jill，因为表的最后两个s 条目`foo`与`user`它们各自的名称之间存在非零差异。

这怎么可能？

注意：顺便提一下，在我的`foo`表中，我有大约 100000 行，所以如果有一种非常快速和快速的方法来检索数据会很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T11:01:22.793

我更喜欢使用`limit`偏移量来获取两个最新值。令人高兴的是，您的表格有一个`id`用于确定顺序的列。

```
select user,
       (select num from foo f2 where f2.user = f.user order by f2.id desc limit 1
       ) lastval,
       (select num from foo f2 where f2.user = f.user order by f2.id desc limit 1, 2
       ) lastval2
from foo f
group by user
having lastval <> lastval2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:05:14.093

这是一种方法（尽管我认为您更有可能加入用户的 id 而不是他们的名字！？！...

```
SELECT u.* 
  FROM
     ( SELECT x.*, COUNT(*) rank FROM foo x JOIN foo y ON y.user = x.user AND y.id >= x.id GROUP BY x.id)a
  LEFT
  JOIN
     ( SELECT x.*, COUNT(*) rank FROM foo x JOIN foo y ON y.user = x.user AND y.id >= x.id GROUP BY x.id)b
    ON b.user = a.user 
   AND b.num = a.num
   AND b.rank = a.rank + 1
  JOIN users u
    ON u.user = a.user
 WHERE b.id IS NULL
   AND a.rank = 1; 
```

我认为这个查询可以重写如下，这可能会更快......

```
SELECT u.* 
  FROM
     ( SELECT id
            , user
            , num
            , @prev_user := @curr_user
            , @curr_user := user
            , @rank := IF(@prev_user = @curr_user, @rank+1, @rank:=1) rank
         FROM foo
         JOIN (SELECT @curr_user := null, @prev_user := null, @rank := 0) sel1
        ORDER 
           BY user
            , id DESC
     ) a
  LEFT
  JOIN
       ( SELECT id
            , user
            , num
            , @prev_user := @curr_user
            , @curr_user := user
            , @rank := IF(@prev_user = @curr_user, @rank+1, @rank:=1) rank
         FROM foo
         JOIN (SELECT @curr_user := null, @prev_user := null, @rank := 0) sel1
        ORDER 
           BY user
            , id DESC
     ) b
    ON b.user = a.user 
   AND b.num = a.num
   AND b.rank = a.rank + 1
  JOIN users u
    ON u.user = a.user
 WHERE b.id IS NULL
   AND a.rank = 1; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T12:17:02.830

基于草莓的第二个解决方案，我已经尝试过了。

```
SELECT user, MIN(num) AS MinNum, MAX(num) AS MaxNum
FROM (   SELECT id
            , user
            , num
            , @prev_user := @curr_user
            , @curr_user := user
            , @rank := IF(@prev_user = @curr_user, @rank+1, 1) AS rank
FROM foo
JOIN (SELECT @curr_user := null, @prev_user := null, @rank := 1) sel1
ORDER BY user, id DESC
) AS Sub
WHERE rank <= 2
GROUP BY user
HAVING MinNum != MaxNum 
```

这将详细信息列为子选择并拒绝排名大于 2 的位置（不幸的是，如果您尝试在子选择中检查，用户变量会给出奇怪的结果）。然后将结果按用户分组，并返回 num 的最小值和最大值。如果它们不同，则返回该行（并且由于每个用户只有 1 或 2 行，因此只有当返回 2 行并且它们具有不同的值时，最小值和最大值才会不同）。

这样做的好处是它避免了将 2 个 100000 个集合相互连接，并且只需要进行一次排名（尽管您希望 MySQL 无论如何都会优化这个 2nd 问题）。

# django - django：简单的联系表格不起作用

> ID：15677650
> 
> 赞同：1
> 
> 时间：2013-03-28T08:56:25.247
> 
> 标签：django, django-forms

我正在尝试设置一个联系表单，并暂时尝试让它显示在点击提交按钮时提交的字段（同一页面）。当我单击提交时，它会重新加载显示的联系表单。所以，这是我的看法：

```
from website.forms import ContactForm

def contact(request):

    Success = False
    email = ""
    title = ""
    text = ""

    if request.method == "POST":    
        contact_form = ContactForm(request.POST)

        if contact_form.is_valid():
            Success = True
            email = contact_form.cleaned_data['email']
            title = contact_form.cleaned_data['title']
            text = contact_form.cleaned_data['text']

    else:
        contact_form = ContactForm()

    ctx = {'contact_form':contact_form, 'email':email, 'title':title, 'text':text, 'success':success}

    return render_to_response('website/contact.html', ctx, context_instance=RequestContext(request)) 
```

这是forms.py：

```
from django import forms

class ContactForm(forms.Form):
    email = forms.EmailField()
    title = forms.CharField()
    text = forms.CharField( widget=forms.Textarea ) 
```

这是模板：

```
{% if success %}

    <p>{{ email }}</p>
    <p>{{ title }}</p>
    <p>{{ text }}</p>

{% else %}

    <form action"." method="POST">

    {{ contact_form.as_p }}

    <input type="submit" value="Send">
    <input type="reset" value="Reset">

    </form>
{% endif %} 
```

看起来很简单，但我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:03:17.257

我认为问题在于 Success != success...您必须使用正确的大小写键入变量...还要检查 {{success}} 的输出（它应该是“None”或者无论如何都不是布尔值）

# httpresponse - 尝试读取 HttpResponse 的内容时出现 SSLException

> ID：15677652
> 
> 赞同：0
> 
> 时间：2013-03-28T08:56:27.607
> 
> 标签：httpresponse, github-api, apache-commons-httpclient, sslexception

我正在实现一个与 GitHub API 通信的应用程序，以推断有关当前开发的项目的一些统计数据。我选择使用`HttpAsyncClient`.

我的问题是，在我执行所有请求并从 API 获取所有响应（大约 150 个）之后，我尝试使用

```
String content = EntityUtils.toString(response.getEntity()); 
```

在阅读了 ~120 个响应后，我收到了 SSLException：

```
Exception in thread "main" javax.net.ssl.SSLException: SSL peer shut down incorrectly
at sun.security.ssl.InputRecord.readV3Record(InputRecord.java:557)
at sun.security.ssl.InputRecord.read(InputRecord.java:509)
at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:883)
at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:840)
at sun.security.ssl.AppInputStream.read(AppInputStream.java:94)
at org.apache.http.impl.io.AbstractSessionInputBuffer.read(AbstractSessionInputBuffer.java:204)
at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:182)
at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:138)
at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:282)
at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:324)
at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:176)
at java.io.InputStreamReader.read(InputStreamReader.java:184)
at java.io.Reader.read(Reader.java:140)
at org.apache.http.util.EntityUtils.toString(EntityUtils.java:224)
at org.apache.http.util.EntityUtils.toString(EntityUtils.java:264)
at pl.xsolve.githubmetrics.github.OwnGitHubClient.extractBodyFromResponse(OwnGitHubClient.java:117) 
```

当我显着减少请求数量（例如，减少一半）时，问题就消失了。此外，所有回复都包含`HTTP/1.1 200 OK`- 我已经检查过它，`response.getStatusLine()`它一直有效到回复列表的最后。即使我`httpClient.shutdown()`在`finally`块中删除（在读取内容之前执行），问题仍然存在。

从堆栈跟踪中，我得出的结论是抛出异常就行了

```
while((l = reader.read(tmp)) != -1) 
```

实体在`HttpResponse`某种程度上已经过时了吗？你看到我的推理有误吗？前 120 个响应被正确解析然后引发 SSLException 的原因是什么？

任何帮助将不胜感激 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T15:26:59.040

这也可能取决于您的 openssl 版本。在我维护的一个 python 项目中，当人们在短时间内发出大量 SSL 请求时，我们在 openssl 0.9.8 中看到了错误。诚然，这与您的错误消息完全不同，但升级到 openssl 1.0 可能会有所帮助。

# bash - 使用关键字查找但跳过文件夹

> ID：15677658
> 
> 赞同：1
> 
> 时间：2013-03-28T08:56:48.757
> 
> 标签：bash, find, keyword

我正在使用以下命令在文件夹、子子文件夹等中查找特定的文件扩展名。但是，如果文件夹/目录也具有该特定关键字，它也会返回结果。我怎样才能绕过这个？

```
find . \( -type d -a ! -name 'downloading' -a ! -name 'vntdone' -a ! -name '.' \) -o -name \*.avi -o -name \*.mkv -o -name \*.mp4 -o -name \*.VOB 
```

非常感谢我能得到的任何帮助！谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:28:44.563

我不太确定我是否了解您对第一个参数的需求，但这就是您要找的吗？

```
find . -type f \(  -name \*.avi -o -name \*.mkv -o -name \*.mp4 -o -name \*.VOB \) 
```

`avi`这将输出以,`mkv`和结尾的文件`mp4`名`VOB`

# .net - 无法使色彩矩阵和透明度正常工作

> ID：15677660
> 
> 赞同：0
> 
> 时间：2013-03-28T08:56:56.750
> 
> 标签：.net, vb.net, transparency, colormatrix

我正在开发一款 RTS 风格的游戏，以了解更多关于使用类、继承和接口进行编程的知识——进展顺利，没有出现重大问题。

我遇到的问题是颜色矩阵。在地图上放置单位时，我使用颜色矩阵添加绿色或红色叠加层，具体取决于位置的有效性。再次使用以下代码可以正常工作（为了清楚起见，将其截断）。但我也想让图像半透明。

这是我正在使用的代码，它首先使单位灰度，然后将其染成红色，但不使其半透明。

```
Public Overrides Function GetCurrentFrame() As Image
    _AnimationFrame += _AnimationFrameTime
    If _AnimationFrame > 5 Then _AnimationFrame = 0
    Dim CurrentFrame As Image = Nothing

    CurrentFrame = My.Resources.ResourceManager.GetObject("dragoon_walk_l_" & Convert.ToInt16(_AnimationFrame).ToString)

    Dim g As Graphics = Graphics.FromImage(CurrentFrame)

    Dim cm As System.Drawing.Imaging.ColorMatrix = New System.Drawing.Imaging.ColorMatrix(New Single()() _
         {New Single() {0.3, 0.3, 0.3, 0, 0}, _
        New Single() {0.59, 0.59, 0.59, 0, 0}, _
        New Single() {0.11, 0.11, 0.11, 0, 0}, _
        New Single() {0, 0, 0, 1, 0}, _
        New Single() {0.5, 0, 0, 0.5, 1}})

    Dim ia As System.Drawing.Imaging.ImageAttributes = New System.Drawing.Imaging.ImageAttributes()
    ia.SetColorMatrix(cm)
    g.DrawImage(CurrentFrame, New Rectangle(0, 0, CurrentFrame.Width, CurrentFrame.Height), 0, 0, CurrentFrame.Width, CurrentFrame.Height, GraphicsUnit.Pixel, ia)

    g.DrawImage(My.Resources.ResourceManager.GetObject("health" & (Int(20 * (_UnitHealth / _UnitHealthMax)) - 1).ToString), 0, 14)
    g.DrawImage(My.Resources.ResourceManager.GetObject("level" & _Level.ToString), 6, 0)
    g.Dispose()
    Return CurrentFrame
End Function 
```

为了澄清起见，问题是如何使用色彩矩阵使我的图像变为红色和半透明。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:58:05.993

已经看了2天了，它刚刚来到我身边。

问题是我是从原始图像创建位图，而不是空白位图。并返回图像而不是位图:(

这是我使用的解决方案

```
Public Overrides Function GetCurrentFrame() As Image
    _AnimationFrame += _AnimationFrameTime
    If _AnimationFrame > 5 Then _AnimationFrame = 0
    Dim CurrentFrame As Image = Nothing

    CurrentFrame = My.Resources.ResourceManager.GetObject("dragoon_walk_l_" & Convert.ToInt16(_AnimationFrame).ToString)

    Dim bm As Bitmap = New Bitmap(CurrentFrame.Width, CurrentFrame.Height)
    Dim g As Graphics = Graphics.FromImage(bm)

    Dim cm As System.Drawing.Imaging.ColorMatrix = New System.Drawing.Imaging.ColorMatrix(New Single()() _
         {New Single() {.3, .3, .3, 0, 0}, _
        New Single() {0.59, .59,.59, 0, 0}, _
        New Single() {.1, 0.1, 0.1, 0, 0}, _
        New Single() {0, 0, 0, 0.75, 0}, _
        New Single() {0.5, 0, 0, 0, 1}})

    Dim ia As System.Drawing.Imaging.ImageAttributes = New System.Drawing.Imaging.ImageAttributes()
    ia.SetColorMatrix(cm)
    g.DrawImage(CurrentFrame, New Rectangle(0, 0, CurrentFrame.Width, CurrentFrame.Height), 0, 0, CurrentFrame.Width, CurrentFrame.Height, GraphicsUnit.Pixel, ia)

    g.DrawImage(My.Resources.ResourceManager.GetObject("health" & (Int(20 * (_UnitHealth / _UnitHealthMax)) - 1).ToString), 0, 14)
    g.DrawImage(My.Resources.ResourceManager.GetObject("level" & _Level.ToString), 6, 0)
    g.Dispose()
    Return bm
End Function 
```

# android - 如何在android中设置一次闹钟

> ID：15677669
> 
> 赞同：5
> 
> 时间：2013-03-28T08:57:12.623
> 
> 标签：android, push-notification, alarms

我正在做警报项目，

我想设置一个时间警报..但我面临设置tat的问题，

我的代码是；

```
public void loadCalender(String month) {

    try {

        Cursor cursor = null;

        Database db = new Database(getApplicationContext());

        cursor = db.getSelectedCalenderDetails(month);
        if (cursor.getCount() != 0) {
            if (cursor.moveToFirst()) {
                do {
                    String text = cursor.getString(cursor
                            .getColumnIndex("event"));
                    String title = "News/Events";
                    String dates = cursor.getString(cursor
                            .getColumnIndex("date"));

                    String yr = dates.substring(0, 4);
                    int year = Integer.parseInt(yr);
                    String mon = dates.substring(5);
                    String mo = mon.substring(0, 2);
                    int months = Integer.parseInt(mo);
                    String da = dates.substring(9);
                    int day = Integer.parseInt(da);

                    // Ask our service to set an alarm for that date,
                    // this
                    // activity talks to the client that talks to the
                    // service
                    set_alarm(year, months, day, title, text);
                    System.out.println(dates);

                } while (cursor.moveToNext());

            }

        }
        cursor.close();
    } catch (Exception e) {
        e.printStackTrace();
    }

    // looping through All Contacts

}

public void set_alarm(int year, int month, int day, String title,
        String text) {
    SharedPreferences prefs = PreferenceManager
            .getDefaultSharedPreferences(getApplicationContext());

    // etc
    Calendar cal = Calendar.getInstance();
    int hour = prefs.getInt("PREF_HOUR", 0);
    int min = prefs.getInt("PREF_MIN", 0);
    if(hour == 0 && min == 0){

    cal.set(Calendar.MONTH, month - 1);
    cal.set(Calendar.YEAR, year);
    cal.set(Calendar.DAY_OF_MONTH, 7);

    cal.set(Calendar.HOUR_OF_DAY, 15);
    cal.set(Calendar.MINUTE, min);
    }else
    {

        cal.set(Calendar.MONTH, month - 1);
        cal.set(Calendar.YEAR, year);
        cal.set(Calendar.DAY_OF_MONTH, hour);

        cal.set(Calendar.HOUR_OF_DAY, min);
        cal.set(Calendar.MINUTE, min);
    }
    Intent intent = new Intent(getApplicationContext(), AlarmActivity.class);
    intent.putExtra("title", title);
    intent.putExtra("text", text);
    PendingIntent pendingIntent = PendingIntent.getBroadcast(
            getApplicationContext(), 1, intent,
            PendingIntent.FLAG_ONE_SHOT);

    AlarmManager alarmManager = (AlarmManager) getApplicationContext()
            .getSystemService(getApplicationContext().ALARM_SERVICE);

    /*
     * alarmManager.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),
     * pendingIntent);
     */

    alarmManager.cancel(pendingIntent); // cancel any existing alarms

    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,cal.getTimeInMillis(),AlarmManager.INTERVAL_DAY,

            pendingIntent);
} 
```

此处警报推送始终启用，当应用程序打开时...

我在我的代码中做错了..请帮我设置一次闹钟

提前致谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-28T09:00:35.137

您需要使用`setAlarm()`方法而不是`setRepeating()`

```
alarmManager.set(AlarmManager.RTC_WAKEUP,cal.getTimeInMillis(),pendingIntent); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-06-10T11:01:02.357

我用的怎么样

```
alarmManager.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), sender); 
```

我想在未来通过 alarmMenager 推送通知它在应用程序仍在运行时工作，而我调用 allarm menager 以在未来设置通知并关闭我的通知未显示的应用程序。我必须做什么？

在这里你得到了我的事件发送者：

```
Calendar cal = Calendar.getInstance();
 cal.set(Calendar.HOUR, HOUR_OF_DAY);
 cal.set(Calendar.MINUTE, MINUTE);
 //cal.add(Calendar.SECOND, SECOND_OF_DAY);
 Intent intent = new Intent(UnityPlayer.currentActivity, TimeAlarm.class);
 intent.putExtra("alarm_status", statusMessage);
 intent.putExtra("alarm_title", title);
 intent.putExtra("alarm_content", content);
 Log.i("SenderEvent ", "przygotowane dane");
 PendingIntent sender = PendingIntent.getBroadcast(UnityPlayer.currentActivity.getApplicationContext(), REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT);
 am.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), sender); 
```

和接收者：

```
Bundle bundle = intent.getExtras();
        String statusMessage = bundle.getString("alarm_status");
        String title = bundle.getString("alarm_title");
        String content = bundle.getString("alarm_content");
        nm = (NotificationManager) context
                .getSystemService(Context.NOTIFICATION_SERVICE);
        PendingIntent contentIntent = PendingIntent.getActivity(context, 0,
                new Intent(), 0);
Notification notif =new Notification();//R.drawable.ic_launcher,statusMessage, System.currentTimeMillis());;
        //notif.largeIcon = bitmap;
        notif.icon =2130837504;
        notif.tickerText=statusMessage;
        notif.when= System.currentTimeMillis(); 
        /*
        new Notification(0,
                statusMessage, System.currentTimeMillis());*/
        notif.setLatestEventInfo(context, title, content, contentIntent);
        nm.notify(NOTIFY_ME_ID, notif); 
```

将来在应用程序关闭时推送通知有什么问题？

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-28T08:59:29.313

而不是使用 alarmManager.setRepeating 使用 alarmManager.set 设置一个时间警报

# html - 用于小型和大型（流体/响应）列的 Zurb Foundation 4 SCSS 混合

> ID：15677673
> 
> 赞同：5
> 
> 时间：2013-03-28T08:57:20.667
> 
> 标签：html, css, responsive-design, sass, zurb-foundation

我正在构建一个公司响应式网站，并首次同时使用 SASS 和 Foundation 4 CSS 框架。到现在为止还挺好。但是，我在这里遇到了 mixins 的“问题”。如果我想要一个在大视图中大小为 6 并且在小视图中大小为 3 的列，我可以使用内置的 CSS 类

```
 class="large-6 small-3 columns" 
```

有没有办法通过 Foundation SASS mixin 来做到这一点？[我在这里](http://foundation.zurb.com/docs/components/grid.html)找到的列的唯一混合是

```
@include grid-column($columns, $last-column, $center, $offset, $push, $pull, $collapse, $float); 
```

对于我得到的，我不能在这里指定 veiwports。

有什么想法吗？先感谢您

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-06T02:43:32.580

我做了一些混入来更容易处理： [https ://gist.github.com/jofralogo/5324278](https://gist.github.com/jofralogo/5324278)

```
@mixin rgrid($phone-grid:"",$desktop-grid:""){
    @extend .small-#{$phone-grid};
    @extend .large-#{$desktop-grid};
    @extend .columns;
} 
```

这个 mixin 提供了一种使用 F4 网格类和媒体查询的简单方法。

*   $phone-grid：网格列数。

*   $desktop-grid：对于窗口宽度 768px 及以上，覆盖 $phone-grid 的网格列数。

*   只能声明一个参数来为每个窗口宽度定义一个值。

IE：

```
@include rgrid(3,6); => 3 columns for phone, 6 columns for desktop.
@include rgrid(6); => 6 columns. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-03T23:04:20.983

我认为您可以通过`@extend`Foundation 类而不是`@include`Foundation mixin 来获得它。通过这种方式，您可以获得 Foundation 构建到其网格类中的所有内容，以及堆叠它们的能力。

在 CSS 中分配你想要的类：

```
.my-super-semantic-div {
    @extend .large-6, .small-3, .columns;
} 
```

而不是在 HTML 中：

```
<div class="large-6 small-3 columns">...<div> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-28T15:59:38.920

> 但我想知道的是他们是否有内置的 SASS mixin。但是我会检查他们的@media 设置并尝试自己实现它。

不，他们没有。:( 见文档： http: [//foundation.zurb.com/docs/media-queries.html](http://foundation.zurb.com/docs/media-queries.html)

但你不需要发明任何东西！只需使用[Snugug的漂亮的](https://stackoverflow.com/users/703084/snugug)[响应](https://github.com/snugug/respond-to)指南针扩展。

除了按照响应的自述文件中描述的名称调用媒体查询之外，您还可以通过它们的编号来触发它们。

干净缩进语法中的示例：

```
// Declaring the breakpoint ranges
$breakpoints: 'xs' (0 400px), 's' (401px 600px), 'm' (601px 800px)

// Declaring a function to retrieve a breakpoint by number
@function bp($number)
  @return nth(nth($breakpoints, $number),1)

// Calling a media query traditionally by a name
.bar
  +respond-to('s')
    @include grid-column(6)

// Calling a media query by its number
.foo
  +respond-to(bp(2))
    @include grid-column(6) 
```

耶！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T09:02:04.423

对于这些事情，您应该使用语义类。

`class="something-descriptive"`

并在您的 sass 中包含不同大小的不同 mixin，如下所示：

```
.something-descriptive {
    @include grid-column(3)
}

@media screen and (min-width: 700px) {
    .something-descriptive {
        @include grid-column(6)
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-30T18:31:40.953

使用 Sass Mixins，您必须使用媒体查询来显式更改网格。我解决这个问题的方法是创建一个 Mobile First 站点，然后将定义网格的 Sass 代码复制到 2 个媒体查询中，如下所示：

```
// Mobile Grid
@media only screen and (max-width: 768px) { ... }
// Desktop & Tablet Grid
@media #{$small} { ... } 
```

我找不到任何明确的例子来说明这是如何工作的。根据我收集到的内容，您应该能够在 Sass 中定义网格，然后仅使用`@media #{$small} {}`媒体查询覆盖它，但实际上我无法让它工作。我尝试在另一个网格之前、之后等进行媒体查询，结果是您第一次设置网格时它保持不变。

这是一个更长的例子。在这种情况下，`#dashboard`它是堆叠并以移动设备为中心，在台式机/平板电脑上以 3 列为中心。这将`class="small-10 small-centered large-4 columns"`用于使用演示类。

```
// Mobile Grid
@media only screen and (max-width: 768px) {
  #dashboard { @include grid-row;
    & > #stats { @include grid-column(10, false, true); }
    & > #records { @include grid-column(10, false, true); }
    & > #results { @include grid-column(10, false, true); }
  }
}

// Desktop & Tablet Grid
@media #{$small} {
  #dashboard { @include grid-row;
    & > #stats { @include grid-column(4, false, false); }
    & > #records { @include grid-column(4, false, false); }
    & > #results { @include grid-column(4, false, false); }
  }
} 
```

注意：您可以对此进行扩展并使用 mixins 设置更多断点，但这似乎模拟了默认的 Zurb F4 演示类行为。

# sql - 如何在 Oracle Forms Builder 的数据块顶部创建记录？

> ID：15677681
> 
> 赞同：1
> 
> 时间：2013-03-28T08:57:53.207
> 
> 标签：sql, plsql, oracle11g, oracleforms

我希望能够在数据块的顶部创建新记录？

目前我有以下代码：

```
 first_record;
    create_record; 
```

但这会在第一条记录之后创建记录......我希望它在最上面......

有谁知道如何做到这一点？

谢谢，万维

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T23:12:53.017

目前这在表单中是不可能的。

要完成这样的事情，你应该做 2 个块。第一个只包含一条记录来创建记录。当你在这里提交一些东西时，它将在第二个块中被查询。

# iphone - 带有 PageControl 的 UIPageViewController

> ID：15677682
> 
> 赞同：26
> 
> 时间：2013-03-28T08:57:53.483
> 
> 标签：iphone, ios, xcode, ios6, pagecontrol

我正在使用 UIPageViewController 来显示其他 4 个 ViewController。所以我的 RootViewController 是一个 PageViewController ，它显示了我在 Storyboard 中创建的其他 4 个 ViewControllers，并与不同的 Views 保持一致。一切都很完美。但是是否可以将 UIPageControl 添加到此 PageViewController。这有可能吗？

或者有人知道我怎样才能达到类似的结果？

会很棒，谢谢！

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-03-30T09:45:59.787

您需要实现这些`UIPageViewControllerDataSource`方法：

**迅速**

```
func presentationCount(for pageViewController: UIPageViewController) -> Int { ... }
func presentationIndex(for pageViewController: UIPageViewController) -> Int { ... } 
```

**对象-C**

```
- (NSInteger)presentationCountForPageViewController:(UIPageViewController *)pageViewController
- (NSInteger)presentationIndexForPageViewController:(UIPageViewController *)pageViewController 
```

你会在 UIPageViewController 的底部 36px 处看到一个页面控件。如果看不到它们，请尝试将视图的颜色更改为深色。

# image - GWT 小部件在 Panel 上被截断

> ID：15677683
> 
> 赞同：0
> 
> 时间：2013-03-28T08:57:56.720
> 
> 标签：image, gwt

我有以下类，它将图像添加到按钮，然后将按钮添加到面板

```
private PushButton button;
private AbsolutePanel panel = new AbsolutePanel();
private Image image = new Image("images/rectangle_blue.png");

public ExpandingRectangularButton(String text)
{
    String width = "120px";
    String height = "160px";
    image.setWidth(width);
    image.setHeight(height);
    button = new PushButton(image);
    panel.add(button, 0, 0);
    panel.setWidth(width);
    panel.setHeight(height);
    initWidget( panel );
} 
```

当我显示 ExpandingRectangularButton 的实例时，该按钮在底部被截断。但是，如果我将面板从等式中取出，如下所示

```
private PushButton button;
private Image image = new Image("images/rectangle_blue.png");

public ExpandingRectangularButton(String text)
{
    String width = "120px";
    String height = "160px";
    image.setWidth(width);
    image.setHeight(height);
    button = new PushButton(image);
    initWidget( button );
} 
```

并且只需使用图像和按钮（即我在按钮上调用 init() ）然后图像将显示而不会被截断。由于我没有设置按钮的高度，我假设它会动态增长以适应它的子小部件。为什么我将按钮放在面板上时不会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:29:55.173

引用 Javadoc：

> 绝对面板绝对定位其所有子项，允许它们重叠。
> 
> 请注意，此面板不会自动调整自身大小以为其绝对定位的子项留出足够的空间。它必须明确调整大小以便为它们腾出空间。

你可以：

*   显式设置`AbsolutePanel`大小；
*   `overflow: hidden`从中删除属性（解决方法）；
*   用于`panel.add(button, -1, -1)`静态定位按钮；
*   `AbsolutePanel`用一个自然适应其大小的（就像几乎任何其他的一样）更改`Panel`。

我更喜欢最后一个，但你的用例不清楚。

# python - 合并字典并添加值

> ID：15677693
> 
> 赞同：4
> 
> 时间：2013-03-28T08:58:27.127
> 
> 标签：python

我有几个我想组合的字典，这样如果一个键在多个字典中，则将值加在一起。例如：

```
d1 = {1: 10, 2: 20, 3: 30}
d2 = {1: 1, 2: 2, 3: 3}
d3 = {0: 0}

merged = {1: 11, 2: 22, 3: 33, 0: 0} 
```

在 Python 中执行此操作的最佳方法是什么？我在看 defaultdict 并试图想出一些东西。我正在使用 Python 2.6。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-28T09:09:17.003

使用`defaultdict`：

```
>>> d = defaultdict(int)
>>> for di in [d1,d2,d3]:
...   for k,v in di.items():
...     d[k] += v
...
>>> dict(d)
{0: 0, 1: 11, 2: 22, 3: 33}
>>> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:25:01.253

使用最多的 python 标准函数和库：

```
dlst = [d1, d2, d3]
for i in dlst:
    for x,y in i.items():
        n[x] = n.get(x, 0)+y 
```

不使用`if-else`检查，使用`dict.get`默认值`0`简单易行。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-28T09:05:03.610

无需导入任何东西。.

```
d4={}
for d in [d1,d2,d3]:
    for k,v in d.items():
        d4.setdefault(k,0)
        d4[k]+=v
print d4 
```

输出：

```
{0: 0, 1: 11, 2: 22, 3: 33} 
```

# javascript - js加载图片

> ID：15677701
> 
> 赞同：0
> 
> 时间：2013-03-28T08:58:58.757
> 
> 标签：javascript

我有这个代码

```
 var a = new Image();
    a.src = objects.a.image;

    var b = new Image();
    b.src = objects.b.image;

    var x = new Image();
    x.src = objects.x.image; 
```

我有大约 10 张这样的图像，有没有更好的方法将其加载到变量中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:03:35.070

这应该工作

```
for(var i in objects)
{
    if(objects[i].image)
    {
        var oImage = new Image();
        oImage.src = objects[i].image;
        // if you need the Image object you can store it somewhere
        objects[i].oImgObject = oImage;
     }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:02:02.393

假设`objects`只包含图像，试试这个：

```
var imageList = [];
for (var i in objects) {
    var obj = objects[i];
    var img = new Image();
    img.src = obj.image;
    imageList.push(img);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:04:37.283

您通常会使用数组来存储图像。

例如 ：

```
var arr = [];
for (var c='a'.charCodeAt(0); c<='x'.charCodeAt(0); c++) {
     var img = new Image();
     img.src = objects[String.fromCharCode(c)].image;
     arr.push(img);
} 
```

如果您确实需要将它们作为变量添加到全局上下文中，您可以这样做：

```
for (var c='a'.charCodeAt(0); c<='x'.charCodeAt(0); c++) {
     var img = new Image();
     var name = String.fromCharCode(c);
     img.src = objects[name].image;
     window[name] = img; // better use somthing's else than window...
} 
```

请注意，根据实际情况`objects`，可能会有更直接的解决方案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:09:07.767

您可以遍历 objects 对象的属性。每次迭代创建一个新图像，为其提供对象属性的来源。然后将其添加到数组中：

[**演示**](http://jsfiddle.net/dnEKj/)

```
var arrayOfImg = [];

for(var propt in objects){
    var image = new Image();
    image.src = objects[propt].image;
    arrayOfImg.push(image)
}

console.log(arrayOfImg); 
```

# http - 为什么Firefox中的流水线似乎不起作用？

> ID：15677702
> 
> 赞同：0
> 
> 时间：2013-03-28T08:59:00.530
> 
> 标签：http, pipelining, http-pipelining

为了验证使用http流水线可以优化加载资源的速度，我做了如下测试：

在 Mac 上打开 Firefox，在配置中将每个服务器的最大连接更改为 1，然后我打开一个加载 12 个图像的测试页面。我得到了下图：

![在此处输入图像描述](../Images/1716c08eb94b1b9c59173647c4492ec7.png)

浏览器一张一张地加载每张图片，加载 12 张图片大约需要 12 秒（我为每张图片添加 1 秒延迟）。

接下来，我在 Firefox 中打开流水线，并刷新页面。我得到了下图：

![在此处输入图像描述](../Images/07f2e5724b80a317ae0d4794679e048a.png)

我可以看到根本没有阻塞。所有请求都是流水线的。我想加载的总时间会缩短，但不幸的是它与没有流水线的情况相同。所以我怀疑流水线似乎不起作用。

我想知道为什么以及如何解决它。我使用apache服务器。需要在 Apache 中进行任何配置吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-20T04:12:46.883

正如[维基](http://en.wikipedia.org/wiki/HTTP_pipelining)所说，

> 请求的流水线导致 HTML 页面的加载时间显着改善，**尤其是在高延迟连接**（如卫星 Internet 连接）上。**宽带连接**上的加速**不太明显**

 **您的测试基于典型的宽带连接。服务器接收每个请求的时间太短（可以忽略不计），每次发送这么大的图片时，都会占用连接的整个带宽。

因此，您可以使用以下方法重试测试：

1.  每个请求的高延迟。
2.  许多小文件作为响应资源。**

# android - 在 Android 中使用 SharedPreferences.Editor 接收令牌、用户 ID

> ID：15677705
> 
> 赞同：0
> 
> 时间：2013-03-28T08:59:04.017
> 
> 标签：android, android-activity, sharedpreferences

嗨，我有一个疑问，我怎么能通过和接收令牌使用`SharedPreferences.Editor`

我试图通过使用传递令牌：

```
appSharedPrefs  = this.getSharedPreferences("Login", MODE_PRIVATE);

prefsEditor = appSharedPrefs.edit();

prefsEditor.putString("Userid", mUserid );
prefsEditor.putString("Token", mToken );
prefsEditor.putString("UserName", mUserName );
prefsEditor.putString("Password", mPassword );
prefsEditor.commit(); 
```

我认为传递用户 ID 是正确的，但我怎么能在下一个活动中收到带有用户 ID 的用户名。需要帮助！谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:11:52.660

```
SharedPreferences prefs;
prefs  = this.getSharedPreferences("Login", MODE_PRIVATE);

String mUserid = prefs.getString("Userid", "NA");
String mToken = prefs.getString("Token", "NA" );
String mUserName = prefs.getString("UserName", "NA");
String mPassword = prefs.getString("Password", "NA"); 
```

NA 是这里传递给 String 的默认值，随意更改。

还阅读[http://developer.android.com/reference/android/content/SharedPreferences.html](http://developer.android.com/reference/android/content/SharedPreferences.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:12:23.413

如果您已经将其保存到`SharedPreferences`. 您可以通过以下方式对其进行 git。

```
SharedPreferences pref = this.getSharedPreferences("Login", MODE_PRIVATE); // Get reference if SharedPreference
String userid = pref.getString("Userid", "no name");
String token = pref.getString("Token", "no token");
String userName = pref.getString("UserName","no username");
String mPass = pref.getString("Password","no pass"); 
```

# objective-c - 进行桥接时这些规则是否有例外

> ID：15677707
> 
> 赞同：-3
> 
> 时间：2013-03-28T08:59:05.007
> 
> 标签：objective-c, xcode4.5

这是我目前所做的：

基本上我在做桥接时有这两条规则

从 CF 土地转换为 NS 土地，使用 CFBridgingRelease 从 NS 土地转换为 CF 土地，使用 __bridge。

我从未见过苹果的示例代码以不同的方式进行。

这是一个示例：

```
ABRecordRef ABWhatIsThis= (__bridge ABRecordRef)([self.allMyContacts objectAtIndex:indexPath.row]);

NSString * strName= CFBridgingRelease (ABRecordCopyCompositeName (ABWhatIsThis)); 
```

原因是当我想将某些东西从 NS 土地转换为 CF 土地时，我不想改变所有权。ARC 将保持 NS 土地上的保留计数，并使 CF 土地中的对象保持活动状态，直到其 NS 土地对应部分被破坏。

这就是为什么我用`ABRecordRef ABWhatIsThis= (__bridge ABRecordRef)`

如果我将某些东西从 CF 土地转换为 NS 土地，我将使用 CFBridgingRelease。原因是一旦我得到一个指向 CFBridging 的 ARC 对象，我就不会让 CFBridging 保留这些东西。

但是，我仍然感到困惑。当我应该使用 CFBridgingRelease 时，是否有硬性规定？

我还注意到没有 CFBridging 这样的东西。只有 CFBridgingRelease 和 CFBridgingRetain。我想知道为什么不平衡。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:07:22.943

`__bridge` transfers a pointer between Objective-C and Core Foundation with no transfer of ownership.

`__bridge_retained` or `CFBridgingRetain` casts an Objective-C pointer to a Core Foundation pointer and also transfers ownership to you. You use this functions to cast an Objective-C object as Core Foundation-style object and take ownership of the object so that you can manage its lifetime. You are responsible for subsequently releasing the object

# perl - 将 file1 中的数据范围与 file2 匹配

> ID：15677710
> 
> 赞同：0
> 
> 时间：2013-03-28T08:59:14.400
> 
> 标签：perl, bash

我有两个文件，即 file1.txt 和 file2.txt，其中包含如下数据：

文件1.txt

```
953503-955502
1284493-1286492
2158134-2160133
2564482-2566481
2983742-2985741
4713105-4715104
6259680-6261679
.... 
```

文件2.txt

```
245201276-245202076
245201286-245202086
245201302-245202102
245201323-245202123
245201338-245202138
245201344-245202144
.... 
```

这两个文件都有超过 3000 个数据。

在这个集合中，我想从数据范围内的数据范围内进行匹配，`file1.txt`并`file2.txt`在新文件中获取输出。

如何匹配文件中的数据范围。请给我一些建议。提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:12:06.640

使用 diff，它是 linux 命令的构建。很聪明

# c++ - 如何处理 C++ 内联 + 模板上下文中的警告？

> ID：15677720
> 
> 赞同：2
> 
> 时间：2013-03-28T08:59:37.573
> 
> 标签：c++, visual-studio-2010, templates, inline, afx

我面临一个有趣的问题：我在 Visual C++ 6.0 中有一个 MFC 应用程序项目。由于 MFC 或 C++ 标准中有很多变化，我想将我的应用程序移植到 Visual Studio 2010。这很好，但我现在面临一个警告，我无法处理。

头文件具有以下类定义：

```
template <class T>
class foo : public CObject
{
// ...
// other stuff
// ...
private:
    CTypedPtrMap<CMapWordToPtr, const long, T*> oElementMap;
    void some_stuff();
} 
```

在源文件中有：

```
template <class T>
void foo::some_stuff()
{
// ...
// other stuff
// ...
    int nIndex = 0;
// ...
// other stuff
// ...
    oElementMap.RemoveKey(nIndex);
} 
```

当我尝试编译它时，我收到以下警告：

> 警告 1 警告 C4244：'argument'：从 'const long' 转换为 'WORD'，可能丢失数据 c:\programme\microsoft visual studio 10.0\vc\atlmfc\include\afxtempl.h 2066

它绝对来自上面提到的“RemoveKey”行：如果我只是简单地注释掉该行，我将不会收到此警告。

我知道，主要问题是，该`CTypedPtrMap`对象`const long`用作键类型，但`CMapWordToPtr`会用`WORD`(unsigned short) 代替它。但事实是：我需要 const long 作为键类型，因为我在这个映射中经常处理大约 100 万个数据条目，所以`unsigned short`这个类将无法进一步完成它的工作。

我尝试将“RemoveKey”行或包含的嵌套`stdafx.h`到以下表达式中，但都不起作用：

```
#pragma warning (disable: 4244)
// expression
#pragma warning (default: 4244) 
```

请与我分享有关此问题的任何想法，我如何在不更改容器的`oElementMap`定义和行为、不在项目设置中全局抑制/禁用此警告以及不更改`afxtempl.h`VS2010 提供的文件的情况下解决此警告。

感谢帮助：

安德鲁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-06-21T14:13:44.990

我已将其定义替换为：`CMap<long, long&, T*, T*&> oElementMap;`. 我不确定它是否是旧地图定义的“长期对应物”，因此我做了几个测试来比较它们。

解决方案终于是这样了。

# java - 嵌套 iText PdfPTable 边框宽度

> ID：15677726
> 
> 赞同：1
> 
> 时间：2013-03-28T08:59:51.900
> 
> 标签：java, border, itext, itextpdf

我正在使用 iTextPdf 生成 pdf，并且正在使用以下代码创建嵌套表。

```
PdfPTable table = new PdfPTable(3);
PdfPTable nestedTable = new PdfPTable(2);
table.addCell(nestedTable); 
```

现在，我希望 的边框宽度为`table`0，即不可见。我已经检查了 api 和一些关于 SO 的帖子，但我找不到任何实质性的东西。有没有办法这样做？

我正在使用 iText 5.1.2 版

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-29T06:04:18.500

在 iText PDF api 中，没有这样的属性可以直接操作边框，但是随着`PdfPCell`扩展`Rectangle`它必须`setBorder`操作边框。所以我刚刚使用了与下面提供的解决方法相同的方法：

```
PdfPTable table = new PdfPTable(2);
PdfPTable nestedTable1 = new PdfPTable(1);
PdfPTable nestedTable2 = new PdfPTable(1);

PdfPCell cell = new PdfPCell(new Phrase("StackOverflow"));
newCell.setBorder(Rectangle.NO_BORDER);

nestedTable1.addCell(cell);
nestedTable2.addCell(new Phrase("StackOverflow"));

cellOne = new PdfPCell(nestedTable1);
cellTwo = new PdfPCell(nestedTable2);

cellOne.setBorder(Rectangle.NO_BORDER);

table.addCell(cellOne);
table.addCell(cellTwo); 
```

输出：

```
 _______________________
                           |                       | 
      StackOverflow        |     StackOverflow     |
                           |_______________________| 
```

# iphone - viewWillAppear 没有在 iOS 中调用

> ID：15677731
> 
> 赞同：0
> 
> 时间：2013-03-28T09:00:08.253
> 
> 标签：iphone, ios, xcode

我创建了三个名为`A`和`B`的视图控制器`C`。 `C`视图控制器是视图控制器的子视图`B`，在执行时`A`视图被推送到`B`。`C`的 View Controller 委托方法`viewWillAppear`未调用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:06:43.537

**问题在于IOS版本。**

在将另一个视图控制器的视图（viewControllerC.view）作为子视图添加到现有视图控制器（viewControllerB）时，`viewWillAppear:()`viewControllerC`viewDidAppear:()`不会**在 ios 5.0 早期版本中触发**。如果您需要调用，则通过检查设备 ios 版本手动调用此方法。

您可以检查 ios 版本并像这样手动调用委托方法...

```
 [viewControllerB addSubview:viewControllerC.view];
 if ([[UIDevice currentDevice].systemVersion doubleValue] < 5.0) 
    {
        [viewControllerC viewWillAppear:YES];
        [viewControllerC viewDidAppear:YES];
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:42:02.260

你说C的视图控制器是B的子视图。

我假设你正在做类似的事情：

```
UIViewController *viewControllerB = [[UIViewController alloc] init];
UIViewController *viewControllerC = [[UIViewController alloc] init];

//add C's view to B
[[viewControllerB view] addSubview:[viewControllerC view]]; 
```

如果是这样，那么您需要将 viewController C 添加为 B 的子 viewController。

```
//you need to set C to be a child view controller of B
[viewControllerB addChildViewController:viewControllerC]; 
```

这应该确保正确调用适当的 viewWill/viewDid 方法。

# javascript - jqGrid - 添加和编辑时的不同编辑规则

> ID：15677732
> 
> 赞同：0
> 
> 时间：2013-03-28T09:00:09.910
> 
> 标签：javascript, jquery, jqgrid

我在 jqGrid 中遇到了 navGrid 的问题

这是我的代码

```
<table id="list2"></table> 
<div id="pager2"></div>

jQuery("#list2").jqGrid('navGrid','#pager2',
    {edit:false,add:true,del:false,search:false},
    { //Edit dialog options
        beforeCheckValues: function(postdata, formid, mode) {
            jQuery("#list2").setColProp('Login',{ editrules:{required :false }});
      }
    },
    {
        beforeCheckValues: function(postdata, formid, mode) {
            jQuery("#list2").setColProp('Login',{ editrules:{required :true }}); 
      }
    },
    {}, {}); 
```

为什么它不起作用？一切都应该没问题...每次我添加或编辑现有行时，它仍然是必需的；\但编辑时不需要登录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:02:23.000

好吧，那算了。我刚刚想通了。

使用`navGrid`时不能在`colModel`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:09:16.113

我认为可以通过使用[recreateForm: true](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aform_editing#properties) property of form editing 来解决这个问题。您应该为“添加”和“编辑”表单设置属性。

# oauth - 使用 Scribe 刷新 LinkedIn 访问令牌

> ID：15677734
> 
> 赞同：2
> 
> 时间：2013-03-28T09:00:17.043
> 
> 标签：oauth, linkedin, access-token, scribe

我正在使用 Scribe 访问 LinkedIn API。我将访问令牌与访问令牌秘密一起保存在数据库中，并在每次调用 API 时使用它们。

访问令牌应该在生成后 60 天过期。

我想在访问令牌过期之前自动刷新它。在没有用户干预的情况下，我无法找到以编程方式执行此操作的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T17:49:02.410

如果没有用户的干预，您不应该能够刷新访问令牌。该系统是这样设计的，以保护用户的数据不被无限期地访问。

Linkedin 希望确保您无法访问用户的数据，除非他们正在积极使用您的应用程序。对我来说，如果用户在 60 天内没有访问您的应用程序，则意味着他们没有使用它，您应该无法访问该数据。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:04:28.860

```
 @params={:"oauth_token"=>"XXXXXXXXXXX", 
 :oauth_token_secret=>"XXXXXXXXXXX", 
 :oauth_expires_in=>"5184000"} 
```

# javascript - “呼叫/申请”和“绑定”有什么区别

> ID：15677738
> 
> 赞同：32
> 
> 时间：2013-03-28T09:00:28.917
> 
> 标签：javascript, function, call, bind, apply

```
var obj = {
   x: 81,
   getX: function() { 
     console.log( this.x) 
   }
};
var getX = obj.getX.bind(obj);//use obj as 'this';
getX();//81
var getX = function(){
  obj.getX.apply(obj); 
}
getX();//also 81 
```

bind 和 call/apply 的使用看起来很像，我想知道它们有什么区别。上面的两个 getX 函数是一样的吗？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-03-28T09:02:31.360

`bind`返回一个函数，该函数的作用类似于原始函数，但具有`this`预定义。当您想要将函数传递给事件处理程序或其他异步回调时，通常使用它。

`call`并将`apply`立即调用一个函数，让您指定`this`函数将接收的值和任何参数。

您的第二个示例定义了一个匿名函数，该函数调用`apply`. 这是一种常见的模式；`bind`提供了一个标准实现，允许您通过简单的函数调用来完成它（因此更快更容易编写）。

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2013-03-28T09:02:57.647

`.call()`- 使用指定的参数调用相同的函数

`.apply()`- 使用数组中指定的参数调用相同的函数

`.bind()`- 创建一个具有相同函数体的新函数，预设值为`this`（第一个参数）并返回该函数。

在所有情况下，第一个参数都用作`this`函数内部的值。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-28T09:03:15.887

不同之处在于您拨打电话的方式。如果您曾经使用`bind`绑定值取回函数`this`，则只需调用该函数：

```
getx(); 
```

如果您没有绑定函数，并且想要设置`this`，请使用`call`or执行此操作`apply`：

```
someFunction.call(objectToUseAsThis, arg1, arg2);
// or
someFunction.apply(objectToUseAsThis, [arg1, arg2]); 
```

请注意，如果你有一个绑定函数（比如你的`getX`），使用`call`它是没有意义的，因为`this`你提供的只会被 bound 覆盖`this`。（使用`apply`可能仍然有用，如果你有一个值数组你想作为参数。）

# c++ - 具有 2 个或更多显卡的设备上的显卡型号？

> ID：15677739
> 
> 赞同：0
> 
> 时间：2013-03-28T09:00:28.840
> 
> 标签：c++, directx, graphic

如何找到设备上所有显卡的型号？我正在使用`GetAdapterIdentifier()`，`GetAdapterCount()`但它只获得集成图形卡。你有更好的主意吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T11:12:47.883

您可以使用 IDXGIFactory1::EnumAdapters 枚举适配器。使用 MSDN 文档花了 30 秒才发现这一点。

# git - Git：领先和落后。怎么解决？

> ID：15677746
> 
> 赞同：29
> 
> 时间：2013-03-28T09:00:53.030
> 
> 标签：git, project-management

我对`1 ahead`and有一个承诺`6 behind`。

在这种情况下我该怎么办？

我认为，该解决方案可能是这样的： `git push` 然后 `git pull`

但我认为，它只能解决`Behind`.
也许我错了。

```
-------*------*-----*-----*-----B
        \
         \
          \
           *-------A 
```

我做我的一部分并改变sdk。
现在我想与`B`.

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-03-28T10:32:23.460

`git pull`（或者更确切地说，`git merge`这样做的部分`pull`）将“解决”“前面”和“后面”。

**branch is X commits behind**表示当前分支正在跟踪的分支上有 X 个新的（未合并的）提交。

**branch is X commits ahead**类似地意味着您的分支有 X 个新提交，尚未合并到跟踪的分支中。

一旦拉取（从而将远程更改合并到本地更改）并推送（从而将更改和合并发布到远程），您自己的分支和远程分支将指向同一个提交，因此两者都不领先或在后面。

# android - 我需要一种付款方式来测试应用计费吗？

> ID：15677752
> 
> 赞同：4
> 
> 时间：2013-03-28T09:01:21.860
> 
> 标签：android, testing, in-app-billing

我正在尝试使用我自己的产品 ID 为 android 测试应用内计费（版本 3）。我已将一个概念上传到 Play 商店，添加了我的 gmail 帐户以进行许可证测试，并在我的设备上安装了相同的应用程序版本。

当我尝试测试我的应用内计费时，它会询问我的付款方式。这是正常的吗？还是忘记了测试 IAB 的东西？

**编辑** 静态产品工作正常。但是我如何测试我自己的产品 ID

# ios - iOS：从自定义方法将数据添加到表视图

> ID：15677755
> 
> 赞同：0
> 
> 时间：2013-03-28T09:01:40.860
> 
> 标签：ios, uitableview

我有一个 iPhone 应用程序使用 OAuth 连接到服务器。成功后，它会从服务器获取用户。同样，一旦成功，它就会将一个项目添加到填充表格视图的对象数组中。这是执行此操作的代码：

```
- (void)setEditing:(BOOL)editing animated:(BOOL)animated
{
    if (editing) {
        [super setEditing:YES animated:YES];

        self.backButton = self.navigationItem.leftBarButtonItem;

        UIBarButtonItem *leftButton = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:@selector(signInWithCatapult)];
        self.navigationItem.leftBarButtonItem = leftButton;
    } else {
        [super setEditing:NO animated:YES];

        self.navigationItem.leftBarButtonItem = self.backButton;
    }
}

- (void)signInWithCatapult
{
    [self signOut];

    GTMOAuth2Authentication *auth = [self catapultAuthenticaiton];
    NSURL *authURL = [NSURL URLWithString:@"https://oauth.lvh.me:3000/oauth/authorize"];
    GTMOAuth2ViewControllerTouch *viewController;
    viewController = [[GTMOAuth2ViewControllerTouch alloc] initWithAuthentication:auth
                                                                 authorizationURL:authURL
                                                                 keychainItemName:kCatapultKeychainItemName
                                                                         delegate:self
                                                                 finishedSelector:@selector(viewController:finishedWithAuth:error:)];

    [[self navigationController] pushViewController:viewController animated:YES];
}

- (GTMOAuth2Authentication *)catapultAuthenticaiton
{
    NSURL *tokenURL = [NSURL URLWithString:kDoorkeeperTokenURL];
    NSString *redirectURI = @"https://catapultcentral.com/iOSClientCallback";

    GTMOAuth2Authentication *auth;

    auth = [GTMOAuth2Authentication authenticationWithServiceProvider:@"Catapult Central"
                                                             tokenURL:tokenURL
                                                          redirectURI:redirectURI
                                                             clientID:kDoorkeeperClientID
                                                         clientSecret:kDoorkeeperClientSecret];

    return auth;
}

- (void)signOut
{

}

- (void)viewController:(GTMOAuth2ViewControllerTouch *)viewController
      finishedWithAuth:(GTMOAuth2Authentication *)auth
                 error:(NSError *)error
{
    if (error != nil) {
#if DEBUG
        NSLog(@"ERROR: %@", error);
#endif
    } else {
        NSURL *url = [NSURL URLWithString:@"https://api.lvh.me:3000/api/users/me"];
        NSURLRequest *request = [NSURLRequest requestWithURL:url];
        GTMHTTPFetcher *fetcher = [GTMHTTPFetcher fetcherWithRequest:request];
        [fetcher setAuthorizer:auth];
        [fetcher beginFetchWithDelegate:self didFinishSelector:@selector(currentUserFetcher:finishedWithData:error:)];
    }
}

- (void)currentUserFetcher:(GTMHTTPFetcher *)fetcher
          finishedWithData:(NSData *)data
                     error:(NSError *)error
{
    if (error != nil) {
#if DEBUG
        NSLog(@"ERROR: %@", error);
#endif
    } else {
        NSLog(@"Before: %@", self.accounts);
        [self.tableView beginUpdates];
        [self.accounts addObject:@"Success!!!"];
        [self.tableView endUpdates];
//        [self.tableView reloadData];
        NSLog(@"After %@", self.accounts);
    }
} 
```

在`currentUserFetcher:finishedWithData:error:`我将对象添加到`self.accounts`可变数组的方法中。现在，如果我使用此代码它不起作用：

```
[self.tableView beginUpdates];
[self.accounts addObject:@"Success!!!"];
[self.tableView endUpdates]; 
```

它在以下行失败并`[self.tableView endUpdates];`显示以下错误消息：

```
2013-03-28 08:56:21.040 Catapult for iOS[55012:c07] *** Assertion failure in -[UITableView _endCellAnimationsWithContext:], /SourceCache/UIKit_Sim/UIKit-2380.17/UITableView.m:1054 
```

在线上`endUpdates`，XCode 抱怨说`Thread 1: breakpoint 1.3`. 现在，如果我使用此代码，它可以正常工作：

```
[self.accounts addObject:@"Success!!!"];
[self.tableView reloadData]; 
```

现在我怀疑它失败了，因为我向`self.accounts`实例变量添加了一个对象，但实际上并没有添加单元格。所以我的问题是：**如何从`currentUserFetcher:finishedWithData:error:`方法中向 tableView 添加一个单元格？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:06:32.597

If you just override this method:

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath; 
```

Calling [UITableView reloadData] should just work itself out. The UITableViewController will just ask the amount of data (cells) that are there (using "tableView:numberOfRowsInSection:") and is requesting the Cell for every indexPath using the first mentioned method.

# c++ - Visual Studio & C++：使用过滤器作为目录

> ID：15677756
> 
> 赞同：26
> 
> 时间：2013-03-28T09:01:47.230
> 
> 标签：c++, visual-studio, visual-studio-2012, solution

我使用**Visual Studio 2012 Professional**和**C++**。在创建所谓的“过滤器”并向其中添加源文件时，解决方案资源管理器中的文件被划分为子目录，而在文件系统上它们都在同一目录中（项目目录）

**问题：**我想将文件添加到过滤器，同时将其添加到文件系统上的相应目录。除了手动移动文件之外，如何实现这一点？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-28T09:19:18.163

一种替代方法是在解决方案资源管理器顶部菜单中切换到“显示所有文件”。

这样您就可以移动和管理文件夹中的文件。

过滤器不会被使用。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2016-01-10T20:42:08.350

“显示所有文件”解决方案对我不起作用，因为在我的情况下，源文件不在包含项目文件的目录下。

最后我写了一个 VS 扩展，它允许您通过上下文菜单调用命令来自动组织项目内部的过滤器结构或磁盘上的文件结构。我想你们中的一些人可能也对该扩展感兴趣：

[https://github.com/reloZid/vc-fileutils](https://github.com/reloZid/vc-fileutils)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-28T09:06:25.020

我只知道这种解决方法：您首先在 Windows 资源管理器中创建文件夹结构，然后将文件/文件夹从 Windows 资源管理器拖放到 Visual Studio 的解决方案资源管理器中。它会将它们全部添加为 Visual Studio 的“过滤器”！

# java - 从 mysql 数据库中检索图像时引发异常

> ID：15677758
> 
> 赞同：2
> 
> 时间：2013-03-28T09:02:01.817
> 
> 标签：java, mysql, image, swing, awt

我想以二进制格式存储图像并以二进制格式检索它并以图像格式显示它。我能够以二进制格式存储文件，但是在检索它时出现错误 java 空指针异常。请指出错误。这是代码：

```
import java.awt.Image;
import java.awt.Toolkit;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class InsertImageTest {
int len;
    /**
     * This is used to get the Connection
     * 
     * @return
     */
    public Connection getConnection() {
        Connection connection = null;
        Statement stmt = null;
        try {
            Class.forName("com.mysql.jdbc.Driver");
            connection = DriverManager.getConnection(
                    "jdbc:mysql://localhost:3306/test", "root", "spanwave");
        } catch (Exception e) {
            System.out.println("Error Occured While Getting the Connection: - "
                    + e);
        }
        return connection;
    }

    /**
     * Insert Image
     */
     public Image getImageFile(String fileName) throws Exception {
InsertImageTest ins= new InsertImageTest();
Connection con=ins.getConnection();
Statement stmt=con.createStatement();
          //  String baseName=StoreImage.getBaseName(fileName);
            ResultSet rs=stmt.executeQuery("select * from trn_imgs where img_title='"+"Honda Car"+"'");
            if (!rs.next()) {
              System.out.println("Image:"+"honda car"+" not found");
              return null;
            }
           // int len=rs.getInt(2);

            byte [] b=new byte[len];
            InputStream in = rs.getBinaryStream(3);
            int n=in.read(b);
            System.out.println("n: "+n);
            in.close();
            Image img=Toolkit.getDefaultToolkit().createImage(b);
            System.out.println("Image: "+"honda car"+" retrieved ok, size: "+len);
            return img;
          }
    public void insertImage() throws IOException {
        Connection connection = null;
        PreparedStatement statement = null;
        FileInputStream inputStream = null;

        try {
            File image = new File("calender.png");
            inputStream = new FileInputStream(image);
            len=inputStream.available();
            connection = getConnection();
            statement = connection
                    .prepareStatement("insert into trn_imgs(img_title, img_data) "
                            + "values(?,?)");
            statement.setString(1, "Honda Car");
            statement.setBinaryStream(2, (InputStream) inputStream,
                    (int) (image.length()));

            statement.executeUpdate();
        } catch (FileNotFoundException e) {
            System.out.println("FileNotFoundException: - " + e);
        } catch (SQLException e) {
            System.out.println("SQLException: - " + e);
        } finally {
            try {
                connection.close();
                statement.close();
            } catch (SQLException e) {
                System.out.println("SQLException Finally: - " + e);
            }
        }

    }

    /***
     * Execute Program
     * 
     * @param args
     * @throws Exception 
     */
    public static void main(String[] args) throws Exception {
        InsertImageTest imageTest = new InsertImageTest();
        imageTest.insertImage();
    Image img=  imageTest.getImageFile("calender.png");
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:03:44.213

除非您的代码中缺少某些内容：

```
 Statement stmt = null;
      //  String baseName=StoreImage.getBaseName(fileName);
        ResultSet rs=stmt.executeQuery("select * from trn_imgs where

 //stmt is null, right? 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T09:07:37.693

```
connection = getConnection();
 Statement stmt = connection.createStatement();
 ResultSet rs=stmt.executeQuery("select * from trn_imgs where img_title='"+"Honda Car"+"'"); 
```

# c# - 如何以编程方式将允许规则添加到 iis？

> ID：15677764
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:02:26.757
> 
> 标签：c#, iis-7, active-directory

我想问一下如何以编程方式将允许规则添加到 IIS。

在我的示例中，我将通过“DirectoryEntry”动态创建一个 IIS 虚拟目录，然后我想将授权设置为特定用户而不是所有用户。那么，我应该如何使用 C# 来实现呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:11:23.147

你试过用谷歌搜索答案吗？一个快速的谷歌，这些是我找到的一些链接。我知道第一个是用 VB 编写的，但你可以很容易地转换它。

[MSDN 非常相似的问题](http://social.msdn.microsoft.com/Forums/en-US/vbgeneral/thread/6ae0449f-9b4a-4634-b54d-6bc19a3d3961/)
[博客描述了如何在 C#](http://chiragrdarji.wordpress.com/2007/06/20/createdeleteview-virtual-directory-or-website-in-iis-using-c/)
[MSDN 托管授权类中创建\删除和查看虚拟目录](http://msdn.microsoft.com/en-us/library/microsoft.web.management.server.managementauthorization%28v=vs.90%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-18T02:53:47.143

我最终采用的方法是制作一个如下所示的 Web 配置模板，

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
<system.webServer>
<security>
<authorization>
<remove users="*" roles="" verbs="" />
<add accessType="Allow" users="{0}" />
</authorization>
</security>
</system.webServer>
</configuration> 
```

然后将用户替换为我要授权的用户，然后将网络配置文件写入虚拟目录。

# c++ - Doxygen 的文档 - ± &infin

> ID：15677769
> 
> 赞同：0
> 
> 时间：2013-03-28T09:02:34.193
> 
> 标签：c++, doxygen, infinite

我使用 Doxygen 生成文档：在 *.h 文件中，我编写了文档的正文。对于以下行：

```
/// arguments and results are not NaNs or &plusmn; &infin;. 
```

生成不完整的文本：

```
 arguments and results are not NaNs or . 
```

你能分享你的建议/s什么以及如何解决这个问题？

# java - 是一种在 oc4j 10.1.3.5 上运行 jsf 2.0 的方法吗？

> ID：15677773
> 
> 赞同：0
> 
> 时间：2013-03-28T09:02:47.803
> 
> 标签：java, jsf-2, oc4j

我正在尝试在 oc4j 服务器 10.1.3.5 上运行 jsf 2.0 但问题 oc4j 服务器支持 servlet 2.4 。
是一种让servet 使用servlet 2.5 来支持jsf 2.0 的方法吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:16:13.217

很简单，没有。您必须将服务器升级到至少支持 Servlet 2.5（以及更好的 3.0）的服务器。

# android - 溢出：滚动在Android手机中不起作用

> ID：15677776
> 
> 赞同：0
> 
> 时间：2013-03-28T09:02:58.097
> 
> 标签：android, html, css

嗨，我使用 overflow:scroll 在我的应用程序中滚动，但它不适用于 Android 手机。我不知道是什么原因，但是当我在网上搜索时，它显示手机下面的 Android 版本 3.0 不支持溢出：滚动。请建议一种方法如何在我的应用程序中为 3.0 以下的 Andoriod 手机使用滚动

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:05:50.483

Try to Use the [ScrollView](http://www.androidaspect.com/2012/02/scrollview-tutorial-android-ui.html) like this in your application. Also remember that android scrollview can hold only one view in it. So, if you want to have more than one view inside a scrollView put all those Views(ImageView, TextView, OtherLayouts etc) inside a single Layout and wrap it with the ScrollView.

# asp.net - asp.net mvc3 错误信息

> ID：15677777
> 
> 赞同：0
> 
> 时间：2013-03-28T09:03:12.823
> 
> 标签：asp.net, asp.net-mvc-3, error-handling

在我的编辑视图中，我需要用户输入测试版本的开始日期和结束日期。现在我必须确保如果用户想在开始日期之前保存结束日期，他会收到一条错误消息。例如开始日期 01.02.12 和结束日期 01.01.2013！

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:46:44.870

快速而肮脏（某种）的方式 - 在您的控制器方法中添加以下代码：

```
if (data.StartDate > data.EndDate)
    this.ModelState.AddModelError("EndData", "End date must be after the start date.");

if (!this.ModelState.IsValid)
    return this.View(); 
```

更好（或更清洁）的解决方案是为模型创建自定义验证属性。[一个例子](http://byatool.com/mvc/custom-data-annotations-with-mvc-how-to-check-multiple-properties-at-one-time/)。

# jquery - 如何在 jquery 编程中关闭资源管理器窗口（带有所有选项卡）？

> ID：15677778
> 
> 赞同：0
> 
> 时间：2013-03-28T09:03:13.163
> 
> 标签：jquery

您能否建议我使用 jQuery 中的合适代码来关闭资源管理器窗口（Internet Explorer、google chrome、firefox 等）？目前我使用了一些代码，例如：window.close()、self.close()。使用此代码时，它在 Internet Explorer 中只能关闭一个选项卡。如果它包含多个选项卡，它不会关闭整个窗口。这也不适用于 chrome 和 firefox。所以，请分享您对此问题的经验。

# ruby-on-rails - 安装 Rails - 它说我没有，即使我做了

> ID：15677790
> 
> 赞同：0
> 
> 时间：2013-03-28T09:03:53.197
> 
> 标签：ruby-on-rails, ruby-on-rails-3, installation

我正在尝试运行

```
rails new demo 
```

但被告知：

```
Rails is not currently installed on this system. To get the latest version, simply type:
$ sudo gem install rails
You can then rerun your "rails" command. 
```

我运行该命令，然后运行许多“获取”行，然后运行许多“正在为...安装 RDoc 文档”，但最后几行说：

```
Installing RDoc documentation for rails-3.2.13...
file 'lib' not found 
```

然后它停止运行，'rails' 命令（见上文）仍然无法工作。为什么没有安装 Rails？我还应该做什么？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:09:50.707

看起来这是 rdoc 相关的。短版，试试：

```
gem install rdoc 
```

然后再次启动 rails 的安装。

看看[这个答案](https://stackoverflow.com/questions/4129882/rails-3-install-error-file-not-found-lib)，似乎可以帮助很多人解决这个确切的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:13:25.480

我解决了它：显然我试图在目录中安装 rails。我做了以下事情，效果很好：

```
cd / 
```

然后我跑了

```
sudo gem install rails 
```

然后我`cd`再次进入相关目录

```
rails new demo 
```

工作！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T11:57:55.297

执行“sudo gem install rails”不是一个好主意，因为将来您的应用程序可能会遇到权限问题。

我建议您使用[RVM](http://rvm.io) ，它是一个 ruby​​ 版本管理器。您可以轻松安装不同版本的 Rubies，您可以创建特定于应用程序的 gemset，并最大限度地减少未来可能出现的“rails is not installed”错误。

我强烈建议您搜索和阅读这些概念：

*   虚拟机
*   宝石
*   .rvmrc
*   .bashrc 和 .bash_profile

# java - 在 UI 上进行数据验证时如何“忽略/丢弃”Swing UI 事件？

> ID：15677798
> 
> 赞同：2
> 
> 时间：2013-03-28T09:04:17.560
> 
> 标签：java, swing

有一个文本字段，当失去焦点时，它将验证输入，如果未通过，则打印出错误消息（简单来说这里只有一个空检查）。文本字段旁边有一个按钮，单击它会打印出文本。

正如我所尝试的，当输入一些文本然后单击按钮时，它将触发文本字段的焦点丢失事件和按钮事件。换句话说，它将首先进行验证，然后打印出输入文本。

我的问题**来了，如果验证未通过，防止打印出文本的好方法是什么？或者如果验证未通过，有没有办法“忽略”按钮上的点击事件？**

我尝试使用指示验证结果的布尔标志并在执行按钮操作时检查标志，但我认为这不是一个好方法。我知道 Swing 中有一个事件调度程序线程处理事件，我可以从这里取消事件吗？

下面是一段解释问题的代码：

```
public class SimpleDemo
{
    public static void main(String[] args)
    {
        JFrame frame = new JFrame("Demo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel content = new JPanel(new FlowLayout());
        frame.setContentPane(content);

        final JTextField textField = new JTextField(10);
        textField.addFocusListener(new FocusAdapter()
        {
             @Override
             public void focusLost(FocusEvent e)
             {
                 String text = textField.getText();
                 // do some validation here, if not validated 
                 // do not trigger the event on button.
                 if ("".equals(text))
                 {
                     System.out.print("please input a text!");
                 }
             }
        });
        content.add(textField);

        JButton button = new JButton("Print Text");
        button.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                // action performed for button
                String text = textField.getText();
                System.out.println(text);
            }
        });
        content.add(button);

        frame.setVisible(true);
        frame.pack();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:12:17.457

我在处理应用程序时遇到了类似的问题。我像下面这样解决了我创建了一个抽象类`ApplicationFrame`，应用程序中的每个框架都扩展了它

```
public abstract class ApplicationFrame extends JFrame implements ActionListener {
    @Override
    final public void actionPerformed(ActionEvent event) {
        if(validateInput()){
             performAction(event);
        }
    }

    /*
    * Sub class should override this method to receive any action
    */
    protected void performAction(ActionEvent event) {};

    /*
     * Sub class should override this method to perform validation
    */
    abstract protected boolean validateInput();
} 
```

现在，所有框架都将扩展此基础框架，如下所示：

```
public class Frame1 extends ApplicationFrame{
    @Override
    protected void performAction(ActionEvent event) {
        // perform action
    }
    @Override
    protected boolean validateInput() {
        // return true or false depending upon the validation results
    }
    // if you want to add Action Listener, you need to add like this:
    btnSomeButton.addActionListener(this);
} 
```

如果需要处理 Focus 事件，可以 make`ApplicationFrame`或 base frame 实现`FocusListener`。这是我解决问题的自定义实现，希望对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T11:23:26.413

让 ui 与用户交流总是有意义的。因此，当用户未输入任何内容时，您可以将“请输入文本”显示为 textField 的默认文本。这是此类自定义文本字段的代码：

```
public class TextFieldWithDefaultText extends JTextField implements FocusListener{

private final String hint;

public TextFieldWithDefaultText (String $text)
{
    super($text);
    this.hint = $text;
    addFocusListener(this);
}

@Override
public void focusGained (FocusEvent $e)
{
    if (this.getText().isEmpty())
    {
        super.setText("");
    }
}

@Override
public void focusLost (FocusEvent $e)
{
    if (this.getText().isEmpty())
    {
        super.setText(hint);
    }
}

@Override
public String getText ()
{
    String typed = super.getText();
    return typed.equals(hint) ? "" : typed;
} 
```

}

为您的按钮编写 actionListerner，如下所示：

```
JButton button = new JButton("Print Text");
    button.addActionListener(new ActionListener()
    {
        @Override
        public void actionPerformed(ActionEvent e)
        {
            if(!textField.getText().isEmpty())
                System.out.println(textField.getText());
        }
    }); 
```

你的 textField 实现应该是：

```
final TextFieldWithDefaultText textField = new TextFieldWithDefaultText ("please input a text"); 
```

希望这可以帮助 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:16:35.277

*   在启动时禁用按钮
*   失去焦点后，仅在输入通过验证时验证文本和启用按钮。
*   开始文本更改时，禁用按钮

# mysql - 使用codeigniter在mysql中插入多行

> ID：15677802
> 
> 赞同：0
> 
> 时间：2013-03-28T09:04:29.663
> 
> 标签：mysql, codeigniter

我正在尝试在 codeigniter 中上传多个带有描述的图像。一切都很好，图像已上传，图像文件名已发送到数据库但是“描述”不会进入数据库，我在哪里弄错了？

```
form code is like this 
  File 1: <input type="file" name="image1" /><br />
  Descr: <input type="text" name="description[]" size="50" value="" /><br/><br/>

  File 2: <input type="file" name="image2" /><br />
  Descr: <input type="text" name="description[]" size="50" value="" /><br/><br/>

  File 3:<input type="file" name="image3" /><br />
  Descr: <input type="text" name="description[]" size="50" value="" /><br/><br/> 
```

模型是这个

```
for($i = 1; $i < 6; $i++) {
                    /* Handle the file upload */
                    $upload = $this->upload->do_upload('image'.$i);
                    /* File failed to upload - continue */
                    if($upload === FALSE) continue;
                    /* Get the data about the file */
                    $data = $this->upload->data();

                    $uploadedFiles[$i] = $data;
                    /* If the file is an image - create a thumbnail */
                    if($data['is_image'] == 1) {
                        $configThumb['source_image'] = $data['full_path'];
                        $this->image_lib->initialize($configThumb);
                        $this->image_lib->resize();
                    }

                        $image['raw'] = $data['raw_name'];
                        $image['ext'] = $data['file_ext'];
                        $image['newsid'] = $_POST['newsid'];
                        $image['description'] = $_POST['description'][$i];
                        $this->db->insert('multipics', $image);
                } 
```

请注意，上面的代码插入了多行，我只需要描述字段进入数据库

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:09:01.377

将更改名称="description[]" 更改为 name="description

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T11:18:58.573

作为一种解决方法，我会首先在循环之外获取 POST 变量：

```
// (1) Get the POST description variable outside of the look     
// As a precaution, dump or echo $description to make sure it looks right...

$description_ = $this->input->post('description');

for ($i = 1; $i < 6; $i++)
{
    ...
    // Put some checks to make sure $i is an index...
     $image['description'] = $description[$i];
    ...
} 
```

试试这个，让我们知道你的进展情况！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T14:24:21.733

您可能还想查看 CI 的[insert_batch()](http://ellislab.com/codeigniter/user-guide/database/active_record.html#insert)方法。这将允许您通过一个查询插入所有记录。

# c# - 在另一个函数中调用返回布尔值的函数

> ID：15677806
> 
> 赞同：3
> 
> 时间：2013-03-28T09:04:58.203
> 
> 标签：c#, asp.net, boolean

我有以下函数需要在另一个函数中调用。我不知道该怎么做？

```
private int IsValidUser()
{            
    int result = 0;
    string strQuery = "Select Email From AUser Where Email = @Email And Password = @Password ";
    SqlConnection con = new SqlConnection(System.Configuration.ConfigurationManager.AppSettings["ConnectionString"]);

    SqlCommand Cmd = new SqlCommand(strQuery, con);
    //Cmd.CommandType = CommandType.StoredProcedure;

    Cmd.Parameters.AddWithValue("@Email", txtEmail.Text);
    Cmd.Parameters.AddWithValue("@Password", txtPassword.Text);
    con.Open();

    result = (int)Cmd.ExecuteScalar();

    if (result > 0)
    {
        //Session["SessionEmail"] = txtEmail.Text;
        Session[General.S_USEREMAIL] = txtEmail.Text;
        Response.Redirect("~/frmMyAccountMyProfile.aspx");
    }
    else
    {
        Literal1.Text = "Invalid Email/Password!";
    }
} 
```

我试图在按钮单击事件中将其称为如下。

```
protected void btnSignIn_Click(object sender, EventArgs e)
{
    // Authenticate User
    bool blnValidUser = false;
    IsValidUser();
    blnValidUser = Convert.ToBoolean(IsValidUser().result.Value);
    if (blnValidUser)
    {
        // on Success - If remember me > Save to cookies
        //SaveUserDetailsToCookie();                       
    }
    else
    {
        // on Failure - Show error msg
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:08:36.140

您的函数`IsValidUser`旨在返回一个 int

（无论出于什么原因我都不知道，因为它什么都不返回。这段代码永远不会编译。）

你可以通过让它返回一个`bool`这样的来修复它：

```
private bool IsValidUser()
{
        int result = 0;
        //since executeScalar is intended to retreive only a single value
        //from a query, we select the number of results instead of the email address
        //of each matching result.
        string strQuery = "Select COUNT(Email) From AUser Where Email = @Email And Password = @Password ";
        SqlConnection con = new SqlConnection(System.Configuration.ConfigurationManager.AppSettings["ConnectionString"]);

        SqlCommand Cmd = new SqlCommand(strQuery, con);
        //Cmd.CommandType = CommandType.StoredProcedure;

        Cmd.Parameters.AddWithValue("@Email", txtEmail.Text);
        Cmd.Parameters.AddWithValue("@Password", txtPassword.Text);
        con.Open();

        result = (int)Cmd.ExecuteScalar();

        //returning a boolean comparator works like this :
        //will return true if the result is greater than zero, but false if it is not.
        return result > 0;
} 
```

然后你可以像这样调用你的函数：

```
blnValidUser = IsValidUser(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:11:15.820

`IsValidUser`返回一个`int`显然没有`result`属性的。但我假设您只想使用该值：

```
int valUserResult = IsValidUser();
bool blnValidUser = valUserResult == 1; 
```

但是您应该首先考虑返回 a `bool`，因为这样更具可读性：

```
private bool IsValidUser()
{            
    bool result = false;
    // ...
    return result;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:09:04.497

**修改函数如下**

```
private int IsValidUser()
   {
    int result = 0;
    string strQuery = "Select Email From AUser Where Email = @Email And Password = @Password ";
    SqlConnection con = new SqlConnection(System.Configuration.ConfigurationManager.AppSettings["ConnectionString"]);

    SqlCommand Cmd = new SqlCommand(strQuery, con);
    //Cmd.CommandType = CommandType.StoredProcedure;

    Cmd.Parameters.AddWithValue("@Email", txtEmail.Text);
    Cmd.Parameters.AddWithValue("@Password", txtPassword.Text);
    con.Open();

    result = (int)Cmd.ExecuteScalar();

    if (result > 0)
    {
        //Session["SessionEmail"] = txtEmail.Text;
        Session[General.S_USEREMAIL] = txtEmail.Text;
        Response.Redirect("~/frmMyAccountMyProfile.aspx");
    }

    else
    {
        Literal1.Text = "Invalid Email/Password!";
    }
     return result;

}
} 
```

**并调用如下**

```
protected void btnSignIn_Click(object sender, EventArgs e)
 {
    // Authenticate User
    int blnValidUser = IsValidUser();
    //Check if blnValidUser is greater than 0.
    //IsValidUser() will return value greater than 0 if the sql is successful else will return 0
    if (blnValidUser > 0)
    {
        // on Success - If remember me > Save to cookies
        //SaveUserDetailsToCookie();                       
    }
    else
    {
        // on Failure - Show error msg

    }
} 
```

# ios - info.plist 用于不同的目标版本

> ID：15677816
> 
> 赞同：8
> 
> 时间：2013-03-28T09:05:37.867
> 
> 标签：ios

我的一个项目需要提供精简版/完整版和英文/法文版。我知道本地化和设置 info.plist/InfoPlist.strings 为不同的乱码。但如果我也希望为不同的目标版本（精简版/完整版）设置 info.plist。我能怎么做？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-28T09:11:18.480

当您创建一个新目标时，Xcode 将为新目标制作一份副本`info.plist`。在目标构建设置中，您甚至可以更改`info.plist`用于该目标的名称。

的默认名称`info.plist` 类似于`copy-info.plist`当您在文件系统上重命名文件时，请确保您也在构建设置中重命名它。您需要更改的构建设置键是`Info.plist File`.

# jquery - 为什么 JQuery scrollTop() 不起作用

> ID：15677817
> 
> 赞同：1
> 
> 时间：2013-03-28T09:05:38.027
> 
> 标签：jquery, scrolltop

我有两个`divs`，每个都有两个`classes`，**隐藏**和**显示**（响应式网络需要这些类）。

**HTML**

```
<!-- buttons -->
<div class="jump_to_raspored_busa_sidemenu">Cjenik</div>
<div class="jump_to_cjenik_sidemenu">Raspored</div>

<!-- parts -->
<div class="cjenik shown">Cjenik scroll</div>
<div class="zet_linije hidden">Zet linije</div>
<div class="zet_linije shown">Zet linije</div>
<div class="cjenik hidden">Cjenik scroll</div> 
```

**jQuery**

```
$('.jump_to_raspored_busa_sidemenu').on('click',function(){
    $("html, body").animate({ scrollTop: $('.cjenik').offset().top }, 1000);
});

$('.jump_to_cjenik_sidemenu').on('click',function(){
    $("html, body").animate({ scrollTop: $('.zet_linije').offset().top }, 1000);
}); 
```

当我单击 时`Cjenik`，`scrollTop`工作正常。但是当我点击 时`Raspored`，它不会向下滚动。

为什么它适用于`Cjenik`零件，但不适用于`Raspored`零件？

[JSFiddle](http://jsfiddle.net/34yGK/1/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:11:12.210

这是因为该类有两个元素，`.zet_linije`并且它与第一个元素匹配（它是隐藏的，因此它没有`offset top`）。

我正在使用你的`.shown`类来定位类的可见元素`.zet_linije`

试试这个：

```
$('.jump_to_cjenik_sidemenu').on('click',function(){
    $("html, body").animate({ scrollTop: $('.zet_linije.shown').offset().top }, 1000);
}); 
```

演示：http: [//jsfiddle.net/34yGK/5/](http://jsfiddle.net/34yGK/5/)

**它适用于您的另一个原因是因为如果我们查看 DOM**：

```
<div class="cjenik shown">Cjenik scroll</div>
<div class="zet_linije hidden">Zet linije</div>
<div class="cjenik hidden">Cjenik scroll</div>
<div class="zet_linije shown">Zet linije</div> 
```

该`shown`项目在 DOM 中是**第一个**`.cjenik`for ，因此当您简单地执行此操作时会返回该项目，`$(".cjenik").offset()` **而**for是`zet_linije`第`hidden`一个。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T09:11:25.980

这是工作。jQuery 无法区分隐藏的 div 和显示的 div。你需要像这样制作动画

```
$("html, body").animate({ scrollTop: $('.zet_linije.shown').offset().top }, 1000); 
```

见这里[http://jsfiddle.net/34yGK/3/](http://jsfiddle.net/34yGK/3/)

它适用于两个链接。只是 .cjenik 链接在 HTML 中更高

# raphael - Raphael js 链接动画

> ID：15677818
> 
> 赞同：1
> 
> 时间：2013-03-28T09:05:47.250
> 
> 标签：raphael

我试图强制一个动画在另一个结束后开始，根据文档，我应该包含一个回调函数，它应该在动画结束时调用。

但是，两个动画都是同时执行的……我做错了什么？

[http://jsfiddle.net/yBehH/](http://jsfiddle.net/yBehH/)

```
$(document).ready(function () {
    function drawBonuses() { 
        bonus = [3, 9, 10, 17];
        $.each(bonus,function(i,v) {
            gameboard.circle( v*20+20, 20, 0).animate( { fill: "#f00", r: 5 } , 100);
        });
    };

    gameboard = Raphael("gameboard", 440, 440);
    gameboard.clear();
    gameboard.rect(200, 200, 0, 0, 5).animate({fill: "#fff", height: 400, width: 400, x:20, y:20, stroke: "#000", "stroke-width": 20}, 2000, drawBonuses());
}); 
```

当板完全动画时，点应该开始动画......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:23:25.740

目前你有

```
obj.animate(..., drawBonuses()); 
```

ie`drawBonuses`立即调用并将返回值传递给`animate()`.
您想传递函数本身：

```
 obj.animate(..., drawBonuses); 
```

[http://jsfiddle.net/yBehH/2/](http://jsfiddle.net/yBehH/2/)

# c++ - 在处理之前完全接收 TCP/IP。如何知道是否已收到发送的全部数据？

> ID：15677821
> 
> 赞同：1
> 
> 时间：2013-03-28T09:05:54.223
> 
> 标签：c++, boost-asio

目前我正在通过以下方式同步接收数据

```
 boost::array<char, 2000> buf;
             while(true)
            {
                std::string dt;
                size_t len = connect_sock->receive(boost::asio::buffer(buf, 3000));
                std::copy(buf.begin(), buf.begin()+len, std::back_inserter(dt));
                std::cout << dt;
            } 
```

我的问题是这种方法是否足够有效以接收超过缓冲区大小的数据。有什么方法可以让我确切知道有多少数据可用，以便我可以相应地调整缓冲区大小？（这样做的原因是我的服务器向一个请求发送了一个特定的响应，该请求只有在整个响应存储在字符串变量中时才需要处理。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:26:02.290

如果您使用 TCP 发送数据，则必须在应用程序协议级别处理此问题。

例如，您可以为每个请求添加一个标头，其中包含构成请求的字节数。接收者在读取并解析了标头后，将知道需要读取多少字节才能获取请求的其余部分。然后它可以重复调用`receive()`，直到它获得正确的数据量。

# javascript - Is it good to have unique method names across your application?

> ID：15677822
> 
> 赞同：1
> 
> 时间：2013-03-28T09:05:58.187
> 
> 标签：javascript, refactoring, webstorm

I might have the same method name across different and disparate objects:

```
Frame.hide = function() {
//
}
Dialog.hide = function() {
//
}
Treasure.hide = function() {
//
} 
```

Is it good to keep method names across the application unique, such as:

```
Frame.hideFrame = function() {
//
}

Dialog.hideDialog = function() {
//
} 
```

The best efforts of an IDE such as Webstorm, can't differentiate between the 3 hide() methods in the top snippet. As our application is growing bigger and bigger (we are at around 80 classes now), it is becoming almost impossible to navigate around code sometimes because method names are the same, and refactoring becomes downright dangerous.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:20:10.400

嗯，这真的是一个品味问题。我个人不喜欢在函数中重复对象名称。所以我赞成：

```
Frame.hide = function() {}
Frame.show = function() {}
Frame.validate = function() {} 
```

超过：

```
Frame.hideFrame = function() {}
Frame.showFrame = function() {}
Frame.validateFrame = function() {} 
```

您的 IDE 绝不应该强迫您做一些可能不是更可取的事情，在这种情况下，您可能想要搜索另一个 IDE（Netbeans？）

# oracle - 无法查看oracle中创建类型是否成功

> ID：15677824
> 
> 赞同：0
> 
> 时间：2013-03-28T09:06:13.697
> 
> 标签：oracle, types

大家

当我尝试在本地 oracle 数据库中创建类型时，我遇到了一个问题。以下脚本已在服务器上成功运行

```
CREATE OR REPLACE TYPE EEP.Members AS OBJECT 
(
        id                         VARCHAR2(6),        
        name                       VARCHAR2(14),               
        email                      VARCHAR2(4)
)
/ 
```

也可以在本地oracle成功运行，问题是我要创建的类型仍然找不到，即使雕像显示“类型创建完成”

在我可以看到所有类型的地方，我无法打开选项（通常单击“加号”以查看更多详细信息），我不知道是权限问题还是其他问题..

我需要在我的笔记本电脑上做一些程序检查，而不是我被这个问题所困扰......

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:13:06.280

您可以使用

```
DESC type_name; 
```

来描述类型。

要查看系统中所有可用的类型，您可以运行

```
SELECT *
FROM user_objects
WHERE object_type = 'TYPE'
; 
```

# c# - 引用的 WCF 服务不使用 app.config

> ID：15677829
> 
> 赞同：1
> 
> 时间：2013-03-28T09:06:33.973
> 
> 标签：c#, wcf

我编写了一个在 DLL 中引用的 WCF 服务。在我添加该服务引用后，app.config 会自动生成所需的数据。

客户端正在使用 dll 与 wcf 服务进行通信……没什么特别的。但是当我试图创建服务引用的对象时......它崩溃了，说它无法找到端点地址。

我四处搜索并通过将绑定和地址传递给服务引用来修复它：

```
readonly BasicHttpBinding _binding = new BasicHttpBinding();
readonly EndpointAddress _address = new EndpointAddress("http://localhost:50309/CustomerService.svc");

using (CustomerServiceClient client = new CustomerServiceClient(_binding, _address))
{
    return client.GetActions(customerNumber);
} 
```

我现在想知道，当这些数据已经在自动生成的 app.config 中时，为什么我必须传递这些参数。我删除了 app.config 的内容......而且这些数据似乎没有在任何地方使用。

难道我做错了什么？

编辑：

dll项目中的应用程序配置：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
<system.serviceModel>
    <bindings>
        <basicHttpBinding>
            <binding name="BasicHttpBinding_ICustomerService" closeTimeout="00:01:00"
                openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
                maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                useDefaultWebProxy="true">
                <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                    maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                <security mode="None">
                    <transport clientCredentialType="None" proxyCredentialType="None"
                        realm="" />
                    <message clientCredentialType="UserName" algorithmSuite="Default" />
                </security>
            </binding>
        </basicHttpBinding>
    </bindings>
    <client>
        <endpoint address="http://localhost:50309/CustomerService.svc"
            binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_ICustomerService"
            contract="ServiceReference.ICustomerService" name="BasicHttpBinding_ICustomerService" />
    </client>
</system.serviceModel>
</configuration> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:32:34.797

请注意以下几点：**DLL*不能* 有自己的`app.config`！**

如果您希望 DLL 使用配置值，请使用 DLL 项目的属性正常创建它们，然后将设置部分从 DLL**复制**`app.config`到 EXE 的`app.config`. 此外，您需要复制相应的`sectionGroup`条目。

然后，DLL 将使用应用程序`exe.config`文件中的设置。

`app.config`为应用程序和 DLL 提供设置的 EXE 项目的示例：

```
<?xml version="1.0"?>
<configuration>
  <configSections>
    <sectionGroup name="applicationSettings" type="System.Configuration.ApplicationSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" >
      <section name="ExeProject" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
      <section name="DllProject" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/>
  </startup>

  <applicationSettings>
    <ExeProject>
      <setting name="..." serializeAs="String">
        <value>...</value>
      </setting>
    </ExeProject>

    <DllProject>
      <setting name="..." serializeAs="String">
        <value>...</value>
      </setting>
    </DllProject>

  </applicationSettings>
</configuration> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:45:06.113

由于您的 dll*无法自行*运行，因此它需要一个可执行文件才能从中使用（无论是 Windows 服务、Web 服务、普通桌面应用程序等）。因此，dll 使用它们所使用的可执行文件的 .config 文件——这就是为什么您的 dll 似乎忽略了它的配置的原因。

# php - Strange issue in this query. It is not inserting a particular value

> ID：15677832
> 
> 赞同：0
> 
> 时间：2013-03-28T09:06:45.067
> 
> 标签：php, mysql, drupal

I have an insert process. My development is under **Drupal6**. So i used the following method to insert into database table.

```
$sid = $user->sid;
$data   = array(
            'nid'           =>  $parent_nid,
            'vid'           =>  $parent_vid,
            'uid'           =>  $user_id,
            'time_start'    =>  time(),
            'session_id'    =>  $sid
);

drupal_write_record('quiz_node_results', $data); 
```

Here the problem is, it is not inserting the value `$sid`. It inserts the default value 0 always in that field. But other values are inserted correctly. But it has value. I checked with by putting `print_r($data)`.

In database table, `session_id` field's datatype is `varchar`.

For quick fix, i wrote actual insert query and inserted into it. That query is below.

```
$sql    =   "INSERT INTO {quiz_node_results}(nid, vid, uid, time_start, session_id) VALUES(".$parent_nid.",".$parent_vid.",".$user_id.",".time().", '".$sid."')";
db_query($sql); 
```

It is working fine and inserts the value correctly. But i don't want to insert in this way because it is vulnerable.

I want to know why the above one is not working. Can anyone suggest where i went wrong?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T05:57:57.390

我很确定从此更改第 1 行：

```
$sid = $user->sid; 
```

对此：

```
$sid = isset($user->sid) ? $user->sid : session_id(); 
```

应该做的伎俩...

# google-chrome-extension - chrome.app.window resize to smaller dimensions

> ID：15677835
> 
> 赞同：3
> 
> 时间：2013-03-28T09:06:54.827
> 
> 标签：google-chrome-extension, google-chrome-app

I am creating a `chrome.app.window` (on Windows) and it seems that the dimensions of the window cannot be smaller than 130x26px. Is there a way of having a window smaller than 130x26px?

I have already tried with both `resizeTo` and `setBounds` function.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:56:48.927

这看起来像是 chrome 框架窗口的一些任意限制，不应将其应用于无框架窗口。我猜这来自 API 实现，而不是 Windows 施加的一些限制。

我已登录[https://code.google.com/p/chromium/issues/detail?id=224860](https://code.google.com/p/chromium/issues/detail?id=224860)进行调查并希望能解决此问题，请随时为它加注星标。

# android - How to implement an api call in a java class in an Android project?

> ID：15677839
> 
> 赞同：0
> 
> 时间：2013-03-28T09:07:10.180
> 
> 标签：android, google-maps-android-api-2

In my Android project I call Google api for getting a xml to get directions between two points. I have a class named Getdirections.java in which I create an instance of GMapV2Direction.java class. In GMapV2Direction.java, I call the Google api and parse the xml. In devices below android 2.3, its working fine but in android 4, its getting NetworkOnManinThreadException. Here is My GMapV2Direction.java file.

```
import java.io.InputStream;
import java.util.ArrayList;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.protocol.BasicHttpContext;
import org.apache.http.protocol.HttpContext;
import org.w3c.dom.Document;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

import com.google.android.gms.maps.model.LatLng;

import android.util.Log;

public class GMapV2Direction {
public final static String MODE_DRIVING = "driving";
public final static String MODE_WALKING = "walking";

public GMapV2Direction() { }

public Document getDocument(LatLng start, LatLng end, String mode) {
    String url = "http://maps.googleapis.com/maps/api/directions/xml?" 
            + "origin=" + start.latitude + "," + start.longitude  
            + "&destination=" + end.latitude + "," + end.longitude 
            + "&sensor=false&units=metric&mode=driving";

    try {
        HttpClient httpClient = new DefaultHttpClient();
        HttpContext localContext = new BasicHttpContext();
        HttpPost httpPost = new HttpPost(url);
        HttpResponse response = httpClient.execute(httpPost, localContext);
        InputStream in = response.getEntity().getContent();
        DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();
        Document doc = builder.parse(in);
        return doc;
    } catch (Exception e) {
        e.printStackTrace();
    }
    return null;
}

public String getDurationText (Document doc) {
    NodeList nl1 = doc.getElementsByTagName("duration");
    Node node1 = nl1.item(0);
    NodeList nl2 = node1.getChildNodes();
    Node node2 = nl2.item(getNodeIndex(nl2, "text"));
    Log.i("DurationText", node2.getTextContent());
    return node2.getTextContent();
}

public int getDurationValue (Document doc) {
    NodeList nl1 = doc.getElementsByTagName("duration");
    Node node1 = nl1.item(0);
    NodeList nl2 = node1.getChildNodes();
    Node node2 = nl2.item(getNodeIndex(nl2, "value"));
    Log.i("DurationValue", node2.getTextContent());
    return Integer.parseInt(node2.getTextContent());
}

public String getDistanceText (Document doc) {
    NodeList nl1 = doc.getElementsByTagName("distance");
    Node node1 = nl1.item(0);
    NodeList nl2 = node1.getChildNodes();
    Node node2 = nl2.item(getNodeIndex(nl2, "text"));
    Log.i("DistanceText", node2.getTextContent());
    return node2.getTextContent();
}

public int getDistanceValue (Document doc) {
    NodeList nl1 = doc.getElementsByTagName("distance");
    Node node1 = nl1.item(0);
    NodeList nl2 = node1.getChildNodes();
    Node node2 = nl2.item(getNodeIndex(nl2, "value"));
    Log.i("DistanceValue", node2.getTextContent());
    return Integer.parseInt(node2.getTextContent());
}

public String getStartAddress (Document doc) {
    NodeList nl1 = doc.getElementsByTagName("start_address");
    Node node1 = nl1.item(0);
    Log.i("StartAddress", node1.getTextContent());
    return node1.getTextContent();
}

public String getEndAddress (Document doc) {
    NodeList nl1 = doc.getElementsByTagName("end_address");
    Node node1 = nl1.item(0);
    Log.i("StartAddress", node1.getTextContent());
    return node1.getTextContent();
}

public String getCopyRights (Document doc) {
    NodeList nl1 = doc.getElementsByTagName("copyrights");
    Node node1 = nl1.item(0);
    Log.i("CopyRights", node1.getTextContent());
    return node1.getTextContent();
}

public ArrayList<LatLng> getDirection (Document doc) {
    NodeList nl1, nl2, nl3;
    ArrayList<LatLng> listGeopoints = new ArrayList<LatLng>();
    nl1 = doc.getElementsByTagName("step");
    if (nl1.getLength() > 0) {
        for (int i = 0; i < nl1.getLength(); i++) {
            Node node1 = nl1.item(i);
            nl2 = node1.getChildNodes();

            Node locationNode = nl2.item(getNodeIndex(nl2, "start_location"));
            nl3 = locationNode.getChildNodes();
            Node latNode = nl3.item(getNodeIndex(nl3, "lat"));
            double lat = Double.parseDouble(latNode.getTextContent());
            Node lngNode = nl3.item(getNodeIndex(nl3, "lng"));
            double lng = Double.parseDouble(lngNode.getTextContent());
            listGeopoints.add(new LatLng(lat, lng));

            locationNode = nl2.item(getNodeIndex(nl2, "polyline"));
            nl3 = locationNode.getChildNodes();
            latNode = nl3.item(getNodeIndex(nl3, "points"));
            ArrayList<LatLng> arr = decodePoly(latNode.getTextContent());
            for(int j = 0 ; j < arr.size() ; j++) {
                listGeopoints.add(new LatLng(arr.get(j).latitude,    arr.get(j).longitude));
            }

            locationNode = nl2.item(getNodeIndex(nl2, "end_location"));
            nl3 = locationNode.getChildNodes();
            latNode = nl3.item(getNodeIndex(nl3, "lat"));
            lat = Double.parseDouble(latNode.getTextContent());
            lngNode = nl3.item(getNodeIndex(nl3, "lng"));
            lng = Double.parseDouble(lngNode.getTextContent());
            listGeopoints.add(new LatLng(lat, lng));
        }
    }

    return listGeopoints;
}

private int getNodeIndex(NodeList nl, String nodename) {
    for(int i = 0 ; i < nl.getLength() ; i++) {
        if(nl.item(i).getNodeName().equals(nodename))
            return i;
    }
    return -1;
}

private ArrayList<LatLng> decodePoly(String encoded) {
    ArrayList<LatLng> poly = new ArrayList<LatLng>();
    int index = 0, len = encoded.length();
    int lat = 0, lng = 0;
    while (index < len) {
        int b, shift = 0, result = 0;
        do {
            b = encoded.charAt(index++) - 63;
            result |= (b & 0x1f) << shift;
            shift += 5;
        } while (b >= 0x20);
        int dlat = ((result & 1) != 0 ? ~(result >> 1) : (result >> 1));
        lat += dlat;
        shift = 0;
        result = 0;
        do {
            b = encoded.charAt(index++) - 63;
            result |= (b & 0x1f) << shift;
            shift += 5;
        } while (b >= 0x20);
        int dlng = ((result & 1) != 0 ? ~(result >> 1) : (result >> 1));
        lng += dlng;

        LatLng position = new LatLng((double) lat / 1E5, (double) lng / 1E5);
        poly.add(position);
    }
    return poly;
} 
```

}

This is my Getdirection.java file from where i instantiate GMapV2Direction.java.

```
public class GetDirectionsActivity extends FragmentActivity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.getdirections);
....
....
....
Document doc = md.getDocument(userLocation, toPosition,
            GMapV2Direction.MODE_DRIVING);
    ArrayList<LatLng> directionPoint = md.getDirection(doc);
    PolylineOptions rectLine = new PolylineOptions().width(3).color(
            Color.RED);

    for (int i = 0; i < directionPoint.size(); i++) {
        rectLine.add(directionPoint.get(i));
    }

    map.addPolyline(rectLine);

....
....
....
}
} 
```

Kindly give a suggestion so that I can handle this exception. Any edit in my file is welcome!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:40:33.613

这是答案。

```
import java.util.ArrayList;

import org.w3c.dom.Document;

import android.app.Dialog;
import android.content.Intent;
import android.graphics.Color;
import android.location.Criteria;
import android.location.Location;
import android.location.LocationManager;
import android.os.AsyncTask;
import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;

 import com.google.android.gms.maps.CameraUpdateFactory;
 import com.google.android.gms.maps.GoogleMap;
 import com.google.android.gms.maps.GoogleMapOptions;
 import com.google.android.gms.maps.SupportMapFragment;
 import com.google.android.gms.maps.model.BitmapDescriptorFactory;
 import com.google.android.gms.maps.model.LatLng;
 import com.google.android.gms.maps.model.MarkerOptions;
import com.google.android.gms.maps.model.PolylineOptions;

public class GetDirectionsActivity extends FragmentActivity {

private String provider;
double lati;
double longi;
String name;
GMapV2Direction md;
GoogleMap map;

Location location;

LatLng userLocation, toPosition;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.getdirections);
    ....
new ParseXML().execute();
    .....

}

private class ParseXML extends AsyncTask<Void, Void, Document> {
    Document doc;
    PolylineOptions rectLine;
    @Override
    protected Document doInBackground(Void... params) {
        doc = md.getDocument(userLocation, toPosition,
                GMapV2Direction.MODE_DRIVING);
        ArrayList<LatLng> directionPoint = md.getDirection(doc);
        rectLine = new PolylineOptions().width(3).color(
                Color.RED);

        for (int i = 0; i < directionPoint.size(); i++) {
            rectLine.add(directionPoint.get(i));
        }
        return null;

    }

    @Override
    protected void onPostExecute(Document result) {
        // TODO Auto-generated method stub
        map.addPolyline(rectLine);
    }

}

} 
```

我没有在主类中创建实例，而是在 asynctask 中创建了用于调用 google api 的实例。休息 Asynctask 做了.... :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:12:15.173

`NetworkOnMainThreadException`是当您尝试在主线程上访问 Internet 时引起的。将您访问互联网的代码放入`AyncTask`.

```
public class DemoAsyncTask extends AsyncTask<Integer, Void, Void> {

    ProgressDialog progressDialog;
    Context context;

    public DemoAsyncTask(Context context) {
        this.context = context;
    }

    @Override
    protected void onPreExecute() {
        progressDialog = ProgressDialog.show(context, "Title", "Message");
        super.onPreExecute();
    }

    @Override
    protected Void doInBackground(Integer... params) {
        // call your method here
        return null;
    }

    @Override
    protected void onPostExecute(Void result) {
        progressDialog.dismiss();
        super.onPostExecute(result);
    }
} 
```

把它放在一个单独的文件名中`DemoAsyncTask.java`

# android - setImageDrawable 图像模糊

> ID：15677847
> 
> 赞同：0
> 
> 时间：2013-03-28T09:07:39.563
> 
> 标签：android, imageview, android-gridview

我正在使用 gridview 来显示此处描述的图像[http://developer.android.com/guide/topics/ui/layout/gridview.html](http://developer.android.com/guide/topics/ui/layout/gridview.html)。

我的适配器 getView() 方法是：

```
@Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        Log.i("count",""+1);
        ImageView imageView;
        ViewHolder holder = null;
        if (convertView == null) {
            imageView = new ImageView(context);
            imageView.setLayoutParams(new GridView.LayoutParams(85, 95));
            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
            imageView.setPadding(3, 3, 3, 3);

        }
        else{
            imageView = (ImageView) convertView;

        }
        String bookTemp = books.get(position);
       imageView.setImageDrawable(context.getResources().getDrawable(R.drawable.book1));
        //imageView.setImageResource(R.drawable.book2);
        return imageView;
    } 
```

但是我的设备显示的图像是模糊的。我也尝试过改变尺寸，但每次结果都是一样的。我没有明白我在这里做错了什么？我还附上了下面的示例图片，我正在使用它测试。

![在此处输入图像描述](../Images/65a7470795e8a643a0cfe28d2d213c49.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:34:54.250

抱歉，我不得不根据文档回答您的上述问题：
android 将根据图像放置在以下文件夹中的位置来处理图像。

```
ldpi: Low-density screens; approximately 120dpi.
mdpi: Medium-density (on traditional HVGA) screens; approximately 160dpi.
hdpi: High-density screens; approximately 240dpi.
xhdpi: Extra high-density screens; approximately 320dpi. Added in API Level 8
nodpi: This can be used for bitmap resources that you do not want to be scaled to match the device density.
tvdpi: Screens somewhere between mdpi and hdpi; approximately 213dpi. This is not considered a "primary" density group. It is mostly intended for televisions and most apps shouldn't need it—providing mdpi and hdpi resources is sufficient for most apps and the system will scale them as appropriate. This qualifier was introduced with API level 13. 
```

有关这些内容的更多信息，请单击[此](http://developer.android.com/guide/topics/resources/providing-resources.html)

# ruby-on-rails - 控制器可以正常拾取模型，但 rspec 不能

> ID：15677851
> 
> 赞同：0
> 
> 时间：2013-03-28T09:07:54.277
> 
> 标签：ruby-on-rails, ruby

我正在学习一个简单的教程并遇到以下问题；

```
Task.create task: 'This is my task' 
```

当 rspec 尝试运行它时返回错误；

```
ActiveRecord::StatementInvalid:
   Could not find table 'tasks' 
```

但是，当我从 rails 控制台或控制器调用完全相同的行时，就会创建任务，并且我能够从 rails 控制台中看到新行。

最初我认为这可能是警卫的一些奇怪的事情，因为我注意到一些奇怪的事情（Ctrl+C 不会杀死它），但我决定直接使用 rspec 运行测试，它返回相同的结果。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:39:22.563

您必须首先设置和准备您的数据库，您可以通过运行`rake db:test:prepare`

# azure - How to achieve maximum concurrency on a Azure Worker role

> ID：15677856
> 
> 赞同：0
> 
> 时间：2013-03-28T09:08:07.680
> 
> 标签：azure, concurrency, azure-worker-roles

Is it possible to find out how many concurrent threads we can start on a worker role considering the current environment we are running on. It seems that we can't really rely on the numbers of cores as the resources sharing is not directly tied to one physical core. Taking an example of a small instance how many concurrent background worker can I have running simultaneously ( CPU bound off course ! ).

Is there any way we can do that dynamically as well (if we choose to scale up to another type of instance)

Thanks

# javascript - 将“字符串数字”转换为数字

> ID：15677857
> 
> 赞同：0
> 
> 时间：2013-03-28T09:08:10.030
> 
> 标签：javascript

我正在创建一个库并尝试将一个字符串发送到函数中并将其作为数字返回，同时创建一个条件以确定发送到函数中的字符串是否是一个数字，然后再进行转换。

```
var strNum = function(val){
    if (!isNan(val)){
        console.log('This is a string that can be converted')
        parseInt(val)
        return val
    }else{
        console.log ('This sting is not a "number"');
    }
}; 
```

这就是我所拥有的，但是在调试它时，我收到 *“ReferenceError：isNan is not defined if (val = !isNan(val)){”*的错误 ，我不确定它为什么不起作用！

有什么想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T09:10:19.800

`isNaN`不是`isNan`。_

javascript 中没有命名方法`isNan`，这就是它抛出引用错误的原因。

# sandbox - How to create a sandbox with C#

> ID：15677858
> 
> 赞同：-1
> 
> 时间：2013-03-28T09:08:13.757
> 
> 标签：sandbox

How to create a similar to the SandBox environment,That it can virtualise the registry and file table.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:31:19.680

您可以尝试使用虚拟机软件，如 virtual box、virtual pc、vmware 等。您可以在虚拟设置上安装您喜欢的操作系统并像还原映像一样创建。然后，您可以在该虚拟环境中乱七八糟，并在需要时进行恢复。

# ajax - 当应用程序执行 ajax 请求时，我想添加加载掩码

> ID：15677860
> 
> 赞同：2
> 
> 时间：2013-03-28T09:08:15.717
> 
> 标签：ajax, extjs, sencha-touch, sencha-touch-2

在我的 sencha 应用程序中，当应用程序执行 ajax 请求时，我想添加加载掩码，请求完成后我需要删除加载掩码。

我尝试了下面的代码，但它不适合我

```
var mask = new Ext.LoadMask(Ext.getBody(), {msg:"Loading..."});

   Ext.Ajax.on('beforerequest', function(){
        mask.show();
   });

   Ext.Ajax.on('requestcomplete', function(){
        mask.hide();
   }); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-28T09:23:30.587

要显示负载掩码，您可以使用：

```
Ext.Viewport.mask({ xtype: 'loadmask' }); 
```

并在您的 Ajax 请求的成功函数中隐藏加载掩码：

```
Ext.Viewport.unmask(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T11:27:11.177

很容易试试这些

```
Ext.Ajax.request({
    method:'GET',
    contentType:'application/json; charset=utf-8',
    dataType:'json',
    url:'http://..................Login',
    disableCaching: false,
    withCredentials: true,
    useDefaultXhrHeader: false,
    callbackKey: 'callback',

    params: {
        xyz:.......                                              
      },
    success:function(response){
        console.log(response);
        var res = response.responseText;    
        var jsonarr = Ext.decode(response.responseText);
        console.log(jsonarr);
        var myres = jsonarr[0].Result;
        console.log(myres);
        Ext.Viewport.setMasked(false);  //hide the mask  loaded ...
       Ext.Viewport.setActiveItem({xtype:'dom_flightlist'}); 
   }//end of success fn

}); //end of AJAX Request 
```

在成功函数之后添加负载掩码..

# php - ZF2 - 需要在特定条件失败时显示特定错误消息

> ID：15677863
> 
> 赞同：3
> 
> 时间：2013-03-28T09:08:33.623
> 
> 标签：php, zend-framework2

我正在使用 ZF2 表单验证。我必须验证两个字段 USERNAME 和 PASSWORD。一切正常，但我收到消息

```
Please enter username.
Username can not be less than 3 characters.

Please enter password.
Password can not be less than 6 characters. 
```

如果用户未输入任何值，则应仅显示此消息

```
Please enter username.    
Please enter password. 
```

我不想在失败的字段上显示所有错误消息。

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T10:28:36.940

我得到了答案：为了打破 ZF2 中的验证链，我们必须使用

'break_chain_on_failure' => 真

```
$this->add(
    array(
        'name'       => 'usernmae',
        'required'   => true,
        'filters'    => array(
            array('name' => 'Zend\Filter\StringTrim')
        ),
        'validators' => array(
                          array('name' => 'NotEmpty', 
                            'options' => array('encoding' => 'UTF-8', 
                                'messages' => array(
                                    NotEmpty::IS_EMPTY => 'Please enter username')), 
                            'break_chain_on_failure' => true), 
            array(
                'name'    => 'Zend\Validator\StringLength',
                'options' => array(
                    'encoding' => 'UTF-8',
                    'min'      => 3,
                    'max'      => 30,
                    'messages' => array(
                                    StringLength::TOO_LONG => 'Username can not be more than 30 characters long', 
                                    StringLength::TOO_SHORT => 'Username can not be less than 3 characters.')
                ),
                'break_chain_on_failure' => true
            )
        )
    )
); 
```

我的博客： http: [//programming-tips.in](http://programming-tips.in)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:51:27.513

Zend_Validate 允许您在某些验证失败时中断验证器链。在这种情况下，addValidator() 函数 $breakChainOnFailure 的第二个参数应该为 TRUE。

```
$validatorChain = new Zend_Validate();    
$validatorChain->addValidator(new Zend_Validate_NotEmpty(), TRUE)
               ->addValidator(new Zend_Validate_StringLength(6, 12)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-02T20:07:29.313

您还可以设置“error_message”键，例如：

```
'email' => [
                'required' => true,
                'error_message' => 'Incorrect email address ',
                'filters' => [
                    [
                        'name' => 'StripTags',
                    ],
                    [
                        'name' => 'StringToLower',
                    ]
                ],
                'validators' => [
                    [
                        'name' => 'EmailAddress',
                        'break_chain_on_failure' => true
                    ]
                ]
            ], 
```

# deployment - 在不使用 Nuget 的情况下在生产中部署 Entity Framework 5

> ID：15677866
> 
> 赞同：1
> 
> 时间：2013-03-28T09:08:39.620
> 
> 标签：deployment, frameworks, entity

使用我下载并使用实体框架的 Nuget 包。我创建了一个使用实体框架的类库和另一个使用该库创建数据的 Windows 窗体应用程序。

在部署到生产环境时，我使用了 Windows 窗体应用程序 bin 内容，但 EntityFramework.dll 不是其中的一部分。

**我的问题是：**

如何在不使用 Visual Studio/Nuget 包的情况下将实体框架部署/安装到生产环境中？

感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-06T20:25:20.773

如果您将实体框架引用设置为 Copy Local = True，则它应该在您构建项目时部署到您的 bin 文件夹中

![在此处输入图像描述](../Images/74832ce4ac8fdb4c26a14258b62fefb7.png)

# cordova - 转换到另一个页面 Phonegap iPhone

> ID：15677867
> 
> 赞同：1
> 
> 时间：2013-03-28T09:08:39.803
> 
> 标签：cordova, phonegap-build

我是电话间隙开发的新手，如何使用 jQuery 在电话间隙中进行页面转换。我使用了这个 $.mobile.changePage("activity.html", { transition: "slideup"}); 过渡，但它不起作用。谁能指出我正确的方向如何做到这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T10:15:54.647

`jQuery`基本上表示`divs`在单个`.html`文件中使用的页面。而 changePage 使用 jQuery Mobile AJAX 功能，如果你真的想导航到其他的，你可以使用 basic `javascript`。

```
window.location.href="your-new-page.html"; 
```

或者

```
$.mobile.changePage( "second-page.html", { transition: "slideup"}); 
```

要导航使用 div 创建的页面，您可以使用

```
$.mobile.changePage( "#pageHome", { transition: "slideup"}); 
```

`#pageHome` - 页面 div 的 id。

您也可以参考以下链接

[链接 1](http://forum.jquery.com/topic/mobile-changepage-and-rel-external)

[链接 2](http://view.jquerymobile.com/1.3.0/docs/widgets/pages/)

我希望它有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T10:05:40.283

那就是 jQuery 移动版。您需要同时包含 jquery 和 jquery mobile javascript 才能使其工作。

不要忘记包含相应的jquery mobile css！

如果您需要进一步参考，请查看文档中的示例。

例子：

```
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script> 
```

# javascript - 如何将一串数字转换为数字数组？

> ID：15677869
> 
> 赞同：253
> 
> 时间：2013-03-28T09:08:40.533
> 
> 标签：javascript, arrays

我有以下字符串-

```
var a = "1,2,3,4"; 
```

当我做 -

```
var b = a.split(','); 
```

我`b`得到`["1", "2", "3", "4"]`

`b`我可以做点什么`[1, 2, 3, 4]`吗？

* * *

## 回答 #1

> 赞同：485
> 
> 时间：2013-03-28T09:10:22.470

您可以使用`Array.map`将每个元素转换为数字。

```
var a = "1,2,3,4";

var b = a.split(',').map(function(item) {
    return parseInt(item, 10);
}); 
```

检查[文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/map)

* * *

或者更优雅地指出用户：thg435

```
var b = a.split(',').map(Number); 
```

`Number()`剩下的在哪里做：检查[这里](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Number)

* * *

**注意：**对于不支持的旧浏览器`map`，您可以自己添加一个实现，例如：

```
Array.prototype.map = Array.prototype.map || function(_x) {
    for(var o=[], i=0; i<this.length; i++) { 
        o[i] = _x(this[i]); 
    }
    return o;
}; 
```

* * *

## 回答 #2

> 赞同：109
> 
> 时间：2020-02-06T14:03:18.957

我给高尔夫球手的 2 美分：

```
b="1,2,3,4".split`,`.map(x=>+x) 
```

反引号是字符串，所以我们可以省略括号（因为 split 函数的性质），但它等价于`split(',')`. 字符串现在是一个数组，我们只需将每个值映射到一个返回字符串整数的函数，因此`x=>+x`（它甚至比`Number`函数更短（5 个字符而不是 6 个））相当于：

```
function(x){return parseInt(x,10)}// version from techfoobar
(x)=>{return parseInt(x)}         // lambda are shorter and parseInt default is 10
(x)=>{return +x}                  // diff. with parseInt in SO but + is better in this case
x=>+x                             // no multiple args, just 1 function call 
```

我希望它更清楚一点。

* * *

## 回答 #3

> 赞同：49
> 
> 时间：2019-11-13T08:33:20.340

> 这很简单。例如：

```
["1", "2", "3", "4"].map(i=>Number(i)) 
```

你可以运行演示。

```
let result = ["1", "2", "3", "4"].map(i=>Number(i));
console.log(result);
```

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2013-03-28T09:10:43.963

将其映射为整数：

```
a.split(',').map(function(i){
    return parseInt(i, 10);
}) 
```

[`map`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/map)查看每个数组项，将其传递给提供的函数并返回一个包含该函数返回值的数组。`map`在旧浏览器中不可用，但大多数库（如[jQuery](http://api.jquery.com/jQuery.map/)或[underscore](http://underscorejs.org/#map) ）都包含跨浏览器版本。

或者，如果您更喜欢循环：

```
var res = a.split(",");
for (var i=0; i<res.length; i++)
{
    res[i] = parseInt(res[i], 10);
} 
```

* * *

## 回答 #5

> 赞同：18
> 
> 时间：2019-04-24T09:50:18.400

Array.from() 详情请参考[MDN](https://developer.mozilla.org/it/docs/Web/JavaScript/Reference/Global_Objects/Array/from)

```
let a = "1,2,3,4";
let b = Array.from(a.split(','),Number); 
```

或者

```
let c = ["1", "2", "3", "4"].map(Number); 
```

`b`并且`c`是一个数字数组。

示范：

```
let a = "1,2,3,4";
let b = Array.from(a.split(','),Number);

let c = ["1", "2", "3", "4"].map(Number);

console.log(`b: ${b}, c: ${c}`);
```

* * *

## 回答 #6

> 赞同：16
> 
> 时间：2013-03-28T09:10:43.190

`+string`将尝试将字符串更改为数字。然后使用`Array.map`函数来改变每个元素。

```
"1,2,3,4".split(',').map(function(el){ return +el;}); 
```

* * *

## 回答 #7

> 赞同：16
> 
> 时间：2016-06-17T19:20:02.807

更短的解决方案：映射并将参数传递给`Number`：

```
var a = "1,2,3,4";
var b = a.split(',');
console.log(b);
var c = b.map(Number);
console.log(c);
```

* * *

## 回答 #8

> 赞同：9
> 
> 时间：2020-05-04T12:21:45.360

一个班轮

```
Array.from(a.split(','), Number) 
```

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2016-01-18T14:18:56.093

不需要使用 lambda 和/或给`radix`参数`parseInt`，只需使用`parseFloat`or`Number`代替。

**原因：**

1.  它正在工作：

    ```
    var src = "1,2,5,4,3";
    var ids = src.split(',').map(parseFloat); // [1, 2, 5, 4, 3]

    var obj = {1: ..., 3: ..., 4: ..., 7: ...};
    var keys= Object.keys(obj); // ["1", "3", "4", "7"]
    var ids = keys.map(parseFloat); // [1, 3, 4, 7]

    var arr = ["1", 5, "7", 11];
    var ints= arr.map(parseFloat); // [1, 5, 7, 11]
    ints[1] === "5" // false
    ints[1] === 5   // true
    ints[2] === "7" // false
    ints[2] === 7   // true 
    ```

2.  它更短。

3.  *当-approach - 没有*时，它会更快一点并且*利用缓存`parseInt`*：

    ```
     // execution time measure function
      // keep it simple, yeah?
    > var f = (function (arr, c, n, m) {
          var i,t,m,s=n();
          for(i=0;i++<c;)t=arr.map(m);
          return n()-s
      }).bind(null, "2,4,6,8,0,9,7,5,3,1".split(','), 1000000, Date.now);

    > f(Number) // first launch, just warming-up cache
    > 3971 // nice =)

    > f(Number)
    > 3964 // still the same

    > f(function(e){return+e})
    > 5132 // yup, just little bit slower

    > f(function(e){return+e})
    > 5112 // second run... and ok.

    > f(parseFloat)
    > 3727 // little bit quicker than .map(Number)

    > f(parseFloat)
    > 3737 // all ok

    > f(function(e){return parseInt(e,10)})
    > 21852 // awww, how adorable...

    > f(function(e){return parseInt(e)})
    > 22928 // maybe, without '10'?.. nope.

    > f(function(e){return parseInt(e)})
    > 22769 // second run... and nothing changes.

    > f(Number)
    > 3873 // and again
    > f(parseFloat)
    > 3583 // and again
    > f(function(e){return+e})
    > 4967 // and again

    > f(function(e){return parseInt(e,10)})
    > 21649 // dammit 'parseInt'! >_< 
    ```

*注意：在 Firefox`parseInt`中运行速度大约快 4 倍，但仍然比其他速度慢。总计：`+e`<<< `Number`_`parseFloat``parseInt`*

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2015-06-04T12:57:49.237

作为变体，您可以使用[lodash 库](https://lodash.com)`_.map`中的组合和`_.ary`方法。整个改造将更加紧凑。以下是[官方文档](https://lodash.com/docs#ary)中的示例：

```
_.map(['6', '8', '10'], _.ary(parseInt, 1));
// → [6, 8, 10] 
```

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2016-11-30T09:34:43.070

下划线js方式——

```
var a = "1,2,3,4",
  b = a.split(',');

//remove falsy/empty values from array after split
b = _.compact(b);
//then Convert array of string values into Integer
b = _.map(b, Number);

console.log('Log String to Int conversion @b =', b); 
```

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2018-04-09T12:12:59.303

Matt Zeunert 的带有使用箭头功能的版本（ES6）

```
const nums = a.split(',').map(x => parseInt(x, 10)); 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2018-01-03T10:46:01.553

由于允许包含所有答案`NaN`，我想我会补充一点，如果你想快速将一组混合值转换为你可以做的数字。

```
var a = "1,2,3,4,foo,bar";

var b = a.split(',');

var result = b.map(_=>_|0) // Floors the number (32-bit signed integer) so this wont work if you need all 64 bits.

// or b.map(_=>_||0) if you know your array is just numbers but may include NaN. 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2020-09-24T15:43:00.723

您可以使用[JSON.parse](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse)，添加括号来格式化***数组***

```
const a = "1,2,3,4";
const myArray = JSON.parse(`[${a}]`)
console.log(myArray)
console.info('pos 2 = ',  myArray[2])
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2020-10-21T16:01:07.973

您可以在一行中将字符串数组转换为数字数组：

```
const arrayOfNumbers = arrayOfStrings.map(e => +e); 
```

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2021-05-28T07:41:20.347

如果您需要将字符串数组转换为数字，这将非常有用。

```
const numbers = arr => arr.map(Number);
numbers(['1', '2', '3','4']);     // [1, 2, 3, 4] 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2021-08-27T06:15:37.870

```
let ar = [ '682',    '874',    '906',    '11168',  '73714',
  '74377',  '74034',  '138860', '138891', '139161', '139562',
  '139733', '139560', '74049',  '139759', '139934', '140104',
  '141335', '141356', '141334', '141337', '141360', '141358',
  '141365', '141419', '143333', '151477', '147342', '141355',
  '167847', '192141', '196760', '191687', '197351', '197055',
  '198852', '198731', '198816', '199034', '200053', '199226',
  '217818', '200055', '222039', '230533', '230530', '231127',
  '222042', '231100', '236171', '236913', '236980', '237015',
  '237016', '237052', '237551', '237560', '237590', '237637',
  '237733', '237731', '237655', '238890', '238910', '238837',
  '238926', '238972', '238925', '239755', '239696', '239898',
  '240037', '239909', '240036', '240082', '240097', '240526',
  '240770', '678151', '678950', '678985'];
let arry=[]
ar.map(arr=>{
arry.push(parseInt(arr))
});

console.log(arry); 
```

# asp.net-mvc - 如何在javascript中从URL获取文件名

> ID：15677871
> 
> 赞同：0
> 
> 时间：2013-03-28T09:08:49.390
> 
> 标签：asp.net-mvc

在我的应用程序中，我允许用户上传 PDF 文件的 URL。我只想从 URL 中获取文件名。例如：如果用户将 URL 上传为 www.gradsch.ohio-state.edu/Depo/ETD_Tutorial/lesson2.pdf ，则课程 2.pdf 应该得到提取的代码：

```
 function load_file(box) {
   var file = document.getElementById('file');
   if (file == "") {
       alert("Enter File URL");
       return false;
   }

   } 
```

如何仅从 URL 中获取文件名

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:13:10.790

作为 **file.substring** 您指向容器并尝试在其上使用 substring 方法，而不是在其内容上。

您应该改用 **file.innerHTML.substring**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:23:07.993

尝试使用：`file.text() or file.val()`

例如。：

```
return file.text().substring(file.text().lastIndexOf("/") + 1, file.text().lastIndexOf(".")); 
```

或者，

```
return file.val().substring(file.val().lastIndexOf("/") + 1, file.val().lastIndexOf(".")); 
```

# android - 从 Android 中的 sqlite 数据库中获取正确的对应值

> ID：15677874
> 
> 赞同：0
> 
> 时间：2013-03-28T09:09:03.117
> 
> 标签：android, sqlite, textview, android-sqlite

我正在开发一个小型应用程序，其中将两个值插入数据库（电话号码和地址）。插入部分已完成。现在我想搜索特定电话号码的对应地址。我遵循了**Androidhive**的教程，并且效果很好。我的问题是当我插入一个特定的电话号码（已经存储在数据库中）并点击搜索按钮时，我`TextView`没有显示相应的地址。它只是在该文本中显示“名称”。我很确定我没有在任何地方硬编码文本“名称”。而且我也没有收到任何特定的错误。

这是我的按钮搜索的代码：

```
buttonSearch.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                long phone_number=Long.parseLong(searchEditText.getText().toString());

            String text=db.getAddress(phone_number);
            fetchedAddressTextView.setText(text);
            } 
```

这是`getAddress`我的 Helper 类中定义的方法：

```
public String getAddress(long phone_number) {
        // TODO Auto-generated method stub
        SQLiteDatabase db = this.getReadableDatabase();

        try {
            Cursor c=db.query(TABLE_CONTACTS, new String[]{
                    KEY_ADDRESS
            },
            KEY_PH_NO + "=" + phone_number,
            null,
            null,
            null,
            null);

            if (c != null) {
                c.moveToFirst();
            }
        }
            catch (Exception e) {

                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        return KEY_ADDRESS;
    } 
```

`KEY_ADDRESS`应该以字符串的形式返回与我搜索的数字对应的地址。

因此，感谢您对这个问题的任何帮助。或任何其他关于简单获取数据库中存储值的指针（除 vogella 或 androidhive 之外）都是受欢迎的。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:16:28.073

您的代码返回列名而不是值。请在 c.moveToFirst(); 之后检查以下代码；陈述

```
public String getAddress(long phone_number) {
        // TODO Auto-generated method stub
        SQLiteDatabase db = this.getReadableDatabase();

        try {
            Cursor c=db.query(TABLE_CONTACTS, new String[]{
                    KEY_ADDRESS
            },
            KEY_PH_NO + "=" + phone_number,
            null,
            null,
            null,
            null);

            if (c != null) {
                c.moveToFirst();
                return c.getString (c.getColumnIndex (KEY_ADDRESS));
            }
        }
            catch (Exception e) {

                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        return "";
    } 
```

# reporting-services - SSRS 2005：无法插入超链接

> ID：15677875
> 
> 赞同：0
> 
> 时间：2013-03-28T09:09:03.810
> 
> 标签：reporting-services, reportingservices-2005

我有一份 SSRS 2005 报告，我想使用其中一列作为`hyperlink`.

我将字段设置为显示`Parent Number`，`=Fields!Parent_Num.Value` 在`Navigation`选项卡上，我选择了`Jump to URL`，我有这个，`="Form_View.aspx?id=" + CStr(Fields!ID.Value)`

我的问题是，该列不可点击。它正确显示 Parent_Num，但不是`blue color`or `clickable`。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:45:47.623

在您的字符串中更改`+`为`&``URL`

```
="Form_View.aspx?id=" & CStr(Fields!ID.Value) 
```

默认情况下，SSRS 不会为超链接添加颜色，您需要在`font`部分中修改颜色

# python - 在Python中的字典中按字典键对列表字典进行排序

> ID：15677877
> 
> 赞同：0
> 
> 时间：2013-03-28T09:09:05.437
> 
> 标签：python, list, sorting

我有一个数据结构如下：

```
[
{
original_price: {
value: ""
},
promos: [ ],
local_id: "122863",
url: "link",
title: "abc",
current_price: {
value: 19.5
},
image: "link",
selections: {
color: "BLACK",
length: "",
size: "7"
},
store: "abc"
},
{
original_price: {
value: ""
},
promos: [ ],
local_id: "122863",
url: "link",
title: "abc",
current_price: {
value: 19.5
},
image: "link",
selections: {
color: "BLACK",
length: "",
size: "9"
},
store: "abc"
},
{
original_price: {
value: ""
},
promos: [ ],
local_id: "122863",
url: "link",
title: "abc",
current_price: {
value: 19.5
},
image: "link",
selections: {
color: "BLACK",
length: "",
size: "6"
},
store: "abc"
}
] 
```

我尝试使用代码按“大小”键对其进行排序：

```
def order_size(self, raw_sizes): 
     for i in range(len(raw_sizes)):
         print i
         for j in range(i+1, len(raw_sizes)):
             #print raw_sizes
             if raw_sizes[j]['selections']['size'] < raw_sizes[i]['selections']['size']:
                 raw_sizes[j], raw_sizes[i] = raw_sizes[i], raw_sizes[j]

     #print raw_sizes
     return raw_sizes 
```

但我不能。请帮我。我期望结果：

```
[
{
original_price: {
value: ""
},
promos: [ ],
local_id: "122863",
url: "link",
title: "abc",
current_price: {
value: 19.5
},
image: "link",
selections: {
color: "BLACK",
length: "",
size: "6"
},
store: "abc"
},
{
original_price: {
value: ""
},
promos: [ ],
local_id: "122863",
url: "link",
title: "abc",
current_price: {
value: 19.5
},
image: "link",
selections: {
color: "BLACK",
length: "",
size: "7"
},
store: "abc"
},
{
original_price: {
value: ""
},
promos: [ ],
local_id: "122863",
url: "link",
title: "abc",
current_price: {
value: 19.5
},
image: "link",
selections: {
color: "BLACK",
length: "",
size: "9"
},
store: "abc"
}
] 
```

这个 dict 列表按 dict 中的 dict 键排序

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:13:43.387

那是冒泡排序吗？真的吗？

无论如何，没有必要编写自己的排序函数：

```
raw_sizes.sort(key=lambda d: d['selections']['size']) 
```

# routing - 没有 Web 服务器的 AngularJS 路由

> ID：15677882
> 
> 赞同：12
> 
> 时间：2013-03-28T09:09:17.100
> 
> 标签：routing, angularjs, single-page-application

我想为瘦客户端开发 html5 SPA 应用程序。无法在其上启动任何 Web 服务器。而且我无法在没有 Web 服务器的情况下进行路由。

我的 index.html

```
<!doctype html>
   <html ng-app="app">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
    <script src="app.js"></script>
    <title></title>
</head>
<body style="background-color: white;">
    <h1>Index</h1>
    <a id="link" href="/login">Go to login</a>
    <div ng-controller="HomeCtrl">
        <ul ng-repeat="number in numbers" >
            <li>{{number}}</li>
        </ul>
    </div>
</body>
</html> 
```

我的 app.js

```
angular.module('app', []).
  config(function($routeProvider) {
    $routeProvider.
      when('/', {controller: HomeCtrl, templateUrl: 'index.html'}).
      when('/login', {controller: LoginCtrl, templateUrl: 'login.html', resolve: function() {}}).
      otherwise({redirectTo:'/'});
  });

function HomeCtrl($scope) {
    $scope.numbers = [1,2,3,4,5];
}

function LoginCtrl($scope) {

} 
```

我正在 Chrome 中的计算机上本地测试此代码。数据绑定就像一个魅力，但到登录页面的链接却不是。它通向 {X}:\login。所以我的问题是：有没有可能让它在没有网络服务器的情况下工作？其次，我缺少什么来完成它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-12-02T05:35:12.807

您需要使用脚本标签将模板放入 index.html 本身，以便 Angular 不再需要发出 AJAX 请求来获取它们。

```
<script type="text/ng-template" id="home.html">
  This is the content of the template
</script> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T09:48:07.603

过了一会儿，我让它工作了。

起初，我把这块移到单独的文件中

```
<div ng-controller="HomeCtrl">
    <ul ng-repeat="number in numbers" >
        <li>{{number}}</li>
    </ul>
</div> 
```

其次，在`index.html`我添加了这个 div

```
<div ng-view></div> 
```

它用作视图占位符。

`index.html`如果您熟悉 asp.net，现在用作“母版页”或“布局”。当您单击链接时，templateUrl 文件的内容将插入到占位符 div 中。

这样做的一个缺点是 url 应该看起来像这样`<a href="#/login"></a>`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-28T09:52:29.793

Angular 是一个客户端 JS 框架，因此它不需要网络服务器。除了添加 ng-view（正如您已经弄清楚的那样）之外，您的链接需要在前面有一个 hashbang（`#/login`），除非您使用的是 html5mode。

因此，在 URL 中添加 hashbang 并不是一个缺点，而是一种选择。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T09:39:14.447

这里有一些来自[http://docs.angularjs.org/api/ng](http://docs.angularjs.org/api/ng) .$route的代码

```
// configure html5 to get links working on jsfiddle
$locationProvider.html5Mode(true); 
```

我认为这同样适用于你。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-09-26T06:39:49.830

这个问题中的解决方案 [ [Cross origin requests are only supported for HTTP](https://stackoverflow.com/questions/19847252/cross-origin-requests-are-only-supported-for-http) ] 对我有用。
但我真的不明白，如果没有网络服务器，你怎么能通过使用 ngView 和 ngRoute 让它工作呢？
您将 ngRoute 配置为在 index.html 之外获取 login.html，这意味着您正在使用 AJAX 服务来加载文件，但是如果没有 Web 服务器，AJAX 服务将无法工作。这就是我遇到问题的原因。

# r - R：使用对象的名称打印对象内部的内容

> ID：15677887
> 
> 赞同：0
> 
> 时间：2013-03-28T09:09:36.753
> 
> 标签：r, string, object

我的问题是关于对象类型操作的基本问题。

```
hello = 3
name = 'hello' 
```

我正在寻找一个允许我通过仅使用对象名称来找到值 3 的函数。

就像是：

```
print.the.thing.called(name)
[1] 3 
```

非常感谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:44:38.090

用于`get`通过名称获取对象：

```
R> x <- 2
R> get("x")
[1] 2 
```

# c# - 我如何检查在 PropertyChanged 事件上更改了哪个属性

> ID：15677888
> 
> 赞同：1
> 
> 时间：2013-03-28T09:09:36.850
> 
> 标签：c#, wpf

我在属性上注册了一个事件，如下所示

```
addedItem.PropertyChanged += OnColumnModified; 
```

OnColumnModified 的定义如下

```
private void OnColumnModified(object sender, EventArgs e)
{ 
    var modifiedItem = (sender as MarketRecord.FItemExtended);
    if (!modifedFItemsExtended.Contains(modifiedItem)) 
    {
        modifedFItemsExtended.Add(modifiedItem);
    }
} 
```

现在我想检查在触发此事件时更改了 modifiedItem 的哪个属性。我该如何处理？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:14:46.907

使用 PropertyChangedEventArgs 而不是 EventArgs ( [http://msdn.microsoft.com/en-us/library/system.componentmodel.propertychangedeventargs.aspx](http://msdn.microsoft.com/en-us/library/system.componentmodel.propertychangedeventargs.aspx) )

```
private void OnColumnModified(object sender, PropertyChangedEventArgs e)
{ 
    if("Foo".Equals(e.PropertyName)) { /* do stuff here */ }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:15:16.790

也许尝试：

[PropertyChangedEventArgs](http://msdn.microsoft.com/en-gb/library/system.componentmodel.propertychangedeventargs.aspx)应该是您在该事件中收到的，而不是它的基础`EventArgs`

```
private void OnColumnModified(object sender, PropertyChangedEventArgs e) { 
  var modifiedItem = (sender as MarketRecord.FItemExtended);
  var propertyChanged = e.PropertyName;
  if (!modifedFItemsExtended.Contains(modifiedItem))
    modifedFItemsExtended.Add(modifiedItem);

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:14:19.490

我认为是这样的：

```
e.PropertyName 
```

编辑：并使用`PropertyChangedEventArgs`而不是`EventArgs`，就像 otis23 说的

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:15:06.953

首先，您可以将“e”的类型从 EventArgs 更改为 PropertyChangedEventArgs。现在，您在 e 对象中创建了一个名为“PropertyName”的属性，其中包含已更改属性的属性名称作为字符串。

# c# - 如何在 C# 方法中将 LinedResource 应用于 XSLT？

> ID：15677890
> 
> 赞同：0
> 
> 时间：2013-03-28T09:09:37.810
> 
> 标签：c#, xslt, xml-parsing, linq-to-xml, html-email

我有一个 XSLT 文件，它从 XML 中获取元素并提供我使用的 HTML 输出

```
XslCompiledTransform() 
```

在 C# 方法中将 XSLT 转换为 html 输出。然后将输出转换为 HTML 电子邮件消息正文并动态发送到客户端。我在 html 中嵌入了一些图像，只要我的网站在某个域中，一切都可以正常工作。但是当我从我的开发机器测试它时，图像不会发送到客户端。

为了克服这个问题，我正在使用一个名为

```
LinkedResource(); 
```

这有助于在 html 中嵌入图像。如果您在 html 正文中编写自定义 html，我可以正常工作。但就我而言，我的 html 是由 XSLT 生成的。

谁能告诉我如何将这个（linedresource）应用到 XSLT，以便生成的 html 将包含图像。

到目前为止，我已经尝试过这样的事情：

```
 var logoImageResource =new LinkedResource("C:\\MyProject\\Images\\logo.png")
                    {
                    ContentId = "logoId",
                    TransferEncoding = TransferEncoding.Base64
            }; 
```

我的 XLST 文件使用了 ContentId，如下所示：

```
 <img src="cid:logoId" alt="logo"/> 
```

直到现在它对我不起作用。任何帮助都非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:27:59.680

在进行 XSLT 转换之前使用 linkedresource 语句效果很好。

# blackberry - 返回上一版本的屏幕

> ID：15677891
> 
> 赞同：1
> 
> 时间：2013-03-28T09:09:37.910
> 
> 标签：blackberry, navigation, screen

我正在开发具有多个屏幕的 BlackBerry 应用程序。我能够轻松地在每个屏幕上来回导航。但是，我正在尝试“返回”到屏幕的先前版本。例如，有两个屏幕 A（主屏幕）和 B（第二屏幕）。我从 A 导航到 B，如下所示：

```
UiApplication.getUiApplication().pushScreen(new MsgScreen()); 
```

我从 B 导航回 A：

```
public boolean onClose() {
         UiApplication.getUiApplication().popScreen(this);
            return true;
        } 
```

每当我从 A 导航到 B 时，都会创建 B 的一个新实例。但是，屏幕 B 有一个按钮，允许它添加`LabelFields`到`VerticalFieldManager`. 每当我从 A 导航到 B 时，添加的字段都不会被查看，因为它不是构造函数的一部分。因此，我想查看屏幕的最后一个或“以前”版本，而不是每次都获取新创建的屏幕。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T02:42:12.260

我认为你在这里有几个不同的选择（至少）：

## 将屏幕 B 保存在内存中

在这里，当您`new`从 A 类中创建 B 的实例时，您会将其保存在（A 类的）成员变量中。然后，每当您需要从 A 回到 B 时，您将使用成员变量，如果有的话：

A类：

```
 private MsgScreen _bScreen;

 private MsgScreen getBScreen() {
     // don't actually create the screen until we need it,
     //   but don't create more than one instance
     if (_bScreen == null) {
         _bScreen = new MsgScreen();
     }
     return _bScreen;
 }

 public void showB() {
     UiApplication.getUiApplication().pushScreen(getBScreen());
 } 
```

**注意：** 请参阅此处了解在许多类[中实现此技术的更复杂的方法](https://stackoverflow.com/a/1130244/119114)`Screen`，使用可重用的*基类*。

## 存储 B 的状态并在（重新）显示时加载它

另一种选择是让`MsgScreen`(B) 被销毁，并且每次都像原来那样重新创建。但是，不是原来的设计，而是确保当`MsgScreen`关闭时，你使用类似的东西`PersistentStore`来保存它的状态。也就是说，如果用户可以在B屏上添加标签，那么保存所有标签的内容。也许您将`String[]`（或`Vector`）保存到您的`PersistentStore`. 然后，在 的构造函数中`MsgScreen`，或者在 ( `MsgScreen.java`) 中：

```
protected void onUiEngineAttached(boolean attached) {
    if (attached) {
        // load the String[] from the persistent store, 
        //  and create new LabelFields
    } else {
        // save the String[] to the persistent store
    }
} 
```

您可以从持久存储重新加载字符串数组，并创建 new `LabelFields`，就像以前一样。

或者，您可以选择`LabelField`在用户创建内容后立即将内容保存到商店，而不是在屏幕关闭时保存。随你（由你决定。

您可能还会考虑这些标签的内容是什么，以及如果用户离开您的应用并且没有返回（在重新启动之前）会发生什么。标签的字符串丢失可以吗？

`Screens`此外，如果您对很多人（或者如果`Screens`很复杂，并且有很多孩子`Fields`）做同样的事情，第一个替代方案可能会占用大量内存。如果你只有这个问题`MsgScreen`，那么它可能不是一个大问题，最简单的解决方案是我建议的第一个。但是，如果您的应用中有很多屏幕（A、B、C、D、E、F 等），那么当它们实际上并没有显示时，您可能不想全部保存它们。

这类问题应该可以帮助您确定何时或是否应该保存 UI 的状态。

# mercurial - 如何将 ng 命令设置为有关 mercurial 的 hgrc 文件？

> ID：15677892
> 
> 赞同：0
> 
> 时间：2013-03-28T09:09:39.327
> 
> 标签：mercurial

# 工具

水银

* * *

我想编辑 ~/.hgrc 文件来设置 ng 命令，如下所示：

```
hg push -f 
```

怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T19:23:05.710

您在 .hgrc 上指定的别名是 mercurial 的内部别名。

例如：

```
[alias]
ng = push -f 
```

您现在可以键入`hg ng`，这是一个“内部”别名。

但是，如果你想要一个全局别名（键入 just`ng`和 not `hg ng`），那么你必须把它放在 .bashrc （或者 .bash_aliases 如果已经存在）

```
alias ng="hg push -f" 
```

# java - 使用java从给定的url下载一个文件夹

> ID：15677893
> 
> 赞同：2
> 
> 时间：2013-03-28T09:09:47.077
> 
> 标签：java, file, io, awt

我正在尝试将文件夹从服务器复制到本地系统，但不知道我是如何编写代码来从服务器复制文件的，但对复制完整文件夹感到困惑。为了复制文件，我使用以下代码。

```
 BufferedInputStream in = null;
    FileOutputStream fout = null;
    try
    {
        in = new BufferedInputStream(new URL(urlString).openStream());
        fout = new FileOutputStream(filename);

        byte data[] = new byte[1024];
        int count;
        while ((count = in.read(data, 0, 1024)) != -1)
        {
            fout.write(data, 0, count);
        }
    }
    finally
    {
        if (in != null)
            in.close();
        if (fout != null)
            fout.close();
    } 
```

及其正常工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:14:03.143

HTTP 不知道文件夹。特别是，无法列出“文件夹”中文件的所有 URL。所以基本上，你想要做的事情是不可能的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:19:10.470

如果远程文件夹安装在您的文件系统上，我建议您使用 Apache Commons IO，[FileUtils](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html)。

另一方面，如果您的远程服务器只有一个 HTTP 接口，您需要知道要下载的文件的 URL，除非允许目录列表（这不常见）。[HttpUnit](http://httpunit.sourceforge.net/)可能有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:29:09.533

通过一个简单的技巧，您可以使用 http 实现这一点。首先检查当您在浏览器中打开文件夹的 url 时，其表示方式如何。一般来说，它可能像下面这样，

--back
--file1.mp3
--file2.doc
--其他文件
--其他文件夹

如果你在这里看到一切都用超链接表示。您必须**解析**这些超链接，并且可以从提供的每个超链接下载文件。如果任何超链接代表另一个文件夹（子文件夹），您必须执行我上面所述的相同过程。

如果你能正确解析数据，下载整个文件夹真的很容易。

# iphone - 如何在 AVAudioplayer 中播放多个文件

> ID：15677897
> 
> 赞同：1
> 
> 时间：2013-03-28T09:10:03.733
> 
> 标签：iphone, xcode, audio, avaudioplayer

我在 plist 中有一些歌曲，并想使用 AVAudioplayer 一个接一个地播放它们。但是当第一首歌结束时，它就停止了。如何从下一首歌曲开始播放器？我尝试了一个循环，它计算到 plist 中的下一个数字，但它不起作用。玩家在第一轮后停止。这应该很简单，但如何？这是我的代码的一部分。是否可以像我一样使用循环？

```
 NSString *soundsPath = [[NSBundle mainBundle] pathForResource:@"soundslist"  
ofType:@"plist"];
soundsList = [[NSArray alloc] initWithContentsOfFile:soundsPath];

 for (int n = 1; n<=5;n++) {
NSString *filename = [soundsList objectAtIndex:n]; //n is number in plist, counting upwards in a for...loop

NSString *path = [[NSBundle mainBundle] pathForResource:filename ofType:@"au"];
NSURL *fileURL = [[NSURL alloc] initFileURLWithPath: path];

 sound = [[AVAudioPlayer alloc] initWithContentsOfURL : fileURL error:nil];

sound.delegate = self;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:15:37.770

像这样尝试它会帮助你，

```
-(void)viewDidLoad{

 NSString *soundsPath = [[NSBundle mainBundle] pathForResource:@"soundslist"  
ofType:@"plist"];
soundsList = [[NSArray alloc] initWithContentsOfFile:soundsPath];
[self AddSongToAvplayer];
}

-(void)AddSongToAvplayer{

NSString *filename = [soundsList objectAtIndex:n]; //n is number in plist, counting upwards in a for...loop

NSString *path = [[NSBundle mainBundle] pathForResource:filename ofType:@"au"];
NSURL *fileURL = [[NSURL alloc] initFileURLWithPath: path];

 sound = [[AVAudioPlayer alloc] initWithContentsOfURL : fileURL error:nil];

sound.delegate = self;
n++;

 if(n<=[sound count])
    [NSTimer scheduledTimerWithTimeInterval:sound.duration target:self selector:@selector(AddSongToAvplayer) userInfo:nil repeats:NO];
} 
```

在上面的代码`sound.duration`中给出了那首特定歌曲的时间间隔，并基于该歌曲完成后，您可以使用计时器调用该方法。如果最后一首歌曲来了，则停止该方法`NSTimer`。

编辑：

```
-(IBAction)AddSongToAvplayer{
        if(n<=[sound count]){

    NSString *filename = [soundsList objectAtIndex:n]; //n is number in plist, counting upwards in a for...loop

    NSString *path = [[NSBundle mainBundle] pathForResource:filename ofType:@"au"];
    NSURL *fileURL = [[NSURL alloc] initFileURLWithPath: path];

     sound = [[AVAudioPlayer alloc] initWithContentsOfURL : fileURL error:nil];

    sound.delegate = self;
    n++;

    }

    } 
```

# ffmpeg - 使用 ffmpeg 将 FLV 转换为 MP4 格式后，MP4 文件有 0 个字节

> ID：15677900
> 
> 赞同：0
> 
> 时间：2013-03-28T09:10:10.877
> 
> 标签：ffmpeg, mp4, flv

使用`ffmpeg`我将 FLV 文件转换为 MP4 文件。但是 MP4 文件有 0 个字节。我用来转换的命令是

```
ffmpeg -i sample.flv -b 1104k -ab 122k sample.mp4 
```

这是我为上述 ffmpeg 命令得到的输出：

```
ffmpeg version 0.8.5-4:0.8.5-0ubuntu0.12.04.1, Copyright (c) 2000-2012 the Libav developers
  built on Jan 24 2013 18:01:36 with gcc 4.6.3
*** THIS PROGRAM IS DEPRECATED ***
This program is only provided for compatibility and will be removed in a future release. Please use avconv instead.
[flv @ 0x64f7a0] Estimating duration from bitrate, this may be inaccurate
Input #0, flv, from '/home/kirthiga/Desktop/videopine/test.flv':
  Metadata:
    creationdate    : Thu Mar 28 12:46:29
  Duration: 00:00:09.82, start: 0.000000, bitrate: N/A
    Stream #0.0: Video: flv, yuv420p, 320x240, 1k tbr, 1k tbn, 1k tbc
    Stream #0.1: Audio: nellymoser, 22050 Hz, mono, s16
[buffer @ 0x64f720] w:320 h:240 pixfmt:yuv420p
encoder 'aac' is experimental and might produce bad results.
Add '-strict experimental' if you want to use it. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T14:15:33.337

首先，您使用的是一个过时的、错误命名的和损坏的版本，`ffmpeg`它实际上不是来自 FFmpeg，而是来自 Libav，一个 FFmpeg 分支。[阅读更多信息](https://stackoverflow.com/questions/9477115/who-can-tell-me-the-difference-and-relation-between-ffmpeg-libav-and-avconv/9477756#9477756)。

错误是您的版本（出于某种原因）似乎没有配置任何其他库，因此您将很难以适当的质量实际转换为任何有用的东西。

为了使您的命令正常工作，`-strict experimental`应该这样做，但我建议您要么[下载](http://ffmpeg.org/trac/ffmpeg/wiki/CompilationGuide)最新的 FFmpeg[静态构建](http://ffmpeg.org/download.html)，要么使用诸如和.`libfdk_aac``libx264`

然后你可以这样做：

```
ffmpeg -i in.flv -crf 23 -c:v libx264 -c:a libfdk_aac -vbr 4 out.mp4 
```

在 18 和 28 之间更改 CRF 参数以控制质量。越少越好，默认为 23。对于音频，使用 VBR 选项设置质量，4 提供大约 128 kBit/s 的立体声，值从 1 到 5（越高意味着越好）。

如果您真的必须使用恒定比特率，请尝试以下操作：

```
ffmpeg -i in.flv -c:v libx264 -b:v 1104K -c:a libfdk_aac -b:a 122k out.mp4 
```

有关更多选项，请参阅FFmpeg wiki 上的[x264 编码指南](http://ffmpeg.org/trac/ffmpeg/wiki/x264EncodingGuide)和[AAC 编码指南。](http://ffmpeg.org/trac/ffmpeg/wiki/AACEncodingGuide)

# java - 带有动作的真值表

> ID：15677906
> 
> 赞同：5
> 
> 时间：2013-03-28T09:10:23.923
> 
> 标签：java, design-patterns

在我的代码中，我正在评估 3 个布尔值。
这些布尔真值的每种组合都需要不同的操作（例如，应该执行不同的方法）。
目前我正在使用 if-else 块（8 个选项，不是很好）。我想知道是否有另一种选择来编写这段代码，这将使它“更漂亮”。
也许是设计模式？
有人有想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:13:49.807

使用开关块

```
switch ((A?4:0) + (B?2:0) + (C?1:0)){
case  0: //A,B,C false 
break;

case  3: //A False, B,C true
break;

case  4: //A True, B,C false 
break;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:21:00.593

我建议你使用 [命令模式](http://en.wikipedia.org/wiki/Command_pattern)。

```
public interface Command {
     void exec();
}

public class CommandA() implements Command {

     void exec() {
          // ... 
     }
} 
```

构建一个 Map 对象并使用 Command 实例填充它：

然后你可以通过迭代地图来做这样的事情。

```
commandMap.get(value).exec(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T10:23:24.097

三个元素还不错，但是如果你的表包含 4 个或 5 个或 25 个呢？可以变得复杂。这是一种紧凑的技术，有些人会觉得很实用，而另一些人会被击落。

构建表格元素的字符串：

```
final boolean a = false, b = false, c = false;
final String method = "state"+(a?"AT":"AF")+(b?"BT":"BF")+(c?"CT":"CF"); 
```

这会产生如下字符串：

```
// stateAFBFCF
// stateAFBTCF
// stateAFBFCT
... 
```

创建相同名称的方法来处理每个状态组合：

```
public void stateAFBTCF() { }
public void stateAFBTCF() { }
public void stateAFBFCT() { }
... 
```

使用反射调用正确的方法：

```
final Class<?> _class = handler.getClass();
final Method _method = _class.getDeclaredMethod(methodName, new Class[] {});
_method.invoke(handler, new Object[] { }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:39:34.487

如果您有尽可能多的方法组合，您可以在不同方法的入口处检查组合：

```
public void a(boolean a, boolean b, boolean c) {
    if (a && !b && !c) {
    }
}

public void ab(boolean a, boolean b, boolean c) {
    if (a && b && !c) {
    }
}

public void abc(boolean a, boolean b, boolean c) {
    if (a && b && c) {
    }
}

public void ac(boolean a, boolean b, boolean c) {
    if (a && !b && c) {
    }
}

public void b(boolean a, boolean b, boolean c) {
    if (!a && b && !c) {
    }
}

public void bc(boolean a, boolean b, boolean c) {
    if (!a && b && c) {
    }
}

public void c(boolean a, boolean b, boolean c) {
    if (!a && !b && c) {
    }
}

public void none(boolean a, boolean b, boolean c) {
    if (!a && !b && !c) {
    }
} 
```

然后，只需调用所有这些：

```
a(a, b, c);
ab(a, b, c);
abc(a, b, c);
ac(a, b, c);
b(a, b, c);
bc(a, b, c);
c(a, b, c);
none(a, b, c); 
```

# ios - 动作脚本 3.0 问题，我的 swf 没有卸载

> ID：15677907
> 
> 赞同：0
> 
> 时间：2013-03-28T09:10:29.517
> 
> 标签：ios, actionscript-3, flash

使用 Flash for iOS 应用程序有点麻烦！我有一个按钮“开始”，它加载一个外部 swf。然后我有一个不同的按钮，“home”，它应该做三件事：

1.  卸载外部 swf
2.  停止所有声音
3.  返回第一帧

这一切似乎都可以工作，但似乎 SWF 永远不会卸载！我一遍又一遍地听到它。

```
 //code on frame follows...mythbutt_home

 stop();

//home button

mythbutt_home.addEventListener(MouseEvent.CLICK, fl_ClickToGoToAndStopAtFrame_4);

function fl_ClickToGoToAndStopAtFrame_4(event:MouseEvent):void
{
removeChild(fl_ProLoader_3);

}
mythbutt_home.addEventListener(MouseEvent.CLICK, fl_ClickToStopAllSounds);

function fl_ClickToStopAllSounds(event:MouseEvent):void
{
SoundMixer.stopAll();
}

mythbutt_home.addEventListener(MouseEvent.CLICK, fl_ClickToGoToAndStopAtFrame_1);

function fl_ClickToGoToAndStopAtFrame_1(event:MouseEvent):void
{
gotoAndStop(1);
}

//start button

start_button_aboriginal.addEventListener(MouseEvent.CLICK, fl_ClickToLoadUnloadSWF_3);

import fl.display.ProLoader;
var fl_ProLoader_3:ProLoader;

//This variable keeps track of whether you want to load or unload the SWF
var fl_ToLoad_3:Boolean = true;

function fl_ClickToLoadUnloadSWF_3(event:MouseEvent):void
{
if(fl_ToLoad_3)
{
    fl_ProLoader_3 = new ProLoader();
    fl_ProLoader_3.load(new URLRequest("myths/myth_aboriginal.swf"));
    addChild(fl_ProLoader_3);
    fl_ProLoader_3.x = 114;
    fl_ProLoader_3.y = 41;
 }
 else
 {
    fl_ProLoader_3.unload();
    removeChild(fl_ProLoader_3);
    fl_ProLoader_3 = null;
}
// Toggle whether you want to load or unload the SWF
fl_ToLoad_3 = !fl_ToLoad_3;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:44:28.110

首先，您不应该在多帧上执行此操作。最好使用外部 .as 文件。要正确卸载 swf，您需要删除对 swf 本身和 swf 中的对象的所有引用。这包括您应该使用如下弱引用的 EventListener：

```
// params: eventName, listener, capturePhase, priority, useWeakReference
someObj.addEventListener("eventName",myFunct,false,0,true); 
```

并使用 unloadAndStop(); 并先删除！

```
removeChild(fl_ProLoader_3);
fl_ProLoader_3.unloadAndStop();
fl_ProLoader_3 = null; 
```

并在你为空后跟踪加载器，看看输出是什么！

# javascript - javascript中许多构造函数参数的替代方案

> ID：15677909
> 
> 赞同：2
> 
> 时间：2013-03-28T09:10:39.073
> 
> 标签：javascript

基本上我想弄清楚如何避免在javascript的构造函数中有很多参数。原因是我和朋友一起制作太空游戏是为了好玩，而飞船是基于模块的。目前他们可以拥有一个引擎和许多传感器、武器和殖民地模块。可能还会有更多。每艘船都是根据规范建造的，所以要制造一艘船，你只需给它一个规范，船的建造者会处理剩下的事情。但是在制定规范时，我需要提供模块。我想避免的是这样做：

```
ShipSpec = function(civ, name, hull, engine, sensors, weapons, colony, ...) {} 
```

而且我不确定最好的解决方案是什么。目前我有一个访问者模式解决方案，其中每个模块都有一个“注册”方法。此方法有一个参数，然后将使用该参数注册自身（如果模块是武器，它会调用用于注册武器的方法，如果它是传感器，则会调用用于注册传感器的方法等）。那么我可以这样做：

```
ShipSpec = function(civ, name, hull, engine, modules) {} 
```

但是，我觉得这可能有点复杂。也许。不幸的是，我有时会使事情复杂化。创建规范然后在创建后将模块添加到其中会更好吗？或者这个解决方案好吗？这个问题还有其他解决方案吗？

而且我们计划让玩家可以创建规格并可能修改现有规格，所以我想以一种好的方式让它变得容易。

保重，克尔

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-28T09:12:42.927

考虑使用规范对象作为构造函数参数：

```
var spec = {
  civ: "...",
  name: "...",
  hull: "...",
  ...
};
ShipSpec = function(spec) {} 
```

这边走：

*   构造函数参数被命名，因此更容易掌握。
*   参数可以按任何顺序给出。
*   你可以省略一些论点。

# c - #define f(x1,x2) x1##x2 void main() { int i; 整数 s1,s10,s100,s1000; for(i=1;i<5;i*=10) printf("%d",(f(s,i)=i)); }

> ID：15677917
> 
> 赞同：-2
> 
> 时间：2013-03-28T09:11:06.380
> 
> 标签：c, tokenize

这是一段代码。但我知道这显然会给出一个错误“si undeclared”。是否有任何解决方案 i 是在令牌粘贴时替换为它的值

```
#define f(x1,x2) x1##x2 
void main() 
{ 
int i,s1,s10,s100,s1000; 

for(i=1;i<=1000;i*=10) 
printf("%d ",(f(s,i)=i));  
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T09:13:44.353

尝试使用`gcc -E`. 它将生成预处理器代码。你会发现预处理器代码是这样的

```
void main() 
{ 
    int i,s1,s10,s100,s1000; 

    for(i=1;i<=1000;i*=10) 
    printf("%d ",(si=i));  
} 
```

预处理器代码是编译器在构建二进制文件之前从原始代码生成的代码。在预处理器代码中，编译器将所有宏替换为其内容。所以你的编译器将替换`f(s,i)`为宏内容，因此将替换为`si`

**所以在 C 中这样做是不可能的**。我建议改用数组

而不是`s1`使用`s[1]`...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:22:57.163

重要的是要提到编译的步骤如下：

1.  预处理（处理所有#define、#include、#ifdef 等）
2.  编译（实际代码编译和生成目标文件）
3.  链接（将目标文件链接到二进制文件）

`#define`是 C 中的预处理器指令，这意味着如果您将执行以下操作：

```
#define MAX 1 
```

然后在所有有 a 的地方进行代码预处理后，`MAX`您将得到 1 而不是它。

以下：

```
#define f(x1,x2) x1##x2 
```

在预处理时进行连接`x1`和连接：`x2`

```
f(s, i) => si 
```

所以在编译时你会得到错误，因为`si`你的代码中没有定义变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:24:38.373

不，但是您可以使用数组来实现相同的目的：

```
int i,j;
int arr[4];

for(i=1,j=0;i<=1000;i*=10,j++) 
    printf("%d ",(arr[j]=i)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T09:27:45.293

不。原因是宏是预处理器的东西而不是运行时的东西。使用数组

```
int i,s[4]; 

for(i=1;i<=4;++i) 
   s[i] = pow(10,i);
} 
```

# ios - 如何为 UIWebView 添加背景图片？

> ID：15677927
> 
> 赞同：1
> 
> 时间：2013-03-28T09:11:26.457
> 
> 标签：ios, xcode, uiwebview, background, uiimage

如何为 UIWebView 添加背景图像作为纹理？我使用以下代码但它不起作用？

```
 _webView.backgroundColor=[UIColor colorWithPatternImage:[UIImage imageNamed:@"light.jpg"]]; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T09:33:56.917

这是解决方案

将此行添加到 viewDidload 方法

```
 [_webView setOpaque:NO]; 
```

将此行添加到您的 IBAction 方法中

```
_webView.backgroundColor=[UIColor colorWithPatternImage:[UIImage imageNamed:@"light.jpg"]]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:16:35.807

使用下面的代码

```
[_webView loadHTMLString:string baseURL:nil];
[_webView setOpaque:NO];
_webView.backgroundColor=[UIColor colorWithPatternImage:[UIImage imageNamed:@"light.jpg"]]; 
```

试试这个你会成功的

# iis - 如果页面名称包含列，如何重定向

> ID：15677928
> 
> 赞同：0
> 
> 时间：2013-03-28T09:11:33.040
> 
> 标签：iis

我的网站有几个外部链接，看起来像 www.sitename.com/pagename.asphttp://www.sitename.com/pagename.asp 。显然有人在发布这些时犯了错误。

我现在要做的是将此类 URL 重定向到 www.sitename.com/pagename.asp。到目前为止，我已经尝试将 .asphttp 文件与用于处理 ASP 页面的 DLL 相关联，但由于 : 字符，我仍然遇到问题。

所以基本上，我的问题是如何将 www.sitename.com/pagename.asp: 重定向到 www.sitename.com/pagename.asp （最后没有列）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T19:10:28.653

如果您了解 ASP 或 ASP.NET，则可以构建一个页面来捕捉这些错误并重定向到正确的页面。然后您可以配置 IIS 以将此页面用于 404 页面。

这是一个具有类似代码并显示 IIS 配置的示例项目：http: [//www.codeproject.com/Articles/18262/Using-HttpModules-with-URL-Re-writing-to-Handle-Fa](http://www.codeproject.com/Articles/18262/Using-HttpModules-with-URL-Re-writing-to-Handle-Fa)

我可能会更改代码，以便在原始 URL 中将“.asphttp://”替换为“.asp?”。它会让事情变得更简单。

# scripting - mirc $regsubex 替换 () 值

> ID：15677931
> 
> 赞同：0
> 
> 时间：2013-03-28T09:11:46.663
> 
> 标签：scripting, mirc

```
set %some1 (2)
set %some2 (3) 
```

现在我可以获取括号中 some1 的值并使用 $regsubex 将其更改为其他值
所以任何人都可以提供帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T15:01:44.687

您可以使用`$regex()`获取括号内的数值：

```
; find the value
noop $regex(%some1, (\d+))

; print the value
echo -a Value: $regml(1) 
```

将打印：

```
2 
```

同样，您可以使用相同的正则表达式，但`$regsub()`这次更改该值：

```
; replace the value inside the () and put it back in %some
noop $regsub(%some1, (\d+), 98765, %some1)

; print that value
echo -a %some1 
```

将打印：

```
(98765) 
```

# android - 使用 getStringSet 和 putStringSet 丢失一些值

> ID：15677937
> 
> 赞同：4
> 
> 时间：2013-03-28T09:12:00.487
> 
> 标签：android, sharedpreferences

我发现某些值`Set`在重新启动应用程序后已存储丢失。为什么？这是一个 Android API 错误吗？有人建议将字符串存储在数据库中。我还没有测试过，但我认为这个建议是解决问题的方法。`getStringSet`和怎么样`putStringSet`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T15:11:23.700

据我了解，这是一个错误。问题是当您尝试存储一个集合时，Android 会将您尝试保存的修改集合与存储在 SharedPreferences 中的当前集合进行比较。当它们是同一个对象（具有相同的引用）时，新的将被忽略。

一种解决方法是在存储之前创建集合的新副本。

[这](http://androiddev.orkitra.com/?p=7297)是详细信息，问题在[https://code.google.com/p/android/issues/detail?id=27801](https://code.google.com/p/android/issues/detail?id=27801)提交。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-10-16T02:06:31.263

SharedPreferences.Editor 编辑器 = preferences.edit();
editor.remove(key);
editor.commit();
editor.putStringSet(key, value);
editor.commit();

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-25T16:22:58.357

我在使用 SharedPreferences 时遇到了同样的问题。Android API 中似乎存在错误。我在[这里发了一个小帖子](http://bon-app-etit.blogspot.be/2013/08/android-bug-stringset-in.html)

对我来说最简单的方法是删除它，提交它，然后放入它并再次提交

# opengl - opengl中的2D地图渲染

> ID：15677941
> 
> 赞同：0
> 
> 时间：2013-03-28T09:12:08.207
> 
> 标签：opengl

我用一些小芯片图片来制作地图。当它是静态的时，一切正常。但是当我使用 glTranslated 来移动它时。它总是有一些轻微的颤抖。

我用它来初始化

```
glEnable(GL_FLAT);
glEnable(GL_DEPTH_TEST);
glEnable(GL_TEXTURE_2D);
glEnable(GL_ALPHA_TEST);
glAlphaFunc(GL_GREATER , 0.5); 
```

我在显示功能中使用它。

```
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);  
glPushMatrix();
glTranslated(-_viewpos.x, _viewpos.y, 0);
if(_displayFunc)
{
  _displayFunc(this, time0);
}
glPopMatrix(); 
```

这是渲染图片

```
glEnable(GL_TEXTURE_2D);
glBindTexture(GL_TEXTURE_2D, _texture);
glBegin(GL_QUADS);
glTexCoord2d(0.0, 0.0);glVertex2d(p1.x, p1.y);
glTexCoord2d(0.0, 1.0);glVertex2d(p2.x, p2.y);
glTexCoord2d(1.0, 1.0);glVertex2d(p3.x, p3.y);
glTexCoord2d(1.0, 0.0);glVertex2d(p4.x, p4.y);
glDisable(GL_TEXTURE_2D);
glEnd(); 
```

我认为问题可能是当我将坐标从 int 更改为 double 时，它​​可能有像素偏移？如何解决？

# android - 如何复制数据库

> ID：15677942
> 
> 赞同：0
> 
> 时间：2013-03-28T09:12:08.467
> 
> 标签：android, database

我怎样才能复制**Suggestions.db**

```
/data/data/com.android.vending/databases/ 
```

**至**

```
/data/data/MY_PACKAGE/databases/ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T09:17:32.953

由于安全限制，您无法在非 root 手机上执行此操作。如果您想使用 root，请参阅[这篇文章](https://stackoverflow.com/a/5293771/361230)。

# java - 访问不在构建路径上的java中的属性文件

> ID：15677943
> 
> 赞同：0
> 
> 时间：2013-03-28T09:12:09.897
> 
> 标签：java, file, properties, buildpath

我创建了一个 java maven web 应用程序。现在我的问题是我必须使用资源包或属性类访问属性文件。但是这个属性文件位于 webapp/resources 文件夹中，即与我的 js 和 css 文件位于同一目录中。

我有这个实用方法，但如果需要，我可以编写新的：

```
public static ResourceBundle getBundle(String baseName, String absolutePath) {
    File file = new File(absolutePath);
    ResourceBundle bundle = null;
    try {
        URL[] urls = { file.toURI().toURL() };
        ClassLoader loader = Thread.currentThread().getContextClassLoader();
        bundle = ResourceBundle.getBundle(baseName, Locale.getDefault(), loader);
    } catch (MalformedURLException e) {
    }
    return bundle;
} 
```

我的项目结构：

```
-project

 -------src

   --------main
           ---------java
           ---------resources
           ---------webapp
                    ----------resources
                              -----------app.properties
                              -----------script.js 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:21:39.987

您的属性文件似乎与 Web 应用程序根目录相关。在这种情况下，您可以[在 ServletContext 中使用 getResource()](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html#getResource%28java.lang.String%29)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:22:31.257

您可以向自己发出 HttpUrlConnection (mydomain/myapp/resources/app.properties) 但我会说这是一个丑陋的解决方案

更常见的方法是将您的 app.properties 重新定位到您的类路径中（例如：src/main/resources）。那么如果你使用Spring，你可以使用ClasspathResource。或者你可以阅读这篇文章：[How to really read text file from classpath in Java](https://stackoverflow.com/questions/1464291/how-to-really-read-text-file-from-classpath-in-java)

请记住，将 app.properties 放在那里可能意味着您的所有用户都能够阅读 app.properties

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T08:53:54.490

我终于通过将我的 webapp/resources 文件夹添加到类路径来让它工作。将其添加到类路径后，我们可以简单地这样做 -

```
ResourceBundle bundle = ResourceBundle.getBundle(bundleName); 
```

# bitmap - 如何更改wix中单选按钮和复选框的背景灰色？

> ID：15677947
> 
> 赞同：7
> 
> 时间：2013-03-28T09:12:15.717
> 
> 标签：bitmap, wix, radio-button

我有一个单选按钮组和一个覆盖白色背景位图的复选框。单选按钮和复选框显示为默认背景控件颜色（灰色）。有没有办法在wix中将这些控件的背景颜色更改为白色？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T03:39:01.937

不用担心，这是众所周知的 WiX 限制。基本上复选框和单选按钮都不支持透明度，因此默认为灰色背景。

解决方法是更改​​背景位图以适合这些控件的灰色背景，或者创建不带文本的单选/复选框按钮，然后在它们旁边的文本应该位于的位置创建透明文本标签。唯一的缺点是无法再通过单击文本来选择或取消选择控件。

这是应用于复选框控件的第二个建议的小示例：

```
<Control Id="LaunchCheckBox" Type="CheckBox" X="134" Y="126" Width="10" Height="10" Property="LAUNCHAPPONEXIT" CheckBoxValue="1" Text=" " > 
<Condition Action="show">NOT Installed</Condition> 
</Control> 
<Control Id="LaunchText" Type="Text" X="149" Y="126" Width="170" Height="17" Text="Launch $(var.ProductNameForDisplay)" Transparent="yes" > 
<Condition Action="show">NOT Installed</Condition> 
</Control> 
```

# php - 如何修复 PHPEclipse 中的撤消历史错误？

> ID：15677949
> 
> 赞同：0
> 
> 时间：2013-03-28T09:12:17.957
> 
> 标签：php, eclipse, phpeclipse

[PHPEclipse](http://www.phpeclipse.com/)的撤消历史在带有 PHPEclipse 1.2.x 的 Eclipse 3.8 中仍然被打破。

编辑 PHP 文件时，您只能撤消**历史记录中的 25 次更改！**

PHPEclipse 站点上没有 3.8 的安装说明，所以我使用**了 PHPEclipse 1.2.x**，如安装页面所述：[http ://www.phpeclipse.com/wiki/Installation](http://www.phpeclipse.com/wiki/Installation)

在此错误的主要跟踪器页面上，它现在已修复： [http ://www.phpeclipse.com/ticket/705](http://www.phpeclipse.com/ticket/705)

我问开发商。他说，这仍然不是 1.2.x 稳定版本的一部分，而是在夜间版本中。

在右侧的 PHPEclipse 页面上，有这样的：

> Indigo (eclipse 3.8.1) 的 1.2.x 每晚开发
> [版 1.2.x 每晚更新站点](http://phpeclipse.sourceforge.net/update/indigo/nightly)

那么，如果我之前已经安装了稳定版本，我该如何安装该夜间版本呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T01:04:56.737

安装 nightly build 时的主要问题是，可能未选中“按类别分组项目”复选框，否则您看不到任何要选择的包！

安装 PHPEclipse nightly build 下

```
Window->Preferences->Install/Update->Available Software Sites 
```

选择：

​<a href="http://phpeclipse.sourceforge.net/update/indigo/nightly/" rel="nofollow">http://phpeclipse.sourceforge.net/update/indigo/nightly/

（请确保未选中“按类别分组项目”复选框！）

如果您之前安装了 PHPEclipse 的稳定版本，请先在该屏幕右下角的“已安装内容”下卸载这三个条目（PHPEclipse、Xdebug 和 DBG）

# c++ - 使用优先级队列分离链接（使用 std::map）

> ID：15677956
> 
> 赞同：0
> 
> 时间：2013-03-28T09:12:42.100
> 
> 标签：c++, c++11, hashmap, hashtable, priority-queue

我刚开始学习哈希表，在尝试使用 std::map 时我想出了这个问题：当使用单独的链接方法来解决冲突时，我可以使用`std:: priority_queue`而不是仅仅使用列表吗？

例如，有一大群人，我有他们的名字和年龄的信息，而我想要得到的是具有相同名字的人的排序列表，例如“大卫”基于他们的年龄。

所以要做到这一点，我首先使用他们的名字作为将这些人放入地图的键，然后应该根据年龄使用 std::priority_queue 解决导致冲突的同名人员。

这是解决这个问题的正确方法吗？而且我只是意识到我并不真正了解背后的奥秘`std::map`，是使用单独的链接还是线性探测来解决碰撞？我找不到答案。

我所描述的问题的简单代码可能有助于澄清一点：

```
class people {

public:
people(string inName, int inAge):firstName(inName), age(inAge){};
private:

string firstName;
int age;

}

int main(int argc, char ** argv) {

string name;
int age;

name = "David";
age = 25;
people  aPerson(name, age);
//This is just an example, there are usually more than two attributes to deal with.

std::map <string, people> peopleList;

peopleList[name] = aPerson;

//now how do I implement the priority queue for collision first names? 
} 
```

提前致谢！

编辑：因为我需要 O(1) 搜索，所以我应该使用无序地图而不是地图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:23:40.963

现在你有一个名称和单个`people`对象之间的映射。您需要将映射更改为 name 和 a 之间的映射，并`std::priority_queue`为优先级队列使用自定义比较器：

```
auto comparator = [](const people& p1, const people& p2) -> bool
    { return (p1.age < p2.age); }

std::map<std::string,
         std::priority_queue<people, std::vector<people>, comparator>> peopleList;

// ...

peopleList[name].push(aPerson); 
```

# c# - LINQ中查询表达式和方法表达式的区别？

> ID：15677958
> 
> 赞同：22
> 
> 时间：2013-03-28T09:12:43.917
> 
> 标签：c#, linq

我不知道上面的标题是否合适。

就像`a`和`b`：

```
var list = Enumerable.Range(0, 100);

var a = from l in list
        where l % 2 == 0
        select l;
var b = list.Where(l => l % 2 == 0); 
```

我应该什么时候使用它们中的每一个？有什么区别吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-28T09:13:57.200

无，查询表达式编译为方法表达式。

[LINQ (C#) 中的查询语法和方法语法](http://msdn.microsoft.com/en-us/library/vstudio/bb397947.aspx)

> 因为查询返回一个 IEnumerable，所以您可以通过将方法调用链接在一起来将它们组合成方法语法。这是 **编译器在您使用查询语法编写查询时在后台执行的操作**

另请参阅：[LINQ 查询表达式（C# 编程指南）](http://msdn.microsoft.com/en-us/library/bb397676.aspx)

> **在编译时，查询表达式会根据 C# 规范中规定的规则**转换为标准查询运算符方法调用。**任何可以用查询语法表达的查询，也可以用方法语法表达。但是，在大多数情况下，查询语法更具可读性和简洁性。有关详细信息，请参阅 C# 语言规范和标准查询运算符概述。**

 **除了我发现在查询表达式中无法完成的事情的一个地方是获取索引以及项目。例如，您可以在方法语法中执行以下操作：

```
var result = list.Select((r,i) => new { value = r, index = i}); 
```

在查询表达式中，必须定义一个外部变量来实现此目的。这是一个类似的讨论，[来自 Jon Skeet 的回答](https://stackoverflow.com/a/269070/961113)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-28T09:16:57.590

## 不

它们之间没有区别。

从[`Query Syntax and Method Syntax in LINQ`](http://msdn.microsoft.com/en-us/library/vstudio/bb397947.aspx)

> 因为查询返回一个 IEnumerable，所以您可以通过将方法调用链接在一起来将它们组合成方法语法。**这是编译器在您使用查询语法编写查询时在后台执行的操作。**并且由于查询变量不存储查询结果，因此您可以随时修改它或将其用作新查询的基础，即使在它已经执行之后也是如此。

也来自[`LINQ Query Expressions`](http://msdn.microsoft.com/en-us/library/bb397676.aspx)

> **在编译时，查询表达式被转换为标准查询运算符方法调用。**

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-28T09:14:48.623

查询表达式由编译器转换为标准方法调用。

```
var a = from l in list
        where l % 2 == 0
        select l;

var b = list.Where(l => l % 2 == 0); 
```

这两个在编译代码中完全相同。

但是，并非所有方法都在查询表达式语法中具有关联的关键字。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-28T09:15:09.473

没有区别，看个人喜好。如果你愿意，你甚至可以混合这两种风格。

Linq 关键字由 C# 编译器转换为方法调用语法。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-28T12:23:54.053

不同的是，事实上，没有。
实际上，它是一回事，只是编译器将 $a$ 的表达式转换为与 $b$ 的表达式等效的表达式。**

# android - 从 ArrayList 获取字符串并保存在 Shared Preferences 中

> ID：15677960
> 
> 赞同：2
> 
> 时间：2013-03-28T09:12:46.887
> 
> 标签：android, arraylist

我有一个可以包含 1 到 15 个字符串的 ArrayList。这些字符串需要保存在我的共享首选项中，现在我知道如何遍历数组以获取字符串。我不知道，有没有一种干净的方法可以将字符串动态添加到我的共享首选项文件中？我可以通过创建 15 个字符串并使用 if 语句来填充共享首选项以缓慢的方式做到这一点，但我想知道是否有更好的方法。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:17:04.063

您可以使用 中`putStringSet`提供的方法`SharedPreferences.Editor`来存储字符串数组。例如：

```
String[] array = new String[]{"this", "is", "a", "string", "array"};
SharedPreferences.Editor edit = sharedPrefs.edit();
edit.putStringSet("myKey", new HashSet<String>(Arrays.asList(array)));
edit.commit(); 
```

或者**，如果您的 API 低于 11**，那么您可以将字符串数组转换为单个字符串并像普通字符串一样保存。例如：

```
edit.putString("myKey", TextUtils.join(",", array)); 
```

然后使用以下内容从字符串重建您的数组：

```
array = TextUtils.split(sharedPrefs.getString("myKey", null), ","); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-28T09:21:23.843

如果是关于命名，您可以使用以下内容：

```
public static final String mPrefix = "mArray";
SharedPreferences prefs;
prefs  = this.getSharedPreferences("PREF", 0);
prefsEditor = appSharedPrefs.edit();

//mAL is your ArrayList

for(int i=0; i<mAl.size(); i++){

prefsEditor.putString(mPrefix + "-" + i, mAl.get(i));
}
prefsEditor.commit(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T09:25:25.203

主要是编辑共享首选项数据，您需要从中获取编辑器对象，以便您可以自由编辑它以便将数据放入其中：

```
SharedPrefernces preferences = mContext.getSharedPreferences(MODE_PRIVATE);
Editor prefEditor = preferences.edit();
prefEditor.putString("this is a key object","this is value of the key"); 
```

您还可以放入不同类型的对象，例如： boolean 、 int 、 float 、 double 等......只需在 android 开发者网站上查找编辑器类......

为了从 sharedPrefrences 中读取数据，它更加简单

```
SharedPrefrences pref = mContext.getSharedPreferences(MODE_PRIVATE);
pref.getString("the key of the value"); 
```

# php - 在 Zend Framework 中搜索一组记录

> ID：15677961
> 
> 赞同：0
> 
> 时间：2013-03-28T09:12:44.683
> 
> 标签：php, mysql, zend-framework

我已经编写了代码来搜索名字和姓氏并显示这些特定记录（如果可用）并对这些记录执行更新和删除等操作，我编写了以下代码进行搜索，请告诉我构建的正确方法是什么搜索控制器。我收到以下错误：

```
Message: Method "select" does not exist and was not trapped in __call() 
```

我在控制器中编写的代码是：

```
public function searchAction($params)
{
    $query = $this->select()
                 ->from(
                array('EMPLOYEES'),
                array('FIRST_NAME','LAST_NAME','SALARY','HIREDATE')
                );
$query = $this->_makeParams($query,$params);
return $this->fetchAll($query);
}

private function _makeParams($query, $params)
{
    $firstname = isset($params['firstname']) ? trim($params['firstname']) : '';
    $lastname = isset($params['lastname']) ? trim($params['lastname']) : '';
$salary = isset($params['salary']) ? trim($params['salary']) : '';
$hiredate= isset($params['hiredate']) ? trim($params['hiredate']) : '';

if($firstname!='')
{
    $name = '%'.$this->quote($firstname).'%';//quote is my own function
    $query->where("EMPLOYEES.FIRST_NAME LIKE '?'",$firstname); 
    }

if($lastname!='')
{
    $query->where("EMPLOYEES.LAST_NAME =?",$lastname);
}

if($salary!='')
{
    $query->where("EMPLOYEES.SALARY=?",$salary);
}

if($hiredate!='')
{
    $query->where("EMPLOYEES.HIRE_DATE=?",$hiredate);
}
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:14:14.033

```
public function searchAction($params)
{
    $db      = Zend_Registry :: get('db');
    $select  = $db->select();
    $query = $select->from(
                array('EMPLOYEES'),
                array('FIRST_NAME','LAST_NAME','SALARY','HIREDATE')
                );
$query = $this->_makeParams($query,$params);
return $this->fetchAll($query);
} 
```

您收到错误是因为您尚未创建 Zend 注册表的对象。所以复制该函数并替换您的代码

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T09:49:19.353

您的错误来自您`select()`对控制器对象而不是数据库对象的调用：

```
public function searchAction($params)
{
    //$this in this context is a Zend_Controller_Action object
    //you need to query against your database object.
    $db = Zend_Db_Table::getDefaultAdapter();
    $query = $db->select()
                 ->from(
                array('EMPLOYEES'),
                array('FIRST_NAME','LAST_NAME','SALARY','HIREDATE')
                );
$query = $this->_makeParams($query,$params);
//again make sure to query against the database object
return $db->fetchAll($query);
} 
```

如果您没有在 bootstrap.php 或 application.ini 中创建数据库对象，您可以使用 Zend_Db 创建一个：

```
$db = Zend_Db::factory('Pdo_Mysql', array(
    'host'     => '127.0.0.1',
    'username' => 'webuser',
    'password' => 'xxxxxxxx',
    'dbname'   => 'test'
)); 
```

# android - Android 飞出式菜单布局和样式

> ID：15677962
> 
> 赞同：-3
> 
> 时间：2013-03-28T09:12:47.293
> 
> 标签：android, listview, layout, styling, flyout

我正在尝试制作像[Prixing](http://cyrilmottier.com/media/2012/05/the-making-of-prixing-fly-in-app-menu-part-1/app_menu_large.png)这样的菜单。我已经实现了代码，我唯一需要知道谁来制作我的应用程序的外观和感觉，即弹出菜单的 xml 布局的内容和格式。那是具有不同布局（部分和项目）的自定义 Listview 和适配器，还是类似于具有可自定义项目的菜单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T09:29:29.800

我猜[滑动菜单](https://github.com/jfeinstein10/SlidingMenu)适合你的目的。

示例代码：

```
 SlidingMenu menu = new SlidingMenu(this);
        menu.setMode(SlidingMenu.LEFT);
        menu.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
        menu.setShadowWidthRes(R.dimen.shadow_width);
        menu.setShadowDrawable(R.drawable.shadow);
        menu.setBehindOffsetRes(R.dimen.slidingmenu_offset);
        menu.setFadeDegree(0.35f);
        menu.attachToActivity(this, SlidingMenu.SLIDING_CONTENT);
        menu.setMenu(R.layout.menu); 
```

# excel - 范围查找日期列

> ID：15677964
> 
> 赞同：1
> 
> 时间：2013-03-28T09:12:58.733
> 
> 标签：excel, vba

下面的过程有时会给出错误的输出。有人可以修改它，以便当要搜索的日期不可用时，它应该将日期增加 1 并再次搜索，直到找到可用的日期。

示例：如果我搜索“2012 年 1 月 1 日”并且如果它不可用，那么它应该将日期增加到“2012 年 2 月 1 日”并处理搜索，直到找到匹配值并返回范围地址（如果找到）。

注意：范围格式“M/d/yyyy”

```
Sub test()

Dim rng As Range
Set rng = Sheet1.Range("A:A").Find("1/1/2012")

Debug.Print rng.Address
'output $A$3288
'"1/1/2012" is not available.
End Sub 
```

![在此处输入图像描述](../Images/fe223c89c89bff9332a7057b1ffc16d2.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T09:29:57.617

从评论中复制以匹配已解决的问题...

...尝试添加`.Find`方法的其他参数：

```
Set rng = Sheet1.Range("A:A").Find("1/1/2012", LookIn:=xlValues, LookAt:=xlWhole) 
```

# c++ - Tinyxml - 针对 x64 平台时的链接错误

> ID：15677965
> 
> 赞同：8
> 
> 时间：2013-03-28T09:13:00.353
> 
> 标签：c++, tinyxml

我正在使用[tinyxml](http://www.grinninglizard.com/tinyxml/)库来解析项目中的 XML 文件。当我尝试以 x64 平台为目标时，我收到了 LINKER 错误，这是其中之一：

> 错误 4 错误 LNK2001：无法解析的外部符号“私有：静态结构 TiXmlString::Rep TiXmlString::nullrep_”(?nullrep_@TiXmlString@@0URep@1@A) ClassThatUsesTinyXML.obj

**更新**：我认为未安装 x64 版本的 tinyxml，但是当我尝试为 x64 平台构建库时出现此错误：

```
LNK1561: entry point must be defined 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T09:02:51.443

我没有为项目构建 tinyxml `x64 platforms`，然后将其添加`tinyxml.h`到`tinystr.h`项目中，而是添加了包括文件在内的所有库文件`.cpp`，现在我可以针对 x64 平台，事实上，该库是在我构建整个项目时构建的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-07T23:37:46.233

看起来 tinyxml 不支持开箱即用的共享库构建。

以下是我从 tinyxml 2.6.2 源构建 DLL 的步骤：

1.  `tinyxml.sln`在 MS Visual Studio Express 2012 for Windows Desktop 中打开提供的 SLN 文件。提示时选择将旧项目文件转换为新格式。
2.  从“解决方案平台”中，选择“配置管理器...”
3.  从“活动解决方案平台：”中选择“<新建...>”
4.  如果尚未选择，请在“键入或选择新平台：”中选择“x64”。确保从“Win32”配置中复制设置。单击确定。单击关闭退出配置管理器。
5.  右键单击解决方案资源管理器中的 tinyxml 项目。选择“属性”。
6.  对于“配置：”，选择“所有配置”。同样，对于“平台：”选择“所有平台”。
7.  在配置属性 → 常规页面上，将“配置类型”更改为“动态库 (.dll)”。将“目标扩展”更改为“.dll”。单击确定退出 tinyxml 属性页对话框。
8.  选择“发布”配置和“x64”平台。
9.  再次右键单击解决方案资源管理器中的 tinyxml 项目，然后选择“重建”。

你会在里面`tinyxml_2_6_2\tinyxml\x64\Release`找到`tinyxml.dll`，但没有导入库 ( `tinyxml.lib`)。这是因为没有导出符号。请参阅[如何在 Visual C++ 中构建导入库 (.lib) 和 DLL？](https://stackoverflow.com/questions/584041/how-do-i-build-an-import-library-lib-and-a-dll-in-visual-c)

如果您想使用共享库路线，则需要通过特定于 MSVC 的`__declspec(dllexport)`修饰符导出所需的符号。请参阅[Windows 中的符号可见性](https://stackoverflow.com/questions/12717991/symbol-visibility-in-windows)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-10-06T17:33:17.263

当您为库的编译定义 TIXML_USE_STL 时会发生错误，而不是为链接到库的源定义。最终结果是使用与使用该库的源代码不同的代码编译该库。

# jquery - $(this).find("li") 和 $("li", $(this)) 之间的区别

> ID：15677974
> 
> 赞同：4
> 
> 时间：2013-03-28T09:13:34.563
> 
> 标签：jquery

在创建 jQuery 插件时，我发现了很多用途

```
var obj = $(this);     
$("li:even", obj) 
```

选择当前项目。这是如何运作的？因为在写 jQuery 代码片段时，我曾经写过

```
 $(this).find("li"); 
```

有人可以解释一下以便更好地理解吗？参考此代码是[here](http://www.queness.com/post/112/a-really-simple-jquery-plugin-tutorial/page/2#comments)。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-28T09:14:42.343

两者做同样的事情。事实上，如果你深入挖掘，你会发现`$("li:even", obj)`最终调用`obj.find("li:even")`.

您可能知道该[`$()`函数](http://api.jquery.com/jQuery/#jQuery1)（该变体）在 DOM 中查找元素。接受第二个参数的表单只是为它提供了一个起点，告诉它只在您作为第二个参数提供的 jQuery 集中查找元素的后代。当然，这是什么`find`。

我记得看到一个 jQuery 主要开发人员对问题单的评论，他们正在考虑放弃`$()`接受起点的版本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T09:14:36.327

> $("li:even", obj)

在上面的语句中，`context`传递给选择器。这等于`$(this).find("li:even");`

根据 jQuery 文档，选择器的语法是[jQuery( selector [, context ] )](http://api.jquery.com/jQuery/)

*这四个都会带来相同的结果。*

```
var obj = $(this);
$("li:even", obj) 
```

*或者*

```
$("li:even", this) 
```

*或者*

```
$("li:even", $(this)) 
```

*或者*

```
$(this).find("li:even"); 
```

# symfony - 在 Symfony 2.3.0-DEV (Windows) 中配置 Assetic、Sass、Compass

> ID：15677978
> 
> 赞同：2
> 
> 时间：2013-03-28T09:13:44.810
> 
> 标签：symfony, sass, compass-sass, assetic, symfony-2.3

我在 中安装了 Ruby `C:\Ruby200-x64`，PATH 设置为`C:\Ruby200-x64\bin`并运行：

```
gem update --system
gem install sass
gem install compass 
```

然后我在以下位置配置了 Assetic `app/config/config.yml`：

```
ruby:           C:\Ruby200-x64\bin\ruby.exe
sass:           C:\Ruby200-x64\bin\sass.bat
filters:
    compass:
        bin: C:\Ruby200-x64\bin\compass.bat 
```

在`app/Resources/views/base.html.twig`我添加了样式表块：

```
{% stylesheets
    'css/main.scss' filter="compass" %}
    <link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %} 
```

scss 文件指向`/web/css/main.scss`在 prod 中进行测试，我将使用这些`bundles/bundlename/...`路径。

然后，当我尝试安装和转储资产时：

```
php app/console assets:install
php app/console assetic:dump 
```

使用 .bat 结束路径时出现此错误：

```
 [Assetic\Exception\FilterException]
  An error occurred while running:
  "C:\Ruby200-x64\bin\ruby.EXE" "C:\Ruby200-x64\bin\compass.bat" "compile" "C:\Users\Jes·s\AppData\Local\Temp" "--config" "C:\Users\Jes·s\AppData\Local\Temp\assC7D6.tmp" "--sass-dir" "" "--css-dir" "" "C:/Users/Jes·s/AppData/Local/Temp/assC7D7.tmp.scss"

  Error Output:
  C:/Ruby200-x64/bin/compass.bat:1: syntax error, unexpected tCONSTANT, expecting end-of-input 
```

这在不使用 .bat 扩展名时：

```
[Assetic\Exception\FilterException]
An error occurred while running:
"C:\Ruby200-x64\bin\ruby.exe" "C:\Ruby200-x64\bin\compass" "compile" "C:\Users\Jes·s\AppData\Local\Temp" "--config" "C:\Users\Jes·s\AppData\Local\Temp\ass52DB.tmp" "--sass-dir" "" "--css-dir" "" "C:/Users/Jes·s/AppData/Local/Temp/ass52DC.tmp.scss"

Error Output:
Configuration file, C:\Users\Jes·s\AppData\Local\Temp\ass52DB.tmp, not found or not readable. 
```

我看到了这些（和其他）：

*   [如何在 Windows 下的 Symfony2 中使用 SCSS 过滤器？](https://stackoverflow.com/questions/9622960/how-to-use-scss-filter-in-symfony2-under-windows/9658410#9658410)
*   [https://github.com/kriswallsmith/assetic/issues/299](https://github.com/kriswallsmith/assetic/issues/299)
*   [https://github.com/symfony/AsseticBundle/issues/158](https://github.com/symfony/AsseticBundle/issues/158)尝试了很多东西，但我被卡住了......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T11:24:08.377

没有 .bat 的版本是正确的，但是看起来像“Jes·s”文件夹名称会导致问题（应该有 u 带重音符号？）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-02T02:01:52.313

你的 config.yml 应该是这样的

```
assetic:
    debug:          "%kernel.debug%"
    use_controller: false
    bundles:        [ AJWPageBundle ]
#    compass.bin: W:\Ruby\1.9.2\bin\compass.bat
    java: /usr/bin/java
    ruby:           'W:\Ruby\bin\ruby.exe'
    sass:           'W:\Ruby\bin\sass.bat'
    filters:
        cssrewrite: ~
        sass:
          bin: %sass.bin%
          apply_to: "\.scss$"
        compass:
            bin: %compass.bin%
        closure:
            jar: "%kernel.root_dir%/Resources/java/compiler.jar"
        yui_css:
            jar: "%kernel.root_dir%/Resources/java/yuicompressor-2.4.7.jar"
parameters:
     assetic.ruby.bin: 'W:\Ruby\bin\ruby'
     compass.bin: 'W:\Ruby\bin\compass'
     sass.bin:  'W:\Ruby\bin\sass' 
```

确保修改路径以匹配您的文件系统。请注意，有些末尾有 .exe 或 .bat，有些则没有

接下来在控制台中执行“php app/console assets:install” 这应该在 web/bundles 中创建与您的 src/bundles 目录匹配的目录。

从那里你应该找到你将在下面的示例中调用的 scss 文件的路径：bundles/mybundle/css/bootstrap.scss

在您看来：

```
{% stylesheets
'bundles/mybundle/css/bootstrap.scss' output='css/*.css' filter="compass" %}
<link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %} 
```

最后在控制台中执行“php app/consoleassetic:dump”

这应该是您在 2014 年 2 月 1 日这个特定时间点所要做的全部 - 我不需要为 ruby​​ 修改任何批处理文件

您会发现assetic 会找到文件 web/bundles/mybundle/css/bootstrap.css 和您可能添加的任何其他 css 文件，将它们组合起来，然后将它们保存到 web/css/nameofile_123456.css 并在末尾附加一些数字确保如果有更新，浏览器会被强制下载新版本。

# printing - 如何在 Windows 8 中使用 C#/XAML 自定义设备魅力栏？

> ID：15677986
> 
> 赞同：0
> 
> 时间：2013-03-28T09:14:25.690
> 
> 标签：printing, windows-8, charms-bar

我有一个要求，需要在 Windows 8 中自定义设备魅力栏吗？

我需要在设备超级按钮栏中添加一个按钮或任何其他控件。

1.  可能吗？
2.  如果是，我们如何定制它？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T10:48:43.220

您当然可以像这样向设备的超级按钮栏添加命令：我假设您想要添加到设置超级按钮栏。

创建一个类示例 AppSettings

```
public AppSetting()
{
    SettingsPane.GetForCurrentView().CommandsRequested += OnCommandsRequested;
    SizeChanged += AppSettingSizeChanged;
}

private void OnCommandsRequested(SettingsPane settingsPane, SettingsPaneCommandsRequestedEventArgs eventArgs)
{
    eventArgs.Request.ApplicationCommands.Clear();

    UICommandInvokedHandler handler = new UICommandInvokedHandler(OnSettingsCommand);

    // Some command
    SettingsCommand someCommand = new SettingsCommand("uniqueID", "NameofLabel", handler);
            eventArgs.Request.ApplicationCommands.Add(someCommand);
}

private void OnSettingsCommand(IUICommand command)
{
    Logger.Log("Called");
    SettingsCommand settingsCommand = (SettingsCommand)command;
    string id =  settingsCommand.Id as string;
    switch (id)
        {
         case someID:
          {
           ShowSomeUI();
          } break;

         case otherID:
          {
           ShowSomeOtherUI();
          } break;
        }
}

    protected void ShowSomeUI()
    {
//Implement anything you want here
    } 
```

使用上面的类并让你的应用程序的第一个类继承自这个类，以便将命令添加到超级按钮栏并在点击时实现任何内容。

PS如果这不清楚或没有回答你的问题，请告诉我。

# iphone - 如何在 App 中注销 Facebook

> ID：15677994
> 
> 赞同：1
> 
> 时间：2013-03-28T09:14:44.310
> 
> 标签：iphone, xcode, facebook, ipad

我有一个使用 facebook sdk 的 iPhone 应用程序。我应该包括一个注销（清除以前的用户总信息）按钮，以从我的应用程序中注销当前用户。如何在我的应用程序中注销？有没有办法做到这一点。我不知道该怎么做，帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T11:25:55.377

使用此代码

> if (FBSession.activeSession.isOpen) { [FBSession.activeSession closeAndClearTokenInformation]; }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T09:28:52.797

试试下面一个

```
-(void) logoutFromFacebook: (id) logoutDelegate
 {

fbServiceRequestingobj = logoutDelegate;
[facebook logout:self];
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:23:51.857

会话被保留是因为 facebook 的 cookie 已经存在于您的手机中。您也必须清除 cookie。

试试这个代码。您可以将其放在您正在使用的注销功能中。

```
NSHTTPCookieStorage* cookies = [NSHTTPCookieStorage sharedHTTPCookieStorage];
NSArray* facebookCookies = [cookies cookiesForURL:
                              [NSURL URLWithString:@"http://login.facebook.com"]];

for (NSHTTPCookie* cookie in facebookCookies) {
  [cookies deleteCookie:cookie];
} 
```

**注意：**您还需要从您保存的位置删除所有信息，例如我们的 facebook 令牌、用户详细信息。可能是您使用过的，也可能是`NSUserDefaults`db。你也必须清楚这一点。