# StackOverflow 问答 15265000-15265999

# django - Django - 管理表单中的动态字段

> ID：15265000
> 
> 赞同：0
> 
> 时间：2013-03-07T06:58:54.110
> 
> 标签：django, django-forms, django-admin

我想对 Django 管理表单进行一些高级定制。

在编辑对象时，我想根据 1 个 obj 字段动态显示不同的字段（添加 obj 时它们不可见）。可能存在一种情况，以验证额外的字段。例如，当对象具有“临时”类型时，我必须显示 2 个带日期的字段，并验证它们。如果对象是“可更新的”，我需要显示 2 个具有不同验证的不同字段。我搜索了很多页面，但没有找到一种严格的方法。

最好的方法是什么？

*   为每个对象类型单独`Form`设置并设置表单属性`ModelAdmin`？如果是，用哪种`ModelAdmin`方法（`change_view()`？）？
*   动态更新方法中的[字段](https://docs.djangoproject.com/en/1.3/ref/contrib/admin/#django.contrib.admin.ModelAdmin.fields)`get_form()`？

最好的方法是什么？

# iphone - ABAddressBookGetGroupCount 没有给出正确的计数

> ID：15265007
> 
> 赞同：4
> 
> 时间：2013-03-07T06:59:10.390
> 
> 标签：iphone, ios, contacts, addressbook, abaddressbook

我需要返回特定组的所有联系人。所以一直在尝试做一些提取所有联系人的示例代码。首先需要找到电话簿中的所有组。当我打开电话簿时，我发现已经创建了 2 个组，因为我在**Settings->Mail,Contacts,Calendars**中设置了 2 个帐户。`iCloud`和雅虎帐户。

以下是我为获取所有组名而编写的代码

```
ABAddressBookRef addressBookRef = ABAddressBookCreateWithOptions(NULL, NULL);

    if (ABAddressBookGetAuthorizationStatus() == kABAuthorizationStatusNotDetermined) {
        ABAddressBookRequestAccessWithCompletion(addressBookRef, ^(bool granted, CFErrorRef error)
                                                 {
                                                     // First time access has been granted, add the contact
                                                     // NSLog(@" given access..asked first time");
                                                     [self getContacts:addressBookRef];
                                                 });
    }
    else
        [self getContacts:addressBookRef];
}

-(void) getContacts:(ABAddressBookRef) addressBookRef
{
    NSString* groupName;
    CFArrayRef groups = ABAddressBookCopyArrayOfAllGroups(addressBookRef);
    CFIndex count = ABAddressBookGetGroupCount(addressBookRef);
    for (int i=0; i<count;i++) {
         ABRecordRef record = CFArrayGetValueAtIndex(groups, i);
         groupName = ( NSString *)ABRecordCopyCompositeName(record);
         NSLog(@"Group %d : %@",i+1,groupName);
    }
} 
```

现在我应该得到 2 而我得到 0。谁能建议我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-29T15:38:32.587

ABAddressBookGetAuthorizationStatus() 是否有可能返回 kABAuthorizationStatusRestricted 或 kABAuthorizationStatusDenied？根据您提供的代码片段，返回值 kABAuthorizationStatusRestricted 或 kABAuthorizationStatusDenied 将使您进入 getContacts 方法，而无需适当的通讯簿授权。

# iphone - 使用 MKCoordinateRegion 将 MKMapView 聚焦在 NSString 纬度和经度坐标上

> ID：15265009
> 
> 赞同：6
> 
> 时间：2013-03-07T06:59:42.327
> 
> 标签：iphone, ios, objective-c, xcode

我有一个纬度和经度坐标，我想把我的地图集中在上面。它们存储为 NSStrings 并转换为以下位置：

```
NSString *placeLatitude = [elementCoords objectForKey:@"placeLatitude"];
NSString *placeLongitude = [elementCoords objectForKey:@"placeLongitude"];

CLLocationCoordinate2D location;
location.latitude = [placeLatitude doubleValue];
location.longitude = [placeLongitude doubleValue]; 
```

我将如何修改以下内容以不关注用户的当前位置，而是关注上面指定的纬度和经度？

```
MKCoordinateRegion mapRegion;
mapRegion.center = mapView.userLocation.coordinate;
mapRegion.span.latitudeDelta = 0.05;
mapRegion.span.longitudeDelta = 0.05; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T07:11:58.420

```
 MKCoordinateRegion region;
   CLLocation *locObj = [[CLLocation alloc] initWithCoordinate:CLLocationCoordinate2DMake([placeLatitude doubleValue], [placeLongitude doubleValue])
                                                   altitude:0
                                         horizontalAccuracy:0
                                           verticalAccuracy:0
                                                  timestamp:[NSDate date]];
    region.center = locObj.coordinate;  
    MKCoordinateSpan span; 
    span.latitudeDelta  = 1; // values for zoom
    span.longitudeDelta = 1; 
    region.span = span;
    [self.mapView setRegion:region animated:YES]; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-07T07:22:47.973

我会用[`setCenterCoordinate:animated:`](http://developer.apple.com/library/ios/documentation/MapKit/Reference/MKMapView_Class/MKMapView/MKMapView.html#//apple_ref/occ/instm/MKMapView/setCenterCoordinate%3aanimated%3a)它来移动地图焦点。如果您正在加载视图并希望立即将其设置到正确的位置，请设置`animated:NO`，否则，如果您想平移地图以平滑居中，请`location`设置`animated:YES`

`[mapView setCenterCoordinate:location animated:YES];`

当然，这不会改变地图视图的缩放级别。如果要更新缩放级别，则应使用[`setRegion:animated:`](http://developer.apple.com/library/ios/documentation/MapKit/Reference/MKMapView_Class/MKMapView/MKMapView.html#//apple_ref/occ/instm/MKMapView/setRegion%3aanimated%3a). 例如，如果您想放大两倍接近：

```
// Halve the width and height in the zoom level.
// If you want a constant zoom level, just set .longitude/latitudeDelta to the
// constant amount you would like.
// Note: a constant longitude/latitude != constant distance depending on distance
//       from poles or equator.
MKCoordinateSpan span =
    { .longitudeDelta = mapView.region.span.longitudeDelta / 2,
      .latitudeDelta  = mapView.region.span.latitudeDelta  / 2 };

// Create a new MKMapRegion with the new span, using the center we want.
MKCoordinateRegion region = { .center = location, .span = span };
[mapView setRegion:region animated:YES]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-09-27T14:34:06.320

**更新为 Swift 3**

```
let span = MKCoordinateSpan(latitudeDelta: mapView.region.span.latitudeDelta / 2, longitudeDelta: mapView.region.span.latitudeDelta  / 2)

        // Create a new MKMapRegion with the new span, using the center we want.
        let region = MKCoordinateRegion(center: location, span: span)

        mapView.setRegion(region, animated: true) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-18T06:51:42.280

```
CLLocationCoordinate2D location;
location.latitude =  [[[matchingItems objectAtIndex:j] valueForKey:@"latitude"] doubleValue];
location.longitude = [[[matchingItems objectAtIndex:j] valueForKey:@"longitude"] doubleValue];

MKCoordinateRegion region = MKCoordinateRegionMakeWithDistance (location, 2000, 2000);
[mywebView setRegion:region animated:YES]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T07:04:43.863

不将用户当前位置设置为 mapRegion 中心。您必须将坐标设置为地图中心位置

# javascript - 使用 javascript 选择整个输入值时，文本框值应更改

> ID：15265012
> 
> 赞同：0
> 
> 时间：2013-03-07T07:00:05.747
> 
> 标签：javascript, jsp

如果第一个文本框达到最大长度，我有两个文本框，它会自动聚焦到第二个文本框。
现在的问题是再次输入 maxlength 后，我选择在第一个文本框中输入的整个值并尝试编辑不同的值，但它移动到第二个文本框。

```
<!DOCTYPE html>

<html>
    <body>
        <script>
        function branchAutoTab(){

            current = document.getElementById('primaryFilterBranchTextBox1');

            next = document.getElementById('primaryFilterBranchTextBox2');

            if (current.getAttribute&&current.value.length==current.getAttribute("maxlength")){

                next.focus();
            }
        }
        </script>

        <input id="primaryFilterBranchTextBox1" type="text" maxlength="3" class="controlFormatExtraSmall" onkeypress="javascript:if (event.keyCode!=8)branchAutoTab();" >
        &nbsp;&nbsp;Producer&nbsp;
        <input id="primaryFilterBranchTextBox2" type="text" maxlength="6" class="controlFormatExtraSmall"/> 
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:08:42.013

在代码片段中使用 onkeydown 而不是 onkeypress：

```
<input id="primaryFilterBranchTextBox1" type="text" maxlength="3" class="controlFormatExtraSmall" onkeypress="javascript:if (event.keyCode!=8)branchAutoTab();" > &nbsp;&nbsp;Producer&nbsp;
          <input id="primaryFilterBranchTextBox2" type="text" maxlength="6" class="controlFormatExtraSmall"/> 
```

用这个：

```
<input id="primaryFilterBranchTextBox1" type="text" maxlength="3" class="controlFormatExtraSmall" onkeydown="javascript:if (event.keyCode!=8)branchAutoTab();" > &nbsp;&nbsp;Producer&nbsp;
          <input id="primaryFilterBranchTextBox2" type="text" maxlength="6" class="controlFormatExtraSmall"/> 
```

修改if逻辑如下：

if (current.getAttribute&¤t.value.length>current.getAttribute("maxlength")){ current.value=current.value.substr(0,current.value.length); 下一个焦点（）；}

检查这是否有帮助

# javascript - 查找包含文本和一些动态 html 的 div

> ID：15265019
> 
> 赞同：0
> 
> 时间：2013-03-07T07:00:27.160
> 
> 标签：javascript, jquery

我在正文中有一些 html，其中文本是静态的，并且每次刷新时生成的跨度都是动态的。

```
<div class="dynamically_generated_class">Your message has been discarded.&nbsp;&nbsp;<!--Static text-->

<!--Dynamically generated span-->
<span class="ag ca" id="link_undo" tabindex="0" role="link" idlink="">
Undo discard</span>
</div> 
```

我需要使用`Your message has been discarded.&nbsp;&nbsp;`文本找到父 div 的类。

任何使用 javascript 或 jquery 的帮助都会很棒。谢谢...！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:05:48.520

不知道你在这里要求什么......但看起来你需要的是[：包含](http://api.jquery.com/contains-selector/)

试试这个

```
 $("div:contains('Your message has been ')").attr('class'); 
```

[在这里摆弄](http://jsfiddle.net/bipen/5VZY9/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:12:27.860

```
var divs = document.getElementsByTagName('div');
var results = [];
for(var i = 0; i < divs.length; i++){
    if(divs[i].innerHTML.indexOf('Your message has been discarded.&nbsp;&nbsp;') != -1)
        results.push(divs[i].className);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T07:26:47.550

试试下面的代码：

```
 var classname = $("div:contains('Your message has beendiscarded.&nbsp;&nbsp;')").attr('class'); 
```

# windows-phone-8 - 数据连接签入 Windows Phone 8 开发

> ID：15265020
> 
> 赞同：0
> 
> 时间：2013-03-07T07:00:29.850
> 
> 标签：windows-phone-8

我们使用 WCF 服务来获取数据到控件。我们是否需要检查网络连接可用性？

注意：我们没有找到任何用于检查网络可用性的应用程序认证相关点。如果不检查任何认证失败？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:02:50.080

您可以检查是否有可用的连接（第一个功能）或连接类型（第二个功能）

```
public static bool checkConnection()
    {
        return Microsoft.Phone.Net.NetworkInformation.NetworkInterface.GetIsNetworkAvailable();
    }

    public static int typeConnection()
    {
        switch (Microsoft.Phone.Net.NetworkInformation.NetworkInterface.NetworkInterfaceType)
        {
            default:
                return 0;
            case Microsoft.Phone.Net.NetworkInformation.NetworkInterfaceType.MobileBroadbandCdma:
                return 1;
            case Microsoft.Phone.Net.NetworkInformation.NetworkInterfaceType.MobileBroadbandGsm:
                return 1;
            case Microsoft.Phone.Net.NetworkInformation.NetworkInterfaceType.None:
                return 2;
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-25T13:10:36.843

您可以使用：

```
using Microsoft.Phone.Net.NetworkInformation;
public bool isNetworkConnected()
{
  return DeviceNetworkInformation.IsNetworkAvailable;
} 
```

奇迹般有效。

# r - R XML：如何检索具有给定值的节点

> ID：15265023
> 
> 赞同：3
> 
> 时间：2013-03-07T07:00:47.297
> 
> 标签：r, xml-parsing, wikimedia-dumps

这是我正在使用的 XML 文件片段：

```
<page>
  <title>AccessibleComputing</title>
  <ns>0</ns>
  <id>10</id>
  <redirect title="Computer accessibility" />
  <revision>
    <id>381202555</id>
    <parentid>381200179</parentid>
    <timestamp>2010-08-26T22:38:36Z</timestamp>
    <contributor>
      <username>OlEnglish</username>
      <id>7181920</id>
    </contributor>
    <minor />
    <comment>[[Help:Reverting|Reverted]] edits by [[Special:Contributions/76.28.186.133|76.28.186.133]] ([[User talk:76.28.186.133|talk]]) to last version by Gurch</comment>
    <text xml:space="preserve">#REDIRECT [[Computer accessibility]] {{R from CamelCase}}</text>
    <sha1>lo15ponaybcg2sf49sstw9gdjmdetnk</sha1>
    <model>wikitext</model>
    <format>text/x-wiki</format>
  </revision>
</page>
<page>
  <title>AfghanistanGeography</title>
  <ns>0</ns>
  <id>14</id>
  <redirect title="Geography of Afghanistan" />
  <revision>
    <id>407008307</id>
    <parentid>74466619</parentid>
    <timestamp>2011-01-10T03:56:19Z</timestamp>
    <contributor>
      <username>Graham87</username>
      <id>194203</id>
    </contributor>
    <minor />
    <comment>1 revision from [[:nost:AfghanistanGeography]]: import old edit, see [[User:Graham87/Import]]</comment>
    <text xml:space="preserve">#REDIRECT [[Geography of Afghanistan]] {{R from CamelCase}}</text>
    <sha1>0uwuuhiam59ufbu0uzt9lookwtx9f4r</sha1>
    <model>wikitext</model>
    <format>text/x-wiki</format>
  </revision>
</page>
<page>
  <title>AfghanistanPeople</title>
  <ns>0</ns>
  <id>15</id>
  <redirect title="Demography of Afghanistan" />
  <revision>
    <id>135089040</id>
    <parentid>74466558</parentid>
    <timestamp>2007-06-01T13:59:37Z</timestamp>
    <contributor>
      <username>RussBot</username>
      <id>279219</id>
    </contributor>
    <minor />
    <comment>Robot: Fixing [[Special:DoubleRedirects|double-redirect]] -&quot;Demographics of Afghanistan&quot; +&quot;Demography of Afghanistan&quot;</comment>
    <text xml:space="preserve">#REDIRECT [[Demography of Afghanistan]] {{R from CamelCase}}</text>
    <sha1>744dgrl7ef5p53yffn2a989ly1dyr8f</sha1>
    <model>wikitext</model>
    <format>text/x-wiki</format>
  </revision>
</page> 
```

现在，给定值“AccessibleComputing”，我如何检索 XMLInternalElementNode（对应于“AccessibleComputing”？我尝试使用 getNodeSet 但没有成功。

谢谢。

**更新的问题**

我应该首先提到整个 sample.xml 文件。就是这样。我面临的问题如下：

```
<mediawiki xmlns="http://www.mediawiki.org/xml/export-0.8/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.8/ http://www.mediawiki.org/xml/export-0.8.xsd" version="0.8" xml:lang="en">
  <siteinfo>
    <sitename>Wikipedia</sitename>
    <base>http://en.wikipedia.org/wiki/Main_Page</base>
    <generator>MediaWiki 1.21wmf8</generator>
    <case>first-letter</case>
    <namespaces>
      <namespace key="-2" case="first-letter">Media</namespace>
      <namespace key="-1" case="first-letter">Special</namespace>
      <namespace key="0" case="first-letter" />
      <namespace key="1" case="first-letter">Talk</namespace>
      <namespace key="2" case="first-letter">User</namespace>
      <namespace key="3" case="first-letter">User talk</namespace>
      <namespace key="4" case="first-letter">Wikipedia</namespace>
      <namespace key="5" case="first-letter">Wikipedia talk</namespace>
      <namespace key="6" case="first-letter">File</namespace>
      <namespace key="7" case="first-letter">File talk</namespace>
      <namespace key="8" case="first-letter">MediaWiki</namespace>
      <namespace key="9" case="first-letter">MediaWiki talk</namespace>
      <namespace key="10" case="first-letter">Template</namespace>
      <namespace key="11" case="first-letter">Template talk</namespace>
      <namespace key="12" case="first-letter">Help</namespace>
      <namespace key="13" case="first-letter">Help talk</namespace>
      <namespace key="14" case="first-letter">Category</namespace>
      <namespace key="15" case="first-letter">Category talk</namespace>
      <namespace key="100" case="first-letter">Portal</namespace>
      <namespace key="101" case="first-letter">Portal talk</namespace>
      <namespace key="108" case="first-letter">Book</namespace>
      <namespace key="109" case="first-letter">Book talk</namespace>
      <namespace key="446" case="first-letter">Education Program</namespace>
      <namespace key="447" case="first-letter">Education Program talk</namespace>
      <namespace key="710" case="first-letter">TimedText</namespace>
      <namespace key="711" case="first-letter">TimedText talk</namespace>
    </namespaces>
  </siteinfo>
  <page>
    <title>AccessibleComputing</title>
    <ns>0</ns>
    <id>10</id>
    <redirect title="Computer accessibility" />
    <revision>
      <id>381202555</id>
      <parentid>381200179</parentid>
      <timestamp>2010-08-26T22:38:36Z</timestamp>
      <contributor>
        <username>OlEnglish</username>
        <id>7181920</id>
      </contributor>
      <minor />
      <comment>[[Help:Reverting|Reverted]] edits by [[Special:Contributions/76.28.186.133|76.28.186.133]] ([[User talk:76.28.186.133|talk]]) to last version by Gurch</comment>
      <text xml:space="preserve">#REDIRECT [[Computer accessibility]] {{R from CamelCase}}</text>
      <sha1>lo15ponaybcg2sf49sstw9gdjmdetnk</sha1>
      <model>wikitext</model>
      <format>text/x-wiki</format>
    </revision>
  </page>
  <page>
    <title>History</title>
    <ns>0</ns>
    <id>13</id>
    <redirect title="History of " />
    <revision>
      <id>74466652</id>
      <parentid>15898948</parentid>
      <timestamp>2006-09-08T04:15:52Z</timestamp>
      <contributor>
        <username>Rory096</username>
        <id>750223</id>
      </contributor>
      <comment>cat rd</comment>
      <text xml:space="preserve">#REDIRECT [[History of ]] {{R from CamelCase}}</text>
      <sha1>d4tdz2eojqzamnuockahzcbrgd1t9oi</sha1>
      <model>wikitext</model>
      <format>text/x-wiki</format>
    </revision>
  </page>
  <page>
    <title>Geography</title>
    <ns>0</ns>
    <id>14</id>
    <redirect title="Geography of " />
    <revision>
      <id>407008307</id>
      <parentid>74466619</parentid>
      <timestamp>2011-01-10T03:56:19Z</timestamp>
      <contributor>
        <username>Graham87</username>
        <id>194203</id>
      </contributor>
      <minor />
      <comment>1 revision from [[:nost:Geography]]: import old edit, see [[User:Graham87/Import]]</comment>
      <text xml:space="preserve">#REDIRECT [[Geography of ]] {{R from CamelCase}}</text>
      <sha1>0uwuuhiam59ufbu0uzt9lookwtx9f4r</sha1>
      <model>wikitext</model>
      <format>text/x-wiki</format>
    </revision>
  </page>
  <page>
    <title>People</title>
    <ns>0</ns>
    <id>15</id>
    <redirect title="Demography of " />
    <revision>
      <id>135089040</id>
      <parentid>74466558</parentid>
      <timestamp>2007-06-01T13:59:37Z</timestamp>
      <contributor>
        <username>RussBot</username>
        <id>279219</id>
      </contributor>
      <minor />
      <comment>Robot: Fixing [[Special:DoubleRedirects|double-redirect]] -&quot;Demographics of &quot; +&quot;Demography of &quot;</comment>
      <text xml:space="preserve">#REDIRECT [[Demography of ]] {{R from CamelCase}}</text>
      <sha1>744dgrl7ef5p53yffn2a989ly1dyr8f</sha1>
      <model>wikitext</model>
      <format>text/x-wiki</format>
    </revision>
  </page>
</mediawiki> 
```

我如何获得标题元素值为“AccessibleComputing”的页面节点。我尝试了以下方法：

```
doc = xmlTreeParse('sample.xml',useInternalNodes=TRUE)
getNodeSet(doc, "//page[title=\"AccessibleComputing\"]") 
```

它回来了

```
list()
attr(,"class")
[1] "XMLNodeSet" 
```

预期输出：

```
[[1]]
<page>
  <title>AccessibleComputing</title>
  <ns>0</ns>
  <id>10</id>
  <redirect title="Computer accessibility"/>
  <revision>
    <id>381202555</id>
    <parentid>381200179</parentid>
    <timestamp>2010-08-26T22:38:36Z</timestamp>
    <contributor>
      <username>OlEnglish</username>
      <id>7181920</id>
    </contributor>
    <minor/>
    <comment>[[Help:Reverting|Reverted]] edits by [[Special:Contributions/76.28.186.133|76.28.186.133]] ([[User talk:76.28.186.133|talk]]) to last version by Gurch</comment>
    <text xml:space="preserve">#REDIRECT [[Computer accessibility]] {{R from CamelCase}}    </text>
    <sha1>lo15ponaybcg2sf49sstw9gdjmdetnk</sha1>
    <model>wikitext</model>
    <format>text/x-wiki</format>
  </revision>
</page> 

attr(,"class")
[1] "XMLNodeSet" 
```

我想我的 XPath 查询不正确 - 一次出现的“siteinfo”节点破坏了我的尝试。有什么建议么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:22:10.660

为了解析你的文件，我添加了一个新标签

```
<pages>
....
</pages> 
```

然后使用`xpathSApply`，我可以检索所有，所有标题元素：

```
library(XML)
doc = xmlTreeParse('c:/temp/testxml.xml',useInternalNodes=TRUE)
xpathSApply(doc,'//page/title',xmlValue)
"AccessibleComputing"  "AfghanistanGeography" "AfghanistanPeople" 
```

您还可以`getNodeSet`：

```
getNodeSet(doc,'//page/title')
[[1]]
<title>AccessibleComputing</title> 

[[2]]
<title>AfghanistanGeography</title> 

[[3]]
<title>AfghanistanPeople</title> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:37:16.763

如果您正在寻找任何具有标题值的页面，`AccessibleComputing`那么您应该使用`getNodeSet(doc,'//page[title="AccessibleComputing"]')`

如果您想获取任何具有名为 title 的直接子节点的节点， `AccessibleComputing`那么您应该使用`getNodeSet(doc,'//node()[title="AccessibleComputing"]')`

```
library(XML)

xml <- "<pages><page>\n<title>AccessibleComputing</title>\n<ns>0</ns>\n<id>10</id>\n<redirect title=\"Computer accessibility\" />\n<revision>\n<id>381202555</id>\n<parentid>381200179</parentid>\n<timestamp>2010-08-26T22:38:36Z</timestamp>\n<contributor>\n<username>OlEnglish</username>\n<id>7181920</id>\n</contributor>\n<minor />\n<comment>[[Help:Reverting|Reverted]] edits by [[Special:Contributions/76.28.186.133|76.28.186.133]] ([[User talk:76.28.186.133|talk]]) to last version by Gurch</comment>\n<text xml:space=\"preserve\"> %InLiNe_IdEnTiFiEr% \"#REDIRECT [[Computer accessibility]] {{R from CamelCase}}</text>\"\n<sha1>lo15ponaybcg2sf49sstw9gdjmdetnk</sha1>\n<model>wikitext</model>\n<format>text/x-wiki</format>\n</revision>\n</page>\n<page>\n<title>AfghanistanGeography</title>\n<ns>0</ns>\n<id>14</id>\n<redirect title=\"Geography of Afghanistan\" />\n<revision>\n<id>407008307</id>\n<parentid>74466619</parentid>\n<timestamp>2011-01-10T03:56:19Z</timestamp>\n<contributor>\n<username>Graham87</username>\n<id>194203</id>\n</contributor>\n<minor />\n<comment>1 revision from [[:nost:AfghanistanGeography]]: import old edit, see [[User:Graham87/Import]]</comment>\n<text xml:space=\"preserve\"> %InLiNe_IdEnTiFiEr% \"#REDIRECT [[Geography of Afghanistan]] {{R from CamelCase}}</text>\"\n<sha1>0uwuuhiam59ufbu0uzt9lookwtx9f4r</sha1>\n<model>wikitext</model>\n<format>text/x-wiki</format>\n</revision>\n</page>\n<page>\n<title>AfghanistanPeople</title>\n<ns>0</ns>\n<id>15</id>\n<redirect title=\"Demography of Afghanistan\" />\n<revision>\n<id>135089040</id>\n<parentid>74466558</parentid>\n<timestamp>2007-06-01T13:59:37Z</timestamp>\n<contributor>\n<username>RussBot</username>\n<id>279219</id>\n</contributor>\n<minor />\n<comment>Robot: Fixing [[Special:DoubleRedirects|double-redirect]] -&quot;Demographics of Afghanistan&quot; +&quot;Demography of Afghanistan&quot;</comment>\n<text xml:space=\"preserve\"> %InLiNe_IdEnTiFiEr% \"#REDIRECT [[Demography of Afghanistan]] {{R from CamelCase}}</text>\"\n<sha1>744dgrl7ef5p53yffn2a989ly1dyr8f</sha1>\n<model>wikitext</model>\n<format>text/x-wiki</format>\n</revision>\n</page></pages>"

doc = xmlTreeParse(xml, useInternalNodes = TRUE)

# If you want to get page which has immediate child node called title whose
# value is 'AccessibleComputing'
getNodeSet(doc, "//page[title=\"AccessibleComputing\"]")
## [[1]]
## <page>
##   <title>AccessibleComputing</title>
##   <ns>0</ns>
##   <id>10</id>
##   <redirect title="Computer accessibility"/>
##   <revision><id>381202555</id><parentid>381200179</parentid><timestamp>2010-08-26T22:38:36Z</timestamp><contributor><username>OlEnglish</username><id>7181920</id></contributor><minor/><comment>[[Help:Reverting|Reverted]] edits by [[Special:Contributions/76.28.186.133|76.28.186.133]] ([[User talk:76.28.186.133|talk]]) to last version by Gurch</comment><text xml:space="preserve"> %InLiNe_IdEnTiFiEr% "#REDIRECT [[Computer accessibility]] {{R from CamelCase}}</text>"
## <sha1>lo15ponaybcg2sf49sstw9gdjmdetnk</sha1><model>wikitext</model><format>text/x-wiki</format></revision>
## </page> 
## 
## attr(,"class")
## [1] "XMLNodeSet"

# If you want to get any node which has immediate child node called title whose
# value is 'AccessibleComputing'
getNodeSet(doc, "//node()[title=\"AccessibleComputing\"]")
## [[1]]
## <page>
##   <title>AccessibleComputing</title>
##   <ns>0</ns>
##   <id>10</id>
##   <redirect title="Computer accessibility"/>
##   <revision><id>381202555</id><parentid>381200179</parentid><timestamp>2010-08-26T22:38:36Z</timestamp><contributor><username>OlEnglish</username><id>7181920</id></contributor><minor/><comment>[[Help:Reverting|Reverted]] edits by [[Special:Contributions/76.28.186.133|76.28.186.133]] ([[User talk:76.28.186.133|talk]]) to last version by Gurch</comment><text xml:space="preserve"> %InLiNe_IdEnTiFiEr% "#REDIRECT [[Computer accessibility]] {{R from CamelCase}}</text>"
## <sha1>lo15ponaybcg2sf49sstw9gdjmdetnk</sha1><model>wikitext</model><format>text/x-wiki</format></revision>
## </page> 
## 
## attr(,"class")
## [1] "XMLNodeSet" 
```

# php - CodeIgniter PHP MySQL 查询查看

> ID：15265024
> 
> 赞同：1
> 
> 时间：2013-03-07T07:00:50.567
> 
> 标签：php, mysql, arrays, codeigniter, variables

**我在这里遗漏了一些东西，我无法通过控制器将变量通过模型传递到视图。**

**我正在接收：** *网站在检索网站时遇到错误。它可能因维护而停机或配置不正确。* **目前。**

**如果我删除第二个** *$this->load->model('testingsearch');* **然后我收到以下错误消息：**

> 遇到 PHP 错误
> 
> 严重性：通知
> 
> 消息：未定义的属性：HW::$testingsearch
> 
> 文件名：控制器/hw.php
> 
> 行号：63

**模型：**

```
<?php

class TestingSearch extends Model
{
function Messages()
{
    parent::Model();
}

function getMessages($id)
{
    $this->db->distinct();
    $this->db->select('*');
    $this->db->where('id', $id);
    $result = $this->db->get('HWC');

    if (!$result) {
        return false;
    } else {
        return $result;
        echo $result;
    }
}
}
?> 
```

**控制器：**

```
<?php

class HW extends CI_Controller {

function Thiscontroller()
{
  parent::Controller();
  $this->load->database(); // This should be autoloaded

  $this->load->model('testingsearch');
}

function id($id='') {
       $this->load->model('testingsearch');
         $data['records'] = $this->testingsearch->getMessages($id);

   $this->load->view('searchresults', $data);

}

} 
```

**看法：**

```
<ul>
<?php foreach ($records->result() as $row) { ?>
<li><?php echo $row->id; ?></li>
<li><?php echo $row->ModelName; ?></li>
<li><?php echo $row->Color; ?></li>
<? } ?>
</ul> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:19:28.233

试试这个：请更改 ::::::

型号代码：

```
function getMessages($id)
{
    $this->db->distinct();
    $this->db->select('*');
    $this->db->where('id', $id);
    $result = $this->db->get('HWC');

    return $result->result();
} 
```

查看代码：-

```
<ul>
<?php foreach ($records as $row) { ?>
<li><?php echo $row->id; ?></li>
<li><?php echo $row->ModelName; ?></li>
<li><?php echo $row->Color; ?></li>
<? } ?>
</ul> 
```

它将解决您的问题.......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:14:22.027

您没有向控制器发送任何内容。只有您发送指示符，无论模型函数返回真还是假。返回对象

模型：

```
Class TestingSearch extends CI_Model
{
    function __construct()
    {
        parent::__construct();
    }

    function getMessages($id)
    {
        $this->db->distinct();
        $this->db->select('*');
        $this->db->where('id', $id);
        $result = $this->db->get('HWC');

        return $result->result();
    }
} 
```

控制器：

```
class HW extends CI_Controller 
{
    function __construct()
    {
      parent::__construct();
      $this->load->database(); // This should be autoloaded

      $this->load->model('testingsearch');
    }

    function id($id='') 
    {
        $this->load->model('testingsearch');
        $data['records'] = $this->testingsearch->getMessages($id);
        $this->load->view('searchresults', $data);
    }
} 
```

看法：

```
<ul>
    <?php foreach ($records->result() as $row) { ?>
        <li><?php echo $row->id; ?></li>
        <li><?php echo $row->ModelName; ?></li>
        <li><?php echo $row->Color; ?></li>
    <? } ?>
</ul> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:21:35.043

您的模型的错误扩展

```
 // model should extend CI_Model
    class TestingSearch extends CI_Model{
        // then add additional constructor to call the model
        function __construct(){
              paret::__construct();
        }
    }

 // in controller
class HW extends CI_Controller {
 // change your call to the constructor by using
 function HW(){
     parent::CI_Controller()
     // then load the model
     $this->load->model('testingsearch');
  }
 } 
```

# ios - 删除集合视图中的整行后，装饰视图没有被删除

> ID：15265028
> 
> 赞同：6
> 
> 时间：2013-03-07T07:00:53.693
> 
> 标签：ios, uicollectionview

我在`UICollectionView`by subclassing中添加了装饰视图`UICollectionViewFlowLayout`。我`m placing decoration view under each row in collection view. It`工作正常。出现装饰视图。但问题是在删除一整行项目后，装饰视图没有从集合视图中删除。但是页眉和页脚视图已正确重新定位，它不是由我处理的。我不知道删除后在哪里删除装饰视图。帮我。我对装饰视图的计算`prepareLayout`很好，装饰视图的数量和框架是正确的

![在此处输入图像描述](../Images/1fb53e56ae0b81d27b3ef2bbea5f31a8.png) ![在此处输入图像描述](../Images/d2df1de5eacc7607cafc964a4d278f65.png)

**(图 1) 删除前 (图 2) 删除后**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-28T06:30:39.350

我没有从任何其他来源得到答案。所以我会根据我的经验来回答。实际上，***删除项目后，集合视图不会删除装饰视图的补充视图（页眉/页脚）***。你必须手动完成。可能这将是collectionView中的一个错误。

***在prepareLayout***方法 中移除装饰视图

```
 /// Collection view is not removing the added decoraion views afeter deletion. Remove yourself to fix that
for (UIView *view in self.collectionView.subviews) {
    if ([view isKindOfClass:[DecorationView class]])
    {
        [view removeFromSuperview];
    }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-12-05T04:32:19.657

使用方法`UICollectionViewLayout`删除补充/装饰视图：

```
func prepare(forCollectionViewUpdates updateItems: [UICollectionViewUpdateItem])

func indexPathsToDeleteForSupplementaryView(ofKind elementKind: String) -> [IndexPath]

func indexPathsToInsertForDecorationView(ofKind elementKind: String) -> [IndexPath] 
```

如果您不熟悉它们，那么您应该仔细阅读[文档](https://developer.apple.com/documentation/uikit/uicollectionviewlayout)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-02-27T18:29:45.900

从 iOS 7 开始，您可以在集合视图数据更改时覆盖`-indexPathsToInsertForDecorationViewOfKind:`并在自定义布局中添加/删除装饰视图。`-indexPathsToDeleteForDecorationViewOfKind:`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-06T15:23:52.480

这实际上不是一个错误。[每个文档](https://developer.apple.com/library/prerelease/ios/documentation/WindowsViews/Conceptual/CollectionViewPGforIOS/CreatingCustomLayouts/CreatingCustomLayouts.html#//apple_ref/doc/uid/TP40012334-CH5-SW12)的装饰视图独立于数据源。

> 装饰视图是增强集合视图布局外观的视觉装饰。与单元格和补充视图不同，装饰视图仅提供视觉内容，因此独立于数据源。您可以使用它们来提供自定义背景、填充单元格周围的空间，甚至根据需要隐藏单元格。装饰视图仅由布局对象定义和管理，不与集合视图的数据源对象交互。

如果您想说，在您的集合视图后面添加背景图像，则装饰视图会更适合，它的显示保持独立于数据。

页眉、页脚和其他补充视图可以通过以下方法使用数据源进行更新：

```
 collectionView(collectionView: UICollectionView, viewForSupplementaryElementOfKind kind: String, atIndexPath indexPath: NSIndexPath) -> UICollectionReusableView 
```

并且它们的定位和布局可以通过覆盖来控制

```
layoutAttributesForElementsInRect(rect: CGRect) -> [AnyObject]? 
```

和

```
layoutAttributesForSupplementaryViewOfKind(elementKind: String, atIndexPath indexPath: NSIndexPath) -> UICollectionViewLayoutAttributes! 
```

从您的自定义流程布局中。

在我看来，解决问题的最佳方法是，如果您不想手动查找和删除装饰视图，则可以用补充视图替换装饰视图，这样就可以使用数据源对其进行更新。

# c++ - 如何在 C++ 中实现两个类之间的关联？

> ID：15265029
> 
> 赞同：4
> 
> 时间：2013-03-07T07:01:06.503
> 
> 标签：c++, oop

```
class student { *attributes* } ;
class course {  } ;
class semester { } ; 
```

这三个类之间的关系是这样的 ![学生、课程、学期的UML图](../Images/86b8f24e48825caf05ceffd69b6019dc.png)

学生在一个学期学习课程。课程并不特定于学期。学生可以在任何学期选择。所以，这是这些对象之间的三元关系。

这三个类之间存在三元关联。如何实现这三个类之间的关联？或者，一般来说，实现类之间关联的可能方法是什么（在 c++ 或 java 中）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:09:00.337

有很多方法可以实现关联。在你的情况下，你可以逃脱：

```
class student {
};

class course {
   std::vector<student> students;
};

class semester {
   std::vector<course> courses;
}; 
```

在更复杂的情况下，您可能需要复杂的数据结构、树或哈希表来表示关系。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:30:12.943

没有更多细节很难说，但从现实生活中的例子可以想象，有些课程是在一个学期内开设的，有些学生会参加一些课程。该类`student`不需要知道任何关于`course`s 的信息，该类也不需要知道任何关于 s 的`course`信息`students`。也不需要知道`semester`s。一个自然的组合是给一个s列表的`semester`映射：`course``student`

```
class semester 
{
 public:
  // accessors: list of courses, list of students, list of students for 
  // a given course... all obtainable from map.
 private:
  std::map<course, std::set<student>> enrollment;
}; 
```

在这里我`std::set`为学生使用一个，因为学生在每门课程中都是独一无二的。同样对于`std::map`：课程在一个学期中是独一无二的。当然，这些约束可以在其他非唯一数据结构之上手动应用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:03:08.350

一种方式可以是集装箱船，即让另一个类的对象作为一个类的成员。例如（假设一个学生修了 5 门课）

```
class student{
  //other members
  course courseList[5];
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:32:41.600

在这种情况下，我的建议是将学期作为课程描述的一部分。然后看看使用`multimap`.

对于关系数据库来说，这听起来几乎是一个好问题，根据应用程序，您可能希望将数据关系外包给数据库。

# c - 构建面向 HP/Solaris OS 的 c 程序

> ID：15265030
> 
> 赞同：1
> 
> 时间：2013-03-07T07:01:10.283
> 
> 标签：c, solaris

我要写一个可以在HP UX & Sun Solaris 上运行的C 程序。我们是否必须在两台机器上构建可执行文件？有没有办法使用标准编译器/链接器在 Linux 上构建 centos 或 ubuntu 以确保可执行文件将在 HP 和 Solaris 机器上运行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T14:40:31.877

HP/UX 和 Solaris 都在不同的 CPU 类型上运行，因此归结为“您需要支持什么硬件”（除此之外：“它需要在哪个操作系统上运行”）。

首先是 HP/UX：

*   HP/UX 支持 HP 自己的旧 PA-RISC CPU 架构，适用于 32 位和 64 位应用程序
*   HP/UX 也（目前主要是）在 Intel Itanium CPU 上运行

有一些我不是特别熟悉的二进制兼容性/垫片层（Aires），但显然可以为某种类型的 PA-RISC 编译，结果可以在基于 Itanium 的 HP/UX 机器上运行。换句话说，对于 HP/UX，您必须决定应用程序是需要在旧的 32 位 PA-RISC、更高版本的 64 位 PA-RISC 还是在 Itanium 上运行，然后在该目标平台上或在合适的平台上编译 -配置交叉编译设置。

索拉里斯：

*   Solaris 支持 SPARC 处理器：
    32 位模式（对于内核，最高并包括 Solaris 9）和
    64 位模式（从 Solaris 7 开始，以及从 Solaris 10 强制内核代码）
*   Solaris 还支持 Intel/AMD 处理器，包括 32 位和 64 位模式（64 位需要 Solaris 10 及更高版本）

在 SPARC 和 x86 CPU 上，即使内核本身运行 64 位，Solaris 也可以运行 32 位应用程序，但是没有允许您在 x86 上运行 SPARC 二进制文件的仿真/填充层，反之亦然。

因此，在 Solaris 上，您必须决定应用程序是否需要在 SPARC 和/或 x86 上运行，其次是是否需要针对 32 位或 64 位进行编译。

为 Solaris 或 HP/UX 创建交叉编译设置，无论您的目标是哪种 CPU 类型，由于环境的大小（它们都不是完全嵌入式操作系统......），都是具有挑战性的。在许多情况下，开始购买一块较旧的 PA-RISC/Itanium 或 SPARC 硬件，分别安装 HP/UX 11.x 和 Solaris 10，并进行本机编译，可能会更具成本效益/更快。您还将获得使用供应商编译器的好处，对于 Itanium 和 SPARC 而言，它们仍然生成比 GCC 更快的代码。

# objective-c - AFJSONRequestOperation 中为 Bing 搜索 API 查询更改了参数编码

> ID：15265039
> 
> 赞同：1
> 
> 时间：2013-03-07T07:01:49.657
> 
> 标签：objective-c, afnetworking, bing-api, afjsonrequestoperation

我正在尝试使用必应搜索 API 进行图像搜索，但它不适用于 unicode 字符

```
NSDictionary *bingParams = [NSDictionary dictionaryWithObjectsAndKeys:
                            @"'image'", @"Sources",
                            [NSString stringWithFormat:@"'%@'",[[searchBar text] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]], @"Query",
                            @"'Size:Medium'", @"ImageFilters",
                            @"json", @"$format",
                            @"50", @"$top",
                            nil];
NSLog(@"%@",[bingParams objectForKey:@"Query"]);

if (!_httpClient) {
    _httpClient = [[AFHTTPClient alloc] initWithBaseURL:[NSURL URLWithString:@"https://api.datamarket.azure.com"]];
    [_httpClient clearAuthorizationHeader];
    [_httpClient setParameterEncoding:AFJSONParameterEncoding];
    [_httpClient setAuthorizationHeaderWithUsername:BING_SEARCH_KEY password:BING_SEARCH_KEY];
}

NSMutableURLRequest *searchRequest = [_httpClient requestWithMethod:@"GET" path:@"/Bing/Search/v1/Composite" parameters:bingParams];
[searchRequest setCachePolicy:NSURLRequestReloadIgnoringCacheData];
[searchRequest setTimeoutInterval:30.0];
AFJSONRequestOperation *searchOperation = [AFJSONRequestOperation JSONRequestOperationWithRequest:searchRequest
                                                                                        success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {
                                                                                            NSLog(@"%@",JSON);    
                                                                                        }
                                                                                        failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, id JSON){
                                                                                            NSLog(@"%@",[error localizedDescription]);
                                                                                        }];
[_httpClient enqueueHTTPRequestOperation:searchOperation]; 
```

第一个 NSLog 打印以下内容：

```
`%E6%97%A5` 
```

第二个 NSLog 打印很长，但有一个键值对我想突出显示

```
"__metadata" =                 {
  type = ExpandableSearchResult;
  uri = "https://api.datamarket.azure.com/Data.ashx/Bing/Search/v1/Composite?ImageFilters='Size:Medium'&Query='\U65e5'&Sources='image'&$skip=0&$top=1";
}; 
```

注意`Query='\U65e5'`，这不同于`'%E6%97%A5'`

我想知道我做错了什么？或者这是我无法控制的搜索 API 的问题？

# asp.net - 在 asp.net 中的谷歌地图配置？

> ID：15265041
> 
> 赞同：-1
> 
> 时间：2013-03-07T07:02:07.353
> 
> 标签：asp.net

在 asp.net 网络应用程序中，我如何配置谷歌地图，是否有任何免费资源。我该如何开始，任何人都可以帮助我，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:29:35.727

谷歌地图全是javascript。您可以像使用任何其他 javascript 一样在 ASP.NET 中使用它。

网上有很多免费教程。

[http://www.w3schools.com/googleAPI/default.asp](http://www.w3schools.com/googleAPI/default.asp)

[http://econym.org.uk/gmap/](http://econym.org.uk/gmap/)

[http://support.google.com/maps/bin/answer.py?hl=en&answer=62843](http://support.google.com/maps/bin/answer.py?hl=en&answer=62843)

尝试一些地理编码

[http://www.wikihow.com/Geocode-an-Address-in-Google-Maps-Javascript](http://www.wikihow.com/Geocode-an-Address-in-Google-Maps-Javascript)

玩得开心。

# android - 在表格布局中显示来自 sqlite 的数据，

> ID：15265050
> 
> 赞同：2
> 
> 时间：2013-03-07T07:02:36.873
> 
> 标签：android, xml, android-sqlite, android-tablelayout

我想将我的数据从 sqlite 显示到我使用 xml 使用 tablelayout 创建的表中，我想怎么做？有什么例子吗？我不知道如何将值传递到表中。它和我们做 listview 或 textview 一样吗？

下面是我的xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:textColor="#fcfafa" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="14dp"
        android:text="@string/glucose"
        android:textAppearance="?android:attr/textAppearanceLarge"
        android:textColor="#030303" />

    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="500dp"
        android:layout_height="15dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/textView1"
        android:layout_marginTop="17dp"
        android:background="#C4BFBF"
        android:orientation="vertical" >
    </LinearLayout>

    <ImageButton
        android:id="@+id/imageButton1"
        android:layout_width="28dp"
        android:layout_height="28dp"
        android:layout_alignParentLeft="true"
        android:layout_alignTop="@+id/textView1"
        android:layout_marginLeft="16dp"
        android:contentDescription="@string/btn_home"
        android:onClick="onClickHome"
        android:src="@drawable/homebtn" />

    <Button
        android:id="@+id/imageButton2"
        android:layout_width="60dp"
        android:layout_height="35dp"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/linearLayout1"
        android:layout_marginRight="18dp"
        android:layout_marginTop="10dp"
        android:onClick="onClickAdd"
        android:textSize="14sp"
        android:text="@string/btn_add"/>

    <TableLayout
        android:id="@+id/myTableLayout"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="1dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/imageButton2"
        android:layout_marginTop="5dp" >

        <TableRow
            android:id="@+id/tableRow1"
            android:layout_width="wrap_content"
            android:layout_height="100dp" 
            android:background="@drawable/cell_normalshape">

            <TextView
                android:id="@+id/textView2"
                android:background="@drawable/cell_normalshape"
                android:layout_width="55dp"
                android:text="@string/date"
                android:gravity="center_horizontal"
                android:textColor="#2A0A0A"
                android:textSize="16sp"
                android:textAppearance="?android:attr/textAppearanceLarge" />

            <TextView
                android:id="@+id/textView3"
                android:background="@drawable/cell_normalshape"
                android:layout_weight="0.2"
                android:text="@string/Breakfast"
                android:layout_span="2"
                android:gravity="center_horizontal"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="#2A0A0A"
                android:textSize="16sp"/>

            <TextView
                android:id="@+id/textView4"
                android:background="@drawable/cell_normalshape"
                android:layout_width="70dp"
                android:textColor="#2A0A0A"
                android:textSize="16sp"
                android:gravity="center_horizontal"
                android:layout_span="2"
                android:text="@string/Lunch"
                android:textAppearance="?android:attr/textAppearanceMedium" />

            <TextView
                android:id="@+id/textView5"
                android:background="@drawable/cell_normalshape"
                android:layout_width="70dp"
                android:textColor="#2A0A0A"
                android:textSize="16sp"
                android:layout_span="2"
                android:gravity="center_horizontal"
                android:text="@string/Dinner"
                android:textAppearance="?android:attr/textAppearanceMedium" />
        </TableRow>
        <TableRow
            android:id="@+id/tableRow2"
            android:layout_width="wrap_content"
            android:layout_height="100dp" 
            android:background="@drawable/cell_normalshape">

         <TextView
                android:id="@+id/textView7"
                android:background="@drawable/cell_normalshape"
                android:layout_width="40dp"
                android:textColor="#2A0A0A"
                android:text=""
                android:textSize="18sp"
                android:textAppearance="?android:attr/textAppearanceLarge" />

            <TextView
                android:id="@+id/textView8"
                android:background="@drawable/cell_normalshape"
                android:layout_weight="0.3"
                android:text="@string/Pre"
                android:gravity="center_horizontal"
                android:layout_width="wrap_content"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="#2A0A0A"
                android:textSize="16sp"/>

            <TextView
                android:id="@+id/textView9"
                android:background="@drawable/cell_normalshape"
                android:layout_weight="0.3"
                android:layout_width="wrap_content"
                android:textColor="#2A0A0A"
                android:gravity="center_horizontal"
                android:textSize="16sp"
                android:text="@string/Post"
                android:textAppearance="?android:attr/textAppearanceMedium" />

            <TextView
                android:id="@+id/textView10"
                android:background="@drawable/cell_normalshape"
                android:layout_width="30dp"
                android:textColor="#2A0A0A"
                android:textSize="16sp"
                android:text="@string/Pre"
                android:textAppearance="?android:attr/textAppearanceMedium" />

            <TextView
                android:id="@+id/textView11"
                android:layout_width="40dp"
                android:textColor="#2A0A0A"
                android:textSize="16sp"
                android:text="@string/Post"
                android:gravity="center_horizontal"
                android:textAppearance="?android:attr/textAppearanceMedium" />

            <TextView
                android:id="@+id/textView12"
                android:background="@drawable/cell_normalshape"
                android:layout_width="30dp"
                android:text="@string/Pre"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="#2A0A0A"
                android:textSize="16sp"/>

            <TextView
                android:id="@+id/textView13"
                android:background="@drawable/cell_normalshape"
                android:text="@string/Post"
                android:layout_width="40dp"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="#2A0A0A"
                android:textSize="16sp"/>
        </TableRow>

        <TableRow
            android:id="@+id/tableRow3"
            android:layout_width="wrap_content"
            android:layout_height="100dp" 
            android:background="@drawable/cell_normalshape">

            <TextView
                android:id="@+id/textView15"
                android:background="@drawable/cell_normalshape"
                android:layout_width="40dp"
                android:textColor="#2A0A0A"
                android:text=""
                android:textSize="18sp"
                android:textAppearance="?android:attr/textAppearanceLarge" />

            <TextView
                android:id="@+id/textView16"
                android:background="@drawable/cell_normalshape"
                android:layout_weight="0.3"
                android:text=""
                android:layout_width="wrap_content"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="#2A0A0A"
                android:textSize="18sp" />

            <TextView
                android:id="@+id/textView17"
                android:background="@drawable/cell_normalshape"
                android:layout_weight="0.3"
                android:layout_width="wrap_content"
                android:textColor="#2A0A0A"
                android:textSize="18sp"
                android:text=""
                android:textAppearance="?android:attr/textAppearanceMedium" />

            <TextView
                android:id="@+id/textView18"
                android:background="@drawable/cell_normalshape"
                android:layout_width="30dp"
                android:textColor="#2A0A0A"
                android:textSize="18sp"
                android:text=""
                android:textAppearance="?android:attr/textAppearanceMedium" />

            <TextView
                android:id="@+id/textView19"
                android:layout_width="40dp"
                android:textColor="#2A0A0A"
                android:textSize="18sp"
                android:text=""
                android:textAppearance="?android:attr/textAppearanceMedium" />

            <TextView
                android:id="@+id/textView20"
                android:background="@drawable/cell_normalshape"
                android:layout_width="30dp"
                android:text=""
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="#2A0A0A"
                android:textSize="18sp" />

            <TextView
                android:id="@+id/textView21"
                android:background="@drawable/cell_normalshape"
                android:text=""
                android:layout_width="40dp"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="#2A0A0A"
                android:textSize="18sp" />
        </TableRow>
    </TableLayout>

</RelativeLayout> 
```

这是我的代码..

```
private SQLiteDatabase database;
private ArrayList<String> result = new ArrayList<String>(); 
private ArrayList<Long> idList = new ArrayList<Long>();
private ArrayAdapter<String> adapter;

@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.glucose_view);
    TableLayout myTable = (TableLayout)findViewById(R.id.myTableLayout);

    DBHelper helper = new DBHelper(this);
    database = helper.getWritableDatabase();

    // view data

    try{
        String query = "select * from " + DBHelper.TABLE_GLUCOSE;

        Cursor c = database.rawQuery(query, null);

        c.moveToFirst();
        c.moveToPosition(3);  // may be two, not sure if the cursor starts at 0 or 1
        while (c.isAfterLast() == false) {
            String tblName = c.getString(1);
            Cursor table = database.rawQuery("SELECT * FROM " + DBHelper.TABLE_GLUCOSE,null);
            table.moveToFirst();
            if (table.getString(table.getColumnIndex("Title")) != null) {
                //  Your code to create table
            }
            c.moveToNext();
        }
} 
```

谁能帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:43:41.297

尝试这个

```
 if((cursor.moveToFirst())
      {
      do
       {
      LinearLayout layout=new LinearLayout(context);
      layout.setOrienation(LinearLayout.HORIZONTAL);
       for(int i=0;i<cursor.getColumnCount();i++)
        {
         TextView text=new TextView(context);
         switch(cursor.getType(i))      
         {
          case  Cursor.FIELD_TYPE_INTEGER:
           text.setText(String.valueOf(cursor.getInt(i)))
           break;
       case  Cursor.FIELD_TYPE_STRING:
           text.setText(cursor.getString(i))
           break;
...
..

          }
layout.addView(text);

        }
    tablelayout.addView(layout);
        }
        }whilie(cursor.moveToNext()) 
```

# sql - Sql Query：无法对来自不同表的数据进行分组

> ID：15265051
> 
> 赞同：5
> 
> 时间：2013-03-07T07:02:37.153
> 
> 标签：sql, sql-server, sql-server-2008-r2

我无法解决此查询。

表格是：

```
tblStandard1students
tblStandard2students
tblStandard3students     
tblCandidateinfo 
```

tblStandard1students、tblStandard2students 和 tblStandard3students tbl 包含有关参加标准 1,2 和 3 的学生的信息。

tblStandrs1students

```
Candid  admitted
  1        Y
  2        N
  3        Y

tblCandidateinfo

Candid  gender Division
  1       M      1
  2       F      2 
```

等等...

现在我想要这样的桌子

```
Gender  Students(Standard1)  Students(Standard2)  Students(Standard3)
------------------------------------------------------------------------
 Male           10                 20                      30    
 Female         10                 30                      40 
```

我试过了，但这并没有给我错误：

```
SELECT case when Gender='M' then 'Male' 
            when Gender='F' then 'Female' 
       END AS Gender,

( SELECT count(*)
 FROM tblStandard1students A
 where A.Candid=B.Candid
 ) AS Students(Standard1),

( SELECT count(*)
 FROM tblStandard2students A
    where A.Candid=B.Candid
) AS Students(Standard2),

( SELECT count(*)
 FROM tblStandard3students A
    where A.Candid=B.Candid
) AS Students(Standard3)

FROM tblCandidateinfo B
group by Gender 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:21:21.970

[SQLFiddle 演示](http://sqlfiddle.com/#!6/bbeb4/5)

```
select 
case when Gender='M' then 'Male' 
            when Gender='F' then 'Female' 
      END AS Gender,
sum(T.std1) as [Students(Standard1)],
sum(T.std2) as [Students(Standard2)],
sum(T.std3) as [Students(Standard3)]
from
tblCandidateinfo as C

JOIN
(
select Candid, 1 as std1, 0 as std2, 0 as std3 
from tblStandars1students
union all
select Candid, 0 as std1, 1 as std2, 0 as std3 
from tblStandars2students
union all
select Candid, 0 as std1, 0 as std2, 1 as std3 
from tblStandars3students
) as T on (C.Candid=T.Candid)

GROUP BY GENDER 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:28:21.840

**此查询语法适用于 Oracle。基本上，我使用了右外连接。**

```
select case when Gender='M' then 'Male' 
            when Gender='F' then 'Female' END AS Gender,
       count(A.candid) AS "Students(Standard1)",
       сount(A1.candid) AS "Students(Standard2)",
       сount(A2.candid) AS "Students(Standard3)" 
from tblStandard1students A,
     tblStandard2students A1,
     tblStandard3students A2,
     tblCandidateinfo B
where A.candid(+)=B.candid and A1.candid(+)=B.candid and A2.candid(+)=B.candid
group by gender 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:17:03.190

在这种情况下，您也可以使用[PIVOT](http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx)操作

```
SELECT CASE WHEN Gender='M' then 'Male' 
            WHEN Gender='F' then 'Female' 
       END AS Gender, [Students(Standard1)], [Students(Standard2)], [Students(Standard3)]
FROM (
      SELECT (SELECT gender FROM tblCandidateinfo i WHERE x.Candid = i.Candid) AS gender, List
      FROM (
            SELECT Candid, 'Students(Standard1)' AS List
            FROM dbo.tblStandard1students
            UNION ALL
            SELECT Candid, 'Students(Standard2)'
            FROM dbo.tblStandard2students
            UNION ALL
            SELECT Candid, 'Students(Standard3)'
            FROM dbo.tblStandard3students
            ) x
      ) x2
PIVOT 
 (
  COUNT(List) FOR List IN ([Students(Standard1)], [Students(Standard2)], [Students(Standard3)])
  ) p 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/e0cc5/1)上的演示[](http://sqlfiddle.com/#!3/e0cc5/1)

# wpf - WPF 弹出窗口意外从 UI 中消失

> ID：15265055
> 
> 赞同：1
> 
> 时间：2013-03-07T07:02:53.780
> 
> 标签：wpf, popup, showdialog

我的 wpf 应用程序中有一个模式弹出窗口。显示该窗口后，在某些（极少数）情况下，该窗口会从 UI 中消失。但是我们可以发现，使用“alt + tab”并不能使其处于活动状态。

请在下面找到我使用的代码，

```
 //WindowInteropHelper assists interoperation between Windows Presentation Foundation (WPF) and Win32 code.

        private void OnControlClick(object sender, RoutedEventArgs e)
        {
        System.Drawing.Point p = System.Windows.Forms.Control.MousePosition;
        MyPopup popup = new MyPopup();

        _windowInteropHelper = new System.Windows.Interop.WindowInteropHelper(popup);
        _windowInteropHelper.Owner = this._owner;
        popup.WindowStartupLocation = System.Windows.WindowStartupLocation.Manual;
        popup.Left = p.X;
        popup.Top = p.Y;

        popup.Closing += new System.ComponentModel.CancelEventHandler(OnPopupClosing);
        popup.ShowDialog();
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:08:22.113

尝试使用 IsOpen 属性来显示/隐藏弹出窗口。

# ajax - cakephp 将选择传递给 JS Helper

> ID：15265060
> 
> 赞同：0
> 
> 时间：2013-03-07T07:03:08.997
> 
> 标签：ajax, cakephp, helpers

我想获取选定的 schoolFilter 表单值并放置在 [SELECTED VALUE HERE] 中。

```
$data = $this->Js->get('#SchoolFilter')->serializeForm(array('isForm' => true, 'inline' => true));

$this->Js->get('#SchoolSchoolId')->event(
'change', $this->Js->request(
        array('action' => 'assign_school_ads/', [SELECTED VALUE HERE], array(
            'update' => '#results',
            'data' => $data,
            'async' => true,
            'dataExpression' => true,
            'method' => 'POST'
        )
    )
);

// School Filter
$schoolFilter = $this->Form->create('School', array('id' => 'SchoolFilter');
$schoolFilter .= $this->Form->input('school_id', array('label'=>'Schools', 'empty'=>'- select -');
$schoolFilter .= $this->Form->end(); 
```

我已经看到了这个问题的变化，但没有任何明确的答案，只是忘记使用 JS Helper。在 JS Helper 的上下文中是否可能？如果没有，我可以使用常规 JQuery 获取值，然后将其注入 JS Helper。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T11:33:52.333

使用以下代码：-

```
$this->Js->get('#SchoolFilter');
$this->Js->event('change', $this->Js->request(array('controller'=>'put-ur-controller-ame-here','action' => 'assign_school_ads'),array('async' => true,'update' => '#results','method' => 'post','dataExpression'=>true,'data'=> $this->Js->serializeForm(array('isForm' => true,'inline' => true))))); 
```

该`serialize()`函数将表单数据发送到 php 操作，因此我们可以查看选择了哪个选项并决定在 ajax 调用中更新什么。

表单数据将在`$this->data`操作中找到（就像提交表单后一样）。

不要忘记`$this->Js->writeBuffer();`在正文结束标记之前添加布局。否则，所有的 ajax 代码都不会添加到您的页面中。

# c# - 使用 c# 在 Windows 8 Metro 应用程序中的 Instagram 照片效果

> ID：15265066
> 
> 赞同：1
> 
> 时间：2013-03-07T07:03:39.920
> 
> 标签：c#, image-processing, colors, microsoft-metro, direct2d

我需要实现 Instagram 照片效果，如 amaro、hudson、sepia、rise 等。我知道这篇文章只使用基本效果：[http ://code.msdn.microsoft.com/windowsdesktop/Metro-Style-lightweight-24589f50](http://code.msdn.microsoft.com/windowsdesktop/Metro-Style-lightweight-24589f50)

人们建议的另一种方法是实现 Direct2d，然后使用它进行应用。但为此，我需要编写 C++ 代码，而我的经验为零。

任何人都可以建议一些其他方法来在 c# 中实现 Instagram 效果吗？

这些效果是否有任何内置的 c++ 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T07:37:44.767

Please see this example from CodeProject : [Metro Style Lightweight Image Processing](http://www.codeproject.com/Articles/340859/Metro-Style-Lightweight-Image-Processing)

The above example contains these image effects.

*   Negative
*   Color filter
*   Emboss
*   SunLight
*   Black & White
*   Brightness
*   Oilpaint
*   Tint

Please note above example seems to be implemented on either developer preview or release preview of Windows 8\. So you will get error like this

> 'Windows.UI.Xaml.Media.Imaging.WriteableBitmap' does not contain a constructor that takes 1 arguments

So you have to create instance of `WriteableBitmap` by passing pixel height and pixel width of image. I have edited the sample and it is working for me. You have to change `wb = new WriteableBitmap(bs);` to `wb = await GetWB();`

```
StorageFile originalImageFile;
WriteableBitmap cropBmp;
public async Task<WriteableBitmap> GetWB()
{
    if (originalImageFile != null)
    {
        //originalImageFile is the image either loaded from file or captured image.
        using (IRandomAccessStream stream = await originalImageFile.OpenReadAsync())
        {
            BitmapImage bmp = new BitmapImage();
            bmp.SetSource(stream);
            BitmapDecoder decoder = await BitmapDecoder.CreateAsync(stream);
            byte[] pixels = await GetPixelData(decoder, Convert.ToUInt32(bmp.PixelWidth), Convert.ToUInt32(bmp.PixelHeight));
            cropBmp = new WriteableBitmap(bmp.PixelWidth, bmp.PixelHeight);
            Stream pixStream = cropBmp.PixelBuffer.AsStream();
            pixStream.Write(pixels, 0, (int)(bmp.PixelWidth * bmp.PixelHeight * 4));
        } 
    }
    return cropBmp;
} 
```

Let me know if you are facing any problem.

# objective-c - 类别是否允许在其实现中添加实例变量？

> ID：15265067
> 
> 赞同：1
> 
> 时间：2013-03-07T07:03:47.693
> 
> 标签：objective-c, io, xcode4.5

我正在使用 xcode 4.5.2 工作 ios6.0 sdk

这是我用来实现类别的以下代码

。H

```
@interface NSObject (busyMode)  
@property (nonatomic,assign) BOOL busy;
@end 
```

.m

```
@implementation NSObject (busyMode)
BOOL _bsy;

-(BOOL)busy{
    return _bsy;
}

-(void)setBusy:(BOOL)busy
{
    _bsy = busy;
}
@end 
```

正如我在许多帖子中所读到的，它说我们不能在类别中包含实例变量。所以上面的代码不应该工作。但是当我尝试过时，一切正常。

有没有与类别相关的任何变化，还是只是运气？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:09:40.170

正如其他人指出的那样，您没有添加实例变量，而是添加了一个将在所有实例之间共享的全局变量。

类别不能添加实例变量。但是，如果您绝对需要使用`objc_setAssociatedObject()`和，您可以模拟实例变量`objc_getAssociatedObject()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:30:14.540

那是因为您定义了一个全局变量，它不是实例变量。

尝试实例化这个对象的两个实例，你会发现每个实例不能保存不同的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:29:33.450

您尚未添加 iVar。您已经定义了一个全局变量`_bsy`，并在您的类别定义的属性的 getter/setter 中访问它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-12T06:42:03.023

我有一个宏，可让您在如下类别中声明“属性”：

```
@implementation NSObject (AwesomeUtils)

JESynthesize(assign, NSInteger, index, setIndex);
JESynthesize(strong, NSString *, name, setName);
JESynthesize(copy, void(^)(void), completion, setCompletion);
JESynthesize(unsafe_unretained, id, unsafeObject, setUnsafeObject);
JESynthesize(weak, id<UITableViewDelegate>, delegate, setDelegate);
JESynthesize(strong, NSString *, readonlyID, changeReadonlyID);

// …
@end 
```

我用引号说“属性”，因为即使没有`@property`声明也可以使用它们。该宏还可以支持`weak`.

你可以在这里查看实现（头文件在底部）： http: [//nspicks.com/2013/12/15/cleaner-properties-implementation-in-categories/](http://nspicks.com/2013/12/15/cleaner-properties-implementation-in-categories/)

# ubuntu - 在 Ubuntu 中自动将子文件夹的共享模式应用于公共

> ID：15265069
> 
> 赞同：0
> 
> 时间：2013-03-07T07:04:06.773
> 
> 标签：ubuntu, clickonce

当有更新时，Clickonce 会增加应用程序的版本并将新应用程序放入新文件夹。我的问题是包含新应用程序的新文件夹被锁定（只能由文件夹所有者访问），因此当最终用户尝试下载新应用程序时，页面会出现 403 Forbidden 错误，除非我手动更改了文件夹的权限。Ubuntu 在创建新文件夹时是否有一些配置可以从父文件夹继承权限设置？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:33:54.973

您可能必须在父目录上使用 setgid 权限。

目录上的 setgid 位只影响组权限，它意味着两件事：

1) 在该目录下创建的任何文件都继承组所有权。2) 在该目录下创建的任何目录都继承 setgid 位和组所有权。

没有其他效果。在创建文件/目录时，除组所有权外的任何模式都由 umask 控制。

用户的所有权由创建文件或目录的用户控制。

# sql-server-2008 - 根据月份和年份列生成日期

> ID：15265071
> 
> 赞同：0
> 
> 时间：2013-03-07T07:04:08.467
> 
> 标签：sql-server-2008

有没有办法根据用户月份和年份生成日期，我需要一个结果表有 2 列作为开始日期和结束日期，因为应该从月份，到月份和年份。请参阅示例中显示的表结构和生成的表格式。

```
example:
co1         col2        col3
fromMonth   toMonth     year
5           12          2012
1           4           2013

result:
co1         col2    
StartDate   EndDate 
01/05/2012  31/12/2012  
01/01/2013  30/04/2013 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:18:06.430

我想您可以使用 DATEFROMPARTS 并传递月份和年份列

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-12T08:50:38.793

对于开始日期：

```
CAST(CAST(1 AS varchar) + '/' + CAST(col1 AS varchar) + '/' + CAST(col3 AS varchar) AS DATETIME) 
```

对于结束日期：

```
CAST(CAST(31 AS varchar) + '/' + CAST(col2 AS varchar) + '/' + CAST(col3 AS varchar) AS DATETIME) 
```

我希望这可以帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:32:32.937

这是一种方法：

```
DECLARE @tbl TABLE (fromMonth  INT, toMonth   INT,  year INT)
INSERT @tbl VALUES
(5           ,12          ,2012),
(1           ,4          ,2013)

SELECT  DATEADD(MONTH, (YEAR - 1900) * 12 + fromMonth - 1, '1900-01-01') StartDate
        , DATEADD(DAY, -1, DATEADD(MONTH, (YEAR - 1900) * 12 + toMonth, '1900-01-01')) EndDate
FROM    @tbl 
```

# azure - Azure Active Directory 作为 Azure 虚拟机的域控制器

> ID：15265072
> 
> 赞同：31
> 
> 时间：2013-03-07T07:04:13.187
> 
> 标签：azure, active-directory, azure-virtual-machine, azure-virtual-network, azure-active-directory

Azure Active Directory 是 Azure 的“即服务”产品。我已经看到来自 Microsoft 的文档和内容，说明可用于 SSO 和其他 Web 应用程序以进行统一身份验证。

是否可以使用 Azure Active Directory 作为虚拟网络中 Azure 虚拟机中的 Windows Server AD 的替代品？我看到 Azure VM 上的 Windows Server Active Directory 安装涉及从 powershell 和其他东西执行？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-03-07T07:45:13.957

不！Windows Azure Active Directory 不是域控制器。您不能将计算机加入 Windows Azure AD。您可以使用它将本地 AD 与 Windows Azure AD 同步，以轻松启用 Web SSO（单点登录）。您可以使用它来构建企业级 Web 应用程序。

[您可以在此处](http://www.windowsazure.com/en-us/home/features/identity/)阅读有关 Windows Azure Active Directory的更多信息。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-07-30T19:38:27.610

直到最近，答案都是否定的，但随着 Windows 10 的出现，情况发生了变化。

Windows 10 设备可以加入 Azure Active Directory (AD) 域。但它更多的是关于身份管理，而不是传统的 Active Directory (AD) 服务。但是您可以结合使用 Azure AD 和 MDM（移动设备管理）来提供一些过去为 AD 保留的服务。

要记住的一件事是，Azure Active Directory (AD) 与 Windows 域控制器提供的名称相似的 Active Directory 完全不同。Azure AD 不是域控制器，但从 Windows 10 Azure AD 开始，MDM 和 Intune 可以做一些以前只能由 AD 提供的事情。借助 Windows 10，Microsoft 极大地扩展了 MDM，并使得使用 MDM 管理常规 Windows 10 台式机和笔记本电脑成为可能。

Active Directory 团队博客有更多信息。Azure Active Directory 和 Windows 10：将[云带入企业桌面！](http://blogs.technet.com/b/ad/archive/2015/05/13/azure-active-directory-and-windows-10-making-the-enterprise-cloud-a-reality.aspx)列出它带来的一些好处，包括：

*   企业自有设备的自我配置。
*   使用现有的组织帐户。
*   自动 MDM 注册。
*   单点登录到云中的公司资源。
*   本地单点登录
*   企业级 Windows 商店。
*   支持现代外形尺寸。Azure AD Join 将适用于不具备传统域加入功能的设备。
*   操作系统状态漫游。

这不包括 AD 提供的传统功能。[根据Windows 10 设备 Azure AD 上的 Azure AD 加入](http://blogs.technet.com/b/ad/archive/2015/05/28/azure-ad-join-on-windows-10-devices.aspx)帖子，它针对以下三个场景：*您的应用程序和资源主要位于云*中、*季节性工作人员和学生*以及*为本地用户选择您自己的设备*。如您所见，Azure AD 的目标更多是启用 BYOD（自带设备）。Azure AD 支持管理无法加入域的设备，例如平板电脑或非专业版 Windows。

从同[一篇文章](http://blogs.technet.com/b/ad/archive/2015/05/28/azure-ad-join-on-windows-10-devices.aspx)：

> 域加入可让你在能够加入域的设备上获得最佳本地体验，而 Azure AD 加入针对主要访问云资源的用户进行了优化。如果您想使用 MDM 而不是使用组策略和 SCCM 从云中管理设备，Azure AD Join 也很棒。

* * *

Azure 现在提供称为[Azure Active Directory 域服务的传统 Active Directory 服务](https://azure.microsoft.com/en-us/services/active-directory-ds/)。这提供了域加入、NTLM 和 Kerboeros 身份验证。您甚至可以使用组策略管理机器。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-01-31T22:55:56.993

这可以使用 Azure Active Directory 域服务（注意与没有域支持的常规 Azure Active Directory 的区别）

[https://azure.microsoft.com/en-us/services/active-directory-ds/](https://azure.microsoft.com/en-us/services/active-directory-ds/)

# c++ - 未删除 Visual Studio 11 MFC 组件代码

> ID：15265076
> 
> 赞同：0
> 
> 时间：2013-03-07T07:04:25.770
> 
> 标签：c++, user-interface

我为 Visual C++ 应用程序和 Visual Studio 11 Ultimate 创建 GUI。当我在框架上放置一个组件（按钮、复选框等）时，一些代码会自动添加到源文件中。**但是**当一个组件被移除/删除时，它的相关代码都不会被删除，这会在编译时产生错误。然后我必须手动删除所有相关代码才能成功编译。

这是通常的行为还是我错过了什么？另外，有没有办法将所有相关代码连同组件一起删除？

# json - 如何使用 Python 调用 REST API 使用 json 请求/响应 - Crucible Development

> ID：15265085
> 
> 赞同：0
> 
> 时间：2013-03-07T07:04:53.950
> 
> 标签：json, python-2.7, basic-authentication, access-token, atlassian-crucible

我是 python 的新手，正在尝试创建一个脚本来登录坩埚并使用令牌传递给其他服务。1) 我能够发出 xml 请求并获得响应，但只要我将标头传递给我的 conn.request，它就会显示 HTTP 错误 415，不支持的媒体类型。我对这个主题做了一些安静的研究，发现其余的 API 可能不支持 json 请求，但 Crucible 说 API 支持 json 所以似乎是其他一些问题，2）在尝试传递参数时使用 feauth 生成的身份验证令牌没有被使用，现在我已将其附加到 url 并且它可以工作。

请帮助我，下面是我的脚本

```
import httplib
import urllib
import json
from xml.etree.ElementTree import XML 
import xml.dom.minidom

    conn = httplib.HTTPSConnection("fisheye")
    args=urllib.urlencode({'userName':'UNAME', 'password':'PWD'})
    headers={'content-type':'application/json', 'accept':'application/json'}
    #headers={'Authorization' : 'Basic %s' % base64.b64encode("username:password")}

r1 = conn.request("post", "/rest-service/auth-v1/login", args)
#status = r1[u'headers']['status']

#conn.connect()

r2 = conn.getresponse()

print r1,r2.status,r2.reason,r2
r3=r2.read()
print(r3)
r4=str(r3)
print r4
data = XML(r4).find("token").text
print data

# data1=urllib.quote_plus(data, safe=":")
# print data1
args=urllib.urlencode({'FEAUTH':data}).replace("%3A", ":")
print "args is", args
#args={}

req = conn.request("get","/rest-service/reviews-v1")
r3 = conn.getresponse()
status = r3.status
print "the url is"#, r3.getheader('Location')
url=r3.getheader('location', '')
print url
url1=r3.msg#.dict['location']
print url1
#print req.url
#print req.get_method()
print dir(req)  # list lots of other stuff in Request

print "after sending open review request"
print r3

print req,r3.status,r3.reason,r3
r4=r3.read()
print(r4)
r5=str(r4)
print r5
# json_ob=json.loads(r3.read())
# print json_ob 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T07:51:10.543

我能够通过

1) 从标题中删除 Content-Type 并将接受更改为 Accept(sentence cased)。

2) 登录请求是一个获取请求，因此它支持通过 URL 附加传输数据，它仅适用于发布请求，我们可以传递一个参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:44:38.537

在请求的标头中，尝试指定媒体类型：

```
headers = { 'Content-Type' : 'application/json' }
req = urllib2.Request(url, headers=headers) 
```

# java - 如何在 mysql 查询中使用 2 条件？

> ID：15265086
> 
> 赞同：-3
> 
> 时间：2013-03-07T07:04:54.577
> 
> 标签：java, mysql, sql

谁能告诉我这个查询有什么问题？此代码不起作用：

```
SELECT index_no FROM test_record_tbl WHERE year='2012' and year='2013'; 
```

此代码有效：

```
SELECT index_no FROM test_record_tbl WHERE year='2012' or year='2013'; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:07:25.990

你失败了，因为这一年（可能）永远不会同时是 2012 年和 2013 年。

And 是一个排他运算符，这意味着两个条件都必须为真才能使语句评估为真。

OR 表示一个，或另一个，或两者

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:16:34.153

如果我对您的理解正确，您想获取`index_no`year`2012`和`2013`.

这个问题通常被称为`Relational Division`.

```
SELECT  index_no 
FROM    test_record_tbl 
WHERE   year IN ('2012', '2013')
GROUP   BY index_no
HAVING  COUNT(DISTINCT year) = 2 
```

*   [关系划分的SQL](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:10:06.763

`and`和之间有区别`or`。

您**永远不能**同时拥有 2012 年和 2013 年，但一年可以落在 2012 年或 2013 年。

这就是为什么您的第一个 SQL 查询没有结果，而第二个却没有结果。

# qtextedit - 在 QTextEdit 中，无法响应鼠标点击事件

> ID：15265089
> 
> 赞同：1
> 
> 时间：2013-03-07T07:05:05.800
> 
> 标签：qtextedit, qevent

我想使用 mouseDoubleClickEvent，但它不起作用这是我的代码： `textEdit->setMouseTracking(true);`

谁能帮我 ？谢谢对不起，我的英语太烂了

# javascript - 正在使用 Push() 数组尝试用于从下拉菜单中选择列表并将该列表发布到跨度中？

> ID：15265090
> 
> 赞同：1
> 
> 时间：2013-03-07T07:05:12.593
> 
> 标签：javascript, jquery, arrays

### HTML 部分

div 显示值

```
 <div class="lef rightCol n">
    <span class="para"> add-on Services(Optional)</span>
    <div class="new">
    <ul>
    </ul>
    </div>
    </div 
```

包含下拉菜单的 div

```
 <div class="rightCol n mar ">
        <span id="at1" class="spn">Click here to add add-on Services</span>
        <ul id="ad1" class="drpdwn">
          <li><input type="checkbox"  id="ck1" value="1"><a id="a1">Drop Shadows</a></                           
          li> 
          <li><input type="checkbox" id="ck2"   value="2"><a id="a2">Reflections</a> <         
          li>
          <li><input type="checkbox"  id="ck3"  value="6">General Spotting</a></li>   
          </ul> 
```

我在单击时尝试过向下滑动

### jQuery

单击at1时向下滑动（跨度）

这是在新 div 上显示跨度的尝试

在这里我应该在哪里使用 Push() 他们中的大多数都强迫我使用我不知道如何以及为了什么

```
 var ots = []; 
         $('#at1,#at2,#at3,#at4,#at5,#at6').click(function(){
         $(this).next('.drpdwn').stop().slideToggle();

           }),

 $('#ck1').click(function()
 {

  option=$('#a1').text();

 $('.new ul').append('<li><span id="span1" alt="1" ></span></li>');

  $('#span1').html(option).addClass('surr');  
   ots.push({id: 1});  

    }),
     $('#ck2').click(function()
 {

  option=$('#a2').text();

 $('.new ul').append('<li><span id="span2" alt="1" ></span></li>');

  $('#span1').html(option).addClass('surr');  
   ots.push({id: 2});  

    }), 
```

现在我将一些值移动到数组 ots 而追加现在的问题是如何使用数组检索新创建的跨度的 alt 属性..？我像这样使用它不能清楚地工作

一些功能

```
 var f = $('.new span').length;
       ad=o;
      cs=o;      
             for(i=1;i<=f;i++)
             {
                  $.each(this.opt, function() {
                    $.each(this, function(name, value) {
                     cs=eval($( "#span"+value).attr("alt"));
                     console.log(name + '=' + value);
                     ad+=cs; 
                     console.log("ad: "+ad);  
                       })
                      })

                  } 
```

它将广告显示为 Nan 并且每次我点击它创建的那些 id 像 1 然后 1,2 然后 1,2,3 这样帮助我每次选择复选框它像这样播放。！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:22:49.330

**push 方法用于在数组中添加新项目**...所以在您的代码中 push() 显然用于将项目推送到数组（尽管我在您的问题中找不到推送方法...所以无法解释在你的情况下）

[文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/push)

前任：

```
var sports = ["soccer", "baseball"];
sports.push("football", "swimming"); 
```

# java - 从电脑发送短信到手机

> ID：15265092
> 
> 赞同：1
> 
> 时间：2013-03-07T07:05:17.343
> 
> 标签：java, sms

我正在使用 smsj api 通过 gsm 调制解调器将 sms 从 pc 发送到移动设备。如[页面所示](http://smsj.sourceforge.net/)，我尝试了以下代码。

```
package org.marre;

import java.io.IOException;
import org.marre.sms.SmsException;

public class SendMessage  {

    public void send() {
    try{

         // Send SMS with clickatell
         SmsSender smsSender = SmsSender.getGsmSender("COM7");
         String msg ="sample message";
         // International number to reciever without leading &quot;+&quot;
         String reciever = "9561356345";
         // Number of sender (not supported on all transports)
         String sender ="9561356345";
         // Connect
         smsSender.connect();
         // Send message
         smsSender.sendTextSms(msg, reciever, sender);       
         // Disconnect
         smsSender.disconnect();
    } catch(IOException i){
        i.printStackTrace();
        System.out.println("i");
    } catch(SmsException s){
        s.printStackTrace();
        System.out.println("s");
    }
    }

    public static void main(String args[]){
        SendMessage app = new SendMessage();
        app.send();
    }

} 
```

但我收到此错误消息：

```
 Exception in thread "main" java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory
    at org.marre.sms.transport.gsm.SerialComm.<clinit>(SerialComm.java:58)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Unknown Source)
    at org.marre.sms.transport.gsm.GsmTransport.class$(GsmTransport.java:83)
    at org.marre.sms.transport.gsm.GsmTransport.<clinit>(GsmTransport.java:83)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Unknown Source)
    at org.marre.sms.transport.SmsTransportManager.getTransport(SmsTransportManager.java:75)
    at org.marre.SmsSender.<init>(SmsSender.java:112)
    at org.marre.SmsSender.getGsmSender(SmsSender.java:180)
    at org.marre.SendMessage.send(SendMessage.java:12)
    at org.marre.SendMessage.main(SendMessage.java:30)
Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    ... 12 more 
```

我是java的初学者。请帮我写代码。

**注意：** 我之前使用过 smslib api 来发送简单的短信。但这不支持 ems 消息。如果您有任何其他支持 EMS 消息的库，请告诉我。smsj 是我可以轻松下载的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:20:23.530

问题的真正原因在这里：

```
Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory 
```

编译器无法`org.slf4j.LoggerFactory`从类路径中找到。

下载 SLF4J 并将库添加到您的类路径中并编译您的代码。

**注意：**由于 smsj 引用了一个非常旧的 Slf4J 版本，您也需要使用这个旧版本：[http ://mvnrepository.com/artifact/org.slf4j/slf4j-simple/1.0-beta9](http://mvnrepository.com/artifact/org.slf4j/slf4j-simple/1.0-beta9)

# entity-framework - EF5/Modify-Error: ApplyChanges 不是

> ID：15265093
> 
> 赞同：1
> 
> 时间：2013-03-07T07:05:18.350
> 
> 标签：entity-framework, entity-framework-5

我想在我的 VS2010/.NET 4/VB.NET 客户端-服务器应用程序中使用 STE。

我找到了一些有用的链接，但在 EF 4.5 中我不能使用“ApplyChanges”方法。它们是使用 context.tt 创建的 - 但无法使用。

我的架构是客户端-服务器，实体的各个部分位于不同的程序集中。我可以删除和添加新条目 - 但我无法修改现有条目。

可能是什么原因？

# android - 如何在android中创建带有随机字母的字典单词？

> ID：15265100
> 
> 赞同：1
> 
> 时间：2013-03-07T07:06:04.293
> 
> 标签：android, dictionary, word

我正在为自己创建一个小型文字游戏。我正在生成随机字母。

这里生成随机字母的代码：

```
 //GENERATE RANDOME LETTERS
     mRnd = new Random();
    mLetters = 25;

    String randomLetters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

    for ( n=0; n<mLetters; n++)
      System.out.println("Random letters"+randomLetters.charAt(mRnd.nextInt(randomLetters.length()))); 
```

在这里，我想如何用这个随机字母 Like(CAT,BAT,RAT) 生成一些有意义的完整单词。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:14:15.900

您应该下载字典并在运行时加载它。没有代码可以验证单词是否存在，您只能将其与已知列表进行比较。

在这里您可以下载英文词典：[http ://www.curlewcommunications.co.uk/wordlist.html](http://www.curlewcommunications.co.uk/wordlist.html)

# primefaces - 带有 Glassfish 3.1.2 的 Liferay 6.1：IllegalStateException：必须在调用 activate() 之前调用 associate()

> ID：15265104
> 
> 赞同：1
> 
> 时间：2013-03-07T07:06:21.473
> 
> 标签：primefaces, jpa-2.0, glassfish-3, netbeans-7, liferay-6

我想问我的代码有什么问题。我在项目中遇到了有关**IllegalStateException**的问题。我的设置如下：

*   Netbeans 7.2.1 + JSF 2
*   Liferay 6.1 GA2 与 Glassfish 3.1.2 捆绑在一起
*   Primefaces 3.5

我使用“来自数据库的实体”功能来生成我的实体。

很长一段时间以来，我一直在努力寻找解决方案，而且我总是在 jboss 中获得有关问题的信息。但是大多数帖子都在1~2年左右，其中一些人说它已经解决了。

这是我的代码：

**PleaseBean.java**

```
package please.bean;

import java.io.Serializable;
import java.util.List;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;
import javax.faces.model.DataModel;
import javax.faces.model.ListDataModel;
import please.model.CoopProspect;
import please.util.CoopProspectFacade;

@ManagedBean(name="pleaseBean")
@ViewScoped
public class PleaseBean implements Serializable {
    private static final long serialVersionUID = 1L;
    private CoopProspect prospect;
    private CoopProspect[] selectedProspects;
    private CoopProspect selectedProspect;
    private List<CoopProspect> prospectList;
    private List<CoopProspect> filteredProspect;
    private transient DataModel<CoopProspect> prospectModel;
    private CoopProspectFacade prospectFacade;

    public PleaseBean() {
        prospect = new CoopProspect();
        prospectList = prospectFacade.findAll();
        prospectModel = new ListDataModel<CoopProspect>(prospectList);
    }

    public String create() {
        prospectFacade.create(prospect);
        prospect = new CoopProspect();
        refreshList();
        return "";
    }

    public void editMode() {
        prospect = selectedProspect;
    }

    public void refreshList() {
        prospectList = prospectFacade.findAll();
        prospectModel = new ListDataModel<CoopProspect>(prospectList);
    }

    public void save() {
        editMode();
        prospectFacade.edit(prospect);
        prospect = new CoopProspect();
    }

    public void delete() {
        prospectFacade.remove(selectedProspects);
        refreshList();
    }

    public List<CoopProspect> getProspectList() {
        return prospectList;
    }

    public void setFilteredProspectList(List<CoopProspect> filteredProspect) {
        this.filteredProspect = filteredProspect;
    }

    public List<CoopProspect> getFilteredProspectList() {
        return filteredProspect;
    }

    public DataModel<CoopProspect> getProspectModel() {
        if (prospectModel == null) {
            prospectModel = new ListDataModel<CoopProspect>(prospectList);
        }
        return prospectModel;
    }

    public CoopProspect getProspect() {
        if (prospect == null) {
            prospect = new CoopProspect();
        }
        return prospect;
    }

    public CoopProspect[] getSelectedProspects() {
        return selectedProspects;
    }

    public void setSelectedProspects(CoopProspect[] selectedProspects) {
        this.selectedProspects = selectedProspects;
    }

    public CoopProspect getSelectedProspect() {
        if (selectedProspect == null) {
            selectedProspect = new CoopProspect();
        }
        return selectedProspect;
    }

    public void setSelectedProspect(CoopProspect selectedProspect) {
        this.selectedProspect = selectedProspect;
    }

} 
```

* * *

**AbstractFacade.java**

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package please.util;

import java.util.List;
import javax.persistence.EntityManager;
import javax.persistence.Query;
import javax.persistence.criteria.CriteriaQuery;
import javax.persistence.criteria.Root;

/**
 *
 * @author mis
 */
public abstract class AbstractFacade<T> {
    private Class<T> entityClass;

    public AbstractFacade(Class<T> entityClass) {
        this.entityClass = entityClass;
    }

    protected abstract EntityManager getEntityManager();

    public void create(T entity) {
        getEntityManager().persist(entity);
    }

    public void edit(T entity) {
        getEntityManager().merge(entity);
    }

    public void remove(T entity) {
        getEntityManager().remove(getEntityManager().merge(entity));
    }

    public boolean remove(T[] entities) {
        for(T entity: entities) {
            getEntityManager().remove(getEntityManager().merge(entity));
        }
        return true;
    }

    public T find(Object id) {
        return getEntityManager().find(entityClass, id);
    }

    public List<T> findAll() {
        CriteriaQuery cq =
                getEntityManager().getCriteriaBuilder().createQuery();
        cq.select(cq.from(entityClass));
        return getEntityManager().createQuery(cq).getResultList();
    }

    public List<T> findRange(int[] range) {
        CriteriaQuery cq =
                getEntityManager().getCriteriaBuilder().createQuery();
        cq.select(cq.from(entityClass));
        Query q = getEntityManager().createQuery(cq);
        q.setMaxResults(range[1] - range[0]);
        q.setFirstResult(range[0]);
        return q.getResultList();
    }

    public int count() {
        CriteriaQuery cq =
                getEntityManager().getCriteriaBuilder().createQuery();
        Root<T> rt = cq.from(entityClass);
        cq.select(getEntityManager().getCriteriaBuilder().count(rt));
        Query q = getEntityManager().createQuery(cq);
        return ((Long) q.getSingleResult()).intValue();
    }
} 
```

* * *

**CoopProspectFacade.java**

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package please.util;

import javax.ejb.Stateless;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import please.model.CoopProspect;

@Stateless
public class CoopProspectFacade extends AbstractFacade<CoopProspect> {
    @PersistenceContext(unitName = "please1PU")
    private EntityManager em;

    @Override
    protected EntityManager getEntityManager() {
        return em;
    }

    public CoopProspectFacade() {
        super(CoopProspect.class);
    }
} 
```

* * *

**索引.xhtml**

```
<?xml version='1.0' encoding='UTF-8' ?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui">
    <h:head/>
    <h:body>
        <h:form id="adform">
                <p:panelGrid styleClass="nameruna" >
                    <p:row>
                        <p:column>
                            <p:outputLabel for="datepros" value="Date: "/>
                        </p:column>
                        <p:column>
                            <p:calendar id="datepros" value="#{pleaseBean.prospect.prosDate}" readonlyInput="true" required="true" pattern="MM/dd/yyyy"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel  for="fname" value="Firstname: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="fname" value="#{pleaseBean.prospect.firstName}" required="true" size="25" maxlength="25"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="mname" value="Middlename: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="mname" value="#{pleaseBean.prospect.middleName}" size="20" maxlength="20"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="lname" value="Lastname: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="lname" value="#{pleaseBean.prospect.lastName}" required="true" size="20" maxlength="20"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="gender" value="Gender: "/>
                        </p:column>
                        <p:column>
                            <p:selectOneRadio id="gender" required="true" value="#{pleaseBean.prospect.gender}">
                                <f:selectItem itemLabel="Male" itemValue="M"/>
                                <f:selectItem itemLabel="Female" itemValue="F"/>
                            </p:selectOneRadio>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="bday" value="Date of birth: "/>
                        </p:column>
                        <p:column>
                            <p:calendar id="bday" 
                                        value="#{pleaseBean.prospect.birthdate}" 
                                        navigator="true" 
                                        readonlyInput="true" 
                                        pattern="MM/dd/yyyy" 
                                        yearRange="c-100:c+0"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="cntno" value="Contact number: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="cntno" value="#{pleaseBean.prospect.contactNumber}" size="12" maxlength="12"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="los" value="Length of stay is two years? "/>
                        </p:column>
                        <p:column>
                            <p:selectBooleanCheckbox id="los" value="#{pleaseBean.prospect.lengthOfStay}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="natl" value="Nationality: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="natl" value="#{pleaseBean.prospect.nationality}" required="true" size="8" maxlength="8"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="orgu" value="Organizational Unit: "/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu id="orgu" required="true" value="#{pleaseBean.prospect.ouCode}">
                                <f:selectItem itemLabel="PT01" itemValue="PT01"/>
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h2>
                            <h:outputText value="ADDRESS"/>
                            </h2>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="street" value="Street/Phase: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="street" value="#{pleaseBean.prospect.street}" size="60" maxlength="60"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="bgy" value="Barangay: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="bgy" value="#{pleaseBean.prospect.barangay}" size="50" maxlength="50"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="city" value="City/Municipality: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="city" value="#{pleaseBean.prospect.cityMun}" size="50" maxlength="50"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="regn" value="Region: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="regn" value="#{pleaseBean.prospect.region}" size="50" maxlength="50"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="provnc" value="Province: "/>
                        </p:column>
                        <p:column>
                            <p:inputText id="provnc" value="#{pleaseBean.prospect.province}" size="50" maxlength="50"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:commandButton actionListener="#{pleaseBean.create}"
                                             value="Submit"
                                             onclick="adform.reset()"
                            />
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </h:form>
    </h:body>
</f:view> 
```

* * *

堆栈跟踪

```
2013-03-07T06:11:31.122+0000|WARNING|glassfish3.1.2|javax.enterprise.system.container.web.com.sun.enterprise.web|_ThreadID=177;_ThreadName=Thread-2;|ApplicationDispatcher[/please1-portlet] PWC1231: Servlet.service() for servlet please1 Servlet threw exception
javax.portlet.faces.BridgeException: java.lang.IllegalStateException: Must call associate() before calling activate()
    at com.liferay.faces.bridge.BridgePhaseRenderImpl.execute(BridgePhaseRenderImpl.java:193)
    at com.liferay.faces.bridge.BridgePhaseRenderImpl.execute(BridgePhaseRenderImpl.java:85)
    at com.liferay.faces.bridge.BridgeImpl.doFacesRequest(BridgeImpl.java:112)
    at javax.portlet.faces.GenericFacesPortlet.doView(GenericFacesPortlet.java:255)
    at javax.portlet.GenericPortlet.doDispatch(GenericPortlet.java:328)
    at javax.portlet.faces.GenericFacesPortlet.doDispatch(GenericFacesPortlet.java:204)
    at javax.portlet.GenericPortlet.render(GenericPortlet.java:233)
    at com.liferay.portlet.FilterChainImpl.doFilter(FilterChainImpl.java:100)
    at com.liferay.portal.kernel.portlet.PortletFilterUtil.doFilter(PortletFilterUtil.java:64)
    at com.liferay.portal.kernel.servlet.PortletServlet.service(PortletServlet.java:111)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:73)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at org.apache.catalina.core.ApplicationDispatcher.doInvoke(ApplicationDispatcher.java:807)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:671)
    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:626)
    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:556)
    at com.liferay.portlet.InvokerPortletImpl.invoke(InvokerPortletImpl.java:534)
    at com.liferay.portlet.InvokerPortletImpl.invokeRender(InvokerPortletImpl.java:607)
    at com.liferay.portlet.InvokerPortletImpl.render(InvokerPortletImpl.java:359)
    at org.apache.jsp.html.portal.render_005fportlet_jsp._jspService(render_005fportlet_jsp.java:1174)
    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:403)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:473)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:377)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:73)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at org.apache.catalina.core.ApplicationDispatcher.doInvoke(ApplicationDispatcher.java:807)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:671)
    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:626)
    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:556)
    at com.liferay.portal.servlet.DirectServletPathRegisterDispatcher.include(DirectServletPathRegisterDispatcher.java:53)
    at com.liferay.portal.servlet.PACLRequestDispatcherWrapper.doDispatch(PACLRequestDispatcherWrapper.java:90)
    at com.liferay.portal.servlet.PACLRequestDispatcherWrapper.include(PACLRequestDispatcherWrapper.java:54)
    at com.liferay.portal.util.PortalImpl.renderPortlet(PortalImpl.java:5158)
    at com.liferay.portal.util.PortalImpl.renderPortlet(PortalImpl.java:5116)
    at com.liferay.portal.util.PortalUtil.renderPortlet(PortalUtil.java:1557)
    at com.liferay.portal.action.RenderPortletAction.execute(RenderPortletAction.java:92)
    at com.liferay.portal.action.UpdateLayoutAction.addPortlet(UpdateLayoutAction.java:334)
    at com.liferay.portal.action.UpdateLayoutAction.getJSON(UpdateLayoutAction.java:287)
    at com.liferay.portal.struts.JSONAction.execute(JSONAction.java:75)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
    at com.liferay.portal.struts.PortalRequestProcessor.process(PortalRequestProcessor.java:176)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
    at com.liferay.portal.servlet.MainServlet.callParentService(MainServlet.java:560)
    at com.liferay.portal.servlet.MainServlet.service(MainServlet.java:537)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:163)
    at com.liferay.portal.servlet.filters.strip.StripFilter.processFilter(StripFilter.java:335)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:57)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:206)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:108)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:163)
    at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:294)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:57)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:206)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:108)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:163)
    at com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:83)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:57)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:206)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:108)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:163)
    at com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:80)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:57)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:206)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:108)
    at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:163)
    at com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:216)
    at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:57)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:206)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:108)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:187)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:95)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:206)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:108)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:167)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:95)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:167)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:95)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:116)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:187)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:95)
    at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:73)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:279)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
    at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:849)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:746)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1045)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:228)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.IllegalStateException: Must call associate() before calling activate()
    at org.jboss.weld.context.AbstractConversationContext.activate(AbstractConversationContext.java:200)
    at org.jboss.weld.jsf.WeldPhaseListener.activateConversations(WeldPhaseListener.java:108)
    at org.jboss.weld.jsf.WeldPhaseListener.beforePhase(WeldPhaseListener.java:85)
    at com.sun.faces.lifecycle.Phase.handleBeforePhase(Phase.java:228)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:99)
    at com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:116)
    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
    at com.liferay.faces.bridge.lifecycle.LifecycleWrapper.execute(LifecycleWrapper.java:35)
    at com.liferay.faces.bridge.BridgePhaseRenderImpl.execute(BridgePhaseRenderImpl.java:185)
    ... 138 more 
```

* * *

谁能帮我？

注意：这不是一个好的编码示例，任何人都不得模仿。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T16:29:56.623

我认为这个错误表明 CDI (JBoss Weld) 正在被激活，它当前与 portlet 环境不兼容。建议您在 WAR 工件中查找 WEB-INF/beans.xml 描述符，或在 ClassPath 中的任何 JAR 文件中查找 META-INF/beans.xml。如果您发现任何内容，则需要将其删除。希望我们很快就能与[FACES-1211](http://issues.liferay.com/browse/FACES-1211)兼容 CDI 。

# c++ - c++ 缺少 vtable 错误

> ID：15265106
> 
> 赞同：14
> 
> 时间：2013-03-07T07:06:26.090
> 
> 标签：c++

对于给定的类构造函数和析构函数，我遇到了一个与缺少 vtable 有关的非常奇怪的错误。请帮我解决这个问题。

架构 i386 的未定义符号：

```
 "vtable for A", referenced from:
      A::A() in A.o
      A::~MissionController() in A.o
  NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

代码片段；

# .h 文件：

```
class A: public B

  public:
     A();
    ~A();

}; 
```

# .cpp 文件..

```
 A::A()   
{

}

A::~A()
{

} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2016-02-03T02:32:00.500

找到它，尝试使用示例，这是一个示例。

```
class Shape{

public:
virtual int areas();
virtual void display();

virtual ~Shape(){};
}; 
```

编译器抱怨

```
Undefined symbols for architecture x86_64:
"typeinfo for Shape", referenced from:
  typeinfo for trian in main_file.o
 "vtable for Shape", referenced from:
  Shape::Shape() in main_file.o
  NOTE: a missing vtable usually means the first non-inline virtual member      function has no definition.
   ld: symbol(s) not found for architecture x86_64
  clang: error: linker command failed with exit code 1 (use -v to see invocation)
  make: *** [cpp_tries] Error 1enter code here 
```

修改为空或虚函数旁边 {} 内的任何内联内容

```
class Shape{

public:
    virtual int areas(){};
    virtual void display(){};

    virtual ~Shape(){};
}; 
```

基本上，它没有找到非内联虚函数的函数定义。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-07T10:31:53.180

啊! 考虑到这一点，我想我明白了正在发生的事情。我打赌那`CCNode`是属于其他人的代码。

您继承的任何虚函数在派生类中也是虚函数......并且将析构函数设为虚拟是常见的做法......您可能没有意识到析构函数是虚拟的。

此外，如果您正在使用其他人的头文件，但忘记链接到他们的目标文件，则可能会导致此错误，因为链接器会缺少`CCNode`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T10:18:45.590

尝试将虚拟析构函数添加到您的类中。CCNode 可能包含一些虚拟方法，您的编译器无法处理它。

```
 class MissionController: public CCNode
    {

      public:
         MissionController();
        virtual ~MissionController();
    }; 
```

它是一些公共框架，我们在哪里可以看到 CCNode 类定义？请参阅[vtable 以获取从编译错误 xcode 引用的 ..](https://stackoverflow.com/questions/1458180/vtable-for-referenced-from-compile-error-xcode)或[http://www.parashift.com/c++-faq-lite/link-errs-missing-vtable.html](http://www.parashift.com/c++-faq-lite/link-errs-missing-vtable.html)以获得更多帮助。

# c# - 即使验证器被禁用，RequiredFieldValidator 也会在服务器上进行验证（CausesValidation="false"）

> ID：15265107
> 
> 赞同：0
> 
> 时间：2013-03-07T07:06:41.100
> 
> 标签：c#, asp.net

我将 CausesValidation="false" 设置为我的取消按钮，但是当我单击取消按钮时，异常（箭头）在页面加载后显示几秒钟。我尝试了多种方法来禁用通过将组名添加到验证器和 EnableClientScript property=false 到验证器，但这些不能帮助我解决问题。即使我检查了很多线程，但没有人给出解决方案。如果有人遇到这个问题，请帮助我。

```
<form id="form1" runat="server">
<div class="AdminContent">
    <asp:Label ID="Label1" runat="server" CssClass="BreadcrumbActiveBig" Text="Group Membership" />
    <asp:ScriptManager ID="ScriptManager1" runat="server">
    </asp:ScriptManager>
    <br />
    <br />
    <asp:HiddenField ID="HiddenFieldProfile" runat="server" />
    <asp:FormView DefaultMode="Edit" ID="FormView1" runat="server" DataSourceID="PermGroupObjectDataSource1"
        OnPreRender="FormView1_PreRender">
        <EditItemTemplate>
            <table>
                <tr>
                    <td align="left" colspan="3">
                        <asp:Button ID="btnSave" runat="server" OnClick="btnSave_Click" Text="Save" Width="67px"
                            CssClass="ButtonS1" />
                        <asp:Button ID="btnCancel" runat="server" OnClick="btnCancel_Click" Text="Cancel"
                            CssClass="ButtonS1" CausesValidation="false" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <asp:Label ID="lblGrpName" runat="server" Text="Group Name:" Width="138px" />
                    </td>
                    <td>
                        <asp:TextBox ID="GroupNameTextBox" MaxLength="50" runat="server" Text='<%# Bind("GroupName") %>'
                            Width="337px" ReadOnly="false" />
                        <asp:RequiredFieldValidator ID="rqrgFldVldtr_GroupName" ControlToValidate="GroupNameTextBox"
                            Display="Dynamic" ErrorMessage="&lt;" meta:resourcekey="RequiredFieldValidator1Resource2"
                            runat="server"></asp:RequiredFieldValidator>
                    </td>
                </tr>
                <tr>
                    <td>
                        <asp:Label ID="lblGrpDescr" runat="server" Text="Group Description:" Width="138px" />
                    </td>
                    <td>
                        <asp:TextBox ID="GroupDescrTextBox" MaxLength="255" runat="server" Text='<%# Bind("GroupDescr") %>'
                            Width="337px" ReadOnly="false" />
                    </td>
                </tr>
                <tr>
                    <asp:Panel ID="managedByPanel" runat="server" Visible="false">
                        <td>
                            <asp:Label ID="lblManagedByDescr" runat="server" Text="Managed by:" Width="138px" />
                        </td>
                        <td>
                            <asp:DropDownList ID="managedByDropDownList" runat="server">
                                <asp:ListItem Value="0" Text="Admin" />
                                <asp:ListItem Value="1" Text="AP Clerk admin &amp; Admin" />
                                <asp:ListItem Value="2" Text="POC admin &amp; Admin" />
                            </asp:DropDownList>
                        </td>
                    </asp:Panel>
                </tr>
                <tr>
                    <asp:Panel ID="lblFilterPanel" runat="server" Visible="false">
                        <td>
                            <asp:Label ID="LabelFilter" runat="server" Text="Exclude From Document Filter" Width="150px" />
                        </td>
                        <td>
                            <asp:CheckBox ID="chbExcludefromDocFilter" runat="server" Checked='<%# Bind("ExcludeFromUserFilter") %>' />
                        </td>
                    </asp:Panel>
                </tr>
                <tr>
                    <td valign="top">
                        <asp:Label ID="lblMembers" runat="server" Text="Members:" Width="80px" />
                    </td>
                    <td>
                        <asp:UpdatePanel ID="UpdatePanel1" runat="server">
                            <ContentTemplate>
                                <div>
                                    <asp:ListBox ID="lbxMembers" runat="server" Style="overflow: auto; width: 500px;
                                        height: 150px;" DataSourceID="MembersObjectDataSource1" DataTextField='ListName'
                                        DataValueField="UName" SelectionMode="Multiple" />
                                    <br />
                                    <asp:ObjectDataSource ID="MembersObjectDataSource1" runat="server" DataObjectTypeName="System.Collections.Generic.List`1[[Accenture.CSTPrague.eAPI.GroupMember, eAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"
                                        SelectMethod="FetchGroupMembers" TypeName="Accenture.CSTPrague.eAPI.WebDB_Perm"
                                        UpdateMethod="StoreGroupMembers">
                                        <SelectParameters>
                                            <asp:SessionParameter Name="o" SessionField="oPermGroup" Type="Object" />
                                        </SelectParameters>
                                    </asp:ObjectDataSource>
                                </div>
                                <asp:Button ID="btnDeleteSelected" runat="server" OnClick="btnDeleteSelected_Click"
                                    Text="Delete Selected" Width="106px" CssClass="ButtonS1" Style="margin: 4px 0px 8px 2px;" />
                            </ContentTemplate>
                            <Triggers>
                                <asp:AsyncPostBackTrigger ControlID="btnDeleteSelected" EventName="Click" />
                            </Triggers>
                        </asp:UpdatePanel>
                    </td>
                </tr>
                <tr>
                    <td>
                        <asp:Label ID="lblUserName" runat="server" Text="User name:" Width="141px" />
                    </td>
                    <td>
                        <asp:UpdatePanel ID="UpdatePanel2" runat="server">
                            <ContentTemplate>
                                <asp:Panel ID="panel1" runat="server" DefaultButton="btnAdd">
                                    <table>
                                        <tr>
                                            <td valign="top">
                                                <accenture:lookupcontrol id="UserLookup" runat="server" lookupcommand="usr" maxlength="100"
                                                    validationgroup="addUser" disablevalidation="true" />
                                            </td>
                                            <td>
                                                <asp:CustomValidator ID="cuvUserName" runat="server" ValidationGroup="addUser" Display="Dynamic"
                                                    ErrorMessage="<" EnableClientScript="false" OnServerValidate="cuvUserName_ServerValidate"
                                                    ControlToValidate="UserLookup" ValidateEmptyText="true" />
                                            </td>
                                            <td valign="top">
                                                <asp:Button ID="btnAdd" runat="server" OnClick="btnAdd_Click" Text="Add User" ValidationGroup="addUser"
                                                    CausesValidation="true" CssClass="ButtonS1" Style="margin: 2px 0px 8px 2px;" />
                                            </td>
                                        </tr>
                                    </table>
                                </asp:Panel>
                            </ContentTemplate>
                            <Triggers>
                                <asp:AsyncPostBackTrigger ControlID="btnAdd" EventName="Click" />
                            </Triggers>
                        </asp:UpdatePanel>
                    </td>
                </tr>
                <tr style="vertical-align: top">
                    <asp:Panel ID="queryConditionPanel" runat="server" Visible="false">
                        <td>
                            <asp:Label ID="lblQueryCondition" runat="server" Text="Query&nbsp;Condition:" Width="138px" />
                        </td>
                        <td>
                            <accenture:lengthlimitedmultilinetextbox id="txtQueryCondition" runat="server" text='<%# Bind("QueryCondition") %>'
                                style="width: 500px" textmode="MultiLine" maxlength="1000" height="100px" cssclass="txtbox" />
                        </td>
                    </asp:Panel>
                </tr>
            </table>
        </EditItemTemplate>
        <InsertItemTemplate>
            Gid:
            <asp:TextBox ID="GidTextBox" runat="server" Text='<%# Bind("Gid") %>' /><br />
            GroupName:
            <asp:TextBox ID="GroupNameTextBox" MaxLength="50" runat="server" Text='<%# Bind("GroupName") %>' /><br />
            Id:
            <asp:TextBox ID="IdTextBox" runat="server" Text='<%# Bind("Id") %>'></asp:TextBox><br />
            GroupDescr:
            <asp:TextBox ID="GroupDescrTextBox" MaxLength="255" runat="server" Text='<%# Bind("GroupDescr") %>' /><br />
            ExcludeFromUserFilter:
            <asp:CheckBox ID="chbExcludefromDocFilter" runat="server" Checked='<%# Bind("ExcludeFromUserFilter") %>' /><br />
            Members:
            <asp:TextBox ID="MembersTextBox" runat="server" Text='<%# Bind("Members") %>' /><br />
            <asp:LinkButton ID="InsertButton" runat="server" CausesValidation="True" CommandName="Insert"
                Text="Insert" />
            <asp:LinkButton ID="InsertCancelButton" runat="server" CausesValidation="False" CommandName="Cancel"
                Text="Cancel" />
        </InsertItemTemplate>
        <ItemTemplate>
            Gid:
            <asp:Label ID="GidLabel" runat="server" Text='<%# Bind("Gid") %>' /><br />
            GroupName:
            <asp:Label ID="GroupNameLabel" runat="server" Text='<%# Bind("GroupName") %>' /><br />
            Id:
            <asp:Label ID="IdLabel" runat="server" Text='<%# Bind("Id") %>' /><br />
            GroupDescr:
            <asp:Label ID="GroupDescrLabel" runat="server" Text='<%# Bind("GroupDescr") %>' /><br />
            <%--ExcludeFromUserFilter: <asp:Label ID="lblExcludefromDocFilter" runat="server" Text='<%# Bind("ExcludeFromUserFilter") %>' /><br />--%>
            Members:
            <asp:Label ID="MembersLabel" runat="server" Text='<%# Bind("Members") %>' /><br />
            <asp:LinkButton ID="EditButton" runat="server" CausesValidation="False" CommandName="Edit"
                Text="Edit" />
        </ItemTemplate>
    </asp:FormView>
    <asp:Label ID="lblMsg" runat="server" ForeColor="Red" />
    <asp:ObjectDataSource ID="PermGroupObjectDataSource1" runat="server" DataObjectTypeName="Accenture.CSTPrague.eAPI.PermGroup"
        SelectMethod="FetchPermGroupFromDB" TypeName="Accenture.CSTPrague.eAPI.WebDB_Perm"
        UpdateMethod="StorePermGroupToDB" OnUpdating="PermGroupObjectDataSource1_Updating">
        <SelectParameters>
            <asp:SessionParameter Name="o" SessionField="oPermGroup" Type="Object" />
        </SelectParameters>
    </asp:ObjectDataSource>
</div>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:28:38.470

在您的验证控件和提交按钮中设置 ValidationGroup="xxx"。（不要取消按钮“）

尝试

```
<asp:RequiredFieldValidator ID="rqrgFldVldtr_GroupName" 
             ControlToValidate="GroupNameTextBox" **ValidationGroup="xxx"** Display="Dynamic" ErrorMessage="&lt;"
                            meta:resourcekey="RequiredFieldValidator1Resource2" 
              runat="server">
           </asp:RequiredFieldValidator>

<asp:Button ID="btnSave" runat="server" OnClick="btnSave_Click"  **ValidationGroup="xxx"** Text="Save" 
            Width="67px" CssClass="ButtonS1"/>

            <asp:Button ID="btnCancel" runat="server" OnClick="btnCancel_Click" 
           Text="Cancel" CssClass="ButtonS1" CausesValidation="false"/> 
```

# linux - recv() 函数可以接收比其内部缓冲区更多的字节吗？

> ID：15265112
> 
> 赞同：0
> 
> 时间：2013-03-07T07:07:02.507
> 
> 标签：linux, sockets, tcp, recv, getsockopt

我是 Linux 中套接字的新手，并试图了解其`recv()`工作原理。尝试了一个我无法清楚地找到解释的场景。我希望那里有人可以启发我。这是场景：

使用 TCP 套接字在两个进程（发送方和接收方）之间发送 5 MiB 的数据。我在运行 Linux 的 i.MX6 Sabrelite 板上执行这些过程。

发件人.cpp：

```
char buffer[5MB];
send(sendSocket, (void*) buffer, 5 MiB, 0); 
```

接收器.cpp：

```
char buffer[5 MiB];
int count = 0;
do {
    rbytes = recv(receiveSocket, (void*) buffer, 5MB, 0);
    printf("Recv'd %d. %d\n",count,rbytes);
    count++;
} while (rbytes!=0); 
```

我`getsockopt()`在接收之前使用函数调用来获取内部缓冲区`SO_RCVBUF`大小。大约是 86 KiB。

我想看看获得 5 MiB 需要多少次调用以及每次调用`recv()`需要多少字节。`recv()`

收到 5 MiB 后，我检查输出。几乎需要 48 次`recv()`调用才能获得 5 MiB 的数据。对于前 40 次调用，它收到的数据少于 86 KiB，这是有道理的，因为收到的字节数小于内部缓冲区。如果我收到了 86 KiB 的两倍，那么我遇到的一些解释是内核通常分配`SO_RCVBUF`.

但我收到的字节数超过了 86 KiB 的两倍。

我可以相信`SO_RCVBUF`使用的尺寸`getsockopt()`吗？

它会动态改变它的值吗？

刚刚尝试了相同场景的另一个迭代。通话次数`recv()`不同。但是我收到的字节有时超过了分配。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:18:10.980

根据[这个线程](http://lkml.indiana.edu/hypermail/linux/kernel/1207.2/01561.html)，内核分配的缓冲区空间是您使用 SO_RCVBUF 请求的两倍。

# sql - 如何在oracle中添加长度为5000的列

> ID：15265113
> 
> 赞同：2
> 
> 时间：2013-03-07T07:07:11.530
> 
> 标签：sql, oracle, database-administration

我想要一个 oracle 中的表，每列有 5 列，每列长度为 5000。
我正在使用**varchar(5000)**，但它不允许。

```
Error starting at line 8 in command:
ALTER TABLE WORK_STATIC_DATA_AUDIT 
MODIFY ("NEW_VALUE" VARCHAR2(5000))
Error report:
SQL Error: ORA-00910: specified length too long for its datatype
00910\. 00000 -  "specified length too long for its datatype"
*Cause:    for datatypes CHAR and RAW, the length specified was > 2000;
           otherwise, the length specified was > 4000.
*Action:   use a shorter length or switch to a datatype permitting a
           longer length such as a VARCHAR2, LONG CHAR, or LONG RAW 
```

我试过**CLOB** , **LONG**但它说我们只能有一个 CLOB 或 Long 每张桌子的 cloumn。
请帮我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:14:45.857

我刚刚使用以下 DDL 创建并测试了表：

```
create table x (x clob,z clob,c clob,a clob, y long) 
```

试试看。

可能有帮助... 2 列 long 被拒绝。

您还可以用作解决方法的是创建 5 个具有 1 个 id 列和 1 个长列的表，然后通过 ID 与您的主表连接。很长的路要走但有效

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-22T19:38:55.013

VARCHAR2 的限制是 4000 CHAR，因此您必须对长度为 4000 或更长的列使用 CLOB。正如您所指出的，每个表的 LONG 列数为 1，但每个表最多可以有 1000 个 CLOB（1000 是*任何表的**最大*列数）。 使用 CLOB 应该可以实现 5 列，每列长度为 4000 或更多（如 5000）。 请参阅：[Oracle 数据类型限制](http://docs.oracle.com/cd/A58617_01/server.804/a58242/ch5.htm)

# ruby-on-rails - 根据 RAILS_ENV 设置变量

> ID：15265115
> 
> 赞同：0
> 
> 时间：2013-03-07T07:07:20.463
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

这是我当前的控制器：'trace_controller.rb'

```
rule_oms = Rule.new("localhost","root","","oms_local")
rule_warehouse=Rule.new("localhost","root","","warehouse_local")
rule_payment=Rule.new("localhost","root","","payment_local") 
```

... .... 我们有 2 种不同的模式 - 分期和生产。它们具有唯一的主机名、密码、用户、数据库名称。

如何从 environment.rb 更改这些设置？您可以根据它们设置变量吗？

根据环境，我得到所有不同数据库的主机名、密码、用户、db_name。与大多数 Rails 应用程序不同，无论环境如何，我都连接到多个数据库。

任何想法我应该做什么？（使用最新版本的 Rails）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:34:04.880

在 config 文件夹中 --> 环境 --> 添加另一个具有您的环境名称的文件

默认情况下， development.rb、 、 test.rb 和 production.rb 存在。为您的 qa_1 环境添加让我们说 qa_1.rb。

在此文件中设置所需的配置，您可以从任何现有环境文件中复制它并根据需要进行更改。

使用 RAILS_ENV=qa_1 运行您的 Rails 应用程序

它将从 qa_1.rb 文件中获取配置

您可以设置可能的 settings_logic gem，以设置环境明智的值

宝石“设置逻辑”

然后在 app/models/settings.rb 添加

```
class Settings < Settingslogic
  source "#{Rails.root}/config/application.yml"
  namespace Rails.env
end 
```

并在 /config/application.yml 中为您设置特定于环境的数据

```
defaults: &defaults
  db: default_db
development:
  user: dev_user
test:
  user: test_user
production:
  user: prod_user
  db: prod_db
qa_1:
  user: qa_1_user
  db: qa_1_db 
```

在 database.yml 中你也可以使用

```
qa_1:
  db: qa_db
  user: user 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:17:38.547

我不确定你想要实现什么，但如果你把它放在 中`environment.rb`，那么我只能猜测你想要某种全局常量。如果这是你想要的，我建议你在里面创建一个`config/initializers`名为的文件，`constants.rb`然后将以下内容放在那里。

```
RULE_OMS = Rule.new("oms-#{Rails.env}") 
RULE_WAREHOUSE = Rule.new("warehouse_#{Rails.env}")
RULE_PAYMENT = Rule.new("payment_#{Rails.env}") 
```

然后只需`RULE_OMS`在您的应用程序中的任何位置调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T13:10:43.940

这对我有用-：

1）在config/environments中创建local.rb（只是开发的副本）

2）在database.yml中定义local的参数

3）在config/environment.rb中设置参数

```
if Rails.env.local?
  OMS_HOST="localhost"
  OMS_DB="oms_local"
  OMS_USER="root"
  OMS_PWD=""

  WAREHOUSE_HOST="localhost"
  WAREHOUSE_DB="warehouse_local"
  WAREHOUSE_USER="root"
  WAREHOUSE_PWD=""

  PAYMENT_HOST="localhost"
  PAYMENT_DB="payment_local"
  PAYMENT_USER="root"
  PAYMENT_PWD=""
end

if Rails.env.development?
  OMS_HOST="amt.com"
  OMS_DB="oms_staging"
  OMS_USER="user1"
  OMS_PWD="xyz"
....
..... 
```

4) 在 trace_controller.rb 中，我使用这些常量来初始化我的 Rule 模型。

5) 如果您正在使用它，请将其添加到 .gitignore 文件中。

6）不要忘记重新启动服务器。

为我的问题提出的方式道歉，因为它很不清楚。希望这个答案对将来的人有所帮助。

# objective-c - 观察 AXUIelement 的孩子变化？

> ID：15265116
> 
> 赞同：1
> 
> 时间：2013-03-07T07:07:21.777
> 
> 标签：objective-c, xcode, cocoa, accessibility, accessibility-api

如果对于特定的父 AXUI 元素，它的任何子元素发生更改（属性）或添加/删除子元素，是否可以接收通知？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T15:59:50.287

对于添加/删除如果一个元素是使用 NSAccessibilityCreatedNotification 创建的（然后检查它是否具有适当的父级）并使用 NSAccessibilityUIElementDestroyedNotification 销毁，您可以获得通知。我没有看到任意属性更改的[可访问性通知](https://developer.apple.com/library/mac/#documentation/UserExperience/Reference/Accessibility_RoleAttribute_Ref/Notifications.html#//apple_ref/doc/uid/TP40007870-Notifications-SW1)。

# arm - 应该使用哪个编译器将 C 代码移植到 ARM？

> ID：15265119
> 
> 赞同：3
> 
> 时间：2013-03-07T07:07:28.367
> 
> 标签：arm, neon, rvds

我是 ARM 的新手。我已经编写了 C 代码，但我希望将代码移植到在所有 ARM 处理器上运行的 ARM。我将开发高端应用程序，例如在智能手机/平板电脑上运行的应用程序。你们能说出哪个是最好的编译器吗？我听说过 RVDS，但这似乎很昂贵。

我的另一个问题是：我可以使用 Microsoft Visual Studio 2008 像 Neon 一样对 ARM Intrinsic 进行编程吗？RVDS 还有其他替代方案吗？

非常感谢您的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:19:12.160

多个版本的 gcc 工具链可用于 ARM 处理器。您需要找出代码的确切目标，例如：

*   哪个处理器或一组处理器？支持哪些指令集和扩展？（有很多喜欢`ARMv6`，，，`ARMV7`）`ARMv7a`。其中一些可能有`NEON`支持，而另一些可能没有。
*   什么样的 FPU 支持 - `hard FP`vs `soft FP`？
*   什么样的操作系统环境？`Linux`? `Android`? `Bare metal`?
*   哪个 C 库 - `glibc`、`uclibc`或`bionic libc`其他什么？

最后两个是内置在工具链中的，不能修改。但是可以使用`-m`gcc 中的 ARM 特定标志来控制选择确切的指令集和优化。

像 Ubuntu 这样的发行版已经将 ARM 工具链作为其存储库的一部分。您也可以尝试一下：

```
sudo apt-get install gcc-arm-linux-gnueabi 
```

# java - 记录了 jsoup 记录

> ID：15265124
> 
> 赞同：3
> 
> 时间：2013-03-07T07:07:42.773
> 
> 标签：java, login, jsoup, httpresponse

我有一个网站。

必须登录才能看到里面的内容。

但是，我使用此代码登录。

```
doc = Jsoup.connect("http://46.137.207.181/Account/Login.aspx")
                  .data("ctl00$MainContent$LoginUser$UserName", "1234")
                  .data("ctl00$MainContent$LoginUser$Password", "123456")
                  .data("__VIEWSTATE","/wEPDwULLTEyMDAyNTY1NjJkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYBBSZjdGwwMCRNYWluQ29udGVudCRMb2dpblVzZXIkUmVtZW1iZXJNZUHk9FMvtsvPHqlP3vAV+1oloaxe4Asr7RQX5XFptqGz")
                  .data("__EVENTVALIDATION","/wEWBQLup8mjCgLFyvjkDwLQzbOWAgKVu47QDwKnwKnjBTL6Xsxc9zQnY8p9KVlFJ/8HIHqlOGl9uClF4ktcWYJ5")
                  .data("ctl00$MainContent$LoginUser$LoginButton","2")
                  request.
                  .post(); 
```

然后获取登录页面。

```
doc2 = Jsoup.connect("http://46.137.207.181/Groups.aspx").get();
            s=doc.title();
            Elements kelime = doc.select("td");
            for (Element link : kelime) {
                  linkHref = link.attr("hh"); 
```

没有显示登录屏幕。

我想问我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T17:27:08.663

您的示例中发生的情况是您正在使用表单数据登录`Login.apsx`并创建会话，但请求`Groups.aspx`不携带该会话数据，因此请求未经过身份验证。

`Login.aspx`将返回一个会话 cookie，您需要将该 cookie 传递给下一个请求。

有关好的示例，请参阅此[jsoup 登录问题的答案。](https://stackoverflow.com/a/6476916/153184)

# android - 使用 json 从 php:mysql 接收数据到 android

> ID：15265125
> 
> 赞同：1
> 
> 时间：2013-03-07T07:07:45.957
> 
> 标签：android, json, web-services

我正在开发一个 Android 应用程序，它从我的数据库中发送和接收简单的 fname,Lname。我正在使用 php 和 mysql 进行 web 服务。我在 JSONParser 类中使用本[教程](http://www.androidhive.info/2012/05/how-to-connect-android-with-php-mysql/) ，如下所示

```
public class JSONParser {

static InputStream is = null;
static JSONObject jObj = null;
static String json = "";

// constructor
public JSONParser() {

}

// function get json from url
// by making HTTP POST or GET method
public JSONObject makeHttpRequest(String url, String method,
        List<NameValuePair> params) {

    // Making HTTP request
    try {

        // check for request method
        if(method == "POST"){
            // request method is POST
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(url);
            httpPost.setEntity(new UrlEncodedFormEntity(params));

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();

        }else if(method == "GET"){
            // request method is GET
            DefaultHttpClient httpClient = new DefaultHttpClient();
            String paramString = URLEncodedUtils.format(params, "utf-8");
            url += "?" + paramString;
            HttpGet httpGet = new HttpGet(url);

            HttpResponse httpResponse = httpClient.execute(httpGet);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();
        }           

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "talha");
        }
        Log.i("Buffer Error", "Baby Baby! Yes Mama! ");

        is.close();
        json = sb.toString();
        Log.i("Buffer Error", "Eating suger! NO Mama! "+ json);

    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object
    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("MyJSON", "Error parsing data "+ e.toString());
    }

    // return JSON String
    return jObj;

}
} 
```

当我试图将字符串解析为 json 对象时

```
try {
     jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("MyJSON", "Error parsing data "+ e.toString());
    } 
```

我收到异常 JSONArray 无法转换为 JSONObject。请帮助，因为在所有其他教程中，都描述了类似的过程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:18:52.160

是的，如果你直接创建它，你会遇到这个问题。在后面添加一行`json = b.toString();`

```
json = sb.toString();
json = "{json_parse" + "[" + json + "]" + "}"; 
```

# objective-c - 如果语句执行不符合条件

> ID：15265128
> 
> 赞同：0
> 
> 时间：2013-03-07T07:07:54.320
> 
> 标签：objective-c, if-statement

我有一个奇怪的问题！当日志输出显示它不是时，我有一个 IF 语句正在执行，就好像它的条件是真的一样。此外，这只发生在第一次调用单独的按钮之后，而不是之前。因此，例如，如果我在运行程序后直接单击此按钮，它将正常工作，只要我先单击另一个按钮，然后单击有问题的按钮，它就无法正确执行 IF 语句。

正如您可能从下面的代码中可以看出的那样，该按钮仅在条件为真时才会亮起。

```
- (IBAction)affectedFather:(id)sender
{
    NSLog(@"status of autoDomOn %@",autoDomOn? @"On":@"Off");
    NSLog(@"status of xLinkedDomOn %@",xLinkDomOn? @"On":@"Off");

    if(autoDomOn==YES||xLinkDomOn==YES)
    {
     NSLog(@"father selected!");
     [sender setImage:[UIImage imageNamed:@"buttonOptionsHighlight.png"]  forState:UIControlStateNormal];
      affectedMotherOut.imageView.image = [UIImage imageNamed:@"buttonOptions.png"];
      affectedParentsBoth.imageView.image = [UIImage imageNamed:@"buttonOptions.png"];
    }  
 NSLog(@"Do nothing!");
} 
```

正如下面的日志输出所示，不应该满足 IF 语句并且按钮不应该变为亮起......但是确实如此。

```
2013-03-07 06:55:41.858 TCGA beta[6134:c07] status of xLinkedDomOn Off
2013-03-07 06:55:41.859 TCGA beta[6134:c07] Do nothing! 
```

为了避免在这个问题上发送太多代码，我不会粘贴另一种方法，但我真的想了解是否有任何理由使上述 if 语句忽略条件？

我已经通过另一种方法来排除任何似乎没有的括号错误或内存位置错误。很高兴根据要求提供更多信息。

提前感谢您提供的任何建议！

亲切的问候，山姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:41:59.207

正如 H2CO3 已经暗示的那样，根据您提供的信息，可能仍然满足条件（如果 autoDomOn 为 YES），因此您可能希望切换到 && 而不是 ||。

If that's not the case make sure that both vars are not somehow changed or even released and the memory overwritten in your other code - that way you'd access the right memory location but it'd be filled with stuff from your other code causing weird behavior.

# wpf - 关于 WPF 的 CystalReports 错误

> ID：15265133
> 
> 赞同：3
> 
> 时间：2013-03-07T07:08:37.300
> 
> 标签：wpf, visual-studio-2010, c#-4.0, crystal-reports

我将 CrytalReports 用于 WPF 的 Visual Studio 10 (.NET 4)。每当我使用 CrystalReportViewer 加载 Window 时，它都会说，

> 无法加载文件或程序集 'file:///C:\Program Files\SAP BusinessObjects\Crystal Reports for .NET Framework 4.0\Common\SAP BusinessObjects Enterprise XI 4.0\win32_x86\dotnet1\crdb_adoplus.dll' 或其依赖项之一. 该系统找不到指定的文件。

我已将所有 dll 文件/程序集添加为对项目的引用。

![项目参考](../Images/9eb1dafc614bcef59c7e004aa9154921.png)

请建议我该怎么做，我真的快到最后期限了。提前致谢。

```
conn obj = new conn();
            SqlConnection con = new SqlConnection(obj.get_connection());

            SqlDataAdapter sda = new SqlDataAdapter("select * from fee_window where dateofdeposite='" + DateTime.Now.ToString("MM/dd/yyyy") + "'", con);
            DataSet_daybook ds = new DataSet_daybook();

            sda.Fill(ds, "fee_window");

            ReportDocument report = new ReportDocument();
            report.Load(@"..\..\Report_daybook.rpt");
            report.SetDataSource(ds);
            crystalReportsViewer1.ViewerCore.ReportSource = report; 
```

添加了我的代码。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T07:20:18.373

将以下属性添加到 app.config 启动元素

```
<startup useLegacyV2RuntimeActivationPolicy="true">

</startup> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:27:05.610

看到这个讨论。
[http://scn.sap.com/thread/1665437](http://scn.sap.com/thread/1665437)
我希望这个讨论会对你有所帮助。

# linux - 无法在linux上成功安装poski

> ID：15265134
> 
> 赞同：0
> 
> 时间：2013-03-07T07:08:37.680
> 
> 标签：linux

我想在 linux 上安装 poski（centos 5.3 和 ubuntu 11.10）。我执行以下命令：

```
../poski-v1.0.0/INSTALL.sh --with-oski=yes --prefix=/usr/local/poski 
```

错误如下，centos 和 ubuntu 相同。

```
../../poski-v1.0.0/include/poski/poski_commontype.h:4: fatal error: oski/oski.h: No such file or directory 
```

# java - 为什么我需要显式转换泛型调用？

> ID：15265138
> 
> 赞同：13
> 
> 时间：2013-03-07T07:09:18.420
> 
> 标签：java, generics

假设我有以下内容：

```
public <T extends Widget> List<T> first(T n) {
    return first(n.getClass());
}
public <T extends Widget> List<T> first(Class<T> n) {
    return new ArrayList<>();
} 
```

编译器在第 3 行用“ `incompatible types; required: java.util.List<T>; found: java.util.List<capture#1 of ? extends my.app.Widget>`”抱怨。我不明白为什么。`T`在我看来，除了子类型之外，类型在任何一种情况下都不会改变，这似乎是合理的。

这可以通过显式转换来解决，尽管我不知道为什么需要它。

```
public <T extends Widget> List<T> first(T n) {
    return (List<T>)first(n.getClass());
}
public <T extends Widget> List<T> first(Class<T> n) {
    return new ArrayList<>();
} 
```

这可能是编译器错误吗？

注意我使用的是 JDK 1.7.0_15：

```
java version "1.7.0_15"
Java(TM) SE Runtime Environment (build 1.7.0_15-b03)
Java HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T07:31:59.467

正是由于您所说的原因，类型参数实际上可能是您传入的对象的实际运行时类型的超类型！ `T#getClass()`不返回`Class<T>`，它返回`Class<? extends T>`

```
Number number = Integer.valueOf(1);
List<Number> list = first(number); 
```

当您`n.getClass()`在运行时调用时将返回`Integer.class`，不是`Number.class`，但您正试图将结果分配给`List<Number>`！编译器无法知道真正的运行时类型是什么，它最多只知道`List<? extends Number>`返回的类型。强迫你加入演员阵容是它说“我不能保证这次手术的安全性，你保证它是正确的”的方式。

任何时候编译器不可能确认一个操作是类型安全的，它会强制你强制转换，从而引发一个“未经检查”的警告，这样它就完成了让你知道问题的工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T07:30:00.273

`getClass()`返回一个类型的值`Class<?>`。当您将它传递给 的另一个覆盖时`first`，您正在执行未经检查的强制转换为`Class<? extends Widget>`. 它没有被检查，因为泛型在运行时使用“类型擦除”，这意味着 JVM 无法检查它；通过`-Xlint:unchecked`查看此警告。

请注意，这不是`Class<T extends Widget>`，这意味着类型系统不确保此方法的类型参数（的第一个覆盖`first`）与被调用的方法（另一个`first`）的类型参数相同。

所以你得到的结果是类型`List<? extends Widget>`（where `? extends Widget`is `capture#1`），它与 不兼容`List<T extends Widget>`，因此编译器正确地产生了错误。

在这种情况下，您碰巧知道（尽管编译器不知道）这是一件合理的事情，因此您可以使用显式强制转换来覆盖它。但在那种情况下，为什么不把这个方法做成这样：

```
public <T extends Widget> List<T> first() {
    return new ArrayList<T>();
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-07T07:35:44.107

这是因为`n.getClass()`总是返回`Class<?>`而不是`Class<T>`因此编译器无法直接解决这个问题。你总是需要在这里显式地转换。例如

```
public <T extends Widget> List<T> first(T n) {
    return first((Class<T>)n.getClass());
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T07:31:41.103

泛型及其各自的最终类型是在编译时确定的，而不是在运行时确定的。在运行时，所有通用信息都会被擦除——这被称为[类型擦除](http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#What%20is%20type%20erasure?)。似乎在这里您试图确定函数调用时的泛型类型，Java 不支持这种类型

```
public <T extends Widget> List<T> first(T n) {
    return first(n.getClass());
} 
```

在这里，您需要返回`List<T>`- 一个列表实例。一个具体的实例必须有一个具体的参数`T`。即一个人不能返回`List<T extends Widget>`- 类型将是未知的。你会在这样的列表中存储什么？

```
public <T extends Widget> List<T> first(Class<T> n) {
    return new ArrayList<>();
} 
```

在这里，您希望根据提供的类返回一个列表 - 但请注意您实际上正在创建一个通用 ArrayList，然后将其转换为所需的类型。问题是这里的 T 和前面方法中的 T 不一样。您需要用一个 T 声明整个类的泛型，以使它们相同。

# javascript - 使用 Facebook Graph API Javascript 发布事件

> ID：15265139
> 
> 赞同：1
> 
> 时间：2013-03-07T07:09:20.177
> 
> 标签：javascript, facebook, facebook-graph-api

我正在使用 Facebook 的 Graph ApI 成功创建事件，但我想发布（因为我们通常共享事件或在朋友墙上发布）事件我已经尝试使用 EVENT_ID/Feed 但我认为我做错了所以任何人都可以帮助解决问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:57:46.680

That's the case of a [simple post](https://developers.facebook.com/docs/reference/api/post/) with a link.

Send a `POST` request to `FRIEND_ID/feed` with the `link` parameter corresponding to your event URL.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:01:43.190

这是Javascript：

```
var body = "";
var myname = "";
var myLink = "";
var myDescr = "";

FB.api('/me/feed', 'post', { privacy: { "value": "EVERYONE" }, message: body, name: myname, link: myLInk, description: myDescr }, function (response) {
                            if (!response || response.error) {
                                console.log(response.error);
                            } else {
                                //DO SOME STUFF
                            }
                        }); 
```

Body 是消息，myname 是共享链接的标题，myLink 是链接，myDescr 是链接的简短描述

# c++ - 如何关闭已经打开的C文件

> ID：15265140
> 
> 赞同：3
> 
> 时间：2013-03-07T07:09:22.167
> 
> 标签：c++, c

我正在编写应用程序来读取 DICOM 文件，我必须使用其他库来执行此操作。我发现库会打开文件，但完成后不会关闭文件。而且该库不是开源的。我知道在 Linux 中打开文件的限制是 1024，我可以更改这个数字。但我不想这样做。我喜欢关闭库打开的文件。如果我知道它正在打开，如何在 C 中关闭文件。我正在使用从[http://cbi.nyu.edu/software/dinifti.php](http://cbi.nyu.edu/software/dinifti.php)获得的 DICOM2NII 库。这是打开文件的代码，但它没有关闭

```
bool DICOMImage::OpenFile(const char *path)
{
    bool retValue = true;
    DCM_Objects handle_;
    unsigned long options = DCM_ORDERLITTLEENDIAN | DCM_FORMATCONVERSION | DCM_VRMASK;
    // Try opening as PART10, if it fails it's might be bcause it does not have
    // a preable and the try it that way
    if ( DCM_OpenFile(path, options | DCM_PART10FILE, &handle_) != DCM_NORMAL )
    {
        DCM_CloseObject(&handle_);
        COND_PopCondition(TRUE);
        if ( DCM_OpenFile(path, options, &handle_) != DCM_NORMAL )
        {    
          retValue = false;
        }
        else
          retValue=true;
    }

    return retValue;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:22:44.287

在您的`DICOMImage`班级中，添加一个成员

```
DCM_OBJECT *handle_; 
```

并在你的析构函数中关闭文件

```
DICOMImage::DICOMImage() : handle_(0) { ... }

DICOMImage::~DICOMImage() {
    if (handle_ != 0)
        DCM_CloseObject(&handle_);
} 
```

当然也可以使用这个成员`handle_`。`DICOMImage::OpenFile()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:15:08.933

您可以首先测试所有文件描述符，通过`fcntl(fd, F_GETFD)`对从 0 到`getdtablesize()`. 当库函数返回时，将再打开一个 fd，您可以使用`close()`. 您也可以只调用`close(fd)`以前未打开的所有内容，其中一个会成功（并且您可以在搜索中停止该点）。

很可能您可以对第一个未使用的 fd 进行初始探测，并且库最终将使用该 fd，前提是它不会做任何比打开一个文件更复杂的事情。如果它打开多个文件或使用`dup()`它可能会在其他地方结束。

拼写出来：

```
#include <iostream>
#include <vector>
#include <unistd.h>
#include <fcntl.h>

std::vector<bool> getOpenFileMap()
{
    int limit = getdtablesize();
    std::vector<bool> result(limit);

    for (int fd = 0; fd < limit; ++fd)
        result[fd] = fcntl(fd, F_GETFD) != -1;
    return result;
}

void closeOpenedFiles(const std::vector<bool> &existing)
{
    int limit = existing.size();
    for (int fd = 0; fd < limit; ++fd)
        if (!existing[fd])
            close(fd);
}

int getLikelyFd()
{
    int limit = getdtablesize();

    for (int fd = 0; fd < limit; ++fd)
        if (fcntl(fd, F_GETFD) != -1)
            return fd;
}

int main()
{
    std::vector<bool> existing = getOpenFileMap();
    int fd = open("/dev/null", O_RDONLY);
    closeOpenedFiles(existing);
    bool closed = write(fd, "test", 4) == -1;
    std::cout << "complex pass " << std::boolalpha << closed << std::endl;

    int guess = getLikelyFd();
    fd = open("/dev/null", O_RDONLY);
    bool match = fd == guess;
    std::cout << "simple pass " << std::boolalpha << match << std::endl;
} 
```

# android - 按钮与线程 android 同步

> ID：15265141
> 
> 赞同：0
> 
> 时间：2013-03-07T07:09:22.200
> 
> 标签：android, multithreading, button, onresume, onpause

如何创建一个按钮来暂停循环内的线程和另一个按钮恢复。

```
Runnable myRun = new Runnable(){ 
```

公共无效运行（）{

```
 for(int j =0 ;j<=words.length;j++){

       synchronized(this){
           try {

                wait(sleepTime);

                bt.setOnClickListener(new View.OnClickListener() {
                    public void onClick(View arg0) {

                                try {
                                    wait();
                                } catch (InterruptedException e) {
                                    e.printStackTrace();
                                }
                    }});
                bt2.setOnClickListener(new View.OnClickListener() {
                    public void onClick(View arg0) {
                        notify();

                    }
                });
                } catch (InterruptedException e) {
                e.printStackTrace();

            } }
       runOnUiThread(new Runnable(){
           public void run(){
               try {
                    et.setText(words[i]);
                    i++;
                } catch (Exception e) {
                    e.printStackTrace();
                }
           }});
      }}}; 
```

做一些事情说 words.lenght=1000 次
然后假设用户想要在
点击暂停按钮 id = bt 之间休息这个按钮暂停线程直到用户点击 id = bt1 的恢复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:18:44.263

下面是一个提示，我想你可以用它来解决你的问题。它是从我最后粘贴的链接中复制的。

另一个进程在正在等待的监视器上调用 notify 可以“唤醒”等待，而 sleep 则不能。此外，在监视器对象上同步的块中必须发生等待（和通知），而睡眠则不会：

```
Object mon = ...;
synchronized (mon) {
    mon.wait();
} 
```

此时当前正在执行的线程等待并释放监视器。另一个线程可能会做

同步 (mon) { mon.notify(); }（在同一个 mon 对象上）和第一个线程（假设它是唯一在监视器上等待的线程）将被唤醒。

检查[wait() 和 sleep() 之间的区别](https://stackoverflow.com/questions/1036754/difference-between-wait-and-sleep)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:18:48.760

你这样做：

[如何无限期地暂停Java中的线程并稍后恢复它？](https://stackoverflow.com/questions/2622804/how-to-indefinitely-pause-a-thread-in-java-and-later-resume-it)

只有您`suspend()`从按钮中调用 the 和其他`OnClickListener`方法

# html-table - 如何在 Struts 2 中提交多个 Line Item？

> ID：15265142
> 
> 赞同：2
> 
> 时间：2013-03-07T07:09:23.717
> 
> 标签：html-table, struts2, submit

我确实有一个采购申请表，它动态地为`ItemName`、`quantity`、`specification`、`unit`of创建行`measurement`。

我确实有一个名为“添加项目”的按钮，它可以动态创建新行。

当我提交此表单时，如何将其放入 Struts2 中的 Action 类中。

**JSP：**

```
 <table id="itemDetails" width="100%">
    <tr  width="100%" cellpadding="0" cellspacing="0" border="1" >
    <th ><center>+</center></th>
    <th >Item</th>
    <th >Specification</th>
    <th >Quantity</th>
    <th >Unit Of Measurement</th>
    <th >Operations</th>
    </tr>

    <s:iterator value="id" status="ctr" >
     <tr>
      <td  width="5%"><input type="checkbox"  name="rdel"  ><br><br></td>
      <td  width="30%" ><input  type="text" name="id[%{#ctr.index}].itemname" /></td>
      <td  width="30%"><input type="text" name="id[%{#ctr.index}].specification"  ></td>                      
      <td  width="20%"><input type="text" name="id[%{#ctr.index}].quantity" ></td>
      <td  width="5%"><input type="text"  name="id[%{#ctr.index}].uom" ></td>
      <td  width="10%"><a href="#" >Delete</a></td>
     </tr>
    </s:iterator>
    </table> 
```

用于动态行创建的 Javascript：

```
<SCRIPT language="javascript">
function addRow(itemDetails) {

    var table = document.getElementById(itemDetails);

    var rowCount = table.rows.length;

    var row = table.insertRow(rowCount);
    var counts=rowCount-1;

    var cell1 = row.insertCell(0);
    var check = document.createElement("input");
    check.type = "checkbox";
    check.name="rdel";
    cell1.appendChild(check);

    var cell2 = row.insertCell(1);
    var item = document.createElement("input");
    item.type = "text";
    item.name="id.item";
    cell2.appendChild(item);

    var cell3 = row.insertCell(2);
    var specification = document.createElement("input");
    specification.type = "text";
    specification.name="id.specification";
    cell3.appendChild(specification);

    var cell4 = row.insertCell(3);
    var quantity = document.createElement("input");
    quantity.type = "text";
    quantity.name="id.quantity";
    cell4.appendChild(quantity);

    var cell5 = row.insertCell(4);
    var uom = document.createElement("input");
    uom.type = "text";
    uom.name="id.uom";
    cell5.appendChild(uom);

    var cell6 = row.insertCell(5);
    var operations = document.createElement("a");
    operations.setAttribute("href","#");
    operations.innerText="Delete";
    cell6.appendChild(operations);

}

</SCRIPT> 
```

动作类方法：

```
 private List<ItemDetails> id;
 public List<ItemDetails> getId(){

    return this.id;
 }

 public void setId(List<ItemDetails> id) {
    this.id = id;
 }

 public String savePurchaseRequest(){
  try{

      setId(getId());   

   for(ItemDetails itemdetails:id ) {
       System.out.println( itemdetails.getItemname() + ":" + itemdetails.getSpecification() +":"+ itemdetails.getQuantity()+ ":"+ itemdetails.getUom() );
    }

    }catch(Exception e){
      System.out.println("Exception:"+e);
    }

  return SUCCESS;
 } 
```

和`ItemDetails`类：

```
public class ItemDetails implements java.io.Serializable {

private String itemname;

private String specification;

private String quantity;

private String uom;

public ItemDetails() {

}

public ItemDetails(String itemname, String specification, String quantity, String uom) {

this.itemname = itemname;

this.specification = specification;

this.quantity = quantity;

this.uom = uom;

}

}

public String getItemname() {

return this.itemname;

}

public void setItemname(String itemname) {

this.itemname = itemname;

}

public String getSpecification() {

return this.specification;

}

public void setSpecification(String specification) {

this.specification = specification;

}

public String getQuantity() {

return this.quantity;

}

public void setQuantity(String quantity) {

this.quantity = quantity;

}

public String getUom() {

return this.uom;

}

public void setUom(String uom) {

this.uom = uom;

}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:40:17.083

你快到了。

只需更改您分配`name`属性的 Javascript 部分，包括与您在迭代中所做的完全相同的索引：

```
item.name="id.item";
specification.name="id.specification";
// ecc... 
```

必须成为

```
item.name="id["+counts+"].itemname";
specification.name="id["+counts+"].specification"; 
```

你会很好的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:59:22.267

1.  看起来您从另一个页面设置模型项。尝试将它们设置为 id 之外的另一个变量，例如 idOutput 左右，我之前在尝试通过 getter 访问字段时遇到了问题，但我不知道为什么会这样。

2.  模型对象 (ItemDetails) 需要公共 getter (like `getItemname()`)，因此 JSP 可以读取它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:41:51.203

您需要在 JavaScript 中输入正确的名称，以便 OGNL 能够正确处理它们并在您提交表单时应用值。

要提交新添加的行，您只需在已提交的行上使用这些名称。

# svn - 先前操作未完成的问题

> ID：15265144
> 
> 赞同：3
> 
> 时间：2013-03-07T07:09:27.953
> 
> 标签：svn, ubuntu, opencv

我对 linux 还很陌生，我正在尝试安装 openCV 软件。当我失去电源并且它被中断时，我正在安装一些东西。当我去重新安装它时，我一直收到这个错误：

```
svn: E155037: Previous operation has not finished; run 'cleanup' if it was interrupted 
```

所以我运行了这个并试图重新开始下载，但我得到了同样的错误。

```
/opencv$ svn cleanup
/opencv$ svn co https://opencvlibrary.svn.sourceforge.net/svnroot/opencvlibrary/trunk opencv
svn: E155037: Previous operation has not finished; run 'cleanup' if it was interrupted 
```

我确信这是一个简单的解决方法，但我似乎无法在任何地方找到答案。有谁知道如何解决这一问题。请尽量简单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-10T22:39:25.073

当我以 root 身份检出一些文件（使用 sudo）然后尝试`svn update`在拥有该域的用户下再次运行时，这发生在我身上。

因为某些文件拥有 root:root 的所有权和组，所以我无法使用我登录时使用的用户和组进行更新（在这种情况下，它是 wcl:psacln，psacln 是 Plesk 用户的默认组）。

为了解决这个问题，在以 root 身份登录时，我只是删除了导致问题的文件，运行`svn cleanup`，然后运行`svn up`以取回文件。像魅力一样工作！

# sql - SQL - 内部连接 2 个表，但如果 1 个表为空，则返回所有表

> ID：15265146
> 
> 赞同：13
> 
> 时间：2013-03-07T07:09:47.547
> 
> 标签：sql, join, left-join, inner-join

我有 2 个表说 A 和 B，我想加入它们。

表 A 中将始终包含记录。

当表 B 中有行时，我希望查询转换表 A 和表 B 匹配的所有行。（即表现得像内连接）

但是，如果表 B 为空，我想返回表 A 中的所有内容。

这可以在 1 个查询中完成吗？

谢谢。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-07T07:10:23.370

是的，对于这样的结果，使用`LEFT JOIN`.

基本上`INNER JOIN`它只返回在另一张表上至少有一个匹配的行。`LEFT JOIN`另一方面，返回*左侧*表上的所有记录，无论它在另一张表上是否不匹配。

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-05-11T14:46:20.037

我遇到了同样的问题，并且由于从未得到解答，因此我在其他地方发布了针对此问题的解决方案，以防将来对某人有所帮助。查看[源代码](http://forums.asp.net/t/1887910.aspx?Inner%20join%202%20tables%20but%20return%20all%20if%201%20table%20empty)。

```
select *
from TableA as a
left join TableB as b
    on b.A_Id = a.A_Id
where
    b.A_Id is not null or
    not exists (select top 1 A_Id from TableB) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-09-18T02:42:45.933

这是另一个，但如果表 B 为空，则需要在表 B 中添加一个“空”行

```
-- In case B is empty
Insert into TableB (col1,col2) values (null,null)

select * 
from TableA as a inner join TableB as b
on 
    b.A_Id = a.A_Id
    or b.A_Id is null 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-07-19T19:44:23.190

我会使用 if-else 块来解决它，如下所示：

```
if (select count(*) from tableB) > 0
begin
   Select * from TableA a Inner Join TableB b on a.ID = b.A_ID
end
else
begin
   Select * from TableA
end 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-12-22T10:25:16.103

这是解决方案：

```
CREATE TABLE MyData(Id INT, Something VARCHAR(10), OwnerId INT);
CREATE TABLE OwnerFilter(OwnerId INT);

SELECT * 
FROM 
(SELECT NULL AS Gr) AS Dummy
LEFT JOIN OwnerFilter F ON (1 = 1)
JOIN MyData D ON (F.OwnerId IS NULL OR D.OwnerId = F.OwnerId); 
```

链接到 sqlfiddle：[http ://sqlfiddle.com/#!6/0f9d9/7](http://sqlfiddle.com/#!6/0f9d9/7)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-09-01T13:11:47.350

尝试这个

```
SELECT t1.* FROM table1 AS t1 INNER JOIN table2 AS t2 ON t1.something = t2.someotherthing UNION SELECT * FROM table1 WHERE something = somethingelse; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-04-20T17:11:24.010

我做了以下事情：

```
DECLARE @TableB TABLE (id INT)
-- INSERT INTO @TableB
-- VALUES (some ids to filter by)

SELECT TOP 10 *
FROM [TableA]          A
     LEFT JOIN @TableB B
               ON A.ID = B.id
WHERE B.id IS NOT NULL
   OR iif(exists(SELECT *
                 FROM TableB), 1, 0) = 0 
```

现在：如果 TableB 为空（保留注释行），您将获得前 10 名。如果 TableB 中有一些 id，您将只加入这些。

我不知道这有多有效。欢迎评论。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-11-23T11:27:48.920

也许使用 CTE

```
;WITH ctetable(
 Select * from TableA
)

IF(EXISTS(SELECT 1 FROM TableB))
BEGIN
 Select * from ctetable 
  Inner join TableB
END
ELSE 
BEGIN
 Select * from ctetable 
END 
```

或动态 SQL

```
DECLARE @Query NVARCHAR(max);
SET @QUERY = 'Select * FROM TableA';
IF(EXISTS(SELECT 1 FROM TableB))
BEGIN
 SET @QUERY = CONCAT(@QUERY,' INNER JOIN TableB');
END
EXEC sp_executesql @Query 
```

# shell - 如何从任意目录调用 shell 脚本？

> ID：15265152
> 
> 赞同：0
> 
> 时间：2013-03-07T07:10:13.427
> 
> 标签：shell, terminal

我正在设置一个 shell 脚本以使用 cron 运行，但我在获取文件时遇到了问题。使用 cron 时，我可以运行 1 件事，它是以下行：

```
php /home/testfile.php >> /home/logFile.txt 
```

但是在引用文件时会出现问题...因为当前工作目录实际上不在 /home/ 中

我试图将一个小的 shell 脚本放在一起做我想做的事，但它位于 /home/

```
export UPD_SCRIPT=/home/
pushd .
cd $UPD_SCRIPT
php testfile.php >> logfile.txt
popd 
```

但现在我需要用 cron 来解决它，我不知道如何引用它。我试过：

```
. .//home/myscript.sh 
```

和类似的事情，但它没有奏效。

这是如何运作的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:17:24.147

在 crontab 中，只需使用：

```
(cd /home && php /home/testfile.php >> /home/logFile.txt) 
```

至于用 cron 引用自己的脚本，只需使用它的路径，如下所示：

```
* * * * * /home/myscript.sh 
```

请记住首先设置可执行位

```
chmod +x /home/myscript.sh 
```

# asp.net - System.Data.DataRowView 不返回数据

> ID：15265157
> 
> 赞同：0
> 
> 时间：2013-03-07T07:10:27.077
> 
> 标签：asp.net

我有个问题。这是我的 html 代码。

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
            <ContentTemplate>
                <asp:UpdatePanel ID="UpdatePanel2" runat="server">
                    <ContentTemplate>
                        <asp:ScriptManager ID="ScriptManager1" runat="server">
                        </asp:ScriptManager>
                        <asp:ListView ID="ListView1" runat="server">
                        <LayoutTemplate>
                            <table border="0" cellpadding="1">
                                <tr style="background-color:#E5E5FE">
                                    <th align="left"><asp:LinkButton ID="lnkId" runat="server" CommandName="Sort" CommandArgument="ID">Id</asp:LinkButton></th>
                                    <th align="left"><asp:LinkButton ID="lnkName" runat="server" CommandName="Sort" CommandArgument="TelcoName">TelcoName</asp:LinkButton></th>
                                    <th align="left"><asp:LinkButton ID="lnkReloadValue" runat="server" CommandName="Sort" CommandArgument="Reload Value">Reload Value(RM)</asp:LinkButton></th>
                                    <th align="left"><asp:LinkButton ID="lnkQuantity" runat="server" CommandName="Sort" CommandArgument="Quantity">Quantity</asp:LinkButton></th>                                    
                                    <th></th>
                                </tr>
                               <tr id="itemPlaceholder" runat="server"></tr>
                            </table>
                        </LayoutTemplate>
                        <ItemTemplate>
                        <tr>
                        <td><asp:Label runat="server" ID="lblId"><%#Eval("ID") %></asp:Label></td>
                        <td><asp:Label runat="server" ID="lblTelcoName"><%#Eval("TelcoName") %></asp:Label></td>
                        <td><asp:Label runat="server" ID="lblReloadValue"><%#Eval("Reload Value (RM)")%></asp:Label></td>
                        <td><asp:Label runat="server" ID="lblQuantity"><%#Eval("Quantity")%></asp:Label></td>
                        </tr>
                        </ItemTemplate>
                        </asp:ListView>
                    </ContentTemplate>
                </asp:UpdatePanel>
            </ContentTemplate>
        </asp:UpdatePanel> 
```

这就是代码的背后

```
Dim dt As New DataTable
        Dim i = 0
        Dim ID As New DataColumn("ID")
        dt.Columns.Add(ID)
        Dim TelcoName As New DataColumn("TelcoName")
        dt.Columns.Add(TelcoName)
        Dim ReloadValue As New DataColumn("Reload Value (RM)")
        dt.Columns.Add(ReloadValue)
        Dim Quantity As New DataColumn("Quantity")
        dt.Columns.Add(Quantity)
        ListView1.DataSource = dt
        ListView1.DataBind()

        ID.AutoIncrement = True
        ID.AutoIncrementSeed = 1
        ID.ReadOnly = True

        Dim data() As String

        data = Session("Transaction")

        If data(0) <> "" Then
            Dim Maxis() As String
            Maxis = data(0).Split(";")
            Dim dr1 As DataRow = dt.NewRow()
            dr1("TelcoName") = Maxis(0)
            dr1("Reload Value (RM)") = Maxis(1)
            dr1("Quantity") = Maxis(2)
            dt.Rows.Add(dr1)
            ListView1.DataSource = dt
            ListView1.DataBind()
        End If

        If data(1) <> "" Then
            Dim XPax() As String
            XPax = data(1).Split(";")
            Dim dr2 As DataRow = dt.NewRow()
            dr2(1) = XPax(0)
            dr2(2) = XPax(1)
            dr2(3) = XPax(2)
            dt.Rows.Add(dr2)
            ListView1.DataSource = dt
            ListView1.DataBind()
        End If 
```

不知何故，我收到一个错误“数据绑定：”System.Data.DataRowView“不包含名为“重新加载值”的属性。当我调试时，该列应该已填满，但我不知道这里有什么问题。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:22:20.050

不要在列名中使用任何空格和 ()

尝试更改此行

```
 Dim ReloadValue As New DataColumn("ReloadValueRM")

        dr1("ReloadValueRM")

    <%#Eval("ReloadValueRM")%> 
```

**编辑**：

并更改为

```
CommandArgument="**ReloadValueRM**"> 
```

# javascript - .getAttribute("value") & just .value 之间的区别

> ID：15265163
> 
> 赞同：1
> 
> 时间：2013-03-07T07:10:46.327
> 
> 标签：javascript

我见过两种用法

```
var name = document.getElementById("username").value; 
```

或者

```
var name = document.getElementById("username").getAttribute("value"); 
```

同样对于 setAttribute 也是如此。我有一个表单，其中 setAttribute 适用于其中一个字段（它是一个隐藏字段）并且不适用于另一个字段（未隐藏）并且我必须使用

```
document.getElementById("username").value = "something" 
```

设置字段

不起作用，我的意思是当我使用 setAttribute 时该字段没有设置。它保留了它的原始价值。

那么这两种方式有什么不同呢？是否有关于何时应该使用一种方式以及何时使用另一种方式的规则？

# jquery-ui-accordion - 在我的页面上使用 jquery 手风琴标签会影响 SEO？

> ID：15265167
> 
> 赞同：0
> 
> 时间：2013-03-07T07:10:55.047
> 
> 标签：jquery-ui-accordion, seo

我已经将页面的所有内容放在 jquery 手风琴选项卡中，我的意思是“ABC 信息”、“ABC 程序”和“ABC 视频”，所以默认情况下，当页面打开时只有一个选项卡会打开，另外两个选项卡会打开标签将关闭。

所以我的问题是，可以使用手风琴 jQuery 吗？Google 会抓取我在手风琴标签中的所有内容吗？它会影响我的页面搜索引擎优化吗？

这是该页面之一的链接：[http ://www.importletterofcredit.com/bank-guarantee/](http://www.importletterofcredit.com/bank-guarantee/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:19:44.403

只要它不是 AJAX 选项卡，就可以，因为它都是 HTML。Google 不会检查显示哪个块，哪个不显示。

# c# - 我可以在 web 和 c# 中使用 OpenGL 吗？

> ID：15265174
> 
> 赞同：-2
> 
> 时间：2013-03-07T07:11:55.117
> 
> 标签：c#, opengl, webgl

我已经用 c# 和 windowform 学习了一段时间的 OpenGL，

我想制作一个 web ，但我不能将 csgl.dll 与 Web 一起使用。

我用 c# 找到了 webgl，它并不支持所有的浏览器。

有什么东西可以做到这一点吗？

还是webGL可以用c#写？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:13:40.957

Web 应用程序中没有这样的东西。你可以看看[`HTML5 and canvas`](http://www.html5canvastutorials.com/)。实现当然取决于浏览器和操作系统。

# ruby-on-rails-3 - 地理编码 API 的响应不是有效的 JSON

> ID：15265181
> 
> 赞同：0
> 
> 时间：2013-03-07T07:12:48.300
> 
> 标签：ruby-on-rails-3, google-geocoder

我正在使用[Geocoder](https://github.com/alexreisner/geocoder) gem，它工作正常。现在我尝试升级 google_premier 低于错误

```
1.9.2p320 :001 > Geocoder.search("Hyderabad")
Geocoding API's response was not valid JSON.
 => [] 
```

我在 config/initializers/geocoder.rb 中添加了新文件，这是我的配置设置

```
Geocoder::Configuration.lookup = :google_premier
Geocoder::Configuration.api_key = "xxx-key" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-24T23:18:52.437

您只需在 Geocoder 配置中注释 api_key 行，以避免地理编码器发送它。Google 地理编码器 DOS 不需要 API 密钥...

Geocoder.rb 示例：

```
# -*- encoding : utf-8 -*-
Geocoder.configure(
    :timeout  => 5,
    :lookup   => :google,
    #:ip_lookup => :google,
    #:api_key  => "xxxx-xxx",
    :units    => :km
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-06T04:26:33.637

我也面临同样的问题。我的解决方案可能很愚蠢，但它对我有用。我的解决方案是重新安装 gem。希望这可以帮助你。

# vb.net - 更快地将数据导出到 Excel

> ID：15265182
> 
> 赞同：0
> 
> 时间：2013-03-07T07:13:03.547
> 
> 标签：vb.net, performance, excel, export-to-excel, read-write

我想将数据导出到 excel。我还想执行单元格合并、单元格边框、文本下划线等功能。但是如果因为大数据的这些对齐合并等，导出会变得更慢。这是一个excel样本，我[点击这里](http://incometaxsoft.com/pdf/supertraders.xlsx)

我看到一些文章涉及使用逐个单元格导出的 excel 导出、使用数组到一系列单元格等。

早些时候，我在使用大约 25-35 页的 word 对象将数据导出到 word 文件时遇到了问题。这需要 1 到 2 分钟。对于这个问题，我使用 rtf 文件格式而不使用我能够使用的 word 对象在几秒钟内导出。我使用文件 I/O 写入数据。那么我可以使用类似的任何 excel 文件格式感知方法，这些方法可以通过单元格合并、对齐、边框等功能更快地导出到 excel 吗？

# asp.net - 如何在 LINQ 和 ADO.NET 中编写 Like Query 以从数据库中搜索用户名

> ID：15265183
> 
> 赞同：0
> 
> 时间：2013-03-07T07:13:10.267
> 
> 标签：asp.net, sql, asp.net-mvc, linq, ado.net

亲爱的，当用户使用 ADO.net 中的 LINQ 将值输入到搜索文本框中时，我想从数据库表中搜索用户

我有一个搜索文本框..当用户输入任何字母而不是从表中搜索用户名时，谁的名字包含这个字母！

我有这个代码： -

```
[HttpPost]
    public ActionResult Userlist(string UserName)
    {
        var U_master = db.User_Masters.ToList();

        if (!string.IsNullOrEmpty(UserName))
            U_master = U_master.Where(a => a.Username.Contains(UserName)).ToList();   

        return PartialView("Userlist", U_master);
    } 
```

通过使用此代码，我可以仅搜索用户名文本框值将与数据库表的用户名匹配，但我想显示数据库中的所有用户名记录，当用户仅输入用户名的单个字母时......并显示所有用户名包含的用户名这封信 。请给出写 LIKE Query 的格式或给出任何例子..！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:17:13.490

你可以使用 SqlMethods.Like(matchExpression,pattern)

```
var results = from c in db.costumers
              where SqlMethods.Like(c.FullName, "%"+FirstName+"%,"+LastName)
              select c; 
```

在 LINQ to SQL 之外使用此方法将始终引发 NotSupportedException 异常。

**来源：** [取自](https://stackoverflow.com/a/3913727/1073828)
*也看看这个**[帖子](https://stackoverflow.com/questions/835790/how-to-do-sql-like-in-linq)***

# android - 在日期选择器“五月”中的月份字段中没有在 Android 中完全查看？

> ID：15265185
> 
> 赞同：2
> 
> 时间：2013-03-07T07:13:20.153
> 
> 标签：android

我正在使用自定义 DatePicker，但在 Month 字段中遇到问题。当我在 DatePicker 中选择 May 月份时，它看起来不太好。并且仅在 320 X 480 Xpheria 设备中显示。

我得到了如图所示的视图 ![你可以看到五月](../Images/fe4d6110a2aaf4d61817ae44a3a62326.png)

其余所有值均正确显示。

我正在使用下面的 xml 代码。

```
<DatePicker
        android:id="@+id/dpResult"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/tvDate"
        android:layout_marginTop="5dp" />

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.custom_date_popup);

        setCurrentDateOnView();
        //addListenerOnButton();
        _setButton = (Button)findViewById(R.id.set_button);
        _setButton.setOnClickListener(this);
        _cancelButton = (Button)findViewById(R.id.cancel_button);
        _cancelButton.setOnClickListener(this);

        final Calendar c = Calendar.getInstance();
        year = c.get(Calendar.YEAR);
        month = c.get(Calendar.MONTH);
        day = c.get(Calendar.DAY_OF_MONTH);

        //showDialog(DATE_DIALOG_ID);
        _datePicker = (DatePicker)findViewById(R.id.dpResult);
        System.out.print(_datePicker.getDayOfMonth());
        try{
            java.lang.reflect.Field[] f = _datePicker.getClass().getDeclaredFields();
            for (java.lang.reflect.Field field : f) {
                if (field.getName().equals("mDaySpinner") ||field.getName().equals("mDayPicker")) {
                    field.setAccessible(true);
                    Object yearPicker = new Object();
                    yearPicker = field.get(_datePicker);
                    ((View) yearPicker).setVisibility(View.GONE);
                }
            }

        }catch(Exception e){
            e.printStackTrace();
        }

    }

    // display current date
    public void setCurrentDateOnView() {

        tvDisplayDate = (TextView) findViewById(R.id.tvDate);
        dpResult = (DatePicker) findViewById(R.id.dpResult);

        final Calendar c = Calendar.getInstance();
        year = c.get(Calendar.YEAR);
        currentYear = year;
        month = c.get(Calendar.MONTH);
        currentMonth = month;
        day = c.get(Calendar.DAY_OF_MONTH);

        // set current date into textview
        // Month is 0 based, just add 1
        /*  tvDisplayDate.setText(new StringBuilder()
        .append(month + 1).append("-").append(day).append("-")
        .append(year).append(" "));*/

        // set current date into datepicker
        if(Constant.SELECTED_YEAR!=0 && Constant.SELECTED_MONTH_INTEGER!=0)
            dpResult.init(Constant.SELECTED_YEAR, Constant.SELECTED_MONTH_INTEGER, day, null);
        else
            dpResult.init(year, month, day, null);

    }

    @Override
    protected Dialog onCreateDialog(int id) {
        switch (id) {
        case DATE_DIALOG_ID:
            try{
                java.lang.reflect.Field[] f = datePickerListener.getClass().getFields();
                for (java.lang.reflect.Field field : f) {
                    if (field.getName().equals("mDayPicker")) {
                        field.setAccessible(true);
                        Object yearPicker = new Object();
                        yearPicker = field.get(datePickerListener);
                        ((View) yearPicker).setVisibility(View.GONE);
                    }
                }

            }catch(Exception e){
                e.printStackTrace();
            }
            // set date picker as current date
            return new DatePickerDialog(this, datePickerListener, year, month, day);
        }
        return null;
    }

    private DatePickerDialog.OnDateSetListener datePickerListener = new DatePickerDialog.OnDateSetListener() {

        // when dialog box is closed, below method will be called.
        public void onDateSet(DatePicker view, int selectedYear, int selectedMonth, int selectedDay) {
            year = selectedYear;
            month = selectedMonth;
            day = selectedDay;

            // set selected date into textview
            tvDisplayDate.setText(new StringBuilder().append(month + 1).append("-").append(day).append("-").append(year).append(" "));

            // set current date into datepicker
            if(Constant.SELECTED_YEAR!=0 && Constant.SELECTED_MONTH_INTEGER!=0)
                dpResult.init(Constant.SELECTED_YEAR, Constant.SELECTED_MONTH_INTEGER, day, null);
            else
                dpResult.init(year, month, day, null);
        }
    };

    @Override
    public void onClick(View v) {
        if(v==_setButton){
            //CALL THIS STATEMENT TO INITIALIZE THE VALUE
            _datePicker.getMonth();

            int month = _datePicker.getMonth();
            //Constant.SELECTED_MONTH_INTEGER=month;
            String monthString = monthValue(month);
            //Constant.SELECTED_MONTH= monthString;
            int yearString = _datePicker.getYear();
            /*Intent intent = new Intent();
            intent.putExtra("SELECTED_MONTH_INTEGER", month);
            intent.putExtra("SELECTED_MONTH", monthString);
            intent.putExtra("SELECTED_YEAR", yearString);
            setResult(RESULT_CODE, intent);
            MyAndroidAppActivity.this.finish();*/
            //Constant.SELECTED_YEAR = yearString;
            if(month==currentMonth && yearString==currentYear){
                Intent intent = new Intent();
                intent.putExtra("SELECTED_MONTH_INTEGER", month);
                intent.putExtra("SELECTED_MONTH", monthString);
                intent.putExtra("SELECTED_YEAR", yearString);
                setResult(RESULT_CODE, intent);
                MyAndroidAppActivity.this.finish();
            }else if(month>currentMonth){
                if(yearString<currentYear){
                    Constant.showToast(MyAndroidAppActivity.this, "Invalid selection.");
                }else if(yearString>=currentYear){
                    Intent intent = new Intent();
                    intent.putExtra("SELECTED_MONTH_INTEGER", month);
                    intent.putExtra("SELECTED_MONTH", monthString);
                    intent.putExtra("SELECTED_YEAR", yearString);
                    setResult(RESULT_CODE, intent);
                    MyAndroidAppActivity.this.finish();
                }
            }else if(month<currentMonth){
                if(yearString<currentYear){
                    Constant.showToast(MyAndroidAppActivity.this, "Invalid selection.");
                }else if(yearString>currentYear){
                    Intent intent = new Intent();
                    intent.putExtra("SELECTED_MONTH_INTEGER", month);
                    intent.putExtra("SELECTED_MONTH", monthString);
                    intent.putExtra("SELECTED_YEAR", yearString);
                    setResult(RESULT_CODE, intent);
                    MyAndroidAppActivity.this.finish();
                }else{
                    Constant.showToast(MyAndroidAppActivity.this, "Invalid selection.");
                }
            }else if(month==currentMonth){
                if(yearString<currentYear){
                    Constant.showToast(MyAndroidAppActivity.this, "Invalid selection.");
                }else if(yearString>currentYear){
                    Intent intent = new Intent();
                    intent.putExtra("SELECTED_MONTH_INTEGER", month);
                    intent.putExtra("SELECTED_MONTH", monthString);
                    intent.putExtra("SELECTED_YEAR", yearString);
                    setResult(RESULT_CODE, intent);
                    MyAndroidAppActivity.this.finish();
                }else{
                    Constant.showToast(MyAndroidAppActivity.this, "Invalid selection.");
                }
            }else{
                Constant.showToast(MyAndroidAppActivity.this, "Invalid selection.");
            }
        }else if(v==_cancelButton){
            MyAndroidAppActivity.this.finish();
        }

    }

    /**
     * monthValue
     * @param intMonth
     * @return
     */
    private String monthValue(int intMonth) {
        String month=null;

        switch (intMonth) {
        case 0:
            month = "Jan";
            break;
        case 1:
            month = "Feb";
            break;
        case 2:
            month = "Mar";
            break;
        case 3:
            month = "Apr";
            break;
        case 4:
            month = "May";
            break;
        case 5:
            month = "Jun";
            break;
        case 6:
            month = "Jul";
            break;
        case 7:
            month = "Aug";
            break;
        case 8:
            month = "Sep";
            break;
        case 9:
            month = "Oct";
            break;
        case 10:
            month = "Nov";
            break;
        case 11:
            month = "Dec";
            break;
        default:
            break;
        }

        return month;
    }

} 
```

# c - dll中的导出函数

> ID：15265187
> 
> 赞同：1
> 
> 时间：2013-03-07T07:13:21.347
> 
> 标签：c, dll

我制作了一个 dll 并使用 `_declspec(dllexport)`函数定义的最左侧导出了其中的函数。像 ：

```
_declspec(dllexport) void func1(char*p); 
```

这是将函数导出到某处的正确方法吗？

我读过`_stdcall`类似的内容：

```
_declspec(dllexport) void _stdcall func1(char*p); 
```

或者

```
_declspec(dllexport) void _cdecl func1(char*p); 
```

请解释这三个之间的区别，因为我很困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:18:00.717

你的第一个签名是正确的。第二个和第三个也是如此。但是，`_stdcall`并且`_cdecl`是调用约定，它指定调用堆栈中参数的顺序以及进行调用时的其他一些事情。例如，'_thiscall' 是另一个调用约定，这意味着`this`在函数调用期间指针将通过寄存器（ECX）传递。

因此，简而言之，这三个都可以工作，但所有三个都指定了如何进行调用的一些内部细节。

您可能需要阅读[本文](http://msdn.microsoft.com/en-us/library/k2b2ssfy%28v=vs.80%29.aspx)以了解有关调用约定的更多信息：

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:21:44.963

您的所有声明都是正确的。重要的是您为使用您的 DLL 的调用模块提供适当的头文件。例如其中之一

```
_declspec(dllimport) void func1(char*p);
_declspec(dllimport) void _stdcall func1(char*p); 
```

或者

```
_declspec(dllimport) void _cdecl func1(char*p); 
```

# regex - 正则表达式：Kleene 星是否具有可分配性？

> ID：15265193
> 
> 赞同：3
> 
> 时间：2013-03-07T07:13:48.097
> 
> 标签：regex, kleene-star

`(aa)*`和之间会有区别`(a*a*)`吗？

有分配属性吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T07:15:39.333

Kleene 星不分布。`(ab)*`与 有很大不同`(a*b*)`。

在您的具体示例中，`(aa)*`将匹配两个`a`s 的组（因此，它仅匹配偶数个`a`s），而`(a*a*)`等效于`(a*)`并匹配任何`a`s 序列。（在这种情况下，`L((aa)*)`是 的真子集`L((a*a*))`，但对于一般的正则表达式不一定如此）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:16:12.063

该`(aa)*`组与整体不匹配，`aaa`所以是的，有区别，它只返回一组 2 `a`。

但`(a*a*)`只是一样`(a*)`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:15:09.857

是，有一点不同。(aa)* 将是 aa 的组，而 (a*a*) 将是 a's。

基本上，第一个短语只会是 a 的偶数，而在这种情况下，第二个不会。

# rust - 如何在 Rust 中编写多行字符串？

> ID：15265198
> 
> 赞同：62
> 
> 时间：2013-03-07T07:14:09.447
> 
> 标签：rust

是否可以编写类似的内容：

```
fn main() {
    let my_string: &str = "Testing for new lines \
                           might work like this?";
} 
```

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-03-07T08:54:45.063

如果我正确阅读了[语言参考](https://doc.rust-lang.org/reference/tokens.html#string-literals)，那么看起来应该可以。语言参考声明`\n`支持等（作为常见的转义，用于在字符串中插入换行符），以及“其他转义”，包括 LF、CR 和 HT。

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2015-08-29T20:01:57.470

另一种方法是使用[原始字符串文字](https://doc.rust-lang.org/reference/tokens.html#raw-string-literals)：

> 原始字符串文字不处理任何转义。它们以字符`U+0072`( `r`) 开头，后跟零个或多个字符`U+0023` ( `#`) 和一个`U+0022`（双引号）字符。原始字符串主体可以包含任何 Unicode 字符序列，并且仅以另一个`U+0022`（双引号）字符结尾，后跟与开始 （双引号）字符`U+0023`之前相同数量的 (#)字符。`U+0022`
> 
> 包含在原始字符串正文中的所有 Unicode 字符都代表它们自己，字符`U+0022`（双引号）（除非后跟至少与用于启动原始字符串文字一样多的`U+0023`( ) 字符）或( ) 没有任何特殊含义.`#``U+005C``\`
> 
> 字符串文字的示例：
> 
> ```
> "foo"; r"foo";                     // foo
> "\"foo\""; r#""foo""#;             // "foo"
> 
> "foo #\"# bar";
> r##"foo #"# bar"##;                // foo #"# bar
> 
> "\x52"; "R"; r"R";                 // R
> "\\x52"; r"\x52";                  // \x52 
> ```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2019-10-01T16:23:18.570

如果您想避免使用换行符和多余的空格，可以使用[`concat!`](https://doc.rust-lang.org/std/macro.concat.html)宏。它在编译时连接字符串文字。

```
let my_string = concat!(
    "Testing for new lines ",
    "might work like this?",
);

assert_eq!(my_string, "Testing for new lines might work like this?"); 
```

[带有反斜杠](https://stackoverflow.com/a/15266782/155423)的已接受答案也删除了多余的空格。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-04-27T08:58:10.547

**Rust 中的每一行都是多行。**

但是，如果您的文本中有缩进，例如：

```
fn my_func() {
    const MY_CONST: &str = "\
    Hi!
    This is a multiline text!
    ";
} 
```

你会得到不必要的空间。要删除它们，您可以使用crate 中的`indoc!`宏`indoc`来删除所有缩进：[https ://github.com/dtolnay/indoc](https://github.com/dtolnay/indoc)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-10-29T22:00:55.230

在 Rust 中有两种编写多行字符串的方法，*它们会产生不同的结果*。您应该根据您要完成的任务谨慎地在它们之间进行选择。

**方法一：悬空空白**

如果以 开头的字符串`"`包含文字换行符，Rust 编译器将“吞噬”该行的最后一个非空白字符和下一行的第一个非空白字符之间的所有空白，并将它们替换为单个`.`

 `例子：

```
fn test() {
    println!("{}", "hello  
    world");
} 
```

无论`之后出现多少文字（空格）字符（零或一百）`hello`，上面的输出将始终为`hello world`.`

 `**方法2：反斜杠换行**

这是完全相反的。在这种模式下，第一行文字前的所有空格`\`都被保留，*下一*行的所有后续空格也被保留。

例子：

```
fn test() {
    println!("{}", "hello  \
    world");
} 
```

在此示例中，输出为`hello world`。

此外，正如另一个答案中提到的，Rust 有“原始文字”字符串，但它们不像 Rust 那样进入这个讨论（不像其他一些需要为此使用原始字符串的语言）支持引用内容中的文字换行符而不限制，正如我们在上面看到的。``

# windows-phone-7 - 如何在wp8的列表框数据源中选中所有复选框？

> ID：15265212
> 
> 赞同：-2
> 
> 时间：2013-03-07T07:15:05.120
> 
> 标签：windows-phone-7, windows-phone-8

选择所有意味着重命名所有复选框被选中。我的代码如下：

```
<ListBox  Name="VillageList">
  <ListBox.ItemTemplate>
    <DataTemplate>
      <CheckBox IsChecked="{Binding isCheched}"  Content="{Binding Villages}"  IsChecked="False"/>
    </DataTemplate>
  </ListBox.ItemTemplate>
</ListBox> 
```

所以所有复选框都在列表框内。如何检查为所有复选框单选启用。

```
public class  villageinformation
{
    public string Villages{get;set;}
    public bool isChecked {get;set;}
}

page.cs{

list<villageinformation> mydataSource=new list<villageinformation>();
myDataSource.Add(new villageinformation(){Village="All",isChecked ="False"});
myDataSource.Add(new villageinformation(){Village="name1",isChecked ="False"});
myDataSource.Add(new villageinformation(){Village="name2",isChecked ="False"});
myDataSource.Add(new villageinformation(){Village="name3",isChecked ="False"});

VillageList.itemSource=myDataSource;
} 
```

因此，在手动单击“全部”复选框时，剩余的 name1、2、3 被选中了怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:04:24.173

If you are using the ObservableCollection for your villages list, which is used for the data binding to the ListBox, then you can set all values in the ObservalbeCollection in the codebehind which shoul update the UI (by checking all the Checkboxes)

you can do it something like this

```
foreach(var village in VillagesCollection)
{
  village.isChecked = true;
} 
```

If you are not able to understand the above, edit your question with how you are setting up the Village data in the code behind file (means .xaml.cs file)

# iphone - Youtube Video crash app iOS（收到内存警告）

> ID：15265217
> 
> 赞同：2
> 
> 时间：2013-03-07T07:15:19.753
> 
> 标签：iphone, ios, memory-leaks, youtube

我正在尝试在我的应用程序中播放 youtube 视频.. 它运行良好.. 但总数为 7，当我一个接一个播放所有视频时。并播放第五个`video`。它是`crash`我的带有内存警告的应用程序

```
2013-03-07 12:31:01.167 Magazine[3015:707] Received memory warning. 
```

为什么此错误出现在特定视频上。这是因为内存不足还是其他原因。我已在我的应用程序中嵌入了 youtube。请检查代码。`youtube`为什么特定视频会出现此内存问题。我认为当我在 iPad1 上播放视频时内存已满 ..如何从内存中释放它...

```
UIWebView *youtube_player=[[UIWebView alloc]initWithFrame:CGRectMake(20, Yposition +k*Height, 400, Height)];
        youtube_player.backgroundColor = [UIColor blackColor];
        youtube_player.opaque = NO;
        youtube_player.delegate=self;
        NSString *videoHTML = [NSString stringWithFormat:@"\
                               <html>\
                               <head>\
                               <style type=\"text/css\">\
                               iframe {position:absolute; top:50%%; margin-top:-130px;}\
                               body {background-color:#000; margin:0;}\
                               </style>\
                               </head>\
                               <body>\
                               <iframe width=\"100%%\" height=\"240px\" src=\"%@\" frameborder=\"0\" allowfullscreen></iframe>\
                               </body>\
                               </html>", [[videos objectAtIndex:k] _video_path]];
        youtube_player.scrollView.scrollEnabled=NO;
        UIScrollView *scrollView = [youtube_player.subviews objectAtIndex:0];
        scrollView.delegate = self;
        [youtube_player loadHTMLString:videoHTML baseURL:nil];
        youtube_player.layer.borderWidth=1.0f;

        [mMoviePlayersArray_por addObject:youtube_player]; 
```

# java - JSON Stringify 返回 null，但 document.write 正确打印

> ID：15265218
> 
> 赞同：0
> 
> 时间：2013-03-07T07:15:25.577
> 
> 标签：java, javascript, json, google-chrome, stringify

我正在尝试为 crawljax 编写一个运行一些 javascript 代码的插件，如下所示：

```
String result = browser.executeJavaScript(script).toString(); 
```

和脚本代码：

```
function getElementPosition(id) {
var element = document.getElementById(id);
return JSON.stringify(elementpos(findPosX(element), findPosY(element)));
}

function elementpos(x, y) {
elementpos = new Object();
elementpos.x = x;
elementpos.y = y;
return elementpos;
}

return getElementPosition("foo"); 
```

这成功返回，但结果始终为空，即使我使用 document.write 打印出相同的内容，我也会得到一个格式良好的 JSON 字符串

```
{"x":8, "y":24} 
```

我是不是误会了什么？JSON字符串和java会发生一些奇怪的事情吗？我在javascript方面没有很多经验，所以我不能像那样返回吗？

我正在谷歌浏览器上测试这个，v. 25

注意：我认为它与 Crawljax 本身没有任何关系，因为有一个单独的插件（由其他人编写），它也有一个返回 JSON 字符串的脚本，但这似乎工作得很好......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T23:24:29.097

JavaScript 对**new Object() 过敏；**做一个捷径，试试下面的一个，可能会解决；

```
 return JSON.stringify({x:findPosX(element), y:findPosY(element)}); 
```

**用new Object()**创建的对象；语法在 javascript 中带来了许多奇怪的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-28T07:13:26.593

我认为这里的问题不在于 new Object()，但如果我在这一点上错了，请评论者随时填写。试试这个：

```
function elementpos(x, y) {
    var elementpos = new Object();
    elementpos.x = x;
    elementpos.y = y;
    return elementpos;
} 
```

请注意，我已将“var”放在“elementpos = new Object();”前面。如果没有该变量定义，全局“elementpos”函数的第一行就是用“elementpos”对象替换自身。它第一次执行可能没问题，但第二次可能会失败并出现异常，因为它试图将 new Object() 结果视为要调用的函数。

我能够在 chrome 40 下执行上面的代码并将结果字符串化而没有任何问题。另请注意，调用局部变量“result”或函数名以外的其他内容将消除这里的一些潜在混淆。

# android - Android：ArrayList.removeAll 删除同名的不同对象

> ID：15265221
> 
> 赞同：0
> 
> 时间：2013-03-07T07:15:32.263
> 
> 标签：android, collections, arraylist

**场景：**我有两个包含应用程序详细信息的数组列表。一个 ArrayList 包含所有应用程序的集合，第二个 ArrayList 具有选定应用程序的集合。而且我必须从所有应用程序列表中删除选定的应用程序。为此，我使用了 ArrayList.removeAll 函数。

**问题：** ArrayList.removeAll 工作得非常好，但一个问题是，当两个应用程序的选定应用程序数组列表中有一个应用程序具有相同名称（但其他属性不同）时，例如。AngryBirds... 它从列表中删除这两个应用程序。

**我这样使用它：**

```
 mInstalledApplicationList = new ArrayList<App>();

        mInstalledApplicationList.addAll(ApplicationList.mInstalledAppList);
        Log.e(TAG, "Total Installed App Size : " + ApplicationList.mInstalledAppList.size());

        mInstalledApplicationList.removeAll(ApplicationList.mSelecteddAppList);
        Log.e(TAG, "Filtered Installed App Size : " + mInstalledApplicationList.size()); 
```

**我的`APP`收藏类是：**

```
import java.util.Comparator;
import java.util.List;

import android.content.ComponentName;
import android.content.Intent;
import android.graphics.drawable.Drawable;

public class App implements Comparable<App> {

    private String title;

    private String packageName;

    private String versionName;

    private int versionCode;

    private String app_class;

    private String installDate;

    private int installDateMilli;

    private List<String> appPermissions;

    private Drawable mIcon;

    public Intent intent;

    // ordinary getters and setters

    public Drawable getmIcon() {
        return mIcon;
    }

    public void setmIcon(Drawable mIcon) {
        this.mIcon = mIcon;
    }

    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public int getDateMilli() {
        return installDateMilli;
    }

    public void setDateMilli(int DateMilli) {
        this.installDateMilli = DateMilli;
    }

    public List<String> getAppPermissions() {
        return appPermissions;
    }

    public void setAppPermissions(String appPermission) {
        this.appPermissions.add(appPermission);
    }

    public String getInstallDate() {
        return installDate;
    }

    public void setInstallDate(String installDate) {
        this.installDate = installDate;
    }

    public String getPackageName() {
        return packageName;
    }

    public void setPackageName(String packageName) {
        this.packageName = packageName;
    }

    public String getVersionName() {
        return versionName;
    }

    public void setVersionName(String versionName) {
        this.versionName = versionName;
    }

    public int getVersionCode() {
        return versionCode;
    }

    public void setVersionCode(int versionCode) {
        this.versionCode = versionCode;
    }

    public String getAppClass() {
        return app_class;
    }

    public void setAppClass(String app_class) {
        this.app_class = app_class;
    }

    final void setActivity(ComponentName className, int launchFlags) {
        intent = new Intent(Intent.ACTION_MAIN);
        intent.addCategory(Intent.CATEGORY_LAUNCHER);
        intent.setComponent(className);
        intent.setFlags(launchFlags);
    }

    @Override
    public int compareTo(App app) {

        return 0;
    }

    public static Comparator<App> AppNameComparator = new Comparator<App>() {

        public int compare(App app1, App app2) {

            String AppName1 = app1.getTitle().toUpperCase();
            String AppName2 = app2.getTitle().toUpperCase();

            // ascending order
            return AppName1.compareTo(AppName2);

            // descending order
            // return fruitName2.compareTo(fruitName1);
        }

    };

    public static Comparator<App> AppDateComparator = new Comparator<App>() {

        public int compare(App app1, App app2) {

            int AppName1 = 0;
            int AppName2 = 0;

            AppName1 = app1.installDateMilli;
            AppName2 = app2.installDateMilli;

            return AppName2 - AppName1;

        }

    };

    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof App)) {
            return false;
        }

        App that = (App) o;
        return title.equals(that.title)
                && intent.getComponent().getClassName()
                        .equals(that.intent.getComponent().getClassName());
    }

    @Override
    public int hashCode() {
        int result;
        result = (title != null ? title.hashCode() : 0);
        final String name = intent.getComponent().getClassName();
        result = 31 * result + (name != null ? name.hashCode() : 0);
        return result;
    }
} 
```

** 我已经更新了我的应用程序类。这是我的应用类**

**解决方案**

我通过改变 equals 和 hashCode 方法解决了我的问题，如下所示：

```
@Override
public boolean equals(Object o) {
    if (this == o) {
        return true;
    }
    if (!(o instanceof App)) {
        return false;
    }

    App that = (App)o;
    return title.equals(that.title) && intent.getComponent().getClassName().equals(that.intent.getComponent().getClassName()) && packageName.equals(that.packageName);
}

@Override
public int hashCode() {
    int result;
    result = (title != null ? title.hashCode() : 0);
    final String name = intent.getComponent().getClassName();
    int pkg_code = (packageName != null ? packageName.hashCode() : 0);
    result = 31 * result + pkg_code + (name != null ? name.hashCode() : 0);
    return result;
} 
```

谢谢大家的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:36:03.337

您需要正确地为您的类实现`equals`方法。`App`对您而言，最好的解决方案可能是使用 packageName 作为您应用的唯一标识符：

```
@Override
public boolean equals(Object o) {

    if (o == this) {
        return true;
    }

    if (!(o instanceof App)) {
        return false;
    }

    App app = (App)o;
    return TextUtils.equals(app.packageName, this.packageName);

} 
```

# sql - 如何在 refcursor 结果集中组合来自另一个查询的结果？

> ID：15265222
> 
> 赞同：0
> 
> 时间：2013-03-07T07:15:38.697
> 
> 标签：sql, oracle, plsql, oracle11g, plsqldeveloper

以下查询将检索多个 col_grp_id

```
SELECT   col_grp_id    
  FROM  co_page_col_grp_user_t 
  WHERE  page_id=p_page_id AND security_userid = p_user; 
```

p_check 是一个用户定义的变量，它应该是字符串“true”或“false”。

当值存在于第一个查询中时它是“假”，否则它应该是“真”。我需要使用添加了 p_check 的 refcursor 来传递所有行

```
OPEN p_out_col_pref FOR
      SELECT page_id,col_grp_nm,col_grp_id,p_check 
      FROM (SELECT p1.page_id, p2.col_grp_nm, p2.col_grp_id, p_check
            FROM co_page_t p1,
             co_page_col_grp_t p2     
           WHERE p1.page_id = p2.page_id
             AND p1.page_nm = p_rptname
             AND p1.appl_cd = p_applcd
             AND p1.page_id = p_page_id); 
```

这个查询怎么做？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:09:44.927

您可以在查询中执行此操作（不使用用户定义的变量），如下面的简化示例所示：

```
select p1.*, case when p2.col_grp_id is null then 'true' else 'false' end p_check
from co_page_t p1 left outer join co_page_col_grp_user_t p2
on p1.col_grp_id = p2.col_grp_id 
```

基本上，我在`left outer join`您的第一个查询中使用了 a 并将`case`空值称为“false”，将值称为“true”

或者像这样：

```
select p1.*, case when 
(select count(*) from co_page_col_grp_user_t p2 where p1.col_grp_id = p2.col_grp_id ) = 0 then 'true' else 'false'
end p_check
from co_page_t p1; 
```

在这里，我计算了它们（不需要不同的）

[这是一个 sqlfiddle 示例](http://www.sqlfiddle.com/#!4/7eb4b/6)

# sql-server - 如何使用存储过程计算佣金

> ID：15265225
> 
> 赞同：-3
> 
> 时间：2013-03-07T07:15:47.873
> 
> 标签：sql-server, stored-procedures, crystal-reports

我有一个包含 PrincipalAmount 字段的表。我需要根据 PrincipalAmount 计算佣金，即如果 PrincipalAmount < 25000.99 佣金 = 125 // // 50000.99 // // 250

有人可以写一个存储过程，这样我就可以在水晶报表中显示所有数据。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:07:02.167

```
//{@Commission}
If {table.PrincipalAmount} < 25000.99 Then
  125
Else If {table.PrincipalAmount} < 50000.99 Then
  250
Else
  0 
```

您还可以使用 CASE 语句：

```
// {@Commission}
Select {table.PrincipalAmount}
Case < 25000.99: 125
Case < 50000.99: 250
Default: 0 
```

# ruby - 不想专注于 .goto

> ID：15265227
> 
> 赞同：4
> 
> 时间：2013-03-07T07:15:54.823
> 
> 标签：ruby, selenium, webdriver, watir, selenium-chromedriver

我怎样才能让铬（由 watir 使用）留在后台？在每个`.goto`浏览器都获得焦点并成为活动窗口。

对 ff 或 ie 使用相同的脚本不会像这样。

此致。

例子：

```
 require "watir"
    # browser = Watir::Browser.new :firefox   # stays in background
    browser = Watir::Browser.new :chrome      # getting focus on .goto
    for i in 0..5
      browser.goto "http://google.com?q=#{i}"
      sleep 5
    end
    browser.close 
```

环境：

*   视窗 7 64 位
*   红宝石 1.9.3p125 (2012-02-16) [i386-mingw32]
*   瓦蒂尔（4.0.2 x86-mingw32）
*   水经典（3.4.0）
*   水网驱动程序（0.6.2）
*   chromedriver 版本=26.0.1383.0

编辑：正如下面的评论中所写，我不想最小化窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T15:51:14.017

我认为你可以通过使用 win32ole 来实现你所追求的。这个想法是模拟 ALT + SPACEBAR + N 按键，这样窗口一打开就会被最小化！

这是我能想到的最简单的。

这里是：

```
 require 'win32ole'
skey = WIN32OLE.new('Wscript.Shell')

skey.sendKeys("(%) + (' ') + (n)") #--> minimize window 
```

*   请注意，以上内容已通过 winXP 和 Firefox 成功测试，但我看不出它不应该与您的配置一起使用的任何原因，因为键组合是基于 Windows 的。

祝你好运

# bash - 管道到多个文件，但不是标准输出

> ID：15265228
> 
> 赞同：13
> 
> 时间：2013-03-07T07:15:57.327
> 
> 标签：bash, stdout, tee

我想将标准输出传送到多个文件，但保持标准输出本身安静。`tee`很接近，但它同时打印到文件和标准输出

```
$ echo 'hello world' | tee aa bb cc
hello world 
```

这行得通，但如果可能的话，我更喜欢更简单的东西

```
$ echo 'hello world' | tee aa bb cc >/dev/null 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-07T07:22:49.770

您可以简单地使用：

```
echo 'hello world' | tee aa bb > cc 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-11-20T02:03:52.693

您还可以通过写入来关闭 tee 标准输出输出`/dev/full`

```
echo 'hello world' | tee aa bb cc >/dev/full 
```

或通过关闭标准输出。

```
echo 'hello world' | tee aa bb cc >&- 
```

但是请注意，您将收到`tee: standard output: No space left on device`或`tee: standard output: Bad file descriptor`警告。

# c - C - 为指数编写函数而不使用 Pow

> ID：15265230
> 
> 赞同：-3
> 
> 时间：2013-03-07T07:16:11.480
> 
> 标签：c

我有这个程序：

```
#include <stdio.h>

long int x_to_the_n (int x,int n)
{
    int i; 
    int number;

 int i; 
int i = 1;

for (i = 0; i < n; ++i)
    x = x*x;

return(number);
}

int main()
{
    int number;
    int exponent;
    int answer;

    printf  ("Enter a number: ");
    scanf ("%i", &number);

    printf  ("Enter a number that represents the power you want your number to be raised     to: ");
    scanf ("%i", &exponent);

    answer = x_to_the_n(number,exponent); 

    printf("X To The N is %li",answer);

    return 0;
} 
```

现在，函数 x_to_the_n 没有正确地等同于 x ^ n ...我想知道是否有人建议在不使用 c pow 库函数的情况下计算 x 到 n。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-07T07:20:04.100

试试这个：

```
long int x_to_the_n (int x,int n)
{
    int i; /* Variable used in loop counter */
    int number = 1;

    for (i = 0; i < n; ++i)
        number *= x;

    return(number);
} 
```

# ios - CAAnimationGroup 可以根据其中的动画自动确定持续时间吗？

> ID：15265235
> 
> 赞同：1
> 
> 时间：2013-03-07T07:16:37.050
> 
> 标签：ios, core-animation

如果 a 中有5**个动画**`CAAnimationGroup`，`g1`我必须计算 的持续时间`g1`，我想知道是否有一种方法`g1`可以自动计算运行它的所有动画的持续时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:10:02.983

使用一点“ `valueForKeyPath`-magic”，您可以很容易地获得组中所有动画的最长持续时间。

```
// The longest of all the durations in the group.
NSNumber *groupDuration = [group.animations valueForKeyPath:@"@max.duration"]; 
```

然后你可以用这个值做任何你想做的事情。因此`NSSNumber`，如果要将其设置为组的持续时间，则需要获取 float 或 double 值。

```
group.duration = [groupDuration doubleValue]; 
```

## 编辑

正如[Duncan C](https://stackoverflow.com/users/205185/duncan-c)指出的那样：上面计算总持续时间的代码只有在所有动画都立即开始时才有效。解决这个问题的一种方法可能是添加一个类别`CAAnimation`，为`endTime`. 像这样：

```
//  CAAnimation+EndTime.h
@interface CAAnimation (EndTime)
@property (nonatomic, assign, readonly) CGFloat endTime;
@end

//  CAAnimation+EndTime.m
@implementation CAAnimation (EndTime)

- (CGFloat)endTime {
    CGFloat endTime = self.duration;
    if (self.beginTime > 0.0) {
        endTime+= self.beginTime - CACurrentMediaTime();
    }
    return endTime;
}

@end 
```

有了该类别，您可以使用上面的 valueForKeyPath: 方法，如下所示

```
// The latest end time of all the animations in the group.
NSNumber *groupDuration = [group.animations valueForKeyPath:@"@max.endTime"]; 
```

### 笔记

我`endTime`上面的实现不会涵盖*所有*情况来计算动画的实际结束时间。例如，它不考虑 timeOffset 或具有相对于当前时间以外的其他事物的开始时间的动画。然而，它确实考虑了两种最常见的情况：立即开始并从“现在”开始一些书籍。

# jquery - ASP：NET：我的 Dive 无法从 iframe 内部设置全屏（显示器）

> ID：15265236
> 
> 赞同：0
> 
> 时间：2013-03-07T07:16:41.170
> 
> 标签：jquery, asp.net

我的网站中有一个 iframe，该 iframe 会加载网站页面。
我的页面之一是包含一个按钮，用户单击此按钮后，应显示全屏 div。我想制作一个适合我的全屏浏览器的 div，但它只是 iframe 中的全屏。例如：WebForm11.aspx

```
 <iframe src="WebForm12.aspx" width="200px" height="200px"></iframe> 
```

WebForm12.aspx：

```
<script type="text/javascript">
 $(document).ready(function () {
     $('#show').click(function () {
         $('#d1').show();
     })
 });
 </script>
<input type="button" id="show" value="show-hide" />

<div id="d1" style="background-color:Red;display:none;"></div> 
```

如何在监视器全屏中显示这个红色 div？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-05-01T04:51:51.713

我将它移到父窗口，它变成了真的。（如评论中所说）

# c# - 从日期时间解析额外的字符

> ID：15265237
> 
> 赞同：5
> 
> 时间：2013-03-07T07:16:42.660
> 
> 标签：c#, .net, regex

嗨，我有以下代码从文件中读取日期。

```
using (var reader = new StreamReader(@"C:\myfile.txt")) 
{
    bool found= false;
    while (!reader.EndOfStream) 
  {
        var line = reader.ReadLine().Trim();

        if (found && line.EndsWith("Test")) 
        {
            var fordDate = DateTime.Parse(line.Substring(0, 19));
            Console.WriteLine("Test Date: {0}", fordDate);
            break;
        }
   }
 } 
```

问题是当日期与其他一些文本相关时它会给出错误。例如

```
\r\n2013-03-03 12:22:02 
```

我正在尝试更改它，以便代码可以从中删除 "\r\n" 或任何其他文本，并只获取日期部分。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:19:42.913

## 你应该使用正则表达式

如果您的日期始终具有相同的格式，您可以轻松编写一个正则表达式，该表达式将从各个行中提取日期并去除每一侧的任何其他内容。为了理解正则表达式应该如下所示：

```
\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2} 
```

此正则表达式过于简化，并且允许`0000-00-00 99:99:99`可能无效的日期。这取决于您的文件是否可以包含一些可能显示为日期但不是的值。一个更复杂（但更有效）的表达式是（假设 date is`YYYY-MM-DD`和 not `YYYY-DD-MM`）：

```
[12]\d{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\d|3[01])\s(?:[01]\d|2[0-3]):(?:[0-5]\d):(?:[0-5]\d) 
```

这将允许从 1000 年到 2999 年的日期，正确的月份数为 01-12，天数为 01-31，小时数为 00:00:00 到 23:59:59。

但是为了使这个正则表达式更有用，我将把它放在括号中并给它一个名字，这样这些日期就会成为`date`代码中命名捕获组 ( ) 的一部分，您可以使用它的名称而不是索引来访问它。

```
Regex rx = "(?<date>[12]\d{3}-(?:0\d|1[0-2])-(?:0[1-9]|[12]\d|3[01])\s(?:[01]\d|2[0-3]):(?:[0-5]\d):(?:[0-5]\d)).*Test$";
if (rx.Text(line))
{
    Match m = rx.Match(line);
    // no need to use TryParse as regex assures correct formatting
    fordDate = DateTime.Parse(m.Groups["date"]);
} 
```

因此，除了手动检查以我结尾的行之外，`Test`我还在正则表达式中包含了相同的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:20:41.710

使用此代码替换您需要的符号：

```
string lineAfterReplace = line.Replace("\t", "").Replace("\r", "").Replace("\n", ""); 
```

@J。[戴维森 - 使用MSDN Link](http://msdn.microsoft.com/library/vstudio/system.datetime.tryparse.aspx)可能对您来说也更好`TryParse`

比你有一些这样的代码：

```
if (DateTime.TryParse(dateString, out dateValue))
{
   /* it was parsed without errors */
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:26:54.833

改变：

```
var fordDate = DateTime.Parse(line.Substring(0, 19)); 
```

至：

```
var fordDate = DateTime.Parse(line.Substring(0, 19).Trim()); 
```

如果每个 DateTime 字符串单独位于文件的一行中，则最好使用：

```
var fordDate = DateTime.Parse(line.Trim()); 
```

# c++ - 声明名为“this”的参数时出现语法错误

> ID：15265240
> 
> 赞同：1
> 
> 时间：2013-03-07T07:16:59.293
> 
> 标签：c++, compiler-errors, this

```
typedef struct {
    index_tree_node node;
    uint32_t number;
    lzma_vli block_number_base;
    index_tree groups;
    lzma_vli record_count;
    lzma_vli index_list_size;
    lzma_stream_flags stream_flags;
    lzma_vli stream_padding;
} index_stream; 
```

下面是函数：

```
static void
index_cat_helper(const index_cat_info *info, index_stream *this)   //problem line
{
    index_stream *left = (index_stream *)(this->node.left);
    index_stream *right = (index_stream *)(this->node.right);

    if (left != NULL)
        index_cat_helper(info, left);

    this->node.uncompressed_base += info->uncompressed_size;
    this->node.compressed_base += info->file_size;
    this->number += info->stream_number_add;
    this->block_number_base += info->block_number_add;
    index_tree_append(info->streams, &this->node);

    if (right != NULL)
        index_cat_helper(info, right);

    return;
} 
```

错误：

> 错误 C2143：语法错误：在 'this' 之前缺少 ')'
> 
> 错误 C2447：“{”：缺少函数头（旧式正式列表？）

我正在寻找这些错误的来源。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T07:18:34.520

`this`是一个[C++ 关键字](http://en.cppreference.com/w/cpp/keyword)，不能用作变量的名称。它表示*从*该实例中指向该类的实例的指针。

示例（虽然`this`这里实际上可以省略）

```
struct Foo
{
  void foo() const { this->bar(); }
  void bar() const {}
  void step() { this->counter++; }
  int counter = 0; // don't worry, C++11 initialization
}; 
```

你需要一个不同的名字。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:24:40.617

您正在尝试将看似 C 代码的内容编译为 C++。请注意，这将引入问题，因为 C 和 C++ 是不同的语言（例如，您必须强制转换 的返回结果`malloc`，这在 C 代码中是不鼓励的）。

正确的做法是使用 C 编译器，而不是 C++ 编译器。

# java - 使用休眠比较标准中地图的键值

> ID：15265242
> 
> 赞同：2
> 
> 时间：2013-03-07T07:17:07.913
> 
> 标签：java, hibernate

我使用`docRelatedUseMap`地图将文档相关用户存储在休眠映射中。我想从中获取特定的用户文档。

```
<hibernate-mapping >
<class name="com.v4common.shared.beans.domain.common.transaction.Document" table="document">
 <id name="id" column="id" type="long">
 <generator class="native"/>
 </id>
 <property column="document_name" name="documentName"/>
 <property column="reference_number" name="referenceNumber"/>
 <property column="description" name="shortDescription"/>
 <property column="long_description" name="longDescription"/>
 <property column="status" name="documentStatus"/>
 <property column="open_authority_id" name="openAuthority"/>
 <property column="tender_no" name="tenderNo" type="long"/>
 <property column="offer_no" name="offerNo" type="long"/>
 <map name="docRelatedUserMap" cascade="refresh" table="doc_related_user_map">
 <key column="document_id"/>
 <map-key  column="user_id" type ="long"/>
 <element column="last_modified_date"  type="timestamp" not-null="true"/>
 </map>
 </class>
</hibernate-mapping> 
```

在标准中：

```
Criteria criteria = session.createCriteria(Document.class);
criteria.setResultTransformer(criteria.DISTINCT_ROOT_ENTITY);
//need to write line code here
List<Document> innerDocList=criteria.list(); 
```

如何在休眠中使用条件？

# java - 应用程序陷入僵局

> ID：15265248
> 
> 赞同：3
> 
> 时间：2013-03-07T07:17:28.130
> 
> 标签：java, multithreading, deadlock

运行一段时间后，我的应用程序陷入僵局。我进行了线程转储，并注意到我所有留下的应用程序线程都停留在以下状态

```
"APP-Thread-20" prio=6 tid=0x0000000007414800 nid=0x1268 waiting on condition [0x000000000951f000]
   java.lang.Thread.State: WAITING (parking)
    at sun.misc.Unsafe.$$YJP$$park(Native Method)
    - parking to wait for  <0x00000000e0179568> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
    at sun.misc.Unsafe.park(Unsafe.java)
    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:156)
    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1987)
    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:399)
    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:947)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
    at java.lang.Thread.run(Thread.java:662)

   Locked ownable synchronizers:
    - None 
```

唯一处于可运行状态的线程卡在使用 SAX Parser 的代码上。下面给出了线程转储

```
"APP-Thread-19" prio=6 tid=0x0000000007413800 nid=0x18b4 runnable [0x00000000094de000]
   java.lang.Thread.State: RUNNABLE
    at java.net.SocketInputStream.$$YJP$$socketRead0(Native Method)
    at java.net.SocketInputStream.socketRead0(SocketInputStream.java)
    at java.net.SocketInputStream.read(SocketInputStream.java:129)
    at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
    at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
    - locked <0x00000000e2f3fee8> (a java.io.BufferedInputStream)
    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:697)
    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:640)
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1195)
    - locked <0x00000000e2f3ff90> (a sun.net.www.protocol.http.HttpURLConnection)
    at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
    at org.apache.xerces.impl.XMLEntityManager.startEntity(Unknown Source)
    at org.apache.xerces.impl.XMLEntityManager.startEntity(Unknown Source)
    at org.apache.xerces.impl.XMLDTDScannerImpl.startPE(Unknown Source)
    at org.apache.xerces.impl.XMLDTDScannerImpl.skipSeparator(Unknown Source)
    at org.apache.xerces.impl.XMLDTDScannerImpl.scanDecls(Unknown Source)
    at org.apache.xerces.impl.XMLDTDScannerImpl.scanDTDExternalSubset(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentScannerImpl$DTDDispatcher.dispatch(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.SAXParserImpl.parse(Unknown Source)
    at javax.xml.parsers.SAXParser.parse(SAXParser.java:198)
    at com.test.Parser.Parser.parseDocument(Parser.java:33)
    at com.test.processor.LinkExtractor.extractLinksFromXml(LinkExtractor.java:222)
    at com.test.processor.LinkExtractor.process(LinkExtractor.java:102)
    at com.test.content.pipeline.PipelineProcessingTask.run(PipelineProcessingTask.java:76)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)

   Locked ownable synchronizers:
    - <0x00000000e017c3b8> (a java.util.concurrent.locks.ReentrantLock$NonfairSync) 
```

所有线程都在处理一系列任务，其中解析只是其中一项任务。解析代码不同步，每个线程都在执行新的 Parser().parse()。

这个问题是否以 SAXParser 为中心？还是我看错了方向？

我有 3 个线程转储，并且在所有 3 个场景中都是相同的。

这是解析的代码。请求是一个httpMethod。

```
byte[] data = IOUtils.toByteArray(req.getResponseBodyAsStream());
body = new String(data,"UTF-8").trim();
Parser parser = new Parser();
List<String> entries = parser.parseDocument(response); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:22:15.137

您的解析器正在等待来自网络的输入，同时它正在阻塞所有其他线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T10:15:10.960

因此，您的应用程序中没有死锁。

队列中没有任务。因此，除了一个之外的所有工作人员都在等待一些任务进入队列。

一名执行工作人员加载 XML 源以通过 SAX 进行解析。看起来它是缓慢的操作。可能 XML 可能很大或网络速度很慢。

环境问题。由于某些原因，没有人将任务放入队列中。还要检查通过网络加载 XML 的性能。

# mysql - 加入3个表mysql

> ID：15265251
> 
> 赞同：0
> 
> 时间：2013-03-07T07:17:35.263
> 
> 标签：mysql, sql

**顾客**

```
╔═══════╦══════════╗
║ CUSID ║ CUS NAME ║
╠═══════╬══════════╣
║     1 ║ AA       ║
║     2 ║ BB       ║
║     3 ║ CC       ║
╚═══════╩══════════╝ 
```

**库斯海鲜**

```
╔════╦═══════╦══════════╗
║ ID ║ CUSID ║   NAME   ║
╠════╬═══════╬══════════╣
║  1 ║     1 ║ SeaFoodA ║
║  2 ║     1 ║ SeaFoodB ║
║  3 ║     2 ║ SeaFoodC ║
╚════╩═══════╩══════════╝ 
```

**库斯比萨**

```
╔════╦═══════╦══════╗
║ ID ║ CUSID ║ NAME ║
╠════╬═══════╬══════╣
║  1 ║     1 ║ PAA  ║
║  2 ║     2 ║ PBB  ║
╚════╩═══════╩══════╝ 
```

**库斯小吃**

```
╔════╦═══════╦══════╗
║ ID ║ CUSID ║ NAME ║
╠════╬═══════╬══════╣
║  1 ║     2 ║ SAA  ║
║  2 ║     3 ║ SBB  ║
╚════╩═══════╩══════╝ 
```

想计算以下客户示例订购了多少海鲜、比萨饼或小吃。

```
Cus ID, Cus Name, Number Of SeaFood, Sea Food info, Number Of Pizza, Pizza info, Number of Snack, Snack info. 
```

客户可能不会订购所有 3 种食物。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T07:20:47.547

您需要通过子查询单独计算每个计数，以便获得正确的结果。这将防止您计算重复记录。

```
SELECT  a.*,
        COALESCE(b.totalSeaFood, 0) totalSeaFood,
        COALESCE(c.totalPizza, 0) totalPizza,
        COALESCE(d.totalSnack, 0) totalSnack
FROM    Customer a
        LEFT JOIN
        (
            SELECT  cusID, COUNT(*) totalSeaFood
            FROM    CusSeaFood
            GROUP   BY cusID
        ) b ON a.cusID = b.CusID
        LEFT JOIN
        (
            SELECT  cusID, COUNT(*) totalPizza
            FROM    CusPizza
            GROUP   BY cusID
        ) c ON a.cusID = c.CusID
        LEFT JOIN
        (
            SELECT  cusID, COUNT(*) totalSnack
            FROM    CusSnack
            GROUP   BY cusID
        ) d ON a.cusID = d.CusID 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/9908a8/1)

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)

结果

```
╔═══════╦══════════╦══════════════╦════════════╦════════════╗
║ CUSID ║ CUS NAME ║ TOTALSEAFOOD ║ TOTALPIZZA ║ TOTALSNACK ║
╠═══════╬══════════╬══════════════╬════════════╬════════════╣
║     1 ║ AA       ║            2 ║          1 ║          0 ║
║     2 ║ BB       ║            1 ║          1 ║          1 ║
║     3 ║ CC       ║            0 ║          0 ║          1 ║
╚═══════╩══════════╩══════════════╩════════════╩════════════╝ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:21:54.380

您的示例中的“海鲜信息”，“披萨信息”等对我来说没有意义。如果客户订购了不止一种海鲜或比萨饼，那么这里应该如何表示？

通常你会期望看到多行，每个订购的东西一个。要获取此信息，您甚至不需要加入，只需一个`UNION`.

```
SELECT * FROM CusSeaFood WHERE CusID = ?
UNION SELECT * FROM CusPizza WHERE CusID = ?
UNION SELECT * FROM CusSnack WHERE CusID = ? 
```

# html - 在引导程序中居中分页

> ID：15265253
> 
> 赞同：109
> 
> 时间：2013-03-07T07:17:39.207
> 
> 标签：html, twitter-bootstrap, css

我在分页中有这段代码

```
<div class="pagination">
    <ul>
        <li><a href="?p=0" data-original-title="" title="">1</a></li> 
        <li><a href="?p=1" data-original-title="" title="">2</a></li> 
    </ul>
</div> 
```

但我`ul`的左对齐。有什么方法可以使`ul`wrt居中`div`吗？

我试过了`margin: auto auto`，`margin :0 auto`但没有奏效。

* * *

## 回答 #1

> 赞同：157
> 
> 时间：2013-03-07T07:19:39.963

### Bootstrap 从 3.0 添加了一个新类。

```
<div class="text-center">
    <ul class="pagination">
        <li><a href="?p=0" data-original-title="" title="">1</a></li> 
        <li><a href="?p=1" data-original-title="" title="">2</a></li> 
    </ul>
</div> 
```

### Bootstrap 4 有新的类

```
<div class="text-xs-center">
    <ul class="pagination">
        <li><a href="?p=0" data-original-title="" title="">1</a></li> 
        <li><a href="?p=1" data-original-title="" title="">2</a></li> 
    </ul>
</div> 
```

### 对于 2.3.2

```
<div class="pagination text-center">
    <ul>
        <li><a href="?p=0" data-original-title="" title="">1</a></li> 
        <li><a href="?p=1" data-original-title="" title="">2</a></li> 
    </ul>
</div> 
```

* * *

~~给这种方式：~~

```
.pagination {text-align: center;} 
```

~~它有效，因为`ul`正在使用`inline-block;`~~

### ~~小提琴：http: [//jsfiddle.net/praveenscience/5L8fu/](http://jsfiddle.net/praveenscience/5L8fu/)~~

* * *

~~或者如果你想使用 Bootstrap 的类：~~

```
<div class="pagination pagination-centered">
    <ul>
        <li><a href="?p=0" data-original-title="" title="">1</a></li> 
        <li><a href="?p=1" data-original-title="" title="">2</a></li> 
    </ul>
</div> 
```

### ~~小提琴：http: [//jsfiddle.net/praveenscience/5L8fu/1/](http://jsfiddle.net/praveenscience/5L8fu/1/)~~

* * *

## 回答 #2

> 赞同：86
> 
> 时间：2013-10-03T13:41:58.620

对于 Bootstrap 3.0 和 2.3.2，要居中分页，可以将**.text-center**类应用于包含的**div**。

*注意：*在标记中应用**.pagination**类的位置在 Bootstrap 2.3.2 和 3.0 之间发生了变化。请参见下文，或阅读有关分页的 Bootstrap 文档：[Bootstrap 3.0](http://getbootstrap.com/components/#pagination "3.0")、[Bootstrap 2.3.2](http://getbootstrap.com/2.3.2/components.html#pagination "Boostrap 2.3.2")。

**引导程序 3 示例**

```
<div class="text-center">
    <ul class="pagination">
        <li><a href="?p=0" data-original-title="" title="">1</a></li> 
        <li><a href="?p=1" data-original-title="" title="">2</a></li> 
    </ul>
</div> 
```

[http://jsfiddle.net/mynameiswilson/eYNMu/](http://jsfiddle.net/mynameiswilson/eYNMu/)

**引导程序 2.3.2 示例**

```
<div class="pagination text-center">
    <ul>
        <li><a href="?p=0" data-original-title="" title="">1</a></li> 
        <li><a href="?p=1" data-original-title="" title="">2</a></li> 
    </ul>
</div> 
```

[http://jsfiddle.net/mynameiswilson/84X3M/](http://jsfiddle.net/mynameiswilson/84X3M/)

* * *

## 回答 #3

> 赞同：70
> 
> 时间：2017-04-27T14:39:34.867

要在 BS4 中居中分页，应`justify-content-center`添加`ul`：

```
 <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1">Previous</a>
      </li>
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link" href="#">Next</a>
      </li>
    </ul>
  </nav>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
```

有关详细信息，请参阅[分页引导 4](https://v4-alpha.getbootstrap.com/components/pagination/)。

* * *

## 回答 #4

> 赞同：32
> 
> 时间：2018-07-07T09:17:53.777

使用 laravel 和 bootstrap 4，有效的解决方案：

```
<div class="d-flex">
    <div class="mx-auto">
        {{$products->links("pagination::bootstrap-4")}}
    </div>
</div> 
```

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2018-09-26T08:50:09.540

**Bootstrap 4 的解决方案**

你可以使用它 **对齐** 使用这个类`justify-content-center`

[使用flexbox 实用程序](https://getbootstrap.com/docs/4.0/utilities/flex/)更改分页组件的对齐方式。

并了解更多关于它的[信息](https://getbootstrap.com/docs/4.0/components/pagination/)

```
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet"/>

<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">Previous</a>
    </li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link" href="#">Next</a>
    </li>
  </ul>
</nav>
```

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2014-08-14T14:41:04.530

前面提到的 Bootstrap 3.0 解决方案在 3.1.1 上对我不起作用。分页类有`display:block`，`<li>`元素有`float:left`，这意味着仅仅包装`<ul>`in`text-center`是行不通的。我不知道事情在 3.0 和 3.1.1 之间是如何或何时发生变化的。无论如何，我已经`<ul>`使用`display:inline-block`了。这是代码：

```
<div class="text-center">
    <ul class="pagination" style="display: inline-block">
        <li><a href="...">...</a></li>
    </ul>
</div> 
```

或者为了更简洁的设置，省略该`style`属性并将其放在您的样式表中：

```
.pagination {
    display: inline-block;
} 
```

然后使用之前建议的标记：

```
<div class="text-center">
    <ul class="pagination">
        <li><a href="...">...</a></li>
    </ul>
</div> 
```

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2014-11-14T09:56:51.297

您可以添加自定义 Css：

```
.pagination{
    display:table;
    margin:0 auto;
} 
```

谢谢

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2018-09-01T04:22:53.477

这个这个，它对我有用：

**风格**：

```
.pagination {
  display: flex;
  justify-content: center;
}

.pagination li {
  display: block;
 } 
```

**和刀片**：

```
<div class="pagination">                                              
  {{ $myCollection->render() }}
</div> 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2015-01-06T19:51:05.663

这个对我有用：

```
<div class="text-center">
<ul class="pagination pagination-lg">
   <li>
  <a href="#" aria-label="Previous">
    <span aria-hidden="true">&laquo;</span>
  </a>
</li>
<li><a href="#">1</a></li>
<li><a href="#">2</a></li>
<li><a href="#">3</a></li>
<li><a href="#">4</a></li>
<li><a href="#">5</a></li>
<li>
  <a href="#" aria-label="Next">
    <span aria-hidden="true">&raquo;</span>
  </a>
</li>
</ul> 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2017-03-18T10:31:40.283

我无法获得任何建议的解决方案来使用 Bootstrap 4 alpha 6，但以下变体最终让我获得了一个居中的分页栏。

CSS覆盖：

```
.pagination {
  display: inline-flex;
  margin: 0 auto;
} 
```

HTML：

```
<div class="text-center">
  <ul class="pagination">
    <li><a href="...">...</a></li>
  </ul>
</div> 
```

`display`包装 div 上的,或 class 的其他组合`margin`似乎都不起作用。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2021-03-07T09:44:59.417

**在 Boostrap 5 中分页居中**

```
 <ul class=" pagination justify-content-center >"; 
```

使用： [https](https://getbootstrap.com/docs/5.0/components/pagination/) ://getbootstrap.com/docs/5.0/components/pagination/ 和 [https://getbootstrap.com/docs/5.0/utilities/flex/](https://getbootstrap.com/docs/5.0/utilities/flex/)

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2017-07-23T01:51:26.270

在 v4.0.0-alpha.6 中：

```
<div class="text-center text-sm-right">
    <ul class="pagination d-inline-flex">...</ul>
</div> 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2019-02-07T10:46:06.567

引导程序 4：

```
<!-- Default (left-aligned) -->
<ul class="pagination" style="margin:20px 0">
  <li class="page-item">...</li>
</ul>

<!-- Center-aligned -->
<ul class="pagination justify-content-center" style="margin:20px 0">
  <li class="page-item">...</li>
</ul>

<!-- Right-aligned -->
<ul class="pagination justify-content-end" style="margin:20px 0">
  <li class="page-item">...</li>
</ul> 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2017-08-31T19:08:40.550

这个css对我有用：

```
.dataTables_paginate {
   float: none !important;
   text-align: center !important;
} 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2022-01-24T20:33:50.450

如果使用**引导程序**

**在刀片页面中**

```
<div class="pagination justify-content-center">
   {{ $products->links() }}
     //or
   {{ $products->render() }}
</div> 
```

* * *

## 回答 #16

> 赞同：-2
> 
> 时间：2015-11-28T06:29:47.390

```
You can use the below code to center pagination 
```

```
.pagination-centered {
    text-align: center;
}
```

```
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="pagination-centered">
    <ul class="pagination">
      <li class="active"><a href="#">1</a></li>
      <li><a href="#">2</a></li>
      <li><a href="#">3</a></li>
    </ul>
</div>
```

# highcharts - 是否有任何平移工具可以使用缩放高图

> ID：15265255
> 
> 赞同：0
> 
> 时间：2013-03-07T07:17:40.600
> 
> 标签：highcharts

我正在寻找适用于高图缩放的平移。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-09-17T09:21:07.430

Highcharts API 中有一个示例：

[Highcharts API](http://api.highcharts.com/highcharts#chart.panning)

[jsfiddle.net 上的示例](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/chart/pankey/)

您必须添加的代码是：

```
chart: {
        type: 'line',
        zoomType: 'x',
        panning: true,
        panKey: 'shift'
    } 
```

# jsp - 没有使用 request.getparameter 获取值

> ID：15265256
> 
> 赞同：0
> 
> 时间：2013-03-07T07:17:43.273
> 
> 标签：jsp

单击`submit`时，我调用此函数：

```
function submitFunction()
{

    document.forms[0].action = "Result.jsp";

    document.forms[0].method = 'GET';

    document.forms[0].submit();

} 
```

中的数据`Result.jsp`是：

```
<%
out.println(request.getparameter("demo1")+"<BR>");
out.println(request.getparameter("demo2")+"<BR>");
out.println(request.getparameter("demo3")+"<BR>");
out.println(request.getParameter("demo4")+"<BR>");  
out.println(request.getParameter("demo5")+"<BR>");
out.println(request.getParameter("demo6")+"<BR>");
%> 
```

我的表格：

```
<form method="post" action="Result.jsp" >
    <h1>Student Info</h1>
    <hr>
    <pre>
        <b>Name</b> :<input id="demo1" type="text" value=" "/>
    </pre>
    <pre>
        <b>Age </b> :<input id="demo2" type="text" value=" "/>
    </pre>
    <pre>
        <b>Qualification</b> :<input id="demo3" type=isNaN value=" "/>
    </pre>
    <pre>
        <b>Address</b> :<input id="demo4" type="text" value=" "/>
    </pre>
    <pre>
        <b>Company Name</b> :<input id="demo5" type="text" value=" "/>
    </pre>
    <pre>
        <b>Height</b> :<input id="demo6" type="numeric" value=" " />
    </pre>
</form> 
```

请为此提出解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:35:08.123

您应该在 html的标签中使用该属性`name`而不是：`id``<form>``<input>`

代替：

```
<input id="demo1" type="text" value=" "/> 
```

利用：

```
<input id="demo1" name="demo1" type="text" value=" "/> 
```

注意`name="demo1"`. 由于作为请求参数发送给服务器的键值请求对是ie通过& not标识参数的`name-value`对。`<input>``request.getParameter("demo1")``name``id`

另外作为旁注，您可以使用 CSS 或内联样式来设置 html 标签的样式，例如`<input>`等`<form>`，而不是使用`<pre>`标签。`<pre>`标签通常用于显示代码或预先格式化的用户内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:37:20.627

更改`<input id="demo1" type="text" value=" "/>` 为

```
 <input id="demo1" name = "demo1" type="text" value=" "/> 
```

为所有添加`name`属性`form elements`

要求。`getParameter`方法使用`name`属性来识别`Form elements`

# c# - 实体框架的运行时连接字符串和添加/更新/删除

> ID：15265257
> 
> 赞同：1
> 
> 时间：2013-03-07T07:17:50.560
> 
> 标签：c#, entity-framework, connection-string

我可以通过以下代码在运行时设置实体框架的连接字符串；但我不知道如何添加/更新/删除数据库记录。需要添加/更新/删除的实体是 Products(id,name)。

```
EntityConnectionStringBuilder ecsb = new EntityConnectionStringBuilder();
ecsb.Metadata = @"res://*/Model2.csdl|res://*/Model2.ssdl|res://*/Model2.msl";
ecsb.Provider = @"System.Data.VistaDB";
ecsb.ProviderConnectionString = @"data source=test.vdb4;password=password";
using (var context = new DbContext(ecsb.ConnectionString))
{
    // how to add new record/update/delete
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:42:55.493

假设您的 Product 类被调用`Product`，您使用以下代码：

```
var product = context.Set<Product>().Find(id);
context.Set<Product>().Remove(product); 
```

# android - 从意图调用播放器的活动时仍然播放音乐吗？

> ID：15265261
> 
> 赞同：0
> 
> 时间：2013-03-07T07:18:04.657
> 
> 标签：android

```
public class Music extends Activity implements OnCompletionListener, SeekBar.OnSeekBarChangeListener {
private ImageButton btnPlay;
private ImageButton btnForward;
private ImageButton btnBackward;

private ImageButton btnPlaylist;

private SeekBar songProgressBar;
private TextView songTitleLabel;
private TextView songCurrentDurationLabel;
private TextView songTotalDurationLabel;
// Media Player
private  MediaPlayer mp;
// Handler to update UI timer, progress bar etc,.
private Handler mHandler = new Handler();;
private SongsManager songManager;
private Utilities utils;
private int seekForwardTime = 5000; // 5000 milliseconds
private int seekBackwardTime = 5000; // 5000 milliseconds
private int currentSongIndex = 0; 
private boolean isShuffle = false;
private boolean isRepeat = false;
private ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

ImageButton homeButton;
ImageButton backButton;
private boolean isActivityRestarting;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.player);

    // All player buttons
    btnPlay = (ImageButton) findViewById(R.id.play_btn);
    btnForward = (ImageButton) findViewById(R.id.forword_btn);
    btnBackward = (ImageButton) findViewById(R.id.backword_btn);

    btnPlaylist = (ImageButton) findViewById(R.id.btnPlaylist);

    songProgressBar = (SeekBar) findViewById(R.id.songProgressBar);
    songTitleLabel = (TextView) findViewById(R.id.songTitle);
    songCurrentDurationLabel = (TextView) findViewById(R.id.songCurrentDurationLabel);
    songTotalDurationLabel = (TextView) findViewById(R.id.songTotalDurationLabel);

    // Mediaplayer
    mp = new MediaPlayer();
    songManager = new SongsManager();
    utils = new Utilities();

     homeButton = (ImageButton) findViewById(R.id.home_btn);
        backButton = (ImageButton) findViewById(R.id.back_btn);
        homeButton.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v){
                Intent openStartingPoint = new Intent("org.example.app.betar.HOME");
                startActivity(openStartingPoint);
            }
        });

        backButton.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v){
                Intent openStartingPoint = new Intent("org.example.app.betar.HOME");
                startActivity(openStartingPoint);
            }
        });
    // Listeners
    songProgressBar.setOnSeekBarChangeListener(this); // Important
    mp.setOnCompletionListener(this); // Important

    // Getting all songs list
    songsList = songManager.getPlayList();

    // By default play first song
    playSong(0);

    /**
     * Play button click event
     * plays a song and changes button to pause image
     * pauses a song and changes button to play image
     * */
    btnPlay.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            // check for already playing
            if(mp.isPlaying()){
                if(mp!=null){
                    mp.pause();
                    // Changing button image to play button
                    btnPlay.setImageResource(R.drawable.btn_play);
                }
            }else{
                // Resume song
                if(mp!=null){
                    mp.start();
                    // Changing button image to pause button
                    btnPlay.setImageResource(R.drawable.btn_pause);
                }
            }

        }
    });

    /**
     * Forward button click event
     * Forwards song specified seconds
     * */
    btnForward.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            // get current song position                
            int currentPosition = mp.getCurrentPosition();
            // check if seekForward time is lesser than song duration
            if(currentPosition + seekForwardTime <= mp.getDuration()){
                // forward song
                mp.seekTo(currentPosition + seekForwardTime);
            }else{
                // forward to end position
                mp.seekTo(mp.getDuration());
            }
        }
    });

    /**
     * Backward button click event
     * Backward song to specified seconds
     * */
    btnBackward.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            // get current song position                
            int currentPosition = mp.getCurrentPosition();
            // check if seekBackward time is greater than 0 sec
            if(currentPosition - seekBackwardTime >= 0){
                // forward song
                mp.seekTo(currentPosition - seekBackwardTime);
            }else{
                // backward to starting position
                mp.seekTo(0);
            }

        }
    });

    /**
     * Button Click event for Play list click event
     * Launches list activity which displays list of songs
     * */
    btnPlaylist.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            Intent i = new Intent(getApplicationContext(), PlayListActivity.class);
            startActivityForResult(i, 100);         
        }
    });

}

/**
 * Receiving song index from playlist view
 * and play the song
 * */
@Override
protected void onActivityResult(int requestCode,
                                 int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if(resultCode == 100){
         currentSongIndex = data.getExtras().getInt("songIndex");
         // play selected song
         playSong(currentSongIndex);
    }

}

/**
 * Function to play a song
 * @param songIndex - index of song
 * */
public void  playSong(int songIndex){
    // Play song
    try {
        mp.reset();
        mp.setDataSource(songsList.get(songIndex).get("songPath"));
        mp.prepare();
        mp.start();
        // Displaying Song title
        String songTitle = songsList.get(songIndex).get("songTitle");
        songTitleLabel.setText(songTitle);

        // Changing Button Image to pause image
        btnPlay.setImageResource(R.drawable.btn_pause);

        // set Progress bar values
        songProgressBar.setProgress(0);
        songProgressBar.setMax(100);

        // Updating progress bar
        updateProgressBar();            
    } catch (IllegalArgumentException e) {
        e.printStackTrace();
    } catch (IllegalStateException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
}

/**
 * Update timer on seekbar
 * */
public void updateProgressBar() {
    mHandler.postDelayed(mUpdateTimeTask, 100);        
}   

/**
 * Background Runnable thread
 * */
private Runnable mUpdateTimeTask = new Runnable() {
       public void run() {
           long totalDuration = mp.getDuration();
           long currentDuration = mp.getCurrentPosition();

           // Displaying Total Duration time
           songTotalDurationLabel.setText(""+utils.milliSecondsToTimer(totalDuration));
           // Displaying time completed playing
           songCurrentDurationLabel.setText(""+utils.milliSecondsToTimer(currentDuration));

           // Updating progress bar
           int progress = (int)(utils.getProgressPercentage(currentDuration, totalDuration));
           //Log.d("Progress", ""+progress);
           songProgressBar.setProgress(progress);

           // Running this thread after 100 milliseconds
           mHandler.postDelayed(this, 100);
       }
    };

/**
 * 
 * */
@Override
public void onProgressChanged(SeekBar seekBar, int progress, boolean fromTouch) {

}

/**
 * When user starts moving the progress handler
 * */
@Override
public void onStartTrackingTouch(SeekBar seekBar) {
    // remove message Handler from updating progress bar
    mHandler.removeCallbacks(mUpdateTimeTask);
}

/**
 * When user stops moving the progress hanlder
 * */
@Override
public void onStopTrackingTouch(SeekBar seekBar) {
    mHandler.removeCallbacks(mUpdateTimeTask);
    int totalDuration = mp.getDuration();
    int currentPosition = utils.progressToTimer(seekBar.getProgress(), totalDuration);

    // forward or backward to certain seconds
    mp.seekTo(currentPosition);

    // update timer progress again
    updateProgressBar();
}

/**
 * On Song Playing completed
 * if repeat is ON play same song again
 * if shuffle is ON play random song
 * */
@Override
public void onCompletion(MediaPlayer arg0) {

    // check for repeat is ON or OFF

        // no repeat or shuffle ON - play next song
        if(currentSongIndex < (songsList.size() - 1)){
            playSong(currentSongIndex + 1);
            currentSongIndex = currentSongIndex + 1;
        }else{
            // play first song
            playSong(0);
            currentSongIndex = 0;
        }
    }

@Override
 public void onDestroy(){
 super.onDestroy();
    mp.release();
 }
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
     if (keyCode == KeyEvent.KEYCODE_BACK) {
     //preventing default implementation previous to android.os.Build.VERSION_CODES.ECLAIR
     return true;
     }
     return super.onKeyDown(keyCode, event);    
}

} 
```

我使用android构建了音乐播放器这个播放器是这个应用程序中更多活动的一个我从主页调用活动播放器但是当我回到主页然后再次调用播放器的活动你再次播放歌曲并且仍然播放旧音乐

当我打电话给活动播放器时，我需要继续播放歌曲，回到现在

我使用 startActivity 从主页调用活动播放器

请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:57:02.647

在 Activity 的方法中创建 MediaPlayer`onCreate`而不检查 MediaPlayer 实例是否已经存在不是一个好主意。您可能想熟悉 Android 中的[Activity 生命周期](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)。您的 Activity 可能会重新创建，例如，如果它由于移动到背景而停止，或者由于用户倾斜设备时的方向变化而停止。因此，您至少应该覆盖所有相关的回调（`onStop`,`onResume`等），以便您可以以适当的方式释放和分配资源。

更好的是在[Service](http://developer.android.com/guide/components/services.html)中管理 MediaPlayer ，因为服务意味着在后台运行很长时间。Android 文档在描述服务时甚至提到了这个特殊的用例：*“例如，当用户在不同的应用程序中时，服务可能会在后台播放音乐”*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-23T16:20:46.060

在代码中：

```
@Override
 public void onDestroy(){
 super.onDestroy();
    mp.release();
 } 
```

mp.release 编辑 mp.pause

```
@Override
 public void onDestroy(){
 super.onDestroy();
    mp.pause();
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:28:07.627

在 Android 中 onBackPress() 或 onPause() 停止媒体播放器并完成() Activity。

谢谢

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-05T21:29:49.580

我知道这为时已晚，但希望它能奏效。将媒体播放器 mp 指定为静态。比如私有静态MediaPLayer mp。这将保存 mp 的一个实例，以便它只是被重用而不是重新创建。希望能帮助到你。

# configuration - 更新 PHP.ini 的值

> ID：15265263
> 
> 赞同：1
> 
> 时间：2013-03-07T07:18:08.483
> 
> 标签：configuration, upload, php

我的 PHP.ini 位于`/etc/php5/apache2/php.ini`并加载了配置文件： `/etc/php5/apache2/php.ini`

我已使用 root 用户将 PHP.ini 的值更改为以下

```
php5_value upload_max_filesize = 24M
php5_value post_max_size = 32M
php5_value memory_limit = 32M 
```

重新启动网络服务。所有值都更新到 php.ini 中。**但在phpinfo()**中不生效；

 **知道我缺少什么来配置它！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:31:40.823

尝试使用在您的代码中设置这些

```
ini_set('php5_value upload_max_filesize', '24M'); 
```

然后看它的影响

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:32:23.047

将此添加到您的`.htaccess`文件中

```
php_value upload_max_filesize 24M
php_value post_max_size 32M
php_value memory_limit 32M 
```

您的 PHP 设置将每次上传的最大文件大小限制为有限 MB。根据您的服务器环境，这些设置可能会在系统范围的 php.ini 文件中更改。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:27:44.747

您也可以尝试将线条添加到其中`.htaccess`。**

# eclipse - 如何在eclipse中找到已安装的插件

> ID：15265264
> 
> 赞同：15
> 
> 时间：2013-03-07T07:18:09.593
> 
> 标签：eclipse, plugins, adt

我正在 Eclipse IDE-ADT 中开发 Android 应用程序。在这里我无法创建动态 Web 项目。我该怎么做。以及如何在eclipse中找到已安装的插件。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-07T07:47:27.240

在 Eclipse 中：转到帮助单击**安装新软件...** 在打开的对话框中单击下面的**已安装**链接。 ![在此处输入图像描述](../Images/64052bb9b1bacec979e3d9d1a565f15b.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-08-03T12:03:48.003

转到**Eclipse** -> **About Eclipse** -> 并单击**Installation details** -> 并单击**Plug-ins**

# perl - 转置模式搜索

> ID：15265266
> 
> 赞同：2
> 
> 时间：2013-03-07T07:18:12.363
> 
> 标签：perl, awk

我有格式的文本文件

```
 1   5.287  15.026   0.623 1 U   1.805E+05  0.000E+00 e 0   666   761   769 
  2   4.601  15.023   0.623 4 U   6.220E+04  0.000E+00 e 0     0     0     0 
  3   2.883  15.059   0.623 3 U   3.303E+05  0.000E+00 e 0   680   761   769 
  4   0.623  56.340   5.287 3 U   9.990E+04  0.000E+00 e 0   769   590   666 
```

……

我想确定第 11 列与第 13 列匹配且第 13 列与任何其他行（例如第 1 行和第 4 行）的第 11 列匹配的行。我希望在两行末尾添加注释并打印整个文件。

```
 1   5.287  15.026   0.623 1 U   1.805E+05  0.000E+00 e 0   666   761   769   #Line 4
  2   4.601  15.023   0.623 4 U   6.220E+04  0.000E+00 e 0     0     0     0 
  3   2.883  15.059   0.623 3 U   3.303E+05  0.000E+00 e 0   680   761   769 
  4   0.623  56.340   5.287 3 U   9.990E+04  0.000E+00 e 0   769   590   666   #Line 1 
```

这是核磁共振光谱数据。非常感谢您的帮助。谢谢你-mandar

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:38:40.853

像这样的东西可能会起作用：

```
use warnings;
use strict;

my %col11_13;

# read file
my @lines = map { chomp; [ split, $_] } <>; 

# prepare hash in the first pass
for my $i (0..@lines - 1) {
  push (@{$col11_13{$lines[$i][10]."|".$lines[$i][12]}}, $i + 1); 
}

# output in the second...
for my $i (0..@lines - 1) {
  # get the list of matching records, but filter out a self match
  my @s = grep { $_ != $i + 1 } @{$col11_13{$lines[$i][12]."|".$lines[$i][10]}};
  if (@s) {
    print $lines[$i][13], "# Line ", join(" ", @s) ,"\n";
  } else {
    print $lines[$i][13], "\n";
  }
} 
```

# php - 分页无法正常工作页面没有改变

> ID：15265268
> 
> 赞同：0
> 
> 时间：2013-03-07T07:18:21.633
> 
> 标签：php, codeigniter, pagination

嗨，我是 codeigniter 的新手，并试图在我的项目中构建一个分页功能，看起来一切正常，除了分页没有改变页面。畏惧知道出了什么问题，谁能帮助我？这是我的代码：

**控制器**

```
class Result_controller extends CI_Controller{

    function getall(){

        $this->load->model('result_model');
        $data['query'] = $this->result_model->result_getall();
        // print_r($data['query']); die();

        $this->load->library('pagination');

        $config['base_url'] = 'http://localhost/Surva/index.php/result_controller/getall';
        $config['total_rows'] = $this->db->get('tblanswers, credentials')->num_rows();
        $config['per_page'] = 1;
        $config['num_links'] = 10;
        $config['uri_segment'] = 3;

        $this->pagination->initialize($config);

        $data['records'] = $this->Result_model->result_getall($config['per_page'], $this->uri->segment(3));
        $data['pagination'] = $this->pagination->create_links();
        $this->load->view('result_view', $data); 
```

**模型**

```
 function result_getall(){

  $this->db->select('tblanswers.*,credentials.*');
  $this->db->from('tblanswers');
  $this->db->join('credentials', 'tblanswers.answerid = credentials.cid', 'LEFT'); 
  $query = $this->db->get();
  return $query->result();

    } 
```

**看法**

```
<?php foreach ($query as $row): ?> 
     <tr>      
         <td><?php echo $row->name; ?></td>
         <td><?php echo $row->second_name; ?></td>
         <td><?php echo $row->phone; ?></td>
         <td><?php echo $row->email; ?></td>
          <td> <?php echo $row->answerA;?>
           <?php echo $row->answerB;?>
           <?php echo $row->answerC;?></td>
         <td><?php echo $row->comment;?><br></td>

     </tr>

      <?php endforeach; ?>

     </table>  
     <?php if (isset($pagination))
      {
       echo $pagination;
      // echo "<pre>"; var_dump($query);
       } 
      ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:28:43.053

试试这个：
将此部分添加到控制器

```
$page = $this->uri->segment(3);
if($page == '')
{
    $page = 1;
} 
```

并修改这一行

```
$data['records'] = $this->db->get('tblanswers, credentials', $config['per_page'], $page)->result_array(); 
```

编辑：更改您的模型：

```
function result_getall()
{

    $this->db->select('tblanswers.*,credentials.*');
    $this->db->from('tblanswers');
    $this->db->join('credentials', 'tblanswers.answerid = credentials.cid', 'LEFT'); 
    $query = $this->db->get();
    //return $query->result();
    echo $this->db->last_query();

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:23:21.477

控制器：

```
 function getall()
 {

    $this->load->model('result_model');
    $data['query'] = $this->result_model->result_getall();

    $this->load->library('pagination');

    $config['base_url'] = 'http://localhost/Surva/index.php/result_controller/getall';
    $config['total_rows'] = $this->db->get('tblanswers, credentials')->num_rows();
    $config['per_page'] = 2;
    $config['num_links'] = 5;
    $config['uri_segment'] = 3;
    $this->pagination->initialize($config);
    /*
    CHANGE $this->YOURMODELNAME-> to the name of the model
    */
    $data['records'] = $this->YOUMODELNAME->result_getall($config['per_page'], $this->uri->segment(3));
    $data['pagination'] = $this->pagination->create_links();
    $this->load->view('result_view', $data);
} 
```

模型：

```
function result_getall($perPage, $page)
{

    $this->db->select('tblanswers.*,credentials.*');
    $this->db->from('tblanswers');
    $this->db->join('credentials', 'tblanswers.answerid = credentials.cid', 'LEFT'); 
    $this->db->limit($perPage, $page);
    $query = $this->db->get();
    return $query->result();

} 
```

我已将您需要修改的部分放在大写字母中。让我知道这是否可行

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T13:20:15.673

use limit function on sql query. for ex if you want to show 10 record on page use in sql query limit 0,10 first time

# ios - 如何在 ARC 模式下保持单个对象？

> ID：15265269
> 
> 赞同：0
> 
> 时间：2013-03-07T07:18:24.883
> 
> 标签：ios, objective-c

我想在应用程序中保留一个对象，并且不释放。

```
@implementation MyClass

    static MyClass *sharedInstance = nil;
    + (MyClass *)sharedInstance {
        if (!sharedInstance) {
            sharedInstance = [[super alloc] init];
        }
        return sharedInstance;
    }
@end 
```

我可以通过 获得单个对象`[MyClass sharedInstance]`，它在非 ARC 模式下运行良好。

但是当更改为 ARC 模式时，对象会释放。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:20:46.517

为什么你认为它会发布？您已将其分配给 ARC 跟踪的静态变量。

# jquery - 使用 .each 函数时如何返回选定的无线电组值？

> ID：15265270
> 
> 赞同：1
> 
> 时间：2013-03-07T07:18:25.403
> 
> 标签：jquery, oracle-apex

在下面的 HTML 中，我只想检索为该特定无线电组选择的无线电组选项。

这是我希望它的工作方式，我基本上会让用户在网页上输入所需的值，同时选择他们可用的无线电组选项 - 这种情况是/否，但我想当他们按下按钮时扫描页面，然后只会显示他们选择了哪些无线电组选项。

因此，基于以下 HTML 代码，如果对于名为“married”的无线电组，他们选择了“YES”，而对于名为“children”的无线电组，他们选择了“No”，那么我现在想提醒屏幕：

```
YES
NO 
```

只有而不是

```
YES
YES
NO
NO 
```

我正在使用 .each 函数来扫描页面上的所有元素，并检查类型是否为“无线电”，但不幸的是，我收到了重复的响应，这是我不想要的。

如何扫描页面并只为每个无线电组返回 YES 和 NO？

```
<fieldset class="radio_group" tabindex="-1" id="MARRIED_RG">
<table class="radiogroup" datatable="0" role="presentation" summary="">
<tbody><tr>
<td nowrap="nowrap">
<input type="radio" class="tooltip" value="YES" name="married" id="MARRIED_RG_0"><label for="MARRIED_RG_0">Yes</label></td><td nowrap="nowrap">
<input type="radio" class="tooltip" value="NO" name="married" id="MARRIED_RG_1"><label for="MARRIED_RG_1">No</label></td></tr></tbody></table>
</fieldset>

<fieldset class="radio_group" tabindex="-1" id="CHILDREN_RG">
<table class="radiogroup" datatable="0" role="presentation" summary="">
<tbody><tr>
<td nowrap="nowrap">
<input type="radio" class="tooltip" value="YES" name="children" id="CHILDREN_RG_0"><label for="CHILDREN_RG_0">Yes</label></td><td nowrap="nowrap">
<input type="radio" class="tooltip" value="NO" name="children" id="CHILDREN_RG_1"><label for="CHILDREN_RG_1">No</label></td></tr></tbody></table>
</fieldset> 
```

基于上述，我基本上需要一种不重复无线电组结果的方法 - 需要不同的值。

我的代码如下所示：

```
$(':radio').each(function() { // loop through each radio button
        nam = $(this).attr('name'); // get the name of its set
        if ($(':radio[name="'+nam+'"]:checked').length > 0) { 
        // see if any button in the set is checked
            alert(nam);
        }
    }); 
```

因此，基于使用上述 HTML 的这段代码，我得到了正确的值，但因为我使用的是 .each 函数，所以它返回无线电组的每一行，即：

```
MARRIED_RG_0    YES
MARRIED_RG_1    YES
CHILDREN_RG_0   NO
CHILDREN_RG_1   NO 
```

我只想返回：

```
MARRIED_RG_0    YES
CHILDREN_RG_1   NO 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:58:49.053

如果你可以使用不同于 .each() 的任何东西，你可以尝试这样的事情：

```
$("input:radio[name='married']:checked").val()
$("input:radio[name='children']:checked").val() 
```

澄清问题后编辑：尝试`$(this).is(":checked")`代替`$(':radio[name="'+nam+'"]:checked').length > 0`.

```
$('input:radio').each(function() { // loop through each radio button
    nam = $(this).attr('name'); // get the name of its set
    if ($(this).is(":checked")) { 
        alert(nam + ": " + $(this).val());
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T12:10:57.103

可能有更聪明的方法可以做到这一点，但您可以首先收集单选按钮集列表，然后遍历该列表而不是每个单选按钮。

```
var sets = [];

// first get all unique sets
$(':radio').each(function () {
    var name = $(this).attr('name');
    if ($.inArray(name, sets) === -1) {
        sets.push(name);
    }
});

// then loop through the sets
$.each(sets, function (index, set) {
    if ($(':radio[name="' + set + '"]:checked').length > 0) {
        // see if any button in the set is checked
        alert(set);
    }
}); 
```

演示：http: [//jsfiddle.net/SF4qj/](http://jsfiddle.net/SF4qj/)

# primefaces - 在 Tomcat 7 中使用 Primefaces Push 时出错。

> ID：15265271
> 
> 赞同：1
> 
> 时间：2013-03-07T07:18:26.467
> 
> 标签：primefaces, tomcat7, atmosphere

我正在尝试实现 primefaces 展示中给出的基本反例。当我在 Eclipse 上运行应用程序时，每次单击后计数器似乎都会增加。但在 Firefox 和 Google Chrome 上，增加的值仅在刷新后显示（不是推送）。我也收到类似
**org.atmosphere.cpr.AtmosphereFramework - Failed using comet support: org.atmosphere.container.Tomcat7AsyncSupportWithWebSocket, error: Tomcat failed to detect this is a Comet application because context.xml is missing or the Http11NioProtocol Connector is启用。**

context.xml 有什么作用？它应该包含什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T13:19:59.593

您应该在 server.xml 中像这样更改连接器协议：

```
 <Service name="Catalina">
  <!--    
    <Connector port="8080" address="xxx.xxx.xxx.xxx" protocol="HTTP/1.1" ..../>
  -->
  <!-- 
    HTTP 1.1 protocol is replaced with org.apache.coyote.http11.Http11NioProtocol 
  -->
  <Connector port="8080" address="xxx.xxx.xxx.xxx" protocol="org.apache.coyote.http11.Http11NioProtocol" />
  ...
  </Service> 
```

# windows - 如何在 Windows 中使用命令提示符在不同的端口而不是 8080 上启动 jenkins？

> ID：15265277
> 
> 赞同：137
> 
> 时间：2013-03-07T07:18:53.430
> 
> 标签：windows, command-line, jenkins, war, command-prompt

我有 jenkins.war，我从 Windows 中的命令提示符启动它：

```
java -jar jenkins.war 
```

它启动良好，易于浏览`http://localhost:8080`

我想从 9090 端口开始。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：191
> 
> 时间：2013-03-07T07:20:44.877

在命令提示符处使用以下命令：

```
java -jar jenkins.war --httpPort=9090 
```

如果要使用 https，请使用以下命令：

```
java -jar jenkins.war --httpsPort=9090 
```

详情在[这里](https://www.jenkins.io/doc/book/installing/initial-settings/)

* * *

## 回答 #2

> 赞同：93
> 
> 时间：2014-05-19T05:45:50.050

打开`jenkins.xml`jenkins 主文件夹（通常`C:\Program Files (x86)\Jenkins`）并更改端口号：然后
`httpPort=xxxx`
重新
`httpPort=yyyy`
启动服务。它应该永久更改设置。

* * *

## 回答 #3

> 赞同：91
> 
> 时间：2015-01-23T09:56:09.367

使用**Ubuntu 14.4**我不得不更改文件**/etc/default/jenkins**

例如

```
 #HTTP_PORT=8080
   HTTP_PORT=8083 
```

并重新启动服务

> `service jenkins restart`

* * *

## 回答 #4

> 赞同：47
> 
> 时间：2014-10-23T21:11:54.233

在 CentOS/RedHat 中（假设您安装了`jenkins`软件包）

`vim /etc/sysconfig/jenkins`

```
....
# Port Jenkins is listening on.
# Set to -1 to disable
#
JENKINS_PORT="8080" 
```

将其更改为您想要的任何端口。

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2015-02-24T12:35:24.907

**在 Windows 上（使用 Windows 服务）。**

如果需要 8083 端口，请`C:\Program Files (x86)\Jenkins\jenkins.xml`使用**8083**编辑文件。

```
<arguments>-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar "%BASE%\jenkins.war" --httpPort=8083</arguments> 
```

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2014-08-26T09:32:32.240

为了让在这里找到自己的 Linux 用户受益：我发现 /etc/sysconfig/jenkins 有一个 JENKINS_PORT="8080"，您可能也应该更改它。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2016-03-29T20:10:29.463

在 *nix 在 CentOS/RedHat 中

vim /etc/sysconfig/jenkins

```
# Port Jenkins is listening on.
# Set to -1 to disable
#
JENKINS_PORT="8080" 
```

在 Windows 中打开 XML 文件 C:\Program Files (x86)\Jenkins\jenkins.xml

```
<executable>%BASE%\jre\bin\java</executable>
  <arguments>-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar "%BASE%\jenkins.war" --**httpPort=8083**</arguments>
 i made  above bold  to show you change then 
 <executable>%BASE%\jre\bin\java</executable>
  <arguments>-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar "%BASE%\jenkins.war" --httpPort=8083</arguments> 
```

现在你必须重新启动它不起作用，除非你重新启动 [http://localhost:8080/restart](http://localhost:8080/restart) 然后在重新启动 [http://localhost:8083/](http://localhost:8083/)后 一切都应该很好，所以看起来上面的所有响应都说它不起作用我们有重新开始。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2015-02-12T15:44:05.150

对于`Fedora`、`RedHat`等`CentOS`，任何自定义都应该`/etc/sysconfig/jenkins`在`/etc/init.d/jenkins`. 第一个文件的目的正是对第二个文件的定制。

因此，在 中`/etc/sysconfig/jenkins`，有一个`JENKINS_PORT`变量保存 Jenkins 正在运行的端口号。

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2015-05-19T15:20:27.840

正确，使用 --httpPort 参数。如果你还想指定 $JENKINS_HOME，你可以这样做：

```
java -DJENKINS_HOME=/Users/Heros/jenkins -jar jenkins.war  --httpPort=8484 
```

* * *

## 回答 #10

> 赞同：5
> 
> 时间：2016-02-23T16:30:22.330

更改默认端口 8080。您需要做的就是：

1.  转到 C:\Program Files (x86) 中的 Jenkins 文件夹
2.  打开记事本或文本板并以管理员身份运行它们，然后尝试打开 jenkins 文件夹中的 jenkins.xml 文件。
3.  更改端口号如下： `<arguments>-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar "%BASE%\jenkins.war" --httpPort=9090</arguments>`
4.  单击保存。

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2019-02-21T10:08:53.940

如果您已在 ec2 实例上使用 linux AMI 配置 jenkins 并希望更改端口。编辑文件在

```
sudo vi /etc/sysconfig/jenkins 
```

编辑

```
JENKINS_PORT="your port number" 
```

退出 vim

```
:wq 
```

重启詹金斯

```
sudo service jenkins restart 
```

或者简单地启动它，如果它还没有运行

```
sudo service jenkins start 
```

验证您的詹金斯是否在提到的端口上运行

```
netstat -lntu | grep "your port number" 
```

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2014-10-15T12:51:08.427

你可以打电话

```
java -jar jenkins.war --help 
```

查看所有可用参数的列表。

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2015-01-28T14:16:40.173

在文件中的 DAEMON_ARGS 后面添加以下两行`/etc/init.d/jenkins`

HTTP_PORT=8010
JENKINS_ARGS="--httpPort=$HTTP_PORT"

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2017-04-07T06:01:36.067

在 OSX 编辑文件上：

```
/usr/local/Cellar/jenkins-lts/2.46.1/homebrew.mxcl.jenkins-lts.plist 
```

并根据您的需要编辑端口。

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2020-02-18T10:54:43.283

在 Windows 中以管理员身份打开命令提示符。转到安装 Jenkins 的目录。**并首先使用jenkins.exe stop 停止**Jenkins 服务

 **键入命令以更改使用的端口，**java -jar jenkins.war --httpPort=9090**（输入您要使用的端口号）。

最后，使用**jenkins.exe restart 重新启动 Jenkins 服务**

* * *

## 回答 #16

> 赞同：-1
> 
> 时间：2014-07-23T06:42:35.803

更改“/etc/init.d/jenkins”外壳

```
check_tcp_port "http" "$HTTP_PORT" "8080" || return 1 
```

换成`8080`你想要的**

# ajax - Rails：更新表格提交

> ID：15265278
> 
> 赞同：0
> 
> 时间：2013-03-07T07:18:54.640
> 
> 标签：ajax, ruby-on-rails-3, render

我有一个模型 Leave 存储与学生休假相关的信息。我有一个视图，它显示了从 Leave 表生成的各种类型的报告。

当这个“报告”页面在浏览器中第一次打开时，它会显示表格中的所有数据。

现在我有一个表单，可以查询离开表并在提交按钮上呈现表/部分。

该表在部分“_report.html.erb”中呈现。当“报告”页面打开时，它会被渲染。

```
<%= render 'report' %> 
```

现在，当我提交表单时，整个视图都会刷新，这不是我想要的。我只想刷新表格/部分而不是整个视图。我该怎么办呢..？

# sql - 用函数和条件生成另外两列

> ID：15265292
> 
> 赞同：0
> 
> 时间：2013-03-07T07:19:54.410
> 
> 标签：sql, oracle

**输入表：**

```
store    | employee  | date             |  timein  | timeout |   
    1    |      A    |        1-jan-12  |  10:00   | 17:00   |
    1    |      A    |        1-jan-12  |  20:00   | 22:00   |
    2    |      B    |        1-jan-12  |  10:00   |  -      |
    2    |      B    |        1-jan-12  |  17:00   | 20:00   |
    2    |      B    |        2-jan-12  |  10:00   | 17:00   |
    3    |      C    |        1-jan-12  |  10:00   | 12:00   |
    3    |      C    |        1-jan-12  |  13:00   | 15:00   |
    3    |      C    |        1-jan-12  |  20:00   | 23:00   | 
```

**期望的输出：**

```
store | employee | date      |  timein  | timeout | hours | working_days |
 1    |     A    | 1-jan-12  |  10:00   | 17:00   |   7   |              |
 1    |     A    | 1-jan-12  |  20:00   | 22:00   |   2   |        1     |
 2    |     B    | 1-jan-12  |  10:00   |  -      |   0   |              | 
 2    |     B    | 1-jan-12  |  17:00   | 20:00   |   5   |        0     | 
 2    |     B    | 2-jan-12  |  10:00   | 17:00   |   7   |        1     | 
 3    |     C    | 1-jan-12  |  10:00   | 12:00   |   2   |              | 
 3    |     C    | 1-jan-12  |  13:00   | 15:00   |   2   |              | 
 3    |     C    | 1-jan-12  |  20:00   | 23:00   |   3   |        1     | 
```

我的查询是：

```
select 
      store, 
      employee,
      date,
      timein,
      timeout,
      cast(trim(trailing ':' from cast(timeout) as number)-trim(trailing ':' from cast(timein) as number) as number) as hours,
     case
      when timeout is null then 0 and
     end
from
      tableattend
where date between '1-jan-12' and '2-jan-12' and store between 'A' and 'C' 
```

working_days字段**将以**这种方式显示，但无法获得创建上述结果的确切函数。请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:04:21.207

Slight variation on APC's answer because I interpreted the working days rule slightly differently... this gives your expected output. but doesn't seem to match the rules you stated:

```
select store, employee, dt, timein, timeout, hours,
    case when rn = 1 then decode(tmp_timeout, null, 0, 1) end as working_days
from (
    select store, employee, dt, timein, timeout,
          case when timeout is null then 0
          else extract (hour from to_dsinterval('0 ' || timeout || ':00')
              - to_dsinterval('0 ' || timein || ':00'))
          end as hours,
          first_value(timeout)
              over (partition by store, employee, dt
                  order by timeout nulls first) as tmp_timeout,
          row_number()
              over (partition by store, employee, dt
                  order by timein desc) as rn
    from tableattend
)
where dt between '1-jan-12' and '2-jan-12'
-- and store between 'A' and 'C' -- store is numeric??
/ 
```

I called the date column `dt` to avoid the reserved word, but otherwise tried to match what you supplied.

```
 STORE EMPLOYEE DT        TIMEIN TIMEOUT      HOURS WORKING_DAYS
---------- -------- --------- ------ ------- ---------- ------------
         1 A        01-JAN-12 10:00  17:00            7              
         1 A        01-JAN-12 20:00  22:00            2            1 
         2 B        01-JAN-12 10:00                   0              
         2 B        01-JAN-12 17:00  20:00            3            0 
         2 B        02-JAN-12 10:00  17:00            7            1 
         3 C        01-JAN-12 10:00  12:00            2              
         3 C        01-JAN-12 13:00  15:00            2              
         3 C        01-JAN-12 20:00  23:00            3            1 
```

This would be easier if you were storing time in and out as full dates rather than as separate (varchar2) columns. It isn't clear what would or should happen if someone worked past midnight, so the `timeout` would appear to be before the `timein`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T15:52:20.213

关于如何减去时间部分以获得小时数的几个示例，如上面的示例所示。不清楚你如何获得工作日。我认为您可以将工作时间除以 8 以获得工作日......所有示例都经过测试：

```
SELECT round((time_diff/3600)/24, 1) days
     , trunc(time_diff/3600) hrs
     , trunc(mod(time_diff, 3600) / 60) mnt
     , trunc(mod(time_diff, 3600) / 60 /60) sec
  FROM
  (
   SELECT time_in, time_out, (time_out-time_in)* 86400 time_diff
     FROM 
   (
    SELECT to_date('01-JAN-2012 17:00:00', 'DD-MON-YYYY HH24:MI:SS') time_out
         , to_date('01-JAN-2012 10:00:00', 'DD-MON-YYYY HH24:MI:SS') time_in
      FROM dual
   ))
   / 
```

使用提取示例：

```
 Select time_in, time_out, time_diff,
        EXTRACT(DAY FROM time_diff) days,
        EXTRACT(HOUR FROM time_diff) hours,
        EXTRACT(MINUTE FROM time_diff) minutes,
        EXTRACT(SECOND FROM time_diff) seconds
   From
   (
    Select time_in, time_out, (time_out - time_in) time_diff
      From
     (
      Select CAST(to_date('01-JAN-2012 17:00:00', 'DD-MON-YYYY HH24:MI:SS') AS TIMESTAMP) time_out
           , CAST(to_date('01-JAN-2012 10:00:00', 'DD-MON-YYYY HH24:MI:SS') AS TIMESTAMP) time_in
         From dual
    ))
  / 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:31:23.073

您在评论中声明您生成 WORKING_DAYS 的规则是：

*   如果记录不是 DATE 的最后一条记录，则为**NULL**
*   如果记录是 DATE 的最后一条记录但 TIMEOUT 为空，则为**0**
*   否则**1**

这是您的查询的简化版本，用于解决特定问题：

```
select date
       , timein 
       , timeout
       , case 
            when rn != 1 then null
            when timeout is null then 0
            else 1
          end as working_days
from ( select date
              , timein 
              , timeout
              , row_number() over partition by date order by timein desc ) rn
       from  tableattend
      where date between '1-jan-12' and '2-jan-12' 
      and store between 'A' and 'C' )
order by date, timein 
```

# gcc - 了解 __libc_init_array

> ID：15265295
> 
> 赞同：17
> 
> 时间：2013-03-07T07:20:16.393
> 
> 标签：gcc, startup, elf, linker-scripts, newlib

[我从http://newlib.sourcearchive.com/documentation/1.18.0/init_8c-source.html](http://newlib.sourcearchive.com/documentation/1.18.0/init_8c-source.html)查看了 __libc_init_array 的源代码。
但我不太明白这个函数的作用。

我知道这些符号

```
/* These magic symbols are provided by the linker.  */
extern void (*__preinit_array_start []) (void) __attribute__((weak));
extern void (*__preinit_array_end []) (void) __attribute__((weak));
extern void (*__init_array_start []) (void) __attribute__((weak));
extern void (*__init_array_end []) (void) __attribute__((weak));
extern void (*__fini_array_start []) (void) __attribute__((weak));
extern void (*__fini_array_end []) (void) __attribute__((weak)); 
```

在链接描述文件中定义。
部分链接描述文件可能如下所示：

```
 .preinit_array     :
  {
    PROVIDE_HIDDEN (__preinit_array_start = .);
    KEEP (*(.preinit_array*))
    PROVIDE_HIDDEN (__preinit_array_end = .);
  } >FLASH
  .init_array :
  {
    PROVIDE_HIDDEN (__init_array_start = .);
    KEEP (*(SORT(.init_array.*)))
    KEEP (*(.init_array*))
    PROVIDE_HIDDEN (__init_array_end = .);
  } >FLASH
  ... 
```

然后我在 ELF-v1.1、gcc 4.7.2、ld 和 codesourcery（我正在使用 codesourcery g++ lite）的文档中使用键“init_array”进行搜索，但一无所获。

我在哪里可以找到这些符号的规格？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2015-06-22T05:10:06.510

这些符号与 C/C++ 构造函数和析构函数的启动和拆除之前/之后调用的代码有关`main()`。名为`.init`、`.ctors`、`.preinit_array`和`.init_array`的节用于初始化 C/C++ 对象，节`.fini`、`.fini_array`、 和`.dtors`用于拆除。开始和结束符号定义与此类操作相关的代码段的开始和结束，并且可能从运行时支持代码的其他部分引用。

`.preinit_array`and`.init_array`部分包含指向将在初始化时调用的函数的指针数组。`.fini_array`是一个将在销毁时调用的函数数组。大概开始和结束标签用于遍历这些列表。

使用这些符号的代码的一个很好的例子可以在这里找到[libc source](http://static.grumpycoder.net/pixel/uC-sdk-doc/initfini_8c_source.html) for `initfini.c`. 你可以看到，在启动时，`__libc_init_array()`被调用，这首先`.preinit_array`通过引用开始和结束标签来调用部分中的所有函数指针。然后它调用该部分`_init()`中的函数`.init`。最后它调用 section 中的所有函数指针`.init_array`。After `main()`is complete the teardown call to`__libc_fini_array()`导致调用中的所有函数`.fini_array`，然后最终调用`_fini()`. 请注意，此代码在计算拆解时调用的函数计数时似乎存在剪切和粘贴错误。大概他们正在处理实时微控制器操作系统并且从未遇到过这部分。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2020-02-11T22:03:02.383

@Robotbugs 的回答很有趣，但我发现了一些额外的信息，可能会满足其他人的好奇心。

[System V 应用程序二进制接口](https://refspecs.linuxfoundation.org/elf/gabi4+/contents.html)似乎适用于 gcc 生成的可执行文件（我猜想其他一些编译器 - 想到了 clang）。

[特殊章节章节](https://refspecs.linuxfoundation.org/elf/gabi4+/ch4.sheader.html#special_sections)状态（仅相关部分，由我重新排序）：

> .preinit_array：
> 
> > 本节包含一个函数指针数组，这些指针有助于包含该节的可执行文件或共享对象的单个预初始化数组。
> 
> .init_array
> 
> > 本节包含一个函数指针数组，这些指针有助于包含该节的可执行文件或共享对象的单个初始化数组。
> 
> .fini_array
> 
> > 本节包含一个函数指针数组，这些指针构成包含该节的可执行文件或共享对象的单个终止数组。

[newlib 中的文件 init.c](https://sourceware.org/git/gitweb.cgi?p=newlib-cygwin.git;a=blob_plain;f=newlib/libc/misc/init.c;hb=HEAD)包括：

```
/* Iterate over all the init routines.  */
void
__libc_init_array (void)
{
    size_t count;
    size_t i;

    count = __preinit_array_end - __preinit_array_start;
    for (i = 0; i < count; i++)
        __preinit_array_start[i] ();

#ifdef HAVE_INIT_FINI
    _init ();
#endif

    count = __init_array_end - __init_array_start;
    for (i = 0; i < count; i++)
    __init_array_start[i] ();
} 
```

这对应于 STM32 处理器的规范链接器脚本解决方案（作为示例）：

```
.preinit_array     :
{
    PROVIDE_HIDDEN (__preinit_array_start = .);
    KEEP (*(.preinit_array*))
    PROVIDE_HIDDEN (__preinit_array_end = .);
} >FLASH
.init_array :
{
    PROVIDE_HIDDEN (__init_array_start = .);
    KEEP (*(SORT(.init_array.*)))
    KEEP (*(.init_array*))
    PROVIDE_HIDDEN (__init_array_end = .);
} >FLASH
.fini_array :
{
    PROVIDE_HIDDEN (__fini_array_start = .);
    KEEP (*(SORT(.fini_array.*)))
    KEEP (*(.fini_array*))
    PROVIDE_HIDDEN (__fini_array_end = .);
} >FLASH 
```

该链接描述文件部分非常清楚：它定义了 Newlib 执行[System V 应用程序二进制接口](https://refspecs.linuxfoundation.org/elf/gabi4+/ch4.sheader.html#special_sections)为`preinit`和指定的数组函数所需的符号`init`。这似乎是 C++ 中静态构造函数的标准解决方案。并且`fini`将对应于静态析构函数。

当然，这个故事中最讽刺的部分是使用静态 C++ 对象而不使用[Construct On First Use Idiom](https://isocpp.org/wiki/faq/ctors#static-init-order)是解决[静态初始化顺序问题](https://isocpp.org/wiki/faq/ctors#static-init-order)的最佳方法！即 C++ 对象实际上不应该通过上面的`preinit`/`init`数组来构造！

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-07T07:27:38.570

这些特殊符号最终会被`PT_DYNAMIC`生成库的部分引用。`PT_DYNAMIC`定义使动态链接成功所需的各种资源（库依赖项、导出符号、符号哈希表、init/fini 数组等）。

因此，这些列表中的任何函数最终都将链接到该`PT_DYNAMIC`部分，并在动态链接过程中的适当时间被调用。您可能需要查阅来源以`ldd`获取更多信息。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-01-17T14:09:13.020

这些对象的规范是elf头文件格式的规范。至少他们为什么在那里。

除非您计划重写 glic 库及其与之通信的所有内容，否则它们**不会以任何方式使用形状手段或形式。**简而言之，elf 标头需要一个 _start 函数。没有它就不会启动二进制文件。

libc 库的很大一部分是用汇编而不是 C 编写的，C 没有考虑到这一点。pre 数组函数是添加此标头的一种方式。

查看**glibc**或**teeny-efl.git中的****gnu-** csu文件夹以获取示例。它还将数组设置为斜线格式的字符串。将两个元素设置为静态，argv 中的数组和 init_array。稍后它将检查以确保它们匹配。它还需要比你应该添加到这种函数中的更多代码来破坏这个过程或做任何其他事情，而不是让它独自一人。去玩你的冰箱。

# html - 在html页面中显示不同格式的视频

> ID：15265305
> 
> 赞同：1
> 
> 时间：2013-03-07T07:20:43.367
> 
> 标签：html, video, mp4, flv

我的硬盘上有不同格式的视频，然后我想在 html 页面中显示，例如到目前为止我有`.mp4`视频`.flv`格式 = 并尝试使用下面的 html 代码显示

```
<div style="padding-top:90px;">
  <video id="vid" width="350" height="250" controls="controls">
           <source src="/home/user/videos/django_cms_1280x720.mp4" type="video/mp4" />
   </video>
  <video id="vid_re" width="350" height="250" controls="controls">
           <source src="/home/user/videos/1100000.flv" type="video/mp4" />       
   </video>
</div> 
```

因此，当在浏览器中呈现/打开 html 页面时，`django_cms_1280x720.mp4`视频播放没有问题，但`1100000.flv`没有播放......

谁能告诉我如何在html页面上显示和播放不同格式的视频？

**已编辑**

由于`.flv`html 不支持视频，我已将它们转换为 mp4 并编辑如下代码，但仍然无法播放视频，页面仅显示视频的空白图像

```
 <video id="vid_re" width="350" height="250" controls="controls">
           <source src="/home/user/videos/1100000_cnvtd.mp4" type="video/mp4" />       
   </video> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:25:07.033

FLV 不支持作为浏览器播放的本机格式。您必须使用插件才能在您的网站上播放 flv。

你可以试试：

```
http://flowplayer.org/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:12:07.900

根据评论讨论，我认为我有足够的数据来回答您的问题：

1.  最初，您的问题视频具有 .flv 扩展名。这很可能是兼容 HTML5 的浏览器无法处理的格式（我说“可能”是因为它很可能是带有错误文件扩展名的正确文件；文件扩展名会触发发送错误的 MIME 类型通过可能会混淆某些浏览器的 Web 服务器响应）。
2.  您的快速、概念验证视频转换是不够的。`ffmpeg -i v1.mp4 v2.mp4`将生成一个 .mp4 文件，其中包含 MPEG-4 第 2 部分视频，HTML5 兼容浏览器通常不支持该视频。您需要确保视频为 H.264 格式。

因此，一般而言，请确保您的视频符合您的交付机制所定义的相当严格的限制。在这种情况下，HTML5 视频标签需要带有 H.264 视频和 AAC 音频的 MP4 文件。

# matlab - 将单元格内容分配给非单元格数组对象

> ID：15265311
> 
> 赞同：0
> 
> 时间：2013-03-07T07:21:06.530
> 
> 标签：matlab, if-statement, for-loop, cell

```
for ch=1:63
    for h=1:5
        for a=1:6
            for b=1:6
                m{a,b}{h,ch}=zeros(4,4);
            end
        end
    end
end

for a=1:6
    for b=1:6
        if b==a
            for h=1:5
                for ch=1:63
                    for c=1:4
                        for d=1:4
                            m{a,b}{h,ch}{c,d}=1;
                        end
                    end
                end
            end
        end
    end
end 
```

错误出现在第 17 行 ( `m{a,b}{h,ch}{c,d}=1;`)，它表明单元格内容分配给了非单元格数组对象。有解决此类错误的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:35:19.293

这是一个可怕的代码。

至于错误，被引用的变量`m{a,b}{h,ch}`在第 5 行被分配给了一个 4x4**数组**而不是一个单元数组。因此，您应该将第 17 行更改为

```
m{a,b}{h,ch}(c,d)=1; 
```

请注意正则括号（访问数组时）和花括号（访问元胞数组时）之间的区别。

# django - django 表单中的初始值

> ID：15265313
> 
> 赞同：0
> 
> 时间：2013-03-07T07:21:18.917
> 
> 标签：django, django-models, django-forms, django-views, django-formwizard

大家好，这里是我的代码

```
class F1articles(forms.Form):
  heading=forms.CharField(max_length=100)
  content=forms.CharField(widget=forms.Textarea)
class F2articles(forms.Form):
  country=forms.CharField(max_length=100)
  work=forms.CharField(max_length=100) 
```

这是在 Urls.py

```
url(r'^create/(?P<project_id>\d+)/$', FarticlesWizard.as_view([F1articles, F2articles])) 
```

这是我的看法

```
class FarticlesWizard(SessionWizardView):
def done(self,form_list,**kwargs):
    form_dict={}
    Varticles_obj=None

    for x in form_list:
        form_dict=dict(form_dict.items()+x.cleaned_data.items())

    if kwargs.has_key('project_id'):
        Varticles_obj=Marticles.objects.get(id=kwargs['project_id'])
        Varticles_obj.heading=form_dict['heading']
        Varticles_obj.content=form_dict['content']
        Varticles_obj.country=form_dict['country']
        Varticles_obj.work=form_dict['work']
        Varticles_obj.modified_on=datetime.datetime.now()
        Varticles_obj.modified_by=self.request.user.username
        Varticles_obj.save()
        return HttpResponseRedirect('/display/')
    else:       
        insert_db=Marticles(heading = form_dict['heading'],
        content = form_dict['content'],
          country=form_dict['country'],work=form_dict['work'],created_by=self.request.user)
        insert_db.save()
        return HttpResponseRedirect('/display/') 
```

这可以正常工作，没有问题，但是我想在调用 url 时为表单字段设置初始值，有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:15:30.897

您可以实现`WizardView.get_form_initial(step)`为向导的每个步骤提供初始数据的方法。

就像是：

```
class FarticlesWizard(SessionWizardView):
    def get_form_initial(self, step):
        init_dict = {}
        #get object to populate data
        if step == '1':
            init_dict = { 'heading': obj.heading, 'content' : obj.content }
        if step == '2':
            init_dict = { 'country': obj.country, 'work' : obj.work }

        return init_dict 
```

我不确定您将如何`project_id`从 url 获取此方法来查询对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:44:37.493

嗯，我得到了它的工作，让我回答我自己的问题，..这是代码......

```
 def get_form_initial(self,step):

    if 'project_id' in self.kwargs:
        project_id=self.kwargs['project_id']
        article=Marticles.objects.get(id=project_id)
        project_dict = model_to_dict(article)
        return project_dict
    else:
        return self.initial_dict.get(step,{}) 
```

我认为这对你有帮助，伙计们......

# android - 侦听器不适用于列表视图

> ID：15265316
> 
> 赞同：1
> 
> 时间：2013-03-07T07:21:26.923
> 
> 标签：android, android-layout, android-listview

我有监听器的列表视图工作正常，但是当我在**row.xml的一个****文本视图中添加****android:autoLink:"web"**属性时，列表监听器不起作用。为什么会这样？这是 row.xml

 ****```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/relativeLayout1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_marginTop="10dp" 
   >

    <TextView
        android:id="@+id/ID"
        android:layout_width="80dp"
        android:layout_height="wrap_content"
        android:text="First" />

    <TextView
        android:id="@+id/Name"
        android:layout_width="80dp"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="56dp"
        android:text="Second" />

    <TextView

          android:autoLink="web"
        android:id="@+id/Link"
        android:layout_width="80dp"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/ID"
        android:layout_marginTop="18dp"
        android:text="Third" />

</RelativeLayout> 
```

这是 listview.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginTop="4dp"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="Favourtes"
        android:textSize="25sp"
        android:textStyle="bold" >
    </TextView>

    <ListView
        android:id="@+id/listforplace"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:scrollbars="vertical" >
    </ListView>

</LinearLayout> 
```

这里 .java 类：

```
public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.bookmark);
        // loadSharedPreferencesforplacelist();
        list = (ListView) findViewById(R.id.listforplace);
        myAdapter = new DbManager(this);
        cursor = myAdapter.getAllfav();
        // updateList();
        String[] from = new String[] {/* DbManager.PlaceID, */DbManager.ID,
                DbManager.name, DbManager.referance };
        int[] to = new int[] { R.id.ID, R.id.Name, R.id.Link };
        cursorAdapter = new SimpleCursorAdapter(this, R.layout.bookmark_row,
                cursor, from, to);

        list.setAdapter(cursorAdapter);
        // cursorAdapter.setViewBinder(new ScoreHistoryBinder());
        list.setOnItemClickListener(listOnItemClickListener);

    }

    public ListView.OnItemClickListener listOnItemClickListener = new ListView.OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position,
                long id) {
            Cursor cursor = (Cursor) parent.getItemAtPosition(position);
            /* final int */placeidfordelete = cursor.getInt(cursor
                    .getColumnIndex(DbManager.ID));
            // int placename =
            // cursor.getString(cursor.getColumnIndex(DbManager.ID));
            placelongi = cursor
                    .getString(cursor.getColumnIndex(DbManager.name));
            placelati = cursor.getString(cursor
                    .getColumnIndex(DbManager.referance));
            placealti = cursor.getString(cursor.getColumnIndex(DbManager.des));

            AlertDialog.Builder builder = new AlertDialog.Builder(viewmark.this);
            builder.setTitle("Delete");
            builder.setIcon(android.R.drawable.ic_dialog_info);

            builder.setMessage("Delete marks");
            builder.setPositiveButton("Delete",
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface arg0, int arg1) {

                            myAdapter.delete_byID_place(placeidfordelete);
                            updateList();

                        }
                    });
            builder.setNegativeButton("All delete",
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface arg0, int arg1) {
                        }

                    });

            AlertDialog diag = builder.create();
            diag.show();

        }
    };

    @Override
    protected void onDestroy() { // TODO Auto-generated method stub
        super.onDestroy();
        cursor.close();
        myAdapter.close();

    }

    @SuppressWarnings({ "deprecation" })
    private void updateList() {
        cursor.requery();
        cursor.close();
        // //emptyFormFields();
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:28:28.317

这是因为 autoLink Web 属性会导致 TextView 元素窃取点击事件并阻止它们冒泡到 ListView。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:32:19.603

这只是建议：

```
<TextView
    android:id="@+id/txtViewWeb"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="Web: www.pareshnmayani.wordpress.com"
    android:autoLink="web"
    android:textSize="16sp"
    android:layout_margin="5dip">
</TextView> 
```

检查这个：[http ://www.technotalkative.com/android-textview-autolink-attribute/](http://www.technotalkative.com/android-textview-autolink-attribute/)

根据@Berdon的回答，它不起作用，那么你必须这样做`CustomAdapter`

[https://stackoverflow.com/a/12813906/1168654](https://stackoverflow.com/a/12813906/1168654)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:49:36.447

当您连续有任何可点击的视图（如 Button、ImageButton 或类似的视图）时，onItemClickListener 不起作用。

**解决方案：**您应该在 BaseAdapter 的 getView() 方法中获取行的根视图并在 rootView 上设置 onClickListener 。但是在 onCLickListener 中，您将无法获得已被单击的行的位置。可以参考getView()中的onClick()方法。

```
 ViewGroup listView = (ViewGroup) v.getParent();

            for(int i=1;i<listView.getChildCount();i++){

                listView.getChildAt(i).equals(v);

                if(listView.getChildAt(i).equals(v)){
                    //"clicked position" = i
                    toAttachmentViewer.putExtra("Name", attachments.get(i-1).getName());
                    toAttachmentViewer.putExtra("MasterId", attachments.get(i-1).getMastedId());
                }
            } 
```

以下是整个适配器类的代码

```
private class AttachmentsListViewAdapter extends BaseAdapter {

    List<Attachment> attachments;
    TextView txtHeader;
    TextView txtPdfName;

    public AttachmentsListViewAdapter(List<Attachment> attachments) {

        this.attachments = attachments;
        parentview=new View[this.attachments.size()+1];
    }

    @Override
    public int getCount() {

        return attachments.size()+1;
    }

    @Override
    public Object getItem(int arg0) {

        return null;
    }

    @Override
    public long getItemId(int arg0) {

        return 0;
    }

    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {

        if (position==0) {

            LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = inflater.inflate(R.layout.order_detail_item_header, null);
            txtHeader=(TextView) convertView.findViewById(R.id.header_textView);
            txtHeader.setText(getResources().getString(R.string.attachments));

        } else if (position>0) {

            LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = inflater.inflate(R.layout.order_attachments_item, null);
            txtPdfName=(TextView) convertView.findViewById(R.id.pdf_textView);
            txtPdfName.setText(attachments.get(position-1).getName());              
        }

        convertView.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {

                String name,url;
                Intent toAttachmentViewer = new Intent(OrderDetailActivity.this,AttachmentViewerActivity.class);

                if(attachments.get(0).getName()!=null) {

                    name=attachments.get(0).getName();

                } else {

                    name="";
                }

                if(attachments.get(0).getUri()!=null) {

                    url=attachments.get(position-1).getUri();
                } else {

                    url="";
                }

                toAttachmentViewer.putExtra("Name",name);
                toAttachmentViewer.putExtra("URL", url);
                ViewGroup listView = (ViewGroup) v.getParent();

                for(int i=1;i<listView.getChildCount();i++){

                    listView.getChildAt(i).equals(v);

                    if(listView.getChildAt(i).equals(v)){

                        toAttachmentViewer.putExtra("Name", attachments.get(i-1).getName());
                        toAttachmentViewer.putExtra("MasterId", attachments.get(i-1).getMastedId());
                    }
                }
                startActivity(toAttachmentViewer);
            }
        });
        return convertView;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:54:29.907

尝试使用 autoLink 在 TextView 上设置“android:focusable="false"”，以便将焦点放在 listitem 的 rootview 上，然后它可以注册点击而不是 textview。

请参阅：stackoverflow.com/questions/1121192/android-custom-listview-unable-to-click-on-items****

# python - Heroku 是否不再支持 Celery？

> ID：15265319
> 
> 赞同：13
> 
> 时间：2013-03-07T07:21:38.747
> 
> 标签：python, heroku, celery, amqp

我终于有了一些空闲时间，想将 Celery 添加到我在 Heroku 上的 Python/Flask 项目中。然而，几乎所有 Heroku 文档中提到的 Celery 都消失了。“Django 入门”中曾经有一篇教程的文章，但现在没有了。

我自己“只是做”会起作用吗？在 Heroku 上用作后端的好的 AMQP 插件是什么？

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2013-03-07T19:39:05.883

我是 Heroku 的 Python 所有者。

仍然完全支持 Celery。在我看来，Django 指南底部的文档已被删除，因为它与最新版本的 Celery (v3.0) 已过时并且相当不完整。

我目前正在撰写一篇新的[开发中心文章](https://devcenter.heroku.com/articles/celery-heroku)，该文章深入探讨了如何充分利用 Celery。它应该很快就会发布。

至于队列插件——我是[CloudAMPQ](https://addons.heroku.com/cloudamqp)的忠实粉丝。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T08:31:42.840

他们似乎已经更改了文档。不确定不再支持 celery，因为它只是一个 python 包，你可以安装它。

这是有关[如何开始使用 Django](https://devcenter.heroku.com/articles/django)的文档（没有我上次观看时提到 celery 的部分）。他们现在似乎使用 RQ 来做 celery 之前所做的事情：[Python 中的后台任务与 RQ](https://devcenter.heroku.com/articles/python-rq)。[你可能仍然会在这里](https://devcenter.heroku.com/articles/clock-processes-python)和[这里](https://devcenter.heroku.com/articles/cloudamqp)找到一些关于芹菜的东西，但这就是我发现的全部。

一般来说，我怀疑芹菜是否被简单地去除了。它会影响所有其他已经用 Celery 设置的应用程序。我认为您仍然可以使其工作，并且可能会从 Heroku 文档中找到一些文章。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-31T21:21:58.140

我认为 Celery 作为 Heroku 的后台任务存在问题。我们尝试创建这样的任务，它们在运行大约 20 分钟后占用了所有内存，即使在 Redis 或 RabbitMQ 上使用 DEBUG=False。更糟糕的是，内存永远不会被释放：每次我们必须重新启动 worker。相同的代码可以在裸 Linux 或带有 Foreman 的 Mac 上完美运行。它发生在非常简单的任务中，例如循环读取文本文件，写入 Django 模型。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-12-02T21:23:57.937

尽管我花了很长时间才弄清楚如何完成这项工作，但它确实非常简单。在您的 procfile 中，添加一个 celery 进程。它看起来像这样：

```
web: newrelic-admin run-program gunicorn -w 4 myapp.wsgi
celery: python manage.py celeryd -c 3 --beat 
```

然后，只需确保将 celery dyno 缩放到至少 1：

```
heroku ps:scale celery=1 
```

就这样。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-08-05T21:16:15.097

我们完全支持 Heroku 上的 celery。您可以在我命名您的工作进程并扩展它们时运行工作人员，并运行任何进程。至于使用什么作为后端，我们有各种各样的附加供应商可以通过 Rabbit、Redis 或其他方式支持这一点。

[您可以在https://devcenter.heroku.com/articles/celery-heroku](https://devcenter.heroku.com/articles/celery-heroku)在 devcenter 中找到完整指南。

# javascript - 如何将带日期的字符串转换为 Json 对象？

> ID：15265320
> 
> 赞同：1
> 
> 时间：2013-03-07T07:21:41.993
> 
> 标签：javascript, json, type-conversion

我想在我的 Javascript 中将一个字符串转换为 JSON 对象。当我转换为 Json 对象时，字符串中的日期完全改变了

这是我的字符串

```
var JsonData=[[2013-02-27,787],[2013-02-26,131],[2013-02-02,0],[2013-01-20,8],[2012-12-28,12]] 
```

我正在使用以下内容转换为 JSON 对象

```
var json = eval( JsonData ); 
```

然后我得到以下警报结果

```
1984,787,1985,131,2009,0,1992,8,1972,12 
```

谁能指导我？我该如何解决这个问题？

现在我得到以下错误

```
Timestamp: 3/7/2013 1:10:36 PM
Error: TypeError: this.proxy.getTime is not a function 
```

在我的javascript中的某个地方..所以我认为它是因为日期没有在Json Object中正确转换..是这样吗？有人可以指导吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:30:13.037

不要使用 eval()

使用**JSON.parse()**将字符串转换为 json 对象。另外，由于您的 JsonData 不是有效的 JSON，请也使用**JSON.stringify()**。

```
var JsonData = [[2013-02-27,787],[2013-02-26,131],[2013-02-02,0],[2013-01-20,8],[2012-12-28,12]];
JSONObject = JSON.parse(JSON.stringify(JsonData)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:27:27.030

```
<script>
var JsonData=[[2013-02-27,787],[2013-02-26,131],[2013-02-02,0],[2013-01-20,8],["2012-12-28,12"],["Fri May 04 2012 01:17:07 GMT-0700 (PDT)"]]
var json = eval( JsonData );
alert(json);
</script> 
```

然后我得到的结果是 1984,787,1985,131,2009,0,1992,8,2012-12-28,12,Fri May 04 2012 01:17:07 GMT-0700 (PDT)。所以我认为日期应该用双引号引起来。我希望这有帮助。

# objective-c - didStartMonitoringForRegion 被调用两次 startMonitoringForRegion

> ID：15265323
> 
> 赞同：4
> 
> 时间：2013-03-07T07:21:45.807
> 
> 标签：objective-c, core-location, cllocationmanager, mkcoordinateregion

我已经通过调用开始了区域监控`startMonitoringForRegion`。但是我发现`didStartMonitoringForRegion`被调用了两次也`didEnterRegion`被调用了两次。但我`startMonitoringForRegion`只打电话一次。我的代码

```
- (void) enableRegionMonitoring:(NSMutableDictionary *)locationInfoDic{

NSLog(@"started Loc Mon");
locMgr = [[CLLocationManager alloc] init];
[locMgr setDelegate:self];
NSString *locationId=[[NSString alloc]init];
double latitude=[[locationInfoDic objectForKey:@"lat"] doubleValue];
double longitude=[[locationInfoDic objectForKey:@"lon"] doubleValue];
if([locationInfoDic objectForKey:@"key"]){
    locationId=[locationInfoDic objectForKey:@"key"] ;
}else{
    locationId=@"NA";
}

CLLocationCoordinate2D myMonLocation = CLLocationCoordinate2DMake(latitude, longitude);
CLRegion *myRegion = [[CLRegion alloc]
                      initCircularRegionWithCenter:myMonLocation
                      radius:100
                      identifier:locationId];
[locMgr startMonitoringForRegion:myRegion
                          desiredAccuracy:kCLLocationAccuracyBest];

}

- (void)locationManager:(CLLocationManager *)manager didStartMonitoringForRegion:(CLRegion *)region{
NSLog(@"Region monitoring started\n%@",[region description]);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:50:17.770

尝试调试。如果您没有时间弄清楚，只需忽略 2nd `didEnterRegion`。即，如果`didEnterRegion`为同一区域连续调用两次，则只需忽略第二次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:35:46.320

```
[locMgr startMonitoringForRegion:myRegiondesiredAccuracy
        :kCLLocationAccuracyBest]; 
```

在这个方法之后为什么你不停止更新方法尝试调用停止更新方法。我认为这会对你有所帮助。

```
[locationManager stopUpdatingLocation]; 
```

# php - PHP 移动检测 Wordpress

> ID：15265327
> 
> 赞同：1
> 
> 时间：2013-03-07T07:22:07.040
> 
> 标签：php, wordpress, class

我在 Wordpress 安装中使用[Serbanghita 的 PHP Mobile Detect类。](https://github.com/serbanghita/Mobile-Detect)我的 header.php 文件中有以下内容：

```
<?php
include 'php/Mobile_Detect.php';
$detect = new Mobile_Detect();
?> 
```

当我将以下内容放在我的 single.php 文件中时，我收到一个关于非对象错误的调用：

```
<?php if ($detect->isMobile()) {
       //Do something
} ?> 
```

有任何想法吗？我无法将包含移动到我的 single.php 文件中，因为我需要在 header.php 中使用它，当然我不能将它复制到 single.php 文件中，因为那时我正在重新声明该类。

任何帮助，非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:36:09.337

$detect 变量在文件 single.php 的范围内不可用。

使用**全局 $detect**或首先通过调用**$detect = new Mobile_Detect();定义 $detect**

尽管如此，我还是应该警告你，污染全局范围很容易出现错误，并且强烈建议不要这样做。至少尽量减少全局变量的数量（例如，在类中包装功能？），使用唯一的名称（例如，为其添加前缀），或者更好地使用工厂类等高级技术。

# ruby-on-rails - 在 Rails 中查找两个文件之间的差异

> ID：15265328
> 
> 赞同：0
> 
> 时间：2013-03-07T07:22:12.817
> 
> 标签：ruby-on-rails, ruby

我当前的脚本：

```
old_ids = []
File.open("missing.txt","w") do |result|
  File.open('query_result.csv', "r") do |old_copy| 
    old_copy.each_line do |line|
      old_ids << line.chomp.to_i #add exisiting ids to array
    end
  end

  File.open('item_info', "r") do |new_copy|
    new_copy.each_line do |line|
      if !old_ids.include? line.split("\t")[0].chomp.to_i #find all ids in new file that do not exist in old file and add them to missing.txt
         result.puts line.split("\t")[0].chomp.to_i
         puts "Adding #{line.split("\t")[0].chomp.to_i}"
          end
        end
      end
    end 
```

如何重构它以提高效率。我解析的文件包含约 260 万条记录，因此按照书面说明，这需要很长时间才能执行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:10:59.937

最低悬的果实？`Array`用and替换你对and`Array#include`的使用：`Hash``Hash#key?`

```
old_ids = {}
File.open("missing.txt","w") do |result|
  File.foreach('query_result.csv') do |line|
    id = line.chomp.to_i
    old_ids[id] = id
  end

  File.foreach('item_info') do |line|
    id = line.split("\t")[0].chomp.to_i
    unless old_ids.key?(id)
      result.puts id
      puts "Adding #{id}"
    end
  end
end 
```

原因很简单：`Array#include?`每次查找给定值时都会扫描整个数组，总体复杂度为 O(n ^(2 )。)`Hash#key?`另一方面，计算给定值的哈希，然后执行查找以查看给定键是否存在于哈希表中。摊销时间复杂度接近 O(n)。

两者之间的简单测试用例（查找两个文件之间的公共行）产生：

```
$ time ruby include.rb
real    2m51.409s
user    2m51.246s
sys     0m0.138s 
```

相对

```
$ time ruby key.rb
real    0m0.092s
user    0m0.082s
sys     0m0.009s 
```

那是两个文件，每个文件 2 ^(16)行。在 10,000 行时，`include`仍然需要 5 秒，而`key?`全部需要 29 毫秒。

200 万行，`key?`耗时不到 4 秒。我认为我不能等待`Array#include?`实施完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:05:52.427

当您想要检测额外的 id 时，您离最佳解决方案并不远。您可以通过构建 Set 来加快查找速度，而不是将旧的 id 放入数组中。它更快。

```
old_ids = Set.new
File.open("missing.txt","w") do |result|
  File.open('query_result.csv', "r") do |old_copy| 
    old_copy.each_line do |line|
      old_ids.add(line.chomp.to_i) #add exisiting ids to Set
    end
  end

  File.open('item_info', "r") do |new_copy|
    new_copy.each_line do |line|
      if !old_ids.include? line.split("\t")[0].chomp.to_i #test if the id exists in the Set old_ids
         result.puts line.split("\t")[0].chomp.to_i
         puts "Adding #{line.split("\t")[0].chomp.to_i}"
        end
      end
    end
  end
end 
```

如果没有文件示例，我将无法测试。您的代码 (old_wmt_ids) 中有一个错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:09:51.570

看看[Diffy](https://github.com/samg/diffy)，这是一个很酷的用于计算文件之间差异的 gem。

# javascript - 如何防止来自客户端的 SQL 注入？

> ID：15265331
> 
> 赞同：-6
> 
> 时间：2013-03-07T07:22:25.940
> 
> 标签：javascript, jquery, mysql

有什么方法可以防止从客户端注入 sql。.ie 使用 jquery 或 javascript

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:26:42.973

您无法控制客户端，因此没有办法。

# reporting-services - 具有更改行组和列组的 SSRS 2012 报告

> ID：15265332
> 
> 赞同：1
> 
> 时间：2013-03-07T07:22:31.320
> 
> 标签：reporting-services

我在数据库中有下表：

```
 A    B    C    D
    ----------------
    A1   B1   C1   D1
    A2   B2   C2   D2
    A3   B3   C3   D3
    ...
    ... 
```

我想让用户生成一个报告，他可以在其中选择两个表格列，并将它们用作 X 和 Y 轴 - 即，获取具有相应值的记录**数作为矩阵中的详细信息**

在此示例中，用户选择列 A（在数据库中具有值 A1、A2 和 A3）和 C（在数据库中具有值 C1、C2、C3）分别作为 X 和 Y：

```
 C1   C2   C3
-----------------
A1 | 100  43   232
A2 | 232  12   23
A3 | 124  23   3434 
```

在本例中，用户分别选择 B 和 D 作为 X 和 Y：

```
 D1   D2   
--------------
B1 | 9    3   
B2 | 88   12   
B3 | 53   23   
B4 | 1    3 
```

其中标题中的值分别是 A、B、C、D 列的不同值。

我不知道这是否应该通过更改数据源、矩阵本身来完成，或者它可能是一个应该使用多维数据集解决的复杂问题。

你将如何实现这一点？

谢谢，哈雷尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T14:12:51.520

要在报告级别解决此问题，您可以设置允许这种情况发生的基于表达式的**组。**

我根据以下数据创建了一个示例：

![在此处输入图像描述](../Images/0894a3f049ef16503e4aa673a069ab73.png)

我设置了两个参数来控制在行和列级别使用哪些列：

![在此处输入图像描述](../Images/3a1a4b14f87b07fb6d139151d6069e1e.png)

对于行组和列组，我使用以下表达式进行分组，并显示在标题中。

排：

```
=Switch(Parameters!RowGroup.Value = "A", Fields!A.Value
    , Parameters!RowGroup.Value = "B", Fields!B.Value
    , Parameters!RowGroup.Value = "C", Fields!C.Value
    , Parameters!RowGroup.Value = "D", Fields!D.Value
    ) 
```

柱子：

```
=Switch(Parameters!ColumnGroup.Value = "A", Fields!A.Value
    , Parameters!ColumnGroup.Value = "B", Fields!B.Value
    , Parameters!ColumnGroup.Value = "C", Fields!C.Value
    , Parameters!ColumnGroup.Value = "D", Fields!D.Value
    ) 
```

最后，只需添加`CountRows()`到详细**文本框**以显示实体计数。报告看起来不错：

![在此处输入图像描述](../Images/eaed862fa65044e14a79c87cf8b172e5.png) ![在此处输入图像描述](../Images/bceb654d030a305138706e8a7321768a.png)

所以在报告级别上做也不错。希望这可以大致了解所涉及的内容以及您是否应该改为在数据集级别执行此操作。

# google-maps - 如何在谷歌地图 v3 中保存/更新编辑的折线

> ID：15265334
> 
> 赞同：2
> 
> 时间：2013-03-07T07:22:36.407
> 
> 标签：google-maps, polyline

我正在使用谷歌折线来绘制道路，因此我使折线可编辑以使其更精确。当我完成编辑时，我想使用 polyline.getPath() 来获取所有更新的段路径，但是结果仍然是旧的折线而不是编辑后的折线。我该怎么做？

更多的：

```
google.maps.event.addListener(polyline, 'capturing_changed', function(e) {
                       var path = this.getPath();
               console.log('capture event  '+path);
               for(i = 0; i < path.length; i++){
                            console.log("new point "+path.getAt(i));
                        }   
               console.log(e);

}); 
```

当我编辑折线时，我会得到这个事件，使用这个事件我可以看到更新的路径，但是这个更新的路径错过了许多重要的点。如果我使用更新路径上剩余的点来构建折线，则这条折线不是我之前编辑过的那条折线。

除了 capture_changed 事件，当我编辑折线时，set_at、insert_at、remove_at 永远不会触发我

# ssh - ssh 无法使用文件 ~/.ssh/config 中的 IdentityFile 配置

> ID：15265342
> 
> 赞同：10
> 
> 时间：2013-03-07T07:23:08.403
> 
> 标签：ssh, rsa, private-key

客户端：Mac 10.8，服务器：Ubuntu 10.04 LTS 64bit

我使用“ **ssh-keygen -t rsa** ”生成公钥/私钥。

首先，我输入：**ssh -i /Users/phenix/.ssh/poponet_rsa root@popo.net**，我可以使用私钥'poponet_rsa'登录服务器

接下来，我创建一个配置文件：**/Users/phenix/.ssh/config**，内容：

```
Host popo
    Hostname popo.net
    User root
    PreferredAuthentications publickey
    IdentityFile /Users/phenix/.ssh/poponet_rsa 
```

我输入**ssh root@popo.net**，终端问我密码。

接下来，我将**poponet_rsa**文件名更改为**id_rsa**，并输入**ssh root@popo.net**，好的，我登录了。

我的问题：**ssh 不能使用文件 ~/.ssh/config 中的 IdentityFile 配置，为什么？**

```
$ ssh -vvv root@popo.net
OpenSSH_5.9p1, OpenSSL 0.9.8r 8 Feb 2011
debug1: Reading configuration data /Users/phenix/.ssh/config
debug1: /Users/phenix/.ssh/config line 1: Applying options for popo.net
debug1: /Users/phenix/.ssh/config line 2: Applying options for popo.net
debug1: Reading configuration data /etc/ssh_config
debug1: /etc/ssh_config line 20: Applying options for *
debug2: ssh_connect: needpriv 0
debug1: Connecting to popo.net [111.111.111.111] port 22.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load "/Users/phenix/.ssh/id_rsa" as a RSA1 public key
debug1: identity file /Users/phenix/.ssh/id_rsa type -1
debug1: identity file /Users/phenix/.ssh/id_rsa-cert type -1
debug1: identity file /Users/phenix/.ssh/id_dsa type -1
debug1: identity file /Users/phenix/.ssh/id_dsa-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.3p1 Debian-3ubuntu7
debug1: match: OpenSSH_5.3p1 Debian-3ubuntu7 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.9
debug2: fd 3 setting O_NONBLOCK
debug3: load_hostkeys: loading entries for host "popo.net" from file "/Users/phenix/.ssh/known_hosts"
debug3: load_hostkeys: found key type RSA in file /Users/phenix/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys
debug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-rsa
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug2: kex_parse_kexinit: **too much init, i delete them.**
debug2: mac_setup: found hmac-md5
debug1: kex: server->client aes128-ctr hmac-md5 none
debug2: mac_setup: found hmac-md5
debug1: kex: client->server aes128-ctr hmac-md5 none
debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP
debug2: dh_gen_key: priv key bits set: 135/256
debug2: bits set: 468/1024
debug1: SSH2_MSG_KEX_DH_GEX_INIT sent
debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY
debug1: Server host key: RSA xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx
debug3: load_hostkeys: loading entries for host "popo.net" from file "/Users/phenix/.ssh/known_hosts"
debug3: load_hostkeys: found key type RSA in file /Users/phenix/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys
debug3: load_hostkeys: loading entries for host "111.111.111.111" from file "/Users/phenix/.ssh/known_hosts"
debug3: load_hostkeys: found key type RSA in file /Users/phenix/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys
debug1: Host 'popo.net' is known and matches the RSA host key.
debug1: Found key in /Users/phenix/.ssh/known_hosts:1
debug2: bits set: 516/1024
debug1: ssh_rsa_verify: signature correct
debug2: kex_derive_keys
debug2: set_newkeys: mode 1
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug2: set_newkeys: mode 0
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug2: key: /Users/phenix/.ssh/id_rsa (0x0)
debug2: key: /Users/phenix/.ssh/id_dsa (0x0)
debug1: Authentications that can continue: publickey,password
debug3: start over, passed a different list publickey,password
debug3: preferred publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Trying private key: /Users/phenix/.ssh/id_rsa
debug1: key_parse_private_pem: PEM_read_PrivateKey failed
debug1: read PEM private key done: type <unknown>
debug2: no passphrase given, try next key
debug1: Trying private key: /Users/phenix/.ssh/id_dsa
debug3: no such identity: /Users/phenix/.ssh/id_dsa
debug2: we did not send a packet, disable method
debug3: authmethod_lookup password
debug3: remaining preferred: ,password
debug3: authmethod_is_enabled password
debug1: Next authentication method: password
root@popo.net's password: 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-04-21T10:01:45.757

我在这里找到了我的问题的答案：[https](https://superuser.com/a/436015) ://superuser.com/a/436015 。

简而言之，`IdentitiesOnly yes`需要在主机或全局 SSH 客户端配置上指定，否则，也可能会尝试未指定的密钥，包括`ssh-agent`if one is running 中的密钥。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2019-05-30T14:33:04.457

我认为答案在于`.ssh/config`文件机制。

如果您尝试`ssh root@popo`，它应该可以工作。

该命令`ssh name@host`首先匹配`host`中的`Host`字段`.ssh/config`，而不是`HostName`子字段。

这让我困惑了好几个星期......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T10:29:43.927

如果您的 ~/.ssh/config 都在一行上（如您的帖子所建议的那样），如下所示：

```
Host popo Hostname popo.net User root PreferredAuthentications publickey IdentityFile /Users/phenix/.ssh/poponet_rsa 
```

那就行不通了。您需要将每个指令拆分到自己的行中，如下所示：

```
Host popo
Hostname popo.net
User root
PreferredAuthentications publickey
IdentityFile /Users/phenix/.ssh/poponet_rsa 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-10T09:43:04.560

我不认为这个答案对问题的作者来说是真实的，但谷歌在第一页返回了这个主题。

我有类似的问题。日志中的关键行：

```
debug3: Incorrect RSA1 identifier
debug3: Could not load "/Users/phenix/.ssh/id_rsa" as a RSA1 public key 
```

所以 ssh 不知道你的 poppet.key。在我的情况下是文件名打印错误。

我建议在 ~/.ssh/config 中仔细检查密钥名称。

# watir - 检查 watir 中的链接属性 - 错误为“asserts_exists”？

> ID：15265343
> 
> 赞同：0
> 
> 时间：2013-03-07T07:23:10.813
> 
> 标签：watir

这是我想使用 watir 检查的链接。

代码在`<a>`标签内：

```
<a title="logout" href="admin/logout.aspx" Logout> 
```

我包含的代码

```
ie.link(:href, "admin/logout.aspx").click 
```

执行期间出错

```
'assert_exists':Unable to locate the element,using {:tag name=}["a"],:href=>"admin/logout.aspx"}
(watir::Exception::Unknown object Exception) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:29:06.850

据我记得，Internet Explorer 将所有相对链接（“admin/logout.aspx”）转换为绝对链接（“ [http://site.com/admin/logout.aspx](http://site.com/admin/logout.aspx) ”）。

试试这个：

```
ie.link(:href, /logout/).click 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T11:41:27.017

```
ie.a(:text => "Logout").when_present.click 
```

# php - 如何跟踪嵌入 Facebook 页面的链接？

> ID：15265344
> 
> 赞同：1
> 
> 时间：2013-03-07T07:23:13.253
> 
> 标签：php, javascript, codeigniter, google-analytics

我想从我的 facebook 页面跟踪时事通讯标签。我将此代码放在我网站的源代码中：

```
<head>

<script type="text/javascript">

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-XXXXXXX-X']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

</script>

 </head>
 <body>

    <script type="text/javascript">
           var fb_param = {};
           fb_param.pixel_id = 'xxxxxxxxxx';
           fb_param.value = '0.00';
           (function(){
             var fpw = document.createElement('script');
             fpw.async = true;
             fpw.src = (location.protocol=='http:'?'http':'https')+'://connect.facebook.net/en_US/fp.js';
             var ref = document.getElementsByTagName('script')[0];
             ref.parentNode.insertBefore(fpw, ref);
           })();
   </script>

   <noscript>
        <img height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/offsite_event.php?id=xxxxxxxxx&amp;value=0" />
   </noscript>

 </body> 
```

足够的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-25T17:19:56.470

只要您的来源中有 Google 代码，Google 就会自动跟踪引荐。如果您可以修改 Facebook 页面中的嵌入链接，您可能需要考虑将 _utm 变量添加到 url。Google 会自动从 url 中识别出来，并在您的 GA 帐户中添加这些参数。要构建或获取有关 _utm 变量的更多信息，请访问此处： https: [//support.google.com/analytics/answer/1033863](https://support.google.com/analytics/answer/1033863)

我会将 utm_source 设置为 facebook，并将 utm_medium 设置为 newsletter-tab：

```
http://www.example.com/?utm_source=facebook&utm_medium=newsletter-tab 
```

# jquery - Jquery 设置图像尺寸属性 - Css 调整大小的图像。

> ID：15265349
> 
> 赞同：-1
> 
> 时间：2013-03-07T07:23:28.387
> 
> 标签：jquery, css, twitter-bootstrap, webkit

我在使用 css 缩放图像时使用 twitter bootstrap 响应式。例如图像有 100% 的宽度，然后它们的高度是自动的。

问题是当图像没有尺寸时，WebKit 无法处理动画（特别是页面滚动）。

我将如何编写一个 jquery 函数以在页面开头运行它：对于每个图像，获取其实际的屏幕图像大小，然后将图像属性设置为这些值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:46:28.497

获取尺寸并使用 jQuery .css() 设置它们

```
$('.your-img').each(function(){
var img = $(this);
//get dimensions
var h = img.height();
var w = img.width();

//apply dimensions
img.css({
'width': w,
'height': h
});
}); 
```

# r - 如何通过属性从 R 中的 shapefile 中消除某些区域并创建新的 shapefile？

> ID：15265351
> 
> 赞同：5
> 
> 时间：2013-03-07T07:23:37.217
> 
> 标签：r, subset, arcgis, shapefile

我已经有一段时间了，并且取得了一些成功，但是在重写文件时，我没有。

我正在使用的 shapefile 是地铁和小城市区域的多边形 shapefile，但我对小城市区域不感兴趣，所以我正在使用 R 中的 shp 尝试从我的地图中消除它们。

[数据源](http://www.census.gov/cgi-bin/geo/shapefiles2010/layers.cgi)

要下载正确的文件，请确保在“Metropolitan/Micropolitan Statistical Area (2010)”下选择“All States in one national file”

这是我到目前为止所拥有的：

```
library(maptools)
met=readShapeSpatial("tl_2010_us_cbsa10.shp")
met=met@data 
```

子集之前：

```
NAMELSAD10      LSAD10
Anchorage, AK Metro Area   -  M1 
Clarksdale, MS Micro Area    - M2
Richmond, VA Metro Area   -  M1
Big Spring, TX Micro Area  -   M2
Dallas-Fort Worth-Arlington, TX Metro Area  -   M1
Rio Grande City-Roma, TX Micro Area  -   M2 
```

然后：

```
submet=subset(met, LSAD10 == "M1") 
```

子集之后：

```
NAMELSAD10 LSAD10
Anchorage, AK Metro Area   -  M1
Richmond, VA Metro Area  -   M1
Dallas-Fort Worth-Arlington, TX Metro Area   -  M1
Vineland-Millville-Bridgeton, NJ Metro Area  -   M1
Casper, WY Metro Area   -  M1
Cheyenne, WY Metro Area   -  M1 
```

然后：

```
writeSpatialShape(submet, "tl_2010_us_ma10", factor2char = TRUE) 
```

使用此代码，我已经能够成功消除指定为“M1”的 Micropolitan 区域，但是当我尝试重写文件时，它并没有出现在我的 wd 中。

我也尝试使用包“shapefiles”来完成这项工作，但成功率更低。所以在这件事上的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T08:24:38.403

当您这样做时，`met=met@data`您将失去空间方面，`met`而只是获得普通的旧数据框。

然后你可以对那个数据框进行子集化，然后你尝试`writeSpatialShape`它。哇。该`submet`对象没有任何多边形或坐标。`writeSpatialShape`应该呕吐。但它设法将它整个吞下并保持下来。看一下这个：

```
> writeSpatialShape(1,"foo.shp")
> 
```

正如您所观察到的，没有创建 shapefile。哇，这是非常糟糕的错误处理。

两种解决方案： 1，处理实际对象而不是数据组件，如下所示：

```
met = readOGR(dir,name)
submet = met[met$thing=="whatever",]
writeOGR(submet,dir,newname,"ESRI Shapefile") 
```

2，使用`package:rgdal`它`read/write|OGR`不仅可以处理投射物，而且如果你试图让它吃一些难吃的东西，它会严重生病：

```
> writeOGR(1,".","foo","ESRI Shapefile")
Error: inherits(obj, "Spatial") is not TRUE 
```

# php - 如何使用正则表达式获取具有给定属性的 HTML 中标签的内容？

> ID：15265353
> 
> 赞同：-2
> 
> 时间：2013-03-07T07:23:48.027
> 
> 标签：php, html, regex

我希望在 HTML 文件中获取标签之间的所有内容，如下所示`a`：`class` `bc-de fg`

```
<a class="bc-de fg"> XXXXXXXXXXXXX </a> 
```

所以我写了下面的正则表达式：

```
$regexp = “&lt;a\wclass="bc\wde">(.*?)<\/a>” 
```

这行不通。我是正则表达式的新手，所以我正在努力进行更多练习。

如何更正此正则表达式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:30:48.917

尝试这个 ：

```
$str  = '<a class="bc-de fg">Testing</a>';

preg_match('/<a class="bc\-de\s*fg">(?P<link>.*)<\/a>/',$str,$matches);

echo "<pre>";
print_r($matches); 
```

您将获得链接`$link = $matches['link'];`

这将为您提供更准确的结果：

`preg_match('/<a.*class="bc\-de\s*fg".*>\s*(?P<link>.*)\s*<\/a>/',$str,$matches);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:30:54.333

尝试这个：

```
$regexp = '/<a class="bc-de fg">(.*)<\/a>/';
preg_match_all($regexp, $subject, $matches); 
```

你的答案将在`$matches`. 它应该适用于您刚才提到的场景。但如果是这种情况，如果属性顺序发生变化或分配了更多类，则此正则表达式将不起作用。最好的方法是使用 DOM 而不是使用正则表达式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:32:11.683

尝试`[^(<a\W*class="bc\-de fg"\W*>)+(</a>)+]`您可以使用 not`^`运算符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:27:48.850

尝试类似的东西`$regex = ":<a class="bc-de fg">(.*?)</a>:mi";`

*   我使用了分隔符`:`所以我不必一直逃避正斜杠
*   `.`匹配除换行符 \r 和 \n 之外的任何单个字符。
*   `*?`重复上一项零次或多次。

这是一个简单的[备忘](http://www.addedbytes.com/download/regular-expressions-cheat-sheet-v2/png/)单，您可能会觉得有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T07:28:59.560

`regex`过度使用 html 或任何嵌套结构被认为是一种不好的做法。改为使用`DOM`。

您在正则表达式中的问题是转义字符（将正则表达式字符串放在单引号之间）。而且您也没有开始和结束正则表达式字符（`#...#`或`\...\`）。

# c# - 实现自定义回滚时如何通知问题？

> ID：15265356
> 
> 赞同：2
> 
> 时间：2013-03-07T07:24:05.403
> 
> 标签：c#, error-handling

我正在使用，我需要在我的方法`ADO.NET EF`中实现某种自定义回滚。`Save()`逻辑是这样的

*   我有一个调用`OpenFileDialog`的第一步`Save()`是检查是否有选定的图像以及是否有将选定的图像复制到新位置。
*   然后我设置实体的属性，包括图片名称（这是我选择首先复制图像的原因）并使用此方法检查是否没有重复唯一值：`HasDuplicatingEntity(entity)`
*   如果复制过程顺利并且没有具有相同唯一值的实体，那么我保存实体本身：`Save(entity)`
*   如果出现问题，`Save(entity)`我只需要删除以前复制的图像（如果有的话），就是这样。

实际的实现是这样的：

```
try
{
  SaveImage();
  if(HasDuplicatingEntity(entity))
  {  
    //Show message to the user
    return false;
  }
  Save(entity);
}
catch
{
  //Log the exception and show message
  //Delete the image if there is such
} 
```

出现的问题是，如果我尝试使用所选图像保存新实体但`HasDuplicatingEntity(entity)`返回 true。然后使用当前的逻辑，我只是​​向用户显示已经有一个具有相同唯一值的实体，然后只返回 false，在选择图像然后复制的情况下，我的文件系统中会留下一个未使用的图像.

这引出了我的确切问题。我有一个方法可以在出现问题时删除图像，但它在`catch`子句中被调用。现在，当我看到在另一个地方可能需要删除图像时，我看到了两个选项 - 只需从以下位置调用该方法`if`：

```
if(HasDuplicatingEntity(entity))
      {  
        //Show message to the user
        //Delete Image
        return false;
      } 
```

这有点合乎逻辑，但除了方法调用之外，我有一些检查以确定是否确实存在复制的图像，因为图像不是必需的，这将导致几行重复代码。另一种选择是抛出异常并转到`catch`我已经处理此问题的子句，但这意味着更改当前管理此情况的方式。这个确切的部分：

```
if(HasDuplicatingEntity(entity))
      {  
        //Show message to the user
        return false;
      } 
```

是继承的，我没有太多经验，所以我不想把好事变成坏事，所以我想知道哪种方法是处理这个问题的正确方法。

# html - 导航以较低的分辨率转到下一行

> ID：15265358
> 
> 赞同：1
> 
> 时间：2013-03-07T07:24:09.960
> 
> 标签：html, css

这是CSS：

```
#module{position: relative; z-index: 1001; width: 1024px; margin: 0 auto; display: block;}
#module:after{clear: both; display: block; content: "."; line-height: 0; height: 0;    visibility: hidden; overflow: hidden;}
.top-menu{display: -moz-box; margin: 0; padding: 0; clear: both;}
.top-menu ul{float: left; list-style: none; background: #00AAAA; margin: 0; padding: 0; display: inline;}
.top-menu ul li{display: inline; margin: 0; padding: 0;}
.top-menu ul li a{display: block; float: left; width: 139px; margin: 0; padding: 6px 0; font: 20px "Consolas, Calibri, Arial"; text-align: center; border-right: 1px solid 006666; color: #ffffff; text-decoration: none;}
.top-menu ul li a.last{width: 43px;}
.top-menu ul li a:hover{background: #006666;}
.top-menu ul li a.active, .top-menu ul li a.active:hover{background: #000000;} 
```

这是html：

```
<div class="top-menu" id="module">
<ul>
<li><a class="active" href="#">Home</a></li>
<li><a href="#">Link1</a></li>
<li><a href="#">Link2</a></li>
<li><a href="#">Link3</a></li>
<li><a href="#">Link4</a></li>
<li><a href="#">Link5</a></li>
<li><a href="#">Link6</a></li>
<li><a class="last" href="#">?</a></li>
</ul>
</div> 
```

我在降低分辨率时遇到了这个问题，它出现在下一行（最后一行）。

# iphone - 第二次尝试时在 CellForRowAtIndex 之后加载 viewDidAppear

> ID：15265363
> 
> 赞同：1
> 
> 时间：2013-03-07T07:24:31.047
> 
> 标签：iphone, ios, objective-c

在我第一次加载时，一切都很好。这是我的 NSlog

```
2013-03-07 09:15:57.289 SAMPLE[10566:207] -->Starting viewDidLoad
2013-03-07 09:15:57.775 SAMPLE[10566:207] -->Starting viewDidAppear
2013-03-07 09:15:58.518 SAMPLE[10566:207] all done!
2013-03-07 09:15:58.518 SAMPLE[10566:207] stories array has 4 items
2013-03-07 09:15:58.527 SAMPLE[10566:207] -->Starting CellForRowAtIndex 
```

但是，当我单击导航中的后退按钮并再次单击视图时，它会挂起，直到填充单元格。请参阅下面的 NSlog

```
2013-03-07 09:16:06.252 SAMPLE[10566:207] -->Starting viewDidLoad
2013-03-07 09:16:06.309 SAMPLE[10566:207] -->Starting CellForRowAtIndex
2013-03-07 09:16:07.019 SAMPLE[10566:207] -->Starting CellForRowAtIndex
2013-03-07 09:16:07.679 SAMPLE[10566:207] -->Starting CellForRowAtIndex
2013-03-07 09:16:08.198 SAMPLE[10566:207] -->Starting CellForRowAtIndex
2013-03-07 09:16:09.242 SAMPLE[10566:207] -->Starting viewDidAppear 
```

我的 viewDidAppear 有以下内容。

```
- (void)viewDidAppear:(BOOL)animated {
    NSLog(@"-->Starting viewDidAppear");   

     [super viewDidAppear:animated];

    if ([[xmlParser branch] count] == 0) {
         [self loadDatafromServer];   // Goes and runs my XML Parser and fill the array.

    }
         [self loadBranchs];  // This just loads my annotations for my map
  [self.tableView reloadData];       
} 
```

这里有任何想法。正如我所说，她第一次加载完美，但如果用户返回并进入它首先填充单元格导致延迟。我希望它打开视图然后填充。指示器将显示它们然后加载。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:35:56.680

不要在 viewDidAppear 中实现该任务，因为此方法在呈现视图之前会执行与其相关的附加任务。所以延迟。所以最好在 viewWillAppear 方法中实现它。

```
 - (void)viewWillAppear:(BOOL)animated {

     [super viewWillDidAppear:animated];

        if ([[xmlParser branch] count] == 0) {
             [self loadDatafromServer];   // Goes and runs my XML Parser and fill the array.

        }
             [self loadBranchs];  // This just loads my annotations for my map
      [self.tableView reloadData];       
    } 
```

希望它可以帮助你:)

# variables - 如何将变量名称及其值读入列中？

> ID：15265367
> 
> 赞同：0
> 
> 时间：2013-03-07T07:24:45.067
> 
> 标签：variables, dynamic, sas

使用 sas 获取变量的名称及其值，将它们放入另一个数据集的列中

```
data 1
var1 var2 var3
1 2 3
2 3 1

data 2
no var4
1 var1= 1, var2= 2, var3=3
2 var1=2, var2= 3, var3= 1 
```

我希望将数据 1 转换为数据 2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T13:50:44.447

假设您不想对变量名称进行硬编码，下面的代码应该可以工作。

```
data have;
input var1 var2 var3;
cards;
1 2 3
2 3 1
;
run;

data want;
set have;
length var4 $50;
array vars{*} var1--var3;
do i=1 to dim(vars);
if i=1 then var4=cats(vname(vars{i}),"=",vars{i});
else call cats(var4,",",vname(vars{i}),"=",vars{i});
end;
drop i;
run; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-21T18:53:19.630

如果你不想“知道”变量名，你可以使用一些文件魔法。

```
filename FT49F001 dummy; 
data new;
   set sashelp.class;
   file FT49f001;
   put (_all_)(+(-1) ', ' =) @;
   length newvar $512; 
   newvar = substr(_file_,3);
   put; 
   run; 
proc print; 
   run; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:52:47.010

你在寻找这样的东西吗？

```
DATA data1;
INPUT var1 var2 var3;
CARDS;
1 2 3 
2 3 1 
;
RUN; 

data data2;
set data1;
no=_N_;
var11= catx("= ","var1",var1);
var21= catx("= ","var2",var2);
var31= catx("= ","var3",var3);
var4= catx(", ",var11,var21,var31);
drop var1 var2 var3 var11 var21 var31 ;
run; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T16:22:41.620

基思代码的一个更简单的版本，避免了 IF：

```
data have;
input var1 var2 var3;
cards;
1 2 3
2 3 1
;
run;

data want;
set have;
array vars var1-var3;
array varns $ varn1-varn3;
do i = 1 to dim(vars);
  varns[i] = cats(vname(vars[i]),'=',vars[i]);
end;
var4 = catx(',', of varns[*]);
keep var4;
run; 
```

# html - ASP.NET MVC3 中的标题样式

> ID：15265370
> 
> 赞同：0
> 
> 时间：2013-03-07T07:24:53.703
> 
> 标签：html, css, ribbon

我在这里有一张图片来显示我的问题 ![在此处输入图像描述](../Images/4979783a1bbd03c0b9f3f57ff454dfef.png)
我希望在重叠的标题下方有一个阴影。这在 asp.net mvc3 的 CSS 中可能吗？
这是一个演示它的[小提琴。](http://jsfiddle.net/23Fzd/)

我的**Hmtl**

```
<div class="postContainer">
        <div class="postTitle">Title</div>
        <p align="center">body</p>
    </div> 
```

我的**CSS**

```
.postTitle
{
    margin:5px auto auto -10px;
    text-align:left;
    width:280px;
    height:35px;
    font-size:20px;
    font-family:Arial;
    padding:5px 0px 5px 30px;
    background-color:green;
    color:White;
    font-weight:400;
    position:relative;
}

.postContainer
{
    width:300px;
    margin: 0px 0px auto 0px;
    border:1px solid black;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T07:31:04.533

添加这些规则，它将起作用。

![最终结果](../Images/b0a1f55d1c447e84504415e12f7f4593.png)

[参见 jsFiddle](http://jsfiddle.net/cC5C7/)

```
.postTitle:before {
    content:"";
    block:display;
    position:absolute;
    width:15px;
    height:15px;
    background-color:#000;
    left:4px;
    bottom:-10px;
    -moz-transform:rotate(60deg);
    -webkit-transform:rotate(60deg);
    -o-transform:rotate(60deg);
    -ms-transform:rotate(60deg);
    transform:rotate(60deg);
    z-index:-1;
}
.postContainer {
    background-color:#FFF;
} 
```

这是实际绘制的内容，我们将 z-index 设置为负值，标题和正文都位于折叠的顶部。这就是为什么我们需要将背景颜色设置为白色。

![解释](../Images/aff05689d6a10948e05f0760f85038a1.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T08:04:46.637

也就是所谓的`Ribbon`。

您可以使用此站点生成功能区

[**http://www.css3d.net/ribbon-generator/**](http://www.css3d.net/ribbon-generator/)

它为您提供了`generated code`可以轻松添加到元素中的内容。

# c# - 修改新收藏而不触及原始收藏

> ID：15265378
> 
> 赞同：2
> 
> 时间：2013-03-07T07:25:43.730
> 
> 标签：c#, generics, collections, deep-copy

我的目标是在不触及原始收藏的项目的情况下，获取一份从中删除指定项目的收藏副本。我有以下课程：

```
public class Foo
{
    public string Name { get; set; }
} 
```

我正在做的操作是：

```
 var collection = new Collection<Foo>
                         {
                             new Foo {Name = "Name1"},
                             new Foo {Name = "Name2"},
                             new Foo {Name = "Name3"},
                             new Foo {Name = "Name4"}
                         };
    var newCollection = new Collection<Foo>(collection);

    Foo f = collection.FirstOrDefault(x => x.Name == "Name2");
    if (f != null)
    {
        newCollection.Remove(f);
    } 
```

即我正在从“newCollection”中删除该项目，但问题是以下行：

```
newCollection.Remove(f); 
```

也从原始集合中删除该项目，即从“集合”对象中。我只想修改“newCollection”而不是“collection”。我怎样才能做到这一点？以下行不是在做深拷贝：

```
 var newCollection = new Collection<Foo>(collection); 
```

如果是这样，那么为什么原始对象会受到影响？

我知道我也可以通过这条线实现我的目标：

```
var newCollection = collection.Where(x => x.Name != "Name2"); 
```

但我对上面发生的删除东西和深拷贝的东西进退两难。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:31:58.447

This is because of the behaviour of the [`Collection<T>(IList<T>)` constructor](http://msdn.microsoft.com/en-us/library/ms132401.aspx):

> The elements of the list are not copied. The list is wrapped by the collection, so that subsequent changes to the elements of the list are visible through the Collection.

If you want a shallow copy of the collection¹, you could use `List<T>` instead:

```
List<Foo> newCollection = new List<T>(collection); 
```

(It's a little odd to see `Collection<T>` used like this at all. It's normally used as the *base* class for other generic collections.)

* * *

¹ It's a shallow copy because it's just copying the value of each element as a reference, rather than cloning each `Foo` object. If you wrote:

```
newCollection[0].Name = "Hello!";
Console.WriteLine(collection[0]); 
```

... it would still print "Hello!". Creating a wrapper around an existing collection isn't really creating a copy at all, shallow *or* deep.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:29:17.177

You need to clone it, the newCollection is only a reference to the original collection.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:31:16.310

`Collection<Foo>(collection)` wrapps only the provided collection, so that any changes to the collection also effect the original collection.

You should use a `List<Foo>` to do what you want, cause constructor of `List<T>(IEnumerable<T>)` copies the values from the original collection.

```
var collection = new Collection<Foo>
                         {
                             new Foo {Name = "Name1"},
                             new Foo {Name = "Name2"},
                             new Foo {Name = "Name3"},
                             new Foo {Name = "Name4"}
                         };
    var newCollection = new List<Foo>(collection);

    Foo f = collection.FirstOrDefault(x => x.Name == "Name2");
    if (f != null)
    {
        newCollection.Remove(f);
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:31:30.670

You could try doing this instead.

```
 var newCollection = new Collection<Foo>();

collection.ToList().ForEach(x => newCollection.Add(x)); 
```

# nfc - P2P 中的 NDEF (LLCP)

> ID：15265381
> 
> 赞同：2
> 
> 时间：2013-03-07T07:25:52.777
> 
> 标签：nfc, ndef, nfc-p2p

我试图了解我交换过联系人的两部 NFC 手机之间的通信。

所以我得到了：

```
B2 4D DD D5 07 03 13 20 00 10 02 00 00 00 D0 D2 0C C1 74 65 78 74 2F 78 2D 76 43 61 72 64 42 45 47 49 4E 3A 56 43 41 52 44 0D 0A 56 45 52 53 49 4F 4E 3A 32 2E 31 
```

B24D 是 SyncCode，DD 是 LEN，D5 是 CMD0，07 是 CMD1（它是 DEP_RES），03 是 PFB。没关系。

所以，现在我们有了所有其他字节：

```
13 20 00 10 02 00 00 00 D0 D2 0C C1 74 65 78 74 2F 78 2D 76 43 61 72 64 42 45 47 49 4E 3A 56 43 41 52 44 0D 0A 56 45 52 53 49 4F 4E 3A 32 2E 31 
```

这些字节是一个 LLCP I PDU。

13 20 00 是 DSAP (0x04)、PTYPE (0x0C)、SSAP (0x20) 和序列 (0x00)。

所以现在我们只有数据字节。

```
10 02 00 00 00 D0 D2 0C C1 74 65 78 74 2F 78 2D 76 43 61 72 64 42 45 47 49 4E 3A 56 43 41 52 44 0D 0A 56 45 52 53 49 4F 4E 3A 32 2E 31 0D 0A 4E 3A 3B 
```

我们可以很容易地理解 NDEF 从 D2 开始（D2 是标志，0C 是类型长度，...）

那么问题来了，这些DATA的第一个字节是什么？

```
10 02 00 00 00 D0 
```

这就像一个初始化，我认为 10 是版本号，而 D0 是长度。但是这个初始化来自什么文档？我没有在任何 NFC 论坛文档中找到信息。

![有通讯](../Images/4878e0abb62b1a744bcc1a40dca11456.png)

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:13:48.700

好的，经过几个小时的谷歌搜索，我在我的问题中找到了答案。

当通过 LLC 协议传输 NDEF 消息时，会有一个 SNEP 层。

所以 SNEP 标头是：版本 - 放置 - 长度（4 个字节）

就我而言，版本 1.0 (0x10)、Put (0x02) 和长度 D0 (0x00 0x00 0x00 0xD0)。

# maven - maven插件开发：获取集成测试状态

> ID：15265386
> 
> 赞同：0
> 
> 时间：2013-03-07T07:26:21.200
> 
> 标签：maven, maven-plugin

我正在开发一个 maven 插件，用于在预集成测试阶段实例化和启动 vmware vapp 模板，确定集成测试的 IP，并在集成测试后阶段取消部署和删除 vapp。但是：我只想在所有集成测试成功后删除 vapp。

有什么方法可以在我的插件上下文中获取 surefire 或 failsafe 插件的状态？

感谢您的任何提示。

编辑1：

现在使用故障安全插件的 VerifyMojo 中的代码来稍后检查故障安全结果。但我仍在寻找更好的方法。没有像项目 API 这样的构建上下文吗？

```
 public void verify() throws IOException, XmlPullParserException {
    FileInputStream fos = new FileInputStream(summaryFile);
    BufferedInputStream bos = new BufferedInputStream(fos);
    String encoding;
    if (StringUtils.isEmpty(this.encoding)) {
        getLog().warn(
                "File encoding has not been set, using platform encoding "
                        + ReaderFactory.FILE_ENCODING
                        + ", i.e. build is platform dependent!");
        encoding = ReaderFactory.FILE_ENCODING;
    } else {
        encoding = this.encoding;
    }
    Reader w = new InputStreamReader(bos, encoding);
    FailsafeSummaryXpp3Reader reader = new FailsafeSummaryXpp3Reader();
    final FailsafeSummary summary = reader.read(w);
    failsafeResult = summary.getResult();
    w.close();
    bos.close();
    fos.close();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:40:40.193

不能按照你说的做吗？

1.  在集成测试之前创建/调用一个目标，以便通过将目标绑定到`pre-integration-test`.
2.  在集成测试运行后创建/调用目标，以便通过将目标绑定到`post-integration-test`.

这完全按照您在问题中的描述。

如果您的集成测试失败，步骤 2) 将不会执行，因此，vapp 将不会被取消部署/删除。

# javascript - sahi - 动态表

> ID：15265391
> 
> 赞同：1
> 
> 时间：2013-03-07T07:26:34.193
> 
> 标签：javascript, testing, automation, sahi

我试图弄清楚如何找到特定文本值所在的行号（它是一个动态创建的表，所以如果删除/添加某些内容，行号会改变。）然后我想从中获取文本该行中的一列（始终相同 [5]），将其保存到变量中，然后对保存的文本执行断言。我在这里看到了一些代码，它允许我循环遍历表格的行，但是我还没有看到循环遍历表格行直到找到特定内容的代码，我见过的所有示例总是到最后有问题的表。

任何指针表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T11:39:42.670

您可以使用 sahi API _near 来唯一地查找元素。

您可以按照网址： [http ://sahi.co.in/w/sahi-api-examples](http://sahi.co.in/w/sahi-api-examples)

# c# - 在 SL ComboBox 上使用 CollectionView 刷新时 SelectedItemIndex 不匹配

> ID：15265395
> 
> 赞同：3
> 
> 时间：2013-03-07T07:26:45.123
> 
> 标签：c#, .net, silverlight, combobox, silverlight-5.0

如果你有一个绑定到 CollectionView 的 ComboBox。在该 CollectionView 上发出 REFRESH 并过滤掉某些项目，从而更改所选项目的位置并将 Collection 的大小减小到 SelectedItemIndex 以下。然后它使组合框处于不可用状态。从下面的示例

*   按下设置选定项目的按钮
*   然后我在collectionview上发出刷新
*   视觉上一切看起来都很棒......因为在 Combobox 中，您看到 5 作为所选项目
*   单击组合框，SL 崩溃并出现恼人的错误

我将它追溯到 ComboBox 中的一个部分，在打开它时它会将 SelectedItemIndex 传递给方法 SetContentPresenter。但是 SelectedItemIndex 是错误的，所以它崩溃了:-(

这是我的视图模型代码

```
 public class MainPageViewModel : INotifyPropertyChanged
{
    public ObservableCollection<DataObject> ItemSource;
    public ICollectionView CollectionView { get; set; }

    public MainPageViewModel()
    {
        ItemSource = new ObservableCollection<DataObject>();

        var source = new CollectionViewSource();

        for (int i = 0; i < 10; i++ )
        {
            ItemSource.Add(new DataObject(){ Id = i, Description = i.ToString()});
        }

        Filters = new List<string>();
        source.Source = ItemSource;
        CollectionView = source.View;

        CollectionView.Filter = (x) =>
            {
                if (Filters.Count == 0)
                    return true;

                return  Filters.Contains((x as DataObject).Description);
            };

    }

    public event PropertyChangedEventHandler PropertyChanged;

    internal void ButtonPushed()
    {
        SelectedObject = ItemSource.First(x => x.Description == "5");
        Filters.Add("1");            
        Filters.Add("5");
        CollectionView.Refresh();
    }

    public List<string> Filters
    {
        get;
        set;
    }

    DataObject _SelectedObject;
    public DataObject SelectedObject
    {
        get
        {
            return _SelectedObject;
        }
        set
        {
            if (_SelectedObject != value)
            {
                _SelectedObject = value;

                if (PropertyChanged != null)
                    PropertyChanged(this, new PropertyChangedEventArgs("SelectedObject"));
            }
        }
    } 
```

型号代码

```
public class DataObject
{
    public int Id { get; set; }
    public string Description { get; set; }

    public override string ToString()
    {
        return Description;
    }
} 
```

查看代码

```
<StackPanel x:Name="LayoutRoot" Background="White">
    <ComboBox ItemsSource="{Binding CollectionView}" SelectedItem="{Binding SelectedObject, Mode=TwoWay}"></ComboBox>
    <Button Content="Run Test" Click="Button_Click_1"></Button>
</StackPanel> 
```

代码背后

```
public partial class MainPage : UserControl
{
    public MainPage()
    {
        InitializeComponent();
        this.Loaded += MainPage_Loaded;
    }

    void MainPage_Loaded(object sender, RoutedEventArgs e)
    {
        this.DataContext = new MainPageViewModel();
    }

    private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        var vm = DataContext as MainPageViewModel;

        Dispatcher.BeginInvoke(() =>vm.ButtonPushed());
    }
} 
```

我最终在我的项目中解决了这个问题，没有对组合框 selecteditem 进行双向绑定，而是使用 CollectionView 上的 CurrentItem 作为我的 VM 和组合框之间的通信管道。这样，我可以在发出刷新之前使当前项目为空，然后我可以设置保持组合框处于一致状态的当前项目。

在应用程序中，此组合框是级联组合框实现的一部分。因此，在另一个组合框中选择一个项目会导致另一个组合框被过滤掉，但已经选择的项目可能仍然是一个可行的选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-24T13:23:31.027

问题似乎是您已将绑定的 SelectedItem 设置为特定的数据对象，然后从列表中删除了该对象。我看不到 ComboBox 还会做什么，除了抛出一个错误，因为它的状态已经无效。所以我不认为这是一个 ComboBox 问题。

我要做的是在 Refreshing 之后查看 SelectedObject 是否仍然是有效对象。如果不是，则将其从列表中删除。然后你不会得到错误。

```
 internal void ButtonPushed() {
        SelectedObject = ItemSource.First(x => x.Description == "5");
        Filters.Add("1");
        Filters.Add("5");
        CollectionView.Refresh();
        ValidateSelectedDataObject();
    }

    public void ValidateSelectedDataObject() {
        DataObject currentSelectedItem = this.SelectedObject;
        this.SelectedObject = null;
        foreach (DataObject item in CollectionView) {

            if (item.Id == currentSelectedItem.Id) {
                this.SelectedObject = currentSelectedItem;
            }
        }

    } 
```

格雷格

# c++ - 在 C++ 中枚举值作为 char 数组

> ID：15265397
> 
> 赞同：3
> 
> 时间：2013-03-07T07:26:53.383
> 
> 标签：c++, enums

我在 C++ 中有一个枚举

```
enum color {
    BLACK,GREEN,RED
}; 
```

在java中，我可以接收字符串值，使用`color.BLACK.name()`会给我字符串值..

c++ 是否具有相同的行为，或者我如何将枚举转换为 char*。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T07:31:40.473

简短的回答没有。不过，您可以使用许多“惯用的”宏技巧来模仿效果。

这样做的原因是 C++ 倾向于让你“*只为你需要的*东西买单”（如果你仔细设计，这使得编写性能更高的代码成为可能）。

代码项目有[一篇](http://www.codeproject.com/KB/cpp/EnumBinder.aspx)关于这方面的文章，谷歌会找到很多其他的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:21:09.277

不久前，我做了一些技巧，让枚举在 QComboBox 中正确显示，并将枚举和字符串表示形式定义为一个语句

```
#pragma once
#include <boost/unordered_map.hpp>

namespace enumeration
{

   struct enumerator_base : boost::noncopyable
   {
      typedef
         boost::unordered_map<int, std::wstring>
         kv_storage_t;
      typedef
         kv_storage_t::value_type
         kv_type;
      kv_storage_t const & kv() const
      {
         return storage_;
      }

      LPCWSTR name(int i) const
      {
         kv_storage_t::const_iterator it = storage_.find(i);
         if(it != storage_.end())
            return it->second.c_str();
         return L"empty";
      }

   protected:
      kv_storage_t storage_;
   };

   template<class T>
   struct enumerator;

   template<class D>
   struct enum_singleton : enumerator_base
   {
      static enumerator_base const & instance()
      {
         static D inst;
         return inst;
      }
   };
}

#define QENUM_ENTRY(K, V, N)  K, N storage_.insert(std::make_pair((int)K, V));

#define QBEGIN_ENUM(NAME, C)   \
enum NAME                     \
{                             \
   C                          \
}                             \
};                            \
}                             \

#define QEND_ENUM(NAME) \
};                     \
namespace enumeration  \
{                      \
template<>             \
struct enumerator<NAME>\
   : enum_singleton< enumerator<NAME> >\
{                      \
   enumerator()        \
   {

//usage
/*
QBEGIN_ENUM(test_t,
   QENUM_ENTRY(test_entry_1, L"number uno",
   QENUM_ENTRY(test_entry_2, L"number dos",
   QENUM_ENTRY(test_entry_3, L"number tres",
QEND_ENUM(test_t)))))
*/ 
```

现在您已经`enumeration::enum_singleton<your_enum>::instance()`能够将枚举转换为字符串。如果您替换`kv_storage_t`为`boost::bimap`，您还可以进行反向转换。引入了converter的通用基类将其存储在Qt对象中，因为Qt对象不能是模板

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:22:19.610

语言中没有对此的直接支持。事实上，对于一般情况，即使不是不可能，也很难做到：`enum`在 C++ 中，与枚举类型只有有限的关系，您可以编写如下内容：

```
enum E
{
    a = 0,
    b = 0,
    c = 0
}; 
```

, 有几个枚举常量具有相同的值。

（我编写了解析枚举语句的代码，并生成与字符串之间的映射代码；给定一个像上面这样的枚举，它会将枚举值 0 映射到，`"a"`无论它是设置为还是。它仍然非常有用，但我认为这是正确的解决方案：*如果*您需要或请求它们，可以使用外部程序生成映射。）`a``b``c`

# css - css规则在悬停另一个div时显示div，具体取决于变量

> ID：15265400
> 
> 赞同：0
> 
> 时间：2013-03-07T07:27:07.413
> 
> 标签：css, html, rules

你好，我发现了一种有趣的方法，可以在悬停另一个 div 时使 div 可见。我一直在从这个问题的公认答案中关注这个例子：

[来自stackoverflow的问题](https://stackoverflow.com/questions/5766141/css-show-div-when-another-div-is-hover)并这样做：

[示例代码](http://jsfiddle.net/4p8CM/3/)

现在我在创建该 CSS 规则时遇到了问题。问题是我有这样的结构：

```
<div class="footer">
    <div id="content">
        <div id="list">
            <span class="up">some text</span>
            <ul class="nav">some content</ul>
                    <div class="flag">
                         <div id="<?php echo $variable;?>"></div>**---->here comes the variable that is neccessary for the css rule**
                         <div id="drop_down">the div that will displayed when hover flag</div>              
                    </div><!--flag -->
        </div><!--list -->
    </div><!--content -->
</div><!--Footer --> 
```

所以css规则的结构是这样的：

```
.footer #content #list .flag > #$variable+#drop_down {
    display: none;
}
.footer #content #list .flag > #$variable+#drop_down:first-child {
    display: block;
}

.footer #content #list .flag:hover > #$variable+#drop_down {
    display: block;
} 
```

所以什么时候`$variable`会是`a`例如 html 将是：

```
<div class="flag">
    <div id="a"></div>
    div id="drop_down">some content</div>               
</div><!--flag --> 
```

和CSS规则：

```
.footer #content #list .flag > #a+#drop_down...
.footer #content #list .flag > #a+#drop_down:first-child...
.footer #content #list .flag:hover > #a+#drop_down... 
```

但是，例如，`$variable`不相等的情况是什么？`a``b`

我尝试了不同的方法，例如：

```
.footer #content #list .flag > #a,#b+#drop_down...
.footer #content #list .flag > #a,#b+#drop_down:first-child...
.footer #content #list .flag:hover > #a,#b+#drop_down... 
```

或者

```
.footer #content #list .flag > #a+#b+#drop_down...
.footer #content #list .flag > #a+#b+#drop_down:first-child...
.footer #content #list .flag:hover > #a+#b+#drop_down... 
```

或者

```
.footer #content #list .flag > #a+#drop_down,
.footer #content #list .flag > #b+#drop_down,
...
.footer #content #list .flag > #a+#drop_down:first-child,
.footer #content #list .flag > #b+#drop_down:first-child,
...
.footer #content #list .flag:hover > #a+#drop_down,
.footer #content #list .flag:hover > #b+#drop_down... 
```

但这些都没有奏效。

所以如果有人可以告诉我如何获取这个我真的很感激。

多谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:45:24.213

如果`<div>`变量`class`总是第一个`child`，则`.flag`可以使用伪元素选择器[:first-child](http://www.w3schools.com/cssref/sel_firstchild.asp)。

```
.footer #content #list .flag > div:first-child+#drop_down 
```

就像你对`#drop_down`div 所做的那样。

# mysql - 在mysql中创建视图时，是否可以使用日期功能？

> ID：15265403
> 
> 赞同：1
> 
> 时间：2013-03-07T07:27:17.380
> 
> 标签：mysql, view, mysqlbinlog

我创建视图，声明如下：</p>

```
DELIMITER $$
USE `dada`$$
DROP VIEW IF EXISTS `view_product_new`$$
CREATE ALGORITHM=UNDEFINED DEFINER=`dada`@`%` SQL SECURITY DEFINER VIEW `view_product_new` AS 
SELECT product_id,FROM_UNIXTIME(`update_date`,'%Y%m%d') FROM web_product$$
DELIMITER ; 
```

可以成功创建视图，但是我的binlog被破坏了。声明如下：</p>

# mysqlbinlog mysql-bin.000167

错误：Log_event::read_log_event() 中的错误：“读取错误”，data_len：66129，event_type：32

如果我删除 FROM_UNIXTIME( `update_date`,'%Y%m%d')，则上述语句不会发生

我的mysql版本是5.1.30

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:20:20.853

正如我在评论中所说，您使用的是相当旧的 MySQL 版本，[根据 wikipedia](http://en.wikipedia.org/wiki/MySQL#Versions)的说法，它实际上是在 2009 年之前推出的。

旧版本必然包含已在新版本中修复的错误，因此如果您的代码没有任何明显错误，升级可能会解决您遇到的问题。

即使没有，升级也符合您的利益。5.1 分支是 Oracle 目前支持的最古老的分支。他们最近还发布了 MySQL 5.6，他们可能不想继续积极维护 3 个分支......

5.6 是新的，所以它可能仍然存在需要解决的问题，但如果您先备份数据库，升级到 5.5 应该是相当安全的。如果安装 5.5 时出现最坏的情况和无法解决的问题，您始终可以使用备份回滚到旧版本。

# trigger.io - 我们可以让 UIScrollView 的默认滚动速度更快吗

> ID：15265405
> 
> 赞同：1
> 
> 时间：2013-03-07T07:27:23.310
> 
> 标签：trigger.io

通常在 iOS 代码中我们可以这样做：

scrollView.decelerationRate = UIScrollViewDecelerationRateFast;

也许这应该是可以设置为配置 json 中的设置的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T15:02:55.523

如果它是您的优先事项，这将作为本机插件是可行的；这也是我们将添加到我们的核心模块之一的东西，但由于我们没有看到对它的太多需求，所以目前我们不能优先考虑它。

# zend-framework2 - 如何在 zf2 中使用 phpThumb

> ID：15265407
> 
> 赞同：1
> 
> 时间：2013-03-07T07:27:33.757
> 
> 标签：zend-framework2, phpthumb

我在 zf1 中使用过 phpthumb 但不确定如何在 zf2 中使用，看起来整个过程不同，有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:57:51.717

如果你使用 composer 安装 ZF2，你可以只需要 phpthumb 包：

```
https://packagist.org/packages/dannytrue/phpthumb

"require": {
    "dannytrue/phpthumb": "dev-master"
} 
```

这应该会为您安装它，并且使用它几乎是一样的。

# c# - 在当前 docx 文件上执行 word 插件

> ID：15265411
> 
> 赞同：3
> 
> 时间：2013-03-07T07:27:41.883
> 
> 标签：c#, ms-word, add-in

我创建了 Word 加载项，并希望在当前 Word 文件上执行它，而不是使用磁盘上的文件路径。我如何参考活动文档？

我现在正在使用这样的文件路径：

```
string Filepath= @"D:\Word-addins\Example\Test.docx"; 
```

以及如何确定活动文件路径以将结果保存在同一路径上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:35:31.120

一言以蔽之，当前文档就是`ThisDocument`.

您必须自己生成此类（因为它派生自`Microsoft.Office.Tools.Word.DocumentBase`），如下所述：

*   [编程文档级自定义](http://msdn.microsoft.com/en-us/library/vstudio/bb386206.aspx)

尝试了解**[Word 对象模型](http://msdn.microsoft.com/en-us/library/vstudio/kw65a0we.aspx)**以了解如何处理当前文档中的文本，例如 this.Selection 等。

甚至还有一个关于[如何创建您的第一个文档级加载项](http://msdn.microsoft.com/en-us/library/vstudio/cc442985.aspx)的教程。

# android - 如何为具有分离列表适配器的 ListView 实现 ContextMenu？

> ID：15265414
> 
> 赞同：0
> 
> 时间：2013-03-07T07:27:54.420
> 
> 标签：android, android-listview, contextmenu

我正在使用[`SepatateListAdapter`这篇文章的部分中的列表视图中显示一些数据](http://jsharkey.org/blog/2008/08/18/separating-lists-with-headers-in-android-09/)

我的代码如下：

```
ListView photos_list = (ListView) findViewById(R.id.photos_list);

separate_adapter = new SeparatedListAdapter(this);

AddedPhotosAdapter one_adapter = new AddedPhotosAdapter(this, R.layout.row_acc_info , photos_instagram);
separate_adapter.addSection(" Section1 ", one_adapter);

AddedPhotosAdapter two_adapter = new AddedPhotosAdapter(this, R.layout.row_acc_info , photos_fb);
separate_adapter.addSection(" Section2 ", two_adapter);

AddedPhotosAdapter three_adapter = new AddedPhotosAdapter(this, R.layout.row_acc_info , photos_picasa);
separate_adapter.addSection(" Section3 ", thee_adapter);

photos_list.setAdapter(separate_adapter); 
```

我也注册了上下文菜单

```
registerForContextMenu(photos_list); 
```

这是上下文菜单创建和从菜单中选择的项目的代码

```
@Override
public void onCreateContextMenu(ContextMenu menu, View v, ContextMenuInfo menuInfo) {
    if (v.getId() == R.id.photos_list) {
        AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo)menuInfo;
        Log.i(TAG, "*********position******" +info.position);
        Object item = separate_adapter.getItem(info.position);
        PhotosInfo total = (PhotosInfo) item ;          
        menu.setHeaderTitle(total.getPhoto_Name());

        menu.add(0, 1, 0, "Delete photo account");  
        menu.add(0, 2, 1, "Cancel"); 
    }
}

@Override
public boolean onContextItemSelected(android.view.MenuItem item) {
    if (item.getGroupId() == 0) {
        switch(item.getItemId()) {
        case 1: 
            break;
        case 2:                  
            break;
        }
    }
    return super.onContextItemSelected(item);
} 
```

这是我用于带有separatelistadapter的列表视图的代码我在这里收到这个错误`FATAL EXCEPTION: main E/AndroidRuntime(9228): java.lang.ClassCastException: java.lang.String E/AndroidRuntime(9228): at com.colours.pipemedia.photos.PhotosMain.onCreateContextMenu(PhotosMain.java:170)`

这是导致代码错误的行

```
PhotosInfo total = (PhotosInfo) item ; 
```

我将此代码用于单个适配器，它工作正常。但是如果我与单独的列表适配器一起使用它会给出错误。这个要求的解决方案是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:30:19.530

我假设您正在使用[它`SeparatedListAdapter`](http://jsharkey.org/blog/2008/08/18/separating-lists-with-headers-in-android-09/)（虽然，您应该发布此链接，因为 SepatedListAdapter 不是标准组件，您应该始终提供与您的问题相关的代码。我编辑了您的帖子以包含链接）

问题是，正如您`getItem()`在参数中看到的那样，`0`它只会返回一个`String`部分名称，否则它将返回一个类型为您`Adapter`的 s 持有的项目。

因此，为避免异常，您应该只检查返回的类型，如下所示：

```
Object item = separate_adapter.getItem(info.position);
if (item instanceof String) {
    // It's a section title, do something about it
} else {
    // It's an actual item from one of the adapters
    PhotosInfo total = (PhotosInfo) item ;          
    menu.setHeaderTitle(total.getPhoto_Name());

    menu.add(0, 1, 0, "Delete photo account");  
    menu.add(0, 2, 1, "Cancel");
} 
```

# php - PHP 在每个页面的顶部显示登录的用户名

> ID：15265417
> 
> 赞同：0
> 
> 时间：2013-03-07T07:28:08.813
> 
> 标签：php

我正在构建一个大学黑板类型的应用程序，并且我有一个处理授权的 php 文件。我使用 javascript ajax post 将数据发送到服务器和中间 php 以回显响应。然后我重定向到主页。

我不知道如何从初始页面保存用户名并显示在重定向页面的右上角`logged in as 'username'`。

我试过像

```
<!-- main.php -->  
<?php session_start(); $_SESSION['u-name'] = $_POST['ucid'];?> 
```

然后在其他文件中

```
include 'main.php'
echo $_SESSION['id']; 
```

没用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:37:59.577

在其他文件中应该是

```
include 'main.php'
echo $_SESSION['u-name']; 
            //--^^^^^^---here 
```

导致您将会话设置为`u-name`而不是`id`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:46:48.410

如果示例中的“ucid”是用户名，则可以使用以下代码：

**主文件**

```
<?php 
    session_start();

    if(isset($_POST['ucid'])) { // Added check to make sure it does not empty the session variable if there is no post (because you include this on every page)
        $_SESSION['u-name'] = $_POST['ucid'];
    }
?> 
```

**其他文件**

```
<?php
    include 'main.php';
    echo $_SESSION['u-name'];
?> 
```

# iphone - 在我的应用中播放来自 Vimeo 的视频

> ID：15265419
> 
> 赞同：0
> 
> 时间：2013-03-07T07:28:15.957
> 
> 标签：iphone, objective-c

在我的应用中播放来自 Vimeo 的视频

我想要做的是设置我的应用程序，以便当用户点击按钮时调用一个动作来加载特定的 Vimeo 视频并全屏播放，顶部的时间线和底部的播放控件，支持设备旋转。

我知道我可以将视频加载到 UIWebView 中并让用户点击 Vimeo 提供的“播放”按钮，但我真的希望能够在我自己的 buttonPressed 操作上开始视频播放。这可能吗？如果是这样，是否有可能获得一些指导，也许还有一些样本可以与之配套？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:29:09.410

这可能是可能的。假设您在自己的网页上使用视频播放器链接（例如[http://player.vimeo.com/video/59560377 ），您可以深入到 Vimeo 播放器的 HTML5 视频播放器并控制按钮。](http://player.vimeo.com/video/59560377)此外，Vimeo 提供[JavaScript API](http://developer.vimeo.com/player/js-api)来控制视频。

但似乎 Vimeo 播放器具有特征检测功能；即使我将用户代理修改为 iPhone / iPad，它也会显示其 Flash 播放器版本，因此我无法测试我的理论。

**更新：**无法强制 Vimeo 播放器处于 HTML5 模式。（[参考](https://stackoverflow.com/questions/12395981/force-vimeo-html5-video-embed)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:48:23.817

不，它不可能。要播放视频，您需要按 vimeo 播放按钮。

# opencv - 局部敏感散列算法是否仅与 opencv / flann 中的二进制描述符兼容？

> ID：15265420
> 
> 赞同：2
> 
> 时间：2013-03-07T07:28:21.330
> 
> 标签：opencv, indexing, sift, surf

我正在尝试在 opencv 2.4.4 的 flann 中使用本地敏感散列算法。这是我的代码

```
Ptr<IplImage> cluster_image = cvLoadImage("C:\\Users\\Administrator\\Pictures\\1.jpg");
vector<KeyPoint> cluster_keypoint;
Mat des;

description_detect(cluster_image,cluster_keypoint,des,SIFT_DESCRIPTION);
//My function to extract the sift feature from image.
//Descriptions are stored at variable des.

flann::Index my_index(des, flann::LshIndexParams(10, 10, 2)); 
```

当运行此代码通过 lsh 算法构建 flann 的索引时。代码断言

“Opencv 错误，不支持的格式或格式组合类型 = 5”

我检查 miniflann.cpp 中的代码。似乎 flann 中的局部敏感散列算法仅与 CV_8U Mat 类型兼容，除了由 sift 生成的 CV_32F。

但是，从 ORB、Brief、BRISK、FREAK 检测到的其他二进制描述符可以产生 CV_8U Mat 类型。

所以我的问题是：局部敏感散列算法是否只与opencv中的二进制描述符兼容？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T08:24:28.397

是的：散列函数仅针对二进制描述符（即可以表示为 的数组的描述符`unsigned char`）实现。

有关详细信息，请参阅此答案：[Binary features and Locality Sensitive Hashing (LSH)](https://stackoverflow.com/questions/14296394/binary-features-and-locality-sensitive-hashing-lsh/14307768#14307768)

# java - 有什么地方可以获得可重复使用的摇摆“组件”？

> ID：15265423
> 
> 赞同：0
> 
> 时间：2013-03-07T07:28:26.697
> 
> 标签：java, swing

我觉得图形、饼图、条形图、时钟、键盘等组件可以被视为可重用组件。不需要重复编码这些东西。

有没有一个地方可以让我得到像这些经过良好测试、可靠、评论良好和有据可查的摆动组件？

**编辑 -**

顺便说一句，我正在寻找以下组件 -

1 - 可由专业和新手 Java 开发人员轻松使用。2 - 得到积极维护，几年前没有被遗弃。 **3 - 免费且源代码是公开的。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:32:12.243

你的意思是像图书馆？我记得几年前在一个项目中使用过 JFreeChart，对于一些基本的绘图来说还不错

[http://www.jfree.org/jfreechart/](http://www.jfree.org/jfreechart/)

不过，我不知道有任何时钟或键盘小部件库

# javascript - jQuery Draggable 拖出屏幕

> ID：15265427
> 
> 赞同：8
> 
> 时间：2013-03-07T07:28:42.013
> 
> 标签：javascript, jquery, css, jquery-ui-draggable

当用户抓住一个窗口的标题栏并一直向右拖动时，页面将开始向右滚动。有没有办法防止这种情况发生？

重现：[https](https://jqueryui.com/draggable/) ://jqueryui.com/draggable/ 将窗口拖动到右侧。

我有`overflow: hidden`和`html`标签`body`。不知道还能在这里做什么。我不想在窗口上使用包含选项，因为我希望它们能够稍微滑出屏幕。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-07T07:33:57.867

当您使用[jQuery UI Draggable](http://jqueryui.com/draggable/)时，您有一个名为[Containment](http://api.jqueryui.com/draggable/#option-containment)的选项。在那里，您可以指定应将其约束在其中的父级。在您的情况下，父母应该是`body`.

作为替代方案，您可以使用[滚动选项](http://api.jqueryui.com/draggable/#option-scroll)：

```
$( "#outlook" ).draggable({ scroll: false }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:39:16.563

试试这个：假设你的主要元素是一个名为“myWindow”的div；

```
document.getElementById('myWindow').scrolling = "no"; 
```

# javascript - 在 onStateChange 函数结束之前触发 YouTube API 暂停

> ID：15265429
> 
> 赞同：0
> 
> 时间：2013-03-07T07:28:50.713
> 
> 标签：javascript, youtube-api

我正在尝试以静默方式循环播放 YouTube 视频。然后当用户单击暂停时，重新启动视频并以最大音量播放。

这是我采取的方法。

```
var flag = 1;
    var tag = document.createElement('script');
    tag.src = "http://www.youtube.com/player_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;

    function onYouTubePlayerAPIReady() {
        player = new YT.Player('player', {
            playerVars: { 'autoplay': 1, 'controls': 1,'autohide':1,'wmode':'opaque' },
            videoId: '[CODE]',
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange,
            }
        });
    }

    function onPlayerReady(event) {
        event.target.playVideo();
        event.target.mute();
    }

    function onPlayerStateChange(event){
        //alert('State changing!');
        if (event.data == 0){
            alert('Play over');
            player = new YT.Player('player', {
                playerVars: { 'autoplay': 1, 'controls': 1,'autohide':1,'wmode':'opaque' },
                videoId: '[CODE]',
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange,
                }
            });       
        }
        else if(event.data == 2)
        {   if(flag == 1)
            {
                alert('Play loud!');
                event.target.stopVideo(); 
                event.target.clearVideo(); 
                event.target.seekTo(0); 
                event.target.setVolume(100);
                flag = 4;
            }
        }
    } 
```

我的问题是，当视频结束时，它会`event.data == 2`在触发播放结束（）之前触发带有暂停（）的 onPlayerStateChange `event.data == 0`。

这是自然的还是只是我。我觉得“暂停”开火没有意义？

你有没有采取过类似的方法？我能知道你做了什么吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:41:56.550

在结束状态之前触发暂停状态是非常标准的。从我记事起就一直在发生。但是，不能保证始终保持这种状态。

# php - 特殊字符 laravel 路由

> ID：15265432
> 
> 赞同：0
> 
> 时间：2013-03-07T07:29:05.987
> 
> 标签：php, laravel, laravel-3

我试图路由到控制器。它每次都可以正常工作，但是当 url 中有 (&) 时，它会停止工作。我在网上搜索，发现（：all）可以使用。它有效，但是当最后一个 url 段有 (&) 时，我必须在 url 的末尾添加一个斜杠 (/) 才能使其工作。

前任。在这第二条路线中正常工作，第一条路线不起作用

```
Route::get('abc/abc/(:any)', array('uses' => 'abc@abc'));
Route::get('abc/abc/(:all)/do', array('uses' => 'abc@do')); 
```

前任。在这条路线中没有一条可以正常工作

```
Route::get('abc/abc/(:all)', array('uses' => 'abc@abc'));
Route::get('abc/abc/(:all)/do', array('uses' => 'abc@do')); 
```

前任。在这两条路线中都可以正常工作

```
Route::get('abc/abc/(:all)/', array('uses' => 'abc@abc'));
Route::get('abc/abc/(:all)/do', array('uses' => 'abc@do')); 
```

我只是想找出一种方法，我可以在 url 段中提供接受的字母。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T19:28:17.103

& 是 URL 上下文中的特殊字符。你不应该将它包含在你的路径中。最有可能发生的事情是请求解析器正在查看 & 然后确定这是一个格式错误的查询字符串，即： some/path/?foo=1&bar=2 当格式错误时可能看起来像 some/path/&foo=1&bar=2

[http://www.w3schools.com/tags/ref_urlencode.asp](http://www.w3schools.com/tags/ref_urlencode.asp)

# jsf - 在 JSF 中如何以及何时销毁 @ViewScoped bean？

> ID：15265433
> 
> 赞同：17
> 
> 时间：2013-03-07T07:29:07.783
> 
> 标签：jsf, jsf-2, managed-bean, destroy, view-scope

`@RequestScoped`和`@SessionScopedBean` *托管 bean*的生命周期 由 Servlet 容器本身管理，因为它们基本上分别存储为 和 的`HttpRequest`属性`HttpSession`。JSF 如何管理`@ViewScopedBean`. 我知道它是在创建视图时创建的，并且在回发到另一个视图之前一直可用。但是我发现，在我们从那个视图移开之后，并没有立即收集垃圾。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-13T16:47:43.900

到时候就会被销毁

*   执行了一个`null`没有结果的回发，

*   或者，会话中的（逻辑）视图数量已超过，并且特定视图是 LRU 链中的第一个视图（在 Mojarra 中，可由上下文参数配置`com.sun.faces.numberOfViewsInSession`，`com.sun.faces.numberOfLogicalViews`每个参数的默认值为 15），

*   或者，会话中活动视图范围的数量已超过（在 Mojarra 中，硬编码限制为 25），另请参阅[JSF 2.2 内存消耗：为什么 Mojarra 将最后 25 个视图的 ViewScoped Beans 保留在内存中？](https://stackoverflow.com/questions/31959982/jsf-2-2-memory-consumption-why-does-mojarra-keep-the-viewscoped-beans-of-the-la)

*   或者，会话已过期。

因此，当由于单击指向另一个页面的 GET 链接、刷新页面或关闭浏览器选项卡/窗口而卸载页面时，它**不会被破坏。**在满足上述条件之一之前，bean 将一直存在。无论如何，要在卸载期间销毁它，请考虑改用[OmniFaces`@ViewScoped`](http://showcase.omnifaces.org/cdi/ViewScoped)。

# vb.net - VB.NET AES 错误“填充无效且无法删除”相同的密钥/iv 和最终块已刷新

> ID：15265435
> 
> 赞同：1
> 
> 时间：2013-03-07T07:29:23.363
> 
> 标签：vb.net, padding, aescryptoserviceprovider

我使用 AesCryptoServiceProvider 来使用 AES 执行加密和解密。加密似乎有效，但解密会引发异常，提示“填充无效且无法删除”。

这是我的代码：

```
Public Function AESEnc(ByVal plain As String, ByVal key As String, ByVal iv As String) As AesResult
    Dim ciphertext As String
    Dim k(31) As Byte
    Dim v(15) As Byte
    Dim ret As AesResult
    Dim pBytes As Byte() = StrToByteArray(plain)
    Dim cipher As New AesCryptoServiceProvider()
    Dim enc As ICryptoTransform
    Dim ms As New MemoryStream
    Dim cs As CryptoStream

    k = StrToByteArray(key)
    v = HexStringByteArrayConverter.HexStringToBytes(iv)
    cipher.Mode = CipherMode.CFB
    cipher.Padding = PaddingMode.PKCS7

    enc = cipher.CreateEncryptor(k, v)
    cs = New CryptoStream(ms, enc, CryptoStreamMode.Write)
    cs.Write(pBytes, 0, pBytes.Length)
    cs.FlushFinalBlock()
    cs.Close()
    ciphertext = HexStringByteArrayConverter.BytesToHexString(ms.ToArray())
    ret.data = ciphertext
    ret.iv = v
    ret.key = k

    Return ret
End Function 'AESEnc

Public Function AESDec(ByVal ciphertext As String, ByVal key As String, ByVal iv As String) As AesResult
    Dim plaintext As String
    Dim k(31) As Byte
    Dim v(15) As Byte
    Dim ret As AesResult
    Dim pBytes As Byte() = StrToByteArray(ciphertext)
    Dim cipher As New AesCryptoServiceProvider()
    Dim dec As ICryptoTransform
    Dim ms As New MemoryStream
    Dim cs As CryptoStream

    k = StrToByteArray(key)
    v = HexStringByteArrayConverter.HexStringToBytes(iv)
    cipher.Mode = CipherMode.CFB
    cipher.Padding = PaddingMode.PKCS7

    dec = cipher.CreateDecryptor(k, v)
    cs = New CryptoStream(ms, dec, CryptoStreamMode.Write)
    cs.Write(pBytes, 0, pBytes.Length)
    cs.FlushFinalBlock()
    cs.Close()
    plaintext = ByteArrayToString(ms.ToArray())
    ret.data = plaintext
    ret.iv = v
    ret.key = k

    Return ret
End Function 'AESDec 
```

# c# - 在 sql db 中插入新值 ..通过从组合框中选择不同的表

> ID：15265436
> 
> 赞同：3
> 
> 时间：2013-03-07T07:29:26.843
> 
> 标签：c#, sql-server

好吧，我已经让这个程序在 SQL db 中插入新值，通过从组合框中的不同表之间进行选择。我需要更改 sql 查询，通过它我可以为组合框中的每个表单独使用插入命令......我需要帮助以粗体显示...

```
namespace combo
{
    public partial class Form1 : Form
    {
        List lstNewRows = new List();

        public Form1()
        {
            InitializeComponent();
        }
        private void PopulateComboBox()
        {
            try
            {

                List _items = new List();

                _items.Add("select * from lol");
                _items.Add("select * from datejoin");
                comboBox1.DataSource = _items;

            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            PopulateComboBox();
        }

        private void PopulateGridView(string connString, string sqlQuery)
        {

            String strconnetcion = connString;

            SqlConnection con = new SqlConnection(strconnetcion);

            try
            {

                con.Open();

                SqlCommand sqlCmd = new SqlCommand();

                sqlCmd.Connection = con;
                sqlCmd.CommandType = CommandType.Text;
                sqlCmd.CommandText = sqlQuery;

                SqlDataAdapter sqlDataAdap = new SqlDataAdapter(sqlCmd);

                DataTable dtRecord = new DataTable();
                sqlDataAdap.Fill(dtRecord);

                dataGridView1.DataSource = dtRecord;
                dataGridView1.AutoResizeColumns(DataGridViewAutoSizeColumnsMode.AllCells);
                con.Close();
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }
        }

        private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
        {
            if (comboBox1.SelectedValue != null)
            {
                PopulateGridView(textBox1.Text, comboBox1.SelectedValue.ToString());
            }
        }

        private void InsertInfo()
        {

            string connectionString = null;
            SqlConnection connection;
            SqlDataAdapter adapter = new SqlDataAdapter();
            string value1 = "";
            string value2 = "";
            connectionString = @"Data Source=HP\SQLEXPRESS;database=MK;Integrated Security=true";
            connection = new SqlConnection(connectionString);
            foreach (int rowIndex in lstNewRows)
            {
                if (dataGridView1.Rows[rowIndex].Cells[0].Value != null && dataGridView1.Rows[rowIndex].Cells[1].Value != null)
                {

                    value1 = dataGridView1.Rows[rowIndex].Cells[0].Value.ToString();
                    value2 = dataGridView1.Rows[rowIndex].Cells[1].Value.ToString();
                    ***string sql = "insert into lol (name,marks) values('" + value1 + "','" + value2 + "')";***
                    try
                    {
                        connection.Open();
                        adapter.InsertCommand = new SqlCommand(sql, connection);
                        adapter.InsertCommand.ExecuteNonQuery();
                        MessageBox.Show("Row inserted !! ");
                    }
                    catch (Exception ex)
                    {
                        MessageBox.Show(ex.ToString());
                    }

                }
            }
        }
        private void button1_Click(object sender, EventArgs e)
        {

            InsertInfo();

        }

        private void dataGridView1_DefaultValuesNeeded(object sender, DataGridViewRowEventArgs e)
        {
            lstNewRows.Add(e.Row.Index);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T09:40:29.057

浏览源代码后，我了解您要完成的工作。我将首先回答您的问题，但请在回答后阅读建议，因为按照您现在的方式进行操作，此应用程序最终可能会让维护它的人头疼。

**答案**：

```
Change your items to be as follows:
List _items = new List();
_items.Add("lol"); // removing select * from 
_items.Add("datejoin"); // removing select * from 
comboBox1.DataSource = _items; 
```

现在在您的`PopulateGridView`功能中，您可以`sqlQuery`将

```
private void PopulateGridView(string connString, string sqlQuery) {
    sqlQuery = "select * from "+sqlQuery; 
```

然后在您的`InsertInfo`函数中，您可以执行以下操作（在您定义字符串 sql 变量的位置）：

```
string sql = string.Empty;
switch(comboBox1.SelectedValue) {
    case "lol":
        sql = "insert into lol (name,marks) values('" + value1 + "','" + value2 + "')";
        break;
    case "datejoin":
        sql = "insert into datejoin (..."; // fill in the column and values as needed
        break;
} 
```

**建议**：

1.  请将您的普通字符串查询更改为存储过程或查看 LINQ
2.  不要使用`select *`，总是尝试在选择查询中提及列名
3.  在组合框中提供比表名更用户友好的名称，使表名对最终用户如此明显并不总是安全的
4.  尝试使用单独的数据访问层并将数据库特定代码移动到该层

# c# - 如何使用 EventReceiver 从 C# 中的 SharePoint 列表中提取 DateTime 值？

> ID：15265437
> 
> 赞同：2
> 
> 时间：2013-03-07T07:29:30.603
> 
> 标签：c#, sharepoint-2010

我正在为休假管理开发一个 Sharepoint 站点。我想验证用户从 SharePoint 列表中输入的开始日期和结束日期（请假的天数应该小于可用的假期数）。如何从 SharePoint 列表中提取 DateTime 值？以及如何减去 2 个 DateTime 值来获得差异（天数）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:31:17.673

我无法尝试，但它应该是这样的。这是为 ItemAdded 准备的。您也应该对项目更新方法执行此操作。

```
public class ItemEvents : SPItemEventReceiver
{
    public override void ItemAdded(SPItemEventProperties properties)
    {
        SPListItem item = properties.ListItem;
        DateTime startDate = (DateTime)item["StartDate"];
        DateTime endDate = (DateTime)item["EndDate"];
        TimeSpan difference = endDate - startDate;
        item["DayCount"] = difference.Days;
        item.Update();
    }
} 
```

# opencv - cvCalcOpticalFlowBM 错误

> ID：15265439
> 
> 赞同：0
> 
> 时间：2013-03-07T07:29:34.413
> 
> 标签：opencv, computer-vision, opticalflow

我一直在尝试在我的应用程序中使用 OpenCVs cvCalcOpticalFlowBM 进行光流计算。我正在做类似的事情：

```
IplImage* velX1 = cvCreateImage(cvSize((beforeGray->width - blockSize.width + shiftSize.width)/shiftSize.width, (beforeGray->height - blockSize.height + shiftSize.height)/shiftSize.height), IPL_DEPTH_32F,1);
IplImage* velY1 = cvCreateImage(cvSize((beforeGray->width - blockSize.width + shiftSize.width)/shiftSize.width, (beforeGray->height - blockSize.height + shiftSize.height)/shiftSize.height), IPL_DEPTH_32F,1);
IplImage* velX2 = cvCreateImage(cvSize((beforeGray->width - blockSize.width + shiftSize.width)/shiftSize.width, (beforeGray->height - blockSize.height + shiftSize.height)/shiftSize.height), IPL_DEPTH_32F,1);
IplImage* velY2 = cvCreateImage(cvSize((beforeGray->width - blockSize.width + shiftSize.width)/shiftSize.width, (beforeGray->height - blockSize.height + shiftSize.height)/shiftSize.height), IPL_DEPTH_32F,1);

cvSetZero(velX1);
cvSetZero(velY1);
cvSetZero(velX2);
cvSetZero(velY2);

cvCalcOpticalFlowBM(beforeGray, afterGray, 1, blockSize, shiftSize, range, 0, velX1, velY1); 
```

beforeGray 和 afterGray 是相同大小的 IPL_DEPTH_8U 单通道图像。但是当最后一行执行时，我得到以下异常：

```
OpenCV Error: Null pointer (NULL array pointer is passed) in cvGetMat 
```

我正在使用 OpenCV 2.4，但我无法弄清楚为什么这不起作用。我通过调试器检查了所有输入参数都不为空。有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:52:25.130

好像我的论点错了。应该：

```
cvCalcOpticalFlowBM(beforeGray, afterGray, blockSize, shiftSize, range, 0, velX1, velY1); 
```

# c - 在C中的二叉搜索树中删除

> ID：15265443
> 
> 赞同：0
> 
> 时间：2013-03-07T07:29:53.013
> 
> 标签：c, binary-tree, binary-search-tree

我已经在 C 中实现了 BST。插入和查找工作正常。但是删除根节点时删除有问题。我无法释放指向根节点的指针。如果我将它作为双指针传递，我可以，但我想在不使用双指针的情况下保持代码简单。这里我没有指向根节点的头指针。我应该使用指向根节点的头指针吗？

```
#include<stdio.h>
#include<stdlib.h>
struct node
{
    int data;
    struct node* left;
    struct node* right;
};
struct node* newNode(int data)
{
    struct node* node = malloc(sizeof(struct node));
    node->data=data;
    node->left=NULL;
    node->right=NULL;
    return(node);
}

static int lookup(struct node* node,int target)
{
    if(node==NULL)
    {
        return(0);
    }
    else
    {
        if(target == node->data)
        {
            return(1);
        }
        else
        {
            if(target < node->data)
            {
                return(lookup(node->left,target));
            }
            else
            {
                return(lookup(node->right,target));
            }
        }
    }
}

struct node* insert(struct node* node, int data)
{
    if(node==NULL)
    {
        return(newNode(data));
    }   
    else
    {
        if(data < node->data)
        {
            node->left =insert(node->left,data);
        }
        else
        {
            node->right=insert(node->right,data);
        }
        return(node);
    }
}

struct node* delete(struct node* node, struct node* pnode, int target)
{
    struct node* rchild;
    struct node* rchildparent;
    if(node==NULL)
    {
        return(pnode);
    }
    else
    {
        if(target == node->data)
        {
            if(node->left == NULL && node->right == NULL) //leaf node
            {
                if(pnode == NULL) //special case deleting the root node
                {
                    free(node);
                    return(NULL);
                }
                if(pnode->left == node)
                {
                    pnode->left = NULL;
                }
                else
                {
                    pnode->right = NULL;
                }
                free(node);
                return(pnode);
            }
            if(node->left ==NULL ) //one child
            {
                if(pnode == NULL) //deleting root having no left child
                {
                    struct node* temp = node;
                    node = node->right;
                    free(temp);
                    return(node);
                }
                if(pnode->left == node)
                {
                    pnode->left = node->right;
                }
                else
                {
                    pnode->right = node->right;
                }   
                free(node);
                return(pnode);
            }
            if(node->right ==NULL ) //one child
            {
                if(pnode == NULL) //deleting root having no right child
                {
                    struct node* temp = node;
                    node = node->left;
                    free(temp);
                    return(node);
                }
                if(pnode->left == node)
                {
                    pnode->left = node->left;
                }
                else
                {
                    pnode->right = node->left;
                }   
                free(node);
                return(pnode);
            }

            //two children case
            rchild = node->right;
            rchildparent=node;
            while(rchild->left != NULL)
            {
                rchildparent=rchild;
                rchild = rchild->left;
            }
            node->data=rchild->data;
            if(rchildparent == node)
            {
                //rchildparent->right=rchild->right;
                node->right=rchild->right;
            }
            else
            {
                //rchildparent->left=NULL;
                rchildparent->left=rchild->right;
            }
            free(rchild);
            if(pnode ==NULL) //root node
            {
                return(node);
            }           
            return(pnode);
        }
        else
        {
            if(target < node->data)
            {
                delete(node->left,node,target);
                return(node);
            }
            else
            {
                delete(node->right,node,target);
                return(node);
            }
        }

    }

}
void printinorder(struct node* node)
{
    if(node == NULL)
    {
        return;
    }   
    printinorder(node->left);
    printf("%d\t",node->data);
    printinorder(node->right);
}
int main()
{
    clock_t start,end;
    struct node* root = newNode(3);
    insert(root,7);
    insert(root,7);
    insert(root,7);
    printinorder(root);
    printf("\n");
    root = delete(root,NULL,6);
    printinorder(root);
    printf("\n");
} 
```

编辑：根据@`modifiable lvalue`建议修复了代码。现在有没有办法改进删除逻辑？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:31:17.370

我会从删除中返回头节点，并在你的主函数中管理头，比如：`root = delete(root, NULL, 10);`，我会为 insert: 做同样的事情`root = insert(root,/*...*/);`，因为它看起来像你已经完成的一半......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-24T11:12:49.343

私有数据节点删除（数据节点根，int dValue）{

```
DataNode temp=null;
if(root!=null){
    if(dValue<root.value){
        root.left=delete(root.left,dValue);
    }
    else if(dValue>root.value){
        root.right=delete(root.right,dValue);
    }
    else{
           if(root.left==null){
                temp=root.right;
               root.right=null;
               return temp;
           }
           else if(root.right==null){
               temp=root.left;
               root.left=null;
               return temp;
           }

           temp=MinBST(root.right);
           root.value=temp.value;
           //deleting inorder successor
           root.right=null;
    }
}
return root; 
```

}

私有数据节点 MinBST（数据节点根）{

```
if(root!=null){
    while(root.left!=null){
        root=root.left;
    }
}
return root; 
```

}

浏览从二叉树中删除节点的链接

[https://www.youtube.com/watch?v=YK3tLMYk3nk](https://www.youtube.com/watch?v=YK3tLMYk3nk)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-22T04:49:56.230

```
//c tree
#include<stdio.h>
#include<conio.h>
struct tree_node
{
    struct tree_node*right,*left;
    int data;
};
struct tree_node*savetemp=NULL;
struct tree_node* del(struct tree_node*,int);
struct tree_node* insert(struct tree_node*,int);
struct tree_node* travel(struct tree_node*,struct tree_node*);
void inorder(struct tree_node *);
int height(struct tree_node*);
int noOfNode(struct tree_node *);
void main()
{
    struct tree_node* root=NULL;
    int item,cho;
    clrscr();
    do
    {
        printf("Enter your choice\n");
        printf("1.insert 2.delete 3.display 4.no of nodes 5.height 6.exit\n");
        scanf("%d",&cho);
        switch(cho)
        {
            case 1:{
                printf("Enter element to insert\n");
                scanf("%d",&item);
                root=insert(root,item);
            }
            break;
            case 2:{
                printf("Enter element to delete\n");
                scanf("%d",&item);
                root=del(root,item);
                if(savetemp!=NULL)//condition for any break link is present to insert or not
                travel(root,savetemp);//to insert break link during insertion
            }
            break;
            case 3:{
                printf("inorder travel\n");
                inorder(root);
            }
            break;
            case 4:{
                printf("No of nodes are: %d\n",noOfNode(root));
            }
            break;
            case 5:
            printf("height of tree %d",height(root));
            break;
            case 6:
            printf("Exiting");
            break;
            default : printf("wrong cho\n");
        }
    }while(cho!=6);
    getch();
}
void inorder(struct tree_node *root)
{
    if (root != NULL)
    {
    inorder(root->left);
    printf("%d \n", root->data);
    inorder(root->right);
    }
}
struct tree_node* insert(struct tree_node*root,int item)
{
    if(root==NULL)
    {
        struct tree_node* temp;
        temp=(struct tree_node*)malloc(sizeof(struct tree_node));
        temp->left=NULL;
        temp->right=NULL;
        temp->data=item;
        root=temp;
    }
    else
    {
            if(root->data<item)
            {
                root->right=insert(root->right,item);
            }
            else
            {
                root->left=insert(root->left,item);
            }
    }
    return(root);
}
struct tree_node* del(struct tree_node*root,int item)
{
    if(item==root->data)
    {
        if(root->left==NULL&&root->right==NULL) //no child
        {
            root=NULL;

        }
        else if(root->left==NULL||root->right==NULL) //one child
        {
            if(root->left!=NULL) //left child
            {
                root=root->left;
            }
            else               //right child
            {
                root=root->right;
            }
        }
        else  if(root->left!=NULL&&root->right!=NULL) //both child
        {
            struct tree_node* temp;
            savetemp=root->right->left;
            temp=root;
            root=root->right;
            root->left=temp->left;
        }
    }
    else
    {
            if(root->data<item)
            {
                root->right=del(root->right,item);
            }
            else
            {
                root->left=del(root->left,item);
            }
    }
    return(root);
}
struct tree_node* travel(struct tree_node*root,struct tree_node*savetemp)
{
    if (savetemp != NULL)
    {
        insert(root,savetemp->data);
        travel(root,savetemp->left);
        travel(root,savetemp->right);
    }
    return(root);
}
int height(struct tree_node*root)
{
    int lheight,rheight;
    if(root==NULL)
    {
        return(-1);
    }
        else
    {
        lheight=height(root->left);
        rheight=height(root->right);
    }
    if(lheight>rheight)
    {
        return(lheight+1);
    }
    else
    {
        return(rheight+1);
    }
}
int noOfNode(struct tree_node *root)
{
static int count=0;
    if (root != NULL)
    {
    noOfNode(root->left);
    count=count+1;
    noOfNode(root->right);
    }
    return(count);
} 
```

# powerpoint - 合并多个演示文稿

> ID：15265446
> 
> 赞同：0
> 
> 时间：2013-03-07T07:30:01.833
> 
> 标签：powerpoint, openoffice.org, libreoffice

我即将开始写一个大型演示文稿。它将涵盖许多不同但相关的领域，我希望保持这种可维护性和简单性。

我之前使用过 LaTeX，在 LaTeX 中，可以在最终渲染中包含其他 LaTeX 文档。

有什么办法可以用其他类似程序的 Powerpoint、Libreoffice 来做到这一点？

我最好将模板和格式保留在主文档中，让其他只包含简单的文本、项目符号和图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:40:06.950

在我看来，您所需要的正是 LaTeX 声称提供的：所见即所得（所见即所得）。

所有 WYSIWYG（所见即所得）程序，如 Microsoft Powerpoint、Microsoft Word、LibreOffice Writer、LibreOffice 演示文稿等，旨在让用户感觉就像在纸上写下他的演示文稿，或者直接在屏幕上，如果这是你工作的目的。

所以我不认为你可以混合这两种方法，但是：

1.  为什么不 LaTeX：你知道，如果你需要它，为什么不使用它？
2.  为什么不在单个文档中使用 Libreoffice，它旨在处理大量内容，您会发现从一个部分快速导航到另一个部分所需的所有功能，但您必须以正确的方式使用它：段落样式、页面样式、文本样式等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T03:48:02.050

如果每个部分都是独立的，并且只需要在“展示时间”进行组合（想想：与一系列演讲者的会议），您可以创建一个议程/菜单演示文稿，其中包含指向每个子演示文稿的链接。

如果您确实需要将所有附属演示文稿合并为一个（例如用于打印），您可以使用 PPT 的 Reuse slides 功能（对于不同的版本，它隐藏在不同的地方；告诉我您使用的是哪个版本，我可以提供更多详细信息）将辅助幻灯片演示合并为一个主要演示。或者您可以简单地将两个演示文稿放入幻灯片分类视图，然后将幻灯片复制/粘贴到主演示文稿中；当它询问时，告诉 PPT 不要保留传入幻灯片的格式。

这也可以在代码中完成，但似乎这不是您要寻找的。

# google-apps-script - 在保存到 scriptDb 之前检查重复项

> ID：15265447
> 
> 赞同：0
> 
> 时间：2013-03-07T07:30:06.150
> 
> 标签：google-apps-script

我有一个程序需要将大量数据从 Google 电子表格存储到 scriptDb，但批量保存一直挂起而不保存整个批次。我试图找到一种方法来检查一个对象是否已经在数据库中，然后再将它添加到我的数组以进行批量保存。当然，为每个要检查的对象查询数据库将超过最大执行时间。

是否有一种有效的方法可以查询数据库一次并针对该查询检查每个对象以查看它是否以前存储过？然后我可以简单地推送一个在查询中找不到的对象数组。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T15:15:47.633

我知道这可能看起来很愚蠢，但您总是可以从 db 中获取您认为会覆盖的数据（或不使用 Where 子句部分），将其存储在数组中，从电子表格中获取数据并将其放入数组并通过电子表格数组进行快速迭代。如果数据存在于 dbarray 中，则从电子表格数组中拼接它。完成后将该数据推送到数据库。

通过这种方式，您只需查询一次数据库，减少覆盖，并尽可能少地推送。

韩国电信

# java - PrimeFaces 3.5 和 DataTables（多选）

> ID：15265449
> 
> 赞同：3
> 
> 时间：2013-03-07T07:30:10.827
> 
> 标签：java, primefaces, datatable

我目前在使用 PrimeFaces (3.5) 的新版本时遇到了很多麻烦。这是一段示例代码：

```
<p:dataTable var="obj" id="objDataTable"
value="#{backingBean.objects}" rowKey="#{obj.id}"
paginator="true" paginatorAlwaysVisible="true"
paginatorPosition="top" rows="15" editable="true"
selection="#{backingBean.selectedObjects}">

<p:column styleClass="headcol" selectionMode="multiple" />

    <p:column headerText="name" sortBy="#{obj.name}"
    filterMatchMode="contains" filterBy="#{obj.name}"
    styleClass="headcol">
    <h:outputText value="#{obj.name}" />
</p:column>
</p:dataTable> 
```

当我单击行中的复选框时，我可以选择多行，这不是问题。但是，一旦您单击实际行，您就会失去选择。我遇到的问题比这个问题还多，但我想从这个问题开始。我将在 PrimeFaces 论坛上发布相同的问题。这也可能是[这个问题](https://stackoverflow.com/questions/15128945/primefaces-datatable-with-checkbox-selection-only)的副本，但实际上没有关于该问题的文档，所以我宁愿再问一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-09T07:46:11.610

`rowSelectMode="add"`在您的添加选项`<p:dataTable>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T15:42:02.630

好吧，既然这里什么都没有出现，我只想添加我在 PrimeFaces 论坛上被告知的内容（这证实了 Serkan 对原始帖子的评论），这是 - 尽管是新的 - 期望的行为，因此不是一个错误。一些额外的 JQuery 将（在我的情况下可能会）能够解决此功能。

# android - Android 硬件菜单未正确显示

> ID：15265450
> 
> 赞同：0
> 
> 时间：2013-03-07T07:30:11.187
> 
> 标签：android, menu, menuitem

我正在开发一个目标应用程序 `android:targetSdkVersion="11"` 并且有一个`android:minSdkVersion="8"`，我遇到的问题是这个，我正在尝试实现硬件菜单，它没有在屏幕和图像下方显示熟悉的 3 菜单选项，而是直接显示，怎么能我把这个节目做得很好。顺便说一句，我正在使用夏洛克

```
 @Override
    public boolean onCreateOptionsMenu(Menu menu) { 
        super.onCreateOptionsMenu(menu);
        MenuInflater inflater = getSupportMenuInflater();
        inflater.inflate(R.menu.my_option_menu, menu);
        return true;
    }
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {

        switch(item.getItemId()){
        case R.id.about:

            break; 
            case R.id.prayer:

            break;
        case R.id.privacy:

            break;
        case R.id.contact:

            break;
            case R.id.terms:

            break;
        case R.id.exit:

            break; 
        }
        return false;
   }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:51:07.117

你在运行模拟器吗？如果是，请检查：

[ICS 仿真器没有软件按钮？](https://stackoverflow.com/questions/8396510/no-software-buttons-for-the-ics-emulator)

如果你没有运行模拟器，这不是你的情况，你应该看看这里：

[http://android-developers.blogspot.com.es/2012/01/say-goodbye-to-menu-button.html](http://android-developers.blogspot.com.es/2012/01/say-goodbye-to-menu-button.html)

# c# - 如果循环有问题

> ID：15265459
> 
> 赞同：0
> 
> 时间：2013-03-07T07:30:23.150
> 
> 标签：c#, if-statement

我的问题是我的程序在 button21 的函数之间循环时遇到了麻烦，这取决于 if 语句的编写顺序，if 函数可以工作，但另一个不会。在下面的代码中，我将其设置为 button2，但我希望按钮 1 和按钮 2 都可以与 button21 一起使用，如果它们被选中的话。但是功能设置 qw==1 是在这个程序中工作的不是 qw==2 那么我的程序代码有什么问题？代码显示：

```
namespace Matematisk_indlæring
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        Random RND = new Random(Guid.NewGuid().GetHashCode());
        Random RND2 = new Random(Guid.NewGuid().GetHashCode());
        private void quitToolStripMenuItem_Click(object sender, EventArgs e)
        {
            this.Close();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            button1.Hide(); 
            button2.Hide();
            button3.Hide();
            button4.Hide();
            button5.Hide();
            label1.Show();
            textBox1.Show();
            button21.Show();
            double qw = 1;
            textBox2.Text = qw.ToString();
            string q = "1+1";
            label1.Text = q;
            int qq = 1 + 1;
            textBox3.Text = qq.ToString();
        }

        private void button21_Click(object sender, EventArgs e)
        {
            double qqq = Convert.ToDouble(textBox1.Text);
            double qq = Convert.ToDouble(textBox3.Text);
            int qw = Convert.ToInt32(textBox2.Text);
            if (qw == 1)
            {
                if (qq == qqq)
                {

                    MessageBox.Show("succes");
                    int qws1;

                    int qws;

                    qws1 = RND2.Next(51, 100);

                    qws = RND.Next(0, 50);

                    qq = qws1 + qws;
                    textBox3.Text = qq.ToString();
                    string tese = qws.ToString();
                    string tese2 = qws1.ToString();
                    label1.Text = tese2 + "+" + tese;

                }

                    if (qw == 2)
                    {
                        if (qq == qqq)
                        {

                            MessageBox.Show("succes");
                            int qws1;

                            int qws;

                            qws1 = RND2.Next(51, 100);

                            qws = RND.Next(0, 50);

                            qq = qws1 - qws;
                            textBox3.Text = qq.ToString();
                            string tese = qws.ToString();
                            string tese2 = qws1.ToString();
                            label1.Text = tese2 + "-" + tese;

                        }

                }
            }
        }
        private void button2_Click(object sender, EventArgs e)
        {
            button1.Hide();
            button2.Hide();
            button3.Hide();
            button4.Hide();
            button5.Hide();
            label1.Show();
            textBox1.Show();
            button21.Show();
            double qw = 2;
            textBox2.Text = qw.ToString();
              string q = "1-1";
                label1.Text = q;
                int qq = 1 - 1;
                textBox3.Text = qq.ToString();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:39:19.400

你在这里至少有一个逻辑缺陷。

在`button21_Click`：首先您测试是否`qw`为 1，然后您测试是否为 2。但没有任何代码更改`qw`。那么它怎么会突然从 1 变成 2 呢？

该方法中的代码本质上是：

```
int qw = Convert.ToInt32(textBox2.Text);

if (qw == 1)
{
    if (qq == qqq)
    {
        // code which does not modify qw
    }

    if (qw == 2)          // wrong placement of this if-statement!
    {
        // code which can never be called!
    }
} 
```

如您所见，`if (qw == 2)`这种方法永远无法控制，因为您嵌套了错误的 ifs .. 如果您修复缩进，您可以更容易地看到这一点。

另外：Du burde bruke engelsk klassenavn, ikke dansk :-)

# java - 需要 Lucene 4.1.0 源 jars 或 javadoc jars（使在 Eclipse 中使用 Lucene 4.1.0 进行开发可用）

> ID：15265460
> 
> 赞同：2
> 
> 时间：2013-03-07T07:30:27.573
> 
> 标签：java, eclipse, lucene

如何/在哪里获得 Lucene 4.1.0 的源 jars（或 javadoc jars）？

我刚刚从[http://www.apache.org/dyn/closer.cgi/lucene/java/4.1.0](http://www.apache.org/dyn/closer.cgi/lucene/java/4.1.0)中列出的镜像之一下载并解压了最新版本的 Lucene ，包括`lucene-4.1.0-src.tgz`和`lucene-4.1.0.tgz`. 我可以轻松地将后者中的 42 个 jar 添加到我的 Eclipse 项目中。

添加 javadoc 或源代码被证明更令人烦恼。

过去，我以某种方式获得了源 jar（每个都可以在 Eclipse 中通过 Project.right.click/Properties/Java_Build_Path/Libraries 附加到相应的字节编译 jar）。由于源代码已经包含 javadoc，这就是我在将鼠标悬停在类型和方法调用上时从 Eclipse 获得提示所需的全部内容，并且生活很好。（另外，我总是可以在需要时进入源代码）。

现在，我把鼻子伸进了 lucene-4.1.0-src，只是为了看看。当然，没有罐子（src 或其他）。但是尝试编译需要我首先设置“ivy”（打扰一下？）因为我在 Fedora 上，在完成规定后，`ant ivy-bootstrap`我遵循了一些额外的说明来进行 ivy 类型的工作（基本上归结为`echo rpm_mode=false >> ~/.ant/ant.conf`）。尽管如此，`ant jar-src`在顶层还是失败了（“/src/java 不存在”）。`ant clean compile`做得更好，但`ant jar`失败了（无效的清单）。

或者，`lucene-4.1.0.tgz`附带 95MB 的文档；如何将 Eclipse 中的 42 个 Lucene jar 与总共 95MB 的 5458 个文件连接起来？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T08:52:56.717

我强烈建议将[Maven](http://maven.apache.org/)构建工具与 Eclipse[集成](http://eclipse.org/m2e/download/)一起使用，因为它不仅会自动添加所有必要的库，而且还可以自动下载正在使用的库的所有源代码和 javadocs。

Small lifehack：我个人和我的团队`pom.xml`甚至在项目中使用 maven，我们使用其他构建的功能（`ant`或 IDE 的特定功能）。

如果你不想打扰 maven，我想介绍非常有用的资源：[http ://search.maven.org/](http://search.maven.org/)

在这里，您可以搜索（和查找）几乎所有 maven 的库，包括源代码和 javadocs。

你可以搜索`lucene-core`一下看看会发生什么： [http ://search.maven.org/#search|ga|1|lucene-core](http://search.maven.org/#search|ga|1|lucene-core)

在`Download`选项卡上，您将看到可以下载并添加到项目中`sources.jar`的选项卡。`javadoc.jar`

# java - Linux从Java程序复制文件

> ID：15265461
> 
> 赞同：4
> 
> 时间：2013-03-07T07:30:45.457
> 
> 标签：java, linux, copy

我用 getRuntime() API 编写了一个小的 java 代码，将文件从一个目录复制到另一个目录，但它失败了，我不明白为什么？当我从 shell 运行命令时，它运行良好，谁能告诉我我正在做的错误

```
 private static void copyFilesLinux(String strSource, String strDestination) {

    String s;
    Process p;
    try {
        // cp -R "/tmp/S1/"*  "/tmp/D1/"
        p = Runtime.getRuntime().exec(
                "cp -R '" + strSource + "/'* '" + strDestination + "/'");
        System.out.println("cp -R \"" + strSource + "/\"* \"" + strDestination + "/\"");
        System.out.println("cp -R '" + strSource + "/'* '" + strDestination + "/'");
        System.out.println(p.toString());
        BufferedReader br = new BufferedReader(new InputStreamReader(
                p.getInputStream()));
        while ((s = br.readLine()) != null)
            System.out.println("line: " + s);
        p.waitFor();
        System.out.println("exit: " + p.exitValue());
        p.destroy();
    }
    catch (InterruptedException iex) {
        iex.printStackTrace();
    }
    catch (IOException iox) {
        iox.printStackTrace();
    }
    catch (Exception e) {
        e.printStackTrace();
    }

} 
```

输出：

```
cp -R "/tmp/S1/"* "/tmp/D1/"

cp -R '/tmp/S1/'* '/tmp/D1/'

java.lang.UNIXProcess@525483cd

exit: 1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T09:35:05.677

它适用于以下代码，

```
 String[] b = new String[] {"bash", "-c", "cp -R \"" + strSource + "/\"* \"" + strDestination + "/\""};  
        p = Runtime.getRuntime().exec(b); 
```

我用谷歌搜索并找到了链接

[http://www.coderanch.com/t/423573/java/java/Passing-wilcard-Runtime-exec-command](http://www.coderanch.com/t/423573/java/java/Passing-wilcard-Runtime-exec-command)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:53:04.037

当您使用 的任何变体时，会*直接*`Runtime.exec()`调用二进制文件，而不是通过 shell。这意味着[不支持通配符](https://stackoverflow.com/questions/2111983/java-runtime-getruntime-exec-wildcards)，因为没有外壳来扩展它们。

 *我建议使用 Java 代码来复制你的文件——它会更便携，更安全。除此之外，您*可以*使用 shell 二进制文件通过其`-c`选项执行您的命令。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T07:45:57.873

除非您确实需要执行系统命令，否则您可以使用标准 java api 来做到这一点。

[http://docs.oracle.com/javase/tutorial/essential/io/copy.html](http://docs.oracle.com/javase/tutorial/essential/io/copy.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-03-11T03:50:47.643

它对我有用以下代码。

```
 public static void main(String []args) throws Exception{
        String s;
        Process p;
        try {
            String b[] = new String[4];
            b[0] = "cp";
            b[1] = "-R";
            b[2] = "HelloWorld.java";
            b[3] = "abc.java";

            p = Runtime.getRuntime().exec(b);
            BufferedReader br = new BufferedReader(
                new InputStreamReader(p.getInputStream()));
            while ((s = br.readLine()) != null)
                System.out.println("line: " + s);
            p.waitFor();
            System.out.println ("exit: " + p.exitValue());
            p.destroy();
        } catch (Exception e) {}        
     }
} 
```

创建一个`String[]`命令并在其中传递命令。*

# php - 使用 AJAX、PHP 的静态下拉菜单

> ID：15265465
> 
> 赞同：0
> 
> 时间：2013-03-07T07:30:50.553
> 
> 标签：php, ajax

单选.html

```
<html>
  <script>
    function singleselect(str)
    {
      var xmlhttp;
      if(str.length == 0)
      {
        document.getElementById("sing").innerHTML="";
        return;
      }

      if(window.XMLHttpRequest)
      {
         xmlhttp = new XMLHttpRequest();        
      }
      else
      {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
      }

      xmlhtttp.onreadystatechange = function()
      {
        if(xmlhttp.readyState == 4)
        {
          document.getElementById("sing").innerHTML = xmlhttp.responsetext;
        }
      }
      xmlhttp.open("POST","singleselect.php?s=" +str,true);
      xmlhttp.send();
    }
  </script>

  <style>
   div { font-family:verdana; font-size:13px; margin-left:400px; margin-top:100px; }
  </style>
  <body>
    <div>
     Select a country : 
       <select onchange="document(this.value)">
        <option>Select a country</option>
        <option value="0">INDIA</option>
        <option value="1">United States of America</option>
        <option value="2">United Kingdom</option>
        <option value="3">Australia</option>
     </select>
    </div>

    <div id="sing"></div>
  </body>
</html> 
```

单选.php

```
<?php    

$store[0] = "Please select a country";
$store[1] = "Andhra Pradesh";
$store[2] = "New York";
$store[3] = "London";
$store[4] = "Austraila";

$s = $_REQUEST['s'];

?> 
```

当我单击一个国家/地区时，应显示与该国家/地区相关的州列表，我希望在 php 中完成静态但使用数据库。因为我是 jQuery 和 AJAX。我需要你的指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:56:22.767

我不确定你想要什么，但我知道你想要一个根据国家/地区的州下拉列表。所以你需要这样做`singleselect.php`

```
$state_list = array(
'0' =>  array(
    'state 1',
    'state 2',
    'state 3'
    ),
'1' =>  array(
    'state 4',
    'state 5',
    'state 6'
    ),
'2' =>  array(
    'state 7',
    'state 8',
    'state 9'
    )
);

$select = '<select name="state">';
foreach($state_list[$_REQUEST['s']] as $key => $value) 
{
    $select .= '<option value="'.$key.'">'.$value.'</option>';
}
$select .= '</select>';

echo $select; 
```

也许它会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:21:10.363

如果您想要 arrauy 城市的数据，也许您可​​以执行以下操作：

```
$store[0] = "Please select a country";
$store[1][0] = "Andhra Pradesh";
$store[2][0] = "New York";
$store[3][0] = "London";
$store[4][0] = "Austraila";
$c= $_POST['s'];
if(isset($store[$c]) && is_array($store[$c])){
    foreach($store[$c] as $k=>$v){
        echo $v;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:48:27.770

我认为这就是你想要的状态。此外，最好使用国家代码而不是数字索引。

```
// states.php 

$states = array (
'IN' => array (
    'indian state',
    'indian state 2'            
    ),
'US' => array (
    'US state',
    'US state 2'
    )
);

$select = '';
if(isset($_POST['s']) && isset($states[$_POST['s']])) {
$select .= '<select name="states">';
foreach($states[$_POST['s']] as $state) {
        $select .= '<option value="' . $state . '">' . $state  . '</option>'; 
}
$select .= '</select>';     
echo $select;
} 
```

# android - 位置相对布局

> ID：15265469
> 
> 赞同：0
> 
> 时间：2013-03-07T07:31:04.790
> 
> 标签：android

我有一个相对布局，它小于屏幕的宽度和高度，它是 Activity 的所有布局的父级。我想将相对布局定位在屏幕的中心。

这是我尝试过的：

```
RelativeLayout mainRL = (RelativeLayout) findViewById(R.id.mainDataEntryRelativeLayout);
mainRL.layout(20, 30, 0, 0); 
```

但这不起作用。任何的想法？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:33:15.463

尝试`android:gravity="center_horizontal"`或`<YourRelativeLayout>.setGravity(Gravity.CENTER_HORIZONTAL)` 为此`RelativeLayout`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:54:06.213

我将值“center_vertical”和“center_horizo​​ntal”添加到属性“layout_gravity”。

```
android:layout_gravity="center_vertical|center_horizontal" 
```

# asp.net-mvc - 将 Json 数据发布为 webrequest 的查询字符串

> ID：15265471
> 
> 赞同：0
> 
> 时间：2013-03-07T07:31:10.187
> 
> 标签：asp.net-mvc, json, web-services, c#-4.0, httpwebrequest

在我的场景中，我的 API 处理读取它的 json

```
if (context.Request.Files.Count > 0)   
       {
            jsonData = context.Request.Params["key"]; 
       } 
```

从我的应用程序中，如何在没有 json 作为查询字符串参数的情况下向该 api 发送 Web 请求。Sine Json 很长，我知道查询字符串是有限的。

对于 android 和 ios，此 api 工作正常。

我试图将它添加到标题中。但徒劳无功。

我如何添加它以便“jsonData = context.Request.Params["key"]; ”将获得我的 json。我的请求格式在这里。

```
 urlS="http://abc.ashx?Key="+jsonRequestS;
            string boundary = "----------------------------" + DateTime.Now.Ticks.ToString("x");
            var webRequest1 = (HttpWebRequest)WebRequest.Create(urlS);
            webRequest1.Method = "POST";
            webRequest1.KeepAlive = false;
            webRequest1.ContentType =string.Format("multipart/form-data; boundary={0}", boundary);//                
            Stream postDataStream1 = handler.GetPostStream(boundary,jsonRequestS);               // Writes boundary and files to memory stream.

            webRequest1.ContentLength = postDataStream1.Length;
            Stream reqStream1 = webRequest1.GetRequestStream();

            postDataStream1.Position = 0;

            var bufferBytes = new byte[postDataStream1.Length];
            postDataStream1.Read(bufferBytes, 0, bufferBytes.Length);
            reqStream1.Write(bufferBytes, 0, bufferBytes.Length);

            postDataStream1.Close();
            reqStream1.Close();

            var sReader = new StreamReader(webRequest1.GetResponse().GetResponseStream());//here Am getting the error.
            string resultS = sReader.ReadToEnd(); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:21:04.000

谢谢你的回复。我找到了解决这个问题的方法。

将 Json 写入请求流，标头为

```
 postDataStream.Write(boundarybytes, 0, boundarybytes.Length);
            string header = string.Format("Content-Disposition: form-data; name=\"Key\"\r\n\r\n");
            headerbytes = Encoding.Default.GetBytes(header);
            postDataStream.Write(headerbytes, 0, headerbytes.Length);
            headerbytes = Encoding.Default.GetBytes(jsonRequestS);//writing json request.
            postDataStream.Write(headerbytes, 0, headerbytes.Length); 
```

在服务器端，在声明中可以很好地阅读

```
 jsonData = context.Request.Params["key"]; 
```

# language-agnostic - 确定网站内容语言

> ID：15265472
> 
> 赞同：0
> 
> 时间：2013-03-07T07:31:16.000
> 
> 标签：language-agnostic

对于我的一个应用程序，我需要通过获取网站的内容来确定网站的语言。

我想知道您对制作语言决定脚本的看法。你会使用哪些方法？哪种脚本语言？等等

此时我用几个方法用PHP写了一些代码；

*   通过 Content-Language 元标记确定语言
*   通过获取标题、描述、关键字来确定语言，并将这些与英语、荷兰语、德语等单词列表进行比较
*   通过html语言标签确定语言'
*   通过获取所有页面内容（将单词分隔成数组）来确定语言，并通过 array_search 将其与单词列表进行比较（最高匹配的语言数组是内容语言）。
*   通过语言标题确定语言

我现在正在采取这些步骤来确定语言，也正是按照这个顺序。如果一种方法成功地确定了语言，我将退出下一个函数。

这种方法是有效的，但并不总是那么准确。有人可以告诉我更多关于我可以检查的事情吗？也许是检查语言的其他方式（我不想使用 api）。

（最后我需要将这些语言设置为 MySql 数据库）。

期待听到一些建议！

提前致谢。

缺口

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T18:50:21.643

That will depends as long your text is..

First of all parse all html and extract only the text.

If it is long you can use a cheap method by looking only to stopwords. Get a list of stopwords for each language and figure out how many of them is into your text. You can get a nice list of stopwords in NLTK corpus(python) and take advantage of some good functions to tokenize sentences and words.

```
import nltk

ENGLISH_STOPWORDS = set(nltk.corpus.stopwords.words('english'))
NON_ENGLISH_STOPWORDS = set(nltk.corpus.stopwords.words()) - ENGLISH_STOPWORDS

STOPWORDS_DICT = {lang: set(nltk.corpus.stopwords.words(lang)) for lang in  
                                            nltk.corpus.stopwords.fileids()}

def get_language(text):
    words = set(nltk.wordpunct_tokenize(text.lower()))
    return max(((lang, len(words & stopwords)) for lang, stopwords in STOPWORDS_DICT.items()), 
                                                                  key = lambda x: x[1])[0]
lang = get_language('This is my test text') 
```

More explanation on [http://www.algorithm.co.il/blogs/programming/python/cheap-language-detection-nltk/](http://www.algorithm.co.il/blogs/programming/python/cheap-language-detection-nltk/)

If you want to go through python+nltk don't forget to download nltk corpus after installing.

```
import nltk
nltk.download() 
```

# apache-camel - Camel XSLT2.0 支持

> ID：15265474
> 
> 赞同：1
> 
> 时间：2013-03-07T07:31:24.397
> 
> 标签：apache-camel, fuseesb, jbossfuse

我试图整合 Camel 以使用 XSLT2.0，但由于无法“编译样式表”而出现异常

我的骆驼配置路线如下

还将 xalan.jar 和 saxon9he.jar 放在 JAVA_HOME/lib/endorsed 目录中。我需要做的任何其他事情

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:47:51.660

您需要将 Saxon 添加到您的类路径中才能支持 XSLT 2.0。来自 JDK/JVM 的默认 xslt 引擎仅支持 XSLT 1.x。 [http://saxon.sourceforge.net/](http://saxon.sourceforge.net/)

您可以将 camel-saxon 添加到类路径以包含 saxon。

Camel 还会记录它使用的 xslt 引擎。尽管我认为您可能需要 Camel 2.9 或 2.10 才能做到这一点，正如我们最近添加的那样。

# python - python popen可以捕获子进程的子进程的交互输出吗

> ID：15265477
> 
> 赞同：1
> 
> 时间：2013-03-07T07:31:34.140
> 
> 标签：python, jython, pexpect, installanywhere

我们有一个名为 app.exe 的应用程序，它又是 installanywhere 启动器的 java.exe 的包装器。假设我们有一个 python 脚本 a.py 调用 app.exe 然后生成 java.exe 进程，我们如何捕获 a.py 和 java.exe 之间的交互输出和输入

Popen 能做到吗？有没有我们可以阅读更多内容的简单示例？pexpect 也可以在这种情况下使用吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:58:28.197

That's possible if your *a.exe* redirects its own stdin to *java.exe* stdin and *java.exe* stdout to its own *stdout*.

Have a look at [subprocess.Popen](http://docs.python.org/2/library/subprocess.html#subprocess.Popen). There are 2 optional arguments: *stdin* controlling subproces's standard input and *stdout*, which controls subproces's standard output.

# database - 数据库数据差异工具，用于比较不同数据库中公用表中的数据

> ID：15265478
> 
> 赞同：3
> 
> 时间：2013-03-07T07:31:34.110
> 
> 标签：database, oracle, db2

我有一个源数据库和一个目标数据库，我正在将一些数据从一个迁移到另一个。在此过程之后，我想将 2 个数据库与架构中的任何更改以及**现有数据进行**比较。

我知道有一个名为[Aqua Data](http://www.aquafold.com/) Studio 的工具....但我正在寻找任何类似于它们的**免费工具。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:13:07.277

对于这种同步，我使用自己的工具：[http ://code.activestate.com/recipes/576534-dump-oracle-db-schema-to-text/](http://code.activestate.com/recipes/576534-dump-oracle-db-schema-to-text/)

它使用应该易于文本比较的格式。我为我使用的其他数据库创建了类似的工具：Informix 和 PostgreSQL（也在 Python 配方上）。

这些工具仅适用于模式。

比较数据更加困难，但并非所有数据都很重要（例如“事件日志”表中的差异）。因此，我创建了根据用户必须写入 full 的配置转储数据的工具`SELECT ... ORDER BY ...`。该工具将数据转储为类似于 PostgreSQL`COPY`格式的 CSV 文件，`ORDER BY`因此应该很容易进行文本比较。当然，这有一些限制，比如 BLOBS。

# android - 以多行显示线性布局的子级

> ID：15265480
> 
> 赞同：3
> 
> 时间：2013-03-07T07:31:40.273
> 
> 标签：android, button, gridview, android-linearlayout

我在水平线性布局下大约有 8 个按钮。如果我将按钮宽度大小设置为 50dp，则仅显示 4 个按钮，并且显示第 5 个按钮的某些部分。我想将这些按钮显示为一行中的前四个按钮和下一行中的另一个。

请建议我如何做到这一点。提前致谢。

![在此处输入图像描述](../Images/2b391569b1dc38dc3ff97ec298b10788.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:33:17.687

然后使用 2 个线性布局，每行按钮一个。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-07T07:40:44.443

使用[GridView](http://developer.android.com/guide/topics/ui/layout/gridview.html)而不是 LinearLayout 。

# symfony - SonataMediaBundle 和 S3 集成

> ID：15265486
> 
> 赞同：0
> 
> 时间：2013-03-07T07:31:52.947
> 
> 标签：symfony, amazon-s3, sonata-admin

我正在尝试使用 SonataMediaBundle 将图像上传到 S3。有没有我可以参考这个集成的例子？

这是我到目前为止所做的：

*   在 S3 上创建一个存储桶
*   使用 sonata_media S3 属性更新 config.yml

奏鸣曲媒体：

```
filesystem:

   s3:
        bucket: mybucket
        accessKey: myaccesskey
        secretKey: mysecretkey
        create: false 
```

*   在 autoloader.php 上添加 AWS 开发工具包

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T17:58:46.627

我解决了我的问题。结果，我错过了配置文件中的这一行。

```
providers:
   image:
      filesystem: sonata.media.filesystem.local 
```

# regex - 如何改进这个正则表达式？

> ID：15265487
> 
> 赞同：2
> 
> 时间：2013-03-07T07:31:53.710
> 
> 标签：regex

我写了这个正则表达式来识别美国类型的电话号码：

```
\(?\d{3}\)?(-|\s)\d{3}-\d{4} 
```

这适用于电话号码，例如：

217-244-2424 和 (217) 244-2424。

但是它也适用于不平衡的括号，例如 (217-244-2424

如何改进正则表达式以确保括号平衡？（我知道之前提出的关于正则表达式电话号码的问题[，](https://stackoverflow.com/questions/123559/a-comprehensive-regex-for-phone-number-validation)但我无法从那里找到我想要的东西。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:38:38.327

我会回答你关于正则表达式的具体问题。您可以尝试这样的事情来处理括号：

```
^(\(\d{3}\)|\d{3})-(\d{3})-(\d{4})$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:39:11.213

我没有测试过，但为什么不使用交替运算符（“|”）？您可以选择同时使用括号，也可以都不使用：

```
(\(\d{3}\)|\d{3})(-|\s)\d{3}-\d{4} 
```

# c# - 从 Object Observable 集合中选择单列

> ID：15265490
> 
> 赞同：1
> 
> 时间：2013-03-07T07:32:06.733
> 
> 标签：c#, wpf, selection, observablecollection

我`ObservableCollection`在运行时填充了 4 列。

```
public ObservableCollection<object> SelectedRows; 
```

我想从此集合中获取 Id 列值，但我无法使用 LINQ 获取此值，因为在编译时我不知道集合中存在 Id 列。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:39:38.647

Maybe something like this:

```
vat w = from s in db.table
        select s.id;

foreach (var i in w)
{ 
    console.writeln(i);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:31:18.063

```
var selectedIndexId = from itemSelectedRows in <YourListName>.ToList<object>()
                      select itemSelectedRows.GetType().GetProperty("Id").GetValue(itemSelectedRows, null); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T08:06:39.557

您可以使用数据绑定来做到这一点：

```
<ListBox ItemsSource="{Binding SelectedRows}"
         DisplayMemberPath="The property to be displayed"
         SelectValuePath="The property that SelectedValue would bind to"
         SelectedValue="{Binding SelectedRowId}" /> 
```

如果您需要在 C# 中执行此操作，我强烈建议您的对象实现您可以转换为的通用接口。否则，您可以使用`dynamic`关键字：

```
SelectedRows.Cast<dynamic>().Select(d => (int)d.Id) 
```

# c# - 从通用列表转换错误 到通用列表

> ID：15265493
> 
> 赞同：3
> 
> 时间：2013-03-07T07:32:12.930
> 
> 标签：c#, .net, linq, compiler-errors

我有下面的代码

```
List<string> esfa = NewTable.AsEnumerable().Where(row => row.Field<string>("Select")   
=="true").ToList(); 
```

编译时出错

> 无法将类型隐式转换`'System.Collections.Generic.List<System.Data.Datarow>'`为`'System.Collections.Generic.List<string>'`

请帮忙。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T07:34:03.683

嗯，是。您正在按字段进行*过滤*`Select`- 但该过滤的结果仍然是一系列行。我希望这会是您想要的 - 毕竟，您知道`Select`每一行中字段的值，所以这不会很有趣......

我想你可能只是想要：

```
List<DataRow> rows = NewTable.AsEnumerable()
                             .Where(row => row.Field<string>("Select") == "true")
                             .ToList(); 
```

（请注意，像这样将代码分成多行可以极大地提高可读性。）

如果你真的想要其他字段的值，你可能想要这样的东西：

```
List<string> rows = NewTable.AsEnumerable()
                            .Where(row => row.Field<string>("Select") == "true")
                            .Select(row => row.Field<string>("LastName"))
                            .ToList(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:35:49.943

试试这个：

```
List<string> esfa = db.AsEnumerable()
                      .Where(row => row.Field<string>("Select") == "true")
                      .Select(s => s.Field<string>("Select"))
                      .ToList(); 
```

linq`.Select`使您可以选择当前集合的任何属性。使用“选择”列以外的任何其他有用字段。

# izpack - IzPack 安装程序：无法选择磁盘

> ID：15265495
> 
> 赞同：1
> 
> 时间：2013-03-07T07:32:18.827
> 
> 标签：izpack

今天我创建了一个 izpack 安装程序来使用 maven-izpack-plugin 和 install.xml 安装我的 maven-project。

构建顺利:)

但是，当我现在测试 installer.jar 时，我遇到了问题，因为 izpack 窗口是空的，所以我无法选择要存储软件的磁盘。

如果不选择磁盘，我就无法继续前进。“安装所需的磁盘空间超过了可用磁盘空间。

有人知道如何解决这个问题吗？

下面是 izpack maven 模块的 pom：

```
<build>
    <pluginManagement>
        <plugins>
            <plugin>
                <groupId>org.eclipse.m2e</groupId>
                <artifactId>lifecycle-mapping</artifactId>
                <version>1.0.0</version>
                <configuration>
                    <lifecycleMappingMetadata>
                        <pluginExecutions>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.apache.maven.plugins</groupId>
                                    <artifactId>maven-antrun-plugin</artifactId>
                                    <versionRange>[1.0.0,)</versionRange>
                                    <goals>
                                        <goal>run</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <ignore />
                                </action>
                            </pluginExecution>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.apache.maven.plugins</groupId>
                                    <artifactId>maven-dependency-plugin</artifactId>
                                    <versionRange>[1.0.0,)</versionRange>
                                    <goals>
                                        <goal>copy-dependencies</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <ignore />
                                </action>
                            </pluginExecution>
                        </pluginExecutions>
                    </lifecycleMappingMetadata>
                </configuration>
            </plugin>
        </plugins>
    </pluginManagement>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-antrun-plugin</artifactId>
            <executions>
                <execution>
                    <id>create-staging-area</id>
                    <phase>process-resources</phase>
                    <goals>
                        <goal>run</goal>
                    </goals>
                    <configuration>
                        <tasks>
                            <copy todir="${izpack.staging}">
                                <fileset dir="${basedir}/src/izpack" />
                            </copy>
                        </tasks>
                    </configuration>
                </execution>
            </executions>
        </plugin>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-dependency-plugin</artifactId>
            <version>2.5.1</version>
            <executions>
                <execution>
                    <!-- copy *application* jars to izpack staging lib -->
                    <id>copy-product-dependencies</id>
                    <phase>prepare-package</phase>
                    <goals>
                        <goal>copy-dependencies</goal>
                    </goals>
                    <configuration>
                        <outputDirectory>${izpack.staging}/lib</outputDirectory>
                        <excludeTransitive>false</excludeTransitive>
                        <stripVersion>true</stripVersion>
                        <overWriteReleases>true</overWriteReleases>
                        <overWriteSnapshots>true</overWriteSnapshots>
                        <overWriteIfNewer>true</overWriteIfNewer>
                        <excludeScope>system</excludeScope> <!-- this excludes tools.jar, e.g. -->
                        <excludeArtifactIds>mycustompanels</excludeArtifactIds> <!-- IMPORTANT: don't copy custom panels where our application jars live -->
                        <excludeGroupIds>org.codehaus.izpack</excludeGroupIds> <!-- IMPORTANT: we don't want to copy the izpack dependency where our application 
                            jars live -->
                    </configuration>
                </execution>
                <execution>
                    <!-- copy izpack custom (custom panels, etc.) jars to izpack staging 
                        custom -->
                    <id>copy-izpack-dependencies</id>
                    <phase>prepare-package</phase>
                    <goals>
                        <goal>copy-dependencies</goal>
                    </goals>
                    <configuration>
                        <outputDirectory>${izpack.staging}/custom</outputDirectory>
                        <excludeTransitive>false</excludeTransitive>
                        <stripVersion>true</stripVersion>
                        <overWriteReleases>true</overWriteReleases>
                        <overWriteSnapshots>true</overWriteSnapshots>
                        <overWriteIfNewer>true</overWriteIfNewer>
                    </configuration>
                </execution>
            </executions>
        </plugin>
        <plugin>
            <groupId>org.codehaus.izpack</groupId>
            <artifactId>izpack-maven-plugin</artifactId>
            <executions>
                <execution>
                    <phase>package</phase>
                    <goals>
                        <goal>izpack</goal>
                    </goals>
                    <configuration>
                        <!-- base for relative paths in izpack descriptor -->
                        <baseDir>${izpack.staging}</baseDir>
                        <installFile>${basedir}/src/izpack/install.xml</installFile>
                    </configuration>
                </execution>
            </executions>
            <dependencies>
                <dependency>
                    <groupId>org.codehaus.izpack</groupId>
                    <artifactId>izpack-panel</artifactId>
                    <version>${izpack.version}</version>
                </dependency>
            </dependencies>
        </plugin>
    </plugins>
</build>

<dependencies>
    <dependency>
        <groupId>de.projects</groupId>
        <artifactId>project1</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </dependency>
    <dependency>
        <groupId>de.projects</groupId>
        <artifactId>project2</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </dependency>
</dependencies>

<properties>
    <izpack.version>5.0.0-beta11</izpack.version>
    <izpack.staging>${project.build.directory}../../../dist/staging</izpack.staging>
</properties> 
```

继承人 install.xml

```
<?xml version="1.0" encoding="iso-8859-1" standalone="yes"?>
<installation version="5.0">
<info>
    <appname>myApp</appname>
    <appversion>1.0</appversion>
    <uninstaller name="Uninstaller.jar" write="yes"/>
    <javaversion>1.7</javaversion>
    <requiresjdk>no</requiresjdk>
    <writeinstallationinformation>yes</writeinstallationinformation>
    <pack200/>
    <run-privileged condition="izpack.windowsinstall.vista|izpack.windowsinstall.7"/>
</info>
<guiprefs height="600" resizable="no" width="800">
    <modifier key="useFlags" value="yes"/>
    <modifier key="langDisplayType" value="default"/>
</guiprefs>
<locale>
    <langpack iso3="eng"/>
</locale>
<panels>
    <panel classname="CheckedHelloPanel"/>
    <panel classname="PacksPanel"/>
    <panel classname="TargetPanel"/>
    <panel classname="InstallPanel"/>
    <panel classname="SimpleFinishPanel"/>
</panels>
<packs>
    <pack name="Data" preselected="yes" required="yes">
        <description/>
        <file override="update"
            src="home\dist\data" targetdir="$INSTALL_PATH/"/>
    </pack>
    <pack name="Libs" preselected="yes" required="yes">
        <description/>
        <file override="update"
            src="home\dist\lib" targetdir="$INSTALL_PATH/"/>
    </pack>
</packs> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-05T14:24:54.347

请尝试在 install.xml 中将 TargetPanel 放在 PacksPanel 之前。原因是 PacksPanel 的实现需要 $INSTALL_PATH ，如果放置在 TargetPanel 之前，它将正确提供。

```
<panel classname="TargetPanel"/>
<panel classname="PacksPanel"/> 
```

# javascript - 如果目的地离起点很近，如何在谷歌地图中显示 2 个标记来区分起点和终点？

> ID：15265498
> 
> 赞同：0
> 
> 时间：2013-03-07T07:32:32.843
> 
> 标签：javascript, google-maps, google-maps-api-3

![在此处输入图像描述](../Images/27cf6c483812a93e7c42cadf6ece61cd.png)我开发了 google api 来查找两个地方之间的路线......但是当起点和目的地非常靠近时，用于目的地的标记仅可见，即 [Marker B] ...起点标记 [Marker A] 隐藏在目的地后面 [标记 B] ...我需要原点 [标记 A] 应该在目的地 [标记 B] 之外稍微可见...查看我随附的示例图像，只有标记 B 是可见的...需要标记 A 也应该是可见的... 是否可以 ？下面的代码应该做哪些改变？

```
var myOptions = 
{
    center: new google.maps.LatLng(default_latitude,default_longitude),
    zoom: 4,
    mapTypeId: google.maps.MapTypeId.ROADMAP
};

var map = new google.maps.Map(document.getElementById("mapp"),myOptions);

var latlng=new google.maps.LatLng(glat,glon);

directionsDisplay.setMap(map);
directionsDisplay.setPanel(document.getElementById("panel"));
var request = {
  origin: acity,
  destination:latlng,
  travelMode: google.maps.DirectionsTravelMode.DRIVING
};

directionsService.route(request, function(response, status) {
  if (status == google.maps.DirectionsStatus.OK) {
    directionsDisplay.setDirections(response);
  }
}); 
google.maps.event.trigger(map, 'resize'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:12:50.610

1.  将 suppressMarkers:true 选项添加到[DirectionRenderer 选项](https://developers.google.com/maps/documentation/javascript/reference#DirectionsRendererOptions)
2.  添加您的图标，使[“开始”标记](https://developers.google.com/maps/documentation/javascript/reference#MarkerOptions)的 zIndex 大于结束标记的 zIndex。

# iphone - 在 Facebook iOS 的用户朋友墙上发布消息

> ID：15265500
> 
> 赞同：2
> 
> 时间：2013-03-07T07:32:33.383
> 
> 标签：iphone, objective-c, facebook-graph-api, ios6

在我的应用程序中，我获得了用户的朋友列表，并在朋友墙中发布了墙。我已经成功获得了朋友列表，但是当我在他们的墙中发布时，它无法工作。所以请帮助我。

我得到了类似错误 - 错误：域 = com.facebook.sdk，代码 = 5

我做了很多搜索并使用了很多代码，但它还没有帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:44:01.473

请尝试在 ButtonAction 中写入以下代码

```
NSArray *permissions =[NSArray arrayWithObjects:@"publish_actions",@"publish_stream",@"manage_friendlists", nil];

[[FBSession activeSession] reauthorizeWithPublishPermissions:permissions defaultAudience:FBSessionDefaultAudienceFriends
                                           completionHandler:^(FBSession *session, NSError *error) {
                                               /* handle success + failure in block */
                                           }]; 
```

这可能会奏效。[参考自](https://stackoverflow.com/questions/13745474/integration-error-while-posting-message-on-friends-wall)

# java - 如何使用 struts 更新和读取 Arraylist 对象中的单选按钮选择值（每行一个）

> ID：15265501
> 
> 赞同：1
> 
> 时间：2013-03-07T07:32:34.273
> 
> 标签：java, jsp, struts, jstl

我正在使用 struts 1.3 开发一些员工注册应用程序。在一个 jsp 页面上，一个表格显示了所有注册请求，包括该特定员工的所有详细信息（每个员工注册请求一行）。每行包含两个已批准和拒绝的单选按钮。管理员必须选择他可以跳过几行的任何一个（使其挂起）。按下提交按钮后，如何根据管理员的选择一一读取所有单选按钮值以更新数据库。

我尝试了什么：

1.  DataAccess.java 类（处理集合的 Bean）

    ```
    public class DataAccess {

        private String regid,fname,lname,email,eid,contact,address,jdate,qualification,designation,adminchoice,imagepath;
        private String reqdate,approvedate,rejectdate,ipaddress;

        ArrayList<DataAccess> userList;

        //write the public constructors....        
        public DataAccess(){ }

        public DataAccess(String regid,String fname, String lname,String email,String eid,String contact,String address,String jdate,String qualification,String designation,String adminchoice,String imagepath,String reqdate,String approvedate,String rejectdate,String ipaddress)
        {
            this.regid=regid;
            this.fname=fname;
            this.lname=lname;
            this.email=email;
            this.eid=eid;
            this.contact=contact;
            this.address=address;
            this.jdate=jdate;
            this.qualification=qualification;
            this.designation=designation;
            this.adminchoice=adminchoice;
            this.imagepath=imagepath;
            this.reqdate=reqdate;
            this.approvedate=approvedate;
            this.rejectdate=rejectdate;
            this.ipaddress=ipaddress;
        }

        //Setter and getter methods for all properties...

        //for registration id....
        public void setRegid(String regid) { this.regid=regid;}
        public String getRegid(){ return regid;}

        // for first name....   
        public void setFname(String fname) { this.fname=fname;}
        public String getFname() { return fname;}

        //for last name....
        public void setLname(String lname) { this.lname=lname;}
        public String getLname(){ return lname;}

        //for email....
        public void setEmail(String email) { this.email=email;}
        public String getEmail(){ return email;}

        //for eid....
        public void setEid(String eid) { this.eid=eid;}
        public String getEid(){ return eid;}

        //for contact no....
        public void setContact(String contact) { this.contact=contact;}
        public String getContact() { return contact; }

        //for address....
        public void setAddress(String address){ this.address=address;}
        public String getAddress(){ return address;}

        //for joining date....
        public void setJdate(String jdate){ this.jdate=jdate;}
        public String getJdate(){ return jdate;}

        //for qualification....
        public void setQualification(String qualification) { this.qualification=qualification;}
        public String getQualification(){ return qualification; }

        //for experience....
        public void setDesignation(String designation) { this.designation=designation;}
        public String getDesignation() { return designation;}

        //for admin choice....
        public void setAdminchoice(String adminchoice){ this.adminchoice=adminchoice;}
        public String getAdminchoice(){ return adminchoice; }

        //for image path....
        public void setImagepath(String imagepath){ this.imagepath=imagepath;}
        public String getImagepath(){ return imagepath; }

        //for registration request date....
        public void setReqdate(String reqdate) { this.reqdate=reqdate;}
        public String getReqdate(){ return reqdate;}

        //for registration approval date....
        public void setApprovedate(String approvedate) { this.approvedate=approvedate;}
        public String getApprovedate(){ return approvedate;}

        //for registration rejection date....
        public void setRejectdate(String rejectdate) { this.rejectdate=rejectdate;}
        public String getRejectdate(){ return rejectdate;}

        //for ip address....
        public void setIpaddress(String ipaddress) { this.ipaddress=ipaddress;}
        public String getIpaddress(){ return ipaddress;}

        public ArrayList<DataAccess> createList()
        {
            userList=new ArrayList<DataAccess>();
            return userList;
        }

        public void addData(DataAccess da)
        {
            userList.add(da);
        }
    } 
    ```

2.  在我的 ActionForm 课程中

    ```
    private ArrayList<DataAccess> dataList;
    public void setDataList(ArrayList<DataAccess> dataList) {this.dataList = dataList;}
    public ArrayList<DataAccess> getDataList() {return dataList;} 
    ```

3.  在我的 Action 类中执行方法（）：此方法将控件发送到一个 jsp 页面（Pending.jsp），我在其中显示所有待处理的请求。在此页面控件转到同一 DispatchAction 类的approveUsers(----) 方法以更新数据库之后。

    ```
    DataAccess dtacs=new DataAccess();
    ArrayList<DataAccess> userList=dtacs.createList();

    do{
        if(rs3.next())
        {
            System.out.println("BBB.");
            jdate_string=new SimpleDateFormat("dd/MMM/YYYY").format(rs2.getDate(7));
            reqdate_string=new SimpleDateFormat("hh:mm:ss a
            dd/MMM/YYYY").format(rs2.getTimestamp(14)); 

            userList.add(new DataAccess(rs2.getString(1),rs2.getString(3),rs2.getString(4),
            rs3.getString(1),  rs2.getString(13),rs2.getString(5),rs2.getString(6),jdate_string,
            rs2.getString(8),rs2.getString(9),"no",rs2.getString(12),reqdate_string,"Not Approved",
            "Not Rejected",rs3.getString(2)));

            System.out.println(userList.size());
        }//if closing..

    } while(rs1.next());

    req.setAttribute("data", userList);
    return map.findForward("gopending"); 
    ```

4.  我的 Jsp 页面代码(Pending.jsp)

    ```
    <logic:iterate id="item" name="data" indexId="idx">
        <tr>
            <td><bean:write name="idx"/></td>
            <td><bean:write name="item" property="regid"/></td>
            <td><bean:write name="item" property="eid"/></td>
            <td><bean:write name="item" property="fname"/></td>
            <td><bean:write name="item" property="lname"/></td>
            <td><bean:write name="item" property="designation"/></td>
            <td><bean:write name="item" property="email"/></td>
            <td><bean:write name="item" property="contact"/></td>
            <td><bean:write name="item" property="address"/></td>
            <td><bean:write name="item" property="qualification"/></td>
            <td><bean:write name="item" property="jdate"/></td>
            <td><bean:write name="item" property="reqdate"/></td>
            <td><bean:write name="item" property="ipaddress"/></td>
            <td><html:radio name="item" property="dataList"  indexed="true" value="approved"/></td>
            <td><html:radio name="item" property="dataList"  indexed="true" value="rejected"/></td> 
        </tr>
    </logic:iterate> 
    ```

问题是，如果我没有放置单选按钮，它会正确显示数据。当我尝试放置单选按钮（用于管理员选择批准或拒绝）时，我收到此错误：

```
javax.servlet.jsp.JspException: No getter method available for property dataList for bean under name item 
```

我还尝试将这些 getter 和 setter 放在 DataAccess.java（用于收集的 Bean 类）和 AppForm 类（FormBean）中，但没有运气..

```
public void setItem(int index,DataAccess value){this.dataList.add(index,value);}
public DataAccess getItem(int index){return this.dataList.get(index);} 
```

任何帮助，建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:07:09.143

最后我解决了这个问题。

以下是处理此问题的一些建议

```
1)Follow the above steps.
2)I did a silly mistake, while taking the radio buttons put property="adminchoice" (in my case).
3) Read the corresponding admin choice in the execute method of Action class where control goes after submitting form. 
```

# css - 三页使用的一个母版页 CSS 问题

> ID：15265502
> 
> 赞同：0
> 
> 时间：2013-03-07T07:32:34.723
> 
> 标签：css, html, master-pages

我有一个用于三页的母版页。事情就是这样，我对此无能为力。此母版页生成一个背景颜色为白色的类元素。我想让它在其中一页上是白色的，在另一页上是黑色的。

但问题是两个页面都使用相同的母版页，这意味着我不能指定具有不同的颜色。这些页面是由配置单元生成的，这意味着我无法编辑这些页面。我只能使用 css 文件和母版页。

非常感谢任何形式的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T15:46:01.503

如果你可以添加一些内联 CSS

身体 {

背景： ;

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:00:43.843

如果您能以某种方式检测到使用主服务器的页面 ID/名称就可以了。或者使用 javascript 获取您的网址并进行比较，因此如果它是第一页，则应用黑色内联样式，如果不是则将其保留为白色。

# c# - 更改会员连接字符串

> ID：15265503
> 
> 赞同：7
> 
> 时间：2013-03-07T07:32:35.847
> 
> 标签：c#, .net, connection-string, sqlmembershipprovider

我是 asp.net 成员的新手，我需要帮助以编程方式更改其连接字符串。

我到目前为止所尝试的是

我创建了一个类项目名称 Sample 作为命名空间** 并扩展了`System.Web.Security.SqlMembershipProvider`

代码为

```
namespace Sample
{
    public class Connectionstring : SqlMembershipProvider
    {
        public override void Initialize(string name, System.Collections.Specialized.NameValueCollection config)
        {
            string connectionString = "server=xx.xx.xx;database=db;user id=un;password=pwd";    

           // Set private property of Membership provider.  
           FieldInfo connectionStringField = GetType().BaseType
                     .GetField("_sqlConnectionString", BindingFlags.Instance |
                                                       BindingFlags.NonPublic);
           connectionStringField.SetValue(this, connectionString);
        }
    }
} 
```

并将会员标签中的网络配置文件更改为

```
<membership defaultProvider="SQLMembershipProvider">
  <providers>
    <add name="SQLMembershipProvider" type="sample.Connectionstring,sample" connectionStringName="SQLMembershipConnString" applicationName="@@@@@@@" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" passwordFormat="Hashed" />
  </providers>
</membership> 
```

并且在运行 Web 应用程序项目时，我正在更改的连接字符串不会被更改？

等待您的宝贵回复和意见

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-03T16:36:30.237

我在网上也发现了这个[问题](http://forums.asp.net/t/997608.aspx)：

一个更简单但有点令人惊讶的解决方案是在请求的生命周期中尽早修改提供程序中的连接字符串：

```
 private void SetProviderConnectionString(string connectionString)
     {
         var connectionStringField = 
         Membership.Provider.GetType().GetField("_sqlConnectionString", 
                     BindingFlags.Instance | BindingFlags.NonPublic);

         if (connectionStringField != null)
             connectionStringField.SetValue(Membership.Provider, connectionString);
     } 
```

从 Application_PreRequestHandlerExecute 中的 Global.asax.cs 调用这个方法来完成这项工作。没有过多地测试它，但即使某些东西不起作用，也只是意味着它需要早点完成。不保证这将适用于框架的未来版本，尽管很可能会。

因此，可以手动调用“SetProviderConnectionString”方法（在 Initialize 方法完成后），而不是在第一次引用 Membership.Provider 时期望框架调用覆盖的 Initialize 方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-10-21T19:03:39.120

您似乎没有`base.Initialize`从您的`Initialize`覆盖中调用。我很惊讶在这种情况下什么都有效。

在 .NET 4（不确定早期版本）中，您应该能够在调用之前将连接字符串添加到配置集合`base.Initialize`中，如下所示：

```
public override void Initialize(string name, NameValueCollection config)
{
    config["connectionString"] = ... whatever ...;
    base.Initialize(name, config);
} 
```

这避免了使用反射来访问私有字段的需要。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T23:48:01.830

出于什么原因，您不在 Web 配置中使用连接字符串？

通常，Web 服务器将使用 Web 服务器的凭据访问数据库，而不是单个用户的凭据。

这是 asp.net 身份验证的通用设置指南。 [http://vstudiojourney.blogspot.com/2008/06/choosing-another-database-for.html](http://vstudiojourney.blogspot.com/2008/06/choosing-another-database-for.html)

# ffmpeg - FFMPEG x264 MP4 编码全灰

> ID：15265505
> 
> 赞同：2
> 
> 时间：2013-03-07T07:32:54.147
> 
> 标签：ffmpeg

我目前在 CentOS 6.3 上使用 FFMPEG v1.1。

我配置了 FFMPEG：

```
./configure --arch=x86_64  --enable-libmp3lame  --enable-librtmp  --enable-libtheora --enable-libvorbis  --enable-libx264 --enable-pthreads --enable-gpl --enable-runtime-cpudetect 
```

当我运行一个简单的命令通过以下方式将实时输入记录到 MP4 时：

```
ffmpeg -f video4linux2 -s 640x480 -i /dev/video0 /home/irdb/Desktop/test.mp4 
```

我什么也没得到，只是一个灰色的屏幕，边缘有一些伪影。但是，当我运行与 .MPG 相同的命令时，结果很好。但是，我需要 MP4 格式的。

附带说明一下，我正在运行通过 yum 安装的 x264-0.120

我的问题是，我编译ffmpeg的方式有问题吗？或者它可能是别的什么？

**编辑：**

根据要求输出示例：

```
# ffmpeg -f video4linux2 -s 640x480 -t 5 -i /dev/video0 -strict 2 /home/irdb/Desktop/test.mp4
ffmpeg version N-50546-g1f5b5b8 Copyright (c) 2000-2013 the FFmpeg developers
built on Mar  7 2013 00:17:44 with gcc 4.4.6 (GCC) 20120305 (Red Hat 4.4.6-4)
configuration: --enable-libmp3lame --enable-librtmp --enable-libtheora --enable-   libvorbis --enable-libx264 --enable-pthreads --enable-gpl --enable-runtime-cpudetect
libavutil      52\. 18.100 / 52\. 18.100
libavcodec     54\. 92.100 / 54\. 92.100
libavformat    54\. 63.104 / 54\. 63.104
libavdevice    54\.  3.103 / 54\.  3.103
libavfilter     3\. 42.103 /  3\. 42.103
libswscale      2\.  2.100 /  2\.  2.100
libswresample   0\. 17.102 /  0\. 17.102
libpostproc    52\.  2.100 / 52\.  2.100
[video4linux2,v4l2 @ 0x3025120] Estimating duration from bitrate, this may be   inaccurate
Input #0, video4linux2,v4l2, from '/dev/video0':
Duration: N/A, start: 128.640356, bitrate: 147456 kb/s
Stream #0:0: Video: rawvideo (YUY2 / 0x32595559), yuyv422, 640x480, 147456 kb/s, 30 fps, 30 tbr, 1000k tbn, 1000k tbc
[libx264 @ 0x3026f80] using cpu capabilities: MMX2 SSE2Fast SSEMisalign LZCNT
[libx264 @ 0x3026f80] profile High 4:2:2, level 3.0, 4:2:2 8-bit
[libx264 @ 0x3026f80] 264 - core 130 r2274 c832fe9 - H.264/MPEG-4 AVC codec -  Copyleft 2003-2013 - http://www.videolan.org/x264.html - options: cabac=1 ref=3  deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1  me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=6 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1  interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1  b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to '/home/irdb/Desktop/test.mp4':
Metadata:
encoder         : Lavf54.63.104
Stream #0:0: Video: h264 ([33][0][0][0] / 0x0021), yuv422p, 640x480, q=-1--1, 15360 tbn, 30 tbc
Stream mapping:
Stream #0:0 -> #0:0 (rawvideo -> libx264)
Press [q] to stop, [?] for help
frame=   32 fps=0.0 q=0.0 size=       0kB time=00:00:00.00 bitrate=N/A dup=21    drframe=   46 fps= 46 q=0.0 size=       0kB time=00:00:00.00 bitrate=N/A dup=28 drframe=    62 fps= 41 q=29.0 size=      71kB time=00:00:00.33 bitrate=1735.2kbits/frame=   76 fps=  38 q=29.0 size=     169kB time=00:00:00.80 bitrate=1731.2kbits/frame=   93 fps= 37  q=29.0 size=     311kB time=00:00:01.36 bitrate=1862.3kbits/frame=  107 fps= 35 q=29.0  size=     423kB time=00:00:01.83 bitrate=1891.0kbits/frame=  123 fps= 35 q=29.0 size=      537kB time=00:00:02.36 bitrate=1860.2kbits/frame=  139 fps= 34 q=29.0 size=     664kB  time=00:00:02.90 bitrate=1876.0kbits/frame=  150 fps= 29 q=-1.0 Lsize=    1174kB  time=00:00:04.93 bitrate=1948.7kbits/s dup=81 drop=0    
video:1172kB audio:0kB subtitle:0 global headers:0kB muxing overhead 0.133409%
[libx264 @ 0x3026f80] frame I:2     Avg QP:23.22  size: 28460
[libx264 @ 0x3026f80] frame P:136   Avg QP:24.45  size:  8397
[libx264 @ 0x3026f80] frame B:12    Avg QP:26.18  size:    42
[libx264 @ 0x3026f80] consecutive B-frames: 88.0%  4.0%  0.0%  8.0%
[libx264 @ 0x3026f80] mb I  I16..4: 47.1% 28.8% 24.1%
[libx264 @ 0x3026f80] mb P  I16..4:  4.3%  1.9%  1.2%  P16..4: 29.0% 11.4%  9.2%      0.0%  0.0%    skip:43.0%
[libx264 @ 0x3026f80] mb B  I16..4:  0.0%  0.0%  0.0%  B16..8:  1.5%  0.0%  0.0%   direct: 0.0%  skip:98.5%  L0:16.5% L1:83.5% BI: 0.0%
[libx264 @ 0x3026f80] 8x8 transform intra:26.4% inter:30.7%
[libx264 @ 0x3026f80] coded y,uvDC,uvAC intra: 85.2% 95.6% 83.5% inter: 10.9% 38.6% 24.0%
[libx264 @ 0x3026f80] i16 v,h,dc,p: 33% 19% 40%  8%
[libx264 @ 0x3026f80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu:  6% 12% 55%  5%  3%  4%  4%  3%  8%
[libx264 @ 0x3026f80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 15%  9% 63%  3%  2%  2%  2%  2%  2%
[libx264 @ 0x3026f80] i8c dc,h,v,p: 66% 11% 14%  9%
[libx264 @ 0x3026f80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x3026f80] ref P L0: 56.6%  7.5%  8.1% 27.8%
[libx264 @ 0x3026f80] ref B L0: 83.3% 16.7%
[libx264 @ 0x3026f80] ref B L1: 90.7%  9.3%
[libx264 @ 0x3026f80] kb/s:1918.95 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T21:10:26.067

您用于显示视频的播放器可能不支持您输出视频的像素格式。如果您观察您的输出日志，您可以看到`yuv422p`被选为格式。这是平面格式的 4:2:2[子采样色度](http://en.wikipedia.org/wiki/Chroma_subsampling)。

选择`-pix_fmt yuv420p`（4:2:0 子采样）应该会给您一个 H.264 编码的视频，可以在任何地方观看。

```
ffmpeg -f video4linux2 -s 640x480 -i /dev/video0 \
-c:v libx264 -pix_fmt yuv420p /home/irdb/Desktop/test.mp4 
```

我在这里明确设置了视频编解码器。养成一个好习惯，以免在 FFmpeg 默认使用另一个编码器的格式时感到惊讶。例如，选择 MPEG 输出格式会使 FFmpeg 选择另一个默认编码器 MPEG-1 ( `mpeg1video`)，它再次使用 4:2:0 二次采样。

# android - 如何从 Android 应用发送彩信？

> ID：15265511
> 
> 赞同：0
> 
> 时间：2013-03-07T07:33:19.383
> 
> 标签：android, android-intent, mms

我正在做一个项目，我需要从我的 android 应用程序发送彩信。以下是我尝试过的代码，但它不起作用。请指教。

```
Intent mmsIntent = new Intent(Intent.ACTION_SENDTO);
        mmsIntent.addCategory(Intent.CATEGORY_DEFAULT);
        mmsIntent.setType("vnd.android-dir/mms-sms");
        mmsIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(file));//Uri.parse(url));
        mmsIntent.setData(Uri.parse("sms:" + "89565656"));
        startActivity(mmsIntent); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T07:36:50.487

检查这个：

```
Intent i = new Intent(Intent.ACTION_SEND);
i.putExtra("address","9876543211");
i.putExtra("sms_body","hello..");
i.putExtra(Intent.EXTRA_STREAM,Uri);
i.setType("image/png");
startActivity(i); 
```

这里的 Uri 是：

```
 Uri uri = Uri.parse("content://media/external/images/media/1"); 
```

或者

```
Uri uri = Uri.parse("file://mnt/sdcard/test.jpg"); 
```

或者

```
Uri uri = Uri.parse("file://"+Environment.getExternalStorageDirectory()+"/test.jpg"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-03T11:13:38.997

对我来说，下面的代码运行完美.....

```
 Intent smsIntent = new Intent(android.content.Intent.ACTION_SEND);
            smsIntent.putExtra("sms_body", mContext.getString(R.string.app_name)); 
            smsIntent.putExtra(Intent.EXTRA_STREAM,Uri.parse("file://" + imagePath));
            smsIntent.setType("image/png");
            mContext.startActivity(smsIntent); 
```

# r - 每n个点求和

> ID：15265512
> 
> 赞同：21
> 
> 时间：2013-03-07T07:33:25.633
> 
> 标签：r, sum, apply

我有一个向量，我需要对每个`n`数字求和并返回结果。这是我目前计划做的方式。有没有更好的方法来做到这一点？

```
v = 1:100
n = 10
sidx = seq.int(from=1, to=length(v), by=n)
eidx = c((sidx-1)[2:length(sidx)], length(v))
thesum = sapply(1:length(sidx), function(i) sum(v[sidx[i]:eidx[i]])) 
```

这给出了：

```
thesum
 [1]  55 155 255 355 455 555 655 755 855 955 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-07T07:39:08.137

```
unname(tapply(v, (seq_along(v)-1) %/% n, sum))
# [1] 55 155 255 355 455 555 655 755 855 955 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-03-07T07:48:42.573

### 更新：

如果要对**每 n 个连续数字**求和，请使用`colSums`
如果要对每 n 个数字求和**，**请使用`rowSums`

根据 Josh 的评论，这只有在`n`分割`length(v)`得很好的情况下才有效。

```
rowSums(matrix(v, nrow=n))
 [1] 460 470 480 490 500 510 520 530 540 550

colSums(matrix(v, nrow=n))
 [1]  55 155 255 355 455 555 655 755 855 955 
```

* * *

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-03-07T07:38:33.113

## 更新

老版本不行。`rep`这里有一个用于创建分组因子的新 awnser 。无需使用`cut`：

```
n <- 5 
vv <- sample(1:1000,100)
seqs <- seq_along(vv)
tapply(vv,rep(seqs,each=n)[seqs],FUN=sum) 
```

* * *

您可以使用`tapply`

```
tapply(1:100,cut(1:100,10),FUN=sum) 
```

或获取列表

```
by(1:100,cut(1:100,10),FUN=sum) 
```

**编辑**

如果你有`1:92`，你可以用这个替换你的削减：

```
cut(1:92,seq(1,92,10),include.lowest=T) 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-03-07T07:43:25.857

一种方法是将向量转换为矩阵，然后取列总和：

```
colSums(matrix(v, nrow=n))
[1]  55 155 255 355 455 555 655 755 855 955 
```

* * *

请注意：这隐含地假设您的输入向量实际上可以重塑为矩阵。如果不能，R 将回收向量的元素以完成矩阵。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-03-07T07:39:31.117

```
v <- 1:100

n <- 10

cutpoints <- seq( 1 , length( v ) , by = n )

categories <- findInterval( 1:length( v ) , cutpoints )

tapply( v , categories , sum ) 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-03-07T08:00:17.537

我将添加另一种没有`apply`家庭功能的方法

```
v <- 1:100
n <- 10

diff(c(0, cumsum(v)[slice.index(v, 1)%%n == 0]))
##  [1]  55 155 255 355 455 555 655 755 855 955 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-03-07T18:30:46.850

以下是迄今为止提供的一些主要变体

```
f0 <- function(v, n) {
    sidx = seq.int(from=1, to=length(v), by=n)
    eidx = c((sidx-1)[2:length(sidx)], length(v))
    sapply(1:length(sidx), function(i) sum(v[sidx[i]:eidx[i]]))
}

f1 <- function(v, n, na.rm=TRUE) {    # 'tapply'
    unname(tapply(v, (seq_along(v)-1) %/% n, sum, na.rm=na.rm))
}

f2 <- function(v, n, na.rm=TRUE) {    # 'matrix'
    nv <- length(v)
    if (nv %% n)
        v[ceiling(nv / n) * n] <- NA
    colSums(matrix(v, n), na.rm=na.rm)
}

f3 <- function(v, n) {                # 'cumsum'
    nv = length(v)
    i <- c(seq_len(nv %/% n) * n, if (nv %% n) nv else NULL)
    diff(c(0L, cumsum(v)[i]))
} 
```

基本测试用例可能是

```
v = list(1:4, 1:5, c(NA, 2:4), integer())
n = 2 
```

`f0`最终测试失败，但这可能会被修复

```
> f0(integer(), n)
Error in sidx[i]:eidx[i] : NA/NaN argument 
```

cumsum 方法`f3`会出现舍入误差，并且在`v`“毒药”早期出现 NA 会导致后来的结果

```
> f3(c(NA, 2:4), n)
[1] NA NA 
```

在性能方面，原方案还不错

```
> library(rbenchmark)
> cols <- c("test", "elapsed", "relative")
> v <- 1:100; n <- 10
> benchmark(f0(v, n), f1(v, n), f2(v, n), f3(v, n),
+           columns=cols)
      test elapsed relative
1 f0(v, n)   0.012     3.00
2 f1(v, n)   0.065    16.25
3 f2(v, n)   0.004     1.00
4 f3(v, n)   0.004     1.00 
```

但是矩阵解决方案`f2`似乎既快速又灵活（例如，调整对少于`n`元素的尾随块的处理）

```
> v <- runif(1e6); n <- 10
> benchmark(f0(v, n), f2(v, n), f3(v, n), columns=cols, replications=10)
      test elapsed relative
1 f0(v, n)   5.804   34.141
2 f2(v, n)   0.170    1.000
3 f3(v, n)   0.251    1.476 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-10-31T22:40:17.917

聚会有点晚了，但我还没有看到`rowsum()`答案。`rowsum()`被证明比`tapply()`其他一些响应更有效，我认为它也将非常有效。

```
rowsum(v, rep(seq_len(length(v)/n), each=n))[,1]
#  1   2   3   4   5   6   7   8   9  10 
# 55 155 255 355 455 555 655 755 855 955 
```

使用@Josh O'Brien 的分组技术可能会进一步提高效率。

```
rowsum(v, (seq_along(v)-1) %/% n)[,1]
#  0   1   2   3   4   5   6   7   8   9 
# 55 155 255 355 455 555 655 755 855 955 
```

只需换`unname()`行即可删除组名。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-05-14T13:50:08.470

一种方法是使用`rollapply`from `zoo`：

```
rollapply(v, width=n, FUN=sum, by=n)
# [1]  55 155 255 355 455 555 655 755 855 955 
```

如果`length(v)`不是 的倍数`n`：

```
v <- 1:92

rollapply(v, width=n, FUN=sum, by=n, partial=T, align="left")
# [1]  55 155 255 355 455 555 655 755 855 183 
```

# c - 通过jna访问用c编写的dll时出错

> ID：15265514
> 
> 赞同：0
> 
> 时间：2013-03-07T07:33:41.167
> 
> 标签：c, dll, jna

我已经用 C 编写了一个 dll，现在在 32 位窗口上通过 jna 访问 dll 中的函数，但它抛出以下错误：

> 线程“主”java.lang.UnsatisfiedLinkError 中的异常：无法加载库“mydll”：找不到指定的模块。在 com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:164) 在 com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:237) 在 com.sun.jna.Library$Handler.(Library.java: 140) 在 com.sun.jna.Native.loadLibrary(Native.java:375) 在 com.sun.jna.Native.loadLibrary(Native.java:360) 在 CLibrary.(DllTest.java:6) 在 DllTest.main (DllTest.java:19)

虽然相同的 dll（为 64 位制作）在 64 位上运行良好，但问题在于 32 位系统上的 32 位 dll

我该如何解决这个问题？

# javascript - HTML5 - 使用 Javascript 写入和读取二维数组

> ID：15265516
> 
> 赞同：0
> 
> 时间：2013-03-07T07:33:52.727
> 
> 标签：javascript, html

作为较大形式的一部分，我有一个二维数组的数据。目前它是硬编码的（为了便于开发），但最终它将存储在本地存储中，并且任何更改都将被保存。我正在使用输入来显示数据，并允许进行更改。

上下文是我儿子正在设计并希望加快计算速度的角色扮演游戏。一个角色拥有各种盔甲，这也赋予了他们额外的技能。下面是一段摘录，其中给出了需要显示的部分内容：

```
 Stats: [{ Component: "Head", Armor: 10, Evasion: 0, HP: 20, MP: 10 },
         { Component: "Chest", Armor: 20, Evasion: 10, HP: 0, MP: 0 },
         { Component: "Arms", Armor: 20, Evasion: 5, HP: 0, MP: 0 },
         { Component: "Hands", Armor: 10, Evasion: 20, HP: 5, MP: 0},
         { Component: "Legs", Armor: 15, Evasion: 0, HP: 0, MP: 0},
         { Component: "Feet", Armor: 10, Evasion: 0, HP: 0, MP: 0 }] 
```

它在表单上显示为：

```
 Head Chest Arms Hands Legs Feet
Armor     10    20   20    10   15   10
Evasion    0    10    5    20    0    0
HP        20     0    0     5    0    0
MP        10     0    0     0    0    0 
```

为了显示像力量和敏捷这样的简单评级，我使用以下 HTML 完成了它：

```
<label class="lab" for="strengthID">Strength:</label>
<input class="inp" type="number" id="strengthID" step="any">

<label class="lab" for="agilityID">Agility:</label>
<input class="inp" type="number" id="agilityID" step="any"> 
```

注意：“lab”和“inp”类设置标签和输入标签的宽度。

以下是我用来显示所需字符数据的 javascript 的摘录：

```
var strength;
var agility;

window.onload = init;

function init() {
    people = [];
    people[0] = {  // here is where I provide the data during development
        Name: "Strider", Hp: 300, Strength: 30, Agility: 20, ... ,
         Stats: [{Component: "Head", Armor: 10,  ... ]
    people[1] = { ...

    strength = document.getElementById("strengthID");
    agility = document.getElementById("agilityID");
    ...
    assignPeople(0);  // to initialize the form with the first person's data.
}

function assignPeople(indx) {

    str.value = people[indx].Strength;
    agility.value = people[indx].Agility;
    ...
} 
```

我不知道该怎么做是很好地显示统计数据数组。当然，我可以费力地对矩阵的每一对进行编码，例如：

```
<input class="inp" type="number" id="Armor_Head_ID" step="any">
<input class="inp" type="number" id="Armor_Chest_ID" step="any">
... 
```

但这会导致大量变量。我用谷歌搜索了答案，但可能没有使用正确的搜索词。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:29:56.200

如果您想避免使用“真实”表格，则可以使用基于 CSS 的表格。您创建了一组 div，其类如下所示，结果看起来像一个表格（我认为在这种情况下会很好），但您可以通过 CSS 完全修改布局。这样的 CSS 表在 8 以下的 IE 中不起作用。

```
.table {
    display:table;
}
.tr {
    display:table-row;
}

.th,.td {
    display:table-cell;
    padding:2px 5px;
}

.th {
    font-weight:bold;
}

.tr .td:first-child {
    font-weight:bold;
    width:100px;
}

.td input {
    width:80px;
} 
```

我为这样的东西生成 HTML 代码的方式比你的方法更动态一些。我不会在 HTML 中包含所有字段，而是通过 javascript 生成完整的部分。

```
function assignPeople( indx ) {
  var _container = document.getElementById('PersonInfo'),
      _person = people[indx],
      _out = [],
      _keys = [],
      _labels = [];
    for(attrs in _person) {
        _out.push('<div class="row">');
        switch(attrs) {
            // from your example code snippet, you might have more switch cases here, depending
            // on the different field types of your person data.
            case 'Name':
                _out.push('<label class="lab" for="'+attrs + indx+'">'+attrs+':</label>');
                _out.push('<input class="inp" type="text" id="'+attrs + indx+'" value="'+_person[attrs]+'">');
                break;
            case 'Stats':
                 // the nested array...
                 _out.push('<h3>Stats</h3>');
                 for(var i=0, l = _person[attrs].length; i < l; i++) {
                    _keys.push(_person[attrs][i].Component);
                    for( a in _person[attrs][i]) {
                        if(a!='Component' && i==0) {
                            _labels.push(a);
                        }
                    }
                 }
                 _out.push('<div class="tabe">');
                 _out.push('<div class="tr"><div class="th">&nbsp;</div>');

                 for(var i=0, l = _keys.length; i < l; i++) {
                    _out.push('<div class="th">'+_keys[i]+'</div>');
                 }
                 _out.push('</div>');
                 for(var i=0, l = _labels.length; i < l; i++) {
                    _out.push('<div class="tr">');
                    _out.push('<div class="td">'+_labels[i]+'</div>');
                    for(var j=0, k = _person[attrs].length; j < k; j++) {
                        _out.push('<div class="td"><input class="inp" type="number" id="'+attrs + i+ '_' + j +'" step="any" value="'+_person[attrs][j][_labels[i]]+'"></div>');
                    }
                    _out.push('</div>');
                 }
                 _out.push('</div>');
                break;
            default:
                _out.push('<label class="lab" for="'+attrs + indx+'">'+attrs+':</label>');
                _out.push('<input class="inp" type="number" id="'+attrs + indx+'" step="any" value="'+_person[attrs]+'">');
        }
         _out.push('</div>');
    }
    _container.innerHTML = _out.join('');
} 
```

您将[在此处找到一个工作示例](http://jsfiddle.net/EBGTt/)。

# c# - 如何在运行时的方法期间立即更改标签文本？

> ID：15265520
> 
> 赞同：3
> 
> 时间：2013-03-07T07:33:57.907
> 
> 标签：c#, properties, runtime

我已经通过stackoverflow搜索但找不到答案。不知道能不能把这个问题说清楚。反正我不是说英语的人=.=

我正在使用 c# 和 Visual Studio 2010 进行开发。我正在制作一个供用户登录的表单，我希望这个表单在加载事件期间测试 sql server 连接。

看起来很简单，代码是：

```
 private void testDBconnection()
    {
        label3.Text = "Connecting to Database Server......";

        SqlServerConnection ssc = new SqlServerConnection();
        bool conOK = ssc.isConnectable(ssc.makeConnectionString(
            SqlServerConnParamters.SqlServerIPAddress,
            SqlServerConnParamters.AccountValidationDatabaseName,
            SqlServerConnParamters.SqlServerUserName,
            SqlServerConnParamters.SqlServerPassword,
            5));
        if (conOK)
        {
            label3.Text = "";
        }
        else
        {
            label3.Text = "Database connection failed";
            button1.Enabled = false;
        }
    } 
```

我把这个方法放在 Form_Load 事件中。

但是在运行时，这个过程甚至在这个表单显示之前就开始了。默认情况下，验证可能持续 15 秒（我将其设置为 5，但也需要时间）。如果连接有问题，它会显示为程序无法打开，但它会在连接数据库失败后显示。

我的意图是通过 Label3 显示“连接到数据库服务器......”告诉用户，并告诉用户连接是否失败。

我试图找到像“Loaded_Complete”或“Loaded”这样的表单事件（虽然我找到了 Form_Closed），但我找不到。

我想这与线程、程序睡眠或其他有关。我希望有人能在这方面帮助我。非常感谢你们！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:55:46.663

我会以这种方式使用[BackgroundWorker](http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker%28v=vs.110%29.aspx)。这将推迟数据库检查操作，并且表单加载不会被它锁定。

```
label3.Text = "Connecting...";
button1.Enabled = false;

var bkw = new BackgroundWorker();
bkw.DoWork += (s, ev) =>
    {
        SqlServerConnection ssc = new SqlServerConnection();
        ev.Result = ssc.isConnectable(ssc.makeConnectionString(
                        SqlServerConnParamters.SqlServerIPAddress,
                        SqlServerConnParamters.AccountValidationDatabaseName,
                        SqlServerConnParamters.SqlServerUserName,
                        SqlServerConnParamters.SqlServerPassword, 5));
    };

bkw.RunWorkerCompleted += (s, ev) =>
    {
        if ((bool)ev.Result == true)
        {
            label3.Text = "Connected";
            button1.Enabled = true;
        }
        else
        {
            label3.Text = "Database connection failed";
        }

        bkw.Dispose();
    };

bkw.RunWorkerAsync(); 
```

但是，这需要一些异常处理。如果事件中发生异常`DoWork`，那么您可以在`RunWorkerCompleted`事件中检查 ev.Error 是否为空（它包含异常）并做出相应的反应。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:43:47.167

使用`timer`. 在表单加载事件中启动`timer`（将间隔设置为 2 秒或任何你想要的）。`timer` `ticks`调用您的连接方法。在您的`testDBconnection()`方法开始时，停止`timer`并处理它，因为您不再需要它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:09:33.773

您不应该在表单加载时使用 Form_Load 事件来触发事件，而应该重写 OnLoad() 方法，这样您就可以控制何时触发代码（多个订阅者可能正在收听 Form_Load 而您不这样做）不知道他们将以什么顺序运行）。

让屏幕刷新的最快和最脏的方法是添加

```
Application.DoEvents(); 
```

更改标签后，这会强制屏幕更新。一般来说，虽然这是不好的做法，但从长远来看，上面的后台线程将是一个更好的解决方案。

# ruby-on-rails - 功勋宝石经验等级

> ID：15265527
> 
> 赞同：1
> 
> 时间：2013-03-07T07:34:20.203
> 
> 标签：ruby-on-rails, merit-gem

我想知道如何将rails中的优点给予的积分作为用户产生的经验，当经验达到一定水平时，用户会升级。我只想知道用户点的确切存储位置，以便我可以相应地对其进行编辑，因为没有关于优点的非常明确的文档。谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T03:26:02.663

Merit 的设计使徽章、排名和积分相互正交，因此积分授予不会直接与排名或某些徽章相关联。

不过，您可以在以下位置找到解决该问题的语法：[https ://github.com/tute/merit/issues/64#issuecomment-14958635](https://github.com/tute/merit/issues/64#issuecomment-14958635)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:39:39.763

Merit 使用[Ambry](https://github.com/norman/ambry)。这将存储到 YAML 或转储文件。默认情况下，ambry 将数据存储到`db/ambry.yml`，因此请看这里。

# mysql - 将多个不同的sql合并为一个

> ID：15265528
> 
> 赞同：2
> 
> 时间：2013-03-07T07:34:22.793
> 
> 标签：mysql, sql

```
 cusID | Name | status | Date
---------------------------------
    1   | AA   |    0   | 2013-01-25
    2   | BB   |    1   | 2013-01-23
    3   | CC   |    1   | 2013-01-20

SELECT COUNT(cusID) FROM customer WHERE STATUS=0;
SELECT COUNT(cusID) FROM customer WHERE STATUS=1; 
```

有没有办法组合这两个sql并将结果作为一个返回。因为要避免每次都调用数据库。我尝试了两个语句的 UNION，但只显示一个结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:35:46.883

这是 MySQL 中最短的解决方案。

```
SELECT  SUM(status = 1) totalActive,
        SUM(status = 0) totalInactive
FROM    tableName 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/d1bfc/1)

这是`CASE`版本

```
SELECT  SUM(CASE WHEN status = 1 THEN 1 ELSE 0 END) totalActive,
        SUM(CASE WHEN status = 0 THEN 1 ELSE 0 END) totalInactive
FROM    tableName 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/d1bfc/3)

# css - 当用户缩小浏览器窗口时，如何将 2 个或多个水平 div 堆叠成一个垂直 div？

> ID：15265530
> 
> 赞同：1
> 
> 时间：2013-03-07T07:34:31.473
> 
> 标签：css, html, layout, liquid

我在同一行上有 2 个 div，每个 div 的宽度为 50% 和一个浮点数：左。如果用户正在从智能手机查看页面，我希望他们将一个堆叠在另一个之上。现在，即使浏览器窗口缩小到 300 像素或从智能手机查看，这些 div 仍保持在同一行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:45:42.717

媒体查询是要走的路。我会采用移动优先的方法，并添加媒体查询以扩大设计。即，*从不*浮动的 div 开始，并在屏幕空间达到一定大小时添加浮动和宽度：

```
<!-- HTML -->
<div class="wrapper">
    <div class="column">
        <p>This is column 1</p>
    </div>
    <div class="column">
        <p>This is column 2</p>
    </div>
</div> 
```

* * *

```
/* CSS */
.wrapper {
    /* Ensure wrapper contains the columns, even when they are floated, by
       creating a new Block formatting context */
    overflow: hidden;
}

.column {
    /* Ensure we have some margins when the columns are collapsed, or 
       other content is displayed below. */
    margin-bottom: 2em;
}

/* Edit the min-width condition to match your desired breakpoint. */
@media screen and (min-width: 400px) {
    .wrapper .column {
        width: 50%;
        float: left;
    }
} 
```

现场演示：http: [//jsfiddle.net/jPgWL/](http://jsfiddle.net/jPgWL/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:37:24.987

使用媒体查询：

```
@media screen and (min-width: 321px) {
  #wrapper {width: 100%;}
  .content {
    width: 50%;
    float: left;
  }
}
@media screen and (max-width: 320px) {
  #wrapper {width: 100%;}
  .content {
    width: 100%;
    float: none;
  }
} 
```

# sql-server-2008 - 在sql server中使用openxml解析多个xml标签

> ID：15265531
> 
> 赞同：1
> 
> 时间：2013-03-07T07:34:39.077
> 
> 标签：sql-server-2008, xml-parsing, sql-server-openxml

`<test>` `<DBO.JOB>` `<JOB_NO>234234</JOB_NO>` `<CREW_NO>64850</CREW_NO>` `<BEGINDATE></BEGINDATE>` `<ENDDATE></ENDDATE>` `</DBO.JOB>` `<DBO.JOB>` `<JOB_NO>234</JOB_NO>` `<CREW_NO>234</CREW_NO>` `<BEGINDATE></BEGINDATE>` `<ENDDATE></ENDDATE>` `</DBO.JOB>` `<DBO.JOB>` `<JOB_NO>324</JOB_NO>` 234234` _

我想知道如何仅使用 OPEN XML 解析这些标签并将它们更新为表 DBO.JOB

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:18:55.203

试试这个：

```
DECLARE @xml NVARCHAR(1000) =
'<test> 
    <DBO.JOB> 
        <JOB_NO>234234</JOB_NO> 
        <CREW_NO>64850</CREW_NO> 
        <BEGINDATE></BEGINDATE> 
        <ENDDATE></ENDDATE>     
    </DBO.JOB> 
    <DBO.JOB> 
        <JOB_NO>234</JOB_NO> 
        <CREW_NO>234</CREW_NO> 
        <BEGINDATE></BEGINDATE> 
        <ENDDATE></ENDDATE> 
    </DBO.JOB> 
</test>'

DECLARE @hdoc int
EXEC sp_xml_preparedocument @hdoc OUTPUT, @xml

INSERT  INTO DBO.JOB(JOB_NO, CREW_NO, BEGINDATE, ENDDATE)
SELECT  *
FROM    OPENXML(@hdoc, '/test/DBO.JOB', 2)
WITH    (
        JOB_NO INT,
        CREW_NO INT,
        BEGINDATE DATETIME,
        ENDDATE DATETIME
)

EXEC sp_xml_removedocument @hdoc 
```

# android - 如何消除android中的垂直图像间隙

> ID：15265533
> 
> 赞同：0
> 
> 时间：2013-03-07T07:34:53.413
> 
> 标签：android

我将图像尺寸保持为 320*480，但它在垂直边显示空白，请提供一些建议。这是我的 xml 代码，请建议我..

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <ImageView
        android:id="@+id/ImageView01"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:baselineAlignBottom="true"
        android:src="@drawable/splash" />
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:37:00.767

添加属性`android:scaleType="fitXY"`到`imageview`

# c# - 以编程方式从 .NET Webbrowser Control 的下拉列表中选择一个项目

> ID：15265539
> 
> 赞同：5
> 
> 时间：2013-03-07T07:35:19.627
> 
> 标签：c#, javascript, html, .net

下面是一个html脚本，我从一个网站上抓取的。我想使用 .NET 以编程方式选择项目

```
<div id="MySite.condition_s-wrp" class="c-wrp-slctbx" style="z-index: 1;">
    <input id="MySite.condition_s-input" type="text" autocomplete="off" readonly="readonly" tabindex="0" class=" c-slctbx-medium" style="width: 268px;">
    <ul class="c-ul-slctbx max_height_300" style="width: 285px; display: none; top: 21px;">
        <li id="MySite.condition_s-option-" class="c-li-slctbx">Please choose</li>
        <li id="MySite.condition_s-option-First" class="c-li-slctbx">First</li>
        <li id="MySite.condition_s-option-Second" class="c-li-slctbx">Second</li>
    </ul>
    <select id="MySite.condition_s" name="attributeMap[MySite.condition_s]" class=" c-slctbx-medium" style="display: none;">
        <option value="">Please choose</option>
        <option value="First">First</option>
        <option value="Second">Second</option>
        </select>
</div> 
```

请注意以下代码根本不起作用。

```
webBrowser1.Document.GetElementById("MySite.condition_s").SetAttribute("value", "First"); 
```

任何快速帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T23:16:40.607

最后我和我的一个朋友一起弄清楚了。这个小功能将很容易地完成其余的工作。

感谢 Farrukh Momin 和他的时间。

```
 public void SetComboItem(string id, string value) {
        HtmlElement ee = this.webBrowser1.Document.GetElementById(id);
        foreach (HtmlElement item in ee.Children) {
            if (item.OuterHtml.ToLower().IndexOf(value.ToLower()) >= 0) {
                item.SetAttribute("selected", "selected");
                item.InvokeMember("onChange");
            }
            else {
                item.SetAttribute("selected", "");
            }
        }

        ee = this.webBrowser1.Document.GetElementById(id + "-input");
        ee.InnerText = value;
    } 
```

调用函数

```
 this.SetComboItem("MySite.condition_s", "First"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:41:50.633

你有没有试过这个：

```
webBrowser1.Document.GetElementById("MySite.condition_s").selectedIndex = 1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T07:40:58.647

试试这个。

```
 HtmlDocument document = webBrowser1.Document;
        HtmlElement siteCondition = document.GetElementById("MySite.condition_s");

        var option = siteCondition.Children.Cast<HtmlElement>().First(x => x.GetAttribute("value").Equals("First"));
        option.SetAttribute("selected", "selected"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T07:41:29.523

这是您的解决方案，只需通过示例：[http ://www.vbforums.com/showthread.php?701093-Webbrowser-Control-Select-Dropdownlists-option](http://www.vbforums.com/showthread.php?701093-Webbrowser-Control-Select-Dropdownlists-option)

或者

[http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvb/thread/b1273d78-d4af-49e0-9238-6f86e9952484/](http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvb/thread/b1273d78-d4af-49e0-9238-6f86e9952484/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-17T10:47:59.173

我发现，如果您只是一个一个地调用 click，您应该能够通过在其中执行 for 循环单击来找到所需的内容。

```
HtmlElement site = this.webBrowser2.Document.GetElementById("myId");
foreach (HtmlElement item in site.Children)
{ 
   if (item.InnerText.ToString() == "something")
   {
       item.InvokeMember("Click");
             break;
   }
       else
   {
       item.InvokeMember("Click");
   }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-12-22T07:40:25.257

**100% working code (tested on win7 - ie11)**

taken from:

c# | WebBrowser control - programmatically select item on html select
[http://mdb-blog.blogspot.com/2016/12/c-browser-control-programmatically.html](http://mdb-blog.blogspot.com/2016/12/c-browser-control-programmatically.html)

```
HtmlElementCollection col = webBrowser1.Document.GetElementsByTagName("select") 
foreach (HtmlElement heItem in col) 
{ 
  if (heItem.GetAttribute("className").Contains("exampleClassName") == true) 
  { 
    heItem.SetAttribute("selectedIndex", "3"); // select value at #3
    break; // incase of needed... 
  } 
} 
```

# spring - 如何从浏览器的历史记录中排除页面？

> ID：15265553
> 
> 赞同：2
> 
> 时间：2013-03-07T07:36:03.913
> 
> 标签：spring, jsp, spring-mvc, browser-history

我想从浏览器历史记录中排除第 1 页，这样当我离开它时（比如说第 2 页）然后按后退按钮，它就不会显示第 1 页。

否则，如果从 1 -> 2 开始禁用 2 上的后退按钮。

有什么办法可以实现吗？（不使用javascript）

我在第 1 页上有一个表单，成功提交后会显示第 2 页。
但是，当我单击第 2 页上的后退按钮时，我不希望显示第 1 页。要么它应该被禁用，要么它应该恢复表单提交（删除所有会话变量），然后显示第 1 页。

如何才能做到这一点？

我在我的项目中使用 Spring MVC 和 JSP 视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T15:43:46.953

Depending on how long you want this behavior to last you can store the form status from page 1 in a session var or cookie. Session vars will last as long as the user has their browser open. You can set the expiration for a cookie to last a few minutes or to never expire.

You can set up a [filter](http://www.oracle.com/technetwork/java/filters-137243.html) between requests for page 1 and page 2\. In the filter check for either the session var or cookie. If the value is for a submitted form then redirect to page 2\. If the value is not set or set to something else (depending on your implementation) then redirect to page 1.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T10:21:57.020

您可以在显示页面时编写会话参数，以强制用户在访问 page2 之前访问 page1。

```
@RequestMapping("/page1.html")
public String page1(HttpSession session){
    session.setAttribute("seen_page_1", "true");
    return "page1";
}

@RequestMapping("/page2.html")
public String page2(HttpSession session){
    if(!"true".equals(session.getAttribute("seen_page_1").toString())){
        return "redirect:/page1.html";
    }
    return "page2";
} 
```

如果您想向已经访问过 page1 的用户显示 page2（即使他们返回该页面），您可以使用 cookie 值来代替。

# spring - Spring Security：session.invalidate() vs invalidate-session="true"

> ID：15265554
> 
> 赞同：0
> 
> 时间：2013-03-07T07:36:06.160
> 
> 标签：spring, session, spring-security

两者有什么区别？我不太确定，但我相信 HttpServletReqest.getSession.invalidate() 只会使用户的会话无效，而 invalidate-session="true" 会使会话无效并将用户重定向到定义的会话过期页面。如果我错了，请纠正我，我想更多地理解这一点。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:10:55.593

`invalidate-session`是`<logout>`元素的一个属性，会导致会话在注销时失效（这是默认行为），但不会导致任何重定向本身。

如果请求包含无效/过期的会话 ID，则会显示会话过期页面，在这种情况下，`SessionManagementFilter`会将其重定向到预先配置的 URL，您可以通过`<session-management invalid-session-url="...">`配置进行设置。如果未设置任何内容，则不会发生重定向。

`HttpServletReqest.getSession.invalidate()`正如您所说，只是使会话无效。

# django - 如何在 Django 和 Backbone.js 中检查用户是否经过正确身份验证

> ID：15265557
> 
> 赞同：2
> 
> 时间：2013-03-07T07:36:14.487
> 
> 标签：django, authentication, backbone.js

我想使用 Backbone.js 和 Django 构建单页应用程序。

检查用户是否通过身份验证，

我在 django 端写了一个方法 get_identity 方法。如果 request.user.is_authenticated 为 true 则返回 request.user.id 否则返回 Http404

在主干方面，我定义了一个用户模型并定期对 get_identity 进行 ajax 调用。

我认为这是检查用户是否经过身份验证的最直接方法。

对于学习单页应用来说，如果可能的话，我想做这个操作比这种方式更明智和高效。

那么您对此有何建议？当我搜索 Django+Backbone.js + User Authentication 时，我找不到任何令人满意的结果，我真的很想知道人们是如何做这个简单的操作的。

任何帮助或想法将不胜感激。

（顺便说一句，我尝试定期读取 cookie，但客户端无法访问 HttpOnly True 标记的 cookie。）

Django 视图.py

```
def get_identity(request):
    if not request.user.is_authenticated():
        raise Http404
    return HttpResponse(json.dumps({'identity':request.user.id}), mimetype="application/json") 
```

Backbone.js 方面。

```
updateUser:function(){
            var $self=this;
            $.ajaxSetup({async:false});
            $.get(
                '/get_identity',
                function(response){
                    // update model...
                    $self.user.id =response.identity;
                    //check user every five minutes...
                     $self.user.fetch({success: function() {
                       $self.user.set('is_authenticated',true);
                       setTimeout($self.updateUser, 1000*60*1);
                        }
                    },this);
                }).fail(function(){
                    //clear model
                    $self.user.clear().set($self.user.defaults);
                    setTimeout($self.updateUser, 1000*60*1);
                });
            $.ajaxSetup({async:true});
        } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-02-22T04:02:26.963

我`var is_authenticated = {{request.user.is_authenticated}};`在我的 base.html

并使用全局变量进行检查。

我正在寻求更好的解决方案（因为当您开始缓存时这会中断）。
但你可能会发现它很有用。

# c# - Visual Studio 2010中如何将数据源添加到rdlc文件中？

> ID：15265559
> 
> 赞同：2
> 
> 时间：2013-03-07T07:36:27.017
> 
> 标签：c#, visual-studio-2010, desktop-application

我是 Windows 桌面应用程序开发的新手。

我想生成一个账单报告，即账单主详细信息应显示一次，相关项目应以表格格式显示。

我已经在数据集中创建了数据表。数据表已配置。

现在在报表设计中，我无法看到该表将字段拖动到正确位置。

请帮助如何做到这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:51:37.720

**添加数据集**

首先，您必须`Data Source`在报告中添加一个。您可以通过使用`Data Sources`VS 中的窗口来执行此操作。单击*添加新数据源*并选择所需的内容（我通常使用对象）。在`Report Data`窗口中有一个文件夹“*数据集*”。如果您右键单击它，您可以添加一个数据集。

**表格中的数据**

要可视化数据集，您可以将工具箱中的表格*拖到**报表*上，选择它，然后右键单击左上角并选择。在那里，您可以将数据集绑定到表。通过单击列并选择一个值来选择要在哪一列中显示的项目。*`Tablix Properties`*

 ***奇异数据（文本框）**

您可以在从数据集中检索特定数据集的文本框上设置表达式（顺便说一句，您也可以在表格列上使用它）。您可以通过右键单击文本框来执行此操作`Expression`。这将打开一个包含某种表达式构建器的表达式窗口。

我用来检索奇异数据的表达式如下（不确定这是否是最好的方法，但这是我知道的唯一方法）：

`First(Fields!MyField.Value, "MyDatasetName")`

基本上我假设我的数据集中只有一行（或者该字段在所有行中都相同）所以我只是检索第一个值。*

# html - 如何将表单提交的图像存储在临时隐藏输入中？

> ID：15265561
> 
> 赞同：0
> 
> 时间：2013-03-07T07:36:36.550
> 
> 标签：html, image, forms, input, hidden

我需要有两步提交表单，它接受要上传到服务器的多个图像。这里的问题是我需要一些临时隐藏输入来存储第一步中的值，以便在实际提交之前的第二步中获取更多信息。
看看下面的代码。
例如，第一步：

```
<form action="" enctype="multipart/form-data" method="post">
<input type="hidden" name="step" value="1" />
Name: <input name="name" value="" type="text" />
Email: <input name="email" value="" type="text" />
Image 1: <input type="file" name="images[]" />
Image 2: <input type="file" name="images[]" />
<input type="submit" value="Submit" />
</form> 
```

以下将是第二步：

```
<form action="" enctype="multipart/form-data" method="post">

<input type="hidden" name="step" value="2" />
<input name="name" value="<?=$_POST['name'];?>" type="hidden" />
<input name="email" value="<?=$_POST['email'];?>" type="hidden" />

<!-- Here is the problem, how should I store the submitted images for the time being? -->
<input type="file" name="images[]" />
<input type="file" name="images[]" />
<!-- ... -->

Please select a type: 
<select name="type">
<option>Type 1</option>
<option>Type 2</option>
</select>

<input type="submit" value="Submit" />
</form> 
```

请注意，此代码仅用于说明，绝不是实际代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:12:23.110

我认为它们应该存储在 $_FILES 中。您还可以使用 move_uploaded_file() 临时存储文件。见：[php手册](http://php.net/manual/en/function.move-uploaded-file.php)

# sql - 如何获得下表的总计数结果？

> ID：15265565
> 
> 赞同：-2
> 
> 时间：2013-03-07T07:36:54.773
> 
> 标签：sql, sql-server

表看起来像这样

```
╔══════╦══════╗
║ COL1 ║ COL2 ║
╠══════╬══════╣
║ A    ║ abc  ║
║ A    ║ dce  ║
║ A    ║ xyz  ║
║ B    ║ abc  ║
║ B    ║ xyz  ║
║ C    ║ abc  ║
║ C    ║ www  ║
║ C    ║ ccc  ║
╚══════╩══════╝ 
```

我需要以followwing方式输出

```
╔══════╦════════════╗
║ COL1 ║ TOTALCOUNT ║
╠══════╬════════════╣
║ A    ║          3 ║
║ B    ║          2 ║
║ C    ║          3 ║
╚══════╩════════════╝ 
```

我需要在 sql server 2008 中进行精确查询。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:37:42.653

你需要使用`GROUP BY`和`COUNT()`

```
SELECT  col1, COUNT(*) totalCount
FROM    tableName
GROUP   BY col1 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/0294c/1)

# ios - 如何在 UITableViewCell 上执行图像的显示和隐藏效果？

> ID：15265566
> 
> 赞同：1
> 
> 时间：2013-03-07T07:36:56.673
> 
> 标签：ios, uitableview, ios6, uiimage, checkmark

在我的 iPhone 应用程序中，我必须在单元格左侧显示复选标记图像，第一次单元格上没有图像，当用户选择单元格时，它将在单元格右侧显示复选标记图像，如果用户再次选择相同的单元格图像应该被隐藏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:44:26.687

首先在你的 UITableView 的方法中

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;

}

cell.accessoryType = UITableViewCellAccessoryCheckmark;
// Your code...
return cell; 
```

}

并为显示和隐藏

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath*) indexPath{
UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
if (cell.accessoryType == UITableViewCellAccessoryNone) {
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
}else{
    cell.accessoryType = UITableViewCellAccessoryNone;
} 
```

}

希望这会帮助你。

一切顺利 ！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:35:04.587

```
 if (cell.checkMarkImage.image == [UIImage imageNamed:@"checkMarkiPad.png"])
{
    cell.checkMarkImage.image=[UIImage imageNamed:@""];
}
else{
    cell.checkMarkImage.image = [UIImage imageNamed:@"checkMarkiPad.png"];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:46:49.377

您可以使用 UITableViewcell 的附件类型方法，它可以让您在单元格的右侧标记“复选标记”。而且您必须使用表格视图左侧的自定义按钮，当用户单击该按钮时，应更改检查和取消选中图像。

在`cellForRowAtIndex`方法中->

```
{
// make a custom UIButton and set image on it.

UIButton *chk = [[UIButton alloc]initwithframe(0,0,30,30)];
[chk setBackgroundImage:[UIImage imagenamed:@"uncheck.png"]];
[chk addTarget:self action:@selector(YourbuttonAction:) forControlEvents:UIControlEventTouchUpInside]];
[cell addSubview:chk];
}

-(void)YourbuttonAction
{
// in this part ,you can change the buttons image on every click.
} 
```

如果您仍有问题，请查看以下链接 ->

[http://danielsaidi.wordpress.com/2012/08/14/checkable-uitableviewcell-with-custom-image/](http://danielsaidi.wordpress.com/2012/08/14/checkable-uitableviewcell-with-custom-image/)

[http://pastebin.com/L99v2jBQ](http://pastebin.com/L99v2jBQ)

# android - 如何更改项目和包的名称？

> ID：15265572
> 
> 赞同：-2
> 
> 时间：2013-03-07T07:37:09.967
> 
> 标签：android, json, eclipse

我正在 Google Play 商店中开发一个名为“English SMS Collection”的 Android 应用程序，现在我也想用印地语上传这个应用程序。那么之前的APK需要做哪些改动呢？如何向 Android 应用程序添加另一种语言？以及将应用程序上传到市场需要哪些图像大小的图标？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:03:14.043

请不要仅仅因为语言而将您的应用程序分成两个 apk。这是非常糟糕的风格。

根据 android devleoper's guide，最好的做法是使用所谓的“配置限定符”创建资源文件夹。您的字符串（例如文本）应全部存储在文件 /res/values/strings.xml 中。这是默认设置（没有配置限定符），当添加本地化翻译时，您必须创建一个新文件夹和 strings.xml 文件 /res/ values- **cc** /strings.xml 其中**cc**必须是标准化的国家/语言代码（例如英语的“en”，德语的“de”，捷克语的“cs”......）。

有关这方面的更多（基本）信息，请访问 developer.android.com/guide/topics/resources/localization.html。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:44:28.007

通常，将同一个应用程序拆分为两个功能相同的不同语言版本是一个坏主意。

如果您绝对必须这样做，您唯一需要更改的是`package="com.example.project"`AndroidManifest.xml 中的包名称 ( )（无需重命名实际包，只需在清单中的一个字符串即可）。

此外，如果您的活动是相对于应用程序的包声明的（例如`.MyActivity`，相对于`com.mypackage.activities.MyActivity`） - 而且它们很可能是 - 更改应用程序的包名称显然会导致 FC，因为您有效地重命名了活动。因此，为了能够来回切换包名称，您必须通过绝对声明它们来从应用程序包中分离 Activity 名称（例如`com.mypackage.activities.MyActivity`）

这是谷歌图标的综合指南，下次在问这些简单的问题之前请做更多的研究：图标[学](http://developer.android.com/design/style/iconography.html)

此外，从问题来看，您可能还想阅读以下内容：[为 Google Play 发布清单](http://developer.android.com/distribute/googleplay/publish/preparing.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:26:58.967

在 Package Explorer 中，单击包名称（例如：com.example.android），右键单击并转到 Refactor。在那里选择重命名... 选项。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:41:16.607

您需要更改 ，`package name`因为它在上传时应该是唯一的`market`。它可以使用`keystore`您为其他两个应用程序完成的相同文件进行签名。显然，您必须更改应用程序`name`及其`icon`.

有关发布 Android 应用程序清单的更多信息，[请查看此文档](http://developer.android.com/intl/ja/distribute/googleplay/publish/preparing.html)。

# visual-studio - 在项目级别设置 RepositoryPath

> ID：15265575
> 
> 赞同：0
> 
> 时间：2013-03-07T07:37:21.213
> 
> 标签：visual-studio, nuget

我有一个在两个解决方案之间共享的项目，我试图让该项目将其所有 nuget 文件放在一个公共位置。我已经看到很多描述如何通过在解决方案文件夹中放置一个 nuget.config 文件来做到这一点的东西。但是，由于 MsBuild/MsDeploy，我需要将其限定在项目范围内。

我尝试在项目文件夹中放置一个 nuget.config 文件，但它似乎被完全忽略了。

我尝试遵循这个[Nuget Doc](http://docs.nuget.org/docs/Release-Notes/NuGet-2.1#Specify_%e2%80%98packages%e2%80%99_Folder_Location)。但它忽略了我的设置。

# javascript - embedify.me 实现

> ID：15265578
> 
> 赞同：0
> 
> 时间：2013-03-07T07:37:39.657
> 
> 标签：javascript, jquery, embed, share, oembed

我正在尝试使用 jquery 实现 embedify.me 服务，当我们将数据复制到文本框中时，它将数据嵌入到来自 url 的链接中（非常类似于 facebook 实现链接共享的方式）

虽然这里给出的说明看起来很简单，但我缺乏 javascript 经验意味着我错过了一些重要的步骤，以至于 javascript 本身根本没有加载。

我已将所有文件放在正确的位置。

指示

[http://www.embedify.me/Home/Documentation#jq](http://www.embedify.me/Home/Documentation#jq)

代码

```
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="/Scripts/jquery-1.4.1.min.js"></script> 
<link href="/Content/EmbeddedReprUrl.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript" src="Scripts/swfobject.js"></script> 
<script src="Scripts/EmbeddedReprUrl.Config-1.0.0.js" type="text/javascript">      </script> 
     <script src="Scripts/jquery.transform.js" type="text/javascript"></script> 
     <script src="Scripts/EmbeddedReprUrl-1.0.0.js" type="text/javascript"></script> 
       <script src="Scripts/EmbeddedRepresentationXsl-1.0.js" type="text/javascript"> </script> 
  <script src="Scripts/jwplayer.js" type="text/javascript"></script> 
</head>
    <body>
     <textarea rows="2" cols="50" id="txt" class="embeddor">Enter a URL here       </textarea> 
<script language="javascript"  type="text/javascript">
          var embeddedReprUrl = new EmbeddedReprUrl(); 
        var postHtml = embeddedReprUrl.GetFullContent($("txt")); 
        alert(postHtml); 
</script>

</body>

     </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T07:07:29.070

在 EmbeddedReprUrl-1.0.0.js 文件中找到此代码块：-

```
 if (jQuery.browser.opera) {
            $(selector).bind('input', function (e) {
                var tempEditedElement = $(this); //this is needed for opera, it is forgetting $(this) after timeout
                setTimeout(function () {
                    func(tempEditedElement);
                }, 100);
            });
        } else {
            $(selector).keyup(function (event) {
                var embeddingTriggeringKeyCodes = new Array(8, 13, 32, 45, 46, 86, 88);
                if ($.inArray(event.keyCode, embeddingTriggeringKeyCodes) > -1) {
                    func($(this));
                }
            });
            $(selector).bind('cut paste delete drop', function (e) {
                setTimeout(function () {
                    func($(this));
                }, 100);
            });
        } 
```

并将其替换为： -

```
$(selector).keyup(function (event) {
                var embeddingTriggeringKeyCodes = new Array(8, 13, 32, 45, 46, 86, 88);
                if ($.inArray(event.keyCode, embeddingTriggeringKeyCodes) > -1) {
                    func($(this));
                }
            });
            $(selector).bind('cut paste delete drop', function (e) {
                setTimeout(function () {
                    func($(this));
                }, 100);
            }); 
```

# c# - 在 C# 中创建端点

> ID：15265586
> 
> 赞同：1
> 
> 时间：2013-03-07T07:38:39.063
> 
> 标签：c#, wcf, endpoint

我在我的 web.config 文件中定义了这个端点，它工作正常。现在我需要根据我要使用的服务更改一些值。我的端点看起来像这样。

```
 <endpoint address="https://www.yyy.com/services" binding="basicHttpBinding" bindingConfiguration="VehicleQuotationManagementServiceBinding" contract="VehicleQuotationManagementService.VehicleQuotationManagementServicePortType" name="VehicleQuotationManagementServicePort">
    <headers>
      <wsa:To xmlns:wsa="http://www.w3.org/2005/08/addressing">ws://bla.com/CSP/UsedCars/VehicleQuotationManagementService/V1</wsa:To>
      <wsa:Action xmlns:wsa="http://www.w3.org/2005/08/addressing">ws://bla.com/CSP/UsedCars/VehicleQuotationManagementService/V1/ProcessAliveTest</wsa:Action>
      <wsa:MessageID xmlns:wsa="http://www.w3.org/2005/08/addressing">1111</wsa:MessageID>
      <vwa:Country xmlns:wsa="http://www.w3.org/2005/08/addressing" wsa:IsReferenceParameter="true" xmlns:vwa="http://xmldefs.bla.com/Technical/Addressing/V1">SE</vwa:Country>
      <vwa:Brand xmlns:wsa="http://www.w3.org/2005/08/addressing" wsa:IsReferenceParameter="true" xmlns:vwa="http://xmldefs.bla.com/Technical/Addressing/V1">V</vwa:Brand>
      <vwa:System xmlns:wsa="http://www.w3.org/2005/08/addressing" wsa:IsReferenceParameter="true" xmlns:vwa="http://xmldefs.bla.com/Technical/Addressing/V1">GWB</vwa:System>
    </headers>
  </endpoint> 
```

有人可以帮我在 C# 代码中创建这个端点吗？

# c# - 如何使用 linq 查找具有最大值的项目？

> ID：15265588
> 
> 赞同：60
> 
> 时间：2013-03-07T07:38:42.413
> 
> 标签：c#, linq, max

看看下表：

```
Item          Value
A                10
b                50
c                90 
```

我想用`maximum value`. 我可以通过使用`group by`or来获得它`orderding`，但不知何故我觉得应该有一种更直接的方法。我对吗？

* * *

## 回答 #1

> 赞同：123
> 
> 时间：2013-03-07T07:40:47.920

使用 EF 或 LINQ to SQL：

```
var item = db.Items.OrderByDescending(i => i.Value).FirstOrDefault(); 
```

对于 LINQ to Objects，我建议使用[morelinq](https://github.com/morelinq/MoreLINQ)扩展`MaxBy`（从 nuget 获取 morelinq）：

```
var item = items.MaxBy(i => i.Value); 
```

# ios - 我应该如何从 json 字符串中读取数据？苹果手机

> ID：15265589
> 
> 赞同：4
> 
> 时间：2013-03-07T07:38:46.557
> 
> 标签：ios, json, nsdata, type-conversion

我有一个`NSString "[{"van" : 1,312, "vuan":12,123}]`并且为了获得每个键的这个值，我这样做：

```
 NSData *data1 = [jsonResponse1 dataUsingEncoding:NSUTF8StringEncoding];
    jsonArray = [NSJSONSerialization JSONObjectWithData:data1 options:kNilOptions error:&err];

    self.van = [NSMutableArray arrayWithCapacity:1];
    self.vuan = [NSMutableArray arrayWithCapacity:1];

    for (NSDictionary *json in jsonArray) {
        NSString * value = [json objectForKey:@"van"];
        [self.van addObject:value];
        lbl1.text = value;

        NSString * value1 = [json objectForKey:@"vuan"];
        [self.vuan addObject:value1];
        lbl4.text = value1;
    } 
```

可能我不必使用数组，而是`NSData`直接在`NSDictionary`.

无论如何，我不明白为什么`jsonArray`is `nil`，尽管`jsonResponse1`包含我上面写的值。

编辑：我的老板写错了 json 字符串。谢谢大家的建议！：）

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-07T07:49:13.183

您的 JSON 无效。修理它。这个网站是你的朋友。

[http://jsonlint.com/](http://jsonlint.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:50:52.013

您需要更有防御性地编写代码，并且需要在发现错误时报告错误。

首先检查JSON解析是否失败，如果是则报告错误：

```
 NSData *data1 = [jsonResponse1 dataUsingEncoding:NSUTF8StringEncoding];
jsonArray = [NSJSONSerialization JSONObjectWithData:data1 options:kNilOptions error:&err];
if (jsonArray == nil)
{
    NSLog(@"Failed to parse JSON: %@", [err localizedDescription]);
    return;
} 
```

其次，如果这些键不在 JSON 中，`objectForKey:`将返回`nil`，当您尝试将其添加到数组时，它将引发异常，这是您要避免的：

```
for (NSDictionary *json in jsonArray) {
    NSString * value = [json objectForKey:@"van"];
    if (value != nil)
    {
        [self.van addObject:value];
        lbl1.text = value;
    }
    else
    {
         NSLog(@"No 'van' key in JSON");
    }

    NSString * value1 = [json objectForKey:@"vuan"];
    if (value1 != nil)
    {
        [self.vuan addObject:value1];
        lbl4.text = value1;
    }
    else
    {
        NSLog(@"No 'vuan' key in JSON");
    }
} 
```

总而言之：会发生运行时错误，因此您需要确保处理它们。当它们发生时，您需要尽可能多地报告它们，以便您可以诊断和修复它们。

# iphone - 在iPhone中使用带有userid参数的base64 haxcode将图像上传到服务器

> ID：15265592
> 
> 赞同：4
> 
> 时间：2013-03-07T07:38:54.553
> 
> 标签：iphone, ios

我正在使用此代码，但问题是它在 nsdata 转换块中对 Haxcode 进行编码，我想发送相同的代码，我使用固定整数的用户 ID 获得。请帮忙。

```
 NSData *imageData = [NSData dataWithData:UIImageJPEGRepresentation(image1, 0)];
    //image.image=image1;

    [Base64 initialize];
    NSString *b64EncStr = [Base64 encode:imageData];

    NSLog(@"encoded.%@",b64EncStr);

     NSURL *url = [[NSURL alloc] initWithString:updateimageURL];
    NSMutableURLRequest *req = [[NSMutableURLRequest alloc]initWithURL:url];
    [req setHTTPMethod:@"POST"];

    NSString *trimmed = [b64EncStr stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];

    paramDataString = [NSString stringWithFormat:@"Id=%d&FromString=%@",100,trimmed];

    NSLog(@"%@",paramDataString);

    NSData* aData = [paramDataString dataUsingEncoding:NSUTF8StringEncoding];

      [req setHTTPBody: aData];

    NSURLConnection *theConnection=[[NSURLConnection alloc]initWithRequest:req delegate:self];
    if (theConnection)
    {
        NSMutableData *data = [[NSMutableData alloc] init];
        self.receivedData=data;
        [data release];

    }
    else {

        UIAlertView* alertView = [[UIAlertView alloc] initWithTitle:nil message:@"Check your networking configuration." delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alertView show];
        [alertView release];
    }

    [url release];
    [req release]; 
```

它以正确的方式建立 URL 连接，但响应是服务器错误。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-14T06:06:54.423

首先将 NSData 转换`UImage`为`NSData`base64string，然后将其传递给您的 Web 服务

```
finalImagePath = [imageData base64EncodedString];

NSString *strImageData = [finalImagePath stringByReplacingOccurrencesOfString:@"+" withString:@"%2B"]; 
```

然后发送`strImageData`到您的网络服务。

从服务器使用中检索时

```
NSString *strImageData = [finalImagePath stringByReplacingOccurrencesOfString:@"%2B" withString:@"+"]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:47:34.457

将 base64 字符串直接上传到您的服务器

```
paramDataString = [NSString stringWithFormat:@"Id=%d&FromString=%@",100,b64EncStr]; 
```

# jquery - Jqgrid 'setLabel' 不起作用

> ID：15265594
> 
> 赞同：0
> 
> 时间：2013-03-07T07:38:56.407
> 
> 标签：jquery, jqgrid

我刚刚尝试使用[setLabel](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:methods)更改 jqgrid 中的列名。但它不起作用。文档说：

> **方法：** setLabel
> 
> **参数：** colname、数据、类、属性
> 
> **返回：** jqGrid 对象
> 
> **说明：** 在指定列的标题中设置新标签；还可以设置属性和类。参数有： colname 列名（该参数可以是从0开始的数字（列的索引） data 可以放入标签的内容。如果是空字符串，则内容不会改变 class if class是字符串，那么我们使用 addClass 向标签添加一个类；如果类是一个数组，我们通过 css 属性设置新的 css 属性设置标签的属性属性

小提琴：http: [//jsfiddle.net/m6DQk/](http://jsfiddle.net/m6DQk/)

**HTML**

```
<table id="list"></table>
<div id="pager"></div> 
```

**JS** （注意这里的最后 3 个语句）

```
$(document).ready(function(){
$("#list").jqGrid({
    datatype: "local",
    height: 250,
    colNames: ['Inv No', 'Date', 'Client', 'Amount', 'Tax', 'Total', 'Notes'],
    colModel: [{
        name: 'id',
        index: 'id',
        width: 60,
        sorttype: "int"
    }, {
        name: 'invdate',
        index: 'invdate',
        width: 90,
        sorttype: "date"
    }, {
        name: 'name',
        index: 'name',
        width: 100
    }, {
        name: 'amount',
        index: 'amount',
        width: 80,
        align: "right",
        sorttype: "float"
    }, {
        name: 'tax',
        index: 'tax',
        width: 80,
        align: "right",
        sorttype: "float"
    }, {
        name: 'total',
        index: 'total',
        width: 80,
        align: "right",
        sorttype: "float"
    }, {
        name: 'note',
        index: 'note',
        width: 150,
        sortable: false
    }],
    multiselect: true,
    caption: "Manipulating Array Data"
});
var mydata = [{
    id: "1",
    invdate: "2007-10-01",
    name: "test",
    note: "note",
    amount: "200.00",
    tax: "10.00",
    total: "210.00"
}, {
    id: "2",
    invdate: "2007-10-02",
    name: "test2",
    note: "note2",
    amount: "300.00",
    tax: "20.00",
    total: "320.00"
}, {
    id: "3",
    invdate: "2007-09-01",
    name: "test3",
    note: "note3",
    amount: "400.00",
    tax: "30.00",
    total: "430.00"
}, {
    id: "4",
    invdate: "2007-10-04",
    name: "test",
    note: "note",
    amount: "200.00",
    tax: "10.00",
    total: "210.00"
}, {
    id: "5",
    invdate: "2007-10-05",
    name: "test2",
    note: "note2",
    amount: "300.00",
    tax: "20.00",
    total: "320.00"
}, {
    id: "6",
    invdate: "2007-09-06",
    name: "test3",
    note: "note3",
    amount: "400.00",
    tax: "30.00",
    total: "430.00"
}, {
    id: "7",
    invdate: "2007-10-04",
    name: "test",
    note: "note",
    amount: "200.00",
    tax: "10.00",
    total: "210.00"
}, {
    id: "8",
    invdate: "2007-10-03",
    name: "test2",
    note: "note2",
    amount: "300.00",
    tax: "20.00",
    total: "320.00"
}, {
    id: "9",
    invdate: "2007-09-01",
    name: "test3",
    note: "note3",
    amount: "400.00",
    tax: "30.00",
    total: "430.00"
}];
    for (var i = 0; i <= mydata.length; i++){
        $("#list").jqGrid('addRowData', i + 1, mydata[i]);
    }

    $("#list").jqGrid('setLabel', 1,"aa");
    $("#list").jqGrid('setLabel', 2,"bb");
    $("#list").jqGrid('setLabel', 3,"cc");

    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:50:52.367

改变：

```
$("#list").jqGrid('setLabel', 1,"aa");
$("#list").jqGrid('setLabel', 2,"bb");
$("#list").jqGrid('setLabel', 3,"cc"); 
```

至

```
$("#list").jqGrid('setLabel', "id","aa"); //colModel name value
$("#list").jqGrid('setLabel', "invdate","bb");
$("#list").jqGrid('setLabel', "name","cc"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:49:02.133

您应该只使用列名而不是列位置作为`setLabel`.

请参阅更新的代码[http://jsfiddle.net/m6DQk/1/](http://jsfiddle.net/m6DQk/1/)。

# php - 根据选择值 Codeigniter 从表中获取数据并填充组合框

> ID：15265598
> 
> 赞同：1
> 
> 时间：2013-03-07T07:39:08.810
> 
> 标签：php, mysql, codeigniter

假设有一个表 FRUITS：

```
mysql> select * from FRUITS;
+---------+-----------+
| fruitid | fruitname |
+---------+-----------+
|       1 | Orange    |
|       2 | Apple     |
|       3 | Pear      |
|       4 | Banana    |
+---------+-----------+
4 rows in set (0.02 sec) 
```

我有一个包含表单的视图文件。

在这里，我有一个列表，用户可以在其中选择他想要的食物，所以在用户选择“水果”的情况下，我从表 FRUITS 中获取数据并填写一个组合框....

用户填写表格后，一些表格将被更新。在此过程中，当用户在食物列表中选择水果时，我需要查阅 FRUITS 表中的数据并填写一个组合框....

如果我不使用 Codeigniter，我可以使用

```
<?php
 $conn = mysql_connect('localhost','yourUsernameHere','yourPasswordHere');
 mysql_select_db('testdb',$conn);
 $query = "select fruitid,fruitname from FRUITS order by fruitname";
 $result = mysql_query($query,$conn);
 $selectbox='<select name=\'fruit\'>';
 while ($row = mysql_fetch_assoc($result)) {
     $selectbox.='<option value=\"' . $row['fruitid'] . '\">' . $row['fruitname'] . '</option>';
 }

 $selectbox.='</select>';
 mysql_free_result($result);
 echo $selectbox;
?> 
```

填写表单内的组合框，然后捕获该值并将其发送以将数据插入其他表...

我怎么能在 Codeigniter 上做到这一点，因为查询必须在控制器文件中完成......？

# 更新

让我们说我有

# 模型

```
class Fruits extends CI_Model {

    function __construct()
    {
        parent::__construct();
    }

    function what_fruits()
    {
        $this->db->select('fruitname');
        $this->db->from('FRUITS');
        $q = $this->db->get('');
        if($q->num_rows() > 0) 
        {
            $data = array();
            foreach($q->result() as $row) 
            {
                $data=$row;
            }
            return $data;
        }
    }
} 
```

# 控制器

```
class main_form_view extends CI_Controller
{
    function __construct()
    {
        parent::__construct();
    }

    public function index()
    {
        $this->load->view('main_form_view');
    }

    public function result()
    {
        $this->load->model('Fruits');
        $data['fruitname'] = $this->Fruits->what_fruits(); 

    }
} 
```

# 视图 main_form_view

```
<html>
    <head></head>
    <body>
    <form method="post">
        <select name="food" id="food" onchange="fill_cb_food(this.value);" >
          <option value="0">fruits</option>
          <option value="1">other1</option>
          <option value="2">other2</option>
        </select>

        //response of ajax call display here.???
       <div class="selectbox" id="id_fruits">
          <select name="fruits" id="fruits">
             <option value="">--Choose fruit--</option>
          </select>
       </div>

    </form>
    </body>
</html>

    function fill_cb_food(id)
    {
       $.ajax({
                type: "POST",
                url: "main_form_view/result.php,
                data: "fruit=" + fruitname,
                success: function(html){
                    $("#id_fruits").html(html);
                }
            });
    } 
```

所以我想得到一个组合框

```
 Orange    
  Apple    
  Pear     
  Banana 
```

当用户在表单中选择水果选项时...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:46:57.413

您可以使用 ajax post 来获取数据运行时并填写到您的组合框.. 像：

```
 $.ajax({
                url: 'http://url_to_fetch_fruit_table_data/',
                type: "POST",
                data:data,
                success: function(response) {
                   $("select").html(response);
                }
            }); 
```

或者您也可以使用**foraeach**循环和填充。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-07T04:10:56.147

在模型中，您可以使用“*”选择任何列。

您必须将数据传递给视图文件：

```
class main_form_view extends CI_Controller
{    
    public function index()
    {
        $this->load->model('Fruits');
        $data['fruits'] = $this->Fruits->what_fruits(); 
        $this->load->view('main_form_view', $data);
    }
} 
```

然后你可以在视图文件中做：

```
<?php foreach($fruits as $fruit): ?>
    <option value="<?php print  $fruit['fruitid'] ?>"><?php print $fruit['fruitname']</option>
<?php endforeach; ?> 
```

# c - 如何将多个 c 文件作为 GNU Cflow 的输入？

> ID：15265600
> 
> 赞同：6
> 
> 时间：2013-03-07T07:39:11.710
> 
> 标签：c, linux, gnu, call-graph, cflow

我能够使用 gnu - cflow 生成一个文件的调用图，但我无法找出如何使用 cflow 生成多个文件的调用图。

我试过以下

*   cflow test.c，你好.c

    它为 test.c 生成调用图，而不是为 hello.c 创建它

*   cflow test.c 你好.c

    它为 hello.c 生成调用图，而不是为 test.c 创建它

我不知道如何将多个文件传递给 cflow。

对此有任何想法吗？

你好ç

```
int
 who_am_i (void)
 {
     struct passwd *pw;
     char *user = NULL;

     pw = getpwuid (geteuid ());
     if (pw)
     user = pw->pw_name;
     else if ((user = getenv ("USER")) == NULL)
     {
         fprintf (stderr, "I don't know!\n");
         return 1;
     }
     printf ("%s\n", user);
     unused_function();
     return 0;
 }

 int
 main (int argc, char **argv)
 {
     if (argc > 1)
     {
         fprintf (stderr, "usage: whoami\n");
         return 1;
     }
     return who_am_i ();
 }
 void unused_function()
 {
     printf();
     error1();
     printf();
 }
 void error1()
 {
     error2();
 }
 void error2()
 {

 } 
```

测试.c

```
int tests()
{ return 0;} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T12:25:56.503

*   cflow test.c 你好.c

实际上上面的语句是正确的，并且 tests() 没有出现在调用图中，因为它从未被调用过。

@AndreasGrapentin 给出的答案

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-06-07T14:35:00.207

另一个方便的命令是：

```
cflow *.c 
```

注意：
此命令将忽略所有子目录中的 C 源文件。

参考：
[GNU cflow 手册：第 6 章-控制符号类型](https://www.gnu.org/software/cflow/manual/html_node/Symbols.html#Symbols)

> 为了使 cflow 能够处理此类声明，请将 __P 声明为包装器，例如：
> 
> cflow --symbol __P:wrapper *.c

# adobe - 以编程方式读取 Adob e 游戏变量/与游戏/游戏机器人交互

> ID：15265602
> 
> 赞同：2
> 
> 时间：2013-03-07T07:39:17.283
> 
> 标签：adobe, hook, bots, packet-sniffers, game-development

基本上，我正在尝试阅读游戏的聊天记录并捕捉用户的动作。

这是我将解释情况的图像：

![在此处输入图像描述](../Images/ea482ff2f0716ade16c33eea145d728c.png)

1：我在聊天中留言

2：我尝试用Cheat-Engine在游戏内存中找到它

3：通过检查找到它的每个地址，我最终找到了这个，其中包含似乎是 html 格式的聊天。那部分只是聊天的底部。（如果我向上滚动，我会看到其余部分）

所以，我问自己如何读取游戏变量来与游戏交互。

我想要实现的另一件事是捕捉用户的行为，以便我可以在 winform 中显示一些信息。

我刚刚阅读了有关数据包嗅探的信息，这对我正在尝试做的事情似乎很有趣。

我尝试使用 WireShark 读取进出此应用程序的数据包。游戏中的每个动作都发送了一些数据包，但我无法阅读它们，因为它们只是一堆奇怪的字符。我尝试使用在 WireShark 论坛上获得的一些方法来解密它们，但没有成功。我在问自己，即使我可以在 Wireshark 中看到它们，我将如何以编程方式做到这一点..

肯定有一个很好的方法可以做到这一点，因为我们经常在这个游戏中看到机器人。考虑到“在团队中”玩的机器人数量，我很确定他们不使用点击，但他们在后台运行一些发送请求的东西。

**你如何制作这样一个可以自动与玩家战斗、交谈和互动的机器人？**

这个游戏是 Dofus，由 Adob​​e Air 提供支持。

我通常使用 c++ 和 c# 进行编程，但我想知道最好的方法是什么。

我需要**朝正确的方向踢**！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T23:40:53.693

也许在您的 c# 项目中使用适当的端口尝试 tcp/ip 列表器控件（或在 c# 中使用 tcplistner 类）来捕获请求（和响应）。发送的信息可能会被压缩，因此您可能想尝试一些标准算法。

[您是否尝试过对 AIR 应用程序进行逆向工程？](https://stackoverflow.com/questions/711187/decompiling-adobe-air-applications)

# javascript - 如何从 javascript 中的 twitter 等字符串中提取@提及

> ID：15265605
> 
> 赞同：19
> 
> 时间：2013-03-07T07:39:19.900
> 
> 标签：javascript, regex, node.js, twitter

我正在用 Node.js 编写一个应用程序，它允许用户在 twitter 等消息中相互提及。我希望能够找到用户并向他们发送通知。为了做到这一点，我需要拉 @usernames 从 node.js 中的字符串中查找提及？

任何建议，正则表达式，问题？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-03-07T07:39:19.900

我发现这是在 javascript 中查找字符串内提及的最佳方法。

```
var str = "@jpotts18 what is up man? Are you hanging out with @kyle_clegg";
var pattern = /\B@[a-z0-9_-]+/gi;
str.match(pattern);
["@jpotts18", "@kyle_clegg"] 
```

我故意将其限制为大小写字母数字和 (-,_) 符号，以避免句点可能与 (@j.potts) 等用户名混淆。

这就是[twitter-text.js](https://github.com/twitter/twitter-text/blob/master/js/twitter-text.js#L91)在幕后所做的。

```
// Mention related regex collection
twttr.txt.regexen.validMentionPrecedingChars = /(?:^|[^a-zA-Z0-9_!#$%&*@＠]|RT:?)/;
twttr.txt.regexen.atSigns = /[@＠]/;
twttr.txt.regexen.validMentionOrList = regexSupplant(
    '(#{validMentionPrecedingChars})' +  // $1: Preceding character
    '(#{atSigns})' +                     // $2: At mark
    '([a-zA-Z0-9_]{1,20})' +             // $3: Screen name
    '(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?'  // $4: List (optional)
  , 'g');
twttr.txt.regexen.endMentionMatch = regexSupplant(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/); 
```

如果您使用了任何更有效或更准确的方法，请告诉我。谢谢！

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-07T17:54:26.367

Twitter 有一个库，你应该可以使用它。[https://github.com/twitter/twitter-text-js](https://github.com/twitter/twitter-text-js)。

我没有使用过它，但如果你相信它的描述，“该库为 URL、用户名、列表和主题标签提供了自动链接和提取功能。”。您应该能够在带有`npm install twitter-text`.

虽然我知道您不是在寻找 Twitter 用户名，但同样的逻辑仍然适用，您应该可以正常使用它（它不会验证提取的用户名是有效的 Twitter 用户名）。如果没有，为你自己的目的分叉它可能是一个很好的起点。

[编辑：我仔细查看了文档，这里](https://github.com/twitter/twitter-text-js#extraction-examples)有一个您需要的完美示例。

```
var usernames = twttr.txt.extractMentions("Mentioning @twitter and @jack")
// usernames == ["twitter", "jack"] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-10T12:30:22.830

这是使用 JavaScript 和下划线从 instagram 标题中提取提及的方法。

```
var _ = require('underscore');

function parseMentions(text) {
    var mentionsRegex = new RegExp('@([a-zA-Z0-9\_\.]+)', 'gim');

    var matches = text.match(mentionsRegex);
    if (matches && matches.length) {
        matches = matches.map(function(match) {
            return match.slice(1);
        });
        return _.uniq(matches);
    } else {
        return [];
    }
} 
```

# c++ - 两个几乎相同的 C++ 程序，一个运行良好但另一个运行时出错

> ID：15265609
> 
> 赞同：5
> 
> 时间：2013-03-07T07:39:30.137
> 
> 标签：c++, class, pointers, runtime-error

比较以下两段代码：

1.

```
#include <iostream>
using namespace std;
class B{
public:
    int val;
};
int main(){
    B *b;
    int t = 0;
    b->val = 1;
    cout << 123 << endl;
    return 0;
} 
```

2.

```
#include <iostream>
using namespace std;
class B{
public:
    int val;
};
int main(){
    B *b;
    b->val = 1;
    cout << 123 << endl;
    return 0;
} 
```

两个版本都编译。代码 #1 运行良好，但代码 #2 出现运行时错误。

我正在使用 C++11 编译并运行 Windows 机器。

这真的让我很困惑。谁能告诉我原因？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-07T07:41:15.907

两者都是错误的。该`b`指针未初始化，因此您不应通过它访问内存。

```
B *b;
b->val = 1; 
```

所以当其中一个坠毁时你很幸运。

另一个你运气不好，它没有崩溃。

## 修复

您可以删除间接...

```
B b;
b.val = 1; 
```

或者你可以分配它...

```
std::unique_ptr<B> b(new B());
b->val = 1; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T07:41:16.780

您在此处取消引用未初始化的指针

```
b->val = 1; 
```

指针指向的位置是不确定的：它可以指向任何地方。

跟随这个指针是*未定义的行为*(UB)，这意味着任何事情都可能发生，这就是您所看到的。

真正发生的是，您正在向一段不应该写入的内存中写入值。没有办法知道那里有什么，而且 C++ 标准不能对可能的结果做出任何承诺。它只是调用这个 UB。避免这些情况取决于您。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T07:42:36.170

**您需要在使用它之前初始化任何指针。** 你看到的是所谓的未定义行为。

```
#include <iostream>
using namespace std;
class B{
public:
    int val;
};
int main(){
    B *b = new B();
    int t = 0;
    b->val = 1;
    cout << 123 << endl;
    delete b;
    return 0;
} 
```

应该工作以及

```
#include <iostream>
using namespace std;
class B{
public:
    int val;
};
int main(){
    B b;
    int t = 0;
    b.val = 1;
    cout << 123 << endl;
    return 0;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T07:45:30.770

问题是您使用的是*未初始化的指针*: `B* b;`。在 C 和 C++ 中，内置类型不会在创建时初始化：它们只是包含垃圾。

您的问题的解决方案很简单：不要使用指针。`B b;`将创建一个类实例并调用其构造函数。

> 代码 #1 运行良好，但代码 #2 出现运行时错误。

用标准术语来说，两个代码都表现出*未定义的行为*。这意味着几乎任何事情都可能发生，其中包括*看似正常的工作*（即，可能存在错误但没有明显的症状）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T07:42:44.530

`b->val`指向无效的内存位置。`b`在分配之前分配内存`b->val`

# mysql - groovy 解析 json 并保存到数据库

> ID：15265611
> 
> 赞同：0
> 
> 时间：2013-03-07T07:39:32.180
> 
> 标签：mysql, grails, groovy

我想将一个 json 文件解析为对象，并将其保存到数据库中。我只是创建了一个在 grails 控制台中运行的 groovy 脚本（在 cmd 行中键入 grails 控制台）。我没有创建 grails 应用程序或域类。在这个小脚本中，当我调用保存时，我有

```
groovy.lang.MissingMethodException: No signature of method: Blog.save() 
  is applicable for argument types: () values: []
Possible solutions: wait(), any(), wait(long), isCase(java.lang.Object), 
  sleep(long), any(groovy.lang.Closure) 
```

我错过了什么吗？
我也很困惑，如果我保存，是否会将数据保存到名为 Blog 的表中？我应该在这里建立任何数据库连接吗？（因为我 grails 域类，我们不需要。但是使用纯 groovy 有什么不同吗？）

非常感谢！

```
import grails.converters.*
import org.codehaus.groovy.grails.web.json.*; 

class Blog {
  String title
  String body   
 static mapping = {
   body type:"text"
   attachment type:"text"
}

  Blog(title,body,slug){
    this.title = title
    this.body=body   
  }   
} 
```

这里解析json

```
// parse json
List parsedList =JSON.parse(new FileInputStream("c:/ning-blogs.json"), "UTF-8")

def blogs = parsedList.collect {JSONObject jsonObject ->
    new Blog(jsonObject.get("title"),jsonObject.get("description"),"N/A");
} 
```

循环博客并保存每个对象

```
for (i in blogs){
    // println i.title; I'll get the information needed.
    i.save();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T17:21:07.473

我对 grails 没有丰富的经验，但是从快速谷歌搜索看来，对于一个被视为模型类的类，它需要位于正确的约定包/目录或[具有休眠映射的遗留 jar](http://grails.1312388.n4.nabble.com/External-domain-classes-td1385541.html) / [JPA 注释](http://markmail.org/message/ct2kwmuzqow3ym2m)。因此，您的示例无法正常工作。为什么不在模型包中定义该模型？

# bash - 在 csv 文件中输出最小值的重复项

> ID：15265612
> 
> 赞同：0
> 
> 时间：2013-03-07T07:39:33.507
> 
> 标签：bash, csv, awk, duplicates

我有一个 CSV 文件，其中包含大量价格不同的重复项目，并且文件已排序。我想比较所有重复的项目，看看哪个重复项目的价格最低，然后将价格最低的重复项目导出到一个新文件，字段用逗号分隔，所以原始 CSV 文件：

> 01,banana,7.00
> 01,banana,6.00
> 01,banana,7.00
> 01,banana,9.00
> 02,mango,5.00
> 02,mango,3.00
> 02,mango,3.00
> 02,mango,4.00

输出 CSV 文件应该是

> 01,香蕉,6.00
> 02,芒果,3.00

我目前在 bash 中编码，想知道 awk 是否可以做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:11:17.963

```
awk '!($1" "$2 in x) || x[$1" "$2] > $3 {x[$1" "$2] = $3}
     END {for (item in x) print item, x[item]}' file.txt 
```

*   `$1" "$2`== 前两列用空格连接
*   `!(... in x)`== is ...在数组中找不到作为键`x`？
*   `x[...] > $3`== 是`x`大于第 3 列的 ... 元素

所以如果x中没有找到商品编号+名称，或者保存的价格大于当前行，我们执行大括号中的代码：

*   `{x[...] = $3}`== 将价格另存为 ... 元素`x`

在`END`我们循环遍历所有项目`x`，并打印项目和保存的价格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T10:27:41.813

由于文件已排序（按键分组），您可以尝试这样做以节省一些内存并保持顺序：

```
awk '
  p!=$1 OFS $2 {
    if(p)print p,v
    p=$1 OFS $2
    v=$3
    next 
  } 
  $3<v {
    v=$3
  } 
  END{
    print p,v
  }
' FS=, OFS=, file 
```

或者如果 $1 是唯一键，你也可以试试这个：

```
awk '
  p x!=$1 {
    if(p x)print s
    p=$1
    s=$0
    v=$3
    next 
  } 
  $3<v {
    v=$3
  } 
  END{
    print s
  }
' FS=, file 
```

注意：如果是带有引号字段的 csv 文件，则脚本需要变得更复杂。

# sql - 如何在 where 子句中选择 2 个或更多模型

> ID：15265617
> 
> 赞同：0
> 
> 时间：2013-03-07T07:39:48.933
> 
> 标签：sql, ruby-on-rails-3, where

在 SQL 中，您可以拥有`SELECT x,y FROM ...`

但如果我使用`where`，生成的 sql 只会从它所作用的模型中选择。

例如：

```
user has_many :posts
post belongs_to :user 
```

`Post.includes(:users).where('created_at < ?' 1.day.ago`) 会有

```
SELECT "posts".* FROM "posts" WHERE (created_at > '2013-03-06 07:37:09.010916') 
```

但是我如何`SELECT`发布帖子和用户，以便它也会返回帖子用户？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:00:03.347

更新：正如 Saurabh 指出的，加载的关联应该是 :user 而不是 :users

Includes 用于预先加载关联记录，这意味着给定以下内容

```
@posts = Post.includes(:user)
@posts.each do |post|
  post.user
end 
```

只会对数据库进行 2 个查询，一个用于获取帖子，另一个用于获取与 关联的所有用户`@posts`。Rails 为您管理关联。简单的。

如果要从不同的表中获取某个列值，请尝试以下操作

```
@posts = Post.joins(:user).select('posts.*, users.name AS user_name')
@posts.first.user_name # will give you the name of the first user associated to the post 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:00:09.413

**首先**，你的联想是错误的。当你`Post.includes(:users)`说：`post belongs_to :user`.

正确的方法是——

`Post.includes(:user)`对于**belongs_to 关联**。

**其次**，您可以通过这样做从不同的表中选择一个值：

```
Post.includes(:user).where(:user => {:name => params[:name]}) 
```

上面的查询将为您提供用户名是用户表中字段的`params[:name]`所有帖子。`:name`

# c# - UDP：从所有网络接口读取数据

> ID：15265620
> 
> 赞同：6
> 
> 时间：2013-03-07T07:39:57.683
> 
> 标签：c#, sockets, network-programming, udp, udpclient

我有以下代码来读取来自网络的多播消息，用于指定的 IP+端口

```
private static void ReceiveMessages(int port, string ip, CancellationToken token)
{
    Task.Factory.StartNew(() =>
        {
            using (var mUdpClientReceiver = new UdpClient())
            {
                var mReceivingEndPoint = new IPEndPoint(IPAddress.Any, port);
                mUdpClientReceiver.ExclusiveAddressUse = false;
                mUdpClientReceiver.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
                mUdpClientReceiver.ExclusiveAddressUse = false;
                mUdpClientReceiver.Client.Bind(mReceivingEndPoint);
                mUdpClientReceiver.JoinMulticastGroup(IPAddress.Parse(ip), 255);

                while (!token.IsCancellationRequested)
                {
                    byte[] receive = mUdpClientReceiver.Receive(ref mReceivingEndPoint);

                    Console.WriteLine("Message received from {0} ",mReceivingEndPoint);
                }
            }
        });
} 
```

我有两个网络适配器，我有来自这个多播 ip+端口的数据（由两个监控每个网络适配器的wireshark 实例确认）。我在wireshark上看到两个网卡的这些端口+ Ip）上有很多流量。

问题是在我的控制台上，我只看到来自一张网卡的消息。

我仔细检查了 netstat，我的端口上没有任何其他软件正在监听： ![在此处输入图像描述](../Images/ecb1634112b2efcfbe9965030a08c729.png)

那么为什么我只能从我的两个网卡中的一个获得流量呢？

**编辑**：

我什至尝试了以下方法：

```
private static void ReceiveMessages(int port, string ip, CancellationToken token, IEnumerable<IPAddress> ipAddresses)
{
    foreach (IPAddress ipAddress in ipAddresses)
    {
        IPAddress ipToUse = ipAddress;
        Task.Factory.StartNew(() =>
        {
            using (var mUdpClientReceiver = new UdpClient())
            {

                var mReceivingEndPoint = new IPEndPoint(ipToUse, port);
                mUdpClientReceiver.ExclusiveAddressUse = false;
                mUdpClientReceiver.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
                mUdpClientReceiver.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.Broadcast, 1);
                mUdpClientReceiver.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.DontRoute, 1);
                mUdpClientReceiver.ExclusiveAddressUse = false;
                mUdpClientReceiver.Client.Bind(mReceivingEndPoint);
                mUdpClientReceiver.JoinMulticastGroup(IPAddress.Parse(ip), 255);
                Console.WriteLine("Starting to listen on "+ipToUse);
                while (!token.IsCancellationRequested)
                {
                    byte[] receive = mUdpClientReceiver.Receive(ref mReceivingEndPoint);

                    Console.WriteLine("Message received from {0} on {1}",  mReceivingEndPoint,ipToUse);
                }
            }
        });
    }
} 
```

我看到两次“开始监听 theCorrectIP”（对于我的两个 IP），但它仍然只显示来自一张网卡的数据。

**编辑 2**

我确实注意到了其他一些奇怪的东西。如果我禁用接收所有数据的接口，然后启动软件，我现在从另一个接口获取数据。如果我再次激活接口并重新启动软件，我仍然会在未停用的卡上获得流量。

而且我确定我有响应我的设备，这些设备仅连接到一个网络（不是同时连接到一个网络）

**编辑 3**

另一件事：如果我从我（本地主机）发送一条消息，在我拥有的所有网卡上，我会看到它们出现在我的两个网络接口上。但是，如果我启动我的程序两次，只有第一个程序会收到消息，而不是第二个。

**编辑 4**

附加信息，在第一条评论之后：我有两张以太网卡，一张带有`10.10.24.78`ip，另一张带有`10.9.10.234`ip。发送数据的不是我，而是网络部分（`5353`具有此 ip 的端口是用于 mDNS 的已知多播地址，因此我应该接收来自打印机、iTunes、Mac 和我们创建的其他一些软件的流量）。数据在 ip `224.0.0.251`和 port上多播`5353`。

这是一个代码，您可以使用它在多个 IP 上发送数据，但就像我描述的那样，如果您在本地启动它几乎可以工作（除了只有一个本地客户端接收消息）。

```
private static void SendManuallyOnAllCards(int port, string multicastAddress, IEnumerable<IPAddress> ipAddresses)
{
    foreach (IPAddress remoteAddress in ipAddresses)
    {
        IPAddress ipToUse = remoteAddress;
        using (var mSendSocket = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp))
        {
            mSendSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.AddMembership,
                                        new MulticastOption(IPAddress.Parse(multicastAddress)));
            mSendSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.MulticastTimeToLive, 255);
            mSendSocket.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);

            var ipep = new IPEndPoint(ipToUse, port);
            //IPEndPoint ipep = new IPEndPoint(IPAddress.Parse(multicastAddress), port);
            mSendSocket.Bind(ipep);
            mSendSocket.Connect(ipep);

            byte[] bytes = Encoding.ASCII.GetBytes("This is my welcome message");
            mSendSocket.Send(bytes, bytes.Length, SocketFlags.None);
        }
    }
} 
```

**编辑 5** 这是我的`route print`（不知道那个命令）的结果，在我的两个 IP 上，我总是在`10.9.10.234` ![在此处输入图像描述](../Images/74252efd4fe60c7a5f0db199a1d94ca3.png)

**编辑 6**

我尝试了其他几件事：

1.  使用套接字而不是 UdpClient 接收 --> 没用
2.  在阅读器上设置一些额外的socketOption（DontRoute =1，Broadcast=1）-->没用
3.  指定阅读器 Socket 必须使用的 MulticastInterface（使用 socketOption MulticastInterface）--> 不起作用

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T10:42:28.077

我有同样的问题，我想从我的所有网络接口接收多播。正如 EJP 已经说过的，您需要`JoinMulticastGroup(IPAddress multicastAddr, IPAddress localAddress)`为所有网络接口调用 UdpClient：

```
int port = 1036;
IPAddress multicastAddress = IPAddress.Parse("239.192.1.12");

client = new UdpClient(new IPEndPoint(IPAddress.Any, port));

// list of UdpClients to send multicasts
List<UdpClient> sendClients = new List<UdpClient>();

// join multicast group on all available network interfaces
NetworkInterface[] networkInterfaces = NetworkInterface.GetAllNetworkInterfaces();

foreach (NetworkInterface networkInterface in networkInterfaces)
{
    if ((!networkInterface.Supports(NetworkInterfaceComponent.IPv4)) ||
        (networkInterface.OperationalStatus != OperationalStatus.Up))
    {
        continue;
    }

    IPInterfaceProperties adapterProperties = networkInterface.GetIPProperties();
    UnicastIPAddressInformationCollection unicastIPAddresses = adapterProperties.UnicastAddresses;
    IPAddress ipAddress = null;

    foreach (UnicastIPAddressInformation unicastIPAddress in unicastIPAddresses)
    {
        if (unicastIPAddress.Address.AddressFamily != AddressFamily.InterNetwork)
        {
            continue;
        }

        ipAddress = unicastIPAddress.Address;
        break;
    }

    if (ipAddress == null)
    {
        continue;
    }

    client.JoinMulticastGroup(multicastAddress, ipAddress);

    UdpClient sendClient = new UdpClient(new IPEndPoint(ipAddress, port));
    sendClients.Add(sendClient);
} 
```

我还创建了一个 UdpClients 列表，以便我可以在所有网络接口上**发送我的多播。**

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-08T09:57:37.830

我终于找到了方法！

事实上，如果我保留完全相同的代码，但将它与异步方法一起使用，它就可以工作！！！我只是不明白为什么它不适用于同步方法（如果有人知道，欢迎告诉我:)）

由于我已经失去了 3 天的时间，我认为值得举一个例子：

```
private static void ReceiveAsync(int port, string address, IEnumerable<IPAddress> localAddresses)
{
    IPAddress multicastAddress = IPAddress.Parse(address);
    foreach (IPAddress localAddress in localAddresses)
    {
        var udpClient = new UdpClient(AddressFamily.InterNetwork);
        udpClient.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
        udpClient.Client.Bind(new IPEndPoint(localAddress, port));
        udpClient.JoinMulticastGroup(multicastAddress, localAddress);
        udpClient.BeginReceive(OnReceiveSink,
                               new object[]
                                   {
                                       udpClient, new IPEndPoint(localAddress, ((IPEndPoint) udpClient.Client.LocalEndPoint).Port)
                                   });
    }
} 
```

和异步方法：

```
private static void OnReceiveSink(IAsyncResult result)
{
    IPEndPoint ep = null;
    var args = (object[]) result.AsyncState;
    var session = (UdpClient) args[0];
    var local = (IPEndPoint) args[1];

    byte[] buffer = session.EndReceive(result, ref ep);
    //Do what you want here with the data of the buffer

    Console.WriteLine("Message received from " + ep + " to " + local);

    //We make the next call to the begin receive
    session.BeginReceive(OnReceiveSink, args);
} 
```

我希望这会有所帮助；）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-07T10:16:42.907

您需要通过所有可用接口加入多播组。默认情况下，传出的 IGMP JOIN 消息将根据单播路由表进行路由，单播路由表将使用访问该路由的任何 NIC 将其通过“最便宜”路由发送出去。如果您的多播组可以通过多个这些路由获取，则需要迭代。

# .net - WPF Pack Uri 用于引用用户目录中的文件

> ID：15265621
> 
> 赞同：0
> 
> 时间：2013-03-07T07:40:04.223
> 
> 标签：.net, wpf, pack-uri

我们如何使用 wpf pack uri 来引用位于用户目录中的文件。我的应用程序在用户目录中创建了一个文件夹，文件从互联网下载到那里，需要通过 pack uri 在 wpf 中加载。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:45:41.993

打包 uri 与程序集或原始站点相关的唯一参考文件。请参阅：http: [//msdn.microsoft.com/en-gb/library/aa970069.aspx](http://msdn.microsoft.com/en-gb/library/aa970069.aspx)

要引用用户目录中的文件，您可以使用类似这样的 uri：file:///C:/Users/User3/Pictures/screen.jpg

# javascript - Javascript 闭包（基于对象文字与构造函数）

> ID：15265625
> 
> 赞同：0
> 
> 时间：2013-03-07T07:40:22.223
> 
> 标签：javascript, jquery, closures, scope

使用 Javascript 闭包时，使用 Object literal Vs Constructor based objects 有什么区别吗？

只有语法差异还是闭包还有其他差异？任何解释这两个差异的例子都会非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:03:58.877

闭包是函数式编程的一个特征。它们与对象或对象文字无关。

阅读以下答案 - 它很好地解释了闭包：[https ://stackoverflow.com/a/12931785/783743](https://stackoverflow.com/a/12931785/783743)

一般来说，闭包是一个函数，它**关闭了**嵌套函数中的变量，该函数超出了闭包的范围。例如：

```
function getCounter() {
    var count = 0;

    return function counter() {
        return ++count;
    };
}

var counter = getCounter();

counter(); // 1
counter(); // 2
counter(); // 3 
```

这里函数`getCounter`变成了一个闭包，因为它在嵌套函数返回时**关闭了**`count`嵌套函数中使用的变量`counter`（移出 的范围`getCounter`）。

封闭的变量（在这种情况下`count`）称为**upvalue**。闭包很重要，因为它们允许超出范围（被垃圾收集）的值保持活动状态。这在 C/C++ 和 Java 等语言中是不可能的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:46:43.787

闭包更多的是关于变量的函数范围。所以重要的是要知道变量的作用域是定义它的函数。在这个作用域内运行的任何函数都可以访问*其父*函数本身。父函数将无法访问*子函数*变量，因为它超出了子函数的范围。

因此，对象文字中的变量将被限定为包含它的函数。（如果它不在函数中，那么它在*全局*范围内）。构造函数是一个函数，因此它定义的任何变量都在其自身范围内且在外部不可访问。构造函数中的任何内部方法都可以访问那些定义的变量。

当函数可以访问其自身范围之外的变量并且该变量可能被其他东西更改或更改时，会创建闭包......即使在函数完成执行之后也是如此。

我希望这有助于一些什么。

# python - cron 中的 Python 线程 - 锁定 stderr 文件

> ID：15265626
> 
> 赞同：0
> 
> 时间：2013-03-07T07:40:28.153
> 
> 标签：python, multithreading, concurrency, locking, stderr

我要在我的 Ubuntu 机器上安排一个带有这些选项的 cron，

`* */1 * * * python /path/to/script/my_script.py --pythonpath=/path/to/script/ 1>/path/to/script/success.log 2>/path/to/script/error.log`

这将分支出`n`内部的线程数。对于在每个线程中记录异常（如果引发），我正在使用 python 的`print >>stderr`. 问题是，如果两个线程同时尝试写异常会导致并发问题吗？如果是，我如何`stderr`从线程中锁定和释放文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:50:14.257

是的，您可以从一个线程获得一半的堆栈跟踪，然后从另一个线程获得堆栈跟踪。

> 如果是，我如何从线程中锁定和释放 stderr 文件

就像线程之间共享的所有其他资源一样，带有锁：

```
import threading

stderr_l = threading.Lock()

def print_t(msg):
    with stderr_l:
        print msg 
```

然后仅从`print_t`您的线程中使用

# windows - 如何在windows键盘上输入« »

> ID：15265628
> 
> 赞同：0
> 
> 时间：2013-03-07T07:40:35.190
> 
> 标签：windows, eclipse, model, keyboard, uml

我什至不知道如何问这个问题，因为我什至不知道这些符号叫什么。

这些符号是什么：« 和 »

以及如何输入它们？我正在使用 Eclipse 和 UML（使用 UML Lab），有些地方我需要输入它们，但我不确定如何输入。

我有一个标准的美式键盘。

我尝试了搜索，但搜索引擎无法识别该符号，我什至不知道它叫什么。

这些不是 < 和 >。这就像两个在一起：<< 和 >>，但不是，它们是：« 和 »

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T08:37:23.820

这些字符被称为[Guillemets](http://en.wikipedia.org/wiki/Guillemet)。

如果您使用 UMLLab 和 Xpand 编辑器，您可以通过按`Ctrl`+`<`和`Ctrl`+输入这些`>`（在某些键盘布局上您可能也必须使用`Shift`）

[扩展文档](http://help.eclipse.org/galileo/index.jsp?topic=/org.eclipse.xpand.doc/help/ch01s06.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:45:20.053

查看[ascii 表](http://www.asciitable.com/) ，您可能会看到这些字符具有 174 和 175 的扩展代码。

这意味着您可以使用 Left Alt+174 和 Left Alt+175 键入它们

在输入 174 或 175 时，就我而言，我使用的是数字键盘。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:43:57.213

键盘中没有类似的符号或字符。正如您所说，它只是一个大于 > 和一个小于符号 <

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T19:04:51.160

如果一切都失败了，您始终可以在 Workspace 首选项中创建包含任意字符串的新模板。然后可以使用正常的代码完成 (Ctrl+Space) 获得这些。

# javascript - 需要帮助将 vbs 代码转换为 jscript。我得到一个运行时错误类型不匹配

> ID：15265631
> 
> 赞同：2
> 
> 时间：2013-03-07T07:40:51.727
> 
> 标签：javascript, vbscript, compiler-errors, type-mismatch

我有这个连接到我的电脑的实验室设备。它使用特殊的 OCX 文件与设备进行通信（读取、设置参数等）。我从手册中得到了这段代码，似乎可以正常工作。我收到一个消息框，上面写着“放大率 =1272.814 最后一个错误 = API 未初始化”。

```
<HTML>
<HEAD>
<SCRIPT LANGUAGE="VBScript">
<!--
Sub window_onLoad()
Dim Value
Dim er
call Api1.Initialise("")
call Api1.Get("AP_MAG",Value)
call Api1.GetLastError(er)
call window.alert("Magnification = " + CStr(Value)+"Last error="+er)
call Api1.ClosingControl()
end sub
-->
</SCRIPT>
<TITLE>New Page</TITLE>
</HEAD>
<BODY>
<object classid="CLSID:71BD42C4-EBD3-11D0-AB3A-444553540000" id="Api1">
<PARAM NAME="_Version" VALUE="65536">
<PARAM NAME="_ExtentX" VALUE="2096">
<PARAM NAME="_ExtentY" VALUE="1058">
<PARAM NAME="_StockProps" VALUE="0">
</OBJECT>
</BODY>
</HTML> 
```

因此，因为我在 vbs 中的知识为 0%，在 jscript 中的知识约为 10%，所以我试图用 Javascript 重写相同的东西。而且我还有一些已经用js编写的必要代码。

```
<script language="JScript">
var Api1=new ActiveXObject("ApiCtrl");
var value;
var er;
Api1.Initialise("");
Api1.Get("AP_MAG",value);
Api1.GetLastError(er);
window.alert("Magnification = " + value+"\n Last error="+er);
Api1.ClosingControl(); 
</script> 
```

`.Get`不幸的是，我在使用or的`.GetLastError`方法中遇到类型不匹配`var value; var er;`错误`var value=""; var er="";`

这是 API 手册必须说的

> 长 GetLastError（VARIANT* 错误）
> 
> > [out] Error 是与最后一个错误的错误代码关联的错误字符串 备注：此调用将返回与最后一个错误关联的 VT_BSTR VARIANT。返回值：如果调用成功，则返回0。如果调用失败，则函数返回错误码。
> 
> 长获取（LPCTSTR lpszParam，VARIANT* vValue）
> 
> > [in] lpszParam 是参数的名称，例如“AP_MAG”<br> [in][out] vValue 是参数的值 备注：本次调用将获取指定参数的值并在 vValue 中返回。在 C++ 中，在调用此函数之前，您必须将变体类型 (vValue.vt) 指定为 VT_R4 或 VT_BSTR。如果没有为 vValue 定义变量类型，则默认为模拟参数 (AP_XXXX) 的 VT_R4 和数字参数 (DP_XXXX) 的 VT_BSTR。如果变体类型是模拟参数的 VT_R4，则在变体中返回浮点表示。如果传递了 VT_BSTR 变量，则模拟值将作为带有单位的缩放字符串返回（例如，AP_WD 将返回“= 10mm”）。对于数字参数，VT_R4 变体产生一个状态编号，VT_BSTR 变体产生一个状态字符串（例如，DP_RUNUPSTATE 将返回状态 0 或“Shutdown”或受支持语言中的等效项）。在 C++ 中，如果变体类型指定为 VT_BSTR，则 API 将在内部分配一个 BSTR，调用者必须使用 SDK 调用 ::SysFreeString (vValue.bstrVal) 取消分配该 BSTR

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T22:49:40.640

欢迎来到 StackOverflow！

好吧，每种语言都是有目的的。那么在浏览器（或WSH）环境中处理ActiveX对象，VBScript是最好的选择，而JavaScript是最差的。

JavaScript 没有所谓的*参数*。这意味着所有函数参数都按值传递（作为副本）。让我们通过示例向您展示这一点。

```
' VBScript
Dim X, Y
X = 1
Y = 2
Foo X, Y
MsgBox "Outer X = " & X & ", Y = " & Y
'> Local args: 6, 8
'> Outer X = 1, Y = 8

Sub Foo(ByVal arg1, ByRef arg2)
    arg1 = 6
    arg2 = 8
    MsgBox "Local args: " & arg1 & ", " & arg2
End Sub 
```

默认情况下，在 VBS 中，参数是通过引用传递的，因此`ByRef`函数参数声明中的前缀是可选的。为了清楚起见，我将其包括在内。

该示例说明的是“by reference”或“out”参数的含义。它的行为类似于返回值，因为它修改了引用的变量。虽然修改“按值”变量在函数范围之外没有任何影响，因为我们修改了该变量的“副本”。

```
// JavaScript
function foo(arg1) {
    arg1 = 2;
    alert('Local var = ' + arg1);
}
var x = 0;
foo(x);
alert('Outer var = ' + x);

// Local var = 2
// Outer var = 0 
```

现在看看[这个线程](https://stackoverflow.com/a/5122781/1856504)。看起来有一种使用空对象的部分解决方案。我不确定在哪些情况下会起作用，但可以肯定的是，它是非常有限的 hack。

如果这对您没有帮助，那么看起来是时候使用 VBScript 了。无论如何，从 VBS 开始很容易。这是我接触过的最用户友好的语言。我需要几天，甚至几周才能开始使用其他语言，而在使用 VBS 几个小时后，我就可以自由使用它了。

[编辑]好吧，我做出了更多的努力来回复，一目了然:) 从您遇到的语言限制开始。之后将解释该限制的性质（什么是“输入/输出”参数），最好的方法是通过示例，这就是我所做的。之后，我将向您展示解决 JS 中此限制的唯一解决方法。我们可以认为这是完整的答案吗？

你没有提到你是否测试了这个“空对象技巧”，但是你仍然问我假设你这样做了，它不适用于你的 OCX，对吧？然后，在这种情况下，您只是被迫通过 VBScript 处理您的 OCX，我从一开始就是这样回答的。由于您更喜欢使用 JS，因此您需要在您的解决方案中集成一段 VB 代码。

正如您也注意到的，这种 VBs/Js 集成是一个全新的问题。是的，当然是个好问题，但这是一个新话题。

好的，假设您在下面附加的问题：“为什么它应该将对象作为函数参数传递”，仍然是主要问题的一部分。好吧，正如你所看到的，即使是每天使用 JS 的人（我不是其中之一）也不知道“幕后”会发生什么，即不要指望 JS 引擎在这种情况下做了什么，或者这个作弊方式的答案JS 引擎做一些它不打算做的事情。就个人而言，由于我很少使用 JS 并且不用于此类任务，因此我什至不确定这个技巧是否有效。但是正如 JS 家伙断言的那样（在某些情况下）它有效，那么我们就会信任他们。但仅此而已。如果这种方法失败，那么它不是一个选择。

现在剩下的就是一些功课，你会研究所有可用的 VBs/Js 集成方法，还要测试它们，看看哪一种最适合你的领域，如果碰巧遇到困难，那就来吧——回到论坛，带着新主题和您要解决的具体问题。

为了尽可能提供帮助，我将通过几个参考资料帮助您入门。

这是计划...

**1.**如果可以在没有 VBs/Js 集成的情况下工作，则使用独立的 .VBS 文件（在 WSH 环境中），否则......

**2.**如果您在浏览器环境（HTML 或[HTA](http://msdn.microsoft.com/en-us/library/ms536496%28v=vs.85%29.aspx)）中工作，那么您可以同时嵌入（VBs/Js），并且您的集成会很简单。

**3.**或者可以将 VBs/Js 与[Windows 脚本文件 (.wsf)](http://msdn.microsoft.com/en-us/library/15x4407c%28v=vs.84%29.aspx)集成。

**4.**或使用允许从 JScript（或向后/相反）内运行 VBScript 的 ScriptControl。

链接：

*   [使用脚本控件](http://msdn.microsoft.com/en-us/library/aa227633%28v=vs.60%29.aspx)
*   [如何使用脚本控件调用函数](http://support.microsoft.com/kb/184740)
*   通过 Batch-Embeded-Script 使用 ScriptControl[的示例VBs/Js 集成](http://code.activestate.com/recipes/578329/)

什么是批量嵌入脚本：

*   [VBS/批量混合](https://stackoverflow.com/a/9074483/1856504)
*   [JS/批处理混合](https://stackoverflow.com/a/5656250/1856504)

**5.**其他一些方法（如果你发现了，那我不知道）。

好吧，在所有这些改进之后，我看不到我可以添加更多内容，而且我认为，现在我的答案已经不完整了。如果您同意我的回答，请单击白色大箭头接受。当然，如果您希望从其他用户那里得到更好的回复，您可能仍然需要等待，但请记住，未回答的问题会在一段时间内保持活跃，然后就会关闭。

# hadoop - 高级聚合

> ID：15265633
> 
> 赞同：1
> 
> 时间：2013-03-07T07:40:59.040
> 
> 标签：hadoop, hive

任何人都可以向我解释/向我提供链接注册。那，什么是高级聚合？我读了一些设置属性的地方

```
 hive.map.aggr = true 
```

执行**高级聚合**。但是我找不到它的意思！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T22:53:07.907

hive.map.aggr 控制我们如何进行聚合。默认值为假。如果设置为true，Hive会直接在map任务中做一级聚合。这通常会提供更好的效率，但可能需要更多内存才能成功运行。

[https://cwiki.apache.org/Hive/languagemanual-groupby.html#LanguageManualGroupBy-MapsideAggregationforGroupBy](https://cwiki.apache.org/Hive/languagemanual-groupby.html#LanguageManualGroupBy-MapsideAggregationforGroupBy)

进一步讨论： [http ://dev.bizo.com/2013/02/map-side-aggregations-in-apache-hive.html](http://dev.bizo.com/2013/02/map-side-aggregations-in-apache-hive.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-07T08:33:20.973

答案在[HIVE 编程](http://my.safaribooksonline.com/book/databases/hadoop/9781449326944)，第 86 页。GL！

# ember.js - 如何处理 ember 视图的不同 DOM 元素的事件？

> ID：15265636
> 
> 赞同：0
> 
> 时间：2013-03-07T07:41:04.433
> 
> 标签：ember.js

我的 ember 视图是其他 DOM 元素的容器。我有兴趣独立处理其中一些包含 DOM 元素的事件。例如，在backbone.js 的视图中，我们可以将它们处理为

```
events: {
   'click #some_button': 'handle_button_click',
   'click #some_anchor': 'handle_anchor_click'
} 
```

鉴于emberjs如何做类似的事情？我是否必须为我有兴趣处理事件的每个 DOM 元素创建独立的视图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:28:54.187

无需为每个元素创建视图。

只需使用`{{action}}`助手，您就可以在控制器或路由器中捕获这些事件。

更多信息在这里：[http ://emberjs.com/guides/templates/actions/](http://emberjs.com/guides/templates/actions/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T14:05:46.780

在 EmberJS 中，您不需要将事件绑定到函数。Ember 为 DOM 事件提供默认绑定。我建议您阅读[EmberJS 事件指南](http://emberjs.com/guides/views/handling-events/)以了解绑定。

您还想在元素上绑定函数，您可以按照以下方式执行此操作。我正在以您的 BBJS 示例作为代码，这可以帮助您更好地理解。

```
var App.TestView = Ember.View.extend({
    click : function(e) {
       if($(e.target).attr('id')==='some_button') {
         this.handle_button_click(e);
       } else if($(e.target).attr('id')==='some_anchor'){
         this.handle_anchor_click(e);
       }
    },
    handle_button_click : function(e) {//someCode};
    handle_anchor_click : function(e) {//someCode};
}); 
```

实际上，您可以在条件内拥有`handle_button_click`或具有`handle_anchor_click`相同`click`功能的代码，除非您觉得使其更加模块化......

# android - 在 android 应用程序中将文件上传到 FTP 服务器

> ID：15265637
> 
> 赞同：-1
> 
> 时间：2013-03-07T07:41:09.300
> 
> 标签：android, ftp-client

我尝试了几种在 FTP 服务器上上传文件的方法，但都失败了。

在这里我粘贴我的服务器代码 (php) 以接受来自设备的文件，请提供与该服务器代码对应的 android 代码。

```
<?php
error_reporting(0);
include("dbconfig.php");
$msg = '';
$status = 1;
$overwrite = 1;
/*echo "<pre>";
print_r($_POST);
echo "</pre>";*/

/*echo "<pre>";
print_r($_FILES);
echo "</pre>";*/
if(trim($_POST['userid'])!='')
{   
    $userid = trim($_POST['userid']);
    $overwrite = trim($_POST['overwrite']);
    if($overwrite == 0)
    {
        $selfilesqry = mysql_query("SELECT filepath FROM userfiles WHERE userid = 1 AND status=1");
        while($row = mysql_fetch_array($selfilesqry))
        {
            $selfiles[] = $row['filepath'];
        }

    }
/*  echo "<pre>";
    print_r($selfiles);
    echo "</pre>";*/
    $host = '97.***.****';
    $usr = '*****************8';
    $pwd = '**********************';

    $paths = '/mobbisys/cloudbin/data';
    //$paths = '/php_projects/mahesh/ftpupload/data';

    // connect to FTP server (port 21)
    $conn_id = ftp_connect($host, 21) or die ("Cannot connect to host");

    // send access parameters
    ftp_login($conn_id, $usr, $pwd) or die("Cannot login");

    for($i=0; $i<count($_FILES['txtfile']['name']); $i++)
    {   
        if($_FILES['txtfile']['name'][$i]!='')
        {
            $type = explode('/',$_FILES['txtfile']['type'][$i]);
            $filetype = $type[0];           
            if($filetype == 'audio')
            {
                $path = $paths."/audio";
            }
            else if($filetype == 'video')
            {
                $path = $paths."/video";
            }
            else if($filetype == 'image')
            {
                $path = $paths."/image";
            }
            else
            {
                $path = $paths."/misc";
            }
            //echo "<br />".$path;
            $name = $_FILES['txtfile']['name'][$i];
            $filep = $_FILES['txtfile']['tmp_name'][$i];    
            // turn on passive mode transfers (some servers need this)
            // ftp_pasv ($conn_id, true);
             $filepath = strtolower($path.'/'.$name);
             if($overwrite == 1)
             {
                // perform file upload
                $upload = ftp_put($conn_id, $path.'/'.$name, $filep, FTP_BINARY);

                // check upload status:
                if(!$upload)
                {
                     $msg .= '<br />Cannot upload - '.$_FILES['txtfile']['name'][$i];
                }
                else
                {
                    $msg .= '<br />Upload complete - '.$_FILES['txtfile']['name'][$i];
                    $sqlAdd = "INSERT INTO userfiles(userid, filetype, filepath, createddate, modifieddate, status) VALUES(".$userid.",'".$filetype."','".$filepath."',NOW(),NOW(),'".$status."') ";
                    $resAdd = mysql_query($sqlAdd);             
                }
            }
            else
            {
                if(in_array($filepath, $selfiles))
                {
                    $msg .= '<br />Cannot upload - '.$_FILES['txtfile']['name'][$i].' already exist.';
                }
                else
                {           
                    // perform file upload
                    $upload = ftp_put($conn_id, $path.'/'.$name, $filep, FTP_BINARY);

                    // check upload status:
                    if(!$upload)
                    {
                         $msg .= '<br />Cannot upload - '.$_FILES['txtfile']['name'][$i];
                    }
                    else
                    {
                        $msg .= '<br />Upload complete - '.$_FILES['txtfile']['name'][$i];
                        $sqlAdd = "INSERT INTO userfiles(userid, filetype, filepath, createddate, modifieddate, status) VALUES(".$userid.",'".$filetype."','".$filepath."',NOW(),NOW(),'".$status."') ";
                        $resAdd = mysql_query($sqlAdd);             
                    }
                }
            }
        }
    } 
    // close the FTP stream
    ftp_close($conn_id);
}
else
{
    $msg = 'Please provide userid';
}
echo $msg;
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T13:56:37.160

这是糟糕的代码。为什么不在没有服务器端脚本的情况下通过 ftp 从 android 设备上传文件？ [看这里](http://lavalatwork.blogspot.de/2010/09/using-apache-commons-ftp-library-in.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:45:09.530

插入时必须包含**move_uploaded_file函数**

**语法**：move_uploaded_file（字符串 $filename，字符串 $destination）

**示例**：`move_uploaded_file($_FILES['uploadedfile']['tmp_name'], "./upload/".$_FILES["uploadedfile"]["name"]);`

[http://php.net/manual/en/function.move-uploaded-file.php](http://php.net/manual/en/function.move-uploaded-file.php)

# qt - 使用 PYQT4 的智能感知窗口

> ID：15265638
> 
> 赞同：0
> 
> 时间：2013-03-07T07:41:11.660
> 
> 标签：qt, pyqt, pyqt4

嗨，我正在尝试通过编写自己的文本编辑器来学习 pyqt，使用 pyQT 我想要的一件事是智能感知/单词建议。也就是说，当您在文本编辑器中键入时，它会为您提供合适的单词建议。我有一个单词列表，我已经可以生成一个建议列表。我的困难在于呈现它，我无法在光标位置打开一个显示可能单词列表的窗口/对话框。到目前为止，我已经成功地让 QMenu 工作，但它是有限的，因为它没有滚动条并且只能显示有限数量的建议。我尝试了 QListWidget，但这显示了一个弹出窗口（带有最大、最小按钮），这是不对的，尽管它确实允许我有滚动条。我想知道我应该使用什么对象在光标位置向用户显示建议，就像在任何好的 IDE 中看到的一样。这就是我想要做的 ![智能图像](../Images/cfcde07e66dc7d2b4e05eded72f734bb.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T10:23:20.333

在做了一些搜索之后，我发现我在想这一切都错了。QListview 不是我需要的 Scintilla 很棒，而且可能是最合适的。谢谢rainer 在 [Sample using QScintilla with PyQt中有一个很好的例子](http://eli.thegreenplace.net/2011/04/01/sample-using-qscintilla-with-pyqt/)

但这不是我发现的全部。有一个类 QCompleter，它也非常好，因为我可以将它与 QTextedit 一起使用，经过大量搜索后我发现。“有助于输入长词的文本编辑” [QTextEdit 使用 pyqt 自动完成](http://rowinggolfer.blogspot.co.uk/2010/08/qtextedit-with-autocompletion-using.html)

[QCompleter 类参考](http://pyqt.sourceforge.net/Docs/PyQt4/qcompleter.html)中的大量文档

# python - 如何测试目录是否是python模块路径？

> ID：15265643
> 
> 赞同：0
> 
> 时间：2013-03-07T07:41:18.417
> 
> 标签：python

为了测试一个目录`path`是否是 python 模块路径（即包含一个名为 的文件`__init__.py`），可以执行类似的操作

```
os.path.isfile(os.path.join(path, '__init__.py')) 
```

我想知道是否有一个特殊的函数调用来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:48:49.080

您可以使用[imp.find_module(name[, path])](http://docs.python.org/2/library/imp.html#imp.find_module)测试特定模块是否存在于某个路径中

如何使用

```
import imp
fname, pathname, description = imp.find_module("__test__.py", path)
if not fname:
    #File is not present
else:
    #File is present
    fname.close() 
```

**形成文档**

> 如果搜索成功，则返回值为 3 元素元组（文件、路径名、描述）： ..... 如果模块不在文件中，则返回的文件为 None，路径名为空字符串，并且描述元组包含其后缀和模式的空字符串

# java - 如何根据点击的项目改变listview的内容？

> ID：15265646
> 
> 赞同：2
> 
> 时间：2013-03-07T07:41:25.680
> 
> 标签：java, android

有一个列表视图，如果我单击列表视图中的一个项目，它必须针对在列表视图中单击的所有项目转到相同的活动，我需要的是相同的活动必须根据它们各自的单击项目将内容显示为不同的活动. 我对该活动有疑问，如何为各自的点击创建该活动并获取他们的数据

```
 public class SouthIndianvegrecipes1  extends Activity {

     @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);

            ArrayList<Recipedetails> image_details = GetSearchResults();

            final ListView lv1 = (ListView) findViewById(R.id.listV_main);
            lv1.setAdapter(new ItemListBaseAdapter(this, image_details));

            lv1.setOnItemClickListener(new OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> a, View v, int position, long id) { 
                    Object o = lv1.getItemAtPosition(position);
                    Recipedetails obj_itemDetails = (Recipedetails)o;
                    Toast.makeText(SouthIndianvegrecipes1.this, "You have chosen : " + " " + obj_itemDetails.getName(), Toast.LENGTH_LONG).show();
                     Intent newActivity = new Intent(SouthIndianvegrecipes1.this, 
                                SouthIndianvegmanualrecipes.class);     
                                startActivity(newActivity);
                    /*switch(obj_itemDetails.getImageNumber())
                    {
                        case 1:
                             Intent newActivity = new Intent(SouthIndianvegrecipes1.this, 
                            SouthIndianvegrecipes.class);     
                            startActivity(newActivity);
                            break;

                        case 2:
                            Intent new1Activity = new Intent(SouthIndianvegrecipes1.this, 
                                    SouthIndiannonvegrecipes.class);     
                            startActivity(new1Activity);
                            break;

                        case 3:
                            Intent new2Activity = new Intent(SouthIndianvegrecipes1.this, 
                                    SouthIndianpickelsrecipes.class);     
                            startActivity(new2Activity);
                            break; 

                        case 4:
                            Intent new3Activity = new Intent(SouthIndianvegrecipes1.this, 
                                    SouthIndiansoupsrecipes.class);     
                            startActivity(new3Activity);
                            break;      

                       default:
                           Toast.makeText(SouthIndianvegrecipes1.this, "Wrong Input", Toast.LENGTH_LONG).show();
                    }*/
                     /*if(obj_itemDetails.getName().equals("Vegeterain"))
                     {

                        Intent newActivity = new Intent(SouthIndian.this, 
                                                     SouthIndianvegrecipes.class);     
                        startActivity(newActivity);
                     }

                     else
                       {
                        Intent new1Activity = new Intent(SouthIndian.this, 
                                SouthIndiannonvegrecipes.class);     
                        startActivity(new1Activity);

                     //same for other Activity
                  } */
                } 
            });
        }

        private ArrayList<Recipedetails> GetSearchResults(){
            ArrayList<Recipedetails> results = new ArrayList<Recipedetails>();

            Recipedetails item_details = new Recipedetails();
            item_details.setName("Godhumai veg adai");
            item_details.setItemDescription("This is very good for dibets people");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(12);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Soyamore koozh");
            item_details.setItemDescription("Tasty to have this as main dish");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(13);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Tomato kulambu");
            item_details.setItemDescription("Good side dish for rice and dinner");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(14);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Tomato upma");
            item_details.setItemDescription("Evening time  dinner for kids");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(15);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Tomato upma");
            item_details.setItemDescription("Evening time  dinner for kids");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(15);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Navratri special vada");
            item_details.setItemDescription("Good snacks at the function");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(16);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Egg kurma");
            item_details.setItemDescription("Wonderful dish made by egg");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(17);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Milagu kuzhambu");
            item_details.setItemDescription("Good for digestion purpose");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(18);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Rasam");
            item_details.setItemDescription("Last and famous dish in lunch,good for health also");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(19);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Vegetable kootu");
            item_details.setItemDescription("Nice and healthy one");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(20);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Avial");
            item_details.setItemDescription("Easy to prepare and lots of vegetable");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(21);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("kothavarangaicurry");
            item_details.setItemDescription("Tamilnadu special and healthy too");
            //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
            item_details.setImageNumber(22);
            results.add(item_details);

            return results;
        } 
```

}这是代码，如果我在列表视图中单击该项目，它必须进入下一个活动，我将在哪里为项目写入数据

```
 public class SouthIndianvegmanualrecipes  extends Activity {

         private Object getIntent;

        @Override
            public void onCreate(Bundle savedInstanceState) {
                super.onCreate(savedInstanceState);
                setContentView(R.layout.recipe_manual);

                ArrayList<Recipedetails2> image_details = GetSearchResults();

                final ListView lv1 = (ListView) findViewById(R.id.listV_main);
                lv1.setAdapter(new ItemListBaseAdapter2(this, image_details));

               /* lv1.setOnItemClickListener(new OnItemClickListener() {
                    @Override
                    public void onItemClick(AdapterView<?> a, View v, int position, long id) { 
                        Object o = lv1.getItemAtPosition(position);
                        Recipedetails obj_itemDetails = (Recipedetails)o;
                        Toast.makeText(SouthIndianvegrecipes1.this, "You have chosen : " + " " + obj_itemDetails.getName(), Toast.LENGTH_LONG).show();
                         Intent newActivity = new Intent(SouthIndianvegrecipes1.this, 
                                    SouthIndianvegmanualrecipes.class);     
                                    startActivity(newActivity);
                        /*switch(obj_itemDetails.getImageNumber())
                        {
                            case 1:
                                 Intent newActivity = new Intent(SouthIndianvegrecipes1.this, 
                               SouthIndianvegrecipes.class);     
                               startActivity(newActivity);
                                break;

                            case 2:
                                Intent new1Activity = new Intent(SouthIndianvegrecipes1.this, 
                                        SouthIndiannonvegrecipes.class);     
                                startActivity(new1Activity);
                                break;

                            case 3:
                                Intent new2Activity = new Intent(SouthIndianvegrecipes1.this, 
                                        SouthIndianpickelsrecipes.class);     
                                startActivity(new2Activity);
                                break; 

                            case 4:
                                Intent new3Activity = new Intent(SouthIndianvegrecipes1.this, 
                                        SouthIndiansoupsrecipes.class);     
                                startActivity(new3Activity);
                                break;      

                           default:
                               Toast.makeText(SouthIndianvegrecipes1.this, "Wrong Input", Toast.LENGTH_LONG).show();
                        }*/
                         /*if(obj_itemDetails.getName().equals("Vegeterain"))
                         {

                            Intent newActivity = new Intent(SouthIndian.this, 
                                                         SouthIndianvegrecipes.class);     
                            startActivity(newActivity);
                         }

                         else
                           {
                            Intent new1Activity = new Intent(SouthIndian.this, 
                                    SouthIndiannonvegrecipes.class);     
                            startActivity(new1Activity);

                         //same for other Activity
                      } */
                    //} 
                //});
            }
        Bundle extras = getIntent().getExtras();
        int[] obj_itemDetails.getImageNumber() = extras.getIntArray("numbers");

            private ArrayList<Recipedetails2> GetSearchResults(){
                ArrayList<Recipedetails2> results = new ArrayList<Recipedetails2>();

                Recipedetails2 item_details = new Recipedetails2();
                item_details.setName("Godhumai veg adai");
                item_details.setIngredients("This is very good for dibets people");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(12);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Soyamore koozh");
                item_details.setIngredients("Tasty to have this as main dish");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(13);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Tomato kulambu");
                item_details.setIngredients("Good side dish for rice and dinner");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(14);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Tomato upma");
                item_details.setIngredients("Evening time  dinner for kids");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(15);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Tomato upma");
                item_details.setIngredients("Evening time  dinner for kids");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(15);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Navratri special vada");
                item_details.setIngredients("Good snacks at the function");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(16);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Egg kurma");
                item_details.setIngredients("Wonderful dish made by egg");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(17);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Milagu kuzhambu");
                item_details.setIngredients("Good for digestion purpose");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(18);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Rasam");
                item_details.setIngredients("Last and famous dish in lunch,good for health also");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(19);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Vegetable kootu");
                item_details.setIngredients("Nice and healthy one");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(20);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("Avial");
                item_details.setIngredients("Easy to prepare and lots of vegetable");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(21);
                results.add(item_details);

                item_details = new Recipedetails2();
                item_details.setName("kothavarangaicurry");
                item_details.setIngredients("Tamilnadu special and healthy too");
                item_details.setMethods("This is very good for dibets people");
                //item_details.setUrlWiki("https://www.youtube.com/watch?v=C_r0mFvMSfU");
                item_details.setImageNumber(22);
                results.add(item_details);

                return results;
            }

    } 
```

在这里我将如何编写代码来获取我的 xml 文件中的数据，我想把代码放在这里，就像各自的点击一样

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"

  android:orientation="vertical"

  >

  <ImageView
    android:id="@+id/itemphoto"
    android:layout_height="wrap_content"
    android:layout_width="fill_parent"
    android:layout_gravity="top"
    android:padding="20dp"
    android:scaleType="center"
  ></ImageView>

  <TextView
      android:text="Ingredients:"
      android:layout_width="fill_parent"
      android:layout_height="wrap_content"
      android:gravity="left" />

  <TextView android:id="@+id/itemIngredients"
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content"
        android:scaleType="center" />

   <TextView
      android:text="Method:"
      android:layout_width="fill_parent"
      android:layout_height="wrap_content"
      android:gravity="left" />

  <TextView android:id="@+id/methods"
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content"
        android:scaleType="center" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:49:32.583

您可以根据 ListView 项的位置或名称更改日期。假设

```
String name[]={"a","b","c","d"};
lv1.setOnItemClickListener(new OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> a, View v, int position, long id) { 
                   String current=name[position];

//now put condition here to start different activity

if(current.equals("a"))
{
//do operation what u have to do for a
}else if(current.equals("b"))
{
//do operation what u have to do for b
}
similarly put here condition for all
        }); 
```

祝你好运享受

# jquery - 使用 insertAfter 类名

> ID：15265647
> 
> 赞同：1
> 
> 时间：2013-03-07T07:41:28.190
> 
> 标签：jquery, jquery-ui

当类不是唯一的时，我如何使用**insertAfter类？**有办法吗？假设我想在 div 类 "desc" 之后移动 div "name" 或者移动到另一个地方？

一段时间后，它进入某种类型的循环，并提示我停止脚本

[http://jsfiddle.net/rudyten/ffGZk/](http://jsfiddle.net/rudyten/ffGZk/)

```
$(".image").insertAfter(".name");
$(".desc").insertAfter(".image");

<div class='box'>
    <div class='name'>NAME</div>
    <div class='image'>IMAGE</div>
    <div class='desc'>DESC</div>
</div>
<div class='box'>
    <div class='name'>NAME</div>
    <div class='image'>IMAGE</div>
    <div class='desc'>DESC</div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:52:59.847

您可以`insertAfter`在`each`如下函数中执行：

```
$('.container').each(function(){
    if (loc == "AB") {
        $(this).find(".image").insertAfter($(this).find(".name"));
        $(this).find(".desc").insertAfter($(this).find(".image"));
    }

    if (loc == "BA") {
        $(this).find(".image").insertAfter($(this).find(".desc"));
        $(this).find(".name").insertAfter($(this).find(".image"));
    }

    if (loc == "AA") {
        $(this).find(".desc").insertAfter($(this).find(".name"));
        $(this).find(".image").insertAfter($(this).find(".desc"));
    }

    if (loc == "BB") {
        $(this).find(".name").insertAfter($(this).find(".image"));
        $(this).find(".desc").insertAfter($(this).find(".name"));
    }
}); 
```

这是jsfiddle。[http://jsfiddle.net/ffGZk/4/](http://jsfiddle.net/ffGZk/4/)

# mysql - 是否可以检查mysql行中的任何字段是否为空？

> ID：15265653
> 
> 赞同：0
> 
> 时间：2013-03-07T07:41:52.020
> 
> 标签：mysql

碰到一堵砖墙，我跑来这里寻求帮助。

是否可以检查给定 mysql 表行中的字段是否为空，不，我不想检查每个列名（如果可能，使用单行 sql）。

我会详细说明一些：

说如果我有一个包含列 t1_col1,t1_col2 和 ...

所以我想知道这些列是否为空。

如果我有另一个包含列 t2_col1、t2_col2 和 ..

我想使用 SAME sql 语句来检查这些列是否为空。

我没有尝试过任何东西，因为我不知道该尝试什么，我知道可以通过检查列是否为空来实现这一点（如果列名是已知的，而且我知道表的列名可以通过'显示 mysql 的列）。所以这些不是我想走的路。我想知道是否有任何单个命令可以进行此检查？

任何机构都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:48:33.363

MySQL中没有这样的东西。您必须检查每一列。

但是，可以像这样获取表模式：

```
DESCRIBE table_name; 
```

它将为您提供表中所有列的列表，然后使用您最喜欢的编程语言，您可以循环遍历所有字段以创建查询以检查它们是否为空。

# maven - Maven 配置文件属性不会覆盖弹簧配置中的值

> ID：15265654
> 
> 赞同：0
> 
> 时间：2013-03-07T07:41:52.473
> 
> 标签：maven, profile, activation

我对 Maven 配置文件有一个非常奇怪的问题。

在 pom.xml 我们有一些属性的配置文件。我们在 pom.xml 和 spring 配置中使用这些属性。使用特定配置文件构建时，仅 pom.xml 中的属性会受到影响，在 spring 配置中存在默认值。不知何故，配置文件似乎没有被激活，尽管 pom.xml 中的属性发生了变化。

当我像这样激活配置文件默认值时：

```
<activation>
    <activeByDefault>true</activeByDefault>
</activation> 
```

所有属性都按应有的方式更改。

我运行 maven 形式的命令行，我使用的是 Ubuntu 12.04 存储库中的 3.0.4 版本。我还使用独立的 3.0.5 版本进行了测试。我使用的命令：

```
mvn clean package -P profile-id 
```

如果这还不够奇怪，我只是在这个项目中遇到这个问题的人，所以它必须是我的电脑的问题，我只是不知道在哪里看。

你知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T09:50:51.833

这似乎是 maven-resources-plugin 版本 2.5 和 2.6 中的错误。我们通过将版本指定为 2.4 来解决此问题。

# php - 无法添加额外字段。错误 ID 79 出现 X-Cart

> ID：15265657
> 
> 赞同：0
> 
> 时间：2013-03-07T07:41:59.353
> 
> 标签：php, sql, database, function, x-cart

我目前正在使用 X-Cart 创建一个在线商店。我正在尝试在通讯簿中创建“公司”字段。我已按照[说明](http://forum.x-cart.com/showthread.php?t=58364&page=2)进行操作：但我看到了一个`Error ID 79`.

根据[论坛](http://forum.x-cart.com/showthread.php?t=46183)，这是由于数据库的错误，但我已经检查并确定

我确实有必填字段。

我无法在 X-Cart 论坛中创建主题，我不太确定原因。我只知道我收到了一条消息：

> 你没有权限

因此，我剩下的唯一解决方案就是在这里搜索帮助，对此非常抱歉。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T05:54:32.067

我想我不应该只是盲目地跟随。我按照说明将以下代码添加到 func.order.php 但将其删除后，一切都奇迹般地工作了。很抱歉浪费了这篇文章的空间。

```
$_fields = array_keys($default_address_book_fields);

    foreach (array('b_', 's_') as $p) {

        foreach ($_fields as $k) {
            if($k!='address_2') {

                $f = $p . $k;

                if (isset($userinfo[$f])) {
                    $insert_data[$f] = addslashes($userinfo[$f]);
                }
            }

        }

    } 
```

# pdf - 我们真的需要硬件设备来对我们网站生成的 PDF 进行数字签名吗？

> ID：15265658
> 
> 赞同：3
> 
> 时间：2013-03-07T07:41:59.557
> 
> 标签：pdf, adobe, itextsharp, digital-signature, bouncycastle

我们的网站使用 iTextSharp 和 BouncyCastle 生成 PDF 并对其进行数字签名。

然而，我们被告知我们不能使用网站的 SSL 证书来签署 PDF，我们需要一个特殊的 PDF 签名证书（因为 Adob​​e 只信任某些根）。并且获得类似网站使用的证书（即生成的文档的自动编程签名）的唯一方法是获得可以访问证书私钥的物理硬件设备。显然这个硬件设备**要花很多钱**。

我们真的需要花费数千美元来签署 PDF 以得到 Adob​​e 的信任吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T08:10:51.923

从技术角度来看，您可以使用任何带有私钥的 X.509 证书并正确设置密钥使用扩展来签署文档。但是，验证方（通常是 Adob​​e Reader）将只信任某些证书。Adobe 的要求是，Adobe Reader 接受的证书是按照他们的要求颁发的，其中之一是通过将私钥放在硬件上来保护私钥。

可以通过告诉 Reader 使用 Windows 证书存储验证证书、添加自定义根作为受信任的根等来调整 Adob​​e Reader 以接受其他证书，但这需要在客户端（读取器）端执行额外操作。

此外，您还没有找到可以向您出售适合数据签名的证书的证书颁发机构，而无需您为硬件设备支付大量费用。为什么会这样？“垄断”就是答案。Adobe 已经对 PDF 和阅读器造成了一种垄断，现在让合作伙伴（和它自己）滥用它。

USB 令牌的成本约为 50 美元（批量购买时要少得多），但您必须向 CA 支付 10 倍以上的费用才能将该令牌交付给您。而且这个费用不是为了验证你，而只是一种垄断费用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:45:43.397

不，不需要硬件来签署 PDF。看起来有人想榨取你一点钱:)

[http://www.pdflib.com/products/plop-ds/](http://www.pdflib.com/products/plop-ds/)是一个商业产品示例，您可以使用软件来签署 PDF。

TCPDF ( [http://www.tcpdf.org/](http://www.tcpdf.org/) ) 是 PHP 动态编写 PDF 的通用库，内置了 PDF 签名。它是开源的 =) 那里有示例代码说明他们如何签署 PDF。

# asp.net-mvc-3 - 使用引导程序时如何更改控件的宽度

> ID：15265660
> 
> 赞同：0
> 
> 时间：2013-03-07T07:42:15.047
> 
> 标签：asp.net-mvc-3, twitter-bootstrap

我有 MVC 应用程序。我正在为 CSS 使用引导程序。现在，我想在视图中使用宽度约为 500 像素的文本区域。

我有这个代码

```
 @Html.TextArea("Comment", "", 5, 200, new { @class = "Comment-" + @ViewBag.EId }) 
```

现在，在 bootstrap TextArea 中，宽度是 206px，现在我只想在这个视图中更改 textArea 的宽度。我不想更改 CSS 中的值。

这个怎么做 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:46:02.653

```
@Html.TextArea(
    "Comment", 
    "", 
    5, 
    200, 
    new { 
        @class = "Comment-" + @ViewBag.EId, 
        style = "width: 500px" 
    }
) 
```

# c++ - 在box2d中为精灵创建一个b2body

> ID：15265662
> 
> 赞同：-1
> 
> 时间：2013-03-07T07:42:24.187
> 
> 标签：c++, cocos2d-iphone, box2d

按照[突破游戏的教程，](http://www.raywenderlich.com/28604/how-to-create-a-breakout-game-with-box2d-and-cocos2d-2-x-tutorial-part-1)我用自己的身体创建了 3 个精灵——球和 2 个桨。我的问题可能很简单，很抱歉，我还在学习。无论如何，我的问题与示例中的不同，我的精灵是缩放的，即：

```
-(id)init {
    p1 = [CCSprite spriteWithFile:@"1.png"];
    p1.position = ccp(160, winSize.height * 0.08);
    p1.scaleX = 190 / 2 / p1.contentSize.width;
    p1.scaleY = 58 / 2 / p1.contentSize.height;

    b2BodyDef p1BodyDef;
    p1BodyDef.type = b2_dynamicBody;
    p1BodyDef.position.Set(160/PTM_RATIO, 40/PTM_RATIO);
    p1BodyDef.userData = p1;
    _p1Body = _world->CreateBody(&p1BodyDef);

    b2PolygonShape p1Shape;
    p1Shape.SetAsBox(p1.contentSize.width/PTM_RATIO/2, p1.contentSize.height/PTM_RATIO/2);

    b2FixtureDef p1ShapeDef;
    p1ShapeDef.shape = &p1Shape;
    p1ShapeDef.density = 0.3f;
    p1ShapeDef.friction = 1.0f;
    p1ShapeDef.restitution = 0.0f;
    _p1Fixture = _p1Body->CreateFixture(&p1ShapeDef);
} 
```

创建身体后，我创建了一个更新方法，它使用接触侦听器检测我的球拍和球之间的碰撞。这可以正常工作，但是，我在测试游戏时注意到，即使球没有与实际精灵的位置发生碰撞，例如球拍的顶部和侧面大约 2-3 厘米，球也会弹跳。我怀疑这是因为我的多边形的形状和我的精灵的 scale-x 和 -y 不同。所以我的问题是，如何将身体的大小设置为与缩放的精灵相同？我试过类似的东西：

```
p1Shape.SetAsBox(190 / 2 / p1.contentSize.width/PTM_RATIO/2, 58 / 2 / p1.contentSize.height/PTM_RATIO/2); 
```

但是碰撞被忽略了，就好像身体根本不存在一样。那么，如果已缩放，如何使桨的 b2body 与桨精灵的大小相同？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-07T09:03:41.823

我不是 100% 确定，但我想我经过更多研究后想通了。这是我设置身体形状的方法：

```
p1Shape.SetAsBox(p1.contentSize.width/PTM_RATIO/2 * p1.scaleX, p1.contentSize.height/PTM_RATIO/2 * p1.scaleY); 
```

我不能肯定地说这是正确的解决方案，因为我没有启用调试绘制，我还不能弄清楚如何让它工作，但在尝试对我的游戏运行一些测试后从碰撞中判断，这似乎解决了我的问题。如果还有其他人可能认为有更正确的方法可以做到这一点，请告诉我。谢谢

# asp.net - 带有 Asp.Net Web 应用程序的图像

> ID：15265663
> 
> 赞同：0
> 
> 时间：2013-03-07T07:42:24.377
> 
> 标签：asp.net

我的图像有问题 我有一个图像，它位于“C:\Mh\mahesh1”之类的根目录中，并尝试通过以下方式上传，但无法正常工作。

```
Defaults.aspx.cs 
namespace UITI
{
  public partial class _Default : System.Web.UI.Page
  {
    protected void Page_Load(object sender, EventArgs e)
    {
        string img = MapPath("~Mh/mahesh1.jpg");
        myimages.ImageUrl = img;
    }
   }
 }

 Defaults.aspx
 <%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs"           Inherits="UITI._Default" %>

 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

 <html xmlns="http://www.w3.org/1999/xhtml" >
 <head runat="server">
 <title>Untitled Page</title>
 </head>
 <body>
 <form id="form1" runat="server">
 <div>
 <asp:Image ID="myimages" runat="server"  BorderStyle="Double" />
 </div>
 </form>
 </body>
 </html> 
```

我也尝试过 Default.aspx.cs 页面，例如：

```
namespace UITI
{
  public partial class _Default : System.Web.UI.Page
  {
    protected void Page_Load(object sender, EventArgs e)
    {
        string img = ResolveClientUrl ("~/Mh/mahesh1.jpg");   
        myimages.ImageUrl = img;
    }
  }
 } 
```

怎么做？。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:45:22.923

试试看

```
string img = Server.MapPath("~/Mh/mahesh1.jpg");
    myimages.ImageUrl = img; 
```

或者

**编辑**：

```
string img = ResolveUrl("~/Mh/mahesh1.jpg");

myimages.ImageUrl = img; 
```

如果它不起作用，请检查您的文件夹路径`(~/Mh/mahesh1.jpg)`。你的路径不正确。我上面的代码对我有用

**新编辑**

```
string img = **ResolveUrl("mahesh1.jpg");**

myimages.ImageUrl = img; 
```

**先看看** 试试这个直接把正确的网址

```
**myimages.ImageUrl = @"~/Mh/mahesh1";** 
```

**问题在这里：** 您的 mahesh1 图像位于任何其他文件夹中（对于项目文件夹或任何其他驱动器或桌面）。所以您遇到了这个问题。您可以使用任何其他图像。或将您的 mahesh1 重命名为 mahes123（如果您喜欢名称）图像，然后检查。

# svn - ANT - 头过滤器中的正则表达式

> ID：15265665
> 
> 赞同：0
> 
> 时间：2013-03-07T07:42:31.857
> 
> 标签：svn, ant, build

首先，我对 ANT 很陌生，我对我面临的问题进行了很多研究，但没有取得任何成功。我正在尝试获取 SVN 版本号。通过以下蚂蚁任务。我得到了修订号。但我想该修订号中有一个新行。当我将该数字附加到工件时，我看到了吗？在那里面。

`<target name="revision-number" >` `<loadfile srcfile="${basedir}/projectName/.svn/entries" property="revision">` `<filterchain>` `<headfilter lines="1" skip="3"/>` `</filterchain>` `</loadfile>` `<echo file="REVISION" message="${revision}"/>` `</target>`

ZIP 逻辑在这里。

当我在 unix 终端中看到它显示的名称时 - projectName.12345?.tar.gz 并且在 winscp 中名称是正确的 - projectName.12345.tar.gz

日志 [echo] 启动 Zip [tar] 构建 tar：/opt/maven/hudson/jobs/project/workspace/projectName.tar [gzip] 构建：/opt/maven/hudson/jobs/project/workspace/projectName.156308 [ gzip] .tar.gz [echo] 停止压缩

有两个[gzip]

使用 winscp 复制 .​​gz 文件时出现错误（错误代码 123），因此我想删除这一新行。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:10:30.033

您应该使用`trim`,`IgnoreBlank`或`DeleteCharacters`filter 来执行此操作。更多信息在这里：

修剪：[http ://ant.apache.org/manual/Types/filterchain.html#trim](http://ant.apache.org/manual/Types/filterchain.html#trim)

IgnoreBlank：[http ://ant.apache.org/manual/Types/filterchain.html#IgnoreBlank](http://ant.apache.org/manual/Types/filterchain.html#IgnoreBlank)

删除字符：http : [//ant.apache.org/manual/Types/filterchain.html#DeleteCharacters](http://ant.apache.org/manual/Types/filterchain.html#DeleteCharacters)

# domain-driven-design - 聚合根，他们应该负责删除子对象吗？

> ID：15265671
> 
> 赞同：3
> 
> 时间：2013-03-07T07:43:12.870
> 
> 标签：domain-driven-design, ddd-repositories, aggregateroot

我有一个关于聚合根的问题，他们应该负责删除子对象还是应该由存储库负责？如果我想通过它的 ID 查询一个文件，我应该在我的存储库中为此创建一个特定的方法吗？

我的聚合根的代码片段：

```
public class Folder {

   #region Properties

   public Guid Id { get;set; }
   public Name { get;set; }
   public virtual ICollection<File> Files { get;set; }

   #endregion

   #region Methods

   public File AddFile(string type, string title, bool share = false)
   {
     ///
   }

   #endregion
} 
```

文件类：

```
public class File
{
    #region Properties

    public virtual Folder Folder { get; set; }
    public string Title { get; set; }
    public string Type { get; set; }
    public bool Shared { get; set; }

    #endregion

    #region Constructor

    public File(Folder folder, string type, string title, bool share = false)
    {
        ///
    }

    #endregion
} 
```

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T09:45:26.853

聚合根负责域不变量（参见[http://dddcommunity.org/library/vernon_2011/](http://dddcommunity.org/library/vernon_2011/)）。

所以答案是**肯定**的，聚合根应该是唯一可以访问它聚合的对象的对象。这意味着任何其他对象都不应获得对 File 的引用，并且该 File 不应公开任何更改其自身状态的方法。

所有改变子对象状态的方法都应该由聚合根本身公开，因为它必须确保聚合不变量。

至于持久化删除，我通常将域事件建模为 .NET 事件：这些事件在返回实体之前由存储库订阅。因此，在事件处理程序中会发生持久性逻辑（有关详细信息，请参见[http://epic.tesio.it/doc/manual/observable_entities.html](http://epic.tesio.it/doc/manual/observable_entities.html)）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T21:57:35.310

AggregateRoots 应该对其子对象负责。在您的示例中，假设文件夹公开了一个大小属性，该属性由文件大小的总和确定。

```
long Size{get{return Files.Sum(f => f.Size);} 
```

因此，当您实际删除文件时，文件夹需要知道它。

您现在可能没有 Size 属性 - 但遵循 DDD 的部分目的是，当您需要实现它时，它可以简单而干净地执行。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-07T10:57:40.547

这在很大程度上取决于您的上下文。如果文件具有独立于文件夹的自己的生命周期，那么您可以将文件设为实体/AR。但是，这意味着您需要打破文件夹中的实例聚合关系，以便它仅具有对文件的引用。像这样的东西：

```
public class Folder
{
    public Guid Id { get;set; }
    public string Name { get;set; }

    public List<ContainedFile> Files { get;set; }
}

public class File
{
    public Guid Id { get;set; }

    public string Title { get;set; }
}

public class ContainedFile // or FolderFIle or whatever makes sense in your domain
{
    public Guid FileId { get;set; }
} 
```

尝试将对其他 AR 实例的引用保留在 AR 之外。此外，这种双向关系 ( `File.Folder`) 不是必需的。这可能表明您正在使用域模型进行导航:) --- 尽量不要这样做。

# android - Onclicking android 应用程序图标 url 应该打开

> ID：15265672
> 
> 赞同：-3
> 
> 时间：2013-03-07T07:43:23.190
> 
> 标签：android, onclick

我是 android 的新开发人员。我想创建一个简单的应用程序，我将在其中单击图标，而不是在浏览器中打开我的网站。

有人可以建议我该怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:49:46.100

创建android项目在主布局中添加**WebView**附加到代码中的webview，然后加载url

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T11:48:03.647

使用 WebView 并参考[webview 的链接](http://www.mkyong.com/android/android-webview-example/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T12:03:16.293

```
 @Override
public boolean onOptionsItemSelected(MenuItem item) {
    super.onOptionsItemSelected(item);
    switch (item.getItemId()) {
    case android.R.id.home:
        Intent open = new Intent(Intent.ACTION_VIEW,Uri.parse("http://www.google.com"));
        startActivity(open);
        return true;
    }
    return false;
} 
```

# asp.net-mvc - 使用 ASP.NET MVC 在查询字符串中使用身份验证令牌对用户进行身份验证

> ID：15265691
> 
> 赞同：2
> 
> 时间：2013-03-07T07:44:34.127
> 
> 标签：asp.net-mvc, authentication, asp.net-mvc-4, forms-authentication

**[这个问题与 ASP.NET MVC4 有关，它是关于最佳实践方法 - 所以请不要建议黑客。]**

我想使用请求 URL 中发送的身份验证令牌对用户进行身份验证。它的工作原理类似于密码重置令牌，但在这种情况下，它不会进入重置页面，而是授予对网站某些部分的访问权限。这个想法是将带有身份验证令牌的 URL 发送到经过验证的用户电子邮件地址。用户无需输入密码即可单击该链接并执行某些操作。

开箱即用的 ASP.NET 具有 [Authorize] 属性和 SimpleMembershipProvider - 这些似乎工作得很好，但它们在幕后做了一些巫术魔法（比如自动生成数据库表），所以我不知道如何扩展它们以添加此基于链接的身份验证令牌。

我不期待一个确切的答案，但请指出我正确的方向。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T08:07:19.497

呃，广泛的问题。但我至少会尝试将您引向正确的方向。

因此，首先如果建议您使用表单身份验证作为基础，但您必须自定义使用它。而且我认为您不想使用 cookie 进行身份验证，因为这是表单身份验证的本机行为。

您应该考虑的最重要的一点是让您自定义基于查询字符串令牌的身份验证。

1.  创建一个登录操作，在此操作中您将授权用户，如果他已授予访问权限，您要求 FormsAuthentication 创建 AuthCookie。接下来，您只需将 httpCookie.Value 作为您将在查询字符串中携带**的身份验证令牌。**

2.  您需要实现将处理此查询字符串标记并将**其转换为 cookie**`Application_BeginRequest`的in 。通过这种方法，您可以利用所有 ASP.NET 表单身份验证基础结构。`Global.asax`

 **这是没有代码的相当高级的图片。如果您需要更详细的帮助，我也可以提供给您。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:01:06.453

`Action`您应该只使用接受的常规`HttpGet`。收到token后立即作废，不能再次使用。此外，只接受在您预定义的时间段范围内的令牌，例如 24 或 72 小时。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-09-03T02:25:10.277

谢谢**彼得**的想法。

如果 smb 需要为旧的 ASP.NET MVC5 创建 JWT 令牌授权。我写了一个小例子。我不会将 cookie 序列化为 JWT。我创建了一个 JWT，然后在 BeginRequest 中检查它。如果一切正常，我创建一个 cookie 并将其设置为 httpContext.Request。我为应用程序使用了身份验证模式 =“表单”，它需要 cookie。

创建 JWT 令牌：

```
const string secret = "GQDstcKsx0NHjPOuXOYg5MbeJ1XT0uFiwDVvVBrk";
[AllowAnonymous]
[HttpPost]
public ActionResult LoginJWT(LoginViewModel model)
{
    ActionResult response = null;
    if (ModelState.IsValid)
    {
        if (true) //todo: check user login&password
        {
            var payload = new Dictionary<string, object>
            {
                { "iss", "subject" },
                { "sub", "api" },
                { "exp", DateTimeOffset.UtcNow.AddHours(2).ToUnixTimeSeconds()},
                { "iat",  DateTimeOffset.UtcNow.ToUnixTimeSeconds()},
                { "jti", Guid.NewGuid() },
                { "uid", "64" } //custom field for identificate user
            };

            IJwtAlgorithm algorithm = new HMACSHA256Algorithm(); // symmetric
            IJsonSerializer serializer = new JsonNetSerializer();
            IBase64UrlEncoder urlEncoder = new JwtBase64UrlEncoder();
            IJwtEncoder encoder = new JwtEncoder(algorithm, serializer, urlEncoder);

            var token = encoder.Encode(payload, secret);
            response = Content(token);
        }
        else
        {
            response = new HttpStatusCodeResult(System.Net.HttpStatusCode.BadRequest, "Login or password are not found");
        }
    }
    else
    {
        response = new HttpStatusCodeResult(System.Net.HttpStatusCode.BadRequest, "Errors in Model");
    }
    return response;
} 
```

检查 Global.asax 中的 JWT 令牌：

```
public override void Init()
        {
            this.BeginRequest += this.BeginRequestHandler;
            base.Init();
        }

private void BeginRequestHandler(object sender, EventArgs e)
        {
            var bearerToken = this.Context.Request.Headers["Authorization"];
            if (bearerToken != null)
            {
                var token = bearerToken.StartsWith("Bearer ") ? bearerToken.Substring(7) : bearerToken;
                const string secret = "GQDstcKsx0NHjPOuXOYg5MbeJ1XT0uFiwDVvVBrk";
                int userId = 0;
                try
                {
                    IJsonSerializer serializer = new JsonNetSerializer();
                    var provider = new UtcDateTimeProvider();
                    IJwtValidator validator = new JwtValidator(serializer, provider);
                    IBase64UrlEncoder urlEncoder = new JwtBase64UrlEncoder();
                    IJwtAlgorithm algorithm = new HMACSHA256Algorithm(); // symmetric
                    IJwtDecoder decoder = new JwtDecoder(serializer, validator, urlEncoder, algorithm);

                    var json = decoder.DecodeToObject<IDictionary<string, string>>(token, secret, verify: true);

                    if (json.TryGetValue("uid", out var uid))
                    {
                        userId = Convert.ToInt32(uid);
                    }
                }
                catch (TokenExpiredException)
                {
                    Console.WriteLine("Token has expired");
                }
                catch (SignatureVerificationException)
                {
                    Console.WriteLine("Token has invalid signature");
                }
                if (userId != 0)
                {
                    // check user by id, if found create cookie.
                }
            }
        } 
```

我用过： [jwt-dotnet/jwt library 7.2.1](https://github.com/jwt-dotnet/jwt)**

# jquery - 单击按钮时显示 div

> ID：15265692
> 
> 赞同：2
> 
> 时间：2013-03-07T07:44:36.117
> 
> 标签：jquery

这里试图显示一个`<div>`，`id="importLocations"`当我点击按钮“go”时 - 它一切正常，但我想使用 jquery 来做，但我不能让它工作：

```
<script>
   function onClickButton(){
      alert("Came inside");
      document.getElementById('importLocations').style.display ='inline';
   }
</script>
<label>Functions/Tools :</label>
 <select id ="selFunction" name ="selFunction" class ="DataEntryField">
<option value ="Select">Select</option>
<optgroup label="Import From">
<option value ="1">India</option>
<option value ="2">America</option>
<option value ="3">china</option>

</optgroup>             
 </select>
<input type="button" value="Go" id="functionBtn" onClick="onClickButton()" class = "input"/>

<div id="importLocations" style="display:none;" class="header">
 <span id="locatinCaption">Import Location</span> <span class="close">
 <img id="closeLoc" width="15px" height="15px" alt="Close this section" src="/resources/images/crossMark.gif"/></span>
<br/>
<label class="DataEntryLabel"> Search by </label>
<input  type="text" id="importLocation" value="select" size="30" readonly="readonly"/>
 <input  type="text" id="searchTextArea" size="30" class="DataEntryField"/>
 <button type="button" id="importLoc" value="importLoc" class="DataEntryButton"/>search</button>
 </div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:49:14.503

里面`<head>`，添加这个：

```
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> 
```

以这种方式使用它：

```
function onClickButton(){
    $('#importLocations').show();
} 
```

### 小提琴：http: [//jsfiddle.net/praveenscience/PLvtc/1/](http://jsfiddle.net/praveenscience/PLvtc/1/)

或者，不显眼：

```
$(document).ready(function(){ 
    $('#functionBtn').click(function(){ 
        $('#importLocations').show();
    });
}); 
```

### 小提琴：http: [//jsfiddle.net/praveenscience/PLvtc/2/](http://jsfiddle.net/praveenscience/PLvtc/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:48:53.303

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>    
$(document).ready(function(){ 
$('#functionBtn').click(function(){ 
$('#importLocations').show();
});
});
</script> 
```

将这些脚本标签放在页面的 Head 部分。

# telerik - 从另一个组合框设置 radcombobox 的值

> ID：15265694
> 
> 赞同：0
> 
> 时间：2013-03-07T07:44:50.280
> 
> 标签：telerik, rad

来自另一个 radcombobox1 的 radcombobox2 的设置值 radcombobox2 在 asp 用户控件上，而 radcombobox1 在 aspx 页面上。并且值来自像这样的绑定时间的数据库

```
 if (result.IsSuccessful)
                {
                    var rcbRadComboBox = (RadComboBox)RadGrid1.MasterTableView.FindControl("RadComboBox1");
                    if (comboEditAccessGroup != null)
                    {

                        comboEditAccessGroup.DataSource = result.Result;
                        comboEditAccessGroup.DataTextField = "Title";
                        comboEditAccessGroup.DataValueField = "JobId";
                        comboEditAccessGroup.DataBind();

                    }
                } 
```

但问题是，我无法更改在 radcombobox1 上选择的选定索引

我用过

```
 var selectedindexforjob = Request.QueryString["JobId"];
    rcbRadComboBox.SelectedValue = selectedindexforjob; 
```

为了实现目标但失败了，什么也没有发生。请帮我。Radcombobox1====在 aspx 页面上 Radcombobox2=====在 ascx 页面上

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T17:55:48.320

向用户控件添加一个属性：

```
public string ComboSelectedValue
{
   get { return RadComboBox2.SelectedValue; }
   set { RadComboBox2.SelectedValue = value; }
} 
```

然后你可以从页面中使用这个属性：

```
MyUserControl.ComboSelectedValue = RadComboBox1.SelectedValue; 
```

# java - 大长数字除以圆形

> ID：15265696
> 
> 赞同：0
> 
> 时间：2013-03-07T07:45:06.347
> 
> 标签：java, android

我对java有问题，然后我想划分大长类型数字，例如，如果我划分165600139 / 86400000 = 1.9，但我的方法返回1而不四舍五入：/

```
public static long calcDaysBefore(Date date) {
    int MILISECONDS_IN_DAY = 24 * 60 * 60 * 1000;
    long days = 0;
    if (date != null) {
        long current = getCurrentDate().getTime() - date.getTime();
        days = current / MILISECONDS_IN_DAY;
    }
    return days;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:47:23.187

它正在四舍五入，类似于做

```
days = Math.floor((double) current / MILISECONDS_IN_DAY); 
```

如果你想四舍五入你可以写

```
days = (current + MILISECONDS_IN_DAY/2) / MILISECONDS_IN_DAY; 
```

使用浮点，您可以使用以下速度慢得多的方法。

```
days = Math.round((double) current / MILISECONDS_IN_DAY); 
```

如果你想四舍五入，你可以做

```
days = (current + MILISECONDS_IN_DAY-1) / MILISECONDS_IN_DAY; 
```

或者

```
days = Math.ceil((double) current / MILISECONDS_IN_DAY); 
```

顺便说一句，毫秒有两个 l

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:51:20.687

实际上结果是四舍五入的，有几种舍入模式，请参阅[http://docs.oracle.com/javase/1.5.0/docs/api/java/math/RoundingMode.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/math/RoundingMode.html)，在你的情况下你得到的数量整天。为了四舍五入到最接近的长度，我们可以使用

```
long days = Math.round(current / 8640000.0); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:47:12.413

投加倍。

```
days = (double)current / (double)MILISECONDS_IN_DAY; 
```

# c# - 如何在使用 c# protobuf-net 进行序列化时将对象附加到文件中？

> ID：15265698
> 
> 赞同：2
> 
> 时间：2013-03-07T07:45:13.127
> 
> 标签：c#, file, serialization, protobuf-net

我得到了将对象序列化为文件的 Protobuf-net 的源代码。

```
var person = new Person {
        Id = 12345, Name = "Fred",
        Address = new Address {
            Line1 = "Flat 1",
            Line2 = "The Meadows"
        }
    };
    using (var file = File.Create("person.bin")) {
        ProtoBuf.Serializer.Serialize(file, person);
    } 
```

但是假设我有两个要序列化为单个文件的 Person 实例。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T07:53:32.507

protobuf，在纯粹意义上，除了文件末尾之外没有任何“终止符”（这样可以简单地通过连接 blob 来合并/组合对象）。

但是，我们可以注入我们自己的标记，例如通过在每个对象前面加上后面的数据长度。

protobuf-net 通过公开一个`SerializeWithLengthPrefix`方法来解决这个问题。有多种方法可以从中反序列化，但最简单的是`DeserializeItems`，它依次为您提供对象的流序列（从迭代器中的流中延迟假脱机 - 因此它非常适合非常大的序列）。

有关信息，您可以查看它是如何实现的：如果您使用`PrefixStyle.Base128`and 一个 positive `fieldNumber`，那么*在网络上*这看起来就像您有一个包装器对象一样：

```
[ProtoContract]
public class DoesNotExist {
    [ProtoMember({fieldNumber})]
    public List<Person> People {get;set;}
} 
```

主要区别在于不存在实际`DoesNotExist`类型/实例，并且没有`List<T>`创建 - 您只需获取`Person`实例。

# javascript - JavaScript 浏览器检测？

> ID：15265703
> 
> 赞同：0
> 
> 时间：2013-03-07T07:45:23.580
> 
> 标签：javascript, android, iphone, mobile, browser-detection

我需要在当前项目中添加对触摸设备的某种支持。因为这是我第一次必须做这样的事情，所以我查看了一些“制作精良”的网站的代码，看看他们是如何做到的。

一页做这样的事情：

`if(document.querySelectorAll && (navigator.platform == "iPad" || navigator.platform.substring(0, 6) == "iPhone" || navigator.platform == "iPod" || navigator.userAgent.indexOf('Android') > -1)) {...}`

我在手头的所有设备上都对其进行了测试，并且可以正常工作，但是请告诉我，这样做可以吗？有没有“正确”的方法来做到这一点？

我之所以问，是因为我在[这里](http://www.quirksmode.org/js/support.html)读到应该避免浏览器检测，而应该使用对象检测。现在我看到他们也在测试`document.querySelectorAll`哪些是对象检测，所以也许它之后的一切都只是某种安全网？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:51:52.907

应该避免浏览器检测，是的。因为浏览器可以改变。

今天，也许谷歌浏览器不支持某个功能。但是明天 Chrome 应该会更新并支持它。

因此，如果您`if (!isGoogleChrome())`在 Chrome 更新的那一天执行类似的操作，则必须更新您的代码。

您应该进行对象检测。例如，如果你想确保一个函数/对象在这里，只需测试它：

```
if (document.querySelectorAll !== undefined) {
    //...
} 
```

您也可以使用[http://modernizr.com/](http://modernizr.com/)，它可以为您检测当前的浏览器功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:50:02.033

您使用的代码非常非常明智：开始时任何简单的字符插入都会使其失败。

你可以用类似的东西替换它

```
if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|Mini/i.test(navigator.userAgent)) { ... 
```

但是您应该意识到，检测设备是危险的，因为它们可能比人们想象的更加多样化：有些具有比某些桌面浏览器更好的 CPU、网络访问或屏幕。因此，对于大多数用途，最好检测您需要的功能。

在我看来，如果您计划根据可用设备维护您的网站，那么这种检测可以合法地用于检测触摸屏，但还有其他解决方案，例如[Modernizr](http://modernizr.com/)等库或[特定测试](https://stackoverflow.com/questions/6262584/how-to-determine-if-the-client-is-a-touch-device)。

# database-design - 使用触发器与视图获取当前数据状态

> ID：15265709
> 
> 赞同：0
> 
> 时间：2013-03-07T07:45:43.193
> 
> 标签：database-design, triggers, views, database-trigger

我是数据库设计的新手，我有一个关于为我的项目选择触发器与视图的问题。以下是一些细节：

使用的数据库：MySQL

```
Table 1:

Name: - no limit on number of values
Level: - four values are possible - 1,2,3,4
Status: - four values are possible - a,b,c,d 
```

每个名称 CAN（不是强制性的，但可能）包含级别和状态的所有组合。

例子：

名称：“王”可持有1级状态a、1级状态b、......、2级状态a、2级状态b..... 3级状态a、3级、状态b...... ..

现在我必须查询数据库以进行一些计算，以通过在网络上工作的 GUI（Java Swing）向用户显示它们。我需要的计算是......

1.  每个名称的每个级别的每个状态的计数。例如：

    King 的 1 级中有多少“状态 a”。King 的级别 1 中有多少“状态 b”。King 的级别 1 中有多少“状态 c”。国王级别 1 中有多少“状态 d”。King 的 2 级中有多少“状态 a”。很快....

    名称---级别---状态

    国王--- 1 --- 一个

    国王--- 1 --- 一个

    国王--- 1 --- 一个

    国王--- 1 --- b

    国王--- 1 --- b

    国王--- 1 --- d

    以此类推 2 级，然后还有不同的名称。我想计算 1 级的名字“King”

如果我执行单独的查询来获取这些数据，如果我有 20 个名字，我需要执行 320 个查询。我不想。我这里有两个解决方案...

解决方案 1\. 我创建了一个触发器。

我创建了表 2：

```
 Name,Level,a_count,b_count,c_count,d_count
   King  1       3      2      0         0
    xyz   1       ...    ..... ....       ... 
```

当原始表 1 更新时，触发器会相应地添加到计数中。现在我直接从这个table2中读取。

解决方案 2：创建一个显示此数据的视图。

名称--级别--状态--计数

国王 1 a 3

国王 1 b 2

国王2一...

很快。

有了这个解决方案，我不需要一直通过网络发送所有查询。我可以只调用一次视图（它确实会执行所有查询，但不需要从程序中执行）

我可以实现两者，但我想知道哪种解决方案更有效。我将为每个用户（使用我的前端）在父表中保留大约 2000 行，并且用户可以是任意数字。请建议。

谢谢，拉朱

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T11:00:48.703

> “如果我执行单独的查询来获取这些数据，如果我有 20 个名字，我需要执行 320 个查询。”

是的，但您不需要执行单独的查询：您需要一个查询来聚合COUNT`name`和：`level``status`

```
select name, level, status, count(*)
from your_table
group by name, level, status 
```

[了解更多](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_count)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:39:52.367

最后我做了更多的研究并选择使用触发器。原因如下：

需要：需要在用户想要的时候获取汇总数据。目前对于 20 个不同的名称，每次用户请求数据时我都需要执行 320 个查询。所以这里的重点是用户请求数据的次数。在我的申请中，他经常要求。

所以对于视图：数据库无论如何都必须执行所有查询。所以每次用户请求数据时，我最终都会执行 320 次查询。

使用触发器：我需要为每个行更新执行一个更新查询，这将为每个更新执行大约 2 个查询。我最多有 2000 行，当用户更新所有行时，我最终会执行 4000 个查询。但是当每次用户需要数据时，我只执行 1 个查询来获取所有数据。这样，对数据库施加负载的用户（单个或多个）因素已被最小化。

我在网上发现了许多比较触发器与视图的讨论，这些讨论偏向于不使用一件事，但我了解到，只要应用程序保持其可伸缩性而不大幅增加数据库的负载，任何东西都可以使用。由于数据库上的负载是一些（x）因素用户的使用，这个“一些（x）”应该保持尽可能小。

如果我的理解有误请指正，愿意学习。

谢谢，拉朱

# php - 为什么iTunes无法读取我用php编写的RSS提要？

> ID：15265712
> 
> 赞同：0
> 
> 时间：2013-03-07T07:45:46.493
> 
> 标签：php, rss, itunes, feed, podcast

我正在尝试将我的 RSS 提要与 iTunes 的播客部分同步。有人可以帮助我并告诉我为什么我的 rss 提要与 iTunes 不同步吗？我研究了潜在的问题，似乎没有发现任何与我的提要冲突的东西。这是饲料

[http://www.sportdebaters.com/content/sdrss.php](http://www.sportdebaters.com/content/sdrss.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:53:24.147

您没有使用 iTunes 特定的 RSS 标签

看看[http://www.apple.com/itunes/podcasts/specs.html](http://www.apple.com/itunes/podcasts/specs.html)和[http://www.podcast411.com/howto_1.html](http://www.podcast411.com/howto_1.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-02T07:19:30.357

这可能有点难，所以我为此创建了一个小型开源库。

[您可以在此处](https://github.com/read2me-online/itunes-podcast-feed-php)下载并学习如何使用它，但还是让我 c/p 一个示例：

```
use iTunesPodcastFeed\Channel;
use iTunesPodcastFeed\FeedGenerator;
use iTunesPodcastFeed\Item;

require __DIR__ . '/vendor/autoload.php';

// SETUP CHANNEL
$title = 'Read2Me Daily Curated Articles';
$link = 'https://read2me.online';
$author = 'NYTimes and Medium';
$email = 'hello@read2me.online';
$image = 'https://d22fip447qchhd.cloudfront.net/api/widget/static/images/default-thumbnail.png';
$explicit = false;
$categories = [
    'News',
    'Technology',
    'Culture',
    'Entrepreneurship',
    'Productivity'
];
$description = 'Daily curated articles from New York Times and Medium';
$lang = 'en';
$copyright = 'The New York Times Company and The Medium Company';
$ttl = 43200; // 12 hours in seconds

$channel = new Channel(
    $title, $link, $author, $email,
    $image, $explicit, $categories,
    $description, $lang, $copyright, $ttl
);

// SETUP EPISODE
$title = "Trump Says Disclosure of Mueller Questions in Russia Probe Is ‘Disgraceful’";
$fileUrl = 'https://s3.read2me.online/audio/www-nytimes-com-2018-05-01-us-politics-trump-mueller-russia-questions-html-7e9601.mp3';
$duration = '2:18';
$description = 'WASHINGTON — President Trump on Tuesday said it was “disgraceful” that questions the special counsel would like to ask him were publicly disclosed, and he incorrectly noted that there were no questions about collusion. The president also said collusion was a “phony” crime.';
$date = 1525177808;
$filesize = 828387;
$mime = 'audio/mpeg';

$item = new Item(
    $title, $fileUrl, $duration,
    $description, $date, $filesize, $mime
);
$item2 = clone $item; // just to give you an idea of how it works

// SETUP FEED
$feed = new FeedGenerator($channel, ...[$item, $item2]);

// OUTPUT XML
print $feed->getXml(); 
```

# algorithm - 如何生成所有有效位变化向二进制整数的组合？

> ID：15265718
> 
> 赞同：1
> 
> 时间：2013-03-07T07:46:18.427
> 
> 标签：algorithm, bit-manipulation

将 2 位或更少的更改定义为 32 位整数被认为是“有效的”。
为简化起见，让我们以 4 位二进制为例。
0000 -> 1000 有效
0000 -> 1100 有效
0000 -> 1001 有效
0000 -> 1101 无效

所以实际上这意味着有 C(32, 2) * 2^2 可能的组合

我想知道如何编写一个这样的函数`vector<int> foo(int numberToBeChanged, int n)`，它需要一个数字`n`（允许的位更改数）并返回所有可能组合的集合？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:35:16.347

这将做到：

```
#include <iostream>
#include <vector>
using namespace std;

vector<unsigned int> foo(unsigned int n)
{
    vector<unsigned int> ans;

    // One of the combinations is not to change anything, i.e. number itself
    ans.push_back(n);

    for(unsigned int i = 0; i < 32; i++) {
        // Combinations with only one bit changed
        ans.push_back(n ^ (1 << i));
        for(unsigned int j = 0; j < i; j++) {
            // Combinations with two bits changed
            ans.push_back(n ^ (1 << i) ^ (1 << j));
        }
    }
    return ans;
}

int main()
{
    vector<unsigned int> v = foo(0);
    for(unsigned int i = 0; i < v.size(); i++) {
        cout << v[i] << endl;
    }
    return 0;
} 
```

PS这里是根据描述更改修改的代码：

```
#include <iostream>
#include <vector>
using namespace std;

/*
    start denotes bit number from which we should start loop, i.e. we can't
    modify any bits before that bit to avoid duplicates (we are modifying bits
    with order from lowest to highest, so if we have modified some bit, next bit
    to modify should be a higher one.
*/
void foo(vector<unsigned int>& ans, unsigned int number, int n, unsigned int start)
{
    // As we reached to current number someway then it is one of the combinations
    ans.push_back(number);
    if(n < 1) {
        // No more changes allowed, go back
        return;
    }

    // Try change one bit
    for(unsigned int i = start; i < 32; i++) {
        foo(ans, number ^ (1 << i), n - 1, i + 1);
    }
}

int main()
{
    vector<unsigned int> v;
    unsigned int startingNumber = 0;
    int changesAllowed = 2;
    foo(v, startingNumber, changesAllowed, 0);
    for(unsigned int i = 0; i < v.size(); i++) {
        cout << v[i] << endl;
    }
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:39:06.927

如果您只想更改数字 N 中的两位，可以使用以下命令：

```
for (size_t i = 0; i < sizeof(int); ++i) {
    int one = N ^ (1<<i);
    for (size_t j = 0; j < i; ++j)
        vec.push(one ^ (1<<j));
    vec.push(one);
}
vec.push(N); 
```

对于任何另一个 n：生成一个数字列表，其中设置了 n、(n-1)、... 0 位，并将您的 N 与所有这些位进行异或。有很多已回答的问题，如何生成这样的列表。事实上，对于大 n，有 O(2^(sizeof(int))) 个可能的数字。如果我只想迭代它们，我更喜欢使用生成器，而不是完整列表。

# editor - Sublime Text 与 Notepad++ 相比有什么优势，反之亦然？

> ID：15265721
> 
> 赞同：176
> 
> 时间：2013-03-07T07:46:29.053
> 
> 标签：editor, notepad++, sublimetext2, sublimetext

很多朋友建议我开始使用 Sublime Text 而不是 Notepad++，但到目前为止我对 Notepad++ 很满意。我使用 Notepad++ 主要用于快速编辑文件（Haskell、Python、C#、HTML、JS、CSS 等）、复制和粘贴文本片段以及在其上运行宏等。

Sublime Text 和 Notepad++ 的功能集的主要区别是什么？

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2013-03-07T10:15:35.013

应该考虑的一件事是许可。

[Notepad++](https://notepad-plus-plus.org/)是免费的（如在语音和啤酒中）永久使用，在[GPL 许可](http://www.gnu.org/licenses/quick-guide-gplv3.html)下发布，而 Sublime Text 2 需要许可。

引用 Sublime Text 2[网站](http://www.sublimetext.com/)：

> ..必须购买许可证才能继续使用。目前没有强制的评估时间限制。

现在 Sublime Text 3 也是如此，未来的版本需要付费升级。

> **升级政策** 许可证对 Sublime Text 3 有效，包括所有点更新，以及对先前版本的访问（例如，Sublime Text 2）。未来的主要版本，例如 Sublime Text 4，将是付费升级。

截至 2019 年 12 月，此许可要求仍然正确。

* * *

## 回答 #2

> 赞同：52
> 
> 时间：2013-03-07T08:07:53.507

对我来说，主要优势是 Sublime Text 2 几乎相同，并且在 Windows、Linux 和 OS X 上具有相同的功能。你能说关于 Notepad++ 吗？它使我可以无缝地从一个操作系统迁移到另一个操作系统。

然后是速度。人们声称有缺陷且不稳定的 Sublime Text 2（3 更稳定），仍然非常快。如果你使用它，你会意识到它有多快。

Sublime Text 2 有一些简洁的功能，如多光标输入、[多项选择](http://docs.sublimetext.info/en/latest/editing/editing.html#multiple-selections)等，这将使您非常高效。

大量的插件和主题，以及对 Textmate 的支持，这意味着您可以使用 Sublime Text 2 做任何事情。我已经从 Notepad++ 转移到 Windows 上的 Sublime Text 2 并且没有回头。对我来说真正的问题是 - Sublime Text 2 还是 vim？

Notepad++ 方面有什么好处 - 它在 Windows 上对我来说加载速度更快。也许它足以让您快速编辑。但是，Sublime Text 3 在这方面也应该更快。在处理大文件时，Sublime text 2 并不是很好，而且我发现 Notepad++ 在文件达到一定大小之前非常好。当然，Notepad++ 是免费的。Sublime Text 2 有无限试用。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-07T09:11:43.020

最好自己判断

1) Sublime 可以在 Mac 和 Linux 上运行，这可能是它的优点，VI 模式可以让 VI 爱好者（UNIX 和 Linux）轻松搜索。

~~[http://text-editors.findthebest.com/compare/9-45/Notepad-vs-Sublime-Text](http://text-editors.findthebest.com/compare/9-45/Notepad-vs-Sublime-Text)~~

此链接不再有效，因此请观看此视频以获取类似详细信息[视频](https://www.youtube.com/watch?v=ncWw2m6qUSc)

初步观察表明，其他一切都应该可以正常工作并且几乎相似；（借助 notepad++ 中的可用插件）

一些变化：一些用户发现插件对 PHP 编码器有用

[http://codelikeapoem.com/2013/01/goodbye-notepad-hellooooo-sublime-text.html](http://codelikeapoem.com/2013/01/goodbye-notepad-hellooooo-sublime-text.html)

虽然，Notepad Plus Plus 有很多插件..

我不确定您的要求，我也不是这些编辑中的任何一个的推动者 :)

因此，根据您的要求判断，这应该满足您的查询......

是的，我们可以补充一点，两者都在快速发展和变化。

# c# - 将文件夹复制到剪贴板

> ID：15265722
> 
> 赞同：2
> 
> 时间：2013-03-07T07:46:31.470
> 
> 标签：c#, directory, clipboard

我使用 C# 作为这次试用的编程语言。

我搜索了无数论坛和其他出现在我的 Google 搜索结果中的地方。但是，我找不到我的问题的解决方案。

我有一个 FileExplorer，并且我的 Context Menu Strip 组件中有菜单项 Copy/Paste/Delete。现在，我在文件资源管理器中复制了文件，但我正在尝试弄清楚如何复制文件夹。

我使用 TreeView 组件作为我与之相关的主要组件。

什么是文件资源管理器？这就是我所说的（这是我的文件资源管理器的实际图像）：

![在此处输入图像描述](../Images/a81b5c7c933f3e3dac989d7636b65e99.png)

这是我当前用于在“FileExplorer\”文件夹中复制“文件”的代码。它还检索“FileExplorer\”文件夹内的其他文件夹/文件。

```
 private void toolStripMenuItemCopy_Click(object sender, EventArgs e)
    {
        try
        {
            DirectoryInfo[] directories = directoryInfo.GetDirectories();
            foreach (FileInfo file in directoryInfo.GetFiles()) // Retrieving the files inside of FileExplorer\ folder
            {
                if (file.Exists && file.Name == treeView.SelectedNode.Text)
                {
                    StringCollection filePath = new StringCollection();
                    filePath.Add(file.FullName);
                    Clipboard.SetFileDropList(filePath); // Copying the selected (node) file
                }
            }

            if (directories.Length > 0)
            {
                foreach (DirectoryInfo directory in directories) // Retrieving the directories inside of the FileExplorer\ folder
                {
                    foreach (FileInfo file in directory.GetFiles()) // Retreiving all the files inside of the directories
                        if (file.Exists && file.Name == treeView.SelectedNode.Text)
                        {
                            StringCollection filePath = new StringCollection();
                            filePath.Add(file.FullName);
                            Clipboard.SetFileDropList(filePath); // Copying the selected (node) file
                        }
                }
            }
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }
    } 
```

如果有人能给我有关如何在我的文件资源管理器中复制文件夹的所需指针/代码，我们将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-04T03:33:58.950

**VB.NET**

```
Dim f() As String = {"C:\SureFire\TWHomepage"}
Dim d As New DataObject(DataFormats.FileDrop, f)
Clipboard.SetDataObject(d, True) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-10T06:19:58.727

```
StringCollection files = Clipboard.GetFileDropList();
foreach (string file in files)
{
    if (System.IO.Directory.Exists(file))
    {
        string destPath = info.FullName;
        FileSystem.CopyDirectory(file, destPath, UIOption.AllDialogs, UICancelOption.DoNothing);

    }
} 
```

# php - 将数组限制为 5 个项目

> ID：15265723
> 
> 赞同：44
> 
> 时间：2013-03-07T07:46:35.807
> 
> 标签：php, arrays

我有一个代码，每次访问页面时都会向数组添加一个数字。这些数字存储在 cookie 中，稍后检索。

我想只保留数组中最近的 5 个数字。

如果数组已满（5 个项目）并且必须添加一个新数字，则必须删除最旧的数字并保留最新的项目

这就是我所拥有的：

```
 $lastviewedarticles = array();

if (isset($_COOKIE["viewed_articles"]) ) {
  $lastviewedarticles = unserialize($_COOKIE["viewed_articles"]);
}

if (!in_array($articleid, $lastviewedarticles)){
    $lastviewedarticles[] = $articleid;
}
setcookie("viewed_articles", serialize($lastviewedarticles)); 
```

* * *

## 回答 #1

> 赞同：222
> 
> 时间：2013-03-07T07:50:28.197

[array_slice](http://php.net/array_slice)返回数组的切片

```
array_slice($array, 0, 5) // return the first five elements 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-07T07:52:01.040

使用 array_splice 和 array_unique 获得 5 个唯一的数组值

```
array_splice(array_unique($lastviewedarticles), 0, 5); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-07T07:53:30.440

首先我认为，您需要获取数组长度，然后如果长度>或等于5，则删除第一个元素，并将元素添加到数组的末尾。

```
if (!in_array($articleid, $lastviewedarticles)){
    $count = count($lastviewedarticles);
    if($count>=5)
        array_shift($lastviewedarticles);
    $lastviewedarticles[] = $articleid;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:51:49.460

使用计数器访问数组，在每次调用中递增它并使用模运算写入数组。如果您的计数器必须持续多次调用，您必须将其存储在会话变量或 cookie 中。

假设 $i 持有你的计数器变量，这看起来像

```
if (!in_array($articleid, $lastviewedarticles)){
   $lastviewedarticles[$i%5] = $articleid;
   $i++;
} 
```

结果是一个原始的环形缓冲区，它将始终包含最后 5 个值。

# c++ - 在其他函数中设置结构成员的值

> ID：15265725
> 
> 赞同：1
> 
> 时间：2013-03-07T07:46:40.593
> 
> 标签：c++, memory, malloc, allocation

假设我有这个结构：

```
 typedef struct Foo {
        int a;
        int b;
        int c;
    } Foo; 
```

现在，我创建了这个初始化函数，它将为 Foo 分配内存，并将值预设到我的对象中，如下所示：

```
 void initializeFoo(Foo *foo) {
        foo = (Foo*)malloc(sizeof(Foo));
        foo->a=0;
        foo->b=15;
        foo->c=0;
    } 
```

在 Foo 之上，假设我们创建了一个名为 Display 的 C++ 类，因此我们可以在屏幕上显示 Foo。

```
 class Display {
          public:
              Display();

          private:
              Foo* foo;
     } 
```

在 Display 构造函数内部，我使用 initializeFoo(foo) 来初始化我的 foo 值，但是我为 foo 设置的预设值不存在。

我认为这可能是内存分配问题。我确保 Display 正确分配了 C++ 的“新”。但是，我整天都在为此挠头。

似乎它不起作用的唯一原因是因为我在 initializeFoo() 中设置了这些值。但是，这对我来说没有意义。

还有其他人对这里可能发生的事情有更好的看法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:49:45.500

你可能是说

```
void initializeFoo(Foo **foo) {
        *foo = (Foo*)malloc(sizeof(Foo));
        (*foo)->a=0;
        (*foo)->b=15;
        (*foo)->c=0;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T07:49:29.417

您`Foo`按值传递指针，`initializeFoo`因此无法修改调用者的指针。如果你想要这种风格的初始化器，你需要将一个指针传递给一个指针：

```
void initializeFoo(Foo **foo) {
    *foo = malloc(sizeof(Foo));
    (*foo)->a=0;
    (*foo)->b=15;
    (*foo)->c=0;
} 
```

但是，在这种情况下，如果您只是简单地返回会更容易`Foo*`：

```
Foo *initializeFoo() {
    Foo* foo = malloc(sizeof(Foo));
    foo->a=0;
    foo->b=15;
    foo->c=0;
    return foo;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T08:05:03.933

甚至指针也是按值传递的 像所有输出参数一样，它们必须通过地址 ( `&var`) 或在 C++ 中传递，参数可以是引用类型（在这种情况下是指针引用类型）。后者可能更好，更不用说最小的变化了：

改变这个：

```
void initializeFoo(Foo *foo) 
```

对此：

```
void initializeFoo(Foo*& foo) // <== note reference-to-pointer 
```

话虽如此，这在实践定义良好的[RAII](http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization)方法的优秀 C++ 程序中没有位置。阅读[这个简短的文档](http://klmr.me/slides/modern%2Dcpp.pdf)，了解如何不应该首先使用指针来拥有资源。最终，您的`foo`成员应该是一个智能指针，如果不是一个直接的对象实例。

# java - 在 Maven 项目中找不到目标运行时

> ID：15265726
> 
> 赞同：5
> 
> 时间：2013-03-07T07:46:40.953
> 
> 标签：java, jakarta-ee, maven

我正在使用 Eclipse Java EE IDE (Juno)。

当我右键单击我的项目时，然后单击`Properties`I Can't find `target runtime`。

我想做的是将我的项目与`Tomcat`.

我有其他 Maven 项目`target runtime`，见下文：

![在此处输入图像描述](../Images/7db2027992b0c5e4345119f29d76fb9b.png)  

知道如何解决这个问题吗？

==更新（解决方案）：===============================

[Maven 项目不是 Java EE 项目](http://www.thebestdata.com/zoom.htm?menutype=1&auto=8132)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T14:36:36.953

您是否启用了项目方面？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-26T16:35:45.833

创建 maven 项目时，选择 Artifact id 作为 maven-archetype-webapp。

# php - Zend控制器奇怪的问题

> ID：15265737
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:15.850
> 
> 标签：php, zend-framework, model-view-controller, zend-controller

我在控制器级别处理异常时遇到问题。基本上我有一个控制器说 FOO 控制器，abcAction 和另一个控制器 BOO 与 xyz 动作。现在我必须在 abc 中调用 xyz 并且我必须使用它的输出。在 abc 中，我们正在调用其他一些我们抛出异常的 api。在 abc 中，我们使用 try catch 处理这些异常，并且代码在没有重新渲染视图之后完美执行。空白页来了。

代码

```
class FooController extends Zend_Controller_Action {
   function abcAction(){
        //some code here
        //no based on the parameters we are calling other action
        $view = new Zend_View();    
        try{
            $view->action('xyz','Boo','',$params);
        }catch(Exception $e){
            //handling exception
        }

    }
}

class BooController extends Zend_Controller_Action {
   function xyzAction(){
        //some code here
        //calling other api where we are throwing exception if some conditions are not met and normally my error controller will handle it.
    }
} 
```

每当我们抛出异常时，我们都会得到空白页。所以我用 $this->_helper->actionStack() 替换了该视图对象，现在它正在呈现错误控制器 phtml 和我的 abcaction phtml。

如何摆脱这个？有没有其他方法可以在其他动作中调用动作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:59:19.673

For ZF1, the [ActionStack](http://framework.zend.com/manual/1.12/en/zend.controller.actionhelpers.html#zend.controller.actionhelpers.actionstack) action helper is the correct way to do it. The problem you have is that this will then run the dispatch loop again, and the error controller is part of that loop when an exception happens.

I suspect that you need to not add xyz to the actionstack if abc has thrown an exception.

As you originally tagged this question with `zend-framework2`, the [Forward](https://zf2.readthedocs.org/en/latest/modules/zend.mvc.plugins.html#forward-plugin) controller plugin is the way to do this in ZF2.

# android - Android MDM，通过代码在本机电子邮件应用程序中添加电子邮件帐户，强制 PIN 码，设置 APN 和自动加入 WiFi

> ID：15265739
> 
> 赞同：1
> 
> 时间：2013-03-07T07:47:18.987
> 
> 标签：android, mdm

我正在为 iPhone 和 Android 开发 MDM 解决方案。iPhone 部分已完成，并且运行良好:)

在 android 部分还剩下一些东西。我以前从未使用过Android手机，所以对我来说有点新。

首先是如何添加电子邮件帐户（exchange、gmail 和 IMAP）。如果我理解正确的话，有几个不同的本地邮件应用程序与不同版本的安卓和手机型号捆绑在一起。

我试图添加一个交换帐户

```
AccountManager am = AccountManager.get(context);
am.addAccount("my_exchange_mail@company.com", "com.htc.android.mail.eas", null, null, null, null, null); 
```

但它没有显示在设置 -> 帐户和同步中。

有谁知道如何做到这一点？

第二件事是如何将 APN 设置添加到手机。我的理解是谷歌在冰淇淋三明治中删除了该功能，如果这是正确的，那么我们不想将它添加到我们的 MDM 解决方案中。

第三件事是如何强制用户添加 PIN 码（或密码或你刷 9 个点的东西）现在我设置了密码的最小长度和密码质量（对某物）

```
mDPM.setPasswordMinimumLength(mAdminName, 4);
mDPM.setPasswordQuality(mAdminName, DevicePolicyManager.PASSWORD_QUALITY_SOMETHING);
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
    mDPM.setPasswordExpirationTimeout(mAdminName, 1);
} 
```

然后我显示设置新密码的意图。

```
Intent intent = new Intent(DevicePolicyManager.ACTION_SET_NEW_PASSWORD);
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
context.startActivity(intent); 
```

这使得设置的新密码意图显示，用户可以在 PIN、密码和刷卡之间进行选择。“无密码”选项被禁用。但用户可以使用手机上的返回按钮跳过设置新密码。

有什么方法可以真正强制用户设置 PIN 码？

第四件事是关于自动加入新添加的 WiFi。我可以使用以下代码添加 WiFi。但是有没有什么办法可以让手机在范围内时自动连接到WiFi？

```
public boolean addWifi(String SSID, String encryptionType, String password, boolean hiddenNetowrk, boolean autoJoin) {
    WifiManager wifi = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
    WifiConfiguration config = new WifiConfiguration();
    config.SSID = "\"" + SSID + "\"";
    if (encryption.trim().equals("WEP")) {
        config.wepKeys[0] = "\"" + password + "\"";
        config.wepTxKeyIndex = 0;
    } else if (encryption.trim().equals("WPA")) {
        config.preSharedKey = "\"" + password + "\"";
    } else {
        return false;
    }

    config.hiddenSSID = hiddenNetwork;

    int id = wifi.addNetwork(config);
    wifi.enableNetwork(id, false);

    return true;
} 
```

嗯，这是一个很长的问题：）希望对四个问题中的一些问题有一些答案：）

# scala - scala 2.10.0 中高级类型的奇怪错误（适用于 scala 2.9.2）

> ID：15265741
> 
> 赞同：6
> 
> 时间：2013-03-07T07:47:22.310
> 
> 标签：scala, scala-2.10

此代码使用 Scala 2.9.2 编译：

```
trait HK {
  type Rep[A]
  def unzip1[A, B, C[_]](ps: Rep[C[(A, B)]]): (Rep[C[A]], Rep[C[B]])
  def doUnzip1[A, B](ps: Rep[List[(A, B)]]) = unzip1(ps)
} 
```

但是对于 Scala 2.10.0，它不会编译并出现以下错误（启用了 higherKinded 语言功能）：

```
[info] Compiling 1 Scala source to /home/klyuchnikov/code/hk/target/scala-2.10/classes...
[error] /home/klyuchnikov/code/hk/src/main/scala/HK.scala:6: type mismatch;
[error]  found   : HK.this.Rep[List[(A, B(in method doUnzip1))]]
[error]  required: HK.this.Rep[List[((A, B(in method doUnzip1)), B(in method unzip1))]]
[error]   def doUnzip1[A, B](ps: Rep[List[(A, B)]]) = unzip1(ps) 
```

这里会发生什么？Scala 2.10 中高级类型的变化是什么？

**PS**如果我显式传递类型参数，那么这段代码编译：

```
trait HK {
  type Rep[A]
  def unzip1[A, B, C[_]](ps: Rep[C[(A, B)]]): (Rep[C[A]], Rep[C[B]])
  def doUnzip1[A, B](ps: Rep[List[(A, B)]]) = unzip1[A, B, List](ps)
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:51:41.540

看起来像一个错误，很可能是： [https ://issues.scala-lang.org/browse/SI-5330](https://issues.scala-lang.org/browse/SI-5330)

它应该在 Scala 2.10.1 中得到修复，如果你等不及可以尝试发布候选版本： [http ://www.scala-lang.org/2.10.1-RC3](http://www.scala-lang.org/2.10.1-RC3)

# android - FindViewById 未定义？

> ID：15265743
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:25.493
> 
> 标签：android, class, extend, countdowntimer

嗨，我在函数中定义 findViewById 时遇到问题。以下是我的功能：

```
if(test.mStartedWalking == false){
        TextView myText = (TextView) findViewById (R.id.myText); 
        myText.append (lsNow + '\n');
        test.mStartedWalking = true;
} 
```

我收到一条错误消息：类型 StepDisplayer 的方法 findViewById(int) 未定义，我很确定这是因为我的类没有扩展类型 Activity。但是，我该如何纠正呢？该类实现了这个：

```
public class StepDisplayer implements StepListener, SpeakingTimer.Listener 
```

我无法扩展活动，因为我知道 Java 只扩展了一个类或可以实现多个接口。可能有人知道如何解决这个问题吗？如果是这样那就太好了！谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:50:44.950

在 Java 中，您的类可以扩展单个类并实现多个接口。由于您的类`StepDisplayer`仅实现`StepListener`和`SpeakingTimer.Listener`接口，因此您可以使其扩展`Activity`该类。

**例如：**

```
public class StepDisplayer extends Activity implements StepListener, SpeakingTimer.Listener 
```

* * *

如果由于任何原因您无法做到这一点，您可以`Context`从调用 StepDisplayer 中所述方法的 Activity 类中传递并使用它来调用该`findViewById`方法。

```
yourMethodInStepDisplayerClass(IAmCallingStepDisplayerActivity.this); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:00:08.377

`findViewById()`方法在`Activity`课堂上可用。因此，如果您的类没有扩展 Activity，您应该将 Activity 上下文传递给您要调用的类`findViewById()`。然后只需调用

```
context.findViewById(int id) ; 
```

:-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T08:26:31.080

改成

```
public class StepDisplayer extends Activity implements StepListener, SpeakingTimer.Listener 
```

# sql-server - 关于使用 PATINDEX 的 sql server 表列搜索

> ID：15265748
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:34.893
> 
> 标签：sql-server, patindex

我从来没有用过`PATINDEX()`，但我很难用`PATINDEX()`. 通常我需要搜索任何表的多个列，然后我像这样编写 sql

```
SELECT * FROM ADDRESS WHERE
((NAME LIKE 'Bill%') OR (CITY LIKE 'Bill%') OR (COMPANY LIKE 'Bill%'))
AND
((NAME LIKE 'Seattle%') OR (CITY LIKE 'Seattle%') OR (COMPANY LIKE 'Seattle%')) 
```

**所以只要告诉我上面我的sql性能总是很好吗？我搜索 google 以获得更好的 sql 来搜索表的多个列，并找到以下 sql**

```
select * from YourTable
WHERE PATINDEX('%text1%',COALESCE(field1,'') + '|' + COALESCE(field2,'') + '|'+ COALESCE(field3,'')+ '|' + COALESCE(field4,'')+ '|' + COALESCE(field9,''))>0
AND
 PATINDEX('%text2%',COALESCE(field1,'') + '|' + COALESCE(field2,'') + '|'+ COALESCE(field3,'')+ '|' + COALESCE(field4,'')+ '|' +COALESCE(field9,''))>0 
```

请指导我上面的 sql`PATINDEX`语法可以用于搜索多列。如果没有，请指导我如何使用该`PATINDEX`功能来搜索具有多个值的多个列。谢谢

## 更新 QS

您提供了一个链接，向我展示了如何使用多个关键字搜索多个字段。这里是

```
SELECT FT_TBL.ProductDescriptionID,
   FT_TBL.Description, 
   KEY_TBL.RANK
FROM Production.ProductDescription AS FT_TBL INNER JOIN
   CONTAINSTABLE (Production.ProductDescription,
      Description, 
      '(light NEAR aluminum) OR
      (lightweight NEAR aluminum)'
   ) AS KEY_TBL
   ON FT_TBL.ProductDescriptionID = KEY_TBL.[KEY]
WHERE KEY_TBL.RANK > 2
ORDER BY KEY_TBL.RANK DESC;
GO 
```

但问题是理解起来有点复杂。你能给我用全文搜索的多个关键字搜索多个字段的sql吗？

我可以写这样的东西来针对多个值搜索多个字段吗

```
SELECT Title
FROM Production.Document
WHERE FREETEXT (Document, '(vital) OR (safety) OR (components)')

SELECT *
FROM YourTable
WHERE CONTAINS((ProductName, ProductNumber, Color), 
'(vital) OR (safety) OR (components)'); 
```

`what is the difference between FREETEXT and CONTAINS ?? can u please explain.`

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:18:12.810

为了快速搜索多列，您可以在 sql server 上设置[全文搜索](http://msdn.microsoft.com/en-us/library/ms142571.aspx)，然后您的查询将如下所示

```
SELECT * FROM ADDRESS 
WHERE Contains((name, city, company), 'Bill') and Contains(*, 'Seattle') 
```

**编辑**

[此处](http://msdn.microsoft.com/en-us/library/ms142583.aspx)描述的全文搜索查询的语法

**编辑**

你可以写

```
SELECT *
FROM YourTable
WHERE CONTAINS((ProductName, ProductNumber, Color), 
'"vital" OR "safety" OR "components"'); 
```

返回包含任何搜索列中的任何单词的行。检查[这个](https://stackoverflow.com/questions/3441775/use-multiple-words-in-fulltext-search-input-string)答案

对于 contains 和 freetext 检查[Sql Server Full-Text Search Protips Part 2: CONTAINS vs. FREETEXT](http://www.sitepoint.com/sql-server-full-text-search-protips-part-2-contains-vs-freetext/)文章之间的区别

# android - 从数据库中检索位置并将其显示在 MapView 中

> ID：15265749
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:35.233
> 
> 标签：android, sqlite, android-mapview

我有一个应用程序，我从数据库中获取经度和纬度，并希望将其显示在`MapView`. 我能够显示最近存储的那个，但我认为`for`循环中需要一些数组才能将其添加到叠加层中。我不知道如何实现它。

这是我的 buttonClick ，它将获取纬度/经度并将其显示在`MapView`：

```
buttonShowMarkers = (Button) findViewById(R.id.button_SHOW_MARKERS);

buttonShowMarkers.setOnClickListener(new View.OnClickListener() {

    @Override
    public void onClick(View v) {
        try {
            db = openOrCreateDatabase("LocationFetch.db", MODE_PRIVATE , null);
            cursor = db.rawQuery("SELECT * FROM user" , null);
            cursor.moveToFirst();
            do {
                int dataID = cursor.getColumnIndex("id");
                String dataString = cursor.getString(0);
                Log.d("ID DATA FROM DATABASE---->" , dataString);

                String dataNAME = cursor.getString(1).toString().trim();
                Log.d("NAME DATA FROM DATABASE---->", dataNAME);

                String dataLAT = cursor.getString(2).toString().trim();
                Log.d("LAT DATA FROM DATABASE----->" , dataLAT);
                int latitude = cursor.getColumnIndex("latitude");

                String dataLON = cursor.getString(3).toString().trim();
                Log.d("LON DATA FROM DATABASE----->" , dataLON);
                int longitude = cursor.getColumnIndex("longitude");

                showLatLon(latitude , longitude , dataNAME);
                // ArrayList<OverlayItem> items = new ArrayList<OverlayItem>();
                /* List<Overlay> ListOverlays = mapView.getOverlays();
                 * OverlayItem[] markerItem = {new OverlayItem(new GeoPoint(latitude, longitude) , ""+dataNAME , ""+dataString)};
                 * OverlayItem markerItem = new OverlayItem(new GeoPoint((int)(latitude *1E6), (int)(longitude *1E6)) , ""+dataNAME , ""+dataString);
                 * drawableOne = getResources().getDrawable(R.drawable.location_blue);          
                 * helloItemizedOverlay = new HelloItemizedOverlay(drawableOne);
                 * helloItemizedOverlay.addOverlayItem(markerItem);
                 * mapView.getOverlays().add(helloItemizedOverlay);
                 * ListOverlays.add(myItemizedOverlay);*/

                //for(int i = dataID ; )
            } while (cursor.moveToNext());  

            /*String[] arrLat = new String[]{LATdata};
              String[] arrLon = new String[]{LONdata};*/

            //showLatLon(dataLAT , dataLON);                    
            cursor.moveToNext();
        } catch(SQLException e) {
            e.printStackTrace();
        } finally {
            cursor.close();
        }
        db.close();
    }           

    private void showLatLon(int latitude , int longitude , String nAMEdata) {
        // GeoPoint point = new GeoPoint( (latitude) , (latitude) );

        List<Overlay> ListOverlays = mapView.getOverlays();

        //OverlayItem[] markerItem = {new OverlayItem(new GeoPoint(latitude, longitude) , ""+dataNAME , ""+dataString)};
        OverlayItem markerItem = new OverlayItem(new GeoPoint(latitude,latitude ) , ""+nAMEdata , null);
        drawableOne = getResources().getDrawable(R.drawable.location_blue);

        helloItemizedOverlay = new HelloItemizedOverlay(drawableOne);           
        helloItemizedOverlay.addOverlayItem(markerItem);

        mapView.getOverlays().add(helloItemizedOverlay);

        ListOverlays.add(myItemizedOverlay);
    }           
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:26:52.027

您可以尝试使用此解决方案 -

1.  创建一个名为**LatLonPoint**的类- 这基本上是从 latlon 到 GeoPoint 的转换 -

```
public class LatLonPoint extends GeoPoint {
public LatLonPoint(double latitude, double longitude) {
    super((int) (latitude * 1E6), (int) (longitude * 1E6));
}
} 
```

创建逐项叠加 -

```
public class HelloItemizedOverlay extends ItemizedOverlay<OverlayItem> {
private ArrayList<OverlayItem> mOverlays = new ArrayList<OverlayItem>();
private Context mContext;

public HelloItemizedOverlay(Drawable defaultMarker, Context context) {
    super(boundCenterBottom(defaultMarker));
    mContext = context;
}

public void addOverlay(OverlayItem overlay) {
    mOverlays.add(overlay);
    populate();
}

@Override
protected OverlayItem createItem(int i) {
    return mOverlays.get(i);
}

@Override
public int size() {
    return mOverlays.size();
}

@Override
protected boolean onTap(int index) {
    OverlayItem item = mOverlays.get(index);
    AlertDialog.Builder dialog = new AlertDialog.Builder(mContext);
    dialog.setTitle(item.getTitle());
    dialog.setMessage(item.getSnippet());
    dialog.show();
    return true;
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event, MapView mapView) {

    if (keyCode == KeyEvent.KEYCODE_BACK) {

    }
    return super.onKeyDown(keyCode, event, mapView);
} 
```

}

现在在主要活动中 -

```
 try {
            db = openOrCreateDatabase("LocationFetch.db", MODE_PRIVATE , null);
            cursor = db.rawQuery("SELECT * FROM user" , null);
            cursor.moveToFirst();

            do {
                int dataID = cursor.getColumnIndex("id");
                String dataString = cursor.getString(0);
                Log.d("ID DATA FROM DATABASE---->" , dataString);

                String dataNAME = cursor.getString(1).toString().trim();
                Log.d("NAME DATA FROM DATABASE---->", dataNAME);

                String dataLAT = cursor.getString(2).toString().trim();
                Log.d("LAT DATA FROM DATABASE----->" , dataLAT);
                int latitude = cursor.getColumnIndex("latitude");

                String dataLON = cursor.getString(3).toString().trim();
                Log.d("LON DATA FROM DATABASE----->" , dataLON);
                int longitude = cursor.getColumnIndex("longitude");

                    // Add the item here --
                itemizedoverlay.addOverlay(new OverlayItem(new LatLonPoint(latitude, longitude), dataNAME, null));

                //showLatLon(latitude , longitude , dataNAME);
                // ArrayList<OverlayItem> items = new ArrayList<OverlayItem>();
                /* List<Overlay> ListOverlays = mapView.getOverlays();
                 * OverlayItem[] markerItem = {new OverlayItem(new GeoPoint(latitude, longitude) , ""+dataNAME , ""+dataString)};
                 * OverlayItem markerItem = new OverlayItem(new GeoPoint((int)(latitude *1E6), (int)(longitude *1E6)) , ""+dataNAME , ""+dataString);
                 * drawableOne = getResources().getDrawable(R.drawable.location_blue);          
                 * helloItemizedOverlay = new HelloItemizedOverlay(drawableOne);
                 * helloItemizedOverlay.addOverlayItem(markerItem);
                 * mapView.getOverlays().add(helloItemizedOverlay);
                 * ListOverlays.add(myItemizedOverlay);*/

                //for(int i = dataID ; )
            } while (cursor.moveToNext()); 

                // Add all itemized overlay here 
            mapOverlays.add(itemizedoverlay);

            /*String[] arrLat = new String[]{LATdata};
              String[] arrLon = new String[]{LONdata};*/

            //showLatLon(dataLAT , dataLON);                    
            //cursor.moveToNext();
        } catch(SQLException e) {
            e.printStackTrace();
        } finally {
            cursor.close();
        } 
```

对于上面的块，您必须在执行之前初始化这两项**......而**-

```
List<Overlay> mapOverlays = mMapView.getOverlays(); 
```

和

```
HelloItemizedOverlay itemizedoverlay = new HelloItemizedOverlay(
            drawable, this); 
```

**编辑——添加迭代光标部分——**

```
Drawable drawable = this.getResources().getDrawable(
                    R.drawable.ic_launcher);
            List<Overlay> mapOverlays = mMapView.getOverlays();
            HelloItemizedOverlay itemizedoverlay = new HelloItemizedOverlay(
                    drawable, this);
            while(cursor.moveToNext())
            {
                // get the values -- 
                int dataID = cursor.getColumnIndex("id");

                String dataString = cursor.getString(0);
                Log.d("ID DATA FROM DATABASE---->" , dataString);

                String dataNAME = cursor.getString(1).toString().trim();
                Log.d("NAME DATA FROM DATABASE---->", dataNAME);

                String dataLAT = cursor.getString(2).toString().trim();
                Log.d("LAT DATA FROM DATABASE----->" , dataLAT);

                int latitude = cursor.getColumnIndex("latitude");
                String dataLON = cursor.getString(3).toString().trim();
                Log.d("LON DATA FROM DATABASE----->" , dataLON);
                int longitude = cursor.getColumnIndex("longitude");

                // Assuming your logic for retrieving values is correct 
                // Add into the itemized Overlay here 
                itemizedoverlay.addOverlay(new OverlayItem(new LatLonPoint(latitude, longitude), dataNAME, null));

            }
            mapOverlays.add(itemizedoverlay); 
```

# batch-file - 在 Bat 文件和动态路径上给出日期时间

> ID：15265751
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:36.327
> 
> 标签：batch-file, ssis

I Hae 创建 BAT 文件

```
@ECHO OFF
"C:\Program Files\Microsoft SQL Server\100\DTS\Binn\dtexec.exe" /FILE "D:\New folder (2)\xslttosql\SSIS-BSMS\SSIS-BSMS\SSIS-BSMS\Package6.dtsx" /REP P >> "D:\TRX_Value.log"
exit 
```

但我想输出`D:\TRX_Value.log` 动态更改的路径并提供有关文件名的时间信息，例如`D:\TRX_Value-20130307-144650.log`这意味着`2012/03/07 14:46:50`

那么有可能吗？我应该写什么样的脚本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T13:55:05.820

在 BAT 文件中处理日期有些棘手。

一个简单的解决方案是使用**WMIC LocalTime**命令，它以一种方便的方式返回当前日期和时间，以便直接用`FOR`命令解析它。尝试类似的事情：

```
@ECHO OFF
FOR /F "skip=1 tokens=1-6" %%A IN ('WMIC Path Win32_LocalTime Get Day^,Hour^,Minute^,Month^,Second^,Year /Format:table') DO (
  SET /A DT=%%F*10000+%%D*100+%%A
  SET /A TM=%%B*100+%%C
  SET FDT=%DT%-%TM%
 )
ECHO "c:\progs\dtexec" /FILE "d:\fldr\pack.dtsx" /REP P "d:\logs\tr%FDT%.log" 
```

检查结果并更正执行行以适合您的要求

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T15:32:53.730

我喜欢 PA 的使用 WMIC 的建议，但是有一个更简单的 WMIC 实现。

操作系统别名具有几乎与您想要的完全相同格式的 localDateTime 属性：

`YYMMDDhhmmss.ffffff-zzz`

其中`ffffff`是小数秒，`zzz`是时区信息。简单的子字符串操作提供所需的日期和时间格式。

```
@echo off
setlocal
set "ts="
for /f "skip=1" %%A in ('wmic os get localDateTime') do if not defined ts set "ts=%%A"
... your exe call ... >>"D:\TRX_Value-%ts:~0,8%-%ts:~8,6%.log" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T14:43:43.090

Echo 将日期和时间转换为 2 个临时文件，然后将它们解析为正确的格式，并在您的命令中使用它们。

```
@ECHO OFF
Set CURRDATE=%TEMP%\CURRDATE.TMP
ECHO %DATE% > %CURRDATE%
Set CURRTIME=%TEMP%\CURRTIME.TMP
ECHO %TIME% > %CURRTIME%

Set PARSEDATEARG="eol=; tokens=1,2,3,4* delims=/, "
Set PARSETIMEARG="eol=; tokens=1,2,3,4,5* delims=:,., "
For /F %PARSEDATEARG% %%i in (%CURRDATE%) Do SET YYYYMMDD=%%k%%j%%i
For /F %PARSETIMEARG% %%i in (%CURRTIME%) Do SET HHMMSS=%%i%%j%%k

"C:\Program Files\Microsoft SQL Server\100\DTS\Binn\dtexec.exe" /FILE "D:\New folder (2)\xslttosql\SSIS-BSMS\SSIS-BSMS\SSIS-BSMS\Package6.dtsx" /REP P >> "D:\TRX_Value-%YYYYMMDD%-%HHMMSS%.log" exit 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T14:39:09.990

仅仅因为我喜欢挑战，这里有一个批处理脚本/JScript 混合脚本，可以按照您想要的方式格式化您的时间戳。用`.bat`扩展名保存它。

```
@if (@X)==(@Y) @end /* (batch + jscript hybrid script init)

:: *** Batch script *****

@echo off
setlocal
for /f %%I in ('cscript /nologo /e:jscript "%~f0"') do set "ts=%%I"
"C:\Program Files\Microsoft SQL Server\100\DTS\Binn\dtexec.exe" /FILE "D:\New folder (2)\xslttosql\SSIS-BSMS\SSIS-BSMS\SSIS-BSMS\Package6.dtsx" /REP P >> "D:\TRX_Value-%ts%.log"
exit /b

:: *** JScript script *****/

var d = new Date();
WScript.echo(d.getFullYear() + /\d{2}$/.exec('0' + (d.getMonth() + 1)) + /\d{2}$/.exec('0' + d.getDate()) + '-'
+ /\d{2}$/.exec('0' + d.getHours()) + /\d{2}$/.exec('0' + d.getMinutes()) + /\d{2}$/.exec('0' + d.getSeconds())); 
```

（dbenham 是这类事情的大师。）

# jquery - KendoUI Grid 在下拉选项选择上应用过滤器

> ID：15265753
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:38.677
> 
> 标签：jquery, kendo-ui, datasource, kendo-grid

我有一个可过滤的列，它使用下拉列表作为模板，用户可以在其中选择要过滤的选项。

如何在选择选项时对其进行过滤，而不是在做出选择后用户必须单击过滤器按钮？

我的以下代码不起作用。进行选择时，网格会在未应用过滤器的情况下刷新，并且下拉选择会被重置。

对于我的下拉列表，我有：

```
function salesPersonFilter(element)
{
  element.kendoDropDownList({
    dataSource: [{Id: 0, Name: 'Jimbo Jones'}, {Id: 1, Name: 'Jimmy'}],
    dataTextField: 'Name',
    dataValueField: 'Name',
    optionLabel: 'Select salesperson',
    template: '#="<span class=\'filterTrigger\'>"+Name+"</span>" #'
  })
} 
```

我已将单击事件绑定到 filterTrigger 类：

```
$('.k-list .filterTrigger').click(function()
{
  applyFilters();
}) 
```

我将 applyFilters() 函数作为参考：

```
function applyFilters() // Custom filters...
{
  var dupes = {};
  var finalFilters = [];

  $.each(filterBus, function(i, el) {
    if(!dupes[el.field])
    {
      dupes[el.field] = true;
      finalFilters.push(el);
    }
  });

  filterBus = finalFilters ;

  grid.dataSource.filter(finalFilters) ;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:06:42.743

我设法做到了这种方式，但肯定有更好的方法吗？：

```
function salesPersonFilter(element)
  {
    element.kendoDropDownList({
      dataSource: [{Id: 60, Name: 'Sam'}, {Id: 5, Name: 'Jimmy'}],
      dataTextField: 'Name',
      dataValueField: 'Id',
      optionLabel: 'Select salesperson',
      template: '#="<span class=\'filterTrigger\' data-value=\'"+Id+"\'>"+Name+"</span>" #',
      select: function(e) 
      {// Dirty, is there a better way?
        html = e.item[0].outerHTML;
        html = html.substring(html.indexOf('data-value="')+12);
        traderId = html.substring(0, html.indexOf('"'));

        filterBus.push({
          field: 'traderId',
          operator: 'eq',
          value: traderId
        })
        $('.k-animation-container').hide();
        grid.dataSource.filter(filterBus);
      }
    })
  } 
```

# wpf - 使用 createprocess 启动后，WPF 应用程序未显示在前面

> ID：15265754
> 
> 赞同：1
> 
> 时间：2013-03-07T07:47:39.717
> 
> 标签：wpf, launch, createprocess

我使用win32 API CreateProcess im MFC项目启动WPF应用程序，它可以成功。但问题是 WPF 应用程序没有显示在窗口前面。如果启动win32执行程序，可以显示前台。

我应该在 WPF 应用程序代码中做些什么吗？谢谢你提前。

以下代码是启动应用程序：

```
STARTUPINFO         StartInfo = { 0 };
PROCESS_INFORMATION ProcInfo = { 0 };

ZeroMemory( &StartInfo, sizeof(STARTUPINFO) );
StartInfo.cb = sizeof(STARTUPINFO);
StartInfo.wShowWindow = SW_SHOW;    

ret = CreateProcess( NULL, lpszCmdLine, NULL, NULL, FALSE, 0, NULL, NULL, &StartInfo, &ProcInfo );
if ( ret) {
    CloseHandle( ProcInfo.hThread );
    CloseHandle( ProcInfo.hProcess );
} 
```

# iphone - 如何在 iOS 上获取当前位置？

> ID：15265755
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:46.413
> 
> 标签：iphone, ios, objective-c, core-location, cllocationmanager

我无法获取当前位置。当我在不同的地方启动我的应用程序时，应用程序可以获得最后一个位置。但我不想最后一个位置。如果您关闭应用程序并重新启动它，现在应用程序可以获取当前位置。即使是首次启动应用程序，我如何才能获得当前位置？

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    [locationManager startUpdatingLocation];

    self.mapView.delegate = self;
    [self.mapView setShowsUserLocation:YES];

    locationManager.delegate=self;

    locationManager = [[CLLocationManager alloc] init];

    locationManager.delegate=self;
    locationManager.desiredAccuracy=kCLLocationAccuracyBest;
    locationManager.distanceFilter=kCLDistanceFilterNone;

    location = [locationManager location];

    CLLocationCoordinate2D coord;
    coord.longitude = location.coordinate.longitude;
    coord.latitude = location.coordinate.latitude;
    lat = coord.latitude;
    longt = coord.longitude;
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T07:49:43.940

`[locationManager startUpdatingLocation];`您在设置其委托之前正在做

```
locationManager = [[CLLocationManager alloc] init];
locationManager.delegate=self;
locationManager.desiredAccuracy=kCLLocationAccuracyBest;
locationManager.distanceFilter=kCLDistanceFilterNone;

[locationManager startUpdatingLocation]; 
```

并实现其委托方法

```
- (void)locationManager:(CLLocationManager *)manager
    didUpdateToLocation:(CLLocation *)newLocation
           fromLocation:(CLLocation *)oldLocation
{
}

- (void)locationManager:(CLLocationManager *)manager
       didFailWithError:(NSError *)error
{

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T08:08:12.463

要获取当前位置及其坐标，您只需在您的`viewDidLoad`方法中执行此操作：

```
- (void)viewDidLoad {
  [super viewDidLoad];
  locationManager = [[CLLocationManager alloc] init];
  locationManager.delegate = self;
  locationManager.distanceFilter = kCLDistanceFilterNone; // whenever we move
  locationManager.desiredAccuracy = kCLLocationAccuracyHundredMeters; // 100 m
  [locationManager startUpdatingLocation];
} 
```

关于更新位置，请使用此方法：

```
 - (void)locationManager:(CLLocationManager *)manager
        didUpdateToLocation:(CLLocation *)newLocation
               fromLocation:(CLLocation *)oldLocation{
// your code here...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:56:27.227

You should read the documentation provided in the [Location Awareness Programming Guide](http://developer.apple.com/library/ios/#documentation/MapKit/Reference/MapKitDataTypesReference/Reference/reference.html#//apple_ref/doc/c_ref/MKCoordinateRegion).

Specifically, when you ask for the current location, the system returns the last known location right away so you can do something useful with it. If you don't care about past locations, you can discard it and only use more recent location information by looking at the [`timestamp`](https://developer.apple.com/library/ios/documentation/CoreLocation/Reference/CLLocation_Class/CLLocation/CLLocation.html#//apple_ref/occ/instp/CLLocation/timestamp) property of the `CLLocation` returned to determine how recent it is.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:56:45.917

You should really read the [`CLLocationManager`](https://developer.apple.com/library/iOS/#documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html) documentation.

Wat you are doing will not work, since it will take some time determine the device location. Therefor you will need to wait until the `CLLocationManager` notifies you that a location has been determent.

You will need to implement the [`CLLocationManagerDelegate`](https://developer.apple.com/library/iOS/#documentation/CoreLocation/Reference/CLLocationManagerDelegate_Protocol/CLLocationManagerDelegate/CLLocationManagerDelegate.html#//apple_ref/occ/intf/CLLocationManagerDelegate) which will tell you if a location is determent or if the location determination failed.

Also you should also check if location can be determent with:

```
if ([CCLocationManager locationServicesEnabled]) {
    // The location services are available.
} 
```

You should also check wether you are authorize to use the location services with `[CCLocationManager authorizationStatus]`.

# cocos2d-iphone - 无尽的滚动敌人产卵 cocos2d-iphone

> ID：15265757
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:47.503
> 
> 标签：cocos2d-iphone

我正在开发一种无尽卷轴类型的游戏，我需要有关生成敌人的方法的帮助。我有两个反复重复的背景图像。我在屏幕上方生成敌人，然后安排更新以向下移动位置。

我在开始时生成敌人的当前方式只是每 8 秒安排一个选择器，然后根据分数，我取消安排选择器并重新安排它 6 秒等。我的角色不会射击你只需要四处导航敌人，所以我可以安排选择器的最快时间是 3 秒，否则没有足够的间隙绕过他们。

我只是编程和 cocos2d 的新手，所以我不确定非计划和计划的成本会有多高。

所以基本上我的问题是，有没有更好的方法来产生敌人？请记住，总有一条生存之路？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T20:36:45.883

您的选择是使用 ccScheduler，或者通过 update() 中的计时器实现您自己的。类似的东西`if nextWaveTime > timeBetweenWaves`。我会推荐在 Cocos2D 中使用调度器，因为我确信它有一些非常聪明的人内置的优化。此外，与绘制调用的成本相比，调度是“杯水车薪”。如果可能，请务必重用敌人。当活跃的敌人离开屏幕时，不要将它们移除，而是将它们放回所需的“进入屏幕”点。

# php - 使用 Sendgrid Web API 每周发送时事通讯

> ID：15265759
> 
> 赞同：1
> 
> 时间：2013-03-07T07:47:52.413
> 
> 标签：php, sendgrid

我正在使用 PHP 开发一个项目，其中我使用的是 sendgrid Web API。其中，我想在每周或每月的指定日期由用户发送时事通讯。

我不知道如何在 sendgrid 上管理这个。任何人都可以帮助我并给我解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T16:26:16.887

您正在寻找时事通讯 API，此处记录了该 API：

> [http://sendgrid.com/docs/API_Reference/Newsletter_API/index.html](http://sendgrid.com/docs/API_Reference/Newsletter_API/index.html)

具体来说，您可以使用 API 使用 schedule 端点来安排交付：

> [http://sendgrid.com/docs/API_Reference/Newsletter_API/schedule.html](http://sendgrid.com/docs/API_Reference/Newsletter_API/schedule.html)

没有 PHP 包装器，因此您需要使用 curl 或类似的东西发出请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T11:08:59.090

Sendgrid 不提供任何此类服务。

如果您想处理定期发送的时事通讯，那么您可以通过管理数据库和服务器上的 cron 作业来进行管理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:37:54.637

**Download Sendgrid PHP wrapper from here :**

[https://github.com/sendgrid/sendgrid-php](https://github.com/sendgrid/sendgrid-php)

```
   include 'path/to/sendgrid-php/SendGrid_loader.php';

   //Initialize the SendGrid object with your SendGrid credentials:
   $sendgrid = new SendGrid('username', 'password');

   //Create a new SendGrid Mail object and add your message details
   $mail = new SendGrid\Mail();
   $mail->
   addTo('foo@bar.com')->
   setFrom('me@bar.com')->
   setSubject('Subject goes here')->
   setText('Hello World!')->
   setHtml('Hello World!');

   //Send it using the Web API like so:
   $sendgrid->
   web->
   send($mail);

```

Check Sendgrid API documentation here [http://sendgrid.com/docs/Code_Examples/php.html](http://sendgrid.com/docs/Code_Examples/php.html)

Edit:

Setup cron job on the server to run this script weekly or monthly.

# tridion - 如何编辑和保存 tridion 默认模板（TBB）？

> ID：15265760
> 
> 赞同：0
> 
> 时间：2013-03-07T07:47:54.853
> 
> 标签：tridion

如何编辑和保存默认的 tridion 模板构建块，例如 SDL 提供的 Ex（默认完成操作）？

我在哪里可以找到默认 TBB 的来源？找到并编辑 TBB 后，如何保存回 TCM 中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:31:34.577

不支持编辑 SDL 提供的默认模板。它们存储在 DLL 中，您无法自定义它。您最多可以做的是禁用某些模板的创建。或者，您可以创建自己的一组默认模板。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T16:19:49.310

您可以使用模板生成器来组装和（测试）运行复合模板（页面和组件模板）。您可以从功能区中的工具选项卡访问模板生成器。

不应更改默认 TBB。

.NET TBB 要么是可直接访问代码的 C# 片段，要么是实现 ITemplate 接口的类。

请参阅以下博客文章以帮助您入门：

[http://www.createandbreak.net/2011/11/template-building-blocks-via-net.html](http://www.createandbreak.net/2011/11/template-building-blocks-via-net.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T01:52:00.450

大多数默认模板构建块（旧版本）的代码可以在 Tridion 论坛 ( [http://forum.sdltridion.com](http://forum.sdltridion.com) ) 上找到。

（我不再有访问权限，但也许有人可以编辑我的答案并提供链接）

正如其他人所说，如果您只是修改和替换它们，您可能会遇到支持问题。这样做可能会更好：

1.  以论坛的代码为起点
2.  创建您自己的变体，进行您需要的修改
3.  将其编译为新的 TBB
4.  用您自己的变体替换默认完成操作中的标准 TBB

这样您就可以完成大多数事情，而不会冒支持问题的风险。当他们怀疑您是否损坏时，您可以将自己的变体换成原始版本并证明他们是错误的。

# c# - TPL Dataflow 本地存储或类似的东西

> ID：15265761
> 
> 赞同：1
> 
> 时间：2013-03-07T07:47:59.460
> 
> 标签：c#, task-parallel-library, tpl-dataflow

我想要完成的是我有一个带有`MaxDegreeOfParallelism = 4`. 我想为每个并行路径创建一个会话对象的本地实例，所以我想要总共 4 个会话对象。如果这是线程，我会创建类似的东西：

```
 ThreadLocal<Session> sessionPerThread = new ThreadLocal<Session>(() => new Session()); 
```

我知道块不是线程，所以我正在寻找类似但块的东西。有什么方法可以创建这个吗？

该块处于服务状态并连续运行数月。在此期间，块的每个并发槽使用大量线程，因此线程本地存储不合适。我需要一些与逻辑块插槽相关的东西。此外，此块永远不会完成，它会运行服务的整个生命周期。

注意：上述建议的答案对我的要求无效。我特别要求与线程本地不同的东西，上面的答案是使用线程本地。这完全是一个不同的问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T03:53:42.153

As it sounds like you already know, Dataflow blocks provide absolutely no guarantee of correlation between blocks, execution, and threads. Even with max parallelism set to 4, all 4 tasks could be executing on the same thread. Or an individual task may execute on many threads.

Given that you ultimately want to reuse *n* instances of an expensive service for your *n* degrees of parallelism, let's take dataflow completely out of the picture for a minute, since it doesn't help (or directly hinder) you from any general solution to this problem. It's actually quite simple. You can use a `ConcurrentStack<T>`, where `T` is the type of your service that is expensive to instantiate. You have code that appears at the top of the method (or delegate) that represents one of your parallel units of work:

```
private ConcurrentStack<T> reusableServices;

private void DoWork() {
    T service;
    if (!this.reusableServices.TryPop(out service)) {
        service = new T(); // expensive construction
    }

    // Use your shared service.
    //// Code here.

    // Put the service back when we're done with it so someone else can use it.
    this.reusableServices.Push(service);
} 
```

Now in this way, you can quickly see that you create exactly as many instances of your expensive service as you have parallel executions of `DoWork()`. You don't even have to hard-code the degree of parallelism you expect. And it's orthogonal to *how* you actually schedule that parallelism (so threadpool, Dataflow, PLINQ, etc. doesn't matter).

So you can just use DoWork() as your Dataflow block's delegate and you're set to go.

Of course, there's nothing magical about `ConcurrentStack<T>` here, except that the locks around push and pop are built into the type so you don't have to do it yourself.

# sql - java - 如何在java swing中的jtable中按数据显示分组？

> ID：15265763
> 
> 赞同：1
> 
> 时间：2013-03-07T07:48:20.113
> 
> 标签：sql, database, swing, jtable

我想在 GroupWise 中显示数据，java swing jtable 中有这种类型的字段，如图所示。

怎么做？

![](../Images/4e873e7b32e2458e8fd3b34ee073d36f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-07T13:47:11.867

首先，您应该创建一个`Map<String,java.util.List<Product>> categuryProductMap = new HashMap<String, List<Product>>();`. 第一个参数是指您的类别名称，第二个参数是对应类别中的产品名称列表。

然后使用 for 语句首先将类别添加到表模型中，然后将产品列表添加到表模型中：

```
for (Map.Entry<String, java.util.List<Product>> entry : categuryProductMap.entrySet()) {
    String yourCateguryName = entry.getKey();
    tableModel.addRow(new Object[]{"", "", yourCateguryName, "", "", ""});
    for (Product productNameList : entry.getValue()) {
        String yourProductName = Product.getName();
        Object[] rowForProductName = new Object[]{"", "", yourProductName, "", "", ""};
        tableModel.addRow(rowForProductName);
    }
} 
```

我希望这能有所帮助。

# javascript - Jquery Click 无法正常工作

> ID：15265768
> 
> 赞同：0
> 
> 时间：2013-03-07T07:48:37.183
> 
> 标签：javascript, jquery, asp.net

我有一个 html 为：

```
 <ul style="list-style-type: none" id="AgeFilter">
                        <li><a href="#.">- Kid</a> </li>
                        <li><a href="#.">- Teen</a> </li>
                        <li><a href="#.">- Young Adults</a> </li>
                        <li><a href="#.">- Adults</a> </li>
                    </ul> 
```

我尝试将jquery实现为：

```
$(document).ready(function () {
     $("#AgeFilter li a").click(function () {
            alert(1);
              var temp=$(this).html().split("- ");

              $("#<%=SelectAge.ClientID %>").val(temp[1]);
               $("#<%=BtnAgeFilter.ClientID %>").click();
        });
}); 
```

问题是，警报不会调用任何 href click。感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T07:55:17.483

```
$(document).ready(function () {
    $("#AgeFilter li a").click(function () {
        alert(1);
        var temp=$(this).html().split("- ");
        $("#<%=SelectAge.ClientID %>").val(temp[1]);
        $("#<%=BtnAgeFilter.ClientID %>").click();
    });
}); // missing ); 
```

# bison - 如何告诉野牛生成 parser.cpp 和 parser.h 文件而不是 parser.cpp 和 parser.hpp？

> ID：15265770
> 
> 赞同：1
> 
> 时间：2013-03-07T07:48:44.577
> 
> 标签：bison

我正在使用以下命令

`bison.exe -v -d -l -pTPZyy -bTpz -o %ParserDir%\parser.cpp %ParserDir%\parser.y`

它输出“Parser.cpp”和“Parser.hpp”。在我们公司，我们没有`cpp/hpp`对其`cpp/h`文件的约定。我怎样才能告诉野牛生成一个`parser.h`和一个`parser.cpp`文件？

它厌倦了它的文档，但没有找到任何关于此的内容。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T01:13:52.597

这适用于最新版本的野牛，尽管我从未在 Windows 上尝试过：

```
bison -v --defines=parser.h --output=parser.cpp parser.y 
```

顺便问一下，为什么要设置文件前缀 ( `-b`)？据我所知，这仅在您不指定显式输出文件时才有效。对于`-v`文件，您可以指定一个明确的文件名`--report-file=PATH`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:25:35.483

我认为没有直接的方法，我们把它放在我们的makefile中来做到这一点：

```
 SomeLang.cpp: SomeLang.yy
        $(BISON) $(YACCFLAGS) -osSomeLang.cpp $< && \
        mv SomeLang.hpp SomeLang.h 
```

# java - 具有并行 DataProvider 和随机方法顺序的 TestNG 套件 - 如何实现？

> ID：15265771
> 
> 赞同：6
> 
> 时间：2013-03-07T07:48:45.710
> 
> 标签：java, testng

我有一个包含许多方法的测试类，其中每个方法都受够了并行数据提供程序。我想实现方法执行的混合顺序，但我无法控制数据提供者线程池的大小——它被测试方法的数量所放大。请看示例：

我的测试套件定义：

```
<suite data-provider-thread-count="5" parallel="methods" preserve-order="false" name="Data provider problem"> 
```

我的测试课：

```
@Test(dataProvider = "dp1")
public void test1(TestData testData) { }

@Test(dataProvider = "dp2")
public void test2(TestData testData) { }

@DataProvider(name = "dp1", parallel = true)
public static Object[][] dp1() {
    return createTestData1();
}

@DataProvider(name = "dp2", parallel = true)
public static Object[][] dp2() {
    return createTestData2();
} 
```

通过这样的测试套件配置，我已经实现了`test1()`和`test2()`混合的执行，但是数据提供者线程池不是 5，而是 10！添加新的测试方法会增加线程的数量。令我惊讶的是，testNg 文档站点说：“从 XML 文件运行的并行数据提供程序共享相同的线程池”。我只是错误地使用了套件“并行”属性吗？如果是这样，是否有可能通过其他方式实现我的目标（方法执行与数据提供者的混合顺序）？

我也尝试过使用一个数据提供者并根据注入的测试方法创建测试数据，但这也无济于事，见下文：

```
@Test(dataProvider = "dp")
public void test1(TestData testData) { }

@Test(dataProvider = "dp")
public void test2(TestData testData) { }

@DataProvider(name = "dp", parallel = true)
public static Object[][] dp(Method m) {
    if (m.getName().equals("test1")) {
        return createTestData1();
    }
    if (m.getName().equals("test2")) {
        return createTestData2();
    }
    return null;
} 
```

我仍然可以并行运行 10 个测试执行。将数据提供者方法移动到单独的类也无济于事。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-28T11:36:46.963

您是否尝试调整 @Test 的参数？

```
@Test(dataProvider = "dp", threadPoolSize=5) 
```

# charts - 在 Dojo 中，如何在数据点处绘制自定义标记？

> ID：15265777
> 
> 赞同：0
> 
> 时间：2013-03-07T07:48:54.523
> 
> 标签：charts, dojo, marker, tooltip

我正在使用 Dojo 绘制图表。我需要在某些点绘制叠加层。几乎就像一个总是显示的工具提示。它可以是一堆值或显示在数据点上方、下方或旁边的图标。

有谁知道我怎么能做到这一点？有谁知道我如何访问每个绘制的数据点的屏幕坐标列表？

我的理论是；如果无法绘制持久和自定义工具提示，请在图表上绘制并相对于点坐标定位我的自定义对象。另一种选择是绘制自定义标记。（不像普通的 SVG 路径。）

请不要建议其他图表库。我需要知道如何在 Dojo 中做到这一点。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-11T13:45:03.193

我不确定您是否已经找到了使用自定义标记的答案。我正在使用 SVG 路径变量来绘制自定义标记。

例如：

```
var custom_marker = "M150 0 L75 200 L225 200 Z" // a triangle
var data = [{x: 10, y: 20, marker: custom_marker}, {x: 15, y: 25, marker: custom_marker}] // and so on 
```

将此数据输入道场图表，您可以绘制自定义标记。

# java - Java 将对象传递给方法

> ID：15265779
> 
> 赞同：1
> 
> 时间：2013-03-07T07:49:12.420
> 
> 标签：java, binary-search-tree, splay-tree

我有一个程序，允许用户在二叉搜索树、展开树和红黑树之间进行选择。我为二叉搜索树编写了类，现在我正在研究展开树，但我意识到我与用户交互的方法仅适用于二叉搜索树。我对其进行了设置，以便它将创建用户选择的任何树的实例，但在我的代码中，我只使用用户选择二叉搜索树时将创建的变量。我的问题是如何做到这一点，以便我只创建用户选择的树的一个实例，以及我如何只使用一个变量，以便当我插入项目或在树上工作时，我不必添加更多条件语句不同的树？

这就是我现在所拥有的

```
import java.util.Scanner;
import java.lang.Math.*;
public class Driver1
{ 

public static void main(String[] args)
{
    //local variables
    String treeChoice = null;
    String choice = null;
    String choice2 = null;
    String command = null;
    int insertAmount = -1;
    String pattern;
    int height = -1;
    int i = -1;
    //BST<Integer> myTree = null;
    //ST<Integer> mySTTree = null;

    int num = 0;

    //Scanners to take user input
    Scanner input = new Scanner(System.in);
    Scanner inputt = new Scanner(System.in);
    System.out.println("Which tree would you like to test (BST, ST, RBT)? ");
    treeChoice = input.nextLine();

    //Based on user input either a BST, Splay Tree, or RBT will be initialized.
    if("BST".equalsIgnoreCase(treeChoice))
    {
        BST<Integer> myTree = new BST<Integer>();
    }
    else if("ST".equalsIgnoreCase(treeChoice))
    {
        //System.out.println("Splay Tree not ready yet");
        ST<Integer> mySTTree = new ST<Integer>();
    }
    else if("RBT".equalsIgnoreCase(treeChoice))
    {
        System.out.println("RBT not ready yet");
        //RBT<Integer> myTree = new RBT<Integer>();
    }
    else
    {
        System.out.println("Invalid Entry");
    }

    //Ask user how many items to input
    System.out.println("How many items would you like to insert? ");
    insertAmount = input.nextInt();

    //ask user if the items will be random or sorted
    System.out.println("Pattern (random or sorted): ");
    choice2 = inputt.nextLine();

    //If random, create random numbers
    if("random".equalsIgnoreCase(choice2))
    {
        for(i = 1; i <= insertAmount; i++)
        {
            myTree.insert((int)(Math.random()*1000000)+i);
        }
    }
    //else fill the tree with numbers in order from 1 to the user limit
    else if("sorted".equalsIgnoreCase(choice2))
    {
        for(i = 1; i <= insertAmount; i++)
        {
            myTree.insert(i);
        }
    }
    //Keep asking users input on what to do to the tree until user says quit
    while(command != "quit")
    {
        System.out.println(
        "Next command (insert X, delete X, find X, height, quit)?");
        command = inputt.nextLine();

        if (command.startsWith("insert")) 
        {
         num = Integer.parseInt(command.replaceAll("\\D", ""));
         boolean result = myTree.insert(num);
         if(result == false)
         {
            System.out.println("Item already present.");
         }

        }
         else if(command.startsWith("delete"))
         {
            num = Integer.parseInt(command.replaceAll("\\D", ""));
            boolean result = myTree.delete(num);
        }
        else if(command.startsWith("find"))
        {
            num = Integer.parseInt(command.replaceAll("\\D", ""));
            boolean result = myTree.find(num);
            if(result == true)
            {
                System.out.println("Item present.");
            }
            else
            {
                System.out.println("Item not present.");
            }

        }
        else if(command.startsWith("height"))
        {
            System.out.println("Current height of tree " + myTree.height());
        }
        else if(command.startsWith("quit"))
        {
            break;
        }
        System.out.println();
    }   
}//Close main method 
```

正如你所看到的，我只填充了 myTree，如果用户选择了 bst，这将是创建的树。在while循环中我只在myTree上工作。

我怎样才能使它更通用，或者我的另一个想法是接受用户输入，然后创建该树的实例，然后将该实例传递给单独的方法，这样我仍然可以只使用 myTree ，因为它会引用该实例已传递给该方法，但我不确定如何将实例传递给另一个方法。这种方式似乎是最好的，但我不确定

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:55:57.117

您的树应该扩展一个公共基类，或者更好的是，一个实现公共接口，例如`Tree`，指定要在所有树上使用的方法（`find`、、、`insert`）`delete`。那么您应该只有一个变量`Tree myTree`，您可以将用户选择的类型的实际实例分配给该变量。

但是，您确定上面的代码有效吗？如果你这样做

```
if("BST".equalsIgnoreCase(treeChoice))
{
    BST<Integer> myTree = new BST<Integer>();
} 
```

那么变量`myTree`将在 之后不可用，`}`因为声明它的代码块在那里结束。您可以在某一时刻声明一个变量，然后再为其赋值，如下所示：

```
Tree<Integer> myTree;
if("BST".equalsIgnoreCase(treeChoice)) {
    myTree = new BinarySearchTree<Integer>();
} else if("ST".equalsIgnoreCase(treeChoice)) {
    myTree = new SplayTree<Integer>();
} else if("RBT".equalsIgnoreCase(treeChoice)) {
    myTree = new RedBlackTree<Integer>();
} else {
    throw new IllegalArgumentException(treeChoice + " is not a valid input");
} 
```

我非常建议你给你的类起真实的名字，让它们代表什么，而不仅仅是两个或三个字母的组合。请注意，如果您没有在最后一个`else`分支中抛出异常，编译器稍后会抱怨“变量 myTree 可能尚未初始化”。

或者，您可以在创建树 if-else-statements 之后将所有代码放入一个方法中，例如`<T> void testTree(Tree<T> myTree)`在评估用户输入的地方直接调用此方法，例如`if("BST".equalsIgnoreCase(treeChoice)) testTree(new BinarySearchTree<Integer>());`，但在某些情况下，您无论如何都希望将其分配给一个变量。

# java - 字符串中的特殊字符#

> ID：15265783
> 
> 赞同：0
> 
> 时间：2013-03-07T07:49:28.177
> 
> 标签：java, string, special-characters

我有一个字符串 tmp 如下

```
 <a href="#" class="quickLinks" id="linkQL">Quick Links</a> 
```

我想知道在 href= 之后有一个 # 。我想这样做 if (tmp.indexOf('#') == 8) 但我不能这样做，我认为是因为# 是特殊字符

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:09:16.333

要测试 # 是否遵循 href，您可以简单地这样做：

```
if (input.contains("href=\"#\"")) 
```

不需要涉及正则表达式，哈希字符#在java中也没有什么特殊的，但是双引号字符需要转义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:11:37.653

如果要检查`href`属性是否包含 a `#`，请使用 HTML 解析器，如[jsoup](http://jsoup.org/cookbook/)

```
Document doc = Jsoup.parse(html);
String href = doc.select("a").first().attr("href");
boolean isHash = href.equals("#"); 
```

如果您真的只想检查 a`#`之后是否有 a `href`，您可以使用[Regex](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html) - 但我怀疑这不是您想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:04:50.990

`var tmp = '<a href="#" class="quickLinks" id="linkQL">Quick Links</a>';`
`tmp.indexOf('#');`
这将返回 9，这是预期的结果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T08:09:51.997

尝试正则表达式

```
boolean matches = s.matches(".+href\\s*=\\s*['\"]#['\"].+"); 
```

# jquery - 如何将每个孩子的 HTML 分配给 jQuery 中的变量？

> ID：15265793
> 
> 赞同：1
> 
> 时间：2013-03-07T07:49:52.147
> 
> 标签：jquery, html

如何将每个孩子的 HTML 分配给 jQuery 中的变量？

例如，我有

```
<li>
    <div class="hide video_id keep">50</div>
    <div class="hide video_id keep">49</div>
</li> 
```

我希望 50 和 49 分别存储在一个变量中。我不确定这些 div 有多少，但我需要它来为每个 div 工作。除了使用 for 循环之外，还有什么更简单的方法可以做到这一点？

仅出于上下文考虑，我使用这些值从 DOM 中删除视频缩略图（这就是为什么我为不会删除的缩略图添加“保留”类的原因）。

更新：这是我在单击类别时用于过滤视频的代码。

```
$('.category').click(function() {
    $(this).children().addClass('keep');
    var numbers = [];
    $(".video_id:not(.keep)").each(function () {
        numbers.push($(this).text());
    });
    console.log(numbers);
    $('.thumbnails:gt(8)').remove();
    updatePaginate();
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:54:31.960

如果我理解你是正确的，你想选择数字以便你可以删除这些图像，但你不想删除那些有`keep`类的图像。在这种情况下，您可以选择所有具有 的元素`video_id`并忽略那些具有`keep`类的元素（使用[:not 选择器](http://api.jquery.com/not-selector/)），然后使用[.each()](http://api.jquery.com/jQuery.each/)循环遍历它们并一次读取它们的内容。然后，您可以将内容推送到数组中。像这样的东西：

```
var numbers = [];
$(".video_id:not(.keep)").each(function () {
   numbers.push($(this).text());
});
console.log(numbers); 
```

[工作演示](http://jsfiddle.net/JJ3sZ/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:52:25.267

```
$(function() {
    $('div','li').each(function() {
        console.log($(this));
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T07:53:10.553

```
var values = [];

$("div.keep").each(function(){
 values[values.length] = $(this).text();
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T07:54:59.550

不确定你到底想达到什么，但你可以使用`.map`方法：

```
var arr = $('div.keep').map(function() { return $(this).text(); }).get(); 
```

这将形成一个包含您的元素文本的数组。

# ember.js - Ember.JS - 存储一个路由，然后过渡到它

> ID：15265798
> 
> 赞同：1
> 
> 时间：2013-03-07T07:50:08.763
> 
> 标签：ember.js

我正在尝试找出一种临时存储对当前路由的引用的好方法，以便以后可以转换回它。

我知道在一条路线中我可以做到：

```
r = @get("routeName") 
```

然后：

```
@transitionTo ( r ) 
```

但这不包括动态细分。反正有没有容易做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:07:52.260

怎么样：

```
completeRoute = @get("routeName")
args = [completeRoute]
tempRoute = ''
completeRoute.split('.').forEach (route)=>
  tempRoute += route
  args.push(@modelFor(tempRoute)) if @modelFor(tempRoute)
  tempRoute += '.' 
```

进而

```
@transitionTo.apply(@, args) 
```

我还没有尝试过，但我想这样的事情可能会奏效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-18T01:39:40.833

我在我的应用程序中解决这个问题的一种方法是只使用`window.location.pathname`而不是依赖`routeName`变量。我正在序列化到`localStorage`，所以只存储整个路径而不是一堆对象更容易。

```
@pathname = window.location.pathname 
```

然后，稍后：

```
@transitionTo(@pathname) 
```

# c# - 为什么在客户端拆分 TCP 消息不起作用？

> ID：15265800
> 
> 赞同：0
> 
> 时间：2013-03-07T07:50:20.607
> 
> 标签：c#, sockets, tcp, client-server

我使用 C# 编写了一个客户端-服务器应用程序。

客户端异步发送带有 4 字节标头定义消息大小的消息，服务器等待**整个**消息（它知道大小）然后引发`DataReceived`事件。当我异步发送和接收数据时，这一切都很好。

在某些时候，我想模拟一个错误的连接，其中 2 个段一个接一个地发送，使用`Send()`而不是`BeginSend()`

```
 public void SendSyncString(string str, Commands cmd)
    {

        BinaryWriter bw = new BinaryWriter(new MemoryStream());
        bw.Write((int)cmd);
        bw.Write((int)str.Length);
        bw.Write(Encoding.ASCII.GetBytes(str));
        bw.Close();
        byte[] data = ((MemoryStream)(bw.BaseStream)).ToArray();
        bw.BaseStream.Dispose();
        SendSync(data,1);

    }

    public void SendSync(byte[] data,int delay)
    {
        //create |dataLength|data| segment
        byte[] dataWithHeader = Combine(BitConverter.GetBytes(data.Length), data);
        //send first block of data, delay, and then send the rest
        socket.Send(dataWithHeader, 0, 4, SocketFlags.None);
        Thread.Sleep(delay*1000);
        socket.Send(dataWithHeader, 5, dataWithHeader.Length - 5, SocketFlags.None);
    } 
```

这**行不通**。我确实希望了解原因。如果我的 TCP 只是一个字节流，并且无法知道每个段何时到达，为什么我不能按照我的意愿将其拆分为段并像上面那样简单地发送它们（假设前 4 个字节是完全发送）？

感谢您的见解。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T08:31:26.210

因为你的第一个 socket.Send 调用只发送了 4 个字节：

```
socket.Send(dataWithHeader, 0, 4, SocketFlags.None); 
```

也就是说，偏移量为 0、1、2 和 3 的字节被发送（总共 4 个字节）。请记住 socket.Send 的第三个参数是长度参数，而不是结束位置。

因此，这一行有一个错误：

```
socket.Send(dataWithHeader, 5, dataWithHeader.Length - 5, SocketFlags.None); 
```

它将偏移量 5,6,7.. 的字节发送到数组的末尾。**它跳过了第 4 个字节** 。因此，接收者可能会阻塞，因为它距离接收完整消息还差一个字节。

它应该是：

```
socket.Send(dataWithHeader, 4, dataWithHeader.Length - 4, SocketFlags.None); 
```

你去吧。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T10:13:28.497

> 我想模拟一个坏连接，其中 2 个段一个接一个地发送

这不是一个“糟糕的联系”。对于任何 TCP 连接来说，这是一种完全合法的行为方式。如果接收软件不能正确处理它，它就没有正确编写。

> 假设前 4 个字节已完全发送

你不能这样假设。

# javascript - 如何在 angularjs 的 iframe 中打开外部 url？

> ID：15265802
> 
> 赞同：0
> 
> 时间：2013-03-07T07:50:23.900
> 
> 标签：javascript, angularjs

如何在 iframe（或 colorbox、fancybox）中打开 youtube 视频链接`with angularjs`？
它显示 javascript 错误：
“ `Refused to display document because display forbidden by X-Frame-Options.`”

这是一个 Html 代码 -

```
<a href="{{video_url}}" title="{{video.video_title}}" class="nyroModal">
    {{video_title}}
</a> 
```

javascript -

```
$('.nyroModal').nyroModal(); 
```

单击上面的链接，它应该在 iframe 中打开。但是它显示了上面提到的错误。
谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T14:29:49.313

您无法从跨域的子 iFrame 控制父框架（在本例中为浏览器）。这破坏了 iframe 的沙盒安全性。

如果您可以访问父框架和子框架的代码并且在同一个域中，则可以使用 HTML5`postMessage()`命令。

有关 iframe 之间跨域通信的进一步阅读，请参阅以下内容：

[http://softwareas.com/cross-domain-communication-with-iframes](http://softwareas.com/cross-domain-communication-with-iframes)

# extjs - 从 extjs 的面板中选择一个容器

> ID：15265809
> 
> 赞同：2
> 
> 时间：2013-03-07T07:50:38.703
> 
> 标签：extjs, extjs4, extjs4.1, extjs-mvc

Extjs 4.1.1(a)，在我的项目中，有一个面板（带有 Id `#monthCalendar`），它在一个视图中有 42 个容器。我正在尝试为该视图创建一个控制器。在这里，控制器的操作是在我单击面板内的任何容器时显示“hello”消息。我尝试了以下在 chrome 控制台中没有显示任何错误的方法。

在我的控制器中：

```
onLaunch: function(){
    Ext.each(Ext.ComponentQuery.query('#monthCalendar container'),function(container){
        container.on('click',function(){
            alert("hello");
        },container,{element: 'el'})
    })
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T08:13:29.520

这个应该工作

```
Ext.each(Ext.ComponentQuery.query('#monthCalendar container'),function(c){
    c.on({ click: {fn: function(){ alert("hello"); },scope: this, element:'el' }})
}) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T09:44:15.800

调用 click 事件时，面板内的容器似乎没有被重新渲染。（虽然，容器在页面上可见。我不知道可能是什么错误？）所以，`onLaunch`我没有使用 ，而是使用`init`了模板我称之为`render`事件（间接称为`click`事件）并且这有效。

```
init: function(){
    this.control({
        '#monthCalendar container': {
            render: this.onContainerRendered
        }
    })
},
onContainerClicked: function() {
    alert('The container was clicked');
},
onContainerRendered: function(container) {
    container.on('click',this.onContainerClicked,container,{element: 'el'})
}, 
```

**[工作小提琴](http://jsfiddle.net/YyktH/2/)**

# android - API 17 (JellyBean) 中的 SMS 广播接收器问题

> ID：15265810
> 
> 赞同：0
> 
> 时间：2013-03-07T07:50:40.287
> 
> 标签：android, sms, broadcastreceiver, android-4.2-jelly-bean

我一直在尝试创建一个 android 应用程序，当收到 SMS 时，它会在屏幕上显示一个自定义对话框。该应用程序在 API 11 (GingerBread) 上运行良好，但似乎在 JellyBean 模拟器上显示任何内容，尽管它接收到消息。

以下是我的清单文件中的重要代码行：

```
 <uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" /> 
```

广播接收器的代码：

```
<receiver android:name=".MessageReceiveBroadcast"
        android:enabled="true" > 
        <intent-filter 
            android:priority="2147483647" >
            <action android:name="android.provider.Telephony.SMS_RECEIVED" />
        </intent-filter>
</receiver> 
```

请注意，我也尝试将 android:priority 更改为 999 和 2147483646，但它什么也没显示。我错过了什么？

# sql - Oracle 按组划分为基于日期的序列

> ID：15265814
> 
> 赞同：3
> 
> 时间：2013-03-07T07:50:50.493
> 
> 标签：sql, oracle, analytic-functions

我正在尝试使用 PARTITION BY OVER 按某些列“分组”行。我对 PARTITION 的使用有所了解，但是我想按日期“阻止”分区。例如，如果我们有

```
|col1|col2       |
| A  |01/JAN/2012|
| A  |01/FEB/2012|
| B  |01/MAR/2012|
| B  |01/APR/2012|
| A  |01/MAY/2012| 
```

我想按 col1 进行分区，但我希望最后一个 A 与前两个“不同”，因为它在日期方面被“B”行分隔。

如果我使用；

```
SELECT ROW_NUMBER() OVER (PARTITION BY col1 ORDER BY col2) AS RNUM, a.* 
FROM table1 a; 
```

它会产生；

```
|RNUM|col1|col2       |
|   1| A  |01/JAN/2012|
|   2| A  |01/FEB/2012|
|   3| A  |01/MAY/2012|
|   1| B  |01/MAR/2012|
|   2| B  |01/APR/2012| 
```

但我真正想要的是；

```
|RNUM|col1|col2       |
|   1| A  |01/JAN/2012|
|   2| A  |01/FEB/2012|
|   1| B  |01/MAR/2012|
|   2| B  |01/APR/2012|
|   1| A  |01/MAY/2012| 
```

这可以使用 PARTITION BY OVER 吗？目前我已经退回到使用游标来解析数据并分配一个组 id，这样我就可以将两个“A”序列分开，但这很慢。

谢谢，

标记。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T08:05:17.720

这可以通过几个分析来实现：

```
select col1, col2, row_number() over (partition by grp order by col2) rnum
  from (select col1, col2, max(grp) over(order by col2) grp
          from (select col1, col2, 
                       case 
                         when lag(col1) over (order by col2) != col1
                         then
                           row_number() over (order by col2)
                         when row_number() over(order by col2) = 1 
                         then
                           1
                       end grp
                  from data)); 
```

IE：

首先获取按日期`col1`排序的更改边界：`col2`

```
SQL> select col1, col2,
  2         case
  3           when lag(col1) over (order by col2) != col1
  4           then
  5             row_number() over (order by col2)
  6           when row_number() over(order by col2) = 1
  7           then
  8             1
  9         end grp
 10    from data;

C COL2             GRP
- --------- ----------
A 01-JAN-12          1
A 01-FEB-12
B 01-MAR-12          3
B 01-APR-12
A 01-MAY-12          5 
```

然后我们可以填写这些空值：

```
SQL> select col1, col2, max(grp) over(order by col2) grp
  2    from (select col1, col2,
  3                  case
  4                    when lag(col1) over (order by col2) != col1
  5                    then
  6                      row_number() over (order by col2)
  7                    when row_number() over(order by col2) = 1
  8                    then
  9                      1
 10                  end grp
 11            from data);

C COL2             GRP
- --------- ----------
A 01-JAN-12          1
A 01-FEB-12          1
B 01-MAR-12          3
B 01-APR-12          3
A 01-MAY-12          5 
```

然后是`row_number()`通过排序`col2`和分区分配的情况`grp`

小提琴：[http ://sqlfiddle.com/#!4/4818c/1](http://sqlfiddle.com/#!4/4818c/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:09:54.173

首先，您应该为每条记录找到 GROUP_ID，以便将所有相似的 COL1 排序到不同的 GROUPS（如果它们之间存在差距）。然后在带有 COL1 的 OVER 语句中使用此 GROUP_ID：

[SQLFiddle 演示](http://sqlfiddle.com/#!4/0e948/11)

```
SELECT ROW_NUMBER() OVER (PARTITION BY Group_id,col1 ORDER BY col2) AS RNUM, a3.* 
FROM 
(
select a1.*,
      (select count(*) from t a2 where 
       a2.col1<>a1.col1 
       AND  
       a2.col2<a1.col2) as GROUP_ID
from t a1
) a3

order by col2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:20:05.850

请参阅下面的方法，这与 Dazzal 的答案相似，逻辑略有不同：

[SQL 小提琴](http://sqlfiddle.com/#!4/4818c/13)

第1步：

```
--find the swhitches to new groups
select col1, col2, 
    case when nvl(lag(col1) over (order by col2),sysdate) <> col1 then 1 end as new_grp
  from data;

COL1    COL2        NEW_GRP
A   January, 01 2012    1
A   February, 01 2012   (null)
B   March, 01 2012      1
B   April, 01 2012      (null)
A   May, 01 2012        1 
```

第2步：

```
--identify/mark the groups

select col1, col2, sum(new_grp) over (order by col2) as grp
from(
  select col1, col2, 
    case when nvl(lag(col1) over (order by col2),sysdate) <> col1 then 1 end as new_grp
  from data)
  ;

COL1    COL2        NEW_GRP
A   January, 01 2012    1
A   February, 01 2012   1
B   March, 01 2012      2
B   April, 01 2012      2
A   May, 01 2012        3 
```

第三步：

```
--find the row_number within group
select col1, col2, row_number() over(partition by grp order by col2) rn
from(
  select col1, col2, sum(new_grp) over (order by col2) as grp
  from(
    select col1, col2, 
      case when nvl(lag(col1) over (order by col2),sysdate) <> col1 then 1 end as new_grp
    from data
      )
  );

COL1    COL2        NEW_GRP
A   January, 01 2012    1
A   February, 01 2012   2
B   March, 01 2012      1
B   April, 01 2012      2
A   May, 01 2012        1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T14:53:44.530

你不需要分区。您需要将日期转换为 DD/MM/YYYY 格式并订购它们。或者，如果您必须，那么您可以按 MM 部分进行分区，这将为您提供 01、02、03... 并且可以根据需要进行分区并轻松转换为数字。但是您不需要所有这些……不要使您的查询复杂化。始终保持简单。外部查询只是将您的日期重新格式化为 DD/MON/YYYY 格式：

```
SELECT val, to_char(to_date(dt, 'DD/MM/YYYY'), 'DD/MON/YYYY') formatted_date 
  FROM
( -- Format your date to DD/MM/YYYY and order by it --
SELECT 'A' val, to_char(to_date('01/JAN/2012'), 'DD/MM/YYYY') dt FROM dual  
 UNION
SELECT 'A', to_char(to_date('01/FEB/2012'), 'DD/MM/YYYY') FROM dual  
 UNION
SELECT 'B',to_char(to_date('01/MAR/2012'), 'DD/MM/YYYY') FROM dual  
 UNION
SELECT 'B',to_char(to_date('01/APR/2012'), 'DD/MM/YYYY') FROM dual  
 UNION
SELECT 'A',to_char(to_date('01/MAY/2012'), 'DD/MM/YYYY') FROM dual  
ORDER BY 2
)
/ 
```

您的日期按照您的意愿排序，然后：

```
VAL FORMATTED_DATE
-------------------
A   01/JAN/2012
A   01/FEB/2012
B   01/MAR/2012
B   01/APR/2012
A   01/MAY/2012 
```

# php - 在 foreach 循环中声明不同的变量

> ID：15265818
> 
> 赞同：0
> 
> 时间：2013-03-07T07:51:05.530
> 
> 标签：php

我知道我的问题的标题可能令人困惑，但我不太确定如何简洁地解释我想要做的事情。

我正在尝试遍历一组 CSV 并将数据加载到具有不同名称的变量中。在下面的示例中，在每个循环中通过数组而`$foo_data`不是`$MSFT_data`, `$AAPL_data`, 和。`$FB_data``$stocks`

```
$stocks = array($msft, $aapl, $fb);

foreach ($stocks as $stock) {
    $fh = fopen($stock, 'r');
    $header = fgetcsv($fh);

    $foo_data = array();
    while ($line = fgetcsv($fh)) {
        $foo_data[] = array_combine($header, $line);
    }

    fclose($fh);
} 
```

如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:56:53.380

有两个问题。第一个是您无法获取变量名称，因此脚本无法知道存在`$msft`, `$aapl`, `$fb`，因此您需要将名称与数组一起传递。第二个是你需要可变变量。

尝试

```
$stocks = array('MSFT' => $msft, 'AAPL' => $aapl, 'FB' => $fb);
foreach ($stocks as $key=>$stock) {
    $fh = fopen($stock, 'r');
    $header = fgetcsv($fh);

    $varname = $key . '_data';

    $$varname  = array(); //the double $$ will set the var content as variable ($MSFT_data)
    while ($line = fgetcsv($fh)) {
        ${$varname}[] = array_combine($header, $line);

       //the {} are needed to let PHP know that $varname is the name of the variable and not $varname[].
    }

    fclose($fh);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:54:11.597

```
$MSFT_data = $foo_data[0];
$AAPL_data = $foo_data[1];
$FB_data = $foo_data[2]; 
```

这对你有什么作用？

# ruby-on-rails - 密码摘要错误

> ID：15265820
> 
> 赞同：1
> 
> 时间：2013-03-07T07:51:10.980
> 
> 标签：ruby-on-rails, ruby, passwords, omniauth

我使用omniauth-identity 对我的项目进行身份验证。我也将 mongodb 用于数据库。我的身份模型如下：

```
class Identity
  include Mongoid::Document
  include OmniAuth::Identity::Models::Mongoid

  field :name, type: String
  field :email, type: String
  field :password_digest, type: String

  validates_presence_of :name
  validates_uniqueness_of :email
  validates_format_of :email, :with => /^[-a-z0-9_+\.]+\@([-a-z0-9]+\.)+[a-z0-9]{2,4}$/i
end 
```

我的身份控制器如下所示：

```
class IdentitiesController < ApplicationController

  def new 
   @identity = env['omniauth.identity']
  end

end 
```

我运行项目。我不填写文本。它给了我错误

```
Password digest can't be blank
Name can't be blank
Email is invalid 
```

问题就在这里，`Password digest can't be blank`警告。这一定不是错误。我该如何解决这个问题？

# python - 使用 Python cgi stdlib 获取空表单字段

> ID：15265825
> 
> 赞同：0
> 
> 时间：2013-03-07T07:51:38.343
> 
> 标签：python, forms, checkbox, cgi

我正在传递多个可选的表单字段，但需要与用户关联。Python 的 cgi.FormDict 和 cgi.FieldStorage 都消除了空白条目，因此项目被“向上”移动并与错误的用户相关联。

这个问题最常出现在复选框（我有）中，但我也有文本字段。

简化形式代码：

```
<input type="text" name="user" />
<input type="text" name="email" />
<input type="text" name="phone" />
<input type="checkbox" value="MailingList1" />
<input type="checkbox" value="MailingList2" />
<p>
<input type="text" name="user" />
<input type="text" name="email" />
<input type="text" name="phone" />
<input type="checkbox" value="MailingList1" />
<input type="checkbox" value="MailingList2" />
etc... 
```

用户需要输入电子邮件或电话（或两者），但可以将另一个留空。

现在说我有这样的输入：

```
john_doe         john_doe@example.com        (123) 555-1234    Y    Y
jane_roe         jane_roe@example.com                          Y
george_jetson    george_jetson@future.com    (321) 555-4321         Y 
```

FormDict 看起来像这样：

```
{
'username':['john_doe','jane_roe','george_jetson'],
'email':['john_doe@example.com','jane_roe@example.com','george_jetson@future.com'],
'phone':['(123) 555-1234','(321) 555-4321'],
'MailingList1':['Y','Y'],
'MailingList2':['Y','Y']
} 
```

我这样循环：

```
for i in range(len(myFormDict['username'])):
    username = myFormDict['username'][i]
    email = myFormDict['email'][i]
    phone = myFormDict['phone'][i]
    MailingList1 = myFormDict['MailingList1'][i]
    MailingList2 = myFormDict['MailingList2'][i]

    ...Inserts into the database 
```

在你问之前，是的，我确实有错误陷阱来防止它从列表的末尾跑出来。代码工作正常，但我的数据库最终看起来像这样：

```
john_doe         john_doe@example.com        (123) 555-1234    Y    Y
jane_roe         jane_roe@example.com        (321) 555-4321    Y    Y
george_jetson    george_jetson@future.com 
```

简和乔治会生我的气的。

那么......我如何保留空白，以便正确的电话号码和列表成员资格与正确的用户对齐？

我在网上找到的所有答案都涉及 GAE、Django、Tornado、Bottle 等框架。

瓶子是最轻的，但我试过了，它需要 Python 2.5，我被困在 2.4 上。

如果这些框架可以做到，那么它必须是可能的。那么如何仅使用标准库正确管理我的数据呢？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:38:15.383

看下面的文档（即`keep_blank_values`参数）：

```
>>> print cgi.FieldStorage.__init__.__doc__
Constructor.  Read multipart/* until last part.

        Arguments, all optional:

        fp              : file pointer; default: sys.stdin
            (not used when the request method is GET)

        headers         : header dictionary-like object; default:
            taken from environ as per CGI spec

        outerboundary   : terminating multipart boundary
            (for internal use only)

        environ         : environment dictionary; default: os.environ

        keep_blank_values: flag indicating whether blank values in
            percent-encoded forms should be treated as blank strings.
            A true value indicates that blanks should be retained as
            blank strings.  The default false value indicates that
            blank values are to be ignored and treated as if they were
            not included.

        strict_parsing: flag indicating what to do with parsing errors.
            If false (the default), errors are silently ignored.
            If true, errors raise a ValueError exception. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:31:13.973

我不确定你是否可以调整 cgi.FromDict 来做你想做的事，但也许一个解决方案是让每个输入集都像这样：

```
<input type="text" name="user" />
<input type="text" name="email" />
<input type="text" name="phone" />
<input type="checkbox" value="MailingList1_1" />
<input type="checkbox" value="MailingList2_1" />
<p>
<input type="text" name="user" />
<input type="text" name="email" />
<input type="text" name="phone" />
<input type="checkbox" value="MailingList1_2" />
<input type="checkbox" value="MailingList2_2" /> 
```

请注意，MailingList1 和 Mailinglist2 现在有一个“入口块”的后缀。

您必须在生成表单时添加它，然后通过阅读如下复选框来相应地调整您的处理：

```
lv_key = 'MailingList1_' + str(i)
MailingList1 = myFormDict[lv_key]
... 
```

问候，

马丁

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T09:35:13.777

即使您使用基于 wsgi 的框架，如 django 或 bottle，您`<input>`对每个字段都使用相同的名称 - cgi formdict 不会消除空字段，首先没有空字段。您应该为每个用户提供不同的名称属性。

# javascript - Javascript 继承；调用和原型

> ID：15265829
> 
> 赞同：3
> 
> 时间：2013-03-07T07:51:54.263
> 
> 标签：javascript, jquery, inheritance, prototypal-inheritance

要在Javascript中实现继承，通常执行以下2个步骤；

假设我有一个基类“动物”

```
var Animal = function(name){
this.name = name;
} 
```

我现在想从中派生一个子类“Dog”。所以我会说

```
var Dog = function(name) {
   Animal.call(this,name);
} 
```

所以我从派生类构造函数中调用我的父类构造函数。第二步，设置原型如下；

```
Dog.prototype = new Animal(); 
```

现在我可以从派生类 Dog 中访问任何基本的“Animal”类属性。

所以我的问题是为什么这两个步骤是必要的？如果我们只是使用调用基类构造函数

```
Animal.call(this,name); 
```

这还不足以实现继承吗？

为什么我们**还**需要使用设置原型属性`Dog.prototype = new Animal();`？

我想了解上述两个步骤中的每一个的作用是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:01:24.997

```
var Animal = function(name){
    this.name = name;
}
Animal.prototype.sleep = function() {
    console.log("Sleeping")
}

... 
// Without this line:
Dog.prototype = new Animal();

// the following code will fail, since `d` does not contain `sleep`
d = new Dog();
d.sleep(); 
```

`Animal.call(this,name);`只是调用函数`Animal`，但使用与`this`调用函数相同。

`Dog.prototype = new Animal();`设置原型的原型。但是，`Dog.prototype = Object.create(Animal.prototype)`可能更正确。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:35:39.717

一个代码示例值一千字 :)

```
var Animal = function(name) {
    this.name = name;
}
Animal.prototype.run = function () {
    // do something
};
var Dog = function(name) {
   Animal.call(this, name);
}

var dog = new Dog('Puppy');
typeof dog.name; // "string"
typeof dog.run; // "undefined"
dog instanceof Animal; // false
dog instanceof Dog; // true

Dog.prototype = new Animal();

var dog = new Dog('Puppy');
typeof dog.name; // "string"
typeof dog.run; // "function"
dog instanceof Animal; // true
dog instanceof Dog; // true 
```

如您所见，如果您不使用`Dog.prototype = new Animal();`，`Animal.prototype`成员将不会被继承。此外，`Dog`实例不会被视为`Animal`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:03:29.343

第二步帮助你继承原型方法。想象一下，我们有更复杂的类：

```
function Animal(name) {
  this.name = name;
}

// shared method
Animal.prototype.say = function () {
  alert( this.name );
};

function Dog() {
  Animal.apply(this, arguments);
}

Dog.prototype = new Animal();

var dog = new Dog('Cooper');
// method has been inherited
dog.say(); // alerts 'Cooper' 
```

[你可以在这里](http://jsbin.com/isefof/1/edit)试试

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T08:07:49.870

javascript 中没有类，也没有子类。

call 和 apply 在不同的“this”的上下文中执行一个函数。您的示例代码中的内容是不需要的。

```
//Create your constructor function:
var Animal = function(){}

Animal.prototype = {
    sleep: function(){
         console.log('zzz');   
    },
    bark: function(name){
         console.log(name +' barks!');   
    }
}

var dog = new Animal();

dog.sleep();
dog.bark('asdasd'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T08:12:11.177

这里我们定义了构造函数`Animal`

```
var Animal = function(name){
   this.name = name;
} 
```

然后为它定义构造函数，`Dog`并从它内部调用 的构造函数`Animal`。就像我们`super()`在基于类的面向对象设计中所做的那样。

```
var Dog = function(name) {
   Animal.call(this,name);
} 
```

然后我们`Dog`通过使用原型中定义的方法来构建原型 `Animal`。在这里，它没有克隆 中的方法`Animal`，但在它们之间设置了一个链接，`Dog`并`Animal`使用该链接重新使用 中的方法`Animal`

```
Dog.prototype = new Animal(); 
```

并继续扩展它添加更多方法

```
Dog.prototype.showName = function(){
     // do something
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T08:18:27.697

首先要了解的是，在 JavaScript 中没有经典的继承，我们从 Java、C# 等 C 语言中了解的机制。在 JavaScript 中，可以通过使用原型继承来实现代码重用。我们唯一拥有的是对象，即存活且不需要实例化的代码块。例如：当在对象上调用函数时（如方法），检查当前对象是否知道该函数。如果未找到，引擎将其称为原型（这是另一个对象）并检查函数名称是否已知并且可以调用。当没有找到时，它的原型被调用等等。因此，设置对象的原型可以编排原型链。

回答你的问题：没有什么是必要的，这取决于你想要什么。代码重用是您想要的，而继承是您可以实现这一点的方式（Stoyan Stefanov - JavaScript 模式）。在 JavaScript 中，有更多的方法可以重用代码。

此外， this 绑定到当前上下文，并不总是当前对象。

# wcf - 使用 Biztalk 中的角色链接将相同的数据传输到不同的端口

> ID：15265833
> 
> 赞同：0
> 
> 时间：2013-03-07T07:52:16.457
> 
> 标签：wcf, biztalk, role

我有三台分配了不同 ID 的服务器

服务器 1 = ID1

服务器2 = ID2

服务器 3 = ID3

我想从 Server2 和 Server3 获取 Server1 的数据，我必须将**相同的 ID (ID1)**发送到其他两台服务器以获取数据。我想通过使用 Role-Link 来实现这一点（因为将来可能会有更多不同的服务器），问题是我不能将类似的目标方值提供给方标识符。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T06:20:43.027

我已经解决了这个问题。实际上，在角色链接中，您不能定义具有相同标识符的两个不同方。我通过使用调度适配器使用多个接收位置来处理这个问题，该适配器生成相同的 SourceServerID 和不同的 DestinationServerID。它现在就像一个魅力。

# javascript - Leaflet.Draw 矩形的坐标

> ID：15265835
> 
> 赞同：20
> 
> 时间：2013-03-07T07:52:27.257
> 
> 标签：javascript, leaflet, leaflet.draw

是否可以在 mouseClick 上获取矩形的坐标，所以我有矩形的所有角？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-07T12:09:09.247

查看事件对象（[http://leafletjs.com/reference.html#event-objects](http://leafletjs.com/reference.html#event-objects)）：

```
var map = L.map('map').setView([53.902257, 27.561640], 13);

L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

var bounds = [[53.912257, 27.581640], [53.902257, 27.561640]];

var rect = L.rectangle(bounds, {color: 'blue', weight: 1}).on('click', function (e) {
    // There event is event object
    // there e.type === 'click'
    // there e.lanlng === L.LatLng on map
    // there e.target.getLatLngs() - your rectangle coordinates
    // but e.target !== rect
    console.info(e);
}).addTo(map); 
```

使用`e.target.getLatLngs()`.

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-08-01T14:08:04.043

[`Leaflet.draw`插件](https://github.com/Leaflet/Leaflet.draw)使用标准[Leaflet 的 L.Rectangle](http://leafletjs.com/reference.html#rectangle)。

Leaflet 的矩形扩展[了 Polygon](http://leafletjs.com/reference.html#polygon)。Polygon 扩展[Polyline](http://leafletjs.com/reference.html#polyline)。

因此，为了获取 Leaflet.draw 矩形的坐标，您可以使用 Polyline 的方法`getLatLngs()`，该方法返回路径中的点数组。

**例子：**

```
var drawnItems = new L.FeatureGroup();
map.addLayer(drawnItems);

map.on('draw:created', function (e) {

    var type = e.layerType,
        layer = e.layer;

    if (type === 'rectangle') {
        layer.on('mouseover', function() {
            alert(layer.getLatLngs());    
        });
    }

    drawnItems.addLayer(layer);
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-06-18T06:51:23.713

```
map.on(L.Draw.Event.CREATED, function (e) {

    var layer = e.layer;
    drawnItems.addLayer(layer);

    console.log(layer.getLatLngs())

}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-05-20T10:06:28.050

应该注意的是 e.layerType 包含正在创建的形状类型。
getLatLngs 和 getLatLng 等方法特定于 shapetype。

根据打字稿定义文件，这些是层中允许的不同类型

```
Circle | CircleMarker | Marker | Polygon | Polyline | Rectangle; 
```

e.layerType 的可能值是（根据打字稿定义文件）

```
circle, marker, polygon, polyline, rectangle 
```

因此，您始终可以使用 e.layer.toGeoJSON().geometry.coordinates 获取坐标。
但是需要在e.layerType-s之间切换，因为圆形geojson不包含半径，需要用getRadius来获取。
进一步注意，getLatLngs 返回一个联合国**封闭多边形的****LatLng**数组，而 toGeoJSON().geometry.coordinates 返回一个坐标为**LngLat数组的****封闭**多边形。

 ******```
// console.log((<any>e.layer).getLatLngs()); // polyline
// console.log((<any>e.layer).getLatLng()); // circle
// mind the s at the end of the function...

map.on('draw:created', function(e:L.DrawEvents.Created) 
{
    console.log('On draw:created', e.target);
    console.log(e.type, e);

    console.log(e.layerType);
    // console.log((<any>e.layer).getLatLngs()); // polyline
    // console.log((<any>e.layer).getLatLng()); // circle

    // e.layerType // polygon, circle, etc. 

    // polygon 
    // e.layer.getLatLngs()

    // circle
    // e.layer.getLatLng()
    // e.layer.getRadius()

    // e.layer.toGeoJSON().geometry.type // is point if circle 
    // e.layer.toGeoJSON().geometry.coordinates

    let type = e.layerType,
        layer = e.layer;
    drawnItems.addLayer(layer);
}); 
```******

# c++ - 如何使用 C++ 找到在注册表中注册的 DLL 的绝对路径？

> ID：15265837
> 
> 赞同：0
> 
> 时间：2013-03-07T07:52:38.953
> 
> 标签：c++, windows, dll, registry

我正在尝试诊断某些可执行文件未从启动时运行的情况。

首先，我想检查`filename.exe`磁盘上是否存在 of（*即*它没有被删除）。

我的输入是可执行文件的文件名及其 UUID。

**问题：**有了这些输入，我如何检查注册表是否已注册，如果已注册，可执行文件的路径是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T09:13:47.827

看起来您正在寻找[Dependency Walker](http://www.dependencywalker.com/)：

> Dependency Walker 检测到许多常见的应用程序问题，例如缺少模块、无效模块、导入/导出不匹配、循环依赖错误、模块机器类型不匹配以及模块初始化失败。

[您可以从http://www.dependencywalker.com/](http://www.dependencywalker.com/)下载副本

> Dependency Walker 完全免费使用。但是，您可能无法从其分发中获利，也不得将其与其他产品捆绑销售。

如果您在[Dependency Walker](http://www.dependencywalker.com/)`.EXE`中打开文件，您将看到所有依赖模块 (DLL) 的层次结构树图。缺少的 DLL 以红色显示（我想，我上次使用该工具已经有好几年了）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-04T14:14:12.837

我认为最好的方法是运行 regedit 并通过注册表查找 dll 名称。只需 F3（查找下一个），直到找到作为路径的 dll 的值。它每次都有效

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T09:32:06.387

如果这是一个自动化组件，您应该能够在注册表项下找到文件路径，相关组件的 uuid 在`HKEY_CLASSES_ROOT\CLSID\uuid\LocalServer32`哪里。`uuid`如果组件位于 .dll 而不是 .exe 中，则它可能位于`\InProcServer32`而不是`\LocalServer32`键下。（有关更多详细信息，请参见[此处](http://msdn.microsoft.com/en-us/library/windows/desktop/ms221150%28v=vs.85%29.aspx)）。

# android - 网络断开后Android WebView为空白

> ID：15265848
> 
> 赞同：0
> 
> 时间：2013-03-07T07:53:17.783
> 
> 标签：android, webview, webviewclient

我有以下 webview 场景

```
 @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_web_view_tutorial);
        mWebView = (WebView) findViewById(R.id.webView1);

        mWebView.setWebViewClient(mWebViewClient);

        mWebView.setInitialScale(0);
        mWebView.setVerticalScrollBarEnabled(false);
        mWebView.requestFocusFromTouch();

        WebSettings settings = mWebView.getSettings();
        settings.setJavaScriptEnabled(true);

        Button btnGo = (Button) findViewById(R.id.button1);
        btnGo.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                String url = "http://www.google.com";// here goes my server url with https://...... for authentication
                showProgressDialog("Loading");
                mWebView.loadUrl(url);
            }
        });

}    
private void showProgressDialog(String title) {

        if(mProgress == null || !mProgress.isShowing()){
            mProgress = ProgressDialog.show(this, title, "Please wait...", true,
                    true, new OnCancelListener() {
                public void onCancel(DialogInterface pd) {
                    finishActivity();
                }
            });
            mProgress.setCanceledOnTouchOutside(false);
            mProgress.setCancelable(true);  
        }       
    }
private void finishActivity() {
    if(mWebView!=null){
        finish();   
    }

}
private final WebViewClient mWebViewClient = new WebViewClient() {

        public void onPageStarted(WebView view, String url,
                android.graphics.Bitmap favicon) {

            super.onPageStarted(view, url, favicon);
            Log.d("test", "page started");

        }

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
                Log.d("test", "page should override called");
                return super.shouldOverrideUrlLoading(view, url);
        }

        @Override
        public void onPageFinished(WebView view, String url) {

            if (mIsLoadingSigninPage) {
                    mIsLoadingSigninPage = false;
                dismissProgressDialog();
            }
            Log.d("test", "page finished");
            super.onPageFinished(view, url);
        }

        @Override
        public void onReceivedError(WebView view, int errorCode,
                String description, String failingUrl) {

            mIsLoadingSigninPage = false;
            dismissProgressDialog();
            Log.d("test", "page error received");

            super.onReceivedError(view, errorCode, description, failingUrl);
            finishActivity();
        }
};
private void dismissProgressDialog() {
    if (mProgress != null && mProgress.isShowing()) {
        mProgress.dismiss();
        mProgress =null;
    }
} 
```

// 这是下面第 3 点的日志猫

```
 03-07 07:31:20.977: D/test(1431): page started
03-07 07:31:22.788: D/test(1431): page should override called
03-07 07:31:22.887: D/test(1431): page started
03-07 07:31:24.496: D/test(1431): page finished 
```

好的，

1.  当网络不可用时，我运行此代码，调用 webviewclient 的 onReceivedError，
2.  如果网络可用并且页面加载开始，并且网络断开连接，那么也会调用 onReceivedError。
3.  但是有一些时间实例，（按下按钮并在模拟器上使用 f8 断开网络后计数 1、2、3） mWebView.loadUrl(url) 被调用，webViewclient 的方法被调用如下

并且 WebView 显示空白屏幕，未调用 onReceivedError。这是logcat

和

1.  这段代码有什么问题。
2.  为什么没有调用 onReceivedError。如果它没有被调用，如何处理这种情况
3.  如何知道 webView 没有加载任何内容并完成活动

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:44:06.727

它肯定会调用页面启动和页面完成，因为 onReceivedError 将被调用：-

-单击任何链接（如果不存在互联网）然后应该覆盖 url 将抛出一个错误，它将处理
-on 活动开始或调用 webview

对于 onRecievedError 未处理的所有异常，您必须检查 http 状态

# javascript - 如何安排在perl中每小时执行一次脚本的一部分，而其余部分每分钟刷新一次

> ID：15265860
> 
> 赞同：1
> 
> 时间：2013-03-07T07:54:08.743
> 
> 标签：javascript, perl

我有一个每分钟刷新网页的 Perl 脚本。现在我想添加一些应该每小时一次的 MySQL 查询。Perl 中是否有像 JavaScript 一样的调度执行器，或者我可以将 JavaScript 合并到 Perl 中吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T07:57:45.880

此解决方案与**Perl**一起使用。

您可以`localtime()`在 perl 中使用函数。计算一个小时的差异并拍摄 MySQL 查询。

要了解，`localtime()`请访问[此](http://perldoc.perl.org/functions/localtime.html)链接。

**或者**

您可以使用 CPAN 的`Time::HiRes`.

请阅读`Time::HiRes` [这里](http://perldoc.perl.org/Time/HiRes.html)。

**或者**

遵循以下代码：

```
use Time::Elapse;

## somewhere in your code...
Time::Elapse->lapse(my $now);

#...rest of code execution    
print "Time Elapsed: $now\n"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T17:48:47.980

我建议这样的事情。包括一个时间戳，该时间戳将结转到下一次更新（调整元标记以使其发生）。如果 sql 必须在 1 小时内运行，则会出现一些问题，但我想这只是一些维护。只有在运行sql时才会更新时间戳，并且只有在当前时间比上一个时间戳晚一小时以上时才会运行sql。

以下将时间戳更新为 3600 秒，而不是使用当前时间。然后我们非常接近每小时运行一次。

一些 Web 开发人员不喜欢以这种方式使用元刷新，因此 javascript 或 cookie 可能是一种选择。（但如果这对你有用，请高兴:-)

```
use strict;
use CGI;

#time() is number of seconds since long time ago
my $lastrun = CGI->param('lastrun') || time();

#if hour is important (ie not 58 or 61 minutes) then need to 
#consider the time spent running this script, etc
if (time() > $lastrun + 60 * 60) { #one hr is 60 sec * 60 min
    $lastrun += 60 * 60; #udate timestamp before starting sql
    #run sql
}

#do fixed stuff every minute

print qq|
    Pragma: no-cache
    Content-Type: text/html

    <html><head>
        <!-- remember to adust the url below ---vvvvvvvvvvvvvvvv-----here -- so time is ok vvvvv -->
        <meta http-equiv="refresh" content="60;URL='http://example.com/script.pl?lastrun=$lastrun">
    </head>
    <body>hello again, waiting...</body>    
    <html>
|; 
```

# macos - 如何在 App Review 团队开始时发现崩溃，但不是在我的 Mac 上？

> ID：15265863
> 
> 赞同：2
> 
> 时间：2013-03-07T07:54:15.430
> 
> 标签：macos, crash, app-store, submit

我正在尝试在 Mac AppStore 上发布我的一款游戏，但我从 App Review 团队收到了以下报告：

> 以下是我们发现此崩溃的原因：该应用在第二次启动应用时崩溃。

这里是崩溃日志：

```
Process:         Tennis Elbow Manager [19919]
Path:            /Applications/Tennis Elbow Manager.app/Contents/MacOS/Tennis Elbow Manager
Identifier:      com.managames.Tennis-Elbow-Manager
Version:         1.9.38 (38)
App Item ID:     0
App External ID: 0
Code Type:       X86 (Native)
Parent Process:  launchd [160]
User ID:         201

Date/Time:       2013-03-06 16:22:44.968 -0800
OS Version:      Mac OS X 10.8.2 (12C54)
Report Version:  10

Crashed Thread:  1  Dispatch queue: com.apple.libdispatch-manager

Exception Type:  EXC_CRASH (SIGBUS)
Exception Codes: 0x0000000000000000, 0x0000000000000000

Thread 0:: Dispatch queue: com.apple.main-thread
0   com.managames.Tennis-Elbow-Manager  0x000e3214 0x6b000 + 492052
1   ???                             0x492e5245 0 + 1227772485

Thread 1 Crashed:: Dispatch queue: com.apple.libdispatch-manager
0   libsystem_kernel.dylib          0x9a6979ae kevent + 10
1   libdispatch.dylib               0x9775dc71 _dispatch_mgr_invoke + 993
2   libdispatch.dylib               0x9775d7a9 _dispatch_mgr_thread + 53

Thread 2:
0   libsystem_kernel.dylib          0x9a6970ee __workq_kernreturn + 10
1   libsystem_c.dylib               0x9105d04c _pthread_workq_return + 45
2   libsystem_c.dylib               0x9105ce19 _pthread_wqthread + 448
3   libsystem_c.dylib               0x91044cca start_wqthread + 30

Thread 1 crashed with X86 Thread State (32-bit):
  eax: 0x00000004  ebx: 0xb0102700  ecx: 0xb01025ac  edx: 0x9a6979ae
  edi: 0x00000000  esi: 0x9775d8a1  ebp: 0xb0102718  esp: 0xb01025ac
   ss: 0x00000023  efl: 0x00000247  eip: 0x9a6979ae   cs: 0x0000000b
   ds: 0x00000023   es: 0x00000023   fs: 0x00000023   gs: 0x0000000f
  cr2: 0x0269e000
Logical CPU: 0

Binary Images:
   0x6b000 -   0x192ff3 +com.managames.Tennis-Elbow-Manager (1.9.38 - 38) <B6D93CA3-ADB3-3C94-AB00-25C63C74250A> /Applications/Tennis Elbow Manager.app/Contents/MacOS/Tennis Elbow Manager
  0x38b000 -   0x3d6fc0 +SDL (1.2.14 - 1.2.14) <84ABD881-2313-3168-889A-EDEA4EBAA928> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL.framework/Versions/A/SDL
  0x3e9000 -   0x400ff7 +org.libsdl.SDL-mixer (1.2.12 - 1.2.12) <879D26B7-6FC0-32FD-BA92-484F89677158> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL_mixer.framework/Versions/A/SDL_mixer
  0x433000 -   0x437ffb +org.libsdl.SDL-image (1.2.12 - 1.2.12) <C8A71F96-C7E3-3290-A886-ECA7994E847D> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL_image.framework/Versions/A/SDL_image
  0x441000 -   0x46fff7 +mikmod (3.1.10r2 - 3.1.12) <484ED43A-1C22-DF87-240A-594F8F37B9BE> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL_mixer.framework/Versions/A/Frameworks/mikmod.framework/Versions/A/mikmod
  0x484000 -   0x4bbffa +smpeg (0.0.1d1) <900C8FCF-8E29-3941-AE32-14F3208DBAE8> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL_mixer.framework/Versions/A/Frameworks/smpeg.framework/Versions/A/smpeg
  0x4e5000 -   0x4e8ff4 +org.xiph.ogg (1.1.4 - 1.1.4) <B4E7F924-42D6-3E2A-9EF0-E55CD71BF308> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL_mixer.framework/Versions/A/Frameworks/Ogg.framework/Versions/A/Ogg
  0x4ef000 -   0x672ff2 +org.xiph.vorbis (1.2.3 - 1.2.3) <F9FCDD01-A9B1-35AD-B1DB-DE0C8F347869> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL_mixer.framework/Versions/A/Frameworks/Vorbis.framework/Versions/A/Vorbis
  0x6a6000 -   0x6eeff4 +FLAC (1.2.1 - 1.2.1) <5F0B6D50-0DFC-357C-89EA-CA56EDEC997D> /Applications/Tennis Elbow Manager.app/Contents/Frameworks/SDL_mixer.framework/Versions/A/Frameworks/FLAC.framework/Versions/A/FLAC
[...] 
```

完整日志在这里 => [http://a1.phobos.apple.com/us/r30/Purple/v4/da/b2/03/dab203db-b866-3d55-8ea9-88df1de4c285/temp..cqdsammn.crash](http://a1.phobos.apple.com/us/r30/Purple/v4/da/b2/03/dab203db-b866-3d55-8ea9-88df1de4c285/temp..cqdsammn.crash)

```
(gdb) info line *0x000e3214 
```

给出：

```
No line number information available for address 0xe3214 <_ZN10CSysCursorD1Ev+2958> 
```

该游戏在我的 OSX 10.8.2 上运行良好，无论是使用我的帐户还是访客帐户，我都可以多次启动它而不会出现问题。
崩溃似乎在它进入我的任何函数之前发生在启动时（即：它仍然可能在 main() 甚至开始）。
我在 Google 上查找了相同的崩溃“Thread 1 Crashed:: Dispatch queue: com.apple.libdispatch-manager”，我可以找到一些几乎相同的报告，主要是关于 Skype 版本，但这并没有教会我太多。 .

所以现在我有点卡住了，我唯一的想法是重新提交，希望这是一次罕见的随机崩溃，但我怀疑这是最好的举措......

有人会有更好的主意吗？提前感谢您的任何回答！:)

我正在使用：SDL 1.2.15、SDL_Image 1.2.12、SDL_Mixer 1.2.12、来自[https://github.com/roddi/ValidateStoreReceipt](https://github.com/roddi/ValidateStoreReceipt)的 roddi 的 ValidateStoreReceipt 。

# android - Android - 为 gridview 中的每个项目添加 url 以从定义的 url 下载文件

> ID：15265866
> 
> 赞同：0
> 
> 时间：2013-03-07T07:54:28.287
> 
> 标签：android, url, gridview, download

向所有伟大的开发者和帮助者致敬。我需要一些帮助。我有定义图标的gridview。（它们存储在应用程序中，我不需要从互联网上下载它们）。

第一个问题 - 如何将 textview（即图标的名称）添加到现有的 gridview 适配器？

第二个问题（最重要，首先要解决） - 我如何为每个项目添加指定的 url 并单击它，用户将下载指定的文件？（例如 - 我的 gridview 显示皮肤，单击它用户将能够下载他选择的皮肤。）我尝试了很多方法，找不到解决方案。像这样的东西：

```
 public void prepareList()
{
    listHttp = new ArrayList();
    listHttp.add("http://yoursite/file1.apk");
    listHttp.add("http://yoursite/file2.apk");
    listHttp.add("http://yoursite/file3.apk"); 
```

SkinsActivity.class

```
import android.app.Activity;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.Toast;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.GridView;
import java.util.ArrayList;

public class SkinsActivity extends Activity {
com.htc.widget.HtcAlertDialog.Builder builder;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.grid_layout);

    GridView gridView = (GridView) findViewById(R.id.grid_view);

    // Instance of ImageAdapter Class
    gridView.setAdapter(new ImageAdapter(this));

    /**
     * On Click event for Single Gridview Item
     * */
    gridView.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> parent, View v,
                int position, long id) {

            HtcAlertDialog.Builder alertDialog = new HtcAlertDialog.Builder(SkinsActivity.this);

          //   Setting Dialog Title
           alertDialog.setTitle("Confirm Installation");

         //   Setting Dialog Message
            alertDialog.setMessage("Do you want to install this skin?");

        //    Setting Icon to Dialog
            alertDialog.setIcon(R.drawable.ic_about);

          //   Setting Positive "Yes" Button
            alertDialog.setPositiveButton("YES", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog,int which) {

            //    Write your code here to invoke YES event
                Toast.makeText(getApplicationContext(), "You clicked on YES", Toast.LENGTH_SHORT).show();
               }
            });

            // Setting Negative "NO" Button
          alertDialog.setNegativeButton("NO", new DialogInterface.OnClickListener() {
              public void onClick(DialogInterface dialog, int which) {
                // Write your code here to invoke NO event
              Toast.makeText(getApplicationContext(), "You clicked on NO", Toast.LENGTH_SHORT).show();
            dialog.cancel();
             }
         });

            // Showing Alert Message
           alertDialog.show();

        }
    });
} 
```

ImageAdapter.class (Gridviewadapter)

```
import android.content.Context;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.GridView;
import android.widget.ImageView;

public class ImageAdapter extends BaseAdapter {
private Context mContext;

// Keep all Images in array
public Integer[] mThumbIds = {
        R.drawable.sense5, R.drawable.sense5red,
        R.drawable.concrete, R.drawable.graphite,
        R.drawable.sense5_full,

};

// Constructor
public ImageAdapter(Context c){
    mContext = c;
}

@Override
public int getCount() {
    return mThumbIds.length;
}

@Override
public Object getItem(int position) {
    return mThumbIds[position];
}

@Override
public long getItemId(int position) {
    return 0;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    ImageView imageView = new ImageView(mContext);
    imageView.setImageResource(mThumbIds[position]);
    imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
    imageView.setLayoutParams(new GridView.LayoutParams(250, 180));
    return imageView;
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:12:36.750

1.  要添加`TextView`，您可以创建自己的布局并`getView`在适配器的方法中动态扩展它。
2.  要管理链接部分，您可以拥有一个字符串数组，并且在方法中您可以使用参数`onItemClick`获取特定的 url并根据需要使用它`position`

-编辑-

xml 你可以使用的`TextView`部分

my_view.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    >
    <ImageView
        android:id="@+id/appIcon"
        android:layout_height="60dp"
        android:layout_width="60dp"
        android:src="@drawable/albumstack1"
        android:layout_centerHorizontal="true"
        />
    <TextView
        android:id="@+id/appNameTextView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/appIcon"
        android:layout_centerHorizontal="true" 
        android:gravity="center_horizontal"
        android:textIsSelectable="false"
        android:text="My Application name"
        />
</RelativeLayout> 
```

您可以在 getView 方法中使用

```
LayoutInflater li = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
@Override
public View getView(int position, View convertView, ViewGroup parent) {
     View v = convertView;
        if (v == null) {
            v = li.inflate(R.layout.my_view, null);
           ((TextView)v.findViewById(R.id.appNameTextView)).setText("put your text here");
            ((ImageView)v.findViewById(R.id.appIcon)).setImageResource(mThumbIds[position]);
    }
    return v;
} 
```

对于您在问题中有 listHttp 的链接部分，您可以在

```
gridView.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> parent, View v,
                int position, long id) {
        /**your code**/
        //This is the string you need for the url, do whatever you want to do with this string
        String urlForApp = listHttp.get(position);
    }
} 
```

# iframe - 为什么链接会在新窗口中打开，而不是在目标 iframe 中打开？

> ID：15265872
> 
> 赞同：1
> 
> 时间：2013-03-07T07:54:40.563
> 
> 标签：iframe, target

我们有一个打开 iframe 链接的菜单，如下所示：

```
<a target='content' ...>

<iframe name='content' ...> 
```

这对大多数页面都有效，但是在打开一个特定页面并对其进行一些处理后，所有菜单都开始在新窗口（选项卡）中打开内容。链接目标被忽略。

为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:54:40.563

我们在其中一个打开的页面中将问题追溯到如下代码：

```
function x() {
    ...
    name = "y"
    ...
} 
```

因为我们忘记输入[var](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/var)关键字，javascript 将名为“name”的变量提升到全局范围。

这覆盖了 iframe 的名称，因此链接无法再找到它们的目标，并在新窗口中打开。

```
function x() {
    ...
    var name = "y"
    ...
} 
```

# mysql - MySQL中的case语句

> ID：15265874
> 
> 赞同：67
> 
> 时间：2013-03-07T07:54:48.977
> 
> 标签：mysql, sql, database, case

我有一个名为“ **tbl_transaction** ”的数据库表，其定义如下：

```
id INT(11) Primary Key
action_type ENUM('Expense', 'Income')
action_heading VARCHAR (255)
action_amount FLOAT 
```

我想生成两列：`Income Amt`和`Expense Amt`.

是否可以仅使用 SQL 查询有条件地填充列，以便输出出现在正确的列中，具体取决于它是支出项目还是收入项目？

例如：

```
ID        Heading         Income Amt       Expense Amt
1         ABC             1000             -
2         XYZ             -                2000 
```

我使用 MySQL 作为数据库。我正在尝试使用 CASE 语句来完成此操作。

干杯!

* * *

## 回答 #1

> 赞同：150
> 
> 时间：2013-03-07T07:57:44.217

是的，像这样：

```
SELECT
    id,
    action_heading,
    CASE
        WHEN action_type = 'Income' THEN action_amount
        ELSE NULL
    END AS income_amt,
    CASE
        WHEN action_type = 'Expense' THEN action_amount
        ELSE NULL
    END AS expense_amt

FROM tbl_transaction; 
```

* * *

正如其他答案所指出的那样，MySQL 还具有`IF()`使用不那么冗长的语法来执行此操作的功能。我通常会尽量避免这种情况，因为它是 MySQL 特定的 SQL 扩展，在其他地方通常不支持。 `CASE`是标准 SQL 并且在不同的数据库引擎之间更易于移植，我更喜欢尽可能编写可移植查询，只有在可移植替代方案*相当*慢或不太方便时才使用引擎特定的扩展。

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2013-03-07T07:59:15.423

MySQL 也有`IF()`：

```
SELECT 
  id, action_heading, 
      IF(action_type='Income',action_amount,0) income, 
      IF(action_type='Expense', action_amount, 0) expense
FROM tbl_transaction 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-03-07T07:56:55.673

尝试使用`IF(condition, value1, value2)`

```
SELECT ID, HEADING, 
IF(action_type='Income',action_amount,0) as Income,
IF(action_type='Expense',action_amount,0) as Expense 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-03-07T07:57:10.807

这应该有效：

```
select 
  id
  ,action_heading
  ,case when action_type='Income' then action_amount else 0 end
  ,case when action_type='Expense' then expense_amount else 0 end
from tbl_transaction 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-08-03T17:52:01.357

要记住的另一件事是 MySQL 有两种不同的 CASE：一个像 @cdhowie 和其他人在此处描述的那样（并在此处记录：http: [//dev.mysql.com/doc/refman/5.7/en/control-flow -functions.html#operator_case](http://dev.mysql.com/doc/refman/5.7/en/control-flow-functions.html#operator_case)）和称为 CASE 的东西，但具有完全不同的语法和完全不同的功能，记录在这里：[https ://dev.mysql.com/doc/refman/5.0/en/case.html](https://dev.mysql.com/doc/refman/5.0/en/case.html)

总是，当我需要另一个时，我首先使用一个。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-04-28T04:59:06.627

我希望这将为您提供正确的解决方案：

句法：

```
 CASE  
        WHEN search_condition THEN statement_list  
       [WHEN search_condition THEN statement_list]....
       [ELSE statement_list]  
   END CASE 
```

执行：

```
select id, action_heading,  
   case when
             action_type="Expense" then action_amount  
             else NULL   
             end as Expense_amt,   
    case when  
             action_type ="Income" then action_amount  
             else NULL  
             end as Income_amt  
  from tbl_transaction; 
```

这里我使用`CASE`语句，因为它比`if-then-else`. 它允许多个分支。`CASE`语句是标准 SQL，适用于大多数数据库。

# android - 在 android 1.6 上向用户显示预填充的联系人屏幕

> ID：15265875
> 
> 赞同：0
> 
> 时间：2013-03-07T07:54:51.573
> 
> 标签：android, contacts

我有以下项目要求。

当用户`android.permission.WRITE_CONTACTS`在他的清单中授予权限时，我们应该以编程方式添加联系人。（这部分已经完成并且工作完美）。

现在的挑战是，如果用户没有授予此权限，那么我将无法以编程方式添加联系人，但我想尽最大努力向他展示预填充的联系人屏幕并让他按下添加按钮。

**我在 Android 2.0 及更高版本上运行它。但我面临使它在 android 1.6 设备上运行的问题。**

以下是适用于 Android 2.0 及更高版本的代码。

```
 Intent i = new Intent(ContactsContract.Intents.Insert.ACTION,
                ContactsContract.Contacts.CONTENT_URI);
        i.putExtra(ContactsContract.Intents.Insert.NAME, "Vipul Shah");
        i.putExtra(ContactsContract.Intents.Insert.PHONE, "1234");

        startActivity(i); 
```

任何帮助将不胜感激。

谢谢

![在此处输入图像描述](../Images/96a908492fadd121e633dbbf135c1a68.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:10:43.817

这是因为`ContactsContract`仅存在于 API5+ (Android 2.0) 环境中。

pre-API5 中的相关类被调用[`Contacts`](http://developer.android.com/reference/android/provider/Contacts.html)

```
if (android.os.Build.VERSION.SDK_INT > 5)
    Intent i = new Intent(ContactsContract.Intents.Insert.ACTION,
            ContactsContract.Contacts.CONTENT_URI);
    i.putExtra(ContactsContract.Intents.Insert.NAME, "Vipul Shah");
    i.putExtra(ContactsContract.Intents.Insert.PHONE, "1234");

    startActivity(i);
} else {
    Intent i = new Intent(Contacts.Intents.Insert.ACTION,
             People.CONTENT_URI);
    i.putExtra(Contacts.Intents.Insert.NAME, "Vipul Shah");
    i.putExtra(Contacts.Intents.Insert.PHONE, "1234");

    startActivity(i);
} 
```

# android - 使用正则表达式解析 HLS m3u8 文件

> ID：15265876
> 
> 赞同：4
> 
> 时间：2013-03-07T07:54:54.307
> 
> 标签：android, regex, http-live-streaming, m3u8

我想解析 HLS 主 m3u8 文件并从中获取带宽、分辨率和文件名。目前我正在使用字符串解析来搜索字符串以查找某些模式并执行子字符串以获取值。

示例文件：

```
#EXTM3U
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=476416,RESOLUTION=416x234
Stream1/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=763319,RESOLUTION=480x270
Stream2/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1050224,RESOLUTION=640x360
Stream3/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1910937,RESOLUTION=640x360
Stream4/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=3775816,RESOLUTION=1280x720
Stream5/index.m3u8 
```

但我发现我们可以使用这个问题中提到的正则表达式来解析它： [Problem matching regex pattern in Android](https://stackoverflow.com/questions/3146334/problem-matching-regex-pattern-in-android)

我对正则表达式没有任何想法，所以请有人指导我使用正则表达式来解析它。

或者有人可以帮助我编写正则表达式以从下面的字符串中解析出 BANDWIDTH 和 RESOLUTION 值

```
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=476416,RESOLUTION=416x234 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-07T08:29:30.203

你可以尝试这样的事情：

```
 final Pattern pattern = Pattern.compile("^#EXT-X-STREAM-INF:.*BANDWIDTH=(\\d+).*RESOLUTION=([\\dx]+).*");

    Matcher matcher = pattern.matcher("#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=476416,RESOLUTION=416x234");
    String bandwidth = "";
    String resolution = "";

    if (matcher.find()) {
        bandwidth = matcher.group(1);
        resolution = matcher.group(2);
    } 
```

将带宽和分辨率设置为正确的（字符串）值。

我没有在 android 设备或模拟器上尝试过这个，但从你发送的链接和 android API 来看，它应该与上面的普通旧 java 一样工作。

正则表达式匹配以正确值格式开头`#EXT-X-STREAM-INF:`和包含`BANDWIDTH`并`RESOLUTION`后跟正确值格式的字符串。然后这些在反向引用组 1 和 2 中被反向引用，以便我们可以提取它们。

**编辑：**

如果 RESOLUTION 并不总是存在，那么您可以将该部分设为可选，如下所示：

```
"^#EXT-X-STREAM-INF:.*BANDWIDTH=(\\d+).*(?:RESOLUTION=([\\dx]+))?.*" 
```

该`resolution`字符串将出现`null`在 only 的情况下`BANDWIDTH`。

**编辑2：**

`?`使事情成为可选的，并且`(?:___)`意味着一个被动组（与反向引用组相反`(___)`。所以它基本上是一个可选的被动组。所以是的，它里面的任何东西都是可选的。

A`.`匹配单个字符，而`*`make 表示它将重复零次或多次。所以`.*`将匹配零个或多个字符。我们需要这个的原因是消耗我们匹配的东西之间的任何东西，例如 和 之间的任何`#EXT-X-STREAM-INF:`东西`BANDWIDTH`。有很多方法可以做到这一点，但这`.*`是最通用/最广泛的一种。

`\d`基本上是一组表示数字 ( `0-9`) 的字符，但是由于我们将字符串定义为 Java 字符串，因此我们需要 double `\\`，否则 Java 编译器将失败，因为它无法识别转义字符`\d`（在 Java 中）。相反，它将解析`\\`为`\`，以便我们获得`\d`传递给`Pattern`构造函数的最终字符串。

`[\dx]+`表示字符和中的一个或多个字符 ( `+`) 。将是同一组字符中的单个字符（否）。`0-9``x``[\dx\d]``+`

如果您对正则表达式感兴趣，可以查看[regular-expressions.info](http://regexone.com/)或/和[regexone.com](http://www.regular-expressions.info/tutorial.html)，在那里您会找到所有问题的更深入的答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-03-26T18:47:07.580

你可以只拆分字符串，这就是我在 python 中的意思。

```
fu ="#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=476416,RESOLUTION=416x234"

for chunk in fu.split(':')[1].split(','):
    if chunk.startswith('BANDWIDTH'):
        bandwidth = int(chunk.split('=')[1])
    if chunk.startswith('RESOLUTION'):
        resolution = chunk.split('=')[1] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-28T08:26:02.123

我发现这个可能会有所帮助。
[http://sourceforge.net/projects/m3u8parser/](http://sourceforge.net/projects/m3u8parser/)
（许可证：LGPLv3）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-02T13:34:07.163

您还可以使用：[Python m3u8 解析器。](https://github.com/globocom/m3u8)

下面的例子：

```
import m3u8

playlist = """
#EXTM3U
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=476416,RESOLUTION=416x234
Stream1/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=763319,RESOLUTION=480x270
Stream2/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1050224,RESOLUTION=640x360
Stream3/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1910937,RESOLUTION=640x360
Stream4/index.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=3775816,RESOLUTION=1280x720
Stream5/index.m3u8
"""
_playlist = m3u8.loads(playlist).playlists

for item in _playlist:
    item_uri   = item.uri 
    resolution = item.stream_info.resolution
    bandwidth  = item.stream_info.bandwidth
    print(item_uri ,resolution , bandwidth ) 
```

结果将是：

```
Stream1/index.m3u8 (416, 234) 476416
Stream2/index.m3u8 (480, 270) 763319
Stream3/index.m3u8 (640, 360) 1050224
Stream4/index.m3u8 (640, 360) 1910937
Stream5/index.m3u8 (1280, 720) 3775816 
```

# mongodb - Mongostat 说数据库的锁定百分比很高，但没有进行插入/更新

> ID：15265879
> 
> 赞同：0
> 
> 时间：2013-03-07T07:55:04.387
> 
> 标签：mongodb

我正在尝试解释 mongostat 的结果。

我们正在运行一些仅在数据库上执行读取操作的压力测试。mongostat 的第一列证实了这一点，它每秒报告大约 6K 次查询，0 次插入，0 次更新，0 次删除。

尽管如此，“locked db”字段仍报告数据库在大约 40% 的时间被锁定，大约 130 次排队读取，0 次排队写入。

Mongo 版本是 2.2，在一组 Linux 机器上运行（副本集具有 2 个节点 + 1 个仲裁器）。

你能帮我理解发生了什么吗？我虽然锁定是由于写入，但在我的测试场景中没有写入。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-09-26T03:10:49.647

我认为 MongoDb 使用 Readers-writer lock ，这意味着读取也会同时获得锁，它允许一组读取请求或一个写入请求获得锁。希望能帮到你。

这是 Readers-writer lock 的 wiki 页面。 [http://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock](http://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock)

# visual-studio-lightswitch - 发布 lightswitch 应用程序以使用 MySQL

> ID：15265880
> 
> 赞同：0
> 
> 时间：2013-03-07T07:55:11.973
> 
> 标签：visual-studio-lightswitch, lightswitch-2012

我想发布一个与 MySQL 一起运行的 lightswitch 应用程序。我已经使用 lightswitch 创建了表格。

我为 .Net 安装了 MySQL 连接器

我可以将其附加为外部数据源。但在发布向导中选择数据源时，MySQL 选项不可用。

谢谢你

# html - 在没有 Javascript 的情况下使用 Google Analytics？

> ID：15265883
> 
> 赞同：10
> 
> 时间：2013-03-07T07:55:20.573
> 
> 标签：html, google-analytics

是否可以在不支持 javascript 或任何服务器端脚本的网站上使用 Google Analytics 代码？（*例如，网站上的个人资料页面只允许使用 HTML*）。

我发现通过直接调用跟踪图像并发送一些数据，可以在不使用 javascript 的情况下使用分析代码。我还找到了几个链接，但它们也使用服务器端代码。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-07T12:29:12.520

从技术上讲，是的，因为您需要做的就是向 Google 请求 __utm.gif 并附上合理的查询字符串。这篇关于[Google Analytics 的博文没有 javascript 或 cookie](http://automateeverything.tumblr.com/post/20500736298/google-analytics-without-javascript-or-cookies)很好地概述了 __utm.gif 请求的外观。

Google Analytics 实际上有一个非常标准的[php 实现](https://code.google.com/p/php-ga/)，但我认为您想在没有任何动态语言的情况下执行此操作 - 只需一个静态跟踪像素来注册网页浏览次数？

如果没有动态语言，GA 无法 100% 工作（并且可能根本无法工作）有很多原因。首先，GA 依赖于 javascript（或服务器端语言）来设置用户的 utm cookie，它跟踪有关访问者来源的信息，并帮助关联单次访问的综合浏览量。

由于您可能只想跟踪单个页面的点击次数，我们可能会取消此操作，尽管我不完全确定 GA 是否会使用某种垃圾过滤器自动过滤我们的点击。

但是，话虽如此，如果你想试试这个，我会在页面上放置一个 1x1 的图像，来源如下：

```
http://www.google-analytics.com/__utm.gif?utmwv=5.1.7&utms=1&utmn=1894752493&utmhn=www.lunametrics.com&utmcs=UTF-8&utmsr=1280×1024&utmsc=24-bit&utmul=en-us&utmje=1&utmfl=10.3%20r183&utmdt=Tracking%20QR%20Codes%20with%20Google%20Analytics&utmhid=1681965357&utmr=http%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3Dtracking%2Bqr%2Bcodes%26ie%3Dutf-8%26oe%3Dutf-8%26aq%3Dt%26rls%3Dorg.mozilla%3Aen-US%3Aofficial%26client%3Dfirefox-a&utmp=%2Fblog%2F2011%2F08%2F18%2Ftracking-qr-codes-google-anaytics%2F&utmac=UA-296882-1&utmcc=__utma%3D230887938.1463229748.1317737798.1317737798.1317737798.1%3B%2B__utmz%3D230887938.1317737798.1.1.utmcsr%3Dgoogle%7Cutmccn%3D(organic)%7Cutmcmd%3Dorganic%7Cutmctr%3Dtracking%2520qr%2520codes%3B&utmu=DC~ 
```

您需要稍微调整源以适合您正在跟踪的站点 - 请参阅此[LunaMetrics 帖子](http://www.lunametrics.com/blog/2011/10/04/utmgif-request-parameters/)以供参考。至少，您需要更改 utmhn（主机名）、utmr（推荐人）、utmp（当前 URI）和 utmac（您的 GA 帐号）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-07T12:33:18.230

只需将带有您帐户详细信息的图像指向该站点，您就可以开始了！

公共服务中的 URL 格式为：

```
http://nojsstats.appspot.com/your-google-analytics-user-account/your-website.com 
```

例如：

```
http://nojsstats.appspot.com/UA-123456/your-website.com 
```

示例（HTML 代码）：

```
<img src="http://nojsstats.appspot.com/UA-123456/mywebsite.com" /> 
```

示例（BBCode）：

```
[img]http://nojsstats.appspot.com/UA-123456/mywebsite.com[/img] 
```

示例（CSS 代码）：

```
body{
background: url("http://nojsstats.appspot.com/UA-123456/mywebsite.com");
} 
```

* * *

## 笔记：

```
If your website uses SSL, you have to point to our SSL version:
httpS://nojsstats.appspot.com/UA-123456/yourwebsite.com 
```

**仅当您的网站使用 SSL 时才使用 SSL 版本。** 学分： http: [//nojsstats.blogspot.in/](http://nojsstats.blogspot.in/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-09-05T11:58:46.123

我在试图弄清楚如何在 Google 幻灯片中嵌入分析跟踪时遇到了这个问题。在遵循上述答案中的一些参考资料后，我意识到自从发布原始答案以来情况发生了一些变化。

谷歌现在有它的测量协议，它填补了与`_utm.gif`以前相同的领域。

*   [https://developers.google.com/analytics/devguides/collection/protocol/v1/](https://developers.google.com/analytics/devguides/collection/protocol/v1/)
*   [https://developers.google.com/analytics/devguides/collection/protocol/v1/reference](https://developers.google.com/analytics/devguides/collection/protocol/v1/reference)

官方指南和参考资料比之前的一些答案更完整。

简单地说，发送一个get/post到

```
https://www.google-analytics.com/collect 
```

使用您要设置的所有值（请参阅[大量参考](https://developers.google.com/analytics/devguides/collection/protocol/v1/reference)）

基于此，以及@greg Answer，嵌入的 HTML 可能是（未经测试的）：

```
<link rel='stylesheet' href='https://www.google-analytics.com/collect?utmwv=5.1.7&utms=1&utmn=1894752493&utmhn=www.lunametrics.com&utmcs=UTF-8&utmsr=1280×1024&utmsc=24-bit&utmul=en-us&utmje=1&utmfl=10.3%20r183&utmdt=Tracking%20QR%20Codes%20with%20Google%20Analytics&utmhid=1681965357&utmr=http%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3Dtracking%2Bqr%2Bcodes%26ie%3Dutf-8%26oe%3Dutf-8%26aq%3Dt%26rls%3Dorg.mozilla%3Aen-US%3Aofficial%26client%3Dfirefox-a&utmp=%2Fblog%2F2011%2F08%2F18%2Ftracking-qr-codes-google-anaytics%2F&utmac=UA-296882-1&utmcc=__utma%3D230887938.1463229748.1317737798.1317737798.1317737798.1%3B%2B__utmz%3D230887938.1317737798.1.1.utmcsr%3Dgoogle%7Cutmccn%3D(organic)%7Cutmcmd%3Dorganic%7Cutmctr%3Dtracking%2520qr%2520codes%3B&utmu=DC~' /> 
```

注意：我不喜欢使用`rel='stylesheet'`，但觉得它“最不令人反感”。（参见[HTML 规范](https://html.spec.whatwg.org/multipage/links.html#body-ok)）

# bluetooth - Rn42 蓝牙模块无响应

> ID：15265886
> 
> 赞同：1
> 
> 时间：2013-03-07T07:55:26.497
> 
> 标签：bluetooth, no-response

我想使用 hterm 通过串口向我的 RN42 蓝牙模块发送一些命令。但我没有回应。我可以连接到蓝牙模块并且状态 LED 正确闪烁。我尝试发送 $$$ 以更改为命令模式（模块应以 cmd 响应但不执行任何操作）并发送 0x00 以断开连接。你们知道可能是什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-11T13:58:36.937

我遇到的几件事您可以尝试：

*   确保 hterm 的波特率设置为默认 115k
*   根据 RN42 的固件版本，您可能必须在一分钟内进入命令模式。尝试重启模块并尽快发送 $$$

# javascript - d3.js 重置视口位置

> ID：15265887
> 
> 赞同：1
> 
> 时间：2013-03-07T07:55:29.027
> 
> 标签：javascript, jquery, d3.js

我使用 dagre 和 d3 来显示图表。可以拖动和缩放图形元素和视口。每当我重绘图形（或绘制另一个图形）时拖动/缩放视口后，视口保持在之前设置的位置，但在第一次交互时重置（跳转到 [0,0] 和默认缩放比例）。

如何使用函数调用在 d3 中重置视口的位置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T00:14:43.913

Dagre 作者在这里 - 你使用的是 dagre 演示还是这个自定义代码？如果您使用的是 dagre 演示，我可以确认您正在观察的行为，解决方法是添加以下行：

`svgGroup.attr("transform", "translate(5, 5)");`

在此代码块之前（dagre/demo.js，我的树中的第 252 行）：

```
svg.call(d3.behavior.zoom().on("zoom", function redraw() {
    svgGroup.attr("transform",
          "translate(" + d3.event.translate + ")"
          + " scale(" + d3.event.scale + ")");
})); 
```

我已经更新了这张票下源代码中的演示：[https ://github.com/cpettitt/dagre/issues/56](https://github.com/cpettitt/dagre/issues/56)

谢谢！

# ipv6 - IPv6中的/64是什么意思

> ID：15265893
> 
> 赞同：23
> 
> 时间：2013-03-07T07:56:10.547
> 
> 标签：ipv6

我有带 ipv6 的 vps，比如

```
2605:6f00:XXX::XXXX:XXXX/64 
```

我不明白 /64 的含义。这是否意味着我的 vps 有多个 ipv6 地址？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-03-07T08:50:31.913

/64 是前缀长度。地址中的位数是固定的。所以 /64 表示 128 位 IPv6 地址的前 64 位是固定的。其余位（在本例中为 64）是灵活的，您可以使用所有这些位。这意味着当您的 ISP 给您 /64 时，他们给您 2 ^(64 个)地址（即 18,446,744,073,709,551,616 个地址）。

IPv6 有几种常见的前缀长度。/64 是单个 LAN 的大小。作为客户，您经常从您的 ISP 获得 /56（256 个 LAN）或 /48（65,536 个 LAN）。然后，您可以创建多个 LAN，每个 LAN 需要 /64。

确切的数字取决于 ISP 的情况和选择。在数据中心中，单个 /64 足以用于具有单个 VLAN 或单个服务器（可能具有虚拟化）的简单部署。具有多个 LAN 的数据中心部署（例如防火墙的上行链路 VLAN、DMZ 和一个或多个 Internet 网络，或用于 VPN 集中器）需要超过 /64。住宅连接（DSL、FttH 等）通常使用 /56 或 /48，以便用户可以拥有多个 LAN（家庭、办公室、客人等）。业务联系总是获得 /48，以便他们可以使用可用空间来构建良好的寻址/编号计划。

编辑：再次查看您的示例，我发现您明确指定了地址的最后 64 位。这也可能意味着您的 ISP 在 ISP 运营的共享 /64 (LAN) 中为您提供了*一个*IPv6 地址。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T07:58:19.277

/64 is the CIDR prefix length. This means that your VPS has a subnet with 64 bits of prefix, and 64 bits of local addresses.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-07T08:02:19.373

是的，您通常拥有不止一个 IPv6 地址。通常，您的提供商会为您提供 /64，这是一个地址范围，其中前 64 位是恒定的，其余的是供您处置的。

通常您甚至会得到 /56，即地址数的 256 倍。如果您将网络分成子网，这很有帮助。

# matlab - 在具有特定条件的矩阵中查找值

> ID：15265894
> 
> 赞同：0
> 
> 时间：2013-03-07T07:56:11.017
> 
> 标签：matlab, matrix

如何在特定条件下找到矩阵中的值。例如，

```
a=[-3.14,2.12,-5,3,6,7];

b=find(a>0) 
```

这将返回具有“> 0”条件的矩阵索引，即 b = 2 4 5 6。

在这种情况下，我们是否有任何解决方案可以在矩阵中找到实际值，例如返回 b= 2.12 3 6 7 ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T08:04:11.550

你甚至可以跳过查找部分：

```
whatyouwant = a(a>0); 
```

这在Matlab中称为逻辑索引......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T08:02:20.287

您可以执行以下操作

```
a = [-3.14,2.12,-5,3,6,7];

b = find(a>0)

c = a(b) 
```

然后`c`将是基于中的索引选择的值`b.`

希望能帮助到你！

# c# - Sort files in ascending order

> ID：15265896
> 
> 赞同：0
> 
> 时间：2013-03-07T07:56:18.493
> 
> 标签：c#, winforms, list, fileinfo

I have project that converts a pdf to tif image files. And the out put files are numbered in the form. file1, file2, file3.......file20. When I do the code below to get the files, they are arranged in the list as shown below which is not correct. Any ideas how to go around this?

```
FileInfo[] finfos = di.GetFiles("*.*");

finfos[0]=file1

finfos[1]=file10

finfos[2]=file11

finfos[3]=file12

....
...................

finfos[4]=file19

finfos[5]=file2

finfos[6]=file20

finfos[7]=file3

finfos[7]=file4 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:32:30.210

如果所有文件都已命名`mypic<number>.tif`并且目录中没有具有不同名称格式的文件，请尝试以下操作：

```
 FileInfo[] orderedFI = finfos
            .OrderBy(fi => 
                // This will convert string representation of a number into actual integer
                int.Parse(
                    // this will extract the number from the filename
                    Regex.Match(Path.GetFileNameWithoutExtension(fi.Name), @"(\d+)").Groups[1].Value
                    ))
            .ToArray(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:00:14.793

如果它们是按创建日期排序的。

这是使用 List 解决您的问题的方法

```
class Program
{
    private static int CompareWithNumbers(FileInfo x, FileInfo y)
    {
        if (x == null)
        {
            if (y == null)
            {
                // If x is null and y is null, they're 
                // equal.  
                return 0;
            }
            else
            {
                // If x is null and y is not null, y 
                // is greater.  
                return -1;
            }
        }
        else
        {
            // If x is not null... 
            // 
            if (y == null)
            // ...and y is null, x is greater.
            {
                return 1;
            }
            else
            {

                int retval = x.CreationTime<y.CreationTime?-1:1;
                return retval;          

            }
        }
    }
    static void Main(string[] args)
    {
        DirectoryInfo di = new DirectoryInfo("d:\\temp");
        List<FileInfo> finfos = new List<FileInfo>();
        finfos.AddRange(di.GetFiles("*"));
        finfos.Sort(CompareWithNumbers);

        //you can do what ever you want
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:57:01.893

前导零可能是您的解决方案。如果您控制生成文件的代码，则从您的描述中不清楚。如果不是，您可以使用一种方法来匹配 file1,... file9（即正则表达式或文件名长度）并重命名它们。如果您控制代码，则使用格式化程序将数字转换为带有前导零的字符串（即 2 位数字 {0:00}）。

编辑：

使用以下草稿样本获得指导：

假设您在执行目录中有以下文件：file1.txt、file2.txt、file10.txt 和 file20.txt

```
foreach (string fn in System.IO.Directory.GetFiles(".", "file*.*"))
  if (System.Text.RegularExpressions.Regex.IsMatch(fn, @"file\d.txt"))
    System.IO.File.Move(fn, fn.Replace("file", "file0")); 
```

上面这段代码会将file1.txt重命名为file01.txt，将file2.txt重命名为file02.txt。

# java - How to handle different type of clients in Netty 4.0

> ID：15265897
> 
> 赞同：0
> 
> 时间：2013-03-07T07:56:22.020
> 
> 标签：java, netty

For a server using Netty 4.0,

1) Can i use one handler to handle data coming from clients which are developed in different languages?(for example : c#, flash, objective-c, javascript)

2) Should i use ChannelInboundByteHandler or ChannelInboundMessageHandler for the above situation?

thank you..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:31:13.247

1）是的，您可以使用单个处理程序来处理来自不同客户端的数据。

如果您的服务器处理客户端发送的行字节，那么您可以在服务器端进行处理，但如果它们正在发送对象，那么您应该在服务器端创建适当的对象。

[您可以从http://www.znetdevelopment.com/blogs/2009/04/21/netty-using-handlers/](http://www.znetdevelopment.com/blogs/2009/04/21/netty-using-handlers/)清楚地了解处理程序

2）第二个问题的答案取决于您的要求，您可以根据您的要求使用其中任何一个。

# java - Logging with objects using Logback with SocketAppender

> ID：15265902
> 
> 赞同：1
> 
> 时间：2013-03-07T07:56:33.853
> 
> 标签：java, logback

I'm trying to use [SocketAppender](http://logback.qos.ch/manual/appenders.html) to log events to a socket server.

The thing I need to send is a custom log object. However it seems as if all the objects are sent as Strings using toString.

Read about it here:

*   [http://jira.qos.ch/browse/LOGBACK-631](http://jira.qos.ch/browse/LOGBACK-631)
*   [http://logback.qos.ch/xref/ch/qos/logback/classic/spi/LoggingEventVO.html](http://logback.qos.ch/xref/ch/qos/logback/classic/spi/LoggingEventVO.html) (writeObject)

Anyone know how to deal with this? Any suggestions?

Do I have to parse the String and build the object on the server? I am using Logback so that I can add other appenders than the SocketAppender.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T01:32:51.043

我的建议是：

*   [使用fastjson](http://code.alibabatech.com/wiki/display/FastJSON/Home)将您的对象转换为 json 字符串；
*   将 json 字符串传递给 logback 函数调用；
*   解析字符串并在服务器上重建对象；

# php - PHP 开始标签和 XML 声明

> ID：15265905
> 
> 赞同：2
> 
> 时间：2013-03-07T07:56:50.363
> 
> 标签：php, xml, phpstorm

我是**PhpStorm**的新手，在 .php 文件上声明 xml 时遇到了一个问题，我正在谈论的问题是 PhpStorm`<? ?>`将短开始标签称为 php 开始标签，而我在 php.ini 中设置了**short_open_tag = Off** **。初始化**_

如何设置 PhpStorm 使其**不会**将短 php 开始标签称为 php 开始标签？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-07T10:38:53.730

PHPStorm 目前还没有任何设置（参见[WI-2059 add "Disable short tags" option to project's options](http://youtrack.jetbrains.com/issue/WI-2059)）。

所以到目前为止你还不能设置。您所能做的就是以不冲突的方式编写代码，例如通过回显 XML 声明处理指令：

```
<?php echo '<?xml version="1.0" encoding="utf-8" ?>' ?> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2019-02-13T09:00:43.890

变量，回声。嗯。为什么不简单...

```
<<?php ?>?xml version="1.0" encoding="utf-8" ?> 
```

没有混乱，没有来自 PHPStorm 之类的抱怨。基本上，您甚至可以使用 just`<??>`而不是，如果`<?php ?>`您不需要涵盖.`on``off``short_open_tag`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T09:52:33.100

只需将您的 XML 放入一个变量中并输出它：

```
<?php
$xml = <<<XML
  <?xml version="1.0" encoding="utf-8" standalone="yes" ?>
  <T3locallang>
    <meta type="array">
        <description>CSH for Content Elements Table.</description>
        <type>CSH</type>
        <csh_table>tt_content</csh_table>
    </meta>
  </T3locallang>
XML;

echo $xml;
?> 
```

PhpStorm，AFAIK 没有其他解决方案。

# c# - I can't match a simple username with regex?

> ID：15265909
> 
> 赞同：2
> 
> 时间：2013-03-07T07:56:58.110
> 
> 标签：c#, regex

It's very simple:

```
Match match = Regex.Match(username, @"/^[a-z0-9_-]{3,16}$/", RegexOptions.IgnoreCase);
if (!match.Success)
    throw new Exception("Manglende/ugyldig brukernavn."); 
```

But no matter what it fails that test. What am I forgetting?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T07:58:57.593

Don't put slashes around the regex:

```
@"^[a-z0-9_-]{3,16}$" 
```

The slashes are typically used in other languages to delimit a regex. But in C#, the entire string is the pattern so additional delimiters are not required.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:01:37.560

您不需要`/ /`in .net 正则表达式。

# regex - As3 Regex or alternative to split strings

> ID：15265911
> 
> 赞同：0
> 
> 时间：2013-03-07T07:56:59.730
> 
> 标签：regex, actionscript-3, replace, split

i have a html page , i use regex to remove all html tags from the page and extract the text using the below code.

```
var foo = loader.data.replace(/<.*?>/g, "");
var bar:Array = foo.split("Total");
foo = foo.split(bar[0]);
trace(foo); 
```

And using the same code lines below the replace method i remove every string before the word **"TOTAL"**. It does the job perfectly but now i want to apply and other split to get contents after **"TOTAL"** and remove the Content after **"BYTES"**.

So when i try to split it up again with

```
var bar2:Array = foo.split("BYTES");
foo = foo.split(bar2[0]); 
```

Flash returns a error saying SPLIT is a not a valid method :S I tried several other ways , ( REPLACE ) but still flash produces errors.

Can Anyone help me to get through this ? Thank you

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:06:56.953

“.split()”是String的一种方法。当您完成以下作业时：

```
foo = foo.split(bar[0]); 
```

foo 变成了一个数组，因此调用

```
var bar2:Array = foo.split("BYTES"); 
```

正在制作一个无效的数组（没有这种方法）

你想要的是这样的：

```
var foo = loader.data.replace(/<.*?>/g, "");
trace(foo);
var result = foo.split("Total")[1].split("BYTES")[0];
trace(result); 
```

# asp.net - ValidationExpression for a special date format

> ID：15265916
> 
> 赞同：2
> 
> 时间：2013-03-07T07:57:19.593
> 
> 标签：asp.net, regex, validation, date

I need to use the `RegularExpressionValidator`. It has to check the correct format. I have found this nice working expression:

```
^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$ 
```

But I need this Expression not for `dd/mm/yyyy`. My date format should be `dd.mm.yyyy`.

How to transform this expression?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:08:00.493

看起来唯一需要改变的就是一切都`\/`应该`\.`如此

```
^(((0[1-9]|[12]\d|3[01])\.(0[13578]|1[02])\.((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\.(0[13456789]|1[012])\.((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\.02\.((19|[2-9]\d)\d{2}))|(29\.02\.((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T08:13:10.260

试试看

```
/^(?:(0[1-9]|1[012])[\. \/.](0[1-9]|[12][0-9]|3[01])[\. \/.](19|20)[0-9]{2})$/ 
```

或者

```
^((((0?[1-9]|[12]\d|3[01])[\.\-\/](0?[13578]|1[02])[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|((0?[1-9]|[12]\d|30)[\.\-\/](0?[13456789]|1[012])[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|((0?[1-9]|1\d|2[0-8])[\.\-\/]0?2[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|(29[\.\-\/]0?2[\.\-\/]((1[6-9]|[2-9]\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00)))|(((0[1-9]|[12]\d|3[01])(0[13578]|1[02])((1[6-9]|[2-9]\d)?\d{2}))|((0[1-9]|[12]\d|30)(0[13456789]|1[012])((1[6-9]|[2-9]\d)?\d{2}))|((0[1-9]|1\d|2[0-8])02((1[6-9]|[2-9]\d)?\d{2}))|(2902((1[6-9]|[2-9]\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00))))$ 
```

# javascript - Working with IE but not with chrome

> ID：15265919
> 
> 赞同：1
> 
> 时间：2013-03-07T07:57:34.020
> 
> 标签：javascript

Hi below is the javascript code that iam using to display an image in webpage.

```
 <a href="/LogoSnapShot/LogoSnapShot_nonjs.html" target="_new" onclick="return    OpenLogoSnapShot();">
  <script language="JavaScript">
  function altimg(sourceimg) {
  var img_with_logo=sourceimg.src;
  sourceimg.src=img_with_logo.substring(0,img_with_logo.search("BUYL")+4)+".jpg";
  sourceimg.onerror=null;
  }
  </script>
  <img id=prodImg name=ProdImage1 id=ProdImage1   src="http://ocs.landsend.com/OCS/corpsales/images/prod/17/67/176819DTKBUYL.jpg" onError="altimg(this);" width=250 height=250 alt="" border="0">
  </a> 
```

'-' symbol is being displayed beside the image in chrome but it is fine in IE. Can anyone help me with it?

# php - 使用PHP的excel中的单元格边框

> ID：15265923
> 
> 赞同：0
> 
> 时间：2013-03-07T07:57:44.573
> 
> 标签：php, excel

我正在使用干净的 php 来绘制 excel 表：

```
$xls .= "Field\t\Cell1\t\Cell2\tCell3\r\n"
$xls .= chr(hexdec('FF')) . chr(hexdec('FE')) . $xls; //headers
echo $xls; 
```

有什么方法可以在不使用 excel-library 的情况下绘制单元格边框？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:09:56.123

Excel 具有处理纯 HTML 表格的知识。这将从 excel 生成警告，但如果您继续，它将显示一个带有边框/颜色/等的表格。

```
<?
header('Content-Type: application/vnd.ms-excel');
?>
<table border='1'>
<tr>
  <td style='background-color:#f00;'>header</td>
  <td style='background-color:#f00;'>header</td>
</tr>
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T07:59:01.820

不，您无法控制 CSV 文件中的格式。

Excel 接受多种格式，所以如果你不想打破[phpexcel](http://phpexcel.codeplex.com/)，你可以创建一个[SpreadsheetML](http://msdn.microsoft.com/en-us/library/office/bb226687%28v=office.11%29.aspx)文件。这是一种与 html 非常相似的格式，您可以在其中控制很多格式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T08:07:31.333

如果您真的想在 Excel 中输出几乎所有可能的 Excel 文件，您应该使用以下易于使用的 PHP 类集：

[http://phpexcel.codeplex.com/](http://phpexcel.codeplex.com/)

# visual-studio-2010 - 使用microsoft vs2010进行CUDA调试

> ID：15265926
> 
> 赞同：0
> 
> 时间：2013-03-07T07:57:47.347
> 
> 标签：visual-studio-2010, cuda

当我调试 cuda(v 5.0) 代码时：

![](../Images/17541c2ef95d1047bdc13d115f2731f9.png)

例如添加两个向量我看不到调试详细信息，例如块 idx、warp 索引

![](../Images/78fa4b6842e5e76dec93caa8ad318fef.png)

显示在[nvidia nsight 站点](https://developer.nvidia.com/nvidia-nsight-visual-studio-edition)中），我只能看到 c 程序中显示的本地、调用堆栈、...。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:14:15.590

问题是您在主机代码中设置了断点，但在设备代码中没有断点。
使用常规 VS 调试器进行调试时，调试器将在主机代码中命中断点，但在设备代码中不会。
使用 CUDA 调试器进行调试时，调试器将在设备代码中命中断点，但在主机代码中不会。

# python - how to replace Django 1.5 depth with the use of the fields

> ID：15265928
> 
> 赞同：2
> 
> 时间：2013-03-07T07:57:50.283
> 
> 标签：python, django

Deprecated in Django 1.5: The depth parameter to select_related() has been deprecated. You should replace it with the use of the (*fields) listing specific related fields instead as documented above. A depth limit of relationships to follow can also be specified:

```
b = Book.objects.select_related(depth=1).get(id=4)
p = b.author         # Doesn't hit the database.
c = p.hometown 
```

how to replace iDjango 1.5 depth with the use of the (*fields)?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:40:54.903

in this specfic case

```
b = Book.objects.select_related("author", "hometown").get(id=4) 
```

I suppose so many peoples get unused objects by using the depth parameter.

If you commonly use a given `select_related` with many fields, you may want to make a custom QuerySet to add it automaticaly with a custom method (something like `qs.usually_related()`)

To add this kind of feature, you may want to follow this cool answer:

[https://stackoverflow.com/a/2163921/267364](https://stackoverflow.com/a/2163921/267364)

# c# - unable to register custom Dll using regasm

> ID：15265932
> 
> 赞同：1
> 
> 时间：2013-03-07T07:58:17.193
> 
> 标签：c#, dll, windows-7, agent, regasm

I have a custom dll which used to register in winXP , now i want to use the same in win7 but i am not able to register with regasm .

I get an error saying one of the dependencies is missing .

Although i have added that expilcitly and it is also added automatically with test agent 2010 ,

```
"Microsoft.VisualStudio.QualityTools.CodedUITestFramework.dll" 
```

i tried registering the above assembly manually , but that also was unsuccessfull.Error for this was "No types registered".

Can someone please advise.

# zend-framework - sending mail using gmail SMTP and OAuth2.0

> ID：15265943
> 
> 赞同：1
> 
> 时间：2013-03-07T07:59:13.737
> 
> 标签：zend-framework, smtp, gmail

I got struck with this error for past 2 days of time. The objective is simple. I tried out sending emails using gmail smtp oauth and zend mailer for this work. I got this error

> Fatal error: Uncaught exception 'Zend_Mail_Protocol_Exception' with message '5.5.2 Cannot Decode response iv3sm786895pbc.40 - gsmtp ' in /opt/lampp/htdocs/salaikumar/handmadeimap-master/gmailoauthexample/Zend/Mail/Protocol/Abstract.php:431
> 
> Stack trace: #0 /opt/lampp/htdocs/salaikumar/handmadeimap-master/gmailoauthexample/Zend/Mail/Protocol/Smtp.php(265): Zend_Mail_Protocol_Abstract->_expect(250, 300)
> 
> :#1 /opt/lampp/htdocs/salaikumar/handmadeimap-master/gmailoauthexample/Zend/Mail/Transport/Smtp.php(207): Zend_Mail_Protocol_Smtp->mail('saravanan1115@g...')
> 
> :#2 /opt/lampp/htdocs/salaikumar/handmadeimap-master/gmailoauthexample/Zend/Mail/Transport/Abstract.php(348): Zend_Mail_Transport_Smtp->_sendMail()
> 
> :#3 /opt/lampp/htdocs/salaikumar/handmadeimap-master/gmailoauthexample/Zend/Mail.php(1194): Zend_Mail_Transport_Abstract->send(Object(Zend_Mail))
> 
> :#4 /opt/lampp/htdocs/salaikumar/handmadeimap-master/gmailoauthexample/send.php(292): Zend_Mail->send(Object(Zend_Mail_Transport_Smtp))
> 
> :#5 /opt/lampp/htdocs/salaikumar/handmadeimap-mas in /opt/lampp/htdocs/salaikumar/handmadeimap-master/gmailoauthexample/Zend/Mail/Protocol/Abstract.php on line 431

Any one help me out with this? I referred this blog to create a Xoauth.php [http://piecewiseinc.blogspot.in/2013/02/send-mail-with-gmail-smtp-and-xoauth.html](http://piecewiseinc.blogspot.in/2013/02/send-mail-with-gmail-smtp-and-xoauth.html). I saw a same post about this in over here. But this is dint help out. [Problems sending an email to google's SMTP server (with own php script)](https://stackoverflow.com/questions/13123014/problems-sending-an-email-to-googles-smtp-server-with-own-php-script).

# java - Java EE - 具有许多 Web 应用程序的应用程序服务器的 JVM

> ID：15265945
> 
> 赞同：1
> 
> 时间：2013-03-07T07:59:17.850
> 
> 标签：java, jakarta-ee, jvm

我很难用谷歌搜索这个，所以我希望有人能给我一些启示。如果我的问题没有解决，请让我朝着正确的方向前进。

我有两个网络应用程序。它们托管在一个 Tomcat 服务器实例中。每个都可以使用相同的端口访问。

服务器的 JVM 是什么样子的？服务器是否包含两个不同的 JVM 实例，每个 Web 应用程序一个。先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T04:06:54.803

AppServer 在一个 JVM 上运行。它经过优化以运行多个应用程序，并且以线程方式完成。请注意，我不考虑在此答案中进行聚类。

AppServer 接受一个请求，它检查它的场以查看 Web 应用程序是否存在，如果它确实存在，则检查它的 web.xml 以检查所请求的 servlet 的路径是否存在。如果一切顺利，AppServer 会生成一个新线程（或使用线程池中的现有线程，该线程可在 AppServer 级别进行配置）并分配线程来处理 servlet，从而满足用户的需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:01:57.200

如果它们托管在一个 Tomcat 实例上，那么它们将在同一个 JVM 上运行。

# iphone - 为什么在使用 lldb 进行调试时有时“self”不可用？

> ID：15265949
> 
> 赞同：14
> 
> 时间：2013-03-07T07:59:45.367
> 
> 标签：iphone, ios, objective-c, llvm, lldb

很多时候（不是每次）当我尝试在 lldb 上打印对象时都会出现以下错误。是否有一些构建/调试配置要更改，或者这是 lldb 内部的错误？

```
(lldb) po userLevel
error: warning: Stopped in an Objective-C method, but 'self' isn't available; pretending we are in a generic context
error: use of undeclared identifier 'userLevel'
error: 1 errors parsing expression 
```

我使用 llvm 构建并且不剥离调试符号。

编辑：这是回溯：

```
(lldb) bt
* thread #1: tid = 0x1c03, 0x001169c5 FanCake-Beta`-[KWUserLevelController addPoints:](, _cmd=0x0029187b, points=15) + 179 at KWUserLevelController.m:53, stop reason = step over
    frame #0: 0x001169c5 FanCake-Beta`-[KWUserLevelController addPoints:](, _cmd=0x0029187b, points=15) + 179 at KWUserLevelController.m:53
    frame #1: 0x00112172 FanCake-Beta`-[KWEventRealTimeControllergameEngine:hostedGame:didSucceedIn:withScore:](self=0x0b9d7740, _cmd=0x0027a2a7, engine=0x1be5af40, game=0x1be5a850, completionTime=3.59473554800206, score=0) + 421 at KWEventRealTimeController.m:647
    frame #2: 0x0007189a FanCake-Beta`__35-[KMCatchEmGameEngine animateStep6]_block_invoke197(, finished='\x01') + 257 at KMCatchEmGameEngine.m:214
    frame #3: 0x01990df6 UIKit`-[UIViewAnimationBlockDelegate _didEndBlockAnimation:finished:context:] + 223
    frame #4: 0x01983d66 UIKit`-[UIViewAnimationState sendDelegateAnimationDidStop:finished:] + 237
    frame #5: 0x01983f04 UIKit`-[UIViewAnimationState animationDidStop:finished:] + 68
    frame #6: 0x017587d8 QuartzCore`CA::Layer::run_animation_callbacks(void*) + 284
    frame #7: 0x03634014 libdispatch.dylib`_dispatch_client_callout + 14
    frame #8: 0x036247d5 libdispatch.dylib`_dispatch_main_queue_callback_4CF + 296
    frame #9: 0x04737af5 CoreFoundation`__CFRunLoopRun + 1925
    frame #10: 0x04736f44 CoreFoundation`CFRunLoopRunSpecific + 276
    frame #11: 0x04736e1b CoreFoundation`CFRunLoopRunInMode + 123
    frame #12: 0x040367e3 GraphicsServices`GSEventRunModal + 88
    frame #13: 0x04036668 GraphicsServices`GSEventRun + 104
    frame #14: 0x01945ffc UIKit`UIApplicationMain + 1211
    frame #15: 0x000039a8 FanCake-Beta`main(argc=1, argv=0xbffff354) + 94 at main.m:13
    frame #16: 0x00002dc5 FanCake-Beta`start + 53 
```

编辑 2：当我尝试打印本地变量时也是如此

```
(lldb) po currentUser
error: variable not available 
```

如果我在代码中放入一些 NSLog() ，则正确的值正在打印。但不是用`po`命令。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-08T03:16:37.963

当我打开编译器优化时，我通常会收到此错误。编译器将生成不一定遵循您的代码逻辑流程的代码。

在导航器中转到您的项目 -> 目标 -> 构建设置 -> 搜索优化级别 -> 展开优化级别 -> 选择调试行 -> 在项目和目标的两列中更改为无。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-07T20:04:27.623

我遇到了这个问题，当我编辑我的方案并将运行构建设置为调试时它就消失了。我已经将它设置为 AdHoc 来测试推送通知，这显然让 LLDB 不高兴。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-08T04:08:30.463

因为它被优化了。让我们举个例子：

```
void f(int self) {
  // Here, "self" is live:Its value is used in the call to NSLog()
  NSLog(@"I am %d",self);
  // Here, "self" is dead: Its value is never used.
  // I could do self=0 or self=self*self and nobody would know.
  // An optimizing compiler will typically optimize it away.
  // It might still be on the stack (in the parameters passed to NSLog())
  // but the compiler shouldn't assume this.
  NSLog(@"Another function call: %d", 1);
  // If "self" was on the stack, it will probably now have been overwritten.
} 
```

编译器做了很多事情来让你的代码更快/更小；忘记不再需要的变量是一种非常常见的优化。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-05-05T11:19:45.130

正如在另一个[问题](https://stackoverflow.com/questions/15844719/self-not-available-in-debugger-on-ios-5-1)中已经说过的：

在构建设置中，将 Precompile Prefix Header 设置为 NO 为我修复了它。

# c# - 安装在虚拟机上并指向 sql 2008 R2 数据库的 C# 应用程序不起作用

> ID：15265953
> 
> 赞同：0
> 
> 时间：2013-03-07T08:00:02.990
> 
> 标签：c#, sql-server-2008-r2, virtual-machine

我在虚拟机上安装了 ac# 应用程序，当我将其指向 sql 2005 或 2012 数据库时，该应用程序工作正常，但当我将其指向 sql 2008 R2 数据库时，它会出现以下错误：

> “错误启动应用程序：System.NullReferenceException：对象引用未设置为对象的实例。”

使用 sql 2005 或 2012 时没有此错误。

# sql - oracle 10g如何创建无密码用户？

> ID：15265955
> 
> 赞同：2
> 
> 时间：2013-03-07T08:00:06.310
> 
> 标签：sql, oracle10g

我正在尝试通过使用查询来创建没有任何密码的用户-

```
create user abc;
create user 'abc'@'localhost'; 
```

但它们都不起作用。在 oracle 文档中给出了通过不包含 IDENTIFIED BY 子句来创建没有密码的用户是有效的。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T08:04:30.230

要么使用：

*   甲骨文钱包。通过密码识别用户，但不手动提示密码。
*   外部认证。创建外部标识的用户 XY；用户 XY 必须在 DB 服务器上拥有 OS 帐户。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-07T13:08:41.747

you can create user without password by using externally keyword OS authentication of that user is used as password,user should have access permission on database .

# android - Google plus：用户个人资料信息中没有姓名

> ID：15265961
> 
> 赞同：0
> 
> 时间：2013-03-07T08:00:22.530
> 
> 标签：android, google-plus

我在我的应用程序中添加了 Google+ 登录，一旦我有了帐户名，我想通过这种方式获取基本的用户个人资料信息：

```
URL url = new URL("https://www.googleapis.com/oauth2/v1/userinfo");
//get Access Token with Scopes.PLUS_PROFILE
String sAccessToken = GoogleAuthUtil.getToken(mActivity.this,
                        mPlusClient.getAccountName() + "",
                        "oauth2:" + Scopes.PLUS_PROFILE
                        + " https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email");
                        urlConnection = (HttpURLConnection) url.openConnection();
urlConnection.setRequestProperty("Authorization", "Bearer "
        + sAccessToken);
BufferedReader r = new BufferedReader(new InputStreamReader(
        urlConnection.getInputStream(), "UTF-8"));
StringBuilder total = new StringBuilder();
String line;
while ((line = r.readLine()) != null) {
    total.append(line);
}
line = total.toString(); 
```

它通常会给我这些细节：

> “id” “email” “give_name” “family_name” “name” “link” “verified_email” “gender” “locale” “picture”

但是在测试时，我使用`firstName`和创建了一个新的 Google 帐户`LastName`。它已显示在我的 Google+ 帐户上。

但是，当我使用此帐户名为用户信息调用相同的 API 时，我得到：

> {“id”：“xxxxxxxxxxxxxxxxxxxxxxxx”，“email”：“xxxxxx@gmail.com”，“verified_email”：true，“locale”：“en”}

与名字无关。

这种情况有什么解决办法吗？

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:53:44.033

对于 Google+ 登录，您不想稍有不同。而不是点击 userinfo 端点，而是点击 Google+ 个人资料端点：[https://developers.google.com/+/api/latest/people/get](https://developers.google.com/+/api/latest/people/get)。在 Android 上，这就像在 Google Play 服务中调用 PlusClient 中的辅助方法一样简单： mPlusClient.loadPerson(this, "me");

使用“我”作为用户 ID 将返回当前登录用户的个人资料，其中包括显示名称。

您拥有的范围将起作用，但您不需要 userinfo.profile，您可以将 PLUS_PROFILE 更改为 PLUS_LOGIN 以获得更多灵活性！

查看更新的登录文档以获取更详细的示例：[https](https://developers.google.com/+/mobile/android/sign-in) ://developers.google.com/+/mobile/android/sign-in和[https://developers.google.com/+/mobile/android /people#retrieve_profile_information](https://developers.google.com/+/mobile/android/people#retrieve_profile_information)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T01:46:01.957

您是否按照[此处](https://developers.google.com/+/mobile/android/getting-started)列出的步骤在 Google API 控制台中注册您的数字签名 .apk 文件的公共证书？

# javascript - 将视图渲染为 JavaScript

> ID：15265962
> 
> 赞同：2
> 
> 时间：2013-03-07T08:00:24.680
> 
> 标签：javascript, asp.net-mvc

我目前有一个页面，可以在其中呈现`<divs>`. 可以从 /mylist?username=xxxxx 访问该视图。

现在，我希望每个成员都将此视图嵌入到他们自己的站点中。

理想情况下，我希望成员简单地复制和粘贴一段 javascript 代码，并将源代码指向我：

```
<script src="http://mysite.com/mylist?username=xxxxx"></script> 
```

但为了使其工作，/mylist?username=xxxxx 返回/生成的值需要是有效的 JavaScript。

如何让我的视图呈现到 JavaScript？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:02:34.513

[`JavaScriptResult`](http://msdn.microsoft.com/en-us/library/system.web.mvc.javascriptresult%28v=vs.108%29.aspx)你可以从你的控制器动作中返回一个：

```
public ActionResult Mylist()
{
    return JavaScript("alert('Hello World');");
} 
```

或返回一个包含 javascript 的视图：

```
public ActionResult Mylist()
{
    MyViewModel model = ...
    model.Message = "foo bar";
    Response.ContentType = "text/javascript";
    return View(model);
} 
```

然后你可以有一个包含javascript的相应视图：

```
@model MyViewModel
alert(@Html.Raw(Json.Encode(Model.Message))); 
```

# mysql - MySQL 触发器。我应该使用 INSERT 还是 UPDATE

> ID：15265963
> 
> 赞同：0
> 
> 时间：2013-03-07T08:00:28.330
> 
> 标签：mysql, triggers

我有一个名为 members 的表，其中有一个名为 ref (varchar 50) 的字段等。此表中出现了某些带有特定参考“TESTREF”的插入

基本上我需要的是用这个 ref 插入一条记录，然后 ref 应该更改为另一个“NEWREF”

我相信我需要在表上创建一个前触发器（已经有一个后触发器将数据移动到另一个表），但我不确定是否应该在参考上使用 UPDATE 或 INSERT 命令。

正确的语法是

```
 BEGIN
IF (NEW.ref = 'TESTREF') THEN
SET NEW.ref = 'NEWREF';
END IF;
END 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:40:36.323

如果此值仅在插入新记录时更改，则使用 BEFORE INSERT。我假设稍后更新记录时，不会将 ref 字段设置回 TESTREF。

# jquery - jquery为幻灯片设置自己的css-preloader

> ID：15265967
> 
> 赞同：0
> 
> 时间：2013-03-07T08:00:59.317
> 
> 标签：jquery, css

我使用 css 创建了一个预加载器。我想在预加载器完成后在幻灯片中显示图像。预加载完成后，图像应该会平滑淡入。这是我的代码结构。

```
<!DOCTYPE html>
<html>
<head>
    <style>
        #container{
            display: block;
            margin: 0px auto;
        }
        #preloader {
            margin:10px;
            width:300px;
            height:1px;
            background:#e1e1e1;
        }
        .fillcolour {
            width:300px;
            height:1px;
            background:#888888;
            position:absolute;
            -moz-animation:fullexpand 5s ease-out;
            -webkit-animation:fullexpand 5s ease-out;
        }
        @-moz-keyframes fullexpand {
            0%  { width:0px;}
            100%{ width:175px;}
        }
        @-webkit-keyframes fullexpand {
            0%  { width:0px;}
            100%{ width:175px;}
        }
    </style>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#preloader').fadeOut(2000);
            $('#container').css({'display':'block'}).fadeIn(3000);
        });
        $(window).load(function(){
            /*$('#preloader').fadeOut(2000).css({'opacity':0});
            $('.fillcolour').fadeOut(2000).css({'opacity':0});
            $('#container').css({'display':'block'}).fadeIn(3000);*/
        });
    </script>
    </head>
    <body>
    <div id="container" style="display:none;">
        <img src="1.jpg" style="width:300px;height:200px;"/>
    </div>
    <div id="preloader">
        <span class="fillcolour"></span>
    </div>
    </body>
</html> 
```

任何人都可以帮忙吗？请！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:12:12.770

当您想要一个有序的拨打电话时，当一个操作完成时另一个开始。使用[Jquery“完成”参数](http://api.jquery.com/fadeOut/)。

尝试

```
$(document).ready(function(){
        $('#preloader').fadeOut(2000, function(){    
            $('#container').css({'display':'block'}).fadeIn(3000);
           });    
    }); 
```

# plugins - 如何为 Jenkins 配置 Ant 插件

> ID：15265969
> 
> 赞同：-1
> 
> 时间：2013-03-07T08:01:05.647
> 
> 标签：plugins, ant, jenkins

我有马拉松项目，我有 buid.xml，其中有很多目标都是在 ant 工具的帮助下运行的。但在詹金斯我需要选择一个我只需要构建和测试的目标。我需要知道如何使用参数化和调用 Ant 来实现这一点？？？

谁能帮帮我！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:09:11.847

[这](https://stackoverflow.com/questions/10647202/how-do-i-pass-parameters-from-jenkins-to-ant-scripts)是另一个处理向 Ant 构建发送参数的问题。

# asterisk - AGI 脚本执行没有错误，但没有生成结果

> ID：15265972
> 
> 赞同：2
> 
> 时间：2013-03-07T08:01:12.643
> 
> 标签：asterisk, agi

我正在尝试使用星号 AGI 运行 shell 脚本。我已经使用了这里提到的教程 [http://www.shiffman.net/p5/asterisk/](http://www.shiffman.net/p5/asterisk/)

我的 extensions.conf 如下

```
[default]
include => clicall

[clicall]
exten => _X,1,Goto(s,1);
exten => _X.,1,Goto(s,1);
exten => s,1,Answer();
exten => s,n,EAGI(runEAGI.sh); 
```

我试图运行的脚本（runEAGI.sh）如下

```
#!/bin/bash
java /home/sphata001/Downloads/EAGI/JEAGIClient $$ 
```

权限已设置为 755，脚本放置在`/var/lib/asterisk/agi-bin/`. java 文件(JEAGIClient) 也已经预先编译好了。手动执行脚本时，它运行良好并连接到服务器。但是当从 SIP 客户端拨打电话时，脚本会根据星号控制台执行，但看不到任何结果。我在控制台中得到以下输出

```
 == Using SIP RTP CoS mark 5
    -- Executing [888@default:1] Goto("SIP/1001-00000027", "s,1") in new stack
    -- Goto (default,s,1)
    -- Executing [s@default:1] Answer("SIP/1001-00000027", "") in new stack
    -- Executing [s@default:2] EAGI("SIP/1001-00000027", "runEAGI.sh") in new stack
    -- Launched AGI Script /var/lib/asterisk/agi-bin/runEAGI.sh
    -- <SIP/1001-00000027>AGI Script runEAGI.sh completed, returning 0
    -- Auto fallthrough, channel 'SIP/1001-00000027' status is 'UNKNOWN' 
```

有什么解决办法吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T20:26:39.200

检查脚本及其所需的任何资源是否属于 Asterisk 用户，并且 SELinux 没有阻止脚本正确运行

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T23:03:37.280

最有可能 - 您需要指定 java 的完整路径。

提示：对于调试星号 AGI 简单的解决方案是停止星号并启动它附加到控制台，这样您将看到所有脚本错误。

```
asterisk -rx "core stop now"
asterisk -vvvvgc 
```

也可以在星号控制台中完全启用 AGI 调试：

```
agi set debug on 
```

# java - 将 Android 应用程序连接到 MS SQL Server 数据库

> ID：15265976
> 
> 赞同：-1
> 
> 时间：2013-03-07T08:01:27.670
> 
> 标签：java, android, sql, sql-server, database

我想将我的 Android 应用程序连接到 MS SQL 数据库并从那里获取数据。数据库位于远程服务器上。我使用的是 Windows XP，不知道如何将我的应用程序连接到数据库。有人说网络服务，其他人直接从应用程序说。我很困惑。如果有人可以为我提供分步指南，将不胜感激。我知道许多工具，如 Rest、Soap 和 tomcat 服务器，但不知道它们中的任何一个如何工作或如何开始。该数据库包含视频 URL，我想从数据库中获取一个 URL 并通过 URL 在我的 Android 手机上流式传输视频。
PS：我希望我的网络服务使用 Java。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:06:12.920

您必须为此创建 Web 服务。

[connection-between-php-server-and-android-client](http://fahmirahman.wordpress.com/2011/04/21/connection-between-php-server-and-android-client-using-http-and-json/) // 参考这个

[android-php-json-教程](http://codeoncloud.blogspot.com/2012/11/android-php-json-tutorial.html)

[android-json-解析教程](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:12:12.037

这个问题有一个 JTDS 驱动程序。试试这个[http://jtds.sourceforge.net/](http://jtds.sourceforge.net/)

# join - 使用hadoop连接同一目录中的两个文件

> ID：15265978
> 
> 赞同：2
> 
> 时间：2013-03-07T08:01:40.717
> 
> 标签：join, hadoop, mapreduce, hdfs, file-processing

我是一个总的hadoop n00b。作为我的第一个 hadoop 项目，我正在尝试解决以下问题。我有一百万多个子文件夹位于亚马逊 S3 存储桶中。这些文件夹中的每一个都有两个文件。文件 1 的数据如下：

```
date,purchaseItem,purchaseAmount
01/01/2012,Car,12000
01/02/2012,Coffee,4
.................... 
```

File2 有客户的信息，格式如下：

```
ClientId:Id1
ClientName:"SomeName"
ClientAge:"SomeAge" 
```

这种相同的模式在存储桶中的所有文件夹中重复出现。

在将所有这些数据写入 HDFS 之前，我想加入 File1 和 File2，如下所示：

加入档案：

```
ClientId,ClientName,ClientAge,date,purchaseItem,purchaseAmount
Id1,"SomeName","SomeAge",01/01/2012,Car,12000
Id1,"SomeName","SomeAge",01/02/2012,Coffee,4 
```

我需要为每个文件夹执行此操作，然后将此连接的数据集输入 HDFS。有人可以指出我如何能够在 Hadoop 中实现这样的目标。朝着正确的方向推动将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T18:44:42.187

很快想到的是级联的实现。

找出一种以编程方式将行转换为 File2 列的方法，以便您可以遍历所有文件夹并转置文件，以便您的第一列是您的第一行。

对于一个子文件夹：也许设置两个方案，一个`TextDelimited`方案用于文件 1，一个`TextLine`方案用于文件 2。将它们设置为，`Taps`然后将它们中的每一个包装成一个`MultiSourceTap`，将所有这些文件连接成一个`Pipe`。

此时，您应该有两个单独`MultiSourceTaps`的一个用于所有 File1(s)，一个用于所有 File2(s)。请记住这里之间的一些细节，最好只为一个子文件夹设置它，然后迭代其他一百万个子文件夹并输出到其他区域，然后用于`hadoop fs -getmerge` 将所有输出的小文件放入一个大文件中.

保持 Cascading 主题，然后您可以构造`Pipe`s 以使用`new Insert(subfolder_name)`inside 和function 添加子文件夹名称，以便您的两个数据集都引用它来自的子文件夹，然后将它们连接在一起......使用级联或 Hive-`Each`加入它们`CoGroup`QL 加入。

可能有比这更容易的实现，但这是快速想到的。:)

[TextDelimited](http://docs.cascading.org/cascading/2.1/javadoc/) , [TextLine](http://docs.cascading.org/cascading/2.1/javadoc/cascading/scheme/hadoop/TextLine.html) , [MultiSourceTap](http://docs.cascading.org/cascading/2.1/javadoc/cascading/tap/MultiSourceTap.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T15:23:25.703

看看[CombineFileInputFormat](http://hadoop.apache.org/docs/current/api/org/apache/hadoop/mapred/lib/CombineFileInputFormat.html)。

# android - 运行我的 android 程序时发现 java.io.IOException 服务不可用

> ID：15265981
> 
> 赞同：3
> 
> 时间：2013-03-07T08:01:46.917
> 
> 标签：android, ioexception, geocode

在运行我的 android 项目时，我的一个用于地理编码的类显示一个 io 异常，如服务不可用我找不到这里的错误是什么请有人帮我解决这个问题

**我的课**

```
String addressInput  = "Santa Clara";

geocoder = new Geocoder(Find_Tab_MainActivity.this);
    List<Address> address;

    address = geocoder.getFromLocationName(addressInput,5);
    if (address == null) {
        alert.showAlertDialog(Find_Tab_MainActivity.this, "Places Error",
                              "Sorry error occured.",
                              false);
    }
    else{
        Address location = address.get(0);
        latitude = location.getLatitude();
        longitude = location.getLongitude();

        System.out.println("radius:");
        nearPlaces = googlePlaces.Keywordsearch(latitude,longitude,radius+40000,"parking",type); 
```

**日志猫**

```
 03-07 12:55:09.752: D/Your Location(3625): latitude:37.422005, longitude: -122.084095
    03-07 12:55:09.812: W/System.err(3625): java.io.IOException: Service not Available
    03-07 12:55:09.862: W/System.err(3625):     at android.location.Geocoder.getFromLocationName(Geocoder.java:178)
    03-07 12:55:09.872: W/System.err(3625):     at com.kodspider.parkon.Find_Tab_MainActivity$LoadPlaces.doInBackground(Find_Tab_MainActivity.java:174)
    03-07 12:55:09.872: W/System.err(3625):     at com.kodspider.parkon.Find_Tab_MainActivity$LoadPlaces.doInBackground(Find_Tab_MainActivity.java:1)
    03-07 12:55:09.872: W/System.err(3625):     at android.os.AsyncTask$2.call(AsyncTask.java:185)
    03-07 12:55:09.872: W/System.err(3625):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
    03-07 12:55:09.872: W/System.err(3625):     at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    03-07 12:55:09.872: W/System.err(3625):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
    03-07 12:55:09.872: W/System.err(3625):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
    03-07 12:55:09.872: W/System.err(3625):     at java.lang.Thread.run(Thread.java:1019)
    03-07 12:55:10.042: D/AndroidRuntime(3625): Shutting down VM
    03-07 12:55:10.042: W/dalvikvm(3625): threadid=1: thread exiting with uncaught exception (group=0x40015560)
    03-07 12:55:10.052: E/AndroidRuntime(3625): FATAL EXCEPTION: main
    03-07 12:55:10.052: E/AndroidRuntime(3625): java.lang.NullPointerException
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at com.kodspider.parkon.Find_Tab_MainActivity$LoadPlaces.onPostExecute(Find_Tab_MainActivity.java:208)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at com.kodspider.parkon.Find_Tab_MainActivity$LoadPlaces.onPostExecute(Find_Tab_MainActivity.java:1)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at android.os.AsyncTask.finish(AsyncTask.java:417)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at android.os.AsyncTask.access$300(AsyncTask.java:127)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at android.os.Handler.dispatchMessage(Handler.java:99)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at android.os.Looper.loop(Looper.java:130)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at android.app.ActivityThread.main(ActivityThread.java:3683)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at java.lang.reflect.Method.invokeNative(Native Method)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at java.lang.reflect.Method.invoke(Method.java:507)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
    03-07 12:55:10.052: E/AndroidRuntime(3625):     at dalvik.system.NativeStart.main(Native Method)
    03-07 12:55:11.892: I/Process(3625): Sending signal. PID: 3625 SIG: 9 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-15T15:05:46.947

也重新启动您的设备（我遇到了同样的问题），但[这个](https://stackoverflow.com/questions/16119130/android-java-io-ioexception-service-not-available)链接节省了我的时间。

[http://code.google.com/p/android/issues/detail?id=38009](http://code.google.com/p/android/issues/detail?id=38009)

# c# - 如何在运行时填写构造函数参数？

> ID：15265984
> 
> 赞同：2
> 
> 时间：2013-03-07T08:01:59.663
> 
> 标签：c#, wpf, reflection

我想创建一个类型的实例，但直到运行时我才知道类型。

如何获取构造函数所需的参数以在 WPF 窗口中向用户显示它们？

是否可以使用 Visual Studio 中的属性窗口之类的东西？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T08:08:46.510

看看`ParameterInfo`可以从反射类型中获得的对象：

```
Type type = typeof(T); 
ConstructorInfo[] constructors = type.GetConstructors();

// take one, for example the first:
var ctor = constructors.FirstOrDefault();

if (ctor != null)
{
    ParameterInfo[] params = ctor.GetParameters();

    foreach(var param in params)
    {
         Console.WriteLine(string.Format("Name {0}, Type {1}", 
             param.Name,
             param.ParameterType.Name));
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:10:21.090

这是搜索 - [http://www.bing.com/search?q=c%23+reflection+constructor+parameters](http://www.bing.com/search?q=c%23+reflection+constructor+parameters) - 最佳答案是带有示例的[ConstructorInfo ：](http://msdn.microsoft.com/en-us/library/system.reflection.constructorinfo.aspx)

```
public class MyClass1
{
    public MyClass1(int i){}
    public static void Main()
    {
        try
        {
            Type  myType = typeof(MyClass1);
            Type[] types = new Type[1];
            types[0] = typeof(int);
            // Get the public instance constructor that takes an integer parameter.
            ConstructorInfo constructorInfoObj = myType.GetConstructor(
                BindingFlags.Instance | BindingFlags.Public, null,
                CallingConventions.HasThis, types, null);
            if(constructorInfoObj != null)
            {
                Console.WriteLine("The constructor of MyClass1 that is a public " +
                    "instance method and takes an integer as a parameter is: ");
                Console.WriteLine(constructorInfoObj.ToString());
            }
            else
            {
                Console.WriteLine("The constructor of MyClass1 that is a public instance " +
                    "method and takes an integer as a parameter is not available.");
            }
        }
        catch(Exception e) // stripped out the rest of excepitions...
        {
            Console.WriteLine("Exception: " + e.Message);
        }
    }
} 
```

# ruby-on-rails - 根据模型字段自动生成表单

> ID：15265990
> 
> 赞同：1
> 
> 时间：2013-03-07T08:02:25.400
> 
> 标签：ruby-on-rails, forms, dynamic, mongoid

我有一个具有许多不同属性的模型，将来我可能会添加新属性。

但是，我不想每次需要在模型文件中添加一行代码时都编辑我的 _form.html.erb 文件。

我正在使用 Mongoid (v2)，所以我已经习惯了不必大惊小怪地为我的模型添加新属性。

# jquery - $.getJSON 返回“未定义”或 [object Object] [object Object]

> ID：15265992
> 
> 赞同：1
> 
> 时间：2013-03-07T08:02:44.887
> 
> 标签：jquery, ajax, json, httphandler, getjson

我知道有些人问了同样的问题并得到了回答。我已经查看了所有这些，但我仍然无法解决我的问题。我有一个 jquery 片段，它将值发送到处理程序，处理程序处理来自 JS 的值并将数据作为 JSON 数据返回。JSON 数据有两组记录（数据库中的两行）需要通过 getJSON 捕获并处理。JSON 数据看起来像

```
[{"Name":"P1","Description":"pd1",Value":"S1Test1"},{"Name":"P1","Description":"pd1","Value":"L1Test1"}] 
```

我的 JS 是

```
$(document).ready(function () {
    $.getJSON('ProfileHandler.ashx', { 'ProfileName': 'P1' }, function (data) {
        alert(data.Name);
    });
}); 
```

我的处理程序代码是

```
string ProfileName = context.Request["ProfileName"];
GetProfileDataService GetProfileDataService = new BokingEngine.MasterDataService.GetProfileDataService();
IEnumerable<ProfileData> ProfileDetails = GetProfileDataService.GetList(new ProfileSearchCriteria { Name = ProfileName });
JavaScriptSerializer javaScriptSerializer = new JavaScriptSerializer();
string serProfileDetails = javaScriptSerializer.Serialize(ProfileDetails);
context.Response.ContentType = "text/json";
context.Response.Write(serProfileDetails); 
```

这里的方法错误是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-07T08:04:59.163

`data`是一个对象数组

```
data[0].name 
```

应该足以获取名字。

要遍历整个数组，您可以执行以下操作：

```
$.each(data, function(k, v){
    alert(v.name);
}); 
```

`v`数组中的当前对象在哪里。注意`v == this`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T08:04:39.643

您的 JSON 定义了一个*数组*，其中包含对象作为条目。所以而不是

```
alert(data.Name); 
```

你想要

```
alert(data[0].Name); 
```

（当然还有其他索引，在你的例子中你有`0`and `1`）。

*（引用的 JSON 也是无效的[`"`在第一个之前丢失`Value`]，但我猜这是问题中的错字。）*

# axapta - 将在 ax 2009 中自动填写的表格

> ID：15265998
> 
> 赞同：2
> 
> 时间：2013-03-07T08:03:15.620
> 
> 标签：axapta, dynamics-ax-2009

我有一个带有 HeaderTable 和 LineTable 数据源的表单。HeaderTable 包含 FromDate 和 ToDate 字段，LineTable 包含 TransactionDate 字段。

根据要求，我必须用“fromdate”到“todate”填写 TransactionDate 字段。

例如，如果 HeaderTable 分别包含 1st-Jan 和 8th-Jan 作为 fromdate 和 todate ，那么在行级别它应该自动创建 1 月 1 日到 8 日的记录。

我希望可以使用按钮完成，但不清楚。请举例说明。

谢谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:39:35.840

没有任何事情会自动发生，请自己做：

```
for (transDate = fromDate; transDate <= toDate; transDate++)
{
    salesLine.clear()
    salesline.TransDate = transDate;
    salesLine.initFrom...
    salesLine.createLine(...);
} 
```

`fromDate`当用户更改or时，我很高兴我不必编写更新逻辑代码`toDate`！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T10:28:02.043

感谢简的回复。

这就是我解决这个问题的方法：

我创建了一个按钮，在按钮的 clicked 方法上我写了这个逻辑：

```
FromDate = Header.FromDate;

while (FromDate <= Header.ToDate)
{
    Line.InvoiceId = Header.InvoiceId;
    Line.TransactionDate = FromDate;
    Line.doInsert();
    FromDate++;

    if (FromDate == Line.TransactionDate)
    {
        break;
    }

}

Line_ds.research(true);

} 
```

希望这会对某人有所帮助。谢谢。

# zend-framework - Zend 更新/插入（Zend_Db_Table_Abstract）不起作用

> ID：15265999
> 
> 赞同：1
> 
> 时间：2013-03-07T08:03:18.667
> 
> 标签：zend-framework, sql-update, zend-db-table, sql-insert

我在 Zend 中遇到插入和更新查询的问题（选择没问题）。

表定义：

```
class Application_Model_DbTable_Kpr1Data extends Zend_Db_Table_Abstract
{
    protected $_name = 'kpr_kpr1_data';
} 
```

这是我的数据映射器（模型）

```
class Application_Model_Kpr1DataMapper
{
    protected $_dbTable;

    public function setdbTable($dbTable) {
        if(is_string($dbTable)){
            $dbTable = new $dbTable();
        }
        if(!$dbTable instanceof Zend_Db_Table_Abstract ){
            throw new Exception ('Invalid table data gateway provided.');
        }
        $this->_dbTable = $dbTable;

        return $this;
    }

    public function getdbTable() {
        if (null === $this->_dbTable){
            $this->setdbTable('Application_Model_DbTable_Kpr1Data');
        }
        return $this->_dbTable;
    }

    public function save(Application_Model_Kpr1Data $kpr1data){
        $data = array('id' => (int) $kpr1data->getId(),
                'kpr1_plaza_id'   => (int) $kpr1data->getPlaza(),
                'kpr1_data' =>  new Zend_db_Expr("STR_TO_DATE('".$kpr1data->getDate()."', '%Y-%m-%d')"),
                'kpr1_money_delivered' => (float) $kpr1data->getDelivered(),
                'kpr1_money_transactions' => (float) $kpr1data->getTransactions(),
                'kpr1_created' => new Zend_Db_Expr('CURDATE()')
                );
        $id = (int) $kpr1data->getId();
        $table = $this->getdbTable();
        if (is_null($id) && $id != 0) {
            unset($data['id']);
            $table->insert($data);
        } else {
            $table->update($data, array('id => ?', $id));
        }
    } 
```

最后一个是保存功能，应该插入和更新数据！

这个保存是从保存操作中调用的：

```
public function saveAction()
{
    $plazaid = (int) $this->getRequest()->getParam('plaza');
    $date = (string) $this->getRequest()->getParam('date');
    $delivered = (string) $this->getRequest()->getParam('delivered');
    $transactions = (string) $this->getRequest()->getParam('transactions');
    $kpr1data = new Application_Model_Kpr1Data();
    if ($plazaid && $date) {
        $kpr1datamapper = new Application_Model_Kpr1DataMapper();
        if($kpr1datamapper->findDatePlaza($date, $plazaid, $kpr1data)){
            $kpr1data->setDelivered($delivered)
                    ->setTransactions($transactions);
            $kpr1datamapper->save($kpr1data);
            $this->_helper->layout->disableLayout();
            $this->view->result = json_encode(array("success"=>"true"));
        } else {
            $kpr1data->setDate($date);
            $kpr1data->setDelivered($delivered);
            $kpr1data->setTransactions($transactions);
            $kpr1data->setPlaza($plazaid);
            $kpr1datamapper->save($kpr1data);
            $this->_helper->layout->disableLayout();
            $this->view->result = json_encode(array("success"=>"true"));
        }
        $this->_helper->layout->disableLayout();
        $this->view->result = json_encode(array(
                                //"success"=>"false", 
                                "errorMsg"=>"Saving error"
                              ));            
    } else {
        $this->_helper->layout->disableLayout();
        $this->view->result = json_encode(array(
                                //"success"=>"false", 
                                "errorMsg"=>"Saving error"
                              ));
    }
    return true;
} 
```

保存动作是通过 JS 调用的，但即使通过 webbrowser 直接调用它也会失败。

行为：应用程序正在运行，当调试器运行到更新/插入行时：

```
 if (is_null($id) && $id != 0) {
        unset($data['id']);
        $table->insert($data);
    } else {
        $table->update($data, array('id => ?', $id));
    } 
```

它重定向到ErrorController。

我已经检查过： 1\. firePHP 没有显示这个语句 2\. MySQL 数据库没有记录这个语句（我通过 general_log 功能检查过）。

我被困住了。请帮帮我。

编辑

```
$data=
array(6) (
  [id] => (int) 0
  [kpr1_plaza_id] => (int) 116
  [kpr1_data] => Zend_Db_Expr object {
    _expression => (string) STR_TO_DATE('2013-03-01', '%Y-%m-%d')
  }
  [kpr1_money_delivered] => (float) 120
  [kpr1_money_transactions] => (float) 122
  [kpr1_created] => Zend_Db_Expr object... 
```

$kpr1数据=

```
Application_Model_Kpr1Data object {
  _plaza => (string) 116
  _date => (string) 2013-03-01
  _delivered => (string) 120.00
  _transactions => (string) 122.00
  _created => null
  _id => null
  _plazaname => null
} 
```

这个应该做插入。下一个更新：

```
Application_Model_Kpr1Data object {
  _plaza => (string) 117
  _date => (string) 2013-03-01
  _delivered => (string) 120.00
  _transactions => (string) 122.00
  _created => (string) 2013-03-06 12:42:13
  _id => (string) 79
  _plazaname => (string) SPO Kraj... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:07:23.210

在`saveAction()` `$this->view->result`if/else 语句之后被覆盖，因为您的函数在（最初）设置之后不返回任何内容`$this->view->result`。此外设置第一个`Saving error`似乎是不必要的。

试试这个：

```
public function saveAction()
{
    $plazaid = (int) $this->getRequest()->getParam('plaza');
    $date = (string) $this->getRequest()->getParam('date');
    $delivered = (string) $this->getRequest()->getParam('delivered');
    $transactions = (string) $this->getRequest()->getParam('transactions');
    $kpr1data = new Application_Model_Kpr1Data();
    if ($plazaid && $date) {
        $kpr1datamapper = new Application_Model_Kpr1DataMapper();
        if($kpr1datamapper->findDatePlaza($date, $plazaid, $kpr1data)){
            $kpr1data->setDelivered($delivered)
                    ->setTransactions($transactions);
            $kpr1datamapper->save($kpr1data);
            $this->_helper->layout->disableLayout();
            $this->view->result = json_encode(array("success"=>"true"));
        } else {
            $kpr1data->setDate($date);
            $kpr1data->setDelivered($delivered);
            $kpr1data->setTransactions($transactions);
            $kpr1data->setPlaza($plazaid);
            $kpr1datamapper->save($kpr1data);
            $this->_helper->layout->disableLayout();
            $this->view->result = json_encode(array("success"=>"true"));
        }
    } else {
        $this->_helper->layout->disableLayout();
        $this->view->result = json_encode(array(
                                //"success"=>"false", 
                                "errorMsg"=>"Saving error"
                              ));
    }
    return true;
} 
```

编辑：

试试这个作为你的保存操作：

```
public function save(Application_Model_Kpr1Data $kpr1data){
    $table = $this->getdbTable();

    if ($id == $kpr1data->getId()) {
        $data = array('id' => (int) $id,
            'kpr1_plaza_id'   => (int) $kpr1data->getPlaza(),
            'kpr1_data' =>  new Zend_Db_Expr("STR_TO_DATE('".$kpr1data->getDate()."', '%Y-%m-%d')"),
            'kpr1_money_delivered' => (float) $kpr1data->getDelivered(),
            'kpr1_money_transactions' => (float) $kpr1data->getTransactions(),
            'kpr1_created' => new Zend_Db_Expr('CURDATE()')
            );
        $table->update($data, array('id => ?', $id));
    } else {
    [...]
        $table->insert($data);
    }
} 
```