# StackOverflow 问答 15239000-15239999

# java - 确定我正在下载的文件的 MIME 类型

> ID：15239004
> 
> 赞同：0
> 
> 时间：2013-03-06T04:28:35.930
> 
> 标签：java, http

我正在尝试使用以下代码下载文件。我需要确定正在下载的文件的文件名和 mime 类型。我从中下载的 URL 不包含文件名。我查看了与下面使用的缓冲流有关的方法，但没有看到任何方法可以做到这一点。

```
 con = (HttpURLConnection) url.openConnection();

    //authenticate this request
    if (passwordAuthentication != null) {
        String auth = passwordAuthentication.getUserName()+":"+passwordAuthentication.getPassword();
        con.setRequestProperty("Authentication", Base64.encodeBase64(auth.getBytes()).toString());
    }

    BufferedInputStream bis = new BufferedInputStream(con.getInputStream());
    BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(file.getName()));
    while ((i = bis.read()) != -1) {
        bos.write(i);
    }
    bos.flush();
    bis.close(); 
```

我看到我可以通过 获取它`String contentType = con.getHeaderField("Content-Type");`，但返回`text/html`的不是正在下载的实际文件的 ContentType。

**编辑：** 这不是一个重复的问题，另一种方法不提供解决方案，如下所述。

我现在尝试保存没有文件扩展名的文件并使用`MagicMatch match = Magic.getMagicMatch(file, true);`，但它返回`text/plain`. 我猜那是因为我在没有文件扩展名的情况下保存了它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:45:15.113

在 Java 7 中，您现在可以使用 [Files.probeContentType(path)](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29)

# asp.net - CAPI2 未找到代理自动配置 URL

> ID：15239005
> 
> 赞同：4
> 
> 时间：2013-03-06T04:28:40.493
> 
> 标签：asp.net, httpclient

我有一个 asp.net mvc 应用程序。在 windows server 2008 R2 和 framework 4.5 上运行。在一个控制器上。我通过 https 通道使用 httpclient post xml 到远程肥皂服务器。但很慢。完成请求需要 6 秒。我启用 CAPI2 日志。发现错误：

```
> System 
>
>  - Provider 
>
>   [ Name]  Microsoft-Windows-CAPI2 
>   [ Guid]  {5bbca4a8-b209-48dc-a8c7-b23d3e5216fb} 
> 
>   EventID 53 
> 
>   Version 0 
> 
>   Level 2 
> 
>  Task 53 
> 
>   Opcode 2 
> 
>   Keywords 0x4000000000000036 
> 
>  - TimeCreated 
>
>   [ SystemTime]  2013-03-06T00:09:12.342400000Z 
> 
>   EventRecordID 226 
> 
>   Correlation 
> 
>  - Execution 
>
>   [ ProcessID]  4716 
>   [ ThreadID]  3620 
> 
>   Channel Microsoft-Windows-CAPI2/Operational 
> 
>   Computer WIN-PFVACQLB4A9 
> 
>  - Security 
>
>   [ UserID]  S-1-5-82-100694679-852442941-408577778-1461352480-452402374 
> 
>
>- UserData 
>
>  - CryptRetrieveObjectByUrlWire 
>
>  - URL http://gtssldv-aia.geotrust.com/gtssldv.crt 
>
>   [ scheme]  http 
> 
>  - Object 
>
>   [ type]  CONTEXT_OID_CERTIFICATE 
>   [ constant]  1 
> 
>   Timeout PT15S 
> 
>  - Flags 
>
>   [ value]  286005 
>   [ CRYPT_RETRIEVE_MULTIPLE_OBJECTS]  true 
>   [ CRYPT_WIRE_ONLY_RETRIEVAL]  true 
>   [ CRYPT_LDAP_SCOPE_BASE_ONLY_RETRIEVAL]  true 
>   [ CRYPT_OFFLINE_CHECK_RETRIEVAL]  true 
>   [ CRYPT_AIA_RETRIEVAL]  true 
>   [ CRYPT_PROXY_CACHE_RETRIEVAL]  true 
> 
>  - AuxInfo 
>
>   [ maxUrlRetrievalByteCount]  100000 
>   [ fProxyCacheRetrieval]  true 
> 
>  - AdditionalInfo 
>
>  - NetworkConnectivityStatus 
>
>   [ value]  1 
>   [ _SENSAPI_NETWORK_ALIVE_LAN]  true 
> 
>  - Action 
>
>   [ name]  Call_WinHttpGetProxyForUrl 
>  - Error The Proxy Auto-configuration URL was not found. 
>
>   [ value]  2F94 
> 
> 
>  - Action 
>
>   [ name]  NoProxy 
> 
>  - Action 
>
>   [ name]  Call_WinHttpGetProxyForUrl 
>  + Error The Proxy Auto-configuration URL was not found. 
>
>   [ value]  2F94 
> 
> 
>  - Action 
>
>   [ name]  NoProxy 
> 
>  - HTTPRequestHeadersInfo 
>
>   Header GET /gtssldv.crt HTTP/1.1 
> 
>   Header Accept: */* 
> 
>   Header User-Agent: Microsoft-CryptoAPI/6.1 
> 
>   Header Connection: Keep-Alive 
> 
> 
>  - HTTPResponseHeadersInfo 
>
>   Header HTTP/1.0 200 OK 
> 
>   Header Connection: Keep-Alive 
> 
>   Header Date: Tue, 05 Mar 2013 23:43:39 GMT 
> 
>   Header Via: NS-248 
> 
>   Header Via: 1.0 hostname:80 (squid/2.6.STABLE21) 
> 
>  Header Content-Length: 1022 
> 
>   Header Content-Type: text/plain 
> 
>   Header Last-Modified: Wed, 21 Jul 2010 18:25:03 GMT 
> 
>   Header Accept-Ranges: bytes 
> 
>   Header Age: 540 
> 
>   Header ETag: "25f7fb-3fe-48be9eb969dc0" 
> 
>   Header Server: Apache/2.2.3 (Red Hat) 
> 
>   Header X-Pad: avoid browser bug 
> 
>   Header X-Cache: MISS from hostname 
> 
>   Header X-Cache-Lookup: HIT from hostname:80 
> 
> 
>  - Action 
>
>   [ name]  WriteToCache 
>  - Error The system cannot find the file specified. 
>
>   [ value]  80070002 
> 
> 
> 
>  - CacheInfo 
>
>   [ lastSyncTime]  2013-03-06T00:09:12.342Z 
>  - URLCacheResponseInfo 
>
>  [ responseType]  CRYPTNET_URL_CACHE_RESPONSE_HTTP 
>   [ lastModifiedTime]  2010-07-21T18:25:03Z 
>   [ eTag]  "25f7fb-3fe-48be9eb969dc0" 
>   [ proxyId]  DEAE4085 
> 
> 
>  - RetrievedObjects 
>
>  - Certificate 
>
>   [ fileRef]  BAE30B15DBB1544CF194D076B75B7BB9E3D6B760.cer 
>   [ subjectName]  GeoTrust DV SSL CA 
> 
> 
>  - EventAuxInfo 
>
>   [ ProcessName]  w3wp.exe 
> 
>  - CorrelationAuxInfo 
>
>   [ TaskId]  {2B4FC750-01D1-4D7E-BEEF-A3F9DD09B0E8} 
>   [ SeqNumber]  4 
> 
>  - Result 
>
>   [ value]  0 
```

我还取消选中 Internet Exploer->Internet 选项->连接->LAN 设置-> 自动检测设置。没变化。

寻求帮助。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-03T15:04:50.380

可能为时已晚，但我解决相同问题的方法是找到用户 ID，在您的情况下：

```
[ UserID]  S-1-5-82-100694679-852442941-408577778-1461352480-452402374 
```

在注册表中，在以下位置：

```
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList . 
```

它会告诉您哪个用户正在调用 Crypto API 2 (CAPI2)，在我的例子中是“经典 .NET 应用程序池”或类似的。

我通过模拟（以具有足够权限的另一个用户身份运行进程）来修复它，然后我不再有这个写入错误，因此事件日志中没有红色错误消息。

为此，我在本地计算机中创建了一个具有管理员权限的用户（我知道这不是最安全的选项，但我不得不尝试，并且成功了）。最后，似乎问题出在代理上，但就是那个特定的错误：。

```
>   [ name]  WriteToCache 
>  - Error The system cannot find the file specified. 
>
>   [ value]  80070002 
> 
```

它在某处没有写权限，但管理员有：P

我还做了另一件事（因为加密 API 总是请求 CRL），在本地组策略编辑器中，遵循以下路径：

计算机配置 > Windows 设置 > 安全设置 > 公钥 > 证书路径验证设置 > “吊销”选项卡。启用“定义这些策略设置”并启用“允许 CRL 和 OCSP 响应的有效时间超过其生命周期”。

然后我将这个 CRL 的有效期延长到一年（8760 小时），我知道这也太长了，但这取决于您的需求或安全问题，在我的情况下是足够安全的。

我希望它可以帮助你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-29T18:50:10.717

我的答案取自这里：[http ://social.technet.microsoft.com/Forums/en-US/winserversecurity/thread/82c52c69-1a53-4f48-8c7e-37bc7364dca3/](http://social.technet.microsoft.com/Forums/en-US/winserversecurity/thread/82c52c69-1a53-4f48-8c7e-37bc7364dca3/)

设置一个 IIS 服务器，以便它会在[http://wpad.mylab.local/wpad.dat](http://wpad.mylab.local/wpad.dat)中使用 javascript 进行响应- 不要忘记为 wpad.dat 添加 MIME 类型（应用程序/x-javascript 很好）。如果您不需要代理，则 wpad.dat 文件中的 javascript 应如下所示：

```
function FindProxyForURL(url, host)
{
    return "DIRECT";
} 
```

之后，在使用 certutil 时，CAPI2 日志中不应再有事件 53。

# ios - -ObjC 值在其他链接器标志中的意义：GMaps SDK

> ID：15239007
> 
> 赞同：0
> 
> 时间：2013-03-06T04:28:48.090
> 
> 标签：ios, objective-c, linker-errors, sup, google-maps-sdk-ios

我正在尝试将 google maps sdk 与 iOS 6.1 集成。[通过使用GMaps for iOS 启动指南中](https://developers.google.com/maps/documentation/ios/start)给出的说明，我成功地在 iOS 模拟器上填充 gmap

**那么它的问题是什么：** 当我将它作为一个单独的项目使用时效果很好。但是，当我将上述项目代码与现有应用程序结合使用时，它的行为很奇怪，并且由于在构建设置中的其他链接器标志中包含**-ObjC值而生成所有错误。**

**错误** `duplicate symbols for architecture i386`

当我跳过*第 7 步*（[GMaps iOS](https://developers.google.com/maps/documentation/ios/start)）时，它不会给出错误。由于排除了 -ObjC 值，它无法识别特定的 GMaps 库类及其方法： `[GMSCameraPosition cameraWithLatitude:longitude:zoom:]: unrecognized selector sent`

**我的iOS应用背景：** 使用第三方库**SUP**（Sybase Unwired Platform）。将 SAP 连接到 iOS 应用程序。我想当我尝试添加 GMaps 库时，SUP 环境启用（构建设置）存在一些歧义。

寻求您的建议。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T20:04:54.723

SO上有很多关于架构i386错误的重复符号的帖子。通常这意味着您在一个命名空间中定义了两次相同的符号。上次我得到这个错误是因为我不小心包含了一个*.m*文件而不是*.h*头文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T21:08:37.773

你检查过构建架构吗？

尝试设置`Build Active Architecture Only`为`Yes`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T14:39:38.427

我今天面临同样的问题！[-ObjC 链接器标志 - 尝试将其添加到“其他链接器标志”时出现错误](https://stackoverflow.com/questions/15405649/objc-linker-flag-when-trying-to-add-it-to-other-linker-flags-i-get-an-error)

我解决了我的问题，这是我的建议。获取您的原始项目（不带 Gmaps 和带 SUP）并向其添加 -ObjC 标志。你还在报错吗？如果是这样，请将 Gmaps 排除在外。如果您仍然在警告中收到有关它警告您的文件的错误检查。我的问题是我有两个文件 libGoogleAnalytics.a 和 libGoogleAnalytics_debug.a 并且由于某种原因它们不能与 -ObjC 共存。

长话短说，您需要找到 Gmaps 正在使用的项目中已有的库并删除其中一个。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-25T12:49:26.590

请试试这个……</p>

第 1 步：将“-ObjC”添加到“目标”的“构建设置”中的其他链接器标志，但不要添加到“项目”

# android - 通过音频插孔电缆在两个 Android 设备上传输数据

> ID：15239010
> 
> 赞同：39
> 
> 时间：2013-03-06T04:29:08.337
> 
> 标签：android, android-audiomanager, android-mediarecorder, android-audiorecord

我正在研究通过公对公音频插孔电缆传输文本数据。

我正在 HTC one V 和 PC 上对此进行测试，它支持公对公音频插孔进行数据传输，如[本维基百科文章](http://en.wikipedia.org/wiki/Phone_connector_%28audio%29)中所述。它说：

> 第一个，将返回信号放在第二个环上，麦克风放在袖子上，被苹果的 iPhone 系列、HTC 设备、最新的三星、诺基亚和索尼手机等使用。

你可以[在这里看到我的代码](https://github.com/hitesh24by365/AudioJackTransfer)。

我在传输过程中遇到的问题：如果我通过在发送方输入 0-31 中的任何值来生成音调，由于 FSK 调制/解调类型错误，接收方将在 2-3 次尝试中获得实际值。您会建议最好的纠错代码来帮助我纠正从另一台 Android 设备收到的输入吗？

如果有人以前做过这种类型的数据传输，请提供代码参考或一些关于技术方面的基本指导，以便我可以完成并使其对所有人开放源代码。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-26T12:21:45.807

我也在寻找同样的东西，我得到了一个关于使用[Sudar](https://stackoverflow.com/users/24949/sudar)在 android中**[使用音频信号传输数据](http://www.slideshare.net/Sudar/transfering-data-using-audio-signal-in-android)**的很棒的解释，通过一次可能对你有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-16T14:04:43.227

这里的幻灯片更详细：展示如何与 Arduino 通信并读取光信号并将其转换为 A/D。

[http://de.slideshare.net/wolfpaulus/android-arduino-and-the-headphone-jack](http://de.slideshare.net/wolfpaulus/android-arduino-and-the-headphone-jack)

# java - 通过使用 UPnP 发送广播数据包来发现路由器不起作用

> ID：15239011
> 
> 赞同：8
> 
> 时间：2013-03-06T04:29:18.003
> 
> 标签：java, broadcast, upnp, datagram

我正在尝试实现一个简单的库，如果应用程序在 NAT 环境中运行，它可以通过 UPnP 协议发现路由器。我尝试了两种方法，多播和数据报，将发现数据包发送到路由器，并尝试监听端口 1901 以获取路由器的响应。但是，我在代码方面遇到了一些问题。我尝试了以下三种方式，只有第三种可以正确接收到路由器的响应。我不知道为什么它不适用于第一种和第二种方式。

**第一种：**发送组播包，监听1901端口响应。

代码：

```
public void discovery () throws IOException {
    // SSDP port
    final int SSDP_PORT = 1900;
    final int SSDP_SEARCH_PORT = 1901;
    // Broadcast address for finding routers.
    final String SSDP_IP = "239.255.255.250";
    // Time out of the connection.
    int TIMEOUT = 5000;
    // Localhost address.
    InetAddress localhost = InetAddress.getLocalHost();

    // Send from localhost:1901
    InetSocketAddress srcAddress = new InetSocketAddress(localhost, SSDP_SEARCH_PORT);
    // Send to 239.255.255.250:1900
    InetSocketAddress dstAddress = new InetSocketAddress(InetAddress.getByName(SSDP_IP), SSDP_PORT);

    // ----------------------------------------- //
    //       Construct the request packet.       //
    // ----------------------------------------- //
    StringBuffer discoveryMessage = new StringBuffer();
    discoveryMessage.append("M-SEARCH * HTTP/1.1\r\n");
    discoveryMessage.append("HOST: " + SSDP_IP + ":" + SSDP_PORT + "\r\n");
    discoveryMessage.append("ST: urn:schemas-upnp-org:device:InternetGatewayDevice:1\r\n");
    // ST: urn:schemas-upnp-org:service:WANIPConnection:1\r\n
    discoveryMessage.append("MAN: \"ssdp:discover\"\r\n");
    discoveryMessage.append("MX: 2\r\n");
    discoveryMessage.append("\r\n");
    // System.out.println("Request: " + discoveryMessage.toString() + "\n");
    byte[] discoveryMessageBytes = discoveryMessage.toString().getBytes();
    DatagramPacket discoveryPacket = new DatagramPacket(discoveryMessageBytes, discoveryMessageBytes.length, dstAddress);

    // ----------------------------------- //
    //       Send multi-cast packet.       //
    // ----------------------------------- //
    MulticastSocket multicast = null;
    try {
        multicast = new MulticastSocket(null);
        multicast.bind(srcAddress);
        multicast.setTimeToLive(4);
        System.out.println("Send multicast request.");
        // ----- Sending multi-cast packet ----- //
        multicast.send(discoveryPacket);
    } finally {
        System.out.println("Multicast ends. Close connection.");
        multicast.disconnect();
        multicast.close();
    }

    // -------------------------------------------------- //
    //       Listening to response from the router.       //
    // -------------------------------------------------- //
    DatagramSocket wildSocket = null;
    DatagramPacket receivePacket = null;
    try {
        wildSocket = new DatagramSocket(SSDP_SEARCH_PORT);
        wildSocket.setSoTimeout(TIMEOUT);

        while (true) {
            try {
                System.out.println("Receive ssdp.");
                receivePacket = new DatagramPacket(new byte[1536], 1536);
                wildSocket.receive(receivePacket);
                String message = new String(receivePacket.getData());
                System.out.println("Recieved messages:");
                System.out.println(message);
            } catch (SocketTimeoutException e) {
                System.err.print("Time out.");
                break;
            }
        }
    } finally {
        if (wildSocket != null) {
            wildSocket.disconnect();
            wildSocket.close();
        }
    }
} 
```

结果：路由器确实响应数据包（由 Wireshark 嗅探，如下图所示），但代码没有收到任何内容。 [![代码 1](../Images/258c617e4a3f2386b682c27dbc9b5e12.png)](https://i.stack.imgur.com/28EmW.png)

代码结果：

```
Send multicast request.
Multicast ends. Close connection.
Receive ssdp.
Time out. 
```

**第二种：**发送数据报包，监听1901端口响应。

代码：

```
public void discovery () throws IOException {
    // Ignore this part of the codes since they are the same as the first one.
    ..............

    // -------------------------------------------------- //
    //       Listening to response from the router.       //
    // -------------------------------------------------- //
    DatagramSocket wildSocket = null;
    DatagramPacket receivePacket = null;
    try {
        wildSocket = new DatagramSocket(SSDP_SEARCH_PORT);
        wildSocket.setSoTimeout(TIMEOUT);
        // ----- Sending datagram packet ----- //
        System.out.println("Send datagram packet.");
        wildSocket.send(discoveryPacket);

        while (true) {
            try {
                System.out.println("Receive ssdp.");
                receivePacket = new DatagramPacket(new byte[1536], 1536);
                wildSocket.receive(receivePacket);
                String message = new String(receivePacket.getData());
                System.out.println("Recieved messages:");
                System.out.println(message);
            } catch (SocketTimeoutException e) {
                System.err.print("Time out.");
                break;
            }
        }
    } finally {
        if (wildSocket != null) {
            wildSocket.disconnect();
            wildSocket.close();
        }
    }
} 
```

结果：Wireshark 没有得到任何东西。没有在端口 1900 和 1901 上嗅探数据包。

代码结果：

```
Send datagram packet.
Receive ssdp.
Time out. 
```

**第三种：**发送组播和数据报包，监听1901端口响应。

代码：

```
public void discovery () throws IOException {
    // Ignore this part of the codes since they are the same as the first one.
    ..............

    // ----------------------------------- //
    //       Send multi-cast packet.       //
    // ----------------------------------- //
    MulticastSocket multicast = null;
    try {
        multicast = new MulticastSocket(null);
        multicast.bind(srcAddress);
        multicast.setTimeToLive(4);
        System.out.println("Send multicast request.");
        // ----- Sending multi-cast packet ----- //
        multicast.send(discoveryPacket);
    } finally {
        System.out.println("Multicast ends. Close connection.");
        multicast.disconnect();
        multicast.close();
    }

    // -------------------------------------------------- //
    //       Listening to response from the router.       //
    // -------------------------------------------------- //
    DatagramSocket wildSocket = null;
    DatagramPacket receivePacket = null;
    try {
        wildSocket = new DatagramSocket(SSDP_SEARCH_PORT);
        wildSocket.setSoTimeout(TIMEOUT);
        // ----- Sending datagram packet ----- //
        System.out.println("Send datagram packet.");
        wildSocket.send(discoveryPacket);

        while (true) {
            try {
                System.out.println("Receive ssdp.");
                receivePacket = new DatagramPacket(new byte[1536], 1536);
                wildSocket.receive(receivePacket);
                String message = new String(receivePacket.getData());
                System.out.println("Recieved messages:");
                System.out.println(message);
            } catch (SocketTimeoutException e) {
                System.err.print("Time out.");
                break;
            }
        }
    } finally {
        if (wildSocket != null) {
            wildSocket.disconnect();
            wildSocket.close();
        }
    }
} 
```

结果：发送两个广播包成功，并得到路由器的两个响应。 [![代码 1](../Images/186a4c2dbc28ccb4ff75e03a28de2232.png)](https://i.stack.imgur.com/LYwcl.png)

代码结果：

```
Send multicast request.
Multicast ends. Close connection.
Send datagram packet.
Receive ssdp.
Recieved messages:
HTTP/1.1 200 OK
Cache-Control: max-age=300
Date: Wed, 06 Mar 2013 05:15:43 GMT
Ext: 
Location: http://192.168.1.1:1780/InternetGatewayDevice.xml
Server: POSIX UPnP/1.0 DD-WRT Linux/V24
ST: urn:schemas-upnp-org:device:InternetGatewayDevice:1
USN: uuid:C42C1F3F-6E63-7FFC-F982-035B355D6E76::urn:schemas-upnp-org:device:InternetGatewayDevice:1

Receive ssdp.
Recieved messages:
HTTP/1.1 200 OK
Cache-Control: max-age=300
Date: Wed, 06 Mar 2013 05:15:43 GMT
Ext: 
Location: http://192.168.1.1:1780/InternetGatewayDevice.xml
Server: POSIX UPnP/1.0 DD-WRT Linux/V24
ST: urn:schemas-upnp-org:device:InternetGatewayDevice:1
USN: uuid:C42C1F3F-6E63-7FFC-F982-035B355D6E76::urn:schemas-upnp-org:device:InternetGatewayDevice:1

Receive ssdp.
Time out. 
```

是否知道为什么第一种和第二种方式无法通过 UPnP 协议请求路由器？为什么第二个似乎没有发送任何东西？

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-23T19:01:26.360

我想这可能是操作系统+路由器固件相关的问题。确保您的防火墙已关闭。

**第一种方法：** 此方法在我的计算机（OS X）上根本不起作用：

```
Send multicast request.
Exception in thread "main" java.io.IOException: Can't assign requested address
Multicast ends. Close connection.
    at java.net.PlainDatagramSocketImpl.send(Native Method)
    at java.net.DatagramSocket.send(DatagramSocket.java:676)
    at Test.discovery(Test.java:55)
    at Test.main(Test.java:93)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120) 
```

但是，在我更改后：

```
 InetSocketAddress srcAddress = new InetSocketAddress(localhost, SSDP_SEARCH_PORT); 
```

到

```
 InetSocketAddress srcAddress = new InetSocketAddress(SSDP_SEARCH_PORT); 
```

它工作得很好：

```
Send multicast request.
Multicast ends. Close connection.
Receive ssdp.
Recieved messages:
HTTP/1.1 200 OK
Cache-Control: max-age=60
Date: Sun, 04 Jan 1970 21:55:18 GMT
Ext: 
Location: http://192.168.0.2:1780/InternetGatewayDevice.xml
Server: POSIX UPnP/1.0 linux/5.20.61.0
ST: urn:schemas-upnp-org:device:InternetGatewayDevice:1
USN: uuid:C04E066F-F351-72B6-CCCF-E98237DCB05C::urn:schemas-upnp-org:device:InternetGatewayDevice:1

Receive ssdp.
Time out. 
```

**第二种方法：有效** 。

**第三种方法：有效** 。

*（评论太长了）*

**[编辑]**

如果您的目标是生产稳定的软件，我建议您坚持传统方式： [https ://stackoverflow.com/a/4405143](https://stackoverflow.com/a/4405143)

# email - 在 ClearQuest Web 版本 8 中动态撰写的电子邮件通知

> ID：15239015
> 
> 赞同：1
> 
> 时间：2013-03-06T04:29:43.847
> 
> 标签：email, vbscript, clearquest

我们最近从 ClearQuest 版本 7 升级到版本 8。我们的用户界面通过 ClearQuest Web，而不是客户端。用于以富文本（HTML 格式）动态编写我们的电子邮件通知以促进我们的工程变更工作流程的 VBScript 在版本 8 中不起作用，即使我们测试过的所有其他遗留挂钩看起来都很好。

我们发现的唯一在线建议说它们适用于版本 7 及更高版本，但逐步执行过程我们发现与版本 8 环境不匹配的内容。

如果有人成功地将自定义 VBScript 替换为内置纯文本、固定内容、静态收件人电子邮件规则功能，我们希望收到他们的来信。

# objective-c - 正确使用带有块的 notificationCenter addObserverForName

> ID：15239016
> 
> 赞同：1
> 
> 时间：2013-03-06T04:29:48.393
> 
> 标签：objective-c, nsnotificationcenter

如何以干净的方式在一个块中实例化 2 个 BOOL 变量？

如下所示，它正在工作，但我有“在此块中强烈捕获'自我'可能会导致保留周期”，这显然不好......

```
 [notificationCenter addObserverForName:UIApplicationDidEnterBackgroundNotification
                                    object:nil
                                     queue:mainQueue usingBlock:^(NSNotification *note) {
                                         isApplicationOnForegroundMode = NO;
                                         isApplicationOnBackgroundMode = YES;
                                     } ];

    [notificationCenter addObserverForName:UIApplicationDidBecomeActiveNotification
                                    object:nil
                                     queue:mainQueue usingBlock:^(NSNotification *note) {
                                         isApplicationOnForegroundMode = YES;
                                         isApplicationOnBackgroundMode = NO;
                                     } ]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T04:42:57.773

我认为是`isApplicationOnForegroundMode`ivars `isApplicationOnBackgroundMode`。

您需要添加几个 ivars 或属性来跟踪观察块，以便您可以删除它们。我将这些`id`属性称为 backgroundObserver 和 activeObserver。

将您的代码更新为：

```
__unsafe_unretained <<self's class>> *this = self; // or __weak, on iOS 5+.

self.backgroundObserver = [notificationCenter 
                             addObserverForName:UIApplicationDidEnterBackgroundNotification
                                         object:nil
                                          queue:mainQueue 
                                     usingBlock:^(NSNotification *note) {
                                         this->isApplicationOnForegroundMode = NO;
                                         // or: this.isApplicationOnForegroundMode = YES, if you have a property declared
                                         this->isApplicationOnBackgroundMode = YES;
                                     } ];

self.activeObserver = [notificationCenter 
                         addObserverForName:UIApplicationDidBecomeActiveNotification
                                     object:nil
                                      queue:mainQueue usingBlock:^(NSNotification *note) {
                                          this->isApplicationOnForegroundMode = YES;
                                          this->isApplicationOnBackgroundMode = NO;
                                      } ]; 
```

您还需要确保您致电

```
[[NSNotificationCenter defaultCenter] removeObserver:self.backgroundObserver];
[[NSNotificationCenter defaultCenter] removeObserver:self.activeObserver]; 
```

在`-dealloc`.

# java - AffineTransform 修改的形状与预期相反

> ID：15239019
> 
> 赞同：3
> 
> 时间：2013-03-06T04:30:13.213
> 
> 标签：java, matrix, transformation, coordinate-systems, affinetransform

我有一些几何形状，它们位于不同的坐标中，我想将它们带到面板的中心。我编写了一个名为“Set Scale”的函数，将其置于中心位置，但形状颠倒了。

我的代码：

```
private void SetScale1(Graphics2D gr, int gr_width , int gr_height, double left_x , double right_x , double top_y , double bottom_y ){

    Rectangle2D drawing_rect = new Rectangle2D.Double(left_x, top_y, right_x - left_x, bottom_y - top_y);
 double drawing_cx=( left_x+ right_x) / 2;
 double drawing_cy =(top_y + bottom_y) / 2;

AffineTransform at = AffineTransform.getTranslateInstance(-1 * drawing_cx, -1 * drawing_cy);
//gr.translate(-1 * drawing_cx, -1 * drawing_cy);
//gr.TranslateTransform(0, 0)
double scale_x=gr_width / drawing_rect.getWidth();
double scale_y=gr_height / Math.abs(drawing_rect.getHeight());

scale_x = Math.min(scale_x, scale_y);
scale_y = scale_x;
scale_x = Math.abs(scale_x);
// at = AffineTransform.getScaleInstance(scale_x, -1 * scale_y);
//gr.transform(tt);
gr.transform(at);

//' Translate to center over the drawing area.
double graphics_cx =gr_width / 2;
double graphics_cy = gr_height / 2;
gr.translate(graphics_cx, graphics_cy);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:35:50.283

根据给出的描述，我建议您看一下您的转换矩阵：

```
AffineTransform at = AffineTransform.getTranslateInstance(-1 * drawing_cx, -1 * drawing_cy); 
```

你确定你的 tx 和 ty 参数是正确的吗？这是[getTranslationInstance](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/AffineTransform.html#getTranslateInstance%28double,%20double%29)返回的矩阵：

```
[   1    0    tx  ]
[   0    1    ty  ]
[   0    0    1   ] 
```

The -1 values you have set in the parameters for `getTranslationInstance` seem suspect to me... unless I've missed something, I don't see any reason why they should be negative. Negative values should [mirror the result](http://en.wikipedia.org/wiki/Transformation_matrix#Scaling), so that may very well be why you're seeing the reversal. Try changing those (they will change the tx and ty fields in the matrix above, respectively) and let us know if it helps.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T05:53:18.027

i Tried this... it Works:-)

Thanks for the help:-)

Rectangle2D drawing_rect = new Rectangle2D.Double(left_x, top_y, right_x - left_x, bottom_y - top_y); drawing_cx=(left_x+ right_x) / 2; drawing_cy =(top_y + bottom_y) / 2;

```
 at= AffineTransform.getTranslateInstance( -1* drawing_cx,  -1*drawing_cy);
//gr.translate(-1 * drawing_cx, -1 * drawing_cy);
//gr.TranslateTransform(0, 0)
double scale_x=gr_width / drawing_rect.getWidth();
double scale_y=gr_height / Math.abs(drawing_rect.getHeight());

scale_x = Math.min(scale_x, scale_y);
scale_y = scale_x;
scale_x = Math.abs(scale_x);
// at = AffineTransform.getScaleInstance(scale_x, -1 * scale_y);

gr.scale(Math.round(scale_x), Math.round( scale_y));
//gr.scale(1.2, 1.2);
//gr.transform(tt);
gr.transform(at);

//' Translate to center over the drawing area.
 graphics_cx =gr_width / 2;
 graphics_cy = gr_height / 2;
gr.translate(graphics_cx, graphics_cy); 
```

# c - 使用 FTS fts_open() 时 strlen 中的分段错误

> ID：15239020
> 
> 赞同：1
> 
> 时间：2013-03-06T04:30:18.323
> 
> 标签：c, arrays, segmentation-fault, traversal, strlen

我发现一个错误归结为：

```
#include <sys/types.h>
#include <sys/stat.h>
#include <fts.h>
#include <stdlib.h>

int main () {
    char *LOG_ROOT = "/var/log";

    FTS *ftsp; 
    FTSENT *p, *chp;
    int fts_options = FTS_COMFOLLOW | FTS_LOGICAL | FTS_NOCHDIR;

    char *paths[] = { LOG_ROOT };
    fts_open(paths, fts_options, NULL);
} 
```

为什么会出现这个段错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T04:33:04.643

第一个参数。预计是一个以**NULL 结尾**的字符指针数组。

```
char *paths[] = { LOG_ROOT, NULL}; 
```

# html - 在@media 屏幕上将参数传递给服务器

> ID：15239032
> 
> 赞同：0
> 
> 时间：2013-03-06T04:31:22.533
> 
> 标签：html, css, forms

我有一个 HTML 页面，它使用 CSS'`@media`来显示基于宽度的表单。

在小屏幕上，将显示选择选项，在大屏幕上，将显示单选按钮。

我有一个大问题，如果用户选择了单选按钮选项，服务器将获得选择选项，而不是单选按钮。

如何禁用大屏幕上的选择选项？

```
<div class="visible-phone">
<select class="input-block-level" name="paymentType" >                           
<c:forEach items="${sessionScope.paymentMethodList}" var="item"  varStatus="index">                
<option  value="${item.id}"><c:out value="${item.pymntName}"/></option>
</c:forEach>
</select>
</div>

<div class="hidden-phone">
<c:forEach items="${sessionScope.paymentMethodList}" var="item"  varStatus="index">              
<label class="radio"><input type="radio" name="paymentType" value="${item.id}">   
<c:out value="${item.pymntName}"/> </label>

</c:forEach>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:06:49.987

有关如何使用 JQuery 检测设备的信息，请参阅以下 URL：

[jQuery 移动用户代理检测](https://stackoverflow.com/questions/7219379/jquery-mobile-user-agent-detection)

您需要根据设备显示/隐藏可见电话/隐藏电话部分。

# c++ - 如何更改值 char

> ID：15239039
> 
> 赞同：-1
> 
> 时间：2013-03-06T04:32:08.663
> 
> 标签：c++, char

我编写了这个 C++ 代码，它编译时没有错误，但是在我有错误之后。我怎样才能使这项工作？

```
int main() {
int a=0;
for(a=0;a<=9;a+=1)
{
cout<<a<<"\n";
char ssss[] = "hello";
ssss[1]=a;
cout<<ssss<<"\n";
}
return 0;
} 
```

当前输出为：

![在此处输入图像描述](../Images/4275b5b538a22c4e1cc2104b97f8558a.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T04:45:05.933

如果它不符合规范，则只有一个错误。而且，由于您没有*提供*关于它应该如何操作的规范，我们不得不猜测。

当您通过 将字符设置`ssss[1]`为整数值`0`时`9`，这*不是*`'0'`通过的字符`'9'`，而是（至少在 ASCII 中），它是一些控制字符，例如`9`水平制表符。

这可能会使您的输出看起来很奇怪。

您可以清楚地看到这一点，对于 0，您得到的只是`h`（因为 0 是字符串终止符）。

对于 1 到 4 和 6，您会看到十六进制代码输出。5是`ENQ`角色，所以我不确定那在做什么。7 是 ASCII 响铃字符，因此您应该希望听到哔声，8 是退格，这就是为什么`llo`覆盖初始的`h`，而 9 是水平制表符，导致进一步的输出从下一个制表位开始。

如果要通过 使用字符*，* 请将循环更改为：`'0'``'9'``for`

```
for (a = '0'; a <= '9'; a++) 
```

按照以下程序：

```
#include <iostream>

int main (void) {
    char str[] = "hello";
    for (int code = '0'; code <= '9'; code++) {
        str[1] = code;
        std::cout << code << ": " << str << '\n';
    }
    return 0;
} 
```

输出：

```
48: h0llo
49: h1llo
50: h2llo
51: h3llo
52: h4llo
53: h5llo
54: h6llo
55: h7llo
56: h8llo
57: h9llo 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T04:49:25.343

这将执行并给出这样的输出

```
0 h 
1 hllo 
2 hllo 
3 hllo 
4 hllo 
5 hllo 
6 hllo 
7 hllo 
8 hllo 
9 h   llo 
```

这是因为当 a = 0 时，它会在末尾分配一个空字符，因此输出仅为 h。并在 9 处放置一个`\t`（制表符），因为 9 的 ASCII 等同于制表符。

# asp.net-mvc-3 - t4mvc，无法解析符号“MVC”

> ID：15239043
> 
> 赞同：3
> 
> 时间：2013-03-06T04:32:35.783
> 
> 标签：asp.net-mvc-3, t4mvc

我刚刚从 vs2010 切换到 vs2012，并安装了 t4mvc。现在。我所有的链接都停止工作。

```
return RedirectToAction(MVC.Admin.Food.AdminAdded()); 
```

我会得到无法解析符号 MVC。

```
@Links.Content.images.btn_save_changes_png 
```

我会得到无法解析符号链接。

我不知道如何解决它，请帮助我，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T17:09:58.957

你能确定 T4MVC 正在生成它的文件吗？尝试右键单击 .tt 文件并选择“运行自定义工具”，这将强制生成。

如果生成了文件，您应该能够查看它们以了解为什么它们与您的参考不匹配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:21:32.747

尝试清除 VS 缓存并更新到最新版本的 ReSharper。

缓存位于

> C:\Documents and Settings\Administrator\Local Settings\Temp\VWDWebCache

可能在这里

> C:\Documents and Settings\Administrator\Local Settings\Application Data\Microsoft\WebsiteCache

REF：[如何清除 Windows Vista 上的 Visual Studio 缓存？](https://stackoverflow.com/questions/520593/how-do-you-clear-your-visual-studio-cache-on-windows-vista)

下面列出了一些有用的链接：

[MVC 3 项目升级工具](http://blogs.msdn.com/b/marcinon/archive/2011/01/13/mvc-3-project-upgrade-tool.aspx)

[可能是已解决的已知问题](http://youtrack.jetbrains.net/issue/RSRP-178681)

# python - pygame - 错误对象不可调用

> ID：15239046
> 
> 赞同：0
> 
> 时间：2013-03-06T04:33:00.150
> 
> 标签：python, class, pygame, typeerror

我遇到问题的代码如下。有人可以帮我弄清楚如何解决这个错误吗？我正在尝试使当我单击开始游戏时，它会在 if 语句下调用 main() 中的行。

错误：

```
 Traceback (most recent call last):
  File "C:/Users/Administrator/PycharmProjects/untitled/Game.py", line 122, in <module>
    main()
  File "C:/Users/Administrator/PycharmProjects/untitled/Game.py", line 75, in main
    controller = Manager(screen)
  File "C:/Users/Administrator/PycharmProjects/untitled/Game.py", line 23, in __init__
    self.go_to(TitleMenu(screen))
  File "C:/Users/Administrator/PycharmProjects/untitled/Game.py", line 47, in __init__
    self.main_loop()
  File "C:/Users/Administrator/PycharmProjects/untitled/Game.py", line 54, in main_loop
    self.menu.update(events)
  File "C:\Users\Administrator\PycharmProjects\untitled\menumaker.py", line 46, in update
    self.options[self.option][1]()
  File "C:/Users/Administrator/PycharmProjects/untitled/Game.py", line 38, in <lambda>
    self.menu = makeMenu(["START GAME", lambda: run()], ["CONTROLS", lambda: Help(screen)], ["QUIT GAME", sys.exit])
TypeError: 'bool' object is not callable 
```

代码：

```
class Manager(object):
    def __init__(self, screen):
        self.go_to(TitleMenu(screen))

    def go_to(self, scene):
        self.scene = scene
        self.scene.manager = self
#////////////////End Manager//////////////#
def run():
    global run
    run = True
    pass

#////////////////Title Menu and End Menu//////////////#
class TitleMenu(object):
    def __init__(self, screen):
        self.screen = screen
        self.menu = makeMenu(["START GAME", lambda: run()], ["CONTROLS", lambda: Help(screen)], ["QUIT GAME", sys.exit])
        self.menu.set_highlight_color((255, 0, 0))
        self.menu.set_normal_color((255, 255, 255))
        self.menu.center_at(300, 400)
        self.titleBackground = pygame.image.load("titleBackground.png")
        self.clock = pygame.time.Clock()
        events = pygame.event.get()
        self.menu.update(events)
        self.menu.draw(self.screen)
        self.main_loop()
        self.run = False

    def main_loop(self):
        while 1:
            self.clock.tick(60)
            events = pygame.event.get()
            self.menu.update(events)
            for e in events:
                if e.type == QUIT:
                    pygame.quit()
                    return

            self.menu.draw(self.screen)
            pygame.display.flip()

    def go_(self):
        self.manager.go_to(GameLevel(0))

class EndMenu(object):
    pass
#////////////////End Title Menu and End Menu//////////#

def main():
    globals()
    pygame.init()
    screen = pygame.display.set_mode(DISPLAY, FLAGS, DEPTH)
    pygame.display.set_caption("ABCDEFGHIJKLMNOPQRSTUVWXYZ")
    controller = Manager(screen)
    timer = pygame.time.Clock()
    running = True

    while running:
        timer.tick(60)
        if pygame.event.get(QUIT):
            running = False
            return

        controller.scene.handle_events(pygame.event.get())
        controller.scene.update()
        controller.scene.render(screen)
        pygame.display.flip()

        if run:
            controller.scene.go_()

    return Rect(left, bottom, width, height)

if __name__ == "__main__":
    main() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T04:35:54.620

问题是您的全局变量`run`与函数混淆了`run`：

```
def run():
    global run
    run = True
    pass 
```

这意味着当您尝试调用时`run()`：

```
 self.menu = makeMenu(["START GAME", lambda: run()], ["CONTROLS", lambda: Help(screen)], ["QUIT GAME", sys.exit]) 
```

它试图调用布尔变量。要修复它，请重命名全局变量`is_running`，或重命名函数`start_running`。

# java - 使用 PrintWriter 和 File 对象写入输出文件

> ID：15239053
> 
> 赞同：1
> 
> 时间：2013-03-06T04:33:28.300
> 
> 标签：java, file-io, printwriter

我有一个用于从用户那里获取数据文件的**JFileChooser对象。**我需要做的是创建一个**File**对象和**PrintWriter**对象，以便我可以写入一个名为**"output.txt"**的文件。该文件应写入从中检索数据文件的同一目录。

到目前为止，我已经尝试过：

```
// Write to a text file`

File file = new File ("output.txt");
PrintWriter printWriter = new PrintWriter (f); 
```

这段代码创建了输出文件，但我需要将它写入数据文件所在的同一目录。

首先想到的是在 JFileChooser 对象上调用 .getPath() 方法（见下文）。

```
String fileDir = inputFile.getPath();
String fileName = "output.txt";
File f = new File (fileDir + "/" + fileName);
PrintWriter printWriter = new PrintWriter (f); 
```

想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T04:37:41.827

`inputFile.getPath()`将为您提供文件路径。您需要`inputFile.getParent()`哪个将为您提供文件的目录。

```
String fileDir = inputFile.getParent(); 
String fileName = "output.txt";
File f = new File (fileDir,fileName);
PrintWriter printWriter = new PrintWriter (f); 
```

# javascript - Javascript setTimeout，多个脚本

> ID：15239058
> 
> 赞同：1
> 
> 时间：2013-03-06T04:34:22.117
> 
> 标签：javascript, jquery, settimeout

我无法让 setTimeout 工作。我有三个 js 文件，我试图展示它们的相关代码。setTimeout 在 evencard.js 中。如果我删除 js-decider.js 并在页面加载时立即加载 Flipcards2.js，那么 setTimeout 可以完美运行。但是，当我如下所示进行设置时， setTimeout 不会延迟任何东西；setTimeout 函数中的代码会立即运行。Modernizr 似乎不是问题，因为如果我在 js-decider.js 中放置一个 setTimeout ，它就可以工作。

**js-decider.js**

```
$(function() {

    $(window).bind('resize', function(){
        if (Modernizr.mq("screen and (max-width:680px)")) { 
        }
        else {
            $.getScript("js/flipcards2.js");
        }
    });

}); 
```

**Flipcards2.js**

```
$(function() {

    $(".more-images").click(function() {
        $(this).addClass("active-more");
    });
    $('#page .container:odd .more-images').click(function() {
        evenCard();
    });

}); 
```

**偶数卡.js**

```
function evenCard() {

    var $thisElse = $('.active-more');

    function timeoutTriggerElse() {
        $thisElse.closest(".container").removeClass("hide");
    }

    setTimeout(function(){timeoutTriggerElse()},400);

    $('.active-more').removeClass("active-more");

} 
```

# text - 如何缩放我的文本层

> ID：15239059
> 
> 赞同：0
> 
> 时间：2013-03-06T04:34:30.467
> 
> 标签：text, scale, kineticjs

我希望通过单击按钮来缩放文本层。

```
var messageLayer = new Kinetic.Layer();

function writeMessage(message, xx, yy) {
var context = messageLayer.getContext();
context.font = '12pt Calibri';
context.fillStyle = 'white';
wrapText(context, message, xx, yy, seat_size, seat_size);
}

stage.add(messageLayer);
writeMessage(text, xx, yy);

document.getElementById('zoomInBtn').onclick = function zoomInStage(){  
stage.setScale(2);
stage.draw();
} 
```

我不知道为什么，但这似乎不起作用..

感谢您的帮助。

* * *

嗨，感谢您指出我的错误。但是在我添加 y 值之后，这仍然无法正常工作....

以下是我的代码：

```
enter <!DOCTYPE HTML>
<html>
<body>
<div id="container"></div>
 <button id="scaleme" style="margin-left:10px;">Scale</button>
<script src="http://www.html5canvastutorials.com/libraries/kinetic-v4.3.0-beta2.js"></script>
<script>
  function writeMessage(messageLayer, message) {
    var context = messageLayer.getContext();
    messageLayer.clear();
    context.font = '18pt Calibri';
    context.fillStyle = 'black';
    context.fillText(message, 10, 25);
  }
  var stage = new Kinetic.Stage({
    container: 'container',
    width: 578,
    height: 200
  });

  var messageLayer = new Kinetic.Layer();

  stage.add(messageLayer);
  writeMessage(messageLayer, 'text text text');

  document.getElementById('scaleme').onclick = function scale(){ 
     messageLayer.setScale(2,2);
  }

</script>
</body>
</html> 
```

请helppp....谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:42:28.420

来自 API 文档：
这是格式：

```
 setScale(x, y) 
```

因此，您似乎缺少 y 参数。

如果你这样做

```
 stage.setScale(2,2); 
```

那么整个舞台都会被缩放，但如果你只想缩放文本层：

```
 messageLayer.setScale(2,2); 
```

最后，如果你想花哨，你可以做一个过渡来放大到文本：

```
messageLayer.on('click', function(){
    messageLayer.transitionTo({
                scale: {
                    x: 2,
                    y: 2
                },
            duration: 1,
                easing: 'elastic-ease-out' // this one is not really necessary, just for show
        });
}); 
```

**编辑：** 由于您使用的是画布原语，请执行以下操作：http: [//jsfiddle.net/mmqXK/](http://jsfiddle.net/mmqXK/)

```
 var context = messageLayer.getContext();
 context.scale(1, 0.5);
 messageLayer.draw();
 writeMessage(messageLayer, 'text text text'); 
```

# c++ - find_if in set in C++：未解析的重载函数类型

> ID：15239062
> 
> 赞同：-1
> 
> 时间：2013-03-06T04:34:41.437
> 
> 标签：c++, set, stdset

我之前在 C++ 中将 find_if 与列表和向量一起使用过，它运行良好。但是现在，当我尝试将它与集合一起使用时，我收到以下错误：

```
 error: no matching function for call to ‘find_if(std::set<A, Acmp>::iterator, 
 std::set<A, Acmp>::iterator, <unresolved overloaded function type>)’| 
```

我的班级如下：

```
bool searchForA(A i) {
   return (i.getVal() > 0);
 }

void B::findA()
 {
   set<A, Acmp> cont;
   set<A, Acmp>::iterator it;
   A *a1 = new A(5);
   A *a2 = new A(7);
   cont.insert(*a1);
   cont.insert(*a2);

   it = find_if (cont.begin(), cont.end(), search)
} 
```

谁能帮我理解问题出在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:42:15.830

STL 中已经有一个名为`search`. 这可能就是编译器在没有更好提示的情况下无法解析正确名称的原因。您可以重命名搜索功能。或者，如果您不想这样做，请尝试`::search`传入`find_if`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:17:07.313

命名的函数不止一个`search`——名称被重载。要将指针传递到`search`into `find_if`，您需要指定哪个。最直接的方法是指定`static_cast< bool (*)( A ) >( cont )`.

# objective-c - 如何使用日期字符串获取时间

> ID：15239067
> 
> 赞同：3
> 
> 时间：2013-03-06T04:35:02.187
> 
> 标签：objective-c, datetime

如何根据我的时区从日期时间字符串中获取时间。我的时区时间是格林威治标准时间 +5:30。日期时间看起来像 -

```
04/03/2013 3:30:00 AM 
```

我想要这样的输出 -

```
9:00:00 AM 
```

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T04:44:23.307

您需要两个日期格式化程序。

一种将字符串转换为日期。然后将日期转换为字符串以获得所需的时间格式。

```
NSDateFormatter *dateFormatter=[NSDateFormatter new];
[dateFormatter setDateFormat:@"MM/dd/yyyy hh:mm:ss a"];
NSDate *date=[dateFormatter dateFromString:@"04/03/2013 3:30:00 AM"];

NSDateFormatter *dfTime = [NSDateFormatter new];
[dfTime setDateFormat:@"hh:mm:ss a"];
NSString *time=[dfTime stringFromDate:date]; 
```

**未编译和检查*

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T04:47:52.560

如果字符串中有日期和时间，即 GMT 日期时间，则需要在字符串中添加 GMT。通过这个，您可以获得您所在时区的实际时间 -

```
NSString *dateStr = @"04/03/2013 3:30:00 AM GMT";

    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];

    [dateFormatter setDateFormat:@"MM/dd/yyyy hh:mm:ss a ZZZ"];

    NSDate *date = [dateFormatter dateFromString:dateStr];

    [dateFormatter setDateFormat:@"hh:mm:ss a"];

    NSString *opDateStr = [dateFormatter stringFromDate:date];

    NSLog(@"op = %@",opDateStr); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T04:50:21.763

```
NSString *strdate= @"04/03/2013 3:30:00 AM";
NSDateFormatter *dateFormatter=[NSDateFormatter new];
[dateFormatter setDateFormat:@"MM/dd/yyyy hh:mm:ss a"];
[dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
NSDate *date=[dateFormatter dateFromString:strdate];

NSDateFormatter *dfTime = [NSDateFormatter new];
[dfTime setDateFormat:@"hh:mm:ss a"];
NSString *time=[dfTime stringFromDate:date];
NSLog(@"%@",time); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T05:14:06.897

```
NSDateFormatter * formatter = [[NSDateFormatter alloc]init];
[formatter setDateFormat:@"dd/MM/yyyy hh:mm:ss a"];
NSLog(@"%@",[formatter stringFromDate:[NSDate date]]); 
```

输出 **06/03/2013 10:41:18 AM**

```
[formatter setDateFormat:@"hh:mm:ss a"];
 NSLog(@"%@",[formatter stringFromDate:[NSDate date]]); 
```

**上午 10:41:18**输出

 **而不是 [NSDate date] 传递需要格式化的日期。

由于您想要根据当前时区提供的时间字符串中的时间，您需要执行以下操作

```
NSDateFormatter *dateFormatter=[NSDateFormatter new];
[dateFormatter setDateFormat:@"MM/dd/yyyy hh:mm:ss a zzz"];
NSDate *date=[dateFormatter dateFromString:@"04/03/2013 3:30:00 AM 0000"];

NSDateFormatter *dfTime = [NSDateFormatter new];
[dfTime setTimeZone:[NSTimeZone systemTimeZone]];
[dfTime setDateFormat:@"hh:mm:ss a"];
NSString *time=[dfTime stringFromDate:date];
NSLog(@"%@",time); 
```

除非存在 0000 的偏移量，否则您不会得到真正的输出。（它的 GMT 偏移量）。此外，如果 dateString 的格式及其格式化程序不同，时间格式化程序也不会完美工作。所以你需要做 MM/dd/yyyy hh:mm:ss 一个 zzz，zzz 是偏移量。现在您的输出将是**09:00:00 AM****

# c - 获取数组的输入

> ID：15239068
> 
> 赞同：0
> 
> 时间：2013-03-06T04:35:03.790
> 
> 标签：c, arrays, int, double, output

在为我的计算机科学课做一个项目时，我遇到了数组的问题。基本上，我必须从用户那里获取他们想要输入数据的年数。然后我必须使用该输入来创建两个数组（一个用于他们想要数据的实际年份，一个用于数据本身）。然后我必须打印出用户刚刚输入的年份和数据。

问题是，当我这样做时，年份的数据打印得很好，但年份本身会打印为随机内存地址。另一个奇怪的事情是，这只发生在我做三年或更长时间的时候。当我做两个或更少时，其他一切都很好。年份的变量是 int，数据的变量是 double。

```
int numberofyears;
printf("Enter the number of years you wish to take data for: " );
scanf("%d",&numberofyears); //take input for how many times arrays run

int years[numberofyears];
double dataforyear[numberofyears];

int a;
printf("Enter the years and their respective data");
for (a=0;a<numberofyears;a++){
   scanf("%d %lf",&years[a],&dataforyear[a]);} //take inputs for both arrays

int b;
for (b=0;b<numberofyears;b++){
   printf("%d %.2lf\n",years[b],dataforyear[b]);} 
```

输入：

```
Enter the number of of years you wish to take data for: 5
Enter the years and their respective data
1950 200.96
2000 300.55 
```

打印出来：

```
1950 200.96
2000 300.55 
```

输入：

```
Enter the number of of years you wish to take data for: 5
Enter the years and their respective data
1956 325.21
1989 386.22
2003 400.00 
```

打印出来：

```
0 325.21
1081671680 386.22
2003 400.00 
```

超过 3 年的其他任何事情都可以做到这一点。虽然看起来超过 5 年的事情不会像 3 那样保留最后一年，但无论出于何种原因，如果这有帮助的话。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:00:34.940

你是如何声明你的`dataforyear[]`数组的？
如果是，`float dataforyear[]`则将您的 scanf 语句更改为
`scanf("%d %f",&years[a],&dataforyear[a]);`

`double dataforyear[]`如果您想保持`scanf`声明原样，则将您的数组声明为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T04:58:05.583

这些行：

```
int years[numberofyears];
double dataforyear[numberofyears]; 
```

可能是问题所在。编译器需要在编译时知道数组的大小。否则你将不得不为你的数组分配内存。如果您的程序不希望读取大量数据，您总是可以通过指定它们的大小来避免分配内存。

```
int years[10];
double dataforyear[10]; 
```

# vim - vim下的快速修复窗口与合成

> ID：15239072
> 
> 赞同：0
> 
> 时间：2013-03-06T04:35:42.380
> 
> 标签：vim, go, syntastic

我有以下[vimrc](https://github.com/mictadlo/vimrc4GO/blob/master/.vimrc)。如果我按 :w 我会得到

![](../Images/1ef683696f5f3644fa8608619decb59d.png)

比我做的：make

```
$ vim closure.go 

make: *** No targets specified and no makefile found.  Stop.

Press ENTER or type command to continue
[No write since last change]
# _/home/x
./closure.go:27: undefined: fmt.P
./maps.go:5: main redeclared in this block
    previous declaration at ./closure.go:23
./slices.go:5: main redeclared in this block
    previous declaration at ./maps.go:5

Press ENTER or type command to continue 
```

按下 ENTER 后，Vim 看起来像这样![在此处输入图像描述](../Images/25c32ce6feb533bc96f451142f6bfddb.png)

不幸的是，我没有以下输出![在此处输入图像描述](../Images/78f05e610aea949e549d3b777ee3ff4d.png)

我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-20T13:28:22.393

显然 Syntastic 使用位置列表 ( `:lwindow`) 而不是 quickfix ( `:cwindow`)。

# perl - Perl win32::GUI 进度条

> ID：15239075
> 
> 赞同：0
> 
> 时间：2013-03-06T04:35:55.637
> 
> 标签：perl, winapi

进度条不跟随脚本。我想在脚本执行时显示进度条。完成后应该停止。目前它正在显示完整的过程，然后进行打印输出。请在下面找到我的代码：

```
$Progress_bars = $main->AddProgressBar(
   -pos        => [10,840],
   -background => [0,255,85],
   -smooth     => 1,
   -size       => [470,20],
);
my $intended_max = 100;
my $x = 11;
my $y = int($intended_max/$x);
$Progress_bars->SetRange(0,$x*$y);
for (1 .. $x) {
    Win32::GUI::DoEvents();
    $Progress_bars->SetStep($y);
    $Progress_bars->StepIt();
    Win32::Sleep(50);
}

$output = $telnet->print('ls');
print $output; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:05:12.590

您的代码是通过进度值增加值而不是直接设置它。尝试调用`SetPos`方法而不是`SetStep`and `StepIt`。

（注意我没有使用 Win32::GUI，所以我根据 MSDN 猜测方法名称。）

# javascript - 为什么是 $(document).ready(); 不明确的？

> ID：15239076
> 
> 赞同：13
> 
> 时间：2013-03-06T04:35:56.647
> 
> 标签：javascript, jquery, html

我认为我做的一切都是正确的，但是我不断收到这个错误。$(文档).ready(); // 在控制台中未定义。我导入了我的 jquery 脚本。

```
 <script src = "//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script >

        $(document).ready(function(){

            $("div#chat").hide();

        });

        function send_file(){

        }

        function remove_selected(){

        }

        function changeToFile(){

        }

        function chatToProfile(){

        }

        function changeToChat(){

        }
    </script> 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-06T04:39:11.697

如果您在本地运行此文件（我怀疑您是...），这将尝试在您的本地系统上找到引用的文件，该文件不存在。

要解决此问题，请改用此：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T04:37:44.447

需要在您的脚本参考中添加 http:。试试这个：

```
<script src = "http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T04:45:10.443

我这样使用 :) 和那些说需要 HTTP 的人。阅读本文以获取相对协议 URL[协议相对 url](http://paulirish.com/2010/the-protocol-relative-url/)

```
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E")); //Load the Local file (if google is down for some reason) 
}
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T04:52:56.487

您用于加载的脚本 url 是完美的。
您可以通过在浏览器 url 中发布“ [http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js) ”来检查您的网址，如果您将获得 javascript 文本文件，那么它正在工作。
我对其进行了测试，并且该 url 在我这边工作正常。错误是在其他地方存在限制（安全原因）或当您在系统上运行该 Web 应用程序时系统上存在互联网连接问题。
解决方案是在您的 Web 应用程序中使用缩小副本并提供相对路径或使用

```
 <script type="text/javascript">
  if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/js/jquery-1.4.2.min.js' type='text/javascript'%3E%3C/script%3E"));
 }
 </script> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-06T04:40:21.470

您总是可以检查 jQuery 是否已经加载到内存中并且库是否可以使用：

```
if (typeof jQuery !== 'undefined') {
  //do whatever here
} 
```

# c# - 网页打印预览

> ID：15239078
> 
> 赞同：0
> 
> 时间：2013-03-06T04:36:21.950
> 
> 标签：c#, asp.net, printing

我正在创建一个在线申请表。在首页，有名字，姓氏，电子邮件等......表单输入。我想要的是，如果用户填写表格并单击提交，我想向他显示打印预览页面，其中包含用户填写的值......这可能吗？我正在使用 ASP.Net C#

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:53:02.040

如果您可以使用 jquery，则此代码很好

```
 $(document).ready(function () {
 window.print();
 }); 
```

你可以看到这些

[http://www.designplace.org/tutorials.php?page=1&c_id=27](http://www.designplace.org/tutorials.php?page=1&c_id=27)

[http://www.alistapart.com/articles/goingtoprint/](http://www.alistapart.com/articles/goingtoprint/)

[http://www.4guysfromrolla.com/webtech/061103-1.shtml](http://www.4guysfromrolla.com/webtech/061103-1.shtml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:21:23.613

如果你可以使用javascript，那么试试这个

```
<script type="text/javascript">
function CallPrint(strid) {
    var prtContent = document.getElementById(strid);
    var WinPrint = window.open('', '', 'letf=0,top=0,width=850,height=800,toolbar=0,scrollbars=1,status=0');
    WinPrint.document.write('<html><head><title>Popup</title>')
    WinPrint.document.write('</head><body>');
    WinPrint.document.write('</body></html>');
    WinPrint.document.write(prtContent.innerHTML);
    WinPrint.document.close();
    WinPrint.focus();
    WinPrint.print();
        }
</script> 
```

在页面上取一个打印按钮

```
<input id="btnPrint" type="button" value="Print" runat="server" 
    onclick="javascript:CallPrint('divPrint')"/> 
```

并将要打印的控件放置在 div 中

```
<div id="divPrint">
  //Your controls
</div> 
```

# windows-8 - 如何进行屏幕尺寸感知布局？

> ID：15239083
> 
> 赞同：0
> 
> 时间：2013-03-06T04:36:44.667
> 
> 标签：windows-8, windows-store-apps, winrt-xaml

我正在做一个棋盘游戏。为了构建电路板，我执行以下操作：

```
 // adapted from http://code.msdn.microsoft.com/windowsapps/Reversi-XAMLC-sample-board-816140fa/sourcecode?fileId=69011&pathId=706708707
    // This is shit code.
    async void PlayGame_Loaded(object sender, RoutedEventArgs e)
    {
        foreach (var row in Game.ALL_ROWS)
        {
            boardGrid.RowDefinitions.Add(new RowDefinition() { Height = new GridLength(BOARD_GRID_SIDE_LENGTH) });
        }
        var maxColIndex = Game.ALL_ROWS.Max();
        foreach (var col in Enumerable.Range(0, maxColIndex))
        {
            boardGrid.ColumnDefinitions.Add(new ColumnDefinition() { Width = new GridLength(BOARD_GRID_SIDE_LENGTH) });
        }

        // ...
     } 
```

（请随意提出替代方法。）

基本上，我根据预设的高度和宽度创建一堆行和列，并用板空间填充这些行和列。当我设置行和列的长度以适合我的笔记本电脑时，这可以正常工作，但显然它不适用于具有不同分辨率的设备。（例如，它在 Surface RT 上被截断。）我该如何解决这个问题？我可以指定作为父容器一部分的边长吗？这里的最佳做法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:35:40.400

您最好的选择可能是使用[ViewBox](http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.viewbox)，假设您要绘制的板具有恒定数量的行/列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T15:24:22.777

我用这个：

```
var bounds = Window.Current.Bounds;

double height = bounds.Height;    
double width = bounds.Width; 
```

找出我的应用程序所在的屏幕分辨率，然后根据屏幕大小的功能重新调整我的网格项目的大小。

编辑：所以对于你的代码，我会这样做：

```
 async void PlayGame_Loaded(object sender, RoutedEventArgs e)
        {
             var bounds = Window.Current.Bounds;

             double BOARD_GRID_SIDE_LENGTH = bounds.Height;    
             double BOARD_GRID_SIDE_WIDTH = bounds.Width;

            foreach (var row in Game.ALL_ROWS)
            {
            boardGrid.RowDefinitions.Add(new RowDefinition() { Height = new GridLength(BOARD_GRID_SIDE_LENGTH) });
        }
        var maxColIndex = Game.ALL_ROWS.Max();
        foreach (var col in Enumerable.Range(0, maxColIndex))
        {
            boardGrid.ColumnDefinitions.Add(new ColumnDefinition() { Width = new GridLength(BOARD_GRID_SIDE_WIDTH) });
        }

        // ...
     } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-09T20:30:48.937

合理的解决方案是将您的页面划分`boardGrid`为屏幕的 2/3，其余的内容（按钮、计时器、记分板......）在另外三分之一。
其次，将它包含在一个`Viewbox`元素中，以便在您进入不同的视图模式（完整、纵向、对齐、填充）时重新计算板尺寸
最后，确保使页面继承`LayoutAwarePage`而不是`Page`让它处理视图模式的变化优雅地

这是一个粗略的模型：

```
<common:LayoutAwarePage
xmlns:UI="using:Microsoft.Advertising.WinRT.UI"
x:Class="ApexKT.MainPage"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:local="using:MyApp"
xmlns:common="using:MyApp.Common"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:snaps="http://schemas.microsoft.com/netfx/2007/xaml/presentation"
mc:Ignorable="d" >    
<Grid x:Name="bigGrid">
    <StackPanel Orientation="Horizontal">
        <StackPanel x:Name="OneThird">
            <TextBlock x:Name="ScoreBoard" Text="Score:" />
            <Button x:Name="Button1" Content="Button 1" Click="" />
        </StackPanel>
        <Viewbox x:Name="TwoThirds">
            <Viewbox.Transitions>
                <TransitionCollection>
                    <ContentThemeTransition />
                </TransitionCollection>
            </Viewbox.Transitions>
            <Grid x:Name="boardGrid"><!-- insert row and column definitions here, or hard code them --></Grid>
        </Viewbox>
    </StackPanel>
    <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="ApplicationViewStates">
            <VisualState x:Name="FullScreenLandscape"/>
            <VisualState x:Name="Filled"/>
            <VisualState x:Name="Snapped" />
            <VisualState x:Name="FullScreenPortrait" />
        </VisualStateGroup>
    </VisualStateManager.VisualStateGroups>
</Grid> 
```

`

# wordpress - 试图在子域上安装 Wordpress，破坏了主域链接

> ID：15239085
> 
> 赞同：0
> 
> 时间：2013-03-06T04:36:52.543
> 
> 标签：wordpress, installation, subdomain, file-not-found, addon-domain

我有一个通过 MacHighway 托管的主要投资组合网站。我的托管包允许我拥有两个域。我想我会注册一个新域来尝试一些新事物。所以我买了一个新域，进入我的主站点的 cPanel，将其注册为附加域，并尝试在其上安装 Wordpress。我让 Wordpress 正常工作，但后来我主站点上的所有链接都坏了。所以我删除了新站点的文件，看看是否有帮助，但我主站点上的所有链接仍然损坏。这些页面都说“找不到文件”。我哪里做错了？我怎样才能解决这个问题？我现在不关心新网站。我只需要让我的主站点恢复原状。帮助？

[这是我的网站](http://mcography.com)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:39:22.947

没关系。我访问了“设置”>“永久链接”，一切都恢复了。

# html - 如何修复 HTML 显示错误（我的文本意外下拉）

> ID：15239088
> 
> 赞同：0
> 
> 时间：2013-03-06T04:36:59.220
> 
> 标签：html, css, layout, formatting

所以我想做的是为我自己的 HTML 小网站创建一个模型。所以直到现在一切都很顺利。我想要做的是显示一个图像，然后在它旁边显示一个标题和描述，有点像 youtube 所做的。

例子：![我正在尝试创建的内容](../Images/9a8bfb610e3af334ff4d0bf34170e900.png)

因此，如果文本不必下降到新行，那么我现在拥有它的方式就可以完美地工作。

它的工作示例：![当我的标题和描述很短时它可以工作](../Images/7149835d6b2153bc7745594c4c8e13a5.png)

但是，如果其中一个太长，一切都会搞砸，搞砸的例子：![如果我的标题太长，那就搞砸了](../Images/a95d3a73c7d64b884d3a00344311c2ba.png)

我设置了一个 JS fiddle 让你们更容易。但是请记住，我正在使用引导程序进行设计，因此 CSS 如此长的原因是因为它包含完整的引导程序，但是只有前 57 行是我自定义编写的 css。无论如何，如果有人可以帮助我，那么当我的标题或描述太长时，它会像 youtube 一样放到下一行。

我的 HTML

```
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
        <link rel="stylesheet" type="text/css" href="css/custom.css">
        <title>Comments</title> 
    </head>

    <body>

        <div class="logo">
            <img height="70" width="200" src="/img/logo.png">
        </div>

        <div class="container">

            <div class="leftBar">
                <div class="well">
                    <div class="title">
                        <h3>Mini Title</h3>
                    </div>

                    <hr/>

                    <div class="contentLink">
                        <div class="smallContentImage">
                            <img src="http://i.imgur.com/zesaMhG.gif">
                        </div>

                        <div class="smallContentText">
                            <h5>Title Goes Here</h5>

                            <em>
                                Other Informati
                            </em>
                        </div>
                    </div>

                </div>
            </div>

            <div class="rightBox">
                <div class="well">
                    <div class="title">
                        <h1>Title For Content</h1>
                    </div>
                    <p> CONTENT CONTENT CONTENT </p>
                </div>
            </div>

        </div>

    </body>

</html> 
```

我的 CSS

```
body {

    background #FAFAFA;
}

.title {

    text-align: center;
}

.logo {

    margin-right: auto;
    margin-left: 2%;
    padding-top: 2%;
}

.leftBar
{
    margin-right: auto;
    float: left;
    width: 30%;
    overflow: hidden;
}

.rightBox 
{
    margin-left: 0;
    float: right;
    width: 70%;
}

.contentLink
{
    padding-left: 1%;
    padding-right: 1%;
    width: auto;
    height: auto;
}

.smallContentImage {

    width: 100px;
    height: 100px;
    margin-left: 0;
    margin-right: auto;
    float:left;
}

.smallContentText {
    float: right;
    width: auto;
    margin-left: auto;
    margin-right: 0;
    width: fixed;
} 
```

JS 小提琴：http: [//jsfiddle.net/BjSv8/](http://jsfiddle.net/BjSv8/)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:46:21.037

没有这样的事情`width:fixed`。您需要确保两个内容项的宽度加起来等于父项的宽度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T04:47:51.570

你有什么理由使用 em 而不是 div。如果您可以使用 'div' 而不是 'em' 并定义 width ，那么您的问题就可以解决。

```
<div  style="word-wrap:break-word;border:1px solid red; width:100px">
Other Information goes here
</div> 
```

看到这个小提琴：http: [//jsfiddle.net/BjSv8/1/](http://jsfiddle.net/BjSv8/1/)

# ios - 使用 MagicalRecord 进行核心数据迁移 - 添加属性并填充它

> ID：15239092
> 
> 赞同：3
> 
> 时间：2013-03-06T04:37:22.600
> 
> 标签：ios, objective-c, core-data, core-data-migration, magicalrecord

我有一个 iOS 应用程序，我在 UITableView 和使用 MagicalRecord 的部分标题方面遇到了一些问题。我需要按标题对表格进行排序，并且标题包含大写和小写字母的条目。由于 MagicalRecord 不进行“ignoreCase”排序，因此我需要添加一个带有“标准化”标题（例如全部小写）的列。

现在我的问题是如何添加这个额外的列。我可以通过迁移添加一个新列，但我不知道如何用规范化的标题填充该列。

我阅读了这个[Stack Overflow 答案](https://stackoverflow.com/questions/5995231/example-or-explanation-of-core-data-migration-with-multiple-passes)，但仍然无法弄清楚它应该如何工作。

我已经在考虑编写自己的迁移系统，因为我从 Rails 知道它只会用规范化的标题填充新列。

如果你有兴趣：整个项目的源码在 GitHub 上： [https ://github.com/deepflame/iOpenSongs](https://github.com/deepflame/iOpenSongs)

# c# - 邮件、联系人、日历和任务等 Outlook 项目的单击事件处理

> ID：15239097
> 
> 赞同：0
> 
> 时间：2013-03-06T04:37:50.653
> 
> 标签：c#, visual-studio-2008, outlook, outlook-addin

我想实现 Outlook 插件来访问 Outlook 项目的详细信息，如邮件、日历、任务和联系人。

我创建了示例插件并将许多自定义项添加到上下文菜单中。但我现在需要的是，如果我单击 Outlook 联系人，则上下文菜单只有与联系人相关的自定义项目（例如联系人姓名），所有其他的要么禁用或从上下文菜单中删除（例如事件名称）。

示例代码如下：

```
公共无效 PacktMenuItem_ItemContextMenuDisplay（Microsoft.Office.Core.CommandBar PacktCommandBar，Microsoft.Office.Interop.Outlook.Selection 选择）
        {
            // Commadbarpopup 控件到上下文菜单项
            Office.CommandBarPopup callBarPopUp = (Office.CommandBarPopup)PacktCommandBar.Controls.Add(Office.MsoControlType.msoControlPopup, Type.Missing, "自定义菜单项 1", PacktCommandBar.Controls.Count + 1, Type.Missing);
            // 设置菜单的标签值
            callBarPopUp.Tag = "PacktCustomMenuItem1";
            // 上下文菜单项的标题
            callBarPopUp.Caption = "自定义项目";
            // 设置为可见
            callBarPopUp.Visible = true;

            //项目1
            Office.CommandBarButton callButton2 = (Office.CommandBarButton)callBarPopUp.Controls.Add(1, 缺失, 缺失, 缺失, true);
            callButton2.Caption = "联系人姓名";
            callButton2.Click += new Office._CommandBarButtonEvents_ClickEventHandler(Callxx2);

            //项目2
            Office.CommandBarButton callButton3 = (Office.CommandBarButton)callBarPopUp.Controls.Add(1, 缺失, 缺失, 缺失, true);
            callButton3.Caption = "事件名称";
            callButton3.Click += new Office._CommandBarButtonEvents_ClickEventHandler(Callxx3);
        }

```

请指导。！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:46:22.827

终于找到了一篇好帖子，帮助我解决了我的查询..

[http://msdn.microsoft.com/en-us/library/ms268994%28v=vs.80%29.aspx](http://msdn.microsoft.com/en-us/library/ms268994%28v=vs.80%29.aspx)

感谢微软..；）

# android - 地理编码器中的安全异常

> ID：15239100
> 
> 赞同：0
> 
> 时间：2013-03-06T04:37:55.900
> 
> 标签：android, geocode, securityexception

我得到一个

```
java.lang.SecurityException: Not allowed to bind to service Intent { act=com.android.location.service.GeocodeProvider pkg=com.google.android.location } 
```

在尝试在我的 JellyBean 设备上获取地理编码时。

```
Geocoder geocoder = new Geocoder(getActivity(), Locale.getDefault());                 
try {                    
    List<Address> listAddresses = geocoder.getFromLocation(latitude, longitude, 1);
    if (null != listAddresses && listAddresses.size() > 0)
        currentAddress =listAddresses.get(0);
} catch (IOException e) {
    e.printStackTrace();
} 
```

我有权限`ACCESS_FINE_LOCATION`, `ACCESS_COARSE_LOCATION`,`INTERNET`添加。如何避免一直获取地理编码？

* * *

AndroidManifest.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="xxx"
    android:versionCode="15"
    android:versionName="0.5" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

    <permission
        android:name="xxx.permission.C2D_MESSAGE"
        android:protectionLevel="signature" />

    <uses-permission android:name="xxx.permission.C2D_MESSAGE" />
    <!-- App receives GCM messages. -->
    <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
    <!-- GCM connects to Google Services. -->
    <uses-permission android:name="android.permission.INTERNET" />
    <!-- GCM requires a Google account. -->
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <!-- Keeps the processor from sleeping when a message is received. -->
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.NETWORK" />
    <uses-permission android:name="android.permission.USE_CREDENTIALS" />

    <application
        android:allowBackup="true"
        android:hardwareAccelerated="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".DashboardActivity"
            android:label="@string/app_name"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
            android:windowSoftInputMode="adjustPan" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main"
            android:screenOrientation="portrait" >
        </activity>

        <receiver
            android:name="com.google.android.gcm.GCMBroadcastReceiver"
            android:permission="com.google.android.c2dm.permission.SEND" >
            <intent-filter>
                <action android:name="com.google.android.c2dm.intent.RECEIVE" />
                <action android:name="com.google.android.c2dm.intent.REGISTRATION" />

                <category android:name="xxx" />
            </intent-filter>
        </receiver>

        <service android:name="xxx.GCMIntentService" />

        <meta-data
            android:name="com.facebook.sdk.ApplicationId"
            android:value="@string/app_id" />

        <activity android:name="com.facebook.LoginActivity" >
        </activity>
    </application>

</manifest> 
```

（包名被替换了`xxx`。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:46:10.347

检查您的 Android 清单代码。

通常， **`java.lang.SecurityException`**发生是因为您可能输入了两个指向同一活动的条目。删除第二个并检查一次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T04:59:06.880

替换此行

```
Geocoder geocoder = new Geocoder(getActivity(), Locale.getDefault()); 
```

和

```
 Geocoder geocoder = new Geocoder(<Your Activity Name>.this, Locale.getDefault()); 
```

还请检查您是否在清单标签下而不是在应用程序标签下添加了这些权限（以前发生在我身上一次）。

否则我认为您的代码没有任何问题。如果问题仍然存在，请尝试重新启动您的设备，然后再次尝试运行代码，因为这可能是硬件问题。

# sql-server - SQL Server 或其他数据库中 Oracle Enterprise 用户安全性的替代方案

> ID：15239101
> 
> 赞同：0
> 
> 时间：2013-03-06T04:37:56.973
> 
> 标签：sql-server, oracle, security

SQL Server 和其他数据库中是否有 Oracle Enterprise User Security 的替代方案？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:56:30.560

据我所知，SQL Server 对 Oracle 企业用户安全一无所知。

SQL Server 支持两种类型的登录：

1.  经典的登录/密码类型的安全性，

2.  “Windows Trusted”安全性，类似于 Oracle 中的“Externally Identified”安全性，即它相信 windows 已经验证了您的身份并使用任何 windows 认为您的身份（即您的 windows 登录名）

# android - 如何使用 clients_secret json 连接到 Google Drive api Android

> ID：15239102
> 
> 赞同：1
> 
> 时间：2013-03-06T04:38:01.773
> 
> 标签：android, json, google-drive-api

我从 API 控制台下载了 clients_secret json。我已经看到我可能需要它：[client_secret not available in client_secret.json](https://stackoverflow.com/questions/14981772/client-secret-not-available-in-client-secret-json)

我不确定我应该如何将它集成到我的 Android 应用程序中，或者它的确切用途。

对于我的一个应用程序，当我按照示例进行操作时，我收到了 403 Forbidden 错误。

洞察力将有助于解释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:57:44.780

如果您的目标是了解如何正确授权您的 Android 应用使用 Drive API，那么快速入门指南可能是您的最佳选择：

[https://developers.google.com/drive/quickstart-android](https://developers.google.com/drive/quickstart-android)

# sql - 从表中选择每条记录而不重复相同的记录

> ID：15239105
> 
> 赞同：5
> 
> 时间：2013-03-06T04:38:41.440
> 
> 标签：sql, sql-server, sql-server-2005

如何选择每条记录而不重复相同的记录？

例子：

```
ID            item
------       -------
ABC          item 1
XXX          item 2
AXA          item 3
ABC          item 4
XXX          item 5 
```

从上表中，我只想选择ABC、XXX、AXA等每条记录，不再赘述。如何在 MS SQL 2005 中执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T04:40:17.770

使用`distinct`关键词：

```
Select distinct id from TABLE; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T04:40:24.290

```
SELECT DISTINCT ID from YourTable 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T04:40:40.060

```
Select Distinct ID from tablename 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T04:45:51.983

您必须使用“DISTINCT”关键字来获取不同的记录，您可以使用以下查询，

“选择不同的 ID 来自”

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-06T04:55:02.677

DISTINCT 关键字可用于仅返回不同（不同）的值。

```
SELECT DISTINCT you_column_name FROM your_table_name 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-03-06T04:55:43.577

**DISTINCT**关键字可用于仅返回不同（不同）的值。

[http://www.w3schools.com/sql/sql_distinct.asp](http://www.w3schools.com/sql/sql_distinct.asp)

所以你可以使用这个查询：

> 从表名中选择不同的 ID

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-03-06T05:01:38.283

从表名中选择不同的 id

# razor - HandleError 是否在带有剃刀的 Asp.net MVC 4 中不再起作用

> ID：15239107
> 
> 赞同：3
> 
> 时间：2013-03-06T04:38:44.810
> 
> 标签：razor, asp.net-mvc-4, handleerror

我`[HandleError]`在控制器上设置了属性。

这是我的操作方法：

```
 public ActionResult ShowError()
    {

        throw new NullReferenceException();
        return View();
    } 
```

这个动作方法有一个对应的视图。

我在配置中设置了自定义错误

```
<customErrors mode="On">     
</customErrors> 
```

我`Error.cshtml`在 Views 文件夹下的共享文件夹中有该文件。

现在导航到`ShowError`控制器方法会在我的 IDE 中打开这个窗口 ![在此处输入图像描述](../Images/0e14c842f47207573fc9ac247fcd16be.png)

按 F5 后，我在浏览器窗口中得到了这个，而不是共享文件夹中的错误页面。 ![在此处输入图像描述](../Images/7b30638198ad356c3d4e0955f29d0b13.png)

还需要做什么来显示错误页面？我怎样才能`HandleError`开始工作？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:05:58.087

行。所以问题出在我使用的浏览器上，即 IE 9。IE 9 似乎无法显示小于 1 KB 的错误页面。我把`@(new String(' ', 1000))`我的错误页面放在最后并让它工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:19:36.740

该[文件](http://msdn.microsoft.com/en-us/library/system.web.mvc.handleerrorattribute%28v=vs.108%29.aspx)指出

> 要启用自定义错误处理以供 HandleErrorAttribute 过滤器使用，请将 customErrors 元素添加到应用程序的 Web.config 文件的 system.web 部分，如以下示例所示：

```
<system.web>
  <customErrors mode="On" defaultRedirect="Error" />
</system.web> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-08T00:34:18.593

您可以将视图的名称放在 defaultRedirect="Error" 中，如摩擦拉力所述，或者可以在操作、控制器或全局的 HandleError 属性中指定。

```
[HandleError(View="Error")] 
```

如果您明确指定视图，则视图可以命名为“错误”以外的名称，例如“服务器错误”

```
[HandleError(View="ServerError")] 
```

如果您需要灵活性，您还可以在 /Shared 中创建一个子文件夹以对多个错误视图进行分组

/Shared/Errors/Server.cshtml

然后使用属性中的路径

```
[HandleError(View="Errors/Server")] 
```

在控制器和 /Shared 文件夹中搜索错误视图的文件夹。

# javascript - 无法使用正确的位置或原始 x,y 裁剪图像。

> ID：15239109
> 
> 赞同：1
> 
> 时间：2013-03-06T04:38:45.327
> 
> 标签：javascript, jquery, css

我可以得到顶部、左侧、宽度、高度的位置，但我无法裁剪为警报显示。

```
<script>
    $(document).ready(function(e) {
        $("#crop").click(function(){

            var canvas=document.getElementById("Mystore1");
            var context=canvas.getContext("2d");

            var top=$('#face').offset().top;
            var left=$('#face').offset().left;
            var width=$('#face').width();
            var height=$('#face').height();
            alert(top);
            alert(left);
            alert(width);
            alert(height);
            var imageSrc ='../../../Public/Pictures/Sample Pictures/Desert.jpg';                
            var imageObj=new Image();
            imageObj.onload=function(){
                context.drawImage(imageObj, top, left, width, height, top, left, width, height);
            };
            imageObj.src=imageSrc;
        });
    });

</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:16:01.107

这是一个工作演示。我在您的代码中发现了一些问题。在准备好的函数参数上，您应该发送`$`并单击一个名为`e`（无论您想要什么）的事件变量。

![妖魔化](../Images/c1f8c662b1f5435174f5574ed67888ac.png)

croparea 是裁剪工具选择的面部区域。主图像是图像部分。你的js应该是这样的

```
 $(document).ready(function($) {

        $("#crop").click(function(e){
        var Imgwidth = $('#face').width(), 
            Imgheight =  $('#face').height(),
            faceOffset = $('#face').offset(),
            imgOffset = $('#imgHolder').find('img').offset(), 
            imgX1 = faceOffset.left-imgOffset.left,
            imgY1 = faceOffset.top-imgOffset.top,
            imgX2 =imgX1+Imgwidth,
            imgY2 = imgY1+Imgheight;

         var imageSrc ='http://www.html5canvastutorials.com/demos/assets/darth-vader.jpg';    
          var imageObj=new Image();
          imageObj.src=imageSrc; 
        selx1 = imgX1;
        sely1 = imgY1;
        selx2 = imgX2;
        sely2 = imgY2;
        selw = Imgwidth;
        selh = Imgheight;
        console.log(imgX1);
        console.log(imgY1);
        /*console.log(imgX2);
        console.log(imgY2);*/
        var canvas=document.getElementById("Mystore1");
        var context=canvas.getContext("2d");
        context.canvas.height = Imgheight;

        context.drawImage(imageObj, imgX1, imgY1, selw, selh, 3, 3, Imgwidth, canvas.height-5);

        });
    }); 
```

当您从图像中选择要裁剪的区域（此处为#face div）时，我会计算此行中所选区域的左上角（X，Y）坐标

```
imgX1 = faceOffset.left-imgOffset.left,
imgY1 = faceOffset.top-imgOffset.top, 
```

以及这些行中的右下坐标

```
imgX2 =imgX1+Imgwidth,
imgY2 = imgY1+Imgheight; 
```

因此我们得到一个直角坐标系来绘制我们选择裁剪的图像部分。有关`drawImage`文档，请转到我在评论中发布的链接。我希望现在清楚我如何获得裁剪的确切位置。

这是一个工作演示[点击这里](http://plnkr.co/edit/h4QPUx8QAXlhwfMuKeuz)

# android - PhoneGap 2.5.0 问题

> ID：15239110
> 
> 赞同：5
> 
> 时间：2013-03-06T04:38:46.460
> 
> 标签：android, cordova

尝试在 Android 的 PhoneGap 2.5.0 中创建项目时出现以下错误：

```
An unexpected error occurred: 

"$ANDROID_BIN" create project --target $TARGET --path "$PROJECT_PATH" --package $PACKAGE --activity $ACTIVITY >&/dev/null exited with 1 
```

我不知道如何解决它。这个[PhoneGap](http://docs.phonegap.com/en/2.5.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android)教程

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T14:24:33.877

我遇到了这个问题，因为我使用了破折号...

而不是**com.my-company.myapp**，我不得不使用**com.mycompany.myapp**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:10:45.640

1.  没有看到你的命令行很难知道你的问题是什么。如果您共享它以及您当前的目录，它将更容易提供帮助。话虽如此，下面是我对 onf pg 指令的改写
2.  为您的应用选择名称。例如 MyFirstApp
3.  为您的包裹选择名称。包以公司和应用程序命名，例如 com.mycompanyname.myfirstapp
4.  决定要在哪里生成代码。例如 \home\myusername\projects
5.  确保文件夹存在
6.  转到您的phonegap文件夹，然后到lib，然后到android，然后到bin
7.  键入以下 .\create "\home\myusername\projects" "com.mycompanyname.myfirstapp" "MyFirstrApp"

8.  我在 Windows 上，所以我的反斜杠是你的斜杠。

9.  祝你好运

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T14:12:04.647

我认为这是烫发的问题...您是否与其他用户一起测试过？根用户？？

1.  与其他用户一起测试
2.  测试文件夹烫发
3.  测试用户权限
4.  祝你好运

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-11T19:56:17.697

问题是我没有在包名中包含任何点。

感谢您的回复！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-07-13T23:20:25.440

我必须输入一个项目文件夹路径（见下面的 /path/to/my_new_cordova_project），否则我得到错误——包名和项目名不够。它也不能包含连字符...

```
./create <project_folder_path> <package_name> <project_name> 
```

[http://docs.phonegap.com/en/2.2.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android](http://docs.phonegap.com/en/2.2.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android)

`$ /path/to/cordova-android/bin/create /path/to/my_new_cordova_project com.example.cordova_project_name CordovaProjectName`

来自：[http ://cordova.apache.org/docs/en/2.7.0/guide_command-line_index.md.html](http://cordova.apache.org/docs/en/2.7.0/guide_command-line_index.md.html)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-07-14T14:21:01.393

我在尝试遵循[Cordova CLI 教程](http://docs.phonegap.com/en/2.9.0/guide_cli_index.md.html#The%20Cordova%20Command-line%20Interface "Cordova CLI 教程")时遇到了同样的问题，但我的原因是不同的。这是由于在用于创建项目的参数之一中使用了空格（请参阅 CLI 教程）。

我可以按照其他人的建议直接运行 android 命令来查看问题，例如

> android 创建项目 --target 2 --path my-proj-path/platforms/android --package com.example.hello --activity Hello World

请注意“Hello World”周围缺少引号，这会导致 shell 出错。

一旦我通过用引号括起来来纠正它，我就得到了错误，

> 错误：活动名称“Hello World”包含无效字符。
> 
> 允许的字符是：az AZ 0-9 _

然后我修改了我的命令以从活动中删除空间，例如

> android 创建项目 --target 2 --path my-proj-path/platforms/android --package com.example.hello --activity "HelloWorld"

并且命令起作用了。不确定其他下游效果，但至少“创建平台”命令成功完成。

我对这种情况的解释是PhoneGap API 文档需要更新，或者cordova create 脚本中存在缺陷，其中ACTIVITY 参数取自错误的位置？我向科尔多瓦项目提交了一份问题报告，因为我在那里找不到具有相同症状的另一个问题 - 请参阅[https://issues.apache.org/jira/browse/CB-4198](https://issues.apache.org/jira/browse/CB-4198)

# ruby-on-rails - Rails 一直在源代码中启动终端类型？

> ID：15239115
> 
> 赞同：1
> 
> 时间：2013-03-06T04:39:08.683
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ubuntu

我是这个rails的新手，我想知道每次启动终端时是否需要输入

```
source ~/.rvm/scripts/rvm 
```

顺便说一句，我正在使用ubuntu。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T04:41:45.517

不，你不需要一直输入这个东西。您应该有一些代码在您的`~/.bashrc`或`~/.bash_profile`自动为您提供此脚本的源代码中。

# java - 如何获取所有顶级窗口 javafx？

> ID：15239122
> 
> 赞同：5
> 
> 时间：2013-03-06T04:39:45.570
> 
> 标签：java, javafx

我在 AWT 中看到了一个方法：`java.awt.Window.getWindows()`. 在 JavaFx 中，有什么方法可以获取所有窗口 JavaFx 应用程序？

谢谢，

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-04-05T14:52:37.077

对于运行 java8 的 javafx8 使用

```
FXRobotHelper.getStages()
 or 
StageHelper.getStages() 
```

这将检索本质上是一个窗口本身的所有阶段（它扩展了窗口类）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T10:18:53.027

AFAIK，仍然没有合适的方法来做到这一点。

虽然有一个**肮脏和短期的**方式：

浏览[源代码`javafx.stage.Window`](http://hg.openjdk.java.net/openjfx/8/master/rt/file/16e4c07f8562/javafx-ui-common/src/javafx/stage/Window.java)，有一个静态方法似乎可以满足您的期望：`javafx.stage.Window#impl_getWindows()`。

但是有一堆免责声明：

```
/**
 * Return all Windows
 *
 * @return Iterator of all Windows
 * @treatAsPrivate implementation detail
 * @deprecated This is an internal API that is not intended for use and will be removed in the next version
 */
@Deprecated
@NoInit
public static Iterator<Window> impl_getWindows() {
    final Iterator iterator = AccessController.doPrivileged(
        new PrivilegedAction<Iterator>() {
            @Override public Iterator run() {
                return windowQueue.iterator();
            }
        }
    );
    return iterator;
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-09-25T13:02:30.347

这最终在 Java 9 中得到了正确修复。请参阅[javafx.stage.Window.getWindows()](https://docs.oracle.com/javase/9/docs/api/javafx/stage/Window.html#getWindows--)

> 返回一个列表，其中包含对当前显示的 JavaFX 窗口的引用。该列表不可修改 - 尝试修改此列表将导致在运行时抛出 UnsupportedOperationException。

这在 Java 9 中是必不可少的，因为其他解决方案涉及`StageHelper`或`FXRobotHelper`不再可能，因为这些解决方案存在于`com.sun.javafx`无法再访问的包中。

# python - 使用 functools.lru_cache 时达到最大递归深度更快

> ID：15239123
> 
> 赞同：6
> 
> 时间：2013-03-06T04:39:48.047
> 
> 标签：python, recursion, memoization, python-3.3

我一直在玩 python 3.3 中的记忆和递归

忽略 python 是错误的语言这一事实​​，我发现在**使用** `functools.lru_cache`记忆和**不使用之间我得到不一致的结果** `functools.lru_cache`

我没有更改递归限制 - 它保持默认值，对我来说是 1000。

为了测试这个问题，我编写了一个简单的递归函数来对从 1 到 i 的数字求和

```
#!/usr/bin/python

def sumtil(i):
"""Recursive function to sum all numbers from 1 through i"""

    # Base case, the sum of all numbers from 1 through 1 is 1... 
    if i == 1:
        return 1
    else:
        return i+sumtil(i-1)

# This will not throw an exception
sumtil(998)

# This will throw an exception
sumtil(999) 
```

正常运行这个函数，我可以在`sumtil(998)`不达到递归限制的情况下舒适地运行。`sumtil(999)`或以上将抛出异常。

但是，如果我尝试用 装饰此函数，则在运行时会*提前 3 次*`@functools.lru_cache()`抛出递归限制异常*`sumtil(333)`*

 *```
#!/usr/bin/python

import functools 

@functools.lru_cache(maxsize=128)
def sumtil(i):
    """Recursive function to sum all numbers from 1 through i"""

    # Base case, the sum of all numbers from 1 through 1 is 1... 
    if i == 1:
        return 1
    else:
        return i+sumtil(i-1)

# This will not throw an exception
sumtil(332)

# This will throw an exception
sumtil(333) 
```

由于 332*3 = 996，但 333*3 = 999，在我看来， lru_cache 装饰器导致我的函数中的每个递归级别变成了三个递归级别。

**`functools.lru_cache`为什么我在使用记忆函数时得到三倍的递归级别？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T04:45:55.613

因为装饰器是一个额外的功能，所以它“使用”了堆栈中的一层。例子：

```
>>> def foo(f):
...   def bar(i):
...     if i == 1:
...       raise Exception()
...     return f(i)
...   return bar
...
>>> @foo
... def sumtil(i):
...     if i == 1:
...         return 1
...     else:
...         return i+sumtil(i-1)
...
>>> sumtil(3)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "<stdin>", line 5, in bar
  File "<stdin>", line 6, in sumtil
  File "<stdin>", line 5, in bar
  File "<stdin>", line 6, in sumtil
  File "<stdin>", line 4, in bar
Exception
>>> 
```

此外，如果装饰器使用[参数 packing/unpacking](http://hangar.runway7.net/python/packing-unpacking-arguments)，则使用额外的级别（尽管我对 Python 运行时的了解不足，无法解释为什么会发生这种情况）。

```
def foo(f):
  def bar(*args,**kwargs):
    return f(*args,**kwargs)
  return bar 
```

最大限度。超出递归深度：

*   未装饰：`1000`
*   无包装：`500`
*   带包装：`334`*

# c++ - 使用 libavformat 和 vcopy/acopy 混合 H.264 附件 B 和 AAC 流

> ID：15239124
> 
> 赞同：1
> 
> 时间：2013-03-06T04:39:57.673
> 
> 标签：c++, ffmpeg, h.264, aac, libavformat

我正在对来自 IP 摄像机的视频 (H.264) 和音频 (AAC) 进行一些集成工作。

我已经取得了一些进展，我可以单独存储视频和音频流，并能够使用 VLC 播放器进行播放。H.264 以附件 B 格式存储，音频使用 adts 格式的文件。

我现在正在尝试将流混合到 MP4 文件中，而不进行任何解码或编码，但到目前为止还没有找到答案。

我可以使用 ffmpeg 手动执行此操作： ffmpeg -i recording.h264 -i recording.aac -vcodec copy -acodec copy -absf aac_adtstoasc recording.mp4

如何使用 C++ 中的 ffmpeg 库执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:39:06.830

查看[muxing 示例](http://ffmpeg.org/doxygen/trunk/muxing_8c-source.html)；关键是跟踪您的音频/视频时间戳，并使用`av_interleaved_write_frame`.

# r - R优化线性函数

> ID：15239125
> 
> 赞同：1
> 
> 时间：2013-03-06T04:40:16.263
> 
> 标签：r, optimization

我是 R 新手，需要一些简单的优化帮助。

我想`sales_revenue`随着时间的推移对变量 ( ) 应用函数转换（24 个月预测值 1 到 24）。基本上我想将产品的销售收入从后几个月推到前一个月。

及时的功能转换`t`是：

```
trans=D+(t/(A+B*t+C*t^2)) 
```

然后我要解决：

1) sales_revenue=sales_revenue*trans

其中`total_sales_revenue=1,000,000`（或在 +/- 2.5% 以内）

`total_sales_revenue``sales_revenue`是24 个月预测的总和。

如果 trans 有太多参数，我可以在需要时修复其中的大部分，让 B 自由估计。

我认为该方法应该修复除 之外的所有参数`B`，区分函数（1）（不确定 ti diff 是什么）并求解非零最小值（使用约束确保其正确的最小值和非零，运行优化）函数的总和`sales_revenue*trans`将等于（或接近）1,000,000。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T03:48:59.040

@user2138362，您的意思是“1) sales_revenue=total_sales_revenue*trans”吗？

我假设您的参数`A`和是固定的，`C`并且`D`您希望找到`B`这样的结果，即您的观察值和预测值之间的距离最小化。

假设您的时间以月为单位。所以我们可以写一个函数来给你平方距离：

```
dist <- function(B)
{
t <- 1:length(sales_revenue)

total_sales_revenue <- sum(sales_revenue)

predicted <- total_sales_revenue * (D+(t/(A+B*t+C*t^2)))

sum((sales_revenue-predicted)^2)
} 
```

我还使用平方欧几里得距离作为距离的度量。如果不是这种情况，请进行适当的更改。

现在，`dist`是您必须最小化的功能。`optim`正如@iTech 指出的那样，您可以使用。但即使至少`dist`它也可能不会为零，因为您有很多 (24) 个观察值。但是你可以得到最合适的，绘制它，看看它是否很好。

# android - AchartEngine 折线图 Xaxis Android

> ID：15239131
> 
> 赞同：6
> 
> 时间：2013-03-06T04:41:09.637
> 
> 标签：android, achartengine, linechart

我在 android 上工作 achartengine 并完成了所有工作我在折线图中遇到了一个问题我提到了 xaxis 标签，但它显示为 2、4、6、8、10、12 等等，并与我的 xaxis 标签叠加，我想要在 xaxis 中隐藏 2、4、6、8、10、12 个标签。如果您不明白，请参见下图：

![在此处输入图像描述](../Images/1df4613ae13d66fdb2dd07e7b3d97856.png)

这是完整的代码：

```
public class ChartExample extends Activity {
    private GraphicalView mChartView;

    XYMultipleSeriesRenderer renderer;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.layout_chart);

        LinearLayout layout = (LinearLayout) findViewById(R.id.linearLayout2);

        String[] titles = new String[] { "spens1","2second" };
        List<double[]> x = new ArrayList<double[]>();
        x.add(new double[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 });
        x.add(new double[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 });
        // }
        List<double[]> values = new ArrayList<double[]>();
        values.add(new double[] { 9, 10, 11, 15, 19, 23, 26, 25, 22, 18, 13,
                        10 });
        values.add(new double[] { 11, 13, 21, 10, 40, 10, 12,15, 24, 20, 15,
                12 });

        int[] colors = new int[] { Color.BLUE,Color.RED};
        PointStyle[] styles = new PointStyle[] { PointStyle.CIRCLE,PointStyle.CIRCLE};

        renderer = buildRenderer(colors, styles);

        int length = renderer.getSeriesRendererCount();
        for (int i = 0; i < length; i++) {
            ((XYSeriesRenderer) renderer.getSeriesRendererAt(i))
                    .setFillPoints(true);
        }

        setChartSettings(renderer, "SCORE CARD VIEW", "Attetempts",
                "Marks Scored", 0, 12.5, 0, 45, Color.LTGRAY, Color.LTGRAY);
        renderer.setXLabels(12);
        renderer.setYLabels(10);
        renderer.setShowGrid(false);
        renderer.setXLabelsAlign(Align.CENTER);
        renderer.setYLabelsAlign(Align.CENTER);

        //renderer.setZoomButtonsVisible(true);
        //renderer.setPanLimits(new double[] { 0, 20, 0, 40 });
        //renderer.setZoomLimits(new double[] { 0, 20, 0, 40 });
        renderer.setPanEnabled(false, false);
        renderer.setZoomEnabled(false, false);
        renderer.setShowLegend(false);       

        for(int k=0;k<12;k++)
        {
            renderer.addXTextLabel(k+1,"test");
        }

        if (mChartView == null) 
        {
            Log.d("Oncreate ", "if (mChartView == null)");
            mChartView = ChartFactory.getLineChartView(this, mDataset(titles,
                    x, values), renderer);
            layout.addView(mChartView, new LayoutParams(
                    LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));

        } 
        else 
        {
            mChartView.repaint();
            Log.d("Oncreate ", "if (mChartView != null)");
        }
    }

    private void setChartSettings(XYMultipleSeriesRenderer renderer3,
            String title, String xTitle, String yTitle, double xMin,
            double xMax, double yMin, double yMax, int axesColor,
            int labelsColor) {
        // TODO Auto-generated method stub

        renderer3.setChartTitle(title);
        renderer3.setXTitle(xTitle);
        renderer3.setYTitle(yTitle);
        renderer3.setXAxisMin(xMin);
        renderer3.setXAxisMax(xMax);
        renderer3.setYAxisMin(yMin);
        renderer3.setYAxisMax(yMax);
        renderer3.setAxesColor(axesColor);
        renderer3.setLabelsColor(labelsColor);
    }

    private XYMultipleSeriesRenderer buildRenderer(int[] colors,
            PointStyle[] styles) {
        // TODO Auto-generated method stub
        XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();
        setRenderer(renderer, colors, styles);
        return renderer;
    }

    private void setRenderer(XYMultipleSeriesRenderer renderer2, int[] colors,
            PointStyle[] styles) {
        // TODO Auto-generated method stub
        renderer2.setAxisTitleTextSize(16);
        renderer2.setChartTitleTextSize(20);
        renderer2.setLabelsTextSize(15);
        renderer2.setLegendTextSize(15);
        renderer2.setPointSize(5f);
        renderer2.setMargins(new int[] { 20, 30, 15, 20 });
        int length = colors.length;
        for (int i = 0; i < length; i++) {
            XYSeriesRenderer r = new XYSeriesRenderer();
            r.setColor(colors[i]);
            r.setPointStyle(styles[i]);
            renderer2.addSeriesRenderer(r);
        }
    }

    private XYMultipleSeriesDataset mDataset(String[] titles,
            List<double[]> xValues, List<double[]> yValues) {
        // TODO Auto-generated method stub
        XYMultipleSeriesDataset dataset1 = new XYMultipleSeriesDataset();
        addXYSeries(dataset1, titles, xValues, yValues, 0);
        return dataset1;
    }

    private void addXYSeries(XYMultipleSeriesDataset dataset, String[] titles,
            List<double[]> xValues, List<double[]> yValues, int scale) {
        // TODO Auto-generated method stub

        int length = titles.length;
        for (int i = 0; i < length; i++) {

            double[] xV = xValues.get(i);
            XYSeries series = new XYSeries(titles[i], scale);
            double[] yV = yValues.get(i);
            int seriesLength = xV.length;
            for (int k = 0; k < seriesLength; k++) {
                    series.add(xV[k], yV[k]);
            }
            dataset.addSeries(series);
        }

    }

} 
```

你能帮助我吗？不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T04:52:15.900

最后我得到了解决方案，我尝试了下面的代码：

```
renderer.setXLabels(0); 
```

和完整的课程代码：

```
package com.example.lockexample;

import java.util.ArrayList;
import java.util.List;

import org.achartengine.ChartFactory;
import org.achartengine.GraphicalView;
import org.achartengine.chart.PointStyle;
import org.achartengine.model.XYMultipleSeriesDataset;
import org.achartengine.model.XYSeries;
import org.achartengine.renderer.XYMultipleSeriesRenderer;
import org.achartengine.renderer.XYSeriesRenderer;

import android.app.Activity;
import android.graphics.Color;
import android.graphics.Paint.Align;
import android.os.Bundle;
import android.util.Log;
import android.view.ViewGroup.LayoutParams;
import android.widget.LinearLayout;

public class ChartExample extends Activity {
    private GraphicalView mChartView;

    XYMultipleSeriesRenderer renderer;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.layout_chart);

        LinearLayout layout = (LinearLayout) findViewById(R.id.linearLayout2);

        String[] titles = new String[] { "spens1","2second" };
        List<double[]> x = new ArrayList<double[]>();
        x.add(new double[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 });
        x.add(new double[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 });
        // }
        List<double[]> values = new ArrayList<double[]>();
        values.add(new double[] { 9, 10, 11, 15, 19, 23, 26, 25, 22, 18, 13,
                        10 });
        values.add(new double[] { 11, 13, 21, 10, 40, 10, 12,15, 24, 20, 15,
                12 });

        int[] colors = new int[] { Color.BLUE,Color.RED};
        PointStyle[] styles = new PointStyle[] { PointStyle.CIRCLE,PointStyle.CIRCLE};

        renderer = buildRenderer(colors, styles);

        int length = renderer.getSeriesRendererCount();
        for (int i = 0; i < length; i++) {
            ((XYSeriesRenderer) renderer.getSeriesRendererAt(i))
                    .setFillPoints(true);
        }

        setChartSettings(renderer, "SCORE CARD VIEW", "Attetempts",
                "Marks Scored", 0, 12.5, 0, 45, Color.LTGRAY, Color.LTGRAY);
        //renderer.setXLabels(12);
        renderer.setYLabels(10);
        renderer.setXLabels(0);
        renderer.setShowGrid(true);
        renderer.setXLabelsAlign(Align.CENTER);
        renderer.setYLabelsAlign(Align.RIGHT);
        renderer.setMargins(new int[] { 25,35, 10, 15 });
        //renderer.setZoomButtonsVisible(true);
        //renderer.setPanLimits(new double[] { 0, 20, 0, 40 });
        //renderer.setZoomLimits(new double[] { 0, 20, 0, 40 });
        renderer.setPanEnabled(false, false);
        renderer.setZoomEnabled(false, false);

        renderer.setMarginsColor(Color.parseColor("#EEEDED"));
        renderer.setXLabelsColor(Color.BLACK);
        renderer.setYLabelsColor(0,Color.BLACK);

        renderer.setApplyBackgroundColor(true);
        renderer.setBackgroundColor(Color.parseColor("#FBFBFC"));
        //renderer.setShowLegend(false);       

        for(int k=0;k<12;k++)
        {
            renderer.addXTextLabel(k+1,"test");
        }

        if (mChartView == null) 
        {
            Log.d("Oncreate ", "if (mChartView == null)");
            mChartView = ChartFactory.getLineChartView(this, mDataset(titles,
                    x, values), renderer);
            layout.addView(mChartView, new LayoutParams(
                    LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));

        } 
        else 
        {
            mChartView.repaint();
            Log.d("Oncreate ", "if (mChartView != null)");
        }
    }

    private void setChartSettings(XYMultipleSeriesRenderer renderer3,
            String title, String xTitle, String yTitle, double xMin,
            double xMax, double yMin, double yMax, int axesColor,
            int labelsColor) {
        // TODO Auto-generated method stub

        renderer3.setChartTitle(title);
        renderer3.setXTitle(xTitle);
        renderer3.setYTitle(yTitle);
        renderer3.setXAxisMin(xMin);
        renderer3.setXAxisMax(xMax);
        renderer3.setYAxisMin(yMin);
        renderer3.setYAxisMax(yMax);
        renderer3.setAxesColor(axesColor);
        renderer3.setLabelsColor(labelsColor);

    }

    private XYMultipleSeriesRenderer buildRenderer(int[] colors,
            PointStyle[] styles) {
        // TODO Auto-generated method stub
        XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();
        setRenderer(renderer, colors, styles);
        return renderer;
    }

    private void setRenderer(XYMultipleSeriesRenderer renderer2, int[] colors,
            PointStyle[] styles) {
        // TODO Auto-generated method stub
        renderer2.setAxisTitleTextSize(16);
        renderer2.setChartTitleTextSize(20);
        renderer2.setLabelsTextSize(15);
        renderer2.setLegendTextSize(15);
        renderer2.setPointSize(5f);
        //renderer2.setMargins(new int[] { 20, 30, 15, 20 });
        renderer2.setMargins(new int[] { 25,35, 10, 15 });

        int length = colors.length;
        for (int i = 0; i < length; i++) {
            XYSeriesRenderer r = new XYSeriesRenderer();
            r.setColor(colors[i]);
            r.setPointStyle(styles[i]);
            renderer2.addSeriesRenderer(r);
        }
    }

    private XYMultipleSeriesDataset mDataset(String[] titles,
            List<double[]> xValues, List<double[]> yValues) {
        // TODO Auto-generated method stub
        XYMultipleSeriesDataset dataset1 = new XYMultipleSeriesDataset();
        addXYSeries(dataset1, titles, xValues, yValues, 0);
        return dataset1;
    }

    private void addXYSeries(XYMultipleSeriesDataset dataset, String[] titles,
            List<double[]> xValues, List<double[]> yValues, int scale) {
        // TODO Auto-generated method stub

        int length = titles.length;
        for (int i = 0; i < length; i++) {

            double[] xV = xValues.get(i);
            XYSeries series = new XYSeries(titles[i], scale);
            double[] yV = yValues.get(i);
            int seriesLength = xV.length;
            for (int k = 0; k < seriesLength; k++) {
                    series.add(xV[k], yV[k]);
            }
            dataset.addSeries(series);
        }

    }

} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T19:43:51.477

您需要添加到当前代码的唯一代码是以下两行：

```
renderer.setXLabels(RESULT_OK);
renderer.clearXTextLabels(); 
```

确保在声明渲染器设置之后添加这些语句，但在设置自定义 X 轴文本标签的代码**之前。**

由于您的程序中有多个渲染器方法，因此您应该在实现 XYMultipleSeriesRenderer 的方法末尾包含这两行代码。同样，请确保在实现自定义文本标签之前将其添加到您的代码中。:)

# django-models - 在 django 中使用 forms.py 显示数据库中的数据

> ID：15239134
> 
> 赞同：0
> 
> 时间：2013-03-06T04:41:20.027
> 
> 标签：django-models, django-forms, django-views

模型.py

```
class Author(models.Model):
    author_id = models.AutoField(primary_key=True)
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=40)
    email = models.EmailField()
    age=models.IntegerField()

    class Meta:
    db_table=u'Author'

    def __unicode__(self):
        return u"%d %s %s %s %d" % (self.pk, self.first_name, self.last_name, self.email,self.age)

class Book(models.Model):
    book_id=models.AutoField(primary_key=True,unique=True)
    book_name=models.CharField(max_length=30)
    publisher_name=models.CharField(max_length=40)
    author=models.ForeignKey(Author)

    class Meta:
        db_table = u'Book'

    def __unicode__(self):
        return u'%d %s %s' % (self.pk, self.book_name, self.publisher_name) 
```

你能告诉我如何为这个模型编写一个forms.py和views.py来显示来自数据库的数据。

我的 forms.py 是

```
class AuthorForm(forms.ModelForm):

    class Meta:
        model = Author
        fields = ['author_id','first_name','last_name','email','age']

class BookForm(forms.ModelForm):

    class Meta:
        model = Book
        fields=['book_id','book_name','publisher_name','author_id'] 
```

所以我以这种方式编写了forms.py，它是为模型字段编写的。所以请告诉我我给出的表单是正确的，如果不是，请告诉我如何编写forms.py和views.py来显示数据来自两个表的数据库。

我的views.py是

```
def index(request): 
    book = forms.ModelMultipleChoiceField(queryset=Book.objects.all())
    return render_to_response('index.html', locals(),context_instance=RequestContext(request)) 
```

我无法显示数据库中的所有数据。请帮助我。如果我的views.py 内容有任何问题，请指导我如何编写views.py

我的 index.html 是

```
<html>
<head>
<title>
</title>
</head>
<body>   
<div align="center">
<table border="0" cellpadding='8' cellspacing='10'>
    <tr>
        <td align="right" colspan="10"><a href="/addbook/">Add Book</a></td>
    </tr>
    <tr>
        <th>Book Id</>
    <th>Book name</th>
    <th>Publication name</th>
    <th>Author Id</th>
    <th>First Name</th>
    <th>Last Name</th>
    <th>E Mail</th>
    <th>Age</th>
        <th></th>
        <th></th>
    </tr>
    {% for book in books %}
    <tr>
       <td>{{ book.book_id }}</td>
       <td>{{ book.book_name }}</td>
       <td>{{ book.publisher_name }}</td>
       <td>{{ book.author_id }}</td>    
       <td>{{ book.author.first_name }}</td>
       <td>{{ book.author.last_name }}</td>
       <td>{{ book.author.email }}</td>
       <td>{{ book.author.age }}</td>
       <td><a href="/editbook/{{ book.book_id}}">Edit</a></td>
       <td><a href="/deletebook/{{ book.book_id}}">Delete</a></td>
    {% endfor %}
</table>
</div>
</body>
</html> 
```

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:44:27.163

您的模型和表格看起来是正确的。请参阅[Django 教程的第 4 部分](https://docs.djangoproject.com/en/dev/intro/tutorial04/)以帮助编写视图以连接它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:24:16.160

在你的views.py中试试这个：

```
from models import Book
from django.shortcuts import render_to_response
from django.template import RequestContext

def index(request): 
   books = Book.objects.all()
   return render_to_response('index.html', 
       locals(),
       context_instance=RequestContext(request)) 
```

# python - 是什么导致 Django 在 6 次中只有 3 次使用 500.html？

> ID：15239136
> 
> 赞同：2
> 
> 时间：2013-03-06T04:41:29.753
> 
> 标签：python, django

这很奇怪。

我在下面有一个 500.html 模板。当我通过 url 引用不存在的页面时，我的 500.html 将显示 3 次（如果我尝试重复重新加载页面），然后我得到 apache 内部服务器错误 3 次。我的兄弟一直在两者之间来回切换。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <title>Page unavailable</title>
</head>
<body>
    <h1>Page unavailable</h1>
    <p>Sorry, but the requested page is unavailable due to a
    server hiccup.</p>
    <p>Our engineers have been notified, so check back later.</p>
</body>
</html> 
```

在我收到 Apache 内部服务器错误的三次期间，错误日志说 500.html 不存在 - 但它确实存在。之前拉了三下。

我清除了缓存并尝试了不同的浏览器，结果相同。

谢谢你的帮助。

编辑 1

错误日志摘录：

```
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] mod_python (pid=8262, interpreter='127.0.1.1', phase='PythonHandler', handler='django.core.handlers.modpython'): Application error
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] ServerName: '127.0.1.1'
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] DocumentRoot: '/var/www'
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] URI: '/test'
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] Location: '/test'
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] Directory: None
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] Filename: '/www/test/wsgi.py'
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] PathInfo: ''
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] Traceback (most recent call last):
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/mod_python/importer.py", line 1537, in HandlerDispatch\n    default=default_handler, arg=req, silent=hlist.silent)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/mod_python/importer.py", line 1229, in _process_target\n    result = _execute_target(config, req, object, arg)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/mod_python/importer.py", line 1128, in _execute_target\n    result = object(arg)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/core/handlers/modpython.py", line 180, in handler\n    return ModPythonHandler()(req)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/core/handlers/modpython.py", line 158, in __call__\n    response = self.get_response(request)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/core/handlers/base.py", line 153, in get_response\n    response = self.handle_uncaught_exception(request, resolver, sys.exc_info())
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/core/handlers/base.py", line 228, in handle_uncaught_exception\n    return callback(request, **param_dict)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/utils/decorators.py", line 91, in _wrapped_view\n    response = view_func(request, *args, **kwargs)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/views/defaults.py", line 32, in server_error\n    t = loader.get_template(template_name) # You need to create a 500.html template.
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/template/loader.py", line 145, in get_template\n    template, origin = find_template(template_name)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1]   File "/usr/lib/python2.7/dist-packages/django/template/loader.py", line 138, in find_template\n    raise TemplateDoesNotExist(name)
[Tue Mar 05 22:28:22 2013] [error] [client 127.0.0.1] TemplateDoesNotExist: 500.html 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T04:50:58.887

我会尝试重新启动apache。我注意到在任何更改后处理 url 的方式不一致。这听起来与我在刷新时有时会加载 url 时遇到的问题非常相似。

# java - Need help on Linked list delete method

> ID：15239138
> 
> 赞同：2
> 
> 时间：2013-03-06T04:41:40.177
> 
> 标签：java

Right now my Linked list is in a queue form. My LList class holds two fields called head and tail which are the head and tail of the list. Head and tail are LNode objects, a LNode is an element of the list that holds a int value, and it's previous LNode and next LNode.

Here's my LNode class:

```
class LNode{
    private int val;
    private LNode next;//not recursive
    private LNode prev;
    public LNode(int v, LNode n, LNode p){
        next = n;
        prev = p;
        val = v;
    }
    public int getVal(){
        return val;
    }
    public LNode getNext(){
        return next;
    }
    public LNode getPrev(){
        return prev;
    }
    public void setVal(int v){
        val = v;
    }
    public void setNext(LNode n){
        next = n;
    }
    public void setPrev(LNode p){
        prev = p;
    }
} 
```

I am trying to make a delete method in my LList class so that it takes a value and delete the LNode that has that value. My problem is, I don't know how I would deal with the case where the LNode I'm trying to delete is the head or the tail.

```
public void delete(int v){

    if(head.getVal()==v){//delete head
        head = head.getNext();
        head.setPrev(null);
    }
    else if(tail.getVal()==v){//delete tail
        System.out.println("boiboi");
        tail = tail.getPrev();
        tail.setNext(null);
    }
    else{//delete other element
        LNode tmp = head;
        while(tmp.getVal()!=v){
            tmp = tmp.getNext();
        }
        tmp.getPrev().setNext(tmp.getNext());
        tmp.getNext().setPrev(tmp.getPrev());
    }
} 
```

What i have tried is to set the new head's previous LNode to be null, but Java doesn't allow that. So what should I do?

Thank you.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:06:10.427

Your code looks okay to me, except in the case that the value you're removing is the *sole* value - in which case you want to end up with both the head *and* the tail as null. I suspect all you need to do is change the head case:

```
if (head.getVal() == v) {
    head = head.getNext();
    if (head != null) {
        head.setPrev(null);
    } else {
        // If head.getNext() returns null, then tail must have been equal to head.
        tail = null;
    }
} 
```

You should also check for the empty list situation first:

```
if (head == null) {
    return;
} 
```

And in your general case, handle the situation where the value isn't found:

```
while (tmp != null && tmp.getVal() != v) {
    tmp = tmp.getNext();
}
if (tmp == null) {
    return;
} 
```

# ruby-on-rails - 使用“印象派”gem（Ruby on Rails）计算页面浏览量时遇到问题

> ID：15239141
> 
> 赞同：0
> 
> 时间：2013-03-06T04:41:53.493
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rubygems, gem

**更新 #2** 我已经让它工作了，但我怎样才能让它每次刷新都计数？即使我刷新用户的个人资料（例如 /users/3），我也希望它计数。

小部件.rb

```
class Widget < ActiveRecord::Base
  is_impressionable

  def impressionist_count
    impressions.size
  end
  end 
```

小部件控制器

```
WidgetsController < ApplicationController

def show
  @widget = Widget.find(params[:id])
  impressionist(@widget,message:"wtf is a widget?") #message is optional
end

 end 
```

将 Is_Impressionable 添加到用户模型

这是我用于 show.html.erb 视图的代码

```
<%= @user.impressionist_count(:filter=>:all) %> 
```

**更新 #1** 当我在 Said 的回答中进行以下更改并在“Widgets”控制器和“Widget”模块中尝试时，我现在收到此错误：

```
 NoMethodError in Users#show
undefined method `impressionist_count' for nil:NilClass 
```

这是user.rb

```
class User < ActiveRecord::Base
  attr_accessible :name, :email, :password, :password_confirmation
  has_secure_password
  has_many :microposts, dependent: :destroy
  has_many :impressions, :as=>:impressionable
  has_many :relationships, foreign_key: "follower_id", dependent: :destroy
  has_many :followed_users, through: :relationships, source: :followed
  has_many :reverse_relationships, foreign_key: "followed_id",
                                   class_name: "Relationship",
                                   dependent: :destroy
  has_many :followers, through: :reverse_relationships, source: :follower

  before_save { |user| user.email = user.email.downcase }
  before_save :create_remember_token

  validates :name,  presence: true, length: { maximum: 50 }
  VALID_EMAIL_REGEX = /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i
  validates :email, presence: true, format: { with: VALID_EMAIL_REGEX },
                    uniqueness: { case_sensitive: false }
  validates :password, length: { minimum: 6 }
  validates :password_confirmation, presence: true

  def following?(other_user)
    relationships.find_by_followed_id(other_user.id)
  end

  def follow!(other_user)
    relationships.create!(followed_id: other_user.id)
  end

  def unfollow!(other_user)
    relationships.find_by_followed_id(other_user.id).destroy
  end

  def feed
    Micropost.from_users_followed_by(self)
  end

  def impressionist_count
    impressions.size
  end

  private

    def create_remember_token
      self.remember_token = SecureRandom.urlsafe_base64
    end
  end 
```

这是用户控制器

```
class UsersController < ApplicationController
  before_filter :signed_in_user,
                only: [:index, :edit, :update, :destroy, :following, :followers]
  before_filter :correct_user,   only: [:edit, :update]
  before_filter :admin_user,     only: :destroy

  def index

    @users = User.paginate(page: params[:page]).all
  end

  def show
    @user = User.find(params[:id])
    @microposts = @user.microposts.paginate(page: params[:page])

  end

  def new
    @user = User.new
  end

  def create
    @user = User.new(params[:user])
    if @user.save
      sign_in @user
      flash[:success] = "Demoapp!"
      redirect_to root_url
    else
      render 'new'
    end
  end

  def edit
  end

  def update
    if @user.update_attributes(params[:user])
      sign_in @user
      flash[:success] = "Profile updated"
      redirect_to @user
    else
      render 'edit'
    end
  end

  def destroy
    User.find(params[:id]).destroy
    flash[:success] = "User destroyed"
    redirect_to users_path
  end

  def following
    @title = "Follow"
    @user = User.find(params[:id])
    @users = @user.followed_users.paginate(page: params[:page])
    render 'show_follow'
  end

  def followers
    @title = "Following"
    @user = User.find(params[:id])
    @users = @user.followers.paginate(page: params[:page])
    render 'show_follow'
  end

  private

    def correct_user
      @user = User.find(params[:id])
      redirect_to root_path unless current_user?(@user)
    end

    def admin_user
      redirect_to root_path unless current_user.admin?
    end
end 
```

**原帖** 我在下面做错了什么？

我添加了 gem 并运行了数据库迁移。

然后我在 app\controllers 中创建了一个新的“Widgets”控制器文件

```
WidgetsController < ApplicationController

  def show
    @widget = Widget.find
    impressionist(@widget) 
  end
end 
```

然后我在 app/models 中创建了一个新的“Widget”模型

```
class Widget < ActiveRecord::Base
  is_impressionable
end 
```

然后我加了

```
<%= @widget.impressionist_count %> 
```

在**show.html.erb**视图中

我要计算的是用户个人资料视图的数量。在整个网站中，您可以单击用户名，它将进入他们的个人资料。我只想显示点击他们个人资料的次数的计数器。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:55:39.390

似乎问题在于显示操作，而不是：

```
 @widget = Widget.find 
```

试试这个

```
 @widget = Widget.find(params[:id]) 
```

**更新：1**

您应该将**is_impressionable**添加到您的用户模型中

# java - MySQL 连接 MAC 到 Windows 7

> ID：15239143
> 
> 赞同：-1
> 
> 时间：2013-03-06T04:42:01.207
> 
> 标签：java, macos, netbeans, windows-7

我在这里有我的代码并且它可以正常工作.. 使用 Windows 7，但是当我尝试在我的 MySQL 所在的 Windows 7 中运行我的 MAC 中的 Java 程序时，程序运行速度非常慢。但是 Mac 到 Mac 没问题，没有滞后，还有我的 MySQL 所在的 Windows 7 到 Mac。

```
package login;

import java.sql.*;
import javax.swing.JOptionPane;

public class DatabaseCls {

public Connection con;
private void conData() {
    try {

       con = DriverManager.getConnection("jdbc:mysql://192.168.10.105:3306/eqod-log?user=root&password=3q0d.c0m");

    }
    catch (SQLException e) {
        JOptionPane.showMessageDialog(null, e, "Connection Error", JOptionPane.ERROR_MESSAGE);
    }
}

public ResultSet rsFetch(String query) {
    ResultSet rs = null;
    try {
        conData();
        rs = con.createStatement().executeQuery(query);
        return rs;
    }
    catch(Exception e) {
        JOptionPane.showMessageDialog(null, e, "ResultSet Query Error", JOptionPane.ERROR_MESSAGE);
        return rs;
    }
}

public boolean exSQL(String query) {
    boolean done;
    try {
        done = true;
        conData();
        con.createStatement().execute(query);
        con.close();
        return done;
    }
    catch(Exception e) {
        done = false;
        JOptionPane.showMessageDialog(null, e, "Query Error", JOptionPane.ERROR_MESSAGE);
        return done;
    }
}
} 
```

**是否有任何设置可以更改或加速它，我的数据库保存在 Window 7 中**

```
"jdbc:mysql://192.168.10.105:3306/eqod-log?user=root&password=3q0d.c0m"); 
```

**并且我的程序安装在 MAC 计算机上，因为其余的（我的程序在 Windows 7 上，我的数据库在 Win 7 上）或（我的程序在 Windows 7 上，我的数据库在 MAC 上没有延迟或连接速度慢的问题）**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:51:16.163

关键是`when I try to run my Java Program in MAC to Windows 7 as where my MySQL is, the program runs so slow`当然它更慢，因为您在操作系统或网络上运行。它总是比本地主机慢！

只需检查一下：在您的 Windows 7 上运行它，然后通过网络将 mysql 放到其他 Windows7：它会很慢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:38:18.910

我在 MySQL 设置中编辑 my.ini 只需键入

跳过名称解析等待超时 = 15 连接超时 = 10

然后保存！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-10T05:24:31.590

MySQL 设置：-

```
skip-name-resolve wait-timeout=15 connect_timeout=10 
```

并更改字符串连接，添加以下行：-

```
&useUnicode=true&characterEncoding=UTF-8"
               + "&autoReconnect=true&failOverReadOnly=false&maxReconnects=10" 
```

# vb.net - 通过在 vb.net 中传递进程 ID 来查找应用程序（win 应用程序）中可用的所有控件

> ID：15239147
> 
> 赞同：-2
> 
> 时间：2013-03-06T04:42:17.703
> 
> 标签：vb.net

如何找到应用程序中可用的所有控件。是否可以将应用程序与应用程序交互。我需要将我的应用程序的值设置为在我的系统中以特定控件运行的另一个应用程序（Windows）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T04:22:39.267

此代码将获取与系统中运行的进程相关的所有控制值。在此代码中有 2 个文件 1.ApiWindow 是一个类文件，另一个是 main() 类。Main() 将使用 ApiWindow 类并在 Spy++ 工具工作时获取控件值。我们可以处理控件并可以使用 SendMessage(child.hWnd, WM_SETTEXT, 0, "Ur Value") 为特定控件设置值。这个 hwnd 将获取句柄 id，WM_SETTEXT 将传递一条消息以更新给定的文本。将 WM_SETTEXT 声明为全局变量，如 Const WM_SETTEXT = &HC 。

注意：运行程序时让 Visual Studia “以管理员身份运行”

代码 ：

```
Imports System.Collections.Generic
Imports System.Runtime.InteropServices
Imports System.Text

Public Class ApiWindow
Public MainWindowTitle As String = ""
Public ClassName As String = ""
Public hWnd As Int32
End Class

''' <summary> 
''' Enumerate top-level and child windows 
''' </summary> 
''' <example> 
''' Dim enumerator As New WindowsEnumerator()
''' For Each top As ApiWindow in enumerator.GetTopLevelWindows()
'''    Console.WriteLine(top.MainWindowTitle)
'''    For Each child As ApiWindow child in enumerator.GetChildWindows(top.hWnd) 
'''        Console.WriteLine(" " + child.MainWindowTitle)
'''    Next child
''' Next top
''' </example> 
Public Class WindowsEnumerator

  Private Delegate Function EnumCallBackDelegate(ByVal hwnd As Integer, ByVal lParam As Integer) As Integer

  ' Top-level windows.
  Private Declare Function EnumWindows Lib "user32" _
   (ByVal lpEnumFunc As EnumCallBackDelegate, ByVal lParam As Integer) As Integer

  ' Child windows.
  Private Declare Function EnumChildWindows Lib "user32" _
   (ByVal hWndParent As Integer, ByVal lpEnumFunc As EnumCallBackDelegate, ByVal lParam As Integer) As Integer

  ' Get the window class.
  Private Declare Function GetClassName _
   Lib "user32" Alias "GetClassNameA" _
   (ByVal hwnd As Integer, ByVal lpClassName As StringBuilder, ByVal nMaxCount As Integer) As Integer

  ' Test if the window is visible--only get visible ones.
  Private Declare Function IsWindowVisible Lib "user32" _
   (ByVal hwnd As Integer) As Integer

  ' Test if the window's parent--only get the one's without parents.
  Private Declare Function GetParent Lib "user32" _
   (ByVal hwnd As Integer) As Integer

  ' Get window text length signature.
  Private Declare Function SendMessage _
   Lib "user32" Alias "SendMessageA" _
   (ByVal hwnd As Int32, ByVal wMsg As Int32, ByVal wParam As Int32, ByVal lParam As Int32) As Int32

  ' Get window text signature.
  Private Declare Function SendMessage _
   Lib "user32" Alias "SendMessageA" _
   (ByVal hwnd As Int32, ByVal wMsg As Int32, ByVal wParam As Int32, ByVal lParam As StringBuilder) As Int32

  Private _listChildren As New List(Of ApiWindow)
  Private _listTopLevel As New List(Of ApiWindow)

  Private _topLevelClass As String = ""
  Private _childClass As String = ""

  ''' <summary>
  ''' Get all top-level window information
  ''' </summary>
  ''' <returns>List of window information objects</returns>
  Public Overloads Function GetTopLevelWindows() As List(Of ApiWindow)

    EnumWindows(AddressOf EnumWindowProc, &H0)

    Return _listTopLevel

  End Function

  Public Overloads Function GetTopLevelWindows(ByVal className As String) As List(Of ApiWindow)

    _topLevelClass = className

    Return Me.GetTopLevelWindows()

  End Function

  ''' <summary>
  ''' Get all child windows for the specific windows handle (hwnd).
  ''' </summary>
  ''' <returns>List of child windows for parent window</returns>
  Public Overloads Function GetChildWindows(ByVal hwnd As Int32) As List(Of ApiWindow)

    ' Clear the window list.
    _listChildren = New List(Of ApiWindow)

    ' Start the enumeration process.
    EnumChildWindows(hwnd, AddressOf EnumChildWindowProc, &H0)

    ' Return the children list when the process is completed.
    Return _listChildren

  End Function

  Public Overloads Function GetChildWindows(ByVal hwnd As Int32, ByVal childClass As String) As List(Of ApiWindow)

    ' Set the search
    _childClass = childClass

    Return Me.GetChildWindows(hwnd)

  End Function

  ''' <summary>
  ''' Callback function that does the work of enumerating top-level windows.
  ''' </summary>
  ''' <param name="hwnd">Discovered Window handle</param>
  ''' <returns>1=keep going, 0=stop</returns>
  Private Function EnumWindowProc(ByVal hwnd As Int32, ByVal lParam As Int32) As Int32

    ' Eliminate windows that are not top-level.
    If GetParent(hwnd) = 0 AndAlso CBool(IsWindowVisible(hwnd)) Then

      ' Get the window title / class name.
      Dim window As ApiWindow = GetWindowIdentification(hwnd)

      ' Match the class name if searching for a specific window class.
      If _topLevelClass.Length = 0 OrElse window.ClassName.ToLower() = _topLevelClass.ToLower() Then
        _listTopLevel.Add(window)
      End If

    End If

    ' To continue enumeration, return True (1), and to stop enumeration 
    ' return False (0).
    ' When 1 is returned, enumeration continues until there are no 
    ' more windows left.

    Return 1

  End Function

  ''' <summary>
  ''' Callback function that does the work of enumerating child windows.
  ''' </summary>
  ''' <param name="hwnd">Discovered Window handle</param>
  ''' <returns>1=keep going, 0=stop</returns>
  Private Function EnumChildWindowProc(ByVal hwnd As Int32, ByVal lParam As Int32) As Int32

    Dim window As ApiWindow = GetWindowIdentification(hwnd)

    ' Attempt to match the child class, if one was specified, otherwise
    ' enumerate all the child windows.
    If _childClass.Length = 0 OrElse window.ClassName.ToLower() = _childClass.ToLower() Then
      _listChildren.Add(window)
    End If

    Return 1
   End Function

  ''' <summary>
  ''' Build the ApiWindow object to hold information about the Window object.
  ''' </summary>
  Private Function GetWindowIdentification(ByVal hwnd As Integer) As ApiWindow

    Const WM_GETTEXT As Int32 = &HD
    Const WM_GETTEXTLENGTH As Int32 = &HE

    Dim window As New ApiWindow()

    Dim title As New StringBuilder()

    ' Get the size of the string required to hold the window title.
    Dim size As Int32 = SendMessage(hwnd, WM_GETTEXTLENGTH, 0, 0)

    ' If the return is 0, there is no title.
    If size > 0 Then
      title = New StringBuilder(size + 1)

      SendMessage(hwnd, WM_GETTEXT, title.Capacity, title)
    End If

    ' Get the class name for the window.
    Dim classBuilder As New StringBuilder(64)
    GetClassName(hwnd, classBuilder, 64)

    ' Set the properties for the ApiWindow object.
    window.ClassName = classBuilder.ToString()
    window.MainWindowTitle = title.ToString()
    window.hWnd = hwnd

    Return window

  End Function

End Class 
```

''' Main 函数类开始

```
 Imports System.Text

Module Module1
 Private Declare Function SendMessage _
   Lib "user32" Alias "SendMessageA" _
   (ByVal hwnd As Int32, ByVal wMsg As Int32, ByVal wParam As Int32, ByVal lParam As String) As Int32

    Const WM_GETTEXT As Int32 = &HD
    Const WM_GETTEXTLENGTH As Int32 = &HE

    Const WM_CREATE As Int32 = &H1
    Const WM_SETTEXT = &HC
    Sub Main()
        Static count As Integer = 0
        Dim enumerator As New WindowsEnumerator()
        Dim sb As New StringBuilder()
        For Each top As ApiWindow In enumerator.GetTopLevelWindows
            count = 0
            Console.WriteLine(top.MainWindowTitle)

            For Each child As ApiWindow In enumerator.GetChildWindows(top.hWnd)
                Console.WriteLine(child.MainWindowTitle)

               'here you can find the value of control you  want and can can set the required

               ' count = count + 1
               ' If (child.MainWindowTitle.Contains("Initial value in text box")) Then
                  '  Console.WriteLine(count.ToString)
                    'Console.ReadKey()

                'End If

                'now find the count of ur control in the sample page and set the values
               ' If (count = 104 And top.MainWindowTitle.Contains("Form1")) Then
                    'SendMessage(child.hWnd, WM_SETTEXT, 0, "required Textbox value")

              '  End If

            Next child

        Next top
        Console.Read()

    End Sub

  End Module 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:00:11.587

If you persist the data from one app to a means you feel is acceptable; database, text file, xml. Then one app updates the persisted data store and the other app checks the data store for the info.

# python - 将数据从 xml 中的 <*> 标记转储到 python 中的 csv（多种不同的 xml 样式表格式）

> ID：15239149
> 
> 赞同：0
> 
> 时间：2013-03-06T04:42:30.863
> 
> 标签：python, xml, regex, csv

--即使在了解了一点 XSLT 之后，我也没有使用它，因为元数据/xls 格式发生了变化，因此基于单一样式表的方法将不起作用 ---

在过去的几个小时里，我一直在尝试获取 csv 并将每个标签中的数据转储到 CSV，但没有任何效果。我已经根据论坛中的其他一些问答尝试了 elemtree、解析和正则表达式。

例如，他的测试数据工作正常，但它不适用于我的 xml（问题末尾的示例）[。](https://stackoverflow.com/questions/1412004/reading-xml-using-python-minidom-and-iterating-over-each-node)

```
tree = ET.parse("test2.xml")
doc = tree.getroot()
thingy = doc.find('custod')
print thingy.attrib 
```

Traceback（最近一次调用最后一次）：文件“”，第 1 行，在 AttributeError 中：'NoneType' 对象没有属性'attrib'

```
doc
<Element anzmeta at 801a300>
thingy = doc.find('anzmeta')
print thingy.attrib 
```

Traceback（最近一次调用最后一次）：文件“”，第 1 行，在 AttributeError 中：'NoneType' 对象没有属性'attrib'

```
doc.attrib
{} 
```

--- 尝试使用[REX](https://stackoverflow.com/questions/7911504/python-string-operation-extract-text-between-html-tags)

```
rex = re.compile(r'<custod.*?>(.*?)</custod>',re.S|re.M)
rex
<_sre.SRE_Pattern object at 0x080724A0>
match=rex.match('test2.xml')
match
text = match.groups()[0].strip() 
```

回溯（最后一次调用）：文件“”，第 1 行，在 AttributeError 中：'NoneType' 对象没有属性 'groups'

* * *

我所需要的只是让系统检查我的 xml 文件并创建一个 csv，其中包含 csv 列中每个标签的完整条目。如果它们不存在，它应该将列添加到 csv，然后相应地填充它们。

=========== XML 示例

```
<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type='text/xsl' href='ANZMeta.xsl'?>
<anzmeta>
  <citeinfo>
    <uniqueid />
    <title>&lt;&gt;</title>
    <origin>
      <custod>ATGIS</custod>
      <jurisdic>
        <keyword thesaurus="">Tablelands Regional Council</keyword>
      </jurisdic>
    </origin>
  </citeinfo>
  <descript>
    <abstract>&lt;&gt;
    </abstract>
    <theme>
      <keyword thesaurus="">EPSG</keyword>
    </theme>
    <spdom>
      <keyword thesaurus="">GDA94</keyword>
      <keyword thesaurus="">GRS80</keyword>
      <keyword thesaurus="">Map Grid of Australia</keyword>
      <keyword thesaurus="">Zone 55 (144E - 150E)</keyword>
      <bounding>
        <northbc />
        <southbc />
        <eastbc />
        <westbc />
      </bounding>
    </spdom>
  </descript>
  <timeperd>
    <begdate>
      <date>2012</date>
    </begdate>
    <enddate>
      <keyword thesaurus="">Completed</keyword>
    </enddate>
  </timeperd>
  <status>
    <progress>
      <keyword thesaurus="">Ongoing</keyword>
      <keyword thesaurus="">Completed</keyword>
    </progress>
    <update>
      <keyword thesaurus="">As Required</keyword>
      <keyword thesaurus="">As Required</keyword>
    </update>
  </status>
  <distinfo>
    <native>
      <nondig>
        <formname>File</formname>
      </nondig>
      <digform>
        <formname>Type:</formname>
      </digform>
    </native>
    <avlform>
      <nondig>
        <formname>Format:</formname>
      </nondig>
      <digform>
        <formname>Size</formname>
      </digform>
    </avlform>
    <accconst>Internal Use Only</accconst>
  </distinfo>
  <dataqual>
    <lineage>~TBC~</lineage>
    <procstep>
      <procdesc Sync="TUE">Metadata imported.</procdesc>
      <srcused Sync="TRUE">L:\Data_Admin\MetadataGenerator\trc_Metadata_Template.xml</srcused>
      <date Sync="TRUE">20121206</date>
      <time Sync="TRUE">15341400</time>
    </procstep>
    <posacc>~TBC~</posacc>
    <attracc>~TBC~</attracc>
    <logic>~TBC~</logic>
    <complete>~TBC~</complete>
  </dataqual>
  <cntinfo>
    <cntorg>Atherton Tablelands GIS</cntorg>
    <cntpos>GIS Coordinator</cntpos>
    <address>PO Box 1616, 8 Tolga Rd</address>
    <city>Atherton</city>
    <state>QLD</state>
    <country>AUSTRALIA</country>
    <postal>4883</postal>
    <cntvoice>07 40918600</cntvoice>
    <cntfax>07 40917035</cntfax>
    <cntemail>info@atgis.com.au</cntemail>
  </cntinfo>
  <metainfo>
    <metd>
      <date />
    </metd>
  </metainfo>
</anzmeta> 
```

--- 我的脚本开始

```
import os, xml, shutil, datetime
from xml.etree import ElementTree as et

SourceDIR=os.getcwd()
outDIR=os.getcwd()+'//out'

def locatexml(SourceDIR,outDIR):
    xmllist=[]
    for root, dirs, files in os.walk(SourceDIR, topdown=False):
        for fl in files:
            currentFile=os.path.join(root, fl)
            ext=fl[fl.rfind('.')+1:]
            if ext=='xml':
                xmllist.append(currentFile)
                print currentFile
                readxml(currentFile)
    print "finished"
    return xmllist

def readxml(currentFile):
    tree=et.parse(currentFile)
    print "Processing: "+str(currentFile)

locatexml(SourceDIR,outDIR)
print xmllist 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:28:08.427

您应该真正使用 XSLT 来完成这项工作，因为它将 XML 转换为另一种格式。有关示例，请参阅[此问题的答案。](https://stackoverflow.com/questions/365312/xml-to-csv-using-xslt)

但是，如果您出于其他原因想要这样做`lxml`，这里有一些代码可以帮助您入门：

```
from lxml import etree

with open('test.xml') as f:
    tree = etree.parse(f)

# At this point, we can step through the xml file
# and parse it, here is an example of the `cntinfo` tag

for element in tree.iter('cntinfo'):
    for child in element.getchildren():
        print "{0.tag}: {0.text}".format(child) 
```

这将打印：

```
cntorg: Atherton Tablelands GIS
cntpos: GIS Coordinator
address: PO Box 1616, 8 Tolga Rd
city: Atherton
state: QLD
country: AUSTRALIA
postal: 4883
cntvoice: 07 40918600
cntfax: 07 40917035
cntemail: info@atgis.com.au 
```

您可以类似地逐步浏览文件中的其他元素；但我**强烈建议您使用 XSLT。**

* * *

此代码段将使用 xslt 样式表（来自[此问题](https://stackoverflow.com/questions/365312/xml-to-csv-using-xslt)）将 xml 文档转换为 csv：

```
# First, we load the stylesheet
with open(r'd:\test.xsl') as f:
    temp = etree.parse(f)
    style_sheet = etree.XSLT(temp)

# Apply it to the previously parsed document tree:
converted_xml = style_sheet(tree)

# Print the results:
str(converted_xml) 
```

这会给你：

```
'"",    "<>",    "ATGISTablelands Regional Council"\r"<>",    "EPSG",
  "GDA94GRS80Map Grid of AustraliaZone 55 (144E - 150E)"\r"2012",    "Completed"
\r"OngoingCompleted",    "As RequiredAs Required"\r"FileType:",    "Format:Size"
,    "Internal Use Only"\r"~TBC~",    "Metadata imported.L:\\Data_Admin\\Metadat
aGenerator\\trc_Metadata_Template.xml2012120615341400",    "~TBC~",    "~TBC~",
   "~TBC~",    "~TBC~"\r"Atherton Tablelands GIS",    "GIS Coordinator",    "PO
Box 1616, 8 Tolga Rd",    "Atherton",    "QLD",    "AUSTRALIA",    "4883",    "0
7 40918600",    "07 40917035",    "info@atgis.com.au"\r""\r' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T04:49:24.180

`<anzmeta>`是文档的根，因此您应该尝试使用`find`它的直接子项之一（如`citeinfo`），而不是根标记名称本身。

# windows-phone-7 - 如何在上下文菜单中绑定数据 WP7

> ID：15239151
> 
> 赞同：0
> 
> 时间：2013-03-06T04:43:02.193
> 
> 标签：windows-phone-7, xaml, silverlight-toolkit

我有一个列表，其中有可见的日程名称、日期和时间，但我希望在长按列表框中的特定项目时打开一个上下文菜单，其中只有特定项目的描述和日程名称可见.

所以我在 xaml 中的代码是：首先在网格中有一个列表框，我在其中绑定了 listbox.itemtemplate 中的 scheduleList ansd 整个列表，并且在数据模板中我已经将特定项目绑定到文本块

```
<Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
    <ListBox x:Name="scheduleListbox" ItemsSource="{Binding scheduleList}" Hold="scheduleListbox_Hold" Tap="scheduleListbox_Tap" >
        <ListBox.ItemTemplate>
            <DataTemplate>
                <StackPanel Orientation="Vertical" Height="150" Width="460">
                    <TextBlock x:Name="textBlock1" Text="{Binding ScheduleName}" Foreground="WhiteSmoke" FontSize="32"/>
                    <TextBlock x:Name="textBlock2" Text="{Binding ScheduleDate}" Foreground="Red" Margin="0,10,0,0"/>
                    <StackPanel Orientation="Horizontal" Height="70" Width="460" Hold="StackPanel_Hold">
                        <TextBlock x:Name="textBlock3" Text="{Binding StartTime}" Margin="0,5,0,0"/>
                        <TextBlock x:Name="textBlock4" Text="{Binding EndTime}" Margin="50,5,0,0"/>
                        <toolkit:ContextMenuService.ContextMenu>
                            <toolkit:ContextMenu x:Name="menuItem" VerticalOffset="100.0" IsZoomEnabled="True" >

                                <toolkit:MenuItem Header="Add to calender" ItemsSource="{Binding ScheduleName }"/>
                                <!--<toolkit:MenuItem Header="Description"  ItemsSource="{Binding Description}"/>-->

                            </toolkit:ContextMenu>
                        </toolkit:ContextMenuService.ContextMenu>
                    </StackPanel>
                </StackPanel>
            </DataTemplate>
        </ListBox.ItemTemplate>
    </ListBox>
</Grid> 
```

请告诉我如何通过代码或 xaml 在上下文菜单中绑定描述和计划名称。

如何通过代码或通过 xaml 在上下文菜单中绑定数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:57:05.510

我使用下面的代码创建了一个带有绑定的面包屑上下文菜单。您应该感兴趣的代码是您指定绑定的 toolkit:ContextMenu.ItemTemplate 部分。请注意，您也可以像我对索引值所做的那样绑定到命令参数。

不需要 toolkit:ContextMenu.Template 部分。我添加了这个以允许滚动项目，如果有更多的项目可以在屏幕上显示，并且还可以将菜单移动到屏幕底部。

```
 <toolkit:ContextMenuService.ContextMenu>
        <toolkit:ContextMenu x:Name="breadCrumbContextMenu" ItemsSource="{Binding CloudViewModel.BreadCrumbMenuItems}" Opened="ContextMenu_Opened" Closed="Breadcrumb_ContextMenu_Closed">
            <toolkit:ContextMenu.Template>
                <ControlTemplate TargetType="toolkit:ContextMenu">
                    <Border Margin="0,700,0,0" BorderThickness="1" >
                        <ScrollViewer MaxHeight="700">
                            <ItemsPresenter/>
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </toolkit:ContextMenu.Template>
            <toolkit:ContextMenu.ItemTemplate>
                <DataTemplate>
                    <toolkit:MenuItem Click="breadcrumbMenuItem_Click" CommandParameter="{Binding Index}" Padding="0">
                        <toolkit:MenuItem.Header>
                            <StackPanel Orientation="Horizontal" Height="40">
                                <Image Source="{Binding Image}" Width="40" Height="40" />
                                <TextBlock Text="{Binding Text}" Margin="24,0,0,0" />
                            </StackPanel>
                        </toolkit:MenuItem.Header>
                    </toolkit:MenuItem>
                </DataTemplate>
            </toolkit:ContextMenu.ItemTemplate>
        </toolkit:ContextMenu>
    </toolkit:ContextMenuService.ContextMenu> 
```

# mysql - MySQL 匹配多个值以 AGAINST

> ID：15239156
> 
> 赞同：1
> 
> 时间：2013-03-06T04:43:41.070
> 
> 标签：mysql, database, match-against

我认为这是一个非常简单的查询，但我在我的任何编程书籍或网上都找不到它。

我有这个查询： SELECT * FROM test WHERE MATCH (column1,column2) AGAINST ('value1');

但我需要 AGAINST 有多个值，例如 (value1,value2,value3)

谁能帮忙？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T04:47:09.520

我认为[BOOLEAN MODE](http://dev.mysql.com/doc/refman/5.5/en//fulltext-boolean.html)修饰符可能是您正在寻找的。

```
SELECT * FROM test WHERE MATCH (column1,column2) 
     AGAINST ('+value1 +value2 +value3' IN BOOLEAN MODE); 
```

# wikipedia - 维基百科搜索 API 的本地安装

> ID：15239157
> 
> 赞同：2
> 
> 时间：2013-03-06T04:43:41.127
> 
> 标签：wikipedia, wikipedia-api

我目前在研发上大量使用 Wikipedia[搜索 API 。](http://en.wikipedia.org/w/api.php?action=opensearch&search=xxxxxxxxxxxxx)鉴于它有使用限制，我想知道是否可以下载维基百科正在使用的确切搜索功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-04-27T22:34:57.730

当然，您可以[下载所有 Wikimedia 项目](http://dumps.wikimedia.org/)，[将它们导入您的实例](https://meta.wikimedia.org/wiki/Data_dumps/Tools_for_importing)并[安装所有扩展](https://www.mediawiki.org/wiki/Category:Extensions_used_on_Wikimedia)（或至少是解析的），包括[CirrusSearch](https://www.mediawiki.org/wiki/Extension:CirrusSearch)。

但是，您不太可能遇到搜索 API 限制：只需确保[设置一个用户代理](https://meta.wikimedia.org/wiki/User-Agent_policy)以便可以联系您并避免做愚蠢的事情（例如并行运行 1000 个线程），您会没事的。除非集群遇到麻烦，否则维基媒体基金会永远不会阻止任何人。

# css - 指南针`_compass_list`的用法

> ID：15239158
> 
> 赞同：2
> 
> 时间：2013-03-06T04:43:50.453
> 
> 标签：css, sass, compass-sass

我试图弄清楚如何在 Compass 中将字符串转换为列表 - 这在 SASS 中本机不支持。例如，字符串`"a b c"`将成为长度为 3 的列表……本质上`[a, b, c]`，例外列表实际上并不是数组。

根据文档，该`_compass_list()`函数似乎正是我正在寻找的：“从传递的值返回一个列表对象。这可用于解压缩一个空格分隔的列表，该列表在它之前被 sass 转换为字符串传递给一个mixin。” 然而，在实践中，它只是将字符串包装在一个列表中（例如`"a b c"`become `["a b c"]`）。

查看源代码，很明显这正是正在发生的事情。也许这是一个错误？ [https://github.com/chriseppstein/compass/blob/stable/lib/compass/sass_extensions/functions/lists.rb#L47](https://github.com/chriseppstein/compass/blob/stable/lib/compass/sass_extensions/functions/lists.rb#L47)

谁能向我解释这个功能的正确使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T18:36:57.733

此函数的代码与下一个函数的代码相同。下一个据说返回一个单元素列表。

不幸的是，SASS 中任何高级列表的使用都是一个很大的 PITA。

也许您可以编写自己的 Ruby-to-SASS 函数来解析字符串并将其转换为列表？

# ios - 注册 UITableViewCell 以供重用时，该单元格上的哪个 init 方法被调用？

> ID：15239169
> 
> 赞同：15
> 
> 时间：2013-03-06T04:44:52.053
> 
> 标签：ios, objective-c, uitableview, initialization

我正在尝试使用`UITableViewCell`样式设置为的自定义子类`UITableViewCellStyleSubtitle`并将其与`registerClass:forCellReuseIdentifier:`. 但是，我不确定如何执行此操作。

我的想法是重写`init`方法并调用

```
self = [super initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:myReuseIdentifier]; 
```

在其中。但是，我不知道`init`调用了哪个方法（或者这是否是正确的方法。）

我试图拦截以下所有 init 方法，但在使单元格出列时，它们似乎都不是正确的方法：

*   `init`
*   `initWithCoder`
*   `initWithFrame`

我已经确认`dequeueReusableCellWithIdentifier:forIndexPath:`返回的是正确类型的单元格，所以我知道它正在被创建。我只是不知道`init`正在调用哪个方法，所以我无法设置默认样式。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-03-06T04:53:29.233

我相信它调用 initWithStyle:reuseIdentifier: 为表格单元格初始化。

来自苹果文档

> dequeueReusableCellWithIdentifier：
> 
> 如果您为指定的标识符注册了一个类并且必须创建一个新单元格，则此方法通过调用其 initWithStyle:reuseIdentifier: 方法来初始化该单元格。对于基于 nib 的单元格，此方法从提供的 nib 文件加载单元格对象。如果现有单元格可供重用，则此方法将改为调用该单元格的 prepareForReuse 方法。

Ĵ

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T04:51:12.840

[[打头]]我是个白痴！我试图在 init 调用的主体中添加的方法......

```
initWithStyle:reuseIdentifier: 
```

......*是*我应该压倒一切的！

在这里找到...

[使用 iOS 6 UITableView dequeueReusableCellWithIdentifier:forIndexPath 时设置 UITableViewCell 的样式：](https://stackoverflow.com/questions/13174972/setting-style-of-uitableviewcell-when-using-ios-6-uitableview-dequeuereusablecel)

投票结束我自己的问题。不过，希望这篇文章的简洁性可以帮助其他人避免阅读另一篇文章中的多余细节。

# java - 如何使用 Jacob 从 java 中读取 Excel 个人宏

> ID：15239184
> 
> 赞同：3
> 
> 时间：2013-03-06T04:46:26.343
> 
> 标签：java, excel, jacob

我必须从 jacob 执行一个 excel 文件的宏，但现在我想执行一个 personal.xlsb!mymacro 并且我的 java 程序抛出错误。我不知道如何写个人宏的名称，我输入：

字符串文件="D:/Aprogramas/EclipseJEE/temp/Libro2.xlsm"

```
public boolean openFile`(String file) {
  try {
   final String macroName = "!PERSONAL.XLSB!Auto_abrir";
   executeMacro(new File(file), macroName);
   return true;
  } catch (Exception e) {
   e.printStackTrace();
  }
  return true;
 }

public boolean executeMacro(File file, String macroName) {
  ComThread.InitSTA();

  final ActiveXComponent excel = new ActiveXComponent("Excel.Application");

  try {

   final Dispatch workbooks = excel.getProperty("Workbooks")
     .toDispatch();
   final Dispatch workBook = Dispatch.call(workbooks, "Open",
     file.getAbsolutePath()).toDispatch();

   final Variant result = Dispatch.call(excel, "Run",
     new Variant(file.getName() + macroName));

   Dispatch.call(workBook, "Save");

   com.jacob.com.Variant f = new com.jacob.com.Variant(true);
   Dispatch.call(workBook, "Close", f);

  } catch (Exception e) {
   e.printStackTrace();
  } finally {
   excel.invoke("Quit", new Variant[0]);
   ComThread.Release();
   return true;
  }

 } 
```

控制台中的错误是：

```
com.jacob.com.ComFailException: Invoke of: Run
Source: Microsoft Excel
Description: No se puede ejecutar la macro "Libro2.xlsm!PERSONAL.XLSB!Auto_abrir". Puede que la macro no esté disponible en este libro o que se hayan deshabilitado todas las macros.

at com.jacob.com.Dispatch.invokev(Native Method)
at com.jacob.com.Dispatch.invokev(Dispatch.java:625)
at com.jacob.com.Dispatch.callN(Dispatch.java:453)
at com.jacob.com.Dispatch.call(Dispatch.java:541)
at com.test.main.POIExecutor.executeMacro(POIExecutor.java:43)
at com.test.main.POIExecutor.openFile(POIExecutor.java:23)
at com.test.main.Main.main(Main.java:11) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-12T13:19:08.190

无需在 Dispatch.call 方法中附加文件名和宏名。

从 Dispatch.call 方法中删除**“new Variant(file.getName() +”部分**

```
final Variant result = Dispatch.call(excel, "Run",
 **new Variant(file.getName() +** macroName)); 
```

正确的方法是

```
final Variant result = Dispatch.call(excel, "Run", macroName)); 
```

它将毫无错误地执行。

# php - 未捕获的 SoapFault 异常 [Http] 内部服务器错误

> ID：15239185
> 
> 赞同：1
> 
> 时间：2013-03-06T04:46:37.527
> 
> 标签：php, soap, wsdl

我正在开发一个 API（PHP）来使用 SOAP 与其他客户端进行通信，与客户端连接非常好，但是当我调用一个函数时，我收到此错误消息：

*“未捕获的 SoapFault 异常 [Http] 内部服务器错误...”*

起初我以为我只是错过了一个必填字段，但当我继续我的测试时，我收到了同样的错误。Web 服务是由其他公司开发的，无法修改。这也是我第一次使用网络服务。

我的问题是如何提取错误以便我可以轻松解决问题？“内部服务器错误”是指客户端故障还是服务器故障？

谢谢！

问候，
桑尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T17:31:36.970

大多数情况下，当您没有在服务器或 vps 上安装soap时会显示此错误

检查您的服务器上正确安装的soap，您应该添加soap扩展并重新编译php

我以前用directadmin面板做过这个

[在directadmin上安装soap](http://woshka.com/blog/linux/centos/direct-admin-control-panel/compile-and-enable-soap-into-php-with-directadmin-controlpanel-custombuild.html)

它是一个模型，您可以搜索您的面板，如 cpanel 和....

# highcharts - 散点图点单击未正确呈现

> ID：15239186
> 
> 赞同：2
> 
> 时间：2013-03-06T04:46:38.767
> 
> 标签：highcharts

在散点图中，我为点单击放置了一个覆盖 div，但是当我多次单击同一标记而不移动鼠标指针时，它不认为它是单击点，而是将其视为单击图表

# javascript - 在 HTML 表格中，数值可以用逗号格式表示吗？

> ID：15239192
> 
> 赞同：0
> 
> 时间：2013-03-06T04:47:16.177
> 
> 标签：javascript, jquery, datatables

在 Visual FoxPro 中，数字可以在文本框或网格中进行格式化，并且程序仍将其视为数字，即使它以逗号和句点格式显示。

目前我将数据插入到 DataTable Jquery 中，如下所示：

```
oTable.fnAddData( ["Bogus data","1,541,512.52","12.5%","0","0","0"]); 
```

但我想按如下方式输入数据，但为了清楚起见，用逗号显示：

```
oTable.fnAddData( ["Bogus data",1541512.52,"12.5%","0","0","0"]); 
```

原因是当你对这一列的行进行排序时，第一个例子中的字符串会产生混乱。这些数字，希望能产生一个有序的列表。

如果您对如何修复字符数列的排序有任何其他建议，请提出...

TIA

丹尼斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:53:10.733

DataTables 的作者在此处详细介绍了格式化数字的排序插件：

[http://www.datatables.net/plug-ins/sorting](http://www.datatables.net/plug-ins/sorting)

请参阅“格式化数字”：

> 该插件将为具有额外格式的数字列提供数字排序，例如千位分隔符、货币符号或任何其他非数字数据。

```
jQuery.extend( jQuery.fn.dataTableExt.oSort, {
    "formatted-num-pre": function ( a ) {
        a = (a==="-") ? 0 : a.replace( /[^\d\-\.]/g, "" );
        return parseFloat( a );
    },

    "formatted-num-asc": function ( a, b ) {
        return a - b;
    },

    "formatted-num-desc": function ( a, b ) {
        return b - a;
    }
} ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T04:55:35.407

这是一种快速而肮脏的方法；

```
var number = 1541512.52;
var nicelyformattedNumber = number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
oTable.fnAddData( ["Bogus data", nicelyformattedNumber, "12.5%","0","0","0"]); 
```

[来源](https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript)

# wordpress - 如何“打包”主题

> ID：15239198
> 
> 赞同：2
> 
> 时间：2013-03-06T04:47:59.227
> 
> 标签：wordpress, wordpress-theming

有没有办法在 WP 中打包主题？当我说主题时，我指的是所有的 HTML、CSS、JS、自定义帖子类型等。

我经常在 ThemeForest 之类的网站上看到这些东西，那里有 WP 主题可供出售。我想对已经转换为 HTML/CSS/等的我的设计做同样的事情。

我只是不熟悉这些术语，所以我不确定要查找什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:53:49.490

**对于`HTML, CSS, JS`：**

主题文件（实际上是 PHP、CSS 和 JS）可以在您的主题文件夹中找到。那里的每个 PHP 文件都有基于[模板层次结构](http://codex.wordpress.org/Template_Hierarchy)的自己的角色。`CSS`和`JS`文件也存在于主题文件夹中，并使用[`wp_register_style`](http://codex.wordpress.org/Function_Reference/wp_register_style)and [`wp_enqueue_style`](http://codex.wordpress.org/Function_Reference/wp_enqueue_style)for`CSS`和[`wp_register_script`](http://codex.wordpress.org/Function_Reference/wp_register_script)and [`wp_enqueue_script`](http://codex.wordpress.org/Function_Reference/wp_enqueue_script)for调用`JS`。

**对于`custom post types`：**

WordPress 主题文件夹包含一个名为的文件`functions.php`，您可以在其中定义用于该主题的自己的函数。您可以[`register_post_type`](http://codex.wordpress.org/Function_Reference/register_post_type)向该文件添加一个函数来定义您自己的自定义帖子类型。`register_post_type`应该被迷住了`init`。取自 WordPress Codex 的示例：

```
function codex_custom_init() {
    $args = array( 'public' => true, 'label' => 'Books' );
    register_post_type( 'book', $args );
}
add_action( 'init', 'codex_custom_init' ); 
```

如果将上述示例添加到`functions.php`文件中，您将获得一个名为`Books`.

**自定义变量：**

如果您想保存站点范围的变量，[选项 API](http://codex.wordpress.org/Options_API)允许您[添加](http://codex.wordpress.org/Function_Reference/add_option)、[更新](http://codex.wordpress.org/Function_Reference/update_option)、[检索](http://codex.wordpress.org/Function_Reference/get_option)和[删除](http://codex.wordpress.org/Function_Reference/delete_option)这些变量。[`add_menu_page`](http://codex.wordpress.org/Function_Reference/add_menu_page)与[Settings API](http://codex.wordpress.org/Settings_API)混合使用，您可以在 Dshboard 中创建页面，用户可以在其中管理这些变量。

**其他事情：**

同样，您可以将[自定义分类法](http://codex.wordpress.org/Function_Reference/register_taxonomy)和[小部件](http://codex.wordpress.org/Widgets_API)添加到该文件，还可以添加其他[挂钩](http://codex.wordpress.org/Plugin_API/Action_Reference)来修改 WordPress 行为以满足您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T19:20:59.587

我创建了一个 WordPress 样板，用于将现有的 CSS 转换为 WordPress 主题...

[http://cferdinandi.github.com/kraken-for-wordpress/](http://cferdinandi.github.com/kraken-for-wordpress/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T17:28:08.547

如果您想将现有的 HTML/CSS 网站转换为 WordPress 主题，您需要做很多事情：

**1.**将您的样式表重命名为 style.css 并包含一些关于您的主题的元数据：

```
Theme Name: Twenty Ten
Theme URI: http://wordpress.org/
Description: The 2010 default theme for WordPress.
Author: wordpressdotorg
Author URI: http://wordpress.org/
Version: 1.0
Tags: black, blue, white, two-columns, fixed-width, custom-header, custom-background, threaded-comments, sticky-post, translation-ready, microformats, rtl-language-support, editor-style, custom-menu (optional)

License:
License URI:

General comments (optional). 
```

来源：[http ://codex.wordpress.org/Theme_Development#Theme_Stylesheet](http://codex.wordpress.org/Theme_Development#Theme_Stylesheet)

您还需要包含 WordPress CSS Core，您可以在此处找到它：http: [//codex.wordpress.org/CSS#WordPress_Generated_Classes](http://codex.wordpress.org/CSS#WordPress_Generated_Classes)

**2.**创建一个 index.php 文件，作为“最后的手段”，如果当前页面没有找到更多特定页面，则使用此模板。有关您可以在此处找到的不同模板的更多信息：http: [//codex.wordpress.org/Template_Hierarchy](http://codex.wordpress.org/Template_Hierarchy)

如果您想为单个页面使用不同的样式，则必须创建一个文件`single.php`，该文件将用于这些页面。对于包含博客文章的页面，您将使用`home.php`,... 有关更多文件名，请参见上面的链接。

**3.**与其将内容直接放在文件中，我们显然在使用 WordPress 时不希望这样做，您必须使用“循环”。您可以在此处阅读更多相关信息：http: [//codex.wordpress.org/The_Loop](http://codex.wordpress.org/The_Loop)

基本上，它是一个迭代，将遍历页面的所有不同帖子（类别页面和博客主页将拥有比单个页面更多的帖子）。

以下代码对我理解“循环”有很大帮助：

```
<?php // any code included here occurs before the WordPress loop and is always displayed?    >

<?php if (have_posts()) : ?>

    <?php // if there are posts to display, process any code included here only once ?>
    <?php // display any code output from this region above the entire set of posts ?>

    <?php while (have_posts()) : the_post(); ?>

        <?php // loop through posts and process each according to the code specified here     ?>
        <?php // process any code included in this region before the content of each post     ?>

        <?php the_content(); ?> <?php // this function displays the content of each post ?    >

        <?php // process any code included in this region after the content of each post ?    >

    <?php endwhile; ?>

    <?php // stop the post loop and process any code included here only once ?>
    <?php // any code output will be displayed below the entire set of posts ?>

<?php else : ?>

    <?php // if there are no posts to display, process any code that is included here ?>
    <?php // the output of any code included here will be displayed instead of posts ?>

<?php endif; ?>

<?php // any code included here occurs after the WordPress loop and is always displayed ?> 
```

资料来源： http: [//perishablepress.com/easy-adaptable-wordpress-loop-templates/](http://perishablepress.com/easily-adaptable-wordpress-loop-templates/)

WordPress 主题很难在一篇文章中解释，所以我希望我能帮助你开始，显然，你仍然需要阅读很多关于它的内容，但这很正常，我在 WordPress 函数中查找函数每天参考...所以最后一个链接： [http ://codex.wordpress.org/Function_Reference/](http://codex.wordpress.org/Function_Reference/)

祝你好运！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:00:15.397

File structure is going to be variable, correlating to the scope of the project, but there are some industry best practices that you can follow to package your WordPress theme for deployment.

Envato provides extensive documentation on their submission guidelines and addresses formatting standards in a pretty comprehensive manner. Found here: [http://support.envato.com/index.php?/Knowledgebase/Article/View/352/0/general-file-preparation-guidelines](http://support.envato.com/index.php?/Knowledgebase/Article/View/352/0/general-file-preparation-guidelines)

Jeffrey Way, of Themeforest, also provides a step-by-step video screencast walkthrough of the file preparation and submission process for Themeforest templates that should serve as a great reference. Found here: [http://blog.themeforest.net/site-news/how-to-submit-a-template-to-themeforest-screencast/](http://blog.themeforest.net/site-news/how-to-submit-a-template-to-themeforest-screencast/)

Hope this helps.

# ruby-on-rails - 未找到 Heroku csv gem

> ID：15239200
> 
> 赞同：0
> 
> 时间：2013-03-06T04:48:10.677
> 
> 标签：ruby-on-rails, heroku

我放入了我的 gemfile gem 'csv'，因为我在我的代码中使用了 csv。

当我在本地运行时，一切都很好。

但是，当我将它推送到 heroku（以前工作过）时，整个事情都崩溃了，我收到一个错误，即找不到 csv gem。

但是，当我删除它时，一切正常，包括涉及 CSV 的代码。

省略它就可以了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:59:31.713

CSV 是 1.9.3 中核心 Ruby 的一部分。它不再需要 gem 来使用该功能。

请参阅：[http ://ruby-doc.org/stdlib-1.9.3/libdoc/csv/rdoc/CSV.html](http://ruby-doc.org/stdlib-1.9.3/libdoc/csv/rdoc/CSV.html)

# git - git中的子模块库以最小化冗余

> ID：15239204
> 
> 赞同：3
> 
> 时间：2013-03-06T04:48:17.147
> 
> 标签：git, directory, project-management, organization

我对使用 git 很陌生，以前并没有真正尝试过“组织”我从事的任何项目。然而，我最近刚刚购买了一个供个人使用的开发服务器，我想开始组织我的所有项目并使用版本控制。

在过去的 8 个小时里，我研究了在项目中组织文件的不同推荐方法，我意识到这是一个非常主观的问题。但是，我开发了一个系统，我认为该系统几乎适用于我的任何原因，关于如何使用目录结构完成某项任务，我有一个非常客观的问题。

目前，我正在研究类似于以下内容的结构：

```
src/ - All deliverables in an uncompiled form (PHP files, c source files, etc)
data/ - Crucial but unrelated data (SQL databases, etc.)
lib/ - Dependencies -- THIS IS WHERE MY QUESTION LIES
docs/ - Documentation
build/ - Scripts to aide in the build process
test/ - Unit tests
res/ - Not version controlled. Contains PSD files and non-diff-able stuff
.gitignore
README
output.zip - Ready-to-install finished product (just unzip and go) 
```

正如我所提到的——我真正的问题围绕着这个`lib/`目录。这需要包含我的项目需要运行的所有文件和程序，但它们超出了我的项目范围，我不会编辑。我需要此文件夹具有的一些功能：

*   由于我的最终产品需要这些文件才能运行，因此它们必须包含在 output.zip 中
*   我希望对这个文件夹进行版本控制，以便下载我的 git 存储库的任何人都可以访问所有依赖项
*   如果多个项目具有相同的依赖关系，我不想在我的服务器上拥有相同文件的 18 个冗余副本
*   我希望能够从我的其他项目中提取这些依赖项（一个项目应该能够作为单独项目的库）

我可以通过使用虚拟目录（符号链接）来避免同一文件的 18 个冗余副本，但是据我了解，git 会按原样将此符号链接复制到存储库中，而无需复制文件。因此，如果其他人获取我的存储库，他们将有一个悬空指针并且没有库。

起初看起来我可以使用[git-submodule](https://www.kernel.org/pub/software/scm/git/docs/git-submodule.html)做我想做的事。但是，据我了解，这会获取另一个存储库的全部内容并将其视为子目录。因此，如果我包含“依赖项 A”，我的库文件夹将如下所示：

```
/lib/A/src/
/lib/A/data/
...
/lib/A/test/
.gitignore
README
output.zip 
```

对于脚本（PHP、Perl 等），我可能可以使用 加载依赖`require('lib/A/src/dependency.php')`项，但对于 DLL 或二进制文件，我没有简单的方法从 output.zip 读取输出文件。我可以将完成的项目直接存储在根级别，而不是包装在一个漂亮的 zip 文件中，但如果项目是，比如说，一个网站 - 这可能意味着数百个文件会在我的存储库根目录中混乱。

如何将另一个存储库作为我自己的库包含在内，在我自己的项目中轻松引用库文件，将库有意义地复制给获取我的存储库的任何人，并防止在我的开发服务器上重复复制相同的文件？

**编辑**：在谷歌上搜索了一段时间后，我发现了[这个类似的问题](https://stackoverflow.com/questions/5461617/using-git-and-submodule-whats-a-good-folder-structure)，但它只涉及 PHP 项目。虽然自动加载器可能允许您在 PHP 环境中屏蔽底层文件系统，但您将如何将类似的方法应用于 C++ 项目？还是 Python 项目？还是 Java 项目？

当我今天更多地考虑这个项目时，我想到了一些其他的想法，这可能需要一个新的思路方向。首先是非常深的库嵌套问题。如果项目 A 依赖于项目 B，而项目 B 又依赖于项目 C，而项目 C 又依赖于项目 D，那么您将具有如下目录结构：

```
A/lib/
A/lib/B/
A/lib/B/lib/
A/lib/B/lib/C/
A/lib/B/lib/C/lib/
A/lib/B/lib/C/lib/D/ 
```

显然，这不仅会让人讨厌，而且会以自己的方式变得多余。

普通人在做 git 仓库时是如何处理依赖关系的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T15:47:35.750

在我参与的项目中，子模块仅适用于依赖管理的某些情况，在其他情况下，这由其他框架补充。大多数情况下，当我需要完整的存储库时，我更喜欢使用子模块，例如，如果我有一个可以跨项目共享的通用构建脚本。

有专门的工具专注于各种堆栈中的依赖管理 -

*   [.net 世界中的Nuget](http://nuget.org/)，
*   红宝石世界中的[Bundler](http://gembundler.com/) + [Gems](http://rubygems.org/)

等等

这些工具负责冗余管理。

目前，我在一个 .net 项目中，我们有这个设置 -

1.  使用子模块跨项目共享的 Powershell 构建脚本。Buildscript 存储库包含部署我们的任何 .net 应用程序和相应的包装器 powershell 脚本所需的所有第 3 方可执行文件，以及一些用于加载约定、配置等的脚本。
2.  Nuget 服务器（通过 Teamcity）托管用于跨项目共享的通用二进制文件的 nuget 包。Nuget Package restore 是一项允许在构建过程中获取包的功能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T19:59:34.903

虽然统一工作流程很好，但你必须尊重你试图驯服的野兽。对于不同的项目，您应该有不同的目录结构。从 3D 动画项目到 PHP 项目再到 C++ 项目以及介于两者之间的任何地方，我发现从长远来看，挤压它们以符合相同的工作流程只会增加工作量和头痛。大多数 IDE 都有一个开箱即用的良好“新项目”结构，它是其他开发人员立即知道和理解的结构。

至于依赖问题，请尝试实施超级项目方法： [http ://git-scm.com/book/en/Git-Tools-Submodules](http://git-scm.com/book/en/Git-Tools-Submodules)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T15:48:06.373

您问了一个一般性问题，但也专门询问了几个实例。我将倾向于更一般。简短的回答：这是一个构建系统问题，而不是版本控制系统问题。

对于 Java，您可以使用一些不同的依赖管理/解决工具。构建系统应该了解如何*在构建时*获取这些依赖项并使它们可用。然而，它们是暂时的——您不会将它们签入到版本控制中。此外，Maven - 例如 - 使用一个`/target`包含您的输出的文件夹（例如 output.zip - 我也推荐它，因为它使清理输出更容易。如果您有多个输出文件怎么办？变体呢？等等。 ) 以及其他项目，例如静态分析输出 - 它还使用外部目录来本地缓存依赖项，但这可能是短暂的，它不会在意。底线：它没有保留在版本控制中。

据我所知，这在 C++ 中并不容易。CMake[似乎支持](http://www.kitware.com/media/html/BuildingExternalProjectsWithCMake2.8.html)构建外部项目。我最近才开始玩这个，看看有什么可能，所以我不想误导你说“它很容易做到”，但按理说它可以做到，问题是只有你必须投入多少工作。因此，无论您是否调用文件夹`/libs`，都应该使构建将依赖项视为可传递的（然后祝您好运）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T07:27:27.920

不要嵌入库，这是一个安全噩梦！例如，当您在应用程序中嵌入一些图像格式库（如 libpng、libjpeg 或 libtiff）时，因为您想使用它的图像格式，您将应用程序打开到这些库可能包含的任何安全漏洞，并且用户无法轻松知道他们需要更新您的程序以解决安全问题。当您将依赖项留在应用程序范围之外时，包管理器就会知道该库，并且可以在安全漏洞暴露时采取措施。

将您依赖的库留在项目范围之外。如果您个人开发了在多个项目中使用的库，请将其放在自己的存储库中并单独发布。

对于 unix 之类的操作系统（linux/bsd/solaris/etc.）让用户通过他们的包管理器单独安装它们，如果你发布你的软件，包管理器会知道你的依赖项并在安装你的应用程序之前安装必要的依赖项，所以没有手册行动是必要的。

对于 Windows，使用单独的捆绑过程将您依赖的库捆绑到便利安装程序中，该安装程序将库安装到共享系统目录，而不是您的程序目录。

顺便说一句，在 git 中没有技术手段可以在没有大量重复的情况下做你想做的事。

# ruby-on-rails - 在给定项目上运行的 rails 命令的日志历史记录

> ID：15239206
> 
> 赞同：0
> 
> 时间：2013-03-06T04:48:20.810
> 
> 标签：ruby-on-rails, ruby

有人知道将所有已运行到日志文件中的 rails 命令记录的方法吗？

Spring Roo 做到了这一点，它允许您在不同的项目中“重放”这些命令。

能够查看所涉及的代码以及为给定的源代码控制提交执行的 rails 命令也非常方便。

谢谢

# php - 如何在产品区域根据给定的关键字显示最相关的内容？

> ID：15239209
> 
> 赞同：2
> 
> 时间：2013-03-06T04:48:28.177
> 
> 标签：php, mysql, keyword-search

我正在创建一个产品区域。所有产品中都有一些**关键字 ID**。我要实现的是，如果选择了一个产品，我想在页面下方显示**大多数相关的其他产品。**例如数据，

## 产品编号 | 产品名称 | 关键词

```
23     | product1     | 2,4,13
31     | product3     | 2,4,8
10     | product6     | 2,4
11     | product4     | 2,3
34     | product2     | 2,4
54     | product5     | 2,7
12     | product8     | 4,8 
```

假设我必须为**包含关键字 2 和 4**的产品显示相关产品。 目前我正在使用以下来获取相关产品

```
$sql="SELECT * FROM table1 WHERE keywords REGEXP '(^|,)2(,|$)' OR keywords REGEXP '(^|,)4(,|$)' ORDER BY product_id" 
```

但有时这不会返回大部分相关产品。

对于上面的示例数据，**product_id 23,31,10,34**应该优先于其他记录。

这可能吗？那我应该怎么做才能克服呢？感谢所有回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:23:47.167

只需使用[FIND_IN_SET](http://dev.mysql.com/doc/refman/5.1/en/string-functions.html#function_find-in-set)

[SQLFiddle 演示](http://sqlfiddle.com/#!2/a3937/11)

```
select t.*,
SIGN(FIND_IN_SET('2',keywords))+SIGN(FIND_IN_SET('4',keywords))
as FindWeight
from t
where 
SIGN(FIND_IN_SET('2',keywords))+SIGN(FIND_IN_SET('4',keywords))>0
ORDER BY FindWeight DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:18:59.500

leftclickben 关于您应该如何构建表格是正确的。

但是，如果您想继续这样做，那么以下将起作用

```
keywords LIKE '2,%' OR keyword LIKE '%,2,%' OR keyword LIKE '%,4,%' OR keyword LIKE '%,4,%' 
```

小心 - 逗号和空格的放置要非常一致。

# java - 如何正确终止/清除/停止/取消从另一个线程启动的线程？

> ID：15239217
> 
> 赞同：0
> 
> 时间：2013-03-06T04:49:25.483
> 
> 标签：java, android, multithreading

我的一个线程正在创建另一个线程以在特定时间间隔内执行某些操作。它是通过计时器来完成的。

现在当原始线程停止时，另一个线程仍在运行，我无法让它停止。

如何正确终止“线程”？：

```
Thread thread = new Thread() {

    @Override
    public void run() {
        try {
            while (true) {
                sleep(1000);
                // do something
            }
        } catch (InterruptedException e) {
            Log.e(TAG,"new invoked caught the exception!");
            return;
        }
    }
};

public void run() {
    while (true) {
        try {
            Log.d(TAG,"ConnectedThread.run: Reading from InStream socket");
            while (true) {
                thread.start();
                Log.e(TAG,"starting additional thread");
                // Read from the InputStream
                int inB;
                inB = mmInStream.read();
                if (inB != -1) mAccessoryInfo.addCharacter((byte) inB);
            }
        } catch (IOException e) {
            Log.e(TAG, "TADA InStream read exception, disconnected "
                    + e.getMessage());
            // stopService(new Intent(getBaseContext(), Pinger.class));
            thread = null;
            connectionLost();
            break;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:35:03.390

```
Hi thread is stop by kill() or stop() or destroy method of thread but this all are              
deprecated so dont kill the thread thread is automatically destroy after done its work.   
 so   
if you want to do any work use handler like this not thread in therad.
new Thread() {

        public void run() {

            try {
                Message msg = new Message();
                msg.arg2 = 0;
                handle.sendMessage(msg);
                Thread.sleep(5000);
            } catch (Exception e) {
                Log.e("tag", e.getMessage());
            }

            //

        }

    }.start();
 and make handler in ur activity like this
 public static Handler handle = new Handler() {
    @Override
    public void handleMessage(Message msg) {
        super.handleMessage(msg);
        if (msg.arg2 == 0) {
            Toast.makeText(context, "No data to sync.",    
  Toast.LENGTH_SHORT)
                    .show();
        } else if (msg.arg2 == 1) {
            Toast.makeText(context, "Data Sync Completed.",
                    Toast.LENGTH_SHORT).show();

        } else {
            Toast.makeText(context, "Data Sync not Completed.",
                    Toast.LENGTH_SHORT).show();
        }

    }
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T04:52:35.623

你会想要中断线程。“正常”的事情是更改`while(true)`to `while(!isInterrupted)`，但是当您在 while 循环上方捕获该异常时，它会在您中断它时进入 catch 块。您可以通过调用来中断线程`thread.interrupt()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:09:49.997

根据您愿意做什么，也许您想要一个或多个处理程序/循环器线程。

[Looper 文档http://developer.android.com/reference/android/os/Looper.html](http://developer.android.com/reference/android/os/Looper.html)和 Handler 类 [http://developer.android.com/reference/android/os/Handler](http://developer.android.com/reference/android/os/Handler.html)中给出了代码示例[.html](http://developer.android.com/reference/android/os/Handler.html) 提供了您可能使用的方法（如 postAtTime()）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:11:23.167

当您说您有一个“线程”启动另一个“线程”时，我有点困惑，您的意思是一个`Activity`正在启动一个线程并且它正在`Activity`被销毁并让一个孤立线程运行吗？如果是这种情况，那么我会请求关闭该`Activity's` `onDestroy()`方法中的线程。

内`onDestroy()`：

```
 ...
  if(yourThread != null){
    yourThread.interrupt();
  }
  ... 
```

但我会有点担心使用这样的计时器，没有其他方法可以实现您的目标吗？即，异步任务和使用任务何时开始/完成的标志

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T05:15:23.120

只需在 java util 并发框架中使用[可调用语句。](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Callable.html)

父线程代码将像

```
public class Worker implements Callable<Boolean>
{
    @Override
    public Boolean call() throws Exception 
    { 
        //Your worker code here
    }
}

void callingmethod()
{
    //Three threads executing upon five worker modules.

    ExecutorService executor = Executors.newFixedThreadPool(3); 

    List<Worker> list = new ArrayList<Worker>(5);  //For example 5 workers.

    for(int i=0; i<5; i++)
    {
        list.add(new Worker());
    }

    List<Future<Boolean>> futures = executor.invokeAll(list);

    for(Future<Boolean> future : futures)
    {
    future.get();
    }

    executor.shutdown();

    executor.awaitTermination(5, TimeUnit.SECONDS);
} 
```

语句 future.get 意味着，运行调用方法的线程将阻塞，直到所有工作人员在执行工作后返回。

# java - Java DNSLookup 获取 DNS 属性

> ID：15239220
> 
> 赞同：2
> 
> 时间：2013-03-06T04:49:53.157
> 
> 标签：java, dns, jndi

我对网络 DNS 记录很陌生，需要一个可以运行查找以获取域（A、MX、NS）的 3 个主要 DNS 记录的程序。

我一直在这里和那里寻找 java 解决方案，我的最终课程如下： 但是，我总是会得到一个**NameException**并且找不到它的原因。

[编辑]：问题似乎出在我们的互联网上，因为使用其他 wifi，程序运行得很好。

非常感谢，

```
import javax.naming.directory.Attributes;
import javax.naming.directory.DirContext;
import javax.naming.directory.InitialDirContext;
import javax.naming.Context;
import javax.naming.NamingEnumeration;
import javax.naming.NamingException;
import java.net.InetAddress;
import java.net.UnknownHostException;
import java.util.Hashtable;

public class DNSLookup
{
    public static void main(String args[])
    {
        String host = "google.com";
        try
        {
            InetAddress inetAddress = InetAddress.getByName(host);
            // show the Internet Address as name/address
            System.out.println(inetAddress.getHostName() + " " + inetAddress.getHostAddress());

            Hashtable<String, String> env = new Hashtable<String, String>();
            //env.put(Context.INITIAL_CONTEXT_FACTORY,"com.sun.jndi.ldap.LdapCtxFactory");
            //env.put(Context.PROVIDER_URL, "ldap://localhost:389/o=JNDITutorial");

            env.put(Context.INITIAL_CONTEXT_FACTORY,"com.sun.jndi.dns.DnsContextFactory");
            //env.put(Context.PROVIDER_URL, "dns://google.com");

            // get the default initial Directory Context
            InitialDirContext iDirC = new InitialDirContext(env);
            // get the DNS records for inetAddress
            Attributes attributes = iDirC.getAttributes("dns:/"+inetAddress.getHostName());
            // get an enumeration of the attributes and print them out
            NamingEnumeration<?> attributeEnumeration = attributes.getAll();
            System.out.println("");
            while (attributeEnumeration.hasMore())
            {
                System.out.println("" + attributeEnumeration.next());
            }
            attributeEnumeration.close();
        }
        catch (UnknownHostException exception)
        {
            System.err.println("ERROR: Cannot access '" + host + "'");
        }
        catch (NamingException exception)
        {
            System.err.println("ERROR: No DNS record for '" + host + "'");
            exception.printStackTrace();
        }
    }
} 
```

输出：

```
google.com 74.125.128.113
ERROR: No DNS record for 'google.com'
javax.naming.CommunicationException: DNS error [Root exception is java.net.SocketTimeoutException: Receive timed out]; remaining name 'google.com'
    at com.sun.jndi.dns.DnsClient.query(Unknown Source)
    at com.sun.jndi.dns.Resolver.query(Unknown Source)
    at com.sun.jndi.dns.DnsContext.c_getAttributes(Unknown Source)
    at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(Unknown Source)
    at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(Unknown Source)
    at com.sun.jndi.toolkit.url.GenericURLDirContext.getAttributes(Unknown Source)
    at javax.naming.directory.InitialDirContext.getAttributes(Unknown Source)
    at javax.naming.directory.InitialDirContext.getAttributes(Unknown Source)
    at gimasys.dnsCrawler.DNSLookup.main(DNSLookup.java:35)
Caused by: java.net.SocketTimeoutException: Receive timed out
    at java.net.DualStackPlainDatagramSocketImpl.socketReceiveOrPeekData(Native Method)
    at java.net.DualStackPlainDatagramSocketImpl.receive0(Unknown Source)
    at java.net.AbstractPlainDatagramSocketImpl.receive(Unknown Source)
    at java.net.DatagramSocket.receive(Unknown Source)
    at com.sun.jndi.dns.DnsClient.doUdpQuery(Unknown Source)
    ... 9 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T04:55:57.410

我已经尝试过提供`DNSLookup.java`的类（），它对我有用。

我的理解是它给出了 timeOut 异常，意味着它无法连接到服务器。

```
Check your internet connection ? 
```

# iphone - 为什么 iOS 设备既有 UDID 又有序列号？

> ID：15239222
> 
> 赞同：5
> 
> 时间：2013-03-06T04:49:54.747
> 
> 标签：iphone, ios, cocoa-touch, uuid

为什么 iOS 设备既有 UDID 又有序列号？

他们不一样吗？唯一标识设备的数字？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T04:53:45.520

不，他们不一样。

序列号只是用于设备保修索赔的硬件设备编号。它就像设备的 IEMI 编号

UDID 是用于设备测试的隐藏号码，它是存储在苹果数据库中的唯一密钥。

# python - 获取 celery 每个任务日志

> ID：15239223
> 
> 赞同：0
> 
> 时间：2013-03-06T04:49:58.303
> 
> 标签：python, django, celery, fabric

现在我正在使用 celery 来处理我的部署脚本（织物）。所以我需要将每个项目部署日志保存到数据库中，然后我可以检查部署是否完美运行。但是我仍然没有找到保存每个任务日志的正确方法，并且对使用 celery 记录器有点困惑。我正在使用芹菜 2.5.1

视图.py

```
def deploy(request, project_slug):
    project = get_object_or_404(Project, slug=project_slug)
    deploy_settings = simplejson.loads(project.result) #settings in json format
    tasks.deploy.delay(deploy_settings) 
```

任务.py

```
from celery.task import task
from deployer import fabfile

@task
def deploy(deploy_settings):
    logger = deploy.get_logger()
    fabfile.deploy_settings = deploy_settings
    fabfile.clone()    #run the deployment script, I need to save all the output message

    return True 
```

工厂文件.py

```
env.host_string = 'example@example.com'
env.password = 'example'
deploy_settings = {}

def clone():
    with cd(deploy_settings['PATH_TO_APPS']):
        run('mkdir %s' % deploy_settings['PROJECT_SLUG'])
        run('git clone %s %s' % (deploy_settings['URL'], deploy_settings['PROJECT_SLUG']))
        with cd('%s/example/' % deploy_settings['PROJECT_SLUG']):
            run('git checkout %s' % deploy_settings['BRANCH']) 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T05:04:32.147

```
class LogEntry(models.Model):
    timestamp = models.DateTimeField(auto_now_add=True)
    severity = models.CharField(blank=False, max_length=10)
    message = models.TextField(blank=False)

@task
def deploy(deploy_settings):
    log = LogEntry(severity="INFO", message="Deploying....")
    log.save()
    fabfile.deploy_settings = deploy_settings
    fabfile.run_all()    #run the deployment script, I need to save all the output message

    return True 
```

# jquery - 从 JSON 获取数据时使用其他数据获取“未定义”

> ID：15239224
> 
> 赞同：1
> 
> 时间：2013-03-06T04:49:58.647
> 
> 标签：jquery, json, jquery-mobile

我使用 jQuery 使用以下代码从 JSON 获取值：

```
$(document).ready(function() {
            $.ajax({
                type : 'GET',
                url : 'outfitters.json',
                dataType : 'json',
                success : processTeam,
                error : function() {
                    alert('error');
                }
            });
        });

        function processTeam(data) {
            var company = data.company;
            $("h1").html(company);

            var locations;
            for ( i = 0; i < data.locations.length; i++) {

                locations += data.locations[i].name + "<br/>";

            }
            $("li").html(locations);

        } 
```

事实上，我得到了预期的输出，但在输出的开头有一个额外的“未定义”，如下所示：

```
undefinedKincardine
Killarney
Bon Echo 
```

此外，我正在使用 jQuery 移动列表框，但它只在一个列表框中填充值，尽管它应该在三个单独的列表框中显示它。

```
<ul data-role="listview">
            <li>

            </li>

        </ul> 
```

我在代码中犯了什么错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T04:52:28.103

初始化你的变量`var locations = '';`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T04:53:34.783

您需要先初始化变量。

```
var locations=''; 
```

因为当您尝试附加未初始化的数据时。所以首先它将是 undefined + youvalue。所以你得到`undefinedKincardine`第一个结果

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T04:56:36.347

如果没有初始化位置，您使用它当然是通过未定义的错误消息。

```
var locations = ''; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:14:48.377

我假设您的 HTML 如下所示

```
<div data-role="page">
    <div data-role="header">
        <h1>header</h1>
    </div>
    <div data-role="content">
        <h2 id="companyName">my list</h2>
        <div id="locationList"></div>
    </div>
</div> 
```

那么你`processTeam`应该如下

```
var company = JSON.parse(data);

//setting company name
$('#companyName').text(company.company);

//setting the list view
//running a loop first
var locationsStr = "<ul data-role='listview'>";
$.each(company.locations, function(){
   locationsStr = locationsStr + "<li><a href='#'>"+this.name+"</a></li>";
});
locationsStr = locationsStr+ "</ul>";
$('#locationList').html(locationsStr);
$('#locationList ul').listview(); 
```

你可以在这里查看一个工作小提琴[http://jsfiddle.net/eTpSQ/1/](http://jsfiddle.net/eTpSQ/1/)

# php - PHP获得工作日时间

> ID：15239230
> 
> 赞同：-1
> 
> 时间：2013-03-06T04:50:29.843
> 
> 标签：php, mysql, datetime

我有一个代码，我可以在其中保存 MySQL 中特定业务的工作时间和工作日。当从 MySQL 获取数据时，输出将如下所示：

```
Array ( [open_hours] => 0 10 0,1 10 0,2 10 0,3 10 0,4 10 0,5 10 0,6 10 0 ) 
```

`0 10 0`简单的意思是`Mon 10am 12am` ，如果是这样的`0 15 18`意思`Mon 3pm 6pm`。这不是问题，因为我已经通过以下代码解决了这个问题：

```
$openHrs = explode(",", $openHrs['open_hours']);

        $weekdays = array('Sun','Mon','Tue','Wed','Thu','Fri','Sat');
        $res      = array();
        foreach($openHrs as &$temp) {

            $temp = explode(" ", $temp);

            $temp[1] = $temp[1] > 12 ? $temp[1] - 12 . 'pm' : $temp[1] . 'am';
            $temp[2] = $temp[2] > 12 ? $temp[2] - 12 . 'pm' : $temp[2] . 'am';
            $res[]   = $weekdays[$temp[0]] . ' ' . $temp[1] . ' - ' . $temp[2];
        } 
```

现在我如何编写更高级的代码，以便如果今天是星期一我只需要显示星期一的输出结果？哪个是`0 10 0`或`Mon 10am 12am`？谢谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:17:46.067

你可以用这段代码解决这个问题

```
 for($i=0;$i<=6;$i++) 
     {
     if($res[$i]==date('w')) //get today's week number
           {
                echo $res[$i]." ".$temp[1]." ".$temp[2];              
            } 
     } 
```

或者

```
 for($i=0;$i<=6;$i++) 
     {
     if($res[$i]==date('D')) // get today's weekday
           {
                echo $res[$i]." ".$temp[1]." ".$temp[2];              
            } 
     } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:15:10.443

如果您想过滤出`open_hours`今天的工作日，下面的代码应该可以。

```
$openHrs = explode(",", $openHrs['open_hours']);

    $weekdays = array('Sun','Mon','Tue','Wed','Thu','Fri','Sat');
    $res      = array();

    $todayWeekDay = date('D'); // get today's weekday
    $todayWeekNum = array_search($todayWeekDay, $weekdays); // get number for today's weekday

    foreach($openHrs as &$temp) {

        $temp = explode(" ", $temp);

        $temp[1] = $temp[1] > 12 ? $temp[1] - 12 . 'pm' : $temp[1] . 'am';
        $temp[2] = $temp[2] > 12 ? $temp[2] - 12 . 'pm' : $temp[2] . 'am';
        // only add the item where the weekday is equal to today's
        if ($temp[0] == $todayWeekNum) {
             $res[]   = $weekdays[$temp[0]] . ' ' . $temp[1] . ' - ' . $temp[2];
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:33:29.480

好吧，这听起来像是一个棘手的问题，但看看是否值得尝试：

```
$open_hours = array(Mon 10 0,Tue 10 0,Wed 10 0,Thu 10 0,Fri 10 0,Sat 10 0,Sun 10 0 );
$today = date('D');
$associate_array_key = array_keys($open_hours, $today);
$openHrs = explode(" ", $open_hours[$associate_array_key]);
foreach($openHrs as &$temp) {
  $temp[0]; 
  $temp[1] = $temp[1] > 12 ? $temp[1] - 12 . 'pm' : $temp[1] . 'am';
  $temp[2] = $temp[2] > 12 ? $temp[2] - 12 . 'pm' : $temp[2] . 'am';
} 
```

这只是我能想到的概念，代码肯定需要一些操作！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:22:51.213

```
 $i; // the weekday; comes as input

    $openHrs = explode(",", $openHrs['open_hours']);

    $weekdays = array('Sun','Mon','Tue','Wed','Thu','Fri','Sat');
    $res      = array();
    $temp = explode(" ", $openHrs[$i]);

    $temp[1] = $temp[1] > 12 ? $temp[1] - 12 . 'pm' : $temp[1] . 'am';
    $temp[2] = $temp[2] > 12 ? $temp[2] - 12 . 'pm' : $temp[2] . 'am';
    $res   = $weekdays[$temp[0]] . ' ' . $temp[1] . ' - ' . $temp[2]; 
```

# salesforce - 通过 REST api 进行公司范围内的聊天访问

> ID：15239231
> 
> 赞同：2
> 
> 时间：2013-03-06T04:50:31.763
> 
> 标签：salesforce, salesforce-chatter

我正在检查 Salesforce 中聊天系统的 REST api，但我没有找到我希望的所有功能。似乎所有访问都必须通过单个用户的 oauth。是否可以在公司范围内建立对 chatter 的访问权限？主要用例是我希望能够将系统中的警报发布到公司的聊天源上。这些警报不是来自特定用户，而是来自整个系统。这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:53:39.973

一切都是在用户的上下文中完成的，我所看到的是给这些系统一个专用的用户帐户，例如我们有一个名为 Jenkins 的用户，我们的 Jenkins 构建服务器使用它来将构建结果发布到 chatter。

# forms - 具有单个文本输入字段的引导模式对话框始终在 Enter 键上关闭

> ID：15239236
> 
> 赞同：10
> 
> 时间：2013-03-06T04:50:58.010
> 
> 标签：forms, twitter-bootstrap, modal-dialog

为什么当焦点在字段上并按下 Enter 时，这个带有一个文本字段（和 NO 按钮）的简单模式对话框会消失？

```
<a href="#dlgAddDeviceFolder" class="add-device-folder" data-toggle="modal">New Folder</a>

<div id="dlgAddDeviceFolder" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="dlgAddFolderLabel" aria-hidden="true">
  <div class="modal-header">
    <!--<a type="button" class="close" data-dismiss="modal" aria-hidden="true">×</a>-->
    <h3 id="myModalLabel">Add Device Folder</h3>
  </div>

  <div class="modal-body">
    <form class="form-horizontal">
      <div class="control-group">
        <label class="control-label" for="dlgAddDeviceFolder_name">Folder Name</label>
        <div class="controls">
          <input id="dlgAddDeviceFolder_name" type="text" placeholder="Folder Name" autocomplete="off">
        </div>
      </div>
    </form>
  </div>

  <div class="modal-footer">
    <!--<a type="button" class="btn" data-dismiss="modal" aria-hidden="true">Cancel</a>-->
    <!--<a id="dlgAddDeviceFolder_btnOk" type="button" class="btn btn-primary">OK</a>-->
  </div>
</div> 
```

[这里](https://stackoverflow.com/questions/10400149/avoid-modal-dismiss-on-enter-keypress)有广泛的讨论表明这是一个按钮问题（我已将 type="button" 放在按钮和锚标签上。我已将按钮标签转换为锚）。但是，我尝试了所有提出的解决方案，最后只是完全注释掉了按钮，它仍然会发生。

请注意，如果您只是复制相同的文本输入并有两个字段，问题就会消失（专注于任一文本字段不会导致 Enter 被解雇）

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-06T18:56:46.847

感谢@mccannf 为我指明了正确的方向。这似乎是一个比 Bootstrap 特定的更普遍的表单提交问题。两种解决方案：

**1.设置表单的onsubmit属性为onsubmit="return false;"** （[https://stackoverflow.com/a/1329168/569091](https://stackoverflow.com/a/1329168/569091)）

我最喜欢这个解决方案，因为它似乎很难预测（并且可能取决于浏览器）哪些表单字段可能会或可能不会在输入 Enter 时触发表单提交。

因此，在我的原始问题示例中：

```
<form class="form-horizontal" onsubmit="return false"> 
```

**2.设置onkeydown（或onkeyup？）属性返回false时event.keyCode == 13** （[https://stackoverflow.com/a/2037935/569091](https://stackoverflow.com/a/2037935/569091)）在这个链接，onkeyup工作，但我不得不使用onkeydown（取决于浏览器？）

因此，在我的原始问题示例中：

```
function ignoreEnter(event)
{
  if (event.keyCode == 13) {
    return false;
  }
}

// and this in the HTML
<input id="dlgAddDeviceFolder_name" type="text" placeholder="Folder Name" onkeydown="return ignoreEnter(event);"> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-12-18T09:40:22.077

只是为了澄清之前的答案并回应raykin评论。

**1.设置表单的onsubmit属性为onsubmit="return false;"** （[https://stackoverflow.com/a/1329168/569091](https://stackoverflow.com/a/1329168/569091)）

当您以javascript控制表单的提交为例时，此解决方案很有帮助

```
<div class="modal hide fade" tabindex="-1">
 <div class="modal-header">
      <button class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">{% trans "Create" %}</h3>
  </div>
  <div class="modal-body">
       <form method="POST" class="form-horizontal" onsubmit="return false">
           <input id="id_name" maxlength="250" name="name" type="text">
       </form>
  </div>
  <div class="modal-footer">
    <button id="save-button" class="btn">{% trans "Save" %}</button>
    <button class="btn" aria-hidden="true">{% trans "Cancel" %}</button>
  </div>
</div>

<script>
    $('#save-button').on('click', function(){
        // TODO add ajax call
    });
</script> 
```

如您所见，提交表单是通过按钮保存 id 的 jquery 调用 onclick。

但是如果你想给表单标签添加动作，那么你可能不得不使用第二种解决方案

**2.设置onkeydown（或onkeyup？）属性在event.keyCode == 13时返回false（[https://stackoverflow.com/a/2037935/569091](https://stackoverflow.com/a/2037935/569091)）**

在我看来，如果你想动态地构建表单，我不喜欢这个解决方案。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-08-21T07:59:39.193

只是对 Mara Jimenez 帖子的评论：

还有另一种使用动作标签的方法，而不是玩弄事件。您可以在表单中添加虚拟隐形输入，Enter 键不会提交。这是示例：

```
<form role="form" method="post" action="submitform.php">
    <input type="text" id="name" name="name" >
    <input type="text" style="display: none;">
</form> 
```

# azure - 在 Azure 缓存中处理悲观并发的最佳方法是什么？

> ID：15239243
> 
> 赞同：3
> 
> 时间：2013-03-06T04:51:12.997
> 
> 标签：azure, pessimistic-locking

我是天蓝色缓存的新手并面临一个问题。

我先简单介绍一下场景。我们正在`SQL Azure`为我们的应用程序使用数据库。为了避免延迟问题和限制问题，我们使用 Azure 缓存（Web 角色上的共存缓存）。通过使用 Azure 缓存，我们只从数据库中获取数据一次并将其保存在缓存中以供进一步使用。

由于我们使用的是缓存数据，因此这里的挑战是在执行任何 DML 操作的任何时间点始终保持 SQL Azure DB 和 Azure 缓存之间的数据同步。我们通过首先更新数据库来做到这一点，如果更新成功则缓存数据无效。这种方法适用于正常情况。但是，随着并发用户工作和执行更新，似乎存在问题。我们在更新缓存中的数据时使用悲观并发模型。在这里，我们使用瞬态重试策略来确保重试尝试（假设 5 次，固定间隔为 1 秒）。

示例代码如下所示：

```
Microsoft.Practices.TransientFaultHandling.RetryPolicy cacheRetryPolicy =
    GetAzureCacheRetryPolicy();

cacheRetryPolicy.Retrying += TransientRetryManager.OnRetrying;  
DataCacheLockHandle handle = null;
cacheRetryPolicy.ExecuteAction(() =>
{
    try
    {
        object obj = cache.GetAndLock(key, TimeSpan.FromSeconds(1), out handle);
        cache.PutAndUnlock(key, value, handle, expirationTime.Value, tags);
    }
    catch (DataCacheException ex)
    {
        if (ex.ErrorCode == DataCacheErrorCode.KeyDoesNotExist)
        {
            cache.Put(key, value, expirationTime.Value, tags);
        }
        else
        { 
            //This means wait till the cache is released. 
            //Throwing from here will allow to retry with Transient 
            //handling retry policy.                           
            throw ex; 
        }
    }
} 
```

在这里，如果等待次数（比如说 6 次）超过重试次数（在我们的例子中是 5 次）。到第 6 次轮到它时，重试尝试已经结束，因此具有最新更新的第 6 次等待将无法在缓存中更新它。

有一种方法可以通过排队所有等待来克服这个问题，以防`errorcode`在`objectlocked`获取缓存键上的锁定时。

谁能建议处理这种情况的最佳方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-25T10:22:07.753

如果我没记错的话，缓存结果不会在数据库中保存最新数据。

```
--------------------------------------------------------------------------------
This could happen in following Scenario
--------------------------------------------------------------------------------
Time        User 1                              User 2
1           Updates DB data from A to B         Idle
4           Adding data to cache                Updates DB data from B to C
5           Still adding to cache               Adding data to cache
7           Still adding to cache               caching is done
9           Still adding to cache               current data is C
10          caching is done
11          current data is B (but it should be C) 
```

1.  用户 2 在用户 1 之后启动更新
2.  所以理想情况下，最新数据应该是用户 2 的
3.  但是用户 2 的缓存代码在用户 1 的代码之前完成，然后用户 1 的缓存代码被触发
4.  因此，最新结果将是用户 1，这不是预期的。

如果它是一个单实例应用程序我们可以使用线程锁来解决，因为 Azure 是多实例并且对 APP 有更多的命中，你可以做下面的方法。

也许不是最好的，但我们已经解决了这个问题，我们的应用程序在 6 个 Web 服务器上运行并且我们有超过 75k 的用户。

我们总是在缓存中保留两个数据

1.  需要缓存的内容
2.  我们数据库中相同内容的 LastModified 列的值

在向缓存添加新值之前，我们始终确保缓存中的 LastModified 数据小于我们在数据库中的日期。出于某种原因，缓存的数据比当前的数据库数据多，然后不知何故，最新的值已经被推送到缓存，所以我们不加回来。

```
So what we have done is
-----------------------------------------------------------------------------------
Time                User 1                      User 2
-----------------------------------------------------------------------------------
1           Updates DB data from A to B         Idle
4           Adding data to cache                Updates DB data from B to C     
5           still adding to cache               Adding data to cache
7           Still adding to cache               caching is done with last modified date
9           Still adding to cache               current data is C
10          found that cached date is greater than the current
11          skips caching 
```

# javascript - 如何使用 javascript 验证复选框、单选按钮、下拉列表

> ID：15239244
> 
> 赞同：-2
> 
> 时间：2013-03-06T04:51:15.553
> 
> 标签：javascript, asp.net, validation

产品.aspx

```
 <asp:DropDownList id="ddlProduct" runat="server" CssClass="txtbox">
    <asp:ListItem Value="" Selected="True">Select</asp:ListItem>
    <asp:ListItem Value="Mac">Mac</asp:ListItem>
    <asp:ListItem Value="iPad">iPad</asp:ListItem>
    <asp:ListItem Value="iPhone">iPhone</asp:ListItem>
    <asp:ListItem Value="iPod">iPod</asp:ListItem>
    <asp:ListItem Value="Accessories">Accessories</asp:ListItem>
    </asp:DropDownList>
    <asp:CheckBox ID="CheckBox1" runat="server" />
    <asp:RadioButton ID="RadioButton1" runat="server" />
    <asp:Button ID="Button1" runat="server" onclick="clearForm(oForm)"/> 
```

看到这个 javascript 代码：

```
 $(document).ready(function () {
       $("#form1").validate({

           rules: {
               ddlCcity: { required: true },
                ddlProduct: { required: true }
           }

       });

       $.validator.addMethod(
    "select_class",
    function (value, element) {
        return this.optional(element) || (value.indexOf("--Select One--") ==-1);
    },
    "Please select a class.");

   });

    function clearForm(oForm) {
    var elements = oForm.elements;
       oForm.reset();
    for (i = 0; i < elements.length; i++) {
       field_type = elements.type.toLowerCase();
       switch (field_type) {
          case "text":
           case "password":
            case "textarea":
             case "dropdownlist":
             elements.value = "";
                break;
                case "radio":
                case "checkbox":

                if (elements.checked) {

                    elements.checked = false;

                }

                break;
            case "select-one":
            case "select-multi":

                elements.selectedIndex = 0;

                break;

            default:

                break;

        }

    }
}
    </script> 
```

在 Product.aspx 中，我使用了 validation.js（javascript 代码），但验证不起作用如何使用 javascript 代码验证下拉列表、复选框、单选按钮

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T04:57:29.013

尝试以下

```
function validate(){
var i=0;
if($('#CheckBox1').is(":checked")==false){
i++;
}
if($('#RadioButton1').is(":checked")==false){
i++;
}
if($('#ddlProduct').val()==""){
i++;
}
if(i>0){
return false;
}else{
return true;
}
} 
```

# java - com.ibm.db2.jcc.am.SqlException：无效操作：结果集已关闭。错误代码=-4470，SQLSTATE=null

> ID：15239249
> 
> 赞同：0
> 
> 时间：2013-03-06T04:52:00.203
> 
> 标签：java, db2, websphere-7

我有一个相当简单的 portlet，它显示门户网站的访问者数量（在线、每日、每周、每月、每年）。

在 doView 方法的 portlet 类中，首先我调用一个方法，该方法对表进行插入（有关新访问者的信息）。在我一一调用 5 个方法后，它们在同一张表上进行计数选择。它们都非常相似，只是它们的查询不同。方法实现之一如下：

```
public static Integer getOnline() {
    Integer res = null;
    Statement stmt = null;
    ResultSet rs = null;

    try {
        stmt = getConnection().createStatement();
        rs = stmt.executeQuery(query);
        if (rs.next()) {
           res = new Integer(rs.getString("1"));
        }
    } catch (SQLException e) {
        log.error("Excepton: " + e);
    } finally {
        if (rs != null) {
            try { rs.close(); } catch (SQLException e) { log.warn("Error closing result set: ", e); }
            rs = null;
        }

        if (stmt != null) {
            try { stmt.close(); } catch (SQLException e) { log.warn("Error closing statement: ", e); }
            stmt = null;
        }
    }

    return res;
} 
```

获得连接：

```
public static Connection getConnection() {
    try {
        if (connection == null) {
            if (dataSource == null) {
                dataSource = (DataSource) new InitialContext().lookup(dataSourceName);
            }

            connection = dataSource.getConnection();
        }
    } catch (Exception e) {
        log.error("Error on opening a connection: ", e);
    }

    return connection;
} 
```

连接在 doView 方法结束时关闭。有时我会遇到这个异常：

```
com.ibm.db2.jcc.am.SqlException: [jcc][t4][10120][10898][4.14.88] Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null 
```

从一种或几种确实选择的方法中。有时还会出现以下错误：

```
com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Connection is closed.

com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Statement is closed. 
```

在互联网上搜索后，我仍然没有找到/意识到我的情况下出现错误的原因是什么以及如何解决它。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T15:55:27.387

[在驱动程序](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/rjvdsprp.htm)级别或[准备](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/tjvrsush.htm)语句时设置 resultSetHoldability 。这应该可以解决您遇到的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-22T18:55:52.370

我得到相同错误的原因是因为我关闭了 db2 连接，然后尝试读取结果集。请强调 db2 在读取结果集时必须保持连接这一事实。

# c - 让 GtkButton 看起来很郁闷

> ID：15239254
> 
> 赞同：0
> 
> 时间：2013-03-06T04:52:22.687
> 
> 标签：c, gtk

所以我有一个形状绘制程序，工具栏上有框、圆、段等按钮。如果你点击一个形状按钮（如框按钮），你可以拖动鼠标来绘制那种形状。例如，我没有使用切换按钮，因为我不想要它，因此如果您绘制一个框，则必须先“取消切换”框按钮，然后才能“切换”圆形按钮。但是，我正在努力做到这一点，以便当您单击一个形状按钮时，它看起来“压抑”，因此您知道您正在绘制什么形状，直到您单击另一个按钮。

我试图通过把它放在点击的回调中让它看起来很沮丧：

```
gtk_widget_set_state_flags(button, GTK_STATE_FLAG_ACTIVE, TRUE); 
```

但是，它不起作用。任何帮助是极大的赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:06:11.023

我认为使用切换按钮更容易，但是当用户完成绘制框时以编程方式取消切换它们。这样您就不必对抗 API 或伤害任何按钮的感觉。

# php - DIV 重叠图像而不是在 Chrome 中位于下方，在其他浏览器中看起来正确

> ID：15239259
> 
> 赞同：0
> 
> 时间：2013-03-06T04:52:49.013
> 
> 标签：php, html, css, google-chrome

我构建了一个代码，它从数据库中读取视频数据，并在页面上以 5 行的形式显示许多视频及其相关信息。

它应该显示为带有视频标题和缩略图下方的观看次数的视频缩略图图像。

我使用 Firefox，当我查看它时，它看起来就像它应该的那样。但是，当使用 Chrome 观看时，视频标题和观看次数会与视频缩略图重叠。

这是它在 Firefox 和 Chrome 中的外观示例：http: [//i.imgur.com/PgJkaYG.jpg](http://i.imgur.com/PgJkaYG.jpg) （我没有足够的声誉点来上传 2 张图片，所以我将它们合并）

代码在 PHP 中，从 MySQL 数据库中读取：

```
<DIV id="wrapper">
<div style="background-color: #FFF;height:auto;">
<div class="videos" style="margin-top:2px;text-align:left;">
<div style="margin-left:50px;margin-right:5px;margin-top:-5px;">

<br /><div style="width:855px;"><ul>

$result=mysql_query("SELECT * FROM videos order by ID DESC LIMIT $from, $max_results ");

while ($i = mysql_fetch_array($result))
{
    $id = $i["ID"];
    $title = $i["title"];
    $youtube = $i["youtube"];
    $date = $i["date"];
    $category = $i["category"];
    $description = $i["description"];

    $video_ID = $youtube;
    $JSON = file_get_contents("https://gdata.youtube.com/feeds/api/videos/{$video_ID}?v=2&alt=json");
    $JSON_Data = json_decode($JSON);
    $views = $JSON_Data->{'entry'}->{'yt$statistics'}->{'viewCount'};

if ($currentdate != $date) {
    $currentdate = $date;
    $date = date("F d, Y",strtotime($date));
    echo "</ul><h2><span style='text-transform:uppercase;'>$date</span></h2><br /><ul>";
}

echo "<li style='width:170px;'>
<a href='video.php?v=$youtube' style='margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;'>
<img border='0' src='http://img.youtube.com/vi/$youtube/hqdefault.jpg' height='100' width='160' /></a>&nbsp;<br />

<div style='text-align:left;vertical-align: bottom;width:160px;height:50px;'>
<strong>$title</strong>
<br />Views: $views</div>
<br /><br />
</li>";

}

</div></ul></div>
</div>
</DIV> 
```

我之前没有专门为 Chrome 浏览器编写代码。所以我不知道如何修改我的代码来解决这个问题，所以它看起来像上面的 Firefox 示例。

如果有人可以提供任何帮助，将不胜感激。

谢谢

如果您想查看该网站的运行情况：http: [//justinterviews.org](http://justinterviews.org)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:03:25.330

在您的样式部分（CCS）中有一个名为“display：inline-block”的属性删除此行。希望你能解决问题。

```
a:link,a:visited {
   display:inline-block; (Remove this line)
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:06:59.270

很多内联样式都不**好**！请使用 CSS 文件。

对于您的问题，请更换：

```
<a href="video.php?v=CRDZ4uCNs3I" style="margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;">
                    <img border="0" src="http://img.youtube.com/vi/CRDZ4uCNs3I/hqdefault.jpg" height="100" width="160"></a> 
```

和：

```
<a href="video.php?v=CRDZ4uCNs3I" style="display: inline; margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;">
                    <img border="0" src="http://img.youtube.com/vi/CRDZ4uCNs3I/hqdefault.jpg" height="100" width="160"></a> 
```

对于所有`<a>`标签。`display: inline-block;`需要更改`display: inline;`为. 这解决了它。

# jquery - 当用户单击 jquery 数据表中的分页链接时，是否有任何方法来回调函数？

> ID：15239266
> 
> 赞同：7
> 
> 时间：2013-03-06T04:53:31.433
> 
> 标签：jquery, datatables, yui-datatable

当用户单击 jquery 数据表中的分页链接时，我想调用 java 脚本函数。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T15:15:30.843

您可以使用`page`事件，它在页面更改后触发。`page`数据表初始化后的绑定事件：

```
$('#table_instance').dataTable({some attributes});

$('#table_instance').bind('page', function () {
    //call some function here
}); 
```

# macos - 如何在 Mac OSX 上为 Haskell 7.6.1 安装 Haskell cabal 工具？

> ID：15239289
> 
> 赞同：15
> 
> 时间：2013-03-06T04:55:33.413
> 
> 标签：macos, haskell, installation

我根据此页面上的说明在 MAC OSX 上安装了 Haskell。

版本 7.6.1 [http://www.haskell.org/ghc/download_ghc_7_6_1](http://www.haskell.org/ghc/download_ghc_7_6_1)

但是，它没有安装我安装软件包所需的 cabal 工具。

如何安装 cabal？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-03-06T05:38:48.817

从该[页面](http://www.haskell.org/ghc/download_ghc_7_6_1)的顶部：

> # 停止！
> 
> 对于大多数用户，我们建议安装[Haskell 平台](http://www.haskell.org/platform/)而不是 GHC。当前的 Haskell 平台版本包括最近的 GHC 版本以及一些其他工具（例如 cabal），以及一组已知可以协同工作的更大的库。

所以[点击那个链接](http://www.haskell.org/platform/)会得到你想要[的：Haskell 平台](http://www.haskell.org/platform/)是 GHC 加上[你想要的包和工具](http://www.haskell.org/platform/contents.html)，包括 Cabal（库）和 cabal-install（命令行工具）。由于您使用的是 OS X，因此您还可以根据需要使用[Homebrew](http://mxcl.github.com/homebrew/)来获取 GHC 和 Cabal `brew install ghc cabal-install`：.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-03-30T16:42:41.560

现在，我们可以从这个[下载的 haskell](https://www.haskell.org/platform/mac.html)安装它，不需要自制软件。两者都是简单的方法。

# java - 在同一页面中存储选定元素值的位置？

> ID：15239293
> 
> 赞同：5
> 
> 时间：2013-03-06T04:55:43.613
> 
> 标签：java, jsp, jquery, servlets, url-rewriting

我有**main.jsp**，其中包括 4 个 jsp 页面，即**company.jsp、software.jsp、location.jsp、dept.jsp**
，最后将是提交按钮，该按钮将被重定向到另一个 jsp 页面

**注意**：在 company.jsp 和 Software.jsp 中，只需要单击一个单选按钮
在 location.jsp 中，dept.jsp 具有带有多个复选框的复选框

我想细化我的搜索 类似这样的：

![在此处输入图像描述](../Images/ae0bc9de6a01fe92314b7ec7fb338f03.png)

我希望当基于公司选择的软件在 company.jsp 中选择一个单选按钮时，将从数据库中显示。And when Software is selected locations with checkboxes will appear based on database.Then if locations are selected depts will be displayed based on database and so on..

我尝试使用 jquery，其中选定的单选按钮作为参数添加到 url 但这是不好的做法，因为我正在通过`window.location.href`. 那是不好的做法
使用 servlet 或 jquery 的任何其他想法？

**编辑：**

**主.jsp**

```
<div style="background-color:#F4F4F4"><b>Company:</b></div>
<div id="company"> <jsp:include page="company.jsp"></jsp:include> </div>
<div style="background-color:#F4F4F4"><b>Software:</b></div>
<div id="software">
<jsp:include page="software.jsp"></jsp:include> </div>
<div style="background-color:#F4F4F4"><b>Location:</b></div>
<div id="location">
<jsp:include page="my_location.jsp"></jsp:include> </div> 
```

**公司.jsp**

```
<script src="jquery-1.9.1.min.js"></script>
<script src="jquery-1.9.1.js"></script>
<script type="text/javascript">
function call(a)
{
    window.location.href="main.jsp?company="+a ;
}
</script>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<%
Connection conn = null;
Class.forName("oracle.jdbc.driver.OracleDriver").newInstance();
Connection con=DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:XE","","");
ResultSet rs = null;
Statement st=null;
st=con.createStatement();
%>

<form name=company_form id=company_form>
<%
String name=request.getParameter("r");
if(name!=null){
//out.println("value in company.jsp:"+name);
}

%>
<br>
<%
try{
rs = st.executeQuery("select DISTINCT(COMPANY) from maindatabase");
int i=0; 
while(rs.next())
  {
%>
<input type="radio" name="r" onclick='call(this.value)' class='class_company' value="<%= rs.getString("COMPANY") %>"><%= rs.getString("COMPANY") %><br>
<%

//System.out.println("company count:"+i);
i++;
}

}
catch(SQLException e)
{ System.out.println(e.getMessage()); } 

%>
</form>

<script type="text/javascript">

function checkall()
{
        var prmstr = window.location.search.substr(1);
        //alert("string in company.jsp"+prmstr);
        var prmarr = prmstr.split ("&");
        var params = {};

        for ( var i = 0; i < prmarr.length; i++) {
            var tmparr = prmarr[i].split("=");
           // alert("tmparr[0] & tmparr[1] :"+tmparr[0]+" and "+tmparr[1] )
            params[tmparr[0]] = tmparr[1];
        }
         //alert("value to be selected in company.jsp:"+params.company);
        if(params.company=="company1")
            { 

            $('input:radio[value=company1]').attr('checked',true);  

            }
        else
            {
            if(params.company=="company2")
            { 

                $('input:radio[value=company2]').attr('checked',true); 
            }
            else
                {
                if(params.company=="company3")
                    {

                    $('input:radio[value=company3]').attr('checked',true);
                   }
                }       
            }

}
</script>
<script>
window.onload=checkall() ; 
</script> 
```

**软件.jsp**

```
<script type="text/javascript">
function stripWhiteSpace(arg){
       if(arg.replace(/^\s+/,'').replace(/\s+$/,'') == ""){
          return true;
       }
    }
function AddUrlParameter(a, b, c)
{
    if (stripWhiteSpace(b))
{
 alert("Parameter name should not be empty.");
 return a;
 } 
    if (stripWhiteSpace(c))
{
  alert("Parameter value should not be empty.");
  return a;
 }
if (a.indexOf("?") == -1)
{
  return a + "?" + b + "=" + c;
}
var d = a.split("?");
if (d.length >= 2)
{

      if (stripWhiteSpace(b))
    // if (d[1].trim() == "")
  {
      return d[0] + "?" + b + "=" + c;
  }
  var e = d[1].split(/[&;]/g);
  for (var f = 0; f < e.length; f++)
  {
    var g = e[f]; var h = g.split("=");
    if (h.length >= 2)
    {
      if (h[0] == b)
      {
           // alert("a :"+a);
            //  alert("b :"+b);
            //alert("c :"+c);
            /*
            if (stripWhiteSpace(b))
          {
            alert("Parameter name should not be empty.");
            return a ;
           }
            if (stripWhiteSpace(c))
          {
            alert("Parameter value should not be empty.");
            return a; 
          }
          var d = "";
          var e = false;
          var f = false;
          if (a.indexOf("?") == -1)
          {
             alert("No Url Parameters Found!");
             return a;
          }
          var g = a.split("?");
          if (g.length >= 2)
          {
            d = d + g[0] + "?";
            var h = g[1].split(/[&;]/g);
            for (var i = 0; i < h.length; i++)
            {
              var j = h[i];
              var k = j.split("=");
              if (k.length >= 2)
              {
                if (k[0] == b)
                {
                 f = true; k[1] = c;
                 d = d + b + "=" + c + "&";
                 }
                else 
                {
                    d = d + j + "&";
                }
                e = true;
              }
             }
            if (f == false)
            {
              alert("Requested query string not found to remove");
              return a;
             }
            if (e == true)
            {
              d = d.slice(0, d.length - 1);
            }
            return d; 
            }

          */
          alert("Url Parameter with provided name already exists! Try Updating that Url Parameter.");

          //UpdateUrlParameter(a, b, c);
          //return a;
       }
    }
   }
  return a + "&" + b + "=" + c;
  }
} 

</script>
<script type="text/javascript">
/*
function callsoft(a) {

    alert("hi");

    var id=document.getElementById("software");
    alert("id :"+id+" value"+a.value);

var $soft = $('input[name=soft]:checked'); 
      var softvalue = $soft.val();
      var id = $soft.attr('id');

      alert("radio clicked id:"+id+" and value: "+softvalue);

      var prmstr = window.location.search.substr(1);
        var prmarr = prmstr.split ("&");
        var params = {};

        for ( var i = 0; i < prmarr.length; i++) {
            var tmparr = prmarr[i].split("=");
              params[tmparr[0]] = tmparr[1];
        }
            var company=params.company;

    var companyurl="main.jsp?company="+company;
    alert(companyurl);

    var new_url = AddUrlParameter(companyurl,id,softvalue);

//var new_url = AddUrlParameter(window.location.href,id,softvalue);
window.location.replace(new_url);

*/

$(document).ready(function(){

    $('.class_sofware').click(function() {

        var $soft = $('input[name=soft]:checked'); 
              var softvalue = $soft.val();
              var id = $soft.attr('id');

              alert("radio clicked id:"+id+" and value: "+softvalue);

              var prmstr = window.location.search.substr(1);
            var prmarr = prmstr.split ("&");
            var params = {};

            for ( var i = 0; i < prmarr.length; i++) {
                var tmparr = prmarr[i].split("=");
                  params[tmparr[0]] = tmparr[1];
            }

            var company=params.company;

            var companyurl="main.jsp?company="+company;

            var new_url = AddUrlParameter(companyurl,id,softvalue);

       //var new_url = AddUrlParameter(window.location.href,id,softvalue);
       window.location.replace(new_url);

    });
});

</script>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<div id="i_all_sw">
<%
Connection conn = null;
Class.forName("oracle.jdbc.driver.OracleDriver").newInstance();
Connection con=DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:XE","","");
ResultSet rs = null;
Statement st=null;
st=con.createStatement();
%>

<%
String S_COMPANY=request.getParameter("company");
if(S_COMPANY!=null){
System.out.println(S_COMPANY);
}
%>
<%
try{
rs = st.executeQuery("select DISTINCT(SW_NAME) from maindatabase where COMPANY='"+S_COMPANY+"'");

int i=0; 
while(rs.next())
  {
%>
<input type="radio" name="soft" id="software" onclick="callsoft(this);" class="class_sofware" value="<%= rs.getString("SW_NAME") %>"><%= rs.getString("SW_NAME") %><br>
<%

//System.out.println("company count:"+i);
i++;
}

}
catch(SQLException e)
{ System.out.println(e.getMessage()); } 

%>
</div>
<script type="text/javascript">

function checkall()
{
        var prmstr = window.location.search.substr(1);
        //alert("string in software.jsp"+prmstr);
        var prmarr = prmstr.split ("&");
        var params = {};

        for ( var i = 0; i < prmarr.length; i++) {
            var tmparr = prmarr[i].split("=");
              params[tmparr[0]] = tmparr[1];
        }
        //alert("params.software value to be selected in software.jsp:"+params.software);
        $('input:radio[value='+params.software+']').attr('checked',true);  

}
</script>
<script>
window.onload=checkall();  
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:05:47.523

在`main.jsp`做以下编码

```
<form name="myForm" id="myFormId"
 action="/myServlet" method="POST">

 1\. include company.jsp  
 2\. include software.jsp
 3\. include location.jsp
 4\. include dept.jsp

<input type="submit" value="submit">
</form> 
```

**注意：**单选按钮的名称应`company.jsp`与`Software.jsp`

当输出将被呈现给浏览器时，将只有一个表单元素，而在表单元素内部，将根据包含的 JSP 有单选按钮和复选框。

# javascript - 点击按钮获取输入值

> ID：15239297
> 
> 赞同：1
> 
> 时间：2013-03-06T04:56:11.217
> 
> 标签：javascript, jquery

我试图在单击a`input`时获取 a的值`button`

这是代码：

### HTML：

```
<li class=" qq-upload-success">
    <span class="qq-upload-image">
        <img src="b50.jpg">
    </span>
    <span class="qq-upload-remover btn btn-danger">
         <a href="#"><li class="icon-trash icon-white"></i> Remover</a>
    </span>
    <input type="hidden" name="imagens[]" value="b50.jpg">
</li> 
```

### jQuery：

```
$('.qq-upload-remover a').live("click", function(event){
    event.preventDefault();
    //var elem = $(".qq-upload-remover");
    //var linkrev = $(this).next().attr('value');
    //alert (linkrev);
    var linha = $(this).parent().parent().fadeOut('slow', function(){
            //$.post('acoes.php?Acao=11&AnuncioFoto_Id='+id);
            if($(".qq-upload-list .qq-upload-success:visible").length == 0){
                $(".qq-upload-list .enviar").remove();
            }
    });
}); 
```

当我单击时，`qq-uplod-remover`我想获取`input`值`b50.jpg`。

我`li`在同一页面上有多个这样的。

我试过 qq-upload-remover click `get $(this).next().attr('value')`，但它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:03:51.210

尝试如下，。

```
<script type="text/javascript">

    $(function()
    {
        $('span.qq-upload-remover a').on('click',function(e){
            //e.preventDefault(); to stop default behaviour
            //e.stopPropagation(); to stop bubbling

            alert($(this).parent().parent().find('input:hidden').val());
        });
    });

</script>

<li class=" qq-upload-success">
    <span class="qq-upload-image">  <img src="b50.jpg"></span>
    <span class="qq-upload-remover btn btn-danger">
        <a href="#">
            <i class="icon-trash icon-white"></i> Remover
        </a>
    </span>
    <input type="hidden" name="imagens[]" value="b50.jpg">
</li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T04:59:42.803

```
$(".qq-upload-remover").click(function(){
   var data = $("input[name^='imagens[]']");
   $.each(data, function(key, object) {
        alert(object.value); 
   });  
}); 
```

**此代码经过测试。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:22:49.197

试试这个：[jsfiddle](http://jsfiddle.net/RhZZV/)

```
$('.qq-upload-remover a').click(function(){
   alert($(this).parent().siblings('input').val());
}); 
```

# javascript - 简单的 Javascript 下拉菜单框

> ID：15239300
> 
> 赞同：4
> 
> 时间：2013-03-06T04:56:23.883
> 
> 标签：javascript, html, css, drop-down-menu, menu

我知道这个问题已被问过几次，但我正在寻找一种更简单的方法。大多数问题都是针对完整的 Javascript 下拉菜单，但我只是在一个小盒子之后。到处找了找，还是没有答案。

我正在从我购买的一本教科书中学习 Javascript，所以如果有人帮助我，或者如果你更愿意直接给出答案，我会更喜欢它，只要稍微评论一下，我就会知道发生了什么。我更喜欢使用纯 Javascript 而不是 jQuery，因为我正在从仅 Javascript 的教科书中学习。

我正在创建一个迷你社交网络类型的页面。在右上角，我有个人用户名，旁边有一个箭头。我正在尝试制作一个下拉框，当单击该箭头时，在该下拉框中将有一个“退出”按钮和“设置”按钮。老实说，我不知道从哪里开始，因为这是我正在尝试的额外内容。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T05:38:37.400

找到下面的示例代码。我们可以通过多种方式做到这一点。这对于 JavaScript 初学者来说很简单。

```
<html>
<head>
<script language="JavaScript" type="text/javascript">
function showDiv(){
    if(document.getElementById('showDiv').style.display == 'none'){
        document.getElementById('showDiv').style.display = 'block';
    }else{
        document.getElementById('showDiv').style.display = 'none';
    }
}
</script>
</head>
<body>
<div style="width:auto;; margin:0 auto;">
    <div style="position:relative; width:130px; padding:10px; float:left; border:1px solid blue;">
        <div style="float:left;">Welcome Friend!</div>
        <div style="float:left; margin-left:15px;" onclick="showDiv();">></div>  

    </div>
    <div id="showDiv" style="display:none; float:right; width:150px; height:50px; position:absolute; margin-top:40px; border:1px solid red;">
        <div style="float:right;"><input type="submit" value="Settings" /></div>
        <div style="clear:both;"></div>
        <div style="float:right;"><input type="submit" value="Sign Out" /></div>
    </div>
</div>
</body>
</html> 
```

# android - 不同分辨率的设备访问同一个 drawable-xxxx 文件夹

> ID：15239301
> 
> 赞同：2
> 
> 时间：2013-03-06T04:56:27.980
> 
> 标签：android, screen-resolution, android-resources, android-drawable

我正在为所有可用的屏幕分辨率开发一个应用程序。我的方法是创建不同的`drawable`文件夹并将各自的图像保存在其中。在我发现两种不同分辨率的设备之间发生冲突之前，一切都很顺利。设备`480*800`和`600*1024`分辨率。但根据他们的像素密度，他们正在访问同一个`drawable`文件夹`drawable-hdpi`（这也符合下图中给定的规范）。

![](../Images/d11228b2731208705ab404788cd67d25.png)

我的问题是此文件夹中的图像非常适合一种设备，而不适合其他设备。这意味着如果我保留图像`600*1024`，它们会在其他设备中重叠`480*800`等等。我尝试将文件夹重命名为其他可能的名称，但未能成功。请帮助我如何处理这种情况。希望我已经清楚地描述了我的情况......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:03:08.870

嗨，您可以将所有图像放在可绘制文件夹中，然后创建这样的布局文件夹

**布局-小**

**大版面**

**布局-xlarge**

这样您就可以从同一个可绘制文件夹中访问所有图像，并且在您运行应用程序时，它会根据它们的大小在 bin 中自动创建可绘制文件夹，这样就不会发生冲突和重叠。所以检查这种方式......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:08:02.817

放置`drawable`文件夹并将图像保留为您想要的大小（让它为 30px*20px），并将其添加到您的布局中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:13:18.860

除了@androidgeek 的回答来满足您的特定需求之外，您还可以创建此布局文件夹

res/layout-sw600dp

在此布局中，您可以为 600*1024 设备分辨率创建布局，并且您可以为此布局使用单独的可绘制对象。

您也可以尝试仅获取 xhdpi 图像并在运行时从您的代码调整其大小，这当然不是建议的方法，但在大多数情况下都是有效的

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:37:04.260

这里有很多错误信息。分辨率本身并*不能*决定像素密度。480 x 800 像素的屏幕可以是`ldpi`, `mdpi`, `hdpi`, `xhdpi`, 或`xxhdpi`. 您无法仅通过分辨率来确定屏幕属于哪个密度桶。,`ldpi`等`mdpi`限定符告诉您每英寸像素的密度（大致 - 它们不准确，但接近）。一个`hdpi`屏幕在 1 英寸的屏幕上有大约 240 个像素，一个`mdpi`屏幕大约有 160 个像素，等等。

您*不能*使用密度来确定分辨率。时期。

如果您正在尝试制作适用于非常特定分辨率的应用程序，我建议您改为为 iOS 开发。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-06T05:28:11.857

不同的设备从不同的文件夹中获取图像，这是 android 设备中的一个缺陷，即使它是一个选项卡，它也没有必要从 drawable-xlarge 获取图像。为此，我建议您为不同的设备制作不同的文件夹。如果您正在制作将在所有设备上完美运行的应用程序。尝试

可绘制的 ldpi

可绘制的 mdpi

可绘制的 hdpi

可绘制的 xhdpi

可绘制-sw600

可绘制的大型 hdpi

最重要的文件夹几乎涵盖了所有设备。您不需要在不同设备的每个文件夹中插入不同的图像，因为如果 hdpi 文件夹中有图像，则 mdpi 和 ldpi 会自动缩放这些图像，在某些情况下，图像可能不适合您必须插入的情况图像根据其大小。

# haskell - 这个 Haskell 函数是否被称为/实现为另一个名称？

> ID：15239302
> 
> 赞同：6
> 
> 时间：2013-03-06T04:56:29.250
> 
> 标签：haskell, alternative-functor, monadplus

我发现很多我自己拼凑起来的东西似乎很有用，实际上有一个我不知道的标准实现，所以很好奇是否有人可以说他们以前见过这种类型的东西：

它接受一个单子函数并将其折叠，直到一个谓词被替代选择，然后它返回谓词的结果：

```
until :: (Monad m, Alternative m) => (a -> m a) -> (a -> m c) -> a -> m c
f `until` p = \a -> (f >=> (p `altF` (until f p))) a
  where f1 `altF` f2 = \a -> f1 a <|> f2 a 
```

我意识到这个名字是一个前奏冲突，我可能会用别的名字来命名它，但我想我会先看看在我不知道的标准库中是否已经有类似的功能......

此外，我想我很好奇我写的组合替代方案是否在其他地方定义，或者这些功能中的任何一个似乎一开始就被误导了。但我的问题的症结是，这是在其他地方实现的，还是在其他地方实现的非常相似的东西

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T09:11:29.287

有大量的便利函数不在 Prelude 或标准库中，但也许应该在。如果您发现它们有用，我不会为重新实现一些而烦恼太多。

请注意，这`altF`相当于`liftA2 (<|>)`，您可能会这样写：

```
till :: (Monad m, Alternative m) => (a -> m a) -> (a -> m b) -> a -> m b

-- To do f till p is to first do f; then either p, or f till p.
f `till` p = f >=> (<|>) <$> p <*> f `till` p 
```

请注意，这`(Monad m, Alternative m)`与 非常相似`MonadPlus m`，您可以稍微简化一下类型：

```
till :: MonadPlus m => (a -> m a) -> (a -> m b) -> a -> m b
f `till` p = f >=> mplus <$> p <*> f `till` p 
```

`untilM`在[Control.Monad.Loops](http://hackage.haskell.org/packages/archive/monad-loops/0.3.3.0/doc/html/Control-Monad-Loops.html)中调用了一个类似的函数，它使用`Bool`谓词，并且在[Control.Monad.Trans.Loop](http://hackage.haskell.org/packages/archive/control-monad-loop/0.1/doc/html/Control-Monad-Trans-Loop.html)`LoopT`中存在一个用于任意循环的转换器。但是不，这个特殊的功能似乎还没有出名。

# highcharts - Highcharts 堆积条形工具提示

> ID：15239310
> 
> 赞同：1
> 
> 时间：2013-03-06T04:56:52.717
> 
> 标签：highcharts

我有一个堆积条形图，工具提示有问题。堆栈的第一级是总柱的子集。所以想象一下，对于多个销售部门中的每一个，我的毛利润 = 3 和销售额 = 8。在正常堆叠的情况下，栏的最右侧将为 11，但我希望它为 8。我可以通过从销售额中减去毛利润来解决这个问题，但是工具提示不正确。本质上，我需要 gp 工具提示为 this.y，销售工具提示为 this.total，但我不知道如何单独指定它们。数据作为 2 个具有类别数组的 1-D 数组提供给 Highcharts：x 轴的标签。有没有办法让工具提示以这种方式工作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T05:02:32.200

假设您将系列命名为“销售”和“利润”

```
tooltip: {
    formatter: function() {
        var seriesName = this.series.name;
        if(seriesName === "sales"){
          return this.total;
        }
        if(seriesName ==="profit"){
          return this.y;
        }
        return "Whatever the default case should be";
    }
}, 
```

# php - 获取未受保护页面列表的脚本

> ID：15239311
> 
> 赞同：0
> 
> 时间：2013-03-06T04:56:54.687
> 
> 标签：php, mediawiki

我正在寻找一种方法来获取我的 wiki 上不受保护的所有页面的列表。MediaWiki 中有专门的页面用于查看所有页面的列表和查看受保护页面的列表。有没有办法编写一个基本上只是比较两个列表并输出那些不受保护的页面的脚本？

注意：我还应该提到，虽然我有 C++、C、Java 和 Python 经验，但我以前从未用 PHP 编写过......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:06:12.623

最简单的方法是这样的。（自行填充 $allPages 和 $protectedPages 列表）

```
$allPages = array('url1', 'url2', 'url3');
$protectedPages = array('url2');

// this array_diff() will give you the an array of the difference in each array
$unprotectedPages = array_diff($allPages, $protectedPages);
print_r($unprotectedPages); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T22:04:02.523

如果它是您的 wiki，为什么还要打扰特殊页面？您可以只查看[数据库](https://www.mediawiki.org/wiki/Manual%3aDatabase_layout)并执行以下操作：

```
SELECT page_namespace, page_title 
FROM page p JOIN page_restrictions pr ON p.page_id = pr.page_id; 
```

# asp.net-mvc - ASP.NET MVC 的单元测试框架？

> ID：15239314
> 
> 赞同：1
> 
> 时间：2013-03-06T04:57:43.517
> 
> 标签：asp.net-mvc, unit-testing, vs-unit-testing-framework

有人会推荐我一个 MVC 的单元测试框架吗？有很多选择让我困惑选择哪个框架。

NUnit 或 XUnit.Net 或 MSTest ??

谢谢，文卡特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T20:17:56.163

我只建议不要使用 MSTest。

在我目前的项目中，我们使用 MSTest 大约一年。我使用 NUnit 已经很多年了，但是其他人对单元测试很陌生，所以为了让他们更简单（不带 3rd 方测试框架和它的运行器），我们使用 MSTest 并将其集成到 VS 中。是皮塔饼！

使用 MSTEST，您必须保留所有 VS 测试的列表。您必须维护此列表（添加/删除新/删除的测试）。测试从此列表中消失，您无法说出原因。保留此列表的文件不会合并！因此，当您同时添加新测试时，另一个人添加测试时，您会遇到必须解决的冲突。我不明白为什么。它应该没有问题地合并。

您还可以寻找一些不使用 MSTEST 的原因。

[为什么我要从 MSTest 迁移到 xUnit.net by Mark Seemann](http://blog.ploeh.dk/2010/04/26/WhyImmigratingfromMSTesttoxUnit.net/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:17:03.663

我推荐[xUnit](http://xunit.codeplex.com/)。这是一个非常现代的单元测试框架，非常简单和简洁。我最喜欢 xUnit 的特性是每个测试方法都有一个对象实例，这意味着测试相互影响的可能性要小得多。NUnit eg 没有这个特性，这很容易导致不稳定的测试。此外，xUnit 使用标准 .NET 功能来执行设置和拆卸等操作。它通过构造函数和析构函数来做到这一点，因此您不必学习新的约定，而可以使用自己的约定。最后，恕我直言，xUnit 测试类看起来要好得多，因为使用的属性更少并且断言方法更短。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:45:56.820

您提到的所有三个都非常扎实，可以完成工作。就个人而言，我更喜欢**MSTest**。它易于学习和使用，但具有不错的功能。就像 xUnit 一样，它也可以在测试的执行前和执行后进行设置`[TestInitialize]`和清理。`[TestCleanup]`我的建议是拿一个来学习它。一旦你了解它并了解它的优点和缺点，你就可以转向另一个可以帮助你更快和/或更好地完成工作的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:04:51.587

我同意——三个都很好。这可能不是重点，但要找到好的**Mocking 框架**要困难得多，因为模拟 DbContext 类并不容易（尤其是当您使用 Sql Server 时）。如果您使用它，我可以推荐[TypeMock](http://www.typemock.com/)，否则[RhinoMocks](http://www.hibernatingrhinos.com/oss/rhino-mocks)会很好。

# android - Android应用屏幕分辨率问题

> ID：15239326
> 
> 赞同：0
> 
> 时间：2013-03-06T04:58:54.670
> 
> 标签：android, layout, screen

我开发了一个具有详细资源结构的 android 应用程序：我在文件夹中保存了所有高分辨率图像，`drawable-hdpi`然后我为单独的屏幕分辨率创建了布局，如、`layout-hdpi`和其他一些。`layout-large``layout-xlarge`

我没有在高分辨率仿真器中得到确切的布局，例如`Nexus 7`，`10.1 WXGA(Tablet)`等等`7.1 WSVGA(Tablet)`......它没有采用我对这些屏幕尺寸的精确设计，它总是指“布局”而不是`layout-xlarge`.

有谁知道为什么我的单独布局没有被使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:23:59.497

不再推荐使用`layout-large`, 。`layout-xlarge`谷歌表示要针对使用 sw* 布局的平板电脑。

例如，要针对 7 英寸平板电脑，请将布局放入`layout-sw600dp`. 对于 10 英寸的平板电脑，将它们放入`layout-720dp`.

唯一的例外是在针对有问题的设备（例如运行 android 2.x 的原始 Galaxy Tab）时，由于布局分辨率中的错误，您需要创建一个名为的文件夹`layout-xlarge-land`并将布局放置在那里。

此外，不要只拥有高分辨率图像并将它们转储到 hdpi 中。正确缩放图像并将它们放入 mdpi、hdpi、xhdpi 等。

大多数情况下，这将导致应用程序的加载时间更快，并且 APK 大小更小，因为您没有捆绑“高分辨率图像”并让框架根据请求缩放图像。由于位图存储在 Java 堆中，因此在您的包中包含未优化的图像也会对内存使用产生影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:27:00.907

将屏幕标签放在您的 androidmanifest 文件中

```
<supports-screens android:resizeable=["true"| "false"]
              android:smallScreens=["true" | "false"]
              android:normalScreens=["true" | "false"]
              android:largeScreens=["true" | "false"]
              android:xlargeScreens=["true" | "false"]
              android:anyDensity=["true" | "false"]
              android:requiresSmallestWidthDp="integer"
              android:compatibleWidthLimitDp="integer"
              android:largestWidthLimitDp="integer"/> 
```

这有助于在具有兼容性的多设备设备上运行您的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:03:13.550

在您想要的地方使用您的字段，例如图像、文本视图或编辑文本。在每个布局中清晰地对齐它们。

```
 layout for the normal mobiles devices(mdpi)
 layout-large for the hdpi devices like nexus
 layout-xlarge for the xhdpi devices like tablets 
```

如果您发布非常好的代码，我们可以清楚地知道您的问题。

创建一个`drawable`文件夹并放置图像。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:06:14.873

有关更多详细信息，请访问此站点[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

```
xlarge screens are at least 960dp x 720dp
large screens are at least 640dp x 480dp
normal screens are at least 470dp x 320dp
small screens are at least 426dp x 320dp 
```

# python - 正则表达式 Python：从 URL 获取页面和子页面

> ID：15239327
> 
> 赞同：0
> 
> 时间：2013-03-06T04:58:58.990
> 
> 标签：python, regex

很抱歉，我很早就对正则表达式很陌生。

我怎样才能从这种字符串 /projects/myproject/ 中获得以下 2 个元素（**projects**，**myproject**）？

输出 ：

```
print group1 : 'projects'

print group2 : 'myproject' 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:01:24.627

```
my_str = "/projects/myproject/"
matches = re.findall("/(.+?)/(.+)/",my_str)
print matches  #prints ['projects','myproject'] 
```

# sharepoint - Sharepoint：根据另一列中的选择填充列 | 合并列表中的 2 列

> ID：15239331
> 
> 赞同：0
> 
> 时间：2013-03-06T04:59:26.283
> 
> 标签：sharepoint

我是一个SP新手，我遇到了一个问题。我进行了大量搜索，没有遇到不涉及 XSL、SPD、Java 等的解决方案。我没有任何编码技能或访问 SPD。我确实有 SP 2010 和 InfoPath 2010，并且很想学习

我正在尝试执行以下操作：

1.  当用户从下拉框中选择他们的项目名称时，另一列会自动填充项目前缀，例如。用户选择“Project Windows”，然后查找项目前缀列并填充“WIN”</p>

2.  我还想连接/合并两列，例如。我想合并 ID = WIN23 的项目前缀

我在计算列上有一个裂缝，但什么也做不了！

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T22:16:34.507

在 InfoPath 中编辑表单时，右键单击要自动填充的文本框。
在输入旁边`Value:`有一个功能按钮。单击该按钮可查看可用字段和自动填充该字段的功能。
1\. 使用`Insert Field or Group`按钮找到项目前缀列2.在类别中
查看函数`Concat``Text`

# sql-server-data-tools - SSIS 2012 + 脚本组件 + 自定义 .dll 参考

> ID：15239335
> 
> 赞同：0
> 
> 时间：2013-03-06T04:59:50.200
> 
> 标签：sql-server-data-tools, script-component, ssis-2012

使用 SSDT (Visual Studio 2010)

我使用 Target Framework .net 4.0 在 C# (Visual Studio 2010) 中获得了自定义 dll 的代码。当我从构建它的位置引用我的 SSIS 脚本组件中的上述 dll 时，尽管脚本组件目标框架设置为 .net 4.0，但它会引发如下错误

## TITLE：包验证错误

包验证错误

* * *

附加信息：

数据流任务 [脚本组件 [96]] 出错：System.Reflection.TargetInvocationException：调用目标已引发异常。---> System.IO.FileNotFoundException：无法加载文件或程序集“转换，版本=1.0.0.0，文化=中性，PublicKeyToken=61d0ad25bd7b3c3c”或其依赖项之一。该系统找不到指定的文件。在 ScriptMain..ctor() --- 内部异常堆栈跟踪结束 --- 在 System.RuntimeType.CreateInstanceSlow 的 System.RuntimeTypeHandle.CreateInstance(RuntimeType 类型，Boolean publicOnly，Boolean noCheck，Boolean& canBeCached，RuntimeMethodHandleInternal& ctor，Boolean& bNeedSecurityCheck) （布尔 publicOnly、布尔 skipCheckThis、布尔填充缓存、StackCrawlMark 和 stackMark）在 System.RuntimeType。Microsoft.SqlServer.Dts.Pipeline.ScriptComponentHost.CreateUserScriptInstance() 处的 SqlServer.Dts.Pipeline.VSTAComponentScriptingEngine.GetScriptEntryPoint(String versionGuid) 数据流任务 [脚本组件 [96]] 出错：System.Reflection.TargetInvocationException：已引发异常通过调用的目标。---> System.IO.FileNotFoundException：无法加载文件或程序集“转换，版本=1.0.0.0，文化=中性，PublicKeyToken=61d0ad25bd7b3c3c”或其依赖项之一。该系统找不到指定的文件。在 ScriptMain..ctor() --- 内部异常堆栈跟踪结束 --- 在 System.RuntimeTypeHandle.CreateInstance(RuntimeType type, Boolean publicOnly, Boolean noCheck, Boolean& canBeCached, RuntimeMethodHandleInternal& ctor, Boolean& bNeedSecurityCheck) 在系统。Microsoft.SqlServer.Dts.Pipeline.VSTAComponentScriptingEngine.GetScriptEntryPoint(String versionGuid) 在 Microsoft.SqlServer.Dts.Pipeline.ScriptComponentHost.CreateUserScriptInstance( ) 数据流任务 [脚本组件 [96]] 出错：System.Reflection.TargetInvocationException：调用目标已抛出异常。---> System.IO.FileNotFoundException：无法加载文件或程序集“转换，版本=1.0.0.0，文化=中性，PublicKeyToken=61d0ad25bd7b3c3c”或其依赖项之一。该系统找不到指定的文件。在 ScriptMain..ctor() --- 内部异常堆栈跟踪结束 --- 在 System.RuntimeTypeHandle。

数据流任务 [SSIS.Pipeline] 出错：一个或多个组件验证失败。

数据流任务出错：任务验证期间出现错误。

(Microsoft.DataTransformationServices.VsIntegration)

* * *

纽扣：

## 好的

我究竟做错了什么？

# c++ - 计算算法的绝对处理时间

> ID：15239337
> 
> 赞同：-2
> 
> 时间：2013-03-06T05:00:24.460
> 
> 标签：c++, algorithm

出于这个问题的目的，我对大 O 计算不感兴趣；据我了解，它用于比较算法之间的相对比较，而我想估计运行算法所花费的绝对时间。

例如，我使用的视觉算法每帧执行大约 200 万次计算。该程序在 core-i7 桌面上运行。那么，需要多长时间？

要计算此持续时间，我应该将哪个 cpu 操作作为最坏情况计算（*、/、+、.. 浮点数或其他）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:05:11.053

您可以[每秒使用浮点运算](http://en.wikipedia.org/wiki/FLOPS)并计算算法所需的最坏情况。您还可以使用特定（且足够大）的输入大小为您的算法计时，并使用时间复杂度分析来估计最坏情况下的执行时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:12:12.697

您必须以某种方式获得执行时间的基线，因为执行时间可能会因架构而异。

例如，缓存未命中可能会占用 300 个 CPU 周期，而如果您有缓存命中，相同的数据访问可能仅占用 5 个周期。如果将所有变量访问加起来，从长远来看，它可以改变很多运行时间。

因此，您必须了解算法在特定输入大小上的执行时间。然后将其与预期的复杂性（Big-O 复杂性）相匹配。然后，您推导出前导常数的近似值，您现在可以在合理的输入上获得算法执行时间的近似值。

*合理*的，我的意思是你不会遇到完全不同的行为的输入，比如交换/分页（你基本上对运行时间不太了解）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:15:54.547

如果没有更多信息，可能无法给出有意义的答案。

首先，很大程度上取决于这些操作中有多少可以并行执行。首先让我们考虑一下理想情况：您已经优化了代码以完美地并行执行。每个内核每个时钟周期执行 4 条指令。

在这种情况下，您将在每个时钟周期停用 16 条指令，因此您有 200 万/16 = 125000 个时钟周期。在 4 GHz 时，计算结果为 31.25 微秒。

在相反的极端，让我们假设代码是完全串行的——每个时钟周期最多有一条指令退出。对于更糟糕的情况，它可能不仅是串行的，而且还受到严重的内存限制，因此每（例如）一百个时钟周期（平均）只有一条指令退休。在这种情况下，执行相同数量的指令需要 50 毫秒——慢了 1000 倍以上。

当然，这些都是非常极端的例子——更典型的情况可能是几十条指令的高速缓存未命中，平均每个时钟周期有 1.8 条指令。如果平均使用 2.5 个内核，则每个时钟周期平均可以获得 4.5 条指令。这将提供 444444 个时钟周期，计算结果为 111 微秒（再次假设 4 GHz）。

# java - 单击网页上的按钮

> ID：15239340
> 
> 赞同：0
> 
> 时间：2013-03-06T05:00:36.460
> 
> 标签：java

我正在使用`Process p=Runtime.getRuntime().exec`打开网页。我将使用什么事件处理程序来单击使用 Java 的打开网页上的按钮？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:03:23.240

没有，真的。您对您启动的流程没有任何细粒度的控制；你得到的只是流程中的输入、输出和错误流。

如果您想通过 Java 与网页进行交互（但不在屏幕上显示它们），您可以查看[HtmlUnit](http://htmlunit.sourceforge.net/)。

您可以配置 HtmlUnit 来模拟特定的浏览器（用户代理标头、cookie 策略等）。

如果一切都失败了，您可以编写一个小的 JavaScript 控制器并在浏览器中打开它，而不是直接在目标网页中打开。然后，该 JavaScript 控制器可以与您的应用程序对话，获取指令（例如要导航到的页面），并根据这些指令采取行动。[Selenium](http://docs.seleniumhq.org/)是一个很好的选择，但可能需要您安装浏览器插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:33:27.953

添加来自 radai 的答案和评论

一个。“已经有程序可以执行此操作，但由于缺少浏览器，由于 bluecoat 安全性，它无法在我的工作域中使用” - 这不是因为缺少浏览器。这是因为您的 java 进程没有访问页面的代理凭据。来自该工具的 http 调用是通过您的代理进行的。您可以尝试使用所需属性设置环境。

如果您从命令行运行该工具 - 您可以尝试这样的事情

```
JAVA_FLAGS=-Dhttp.proxyHost=10.0.0.100 -Dhttp.proxyPort=8800
java ${JAVA_FLAGS} <java_class_to_run> 
```

湾。如果您打算重新创建该工具 - [jsoup](http://jsoup.org/)是另一个不错的选择

# ffmpeg - 从视频中每秒获取 1 帧

> ID：15239341
> 
> 赞同：3
> 
> 时间：2013-03-06T05:00:42.713
> 
> 标签：ffmpeg

我想从视频中每秒获取 1 帧。例如，如果有一个 32 秒的视频，那么我需要该视频的 32 张图像，即每秒一张图像。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T08:24:07.550

> 这将每秒创建一个缩略图，命名为`out1.png`, `out2.png`, `out3.png`, ...

```
ffmpeg -i input.flv -f image2 -vf fps=fps=1 out%d.png 
```

[每 X 秒的视频创建一个缩略图](http://ffmpeg.org/trac/ffmpeg/wiki/Create%20a%20thumbnail%20image%20every%20X%20seconds%20of%20the%20video)

# css - 如果父元素旋转了，如何取消旋转子元素？

> ID：15239343
> 
> 赞同：5
> 
> 时间：2013-03-06T05:01:12.820
> 
> 标签：css, css-transforms

目标是让子元素由其父元素旋转，但是一旦您单击子元素，它就会动画化到如果没有对父元素应用旋转的情况。所以基本上我只是想从父元素中移除旋转。

```
WIN - rotateZ(ndeg) on the parent and rotateZ(-ndeg) on the child
FAIL - rotateXY(ndeg) on the parent and rotateXY(-ndeg) on the child 
```

![在此处输入图像描述](../Images/33fc59ca4163ca1be38bda439d481fd6.png)

[小提琴](http://jsfiddle.net/arGWr/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:16:01.380

要理解，旋转 div 的孩子正在从他们的父母点进行转换，所以从 rotateX(50) 孩子正在从“0”做一个 rotateX(-50) 但它不是“0”的说法，这不会给你你所期望的。

你需要做的是把所有东西都包起来，分开对待，这样“父母”就不会真正影响孩子。然后你可以正确地反转它。

[http://jsfiddle.net/arGWr/1/](http://jsfiddle.net/arGWr/1/)

```
<div class="wrapper">
    <div class="outerX"></div>
    <div class="inner1X"></div>
    <div class="inner2X"></div>
</div> 
```

编辑：为了更好地解释，在原始解决方案中，您有一个正方形。它变成了一个矩形，现在当你对其进行旋转时 - 它在矩形上进行，在旋转时进行复合。它不知道您正在尝试逆转先前的转换。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T13:38:00.567

您可以尝试将此添加到父级

```
-webkit-transform-style: preserve-3d; 
```

参考：[http ://www.webkit.org/blog-files/3d-transforms/transform-style.html](http://www.webkit.org/blog-files/3d-transforms/transform-style.html)

# java - java.awt.geom.area 在java中distubing或消失

> ID：15239344
> 
> 赞同：0
> 
> 时间：2013-03-06T05:01:13.323
> 
> 标签：java

我在我的 java 应用程序中使用 geom 区域。在这个应用程序中，我正在绘制 JFrame 中的区域，然后在 JFrame 中在 geom 区域上绘制动态矩形以减去它，但是它工作正常，但有时它会在释放鼠标时消失，或者当工具提示文本显示在区域上时它会干扰。

这是我的代码。

```
public void paintComponent(Graphics g)
{
super.paintComponent(g);

Graphics2D g2 = (Graphics2D) g.create();
g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,
    RenderingHints.VALUE_ANTIALIAS_ON);
g2.setStroke(dashed);
//g.setColor(Color.red);
if(x1 ==0 && y1 == 0){
  g2.dispose();
  }
else{
    g2.setColor(Color.BLACK);
g2.draw(shape);
g2.setColor(Color.black);
Area area = new Area();

area.add(new Area(new Rectangle2D.Float(0, 0, getWidth(), getHeight())));

g2.setColor(Color.BLACK.brighter());

int width = getWidth() - 1;
int height = getHeight() - 1;

int openWidth = 200;
int openHeight = 200;

int x = (width - openWidth) / 2;
int y = (height - openHeight) / 2;

area.subtract(new Area(shape));

g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f));
g2.fill(area);
g2.setColor(Color.WHITE);
g2.setStroke(new BasicStroke(1.5f));
g2.fillRect(x3-8, y3-8, 8, 8);
g2.fillRect(x3-8, (y3+height1/2)-8, 8, 8);
g2.fillRect(x3-8, y3+height1, 8, 8);
g2.fillRect((x3+width1/2)-8, y3-8, 8, 8);
g2.fillRect(x3+width1, y3-8, 8, 8);
g2.fillRect((x3+width1/2)-8, y3+height1, 8, 8);
g2.fillRect(x3+width1, y3+height1, 8, 8);
g2.fillRect(x3+width1, (y3+height1/2)-8, 8, 8);
g2.dispose(); 
```

}

}

这里的形状是矩形，当调用 mouseReleased 函数时，它会通过 mouseListener 动态调整大小，该区域会消失一段时间。我还使用了一些带有工具提示文本的按钮，所以当工具提示文本出现时，该区域会令人不安并且看起来很尴尬。

CropScreen.java

```
package Main;
import java.awt.*;
import java.awt.event.*;
import java.awt.geom.Area;
import java.awt.geom.Rectangle2D;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.net.MalformedURLException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Iterator;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.IIOImage;
import javax.imageio.ImageIO;
import javax.imageio.ImageWriteParam;
import javax.imageio.ImageWriter;
import javax.imageio.stream.ImageOutputStream;
import javax.swing.*;
import javax.swing.border.LineBorder;
import javax.swing.border.TitledBorder;

public class CropScreen extends JComponent
 implements MouseListener, MouseMotionListener {
  static Point startPoint = new Point(), endPoint = new Point();
  private File movieFolder = null; 
  ActionListener a1,a2,a3,a4;    
  final JPanel panel =new JPanel();
  JPanel np =null,bp,im=null;
  String cl;
  Rectangle shape = null;
  JScrollPane sp=null;
   private static final long serialVersionUID = 1L;
   private JLabel mousePosition;
   int x, y,c=0,m=0;
   int x1, x2, y1, y2,x4,x5,y4,y5;
   int w, h,width,height,width2,height2;
   private JLabel recStart;
   private JLabel recStop;
   private JLabel cords;
   private int mousePressedX, mousePressedY; 
   private int width1;
   private int height1;
  int x3, y3;
  JFrame frame = new JFrame("Edit Images");
   final static float dash1[] = { 2.0f };
   final static BasicStroke dashed = new BasicStroke(1.0f,
    BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER, 10.0f, dash1, 0.0f);
    JButton blur,pencil,pencil1,clear,b,txt,saveedit,Pencil;

  Boolean etb = true;
 ImageIcon save = new ImageIcon(ClassLoader.getSystemResource("images/save.png"));
 ImageIcon close = new ImageIcon(ClassLoader.getSystemResource("images/close.png"));
 ImageIcon tool = new ImageIcon(ClassLoader.getSystemResource("images/tool.png"));
 ImageIcon browse = new ImageIcon(ClassLoader.getSystemResource("images/browse.png"));

 JButton jp,brows;
 Robot robot;
 JFrame window = null;

 JButton jp1;
 JButton but = new JButton();
 JPanel p = new JPanel();
 JPanel sz = new JPanel();
 JLabel size = new JLabel();
 MainIconPage d =null;
 CropScreen component;
 //
boolean dragging = false;

final int PROX_DIST = 3;

public CropScreen()
 {

   component = this;
   if(window == null)
        window = new JFrame("Edit Pane");
   if(d == null)
        d = new MainIconPage();
   pencil = new JButton(tool);
   pencil.setToolTipText("Edit Selected Area !");
   but.setEnabled(false);
   sz.add(but);

   sz.setVisible(true);
   d.main.add(but);

  p.setBackground(new Color(50,50,50,1));    
  d.main.add(p);

  //super( "Rectangle Drawer" );
 jp =new JButton(save);
 jp.setToolTipText("Save Selected Area !");
 jp1 = new JButton(close);
 jp1.setToolTipText("Close");
 brows = new JButton(browse);
 brows.setToolTipText("Browse Directory !");

 brows.setPreferredSize(new Dimension(40,40));
 jp1.setPreferredSize(new Dimension(40,40));
 jp.setPreferredSize(new Dimension(40,40));     
 pencil.setPreferredSize(new Dimension(40,40));
 p.add(jp);
 p.add(jp1);
 p.add(pencil);
 p.add(brows);
 p.setVisible(false);

  mousePosition = new JLabel();
  mousePosition.setHorizontalAlignment(SwingConstants.CENTER);
  panel.add( mousePosition, BorderLayout.CENTER );

  JLabel text1 = new JLabel();
  text1.setText( "At the center the mouse pointer's coordinates will be displayed." );
  panel.add( text1, BorderLayout.SOUTH );

  recStart = new JLabel();
  panel.add(recStart, BorderLayout.WEST);

  recStop = new JLabel();
  panel.add(recStop, BorderLayout.EAST);

  cords = new JLabel();
  panel.add(cords, BorderLayout.NORTH);

  addMouseListener( this );        
  addMouseMotionListener( this );  

 }

public void mouseClicked( MouseEvent event )
{
   x1 = 0;
    y1=0;
    w = 0;
    h=0;
    x3 = 0;
    y3 = 0;
    width1=0;
    height1 = 0;
    x4 = 0;
    y4 = 0;
    x5 = 0;
    y5 = 0;
    width2=0;
    height2 = 0;
  window.getContentPane().removeAll();
  d.r = true;
  d.jfc = null;
  jp.removeActionListener(a1);
                    jp1.removeActionListener(a2);
                    brows.removeActionListener(a3);
                    pencil.removeActionListener(a4);

 }

  public void mousePressed( MouseEvent event )
  {
   if(d.r==false){if(this.getCursor() != Cursor.getDefaultCursor()) {

        dragging = true;

    }}else{

   if(shape == null)
       shape = new Rectangle();

   if(!but.isShowing()){
 but.setVisible(true);
  }

   mousePressedX = event.getX();
    mousePressedY = event.getY();
   c =0;
   but.setText("0x0");
  size.setText("0x0");

  startPoint = endPoint = event.getPoint();
  if(m==1){
              sz.setVisible(false);
              }else{sz.setVisible(true);}

  but.setBounds(x1, y1-30, 100, 30);
  p.setVisible(false);

  window.getContentPane().removeAll();
  window.setExtendedState(JFrame.MAXIMIZED_BOTH);

  d.et.displayImage = null;
  d.et.OSC = null;
  d.et.currentColor = Color.BLACK;
  d.et.currentTool = EditTool.Tool.CURVE;
  }}

 public void mouseReleased( MouseEvent event )
  {
   if(d.r == false){
       dragging = false;
       endPoint = event.getPoint();
   if(x1<x2 &&y1<y2 ){ 
              p.setBounds(x3+width1,y3+height1-200,50,200);}

              p.setVisible(true);
   }
   else{
        d.r =false;
        endPoint = event.getPoint();
               c=1;
              if(x1<x2 &&y1<y2 ){ 

              p.setBounds(x2+10,y2-200,50,200);}
              else if(x1 == x2 && y1<y2){p.setBounds(x2-60,y2-200,50,200);}
              else if(x1 == x2 && y1==y2){p.setBounds(x2-60,y2,50,200);}
              else if(x1 < x2 && y1==y2){p.setBounds(x2+10,y2,50,200);}

              if(m==1){
              p.setVisible(false);
              }else{p.setVisible(true);}
             m=1; 
    x1 = 0;
    y1=0;
    w = 0;
    h=0;
    shape.reshape(x3, y3, width1, height1);

    a1 = new ActionListener(){
                       public void actionPerformed(ActionEvent e){

    try {               x1 = (startPoint.x < endPoint.x) ? startPoint.x : endPoint.x;
                         y1 = (startPoint.y < endPoint.y) ? startPoint.y : endPoint.y;
                       x2 = (startPoint.x > endPoint.x) ? startPoint.x : endPoint.x;
                       y2 = (startPoint.y > endPoint.y) ? startPoint.y : endPoint.y;
                        width = (x2-2 - x1) + 1;
                        height = (y2-2 - y1) + 1;
         Date date = new Date();
         SimpleDateFormat sdf = new SimpleDateFormat("yyyy_MM_dd_h_mm_ss_a");
         String formattedDate = sdf.format(date);

                       robot = new Robot();

                   BufferedImage screenShot = robot.createScreenCapture(new Rectangle(x3, y3, width1,height1));

                              if( movieFolder == null){
                                  movieFolder = null;

                    if(d.jfc == null)
                       d.jfc = new JFileChooser();

    d.jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);

    int r = d.jfc.showSaveDialog(d.jfc);

    if (r == JFileChooser.APPROVE_OPTION) {

        movieFolder = d.jfc.getSelectedFile();

    }}
                   ImageIO.write(screenShot, "JPG", new File(movieFolder,"screenShot"+formattedDate+".png"));

    } catch (IOException ex) {
        Logger.getLogger(CropScreen.class.getName()).log(Level.SEVERE, null, ex);
    } catch (AWTException ex) {
        Logger.getLogger(CropScreen.class.getName()).log(Level.SEVERE, null, ex);
    }                   
           }
                       };
    jp.addActionListener(a1);
                       a2 = new ActionListener(){
                       public void actionPerformed(ActionEvent ae){

                       p.setVisible(false);
                       but.setVisible(false);
                       d.main.dispose();

                       x1 = 0;
                       y1=0;
                       w = 0;
                       h=0;
                       x3 = 0;
    y3 = 0;
    width1=0;
    height1 = 0;
                    jp.removeActionListener(a1);
                    jp1.removeActionListener(a2);
                    brows.removeActionListener(a3);
                    pencil.removeActionListener(a4);
                    movieFolder = null;

                       }
                       };
                       jp1.addActionListener(a2);
     //-----------------------------------------------------------------------
                       a3 = new ActionListener(){

                       public void actionPerformed(ActionEvent ae){

                    try {               x1 = (startPoint.x < endPoint.x) ? startPoint.x : endPoint.x;
                         y1 = (startPoint.y < endPoint.y) ? startPoint.y : endPoint.y;
                       x2 = (startPoint.x > endPoint.x) ? startPoint.x : endPoint.x;
                       y2 = (startPoint.y > endPoint.y) ? startPoint.y : endPoint.y;
                        width = (x2-2 - x1) + 1;
                        height = (y2-2 - y1) + 1;
         Date date = new Date();
SimpleDateFormat sdf = new SimpleDateFormat("yyyy_MM_dd_h_mm_ss_a");
String formattedDate = sdf.format(date);

                       robot = new Robot();

                   BufferedImage screenShot = robot.createScreenCapture(new Rectangle(x3, y3, width1,height1));

                                  movieFolder = null;

                    if(d.jfc == null)
                       d.jfc = new JFileChooser();

    d.jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);

    int r = d.jfc.showSaveDialog(d.jfc);

    if (r == JFileChooser.APPROVE_OPTION) {

        movieFolder = d.jfc.getSelectedFile();

    }
                   ImageIO.write(screenShot, "JPG", new File(movieFolder,"screenShot"+formattedDate+".png"));

    } catch (IOException ex) {
        Logger.getLogger(CropScreen.class.getName()).log(Level.SEVERE, null, ex);
    } catch (AWTException ex) {
        Logger.getLogger(CropScreen.class.getName()).log(Level.SEVERE, null, ex);
    }

                       }
                       };
                       brows.addActionListener(a3);

  //-----------------------------------------------------------------------
                      a4 = new ActionListener(){
                       public void actionPerformed(ActionEvent ae){

                    Date date1 = new Date();
                    SimpleDateFormat sdf1 = new  SimpleDateFormat("yyyy_MM_dd_h_mm_ss_a");
                    String formattedDate1 = sdf1.format(date1);
                try {               x4 = (startPoint.x < endPoint.x) ? startPoint.x : endPoint.x;
                         y4 = (startPoint.y < endPoint.y) ? startPoint.y : endPoint.y;
                       x5 = (startPoint.x > endPoint.x) ? startPoint.x : endPoint.x;
                       y5 = (startPoint.y > endPoint.y) ? startPoint.y : endPoint.y;
                        width2 = (x5-2 - x4) + 1;
                        height2 = (y5-2 - y4) + 1;

                       robot = new Robot();

                   BufferedImage screenShot = robot.createScreenCapture(new Rectangle(x3+1, y3+1, width1,height1));

                               if( movieFolder == null){
                                  movieFolder = null;

                    if(d.jfc == null)
                       d.jfc = new JFileChooser();

    d.jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);

    int r = d.jfc.showSaveDialog(d.jfc);

    if (r == JFileChooser.APPROVE_OPTION) {

        movieFolder = d.jfc.getSelectedFile();

    }}
                   ImageIO.write(screenShot, "JPG", new File(movieFolder,"screenShot"+formattedDate1+".png"));

    } catch (IOException ex) {
        Logger.getLogger(CropScreen.class.getName()).log(Level.SEVERE, null, ex);
    } catch (AWTException ex) {
        Logger.getLogger(CropScreen.class.getName()).log(Level.SEVERE, null, ex);
    }                   

    x1 = 0;
    y1=0;
    w = 0;
    h=0;
    x3 = 0;
    y3 = 0;
    width1=0;
    height1 = 0;
    x4 = 0;
    y4 = 0;
    x5 = 0;
    y5 = 0;
    width2=0;
    height2 = 0;

                MainIconPage d1 = new MainIconPage();
                       p.setVisible(false);
                       but.setVisible(false);
                       d1.main.dispose();
                    try {

                        cl = movieFolder.toURL().toString().substring(6)+"/screenShot"+formattedDate1+".png";
                    } catch (MalformedURLException ex) {
                        Logger.getLogger(CropScreen.class.getName()).log(Level.SEVERE, null, ex);
                    }

                 //System.out.println(d.bs);
                    if(d.et == null){

                    d.et=new EditTool(cl);
                    d.et.s1 = "";}
                    else{d.et.s1 = "";
                    d.et.repaint();
                    d.et.cl(cl);
                    }

                        jp.removeActionListener(a1);
                           jp1.removeActionListener(a2);
                           brows.removeActionListener(a3);
                    pencil.removeActionListener(a4);

                    }

                       };
                       pencil.addActionListener(a4);

  }}

  public void mouseEntered( MouseEvent event )
   {
    this.setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));
  }

  public void mouseExited( MouseEvent event )
  {
    mousePosition.setText( "Mouse outside window" );
  }

  public void mouseDragged( MouseEvent event )
  {if(d.r ==false){
  if(dragging) {
     endPoint = event.getPoint();
          Point p1 = event.getPoint();
         Rectangle r = component.shape;
         int type = component.getCursor().getType();
         int dx = p1.x - r.x;
          int dy = p1.y - r.y;
        switch(type) {
            case Cursor.N_RESIZE_CURSOR:
                int height=height1 = Math.abs(r.height - dy);
                x3=r.x;
                y3=r.y+dy;
                shape.reshape(r.x, r.y+dy, r.width, height);
                break;
            case Cursor.NW_RESIZE_CURSOR:
                int width =width1 = Math.abs(r.width - dx);
                height=height1 = Math.abs(r.height - dy);
                x3=r.x+dx;
                y3=r.y+dy;
                shape.reshape(r.x+dx, r.y+dy, width, height);
                break;
            case Cursor.W_RESIZE_CURSOR:
                width =width1 = Math.abs(r.width - dx);
                x3=r.x+dx;
                y3=r.y;
                shape.reshape(r.x+dx, r.y, width, r.height);
                break;
            case Cursor.SW_RESIZE_CURSOR:
                width =width1 = Math.abs(r.width - dx);
                height=height1 = Math.abs(dy);
                x3=r.x+dx;
                y3=r.y;
                shape.reshape(r.x+dx, r.y, width, height);
                break;
            case Cursor.S_RESIZE_CURSOR:
                height=height1 = Math.abs(dy);
                x3=r.x;
                y3=r.y;
                shape.reshape(r.x, r.y, r.width, height);
                break;
            case Cursor.SE_RESIZE_CURSOR:
                width =width1 = Math.abs(dx);
                height=height1 = Math.abs(dy);
                x3=r.x;
                y3=r.y;
                shape.reshape(r.x, r.y, width, height);
                break;
            case Cursor.E_RESIZE_CURSOR:
                width =width1 = Math.abs(dx);
                x3=r.x;
                y3=r.y;
                shape.reshape(r.x, r.y, width, r.height);
                break;
            case Cursor.NE_RESIZE_CURSOR:
                width =width1 = Math.abs(dx);
                height=height1 = Math.abs(r.height - dy);
                x3=r.x;
                y3=r.y+dy;
                shape.reshape(r.x, r.y+dy, width, height);
                break;
            default:
                System.out.println("unexpected type: " + type);
        }
        if(c == 0){endPoint = event.getPoint();}
   x1 = (startPoint.x < endPoint.x) ? startPoint.x : endPoint.x;
                         y1 = (startPoint.y < endPoint.y) ? startPoint.y : endPoint.y;
                       x2 = (startPoint.x > endPoint.x) ? startPoint.x : endPoint.x;
                       y2 = (startPoint.y > endPoint.y) ? startPoint.y : endPoint.y;
                        width = (x2-2 - x1) + 1;
                        height = (y2-2 - y1) + 1;
                        p.setVisible(true);
                        if(x1<x2 &&y1<y2 ){ 
              but.setBounds(x3, y3-30, 100, 30);
                        p.setBounds(x3+width1,y3+height1-200,50,200);}

              shape.reshape(x3, y3, width1, height1);      
              but.setText(width1+"x"+height1);
              repaint();

    }
  }
  else{    
   int mouseDraggedX = event.getX();
  int mouseDraggedY = event.getY();
  width1 = Math.abs(mouseDraggedX - mousePressedX); 
  height1 = Math.abs(mouseDraggedY - mousePressedY); 

  x3 = Math.min(mouseDraggedX, mousePressedX);
  y3 = Math.min(mouseDraggedY, mousePressedY);
  m=0;

  if(c == 0){endPoint = event.getPoint();}
  x1 = (startPoint.x < endPoint.x) ? startPoint.x : endPoint.x;
                         y1 = (startPoint.y < endPoint.y) ? startPoint.y : endPoint.y;
                       x2 = (startPoint.x > endPoint.x) ? startPoint.x : endPoint.x;
                       y2 = (startPoint.y > endPoint.y) ? startPoint.y : endPoint.y;
                        width = (x2-2 - x1) + 1;
                        height = (y2-2 - y1) + 1;
                        if(x1<x2 &&y1<y2 ){ 
              but.setBounds(x3, y3-30, 100, 30);}
              shape.reshape(x3, y3, width1, height1);      
              but.setText(width+"x"+height);
              repaint();

  }}

    public void mouseMoved( MouseEvent event )
   {
   if(d.r == false){
    Point p = event.getPoint();
    if(!isOverRect(p)) {
        if(component.getCursor() != Cursor.getDefaultCursor()) {

            component.setCursor(Cursor.getDefaultCursor());
        }
        return;
    }
    int outcode = getOutcode(p);
    Rectangle r = component.shape;
    switch(outcode) {
        case Rectangle.OUT_TOP:
            if(Math.abs(p.y - r.y) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.N_RESIZE_CURSOR));
            }
            break;
        case Rectangle.OUT_TOP + Rectangle.OUT_LEFT:
            if(Math.abs(p.y - r.y) < PROX_DIST &&
               Math.abs(p.x - r.x) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.NW_RESIZE_CURSOR));
            }
            break;
        case Rectangle.OUT_LEFT:
            if(Math.abs(p.x - r.x) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.W_RESIZE_CURSOR));
            }
            break;
        case Rectangle.OUT_LEFT + Rectangle.OUT_BOTTOM:
            if(Math.abs(p.x - r.x) < PROX_DIST &&
               Math.abs(p.y - (r.y+r.height)) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.SW_RESIZE_CURSOR));
            }
            break;
        case Rectangle.OUT_BOTTOM:
            if(Math.abs(p.y - (r.y+r.height)) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.S_RESIZE_CURSOR));
            }
            break;
        case Rectangle.OUT_BOTTOM + Rectangle.OUT_RIGHT:
            if(Math.abs(p.x - (r.x+r.width)) < PROX_DIST &&
               Math.abs(p.y - (r.y+r.height)) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.SE_RESIZE_CURSOR));
            }
            break;
        case Rectangle.OUT_RIGHT:
            if(Math.abs(p.x - (r.x+r.width)) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.E_RESIZE_CURSOR));
            }
            break;
        case Rectangle.OUT_RIGHT + Rectangle.OUT_TOP:
            if(Math.abs(p.x - (r.x+r.width)) < PROX_DIST &&
               Math.abs(p.y - r.y) < PROX_DIST) {
                component.setCursor(Cursor.getPredefinedCursor(
                                    Cursor.NE_RESIZE_CURSOR));
            }
            break;
        default:    
            component.setCursor(Cursor.getDefaultCursor());
    }

  }
  }

  private int getOutcode(Point p) {
    Rectangle r = (Rectangle)component.shape.clone();
    r.grow(-PROX_DIST, -PROX_DIST);
    return r.outcode(p.x, p.y);        
  }

  private boolean isOverRect(Point p) {
    Rectangle r = (Rectangle)component.shape.clone();
    r.grow(PROX_DIST, PROX_DIST);
    return r.contains(p);
 }
 public void paintComponent(Graphics g)
 {
 super.paintComponent(g);

  Graphics2D g2 = (Graphics2D) g.create();
  g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,
    RenderingHints.VALUE_ANTIALIAS_ON);
  g2.setStroke(dashed);

 if(x1 ==0 && y1 == 0){
  g2.dispose();
  }
 else{
    g2.setColor(Color.BLACK);
 g2.draw(shape);
 g2.setColor(Color.black);
 Area area = new Area();

  area.add(new Area(new Rectangle2D.Float(0, 0, getWidth(), getHeight())));

 g2.setColor(Color.BLACK.brighter());

int width = getWidth() - 1;
int height = getHeight() - 1;

int openWidth = 200;
int openHeight = 200;

int x = (width - openWidth) / 2;
int y = (height - openHeight) / 2;

area.subtract(new Area(shape));

g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f));
g2.fill(area);
g2.setColor(Color.WHITE);
g2.setStroke(new BasicStroke(1.5f));
g2.fillRect(x3-8, y3-8, 8, 8);
g2.fillRect(x3-8, (y3+height1/2)-8, 8, 8);
g2.fillRect(x3-8, y3+height1, 8, 8);
g2.fillRect((x3+width1/2)-8, y3-8, 8, 8);
g2.fillRect(x3+width1, y3-8, 8, 8);
g2.fillRect((x3+width1/2)-8, y3+height1, 8, 8);
g2.fillRect(x3+width1, y3+height1, 8, 8);
g2.fillRect(x3+width1, (y3+height1/2)-8, 8, 8);
g2.dispose();
 }

 }

boolean selectedExistingRectangle(int x, int y) {
        return shape != null && shape.contains(x, y);
    }

    void setRectangle(int x, int y) {
        //shape = new Rectangle(x-(size/2), y-(size/2), 0, 0);
        shape.reshape(x, y, width, height);

        repaint();
    }
    public static String removeExtension(String s) {

String separator = System.getProperty("file.separator");
String filename;

int lastSeparatorIndex = s.lastIndexOf(separator);
if (lastSeparatorIndex == -1) {
    filename = s;
} else {
    filename = s.substring(lastSeparatorIndex + 1);
}

int extensionIndex = filename.lastIndexOf(".");
if (extensionIndex == -1)
    return filename;

return filename.substring(0, extensionIndex);
 }
 } 
```

提前致谢。

# ios - 无法将图像加载到滚动视图中以进行缩放和滚动

> ID：15239347
> 
> 赞同：2
> 
> 时间：2013-03-06T05:01:41.027
> 
> 标签：ios, objective-c, ipad, uiscrollview, zooming

我正在尝试将图像加载到滚动视图中并将手势识别器添加到图像中，以便可以放大和滚动。但不知何故，我无法让这个工作。我已经使用 xib 文件构建了应用程序。起初我将滚动视图放在 xib 文件中的视图顶部，但因为它没有成功（给了我一个空白的黑屏）然后我尝试以编程方式将滚动视图放在 .m 文件上。但现在它给了我一个空白的白色屏幕。我正在使用 SDWebImage 下载图像。这是我的代码：

```
 #import "ZoomAndPanViewController.h"
#import "UIImageView+WebCache.h"

@interface ZoomAndPanViewController ()
@property (nonatomic, strong) UIImageView *imageView;
@property (nonatomic, strong) UIImage *image;

- (void)centerScrollViewContents;
- (void)scrollViewDoubleTapped:(UITapGestureRecognizer*)recognizer;
- (void)scrollViewTwoFingerTapped:(UITapGestureRecognizer*)recognizer;

@end

@implementation ZoomAndPanViewController

@synthesize scrollView = _scrollView;

@synthesize imageView = _imageView;

- (void)centerScrollViewContents {
    CGSize boundsSize = self.scrollView.bounds.size;
    CGRect contentsFrame = self.imageView.frame;

    if (contentsFrame.size.width < boundsSize.width) {
        contentsFrame.origin.x = (boundsSize.width - contentsFrame.size.width) / 2.0f;
    } else {
        contentsFrame.origin.x = 0.0f;
    }

    if (contentsFrame.size.height < boundsSize.height) {
        contentsFrame.origin.y = (boundsSize.height - contentsFrame.size.height) / 2.0f;
    } else {
        contentsFrame.origin.y = 0.0f;
    }

    self.imageView.frame = contentsFrame;
}

- (void)scrollViewDoubleTapped:(UITapGestureRecognizer*)recognizer {
    // Get the location within the image view where we tapped
    CGPoint pointInView = [recognizer locationInView:self.imageView];

    // Get a zoom scale that's zoomed in slightly, capped at the maximum zoom scale specified by the scroll view
    CGFloat newZoomScale = self.scrollView.zoomScale * 1.5f;
    newZoomScale = MIN(newZoomScale, self.scrollView.maximumZoomScale);

    // Figure out the rect we want to zoom to, then zoom to it
    CGSize scrollViewSize = self.scrollView.bounds.size;

    CGFloat w = scrollViewSize.width / newZoomScale;
    CGFloat h = scrollViewSize.height / newZoomScale;
    CGFloat x = pointInView.x - (w / 2.0f);
    CGFloat y = pointInView.y - (h / 2.0f);

    CGRect rectToZoomTo = CGRectMake(x, y, w, h);

    [self.scrollView zoomToRect:rectToZoomTo animated:YES];
}

- (void)scrollViewTwoFingerTapped:(UITapGestureRecognizer*)recognizer {
    // Zoom out slightly, capping at the minimum zoom scale specified by the scroll view
    CGFloat newZoomScale = self.scrollView.zoomScale / 1.5f;
    newZoomScale = MAX(newZoomScale, self.scrollView.minimumZoomScale);
    [self.scrollView setZoomScale:newZoomScale animated:YES];
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
    CGRect scrollFrame = [[UIScreen mainScreen]applicationFrame];
    self.scrollView = [[UIScrollView alloc]initWithFrame:scrollFrame];
    self.scrollView.delegate = self;

    // Set a nice title
    self.title = @"Image";
    self.imageView = [[UIImageView alloc] init];
    self.image = [[UIImage alloc]init];
    __block UIActivityIndicatorView *activityIndicator;
    [self.imageView setImageWithURL:[NSURL URLWithString:@"http://blablabla"] placeholderImage:nil options:SDWebImageProgressiveDownload progress:^(NSUInteger receivedSize, long long expectedSize)
     {
         if (!activityIndicator)
         {
             NSLog(@"setting up the indicator");
             [self.imageView addSubview:activityIndicator = [UIActivityIndicatorView.alloc initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray]];
             activityIndicator.center = self.imageView.center;
             [activityIndicator startAnimating];
             NSLog(@"indicator start animating");
         }
     }
                          completed:^(UIImage *uiimage, NSError *error, SDImageCacheType cacheType)
     {
         NSLog(@"download image completed");
         [activityIndicator removeFromSuperview];
         activityIndicator = nil;
         self.image = uiimage;
         [self.imageView setImage:self.image];
         NSLog(@"image vs uiimage : %f x %f vs %f vs %f", self.image.size.width, self.image.size.height, uiimage.size.width, uiimage.size.height);
     }];

    // Set up the image we want to scroll & zoom and add it to the scroll view

    self.imageView.frame = (CGRect){.origin=CGPointMake(0.0f, 0.0f), .size=self.image.size};
    [self.scrollView addSubview:self.imageView];

    // Tell the scroll view the size of the contents
    self.scrollView.contentSize = self.image.size;
    NSLog(@"scrollview contentsize %f x %f",  self.image.size.width,  self.scrollView.contentSize.height);
    UITapGestureRecognizer *doubleTapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(scrollViewDoubleTapped:)];
    doubleTapRecognizer.numberOfTapsRequired = 2;
    doubleTapRecognizer.numberOfTouchesRequired = 1;
    [self.scrollView addGestureRecognizer:doubleTapRecognizer];

    UITapGestureRecognizer *twoFingerTapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(scrollViewTwoFingerTapped:)];
    twoFingerTapRecognizer.numberOfTapsRequired = 1;
    twoFingerTapRecognizer.numberOfTouchesRequired = 2;
    [self.scrollView addGestureRecognizer:twoFingerTapRecognizer];
    //[self.view addSubview:self.scrollView];
    [SDWebImageManager.sharedManager.imageDownloader setValue:@"SDWebImage Demo" forHTTPHeaderField:@"AppName"];
    SDWebImageManager.sharedManager.imageDownloader.queueMode = SDWebImageDownloaderLIFOQueueMode;

}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
}

- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];

    // Set up the minimum & maximum zoom scales
    CGRect scrollViewFrame = self.scrollView.frame;
    CGFloat scaleWidth = scrollViewFrame.size.width / self.scrollView.contentSize.width;
    CGFloat scaleHeight = scrollViewFrame.size.height / self.scrollView.contentSize.height;
    CGFloat minScale = MIN(scaleWidth, scaleHeight);

    self.scrollView.minimumZoomScale = minScale;
    self.scrollView.maximumZoomScale = 1.0f;
    self.scrollView.zoomScale = minScale;

    [self centerScrollViewContents];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown);
}

- (UIView*)viewForZoomingInScrollView:(UIScrollView *)scrollView {
    // Return the view that we want to zoom
    return self.imageView;
}

- (void)scrollViewDidZoom:(UIScrollView *)scrollView {
    // The scroll view has zoomed, so we need to re-center the contents
    [self centerScrollViewContents];
}

@end 
```

任何关于我在代码中做错的线索和任何帮助都将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:08:24.257

只需创建 2 个名为 CustomScroll.h 和 .m 的类

在 CustomScroll.h 中写

```
@interface CustomScroll : UIScrollView
{

}

@property (nonatomic,strong) IBOutlet UIView *imageContainer; 
```

并在 .m 中编写以下代码：

```
@synthesize imageContainer;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{

 //self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;

}

// Override layoutSubviews to center content

- (void)layoutSubviews 
{

    [super layoutSubviews];

    // center the image as it becomes smaller than the size of the screen

    CGSize boundsSize = self.bounds.size;

    CGRect frameToCenter = imageContainer.frame;

    // center horizontally
    if (frameToCenter.size.width < boundsSize.width)
        frameToCenter.origin.x = (boundsSize.width - frameToCenter.size.width) / 2;
    else
        frameToCenter.origin.x = 0;

    // center vertically
    if (frameToCenter.size.height < boundsSize.height)
        frameToCenter.origin.y = (boundsSize.height - frameToCenter.size.height) / 2;
    else
        frameToCenter.origin.y = 0;

    imageContainer.frame = frameToCenter;

    NSLog(@"imageContainer.frame.height=== %f",imageContainer.frame.size.height);

}

-(BOOL)shouldAutorotateToInterfaceOrientation:UIInterfaceOrientation)interfaceOrientation
{

    // Return YES for supported orientations
    return (interfaceOrientation == UIInterfaceOrientationPortrait);

} 
```

并且在您想要滚动 .h 文件中的图像的类中，导入 CustomScroll.h 并使对象像

```
CustomScroll *customScrl; 
```

并在您的视图中获取 ScrollView 并将 imageview 放入其中并将滚动视图与 customScrl 绑定（不要忘记绑定委托并在 .h 文件中添加 UIScrollViewDelegate ）并在自定义类选项卡中将 CustomScroll 写为类。

现在在 .m 文件中写入要显示图像或在 viewDidLoad 中：

```
// Zoom image inside Scrol view //
// outputImage is my imageview inside Scrollview
    self.customScrl.contentSize= CGSizeMake(outputImage.frame.size.width, outputImage.frame.size.height);
    self.customScrl.maximumZoomScale=5.0;
    self.customScrl.minimumZoomScale=1.0;
    self.customScrl.clipsToBounds=YES;
    self.customScrl.delegate=self;
    [self.customScrl addSubview:outputImage];
    self.customScrl.imageContainer=outputImage;

    [self.view addSubview:customScrl];

#pragma ImageZooming Function

-(UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView
{
    UIImageView *zoomImg = outputImage;
    //NSLog(@"zoom img=== %@",zoomImg);

    return zoomImg;
} 
```

照着写的去做。它肯定也对你有用。:)

# sql-server - 如何将参数从水晶报表传递给 SQL 存储过程？

> ID：15239350
> 
> 赞同：1
> 
> 时间：2013-03-06T05:02:06.770
> 
> 标签：sql-server, crystal-reports, crystal-reports-2008

我创建了一个 SQL 服务器存储过程，并将其附加到水晶报表中。您能否指导我如何将这个存储的过程用于公式字段。我拖放它并生成如下代码片段：

```
{spTest;1.Expr1000} 
```

但是这个存储过程也需要 2 个参数（Para1 和 Para2）。

您能否指导如何传递这些参数。

非常感谢你帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T16:09:28.947

创建存储过程时，您将在 Create Stored Procedure 或 Alter Stored Procedure 语句中使用 Para1 和 Para2（假设数据类型为 datetime）：

```
create Procedure ProcedureName @Para1 datetime, @Para2 datetime as 
```

尝试在存储过程中添加参数声明，完成后，转到 CR 中的数据库/验证数据库以刷新连接。Crystal 应该为您创建参数。

# linux-kernel - Linux 时钟架构

> ID：15239352
> 
> 赞同：5
> 
> 时间：2013-03-06T05:02:14.347
> 
> 标签：linux-kernel, arm, clock

在 Linux 中，时钟架构是如何实现的。有一个文件`include/linux/clkdev.h`

```
struct clk_lookup {
    struct list_head    node;
    const char      *dev_id;
    const char      *con_id;
    struct clk      *clk;
}; 
```

有哪些不同的领域，它在时钟架构中被广泛使用`arch/arm/Board***/...`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T14:59:04.970

通用 Linux 时钟基础结构记录在[clk.rst](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/driver-api/clk.rst)中。对于 ARM，Sasha Hauer最近（过去两年）创建了*通用时钟框架。*时钟以*父/子*关系构造。典型的 SOC（片上系统）具有由晶体创建的主时钟，这些时钟要么按比例缩小（使用计数器），要么使用 PLL 放大，可能两者兼而有之。它们的层次结构对于节能很重要。通常设备只使用树中*最低/最年轻*的时钟之一。当设备请求时钟时，基础结构确保所有父母都启动。

以前（旧版），时​​钟通过平台数据从*机器文件*（参考`arch/arm/Board***/`）传递到驱动程序/设备；最终通过`platform_device_register()`。有时，时钟是/源自设备名称。例如，*fec*驱动程序可能使用*fec-clk*。**这对于多机**配置效果不佳，因此引入了[平台数据](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/driver-api/driver-model/platform.rst)机制。甚至较新的机器也使用**dt**（或设备表）。这里没有机器文件，只有一个从引导加载程序传递到内核的设备表。在这种情况下，**dt**告诉驱动程序使用哪个时钟。

最初，`dev_id`and`con_id`是关联**设备**的时钟和**连接**的时钟（父/子）。通常要么 要么`dev_id`为`con_id`NULL，因为只需要一个方面。我认为这种观点是有欠缺的；特别是对于启动整个**时钟链**。因此，根据 Linux 版本，答案会有所不同。即使在当前源代码中，某些平台（如`orion`）仍然使用较旧的机制。我认为不`orion`支持**[设备树](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/devicetree)**。

具体答案取决于您的 Linux 版本和使用的机器（可能还有平台）。
参见：[clkdev.c](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/clk/clkdev.c)、[clk.c](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/clk/clk.c)

**开源 - 有许多突变。他们都有不同的计划。**^([BSG 重新成像](https://io9.gizmodo.com/battlestar-galacticas-ronald-d-moore-admits-the-cylons-1796020590))

参考：[Russell Kings 关于 ARM clkdev 的消息](http://lists.linaro.org/pipermail/linaro-dev/2011-October/007952.html)，原文并不暗示订购。

# jquery - jQuery - 检查某些字段是否已填写，然后验证电子邮件

> ID：15239353
> 
> 赞同：0
> 
> 时间：2013-03-06T05:02:14.707
> 
> 标签：jquery, forms, email-validation

一直在尝试使用 jQuery 拼凑两个函数。在表单上提交时，代码会检查是否所有字段都已填写，然后如果所有这些都正确，它会移动到另一个检查电子邮件验证的功能。

我想我已经接近了，因为当我按下提交时，验证警报会显示一毫秒然后提交（我不希望它这样做，因为使用的电子邮件无效）。我很确定它的代码足够简单，因此我远离任何表单验证。

这是代码：

```
<script type="text/javascript"> 
    $("#test").submit(function(){
        $(".error").hide();

        var isFormValid = true;

        $(".required").each(function(){
            if ($.trim($(this).val()).length == 0){
                $(this).addClass("highlight");
                isFormValid = false;
            }
            else{
                $(this).removeClass("highlight");
            }
        });
        if (!isFormValid) { 
            document.getElementById("error").innerHTML = "You must fill in all of the fields.";
            return isFormValid;
        }
        else {
            myFunction();
        }
    });

    function myFunction() {
        var isEmailValid = true;

        var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
        var emailaddressVal = $("#email").val();

        if (!emailReg.test(emailaddressVal)) {
            $("#email").after('<span class="error">Enter a valid email address.</span>');
            isEmailValid = false;
        }
        else {
            ///ajax post function here///
        }

        if(!isEmailValid) {
            document.getElementById("error").innerHTML = "Please enter a valid email address.";
            return isEmailValid;
        }
    }
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:08:35.630

试试这个：

```
<script type="text/javascript"> 
$("#test").submit(function(){
    $(".error").hide();

    var isFormValid = true;

    $(".required").each(function(){
        if ($.trim($(this).val()).length == 0){
            $(this).addClass("highlight");
            isFormValid = false;
        }
        else{
            $(this).removeClass("highlight");
        }
    });
    if (!isFormValid) { 
        document.getElementById("error").innerHTML = "You must fill in all of the fields.";
        return isFormValid;
    }
    else {
        return myFunction();//should return true or false
    }
});

function myFunction() {
    var isEmailValid = true;

    var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
    var emailaddressVal = $("#email").val();

    if (!emailReg.test(emailaddressVal)) {
        $("#email").after('<span class="error">Enter a valid email address.</span>');
        isEmailValid = false;
    }
    else {
        ///ajax post function here///
    }

    if(!isEmailValid) {
        document.getElementById("error").innerHTML = "Please enter a valid email address.";
        return isEmailValid;
    }
    return isEmailValid;//should return true or false
}
</script> 
```

# c# - Quartz.net Scheduler 远程访问的安全性

> ID：15239354
> 
> 赞同：3
> 
> 时间：2013-03-06T05:02:18.810
> 
> 标签：c#, security, quartz.net

我们目前正在寻找一个调度应用程序来集成到我们的解决方案中。我们非常接近锁定 Quartz.net，但有一个交易破坏者我在 Stackoverflow 或 Google 上都找不到任何解决方案。

问题在于通过 API 进行远程访问，例如：

```
NameValueCollection properties = new NameValueCollection();
properties["quartz.scheduler.instanceName"] = "instanceName";
properties["quartz.scheduler.proxy"] = "true";
properties["quartz.scheduler.proxy.address"] = "tcp://localhost:555/QuartzScheduler";

ISchedulerFactory sf = new StdSchedulerFactory(properties);
IScheduler sched = sf.GetScheduler(); 
```

我们目前了解到，任何用户都可以使用与上述类似的代码，然后使用调度程序实例来管理/更改/添加作业等。问题是，我们需要限制这种访问（作为运行它的用户上下文可以访问敏感信息）。

在我们的理想情况下，我们希望锁定对指定用户的远程访问。这将允许授权用户从界面管理 Quartz。如果这是不可能的，那么我们将寻求一种解决方案，在不破坏从同一台机器访问 API 的能力的情况下锁定远程访问（缺点是用户需要登录服务器来管理石英）。

如果我们是第一个有这个要求的组织，我会很惊讶，其他人是如何解决这个问题的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T15:30:56.317

简而言之，没有内置的身份验证/授权方案。

首先，即使恶意用户可以访问接口（如果人们怀有敌意，对我来说这似乎是一个不安全的网络）这个人只能管理*调度程序*。因此，可以披露的信息是工作/触发器名称和组。用户可以恶意触发作业运行，该作业的编码不够健壮，无法比最初预期的更频繁地运行。

外部方无法访问允许执行的作业，这包括连接字符串等或实际作业逻辑。外部方也将无法添加服务器 bin 目录中不存在的更多作业 - 因此作业被锁定，实际上不会发生任何意外。

确实想到的一件事是，用户可以使用参数安排本机作业，以对使用服务权限运行的系统执行有害操作。

解决这个问题的一种方法是使用简单的控制界面，如 Web 服务/Web 应用程序，它会处理权限等，并连接到 localhost 的 Windows 服务，否则会受到防火墙保护。

# batch-file - 批处理文件 IF ELSE 失败

> ID：15239357
> 
> 赞同：1
> 
> 时间：2013-03-06T05:03:05.110
> 
> 标签：batch-file

我有一个批处理文件，我正在配置它来检查登录的用户是否是特定用户。无论我做什么，批处理文件总是`) ELSE (`在线崩溃。我在这上面花了五个小时，我确实缩小并改进了命令，但它仍然无法正常工作。我很感激任何关于如何让它工作的建议（另外，如果我做得很愚蠢，请告诉我，在批处理文件方面我有点傻）：

```
@ECHO OFF
::
SETLOCAL
::
IF "%USERNAME%" EQU "jdoe" (
    IMDISK -a -s 32M -m #: -p "/FS:exFAT /Q /Y /V:MERGEABLES"
    FOR /F "tokens=2 delims==" %%D IN ('WMIC LOGICALDISK WHERE "size=33538048" GET Name /format:value'^) DO (
        COPY "\\WIN2K8R2-F-01\Remote Applications\Batches\Merge PDFs.lnk" "%%D\Merge PDFs.lnk"
        GOTO End
    ^)
) ELSE (
    IMDISK -a -s 256M -m #: -p "/FS:exFAT /Q /Y /V:RAMDRIVE"
    FOR /F "tokens=2 delims==" %%D IN ('WMIC LOGICALDISK WHERE "size=268304384" GET Name /format:value'^) DO (
        COPY "\\WIN2K8R2-F-01\Remote Applications\Batches\Archive Folders.lnk" "%%D\Archive Folders.lnk"
        GOTO End
    ^)
)
::
:End
::
IF EXIST "%SystemDrive%\BGInfo.exe" (
    "%SystemDrive%\BGInfo.exe" "%SystemDrive%\BGInfo.bgi" /Timer:0 /AcceptEula /Silent
)
::
ENDLOCAL 
```

**更新**

所以，我重写了我的版本，老实说，我看不出我的原版和重写版之间有什么区别，但重写版奏效了。但是，最后我不能使用这个脚本，因为微软的一个问题。问题是普通用户不允许格式化驱动器。这会抛出`IMDISK`窗口，现在我将不得不处理隐藏的文件夹和快捷方式等`RUNAS`，这无济于事，而且我无论如何也无法让它工作。我很确定我把它搞砸了，但我不明白追求修复的意义了。对于任何关心的人，这是脚本的最终版本。也许它会帮助别人：

```
@ECHO OFF
::
IF /I "%USERNAME%" EQU "jdoe" (
    IMDISK -a -s 32M -m #: -p "/FS:exFAT /Q /Y /V:MERGEABLES"
::
    TIMEOUT 4
::
    FOR /F "tokens=2 delims==" %%D IN (
        'WMIC LOGICALDISK WHERE "size=33423360" GET Name /format:value'
    ) DO (
        PUSHD %%D
::
        COPY "\\WIN2K8R2-F-01\Remote Applications\Batches\Merge PDFs.lnk" "Merge PDFs.lnk"
::
        POPD
::
        GOTO End
    )
) ELSE (
    IMDISK -a -s 256M -m #: -p "/FS:exFAT /Q /Y /V:RAMDRIVE"
::
    TIMEOUT 4
::
    FOR /F "tokens=2 delims==" %%D IN (
        'WMIC LOGICALDISK WHERE "size=268304384" GET Name /format:value'
    ) DO (
        PUSHD %%D
::
        COPY "\\WIN2K8R2-F-01\Remote Applications\Batches\Archive Folders.lnk" "Archive Folders.lnk"
::
        POPD
::
        GOTO End
    )
)
::
:End
::
IF EXIST "%SystemDrive%\BGInfo.exe" (
    "%SystemDrive%\BGInfo.exe" "%SystemDrive%\BGInfo.bgi" /Timer:0 /AcceptEula /Silent
) 
```

我不知道的一件事是如何将`%%D`变量从循环直接传递给`COPY`命令。这就是我使用`PUSHD`and的原因`POPD`，但这只是感觉很脏......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T05:24:22.230

如果我是你，我会删除右括号前的所有插入符号。

插入符号转义了下一个字符的特殊含义——它的意思是“这个字符字面意思”

顺便说一句 - 你可以格式化

```
for /f ... in ('whatever...') do ( 
```

作为

```
for /f ... in (
  'whatever...'
 ) do ( 
```

如果您愿意-可能会使它更具可读性...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:26:54.417

您的 IF 语句似乎是正确的。我在 IMDISK 和 FOR 循环注释掉的情况下尝试了它（在 Windows 7 上），它工作得很好。这是我运行的批次。

```
@ECHO OFF
::
SETLOCAL
::
IF "%USERNAME%" EQU "jdoe" (
    ECHO jdoe User Found
    REM IMDISK -a -s 32M -m #: -p "/FS:exFAT /Q /Y /V:MERGEABLES"
    REM FOR /F "tokens=2 delims==" %%D IN ('WMIC LOGICALDISK WHERE "size=33538048" GET Name /format:value'^) DO (
    REM     COPY "\\WIN2K8R2-F-01\Remote Applications\Batches\Merge PDFs.lnk" "%%D\Merge PDFs.lnk"
    REM     GOTO End
    REM ^)
) ELSE (
    ECHO User Not Found
    REM IMDISK -a -s 256M -m #: -p "/FS:exFAT /Q /Y /V:RAMDRIVE"
    REM FOR /F "tokens=2 delims==" %%D IN ('WMIC LOGICALDISK WHERE "size=268304384" GET Name /format:value'^) DO (
    REM     COPY "\\WIN2K8R2-F-01\Remote Applications\Batches\Archive Folders.lnk" "%%D\Archive Folders.lnk"
    REM     GOTO End
    REM ^)
)
::
:End
::
IF EXIST "%SystemDrive%\BGInfo.exe" (
    REM "%SystemDrive%\BGInfo.exe" "%SystemDrive%\BGInfo.bgi" /Timer:0 /AcceptEula /Silent
)
::
ENDLOCAL 
```

您的 IMDISK 调用似乎很标准。那里看不到任何问题，但我没有能力对其进行测试。

我会仔细看看 FOR 循环。根据我的经验，当您将 FOR 循环嵌套在其他块中时，它们是敏感的。我经常得到各种奇怪的结果。尝试将 FOR 循环拉入单独的批处理文件以对其进行测试并找出任何错误。

如果您可以让 FOR 循环在单独的批处理文件中工作，但仍然不能在 IF ELSE 语句中工作，请尝试将 CALL 设置为包含 IMDISK 和 FOR 循环语句的标签。由于某种原因，使用 CALL 语句可以更好地处理嵌套。

这是使用 CALL 子例程的参考：[http ://www.quepublishing.com/articles/article.aspx?p=1154761&seqNum=11](http://www.quepublishing.com/articles/article.aspx?p=1154761&seqNum=11)

# debugging - 无法加载共享库符号，GDB

> ID：15239358
> 
> 赞同：1
> 
> 时间：2013-03-06T05:03:07.190
> 
> 标签：debugging, gdb, shared-libraries, mex

我正在`QSP.so`从 MATLAB 调用一个共享库 ( )。该库是用 C 语言编写的，并使用 mex 网关，数据通过共享库传递。我的 C 代码中似乎存在一些错误，因为我有以下问题：

1）在MATLAB中，当我调用网关函数时，MATLAB大部分时间都冻结了。2）当我使用GDB调试代码时，如[here](http://www.mathworks.com/help/matlab/matlab_external/debugging-c-c-language-mex-files.html)所述，并在入口函数（`QSP`）处设置断点，GDB不会在断点处停止并产生以下错误：

```
warning: Could not load shared library symbols for ./QSP.so.
Do you need "set solib-search-path" or "set sysroot"?

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0xb289db40 (LWP 4234)]
0xb72a7a0e in ?? () from /lib/i386-linux-gnu/libc.so.6 
```

我很确定网关没有问题，因为当我不调用共享库时，一切都很好。另一方面，如果没有任何调试器，就很难找到问题所在。所以，我想知道如何让 GDB 在断点处停止。

此外，以下是我的 Makefile：

```
CC = gcc
CFLAGS = -c -fpic -Wall -Werror -O3 -g

all: QSP.o ExtraRoutines.o
    $(CC) -shared -o QSP.so -g $^

QSP.o: QSP.c ExtraRoutines.c QSP.h 
    $(CC) $(CFLAGS) $^

ExtraRoutines.o: ExtraRoutines.c QSP.h
    $(CC) $(CFLAGS) $^

Moving:
    mv -f QSP.so ../

Clean:
    rm *.o 
```

可以看出，我对和文件都使用`-g`了标志`.o``.so`

任何帮助表示赞赏并提前感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:06:52.213

我认为答案在错误消息中，

```
Do you need "set solib-search-path" or "set sysroot"? 
```

也许在你的家 .gdbinit 中存储一个适当的设置，看看你是否可以帮助 gdb 找到符号表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-07-02T10:55:11.890

[如果其他人有此问题，答案与此问题](https://stackoverflow.com/questions/44896217/how-to-save-set-solib-search-path)中给出的相同。

您需要一个指向您的共享库的 .gdbinit 文件。我正在使用 Eclipse，我只是将我用这一行制作的 .gdbinit 提供给“附加到进程”配置以调试 c++ 程序。假设 .gdbinit 文件位于 Eclipse 项目的根目录中，该项目有一个共享库所在的 Debug 文件夹，则该行将是

```
set solib-search-path ./Debug/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-02-06T07:11:36.130

如我所见，您正在使用相对路径`QSP.so`。

尝试将目录更改为所在的路径`QSP.so`。

例如`QSP.so`在`/home/user/project/QSP.so`：

1.  `cd /home/user/project/`
2.  `gdb <app>`

# c# - 为什么我的 OrderBy 错误没有给出编译器警告？

> ID：15239367
> 
> 赞同：2
> 
> 时间：2013-03-06T05:03:40.650
> 
> 标签：c#, linq

我有这段代码来对我的数组进行排序，但我才意识到排序不起作用：

```
if(desc)items.OrderByDescending(x=>x.ExpirationDate);
else items.OrderBy(x=>x.ExpirationDate); 
```

正确的代码是：

```
if(desc)items=items.OrderByDescending(x=>x.ExpirationDate).ToArray();
else items=items.OrderBy(x=>x.ExpirationDate).ToArray(); 
```

但是为什么编译器（我同时使用 Mono 和 Visual C# 2010）没有给我错误，甚至没有警告？我是否缺少某些设置，或者 C# 编译器根本不可能意识到我的原始代码是无用的？如果是后者，是否有任何 lint 工具可以查找像这样的特定错误，我可以添加到我的编译中？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T05:06:45.087

调用函数并忽略结果是完全有效的。编译器不知道特定函数是纯函数还是有副作用。

我认为在这种情况下不会有错误/警告。

通常调用忽略结果的函数调用示例：[Dictionary.Remove](http://msdn.microsoft.com/en-us/library/kabs04ac.aspx) - 它实际上返回`true`/`false`与几乎所有其他`Dictionary`/`List`函数不同。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T05:08:29.623

因为它不是错误，所以编译器不会关心您是否不使用返回值。

如果您想要其他警告来告诉您类似的事情，请查看[JetBrains - ReShaper](http://www.jetbrains.com/resharper/)

# java - 计算文本文件中的行数、单词数和字符数

> ID：15239371
> 
> 赞同：4
> 
> 时间：2013-03-06T05:04:03.007
> 
> 标签：java, file, input

我正在尝试从用户那里获取输入，并打印文本文件中的行数、单词数和字符数。但是，只有字数是正确的，它总是为行和字符打印 0。

```
import java.util.*;
import java.io.*;

public class TextFileInfoPrinter
{  
    public static void main(String[]args) throws FileNotFoundException        
    { 
            Scanner console = new Scanner(System.in);           

            System.out.println("File to be read: ");
            String inputFile = console.next();

            File file = new File(inputFile);
            Scanner in = new Scanner(file);

            int words = 0;
            int lines = 0;
            int chars = 0;

            while(in.hasNext())
            {
                in.next();
                words++;
            }

            while(in.hasNextLine())
            {
                in.nextLine();
                lines++;
            }

            while(in.hasNextByte())
            {
                in.nextByte();
                chars++;
            }

            System.out.println("Number of lines: " + lines);
            System.out.println("Number of words: " + words);
            System.out.println("Number of characters: " + chars);
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T05:13:47.957

尝试

```
 int words = 0;
    int lines = 0;
    int chars = 0;
    while(in.hasNextLine())  {
        lines++;
        String line = in.nextLine();
        chars += line.length();
        words += new StringTokenizer(line, " ,").countTokens();
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T05:05:57.373

`in.next();`正在消耗第一个中的所有行`while()`。在第一个 while 循环结束后，输入流中不再有要读取的字符。

您应该**在**while 循环计数行中**嵌套**您的字符和字数计数。

 *** * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-29T00:17:54.810

我认为最好的答案是

```
int words = 0;
int lines = 0;
int chars = 0;
while(in.hasNextLine())  {
    lines++;
    String line = in.nextLine();
   for(int i=0;i<line.length();i++)
    {
        if(line.charAt(i)!=' ' && line.charAt(i)!='\n')
        chars ++;
    }
    words += new StringTokenizer(line, " ,").countTokens();
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T05:07:07.107

你认为有什么原因吗：

```
while(in.hasNext())
{
    in.next();
    words++;
} 
```

不会*消耗*整个输入流？

它*会这样做*，这意味着您的其他两个`while`循环将永远不会迭代。这就是为什么您的单词和行的值仍然设置为零的原因。

您最好一次读取文件一个字符，每次通过循环增加字符数，并检测字符以决定是否增加其他计数器。

基本上，无论你在哪里找到 a `\n`，增加行数 - 如果流中的最后一个字符不是 ，你可能也应该这样做`\n`。

而且，每当您从空白转换到非空白时，请增加字数（在流开始时可能会有一些棘手的边缘情况处理，但这是一个实现问题）。

您正在查看类似于以下伪代码的内容：

```
# Init counters and last character

charCount = 0
wordCount = 0
lineCount = 0
lastChar = ' '

# Start loop.

currChar = getNextChar()
while currChar != EOF:
    # Every character counts.

    charCount++;

    # Words only on whitespace transitions.

    if isWhite(lastChar) && !isWhite(currChar):
        wordCount++

    # Lines only on newline characters.

    if currChar == '\n':
        lineCount++;
    lastChar = currChar
    currChar = getNextChar()

# Handle incomplete last line.

if lastChar != '\n':
    lineCount++; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T11:35:15.983

```
while(in.hasNextLine())  {
        lines++;
        String line = in.nextLine();
        for(int i=0;i<line.length();i++)
        {
            if(line.charAt(i)!=' ' && line.charAt(i)!='\n')
        chars ++;
        }
        words += new StringTokenizer(line, " ,;:.").countTokens();
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T05:17:06.783

我同意@Cthulhu 的回答。在您的代码中，您可以重置您的`Scanner`对象 ( `in`)。

```
in.reset(); 
```

这将在文件的第一行重置您的 in 对象。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-06T05:19:40.587

您可以使用正则表达式为您计数。

```
String subject = "First Line\n Second Line\nThird Line";  
Matcher wordM = Pattern.compile("\\b\\S+?\\b").matcher(subject); //matches a word
Matcher charM = Pattern.compile(".").matcher(subject); //matches a character
Matcher newLineM = Pattern.compile("\\r?\\n").matcher(subject); //matches a linebreak

int words=0,chars=0,newLines=1; //newLines is initially 1 because the first line has no corresponding linebreak

while(wordM.find()) words++;
while(charM.find()) chars++;
while(newLineM.find()) newLines++;

System.out.println("Words: "+words);
System.out.println("Chars: "+chars);
System.out.println("Lines: "+newLines); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-06T05:07:42.380

当执行第一个 while 时，文件指针设置为文件末尾。尝试这个：

```
Scanner in = new Scanner(file);

        while(in.hasNext())
        {
            in.next();
            words++;
        }
        in = new Scanner(file);
        while(in.hasNextLine())
        {
            in.nextLine();
            lines++;
        }
        in = new Scanner(file);
        while(in.hasNextByte())
        {
            in.nextByte();
            chars++;
        } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-03-06T05:12:31.400

我不是 Java 专家，但我认为`.hasNext`,`.hasNextLine`和`.hasNextByte`都使用和递增相同的文件位置指示符。您需要通过创建一个新的扫描仪来重置它，如 Aashray 提到的那样，或者使用 RandomAccessFile 并`file.seek(0);`在每个循环后调用。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-11-27T03:53:31.630

```
import java.io.*;
class wordcount
{
    public static int words=0;
    public static int lines=0;
    public static int chars=0;
    public static void wc(InputStreamReader isr)throws IOException
    {
        int c=0;
        boolean lastwhite=true;
        while((c=isr.read())!=-1)
        {
            chars++;
            if(c=='\n')
                lines++;
            if(c=='\t' || c==' ' || c=='\n')
                ++words;
            if(chars!=0)
                ++chars;
        }   
       }
    public static void main(String[] args)
    {
        FileReader fr;
        try
        {
            if(args.length==0)
            {
                wc(new InputStreamReader(System.in));
            }
            else
            {
                for(int i=0;i<args.length;i++)
                {
                    fr=new FileReader(args[i]);
                    wc(fr);
                }
            }

        }
        catch(IOException ie)
        {
            return;
        }
        System.out.println(lines+" "+words+" "+chars);
    }
} 
```**

# windows - 调试时选择我的 win8 应用程序在哪个屏幕上启动

> ID：15239384
> 
> 赞同：0
> 
> 时间：2013-03-06T05:05:42.003
> 
> 标签：windows, debugging, windows-8, visual-studio-2012, multiscreen

简单的情况：我有两台显示器，我希望我的 win8 应用程序在屏幕 2 上启动，而屏幕 1 上仍然有 VS2012 处于调试模式。这样在断点上不需要上下文切换，我觉得它更舒服。

前几天，我有这种行为，并认为这很好。但是重启后我又回到了旧的行为：我的应用程序在与 VS2012 相同的屏幕上启动，屏幕 2 没有用。

有谁知道如何控制win8应用程序在哪个屏幕上启动，以及如何控制它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:29:24.857

在多显示器设置中，“现代风格”用户界面一次只能使用一个屏幕。可以通过将 Windows 应用商店应用程序（或开始屏幕）拖动到另一台显示器来更改使用的默认屏幕。要将应用程序拖到另一个显示器，请将鼠标移动到屏幕顶部并开始拖动（就像您要关闭或捕捉应用程序一样）并将其拖到另一个屏幕。

另一种选择是在另一台显示器上调出开始屏幕（将鼠标移动到目标屏幕的左下角并单击以打开开始屏幕）。

您会发现（至少在当前会话中）您的应用程序现在将在您希望的屏幕上启动。

# image - ppt与图像的超链接时超链接的位置

> ID：15239388
> 
> 赞同：0
> 
> 时间：2013-03-06T05:06:02.693
> 
> 标签：image, powerpoint

我将尝试使用程序（C# 或 Java）将 ppt 转换为图像。我可以在 Stackoverflow 中搜索此解决方案，但问题如下：

ppt 有一些超链接，例如“转到下一页”和“转到特定幻灯片”。

将 ppt 转换为图像时，如何知道超链接在图像的位置？

任何语言都可以....如果我能在图像中找出超链接的位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:19:53.607

Each slide has a hyperlinks collection that contains all of the hyperlinks on the slide. Look at each hyperlink's .Type property.

If .Type = msoHyperlinkShape, you can get the hyperlink's coordinates by walking the .Parent chain up to the parent shape; use the shape's coordinates.

If .Type = msoHyperlinkRange, the hyperlink has been applied to text rather than to a shape, so you walk up the .Parent chain to the textrange that represents the hyperlinked text. The text range will have BoundLeft, BoundTop, BoundHeight, BoundWidth properties that give you the coordinates of the hyperlink.

From there, it's ratios ...

LinkLeft / SlideWidth = x / ImageWidthInPixels

Solve for x to get the distance in pixels from the left of the image to the left of the hyperlink position.

# postgresql - 是否可以将 PostGIS 用于三维空间？

> ID：15239394
> 
> 赞同：1
> 
> 时间：2013-03-06T05:06:39.103
> 
> 标签：postgresql, postgis

我知道 PostGIS 非常适合地理对象。是否可以在 3D 或 4D 等中使用它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:15:03.283

它支持 2D、3DZ 和 4D 几何图形。看：

*   [http://postgis.net/docs/manual-2.0/ST_MakePoint.html](http://postgis.net/docs/manual-2.0/ST_MakePoint.html)
*   [http://postgis.net/docs/manual-2.0/PostGIS_Special_Functions_Index.html#PostGIS_TypeFunctionMatrix](http://postgis.net/docs/manual-2.0/PostGIS_Special_Functions_Index.html#PostGIS_TypeFunctionMatrix)

# java - java.net.SocketException 套接字已关闭

> ID：15239398
> 
> 赞同：10
> 
> 时间：2013-03-06T05:06:52.470
> 
> 标签：java, socketexception

我正在将客户端的对象发送到服务器，在服务器端修改该对象并将其重新发送给客户端。将对象表单客户端发送到服务器可以正常工作，但是当我将对象发送回时，它会给出异常套接字已关闭。这是代码。IntString 和 ParentObj 是我发送对象的类。

客户1类：

```
import java.net.*;
import java.io.*;

public class Client1 {
    public static void main(String args[]) {
        int arr[] = new int[10];
        int length = 6, i, counter_1;
        ParentObj obj1;
        for (i = 0; i < length; i++) {
            arr[i] = i + 10;
        }
        try {
            Socket s = new Socket("localhost", 6789);
            IntString obj = new IntString(arr, length);
            /*
             * OutputStream os = s.getOutputStream(); 
             * ObjectOutputStream oos = new ObjectOutputStream(os);
             * 
             * oos.writeObject(obj); 
             * oos.close(); 
             * os.close();
             */
            Send_recv snd = new Send_recv(s);
            snd.sendObj((ParentObj) obj);

            if (s.isClosed()) {
                System.out.println("Closed");
                // s.connect(null);
            }
            obj1 = snd.recObj();
            obj = (IntString) obj1;
            if (obj != null) {
                for (counter_1 = 0; counter_1 < obj.length_of_row; counter_1++) {
                    System.out.println(obj.row[counter_1]);
                    obj.row[counter_1]++;
                }
            }

            // s.close();

        } catch (Exception e) {
            System.out.println(e);
        }
    }
} 
```

服务器类

```
import java.net.*;
import java.io.*;

public class Server1 {
    public static void main(String args[]) {
        IntString obj;
        ParentObj obj1;
        int port = 6789, counter_1;
        try {
            ServerSocket ss = new ServerSocket(port);
            Socket s = ss.accept();
            Send_recv rev = new Send_recv(s);
            /*
             * InputStream is = s.getInputStream(); 
             * ObjectInputStream ois = new ObjectInputStream(is); 
             * IntString obj = (IntString)ois.readObject();
             */
            obj1 = rev.recObj();
            obj = (IntString) obj1;
            System.out.println(s.getInetAddress());
            System.out.println(s.getLocalAddress());
            if (obj != null) {
                for (counter_1 = 0; counter_1 < obj.length_of_row; counter_1++) {
                    System.out.println(obj.row[counter_1]);
                    obj.row[counter_1]++;
                }
            }
            if (ss.isClosed()) {
                System.out.println("Closed ss");

            }
            if (s.isClosed()) {
                System.out.println("Closed in Server");

            }
            Send_recv snd = new Send_recv(s);
            snd.sendObj((ParentObj) obj);

        } catch (Exception e) {
            System.out.println(e + "In Server");
        }

    }
} 
```

Send_recv 类用于发送和接收对象。

```
import java.io.*;
import java.net.*;

public class Send_recv {
    Socket s;
    IntString obj1;

    public Send_recv(Socket s) {
        this.s = s;
    }

    public void sendObj(ParentObj obj) {
        try {
            OutputStream os = s.getOutputStream();
            ObjectOutputStream oos = new ObjectOutputStream(os);
            oos.writeObject(obj);
            oos.close();
            os.close();
        } catch (Exception e) {
            System.out.println(e);
        }
    }

    public ParentObj recObj() {

        try {
            InputStream is = s.getInputStream();
            ObjectInputStream ois = new ObjectInputStream(is);
            obj1 = (IntString) ois.readObject();
            ois.close();
            is.close();

        } catch (Exception e) {
            System.out.println(e);
        }
        return (obj1);
    }
} 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-06T05:14:10.933

```
java.net.SocketException socket is closed 
```

这个异常意味着*你*关闭了套接字，然后继续尝试使用它。

```
os.close(); 
```

而你在这里关闭了它。关闭 a 的输入或输出流会`Socket`关闭另一个流，并且`Socket.`

# html - 如何使用 CSS 更改 Primefaces Picklist 的高度？

> ID：15239400
> 
> 赞同：1
> 
> 时间：2013-03-06T05:07:00.070
> 
> 标签：html, css

我们想改变`<ul ...>`标签的高度。标签内没有`id`。`<ul...>`我们只能知道`id`html表的。以下`html`代码由`JSF Primefaces`.

[Primefaces 选择列表](http://www.primefaces.org/showcase/ui/picklist.jsf)

```
<table id="roleEntryForm:resourceItem" class="ui-picklist ui-widget">
    <tbody>
        <tr>
            <td>
                <ul class="ui-widget-content ui-picklist-list ui-picklist-target ui-corner-all ui-sortable"></ul>
                <select id="roleEntryForm:resourceItem_target" class="ui-helper-hidden" multiple="true" name="roleEntryForm:resourceItem_target"></select>
            </td>   
            ....
        </tr>
        .....
    </tbody>
</table> 
```

![在此处输入图像描述](../Images/43a43407d45ea03f618649911d174182.png)

我使用了如下的 CSS，但它不起作用。

```
#roleEntryForm:resourceItem tr td ul {
    height:500px;
}

.ui-picklist .ui-picklist-list {
    height: 200px;
    list-style-type: none;
    margin: 0;
    overflow: auto;
    padding: 0;
    width: 200px;
}
.ui-corner-all {
    border-radius: 3px 3px 3px 3px;
}
.ui-widget-content {
    background: none repeat scroll 0 0 #FFFFFF;
    border: 1px solid #A8A8A8;
    color: #4F4F4F;
}
ul {
}

.ui-widget {
    font-size: 98% !important;
}
.ui-widget {
    font-family: Arial,sans-serif;
    font-size: 1.1em;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-22T06:51:09.293

Belwo 是更改选择列表 primeface 的高度和宽度的代码。这对我有用

```
<h:head>
<style>
.ui-picklist .ui-picklist-list{
height:500px;
width: 500px
}

</style>
</h:head> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-17T12:56:58.877

这适用于我的 chrome，但不适用于 Internet Explorer

`.ui-picklist .ui-picklist-list { height: 300px; margin: 0; overflow: auto; padding: 0; }`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-12T13:13:31.100

只需在 CSS 中添加您的选择列表的类名。会是这样`.className.ui-picklist`

# entity-framework-5 - Entity Framework 5 - 在插入 Db 之前创建实体之间的关系

> ID：15239403
> 
> 赞同：0
> 
> 时间：2013-03-06T05:07:10.067
> 
> 标签：entity-framework-5, entity-relationship

我现在正在学习 EF 5，但我遇到了一些问题。

我有 2 个不同的实体：

MainCategory 包含下一个字段：mainCatID（主键），categoryName

以及通过 mainCatID 连接到 MainCategory 的 SubCategory：mainCatID（外键）（称为 MainCategory）、subCatID（主键）、categoryName

我正在尝试做下一件事：1\. 创建主类别 2\. 在此主类别下创建 3 个子类别。3 执行 saveChanges 方法以便将这些更改应用到 DB

对于第 1 节，我没有问题，当我尝试创建子类别时，我不确定如何将新的主类别之间的关系应用于他的新子类别。

在创建 subCategories 时，我需要将它分配给每个 subCategory.MainCategory 它的“父亲”主类别（在键之间建立连接），但这个主类别在 Db 中尚不存在（因为我想在完成时使用 saveChanges()执行第 1 节和第 2 节），那么我如何“告诉”这些子类别“嗨，这是你的父亲，他在 DB 上还不存在，但他会存在”？或者换句话说，我如何在不首先添加父亲做数据库的情况下实现这种关系？

谢谢， 奥菲尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T05:26:18.487

我的问题是我试图通过原始 ID 设置关系，现在我明白必须用对象创建关系。

在上面的示例中，如果我想在 MainCategory 和 SubCategory 之间创建关系，我需要执行以下步骤：

1.  创建 mainCategory（将称为 mainC）对象。
2.  创建 subCategory（将称为 subC）对象。
3.  设置 subC.mainCategory = mainC;

感谢格特·阿诺德。

# html - 使用 CSS 移动图像/链接

> ID：15239405
> 
> 赞同：2
> 
> 时间：2013-03-06T05:07:28.413
> 
> 标签：html, css, image, hyperlink

我需要帮助解决我正在构建的网站遇到的这个小问题。我有一个包含指向不同网站链接的图像列表，大多数情况下一切看起来都很好，但是当我将鼠标悬停在该行的最后一个上时，下面的链接会出于某种奇怪的原因移动。我想不通！

想象一下它最初的样子：

```
[img1] [img2] [img3]
[img4] [img5] [img6] 
```

当我将鼠标悬停在右侧的任何图像/链接上时会发生这种情况：

```
[img1] [img2] [img3]
              [img4]
[img5] [img6] [img7] 
```

这是我的代码：

```
.sites{
float:left;
width:215px;
background: #eee;
text-align:center;
margin: 0px 13px 15px 0px;
border: 1px solid #ccc;
padding:10px;
}

.sites p{
margin:0px;
padding:10px;
font:bold;
}

.sites a{
border-bottom: 5px solid #000;
border-top: 5px solid #000;
display:block;
}

.sites a:hover{
border-bottom: #F90;
border-top: #f90;
} 
```

这是我的 HTML：

```
<div id="main-content">    
<h1> Check out all our DEADicated sites: </h1>
<div class="sites">
    <a href="http://www.eyeem.com/TheDEADicated" target="_blank">
    <img src="images/sites/eye-em.jpg" width="215" height="150" alt="EyeEm"/></a>
    <p> EyeEm </p>
</div>
<div class="sites">
    <a href="http://www.facebook.com/DeadSaraArg" target="_blank">
    <img src="images/sites/fb-argentina.jpg" width="215" height="150" alt="Facebook    Argentina"/></a>
    <p> Facebook - Argentina </p>
</div>
<div class="sites">     
    <a href="https://www.facebook.com/pages/The-DEADicated-Canada/427270554005649?ref=hl" target="_blank">
    <img src="images/sites/fb-canada.jpg" width="215" height="150" alt="Facebook Canada"/></a>
    <p> Facebook - Canada </p>
</div>

<div class="sites">
    <a href="http://www.facebook.com/ThedeadicatedEgypt" target="_blank">
    <img src="images/sites/fb-egypt.jpg" width="215" height="150" alt="Facebook Egypt"/></a>
    <p> Facebook - Egypt </p>

</div>
<div class="sites">
    <a href="http://www.facebook.com/DeadSaraItaly?ref=hl" target="_blank">
    <img src="images/sites/fb-italy.jpg" width="215" height="150" alt="Facebook Italy"/></a>
    <p> Facebook - Italy </p>
</div>
<div class="sites">     
    <a href="http://www.facebook.com/thedeadicatedmexico" target="_blank">
    <img src="images/sites/fb-mexico.jpg" width="215" height="150" alt="Facebook Mexico"/></a>
    <p> Facebook - Mexico </p>
</div>
<br/>
<div class="sites">
    <a href="http://www.facebook.com/DeadSaraTheDeadicatedUK" target="_blank">
    <img src="images/sites/fb-uk.jpg" width="215" height="150" alt="Facebook UK"/></a>
    <p> Facebook - UK </p>
</div>

</br><br><br>

<h2> To join TheDEADicated, click <a href="http://musichype.com/artists/dead-sara" target="_blank">HERE</a>! </h2>

</div> 
```

我对网页设计很陌生。请帮忙？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:09:24.080

如果没有 html，我不能肯定地说，但仅从您的 css 中，您的`.sites a:hover`规则应该设置`border-top-color: #F90; border-bottom-color: #F90;`，而不仅仅是边框顶部和边框底部。

# xml - XML 中的续行

> ID：15239406
> 
> 赞同：0
> 
> 时间：2013-03-06T05:07:31.190
> 
> 标签：xml, firefox, rdf

我正在使用 Firefox`localstore.rdf`文件。尽管它是一个 RDF 文件，但其语法本质上是 XML。我正在处理排长队。

```
<NC:persist RDF:resource="#nav-bar"
  currentset="unified-back-forward-button,history-button,feed-button,abp-toolbarbutton,widget:jid0-HFFmJoceGjTSKDBEWPpzfX9By7I@jetpack-hds-link-detector,firebug-button,personal-bookmarks"/> 
```

如果可能的话，我想打破这些行以适应 80 个字符。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:26:52.080

*您可以尝试 Firefox 是否为currentset*中的每个元素修剪空白：

```
<NC:persist RDF:resource="chrome://browser/content/browser.xul#nav-bar"
    currentset="unified-back-forward-button,history-button,feed-button,
        abp-toolbarbutton,
        widget:jid0-HFFmJoceGjTSKDBEWPpzfX9By7I@jetpack-hds-link-detector,
        firebug-button,personal-bookmarks"/> 
```

你需要测试它是否有效。根据[Firefox 来源](http://bzr.mozilla.org/bmo/qa/4.2/annotate/221/config/firefox/localstore.rdf)，他们始终将 currentset 属性保持在一行。

据我所知，即使在技术上使用 XML 也是可行的（请参阅[*XML 属性值中的换行符是否有效？*](https://stackoverflow.com/q/449627/367456)），我所知道的漂亮打印机不会跨多行分配属性值（请参阅[*Attribute-Value Normalization*](http://www.w3.org/TR/REC-xml/#AVNormalize)），所以我会如果您确实需要，请运行一些测试，因为这取决于应用程序期望的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:11:46.680

XML 不关心元素之间或元素内属性之间的空格。在可行的地方打破它。

* * *

一件*行不通*的事情是在属性值的中间换​​行。没有办法做到这一点。

# ios - 有什么方法可以限制核心数据中的重复条目？

> ID：15239407
> 
> 赞同：6
> 
> 时间：2013-03-06T05:07:34.093
> 
> 标签：ios, objective-c, core-data

我一直在尝试在核心数据中添加对象。所以，我希望它不应该允许核心数据存储中的重复条目。怎么做？这是我与保存数据相关的代码。

```
 -(IBAction)save:(id)sender
    {

        if([name.text isEqualToString:@""] && [address.text isEqualToString:@""] && [phone.text isEqualToString:@""])
        {

            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Yo..!"
                                                        message:@"Data Not Saved"
                                                       delegate:nil
                                              cancelButtonTitle:@"OK"
                                              otherButtonTitles:nil];
            [alert show];
        }
    else
    {
        coreDataAppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];

        NSManagedObjectContext *context = [appDelegate managedObjectContext];

        NSManagedObject *newContact;
        newContact = [NSEntityDescription
                      insertNewObjectForEntityForName:@"Contacts"
                      inManagedObjectContext:context];

        [newContact setValue:name.text forKey:@"name"];
        [newContact setValue:address.text forKey:@"address"];
        [newContact setValue:phone.text forKey:@"phone"];

        name.text = @"";
        address.text = @"";
        phone.text = @"";

        NSError *error;
        [context save:&error];

        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Yo..!"
                                                    message:@"Data Saved"
                                                   delegate:nil
                                          cancelButtonTitle:@"OK"
                                          otherButtonTitles:nil];
        [alert show];

         NSLog(@"Object Saved\n");

    }

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T10:35:20.800

由于没有可用的内置方法，您需要获取结果并检查结果是否包含您不想重复的对象。

这是代码片段：

```
-(void)checkForDuplicates
{
    NSEntityDescription *entity = [NSEntityDescription entityForName:@"Students"
                                          inManagedObjectContext:managedObjectContext];

    NSFetchRequest *request = [[NSFetchRequest alloc] init];
    [request setEntity:entity];

    NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"students"
                                                               ascending:NO];
    NSArray *sortDescriptors = [NSArray arrayWithObject:sortDescriptor];

    [request setSortDescriptors:sortDescriptors];
    [sortDescriptor release];

    NSError *Fetcherror;
    NSMutableArray *mutableFetchResults = [[managedObjectContext
                                        executeFetchRequest:request error:&Fetcherror] mutableCopy];

   if (!mutableFetchResults) {
        // error handling code.
    }

    if ([[mutableFetchResults valueForKey:@"users"]
         containsObject:name.text]) {
        //notify duplicates
        return;
    }
    else
    {
         //write your code to add data
    }
} 
```

希望这可以帮助你！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:06:22.420

不，coredata 没有内置的唯一性，因为它不是数据库。

* * *

您必须确保程序逻辑的唯一性。

例如，通常，一个人对一个应该是唯一的条目进行提取，如果该提取有 1 个条目，则不要添加另一个条目，否则添加它！

==> 这适用于串行 CD 访问，但在多线程环境中运行的多个上下文可能会变得复杂

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-09-14T02:18:25.267

我认为最好的方法是使用谓词调用*countForFetchRequest*方法来评估您的商店是否有匹配的对象。由于这种类型的请求不会拉回任何对象，因此它应该比其他解决方案具有更高的性能。这是添加到 NSManagedObject 子类的 Swift 2.0 实现。

```
 func tokenExists (aToken:String) -> Bool {
        let request: NSFetchRequest = NSFetchRequest(entityName: self.className!)

        let predicate = NSPredicate(format: "token == %@", argumentArray: [aToken])

        request.predicate = predicate

        let error: NSErrorPointer = nil

        let count = self.managedObjectContext!.countForFetchRequest(request, error: error)

        if count == NSNotFound {
            return false
        }
        return true
    } 
```

> 注意 - （可以用任何你喜欢的相等标准代替谓词，但请记住，如果可能的话，你应该使用一个数字标识符，如果有可用的〜以获得最佳性能）

用法：

然后可以在插入过程中使用上面的函数：

```
func insertToken (value:String) {

        if  !tokenExists(value) {
            self.token = value
            saveState()
        }

    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T10:07:51.057

在 Core Data 中没有重复条目这样的东西，至少就 Core Data 而言。不是从数据库的角度来看它。这是有道理的，因为 Core Data 不是数据库，而是对象图管理系统。

因此，为了防止重复，您需要先进行搜索，然后如果搜索`NULL`只返回然后保存，否则什么也不做。

[本文](http://www.theappcodeblog.com/2011/09/20/iphone-app-development-tutorial-core-data-duplicate-entities/)为您提供了可以根据需要自定义的代码

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-05-25T12:06:01.920

让我从 Apple 示例代码本身提出最佳方法。请参阅示例代码“ThreadedCoreData”了解更多信息。

[https://developer.apple.com/library/content/samplecode/ThreadedCoreData/Introduction/Intro.html](https://developer.apple.com/library/content/samplecode/ThreadedCoreData/Introduction/Intro.html)

```
 // before adding the earthquake, first check if there's a duplicate in the backing store
    NSError *error = nil;
    Earthquake *earthquake = nil;
    for (earthquake in earthquakes) {
        fetchRequest.predicate = [NSPredicate predicateWithFormat:@"location = %@ AND date = %@", earthquake.location, earthquake.date];

        NSArray *fetchedItems = [self.managedObjectContext executeFetchRequest:fetchRequest error:&error];
        if (fetchedItems.count == 0) {
            // we found no duplicate earthquakes, so insert this new one
            [self.managedObjectContext insertObject:earthquake];
        }
    } 
```

# ruby-on-rails-3 - CarrierWave default_url 未触发

> ID：15239412
> 
> 赞同：0
> 
> 时间：2013-03-06T05:08:22.010
> 
> 标签：ruby-on-rails-3, carrierwave

我很难让这个工作。现在我在我的视图页面上使用 image_tag 助手。如果没有加载图像，我需要它使用 Carrierwave 的后备，而不是仅仅抛出错误。

对于我的设置，我使用雾进行存储，我觉得这可能是问题的一部分。

```
def default_url
  asset_path("fallback/default.jpg")
end 
```

Carrierwave 是否只找到任何未设置的图像？或者是否有一些特殊的方式我应该获取图像 url 以使其工作？这就是我现在所拥有的。

```
<%= image_tag(property.assets.first!.image_url, :width => "200") %> 
```

**资产.rb**

```
require 'file_size_validator'
class Asset < ActiveRecord::Base
  validates :image_url, uniqueness: true
  validates :image_url, allow_blank: true, format: {
      with: %r{\.(gif|jpg|png)$}i,
      message: 'must be a URL for GIF, JPG or PNG image.'
  },
            :file_size => {
                :maximum => 0.5.megabytes.to_i
            }

  attr_accessible :image_url, :property_id
  belongs_to :property
  mount_uploader :image_url, ImageUploader

end 
```

**属性.rb**

```
 validates :street_address, :city, :state, :description, :price, :deposit, :beds, :baths, :presence => true
  validates :street_address, :uniqueness => true
  validates :price, :deposit, numericality: {greater_than_or_equal_to: 0.01}

  has_many :assets, :dependent => :destroy

  attr_accessible :street_address, :street_address2, :city, :state, :zip, :country, :description, :price, :beds, :baths,
                  :deposit, :availability, :leased, :sqft, :pets
  attr_accessible :assets_attributes
  accepts_nested_attributes_for :assets, :reject_if => lambda { |p| p[:image_url].blank? }, :allow_destroy => true 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:42:30.070

尝试`<%= image_tag(property.assets.first!.image_url.url, :width => "200") %>`

假设您在 rails 控制台中，并且您有一个带有图像的资产。虽然`Asset.first.image_url`看起来它返回了类似 url 的东西（假设您使用的是远程存储），但它实际上不是一个字符串，它是一个上传器。`Asset.first.image_url.class`将返回`ImageUploader`。要获取url，您需要添加调用`url`上传者的方法。

# xcode4.5 - 为什么 Xcode 说我的团队没有设备可用于开发，而 iPhone 设备显然已连接

> ID：15239414
> 
> 赞同：0
> 
> 时间：2013-03-06T05:08:30.487
> 
> 标签：xcode4.5, publishing

您的团队没有可为其生成配置文件的设备。请连接设备以用于开发，或使用供应门户手动添加设备 ID。 [https://developer.apple.com/devcenter/iOS](https://developer.apple.com/devcenter/iOS)

好的。所以它说我没有设备。请连接设备。将设备连接到什么？我的 iPhone 已经连接到 iMac

去 [https://developer.apple.com/devcenter/iOS](https://developer.apple.com/devcenter/iOS)

最终让我看到：

我们无法处理您的请求。

请返回上一页，或退出浏览器并重试您的请求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:10:34.070

连接设备，然后转到 xcode 中的管理器选项卡，选择连接的设备，然后在左侧窗格中，单击“使用此设备进行开发”

# css - 标签 css 修改

> ID：15239416
> 
> 赞同：0
> 
> 时间：2013-03-06T05:08:47.887
> 
> 标签：css

我在css方面没有太多经验，我希望在这里找到帮助:)

我的博客支持标签元素，这就是它的外观

![我博客中的当前标签](../Images/a5b72e940ac4354f0d42d80c4497a7a3.png)

我正在尝试删除围绕选项卡内容的左右边框并使其看起来像这样

所需的输出（标签边框（水平）线在页面两个方向上展开）

![在此处输入图像描述](../Images/7dccaeb4e53e0f313946953690c10f97.png)

```
/* Tabs
====================================*/
.tabs-nav {
list-style: none;
margin: 0;
overflow: hidden;
padding: 0;
width: 100%;
}

.tabs-nav li {
float: left;
line-height: 38px;
overflow: hidden;
padding: 0;
position: relative;

}

.tabs-nav li a {
background-color: #f8f8f8;
border: 1px solid #e0e0e0;
border-right: none;
color: #888;
font-weight: 500;
display: block;
letter-spacing: 0;
outline: none;
padding: 0 20px;
text-decoration: none;
-webkit-transition: all 200ms ease-in-out;
-moz-transition: all 200ms ease-in-out;
-o-transition: all 200ms ease-in-out;
-ms-transition: all 200ms ease-in-out;
transition: all 200ms ease-in-out;
} 

.tabs-nav li:first-child a { border-left: 1px solid #e0e0e0; }
.tabs-nav li:last-child a { border-right: 1px solid #e0e0e0; }

.tabs-nav li.active a { color: #333; font-weight: 500; }
.tabs-nav li.active i:before  { color: #555; }

.tabs-nav li i:before { color: #909090; }
.tabs-nav li span { margin-left: -7px; }
.tabs-nav li.active a i {opacity: 1; filter: alpha(opacity=100);}
.tabs-nav li i {opacity: 0.64; filter: alpha(opacity=64); margin: 10px 0 0 0; }

.tabs-nav li a:hover  { background: #fff; }

.tabs-nav li.active a {
background: #fff;
border-bottom: 1px solid #fff;
}

.tab-content {padding: 20px;}
.shop-page .tab-content table p,
.tab-content p { margin: 0px;}
.shop-page .tab-content p {
margin-bottom: 20px;
}
.tabs-container {
border: 1px solid #e0e0e0;;
margin: -1px 0 20px;
overflow: hidden;
width: 100%;
line-height: 21px;
-webkit-box-shadow:  0px 2px 0px 0px rgba(0, 0, 0, 0.03);
box-shadow:  0px 2px 0px 0px rgba(0, 0, 0, 0.03);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:20:09.057

改成 ：

```
/* Tabs
====================================*/
.tabs-nav {
list-style: none;
margin: 0;
overflow: hidden;
padding: 0;
width: 100%;
}

.tabs-nav li {
float: left;
line-height: 38px;
overflow: hidden;
padding: 0;
position: relative;

}

.tabs-nav li a {
background-color: #f8f8f8;
border: 1px solid #e0e0e0;
border-right: none;
color: #888;
font-weight: 500;
display: block;
letter-spacing: 0;
outline: none;
padding: 0 20px;
text-decoration: none;
-webkit-transition: all 200ms ease-in-out;
-moz-transition: all 200ms ease-in-out;
-o-transition: all 200ms ease-in-out;
-ms-transition: all 200ms ease-in-out;
transition: all 200ms ease-in-out;
} 

.tabs-nav li:first-child a { border-left: 1px solid #e0e0e0; }
.tabs-nav li:last-child a { border-right: 1px solid #e0e0e0; }

.tabs-nav li.active a { color: #333; font-weight: 500; }
.tabs-nav li.active i:before  { color: #555; }

.tabs-nav li i:before { color: #909090; }
.tabs-nav li span { margin-left: -7px; }
.tabs-nav li.active a i {opacity: 1; filter: alpha(opacity=100);}
.tabs-nav li i {opacity: 0.64; filter: alpha(opacity=64); margin: 10px 0 0 0; }

.tabs-nav li a:hover  { background: #fff; }

.tabs-nav li.active a {
background: #fff;
border-bottom: 1px solid #fff;
}

.tab-content {padding: 20px;}
.shop-page .tab-content table p,
.tab-content p { margin: 0px;}
.shop-page .tab-content p {
margin-bottom: 20px;
}
.tabs-container {
border-top-width:1px;
border-right-width:0px;
border-bottom-width:0px;
border-left-width:0px;
margin: -1px 0 20px;
overflow: hidden;
width: 100%;
line-height: 21px;
} 
```

# php - 如何在 SQL 语句中使用引号和 PHP 中的 MySQLi 准备语句？

> ID：15239417
> 
> 赞同：1
> 
> 时间：2013-03-06T05:08:54.060
> 
> 标签：php, mysql, mysqli, prepared-statement, statements

我正在使用准备好的语句对我的数据库执行 SELECT 查询，但是 SQL 语法的性质导致 MySQLi 出现问题。

当我尝试准备时：

```
SELECT user_id FROM Users WHERE email='?'; 
```

我收到一个错误

```
Warning: mysqli_stmt_bind_param(): Number of variables doesn't match number of parameters in prepared statement 
```

我知道错误是由于在 ? 周围加上引号引起的 但问题是这些引号是 SQL 语法正确所必需的。如果我删除引号，准备好的语句可以工作，但数据库不会返回它应该返回的内容。

有什么我可以做的，或者这是界面的限制？如果这是一个限制，我该怎么做才能在准备好的语句安全的情况下执行此查询？

完整代码：

```
$email = $_POST["email"];    
$sql = "SELECT user_id,fname,city,state,zip FROM Users WHERE email='?';";
            $types = 's';
            $stmt = $db_obj->prepare($sql);
            if (!mysqli_stmt_bind_param($stmt, $types, $email)) {
                echo "SQL Bind Parameter error.<br/>";
                exit;
            }
            if (!mysqli_stmt_execute($stmt)) {
                echo "SQL Statement Execute error.<br/>";
                exit;
            }
if (!isset($row[0]))
    exit ("No such email registered."); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:12:33.427

正如@lc 上面发布的那样，准备好的语句总是将电子邮件作为字符串而不是参数传递给 MySQL，所以我删除了引号，知道它们不需要解决我的问题。

事实证明，我没有在语句执行后绑定输出变量，所以即使准备好的语句正确完成，我也没有正确读取响应。

我补充说：

```
mysqli_stmt_bind_result($stmt, $user_id, $fname, $city, $state, $zip);
mysqli_stmt_fetch($stmt);

if (empty($user_id))
    exit ("No such email registered."); 
```

由于数据库结果现在已正确绑定到变量，因此变量`$userid`现在保存了预期的数据库中的数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:14:50.157

正确的语法是`SELECT user_id FROM Users WHERE email=?`. 您的准备好的语句未返回“正确”结果的问题必须来自：

*   包含与您预期不同的值的参数
*   或者，数据库中的数据不是您所期望的

请注意，在您的查询*中*`SELECT user_id FROM Users WHERE email='?'`，`?`不是参数。它是字符串文字“？”。此查询将搜索表中列包含*值“？”的任何行。*.*`Users``email`*

 *** * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:38:24.563

请删除上的引号？标记。

```
$stmt = $mysqli->prepare("SELECT user_id,fname,city,state,zip FROM Users WHERE email=?");

/* bind parameters for markers */
$stmt->bind_param("s", $email);

/* execute query */
$stmt->execute(); 
```

尝试这个。**

# python - 使用带有 django-registration 字段的 django-bootstrap-toolkit 来删除标签

> ID：15239418
> 
> 赞同：2
> 
> 时间：2013-03-06T05:09:17.110
> 
> 标签：python, django, django-registration

我对两者都很`django`陌生`django-bootstrap-toolkit`

`{{form.username}}`我正在尝试设置我使用 django-registration 运行的登录表单的样式，但无法弄清楚如何`{{form.password}}`使用`django-bootstrap-toolkit`.

我想删除这些字段的标签，并在其中添加“占位符文本”。

我试过`{{ form.username|as_bootstrap }}`了，它提供了一些样式，但我不知道如何删除标签并将占位符文本添加到这些字段。

我发现的大多数示例都涉及处理 form.py，但我不确定如何进入该模块进行 django-registration（同样我对此很陌生）

我很感激时间和专业知识。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:14:46.730

您可以在 forms.py 中制作自己的表单，如下所示：

```
from registration.forms import RegistrationForm

class FormLogin(RegistrationForm):
    username = forms.CharField(label='',
        widget=forms.TextInput(
            attrs={'placeholder':'Username'}
        )
     )

    password = forms.CharField(label='',
        widget=forms.PasswordInput(
        attrs={'placeholder':'Password'}
        )
    ) 
```

然后在你的 urls.py 中：

```
from registration.views import register
import registration.backends.default.urls as regUrls
from forms import FormLogin

url(r'^accounts/register/$', register, {'form_class': FormLogin}, 
name='registration_register')    
(r'^accounts/', include(regUrls)), 
```

# ruby - 如何使用 ri_cal 创建带有标题的 .ics 事件

> ID：15239420
> 
> 赞同：0
> 
> 时间：2013-03-06T05:09:37.797
> 
> 标签：ruby, icalendar

我正在使用`ri_cal`gem 来创建 ics 文件。gem 的文档建议我这样做：

```
RiCal.Calendar do |cal|
  cal.event do |event|
    event.description = "MA-6 First US Manned Spaceflight"
    event.dtstart =  DateTime.parse("2/20/1962 14:47:39")
    event.dtend = DateTime.parse("2/20/1962 19:43:02")
    event.location = "Cape Canaveral"
    event.add_attendee "john.glenn@nasa.gov"
    event.alarm do
      description "Segment 51"
    end
  end
end 
```

但是当我打开在 OS X 日历中创建的 .ics 文件时，该事件没有标题。仅描述已按描述进行设置。

如何设置活动的标题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:09:37.797

使用`event.summary`：

```
RiCal.Calendar do |cal|
  cal.event do |event|
    event.summary = "The 'title' of the event"
    event.description = "MA-6 First US Manned Spaceflight"
    event.dtstart =  DateTime.parse("2/20/1962 14:47:39")
    event.dtend = DateTime.parse("2/20/1962 19:43:02")
    event.location = "Cape Canaveral"
    event.add_attendee "john.glenn@nasa.gov"
    event.alarm do
      description "Segment 51"
    end
  end
end 
```

[ri_cal/properties/event.rb](https://github.com/rubyredrick/ri_cal/blob/master/lib/ri_cal/properties/event.rb)包含您可以设置的完整属性列表。

# android - Android如何删除html字符串中的特定数据？

> ID：15239422
> 
> 赞同：1
> 
> 时间：2013-03-06T05:09:46.097
> 
> 标签：android, html, dynamic-data

在我的应用程序中，我使用 url 在该字符串中获取 html 字符串。如果它存在，我想要`remove`任何 。我该怎么做？`div``id ="xyz"`

`edit`：这里我的 Html 字符串是`dynamic data.`

任何人都可以就如何做到这一点给出一些提示/建议。如果您停下来并提出一些想法，非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:28:07.220

Let`response`是**String**类型，它包含整个**HTML**响应。

```
if (response.contains("<div") == true)
{
   String resp = response.subString(response.indexOf("<div"), response.indexOf("</div>"));
   if (resp.contains("id=\"xyz\"") == true)
       response.replace(resp, "");
} 
```

这只是一个演示代码，让您了解如何实现它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:03:35.787

```
String htmltext="<html>body</html>"+

   "<div id ='xyz'>hello Venkat</div>" +
   "<div id ='zyx'>hello my friend</div>";
System.out.println(htmltext.indexOf("<div id ='xyz'>"));
String starttext=htmltext.substring(0, htmltext.indexOf("<div id ='xyz'>"));
System.out.println(htmltext.indexOf("</div>", htmltext.indexOf("<div id ='xyz'>")));
String finalstring=starttext.concat((String) htmltext.subSequence(htmltext.indexOf("  </div>", htmltext.indexOf("<div id ='xyz'>")+3), htmltext.length()));
System.out.println("final string is."+finalstring); 
```

> 在方法中设置此代码并调用此代码，直到标签被删除

# xml - 无论特定 Id 如何，如何使用 XPath 选择类别 XML 节点？

> ID：15239425
> 
> 赞同：1
> 
> 时间：2013-03-06T05:09:57.097
> 
> 标签：xml, xpath, xmlnode

在 C# 中，我使用以下代码将 XML 文件读入 XmlDocument。在这样做时，我试图选择所有“类别”节点，而不管它们使用 XPath 的特定类别 ID。我总共有 200 多个类别，因此逐个选择它们并不是一个真正的选择。

我已经尝试了无数的“类别”、“/类别”、“//目录/类别”等变体。但是 nodeList 总是返回 null。我也尝试过关注以下网站以及其他许多网站。任何帮助或指导将不胜感激。

[w3学校](http://www.w3schools.com/xpath/)

[XPath 示例 - MSDN](http://msdn.microsoft.com/en-us/library/ms256086.aspx)

```
var doc = new XmlDocument();
doc.Load(filename);

XmlNodeList nodeList;
XmlNode root = doc.DocumentElement;

nodeList = root.SelectNodes("/catalog/category")

// Sample XML Document 

<?xml version="1.0" encoding="UTF-8"?>
<catalog xmlns="http://www.site.com/catalog/2012-10-31" catalog-id="sports">
    <header>
        <image-settings>
            <internal-location base-path="/"/>
            <view-types>
                <view-type>large</view-type>
                <view-type>small</view-type>
                <view-type>swatch</view-type>
            </view-types>
            <alt-pattern>${productname}</alt-pattern>
            <title-pattern>${productname}</title-pattern>
        </image-settings>
    </header>

    <category category-id="root">
        <display-name xml:lang="x-default">Store Catalog</display-name>
        <description xml:lang="x-default">Holds categories for Store</description>
        <online-flag>true</online-flag>
        <template/>
        <page-attributes>
            <page-title xml:lang="x-default">Store Catalog</page-title>
            <page-description xml:lang="x-default">Welcome to the Store</page-description>
        </page-attributes>
        <custom-attributes>
            <custom-attribute attribute-id="enableCompare">false</custom-attribute>
            <custom-attribute attribute-id="showInMenu">false</custom-attribute>
        </custom-attributes>
        <refinement-definitions>
            <refinement-definition type="category" bucket-type="none">
                <display-name xml:lang="x-default">Category</display-name>
                <sort-mode>category-position</sort-mode>
                <cutoff-threshold>5</cutoff-threshold>
            </refinement-definition>
        </refinement-definitions>
    </category>

    <category category-id="whats-new">
        <display-name xml:lang="x-default">NEW</display-name>
        <online-flag>true</online-flag>
        <parent>root</parent>
        <position>25.0</position>
        <template>rendering/category/categoryproducthits</template>
        <page-attributes>
            <page-title xml:lang="x-default">What's New - New at Store</page-title>
            <page-description xml:lang="x-default">Learn what's new at the store.</page-description>
        </page-attributes>
        <custom-attributes>
            <custom-attribute attribute-id="contentOnly">false</custom-attribute>
            <custom-attribute attribute-id="displaySubNav">false</custom-attribute>
            <custom-attribute attribute-id="dropdownNavSlot1">dropdown-left7</custom-attribute>
            <custom-attribute attribute-id="enableCompare">false</custom-attribute>
            <custom-attribute attribute-id="enableslotat3">true</custom-attribute>
            <custom-attribute attribute-id="enableslotat4">true</custom-attribute>
            <custom-attribute attribute-id="enableslotat9">true</custom-attribute>
            <custom-attribute attribute-id="showInMenu">true</custom-attribute>
            <custom-attribute attribute-id="showShadeSelector">false</custom-attribute>
            <custom-attribute attribute-id="showSubCollectionsAsTabs">false</custom-attribute>
        </custom-attributes>
    </category>

// cut for brevity - the above category nodes are the same format as the rest of the XML document. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T09:41:22.333

由于您的 XML 使用显式命名空间，因此您似乎必须在 SelectNodes 方法中指定它：

```
 XmlNamespaceManager nsmgr = new XmlNamespaceManager(doc.NameTable);
 nsmgr.AddNamespace("cc", "http://www.site.com/catalog/2012-10-31");
 XmlNodeList nodelist = doc.SelectNodes("/cc:catalog/cc:category", nsmgr); 
```

# coffeescript - coffeescript vs typescript vs JSX vs dart vs fantom

> ID：15239426
> 
> 赞同：2
> 
> 时间：2013-03-06T05:10:33.000
> 
> 标签：coffeescript, dart, typescript, jsx, fantom

TypeScript 网站提供了以下 D3 示例，是否对以下可用语言的相同 D3 代码进行了比较：

*   咖啡脚本
*   打字稿
*   JSX
*   镖
*   幻影

有兴趣看看哪个更容易使用？

先感谢您。

# java - 如何从我的应用程序中获取日志文件名。属性文件

> ID：15239430
> 
> 赞同：3
> 
> 时间：2013-03-06T05:11:13.947
> 
> 标签：java, log4j

以下是文件：

应用程序属性

```
log.name.error=error.log
log.name.warn=warning.log 
```

log4j.xml

```
<appender name="allLog" class="org.apache.log4j.DailyRollingFileAppender">
    <param name="File" value="../Framework/logs/log.log" />
    <param name="DatePattern" value="'.'yyyy-MM-dd"/>
    <layout class="org.apache.log4j.PatternLayout">
        <param name="ConversionPattern" value="%-5p - %m%n [%c:%M] (%F:%L)%n" />
    </layout>
</appender> 
```

我不想硬编码文件名 ( `log.log`)，而是想从 application.properties 文件中获取文件名。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:16:32.763

如果您的`properties`文件被加载到 中`classpath`，那么您可以使用属性占位符来访问它。

```
<param name="File" value="../Framework/logs/${log.name.error}" /> <!-- ${property placeholder} --> 
```

# magento - 无法在一个订单中添加多个产品数量 MAGENTO

> ID：15239431
> 
> 赞同：0
> 
> 时间：2013-03-06T05:11:14.727
> 
> 标签：magento, cart

我在我的magento网站上遇到了一个非常奇怪的问题，问题是当我从前端添加特定产品的数量以进行订购时，它适用于一个项目，但是当我在同一个订单中添加另一个不同的项目时试图增加它的数量它限制了我下一个项目的唯一一项，请向我提出一些想法，我可以如何解决这个问题： http: [//www.debreiboerderij.nl](http://www.debreiboerderij.nl)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:23:04.543

[Magento：将产品最大数量限制为每个订单 1 个。数量 2 = 2 个订单](https://stackoverflow.com/questions/10856770/magento-limit-product-max-quantity-to-1-per-order-quantity-2-2-orders)

# c# - 如何使用 Windows 商店应用程序编程从 Windows 8 中的特定文件夹中获取文件？

> ID：15239432
> 
> 赞同：0
> 
> 时间：2013-03-06T05:11:15.807
> 
> 标签：c#, windows-8, windows-store-apps

如何在 Windows 8 中使用 C# 中的 Windows 商店编程访问此路径“AppData\Roaming\Microsoft\Windows\Recent”并从此路径“AppData\Roaming\Microsoft\Windows\Recent”获取文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:22:55.827

您无法从 Windows 应用商店应用访问此位置。这些应用程序在沙盒环境中运行，它们只能访问有限的一组位置。默认情况下，这些是：

*   应用安装目录（在里面`c:\Program Files\WindowsApps\`，你的应用的子文件夹而已）
*   应用程序日期位置（仅在`c:\Users\Username\AppData\Local\Packages\`您的应用程序的子文件夹内）
*   用户的下载文件夹（仅限您的应用创建的文件和文件夹）

通过请求附加功能，您还可以访问：

*   用户的文档库
*   用户的音乐库
*   用户的图片库
*   用户的视频库
*   可拆卸设备

通过使用[`FileOpenPicker`](http://msdn.microsoft.com/en-us/library/windows/apps/windows.storage.pickers.fileopenpicker.aspx)或[`FolderPicker`](http://msdn.microsoft.com/en-us/library/windows/apps/windows.storage.pickers.folderpicker.aspx)您还可以访问用户选择的任何文件或文件夹。

# jquery - .load 不适用于更改 div 的内容

> ID：15239439
> 
> 赞同：1
> 
> 时间：2013-03-06T05:11:50.497
> 
> 标签：jquery, twitter-bootstrap, jquery-selectors

我正在尝试使用 .load 更改 onclick 事件中特定 div 的内容，由于某种原因它不起作用，我不知道为什么。我正在尝试复制此帖子中要求的完全相同的内容[https://stackoverflow.com/questions/3432553/how-to-load-replace-an-entire-div-from-an-external-html-文件](https://stackoverflow.com/questions/3432553/how-to-load-replace-an-entire-div-from-an-external-html-file)

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script type="text/javascript">

$(document).ready(function() {

$('#electric').bind('click',function(){
    $("#chart_div").load("new_content.html");
 });
});

</script> 
```

html

```
<div id="container">
      <div id="chart_div">hello</div>
</div>
    <ul class="nav nav-pills">
    <li class="active">
    <a id="electric" href="#">Electric link</a>
    <li class="active">
    <a href="#">Gas</a>
</ul> 
```

new_content.html

```
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Graph</title>
</head>
<body>
    <p>New Content!</p>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:02:25.957

你必须 .ready 函数来运行点击事件....因为当文档准备好时，只有你可以处理点击事件

```
 $(document).ready(function(){
 $("#electric").click(function(e){
 $("#chart_div").load("new_content.html");
 });
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:14:14.977

1.6

```
$('#electric').live('click',function(){
//your code
}); 
```

从 1.9 版本开始使用 on() ..

```
$(document).on('click','#electric',function(){
//your code..
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:18:01.467

试试这个：

```
<script type="text/javascript">
  $(function(){
    $("#electric").click(function(e){
       e.preventDefault();
       $("#chart_div").load("new_content.html");
    });
  });
</script> 
```

您不需要定位`#chart_div`，因为它不在`new_content.html`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:18:03.513

无需多做，只需

```
$(document).ready(function(){
    $("#electric").click(function(e){
        e.preventDefault();
        $("#chart_div").load("new_content.html");
    });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T05:19:07.320

一些变化，

您缺少 http: 在您的脚本标签中，

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script> 
```

在“ON”事件上触发你的脚本

```
$(function (){
    $("#electric").on('click',function(){
      $("#chart_div").load("new_content.html #chart_div");
    });
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T05:23:26.520

`$(function (){`代码中缺少。将您的代码包装在`document.ready`您没有做的内部。

```
$(function()
{
    $("#electric").on('click',function()
    {
        $("#chart_div").load("new_content.html #chart_div");
    });
}); 
```

# c# - 从类对象列表中检索字段数据

> ID：15239442
> 
> 赞同：0
> 
> 时间：2013-03-06T05:12:03.977
> 
> 标签：c#, list, collections, dictionary

我最终试图存储顶点数据：x，y，z。我正在比较两种不同的集合类型来存储数据：`List<T>`和`Dictionary<K,V>`. 两者都包含相同的公共类数据。注意差异；我的列表使用了一个构造函数（我稍后添加到列表中），我的 dict 使用一种方法添加到 dict：

我的列表

```
class Node1: List<Node1>
{
    public int nid;
    public double x, y, z;
    public Node1() {}
    public Node1(string strLine)
    {
        nid = int.Parse(strLine.Substring(8, 8));
        x = double.Parse(strLine.Substring(24, 8));
        y = double.Parse(strLine.Substring(32, 8));
        z = double.Parse(strLine.Substring(40, 8));
    }
} 
```

还有这个…… 字典

```
public struct loc
{
    public double x, y, z;
}
public class Node2: Dictionary<int,loc>
{
    public int nid;
    public void Add(string strLine)
    {
        // collect the dictionary KEY
        nid = int.Parse(strLine.Substring(8, 8));
        // collect the dictionary VALUE
        loc data;
        data.x = double.Parse(strLine.Substring(24, 8));
        data.y = double.Parse(strLine.Substring(32, 8));
        data.z = double.Parse(strLine.Substring(40, 8));
        this.Add(nid, data);
    }
} 
```

在我的主要内容中，我读入了一个带有顶点数据的文本文件并执行了以下操作（很多内容已被删除）：

```
var Nodes1 = new Node1();
var Nodes2 = new Node2();

string strLine;

Nodes1.Add(new Node1(strLine));
Nodes2.Add(strLine); 
```

两个集合现在都包含相同的数据。

现在问题来了。我正在寻找具有等于 1001 的 int“nid”的类的特定实例，并且我想找到相应的双精度“x”的值。为了稍微澄清一下（因为我只是把自己弄糊涂了），我可以通过执行以下操作来检查是否存在包含 nid=1001 的实例：

```
// does the entry exist - LIST
bool here1 = Nodes1.Exists(var => var.nid == 1001);

// does the entry exist - DICTIONARY
bool here2 = Nodes2.ContainsKey(1001); 
```

要从包含 nid=1001 的对象（对于字典）中获取双“x”，我这样做：

```
double here3 = Nodes2[1001].x; 
```

但我无法弄清楚如何从 List 集合中获取数据。也许是因为 List 集合不是为此目的而设计的。但是，如果可能的话，我如何从列表中得到相同的结果？

也许有人也可以解释另一种（更好的）方法吗？我仍然不太了解为什么/何时使用 LIST 和 DICTIONARY 集合，因为似乎有 100 种方法可以做同样的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:02:26.683

```
 int index = Nodes1.FindIndex(var => var.nid == 1001);
        double here4 = Nodes1[index].x; 
```

# ruby-on-rails - 使用 Sidekiq 的延迟扩展时未定义的方法

> ID：15239446
> 
> 赞同：2
> 
> 时间：2013-03-06T05:12:13.223
> 
> 标签：ruby-on-rails, asynchronous, undefined, sidekiq

使用[Sidekiq 的延迟扩展](https://github.com/mperham/sidekiq/wiki/Delayed-Extensions)时，我的`bundle exec sidekiq`shell 中出现此错误：

```
2013-03-06T04:13:57Z 52099 TID-ouqzj4xl8 WARN: undefined method `send_message' for #<Class:0x007f8a783d72f0> 
```

**在我的控制器中：**

```
MyClass.delay_until(10.seconds.from_now, :retry => true).send_message(deliver_sms, phone) 
```

**在我的模型中：**

```
require 'sidekiq'

class MyClass < ActiveRecord::Base

  include Sidekiq::Extensions

  def self.send_message(deliver_sms, phone)
    message_id = deliver_sms.deliver(phone, 'This is a test message') 
  end
end 
```

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T21:34:24.727

根据 Github 上的这个线程，这似乎是 Ruby < 1.9.3 的问题：[https ://github.com/mperham/sidekiq/issues/152#issuecomment-5281759](https://github.com/mperham/sidekiq/issues/152#issuecomment-5281759)

我有同样的问题，升级到 Ruby 1.9.3 修复了它。你有机会使用 1.9.2 吗？

# ios - 在 ios 上并排显示 2 个 OpenGLES 视图

> ID：15239447
> 
> 赞同：1
> 
> 时间：2013-03-06T05:12:17.000
> 
> 标签：ios, opengl-es, glkview

我是 ios 上的 opengl 编程新手。所以我从 Xcode 中的 opegles 游戏模板开始。照原样工作。但是，我一直在努力并排设置两个 opengles 视图。这是我的实现。

```
In AppDelegate.m
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions{

   self.viewController = [[[ViewController alloc] initWithNibName:@"ViewController_iPad"    bundle:nil] autorelease];
    self.anotherViewController = [[[ViewController alloc] initWithNibName:@"ViewController_iPad" bundle:nil] autorelease];
    self.window.rootViewController = self.viewController;
    [self.window addSubview:self.anotherViewController.view];
} 
```

ViewController 派生自 GLKViewController。我目前正在使用一种非常粗糙的方式在 VC 中并排放置两个视图，如下所示：

```
- (void) viewDidLoad{
   [super viewDidLoad];

   self.context = [[[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2] autorelease];

   if (!self.context) {
       NSLog(@"Failed to create ES context");
   }
   static int staticX = 0;
   self.view = [[GLKView alloc] initWithFrame:CGRectMake(100, 100, 50 * staticX, 50)];
   GLKView *view = (GLKView *)self.view;

   view.frame = CGRectMake(100, 100, 50 * staticX, 50);
   view.context = self.context;
   view.drawableDepthFormat = GLKViewDrawableDepthFormat24;
   [self setupGL:self.context];
   staticX++;
} 
```

当我在 iPad 上运行此代码时，当调用 glkView:(GLKView*) drawInRect:(CGRect) 时出现此错误：OpenGLGame[1183:907] 无法制作完整的帧缓冲区对象 8cd6。

第一个视图正确显示，但全屏显示。

有人可以帮我弄清楚我在这里缺少什么吗？

谢谢

# c# - 如何避免使用 wsutil 生成指向结构的指针？

> ID：15239448
> 
> 赞同：0
> 
> 时间：2013-03-06T05:12:22.090
> 
> 标签：c#, wcf, metadata, svcutil.exe, wwsapi

我`struct`在 WCF 服务中定义了以下内容：

```
[Serializable]
[DataContract]
public struct CompositeKey : 
   IComparable, IComparable<CompositeKey>, IEquatable<CompositeKey>
{
    [DataMember]
    public long Primary { get; private set; }

    [DataMember]
    public byte Secondary { get; private set; }

   //others
} 
```

用作其他一些数据合同的成员：

```
[DataContract]
public class PatternFrequencyArgs
{
  [DataMember(IsRequired=true, EmitDefaultValue=false)]
  public CompositeKey PatternKey { get; set; }

  [DataMember(IsRequired = true)]
  public CompositeKey SessionStatKey { get; set; }

  [DataMember]
  public int Frequency { get; set; }
} 
```

在客户端，`wsutil.exe`生成这个结构：

```
typedef struct PatternFrequencyArgs 
{
    int Frequency;
    struct CompositeKey* PatternKey;     //why pointer?
    struct CompositeKey* SessionStatKey; //why pointer?
} PatternFrequencyArgs; 
```

如您所见，`CompositeKey`成员是作为*指针*生成的。我不希望他们成为指针。如何避免这种情况，而是将它们生成为非指针成员？

生成上述结构的相关 XSD 是这样的（我猜是这样）：

```
<xs:complexType name="PatternFrequencyArgs">
    <xs:sequence>
      <xs:element minOccurs="0" name="Frequency" type="xs:int" />
      <xs:element xmlns:q6="http://schemas.etc..." name="PatternKey" type="q6:CompositeKey">
        <xs:annotation>
          <xs:appinfo>
            <DefaultValue EmitDefaultValue="false" xmlns="http://schemas.etc..." />
          </xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element xmlns:q7="http://schemas.etc..." name="SessionStatKey" type="q7:CompositeKey" />
    </xs:sequence>
</xs:complexType> 
```

# php - 如何使用php从xampp发送具有匿名名称的电子邮件

> ID：15239452
> 
> 赞同：0
> 
> 时间：2013-03-06T05:12:45.317
> 
> 标签：php, email, smtp, xampp

我正在尝试将我的本地主机设置为使用 PHP 从 xampp 发送电子邮件。如何做到这一点，以便我能够将任何名称的电子邮件发送到有效的电子邮件 ID。例如，我应该能够从地址 mymail@rajkumar.com 发送电子邮件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:24:25.347

您将使用 PHP 的`mail`函数： http: [//php.net/manual/en/function.mail.php](http://php.net/manual/en/function.mail.php)

文档说：

```
bool mail ( string $to , string $subject , string $message [, string $additional_headers [, string $additional_parameters ]] ) 
```

电子邮件的发件人地址包含在 $additional_headers 中。看看下面的这个例子（也来自 PHP.net）：

```
<?php
$to      = 'nobody@example.com';
$subject = 'the subject';
$message = 'hello';
$headers = 'From: webmaster@example.com' . "\r\n" .
    'Reply-To: webmaster@example.com' . "\r\n" .
    'X-Mailer: PHP/' . phpversion();

mail($to, $subject, $message, $headers);
?> 
```

**编辑（详细说明垃圾邮件通知）：**

任何人都可以使用邮件标头从任何地址发送电子邮件。例如，我可以向您发送一封电子邮件，并使其看起来像发件人`urgent@ups.com`。此电子邮件可能包含一些恶意文件或网络钓鱼站点的链接。当您使用本地主机 XAMPP 服务器从`mymail@rajkumar.com`许多电子邮件客户端发送邮件时，将尝试验证邮件确实来自`rajkumar.com`. 由于它来自您的本地主机服务器的 IP 地址，而不是您声称从其发送的域，因此它很可能会被标记为垃圾邮件。

# android - 如何减少android中自定义列表视图的不透明度

> ID：15239454
> 
> 赞同：0
> 
> 时间：2013-03-06T05:12:49.263
> 
> 标签：android

我有一个文本项目的列表视图，我想减少列表视图的不透明度（alpha）。当我设置 alpha 然后减少文本和布局颜色，但我的要求是只减少列表视图的背景颜色..例如这是我的代码....

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:listSelector="@android:color/transparent"
    android:background="@drawable/bg"
    >
<ScrollView
   android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:fillViewport="true"
   >
<LinearLayout 
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    >
 <!--  <EditText android:id="@+id/inputSearch"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:hint="Search Remedy.."
        android:inputType="textVisiblePassword"/> android:listSelector="@drawable/list_selector"-->
    <ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:divider="#b5b5b5"
        android:dividerHeight="0.5dp"
        android:background="@drawable/list_selector"
         />
 </LinearLayout>
</ScrollView>
</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:21:15.563

你可以像这样在运行时设置 alpha

Alpha 值 0-255，0 表示完全透明，255 表示完全不透明

```
View backgroundimage = findViewById(R.id.background);
Drawable background = backgroundimage.getBackground();
background.setAlpha(80); 
```

# php - pg_prepare 中的 SQL 多个参数

> ID：15239455
> 
> 赞同：0
> 
> 时间：2013-03-06T05:12:50.947
> 
> 标签：php, sql, parameters

```
$result = pg_prepare($conn, "city_update", "UPDATE lab5.city SET population = $1 WHERE lab5.city.name = '$2'");
$result = pg_execute($conn, "city_update", array("$updatedPop", "$name")); 
```

这就是说我准备好的语句只有 1 个参数。

我不确定我哪里出错了。SQL 查询在 PSQL 中工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:17:31.127

删除`'`周围`$2`，在准备好的语句中你不应该使用`'`变量

```
$result = pg_prepare($conn, "city_update", "UPDATE lab5.city SET population = $1 WHERE lab5.city.name = $2"); 
```

# flash - 在 Actionscript 2 的文本字段中获取字符串的行号

> ID：15239458
> 
> 赞同：0
> 
> 时间：2013-03-06T05:13:01.103
> 
> 标签：flash, actionscript-2

我有一个文本字段，我想在其中搜索文本以查找其行号，然后滚动到该行号。这在 AS3 中很容易，但我必须在 AS2 中完成。我似乎找不到任何方法来做到这一点，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T12:13:58.757

听起来像 Greensock 的 AS2 TextMetrics 可能在这里有用：http: [//www.greensock.com/textmetrics/](http://www.greensock.com/textmetrics/)。

> 您是否曾经需要找出在动态 TextField 中出现换行符的位置？特定短语/字符串的精确 x/y 坐标及其宽度和高度怎么样，以便您可以以某种方式突出显示它？或者也许是每行文本的宽度？这一切都可以通过 gs.utils.text.TextMetrics 类实现。

听起来换行符的信息很有用，或者您可以使用文本 x 和 y 以及行高和字体大小来确定行号。

# php - 使用 PHP 将值插入到可编辑的 PDF 中，并使其保持可编辑状态

> ID：15239462
> 
> 赞同：9
> 
> 时间：2013-03-06T05:13:21.370
> 
> 标签：php, pdf

我有一个带有可编辑字段的 PDF。我希望将 HTML 表单中的值传递到此 PDF 中。我尝试使用 FPDF 并且它可以工作，但是在将值传递给 PDF 后，pdf 中的字段不再可编辑。

另一个缺点是在将值传递给 PDF 时，我们必须为每个字段指定精确的坐标。关于我可以用来保持“PDF EDITABLE”的其他工具的任何想法？

我使用以下代码生成pdf [http://www.setasign.de/products/pdf-php-solutions/fpdi/demos/simple-demo/](http://www.setasign.de/products/pdf-php-solutions/fpdi/demos/simple-demo/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T20:06:57.297

我无法在 PHP 中找到我真正喜欢的原生 PDF 填充方法。相反，我使用 PHP 生成 XFDF，然后使用[pdftk](http://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/)将其推送到可填充的 PDF 中。（请注意，此代码需要命名您的 PDF 字段。）

下面是一个从关联数组生成 XFDF 的示例函数：

```
function forge_xfdf($file,$info,$enc='UTF-8'){
    $data='<?xml version="1.0" encoding="'.$enc.'"?>'."\n".
        '<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">'."\n".
        '<fields>'."\n";
    foreach($info as $field => $val){
        $data.='<field name="'.$field.'">'."\n";
        if(is_array($val)){
            $data.='<</T('.$field.')/V[';
            foreach($val as $opt)
                $data.='<value>'.$opt.'</value>'."\n";
        }else{
            $data.='<value>'.$val.'</value>'."\n";
        }
        $data.='</field>'."\n";
    }
    $data.='</fields>'."\n".
        '<ids original="'.md5($file).'" modified="'.time().'" />'."\n".
        '<f href="'.$file.'" />'."\n".
        '</xfdf>'."\n";
    return $data;
} 
```

然后，我将该 XFDF 写入一个临时文件。

```
$empty_form      = '/path/to/fillable/pdf/form.pdf'
$fdf_filename    = tempnam(PDF_TEMP_DIR, 'fdf');
$output_filename = tempnam(PDF_TEMP_DIR, 'pdf');
$fdf_data = forge_xfdf($empty_form, $data, 'UTF-8');

if($fdf_fp = fopen($fdf_fn, 'wb')){
    fwrite($fdf_fp, $fdf_data);
    fclose($fdf_fp);

    $command = '/usr/local/bin/pdftk "'.$empty_form.'" fill_form "'.$fdf_filename.'" output "'.$output_file.'" dont_ask';
    passthru($command);

    // SEND THE FILE TO THE BROWSER

    unlink($output_file);
    unlink($fdf_filename);
} 
```

如果您*确实*想要一个不可编辑的 PDF，请`flatten`在命令中的单词之前添加单词`dont_ask`。

* * *

如果您不喜欢填写 PDF 表单，您也可以在 HTML 中生成表单，然后使用[dompdf](http://pxd.me/dompdf/www/)将 HTML 转换为 PDF。

# ios - 通知崩溃应用程序

> ID：15239463
> 
> 赞同：-1
> 
> 时间：2013-03-06T05:13:26.347
> 
> 标签：ios, nsnotificationcenter

我正在尝试传递`NSMutableDictionary`给`NSNotification`其他班级。但是在发布`NSMutableDictionary`应用程序时崩溃。有人可以帮忙吗？我正在尝试这个

```
NSMutableDictionary *temp = [[NSMutableDictionary alloc]init];

NSString *responseString = [[NSString alloc] initWithData:webData encoding:NSUTF8StringEncoding];
temp =  [responseString JSONValue];
NSLog(@"webdata is %@",temp);
NSLog(@"inside usersignup success");
[[NSNotificationCenter defaultCenter] postNotificationName:CNotifySignupSucess object:temp];
[temp release]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:38:36.120

首先，您需要阅读一些 iOS 编程基础知识。和，

```
NSMutableDictionary *temp = [[NSMutableDictionary alloc]init];

NSString *responseString = [[NSString alloc] initWithData:webData encoding:NSUTF8StringEncoding];
temp =  [responseString JSONValue]; //----> this line is wrong 
```

因为，`temp`指针指向新创建的`NSMutableDictionary`对象，您正在将它重新分配给方法返回的另一个对象`JSONValue`，即`autorelease`对象，并且您不拥有它，因此不能`release`。实现您想要的一些更好的方法是：

```
NSString *responseString = [[NSString alloc] initWithData:webData encoding:NSUTF8StringEncoding];
    NSMutableDictionary *temp =  [responseString JSONValue];
    NSLog(@"webdata is %@",temp);
    NSLog(@"inside usersignup success");
    [[NSNotificationCenter defaultCenter] postNotificationName:CNotifySignupSucess object:temp];
    //NO RELEASING the AUTORELEASE OBJECT!!!! 
```

或者：

```
NSString *responseString = [[NSString alloc] initWithData:webData encoding:NSUTF8StringEncoding];
    NSMutableDictionary *temp = [[NSMutableDictionary alloc]initWithDictionary:[responseString JSONValue]];
    NSLog(@"webdata is %@",temp);
    NSLog(@"inside usersignup success");
    [[NSNotificationCenter defaultCenter] postNotificationName:CNotifySignupSucess object:temp];
    [temp release]; 
```

或者：

```
NSMutableDictionary *temp = [[NSMutableDictionary alloc]init];

    NSString *responseString = [[NSString alloc] initWithData:webData encoding:NSUTF8StringEncoding];
    [temp addEntriesFromDictionary:[responseString JSONValue]];
    NSLog(@"webdata is %@",temp);
    NSLog(@"inside usersignup success");
    [[NSNotificationCenter defaultCenter] postNotificationName:CNotifySignupSucess object:temp];
    [temp release]; 
```

在最后两种情况下，我正在考虑该`JSONValue`方法返回`NSDictionary`。祝你好运！

# android - 在 MapView 上清除并添加叠加层将标记裁剪几秒钟

> ID：15239464
> 
> 赞同：0
> 
> 时间：2013-03-06T05:13:30.453
> 
> 标签：android, android-mapview, android-overlay

我正在开发出租车接送应用程序。我需要提供一个功能来提供替代的接送点。当我选择上车点时，我需要在地图视图上选择上车点。为此，我需要将标记从下拉可绘制更改为拾取可绘制。

我正在使用以下代码来更改覆盖

```
whichPoint = !whichPoint;
if (whichPoint == PICKUP) {
    map.getOverlays().clear();
    map.getOverlays().add(startLocation);
    map.getOverlays().add(locationOverlay);
} else if (whichPoint == DROP) {
    map.getOverlays().clear();
    map.getOverlays().add(endLocation);
    map.getOverlays().add(locationOverlay);
} 
```

当我更改叠加层时，在过渡期间的一小段时间（3-4 秒），我得到了新叠加层的“一半”图像。检查下面的图像。如何消除过渡显示问题。

![带有半红色图标的地图视图](../Images/20c05c4cacb2aa20887e9e1f18e9c09d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:58:44.173

`populate`添加叠加层后我没有打电话。还发现清除和添加叠加层是一项 UI 密集型任务。最好添加所有叠加层并控制 ontouch。这就是我所做的并且效果很好。

# excel - 有返回 0 的 Excel 公式，使结果为空

> ID：15239466
> 
> 赞同：12
> 
> 时间：2013-03-06T05:13:38.167
> 
> 标签：excel, worksheet-function

我遇到的一个反复出现的 Excel 问题是公式，例如`INDEX(array,row,column)`在没有结果时返回 0，而不是返回空白。

将零结果更改为空白的最佳方法是什么？

以下是我迄今为止尝试过的方法：

1) 使用除以零。如果 INDEX 返回 0，我会导致错误，然后过滤掉。

```
=IFERROR(1/1/INDEX(A,B,C),"") 
```

缺点：使公式更加混乱并隐藏您可能希望看到的错误。

2) 使用自定义格式

```
0;-0;;@ 
```

缺点：
1）不能同时应用日期格式
2）在检查空白单元格时它不适用于条件格式（仍然存在零值，只是没有显示）

3) 使用`IF`语句

```
=IF((1/1/INDEX(A,B,C))<>"",(1/1/INDEX(A,B,C)),"") 
```

缺点：混乱的重复

有没有人有任何其他/更好的想法？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T05:24:08.760

您可以在 Excel 中的模块中创建*自己的*用户定义函数，例如（从内存中，因此可能需要一些调试，并且 Excel 版本之间的语法也可能有所不同）：

```
Public Function ZeroToBlank (x As Integer) As String
    If x = 0 then
        ZeroToBlank = ""
    Else
        ZeroToBlank = CStr(x)
    End If
End Function 
```

然后，您可以简单地插入`=ZeroToBlank (Index (a,b,c))`您的单元格。

[这里](http://www.wikihow.com/Create-a-User-Defined-Function-in-Microsoft-Excel)有一个关于这个主题的很好的教程。

基本步骤是：

*   使用 .在 Excel 中打开 VB 编辑器`Tools -> Macro -> Visual Basic Editor`。
*   使用 . 创建一个新模块`Insert -> Module`。
*   将上述函数输入到该模块中。
*   在您要调用该函数的单元格中，输入公式
         `=ZeroToBlank (<<whatever>>)`
    ，`<<whatever>>`如果它为零，您希望在其中使用空白的值。
*   请注意，此函数返回一个字符串，因此，如果您希望它*看起来*像一个数字，您可能需要右对齐单元格。

请注意，根据您拥有的 Excel 版本，可能会有细微差异。我的 Excel 版本是 2002 版，虽然它已经很老了，但它仍然可以满足我的一切需求。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T05:38:21.483

正常的方式是 IF 语句，虽然比你的例子更简单：

```
=IF(INDEX(a,b,c),INDEX(a,b,c),"") 
```

无需对公式进行旋转，因为零值会触发错误条件。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-03-18T01:44:02.920

`?`也许最简单的方法是使用修饰符将文本格式条件添加到公式中。因此：

`(formula to grab values)`变成：

`text((formula to grab values),"?")`

希望有帮助。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-02-06T09:50:23.537

我不确定它是否适用于所有类型的数据，但我目前发现的唯一解决方案是测试索引是否返回空白：

```
=IF(ISBLANK(INDEX(a,b,c)),"",INDEX(a,b,c)) 
```

公式

```
=IF(INDEX(a,b,c),INDEX(a,b,c),"") 
```

不适用于文本

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-13T23:58:07.423

If you’re willing to cause all zeroes in the worksheet to disappear, go into “Excel Options”, “Advanced” page, “Display options for this worksheet” section, and clear the “Show a zero in cells that have a zero value” checkbox.  (This is the navigation for Excel 2007; YMMV.)

Regarding your answer (2), you can save a couple of keystrokes by typing `0;-0;` –– as far as I can tell, that’s equivalent to `0;-0;;@`.  Conversely, if you want to be a little more general, you can use the format `General;-General;`.  No, that doesn’t automagically handle dates, but, as Barry points out, if you’re *expecting* a date value, you can use a format like `d-mmm-yyyy;;`.

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-14T12:11:25.937

问题可能是您为什么希望它的行为与现在不同？除了在 VBA 中编写自己的封装函数或替代函数（这可能会导致大文件的计算速度降低）之外，可能没有单一的解决方案可以解决您的不同问题。

任何后续公式很可能会因空白而失败，因此会导致错误，您将使用 捕获`IFERROR()`或防止错误`IF(sourcecell<>"";...)`，如果您使用后者，那么测试零只是相同数量的工作和混乱。检查空白单元格变为检查 0 值单元格。（如果这对您不起作用，请更具体地解释问题所在）。

出于美学目的，自定义格式化解决方案就可以了。

对于图表，可能存在问题，实际上可以通过将其应用于原始公式来解决。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-11-26T11:51:06.737

```
=if(b2 = "", "", b2) 
```

这对我有用

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2015-09-22T16:20:10.323

这个凌乱的问题有一个非常简单的答案——SUBSTITUTE 函数。在上面的示例中：

```
=IF((1/1/INDEX(A,B,C))<>"",(1/1/INDEX(A,B,C)),"") 
```

可以改写如下：

```
=SUBSTITUTE((1/1/INDEX(A,B,C), " ", "") 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2015-11-05T15:11:36.540

我想通了，通过连接一个`EMPTY`字符串。

```
INDEX(tt_Attributes,MATCH([RowID],tt_Attributes[RowID],0),COLUMN(tt_Attributes[Long Description]) ) & "" 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-06-09T02:28:18.367

使用条件格式（主页选项卡，样式部分）并应用突出显示单元格规则（在等于框的单元格格式中输入 0），但选择自定义格式，然后选择数字选项卡。选择类别自定义并在类型框中输入：

0;-0;;@

听起来很复杂，但实际上很简单。

这样做的好处是单元格看起来是空的，但 0 仍然是基础值，因此您针对该单元格/选择使用的任何公式仍会将其视为数字，并节省大量使用链式 IF 语句的麻烦。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-12-01T22:16:28.850

今天以上都不适合我，所以我尝试将 0 放在引号中，如下例所示。

示例：=IF(INDEX(a,b,c)="0","", INDEX(a,b,c))

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2018-07-18T18:49:20.630

只需在末尾附加一个空字符串。它迫使 Excel 看到它的本质。

例如：

```
=IFERROR(1/1/INDEX(A,B,C) & "","") 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2020-07-02T05:50:55.417

我最近注意到了这个问题，令人沮丧的是 excel 将空白字符串更改为 0。我认为公式不应该解决这个问题，因为向复杂公式添加更多逻辑可能很麻烦，甚至可能最终破坏原始公式. 我在下面有两个非公式选项。

如果要将公式保留在单元格中并让它们返回 0 而不是“”，请使用以下单击路径：

1.  文件
2.  选项
3.  先进的

滚动到“此工作表的显示选项：”

4.  取消选择“在具有零值的单元格中显示零”

**如果您想将值**（而不是公式）从 0 更改为空白字符串，我还想提供一个简单的手动解决方案。这个解决方案比查找和替换更好，因为它不会用 11 替换像 101 这样的数字。

1.  选择所有数据
2.  在数据选项卡上，单击过滤器徽标

[![过滤器徽标本身](../Images/7df2676ebb575a298b46c91bd6efd37f.png)](https://i.stack.imgur.com/KRtp1.png)

3.  单击具有不需要的 0(s) 的列的选择列表以仅选择值为“0”的行（确保仅清除包含具有确切值 0 的内容的单元格的内容！）

[![在此处输入图像描述](../Images/dd7fde58d3bca31804cccc7856811fbf.png)](https://i.stack.imgur.com/bxR5w.png)

4.  选择数据（只有0s），右键选择清除内容

如果您正确使用过滤器，其他数据将保留，如果出现问题，后退按钮始终存在。我了解选项 2 非常手动且“不雅”，但它确实成功地将 0 转换为空白字符串，并且可以减轻不想使用 if 语句的沮丧的人。

我个人今天学到了一些探索这个（非常枯燥的）excel问题的东西，我个人正在使用这些方法向前发展。如果这是中级 excel 用户的频繁任务，选项 2 的快速宏可能是一个不错的选择。

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2017-05-05T15:10:14.127

`=IF(INDEX(a,b,c)="0","", INDEX(a,b,c))`稍作修改就为我工作。不包括引号之间的 0 和无空格： `=IF(INDEX(a,b,c)="","", INDEX(a,b,c))`

# javascript - 为什么在 JavaScript 中父变量取子变量的值？

> ID：15239476
> 
> 赞同：1
> 
> 时间：2013-03-06T05:14:18.487
> 
> 标签：javascript, jquery

请帮我解决下一个问题。

```
var a = _b; //_b and _c is arguments. _b is array of objects (length = 1), _c is integer value
if (a.length != 0)
{
   $.each(a,function(k,v){
     if (v.c!= _c)
       a.splice(k,1);//here a becomes empty, but _b becomes empty too. i don't know why.
   }); 
   if (a.length != 0){
      _b = a;
   }
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:16:33.533

该变量`a`是对数组的引用`_b`，而不是副本，因此也可以`a`清空`_b`。

# rspec - Rake 因 rspec 加载错误而中止

> ID：15239477
> 
> 赞同：2
> 
> 时间：2013-03-06T05:14:32.323
> 
> 标签：rspec, rake

我正在尝试使用 rspec 配置 rake，因此我需要 rspec 和 rspec/core/rake_task 在 rakefile 之上。我确定我已经安装了 rspec gem，但是后来我收到了 rspec 加载错误。

耙文件：

```
require "rspec"
require "rspec/core/rake_task"

SPEC_OPTS = %w(--format documentation --color)

SPEC_OPTS << '--fail-fast' if (ENV['BAT_FAIL_FAST'] || "false").downcase == 'true'
SPEC_OPTS << '--tag ~ssh' if (ENV['BAT_SKIP_SSH'] || "false").downcase == 'true'

desc "Run BAT tests"
RSpec::Core::RakeTask.new(:bat) do |t|
  cd 'bat'
  t.pattern = %w[spec/env_spec.rb spec/bat/*_spec.rb]
  t.rspec_opts = SPEC_OPTS
end

namespace "bat" do

  desc "Verify BAT environment"
  RSpec::Core::RakeTask.new(:env) do |t|
    cd 'bat'
    t.pattern = "spec/env_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run release tests"
  RSpec::Core::RakeTask.new(:release => :env) do |t|
    t.pattern = "spec/bat/release_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run deployment tests"
  RSpec::Core::RakeTask.new(:deployment => :env) do |t|
    t.pattern = "spec/bat/deployment_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run stemcell tests"
  RSpec::Core::RakeTask.new(:stemcell => :env) do |t|
    t.pattern = "spec/bat/stemcell_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run log tests"
  RSpec::Core::RakeTask.new(:log => :env) do |t|
    t.pattern = "spec/bat/log_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run job tests"
  RSpec::Core::RakeTask.new(:job => :env) do |t|
    t.pattern = "spec/bat/job_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run property tests"
  RSpec::Core::RakeTask.new(:property => :env) do |t|
    t.pattern = "spec/bat/property_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run dns tests"
  RSpec::Core::RakeTask.new(:dns => :env) do |t|
    t.pattern = "spec/bat/dns_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run agent tests"
  RSpec::Core::RakeTask.new(:agent => :env) do |t|
    t.pattern = "spec/bat/agent_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

  desc "Run disk tests"
  RSpec::Core::RakeTask.new(:disk => :env) do |t|
    t.pattern = "spec/bat/disk_spec.rb"
    t.rspec_opts = SPEC_OPTS
  end

end 
```

然后我得到这个加载错误：

```
rake aborted!
cannot load such file -- rspec
/home/alan/bosh/rake/spec.rake:1:in `require'
/home/alan/bosh/rake/spec.rake:1:in `<top (required)>'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/rake_module.rb:25:in `load'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/rake_module.rb:25:in `load_rakefile'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/default_loader.rb:6:in `load'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:651:in `load_imports'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:590:in `raw_load_rakefile'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:89:in `block in load_rakefile'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:160:in `standard_exception_handling'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:88:in `load_rakefile'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:72:in `block in run'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:160:in `standard_exception_handling'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/lib/rake/application.rb:70:in `run'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/gems/rake-10.0.3/bin/rake:33:in `<top (required)>'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/bin/rake:19:in `load'
/home/alan/.rvm/gems/ruby-1.9.3-p385@global/bin/rake:19:in `<main>'
/home/alan/.rvm/gems/ruby-1.9.3-p385@bosh/bin/ruby_noexec_wrapper:14:in `eval'
/home/alan/.rvm/gems/ruby-1.9.3-p385@bosh/bin/ruby_noexec_wrapper:14:in `<main>' 
```

# c# - C#中变量/标识符前面的@是什么？

> ID：15239479
> 
> 赞同：7
> 
> 时间：2013-03-06T05:14:35.910
> 
> 标签：c#, .net, syntax

我认为我的问题与此不同： [C# 中字符串前面的 @ 是什么？](https://stackoverflow.com/questions/556133/whats-the-in-front-of-a-string-in-c)

我在 VB.net 工作，所以这在 C# 中可能是一些简单的事情，但我不知道这一点。

我得到以下代码，其中一个字符串变量中有 10 个 XML。在下面的代码片段中调用 LoadXml 方法时，请告知在 claimList 字符串变量前面需要什么 @ 符号：

```
private void UploadNewClaims(PMAUser grumble, string companyAbbreviation, string claimsList)
{
    var claimDoc = new System.Xml.XmlDocument();
    claimDoc.LoadXml(@claimsList); 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-06T05:15:49.503

在这种情况下，它是完全没有必要的，但它允许您使用任何关键字作为 C# 中的标识符。它根本不会改变标识符的含义或它的使用方式——它只会告诉编译器您*不*希望将以下字符识别为关键字。

例如：

```
string @int = "hello";
var @void = @int; 
```

将其用作标识符`claimsList`表明编写它的人不理解它。标识符用于字符串变量的事实在这里*完全*无关紧要。

就我个人而言，我几乎只将该功能用于扩展方法，众所周知我会调用第一个参数`@this`：

```
public static void Foo(this Bar @this)
{
    return @this.Baz() * 2;
} 
```

# .net - .WithRequired 在 EF Fluent API 中起什么作用？

> ID：15239488
> 
> 赞同：7
> 
> 时间：2013-03-06T05:15:07.627
> 
> 标签：.net, entity-framework, ado.net

如果我有以下对象：

```
public class Application 
{
    public int ApplicationId { get; set; }
    public string Name { get; set; }
    public virtual ICollection<TestAccount> TestAccounts { get; set; }
}

public class TestAccount
{
    public int TestAccountId { get; set; }
    public int ApplicationId { get; set; }
    public string Name { get; set; }
    public virtual Application Application { get; set; }
} 
```

EF 映射如下所示：

```
modelBuilder.Entity<Application>()
    .HasMany(a => a.TestAccounts)
    .WithRequired(t => t.Application)
    .WillCascadeOnDelete(false); 
```

这两者之间的关系是我可以拥有零个或多个 TestAccounts 的应用程序。

我试图描述两个表之间的 fk 关系。有人可以解释“.WithRequired”的作用。我不明白为什么需要这样做。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-06T05:53:20.143

这意味着每个`TestAccount`实体必须有一个`Application`与之关联的实体。我想一种说法是这样的：

如果在您的数据库中，您有另一个表的外键并且该外键不是 NULL，则使用`WithRequired`，否则如果它可以为 NULL，则使用`WithOptional`

以下是一些值得一看的文档：

[http://msdn.microsoft.com/en-us/data/jj591620.aspx](http://msdn.microsoft.com/en-us/data/jj591620.aspx)

# python - 在 numpy/scipy 中向稀疏矩阵添加一个非常重复的矩阵？

> ID：15239491
> 
> 赞同：6
> 
> 时间：2013-03-06T05:15:33.743
> 
> 标签：python, matrix, numpy, scipy, sparse-matrix

我正在尝试在 NumPy/Scipy 中实现一个函数来计算单个（训练）向量和大量其他（观察）向量之间的[Jensen-Shannon 散度。](http://en.wikipedia.org/wiki/Jensen%E2%80%93Shannon_divergence)观察向量存储在一个非常大的 (500,000x65536) [Scipy 稀疏矩阵](http://docs.scipy.org/doc/scipy/reference/sparse.html)中（密集矩阵不适合内存）。

作为算法的一部分，我需要为每个观察向量 O [i 计算 T+O i] [，]其中 T 是训练向量。我无法使用 NumPy 的常用广播规则找到一种方法，因为稀疏矩阵似乎不支持这些（如果 T 保留为密集数组，Scipy 会尝试首先使稀疏矩阵密集，它运行内存不足；如果我将 T 设为稀疏矩阵，则 T+O [i]会失败，因为形状不一致）。

目前，我正在将训练向量平铺成一个 500,000x65536 稀疏矩阵的效率极低的步骤：

```
training = sp.csr_matrix(training.astype(np.float32))
tindptr = np.arange(0, len(training.indices)*observations.shape[0]+1, len(training.indices), dtype=np.int32)
tindices = np.tile(training.indices, observations.shape[0])
tdata = np.tile(training.data, observations.shape[0])
mtraining = sp.csr_matrix((tdata, tindices, tindptr), shape=observations.shape) 
```

但这会占用大量内存（大约 6GB），而它只存储约 1500 个“真实”元素。构建起来也很慢。

我试图通过使用 stride_tricks 使 CSR 矩阵的 indptr 和数据成员不会在重复数据上使用额外的内存来变得聪明。

```
training = sp.csr_matrix(training)
mtraining = sp.csr_matrix(observations.shape,dtype=np.int32)
tdata = training.data
vdata = np.lib.stride_tricks.as_strided(tdata, (mtraining.shape[0], tdata.size), (0, tdata.itemsize))
indices = training.indices
vindices = np.lib.stride_tricks.as_strided(indices, (mtraining.shape[0], indices.size), (0, indices.itemsize))
mtraining.indptr = np.arange(0, len(indices)*mtraining.shape[0]+1, len(indices), dtype=np.int32)
mtraining.data = vdata
mtraining.indices = vindices 
```

但这不起作用，因为跨步视图 mtraining.data 和 mtraining.indices 是错误的形状（根据[这个答案](https://stackoverflow.com/a/8195809/665062)，没有办法使它成为正确的形状）。尝试使用 .flat 迭代器使它们看起来平坦失败，因为它看起来不够像数组（例如，它没有 dtype 成员），并且使用 flatten() 方法最终会制作副本。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T02:11:38.540

您的另一个选择（我什至没有考虑过）是自己以稀疏格式实现总和，以便您可以充分利用数组的周期性。如果您滥用 scipy 稀疏矩阵的这种特殊行为，这很容易做到：

```
>>> a = sps.csr_matrix([1,2,3,4])
>>> a.data
array([1, 2, 3, 4])
>>> a.indices
array([0, 1, 2, 3])
>>> a.indptr
array([0, 4])

>>> b = sps.csr_matrix((np.array([1, 2, 3, 4, 5]),
...                     np.array([0, 1, 2, 3, 0]),
...                     np.array([0, 5])), shape=(1, 4))
>>> b
<1x4 sparse matrix of type '<type 'numpy.int32'>'
    with 5 stored elements in Compressed Sparse Row format>
>>> b.todense()
matrix([[6, 2, 3, 4]]) 
```

因此，您甚至不必寻找训练向量与观察矩阵的每一行之间的重合来将它们相加：只需将所有带有正确指针的数据塞入其中，需要求和的内容将得到求和当数据被访问时。

**编辑**

鉴于第一个代码的速度很慢，您可以用内存换取速度，如下所示：

```
def csr_add_sparse_vec(sps_mat, sps_vec) :
    """Adds a sparse vector to every row of a sparse matrix"""
    # No checks done, but both arguments should be sparse matrices in CSR
    # format, both should have the same number of columns, and the vector
    # should be a vector and have only one row.

    rows, cols = sps_mat.shape
    nnz_vec = len(sps_vec.data)
    nnz_per_row = np.diff(sps_mat.indptr)
    longest_row = np.max(nnz_per_row)

    old_data = np.zeros((rows * longest_row,), dtype=sps_mat.data.dtype)
    old_cols = np.zeros((rows * longest_row,), dtype=sps_mat.indices.dtype)

    data_idx = np.arange(longest_row) < nnz_per_row[:, None]
    data_idx = data_idx.reshape(-1)
    old_data[data_idx] = sps_mat.data
    old_cols[data_idx] = sps_mat.indices
    old_data = old_data.reshape(rows, -1)
    old_cols = old_cols.reshape(rows, -1)

    new_data = np.zeros((rows, longest_row + nnz_vec,),
                        dtype=sps_mat.data.dtype)
    new_data[:, :longest_row] = old_data
    del old_data
    new_cols = np.zeros((rows, longest_row + nnz_vec,),
                        dtype=sps_mat.indices.dtype)
    new_cols[:, :longest_row] = old_cols
    del old_cols
    new_data[:, longest_row:] = sps_vec.data
    new_cols[:, longest_row:] = sps_vec.indices
    new_data = new_data.reshape(-1)
    new_cols = new_cols.reshape(-1)
    new_pointer = np.arange(0, (rows + 1) * (longest_row + nnz_vec),
                            longest_row + nnz_vec)

    ret = sps.csr_matrix((new_data, new_cols, new_pointer),
                         shape=sps_mat.shape)
    ret.eliminate_zeros()

    return ret 
```

它没有以前那么快，但它可以在大约 1 秒内完成 10,000 行：

```
In [2]: a
Out[2]: 
<10000x65536 sparse matrix of type '<type 'numpy.float64'>'
    with 15000000 stored elements in Compressed Sparse Row format>

In [3]: b
Out[3]: 
<1x65536 sparse matrix of type '<type 'numpy.float64'>'
    with 1500 stored elements in Compressed Sparse Row format>

In [4]: csr_add_sparse_vec(a, b)
Out[4]: 
<10000x65536 sparse matrix of type '<type 'numpy.float64'>'
    with 30000000 stored elements in Compressed Sparse Row format>

In [5]: %timeit csr_add_sparse_vec(a, b)
1 loops, best of 3: 956 ms per loop 
```

* * *

**编辑**这段代码非常非常慢

```
def csr_add_sparse_vec(sps_mat, sps_vec) :
    """Adds a sparse vector to every row of a sparse matrix"""
    # No checks done, but both arguments should be sparse matrices in CSR
    # format, both should have the same number of columns, and the vector
    # should be a vector and have only one row.

    rows, cols = sps_mat.shape

    new_data = sps_mat.data
    new_pointer = sps_mat.indptr.copy()
    new_cols = sps_mat.indices

    aux_idx = np.arange(rows + 1)

    for value, col in itertools.izip(sps_vec.data, sps_vec.indices) :
        new_data = np.insert(new_data, new_pointer[1:], [value] * rows)
        new_cols = np.insert(new_cols, new_pointer[1:], [col] * rows)
        new_pointer += aux_idx

    return sps.csr_matrix((new_data, new_cols, new_pointer),
                          shape=sps_mat.shape) 
```

# java - 显示多个 AlertDialogs

> ID：15239493
> 
> 赞同：5
> 
> 时间：2013-03-06T05:15:41.777
> 
> 标签：java, android, android-alertdialog

我对 Android/Java 比较陌生。感谢 Stack Overflow，我能够从这里提出的问题中学到很多东西。但是，我现在被困在这个问题上。

我有一个密码输入`AlertDialog`，当我们启动应用程序时会弹出。它从 中读取密码`EditText`并将其与存储在文件中的密码进行比较。`AlertDialog`当提供无效/错误的密码时，我需要一个额外的显示。这也是我实现的。

现在，第二个对话框有两个按钮 -`Reset`和`Retry`。我希望活动在我们单击时再次显示第一个对话框`Retry`。这是我无能为力的地方。如果有人能提供一个可行的解决方案和一点解释，我将非常感激。

这是我的代码：

```
LayoutInflater li = LayoutInflater.from(context);
View passView = li.inflate(R.layout.authdialog, null);

AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(context);

// set prompts.xml to alertdialog builder
alertDialogBuilder.setView(passView);

final EditText passInput = (EditText) passView.findViewById(
        R.id.editTextDialogUserInput);
final TextView txtv = (TextView) findViewById(R.id.textv);

// set dialog message
alertDialogBuilder
        .setCancelable(false)
        .setPositiveButton("OK", new DialogInterface.OnClickListener() {

            public void onClick(DialogInterface dialog, int id) {
                String data = "";
                try {
                    FileInputStream fis = openFileInput("authfile");

                    InputStreamReader in = new InputStreamReader(fis);
                    BufferedReader br = new BufferedReader(in);
                    data = br.readLine();
                } catch (Exception e) {
                    e.printStackTrace();
                }

                if (data.toString().equals(
                        passInput.getText().toString())) {
                    txtv.setText("You Have Logged in");
                } else {
                    LayoutInflater ln = LayoutInflater.from(context);
                    View invalidView = ln.inflate(R.layout.invdialog,
                            null);
                    AlertDialog.Builder invalidDialogBuild = new AlertDialog.Builder(
                            context);
                    invalidDialogBuild.setView(invalidView);

                    // set dialog message
                    invalidDialogBuild
                            .setCancelable(false)
                            .setPositiveButton(
                                    "Retry",
                                    new DialogInterface.OnClickListener() {

                                        public void onClick(
                                                DialogInterface dialog,
                                                int id) {
                                            dialog.cancel();
                                        }
                                    })
                            .setNegativeButton(
                                    "Reset",
                                    new DialogInterface.OnClickListener() {

                                        public void onClick(
                                                DialogInterface dialog,
                                                int id) {
                                            dialog.cancel();
                                        }
                                    });

                    dialog.cancel();

                    AlertDialog invalidDialog = invalidDialogBuild
                            .create();

                    // show it
                    invalidDialog.show();
                }
            }
        })
        .setNegativeButton("Cancel",
                new DialogInterface.OnClickListener() {

                    public void onClick(DialogInterface dialog, int id) {
                        dialog.cancel();
                    }
                });

// create alert dialog
AlertDialog alertDialog = alertDialogBuilder.create();

// show it
alertDialog.show(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:37:47.837

创建两个单独的对话框方法并调用它们，就像我在下面的代码检查中所做的那样。

> ```
>  private void dialogShow()
> {
>     LayoutInflater li = LayoutInflater.from(context);
>     View passView = li.inflate(R.layout.authdialog, null);
>     AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(context);
>     // set prompts.xml to alertdialog builder
>     alertDialogBuilder.setView(passView);
>     final EditText passInput = (EditText) passView.findViewById(R.id.editTextDialogUserInput);
>     final TextView txtv = (TextView) findViewById(R.id.textv);
>     // set dialog message
>     alertDialogBuilder.setCancelable(false)
>             .setPositiveButton("OK", new DialogInterface.OnClickListener()
>             {
>             public void onClick(DialogInterface dialog, int id)
>             {
>                 String data = "";
>                 try
>                 {
>             FileInputStream fis = openFileInput("authfile");                            InputStreamReader in = new InputStreamReader(fis);
>                 BufferedReader br = new BufferedReader(in);
>                 data = br.readLine();
>                 }
>                 catch (Exception e)
>                 {
>                     e.printStackTrace();
>                 }
>             if (data.toString().equals(passInput.getText().toString()))
>                     {
>                         txtv.setText("You Have Logged in");
>                     }
>                     else
>                     {
>                     RetryDialog();//Call the dialog of retry
>                     }
>                 }
>             }).setNegativeButton("Cancel", new DialogInterface.OnClickListener()
>             {
>                 public void onClick(DialogInterface dialog, int id)
>                 {
>                     dialog.cancel();
>                 }
>             });
>     // create alert dialog
>     AlertDialog alertDialog = alertDialogBuilder.create();
>     // show it
>     alertDialog.show();
> } 
> ```

```
 //Shows the Retry Dialog 
private void RetryDialog()
{
     LayoutInflater ln = LayoutInflater.from(context);
     View invalidView = ln.inflate(R.layout.activity_main, null);
    AlertDialog.Builder invalidDialogBuild = new AlertDialog.Builder(context);
    // invalidDialogBuild.setView(invalidView);
    // set dialog message
    invalidDialogBuild.setCancelable(false)
            .setPositiveButton("Retry", new DialogInterface.OnClickListener()
            {
                public void onClick(DialogInterface dialog, int id)
                {
                    dialogShow();
                    dialog.cancel();
                }
            }).setNegativeButton("Reset", new DialogInterface.OnClickListener()
            {
                public void onClick(DialogInterface dialog, int id)
                {
                    dialog.cancel();

                }
            });

    AlertDialog invalidDialog = invalidDialogBuild.create();
    // show it
    invalidDialog.show();

} 
```

**编辑：**

与 ThreeButtons 对话。

> ```
>  /**
>  * This is method to display dialog with three
>  * button("Yes, No and Cancel button")
>  */
> public void showThreeButtonDialog()
> {
>     private AlertDialog m_alertDialog;
>     private AlertDialog.Builder m_builder = new AlertDialog.Builder(this);
>     m_builder.setTitle("Title Text");
>     m_builder.setMessage("Dialog Message");
>     m_builder.setPositiveButton("yes", new DialogInterface.OnClickListener(){
>         @Override
>         public void onClick(DialogInterface p_dialog, int p_which)
>         {
>             Toast.makeText(AlertDialogActivity.this, "Press Yes", Toast.LENGTH_SHORT).show();
>         }
>     });
>     m_builder.setNeutralButton("No"), new DialogInterface.OnClickListener(){
>         @Override
>         public void onClick(DialogInterface p_dialog, int p_which)
>         {
>             Toast.makeText(AlertDialogActivity.this, "Press No", Toast.LENGTH_SHORT).show();
>         }
>     });
>     m_builder.setNegativeButton("Cancel"), new DialogInterface.OnClickListener(){
>         @Override
>         public void onClick(DialogInterface p_dialog, int p_which)
>         {
>             Toast.makeText(AlertDialogActivity.this, "Press Cancel", Toast.LENGTH_SHORT).show();
>         }
>     });
>     m_alertDialog = m_builder.create();
>     m_alertDialog.show();
> } 
> ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:48:55.877

Grishu 打败了我，我的至少更短...

```
private void showLoginDialog(final Context context) {
    LayoutInflater li = LayoutInflater.from(context);
    View passView = li.inflate(R.layout.authdialog, null);
    final EditText passInput = (EditText) passView.findViewById(R.id.editTextDialogUserInput);
    final TextView txtv = (TextView) findViewById(R.id.textv);

    new AlertDialog.Builder(context)
        .setView(passView)
        .setCancelable(false)
        .setPositiveButton("OK", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int id) {
                String data = "";
                try {
                    FileInputStream fis = openFileInput("authfile");
                        InputStreamReader in = new InputStreamReader(fis);
                    BufferedReader br = new BufferedReader(in);
                    data = br.readLine();
                } catch (Exception e) {
                    e.printStackTrace();
                }

                if (data.toString().equals(passInput.getText().toString())) {
                    txtv.setText("You Have Logged in");
                } else {
                    dialog.dismiss();
                    showInvalidDialog(context);
                }
            }
        })
        .setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int id) {
                dialog.dismiss();
            }
        })
        .show();
}

private void showInvalidDialog(final Context context) {
    LayoutInflater ln = LayoutInflater.from(context);
    View invalidView = ln.inflate(R.layout.invdialog, null);

    new AlertDialog.Builder(context)
        .setView(invalidView)
        .setCancelable(false)
        .setPositiveButton("Retry", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int id) {
                dialog.dismiss();
                showLoginDialog(context);
            }
        })
        .setNegativeButton("Reset", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int id) {
                dialog.dismiss();
            }
        })
        .show();
} 
```

说明：将两个对话框的代码移动到可以相互调用的单独方法中。随后使用构建器模式来保持代码简短而优雅。除非您希望调用潜在的 OnCancelListener，否则请使用 dialog.dismiss() 而不是 dialog.cancel()。

# android - 如何在文本视图Android中显示键入的文本

> ID：15239495
> 
> 赞同：0
> 
> 时间：2013-03-06T05:15:46.293
> 
> 标签：android, android-activity

我在文本视图中显示文本时遇到问题。我想做一个聊天/短信风格的应用程序。另外，我如何在我的文本视图字段周围设置边框以使其看起来不错。谢谢你！我为我的麻烦道歉。

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal">
     <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="400dp"
        android:text="" />
    <EditText android:id="@+id/edit_message"
        android:layout_weight="1"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:hint="@string/edit_message" 
        android:layout_gravity="bottom" />

    <Button
        android:id="@+id/button_send"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:onClick="sendMessage"
        android:text="@string/button_send" 
        android:layout_gravity="bottom"/> 
```

```
public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

  @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

  Button button = (Button)findViewById(R.id.button_send);

    }; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T05:39:59.913

这肯定会奏效

```
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}

public void sendMessage(View v){

    EditText editMessage=(EditText)findViewById(R.id.edit_message);
    TextView textView = (TextView) findViewById(R.id.textView1);

    //get text from edittext and convert it to string
    String messageString=editMessage.getText().toString();

    //set string from edittext to textview
    textView.setText(messageString);

    //clear edittext after sending text to message
    editMessage.setText("");

}

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:31:44.803

Probably you need this.

```
 EditText edt = (EditText)findViewById(R.id.edit_message);
 TextView txt= (TextView)findViewById(R.id.textview1);
 String value = edt.getText().toString();

button.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {
                 txt.append(value+"\n");
                      edt.setText("");
            }
     }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:27:10.810

```
<TextView android:text="" android:background="@drawable/border"/> 
```

在您的 xml 中包含上述行并创建`border.xml`内部`res/drawable`文件夹并在其中编写以下代码`border.xml`

```
<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle" >
   <solid android:color="#dfdfdf" />
   <stroke android:width="1dip" android:color="#aa0000"/>
</shape> 
```

这将为`textView`

后面的部分在java中使用它

```
button.setOnClickListener(new OnClickListener() {
       void onClick() {
         textView.setText(editText.getText());
        }
    }); 
```

希望这对你有用:) 让知道是否有任何问题

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:23:42.870

如果你想从字符串中显示然后使用

```
 android:text="@strings/text" 
```

如果您想从 edittext 获取文本并附加到 textview 然后

```
 EditText edit = (EditText) findViewById(R.id.editText);
  TextView text = (TextView) findViewById(R.id.Text);
  String str=edit.getText().toString();
  text.setText(str); 
```

# iphone - iOS MVC - 来回传递数据到视图控制器和模型

> ID：15239499
> 
> 赞同：1
> 
> 时间：2013-03-06T05:15:54.903
> 
> 标签：iphone, ios, objective-c, model-view-controller

我是 iOS 编程新手，并且编写了一个简单的提醒样式应用程序，我现在正在重写它以正确实现 MVC 模型，因为以前我的所有代码都在视图控制器中。

我有一个名为 Event 的自定义类，具有属性名称、时间、重复等，然后是以下结构：

**模型类**

检索、处理和保存数据`NSUserDefaults`

**根视图控制器**

创建模型对象的一个​​实例并要求模型返回所有​​事件对象，`NSUserDefaults`然后将它们显示在`UITableView`

**编辑事件视图控制器**

`[editEventVC initWithEvent:theEvent];`

通过 init 方法传递在表格单元格中选择的特定事件对象并显示所有可编辑的属性

**EditEventPropertyViewController**

`[editEventPropertyVC initWithValue:propertyValue];`

通过 init 方法传递要编辑的属性值（例如事件名称），并通过委托方法返回用户更新的值

这是实现此应用程序的正确方法吗？

`NSUserDefaults`完成 EditEventViewController 后，通过模型保存更新的 Event 对象的最佳方法是什么？通过代表？目前，我正在 rootViewController 中的 viewWillAppear 上重新加载 uitableview 数据，因此它必须在再次检索之前保存更新的数据。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:02:13.780

You can store the collection of `Event` in `NSUserDefaults`. Since its a custom class, you need to implement `NSCoding` protocol for serialization to `NSUserDefaults`.

```
//Event.h

    @interface Event : NSObject<NSCoding>

    @property (nonatomic, copy)   NSString *name;
    @property (nonatomic, strong) NSDate *time;
    @property (nonatomic) NSInteger repeat;

    - (void)save;
    + (NSArray *)allEvents;

//Event.m
#define kSavedEvents @"SavedEvents"

#pragma mark - Encoding
- (void)encodeWithCoder:(NSCoder *)encoder
{
    [encoder encodeObject:self.name  forKey:@"EventName"];
    [encoder encodeObject:self.time forKey:@"EventTime"];
    [encoder encodeObject:@(self.repeat) forKey:@"EventRepeat"];

}

#pragma mark - Decoding
- (id)initWithCoder:(NSCoder *)decoder
{
    self = [super init];
    if (self)
    {
        _name   = [decoder decodeObjectForKey:@"EventName"];
        _time   = [decoder decodeObjectForKey:@"EventTime"];
        _repeat = [[decoder decodeObjectForKey:@"EventRepeat"]integerValue];

    }
    return self;
} 
```

You need to archive the data while storing to NSUserDefaults and unarchive when fetching

```
 (void)save
{
    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];

    NSData *savedData = [defaults objectForKey:kSavedEvents];

    NSMutableArray *savedEvents = [@[] mutableCopy];

    //Some events are already there in there
    if (savedData) {
        savedEvents = [[NSKeyedUnarchiver unarchiveObjectWithData:savedData]mutableCopy];
    }

    [savedEvents addObject:self];

    //Archiving the savedEvents to data
    NSData *newEventData = [NSKeyedArchiver archivedDataWithRootObject:savedEvents];

    [defaults setObject:newEventData forKey:kSavedEvents];
    [defaults synchronize];
}

+ (NSArray *)allEvents
{
    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    NSData *data = [defaults objectForKey:kSavedEvents];
    if (data)
    {
        return [NSKeyedUnarchiver unarchiveObjectWithData:data];
    }
    return nil;
} 
```

Hope this will get you started.

# sql-server-2008 - 配置 AppFabric 监控 - 无法检测到为此数据库运行作业的 SQL 代理服务

> ID：15239500
> 
> 赞同：1
> 
> 时间：2013-03-06T05:15:55.247
> 
> 标签：sql-server-2008, appfabric, sql-agent-job, sql-agent

我正在尝试解决为什么我们的几个安装了应用程序结构的服务器没有登录到数据库。

我们有多个运行 2008 R2 的 Web 服务器，以及一个运行 SQL Server 2008 的数据库服务器 2008 R2。每个 Web 服务器都安装了 AppFabric，并配置为将监控记录到数据库服务器上的单独数据库中。

除了两个之外，所有 Web 服务器都正确记录。我曾多次尝试重新配置 AppFabric 监控配置，每次都给我一个错误：

> 无法检测到为此数据库运行作业的 SQL 代理服务。如果服务停止，AppFabricDashboard 将不会显示事件数据。

当我在根 web.config 中注册监视存储并初始化监视存储时出现此错误。它成功创建了所有数据库表、sql 作业等。 **但似乎没有任何记录**。

是的，sql 代理服务正在运行，因为对于数据库服务器上的所有其他数据库，它是相同的 sql 代理服务。

* * *

除了唯一数据库之外，我在所有 Web 服务器上都使用相同的设置。

我的监控配置是：

AppFabric 事件收集服务帐户：**srv_AppFabric**
监控提供程序：**System.Data.SqlClient**
连接字符串：**ApplicationServerMonitoringConnectionString**
服务器：**sql2008**（这是我们数据库服务器的名称）
数据库：**ApplicationServerMonitoring_DEV**（每个 Web 服务器连接到不同的数据库，它将是 ApplicationServerMonitoring_[Env ])

安全配置：

Windows 身份验证
管理员：**srv_AppFabric**
读者：**srv_AppFabric**
作家：**srv_AppFabric**

* * *

我对类似问题采取了一些解决方案，但无济于事：

*   [http://msdn.microsoft.com/en-us/library/ff637694(v=azure.10).aspx](http://msdn.microsoft.com/en-us/library/ff637694(v=azure.10).aspx)
*   [https://stackoverflow.com/questions/4733348/configuring-appfabric-with-remote-database](https://stackoverflow.com/questions/4733348/configuring-appfabric-with-remote-database)
*   [我想我正确配置了 AppFabric，但 AppFabric 仪表板上没有任何反应](https://stackoverflow.com/questions/4508576/i-think-i-configured-appfabric-correctly-but-nothing-is-happening-on-appfabric-d)
*   [http://social.technet.microsoft.com/wiki/contents/articles/windows-server-appfabric-troubleshooting-anonymous-logon.aspx](http://social.technet.microsoft.com/wiki/contents/articles/windows-server-appfabric-troubleshooting-anonymous-logon.aspx)
*   [http://social.msdn.microsoft.com/Forums/en-US/dublin/thread/e885b0cb-29c8-42b2-a8a7-f6373b3dfb12/](http://social.msdn.microsoft.com/Forums/en-US/dublin/thread/e885b0cb-29c8-42b2-a8a7-f6373b3dfb12/)

希望有任何帮助或建议，谢谢

# android - 取消 loadUrl() 方法启动的加载操作

> ID：15239504
> 
> 赞同：0
> 
> 时间：2013-03-06T05:16:12.963
> 
> 标签：android

如何取消由 mWebView.loadUrl("my_url") 方法启动的 WebView 中的加载操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:22:19.993

那会通过[`mWebView.stopLoading()`](http://developer.android.com/reference/android/webkit/WebView.html#stopLoading%28%29)

# c# - 警告 MSB4056：必须在单线程单元上调用 MSBuild 引擎

> ID：15239507
> 
> 赞同：3
> 
> 时间：2013-03-06T05:16:30.690
> 
> 标签：c#, msbuild

我在尝试使用 C# 控制台应用程序构建我的 ASP.Net 解决方案时遇到此错误：

> MSBUILD：警告 MSB4056：必须在单线程单元上调用 MSBuild 引擎。当前的线程模型是“MTA”。继续，但某些任务可能无法正常运行。

这是我的代码：

```
Engine engine = new Engine();
engine.BinPath = @"C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319";

FileLogger logger = new FileLogger();
logger.Parameters = @"logfile=C:\temp\build.log";
engine.RegisterLogger(logger);

bool success = engine.BuildProjectFile(ConfigurationSettings.AppSettings["ProjectPath"]);

engine.UnregisterAllLoggers();
if (success)
    Console.WriteLine("Build succeeded.");
else
    Console.WriteLine(@"Build failed. View C:\temp\build.log for details"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:56:57.523

Just decorate the main method with `[STAThread]`.

That said, the only issues that could cause if you can tasks that calls into COM methods. In other words, it is generally safe to ignore it.

# java - 使用线条创建填充桶工具

> ID：15239511
> 
> 赞同：0
> 
> 时间：2013-03-06T05:16:34.950
> 
> 标签：java, line, paint, fill, bucket

我想使用我拥有的线条类为我的程序制作一个填充桶工具。我的填充桶将记录为填充一个区域而需要绘制的所有线条，例如：

[http://i.imgur.com/Cywh8xU.png](http://i.imgur.com/Cywh8xU.png) - 在这张图片中，我点击的点是红色圆圈，它会为每条线找到 2 个点（起点和终点）。我显然没有画出所有的线条，但这是我所拥有的基本概念。

我遇到的问题是图像最终看起来像这样，我不知道为什么。 [http://i.imgur.com/IXHgEf2.jpg](http://i.imgur.com/IXHgEf2.jpg)

这是我到目前为止查找所有行的代码：

公共类 FillBucket{

```
private BufferedImage image;
private Fill currentFill;
private Line currentLine;

private Queue<Point> pointsToVisit;

@Override
public void mousePressed(Point point) {
    super.mousePressed(point);

    if(pointIsOnCanvas(point)) {
        image = new BufferedImage(getCanvas().getPreferredSize().width, getCanvas().getPreferredSize().height, BufferedImage.TYPE_INT_RGB);
        Graphics2D g2 = (Graphics2D) image.getGraphics();
        getCanvas().paint(g2);

        currentFill = new Fill(getColor());
        pointsToVisit = new LinkedList<>();
        createPoints(point, image.getRGB(point.x, point.y));

        getCanvas().addDrawable(currentFill);
        getCanvas().repaint();
    }
}

private void createPoints(Point clickedPoint, int clickedColor) {
    pointsToVisit.add(clickedPoint);

    while(!pointsToVisit.isEmpty()) {
        Point testPoint = pointsToVisit.poll();

        if(testPoint.x > 0 && testPoint.x < image.getWidth() && testPoint.y > 0 && testPoint.y < image.getHeight() 
                && image.getRGB(testPoint.x, testPoint.y) == clickedColor) {
            while(testPoint.x > 0 && image.getRGB(testPoint.x, testPoint.y) == clickedColor) {
                testPoint.x--;
            }
            currentLine = new Line(getColor(), 5);
            currentLine.addPoint(new Point(testPoint));
            while(testPoint.x < image.getWidth() && image.getRGB(testPoint.x, testPoint.y) == clickedColor) {
                pointsToVisit.add(new Point(testPoint.x, testPoint.y+1));
                pointsToVisit.add(new Point(testPoint.x, testPoint.y-1));

                image.setRGB(testPoint.x, testPoint.y, getColor().getRGB());
                testPoint.x++;
            }
            currentLine.addPoint(new Point(testPoint));
            currentFill.addLine(currentLine);
        }
    }
} 
```

}

这是我的线类的基础知识：

```
public class Line {
private List<Point> points;
private int width;

/**
 * Create a Line
 * @param color - The color of the line
 * @param width - The width of the line
 */
public Line(Color color, int width){
    points = new LinkedList<>();
    setColor(color);
    setWidth(width);
}

/**
 * Add a Point to the Line
 * @param p - The Point to add to the Line 
 */
public void addPoint(Point p) {
    points.add(p);
}

@Override
public void draw(Graphics2D g2) {
    super.draw(g2);
    g2.setStroke(new BasicStroke(getWidth(), BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));
    for(int i=1; i<points.size(); i++)
        g2.drawLine(points.get(i-1).x, points.get(i-1).y, points.get(i).x, points.get(i).y);
} 
```

}

这是我的填充类：

```
public class Fill{

List<Line> lines;

/**
 * Create a Fill
 * @param color - The Color of the Fill
 */
public Fill(Color color){
    lines = new LinkedList<>();
    setColor(color);
}

/**
 * Add a Line to the Fill
 * @param l - The Line to add
 */
public void addLine(Line l) {
    lines.add(l);
}

@Override
public void draw(Graphics2D g2) {
    super.draw(g2);
    for(Line l: lines) {
        l.draw(g2);
    }
} 
```

任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:41:04.703

您需要将`createPoints(...)`函数更改为如下所示：

```
private void createPoints(Point clickedPoint, int clickedColor) {
    pointsToVisit.add(clickedPoint);

    while(!pointsToVisit.isEmpty()) {
        Point testPoint = pointsToVisit.poll();

        if(testPoint.x >= 0 && testPoint.x < image.getWidth() && testPoint.y >= 0 && testPoint.y < image.getHeight() 
            && image.getRGB(testPoint.x, testPoint.y) == clickedColor) {
            while(testPoint.x > 0 && image.getRGB(testPoint.x-1, testPoint.y) == clickedColor) {
                testPoint.x--;
            }
            currentLine = new Line(getColor(), 5);
            currentLine.addPoint(new Point(testPoint));

            pointsToVisit.add(new Point(testPoint.x, testPoint.y+1));
            pointsToVisit.add(new Point(testPoint.x, testPoint.y-1));

            image.setRGB(testPoint.x, testPoint.y, getColor().getRGB());

            while(testPoint.x < image.getWidth()-1 && image.getRGB(testPoint.x+1, testPoint.y) == clickedColor) {
                pointsToVisit.add(new Point(testPoint.x, testPoint.y+1));
                pointsToVisit.add(new Point(testPoint.x, testPoint.y-1));

                image.setRGB(testPoint.x, testPoint.y, getColor().getRGB());
                testPoint.x++;
            }
            currentLine.addPoint(new Point(testPoint));
            currentFill.addLine(currentLine);
        }
    }
} 
```

`=`（我在您的条件中添加了几个 -标志`if`，以便您也可以单击图像的左上角，并在您的条件中添加几个`+1`s 和`-1`s`while`以修复接下来描述的错误）

基本上，在第一个 while 循环之后会发生什么，您要么位于图像的左边缘，在这种情况下一切正常，要么您`testPoint`指向的第一个像素不再等于 clickedColor，在这种情况下，您的第二个while 循环立即终止。

顺便说一句：如果您单击已设置为填充颜色的点（即 if `clickedColor == getColor()`），您的代码可能会锁定。

# hibernate - EntityManagerFactory 和 SessionFactory 的区别？

> ID：15239518
> 
> 赞同：1
> 
> 时间：2013-03-06T05:17:25.260
> 
> 标签：hibernate, jpa, hibernate-mapping, persistence.xml

我是 Hibernate 和 JPA 的新手。现在我正在使用 EntityManagerFactory 实例创建 EntityManager 然后我将这个 EntityManager 解包到 Session 中

```
entityManager = entityManagerFactory.createEntityManager();
session = entityManager.unwrap(Session.class); 
```

通过使用 EntityManagerFacotry，我们无需创建 Hibernateconfig.xml，我们可以使用 Persistence.xml。但是我的问题是当我使用 Peristenece.xml 时，我无法通过休眠映射文件映射实体类

可以使用 Hibernate Mapping 文件来映射使用 EntityManagerFactory 的实体类吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:41:56.280

简短的回答是肯定的，您可以将 hibernate.cfg.xml 与 JPA 一起使用。只需在创建映射时假装您直接使用休眠即可。但是，你为什么要使用 Session？你不使用 EntityManager#persist() 吗？或#createQuery()？（顺便说一句，EntityManager 是 JPA，Session 是 Hibernate）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:47:17.923

在您仍然想使用休眠会话的同时使用 jpa 有点奇怪。但是对于您的问题，是的，您可以这样做。这是关于此的另一个问题：[How to load a Hibernate 'xxx.hbm.cfg' file in a JPA 2.0 project?](https://stackoverflow.com/questions/8363647/how-to-load-a-hibernate-xxx-hbm-cfg-file-in-a-jpa-2-0-project) . 还有一个标签，可以导入hbm.xml文件。

# android - 如何使用按钮从列表视图中删除项目？

> ID：15239524
> 
> 赞同：1
> 
> 时间：2013-03-06T05:17:50.887
> 
> 标签：android

List_Remind.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:padding="5dp" >

    <TextView
        android:id="@+id/label"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:text="Hello"
        android:layout_weight="1"
        android:textSize="30px" >
    </TextView>

    <ImageButton
        android:background="@null"
        android:id="@+id/imageButton1"
        android:layout_width="50px"
        android:layout_height="50px"
        android:layout_marginRight="10dp"
        android:src="@drawable/delete_task" />

</LinearLayout> 
```

ReminderListActivity.java

```
package com.dummies.android.taskreminder;

import com.dummies.android.taskreminder.R;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.app.ListActivity;
import android.content.Context;
import android.content.Intent;
import android.database.Cursor;
import android.os.Bundle;
import android.util.Log;
import android.view.ContextMenu;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.ContextMenu.ContextMenuInfo;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.view.Window;
import android.view.WindowManager;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.CursorAdapter;
import android.widget.ImageButton;
import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.SimpleCursorAdapter;
import android.widget.TextView;
import android.widget.Toast;
import android.widget.AdapterView.AdapterContextMenuInfo;

public class ReminderListActivity extends Activity implements OnClickListener{
    private static final int ACTIVITY_CREATE=0;
    private static final int ACTIVITY_EDIT=1;

    private RemindersDbAdapter mDbHelper;
    ListView lvRemind;
    ImageButton btnAdd,btnBack,btnSettings;
    TextView text;
    LinearLayout layout;
    ArrayAdapterExample aAdapter;
    int pos;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, 
                                WindowManager.LayoutParams.FLAG_FULLSCREEN);
      //  setContentView(R.layout.reminder_list);
        LayoutInflater inflate = LayoutInflater.from(this);
        layout = (LinearLayout)inflate.inflate(R.layout.main, null);
        this.setContentView(layout); 
        btnAdd = (ImageButton) findViewById(R.id.btnAdd);
        btnBack = (ImageButton) findViewById(R.id.btnBackMain);
        btnSettings = (ImageButton) findViewById(R.id.btnSettings);

        btnAdd.setOnClickListener(this);
        btnBack.setOnClickListener(this);
        btnSettings.setOnClickListener(this);
        mDbHelper = new RemindersDbAdapter(this);
        mDbHelper.open();
        fillData();

        lvRemind.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                // TODO Auto-generated method stub
//                Intent i = new Intent(ReminderListActivity.this, ReminderEditActivity.class);
//              i.putExtra(RemindersDbAdapter.KEY_ROWID, arg2);
//          startActivityForResult(i, ACTIVITY_EDIT); 
            //  Toast.makeText(ReminderListActivity.this, "Hello", Toast.LENGTH_LONG).show();
            }
        });

    }

    private void fillData() {
        Cursor remindersCursor = mDbHelper.fetchAllReminders();
        startManagingCursor(remindersCursor);

        // Create an array to specify the fields we want to display in the list (only TITLE)
        String[] from = new String[]{RemindersDbAdapter.KEY_TITLE};

        // and an array of the fields we want to bind those fields to (in this case just text1)
        int[] to = new int[]{R.id.text1};

        // Now create a simple cursor adapter and set it to display
//        SimpleCursorAdapter reminders = 
//              new SimpleCursorAdapter(this, R.layout.reminder_row, remindersCursor, from, to);
//        setListAdapter(reminders);

        text = (TextView)findViewById(R.id.TextView02); 

        lvRemind = (ListView)findViewById(R.id.alist);

        aAdapter = new ArrayAdapterExample(ReminderListActivity.this, mDbHelper.fetchAllReminders());

        lvRemind.setAdapter(aAdapter);

    }

    @Override
    public void onCreateContextMenu(ContextMenu menu, View v,
            ContextMenuInfo menuInfo) {
        super.onCreateContextMenu(menu, v, menuInfo);
        MenuInflater mi = getMenuInflater(); 
        mi.inflate(R.menu.list_menu_item_longpress, menu); 
    }

    @Override
    public boolean onContextItemSelected(MenuItem item) {
        switch(item.getItemId()) {
        case R.id.menu_delete:
            AdapterContextMenuInfo info = (AdapterContextMenuInfo) item.getMenuInfo();
            mDbHelper.deleteReminder(info.id);
            fillData();
            return true;
        }
        return super.onContextItemSelected(item);
    }

    private void createReminder() {
        Intent i = new Intent(this, ReminderEditActivity.class);
        startActivityForResult(i, ACTIVITY_CREATE);
    }

//    @Override
//    protected void onListItemClick(ListView l, View v, int position, long id) {
//        super.onListItemClick(l, v, position, id);
//        Intent i = new Intent(this, ReminderEditActivity.class);
//        i.putExtra(RemindersDbAdapter.KEY_ROWID, id);
//        startActivityForResult(i, ACTIVITY_EDIT); 
//    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {
        super.onActivityResult(requestCode, resultCode, intent);
        fillData();
    }

    @Override
    public void onClick(View v) {
        switch (v.getId()) {
        case R.id.btnAdd:
            createReminder();
            break;
        case R.id.btnSettings:
            Intent i = new Intent(this, TaskPreferences.class); 
            startActivity(i);
            break;
        case R.id.btnBackMain:
            onBackPressed();
            break;
        default:
            break;
        }

    }

    @SuppressLint("NewApi")
    @Override
    public void onBackPressed() {

        super.onBackPressed();
    }

     class ArrayAdapterExample extends CursorAdapter {

        public ArrayAdapterExample(Context context, Cursor c) {

            super(context, c);

        }

        @Override
        public void bindView(View view, Context context, Cursor cursor) {
            // TODO Auto-generated method stub
             TextView textViewPersonName = (TextView) view.findViewById(R.id.label);

                textViewPersonName.setText(cursor.getString(cursor.getColumnIndex(cursor.getColumnName(1))));

                Log.d("Index: ", ""+cursor.getPosition());
                pos = cursor.getPosition();
             ImageButton ibDel =(ImageButton)view.findViewById(R.id.imageButton1);
             ibDel.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
            //      Toast.makeText(ReminderListActivity.this, "Hello", Toast.LENGTH_SHORT).show();

                    lvRemind.setOnItemClickListener(new OnItemClickListener() {

                        @Override
                        public void onItemClick(AdapterView<?> arg0, View arg1,
                                int arg2, long arg3) {
                            // TODO Auto-generated method stub
                            Toast.makeText(ReminderListActivity.this, ""+lvRemind.getItemAtPosition(arg2), Toast.LENGTH_SHORT).show();
                        }
                    });
                }
            });
        }

        @Override
        public View newView(Context context, Cursor cursor, ViewGroup parent) {
            // TODO Auto-generated method stub
             LayoutInflater inflater = LayoutInflater.from(parent.getContext());

                View retView = inflater.inflate(R.layout.list_remind, parent, false);

                return retView;
        }

    }

} 
```

如何从自定义列表视图中删除特定项目。我在自定义列表视图中添加了按钮。我想使用该位置上的特定按钮删除项目。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T05:19:43.980

至于删除东西，您需要从 ADAPTER 中删除，而不是从列表中删除。您不需要保留自己的项目副本（除非您将它们用于其他用途），因为数组中有一个项目列表。你需要打电话`adapter.remove(item)`而不是`list.remove(item)`

那么您只需使用您的 .remove() 方法从列表中删除所需的项目`ArrayAdapter`。

一种可能的方法是：

```
Object toRemove = arrayAdapter.getItem([POSITION]);
arrayAdapter.remove(toRemove); 
```

另一种方法是修改 ArrayList 并在 ArrayAdapter 上调用 notifyDataSetChanged()。

```
arrayList.remove([INDEX]);
arrayAdapter.notifyDataSetChanged(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:21:28.487

您好尝试以下代码从 Listview 中删除项目

```
Button button1 = (Button) findViewById(R.id.create_message);
button1.setOnClickListener(new OnClickListener()
 public void onClick(View v)
   {
     MyDataObject.remove(positionToRemove);
     adapter.notifyDataSetChanged();
   }       
 }
}); 
```

# ruby-on-rails-3 - RABL 与 Json Builder

> ID：15239528
> 
> 赞同：4
> 
> 时间：2013-03-06T05:18:15.240
> 
> 标签：ruby-on-rails-3, performance, comparison, rabl, jsonbuilder

作为团队的一部分，我们正在构建一个完全通过 API 驱动的 RoR 应用程序。我们已经有了一个 Web 应用程序，只是我们现在想让它完全由 API 驱动。我们最初使用[RABL](https://github.com/nesquena/rabl)模板引擎来生成 JSON 响应。我们最近观察到，通过使用[JSON Builder](https://github.com/dewski/json_builder)作为 RABL 的替代方案，我们的应用程序中用户最常点击的 API 调用的响应时间增加了大约半秒。在我们最终决定将 JSON Builder 用于我们所有的 API 之前，我只是想了解使用 RABL 和 JSON 的优缺点。**此外，如果可以比较**两个模板引擎，主要是在可行的情况下**牢记性能**，那就太好了。

分享任何相关链接也会有所帮助。

请让我知道您使用这两种模板引擎的经验。谢谢你。

# android - 如何动画视图 onTouch 事件从一个到另一个

> ID：15239531
> 
> 赞同：0
> 
> 时间：2013-03-06T05:18:26.273
> 
> 标签：android, animation, swipe

我正在开发安卓应用程序。在我的应用程序中，我想通过滑动并单击选项卡按钮从第一个活动移动到第二个活动。

所以请告诉我，当我从右向左交换时，如何使用我的应用程序中的滑动移动到下一个活动，并在我从左到右交换时返回第一个活动。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:25:34.097

您可以使用 GestureDector 获取左右滑动动作的回调。 [http://developer.android.com/reference/android/view/GestureDetector.html](http://developer.android.com/reference/android/view/GestureDetector.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:26:47.897

让您的活动实现 OnGestureListener

然后重写这个方法

```
public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
            float velocityY) {
        // TODO Auto-generated method stub
        try {
            if (Math.abs(e1.getY() - e2.getY()) > SWIPE_MAX_OFF_PATH)
                return false;
            // right to left swipe
            if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE
                    && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {

                    Intent i=new Intent(GroupScreen.this,TimeLineScreen.class);
                    i.putExtra("clear", true);
                    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(i);
                    finish();
                    overridePendingTransition( R.anim.slide_in_left, R.anim.slide_out_left );

        } catch (Exception e) {
            // nothing
        }

        return true;    
    } 
```

# html - 使 html 复选框被选中且不可编辑

> ID：15239535
> 
> 赞同：2
> 
> 时间：2013-03-06T05:19:12.193
> 
> 标签：html

我有一个 HTML 表单，带有一些输入复选框。我需要其中两个预先选择且不可编辑。我已经尝试过“检查”和“禁用”，但禁用的输入不包括在表单提交中。还有其他方法吗？我希望复选框被选中且不可编辑，并且它的值在表单提交时提交。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T05:23:00.187

如果选中并禁用为您提供所需的外观，则添加一些隐藏的表单字段以提交您需要的数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:25:56.507

对于您的问题，我有一种解决方法。

您可以将选中的复选框值存储在隐藏字段中，并在表单提交时访问隐藏字段。

在 html 方面：

选中并禁用复选框。同时将隐藏字段中选定的复选框值保存为逗号分隔的字符串。

在 serevr 方面：从逗号分隔的字符串中获取值作为字符串数组并将数组的值保存在数据库中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:24:59.273

如果您更喜欢使用脚本，请尝试以下方式。你没有在你的问题中提到你是否能够使用它。我希望这至少对您有所帮助.. :)

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script>
            $(document).ready(function(){
                $('.required-checkbox').each(function(index, value){
                    $(value).change(function(){
                        $(this).prop('checked', true);
                    });
                });
            });
        </script>
    </head>
    <body>
        <input type="checkbox" class="required-checkbox" checked />
        <input type="checkbox" />
        <input type="checkbox" class="required-checkbox" checked />
        <input type="checkbox" />
        <input type="checkbox" />
        <input type="checkbox"  />
    </body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T07:44:33.253

*您可以在表单提交事件*期间删​​除这些输入的“禁用”状态。

```
$('form').submit(function(e) {
    var disabledInputs = $(this).find(':input:disabled');
    disabledInputs.removeAttr('disabled');
    return true;
 }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-05-23T13:19:04.077

我用这个

```
<style>
.read_only {
    pointer-events: none;

}
 </style> 
```

并将此类应用于任何输入表单字段甚至复选框，它工作正常，并且复选框的颜色未禁用

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-03-06T05:24:07.230

```
$(":checked").on('click',function(){   //select those element which you want to make preselect and non editable...
 $(this).attr("checked","checked");
}); 
```

你不需要禁用它...

# dust.js - 遍历 Dust.js 中当前上下文对象的属性

> ID：15239539
> 
> 赞同：1
> 
> 时间：2013-03-06T05:19:59.420
> 
> 标签：dust.js

给定 JSON 对象：

```
errors =
{ 
  hashed_password: { 
     message: 'Validator "Password cannot be blank" failed for path hashed_password',
     name: 'ValidatorError',
     path: 'hashed_password',
     type: 'Password cannot be blank' },
  username: { 
     message: 'Validator "Username cannot be blank" failed for path username',
     name: 'ValidatorError',
     path: 'username',
     type: 'Username cannot be blank' },
  email: {
     message: 'Validator "Email cannot be blank" failed for path email',
     name: 'ValidatorError',
     path: 'email',
     type: 'Email cannot be blank' },
  name: { 
     message: 'Validator "Name cannot be blank" failed for path name',
     name: 'ValidatorError',
     path: 'name',
     type: 'Name cannot be blank' } 
} 
```

如何遍历每个“当前上下文”对象的属性？

我想你会做这样的事情：

```
{#errors}
    {#.}
         {type}
    {/.}
{/errors} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T11:59:34.450

如果您确实必须将有意义的数据放入对象键中，请考虑编写上下文帮助器，如下所示：

*   [https://github.com/akdubya/dustjs/issues/9](https://github.com/akdubya/dustjs/issues/9)

*   [Dust.js 输出 JSON 密钥](https://stackoverflow.com/questions/10564997/dust-js-output-json-key)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:59:50.803

在 Dust 中无法遍历对象的成员。部分原因是您无法知道成员的顺序。另一部分是这被视为给 Dust 带来了太多的逻辑。

相反，您可以将 JSON 更改为如下所示：

```
{
  errors: [
    {
      hashed_password: { 
        message: 'Validator "Password cannot be blank" failed for path hashed_password',
        name: 'ValidatorError',
        path: 'hashed_password',
        type: 'Password cannot be blank'
      }
    },
    {
      username: { 
        message: 'Validator "Username cannot be blank" failed for path username',
        name: 'ValidatorError',
        path: 'username',
        type: 'Username cannot be blank'
      }
    },
    {
      email: {
        message: 'Validator "Email cannot be blank" failed for path email',
        name: 'ValidatorError',
        path: 'email',
        type: 'Email cannot be blank'
      }
    },
    {
      name: { 
        message: 'Validator "Name cannot be blank" failed for path name',
        name: 'ValidatorError',
        path: 'name',
        type: 'Name cannot be blank'
    }
  ]
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-04T17:23:46.280

您可以使用帮助程序迭代对象。

例如，您可以定义一个像这样的助手：

```
dust.helpers.iter = function(chunk, context, bodies, params) {
  var obj = dust.helpers.tap(params.obj, chunk, context);

  var iterable = [];

  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      var value = obj[key];

      iterable.push({
        '$key': key,
        '$value': value,
        '$type': typeof value
      });
    }
  }

  return chunk.section(iterable, context, bodies);
}; 
```

然后，在您的模板中，您将像这样循环：

```
{@iter obj=errors}
  {$value.type}
{/iter} 
```

# filtering - 在 Vaadin 6 中实现 FilterTreeTable

> ID：15239541
> 
> 赞同：4
> 
> 时间：2013-03-06T05:20:02.523
> 
> 标签：filtering, implementation, vaadin, treetable

我在 Vaadin 7 中开始了我的项目。由于 Vaadin 7 中的[FilteringTable](https://vaadin.com/directory#addon/filteringtable)插件无法提供 Filter Treetable 支持，我降级到 Vaadin 6。我看到他们已经在 Vaadin 6 中实现了[FilterTreeTable](http://tepi.virtuallypreinstalled.com/filteringtable?restartApplication)。他们提供了如何使用[代码](https://vaadin.com/directory#addon/filteringtable)。但是，该代码适用于 FilterTable。我在哪里可以获得一些用于实现 FilterTreeTable 的演示代码？如果我得到演示应用程序的演示代码，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:33:35.810

查看此[链接](https://github.com/tepi/FilteringTable/blob/vaadin6/src/org/tepi/filtertable/demo/FiltertabledemoApplication.java)中的第 195 行。他们有在 vaadin 中实现 FilterTreeTable 的演示代码。不要忘记将 DemoFilterGenerator 和 DemoFilterDecorator 类添加到您的项目中。

# oracle - oracle 空间 sdo_on 函数不返回任何行

> ID：15239543
> 
> 赞同：1
> 
> 时间：2013-03-06T05:20:12.227
> 
> 标签：oracle, geometry, spatial

这是我的示例表：

```
SELECT p.id, p.loc, t.x, t.y,t.id vertex_num
FROM my_test p, TABLE(sdo_util.getvertices(p.geom))t
where p.id in (23, 24);

    id    loc       x   y  vetex_num
--------------------------------
    23  RECTANGLE   1   10  1
    23  RECTANGLE   15  20  2
    24  LINE        1   10  1
    24  LINE        15  10  2 
```

似乎 LINE 的边界与 RECTANGLE 的边界交互，对于 SDO_ON 函数应该返回 TRUE，

```
SELECT  A.loc , b.loc
FROM my_test A, my_test b
WHERE SDO_ON(A.geom, B.geom) = 'TRUE'; 
```

但它没有结果，认为它显示了 ANYINTERACT 的结果。我已经尝试使用带有 'mask= on' 参数的 SDO_RELATE，但没有返回任何行。

任何帮助表示赞赏。谢谢：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:11:50.460

我自己终于找到了！！

问题在于 SRID，（我的索引和表格 SRID 是 8307）我已经更改了支持 wkt 作为 PROJECTED 坐标的 SRID。例如。32774、90112，我使用了 32774 并在上面查询了相同的内容，现在我得到了预期的结果：

```
LOC  LOC_1
----------
LINE RECT 
```

但我仍然不明白为什么它不能与 srid 8307 一起使用。

# ruby - 如何测试哈希的顺序意识相等

> ID：15239544
> 
> 赞同：5
> 
> 时间：2013-03-06T05:20:23.257
> 
> 标签：ruby, hash, equality, ordereddictionary

Ruby 1.9.2 将顺序引入哈希。考虑到顺序，如何测试两个哈希是否相等？

鉴于：

```
h1 = {"a"=>1, "b"=>2, "c"=>3}
h2 = {"a"=>1, "c"=>3, "b"=>2} 
```

`false`我想要一个返回for `h1`and的比较运算符`h2`。以下都不起作用：

```
h1 == h2 # => true
h1.eql? h2 # => true 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T06:10:56.653

可能最简单的方法是比较相应的数组。

```
h1.to_a == h2.to_a 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T05:25:00.550

您可以比较他们`keys`方法的输出：

```
h1 = {one: 1, two: 2, three: 3} # => {:one=>1, :two=>2, :three=>3}
h2 = {three: 3, one: 1, two: 2} # => {:three=>3, :one=>1, :two=>2}
h1 == h2 # => true
h1.keys # => [:one, :two, :three]
h2.keys # => [:three, :one, :two]
h1.keys.sort == h2.keys.sort # => true
h1.keys == h2.keys # => false 
```

但是，根据键插入顺序比较哈希有点奇怪。根据您想要做什么，您可能需要重新考虑您的底层数据结构。

# javascript - 为什么一旦将 Modernizr 动态加载到 Gmail 中，它就会变得疯狂？

> ID：15239547
> 
> 赞同：1
> 
> 时间：2013-03-06T05:20:36.600
> 
> 标签：javascript, webkit, gmail, modernizr

在 Gmail 中的 Chrome 或 Safari 检查器控制台中输入以下内容：

```
function load(url,cb){var x=document.body.appendChild(document.createElement('script'));x.src=url;x.onload=function(){console.log("Dynamically loaded "+url);if(cb){cb();}};if(!cb){x.setAttribute('async','')}}
load("https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js",function(){alert("Modernizr loaded");}); 
```

导致大部分文本的布局变得疯狂。

这可以解释吗？我希望我的工具（包括运行一个动态加载 Modernizr 的小书签）在 Gmail 上工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:32:01.030

Modernizer adds a lot of classes to the `<html>` tag, and one of those classes is `js`. I couldn't find anything in the documentation that describes what that represents, although I suspect it just represents JavaScript support. Google has minified their classes, so they are all short two letter items (probably generated). One of them happens to be `js` as well, which is causing a lot of text to get centered.

In fact, to un-hose it, just remove the `js` class from the `<html>` tag after dynamically loading your script and it fixes itself.

Here's a fixed version:

```
function load(url,cb){var x=document.body.appendChild(document.createElement('script'));x.src=url;x.onload=function(){console.log("Dynamically loaded "+url);if(cb){cb();}};if(!cb){x.setAttribute('async','')}}
load("https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js",function(){var htmlElement = document.getElementsByTagName("html")[0]; htmlElement.className = htmlElement.className.replace
      ( /(?:^|\s)js(?!\S)/g , '' );    alert("Modernizr loaded");}); 
```

# sql - PRO*C 为什么要在 make 文件中提及 sql 用户和密码

> ID：15239548
> 
> 赞同：0
> 
> 时间：2013-03-06T05:21:01.213
> 
> 标签：sql, linux

我有一个奇怪的问题，我试图回溯到根本原因。

场景是，我有一堆分散在多个文件夹中的 c、cpp 和 Pro*C 代码 [巨大的文件数]。几十个make文件。当我们更改 code/config/libs 中的某些内容时，我们会定期运行 makefile 以创建最新的可执行文件。

问题是：我的 SQL 用户 ID 和密码定期过期。这些 ID 用于制作文件和 Pro*C 代码以连接到 DB。我们必须定期让它们重置，并且一次又一次地要求相同已成为问题。

问题是，为什么 SQL 凭据在重置后会失败？每次重置时，ID 工作 3 或 4 次，之后 ID 再次失效。

在 Make 文件中，ID 用于检查语义。并且proc默认检查语法错误。如果 ID 正常工作，exe 不会失败。那么为什么ID会失败。请就如何解决此问题提出建议。

我是否应该要求 DBA 更改此 ID 的任何设置？或者我的代码中是否存在某些东西，导致 ID 因错误而失败。我们将 ID 复制到一个 env 变量中，所有 EXE 都在读取该变量。这会导致问题吗？在使用来自 ENV 变量的数据时，我们应该采取任何预防措施吗？[exe完美运行3次，之后SQL ID失败。]

请就我身边应采取的所有预防措施提出建议。

# android-asynctask - 在 AsyncTask 函数上定义超时

> ID：15239549
> 
> 赞同：1
> 
> 时间：2013-03-06T05:21:04.193
> 
> 标签：android-asynctask, connection-timeout

我希望我的应用程序在连接到 Web 服务后的 15 秒内抛出超时错误，无论 Web 服务是否返回任何答案。如果有人需要更多关于相同的细节，请发表评论！

# neo4j - 无法解决 Cypher 查询的问题

> ID：15239553
> 
> 赞同：1
> 
> 时间：2013-03-06T05:21:13.067
> 
> 标签：neo4j, cypher

我执行了以下查询并删除了所有关系

```
START n=node:search('username:donna') 
MATCH n-[rel18?:STATUS]->(n18)-[rel19?:NEXT*1..]->(n19) 
WITH n, rel18, n18, rel19, n19 
FOREACH(rel IN rel19: DELETE rel) 
DELETE n19, n18, rel18; 
```

结果：6 个关系和 6 个节点被删除。

现在，当我尝试再次执行相同的查询时，我收到一个错误 Unknown identifier`rel19`

事实上，即使下面的查询给出了相同的错误未知标识符`rel19`

```
START n=node:search('username:donna') 
MATCH n-[rel18?:STATUS]->(n18)-[rel19?:NEXT*1..]->(n19) 
RETURN n.username, rel18, n18, rel19, n19; 
```

我的域模型与此示例相同， [http://docs.neo4j.org/chunked/milestone/cypher-cookbook-newsfeed.html](http://docs.neo4j.org/chunked/milestone/cypher-cookbook-newsfeed.html)

我正在尝试实现删除。

此外，上述删除查询（第一个查询）将是使用 WITH 子句附加的更大查询的一部分。因此，在某些情况下，该特定用户可能没有任何 STATUS 和 NEXT 关系，但整个查询仍应成功执行。您能否帮助修改查询，以便查询在所有情况下都能正常运行。

谢谢，帕万

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:01:27.230

`[rel19?:NEXT*1..]->(n19)` 表示一个可选的关系，因此关于 this 的 match 语句可能包含也可能不包含这个路径。如果它不包含此路径，则不会将其进一步解析到 return 子句。比 return 子句将在不存在的标识符上输出错误。我建议像这样在 RETURN 之前放置一个 WHERE 条件；

```
START n=node:search('username:donna')
MATCH n-[rel18?:STATUS]->(n18)-[rel19?:NEXT*1..]->(n19)
WITH n, rel18, n18, rel19, n19 
WHERE n--n18
DELETE n19, n18, rel18
WITH rel19, n19 
WHERE ()-[rel19:]-n19
DELETE n19
WITH rel19
FOREACH(rel IN rel19: DELETE rel) 
```

# linker-errors - D-Bus 链接问题

> ID：15239560
> 
> 赞同：11
> 
> 时间：2013-03-06T05:21:24.207
> 
> 标签：linker-errors, dbus, pkg-config

我一直在尝试编译一个程序，`dbus`并按照我在代码中提到的类似问题的建议。我确实执行了它，如图所示：

```
gcc `pkg-config --cflags dbus-glib-1` \
  `pkg-config --cflags dbus-1` \
  `pkg-config --cflags glib-2.0` \
   dbus-example.c \
  `pkg-config --libs dbus-glib-1` \
  `pkg-config --libs dbus-1` \
  `pkg-config --libs glib-2.0` 
```

我仍然收到以下错误：

```
Package dbus-glib-1 was not found in the pkg-config search path.
Perhaps you should add the directory containing `dbus-glib-1.pc'
to the PKG_CONFIG_PATH environment variable
No package 'dbus-glib-1' found
Package glib-2.0 was not found in the pkg-config search path.
Perhaps you should add the directory containing `glib-2.0.pc'
to the PKG_CONFIG_PATH environment variable
No package 'glib-2.0' found
Package dbus-glib-1 was not found in the pkg-config search path.
Perhaps you should add the directory containing `dbus-glib-1.pc'
to the PKG_CONFIG_PATH environment variable
No package 'dbus-glib-1' found
Package glib-2.0 was not found in the pkg-config search path.
Perhaps you should add the directory containing `glib-2.0.pc'
to the PKG_CONFIG_PATH environment variable
No package 'glib-2.0' found 
```

我安装了上述软件包，但错误仍然存​​在。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-07T08:37:54.050

您是否安装了这些库的开发包，或者只是这些库本身？在 Debian/Ubuntu 上，您想要其他`libdbus-glib-1-dev`类似`-dev`的软件包；在 Fedora 上，你想要`dbus-glib-devel`的和类似的。

# android - 在另一个 tabview 中的 Tabview 中打开 alertDialog

> ID：15239566
> 
> 赞同：2
> 
> 时间：2013-03-06T05:22:02.227
> 
> 标签：android, android-tabhost, android-alertdialog, android-tablelayout, android-tabactivity

我有一个`tab view`里面那个`tab view`，另一个`tab view`里面那个选项卡视图`，还有一个警告框。当我尝试打开它时，我的应用程序被强制关闭。

![在此处输入图像描述](../Images/b92e06e9d0dd907b821a828f5f89ecc7.png)

但这`AlertDialog`在第一个选项卡视图上也可以正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:36:01.020

将上下文传递给 alertdialog 一定是您犯了一个错误，这是一个非常常见的错误。

您必须将上下文作为 getParent() 而不是“this”传递，因为使用选项卡不是您正在运行的活动，而是显示活动内容的父活动，如果您发布了一些代码，我可以更好地帮助您。

# cloud-foundry - 无法在 cloudfoundry 上部署应用程序引发错误 404 Not Found

> ID：15239568
> 
> 赞同：0
> 
> 时间：2013-03-06T05:22:09.290
> 
> 标签：cloud-foundry, sts-springsourcetoolsuite, vmc

我正在尝试在cloudfoundry上部署spring应用程序。但是作为使用mvn package命令的项目的构建war文件。之后我使用vmc push --appname target（directory）我完成了所有需要在cloudfoundry上推送的步骤。最后我收到消息上传应用程序名称....好的，然后我输入命令 vmc 应用程序然后它显示了我所有推送的应用程序....有 url（[http://cloudapp-project-master.cloudfoundry.com/](http://cloudapp-project-master.cloudfoundry.com/)）我部署的应用程序。我复制并放置在浏览器中然后它给了我 404 Not Found nginx 我不知道问题出在哪里......请帮我摆脱这个。进阶谢谢……

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T12:26:20.810

您能否查看日志文件夹以查看那里的文件是否提供更多信息。

```
vmc logs <app-name> 
```

或者

```
vmc files <app-name> logs/stderr.log
vmc files <app-name> logs/stdout.log 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:06:38.580

运行 vmc 应用程序时应用程序的状态是什么？我建议您在[http://support.cloudfoundry.com](http://support.cloudfoundry.com)上提交一份工单，其中包含有关该问题的详细信息，并可能共享该项目，以便他们可以轻松地重现该问题。您需要在 cf.com 中注册的帐户才能登录。

# java - 二叉搜索树父指针

> ID：15239569
> 
> 赞同：1
> 
> 时间：2013-03-06T05:22:09.913
> 
> 标签：java, parent-child, binary-search-tree

我正在写一个二叉搜索树，我想包含一个父指针。我现在拥有的方式是父引用是一个节点。所以例如我的 getParent() 返回一个节点而不是一个值。

我的问题是这是否是正确的方法，或者父引用是否应该只是父的值，以便 getParent() 返回一个值而不是节点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:25:17.057

我建议返回节点本身。如果您继续自己存储值，数据大小将变得不合理，实际上理论上几乎翻了一番，因为每个节点将包含两组值而不是一组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:25:54.200

这取决于您的要求，但似乎您做对了，将其保持为具有 Nodevalue 的 Node。这样，如果需要，您可以增强您的程序，以便在需要时包含方向。这种方式更加灵活。

# sql - 在 DB2 中使用 IN 子句时如何保留结果的顺序？

> ID：15239570
> 
> 赞同：2
> 
> 时间：2013-03-06T05:22:10.187
> 
> 标签：sql, db2

我需要使用该`IN`子句获得一组结果，但默认排序已完成并返回结果。有没有办法维护 db2 中 in 子句的顺序？

`ORDER BY FILED`将是 MySQL 中的解决方案，但在 DB2 中是否有等价物？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:03:47.843

据我了解，您想要这样做：

```
select foo from table where bar in (3, 1, 2); 
```

并按项目栏匹配的顺序。ie`bar = 3`首先出现，然后是1，然后是2。

我认为在 DB2 中没有内置的方法可以做您想做的事情。

但是，请查看[这个最近的问题](https://stackoverflow.com/questions/15155930/how-do-i-preserve-the-order-of-a-sql-query-using-the-in-command)，其中讨论了解决方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-19T14:24:50.263

如果您希望按特定顺序获得结果，ORDER BY 就是这样做的。除非您使用 ORDER BY，否则 SQL 不保证顺序。结果集的排序顺序与您选择在任何 IN() 子句中列出项目的方式之间没有任何关系。IN() 子句与它无关。

请注意，在没有 ORDER BY 的情况下，任何时候都可能获得特定的排序顺序，这完全是靠运气。但是，不能保证。如果行随时间发生变化，则可能会在没有警告的情况下显示不同的排序顺序。

这是一种 SQL 行为，而不是 DB2。DB2 只是按照 SQL 的预期工作方式来处理这种行为。

# php - PHP电子邮件故障

> ID：15239580
> 
> 赞同：-2
> 
> 时间：2013-03-06T05:23:08.930
> 
> 标签：php, email, mysqli

这是学校的作业。我不知道 PHP 变量等的所有细节，但是！如果我对 id 进行硬编码，那么它会按原样发送。如果没有，那根本就没有。建议？

```
if ((!empty($_subject)) && (!empty($_text))) {
        $_dbc = mysqli_connect('localhost', 'user', 'password', 'db') or die ('Error Connecting to MySQL server.');

        $_id = $_GET['id'];

        $_query = "SELECT * FROM midterm WHERE id = '$_id'";

        $_result = mysqli_query($_dbc, $_query) or die ('Error Querying Database.');

        while($_row = mysqli_fetch_array($_result)) {
            $_to = $_row['email'];
            $_firstName = $_row['firstName'];
            $_msg = "Dear $_firstName, /n $_text";
            mail($_to, $_subject, $_msg, 'From:' . $_from);         
            echo 'Mail sent to: ' . $_firstName . ' at ' . $_to . '<br />';
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:45:31.530

**使用 NULL $_GET['id'] 解决 $_GET/$_POST 问题**

`<form name="example" action="http://example.com" method="POST"></form>`

或者

`<form name="example" action="http://example.com" method="GET"></form>`

如果变量是从表单发布的，它们将通过服务器发送，您可以在提交的页面上使用 $_POST['key'] 访问它们。如果变量是通过 GET 发送的，它们将被附加到 URL 中的查询字符串中，并且可以通过 $_GET['key'] 在页面上访问。

当您使用该变量`$_GET['id']`时，它会在 URL 的查询字符串中查找 key `id`。如果您的 URL 看起来像`http://example.com/sript.php?id=123`then`$_GET['id']`将返回`123`not `NULL`。这可以通过访问特定的 URL（如上所示）或通过如下形式到达页面来完成：

```
<form name="example" action="http://example.com/script.php" method="GET">
<input type="text" name="id" />
<input type="submit" value="Try Me" />
</form> 
```

此表单在提交时将使用 GET 将 $_GET['id'] 变量发送到 script.php。

**解决邮件未发送的其他问题**

您能否在您的 while 循环之前添加以下代码行并让我知道它们在说什么？这会让我知道您的 MySQL 查询是否正常工作。

```
echo "Rows returned: ".mysqli_num_rows($_result)."<br />";

// this line only works on PHP > 5.3.0
echo "Result dump:<br /><pre>".mysqli_fetch_all($_result)."</pre>"; 
```

由于 mysqli_num_rows() 返回 0，这意味着您的 SQL 查询`SELECT * FROM midterm WHERE id = '7'`没有返回任何结果。如果不查看数据库结构，我将无能为力。仔细检查您的代码（并将其与有效的代码进行比较）以尝试查看问题所在。确保表 midterm 中有一行 id = 7。

# cordova - jQuery Mobile 在 PhoneGap Windows Phone 8 中不起作用

> ID：15239583
> 
> 赞同：8
> 
> 时间：2013-03-06T05:23:23.300
> 
> 标签：cordova, jquery-mobile, windows-phone-8

我正在使用 PhoneGap 和 jQuery Mobile 开发一个应用程序。

我已经完成了应用程序的 android 版本。我正在使用 Adob​​e PhoneGap build 来构建我的应用程序。Android版本运行良好。但现在我正在尝试测试该应用程序的 Windows Phone 8 版本。

`app.xap`我在 Visual Studio 2012 模拟器中测试了 PhoneGap 构建。似乎 jQuery 手机无法正常工作。出于测试目的，我创建了一个示例应用程序。有两`jQuery mobile`页。那也行不通。

请帮帮我。任何帮助将不胜感激。谢谢，=) 请告诉我哪里出了问题。

粘贴我的示例代码：

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <!--[if IE 7]><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /><![endif]-->
    <link rel="stylesheet"  href="css/index.css" />
    <link rel="stylesheet"  href="jquery.mobile/jquery.mobile-1.1.0.css" />

    <title>Hello World</title>
</head>
<body>
    <div data-role="page" id="page1">
<div data-theme="a" data-role="header">
    <h3>
        Header
    </h3>
</div>
<div data-role="content">
    <a data-role="button" href="#page2">
        Button
    </a>
</div>
<div data-theme="a" data-role="footer" data-position="fixed">
    <h3>
        Footer
    </h3>
</div>
</div>

    <div data-role="page" id="page2">
<div data-role="content">
    <img src="https://maps.googleapis.com/maps/api/staticmap?center=Madison, WI&amp;zoom=14&amp;size=288x200&amp;markers=Madison, WI&amp;sensor=false"
    width="288" height="200">
    <a data-role="button" href="#page1">
        Button
    </a>
    <div data-role="navbar" data-iconpos="top">
        <ul>
            <li>
                <a href="#page1" data-transition="fade" data-theme="" data-icon="">
                    Button
                </a>
            </li>
        </ul>
    </div>
</div>
</div>
    <script type="text/javascript" src="cordova-2.5.0.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
     <script type="text/javascript" src="jquery.mobile/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="jquery.mobile/jquery.mobile-1.2.0.js"></script>
    <script type="text/javascript">
        app.initialize();
    </script>
</body>
</html> 
```

这是我得到的输出：

![在此处输入图像描述](../Images/cbdd38a92d7f84189c8a7981b9783764.png)

这就是我需要的：

![在此处输入图像描述](../Images/e9af1f3d7b7d31651c2f6aace52aac23.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T05:26:47.010

jQuery Mobile 官方不支持 Windows Phone 8。查看支持的平台：http: [//jquerymobile.com/gbs/](http://jquerymobile.com/gbs/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:52:14.207

如下更改您的页面并确保模拟器可以访问互联网

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <!--[if IE 7]><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /><![endif]-->
    <link rel="stylesheet"  href="css/index.css" />
    <link rel="stylesheet"  href="http://jquery.mobile/jquery.mobile-1.1.0.css" />
    <script type="text/javascript" src="http://jquery.mobile/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="http://jquery.mobile/jquery.mobile-1.2.0.js"></script>
    <script type="text/javascript" src="cordova-2.5.0.js"></script>

    <title>Hello World</title>
</head>
<body>
    <div data-role="page" id="page1">
<div data-theme="a" data-role="header">
    <h3>
        Header
    </h3>
</div>
<div data-role="content">
    <a data-role="button" href="#page2">
        Button
    </a>
</div>
<div data-theme="a" data-role="footer" data-position="fixed">
    <h3>
        Footer
    </h3>
</div>
</div>

    <div data-role="page" id="page2">
<div data-role="content">
    <img src="https://maps.googleapis.com/maps/api/staticmap?center=Madison, WI&amp;zoom=14&amp;size=288x200&amp;markers=Madison, WI&amp;sensor=false"
    width="288" height="200">
    <a data-role="button" href="#page1">
        Button
    </a>
    <div data-role="navbar" data-iconpos="top">
        <ul>
            <li>
                <a href="#page1" data-transition="fade" data-theme="" data-icon="">
                    Button
                </a>
            </li>
        </ul>
    </div>
</div>
</div>

    <script type="text/javascript" src="js/index.js"></script>

    <script type="text/javascript">
        app.initialize();
    </script>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T07:26:51.183

将 Cordova 文件放入 HEAD 并确保它是页面中的第一个 JS 文件：

JQM 在 Windows Phone 上运行良好......我遇到了与您类似的问题，这解决了它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-25T08:52:40.487

事实上，JQuery mobile 可以在 windows phone 8 上正常工作。

加载js文件的正确顺序是：

加载 JQuery 本身；仅加载 JQuery Mobile css 文件；加载您的自定义脚本和 css；如果需要，加载 phonegap (cordova)；将 JQuery Mobile 作为最后一个加载。

这个命令在任何设备上都可以正常工作，包括 windows phone 8（设备或 VS2012 模拟器） 通常我在 index.html 的 HEAD 部分加载所有这些东西。如果您有任何疑问，您可以使用 Cordova 模板直接在 VS2012 中测试您的项目，如此处[所述](http://docs.phonegap.com/en/2.6.0/guide_getting-started_windows-phone-8_index.md.html#Getting%20Started%20with%20Windows%20Phone%208)

希望这有帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-16T05:35:44.850

我在 Windows8 上的 VS2012 中的 WP8 模拟器中看到了同样的问题。如果我制作 jQuery 文件的本地副本，它可以工作。如果我尝试从 CDN 加载它们，它们不会。

```
<script type="text/javascript" src="js/jquery.1.7.2.min.js"></script> 
```

作品。

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> 
```

不起作用并且看起来没有样式。

我制作了所有 Jquery 和 Jquery 移动 js 和 CSS 文件的本地副本，我的 JQM UI 看起来与我预期的完全一样。

虽然，我仍然很好奇模拟器的某些白名单功能是否无法正常工作。或者，如果 hyper-v 交换机管理器的配置开箱即用无法正常工作。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-05-03T09:04:00.567

我按照此[链接](http://docs.phonegap.com/en/2.6.0/guide_getting-started_windows-phone-8_index.md.html#Getting%20Started%20with%20Windows%20Phone%208)在 VS 2013 中安装了 phonegap 模板。然后我使用 phonegap 模板创建了一个项目并下载了 jquery 文件并将它们包含在我的 html 文件中，它就像一个魅力:) 出于某种原因，对 Jquery 的 CDN 引用不起作用用windows phone 模拟器。

这是您可以参考 Jquery 的顺序，

```
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />

    <link rel="stylesheet" href="css/jquery.mobile-1.4.2.css" />
    <!--<script type="text/javascript" src="cordova.js"></script>-->
    <script src="js/jquery-1.11.1.js"></script>
    <script src="js/jquery.mobile-1.4.2.js"></script>
    <title>Hello World</title>
</head> 
```

# c++ - c++倒计时脚本

> ID：15239585
> 
> 赞同：2
> 
> 时间：2013-03-06T05:23:35.097
> 
> 标签：c++

```
#include <cstdlib>
#include <iostream>

using namespace std;

int main(int argc, char *argv[])
{
  int num, num2;
  num = 33;
  do
  {
      cout <<"\n" <<num-3;

}     
  while (num >=3);     
  system("PAUSE");
  return EXIT_SUCCESS;  
} 
```

我已经对上面的代码进行了编码，但是当我运行它时，它会输出 30 并且不会将值耗尽为 3。我怎样才能让循环执行此操作？我知道 num-- 会起作用，但这只会使价值减少一。我是 C++ 新手，我正在尝试解决这些问题。

谢谢！:)

//编辑谢谢我现在可以使用 num = num - 3, num-=3 也可以

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:30:30.843

this line:

```
cout <<"\n" <<num-3; 
```

does not change the value of num. It just outputs the value of num - 3\. To actually change the value you need another line, such as:

```
num -= 3; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:59:26.347

即使您按照建议执行并在循环的每次迭代中减去 3（或其他），它也可能不会有很多好处。问题相当简单：您更新变量的速度可能比打印输出快得多，因此您可能很容易看到十几个或更多值几乎同时出现。

为了解决这个问题，您通常希望在迭代之间暂停一小段时间，以便在打印下一个值之前（可能）会看到一个值。基于`system("pause");`，我猜你正在运行 Windows，在这种情况下，类似这样的代码可能更符合你的喜好：

```
#include <cstdlib>
#include <iostream>
#include <windows.h>

using namespace std;

int main(int argc, char *argv[])
{
    int num = 33;
    do
    {
        cout <<"    \r" << (num-=3);
        Sleep(100);
    }     
    while (num >=3);     
    return EXIT_SUCCESS;  
} 
```

# xml - xpath 选择所有父母和所有孩子

> ID：15239587
> 
> 赞同：7
> 
> 时间：2013-03-06T05:23:39.907
> 
> 标签：xml, xslt, xpath

我需要编写 2 个 xpath 查询，其中一个查询从元素的直接父级到根的特定元素的所有父级，然后我将能够选择元素的某些特定属性。

另一个选择元素的所有子元素，无论它们在哪里。

例如，如果 xml 文档类似于：

```
<role key='total-admin'>
    <role key='security-admin'>
        <role key='users-admin'>
            <role key='add-user'></role>
            <role key='delete-user'></role>
            <role key='deactivate-user'></role>
        </role>
    </role>
</role> 
```

1.  我想用键 'add-user' 选择元素的所有父级。结果将是：

    ```
    [ 'users-admin' , 'security-admin' , 'total-admin' ] 
    ```

2.  我想选择“security-admin”的所有孩子。结果将是：

    ```
    [ 'users-admin' , 'add-user' , 'delete-user' , 'deactivate-user' ] 
    ```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T06:05:18.900

对于第一个查询使用：

```
//role[@key = 'add-user']/ancestor::* 
```

对于第二个：

```
//role[@key = 'security-admin']//* 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T07:08:41.437

您总是有一个上下文节点，您将其定义为具有特定属性值的元素，例如`"add-user"`或`"security-admin"`：

```
//*[@key = "string"] 
```

由于这为您提供了一个节点集，因此上下文节点的表达式需要排除这种类型的所有非单个元素：

```
//*[@key = "string" and count(//*[@key = "string"]) = 1] 
```

这解决了您的上下文节点的需求。然后，您可以使用`.`或逐字写入该上下文节点。

选择上下文元素（即祖先轴）的所有父母、祖父母、祖父母等：

```
./ancestor::*
//*[@key = "string" and count(//*[@key = "string"]) = 1]/ancestor::* 
```

选择所有子项（即后代轴）：

```
./descendant::*
.//*
//*[@key = "string" and count(//*[@key = "string"]) = 1]/descendant::*
//*[@key = "string" and count(//*[@key = "string"]) = 1]//* 
```

# java - 设置两个 p:selectOneMenu

> ID：15239589
> 
> 赞同：1
> 
> 时间：2013-03-06T05:23:44.687
> 
> 标签：java, jsf, primefaces

我需要在我的网页上使用两个primefaces selectonmenus。

1.  我的第二个选择菜单在它具有静态数据时工作，所有数据都可以在按下按钮后单击按钮查看

2.  但它不适用于动态数据数据在使用 ajax 数据加载到此 selectonmenu 从第一个 selectonmenu 中选择一个值后加载到此 selectonmenu 但在从中选择一个值后它始终显示空值

这是第 1 点的代码

```
<p:tab id="create_Subnet_T" title="Create subnet">
<h:form id="create_Subnet">
    <h:panelGrid columns="2" cellpadding="10">

        <h:outputText value="Area:"/>
        <p:selectOneMenu id="AreaDDL" value="#{a_Subnet.selectedArea}" required="true">  
            <f:selectItem itemLabel="Select area" itemValue="" />  
            <f:selectItems value="#{a_Subnet.areaList}" />

        </p:selectOneMenu>

        <h:outputText id="create_Subnet_OT" value="IP Address :" />
        <p:selectOneMenu id="resourceDDL" value="#{a_Subnet.selectedResource}" required="true">  
            <f:selectItem itemLabel="Select resource" itemValue="A" />
            <f:selectItem itemLabel="Select resource" itemValue="B" />
            <f:selectItem itemLabel="Select resource" itemValue="C" />

        </p:selectOneMenu>

        <h:outputText id="netmask_OT" value="netmask :"  />
        <p:inputText id="netmask_IT"  required="true" value="#{a_Subnet.netmask}"/>

        <h:outputText id="description_OT" value="Description :" />
        <p:inputTextarea id="description_ITA" required="true" value="#{a_Subnet.description}"/>

        <p:commandButton id="create_Subnet_Btn" value="Create"  action="#{a_Subnet.test}" />

    </h:panelGrid>
</h:form> 
```

这是不起作用的代码（对于第 2 点）：

```
<p:tab id="create_Subnet_T" title="Create subnet">
    <h:form id="create_Subnet">
        <h:panelGrid columns="2" cellpadding="10">

            <h:outputText value="Area:"/>
            <p:selectOneMenu id="AreaDDL" value="#{a_Subnet.selectedArea}" required="true">  
                <f:selectItem itemLabel="Select area" itemValue="" />  
                <f:selectItems value="#{a_Subnet.areaList}" />

                <p:ajax event="change" update=":Subnet_TV:create_Subnet:resourceDDL"
                        listener="#{a_Subnet.setResourceToDropDownList(a_Subnet.selectedArea)}"/> 
            </p:selectOneMenu>

            <h:outputText id="create_Subnet_OT" value="IP Address :" />
            <p:selectOneMenu id="resourceDDL" value="#{a_Subnet.selectedResource}" required="true">  
                <f:selectItem itemLabel="Select resource" itemValue="A" />
                <f:selectItems value="#{a_Subnet.resourceList}" />
            </p:selectOneMenu>

            <h:outputText id="netmask_OT" value="netmask :"  />
            <p:inputText id="netmask_IT"  required="true" value="#{a_Subnet.netmask}"/>

            <h:outputText id="description_OT" value="Description :" />
            <p:inputTextarea id="description_ITA" required="true" value="#{a_Subnet.description}"/>

            <p:commandButton id="create_Subnet_Btn" value="Create"  action="#{a_Subnet.test}" />

        </h:panelGrid>
    </h:form>
</p:tab> 
```

这是 ajax 中用于检查输出的方法：

```
public void test(){
    System.out.println("hjhjjh");
    System.err.println( "Area = "+selectedArea);
    System.err.println("Resource = "+selectedResource);
    System.err.println("SNetmask = "+netmask);
    System.err.println("Description = "+description);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:27:03.053

当您在同一页面中处理 ajax 操作时，建议您的托管 bean 至少具有`@ViewScoped`注释，因为*只要您在浏览器窗口/选项卡中与相同的 JSF 视图交互*（来自[通信在 JSF 2：托管 Bean 范围](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ManagedBeanScopes)）。

如果您使用 CDI 注释（如`@Named`），那么您将没有`@ViewScoped`注释。为了使其可用于 CDI，您应该添加[MyFaces CODI](http://myfaces.apache.org/extensions/cdi/)。

作为附加建议，不要在 getters/setters 方法中编写业务逻辑服务器，因为[getters 会被多次调用](https://stackoverflow.com/q/2090033/1065197)。

# sql - 在 SQL Server 2008 R2 中查看可编程性节点需要什么角色

> ID：15239604
> 
> 赞同：0
> 
> 时间：2013-03-06T05:24:33.977
> 
> 标签：sql, sql-server-2008-r2

我试图找出`Programmability`在 SQL Server 2008 R2 Management Studio 中查看节点所需的角色。

DBO 角色可以看到它，但我们正试图让我们的开发人员访问查看他们正在编写的存储过程、函数、数据库触发器和类型，而不给他们在我们的 Prod 系统上的完全管理员访问权限。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:30:39.410

我相信他们将需要对对象（或对象所在的架构）进行 VIEW DEFINITION 您可以将 VIEW ANY DATABASE 权限作为服务器级别权限，以避免在所有数据库上单独指定此权限。

[查看定义](http://msdn.microsoft.com/en-gb/library/ms175808%28v=sql.105%29.aspx)

[查看任何数据库](http://msdn.microsoft.com/en-gb/library/ms189077%28v=sql.105%29.aspx)

# java - 如何区分设计模式和标准多态性

> ID：15239609
> 
> 赞同：1
> 
> 时间：2013-03-06T05:25:10.053
> 
> 标签：java, design-patterns, interface, polymorphism, abstract-class

例如我有一个接口和一堆类如下

```
public interface Drawable{
  void draw(); // draws something on screen for example.
}

abstract class Shape implements Drawable {...}
class Circle extends Shape{...} // assume that draw() is implemented in both classes.
class Square extends Shape{...} // ... 
```

现在，如果我有一个主类并执行以下操作：

```
class Main{

Shape s1 = new Circle();
s1.draw(); // assume that this will draw a circle.

s1 = new Square();
s1.draw(); //assume that this will draw a square.

} 
```

我在这里使用设计模式吗？或者这只是标准的多态性？如果这是一种设计模式，那么它叫什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:55:36.020

*   在我看来，设计模式是一种久经考验**的**编写代码来解决问题的方式。您使用给定设计模式的方式可能会因您使用的编程语言而显着不同。
*   语言级别很少支持设计模式（尽管像 Groovy 这样的新语言确实在语言级别实现了特定的设计模式；例如，Groovy 中使用称为“闭包”的语言级别功能提供了“方法对象”模式）。
*   您给出的代码是多态性的一个示例，它是 OOP 的基本概念之一。然而，多态性是实现许多设计模式的基础之一。
*   语言级别支持多态性；这不是您可以将其编码到程序中的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:30:51.277

There was a Java book written in 1998, still available [at Amazon](https://rads.stackoverflow.com/amzn/click/com/0471227293) which in Chapter 4, called out "Inteface", "Abstract Superclass" and other things as "Fundamental Design Patterns."

This claim was somewhat controversial, as many people would say these are just basic mechanisms rather than "design patterns."

Short answer is: people will give you both answers, though in my experience, most people would say no.

# php - PHPProjekt 检测到错误的 PHP 版本

> ID：15239616
> 
> 赞同：0
> 
> 时间：2013-03-06T05:25:46.197
> 
> 标签：php

我正在尝试在我的共享虚拟主机上安装 PHPProjekt，由于某种原因，它检测到错误的 PHP 版本。

我已将 CPanel 配置为使用 PHP 5.3 版，其他应用程序工作正常并检测到正确的版本。但由于某种原因，PHPProjekt 没有遵循此设置并包含错误的 PHP.ini 文件并检测到错误的版本。

有没有人遇到过这种情况？并知道如何解决这个问题？

如果没有，是否有任何替代的开源项目管理系统（TO DO 列表，时间日志是必须的）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:09:59.220

如果加载`echo phpinfo();`.php 脚本，您将看到当前 PHP 版本以及当前 php.ini 文件（加载的配置文件）的路径。使用此信息更新您的问题，并检查 php.ini 文件以确认它是旧 PHP。如果 CPanel 成功安装，那么你必须找到 5.3 php.ini。

# java - 如何使弹出窗口BG模糊

> ID：15239617
> 
> 赞同：1
> 
> 时间：2013-03-06T05:25:50.533
> 
> 标签：java, android, popupwindow

在我的应用程序中，我正在使用弹出窗口，它看起来像这样，但是弹出窗口的背景不是模糊的，我该如何让它看起来模糊。

这是代码，

```
View v1 = inflatter.inflate(R.layout.problemlistmenu_popup, null);
                v1.measure(View.MeasureSpec.UNSPECIFIED, View.MeasureSpec.UNSPECIFIED);
                int height1 = v1.getMeasuredHeight();
                clickOnProblemName = new PopupWindow(showProblemMenu(details), (int) (width * 0.8), height1, true);
                clickOnProblemName.showAtLocation(mainlayout, Gravity.CENTER, 0, 0); 
```

**显示问题菜单**

```
 protected View showProblemMenu(String details) {
        View v = null;
            v = inflatter.inflate(R.layout.problemlistmenu_popup, null);
return v;
} 
```

这是xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/mainlayout"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@color/silver002"
    android:orientation="vertical" >

    <FrameLayout
        android:layout_width="match_parent"
        android:layout_height="30dp"
        android:background="@drawable/headerstyle1" >

        <TextView
            android:id="@+id/tvHeaderText"
            android:layout_width="match_parent"
            android:layout_height="30dp"
            android:gravity="left|center_vertical"
            android:paddingLeft="5dp"
            android:text=""
            android:textColor="@android:color/white"
            android:textSize="12dp"
            android:textStyle="bold" />

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="30dp"
            android:layout_marginTop="4dp"
            android:gravity="right|center_vertical" >

            <TextView
            android:id="@+id/tvCancel"
            android:layout_marginRight="3dp"
            android:layout_width="wrap_content"
            android:layout_height="25dp"
            android:paddingLeft="4dp"
            android:paddingRight="4dp"
            android:layout_marginTop="2dp"
            android:background="@drawable/backgroundstyle_btn1"
            android:layout_gravity="right"
            android:text="Cancel"
            android:gravity="center"
            android:textColor="@android:color/white"
            android:textSize="14dp"
            android:textStyle="bold" />

        </LinearLayout>
    </FrameLayout>

    <ScrollView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center_horizontal"
            android:padding="5dp"
            android:orientation="vertical" >

            <TextView
                android:id="@+id/tvChronic"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="3dp"
                android:padding="10dp"
                android:textColor="@android:color/black"
                android:text=""
                 android:textStyle="bold"
                android:background="@drawable/row_selector"
                android:textSize="14dp" />
            <TextView
                android:id="@+id/tvResolved"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="3dp"
                android:padding="10dp"
                android:text="Change to Resolved"
                 android:textStyle="bold"
                android:background="@drawable/row_selector_alternative"
                android:textColor="@android:color/black"
                android:textSize="14dp" />

            <TextView
                android:id="@+id/tvProblemName"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="3dp"
                android:padding="10dp"
                android:text="Edit Problem Name"
                android:textStyle="bold"
                android:background="@drawable/row_selector"
                android:textColor="@android:color/black"
                android:textSize="14dp" />

             <TextView
                android:id="@+id/tvComments"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="3dp"
                android:padding="10dp"
                android:text="Edit Comments"
                 android:textStyle="bold"
                android:background="@drawable/row_selector_alternative"
                android:textColor="@android:color/black"
                android:textSize="14dp" />

        </LinearLayout>
    </ScrollView>

</LinearLayout> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:28:37.307

这里有一个非常好的教程，向您展示如何做到这一点：http: [//www.stealthcopter.com/blog/2010/01/android-blurring-and-dimming-background-windows-from-dialogs/](http://www.stealthcopter.com/blog/2010/01/android-blurring-and-dimming-background-windows-from-dialogs/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-24T11:35:06.517

愿这有帮助

```
 mPopupWindow.setTouchable(true);
    mPopupWindow.setFocusable(false);
    mPopupWindow.setOutsideTouchable(false); 
```

# php - PHP中日期（日期数据类型）和时间（时间数据类型）的串联

> ID：15239618
> 
> 赞同：-1
> 
> 时间：2013-03-06T05:25:51.783
> 
> 标签：php, mysql

php中的串联是否有所作为。假设我的数据库中有一个 time_in 列（时间数据类型）和一个 date_in 列（日期数据类型）。

例子：

```
id | time_in | time_out |   date_in   |   date_out  | 
 1 | 9:30pm  | 7:30am   | 2013-12-01  |  2013-13-01 | 
```

在我将显示它的表格中，它显示如下；

```
id | Date & Time Login | Date & Time Logout |
 1 | 2013-12-01 9:30pm | 2013-13-01 7:30am  | 
```

到目前为止，我在我的脚本中执行此操作；

> 回声 $row ['date_in' 。'time_in'];

在表中它显示 2013-12-01Array 并说数组到字符串的转换？

我如何在小而干净的脚本中做到这一点？我需要另一个查询吗？

我需要使用 SELECT CONCAT 吗？

有什么建议么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:29:53.180

You can do something like this. Concat two variable as per your need.

```
For Date & Time Login : $login  = $row['date_in']." ".$row['time_in'];
For Date & Time Logout : $logout = $row['date_out']." ".$row['time_out']; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:29:31.027

尝试这个 ：

```
SELECT CONCAT_WS(' ','date_in','time_in') AS datetime_in, CONCAT_WS(' ','date_out','time_out') AS datetime_out FROM table; 
```

参考：[http ://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T07:05:17.773

```
<?PHP
$conn=mysql_connect('localhost','root','') or die(mysql_error());
$db=mysql_select_db(ur_dbname, $conn) or die(mysql_error());
$query="SELECT * FROM ur_table_name";
$result=mysql_query($query) or die(mysql_error());    
echo "<table style='text-align:center'; cellpadding='3' cellspacing='5'><th><tr><td>ID</td><td colspan='2'>Time_i</td><td colspan='2'>Date_i</td></tr></th>";
while($row=mysql_fetch_array($result) )
    {
       $dis="<tr><td>".$row['id']." </td><td>|</td><td> ".$row['time_i']." </td><td>|</td><td> ".$row['date_i']."</td><td>|</td></tr>";
       echo $dis;
    }
echo "</table>";
?> 
```

我认为这可能对你有用——adn——输出将是

```
ID        Time_i           Date_i
1   |    11:08:40   |    2013-03-06 |
2   |    11:11:46   |    2013-03-06 |
3   |    00:00:00   |    2013-03-06 |
4   |    00:00:00   |    2013-03-06 |
5   |    11:16:40   |    2013-03-06 |
6   |    11:16:54   |    2013-03-06 | 
```

你也可以试试这个

```
echo $row['id']." | ".$row['time']." | ".$row['date']; 
```

# javascript - 获取服务器控制ID失败

> ID：15239625
> 
> 赞同：0
> 
> 时间：2013-03-06T05:26:38.583
> 
> 标签：javascript, jquery, asp.net, html, jquery-ui

我用`.ascx`

我正在尝试使用我的 jQuery 执行一些操作，下面的代码是我调用服务器控件 ID 的方式。

```
$("input").mouseenter(function() {
//some function
}

<input type="text" id="family1" value="family"1/> 
<input type="text" id="family2" value="family"2 runat="server"/> 
```

我现在的问题是我的 family1 能够调用 jQuery 函数，但我的家人不能。
是因为我正在使用`.ascx`，所以我无法将服务器控件 ID 传递给我的 jQuery？
有什么想法可以解决吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:47:32.260

利用：

```
$("#<% family2.ClientID %>").mouseenter(function() {
    //some function
 } 
```

因为您可以重用您的控件，asp.net 正在为您的 ID 添加一些前缀。此生成的 ID 因页面而异。您可以检查页面上生成的 ID 并将该 ID 硬编码到 jQuery 选择器中，但使用 clientID 是可行的方法。您可以通过控制在所有页面上使用它而无需担心。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:40:45.133

```
 $(document).ready(function () {
        $('.ctl00_m_g_3b0d8e69_1961_4bea_886d_413493ff7f9c_ctl00_checkclass').hover(function (event) {
            alert('dada');
            var c = alert($(this).attr("id"));
            alert(c);
        });
    });

<input type="text" id="family1" value="family1" class="checkclass"/> 
<input type="text" id="family2" value="family2" class="checkclass" /> 
<input type="text" id="family3" value="family3" class="checkclass" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:34:39.413

你可以得到，通过使用`ClientID`

请[在这里查看](http://forums.asp.net/t/1503334.aspx/1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:46:25.553

用这个`ClientIDMode="Static"`

```
 <input type="text" id="family2" ClientIDMode="Static" value="family" runat="server"/> 
```

## 编辑 1

**ClientIdMode="Static"**：这是最基本、最简单的模式，它使客户端 ID 静态。
无论您为 ClientID 或 ID 设置什么值，都将用于客户端 ID。
这里有一个奇怪的情况，如果在重复控件中使用静态 ClientIDMode，则开发人员负责确保客户端 ID 的唯一性。
[http://www.codeproject.com/Articles/34151/ASP-NET-4-0-Client-ID-Feature](http://www.codeproject.com/Articles/34151/ASP-NET-4-0-Client-ID-Feature)

# java - Spring/Tomcat 中的动态类加载

> ID：15239627
> 
> 赞同：3
> 
> 时间：2013-03-06T05:26:39.887
> 
> 标签：java, tomcat, classloader

我目前正在使用

```
String myClass; // dynamically determined class name
Class.forName(myClass).newInstance() 
```

在部署到 tomcat 服务器的 spring 应用程序中动态加载对象。

我一直在阅读（[http://blog.bjhargrave.com/2007/09/classforname-caches-defined-class-in.html](http://blog.bjhargrave.com/2007/09/classforname-caches-defined-class-in.html)），动态加载类的首选方法是使用 `ClassLoader.loadClass`，例如

```
ClassLoader.getSystemClassLoader().loadClass(myClass).newInstance() 
```

在第二个示例中，使用`loadClass`时，我收到一个找不到类的错误。我怀疑这是因为我在 Tomcat 中运行系统类加载器不是我真正想要使用的类加载器。

在 Tomcat 应用程序中，如果我想使用 loadClass 机制，我应该使用哪个类加载器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:36:39.360

通常，您希望使用加载当前执行代码的类加载器。也就是说，您只想调用`getClass().getClassLoader().loadClass(...)`. 也就是说，有时您需要使用不同的类加载器。必要时需要数小时的培训。因此，您应该始终使用加载当前执行代码的加载器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:44:18.413

你可以使用`getClassLoader().loadClass(myClass).newInstance()`，

它将在当前类加载器中查找类，如果找不到则转到父类加载器。

myClass 应该是完全限定名称，例如`java.lang.String`

# image - 查找重复的图像文件

> ID：15239630
> 
> 赞同：1
> 
> 时间：2013-03-06T05:26:47.197
> 
> 标签：image, image-processing

我有大约 1 TB 的图像，存储在我的硬盘中。这些是朋友和家人随时间拍摄的照片。其中许多图片是重复的，从某种意义上说，相同的文件保存在不同的位置，可能名称也不同。我想问是否有任何工具、实用程序或方法（我可以编写一个）来找出重复文件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T05:39:09.707

我建议使用[md5deep 或 sha1deep](http://md5deep.sourceforge.net/)。在 Linux 上只需安装包`md5deep`（它包含在大多数 Linux 发行版中）。

安装后，只需在整个磁盘上以递归模式运行它，并使用如下命令将磁盘上每个文件的校验和保存到文本文件中：

```
md5deep -r -l . > filelist.txt 
```

如果您`sha1`更喜欢`md5`，请`sha1deep`改用（它是同一包的一部分）。

有了文件后，只需使用（或在上一步中将其通过`sort`管道输入）对其进行排序：`sort`

```
sort < filelist.txt > filelist_sorted.txt 
```

现在，只需使用任何文本编辑器查看结果 - 您将很快看到所有重复项及其在磁盘上的位置。

如果您愿意，可以使用 Perl 或 Python 编写简单的脚本，以根据此文件列表删除重复项。

# jquery - Jquery在div之间滚动淡入淡出

> ID：15239632
> 
> 赞同：2
> 
> 时间：2013-03-06T05:26:50.217
> 
> 标签：jquery, scroll, fade

好的，所以我在页面下方有几个 div，主要是常见的 CSS 高度：1024px 和宽度：100%。这些 div 中的每一个都有一个使用 backstretch 设置的全屏背景图像。

我想要做的是首先隐藏所有 div，只显示第一个 - 然后当您向下滚动页面时，我希望每个 div 淡入，现有 div 淡出，反之亦然，当您向上滚动时。

如您所见，我已将现有 div 设置为 1024 的所有高度，因此我不介意您是否可以在更高分辨率的屏幕底部看到空白区域。

我曾尝试使用 scrolltop() 函数，但它不能可靠地工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:01:53.930

试试下面的东西

```
<script type="text/javascript">
$(document).ready(function(){
    $(document).scroll(function() {
        var main = Math.min(0.5 + 0.4 * $(this).scrollTop() / 3000, 0.9);
        var change = Math.round(main * 255);
        $("body").css('background-color', 'rgb(' + change + ',' + change + ',' + change+ ')');
    });
});

</script> 
```

**背景**

```
var pW = $(this).scrollTop();
$(this).css('background-position', '0% ' + parseInt(-pW / 10) + 'px'); 
```

创建精灵`css`图像并相应地设置图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:47:44.623

你可以使用这样的东西

```
$(window).scroll(function() {

    if ($(this).scrollTop()>0)
     {
        $('div1').fadeOut();
     }
    else
     {
        $('div2').fadeIn();
     }
 }); 
```

# php - 从 SimpleXMLElement 对象的 xpath 引用中提取数据

> ID：15239638
> 
> 赞同：0
> 
> 时间：2013-03-06T05:27:18.453
> 
> 标签：php, xml, xpath, simplexml

我正在尝试将 XML 文件读入数组，但遇到了一些麻烦。这是我的代码到目前为止的样子：

```
 $inst = new SimpleXMLElement($xml);
 foreach( $inst->xpath("record[@id='" . $range . "']") as $u ) {
      foreach($fields as $field) {
          $results[$field] = $u->$field;
      }
 } 
```

但是当我这样做时`print_r($results)`，这就是输出的内容：

```
Array
(
[field1] => SimpleXMLElement Object
    (
        [0] => field1Data
    )

[field2] => SimpleXMLElement Object
    (
        [0] => field2Data
    )

[field3] => SimpleXMLElement Object
    (
        [0] => field3Data
    )
) 
```

如何直接从 中获取数据`SimpleXMLElement Object`并将其存储在数组中而不是让它这样做？我尝试将它作为一个数组访问，`$u->$field[0]`但这也不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:57:26.830

将 SimpleXMLElement 转换为字符串是一般解决方案（有关规范问题，请参阅[*“强制将 SimpleXML 对象转换为字符串，无论上下文如何”*](https://stackoverflow.com/q/416548/367456)），对于包含所有`SimpleXMLElement`s 的完整数组，例如由`xpath()`您自己创建的返回或类似的，常见的方法是将数组映射到[`trim`](http://php.net/trim)：

```
$results = array_map('trim', $results); 
```

或[`strval`](http://php.net/strval)：

```
$results = array_map('strval', $results); 
```

例如：

```
$inst    = new SimpleXMLElement($xml);
list($u) = $inst->xpath("record[@id='" . $range . "']")
foreach ($fields as $field) {
    $results[$field] = $u->$field;
}

$results = array_map('strval', $results); 
```

# heroku - 如何从 OS X 卸载 Heroku Toolbelt？

> ID：15239642
> 
> 赞同：4
> 
> 时间：2013-03-06T05:27:48.633
> 
> 标签：heroku, uninstallation

我安装了 Heroku Toolbelt，发现我不知道如何卸载它。我怎样才能干净地卸载它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T05:31:20.340

Just do:

```
rm -rf ~/.heroku
sudo rm -rf /usr/local/heroku
sudo rm -rf /usr/bin/heroku 
```

to remove the relevant files and folders

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-11-25T03:50:41.227

目前我通过 MacOSX pkg 安装了 heroku-cli。我尝试[了官方文档](https://devcenter.heroku.com/articles/heroku-cli#uninstalling-the-heroku-cli-macos)命令，但无法卸载。我检查目录使用`find -type d -name heroku`，我发现`/usr/local/lib/heroku`。

所以你可以在这里运行我认为：

```
# Cache and settings
rm -rf ~/.cache/heroku
rm -rf ~/.config/heroku
rm -rf ~/.local/share/heroku
rm -rf ~/Library/Caches/heroku

# Symlink and main sources
rm /usr/local/bin/heroku
rm -rf /usr/local/lib/heroku 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:29:46.727

Run these two commands:

```
sudo rm -rf /usr/local/heroku
sudo rm -rf /usr/bin/heroku 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-22T19:51:25.293

以下命令应该找到与heroku相关的所有内容

```
$ sudo find / -name "*heroku*" -prune 2>/dev/null 
```

从结果列表中我发现我需要删除以下内容

```
sudo rm -rf /usr/local/heroku
sudo rm -rf /private/var/db/receipts/com.heroku.toolbelt.bom
sudo rm -rf /private/var/db/receipts/com.heroku.toolbelt.plist
rm -rf ~/.config/heroku
rm -rf ~/.heroku
rm -rf ~/.local/share/heroku
rm -rf ~/Library/Caches/heroku
rm -rf ~/.cache/heroku 
```

也不要忘记从你的`PATH`. 因此，从您的 中删除以下行`~/.bash_profile`：

```
export PATH=/usr/local/heroku/bin/:$PATH 
```

# java - 在自定义 500 错误 jsp 页面中显示有关异常的信息

> ID：15239645
> 
> 赞同：3
> 
> 时间：2013-03-06T05:28:11.330
> 
> 标签：java, jsp, servlets, custom-error-pages

我想 ：

*   自定义我的`500 error`页面和
*   记录导致 500 的异常详细信息，

**有没有办法获得这些信息？我如何引用它？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T17:17:41.113

像这样在**web.xml**中指定错误页面

```
<error-page>
        <error-code>500</error-code>
        <location>/error500.jsp</location>
    </error-page> 
```

然后创建**error500.jsp**作为错误页面，使用`exception`object来显示stacktrace。

```
<%@ page isErrorPage="true" %>
<% exception.printStackTrace(response.getWriter()); %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-29T01:26:45.540

这对我有用，而不是强制实际错误 500，而是自定义错误页面，只有我的输出：

**主.jsp**

```
<%@ page errorPage="error.jsp" %>
<... your code ...> 
```

**错误.jsp**

```
<%@page isErrorPage="true" %>
<% response.setStatus(200,""); %>
Server Error 500: Error text ... 
```

# jquery - 将函数分配给 Ajax 成功事件

> ID：15239653
> 
> 赞同：0
> 
> 时间：2013-03-06T05:28:44.153
> 
> 标签：jquery, ajax, yii

`redirect`JavaScript 函数在没有参数的情况下可以正常工作`data`，但是在添加`data`参数时不起作用。怎样才能赋予XML`responseText`功能`redirect()`？

代码：

```
<?php
        $url = Yii::app()->createAbsoluteUrl('upanel/user/update');
        echo CHtml::ajaxLink('update',$url,array(
            'method'=>'get',
            'data'=> "js:$('#user-info').serialize()",
            'datatype'=>'html',
            'success'=>'redirect(data);',
        ));
    ?>

<script>
function redirect(data){
    alert(data+' redirect');
} </script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:39:23.003

这里的问题是您正在*调用函数*而不是*将函数分配*为回调：

```
'success'=>'redirect(data);' // calling 
```

该行应更改为：

```
'success'=>'redirect' // assigning callback function object 
```

# javascript - 使用 fs.rename() 的 EPERM 错误

> ID：15239655
> 
> 赞同：4
> 
> 时间：2013-03-06T05:28:46.433
> 
> 标签：javascript, node.js

这是我的代码：

```
exports.post_handler = function(req, res) {
    var photo = req.files.image;
    console.log(photo);
    console.log(__dirname);

    fs.readFile(photo.path, function(err, data) { //I use the path module to join the image path strings
        fs.rename(path.join(__dirname, "public/temp"), path.join(__dirname,"public/images"), function(err) {
            if (err) {
                console.log(err);
                res.redirect("/");
            }
            else {
                console.log("file " + photo.name + "written to uploads folder");
                res.redirect("/home");
            }
        });
    });
} 
```

我正在尝试将上传的图像文件从我的`temp`文件夹移动到我的`uploads`文件夹。我正在使用该`fs`模块来执行此操作。将两个文件的完全权限授予我 PC 上的所有用户后，我收到以下错误：

```
{ [Error: EPERM, rename 'dir\public\temp']
  errno: 50,
  code: 'EPERM',
  path: 'dir\\public\\temp' } 
```

我不确定这里出了什么问题。有人有想法么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:32:54.260

您的代码试图做的是将`public/temp`目录重命名为`public/images`. `public/images`大概已经存在，所以你得到了那个错误。换句话说，您没有在任何地方移动图像，而是将目录“移动”（重命名）`public/temp`为`public/images`.

你必须`photo.path`改用。使用它作为第一个参数，然后也许第二个参数应该`path.join`图像目录到`path.basename(photos.path)`.

# php - Foreach 拉动多个输入

> ID：15239656
> 
> 赞同：0
> 
> 时间：2013-03-06T05:28:55.270
> 
> 标签：php, mysql

我有一组输入 - 4 个问题，每个问题都是数组（范围可以从 1-100 个键） - 它们可能从 1 开始，也可能不从 1 开始（可能像 95,96,97,98...）我需要同时一次从每个键 1 的所有 4 个问题中提取输入，不幸的是，我无法弄清楚如何......我熟悉 foreach 语句，我认为这可能是我最好的选择：

这就是我所拥有的

```
<textarea name="question[98]" rows="3" cols="60"></textarea>
<select name="anstype[98]">
<option value="break">Section Title</option>
...more options
</select>
<input name="d_on[98]" type="text" size="10">
<input name="a_d_on[98]" type="text" size="10"> 
```

下一组输入可能是

```
<textarea name="question[99]" rows="3" cols="60"></textarea>
<select name="anstype[99]">
<option value="break">Section Title</option>
...more options
</select>
<input name="d_on[99]" type="text" size="10">
<input name="a_d_on[99]" type="text" size="10"> 
```

理想情况下，我需要将这些放入 mysql 插入语句中

```
$insquery = "INSERT INTO questions (question, anstype, d_on, a_d_on) VALUES('$_POST['question[98]']', '$_POST['anstype[98]']', '$_POST['d_on[98]']', '$_POST['a_d_on[98]']') "; 
```

再次我不知道钥匙将从什么开始，感谢任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:30:58.347

```
foreach($_POST["question"] as $key=>$value)
{
$question=$value;
$anstype=$_POST["anstype"][$key];
$d_on=$_POST["d_on"][$key];
$a_d_on=$_POST["a_d_on"][$key];

// Run your query here for one complete entry and it will repeat with loop

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:31:19.543

You need to use the key like this:

```
$_POST['question'][] 
```

In your case, for example: 98: $_POST['question'][98], but its better to iterate over it.

# android - 在 phonegap 中添加 web 项目

> ID：15239657
> 
> 赞同：0
> 
> 时间：2013-03-06T05:29:08.347
> 
> 标签：android, cordova

我只使用 HTML5、CSS3 和 Jquery 进行 Web 应用程序设计，此外，我还有一个启用 AJAX 的 WCF 服务项目来为 HTML 页面提供端点。我还有几个项目在我的 Web 应用程序中使用了 Web 服务。

现在我想使用 Phonegap 将此应用程序转换为本机应用程序。请在这方面帮助我，转发我们可以用来通过 phonegap 将 Web 应用程序转换为原生 android 的资源。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:37:25.207

如果你在你的应用程序中只使用了 HTML、JS 和 CSS，而没有像 ASP.NET 或 PHP 这样的服务器端技术，你可以很容易地让整个代码库在手机上运行。如果您需要获得真正的移动体验，请尝试使用 jQuery Mobile 或 Kendo UI Mobile for UI 等移动框架。

# qt - 如何使用 Qwebview 保存用户帐户和密码

> ID：15239659
> 
> 赞同：0
> 
> 时间：2013-03-06T05:29:14.277
> 
> 标签：qt, pyqt, pyside

我用 Qwebview 加载[https://accounts.google.com](https://accounts.google.com) ，我想知道在我点击登录按钮的那一刻如何保存用户帐户和密码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:07:04.050

这实际上是一个相当复杂的问题——我想到了一些想法。

首先，也是最具侵入性的，是将一些 javascript/jQuery 代码注入到 webview 中，这最终会导致包含表单数据的信号供您的应用程序处理。您可以决定它是否包含用户/通行证，如果是，则提供存储它。

另一种做事方式（我认为）是拦截表单提交，但这不能在 a 中完成`QWebView`，而是在 a`QWebPage`通过[`acceptNavigationRequest()`](http://qt-project.org/doc/qt-5.0/qtwebkit/qwebpage.html#acceptNavigationRequest)函数完成（这可能需要子类化`QWebPage`）。完成此操作后，您可以使用 Qt 的类遍历 DOM 并提取必要的表单数据。

* * *

**投票后编辑：**我知道这已经六年了，但这里有一个更深层次的问题需要解决。*为什么需要捕获用户名/密码组合？*很可能你没有，你绝对不应该。Google 帐户支持通过[Oauth2](https://developers.google.com/identity/protocols/OAuth2)进行身份验证。负责任的应用程序永远不应该要求外国帐户的用户名/密码。

# android - 如何在android中创建联系人

> ID：15239660
> 
> 赞同：1
> 
> 时间：2013-03-06T05:29:18.083
> 
> 标签：android, android-layout

我的要求是我想创建一个带有图像的联系人，并且在联系人图像旁边我想显示联系人的姓名。

下面是我的代码： 这里我也可以创建联系人，但我无法获得准确的输出。

代码：

```
<LinearLayout 

xmlns:android="http://schemas.android.com/apk/res/android"

android:layout_width="match_parent"

android:layout_height="match_parent"

android:orientation="vertical" >

<QuickContactBadge

    android:id="@+id/quickContactBadge1"

    android:layout_width="wrap_content"

    android:layout_height="wrap_content" />

<TextView

    android:id="@+id/checkedTextView1"

    android:layout_width="wrap_content"

    android:layout_height="wrap_content"

    android:text="CheckedTextView" />

 </LinearLayout> 
```

我的输出：

![在此处输入图像描述](../Images/715ecfead4ba1af727da32fa89df05b2.png)

要求输出：

![在此处输入图像描述](../Images/ae40f4c1c91d471be07dc89d1976d5bb.png)

请任何人建议我。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:06:07.720

快速联系徽章需要提供一些数据。如果您没有应用任何数据，您会得到圆形头像+微笑图像。您应该获得一个 Uri 并将其分配给徽章。

这是 Shane Conder 和 Lauren Darcey 编写的一个不错的教程：http: [//mobile.tutsplus.com/tutorials/android/android-sdk_contact-badge/](http://mobile.tutsplus.com/tutorials/android/android-sdk_contact-badge/)

这是教程中的代码片段，展示了如何填充徽章：

```
Uri contactUri = data.getData();  
        FrameLayout badgeLargeHolder = (FrameLayout) findViewById(R.id.badge_holder_large);  
        QuickContactBadge badgeLarge = new QuickContactBadge(this);  
        badgeLarge.assignContactUri(contactUri);  
        badgeLarge.setMode(ContactsContract.QuickContact.MODE_LARGE);  
        badgeLarge.setImageResource(R.drawable.droid_small);  
        badgeLargeHolder.addView(badgeLarge); 
```

# flash - 网络摄像头正在 Flash 弹出窗口中连接，但未在 red5recorder 视频面板中显示

> ID：15239661
> 
> 赞同：0
> 
> 时间：2013-03-06T05:29:18.753
> 
> 标签：flash, webcam, red5

我是 red5recorder 的新手。我下载了red5recorder并将其放在linux系统/mnt/red5/webapps/root/的位置，并将服务器地址从127.0.0.1更改为我在record.as和red5recorder.as文件中的IP地址，以便在笔记本电脑上运行我的应用程序摄像头。我在 red5recorder.html 文件中脚本的 flashVars 中包含了“server=rtmp://my.ip.addrs/red5recorder”。此外，我在 flash 设置中允许了我的 IP 地址，并允许网络摄像头访问该站点。但是网络摄像头没有与 red5recorder 视频面板连接。谁可以帮我这个事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T16:10:02.910

为了使您的服务器线路正常工作，您需要修复应用程序路径；从我读到的，我认为它看起来像这样：

```
/mnt/red5/webapps/root/red5recorder
```

移动应用程序，使您的路径如下所示：

```
/mnt/red5/webapps/red5recorder
```

“root”是一个伪应用程序，其他应用程序不会放在其中。

# mysql - 单个查询中的多个选择

> ID：15239666
> 
> 赞同：1
> 
> 时间：2013-03-06T05:29:30.957
> 
> 标签：mysql

我希望精通 MySQL 的人能够帮助我解决这个问题。我正在尝试对选择进行选择，但查询似乎不想完成。任何帮助将不胜感激。

```
SELECT 
    product as pid, 
    leg_name as name, 
    dimensions as dims 
FROM 
    pmaint 
WHERE 
    product in (
        SELECT product 
        FROM qb_export_items_attributes
        WHERE attribute_name = 'Z' 
        AND product in (
                SELECT product
                FROM pmainT
                WHERE type_ID = (
                        SELECT ID
                        FROM type
                        WHERE SOFTCARTCATEGORY = 'End Table Legs'
                    )
                )
        AND attribute_value <= 3.5
    ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:49:03.690

尝试使用 INNER JOINs 而不是 IN 子查询

UPD：我已根据您的评论编辑了此查询。第一个 JOIN 子查询输出所有`product`属性都存在且为真的地方。

```
SELECT 
    pmaint.product as pid, 
    pmaint.leg_name as name, 
    pmaint.dimensions as dims 
FROM 
    pmaint 
JOIN (select product from qb_export_items_attributes
       where ((attribute_name = 'Z') and (attribute_value <= 3.5))
             OR
             ((attribute_name = 'top_square') and (attribute_value >= 4))
       GROUP BY product HAVING COUNT(*)=2
      ) 

         t1 on (pmaint.product=t1.product )
JOIN type on (pmaint.type_ID=type.ID)
WHERE 
        type.SOFTCARTCATEGORY = 'End Table Legs' 
```

# ios - 移动表格视图位置和隐藏视图

> ID：15239667
> 
> 赞同：0
> 
> 时间：2013-03-06T05:29:36.207
> 
> 标签：ios, uitableview, uiview, uitextfield, uisearchbar

我的设计由顶部的搜索栏和下面的表格视图组成。但是，如果用户单击搜索栏文本字段，有一个细微差别需要我在搜索栏下方和表格上方显示图像和标签。我正在考虑将包含标签和图像的视图设置为隐藏，然后根据用户是否开始在搜索文本字段中编辑/键入来移动表格的框架。但我不确定这是否是最好的方法，这是否是个好主意？任何代码都会有所帮助。

本质上，我想知道如何隐藏视图，然后将我的 tableview 移动到完全相同的位置，而不会显示间隙或空白。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:51:22.737

使用以下委托方法检测搜索栏编辑状态

```
- (BOOL)searchBarShouldBeginEditing:(UISearchBar *)searchBar; 
- (void)searchBarTextDidEndEditing:(UISearchBar *)searchBar; 
```

在这种方法中，您可以实现代码来显示/隐藏包含标签和图像的视图。

然后你必须设置你的表格视图的框架。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:44:20.030

请这样做..我想这可能是你的帮助。

```
 - (BOOL)searchBarShouldBeginEditing:(UISearchBar *)searchBar
    {
        // here you make your image and label hidden and change your tableview's frame means table's y coordinte.

       Like that 
       lbl.hidden     = YES;
       imgView.hidden = YES;

       tblview.frame = CGRectMake

(tblView.frame.origin.x,50,tblView.frame.size.width,tblView.frame.size.height);

} 
```

# android - Dalvik 正在寻找扩展名为 '.0' 的 .so 文件 - 为什么？

> ID：15239669
> 
> 赞同：7
> 
> 时间：2013-03-06T05:29:50.843
> 
> 标签：android, java-native-interface, dalvik, android-library, shared-libraries

我已经开始开发一个非常简单的 Android 应用程序，它由三个部分组成：

*   Java 应用程序本身
*   一个预建的共享库（我们称之为`libfoo`）
*   另一个使用预建库的共享库（我们称之为`libfoowrapper`）

文件系统如下所示：

```
jni
Android.mk
libfoo.so
foowrapper.c 
```

该`Android.mk`文件包含以下内容：

```
LOCAL_PATH := $(call my-dir)

#==============================

include $(CLEAR_VARS)

LOCAL_MODULE := foo-prebuilt
LOCAL_SRC_FILES := libfoo.so

include $(PREBUILT_SHARED_LIBRARY)

#=========================

include $(CLEAR_VARS)

LOCAL_MODULE := foowrapper
LOCAL_SRC_FILES := foowrapper.c

LOCAL_SHARED_LIBRARIES := foo-prebuilt

include $(BUILD_SHARED_LIBRARY) 
```

当我在 Eclipse 中构建应用程序时，一切似乎都运行良好 - 没有报告错误。但是，当我将应用程序上传到我的 Samsung Discover（运行 Android 4.0.4）时，我在日志中收到以下错误：

```
03-05 21:20:27.859: E/AndroidRuntime(20324): Caused by: java.lang.UnsatisfiedLinkError: Cannot load library: link_image[1936]:   102 could not load needed library 'libfoo.so.0' for 'libfoowrapper.so' (load_library[1091]: Library 'libfoo.so.0' not found) 
```

为什么 Dalvik 寻找`.so.0`文件而不是`.so`文件？我需要对我的应用程序进行哪些更改才能消除此错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T05:43:35.600

至少在 Linux 世界中，每个共享库都有一个特殊的名称，称为`soname`. soname 具有前缀`lib`、库名称、短语`.so`，后跟一个句点和一个版本号，只要接口更改，版本号就会增加（作为特殊例外，最低级别的 C 库不以 开头`lib`）。完全限定的 soname 包括其所在目录的前缀；在工作系统上，完全限定的 soname 只是到共享库的`real name`.

每个共享库也有一个`real name`，它是包含实际库代码的文件名。真实姓名在 soname 中添加句号、次要编号、另一个句号和版本号。最后一个时期和版本号是可选的。次要编号和版本编号通过让您确切知道已安装的库的版本来支持配置控制。请注意，这些数字可能与文档中用于描述库的数字不同，尽管这确实使事情变得更容易。

参考：[Linux 标准库](http://refspecs.linuxfoundation.org/lsb.shtml "Linux 标准基础 (LSB)")

**编辑：** 这似乎不是一个罕见的问题，还没有看到任何真正的解决方案，但也许这会让你开始找到适合你的东西。

使用 PREBUILT_SHARED_LIBRARY 时 LOCAL_SRC_FILES 的问题 [https://groups.google.com/forum/#!topic/android-ndk/_UhNpRJlA1k](https://groups.google.com/forum/#!topic/android-ndk/_UhNpRJlA1k)

为 android 创建非版本化共享库 [http://www.opengis.ch/2011/11/23/creating-non-versioned-shared-libraries-for-android/](http://www.opengis.ch/2011/11/23/creating-non-versioned-shared-libraries-for-android/)

找不到库'libproj.so.0' [https://groups.google.com/forum/?fromgroups=#!topic/android-ndk/ai3tu0XXs88](https://groups.google.com/forum/?fromgroups=#!topic/android-ndk/ai3tu0XXs88)

# ios - CLLLocationManager inside NSObject

> ID：15239678
> 
> 赞同：0
> 
> 时间：2013-03-06T05:30:35.370
> 
> 标签：ios, objective-c, core-location, cllocationmanager, nsobject

I am trying to create a NSObject that will get the location and the address, I will also be running some other code. I want to just throw it into my different apps. I am having issues with it updating the location. I have the protocol and delegate working, but I will post all my code to try to make it clear.

In my getLocation.h

```
@protocol getLocationDelegate
- (void)getLocation:(NSString *)address getLongitude:(CGFloat)longitude getLatitude:(CGFloat)latitude;
@end

@interface getLocation : NSObject <CLLocationManagerDelegate> {
    CGFloat latitude;
    CGFloat longitude;
    NSString *address;

}

@property (nonatomic, strong) id<getLocationDelegate> delegate;
@property (nonatomic, retain) CLLocationManager *locationManager;

- (void)getLocationInfo; 
```

In my getLocation.m

```
- (id)init
{
    if (self = [super init]) {
        self.locationManager = [[CLLocationManager alloc] init];
        self.locationManager.delegate = self;
        self.locationManager.distanceFilter = kCLDistanceFilterNone; // whenever we move
        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest;

    }
    return self;
}

- (void)getLocationInfo {

    [self.locationManager startUpdatingLocation];
 // This is being called but not starting the locationManager
} 
```

After I get the address and the location I call the protocol like this, in my getLocation.h

```
[self.delegate getLocation:address getLongitude:longitude getLatitude:latitude]; 
```

In my .m file that I want to get the location this is the code

```
getLocation *location = [[getLocation alloc] init];
[location setDelegate:self];
[location getLocationInfo]; 
```

Then I have my method when the delegate gets called

```
-(void)getLocation:(NSString *)address getLongitude:(CGFloat)longitude getLatitude:(CGFloat)latitude {
     // Do code after location and address has been returned
} 
```

Now my protocol and delegate are working what my problem is I can't get the locationManager to start updating. Not sure whats going on.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:58:24.347

我想通了，ARC 是`getLocation *location = [[getLocation alloc] init];`在 CoreLocation 开始之前发布的。所以我只需要在我的 .h 中声明它并让它变得强大。

# android - How to slide SlidingDrawer left to right

> ID：15239679
> 
> 赞同：1
> 
> 时间：2013-03-06T05:30:35.850
> 
> 标签：android

I want to slide SlidingDrawer from left to right, I have an option: I can define android:rotation = 90 in SlidingDrawer tag in xml file, but rotation tag works with Android 3.0

So i m tired to slide this from left to right, Is there any one who helps Me for this?

![enter image description here](../Images/2af6cf1829f20c6d6aa0773f55391bf1.png)

![enter image description here](../Images/56bdf1ce7ac03fef8c29fb406d5201da.png)

like this, Thanx in advance

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T13:07:18.413

看看这个漂亮的样本：

[http://blog.sephiroth.it/2011/03/29/widget-slidingdrawer-top-to-bottom/](http://blog.sephiroth.it/2011/03/29/widget-slidingdrawer-top-to-bottom/)

使其从左到右，并使用您希望使用的布局。

关于视图的大小，将其设置为 MultiDirectionSlidingDrawer 宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:37:03.183

使用此代码...

```
<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:gravity="center_vertical"
    android:background="@drawable/logo11"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <com.sliding.TransparentPanel
    android:id="@+id/popup_window"
    android:orientation="vertical"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:gravity="left"
    android:padding="1px"
    android:background="#ffffff">
    <CheckBox android:id="@+id/check1"
    android:layout_width="wrap_content"
    android:textColor="#FFFFFF"
    android:layout_height="wrap_content" android:text="Satellite View" />
    <CheckBox android:id="@+id/check2"
    android:layout_width="wrap_content"
    android:textColor="#FFFFFF"
    android:layout_height="wrap_content" android:text="Street View" />
    <CheckBox android:id="@+id/check3"
    android:textColor="#FFFFFF"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" android:text="Traffic" />
    </com.sliding.TransparentPanel>
    <Button android:id="@+id/show_popup_button"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/slid4_n"/>
    </LinearLayout> 
```

# c# - .Net BlockCopy and DB2 Character Conversion using CodePage

> ID：15239681
> 
> 赞同：1
> 
> 时间：2013-03-06T05:30:40.403
> 
> 标签：c#, .net

I understand that collation can be set differently in different tables in a database. Collation is understood from [What does character set and collation mean exactly?](https://stackoverflow.com/questions/341273/what-does-character-set-and-collation-mean-exactly)

There is a query that performs `CAST` from a char results as shown below. There are no tables involved. I guess, the encoding applied will be based on the collation in database level. Is this assumption correct?

```
SELECT  CAST ( SSS.id_encrypt ('E','0000000{0}') AS CHAR(100) FOR BIT DATA)  
AS ENCRYPT_ID FROM FFGLOBAL.ONE_ROW FETCH  FIRST 1 ROW ONLY 
```

**QUESTION**

In the question [Get Byte[] from Db2 without Encoding](https://stackoverflow.com/questions/15153100/get-byte-from-db2-without-encoding) answer given by @AlexFilipovici [.Net `BlockCopy` ] provides a different result when compared to `CAST` result. Why is it so if there is no `codepage` associated?

Based on [National language support - Character conversion](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=%2Fcom.ibm.db2.udb.admin.doc%2Fdoc%2Fc0004123.htm)

> Bit data (columns defined as FOR BIT DATA, or BLOBs, or binary strings) is not associated with any character set.

**REFERENCE**

1.  [Get Byte[] from Db2 without Encoding](https://stackoverflow.com/questions/15153100/get-byte-from-db2-without-encoding)
2.  [Default code page for new databases is Unicode](http://publib.boulder.ibm.com/infocenter/db2luw/v9r5/index.jsp?topic=%2Fcom.ibm.db2.luw.wn.doc%2Fdoc%2Fi0052421.html)
3.  [National language support - Character conversion](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=%2Fcom.ibm.db2.udb.admin.doc%2Fdoc%2Fc0004123.htm)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:15:11.017

要在 SQL Server 中找出数据库级别的排序规则，请尝试以下操作：

```
SELECT DATABASEPROPERTYEX('databasename', 'Collation'); 
```

更多：[DATABASEPROPERTYEX](http://msdn.microsoft.com/en-us/library/ms186823.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T21:12:08.037

要回答您的问题：

#1：指定`FOR BIT DATA`基于字符的数据类型（在 DB2 中）意味着 DB2 存储/返回原始数据，不关联任何代码页（即它只是一个字节字符串，不会在客户端和服务器之间进行任何代码页转换） .

#2：在 DB2 for Linux, UNIX and Windows 中，您可以通过查询来确定数据库的排序规则`SYSIBMADM.DBCFG`

```
 select name,value
  from sysibmadm.dbcfg
 where name in ('codepage','codeset'); 
```

#3：根据@Iswanto San：

```
SELECT DATABASEPROPERTYEX('databasename', 'Collation'); 
```

# iphone - Game Center Leaderboards with cocos2d Cause Unresponsive App

> ID：15239682
> 
> 赞同：1
> 
> 时间：2013-03-06T05:30:44.083
> 
> 标签：iphone, objective-c, cocos2d-iphone, game-center

OK, so I'm trying to show Apple Game Center Leaderboards called from within my cocos2d game.

I've had some trouble doing so.

I did eventually stumble upon [this](https://stackoverflow.com/questions/6724844/leaderboard-doesnt-add-in-the-screen-cocos2d) and I implemented the following in one of my CCScene classes (I slightly modified the original code to prevent a compiler warning).

```
- (void)showLeaderboardForCategory:(NSString *)category
{
    // Create leaderboard view with default Game Center style
    leaderboardController = [[GKLeaderboardViewController alloc] init];

    // If view controller was successfully created...
    if (leaderboardController != nil)
    {
        // Leaderboard config
        leaderboardController.leaderboardDelegate = self; // leaderboardController will send messages to this object
        leaderboardController.category = category;
        leaderboardController.timeScope = GKLeaderboardTimeScopeAllTime;

        // Create an additional UIViewController to attach the GKLeaderboardViewController to
        vc = [[UIViewController alloc] init];

        // Add the temporary UIViewController to the main view
        [[CCDirector sharedDirector].view.window addSubview:vc.view];

        // Tell UIViewController to present the leaderboard
        [vc presentModalViewController:leaderboardController animated:YES];
    }
}

- (void)leaderboardViewControllerDidFinish:(GKLeaderboardViewController *)viewController
{
    [vc dismissViewControllerAnimated:YES completion:nil];
} 
```

And, it works! At least when I call it, it does display the Leaderboard properly.

The only problem is, when I tap "Done" on the Leaderboard and the modal view dismisses, my CCScene no longer responds to tap events.

What do I need to do to regain responsiveness?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:23:16.567

参考示例普通 cocos2d 项目：

```
 -(void)showLeaderboard
      {
        GKLeaderboardViewController *leaderboardViewController = [[GKLeaderboardViewController alloc] init];
        leaderboardViewController.leaderboardDelegate = self;
        AppController *app = (AppController*) [[UIApplication sharedApplication] delegate];
        [[app navController] presentModalViewController:leaderboardViewController animated:YES];
        [leaderboardViewController release];
     } 
```

代理功能：

```
-(void) leaderboardViewControllerDidFinish:(GKLeaderboardViewController *)viewController
{
    AppController *app = (AppController*) [[UIApplication sharedApplication] delegate];
    [[app navController] dismissModalViewControllerAnimated:YES];
} 
```

# arcgis - False Color Composite with MODIS data in ArcMap

> ID：15239684
> 
> 赞同：0
> 
> 时间：2013-03-06T05:30:57.143
> 
> 标签：arcgis, composite, arcmap

I'm trying to make a false color composite from a .hdf MODIS file in ArcMap. I know how to do it with Landsat data and I've seen tutorials for working with MODIS in other programs, but I can't figure out how to make a false color composite with MODIS data in ArcMap. I think I'm just missing something very basic, but if someone could walk me through it, I would be very grateful.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:38:18.643

您应该在 ArcMap 中添加影像，然后在“图层属性”下，选择“符号系统 -> RGB 合成”并选择要显示为 R/G/B 的波段。

如果您没有多波段图像，则应使用 ArcToolbox 堆叠图层。

# python - No output when traversing SOCKS5 proxy with Fabric/Paramiko

> ID：15239686
> 
> 赞同：3
> 
> 时间：2013-03-06T05:31:03.403
> 
> 标签：python, linux, ssh, fabric, paramiko

When trying to traverse a SOCKS5 proxy to a RHEL5 Linux host using Fabric 1.6, the command returns but no output is returned to the stdout.

```
$> fab -H myhost -f ./fabfile.py remote_test --show=debug
Using fabfile '/home/myuser/fabric/fabfile.py'
Commands to run: remote_test
Parallel tasks now using pool size of 1
[myhost] Executing task 'remote_test'
[myhost] run: echo testing
Enter SOCKS5 password for myuser:
[myhost] Login password for 'myuser':
$> echo $?
0
$> 
```

The remote_test function is:

```
def remote_test():
    run('echo testing') 
```

If I run the command against a non SOCKS5 host it works fine.

I am running the latest builds, although I haven't to date gotten this to work:

Python 2.7.3

Paramiko == 1.10.0

pycrypto == 2.6

fabric == 1.6.0

RHEL5.9

openssh-4.3p2-82.el5

My ~/.ssh/config looks like the following:

```
Host *.domain
    ProxyCommand connect  -S socksproxy.domain:1080 %h %p 
```

And using the connect binary built from [http://www.meadowy.org/~gotoh/ssh/connect.c](http://www.meadowy.org/~gotoh/ssh/connect.c)

I haven't got access to github from the Company network so I will ask there when I get a chance as well.

Has anyone got any ideas why this could be occuring?

Thanks Matt

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-29T00:44:35.510

我使用`connect`而不是面料，但答案肯定是一样的。有一个`connect.c`解释`SOCKS5_PASSWORD`，`HTTP_PROXY_PASSWORD`, 和`CONNECT_PASSWORD`做你想做的事。我有一个名为的脚本`ssh-tbb`，如下所示。

```
#!/bin/bash
export CONNECT_PASSWORD=""
exec ssh -o ProxyCommand="connect -5 -S 127.0.0.1:9150 %h %p" $* 
```

理想情况下，应该调用此脚本`ssh-tor`并检测是否`tor`存在于端口 9050 或 9150 上。

# google-places-api - Google Places API Attributes

> ID：15239687
> 
> 赞同：0
> 
> 时间：2013-03-06T05:31:10.043
> 
> 标签：google-places-api

I'm trying to determine if the Google Places API is suitable for a restaurant review website I'm working on (disclaimer: I'm not a developer so please excuse my lack of knowledge here).

Specifically, looking at [https://developers.google.com/places/documentation/details](https://developers.google.com/places/documentation/details) for support, I'm trying to determine if the Places API includes the following restaurant-specific attributes in its database that we could query: cuisine type (i.e. Indian, Brunch, American) and/or neighborhood (i.e. Marina, Mission, Financial District). As an example in Layman's terms, if we were to use the Google Places API, would users on our site be able to search for Indian restaurants in the Financial District and see restaurants that meet that criteria?

Thanks, Jaydon

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T20:43:52.163

您必须使用“类型”进行`restaurant`搜索并在搜索中输入 term `indian`，至于您可以使用`radius`
外行术语的位置，是的，您可以，但邻域将由半径格式的一个中心位置确定（不会放弃实际社区的具体轮廓）并且必须将食物类型包含在搜索词中，您可以自动添加，换句话说，您可以要求最终用户指定他的美食寻找（多选）您在搜索词中自动添加该美食的方式。

# javascript - Check Class and If a DIV is hidden on Pageload

> ID：15239689
> 
> 赞同：0
> 
> 时间：2013-03-06T05:31:13.633
> 
> 标签：javascript, jquery, html

I have a toggle, and currently it works like this:

if `.member-button` is clicked it will add `.active-sub` to `.member-button` and remove it from `.trainer-button`. It will also display `#member` while hiding `#trainer`

`.trainer-button` works the same way adding `.active-sub` to `.trainer-button` while removing it from `.member-button` and it will display `#trainer` while hiding `#member`.

* * *

What I'm having trouble with is when the page first loads, how do I check if `.active-sub` is added to `.member-button` and if it is, to remove it from `.trainer-button`? (and vice versa)

I would also like to check if `#member` is not set to `$("#member").hide();` then to automatically hide `#trainer`

* * *

**Javascript:**

```
<script type="text/javascript">
    $(document).ready(function(){

        //$("#member").hide();
        $("#fitness-trainer").hide();
        $('.member-button').addClass("active-sub");

        $('.member-button').click(function () {
            $("#fitness-trainer").fadeOut(function () {
                $("#member").fadeIn();
            });
            $(".trainer-button").removeClass("active-sub");
            $(this).addClass("active-sub");
        });

        $('.trainer-button').click(function () {
            $("#member").fadeOut(function () {
                $("#fitness-trainer").fadeIn();
            });
            $(".member-button").removeClass("active-sub");
            $(this).addClass("active-sub");
        });
    });
</script> 
```

**HTML: Buttons**

```
<a href="#" class="member-button">Member</a>
<a href="#" class="trainer-button">Trainer</a> 
```

**HTML: Content**

```
<div id="member">
member content
</div>

<div id="trainer">
trainer content
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:32:03.343

```
if($('.member-button').hasClass('active-sub'))
{
$('.member-button').removeClass('active-sub');
$('.trainer-button').addClass('active-sub');
} 
```

and vice-versa.

And:

```
if($('#member').is(':visible'))
{
$('#trainer').hide();
} 
```

Just like the previous answer.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:50:14.317

Try using,

Check whether the `.member-button` has the class `.active-sub` by doing the following,

```
$('.member-button').hasClass('active-sub'); 
```

this will return true if it has the class

you can check whether the #member is set to .hide() by,

```
if($("#member").is(":visible")){
  // hide whatever you want here...
}else{
  // display whatever you want here..
} 
```

# javascript - 自动加载引导工具提示

> ID：15239696
> 
> 赞同：0
> 
> 时间：2013-03-06T05:31:28.377
> 
> 标签：javascript, jquery, css, jquery-ui, twitter-bootstrap

我有一个简单的问题，引导工具提示默认适用于悬停[mouseover] 上的特定选择器[标签]，即您需要将鼠标悬停在标签上以激活工具提示或使其出现。当我离开标签或光标自动离开该输入标签时，我想让它出现在输入标签中，而不是悬停[鼠标悬停] ...

手头的问题是默认情况下工具提示适用于以下

```
('selector').tooltip('show'); 
```

反正有没有按照我上面的规格来做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:53:02.097

像这样的东西

```
$('input').tooltip({
    trigger: 'manual'
}).on({
    blur: function() {
        $(this).tooltip('show');
    },
    focus: function() {
        $(this).tooltip('hide');
    }
}); 
```

这里的例子 - [http://jsfiddle.net/UPRbm/](http://jsfiddle.net/UPRbm/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:48:32.167

试试这个：

```
window.onload = function()
{
    if(!window.jQuery)
    {
        alert('jQuery not loaded');
    }
    else
    {
        $(document).ready(function(){
            $('#example').tooltip({'placement':'top', 'trigger' : 'manual'});

            $('#example').blur(function() {
                 $('#example').tooltip("show");
                 setTimeout("$('#example').tooltip('hide');", 1000);
            });
        });

    }
} 
```

# java - array is not getting the value in the loop

> ID：15239697
> 
> 赞同：1
> 
> 时间：2013-03-06T05:31:44.367
> 
> 标签：java

```
import java.util.*;
public class S1 {
     public static void main(String[] args) {
        String twoDm[][]= new String[3][3];
        int i,j;

      int[] c=new int[2];
      //int []d =new int[1];

        Scanner sc=new Scanner(System.in);
      for(i=0;i<3;i++){
          for(j=0;j<3;j++){
              twoDm[i][j]=sc.next();
             String x= twoDm[i][j];
              if(x=="aa"){
                  c[0]=i;//values here are not getting into array c//
                  c[1]=j;

              }

      for(int f:c){
              System.out.println(f);      

          }
      } 
```

The array C while printing shows 00 why are the values of i and j not getting into array what can be the problem

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T05:33:17.180

`x`是一个字符串。您不能用于`==`测试字符串的相等性。

你想用`x.equals("aa")`改用。如果它`x`为空，您可以`"aa".equals(x)`改用（此表单不会给您 NullPointerException）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:44:29.293

**将您的if 语句**更改为：

```
if("aa".equals(x){
     c[0]=i;//values here are not getting into array c//
     c[1]=j;
} 
```

使用`String.equals(other String)`函数来比较字符串，而不是`==`运算符。

该函数检查字符串的实际内容，`==`运算符检查对对象的引用是否相等。

希望能帮助到你..

# java - Google App Engine Embedded 实体似乎从缓存中消失了

> ID：15239699
> 
> 赞同：0
> 
> 时间：2013-03-06T05:31:47.623
> 
> 标签：java, google-app-engine, memcached

我使用 java memcache api 来存储与用户关联的非持久数据。每个用户都有关联的 memcache 实体存储一些属性，其中一些属性是嵌入式实体。过了一会儿，它们消失了，而其他属性（字符串、整数、布尔值）仍然存在。是有意如此，还是我的代码中遗漏了一些东西？我可以依赖存储在缓存中的实体至少一个小时或类似的东西吗？我在使用谷歌插件在本地机器上调试时看到了这种行为。我的代码是这样的：

```
class UserData {
    public Entity getEntity() {
        Entity ret = new Entity( "User", key );
        ret.setProperty( "property1", _integerval );
        ret.setProperty( "property2", _stringval );
        ret.setProperty( "property3", _complex.getEmbEntity() );
        return ret;
    }

    public static UserData fromEntity( Entity ent ) {
        UserData ret = new UserData();
        ret._integerval = (Integer)ent.getProperty("property1");
        ret._stringval = (String)ent.getProperty("property2");
        ret._complex.fromEmbEntity( (EmbeddedEntity)ent.getProperty("property3") );
        return ret;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:48:26.813

请记住，谷歌的实施不会保证任何实体都会徘徊。任何东西都可以在任何时候被驱逐。从文档：

> 但是，在考虑是否将值仅存储在内存缓存中而不由其他持久存储支持时，请确保当值突然不可用时，您的应用程序的行为可以接受。值可以随时从内存缓存中过期，并且可能在为该值设置的过期期限之前过期。

# iphone - 在设备中使用 xcode 4.5.2 运行 xcode 4.3.3 项目..（模拟器中没有问题）

> ID：15239702
> 
> 赞同：0
> 
> 时间：2013-03-06T05:32:06.773
> 
> 标签：iphone, objective-c, xcode, xcode4.5, xcode4.3

实际上**，我已经**在 4 个月前在 xcode 4.3.3 中开始了我的应用程序，

现在*我们的要求是在* **iOS 6.0中运行应用程序**

为此，**我将我的 xcode 升级到支持 iOS 6.0 的 xcode 4.5.2。**

*那些在 xcode 5.5.2 中启动的应用程序在设备中执行，没有任何问题。*

***`But those apps Started in Xcode 4.3.3 and bellow are not executed while im testing in Device (Any ios).`***

（模拟器中没有问题..）

我得到错误 ***`"Apple Mach O Linker Error"`***

clang：***错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）***

我试过*`following steps, even I didn't run the app`*..

断开您的设备。

1.  断开设备。
2.  退出xcode（不要只是简单地关闭窗口，退出它）
3.  删除派生数据文件夹（~/Library/Developer/Xcode/DerivedData/gbrvhlvwmpiobxdujegtghggrffp - 或类似的东西）
4.  现在启动 Xcode，连接设备并运行项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:36:53.453

我遇到过同样的问题。只是不小心删除了一个 .m 文件，而 .h 在项目中。这

当我恢复 .m 文件时，问题消失了。有时问题是在

XCode 4，依赖项不假设主项目的架构设置，如

他们以前在 XCode 中做过。我必须通过所有依赖项来设置它们

正确的架构。

# iphone - cellForRowAtIndexPath: 被立即调用，而 numberOfRowsInSection: 未被调用

> ID：15239707
> 
> 赞同：3
> 
> 时间：2013-03-06T05:32:53.163
> 
> 标签：iphone, uitableview, ios6

**在调用UITableView**`reloadData`上的方法后，我遇到过几次这个问题，但我还没弄清楚为什么？

 **这是一个问题，因为如果表视图的数据被更新，`tableview`将不必要地查询不存在行上的单元格。它是不存在的，因为`numberOfRowsInSection:`在这种情况发生之前没有调用某种方式。

它是否受`reloadData`方法*调用*方式的影响？（它在主线程上调用，而不是在其他任何地方调用）。

**更新：**

`cellForRowAtIndexPath:`可以通过其他方式调用，例如查询`visibleCells`。这可能不是`reloadData`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:55:40.617

> 调用此方法可重新加载用于构建表格的所有数据，包括单元格、节页眉和页脚、索引数组等。为了提高效率，表格视图只重新显示那些可见的行。如果表因重新加载而缩小，它会调整偏移量。表视图的委托或数据源在它希望表视图完全重新加载其数据时调用此方法。不应在插入或删除行的方法中调用它，尤其是在通过调用 beginUpdates 和 endUpdates 实现的动画块中

根据苹果文档， reloadData 仅重新加载可见单元格。如果您没有正确使用单元标识符，这可能是一个问题。

这仍然*可能*是一个线程问题。在调用 reloadData 之前检查您是否在主线程上运行，如果不是，请在主队列上运行 dispatch_sync。

如果您在主队列中尝试在主队列上运行 dispatch_anything，则应用程序将退出。**

# windows - cmd dos用while循环比较字符串

> ID：15239709
> 
> 赞同：0
> 
> 时间：2013-03-06T05:32:59.840
> 
> 标签：windows, scripting, cmd

我们需要检查一个计划任务的状态，以决定之后要运行哪些其他任务，例如：

```
c:\software\scripts>find /I /C "Running" status.txt

---------- STATUS.TXT: 0 
```

我们想知道如何编写 cmd 脚本来对该命令执行“while”循环，直到输出变为

```
---------- STATUS.TXT: 1 
```

我们考虑使用`set /p teststring=find /I /C "Running" status.txt`，希望该命令的输出将参数 teststring 设置为“---------- STATUS.TXT: 0”，然后与“--------- STATUS”进行比较.TXT: 1"，但我们不确定。

我们如何编写脚本来实现我们的最终目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:52:31.383

批处理语法不提供`while`指令，因此您必须使用`goto`. 此外，无需比较字符串或计算搜索字符串的出现次数。根据是否找到搜索字符串`find`返回不同的值。`%errorlevel%`尝试这个：

```
:LOOP
find /i "running" status.txt >nul
if %errorlevel% neq 0 goto LOOP 
```

在重试之前添加一些延迟可能是个好主意：

```
:LOOP
find /i "running" status.txt >nul
if %errorlevel% neq 0 (
  ping -n 2 127.0.0.1 >nul
  goto LOOP
) 
```

**编辑：**正如@dbenham 所建议的，更紧凑的形式可能如下所示：

```
:LOOP
find /i "running" status.txt >nul || ( ping -n 2 127.0.0.1 >nul & goto LOOP ) 
```

# c++ - 在 boost::asio 服务器中使用 p12 容器

> ID：15239717
> 
> 赞同：2
> 
> 时间：2013-03-06T05:33:40.087
> 
> 标签：c++, boost, ssl, boost-asio

我需要使用 boost::asio 使服务器在 SSL 上工作。我已经看到了 boost 示例，但没有发现它有用，因为我有 p12 容器。任何人都可以帮助我在 boost::asio 中使用 p12 容器建立安全连接吗？

如何在下面的代码片段中使用 p12 容器（来自 boost[示例](http://www.boost.org/doc/libs/1_40_0/doc/html/boost_asio/example/ssl/server.cpp)）？

```
 context_.set_options(
        boost::asio::ssl::context::default_workarounds
        | boost::asio::ssl::context::no_sslv2
        | boost::asio::ssl::context::single_dh_use);
    context_.set_password_callback(boost::bind(&server::get_password, this));
    context_.use_certificate_chain_file("server.pem");
    context_.use_private_key_file("server.pem", boost::asio::ssl::context::pem);
    context_.use_tmp_dh_file("dh512.pem"); 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T06:11:24.563

最后我通过结合openSSL库和boost库实现了它。因为我没有发现任何有助于提升 P12 容器的东西。

使用 openSSL 库解密 P12 容器，然后使用 boost 进行通信。

# ios - 不使用 UIImagePngrepresentation 或 UIImageJpegRepresentation 将 UIImage 转换为 NSData

> ID：15239719
> 
> 赞同：23
> 
> 时间：2013-03-06T05:33:57.953
> 
> 标签：ios, uiimage, nsdata, assets, uiimagepngrepresentation

我需要转换`UIImage`为`NSData`但​​不使用`UIImagePngRepresentation`or `UIImageJpegRepresentation`，对于来自 photolib 的图像，我可以使用此处提到的 assetslib 方法[Using ALAssetsLibrary 和 ALAsset 取出 Image as NSData](https://stackoverflow.com/questions/8473110/using-alassetslibrary-and-alasset-take-out-image-as-nsdata)，但对于捕获的图像，资产 url 不存在因此在这种情况下我需要转换`UIImage`直接到带有exif数据的字节，我怎么能做到这一点？请帮忙

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-09-19T10:40:49.977

我遇到了类似的问题，但出于安全原因，我不想按照 Wes 的建议将数据写入默认文件系统。我还希望能够将元数据添加到我的图像中。我的解决方案如下：

```
- (NSData *)dataFromImage:(UIImage *)image metadata:(NSDictionary *)metadata mimetype:(NSString *)mimetype
{
    NSMutableData *imageData = [NSMutableData data];
    CFStringRef uti = UTTypeCreatePreferredIdentifierForTag(kUTTagClassMIMEType, (__bridge CFStringRef)mimetype, NULL);
    CGImageDestinationRef imageDestination = CGImageDestinationCreateWithData((__bridge CFMutableDataRef)imageData, uti, 1, NULL);

    if (imageDestination == NULL)
    {
        NSLog(@"Failed to create image destination");
        imageData = nil;
    }
    else
    {
        CGImageDestinationAddImage(imageDestination, image.CGImage, (__bridge CFDictionaryRef)metadata);

        if (CGImageDestinationFinalize(imageDestination) == NO)
        {
            NSLog(@"Failed to finalise");
            imageData = nil;
        }
        CFRelease(imageDestination);
    }

    CFRelease(uti);

    return imageData;
} 
```

要使用它，您将执行以下操作：

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    UIImage *image = [info objectForKey:UIImagePickerControllerOriginalImage];
    NSDictionary *metadata = [info objectForKey:UIImagePickerControllerMediaMetadata];
    NSString *mimeType = @"image/jpeg"; // ideally this would be dynamically set. Not defaulted to a jpeg!

    // you could add to the metadata dictionary (after converting it to a mutable copy) if you needed to.

    // convert to NSData
    NSData *imageData = [self dataFromImage:image metadata:metadata mimetype:mimeType];

    // ...
} 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-04-07T04:46:41.857

H巴斯坦，

根据您的评论：

> ...我想通过文档目录中的 UIImagepicker 委托方法保存设备相机返回的捕获图像...

看起来您的*真正*目标是将带有 EXIF 数据的图像保存到文档目录，而不是专门将 UIImage 作为带有 EXIF 数据的 NSData 对象。在这种情况下，您可以在实施中执行以下操作`imagePickerController:didFinishPickingMediaWithInfo:`

```
// Get your image.
UIImage *capturedImage = [info objectForKey:UIImagePickerControllerOriginalImage];

// Get your metadata (includes the EXIF data).
NSDictionary *metadata = [info objectForKey:UIImagePickerControllerMediaMetadata];

// Create your file URL.
NSFileManager *defaultManager = [NSFileManager defaultManager];
NSURL *docsURL = [[defaultManager URLsForDirectory:NSDocumentDirectory
                                         inDomains:NSUserDomainMask] lastObject];
NSURL *outputURL = [docsURL URLByAppendingPathComponent:@"imageWithEXIFData.jpg"];

// Set your compression quuality (0.0 to 1.0).
NSMutableDictionary *mutableMetadata = [metadata mutableCopy];
[mutableMetadata setObject:@(1.0) forKey:(__bridge NSString *)kCGImageDestinationLossyCompressionQuality];

// Create an image destination.
CGImageDestinationRef imageDestination = CGImageDestinationCreateWithURL((__bridge CFURLRef)outputURL, kUTTypeJPEG , 1, NULL);
if (imageDestination == NULL ) {

    // Handle failure.
    NSLog(@"Error -> failed to create image destination.");
    return;
}

// Add your image to the destination.
CGImageDestinationAddImage(imageDestination, capturedImage.CGImage, (__bridge CFDictionaryRef)mutableMetadata);

// Finalize the destination.
if (CGImageDestinationFinalize(imageDestination) == NO) {

    // Handle failure.
    NSLog(@"Error -> failed to finalize the image.");
}

CFRelease(imageDestination); 
```

根据我的测试，执行时间与执行时间大致相同或更快：

```
NSData *data = UIImageJPEGRepresentation(capturedImage, 1.0);
[data writeToURL:outputURL atomically:YES]; 
```

...您可以保留 EXIF 数据！

如果你想确保你的 UI 保持响应，你也可以将它分派到后台队列：

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{

    // Do the image saving here...
}); 
```

**重要提示：**您需要将`ImageIO.framework`和添加`MobileCoreServices.framework`到目标的构建阶段，并将它们导入到您执行图像保存的类中：

```
#import <ImageIO/ImageIO.h>
#import <MobileCoreServices/MobileCoreServices.h> 
```

**其他说明** 我的理解是，在这种情况下，我们不会在按照示例中的建议保存图像时产生生成损失。我们正在使用 UIImage 的 CGImage 属性，正如文档所述：

> 底层 Quartz 图像数据

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:32:07.343

你可以尝试这样的事情。不确定它是否是最好的方法。但值得一试。如果图片 URL 可用，您可以尝试`initWithContentsOfUrl`

```
NSData *data = [[NSData alloc]initWithContentsOfFile:@"/Users/test/isajf/isajf/test.jpg"]; 
```

# javascript - JQuery 从 Json 文件中读取

> ID：15239720
> 
> 赞同：0
> 
> 时间：2013-03-06T05:33:58.927
> 
> 标签：javascript, jquery, json, getjson

这是我的代码，我在这里传递输入的用户名和密码值。我已经编写了将使用 json 文件检查输入的函数。如果给定的输入存在“登录正确”警报将显示否则“登录不正确”将显示。

但对我来说，这里总是显示“登录不正确”。我知道这个功能有什么问题。我尝试在函数中使用数组变量来保存 json 文件数据。然后它可以正常工作。我在检查 json 文件时遇到问题。

帮我解决这个问题。我的输入应该检查它是否存在的 json 文件。

```
<!DOCTYPE html>
<html>
<head>
<script src="jquery.js">
</script>
<script>
$(document).ready(function() 
{
    var a="user2";
    var b="password2";
    var checkval = false;

    $.getJSON('login.json', function(data) 
    {
        $.each(data,function(i,obj)
        {
            if(obj.username == a && obj.password == b)
            {
                checkval = true; 
                return false;
            }
        });
    });
    if(checkval == true)
        {
            alert("login correct");
        }
    else
        {
            alert("!!!!!-----Incorrect login Details-----!!!!!");
        }

});
</script>
</head>
<body>
</body>
</html> 
```

这是我的 login.json 文件

```
[
    {
            "username": "user1",
            "password": "password1"
    },
    {
        "username":"user2",
        "password" : "password2"
    }
] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:38:43.270

在密码和用户名与您的代码匹配之前，ajax 是异步的

```
 if(checkval == true)
        {
            alert("login correct");
        }
    else
        {
            alert("!!!!!-----Incorrect login Details-----!!!!!");
        } 
```

被执行，试试

```
$.getJSON('login.json', function(data) 
    {
        $.each(data,function(i,obj)
        {
            if(obj.username == a && obj.password == b)
            {
                checkval = true; 
                return false;
            }
        });
         if(checkval == true)
        {
            alert("login correct");
        }
    else
        {
            alert("!!!!!-----Incorrect login Details-----!!!!!");
        }

    }); 
```

这是一个小的概念证明，当不使用 ajax 时它可以工作[http://jsfiddle.net/aKVC2/](http://jsfiddle.net/aKVC2/)

这是工作[演示](http://jsfiddle.net/aKVC2/2/)

附言

正如一些答案所建议的那样，设置`async:false`是一个选项（从不使用它！！！），但由于 jQuery 版本 1.8，[**它已弃用**](https://stackoverflow.com/questions/11448011/jquery-ajax-async-deprecated-what-now)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:38:47.430

$.getJSON 是异步的。这意味着它会在您的其余代码运行时进行调用。在进行调用之前以及在它可以检查返回的值之前，它会到达 if(checkval == true) 。

如果您想“解决”这个问题，请参阅此问题。

[是否可以将 async:false 设置为 $.getJSON 调用](https://stackoverflow.com/questions/2765411/is-it-possible-to-set-asyncfalse-to-getjson-call)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:40:41.390

将第二个 if 放在里面：

```
$.getJSON('login.json', function(data) {
    $.each(data,function(i,obj){
        if(obj.username == a && obj.password == b){
            checkval = true; 
            return false;
        }
    });
    if(checkval == true){
        alert("login correct");
    }else{
        alert("!!!!!-----Incorrect login Details-----!!!!!");
    }
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T05:42:16.857

ajax 是异步的，你的函数在它可以检查返回值之前调用

在 $.getJson 上方添加以下行

```
$.ajaxSetup({async:false}); 
```

# c# - 如何将数据表列和值复制到另一个数据表

> ID：15239723
> 
> 赞同：3
> 
> 时间：2013-03-06T05:34:17.967
> 
> 标签：c#, datatable

我有一个包含 0 行的 4 列（名称、地址、联系人、标记）的数据表 dt1，我还有另一个包含 2 列（StdName、StdAddress）的数据表 dt2，其中行数很少。

当我在做类似 dt1 = dt2.copy(); 然后我的 dt1 正在发生变化。我不想要。

我想将 dt2 列和值复制到 dt1。所以在我的 dt1 的列（名称和地址）中将填充 stdName 和 StdAddress 值。

请有人帮助我如何做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T06:00:44.547

我试过这个[解决方案](https://stackoverflow.com/questions/2583898/how-can-we-copy-the-data-of-the-datacolumn-of-the-datatable-to-another-datatable)

```
private void CopyColumns(DataTable source, DataTable dest, params string[] columns)
{
 foreach (DataRow sourcerow in source.Rows)
 {
   DataRow destRow = dest.NewRow();
    foreach(string colname in columns)
    {
      destRow[colname] = sourcerow[colname];
    }
   dest.Rows.Add(destRow);
  }
}

CopyColumns(source, destiny, "Column1", "column2"); 
```

它帮助我解决我的问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T06:37:15.483

试试这个：

```
 for (int i = 0; i < dt2.Rows.Count; i++)
  {
    dt1.Rows.Add(dt2.Rows[i][0], dt2.Rows[i][1]);
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:04:02.333

```
 for (int k = 0; k < dt2.Rows.Count; k++)
  {
    dt1.Rows[k]["Name"] = dt2.Rows[k]["StdName"];
    dt1.Rows[k]["Address"] = dt2.Rows[k]["StdAddress"];
  } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T05:47:23.670

试试这个。

```
 DataTable dtEmp = new DataTable("EMP");
        dtEmp.Columns.Add("Name", typeof(String));
        dtEmp.Columns.Add("Address", typeof(String));
        dtEmp.Columns.Add("Contact", typeof(String));
        dtEmp.Columns.Add("Marks", typeof(String));

        DataTable dtStd = new DataTable("STD");
        dtStd.Columns.Add("StdName", typeof(String));
        dtStd.Columns.Add("StdAddress", typeof(String));

        foreach (DataColumn dc in dtStd.Columns)
        {
            dtEmp.Columns.Add(dc.ColumnName, dc.DataType);
        }
        // Import rows from dtStd Table. 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-09T06:54:53.273

尝试一下....

```
 DataTable dt1 = new DataTable();
    dt1.Columns.Add("col1", typeof(String));
    dt1.Columns.Add("col2", typeof(String));
    dt1.Columns.Add("col3", typeof(String));
    dt1.Columns.Add("col4", typeof(String));

    DataTable dt2 = new DataTable();
    dt2.Columns.Add("col5", typeof(String));
    dt2.Columns.Add("col6", typeof(String));

    dt1.Merge(dt2); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-09-16T17:12:24.593

我知道这是旧的，但数据来自哪里？

如果您正在查询 sql 数据库，则只需更改：

```
 SELECT <column1>, <column2> FROM...

    SELECT <column2>, <column1> FROM... 
```

查询并返回包含所需列的数据表。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-11-28T10:03:22.397

我不确定，但你可以试试这个......

```
Datatable1.Merge(Datable2) 
```

它会给你这样的输出

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-11-09T02:26:38.307

```
 for (int k = 0; k < dt2.Rows.Count; k++) {
    dt1.Rows[k]["Name"] = dt2.Rows[k]["StdName"];
    dt1.Rows[k]["Address"] = dt2.Rows[k]["StdAddress"];
  } 
```

这对我来说非常有用。我只需要像这样在VB中重写它：

```
 For r = 0 To t2.Rows.Count - 1
        t1.Rows(r)("Stat") = t2.Rows(r)("Stat")
        t1.Rows(r)("Dest") = t2.Rows(r)("Dest")
        t1.Rows(r)("Orig") = t2.Rows(r)("Orig")
  Next 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-12-11T09:27:41.140

您可以通过调用 clear 克隆对表的引用并删除行，如下所示：

```
NewDataTable= OldDatatable.Clone();
NewDataTable.rows.clear(); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-07-13T13:55:44.360

如果计算值对您来说足够，您可以使用*表达式*属性，而无需循环整个数据表。

假设您已经有一个名为*Email*的列，您可以创建一个从*Email*派生的名为*UserName*的列：

 *```
dataTable.Columns.Add("UserName", typeof(string), "Email"); 
```*

# css - 主题 2011 中 style.css 中的哪个 css 元素

> ID：15239724
> 
> 赞同：-1
> 
> 时间：2013-03-06T05:34:24.733
> 
> 标签：css, wordpress

主题 2011 的 style.css 中的哪个 CSS 元素用于 page.php 的页面标题和页面内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:53:43.417

要回答这个问题，您可以使用 Google Chrome 的 Inspect Element 功能。

只需右键单击页面上的任何元素并选择“检查元素”

然后，您将在右侧的“样式”窗格中看到所有问题的答案。您甚至可以在此处实时编辑 css！（注意它告诉你每个样式“style.css:38”的文件和行号）

![在此处输入图像描述](../Images/9532b904d4bfc40403736e5c39ee6ca5.png)

# ios - 如何使用 HTML 5 在我的本机应用程序中访问数据库？

> ID：15239725
> 
> 赞同：0
> 
> 时间：2013-03-06T05:34:31.977
> 
> 标签：ios, objective-c, html, jquery-mobile

我有一个 iPad 应用程序，它基本上是一个客户端 - 服务器应用程序，HTML 页面是从服务器加载的。我真正想要实现的是在这个 HTML 页面中访问我的本地应用程序数据库。

例如，HTML 页面显示一个表格，其中的内容是存储在数据库中的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:46:41.960

你听说过[网络服务](http://en.wikipedia.org/wiki/Web_service)吗？

您将不得不使用 Web 服务并从服务器获取数据（服务器将与 db 服务器通信并为您获取相关数据）。服务通常以 XML 或 JSON 格式返回数据。

因此，您必须学习如何编写 Web 服务。您可以使用 C#、PHP、Java 等大多数语言编写 Web 服务。但您可以根据您的要求和可用的基础设施进行选择。

# eclipse - phonegap 定制相机

> ID：15239727
> 
> 赞同：1
> 
> 时间：2013-03-06T05:34:35.270
> 
> 标签：eclipse, cordova, android-camera

phonegap 在 getPicture 函数中使用设备默认的摄像头布局

```
navigator.camera.getPicture(onSuccess, onFail, { quality: 50, destinationType: Camera.DestinationType.FILE_URI ,targetWidth: 500}); 
```

有没有办法自定义这个，我需要图像捕捉是一个正方形并隐藏多余的高度，因为我会在拍照后裁剪掉它。

谢谢

# html - 选择下拉宽度 - Chrome 问题

> ID：15239730
> 
> 赞同：3
> 
> 时间：2013-03-06T05:34:56.033
> 
> 标签：html, google-chrome, css, drop-down-menu, width

我想控制下拉`<option>`列表的宽度。`<select>`默认情况下，浏览器会在`<option>`和容纳下拉菜单中计算较大的文本。在网站上看起来不太好。我尝试了以下 CSS 片段并发现在 FF 中工作。

```
select{
    width : 120px;
}
select option {
    width : 90px;
} 
```

唯一的麻烦是Chrome。如果有任何解决方法，你能告诉我吗。

[演示](http://jsfiddle.net/tamilselvan/pDtwE/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:04:49.230

谷歌搜索结果对我不利。我只省略了脚本选项。以下代码可以解决问题..

```
/* To trim the charaters in the option list */
    var optLen = $('#country option').size();
    //console.log("Total length is :" +optLen);
    for(var i=0; i<optLen; i++){
        var txt = $('#country option').eq(i).text();
        //alert(txt);
        txt = txt.substring(0,20);
        //alert(txt);
        $('#country option').eq(i).text(txt);
    } 
```

[更新的演示](http://jsfiddle.net/tamilselvan/pDtwE/47/)

# javascript - 在子表单更新数据库之前发生 Javascript 刷新

> ID：15239731
> 
> 赞同：-1
> 
> 时间：2013-03-06T05:34:57.373
> 
> 标签：javascript, refresh

我的页面在表单提交中提供的执行方法（）之前通过 onClick 操作刷新，这实际上是在进行数据库更新。你能帮忙解决这个问题吗？以下方法无效。

```
<form onsubmit="if(check()){return execute('category/add.do?<passing_parameters...>');}else{return false;}">   <input type="Submit" value="Add" onclick="javascript:close2();"/>   </form>

<script type="text/javascript">   function close2(){   window.onunload = refreshParent;            function refreshParent() {   window.opener.location.reload();   }   </script> 
```

如何确保我的子窗口中的数据库更新操作首先得到更新，然后父窗口得到刷新？我希望我的父窗口显示从子窗口窗体对 db 所做的更新。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:46:27.487

试试这个……注意我删除了 onclick 事件……你不需要它，因为当你点击提交按钮时会触发 onsubmit。

```
<form onsubmit="form_submit()">   <input type="Submit" value="Add" />   </form>

<script type="text/javascript">

function form_submit() {
    if(check()) {
        var success = execute('category/add.do?<passing_parameters...>');
        if (success) close2();
        return success;
    }
    else {
        return false;
    }
}

function close2(){   window.onunload = refreshParent; }
function refreshParent() {   window.opener.location.reload();   }

</script> 
```

# ruby - 如何将.exe文件的结果存储为ruby中的字符串

> ID：15239738
> 
> 赞同：0
> 
> 时间：2013-03-06T05:35:38.340
> 
> 标签：ruby, subprocess

我想执行一个 .exe 文件并将其结果作为字符串显示在我的应用程序中。我怎样才能在红宝石中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:41:13.403

Ruby 有几种方法可以在子 shell 中执行其他应用程序。最简单的方法是使用反引号来包装命令：

```
`dir` 
```

将创建一个子 shell 并在其中执行`dir`命令，然后将 STDOUT 输出返回给 Ruby。您可以通过将输出分配给变量来捕获输出：

```
output = `dir` 
```

# javascript - 我在哪里可以找到有关速度跟踪器考虑的参数的详细信息？

> ID：15239745
> 
> 赞同：0
> 
> 时间：2013-03-06T05:36:13.097
> 
> 标签：javascript, google-chrome, gwt, speedtracer

我试图将速度跟踪器用于开发的示例应用程序。速度跟踪器提供的信息似乎非常好，但谁能告诉我在哪里可以找到有关参数的更详细文档，如 javascript 回调、dom 事件、绘制等。Additioanlly 哪些参数被认为是相同的？

谢谢

编辑：

感谢您立即回复suresh。这些链接很有用，尤其是示例一。但是我想要的是所有参数的列表以及它们适用的详细信息或场景，以便更好地理解例如在运行我自己的示例时我得到了新参数 - **程序**

以下是速度跟踪器中的摘要

86.7% JavaScript 回调 (3.45s) 7.3% UI 线程可用 (288ms) 2.9% 样式重新计算 (114ms) 2.2% 绘制 (85ms) 0.6% 布局 (23ms) 0.3% Dom 事件 (10ms) **0.2% 程序 (6ms)**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:51:03.507

这里有一个[视频教程](https://developers.google.com/web-toolkit/speedtracer/)

以及来自 Google的带有[示例教程](https://developers.google.com/web-toolkit/speedtracer/speed-tracer-examples)的速度跟踪器。

# ios - iTunes 文件共享 - 显示文档文件夹内容

> ID：15239748
> 
> 赞同：1
> 
> 时间：2013-03-06T05:36:30.943
> 
> 标签：ios, file-sharing

我的要求之一是让用户能够通过（iTunes 文件共享选项）将文件从桌面移入我的应用程序。此外，在其中一个屏幕中，我将在表格中列出文档文件夹中可用的文件，用户可以从中选择要进一步处理的文件。

我已经实施并且它按预期工作。但是，我只是想确认一下，我们是否可以在我们的应用程序中有这样的屏幕，其中**Documents 文件夹的内容**正在显示给用户？

因为，我已经阅读了 Apple 提供的关于 Document Folder 的以下链接（部分：文件共享支持），其中说我们永远不应该向用户展示 Document Folder 的内容。

[http://developer.apple.com/library/ios/#documentation/miscellaneous/conceptual/iphoneostechoverview/CoreServicesLayer/CoreServicesLayer.html](http://developer.apple.com/library/ios/#documentation/miscellaneous/conceptual/iphoneostechoverview/CoreServicesLayer/CoreServicesLayer.html)

我想知道如果我提交应用程序并实现了上述内容，苹果会拒绝我的申请吗？

或者有什么方法可以实现这一点（让用户从文档文件夹中选择文件）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:44:25.130

您引用的文档的全部引用是（强调我的）：

> 支持文件共享的应用程序**应该**能够识别何时将文件添加到 Documents 目录并做出适当的响应。例如，您的应用程序可能会在其界面中提供任何新文件的内容。您永远不**应该**向用户提供此目录中的文件列表，并要求他们决定如何处理这些文件。

Apple 声明您的应用程序**应该**（不是必须）处理通过 iTunes 添加到 Documents 的文件，而不向用户显示文件列表。这是目标，但我怀疑 Apple 会拒绝仅仅因为在应用程序中显示文件列表的应用程序。检查应用审查指南。

话虽如此，应该没有理由向用户显示列表。如果用户通过 iTunes 文件共享添加文件，则表明用户希望处理该文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-06T15:12:06.753

指导是封装文件。

“例如，您的应用程序可能会在其界面中提供任何新文件的内容。您永远不应向用户提供此目录中的文件列表并要求他们决定如何处理这些文件。”

# ios6 - ios中的自定义表情

> ID：15239754
> 
> 赞同：3
> 
> 时间：2013-03-06T05:36:58.670
> 
> 标签：ios6, chat, xcode4.5

我正在创建一个聊天应用程序，我必须在其中添加自己的笑脸（自定义）作为现有的笑脸/表情符号图标。这可能吗？任何人都有想法然后请帮助我。

预先感谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-31T03:58:29.370

我目前正在研究相同的内容。您可以研究几种方法，但考虑到您正在开发聊天应用程序这一事实，我相信您将使用 UITableView 并且滚动性能对您来说是一个巨大的问题。如果您使用的方法太复杂，滚动会非常紧张，特别是在旧设备上（我不确定您是否针对 iPhone4）。

我已经确定了以下选项：

1) 您可以将每条消息作为 UIWebView 加载，并使用 HTML 在您需要自定义表情符号的任何地方插入图像。这似乎是最简单的方法，但也是一种缓慢的方法。我并没有对此进行过多的研究，并将其作为最后的选择。

2）您可以使用 UILabel 子类。您可以随意使用这些代码，它们中的大多数会扫描诸如“http://”或“www”之类的文本前缀。并在那里插入一个带有目标操作的 UIButton。你可以在那个地方放一个 UIImageView 。这里有几个很好的项目可以指导您朝这个方向发展。

查看 Nimbus 属性标签（稍微复杂）。和 TTTAttributedLabel。最好的（最简单的）是[FancyLabel](http://furbo.org/stuff/FancyLabel_1.0.zip)。这是一个非常简洁和简单的智能标签实现。

3）你可以看看 NSAttributedStrings。对不起，我对他们没有太多经验。可以在[这里](https://github.com/Cocoanetics/DTCoreText)找到类似的东西，一个名为 DTCoreText 的项目。如果您继续尝试了解他们正在尝试做什么，那将真的对您有所帮助。也可以寻找关于 DTCoreText 的教程。我相信这对你的帮助比什么都大。记得从 github 克隆 DTCoreText git。如果你只下载 zip，它不起作用。

(足够）NSString中的空格。我会将 NSString 绘制为 UILabel 或使用以下方法：`[textX drawInRect:theRect withFont:font lineBreakMode:UILineBreakModeClip alignment:UITextAlignmentCenter];`。然后我会手动将每个表情符号作为 CALayer 插入到正确的位置。

对于各种绘图方法的性能相关查询，我建议您查看 floriankugler 关于 layer-trees-vs-flat-drawing-graphics-performance-across-ios-device-generations 的博客，这篇文章确实比较了几种绘图方法。它建议使用 CALayers 而不是 drawRect 或简单的 UIView 层次结构方法。

5) 如果您在滚动时仍然感到不安，您可能会勇敢地尝试在 OpenGL 中渲染文本。我也在进一步阅读，这似乎是一项非常非常困难的任务。我的应用程序仍然抖动，我可以使用我能获得的任何帮助。

6）我的一位同事还建议通过在 TTF 中嵌入 PNG 来制作自定义字体，就像苹果创建苹果表情符号字体所做的那样。我在那儿也帮不上什么忙。如果有的话，这似乎是一个非常困难的方法。

我很抱歉无法提供我想要的尽可能多的链接，但我现在根本没有足够的声誉。:P

# javascript - Backbone.js 模板示例

> ID：15239755
> 
> 赞同：3
> 
> 时间：2013-03-06T05:36:58.810
> 
> 标签：javascript, backbone.js

如何添加带有标签名称年龄的文本框并使用backbone.js在模板中查看它？

```
<label> Age</label>
<input type = "text" name = "age" value="12"/> 
```

我希望将此作为属性添加到模型并在模板中查看。任何人都可以帮忙吗？我知道backbone.js 的基础知识。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:59:18.467

不确定你想要什么，但这里是基本示例：

```
var App = {};

App.Person = Backbone.Model.extend({});
App.View = Backbone.View.extend({
    el: "#form",
    render: function() {
        var html = _.template($('#form-tpl').html(), this.model.toJSON());
        this.$el.html(html);
    }
});

$(function() {
    var person = new App.Person({
        name: 'Thomas',
        age: 37
    }),
    app = new App.View({model: person});
    app.render();
}); 
```

HTML：

```
<script type="text/template" id="form-tpl">
    <label>Age:</label>
    <input type="text" name="age" value="<%= age %>">
</script>
<div id="form"></div> 
```

[http://jsfiddle.net/CX3ud/](http://jsfiddle.net/CX3ud/)

还有大量可用的教程。祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:00:23.817

Templating isn't built-in to Backbone, which means you first have to pick a templating system. There are many good options out there, but personally I prefer [Handlebars](http://handlebarsjs.com/). You could also choose from Mustache, the (very minimalist) Underscore template function, multiple jQuery plug-ins, etc.

Once you pick a library, you'll generally build/compile a template function with it to generate the HTML. Here's a simple Handlebars example:

```
var template = Handlebars.compile('<span>Hello {{target}}</span>'); 
```

That can (optionally) be done as part of your View code:

```
 var MyView = Backbone.View.extend({
     template: Handlebars.compile('<span>Hello {{target}}</span>')
 }); 
```

Once you have that template function, you typically pass it a value map:

```
var resultText = template({target: 'World!'}); 
```

and get back the rendered result:

```
resultText == '<span>Hello World!</span>'; 
```

You can fit that in to Backbone however you want, but one common pattern is something like the following:

```
 var MyView = Backbone.View.extend({
     template: Handlebars.compile('<span>Hello {{target}}</span>'),
     render: function() {
         var valueMap = this.model.toJSON();
         this.$el.html(this.template(valueMap));
     }
 });

 // Usage:
 new MyView({
     el: '#someElement',
     model: new Backbone.Model({target: 'World!'}
 )).render(); 
```

# asp.net - 如何将用户输入字符串作为 xml 传递？

> ID：15239758
> 
> 赞同：1
> 
> 时间：2013-03-06T05:37:04.817
> 
> 标签：asp.net, xml, api

我有一个页面，其中包含客户将输入的客户编号、姓名和地址。当他们按下好的时，我应该打电话给他们并将它们作为 xml 传递。

请求信息 API：

```
 <REQUESTINFO>
      <KEY_NAMEVALUE>
      <KEY_NAME>CUSTOMERNO</KEY_NAME>
       <KEY_VALUE>1015</KEY_VALUE>
     </KEY_NAMEVALUE>
     </REQUESTINFO> 
```

响应 API：

```
<RESPONSEINFO>
      <STATUS>
<TRANSACTIONNO>2433</TRANSACTIONNO>
<ERRORNO>0</ERRORNO>
<MESSAGE>SUCCESS</MESSAGE>
</STATUS>
<CUSTOMERINFO>
<CUSTOMERNO>1015</CUSTOMERNO>
<CUSTOMERTYPECODE>NORMAL</CUSTOMERTYPECODE>
<CUSTOMERTYPE>Normal</CUSTOMERTYPE>
<CATEGORYCODE>GNRL</CATEGORYCODE>
<CATEGORY>General</CATEGORY>
<INDIVIDUAL>Y</INDIVIDUAL>
<TITLE>Dr.</TITLE>
<FIRSTNAME>MIKE</FIRSTNAME>
<MIDDLENAME>JOHNSON</MIDDLENAME>
<LASTNAME>DAVID</LASTNAME>
<OPENTITYCODE>MQ</OPENTITYCODE>
<OPENTITY>company</OPENTITY>
<CURRENCYCODE>RS</CURRENCYCODE>
<CURRENCY>Rupees</CURRENCY>
<COMPANYNAME>MQSUBSCRIBE</COMPANYNAME>
<BILLINGMEDIA>EP</BILLINGMEDIA>
<PARENT>Y</PARENT>
<GROUPID></GROUPID>
<NOTES>VALUABLE</NOTES>
<CONTACTINFO>
<CONTACTNAME>JOHNSON</CONTACTNAME>
<EMAIL>MIKEJOHNSON@company.COM</EMAIL>
<ALTEMAIL></ALTEMAIL>
<HOMEPHONE>2012326562</HOMEPHONE>
<WORKPHONE>2016654556</WORKPHONE>
<MOBILEPHONE>2014563215</MOBILEPHONE>
<FAXNBR>56456455665</FAXNBR>
</CONTACTINFO>
<ADDRESSINFO>
<ADDRESSTYPECODE>PRI</ADDRESSTYPECODE>
<ADDRESS1>#12B</ADDRESS1>
<ADDRESS2></ADDRESS2>
<STREET>JAMESSTREET</STREET>
<AREA>LAKEVIEW</AREA>
<CITY>BUENAPARK</CITY>
<DISTRICT></DISTRICT>
<STATE>CALIFORNIA</STATE>
<ZIPCODE>90621</ZIPCODE>
<COUNTRY>USA</COUNTRY>
<ADDRESSTYPECODE>BIL</ADDRESSTYPECODE>
<ADDRESS1>#12B</ADDRESS1>
<ADDRESS2></ADDRESS2>
<STREET>JAMESSTREET</STREET>
<AREA>LAKEVIEW</AREA>
<CITY>BUENAPARK</CITY>
<DISTRICT></DISTRICT>
<STATE>CALIFORNIA</STATE>
<ZIPCODE>90621</ZIPCODE>
<COUNTRY>USA</COUNTRY>
</ADDRESSINFO> 
<FLEX-ATTRIBUTE-INFO>
<ATTRIBUTE1></ATTRIBUTE1>
<ATTRIBUTE2></ATTRIBUTE2>
<ATTRIBUTE3></ATTRIBUTE3>
<ATTRIBUTE4></ATTRIBUTE4>
<ATTRIBUTE5></ATTRIBUTE5>
<ATTRIBUTE6></ATTRIBUTE6>
<ATTRIBUTE7></ATTRIBUTE7>
<ATTRIBUTE8></ATTRIBUTE8>
<ATTRIBUTE9></ATTRIBUTE9>
<ATTRIBUTE10></ATTRIBUTE10>
</FLEX-ATTRIBUTE-INFO>
<CONTRACTINFO>
<CONTRACTNO>2024</CONTRACTNO>
<STARTDATE>14-10-2009</STARTDATE>
<ENDDATE>14-10-2009</ENDDATE>
<CONTRACTSTATUS>Active</CONTRACTSTATUS>
<ISBULK></ISBULK >
<BILLFREQUENCY></BILLFREQUENCY>
<SALESMANCODE></SALESMANCODE>
<NOOFROOMS></NOOFROOMS>
<OUTLETS></OUTLETS>
<NOTES></NOTES>
<PLANINFO>
<PLANCODE>WEBPLAN</PLANCODE>
<SERVICEINFO>
<SERVICECODE></SERVICECODE>
<OUTLETS></OUTLETS>
</SERVICEINFO>
<SERVICEGROUPINFO>
<SERVICEGROUPCODE></SERVICEGROUPCODE>
<OUTLETS></OUTLETS >
<SERVICEINFO>
<SERVICECODE></SERVICECODE>
</SERVICEINFO>
</SERVICEGROUPINFO>
<PACKAGEINFO>
<PACKAGECODE></PACKAGECODE>
<OUTLETS> </OUTLETS >
<SERVICEGROUPINFO>
<SERVICEGROUPCODE></SERVICEGROUPCODE>
<SERVICEINFO>
<SERVICECODE></SERVICECODE>
</SERVICEINFO>
</SERVICEGROUPINFO>
<SERVICEINFO>
<SERVICECODE></SERVICECODE>
</SERVICEINFO>
</PACKAGEINFO>
<PACKAGEGROUPINFO>
<PACKAGEGROUPCODE></PACKAGEGROUPCODE>
<OUTLETS></OUTLETS >
<PACKAGEINFO>
<PACKAGECODE></PACKAGECODE>
<SERVICEGROUPINFO>
<SERVICEGROUPCODE></SERVICEGROUPCODE>
<SERVICEINFO>
<SERVICECODE></SERVICECODE>
</SERVICEINFO>
</SERVICEGROUPINFO>
<SERVICEINFO>
<SERVICECODE></SERVICECODE>
</SERVICEINFO>`enter code here`
</PACKAGEINFO>
</PACKAGEGROUPINFO>
</PLANINFO>
</CONTRACTINFO>
</CUSTOMERINFO>
</RESPONSEINFO> 
```

输出应该和上面一样。这个需要澄清？？？

# java - JSF：

> ID：15239759
> 
> 赞同：2
> 
> 时间：2013-03-06T05:37:11.103
> 
> 标签：java, jsf, icefaces

我有一个使用 convertDateTime 的 JSF 日期组件，它接受“12/12/2013ab”

支持 bean 返回 "12/12/2013" 作为日期

我可以知道如何防止用户输入“12/12/2013ab”。它将提示 12/1a/2013 的错误。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T18:12:56.093

提供一个自定义日期转换器，它还检查输入长度。

```
@FacesConverter("myDateTimeConverter")
public class MyDateTimeConverter extends DateTimeConverter {

    public MyDateTimeConverter() {
        setPattern("MM/dd/yyyy");
    }

    @Override
    public Object getAsObject(FacesContext context, UIComponent component, String value) {
        if (value != null && value.length() != getPattern().length()) {
            throw new ConverterException("Invalid format");
        }

        return super.getAsObject(context, component, value);
    }

} 
```

*（请注意[模式](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)是`MM/dd/yyyy`和不是`mm/DD/yyyy`）*

然后，而不是

```
<h:inputText value="#{bean.date}">
    <f:convertDateTime pattern="MM/dd/yyyy" />
</h:inputText> 
```

利用

```
<h:inputText value="#{bean.date}" converter="myDateTimeConverter" /> 
```

# android - 如何将对象类型标签设置为列表视图？

> ID：15239763
> 
> 赞同：1
> 
> 时间：2013-03-06T05:37:27.997
> 
> 标签：android

我正在使用 android 列表片段，以下是我的适配器类

```
private class HugStatusAdapter extends ArrayAdapter<Status> {
………….
public View getView(int position, View convertView, ViewGroup parent) {

………..
//set tag to view(type Status is bean class)
convertView.setTag(getItem(position));

}
public void onListItemClick(ListView l, View v, int position, long id) {
Bundle mBundle = new Bundle();
// how to get the tag (Status) and put it into  mBundle
}
} 
```

我的问题是如何将 object(Status) 类型标签设置为视图并从 onListItemClick() 获取该标签？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:46:11.373

您已经将一个`Status`对象设置为标签。你只需要稍后再把它扔回去，即：

```
public void onListItemClick(ListView lv, View v, int pos, long id) {
    Bundle mBundle = new Bundle();
    Status status = (Status)v.getTag();
    mBundle.putParcelable("status", status);
} 
```

重要的是，要使上述方法起作用，您的`Status`类*必须*实现`Parcelable`. [这里](https://stackoverflow.com/a/7181792/321697)有一个很好的例子。

# java - 不满意的链接错误

> ID：15239765
> 
> 赞同：0
> 
> 时间：2013-03-06T05:37:37.513
> 
> 标签：java, dll, java-native-interface

我编写了一个 java 程序来访问 dll 中的方法。
当我从命令提示符执行我的程序时，它正在正确执行并且我得到了所需的输出。
但是当我将它集成到我的项目中并在 Netbeans 中执行时，我遇到了以下异常。

> 线程“main”中的异常 java.lang.UnsatisfiedLinkError: ccapplication.prog1.LoadDll
> (Native Method)
> at ccapplication.prog1.LoadDll ()Z
> Java 结果: 1

帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:33:53.933

确保将 DLL 文件路径传递给 java 进程，例如

```
java -Djava.library.path=<pathtoDLL> com.yourpackage.Class1 
```

# curl - 可以在没有“weblogUpdates.ping”的情况下发送博客更新 ping 吗？

> ID：15239766
> 
> 赞同：2
> 
> 时间：2013-03-06T05:37:41.087
> 
> 标签：curl, xml-rpc, ping

来自[https://unix.stackexchange.com/a/36455/17948](https://unix.stackexchange.com/a/36455/17948)

要发送的 cURL 是

```
$ curl <target-pingservice-url> -d 'name=<your site name>' -d url=<your-url> -d rss=/rss.xml 
```

据我所知，每个 ping 都包括`weblogUpdates.ping`. 我只是想知道上面的 cURL 是否可以正常工作

如果`weblogUpdates.ping`很重要，如何将其包含在命令中？

# magento - 如何使网站对特定用户可见？

> ID：15239771
> 
> 赞同：0
> 
> 时间：2013-03-06T05:38:07.887
> 
> 标签：magento

我有客户要求他将他的站点从开发服务器移动到生产服务器。

他想在完全上线之前做一些测试和其他事情。所以他想要的是让网站只对他可见（使用一些身份验证）。

一旦他尝试访问站点的任何 url，他应该被重定向到一个登录页面。这个登录页面与覆盖整个屏幕的 magento 登录页面不同，所以在他登录之前网站内容不应该是可见的。（那里应该没有注册设施，这是用户特定的登录）

只有在使用指定的密码和用户名登录后，他才能看到网站内容。

我在我的 index.php 中尝试过这样的事情

```
$basePath=getcwd(); 
```

需要一次 $basePath.'/app/Mage.php'; 法师::init();

$currentUrl = Mage::helper('core/url')->getCurrentUrl(); //echo $currentUrl."
";//退出;

if(strpos($currentUrl,"?k=1") ) { $validation=1;
} 其他 { $validation=0; }

//出口; if($validation==0 ) {
// echo "
In if validation 0";
包括'Loginform.php'；} 其他 {
回声“ddd”；/*退出；*/

```
 /**
         * Error reporting
         */
        error_reporting(E_ALL | E_STRICT);

        /**
         * Compilation includes configuration file
         */
        define('MAGENTO_ROOT', getcwd());

        $compilerConfig = MAGENTO_ROOT . '/includes/config.php';
        if (file_exists($compilerConfig)) {
            include $compilerConfig;
        }                                       

        $mageFilename = MAGENTO_ROOT . '/app/Mage.php';
        $maintenanceFile = 'maintenance.flag';

        if (!file_exists($mageFilename)) {
            if (is_dir('downloader')) {
                header("Location: downloader");
            } else {
                echo $mageFilename." was not found";
            }
            exit;
        }

        if (file_exists($maintenanceFile)) {
            include_once dirname(__FILE__) . '/errors/503.php';
            exit;
        }

        require_once $mageFilename;

        #Varien_Profiler::enable();

        if (isset($_SERVER['MAGE_IS_DEVELOPER_MODE'])) {
            Mage::setIsDeveloperMode(true);
        }

        #ini_set('display_errors', 1);

        umask(0);

        /* Store or website code */
        $mageRunCode = isset($_SERVER['MAGE_RUN_CODE']) ? $_SERVER['MAGE_RUN_CODE'] : '';

        /* Run store or run website */
        $mageRunType = isset($_SERVER['MAGE_RUN_TYPE']) ? $_SERVER['MAGE_RUN_TYPE'] : 'store';

        Mage::run($mageRunCode, $mageRunType); 
```

我在包含内容的基本目录中创建了一个文件 Loginform.php 。

```
<?php 
    $basePath=getcwd();
    require_once $basePath.'/app/Mage.php';
    Mage::init();

    $cust=Mage::getModel('customer/customer')->getCollection();

foreach($cust as $customer)
{       
    //echo $customer->getEmail();
}
// echo "<br/>";
// echo $_POST['username'];  
 $email=$_POST['username'];

 echo "<br/>";
    //echo $_POST['password'];  
    //echo md5($_POST['password']); 
 $password=$_POST['password'];

  echo "<br/>";

$customer = Mage::getModel('customer/customer')->setWebsiteId(Mage::app()->getStore()->getWebsiteId());

try 
{
  if($customer->authenticate($email,$password)) 
  {
        //echo 'success<br/>';

        $url=Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_WEB); //exit;
        $url=$url.'index.php'.'?k=1';
        //echo $url;

            //Mage::app()->getResponse()->setRedirect($url); //Redirecting to base url
            //Mage::app()->getFrontController()->getResponse()->setRedirect($url);

            header("Location:$url");        

  }
}
catch (Mage_Core_Exception $e )
{
    echo $e->getMessage();      

}

?>
<html>
<head>
</head>
<body>
    <form method="post" action="Loginform.php"> 
    User Name<input type="text" name="username"/>
    Password<input type="password" name="password"/>
    <input type="submit" name="submit" value="submit"/>
    </form>
</body>

</html> 
```

但是使用这种逻辑我面临很多问题。请提出一些解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:45:39.700

由于这是一个临时问题，我建议您通过使用 htaccess 在根目录上输入密码来保护站点。

这是一个带有分步说明的网站：[http ://www.thesitewizard.com/apache/password-protect-directory.shtml](http://www.thesitewizard.com/apache/password-protect-directory.shtml)

另一个：[http ://www.seas.upenn.edu/cets/answers/auth-htpasswd.html](http://www.seas.upenn.edu/cets/answers/auth-htpasswd.html)

此解决方案可能并不优雅，但它应该可以节省您编写自定义解决方案的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:14:03.887

您可以将特定客户放在某个独特的客户组下，并且在文件中您可以检查该客户组，如果用户在该客户组下，他可以看到您想要显示的任何内容以及其他条件......无论您想

# c# - 即使受到保护，如何激活 Application.OnKey 方法

> ID：15239781
> 
> 赞同：1
> 
> 时间：2013-03-06T05:38:50.330
> 
> 标签：c#, .net, winforms, excel

我在我的 C# Winform 应用程序中使用了 Excel 查看器。此查看器会动态打开具有不同数量工作表的不同 .xls 文件。我必须在应用程序开始时以及 sheetchange 事件处理程序结束时保护所有工作表。

现在我想允许用户使用一些快捷键，如 {F1} 或 Ctrl+S。但是没有一个键起作用，我认为这是因为我在工作表上应用了保护。我对吗？

**编辑：** 当按下这些键时，我需要运行我的自定义方法而不是 excel 默认方法。所以我使用了

```
Application.OnKey("{F1}", "MyCustomMethod") 
```

在 Form_Load 事件处理程序中，但是当 {F1} 按钮按下 Excel 工作表时没有任何反应。

# jquery - 从 jQuery 调用 WebApi

> ID：15239782
> 
> 赞同：0
> 
> 时间：2013-03-06T05:38:54.657
> 
> 标签：jquery, asp.net-mvc, get, asp.net-web-api

刚开始使用 WebApi 并且有多个问题。阅读大量信息，但可能缺少一些概念。

在我的控制器中：

```
 public IEnumerable<Product> GetProducts()
    {
        return db.Products.AsEnumerable();
    }

    public Product GetProduct(string name)
    {
        Product product = db.Products.FirstOrDefault(p => p.Name == name);
        if (product == null)
        {
            throw new HttpResponseException(Request.CreateResponse(HttpStatusCode.NotFound));
        }

        return product;
    } 
```

Javascript：

```
 $('#Search').click(function () {
    jQuery.support.cors = true;
    var productName = $('#Name').val();

    $.ajax({

        url: "http://localhost:62178/api/product",
        //url: "http://localhost:62178/api/product/" + productName,
        type: "GET",
        success: function (data) {
            alertData(data);
        }
    });
}); 
```

首先，无论我是否传递参数productName，都会调用无参数的GetProduct（并且应该返回数据）。**我需要能够调用这两种 GET 方法。** 二是不调用success函数。所以我没有从 WebApi 方法中获取任何数据。

任何提示或指导表示赞赏。谢谢。WebApiConfig.cs

```
public static class WebApiConfig
{
    public static void Register(HttpConfiguration config)
    {
        config.Routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{id}",
            defaults: new { id = RouteParameter.Optional }
        );
    }
} 
```

现在唯一的问题是我没有收到我的数据警报：

```
$('#Search').click(function () {
    jQuery.support.cors = true;
    var productName = $('#Name').val();

    $.ajax({

        url: "http://localhost:62177/api/product/" + productName,
        //data: { name: productName },
        type: "GET",
        dataType: "jsonp",
        error: function (request, status, error) {
            alert(request.responseText);
        },
        success: function (data) {
            alert(data);
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:51:36.060

将您的方法签名更改为

```
public Product GetProduct(string id) 
```

或者你的路线

```
routeTemplate: "api/{controller}/{name}" 
```

方法参数的名称决定了选择的路由。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T16:48:09.330

First of all, I'm assuming you're viewing your website using Internet Explorer, because the fact that you don't see an error in the console just happened to me, but if you try it with Chrome, you should see an error similar to this one on the console:

```
XMLHttpRequest cannot load http://localhost:44271/api/routes/1\. Origin http://localhost:27954 is not allowed by Access-Control-Allow-Origin. 
```

If you don't see the error, you can still check the result of the network call on the Network tab of Chrome's developer tools. It most likely will not have a Response available and it should be marked as a failed request (not 200 status), like this:

![enter image description here](../Images/263f4c19773bfb67ee9a64ae7bb70858.png)

If your MVC website is in a separate project than your WebAPI, when you launch debugging with Visual Studio, they will be deployed to different applications (URLS) in IIS Express.

What this means is that the call to your WebAPI would be prohibited due to the [CORS policy.](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)

However, you can work around this by using [Brock Allen's CORS implementation for WebAPI](http://brockallen.com/2012/06/28/cors-support-in-webapi-mvc-and-iis-with-thinktecture-identitymodel/), which the ASP.NET team recently announced [will be integrated directly to WebAPI on the next release](http://aspnetwebstack.codeplex.com/wikipage?title=CORS%20support%20for%20ASP.NET%20Web%20API&referringTitle=Specs).

I just had to create a simple PoC today and had the same problem, and successfully used Brock's implementation to fix it. The steps are pretty simple:

1.  You don't have to make any changes to your ApiController.
2.  You add a CorsConfig class to the App_Start folder
3.  You add a call to that CorsConfig class, to the static method that registers CORS support
4.  That's it, you should no longer be getting an error. Note that this CORS configuration will allow CORS calls for all methods, all requests and all origins. I just used it for my PoC. You can be more restrictive using the library's fluent configuration methods.

CorsConfig.cs

```
public static void RegisterCors(HttpConfiguration httpConfig)
{
    WebApiCorsConfiguration corsConfig = new WebApiCorsConfiguration();

    // this adds the CorsMessageHandler to the HttpConfiguration’s
    // MessageHandlers collection
    corsConfig.RegisterGlobal(httpConfig);

    // this allow all CORS requests to the Products controller
    // from the http://foo.com origin.
    corsConfig.AllowAll();
} 
```

Global.asax

```
protected void Application_Start()
    {
        AreaRegistration.RegisterAllAreas();
        WebApiConfig.Register(GlobalConfiguration.Configuration);
        FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);
        RouteConfig.RegisterRoutes(RouteTable.Routes);

        CorsConfig.RegisterCors(GlobalConfiguration.Configuration);
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T00:53:01.967

这很可能是由于同源政策。尝试在 Visual Studio 解决方案中移动您的 html 文件（假设您使用的是 Visual Studio）并从那里运行它（例如 localhost:62177/test.htm）。如果您以这种方式收到结果，将确认相同的来源策略阻止。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-04T19:39:39.490

部分答案 - 您必须在 jquery ajax 调用中设置数据参数，
并且为了清楚起见 -
您可能不应该使用“数据”作为您的返回变量
（我在下面将其更改为“结果”）
所以：

```
$.ajax({
    url: "http://localhost:62178/api/product",
    data: {name: productName},
    type: "GET",
    success: function (result) {
        alertData(result);
    }
}); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-06T06:28:32.500

尝试用

```
[HttpGet] 
```

参数为

```
[HttpGet]
public Product GetProduct([FromUri]string name) 
```

然后尝试

# python - 为什么重置python全局值不生效

> ID：15239783
> 
> 赞同：11
> 
> 时间：2013-03-06T05:38:59.590
> 
> 标签：python, global

只是对 Python 中的全局值感到困惑，这里有两段代码

```
#gl.py

import cli

a = 1    
print "gl 1: %d %d" % (id(a), a)

def reset():
    global a
    a = 7
    print "reset 1: %d %d" % (id(a), a)

if __name__ == '__main__':
    cli.handler(reset)
    print "gl 2: %d %d" % (id(a), a) 
```

cli代码

```
#cli.py

def handler(func):
    from gl import a
    print "cli 1: %d %d" % (id(a), a)
    func()
    print "cli 2: %d %d" % (id(a), a) 
```

执行的结果是

```
$ python gl.py
gl 1: 150847672 1
gl 1: 150847672 1
cli 1: 150847672 1
reset 1: 150847600 7
cli 2: 150847672 1    #Why value doesn't change
gl 2: 150847600 7 
```

这里我不明白“function reset()”执行后，全局值的结果在cli.py中没有改变（**cli 2：150847672 1**），但是回到gl.py，全局值确实改变了！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:32:38.890

这里缺少两个概念

*   全局变量是模块的全局变量，而不是跨模块的全局变量

参考： http: [//legacy.python.org/doc/essays/ppt/hp-training/sld036.htm](http://legacy.python.org/doc/essays/ppt/hp-training/sld036.htm)

参考：[http ://docs.python.org/release/2.4/ref/global.html](http://docs.python.org/release/2.4/ref/global.html)

*   变量作为值导入，而不是通过引用导入

参考：[https ://stackoverflow.com/a/3338357/977038](https://stackoverflow.com/a/3338357/977038)

如果您需要跨模块共享全局变量，请参阅[如何跨模块共享全局变量？](http://docs.python.org/2/faq/programming.html#how-do-i-share-global-variables-across-modules)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:57:23.043

您在 cli 中导入的 gl 实际上是模块对象的副本。如果我们像这样更改您的代码：

```
#gl.py

import cli
import sys

a = 1    
print "gl 1: %d %d" % (id(a), a)
print "gl id on import: {0}".format(id(sys.modules[__name__]))

def reset():
    global a
    a = 7
    print "gl id in reset: {0}".format(id(sys.modules[__name__]))
    print "reset 1: %d %d" % (id(a), a)

def printa():
    print "gl: %d %d" % (id(a), a)

if __name__ == '__main__':
    cli.handler(reset)
    print "gl id in main: {0}".format(id(sys.modules[__name__]))
    print "gl 2: %d %d" % (id(a), a) 
```

和

```
#cli.py

def handler(func):
    #from gl import a
    import gl
    print "gl id in cli: {0}".format(id(gl))
    print "cli 1: %d %d" % (id(gl.a), gl.a)
    func()
    print "cli 2: %d %d" % (id(gl.a), gl.a)
        gl.reset()
        print "cli 3: %d %d" % (id(gl.a), gl.a) 
```

我们得到：

```
gl 1: 19056568 1
gl id on import: 140075849968728
gl 1: 19056568 1
gl id on import: 20004096
gl id in cli: 20004096
cli 1: 19056568 1
gl id in reset: 140075849968728
reset 1: 19056424 7
cli 2: 19056568 1
gl id in reset: 20004096
reset 1: 19056424 7
cli 3: 19056424 7
gl id in main: 140075849968728
gl 2: 19056424 7 
```

所以当我们运行reset时，我们改变了引用

```
a -> 19056568 
```

至

```
a -> 19056424 
```

但只有一份 gl 副本。另一个（cli 中的那个）保留旧的参考。如果我们在 cli 中运行 gl.reset()，该副本上的引用会发生变化，我们会在 cli 中得到预期的变化。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T06:32:06.333

您的`gl`模块被导入两次到两个不同的命名空间

尝试这个：

```
import sys
print sys.modules['__main__'].a
print sys.modules['gl'].a 
```

# android - Android Json 反序列化为 java 类

> ID：15239784
> 
> 赞同：0
> 
> 时间：2013-03-06T05:39:02.337
> 
> 标签：android, json

我使用 asp.net web api 作为服务器，使用 android 作为客户端。我从 android 请求到 web api，我得到了 json 字符串。当我使用 Gson 将此 json 字符串分配给 java 对象时，我得到了异常。我的代码是，

```
private StringBuilder inputStreamToString(InputStream is) {
        String line = "";
        StringBuilder total = new StringBuilder();
        // Wrap a BufferedReader around the InputStream
        BufferedReader rd = new BufferedReader(new InputStreamReader(is));
        // Read response until the end
        try {
            while ((line = rd.readLine()) != null) {
                total.append(line);
            }
            Log.i("RETURN DATA:", total.toString());

              Gson gson = new Gson();
              ReturnData returndata = (ReturnData)
              gson.fromJson( total.toString(), ReturnData.class);
              Log.i("RESULT DATA", returndata.ResultData.toString());
        } catch (IOException e) {
            e.printStackTrace();
        }
        // Return full string
        return total;
    } 
```

而我的 json 字符串（我从服务器获取）就像，

```
"\"OperationResult\":0,\"Messages\":operationsuccess\"\",\"UpdateAvailable\":\"\",\"ResultData\":{\"SessionId\":1584789522,\"UserName\":vinoth,\"AccoundId\":1236985,\"Roles\":[],\"DisplayName\":Vinoth,\"Status\":0,\"Type\":0}}" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:48:42.587

编辑：试试这个来删除引号

结果是你的jsonstring

```
 if(results!=null && results.length()!=0)
             {
                 if(results.startsWith("\""))
                 {
                     results=results.substring(1,results.length());
                 }
                 if(results.endsWith("\""))
                 {
                     results=results.substring(0,results.length()-1); 
                 }
               } 
```

* * *

您的 json String 有额外的转义字符，您需要取消转义它们，您可以通过两种方式进行

**第**一个也是简单的一个是格式化服务器中的服务以返回纯 json。

**其次**，您可以在您的 java 中处理该字符串，只需下载[Apache commons lang](http://commons.apache.org/proper/commons-lang/)库并将 `commons-lang3-3.1.jar`文件粘贴到您的**libs**文件夹

并像这样使用它

```
String formatedjsonstring=StringEscapeUtils.unescapeJava(yourjsonstring); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:08:46.693

看起来您`json`在服务器上的生成器正在转义用作 ... 分隔符的双引号，以下是来自[json.org](http://json.org/)`string`的字符串的定义。

![在此处输入图像描述](../Images/06590b8b2d233b42dd408d61c281f710.png)

中的字符串`Json`应该在双引号内。当您想在字符串中加上双引号时使用转义宪章...

如果您想保留引号作为 json 键的一部分，以下是有效的 json

```
{
    "\"OperationResult\"": 0,
    "\"Messages\"": "operationsuccess\"\"",
    "\"UpdateAvailable\"": "",
    "\"ResultData\"": {
        "\"SessionId\"": 1584789522,
        "\"UserName\"": "vinoth",
        "\"AccoundId\"": 1236985,
        "\"Roles\"": [],
        "\"DisplayName\"": "Vinoth",
        "\"Status\"": 0,
        "\"Type\"": 0
    }
} 
```

如果您不想将引号作为键的一部分，以下是有效的 json。

```
{
    "OperationResult": 0,
    "Messages": "operationsuccess",
    "UpdateAvailable": "",
    "ResultData": {
        "SessionId": 1584789522,
        "UserName": "vinoth",
        "AccoundId": 1236985,
        "Roles": [],
        "DisplayName": "Vinoth",
        "Status": 0,
        "Type": 0
    }
} 
```

有一个非常漂亮和简单的网站，叫做[JSONLint.com](http://jsonlint.com/)，我总是用它来检查 json 是否正确。

# css - 如何在 less 中生成带有循环的 CSS

> ID：15239785
> 
> 赞同：44
> 
> 时间：2013-03-06T05:39:04.060
> 
> 标签：css, less

我不熟悉`Less`。据我了解，我认为`Less`可以将`less`格式文件转换为标准`css`文件（如果我错了，请纠正我）。现在我有一个问题。

假设您将在单个 CSS 文件中生成 100 个如下（从`.span1`到）的 CSS 类。`.span100`我想知道是否`less`可以生成类似的CSS文件？

```
...
.span5 {
  width: 5%;
}

.span4 {
  width: 4%;
}

.span3 {
  width: 3%;
}

.span2 {
  width: 2%;
}

.span1 {
  width: 1%;
} 
```

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2014-01-18T01:54:11.143

试试这个：

```
@iterations: 5;
.span-loop (@i) when (@i > 0) {
    .span-@{i} {
        width: ~"@{i}%";
    }
    .span-loop(@i - 1);
}
.span-loop (@iterations); 
```

**输出：**

```
.span-5 {
  width: 5%;
}
.span-4 {
  width: 4%;
}
.span-3 {
  width: 3%;
}
.span-2 {
  width: 2%;
}
.span-1 {
  width: 1%;
} 
```

你可以在[less2css](http://lesscss.org/less-preview/)上试试。

## 编辑 2014 年 4 月 3 日

### 这是一个更灵活的版本，具有更多选项：

```
.custom-loop( @base-value:@n ; @n ; @unit : px; @j : 1 ;@_s:0 ; @step-size:1  ; @selector:~".span-"; @property : width)
when not(@n=0)  {

  @size : @base-value+@_s;
  @{selector}@{j}{
    @{property} : ~"@{size}@{unit}";
  }
  .custom-loop(@base-value ,  (@n - 1), @unit , (@j + 1) ,  (@_s+@step-size) , @step-size,  @selector, @property);
} 
```

您只能通过`@n`which 是必需的参数来调用它：

```
.custom-loop(@n:3); 
```

这将输出：

```
.span-1 {
  width: 3px;
}
.span-2 {
  width: 4px;
}
.span-3 {
  width: 5px;
} 
```

但是，如果您想控制每个参数，这里是一个使用所有自定义参数的示例：

```
.custom-loop( @n: 3 , @base-value:1, @unit: '%', @property:font-size, @selector: ~".fs-", @step-size: 2); 
```

这将输出：

```
.fs-1 {
  font-size: 1%;
}
.fs-2 {
  font-size: 3%;
}
.fs-3 {
  font-size: 5%;
} 
```

## 参数说明

1.  **@n**：*整数*，迭代次数。

2.  **@base-value**（可选）：*整数*，要分配给属性的循环的起始值。默认值与分配给迭代次数的值相同`@n`。

3.  **@unit** (可选): *string* , 属性的单位。默认值为`px`。

4.  **@property**（可选）：*非字符串*或*字符串*CSS 属性。默认值为`width`

5.  **@selector**（可选）：*转义字符串*，用于循环的选择器。可以是任何东西，只要它作为转义字符串传入即可。

6.  **@step-size**（可选）：*整数*，循环递增的值。

## 笔记

**注 1：**自定义选择器作为转义字符串传入。如果它没有被转义，它就不会按预期工作。

**注意 2：** mixin 是通过显式使用参数名称来调用的。这有一些优点和缺点：

**注 3：**单位作为字符串传入。

**好处**

1.  调用什么参数一目了然
2.  您不必依赖参数的顺序并记住哪个参数先出现，第二个，......</li>

**缺点**

1.  我想它看起来有点丑？
2.  （如果您知道更好的实现，请添加到列表和/或更改实现）

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2013-03-06T08:21:02.737

所有，我找到了一种循环输出css的方法。请审查它。谢谢。

```
@iterations: 100;

// helper class, will never show up in resulting css
// will be called as long the index is above 0
.loopingClass (@index) when (@index > 0) {

    // create the actual css selector, example will result in
    // .myclass_30, .myclass_28, .... , .myclass_1
    (~".span@{index}") {
        // your resulting css
        width: percentage((@index - 1) *0.01);
    }

    // next iteration
    .loopingClass(@index - 1);
}

// end the loop when index is 0
.loopingClass (0) {}

// "call" the loopingClass the first time with highest value
.loopingClass (@iterations); 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2020-03-27T00:55:36.597

请注意，自 3.7 版以来，Less 有一个[each()](http://lesscss.org/functions/#list-functions-each)函数，可以很容易地与该`range()`函数一起使用以生成所需的代码 - 如下所示：

```
each(range(100),{
    .span@{value} { width: @value * 1%; }
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-19T12:51:02.013

在给定的方法内是不可能做到的。

![](../Images/0efb5f326ac5e6a391a49cfd7c5b46f9.png)

但可能是这样的：

```
.loopingClass (@index) when (@index > 0){
  .span_@{index}{
    width: @index px;
  }
  .loopingClass(@index - 1);
}
.loopingClass(5); 
```

Resilt 将是这样的：

```
.span_100 {
  width: 100 px;
}
.span_99 {
  width: 99 px;
}
.span_98 {
  width: 98 px;
}
.span_97 {
  width: 97 px;
}
.span_96 {
  width: 96 px;
}
.span_95 {
  width: 95 px;
}

and e.t.c. 
```

# rubymine - 如何设置 RubyMine 以便 |tab| 会根据上下文触发完成或缩进吗？

> ID：15239790
> 
> 赞同：1
> 
> 时间：2013-03-06T05:39:26.623
> 
> 标签：rubymine

有没有办法设置 RubyMine，如果光标正好在符号之后，按 |tab| 将触发自动完成，但如果不是，请按 |tab| 会缩进吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:37:43.733

这种定制只能通过编写插件来完成。

# ios - NSFetchResultsController 委托没有被调用

> ID：15239791
> 
> 赞同：3
> 
> 时间：2013-03-06T05:39:28.493
> 
> 标签：ios, core-data, delegates, nsfetchedresultscontroller, core-data-migration

我正在`NSFetchedResultsController`使用 coredata 加载我的 tableView。最近**我在我的 ManagedObjectModel 中添加了一个新`Entity`**的，并进行了 coredata 版本控制并使用了轻量级迁移。

我的托管对象上下文 (MOC) 的打印描述显示了新添加的架构，并且架构也在`NSPersistentStoreCoordinator`.

我的问题是，一旦我将数据插入到新创建`Entity`的文件中，即使在插入时没有引发错误，**`NSFetchedResultsController`代表也不会被触发，并且我验证了插入确实发生在 SQL 表中。**

我已经检查过是否需要使用 coredata 迁移

```
 NSMigrationManager *manager = [[NSMigrationManager alloc]
                               initWithSourceModel:[self sourceModel] destinationModel:[self destinationModel]];

BOOL success = [manager migrateStoreFromURL:storeURL type:NSSQLiteStoreType
                                    options:nil withMappingModel:mappingModel toDestinationURL:dstStoreURL
                            destinationType:NSSQLiteStoreType destinationOptions:nil error:outError]; 
```

发现coredata是自动选择了正确的模型，不需要使用`NSMigrationManager`。

为了实现`NSFetchResultsController`，我遵循了 Raywenderlich 的示例

[http://www.raywenderlich.com/999/core-data-tutorial-how-to-use-nsfetchedresultscontroller](http://www.raywenderlich.com/999/core-data-tutorial-how-to-use-nsfetchedresultscontroller) 过去它在没有任何版本控制的情况下可以在 CoreData 上正常工作。

谁能告诉我**在添加新实体**并进行版本控制后如何`NSFetchResultsController delegate`工作，我必须使用最新的。托管对象模型中新添加的实体和旧实体之间没有关系。**`changed the Current Core Data Model`**

 **## 编辑：这是我的获取结果控制器初始化代码

```
- (NSFetchedResultsController *)fetchedResultsController {

if (fetchedResultsController != nil) {
    return fetchedResultsController;
}

NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
NSEntityDescription *entity = [NSEntityDescription
                               entityForName:@"SongDetails" inManagedObjectContext:self.managedObjectContext];
[fetchRequest setEntity:entity];

NSSortDescriptor *sort = [[NSSortDescriptor alloc]
                          initWithKey:@"songName" ascending:YES];

[fetchRequest setSortDescriptors:[NSArray arrayWithObject:sort]];

[fetchRequest setFetchBatchSize:10];

/*CHECKED WHETHER ANY SONGDETAILS ARE FETCHED*/
NSError * err;
NSArray * results = [managedObjectContext executeFetchRequest:fetchRequest error:&err];
NSLog(@" results >>> %@ ,results);
/* */

NSFetchedResultsController *theFetchedResultsController =
[[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest
                                    managedObjectContext:self.managedObjectContext sectionNameKeyPath:nil
                                               cacheName:nil];

self.fetchedResultsController = theFetchedResultsController;
fetchedResultsController.delegate = self;

return fetchedResultsController; 
```

}

在获取结果控制器中添加日志后，我得到以下结果

```
 results >>> ("<SongDetails: 0x115abae0> (entity: SongDetails; id: 0x115a94a0 <x-coredata://7E5CDD40-8A4C-455D-8000-34FD70AC8837/SongDetails/p1> ; data: <fault>)",
"<SongDetails: 0x115abe90> (entity: SongDetails; id: 0x115aa450 <x-coredata://7E5CDD40-8A4C-455D-8000-34FD70AC8837/SongDetails/p2> ; data: <fault>)", 
```

以下是插入时 SQL 调试器的结果。

```
2013-03-06 12:09:25.894[6035:c07] CoreData: sql: BEGIN EXCLUSIVE
2013-03-06 12:09:25.895[6035:c07] CoreData: sql: INSERT INTO ZSONGDETAILS(Z_PK, Z_ENT, Z_OPT, ZSONGNAME) VALUES(?, ?, ?, ?)
2013-03-06 12:09:25.902[6035:c07] CoreData: sql: COMMIT 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:55:33.720

从我的评论中转述。您需要`[fecthedResultsController performFetch:&error]`在 FRC 检测模型更改并调用其委托方法之前调用。**

# javascript - 如何使我的工具提示不隐藏在浏览器窗口中

> ID：15239792
> 
> 赞同：0
> 
> 时间：2013-03-06T05:39:31.273
> 
> 标签：javascript, wordpress, tooltip, jquery-tooltip, jquery-ui-tooltip

我想要一个用于我的 Wordpress 网站的工具提示 wordpress 插件或 jquery 插件，以便在其中显示一些描述，并且我希望我的工具提示不要隐藏在任何浏览器窗口中。谁能推荐我最好的插件。我想要这个网站 [http://www.menucool.com/tooltip/javascript-tooltip的插件](http://www.menucool.com/tooltip/javascript-tooltip)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-08T13:41:59.883

Thejdeep，您应该查看 qTip2 jQuery 插件。它具有极强的可配置性，具有广泛的网站，并且开发人员非常敬业且响应迅速。

[http://craigsworks.com/projects/qtip2/](http://craigsworks.com/projects/qtip2/)

最近有一个具有 qTip ( [http://wordpress.org/plugins/myqtip-easy-qtip2/](http://wordpress.org/plugins/myqtip-easy-qtip2/) ) 的 WP 插件，但它可能无法提供编辑模板以使用核心代码所获得的所有灵活性。

请记住在主题级别将 jQuery 添加到 WP 时：将您的脚本排入队列，并注意 WP 在无冲突模式下加载 jQuery。

# .htaccess - 如何编写 404 重定向的 .htaccess 代码？

> ID：15239793
> 
> 赞同：1
> 
> 时间：2013-03-06T05:39:32.177
> 
> 标签：.htaccess, redirect

我已将我的网站从 asp 移动到 php。我想重定向我的旧 ULR，即

```
http://www.mysite.com/ABC/Home.aspx 
```

到新网址

```
http://www.mysite.com 
```

怎么做？？我知道我们可以做这个 .htaccess 文件。但我不知道它的编程。有人可以与我共享代码吗？以及在哪里放置此代码？在主 .htaccess 文件中或在我的 ABC 文件夹中创建一个 .htaccess 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:51:22.150

我在 .htaccess 文件中使用了以下代码

```
Redirect 301 /ABC/Home.aspx http://www.addictiveblogs.com/
Redirect 301 /ABC http://www.addictiveblogs.com/ 
```

并将这个 .htaccess 文件放在我的 ABC 文件夹中。这对我来说可以。[现在将我的所有流量http://www.addictiveblogs.com/ABC/Home.aspx](http://www.addictiveblogs.com/ABC/Home.aspx)和[http://www.addictiveblogs.com/ABC/](http://www.addictiveblogs.com/ABC/)重定向到我的主页。

来源： http: [//www.addictiveblogs.com/301-404-redirect-to-new-pages-through-htaccess/](http://www.addictiveblogs.com/301-404-redirect-to-new-pages-through-htaccess/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:46:04.627

如果您的站点在 Apache 服务器上，请检查此链接

[http://www.htaccessredirect.net/](http://www.htaccessredirect.net/)

**编辑**

在您的 .htaccess 中使用此代码

```
错误文档 404 /index.php

```

# android - 滚动时列表项变黑，setCacheColorHint() 无效

> ID：15239798
> 
> 赞同：2
> 
> 时间：2013-03-06T05:40:05.337
> 
> 标签：android, android-listview

我的 Android 应用程序中有一个两种颜色`ListView`的 s（一种颜色用于奇数元素，一种用于偶数元素）。它在 Froyo 上运行良好。但是在 Jelly Bean 模拟器上，滚动过程中会出现一些伪影。某些元素的背景变为黑色。**是的，我知道带有透明缓存颜色提示的解决方案！**但只有当我以这种方式设置背景时它才有效：

在`bindView()`适配器方法中：

```
// ...
view.setBackgroundResource(
        cursor.getPosition() % 2 == 0 ? R.color.list_item_bg1: R.color.list_item_bg2); 
```

但是这种方法不适合我，因为我想突出显示元素，然后用户点击它。所以我`StateListDrawable`为此目的使用：

```
mOddColorDrawable = new ColorDrawable(
        context.getResources().getColor(R.color.list_item_bg2));
mEvenColorDrawable = new ColorDrawable(
        context.getResources().getColor(R.color.list_item_bg1));
mSelector = new ColorDrawable(
    context.getResources().getColor(R.color.list_item_selector));

public void bindView(View view, Context context, Cursor cursor) {
    // ...
    setBackground(cursor.getPosition % 2 != 0, view);
}

public void setBackground(boolean isOdd, View listItem) {
    StateListDrawable dr = new StateListDrawable();
    Drawable drColor = isOdd ? mOddColorDrawable : mEvenColorDrawable;
    dr.addState(new int[] { android.R.attr.state_pressed }, mSelectorDrawable);
    dr.addState(new int[] { -android.R.attr.state_pressed }, drColor);
    listItem.setBackgroundDrawable(bg);
} 
```

因此，即使我为`ListView`. 我花了几天时间调查这个问题，但无法克服它。所以，你是我最后的希望，StackOverflow！

**概括：**

1.  我想让 ListView 有两种不同的元素颜色。
2.  我想要具有自定义颜色的项目选择器。
3.  如果我使用 StateListDrawable，setCacheColorHint(transparent) 没有帮助。
4.  在 Froyo 上一切正常，但在 Jelly Bean 上却不行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:14:41.347

为了使列表项的备用背景颜色。在你的适配器类中写下这行代码

```
public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        ViewHolder holder;
        if (v == null) {
            LayoutInflater vi = (LayoutInflater) activity
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(R.layout.listitem, null);

            if (position % 2 == 0) {
                v.setBackgroundResource(R.color.firstcolor);
            } else {
                v.setBackgroundResource(R.color.second color);
            } 
         ...............
         ......... 
```

您好，请通过我的 Android 博客获得完整的帮助，希望您能找到您正在寻找的答案。刚才我已经从我身边完成并进行了测试，它对我来说工作正常。在底部，您将获得一个链接，以便您可以下载完整的源代码。

[http://amitandroid.blogspot.in/2013/03/android-listview-with-alternate-list.html](http://amitandroid.blogspot.in/2013/03/android-listview-with-alternate-list.html)

如果它完全满足您的要求，请告诉我。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T05:51:17.360

在列表视图中设置 cacheColorHint="#00000000"。

有关更多信息.. 阅读这篇文章[Getting Black Screen while Scrolling in ListView in Android](https://stackoverflow.com/questions/8345677/getting-black-screen-while-scrolling-in-listview-in-android)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:05:48.003

如果您使用的是动态列表视图，那么为了避免黑屏

```
ListView listview=new ListView();
listview.setCacheColorHint(0); 
```

如果您想在单击任何显示为黄色的项目时制作透明的列表项，还有一件事。为了避免这种情况

```
listview.setSelector(new ColorDrawable(0x0)); 
```

并且用于布局//用于在选择或单击列表项时避免黄色

```
android:listSelector="#00000000" 
```

谢谢，

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:02:41.957

setSelector(new ColorDrawable(0x0)); Is used to avoid yellow color while clicking listitem. If you want some hover effect to ListItem so use selctor in listiem.

listiemselector.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android"> 
 <item 
 android:state_selected="false"
    android:state_pressed="false" 
    android:drawable="@color/white" />
<item android:state_pressed="true" 
    android:drawable="@color/selected" />
<item android:state_selected="true"
 android:state_pressed="false" 
    android:drawable="@color/selected" />
</selector> 
```

and use it in your listitem parent Layout.

```
android:background="@drawable/listiemselector" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-13T04:29:59.157

从列表中删除项目时，我遇到了相同的列表变黑问题。今天我通过删除listView的“android：background”属性解决了这个问题。它工作正常。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T05:58:59.343

您好，请查看本**[教程](http://android-developers.blogspot.in/2009/01/why-is-my-list-black-android.html)**以获取更多信息。

在 ListView 标签上添加一个属性

```
 android:cacheColorHint="#00000000"// setting as a transparent color 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-12-04T09:32:04.543

请使用 **mListView.setFadingEdgeLength(0);** 其中 mListView 是 ListView 对象引用。它工作完美。

# netsuite - NetSuite 用户登录

> ID：15239799
> 
> 赞同：1
> 
> 时间：2013-03-06T05:40:07.220
> 
> 标签：netsuite

在 Netsuite 中，我们有场景

1.  用户将通过桌面应用程序登录。
2.  成功登录后，我们需要将用户重定向到 netsuite webapplication。
3.  我们还希望在 netsuite Web 应用程序中继续用户桌面会话。

**注意：登录只能通过桌面应用程序完成。**

目前，我们正在使用带有护照身份验证的 Netsuite Web 服务。也可以在不提供帐号的情况下登录 netsuite。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:11:41.517

您可以使用 REST 登录而无需提供帐号：

使用以下网址：

[https://rest.netsuite.com/rest/roles](https://rest.netsuite.com/rest/roles)

..并在标题中传递授权：

NLAuth nlauth_email=my@email.com, nlauth_signature=mypassword

[http://elibeltran.com/webservice-login-without-providing-an-account-number-is-it-possible/](http://elibeltran.com/webservice-login-without-providing-an-account-number-is-it-possible/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-24T18:43:24.003

如果我理解正确，您还可以使用 Netsuite 的单点登录 (SSO) 功能。您可以使用 SAML 并设置 IdP 服务器，也可以使用您必须升级到（即付费）但更易于设置的入站单点登录功能。

# sql - 创建一个触发器以将记录从一个表插入另一个表。获取触发器中的插入值

> ID：15239800
> 
> 赞同：4
> 
> 时间：2013-03-06T05:40:18.167
> 
> 标签：sql, sql-server

我有两张桌子`tbl_PurchaseDetails`和`tbl_ItemDetails`. `tbl_ItemDetails`我需要在from中插入一些行`tbl_PurchaseDetails`，就在它插入之后`tbl_PurchaseDetails`。我知道这个问题，但我无法解决它。请帮忙。

我为触发器编写了以下代码：

```
CREATE TRIGGER trigger_UpdateItemDetails ON tbl_PurchaseDetails
FOR INSERT AS
DECLARE @PurchaseID VARCHAR(20)
DECLARE @Quantity INT
DECLARE @WarehouseID VARCHAR(20)

SELECT @PurchaseID=(PurchaseID) FROM INSERTED
SELECT @Quantity=(ItemQuantity) FROM INSERTED
SELECT @WarehouseID=(WarehouseID) FROM INSERTED

INSERT INTO 
tbl_ItemDetails
(PurchaseID,Quantity,WarehouseID)
VALUES
(
@PurchaseID,@Quantity,@WarehouseID
) 
```

现在，当我插入`tbl_PurchaseDetails`行时，添加到`tbl_PurchaseDetails`但不添加到`tbl_ItemDetails`. 它抛出以下错误：

> *消息 515，级别 16，状态 2，过程 trigger_UpdateItemDetails，第 11 行
> 无法将值 NULL 插入列“PurchaseID”，表“dbStockHandling.dbo.tbl_ItemDetails”；列不允许空值。插入失败。*

我的问题是如何获取插入的值，`tbl_PurchaseDetails`以便触发器可以将它们插入`tbl_ItemDetails`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T05:43:09.303

请试试：

```
CREATE TRIGGER trigger_UpdateItemDetails ON tbl_PurchaseDetails
FOR INSERT AS
BEGIN

    INSERT INTO 
    tbl_ItemDetails
    (
        PurchaseID,
        Quantity,
        WarehouseID
    )
    SELECT 
        PurchaseID, 
        ItemQuantity, 
        WarehouseID
    FROM 
        INSERTED
END 
```

并确保您在table`NOT NULL`的列中插入一个值。`PurchaseID``tbl_PurchaseDetails`

# android - 如何实现 2 路通信 b/w android 应用程序和 GPRS 调制解调器

> ID：15239810
> 
> 赞同：0
> 
> 时间：2013-03-06T05:41:26.693
> 
> 标签：android

我是java和android编程以及eclipse环境的新手。我必须建立一个运行时连接 b/w android 应用程序和放置在我家中的 GPRS 调制解调器。我必须将号码从 GPRS 调制解调器发送到我的应用程序和虎钳诗句。我读了很多关于stackoverflow的问题。我知道我必须建立一个 tcp/ip 连接和一个服务器 b/w 我的应用程序和 GPRS 调制解调器。但我不知道在哪里实现服务器。谁能告诉我一步一步的过程？

** 我希望我的应用程序使用手机上任何可用的互联网连接（wifi、gprs 等）进行通信，而不是专门的 gprs 连接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:02:17.593

我可以建议我的方法，但可能还有更多方法可以做到。

1) Android App 应该与 PHP , ruby​​ 等的 web 服务器通信。

2) 网络服务器与具有公共 IP 地址的 GPRS 调制解调器通信

3) GPRS 调制解调器的状态由网络服务器控制。 ![在此处输入图像描述](../Images/821e2964403e164875d5950cb84b5f27.png)

# oop - 在 Matlab 中设置对象的属性

> ID：15239812
> 
> 赞同：5
> 
> 时间：2013-03-06T05:41:34.177
> 
> 标签：oop, matlab

所以我无法设置对象的特定属性。我对 Matlab 比较陌生，尤其是对面向对象编程。下面是我的代码：

```
classdef Card < handle
properties
    suit;
    color;
    number;
end

methods
    %Card Constructor
    function obj= Card(newSuit,newColor,newNumber)
      if nargin==3
        obj.suit=newSuit;
        obj.color=newColor;
        obj.number=newNumber;
      end
    end

    function obj=set_suit(newSuit)
        obj.suit=(newSuit);
    end 
```

一切运行良好，直到我尝试 set_suit 功能。这是我在命令窗口中输入的内容。

```
a=Card

a = 

Card handle

Properties:
  suit: []
 color: []
number: []

Methods, Events, Superclasses

a.set_suit('Spades')
Error using Card/set_suit
Too many input arguments. 
```

这总是返回太多输入参数的错误。对此和面向对象编程的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:26:10.570

对于类[方法](http://www.mathworks.com/help/matlab/matlab_oop/ordinary-methods.html)（非[静态](http://www.mathworks.com/help/matlab/matlab_oop/static-methods.html)），第一个参数是对象本身。因此，您的方法应如下所示：

```
function obj=set_suit( obj, newSuit)
    obj.suit=(newSuit);
end 
```

`obj`请注意参数列表开头的附加参数。

现在您可以通过以下方式调用此方法

```
a.set_suit( 'Spades' ); 
```

或者

```
set_suit( a, 'Spades' ); 
```

# objective-c - 在 UITableView 中重新加载表格子视图

> ID：15239813
> 
> 赞同：0
> 
> 时间：2013-03-06T05:41:37.527
> 
> 标签：objective-c, cocoa-touch, uitableview

我有一个 tableView，我在其中添加了一个滑块作为子视图。我用两种方法试试这个。

**方法1：**

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier];
    }

    UISlider*  theSlider =  [[[UISlider alloc] initWithFrame:CGRectMake(174,12,120,23)] autorelease];
    theSlider.maximumValue=99;
    theSlider.minimumValue=0;
    [cell.contentView addsubview:theSlider];
    return cell;
} 
```

**问题：**如果我使用它，那么如果我滚动表格，滑块会重新加载并显示最小值而不是滑块值。所以我使用第二种方法。

**方法2：**

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    NSString *CellIdentifier=[NSString stringWithFormat:@"CellIdentifier%d",indexPath.row];

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier]; 
        UISlider* theSlider =  [[[UISlider alloc] initWithFrame:CGRectMake(174,12,120,23)] autorelease];
        theSlider.maximumValue=99;
        theSlider.minimumValue=0;
        [cell addSubview:theSlider];
    }  
    return cell;
} 
```

**问题：** 我的视图中有一个下一个按钮。当我尝试点击它时，我想重新加载所有滑块（即将滑块值设置为最小值）。我尝试重新加载表，但我没有得到想要的结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:03:43.610

当用户更改滑块时，您必须跟踪它的最后一个值。然后在 中`cellForRowAtIndexPath:`，您必须将滑块的值设置为上次保存的值。

添加一个实例变量来保存滑块的值：

```
NSMutableDictionary *_sliderValues; // don't forget to initialize this variable

// Helper method to located the slider in the cell
- (UISlider *)findSlider:(UIView *)view {
    for (UIView *subview in view.subviews) {
        if ([subview isKindOfClass:[UISlider class]]) {
            return (UISlider *)subview;
        } else {
            UISlider *slider = [self findSlider:subview];
            if (slider) {
                return slider;
            }
    }

    return nil;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    NSString *CellIdentifier = @"SliderCell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier]; 
        UISlider *theSlider = [[[UISlider alloc] initWithFrame:CGRectMake(174,12,120,23)] autorelease];
        theSlider.maximumValue = 99;
        theSlider.minimumValue = 0;
        [theSlider addTarget:self action:@selector(sliderChanged:) forControlEvents: UIControlEventValueChanged];
        [cell.contentView addSubview:theSlider];
    }

    UISlider *slider = [self findSlider:cell];
    slider.tag = indexPath.row
    slider.value = [_sliderValue[@(slider.tag)] floatValue];

    return cell;
}

// Process changes to a slider
- (void)sliderChanged:(UISlider *)slider {
    NSInteger tag = slider.tag;
    [_sliderValues setObject:@(slider.value) forKey:@(tag)];
}

// called when the Next button is tapped
- (void)nextAction {
    [_sliderValues removeAllObjects];
    [self.tableView reloadData];
} 
```

注意：这尚未编译或运行。它可能有一个错字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:18:30.883

当您单击下一步按钮时。检索表格视图中的所有滑块并将其重置为零。

```
for (UISlider *but in [self.view.subviews subviews]) // or use [yourtableview subviews]
    { 
        if ([but isKindOfClass:[UISlider class]]) {
            [but setValue:0.0];
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:46:22.237

确定从您的按钮调用此行，它将重新加载您的表格视图您添加的所有数据：

```
[[self mytableview] reloadData]; 
```

在这里，mytableview 是您放置表视图对象的表视图的 obj。

# ruby-on-rails - iframe 导致 Can't Verify CSRF Token Authenticity n Rails

> ID：15239818
> 
> 赞同：4
> 
> 时间：2013-03-06T05:42:16.360
> 
> 标签：ruby-on-rails, jquery, iframe, windows-phone-8, csrf

我有一个使用 phonegap 2.3.0 for Windows Phone 8 SDK 通过 iframe 加载的 webapp。通过 iframe 加载它的问题是，`Can't verify CSRF token authencity`当我发送`$.post()`请求时，它会在 Rails 端引起。

我尝试了几种方法，例如用令牌覆盖`$.post()`要使用的`$.ajax()`to `setHeaderRequest`，以及`$.ajaxSetup()`

当我禁用`protect_from_forgery`or`verify_authenticity_token`时，应用程序正确加载。

我相信这个问题是因为 webapp 位于另一个域中（跨域问题），而 csrf 只是试图防止点击劫持。有没有办法绕过这个问题？

这是我如何发布的示例：

```
 $.post(url, {app: {played: tiles}, no: no}, function (response) {
      linkTo('#app_button', response['next']);
    }); 
```

例子：

```
 $.ajaxSetup({
      beforeSend: function(xhr) {
        xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').prop('content'));
      }
    }); 
```

编辑：我已经能够将真实性令牌作为参数传递到我的发布请求中，但出现相同的错误。我开始相信错误不是由令牌引起的。发生错误的其他原因是什么？

日志：

```
[2539 - 2013/03/06 15:37:42] (INFO)   Parameters: {"app"=>{"played"=>"tiles"}, "no"=>"no", "authenticity_token"=>"yBpUImzjtKGIejh/WCekv/GCi1zjPirib22plqfLJ1Y="}
[2539 - 2013/03/06 15:37:42] (WARN) WARNING: Can't verify CSRF token authenticity
[2539 - 2013/03/06 15:37:42] (INFO) User agent: Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)
[2539 - 2013/03/06 15:37:42] (DEBUG)   User Load (1.8ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
[2539 - 2013/03/06 15:37:42] (DEBUG)   CACHE (0.0ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
[2539 - 2013/03/06 15:37:42] (DEBUG)   CACHE (0.0ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
[2539 - 2013/03/06 15:37:42] (WARN) Lost session [118.143.97.82] (/locations/1/games) - Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)
[2539 - 2013/03/06 15:37:42] (DEBUG)   CACHE (0.0ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T04:12:54.910

答案是因为没有阻止会话存储的 P3P 标头。您需要添加 P3P 标头来解决此问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:49:01.297

```
 <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>" > 
```

将此隐藏字段添加到您的表单中。我已经修复了与“无法验证 CSRF 令牌真实性”相同的问题

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:51:54.647

您可以为某些控制器操作关闭 CSRF。您可以为 AJAX 调用创建一个新操作（比如 iframe）并添加到控制器中：

```
skip_before_filter :verify_authenticity_token,  :only => [:iframe] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-08T01:08:18.873

问题是您需要在 Ajax POST 请求之后获取新令牌，因为一旦使用令牌，它就会失效。这是执行此操作的代码：

在 Rails 中，每当发送 POST 回复时，将这些参数添加到响应中：

```
def someMethod:
    result[:csrfParam] = request_forgery_protection_token
    result[:csrfToken] = form_authenticity_token
    render :json => result
end 
```

现在在 JS 方面，在每个 POST 方法的成功函数中，您都可以调用此函数：

```
var setCsrfToken = function(param, token) {
    if(param == null || token == null) {
        console.error("New CSRF param/token not present");
    }
    $("input[name='" + param + "']").val(token);
} 
```

像这样：

```
setCsrfToken(result["csrfParam"], result["csrfToken"]); 
```

此函数将重置所有 POST 表单中的所有authenticity_token 参数，以便下一个请求具有有效令牌。您需要确保在每个 POST 调用中都会发生这种情况，否则您将继续面临此问题。

此外，CSRF 不是为了防止点击劫持，它完全是一种单独的攻击，另一个网站可以让用户点击一个链接，该链接通过用户的会话在您的网站上执行操作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-25T01:55:18.363

@user1555300 的答案是正确的，只是提供了详细信息。

在`application_controller.rb`顶部添加这个

`before_filter :set_p3p`

也添加这个方法

```
private 
# for IE, Facebook, and iframe sessions
def set_p3p
  headers['P3P'] = 'CP="ALL DSP COR CURa ADMa DEVa OUR IND COM NAV"'
end 
```

确保这是在`application_controller.rb`非常规控制器上。

# php - 发送多个 CurL 请求

> ID：15239821
> 
> 赞同：2
> 
> 时间：2013-03-06T05:42:31.723
> 
> 标签：php, curl

我正在寻找有关我的 CurL 代码的帮助。我试图执行多个 URL，但它只运行最后一个结果。

这是我的代码：

```
function executeCurl($data) {
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, trim($data['url']));
curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
curl_setopt($ch, CURLOPT_HEADER, 0);

//execute post
$result = curl_exec($ch);
curl_close($ch);
unset($data,$url,$ch);

//close connection
} 
```

我在循环中运行 executeCurl 但它只执行最后一个结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:53:29.787

似乎`$result`是问题所在。我假设 $result 是全局定义的......这意味着，

每次运行时`executeCurl()`，`$result`都会被覆盖。因此，当您的循环完成并查看时`$result`，您所拥有的只是 LAST 的结果`executeCurl()`。

您应该返回 $result，并对每个循环的结果做任何您需要做的事情。

这是一个示例代码，可以帮助您：

```
// Add a return to your executeCurl function
function executeCurl($data) {
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, trim($data['url']));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
    curl_setopt($ch, CURLOPT_HEADER, 0);

    //execute post
    $result = curl_exec($ch);
    curl_close($ch);
    unset($data,$url,$ch);

    //return the result
    return $result;
}

// Your loop
$results = array();
for ($i=0;$i<count($dataList), $i++) { // $dataList is whatever your list of datas are
    $results[$i] = executeCurl($dataList[$i]);
}

// Check out your results
print_r($results); 
```

# visual-studio - TFS 代码流失计数缩进

> ID：15239822
> 
> 赞同：1
> 
> 时间：2013-03-06T05:42:37.993
> 
> 标签：visual-studio, tfs, indentation, churn

参与软件测量项目。我们想使用 TFS Code churns 来确定我们拥有的每个项目的大小。按照这[条指令](http://www.woodwardweb.com/vsts/getting_started.html)，我们已经在特定的时间内达到了代码搅动。不幸的是，TFS 将缩进计入代码搅动中！有没有办法告诉 TFS 不要计算代码流失中的缩进和空格？

环境：TFS 2012、Visual Studio 2010、2012

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:47:27.460

代码流失报告并未衡量项目的规模。它正在衡量项目中的变化量。空白的变化也是项目的变化。

# c++ - 奇怪的模板语法

> ID：15239829
> 
> 赞同：2
> 
> 时间：2013-03-06T05:43:36.250
> 
> 标签：c++, templates, c++11, std-function, stdbind

我一直在查看 gcc-4.7.2 的源代码，`std::function`并`std::bind`遇到了一些我不理解的用于成员函数指针的语法。

我不明白的是`_Maybe_wrap_member_pointer`：

```
template<typename _Tp, typename _Class>
struct _Maybe_wrap_member_pointer<_Tp _Class::*> // note no comma here 
```

*   `_Tp`为什么和之间没有逗号`_Class::*`？

*   给定成员函数`void foo::bar()`（在下面的示例应用程序中），这里将解决什么`_Tp`问题`_Class::*`？

下面是我的示例应用程序，它绑定了成员函数指针和对象。（我已经提取了与`std::bind`成员函数的专业化/内部相关的源代码）

```
#include <iostream>
#include <functional>

template<typename T>
struct _Maybe_wrap_member_pointer;

template<typename _Tp, typename _Class>
struct _Maybe_wrap_member_pointer<_Tp _Class::*> // <-- I don't understand this
{                                                // why not <_Tp, _Class::*>  
    typedef std::_Mem_fn<_Tp _Class::*> type;    

    static type __do_wrap(_Tp _Class::* __pm)  
    {
        return type(__pm);
    }
};

template<typename _Func, typename... _BoundArgs>
struct _Bind_helper
{
    typedef _Maybe_wrap_member_pointer<typename std::decay<_Func>::type> __maybe_type;

    typedef typename __maybe_type::type __func_type;
    typedef std::_Bind<__func_type(typename std::decay<_BoundArgs>::type...)> type;
};

template<typename _Func, typename... _BoundArgs>
inline 
typename _Bind_helper<_Func, _BoundArgs...>::type
bind(_Func&& __f, _BoundArgs&&... __args)
{
    typedef _Bind_helper<_Func, _BoundArgs...>   __helper_type;
    typedef typename __helper_type::__maybe_type __maybe_type;
    typedef typename __helper_type::type         __result_type;

    return __result_type(__maybe_type::__do_wrap(std::forward<_Func>(__f)),
                                                 std::forward<_BoundArgs>(__args)...);
}

struct foo
{
    void bar()
    {
        std::cout << __func__ << std::endl;
    }
};

int main()
{
    foo f;

    std::function<void()> fun = bind(&foo::bar, f);
    fun();

    exit(0);
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T06:19:48.057

这确实是用于将成员指针类型指定为模板参数的语法。

假设你有一堂课

```
struct Bar
{
  int n;
}; 
```

那么指向该成员的指针必须`Bar::n`将其类型声明为`int Bar::*`：

```
int Bar::* p = &Bar::n; 
```

请注意，`int`指的是指针指向的类型，并`Bar::*`表示“指向”成员的指针`Bar`。

现在你的例子的功能，

```
template<typename _Tp, typename _Class>
struct _Maybe_wrap_member_pointer<_Tp _Class::*> // note no comma here 
```

接受一个模板参数（只有一个！），它表示一个类的成员指针类型，指向类型的`_Class`非静态数据成员`_Tp`。

这是*只有一个*模板参数的类模板的模板*特化：*

 *```
template <typename T>
struct _Maybe_wrap_member_pointer
{ }; 
```

我们可以使用上面的简单类来实例化特化，如下所示：

```
_Maybe_wrap_member_pointer<int Bar::*> 
```

或使用`decltype`：

```
_Maybe_wrap_member_pointer<decltype(&Bar::n)> 
```

在这两种情况下，`_Tp`都被推导为`int`，并且`_Class`被推导为`Bar`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:13:25.807

> *   为什么 _Tp 和 _Class::* 之间没有逗号？

jogojapan 回答了这部分

> *   给定成员函数 void foo::bar() （在我下面的示例应用程序中）， _Tp 和 _Class::* 将在这里解析什么？

诸如`Tp Class::*`可以表示指向成员数据的指针*或*指向成员函数的指针的类型，在后一种情况下`Tp`将是函数类型。

在您的示例`_Tp`中将是函数类型`void ()`，并且`_Class`将是`foo`*

# c# - 如何判断上一页是否为searchresults.xaml页面

> ID：15239830
> 
> 赞同：1
> 
> 时间：2013-03-06T05:43:38.180
> 
> 标签：c#, xaml, microsoft-metro

情况：

应用程序是 Windows8 Metro 商店应用程序。

当用户使用搜索魅力并在我的应用程序中找到结果时，它会转到 searchresults.xaml 页面。用户然后点击其中一项，并被重定向（导航）到详细信息页面。详细信息页面有一个后退按钮，其中 Frame.GoBack 作为代码。

我希望完成的是，如果用户点击后退按钮，并且上一页是搜索结果页面，用户应该被重定向到主页。

那么，有没有办法确定这一点？

导航到详细信息页面的代码已经使用了导航参数。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:23:31.293

当您的应用通过搜索激活时，[OnSearchActivated](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.application.onsearchactivated.aspx)将触发，因此您可以利用该机会记录通过应用的特定路径并采取相应措施。您可能也可以合并您自己的导航服务（[在此处提及](https://stackoverflow.com/questions/13009475/removing-the-backstack-entry-in-metrostyle-application)）以及不太脆弱的实现。

我想知道你是否真的应该/想要这样做？

1.  用户可能会对后退按钮操作将他们带到他们从未访问过的页面感到惊讶。
2.  如果他们认为将他们带到详细信息页面的项目并不是他们真正感兴趣的搜索结果怎么办？无法导航回搜索结果 - 他们必须重新发出搜索。

我想说一个让他们有选择地转到主页的应用栏按钮会更直观，或者如果您担心可发现性，可能会在详细信息页面本身上包含一个按钮/字形。

# dns - DNS 未在已查看过网站的操作系统上更新

> ID：15239831
> 
> 赞同：0
> 
> 时间：2013-03-06T05:43:54.373
> 
> 标签：dns

我最近（> 24 小时前）更改了我的网络应用程序的名称服务器。在我之前查看过该网站的几台计算机上（在不同的路由器上，但​​在相同的 ISP 上），DNS 设置没有改变。我认为问题与缓存在某处的旧记录有关，但我不确定那在哪里。

我在 Firefox 和 Chrome 中的 Ubuntu 上首先注意到我的工作计算机上的问题。在 Ubuntu 中，我重新启动了路由器的 DNS 缓存。问题已解决。

然后我将我的工作计算机启动到 Windows，并且仍在使用旧设置。我再次重新启动路由器的 DNS 缓存并运行 ipconfig /flushdns，但仍然使用旧的 DNS 设置。

我还在家里检查了我的电脑，那里也使用了旧的设置。

任何想法可能是什么问题？如果是路由器缓存问题，刷新缓存需要多长时间？（为什么这些更改在 Windows 上无效？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:58:51.883

据我从您的问题中了解到，您的应用程序仍然可以从这些计算机访问，因为您没有更改您的托管服务。所以事情会随着时间的推移而更新，您无需担心。

> 然后我将我的工作计算机启动到 Windows，并且仍在使用旧设置。

在 Windows 中，您可以尝试在 cmd 中运行此命令：

```
ipconfig /flushdns 
```

这将清除 DNS 缓存。

# apache - 了解 Hadoop wordcount 示例

> ID：15239834
> 
> 赞同：3
> 
> 时间：2013-03-06T05:44:07.033
> 
> 标签：apache, hadoop, mapreduce

示例代码在这里 [http://wiki.apache.org/hadoop/WordCount](http://wiki.apache.org/hadoop/WordCount)

我理解逻辑，但是，我注意到在 main 函数中，它只指定了输入和输出路径，但是，它从未指定什么是键和值。

map 和 reduce 函数是如何解决这个问题的？

```
public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException 

public void reduce(Text key, Iterable<IntWritable> values, Context context) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:13:41.257

由于您了解 Mapper 和 Reducer 的形式为 Key1、Value1、Key2、Value2，并且 Key1 和 Value1 是输入键值类型，而 Key2 和 Value2 是输出类型，我将解释其余部分。

在 main 函数中，您会看到一行内容，

```
job.setInputFormatClass(TextInputFormat.class); 
```

现在，这决定了如何读取输入文件。如果您查看[源代码](http://grepcode.com/file/repository.cloudera.com/content/repositories/releases/com.cloudera.hadoop/hadoop-core/0.20.2-737/org/apache/hadoop/mapreduce/lib/input/TextInputFormat.java)，`TextInputFormat`您会看到（在第 41 行）它使用`LineRecordReader`( [source](http://grepcode.com/file/repository.cloudera.com/content/repositories/releases/com.cloudera.hadoop/hadoop-core/0.20.2-737/org/apache/hadoop/mapreduce/lib/input/LineRecordReader.java#LineRecordReader) ) 将文件分解为键值对。这里将行偏移设置为键，将行本身设置为值。

但就像你说的，这不是自动完成的。您可以通过编写自己的自定义**输入格式**和**记录阅读器**类来控制此行为。

希望这能消除您的疑虑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:56:41.340

`Mapper`和`Reducer`类的接口强制`map`和`reduce`函数的类型：

```
public static class Map extends Mapper<LongWritable, Text, Text, IntWritable> {
    ...
} 
```

和

```
public static class Reduce extends Reducer<Text, IntWritable, Text, IntWritable> {
    ...
} 
```

它们都是输入键值类型和输出类型`K1, V1, K2, V2`的形式。`K1, V1``K2, V2`

# asp.net - 我可以在 select 语句中使用变量作为列吗？

> ID：15239835
> 
> 赞同：0
> 
> 时间：2013-03-06T05:44:11.557
> 
> 标签：asp.net, sql, sql-server-2008, tsql, stored-procedures

`ExecuteScalar`我想从我的存储过程中选择一个变量，以便在 ADO.net 中使用时可以获得变量值。

我的存储过程是这样的

```
 CREATE PROCEDURE dbo.SPListGetID
    (
      @category varchar(100)
    )
    AS
      declare @maxListId int
      set @maxListId=(select max(MaterialId) from tblMaterialLists 
                      where category =@category and mode='1')
      set @maxListId=@maxListId+1;
      select @maxListId
      /* SET NOCOUNT ON */
      RETURN 
```

这里`select @maxListId`是不允许的。我应该怎么做才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:46:06.537

尝试`SET @maxListId=@maxListId+1;`代替`@maxListId=@maxListId+1;`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:47:25.987

您需要稍微更改语法

```
select @maxListId= max(MaterialId) where category =@category and mode='1' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:28:46.510

尝试

`RETURN @maxListId`代替

```
select @maxListId
      /* SET NOCOUNT ON */
      RETURN 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T05:01:55.280

```
CREATE PROCEDURE dbo.SPListGetID
    (
      @category varchar(100)
    )
    AS
begin
      declare @maxListId int
      select  @maxListId= max(MaterialId) from tblMaterialLists 
                      where category =@category and mode='1'
      set @maxListId=@maxListId+1;

     end 
```

# jasper-reports - 在 iReport 中加载带有参数的提示框

> ID：15239843
> 
> 赞同：1
> 
> 时间：2013-03-06T05:44:32.877
> 
> 标签：jasper-reports, ireport

我使用 Jaspersoft iReport 生成报告。对于传递参数，我们需要在运行时在提示框中输入值。

![在此处输入图像描述](../Images/1a8782abda13633b73fb6aab614dadda.png)

我们可以在字段中加载带有值的提示框吗？让它看起来像一个下拉列表，我们可以从该列表框中选择值？而不是键入值。

可能吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:32:41.520

在 JasperReport 服务器中可以轻松完成，您只需在 JasperReport 服务器中创建 parameter1。

在 JasperReport 服务器中创建输入控件

1.  转到 Jasper Server 并右键单击要为 parameter1 创建输入控件的任何目录。
2.  选择“添加资源”，然后选择“输入控件”
3.  如果数据库中有值，请选择类型（单选查询）。
4.  参数名称（应与 iReport 中的相同）
5.  然后查询以获取 parameter1 的所有不同值
6.  对于 parameter1 值，值和可见列将是数据库中相同的列名。

然后只需在报表的“控件和资源”输入控件中添加此参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:49:18.503

实际上**该列表**包含上次输入值的历史记录

例如

如果你输入

1.  第一次 => 1
2.  第二次 => 2
3.  第三次 => 3

然后列表将包含值“1 , 2 , 3”
当提示窗口出现时，最后输入的值将是默认值
在我们的示例中，“3”将显示在提示窗口中

如果要使用**预定义的默认值**并强制**不显示提示窗口**您可以 在参数属性值中
轻松设置

1.  设置**“用作提示”**未选中
2.  **在“默认值表达式”**中输入您预定义的默认值

 *** * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T12:23:25.980

在 iReport 中，您可以简单地创建参数，然后在 SQL SELECT 中使用：

...其中字段名称 = $P{参数}

会出现提示。**

# php - 多个文件和命名空间范围

> ID：15239845
> 
> 赞同：5
> 
> 时间：2013-03-06T05:44:51.580
> 
> 标签：php, file, namespaces, scope, global

我对命名空间很陌生（是的，我已经阅读了 PHP 文档命名空间部分）。我想知道命名空间对于多个文件的范围是什么。当我在具有全局代码的文件中包含或要求该文件时，命名空间是否在一个文件之外有效？此外，这对全球代码有何影响？我是否会被迫使用全局代码更改任何语法方面的内容。

例如，假设我有文件 A.php。我希望能够拥有的是：

```
namespace A;
class Abc { ... } 
```

然后假设我有一些带有全局代码的文件，称之为 main.php：

```
include("A.php");
class Abc { ... }
$abc = new Abc(); // Should be global Abc, right?
$abcFromNameSpace = new A\Abc(); // Should be namespace Abc, right?
... 
```

作为一个后续问题，我还想知道如果我将一个具有命名空间的文件包含在另一个具有命名空间的文件中，那么在范围方面会发生什么，而不是上面的示例，其中 main.php 只有全局代码。会这样工作吗：

```
namespace A;
class Abc { ... } 
```

然后假设我有一些带有全局代码的文件，称之为 B.php：

```
namespace B;
include("A.php");
class Abc { ... }
$abc = new B\Abc(); // Should be namepsace B Abc, right?
$abcFromNameSpace = new A\Abc(); // Should be namespace A Abc, right? 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T05:49:40.290

每当您引用当前文件或类范围之外的类时，都使用其命名空间：

```
<?php
namespace B;

$class = new \A\Abc(); 
```

但是，如果您在脚本中“使用”命名空间，则可以将其省略：'

```
<?php
namespace B;

use A\Abc;

$class = new Abc(); 
```

# android - 如何在Android中获取通话时长？

> ID：15239846
> 
> 赞同：0
> 
> 时间：2013-03-06T05:45:07.267
> 
> 标签：android

我想知道如何在 Android 中获取通话时长，我想在用户开始通话时启动计时器，然后在特定时间后说 5 分钟后我想结束通话，所以我想知道如何我得到通话时间？

我知道我可以通过使用通话记录来获取此信息，但我有一个问题，我可以根据我的实时获取数据，当我的通话结束时，只会更新通话记录，然后只有我能够抓紧时间，但有时数据对我来说毫无用处。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:09:26.067

关于您的活动或服务

```
@Override
public void onCreate()
{
    TelephonyManager telManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
    telManager.listen(new MyPhoneStateListener, PhoneStateListener.LISTEN_CALL_STATE);
}

class MyPhoneStateListener extends PhoneStateListener
{
    @Override
    public void onCallStateChanged(int state, String incomingNumber)
    {
        switch (state)
        {
            //When receiving an incoming call
            case TelephonyManager.CALL_STATE_RINGING:
            // Do whaterver you want
            break;

             // When user initiates a call or rigth after CALL_STATE_RINGING
            case TelephonyManager.CALL_STATE_OFFHOOK:
             // set a timer here
             break;

             // When call ended
             case TelephonyManager.CALL_STATE_IDLE:
        }
    }
} 
```

在您的清单文件中添加

```
<uses-permission android:name="android.permission.READ_PHONE_STATE"/> 
```

# java - 使用 xpath 和 java 解析 xml

> ID：15239847
> 
> 赞同：3
> 
> 时间：2013-03-06T05:45:07.387
> 
> 标签：java, xml, xpath

现在我想解析来自 web 服务的 xml。对于解析，我使用了 xpath 和 java。我有以下代码：

```
package test.client;

import com.sun.org.apache.xpath.internal.NodeSet;
import java.io.FileReader;
import java.io.StringReader;
import javax.lang.model.element.Element;
import javax.xml.xpath.XPath;
import javax.xml.xpath.XPathConstants;
import javax.xml.xpath.XPathFactory;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;

public class GetAlarmsCriticalDataCenterLinksDown {
    public static void main(String args[]) throws Exception {
        try {
            GetAlarms ga = new GetAlarms();
            String xml = ga.getAlarms(
                "Alarms", 
                "C:/Documents and Settings/Administrator/My Documents/NetBeansProjects/WebSpectrumDemo/src/java/com/xml/Alarms/GetAlarmsCriticalDataCenterLinksDown.xml");
            System.out.println("Response XML:\n " + xml);
            XPathFactory factory = XPathFactory.newInstance();
            XPath xPath = factory.newXPath();
            String loc = "";
            NodeList nodes = (NodeList) xPath.evaluate(
                "//alarm-response-list/alarm-responses/alarm", 
                new InputSource(new StringReader(xml)), 
                XPathConstants.NODESET);
            System.out.println("Success : " + nodes.getLength());
        } catch (Exception e) {
            System.out.println(e);
        }
    }
} 
```

我的字符串 xml 看起来像

```
<?xml version="1.0" encoding="UTF-8"?>
<alarm-response-list xmlns="http://www.ca.com/spectrum/restful/schema/response"
                     error="EndOfResults" throttle="2" total-alarms="2">
  <alarm-responses>
    <alarm id="51230f5c-11fe-1002-01bc-000c296b3541">
      <attribute id="0x1006e">HBBCPMPLSR1.hdfcami.com</attribute>
      <attribute id="0x11f84" error="NoSuchAttribute" />
      <attribute id="0x118cd" />
      <attribute id="0x11f4e">1361252188</attribute>
    </alarm>
    <alarm id="512313db-c5ee-1003-01bc-000c296b3541">
      <attribute id="0x1006e">HBBCPINTR0.hdfcami.com</attribute>
      <attribute id="0x11f84" error="NoSuchAttribute" />
      <attribute id="0x118cd" />
      <attribute id="0x11f4e">1361253339</attribute>
    </alarm>
  </alarm-responses>
</alarm-response-list> 
```

但我被困住了。我得到`nodes.getLength() = 0`。

任何帮助将不胜感激。我想解析整个 xml 并获取属性的值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:01:18.717

`XPath`您需要在对象上设置命名空间。用于`XPath.setNamespaceContext()`执行此操作。或者，您可以只在 XPath 表达式中使用本地名称，例如，`//*[local-name()='alarm-response-list']/*[local-name()='alarm-responses']/*[local-name()='alarm']`但命名空间选项更好。

关于使用带有 XPath 表达式的名称空间的大量信息已经在[此处](https://stackoverflow.com/questions/13702637/xpath-with-namespace-in-java)的另一个答案中。

# asp.net - 在 asp.net MVC 中创建 PDF

> ID：15239848
> 
> 赞同：1
> 
> 时间：2013-03-06T05:45:15.577
> 
> 标签：asp.net, asp.net-mvc

我想开发一个 asp.net MVC 应用程序，允许用户创建他/她的 pdf 文档。我搜索了许多网站并找到了创建单个 pdf 文档的信息。在我的应用程序中，每当用户单击创建 PDF 链接时，他应该被允许创建一个新的 PDF 文档。我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:10:33.107

我不想要什么，如果你想创建 PDF，你可以使用[这个库](http://scrybersamples.codeplex.com/)

> Scryber PDF Generator 是用于快速创建具有样式的动态 PDF 文档的开源库。该项目包含指南和示例的源代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:11:29.773

对于PDF：-

我认为你应该使用`itextSharp`. 你可以通过这个链接
[http://www.codeproject.com/Articles/81118/ITextSharp-Helper-Class](http://www.codeproject.com/Articles/81118/ITextSharp-Helper-Class)
你可以从这里下载它（.dll）
[http://sourceforge.net/projects/itextsharp/](http://sourceforge.net/projects/itextsharp/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:42:33.407

好的，您在这里基本上想要实现的是将 html 转换为 pdf。

你有一个`<div id="myPDFCanvas"></div>`画布，里面有文字、图像等等所有你需要的东西。然后你需要把这个 div 画布转换成 pdf。

WkHtmlToXSharp 将解决您的问题

一个演示看看[这个](https://github.com/pruiz/WkHtmlToXSharp)

# c# - 显示子字符串的字符串函数

> ID：15239855
> 
> 赞同：-1
> 
> 时间：2013-03-06T05:45:56.950
> 
> 标签：c#

我有一个字符串。如果字符串的长度超过 90 个字符，我必须只显示 90 个字符并用“..”连接它，谁能告诉我我可以使用哪个字符串函数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:48:29.357

这很简单：

```
if (myString.Length > 90)
{
    myString = myString.Substring(0, 90) + "..."
} 
```

您应该学习如何在 C# 中[使用字符串](http://msdn.microsoft.com/en-us/library/ms228362%28v=vs.80%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:52:23.313

C# 中没有开箱即用的字符串函数，但您可以编写自己的

```
public static String Truncate(String str)
{
    return str.Length > 90 ? str.Substring(0, 90) + "..." : str;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:00:40.197

```
myString = myString.Length > 90 ? myString.Substring(0, 90) + "..." : myString; 
```

# ruby - Gem 安装无限期挂起

> ID：15239859
> 
> 赞同：30
> 
> 时间：2013-03-06T05:46:05.443
> 
> 标签：ruby, gem, installation, rvm

背景：我是一名擅长 HTML、CSS 和 JS 的设计师。但是在设置我的环境方面是我的不足之处。

我最近买了一台家用电脑。我想设置[中间人](http://middlemanapp.com/getting-started/)在项目中使用。我已经安装了 rvm 及其所有要求。我在 ruby​​-2.0.0-p0 上，据我了解，这是最新的稳定版本。

当我尝试安装 Middleman 或任何其他 gem 时，什么也没有发生。光标只是移动到下一行。![截屏](../Images/cd5c043a10b791614b82d45744a43f47.png)

一些指导或故障排除步骤，将不胜感激！

谢谢，

里卡多

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2014-03-27T18:41:29.303

如果`gem install`挂起，则很可能是您的网络、代理或防火墙问题。

您可以通过在详细模式下发出 gem install 命令来进行调查`-V`。它会向您显示它正在与哪些 URL 通信以下载 gem，您可以希望看到它在做什么以及它挂在哪里：

```
> gem install -V middleman
HEAD https://rubygems.org/latest_specs.4.8.gz
302 Moved Temporarily
HEAD https://s3.amazonaws.com/production.s3.rubygems.org/latest_specs.4.8.gz
200 OK
GET https://rubygems.org/latest_specs.4.8.gz
302 Moved Temporarily
GET https://s3.amazonaws.com/production.s3.rubygems.org/latest_specs.4.8.gz
... 
```

您还可以查看[status.rubygems.org](http://status.rubygems.org/)，如果 gem/spec 服务器确实出现问题，他们会在其中提醒您（请参见下面的屏幕截图）：

[![RubyGem.org 状态截图](../Images/5b28bd30d10f81a02d3051a0e21e77c3.png)](http://status.rubygems.org/)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-11T16:28:03.907

发现我的问题！我正在运行 ruby​​ 1.8.7。我需要更新我的 .zshrc 文件以默认使用 1.9.3。

我所做的是把它放在我的 .zshrc 文件中：

```
rvm use 1.9.3 --default 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T05:59:41.590

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-08-25T19:02:42.040

万一这对某人有帮助，我的终端一直挂着

```
gem update --system 
```

并将其更改为

```
sudo gem update --system 
```

解决它。

# php - MySQL 查询不适用于 PHP 变量

> ID：15239863
> 
> 赞同：0
> 
> 时间：2013-03-06T05:46:21.390
> 
> 标签：php, mysql

当我像这样对查询进行硬编码时，查询会返回正确的结果：

```
$data = mysql_query("SELECT * FROM $table_name WHERE post_ID = '1'") or
              die(mysql_error()); 
```

但是当我使用这样的 php 变量时，查询不会返回任何结果：

```
 $data = mysql_query("SELECT * FROM $table_name WHERE post_ID = '$ID'") or
              die(mysql_error()); 
```

我已经将上面的变量初始化如下：

```
$ID = $_POST[ID]; 
```

并且该变量每次都与此语句一起使用：

```
$sql = "INSERT INTO $table_name (post_ID, user_name, comments)
    VALUES ('$ID','$name', '$comment')"; 
```

所以我不明白为什么变量会使用前面的语句正确插入到我的 sql 表中，但不适用于查询。我在 sql 表中为 post_ID 字段使用 varchar 数据类型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-11T06:04:24.113

这是代码的一些问题。由于您的 PHP 变量在 MySQL 查询中不起作用。所以你必须将变量传递给它。使用单个报价，您可以像这样传递它。和

$data = mysql_query("SELECT * FROM '$table_name' WHERE post_ID = '1'") or die(mysql_error());

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:02:31.917

如果你把它放在''中，php解析器不会解析一个变量。因此，请尝试删除单引号，即仅使用 $ID 而不是 '$ID'

```
$data = mysql_query("SELECT * FROM $table_name WHERE post_ID = $ID") or die(mysql_error()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:10:40.447

尝试使用这个

```
<?php
$query = "SELECT * FROM $table_name WHERE post_ID = "$ID;
$data = mysql_query($query);
?> 
```

但是，您必须使用 mysqli 而不是 mysql 函数。

快乐编码！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:00:02.930

Try this

```
$ID = $_POST['ID'];
$data = mysql_query("SELECT * FROM ".$table_name." WHERE post_ID = '".$ID."'") or
        die(mysql_error()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:01:10.620

你能直接试试而不是引号吗

```
 $data = mysql_query("SELECT * FROM $table_name WHERE post_ID =$ID") or
              die(mysql_error()); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T06:38:43.253

确保`$_POST['ID']`首先设置。

```
$ID = isset($_POST['ID']) ? $_POST['ID'] : <some_values>; #for debugging purpose 
```

然后做：

```
$data = mysql_query("SELECT * FROM $table_name WHERE post_ID = '".$ID."'") or
        die(mysql_error()); 
```

# php - 通过 PHP 检测 MySQL InnoDB

> ID：15239868
> 
> 赞同：2
> 
> 时间：2013-03-06T05:46:44.283
> 
> 标签：php, mysql, innodb, myisam

如何从 PHP 程序中检测 MySQL 数据库表是否正在使用 InnoDB 存储引擎？

原因 - PHP 程序需要利用数据库事务。InnoDB 支持事务。MyISAM（MySQL 默认存储引擎）没有。如果不支持事务，则程序需要失败。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T05:49:49.573

尝试这个：

```
SHOW TABLE STATUS WHERE Name = 'xxx' 
```

这将为您（除其他外）提供一个 Engine 列，这就是您想要的。

或者如果你想要它在数据库级别

```
SELECT TABLE_NAME, ENGINE FROM information_schema.TABLES where TABLE_SCHEMA = 'dbname' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:53:26.510

我会比较喜欢：

`SHOW CREATE TABLE tablename\G`

超过：

`SHOW TABLE STATUS WHERE Name = 'xxx'`

因为您可以轻松地指定当前数据库之外的表，即：

`SHOW CREATE TABLE database.table\G`

`\G`格式输出很好，但它是可选的。

# javascript - 访问 JSON 数组元素

> ID：15239870
> 
> 赞同：0
> 
> 时间：2013-03-06T05:46:57.467
> 
> 标签：javascript, html, web, soundcloud

所以 .getsounds 返回一个对象列表，这些对象是音乐播放列表中的曲目，每个曲目都有一个歌曲“标题”元素字段，我想访问并在屏幕上打印。如何遍历对象的索引 (0-25) 并列出它们的标题元素？

```
widget.getSounds(function(sound) {
console.log(sound);
}); 
```

来自控制台的 json 示例：

```
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object,       Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object]
0: Object
_playlist: Object
_resource_id: 79970721
_resource_type: "sound"
artwork_url: "https://i1.sndcdn.com/artworks-000041122143-1fb8rz-large.jpg?54f228e"
attachments_uri: "https://api.soundcloud.com/tracks/79970721/attachments"
bpm: null
comment_count: 14
commentable: true
created_at: "2013/02/19 20:58:48 +0000"
description: "Trademark's Over The Top Mix x Frat Music
↵
↵Check out the full playlist at fratmusic.com
↵
↵Tracklist:
↵
↵"Easy (Kids At The Bar Remix)" Mat Zo And Porter Robinson
↵     "Brainfreeze (Original Mix)" Lazy Rich     
↵"I Could Be The One (Audrio Remix)" Nicky Romero And Avicii
↵     "Get Wild (Original Mix)" Candyland
↵     "Surge (Feat. Wynter Gordon) [Original Mix]" Clockwork
↵     "Stellar (Extended Club Mix)" Daddy's Groove     
↵"So Young So High (Anybody Remix)" Dada Life
↵     "Killin' It (I.Y.F.F.E Remix)" Krewella     
↵"Rewind (Mikkas Remix)" Emma Hewitt     
↵"Get Lucky (Extended Mix)" Trademark     
↵"Taito (Original Mix)" Mord Fustang
↵     "Buck" LOUDPVCK And D!RTY AUD!O     
↵"Bootleg Fireworks (The Rebirth)" Dillon Francis
↵     "Incredible (Original Mix)" Carnage And Borgore
↵     "April (Original Mix)" Syn Cole     
↵"Weapon (Vicetone Remix)" Cazzette
↵     "Head Up (Original Mix)" Arno Cost     
↵"Pressure (Original Mix)" John Dahlback
↵     "Joyenergizer (Original Mix)" Sander Van Doorn
↵     "Ah Yeah (TJR Edit)" Will Sparks
↵     "Wakanda (Original Mix)" Dimitri Vegas And Like Mike
↵     "No One Knows Who We Are (Feat. Lights) [Original Mix]" Kaskade And Swanky Tunes     
↵"Years (Hard Rock Sofa Remix)" Alesso
↵
↵www.deejaytrademark.com
↵www.facebook.com/deejaytrademark
↵     www.youtube.com/deejaytrademark
↵www.twitter.com/deejaytrademark"
download_count: 0
downloadable: false
duration: 2551173
embeddable_by: "all"
favoritings_count: 180
genre: "Mix"
id: 79970721
isrc: ""
key_signature: ""
kind: "track"
label_id: null
label_name: ""
license: "cc-by"
likes_count: 180
original_content_size: 102777753
original_format: "mp3"
permalink: "trademarks-over-the-top-mix"
permalink_url: "http://soundcloud.com/deejaytrademark/trademarks-over-the-top-mix/"
playback_count: 4838
purchase_title: "Free Download"
purchase_url: "https://www.facebook.com/deejaytrademark/app_192602997444667"
release: ""
release_day: 19
release_month: 2
release_year: 2013
reposts_count: 35
sharing: "public"
state: "finished"
stream_url: "https://api.soundcloud.com/tracks/79970721/stream?secret_token="
streamable: true
tag_list: "DJ Trademark Dee Jay Over The Top Frat Music Continuous Free Download"
title: "Trademark's Over The Top Mix (Frat Music Exclusive)"
track_type: "remix"
uri: "https://api.soundcloud.com/tracks/79970721?secret_token="
user: Object
user_id: 780957
video_url: null
waveform_url: "https://w1.sndcdn.com/B4JdNrZ8Eyz5_m.png" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:39:33.010

由于您说 .getSounds() 返回对象列表，因此您可以通过 for 循环运行它们。

```
var songs = widget.getSounds();
for (var i = 0; i < songs.length; i++) {
    var songTitle = songs[i].title;
    console.log(songTitle);
} 
```

# objective-c - 用 CFArray 填充 UITableView？

> ID：15239874
> 
> 赞同：0
> 
> 时间：2013-03-06T05:47:09.403
> 
> 标签：objective-c, uitableview

我正在使用 AddressBook 框架从 AddressBook 中获取**CFArrayRef**中的所有电话联系人。现在我想用该联系人数组填充**TableView**。是否可以直接从 CFArray 填充到 TableView 或者我应该将 CFArray 一个一个循环到 NSString 中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:59:33.013

CFArray 是一个核心基础阵列。它是一个数组的 C api。CFArray 是[免费桥](http://developer.apple.com/library/ios/#documentation/General/Conceptual/CocoaEncyclopedia/Toll-FreeBridgin/Toll-FreeBridgin.html)接到 NSArray 的，因此可以通过简单的转换转换为 NSArray。`NSArray *array = (NSArray *)cfArrayVariable`. 当您使用 ARC 时，您必须对其进行[桥接](http://clang.llvm.org/docs/AutomaticReferenceCounting.html#bridged-casts)以保持正确的所有权。

通过简单地枚举 CFArray 而不进行强制转换，可以在[此处找到另一种解决方案。](https://stackoverflow.com/a/3747877/1199344)

# c - gtk_tree_store 如何添加未呈现为列的元素

> ID：15239875
> 
> 赞同：0
> 
> 时间：2013-03-06T05:47:10.033
> 
> 标签：c, gtk

我正在修改一个 C/Gtk+ 程序，它有一个带有列表界面的 GUI，该界面显示了由 gtk_tree_store 和 gtk_tree_view 支持的一系列行和列。

基于与该程序的交互，我想在模型/存储中与现有行/条目一起存储其他值，但是我不希望这些值显示在列中。没有其他现有的数据结构包含我可以使用的这些条目。

如何将“列”添加到可以使用 gtk_tree_store_set 设置但不会呈现或呈现为列的 gtk_tree_view？当前正在使用如下代码添加列：

```
renderer = gtk_cell_renderer_text_new();

g_object_set(
    renderer,
    "foreground",
    "white",
    NULL);

column = gtk_tree_view_column_new_with_attributes (
    "ColX",
    renderer,
    "text",
    COLUMN_ID_X,
    "foreground",
    SOME_COLOR,
    "foreground-set",
    COLOR_SET_COLUMN,
    NULL);

gtk_tree_view_append_column(GTK_TREE_VIEW(tree), column); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:09:21.517

要仅存储数据而不在[GtkTreeView](https://developer.gnome.org/gtk3/stable/GtkTreeView.html)中显示它们，您只需使用模型（`GtkTreeStore`、`GtkListStore`等），也就是说，不要在模型中为该特定属性添加列。

[这是gtk3-demo](https://git.gnome.org/browse/gtk+/tree/demos/gtk-demo/list_store.c)的略微修改版本，用于显示如何在[GtkListStore](https://developer.gnome.org/gtk3/stable/GtkListStore.html)中存储 2 个“列” ，但在[GtkTreeView](https://developer.gnome.org/gtk3/stable/GtkTreeView.html)（*严重性*列）中仅显示一个。注意功能`create_model`和`add_columns`。

```
#include <gtk/gtk.h>

enum
{
  COLUMN_NUMBER,
  COLUMN_SEVERITY,
  NUM_COLUMNS
};

static GtkTreeModel *
create_model (void)
{
  GtkListStore *store;
  GtkTreeIter iter;

  store = gtk_list_store_new (NUM_COLUMNS,
                              G_TYPE_UINT,
                              G_TYPE_STRING);

  gtk_list_store_append (store, &iter);
  gtk_list_store_set (store, &iter,
                      COLUMN_NUMBER, 1,
                      COLUMN_SEVERITY, "Normal", -1);

  gtk_list_store_append (store, &iter);
  gtk_list_store_set (store, &iter,
                      COLUMN_NUMBER, 2,
                      COLUMN_SEVERITY, "Critical", -1);

  return GTK_TREE_MODEL (store);
}

static void
add_columns (GtkTreeView *treeview)
{
  GtkCellRenderer *renderer;
  GtkTreeViewColumn *column;
  GtkTreeModel *model = gtk_tree_view_get_model (treeview);

  renderer = gtk_cell_renderer_text_new ();
  column = gtk_tree_view_column_new_with_attributes ("Severity", renderer,
                                                     "text", COLUMN_SEVERITY,
                                                     NULL);
  gtk_tree_view_append_column (treeview, column);
}

int
main (int argc, char **argv)
{
  GtkWidget *window = NULL;
  GtkTreeModel *model = NULL;
  GtkWidget *treeview;

  gtk_init (&argc, &argv);

  window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_window_set_default_size (GTK_WINDOW (window), 280, 250);
  g_signal_connect (window, "delete-event", G_CALLBACK (gtk_main_quit), NULL);

  model = create_model ();
  treeview = gtk_tree_view_new_with_model (model);
  g_object_unref (model);

  add_columns (GTK_TREE_VIEW (treeview));

  gtk_container_add (GTK_CONTAINER (window), treeview);
  gtk_widget_show_all (window);

  gtk_main ();

  return 0;
} 
```

# ruby-on-rails - CarrierWave S3 文件检索问题 - 未定义的方法“body”

> ID：15239876
> 
> 赞同：3
> 
> 时间：2013-03-06T05:47:15.530
> 
> 标签：ruby-on-rails, amazon-s3, carrierwave, fog

这让我发疯了。我将 CarrierWave 与 Amazon S3 一起使用，我可以安全地将文件上传到存储桶，并且我现在尝试（在不同的请求中）检索文件并将其作为下载文件传送到浏览器。

这些文件可以是任何东西，.zip 文件等。我不使用它来存储图像。

Bucket 是私有的，不是公共的，所以我不能只使用 S3 URL。

这是我的检索代码：

```
au = @note.attachment
au.retrieve_from_store!(File.basename(@note.attachment.to_s))
au.cache_stored_file! 
```

cache_stored_file 上的代码错误！线。抛出错误：

```
undefined method `body' for nil:NilClass 
```

我检查了该对象，它对我来说看起来不错，如果我输出 @note.attachment，我可以清楚地看到带有键等的 amazon s3 URL。

我一直在网上，我可以弄清楚。我发现有少数人有同样的问题，他们通过做与我的案例无关的事情来解决这个问题（比如使用一些 imagemagick 方法），同样，这些只是文件。

没有处理或图像工作，我只想将文件作为下载返回给浏览器。

有人可以帮忙吗？

这是我的上传者：

```
class AttachmentUploader < CarrierWave::Uploader::Base

  storage :fog

  def store_dir
    "#{Rails.env}/#{model.id}"
  end

  def cache_dir
    "#{Rails.root}/tmp/attachments"
  end
end 
```

和痕迹

```
carrierwave (0.8.0) lib/carrierwave/storage/fog.rb:225:in `read'
carrierwave (0.8.0) lib/carrierwave/uploader/cache.rb:77:in `sanitized_file'
carrierwave (0.8.0) lib/carrierwave/uploader/cache.rb:116:in `cache!'
carrierwave (0.8.0) lib/carrierwave/uploader/cache.rb:73:in `cache_stored_file!' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:15:15.487

我认为这些行没有意义：

```
au = @note.attachment
au.retrieve_from_store!(File.basename(@note.attachment.to_s))
au.cache_stored_file! 
```

`retrieve_from_store`是您通常会在上传器上调用的东西，而不是在附加对象上调用的东西。将附件的基本名称传递给自身的复杂步骤应该会响起警钟。

如果我对您的理解正确，您只是想让用户能够下载您存储在 S3 中的文件。

您可以通过多种方式做到这一点。

最简单的方法是将 URL 调用`@note.attachment.url`并打印为用户可以单击的链接。

另一种方法是将用户重定向到控制器操作中的 url。

```
# notes/1/download_attachment   
def download_attachment
  @note = Note.find(params[:id)
  redirect_to @note.attachment.url
end 
```

最后一种方法是充当代理服务器/缓存，从 S3 获取文件并返回。

您可以在控制器中执行以下操作：

```
file = open(@note.attachment.url)
send_data file 
```

请注意，我没有机会测试最后一个代码片段。

您可以在此处阅读有关[send_data 的](http://apidock.com/rails/ActionController/DataStreaming/send_data)更多信息。

# python - 带有redis的芹菜中的任务优先级

> ID：15239880
> 
> 赞同：13
> 
> 时间：2013-03-06T05:47:25.883
> 
> 标签：python, celery, distributed

我想用芹菜实现一个分布式作业执行系统。鉴于 rabbitMQ 不支持优先级并且我非常需要这个功能，所以我转向了 celery+redis。

在我的情况下，任务与硬件密切相关，例如，任务 A 只能在 Worker 1 上运行，因为只有 Worker 1 的 PC 拥有必要的硬件。我将每个工作人员的 CONCURRENCY 设置为 1，以便工作人员每次只运行一个任务。每个任务大约需要 2 分钟。

为了实现优先级功能，首先我尝试`priority`在调用时添加参数`apply_async()`，例如`apply_async(priority=0)`and `apply_async(priority=9)`。在这个测试中，我只启动了一个 COCURRENCY=1 的 Worker，并以不同的优先级一个一个地启动了 10 个任务。我希望看到启动的任务`apply_async(priority=0)`将优先运行，但不幸的是它们只是作为启动顺序启动。

然后我尝试做一些工作。我克隆了每个任务，所以对于每个任务我都有 task_high 和 task_low，由`@celery.task(priority=0)`and装饰`@celery.task(priority=1)`。然后我做了和上面一样的测试，这次更好，当启动顺序是“HH-LLLL-HHHH”时，真正的顺序是“HH-LHHLHLLH”。我想redis在这里做了一些调度和平衡工作。

但这仍然不能满足我的期望。我希望得到像“HHHHHH-LLLL”这样的订单，因为对于某些任务，我只有一台合适的机器和必要的硬件，并希望高优先级的任务尽快运行。

我在 Internet 上搜索了其他工作，例如使用两个队列，一个用于高优先级任务，另一个用于低优先级任务，前者使用 2 台机器，后者使用 1 台机器。但由于我的硬件非常有限，这对我不起作用。

你能提出一些建议吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-06T11:55:45.550

Celery Redis 传输确实尊重优先级字段，但 Redis 本身没有优先级的概念。

通过为每个队列创建 n 个列表并在 BRPOP 命令中使用该顺序来实现优先级支持。我`n`之所以在这里说是因为即使有 10 (0-9) 个优先级，默认情况下这些都合并为 4 个级别以节省资源。这意味着一个名为的队列`celery`实际上会被拆分为 4 个队列：

```
['celery0', 'celery3`, `celery6`, `celery9`] 
```

如果您想要更多优先级，您可以设置`priority_steps`传输选项：

```
BROKER_TRANSPORT_OPTIONS = {
    'priority_steps': list(range(10)),
} 
```

也就是说，请注意，这永远不会像在服务器级别实现的优先级那样好，并且最多可能是近似的。但它对于您的应用程序可能仍然足够好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-12-14T09:52:49.057

Celery 关于 redis 消息优先级的文档在这里[redis-message-priorities](https://docs.celeryproject.org/en/latest/userguide/routing.html#redis-message-priorities)，您可以自定义优先级。以 10 为例：

1.  设置 priority_steps 传输选项

```
app.conf.broker_transport_options = {
    'priority_steps': list(range(10)),
    'queue_order_strategy': 'priority',
} 
```

2.  以正常方式启动芹菜工人

```
celery -A tasks worker --loglevel=info 
```

3.  调用任务，0 为最高优先级，9 为最低优先级

```
custom_priority=5 
task.apply_async(args=[arg1, arg2], kwargs={'kwarg1': 'x', 'kwarg2': 'y'},priority=custom_priority) 
```

# matlab - 使用 MatLab 中的码本单元数组对字符串进行三重嵌套 For 循环/霍夫曼解码

> ID：15239883
> 
> 赞同：1
> 
> 时间：2013-03-06T05:47:36.123
> 
> 标签：matlab, for-loop, cell, decode, huffman-code

我在这里很困惑。coded_msg 是一长串 1 和 0。码字是不同长度的码字的单元阵列（即码字（1）= 10010，码字（2）= 101，等等）。我正在尝试做的是迭代到 i 和 k 的下一个索引以及 strcmp，然后如果它为 true，则连接到 the_codeword，但如果它为 false，则遍历 j。总而言之，我想要一个代码字列表，而不是一串串。帮助？

```
function [coded_msg, idx] = HuffmanDecode(coded_msg, codewords)

for i = 1:length(coded_msg) % iterate through coded_msg
    for j = 1:length(codewords) % iterate through codewords cell array
        j_codeword = cell2mat(codewords(j)) % take the jth cell and put in matrix
        for k = 1:length(j_codeword) % iterate through length of jth codeword
            if strcmp(coded_msg(i), j_codeword(k)) % is true
                the_codeword = [coded_msg(i)];
            else % is false
              end
          end
      end
  end
end 
```

# html-parsing - 如何以两个块作为参数的方法，第一个块有一个返回值，第二个块需要获取返回值

> ID：15239884
> 
> 赞同：1
> 
> 时间：2013-03-06T05:47:39.277
> 
> 标签：html-parsing, block, exc-bad-access, grand-central-dispatch

我的项目中的源代码如下所示。

第一个块返回一个对象，第二个块需要对象作为参数传入

```
 [kNetManagerInstance exeHttpRequest:anUrl requestFrom:self withParseBlock:^id(NSData       *htmlData) {
        NSMutableArray *arr = doSomeParsingWorkOn(htmlData); 

        return arr; //return the html parsed result for the seconde block to use.

    } andResultBlock:^(id object) {

        NSLog(@"%@",object);//can output the object but
        //crash  when execute out of the scope,EXC_BAD_ACCESS(code=2,address=0xc)  
    }]; 
```

上面的方法做的事情就像下面一样。

```
 -(id)init:(NSString *)url
        withParseBlock:(htmlParseBlock)parseBlock
        andResultBlock:(ItemsReturnBlock)resultBlock
   {
    self = [super init];
    if(self!=nil){

         [_parseBlock release];
        _parseBlock = [parseBlock copy];

        [_returnBlock release];
        _returnBlock = [resultBlock copy];

        _asiRequest = [[ASIHTTPRequest alloc ] initWithURL:[NSURL URLWithString:url]];

        __block HttpParseSession * self_ = self;
      dispatch_queue_t httpQueue =    dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, nil);
        dispatch_block_t block = ^{
            @autoreleasepool {
                 [self_ start];
            }
        };
        if(dispatch_get_current_queue()==httpQueue){
            block();
        }else{
            dispatch_async(httpQueue, block);
        }

    }
    return self;

} 
```

httpQueue 中调用的方法
-(void)start{

```
 [_asiRequest startSynchronous];
     NSData *data = _asiRequest.responseData;
    __block id result = _parseBlock(data); //get the parsed result
    dispatch_queue_t mainQueue = dispatch_get_main_queue();
    if(dispatch_get_current_queue()==mainQueue){
        _returnBlock(result);
    }else{

        dispatch_async(mainQueue, ^{

            _returnBlock(result); 

        });
    }

} 
```

# awk - 哇 | 根据字段匹配合并文件中连续的 3 行

> ID：15239885
> 
> 赞同：1
> 
> 时间：2013-03-06T05:47:42.327
> 
> 标签：awk

**输入 - file1.txt**

```
abc message=sent session:111,x,y,z
pqr message=receive session:111,4,5,7
abc message=sent session:123,x,y,z
pqr message=receive session:123,4,5,7
pqr message=receive session:123,4x,5x,7x
pqr message=receive session:123,4p,5q,7r
abc message=sent session:342,x,y,z
abc message=receive session:311,x,y,z
abc message=sent session:589,x,y,z
pqr message=receive session:589,4,5,7 
```

**输出**

```
abc message=sent session:111,x,y,z,pqr message=receive session:111,4,5,7
abc message=sent session:123,x,y,z,pqr message=receive session:123,4,5,7,pqr message=receive session:123,4x,5x,7x,pqr message=receive session:123,4p,5q,7r
abc message=sent session:342,x,y,z,NOMATCH
abc message=receive session:311,x,y,z,NOMATCH
abc message=sent session:589,x,y,pqr message=receive session:589,4,5,7 
```

**笔记：**

1.  查找已发送及其立即接收 - 仅适用于 MATCHING 会话号

2.  将所有会话匹配“接收”与相同的“发送”结合起来。例如：会话：123
3.  如果没有“接收”，则打印 NOMATCH

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:50:00.747

尝试这个：

```
awk -F "[:,]"  '{split($2,a,",");if($1~/sent/){if(prev!~/receive/&& NR!=1)print prev,"NOMATCH";else if (NR!=1)print prev;prev=$0;session=a[1];}if($1~/receive/&&session==a[1]){prev=prev","$0;}}'END'{if(prev~/receive/)print prev;}' file1.txt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:14:06.580

```
awk '{x=substr($3,0,match($3,","));a[x]?a[x]=a[x]","$0:a[x]=$0}END{for(i in a){print a[i],a[i]~/sent/&&a[i]~/receive/?"":"NOMATCH"}}' your_file 
```

测试：

```
>cat temp
abc message=sent session:111,x,y,z
pqr message=receive session:111,4,5,7
abc message=sent session:123,x,y,z
pqr message=receive session:123,4,5,7
pqr message=receive session:123,4x,5x,7x
pqr message=receive session:123,4p,5q,7r
abc message=sent session:342,x,y,z
abc message=receive session:311,x,y,z
abc message=sent session:589,x,y,z
pqr message=receive session:589,4,5,7
> 
> 
> 
> awk '{x=substr($3,0,match($3,","));a[x]?a[x]=a[x]","$0:a[x]=$0}END{for(i in a){print a[i],a[i]~/sent/&&a[i]~/receive/?"":"NOMATCH"}}' temp
abc message=sent session:111,x,y,z,pqr message=receive session:111,4,5,7 
abc message=sent session:123,x,y,z,pqr message=receive session:123,4,5,7,pqr message=receive session:123,4x,5x,7x,pqr message=receive session:123,4p,5q,7r 
abc message=receive session:311,x,y,z NOMATCH
abc message=sent session:589,x,y,z,pqr message=receive session:589,4,5,7 
abc message=sent session:342,x,y,z NOMATCH
> 
```

# node.js - 无法使用 socket.io node.js 与其他计算机通信

> ID：15239888
> 
> 赞同：0
> 
> 时间：2013-03-06T05:47:54.007
> 
> 标签：node.js, websocket, socket.io

我正在尝试使用 socket.io 玩 node.js

无论如何，在我的本地网络上使用时出现错误：

```
got heartbeat packet
   debug - cleared heartbeat timeout for client 4BMneKTWn1Qph1iMNbJf
   debug - set heartbeat interval for client 4BMneKTWn1Qph1iMNbJf
   debug - emitting heartbeat for client MqmuDptZ35RVawHKNbJl
   debug - websocket writing 2::
   debug - set heartbeat timeout for client MqmuDptZ35RVawHKNbJl 
```

当我使用我的本地机器时，我可以打开多个窗口并且它可以工作。

我将路径更改`index.html`为正确的路径，我可以看到服务器日志，这很好。

基本上问题是连接到我的服务器/计算机的计算机无法传输他的更改。

谢谢大家！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:53:00.537

呵呵，使用 index.html 和 script.js 上的 ip 找到解决方案添加指向我的计算机。

讨厌那些愚蠢的错误。

希望我能帮助一些人。

# android - 如何检查我是否正在暂停或退出 Android 应用程序

> ID：15239889
> 
> 赞同：1
> 
> 时间：2013-03-06T05:47:55.940
> 
> 标签：android, service, android-activity

我目前正在为 android 编写一个应用程序，当我退出或暂停应用程序时我需要启动服务。我应该怎么办？在我的应用程序中，每次单击某个事物时，它都会转到另一个活动，因此我无法将 startservice 置于这些活动中的 onpause 中。我应该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:07:09.890

通过覆盖此方法，您可以检查您的应用是 onPause 还是 onDestroy

```
protected void onPause() {
    Log.i("Status", "onPause");
    super.onPause();
}

protected void onDestroy() {
            Log.i("Status", "onDestroy");
    super.onDestroy();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:50:39.853

在这里查看 Activity 生命周期：http: [//developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/app/Activity.html)

当您开始一个新的活动时，Android 不会退出活动，它只是暂停它。所以在 onPause() 里面启动服务应该没问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T05:59:40.073

根据 android 生命周期，`onPause()`方法将调用作为用户离开您的活动的第一个指示。它可能离开也可能不离开。因此，根据您的要求，您可以`startService.`但请确保不要将繁重的代码放入其中，因为它可能会影响用户体验。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:13:29.160

当 Activity 不再可见时，它会调用`onStop()`. 但是我们仍然不能确定应用程序是否被破坏，因为 Android 操作系统会在内部处理它。因此，请尝试以下步骤来查找您的应用是否在`background`：

1.  使用获取正在运行的任务信息

    ```
    ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);
    List<RunningTaskInfo> tasks = am.getRunningTasks(1); 
    ```

2.  如果任务列表不为空，请检查正在运行的任务是否属于您的应用。如果属于，则返回 true 给调用函数，您可以在其中启动您的服务；否则返回`false`

    ```
     if (!tasks.isEmpty()) {
       ComponentName topActivity = tasks.get(0).topActivity;
      if (!topActivity.getPackageName().equals(context.getPackageName()))
      {
         return true;
      } 
    ```

编辑：这可能会有所帮助：http: **[//developer.android.com/reference/android/app/ActivityManager.html#getRunningAppProcesses](http://developer.android.com/reference/android/app/ActivityManager.html#getRunningAppProcesses)**

# c# - 尝试删除记录时出现 ASP.net MVC 4 错误

> ID：15239895
> 
> 赞同：2
> 
> 时间：2013-03-06T05:48:31.760
> 
> 标签：c#, database, asp.net-mvc-4

我正在尝试删除客户记录。客户包含一个地址，我想我在涉及他们的关系时遇到了删除顺序的问题。基本上我想删除一个客户，如果他们有一个地址，就把它连同它一起删除。这是我收到的完整异常错误消息：

> **用户代码未处理 DbUpdateException**
> 
> 保存不为其关系公开外键属性的实体时发生错误。EntityEntries 属性将返回 null，因为无法将单个实体标识为异常源。通过在实体类型中公开外键属性，可以更轻松地在保存时处理异常。有关详细信息，请参阅 InnerException。

**楷模**

```
public class Address
{
    [Required]
    public int Id { get; set; }

    [DataType(DataType.Text)]
    [Display(Name = "Street Address")]
    public string StreetAddress { get; set; }

    [DataType(DataType.Text)]
    [Display(Name = "Postal Code")]
    public string PostalCode { get; set; }

    [DataType(DataType.Text)]
    public string City {get; set; }

    [DataType(DataType.Text)]
    public string Province {get; set;}

    public virtual Clients client { get; set; }

}
public class Clients
{
    [Required]
    public long Id { get; set; }

    [Required]
    [DataType(DataType.Text)]
    [Display(Name = "First Name")]
    public string FirstName { get; set; }

    [Required]
    [DataType(DataType.Text)]
    [Display(Name = "Last Name")]
    public string LastName { get; set; }

    [Required]
    [DataType(DataType.PhoneNumber)]
    [Display(Name = "Phone ")]
    public string PhoneNumber { get; set; }

    public virtual Address Address {get; set;}

    [Display(Name = "Email List")]
    public Boolean EmailList { get; set; }

    [DataType(DataType.EmailAddress)]
    [Display(Name = "E-mail")]
    public string Email { get; set; }

    [DataType(DataType.Text)]
    [Display(Name = "Hair Type")]
    public string HairType { get; set; }        

   [DataType(DataType.MultilineText)]
    public string Description { get; set; }
} 
```

**上下文类**

```
public class VolumeV2Context : DbContext
{
    public DbSet<GiftCard> GiftCards { get; set; }
    public DbSet<Clients> Clients { get; set; }
    public DbSet<Address> Address { get; set; }
    public DbSet<Inventory> Inventories { get; set; }  

    protected override void OnModelCreating(System.Data.Entity.DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Clients>()
            .HasOptional(j => j.Address)
            .WithOptionalDependent()
            .WillCascadeOnDelete(true);

       /* modelBuilder.Entity<Address>()
            .HasRequired(j => j.client)
            .WithRequiredDependent()
            .WillCascadeOnDelete(true) ;                           
        */

        base.OnModelCreating(modelBuilder);
    }
} 
```

**客户端控制器删除方法**

```
[HttpPost, ActionName("Delete")]
    public ActionResult DeleteConfirmed(long id)
    {
        //find the client
        Clients clients = db.Clients.Find(id);

        //find the address
        Address address = db.Address.Find(clients.Address.Id);

        //  set the reference to null?
        address.client = null;                       

        //remove the address foreign key?
         clients.Address = null;

        //Apply to db?
         db.Entry(address).CurrentValues.SetValues(address);
         db.Entry(clients).CurrentValues.SetValues(clients);

        db.Address.Remove(address);

        //remove the client
        db.Clients.Remove(clients);
        //exception error happens here 
        db.SaveChanges();
        return RedirectToAction("Index");
    } 
```

我的订单或删除有问题吗？或者我只是没有做对吗？我只想能够删除有或没有地址的客户。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T08:34:30.340

从地址中删除对客户端的引用。只需保留客户对地址的引用即可。

# generics - 为什么'javac'会产生两个具有相同名称/参数但泛型返回类型不同的方法？

> ID：15239897
> 
> 赞同：0
> 
> 时间：2013-03-06T05:48:39.323
> 
> 标签：generics, jvm, javac

这就是例子。

```
class ParentReturnType {}
class ChildReturnType extends ParentReturnType {}
class Parent {
  ParentReturnType foo() {...}
}
class Child<R extends ChildReturnType> extends Parent {
  @Override
  R foo() {...}
} 
```

对于 class `Child`，`javac`产生两个名为 的方法`foo`：

1.  第一个`foo()`返回`ChildReturnType`，它的主体是我们在`Child.foo()`
2.  第二个`foo()`返回`ParentReturnType`，它只是调用第一个`foo()`

我不太明白为什么`javac`会产生两个版本的`foo()`.

我相信`foo()`返回`ParentReturnType`的一个版本及其在（在源代码中）定义的主体`R foo()`就足够了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:03:52.077

这是因为 JVM 与 Java 语言不同，它包含返回类型作为方法标识的一部分。

因此，在 Java 中，不可能通过返回类型覆盖方法（它必须通过输入参数）。但是在 JVM 世界中这样做是合法的。

拼图的最后一块是 Java 识别在编译时而不是在运行时调用哪个 JVM 签名。因此，编译器确定应该调用这些方法中的哪一个，并且当泛型添加到 java 中时，设计目标是尽量减少对运行时的更改。也就是说，尽可能多地在编译器阶段完成，因此虽然可以设想其他不涉及生成两种方法的解决方案，但鉴于工具已经可用且时间尺度，这样做是务实的。

# objective-c - 在 iOS 中创建核心数据

> ID：15239901
> 
> 赞同：-4
> 
> 时间：2013-03-06T05:48:46.880
> 
> 标签：objective-c, core-data, xcode4.5

嗨，我是这个 Objective C 的新手，我需要知道如何处理核心数据，任何人都可以帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:53:24.747

查看链接：[Xcode 4 缺少所有项目模板的“使用核心数据”复选框，用于在项目](https://stackoverflow.com/questions/6083828/xcode-4-missing-use-core-data-checkbox-for-all-project-templates)中添加核心数据以及如何使用核心数据查看链接[http://www.youtube.com/watch?v= mjdxjgdbf-k](http://www.youtube.com/watch?v=Mjdxjgdbf-k)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:57:09.883

根据我的经验，在“head first iphone and ipad development”一书中学习核心数据的最佳方式

# c# - 使用正则表达式或其他解析从文件中读取值

> ID：15239902
> 
> 赞同：2
> 
> 时间：2013-03-06T05:48:52.847
> 
> 标签：c#, .net, regex, parsing

我有一个记录带有时间戳的值的文件。我必须在特定时间后读取某个值。

例如

文件有

```
2013-03-03 19:08:22    car   2001 Ford
2013-03-03 19:08:27    Truck 2012 Chevy
2013-03-03 19:08:44    car 2008   Honda
2013-03-03 19:08:55    car 2011   Ford
2013-03-03 19:09:21    car 2005   Nissan
2013-03-03 19:08:29    car 2003   Cadillac
2013-03-03 19:08:32    car 2009   Jeep
2013-03-03 19:08:52    car 2007   Suburban 
```

我想读取雪佛兰第一个实例的时间，而不是增加 40 秒，然后读取在那之后出现的任何福特。

```
So based upon the above log
First Chevy is at   19:08:27  
Add 40 seconds      19:09:07
Now Read first Ford that shows up after 19:09:07  in this case that would be one at 19:08:55 
```

我是正则表达式的新手，不确定如何编写它。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:29:25.597

首先，我**真的**不建议您为此使用正则表达式，但您可以使用以下方法：

```
var data =  @"2013-03-03 19:08:22    car   2001 Ford
2013-03-03 19:08:27    Truck 2012 Chevy
2013-03-03 19:08:44    car 2008   Honda
2013-03-03 19:08:55    car 2011   Ford
2013-03-03 19:09:21    car 2005   Nissan
2013-03-03 19:08:29    car 2003   Cadillac
2013-03-03 19:08:32    car 2009   Jeep
2013-03-03 19:08:52    car 2007   Suburban";

string regex =
    @"(\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2})[^\n\r]+?Chevy.+?(\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2})[^\n\r]+?Ford";
var m = Regex.Match(data, regex, RegexOptions.Singleline);

Console.WriteLine("Chevy date: {0}", DateTime.Parse(m.Groups[1].Value));
Console.WriteLine("Ford date: {0}", DateTime.Parse(m.Groups[2].Value)); 
```

上面的代码将打印：

```
Chevy date: 2013-03-03 19:08:27
Ford date: 2013-03-03 19:08:55 
```

您所要做的就是增加 40 秒。您可以`AddSeconds(..)`使用`DateTime`.

**编辑：**上述正则表达式解释：

*   `(\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2})`匹配一些日期时间
*   `[^\n\r]+?Chevy`尝试在同一行匹配“Chevy”
*   `.+?`匹配一大段文字...
*   `(\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2})`直到它再次与某个 DateTime 匹配...
*   `[^\n\r]+?Ford`...在同一行中有“福特”

* * *

**编辑**：这是另一种不需要使用正则表达式的方法：

```
using (var reader = new StreamReader(@"C:\file-here.txt")) {
    bool chevyFound = false;
    while (!reader.EndOfStream) {
        var line = reader.ReadLine().Trim();

        if (chevyFound && line.EndsWith("Ford")) {
            var fordDate = DateTime.Parse(line.Substring(0, 19));
            Console.WriteLine("Ford Date: {0}", fordDate);
            break;
        }

        if (line.EndsWith("Chevy")) {
            var chevyDate = DateTime.Parse(line.Substring(0, 19));
            Console.WriteLine("Chevy Date: {0}", chevyDate);
            chevyFound = true;
        }
    }
} 
```

也许当有人告诉您应该使用正则表达式时，他/她的意思是在解析 DateTimes 时（而不是 do `Substring(0,19)`）。在这种情况下，您可以将其替换为：

```
var chevyDate = DateTime.Parse(Regex.Match(line, "^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}").Value) 
```

# jquery - JQuery 没有运行

> ID：15239904
> 
> 赞同：0
> 
> 时间：2013-03-06T05:48:55.037
> 
> 标签：jquery

标题有点模糊，但我似乎无法找到问题的正确描述。基本上由于某种原因，我的 JQuery 没有运行，似乎是由于未启用 jquery，但在我的脚本调用之前链接就在那里。[这是一般的想法](http://jsbin.com/abokey/2/edit)

但是，当我在本地运行脚本时，我在 mozilla 中遇到错误并且 jquery 没有运行，悬停时没有任何反应：

```
ReferenceError: $ is not defined @index.js:3 
```

据我所知，一切都很完美，但是 JQuery 库似乎没有被注册，这是我的想法：

```
<head>
    <title>Javascript Tetris</title>
    <link rel = "stylesheet" type = "text/css" href = "index.css"><!--add the css-->
    <script src = "//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script><!--add jquery library-->
    <script src = "index.js"></script><!--add javascript file-->
</head> 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:50:18.507

```
<script src = "//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script><!--add jquery library--> 
```

// 正在尝试从本地文件系统中提取。这在服务器上可以正常工作，但在您的本地计算机上，您必须指定 http 或 https。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T07:16:31.900

**如果您使用实时链接，请使用此链接**

```
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script> 
```

**或者，如果您从本地副本中使用，则下载这些文件并放入您的应用程序文件夹并提供这样的参考。**

```
<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-ui-1.8.20.js" type="text/javascript"></script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:50:29.147

你应该使用：

```
 <script src = "https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
```

你错过了`https`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T05:50:50.907

只需在此处发布之前检查您的语法

你错过了http：

```
<script src = "http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T05:52:56.313

尝试使用 http 指定完整路径 - [http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js)

# android - Android 上的 Try and Catch 问题

> ID：15239906
> 
> 赞同：1
> 
> 时间：2013-03-06T05:48:58.590
> 
> 标签：android, caching, try-catch, try-catch-finally, finally

执行以下代码后，媒体播放 60 秒，我的应用程序关闭并显示错误“不幸的是，YourAPP 已停止。” . 如果我删除“bv.setImageResource(R.drawable.play);” 在 finally 块上，该应用程序运行良好。

finally 块上的 bv.setImageResource(R.drawable.play) 有什么问题？

这是我的代码

```
bv = (ImageButton) findViewById(R.id.imageButton1);
private void mpsleep() {
    mp.start();
    Thread timer= new Thread(){
        public void run(){
            try{
                for (i =1;i<60;i++){
                    sleep(1000);//1 second pause
                }
            }catch(Exception e){
                e.printStackTrace();
            }finally{
                mp.pause();
                mp.seekTo(0);
                bv.setImageResource(R.drawable.play);
            }
        }
    };
    timer.start();
} 
```

日志猫

```
03-06 11:03:39.743: V/MediaPlayer(31802): message received msg=4, ext1=0, ext2=0
03-06 11:03:39.743: V/MediaPlayer(31802): Received seek complete
03-06 11:03:39.743: V/MediaPlayer(31802): All seeks complete - return to regularly scheduled program
03-06 11:03:39.743: V/MediaPlayer(31802): callback application
03-06 11:03:39.743: V/MediaPlayer(31802): back from callback
03-06 11:03:39.743: E/MediaPlayer(31802): mOnSeekCompleteListener is null. Failed to send MEDIA_SEEK_COMPLETE message.
03-06 11:03:40.918: V/MediaPlayer(31802): isPlaying: 1
03-06 11:03:40.918: V/MediaPlayer-JNI(31802): isPlaying: 1
03-06 11:03:40.918: V/MediaPlayer-JNI(31802): pause
03-06 11:03:40.918: V/MediaPlayer(31802): pause
03-06 11:03:40.923: V/MediaPlayer-JNI(31802): seekTo: 0(msec)
03-06 11:03:40.923: V/MediaPlayer(31802): seekTo 0
03-06 11:03:40.923: V/MediaPlayer(31802): getDuration
03-06 11:03:40.923: V/MediaPlayer(31802): message received msg=4, ext1=0, ext2=0
03-06 11:03:40.923: W/dalvikvm(31802): threadid=11: thread exiting with uncaught exception (group=0x40c541f8)
03-06 11:03:40.923: V/MediaPlayer(31802): Received seek complete
03-06 11:03:40.923: V/MediaPlayer(31802): All seeks complete - return to regularly scheduled program
03-06 11:03:40.923: V/MediaPlayer(31802): callback application
03-06 11:03:40.923: V/MediaPlayer(31802): back from callback
03-06 11:03:40.928: E/MediaPlayer(31802): mOnSeekCompleteListener is null. Failed to send MEDIA_SEEK_COMPLETE message.
03-06 11:03:40.953: E/AndroidRuntime(31802): FATAL EXCEPTION: Thread-20100
03-06 11:03:40.953: E/AndroidRuntime(31802): android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:4286)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:885)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.View.requestLayout(View.java:12881)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.View.requestLayout(View.java:12881)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.View.requestLayout(View.java:12881)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.View.requestLayout(View.java:12881)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:268)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.View.requestLayout(View.java:12881)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:268)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.view.View.requestLayout(View.java:12881)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at android.widget.ImageView.setImageResource(ImageView.java:316)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at com.hello.YourApp.MainActivity.stopsound(MainActivity.java:118)
03-06 11:03:40.953: E/AndroidRuntime(31802):    at com.hello.YourApp.MainActivity$6.run(MainActivity.java:143)
03-06 11:03:46.068: D/OpenGLRenderer(31802): Flushing caches (mode 0) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T05:56:37.173

异常消息清楚地说明了这一点：

> android.view.ViewRootImpl$CalledFromWrongThreadException：只有创建视图层次结构的原始线程才能接触其视图。

您不能从单独的线程访问 UI 元素。消除

```
setImageResource(R.drawable.play) 
```

从`run()`.

如果有一些代码（在 Activity 类中）需要在 UI 线程上运行，您可以在 Activity 中使用此方法：

```
runOnUiThread(new Runnable(){
  @override
  public void run(){
    //-- put code here--
  }
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T06:05:03.043

使用 UI 线程，如下面的代码所示，

```
 bv = (ImageButton) findViewById(R.id.imageButton1);
private void mpsleep() {
    mp.start();
    Thread timer= new Thread(){
        public void run(){
            try{
                for (i =1;i<60;i++){
                    sleep(1000);//5 second pause
                }
            }catch(Exception e){
                e.printStackTrace();
            }finally{
                mp.pause();
                mp.seekTo(0);
        runOnUiThread(new Runnable() {

        @Override
        public void run() {
                bv.setImageResource(R.drawable.play);

        }
    });
            }
        }
    };
    timer.start();
} 
```

**解释：**

-> 您可能已经`bv = (ImageButton) findViewById(R.id.imageButton1);`在您的`onCreate`or`onResume`方法中编写了在`Main thread(UI thread)`.

-> 你已经创建了一个新线程`Thread timer= new Thread()`并试图操作组件。`bv`但是`bv`绑定到了`Main Thread(UI thread)`。所以你遇到了麻烦。解决它，只需使用`runOnUiThread(new Runnable)`方法。

我希望它会有所帮助！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T05:57:19.370

使用处理程序运行您的代码 bv.setImageResource(R.drawable.play);

# ios - NSUserdefaults 保存空字符串但字符串不为空

> ID：15239908
> 
> 赞同：2
> 
> 时间：2013-03-06T05:49:02.393
> 
> 标签：ios, objective-c, nsuserdefaults

```
-(void)addPower:(NSString *)newPower{
    newPower = [newPower lowercaseString];
    for(int i=0; i<[powers count]; i++){
        NSString *p = [powers objectAtIndex:i];
        NSString* count = p;
        NSRange endRange = [p rangeOfString:@" "];
        NSRange searchRange = NSMakeRange(0, endRange.location);
        p = [p substringWithRange:searchRange];

        endRange = [count rangeOfString:@" "];
        count = [count substringWithRange:NSMakeRange(endRange.location, count.length-p.length)];
        if([newPower isEqualToString:p]){
            NSString *addNewPower = [NSString stringWithFormat:@"%@ %i",newPower,count.integerValue+1];
            [powers replaceObjectAtIndex:i withObject:addNewPower];
            [ud setValue:addNewPower forKey:productName];
            NSLog(@"NEW POWER ADDED: %@ ||| %@\n",addNewPower,productName);
            NSLog(@"NEW POWER UD: %@\n",[ud stringForKey:productName]);
        }
    }
    [ud synchronize];
} 
```

输出是；

新增功能：snap 4 ||| 折断

新力量 UD：（空）

当我在手机上重新启动应用程序后再次加载 Userdefault 时，它会用“1”替换应该是“snap 4”的内容

我不明白为什么它不保存我的用户默认值。

编辑：忘了提，在初始化程序中设置了 ud 并且我尝试了 setObject forKey 并且仍然得到相同的结果

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:04:56.673

```
NSUserDefaults *ud = [NSUserDefaults standardUserDefaults];

[ud setValue:addNewPower forKey:@"productName"]; 
```

试试这个......可能对你有帮助......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:10:47.730

如果你有 ud = [NSUserdefaults standardUserDefaults]; 尝试使 ud 成为类的属性并通过在类中的任何地方使用 self.ud 来访问它。

在你的 .h

```
{
    NSUserdefaults *ud;
}
@property (nonatomic, weak) NSUserdefaults *ud; 
```

然后在你的 .m

```
@synthesize ud; 
```

然后当你初始化

```
self.ud = [NSUserdefaults standardUserDefaults]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:35:55.473

请尝试使用它。我认为这可以正常工作。是的，你当然无法获得价值，因为你没有先同步它，所以请先同步它然后打印它。

```
[ud setValue:addNewPower forKey:productName];
[[ud standardUserDefaults] synchronize];
NSLog(@"NEW POWER ADDED: %@ ||| %@\n",addNewPower,productName);
NSLog(@"NEW POWER UD: %@\n",[ud stringForKey:productName]); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:37:10.090

尝试注册您的默认值：

在你的包中创建一个新的 plist。（拖放可能 - 如果您已经有一个包含默认值的 plist 文件）

然后在应用程序的开头：

```
 NSString *plistPath = [[NSBundle mainBundle] pathForResource:@"defaults" ofType:@"plist"];
    NSDictionary *dict = [[NSDictionary alloc] initWithContentsOfFile:plistPath];
    [[NSUserDefaults standardUserDefaults] registerDefaults:dict]; 
```

然后你有一个更安全的做事。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2013-03-06T06:11:04.593

那是因为`syncronize`不是立即的。尝试`NSLog`在此行之后放置：

```
[ud syncronize]; 
```

你会看到它工作正常。

# c# - 使用 json.net 解析 json 字符串？

> ID：15239909
> 
> 赞同：5
> 
> 时间：2013-03-06T05:49:02.670
> 
> 标签：c#, json, json.net

我在 C# 中有如下字符串。我尝试使用 JSON.NET，但不知道如何检索该值。

```
"{[{'Name':'AAA','Age':'22','Job':'PPP'},
{'Name':'BBB','Age':'25','Job':'QQQ'},
{'Name':'CCC','Age':'38','Job':'RRR'}]}"; 
```

我想

```
foreach (user in users){
   Messagebox.show(user.Name,user.Age)
} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T05:55:33.150

这是一个代码示例：

```
class Program
{
    static void Main(string[] args)
    {
        var text = @"[{'Name':'AAA','Age':'22','Job':'PPP'},
                    {'Name':'BBB','Age':'25','Job':'QQQ'},
                    {'Name':'CCC','Age':'38','Job':'RRR'}]";

        dynamic data = Newtonsoft.Json.JsonConvert.DeserializeObject(text);
        for (var i = 0; i < data.Count; i++)
        {
            dynamic item = data[i];
            Console.WriteLine("Name: {0}, Age: {1}", (string)item.Name, (string)item.Age);
        }

        Console.ReadLine();
    }
} 
```

我通过 NuGet 下载了 Json.Net，否则这是一个标准的 .NET 4.0 控制台应用程序

# machine-learning - 在 Weka 中处理字符串数据和分类

> ID：15239913
> 
> 赞同：4
> 
> 时间：2013-03-06T05:49:34.533
> 
> 标签：machine-learning, data-mining, weka

我有一个数据集，它由一对字符串和它所属的类组成。字符串是一个句子。班级可以是“男性”或“女性”。一个例子 -

'你好！我叫杰克，男

我将其用作训练集，因此，给定一组不同的字符串，它可以分类该语句是来自男性还是女性。我正在使用 WEKA 的**stringtowordvector**将字符串转换为包含该字符串中单词数的向量。使用结果 arff 我希望它生成一个预测算法（决策树？），我可以在未分类的数据集上使用它。我该怎么做？我应该使用哪个分类器？在这种情况下，还有哪些其他预处理技术会有所帮助？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:36:09.410

[Weka 主页上的 Simple Message Classifier 示例（代码](http://www.cs.waikato.ac.nz/~ml/weka/example_code/2ed/MessageClassifier.java)和[wiki](http://weka.wikispaces.com/MessageClassifier)）示例，或者[Text Categorization Wiki](http://weka.wikispaces.com/Text+categorization+with+WEKA)可能是一个很好的起点。

几乎任何线性分类器都是一个很好的起点。我建议将[逻辑回归](http://weka.sourceforge.net/doc.dev/weka/classifiers/functions/Logistic.html)或[支持向量机](http://weka.sourceforge.net/doc.dev/weka/classifiers/functions/SMO.html)作为一个很好的起点。

# javascript - My kendogrid export functionality is not working properly

> ID：15239920
> 
> 赞同：0
> 
> 时间：2013-03-06T05:49:53.720
> 
> 标签：javascript, visual-studio-2010, kendo-ui

I want to export the kendo grid data to excel on button click.I have tried that one,it's working but it exports only one page data and footer also exported.But i want to export total grid data without footer.

my code is

```
$("#btnExport").click(function(e) {
    window.open('data:application/vnd.ms-excel,' + document.getElementById('grid').outerHTML.replace(/ /g, '%20'));
    e.preventDefault();
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:09:47.677

Your code is exporting the `outerHTML` of the grid. This of course includes all HTML (header, footer, data etc.). Since you have paging enabled the grid HTML will include only the current page of data.

Also after checking your fiddle it seems that you are using serverPaging which means you don't have all the data to begin with. You need to disable serverPaging if you want to have all data. Then create the HTML of the grid by traversing the result of the [data](http://docs.kendoui.com/api/framework/datasource#data)() method of the data source.

```
$("#btnExport").click(function(e) {

     var data = $("#grid").data("kendoGrid").dataSource.data();
     var result = "data:application/vnd.ms-excel,";

     result += "<table><tr><th>OrderID</th><th>Freight</th><th>Order Date</th><th>Ship Name</th><th>Ship City</th></tr>";

     for (var i = 0; i < data.length; i++) {
         result += "<tr>";

         result += "<td>";
         result += data[i].OrderID;
         result += "</td>";

         result += "<td>";
         result += data[i].Freight;
         result += "</td>";

         result += "<td>";
         result += kendo.format("{0:MM/dd/yyyy}", data[i].OrderDate);
         result += "</td>";

         result += "<td>";
         result += data[i].ShipName;
         result += "</td>";

         result += "<td>";
         result += data[i].ShipCity;
         result += "</td>";

         result += "</tr>";
     }

     result += "</table>";
     window.open(result);

     e.preventDefault();
}); 
```

Here is the updated jsfiddle: [http://jsfiddle.net/SZBrt/4/](http://jsfiddle.net/SZBrt/4/)

# windows-phone-8 - 为什么我的应用程序无法启动以进行调试？

> ID：15239922
> 
> 赞同：1
> 
> 时间：2013-03-06T05:50:11.070
> 
> 标签：windows-phone-8

我在 MS VS Express 中为 Windows Phone 8 启动了一个全新的 Windows Phone 8 应用程序。具有 Windows 8 和 16GB RAM 的相对较新的笔记本电脑。Hyper-V 工作正常。关闭所有防病毒和防火墙。检查的配置确实部署。我绝对不添加任何代码，然后按 F5。WVGA 512MB 模拟器启动。输出屏幕给出：

```
1>  Xap packaging completed successfully
2>------ Deploy started: Project: XPhoneApp, Configuration: Debug Any CPU ------
2> Deploying C:\...\XPhoneApp\Bin\Debug\XPhoneApp_Debug_AnyCPU.xap...
2>Connecting to Emulator WVGA 512MB...
2>The application is already installed on the device. Checking if an incremental deployment is possible...
2>Doing incremental deployment...
2>Updating information related to modified files...
2>Deployment of C:\...\XPhoneApp\XPhoneApp\Bin\Debug\XPhoneApp_Debug_AnyCPU.xap succeeded. 
```

我收到一条错误消息“无法启动应用程序进行调试...”。我检查了，它确实安装在模拟器上。有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-01-02T22:35:50.620

我在使用真实设备时遇到了这个问题。对我有用的是去手动卸载我正在调试的应用程序，下次我点击调试时，问题就消失了。不知道问题是什么，但也许这个卸载的东西可能会有所帮助，当他们在代码中遇到这个奇怪的错误时会感到不安:)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-12-23T18:07:13.760

我遇到了这个问题，因为没有选择在“配置管理器”中部署该应用程序。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T07:16:21.157

每次我必须重新启动模拟器时，我都会遇到这个问题。我的简单解决方案是，一旦模拟器打开，再次尝试调试。只要模拟器仍然打开，调试就对我有用 - 我只有在模拟器未打开时开始调试时才会遇到问题（即当它需要由 VS 启动时）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-11-18T15:36:30.847

对我来说没有任何效果（甚至重新安装 Windows），然后我为 Visual Studio 2013 安装了 Update 4，它终于可以工作了！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-09-09T12:51:34.987

我时不时会遇到这个问题。我设法通过删除模拟器创建的 Hyper-V 快照来解决它。只需启动您的 Windows 8 Hyper-V 管理器。在“虚拟机”下选择适当的 Windows Phone 模拟器实例。在下面的快照部分中，您选择快照并在右侧的“删除快照子树...”的“操作”窗格中删除该快照。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-10-26T17:37:55.573

我就是这样做的：任务管理器->结束任务：IpOverUSBSvc

# c# - 使用 Lambda 在 Linq 中获取 xml 属性值

> ID：15239928
> 
> 赞同：1
> 
> 时间：2013-03-06T05:50:37.357
> 
> 标签：c#, .net, xml, linq, lambda

让我们将以下 xml 结构视为

```
 <membership defaultProvider="SQLMembershipProvider">
      <providers>
        <add name="SQLMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="SQLMembershipConnString" applicationName=".NET Pet Shop 4.0" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" passwordFormat="Hashed" />
      </providers>
    </membership> 
```

我已使用以下代码检查类型是否包含“System.Web.Security.SqlMembershipProvider”，如下所示

```
 var prop1 = prop.Descendants(ns + "add").First(p => p.Attribute("type").Value == "System.Web.Security.SqlMembershipProvider"); 
```

我的查询是用上面的查询获取connectionStringName的属性值

等待您的回复

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:57:35.370

你可以试试这个

```
var prop1 = xmldoc.Descendants("add").First(p => p.Attribute("type").Value == "System.Web.Security.SqlMembershipProvider").Attribute("connectionStringName").Value; 
```

希望对你有帮助...

# java - RuntimeAnnoatationReader 读取自定义注解

> ID：15239929
> 
> 赞同：0
> 
> 时间：2013-03-06T05:50:38.057
> 
> 标签：java, jaxb, annotations

RuntimeAnnotationReader 如何用于 JAXB 注释以在运行时读取自定义注释和控制类字段。在谷歌上搜索时，我发现了这个链接[http://glassfish.10926.n7.nabble.com/injecting-JAXB-annotations-at-runtime -td59852.html](http://glassfish.10926.n7.nabble.com/injecting-JAXB-annotations-at-runtime-td59852.html)但我无法收集有关 RuntimeAnnotationReader 的太多信息。我有以下要求：假设我有一个类名 Person.java

```
import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlSeeAlso;

@XmlRootElement(name="Person")
@XmlAccessorType(XmlAccessType.FIELD)
@XmlSeeAlso({Student.class})
public class Person <T>{

private T payload;
@XmlElement(name = "Person-Name")
private String name;

public void setPayload(T payload){
    this.payload = payload;
}

public T getPayload(){
    return payload;
}

public void setName(String name){
    this.name = name;
}

public String getName(){
    return name;
}
} 
```

和学生.java：

```
 package RuntimeAnnotation;

  import javax.xml.bind.annotation.XmlAccessType;
  import javax.xml.bind.annotation.XmlAccessorType;
  import javax.xml.bind.annotation.XmlElement;
  import javax.xml.bind.annotation.XmlRootElement;

  @XmlRootElement
  @XmlAccessorType(XmlAccessType.FIELD)
  public class Student {

@XmlElement
private String name;

@XmlElement
private String id;

public void setName(String name) {
    this.name = name;
}

public String getName(){
    return name;
}

public void setId(String id){
    this.id = id;
}

public String getId(){
    return id;
}
  } 
```

在初始化人员类对象时，我将有效负载字段设置为学生对象。现在，虽然编组 XML 输出将有效负载显示为标记名，但我希望学生应该出现在标记名中。

元帅输出：

```
 <Person>
     <payload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="student">
      <name>ABC</name>
      <id>239423</id>
  </payload>
<Person-Name>XYZ</Person-Name>
</Person> 
```

预期输出：

```
<Person>
<T>
    <name>ABC</name>
    <id>239423</id>
<T>
<Person-Name>XYZ</Person-Name>
</Person> 
```

PS：应该是参数化的类名。在上述情况下，T 应该是学生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T13:12:01.107

要回答您的问题，请参阅 Annox 以获取自定义 Annotation Reader 实现的示例：

[https://svn.java.net/svn/annox~svn/trunk/core/src/main/java/org/jvnet/annox/xml/bind/AnnoxAnnotationReader.java](https://svn.java.net/svn/annox~svn/trunk/core/src/main/java/org/jvnet/annox/xml/bind/AnnoxAnnotationReader.java)

免责声明：我是 Annox 和许多其他 JAXB 实用程序的作者。

但除此之外，我认为你真的不需要这个运行时技巧来实现你的目标。阅读更多关于 @XmlElementRef 和 JAXBElement 的信息。您可以通过以下有效负载获取 XML：

```
@XmlElementRef
JAXBElement<T> payload; 
```

# android - 当我们在android中自动交换屏幕时如何在后台播放音频

> ID：15239931
> 
> 赞同：0
> 
> 时间：2013-03-06T05:50:40.940
> 
> 标签：android

在我的项目中，我将片段用于交换屏幕，当新屏幕出现时，在后台自动播放音频。如何实现这一点请帮助...

```
public class Main extends FragmentActivity{

    private PagerAdapter mPagerAdapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        super.setContentView(R.layout.view);

        this.initialisePaging();
    }

    private void initialisePaging() 
    {

        List<Fragment> fragments = new Vector<Fragment>();

        fragments.add(Fragment.instantiate(this, Tab1Fragment1.class.getName()));
        fragments.add(Fragment.instantiate(this, Tab1Fragment2.class.getName()));
        fragments.add(Fragment.instantiate(this, Tab1Fragment3.class.getName()));
        fragments.add(Fragment.instantiate(this, Tab1Fragment4.class.getName()));
        fragments.add(Fragment.instantiate(this, Tab1Fragment5.class.getName()));
        fragments.add(Fragment.instantiate(this, Tab1Fragment6.class.getName()));
        this.mPagerAdapter  = new PagerAdapter(super.getSupportFragmentManager(), fragments);

        ViewPager pager = (ViewPager)super.findViewById(R.id.viewpager);
        pager.setAdapter(this.mPagerAdapter);
    }
} 
```

这是pagerview....

```
package com.example.swape;
import java.util.List;

import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentPagerAdapter;

public class PagerAdapter extends FragmentPagerAdapter {

    private List<Fragment> fragments;

    public PagerAdapter(FragmentManager fm, List<Fragment> fragments) {
        super(fm);
        this.fragments = fragments;
    }

    @Override
    public Fragment getItem(int position) {
        return this.fragments.get(position);
    }

    @Override
    public int getCount() {
        return this.fragments.size();
    }
} 
```

这是显示带有文本的图片并在背景中播放音频的片段屏幕....

```
package com.example.swape;

import android.app.Activity;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;

//import com.andy.R;

public class Tab1Fragment1 extends Fragment {

    String str = "DEATH WARENT";    
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {

        View view = inflater.inflate(R.layout.tab_frag1_layout1,
                container, false);
        TextView tv = (TextView)view.findViewById(R.id.tv1); 
    //  Button playsong = (Button)view.findViewById(R.id.play);
        tv.setText("Android introduced fragments in Android 3.0 (API level 11), " +
                "primarily to support more dynamic and flexible UI designs on large screens, such as tablets. " +
                "Because a tablet's screen is much larger " +
                "than that of a handset, there's more room to combine and interchange UI components.");

        //myStartPreview();
        // myStopPreview();
//      playsong.setOnClickListener(new View.OnClickListener() {
//          
//          public void onClick(View arg0) {
//              // TODO Auto-generated method stub
//              
//              
//              
//              Log.e("","Start==hh"+str);
//          }
//
//          
//      });

        return view;
    }

    @Override
    public void onAttach(Activity activity) {
        super.onAttach(activity);

        Log.e("","StartAttach=="+str);

    }
//  @Override
     public void myStartPreview( View view) {

         Log.e("","StartPreview=="+str);

     }

     public void myStopPreview(View view){
         Log.e("","StopPreview=="+str); 
     }

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

        Log.e("","StartCreated=="+str);

    }

    @Override
    public void onStart(){
        super.onStart();
        Log.e("","Start=="+str);
    }
    @Override
    public void onResume(){
        super.onResume();
        Log.e("","Resume=="+str);

    }

    @Override
    public void onPause(){
        super.onPause();
        Log.e("","Pause=="+str);

    }
    @Override
    public void onDestroy(){
        super.onDestroy();
        Log.e("","Destroy=="+str);

    }
} 
```

这是我使用的概念的示例代码...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:45:17.580

PagerAdapter 有一个类似的 onPageChangeListener 。使用它来收听页面更改而不是播放音频。

# iphone - 将 XML 解析为 NSMutableArray

> ID：15239933
> 
> 赞同：0
> 
> 时间：2013-03-06T05:50:58.147
> 
> 标签：iphone, ios, xml-parsing, nsmutablearray

我的 Web 服务中有以下格式的 XML。

```
<xml>
    <Menu>
        <pair>
            <MenuCategory shortname="Starters Menu" description_en="hgfhghgh" image="Small.jpg" description_fr="" description_ge="" description_it="" description_sp="" description_ch="">
                <MenuItems>
                    <menuItem price="666" image="060649XSmall.jpg" shortname="kandan" description_en="kandan" description_fr="" description_ge="" description_it="" description_sp="" description_ch=""/>
                    <menuItem price="250" image="3.jpg" shortname="Vegetable Soups" description_en="Vegetable Soups" description_fr="" description_ge="" description_it="" description_sp="" description_ch=""/>
                    <menuItem price="52" image="3.jpg" shortname="Mixed Starters" description_en="Mixed Starters" description_fr="" description_ge="" description_it="" description_sp="" description_ch=""/>
                    <menuItem price="45" image="14.jpg" shortname="Pumpkin soup" description_en="Pumpkin soup" description_fr="" description_ge="" description_it="" description_sp="" description_ch=""/>
                    <menuItem price="15" image="15.jpg" shortname="Almondrolledgoatsche" description_en="Almondrolledgoatsche" description_fr="" description_ge="" description_it="" description_sp="" description_ch=""/>
                </MenuItems>
            </MenuCategory>
        </pair>
    </Menu>
</xml> 
```

我尝试使用 TBXML 从我的 web 服务中解析这个 XML。但是，还没有得到我的输出，

```
TBXML *XML = [[TBXML alloc]initWithURL:[NSURL URLWithString:urlString]];
TBXMLElement *rootXML = XML.rootXMLElement;
TBXMLElement *e = [TBXML childElementNamed:@"MenuItems" parentElement:rootXML];
NSString *woeid = [TBXML textForElement:e->firstChild];
NSLog(@"Woeid - %@", woeid); 
```

它简单地抛出`EXEC_BAD_ACCESS`错误。我只需要将此 xml 解析为我的`NSMutableArray`有很多与此相关的示例。但是，不知道哪一个适合我的要求。有没有人以这种格式工作过？知道如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:02:36.233

我认为以下代码可能会对您有所帮助。并且您已经做出了选择 TBXML 进行 xml 解析的不错选择。

在 .h 文件中

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController<NSXMLParserDelegate>

 {
NSMutableArray *dictionaryStack;
NSMutableString *textInProgress;
NSError **errorPointer;
}

+ (NSDictionary *)dictionaryForXMLData:(NSData *)data error:(NSError **)errorPointer;
+ (NSDictionary *)dictionaryForXMLString:(NSString *)string error:(NSError **)errorPointer;

@end 
```

在 .m 文件中

```
NSString *const kXMLReaderTextNodeKey = @"text";

@interface ViewController ()

- (id)initWithError:(NSError **)error;
- (NSDictionary *)objectWithData:(NSData *)data;

@end

@implementation ViewController

- (void)viewDidLoad{

NSData *data = [NSData dataWithContentsOfURL:[NSURL URLWithString:@"Your URL Here"]];

NSError *parseError = nil;
NSDictionary *xmlDictionary = [ViewController dictionaryForXMLData:data error:&parseError];    // Print the dictionary

NSLog(@"%@",xmlDictionary);

}

+ (NSDictionary *)dictionaryForXMLData:(NSData *)data error:(NSError **)error
{   
ViewController *reader = [[ViewController alloc] initWithError:error];
NSDictionary *rootDictionary = [reader objectWithData:data];
[reader release];
return rootDictionary;
}

 + (NSDictionary *)dictionaryForXMLString:(NSString *)string error:(NSError **)error
{ 
NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding];
return [ViewController dictionaryForXMLData:data error:error];
}

- (id)initWithError:(NSError **)error
{
if (self = [super init])
{
    errorPointer = error;
}
return self;
}

- (void)dealloc
{
[dictionaryStack release];
[textInProgress release];
[super dealloc];
}

- (NSDictionary *)objectWithData:(NSData *)data
{
// Clear out any old data
[dictionaryStack release];
[textInProgress release];

dictionaryStack = [[NSMutableArray alloc] init];
textInProgress = [[NSMutableString alloc] init];

// Initialize the stack with a fresh dictionary
[dictionaryStack addObject:[NSMutableDictionary dictionary]];

// Parse the XML
NSXMLParser *parser = [[NSXMLParser alloc] initWithData:data];
parser.delegate = self;
BOOL success = [parser parse];

// Return the stack’s root dictionary on success
if (success)
{
    NSDictionary *resultDict = [dictionaryStack objectAtIndex:0];
    return resultDict;
}

return nil;
}

#pragma mark -
#pragma mark NSXMLParserDelegate methods

- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{
// Get the dictionary for the current level in the stack
NSMutableDictionary *parentDict = [dictionaryStack lastObject];

// Create the child dictionary for the new element, and initilaize it with the attributes
NSMutableDictionary *childDict = [NSMutableDictionary dictionary];
[childDict addEntriesFromDictionary:attributeDict];

// If there’s already an item for this key, it means we need to create an array
id existingValue = [parentDict objectForKey:elementName];
if (existingValue)
{
    NSMutableArray *array = nil;
    if ([existingValue isKindOfClass:[NSMutableArray class]])
    {
        // The array exists, so use it
        array = (NSMutableArray *) existingValue;
    }
    else
    {
        // Create an array if it doesn’t exist
        array = [NSMutableArray array];
        [array addObject:existingValue];

        // Replace the child dictionary with an array of children dictionaries
        [parentDict setObject:array forKey:elementName];
    }

    // Add the new child dictionary to the array
    [array addObject:childDict];
}
else
{
    // No existing value, so update the dictionary
    [parentDict setObject:childDict forKey:elementName];
}

// Update the stack
[dictionaryStack addObject:childDict];
}

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
// Update the parent dict with text info
NSMutableDictionary *dictInProgress = [dictionaryStack lastObject];

// Set the text property
if ([textInProgress length] > 0)
{
    // Get rid of leading + trailing whitespace
    [dictInProgress setObject:textInProgress forKey:kXMLReaderTextNodeKey];

    // Reset the text
    [textInProgress release];
    textInProgress = [[NSMutableString alloc] init];
}

// Pop the current dict
[dictionaryStack removeLastObject];
}

- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
// Build the text value
[textInProgress appendString:string];
}

- (void)parser:(NSXMLParser *)parser parseErrorOccurred:(NSError *)parseError
{
// Set the error pointer to the parser’s error object
*errorPointer = parseError;
}

@end 
```

希望这可以帮助！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:07:08.813

您可以使用[XMLReader](https://github.com/amarcadet/XMLReader)文件将 xml 数据解析为 NSDictionary 或 NSArray 或 MutableArray。将其用作：

```
NSError *error=nil;

NSString *responseString=[NSString stringWithFormat:@"<xml><Menu><pair><MenuCategory shortname=\"Starters Menu\" description_en=\"hgfhghgh\" image=\"Small.jpg\" description_fr=\"\" description_ge=\"\" description_it=\"\" description_sp=\"\" description_ch=\"\"><MenuItems><menuItem price=\"666\" image=\"060649XSmall.jpg\" shortname=\"kandan\" description_en=\"kandan\" description_fr=\"\" description_ge=\"\" description_it=\"\" description_sp=\"\" description_ch=\"\"/><menuItem price=\"250\" image=\"3.jpg\" shortname=\"Vegetable Soups\" description_en=\"Vegetable Soups\" description_fr=\"\" description_ge=\"\" description_it=\"\" description_sp=\"\" description_ch=\"\"/><menuItem price=\"52\" image=\"3.jpg\" shortname=\"Mixed Starters\" description_en=\"Mixed Starters\" description_fr=\"\" description_ge=\"\" description_it=\"\" description_sp=\"\" description_ch=\"\"/><menuItem price=\"45\" image=\"14.jpg\" shortname=\"Pumpkin soup\" description_en=\"Pumpkin soup\" description_fr=\"\" description_ge=\"\" description_it=\"\" description_sp=\"\" description_ch=\"\"/><menuItem price=\"15\" image=\"15.jpg\" shortname=\"Almondrolledgoatsche\" description_en=\"Almondrolledgoatsche\" description_fr=\"\" description_ge=\"\" description_it=\"\" description_sp=\"\" description_ch=\"\"/></MenuItems></MenuCategory></pair></Menu></xml>"];

NSDictionary *dictionary=[XMLReader dictionaryForXMLString:responseString error:&error];

NSLog(@"dictioanry is %@",dictionary);

NSMutableArray *menuItemsArray=[[NSMutableArray alloc] initWithArray:[[[[[[dictionary valueForKey:@"xml"] valueForKey:@"Menu"] valueForKey:@"pair"] valueForKey:@"MenuCategory"] valueForKey:@"MenuItems"] valueForKey:@"menuItem"]];

NSLog(@"menu item array is %@",menuItemsArray); 
```

控制台日志：--------

```
 dictioanry is {
    xml =     {
        Menu =         {
            pair =             {
                MenuCategory =                 {
                    MenuItems =                     {
                        menuItem =                         (
                                                        {
                                "description_ch" = "";
                                "description_en" = kandan;
                                "description_fr" = "";
                                "description_ge" = "";
                                "description_it" = "";
                                "description_sp" = "";
                                image = "060649XSmall.jpg";
                                price = 666;
                                shortname = kandan;
                            },
                                                        {
                                "description_ch" = "";
                                "description_en" = "Vegetable Soups";
                                "description_fr" = "";
                                "description_ge" = "";
                                "description_it" = "";
                                "description_sp" = "";
                                image = "3.jpg";
                                price = 250;
                                shortname = "Vegetable Soups";
                            },
                                                        {
                                "description_ch" = "";
                                "description_en" = "Mixed Starters";
                                "description_fr" = "";
                                "description_ge" = "";
                                "description_it" = "";
                                "description_sp" = "";
                                image = "3.jpg";
                                price = 52;
                                shortname = "Mixed Starters";
                            },
                                                        {
                                "description_ch" = "";
                                "description_en" = "Pumpkin soup";
                                "description_fr" = "";
                                "description_ge" = "";
                                "description_it" = "";
                                "description_sp" = "";
                                image = "14.jpg";
                                price = 45;
                                shortname = "Pumpkin soup";
                            },
                                                        {
                                "description_ch" = "";
                                "description_en" = Almondrolledgoatsche;
                                "description_fr" = "";
                                "description_ge" = "";
                                "description_it" = "";
                                "description_sp" = "";
                                image = "15.jpg";
                                price = 15;
                                shortname = Almondrolledgoatsche;
                            }
                        );
                    };
                    "description_ch" = "";
                    "description_en" = hgfhghgh;
                    "description_fr" = "";
                    "description_ge" = "";
                    "description_it" = "";
                    "description_sp" = "";
                    image = "Small.jpg";
                    shortname = "Starters Menu";
                };
            };
        };
    };
}

2013-03-06 11:52:31.500 MobileTrading[1212:11303] menu item array is (
        {
        "description_ch" = "";
        "description_en" = kandan;
        "description_fr" = "";
        "description_ge" = "";
        "description_it" = "";
        "description_sp" = "";
        image = "060649XSmall.jpg";
        price = 666;
        shortname = kandan;
    },
        {
        "description_ch" = "";
        "description_en" = "Vegetable Soups";
        "description_fr" = "";
        "description_ge" = "";
        "description_it" = "";
        "description_sp" = "";
        image = "3.jpg";
        price = 250;
        shortname = "Vegetable Soups";
    },
        {
        "description_ch" = "";
        "description_en" = "Mixed Starters";
        "description_fr" = "";
        "description_ge" = "";
        "description_it" = "";
        "description_sp" = "";
        image = "3.jpg";
        price = 52;
        shortname = "Mixed Starters";
    },
        {
        "description_ch" = "";
        "description_en" = "Pumpkin soup";
        "description_fr" = "";
        "description_ge" = "";
        "description_it" = "";
        "description_sp" = "";
        image = "14.jpg";
        price = 45;
        shortname = "Pumpkin soup";
    },
        {
        "description_ch" = "";
        "description_en" = Almondrolledgoatsche;
        "description_fr" = "";
        "description_ge" = "";
        "description_it" = "";
        "description_sp" = "";
        image = "15.jpg";
        price = 15;
        shortname = Almondrolledgoatsche;
    }
) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:35:34.513

@Praveen 读取属性而不是元素

```
- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:26:49.887

使用 NSMutableRequest 从 URL 获取数据

```
 NSString *stringURL=[NSString stringWithFormat:@"http://yourURL"];
NSURL *url=[NSURL URLWithString:stringURL];

NSMutableURLRequest *request=[NSMutableURLRequest requestWithURL:url];
NSError *error;

NSURLResponse *response;

NSData *urlData=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];

NSString *responseString=[[NSString alloc] initWithData:urlData encoding:NSUTF8StringEncoding];

NSDictionary *dictionary=[XMLReader dictionaryForXMLString:responseString error:&error]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:28:57.357

如果您想使用 NSXMLParser，请使用它。

```
- (void)viewDidLoad

   {
      NSURL *url = [[NSURL alloc]initWithString:@"yourURL"];
        NSXMLParser *parser = [[NSXMLParser alloc]initWithContentsOfURL:url];
        [parser setDelegate:self];
       BOOL result = [parser parse];
   }

    - (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict
    {
        NSLog(@"Did start element");
       if ( [elementName isEqualToString:@"root"])
        {
          NSLog(@"found rootElement");
          return;
        }
    }

    - (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
    {
        NSLog(@"Did end element");
        if ([elementName isEqualToString:@"root"]) 
            {
              NSLog(@"rootelement end");
            }

    }
    - (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
    {

       if([currentElementName isEqualToString:@"column"])
      {
           NSLog(@"Value %@",string);
      }

    } 
```

# windows-mobile - Intranet 中的 Windows Mobile 语音通信

> ID：15239937
> 
> 赞同：0
> 
> 时间：2013-03-06T05:51:32.363
> 
> 标签：windows-mobile, microphone, intranet

如何使用基于windows mobile设备的麦克风进行内网通讯，就像对讲机通讯一样？我还没有这个想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T16:38:02.313

您可以使用 IP 语音应用程序在您的网络中进行通信。只需使用 Walky-Talky 之类的应用程序，例如[http://handheld.softpedia.com/get/System-Utilities/Communications/iTalkie-20330.shtml](http://handheld.softpedia.com/get/System-Utilities/Communications/iTalkie-20330.shtml)

如果您是一位经验丰富的 Windows Mobile C/C++ 编码器，您可以自己编写这样的应用程序。

# javascript - for 循环中后增量运算符的不同结果

> ID：15239939
> 
> 赞同：3
> 
> 时间：2013-03-06T05:51:40.027
> 
> 标签：javascript, variables, for-loop, increment

在 Javascript 中，我无法理解为什么这两组代码会提供不同的结果：

```
for (var i = 0, a = []; i++ < 9;) {a.push(i);} 
```

运行此代码后，变量`a`如下：`[1, 2, 3, 4, 5, 6, 7, 8, 9]`.

但是，此代码返回其他内容：

```
for (var i = 0, a = []; i < 9; i++) {a.push(i);} 
```

相反，`a`运行此代码后的变量如下：`[0, 1, 2, 3, 4, 5, 6, 7, 8]`

所以，主要问题是：**为什么会这样？**

感谢您提供任何解释这种差异的答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:54:29.330

这只是`for`循环操作发生的顺序。评估三个表达式：

```
 for (before the loop starts;                   // initialization 
       before each iteration of the loop;        // loop condition
       at the end of each iteration of the loop) // loop increment 
```

这使您`i++`可以在相对于循环体的不同时间运行并解释您看到的结果。

# java - 当我访问具有 JPA 支持的 OSGI 包时出现 java.lang.NoClassDefFoundError: javax/naming/NamingException 错误

> ID：15239943
> 
> 赞同：2
> 
> 时间：2013-03-06T05:52:10.883
> 
> 标签：java, osgi, openjpa, apache-felix, osgi-bundle

我使用 OpenJPA 作为 JPA 提供程序。我创建了支持 JPA2.0 的小型 OSGI 捆绑项目。此捆绑包为其客户端提供持久性功能。

我创建了另一个客户端包来使用上述持久性服务。**当我使用Felix 框架**启动客户端捆绑服务时，出现以下错误，

**java.lang.NoClassDefFoundError: javax/naming/NamingException**

**完整的堆栈跟踪**

```
org.osgi.framework.BundleException: Activator start error in bundle StudentServiceConsumer [120].
        at org.apache.felix.framework.Felix.activateBundle(Felix.java:2027)
        at org.apache.felix.framework.Felix.startBundle(Felix.java:1895)
        at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:944)
        at org.apache.felix.gogo.command.Basic.start(Basic.java:729)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.felix.gogo.runtime.Reflective.invoke(Reflective.java:137)
        at org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:82)
        at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:477)
        at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:403)
        at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)
        at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:89)
        at org.apache.felix.gogo.shell.Console.run(Console.java:62)
        at org.apache.felix.gogo.shell.Shell.console(Shell.java:203)
        at org.apache.felix.gogo.shell.Shell.gosh(Shell.java:128)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.felix.gogo.runtime.Reflective.invoke(Reflective.java:137)
        at org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:82)
        at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:477)
        at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:403)
        at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)
        at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:89)
        at org.apache.felix.gogo.shell.Activator.run(Activator.java:75)
        at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NoClassDefFoundError: javax/naming/NamingException
        at com.student.serviceprovider.serviceimpl.StudentDAOService.persist(StudentDAOService.java:19)
        at com.student.serviceconsumer.activator.Activator.start(Activator.java:30)
        at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:645)
        at org.apache.felix.framework.Felix.activateBundle(Felix.java:1977)
        ... 32 more
Caused by: java.lang.ClassNotFoundException: javax.naming.NamingException not found by org.apache.openjpa [109]
        at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1460)
        at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringImpl.java:72)
        at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1843)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        ... 36 more
**java.lang.NoClassDefFoundError: javax/naming/NamingException** 
```

目前波纹管束处于活动状态

```
 ID|State      |Level|Name
   0|Active     |    0|System Bundle (4.0.3)
   1|Active     |    1|file:/C:/Felix/felix-framework-4.0.3/bundle/junit.jar (0.0.0)
   2|Active     |    1|Apache Felix Bundle Repository (1.6.6)
   3|Active     |    1|Apache Felix Gogo Command (0.12.0)
   4|Active     |    1|Apache Felix Gogo Runtime (0.10.0)
   5|Active     |    1|Apache Felix Gogo Shell (0.10.0)
   7|Active     |    1|WS_J2EE_persistence (7.0.0)
 105|Active     |    1|file:/C:/Felix/felix-framework-4.0.3/bundle/commons-logging-4.0.6.jar (0.0.0)
 106|Active     |    1|Apache Commons Lang (2.6.0.v201205030909)
 107|Active     |    1|Apache Commons Logging Plug-in (1.0.4.v201101211617)
 109|Active     |    1|OpenJPA Plug-in (1.2.1.201001181728)
 114|Active     |    1|file:/C:/Felix/felix-framework-4.0.3/bundle/rt.jar (0.0.0)
 119|Active     |    1|StudentServiceProvider (1.0.0.201303061113) 
```

**MENIFEST.MF（服务包）**

```
Manifest-Version: 1.0
Bundle-ManifestVersion: 2
Bundle-Name: StudentServiceProvider
Bundle-SymbolicName: StudentServiceProvider
Bundle-Version: 1.0.0.qualifier
Bundle-Activator: com.student.serviceprovider.activator.Activator
Import-Package: org.osgi.framework
Bundle-RequiredExecutionEnvironment: JavaSE-1.6
Meta-Persistence: META-INF/persistence.xml
Export-Package: com.student.serviceprovider.model,
 com.student.serviceprovider.service,
 com.student.serviceprovider.serviceimpl
Bundle-ClassPath: ../lib/com.ibm.ws.jpa.jar,
 ../lib/commons-collections-20040616.jar,
 ../lib/j2ee.jar,
 ../lib/mysql-connector-java-5.1.7-bin.jar,
 .
Require-Bundle: org.apache.openjpa;bundle-version="1.2.1",
 org.apache.commons.logging;bundle-version="1.0.4" 
```

**MENIFEST.MF（客户端捆绑包）**

```
Manifest-Version: 1.0
Bundle-ManifestVersion: 2
Bundle-Name: StudentServiceConsumer
Bundle-SymbolicName: StudentServiceConsumer
Bundle-Version: 1.0.0.qualifier
Bundle-Activator: com.student.serviceconsumer.activator.Activator
Import-Package: com.student.serviceprovider.model,
 com.student.serviceprovider.service,
 com.student.serviceprovider.serviceimpl,
 org.osgi.framework
Bundle-RequiredExecutionEnvironment: JavaSE-1.6
Export-Package: com.student.serviceconsumer.activator 
```

我对 OSGI 捆绑开发非常陌生。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T07:01:18.990

您的客户端捆绑包需要导入 package `javax.naming`。将此添加到由 指示的导入包列表中`Import-Package`。

顺便说一句，在使用`javax.naming`. 您真的不应该手动编写 MANIFEST.MF，因为它容易出错并且包含重复信息。您应该使用像[bnd](http://www.aqute.biz/Bnd/Bnd)或[Bndtools](http://bndtools.org/)这样的工具。

**更新：**实际上，OpenJPA 本身无法导入包`javax.naming`，如堆栈跟踪的以下部分所示：“javax.naming.NamingException not found by org.apache.openjpa [109]”。

因此，OpenJPA 被破坏了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-13T06:42:01.073

尝试将 javax.api 添加为依赖项。

```
<dependencies>
    <module name="javax.api"/>
</dependencies> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-26T11:41:19.050

尝试使用 -Dosgi.compatibility.bootdelegation=true 这有助于解决我的问题

# c# - 弹出窗口浏览器控件

> ID：15239946
> 
> 赞同：4
> 
> 时间：2013-03-06T05:52:26.003
> 
> 标签：c#, winforms, webbrowser-control

我正在使用网络浏览器控件从网站获取一些信息。它有一个详细链接，单击该链接会打开一个弹出窗口并在网络浏览器中显示详细信息。

如果单击 webbrowser 控件中的链接（按程序）打开另一个窗口并显示执行错误，我该怎么做。

但在资源管理器中它正在工作。而且我注意到详细链接仅在我在 Internet Explorer 中打开主页时才有效，否则如果我直接从 Internet Explorer 调用详细 URL，它也会给我同样的错误。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-06T06:44:24.400

我最近遇到了一个非常相似的情况。就我而言，弹出式浏览器没有共享嵌入式浏览器的会话。我必须做的是捕获 NewWindow 事件并取消它，然后将预期的 URL 发送到嵌入式浏览器。我需要使用 ActiveX 浏览器实例，因为它为您提供了尝试启动的 URL。这是我的代码：

您需要将 Microsoft Internet Controls COM 引用添加到您的项目中才能正常工作。

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
        // this assumes that you've added an instance of WebBrowser and named it webBrowser to your form
        SHDocVw.WebBrowser_V1 axBrowser = (SHDocVw.WebBrowser_V1)webBrowser.ActiveXInstance;

        // listen for new windows
        axBrowser.NewWindow += axBrowser_NewWindow;
    }

    void axBrowser_NewWindow(string URL, int Flags, string TargetFrameName, ref object PostData, string Headers, ref bool Processed)
    {
        // cancel the PopUp event
        Processed = true;

        // send the popup URL to the WebBrowser control
        webBrowser.Navigate(URL);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-14T13:43:08.493

这是动态版本。它不需要静态绑定 com 互操作，这在未来版本的 windows 中总是存在问题。

```
 public partial class Form10 : Form
{
    public Form10()
    {
        InitializeComponent();
        webBrowser1.Navigate("about:blank");
        dynamic ax = this.webBrowser1.ActiveXInstance;
        ax.NewWindow += new NewWindowDelegate(this.OnNewWindow);
        this.webBrowser1.Navigate("http://google.com");
    }
    private delegate void NewWindowDelegate(string URL, int Flags, string TargetFrameName, ref object PostData, string Headers, ref bool Processed);
    private void OnNewWindow(string URL, int Flags, string TargetFrameName, ref object PostData, string Headers, ref bool Processed)
    {
        Processed = true;
        //your own logic
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-21T04:02:41.503

细化为 Middas 的答案...

*   添加 COM 引用 Microsoft Internet 控件。
*   使用 Middas 代码。
*   在 form_Load 中定义您的 Uri，所有弹出窗口将直接更改您的 winform WebBrowser。

# android - 如何将 json url 印地文文本编码为普通印地文文本？

> ID：15239948
> 
> 赞同：0
> 
> 时间：2013-03-06T05:52:39.427
> 
> 标签：android, json

```
{"page":[
       {"pageid":"11099",
        "title":"Hindi Sms",
        "type":"0",
        "desc":"\u0936\u093e\u092f\u0930\u0940 \u090f\u0938\u090f\u092e\u090f\u0938:$@|11156|@$:4cing.com/mobile_app/uploads/pageicon
       }  
     ]
 } 
```

我正在该应用程序中开发一个印地语短信收集应用程序，我已通过 url 从服务器将该短信发送到我的应用程序，因此如果我打开该 url 网络浏览器，它会返回与上述相同的响应。

*   如何在 android 中以编程方式将该文本转换为印地语短信？
*   有没有人有这个问题的经验？有没有人有任何提示和建议如何调试这里真正发生的事情超出了我的专业领域。

请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-20T11:50:31.773

首先解析 JSONResponse ......然后进入一个像这样的字符串

```
String jsStr = jsonObj.getString("ypour parameter Name");

TextUtils.htmlEncode(jsStr);
YourTextview.setText(Html.fromHtml(jsStr)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:12:27.083

以下代码行是您需要的。首先解析 JSON 并获取 HINDI 字符串并将其传递给下面的方法，它应该是可读的格式。

```
TextUtils.htmlEncode(String) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T06:03:22.963

好吧，您的响应是`json`格式的，因此您需要通过本机**android json 库**解析它，仅此而已。

要将给定格式转换为特定语言，请查看为您提供的网络服务，因为必须有一些，如果没有，您可以查看谷歌翻译服务进行转换。

**查看您的回复，我觉得有一些客户端通过 Web 服务提供了 api。**

**---- 编辑 1----**

数据按原样显示，因为您显示`html`正常`Sting text`。

使用 , 解析 json 并获取**desc 对象**的值。

```
 Html.fromhtml("\u0936\u093e\u092f\u0930\u0940 \u090f\u0938..."); 
```

会成功的。

**---- 编辑 2----**

```
page.setDesc(c.getString(TAG_DESC)); 
```

> 看你从上一行的 json 中获取 desc 对象并将其设置为你的对象。

**您必须使用我的代码在其中获取此对象以在 TextView 对象中显示文本。**

**即这样，**

```
yourTextView.setText(Html.fromHtml(page.getDesc())); 
```

或者

```
yourTextView.setText(TextUtils.htmlEncode(page.getDesc()); 
```

# android - 简单查询返回错误

> ID：15239949
> 
> 赞同：0
> 
> 时间：2013-03-06T05:52:39.853
> 
> 标签：android, android-sqlite

这是我的原木猫

```
 java.lang.RuntimeException: Unable to start activity   ComponentInfo{XXXXXX}: java.lang.IllegalStateException:   Couldn't read row 0, col 0 from CursorWindow. Make sure the Cursor is initialized correctly   before accessing data from it.
         at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1960)
         at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1985)
         at android.app.ActivityThread.access$600(ActivityThread.java:127)
         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1151)
         at android.os.Handler.dispatchMessage(Handler.java:99)
         at android.os.Looper.loop(Looper.java:137)
         at android.app.ActivityThread.main(ActivityThread.java:4482)
         at java.lang.reflect.Method.invokeNative(Native Method)
         at java.lang.reflect.Method.invoke(Method.java:511)
         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:794)
         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:561)
         at dalvik.system.NativeStart.main(Native Method)
         Caused by: java.lang.IllegalStateException: Couldn't read row 0, col 0 from      CursorWindow. Make sure the Cursor is initialized correctly before accessing data from it.
         at android.database.CursorWindow.nativeGetString(Native Method)
         at android.database.CursorWindow.getString(CursorWindow.java:442)
         at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:51)
         at com.gallops.CheckProfile.fillData(CheckProfile.java:171)
         at com.gallops.CheckProfile.onCreate(CheckProfile.java:154)
         at android.app.Activity.performCreate(Activity.java:4728)
         at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1051)
         at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1924)
         ... 11 more 
```

我正在尝试运行的查询：//DBAdapter 文件

```
 public Cursor fetchRow(String a) {
            String Key = a; 
            return mDb.query(DATABASE_TABLE0, new String[] {IDno1, GIDno1,Name1,Owner1,Breed1,Gender1, Notes1,Nature1,Color1,Sire1,Dam1,Height1,Foaled1,Acquired1,Date1,IMG}, "IDno=?",new String[]{Key}, null, null, null, null);
} 
```

我调用它的函数：

```
 private void fillData() {
    String D = getid();

  Cursor c = DBHelper.fetchRow(IDB);

   // List<String> idList = new ArrayList<String>();
    if (c.moveToFirst()) {
        do {
            String X = (c.getString(c.getColumnIndexOrThrow("IDno")));
            TextView tv2=(TextView)findViewById(R.id.textView3);
            tv2.setText(X);

            String B = (c.getString(c.getColumnIndexOrThrow("GIDno")));
            TextView tv6=(TextView)findViewById(R.id.textView7);
            tv6.setText(B);

            String A = (c.getString(c.getColumnIndexOrThrow("Name")));
            TextView tv=(TextView)findViewById(R.id.textView1);
            tv.setText(A);
            NameTop = A; 

            String Y = (c.getString(c.getColumnIndexOrThrow("Owner")));
            TextView tv12=(TextView)findViewById(R.id.textView13);
            tv12.setText(Y);

            String G = (c.getString(c.getColumnIndexOrThrow("Breed")));
            TextView tv10=(TextView)findViewById(R.id.textView11);
            tv10.setText(G);

            String N = (c.getString(c.getColumnIndexOrThrow("Notes")));
            TextView tv8=(TextView)findViewById(R.id.textView9);
            tv8.setText(N);

            String da = (c.getString(c.getColumnIndexOrThrow("Dam")));
            TextView tv14=(TextView)findViewById(R.id.TextView02);
            tv14.setText(da);

            String si = (c.getString(c.getColumnIndexOrThrow("Sire")));
            TextView tv16=(TextView)findViewById(R.id.TextView04);
            tv16.setText(si);

            String co = (c.getString(c.getColumnIndexOrThrow("Color")));
            TextView tv18=(TextView)findViewById(R.id.TextView06);
            tv18.setText(co);

            String g = (c.getString(c.getColumnIndexOrThrow("Gender")));
            TextView tv20=(TextView)findViewById(R.id.TextView08);
            tv20.setText(g);

            String na = (c.getString(c.getColumnIndexOrThrow("Nature")));
            TextView tv22=(TextView)findViewById(R.id.TextView10);
            tv22.setText(na);

            String he = (c.getString(c.getColumnIndexOrThrow("Height")));
            TextView tv24=(TextView)findViewById(R.id.TextView12);
            tv24.setText(he);

            String fo = (c.getString(c.getColumnIndexOrThrow("Foaled")));
            //TextView tv26=(TextView)findViewById(R.id.TextView14);
            //tv26.setText(fo);

            String ac = (c.getString(c.getColumnIndexOrThrow("Acquired")));
            TextView tv28=(TextView)findViewById(R.id.TextView16);
            tv28.setText(ac);

           /*Dt = (c.getString(c.getColumnIndexOrThrow("Date")));
            int age = age(Dt);
            TextView Tvx =(TextView)findViewById(R.id.textView5);
            String DD = Integer.toString(age);
            Tvx.setText(DD); */

            Image = c.getBlob(c.getColumnIndex("image"));

            if (Image!=null){
            BitmapFactory.Options options = new BitmapFactory.Options();
                    bitmap = BitmapFactory.decodeByteArray(Image, 0, Image.length, options); 
                    ImageView Img = (ImageView)findViewById(R.id.imageView1);
                    Img.setImageBitmap(bitmap); 
            }else{
                ImageView Img = (ImageView)findViewById(R.id.imageView1);
                Img.setBackgroundResource(R.drawable.pic); 
            }

        } while (c.moveToNext());
        DBHelper.close();

    } 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:04:43.387

尝试这个

在您的活动中全局声明光标

游标数据游标；

```
 And then assign to datacursor instead of c.

 datacursor = DBHelper.fetchRow(IDB); 
```

使用访问该行`datacursor`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:14:44.000

您可能想要编写一些输出到 logcat 的调试行，以确保您实际在光标中获取信息，并且您正在获取您认为应该获得的信息。

在尝试使用其中的数据之前，您还需要检查光标是否不为空。如果光标为空，应用程序将崩溃。我很难学到这一点。您可以使用以下方法检查空游标：

```
if(cu != null && cu.getCount() > 0){
    cu.moveToFirst();
    // The rest of your code
} 
```

# ms-access - 对象打开时不允许操作

> ID：15239950
> 
> 赞同：0
> 
> 时间：2013-03-06T05:52:54.097
> 
> 标签：ms-access, vb6

当我尝试编写我的 vb6 登录方法时，我收到了这个错误。我检查了所有记录集，但看不到任何打开的记录集。为什么我会收到此错误？此登录程序的逻辑是，当用户在文本字段中输入用户名和密码时，我根据数据库（ms 访问）值检查是否正确，如果输入无效的用户名和密码 3x，则终止程序。当我尝试我的程序时，它正在使用正确的用户名和密码，但如果我尝试输入 3 次错误输入，它只会在第二次尝试无效输入时给我该错误。

有人能帮我吗？

这是我的代码：

```
Dim Con As New ADODB.Connection
Dim Rs As New ADODB.Recordset
Dim Rs2 As New ADODB.Recordset
Dim ctr As Integer
Dim cmdCommand As New ADODB.Command
Dim have As Integer
Dim Username As String
Dim Password As String

Private Sub cmdLogin_Click()
  If ctr <> 3 Then
    If txtUsername.Text = Username And txtPassword.Text = Password Then
      MsgBox "Login Successful!!"
      MDIForm1.Show
      Unload Me
    ElseIf txtUsername.Text <> Username And txtPassword.Text <> Password Then
      MsgBox "Invalid Log in!"
      txtUsername.Text = ""
      txtPassword.Text = ""
      txtUsername.SetFocus
    ElseIf txtUsername.Text <> Username And txtPassword.Text = Password Then
      MsgBox "Invalid Log in!"
      txtUsername.Text = ""
      txtPassword.Text = ""
      txtUsername.SetFocus
    ElseIf txtUsername.Text = Username And txtPassword.Text <> Password Then
      MsgBox "Invalid Log in!"
      txtUsername.Text = ""
      txtPassword.Text = ""
      txtUsername.SetFocus
    ElseIf txtUsername.Text = "" And txtPassword.Text = "" Then
      MsgBox "Invalid Log in!"
      txtUsername.Text = ""
      txtPassword.Text = ""
      txtUsername.SetFocus
    Else
      txtUsername.Text = ""
      txtPassword.Text = ""
      txtUsername.SetFocus
    End If
    ctr = ctr + 1
  Else
    MsgBox "You are not a valid user! The Program will be terminated"
    End
  End If
End Sub

Private Sub Form_Load()
  Call OpenConnection

  With Rs
    .ActiveConnection = Con
    .CursorType = adOpenDynamic
    .CursorLocation = adUseClient
    .LockType = adLockOptimistic
  End With
End Sub

Private Sub OpenConnection()
  If Con.State = 1 Then
    Con.Close
  End If
  Set Con = New ADODB.Connection
  Con.ConnectionString = "Provider=Microsoft.ACE.OLEDB.12.0;DataSource=C:\Users\User\Documents\dbMMM.accdb;Persist Security Info=False;"
  Con.Open
End Sub

Private Sub txtUsername_LostFocus()
  With Rs2
    .ActiveConnection = Con
    .Source = "Select * From tblUser where UserName = '" & txtUsername.Text & "' "       'The highlight of my error is in this line
    .CursorType = adOpenDynamic
    .CursorLocation = adUseClient
    .LockType = adLockOptimistic
    .Open
    have = 0
    If Rs2.EOF = False Then
      Rs2.MoveFirst
      Do
        Username = Rs2.Fields(0)
        Password = Rs2.Fields(1)
        Rs2.MoveNext
      Loop Until Rs2.EOF = True
      Rs2.Close
    End If
  End With
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:59:23.520

`_LostFocus`如果用户名没有匹配项，您的代码会使记录集保持打开状态。（现在代码已经正确缩进了，这更清楚了）

我更好的处理方法是在按下登录按钮时进行一次检查，以查看是否有任何记录与用户名和密码匹配，而不是找到用户，然后手动比较密码。

```
With Rs2
  .ActiveConnection = Con
  .Source = "Select * From tblUser where UserName = '" & Replace(txtUsername.Text, "'", "''") & "' AND Password = '" & Replace(txtPassword.Text, "'", "''") & "';"
  .CursorType = adOpenDynamic
  .CursorLocation = adUseClient
  .LockType = adLockOptimistic
  .Open
  LoginValid = Not .EOF
  .Close
End With 
```

# javascript - CSS边框悬停动画

> ID：15239951
> 
> 赞同：1
> 
> 时间：2013-03-06T05:52:54.720
> 
> 标签：javascript, jquery, css

我正在尝试悬停边框动画。但我没有得到动画，

这是我的代码。你能帮我么。

```
$(".divBox1").mouseover(function(){
        console.log('enter');
        $(this).animate({border: "3px solid #000"}, 100);
    }).mouseout(function(){
            console.log('out');
            $(this).animate({border: "3px solid #FFF55B"}, 100);
    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T05:55:32.870

试试这个，在边框属性中添加引号

```
$(".divBox1").mouseover(function(){
    //console.log('enter');
    $(this).animate({"border": "3px solid #000"}, 100);
}).mouseout(function(){
    //console.log('out');
    $(this).animate({"border": "3px solid #FFF55B"}, 100);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:59:56.640

Try enclosing the css border properties in double quotes

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:08:34.227

看到你必须使用`jQuery`and `jQuery ui`both for `animating colors`. 因为您的代码表明`you just want to animate colors not the width`，动画宽度可以通过

`borderWidth: '3px'`

## CSS：

```
.divBox1 {
   border:solid 3px #FFF55B;
} 
```

## 脚本：

```
 <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
 <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
 <script>
     $(function(){
         $(".divBox1").mouseover(function () {
             $(this).animate({borderColor: "#000"}, 800);
         }).mouseout(function () {
             $(this).animate({borderColor: "#FFF55B"}, 800);
         });
     });
 </script> 
```

[**在这里尝试小提琴**](http://jsfiddle.net/dvwmr/)

## 笔记：

没有`jquery ui`这个根本行不通。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:03:37.133

用 css 试试，很简单

```
 .divBox1{
 border: 3px solid #FFF55B;
}

.divBox1:hover {
        border: 3px solid #000;
            -webkit-transition: all 0.25s ease-in-out;
            -moz-transition: all 0.25s ease-in-out;
            -o-transition: all 0.25s ease-in-out;
            -ms-transition: all 0.25s ease-in-out;
            transition: all 0.25s ease-in-out;
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:04:36.427

您不能像这样为静态边框设置动画。U 可以使用 css3 中的边框图像进行操作。

有关更多查询，[请参阅此链接](https://stackoverflow.com/questions/5261122/moving-dotted-border-using-css)

也看看这个[插件](http://matthewjamestaylor.com/blog/animated-photoshop-selection-on-a-web-page)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-06-08T16:11:50.803

[这](http://jsfiddle.net/Unex_web_o/RMMpM/1/)是你想要的吗？

```
 $(".divBox1").css("border","3px solid transparent").mouseover(function(){
        //console.log('enter');
        $(this).animate({"border-color": '#000'}, 100);
    }).mouseout(function(){
        //console.log('out');
        $(this).animate({"border-color": "#FFF55B"}, 100);
    }); 
```

# 笔记：

你需要 jQuery UI

# android-twitter - service.getAccessToken() 抛出异常

> ID：15239957
> 
> 赞同：1
> 
> 时间：2013-03-06T05:53:14.777
> 
> 标签：android-twitter

我正在使用 scribe 1.3.3 Oauth 库将图像上传到 Twitter。

我可以得到 RequestToken 和验证器，但仍然

```
 Token accesstoken=oAuth.getAccessToken(requestToken, verifier); is throwing exception 
```

例外：

```
org.scribe.exceptions.OAuthException: Response body is incorrect. Can't extract token and secret from this: '<?xml version="1.0" encoding="UTF-8"?>
03-05 15:52:24.810: E/AndroidRuntime(28777): <hash>
03-05 15:52:24.810: E/AndroidRuntime(28777):   <request>/oauth/access_token</request>
03-05 15:52:24.810: E/AndroidRuntime(28777):   <error>Invalid / expired Token</error>
03-05 15:52:24.810: E/AndroidRuntime(28777): </hash> 
```

我无法理解这个异常是什么以及它为什么会发生。

请建议我解决这个问题。

提前致谢

# c# - 谁能告诉我这个 ZeroMQ 代码有什么问题？

> ID：15239964
> 
> 赞同：0
> 
> 时间：2013-03-06T05:53:30.733
> 
> 标签：c#, zeromq

我尝试了各种不同的事情，但这基本上是我想要做的。设置进程中的 pubsub。我重新运行了这段代码，但在尝试将 pub 套接字连接到转发器设备的前端时，连接被拒绝。

这是代码

```
string expectedAddress = "XXXX";
        string message = "hello its me";
        int count = 0;
        using (var context = ZmqContext.Create())
        {
            using (var forwarderDevice = new ForwarderDevice(context, "inproc://front", "inproc://back", DeviceMode.Threaded))
            {
                using (var pub = Helper.GetConnectedPublishSocket(context, "inproc://front"))
                {
                    using (var sub = Helper.GetConnectedSubscribeSocket(context, "inproc://back")) 
                    {
                        forwarderDevice.Start();

                        Helper.SendOneSimpleMessage(expectedAddress, message, pub);

                        var zmqMessage = Helper.ReceiveMessage(sub);

                        Assert.AreEqual(count, zmqMessage.FrameCount);
                        Frame frame = zmqMessage[0];
                        var address = Encoding.Unicode.GetString(frame.Buffer);
                        Assert.AreEqual(expectedAddress, address);
                    }
                }
                forwarderDevice.Stop();
            }
        } 
```

好的第一件事我知道我做错了......在您尝试连接到设备之前，应该直接在设备创建之后开始。第二件事是设备在另一个线程上启动，并且在主线程尝试连接时可能尚未准备好，因此您需要阻止一些方法，直到它准备好。代码现在看起来像：

```
string expectedAddress = "XXXX";
        string message = "hello its me";
        int count = 0;
        using (var context = ZmqContext.Create())
        {
            using (var forwarderDevice = new ForwarderDevice(context, "inproc://front", "inproc://back", DeviceMode.Threaded))
            {
                forwarderDevice.Start();
                while (!forwarderDevice.IsRunning)
                { }

                using (var pub = Helper.GetConnectedPublishSocket(context, "inproc://front"))
                {
                    using (var sub = Helper.GetConnectedSubscribeSocket(context, "inproc://back")) 
                    {
                        Task<ZmqMessage> task = Task.Run(() =>
                            {
                                var zmqMessage = Helper.ReceiveMessage(sub);
                                return zmqMessage;
                            });

                        Helper.SendOneSimpleMessage(expectedAddress, message, pub);
                        task.Wait();

                        var result = task.Result;

                        Assert.AreEqual(count, result.FrameCount);
                        Frame frame = result[0];
                        var address = Encoding.Unicode.GetString(frame.Buffer);
                        Assert.AreEqual(expectedAddress, address);
                    }
                }
                forwarderDevice.Stop();
            }
        } 
```

我没有收到任何错误，但我也从未收到消息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:55:27.513

只看后面的代码，一个经典的 SUB 错误是没有实际订阅任何内容 - 您需要将 setockopt 设置为 SUBSCRIBE 到 "" （空字符串）才能获取每条消息。因此，如果这是一个 PUB/SUB 套接字对，除非您在帮助程序中订阅，否则它只会过滤消息。

# ios - 检查是否安装了 Facebook、LinkedIn、Gmail 应用程序

> ID：15239968
> 
> 赞同：1
> 
> 时间：2013-03-06T05:53:53.563
> 
> 标签：ios, facebook, gmail, installation, linkedin

有没有一种方法可以检查 Facebook、LinkedIn、gmail 应用程序是否以编程方式安装。根据我的项目要求，如果安装了这些应用程序，我需要采取一些措施。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T06:01:42.807

每个可以通过另一个应用程序打开的应用程序都会有一个注册的 URL 方案。您可以在此处找到应用 URL 方案的目录：http: [//handleopenurl.com/](http://handleopenurl.com/)

要查看设备上是否安装了应用程序，您的设备只需检查 URL 方案是否可以使用 UIApplication 的 canOpenUrl 方法打开。

因此，要查看是否安装了 Facebook，您可以运行以下命令

```
BOOL facebookInstalled = [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"fb://requests"]]; 
```

不幸的是，似乎没有为 Gmail 或 LinkedIn 注册 URL 方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-19T16:37:36.113

实际上，您可以 [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"linkedin://"]]

# ms-access - 如何让 1 个用户更新数据库，同时允许其他用户仅在 Microsoft Access 中读取？

> ID：15239970
> 
> 赞同：1
> 
> 时间：2013-03-06T05:54:12.780
> 
> 标签：ms-access, vba, ms-access-2010

我计划将我的 microsoft access 应用程序与表单和数据库放到一个共享驱动器上，供大约 10 多人使用。但是，存在并发问题。有没有什么办法可以设置，比如允许microsoft access数据库在任何时候只被1个人更新，同时允许其他人阅读但不更新？目前，访问数据库只能由一个人更新和读取，而其他人甚至无法打开文件。非常感谢您提供的任何帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-31T22:35:38.283

> 我想要做的是只允许 1 人能够更新数据库，而其他人将是只读的。

是的，它可以做到，而且您无需更改应用程序代码即可。可以通过调整共享文件夹和共享文件的权限来实现。

**文件夹权限**

每当一个或多个用户需要对 ACE/Jet 数据库文件（.accdb 或 .mdb）进行读/写访问时，**所有**用户都必须对文件所在的**文件夹具有****创建文件/写数据**权限。这是因为如果他们是第一个进入数据库的人，他们的 Access 数据库引擎副本需要能够创建锁定文件（.laccdb 或 .ldb）。

 ***请注意，即使对文件*只有只读访问权限的用户仍然需要对*文件夹*具有“创建文件”权限。这是必不可少的。

**文件的权限（.accdb 或 .mdb）**

这是您区分可以更新数据库的用户和仅具有只读访问权限的用户的地方。只需使用**文件**上的 Windows 权限，即可根据需要为其提供读+写或只读权限。

**常见错误 #1：在文件夹上设置用户/组权限（读写或只读）并让数据库文件（.accdb 或 .mdb）继承它们**

在这种情况下，“读+写”用户可以创建锁定文件，但“只读”用户不能。

***• 场景A：***如果“读+写”用户首先打开数据库，则创建锁定文件并且一切都按预期运行。其他“读+写”用户可以打开数据库并进行更新，而其他“只读”用户可以只读方式打开数据库。

***• 方案B：***如果“只读”用户首先打开数据库文件，则他们的Access 副本按预期以只读方式打开该文件。但是，如果“读+写”用户（根据他们的文件权限）然后尝试打开数据库文件，他们也会以只读方式打开它。每个人都可以进入，但没有人可以做出改变。

**常见错误#2：禁止所有人在文件夹上“创建文件”**

在这种情况下，没有人可以创建锁定文件，因此每个人都以只读方式打开数据库，而不管他们对数据库文件本身的权限如何。

**补充说明：**

上面的结果通过混合使用 Access_2010 和 Access_2013 客户端连接到 Windows Server 2012 上的共享 .accdb 后端得到证实。在早期版本的 Access 中，如果没有人可以创建锁定文件，那么“进入”的第一个人将打开数据库文件处于“独占模式”，并获得其文件权限允许的任何访问权限，而所有后续用户将被拒绝访问，并显示一条错误消息，指出*“该文件已被另一个用户以独占方式打开”。*

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2013-03-06T08:51:46.440

不。你可以通过编程来做一些事情，但它肯定是相当脆弱的，每天都会把每个人都锁在外面。Access 是一个好的前端，但对于多用户来说不是一个好的后端。使用另一个数据库作为后端。原则上，SQL Server Express 是最简单的选择。当然，你必须将数据库拆分为前端和后端，不清楚你是否已经这样做了。如果您还没有，您可以尝试它如何与 Access 中的两个部分一起工作，但我在多用户网络 Access 后端方面的经验并不好。**

# javascript - javascript onclick 调用函数

> ID：15239976
> 
> 赞同：0
> 
> 时间：2013-03-06T05:54:44.087
> 
> 标签：javascript, this

我正在学习 javascript 并且正在查看这段代码：

```
function foo1 {
  var curObj = this;

    this.foo2 = function() {
         curObj.test = "foo2";
    }

    this.foo3 = function() {
         curObj.test = "foo3";
    }

  // called by
  x.on("click", curObj.foo1)
  x.on("click", curObj.foo2)
} 
```

“foo2”和“foo3”函数是重复的，所以我想用类似的东西替换它们：

```
function setTest(foo) {
  curObj.test = foo;
}

function foo1 {
  var curObj.test;
  x.on("click", setTest(foo));
} 
```

所以我的问题是如何将 curObj 传递给函数 setTest，x.onClick = setTest(this, foo) 不起作用。如果我想修改函数 setTest() 中的其他 curObj 值怎么办，像“this”这样的东西会覆盖吗？“this”是对内存地址的引用还是只是一个对象 ID？

你们太棒了，感谢您愿意提供的任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:04:12.597

我相信您正在寻找的是`call()`功能

```
function testThis () {
  console.log(this);
}

testThis.call(curObj) // prints curObj 
```

[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/call](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/call)

# java - 如何使用 iText 1.5.4 添加多行页脚？

> ID：15239977
> 
> 赞同：0
> 
> 时间：2013-03-06T05:54:46.330
> 
> 标签：java, itext

我的问题是我如何使用 iText 1.5.4 添加多行页脚我知道我的问题与这个问题类似，[但](https://stackoverflow.com/questions/10562257/how-to-add-tables-in-footer-of-pdf-in-java-using-itext)到目前为止这个问题还没有得到回答。此外，我不需要在页脚中使用表格的解决方案。

基本上我想要实现的是这样的 ![多行的页脚](../Images/cef9dc78048461608658df44388de85c.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:59:32.103

我建议你按照这个例子：

[http://itextpdf.com/examples/iia.php?id=103](http://itextpdf.com/examples/iia.php?id=103)

您将能够添加任何您想要的页眉和页脚。我过去一直在使用它，并且能够在页脚中放置一个表格。

请注意这一点`class HeaderFooter extends PdfPageEventHelper`以及`public void onEndPage(PdfWriter writer, Document document)`他们的示例。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-07T08:08:19.883

我使用下面的代码实现了我想要的布局，类似于我在问题中发布的图像。我对 itext 不是很熟悉，所以如果有人有更好的方法来做到这一点，您的意见和建议将不胜感激。谢谢！

```
public static void main(String[] args) throws DocumentException, IOException{
    Document document = new Document(PageSize.A4, 50, 50, 70, 70);

        PdfWriter writer = PdfWriter.getInstance(document,
                new FileOutputStream("C:/pdfwithfooter.pdf"));
        document.open();

        document.add(new Paragraph(
                "Hello Body of the PDF"));

        /** Format Font **/
        Font fontFooter = new Font(FontFactory.getFont(
                FontFactory.HELVETICA, 6));

        /**
         * Format Table Cell Borders
         */
        // cell.disableBorderSide(Rectangle.BOX);
        Rectangle page = document.getPageSize();
        PdfPTable foot = new PdfPTable(4);
        PdfPCell footCell = new PdfPCell(new Phrase(
                "OUR DOCUMENT'S LEGEND", FontFactory.getFont(
                        FontFactory.HELVETICA, 6, Font.BOLDITALIC)));
        footCell.setColspan(2);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase(""));
        footCell.setColspan(2);
        foot.addCell(footCell);

        // 1st row
        footCell = new PdfPCell(new Phrase("COX - COX", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase("EQ - Equipment", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase("OUT-XYZ - Out XXXXXXXXXXXXX",
                fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase(
                "ADJ-XX - Adjustment on XXXXXX XXXX", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        // 2nd row
        footCell = new PdfPCell(new Phrase("EB - Electric Bills",
                fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase("T-BB - Transfer to Big Boat",
                fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase("T-XXXX - Transfer to XXXX",
                fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase("GX - Get XXXXXX", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        // 3rd row
        footCell = new PdfPCell(new Phrase(
                "EXCEPTIONS - Invalid X Y VALUES", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase("R XX - Removal of XX",
                fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase("T-X - Transfer of XXXX",
                fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase(
                "T-LX - Transfer of Leased XXXX", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        // 4th row
        footCell = new PdfPCell(new Phrase("LX - Leased XXXX", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase(
                "T-TX - Transfer to TREE XXXXXXX", fontFooter));
        footCell.setPaddingLeft(15);
        foot.addCell(footCell);
        footCell = new PdfPCell(new Phrase(
                "Adj-XXX - Adjustment Some Value",
                fontFooter));
        footCell.setPaddingLeft(15);
        footCell.setColspan(2);
        foot.addCell(footCell);

        foot.setTotalWidth(page.width() - document.leftMargin()
                - document.rightMargin());
        foot.writeSelectedRows(0, -1, document.leftMargin(),
                document.bottomMargin(), writer.getDirectContent());

        document.close();

} 
```

# ruby-on-rails - rails 关系模型（like/unlike 按钮）

> ID：15239979
> 
> 赞同：0
> 
> 时间：2013-03-06T05:55:25.193
> 
> 标签：ruby-on-rails, ruby, foreign-keys

我正在尝试`like/unlike`在 Rails 中创建和实现一个发布模型的按钮。我唯一能理解的是我需要某种带有`has_many_through`关联的关系模型。任何人都可以指出我创建这个的正确方向。我宁愿从头开始创建它以完全理解它。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:05:41.273

好吧，看起来你有一个 Person 模型。你有一个 Post 模型。该 Person 模型可以通过诸如 Opinion 模型之类的东西与 Post 模型相关联（呃……我讨厌尝试命名关系模型——但我唯一更鄙视的是 PersonPost 模型——它不是 PersonPost——投票赞成或反对的人不是海报 - 但足够了）。意见有一个 person_id 和一个 post_id（以及您认为有用的任何其他字段）。

所以人 has_many :opinions has_many :posts, :through => :opinions

意见 belongs_to :person belongs_to :post

发表 has_many :opinions has_many :people, :through => :opinions

从那里延伸。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:01:03.720

This [link](https://stackoverflow.com/questions/3908853/adding-a-like-unlike-button-to-a-post-in-rails) helps you alot. Create a new model called `Like` and relationship with `Post`

```
has_many :likes 
```

One more [Simple like/unlike button with rails 3, jquery, and ajax](https://stackoverflow.com/questions/6482354/simple-like-unlike-button-with-rails-3-jquery-and-ajax)

# android - Gstreamer sdk媒体播放器教程报错

> ID：15239981
> 
> 赞同：1
> 
> 时间：2013-03-06T05:55:27.943
> 
> 标签：android, media-player, gstreamer

我能够成功构建和编译所有 gstreamer 教程。在第 5 个教程的情况下，我将默认 uri 设置为`file://C:/users/abc/desktop/one.mp4`. 成功构建和编译应用程序后，输出屏幕显示未找到此类资源。

另外，在同一个教程中，如果我从 sd 卡中获取文件，在 .mp4 文件的情况下，写入的错误是`"Error received from armvideodec-omxgoogleh 264 decoder: Internal data stream error" and in case of .ts file the error is error received from element decodebin21 : Your Gstreamer installation is missing a plugin`.

logcat 显示`GStreamer+basesrc error. gst_base_src_activate_pull :Failed to start pull mode`。请帮助

# java - 将视图添加到片段视图组

> ID：15239986
> 
> 赞同：0
> 
> 时间：2013-03-06T05:55:34.163
> 
> 标签：java, android, android-fragments, views

我想在某些事件（按下按钮等）上更新片段视图层次结构

这是我的片段代码：

```
public class MyFragment extends Fragment {
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                         Bundle savedInstanceState) 
    {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.fragment_categories_preview, container, false);
    }

    private void updateMainView()
    {
        LayoutInflater inflater = (LayoutInflater)  this.getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);   

        LinearLayout container = (LinearLayout) this.getView().findViewById(R.id.images_preview_container);
        container.removeAllViews();

        int layoutId = R.layout.list_preview;
        int cellLayoutId = R.layout.list_image_view;

        resultView = (ListView) inflater.inflate(layoutId, null);
        resultView.setAdapter(new ImagesListAdapter(inflater, cellLayoutId, this.imagesList));
        resultView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT)); 
        container.addView(resultView);
    }

    // Other functions
    // ...
} 
```

按下按钮时调用函数 updateMainView()。视图未出现在片段中。

我尝试添加空的彩色视图：

```
View test = new View(this.getActivity());
test.setBackgroundColor(0xFFFF0000);
test.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
container.addView(test); 
```

没有结果。

我做错了什么？

# typescript - 为 ASP.Net AJAX String.format 方法创建 TypeScript 定义？

> ID：15239994
> 
> 赞同：4
> 
> 时间：2013-03-06T05:55:45.693
> 
> 标签：typescript

String.format 是这个：http: [//msdn.microsoft.com/en-us/library/bb397701 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/bb397701(v=vs.100).aspx)

请注意，这是 String 类上的静态方法，而不是原型上的方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:18:01.517

您不能在接口上声明静态方法，因此您可能需要实际覆盖`lib.d.ts`String 的定义：

```
declare var String: {
    new (value?: any): String;
    (value?: any): string;
    prototype: String;
    fromCharCode(...codes: number[]): string;
    format(format: string, ...args: any[]) : string;
} 
```

# c# - C# 中的软件负载平衡。公共 IP：将请求转移到不同的服务器

> ID：15239995
> 
> 赞同：0
> 
> 时间：2013-03-06T05:55:47.810
> 
> 标签：c#, load-balancing

我必须实现一个负载均衡器（软件），它将使用循环算法将请求转移到不同的服务器。

**要求：**
配置两台机器。

1.  机器配置了两个 IP
    *   公共 IP (xxx10)
    *   服务器 1 (xxx11)
2.  服务器 2 (xxx12)。

用户将始终请求`http://x.x.x.10/WebApp/home.html`

浏览器中页面的每个请求/刷新都应该以循环方式分配给服务器：

```
x.x.x.10/WebApp/home.html    
x.x.x.11/WebApp/home.html
x.x.x.12/WebApp/home.html
x.x.x.10/WebApp/home.html
x.x.x.11/WebApp/home.html 
```

由于我必须在 C# 中开发，负载均衡器应该是一个库，所以将来我可以将它重新用于其他目的。

由于 xxx10 是公共 IP，我是否必须在 xxx11 托管应用程序上使用 HttpHandler 才能转移呼叫。

# c++ - 大型模型的 glDrawArrays 崩溃

> ID：15239996
> 
> 赞同：0
> 
> 时间：2013-03-06T05:55:51.827
> 
> 标签：c++, opengl

我已经实现了一个简单的（慢速）方法，它可以模仿 OpenGL 即时模式来绘制线条。每一帧，我添加一对顶点，表示向量结构的线，以及添加一些指定或默认颜色到另一个向量结构。

```
void WindowsGraphicsManager::vertex(float x, float y, float z) {
vertices_.push_back(x);
vertices_.push_back(y);
vertices_.push_back(z);
colors_.push_back(vertexColor_.getR());
colors_.push_back(vertexColor_.getG());
colors_.push_back(vertexColor_.getB());
colors_.push_back(vertexColor_.getA());
} 
```

在每一帧结束时，我清除这些向量。我的渲染代码如下所示：

```
void WindowsGraphicsManager::renderVertices(Mat4 mat) {
if (vertices_.size() == 0) {
    return;
}
static Shader* shader = (Shader*) services_->getRM()->get(
    Resource::SHADER, "openglimmediate");
glUseProgram(shader->getId());
shader->setMatrix4(Shader::WVP, mat);
glEnableVertexAttribArray(shader->getHandle(Shader::POS));
glVertexAttribPointer(shader->getHandle(Shader::POS),
    3, GL_FLOAT, GL_FALSE, 0, &vertices_[0]);
glEnableVertexAttribArray(shader->getHandle(Shader::COL));
glVertexAttribPointer(shader->getHandle(Shader::COL),
    4, GL_FLOAT, GL_FALSE, 0, &colors_[0]);
//LOGI("Before crash.");
//LOGI("Vertices size: %d", vertices_.size());
//LOGI("Colors size: %d", colors_.size());
//INFO: Vertices size: 607590
//INFO: Colors size: 810120
glDrawArrays(GL_LINES, 0, vertices_.size() / 3);
CHECK_GL_ERROR("Rendering lines.");
//LOGI("After crash.");
glDisableVertexAttribArray(shader->getHandle(Shader::COL));
glDisableVertexAttribArray(shader->getHandle(Shader::POS));
vertices_.clear();
colors_.clear(); 
```

}

当我将 607590 个浮点数（顶点除以 3）添加到顶点向量时，使用 glDrawArrays 函数在线渲染崩溃。奇怪的是，当我第一次最大化窗口并渲染时，它适用于具有 607590 个浮点数的模型，尽管对于具有 ~800k 个浮点数的模型它仍然崩溃。

这可能是什么原因造成的？

**[编辑] 在渲染顶点之前，我调用了另一种方法。删除它后，渲染停止崩溃，所以我想我在这里做错了。**

```
inline void WindowsGraphicsManager::renderNode(
Node* node, Mat4 mat, bool ortho)
{
if (!node->getState(Node::RENDERABLE)) {
    return;
}

// Retrieve model data.
Renderable* renderable = 0;
Resource* resource = 0;
if (node->hasResource(Resource::SPRITE)) {
    resource = node->getResource(Resource::SPRITE);
    renderable = dynamic_cast<Renderable*>(resource);
}
else if (node->hasResource(Resource::STATIC_OBJECT)) {
    resource = node->getResource(Resource::STATIC_OBJECT);
    renderable = dynamic_cast<Renderable*>(resource);
    StaticObject* so = static_cast<StaticObject*>(resource);
    // Check for frustum culling.
    if (so->getBoundingVolume() != 0
        && so->getBoundingVolume()->isInFrustum(
        services_->getCamera(), node->getPos())
        == BoundingVolume::OUTSIDE)
    {
        return;
    }
}
else if (node->hasResource(Resource::DYNAMIC_OBJECT)) {
    resource = node->getResource(Resource::DYNAMIC_OBJECT);
    renderable = dynamic_cast<Renderable*>(resource);
}

if (renderable == 0) {
    LOGW("Renderable with name \"%s\" is null.",
        node->getName().c_str());
    return;
}

// Retrieve node shader or use default.
Shader* shader = static_cast<Shader*>(
    node->getResource(Resource::SHADER));
if (shader == 0) {
    LOGW("Unable to retrieve shader for node: %s.",
        node->getName().c_str());
    return;
}
int shaderId = shader->getId();

// Select shader program to use.
glUseProgram(shaderId);
CHECK_GL_ERROR("glUseProgram");

Mat4 res;
if (!ortho) {
    Matrix::multiply(mat, node->getMatrix(), res);
}
else {
    Mat4 tmp;
    Mat4 pos;
    Mat4 rot;
    Mat4 scale;
    Vec3 p = node->getPos();
    Vec3 r = node->getRot();
    Vec3 s = node->getScale();
    float width = s.getX();
    float height = s.getY();
    float x = p.getX();
    float y = p.getY();
    Matrix::translate(pos, x, y, p.getZ());
    Matrix::rotateXYZ(rot, r.getX(), r.getY(), r.getZ());
    Matrix::scale(scale, width, height, 1.0f);
    Matrix::multiply(mat, pos, res);
    Matrix::multiply(res, rot, tmp);
    Matrix::multiply(tmp, scale, res);
}
// World * View * Projection matrix.
shader->setMatrix4(Shader::WVP, res);
// World matrix.
shader->setMatrix4(Shader::W, node->getMatrix());
// Normal matrix.
if (shader->hasHandle(Shader::N)) {
    Mat3 normalMatrix;
    Matrix::toMat3(node->getMatrix(), normalMatrix);
    shader->setMatrix3(Shader::N, normalMatrix);
}
// Light position.
float* lightPos = new float[lights_.size() * 3];
if (lights_.size() > 0 && shader->hasHandle(Shader::LIGHT_POS)) {
    for (UINT i = 0; i < lights_.size(); i++) {
        Vec3& pos = lights_[i]->getPos();
        lightPos[i * 3 + 0] = pos.getX();
        lightPos[i * 3 + 1] = pos.getY();
        lightPos[i * 3 + 2] = pos.getZ();
    }
    shader->setVector3(Shader::LIGHT_POS, lightPos, lights_.size());
}
delete lightPos;
// Light count.
shader->setInt(Shader::LIGHT_COUNT, lights_.size());
//shader->setVector3(Shader::LIGHT_POS,
//  services_->getEnv()->getSunPos()->toArray());
// Eye position.
shader->setVector3(Shader::EYE_POS,
    services_->getCamera()->getPos().toArray());
// Fog color.
if (shader->hasHandle(Shader::FOG_COLOR)) {
    shader->setVector3(Shader::FOG_COLOR,
        services_->getEnv()->getFogColor());
}
// Fog density.
shader->setFloat(Shader::FOG_DENSITY, services_->getEnv()->getFogDensity());
// Timer.
shader->setFloat(Shader::TIMER,
    (float) services_->getSystem()->getTimeElapsed());
// Bind combined buffer object.
if (renderable->getCBO() > 0) {
    int stride = renderable->getVertexStride();
    glBindBuffer(GL_ARRAY_BUFFER, renderable->getCBO());
    if (shader->hasHandle(Shader::POS)) {
        glEnableVertexAttribArray(shader->getHandle(Shader::POS));
        glVertexAttribPointer(
            shader->getHandle(Shader::POS), 3, GL_FLOAT, GL_FALSE,
            stride, ((char*) 0) + renderable->getPosOffset());
    }
    if (renderable->getNormalOffset() != -1
        && shader->hasHandle(Shader::NORMAL)) {
        glEnableVertexAttribArray(shader->getHandle(Shader::NORMAL));
        glVertexAttribPointer(
            shader->getHandle(Shader::NORMAL), 3, GL_FLOAT, GL_FALSE,
            stride, ((char*) 0) + renderable->getNormalOffset());
    }
    if (renderable->getUVOffset() != -1 && shader->hasHandle(Shader::UV)) {
        glEnableVertexAttribArray(shader->getHandle(Shader::UV));
        glVertexAttribPointer(
            shader->getHandle(Shader::UV), 2, GL_FLOAT, GL_FALSE,
            stride, ((char*) 0) + renderable->getUVOffset());

    }
    glBindBuffer(GL_ARRAY_BUFFER, 0);
}
else {
    return;
}
// Bind cube map.
if (node->hasResource(Resource::CUBE_MAP)
    && shader->hasHandle(Shader::CUBE_MAP)) {
    glActiveTexture(GL_TEXTURE0);
    CHECK_GL_ERROR("glActiveTexture");
    CubeMap* t = static_cast<CubeMap*>(
        node->getResource(Resource::CUBE_MAP));
    glBindTexture(GL_TEXTURE_CUBE_MAP, t->getId());
    CHECK_GL_ERROR("glBindTexture");
    glUniform1i(shader->getHandle(Shader::CUBE_MAP), 0);
    CHECK_GL_ERROR("glUniform1i");
}

int hTextures[8];
hTextures[0] = glGetUniformLocation(shader->getId(),
    SHADER_MAIN_TEXTURE);
// Bind the texture.
vector<Resource*> textures = node->getResources(Resource::TEXTURE_2D);
UINT size = textures.size() < 8 ? textures.size() : 7;
UINT texture = 0;
for (UINT i = 0; i < size; i++) {
    texture = i + 1;
    const string& name = textures[i]->getName();
    Texture2D* tex = static_cast<Texture2D*>(textures[i]);
    string textName = name.substr(0, name.length() - 4);

    hTextures[texture] = glGetUniformLocation(shader->getId(),
        textName.c_str());
    if (hTextures[texture] == -1) {
        continue;
    }
    glActiveTexture(GL_TEXTURE0 + i + 1);
    CHECK_GL_ERROR("glActiveTexture");
    glBindTexture(GL_TEXTURE_2D, tex->getId());
    CHECK_GL_ERROR("glBindTexture");
    glUniform1i(hTextures[texture], texture);
    CHECK_GL_ERROR("glUniform1i");
}

// Render node.
//      BoundingVolume* volume = (*model->getBoundingVolumes())[i];
//      if (model->hasBoundingVolumes()) {
//          if (volume->isInFrustum(services_->getCamera(), node)
//              == BoundingVolume::OUTSIDE) {
//              continue;
//          }
//      }

int renderType;
switch (renderable->getRenderType()) {
    case Renderable::RENDER_TYPE_POINTS:
        renderType = GL_POINTS;
        //glPointSize(renderable->getPointSize());
    break;
    case Renderable::RENDER_TYPE_LINES:
        renderType = GL_LINES;
        glLineWidth(renderable->getLineWidth());
    break;
    case Renderable::RENDER_TYPE_TRIANGLE_FAN:
        renderType = GL_TRIANGLE_FAN;
    break;
    case Renderable::RENDER_TYPE_TRIANGLE_STRIP:
        renderType = GL_TRIANGLE_STRIP;
    break;
    default:
        renderType = GL_TRIANGLES;
    break;
}

if (renderable->getWindingType() == Renderable::WINDING_TYPE_CCW) {
    glFrontFace(GL_CCW);
}
else {
    glFrontFace(GL_CW);
}

if (renderable->getCullFace()) {
    glEnable(GL_CULL_FACE);
}
else {
    glDisable(GL_CULL_FACE);
}
UINT renderCount = renderable->getRenderCount();
int lastTexture = 0;
for (UINT i = 0; i < renderable->getRenderCount(); i++) {
    renderable->setRenderable(i);
    // Ambient material color.
    if (shader->hasHandle(Shader::AMBIENT)) {
        shader->setVector3(Shader::AMBIENT,
            renderable->getAmbient().toArray());
    }
    // Diffuse material color.
    if (shader->hasHandle(Shader::DIFFUSE)) {
        shader->setVector3(Shader::DIFFUSE,
            renderable->getDiffuse().toArray());
    }
    // Specular material color.
    if (shader->hasHandle(Shader::SPECULAR)) {
        shader->setVector3(Shader::SPECULAR,
            renderable->getSpecular().toArray());
    }
    // Specular material color intensity.
    shader->setFloat(Shader::SPECULARITY, renderable->getSpecularity());
    // Model transparency.
    shader->setFloat(Shader::TRANSPARENCY, renderable->getTransparency());
    // Bind main texture.
    if (renderable->getTexture() != lastTexture
        && hTextures[0] != -1) {
        lastTexture = renderable->getTexture();
        if (shader->hasHandle(Shader::MAIN_TEXTURE)) {
            if (lastTexture == 0) {
                shader->setFloat(Shader::MAIN_TEXTURE, 0.0f);
            }
            else {
                shader->setFloat(Shader::MAIN_TEXTURE, 1.0f);
            }
        }
        glActiveTexture(GL_TEXTURE0);
        CHECK_GL_ERROR("glActiveTexture");
        glBindTexture(GL_TEXTURE_2D, renderable->getTexture());
        CHECK_GL_ERROR("glBindTexture");
        glUniform1i(hTextures[0], 0);
        CHECK_GL_ERROR("glUniform1i");
    }
    if (renderable->getIBO() > 0) {
        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER,
            renderable->getIBO());
        if (renderable->getIndexType() ==
            Renderable::INDEX_TYPE_USHORT) {
            glDrawElements(renderType,
                renderable->getIndexCount(),
                GL_UNSIGNED_SHORT,
                0);
            CHECK_GL_ERROR("glDrawElements");
        }
        else {
            glDrawElements(renderType,
                renderable->getIndexCount(),
                GL_UNSIGNED_INT,
                0);
            CHECK_GL_ERROR("glDrawElementsInt");
        }
    }
    else {
        glDrawArrays(renderType, 0, renderable->getVertexCount() / 3);
        CHECK_GL_ERROR("glDrawArrays");
    }
}
//// Unbind the cube map.
//if (node->hasResource(Resource::CUBE_MAP)) {
//  glBindTexture(GL_TEXTURE_CUBE_MAP, 0);
//}
//// Unbind the textures.
//for (UINT i = 0; i < 8; i++) {
//  glActiveTexture(GL_TEXTURE0 + i);
//  CHECK_GL_ERROR("glActiveTexture");
//  glBindTexture(GL_TEXTURE_2D, 0);
//}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:14:01.933

所以问题是在这部分代码之后调用 glBindBuffer() ：

```
// Bind combined buffer object.
if (renderable->getCBO() > 0) {
    int stride = renderable->getVertexStride();
    glBindBuffer(GL_ARRAY_BUFFER, renderable->getCBO());
    if (shader->hasHandle(Shader::POS)) {
        glEnableVertexAttribArray(shader->getHandle(Shader::POS));
        glVertexAttribPointer(
            shader->getHandle(Shader::POS), 3, GL_FLOAT, GL_FALSE,
            stride, ((char*) 0) + renderable->getPosOffset());
    }
    if (renderable->getNormalOffset() != -1
        && shader->hasHandle(Shader::NORMAL)) {
        glEnableVertexAttribArray(shader->getHandle(Shader::NORMAL));
        glVertexAttribPointer(
            shader->getHandle(Shader::NORMAL), 3, GL_FLOAT, GL_FALSE,
            stride, ((char*) 0) + renderable->getNormalOffset());
    }
    if (renderable->getUVOffset() != -1 && shader->hasHandle(Shader::UV)) {
        glEnableVertexAttribArray(shader->getHandle(Shader::UV));
        glVertexAttribPointer(
            shader->getHandle(Shader::UV), 2, GL_FLOAT, GL_FALSE,
            stride, ((char*) 0) + renderable->getUVOffset());
}
glBindBuffer(GL_ARRAY_BUFFER, 0); 
```

我不得不将 glBindBuffer() 移到同一方法的末尾，并且我还为位置、正常和 UV 缓冲区编写了 glDisableVertexAttribArray。这解决了问题，但我不知道为什么。我认为没有必要为 VBO 调用 glDisableVertexAttribArray。我认为这个问题是 NVIDIA 驱动程序特有的，并为 nvoglv32.dll 提供了第一次机会异常。

# tfs - 非 .NET 支持文件的 TFS 构建查询

> ID：15239998
> 
> 赞同：3
> 
> 时间：2013-03-06T05:55:55.633
> 
> 标签：tfs, tfsbuild

我们使用 TFS 来维护我们数据库的文件版本。

我们的源代码管理中没有任何 .NET 应用程序；仅 HTML 和受支持的 CSS 文件。

是否可以通过 TFS 构建自动化过程创建 Zip 包并将包部署到放置位置？

注意：我们没有任何 .NET 项目或解决方案只需要以 zip 格式部署文件夹（包含 HTML 和支持的文件）。

我在某处读到 TFS 构建定义强制需要 .SLN 文件来构建项目。

我们不想构建任何东西或测试任何东西只想创建 zip 并将其部署到放置位置。

我尝试了一些构建定义的调整。但在“进程”选项卡中的“新建构建”定义中，它会询问我要构建的项目，我的选择仅限于 .NET 支持的文件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T08:09:16.487

您将需要创建一个自定义`MSBuild`项目文件 (.proj) 来执行您需要的工作。您可以在命令行中本地测试此文件，然后当它准备好时，您可以将构建过程指向它。

这对您来说是一个很好的起点[http://www.developerfusion.com/article/84411/customising-your-build-process-with-msbuild/](http://www.developerfusion.com/article/84411/customising-your-build-process-with-msbuild/)

( [https://github.com/loresoft/msbuildtasks](https://github.com/loresoft/msbuildtasks)`MSBuild Community Tasks` ) 包含一个 Zip 任务，它应该使工作更容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T23:10:44.983

从您的描述来看，您使用的是 2010 或更高版本。我要做的是创建一个自定义构建模板，它可以满足您的所有需求。如果您从默认模板开始，显然您会想要删除所有编译和测试活动并将其替换为 zip 并将其复制到二进制目录（从那里它将被移动到 drop）。您可以为解决方案文件要求做两件事中的一件，在工作区中创建一个假的解决方案文件并使用它知道它不会被编译。或者，您可以在模板中删除 Argument BuildSettings，它是包含解决方案文件和配置的对象。

# windows - windows phone 7中双击时如何更改画布控件的背景颜色

> ID：15239999
> 
> 赞同：1
> 
> 时间：2013-03-06T05:56:02.970
> 
> 标签：windows, windows-phone-7

请告诉我，当双击发生时如何更改 Canvas 控件的背景颜色以及再次发生双击时，必须在 windows Phone 7 中更改以前的颜色（在画布控件中来回应用颜色）。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:52:00.913

首先，在 XAML 中为 Canvas 控件设置 x:Name 属性 - 例如 x:Name="canvas"。在后面的代码中，将其作为变量引用并使用以下代码更改背景：

```
canvas.Background = new SolidColorBrush(Color.Red) 
```