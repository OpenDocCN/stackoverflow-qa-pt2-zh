# StackOverflow 问答 15021000-15021999

# ios - 找不到文件 Google Maps SDK for iOS

> ID：15021006
> 
> 赞同：7
> 
> 时间：2013-02-22T09:38:42.730
> 
> 标签：ios, google-maps, ios5, google-maps-sdk-ios

昨天我收到一封来自谷歌的电子邮件，说我可以访问 ios 的地图 api，我从应用程序控制台生成了我的密钥，我按照[https://developers.google.com/maps/documentation/ios/start](https://developers.google.com/maps/documentation/ios/start)的步骤操作但是 xcode 抛出这个错误。

```
#import <GoogleMaps/GoogleMaps.h> //file not found 
```

谢谢你的支持。

出现 Headers 可执行文件而不是文件夹是正常的吗？

![在此处输入图像描述](../Images/c73983d10567126cd9526ab069f5cf22.png)

解决了！

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-26T16:59:20.393

最后我找到了解决我的问题的方法：

**1**提取版本中的子文件夹 A 并将其重命名为 `GoogleMaps.framework`

**2**将此文件夹复制到您的项目文件夹。

![在此处输入图像描述](../Images/2bb53af0da3a40626e471ce75e51b6a4.png)

**3**将其添加到项目中的 Frameworks 组中

![在此处输入图像描述](../Images/854242258876f3f6f2ccb7fca10e2070.png)

**4**导入到 AppDelegate 为`#import "GoogleMaps/GoogleMaps.h"`

我将为有同样问题的人编辑图像。

感谢所有帮助过我的人。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-03-06T11:59:50.890

确保使用能够理解符号链接的东西解压缩 SDK。

`GoogleMaps.framework/Headers`是指向 的符号链接`GoogleMaps.framework/Versions/A/Headers`。

当我在我的 Mac 上解压缩它时，符号链接设置正确。但是当我在我的电脑上解压缩它而不是符号链接时，我得到的文本文件只包含路径（例如`Versions/Current/Headers`）。

如果您在 PC 上解压缩，然后将文件夹复制到您的 Mac（或使用其他不创建符号链接的方法解压缩），那么您将看到您看到的错误。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-02-25T16:34:59.290

尝试这个：

> 将**GoogleMaps.framework**包拖到项目的 Frameworks 组中。出现提示时，选择将项目复制到目标组的文件夹中。

您必须将解压缩的文件夹“ **GoogleMaps.framework** ”复制到**XCode**中。

然后按照步骤 3 和 4

> 3\. 右键单击​​项目中的**GoogleMaps.framework**，然后选择 Show In Finder。
> 
> 4\. 将**GoogleMaps.bundle**从 Resources 文件夹拖到您的项目中。我们建议将它放在框架组中。出现提示时，确保未选择将项目复制到目标组的文件夹。

如果仍然无法正常工作，请尝试在 Build Phases 选项卡-> **Link Binary** with **Libraries中手动添加 GoogleMaps.framework**

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-26T01:04:05.257

这是您需要的前几个步骤：

*   `GoogleMaps-iOS-1.1.0.zip`从他们的网站下载
*   解压缩文件。你现在有一个`GoogleMaps-iOS-1.1.0`文件夹
*   在该文件夹中，您有一个`GoogleMaps.framework`文件夹。
*   将文件夹复制或移动`GoogleMaps.framework`到项目文件夹内（在 Finder 中）。
*   将`GoogleMaps.framework`文件夹拖到`Frameworks`Xcode 中的组中。
*   在选项表中，取消选中“将项目复制到目标组的文件夹”。确保在“添加到目标”中选中您的目标。单击确定。
*   （请注意，您也可以通过其他方式执行此操作，不将其复制到项目文件夹并选中“将项目复制到目标组的文件夹”。Xcode 将复制文件夹本身。）

*   使用导入`#import "GoogleMaps/GoogleMaps.h"`。尖括号通常也可以使用，但在这种情况下它应该使用引号。

你应该得到一个金色的工具箱图标：

![在此处输入图像描述](../Images/2e6d9d8a62518751a95cbf94b134d256.png)

使用`#import`带尖括号应该搜索系统框架，然后在您的项目文件夹中，但为了安全起见，请尝试使用引号。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-03-06T06:54:09.337

我已经为这个问题苦苦挣扎了好几个小时；我正在使用 CocoaPods、Swift 和 Xcode 6.1.1。我仔细按照在我的项目中包含 GoogleMaps 的所有步骤，尝试了许多不同的方法，例如在下载的包中删除符号链接或在构建阶段手动链接二进制文件或尝试`#include "GoogleMaps.h"`，`#include "GoogleMaps/GoogleMaps.h"`而`"#include <GoogleMaps/GoogleMaps.h>`在我的桥文件中，这些都不起作用......最后使用 CocoaPods 而不是我自己包含框架并且它有效！希望它可以帮助那里的人：

在 Podfile 中：

`pod 'Google-Maps-iOS-SDK', '~> 1.9.2'`

在您的 Bridge 文件中：

`#import "GoogleMaps.h"`

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-22T10:44:24.510

GoogleMaps 框架可能不在 Library 文件夹中，而是在与所有其他项目文件相同的目录中。在这种情况下，您必须写`#import "GoogleMaps/GoogleMaps.h`或`#import "GoogleMaps.h"`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-06-21T16:53:15.463

make sure you upgrade to the latest sdk. v1 and v3 were different. had trouble getting v1 to work

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-06-04T16:47:24.797

可能你在更改 Podfile 后忘记了，你必须运行

> 吊舱更新

然后重新运行 react-native run-ios

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-06-18T12:09:55.643

最好为谷歌地图安装 Pod，只需将谷歌地图添加到 pod 中。请注意，如果您的项目文件夹 ios/ 中没有 pod 文件，请执行以下步骤 pod init

在您的 pod 文件中添加以下代码

```
platform :ios, '9.0'

target 'YourAppTarget' do
  pod 'GoogleMaps'  # <~~ remove this line if you do not want to support GoogleMaps on iOS
end
# pre_install do |installer|
   # copied from https://github.com/CocoaPods/CocoaPods/issues/2926
   # workaround for https://github.com/CocoaPods/CocoaPods/issues/3289
  #  def installer.verify_no_static_framework_transitive_dependencies; end
# end

target 'YourAppTarget-tvOS' do

end 
```

不要忘记将 AirGoogleMaps 从 node_modules/react-native-maps/lib/ios 添加到您的项目目录

* * *

## 回答 #10

> 赞同：-2
> 
> 时间：2015-06-16T11:42:28.160

这个答案也可能对您有所帮助。经过很长一段时间我发现这样，以上所有答案终于对我不起作用

```
# import "GoogleMapsM4B/GoogleMaps.h" 
```

像这样使用它绝对可以解决您的问题

# php - 使用PHP将多行插入数据库

> ID：15021009
> 
> 赞同：1
> 
> 时间：2013-02-22T09:39:06.650
> 
> 标签：php, sql, database, rows

我有一些复选框，值从 1 到 10，值放在名为“locationID”的列下。问题是，如果我勾选例如 2 个框，它只选择输入两个框的最大值，我希望为每个我勾选的框添加一个新行。

我的数据库结构：表名：事件
列：column1，column2..，locationID

复选框 php 代码示例：

```
<input class="checkboxarna" name="locationID" style="z-index: 1;position: relative;" type="checkbox" value="1"> 
```

PHP 中的 MySQL 查询：http: [//pastebin.com/ri7LCib2](http://pastebin.com/ri7LCib2)

我已经在谷歌和这里搜索过，但是因为我目前不太擅长 PHP，所以“理解别人的代码并将其转换为适合我的代码”对我来说真的很难，希望你能接受。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T10:16:52.273

```
<form action="test.php" method="post">
<input type="checkbox" name="check_list[]" value="value 1">
<input type="checkbox" name="check_list[]" value="value 2">
<input type="checkbox" name="check_list[]" value="value 3">
<input type="checkbox" name="check_list[]" value="value 4">
<input type="checkbox" name="check_list[]" value="value 5">
<input type="submit" />
</form>
<?php
if(!empty($_POST['check_list'])) {
    foreach($_POST['check_list'] as $check) {
            echo $check;
            // Run Your Insert query here. 
    }
} 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:07:41.483

您需要将表单更改为：

```
<input type="checkbox" name="locationID[]" value="1" />A<br />
<input type="checkbox" name="locationID[]" value="2" />B<br />
<input type="checkbox" name="locationID[]" value="3" />C<br /> 
```

然后你的 php 需要一个循环来遍历这些值：

```
$loc= $_POST['locationID'];
if ( empty( $loc ) ) {
  echo("You didn't select any checkboxes");
} else {
  for( $i = 0; $i < count($loc); $i++ ) {
    //echo( $loc[$i] . " " ); //ideally insert into DB here
    mysql_query("INSERT INTO event 
         (EventName, EventStart, EventEnd, FromDate, ToDate, locationID, EventValue, isActive, photo)
          VALUES
           ('$_POST[namn]',
            '$_POST[eventstart]',
            '$_POST[eventend]',
            '$_POST[startdate]',
            '$_POST[enddate]',
            '$loc[$i]',
            '$AddValue',
            '$isActive',
            '$pic'
           )
         ");
       }
     } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:07:10.100

```
$location_ids = $_POST['location_id'];
if(!empty($location_ids)){
 foreach($location_ids as $location_id)
 {
    if($location_id == 'on' || $location_id)
    {
  mysql_query("INSERT INTO event (EventName, EventStart, EventEnd, FromDate,  
      ToDate,          locationID, EventValue, isActive, photo)
      VALUES

      ('$_POST[namn]','$_POST[eventstart]','$_POST[eventend]','$_POST[startdate]',
       '$_POST[enddate]', '$_POST[locationID]','$AddValue','$isActive','$pic')");

     /* Sending locationID to jointable */
     mysql_query("INSERT INTO `jointable` VALUES('','".$_POST["locationID"]."')");
  }
 }
 mysql_close($con); 
```

# sql - 将 Reporting Services 表达式转换为 SQL

> ID：15021011
> 
> 赞同：0
> 
> 时间：2013-02-22T09:39:09.880
> 
> 标签：sql, sql-server, reporting-services

我正在尝试修改报告，我需要根据一列中的数据排除多行，该列的表达式为：

```
=iif(sum(iif(left(Fields!crs_group.Value,1) = "G",1,0)
     ,"GrpCourse")=0,"n/a",
     sum(iif(Fields!crs_group.Value="Enrolled on Course",1,0))
     - sum(iif(left(Fields!crs_group.Value,1) = "G",1,0))) 
```

我想如果我可以将它转换为 SQL，我可以过滤掉查询中的那些行。到目前为止，我的代码是：

```
CASE WHEN SUM(CASE WHEN LEFT(sub.crs_group, 1) = 'G' 
THEN 1 ELSE 0 END)=0 THEN 999999999
ELSE SUM(CASE WHEN sub.crs_group = 'Enrolled on Course' 
THEN 1 ELSE 0 END) - SUM(CASE WHEN LEFT(sub.crs_group,1) = 'G' 
THEN 1 ELSE 0 END)
END AS NumberNotInGroups 
```

但是，这不会在报告运行时给出匹配的结果。我已将“n/a”更改为 999999999，因为我得到了从 VARCHAR 到 INT 的转换错误。我尝试转换为 VARCHAR 但没有成功。任何帮助将不胜感激，昨天整个下午都在试图弄清楚。

编辑

这是完整的查询：

```
 SELECT        
sub.course, 
sub.crs_group,
m.m_reference, 
me.e_status, 
me.e_id,
s.s_studentreference,
p.p_forenames,
p.p_surname,
pcd.p_surname + ',' + pcd.p_forenames as course_dir,
CASE WHEN SUM(CASE WHEN LEFT(sub.crs_group, 1) = 'G' THEN 1 ELSE 0 END)=0 THEN 999999999
     ELSE SUM(CASE WHEN sub.crs_group = 'Enrolled on Course' THEN 1 ELSE 0 END) - SUM(CASE WHEN LEFT(sub.crs_group,1) = 'G' THEN 1 ELSE 0 END)
END AS NumberNotInGroups

FROM            
msql.unitesnapshot.dbo.capd_moduleenrolment AS me 
INNER JOIN msql.unitesnapshot.dbo.capd_module AS m ON me.e_module = m.m_id
LEFT JOIN msql.unitesnapshot.dbo.capd_staff scd on m.m_modulesupervisor = scd.s_id
LEFT JOIN msql.unitesnapshot.dbo.capd_person pcd on scd.s_id = pcd.p_id
INNER JOIN msql.unitesnapshot.dbo.capd_student s on me.e_student = s.s_id
INNER JOIN msql.unitesnapshot.dbo.capd_person p on s.s_id = p.p_id
INNER JOIN (SELECT

            m.m_id,
            CASE WHEN m.m_reference not like '%G_' THEN m.m_reference ELSE LEFT(m.m_reference, charindex('G', m.m_reference) - 1) END AS course, 
            CASE WHEN m.m_reference not like '%G_' THEN 'Enrolled on Course' ELSE RIGHT(m.m_reference, 2) END AS crs_group

            FROM

            unitesnapshot.dbo.capd_module m) sub ON sub.m_id = me.e_module

WHERE        
me.e_status = 'A' AND 
LEFT(m.m_reference, 2) = '12' AND 
SUBSTRING(m.m_reference, 7, 2) in ('VF','AB','FB')

GROUP BY

sub.course, 
sub.crs_group,
m.m_reference, 
me.e_status, 
me.e_id,
s.s_studentreference,
p.p_forenames,
p.p_surname,
pcd.p_surname + ',' + pcd.p_forenames

ORDER BY 
p.p_surname 
```

这是 SSRS 中的正确结果：

![在此处输入图像描述](../Images/f2e6c6834489910288e6ac40478d1f69.png)

这是 sql-server 中的错误结果，它应该显示 1 而不是 99999999：

![在此处输入图像描述](../Images/8d33d9cae4eff8c8bf59a781b8635ece.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:46:12.320

您可能需要更好地解释问题并显示查询的更多详细信息。您似乎正在尝试显示那些注册了未分组的人的课程。但是，您使用相同的字段 ,`crs_Group`来显示他们是简单注册还是在一个组中。现在，如果`crs_Group`等于“Enrolled on Course”但在他们加入小组时更改为以 G 开头的内容，那么当课程中有更多人加入小组时，你的等式应该给出一个负数。

因此，也许最好计算每个参加课程的人减去小组中的人，最终得到课程中的人，而不是小组中的人：

```
SELECT CourseName, 
  COUNT(*) - SUM(CASE WHEN LEFT(crs_group, 1) = 'G' THEN 1 END) AS NumberNotInGroups
FROM Courses
GROUP BY CourseName
HAVING COUNT(*) - SUM(CASE WHEN LEFT(crs_group, 1) = 'G' THEN 1 ELSE 0 END) <> 0 
```

此查询过滤掉每个人都在一个组中的课程。

# xcode - Xcode 4.6 中不稳定的 git 状态 - 手动刷新在“已修改”和“无更改”之间交替状态

> ID：15021014
> 
> 赞同：0
> 
> 时间：2013-02-22T09:39:12.500
> 
> 标签：xcode, macos, git

在 Xcode 4.6 下，git status 的行为非常不稳定。这是新提交后的示例（例如终端中的“git status”显示没有更改）：

1.  我修改了一个文件，所以“M”出现在边栏中。
2.  我转到“文件-> 源代码管理-> 刷新状态”，然后“M”消失了！
3.  我转到“文件-> 源代码管理-> 刷新状态”，然后“M”又出现了！

根据需要重复步骤 2 或 3。总是刷新“M”和“no-M”之间的选择。这可能是什么原因造成的？有什么想到的吗？

我可以以某种方式调试它以跟踪可能发生的情况吗？

我尝试删除整个 DerivedData，清除 Organizer 中的存储库，然后重新启动 Xcode，但没有任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T14:29:28.813

类似的事情发生在我身上，我继续提交，然后“M”消失，几秒钟后，它重新出现，如果我再次尝试提交，它允许我再次提交，但所有文件显示零更改。然后M消失并再次出现。

我发现解决此问题的唯一方法是奇怪地在代码中插入注释然后提交。M应该消失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T21:16:38.673

就我而言，事实证明，这个问题与我将存储库中的许多文件从“CamelCase”重命名为“小写”这一事实有关，包括我的项目文件和文件夹。这一定是在某个地方被不恰当地跟踪了。

OS X 默认使用不区分大小写的文件系统，而 git 在内部是区分大小写的，我相信问题与此有关。

这些是我用来解决此问题的步骤。如果您认为您的问题可能是由于更改了文件名的大小写，这也可能对您有所帮助。

1.  转到存储库的根目录，然后使用“ls -la”（也可以查看所有隐藏文件）和“rm”/“rm -rf”命令从其中删除除 .git 文件夹之外的所有内容。
2.  执行“git reset --hard”以取回所有文件。您现在可能会看到文件名的大小写已更改。就我而言，在我的工作副本的根目录中，“myapp.xcodeproj”和“myapp”（包含所有代码文件的文件夹）已更改为“MyApp.xcodeproj”和“MyApp”（文件夹）。我以为我已经把它改成了小写，但显然，这并没有被 git 正确跟踪。
3.  现在，将您的文件重命名为不相关的名称。例如，我将“MyApp.xcodeproj”重命名为“foo.xcodeproj”，将“MyApp”重命名为“foo”。
4.  然后执行“git add --all”
5.  现在，将您的文件重命名为您想要的名称。我将“foo.xcodeproj”重命名为“myapp.xcodeproj”，将“foo”重命名为“myapp”，这就是我希望它开始的方式（以及我认为我已经完成的方式）。
6.  再做一次“git add --all”。
7.  犯罪。

现在你的生活应该会更好，Xcode 应该表现良好，因为 git 现在看到的文件与 Xcode 项目完全相同（具有完全相同的大小写）。

# php - 检查html中是否存在单词并在该单词后附加注册商标符号

> ID：15021016
> 
> 赞同：0
> 
> 时间：2013-02-22T09:39:16.033
> 
> 标签：php, javascript

再会。

是否可以检查 HTML 页面中是否存在某个词，如果该词存在，请在该词后附加**上标注册商标符号**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:43:00.687

php:

```
$document = 'A string containing the contents of the html document.';
str_replace('Nike','Nike&#0153;',$document); 
```

# c# - 如何以编程方式将文本框大小分配给自动？

> ID：15021021
> 
> 赞同：3
> 
> 时间：2013-02-22T09:39:30.503
> 
> 标签：c#, wpf, windows-phone-7

我是 Windows Phone 开发的新手。我需要以编程方式将文本块大小分配给自动。这该怎么做 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:13:39.043

如果您查看 MSDN 上的[FrameworkElement.Width文档](http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.width.aspx)

> 除了可接受的 Double 值之外，此属性还可以是 Double.NaN。这是您指定自动调整大小行为的方式。在 XAML 中，您将值设置为字符串“Auto”（不区分大小写）以启用自动调整大小行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-23T17:37:37.753

.NET中未设置的任何数字双精度或单值都可以作为“类型”传递。NaN，或“不是数字”。

双.NaN 单.NaN

在控件属性的情况下，例如高度或宽度，这表示未初始化或自动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-23T15:54:11.020

以前的答案不回应实际问题，这与以编程方式设置宽度/高度有关，而不是在 XAML 中。为此，只需创建控件并将其添加到其容器而不设置 height 属性 - 如果它是文本控件（文本框、文本块），请确保将 .TextWrapping 属性设置为 TextWrapping.Wrap （也建议：设置VerticalAlignment 属性为 System.Windows.VerticalAlignment.Top）。

# c# - 使用相对源和依赖属性进行绑定 - MVVM

> ID：15021022
> 
> 赞同：0
> 
> 时间：2013-02-22T09:39:38.337
> 
> 标签：c#, wpf, data-binding, mvvm, viewmodel

有人可以解释一下与 MVVM 绑定的相对源祖先特性吗？基本上，依赖属性通过视图模型绑定到具有上述概念的按钮。对样本进行一些解释会很棒。否则一些链接也可以。

编辑1：

```
<Button Name="button1" Content ="Edit" Margin="0, 0, 5, 0" Style="{StaticResource button}"  
        Grid.Column="0" Visibility="{Binding cMode, Converter={StaticResource VisibilityConverter}, ConverterParameter={StaticResource invert}}"  
        Click="EditButton_Click"  
        IsEnabled="{Binding Path= Data.User.CanEdit, RelativeSource={RelativeSource FindAncestor, AncestorType=views:SCView, AncestorLevel=1}}"/> 
```

CanEdit 也是一个依赖属性

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:50:32.563

它搜索元素 Ancestors，直到找到 AncestorType 的元素。该元素将被视为 Source。

在以下示例中，Button 将具有与 Grid 相同的宽度：

```
<Grid Width="100"> <!--Level=2-->
    <Border> <!--Level=1-->
        <Button Width="{Binding RelativeSource={RelativeSource AncestorType={x:Type Grid}}, Path=ActualWidth}"/>
    </Border>
</Grid> 
```

此外，您可以通过设置 AncestorLevel 来设置要搜索的级别。

# java - 如何摆脱 Java 中过多的空值检查？

> ID：15021024
> 
> 赞同：4
> 
> 时间：2013-02-22T09:39:41.060
> 
> 标签：java, design-patterns

假设我有一些这样的代码：

```
Vehicle vehicle = vehicleRepostory.findByIdInitialized(vehicleId); 
```

如果`Vehicle`找不到此方法将返回`null`。规范说在这种情况下我必须抛出一个`MyObjectNotFoundException`所以代码变成这样：

```
Vehicle vehicle = vehicleRepostory.findByIdInitialized(vehicleId);
MyObjectNotFoundException.throwIfNull(vehicle, Vehicle.class, vehicleId); 
```

如果我想摆脱对`throwIfNull`. 无论如何，它并不是真正的干燥和糟糕的设计选择。一定有一些我不知道的设计模式。我在网上搜索，但没有找到任何真正有用的东西。

一个简单的解决方案可能是将代码放入我的存储库中，但我为此使用 SpringData，因此它只是一个接口：

```
public interface VehicleRepository extends Repository<Vehicle, Long>

// ...

@Query("select v from Vehicle v LEFT JOIN FETCH v.technicalData td LEFT JOIN FETCH v.registrationData rd"
    + " where v.vehicleId = ?")
Vehicle findByIdInitialized(Long vehicleId); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T09:44:57.587

听起来您基本上希望您的*存储库*支持这一点：

```
Vehicle vehicle = vehicleRepository.loadExisting(vehicleId); 
```

`loadExisting`和之间的区别在于`findByIdInitialized`前者*期望*实体存在，如果不存在则抛出异常。

这样，所有存储库客户端都可以决定在执行查找时是否希望缺少实体导致异常。您甚至可能会发现*所有*按 ID 进行的查找都应该引发异常——在这种情况下，您可以返回使用单一方法。

编辑：如果存储库是自动生成的，我将采用以下三种方法之一：

*   把它包起来
*   扩展它
*   修改生成器

这些选择中的哪一个最合适将取决于确切的细节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:43:39.617

您可以查看 Java 中的 @NotNull 注释。它有几种风格，其中一些在编译时进行验证，其中一些在运行时进行。当您执行可能导致 NPE 的操作时，一些编辑器（例如 IntelliJ IDEA）会警告您。

[我应该使用哪个 @NotNull Java 注释？](https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use) [避免 != null 语句](https://stackoverflow.com/questions/271526/avoiding-null-statements-in-java) [http://docs.oracle.com/javaee/6/api/javax/validation/constraints/NotNull.html](http://docs.oracle.com/javaee/6/api/javax/validation/constraints/NotNull.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:47:49.460

用这个：

```
import static java.util.Objects.requireNonNull;

.
.
.

Object o = requireNonNull(obj); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T09:48:41.893

听起来你想要“在方法返回之后”AOP 建议，它拦截空值并抛出异常。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T09:44:52.433

如果您可以重新设计存储库本身以抛出您需要的异常，那当然是最好的。没有它，您需要修补行为的解决方法。

一种方法是反射：将调用包装在一个以字符串形式`repository`接收并以反射方式调用它的方法中。`findByIdInitialized`然后该方法可以抛出适当的异常。

另一种方法可能是让一些 AOP 来做同样的事情，但可能具有更多的类型安全性。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T09:47:00.063

我建议您在 findByIdInitialized 中添加一个可为空的参数，它会像：

```
Vehicle findByIdInitialized(int vehicleId, boolean throwException) {
   // implementation behavior...

   if (throwException) {
       MyObjectNotFoundException.throwIfNull(vehicle, Vehicle.class, vehicleId);
   }
} 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2013-02-22T09:42:56.740

您可以使用[NullObject](http://en.wikipedia.org/wiki/Null_Object_pattern)设计模式，但抛出异常恕我直言是最好的选择。

为了保持干燥，你应该把那个扔进去`findbyIdInitialized`。

# bash - 如何在bash中连续显示命令输出？

> ID：15021031
> 
> 赞同：0
> 
> 时间：2013-02-22T09:40:05.990
> 
> 标签：bash, output

我的 bash 脚本中有一个代码

`OUTPUT=""yum update`

`echo $OUTPUT`

`echo $OUTPUT >> mylogfile`

`yum update`是一个很长的命令，没有我的脚本，它总是向控制台输出一些东西，但是在我的脚本中它开始了，很长一段时间没有输出，过了一会儿输出了很多数据。我的脚本中有什么方法可以在数据可用时立即输出数据，但在长时间等待后并非所有数据都在同一时间输出？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T09:45:53.873

尝试使用[tee](http://en.wikipedia.org/wiki/Tee_%28command%29)：

```
$ yum update | tee mylogfile 
```

将从 yum 发送标准输出到*shell*（你的屏幕）和`mylogfile`. 根据需要为标准错误添加重定向。

# c# - 使用备用密码登录 asp.net 会员

> ID：15021033
> 
> 赞同：2
> 
> 时间：2013-02-22T09:40:12.773
> 
> 标签：c#, asp.net, login, asp.net-membership, membership-provider

我正在制作一个 ASP.NET 应用程序并使用 ASP.NET 成员资格控件供用户登录。我希望用户可以使用他的普通密码或快速登录（允许用户创建类似于 ATM PIN 的 4 位密码）登录，以获得快速登录体验。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:53:02.147

您需要扩展基本会员提供程序并使用它。这是一个起点。

```
public class DoublePasswordProvider : SqlMembershipProvider
{
    public override bool ValidateUser(string username, string password)
    {
        if (checkPIN(username, password)) return true;
        return base.ValidateUser(username, password);
    }
} 
```

然后编辑 we.config 以使用它：

```
<membership defaultProvider="DoublePasswordProvider">
      <providers>

        <add name="DoublePasswordProvider" type="YourNamespace.DoublePasswordProvider" connectionStringName="ApplicationServices"
             enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false"
             maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10"
             applicationName="/" />
      </providers>
    </membership> 
```

最后使用标准的 asp.net 控件（登录、更改密码、bla bla）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:51:29.230

首先，您可以查看[ASP.NET 登录控件概述](http://msdn.microsoft.com/en-us/library/ms178329%28v=vs.100%29.aspx)和描述的变体。

基本教程可以在以下位置找到：

*   [在 ASP.NET 中使用基本表单身份验证](http://www.asp.net/web-forms/videos/authentication)
*   [如何使用 ASP.NET 成员资格和角色处理 Web 窗体应用程序中的安全性和授权。](http://www.asp.net/web-forms/tutorials/security)
*   [asp.net中的登录控制](http://www.youtube.com/results?search_query=login%20control%20in%20asp.net&oq=login%20con&gs_l=youtube.3.0.0l3j0i5l4.1680.2955.0.4011.9.9.0.0.0.0.79.591.9.9.0...0.0...1ac.1.VkYymlVqAys)

希望有帮助。

# c# - 为什么 AlternationIndex 对 ItemsControl 中的所有项目都返回 0？

> ID：15021034
> 
> 赞同：4
> 
> 时间：2013-02-22T09:40:22.467
> 
> 标签：c#, wpf, datatemplate, itemscontrol

我寻找某种方式来显示`ItemsControl`正在使用的项目索引`DataTemplate`。所以我发现[了这个](https://stackoverflow.com/questions/3451422/wpf-bind-to-item-index-from-within-itemtemplate-of-itemscontrol)好问题。我在那个问题中使用了这个想法，但所有的值都是零！我的代码与该问题中的代码之间的唯一区别是我的控件（将显示索引）不直接在`DataTemplate`. 它在 a`Grid`和 the`Grid`在`DataTemplate`

**这是我的代码：**

```
<ItemsControl ItemsSource="{Binding }">
    <ItemsControl.ItemTemplate>
        <DataTemplate>
            <Grid>
                // column definitions
                <Label Content="{Binding RelativeSource={RelativeSource
                       Mode=TemplatedParent}, 
                       Path=(ItemsControl.AlternationIndex)}"/>
                // some other controls
            </Grid>
        </DataTemplate>
    </ItemsControl.ItemTemplate>
</ItemsControl> 
```

**结果：**

```
0
0
0
// and so on 
```

**我期望显示的内容：**

```
0
1
2
// and so on 
```

这段代码有什么问题？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-22T10:03:51.237

`AlternationCount`需要设置您的属性的属性。

```
<ItemsControl ItemsSource="{Binding }" AlternationCount={Binding CountOfItems}">
<ItemsControl.ItemTemplate>
    <DataTemplate>
        <Grid>
            // column definitions
            <Label Content="{Binding RelativeSource={RelativeSource
                   Mode=TemplatedParent}, 
                   Path=(ItemsControl.AlternationIndex)}"
                   />
            // some other controls
        </Grid>
    </DataTemplate>
</ItemsControl.ItemTemplate> 
```

# php - PHP - 更新和设置不更新数据库？

> ID：15021036
> 
> 赞同：-3
> 
> 时间：2013-02-22T09:40:25.077
> 
> 标签：php, mysql, null, set

**解决了**

在问这个之前我已经搜索过，但什么也没找到，所以我会在这里为将来的任何人写信。但是要修复它，我所要做的就是确保 $username 指向某个东西，我已经在 login.php 脚本中声明了它，但由于某种原因，它没有找到它，所以设置 $username=$_SESSION['myusername ']; 解决了这个问题。

* * *

简而言之，我有一个名为“状态”的列，它是文本，140 个字符。这只是一个乱搞php的测试，所以我可以习惯它。现在起初它正在更新数据库但为空，我意识到我没有将帖子数据设置为 $status 并且在我这样做之后，我更新了数据库两次然后它就停止了工作......页面显示没有错误，但该值与我最后一次更改它时相同（uuu）。

我有一个表格：

```
 <form action="status-update.php" method="post">
    <p>
  <input name="status" type="text" id="status" value="<?PHP echo $query_row[status]; ?>">
  <input type="submit" name="submit" value="Update">
    </p>
  </form> 
```

然后，当按下按钮时，它会将您带到此脚本：

```
<?php
SESSION_START();

//WAMP Login Details
$host = "localhost";
$username="root";
$password="";
$db_name="database";
$tbl_name="members";
mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("Database doesn't exist.");

//Set $status to the post
$status=$_POST['status']; 

//This grabs the data from the form on the settings page and updates
$sql="UPDATE $tbl_name SET status='$status' WHERE username='$username'";
$result=mysql_query($sql);

//if true then redirect else echo error
if($result){
header("location:me.php");
}
else {
echo "ERROR";
}
?> 
```

我试图让它再次将值设置为 null 但我什至不能再这样做了，这很奇怪，因为我是一个菜鸟，我很茫然。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:09:45.897

使用 session_start(); 而不是 SESSION_START();

请确保您的表中是否有一个名为**root的****用户名**！

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:48:05.557

您的代码有几个问题。首先，它使用`mysql_`API​​，而人们总是说这个API已经结束。从 PHP 5.5 开始，它甚至已被弃用。所以尝试使用mysqli或PDO。

然后你必须小心。由于您没有正确转义变量，因此您的 sql 查询容易受到注入的影响。

`or die(mysql_error());`尝试使用mysql_query 调用旁边的众所周知的代码来调试代码怎么样？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:58:12.803

尝试使用 PDO，它更不容易受到错误和攻击。这是使用 PDO 对您的脚本进行的基本更新：

```
<?php

// set PDO dsn by socket
$dsn = 'dbname=DATABASE_NAME;unix_socket=/var/lib/mysql/mysql.sock';

// or by tcp
$dsn2 = 'dbname=DATABASE_NAME;host=localhost;port=3306';

// create connection using sockets change $dsn to $dsn2 to use tcp if using windows or external host
$conn = new PDO('mysql:' . $dsn, USERNAME, PASSWORD);

// prepare query
$pdo = $conn->prepare("UPDATE TABLE_NAME SET status = :status WHERE username = :username");

// set up parameters
$params = ['username' => $_POST['username'], 'status' => $_POST['status']];

// loop through the paramaters to determine the type
foreach ($params as $key => $value) {

    switch ($value) {

        case is_int($value):
            $param = PDO::PARAM_INT;
            break;

        case is_bool($value):
            $param = PDO::PARAM_BOOL;
            break;

        case is_null($value):
            $param = PDO::PARAM_NULL;
            break;

        default:
            $param = PDO::PARAM_STR;
            break;
    }

    // bind paramter to query
    $pdo->bindValue(":$key", $value, $param);
}

// execute the query
$result = $pdo->execute($params);

// if true then redirect else echo error
if ($result) {

    header("location:me.php");

} else {

    echo "ERROR";

} 
```

您也不需要以 结尾`?>`，不要使用它。如果您在结束标记后有空格，它将避免您遇到错误。**

# if-statement - zsh 如果帮助：如果 ping 不成功

> ID：15021037
> 
> 赞同：3
> 
> 时间：2013-02-22T09:40:26.440
> 
> 标签：if-statement, zsh, ping

如果我连接到互联网，我想运行一个脚本。我想的方式是我 crontab 每隔 5 分钟运行一次，它会尝试对网络服务器执行 ping 操作，如果不成功则运行命令，如果成功，我希望它结束​​脚本。

伪代码：

```
#!/bin/zsh
if ping IP is unsuccessful
  echo test
end 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T09:43:02.160

`ping`根据其成功设置退出状态。因此，您可以执行以下操作：

```
#!/bin/zsh
ping -c 1 myhost        # -c pings using one packet only
if [ $? -ne 0 ]; then
   echo "test"
fi 
```

请注意，如果遇到错误，命令将*按照惯例*`$?`将其退出状态 ( )设置为非零。

 *上面的另一个版本是：

```
#!/bin/zsh
if ping -c 1 myhost; then
   echo "test"
fi 
```

哪个更简洁。*

# java - java vCenter SDK如何将多个网络连接到一个vApp？

> ID：15021048
> 
> 赞同：0
> 
> 时间：2013-02-22T09:41:02.647
> 
> 标签：java, networking, sdk, vcloud-director-rest-api

我正在测试 vCloud Java SDK，但网络设置存在一些问题。

我已经实现了从模板创建 vApp，但问题是 vApp 获取了错误的网络接口。

我有两个接口命名（见图）：

![在此处输入图像描述](../Images/cd69a93d18616ac883f29e6dd93713a9.png)

1.) 4PM-GR-test-Routed

2.) 4PM-GR-test-LAN​​-servers-arc-VLAN

当我通过模板创建 vApp 时

```
Vapp vapp = vdc.instantiateVappTemplate(instVappTemplParams); 
```

如果我控制**instVappTemplParams**，则参数中都有两个网络，但最终创建的 vApp 有两个网络，均名为**4PM-GR-test-Routed**

我使用以下代码：

```
public static Vapp newvAppFromTemplate(ReferenceType vAppTemplateReference, Vdc vdc) throws VCloudException {
    System.out.println("Instantiating " + vAppTemplateReference.getName() + " " + vAppTemplateReference.getHref());
    System.out.println("-------------------------------");

    // get the href of the OrgNetwork to which we can connect the vApp network
    if (vdc.getAvailableNetworkRefs().size() == 0) {
        System.out.println("No Networks in vdc to instantiate the vapp");
        System.exit(0);
    }

    List<ReferenceType> networks = new ArrayList<ReferenceType>(vdc.getAvailableNetworkRefs());

    // fill in the NetworkConfigSection
    NetworkConfigSectionType networkConfigSection = new NetworkConfigSectionType();
    MsgType networkInfo = new MsgType();
    networkConfigSection.setInfo(networkInfo);
    List<VAppNetworkConfigurationType> vAppNetworkConfigs = networkConfigSection.getNetworkConfig();

    // specify the NetworkConfiguration for the vApp network
    Iterator<ReferenceType> networkIterator = vdc.getAvailableNetworkRefs().iterator();     
    while(networkIterator.hasNext()){

        ReferenceType networkReference = networkIterator.next();
        System.out.println(networkReference.getName());
        NetworkConfigurationType networkConfiguration = new NetworkConfigurationType();
        networkConfiguration.setParentNetwork(networkReference);
        networkConfiguration.setFenceMode(FenceModeValuesType.BRIDGED.value());

        VAppNetworkConfigurationType vAppNetworkConfiguration = new VAppNetworkConfigurationType();
        vAppNetworkConfiguration.setConfiguration(networkConfiguration);
        vAppNetworkConfiguration.setNetworkName(networkReference.getName());

        vAppNetworkConfigs.add(vAppNetworkConfiguration);
    }

    // fill in remaining InstantititonParams (name, Source)
    InstantiationParamsType instantiationParams = new InstantiationParamsType();
    List<JAXBElement<? extends SectionType>> sections = instantiationParams.getSection();
    sections.add(new ObjectFactory().createNetworkConfigSection(networkConfigSection));

    // create the request body (InstantiateVAppTemplateParams)
    InstantiateVAppTemplateParamsType instVappTemplParams = new InstantiateVAppTemplateParamsType();
    instVappTemplParams.setName("4pm-test-00004");
    instVappTemplParams.setSource(vAppTemplateReference);
    instVappTemplParams.setInstantiationParams(instantiationParams);

    // make the request, and get an href to the vApp in return
    Vapp vapp = vdc.instantiateVappTemplate(instVappTemplParams);
    return vapp;
} 
```

当我调用设置 filan IP-s 的方法时，我得到了两个同名的网络，正如我之前所说的那样。

设置ip-a的代码是：

```
public static void configureVMsIPAddressingMode(ReferenceType vappRef,Vdc vdc) throws VCloudException, TimeoutException {

    System.out.println("    Configuring VM Ip Addressing Mode");
    Vapp vapp = Vapp.getVappByReference(vcloudClient, vappRef);
    List<VM> childVms = vapp.getChildrenVms();

    for (VM childVm : childVms) {
        NetworkConnectionSectionType networkConnectionSection = childVm.getNetworkConnectionSection();
        List<NetworkConnectionType> networkConnections = networkConnectionSection.getNetworkConnection();
        for (NetworkConnectionType networkConnection : networkConnections) {
            String neteworkName = vdc.getAvailableNetworkRefs().iterator().next().getName();
            networkConnection.setIpAddressAllocationMode(IpAddressAllocationModeType.MANUAL.value());
            networkConnection.setNetwork(neteworkName);

            System.out.println(neteworkName);

            if(neteworkName.equals("4PM-GR-test-Routed")){
                networkConnection.setIpAddress("192.168.135.4");
            }else{
                networkConnection.setIpAddress("10.30.1.4");
            }

        }
        childVm.updateSection(networkConnectionSection).waitForTask(0);
        for (String ip : VM.getVMByReference(vcloudClient,childVm.getReference()).getIpAddressesById().values()) {
            System.out.println("        " + ip);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T12:36:07.870

我发现这是我的代码中的一个错误

这段代码总是给我同样的名字

```
String neteworkName = vdc.getAvailableNetworkRefs().iterator().next().getName(); 
```

它应该是

```
String neteworkName = networkConnection.getNetwork(); 
```

# random - 具有多个或随机纹理的 Cocos2d 粒子

> ID：15021050
> 
> 赞同：0
> 
> 时间：2013-02-22T09:41:05.040
> 
> 标签：random, cocos2d-iphone, ccparticlesystem

我想做标题所说的。

我有一个雪粒子设置。工作正常。但我希望每个发射器都有多个纹理。

这是可能的还是我只是创建多个发射器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T12:41:10.337

使用多个发射器。Cocos2d 的粒子系统仅支持每个发射器一个纹理。

事实上，如果我没记错的话，粒子系统发射器通常总是使用单个纹理，而使用多个纹理的效果总是使用多个发射器。聪明的发射器虽然可以使用纹理图集并设置每个粒子的纹理帧，但 cocos2d 也不支持。

# javascript - document.getElementById() 是否考虑临时创建的 DIV

> ID：15021056
> 
> 赞同：0
> 
> 时间：2013-02-22T09:41:20.360
> 
> 标签：javascript

我有一个这样的DIV

```
 var div = document.createElement('div');
 div.innerHTML = "<div id='a'></div>"; 
```

而且我还没有将它附加到文档中..但我只想`a`从临时 DIV 中检索元素..

否则我有这种方式

```
 div.style.display = "none";
 document.body.appendChild(div);
 // then
 var a = document.getElementById('a'); 
```

还有其他更好的解决方案吗..？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T09:43:52.803

您可以使用[`querySelector()`](https://developer.mozilla.org/en-US/docs/DOM/Element.querySelector)which 也适用于元素，而不仅仅是整个文档：

```
var el = div.querySelector( '#a' ); 
```

[浏览器支持不错。](http://caniuse.com/#feat=queryselector)

# android - Spinner 的下拉菜单无法正常工作

> ID：15021057
> 
> 赞同：4
> 
> 时间：2013-02-22T09:41:21.993
> 
> 标签：android, android-layout, dialog, custom-controls, spinner

我想`custom Spinner Dialog`为我的应用程序创建。我找到[了这个](http://adanware.blogspot.in/2012/03/android-custom-spinner-with-custom.html)和[这个](http://hasmukhbhadani.blogspot.in/search/label/SpinnerView%20in%20android.)。两者都很好。我已根据要求更新了我的代码。当用户点击微调器时，我正在使用选择器文件来更改对话框背景视图。

我的代码运行良好，但问题出在对话框视图中。它传播了那个宽度，但我想根据一些固定尺寸来获得。

**我的 Spinner View 的当前输出如下：-**

![在此处输入图像描述](../Images/c68200e00caa35c3a94a0cafc579ad65.png)

![在此处输入图像描述](../Images/4935f91382388663f956d48f3c676e10.png)

**但我需要它如下： -**

![在此处输入图像描述](../Images/878d4560836d0e090899e60610b507b8.png)

**Spinner_item.xml**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/spinner_popup" // it's my selector file
    android:orientation="horizontal" >

    <TextView
        android:id="@+id/Genere_name"
        android:layout_width="wrap_content"
        android:layout_height="30dp"
        android:layout_marginLeft="5dp"
        android:ellipsize="marquee"
        android:gravity="center_vertical"
        android:singleLine="true"
        android:textColor="@android:color/black"
        android:textSize="18sp"
        android:textStyle="bold" />

</LinearLayout> 
```

**spinner_popup.xml**

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:drawable="@drawable/popup_header" android:state_selected="true"/>
    <item android:drawable="@android:color/transparent" android:state_enabled="true"/>
    <item android:drawable="@drawable/popup_header" android:state_pressed="true"/>
    <item android:drawable="@drawable/popup_bg_box" android:state_enabled="false" android:state_focused="true"/>
    <item android:drawable="@android:color/transparent"/>

</selector> 
```

**Main_spinner_view**

```
<LinearLayout
    android:id="@+id/search_layout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/search_bg"
    android:orientation="horizontal"
    android:weightSum="3" >

    <Spinner
        android:id="@+id/Search_Spinner"
        android:layout_width="95dp"
        android:layout_height="30dp"
        android:layout_gravity="left|center_vertical|center_horizontal"
        android:layout_marginLeft="2dp"
        android:layout_weight="1.2"
        android:background="@drawable/search_dropdown" />

    <EditText
        android:id="@+id/Search_EDT"
        android:layout_width="170dp"
        android:layout_height="30dp"
        android:layout_gravity="center|center_horizontal|center_horizontal"
        android:layout_marginLeft="3dp"
        android:layout_weight="1.5"
        android:background="@drawable/search_textfield"
        android:hint="Search By Free Text"
        android:inputType="textPersonName"
        android:padding="5dp"
        android:textSize="16sp" >
    </EditText>

    <Button
        android:id="@+id/Search_GO"
        android:layout_width="30dp"
        android:layout_height="30dp"
        android:layout_gravity="right|center_horizontal|center_vertical"
        android:layout_marginLeft="2dp"
        android:layout_marginRight="2dp"
        android:layout_weight="0.3"
        android:background="@drawable/search_icon"
        android:textColor="@android:color/white" />
</LinearLayout> 
```

**我在这里打电话给我的微调器适配器**

```
Search_Spinner.setAdapter(new MyAdapter(GridViewActivity.this,
                R.layout.spinner_item, Search_Category_List)); 
```

我认为java代码不是必需的，但我仍然粘贴在这里，

```
public class MyAdapter extends ArrayAdapter<String>
    {

        public MyAdapter(Context context, int textViewResourceId,
                ArrayList<String> objects)
        {
            super(context, textViewResourceId, objects);
        }

        @Override
        public View getDropDownView(int position, View convertView,
                ViewGroup parent)
        {

            return getCustomView(position, convertView, parent);
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent)
        {
            return getCustomView(position, convertView, parent);
        }

        public View getCustomView(int position, View convertView,
                ViewGroup parent)
        {

            LayoutInflater inflater = getLayoutInflater();
            View row = inflater.inflate(R.layout.spinner_item, parent, false);
            TextView label = (TextView) row.findViewById(R.id.Genere_name);
            spinner_text = Typeface.createFromAsset(getAssets(), "desc.ttf");
            label.setTypeface(spinner_text);
            label.setText(Search_Category_List.get(position));

            return row;
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:11:19.503

尝试为此创建透明活动

请参阅下面的代码以获取帮助。首先删除 Spinner 控件并将按钮放在那里。将按钮背景设置为微调器，使其显示为微调器。

在按钮上单击使用此代码

```
Intent bookIntent = new Intent();
        bookIntent.setClass(MusicAppActivity.this, OptionActivity.class);
        bookIntent.putExtra("cat", stockArr);
        startActivityForResult(bookIntent, 1);

bookIntent.putExtra("cat", stockArr); 
```

从此处传递数组意图 这是您要在新的透明活动中显示的数组。

```
OptionActivity 
```

现在创建一个名为 OptionActivity 的透明活动

在该透明活动中创建列表。并设置活动的宽度和高度

透明活动代码如下

```
public class OptionActivity extends Activity {
    ListView l;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.list);

        Intent intent = getIntent();
          String[] myStrings = intent.getStringArrayExtra("cat");

         l = (ListView) findViewById(R.id.optionList);

        l.setAdapter(new ArrayAdapter<String>(this, R.layout.headerlist,R.id.text1, myStrings));
        l.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {

                  String book = l.getAdapter().getItem(position).toString();
                  Intent returnIntent = new Intent();
                  returnIntent.putExtra("SelectedBook",book);
                  setResult(RESULT_OK,returnIntent);       
                  finish();

            }
        });

    }

} 
```

list.xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/optionFinish"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/my_custom_background"
    android:layout_marginTop="50dp"
    android:orientation="vertical" >

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/headerbg" >

        <TextView
            android:id="@+id/viewTournament"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerInParent="true"
            android:layout_gravity="center"
            android:ellipsize="marquee"
            android:focusable="true"
            android:focusableInTouchMode="true"
            android:freezesText="true"
            android:gravity="center_vertical|center_horizontal"
            android:marqueeRepeatLimit="marquee_forever"
            android:paddingLeft="15dip"
            android:paddingRight="40dip"
            android:scrollHorizontally="true"
            android:singleLine="true"
            android:text="Catagory"
            android:textColor="@android:color/white" />

        <!-- <ImageButton
            android:id="@+id/optionBtn"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:background="@android:color/transparent"
            android:padding="5dip"
            android:src="@drawable/options" /> -->
    </RelativeLayout>

    <ListView
        android:id="@+id/optionList"
        android:layout_width="200dip"
        android:layout_height="wrap_content"
        android:layout_gravity="right"
        android:cacheColorHint="#00000000"
        android:background="@android:color/white"
        android:paddingLeft="2dip"
        android:paddingRight="2dip" >
    </ListView>

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:57:05.247

在 LinearLayout 中使用 android:layout_width="wrap_content" 而不是 android:layout_width="fill_parent"

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:44:41.560

您可以尝试将 textview 的权重设置为 0.3，将宽度设置为 0dip。您也可以尝试在 textView 上设置 maxWidth。此外，必须为 textView 而不是为微调器项设置背景颜色，因为宽度将是 textView 的宽度。

您也可以尝试使用 setDropDownWidth 但您必须将 minApiLevel 设置为 16。你可以参考这个更多： http: [//developer.android.com/reference/android/widget/Spinner.html#attr_android :dropDownVerticalOffset](http://developer.android.com/reference/android/widget/Spinner.html#attr_android:dropDownVerticalOffset)

# java - 交换网络服务

> ID：15021060
> 
> 赞同：1
> 
> 时间：2013-02-22T09:41:30.703
> 
> 标签：java, string-formatting

我在 Java 7 的 netbeans 中使用 Exhange Web Service Java 插件，

代码

```
ExchangeService service = new
            ExchangeService(ExchangeVersion.Exchange2007_SP1);

    ExchangeCredentials credentials = new WebCredentials
            ("domain\\user","pass");
    service.setCredentials(credentials);
    service.autodiscoverUrl("email"); 
```

我正面临这个错误

```
java.lang.UnsupportedClassVersionError: microsoft/exchange/webservices/data/ExchangeCredentials : Unsupported major.minor version 51.0
at java.lang.ClassLoader.defineClass1(Native Method)
at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
Could not find the main class: TestMail.ews.TestJavaMail.  Program will exit.
Exception in thread "main" Java Result: 1 
```

我试图将设置项目-> 属性-> 源选项卡-> 源/二进制组合框更改为 JDK 5。仍然给我错误

1.  如何修复此错误？
2.  我第一次使用 ews 来阅读来自 ms Exchange 网络服务的电子邮件，有人可以建议我一些示例/教程来完成我的任务吗？

谢谢，如果需要，我很乐意提供更多信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T09:46:00.283

似乎您使用的 Java 运行时与用于编译`ExchangeService`可用的 jar 库的 JDK 不同。很可能它是 1.5，而你有 1.4 或更低。请通过发出`java -version`命令行来检查您的 VM 版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:07:45.503

只需按照此论坛的说明进行操作

[https://superuser.com/questions/335454/how-can-i-make-jdk-7-the-default-jdk-in-netbeans](https://superuser.com/questions/335454/how-can-i-make-jdk-7-the-default-jdk-in-netbeans)

1.  找到程序文件->netbeans->etc->netbeans.conf，用文本文件打开
2.  将路径更改为 JDK 1.7

# vba - “应用程序定义或对象定义错误”将图表从 Excel 复制到 Powerpoint

> ID：15021062
> 
> 赞同：1
> 
> 时间：2013-02-22T09:41:37.990
> 
> 标签：vba, excel, excel-2010

我一直在使用 excel vba 使用下面的代码将 excel 文件中的图表复制并粘贴到 ppt 文件中。这是我在另一个应用程序中尝试过的代码，它运行良好，但我在另一个应用程序中使用了相同的代码，它抛出了错误将chart1粘贴到ppt时出现“**应用程序定义或对象定义的错误”。谁能告诉我我做错了什么以及需要做哪些更改。**

```
Sub PasteToPPT(FileName As String)
Dim file As String
file = FileName

Dim pptPres As PowerPoint.Presentation
Dim AppPPT As PowerPoint.Application
Dim SlidePPT As PowerPoint.Slide
Dim cht As Excel.ChartObject
Dim Sht As Excel.Sheets

Set AppPPT = CreateObject("PowerPoint.Application")
    AppPPT.Visible = True

     AppPPT.Presentations.Open (file)

     'AppPPT.Presentations.Open FileName:=file

     Excel.Sheets("Charts").Activate

     AppPPT.ActiveWindow.View.GotoSlide 1
        Set SlidePPT = AppPPT.ActivePresentation.Slides(1)

     Excel.Sheets("Charts").ChartObjects("Chart1").Copy '<-- Here i'm getting the error
         AppPPT.ActivePresentation.Slides(1).Shapes.Paste.Select

     AppPPT.ActiveWindow.Selection.ShapeRange.LockAspectRatio = False

    AppPPT.ActiveWindow.Selection.ShapeRange.Left = 0
    AppPPT.ActiveWindow.Selection.ShapeRange.Top = 275

    AppPPT.ActiveWindow.Selection.ShapeRange.Width = 966
    AppPPT.ActiveWindow.Selection.ShapeRange.Height = 200

    Excel.Sheets("Charts").ChartObjects("Chart2").Copy
        AppPPT.ActivePresentation.Slides(1).Shapes.Paste.Select

    AppPPT.ActiveWindow.Selection.ShapeRange.LockAspectRatio = False

    AppPPT.ActiveWindow.Selection.ShapeRange.Left = 0
    AppPPT.ActiveWindow.Selection.ShapeRange.Top = 390

    AppPPT.ActiveWindow.Selection.ShapeRange.Width = 966
    AppPPT.ActiveWindow.Selection.ShapeRange.Height = 200

    'AppPPT.ActivePresentation.SaveAs ("D:\Projects\IEB MBU MYR US\Demo_Slide.pptx")
    AppPPT.ActivePresentation.Save

    Set SlidePPT = Nothing
    ''AppPPT.Quit
    Set AppPPT = Nothing

End Sub 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T09:09:02.407

从 Dinesh 的评论中，如果有人后来偶然发现它，这是答案：

`Sheets("Chart1")`必须替换为`Worksheets("Chart1")`。

该`Sheets`集合仅包含真正的“计算”表 - 但该`Worksheet`集合还包含图表表（和 Excel4 宏表）。和`Chart1`图表一样，它没有包含在`Sheets`集合中......

# android - 多种可能的 JSON 文件作为 Spring 的 HTTP 请求的返回

> ID：15021067
> 
> 赞同：0
> 
> 时间：2013-02-22T09:41:50.363
> 
> 标签：android, json, spring, jackson

我使用 Spring for Android 作为 HTTP 客户端。假设我使用这样的基本身份验证请求：

```
 // Create a new RestTemplate instance
            RestTemplate restTemplate = new RestTemplate();
            restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());

            try {
                // Make the network request
                Log.d(TAG, url);
                ResponseEntity<Message> response = restTemplate.exchange(url, HttpMethod.GET, new HttpEntity<Object>(requestHeaders), Message.class);
                System.out.println(response.toString());
            } catch (HttpClientErrorException e) {
                Log.e(TAG, e.getLocalizedMessage(), e);
e.getLocalizedMessage());
            }
        } 
```

我的理解是 Message 类应该是我期望从这个请求中返回的 JSON 的映射。但是现在我有一个问题：根据请求的标头，可以返回不同类型的 JSON。如果用户被授权，它将获得：

```
{

    "message": "ok",
    "code": 200,
    "data:{
... just some more json data ..
           }
} 
```

但是当用户没有被自动化时，数据就会丢失（当然）。所以它看起来像这样

```
 {

    "message": "You are not authorized to use this service",
    "code": 5201

} 
```

但这是两种类型的 JSON 文件，我如何为这两种文件创建正确的映射（消息类）？或者我应该创建不同类型的消息类？

恐怕这个问题有一个非常简单的答案，但我自己找不到。希望有人能解释一下，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:44:33.383

两个 json 都是一样的，唯一的区别是第二个 json 数据将为空，

# php - 我想获取受 $sql 影响的行数组。但是下面的代码不起作用。它只给出第一条记录？

> ID：15021078
> 
> 赞同：0
> 
> 时间：2013-02-22T09:42:15.813
> 
> 标签：php, oracle, oracle10g, phpmyadmin, oracle9i

```
oci_execute($sql);  
for($x = 1; $x <= oci_fetch_Array($sql); $x++)  
{
    $rows[]= oci_fetch_assoc($sql);
}
return $rows; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:44:24.493

我猜你正在使用没有 oci_parse 的 oci_execute？

例如，

$stid = oci_parse($conn, 'SELECT * FROM employees'); oci_execute($stid);

请参阅[示例。](http://www.php.net/manual/en/function.oci-parse.php)

# asp.net - 如何将我的菜单项链接到 nopcommerce 中的博客？

> ID：15021084
> 
> 赞同：0
> 
> 时间：2013-02-22T09:42:33.307
> 
> 标签：asp.net, asp.net-mvc-3, razor, nopcommerce

我在 nopcommerce2.65 管理部分创建了一个名为 BlogPost1 的博客。我检查了数据库，发现它`id`在表中是'3'

我想将在管理部分创建的这个博文页面链接到我的主菜单中的菜单项链接。我怎样才能在 MVC Razor 中做到这一点？

我可以直接连接它还是必须更改Blog的模型和控制器？是否可以使用此代码？我试过这个但没有用。我做的有什么错误吗？

`<li><a href="Html.ActionLink(article.Title, new { controller = "Blog", action = "BlogPost", id = \d+ })">Blog Post 1</a></li>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T16:55:18.213

If you have a look at Views/Blog/List.cshtml, you'll see this kind of code:

```
<a class="blog-title" href="@Url.RouteUrl("BlogPost", new { SeName = item.SeName })">@item.Title</a> 
```

Which tells you everything you want to know about linking to a Blog Post. :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T06:24:54.030

你也可以试试这个。

```
<li><a href="http://linkofyourblogpost">Blog Post 1</a></li> 
```

将此添加到视图>常用>菜单

# html - 如何设置2个div重叠并在点击时相互隐藏

> ID：15021086
> 
> 赞同：-1
> 
> 时间：2013-02-22T09:42:35.507
> 
> 标签：html

我想在另一个 div 上设置 1 个 div，点击时我想显示 1 个 div 并隐藏另一个，

我怎么能这样做？

```
<div id="div1">
            <ul>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
            </ul>
        </div>
        <div id="div2">
            <ul>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
                <li>Item</li>
            </ul>
        </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:46:25.057

您可以使用它的 style.display 属性隐藏 DIV：

```
div1.style.display='none';  //will hide the div
div1.style.display='';      //will show the div 
```

# erlang - 在erlang中显示每条记录的信息

> ID：15021087
> 
> 赞同：0
> 
> 时间：2013-02-22T09:42:39.547
> 
> 标签：erlang, mnesia

我有这个表：

```
-record(person, {id, firstname, lastname}). 
```

它包含以下值：

```
13  asma   chabani
14  nawel  jirard
15  ahme   bahri 
```

我想显示每条记录的名字和姓氏：

我尝试：

```
test()->
    Match=#person{_ = '_'}, %Will match all records
    Fun =
      fun() ->
        List = mnesia:match_object(Match),
        lists:foreach(fun(X) ->
                        M=X#person.fistname,
                        H=X#person.lastname,
                        io:format("~s~n",[M]),
                        io:format("~s~n",[H])
                      end,
                      List)
      end. 
```

但它显示此错误：

```
model:test().
#Fun<model.186.53419390> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T12:53:46.140

你到底忘记了 mnesia:transaction(Fun) 吗？或者只是乐趣（）。

# image - 使用 imagemagick 将 emf 转换为 jpeg 时出现黑色背景

> ID：15021093
> 
> 赞同：0
> 
> 时间：2013-02-22T09:43:05.460
> 
> 标签：image, image-processing, imagemagick

我有一个 emf 文件，当我使用 imagemagick 将其转换为 jpeg 时，我的图像的某些部分变为黑色。我正在使用以下命令：

```
convert "C:\Users\abhmathu\Desktop\file1\docProps\thumbnail.emf" -background white 1.jpeg 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:04:52.973

我找到了解决方法。如链接[http://www.imagemagick.org/Usage/masking/](http://www.imagemagick.org/Usage/masking/)中所述 ，jpeg 格式存在一些问题。当我尝试将其转换为 png 时，它工作正常。png 解决了我的用例:-)

# git - 是否可以硬链接本地 git 子模块存储库？

> ID：15021096
> 
> 赞同：3
> 
> 时间：2013-02-22T09:43:14.157
> 
> 标签：git, git-submodules

我们目前有一个相当大的带有子模块的 git 存储库（大约 10GB），从服务器克隆它需要相当长的时间。我想在我们的项目目录中保留一个本地副本并将其用作构建的来源。项目目录存储在 NFS 安装的驱动器上。

使用 --local 或仅 /path/to/repo 进行克隆时，Git 会创建指向原始存储库的硬链接，但它似乎没有为子模块存储库创建硬链接。我本来期望的

```
git clone --local --recursive /path/to/origin mycopy 
```

为所有回购创建硬链接。我可以告诉 git 也为子模块使用硬链接吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-01-03T16:06:05.707

我认为这不能通过 buildin 命令完成，但您可以`.gitmodules`在（或等效）命令之前修改文件`git submodule init`并稍后恢复原始文件：

```
git clone --local /path/to/origin mycopy
sed -i '/path = /{h;s,.* = ,,;x};/url = /{s, = .*, = /path/to/origin,;G;s,\n,,}' mycopy/.gitmodules
git -C mycopy submodule update --init
git -C mycopy checkout -- .gitmodules 
```

# javascript - javascript正则表达式验证问题

> ID：15021106
> 
> 赞同：0
> 
> 时间：2013-02-22T09:43:33.197
> 
> 标签：javascript, regex

我正在为以下内容编写 javascript 正则表达式：

1.  必须至少有一位数字
2.  必须至少有一个大写字母
3.  必须介于 8-15 个字符之间

我试过这样：

```
function isStrongPassword(strInput) {
    //works well except A1aaaaaa
    var regex = /^(?=.*\d)(^[A-Za-z0-9])(?=.*[A-Z]).{7,14}$/; 
    return regex.test(strInput);
} 
```

这工作正常，除了它不匹配的事实`A1aaaaaa`，这是一个有效的输入。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:48:47.923

您的表达失败，因为`(?=.*[A-Z])`. 第一个字符后面的字符都不是大写的。

似乎这个表达式就足够了：

```
^(?=[^\d]*\d)(?=[^A-Z]*[A-Z]).{8,15}$ 
```

* * *

请注意，切换`.*`到`[^...]*`与您的问题无关，但可以避免回溯。或者，您可以使用延迟匹配：`.*?`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:51:45.177

您的正则表达式由于该`(^[A-Za-z0-9])`部分而被破坏，这意味着在一个数字之后，必须有一个字母或数字，***然后***是一个大写字母。这应该工作

```
/^(?=.*\d)(?=.*[A-Z]).{8,15}$/; 
```

像这样崩溃...

```
/              
^              # start match
(?=.*\d)       # is there a digit up ahead (maybe after zero or more anythings)
(?=.*[A-Z])    # is there a capital up ahead (maybe after zero or more anythings)
.{8,15}        # 8 to 15 anythings
$              # end match
/ 
```

# javascript - 为什么 `$.post` 只有在 `alert()` 出现在它之后才有效？

> ID：15021114
> 
> 赞同：3
> 
> 时间：2013-02-22T09:43:55.897
> 
> 标签：javascript, post

我有以下 javascript 代码：

```
$.post("<receiver>", postdata); 
```

并且并不总是得到postdata。如果我编写以下代码一切正常：

```
$.post("<receiver>", postdata);
alert('bla-bla-bla, read me for a second'); 
```

为什么？当 javascript 运行时，页面在保存按钮上发生变化。但我需要在重定向之前发送帖子数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:47:23.140

您应该在 AJAX 调用的成功回调中重定向：

```
$.post("<receiver>", postdata, function() {
    window.location.href = '...';
}); 
```

如果您在调用后立即发出警报，您的代码可以正常工作的原因`$.post`是，当此警报弹出时，浏览器会暂停执行并且您的 AJAX 调用有足够的时间来完成。

不要忘记 AJAX 中的第一个 A 代表**异步**，这意味着您只能在成功回调中使用从服务器返回的**结果**。

此外，如果此 AJAX 调用在`.submit()`表单的某个事件处理程序或`.onclick()`提交按钮或锚点的某个处理程序内部执行，您应该确保通过返回 false 取消了默认操作，否则您的 AJAX 调用将永远没有时间执行在浏览器重定向离开页面之前。

例子：

```
$('#myForm').submit({
    $.post("<receiver>", postdata, function() {
        ...
    });
    return false; // <!-- That's the important bit
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:53:20.220

啊，看来您的问题中缺少的部分是您在单击是时发送数据？大概是链接？该链接会导致浏览器立即关注它，并且在您的示例中，警报会延迟浏览器，以至于您的帖子有足够的时间来完成。

您需要确保阻止该链接的默认操作，并在 $.post() 的回调中执行重定向：

```
$("a.some_class").click(function(evt)
{
    evt.preventDefault(); // makes sure browser doesn't follow the link

    // gather your post data here ...

    var $this = this;
    $.post("<receiver>", postdata, function()
    {
        window.location.href = $this.attr("href");
    });
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:47:58.113

您的警报导致您的脚本暂停，因此您有时间`$.post()`完成。

您应该将重定向脚本放在`$.post()`回调中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T09:49:46.653

因为它会导致延迟。当您按 OK 时，请求（至少需要几毫秒）完成，并且取决于它的东西可以跟随。

为了防止这种情况，您可以传递一个在请求得到响应后运行的回调函数。

```
$.post( url, postdata, function() {
    // Success.
} ) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T09:53:12.907

.post 是异步的。

如果您在发布过程 () 期间更改页面，则 POST 请求将被中止。您`alert`正在阻止此页面更改

您应该用 .ajax 同步请求替换您的 .post，验证表单提交是否成功 ( `return true;`) 。或者按照@DarinDimitrov 或@Curt 的建议进行操作

# python - 如何基于 Python 代码创建一个简单的可执行应用程序？

> ID：15021116
> 
> 赞同：1
> 
> 时间：2013-02-22T09:44:02.867
> 
> 标签：python, executable

我制作了一个 Python 程序，它将一个字符串作为输入，并在对其执行一些函数后输出另一个字符串。我打算将它分发给其他计算机上的朋友。以下是代码：

```
 s=input("Enter the tileset data : ")

    def reverse(s,i):
     if len(s)==0:
      return ""
     else:
      return s[23*(30-i):23*(31-i)]+reverse(s[:23*(30-i)],i+1)

    p=reverse(s,0)

    print ((((((((((((((((((((((((((((((((((((((((((((p.replace('2','!')).replace('3','2')).replace('!','3')).replace('5','#')).replace('4','5')).replace('#','4')).replace('Q','$')).replace('O','Q')).replace('$','O')).replace('F','%')).replace('G','F')).replace('%','G')).replace('I','&')).replace('H','I')).replace('&','H')).replace('J','^')).replace('K','J')).replace('^','K')).replace('M','}')).replace('L','M')).replace('}','L')).replace('>','*')).replace('?','>')).replace('*','?')).replace('A','(')).replace('@','A')).replace('(','@')).replace('B',')')).replace('C','B')).replace(')','C')).replace('E','_')).replace('D','E')).replace('_','D')).replace('6','{')).replace('7','6')).replace('{','7')).replace('8','+')).replace('9','8')).replace('+','9')).replace('<','[')).replace('=','<')).replace('[','=')).replace(':',']')).replace(';',':')).replace(']',';') 
```

我想使用这个 python 代码制作一个简单的可执行应用程序，这样任何没有在他们的计算机上安装 Python 的人都可以运行它。

我对 .exe 编程一无所知。如果有人可以为我创建应用程序，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:53:38.867

对于 Windows 有[py2exe](http://www.py2exe.org/)

但我从来没有用过。所以我不能说什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-09T21:18:03.837

使用 cx_Freeze。这很棒。它的工作原理与 py2exe 和 pyinstall 不同。

您可以将其作为独立脚本运行或导入 setup.py

例子 ：

```
from cx_Freeze import setup, Executable

copyDependentFiles=True

includes = ["lxml", "lxml._elementpath", "lxml.etree", "gzip",    
"encodings.cp949",    "encodings.utf_8", "encodings.ascii"]

setup(name='gearfacts',
      version = "1.1",
      options = {
          "build_exe" : {
               "includes": includes,
           },
      },
      executables=[Executable('app.py')],
) 
```

# c# - 如何从 C# 代码调用 java 脚本？

> ID：15021117
> 
> 赞同：0
> 
> 时间：2013-02-22T09:44:03.230
> 
> 标签：c#, javascript, asp.net

我有一个`Enable.js`具有功能的文件`Enable()`。我想`Enable`从 C# 代码隐藏中调用此函数。我的`.js`文件和 c# 文件在同一个应用程序中。

我试过这个，但它对我没有帮助。

```
Page.ClientScript.RegisterStartupScript(this.GetType(), "click", "Enable(true)", true); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:35:08.097

我可以在您的代码中看到“点击”。因此，我假设您需要单击某个按钮来调用 Enable.js 文件中的 Enable(true) 函数

请按照以下步骤操作：

1.  在下面的部分中引用您的 Enable.js 文件`<head>`。

    ```
    <script src="Scripts/Enable.js" type="text/javascript"></script> 
    ```

2.  Enable.js 文件如下：

    ```
    function Enable(var){
        alert(val)
    } 
    ```

3.  在点击事件上调用`Enable()`函数：`Button1`

    ```
    protected void Page_Load(object sender, EventArgs e){
        Button1.Attributes.Add("OnClick", "return Enable('true');");
    } 
    ```

如果您需要更多帮助，请告诉我。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T09:58:00.583

尝试这个：

```
 ScriptManager.RegisterClientScriptInclude(
                this,
                typeof(Page),
                "Enable-js",
                ResolveClientUrl("~/scripts/Enable.js"));

ScriptManager.RegisterStartupScript(
                this, GetType(), Guid.NewGuid().ToString(),
                "Enable(True);", true); 
```

[http://msdn.microsoft.com/pt-br/library/bb337005.aspx](http://msdn.microsoft.com/pt-br/library/bb337005.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:06:46.543

我写了一个不错的小函数，用于调用 jquery 或只是基于我不久前看到的一些 VB 在 C# 中的一般 JS。

```
public bool runJQueryCode(string message)
{
    ScriptManager requestSM = ScriptManager.GetCurrent(Page);

    if (requestSM != null && requestSM.IsInAsyncPostBack)
    {
        ScriptManager.RegisterClientScriptBlock(Page, typeof(Page), Guid.NewGuid().ToString(), getjQueryCode(message), true);
    }
    else
    {
        Page.ClientScript.RegisterClientScriptBlock(typeof(Page), Guid.NewGuid().ToString(), getjQueryCode(message), true);
    }

    return true;
}

private string getjQueryCode(string jsCodetoRun)
{
    string x = "";

    x += "$(document).ready(function() {";
    x += jsCodetoRun;
    x += " });";

    return x;
} 
```

所以你可以调用 runJqueryCode("alert('hey')");

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:34:09.683

你在这里犯了一个错误：

`Page.ClientScript.RegisterStartupScript(this.GetType(), "click", "Enable(true)", true);`

您试图作为参数传递的`Enable(true)`文字字符串是不可能的**。**

你应该尝试这种方式，所以它可能会有所帮助。`Its only a sample for understanding`

```
string func = "showSuccessMessage('"+name+"');";
//Pass string as funcion in c# 
```

[此链接](https://stackoverflow.com/questions/788330/passing-arguments-to-javascript-function-from-code-behind)将解释使用 C# 代码后面的参数调用 javascript 函数。

```
this.Page.ClientScript.RegisterClientScriptBlock(this.GetType(), "xx",   
"<script>test("+x+","+y+");</script>"); 
```

# c - 该声明在 C 中的含义

> ID：15021128
> 
> 赞同：0
> 
> 时间：2013-02-22T09:44:33.963
> 
> 标签：c, struct, structure

我在 C 中有一个结构，最后有一些无法解码的声明

```
struct Student
{
   int roll;
   char name;
   int age;
};

extern struct Student dev[]; 
```

最后一条语句在C中是什么意思？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T09:46:36.837

```
extern struct Student dev[]; 
```

告诉编译器这`dev`是一个类型的数组，`struct Student`它是在其他地方定义的（其他翻译单元）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T09:46:15.333

这意味着`dev[]`没有在这个 C/object 文件中声明，而是在另一个文件中声明。您必须将该其他对象链接到您的二进制文件才能使用该变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T13:08:51.203

```
 struct students
    {
    int num;
    char name[100];
    char dept[100];
   } extern struct students student[]; 
```

student[] 是结构体数组。它用于访问结构体成员，如 num、name、dept。

诠释 j=100；

```
 #include<stdio.h>

                   main(){

                  for(i=0;i<j;i++)
                         {
                               scanf("%d",&student[i].num);
                               scanf("%s",student[i].name);
                               scanf("%s",student[i].dept);
                           }

                        for(i=0;i<j;i++)
                            {
                                  printf("%d\n",student[i].num);
                                  printf("%s\n",student[i].name);
                                   printf("%s\n",student[i].dept);
     }
     } 
```

用于访问结构体成员的100条记录

# android - Eclipse（Android）：单击“运行”/“调试”时没有任何反应

> ID：15021129
> 
> 赞同：7
> 
> 时间：2013-02-22T09:44:34.837
> 
> 标签：android, eclipse, avd

我刚刚为 eclipse + android SDK 正确安装（提取）了 ADT 包，还设置了一个新的 AVD，它目前正在我的背景上运行，看起来不错。

我的问题是：一旦我创建任何应用程序并单击**“运行”**或**“调试”**按钮，什么也没有发生。我在底部没有看到任何“正在启动：(nn%) ..”消息，并且 AVD 根本没有受到影响 - 没有任何反应！我不知道是什么问题，但不久前我以完全相同的方式安装了这个并且之前已经看到过这个问题。谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-22T09:47:35.207

右键单击您的项目->运行方式->运行配置，检查是否选择了launce默认活动，并在目标选项卡中选中“始终提示选择设备”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-19T17:18:11.863

如果按钮第一次可以正常工作，以后不能正常工作，试试这个。

使用 打开设备视图`Window > Show View > Devices`。

然后，在设备中，在您的模拟器下，找到您的应用程序包名称。选择它并按下红色的“STOP”按钮。

在此之后，应用程序应该可以正常运行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-22T11:57:33.313

在编辑器中 MainActivity.java 文件应该打开/处于焦点。然后运行您的应用程序。它应该可以正常工作。当其他一些 xml 文件在编辑器中成为焦点时会出现问题，例如.styles.xml 等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T09:50:32.507

单击运行按钮旁边的向下箭头以运行配置。在选项卡菜单上选择目标并检查始终提示选择设备

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-02T18:30:38.327

确保连接的设备有响应，或者如果您使用的是模拟器，请确保它配置正确，我遇到了这个问题，我更换了 USB 电缆并且它工作正常。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-05-05T16:25:59.430

问题出在手机上：您必须激活手机的开发者能力。

在装有 Jelly Bean (4.2) 和较新版本的 Android 的手机上：转到“设置”->“关于手机”->点击“内部版本号”，直到出现您已成为开发人员的弹出窗口（5 或 7次，倒计时会减少）。然后转到“设置”->“开发人员”->“USB调试”并启用它。

手机上的旧版Android：通常从“设置”->“应用程序”->“开发”->“USB调试”完成并启用它。

就是这样 ！

也许您将不得不重新启动手机（对此不确定）。

然后，在您的计算机控制台上重试“adb devices”：您的手机已在列表中，可以与 android studio 或其他方式一起使用！

现在祝你好运！

参考： [https](https://wiki.archlinux.org/index.php/Android) ://wiki.archlinux.org/index.php/Android 这里：连接设备

# java - JettisonMappedXmlDriver 和 XStream 的漂亮打印

> ID：15021132
> 
> 赞同：1
> 
> 时间：2013-02-22T09:44:43.617
> 
> 标签：java, json, serialization, xstream, jettison

我正在使用 XStream 进行序列化。对于 XML，我使用 StaxDriver，对于 JSON，我使用 JettisonMappedXmlDriver：

```
if (this.format == ISerializer.Format.JSON){
    logger.info("json");
    /* note: JsonHierarchicalStreamDriver can read Json only */
    this.xstream = new XStream(new JettisonMappedXmlDriver());
}
else if (this.format == ISerializer.Format.XML){
    logger.info("xml");
    this.xstream = new XStream(new StaxDriver());
} 
```

使用 XML，我得到了漂亮的打印，使用 JSON，我从来没有得到漂亮的打印：

```
public boolean toStream(Object object, Writer writer){
        if(this.usePrettyPrint == true){
        this.xstream.marshal(object, new PrettyPrintWriter(writer));
    }else{
            this.xstream.toXML(object, writer);
    }
    return true;
} 
```

如果我以这种方式保留我的代码，我将获得 XML 而不是 JSON，我必须以这种方式重写我的代码才能获得 JSON，但打印效果不佳：

```
public boolean toStream(Object object, Writer writer){
    if (this.format == ISerializer.Format.JSON){
        this.xstream.toXML(object, writer);
    }
    else{
        if(this.usePrettyPrint == true){
            this.xstream.marshal(object, new PrettyPrintWriter(writer));
        }else{
            this.xstream.toXML(object, writer);
        }
    }
    return true;
} 
```

您知道使用 JettisonMappedXmlDriver 以 JSON 格式进行漂亮打印的方法吗？

在 XStream 文档中没有关于它的信息，他们甚至似乎认为它没问题：

[http://x-stream.github.io/json-tutorial.html](http://x-stream.github.io/json-tutorial.html)

但我不敢相信如果您希望能够序列化和反序列化（JettisonMappedXmlDriver），就没有办法使用 XStream 获得漂亮的打印 JSON ......

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T19:42:38.253

我曾经遇到过类似的问题，但我使用了 JsonHierarchicalStreamDriver，我的解决方案是

```
this.xstream = new XStream(new JsonHierarchicalStreamDriver () {
    public HierarchicalStreamWriter createWriter(Writer writer) {
        return new JsonWriter(writer, JsonWriter.DROP_ROOT_MODE);
    }
}); 
```

所以也许

```
this.xstream = new XStream(new JettisonMappedXmlDriver() {
    public HierarchicalStreamWriter createWriter(Writer writer) {
        return new JsonWriter(writer, JsonWriter.DROP_ROOT_MODE);
    }
}); 
```

为你工作=）

# .net - 属性为空时的 Silverlight DataContext 绑定错误

> ID：15021134
> 
> 赞同：0
> 
> 时间：2013-02-22T09:44:47.033
> 
> 标签：.net, silverlight, xaml

在我的 Silverlight 应用程序中，我有 TabControl，选项卡控件具有以下项：

```
<controls:TabItem Header="{Binding Localization.Shift1}" Style="{StaticResource     PanelBarTabItemStyle}" IsTabStop="False">
    <local:DienstDetailItemControl DataContext="{Binding Shift1, Mode=TwoWay, Converter=    {StaticResource DebugConverter}}"/>
</controls:TabItem> 
```

当我的应用程序启动时 Shift1 属性仍然为空（当用户选择一个选项时它将被填充）。

启动应用程序时出现以下错误：

```
System.Windows.Data Error: ConvertBack cannot convert value 'null' (type 'null'). BindingExpression: Path='Shift1' DataItem='SDB.Zorgplanner.Client.ViewModels.ViewModels.DienstDetailViewModel' (HashCode=13572818); target element is 'SDB.Zorgplanner.Client.Assets.Controls.DienstDetailItemControl' (Name=''); target property is 'DataContext' (type 'System.Object').. System.MethodAccessException: Attempt by method 'System.Windows.CLRPropertyListener.set_Value(System.Object)' to access method 'SDB.Zorgplanner.Client.ViewModels.ViewModels.DienstDetailViewModel.set_Shift1(SDB.Zorgplanner.UIModel.Dienst)' failed.
   bij System.RuntimeMethodHandle.PerformSecurityCheck(Object obj, RuntimeMethodHandleInternal method, RuntimeType parent, UInt32 invocationFlags)
   bij System.RuntimeMethodHandle.PerformSecurityCheck(Object obj, IRuntimeMethodInfo method, RuntimeType parent, UInt32 invocationFlags)
   bij System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture, Boolean skipVisibilityChecks)
   bij System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   bij System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   bij System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   bij System.Windows.CLRPropertyListener.set_Value(Object value)
   bij System.Windows.PropertyAccessPathStep.set_Value(Object value)
   bij System.Windows.Data.BindingExpression.UpdateValue(). 
```

关于如何解决这个问题的任何想法？

有没有办法从视图模型中以编程方式设置 tabitems 的数据上下文？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:05:26.497

问题原来是 Shift1 属性的私有设置器...我删除了私有属性并且一切正常:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T12:10:37.347

如果您查看错误，您会注意到它是由 ConvertBack 方法引发的。这对于 DataContext 绑定来说是不寻常的，这让我注意到您有一个用于 DataContext 的 TwoWay 模式绑定。除非您明确需要 TwoWay 绑定，否则我建议您切换到 OneWay（或者只是省略 XAML 中的 mode 属性，它执行相同的操作）。

# php - 不同版本的php crypt()的结果不同

> ID：15021135
> 
> 赞同：4
> 
> 时间：2013-02-22T09:44:51.780
> 
> 标签：php, crypt

代码：

```
echo $a = 'stackoverflow';
echo '<br>';
echo $b = '$2a$10$bf57caf7e1fa23e4b975ab';
echo '<br>CRYPT:<br>';
echo crypt($a, $b); 
```

结果：

**PHP 5.2.5**

```
stackoverflow
$2a$10$bf57caf7e1fa23e4b975ab
CRYPT:
$2.LaeiP21fsQ 
```

**PHP 5.4.4**

```
stackoverflow
$2a$10$bf57caf7e1fa23e4b975ab
CRYPT:
$2a$10$bf57caf7e1fa23e4b975aOhXjTtYrqOYLfHsxdOxGRhF03.LtKewW 
```

我想将脚本移动到使用 PHP 5.4.4 的新服务器我想获得与 5.2.5 哈希相同的效果，否则我会丢失一些数据

如果我使用以 $ 结尾的盐 - 结果是一样的

我读到这个：

> 从 PHP 5.3.0 开始，PHP 包含自己的实现，如果系统不支持一种或多种算法，PHP 将使用它。

但是算法应该没有什么不同。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T10:16:32.880

在 PHP 5.3.0 之前，Blowfish 仅在您的系统的 C 库提供时才可用（几乎没有人提供）。在没有 Blowfish 实现的系统中传递 Blowfish 盐会导致算法选择出现错误——通常是 DES 哈希。

# c# - 如何使用 Dynamics CRM SDK 搜索潜在客户或客户？

> ID：15021144
> 
> 赞同：4
> 
> 时间：2013-02-22T09:45:13.013
> 
> 标签：c#, dynamics-crm, dynamics-crm-online

有人可以提供一个示例代码，用于在 CRM SDK 中通过电子邮件检索潜在客户吗？有没有像这样工作的内置函数？

```
Guid leadID = someLeadManager.GetByEmail(email); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-22T19:35:18.323

假设您已经获得了*service*，您可以执行以下查询。

```
private Guid GetGuidByEmail(String email)
{
  QueryExpression query = new QueryExpression
  {
    EntityName = "lead",
    ColumnSet = new ColumnSet("emailaddress1"),
    Criteria = new FilterExpression
    {
      Filters =
      {
        new FilterExpression
        {
          Conditions =
          {
            new ConditionExpression(
              "emailaddress1", ConditionOperator.Equals, email)
          }
        }
      }
    }
  };

  Entity entity = service.RetrieveMultiple(query).Entities.FirstOrDefault();
  if(entity != null)
    return entity.Id;
  return Guid.Empty;
} 
```

现在，如果您需要过滤匹配的电子邮件的**一部分**，查询会变短，相反，您可以像这样使用 LINQ 进行选择。

```
private IEnumerable<Guid> GetGuidsByEmail(String email)
{
  QueryExpression query = new QueryExpression
  {
    EntityName = "lead",
    ColumnSet = new ColumnSet("emailaddress1")
  };
  IEnumerable<Entity> entities = service.RetrieveMultiple(query).Entities;

  return entities
    .Where(element => element.Contains("emailaddress1"))
      .Where(element => Regex.IsMatch(element["emailaddress1"], email))
        .Select(element => element.Id);
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T10:16:45.430

您要检索具有特定邮件的潜在客户吗？在这种情况下可以做这样的事情。

```
private EntityCollection GetLeadsWithEmail(
  IOrganizationService service, String wantedEmailAddress)
{
  QueryExpression query = new QueryExpression();
  query.EntityName = "lead";
  // the columns you want
  query.ColumnSet = new ColumnSet() { AllColumns = true };

  query.Criteria = new FilterExpression();
  query.Criteria.FilterOperator = LogicalOperator.And;
  query.Criteria.Conditions.Add(new ConditionExpression(
    "emailaddress1", ConditionOperator.Equal, wantedEmailAddress));
  return service.RetrieveMultiple(query);
} 
```

这将在其 emailaddress1 字段中检索所有希望EmailAddress 的潜在客户。然后，您可以检查您调用它的位置是否有任何匹配项；

```
EntityCollection leadCollection = GetLeadsWithEmail(
  service, "someone@example.com");
Entity entity = leadCollection[0]; 
```

您可能应该首先检查集合中的实体数量，`leadCollection.Entities.Count`然后从那里继续。

这是来自 MSDN[的示例。](http://msdn.microsoft.com/en-us/library/gg328149.aspx)

# css - 语义网格混合创建大量选择器

> ID：15021148
> 
> 赞同：0
> 
> 时间：2013-02-22T09:45:23.823
> 
> 标签：css, sass, zurb-foundation

我是第一次使用 SCSS（过去我用过 LESS）并使用 Foundation 框架。我使用语义网格混合，但是当我在 Chrome 检查器中查看它们时，我发现它创建了大量的选择器。这是正常的吗？

下面是一个例子。

`.top_bar .information_for_agencies, .top_bar .registration, header[role="banner"] .branding, header[role="banner"] .branding .logo, header[role="banner"] .branding .tagline, header[role="banner"] div[role="navigation"], footer[role="contentinfo"] section, body.full_width div[role="main"] article[role="article"], body.full_width div[role="main"] article[role="article"] header img.top_masthead, body.full_width div[role="main"] article[role="article"] div.content img.top_left, body.full_width div[role="main"] article[role="article"] div.content img.top_right, body.full_width div[role="main"] article[role="article"] div.content figure.left_align, body.full_width div[role="main"] article[role="article"] div.content figure.right_align, body.full_width div[role="main"] article[role="article"] div.content figure.full_width, body.full_width div[role="main"] article[role="article"] footer img.bottom_masthead, body.two_columns div[role="main"] article[role="article"], body.two_columns div[role="main"] article[role="article"] header img.top_masthead, body.two_columns div[role="main"] article[role="article"] div.content img.top_left, body.two_columns div[role="main"] article[role="article"] div.content img.top_right, body.two_columns div[role="main"] article[role="article"] div.content figure.left_align, body.two_columns div[role="main"] article[role="article"] div.content figure.right_align, body.two_columns div[role="main"] article[role="article"] div.content figure.full_width, body.two_columns div[role="main"] article[role="article"] footer img.bottom_masthead, body.two_columns div[role="main"] aside[role="complementary"], body.three_columns div[role="main"] section.adverts, body.three_columns div[role="main"] article[role="article"], body.three_columns div[role="main"] article[role="article"] header img.top_masthead, body.three_columns div[role="main"] article[role="article"] div.content img.top_left, body.three_columns div[role="main"] article[role="article"] div.content img.top_right, body.three_columns div[role="main"] article[role="article"] div.content figure.left_align, body.three_columns div[role="main"] article[role="article"] div.content figure.right_align, body.three_columns div[role="main"] article[role="article"] div.content figure.full_width, body.three_columns div[role="main"] article[role="article"] footer img.bottom_masthead, body.three_columns div[role="main"] aside[role="complementary"], body.homepage div[role="main"] header h1, body.homepage div[role="main"] .hero_container .video_holder, body.homepage div[role="main"] .hero_container form, body.homepage div[role="main"] .hero_container form .personal_details label, body.homepage div[role="main"] .hero_container form .form_actions label, body.homepage div[role="main"] .hero_container form .form_actions .input_action, body.homepage div[role="main"] .reasons ul li, body.homepage div[role="main"] .testimonials h4, body.homepage div[role="main"] .testimonials ul blockquote, body.homepage div[role="main"] .register form, body.homepage div[role="main"] .register form .personal_details label, body.homepage div[role="main"] .register form .extra_info label { position: relative; min-height: 1px; padding: 0 15px; }`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T18:18:02.457

我最近才开始使用 sass 的基础，但我没有看到。你的 app.scss 和 _settings.scss 和 config.rb 文件是什么样的？您是否一直在广泛使用@extend？当你使用@extend 时会发生什么，它结合了具有相似属性的选择器。因此，如果您有：

```
.TestMe {
  color: blue;
  background: white;
  margin: 10px;
  width: 200px; }

.hello {
  @extend .TestMe
  width: 100px; } 
```

将被合并到这个 css 中：

```
.TestMe, .hello {
  color: blue;
  background: white;
  margin: 10px;
  width: 200px;
}

.hello {
  width: 100px;
} 
```

# android - 将操作栏添加到我的 Activity 自定义主题

> ID：15021160
> 
> 赞同：0
> 
> 时间：2013-02-22T09:45:49.423
> 
> 标签：android, android-actionbar, android-theme

在我的应用程序中，我为活动创建了一个自定义主题。但是那个时候我看不到添加到活动中的操作栏。如何在具有自定义主题时将操作栏添加到活动。

请查看清单中的 code.Activity。

```
 <activity
        android:name=".Login"
        android:label="@string/title_activity_main"
        android:theme="@style/MyCustomTheme" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity> 
```

主题

```
<style name="MyCustomTheme" parent="android:style/Theme">
  <item name="android:windowBackground">@color/my_custom_color</item>
  <item name="android:colorBackgroundCacheHint">#dddddd</item>
  <!-- <item name="android:actionBarTabStyle">@style/MyActionBarTabStyle</item> -->
</style> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:51:54.720

将 Holo 主题用作您的父级。

```
<style name="MyCustomTheme" parent="android:style/Theme.Holo"> 
```

# java - 计数字母出现

> ID：15021163
> 
> 赞同：0
> 
> 时间：2013-02-22T09:45:51.497
> 
> 标签：java, if-statement, letter, file-io, find-occurrences

程序需要统计并显示指定字符在文本文件中出现的次数。

目前总数为零。如果我应该使用不同的循环，我不是，我也尝试过使用“for”循环。

```
// Hold user input and sum
String fileName;    // Holds the name of the file
String letter;      // Letter to search for in the file
int total = 0;      // Holds the total number of characters in the file

// Get the name of the file and character from the user
fileName = JOptionPane.showInputDialog("Please enter the name of a file:");
letter = JOptionPane.showInputDialog("Please enter a letter contained in the string");

// Open the file for reading
File file = new File(fileName);         
Scanner inputFile = new Scanner(file);  // Declare new scanner object for file reading

// Set accumulator to zero
int count = 0;

if (inputFile.nextLine().equalsIgnoreCase(letter)) {                                

    count++;          // add letter occurrence

    total += count;   // add the letter occurrence to the total
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T09:52:25.443

```
 BufferedReader reader = new BufferedReader(new FileReader("somefile.txt"));
    int ch;
    char charToSearch='a';
    int counter=0;
    while((ch=reader.read()) != -1) {
        if(charToSearch == (char)ch) {
            counter++;
        }
    };
    reader.close();

    System.out.println(counter); 
```

这有什么帮助吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:56:52.153

您的代码中有错误。下面的正确代码 -

```
 String fileName;    // Holds the name of the file
    String letter;      // Letter to search for in the file

    // Get the name of the file and character from the user
    fileName = "C:\\bin\\GWT.txt";
    letter = "X";

    // Open the file for reading
    File file = new File(fileName);         
    Scanner inputFile = new Scanner(file);  // Declare new scanner object for file reading

    // Set accumulator to zero
    int count = 0;
    while(inputFile.hasNext()) {
      if (inputFile.nextLine().toLowerCase().contains(letter.toLowercase())) { 
           count++;          // add letter occurrence
       }
    }
    System.out.println(count); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:50:42.867

这个答案假设您的文本文件中的每一行只包含一个字母，正如您的问题所暗示的那样。

您需要将 if 语句包装在一个循环中，因为目前您只检查文件的第一行：

```
 while(inputFile.hasNext()) {
         if (inputFile.nextLine().equalsIgnoreCase(letter))    {                                

             count++;          // add letter occurrence

             total += count;   // add the letter occurrence to the total
         }
     } 
```

您也可以替换：

```
count++;
total+= count; 
```

只需

```
total++; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T09:55:33.153

```
String line=""
while(inputFile.hasNext()) {
  line = inputFile.nextLine();
  for(int i=0; i<line.length(); i++ ){
     if (line.charAt(i)== letter)                                    
         count++;          

 }
} 
```

# c - 如何检查文本文件中的文本然后存储变量？

> ID：15021168
> 
> 赞同：-2
> 
> 时间：2013-02-22T09:46:13.960
> 
> 标签：c, fopen, fread

我在这里有点新，所以如果我解释得不够充分，我提前道歉，所以这里是：

给你一张图片，如果我是正确的，我有一个 fopen 命令打开和/或创建一个带有参数的文本文件来读/写/覆盖

```
fp = fopen("stats.txt", "w+"); 
```

我将文件写入：

```
void display_stats()
{
//some math needed for calculations
smod = (STR - 10)/2;
dmod = (DEX - 10)/2;
cmod = (CON - 10)/2;
imod = (INT - 10)/2;
wmod = (WIS - 10)/2;
hmod = (CHR - 10)/2;
amod = (APP - 10)/2;

//print to console
printf("STR: %i(%i)\n", STR, smod);
printf("DEX: %i(%i)\n", DEX, dmod);
printf("CON: %i(%i)\n", CON, cmod);
printf("INT: %i(%i)\n", INT, imod);
printf("WIS: %i(%i)\n", WIS, wmod);
printf("CHR: %i(%i)\n", CHR, hmod);
printf("APP: %i(%i)\n", APP, amod);
printf("-----Saving Throws------\n");
printf("Fortitude: %i\n", fort);
printf("Reflex: %i\n", rflx);
printf("Will: %i\n", will);

// write to file
fprintf(fp, "Level %i %s %s:\n",level,race_r,spec_c);
fprintf(fp, "STR: %i(%i)\n", STR, smod);
fprintf(fp, "DEX: %i(%i)\n", DEX, dmod);
fprintf(fp, "CON: %i(%i)\n", CON, cmod);
fprintf(fp, "INT: %i(%i)\n", INT, imod);
fprintf(fp, "WIS: %i(%i)\n", WIS, wmod);
fprintf(fp, "CHR: %i(%i)\n", CHR, hmod);
fprintf(fp, "APP: %i(%i)\n", APP, amod);
fprintf(fp, "Fort save: %i\n", fort);
fprintf(fp, "Reflex save: %i\n", rflx);
fprintf(fp, "Will save: %i\n", will);

} 
```

它在文件“stats.txt”中输出（取决于用户输入的内容）

```
Level 2 Gnome Sorcerer:
STR: 8(-1) //STR=8 smod=-1
DEX: 14(2) //DEX=14 dmod=2
CON: 14(2) //etc...
INT: 13(1)
WIS: 13(1)
CHR: 12(1)
APP: 11(0)
Fort save: 0
Reflex save: 0
Will save: 3 
```

现在，对于程序第二次运行，我希望它检查文件中的文本，如果为真，则输出该文本以及存储所有变量以供以后使用，我目前有：

```
if (fgets(buf, 1000, fp) == NULL) //char buf[1000]/FILE fp if "stats.txt" has no text
                {
                    printf("Please enter in your base stats (no modifiers):\n");
                    enter_stats();
                    printf("Please indicate your characters level:\n");
                    printf("I am a level ");
                    level = GetInt();
                    Race_check();
                    spec_check();
                    printf("------Base saving throws (no modifiers)------\n");
                    saving_throws();
                }
                else //if "stats.txt" has text
                {
                    printf("%s",buf);
                }
                break; //ending of a case statement 
```

请并感谢您的帮助，这令人沮丧。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T13:52:45.370

```
 FILE* fp1;

  FILE* fp2

     fp1 = fopen("text_to_read","r");

     fp2 = fopen("text_to_write","w+");

     char* s;

  while(fscanf(fp,"%s",s) != EOF) 
```

{

```
 fprintf(fp2,"%s",s); 
```

}

```
 printf("Its done!!") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:22:25.880

由于您没有写任何问题，我猜它类似于“它只读取一行”。

这是因为该`fgets`函数仅在获取`n-1`字符**或到达换行符**之前读取。

更多信息[在这里](http://www.cplusplus.com/reference/cstdio/fgets/)。

# ruby-on-rails - Rails：Facebook API - 如何获取群组列表，包括我？

> ID：15021169
> 
> 赞同：-1
> 
> 时间：2013-02-22T09:46:15.963
> 
> 标签：ruby-on-rails, ruby, facebook, facebook-graph-api, fb-graph

我正在使用 FbGraph 获取有关我喜欢的页面、朋友等的信息，但我没有看到获取用户组列表的选项。

有没有办法找回它？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:59:36.340

要读取用户或朋友组，您必须具有 user_groups 或 friends_groups 权限。

```
https://graph.facebook.com/me/groups 
```

此 api 调用将返回一个对象数组，其中包含版本（old-0 或新 Group-1）、名称、id、管理员（如果用户是组的管理员）和 bookmark_order（在组书签列表中的什么位置在主页上，该组为用户显示）。

签出此[客户端示例](https://developers.facebook.com/docs/howtos/login/getting-started/)页面，此处 testAPI() 函数当前正在获取用户名

```
FB.api('/me/groups', function(response) {
    console.log('Good to see you, ' + response.data + '.');
}); 
```

# c - 是否可以在运行时交换 C 函数实现？

> ID：15021172
> 
> 赞同：1
> 
> 时间：2013-02-22T09:46:21.343
> 
> 标签：c, unit-testing, mocking, facade

我已经实现了一个在下面使用 C 函数的外观模式，我想对其进行正确测试。

我真的无法控制这些 C 函数。它们在标头中实现。现在我#ifdef 在生产中使用真实的标头，在测试中使用我的模拟标头。C中有没有办法通过覆盖C函数地址或其他方式在运行时交换C函数？我想摆脱代码中的#ifdef。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:05:51.127

要扩展 Bart 的答案，请考虑以下简单示例。

```
#include <stdio.h>
#include <stdlib.h>

int (*functionPtr)(const char *format, ...);

int myPrintf(const char *fmt, ...)
{
    char *tmpFmt = strdup(fmt);
    int i;
    for (i=0; i<strlen(tmpFmt); i++)
        tmpFmt[i] = toupper(tmpFmt[i]);

// notice - we only print an upper case version of the format
// we totally disregard all but the first parameter to the function
    printf(tmpFmt);

    free(tmpFmt);
}

int main()
{

    functionPtr = printf;
    functionPtr("Hello world! - %d\n", 2013);

    functionPtr = myPrintf;
    functionPtr("Hello world! - %d\n", 2013);

    return 0;
} 
```

**输出**

```
Hello World! - 2013
HELLO WORLD! - %D 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:08:01.070

奇怪的是，您甚至*需要*一个 ifdef-selected 标头。要测试的代码和您的模拟应该具有**完全相同的函数签名**，以便成为要测试的模块的正确模拟。然后在生产编译和测试编译之间唯一改变的是您将哪些**.o**文件提供给链接器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-16T08:49:26.400

可以使用 Typemock Isolator++，而不会创建不必要的新间接级别。它可以在测试内部完成，而无需更改您的生产代码。考虑以下示例：

您的代码中有 Sum 函数：

```
int Sum(int a, int b)
{
    return a+b;
} 
```

并且您想将其替换为 Sigma 进行测试：

```
int Sigma(int a, int b)
{
    int sum = 0;

    for( ; 0<a ; a--)
    {
        sum += b;
    }

    return sum;
} 
```

在您的测试中，在使用 Sum 之前模拟 Sum：

**WHEN_CALLED**：调用你想伪造的方法。

**ANY_VAL**：指定模拟将应用的 args 值。在这种情况下，任何 2 个整数。

***DoStaticOrGlobalInstead**：求和的替代行为。在此示例中，我们改为调用 Sigma。

```
TEST_CLASS(C_Function_Tests)
{
public:

TEST_METHOD(Exchange_a_C_function_implementation_at_run_time_is_Possible)
{
    void* context = NULL; //since Sum global it has no context
    WHEN_CALLED(Sum (ANY_VAL(int), ANY_VAL(int))).DoStaticOrGlobalInstead(Sigma, context);

    Assert::AreEqual(2, Sum(1,2));
}
}; 
```

*** [DoStaticOrGlobalInstead](https://typemock.com/docs?book=Ipp&page=Documentation%2Fdoinstead_behavior.htm)** 可以设置其他类型的行为而不是调用替代方法。您可以抛出异常、返回值、忽略方法等...

例如：

```
TEST_METHOD(Alter_C_Function_Return_Value)
{
    WHEN_CALLED(Sum (ANY_VAL(int), ANY_VAL(int))).Return(10);
    Assert::AreEqual(10, Sum(1,2));
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:13:09.897

我认为在运行时覆盖函数不是一个好主意。一方面，可执行段可能被设置为只读，即使不是，如果你的程序集太大，你最终可能会踩到另一个函数的代码。

我认为您应该为要使用的一组实现和另一组实现创建类似函数指针集合的东西。每次要调用函数时，都会从选定的函数指针集合中调用。完成此操作后，您可能还拥有代理函数（仅从所选集合中调用）来隐藏函数指针语法。

# php - 通过 PHP 中的代理使用 SoapClient 获取 WSDL 时出现错误请求

> ID：15021180
> 
> 赞同：1
> 
> 时间：2013-02-22T09:46:39.707
> 
> 标签：php, soap, proxy, wsdl

我有两台服务器：一台用于开发，可以轻松访问WEB，另一台用于生产，只能使用代理访问WEB。

我想从我的生产服务器调用一个 SOAP WEB 服务。

以下是代码（网址是假的）：

```
$url = 'https://www.webservice.com/soap.php';
$wsdl = 'https://www.webservice.com/soap.php?wsdl';

$client = new SoapClient
(
        $wsdl,
        array
        (
                'location'      => $url,
                'proxy_host'    => 'www.myproxy.com',
                'proxy_port'    => 8080,
        )
);

$namespace = 'urn:mynamespace';
$header = array
(
        'header1' => 'H1',
        'header2' => 'H2',
        'header3' => 'H3',
);

$client->__setSoapHeaders(new SoapHeader($namespace, 'myHeader', $header));

$params = array
(
        'param1' => 'val1',
        'param2' => 'val2',
        'param3' => 'val3',
);

$result = $client->method($params); 
```

我从我的开发服务器运行它，我得到了预期的结果。现在我从我的生产服务器运行它，我得到：

```
PHP Warning:  SoapClient::SoapClient(https://www.webservice.com/soap.php?wsdl): failed to open stream: HTTP request failed! HTTP/1.1 400 Bad Request
PHP Warning:  SoapClient::SoapClient(): I/O warning : failed to load external entity "https://www.webservice.com/soap.php?wsdl" in /home/benji/test.php on line 20
PHP Fatal error:  SOAP-ERROR: Parsing WSDL: Couldn't load from 'https://www.webservice.com/soap.php?wsdl' : failed to load external entity "https://www.webservice.com/soap.php?wsdl" 
```

当我从生产服务器 wget wsdl 时，它正在工作：

```
$ https_proxy=www.myproxy.com wget https://www.webservice.com/soap.php?wsdl
--2013-02-22 10:57:40--  https://www.webservice.com/soap.php?wsdl
Resolving www.myproxy.com... 10.0.0.125
Connecting to www.myproxy.com|10.0.0.125|:8080... connected.
Proxy request sent, awaiting response... 200 OK
Length: unspecified [text/xml]
Saving to: `soap.php?wsdl'

    [ <=>                                                                                                                                            ] 9 010       --.-K/s   in 0,009s  

2013-02-22 10:57:40 (980 KB/s) - `soap.php?wsdl' saved [9010] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-07-16T14:30:05.937

以下解决方案为我解决了所描述的问题：

*   创建一个新的流上下文，您还可以在其中指定代理信息
*   对于流上下文设置选项[SNI_enabled](http://php.net/manual/en/context.ssl.php)为 false
*   将流上下文作为选项数组中的新参数传递给soapclient

    ```
    $context = stream_context_create(
    array(
        'ssl' => array(
            'SNI_enabled' => false
        ),
        'http' => array(
            'proxy' => 'tcp://yourproxy.com:9999'
        )
    )
    );
    $soapOptions = array(
        'stream_context' => $context
    );
    $soapClient = new SoapClient( 'wsdl.path', $soapOptions ); 
    ```

# php - 会话在函数中返回 NULL

> ID：15021182
> 
> 赞同：0
> 
> 时间：2013-02-22T09:46:44.303
> 
> 标签：php

有一个会话保存从 facebook 收集的数据。我正在尝试使用 Sessions 缓存该数据。但是会话在函数中返回 NULL。是的，我当然写了 session_start()。

这里是函数

```
session_start();
function startsessions(){
    $_SESSION["fbdata"] = array();
}

function getAccount($id){
    GLOBAL $facebook;
    echo $id; 
    echo gettype($_SESSION["fbdata"]["page$id"]);

    if(isset($_SESSION["fbdata"]["page$id"])){
        $result = $_SESSION["fbdata"]["page$id"];
        echo "session mode";
    }else{
        $result = $facebook->api('/'.$id);
        $result["pageimg"] = "http://graph.facebook.com/$id/picture/?width=100&height=100";
        $_SESSION["fbdata"]["page$id"] = $result; 
        echo $_SESSION["fbdata"]["page$id"];
        echo "livemode";
    }

    return $result;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:47:53.673

开始会话`session_start()`？？您必须在使用前开始会话`$_SESSION`

# android - ViewPager 使用 FragmentPagerAdapter 从内存中删除不可见页面

> ID：15021190
> 
> 赞同：1
> 
> 时间：2013-02-22T09:46:55.837
> 
> 标签：android, android-viewpager, fragment, fragmentpageradapter

我正在开发一个应用程序，它具有包含 5 个不同片段的视图寻呼机。每个片段都有许多视图、动画和侦听器，因此我的应用程序运行速度较慢。当我只添加第一第二和第三页时没有问题，但在添加其他页面后性能问题开始了。我想从 ViewPager 中删除不可见的页面，但它会导致 CirclePageIndicator 出现问题。我希望只有 3 页“当前页”、“上一页”和“下一页”会出现在屏幕上，而其他页面则消失了。

有人对解决性能问题有想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:48:50.560

尝试将 ViewPager 的 OffScreenPageLimit 设置为 1：`viewpager.setoffscreenpagelimit(1);`

# html - HTML中从右到左的数字

> ID：15021196
> 
> 赞同：2
> 
> 时间：2013-02-22T09:47:11.983
> 
> 标签：html, right-to-left

我需要在 HTML 中格式化两个数字。有时它们嵌入在从左到右的文本中，有时嵌入在从右到左的文本中。

在从左到右的模式下，我希望数字显示为 12 ^(34)，在从右到左的模式下，我想要^(34) 12。

我试试这个 HTML 代码：

```
<p style="direction: rtl;">12&#x200b;<sup>34</sup></p>
<p style="direction: ltr;">12&#x200b;<sup>34</sup></p> 
```

(`&#x200b;`是一个零宽度的空间。)

在 Internet Explorer 9 中，这正是我想要的；但在 Firefox 19 和 Chrome 24 中，两种情况下我都得到 12 ^(34)（尽管浏览器将文本正确对齐）。

哪些浏览器可以正常工作？如何在所有浏览器中实现 Internet Explorer 行为？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T11:24:56.267

好像这里IE是错的，因为U+200B ZERO WIDTH SPACE有Bidi Class BN (Boundary Neutral)，也就是说，按照[Unicode的bidi算法](http://www.unicode.org/reports/tr9/)，算法中应该忽略它。并且从左到右呈现一串常见数字。

使用 U+200A HAIR SPACE 来解决这个问题（它的 Bidi 类是 WS，Whitespace），尽管它具有创建一点额外空间的效果，并且一些非常旧的浏览器（如 IE 6）可能会将其显示为一个框。使用它，你会写

```
<p style="direction: rtl;">12&#x200a;<sup>34</sup></p>    
<p style="direction: ltr;">12&#x200a;<sup>34</sup></p> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:53:26.627

**一个可能的解决方案是用`<span>`标签**包装每个数字。那是相当安全的。

您可能可以编写一个 javascript/jQuery 函数来遍历`<p>`特定类的标签，并用`<span>`标签将每个数字包装在其中，同时为`<sup`> 数字提供正确的样式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:58:05.613

另一种解决方案是实际显示两个版本并使用 CSS 样式显示正确的版本：

```
<sup class="rightLeft">34</sup>12<sup class="leftRight">34</sup> 
```

...然后在不同的样式表中设置您的 CSS，如下所示：

样式表 1 - 从左到右的格式：

```
.rightLeft {display: none;} 
```

样式表 2 - 从右到左的格式：

```
.leftRight {display: none;} 
```

# timesten - 如何从 2 个查询的组合中获得有限的行数

> ID：15021198
> 
> 赞同：1
> 
> 时间：2013-02-22T09:47:14.790
> 
> 标签：timesten

我面临一些逻辑问题。希望有人能找到我的解决方案

我有一个查询

```
select FirstName||'|'||LastName||to_char(salary) 
from (select FirstName,LastName,salary from subs_tbl where salary=24000) 
union all select FirstName||'|'||''||to_char(salary) 
from (select FirstName,LastName,salary from subs_tbl where salary=30000) 
```

所以我的结果将是

```
Satish|Kumar|24000

Vimal|Kumar|24000

Dinesh||30000 
```

假设我的结果有 3 行，但我需要向整个查询添加另一个条件，即我只需要这些查询组合中的 2 行。

请在这件事上给予我帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:51:19.060

```
select FirstName||'|'||LastName||to_char(salary) 
from (select FirstName,LastName from subs_tbl where salary=24000) 
union all select FirstName||'|'||''||to_char(salary) 
from (select FirstName,LastName from subs_tbl where salary=30000) limit 0,2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:49:59.957

试试这个避免你用过的工会

```
SELECT FirstName||'|'||LastName||to_char(salary) 
FROM subs_tbl 
WHERE salary=24000 or salary=30000) 
LIMIT 2 
```

编辑

```
SELECT fullname
FROM   (SELECT firstname
           || '|'
           || lastname
           || To_char(salary) AS 'FullName'
    FROM   (SELECT firstname,
                   lastname,
                   salary
            FROM   subs_tbl
            WHERE  salary = 24000)
    UNION ALL
    SELECT firstname
           || '|'
           || ''
           || To_char(salary) AS 'FullName'
    FROM   (SELECT firstname,
                   lastname,
                   salary
            FROM   subs_tbl
            WHERE  salary = 30000))
WHERE  rownum <= 5; 
```

希望这可以帮助

# c++ - foo::bar::baz() 在 C++ 中是什么意思？

> ID：15021209
> 
> 赞同：0
> 
> 时间：2013-02-22T09:47:41.097
> 
> 标签：c++

一个简单的问题：如果我有这样的一行：

```
int foo::bar::baz() {... 
```

这是如何解释的？baz() 是函数名，但 'foo' 是类还是命名空间？'bar' 是一个类还是一个子类或什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T09:50:10.310

两者`foo`和`bar`都可以是命名空间或类。

但是，如果`foo`是一个类，那么也是`bar`：你不能在一个类中嵌套一个命名空间。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T09:48:33.587

'bar' 是一个嵌套类或结构。它可以嵌套在名为“foo”的命名空间、类或结构中。

# mongodb - 如何通过指定集合名称将 ensureIndex 与 AdvancedDatastore 一起使用？

> ID：15021215
> 
> 赞同：1
> 
> 时间：2013-02-22T09:47:51.357
> 
> 标签：mongodb, morphia

在 morphia 中，您可以使用`@Index`注释为`@Entity`类创建自动索引。我正在尝试通过指定集合名称来创建这些索引，但找不到方法。使用`AdvancedDatastore`您可以将 保存`Entity`到您想要的任何集合中，但是否可以确保指定集合上的索引而不是`Entity`.

```
advancedDatastore.ensureIndexes(Entity.class); // This will create indexes on the mapped Entities. 
```

我正在寻找一种方法来执行以下操作，但我没有看到任何类似于下面的方法，是否有解决方法来实现这一点：

```
advancedDatstore.ensureIndexes("exampleCollection", Entity.class); //create indexes of Entity.class for the exampleCollection. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-14T19:22:39.253

是的，您可以扩展`AdvancedDatastore`接口和`DatastoreImpl`具体类以添加`ensureIndex*`带有额外参数的方法。我们在我们的组织中这样做并且它有效。

这里还有一个待处理的拉取请求，可以将此功能直接添加到 Morphia：[https](https://github.com/mongodb/morphia/pull/541) ://github.com/mongodb/morphia/pull/541 。如果您愿意构建自己的 Morphia jar，则可以使用此处列出的补丁。

# sql - 将行转置为列 sql

> ID：15021221
> 
> 赞同：0
> 
> 时间：2013-02-22T09:48:25.823
> 
> 标签：sql

```
Date        Ref     Number
20/02/2013  980717  20503
20/02/2013  980717  20506
20/02/2013  980717  20580
20/02/2013  980717  20582
21/02/2013  981783  20500
21/02/2013  981783  20567
21/02/2013  981783  20571
21/02/2013  981783  20577
21/02/2013  981783  20580
22/02/2013  982182  20500
23/02/2013  982856  20580
23/02/2013  982856  20500
24/02/2013  994244  20502
24/02/2013  994244  20501
24/02/2013  994244  20507 
```

有人可以帮我把它改成

```
Date        Ref     Number  Number  Number  Number  Number
20/02/2013  980717  20503   20506   20580   20582       
21/02/2013  981783  20500   20567   20571   20577   20580   
22/02/2013  982182  20500                   
23/02/2013  982856  20580   20500               
24/02/2013  994244  20502   20501   20507 
```

'number' 字段的列数应该是动态的，具体取决于为唯一 'ref' 找到的行

而且我还需要能够将日期设置为标准

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:56:29.030

我假设您使用的是 MYSQL。

如果是这样，我认为你应该尝试`GROUP_CONCAT`。它将在某一日期显示找到的所有数字。并且通过 distinct 你找到了重复数据删除。

```
SELECT Date, Ref, GROUP_CONCAT(DISTINCT NUMBER SEPARATOR ";") as Numbers
FROM ...
WHERE ...
GROUP BY Date, Ref 
```

它不会在不同的列**"Number"**中显示不同的数字。但是你可以在**“;”上爆炸你的****“数字”**列 分隔器。

 **笔记：

如果您使用它，您可能必须将您的数字转换为 char 才能在 phpmyadmin 中正确显示它们。否则，它可能只在 phpmyadmin 中显示“BLOB”。**

# ios - UITableViewController 是否等于 UITableViewDataSource、UITableViewDelegate

> ID：15021222
> 
> 赞同：3
> 
> 时间：2013-02-22T09:48:29.960
> 
> 标签：ios, objective-c

我们可以使用`UITableViewDataSource`，`UITableViewDelegate`完全替换`UITableViewController`，例如，这两个代码行之间有区别吗？

```
@interface ShareViewController : UITableViewController
@interface ShareViewController : UIViewController<UITableViewDataSource, UITableViewDelegate> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T09:53:44.937

这两行代码之间有很大的不同。这个

```
@interface ShareViewController : UITableViewController 
```

意味着您的 ShareViewController 继承自`UITableViewController`，因此它提供了例如一个`UITableView`作为主视图。这个

```
@interface ShareViewController : UIViewController<UITableViewDataSource, UITableViewDelegate> 
```

意味着您的 ShareViewController 是一个经典的 UIViewController （继承自`UIViewController`），并简单地实现协议来管理表视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:04:50.740

[UITableViewController](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewController_Class/Reference/Reference.html)最重要的是一个 UIView **Controller**。

它实现`UITableViewDataSource`和`UITableViewDelegate`协议，并有一个`tableView`属性/出口（这是他唯一的.view）。

一个 UITableView 是一个**UIView**。

* * *

要让 a`UIViewController`为您做几乎所有事情`UITableViewController`，您必须实现这两个协议，将 a 拖到`UITableView`您的`UIViewController`中，为其创建一个出口并将您的设置`UIViewController`为`delegate`和`dataSource`您的`tableView`出口

您可以通过单击 StoryBoard for iOS6+ 中的复选标记来将 a 添加`UIRefreshControl`到 a ，您必须在 a内部编写更多行来执行此操作`UITableViewControllers` `tableView``UITableView``UITableViewController`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:21:33.633

`UITableViewController`是一个`UIViewController`已经实现的`UITableViewDelegate, UITableViewDataSource`协议，因此当你用它继承你的类时，你不需要`ViewController`再次实现它们。就像是：

```
NS_CLASS_AVAILABLE_IOS(2_0) @interface UITableViewController : UIViewController <UITableViewDelegate, UITableViewDataSource> 
```

为了更清楚，`UITableViewDelegate, UITableViewDataSource`是`protocols`，`UITableViewController`而是`ViewController`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T09:52:53.347

```
@interface ShareViewController : UITableViewController 
```

上面的线意味着`ShareViewController`继承自`UITableViewController`

```
@interface ShareViewController : UIViewController<UITableViewDataSource, UITableViewDelegate> 
```

上一行表示`ShareViewController`继承自`UIViewController`并实现了`UITableViewDataSource, UITableViewDelegate`代表

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T09:55:50.363

如果您检查[UITableViewController](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewController_Class/Reference/Reference.html)的参考资料，您会发现它符合`UITableViewDataSource`但`UITableViewDelegate`仅仅符合相同的协议并不能使类相等。UITableViewController 是一个适合与`UITableView`s 一起使用的类，其中`UIViewController`可以与 any 一起使用`UIView`。

# sql - 带有 toplink 和 JPA 的 java.lang.IllegalArgumentException

> ID：15021227
> 
> 赞同：0
> 
> 时间：2013-02-22T09:48:38.063
> 
> 标签：sql, jpa

每当执行此查询时，我对 JPA 有疑问

```
@NamedQuery(name = "Usuario.getUsuarioIntento", query = "SELECT  u.intentos_id FROM Usuario u WHERE u.username = :username and u.borrado = 0") 
```

我收到此错误：

```
java.lang.IllegalArgumentException: NamedQuery of name: Usuario.getUsuarioIntento not found. 
```

但是如果我执行这个查询

```
@NamedQuery(name = "Usuario.getUsuarioIntento", query = "SELECT  u.id FROM Usuario u WHERE u.username = :username and u.borrado = 0") 
```

工作正常，为什么？

我的桌子，乌苏里奥：

[我的用户表](http://i48.tinypic.com/4kxj03.png)

我尝试将其他列用作“superusuario”、“version_jpa”但不起作用，唯一可以正常工作的列是“id”、“borrado”和“用户名”

类乌苏里奥：

```
@Temporal(TemporalType.TIMESTAMP)
private Date                fechaCreacion;

@Id
@GeneratedValue (strategy=GenerationType.AUTO)
private int                 id;

@OneToOne(cascade = CascadeType.ALL)
private Password            password;

@OneToMany(cascade = {CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.LAZY)
private List<Password>      clavesAntiguas;

@OneToOne
private Persona             persona;

private String              sessionId;

private String              username;

@ManyToOne(cascade = CascadeType.REFRESH)
private Rol                 rol;

@ManyToOne(cascade = CascadeType.REFRESH)
private Perfil              perfil;

@OneToOne (cascade = CascadeType.ALL)
private IntentosBloqueo     intentos;

private boolean             superUsuario;

private int                 borrado;
private int                 esManager;

@OneToMany ( cascade = {CascadeType.ALL} , fetch = FetchType.LAZY)
private Collection<UsuarioSociedad> sociedades; 

@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.REFRESH)
  @JoinTable (name="USR_UND_VIS",
  joinColumns={
   @JoinColumn (name="ID_USU", table="USUARIO", referencedColumnName="ID"),
  },
  inverseJoinColumns= 
   @JoinColumn (name="ID_UNI", table="UND_ORG", referencedColumnName="ID")
  )
  private List<UnidadOrganizativa> unidadesVisibles;

@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.REFRESH)
  @JoinTable (name="USR_UND_DIS",
  joinColumns={
   @JoinColumn (name="ID_USU", table="USUARIO", referencedColumnName="ID"),
  },
  inverseJoinColumns= 
   @JoinColumn (name="ID_UNI", table="UND_ORG", referencedColumnName="ID")
  )
  private List<UnidadOrganizativa> unidadesDisponibles; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:17:05.513

因为命名查询适用于实体 objetc 而不是数据库列。您尝试找到另一个包含该 ID 的实体对象。在这种情况下，您的命名查询将为您提供该实体类的对象，并且您可以从该对象获取该实体的 id 或任何字段。

JPA 命名查询不像 SQL 或 oracle 查询。

在 DB 中，您的列名是 xyz，但在实体中，您的列名是 ABC，那么您必须在命名查询中获取 ABC 而不是 XYZ。

# java - 转换器类 getAsObject 将参数传递给接受对象的服务类

> ID：15021233
> 
> 赞同：-1
> 
> 时间：2013-02-22T09:49:00.643
> 
> 标签：java, jsf, jsf-2, converter

`getAsObject`我对 Converter 类方法有疑问

我有一个服务叫`EmployeeService employeeService`

```
public List<Employees> getEmployees(Employees employees); 
```

如果我想从作为参数的 Converter 类的 getAsObject 调用上述方法

```
public Object getAsObject(FacesContext facesContext, UIComponent component,
            String value)
    employeeService.getEmployees(<?>) 
```

如何将`employees`对象传递给`getEmployees`方法`getAsObject`？

非常感谢任何帮助。

更新 1

```
@Entity
public class Employees implements Serializable {

private String employeeNumber;
private String employeeName; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:27:05.953

使用以下转换器，它只是将数字（`String`根据您的代码是 a ）转换为`Employee`对象：

```
@Named("employeeConverter")
public class EmployeeConverter implements Converter {

    @Inject
    private EmployeeService employeeService;

    public Object getAsObject(FacesContext context, UIComponent component, String value) {
        if(value == null || value.equals("")) {
            return null;
        }
        Employee employee = employeeService.getEmployeeByNumber(value);//or if it is not a String, replace value with Integer.parseInt(value)
        if(employee == null) {
            throw new ConverterException(new FacesMessage("Employee with number: " + value + " not found."));
        }
        return employee;
    }

    public String getAsString(FacesContext context, UIComponent component, Object value) {
        if (!(value instanceof Employee) || (value == null)) {
            return null;
        }
        return ((Employee)value).getEmployeeNumber();
    }

} 
```

并在您的视图中使用它`converter="#{employeeConverter}"`。

# jenkins - 根据两个条件触发 Jenkins 作业

> ID：15021235
> 
> 赞同：0
> 
> 时间：2013-02-22T09:49:00.933
> 
> 标签：jenkins

我在 Jenkins 有一份工作，在构建后安装和配置程序。我现在遇到的问题是它依赖于服务器和客户端都已构建。早些时候它们是按特定顺序构建的，所以我可以在最后一个构建时触发我的工作。从现在开始，我不知道哪个是先构建的，所以我需要其他东西来触发我的安装。我的第一个想法是让构建作业创建一个文件并根据其他作业是否已经创建文件来命名它。但我想我应该先在这里问，因为我认为应该可以更容易地做到这一点，而且更不容易出错......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:44:34.093

您可以尝试使用[Join Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Join+Plugin)，它会在所有直接下游作业完成后触发作业。然后，您可能需要配置一个将触发下游作业的父作业。

# c# - 如何检查工作表是否已存在于互操作中

> ID：15021237
> 
> 赞同：5
> 
> 时间：2013-02-22T09:49:16.237
> 
> 标签：c#, excel, excel-interop

我想在创建工作表之前检查工作表是否存在。

```
using Excel = Microsoft.Office.Interop.Excel;

Excel.Application excel = new Excel.Application();
excel.Visible = true;
Excel.Workbook wb = excel.Workbooks.Open(@"C:\"Example".xlsx");

Excel.Worksheet sh = wb.Sheets.Add();
int count = wb.Sheets.Count;

sh.Name = "Example";
sh.Cells[1, "A"].Value2 = "Example";
sh.Cells[1, "B"].Value2 = "Example"
wb.Close(true);
excel.Quit(); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2015-06-11T14:51:39.497

此扩展方法如果存在则返回工作表，否则返回 null：

```
public static class WorkbookExtensions
{
    public static Excel.Worksheet GetWorksheetByName(this Excel.Workbook workbook, string name)
    {
        return workbook.Worksheets.OfType<Excel.Worksheet>().FirstOrDefault(ws => ws.Name == name);
    }
} 
```

可以使用 linq 方法 .Any() 代替 FirstOrDefault 来检查工作表是否也存在......

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-22T09:53:47.443

创建一个这样的循环：

```
// Keeping track
bool found = false;
// Loop through all worksheets in the workbook
foreach(Excel.Worksheet sheet in wb.Sheets)
{
    // Check the name of the current sheet
    if (sheet.Name == "Example")
    {
        found = true;
        break; // Exit the loop now
    }
}

if (found)
{
    // Reference it by name
    Worksheet mySheet = wb.Sheets["Example"];
}
else
{
    // Create it
} 
```

我不是很喜欢 Office Interop，但想想看，你也可以尝试以下更短的方法：

```
Worksheet mySheet;
mySheet = wb.Sheets["NameImLookingFor"];

if (mySheet == null)
    // Create a new sheet 
```

但我不确定这是否会简单地返回`null`而不抛出异常；您必须自己尝试第二种方法。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-05-25T20:49:23.737

为什么不这样做：

```
try {

    Excel.Worksheet wks = wkb.Worksheets["Example"];

 } catch (System.Runtime.InteropServices.COMException) {

    // Create the worksheet
 }

 wks.Select(); 
```

另一种方法避免抛出和捕获异常，当然这是一个合理的答案，但我发现了这个并想把它作为替代方案。

# android - 检索 GCM 消息 Intent 的“内容”。

> ID：15021238
> 
> 赞同：2
> 
> 时间：2013-02-22T09:49:16.927
> 
> 标签：android, android-intent, push-notification, google-cloud-messaging

这是从服务器发送消息的方式：

```
 //Queue Android GCM Notification
        _pushService.QueueNotification(NotificationFactory.AndroidGcm()
            .ForDeviceRegistrationId(device)
            .WithCollapseKey("LATEST")
            .WithJson("{\"alert\":\"" + message + "\",\"badge\":\"7\"}")); 
```

我收到 Intent，如何获取消息？我试过了：

```
 Log.d(TAG, "" + intent.getStringExtra("{\"alert\":\""));
    Log.d(TAG, "" + intent.getStringExtra("LATEST"));
    Log.d(TAG, "" + intent.getStringExtra("data")); 
```

全部为空，消息文本值的键是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:02:16.107

明白了，它的

```
Bundle b = intent.getExtras();
Set<String> allThatsInThere = b.keySet(); 
```

# java - 将样式文本拖放到另一个 JTextPane

> ID：15021245
> 
> 赞同：2
> 
> 时间：2013-02-22T09:49:42.720
> 
> 标签：java, swing, jtextpane, jeditorpane

祝大家有美好的一天！

我正在开发支持样式的文本编辑器。在应用程序中将有几个文本编辑器。我认为允许将样式文本从一个 JTextPane 拖动到另一个是个好主意。看起来 JTextPane 支持拖动带有自身样式的文本。您可以启动下面的代码来检查它。但是当我将样式文本拖到另一个 JTextPane 时，插入的文本是 PLAIN。:( 我查看了源代码，发现了一个有趣的类——TextTransferHandler。调试后很明显，这个 TextTransferHandler 处理拖放。正如我在它的代码中看到的，它支持通过将文本转换为 RTF 或 HTML 来拖动样式文本。我试过了这个：

```
_tp.setEditorKit(new RTFEditorKit()); 
```

但没有成功。

我错过了什么吗？

编码：

```
package apps.editor;

import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ComponentAdapter;
import java.awt.event.ComponentEvent;
import java.awt.event.FocusAdapter;
import java.awt.event.FocusEvent;
import java.awt.event.InputEvent;
import java.awt.event.KeyEvent;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.net.URL;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.ResourceBundle;

import javax.swing.Action;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPopupMenu;
import javax.swing.JTextPane;
import javax.swing.JToolBar;
import javax.swing.KeyStroke;
import javax.swing.event.PopupMenuEvent;
import javax.swing.event.PopupMenuListener;
import javax.swing.text.DefaultEditorKit;
import javax.swing.text.DefaultStyledDocument;
import javax.swing.text.JTextComponent;
import javax.swing.text.Keymap;
import javax.swing.text.rtf.RTFEditorKit;

class EditorUtil2 {
    Action[] _actions;
    HashMap<String, Action> _actionHashMap = new HashMap<String, Action>();
    ResourceBundle _resourceBundle = BundleFactory.getBundle();
    JTextPane _initTextPane;
    Keymap _keymap;
    JPopupMenu _popupMenu; 
    ArrayList<JTextPane> _editors = new ArrayList<JTextPane>();

    public EditorUtil2() {
        _initTextPane = new JTextPane();
        hashDefaultActions();
        makeActionsPretty();
        makeKeymap();
        createPopupMenu();
    }

    private String getProperty(String key) {
        return _resourceBundle.getString(key);
    }

    private void hashDefaultActions() {
        _actions = _initTextPane.getActions();
        String name = null;
        for (int i=0; i<_actions.length; i++) {
            name = (String)_actions[i].getValue( Action.NAME );
            _actionHashMap.put( name, _actions[i] );
        }
    }    

    private Action getHashedAction(String name) {
        return (Action)_actionHashMap.get( name );
    }

    private void makeActionsPretty() {
        Action a;
        a = getHashedAction( DefaultEditorKit.cutAction );
        a.putValue( Action.SMALL_ICON, loadImage( getProperty("Toolbar.Icons.cut") ) );
        a.putValue( Action.NAME, getProperty("Toolbar.cut") );

        a = getHashedAction( DefaultEditorKit.copyAction );
        a.putValue( Action.SMALL_ICON, loadImage( getProperty("Toolbar.Icons.copy") ) );
        a.putValue( Action.NAME, getProperty("Toolbar.copy") );

        a = getHashedAction( DefaultEditorKit.pasteAction );
        a.putValue( Action.SMALL_ICON, loadImage( getProperty("Toolbar.Icons.paste") ) );
        a.putValue( Action.NAME, getProperty("Toolbar.paste") );

        a = getHashedAction("font-bold");
        a.putValue( Action.SMALL_ICON, loadImage( getProperty("Toolbar.Icons.bold") ) );
        a.putValue( Action.NAME, getProperty("Toolbar.bold") );

        a = getHashedAction("font-italic");
        a.putValue( Action.SMALL_ICON, loadImage( getProperty("Toolbar.Icons.italic") ) );
        a.putValue( Action.NAME, getProperty("Toolbar.italic") );

        a = getHashedAction("font-underline");
        a.putValue( Action.SMALL_ICON, loadImage( getProperty("Toolbar.Icons.underline") ) );
        a.putValue( Action.NAME, getProperty("Toolbar.underline") );
    }    

    private void makeKeymap() {
        _keymap = JTextComponent.addKeymap( "NewKeymap", _initTextPane.getKeymap() );

        //KeyStroke next       = KeyStroke.getKeyStroke( KeyEvent.VK_RIGHT, InputEvent.CTRL_MASK, false);
        //KeyStroke prev       = KeyStroke.getKeyStroke( KeyEvent.VK_LEFT, InputEvent.CTRL_MASK, false);
        //KeyStroke selectNext = KeyStroke.getKeyStroke( KeyEvent.VK_RIGHT, InputEvent.CTRL_MASK | InputEvent.SHIFT_MASK, false);
        //KeyStroke selectPrev = KeyStroke.getKeyStroke( KeyEvent.VK_LEFT, InputEvent.CTRL_MASK | InputEvent.SHIFT_MASK, false);
        KeyStroke cut        = KeyStroke.getKeyStroke( KeyEvent.VK_X, InputEvent.CTRL_MASK, false);
        KeyStroke copy       = KeyStroke.getKeyStroke( KeyEvent.VK_C, InputEvent.CTRL_MASK, false);
        KeyStroke paste      = KeyStroke.getKeyStroke( KeyEvent.VK_V, InputEvent.CTRL_MASK, false);
        KeyStroke bold       = KeyStroke.getKeyStroke( KeyEvent.VK_B, InputEvent.CTRL_MASK, false);
        KeyStroke italic     = KeyStroke.getKeyStroke( KeyEvent.VK_I, InputEvent.CTRL_MASK, false);
        KeyStroke underline  = KeyStroke.getKeyStroke( KeyEvent.VK_U, InputEvent.CTRL_MASK, false);

        //_keymap.addActionForKeyStroke( next, getHashedAction( DefaultEditorKit.nextWordAction ) );
        //_keymap.addActionForKeyStroke( prev, getHashedAction( DefaultEditorKit.previousWordAction ) );
        //_keymap.addActionForKeyStroke( selectNext, getHashedAction( DefaultEditorKit.selectionNextWordAction ) );
        //_keymap.addActionForKeyStroke( selectPrev, getHashedAction( DefaultEditorKit.selectionPreviousWordAction ) );
        _keymap.addActionForKeyStroke( cut, getHashedAction( DefaultEditorKit.cutAction) );
        _keymap.addActionForKeyStroke( copy, getHashedAction( DefaultEditorKit.copyAction ) );
        _keymap.addActionForKeyStroke( paste, getHashedAction( DefaultEditorKit.pasteAction ) );
        _keymap.addActionForKeyStroke( bold, getHashedAction( "font-bold" ) );
        _keymap.addActionForKeyStroke( italic, getHashedAction( "font-italic" ) );
        _keymap.addActionForKeyStroke( underline, getHashedAction( "font-underline" ) );
    }

    private ImageIcon loadImage(String path) {
        URL imageURL = this.getClass().getResource( path );
        return new ImageIcon( imageURL );
    }

    private void createPopupMenu() {
        _popupMenu = new JPopupMenu();

        ArrayList<Action> actions = new ArrayList<Action>();
        actions.add( getHashedAction( DefaultEditorKit.cutAction ) );
        actions.add( getHashedAction( DefaultEditorKit.copyAction ) );
        actions.add( getHashedAction( DefaultEditorKit.pasteAction ) );

        JMenuItem mi = null;
        for (Action a : actions) {
            mi = new JMenuItem();
            mi.setAction(a);
            mi.setAccelerator(_keymap.getKeyStrokesForAction( a )[0] );
            _popupMenu.add(mi);
        }

        _popupMenu.addPopupMenuListener(new PopupMenuListener() {

            @Override
            public void popupMenuWillBecomeVisible(PopupMenuEvent e) {
                System.out.println("will be visible");

            }

            @Override
            public void popupMenuWillBecomeInvisible(PopupMenuEvent e) {
                System.out.println("will be invisible");
                System.out.println("stop freeze");
                JTextPane tp = (JTextPane)_popupMenu.getInvoker();
                tp.getCaret().setBlinkRate(500);
                tp.getCaret().setVisible(false);
                //_popupOpened = false;
                tp.repaint();
                //tp.requestFocus();                
            }

            @Override
            public void popupMenuCanceled(PopupMenuEvent e) {
                System.out.println("menu canceled");
            }
        } );

        _popupMenu.addComponentListener( new ComponentAdapter() {
            @Override
            public void componentShown(ComponentEvent e) {
                System.out.println("menu shown");
            }
            @Override
            public void componentHidden(ComponentEvent e) {

            }

        });
    }

    boolean _popupOpened = false;

    public JTextPane createTextEditor() {
        final JTextPane tp = new JTextPane();
        _editors.add( tp );
        tp.setKeymap(_keymap);

        tp.addFocusListener(new FocusAdapter() {
            @Override
            public void focusLost(FocusEvent e) {
                if (_popupMenu.isShowing() && _popupMenu.getInvoker() == tp) {
                    JTextPane tp = (JTextPane)_popupMenu.getInvoker();
                    tp.getCaret().setBlinkRate(0);
                    tp.getCaret().setVisible(true);
                    tp.repaint();  
                }
            }
            @Override
            public void focusGained(FocusEvent e) {
                System.out.println("focus gained");
                for ( JTextPane t : _editors )
                    if ( t != tp )
                        t.setCaretPosition( t.getCaretPosition() );
            }
        });

        tp.addMouseListener(new MouseAdapter() {
            @Override
            public void mousePressed(final MouseEvent e) {
                System.out.println("mouse pressed");
                tp.requestFocus();
                if ( tp.getSelectionStart() == tp.getSelectionEnd() )
                    tp.setCaretPosition( tp.viewToModel( e.getPoint() ) );

                if ( e.isPopupTrigger() ) {
                    _popupMenu.show( e.getComponent(), e.getX(), e.getY() );
                }
            }
            @Override
            public void mouseReleased(MouseEvent e) {
                System.out.println("mouse released");
//                tp.requestFocus();
//                if ( e.isPopupTrigger() ) {
//                    _popupMenu.show( e.getComponent(), e.getX(), e.getY() );
//                }
            }
        });

        return tp;
    }

    public ArrayList<Action> getActionsForToolBar() {
        ArrayList<Action> actions = new ArrayList<Action>();
        actions.add( getHashedAction( DefaultEditorKit.cutAction ) );
        actions.add( getHashedAction( DefaultEditorKit.copyAction ) );
        actions.add( getHashedAction( DefaultEditorKit.pasteAction ) );
        actions.add( getHashedAction("font-bold") );
        actions.add( getHashedAction("font-italic") );
        actions.add( getHashedAction("font-underline") );
        return actions;
    }

    public ArrayList<JMenuItem> getMenuItems() {
        ArrayList<JMenuItem> items = new ArrayList<JMenuItem>();

        ArrayList<Action> actions = new ArrayList<Action>();
        actions.add( getHashedAction( DefaultEditorKit.cutAction ) );
        actions.add( getHashedAction( DefaultEditorKit.copyAction ) );
        actions.add( getHashedAction( DefaultEditorKit.pasteAction ) );

        JMenuItem mi = null;
        for (Action a : actions) {
            mi = new JMenuItem();
            mi.setAction(a);
            mi.setAccelerator(_keymap.getKeyStrokesForAction( a )[0] );
            items.add(mi);
        }            
        return items;
    }

}

public class TextEditorFrame2 extends LFrame {
    EditorUtil _editorUtil = new EditorUtil();
    JTextPane _tp;
    JTextPane _tp2;
    HashMap<String, Action> actionHashMap = new HashMap<String, Action>();

    public TextEditorFrame2() {
        setTitle("Editor");
        setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );
        _tp = _editorUtil.createTextEditor();
        _tp2 = _editorUtil.createTextEditor();

        add( createToolBar(), BorderLayout.NORTH );
        add( _tp, BorderLayout.CENTER );
        add( _tp2, BorderLayout.SOUTH );

        setJMenuBar( createMenuBar() );

        _tp.setDragEnabled(true);
        _tp2.setDragEnabled(true);

        //_tp.setContentType("text/rtf");
        _tp.setEditorKit(new RTFEditorKit());
        _tp2.setEditorKit(new RTFEditorKit());
        //_tp2.setContentType("text/rtf");

        System.out.println(_tp.getEditorKit());

        pack();
        setVisible(true);
        setLocation(200, 300);
    }

    private JToolBar createToolBar() {
        JToolBar tb = new JToolBar();
        ArrayList<Action> actions = _editorUtil.getActionsForToolBar();
        for (Action a : actions)
            tb.add( a );

        JButton button = new JButton("dump");
        tb.add(button);
        button.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                DefaultStyledDocument doc = (DefaultStyledDocument)_tp.getStyledDocument();
                doc.dump(System.out);
            }
        });

        return tb;
    }

    private JMenuBar createMenuBar() {
        JMenuBar mb = new JMenuBar();
        JMenu edit = new JMenu("Edit");
        mb.add(edit);

        ArrayList<JMenuItem> items = _editorUtil.getMenuItems();
        for (JMenuItem i : items)
            edit.add( i );

        return mb;
    }

    public static void main(String[] args) {
        new TextEditorFrame();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T11:20:28.247

You can try the kit [http://java-sl.com/advanced_rtf_editor_kit.html](http://java-sl.com/advanced_rtf_editor_kit.html)

It supports much more RTF features than default one. Also it supports copy/paste styled content. Guess it will work ok with D&D as well.

# objective-c - 使用 ObjectiveC 在我的 iPad 应用程序和 PC 之间共享文件

> ID：15021249
> 
> 赞同：2
> 
> 时间：2013-02-22T09:49:56.170
> 
> 标签：objective-c, cocoa

我的 ipad 应用程序创建了一个 CSV 文件，我想将它复制到位于 smb://windowssever/d$/myfolder 的 windows pc 中。

我的 Windows PC 需要身份验证，即需要用户名和密码才能连接。

我正在使用以下代码进行复制，但不确定在以下代码中应该在哪里提供 PC 的用户名和密码。

```
NSFileManager *filemgr;
filemgr = [NSFileManager defaultManager];
if ([filemgr copyItemAtPath: @"/tmp/myfile.csv" toPath: @"smb://windowssever/d$/myfolder/myfile.csv" error: NULL]  == YES)
        NSLog (@"Copy successful");
else
        NSLog (@"Copy failed"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T13:52:50.453

我相信带有用户名和密码的正确 URI 是：

```
@"smb://WORKGROUP;USERNAME:PASSWORD@windowssever/d$/myfolder/myfile.csv"
```

# c# - InvalidOperationException：序列包含多个元素

> ID：15021257
> 
> 赞同：11
> 
> 时间：2013-02-22T09:50:10.823
> 
> 标签：c#, visual-studio-2010

我在下面的工资单程序中有以下代码。第一个字典包含主数据表中保存的员工 ID 和相应的基本工资。第二个字典保存员工 ID 和相应的基本工资，保存在薪金装配表中 - 用于处理。我想更新主表中不匹配的每个员工 ID 的基本工资。（工资变化）。

```
var OHEMDictionary = employees.OrderBy(es => es.empID)
                     .ToDictionary(od => od.empID,
                     od => od.salary);

var SalaryFitmentDictionary = salaryFitments
                              .Where(x => x.U_PD_Code.Trim().ToString() == "SYS001")
                              .OrderBy(es => es.U_Employee_ID)
                              .ToDictionary(od => od.U_Employee_ID,
                                            od => od.U_PD_Amount);

var difference = OHEMDictionary
                .Where(kv => SalaryFitmentDictionary[kv.Key] != kv.Value);

difference.ToList().ForEach(x =>
                    {
                        decimal salary = x.Value.Value;

                        var codeToUpdate = salaryFitments
                                        .Where(y => y.U_Employee_ID.Equals(x.Key))
                                        .Select(z => z.Code)
                                        .SingleOrDefault(); `**<---exception thrown here**`

                        var salaryFitment = salaryFitmentService
                                            .GetSalaryFitment(codeToUpdate);

                        if (salaryFitment != null)
                        {
                            // Save record
                            salaryFitmentService
                           .UpdateSalaryFitment(salaryFitment, salary.ToString());
                        }
                    }); 
```

但是，我不断收到错误消息`'Sequence contains more than one element'`。我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-02-22T09:51:45.673

您可以使用 FirstOrDefault() 但如果存在多个元素，则 SingleOrDefault 会引发异常。

在这里您可以确切地看到单一或默认方法的作用：http: [//msdn.microsoft.com/en-us/library/system.linq.enumerable.singleordefault (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.singleordefault(v=vs.100).aspx)

# printing - 我们如何确定要在 xps documentViewer 中打印的页面？

> ID：15021258
> 
> 赞同：1
> 
> 时间：2013-02-22T09:50:13.913
> 
> 标签：printing, xps, documentviewer

当我想使用 DocumentViewer（我由 DocumentPaginator 创建它）打印 XPS 文档时，打印对话框仅显示我打印所有页面并且我无法确定要打印的页码，我们如何对 documentViewer 说打印一些页面范围而不是所有页面？（确定页码或当前页面已禁用）！

# ruby - 如何将红宝石字符串左对齐或右对齐？

> ID：15021261
> 
> 赞同：23
> 
> 时间：2013-02-22T09:50:20.247
> 
> 标签：ruby, string

我有几个红宝石字符串，我想适当地左右对齐。

我现在`"Name".center(20, " ")`用来获取`"(7 spaces)Name(8 spaces)"`

我怎样才能达到`"Name(15 spaces)"`或`"(15 spaces)Name"`

谢谢。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-02-22T10:05:39.973

```
"Name".ljust(19)
"Name".rjust(19) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-22T10:00:40.073

Ruby 在[`printf`](http://www.ruby-doc.org/core-1.9.3/Kernel.html#method-i-printf)中定义了一个方法`Kernel`，尝试使用它。

它支持许多常见的“ `f`”（“格式”，如 in `scanf`, `printf`, ...）选项（参见 eg `man 3 printf`）。

左右对齐可以这样完成（从评论中提取）：

```
printf("%10s", "right")
printf("%-10s","left") 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T10:07:53.300

## 插入*n*个字符的副本

当然还有其他方法可以做到这一点，但其中之一是使用 splat 运算符复制字符（例如空格字符）一定次数。例如：

```
puts (' ' * 15) + 'Name'
puts 'Name' + (' ' * 15) 
```

# javascript - 使用来自 json 的值填充输入字段

> ID：15021264
> 
> 赞同：0
> 
> 时间：2013-02-22T09:50:31.237
> 
> 标签：javascript, jquery, ruby-on-rails, ajax, json

在我的 rails 应用程序中，我需要使用 json 中的值填充 1 个字段，该值是通过单击链接返回的。有没有关于如何正确使用 ajax 来做这样的事情的教程？这是我的计划如何做到这一点：

1.向我的json发送get请求`appname/controller/action.json`

2.`parse`客户端的这个json

`value`3.解析json的字段集

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:57:19.257

假设 data 是 JSON 对象，您可以在 $.getJSON 回调中使用它：

```
var $inputs = $('form input');
$.each(data, function(key, value) {
  $inputs.filter(function() {
    return key == this.name;
  }).val(value);
}); 
```

**第二种方式**
例如：[JS小提琴](http://jsfiddle.net/anilkamath87/XspdN/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T09:59:53.367

我假设你的 json 字符串是这样的

```
 [{"id":"1","name":"test1"},{"id":"2","name":"test2"},{"id":"3","name":"test3"},{"id":"4","name":"test4"},{"id":"5","name":"test5"}] 
```

使用 $.getJSON 方法：

```
$.getJSON('/appname/controller/action.json', { get_param: 'value' }, function(data) {
    $.each(data, function(index, element) {
        $('body').append($('<div>', {
            text: element.name
        }));
    });
}); 
```

# c# - MVC Helper TextArea - 占位符不显示

> ID：15021268
> 
> 赞同：10
> 
> 时间：2013-02-22T09:50:35.137
> 
> 标签：c#, asp.net-mvc, html-helper

我的 .cshtml 中有以下代码：

```
 @Html.TextArea("txtComments", new { style = "width: 450px;", placeholder = "Enter Comments here" }) 
```

但是占位符根本不显示。我错过了什么吗？

来源：

```
<textarea cols="20" id="txtComments" name="txtComments" placeholder="Enter Comments here" rows="2" style="width: 450px;">
</textarea> 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-22T09:52:14.833

在样式和占位符之前放一个@，就像这样，甚至可以放在`htmlAttributes:`它之前。

```
@Html.TextArea("txtComments", htmlAttributes: new { @style = "width: 450px;", @placeholder = "Enter Comments here" }) 
```

这是我得到的*确切*输出：

```
<textarea cols="20" id="txtComments" name="txtComments" placeholder="Enter Comments here" rows="2" style="width: 450px;"></textarea> 
```

如果显示占位符但仍未显示，请确保您使用的是最新的网络浏览器，您可以在此处找到支持的浏览器列表：http: [//caniuse.com/input-placeholder](http://caniuse.com/input-placeholder)

```
< IE10 does not support it. 
```

如果您确实需要这些浏览器的支持，也许这个解决方案会对您有所帮助：[http ://webdesignerwall.com/tutorials/cross-browser-html5-placeholder-text](http://webdesignerwall.com/tutorials/cross-browser-html5-placeholder-text)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-02T08:32:57.870

这个对我有用（asp.net v4.6.2 mvc5）：

```
@Html.TextAreaFor(model => model.MyMessageForm.MessageText, new { placeholder = "Your msg here...", @class = "form-control" } ) 
```

# php - cakephp 从 db 获取数据

> ID：15021271
> 
> 赞同：0
> 
> 时间：2013-02-22T09:51:02.693
> 
> 标签：php, mysql, cakephp

我是 cakephp 新手，如何在 cakephp 中编写下面的 sql 查询

```
$sql = "SELECT * FROM `user` WHERE `email` = '" . $email . "' AND  `password` = '" . $password . "'";

$result = mysql_query($sql, $connection);

while($fetchdata = mysql_fetch_assoc($result)){
    echo $fetchdata['name'];
} 
```

请帮助我谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:55:33.657

在您的用户控制器中，您可以执行以下操作：

```
$this->set('user',$this->User->find('all', array ('conditions' => array('email' => $email, 'password' => $password)))); 
```

在你看来

```
foreach ($user as $us) {
   echo($us['name']);
//your code
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:54:15.240

阅读此内容以使用 cakephp 框架轻松进行身份验证 [http://book.cakephp.org/2.0/en/tutorials-and-examples/blog-auth-example/auth.html](http://book.cakephp.org/2.0/en/tutorials-and-examples/blog-auth-example/auth.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T09:58:22.067

对于您的查询：

```
<?php

 $this->loadmodel('User');
 $result = $this->User->find('first',array('conditions' => array('email' => $email,  
 'password' => $password)));
 foreach($result as $row)
 {
   //do whatever you want to do

 }
?> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T10:05:43.770

使用 cakephp`find`方法来做到这一点。

```
<?php

    $users = $this->User->find('first',array
    (
        'conditions' => array
        (
            'User.email'    => $email,
            'User.password' => $password
        )
    ));

    pr($users);
    exit;

?>
```

我已添加`pr($users);exit;`用于调试查询结果。

您还可以通过`recursive`,`limit`等`order`以及 find 方法`find`在[cakephp上阅读更多信息](http://cakephp.org)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-02-09T05:37:18.597

如果您在用户控制器中，则无需加载模型并连接数据库。如果您从另一个模型访问用户模型，则将您的用户模型加载到您的控制器中。您可以通过两种方式加载模型

```
$this->loadmodel('User');
or
public $uses = array('User');
$results = $this->User->find('all',array('conditions' => array('email' => $email,'password' => $password)));
$this->set(compact('results ')); 
```

现在在你的视图文件中使用这个

```
foreach ($results as $users) {
  echo h($users['User']['email']);
  echo h($users['User']['password']);
} 
```

# php - 提交后使Html表单消失

> ID：15021273
> 
> 赞同：-2
> 
> 时间：2013-02-22T09:51:15.697
> 
> 标签：php, html, post

如何在提交后使 Html 表单消失并显示按钮以使表单再次出现并清除结果？

```
<?php
if(isset($_POST['submit']))
{
    $name = $_POST['name'];
    echo "User Has submitted the form and entered this name : <b> $name </b>";
    echo "<br>You can use the following form again to enter a new name.";
}
?>
<form method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
   <input type="text" name="name"><br>
   <input type="submit" name="submit" value="Submit Form"><br>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:52:25.850

注意：在`else`条件中包装 html

```
<?php
if(isset($_POST['submit']))
{
    $name = $_POST['name'];
    echo "User Has submitted the form and entered this name : <b> $name </b>";
    echo "<br>You can use the following form again to enter a new name.";
}
else{
?>
<form method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
   <input type="text" name="name"><br>
   <input type="submit" name="submit" value="Submit Form"><br>
</form>
<?php }?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:52:28.230

你只需要插入你的整个`form`内部`else`部分

```
<?php
if(isset($_POST['submit']))
{
    $name = $_POST['name'];
    echo "User Has submitted the form and entered this name : <b> $name </b>";
    echo "<br>You can use the following form again to enter a new name.";
    echo "<a href='your_page.php'> Page</a>";
} else {
?>
 <form method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
  <input type="text" name="name"><br>
  <input type="submit" name="submit" value="Submit Form"><br>
 </form>
<?ph } ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:52:51.673

```
<form id="myform" method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
    <input type="text" name="name"><br>
    <input type="submit" name="submit" value="Submit Form" onclick="document.getElementById('myform').style.display='none'"><br>
</form> 
```

# jquery - jquery中的树结构

> ID：15021276
> 
> 赞同：1
> 
> 时间：2013-02-22T09:51:23.770
> 
> 标签：jquery, treeview

我需要一个树结构的帮助，这里有代码，我从网上得到的，我需要用展开和折叠功能来显示它......

```
var treeNodes = [
                             {parent:-1,id:0,name:'root'},
                             {parent:1,id:3,name:'net'},
                             {parent:1,id:4,name:'flash '},
                             {parent:3,id:7,name:'South korea'},
                             {parent:6,id:8,name:'West korea'},
                             {parent:0,id:1,name:'Microsoft'},
                             {parent:1,id:5,name:'Google'},                          
                             {parent:0,id:2,name:'JPmorgon Intl'},
                             {parent:2,id:6,name:'SW'}
                         ];
            $("#container").append( buildNestedList(treeNodes, 0) );

            function buildNestedList(treeNodes, rootId) {
                  var nodesByParent = {};

                  $.each(treeNodes, function(i, node) {
                    if (!(node.parent in nodesByParent)) nodesByParent[node.parent] = [];
                    nodesByParent[node.parent].push(node);
                  });

                  function buildTree(children) {
                    var $container = $("<ul>");
                    if (!children) return;
                    $.each(children, function(i, child) {
                      $("<li>", {text: child.name})
                      .appendTo($container)
                      .append( buildTree(nodesByParent[child.id]) );
                    });
                    return $container;
                  }
                  return buildTree(nodesByParent[rootId]);
                } 
```

任何人请指导我。我需要设置 + 和 _ 图像来展开和折叠树结构。

提前致谢

# iphone - 如何在 Safari 等 Webkit 浏览器中使用图像作为边框底部？

> ID：15021279
> 
> 赞同：3
> 
> 时间：2013-02-22T09:51:34.793
> 
> 标签：iphone, ios, css, mobile-safari

StackOverflow 上有一些关于如何使用边框图像的问题，但这些问题已经过时了。

我们有一个简单的需求：使用图像作为底部边框。我们只需要支持 Webkit 浏览器，特别是移动 Safari。

我们应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T03:21:42.663

对于仅边框底部的图像，请使用`border-bottom-image`css3 属性。

仅对于`webkit`浏览器，请使用以下内容`-webkit-border-bottom-image`

`mobile safari` [支持](https://discussions.apple.com/thread/3031106?start=0&tstart=0)css3。

**更新**：

根据[css3Info](http://www.css3.info/preview/border-image/)，

只有[`border-image`](https://developer.mozilla.org/en-US/docs/CSS/border-image#Browser_compatibility/#Syntax)属性在 Safari 中有效。

所以，[**使用**](http://css-infos.net/property/-webkit-border-image)：

```
-webkit-border-image: url(filePath) 0 0 5 0 repeat;  // top, right, bottom , left
 border-image: url(filePath) 0 0 5 0 repeat;  // top, right, bottom , left 
```

您可能需要检查[兼容性表](https://developer.mozilla.org/en-US/docs/CSS/border-image#Browser_compatibility)。

# javascript - 在多个选项卡中使用相同的选择框

> ID：15021281
> 
> 赞同：0
> 
> 时间：2013-02-22T09:51:39.147
> 
> 标签：javascript, jquery, jquery-ui-tabs

我使用 jQuery，并且我有多个选项卡，它们看起来大多不同。有一个在所有选项卡上共享的选择框，我基本上希望它在所有不同的选项卡上具有相同的值和选定的值，所以如果它在一个选项卡中更改，那么它也会在另一个选项卡中更改。

```
<div id="tabs">
<ul>
    <li><a href="#tab-1">Tab 1</a></li>
    <li><a href="#tab-2">Tab 2</a></li>
</ul>
<div id="tab-1">
    Content 1
    <select>
        <option>op1</option>
        <option>op2</option>
    </select>
</div>
<div id="tab-2">
    Content 2
    <select>
        <option>op1</option>
        <option>op2</option>
    </select>
</div>
</div> 
```

并且标签被选中

```
$(document).ready(function(){
    $("#tabs").tabs();
} 
```

我希望将第一个选择框复制到第二个选项卡上，或者始终与另一个选择框相同。有没有一种干净的方法来做到这一点（不复制 tab.change() 或其他东西），或者可能是一种完全不同的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:20:23.220

我希望这个对你有用。代码写得很匆忙。对造成的不便表示歉意。

```
<div id="tabs">
<ul>
<li><a href="#tab-1">Tab 1</a></li>
<li><a href="#tab-2">Tab 2</a></li>
</ul>
<div id="tab-1">
Content 1
<span id="fcont"><select><option>op1</option><option>op2</option></select></span>
</div>
<div id="tab-2">
Content 2
<span id="scont"></span>
</div>
</div> 
```

在 jQuery 中

```
$(function()
{
   var mysel= "";
   $("#tabs").tabs();              
    $('#tab-1').click(function()
   {
     mysel = $("#scont").html();
     if(mysel)
     {
       $("#fcont").html(mysel);
       $("#scont").html("");
     }
   });
   $('#tab-2').click(function()
   {
     mysel = $("#fcont").html();
     $("#scont").html(mysel);
     $("#fcont").html("");
   });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T09:54:21.630

您是否尝试过使用`.clone`jQuery 函数。

```
$(SELECT).clone().append(NEWTAB_HTML); 
```

详细地。

```
$(function()
{
    $("#tabs").tabs();

    $('#tab-2').click(function()
    {
        var newSelect = $('#tab-1 select').clone().attr('id','new_id_value');
        $(this).append(newSelect);
    });

}); 
```

# android - 致命错误 Spinner 和 ArrayAdapter

> ID：15021288
> 
> 赞同：1
> 
> 时间：2013-02-22T09:52:01.163
> 
> 标签：android

我有微调器的这部分代码。但我得到致命的错误。这里有什么问题？谢谢！我的活动扩展了 FragmentActivity。

```
 Spinner spinner;
                String[] layers = {getString(R.string.a), getString(R.string.b), getString(R.string.c)};

                LayoutInflater li = LayoutInflater.from(this);
                View v;
                v  = li.inflate(R.layout.nearest, null);

                ArrayAdapter<String> adapter = new ArrayAdapter<String>(MyActivity.this, android.R.layout.simple_spinner_item, layers);
                spinner = (Spinner) findViewById(R.id.spinner_nearest);
                spinner.setAdapter(adapter);

                AlertDialog.Builder builder = new AlertDialog.Builder(this);
                builder.setView(v);

                builder.setCancelable(true);
                AlertDialog alert = builder.create();
                alert.show();} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:08:14.050

你的微调器在**nearest.xml**吗？

然后改为

```
spinner = (Spinner) v.findViewById(R.id.spinner_nearest); 
```

# c++ - CUDA：将全局内存写入和读取与计算能力同步 1.1

> ID：15021291
> 
> 赞同：1
> 
> 时间：2013-02-22T09:52:11.697
> 
> 标签：c++, c, cuda, gpgpu

好吧，在 nVidia 论坛上找到了解决方案（[https://devtalk.nvidia.com/default/topic/458062/atomicadd-float-float-atomicmul-float-float-/](https://devtalk.nvidia.com/default/topic/458062/atomicadd-float-float-atomicmul-float-float-/)）。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:02:22.597

首先，这段代码是一堆重复的乱码，会让调试非常痛苦。找出哪些子表达式是多余的，并将它们分成不同的变量，这样你的代码就变得更清晰了。否则，寻求有关此代码的帮助与寻求帮助赢得彩票一样有意义。没有人会费心阅读您的代码，因为它很碍眼。

运行单线程解决方案。使用分析器来确定此代码的哪些部分最适合并行化，否则您的优化只是猜测，您无法用可衡量的术语表示。我猜想，一旦您运行了单线程解决方案，您可能会通过在每个内核上以独立的值范围并行运行相同的解决方案来获得相当好的性能，因此几乎不需要同步。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:04:11.043

序列化可以通过使用[Atomic Functions](http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#atomic-functions)来实现。

Compute Capability 1.1 不支持浮点数的 atomicAdd()，但可以基于 atomicCAS()（比较和交换）实现任何原子操作。

# python - 使用 Flask-Restless 配置 Flask-SQLAlchemy 以使用多个数据库

> ID：15021292
> 
> 赞同：22
> 
> 时间：2013-02-22T09:52:14.963
> 
> 标签：python, flask, flask-sqlalchemy

我有一个使用 Flask-SQLAlchemy 的 Flask 应用程序，我正在尝试将其配置为使用 Flask-Restless 包的多个数据库。

根据[文档](https://flask-sqlalchemy.palletsprojects.com/en/2.x/binds/)，将模型配置为使用多个数据库`__bind_key__`似乎非常简单。

但是，它似乎对我不起作用。

我创建我的应用程序并像这样初始化我的数据库：

```
from flask import Flask
from flask.ext.sqlalchemy import SQLAlchemy

SQLALCHEMY_DATABASE_URI = 'postgres://db_user:db_pw@localhost:5432/db_name'
SQLALCHEMY_BINDS = {
    'db1': SQLALCHEMY_DATABASE_URI,
    'db2': 'mysql://db_user:db_pw@localhost:3306/db_name'
}

app = Flask(__name__)
db = SQLALchemy(app) 
```

然后定义我的模型，包括`__bind_key__`，它应该告诉 SQLAlchemy 它需要使用哪个数据库：

```
class PostgresModel(db.Model):

    __tablename__ = 'postgres_model_table'
    __bind_key__ = 'db1'

    id = db.Column(db.Integer, primary_key=True)
    ...

class MySQLModel(db.Model):

    __tablename__ = 'mysql_model_table'
    __bind_key__ = 'db2'

    id = db.Column(db.Integer, primary_key=True)
    ... 
```

然后我像这样启动 Flask-Restless：

```
manager = restless.APIManager(app, flask_sqlalchemy_db=db)
manager.init_app(app, db)

auth_func = lambda: is_authenticated(app)

manager.create_api(PostgresModel,
                   methods=['GET'],
                   collection_name='postgres_model',
                   authentication_required_for=['GET'],
                   authentication_function=auth_func)

manager.create_api(MySQLModel,
                   methods=['GET'],
                   collection_name='mysql_model',
                   authentication_required_for=['GET'],
                   authentication_function=auth_func) 
```

该应用程序运行良好，当我点击时，我`http://localhost:5000/api/postgres_model/[id]`从 Postgres DB 中获得了对象的预期 JSON 响应（我猜这是因为我在 SQLALCHEMY_DATABASE_URI 中有它的凭据）。

虽然当我点击时`http://localhost:5000/api/mysql_model/[id]`，我得到一个`mysql_model_table`不存在的错误，表明它在 Postgres 数据库中查找，而不是 MySQL 数据库。

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-02-22T15:32:49.187

由于一个简单的错字，这不起作用：

```
__bind_key = 'db1' 
```

本来应该

```
__bind_key__ = 'db1' 
```

我已经更新了原始问题并修复了错字，以此作为对其他人工作的一个例子。

# ios - 苹果对 iCloud 的“全有或全无”立场：这是一个硬性指导方针吗？

> ID：15021296
> 
> 赞同：5
> 
> 时间：2013-02-22T09:52:20.353
> 
> 标签：ios, app-store-connect, icloud

Apple 文档似乎一致声明，用户生成的文档要么**全部**存储在本地，要么**全部**存储在 iCloud 上。这是[此 iOS 页面](https://developer.apple.com/library/archive/documentation/DataManagement/Conceptual/DocumentBasedAppPGiOS/ManageDocumentLifeCycle/ManageDocumentLifeCycle.html#//apple_ref/doc/uid/TP40011149-CH4-SW1)中的一个示例（对*All*的强调是他们的）：

> *应用程序的所有*文档都存储在本地沙箱或 iCloud 容器目录中。用户不应该能够选择单个文档存储在 iCloud 中。

我想允许用户单独管理文档：也许他们希望一个在本地（从他们的 iCloud 配额中节省空间），另一个在 iCloud 上以便他们可以跨设备操作它，另一个在 DropBox 上以便他们可以将其复制到朋友的帐户中或手动备份，甚至可以在外部进行编辑。全有或全无的方法实际上会妨碍灵活性，尤其是当我介绍[DropBox sync](https://www.dropbox.com/developers/sync)时。就我而言，个人选择也使 UI 更简单。

所以问题是：如果我坚持我的计划，允许用户为每个文档选择他们的存储偏好（本地、iCloud 和很快的 DropBox），我会在审阅时遇到麻烦吗？我还没有找到具体的指导方针。**编辑**：[指南](https://developer.apple.com/app-store/review/guidelines/#functionality)甚至都没有提到 iCloud。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T22:11:18.350

这是*应该*的，而不是*必须*的（就像您*应该*支持 iPad 上的所有方向一样，但我认为如果 UI 需要完全返工，它们不会强迫您这样做）。如果你有一个足够引人注目的用例和一个不笨拙的 UI，我怀疑他们会让它通过，但我还没有测试过。

如果它不在审查指南中，那么除了对“可用性”的任何要求之外，我怀疑它是拒绝的理由——但老实说，考虑到 UI 的平均质量，我不会太担心。

（实际上，对该指南的严格解释是，您不应该使用 Dropbox/Google Drive/etc/roll-your-own-cloud-storage，但除非他们邀请反垄断诉讼，否则这几乎肯定不是意图。 )

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T23:12:51.623

我为一个带有 iCloud 的应用程序做了很多测试。我一开始的假设是，无论一切是否都在 iCloud 中，对用户来说都是透明的，否则苹果为什么会建议这种方法？

不幸的是，他们在推出之前没有对其进行全面测试。我在 iOS 4 和 5 的 iCloud 和 UIDocument 中遇到了很多问题（许多奇怪的崩溃的雷达条目）。事实上，我可能将一半的开发时间都花在了这个问题上，而不是让应用程序变得更好。

无论如何，最重要的是，当访问仅在云上运行的文档时，我的应用程序要慢得多。Apple 确实尝试在 Mobile Documents 目录中缓存文档。关于如何确定缓存状态的信息很少，因此尝试解决不可用的文档或速度缓慢的问题。UI 最终在 UITableViews 中非常生涩，或者在系统库中彻底崩溃。

所以，底线是我的应用程序将所有内容存储在本地。如果用户进行了更改，应用程序会将其复制到 iCloud 本身并运行后台进程以监控文档在云中的状态。它还手动传输由 iCloud 上的另一台设备更改的文件，以保持一切同步，再次在后台进程中。

我没有收到苹果评论家的任何抱怨。如果我这样做了，我会将它们指向许多雷达条目。

# ruby-on-rails - 在rails的不同控制器中使用对象

> ID：15021301
> 
> 赞同：0
> 
> 时间：2013-02-22T09:52:26.100
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我正在使用 Rails 3、mac os 山狮和 Ruby 1.9.3

所以我有这个对象叫做object1。我为它构建了一个搜索功能，它可以正常工作：

```
def self.search(search)
  search_condition = "%" + search + "%"
  if search
    find(:all, :conditions => ['name LIKE ?', search_condition])
  else
    find(:all)
  end
end 
```

现在我想在object2中使用它。所以在object2控制器中我写道：

```
def search
  @results = Object1.search(params[:search])
end 
```

在视图中：

```
= form_tag object2_path, :method => 'get' do
  #{text_field_tag :search, params[:search], :id => 'search_field'}
  #{submit_tag "Search", :name => nil}

- for result in @results
  %li
    = result.name 
```

但由于某种原因，@results 返回 nil。我在做什么有什么问题？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:21:30.177

您进行搜索的代码是正确的，这不是问题。在您看来，您写道：

```
= form_tag object2_path, :method => 'get' do 
```

除非您采取特殊措施，否则这将影响`index`您的 object2-controller 的方法。因此，您可以通过将索引方法更改为搜索是否已`params[:search]`定义来解决此问题。

或者更改表单的路径以转到搜索路径并确保它呈现正确的视图。

HTH。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T07:47:25.220

您是否确定在 routes.rb 中定义了搜索方法？如果您不这样做，它将默认为 show 操作，并且可能未设置 @search。

您可能还想更改表单的 URL：

```
form_tag object2_path, :method => 'get' do 
```

至

```
form_tag search_object2_path, :method => 'get' do 
```

您的控制器代码对我来说看起来不错。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T10:18:29.047

始终将通用代码放在应用程序助手中；

**应用助手：**

```
module ApplicationHelper
  def search(search)
    search_condition = "%" + search + "%"
      if search
        find(:all, :conditions => ['name LIKE ?', search_condition])
      else
        find(:all)
      end
  end
end 
```

现在您可以从控制器中调用该方法，例如：

```
search(params[:search]) 
```

如果您想确定如何从控制器调用辅助方法，请查看[此](https://stackoverflow.com/questions/8908901/calling-helper-method-from-rails-3-controller)SO 帖子。

# c# - 导致死锁的异步/等待示例

> ID：15021304
> 
> 赞同：108
> 
> 时间：2013-02-22T09:52:29.983
> 
> 标签：c#, task-parallel-library, deadlock, async-await, c#-5.0

我遇到了一些使用 c# 的`async`/`await`关键字进行异步编程的最佳实践（我是 c# 5.0 的新手）。

给出的建议之一如下：

**稳定性：了解您的同步上下文**

...一些同步上下文是不可重入的和单线程的。这意味着在给定时间只能在上下文中执行一个工作单元。这方面的一个示例是 Windows UI 线程或 ASP.NET 请求上下文。在这些单线程同步上下文中，很容易让自己陷入死锁。如果您从单线程上下文生成任务，然后在上下文中等待该任务，您的等待代码可能会阻塞后台任务。

```
public ActionResult ActionAsync()
{
    // DEADLOCK: this blocks on the async task
    var data = GetDataAsync().Result;

    return View(data);
}

private async Task<string> GetDataAsync()
{
    // a very simple async method
    var result = await MyWebService.GetDataAsync();
    return result.ToString();
} 
```

如果我尝试自己剖析它，主线程`MyWebService.GetDataAsync();`会在`GetDataAsync().Result`. 同时，说数据准备好了。为什么主线程不继续它的延续逻辑并返回一个字符串结果`GetDataAsync()`？

有人可以解释一下为什么上面的例子中会出现死锁吗？我完全不知道问题是什么......

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2013-02-22T10:37:37.090

看看[这个例子](http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html)，斯蒂芬给你一个明确的答案：

> 所以这就是发生的事情，从顶级方法开始（`Button1_Click`对于 UI /`MyController.Get`对于 ASP.NET）：
> 
> 1.  顶级方法调用`GetJsonAsync`（在 UI/ASP.NET 上下文中）。
>     
>     
> 2.  `GetJsonAsync`通过调用`HttpClient.GetStringAsync`（仍在上下文中）启动 REST 请求。
>     
>     
> 3.  `GetStringAsync`返回 uncompleted `Task`，表示 REST 请求未完成。
>     
>     
> 4.  `GetJsonAsync`等待`Task`返回的`GetStringAsync`. 上下文被捕获并将用于`GetJsonAsync`稍后继续运行该方法。`GetJsonAsync`返回一个 uncompleted `Task`，表示该`GetJsonAsync`方法不完整。
>     
>     
> 5.  顶级方法在`Task`返回时同步阻塞`GetJsonAsync`. 这会阻塞上下文线程。
>     
>     
> 6.  ...最终，REST 请求将完成。这完成了`Task`由`GetStringAsync`.
>     
>     
> 7.  继续 for`GetJsonAsync`现在可以运行了，它等待上下文可用，以便可以在上下文中执行。
>     
>     
> 8.  **死锁**。顶级方法正在阻塞上下文线程，等待`GetJsonAsync`完成，并`GetJsonAsync`等待上下文空闲以便它可以完成。对于 UI 示例，“上下文”是 UI 上下文；对于 ASP.NET 示例，“上下文”是 ASP.NET 请求上下文。这种类型的死锁可能是由任一“上下文”引起的。

您应该阅读的另一个链接：[*等待、UI 和死锁！天啊！*](https://devblogs.microsoft.com/pfxteam/await-and-ui-and-deadlocks-oh-my/)

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2017-05-11T10:01:23.073

*   事实1：`GetDataAsync().Result;`将在返回的任务`GetDataAsync()`完成时运行，同时阻塞UI线程
*   事实2：await()的延续`return result.ToString()`被排队到UI线程执行
*   事实 3：返回的任务`GetDataAsync()`将在其排队的延续运行时完成
*   事实 4：排队的延续永远不会运行，因为 UI 线程被阻塞（事实 1）

## 僵局！

可以通过提供的替代方案来打破僵局，以避免事实 1 或事实 2。

*   避免 1,4。使用 代替阻塞 UI 线程，`var data = await GetDataAsync()`它允许 UI 线程继续运行
*   避免 2,3。将 await 的延续排队到另一个未被阻塞的线程，例如 use `var data = Task.Run(GetDataAsync).Result`，这会将延续发布到线程池线程的同步上下文中。这允许完成返回的任务 `GetDataAsync()`。

[这在Stephen Toub 的一篇文章](https://blogs.msdn.microsoft.com/pfxteam/2012/04/13/should-i-expose-synchronous-wrappers-for-asynchronous-methods/)中得到了很好的解释，大约在他使用`DelayAsync()`.

* * *

## 回答 #3

> 赞同：26
> 
> 时间：2018-06-29T09:12:48.803

我只是在 ASP.NET MVC 项目中再次摆弄这个问题。当您想从 调用`async`方法时`PartialView`，不允许将`PartialView` `async`. 如果你这样做，你会得到一个例外。

`async`在要从同步方法调用方法的场景中，您可以使用以下简单的解决方法：

1.  通话前，清除`SynchronizationContext`
2.  调用吧，这里不会再出现死锁了，等它结束
3.  恢复`SynchronizationContext`

例子：

```
public ActionResult DisplayUserInfo(string userName)
{
    // trick to prevent deadlocks of calling async method 
    // and waiting for on a sync UI thread.
    var syncContext = SynchronizationContext.Current;
    SynchronizationContext.SetSynchronizationContext(null);

    //  this is the async call, wait for the result (!)
    var model = _asyncService.GetUserInfo(Username).Result;

    // restore the context
    SynchronizationContext.SetSynchronizationContext(syncContext);

    return PartialView("_UserInfo", model);
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-04-19T22:51:35.630

另一个要点是你不应该阻塞任务，并且一直使用异步来防止死锁。那么这将是所有异步而不是同步阻塞。

```
public async Task<ActionResult> ActionAsync()
{

    var data = await GetDataAsync();

    return View(data);
}

private async Task<string> GetDataAsync()
{
    // a very simple async method
    var result = await MyWebService.GetDataAsync();
    return result.ToString();
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-09-26T09:58:07.000

`Join`我想到的一个解决方法是在询问结果之前对任务使用扩展方法。

代码如下所示：

```
public ActionResult ActionAsync()
{
  var task = GetDataAsync();
  task.Join();
  var data = task.Result;

  return View(data);
} 
```

join方法在哪里：

```
public static class TaskExtensions
{
    public static void Join(this Task task)
    {
        var currentDispatcher = Dispatcher.CurrentDispatcher;
        while (!task.IsCompleted)
        {
            // Make the dispatcher allow this thread to work on other things
            currentDispatcher.Invoke(delegate { }, DispatcherPriority.SystemIdle);
        }
    }
} 
```

我对这个领域的了解还不够，看不到这个解决方案的缺点（如果有的话）

# php - 错误处理的正确方法

> ID：15021307
> 
> 赞同：1
> 
> 时间：2013-02-22T09:52:45.863
> 
> 标签：php

这更像是一个架构问题。我想知道人们对如何在完全面向对象的 PHP 环境中正确处理错误的看法。

例如，我有一个从数据库中检索所有用户数据的类。所以我会以这种方式使用它：

```
$userData = new UserDataConnection();
$userData->openDatabase();
$userData->retrieveData();
$userData->showData();
$userData->closeDatabase(); 
```

在每个步骤中，都可能发生错误。那么我会从每个步骤中返回一个布尔值，说明函数是否已成功执行（因此错误检查在每个函数内），还是我是否对整个事情进行 try-catch 异常处理？或者，还有更好的方法？

发生某种错误时总是转到某种错误页面是否也更好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:57:37.807

```
<?php

$ERROR = false;
try {

    $userData = new UserDataConnection();
    $userData->openDatabase();
    $userData->retrieveData();
    $DETAILS = $userData->showData();
    $userData->closeDatabase();

} catch( Exception $e ) {

    $ERROR = $e->getMessage(); // exit;

}

if( $ERROR ) {
    $DETAILS = array();
}

?> 
```

如果您使用的是 PDO，则可以抛出 PDOException。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T11:57:51.473

它通常归结为一个简单的问题：

*这个功能可能会“合法地”失败，还是任何失败都是真正错误的迹象？*

如果一个函数需要某种类型的输入并且永远不应该使用不同类型的输入来调用，那么任何未能提供正确输入的行为都是`InvalidArgumentException`. 对于不直接处理用户输入的函数尤其如此。这对类型提示更有效。

如果一个函数在给定正确输入的情况下应该总是产生某个结果，那么该函数产生该结果的任何失败都是一种`RuntimeException`或`LogicException`或某种其他类型的异常。

如果一个函数可能会或可能不会产生某种结果，`false`那么它就是一个合法的返回值。处理用户输入并因此获得非常任意输入值的函数通常可以返回`false`.

一些例子：

*   `getDatabaseConnection()``RuntimeException`如果无法建立与数据库的连接，则抛出 a 或类似内容是完全正确的。这是一种*特殊情况*，在这种情况下无法继续工作。
*   `transformFooIntoBar(Foo $foo)``Bar`无论出于何种原因，如果它无法返回实例，则抛出某种形式的异常是正确的。该函数具有明确的目的和类型检查的输入值。如果它不能在如此明确的条件下完成其工作，那么显然是有问题，必须加以修复。因此，一个例外。
*   `checkIfUserExists($id)`可能会返回`false`，因为它的工作是返回一个大拇指或大拇指向下。鉴于此职位描述，用户不存在并不是*例外情况。*

在哪里捕获抛出的异常取决于您要在哪里处理它。数据库连接错误可能应该在调用堆栈的最顶部捕获，因为如果数据库关闭，您可能无法做任何事情。
另一方面，如果某个模块正在调用某个子模块并且一半预计该子模块会失败和/或有一个应急计划以防它失败，则该模块可能会捕获子模块的异常并继续执行其工作。例如`getRSSUpdates()`调用一个`HTTP::fetchContents($url)`. 如果 URL 返回 404，则`HTTP`模块可能会抛出异常，因为在这些情况下它无法返回内容。该`getRSSUpdates()`函数为此做好了准备，并将这种情况处理为“此时没有更新”。

# c# - c#中不完整的上传ftp

> ID：15021316
> 
> 赞同：-2
> 
> 时间：2013-02-22T09:53:14.560
> 
> 标签：c#, upload, ftp

我想从我的 C# 应用程序中运行 ftp，但是他在发送时喝了一个问题，我无法理解。

当我运行上传脚本时，它与服务器连接良好，但它创建了一个空文件。

你能帮助我吗？

我用这个类

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;
using System.Net;

namespace FTPClasse
{
   class ftp
{
private string host = null;
private string user = null;
private string pass = null;
private FtpWebRequest ftpRequest = null;
private FtpWebResponse ftpResponse = null;
private Stream ftpStream = null;
private int bufferSize = 2048;

/* Construct Object */
public ftp(string hostIP, string userName, string password) { host = hostIP; user = userName; pass = password; }

/* Download File */
public void download(string remoteFile, string localFile)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)FtpWebRequest.Create(host + "/" + remoteFile);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.DownloadFile;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Get the FTP Server's Response Stream */
        ftpStream = ftpResponse.GetResponseStream();
        /* Open a File Stream to Write the Downloaded File */
        FileStream localFileStream = new FileStream(localFile, FileMode.Create);
        /* Buffer for the Downloaded Data */
        byte[] byteBuffer = new byte[bufferSize];
        int bytesRead = ftpStream.Read(byteBuffer, 0, bufferSize);
        /* Download the File by Writing the Buffered Data Until the Transfer is Complete */
        try
        {
            while (bytesRead > 0)
            {
                localFileStream.Write(byteBuffer, 0, bytesRead);
                bytesRead = ftpStream.Read(byteBuffer, 0, bufferSize);
            }
        }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
        /* Resource Cleanup */
        localFileStream.Close();
        ftpStream.Close();
        ftpResponse.Close();
        ftpRequest = null;
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    return;
}

/* Upload File */
public void upload(string remoteFile, string localFile)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)FtpWebRequest.Create(host + "/" + remoteFile);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.UploadFile;
        /* Establish Return Communication with the FTP Server */
        ftpStream = ftpRequest.GetRequestStream();
        /* Open a File Stream to Read the File for Upload */
        FileStream localFileStream = new FileStream(localFile, FileMode.Create);
        /* Buffer for the Downloaded Data */
        byte[] byteBuffer = new byte[bufferSize];
        int bytesSent = localFileStream.Read(byteBuffer, 0, bufferSize);
        /* Upload the File by Sending the Buffered Data Until the Transfer is Complete */
        try
        {
            while (bytesSent != 0)
            {
                ftpStream.Write(byteBuffer, 0, bytesSent);
                bytesSent = localFileStream.Read(byteBuffer, 0, bufferSize);
            }
        }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
        /* Resource Cleanup */
        localFileStream.Close();
        ftpStream.Close();
        ftpRequest = null;
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    return;
}

/* Delete File */
public void delete(string deleteFile)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)WebRequest.Create(host + "/" + deleteFile);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.DeleteFile;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Resource Cleanup */
        ftpResponse.Close();
        ftpRequest = null;
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    return;
}

/* Rename File */
public void rename(string currentFileNameAndPath, string newFileName)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)WebRequest.Create(host + "/" + currentFileNameAndPath);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.Rename;
        /* Rename the File */
        ftpRequest.RenameTo = newFileName;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Resource Cleanup */
        ftpResponse.Close();
        ftpRequest = null;
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    return;
}

/* Create a New Directory on the FTP Server */
public void createDirectory(string newDirectory)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)WebRequest.Create(host + "/" + newDirectory);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.MakeDirectory;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Resource Cleanup */
        ftpResponse.Close();
        ftpRequest = null;
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    return;
}

/* Get the Date/Time a File was Created */
public string getFileCreatedDateTime(string fileName)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)FtpWebRequest.Create(host + "/" + fileName);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.GetDateTimestamp;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Establish Return Communication with the FTP Server */
        ftpStream = ftpResponse.GetResponseStream();
        /* Get the FTP Server's Response Stream */
        StreamReader ftpReader = new StreamReader(ftpStream);
        /* Store the Raw Response */
        string fileInfo = null;
        /* Read the Full Response Stream */
        try { fileInfo = ftpReader.ReadToEnd(); }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
        /* Resource Cleanup */
        ftpReader.Close();
        ftpStream.Close();
        ftpResponse.Close();
        ftpRequest = null;
        /* Return File Created Date Time */
        return fileInfo;
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    /* Return an Empty string Array if an Exception Occurs */
    return "";
}

/* Get the Size of a File */
public string getFileSize(string fileName)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)FtpWebRequest.Create(host + "/" + fileName);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.GetFileSize;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Establish Return Communication with the FTP Server */
        ftpStream = ftpResponse.GetResponseStream();
        /* Get the FTP Server's Response Stream */
        StreamReader ftpReader = new StreamReader(ftpStream);
        /* Store the Raw Response */
        string fileInfo = null;
        /* Read the Full Response Stream */
        try { while (ftpReader.Peek() != -1) { fileInfo = ftpReader.ReadToEnd(); } }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
        /* Resource Cleanup */
        ftpReader.Close();
        ftpStream.Close();
        ftpResponse.Close();
        ftpRequest = null;
        /* Return File Size */
        return fileInfo;
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    /* Return an Empty string Array if an Exception Occurs */
    return "";
}

/* List Directory Contents File/Folder Name Only */
public string[] directoryListSimple(string directory)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)FtpWebRequest.Create(host + "/" + directory);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.ListDirectory;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Establish Return Communication with the FTP Server */
        ftpStream = ftpResponse.GetResponseStream();
        /* Get the FTP Server's Response Stream */
        StreamReader ftpReader = new StreamReader(ftpStream);
        /* Store the Raw Response */
        string directoryRaw = null;
        /* Read Each Line of the Response and Append a Pipe to Each Line for Easy Parsing */
        try { while (ftpReader.Peek() != -1) { directoryRaw += ftpReader.ReadLine() + "|"; } }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
        /* Resource Cleanup */
        ftpReader.Close();
        ftpStream.Close();
        ftpResponse.Close();
        ftpRequest = null;
        /* Return the Directory Listing as a string Array by Parsing 'directoryRaw' with the Delimiter you Append (I use | in This Example) */
        try { string[] directoryList = directoryRaw.Split("|".ToCharArray()); return directoryList; }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    /* Return an Empty string Array if an Exception Occurs */
    return new string[] { "" };
}

/* List Directory Contents in Detail (Name, Size, Created, etc.) */
public string[] directoryListDetailed(string directory)
{
    try
    {
        /* Create an FTP Request */
        ftpRequest = (FtpWebRequest)FtpWebRequest.Create(host + "/" + directory);
        /* Log in to the FTP Server with the User Name and Password Provided */
        ftpRequest.Credentials = new NetworkCredential(user, pass);
        /* When in doubt, use these options */
        ftpRequest.UseBinary = true;
        ftpRequest.UsePassive = true;
        ftpRequest.KeepAlive = true;
        /* Specify the Type of FTP Request */
        ftpRequest.Method = WebRequestMethods.Ftp.ListDirectoryDetails;
        /* Establish Return Communication with the FTP Server */
        ftpResponse = (FtpWebResponse)ftpRequest.GetResponse();
        /* Establish Return Communication with the FTP Server */
        ftpStream = ftpResponse.GetResponseStream();
        /* Get the FTP Server's Response Stream */
        StreamReader ftpReader = new StreamReader(ftpStream);
        /* Store the Raw Response */
        string directoryRaw = null;
        /* Read Each Line of the Response and Append a Pipe to Each Line for Easy Parsing */
        try { while (ftpReader.Peek() != -1) { directoryRaw += ftpReader.ReadLine() + "|"; } }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
        /* Resource Cleanup */
        ftpReader.Close();
        ftpStream.Close();
        ftpResponse.Close();
        ftpRequest = null;
        /* Return the Directory Listing as a string Array by Parsing 'directoryRaw' with the Delimiter you Append (I use | in This Example) */
        try { string[] directoryList = directoryRaw.Split("|".ToCharArray()); return directoryList; }
        catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    }
    catch (Exception ex) { Console.WriteLine(ex.ToString()); }
    /* Return an Empty string Array if an Exception Occurs */
    return new string[] { "" };
}
} 
```

}

这是我的脚本

```
ftp ftpClient = new ftp(@"ftp://*******.*******.fr", "*************", "************");
ftpClient.upload(filename, sourcezip);
string fileSize = ftpClient.getFileSize(filename);
ftpClient = null; 
```

和服务器上的结果

![服务器上的结果](../Images/a761a1000365b3c4fd010a8835d2983e.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:12:17.610

我注意到在您使用的上传方法中`FileMode.Create`：

```
FileStream localFileStream = new FileStream(localFile, FileMode.Create); 
```

也许你应该把它改成`FileMode.Open`?

```
FileStream localFileStream = new FileStream(localFile, FileMode.Open); 
```

* * *

说明`FileMode.Create`：

> 指定操作系统应该创建一个新文件。**如果文件已经存在，它将被覆盖。**这需要 System.Security.Permissions.FileIOPermissionAccess.Write 权限。FileMode.Create相当于请求如果文件不存在，使用System.IO.FileMode.CreateNew；否则，使用 System.IO.FileMode.Truncate。如果文件已存在但为隐藏文件，则会引发 System.UnauthorizedAccessException 异常。

说明`FileMode.Open`：

> 指定操作系统应打开现有文件。打开文件的能力取决于 System.IO.FileAccess 枚举指定的值。如果文件不存在，则会引发 System.IO.FileNotFoundException 异常。

# windows - 将 wmic 命令的输出读入单个数组并在 Perl 中处理该数组

> ID：15021324
> 
> 赞同：0
> 
> 时间：2013-02-22T09:53:40.380
> 
> 标签：windows, perl

我的要求如下：

我正在阅读 wmic 命令的输出，如下所示：

```
my @pnames = `wmic product where "Name like '%Provider%'" get IdentifyingNumber, Name,Version`;

print "@pnames"; 
```

**到这里，输出如下：**

```
IdentifyingNumber                        Name                                     Version

{E094B8EA-87B7-48DE-A0A8-A18AC8BFCDF4} .NET Data Provider for Teradata 14.00.0.0  14.00.0.0

{1551F9D6-1B14-4AE1-BABA-70A4319C236A}  ODBC Driver Provider                       14.00.0.0 
```

**处理数组**

```
foreach $name ( @pnames )
{
  chomp($name);

  #@names = split('need to pass something',$name); 
  # I want to split every input entry   into 3 parts- IdentifyingNumber, Name,Version similarly the way they read.

  $name =~ s/^\s+//; #remove leading spaces
  $name =~ s/\s+$//; #remove trailing spaces

  # here logic goes this way, If the version number has matched, search for name and if name has matched display its identifying number 

  print "Identifying number(say $id) of the packge with name(say $pkg)\n";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:06:23.600

您可以通过匹配输入行来拆分

```
foreach my $line (@pnames) {
    my($id, $name, $version) = ($line =~ m/^\s*({.+?})\s+(.+?)\s+([\d.]+)\s*$/);
    ...
} 
```

这将捕获三个部分`(...)`并将它们分配给变量`$id`和。`$name``$version`

# python - 使用 AST 在 Python 中解析字符串表达式

> ID：15021328
> 
> 赞同：0
> 
> 时间：2013-02-22T09:53:58.013
> 
> 标签：python, abstract-syntax-tree

我有一个字符串表达式，如`"((12)*2+(12)+0)"`.

问题是我想计算这个表达式。我可以使用`eval()`功能。还有其他方法吗？我也检查了一下`ast=compiler.parse(eq)`，它返回`Module(None, Stmt([Discard(Add((Add((Mul((Const(12), Const(2))), Const(12))), Const(0))))]))`了类似的东西。

如何解析抽象语法树？

# jquery - 如何创建子子菜单？

> ID：15021329
> 
> 赞同：0
> 
> 时间：2013-02-22T09:54:08.100
> 
> 标签：jquery, html, css, json, jquery-ui

创建 jquery-menu 时遇到问题。我从 json 对象创建了一个水平菜单。我的页面是

```
var data = [
    {
    "parent": "Home",
    "child": [

            ]
    },
    {
    "parent": "Instructions",
    "child": [

            ]
    },

    {
    "parent": "Administration",
    "child": [
            {"title":"Recruitment"},
            {"title":"Management"},
            {"title":"Relations"}
            ]
    },
    ]; 
```

在这里，我有 3 个子字段用于“招聘”字段。如何使用 json 创建子子项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:59:38.997

有一个代码可以为您创建第三级的 HTML 结构，您需要自己设置样式：

```
var data = [
{
    "parent": "Home",
    "child": [
            ]
},
{
    "parent": "Instructions",
    "child": [
       {
           "title":"Recruitment",
           "subchild": [
               {"title":"sub1"},
               {"title":"sub2"},
               {"title":"sub3"}
           ]
       },
        {"title":"Management"},
        {"title":"Relations"}
        ]
},
{
    "parent": "Administration",
    "child": [
        {"title":"Recruitment"},
        {"title":"Management"},
        {"title":"Relations"}
        ]
    },
];
$(function() {
    $('.nav-child').hover(function(){
    $('.parent-menu').css('background','red');
    });
    var nav = $("#nav");
    $.each(data,function(idx, obj){
        if(obj.child.length>0)
        {
            nav.append('<li><a href="#" class="parent-menu">'+obj.parent+'</a><ul class="child-list" id="'+obj.parent+'">'); //Create Parent menu and attach Child menu items list with ID same as parent menu name.
            var parent = $("#"+obj.parent); //Select this parent to insert child items.

            //Insert child menu items.
            $.each(obj.child, function(idx, childobj){
                var childid = obj.parent + '-item-' + idx;
                parent.append('<li class="nav-child" id="'+childid+'"><a href="#">'+childobj.title+'</a></li>');

                //insert subchild items
                if(childobj.subchild != undefined && childobj.subchild.length>0){
                    var child = $("#"+childid); //Select child element to insert subchild items.
                    child.append('<ul class="subchild-list"></ul>');
                    var ul = $(child).find('ul');

                    $.each(childobj.subchild, function(index, subchildobj){
                        ul.append('<li class="nav-subchild"><a href="#">'+subchildobj.title+'</a></li>');                
                    });   
                }
            });
            nav.append('</ul></li>'); //Close each tag.
        }
        else
        {
            nav.append('<li><a href="#">'+obj.parent+'</a></li>'); //No child menu items present, just create parent menu.
        }
    });
    ( "#nav" ).menu();
}); 
```

# file - 使用 MATLAB 为文件创建快捷方式

> ID：15021338
> 
> 赞同：1
> 
> 时间：2013-02-22T09:54:36.687
> 
> 标签：file, matlab, shortcut

我想使用 MATLAB 例程创建现有图像文件的快捷方式。我的目标是在我指定的文件夹中有一个快捷方式，从我指定的另一个文件夹中获取图像（用于组织目的）。

我想要实现的是当我右键单击图像图标并选择“创建快捷方式”选项时发生的相同的事情，只更改创建的快捷方式的目标目录。

我有大约两万张图片要组织，所以复制文件不是一种选择（这需要很长时间）。

我将非常感谢任何帮助。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:26:10.653

为什么不尝试添加路径（*addpath*）然后直接使用 Matlab 的行为就像图像在同一个文件夹中一样。[在这里检查](http://www.mathworks.in/help/matlab/ref/addpath.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-25T08:54:37.670

您可以从 MATLAB 调用 VBS 脚本。对于 VBS 脚本，请参见：[http ://technet.microsoft.com/en-us/library/ee156583.aspx](http://technet.microsoft.com/en-us/library/ee156583.aspx)

然后在 MATLAB 中编写一个包装函数，使用系统命令调用 VBS 脚本：

```
cmd=sprintf('cscript //nologo "%s" %s "%s" "%s" "%s" "%s" "%s"',...
    vbsfile,name,targetpath,workingdir,iconlocation,hotkey,desc);
system(cmd); 
```

# database - 从 Symfony2 中的 2 个表中选择

> ID：15021341
> 
> 赞同：1
> 
> 时间：2013-02-22T09:55:04.263
> 
> 标签：database, symfony, query-builder

我正在表单中进行查询。

这个想法是：现在我有一个包含所有用户的下拉列表，好吗？

我有一个这样的查询：

```
'query_builder' => function(EntityRepository $er) {
      return $er->createQueryBuilder('u')->orderBy('u.lastName', 'ASC');
     } 
```

这完美无瑕！

我只需要与某个类别相关联的用户，而不是显示所有用户。这个定义在“user_data”表中（user_id + category_id）。

所以，我需要做类似的事情：

```
SELECT * FROM users 
WHERE user_id IN (SELECT user_id FROM user_data WHERE category_id='2') 
```

我没有任何看起来像 UserData 的实体，我只有 User.php，但在这个文件中我发现了这个：

```
/**
     *@ORM\ManyToMany(targetEntity="My\Bundle\Entity\Data", inversedBy="users")
     *@ORM\joinTable(name="user_data")
     */
    protected $datas;

[...] 
```

所以我看到建立了一个关系，但我不知道如何使用它来构建基于 2 个表的查询......

任何人都可以帮助我解决这个问题吗？:)

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:05:39.830

尝试这个，

```
'query_builder' => function(EntityRepository $er) {
    return $er->createQueryBuilder('u')
              ->innerJoin('u.datas', 'd')
              ->where('d.category = :category') // Check your Data entity to get the right field name
              ->setParameter('category', $yourCategoryId) // you could use options here
              ->orderBy('u.lastName', 'ASC');
     } 
```

此外，使用您的所有实体（数据，...）更新您的问题

# c# - 如何在xml中写'&'？

> ID：15021343
> 
> 赞同：3
> 
> 时间：2013-02-22T09:55:08.287
> 
> 标签：c#, xml, xmltextwriter

我正在使用 xmlTextWriter 创建 xml。

```
writer.WriteStartElement("book"); 
writer.WriteAttributeString("author", "j.k.rowling"); 
writer.WriteAttributeString("year", "1990");
writer.WriteString("&");
writer.WriteEndElement(); 
```

但是现在我需要写 '&' 但 xmlTextWriter 会自动将这个写为 "&"; 那么有什么解决方法可以做到这一点吗？

我通过读取 doc 文件来创建 xml。因此，如果我读取“-”，那么在 xml 中我需要写“&ndash”；所以在写入时它被写为“&”;ndash。

因此，例如，如果我试图用 text 编写一个节点`good-bad`，我实际上需要编写我的 XML，例如`<node>good&ndash;bad</node>`. 这是我的项目的要求。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-22T09:57:51.910

在正确的 XML 文件中，不能有独立`&`字符，除非它是转义字符。因此，如果您需要一个 XML 节点来包含`good&ndash;bad`，那么它必须被编码为`good&amp;ndash;bad`. 没有解决方法，因为任何不同的东西都不是有效的 XML。使其工作的唯一方法是将 XML 文件编写为您想要的纯文本，但是 XML 解析器无法读取它，因为它不是正确的 XML。

这是我建议的解决方法的代码示例（您没有指定语言，所以我用 C# 向您展示，但 Java 应该有类似的东西）：

```
using(var sw = new StreamWriter(stream))
{
    // other code to write XML-like data
    sw.WriteLine("<node>good&ndash;bad</node>");
    // other code to write XML-like data
} 
```

正如您所发现的，另一种选择是使用`WriteRaw()`on 方法`XmlTextWriter`（在 C# 中）将写入一个未编码的字符串，但它不会改变完成后它不是有效的 XML 文件的事实。

但正如我所提到的，如果您尝试使用 XML 解析器读取此内容，它将失败，因为`&ndash`它不是有效的 XML 字符实体，因此它不是有效的 XML。

`&ndash;`是一个 HTML 字符实体，因此通常不需要在 XML 中对其进行转义。

在 XML 语言中，`&`转义字符是转义字符，`&amp;`& 的适当字符串表示也是如此。您不能只使用 & 字符，因为 & 字符具有特殊含义，因此解析器会误解单个 & 字符/

您将看到 <、>、" 和' 字符的类似行为。所有这些在 XML 语言中都具有意义，因此如果您需要将它们表示为文档中的文本。

这是对来自 Wikipedia的[XML（和 HTML）](http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML)中所有字符实体的引用。每个都将始终由转义字符和名称 ( `&gt;`, `&lt;`, `&quot;`, `&apos;`)表示

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-22T09:56:26.100

在 XML 中，`&`必须转义为`&amp;`. 该`&`字符是为实体保留的，因此不允许使用。实体用于转义 XML 中具有特殊含义的字符。

另一个读取 XML 的软件必须再次解码实体。`&lt;`对于`<`和`&gt;`for`>`或其他示例，基于 XML 的其他一些语言（如 HTML）提供了更多这些。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T09:57:41.147

我认为您将需要对其进行编码。像这样：

```
colTest = "&" 
writer.WriteEncodedText(colTest) 
```

# mysql - 在创建新表时插入另一个表中的值

> ID：15021345
> 
> 赞同：6
> 
> 时间：2013-02-22T09:55:20.220
> 
> 标签：mysql, sql, join

这是我的[***小提琴***](http://sqlfiddle.com/#!2/6aaed/4)。

我正在尝试将数据从旧表导入到新表。在旧表中有很多没有重复。在新表中，我只能插入 DISTINCT 电子邮件。我无法插入相同的名称。这是我的代码。

```
CREATE TABLE table_old(name VARCHAR(255), email VARCHAR(255));

INSERT INTO table_old (name, email) VALUES ('tom', 'tom@gmail.com'),
                                           ('peter', 'peter@gmail.com'),
                                           ('hitler', 'hitler@gmail.com'),
                                           ('haasan', 'haasan@gmail.com'),
                                           ('arun', 'arun@gmail.com'),
                                           ('tom', 'tom@gmail.com'),
                                           ('peter', 'peter@gmail.com'),
                                           ('hitler', 'hitler@gmail.com'),
                                           ('haasan', 'haasan@gmail.com'),
                                           ('arun', 'arun@gmail.com');

CREATE TABLE table_new AS (SELECT DISTINCT email FROM table_old ); 
```

所以请告诉我如何将名称插入到 table_new 中关于电子邮件列名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:00:37.137

我想这就是你所追求的：

```
CREATE TABLE table_new AS (SELECT name, email FROM table_old GROUP BY name, email); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:09:42.950

您可以使用以下查询。

`CREATE TABLE table_new AS (SELECT DISTINCT * FROM table_old );`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T10:01:20.560

其中一些取决于您希望如何选择保留的名称。它可能很简单：

```
CREATE TABLE table_new AS (SELECT email, max(name) FROM table_old group by email); 
```

如果您有更复杂的规则来确定选择哪个名称，则需要以不同的方式实施。

# java - 下载文件时如何等待用户决定

> ID：15021346
> 
> 赞同：0
> 
> 时间：2013-02-22T09:55:26.730
> 
> 标签：java

我想继续这个问题：[如何从网站下载整个文件](https://stackoverflow.com/questions/14947413/how-to-download-whole-file-from-website)。我发现下载文件是一个自动过程，它不会等待用户决定取消/保存。因此，例如用户写入 url 来下载文件并等待 1 分钟。该文件可能会自动开始下载（我使用的是Firefox）到浏览器的内存中，当文件下载时，它会继续处理我有记录器“文件成功下载”的代码，但仍然有弹出窗口决定取消/保存。所以我的问题是我如何才能等待这个决定并对此做出反应。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:05:06.363

假设您有一个执行下载的对象。您可以使其实现 Runnable，然后使其作为单独的线程运行。

您可以有一个名为 setDestination(String) 的方法和一个名为 cancel() 的方法。

取消将是这样的：

```
public synchronized void cancel() {
    this.cancelled = True;
} 
```

在你实际执行下载的部分，你会有一个

```
if (this.cancelled) {
    //remove downloaded data
    return; //Exit from the download function
} 
```

对于 setDestination，您需要做类似的事情，将下载存储到临时文件中，最后将其移动到目标指示的文件中。

# vb.net - Vb.Net Moq：拦截参数并设置为变量

> ID：15021351
> 
> 赞同：0
> 
> 时间：2013-02-22T09:55:34.000
> 
> 标签：vb.net, moq

我有一个模拟对象，我想用我调用它的参数分配一个变量：

```
Dim myMockedObject = new Mock(Of MyObject)()

Dim catchedVariable As MyEventArgs
myMockedObject.Setup(Sub(x) x.MyMethod(Of MyEventArgs)(It.IsAny(Of MyEventArgs))) 
```

我需要找到一种方法来填补`catchedVariable`

无法找到使用输出参数的方法（方法是 ByVal，并且不想仅仅为了测试而更改它）。

尝试过 Moq 方法，`CallBack`但没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T15:24:02.113

让它与回调一起工作：

```
_args As MyEventArgs
myMockedObject.Setup(Sub(x) x.MyMethod(Of MyEventArgs)(It.IsAny(Of MyEventArgs)())).Callback(Sub(x As MyEventArgs) _args = x) 
```

# html - xsl替换字符串中的特定字符

> ID：15021352
> 
> 赞同：1
> 
> 时间：2013-02-22T09:55:34.663
> 
> 标签：html, xml, xslt, xls

我正在研究 XSL，我对替换字符串中的特定字符有疑问。

我们有xml文件

```
<family>
-<familyid id="first">
--<name>smith</name>
--<image>fatherpic\myfather.jpg</image> 
```

我想获得插入图片的图像路径。

例如，我们有路径“fatherpic\myfather.jpg”

然后我想选择“fatherpic/myfather.jpg”

这意味着我想将“/”更改为“\”。

我试图使用翻译功能。但它没有用。

有没有人可以举个例子？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:04:52.320

以下 xslt 将打印将图像元素中的 '\' 替换为 '/'，并将打印 xml 文件的其余部分不变。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" />
    <xsl:template match="node() | @*">
        <xsl:copy>
            <xsl:apply-templates select="node() | @*" />
        </xsl:copy>
    </xsl:template>
    <xsl:template match="image">
        <image>
            <xsl:value-of select="translate(., '\', '/')" />
        </image>
    </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:01:14.960

正如您在帖子中所说，您可以使用翻译功能。

以下样式表提取图像值的值，并在进行所描述的字符串翻译后将其像文本一样输出。这只是一个如何使用翻译功能的例子。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <xsl:output method="text" indent="no" />

    <xsl:template match="text()" />

    <xsl:template match="image">
        <xsl:value-of select="translate(., '\', '/')" />
    </xsl:template>

</xsl:stylesheet> 
```

希望能帮助到你。

# c++ - 与 union 和 struct 混淆

> ID：15021356
> 
> 赞同：1
> 
> 时间：2013-02-22T09:55:40.987
> 
> 标签：c++, point-cloud-library

我正在使用这个库在 PCL（点云库，www.pointclouds.org）中开展一个项目，我可以获得我的 Kinect 正在查看的内容的 3D 表示。问题是，我正在使用这个结构：

```
typedef union
{
    struct
    {
            unsigned char Blue;
            unsigned char Green;
            unsigned char Red;
            unsigned char Alpha;
    };
    float float_value;
    uint32_t long_value;
} RGBValue; 
```

我想用这个结构做的是从每种颜色中获取单独的数据并将它们放在浮点数中：

```
float R = someCloud->points[idx].rgba.Red;   
float G = someCloud->points[idx].rgba.Green;  
float B = someCloud->points[idx].rgba.Blue;  
float A = someCloud->points[idx].rgba.Alpha; 
```

我得到的错误是：

```
error C2039: 'Red' : is not a member of 'System::UInt32'* 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T09:58:43.840

您必须相应地命名您的匿名结构实例

```
typedef union
{
    struct
    {
        unsigned char Blue;
        unsigned char Green;
        unsigned char Red;
        unsigned char Alpha;
    } rgba;

    float float_value;
    uint32_t long_value;
} RGBValue; 
```

然后，您可以访问成员

```
RGBValue v;
float R = v.rgba.Red;
float G = v.rgba.Green;
float B = v.rgba.Blue;
float A = v.rgba.Alpha; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:06:38.887

这个：

```
typedef union
{
    struct
    {
        unsigned char Blue;
        unsigned char Green;
        unsigned char Red;
        unsigned char Alpha;
    };
    float float_value;
    uint32_t long_value;
} RGBValue; 
```

声明一个联合*类型*，带有一个嵌套的结构*类型*。联合仅包含 a`float`或 a `uint32_t`- 您从未声明嵌套结构的*实例*。

您可以为您的类型命名，以便在其他地方使用它：

```
typedef union
{
    struct RGBA // named struct type
    {
        unsigned char Blue;
        unsigned char Green;
        unsigned char Red;
        unsigned char Alpha;
    };
    RGBA rgba; // AND an instance of that type
    float float_value;
    uint32_t long_value;
} RGBValue; 
```

或者像 Olaf 展示的那样，让类型保持匿名并声明一个实例。（我示例中的命名类型可以称为`RGBValue::RGBA`）

# python - 使用 py2app 构建的应用程序在 OAuth 请求行终止

> ID：15021360
> 
> 赞同：0
> 
> 时间：2013-02-22T09:55:59.147
> 
> 标签：python, oauth, py2app

简而言之，我有一个 python 模块，我正在使用 py2app 将它构建到一个应用程序中。当我在分发中运行应用程序（不是别名）时，它挂在这一行

```
resp, content = client.request(request_token_url, "GET") 
```

使用别名时运行良好。建议？更多信息：我只是通过 py2app 将此应用程序制作成一个应用程序。[http://code.google.com/p/python-twitter/source/browse/get_access_token.py](http://code.google.com/p/python-twitter/source/browse/get_access_token.py)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-10T15:58:46.347

我刚刚遇到了同样的问题。看起来 py2app 正在剥离请求的重要部分。看看为什么会很有趣。要解决此问题，请在 setup.py 中为 py2app 添加以下选项：

```
OPTIONS = {'includes': ['requests'],
           'packages': ['requests']} 
```

# c# - 除非指定 AutoGenerateWhere==true 或 Where ，否则无法指定 WhereParameters

> ID：15021364
> 
> 赞同：4
> 
> 时间：2013-02-22T09:56:15.480
> 
> 标签：c#, asp.net, entity-framework

当我尝试更改我的网站时，我遇到了一个奇怪的错误。我总是遇到同样的错误

> `WhereParameters``AutoGenerateWhere == true`除非或 Where 已指定，否则无法指定。

我已经检查了我的 EntityDataSource 应该没问题。没有名称前面有@的典型参数错误

```
 <asp:EntityDataSource ID="EntityDataSource1" runat="server" ConnectionString="name=HolidayTrackerEntities" DefaultContainerName="HolidayTrackerEntities"
        EnableFlattening="False" EntitySetName="PublicVacations" Where="it.BusinessUnitId == @BusinessUnitId">
        <WhereParameters>
            <asp:SessionParameter DbType="Int32" SessionField="BusinessUnitId" Name="BusinessUnitId" />
        </WhereParameters>
    </asp:EntityDataSource> 
```

重建，清理后我收到相同的消息...

感谢您的帮助和快速答复

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:44:12.603

我是你应该添加 AutoGenerateWhereClause = "true" 我希望它有帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-31T03:55:59.823

对于 Telerik RadGrid，这可能是由`AllowFilteringByColumn="true"`设置引起的。如果除了默认`Where`控制子句之外还需要自定义过滤，您可以在论坛帖子中查看 Rosen 的[演示](http://www.telerik.com/forums/grid-filter-and-the-entitydatasource-control-whereparameters)。

# javascript - 将java脚本中的变量值更新为html

> ID：15021365
> 
> 赞同：1
> 
> 时间：2013-02-22T09:56:16.387
> 
> 标签：javascript, html, variables, html5-canvas

我正在使用画布 3d 绘制 3d 图。所以我使用 java 脚本进行旋转和按键事件等。它也可以正常工作。但我想打印我旋转表面的角度。我在java脚本中有存储这个值的变量。现在我的问题是如何在 html 正文中打印变量的值，以便当我旋转画布的表面时，值会不断更新？如果我不能这样做，至少告诉我我可以在某些按钮单击或任何事件上显示值的方法。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:04:19.687

编写如下更新函数：

```
function update(){
   document.querySelector("#log").innerHTML = angle;
} 
```

并在每次修改值时调用该函数（该`click`事件当然仅用于演示目的）：

```
document.querySelector("#square").addEventListener("click",function(){
   this.style["-webkit-transform"] = "rotate("+(angle+=10)+"deg)";
    update();
}); 
```

见**[演示](http://jsfiddle.net/LnM4C/5/)**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:07:38.250

或者，您可以[`Firebug`](https://addons.mozilla.org/en-US/firefox/addon/firebug/)在不添加新元素的情况下安装和使用 console.log()、console.debug()。我认为这对其他项目也很有用。[文档链接](http://getfirebug.com/wiki/index.php/Console_Panel#Message_types)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:05:41.300

您可以使用该函数`setInterval(function, time)`，它重复调用一个函数，`time`执行之间以毫秒为单位。

```
setInterval(function() {
    [Code That Update Your Value]
}, 100); 
```

# xml - xpath 让最近的祖先的属性值决定它是否在

> ID：15021366
> 
> 赞同：1
> 
> 时间：2013-02-22T09:56:20.253
> 
> 标签：xml, xpath

我正在寻找正确的 xpath 表达式来选择最近祖先具有正确属性值的所有节点，而不是选择最近祖先具有显式“不选择”属性值的那些节点。直观解释：对于每个分支，沿着它的路径到根，第一次遇到某个属性时应该决定它是否在选择中。

```
<xyz select="yes">
    <blabla>this one's in</blabla>
    <qwerty select="no">this one's out
        <foobar>out please!</foobar>
        <gettingoutofnames select="yes">in again!</gettingoutofnames>
    </qwerty>
</xyz> 
```

示例可以出现在 XML 结构中的任何位置。

元素的名称可以是任何东西。'select="yes"' 和 'select="no"' 可以以任何顺序跟随，但最深的顺序是决定性的它的后代。

我在想这样的事情：

```
//*[@select="yes"]//ancestor::*[not(@select="no")] 
```

但这并不是全部。任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:13:29.423

I think the following should work:

```
//*[ancestor::*[@select][1]/@select='yes'] 
```

To break it down: `ancestor::*[@select][1]` is the nearest ancestor with a `select` attribute. So we choose only those nodes for which the nearest ancestor with a `select` attribute has this attribute set to `'yes'`. You have to replace `ancestor` with `ancestor-or-self` if you also want to include the nodes the have a `select="yes"` attribute (`xyz` and `gettingoutofnames` in your example).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:16:55.093

用于选择值

```
cat //*[contains(@select,'yes')] 
```

用于选择否定结果

```
cat //*[not(contains(@select,'yes'))] 
```

希望你能找出问题的关键

# javascript - 基础顶部栏：单击而不是悬停时切换下拉菜单

> ID：15021368
> 
> 赞同：1
> 
> 时间：2013-02-22T09:56:27.743
> 
> 标签：javascript, html, css, zurb-foundation

在 Zurb Foundation 的顶部栏中，下拉菜单在鼠标悬停时切换。有没有标准的方法来改变它，以便他们切换点击/触摸？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-04T12:59:22.560

为了最终确定这种行为，我所要做的就是在点击时添加交互：

```
$(function(){

    $("li.has-dropdown").click(function(e){
        $('.dropdown').toggleClass('changed');
        return false;  
    });
}); 
```

并添加了一个像这样的“更改”css类：

```
.changed {display:block !important;visibility:visible !important} 
```

取自：[https ://groups.google.com/forum/#!topic/foundation-framework-/H3mqyv1_llo](https://groups.google.com/forum/#!topic/foundation-framework-/H3mqyv1_llo)

# jquery - 单击按钮后添加新行文本框的jQuery插件是什么

> ID：15021371
> 
> 赞同：0
> 
> 时间：2013-02-22T09:56:34.387
> 
> 标签：jquery

我正在开发一个管理面板，其中有一个名为“添加新教程”的按钮。如果单击此按钮，则此按钮上方将出现一个新行，供用户输入信息或数据。

将出现的这个新行将包含一个文本框和一个下拉选择。然后，用户可以在文本框中输入信息并从下拉列表中选择值。

我没有使用 jQuery 的经验，所以我希望有人可以指出使用这个的任何网站的示例或我可以使用的一些代码示例。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:01:04.133

这是一个关于如何使用 jQuery 添加表单字段的很好的教程。

[这里](http://charlie.griefer.com/blog/2009/09/17/jquery-dynamically-adding-form-elements/)

# android - 重复安卓动画

> ID：15021372
> 
> 赞同：56
> 
> 时间：2013-02-22T09:56:39.620
> 
> 标签：android, android-animation

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.vitesse);

    gpsManager = new GPSManager();

    gpsManager.startListening(getApplicationContext());
    gpsManager.setGPSCallback(this);
    Typeface tf = Typeface.createFromAsset(getAssets(),
            "font/DS-DIGI.TTF");
     TextView  loding =(TextView)findViewById(R.id.info_message);
            loding.setTypeface(tf);
            AlphaAnimation fadeIn = new AlphaAnimation(0.0f , 1.0f ) ; 
            AlphaAnimation fadeOut = new AlphaAnimation( 1.0f , 0.0f ) ; 
            loding.startAnimation(fadeIn);
            loding.startAnimation(fadeOut);
            fadeIn.setDuration(500);
            fadeOut.setDuration(1200);
            fadeOut.setStartOffset(1200+fadeIn.getStartOffset()+1200);     
            measurement_index = AppSettings.getMeasureUnit(this);
} 
```

我想重复这个 textview loding 动画，直到从 GPS 获得信息

* * *

## 回答 #1

> 赞同：133
> 
> 时间：2013-02-22T10:00:28.083

像[这样](https://developer.android.com/reference/android/view/animation/Animation.html#INFINITE)。

```
animation.setRepeatCount(Animation.INFINITE); 
```

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2016-10-27T08:50:21.000

Android 为您提供了优雅的机制来表示加载过程。您可以使用 indeterminate`ProgressBar`或`ImageView`带有比例/alpha 动画的 an，而不是为`TextView`自身设置动画。

也许你会发现这个动画很有用，它可以同时为 alpha 和 scale 设置动画。根据您的喜好改变参数：

`file res/anim/alpha_scale_animation.xml`

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android" >
<scale
    android:fromXScale="0.7"
    android:toXScale="1.0"
    android:fromYScale="0.7"
    android:toYScale="1.0"
    android:pivotX="50%p"
    android:pivotY="50%p"
    android:duration="4000"
    android:repeatCount="infinite"
    />

<alpha
    android:fromAlpha="0.0"
    android:toAlpha="1.0"
    android:duration="2000"
    android:repeatMode="reverse"
    android:repeatCount="infinite"
    />
</set> 
```

然后在您的代码中启动它：

```
Animation connectingAnimation = AnimationUtils.loadAnimation(getContext(), R.anim.alpha_scale_animation);
myView.startAnimation(connectingAnimation); 
```

并阻止它：

```
myView.clearAnimation();
connectingAnimation.cancel();
connectingAnimation.reset(); 
```

您还可以使用[ProgressButtonView](https://github.com/voghDev/ProgressButtonView)之类的库来在同一个小部件中同时支持用户交互和加载过程。

希望这些解决方案中的任何一个对某人有用:)

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-02-22T10:05:42.883

您可以使用这些方法来控制重复行为：

```
fadeIn.setRepeatCount(int count) // or Animation.INFINITE

fadeIn.setRepeatMode(Animation.REPEAT) // or any other repeat mode, such as Animation.REVERSE 
```

如果需要，实现这些监听器：

```
// anim = your animation    
anim.setAnimationListener(new AnimationListener() {
            public void onAnimationStart(Animation arg0) 
            {
                // TODO Auto-generated method stub
            }

            public void onAnimationRepeat(Animation arg0)
            {
                // TODO Auto-generated method stub
            }

            public void onAnimationEnd(Animation arg0)
            {
                // TODO Auto-generated method stub
            }
        }); 
```

如果您想突然停止动画，请使用`yourView.clearAnimation()`我希望这会有所帮助。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2018-09-27T12:34:01.877

要重复动画，只需在我们创建动画对象的 anim 文件夹文件中的 xml 文件中添加代码。

1.  机器人：重复计数=“无限”
2.  机器人：重复模式=“重启”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-02-16T06:58:14.240

将重复计数设置为 -1 然后它将动画无限

# jquery - 隐藏列时对列进行 Jquery DataTable 排序

> ID：15021375
> 
> 赞同：0
> 
> 时间：2013-02-22T09:56:44.090
> 
> 标签：jquery, datatable

我正在使用 Jquery DataTable，我在这里面临两个主要问题。如果我使我的一个列不可见，而不是排序会滑倒，我的意思是如果要对列进行排序，我必须先单击该列。我的第二个问题是如何在我可以使用的类的情况下将 css id 添加到给定列`sClass:"myclassname"`。我的代码如下所示

```
//===== Dynamic data table =====//

oTable = $('.dTable').dataTable({
        "bJQueryUI": false,
        "bAutoWidth": false,
        "bProcessing": true,
        "bServerSide": true,
        "sAjaxSource": 'data.php',
        "aoColumns": [
                      null, // the first column is invisible
                      { "bVisible": false },
                      null,
                      null,
                      null,
                      null,
                      null,
                      null,
                      null,
                      null,
                      null,
                      null,
                      null,
                      null,
                      { "bSortable": false },
                      { "bSortable": false, "sClass": "mEdit"  },
                      { "bSortable": false }                  
         ],

    "sPaginationType": "full_numbers",
    "oLanguage": {
        "sLengthMenu": "<span class='showentries'>Show entries:</span> _MENU_"
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:08:33.943

你的意思是'将css id添加到列中的每个单元格'？如果是这样：

```
var colIndex = 4;

$('.dTable').children('tr').each(function(){
  $(this).children('td').eq(colIndex).css('myclassname');
}); 
```

至于排序，您可以设置`iDataSort`每列的属性以显式指定要排序数据的列（请参见此处： http: [//www.codeproject.com/Articles/194916/Enhancing-HTML-tables-using- a-JQuery-DataTables-pl#Sorting](http://www.codeproject.com/Articles/194916/Enhancing-HTML-tables-using-a-JQuery-DataTables-pl#Sorting) )

# java - 如何在 intellj 调试器中添加服务器选项卡

> ID：15021376
> 
> 赞同：0
> 
> 时间：2013-02-22T09:56:49.443
> 
> 标签：java, intellij-idea

我最近在一台新电脑上安装了 IntelliJ，当我调试/运行我的 Web 应用程序时，我没有服务器选项卡。

![在此处输入图像描述](../Images/35c67b6d8bd1b2f45d922cfb31c29d01.png)

你能告诉我如何重新配置​​我的 IDEA，以便我在那里得到这个选项卡吗？

更新：我的 IntelliJ 版本是**Ultimate**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T11:14:11.373

我已经在浮动服务器选项卡然后关闭它的地方看到了这个（右上角有 X）。我认为在当前会话中找不到任何方法来恢复它。

我最后做的是停止调试会话，完全关闭调试选项卡（Ctrl+F4 选择调试窗口），然后重新启动 IntelliJ。

这对我有用——下次我调试它时，服务器选项卡重新出现。

# jquery - 如何在两个或多个幻灯片之间进行更改？

> ID：15021377
> 
> 赞同：1
> 
> 时间：2013-02-22T09:56:49.677
> 
> 标签：jquery, html, css, slideshow, carousel

更确切地说是想要制作一个在更多幻灯片之间变化的轮播。我按一个类对几个图像进行了分组（一组 3 个图像，类 project1，一组另外 3 个图像，类 project2 等）。在我的轮播中，一组制作自动幻灯片，但是当我单击下一步/后退按钮时，我希望在同一个容器中更改显示的组。例如，我有一组狮子图像一个接一个，当我单击下一步时，我希望它们在一组猫的照片中发生变化。只是一个粗略的描述，以便更好地理解它。

我现在的Jquery：

```
function slideswitch() {
    var $active = $("#project img.project1.active");
    $active.hide();
    if ( $active.length == 0 ) $active = $('#project IMG.project1:last');

    var $next =  $active.next(":has(.project1)").length ? $active.next()
        : $('#project IMG.project1:first');

    $active.addClass('last-active').show();

    $next.css({opacity: 0.0})
        .addClass('active')
        .animate({opacity: 1.0}, 1000, function() {
            $active.removeClass('active last-active');
        });
};
$(document).ready(function() {
    setInterval(slideswitch, 2000 );
}); 
```

我也有一个[在这里](http://jsfiddle.net/sdGhT/10/)的小提琴。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T13:36:48.303

我创建了一个在 2 个节目之间切换的小提琴。CSS 没有改变，但 HTML 发生了变化，我添加了新的 JS 函数并优化了您的滑动开关功能，因为它没有正确找到幻灯片

HTML 更改（添加 onclick 事件）

```
<div id="back" onclick="changeShow('back');">B</div><div id="next" onclick="changeShow('next');">N</div> 
```

JS

```
// current project and total amount of projects we have
var project = 1, projects = 1;

function changeShow(direction)
{
    // change project based on direction
    if (direction == 'back') {
        // check if previous project exists, otherwise use last as we would've cycled
        project = (project - 1 > 0) ? (project - 1) : projects;
    } else {
        // check we aren't exceeding the number of projects we have, otherwise loop
        project = (project + 1 <= projects) ? (project + 1) : 1;
    }

    // remove any active images from the old project
    $('#project img').removeClass('active last-active');

    // force slide change
    slideShow();
}

function getProjects()
{
    // find the largest project assuming they will be sequential - project1, project2, projectX..
    $('img[class^="project"]').each(function(){
        var current = parseInt($(this).attr('class').replace('project', ''), 10);
        if (current > projects) {
            // update projects count
            projects = current;
        }
    });
}

function slideShow()
{    
    var $active = $('.project' + project + '.active');
    if ($active.length == 0) $active = $('.project' + project + ':last');
    var $next = $active.next('.project' + project).length ? $active.next() : $('.project' + project + ':first');
    $active.addClass('last-active').show();
    $next.css({opacity: 0.0})
        .addClass('active')
        .animate({opacity: 1.0}, 1000, function() {
            $active.removeClass('active last-active');
        });
}

$(document).ready(function()
{
    // find out how many projects we have
    getProjects();
    // start slide show
    setInterval(slideShow, 2000 );
}); 
```

小提琴：http: [//jsfiddle.net/sjdaws/4QcYE/](http://jsfiddle.net/sjdaws/4QcYE/)

# java - 无法在 Eclipse 中运行我的项目，因为 java force 关闭

> ID：15021380
> 
> 赞同：1
> 
> 时间：2013-02-22T09:56:53.463
> 
> 标签：java

我希望这更能成为话题，因为我因为 java 问题而没有编码能力显然是题外话。

当我尝试在 Eclipse 中运行我的项目时。Eclipse 只是在底部没有堆栈跟踪。如果我编译 jar 文件并使用 javaw 运行它，它什么也不做。如果我用 java 运行它，它会显示 java(tm) 平台已停止工作。

我试过的：

*   更改 .jar 的关联以使用 java 和 javaw
*   尝试卸载java并重新安装
*   安装 Windows 更新
*   重新启动我的电脑
*   清理注册表
*   在命令提示符下运行它（只是打开一个窗口说“Java（tm）平台se二进制文件已停止工作。”提示符内也没有堆栈跟踪。）
*   扫描任何恶意软件/病毒
*   使用“修复和恢复 Windows 8 选项”

我的系统：

*   视窗 8：/
*   java 7 最新 64 位更新 13
*   java SE dev kit 7 Update 13（在我安装之前发生）
*   16 场公羊
*   如果需要，我可以给你更多信息。

罐子在我的另一台电脑上工作得很好。

编辑：仍然没有运气。我寻求帮助的 8 个地方中有 8 个被否决了。看起来我不再发展了....谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T15:18:50.867

好吧，这个消息有一个已知的[错误](http://bugs.sun.com/view_bug.do?bug_id=6772139)，解决方法应该是通过将其添加为 VM 参数来禁用 d3d 加速：-Dsun.java2d.d3d=false

# c++ - C++ 出队问题...出队重复返回相同的元素

> ID：15021387
> 
> 赞同：1
> 
> 时间：2013-02-22T09:57:26.073
> 
> 标签：c++, linked-list, queue

所以我有下面的代码片段......

```
for(int k=0; k<10; k++){
    State newState;
    newState = queue.dequeue();
    //...do stuff with `newState`...
} 
```

我遇到的问题是，经过数小时的测试，我意识到每次代码到达时都会`newState`将完全相同的实例出列，而不是以 FIFO 方式弹出一个新元素......我似乎无法弄清楚找出我到底做错了什么：/`State``newState = queue.dequeue()`

下面是我的队列类 .h 和 .cpp 代码...

```
//queue.h

#include <iostream>
#include <stdio.h>

#include "state.h"

using namespace std;

// Node class
class Node {
public:
    State elem;
    Node* next;
    Node() {}
    State Elem() { return elem; }
    Node* Next() { return next; }
};

// Queue class
class Queue {
    Node *head;
    Node *tail;
  public:
    Queue();
    ~Queue();
    bool isEmpty();
    int size();
    void enqueue(State);
    State dequeue();
}; 
```

和我的 .cpp 文件...

```
//queue.cpp

#include "queue.h"

#include <iostream>

Queue::Queue(){
    head = NULL;
    tail = NULL;
}

Queue::~Queue(){
    if(!isEmpty()){
        while(head){
            Node *del = head;
            head = head->next;
            delete del;
        }
    }
}

bool Queue::isEmpty(){
    return head == NULL;
}

int Queue::size(){
    int count = 0;
    if(isEmpty()){
        return count;
    } else {
        Node *temp = head;
        while(temp){
            temp = temp->next;
            count++;
        }
        delete temp;
        return count;
    }
}

//insert s to back of queue
void Queue::enqueue(State s){
    Node* newNode = new Node();
    newNode->elem = s;
    newNode->next = NULL;
    if(s.checkZ()){
        cout << "Puzzle solved!" << endl << endl;
        exit(0);
    }
    if(head==NULL){
        head = tail = newNode;
    } else {
        tail->next = newNode;
        tail = newNode;
    }
}

//remove State from front of queue
State Queue::dequeue(){
    if(isEmpty()){
        cout << "This puzzle has no solution." << endl;
        cout << "Exiting program..." << endl << endl;
        exit(0);
    } else {
        State ret = head->Elem();
        Node *del = head;
        head = head->next;
        delete del;
        return ret;
    }
} 
```

提前感谢您的帮助，我很乐意根据请求显示我的代码的任何其他片段

编辑：这是我的状态复制构造函数......

```
State::State(const State &rhs){
    pieces = rhs.pieces;
    pieceCount = rhs.pieceCount;
    rows = rhs.rows; cols = rhs.cols;
    currentState = rhs.currentState;
    prevStates = rhs.prevStates;
    prevStateCount = rhs.prevStateCount;
    moves = rhs.moves;
    moveCount = rhs.moveCount;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:12:55.043

在`size()`

```
delete temp; 
```

虽然不危险，但因为此时 temp 为空，它看起来很可疑。您还可以删除`if/else`因为`count`head 为空时不递增。

否则我看不出为什么它应该一次又一次地返回相同的元素。唯一的原因可能是一些代码，它多次插入相同的元素。

# xml - 每个标签的 XSL 解析问题

> ID：15021388
> 
> 赞同：0
> 
> 时间：2013-02-22T09:57:32.013
> 
> 标签：xml, xslt, xml-parsing

我的 XSL 不使用参数

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:param name="reportname" />
<xsl:param name="quarter" />
<xsl:param name="menteename" />

<xsl:template match="AllReports" >
<xsl:for-each select="./Report[@Name=$reportname]" >
    <table border="0" class="dottedlines" cellpadding="2" cellspacing="0">

    <xsl:for-each select="Record[@Period=$quarter] and ($menteename)] >

<tr>
    <xsl:for-each select="Entry">
 <td><xsl:value-of select="." disable-output-escaping="yes"/></td>
               </xsl:for-each>
</tr>

    </xsl:for-each>
</table>

    </xsl:for-each>

    </xsl:template>
</xsl:stylesheet> 
```

我的 XSL 使用硬编码值

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:param name="reportname" />
<xsl:param name="quarter" />
<xsl:param name="menteename" />

<xsl:template match="AllReports" >
<xsl:for-each select="./Report[@Name=$reportname]" >
    <table border="0" class="dottedlines" cellpadding="2" cellspacing="0">

    <xsl:for-each select="Record[@Period=$quarter] and (Entry= 'Dhirde, Govinda' or Entry= 'Vaze, Kedar')] >

<tr>
    <xsl:for-each select="Entry">
 <td><xsl:value-of select="." disable-output-escaping="yes"/></td>
               </xsl:for-each>
</tr>

    </xsl:for-each>
</table>

    </xsl:for-each>

    </xsl:template>
</xsl:stylesheet> 
```

我正在传递变量 $menteename = "Entry= 'Dhirde, Govinda' 或 Entry= 'Vaze, Kedar'" 的值。但是硬编码的东西效果很好，而不是参数一。我发现 XSL 解析存在一些问题，它读取参数值中的标签。这是造成问题的原因吗。我怎样才能使这项工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T13:34:10.477

变量保存值，而不是表达式。您不能将表达式 lilke (@x = 3) 替换为值为字符串“@x = 3”的变量。要执行此类操作，您需要一个扩展来评估作为字符串提供的 XPath 表达式，例如 saxon:evaluate()，或在 XSLT 3.0 中为 xsl:evaluate。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:58:46.127

好吧，我们确实需要知道您将哪种类型的参数值以及您传递给样式表的值，特别是当您的问题被标记为`xslt-2.0`您应该可以在哪里传递纯字符串值以及一系列字符串时。

假设您传入一系列字符串`'Dhirde, Govinda', 'Vaze, Kedar'`，您可以简单地测试

```
 Entry = $menteename 
```

在你的谓词中。

如果您传入一个包含多个名称的纯字符串，那么当然需要将这些字符串拆分为单独的值。由于值已经包含逗号，因此需要不同的分隔符，例如传入的字符串值是`'Dhirde, Govinda|Vaze, Kedar'`，您可以使用

```
Entry = tokenize($menteename, '\|') 
```

在你的谓词中。

假设您使用 XSLT 1.0 并且不能使用或不想使用扩展函数来拆分参数的字符串值，您可以使用类似的检查

```
contains(concat('|', $menteename, '|'), concat('|', Entry, '|')) 
```

这假设`Entry`元素包含单个值，例如`Vaze, Kedar`，您传入一个`bar`单独的名称列表，例如 `'Dhirde, Govinda|Vaze, Kedar'`作为参数值，然后检查

```
contains('|Dhirde, Govinda|Vaze, Kedar|', '|Vaze, Kedar|') 
```

# php - 取消链接（）不起作用

> ID：15021390
> 
> 赞同：1
> 
> 时间：2013-02-22T09:57:32.817
> 
> 标签：php, file-io, unlink

我正在尝试从服务器中删除文件。

我的应用程序的文件位于文件夹名称“/public_html/app/”中；

与应用程序关联的所有图像都位于以下路径中：“/public_html/app/images/tryimg/”

我正在编写以下代码规范的文件位于“/public_html/app/”中。

这是我的代码片段：

```
<?php

$m_img = "try.jpg"

$m_img_path = "images/tryimg".$m_img;

if (file_exists($m_img_path))
{
     unlink($m_img_path);
}
// See if it exists again to be sure it was removed
if (file_exists($m_img))
{
          echo "Problem deleting " . $m_img_path;
}
else
{
        echo "Successfully deleted " . $m_img_path;
}
?> 
```

执行上述脚本时，将显示消息“已成功删除 try.jpg”。

但是当我导航到该文件夹​​时，该文件不会被删除。

阿帕奇：2.2.17 PHP 版本：5.3.5

我究竟做错了什么？

我必须提供图像的相对或绝对路径吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:13:33.610

您缺少目录分隔符：

```
$m_img = "try.jpg"

$m_img_path = "images/tryimg".$m_img;

// You end up with this..
$m_img_path == 'images/tryimgtry.jpg'; 
```

您需要添加一个斜杠：

```
$m_img_path = "images/tryimg". DIRECTORY_SEPARATOR . $m_img; 
```

您还需要更改第二个 file_exists 调用，因为您使用的是图像名称而不是路径：

```
if (file_exists($m_img_path)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:05:18.557

您检查了错误的路径：

```
if (file_exists($m_img)) 
```

当您（试图） delete(d)`$m_img_path`时，请将您的支票替换为

```
if (file_exists($m_img_path)) 
```

[`unlink()`](http://www.php.net/manual/en/function.unlink.php)返回一个布尔值以指示删除是否成功，因此使用此值更容易/更好：

```
if (file_exists($m_img_path)) 
{
    if(unlink($m_img_path))
    {
        echo "Successfully deleted " . $m_img_path;
    } 
    else 
    {
        echo "Problem deleting " . $m_img_path;
    }
} 
```

此外，当前目录位于执行脚本的位置，因此在使用相对路径时需要牢记这一点。在大多数情况下，如果可能的话，使用绝对路径可能会更好/更容易。

如果您需要服务器上许多文件的路径，您可能希望将绝对路径放在变量中并使用它，因此如果您的服务器配置发生更改，则可以轻松更改绝对位置。

# php - 如何匹配没有前面文本的第一个图像元素？

> ID：15021391
> 
> 赞同：0
> 
> 时间：2013-02-22T09:57:34.833
> 
> 标签：php, html, regex

我需要选择 HTML 字符串中的第一个图像标记，但前提是它没有前面的文本。例如，它应该匹配这个：

```
<p><span><a href=""><img src="some.jpg"></a></span></p> 
```

但它不应该匹配这个：

```
<p>Text text text<span><a href=""><img src="some.jpg"></a></span></p> 
```

也不是这个：

```
<p><span>Text text text<a href=""><img src="some.jpg"></a></span></p> 
```

我尝试过类似的方法：

```
/(<[^>]+>)<img/is 
```

这样我就可以选择 img 标签之前的标签，但我无法排除可以在 img 元素之前的任何标签中的文本。

有些想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:20:20.140

正则表达式解决方案：

```
$regex='#^(<[^>]+>)*<img#i';
var_dump(preg_match($regex,'<p><span><a href=""><img src="some.jpg"></a></span></p>'));
var_dump(preg_match($regex,'<p>Text text text<span><a href=""><img src="some.jpg"></a></span></p>'));
var_dump(preg_match($regex,'<p><span>Text text text<a href=""><img src="some.jpg"></a></span></p>')); 
```

输出：

```
int(1)
int(0)
int(0) 
```

[现场演示](http://3v4l.org/9XD8I)

~~**编辑**：~~

DOM/XPath 解决方案：

```
foreach(array('<p><span><a href=""><img src="some.jpg"></a></span></p>',
'<p>Text text text<span><a href=""><img src="some.jpg"></a></span></p>',
'<p><span>Text text text<a href=""><img src="some.jpg"></a></span></p>') as $html)
{
    $dom=new DOMDocument();
    $dom->loadHTML($html);
    $xpath=new DOMXPath($dom);
    var_dump($xpath->query('//img[string-length(//text())<=0]')->length);
} 
```

还输出`1,0,0`.

~~[现场演示](http://3v4l.org/Danpg)~~

**编辑**#2：XPath 解决方案仍然有效，但它也消除了文本后跟的情况`<img>`。由于问题暗示“preceding”的意思*是字面意思*，我认为 Regex 是一个更好的工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:17:31.203

可能是这样的

```
$str = '
<p><span><a href=""><img src="some1.jpg"></a></span></p>
<p><span>Text text text<a href=""><img src="some2.jpg"></a></span></p>
<p><span>Text text text<a href=""><img src="some3.jpg"></a></span></p>
<p><span><a href=""><img src="some4.jpg"></a></span></p>';

preg_match_all('#<p>\s*<span>\s*<a.*(<img[^>]+>)#U', $str, $match);

echo '<pre>' . htmlspecialchars(print_r($match, 1)) . '</pre>'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:24:10.480

```
$content = strip_tags($yourContent, '<p><img>');
preg_match_all("#<p>(<img[^>]+>)#U", $content, $out);
print_r($out); 
```

# android - 如何从通知管理器调用活动的特定实例？

> ID：15021395
> 
> 赞同：0
> 
> 时间：2013-02-22T09:57:46.077
> 
> 标签：android, android-notifications

我可以使用意图将用户引导到通知管理器中的活动：

```
 intent.setClass(mContext, ChatActivity.class);
       intent.putExtra("UserId", user.getmPhoneNumber()); 
```

这里没问题。。

但我想将用户定向到 ChatActivity 的特定实例。我的意思是如果消息来自“user123”，我需要打开这个用户的聊天屏幕。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:00:32.060

您将 UserId 放在您的意图中，在 ChatACtivity 中检查 userId 并为该用户做任何您想做的事情

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:04:39.303

当您创建您`PendingIntent`的活动时，您将包括要打开的活动以及消息来自谁，作为额外的。你已经这样做了。我可以看到你包括`UserId`.

所以现在你唯一要做的就是在创建 ChatActivity ( `onCreate`) 时，使用

[`getIntent`](http://developer.android.com/reference/android/app/Activity.html#getIntent%28%29)活动的方法并获得[额外](http://developer.android.com/reference/android/content/Intent.html#getExtras%28%29)的东西。

然后检查`UserId`并显示来自指定用户的消息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T21:14:44.107

onNewIntent() 方法解决了我的问题。

重写了活动中的 onNewMethod() 方法，神奇的发生在 onResume() 方法中。从这里调用 getIntent() 并更改/更新了新用户的信息。

# python - 两个数据列表的相关性

> ID：15021403
> 
> 赞同：1
> 
> 时间：2013-02-22T09:58:04.190
> 
> 标签：python, correlation, rpy2

这两个列表包含如下数据：

```
a = [1 2 1 3 1 2 1 1 1 2 1 1 2 1 4 1 ] 
b = [ 3480\. 7080\. 10440\. 13200\. 16800\. 20400\. 23880\. 27480\. 30840\. 38040\. 41520\. 44880\.  48480\. 52080\. 55680\. 59280.] 
```

如何通过导入使用python找到相关性`rpy2`，我的意思是`cor`函数。并且 o/p 必须介于 -1 和 +1 之间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T14:09:33.933

```
from rpy2.robjects.vectors import FloatVector
from rpy2.robjects.packages import importr

stats = importr('stats')

a=[1, 2, 1, 3, 1, 2, 1, 1, 1, 2, 1, 1, 2, 1, 4, 1 ]
b=[ 3480, 7080, 10440, 13200, 16800, 20400, 23880,
    27480, 30840, 38040, 41520, 44880, 48480, 52080, 55680, 59280]

result = stats.cor(FloatVector(a), FloatVector(b)) 
```

rpy2 的文档有许多其他关于如何使用它的示例。

# javascript - 如何实现视差滚动？

> ID：15021405
> 
> 赞同：8
> 
> 时间：2013-02-22T09:58:05.903
> 
> 标签：javascript, css, scroll, parallax

这是链接供参考
[http://readwrite.com/2013/02/07/robert-scoble-favorite-apps-facebook-gmail-youtube](http://readwrite.com/2013/02/07/robert-scoble-favorite-apps-facebook-gmail-youtube)
在本网站中心和右侧部分如果我们滚动中心部分，则同时滚动...
我用这段代码做了同样的事情： -

这是html代码：-

```
<div id="left" class="linked">
<img height="600" src="http://www.visitingdc.com/images/eiffel-tower-picture.jpg">
</div>
<div id="right" class="linked">
<img  src="http://www.visitingdc.com/images/eiffel-tower-picture.jpg">
</div><br> 
```

脚本：-

```
$(function(){

    $('.linked').scroll(function(){
        $('.linked').scrollTop($(this).scrollTop());    
    })

}) 
```

CSS：-

```
<br>#left { width: 300px; height: 400px; overflow: scroll; float: left; }
#right { width: 300px; height: 400px; overflow: scroll; float: left; } 
```

但我有一点问题。
在上面的站点中，一次滚动，但右侧滚动缓慢它是如何工作的......？
请帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T10:13:35.827

[http://jsfiddle.net/cuVC7/0/](http://jsfiddle.net/cuVC7/0/)

请看一下这个解决方案。虽然不是很普遍，但它可以给你一个好的开始。`div`当您在小提琴的 CSS 部分更改其高度时，右侧的速度会自动调整。

应该注意的是，像这样的 2D 视差相关问题需要基本数学知识。上面的示例使用此模型：

*   确定页面的滚动，这样我们就知道滚动了多少`div`。
*   使用页面高度、窗口高度和左侧高度的知识`div`来计算*相对滚动*。也就是说，从 0 到 1 的值向我们展示了页面是完全不滚动、滚动了一定量还是滚动到了末尾。
*   *将相对滚动*映射到*慢层*相对于窗口大小的尺寸，以确定*慢层*的精确滚动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:39:25.530

您必须覆盖其中一个 div（在 js 中）的滚动行为，并将其设置为另一个的 0.5。看看这里： http: [//net.tutsplus.com/tutorials/html-css-techniques/simple-parallax-scrolling-technique/](http://net.tutsplus.com/tutorials/html-css-techniques/simple-parallax-scrolling-technique/)

# c# - 如果sharepoint文档库中不存在目录和子目录，如何创建

> ID：15021411
> 
> 赞同：1
> 
> 时间：2013-02-22T09:58:19.733
> 
> 标签：c#, sharepoint-2010, create-directory

根据用户输入，我有一个用户输入，`D:\Test1\Test2\Test3\Test4\a\b\c\d\file.jpg`我需要检查文件夹和子文件夹是否存在于文档库中。

IE

DocLib>>Test1>>Test2..di 想要复制文档库中的文件夹结构，如果它存在，则直接读取并保存文件，否则创建目录，然后创建子目录，并达到应保存文件的级别。

谁能帮我理解我该怎么做？我尝试在硬盘驱动器上的本地系统中创建文件

```
static void CopyFolder(string sourceFolder, string destFolder)
        {
            if (!Directory.Exists(sourceFolder))
                Directory.CreateDirectory(destFolder);
            string[] files = Directory.GetFiles(sourceFolder);
            foreach (string file in files)
            {
                string name = Path.GetFileName(file);
                string dest = Path.Combine(destFolder, name);
                File.Copy(file, dest);
            }

            //check folder in the source destination
            string[] folders = Directory.GetDirectories(sourceFolder);
            foreach (string folder in folders)
            {
                string name = Path.GetFileName(folder);
                string dest = Path.Combine(destFolder, name);
                System.IO.Directory.CreateDirectory(dest);
                CopyFolder(folder, dest);
            }
        } 
```

不知道如何检查目录是否存在，而不是检查共享点中的子目录。即通过保留指定的文件夹结构来添加文件。请帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:17:27.757

为此，您将需要一个一个地创建树路径的结构：这是一个简短的代码，如何在根站点上以 UserDocument 文件夹作为根文件夹来完成它：

```
 // This will contain all information about the path
            DirectoryInfo infoDir = new DirectoryInfo(@"C:\Users\Administrator\Pictures2\WallPaperHD - 078.jpg");

            // Root folder passed => Default in SharePoint
            if (infoDir.Parent != null)
            {
                // All folders are stored here
                List<string> folders = new List<string>();

                // Set current folder to parent
                DirectoryInfo currentDir = infoDir.Parent;
                do
                {
                    // Add its name to array
                    folders.Add(currentDir.Name);

                    // Set parent of current as current if available
                    if (currentDir.Parent != null)
                        currentDir = currentDir.Parent;
                }
                while (currentDir.Parent != null);

                // Add SP structure)
                using (SPSite site = new SPSite("http://testsite.dev"))
                {
                    SPWeb web = site.RootWeb;
                    // Get doc library
                    SPList documentLibrary = web.GetList("/UserDocuments");
                    // If library root exists
                    if (documentLibrary != null)
                    {
                        string folderUrl = "/UserDocuments/";

                        for (int i = folders.Count - 1; i >= 0; i--)
                        {
                            string folder = folders[i];
                            SPFolder newFolder = site.RootWeb.GetFolder(folderUrl + folder);
                            if (!newFolder.Exists)
                            {
                                site.RootWeb.Folders.Add(folderUrl + folder);
                                // Save changes
                                site.RootWeb.Update();

                                folderUrl += folder + "/";
                            }
                        }
                    }
                }
            } 
```

这将在 SharePoint 端创建与用户传递的路径中指定的相同的文件夹结构。

在此之后，您只需将文件保存在指定的文件夹中。

希望能帮助到你，

安德鲁

# actionscript-3 - AS3：-warn-scoping-change-in-this 的范围问题

> ID：15021415
> 
> 赞同：0
> 
> 时间：2013-02-22T09:58:28.363
> 
> 标签：actionscript-3, apache-flex

我想在 Flex 中启用所有编译器警告以在我的代码中解决它们。但是有一个警告，我不知道如何解决它。这是一些示例代码：

```
package lib
{
    import flash.events.NetStatusEvent;
    import flash.net.NetConnection;

    public class player
    {
        private function tmp(event:NetStatusEvent):void
        {
        }

        public function player():void
        {
            super();
            var connection:NetConnection = new NetConnection();
            connection.addEventListener(NetStatusEvent.NET_STATUS, tmp);
        }
    }
} 
```

在使用 -warn-scoping-change-in-this 编译时，我收到以下警告：

```
/var/www/test/src/lib/player.as(16): col: 59 Warning: Migration issue: Method tmp will behave differently in ActionScript 3.0 due to the change in scoping for the this keyword. See the entry for warning 1083 for additional information.

            connection.addEventListener(NetStatusEvent.NET_STATUS, tmp); 
```

将 tmp 作为函数放入 player() 将起作用，但这不是我想要的。我什至尝试使用 this.tmp 作为回调，但没有区别。有人知道如何解决这个编译器警告吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:01:57.933

[http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/compilerWarnings.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/compilerWarnings.html)

**这是一个代码迁移警告。当对象的方法被用作值时会生成此警告，通常用作回调函数。在 ActionScript 2.0 中，函数在调用它们的上下文中执行。在 ActionScript 3.0 中，函数始终在定义它们的上下文中执行。因此，变量和方法名称被解析为回调所属的类，而不是相对于调用它的上下文，如下例所示：**

```
class a 
{ 
   var x; 
   function a() { x = 1; } 
   function b() { trace(x); } 
}

var A:a = new a();
var f:Function = a.b; // warning triggered here
var x = 22;
f(); // prints 1 in ActionScript 3.0, 22 in ActionScript 2.0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:36:02.403

该警告只是为了让您知道，如果您将代码从 AS2 迁移到 AS3（编译器无法事先知道），代码的行为可能已经改变。**当您将代码从 AS2 迁移到 AS3 时，**您应该**只**启用编译器选项。`-warn-scoping-change-in-this`

 **因此，正如我在评论中所说，您不必担心该警告，因为显然看到您的代码不是您的情况，并且您不需要启用该编译器选项。**

# android - Facebook 分享无法正常工作

> ID：15021420
> 
> 赞同：0
> 
> 时间：2013-02-22T09:58:44.030
> 
> 标签：android, facebook, android-intent

我正在尝试通过 facebook 分享包含链接的文本。我的代码与 facebook messenger 应用程序完美配合。但不是通过 Facebook 应用程序。在 Facebook 应用程序中，我得到一个带有空编辑文本的共享视图。我不想整合 facebook api 并给予分享授权。我不想那样做。我认为它只能通过额外和意图来完成。

我的分享代码：

```
private void ShareWebView(){
        Intent intent = new Intent(Intent.ACTION_SEND);
        intent.setType("text/plain");
        intent.putExtra(Intent.EXTRA_TEXT, mTitle); 
        startActivity(Intent.createChooser(intent, "Share with"));
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:29:09.647

你不能。查看[Android 和 Facebook 共享意图](https://stackoverflow.com/questions/7545254/android-and-facebook-share-intent)

尤其是其中一条评论中提供的此链接：http: [//developers.facebook.com/bugs/332619626816423](http://developers.facebook.com/bugs/332619626816423)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:37:07.580

解决方法：如果您不想使用 android SDK 实现它

你想用

```
private void ShareWebView(){
   Intent intent = new Intent(Intent.ACTION_SEND);
   intent.setType("text/plain");
   intent.putExtra(Intent.EXTRA_TEXT, mTitle); // MUST contain 1 url
   startActivity(Intent.createChooser(intent, "Share with"));
} 
```

确保`mTitle`包含一个 LINK。

为什么这样做：尽管 facebook 无法正常工作，但它会删除第一个 url 或看起来像来自 url 的 url`mTitle`并将其发布为共享 url。它还会自动从该 url 捕获字幕和照片，因此大多数时候帖子/共享是完全可以接受的，避免了长代码实现！

# java - 使用 Atom Reader 阅读困难

> ID：15021427
> 
> 赞同：0
> 
> 时间：2013-02-22T09:59:40.693
> 
> 标签：java, android, parsing, feed, atom-feed

我尝试为 RSS 和 Atom 制作解析器，其中 RSS 提要显示标题，而 Atom 显示图像和描述以及链接。看来我的解析器只适用于 RSS。你能告诉我为什么吗？检查这个：

```
public void Get_Parse_Feed(String URL_link, Input_Streamer_Class is, List<String> headlines, List<String> links)
{
    try
    {
        // URL
        is = new Input_Streamer_Class();

        /*
         * 
         *             Reserved URLS:
         *             --> http://feeds.pcworld.com/pcworld/latestnews
         *             --> http://feeds2.feedburner.com/boy-kuripot
         *             --> http://feeds2.feedburner.com/phcreditcardpromos
         *             --> http://feeds.feedburner.com/blogspot/MKuf
         *             --> http://googleblog.blogspot.com/atom.xml
         * 
         */

        is.Set_URL(URL_link);

        // Set XML pull factory.
        XmlPullParserFactory factory = XmlPullParserFactory.newInstance();
        factory.setNamespaceAware(false);
        XmlPullParser xpp = factory.newPullParser();

        // Picking up input stream...
        xpp.setInput(is.Get_Input_Stream(is.Get_URL()), "UTF_8");

        // Check for inside item.
        boolean insideItem = false;

        // Pick event type. (START_TAG, END_TAG, etc.)
        int eventType = xpp.getEventType();
        while(eventType != XmlPullParser.END_DOCUMENT)
        {
            if(eventType == XmlPullParser.START_TAG)
            {
                if(xpp.getName().equalsIgnoreCase("item"))
                {
                    insideItem = true;

                } else if(xpp.getName().equalsIgnoreCase("title")) {

                    if(insideItem)
                    {
                        headlines.add(xpp.nextText()); // --> Extract the headline.
                    }

                } else if(xpp.getName().equalsIgnoreCase("link")) {

                    if(insideItem)
                    {
                        links.add(xpp.nextText()); // --> Extract the link of article.
                    }

                }

            } else if((eventType == XmlPullParser.END_TAG) && xpp.getName().equalsIgnoreCase("item")) {

                insideItem = false;

            }

            eventType = xpp.next(); // --> Move to the next element.
        }

    } catch(MalformedURLException e) {

        e.printStackTrace();

    } catch(XmlPullParserException e) {

        e.printStackTrace();

    } catch(IOException e) {

        e.printStackTrace();

    }
} 
```

每次当我找到本教程并为自己使用 MVC 进行管理时，结果都令人印象深刻。但是，当我尝试实现一个包含 Atom 提要的 URL 时，它没有显示出来。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:41:56.633

很明显结构不同，你需要2个不同的解析器！或 2 个合二为一（真的不知道会有多大帮助）

因为：

RSS 2.0：

```
<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
        <channel>

                <title>Example Feed</title>
                <description>Insert witty or insightful remark here</description>
                <link>http://example.org/</link>
                <lastBuildDate>Sat, 13 Dec 2003 18:30:02 GMT</lastBuildDate>
                <managingEditor>johndoe@example.com (John Doe)</managingEditor>

                <item>
                        <title>Atom-Powered Robots Run Amok</title>
                        <link>http://example.org/2003/12/13/atom03</link>
                        <guid isPermaLink="false">urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a</guid>
                        <pubDate>Sat, 13 Dec 2003 18:30:02 GMT</pubDate>
                        <description>Some text.</description>
                </item>

        </channel>
</rss> 
```

原子 1.0：

```
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

        <title>Example Feed</title>
        <subtitle>Insert witty or insightful remark here</subtitle>
        <link href="http://example.org/"/>
        <updated>2003-12-13T18:30:02Z</updated>
        <author>
                <name>John Doe</name>
                <email>johndoe@example.com</email>
        </author>
        <id>urn:uuid:60a76c80-d399-11d9-b93C-0003939e0af6</id>

        <entry>
                <title>Atom-Powered Robots Run Amok</title>
                <link href="http://example.org/2003/12/13/atom03"/>
                <id>urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a</id>
                <updated>2003-12-13T18:30:02Z</updated>
                <summary>Some text.</summary>
        </entry>

</feed> 
```

比较[这里](http://www.intertwingly.net/wiki/pie/Rss20AndAtom10Compared#table)，你的代码中的不同问题是在 atom 上你`entry`没有`item`在 rss 中！

# android - 我们如何在android中匹配两个字符串？

> ID：15021428
> 
> 赞同：1
> 
> 时间：2013-02-22T09:59:41.083
> 
> 标签：android, gps

我试图将硬编码的纬度和经度与动态纬度和经度进行匹配，但它没有显示正确的输出，谁能帮我解决这个错误

我的代码是

```
 String Log = "-122.084095";
            String Lat = "37.422005";
            try {
                if ((Lat.equals(latitude)) && (Log.equals(longitude))) {
                    AudioManager audiM = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
                    audiM.setRingerMode(AudioManager.RINGER_MODE_SILENT);
                    Toast.makeText(getApplicationContext(),
                            "You are at home",
                            Toast.LENGTH_LONG).show();
                } else {
                    AudioManager auMa = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
                    auMa.setRingerMode(AudioManager.RINGER_MODE_NORMAL);

                    Toast.makeText(getApplicationContext(),
                            "You are at office ", Toast.LENGTH_LONG)
                            .show();
                }
            } catch (Exception e) {
                e.printStackTrace();
            } 
```

它总是用于其他部分...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:02:28.270

您不想在`String`此处使用比较，因为您无法保证实时位置的准确性。

处理此问题的最佳方法是确定点之间的距离，然后确定它是否足够接近，您可以考虑大致相同。

为此，我们使用`distanceBetween`或`distanceTo`

文档在[这里](http://developer.android.com/reference/android/location/Location.html#distanceTo%28android.location.Location%29)和[这里](http://developer.android.com/reference/android/location/Location.html#distanceBetween%28double,%20double,%20double,%20double,%20float%5B%5D%29)

可以在[此处](https://stackoverflow.com/questions/5936912/how-to-find-the-distance-between-two-geopoints)找到示例。这是其中一个示例：

```
Location locationA = new Location("point A");

locationA.setLatitude(pointA.getLatitudeE6() / 1E6);
locationA.setLongitude(pointA.getLongitudeE6() / 1E6);

Location locationB = new Location("point B");

locationB.setLatitude(pointB.getLatitudeE6() / 1E6);
locationB.setLongitude(pointB.getLongitudeE6() / 1E6);

double distance = locationA.distanceTo(locationB); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:02:05.773

您的匹配没问题，但您可能不应该检查这样的 gps 位置。

您应该将该位置转换为可以检查您是否在该位置半径 10m 范围内的位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:02:47.753

一个更好的方法是将 long/lat 保留为 doubles 并比较数字。

```
if(lat > HOME_LAT - 0.1 && lat < HOME_LAT + 0.1 && ...same for lon... ){} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:04:50.420

您可以将动态 Latitute 和 Longitute 打印到 Logcat 并使用硬编码的 Latitute 和 Longitute 检查

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T10:09:13.570

纬度和经度是因点而异的变量，事实上它们在同一地点时不断变化，因为它不精确。

**而不是比较字符串**，取**lat 和 long 的舍入值**（在 long 或 float 中）并**检查特定范围内的这些值**。这将帮助您解决“家庭”和“办公室”的问题。

例如：

```
 String Log = "22.084095";
    String Lat = "37.422005";

    double lng=Double.parseDouble(Log);
    double lat=Double.parseDouble(Lat);

    double upprLogHome=22.1;
    double lwrLogHome=21.9;
    double upprLatHome=37.5;
    double lwrLatHome=37.3;

//  double upprLogOfc=;
//  double lwrLogOfc=;
//  double upprLatOfc=;
//  double lwrLatOfc=;

    if(lng<upprLogHome && lng>lwrLogHome && lat<upprLatHome &&lat>lwrLatHome )
    {
        System.out.println("You are Home");
    }
  /*  else if(lng<upprLogOfc && lng>lwrLogOfc && lat<upprLatOfc &&lat>lwrLatOfc )
    {
        System.out.println("You are Home");
    }*/
    else
        System.out.println("You are neither Home nor Ofc"); 
```

但是对于负的经纬度，您必须颠倒检查的过程。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T10:11:59.167

试试这个，

使用 google map api 传递 lat 和 long 值，您将获得格式化的地址。并且还通过动态 lat 和 lng 值相同的谷歌 api 你将得到格式化的地址。然后匹配两个格式化的地址，你会得到结果。我建议你可以试试这个

使用这个谷歌 api。[http://maps.googleapis.com/maps/api/geocode/json?latlng=11.029494,76.954422&sensor=true](http://maps.googleapis.com/maps/api/geocode/json?latlng=11.029494,76.954422&sensor=true)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-22T10:23:08.530

Reena，非常简单，查看下面的代码。您需要使用“equalsIgnoreCase()”而不是“equals”。

if ((Lat.equalsIgnoreCase(latitude)) && (Log.equalsIgnoreCase(longitude))) {

应该工作下面的例子：

```
// Demonstrate equals() and equalsIgnoreCase(). 
class equalsDemo { 
public static void main(String args[]) { 
String s1 = "Hello"; 
String s2 = "Hello"; 
String s3 = "Good-bye"; 
String s4 = "HELLO"; 
System.out.println(s1 + " equals " + s2 + " -> " + 
s1.equals(s2)); 
System.out.println(s1 + " equals " + s3 + " -> " + 
s1.equals(s3)); 
System.out.println(s1 + " equals " + s4 + " -> " + 
s1.equals(s4)); 
System.out.println(s1 + " equalsIgnoreCase " + s4 + " -> " + 
s1.equalsIgnoreCase(s4)); 
} 
```

}

# shell - UNIX 脚本 - 查找文件 - 显示日期

> ID：15021430
> 
> 赞同：3
> 
> 时间：2013-02-22T09:59:43.173
> 
> 标签：shell, unix, scripting, find

我正在运行以下命令：

```
find . -atime -30 
```

但是在输出中，我希望它显示访问时间的时间戳。如果可能的话，还希望它显示访问该文件的用户。

你能帮我吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:11:22.457

使用以下`printf`选项`find`：

```
find . -atime -30 -printf '%u %Ac %p\n' 
```

查看[`man find`](http://unixhelp.ed.ac.uk/CGI/man-cgi?find)不同的`printf`格式选项。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:08:59.170

```
find . -atime -30 -print0 | xargs -0 ls -lud 
```

您无法确定谁访问了该文件，通常不会记录此信息。

请记住，atime 并不总是更新（取决于文件系统挂载选项）。

如果要将查找限制为仅文件，则可以执行以下操作：

```
find . -atime -30 -a -type f -print0 | xargs -0 ls -lud 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T10:08:40.483

上次访问不会记录访问该文件的用户。

```
find . -atime -30 -exec stat {} + 
```

会给你所有你能得到的信息。

如果您没有 GNU find 或 stat，请尝试 Petesh 的建议。

# c#-4.0 - 如何保护我的网站免受会话固定？

> ID：15021431
> 
> 赞同：5
> 
> 时间：2013-02-22T09:59:47.387
> 
> 标签：c#-4.0, asp.net-mvc-2, asp.net-4.0

目前我们面临一个关于会话固定的问题。我们确实有一个安全的站点，即 Https，并且没有对其进行身份验证。这意味着它具有匿名访问权限。因此，我们正面临来自黑客的会话固定问题。有人可以帮助和指导吗？？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:14:55.950

你应该在这里找到你需要的信息：

[OWASP](https://www.owasp.org/index.php/Session_fixation) - 关于会话固定的信息

[ASP.NET 中的会话固定漏洞](http://www.codeproject.com/Articles/210993/Session-Fixation-vulnerability-in-ASP-NET)- ASP.NET 中的会话固定

# .net - .NET 正则表达式来捕获具有可选属性的占位符

> ID：15021433
> 
> 赞同：0
> 
> 时间：2013-02-22T09:59:56.950
> 
> 标签：.net, regex, placeholder

我正在尝试使用正则表达式来识别文本文件中的特定占位符。
每个占位符都以 % 开头和结尾。
打开 % 后的第一个单词是占位符名称，它*可以*具有可选属性（考虑非默认格式属性）。

一些样本是：

%MyVariable% --> 想要的输出是 Name=MyVariable , Attribute=''
%MyVariable:uppercase% --> 想要的输出是 Name=MyVariable , Attribute='uppercase'
%MyVariable:maxlen(20)% --> 想要的输出是 Name=MyVariable , Attribute='maxlen(20)'
%MyVariable:words(1,2)% --> 想要的输出是 Name=MyVariable , Attribute='words(1,2)'

请任何人帮助我建立一个正确的正则表达式来完成这项任务？

我正在使用 C# 和 .NET 框架 v4.0

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:14:53.300

以下模式将为您捕获每个占位符：

```
%(?<name>\w+)(?<attribute>:.*?)?% 
```

按组名检索值：*name*和*attribute*。

例子：

```
var matches = Regex.Matches(input, @"%(?<name>\w+)(?<attribute>:.*?)?%");
foreach (Match match in matches)
{
    var name = match.Groups["name"].Value;
    var attribute = match.Groups["attribute"].Value;
    Console.WriteLine(
        string.Format("Name={0}, Attribute='{1}'", name, attribute));
} 
```

`%`说明：模式在您的占位符中以 as 开头和结尾。在内部，我们使用语法定义了两个名称组`(?<group_name>some_pattern_here)`。第一组用 捕获所有字母数字字符`\w+`，应该至少有 1 个字符。第二组捕获所有符号，直到`%`使用`.*?`. 组可能存在或不存在，因此我们将其放在`?`后面。就是这样。视觉上看起来像这样：

```
%           MyVariable                 :  words(1,2)     %
% (?<name>     \w+     ) (?<attribute> :     .*?     )?  % 
```

请阅读[MSDN 上的正则表达式参考](http://msdn.microsoft.com/en-us/library/hs600312.aspx)以了解所有特殊字符。

# maven - maven-antrun-plugin 如果两个可能条件中的任何一个成立，则跳过目标

> ID：15021439
> 
> 赞同：3
> 
> 时间：2013-02-22T10:00:30.153
> 
> 标签：maven, ant, conditional, maven-antrun-plugin

我可以通过两个属性 A 和 B 传递给 maven

```
 mvn test -DA=true 
```

或者

```
 mvn test -DB=true 
```

如果定义了 A 或 B，我希望跳过一个目标。我发现只有 A 被认为是这样的时候是可能的：

```
 <plugin>
    <artifactId>maven-antrun-plugin</artifactId>
    <version>1.7</version>
    <executions>
      <execution>
        <id>skiptThisConditionally</id>
        <phase>test</phase>
        <configuration>
          <target name="anytarget" unless="${A}">
             <echo message="This should be skipped if A or B holds" />
          </target>
        </configuration>
        <goals>
          <goal>run</goal>
        </goals>
      </execution>
    </executions>
  </plugin> 
```

现在也必须考虑 B。这可以做到吗？

马蒂亚斯

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T10:42:41.883

我会使用一个外部`build.xml`文件来执行此操作，该文件允许您定义多个目标并结合`antcall`使用一个额外的虚拟目标，以便检查第二个条件。

**pom.xml**

```
<plugin>
    <artifactId>maven-antrun-plugin</artifactId>
    <version>1.7</version>
    <executions>
        <execution>
            <id>skiptThisConditionally</id>
            <phase>test</phase>
            <configuration>
                <target name="anytarget">
                    <ant antfile="build.xml"/>
                </target>
            </configuration>
            <goals>
                <goal>run</goal>
            </goals>
        </execution>
    </executions>
</plugin> 
```

和 build.xml

```
 <?xml version="1.0" encoding="UTF-8"?>
    <project name="SkipIt" default="main">
       <target name="main" unless="${A}">
          <antcall target="secondTarget"></antcall>
       </target>
       <target name="secondTarget" unless="${B}">
          <echo>A is not true and B is not true</echo>
       </target>
     </project> 
```

* * *

如果您只有两个条件，则替代解决方案：将`<skip>`配置属性用于一个条件（即 maven 的东西）和`unless`（即 ant 的东西）用于另一种条件：

```
<plugin>
    <artifactId>maven-antrun-plugin</artifactId>
    <version>1.7</version>
    <executions>
        <execution>
            <id>skiptThisConditionally</id>
            <phase>test</phase>
            <configuration>
                <skip>${A}</skip>
                <target name="anytarget" unless="${B}">
                    <echo>A is not true and B is not true</echo>
                </target>
            </configuration>
            <goals>
                <goal>run</goal>
            </goals>
        </execution>
    </executions>
</plugin> 
```

# android - Android Maps API v2：放大当前位置和标记

> ID：15021443
> 
> 赞同：3
> 
> 时间：2013-02-22T10:00:39.160
> 
> 标签：android, android-maps-v2

我有一个包含在应用程序中的地图。我需要地图放大标记和用户位置，但保持标记居中。放大效果很好，但当然不会使标记在地图上居中。

```
@Override
public void onLocationChanged(Location location) {
    if (mListener != null) {
        mListener.onLocationChanged(location);

        LatLngBounds bounds = new LatLngBounds.Builder()
        .include(new LatLng(location.getLatitude(),location.getLongitude()))
        .include((new LatLng(52.3563, 4.8790)))
        .build();

        mMap.animateCamera(CameraUpdateFactory.newLatLngBounds(bounds, 35));

    }
} 
```

将两者都保持在边界内但保持标记居中的最佳方法是什么？我似乎无法在官方文档中找到解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T09:05:21.310

我会调用两个函数，一个用于使标记居中，另一个用于缩放地图，直到您的当前位置仍然可见。

我用 15 缩放级别缩放到一个点的解决方案：

```
myMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLngToCenter, 1)); 
```

缩放直到所有标记仍然可见（更改代码以适应标记和您的位置）：

```
public void fitZoomAndPositionToMapByMarkers() {

    int minLat = Integer.MAX_VALUE;
    int maxLat = Integer.MIN_VALUE;
    int minLon = Integer.MAX_VALUE;
    int maxLon = Integer.MIN_VALUE;

    List<MyMapMarker> markersShownOnMap = getMarkersToShow();

    for (MyMapMarker item : markersShownOnMap) {

        int lat = (int) (item.getLatitude() * 1E6);
        int lon = (int) (item.getLongitude() * 1E6);

        maxLat = Math.max(lat, maxLat);
        minLat = Math.min(lat, minLat);
        maxLon = Math.max(lon, maxLon);
        minLon = Math.min(lon, minLon);
    }

    double latitudeToGo = (maxLat + minLat) / 1E6 / 2;
    double longitudeToGo = (maxLon + minLon) / 1E6 / 2;
    LatLng toCenter = new LatLng(latitudeToGo, longitudeToGo);

    centerCameraToProperPosition(toCenter);

    LatLng southWestLatLon = new LatLng(minLat / 1E6, minLon / 1E6);
    LatLng northEastLatLon = new LatLng(maxLat / 1E6, maxLon / 1E6);

    zoomInUntilAllMarkersAreStillVisible(southWestLatLon, northEastLatLon);
} 
```

希望这可以帮助！

```
private void zoomInUntilAllMarkersAreStillVisible(final LatLng southWestLatLon, final     LatLng northEastLatLon) {

    myMap.setOnCameraChangeListener(new OnCameraChangeListener() {

        @Override
        public void onCameraChange(CameraPosition arg0) {

            myMap.moveCamera(CameraUpdateFactory.newLatLngBounds(new LatLngBounds(southWestLatLon, northEastLatLon), 50));
            myMap.setOnCameraChangeListener(null);

        }
    });

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-23T16:48:59.013

您好，我找到了一种使用 LatLngbounds 的好方法：

```
googleMap.moveCamera(CameraUpdateFactory.newLatLngBounds(new LatLngBounds(latlngSW, latlngNE, 50)); 
```

此函数将使用最 SW 点和最 NE 点创建一个矩形，以 50 填充使视图居中，但您需要首先检查哪个点应该作为第一个或第二个参数给出，这是我的代码：

```
public void centerMap(LatLng latLng){
    if(fenceMarker != null){
        LatLngBounds center; 
        LatLng fence = fenceMarker.getPosition();
        if(fence.latitude < latLng.latitude || fence.longitude < latLng.longitude)
            center = new LatLngBounds(fenceMarker.getPosition(), latLng);
        else{
            center = new LatLngBounds(latLng, fenceMarker.getPosition());
        }
        googleMap.moveCamera(CameraUpdateFactory.newLatLngBounds(center, 50));
    }
} 
```

2 点是我的位置 latLng 和地理围栏的标记，fenceMarker。

我从 onLocationChanged() 调用这个函数 centerMap(latLng)：

```
@Override
public void onLocationChanged(Location location) {
    LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude()); 
    centerMap(latLng);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:29:49.250

**设定界限**-

方法的重载**newLatLngBounds(boundary, width, height, padding)**允许
您指定矩形的**宽度和高度**（以像素为单位），目的是使
它们对应于地图的尺寸​​。矩形的定位**使其中心与地图视图的中心相同**（因此，如果指定的尺寸与地图视图的尺寸相同，则矩形与地图视图重合）。返回的 CameraUpdate 将移动相机，以使指定的**LatLngBounds 以最大可能的缩放级别在给定矩形内的屏幕上居中**，同时考虑到所需的填充。
参考-[https://developers.google.com/maps/documentation/android/views#target_location](https://developers.google.com/maps/documentation/android/views#target_location)

# wordpress - 在没有弹性 IP 的情况下使用 Route 53 在 EC2 上运行 WordPress 站点是否可行？

> ID：15021450
> 
> 赞同：2
> 
> 时间：2013-02-22T10:01:04.953
> 
> 标签：wordpress, amazon-web-services, amazon-ec2, amazon-route53

我正在运行五个 wordpress 站点 (@EC2)，它们都有自己的弹性 IP 绑定到正确的域名。当我想启动另一个站点（另一个域）时，我达到了最大限制。

除了显而易见的；要求更多 EIP，我可以使用路由 53 并指向动态 EC2 主机名吗？

据我了解，当我重新启动或停止/启动实例时，这将破坏/弄乱 wordpress 实例的所有内部链接，因为它获得了一个新的 IP/主机名，并且 wordpress 的所有图像链接默认都是绝对的出于搜索引擎优化的原因。

有没有人找到解决方案，还是我唯一的选择是要求更多的 EIP？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T17:25:47.690

在我看来，请求更多的 EIP 将是更简单的方法。

您可以将 DNS 设置为指向任何实例的公共 ip，如果它不是 eip，则如果实例再次停止/启动，它将改变。在这种情况下，您需要更新 DNS。

Wordpress 并不真正关心实例的主机名或 IP 地址是什么。它关心您希望它响应的主机名。即使底层 ip 发生变化，只要将主机名记录更新为新 IP，您也不会有任何问题。

# multithreading - C# 多线程处理 CPU 少得多的进程比 CPU 多得多

> ID：15021452
> 
> 赞同：0
> 
> 时间：2013-02-22T10:01:14.900
> 
> 标签：multithreading, c#-4.0, concurrency

目前，我们的应用程序正在处理同一目录中大约 1000 多个 XML 文件的大量文件。这些文件都被读取、解析和更新/保存到数据库中。

当我们在 12 核机器上测试我们的应用程序时，整个过程比在 4 核机器上处理它要慢得多。

我们观察到，我们的应用程序产生的线程数上升到 30 到 90 个线程，并且上下文切换正在大量增加。这可能是由大量并行执行引起的，但它们都很重要。

上下文切换是罪魁祸首吗？或文件的并行读/写？还是我们减少并行任务的数量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:11:18.923

这里的瓶颈是磁盘访问。无论启动多少线程，文件系统一次只能读取一个文件。启动更多线程只会使它们争夺这个单一资源，从而增加上下文切换和磁盘寻道时间。

在进程的另一端也是一个限制，因为一次只有一个线程可以更新数据库中的表，但数据库被设计为处理多个进程。

让一个线程负责磁盘读取，一旦文件被读取，它就可以启动一个线程来处理它。这样，您以最有效的方式从磁盘读取，并且您在瓶颈后面有操作的多线程部分。

# oracle11g - 子查询的问题

> ID：15021455
> 
> 赞同：0
> 
> 时间：2013-02-22T10:01:20.370
> 
> 标签：oracle11g

**电磁脉冲表**

```
EMPNO ENAME  JOB        MGR  HIREDATE    SAL   COMM  DEPTNO
7369  SMITH  CLERK      7902  17-DEC-80  800         20
7499  ALLEN  SALESMAN   7698  20-FEB-81  1600  300   30
7521  WARD   SALESMAN   7698  22-FEB-81  1250  500   30
7566  JONES  MANAGER    7839  02-APR-81  2975        20
7654  MARTIN SALESMAN   7698  28-SEP-81  1250  1400  30
7698  BLAKE  MANAGER    7839  01-MAY-81  2850        30
7782  CLARK  MANAGER    7839  09-JUN-81  2450        10
7788  SCOTT  ANALYST    7566  19-APR-87  3000        20
7839  KING   PRESIDENT        17-NOV-81  5000        10
7844  TURNER SALESMAN   7698  08-SEP-81  1500     0  30
7876  ADAMS  CLERK      7788  23-MAY-87  1100        20
7900  JAMES  CLERK      7698  03-DEC-81  950         30
7902  FORD   ANALYST    7566  03-DEC-81  2900        20
7934  MILLER CLERK      7782  23-JAN-82  1300        10 
```

**查找工资超过其部门平均工资的所有员工**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:10:24.707

这应该这样做：

```
select empno, ename, job, mgr, hiredate, sal, comm, deptno
  from (select e.*, avg(sal) over (partition by deptno) avgsal
          from emp e)
 where sal > avgsal; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T13:57:41.480

伙计，你可以通过两种方式做到这一点......一个分区（上面提到过）并且使用相关查询也做了同样的事情这里是代码：

```
SELECT eemp.*
 FROM emp  eemp
 WHERE eemp.SAL > (SELECT avg(SAL)
    FROM emp
    WHERE DEPTNO = eemp.DEPTNO); 
```

如果有任何澄清请告诉我！

# xml - 等于? _

> ID：15021456
> 
> 赞同：0
> 
> 时间：2013-02-22T10:01:27.013
> 
> 标签：xml, tags

我很好奇，XML 标准是否允许我编写没有内容的标签作为一个标签？

我给你举两个例子：

可以换`<img alt="foo" />` 吗`<img alt="foo"></img>`？或者我可以`<message></message>`用一个简单的标签交换暗示和空消息的`<message />`标签吗？

在答案中，您能否引用规范或显示来源？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:02:35.343

只要您在谈论 XML 或 XHTML，那么[这两种形式是等价的](http://www.w3.org/TR/2008/REC-xml-20081126/#sec-starttags)。然而，在[HTML4](https://stackoverflow.com/questions/3201870/are-self-closing-input-tags-valid-in-html-4)和[HTML5](https://stackoverflow.com/questions/3558119/are-self-closing-tags-valid-in-html5)中，它们都不是。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:04:00.590

是的，你可以这么做。只要 XML 有效，您就可以这样做。

# neo4j - Neo4J 子图或多个数据库

> ID：15021457
> 
> 赞同：2
> 
> 时间：2013-02-22T10:01:29.427
> 
> 标签：neo4j, subgraph

我的 Neo4J（嵌入式）数据库设置如下：

*   我将几个用户节点附加到参考节点。
*   每个用户节点可以附加一个或多个项目节点。
*   每个项目节点都附有一个复杂的图表。

复杂图可以用单一遍历模式遍历（其中有一个隐藏的树结构）。

我想做的是以下几点：

*   删除项目节点下的所有节点。
*   当项目节点下方没有任何内容时，删除用户下方的所有项目节点
*   将特定用户节点下的所有节点导出到 .graphML（可能使用 Gremlin Java API？）
*   将 .graphML 文件导入回特定用户节点下的数据库，而不删除位于不同用户节点下的信息。

我已经使用 Gremlin GraphML reader 来导入和导出整个 Neo4J 数据库，但我无法找到有关导入/导出子图的信息。

如果这实际上是可能的，Neo4J 将如何处理试图同时导入某些内容的两个用户？例如用户 1 在 user1 节点下导入他的部分，用户 2 同时在用户 2 节点下导入他的数据。

另一种可能性是每个用户都有一个 Neo4J 数据库，但这实际上是不太可取的选择，我非常不确定它是否真的可行，无论是嵌入式还是服务器版本。我读过一些关于在不同端口上拥有多个服务器版本的信息，但我们的用户数量根据定义是无限的......

任何帮助将不胜感激。

**编辑 1：**我还遇到了一个叫做 Geoff (org.neo4j.geoff) 的东西，它处理子图。我完全不知道这是如何工作的，但我现在正在研究它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-24T20:55:44.313

您可能会在开始导入时锁定用户节点，以便第二次导入必须等待（并且必须检查）。

使用密码查询，您可以删除子图并将它们再次导出到密码。[Neo4j 控制台存储库](https://github.com/neo4j-contrib/rabbithole/blob/master/src/main/java/org/neo4j/community/console/CypherExportService.java)中有查询结果的导出代码。

在那里您还可以找到 geoff-export 和 import 以及 cypher 进口商。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T16:09:22.677

一种选择可能是在遍历时使用类似`Tinkerpop` `blueprints`创建泛型的方法`Graph`，然后进行`GraphML`导出。

[https://github.com/tinkerpop/blueprints/wiki/GraphML-Reader-and-Writer-Library](https://github.com/tinkerpop/blueprints/wiki/GraphML-Reader-and-Writer-Library)会有更多信息，但如果您要导出子图，这可能是您的最佳选择。

# matlab - 使用 grep awk sed perl 或其他东西更改多个文本文件

> ID：15021458
> 
> 赞同：0
> 
> 时间：2013-02-22T10:01:34.233
> 
> 标签：matlab, sed, awk, grep, octave

我有多个名为 split01.txt、split02.txt 等的文本文件，数据格式如下：（**这就是我所拥有的）**

```
/tmp/audio_files/n000001.wav;
/tmp/audio_files/n000002.wav;
/tmp/audio_files/n000003.wav;
/tmp/audio_files/p000004.wav;
/tmp/audio_files/p000005.wav; 
```

我想使用从 split01.txt、split02.txt 等文件中获取的数据创建另一个文件，格式如下：（**这是我希望看到的格式）**

```
[playlist]
NumberOfEntries=5

File000001=n000001.wav
Title000001=n000001.wav

File000002=n000002.wav
Title000002=n000002.wav

File000003=n000003.wav
Title000003=n000003.wav

File000004=p000004.wav
Title000004=p000004.wav

File000005=p000005.wav
Title000005=p000005.wav

Version=2 
```

这可以在一个实例中完成吗？我问的原因是，在初始过程完成创建音频文件后，我将从 octave/matlab 内部运行/调用命令（awk、grep、sed 等...）。

示例：我在下面的一个实例中的意思：（matlab/octave 代码）

```
 system(strcat({'split --lines=3600 -d '},dirpathwaveformstmp,fileallplaylistStr,{' '},dirpathwaveformstmp,'allsplit')) 
```

这会将单个文件拆分为多个名称为 allsplit01 allsplit02 等的文件。每个文件最多只有 3600 行。

对于那些问这个问题的人，我正在为我用 octave/matlab 创建的音频文件创建播放列表文件。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T12:41:47.400

如果你用 Octave 编写程序，为什么不也用 Octave 编写程序呢？该语言不限于数值分析。使用 Octave 函数可以很容易地完成您想要做的事情。

```
filepath     = "path for input file"
playlistpath = "path for output file" 
## read file and prepare cell array for printing
files = strsplit (fileread (filepath)', "\n");
if (isempty (files{end}))
  files(end) = [];
endif
[~, names, exts] = cellfun (@fileparts, files, "UniformOutput", false);
files = strcat (names, exts);
files(2,:) = files(1,:);
files(4,:) = files(1,:);
files(1,:) = num2cell (1:columns(files))(:);
files(3,:) = num2cell (1:columns(files))(:);

## write playlist
[fid, msg] = fopen (playlistpath, "w");
if (fid < 0)
  error ("Unable to fopen %s for writing: %s", playlistpath, msg);
endif
fprintf (fid, "[playlist]\n");
fprintf (fid, "NumberOfEntries=%i\n", columns (files));
fprintf (fid, "\n");
fprintf (fid, "File%06d=%s\nTitle%06d=%s\n\n", files{:});
fprintf (fid, "Version 2");

if (fclose (fid))
  error ("Unable to fclose file %s with FID %i", playlistpath, fid);
endif 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T12:36:12.927

这是使用 awk 的一种方法：

*解析.awk*

```
BEGIN {
  print "[playlist]"
  print "NumberOfEntries=" len "\n"
  i = 1
}

{
  gsub(".*/|;", "")
  printf "File%06d=%s\n" , i, $0
  printf "Title%06d=%s\n\n", i, $0
  i++
}

END {
  print "Version 2"
} 
```

像这样运行它：

```
awk -v len=$(wc -l < infile) -f parse.awk infile 
```

输出：

```
[playlist]
NumberOfEntries=5

File000001=n000001.wav
Title000001=n000001.wav

File000002=n000002.wav
Title000002=n000002.wav

File000003=n000003.wav
Title000003=n000003.wav

File000004=p000004.wav
Title000004=p000004.wav

File000005=p000005.wav
Title000005=p000005.wav

Version 2 
```

# php - jQuery 进度条和计算提交散文

> ID：15021459
> 
> 赞同：0
> 
> 时间：2013-02-22T10:01:38.513
> 
> 标签：php, jquery, html, jquery-ui

是否可以通过ajax表单提交数据（不是上传表单）以显示过程的进度条？该过程是从服务器端发生的进度条计算过程中计算出来并显示到进度条上的 ?

# mysql - 如何分离结果

> ID：15021461
> 
> 赞同：0
> 
> 时间：2013-02-22T10:01:48.053
> 
> 标签：mysql, sql, doctrine-orm, symfony-2.1, query-builder

我对 Doctrine QueryBuilder 有以下查询：

```
$qb = $this->createQueryBuilder('e')
            ->select('e.id, e.name, e.body, e.teaser, e.slug, e.dateBegin, e.dateEnd, e.dateTbd, v.name AS v_name')
            ->innerJoin('e.venue', 'v')
            ->where('v.name LIKE :TBD')
            ->orWhere('v.name LIKE :TBA')
            ->orWhere('e.name LIKE :TBD')
            ->orWhere('e.name LIKE :TBA')
            ->orWhere('e.name LIKE \'none\'')
            ->orWhere('e.name LIKE \'n/a\'')
            ->orWhere('e.teaser LIKE :TBD')
            ->orWhere('e.body LIKE :TBD')
            ->orWhere('e.dateTbd=true')
            ->orWhere('TIME(e.dateBegin) < :earlyMorning AND TIME(e.dateBegin) > :lateNight')
            ->setParameter('TBA', '%TBA%')
            ->setParameter('TBD', '%TBD%')
            ->setParameter('earlyMorning', '06:00:00')
            ->setParameter('lateNight', '23:00:00'); 
```

如何在此查询中通过“where”子句分隔结果。我需要使用 where 子句中列出的标准显示每个事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T22:31:01.233

我看不到一种轻松实现这一点的方法，尤其是如果我们假设您正在使用它来检索标准的学说实体集合，因为您实际上无法将其他分组/属性传递给这些。

如果您需要将它们简单地分组以在输出时显示它们略有不同，例如在您的标记中，我会考虑在您的实体类中添加其他方法，以允许您检测它们基于定义的类似标准的“类型”在您的查询中，例如使用标准字符串匹配函数。

否则，您的选择将是过滤集合（ArrayCollections 带有一种轻松执行此操作的方法）或将其分成多个查询，鉴于您的方法，我假设您正在尝试避免。

# java - 套接字不接收消息

> ID：15021462
> 
> 赞同：0
> 
> 时间：2013-02-22T10:01:49.360
> 
> 标签：java, linux, sockets, udp

我编写了一个简单的客户端和简单的 udp 服务器，需要从特定端口读取字符串消息。这是UDP套接字：

```
public class UDPServer {

    // boolean variable defines if the infinite loop
    // in startServer() runs or not
    private boolean isSwitched = false;
    private DatagramSocket socket = null;

    public UDPServer(int port) throws SocketException {     
        socket = new DatagramSocket(port);      
        Logger.getLogger(Main.class.getName()).log(Level.INFO, "Server started! Bound to port: " + port);
    }
    //this method start the server and switches on the infinite loop to
    // listen to the incoming UDP-packets
    public void startServer() throws IOException {      
        this.isSwitched = true;
        Logger.getLogger(Main.class.getName()).log(Level.INFO, "Server starts listening!");     
        while (isSwitched) {            
            byte[] size = new byte[30];
            DatagramPacket dp = new DatagramPacket(size, size.length);
            try {       
                System.out.println("Debug: receive loop started!");
                socket.receive(dp);
                System.out.println("Debug: Packet received after socket.receive!");
                Thread requestDispatch = new Thread(new Request(dp.getData()));
                requestDispatch.start();
            } catch (SocketException ex) {
                Logger.getLogger(Main.class.getName()).log(Level.INFO, "Stops listening on specified port!");
            }           
        }           
    }

    // this method stops the server from running
    public void stopServer() {
        this.isSwitched = false;
        socket.close();
        Logger.getLogger(Main.class.getName()).log(Level.INFO, "Server is shut down after last threads complete!");
    }

} 
```

我将它部署在远程服务器上并打开程序。服务器打印出它开始侦听，因此它到达 socket.receive() 阶段。然后我从远程客户端发送一条 UDP 消息。但什么也没有发生。udp 服务器没有进一步移动 - 它只是保持并且似乎没有收到任何消息。我尝试使用 tcpdump 调试端口，它显示消息到达所需的端口。但java程序似乎没有收到它们。当我在远程服务器上发出此命令时：

```
tcpdump udp port 50000 
```

并发送一些它所写的数据包：

```
12:53:40.823418 IP x.mobile.metro.com.42292 > y.mobile.metro.com.50000: UDP, length 28
12:53:43.362515 IP x.mobile.metro.com.48162 > y.mobile.metro.com.50000: UDP, length 28 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:51:09.657

Ok, question resolved. The problem was:

FIREWALL on Red Hat linux, which I successfully switched off for the required port.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:42:05.283

我用 netcat 在本地测试了你的服务器代码，它工作得很好，所以问题必须出在其他地方。您确定您实际上是在发送 UDP 数据包吗？您是否在远程服务器上运行了 tcpdump？否则，您的数据包可能会被过滤。

# php - 如何从两个表中选择并只显示你想要的？

> ID：15021464
> 
> 赞同：0
> 
> 时间：2013-02-22T10:02:02.067
> 
> 标签：php, mysql

我想从 2 个不同的表中进行选择。

在第一个表中，我想全选，但我只会显示我想要的。

在第二个表中，我只想选择个人资料图片，但即使用户没有个人资料图片，也应该选择用户表中的数据。

我正在使用内部连接。下面是我的代码：

```
SELECT * FROM
 tish_user INNER JOIN tish_images
 ON tish_user.user_id = tish_images.user_id
 WHERE tish_images.prof_image = 1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:04:23.923

要从两个不同的表中进行选择，您应该从每个表中指定所需的值，而不是使用 catch-all `*`。使用 LEFT JOIN 而不是 INNER JOIN 可以让您在一个点上连接您正在查询的表。此时您可以查询表之间的任何类型的关系。

如果为 1，此查询将为您返回匹配记录`userid`中的所有 s ，否则为 NULL。`tish_user``tish_images.prof_image``prof_image`

```
SELECT 
    tish_user.user_id, 
    tish_images.prof_image 
FROM
    tish_user 
LEFT JOIN tish_images
ON tish_user.user_id = tish_images.user_id
AND tish_images.prof_image = 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T00:52:43.977

尝试这个：

假设您要显示 tish_user 表中的用户 ID、名字和姓氏以及 tish_images 表中的 prof_image。

```
 SELECT tish_user.userd_id, tish_user.firstname, tish_user.lastname, tish_images.prof_image
FROM tish_user tish_user LEFT JOIN tish_image tish_image ON tish_user.user_id=tish_images.user_id WHERE tish_image.prof_image=1 
```

我认为这会做到。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T10:03:36.350

使用[LEFT JOIN](http://dev.mysql.com/doc/refman/5.0/en/join.html)代替`INNER JOIN`.

```
SELECT * FROM
tish_user LEFT JOIN tish_images
ON tish_user.user_id = tish_images.user_id
WHERE tish_images.prof_image = 1 
```

**解释**

LEFT JOIN 选择左表中的所有行，即使右表中没有条目（在这种情况下，右表的列将是`NULL`）

还要检查 RIGHT JOIN，它对右侧做同样的事情 :)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T10:03:46.840

尝试这个：

```
SELECT *
FROM
 tish_user U
    LEFT JOIN tish_images I
 ON U.user_id = I.user_id
   AND = I.prof_image = 1 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-22T11:26:36.097

试试这个方法

```
SELECT * FROM
tish_user, tish_images
WHERE tish_user.user_id = tish_images.user_id
AND
tish_images.prof_image = 1; 
```

我想这可能会对你有所帮助。

干杯兄弟

# ssl - 将 SSLContext 设置为 jdbc 连接

> ID：15021465
> 
> 赞同：2
> 
> 时间：2013-02-22T10:02:03.877
> 
> 标签：ssl, jdbc

我想创建和配置`SSLContext`对象，然后`mysql.jdbc.Driver`用它来建立安全连接。有没有比定制更好的方法`jdbc.Driver`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:25:05.410

您可以创建一个自定义`com.mysql.jdbc.SocketFactory`类，该类`SSLSocket`使用`SSLSocketFactory`来自 this的 s 创建`SSLContext`。然后，您可以使用该属性将该类名传递给 MySQL JDBC 连接器（请参阅[文档](http://dev.mysql.com/doc/refman/5.5/en/connector-j-reference-configuration-properties.html)`socketFactory`中的表格）。

这需要有一个没有参数的构造函数，但它的`Socket connect(String host, Properties props)`方法应该通过它的`props`参数获取 JDBC 属性（如果你需要的话）。

请注意，您不仅应该检查证书的有效性，还要检查主机名是否匹配。如果您使用的是 Java 7，则可以在返回`SSLSocket`刚刚创建的之前这样做：

```
SSLParameters sslParams = new SSLParameters();
sslParams.setEndpointIdentificationAlgorithm("HTTPS");
sslSocket.setSSLParameters(sslParams); 
```

（HTTPS 的主机名匹配规则对于大多数协议（包括 MySQL）应该足够敏感。）

# c# - 管道、多路复用和无界缓冲

> ID：15021469
> 
> 赞同：6
> 
> 时间：2013-02-22T10:02:09.367
> 
> 标签：c#, multithreading, task-parallel-library

（注意：我使用的是 .Net 4，*而不是*.Net 4.5，所以我不能使用 TPL 的 DataflowBlock 类。）

**TL;DR 版本**

最终，我只是在寻找一种使用多个线程来处理顺序工作项的方法，这种方法可以在最终输出中保留它们的顺序，而不需要无界的输出缓冲区。

**动机**

我有现有的代码来提供一种多线程机制来处理多个数据块，其中一个 I/O 绑定线程（“供应商”）负责将数据块排队以进行处理。这些数据块构成工作项。

一个或多个线程（“处理器”）负责一次使一个工作项出队，它们处理该工作项，然后在出队下一个工作项之前将处理后的数据写入输出队列。

最终的 I/O 绑定线程（“消费者”）负责将已完成的工作项从输出队列中出列并将它们写入最终目的地。这些工作项是（并且必须）按照它们被排队的顺序编写的。我使用并发优先级队列实现了这一点，其中每个项目的优先级由其源索引定义。

我正在使用此方案对大型数据流进行一些自定义压缩，其中压缩本身相对较慢，但未压缩数据的读取和压缩数据的写入相对较快（尽管受 I/O 限制）。

我以 64K 量级的相当大的块处理数据，因此管道的开销相对较小。

我目前的解决方案运行良好，但它涉及到 6 年前使用许多同步事件编写的大量自定义代码，而且设计似乎有些笨拙；因此，我开始进行学术练习，看看是否可以使用更现代的 .Net 库对其进行重写。

**新设计**

我的新设计使用`BlockingCollection<>`该类，并且在某种程度上基于[这篇 Microsoft 文章](http://msdn.microsoft.com/en-us/library/ff963548.aspx)。

特别是，请查看题为“*使用多个生产者进行负载平衡*”的部分。我尝试过使用这种方法，因此我有几个处理任务，每个任务都从共享输入 BlockingCollection 获取工作项，并将其完成的项目写入自己的 BlockingCollection 输出队列。

因为每个处理任务都有自己的输出队列，所以我试图用`BlockingCollection.TakeFromAny()`它来使第一个可用的已完成工作项出列。

**多路复用器问题**

到目前为止一切顺利，但现在问题来了。微软文章指出：

> 差距是个问题。流水线的下一个阶段，显示图像阶段，需要按顺序显示图像，并且在序列中没有间隙。这就是多路复用器的用武之地。使用 TakeFromAny 方法，多路复用器等待来自两个过滤阶段生产者队列的输入。当图像到达时，多路复用器查看图像的序列号是否是预期序列中的下一个。如果是，多路复用器将其传递到显示图像阶段。如果图像不是序列中的下一个，则多路复用器将值保存在内部预读缓冲区中，并对没有预读值的输入队列重复执行操作。该算法允许多路复用器将来自传入生产者队列的输入放在一起，以确保按顺序排列而不对值进行排序。

好的，所以发生的事情是处理任务可以以几乎任何顺序生产成品。多路复用器负责以正确的顺序输出这些项目。

然而...

假设我们有 1000 个项目要处理。进一步想象，由于某种奇怪的原因，第一个项目需要更长的时间来处理所有其他项目的组合。

使用我当前的方案，多路复用器将继续从所有处理输出队列中读取和缓冲项目，直到找到它应该输出的下一个。由于它等待的项目（根据我上面的“想象一下”）只会在处理完所有其他工作项目后出现，我将有效地缓冲整个输入中的所有工作项目！

数据量太大，不允许这种情况发生。当输出队列达到某个最大大小（即它是有界输出队列）时，我需要能够停止处理任务输出已完成的工作项，除非工作项恰好是多路复用器正在等待的工作项。

这就是我有点卡住的地方。我可以想到很多方法来实际实现这一点，但它们似乎都过于复杂，以至于它们并不比我想要替换的代码好！

**我的问题是什么？**

我的问题是：我这样做是否正确？

我本以为这将是一个很好理解的问题，但我的研究只出现了似乎忽略了如果一个工作项与所有其他工作项相比需要很长时间时发生的无限缓冲问题的文章。

任何人都可以指出任何描述实现这一目标的合理方法的文章吗？

**TL;DR 版本**

最终，我只是在寻找一种使用多个线程来处理顺序工作项的方法，这种方法可以在最终输出中保留它们的顺序，而不需要无界的输出缓冲区。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T12:55:59.740

在启动时创建一个项目池，例如 1000 个。将它们存储在 BlockingCollection - 一个“池队列”中。

供应商从池队列中获取项目，从文件中加载它们，加载序列号/任何内容并将它们提交给处理器线程池。

处理器完成它们的工作并将输出发送到多路复用器。多路复用器执行存储任何乱序项目的工作，直到处理较早的项目。

当一个项目被多路复用器输出到的任何东西完全消耗时，它们将返回到池队列以供供应商重新使用。

如果一个“慢项”确实需要大量处理，多路复用器中的乱序集合将随着“快速项”在其他池线程上滑过而增长，但因为多路复用器实际上并未将其项目提供给它的输出，池队列没有被补充。

当池清空时，供应商将阻止它并且无法再提供任何物品。

处理池输入中剩余的“快速项目”将得到处理，然后处理将停止，“慢速项目”除外。供应商被阻止，多路复用器在其集合中有 [poolSize-1] 个项目。没有使用额外的内存，没有浪费 CPU，唯一发生的事情是处理“慢项目”。

当“慢项目”最终完成时，它会输出到多路复用器。

多路复用器现在可以按所需的顺序输出所有 [poolSize] 项。随着这些项目被消耗，池再次被填满，供应商现在能够从池中获取项目，继续运行，再次读取其文件并将项目排队到处理器池。

自动调节，不需要有界缓冲区，没有内存失控。

编辑：我的意思是“不需要有界缓冲区”:)

此外，没有 GC 滞留 - 由于这些项目被重复使用，它们不需要 GC'ing。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T12:44:29.063

我想你误解了这篇文章。根据描述，它没有无限缓冲区，每个队列的look-ahread缓冲区中最多有一个值。当您出列一个不是下一个值的值时，您保存它，然后仅在缓冲区中没有值的队列上等待。（如果您有多个输入缓冲区，则逻辑必须更复杂，否则您将需要一个包含 2 个队列多路复用器的树。）

如果将此与`BlockingCollection`具有指定有限容量的 s 结合使用，您将获得您想要的行为：如果一个生产者太慢，其他生产者将暂停，直到慢线程赶上。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T13:38:21.287

您是否考虑过不使用手动生产者/消费者缓冲，而是使用`.AsParallel().AsOrdered()`PLINQ 替代方案？从语义上讲，这正是您想要的 - 一系列并行处理但在输出中排序的项目。您的代码可能看起来很简单...

```
var orderedOutput = 
    ReadSequentialBlocks()
    .AsParallel()
    .AsOrdered()
    .Select(ProcessBlock)
foreach(var item in orderedOutput)
    Sink(item); 
```

默认的并行度是您机器上的处理器数量，但您可以对其进行调整。有一个自动输出缓冲区。如果默认缓冲消耗资源过多，可以关闭：

```
.WithMergeOptions(ParallelMergeOptions.NotBuffered) 
```

然而，我肯定会先试一试朴素的版本——你永远不会知道，它可能开箱即用。最后，如果您想要简单的自动多路复用但大于零但非自动缓冲区，您可以始终使用 PLINQ 查询来填充固定大小`BlockingCollection<>`，该大小由另一个线程上的消耗枚举读取。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-24T21:24:36.183

**跟进**

为了完整起见，这里是我结束的代码。感谢 Martin James 的回答，为解决方案提供了基础。

我仍然对多路复用器不完全满意（请参阅 参考资料`ParallelWorkProcessor.multiplex()`）。它有效，但似乎有点笨拙。

我使用了 Martin James 关于工作池的想法来防止多路复用器缓冲区的无限制增长，但是我用 SemaphoreSlim 代替了工作池队列（因为它提供了相同的功能，但使用起来更简单一些，并且使用的资源更少）。

工作任务将其完成的项目写入并发优先级队列。这使我能够轻松有效地找到下一个要输出的项目。

我使用了[来自 Microsoft 的示例并发优先级队列](http://code.msdn.microsoft.com/Samples-for-Parallel-b4b76364/sourcecode?fileId=44488&pathId=1696822056)，经过修改以提供一个自动重置事件，该事件在新项目入队时发出信号。

这是 ParallelWorkProcessor 类。您通过为它提供三个代表来使用它；一种用于提供工作项，一种用于处理工作项，另一种用于输出已完成的工作项。

```
using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.Diagnostics.Contracts;
using System.Threading;
using System.Threading.Tasks;

namespace Demo
{
    public sealed class ParallelWorkProcessor<T> where T: class // T is the work item type.
    {
        public delegate T    Read();           // Called by only one thread.
        public delegate T    Process(T block); // Called simultaneously by multiple threads.
        public delegate void Write(T block);   // Called by only one thread.

        public ParallelWorkProcessor(Read read, Process process, Write write, int numWorkers = 0)
        {
            _read    = read;
            _process = process;
            _write   = write;

            numWorkers = (numWorkers > 0) ? numWorkers : Environment.ProcessorCount;

            _workPool    = new SemaphoreSlim(numWorkers*2);
            _inputQueue  = new BlockingCollection<WorkItem>(numWorkers);
            _outputQueue = new ConcurrentPriorityQueue<int, T>();
            _workers     = new Task[numWorkers];

            startWorkers();
            Task.Factory.StartNew(enqueueWorkItems);
            _multiplexor = Task.Factory.StartNew(multiplex);
        }

        private void startWorkers()
        {
            for (int i = 0; i < _workers.Length; ++i)
            {
                _workers[i] = Task.Factory.StartNew(processBlocks);
            }
        }

        private void enqueueWorkItems()
        {
            int index = 0;

            while (true)
            {
                T data = _read();

                if (data == null) // Signals end of input.
                {
                    _inputQueue.CompleteAdding();
                    _outputQueue.Enqueue(index, null); // Special sentinel WorkItem .
                    break;
                }

                _workPool.Wait();
                _inputQueue.Add(new WorkItem(data, index++));
            }
        }

        private void multiplex()
        {
            int index = 0; // Next required index.
            int last = int.MaxValue;

            while (index != last)
            {
                KeyValuePair<int, T> workItem;
                _outputQueue.WaitForNewItem(); // There will always be at least one item - the sentinel item.

                while ((index != last) && _outputQueue.TryPeek(out workItem))
                {
                    if (workItem.Value == null) // The sentinel item has a null value to indicate that it's the sentinel.
                    {
                        last = workItem.Key;  // The sentinel's key is the index of the last block + 1.
                    }
                    else if (workItem.Key == index) // Is this block the next one that we want?
                    {
                        // Even if new items are added to the queue while we're here, the new items will be lower priority.
                        // Therefore it is safe to assume that the item we will dequeue now is the same one we peeked at.

                        _outputQueue.TryDequeue(out workItem);
                        Contract.Assume(workItem.Key == index); // This *must* be the case.
                        _workPool.Release();                    // Allow the enqueuer to queue another work item.
                        _write(workItem.Value);
                        ++index;
                    }
                    else // If it's not the block we want, we know we'll get a new item at some point.
                    {
                        _outputQueue.WaitForNewItem();
                    }
                }
            }
        }

        private void processBlocks()
        {
            foreach (var block in _inputQueue.GetConsumingEnumerable())
            {
                var processedData = _process(block.Data);
                _outputQueue.Enqueue(block.Index, processedData);
            }
        }

        public bool WaitForFinished(int maxMillisecondsToWait) // Can be Timeout.Infinite.
        {
            return _multiplexor.Wait(maxMillisecondsToWait);
        }

        private sealed class WorkItem
        {
            public WorkItem(T data, int index)
            {
                Data  = data;
                Index = index;
            }

            public T   Data  { get; private set; }
            public int Index { get; private set; }
        }

        private readonly Task[] _workers;
        private readonly Task _multiplexor;
        private readonly SemaphoreSlim _workPool;
        private readonly BlockingCollection<WorkItem> _inputQueue;
        private readonly ConcurrentPriorityQueue<int, T> _outputQueue;
        private readonly Read    _read;
        private readonly Process _process;
        private readonly Write   _write;
    }
} 
```

这是我的测试代码：

```
using System;
using System.Diagnostics;
using System.Threading;

namespace Demo
{
    public static class Program
    {
        private static void Main(string[] args)
        {
            _rng = new Random(34324);

            int threadCount = 8;
            _maxBlocks = 200;
            ThreadPool.SetMinThreads(threadCount + 2, 4); // Kludge to prevent slow thread startup.

            var stopwatch = new Stopwatch();

            _numBlocks = _maxBlocks;
            stopwatch.Restart();
            var processor = new ParallelWorkProcessor<byte[]>(read, process, write, threadCount);
            processor.WaitForFinished(Timeout.Infinite);

            Console.WriteLine("\n\nFinished in " + stopwatch.Elapsed + "\n\n");
        }

        private static byte[] read()
        {
            if (_numBlocks-- == 0)
            {
                return null;
            }

            var result = new byte[128];
            result[0] = (byte)(_maxBlocks-_numBlocks);
            Console.WriteLine("Supplied input: " + result[0]);
            return result;
        }

        private static byte[] process(byte[] data)
        {
            if (data[0] == 10) // Hack for test purposes. Make it REALLY slow for this item!
            {
                Console.WriteLine("Delaying a call to process() for 5s for ID 10");
                Thread.Sleep(5000);
            }

            Thread.Sleep(10 + _rng.Next(50));
            Console.WriteLine("Processed: " + data[0]);
            return data;
        }

        private static void write(byte[] data)
        {
            Console.WriteLine("Received output: " + data[0]);
        }

        private static Random _rng;
        private static int _numBlocks;
        private static int _maxBlocks;
    }
} 
```

# jquery - Woocommerce中JQuery的Cufon刷新

> ID：15021475
> 
> 赞同：0
> 
> 时间：2013-02-22T10:02:21.543
> 
> 标签：jquery, ajax, refresh, cufon, woocommerce

我在 woocommerce 网站上的运输方式选择中有一个 cufon H2 标签。“CART TOTALS”文本和底部的“TOTAL”是 cufon 格式的。

该页面当然可以使用 cufon 字体正常加载。然而，当运输方式改变时，函数 woocommerce_ajax_update_shipping_method() 在 woocommerce-ajax.php 中被调用。

这是代码：

```
function woocommerce_ajax_update_shipping_method() {
        global $woocommerce;

        check_ajax_referer( 'update-shipping-method', 'security' );

        if ( ! defined('WOOCOMMERCE_CART') ) define( 'WOOCOMMERCE_CART', true );

        if ( isset( $_POST['shipping_method'] ) ) $_SESSION['_chosen_shipping_method'] =     $_POST['shipping_method'];

    $woocommerce->cart->calculate_totals();

    woocommerce_cart_totals();

    die();
} 
```

我试图让 cufon 在该代码块中刷新。

```
Cufon.refresh(); 
```

不起作用，我可以在此处的其他答案中找到的任何示例也不起作用。我一定缺少一些非常简单的东西。

有人可以为我解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T01:27:04.213

ajax 完成后尝试调用 Cufon.refresh() 。

# php - 使用 css 按钮将信息从 textfield/textarea 发送到另一个 php 页面

> ID：15021478
> 
> 赞同：1
> 
> 时间：2013-02-22T10:02:35.623
> 
> 标签：php, html, css, button, textbox

好的，所以我正在学习 php，并且正在制作一个小张贴页面来发布更新。

我已经有了正常的页面，现在我正在提交。我的计划是将信息从文本框和文本区域发送到 savepost.php 现在我希望 URL 参数像这样 savepost.php?post=thetextareatext&name=nameboxtext

我想通过我在网上创建的 CSS 按钮提交这个。

这是文本框的代码：http: [//pastebin.com/bsrhyxx1](http://pastebin.com/bsrhyxx1) 我在谷歌上搜索过，但找不到任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:06:42.410

而不是`<a>`标签，您应该使用`<button type="submit">Submit</button>` 您可以使用与标签相同的方式对其进行样式设置，`<a>`但具有发送表单的功能。这里不需要 Javascript。编辑：提交类型按钮适用于 IE7 和 FF 3.6。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:06:26.197

更改 `<a href="savepost.php" class="button">Submit</a>`为

```
<a href="#" class="button" onClick="document.getElementById('info').submit();">Submit</a> 
```

# sql - SQL查询以获取选择语句中日期之间的差异

> ID：15021481
> 
> 赞同：0
> 
> 时间：2013-02-22T10:02:46.193
> 
> 标签：sql

我有两个表，分别称为 RFS 和 RFS_History。

```
 RFS_id  | name 
 --------+--------
    12   |  xx
    14   |  yy
    15   |  zz 
```

图 1：RFS 表

```
 RFS_id  |  gate | End    | start 
     --------+-------+--------+-------
        12   |  aa   | 19/02  | 20/03
        12   |  bb   | 30/01  | 12/08
        12   |  cc   | 30/01  | 12/08
        13   |  aa   | 30/01  | 12/08
        12   |  dd   | 30/01  | 12/08 
```

图 2：RFS 历史

我的初始查询是一个 select * 查询，用于获取 FRSname ='xx' 的信息

```
SELECT * FROM RFS, RFSHistory 
WHERE RFSname="xx"  And RFShistory.RFS_ID=RFS.RFS_ID 
```

结果是：

```
 RFS_id  |  gate | End    | start 
     --------+-------+--------+-------
        12   |  aa   | 19/02  | 19/01
        12   |  bb   | 12/04  | 12/02
        12   |  cc   | 20/03  | 12/03
        12   |  dd   | 30/09  | 12/08 
```

图 3

但是我想得到如下格式的结果：

```
 RFS_id  | gate_aa | gate_bb | gate_cc | gate_dd
 ----------------------------------------------
    12   | 30 days  |  60dyas | 8days   | 18days 
```

`gate_aa`是持续时间，它来自`start - end date`. 请帮助我编写单个查询以获得此结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:09:15.957

用于`datediff()`获取日期差异`Pivot()`并将行转换为 cloumn 就像在您的案例门明智列中一样

示例语法

```
SELECT DATEDIFF(day,'2008-06-05','2008-08-05') AS DiffDate 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:09:30.257

您可以使用以下查询获取不同的黑白日期

> SELECT RFS.ID,(RFS_HISTORY.end_t-RFS_HISTORY.start_t) AS DiffDate,gate FROM RFS, RFS_HISTORY WHERE name='aa' And RFS_HISTORY.ID=RFS.ID group by RFS.ID,gate,RFS_HISTORY.end_t,RFS_HISTORY。开始时间

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T13:07:52.773

我认为您想将行转换为值的列。这可以在旋转的帮助下完成。

```
SELECT * FROM RFS, RFSHistory
pivot  for columname on [values] 
```

我实际上忘记了语法，但你可以**谷歌**它

# c++ - Erlang - 向 UDP 多播会话发送消息

> ID：15021482
> 
> 赞同：0
> 
> 时间：2013-02-22T10:02:46.417
> 
> 标签：c++, erlang, udp, multicast

我目前正在研究一种将数据包发送到 UDP 多播会话的方法。

这是我当前的代码（只是在听）：

```
-module(zcclient).

-export([open/2,start/0]).
-export([stop/1,receiver/0]).

open(Addr,Port) ->
   {ok,S} = gen_udp:open(Port,[{reuseaddr,true}, {ip,Addr}, {multicast_ttl,4}, {multicast_loop,fa$
   inet:setopts(S,[{add_membership,{Addr,{225,0,0,111}}}]),
   S.

close(S) -> gen_udp:close(S).

start() ->
   S=open({225,0,0,111},12175),
   Pid=spawn(?MODULE,receiver,[]),
   gen_udp:controlling_process(S,Pid),
   {S,Pid}.

stop({S,Pid}) ->
   close(S),
   Pid ! stop.

receiver() ->
   receive
       {udp, _Socket, IP, InPortNo, Packet} ->
           io:format("~n~nFrom: ~p~nPort: ~p~nData: ~p~n",[IP,InPortNo,Packet]),
           receiver();
       stop -> true;
       AnythingElse -> io:format("RECEIVED: ~p~n",[AnythingElse]),
           receiver()
   end. 
```

它基本上监听指定的多播 IP 并输出 From、Port 和 Data。

目标是也能够发回一些数据包。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:49:16.807

在 cpp 中：

```
struct student{ int32 id; int32 grade; int32 class;}; 
```

...

在二郎

```
<<id:32, grade:32, class:32>> 
```

...

很简单，你必须知道任何一种语言的协议。当您在 erlang 中收到“AnyThingElse”时，只需

```
<<data1:32, data2:16, data3:8, ....>> = AnyThingElse, 
```

在 erlang 中，使用二进制数据很简单。我爱二郎

# javascript - 在另一个插件中销毁一个插件

> ID：15021485
> 
> 赞同：1
> 
> 时间：2013-02-22T10:03:07.237
> 
> 标签：javascript, jquery, html, css-transitions, destroy

如果您希望查看存在问题的工作站点，请参阅凭据部分（我正在为蓝色块“#star”下方的内容制作动画）：

```
http://176.32.230.17/apptivation.co.uk/m/home/ 
```

我有两个插件

1.  [:onscreen](http://benpickles.github.com/onScreen/)当目标 DIV 在视口上可见时播放动画
2.  [全屏翻页](http://tympanus.net/codrops/2012/12/11/fullscreen-pageflip-layout/)，在章节之间制作类似书的效果

插件二希望在一页上具有以下部分结构才能使其工作：

```
<div class="bb-item">
<div class="content">
    <div class="scroller">
                    <!-- this is the div i want to animate -->
        <div id="star" class="inner-pad">
            some content
        </div>
    </div>
</div>
</div> 
```

我像这样初始化屏幕插件：

```
$(function() {
 setInterval(function() {
    $("#star").filter(":onScreen").addClass('animated bounceInRight');
 }, 0)                             
}) 
```

如果上面的代码是第一部分，我的 '#star' div 将按照屏幕上（插件 1）的预期方式成功添加类名。但是，如果我将该代码移动到第五部分（例如），屏幕上会在我到达（可见）该部分之前添加类名。这就是我认为插件 2 影响插件 1 的地方，使插件 1 认为 div 实际上是可见的，而实际上它不可见。

我如何确保屏幕上的插件完成它的工作并且只在我只在特定部分时添加类名？

**在初始化屏幕插件之前，我尝试**删除类名“动画bounceInRight”，但这没有用。在[这个脚本文件](http://pastebin.com/UmyJ6zBW)（插件 2）中，它会破坏一些元素并在翻页开始时重新初始化，我可以在屏幕上做同样的事情吗？我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-08-20T09:28:09.363

大多数 jQuery 插件将其对象的新实例存储在 jQuery 数据中。我认为皇家滑块代码达到了顶峰 - [http://dimsemenov.com/plugins/royal-slider/](http://dimsemenov.com/plugins/royal-slider/) - 我认为你可以通过直接引用royalSlider对象来破坏它。

首先，您要检查并查看您尝试调用destroy 的元素是否实际上具有royalSlider 实例。

[看到这个页面](https://stackoverflow.com/questions/11094243/cant-get-the-destroy-method-of-a-jquery-ui-plugin-to-work-conflicting-jquer)

# c# - Resharper 无法识别正确的 ViewModel 类型

> ID：15021487
> 
> 赞同：4
> 
> 时间：2013-02-22T10:03:20.973
> 
> 标签：c#, wpf, resharper

我们正在使用 Resharper，当然我们想利用 Resharper 的 xaml 智能感知。

我们 View 的数据上下文绑定到`CurrentViewmodel`type 的属性`ViewModelBase`。在运行时，此属性设置为使用继承自 的视图模型`ViewModelBase`。

我已经在 View 模型中添加了这些行来设置正确的类型：

```
xmlns:vms="clr-namespace:PQS.ViewModel.Report"
d:DataContext="{d:DesignInstance vms:ReportFilterViewModel, IsDesignTimeCreatable=False}" 
```

但 Resharper 仍在继续寻找`ViewModelbase`属性。

我还能尝试什么？

更多代码：

设置数据上下文：

```
<UserControl.DataContext>
    <Binding Path="ReportMainViewModel.CurrentVm"  Source="{StaticResource Locator}"/>
</UserControl.DataContext> 
```

绑定一些东西（Products 是 ReportFilterViewmodel 上的一个属性，r# 一直在 ViewModelBase 中寻找它）：

```
<ListBox   ItemsSource="{Binding Products.View}" Background="White" DisplayMemberPath="Name.ActualTranslation">
                    </ListBox> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T13:46:02.180

R# 无法静态找到将在运行时可用的具体视图模型类型，因此您需要像这样手动注释数据上下文类型：

```
using System.Collections.Generic;

public partial class MainWindow {
  public MainWindow() {
    Current = new ConcreteViewModel {
      Products = {
        new Product(),
        new Product()
      }
    };

    InitializeComponent();
  }

  public ViewModelBase Current { get; set; }
}

public class ViewModelBase { }
public class ConcreteViewModel : ViewModelBase {
  public ConcreteViewModel() {
    Products = new List<Product>();
  }

  public List<Product> Products { get; private set; }
}

public class Product {
  public string ProductName { get { return "Name1"; } }
} 
```

和 XAML 部分：

```
<Window x:Class="MainWindow" x:Name="MainWin"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:global="clr-namespace:" mc:Ignorable="d"
        DataContext="{Binding ElementName=MainWin, Path=Current}">
  <!-- here the type of data context is ViewModelBase -->
  <Grid d:DataContext="{d:DesignInstance global:ConcreteViewModel}">
    <!-- and here is ConcreteViewModel -->
    <ListBox ItemsSource="{Binding Path=Products}">
      <ListBox.ItemTemplate>
        <DataTemplate>
          <TextBlock Text="{Binding ProductName}"/>
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>
  </Grid>
</Window> 
```

或者像这样：

```
<Window x:Class="MainWindow" x:Name="MainWin"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:global="clr-namespace:"
        DataContext="{Binding ElementName=MainWin, Path=Current}">
  <Grid>
    <ListBox ItemsSource="{Binding Path=(global:ConcreteViewModel.Products)}">
      <ListBox.ItemTemplate>
        <DataTemplate>
          <TextBlock Text="{Binding ProductName}"/>
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>
  </Grid>
</Window> 
```

# java - 如何使用 Java (NetBeans) 编辑 MS Access 数据库

> ID：15021496
> 
> 赞同：1
> 
> 时间：2013-02-22T10:04:01.457
> 
> 标签：java, database, ms-access, prepared-statement

我正在尝试使用一些 Java 代码（运行 NetBeans 7.2.1）编辑 MS Access 数据库。我设置数据源并使用 ODBC 工具将其链接到我的数据库 ProjectDatabase 并命名数据源 DB，然后运行以下代码：

导入java.sql.*；公共类NewMain {

```
public static void main(String[] args) {
    try{
       Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
       Connection con = DriverManager.getConnection("jdbc:odbc:DB");
       Statement st=con.createStatement();
       String name="roseindia";
       String address="delhi";
       int i=st.executeUpdate("insert into user(name,address)      values('"+name+"','"+address+"')");
       System.out.println("Row is added");
       }
    catch(Exception e){
        System.out.println(e);
    }
}
} 
```

代码运行没有错误，并返回“已添加行”消息。问题是当我返回查看数据库时，更改尚未生效。我已经尝试使用删除数据的代码进行此操作，但也没有效果。有没有人遇到过这个问题并且知道如何解决？

我正在运行 Windows 7 64 位、Microsoft Office 64 位以及所有 64 位驱动程序，我无法通过网络搜索找到任何提及此问题的内容。

在此先感谢您的帮助=)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:08:40.033

首先，您没有关闭连接，所以这是一个问题。还将您的代码更改为：

```
 Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
   Connection con = DriverManager.getConnection("jdbc:odbc:DB");
   Statement st=con.createStatement();
   con.setAutoCommit(false); //Notice change here
   String name="roseindia";
   String address="delhi";
   int i=st.executeUpdate("insert into user(name,address)      values('"+name+"','"+address+"')");
   con.commit(); //Notice change here
   System.out.println("Row is added");
   con.close(); //Notice change here 
```

这将提交对访问数据库的更改，因此现在您应该能够在 MS Access 中看到数据。

阅读此处以了解有关[关闭和释放 JDBC 资源的最佳实践的更多信息](http://www.ibm.com/developerworks/websphere/library/bestpractices/closing_and_releasing_jdbc_resources.html)

# jquery - 如何在 html 中使用 fly on 复选框添加多个内容？

> ID：15021497
> 
> 赞同：0
> 
> 时间：2013-02-22T10:04:03.113
> 
> 标签：jquery, html, css

我想使用复选框检查一些东西并在弹出窗口关闭时获取它们，如下所示：

![在此处输入图像描述](../Images/84ad68ad78540efb36985e4d514b99a4.png)

我怎么能那样做？

假设我有一个 div 并且 div 包含项目，当我单击项目时，我想显示复选框，当我关闭该弹出窗口时，我需要检索那些选定的东西

```
<div id="div1" style="display:block;background-color:green">>
            <ul>
                <li>Item1</li>
                <li>Item1</li>
                <li>Item1</li>
                <li>Item1</li>
                <li>Item1</li>
                <li>Item1</li>
                <li>Item1</li>
                <li>Item1</li>
            </ul>
        </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:27:03.850

您可以通过处理 li 元素点击来实现这一点（切换带有选中图标背景的类）

```
var selectedItems = "";
$("ul").on("click", "li", function() {
    var $this = $(this);
    $this.toggleClass("selected");
    selectedItems = $this.parent().find("li.selected").map(function() {
        return this.innerText || this.textContent;
    }).get().join(',');    
}); 
```

创建这个 css 类（类似）：

```
li {
  padding-left: 25px;
  cursor: pointer;
}

li.selected {
  background-image: url(http://www.pbsys.com.br/icon_checked.gif);
  background-repeat: no-repeat;
  background-position: 2px 3px;
} 
```

要获取当前选定的项目，只需读取 selectedItems 变量

# php - jQuery Raty 平均提交和更新

> ID：15021499
> 
> 赞同：0
> 
> 时间：2013-02-22T10:04:11.407
> 
> 标签：php, jquery, mysql

我正在为我的一个项目使用 jQuery Raty 插件。

[http://wbotelhos.com/raty/](http://wbotelhos.com/raty/)

这是我正在使用的代码

HTML

```
<div id="rate<?php echo $row['id'];?>"></div> 
```

JavaScript

```
<script type="text/javascript">
$(function(){
$('#rate<?php echo $fRow['id'];?>').raty({score:<?php echo $row['rate'];?>});
});
</script> 
```

我想知道的是如何使用 Ajax 更新评级（获取数据库值并使用新评级更新）。

# nhibernate-mapping - Fluent NHibernate - 将一对多关系映射到不同的类/实体层次结构

> ID：15021500
> 
> 赞同：0
> 
> 时间：2013-02-22T10:04:12.700
> 
> 标签：nhibernate-mapping, fluent-nhibernate-mapping

我有标准的一对多表设置，但我希望能够将其映射到如下所示的类结构：

```
类 1 -> 映射到表 1（一对多关系的一侧）
   |
   --- 具有附加方法并具有 2 类列表的中间类
       |
       ---- 类 2 -> 映射到表 2（关系的 -many 方面）

```

NHibernate 有可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T12:38:35.997

例如有可能

```
class Class1Map : ClassMap<Class1>
{
    public Class1Map()
    {
        Id(x => x.Id);
        Component(c =>
        {
            c.Map(x => x.Foo);
            c.HasMany(x => x.Classes2);
        });
    }
} 
```

# c# - DataContractJsonSerializer 解析布尔字符串

> ID：15021501
> 
> 赞同：0
> 
> 时间：2013-02-22T10:04:18.880
> 
> 标签：c#, json, windows-phone-7, parsing, boolean

我正在开发一个 wp7 应用程序，我有一个函数可以向服务器发送一个 http web 请求，服务器返回一个 json 字符串作为响应。假设字符串是这样的：

```
{"products" : 
[
{"PRODUCT_ID" : "1", "PRODUCT_NAME" : "product1","IS_PAID" : "F"},
{"PRODUCT_ID" : "30","PRODUCT_NAME" : "product2","IS_PAID" : "T"},
{"PRODUCT_ID" : "36","PRODUCT_NAME" : "product3","IS_PAID" : "F"}
]} 
```

我的产品类是这样的：

```
[DataContract]
public class Product
{        
    [DataMember(Name = "PRODUCT_ID")]
    public long productId { get; set; }

    [DataMember(Name = "PRODUCT_NAME")]
    public string productName { get; set; }

    [DataMember(Name = "IS_PAID")]
    public bool isPaid { get; set; }
} 
```

在我的代码中，当我尝试解析 json 响应时：

```
DataContractJsonSerializer serailizer = new DataContractJsonSerializer(typeof(Product[]));
MemoryStream reader = new MemoryStream(Encoding.Unicode.GetBytes(jsonString));
SynchronizeResponse mResponseObject = (Product[])serailizer.ReadObject(reader); 
```

我得到一个例外：

> 反序列化 MyNameSpance.Product 类型的对象时出错。格式异常

经过大量调试，我发现问题出在布尔属性“isPaid”上，并且该值必须是“True”或“False”；不是“T”和“F”。但我无法更改服务器响应，我该怎么办？有任何想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T01:01:41.437

显然，“T”不是 a 的有效值`bool`。

所以，答案是：不要*使用*`bool`. 请改用字符串。

```
[DataMember(Name = "IS_PAID")]
public string isPaidString { get; set; }

public bool isPaid
{
    get {return isPaidString == "T";}
    set {isPaidString = value ? "T" : "F";}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T00:58:46.407

你应该考虑使用[Json.NET](http://json.codeplex.com/)

# android - 如何修改浮动窗口下方框架的颜色？

> ID：15021506
> 
> 赞同：3
> 
> 时间：2013-02-22T10:04:34.250
> 
> 标签：android, dialog

我正在尝试更改 DialogFragment 周围的默认透明灰色（请参阅我的问题[here](https://stackoverflow.com/q/15007272/326849)）。

我只设法将其设置`android:windowIsFloating`为 false 和`android:windowBackground`我想要的颜色：

```
<style name="MyDialog" parent="@android:style/Theme.Dialog">
    <item name="android:windowFrame">@null</item>
    <item name="android:windowBackground">@color/orange_transparent</item>
    <item name="android:windowIsFloating">false</item>
    <item name="android:windowContentOverlay">@null</item>
    <item name="android:windowTitleStyle">@null</item>
    <item name="android:colorBackgroundCacheHint">@null</item>
    <item name="android:windowAnimationStyle">@android:style/Animation.Dialog</item>
    <item name="android:windowSoftInputMode">stateUnspecified|adjustPan</item>
    <item name="android:gravity">center</item>
</style> 
```

如果我设置`android:windowIsFloating`为true，`android:windowBackground`则没有效果。

设置为true如何做到这一点`android:windowIsFloating`？

# asp.net-mvc - 带有大型数据库的 Mvc Telerik 网格

> ID：15021509
> 
> 赞同：0
> 
> 时间：2013-02-22T10:04:40.060
> 
> 标签：asp.net-mvc, linq, entity-framework, telerik-grid

我在我的 mvc 项目中使用 Telerik mvc 网格，我的表有大约 100 万条记录。我的网格加载时间过长。

这是我的查询 //

```
 var bib = (from a in db.Bibs
                   join inf in db.InfoTypes
                   on a.InfoTypeId equals inf.Id
                   where a.Status == "A"

                   select new BibViewModel
                   {
                       Id = a.Id,
                       Type = inf.Type,
                       InfoType = inf.Description,
                       Title = (from asd in db.BibContents where asd.BibId == a.Id && asd.TagNo == "245" && asd.Sfld == "a" select asd.Value).FirstOrDefault(),
                       Author = (from asd in db.BibContents where asd.BibId == a.Id && asd.TagNo == "100" && asd.Sfld == "a" select asd.Value).FirstOrDefault(),
                       CatalogueDate = a.CatalogDate,
                       Contents = "",
                       CreatedOn = a.CreatedOn,
                       ItemRelation = db.Items.Any(item => item.BibId == a.Id),
                       IssueRelation = db.Issues.Any(item => item.BibId == a.Id),

                   });

        return View(new GridModel(bib.OrderByDescending(x => x.CreatedOn).Tolist())); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T13:01:59.887

`ToList()`实际上调用了查询，所以如果调用`ToList()`时间过长，这意味着问题出在查询上。

在 LINQ 中，您可以像[下面的帖子](http://blog.kurtschindler.net/post/paging-through-lists-with-linq)一样使用分页；这个想法是使用 Skip 和 Take 来跳过 X 条记录，并且只获取 Y 条记录，如：

```
var results = (from .. select ..).Skip(X).Take(Y) 
```

对于 1M 记录，我强烈建议将其替换为存储过程，这对于您尝试执行的操作会快得多。考虑一种自定义分页方法，这对我来说非常适合大型结果集：

*   [http://www.neiland.net/blog/article/dynamic-paging-in-sql-server-stored-procedures/](http://www.neiland.net/blog/article/dynamic-paging-in-sql-server-stored-procedures/)
*   [http://www.beansoftware.com/ASP.NET-Tutorials/Paging-Stored-Procedures.aspx](http://www.beansoftware.com/ASP.NET-Tutorials/Paging-Stored-Procedures.aspx)
*   [http://www.sqlpointers.com/2009/10/custom-sorting-and-paging-in-sql-server.html](http://www.sqlpointers.com/2009/10/custom-sorting-and-paging-in-sql-server.html)
*   [启用排序和分页的 T-SQL 存储过程无法正常工作](https://stackoverflow.com/questions/8937145/t-sql-stored-procedure-with-sorting-and-paging-enabled-not-working-properly)

如果您不能使用存储过程，阅读本文将有助于了解分页需要完成的工作。[使用 LINQ，您将需要检查正在生成的 SQL，以查看您还可以使用 SQL 分析器或LINQPad](http://www.linqpad.net/)微调查询的位置。

# c - C程序在声明变量时崩溃

> ID：15021516
> 
> 赞同：1
> 
> 时间：2013-02-22T10:05:04.343
> 
> 标签：c, variables, memory, crash, declaration

我一直被这个问题随机困扰，我似乎无法弄清楚是什么原因造成的。

我有一个声明大量变量、指针和数组的函数。但是在某个时候，如果我声明一个新变量，我的程序似乎会崩溃。即使它确实崩溃了，它似乎也不一致。如果我的函数下面的代码，如果我将变量 b 声明为 int 它将使程序崩溃，但如果我将其声明为 int b[10] 它不会。

我为大量代码道歉，但我想提供整个功能以防我遗漏了什么。我指的变量 b 在顶部附近。

我怀疑这是某种内存问题，但我所看到的似乎并不一致。

```
static should_inline void decode_image_internal(PictureDecoderData* pdd, FILE* outfile)
{
  unsigned int mb_row;
  unsigned int mb_col;
  unsigned int mb_idx;
  unsigned int i;
  unsigned int j;
  unsigned int b[10];
  unsigned char topy[30720];
  unsigned char topcb[7680];
  unsigned char topcr[7680];

  Picture* pic = pdd->pic;
  unsigned int bottom_field_flag = pdd->prev_sh->bottom_field_flag; // TODO: remove the     use of prev_sh since it really depends on the pdd decoding context.
  slice_header_t* slice0 = pic->field_sh[bottom_field_flag][0]; // get a slice header.   It is used for variables that are the same for the whole picture
  seq_parameter_set_rbsp_t* sps = slice0->sps;
  pic_parameter_set_rbsp_t* pps = slice0->pps;
  int PicWidthInMbs = sps->PicWidthInMbs;
  unsigned int PicWidthY = PicWidthInMbs * 16;
  unsigned int PicHeightInMbs = slice0->PicHeightInMbs;
  unsigned int PicSizeInMbs = PicWidthInMbs*PicHeightInMbs;
  int CurrMbAddr;
  MbAttrib* mb_attr = pic->field_data[bottom_field_flag].mb_attr;
  MbAttrib* curr_mb_attr;
  unsigned int mbc_width = MbWidthC[1];
  unsigned int mbc_height = MbHeightC[1];
//  unsigned int mbc_size = mbc_width*mbc_height;
  unsigned int PicWidthC = PicWidthInMbs * mbc_width;
  int clipY = (1<<sps->BitDepthY)-1;
  int meanY = 1<<(sps->BitDepthY-1);
  int clipC = (1<<sps->BitDepthC)-1;
  int meanC = 1<<(sps->BitDepthC-1);
  int mb_data_size = (256+2*MbSizeC[1]);
  int16_t* mb_data = pic->field_data[bottom_field_flag].data;
  int16_t* curr_mb_data;
  unsigned int field_pic_flag = slice0->field_pic_flag;
  unsigned int strideY = PicWidthY << field_pic_flag;
  unsigned int strideC = PicWidthC << field_pic_flag;
  slice_header_t* sh;
  unsigned int constrained_intra_pred_flag = pps->constrained_intra_pred_flag;

  pixel_t* Y;
  pixel_t* C[2];
  pixel_t* y;
  pixel_t* c[2];

  Y = (pixel_t*)((uint32_t)pic->Y + (bottom_field_flag!=0)*PicWidthY);
  C[0] = (pixel_t*)((uint32_t)pic->C[0]+ (bottom_field_flag!=0)*PicWidthC);
  C[1] = (pixel_t*)((uint32_t)pic->C[1]+ (bottom_field_flag!=0)*PicWidthC);

  for (j = 0; j<=pic->slice_num[bottom_field_flag]; j++)
  {
    sh = pic->field_sh[bottom_field_flag][j];
    CurrMbAddr = sh->first_mb_in_slice;

    //for (i = 0; i<sh->mb_nb; i++)
     for (i = 0; i<2; i++)
    {
      pixel_t ysamp[256], cbsamp[8*8], crsamp[8*8];
      mb_row = (CurrMbAddr) / PicWidthInMbs;
      mb_col = (CurrMbAddr) % PicWidthInMbs;
      mb_idx = (CurrMbAddr);
      curr_mb_attr = &mb_attr[mb_idx];
      curr_mb_data = mb_data + mb_idx * mb_data_size;
     // printf(" %d %d \n ",strideY, mb_row);
      y = Y + mb_col*16 + mb_row*strideY*16;
      c[0] = C[0] + mb_col*mbc_width + mb_row*strideC*mbc_height;
      c[1] = C[1] + mb_col*mbc_width + mb_row*strideC*mbc_height;

        {
          MB_TYPE mb_type = curr_mb_attr->mb_type;
          unsigned int mb_field_decoding_flag = curr_mb_attr->mb_field_decoding_flag;
          pixel_t* mb_C_samples[2];

          mb_C_samples[0] = c[0];
          mb_C_samples[1] = c[1];

          //if (mb_type <= SI) // Intra mb
            decode_intra_mb(curr_mb_attr, mb_type, curr_mb_data, 1920, 960, y, mb_C_samples[0], mb_C_samples[1],
            ysamp, cbsamp, crsamp,
            mbc_height, mbc_width, clipY, clipC, meanY, meanC, mb_field_decoding_flag, mb_row&1, PicWidthInMbs, 0,
            constrained_intra_pred_flag);

            rgbconvert(ysamp, cbsamp, crsamp, outfile);

        }

      CurrMbAddr = NextMbAddress(sh->MbToSliceGroupMap, CurrMbAddr, PicSizeInMbs, pps->num_slice_groups_minus1);
    }

  }

  // Release the ref picture it was using
  release_picture_refpics(pic, bottom_field_flag); // it is OK even when the pic is a frame because both field points to the same lists

  filter_image(pic, bottom_field_flag);

  // Output the picture !
  add_image_to_dpb(pic);
} 
```

任何指导将不胜感激！

编辑*感谢大家的回复！原来堆栈的损坏是正确的答案。我正在修复它的路上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:13:34.043

在堆栈上分配太多的大数组是一个*坏*主意。堆栈不是为此而设计的，您很容易用完堆栈内存。更糟糕的是，很难控制和捕捉到这样的问题。

*相反，您必须在堆上*分配大量内存。那里有更多的内存（但不是无限的，当然！）

简而言之，更换

```
unsigned char topy[30720]; 
```

和

```
unsigned char* topy = (char*)malloc(30720); 
```

必须要好得多，并且可能会消除您的问题。只是不要忘记在`free(topy)`不再需要时释放分配的内存 ( )。

**UPD**：当然，这些是一般推理，它们*不适*用于特殊情况（即嵌入式系统等）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:23:49.733

*如果我将变量 b 声明为 int 它将使程序崩溃，但如果我将其声明为 int b[10] 它不会。*

显而易见的原因是，使用后者，您将保留 10 倍的内存。但是，您似乎没有在`b`任何地方使用，因此几乎可以肯定您在其他地方超出了内存。不同之处在于保留额外的内存会阻止错误覆盖关键的东西（与程序仅在调试下工作时相同）。

麻烦的是这只是程序的一部分，实际错误可能在其他地方，因为您正在调用其他函数并使用传入的数据作为参数。

`bottom_field_flag`是一个明显的检查值。

你没有提到你得到什么类型的崩溃。这对于进一步推进该决议至关重要。例如，如果您遇到堆栈溢出，并且您在 Windows 上，那么您需要检查编译器中的堆栈大小设置（我认为 /F 和 Visual Studio 中的链接器选项）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:11:35.547

哪个操作系统？如果这是在**Windows**上，那么这很可能是由编译器插入的 chkstk 例程引起的，而没有询问它何时看到具有 >4k 局部变量的函数。如果您使用**了 -nostdlib**，那么这将失败。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:14:19.333

Valgrind（由@nevelis 提出）是解决此类问题的好主意。

**另一种选择是使用调试器 ( gdb** )执行应用程序，等待崩溃并查看回溯。

在 gdb 中，命令是：

```
run 
```

坠机后：

```
bt 
```

我认为您还应该减少堆栈大小（自动变量）。堆栈上的 44K 似乎不是一个好主意。

# jenkins - Jenkins中是否有任何RCS插件

> ID：15021517
> 
> 赞同：0
> 
> 时间：2013-02-22T10:05:06.240
> 
> 标签：jenkins, rcs

Jenkins 中是否有任何 RCS 插件，以便每当在 RCS 中完成的任何代码更改都应该触发 Jenkins 中的构建

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:34:01.387

没有插件。您可以自己编写插件，或者花时间迁移到更新的 VCS 系统。

# php - php：对象的程序 - 结构？

> ID：15021519
> 
> 赞同：0
> 
> 时间：2013-02-22T10:05:11.457
> 
> 标签：php, class

多年来，我一直在（断断续续地）在办公室管理应用程序上写作。我需要重写它，因为代码已经变得不可维护，所以我将选择一个 PHP 框架并将业务逻辑重写为类。

现在我被这个基本问题困住了：我还需要返回结果吗？如果是，我如何捕获该结果？一些伪代码使我的问题更清楚：

```
function a( $1, $2, $3 ) {
 doThis( if ... return TRUE; if ... return FALSE; );
 if ( doThis() != TRUE ) { return; }
 doThat();
} 
```

对比

```
class example {
 private $1;
 private $2;
 private $3;
 public function go() { $this->doThis(); $this->doThat(); }
 private function doThis(){}
 private function doThat(){}
}
$a = new example;
$a->go(); 
```

如果 doThis() 方法没有按预期执行，我该如何停止 go() 方法的执行？我认为如果某个属性设置为 false，我不应该返回布尔值并检查每个方法的内部吗？还是如果出现问题我只是抛出异常，如果一切正常则不做任何事情？

这是很基本的，我知道...

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:28:29.557

异常是 for `exceptional behaviour`，所以不要仅仅因为你的代码没有处于首选状态就抛出异常。在编写 OOP 时，有些人仍然设法在使用面向对象的框架时编写过程，显然你想避免这种情况，一个简单的经验法则是不要编写[God-objects](http://en.wikipedia.org/wiki/God_object)。

现在我猜你想要做的是调用两个应该按特定顺序调用的函数，有几种方法可以做到这一点，实际上归结为你有什么样的类。假设您有一个类型的对象，`Person`那么您可能想从其他地方对该人调用不同的方法：

```
$john = new Person();
$john->tryToWakeUp();
if($john->isAwake) {
    $john->brushTeeth();
} else {
    echo "John is still sleeping!";
} 
```

另一方面，你可能有一个类型的对象，`Engine`它可能想要在内部为某些操作做一些事情，比如开始：

```
class Engine {
    public function start() {
        $this->checkFuel();
        if($this->hasFuel()) {
            try {
                  $this->initializeSomethingThatHasToDoWithEngineStartUp();                
            } catch (EngineException $ee) {
                  $this->engineState = BAD_ENGINE;
                  Logger::log("Engine did not start");
            }
        }
    }
} 
```

我建议您在尝试转换所有业务规则之前阅读面向对象设计并尝试使用它，因为很可能在进行到一半时您会意识到您设计的一切都是错误的。面向对象设计并不容易，但它确实有意义**编辑：（**它应该有意义**）**。

# ios6 - 无法在 iOS 6 中以编程方式安装 ipa 文件

> ID：15021520
> 
> 赞同：2
> 
> 时间：2013-02-22T10:05:17.453
> 
> 标签：ios6, installation, jailbreak, ipa

我使用 MobileInstallationInstall 在越狱 iOS 中安装 ipa 文件。它在 iOS5 中运行良好，但在 iOS6 中失败。我检查了日志并发现以下内容：

**需要有一个名为“com.apple.private.mobileinstall.allowedSPI”的权利，其中包含一个包含“Install”的数组来调用命令安装**

然后我在 .entitlements 文件中添加了一个名为“com.apple.private.mobileinstall.allowedSPI”的权利，其中包含一个包含“Install”的数组

但它仍然失败。我该如何解决？

# python - 如何在sklearn中编码分类变量？

> ID：15021521
> 
> 赞同：12
> 
> 时间：2013-02-22T10:05:17.707
> 
> 标签：python, machine-learning, scikit-learn

我正在尝试使用 UCI 存储库中的汽车评估数据集，我想知道是否有一种方便的方法可以在 sklearn 中对分类变量进行二值化。一种方法是使用 LabelBinarizer 的 DictVectorizer 但在这里我得到了 k 个不同的特征，而你应该只有 k-1 以避免共线性化。我想我可以编写自己的函数并删除一列，但是这种簿记很乏味，有没有一种简单的方法来执行这种转换并得到一个稀疏矩阵？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2014-03-02T17:27:59.903

如果您的数据是 pandas DataFrame，那么您可以简单地调用 get_dummies。假设您的数据框是 df，并且您希望每级变量“键”有一个二进制变量。您可以简单地调用：

```
pd.get_dummies(df['key']) 
```

然后删除其中一个虚拟变量，以避免多重共线性问题。我希望这有帮助 ...

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-08-06T11:29:38.053

基本方法是

```
import numpy as np
import pandas as pd, os
from sklearn.feature_extraction import DictVectorizer

def one_hot_dataframe(data, cols, replace=False):
    vec = DictVectorizer()
    mkdict = lambda row: dict((col, row[col]) for col in cols)
    vecData = pd.DataFrame(vec.fit_transform(data[cols].apply(mkdict, axis=1)).toarray())
    vecData.columns = vec.get_feature_names()
    vecData.index = data.index
    if replace is True:
        data = data.drop(cols, axis=1)
        data = data.join(vecData)
    return (data, vecData, vec)

data = {'state': ['Ohio', 'Ohio', 'Ohio', 'Nevada', 'Nevada'],
        'year': [2000, 2001, 2002, 2001, 2002],
        'pop': [1.5, 1.7, 3.6, 2.4, 2.9]}

df = pd.DataFrame(data)

df2, _, _ = one_hot_dataframe(df, ['state'], replace=True)
print df2 
```

这是稀疏格式的方法

```
import numpy as np
import pandas as pd, os
import scipy.sparse as sps
import itertools

def one_hot_column(df, cols, vocabs):
    mats = []; df2 = df.drop(cols,axis=1)
    mats.append(sps.lil_matrix(np.array(df2)))
    for i,col in enumerate(cols):
        mat = sps.lil_matrix((len(df), len(vocabs[i])))
        for j,val in enumerate(np.array(df[col])):
            mat[j,vocabs[i][val]] = 1.
        mats.append(mat)

    res = sps.hstack(mats)   
    return res

data = {'state': ['Ohio', 'Ohio', 'Ohio', 'Nevada', 'Nevada'],
        'year': ['2000', '2001', '2002', '2001', '2002'],
        'pop': [1.5, 1.7, 3.6, 2.4, 2.9]}

df = pd.DataFrame(data)
print df

vocabs = []
vals = ['Ohio','Nevada']
vocabs.append(dict(itertools.izip(vals,range(len(vals)))))
vals = ['2000','2001','2002']
vocabs.append(dict(itertools.izip(vals,range(len(vals)))))

print vocabs

print one_hot_column(df, ['state','year'], vocabs).todense() 
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2013-02-23T08:02:11.803

DictVectorizer 是生成分类变量的 one-hot 编码的推荐方法；您可以使用该`sparse`参数创建一个稀疏的 CSR 矩阵，而不是一个密集的 numpy 数组。我通常不关心多重共线性，也没有注意到我倾向于使用的方法（即 LinearSVC、SGDClassifier、基于树的方法）存在问题。

修补 DictVectorizer 以在每个分类特征中删除一列应该不是问题 - 您只需`DictVectorizer.vocabulary`在方法结束时删除一个术语`fit`。（拉取请求总是受欢迎的！）

# python - 计算非常小的值的 -log10

> ID：15021523
> 
> 赞同：2
> 
> 时间：2013-02-22T10:05:18.260
> 
> 标签：python, perl, r, openoffice.org

有没有办法计算-log10values。

其中值非常小，即 3*e-178 或 e-320。

我已经尝试使用公式 log((1/value),10) 打开办公室，它工作正常，但是当它遇到极小的值时，它会给出错误，比如不可能除以零。

我想当我使用 perl 或 python 或 R 时也会发生同样的情况。

请帮助将这些值转换为 -log10value

谢谢

注意：我想以 10 为底计算值的负对数

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T10:33:26.663

在 R 中：

```
x <- 3e-320
log10(x)
#-319.5229

y <- 3*exp(-320)
log10(y)
#-138.4971 
```

对于大指数：

```
library(Brobdingnag)
x <- 3*as.brob(10)^(-1000)
log10(x)
#-999.5229

y <- 3*as.brob(exp(1))^(-1000)
log10(y)
#-433.8174 
```

或者：

```
log10(3)-1000
#-999.5229 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T10:06:34.060

在 Python 中：

```
import math
math.log10(3e-320) 
```

返回

```
-319.5228835802284 
```

要以非常小的值获取有关 Python 功能的更多信息：

```
import sys
sys.float_info 
```

返回（取决于您的系统）：

```
sys.float_info(max=1.7976931348623157e+308,
               max_exp=1024,
               max_10_exp=308,
               min=2.2250738585072014e-308,
               min_exp=-1021,
               min_10_exp=-307,
               dig=15,
               mant_dig=53,
               epsilon=2.220446049250313e-16,
               radix=2,
               rounds=1) 
```

虽然`math.log10(3e-320)`返回正确的值，但`math.log10(3e-325)`引发一个`ValueError: math domain error`.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-22T11:01:16.660

perl one 班轮：

```
perl -e 'print log($ARGV[0])/log(10),"\n"' 3e-320 
```

**输出：**

```
-319.522883580228 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-22T18:18:41.077

正如您应该能够从其他答案中看出的那样，更好的公式是 -log10(value)，或者在 OpenOffice Calc 电子表格中，=-LOG(value,10)。

但是，您需要确保输入的值不会下溢为 0。-LOG(3E-178,10) 有效 (177.522879)，但 -LOG(1E-320,10) 失败，因为 1E-320 下溢为 0 并出现 Err.502。（这可能就是为什么你对 1/value 的使用也爆炸了。）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-22T11:04:46.863

[`decimal`您可以使用Python 中的模块](http://docs.python.org/2/library/decimal.html)以任意精度计算 log10，例如，使用默认精度：

```
from decimal import Decimal as D

for f in [3e-178, 1e-320, 3e-320, "1e-325", "3e-325"]:
     print("%s\t%s" % (f, D(f).log10())) 
```

[输出](http://ideone.com/iIq39W)

```
3e-178  -177.5228787452803375835172220
1e-320  -320.0000048349480421542963792
3e-320  -319.5228835802283797170013513
1e-325  -325
3e-325  -324.5228787452803375627049721 
```

或者：

```
import decimal

decimal.getcontext().prec = 70
for f in [3e-178, 1e-320, 3e-320, "1e-325", "3e-325"]:
     print("%s\t%s" % (f, decimal.Decimal(f).log10())) 
```

[输出](http://ideone.com/1Gb3pR)

```
3e-178  -177.5228787452803375835172220093158130425818111446701314507791687173572
1e-320  -320.0000048349480421542963791664378178773271498211156984605956663618384
3e-320  -319.5228835802283797170013512631827025681270209569250025957658007215332
1e-325  -325
3e-325  -324.5228787452803375627049720967448846907998711358093041351701343596948 
```

# java - 从 JSON 网络服务检索 android 中的 byte[]

> ID：15021526
> 
> 赞同：0
> 
> 时间：2013-02-22T10:05:21.440
> 
> 标签：java, android, arrays, rest, blob

我成功地将图像以 BLOB 格式存储在数据库中。

Web 服务模型类中图像的数据类型是字节 []。

**网络服务：**

```
@POST
@Consumes("application/json")
@Produces("application/json")
@Path("login")
public User Login(User input) { 
```

**要求：**

```
[
    {
        "id": 2,
        "password": "******",
        "username": "haris",
        "image": "iVBORw0KGgoAAAANSUhEUgAizDMizDMizDMizDMizDMizDMizDMizDMizDMizDMiz/JPL/AOc68RGNGkMYAAAAAElFTkSuQmCC"
    }
] 
```

我们可以看到json服务转换为String，byte[]转换为String。

我试图进行从字符串到字节[]的转换，但结果我看不到任何图片数据。

```
byte [] byteData = new byte[imageData().length()];

imageView.setImageBitmap(getImage(byteData));

public static Bitmap getImage(byte[] image) {
    return BitmapFactory.decodeByteArray(image, 0, image.length);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:14:21.113

像这样使用

```
byte[] decodedString = Base64.decode(img, Base64.DEFAULT);
Bitmap bitmap = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);
if (bitmap != null) {
Drawable image = new BitmapDrawable(Bitmap.createScaledBitmap(bitmap, 90, 100, true));
} 
```

# .net - 如果 Internet 连接断开，ClickOnce-Prerequisite 下载将重新启动

> ID：15021527
> 
> 赞同：0
> 
> 时间：2013-02-22T10:05:23.960
> 
> 标签：.net, visual-studio-2010, clickonce, prerequisites

我已经为部署创建了 Clickonce 设置，有 4 个先决条件。

在客户端计算机上，如果在运行 setup.exe 时 Internet 连接断开，则会重新启动先决条件下载。因此，例如它们在 4 of 4 上，下载将从 1 of 4 开始。

如何为 clickonce 先决条件恢复下载。

如果先决条件是通过 VS Installer(.msi) 安装的，我不会遇到这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:14:20.140

ClickOnce 会在开始安装之前下载所有先决条件。因此，不幸的是，如果在下载过程中失败，您只能重新开始。

# java - 无法解析上下文的占位符：property-placeholder

> ID：15021535
> 
> 赞同：0
> 
> 时间：2013-02-22T10:05:44.610
> 
> 标签：java, database, spring, properties, environment-variables

我正在尝试根据环境变量将我的应用程序设置为使用不同的数据源定义，但我遇到了以下错误。我查看了许多类似的问题，但它们似乎并不相同。

我已经设置了多个属性文件：

```
env-dev.properties
env-test.properties
env-prod.properties
env-.properties 
```

我创建了一个名为 MEM_ENV 的系统属性，其值为“dev”

我的 spring xml 文件如下所示：

```
 <?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:jee="http://www.springframework.org/schema/jee"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">
    <context:property-placeholder
        location="classpath*:*env-${MEM_ENV}.properties" />
    <bean id="mongoDataSource" class="com.iLearn.persistence.base.MongoDataSourceImpl">
        <property name="server" value="${mongo.server}" />
        <property name="port" value="${mongo.port}" />
        <property name="dbName" value="${mongo.dbName}" />
        <property name="userName" value="${mongo.userName}" />
        <property name="password" value="${mongo.password}" />
    </bean> 
```

我的属性文件如下所示：

```
mongo.server=aServer.com
mongo.port=10003
monog.dbName=aDBName
mongo.userName=aUserName
mongo.password=aPassword 
```

我得到的例外是：

```
 message org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'mongoDataSource' defined in class path resource [springAppConfig.xml]: Could not resolve placeholder 'mongo.server' in string value "${mongo.server}"

description The server encountered an internal error (org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'mongoDataSource' defined in class path resource [springAppConfig.xml]: Could not resolve placeholder 'mongo.server' in string value "${mongo.server}") that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'mongoDataSource' defined in class path resource [springAppConfig.xml]: Could not resolve placeholder 'mongo.server' in string value "${mongo.server}"
    javax.faces.webapp.FacesServlet.service(FacesServlet.java:606)
    org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:357)
    com.iLearn.security.AccessFilter.doFilter(AccessFilter.java:43) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:14:55.903

您错误地使用了`classpath`解析器。去掉一个不必要`*`的。

从改变，

```
<context:property-placeholder location="classpath*:*env-${MEM_ENV}.properties" /> 
```

到

```
<context:property-placeholder location="classpath*:env-${MEM_ENV}.properties" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T08:23:56.033

在我重新启动机器之前，系统变量似乎不起作用。之后它工作正常，（一旦我修正了monog.dbName的错字）。

我不确定是否是 Windows 的重新启动、Eclipse 的重新启动或 Tomcat 的重新启动解决了问题，因为所有这些都发生在我的重新启动时。

希望这对其他人有所帮助-如果您遇到此问题，请先尝试重新启动。

# javascript - 在选择答案之前返回对话框

> ID：15021540
> 
> 赞同：-1
> 
> 时间：2013-02-22T10:05:57.980
> 
> 标签：javascript, jquery

我有一个对话框弹出询问用户一个问题，这是在一个功能如下：

```
function confirmBox2(action) {

    var message = "";

    if (action == "Quit") {

        message = "Are you sure you want to quit without saving?";

    }
    else if (action == "Delete") {

        message = "Confirm you want to Delete?";

    }
    else if (action == "Save") {

        message = "Are you sure you want to Save Changes?";

    }

    $('body').append('<div id="dialog-box" style="display:none;">' + message + '</div>');

    $('#dialog-box').dialog({
        modal: true,
        buttons: {
            Yes: function () {

                $(this).dialog("close");
                $('#dialog-box').remove();

                return true;
                //history.back(-1);

            },
            NO: function () {
                $(this).dialog("close");
                $('#dialog-box').remove();

                return false;

            }
        }
    });
} 
```

您将看到 Yes 返回 true 而 No 返回 false。我希望能够做类似的事情

```
if(confirmBox2("Quit")){

    // do something here
} 
```

我遇到的问题是代码是异步运行的，而不是等待选择对话答案，我该如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:37:32.213

我已经修改了确认函数以接受 2 个进一步的参数。其中一个是单击“是”时要调用的函数的名称，另一个是单击“否”时要调用的函数的名称。您以前的版本是打开对话框然后立即结束函数，因为对话框调用不是阻塞或同步调用，所以函数没有等到您关闭对话框才返回。这就是为什么你没有得到结果。使用此方法，您可以创建一个处理“是”单击的函数，一个处理“否”单击的函数，并在单击相应按钮时调用它们。

```
function confirmBox2(Action, YesCallback, NoCallback) {
    var message = "";
    if (Action == "Quit") {
        message = "Are you sure you want to quit without saving?";
    } else if (Action == "Delete") {
        message = "Confirm you want to Delete?";
    } else if (Action == "Save") {
        message = "Are you sure you want to Save Changes?";
    }

    $('body').append('<div id="dialog-box" style="display:none;">' + message + '</div>');

    $('#dialog-box').dialog({
        modal: true,
        buttons: {
            "Yes" : function () {
                $(this).dialog("close");
                $('#dialog-box').remove();
                YesCallback();
            },
            "No" : function () {
                $(this).dialog("close");
                $('#dialog-box').remove();
                NoCallback();
            }
        }
    });
}

function onDialogYes() {
    // handle the "yes" click here
}

function onDialogNo() {
    // handle the "no" click here
}

confirmBox2("Quit", onDialogYes, onDialogNo); 
```

您也可以不将回调函数作为参数传递，就像这样......

```
function confirmBox2(Action) {
    var message = "";
    if (Action == "Quit") {
        message = "Are you sure you want to quit without saving?";
    } else if (Action == "Delete") {
        message = "Confirm you want to Delete?";
    } else if (Action == "Save") {
        message = "Are you sure you want to Save Changes?";
    }

    $('body').append('<div id="dialog-box" style="display:none;">' + message + '</div>');

    $('#dialog-box').dialog({
        modal: true,
        buttons: {
            "Yes" : function () {
                $(this).dialog("close");
                $('#dialog-box').remove();
                onDialogYes();
            },
            "No" : function () {
                $(this).dialog("close");
                $('#dialog-box').remove();
                onDialogNo();
            }
        }
    });
}

function onDialogYes() {
    // handle the "yes" click here
}

function onDialogNo() {
    // handle the "no" click here
}

confirmBox2("Quit"); 
```

您可能希望将`Action`按钮传递给事件处理程序，以便知道您正在处理什么操作。

# crystal-reports - Crystal Reports：生成子报表的重复数据

> ID：15021543
> 
> 赞同：0
> 
> 时间：2013-02-22T10:06:07.150
> 
> 标签：crystal-reports, formatting, duplicates, subreport

我的根本问题是在浏览器（水晶报告查看器）中打开报告而没有提示子报告的参数。通过将主报表中的参数链接到子报表来解决此问题。

遇到的下一个问题是无法创建或查看带有错误“无效组条件”的报告通过删除子报告中的组解决了这个问题。

下一个问题是无法在子报告中显示数据。通过用公式替换子报表中的字段（这些是数据库字段）解决了这个问题。

现在，我已经有了一份工作报告。在这份报告中，我有需要根据货币掩盖的金额。当我在金额字段上添加自定义样式格式时，我的子报告数据被复制了。这只发生在生成的文件或水晶报告查看器上，但是当我在设计器上生成它时，它似乎工作正常。

关于如何解决这个问题的任何想法？

主要报告设计：

报表页眉：页眉
页眉：
组页眉 #1：主 报表页眉
详细信息：主报表详细信息
组页脚 #1：
**报表页脚 a：子**
报表报表页脚 b：页脚
页脚：

子报表设计：

报告标题 a：标题
报告标题 b：
**详细信息：SUB REPORT DETAILS**
报告页脚 a：
报告页脚 b：

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:14:14.270

终于解决了这个问题。

每次字段 A <> 字段 B 时，我都会隐藏子报告中的详细信息。

还有对我自己的更正，分组实际上适用于链接的子报告。这样您用于分组的字段必须在屏幕上，否则将引发错误（“无效的分组条件”）。

# xcode - 编辑 tableview 行以在 iOS 中删除 Tableview 中的多行给出错误

> ID：15021546
> 
> 赞同：0
> 
> 时间：2013-02-22T10:06:22.473
> 
> 标签：xcode, ios6, tableview

我按照链接 [从 uitableview 中选择多行并删除](https://stackoverflow.com/questions/4954393/select-multiple-rows-from-uitableview-and-delete)

我将删除方法中的代码编写为

```
(void)deleterows:(id)sender { 
NSArray *array=[selectedRows allObjects]; 
NSLog(@"indexes are::%@",array);
[self.tableView deleteRowsAtIndexPaths:array withRowAnimation:UITableViewRowAnimationTop];
 } 
```

但它给出了错误 `Terminating app due to uncaught exception NSInvalidArgumentException`

原因：`-[__NSCFNumber row]: unrecognized selector sent to instance 0x9161b50`

请告诉我我在哪里做错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:17:56.387

`selectedRows`是一个 NSNumbers 数组。`deleteRowsAtIndexPaths:withRowAnimation:`需要一个对象数组`NSIndexPath`。您链接的答案清楚地表明您应该创建这样的数组：

> *   在您的 deleteRows 方法中，遍历 selectedRows 集，构建 indexPaths 数组，从数据模型中删除这些行，然后调用（使用您喜欢的动画类型）：
> 
> [self.myTableView deleteRowsAtIndexPaths:arrayOfIndexPathsToDelete withRowAnimation:UITableViewRowAnimationTop];

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:37:28.833

由于您的目标是 >= iOS5，您可以简单地使用：

```
self.tableView.allowsMultipleSelection = YES; 
```

进而

```
(void)deleterows:(id)sender { 
  NSArray *array= [self.tableView indexPathsForSelectedRows]; 
  NSLog(@"indexes are::%@",array);
  [self.tableView deleteRowsAtIndexPaths:array withRowAnimation:UITableViewRowAnimationTop];
 } 
```

根本不使用`selectedRows`数组。

如果您只想在编辑模式下进行多项选择，则应设置

```
self.tableView.allowsMultipleSelection = YES; 
```

查看文档中的[allowsMultipleSelectionDuringEditing](http://developer.apple.com/library/ios/documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/instp/UITableView/allowsMultipleSelectionDuringEditing)。

# spring - Spring：jee的父声明：remote-slsb

> ID：15021548
> 
> 赞同：1
> 
> 时间：2013-02-22T10:06:30.260
> 
> 标签：spring, jakarta-ee, ejb

我正在使用**spring 3.1.2**。我有许多`jee:remote-slsb`带有通用参数的声明。我想为他们创建父声明。我试过了：

```
<jee:remote-slsb abstract="true" id="jee-remote-parent"
    cache-home="true" lookup-home-on-startup="true" resource-ref="true"
    refresh-home-on-connect-failure="true"/> 
```

但我有错误：

```
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.3.2.2: Das Attribut 'abstract' darf nicht in Element 'jee:remote-slsb' verwendet werden. 
```

*父*功能对于“类似语法糖”的 bean 声明是否无效，例如`jee:remote-slsb`？

# jsf - JSF dataTable 自动换行，即使还有空间

> ID：15021553
> 
> 赞同：0
> 
> 时间：2013-02-22T10:06:37.903
> 
> 标签：jsf, jsf-2, datatable, word-wrap

我有一个没有指定宽度的数据表。它不是自动调整其宽度，而是将文本包装在其中一列中。我不知道为什么会这样。我希望避免使用`white-space: nowrap;`

xhtml:

```
<ez:listTable
    listBean="#{artistBean}"
    actionBean="#{albumBean}"
    editable="#{artistBean.moderatedByUser}"
    title="albums"
    info="You need to be moderator to edit albums">

    <h:column>
        <f:facet name="header">name</f:facet>
        <h:link
            outcome="album"
            styleClass="tableLink"
            value="#{item.name}">
            <f:param name="albumId" value="#{item.id}" />
            <f:param name="albumName" value="#{item.name}" />
        </h:link>
    </h:column>

    <h:column>
        <f:facet name="header">year</f:facet>
        <h:outputText value="#{item.year}" styleClass="tableItem" />
    </h:column>

</ez:listTable> 
```

复合组件（实现）：

```
 <cc:implementation>
    <div id="#{cc.clientId}">

        <h:outputStylesheet name="tableBase.css" library="css/table" />
        <h:outputStylesheet name="tableContent.css" library="css/table" />

        <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
            <h:outputText value="#{cc.attrs.title}" styleClass="#{cc.attrs.titleClass}" />
            <h:panelGroup rendered="#{cc.attrs.showInfo}">
                <h:graphicImage id="info" styleClass="tableInfoIcon" library="images" name="q1_9x9.png" />
                <p:overlayPanel 
                    for="info" 
                    styleClass="tableInfo" 
                    showEffect="fade" 
                    hideEffect="fade">
                    #{cc.attrs.info}
                </p:overlayPanel>
            </h:panelGroup>
        </h:panelGrid>

        <h:panelGrid columns="2" cellpadding="0" cellspacing="0">

            <h:dataTable
                id="table"
                binding="#{cc.table}"
                value="#{cc.attrs.listBean.list}"
                var="item"
                styleClass="#{cc.attrs.styleClass}"
                rowClasses="#{cc.attrs.rowClasses}"
                headerClass="#{cc.attrs.headerClass}"
                rendered="#{not empty cc.attrs.listBean.list}">

                <cc:insertChildren />

                <h:column rendered="#{cc.attrs.editable}">
                    <p:commandLink
                        action="#{cc.attrs.actionBean.checkChangeAction()}"
                        value="edit"
                        styleClass="tableLink"
                        update="@form"
                        oncomplete="#{cc.attrs.editDialogId}Wid.show();"
                        rendered="#{cc.attrs.actionBean != null}">
                        <f:actionListener binding="#{cc.attrs.actionBean.setItem(item)}" />
                    </p:commandLink>
                    <p:commandLink
                        action="#{cc.attrs.listBean.checkChangeAction()}"
                        value="edit"
                        styleClass="tableLink"
                        update="@form"
                        oncomplete="#{cc.attrs.editDialogId}Wid.show();"
                        rendered="#{cc.attrs.actionBean == null}">
                        <f:actionListener binding="#{cc.attrs.listBean.setItem(item)}" />
                    </p:commandLink>
                </h:column>
                <h:column rendered="#{cc.attrs.editable}">
                    <p:commandLink
                        action="#{cc.attrs.actionBean.delete(item)}"
                        value="delete"
                        styleClass="tableLink"
                        update="@form"
                        rendered="#{cc.attrs.actionBean != null}"/>
                    <p:commandLink
                        action="#{cc.attrs.listBean.delete(item)}"
                        value="delete"
                        styleClass="tableLink"
                        update="@form"
                        rendered="#{cc.attrs.actionBean == null}" />
                </h:column>

            </h:dataTable>

            <h:panelGroup rendered="#{empty cc.attrs.listBean.list}" styleClass="default_paragraph">
                #{cc.attrs.emptyListMsg}
            </h:panelGroup>

        </h:panelGrid>
    </div>
</cc:implementation> 
```

生成的html：

```
<table id="albumForm:j_idt180:table" class="table">
<thead>
    <tr>
        <th class="tableHeader" scope="col">name</th>
        <th class="tableHeader" scope="col">year</th>
        <th class="tableHeader" scope="col"></th>
        <th class="tableHeader" scope="col"></th>
    </tr>
</thead>
<tbody>
    <tr class="tableRowOdd">
        <td><a href="/mx_mk3/faces/album.xhtml?albumId=513&amp;albumName=Through+The+Eyes" class="tableLink">Through The Eyes</a></td>
        <td><span class="tableItem">2002</span></td>
        <td><a id="albumForm:j_idt180:table:0:j_idt170" href="#" class="ui-commandlink tableLink" onclick="PrimeFaces.ab({source:'albumForm:j_idt180:table:0:j_idt170',update:'albumForm',oncomplete:function(xhr,status,args){dialogWid.show();;}});return false;">edit</a></td>
        <td><a id="albumForm:j_idt180:table:0:j_idt173" href="#" class="ui-commandlink tableLink" onclick="PrimeFaces.ab({source:'albumForm:j_idt180:table:0:j_idt173',update:'albumForm'});return false;">delete</a></td>
    </tr>
    <tr class=" tableRowEven">
        <td><a href="/mx_mk3/faces/album.xhtml?albumId=514&amp;albumName=Endangered+Species" class="tableLink">Endangered Species</a></td>
        <td><span class="tableItem">2001</span></td>
        <td><a id="albumForm:j_idt180:table:1:j_idt170" href="#" class="ui-commandlink tableLink" onclick="PrimeFaces.ab({source:'albumForm:j_idt180:table:1:j_idt170',update:'albumForm',oncomplete:function(xhr,status,args){dialogWid.show();;}});return false;">edit</a></td>
        <td><a id="albumForm:j_idt180:table:1:j_idt173" href="#" class="ui-commandlink tableLink" onclick="PrimeFaces.ab({source:'albumForm:j_idt180:table:1:j_idt173',update:'albumForm'});return false;">delete</a></td>
    </tr>
</tbody>
</table> 
```

CSS：

```
.tableLink {
display: inline-block;
text-decoration: none;
padding: 3px 5px 3px 5px; 
color: #3a5776;
}

.table {
*border-collapse: collapse; /* IE7 and lower */
border-spacing: 0;
border: solid #ccc 1px;
-moz-border-radius: 6px;
-webkit-border-radius: 6px;
border-radius: 6px;
padding: 2px;
} 
```

*name*列是被包装的列。似乎缺少一个像素才能正确呈现该列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T18:41:24.187

经过一番测试，我发现了问题所在。在`table`元素的样式中，我使用`padding`使边框远离实际表格内容。表格的填充（不是 td） - 据我了解 - 不支持。它在 Firefox 中有效，但在 chrome 中无效。

# c# - 将焦点设置在列表中的特定元素上

> ID：15021556
> 
> 赞同：0
> 
> 时间：2013-02-22T10:06:40.997
> 
> 标签：c#, winforms, entity-framework, data-binding

我有一个用于编辑和创建新元素的表单。我有一个`Combobox`with a `DropDownList`，其中填充了另一个表中的数据，无论用户是否在创建新元素，我都希望能够向他显示其中的所有元素，`DropDownList`但是当他进行编辑时，我想设置关注与视图页面中相同的元素。

这些是我用于此的代码部分：

检查用户是否要创建新元素：

```
 if (!LoadEntityId.HasValue)
            {
                entity = new Material(); 
```

如果用户正在编辑，则加载实体：

```
entity = materialService.Find(LoadEntityId.Value); 
```

仅加载已加载实体的值（我想按说明自定义的部分）：

```
cboTypeOfMaterial.Text = entity.MaterialTypeName; 
```

编辑表单中`cboTypeOfMaterial`的名称在哪里。`ComboBox`

# c# - 无法在我的电脑中粘贴任何文本或文件 - 剪贴板错误

> ID：15021560
> 
> 赞同：5
> 
> 时间：2013-02-22T10:06:52.923
> 
> 标签：c#, .net, winforms, clipboard

我正在使用代码来捕获应用程序的文本。

当我启动应用程序时，我无法在我的电脑中复制和粘贴任何文本或文件。我知道为什么会出现此错误，因为剪贴板每隔一两秒就会被清除一次，因为我将代码保持在一个循环中。它是如果我和我的客户在他们的 pc 中使用我的应用程序，对我和我的客户来说是个大问题。我想知道我们是否可以创建一个新的剪贴板，仅供我的应用程序使用，而不是使用我的桌面剪贴板，或者任何人都可以为我的问题提供任何解决方案。代码我正在使用的是

```
 try
        {
            IEnumerator enumerator;
            MainModule.StrData = "";
            try
            {
                enumerator = this.chkListbox_odin1.CheckedIndices.GetEnumerator();
                IntPtr parentWnd = FindWindow((null), cboWindows.Text);
                IntPtr mdiClientWnd = FindWindowEx(parentWnd, IntPtr.Zero, "MDIClient", "");
                IntPtr marketwatchWnd = FindWindowEx(mdiClientWnd, IntPtr.Zero, null, windowname);
                while (enumerator.MoveNext())
                {
                    object objectValue = enumerator.Current;
                    this.WindowText(marketwatchWnd);
                }
                //    System.Windows.Forms.SendKeys.SendWait("{ESC}");
                //  Application.DoEvents();
            }
            finally
            {

            }
            Clipboard.Clear();
        }
        catch (Exception exception1)
        {
           // MessageBox.Show(exception1.Message);
        } 
```

这是我的问题的一些图像

我可以在运行应用程序时复制。 ![在此处输入图像描述](../Images/c32672f2daf13fbbe04892e81d608f1b.png)

但是当我尝试粘贴时

粘贴不突出， ![在此处输入图像描述](../Images/f78cf40c75f7a38dfc5ce925f3f3fcb1.png)

如果有人可以帮助我，将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T12:53:49.363

我假设您将/正在使用 SendKeys 来执行复制操作，一旦您找到或将焦点带到您试图复制其文本的窗口。（您当前的代码只是清除剪贴板，而不是在上面放任何东西或使用它的数据）您可以尝试查看在[这个问题](https://stackoverflow.com/questions/1873404/get-text-from-another-application)上使用的方法。该方法将允许您完全跳过使用剪贴板，并且具有额外的好处，即不需要您更改窗口焦点，这对于您的最终用户来说可能与不断清除剪贴板一样糟糕。（这部分假设您使用 SendKeys 来影响剪贴板，我相信它只适用于当前聚焦的窗口）

# python - 如何计算信用卡的固定月供

> ID：15021561
> 
> 赞同：0
> 
> 时间：2013-02-22T10:07:04.540
> 
> 标签：python, loops

如何继续以下循环，直到找到`mmp = 310`？到目前为止，使用我的代码，我能走的最远的是`mmp = 240`. 你认为我应该再`if`发表一份声明吗？

```
balance = 4213
annualInterestRate = 0.2
mir = annualInterestRate/12
monthlyPaymentRate = 0.04

rb = balance
mmp = 0
Month = 1
while Month <= 12: 
    print('Month:' + str(Month))  
    mmp = mmp + 10
    print('Minimum monthly payment:' + str(mmp))
    ub = rb - mmp
    rb = round(ub + (annualInterestRate/12 * ub), 2)
    Month = Month + 1 
    print('Remaining balance:' + str(rb))
if rb > 0:
    rb = balance
    Month = 1
    while Month <= 12:
        print('Month:' + str(Month)) 
        mmp = mmp + 10
        print('Minimum monthly payment:' + str(mmp))
        ub = rb - mmp
        rb = round(ub + (annualInterestRate/12 * ub), 2)
        Month = Month + 1 
        print('Remaining balance:' + str(rb))

else:
    print('Lowest Payment:' + str(mmp) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:17:59.360

如果您只想达到该数字`while Month <= 12:`，则可以使用而不是。`while mmp < 310:`或者`while rb > 0:`，如果您想继续循环直到所有费用都付清。

如果需要循环几个月（顺便说一句，[如果您提到您的问题是家庭作业，通常会在此处表示赞赏](https://meta.stackexchange.com/questions/10811/how-to-ask-and-answer-homework-questions)），您可以添加一个多年的外部循环：

```
year = 1
while rb > 0:
    month = 1
    while month <= 12:
        # do stuff
        month = month + 1
    year = year + 1 
```

# python-c-api - 暂停/恢复嵌入式 python 解释器

> ID：15021564
> 
> 赞同：1
> 
> 时间：2013-02-22T10:07:25.517
> 
> 标签：python-c-api, python

是否有可能在我需要的地方暂停/恢复嵌入式 python 解释器的工作？例如：

C++ 伪代码部分：

```
main()
{
     script = "python_script.py";
     ...

     RunScript(script); //-- python script runs till the command 'stop'
     while(true)
     {
          //... read values from some variables in python-script
          //... do some work ...
          //... write new value to some other variables in python-script
          ResumeScript(script); //-- python script resumes it's work where
                                // it was stopped. Not from begin!
     }
     ...
} 
```

Python脚本伪代码部分：

```
#... do some init-work
while true:
       #... do some work
       stop # - here script stops and C++-function RunScript() 
            # returns control to C++-part
       #... After calling C++-function ResumeScript 
       # the work continues from this line 
```

这可能与 Python/C API 有关吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-12T14:30:46.173

我最近也在寻找一种手动“驱动”嵌入式语言的方法，我遇到了这个问题，并认为我会分享一个潜在的解决方法。

我将通过套接字或某种消息传递系统来实现“阻塞”行为。与其真正停止整个 python 解释器，不如让它在等待 C++ 进行评估时阻塞。

C++ 将启动嵌入式运行时，然后进入某种循环，等待 python“发出信号”它已准备好。例如，C++ 监听端口 5000，启动 python，python 工作，连接到 localhost 上的端口 5000，然后 C++ 看到连接并从 python 获取数据，对其执行工作，然后通过套接字将数据重新洗牌到 python，然后python接收数据并离开阻塞循环。

我仍然需要一种完全暂停虚拟运行时的方法，但是在您的情况下，您可以使用套接字和一些使用套接字来协调两段代码的阻塞行为来实现相同的目的。

祝你好运 ：）

编辑：您可以挂钩此答案中使用的“注入”功能以完全停止 python。只需修改它以注入一个等待循环。

[停止嵌入式 Python](https://stackoverflow.com/questions/1420957/stopping-embedded-python?rq=1)

# c# - 获取文件时出现 FtpException

> ID：15021566
> 
> 赞同：-1
> 
> 时间：2013-02-22T10:07:32.130
> 
> 标签：c#, ftp, passive-mode

我已成功建立 ftp 连接并想从 FTP 服务器获取文件。

这是我的代码：

```
ftp.GetFile(file.Name, path + file.Name, false); 
```

其中 ftp 是 FtpConnection。

对于所有其他文件，它进展顺利。现在，我第一次得到它，异常消息对我来说根本不清楚。这里是：

200 类型设置为 I

227 进入被动模式（93,186,176,75,78,64）。

213 21846

这是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:19:51.423

由于 FTP 是双向协议，您需要 2 个连接（服务器 <-> 客户端）

在主动模式下，客户端连接到服务器，服务器连接回客户端。这通常是防火墙的问题。在被动模式下，客户端创建两个连接，一个在 ftp 端口上，第二个在另一个端口上。

这可能是因为服务器负载高或防火墙配置不佳。

# javascript - Mongoose 验证访问同级

> ID：15021567
> 
> 赞同：0
> 
> 时间：2013-02-22T10:07:35.017
> 
> 标签：javascript, json, node.js, mongodb, mongoose

考虑以下情况：

```
validatedSchema = new schema({
  id : "1454216545154",
  name: { type: Number, validate: [
    function(v){
      return (this.id !== Server.LoggedIn.ID);
    }, 'Don't try to change the name of another user!!!!'
  ]}
}) 
```

我还没有设置我的完整服务器进行测试，但正处于计划阶段。

**我们可以从验证函数访问兄弟元素，在这种情况下是“id”和“外部”变量吗？如果是这样，怎么办？**

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T14:43:01.540

不，你不能。但是您在这里要做的是真正的访问控制，它无论如何都不属于您的 ORM 层。

但是如果你真的想这样做，你可以添加 pre-save[中间件](http://mongoosejs.com/docs/middleware.html)来检查当前用户是否只能将更改保存到他们自己的记录中：

```
validatedSchema.pre('save', function (next) {
    if (this.id !== Server.LoggedIn.ID) {
        next(new Error("Can't change another user's data!"));
    } else {
        next();
    }
}); 
```

# ehcache - 春季测试：同名“myCacheManager”的另一个 CacheManager 已存在于同一 VM 中

> ID：15021570
> 
> 赞同：8
> 
> 时间：2013-02-22T10:07:39.990
> 
> 标签：ehcache, spring-test

在将其标记为重复之前，请先阅读问题。我已经阅读了有关此异常的所有内容，但它并没有为我解决问题。而且我确实得到了一个稍微不同的异常，例如`Another CacheManager with same name 'myCacheManager' already exists`而不是`Another unnamed CacheManager already exists`.

弹簧配置：

```
<cache:annotation-driven cache-manager="cacheManager"/>

<bean id="cacheManager"
      class="org.springframework.cache.ehcache.EhCacheCacheManager"
      p:cacheManager-ref="ehcache"/>
<bean id="ehcache" class="org.springframework.cache.ehcache.EhCacheManagerFactoryBean"
      p:configLocation="ehcache.xml"
      p:cacheManagerName="myCacheManager"
      p:shared="true"/> 
```

ehcache

```
<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ehcache.org/ehcache.xsd"
        updateCheck="false" name="myCacheManager">

</ehcache> 
```

问题是我有 1 个（将来会更多）测试安全性的测试类。这些类还加载一个 SecurityContext.xml

所以大多数测试类都有这个注释：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration("classpath:ApplicationContext.xml") 
```

但是导致问题的类：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {
    "classpath:ApplicationContext.xml",
    "classpath:SecurityContext.xml"
}) 
```

似乎由于位置不同，因此再次加载了上下文，但 ehcacheManager 在之前的测试中仍然处于活动状态。

注意：这仅在运行多个测试时发生（例如，像 clean + build）。单独运行这个测试类可以很好地工作。

什么问题？我该如何解决？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-23T12:14:31.347

向您的测试类添加`@DirtiesContext`注释：

```
@ContextConfiguration(...)
@RunWith(...)
@DirtiesContext // <== add e.g. on class level
public class MyTest {
    // ...
} 
```

此注释指示与测试关联的应用程序上下文是脏的，应该关闭。随后的测试将提供一个新的上下文。适用于类级别和方法级别。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-11-30T12:23:28.933

我不知道问题/问题是否仍然相关，但这是一个简单/正确的解决方案（不需要在所有测试中添加 @DirtiesContext ）。避免 @DirtiesContext 允许您为所有集成测试只有一个共享上下文（例如，通过 maven 运行，或在 IDE 中运行所有测试）。这避免了由同时启动的多个上下文引起的多个问题。

```
<bean id="ehcache" class="org.springframework.cache.ehcache.EhCacheManagerFactoryBean"
  p:configLocation="ehcache.xml"
  p:cacheManagerName="myCacheManager"
  p:shared="${ehcacheManager.shared:true}"
  p:acceptExisting:"${ehcacheManager.acceptExisting:false}"/> 
```

在您的测试（集成测试）中，设置这些属性

```
ehcacheManager.acceptExisting=true
ehcacheManager.shared=false 
```

它允许 Spring 为每个测试创建一个 EhcacheManager (ehcache)，但如果存在同名的 EhcacheManager，Spring 只会重用它。并且 Spring 也不会在使用 @DirtiesContext 注释的上下文中销毁/关闭它。

这个想法很简单，你可以在使用@DirtiesContext 时防止 EhcacheManager 的破坏。

如果您使用 Spring 4 和 EhCache:2.5+，则适用。在 Spring 3 中，您必须扩展 EhCacheManagerFactoryBean 才能添加这两个属性。

不要忘记在每次测试之前清除缓存:)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-06-25T06:02:03.483

即使您的代码具有带有 @Cacheable 注释的方法，您也可以**在禁用缓存的情况下运行测试。**

这样，您**不必**通过使用@DirtiesContext 标记所有测试来减慢测试运行速度。

将**缓存相关的 Spring 配置放在他们自己的 Spring 配置文件**中，例如。applicationContext-cache.xml 文件。

**仅在实时运行应用程序时包含该 applicationContext-cache.xml 文件**，而不是在您的测试中。

如果你特别想测试缓存，那么你需要 @DirtiesContext 注释。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-08-12T09:19:53.467

发生这种情况是因为在测试期间，同时存在多个 Spring 应用程序上下文。但是，ehcache 是 JVM 全局的。

您基本上可以通过`spring.properties`在类路径上创建文件来禁用 Spring 上下文缓存：

```
spring.test.context.cache.maxSize=1 
```

确保在销毁上下文时正确取消注册缓存管理器。

# css - 让 div 占据 100% 身体高度，减去固定高度的页眉和页脚

> ID：15021573
> 
> 赞同：83
> 
> 时间：2013-02-22T10:07:50.180
> 
> 标签：css

根据我的研究，这似乎是一个绝对经典的 CSS 问题，但我找不到明确的答案——所以 StackOverflow 就是这样。

如何将内容 div 设置为占正文高度的 100%，减去固定高度页眉和页脚占用的高度？

```
<body>
  <header>title etc</header>
  <div id="content">body content</div>
  <footer>copyright etc</footer>
</body>

//CSS
html, body { 
  height: 100%;
}
header { 
  height: 50px;
}
footer { 
  height: 50px;
}
#content { 
  height: 100% of the body height, minus header & footer
} 
```

我想使用纯 CSS，并且答案是跨浏览器的防弹。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2013-02-22T12:02:13.827

如果你有modernizr脚本，这个版本将在所有最新的浏览器和ie8中工作（如果不只是改变`header`和`footer`进入`div`s）：

[小提琴](http://jsfiddle.net/naqE6/1/)

```
html,
body {
  min-height: 100%;
  padding: 0;
  margin: 0;
}

#wrapper {
  padding: 50px 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

#content {
  min-height: 100%;
  background-color: green;
}

header {
  margin-top: -50px;
  height: 50px;
  background-color: red;
}

footer {
  margin-bottom: -50px;
  height: 50px;
  background-color: red;
}

p {
  margin: 0;
  padding: 0 0 1em 0;
}
```

```
<div id="wrapper">
  <header>dfs</header>
  <div id="content">
  </div>
  <footer>sdf</footer>
</div>
```

滚动内容： [小提琴](http://jsfiddle.net/naqE6/)

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2013-02-22T10:45:02.840

只要它不是跨浏览器解决方案，您可能会利用使用`calc(expression)`来实现这一目标。

```
html, body { 
 height: 100%;
}
header {        
 height: 50px;
 background-color: tomato
}

#content { 
 height: -moz-calc(100% - 100px); /* Firefox */
 height: -webkit-calc(100% - 100px); /* Chrome, Safari */
 height: calc(100% - 100px); /* IE9+ and future browsers */
 background-color: yellow 
}
footer { 
 height: 50px;
 background-color: grey;
} 
```

[JsFiddle 的示例](http://jsfiddle.net/agriboz/y3U8F/1/)

如果您想了解更多关于`calc(expression)`您最好访问[此](http://www.sitepoint.com/css3-calc-function/)站点的信息。

* * *

## 回答 #3

> 赞同：30
> 
> 时间：2015-06-16T18:11:26.273

当我试图找到这个问题的答案时，这仍然是谷歌的最高结果。我不必在我的项目中支持旧版浏览器，我觉得我在[flex-box 中](https://css-tricks.com/snippets/css/a-guide-to-flexbox/)找到了更好、更简单的解决方案。下面的 CSS 片段是所有必要的。

如果屏幕高度太小，我还展示了如何使主要内容可滚动。

```
html,
body {
  height: 100%;
  display: flex;
  flex-direction: column;
}
header {
  min-height: 60px;
}
main {
  flex-grow: 1;
  overflow: auto;
}
footer {
  min-height: 30px;
}
```

```
<body style="margin: 0px; font-family: Helvetica; font-size: 18px;">
  <header style="background-color: lightsteelblue; padding: 2px;">Hello</header>
  <main style="overflow: auto; background-color: lightgrey; padding: 2px;">
    <article style="height: 400px;">
      Goodbye
    </article>
  </main>
  <footer style="background-color: lightsteelblue; padding: 2px;">I don't know why you say, "Goodbye"; I say, "Hello."</footer>
</body>
```

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2015-04-23T21:45:00.040

新的现代方法是通过从视口的垂直高度中减去页眉和页脚的高度来计算垂直高度。

```
//CSS
header { 
  height: 50px;
}
footer { 
  height: 50px;
}
#content { 
  height: calc(100vh - 50px - 50px);
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-10-23T07:20:41.233

试图计算页眉和页脚是不好的:(设计应该简单，不言自明。简单易行。计算只是......不容易。对人类来说不容易，对机器来说有点困难。

您正在寻找的是[圣杯设计](https://en.wikipedia.org/wiki/Holy_Grail_(web_design))的一个子集。

[这](http://plnkr.co/edit/swHKE2?p=preview)是一个使用 flex 显示的实现。除了页脚和页眉之外，它还包括侧栏。享受：

```
<!DOCTYPE html>
<html style="height: 100%">
  <head>
    <meta charset=utf-8 />
    <title>Holy Grail</title>
    <!-- Reset browser defaults -->
    <link rel="stylesheet" href="reset.css">
  </head>
  <body style="display: flex; height: 100%; flex-direction: column">
    <div>HEADER<br/>------------
    </div>
    <!-- No need for 'flex-direction: row' because it's the default value -->
    <div style="display: flex; flex: 1">
      <div>NAV|</div>
      <div style="flex: 1; overflow: auto">
        CONTENT - START<br/>
        <script>
        for (var i=0 ; i<1000 ; ++i) {
          document.write(" Very long content!");
        }
        </script>
        <br/>CONTENT - END
      </div>
      <div>|SIDE</div>
    </div>
    <div>------------<br/>FOOTER</div>
  </body>
</html> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-22T10:25:53.820

您可以利用 CSS 属性[Box Sizing](http://css-tricks.com/box-sizing/)。

```
#content { 
    height: 100%;
    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
    -moz-box-sizing: border-box;    /* Firefox, other Gecko */
    box-sizing: border-box;         /* Opera/IE 8+ */
    padding-top: 50px;
    margin-top: -50px;
    padding-bottom: 50px;
    margin-bottom: -50px;
} 
```

请参阅[JsFiddle](http://jsfiddle.net/8Hqm5/)。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-02-10T06:35:37.167

这是一个不使用负边距或`calc`. 运行下面的代码片段以查看最终结果。

**解释**

我们给页眉和页脚一个固定的高度，`30px`并将它们分别绝对定位在顶部和底部。为了防止内容掉到下面，我们使用了两个类：`below-header`并`above-footer`用`30px`.

所有内容都包含在一个div 中，因此页眉和页脚位于*内容*`position: relative`的顶部/底部，而不是窗口。

 *我们使用类`fit-to-parent`并使`min-fit-to-parent`内容填满页面。这为我们提供了一个至少与窗口一样低的粘性页脚，但如果内容长于窗口则隐藏。

在页眉和页脚中，我们使用`display: table`和`display: table-cell`样式为页眉和页脚提供一些垂直填充，而不会破坏页面的收缩包装质量。（给他们真正的填充可能会导致页面的总高度超过`100%`，这会导致滚动条在不需要时出现。）

```
.fit-parent {
    height: 100%;
    margin: 0;
    padding: 0;
}
.min-fit-parent {
    min-height: 100%;
    margin: 0;
    padding: 0;
}
.below-header {
    padding-top: 30px;
}
.above-footer {
    padding-bottom: 30px;
}
.header {
    position: absolute;
    top: 0;
    height: 30px;
    width: 100%;
}
.footer {
    position: absolute;
    bottom: 0;
    height: 30px;
    width: 100%;
}

/* helper classes */

.padding-lr-small {
    padding: 0 5px;
}
.relative {
    position: relative;
}
.auto-scroll {
  overflow: auto;
}
/* these two classes work together to create vertical centering */
.valign-outer {
    display: table;
}
.valign-inner {
    display: table-cell;
    vertical-align: middle;
}
```

```
<html class='fit-parent'>
  <body class='fit-parent'>
<div class='min-fit-parent auto-scroll relative' style='background-color: lightblue'>
<div class='header valign-outer' style='background-color: black; color: white;'>
        <div class='valign-inner padding-lr-small'>
            My webpage
        </div>
    </div>
    <div class='fit-parent above-footer below-header'>
        <div class='fit-parent' id='main-inner'>
          Lorem ipsum doloris finding dory Lorem ipsum doloris finding
          dory Lorem ipsum doloris finding dory Lorem ipsum doloris
          finding dory Lorem ipsum doloris finding dory Lorem ipsum
          doloris finding dory Lorem ipsum doloris finding dory Lorem
          ipsum doloris finding dory Lorem ipsum doloris finding dory
          Lorem ipsum doloris finding dory Lorem ipsum doloris finding
          dory Lorem ipsum doloris finding dory Lorem ipsum doloris
          finding dory Lorem ipsum doloris finding dory Lorem ipsum
          doloris finding dory Lorem ipsum doloris finding dory Lorem
          ipsum doloris finding dory Lorem ipsum doloris finding dory
          Lorem ipsum doloris finding dory Lorem ipsum doloris finding
          dory Lorem ipsum doloris finding dory Lorem ipsum doloris
          finding dory Lorem ipsum doloris finding dory Lorem ipsum
          doloris finding dory Lorem ipsum doloris finding dory Lorem
          ipsum doloris finding dory Lorem ipsum doloris finding dory
          Lorem ipsum doloris finding dory Lorem ipsum doloris finding
          dory Lorem ipsum doloris finding dory Lorem ipsum doloris
          finding dory Lorem ipsum doloris finding dory Lorem ipsum
          doloris finding dory Lorem ipsum doloris finding dory Lorem
          ipsum doloris finding dory Lorem ipsum doloris finding dory
          Lorem ipsum doloris finding dory Lorem ipsum doloris finding
          dory Lorem ipsum doloris finding dory Lorem ipsum doloris
          finding dory Lorem ipsum doloris finding dory Lorem ipsum
          doloris finding dory Lorem ipsum doloris finding dory Lorem
          ipsum doloris finding dory Lorem ipsum doloris finding dory
          Lorem ipsum doloris finding dory Lorem ipsum doloris finding
          dory Lorem ipsum doloris finding dory Lorem ipsum doloris
          finding dory Lorem ipsum doloris finding dory Lorem ipsum
          doloris finding dory Lorem ipsum doloris finding dory Lorem
          ipsum doloris finding dory Lorem ipsum doloris finding dory
          Lorem ipsum doloris finding dory Lorem ipsum doloris finding
          dory Lorem ipsum doloris finding dory Lorem ipsum doloris
          finding dory Lorem ipsum doloris finding dory Lorem ipsum
          doloris finding dory Lorem ipsum doloris finding dory Lorem
          ipsum doloris finding dory Lorem ipsum doloris finding dory
        </div>
    </div>
    <div class='footer valign-outer' style='background-color: white'>
        <div class='valign-inner padding-lr-small'>
            &copy; 2005 Old Web Design
        </div>
    </div>
</div>
    </body>
  </html>
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-11-14T00:18:38.070

这个问题已经得到了很好的回答，但我冒昧地添加了一个 javascript 解决方案。只需给要“扩展” id 的元素，`footerspacerdiv`此 javascript 片段将扩展该 div 直到页面占据浏览器窗口的整个高度。

它的工作原理是，当页面小于浏览器窗口的全高时，document.body.scrollHeight 等于 document.body.clientHeight。while 循环增加高度，`footerspacerdiv`直到 document.body.scrollHeight 大于 document.body.clientHeight。此时，`footerspacerdiv`实际上会高出 1 个像素，并且浏览器会显示一个垂直滚动条。因此，脚本的最后一行将高度降低了`footerspacerdiv`一个像素，以使页面高度与浏览器窗口的高度完全一致。

通过放置`footerspacerdiv`在页面的“页脚”上方，此脚本可用于将页脚“下推”到页面底部，以便在短页面上，页脚与浏览器窗口的底部齐平。

```
<script>    
//expand footerspacer div so that footer goes to bottom of page on short pages        
  var objSpacerDiv=document.getElementById('footerspacer');          
  var bresize=0;   

  while(document.body.scrollHeight<=document.body.clientHeight) {
    objSpacerDiv.style.height=(objSpacerDiv.clientHeight+1)+"px";
    bresize=1;
  }             
  if(bresize) { objSpacerDiv.style.height=(objSpacerDiv.clientHeight-1)+"px"; }               
 </script> 
```*

# javascript - 我应该在我的 WIN7 IE9 机器上从 MSXML4 升级还是降级

> ID：15021574
> 
> 赞同：1
> 
> 时间：2013-02-22T10:07:50.267
> 
> 标签：javascript, asp.net, .net, internet-explorer-9, msxml

我们有某些 .NET 1.1 应用程序在我们的企业 XP 机器上使用 IE7 上的 MSXML4.dll 使用基于 MSXML DOCM 的 javascript 调用（即 FreeThreadedDOM、XMLHTTP、XSLT）。当我们在使用 IE9 的新 Windows 7 机器上访问这些应用程序时，javascript 在下面的每一行中都错误地显示为“自动化服务器无法创建对象”。

```
var _xmlhttp = new ActiveXObject("Msxml2.XMLHTTP.4.0");
var _freeThreadedDOM = new ActiveXObject("Msxml2.FreeThreadedDOMDocument.4.0");
var _xsltTest = new ActiveXObject("Msxml2.XSLTemplate.4.0");
var _domTest = new ActiveXObject("Msxml2.DOMDocument.4.0"); 
```

因此，我们发现 IE9 ActiveX 设置只有 MXSML3 和 MSXML6 API 可用，因为这是 Microsoft 推荐的（3 是因为它广泛且高度支持，6 是因为它是最无错误和最轻量级的 MSXML dll）。

现在我们面临着一个两难选择，是降级到 3 还是升级到 6。

我想知道是否有人知道执行 MSXML 升级或降级是否安全，以及对 MSXML3 或 6 提供的功能（例如 XPATH 解析、XML 中的特殊字符、XSLT 转换、ASYCN HTTP）是否有任何影响在 javascript 等中。这与 MSXML4 有很大不同吗？

任何投入都会获得支持！:-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T17:56:32.873

我在不同的（VBA）解决方案中使用 MSXML，最近遇到了同样的问题。我们的 IT 部门开始从某些机器上擦除 MSXML4... 不确定他们的流程的哪一部分正在擦除它，但这不是问题。

我决定升级到 MSXML6 是因为。

*   它和 IT 控制的环境和他们的新形象有 MSXML6
*   我不打算以任何方式支持旧配置
*   我没有依赖旧（现在不受支持）功能的代码
*   MSXML6 已安装在现有设备上
*   MSXML6 更符合最终的 XML 规范
*   MSXML6 还支持本机 64 位环境

除非您需要重构大部分代码库（因为您将使用旧功能），否则我认为降级而不是升级的理由并不多。

我不能绝对说这样做是否安全，但我会说值得一试。

最好的问候和快乐的迁移。雷蒙德

# uml - BPMN 协作图中是否可以有“悬挂”的消息流？

> ID：15021575
> 
> 赞同：1
> 
> 时间：2013-02-22T10:07:51.233
> 
> 标签：uml, bpmn

我想在 BPMN 中对“开放”流程进行建模，即设计为在其执行点从将在第二时刻指定的任意实体接收消息的流程。在我看来，这最好写成一个协作图，其中包含具有空源或目标的悬挂消息流。这是标准的BPMN吗？是否有意义？还有其他方法可以解决问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:43:54.250

这似乎最好在 BPMN 中使用包含未知进程的“黑匣子”池来完成，如下所示：

[http://www.visual-paradigm.com/product/bpva/tutorials/bpmn2.jsp](http://www.visual-paradigm.com/product/bpva/tutorials/bpmn2.jsp)

# c# - C# 正则表达式在括号中返回数字

> ID：15021582
> 
> 赞同：1
> 
> 时间：2013-02-22T10:08:00.233
> 
> 标签：c#, regex

我有一个这样的字符串：

```
numbers(23,54) 
```

输入格式是这样的：

```
numbers([integer1],[integer2]) 
```

如何使用正则表达式获取数字“23”和“54”？或者还有其他更好的获取方式吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:13:11.323

您可以避免使用正则表达式，因此您的输入具有一致的格式：

```
string input = "numbers(23,54)";
var numbers = input.Replace("numbers(", "")
                   .Replace(")", "")
                   .Split(',')
                   .Select(s => Int32.Parse(s)); 
```

甚至（如果你不害怕幻数）：

```
input.Substring(8, input.Length - 9).Split(',').Select(s => Int32.Parse(s)) 
```

更新这里还有正则表达式版本

```
var numbers = Regex.Matches(input, @"\d+")
                   .Cast<Match>()
                   .Select(m => Int32.Parse(m.Value)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:12:03.300

是的 使用 (\d+) 正确获取数字 这是正确的方法

# opengl - 输入属性的顺序如何影响渲染结果？

> ID：15021584
> 
> 赞同：0
> 
> 时间：2013-02-22T10:08:03.523
> 
> 标签：opengl, glsl

两个输入变量的交换顺序会破坏渲染结果。这是为什么？

**关于它的使用的小信息：**

*   vertexPosition_modelspace 的位置为 0，vertexColor 的位置为 1
*   我绑定存储顶点位置的缓冲区并设置顶点属性指针，然后绑定并设置缓冲区的颜色

**正确的那一个：**

```
#version 130

// Input vertex data, different for all executions of this shader.
in vec3 vertexColor;
in vec3 vertexPosition_modelspace;

// Output data ; will be interpolated for each fragment.
out vec3 fragmentColor;
// Values that stay constant for the whole mesh.
uniform mat4 MVP;

void main(){    

    // Output position of the vertex, in clip space : MVP * position
    gl_Position =  MVP * vec4(vertexPosition_modelspace,1);

    // The color of each vertex will be interpolated
    // to produce the color of each fragment
    fragmentColor = vertexColor;
} 
```

![正确的订单结果](../Images/4aa840358f2fdd00d3671c73823b0827.png)

**错误一：**

```
#version 130

// Input vertex data, different for all executions of this shader.
in vec3 vertexPosition_modelspace; // <-- These are swapped.
in vec3 vertexColor;               // <--

// Output data ; will be interpolated for each fragment.
out vec3 fragmentColor;
// Values that stay constant for the whole mesh.
uniform mat4 MVP;

void main(){    

    // Output position of the vertex, in clip space : MVP * position
    gl_Position =  MVP * vec4(vertexPosition_modelspace,1);

    // The color of each vertex will be interpolated
    // to produce the color of each fragment
    fragmentColor = vertexColor;
} 
```

![在此处输入图像描述](../Images/58e60c5596852a519fd8f0eb1bfd6e36.png)

texcoords 也有同样的问题，我花了一个小时才发现问题。如果我在位置之后放置 texcoord 或颜色输入，为什么结果会损坏？顺序应该无关紧要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:24:32.867

这是因为您将数据传递给着色器时使用的顺序。在您的 OpenGL C 或 C++ 代码中，您肯定会发送顶点颜色作为第一个顶点属性，然后发送位置。如果您打算交换着色器中参数的顺序，则也必须交换它们的初始化顺序。

# .net - .net中业务逻辑层的使用

> ID：15021588
> 
> 赞同：0
> 
> 时间：2013-02-22T10:08:13.207
> 
> 标签：.net

我是 3 层架构的新手。我正在浏览 google 并找到了一些示例。通常数据库连接和方法仅在数据访问层中为 crud 操作实现。并且像必填字段验证这样的输入验证仅在表示层.那么为什么我们需要业务逻辑层。可以告诉我业务逻辑层最有用的一种情况

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:12:45.357

假设您有一个电子商务网站 - 对于某些产品组合，您会给予折扣。

折扣的逻辑不属于 UI 层 - 所有数据都已经过验证（购物篮中的产品和金额）。

它也不属于数据访问层。

这种逻辑是由业务决定的——它属于业务逻辑层，位于 UI 和数据访问之间。

# python - Python中的数组更新异常

> ID：15021591
> 
> 赞同：0
> 
> 时间：2013-02-22T10:08:16.407
> 
> 标签：python, list, return-value, multidimensional-array, mutable

我用python编写了以下代码。在 checkd 中，当我更新 d[ii][jj] 时，编译器似乎采取了自己的自由并将所有以下列条目设为 1。

代码：

```
def checkd(d, level, a, b):
i = len(b)
j = len(a)
print ['0'] + list(a)
for ii in range(i):
    for jj in range(j):
        if a[jj] == b[ii]:
            #print a[jj] +" "+ b[ii] + " Matched."
            d[ii][jj] = 1
        print b[ii] + "\t" + a[jj] + "\t" + str(d[ii][jj])
    print [b[ii]] + [str(m) for m in d[ii]]
return d

a = raw_input("First word:")
b = raw_input("Second word:")
w = input("Size of words to check:")

d = [[0]*len(a)]*len(b)

d = checkd(d, w, a, b)
print d
for x in d : print x 
```

输出：

```
First word:ascend
Second word:nd
Size of words to check:2
['0', 'a', 's', 'c', 'e', 'n', 'd']
n   a   0
n   s   0
n   c   0
n   e   0
n   n   1
n   d   0
['n', '0', '0', '0', '0', '1', '0']
d   a   0
d   s   0
d   c   0
d   e   0
d   n   1
d   d   1
['d', '0', '0', '0', '0', '1', '1']
[[0, 0, 0, 0, 1, 1], [0, 0, 0, 0, 1, 1]]
[0, 0, 0, 0, 1, 1]
[0, 0, 0, 0, 1, 1] 
```

正如您会注意到的，这不仅会导致“d”行中的一些随机匹配（d，n，1？！），返回的二维数组只是函数中最后一行的副本。

我对 Python 有一些经验。如果可能的话，我不是在寻找一种解决方法（不是我介意的）而是对这种行为的解释？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:12:40.273

这会生成一个对相同零列表的`len(b)`引用列表。`len(a)`总共创建了两个相互关联的列表。

```
d = [[0] * len(a)] * len(b) 
```

你想做的是：

```
d = [[0] * len(a) for _ in b] 
```

`int`s 是不可变的，因此它们可以安全地复制。

# android - 运行短信应用程序以获取结果

> ID：15021592
> 
> 赞同：0
> 
> 时间：2013-02-22T10:08:18.297
> 
> 标签：android, sms

您好，我想使用 android 短信应用程序制作应用程序，我想要的流程是：

我的应用程序-> Android SMS 应用程序（本机、handcent 等）->（发送消息后）我的应用程序（检查是否发送了短信）。

我知道这在 iPhone 上是可能的，但在 android 上呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T10:48:35.907

经过一些研究，我发现使用本机应用程序是不可能的。我只能在自己的应用程序中执行此操作。

# r - 在 R 的数据框中插入“空”行（填充）

> ID：15021595
> 
> 赞同：1
> 
> 时间：2013-02-22T10:08:21.210
> 
> 标签：r, row, dataframe

**问题已解决，在帖子底部添加了解决方案！**

我想知道如何通过在现有行之间插入行（不附加到末尾）来“填充”数据框。

我的情况如下：

*   我有一个包含大约 1700 个案例和 650 个变量的数据集
*   某些变量可能的答案类别从 0 到 100（问题是：“多少百分比...”-> 人们可以填写从 0 到 100）
*   现在我想在 geom_area() 中显示其中一个变量（我们称之为**var ）的分布。**

问题：

1) 我需要一个范围从 0 到 100 的 X 轴

**2) 没有选择var**中所有可能的百分比值，例如我有 30 倍的答案“20%”，但没有答案“19%”。对于 x 轴，这意味着 x 位置 19 处的 y 值为“0”，x 位置 20 处的 y 值为“30”。

为了准备我的数据（这个变量）以使用 ggplot 绘制它，我通过 table 函数对其进行了转换：

```
dummy <- as.data.frame(table(var)) 
```

现在我有一个包含答案类别的列“Var1”和一个包含每个答案类别计数的列“Freq”。

我总共有 57 行，这意味着没有说明 44 个可能的答案（值从 0% 到 100%）。

示例（我的数据框），“Var1”包含给定的答案，“Freq”计数：

```
 Var1 Freq
1     0    1
2     1   16
3     2   32
4     3   44
5     4   14
...
15   14    1
16   15  169 # <-- See next row and look at "Var1"
17   17    2 # <-- "16%" was never given as answer 
```

现在我的问题是：如何创建一个新的数据框，在第 16 行之后插入一行（“Var1”=15），我可以将“Var1”设置为 16，将“Freq”设置为 0？

```
 Var1 Freq
...
15   14    1
16   15  169
17   16    0 # <-- This line I like to insert
18   17    2 
```

我已经尝试过这样的事情：

```
dummy_x <- NULL
dummy_y <- NULL

for (k in 0:100) {
  pos <- which(dummy$Var1==k)
  if (!is.null(pos)) {
    dummy_x <- rbind(dummy_x, c(k))
    dummy_y <- rbind(dummy_y, dummy$Freq[pos])
  }
  else {
    dummy_x <- rbind(dummy_x, c(k))
    dummy_y <- rbind(dummy_y, 0)
  }
}

newdataframe <- data.frame(cbind(dummy_x), cbind(dummy_y)) 
```

这导致 dummy_x 有 101 个值（从 0 到 101，正确）的错误，但 dummy_y 只包含 56 行？

结果应该是这样绘制的：

```
plot(ggplot(newdataframe, aes(x=Var1, y=Freq)) +
   geom_area(fill=barcolors, alpha=0.3) +
   geom_line() +
   labs(title=fragetitel, x=NULL, y=NULL)) 
```

在此先感谢，丹尼尔

**这个问题的解决方案**

```
plotFreq <- function(var, ftitle=NULL, fcolor="blue") {
# create data frame from frequency table of var
# to get answer categorie and counts in separate columns
dummyf <- as.data.frame(table(var))
# rename to "x-axis" and "y-axis"
names(dummyf) <- c("xa", "ya")
# transform $xa from factor to numeric
dummyf$xa <- as.numeric(as.character(dummyf$xa))
# get maximum x-value for graph
maxval <- max(dummyf$xa)
# Create a vector of zeros 
frq <- rep(0,maxval)
# Replace the values in freq for those indices which equal dummyf$xa
# by dummyf$ya so that remaining indices are ones which you 
# intended to insert 
frq[dummyf$xa] <- dummyf$ya
# create new data frame
newdf <- as.data.frame(cbind(var = 1:maxval, frq))
# print plot
ggplot(newdf, aes(x=var, y=frq)) +
  # fill area
  geom_area(fill=fcolor, alpha=0.3) +
  # outline
  geom_line() +
  # no additional labels on x- and y-axis
  labs(title=ftitle, x=NULL, y=NULL)
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:21:23.757

尝试这样的事情

```
 insertRowToDF<-function(X,index_after,vector_to_insert){
      stopifnot(length(vector_to_insert) == ncol(X)); # to check valid row to be inserted
      X<-rbind(X[1:index_after,],vector_to_insert,X[(index_after+1):nrow(X),]);
      row.names(X)<-1:nrow(X);
      return (X);
 } 
```

你可以用

```
df<-insertRowToDF(df,16,c(16,0)); # inserting the values (16,0) after the 16th row 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T10:41:34.457

我认为这是更简单的解决方案。循环不是必需的。想法是创建一个所需结果大小的向量，所有值都设置为零，然后用频率表中的非零值替换适当的值。

```
> #Let's create sample data
> set.seed(12345)
> var <- sample(100, replace=TRUE)
> 
> 
> #Lets create frequency table
> x <- as.data.frame(table(var))
> x$var <- as.numeric(as.character(x$var))
> head(x)
  var Freq
1   1    3
2   2    1
3   4    1
4   5    2
5   6    1
6   7    2
> #Create a vector of 0s 
> freq <- rep(0, 100)
> #Replace the values in freq for those indices which equal x$var  by x$Freq so that remaining 
> #indices are ones which you intended to insert 
> freq[x$var] <- x$Freq
> head(freq)
[1] 3 1 0 1 2 1
> #cbind data together 
> freqdf <- as.data.frame(cbind(var = 1:100, freq))
> head(freqdf)
  var freq
1   1    3
2   2    1
3   3    0
4   4    1
5   5    2
6   6    1 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-18T13:15:48.543

这是 Aditya 的代码加上一些处理特殊情况的条件：

```
insertRowToDF<-function(X,index_after,vector_to_insert){
  stopifnot(length(vector_to_insert) == ncol(X)); # to check valid row to be inserted
  if (index_after != 0) {
  if (dim(X)[1] != index_after) {
  X <- rbind(X[1:index_after,], vector_to_insert, X[(index_after+1):nrow(X),]);
  } else {
  X <- rbind(X[1:index_after,], vector_to_insert);
  }
  } else {
  if (dim(X)[1] != index_after) {
  X <- rbind(vector_to_insert, X[(1):nrow(X),]);
  } else { 
  X <- rbind(vector_to_insert);
  }
  }
  row.names(X)<-1:nrow(X);
  return (X);
 } 
```

# sql - 如何加速 SQL 查询

> ID：15021596
> 
> 赞同：1
> 
> 时间：2013-02-22T10:08:30.497
> 
> 标签：sql, sql-server

我是 MS SQL-Server 的新手。但是已经有问题了。
我有一个查询：

```
 with by_segment as (
    SELECT  
    Road.Road_ID,
    GEOMETRY::STGeomFromText(Track.Track.STAsText(),4326) as the_geom,
    row_number() over (partition by road_id order by Segment_Id) as [rn],
    count(*) over (partition by road_id) as [c]
 FROM dbo.Road
 LEFT JOIN Segment_ID  ON Road.Road_ID = Segment_ID.Road_ID
 LEFT JOIN Track ON Segment_ID.Segment_ID = Track.Segment_ID
 ),
roads_by_segment as ( 
select 
  road_id,
  the_geom,
  [rn],
  [c]
from by_segment
where [rn] = 1

union all

select 
   [a].road_id,
   [a].the_geom.STUnion([b].the_geom),
   [b].[rn],
   [b].[c]
from by_segment as [a]
inner join roads_by_segment as [b]
 on [a].segment_id = b.[segment_id]
 and [a].[rn] = [b].[rn]+1 
)

select * from roads_by_segment where [rn] = [c] 
```

它的作品，但它需要很多时间。我的意思是当我按下执行查询时，我会在 2 秒内得到结果，但查询仍然工作大约 5 分钟。
我认为这是因为这里的选择太多。有选择功能的需要`geometry1.STUnion(geometry2)`。
它可以从这个怪物查询中发挥作用吗？并且使用函数可以使这个查询更快？

**更新**

我想创建视图以在 Geoserver 上发布它。但我对几何有疑问。我有线段的几何形状。

我想我会谈谈表结构。我有 3 张桌子：

追踪

```
Segment_ID(character),
Track (geometry) 
```

Segment_ID

```
Segment_ID(character),
Road_ID(character) 
```

路

```
Road_ID(character),
Road_Name(character) 
```

在查询结果中，我想获得 Road.Name、Road.Road_ID 和所有连接在该道路的单个要素中的路段。

**更新**

我看到了一些有趣的东西。在 table Road 我有 76 行。当我按下执行查询时，我得到 75 行，5 分钟后我得到所有 76 行。所以最后一次迭代的问题。有什么问题？

**更新**

执行计划[http://sd.reborn.ru/download.php?fid=f52cb6c6146fdb993c1375f8b1da4787](http://sd.reborn.ru/download.php?fid=f52cb6c6146fdb993c1375f8b1da4787)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:43:18.210

它可以从这个怪物查询中发挥作用吗？

```
--> Yes 
```

并且使用函数可以使这个查询更快？

```
--> No 
```

很抱歉这个简短的回答。但是如果没有任何关于你的数据模型的业务规则的背景信息或关于计划的技术细节，就不可能给出详细的改进建议。

# xcode - Xcode，默认窗口布局？

> ID：15021604
> 
> 赞同：3
> 
> 时间：2013-02-22T10:08:48.433
> 
> 标签：xcode, default, preferences

没有人能够回答这个问题。

以这种方式**打开**XCode 似乎是不可能的。

然而，优素福提供了最有用的答案 - 所以优素福得到了积分，谢谢优素福。

* * *

给未来读者的注意事项.. mac 实用程序 Moom 非常适合解决某些（但不是全部）这种性质的问题。同样，它不是一个完整的解决方案。

* * *

使用当前最新的 XCode，

每当我在 XCode 中打开一个项目（或开始一个新项目）时，

它看起来像这样：

![在此处输入图像描述](../Images/e184547d7e2dd918dbf4021d361a2ea1.png)

但是，我希望它看起来像这样：

![在此处输入图像描述](../Images/ed352235e696b51de06f4574fc3ec938.png)

那是我打开一个项目的时候。

有什么办法可以做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T12:07:14.223

转到 Xcode（在顶部菜单栏中）-> 首选项...

切换到**Behaviors选项卡并在****Running**部分修改您想要的内容

你会得到这样的东西： ![在此处输入图像描述](../Images/9ea6a1490fd5642b5cd6df9232207ccf.png)

您可以选择显示/隐藏您需要的内容，并指定默认行为

干杯

**编辑：**

在了解您的需求后，我将修改我的答案。

没有办法强制 XCode 在启动时自动输入行为。

您可以做的最好的事情是创建自定义行为并为其提供键盘快捷键。当您启动 XCode 时，只需使用键盘快捷键输入所需的行为。

这是这样做的：

在“行为”选项卡（上图）中，单击底部的 + 号

![tut1](../Images/790f035ba421209f4204ef4ab4ab9e71.png)

然后输入此行为的所需名称（可能是 StartupBehavior） ![图2](../Images/61179d9cf3d9dd4c494941c1b8ee382b.png)

点击左键修改快捷键。我首选的快捷键是**Command** + **`**（“1”键左侧的按钮）。这是因为它不会覆盖任何其他命令并且很容易单击。

注意：您可以指定您喜欢的任何快捷方式，如果您不使用它，不要害怕覆盖已经存在的快捷方式。

现在你需要按照你喜欢的方式配置你的行为

![图4](../Images/580f4ccc0e1ab2391b9ed830e3d9c9d6.png) 关闭首选项窗口。

现在每次启动 XCode 时，只需使用您指定的快捷键（在我的情况下为**Command** + **`**）即可快速加载您的行为

笔记：

如果您不喜欢键盘快捷键，您还可以通过转到**Xcode**（菜单栏）->**行为**--> 选择您的行为来加载您的行为 ![图5](../Images/25fb75955d988d7afda02462a7b01862.png)

这是你实现你想要的最快的方法。我认为您无法强制 Xcode 在启动时自动运行您的行为。

希望它有所帮助。

干杯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-27T10:44:20.483

1.  *（不是真正的默认布局，一旦打开 XCode，您必须同时按下至少 2 个键）*您可以为“Build->Starts”设置一个行为，并在打开 XCode/任何项目后点击“CMD + B”。这样，即使有任何错误并且构建失败，它也会 1\. 更改为您的布局，并且 2\. 您不必再次停止它。

    *如前所述，它不是默认布局，但我喜欢让编译器在一开始就运行其他人的项目。*

    ![XCode 首选项](../Images/5048a2600d7ddc55d36c91bc937ba62c.png)

    * * *

2.  您可以按照我的评论中的建议在 XCodes 首选项文件中搜索一些键 `~/Library/Preferences/com.apple.Xcode.plist`，我没有足够的经验知道哪些是正确的，抱歉。

    * * *

3.  包装在应用程序中打开的 .xcodeproj 文件。例如，绝不是“干净”，但无论如何：

    1.  像选项 1 一样设置 XCode 行为
    2.  打开Automator，选择Application，将“open Finder Items”和“run AppleScript”拖进去。 ![自动机](../Images/7bf28d43c6e0f3c7fbfd506e461949a8.png)

        > ```
        > on run {input, parameters}
        > 
        > set frontmostAppName to name of (info for (path to frontmost application))
        > repeat while frontmostAppName is not "XCode.app"
        >     set frontmostAppName to name of (info for (path to frontmost application))
        >     delay 0.5
        > end repeat
        > try
        >     tell application "System Events" to keystroke "b" using {command down} --simulates CMD + B
        > end try
        > return input
        > 
        > end run 
        > ```

    3.  像上面那样插入一些applescript并保存Automator应用程序。

    4.  右键单击-> 在 Finder/桌面上的任何 .xcodeproj 文件上获取信息，在“打开方式”中选择您的新 Automator 应用程序，单击添加并返回到信息面板中 -> 选中“全部更改”

        * * *

您显然可以创建一个新行为而不是使用 Build->starts，在 XCode 和脚本中分配不同的热键，例如 `tell application "System Events" to keystroke "i" using {command down, control down, shift down, alt down}`，以某种方式优化 applescript，或者如果您愿意，可以通过真正的可可应用程序做所有事情

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T10:00:42.253

好吧，您也许可以使用嵌套在项目模板的默认工作区目录中的预配置 xcuserstate 文件来处理它，但这将是一个调整和维护的痛苦。我什至不确定它会起作用。

我个人会通过使用行为来解决它。

所以：

*   1) 创建行为
*   2）给它一个方便的键绑定
*   3）然后定义行为。例如：

ASCII 行为编辑器：

> ```
> ...
> 
> √ Show *Debugger* with *Console View*
> 
> √ *Hide* utilities
> 
> ... 
> ```

那应该这样做。当您想要恢复该显示状态时，只需按指定的键盘命令即可，无论其初始状态如何。

当然，您可以通过运行外部 AppleScript（由 Behavior 的运行脚本工具触发）来做一些其他事情或各种任意事情。

# linq - 在 Linq 中使用超过 2 个数据表进行内部连接

> ID：15021605
> 
> 赞同：2
> 
> 时间：2013-02-22T10:08:49.403
> 
> 标签：linq, datatable

我有 3 张桌子

t1==>

```
 t1.ID    t1.co1     t1.col2

 1       a         b              
 2       a         b 
```

t2==>

```
 t2.ID    t2.co1     t2.col2

  1       a         b              
  2       a         b 
```

t3==>

```
 t3.ID    t3.co1     t3.col2

 1       a         b              
 2       a         b 
```

我想使用 Linq 在所有三个表之间进行内部连接，并希望在第四个数据表中选择列。

等效的sql查询：

```
SELECT t1.ID,t2.col1,t3.col2 
  FROM t1
INNER JOIN t2 ON t1.ID=t2.ID
INNER JOIN t3 ON t1.ID=t3.ID 
```

t4==>

```
 t1.ID    t2.co1     t3.col2

 1        a         b              
 2        a         b 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:22:08.377

像这样的东西

```
var Result = 
    from row1 in t1
    join row2 in t2 on row1.ID equals row2.ID
    join row3 in t3 on row1.ID equals row3.ID
    select new { ID = row1.ID, Col1 = row2.col1, Col2 = row3.col2 }

DataTable dt = Result.CopyToDataTable(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:37:08.257

用于从[此处](http://social.msdn.microsoft.com/Forums/en/csharplanguage/thread/6d4e2579-f4b5-497c-ad00-7c347eb1f902)的类型`LoadDataRow()`获取 DataTable 。否则。*`anonymous`*`Result.CopyToDataTable()`

```
//Get the column list as same as table1 to new datatable
DataTable table4 = table1.Clone();

var Result = 
  from x in t1.AsEnumerable() join 
       y in t2.AsEnumerable() on x.Field<int>("ID") equals y.Field<int>("ID") join 
       z in t3.AsEnumerable() on x.Field<int>("ID") equals z.Field<int>("ID")
  select new table4.LoadDataRow( 
       new object[] { 
              x.ID, 
              y.col1, 
              z.col2 
           }, false); 
```

# javascript - 为什么调用函数增加后全局变量保持不变？

> ID：15021606
> 
> 赞同：0
> 
> 时间：2013-02-22T10:08:53.420
> 
> 标签：javascript

为什么调用自增函数后全局变量还是5？提前感谢您的帮助。

```
<script>
function increment(val) {
  val+=1;
}

var val = 5;

increment(val); 

alert(val);

</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:09:57.847

```
function increment(val) {
  val+=1;
} 
```

声明`val`你的函数的局部变量。您更改本地变量而不是外部变量。这是一样的

```
function increment(val2) {
  val2+=1;
} 
```

你可以这样做：

```
function increment(val) {
  return val+1;
}
var val=5;
val = increment(val); 
```

或者

```
function increment(holder, varname) {
  holder[varname] = holder[varname]+1;
}
var val=5;
increment(window, 'val'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:13:19.037

这是因为 Javascript 中的原始变量是**按值传递的，而不是按引用**传递的。

> 当传入像字符串或数字这样的原始类型变量时，值是按值传入的。这意味着在函数中对该变量的任何更改都与函数外部发生的任何事情完全分开

查看这个很棒的博客条目以获取有关此主题的更多信息：http: [//snook.ca/archives/javascript/javascript_pass](http://snook.ca/archives/javascript/javascript_pass)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:15:14.963

您不需要传递全局变量。当您将参数传递给函数时，它会创建变量的本地副本。因此，如果您想从函数中影响全局变量，则在调用函数时不要传递它，因为无论如何您都可以访问全局变量，而无需传递。

```
<script>
function increment() {
  val+=1;
}

var val = 5;

increment(); 

alert(val); 
```

请注意，在定义`increment()`函数时，您已将参数指定为`**val**`. 所以在函数内部，每个引用`val`都是针对这个本地参数的。如果要访问实际的全局变量，请使用`window.val`.

# android - 如何获取位于 sdcard 上的 xml 文件并读取内容？安卓

> ID：15021608
> 
> 赞同：0
> 
> 时间：2013-02-22T10:08:58.903
> 
> 标签：android, xml, string, get, sd-card

我有一个问题，我需要从我的 sdcard 目录中读取一个 xml 文件并至少保存内容，然后在 xml 标记之间选择 de 值，但是如果您可以帮助我读取和转换为字符串，它将已经很有用了。

文件目录：Environment.getExternalStorageDirectory()+ "/SCity/"+now //currentmillis 文件名：Notes.xml

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:18:22.183

您需要使用 SAX 或 DOM 解析器解析 xml。请点击以下链接：

[http://developer.android.com/training/basics/network-ops/xml.html](http://developer.android.com/training/basics/network-ops/xml.html)

[http://www.ibm.com/developerworks/library/x-android/](http://www.ibm.com/developerworks/library/x-android/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-28T19:01:39.650

将您的文件放在资产文件夹中：

```
public class Main extends Activity {

  /** Called when the activity is first created. */
  @Override
  public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Button btn = (Button) findViewById(R.id.button1);

    btn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // Load XML for parsing
            AssetManager assetManager = getAssets();
            InputStream inputStream = null;
            try {
                inputStream = assetManager.open("test.xml");
            } catch (IOException e) {

            }

            String s = readTextFile(inputStream);
            TextView tv = (TextView)findViewById(R.id.textView1);
            tv.setText(s);
        }
    });
}

private String readTextFile(InputStream inputStream) {
    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();

    byte buf[] = new byte[1024];
    int len;
    try {
        while ((len = inputStream.read(buf)) != -1) {
            outputStream.write(buf, 0, len);
        }
        outputStream.close();
        inputStream.close();
    } catch (IOException e) {

    }
    return outputStream.toString();
  }
} 
```

# primefaces - Prime Faces 主题切换器：如何将主题添加到我的项目中

> ID：15021613
> 
> 赞同：1
> 
> 时间：2013-02-22T10:09:05.213
> 
> 标签：primefaces

看我的代码

主题.xhtml

```
<h:form>
<h:panelGrid>
    <p:themeSwitcher style="width:165px" effect="fade" var="th" id="themePreview" >  
        <f:selectItem itemLabel="Choose Theme" itemValue="" />  
        <f:selectItems value="#{themeBean.themesList}" var="theme" itemLabel="#{theme.name}" itemValue="#{theme}"/>  

        <p:column>  
            <p:graphicImage value="images/#{th.image}"/>  
        </p:column>    
        <p:column>  
            #{th.name}  
        </p:column>  
    </p:themeSwitcher>  
    </h:panelGrid>
    </h:form> 
```

主题豆

```
themesList= new ArrayList<Theme>();     
    themesList.add(new Theme("afterdark","afterdark.png"));
    themesList.add(new Theme("aristo","aristo.png"));
    themesList.add(new Theme("eggplant","eggplant.png"));
    themesList.add(new Theme("humanity","humanity.png"));
    themesList.add(new Theme("sunny","sunny.png"));

}

public List<Theme> getThemesList() {
    return themesList;
}

public void setThemesList(List<Theme> themesList) {
    this.themesList = themesList;
} 
```

主题.java

```
private String name;
private String image;

public Theme(String name, String image)
{
    this.setImage(image);
    this.setName(name);
}

public String getName() {
    return name;
}

public void setName(String name) {
    this.name = name;
}

public String getImage() {
    return image;
}

public void setImage(String image) {
    this.image = image;
} 
```

我遵循了主要面孔示例。

我也在构建路径 xml 中配置了主题 jar

但我什至没有在主题切换器（列表框）中获得选择

谁能建议我该怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:52:52.987

请参阅[Primefaces 主题切换器示例](http://code.google.com/p/primefaces/source/browse/examples/trunk/showcase/src/main/webapp/ui/themeswitcher.xhtml?r=7470)

他们展示了如何为这个非常简单的示例编写代码。

这里还有一个很好的教程[主题教程](http://courses.coreservlets.com/Course-Materials/pdf/jsf/primefaces/PrimeFaces-Themes.pdf)

# java - 如何比较类路径上两个类的公共 API？

> ID：15021618
> 
> 赞同：1
> 
> 时间：2013-02-22T10:09:29.760
> 
> 标签：java, classpath, junit4

在我的项目中，我依赖于`org.slf4j-api:1.7.2`and `org.eclipse.equinox:org.eclipse.equinox.http.jetty:2.0.100`。

*Jetty 团队中的*某*`org.slf4j.Logger`个人将这两个类复制到`org.slf4j.LoggerFactory`了他们的 JAR 中。*谢谢你**

 *现在我`org.slf4j.Logger` **在 classpath 上有两次**。只要它们的公共 API 相同，这不是一个*大问题。*

如何编写一个测试来确保两个类文件的公共 API 相同？

**编辑**用反射检查类看起来是一个明显的解决方案，但我如何加载它们？有两种资源`org/slf4j/Logger.class`可用。如何将原始`.class`文件转换为`java.lang.Class`我可以检查的文件？

`Class.forName()`在我的情况下不起作用，因为那只会给我两者之一（我什至不知道哪一个）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:12:41.910

该`javap`程序列出了一个类文件的 API。你这样称呼它：

```
javap -classpath [your_classpath] -public org.slf4j.LoggerFactory 
```

这将打印公共成员列表，但您也可以键入`javap -help`以查看其他选项。

另一种方法是编写一个 Java 程序，它使用反射来列出每个类的 API，但我认为这种方法会更容易，并且完全符合您的需要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:13:16.687

您是否可以反思以获取公共方法并通过名称及其参数来比较它们。这会很混乱，但是可以进行测试。

此外，如果它只是一次性的，您可以浏览资源。*

# php - Symfony2在菜单中添加活动类

> ID：15021623
> 
> 赞同：0
> 
> 时间：2013-02-22T10:09:49.000
> 
> 标签：php, class, symfony, twig

```
{% for node in menu.nodes %}
<li><a href="{{ page_url(node,node.defaultParams) }}">{{ node.title }}</a></li>
{% endfor %} 
```

有没有一种简单的方法可以为当前节点添加一个 class="active" ？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T14:56:11.157

我倾向于用宏来解决它。它是这样工作的（直接在这里输入未经测试的代码）：

```
{% macro menuitem(route, params, text) %}
{% set _url = path(route, params) %}
  <li{% if _url == app.request.requesturi %} class="current"{% endif %}>
    <a href="{{ _url }}">{{ text }}</a>
  </li>
{% endmacro %} 
```

如果您现在生成的路线是用户请求的路线，则此方法将添加当前类。

为了更简单的使用导入它：`{% from _self import menuitem %}`

用法：`{{ menuitem("blogpost", { "id": 1 }, "my first blogpost") }}`

另请注意，我使用的是 silex，当前请求可通过 访问`app.request`，不确定是否在全栈框架中。

# c# - appdomain 回调：程序集加载

> ID：15021628
> 
> 赞同：1
> 
> 时间：2013-02-22T10:10:06.430
> 
> 标签：c#, appdomain

我是 C# 的初学者，我正在学习一本关于 AppDomain 的 C# 教科书。

这是我在教科书“C# 4.0 in a Nutshell 4e (O'Reilly)”中找到的内容

让我们重温最基本的多域场景：

```
static void Main()
{
    AppDomain newDomain = AppDomain.CreateDomain ("New Domain");
    newDomain.ExecuteAssembly ("test.exe");
    AppDomain.Unload (newDomain);
} 
```

在单独的域上调用 ExecuteAssembly 很方便，但几乎没有与域交互的机会。它还要求目标程序集是可执行文件，并将调用者提交到单个入口点。结合灵活性的唯一方法是采用一种方法，例如将一串参数传递给可执行文件。
强大的方法是使用 AppDomain 的 DoCallBack 方法。这在另一个应用程序域上执行，一个给定类型的方法。类型的程序集会自动加载到域中（如果当前域可以引用它，CLR 将知道它所在的位置）。在以下示例中，当前正在执行的类中的方法在新域中运行：

```
class Program
{
    static void Main()
    {
        AppDomain newDomain = AppDomain.CreateDomain ("New Domain");
        newDomain.DoCallBack (new CrossAppDomainDelegate (SayHello));
        AppDomain.Unload (newDomain);
    }
    static void SayHello()
    {
        Console.WriteLine ("Hi from " + AppDomain.CurrentDomain.FriendlyName);
    }
} 
```

在这里，SayHello() 方法存在于同一个 Program 类中。根据声明，

> “类型的程序集会自动加载到域中（如果当前域可以引用它，CLR 将知道它所在的位置）。”

这意味着，如果 SayHello() 方法存在于其他第三方程序集中，那么该程序集是否也会被加载？我不明白这个说法。你能帮我吗？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T14:54:13.493

> 但提供与域交互的机会很少

这完全是 AppDomain 的重点。它能够*隔离*程序集和数据是它们存在的原因。每个 AppDomain 都有自己的垃圾收集堆和即时编译的代码，独立于另一个 AppDomain 中的代码和数据。它是在单独进程中运行代码的替代方案，是一种性能更高的替代方案，因为在 Windows 中跨越进程边界既困难又昂贵。

这在服务器场景中得到了利用，SQL Server 和 ASP.NET 是主要的例子。他们接受来自客户端的服务请求并在单个进程中执行它。隔离为服务进程提供了非常强的生存保证。如果代码炸弹出于任何原因，那么服务器可以发回“对不起，没有工作”的响应。并通过终止服务请求线程并卸载 AppDomain 来从未处理的异常中恢复，丢弃不再可靠的程序状态。服务器一直嗡嗡作响，好像什么都没发生一样。

在默认的 CLR 主机上，AppDomain 几乎没有实际用途，只有一个：卸载程序集的能力。它允许实现插件式框架，按需加载和卸载代码。否则无法卸载程序集，这会产生太多即时生成的机器代码可能导致崩溃的方式。在 AppDomain 中生成它允许丢弃该代码，从而使卸载程序集成为可能。

代价当然是两个 AppDomain 之间交换数据很麻烦，数据必须从一个 GC 堆复制到另一个。.NET 很好地支持它，这要归功于 Remoting。但是数据本身必须具有跨界复制的能力，要么是[Serializable]，所以它可以按值封送，或者通过从MarshalByRefObject派生，所以它可以被代理。

您可以通过使用 AppDomain.Load() 在 AppDomain 中加载程序集并使用 Assembly.CreateInstance() 在 AppDomain 中创建对象来进一步提升 ExecuteAssembly() 的原始示例。几乎所有关于如何在 .NET 中支持插件的 google 点击都很好地涵盖了这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T17:50:12.877

> 这意味着，如果 SayHello() 方法存在于其他第三方程序集中，那么该程序集是否也会被加载？

不，不是那个意思。如果我们把上一句从正文中拆分出来，会更容易理解：

> 这在另一个应用程序域上执行，一个给定类型的方法。

在您的示例中，方法是`SayHello`，类型是`Program`。

> 类型的程序集会自动加载到域中

定义类型的程序集将被加载到新的应用程序域。这是从包含`Program`该类的项目构建的程序集。

> （如果当前域可以引用它，CLR 将知道它所在的位置）。

CLR 知道这个程序集的位置，因为它已经加载到您的主应用程序域中。对于所有加载的类型，找到包含它们的程序集的位置是很简单的。您在本书的前几章中已经看到了如下代码：

```
Assembly a = typeof(Program).Assembly; 
```

或者

```
Assembly a = anObject.GetType().Assembly; 
```

拥有`Assembly`对象后，您可以访问该`Location`属性并获取已加载程序集的完整路径。

所以这条语句的意思是，包含回调方法类型的程序集会被自动加载到新的应用程序域中。因此，如果您想在新的`AppDomain`. 缺点是之后您无能为力。`AppDomain`除非您使用某种跨 AppDomain 通信，例如`.NET Remoting`Hans 提到的，否则您无法与新的对象进行通信`WCF`。

# jquery - 将宽度设置为零，包括 DIV 的填充

> ID：15021634
> 
> 赞同：1
> 
> 时间：2013-02-22T10:10:32.747
> 
> 标签：jquery, css

我对 jQuery 和 CSS 非常陌生，我正在尝试使用以下 jQuery 代码为 .iDoElement 类的两个 DIV 设置动画：

```
$( '.iDoElement' ).each(function () {
        var randomDelay = Math.floor(Math.random() * 600);          
        $(this).delay(randomDelay).animate ({width:0}, 1000); 
    }); 
```

...但是两个 div 都定义了 padding-right 和 padding-left，这意味着它们的宽度不会为 0（我在网上看到 div 的宽度会影响其内容并忽略填充）。

如何解决？animatind padding-left 和 padding-right 为零也是唯一的解决方案吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:44:19.030

这似乎有效：http: [//jsfiddle.net/G6bTD/](http://jsfiddle.net/G6bTD/)

```
$('.iDoElement').each(function () {
    var randomDelay = Math.floor(Math.random() * 600);
    $(this).delay(randomDelay).animate({width:'toggle'}, 1000); 
}); 
```

# asp-classic - 从另一个asp页面调用函数

> ID：15021635
> 
> 赞同：1
> 
> 时间：2013-02-22T10:10:45.503
> 
> 标签：asp-classic

我有两个 .asp 页面（abc1.asp，abc2.asp）。我想从abc1.asp页面中的abc2.asp调用函数。怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T11:48:45.637

创建第三个文件，可能称为 functions.asp - 将您的函数放入其中，然后通过包含文件语句将其包含在 abc1.asp 和 abc2.asp 中 - 见下文

```
<!--#include file="functions.asp"--> 
```

# java - 将远程文件流式传输到文件对象中

> ID：15021638
> 
> 赞同：9
> 
> 时间：2013-02-22T10:10:51.757
> 
> 标签：java, sshj

如果有人知道如何将远程文件直接流式传输到文件对象中的快速方法，那么无需将文件临时存储在计算机上，将不胜感激！到目前为止，我从远程 ios 设备复制文件如下（使用 net.schmizz.sshj）：

```
SSHClient ssh = new SSHClient();
ssh.addHostKeyVerifier(fingerprint);
ssh.connect(ip);

try {
    ssh.authPassword("username", "userpassword".toCharArray());
    ssh.newSCPFileTransfer().download(fileRemote, new FileSystemFile(fileLocal));
} catch (IOException ioe) {
    ioe.printStackTrace();
} finally {
    ssh.disconnect();
} 
```

**如果有人对解决方案的代码感兴趣：**

正如 Nutlike 在他的回答中提到的，最好使用`InMemoryDestFile`. 所以创建以下类：

```
class MyInMemoryDestFile extends InMemoryDestFile {
    public ByteArrayOutputStream outputStream = new ByteArrayOutputStream();

    @Override
    public ByteArrayOutputStream getOutputStream() throws IOException {
        return this.outputStream;
    }
} 
```

...在您执行下载操作的方法中，创建新类的实例：

```
MyInMemoryDestFile a = new StreamingInMemoryDestFile(); 
```

并访问输出流：

```
ssh.newSCPFileTransfer().download(remoteFile, a);
a.getOutputStream().toByteArray(); 
```

此致

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T10:29:13.593

[使用InMemoryDe​​stFile](http://static.javadoc.io/com.hierynomus/sshj/0.22.0/net/schmizz/sshj/xfer/InMemoryDestFile.html)代替[FileSystemFile](http://static.javadoc.io/com.hierynomus/sshj/0.22.0/net/schmizz/sshj/xfer/FileSystemFile.html)还不够吗？

编辑：……然后使用[*getOutputStream()*](http://static.javadoc.io/com.hierynomus/sshj/0.22.0/net/schmizz/sshj/xfer/LocalDestFile.html#getOutputStream%28%29)访问“文件”……</p>

# c# - Linq 交叉表和分组

> ID：15021641
> 
> 赞同：2
> 
> 时间：2013-02-22T10:11:04.533
> 
> 标签：c#, asp.net, linq, entity-framework, pivot

我有一组看起来像这样的数据：

```
ItemID | ProcessID | Sequence
Item 1 | ProcessA  | 1 
Item 1 | ProcessB  | 2 
Item 3 | ProcessA  | 1 
Item 2 | ProcessA  | 1 
Item 1 | ProcessC  | 3
Item 3 | ProcessB  | 2 
```

ETC

我想创建一个格式化数据的 linq 查询，如下所示：

```
ItemID | Sequence 1 | Sequence 2 | Sequence 3 | Sequence N 
Item 1 | ProcessA   | ProcessB   | ProcessC 
Item 2 | ProcessA   |  
Item 3 | ProcessA   | ProcessB 
```

ETC

是否有捷径可寻？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:00:34.607

我假设了避免动态列的进程数。不理想，但它适用于我的应用程序。

```
public static IQueryable GetProcessesForAllItems()
{
    var ctx = new CS3Entities();

    var allprocesses = (from pi in ctx.ProcessesItems
                        orderby pi.SequenceNumber descending
                        select new
                                   {
                                       pi.ItemID,
                                       pi.ProcessID,
                                       pi.SequenceNumber
                                   });

    var query = allprocesses
        .GroupBy(c => c.ItemID)
        .Select(g => new
                         {
                             ItemId = g.Key,
                             Seq100 = g.FirstOrDefault(c => c.SequenceNumber == 100).ProcessID,
                             Seq200 = g.FirstOrDefault(c => c.SequenceNumber == 200).ProcessID,
                             Seq300 = g.FirstOrDefault(c => c.SequenceNumber == 300).ProcessID,
                             Seq400 = g.FirstOrDefault(c => c.SequenceNumber == 400).ProcessID,
                             Seq500 = g.FirstOrDefault(c => c.SequenceNumber == 500).ProcessID,
                             Seq600 = g.FirstOrDefault(c => c.SequenceNumber == 600).ProcessID,
                             Seq700 = g.FirstOrDefault(c => c.SequenceNumber == 700).ProcessID,
                             Seq800 = g.FirstOrDefault(c => c.SequenceNumber == 800).ProcessID,
                             Seq900 = g.FirstOrDefault(c => c.SequenceNumber == 900).ProcessID,
                             //etc
                         });
    return query;

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T12:07:22.013

我会使用纯 sql 方式来解决这个问题。所以这里给你一个建议：

**测试数据**

```
CREATE TABLE #T
(
    ItemID VARCHAR(100),
    ProcessID VARCHAR(100), 
    Sequence INT
)
INSERT INTO #T
VALUES
    ('Item 1','ProcessA',1), 
    ('Item 1','ProcessB',2),
    ('Item 3','ProcessA',1),
    ('Item 2','ProcessA',1),
    ('Item 1','ProcessC',3),
    ('Item 3','ProcessB',2) 
```

**枢轴的列**

```
DECLARE @cols VARCHAR(MAX)
;WITH CTE
AS
(
SELECT
    ROW_NUMBER() OVER(PARTITION BY Sequence ORDER BY Sequence) AS RowNbr,
    'Sequence '+CAST(t.Sequence AS VARCHAR(10)) AS Sequence
FROM
    #T AS t
)
SELECT @cols=STUFF
(
    (
        SELECT
            ',' +QUOTENAME([Sequence])
        FROM
            CTE
        WHERE CTE.RowNbr=1
        FOR XML PATH('')
    )
,1,1,'') 
```

执行动态枢轴

```
DECLARE @query NVARCHAR(4000)=
N'SELECT
    *
FROM
(
    SELECT
        t.ItemID,
        t.ProcessID,
        ''Sequence ''+CAST(t.Sequence AS VARCHAR(10)) AS Sequence
    FROM
        #T AS t
) AS SourceTable
PIVOT
(
    MAX(ProcessID)
    FOR Sequence IN ('+@cols+')
) AS p' 
```

执行（@查询）

删除临时表

```
DROP TABLE #T 
```

# sql - 将 varchar 转换为 int

> ID：15021642
> 
> 赞同：-1
> 
> 时间：2013-02-22T10:11:05.593
> 
> 标签：sql, type-conversion

我有以下代码；我正在尝试将 varchar 转换为 int，但出现错误。

基本上我想得到以下结果：

```
@OutletID = 423,324 
```

任何人都可以帮忙吗？

```
Declare @outlet varchar(1000),
    @outletID int

Select @outlet = '423,324'

Select '@Outlet',@outlet

Select @OutletID = Convert(int, @outlet, @OutletID) 
```

将 varchar 值“423,324”转换为数据类型 int 时转换失败

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:12:10.523

在转换之前删除逗号（我假设它们是千位分隔符）：

```
select @OutletID = cast(replace(@outlet, ',', '') as int) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:21:33.423

根据您的问题，您可以将`REPLACE`其用作演员表的一部分：

```
select cast(replace(replace(@v3, char(13), ''), char(10), '') as int) 
```

如果这是经常发生的事情，最好清理数据并修改表格的填充方式以在输入之前删除 CR 和 LF。

或者去这个链接：

[http://msdn.microsoft.com/en-IN/library/ms187928.aspx](http://msdn.microsoft.com/en-IN/library/ms187928.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:14:30.817

在转换之前使用替换功能删除所有逗号。[演示](http://sqlfiddle.com/#!3/d41d8/9315)

```
declare @outlet varchar(1000)= '3,324,345', @outletId int

select @outletId = convert(int,replace(@outlet,',',''))
select @outletId 
```

或者，如果您试图将它们分成两个变量（根据上面的评论），那么；[演示](http://sqlfiddle.com/#!3/d41d8/9321)

```
declare @outlet varchar(1000)= '123,345', @id1 int, @id2 int

select @id1=left(@outlet,charindex(',',@outlet,1)-1),
       @id2=right(@outlet,len(@outlet)-charindex(',',@outlet,1))

select @id1,@id2 
```

# wso2 - WSO2 BAM 程序

> ID：15021643
> 
> 赞同：1
> 
> 时间：2013-02-22T10:11:10.133
> 
> 标签：wso2, wso2bam

我想在 WSO2 BAM 中编写自己的代码。我浏览了提供的样品。

现在我想知道我应该如何编写那些 JAVA 类。我应该采用什么方法。什么都是必要的文件。应该使用什么IDE。

我想创建项目并在 WSO2 BAM 上运行它，并且需要有关如何进行的指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:51:24.700

你在说什么 Java 类？在 WSO2 BAM 中，您不需要编写 Java 代码。您只需要编写类似于 SQL 查询的 Hive 查询来对 BAM 进行编程。这些查询将在内部创建 Hadoop map-reduce 作业。阅读[文档](http://docs.wso2.org/wiki/display/BAM220/WSO2+Business+Activity+Monitor+Documentation)以获取更多详细信息。

# blackberry - 从我的网络服务器上的 OTAInstall 下载 .jad 文件

> ID：15021644
> 
> 赞同：0
> 
> 时间：2013-02-22T10:11:11.867
> 
> 标签：blackberry, webserver

我为黑莓开发了一个应用程序并构建了它。我有 2 个文件夹 OTAinstall 和 StandardInstall...

我已将我的 OTAInstall 文件放在服务器上。我导航到 .jad 文件以在我的手机上安装它..但我无法下载..我错过了在服务器上部署它的任何步骤吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T05:22:15.287

您需要修改`.htaccess`网络服务器上的文件，才能正确识别 .jad 和 .cod 文件。

将以下行添加到您`.htaccess`的网络服务器上的文件中。

```
AddType text/vnd.sun.j2me.app-descriptor jad
AddType application/vnd.rim.cod cod 
```

# logging - 如何打印或保存 Symbian 设备日志到文件

> ID：15021645
> 
> 赞同：0
> 
> 时间：2013-02-22T10:11:12.743
> 
> 标签：logging, symbian

任何人都可以告诉我如何获取 Symbian 设备日志并将它们保存到文件中，例如 Android 中的 Logcat 设备日志。

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T07:16:14.500

真实设备不等于模拟器。手机中没有加载DLL文件或进程的日志。如果你想记录一些东西，那么你必须在你的应用程序中自己做。

# windows-runtime - WinRT - 规模为 100 的徽标未在应用程序清单中加载

> ID：15021646
> 
> 赞同：3
> 
> 时间：2013-02-22T10:11:15.477
> 
> 标签：windows-runtime, windows-store-apps

尝试在应用清单编辑器中选择具有不同缩放比例的图像时遇到一些问题。以下图像位于资产文件夹中：

*   标志.png
*   Logo.scale-100.png
*   Logo.scale-140.png
*   Logo.scale-180.png

在“Logo”中有“Assets/Logo.png”，编辑器会检测到 scale-100 之外的所有徽标文件。它说文件夹中有带有和不带有缩放限定符的徽标，并且它忽略了没有限定符的徽标。

问题是，即使尝试手动分配 logo.scale-100.png，它也不会出现在“scale 100”插槽中。

这发生在我尝试分配的所有图像上。基于文件和文件夹的命名约定也有同样的问题。

如果有人能指出正确的方向，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T14:17:25.460

问题已解决（感谢 filip）：

删除了 Logo.png 文件！VS2012 仍然在“Logo:”字段上显示“Assets/Logo.png”，但在相应的插槽中显示正确的 scale-100 图像。

# iphone - 使用 url 架构打开 wifi 设置

> ID：15021659
> 
> 赞同：0
> 
> 时间：2013-02-22T10:12:05.173
> 
> 标签：iphone, objective-c, ios6, wif

我需要打开wifi设置，我写了这一行

```
NSURL * appStoreUrl = [NSURL URLWithString: @ "prefs: root = WIFI"];
         [[UIApplication sharedApplication] openURL: appStoreUrl]; 
```

但它不起作用，我应该添加其他东西还是......？也许你可以告诉我如何在我的应用程序中打开 wifi -screen。谢谢，我用的是 iOS 6.1。和

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-11-13T19:15:01.407

尝试使用它访问 iOS 5.1 中的 WiFi 设置

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"prefs:root=WIFI"]]; 
```

* * *

尝试使用它来访问 iOS 9 中的 WiFi 设置

```
if (&UIApplicationOpenSettingsURLString != NULL) { 
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"prefs:root=WIFI"]]; 
} 
```

尝试添加像[stackoverflow.com/a/31253743/3668465](https://stackoverflow.com/a/31253743/3668465)这样的 prefs tu URL 方案。

* * *

您可以使用此选项来识别 SSID：

iOS >= 4.1 可以获取设备当前连接的无线网络的 SSID。

为此，您将使用函数[CNCopyCurrentNetworkInfo](http://CNCopyCurrentNetworkInfo)

实现细节：[iPhone 获取 SSID 没有私有库](http://iPhone%20get%20SSID%20without%20private%20library)

* * *

问题示例->[如何在 iOS9 中以编程方式打开目标 c 中的 WIFI 设置](https://stackoverflow.com/questions/33437815/how-to-programmatically-open-the-wifi-settings-in-objective-c-in-ios9/33676848#33676848)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:17:27.353

在 ios < 5.1 中，苹果支持您所描述的[快捷方式网址。](http://holgr.com/blog/2011/11/no-jailbreak-necessary-how-to-quickly-access-ios-settings-on-your-ipad-iphone-or-ipod/)但后来对于 ios >= 5.1 苹果[停止](http://www.iphonehacks.com/2011/11/apple-disables-home-screen-shortcuts-for-settings-toggles-in-ios-5-1.html)了它。

# ruby - 检查与厨师的联系

> ID：15021660
> 
> 赞同：2
> 
> 时间：2013-02-22T10:12:05.793
> 
> 标签：ruby, chef-infra, chef-recipe

我需要检查与厨师的联系。

我在尝试。

```
execute "check_sayc" do
command "$comprobacionPuerto='nc -zw3 server port && echo 'opened'
|| echo 'closed'|grep 'opened' if  [[ -z $comprobacionPuerto ]]
then Chef::Log.fatal 'connections refuse' else Chef::Log.info 'connections open' fi'"
end 
```

但

```
Mixlib::ShellOut::ShellCommandFailed: execute[check_sayc]
(cb_prueba_frontal_deploy_databag::default line 7) had an error:    
Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received
'127' 
```

怎么了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T11:20:56.670

您正在混合使用 shell 代码和 Ruby 代码`execute`来完成无法以这种方式工作的事情。此外，您在`command`.

我不确定执行您在那里尝试的操作是否有意义`nc`，但使用纯红宝石可能更容易：

```
ruby_block "check sayc" do
  block do
    server = "www.google.com"
    port = 80

    begin
      Timeout.timeout(5) do
        Socket.tcp(server, port){}
      end
      Chef::Log.info 'connections open'
    rescue
      Chef::Log.fatal 'connections refused'
    end
  end
end 
```

这应该与您尝试实现的目标相同，但避免了订单问题以及如何将 shellout 的输出传输回 ruby​​ 以在 Chef 中处理的问题。

编辑：我将连接尝试包装到超时块中。这可能会泄漏半开的套接字，直到它们稍后被垃圾收集。但我认为这在 Chef 环境中是安全的。

# linux - 用于熊猫板的 linux i2c 驱动程序

> ID：15021661
> 
> 赞同：0
> 
> 时间：2013-02-22T10:12:06.183
> 
> 标签：linux, module, kernel, drivers, i2c

我正在尝试为 omap4460 熊猫板编写 linux i2c 驱动程序。通过 i2c 接口将 Hmc5883l 传感器连接到 omap。我需要只编写客户端潜水员还是客户端和总线驱动程序。我在熊猫板上使用 linux ubuntu。小子给我指点我从哪里开始。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:10:28.160

Linux 内核中已经有 omap4460 的总线驱动程序。您可以查看内核消息以查看是否在引导期间启用了此驱动程序。如果您的兴趣只是访问设备，您可以从用户空间执行此操作，而无需编写客户端驱动程序。[这里](https://xgoat.com/wp/2007/11/11/using-i2c-from-userspace-in-linux/)有一个很好的教程。但是，如果您正在编写一个驱动程序作为练习，或者您需要访问驱动程序中的其他内核功能，那么您可以查看内核的 drivers/rtc 目录中的任何驱动程序，那里有很多很好的例子。

刚刚在 drivers/staging/iio/magnetometer 中找到了 hmc5843 的[iio](/questions/tagged/iio "显示标记为“iio”的问题")驱动程序，它与您想要的非常相似，如果幸运的话，它可能会立即工作而无需任何修改。

# objective-c - 在 OS X 上推送视图动画

> ID：15021664
> 
> 赞同：0
> 
> 时间：2013-02-22T10:12:09.867
> 
> 标签：objective-c, macos, cocoa, quartz-core

我正在尝试添加推送动画，同时在一种图像滑块中显示不同的视图。幻灯片按预期显示，但没有任何动画。我正在使用以下代码行来创建动画。*（self 是 NSView 的子类）*

```
[NSAnimationContext beginGrouping];

CATransition *transition = [CATransition animation];
[transition setDuration:0.33f];
[transition setType:kCATransitionPush];
[transition setSubtype:kCATransitionFromLeft];
[transition setTimingFunction:[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut]];
[self setAnimations:[NSDictionary dictionaryWithObject:transition forKey:@"subviews"]];

[[self animator] replaceSubview:self.displayedSlide with:slideToDisplay];

[NSAnimationContext endGrouping]; 
```

知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T13:35:40.150

我不得不添加`[self setWantsLayer:YES];`，现在它可以工作了。

# bash - 如何在 bash 下从 unix 时间戳设置日期/时间

> ID：15021668
> 
> 赞同：3
> 
> 时间：2013-02-22T10:12:19.557
> 
> 标签：bash, datetime, unix-timestamp, busybox

如何在 bash 下从 unix 时间戳设置日期/时间

```
root@M501 />date
Thu Jan  1 00:10:49 UTC 1970
root@M501 />date +%s
652
root@M501 />date +%s -s "`date +%s`"
date: invalid date `662' 
```

如您所见， date +%s -s "2323123" 不起作用：/

[已解决] ..在 bash 下我可以使用

```
date +%s -s "@`date +%s`" 
```

或者

```
date -s @1361529589 
```

谢谢！

Question #2 如何在busybox下实现？

```
root@M501 />date -s @1361529589
date: invalid date `@1361529589' 
```

也许有办法

```
echo '1361529589' > /dev/unix_time_stamp_or_whatever ? :) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:33:41.580

您需要在数字前加上`@`符号，以便`date`命令知道它表示[自 Epoch 以来的秒数](http://www.gnu.org/software/coreutils/manual/html_node/Seconds-since-the-Epoch.html#Seconds-since-the-Epoch)。试试这个：

```
date +%s -s @`date +%s` 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T10:27:01.507

使用这样的东西：

```
date -s @435456646 
```

# android - 如何在 iPhone 应用和 Android 应用中自动刷新 Facebook 访问令牌？

> ID：15021671
> 
> 赞同：3
> 
> 时间：2013-02-22T10:12:32.580
> 
> 标签：android, iphone, ios, facebook

我正在为 Facebook 用户开发适用于 iPhone 和 Android 的产品。由于“offline_access”权限已从 Facebook Graph API 中删除，并且访问令牌的生命周期只能延长到 60 天，我想知道是否有办法自动刷新访问令牌。有人有好主意吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:16:17.023

您无需关心刷新令牌，facebook sdk 会自动处理

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:27:12.523

在 ios 中，您可以使用以下方法扩展令牌：

```
- (void)extendAccessToken {
    if (_isExtendingAccessToken) {
        return;
    }
    _isExtendingAccessToken = YES;
    NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:@"auth.extendSSOAccessToken", @"method", nil];
    [self requestWithParams:params andDelegate:self];
}

//+ * Calls extendAccessToken if shouldExtendAccessToken returns YES.

- (void)extendAccessTokenIfNeeded {

    if ([self shouldExtendAccessToken]) {
        [self extendAccessToken];
    }
}

//  Returns YES if the last time a new token was obtained was over 24 hours ago.

- (BOOL)shouldExtendAccessToken {
        if ([self isSessionValid]){
        NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
        NSDateComponents *components = [calendar components:NSHourCalendarUnit fromDate:_lastAccessTokenUpdatetoDate:[NSDate date]options:0];

        if (components.hour >= kTokenExtendThreshold) {
            return YES;
        }
    }
    return NO;
} 
```

如本[链接所示](https://github.com/facebook/facebook-ios-sdk/commit/4aa2a663b2b735cc736b4177a1947e176d9f4446)

# linq - 通过 Linq 访问 Excel 表（ListObject）

> ID：15021681
> 
> 赞同：1
> 
> 时间：2013-02-22T10:13:00.270
> 
> 标签：linq, excel, vsto, listobject

我需要在 Excel 中（以编程方式）创建一个表，然后`ListObject`通过 Linq 访问该表所基于的表。必须尽快完成。我已经挖掘了大量的例子，但我找不到让我满意的解决方案。大多数对 Excel 数据的 Linq 查询都需要 openXML 并访问整个文件。我需要在应用程序级插件中执行此操作，并访问特定工作表。

我也想过绑定`ListObject`数据表，然后使用Linq。但我不能绑定`DataTable`到`ListObject`已经存在的（数据表会删除数据`ListObject`）

有没有人试过这个？

# confluence - 为什么 Confluence 不允许我配置我的 Bamboo 小工具？

> ID：15021692
> 
> 赞同：0
> 
> 时间：2013-02-22T10:13:20.333
> 
> 标签：confluence, bamboo

我通过在两个方向（两个链接，每个在一个方向）添加应用程序链接，将我的 Bamboo 与 Confluence 集成在一起。然后我将 Bamboo 的小工具提要添加到 Confluence，这样我就可以使用 Bamboo 小工具了。

现在，当我尝试将任何 Bamboo 小工具添加为宏时，它们会显示出来，因此至少应该已经找到并集成了它们。
然而，当我尝试配置它时，我只能配置宽度、边距和作者。其他所有属性貌似都在预览中设置，是空的，所以无法配置或使用这些小工具。

关于为什么会这样的任何想法？
（gadget-URL 应该是正确的，因为 Confluence 可以识别这些小工具。我只是无法配置或添加它们。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:38:20.853

出现问题是因为我使用的是 Chrome。当我尝试使用 Firefox 配置小工具时，它运行良好。原因是 Chrome 的默认安全设置干扰了我当前的 Confluence 设置（如此[处](https://confluence.atlassian.com/display/BAMKB/Bamboo+Gadgets+doesn%27t+show+content+on+some+browsers)所述）。

通过允许 Chrome 显示不安全的内容，我能够配置和添加 Bamboo 小工具。

# php - HighCharts 月份/多个数据数组错误

> ID：15021700
> 
> 赞同：0
> 
> 时间：2013-02-22T10:13:51.650
> 
> 标签：php, sql-server, json, highcharts

我的问题如下：

我有一个数据库，它为我提供了两组信息，如下图所示：

[http://i.imgur.com/tlVtVTX.png](http://i.imgur.com/tlVtVTX.png)

我不太清楚我的 PHP/JSON 或 SQL 是否是这里的问题。我知道我的 JSON 数据集应该有多个数据，例如：

[{"name":"Person1","data":[123123, etc, etc, etc]}

我的问题是它显示为：

[{"name":"Person1","data":[123123]}

[{"name":"Person1","data":[2345436]}

JSON（因隐私问题而更改名称和编号）：

```
[{"name":"Person1","data":[123123]},{"name":"Person1","data":[123123]}
,{"name":"Person2","data":[123123]},{"name":"Person2","data":[123123]}
,{"name":"Person3","data":[123123]},{"name":"Person3","data":[123123]}
,{"name":"Person4","data":[123123]},{"name":"Person4","data":[123123]}] 
```

SQL（也改变了，应该是相同的查询）：

```
$SQL = "SELECT ISNULL(USERNAME) AS Accountmanagers, xMonth AS xMonth, ROUND(SUM(report.[FATDOLLARS(EUR)]), 0) AS COGS
FROM SecretDB 
WHERE xYear = '2013'
GROUP BY ISNULL(USERNAME), xMonth
ORDER BY ISNULL(USERNAME), xMonth 
```

我的查询如下所示：

[http://i.imgur.com/q4QCsRF.png](http://i.imgur.com/q4QCsRF.png)

这是我用于 JSON 数据的 php：

```
while( $row = sqlsrv_fetch_array( $somevariablehere, SQLSRV_FETCH_ASSOC) ) 
{

    $name = $row['Accountmanagers'];

    $categories = array($row['xMonth']);

    $data = array($row['COGS']);

    $arr[] = array('name' => $name, 'data' => $data);  
}

$arr = json_encode($arr, JSON_NUMERIC_CHECK);

echo $arr; 
```

HighChart（“系列：json”替换为虚拟数据）：

```
<script>
$(function () {
    var chart3;
    $(document).ready(function() {

       // $.getJSON("account.php", function(json) {

            chart3 = new Highcharts.Chart({
                chart: {
                    renderTo: 'accountmanagers',
                    type: 'column'
                },
                title: {
                    text: '2012'
                },
                xAxis: {
                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dec'],
                    title: { text: 'Month'}
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Revenue'
                    }
                },
                legend: {
                    layout: 'vertical',
                    backgroundColor: '#FFFFFF',
                    align: 'left',
                    verticalAlign: 'top',
                    x: 100,
                    y: 70,
                    floating: true,
                    shadow: true
                },
                tooltip: {
                    formatter: function() {
                         return '<b>'+ this.series.name +'</b><br/>'+
                            this.x +': '+ this.y +'€';
                    }
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                    series: [{"name":"Person1","data":[12528]},{"name":"Person1","data":[2658]},{"name":"Person2","data":[27368]},{"name":"Person2","data":[30793]},{"name":"Person3","data":[64987]},{"name":"Person3","data":[21582]},{"name":"Person4","data":[53735]},{"name":"Person4","data":[14810]}]
            });
       // });
    });

});
        </script> 
```

我不知道您是否需要更多信息，如果需要，请告诉我。

我想组合“人员”或 Accountmanager 值，当然要在几个月内将它们分散，而不是为每个数据创建新系列。

提前致谢 ：-）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T08:45:56.210

我发现了错误——它是 SQL 查询，我做了一大堆左外连接，（在多次复制/粘贴之后）给了我每个月的数据，其中包含一个 series.name。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:21:31.603

您需要为您在类别中提到的所有月份为每个用户提供值。您为每个人分别传递了 2 个值，这就是为什么您只获得 JAN 的图表

前任

```
series: [{
            name: 'Person1',
            data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]

        }, {
            name: 'Person2',
            data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]

        }] 
```

高图提供的[小提琴](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/demo/column-basic/)样本

# jquery-ui - 具有交替 z 索引的图像 JQuery UI

> ID：15021701
> 
> 赞同：0
> 
> 时间：2013-02-22T10:13:55.793
> 
> 标签：jquery-ui, z-index, draggable

我发现了另一个具有类似问题的问题，但无法确定如何应用该解决方案。我的网页是相互重叠的可拖动图像的简单组合。我想要的只是一个图像在点击时出现在其他图像之上。

每个法师当前都用作拖动的跨度元素 - 我是否需要将所有单独的图像作为 div 元素才能使解决方案起作用？我需要对每个图像应用初始 z-index 吗？（现在没有应用 z-indexes）

这是我正在使用的代码

```
<div id="wrapper">

<span id="drag" style=""><a href="javascript:void(0)" id="paragraphAnchor">    
<img src="images/logoweb.png" width="198" height="198" style="" /></a></span>

<div id="text">   

<p id='a'>

<span style="background:#0C6;">

text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text   
<br/><br/>

<a href="#">website</a>

<br/><br/>

<a href="javascript:void(0)" id="paragraphAnchor5">close</a>

</p>

</span> 
```

以及每个元素的 JQuery

```
$(document).ready(function()

                        {

                            $('#drag').draggable( { containment: 'window' } );/*.resizable();*/

                        }); 
```

```
 $(document).ready(function()
                       {

                        $('p#a').hide();
                        $('p#b').hide();

                        $('a#paragraphAnchor') .click(function() {
                             return false;
                              }).dblclick(function() 

                                                             {

                                                                 $('p#a').slideToggle('slow');
                                                                 $('p#b').hide();

                                                             }); 
```

这是我为类似查询[更改 z-index 以使单击的 div 出现在 top 上](https://stackoverflow.com/questions/8568158/changing-z-index-to-make-a-clicked-div-appear-on-top)找到的代码。我一直在尝试将解决方案集成到我自己的代码中，但不知道我哪里出错了。这可能是我混淆的元素或错误的编码

刚开始使用 JQuery，任何适合解决方案的帮助都将非常感激。我敢肯定，毫无疑问，这很简单

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T16:23:22.850

您的代码似乎没有特别提到您所说的您正在尝试做的事情。只有一张图片，点击它只会返回 false。双击它会使下面的隐藏段落出现。（一般来说，人们不希望双击网页上的东西——我建议在大多数情况下不要使用它。）

也就是说，我想我理解你的要求，好消息是它真的很简单。这是一个展示它是如何工作的小提琴：http: [//jsfiddle.net/ce5gw/2/](http://jsfiddle.net/ce5gw/2/)

玩弄它，你会看到它是如何工作的。三个红色块是 div，旨在充当图像；您可以用图像替换`div.imgGoesHere`元素。你会注意到你可以拖动它们，当你拖动它们时，你拖动的那个总是在顶部。拖动第一个 div 使其部分位于第二个 div 之上。现在单击第二个，您会看到它弹出到前面，即使无需将其拖动到任何地方。问题解决了。

现在我将引导您完成代码。

```
 $('.drag').draggable({
        containment: 'parent',
        stack: '.drag'
    }) 
```

我们开始让类`drag`的所有东西都成为可拖动的项目。它们被限制为只能在其父元素的空间内拖动，即`div.wrapper`. 如果您愿意，可以将其改回“窗口”。这里最重要的是`stack: '.drag'`。这样设置它，当您拖动一个项目时，它总是会显示`drag`在 z 顺序中类项目的顶部。

但是当你不想拖动一个项目时，你只是希望它在单击时弹出到前面呢？这就是下一个块所做的。

```
 .on('click', function () {
        var el = $(this), // The image that was clicked
        max = 0;
        // Find the highest z-index
        $('.drag').each(function () {
            // Find the current z-index value
            var z = parseInt($(this).css("z-index"), 10);
            // Keep either the current max, or the current z-index, whichever is higher
            max = Math.max(max, z);
        });
        // Set the box that was clicked to the highest z-index plus one
        el.css("z-index", max + 1);
    }); 
```

这直接来自您链接到的另一个问题，并且在那里得到了很好的解释。任何时候`drag`单击 class 的元素（这链接到上面的第一个声明，所以我们仍然在`drag`这里讨论 class 的元素）这会查看 class 的每个项目`drag`，找到具有最高 z-index 的项目，并设置单击的元素的新 z-index 比该数字大一。

如果您对此有任何疑问，请务必告诉我。

# jquery - 在所有页面中持久的jQuery背景更改器？

> ID：15021703
> 
> 赞同：0
> 
> 时间：2013-02-22T10:14:01.220
> 
> 标签：jquery, background, persistence, swap

我正在尝试为我的网站构建一个后台更改器，它工作正常，除了当您移动到不同的页面时更改会丢失。

当您更改页面但没有快乐时，我尝试了几种方法来使更改坚持下去。

这是带有一些测试图像的 jQuery：

```
$(function() {
$(".bgCollection").change(function() {
    if ($("#wood").is(":checked")) {
        $('#background img:first').attr('src', 'http://cdnimg.visualizeus.com/thumbs/7f/78/gfx,wood-7f78592c9a6ed3390492c560c5ac6fec_h.jpg');
    }
    if ($("#steel").is(":checked")) {
        $('#background img:first').attr('src', 'http://www.aroorsteelcorporation.com/full-images/stainless-steel-834007.jpg');
    }
    if ($("#metal").is(":checked")) {
        $('#background img:first').attr('src', 'http://i00.i.aliimg.com/photo/v0/468538622/Brushed_metal_texture_prepainted_metal.jpg');
    }
}); }); 
```

这是html：

```
<input name="BG" id="wood" type="radio" value="" class="bgCollection" />
<label for="radio">
  Wood
</label>
<input name="BG" id="steel" type="radio"  class="bgCollection"/>
<label for="radio">
  Steel
</label>
<input name="BG" id="metal" type="radio" value="" class="bgCollection"/>
<label for="radio">
  Black metal
</label> 
```

我试图将当前的 src 值传递给一个变量，并让脚本在页面加载时设置它，但无法让它工作。

任何帮助都会很棒。谢谢，亚伦。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:22:52.413

您可以使用 jquery-cookie 脚本设置 cookie 来跟踪更改：[https ://github.com/carhartl/jquery-cookie](https://github.com/carhartl/jquery-cookie)

javascript:

```
$(function() {

    // get cookie
    var background = $.cookie('background');

    // update background
    changeBackground(background);

});

function saveBackground(background) {

    // set cookie
    $.cookie('background', background);

    // change background
    changeBackground(background);

}

// background changer
function changeBackground(background) {

    switch (background) {

        case "steel":
            $('#background img:first').attr('src', 'http://www.aroorsteelcorporation.com/full-images/stainless-steel-834007.jpg');
            break;

        case "metal":
            $('#background img:first').attr('src', 'http://i00.i.aliimg.com/photo/v0/468538622/Brushed_metal_texture_prepainted_metal.jpg');
            break;

        case "wood":
        default:
            $('#background img:first').attr('src', 'http://cdnimg.visualizeus.com/thumbs/7f/78/gfx,wood-7f78592c9a6ed3390492c560c5ac6fec_h.jpg');
            break;
    }
} 
```

html:

```
<input id="wood" type="radio" value="" onclick="saveBackground('wood');" />
    <label for="radio">  Wood</label>

<input id="steel" type="radio" onclick="saveBackground('wood');"/>
    <label for="radio">  Steel</label>

<input id="metal" type="radio" onclick="saveBackground('wood');"/>
    <label for="radio">  Black metal</label> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T12:44:32.837

新代码如下所示：

```
 $('<div id="bg_swapper"><div id="one" class="bgCollection"><p class="ocr">Swap Background</p></div><div id="two" class="bgCollection"><p class="ocr">Swap Background</p></div><div id="three" class="bgCollection"><p class="ocr">Swap Background</p></div></div>').insertBefore('.vines_left_top');

$('#bg_swapper p').hide();

 $('#one, #two, #three').mouseover(function() {
     $(this).stop(true).animate({width: '230px'}, 300);
     $(this).children('p').show().css('text-indent','0px');
 });
  $('#one, #two, #three').mouseout(function() {
     $(this).stop(true).animate({width: '20px'}, 300);
    $(this).children('p').hide().css('text-indent','999px');
 });

$('#one').click(function(e) { 
$('#background img:first').attr('src', 'http://cdnimg.visualizeus.com/thumbs/7f/78/gfx,wood-7f78592c9a6ed3390492c560c5ac6fec_h.jpg');
});
$('#two').click(function(e) { 
$('#background img:first').attr('src', 'http://www.aroorsteelcorporation.com/full-images/stainless-steel-834007.jpg');
});
$('#three').click(function(e) { 
$('#background img:first').attr('src', 'http://i00.i.aliimg.com/photo/v0/468538622/Brushed_metal_texture_prepainted_metal.jpg');
}); 
```

它使用动画 div 和 mouseover/out 功能而不是单选按钮。

如何将 cookie 功能与这种新方法联系起来？

谢谢，亚伦。

# amcharts - 在 Javascript Amchart 中设置 balloonText

> ID：15021715
> 
> 赞同：0
> 
> 时间：2013-02-22T10:14:41.820
> 
> 标签：amcharts

我正在使用javascript Amchart。我需要将 balloonText 设置为

```
 if value is "1" means "1 point" as balloonText , 
  if more than one means(Ex:5), "5 points " as balloonText . 
```

谁能帮我实现这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-27T16:31:04.680

您可以通过在数据数组中定义一个变量来在悬停气球中分配用户定义的文本，如下所示。

```
var d = {
    date: new Date(year_s,mon_s,date_s,hr_s,min_s,sec_s),
    customBullet: "round",
    balloonTextField: value+" points"
}; 
```

然后您必须将新创建的变量分配到如下图所示。

```
graph.balloonText = "[[balloonTextField]]";
chart.addGraph(graph); 
```

# c# - C# WPF 从工作线程更新 UI

> ID：15021719
> 
> 赞同：0
> 
> 时间：2013-02-22T10:14:46.637
> 
> 标签：c#, wpf, user-interface

```
using System;
using System.Linq;
using Microsoft.Practices.Prism.MefExtensions.Modularity;
using Samba.Domain.Models.Customers;
using Samba.Localization.Properties;
using Samba.Persistance.Data;
using Samba.Presentation.Common;
using Samba.Presentation.Common.Services;
using System.Threading;

namespace Samba.Modules.TapiMonitor
{
    [ModuleExport(typeof(TapiMonitor))]
    public class TapiMonitor : ModuleBase
    {

        public TapiMonitor()
        {
            Thread thread = new Thread(() => OnCallerID());
            thread.SetApartmentState(ApartmentState.STA); //Set the thread to STA
            thread.Start();
        }

        public void CallerID()
        {
            InteractionService.UserIntraction.DisplayPopup("CID", "CID Test 2", "", "");
        }

        public void OnCallerID()
        {
            this.CallerID();
        }
    }
} 
```

我正在尝试向用 C# 制作的开源软件包添加一些东西，但我遇到了问题。上述（简化）示例的问题是，一旦调用 InteractionService.UserIntraction.DisplayPopup 我得到一个异常“调用线程无法访问此对象，因为不同的线程拥有它”。

我不是 C# 编码器，但我已经尝试了很多方法来解决这个问题，比如 Delegates、BackgroundWorkers 等等，但到目前为止没有一个对我有用。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:19:42.090

考虑通过 Dispatcher 调用 UI 线程上的方法。在您的情况下，我相信您应该将 UI 调度程序作为参数传递给您描述的类型的构造函数并将其保存在一个字段中。然后，在调用时，您可以执行以下操作：

```
if(this.Dispatcher.CheckAccess())
{
    InteractionService.UserInteration.DisplayPopup(...);
}
else
{
    this.Dispatcher.Invoke(()=>this.CallerID());
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:06:03.190

您可以编写自己的 DispatcherHelper 以从 ViewModel 访问 Dispatcher。我认为它是 MVVM 友好的。我们在我们的应用程序中使用了这样的实现：

```
public class DispatcherHelper
    {
        private static Dispatcher dispatcher;

        public static void BeginInvoke(Action action)
        {
            if (dispatcher != null)
            {
                dispatcher.BeginInvoke(action);
                return;
            }
            throw new InvalidOperationException("Dispatcher must be initialized first");
        }

        //App.xaml.cs
        public static void RegisterDispatcher(Dispatcher dispatcher)
        {
            DispatcherHelper.dispatcher = dispatcher;
        }
    } 
```

# perl - 如何使用 sed/awk/perl 在两列之间插入双引号 (")

> ID：15021720
> 
> 赞同：2
> 
> 时间：2013-02-22T10:14:52.280
> 
> 标签：perl, sed, awk

我有一个包含内容的文件：

```
Version:2.0 
```

我需要以下格式的输出：

```
"Version":"2.0" 
```

我应该如何在这些列中插入双引号？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:36:07.860

简单的单行：

```
perl -plwe 's/([^:]+)/"$1"/g' 
```

取任何不是冒号的内容并在其周围加上引号。由于该`-l`选项，我们避免了这种情况，包括最后的换行符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:20:21.500

```
sed -r 's/(^|$)/"/g;s/:/":"/' file

kent$  echo "Version:2.0"|sed -r 's/(^|$)/"/g;s/:/":"/'  
"Version":"2.0" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T10:24:05.323

```
awk -F":" -v OFS=":" '{for(i=1;i<=NF;i++){$i="\""$i"\"";}print}' 
```

测试：

```
> echo "Version:2.0" | awk -F":" -v OFS=":" '{for(i=1;i<=NF;i++){$i="\""$i"\"";}print}'
"Version":"2.0" 
```

或者

```
perl -F -lane 'for(@F){$_="\"".$_."\"";}print join ":",@F' 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T10:25:57.470

```
 perl -lpe'$_ = join ":",map qq{"$_"},split /:/' myfile 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-22T12:21:21.537

这是另一种`sed`选择：

```
echo Version:2.0 | sed 's/[^:]*/"&"/g' 
```

输出：

```
"Version":"2.0" 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T10:21:06.960

在 perl 中，你可以这样做：

```
perl -pe "s/([^:]+):(.+)/\"\1\":\"\2\"/" YourTextFile.txt 
```

**编辑 1：**在 Linux 中，使用`$1`and`$2`而不是`\1`and`\2`会导致应该引用的字符串为空 - 然后输出为 '"":""'。我认为这是因为美元`$`在某些 *nix shell 中是一个特殊字符。逃避美元也有效：

```
perl -pe "s/([^:]+):(.+)/\"\$1\":\"\$2\"/" YourTextFile.txt 
```

**编辑2：**正如@TLP 所建议的，使用单引号是*nix 的方法，因为它避免了shell 插值并且还允许删除所有转义。

```
perl -pe 's/([^:]+):(.+)/"$1":"$2"/' YourTextFile.txt 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-22T10:29:04.273

我认为这个`awk`片段可能会有所帮助：

```
gawk -F: '{gsub("\"", "\"\""); \
  for(i=1;i<NF;i++) printf("\"%s\":",$i); \
  printf("\"%s\"\n",$NF); }' testfile 
```

它做了额外的工作并将现有报价加倍。

为了创建测试文件，我使用了以下代码：

```
cat << EODATA > testfile
Version:2.0
Some:field:with:double(")quotes
EODATA 
```

# mesh - libmesh：未启用并行网格

> ID：15021724
> 
> 赞同：2
> 
> 时间：2013-02-22T10:14:56.483
> 
> 标签：mesh

我正在尝试安装`libmesh`并行计算（固体力学问题）。
在安装过程中，我可以看到配置摘要，其中指出我在计算机上安装了几乎所有依赖项，但是一些重要的功能，例如`infinite elements`并`node constraints`没有启用。

以下是`configure`命令的摘要日志：

```
 ----------------------------------- SUMMARY -----------------------------------

  Package version.................... : libmesh-0.9.1pre

  C++ compiler type.................. : gcc4.6
  C++ compiler....................... : mpicxx
  C compiler......................... : mpicc
  Fortran compiler................... : mpif90
  Build Methods...................... : dbg devel opt

  CPPFLAGS...(dbg)................... : -DDEBUG -D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC
  CXXFLAGS...(dbg)................... : -O0 -felide-constructors -g -ansi -pedantic -W -Wall -Wextra -Wno-long-long -Wunused -Wpointer-arith -Wformat -Wparentheses -std=c++0x -Woverloaded-virtual -fopenmp
  CFLAGS.....(dbg)................... : -g -Wimplicit -fopenmp

  CPPFLAGS...(devel)................. :
  CXXFLAGS...(devel)................. : -O2 -felide-constructors -g -ansi -pedantic -W -Wall -Wextra -Wno-long-long -Wunused -Wpointer-arith -Wformat -Wparentheses -Wuninitialized -funroll-loops -fstrict-aliasing -std=c++0x -Woverloaded-virtual -Wdisabled-optimization -fopenmp
  CFLAGS.....(devel)................. : -O2 -g -Wimplicit -funroll-loops -fstrict-aliasing -fopenmp

  CPPFLAGS...(opt)................... : -DNDEBUG
  CXXFLAGS...(opt)................... : -O2 -felide-constructors -funroll-loops -fstrict-aliasing -std=c++0x -Wdisabled-optimization -fopenmp
  CFLAGS.....(opt)................... : -O2 -funroll-loops -fstrict-aliasing -fopenmp

  Install dir........................ : /usr/local
  Build user......................... : mubeen
  Build host......................... : Khwarizmi
  Build architecture................. : x86_64-unknown-linux-gnu
  Git revision....................... : 8fbff282323e513a967bd53345316c26c6a54107

  Library Features:
    adaptive mesh refinement......... : yes
    complex variables................ : no
    example suite.................... : yes
    ghosted vectors.................. : yes
    high-order shape functions....... : yes
    id size (boundaries)............. : 2 bytes
    id size (dofs)................... : 4 bytes
    id size (processors)............. : 2 bytes
    id size (subdomains)............. : 2 bytes
    infinite elements................ : no
    Dirichlet constraints............ : yes
    node constraints................. : no
    parallel mesh.................... : yes
    performance logging.............. : no
    periodic boundary conditions..... : yes
    reference counting............... : yes
    shape function 2nd derivatives... : yes
    stack trace files................ : no
    variational smoother............. : yes
    xdr binary I/O................... : yes

  Optional Packages:
    boost............................ : yes
    cppunit.......................... : yes
    eigen............................ : yes
    exodus........................... : yes
       version....................... : v5.22
    fparser.......................... : yes
       build from version............ : release
    glpk............................. : yes
    gmv.............................. : yes
    gzstream......................... : yes
    hdf5............................. : yes
    laspack.......................... : yes
    libhilbert....................... : yes
    metis............................ : yes
    mpi.............................. : yes
    nanoflann........................ : yes
    nemesis.......................... : yes
       version....................... : v5.22
    netcdf........................... : yes
       version....................... : 4
    openmp........................... : yes
    parmetis......................... : yes
    petsc............................ : yes
       version....................... : 3.3.0
    sfcurves......................... : yes
    slepc............................ : yes
    tbb.............................. : yes
    c++ threads...................... : yes
       flavor........................ : tbb::tbb_thread
    tecio............................ : no
    tecplot...(vendor binaries)...... : yes
    tetgen........................... : yes
    triangle......................... : yes
    trilinos......................... : yes
       AztecOO....................... : yes
       NOX........................... : yes
       ML............................ : no
       Tpetra........................ : yes
       DTK........................... : no
    vtk.............................. : yes
       version....................... : 5.8.0
  -------------------------------------------------------------------------------- 
```

我也使用了该`--enable-nodeconstraint=yes`选项，但`configure`. 我将非常感谢有关此问题的任何有用的评论。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-13T15:39:24.863

## 快速回答

经常检查`configure --help`。对于 libmesh，它具有以下几行：

```
    --enable-nodeconstraint 使用节点约束支持构建
    --enable-ifem 构建无限元素

```

## 更多细节

`configure`将输出保存到文件中也很方便：

```
    配置 --enable-ifem --enable-nodeconstraint 2>&1 | 三通配置.out

```

然后检查是否`configure.out`包含正确的选项：

```
  无限元素........：是的
  狄利克雷约束............：是的
  节点约束.......................：是的

```

## 故障排除

如果它不是出于某种意外原因，您可以搜索`config.log`始终创建的文件以查找`configure`失败的特定测试。

一个好的第一种方法是运行

```
grep -B1 “编译终止” config.log

```

相当长的输出看起来像：

```
……
<很多行省略>
……
--
conftest.cpp:140:36: 致命错误: /usr/include/Eigen/Eigen: 没有这样的文件或目录..
编译终止。
--
conftest.cpp:107:36: 致命错误: /usr/include/Eigen/Eigen: 没有这样的文件或目录..
编译终止。
--
conftest.cpp:143:31：致命错误：/usr/include/glpk.h：没有这样的文件或目录...
编译终止。
--
conftest.cpp:110:31：致命错误：/usr/include/glpk.h：没有这样的文件或目录...
编译终止。

```

这清楚地表明了为什么某些功能不可用。

# ios - 带有页面卷曲和自定义方向的自定义 Segue

> ID：15021726
> 
> 赞同：3
> 
> 时间：2013-02-22T10:15:00.387
> 
> 标签：ios, objective-c, uistoryboardsegue

我正在尝试使用 Page Curl 动画推送视图控制器。我创建了一个有效的自定义 Segue：

```
- (void) perform {

UIViewController *src = (UIViewController *) self.sourceViewController;
UIViewController *dst = (UIViewController *) self.destinationViewController;    

[UIView transitionFromView:src.view
                    toView:dst.view
                  duration:0.6
                   options:UIViewAnimationOptionTransitionCurlUp
                completion:^(BOOL finished) {
                    [src.navigationController pushViewController:dst animated:NO];
                }
 ];
} 
```

当我尝试改变卷曲的方向时，问题就来了。我尝试使用或多或少像[这里](https://stackoverflow.com/questions/1625375/iphone-curl-left-and-curl-right-transitions)描述的容器。但也无法让它工作。

```
- (void) perform
{

    UIViewController *src = (UIViewController *) self.sourceViewController;
    UIViewController *dst = (UIViewController *) self.destinationViewController;    

    UIView* parent = src.navigationController.view;
    UIView* containerView = [[UIView alloc] initWithFrame:parent.frame];

    [parent addSubview:containerView];
    containerView.transform = CGAffineTransformMakeRotation(M_PI);
    [containerView addSubview:src.view];
    src.view.transform = CGAffineTransformMakeRotation(-M_PI);

    [UIView transitionFromView:containerView
                        toView:dst.view
                      duration:0.6
                       options:UIViewAnimationOptionTransitionCurlUp
                    completion:^(BOOL finished) {
                        [src.navigationController pushViewController:dst animated:NO];
                    }
     ];
} 
```

这可能吗？

谢谢。

# git-workflow - Git 工作流程图创建是通过图形/流程图设计工具完成的？

> ID：15021728
> 
> 赞同：19
> 
> 时间：2013-02-22T10:15:06.200
> 
> 标签：git-workflow

当我查看大多数网站时，人们以图片的方式展示他们的 git 工作流程。我想知道哪个工具用于相同的？
例如[https://wiki.phpbb.com/images/c/c8/Phpbb-git-workflow-small.png](https://wiki.phpbb.com/images/c/c8/Phpbb-git-workflow-small.png)
和[http://nvie.com/posts/a-successful-git-branching-model/](http://nvie.com/posts/a-successful-git-branching-model/)

我正在为企业实现 git，并希望显示类似的图表表示（如示例所示），所以我想知道是否有工具可以帮助我构建它

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2015-07-16T15:46:09.340

我向 Vincent Driessen 询问了他在博客文章[http://nvie.com/posts/a-successful-git-branching-model/](http://nvie.com/posts/a-successful-git-branching-model/)中使用的图表创建程序，他提到他使用了[Apple Keynote](https://itunes.apple.com/us/app/keynote/id409183694?mt=12&ls=1)。

就个人而言，我正在使用[draw.io](http://draw.io)来创建图表，到目前为止我很喜欢它。到目前为止它是免费的，而且使用起来非常简单。

如果您的问题是关于创建特定于您的 git 存储库历史的图表，那么我建议使用[GitFlowChart](http://beta.gitflowchart.com)。[文森特在这里](http://beta.gitflowchart.com/chart/github/nvie/gitflow)有一个显示 GitFlowChart 的示例。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-11-02T22:55:00.380

我正在为我的团队整理一份 git 工作流程手册，并发现了[GitGraph.js](http://gitgraphjs.com/)，它是开源的，对我有用。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-22T10:24:33.567

ProGit [Book](http://progit.org)使用[Dia](http://projects.gnome.org/dia/)。请参阅[repo](https://github.com/progit/progit/tree/master/figures-dia)以获得一些灵感。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-10-17T13:09:23.183

您可以使用这个[gitgraphjs](http://gitgraphjs.com/)是一个 java 脚本库，它使您能够为 git repos 或 git 概念创建可视化。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-01-29T11:47:37.280

[http://gitgraphjs.com/](http://gitgraphjs.com/)是一个选项：

```
<head>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gitgraph.js/1.15.1/gitgraph.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/gitgraph.js/1.15.1/gitgraph.min.js" />
</head>

<body>

<canvas id="gitGraph"></canvas>

<script>
var gitgraph = new GitGraph({
  template: "metro",
  orientation: "horizontal",
  mode: "compact"
});

var master = gitgraph.branch("master");

gitgraph.commit().commit().commit();         // 3 commits upon HEAD
var develop = gitgraph.branch("develop");    // New branch from HEAD
var myfeature = develop.branch("myfeature"); // New branch from develop

// Well, if you need to go deeper…

var hotfix = gitgraph.branch({
  parentBranch: develop,
  name: "hotfix",
  column: 2             // which column index it should be displayed in
});

master.commit("This commit is mine"); // Add a commit on master branch

develop.commit({
  dotColor: "white",
  dotSize: 10,
  dotStrokeWidth: 10,
  sha1: "666",
  message: "Pimp dat commit",
  author: "Jacky <prince@dutunning.com>",
  tag: "a-super-tag",
  onClick: function(commit) {
    console.log("Oh, you clicked my commit?!", commit);
  }
});
</script>
</body> 
```

由这个小提琴演示 - [https://jsfiddle.net/h5mrLesu/](https://jsfiddle.net/h5mrLesu/)

# javascript - 如何在Angularjs中设置ng-class等于某个值？

> ID：15021733
> 
> 赞同：0
> 
> 时间：2013-02-22T10:15:16.563
> 
> 标签：javascript, html, angularjs

我有一个列表，我想根据列表中的项目总数 分配一些类，例如`items-count-1`, `items-count-2`, `items-count-3`, 。`items-count-4`

我想要看起来像这样的东西：

```
li(ng-repeat="area in areas", ng-class="items-count-{areas.length}") 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:03:21.697

这里：[plnkr 示例](http://embed.plnkr.co/29FtYtwiaw9woMSetHkO/preview)

简而言之，您希望您的 ng-class 设置如下：

```
ng-class="'items-count-' + areas.length" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:09:55.293

只是双括号，即

```
li(ng-repeat="area in areas", ng-class="items-count-{{areas.length}}") 
```

# php - PHP正则表达式匹配多个条目？

> ID：15021734
> 
> 赞同：2
> 
> 时间：2013-02-22T10:15:17.420
> 
> 标签：php, regex, file

我正在逐行解析日志文件。

我想匹配以下内容：

```
"GET /manager/ HTTP/1.1" 200
"GET /manager HTTP/1.1" 200
"GET /manager HTTP/1.1" 401
"GET /manager/ HTTP/1.1" 401 
```

目前我将这些选项中的每一个分配给它自己的变量，然后执行：

```
if (strpos($line,$a) || strpos($line,$b) || strpos($line,$c) || strpos($line,$d)) 
    {
    } 
```

如果有更好的方法？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:16:50.980

此正则表达式将匹配所有四种变体：

```
^"GET /manager/? HTTP/1\.1" (200|401)$ 
```

除非您使用另一个字符作为分隔符，否则您还必须使用反斜杠转义斜杠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:35:51.513

尝试一下

```
$str = '
"GET /manager/ HTTP/1.1" 200
"GET /manager HTTP/1.1" 200
"GET /manager HTTP/1.1" 401
"GET /manager/ HTTP/1.1" 401
';

preg_match_all('#^\s*("GET\s+/manager/?\s+HTTP/1\.1"\s+(?:200|401)+)#im', $str, $match);
print_r($match[1]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:37:23.617

试试这个正则表达式`(GET|POST)\s+(.*)\s+(HTTP.*)\s+(\d{3})`这会给你`["GET", "/manager/", "HTTP/1.1", "401"]`

更新代码：

```
$logStr = '"GET /manager/ HTTP/1.1" 200
"GET /manager HTTP/1.1" 200
"GET /manager HTTP/1.1" 401
"GET /manager/ HTTP/1.1" 401
';
echo $logStr;
preg_match('/(GET|POST)\s+(.*)\s+(HTTP.*)\s+(\d{3})/', $logStr, $matches);
print_r($matches); 
```

# java - 构造函数中同步块的用途是什么？

> ID：15021735
> 
> 赞同：8
> 
> 时间：2013-02-22T10:15:17.323
> 
> 标签：java, synchronization

我们不能制作构造函数`synchronized`，但可以在构造函数中编写`synchronized`它。在什么情况下会出现这样的要求？我很开心。

```
package com.simple;
public class Test {
    public Test() {
        synchronized (this) {
            System.out.println("I am called ...");
        }
    }

    public static void main(String[] args) {
        Test test=new Test();   
        System.out.println(""+test);
    }

    @Override
    public String toString() {
        return "Test []";
    }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-22T10:17:07.830

好吧，您*可以*在构造函数中启动一个新线程。这将是非常不寻常的——当然在你提供的代码中它是没有意义的——但它可能会发生。

语言通常不会试图找出所有你能做的毫无意义的事情——它会导致一个*非常*复杂的语言规范。语言使用者也必须有一定程度的思考......

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-22T10:18:26.107

同步`this`将是一种不好的做法，因为这意味着您正在`this`从构造函数中泄漏：这是您可以让其他代码在同一个对象上同步的唯一方法。

然而，在其他一些普通锁上同步可能是合法的：构造函数确实涉及调用一些需要这种同步的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-08T08:47:40.960

它可用于确保在构造函数中安全发布非最终字段。

```
public class Test {
    int a;
    public Test() {
        synchronized (this) {
            a = 5;
        }
    } 
```

如果另一个线程接收到一个 Test 类型的对象，并且它也在该实例上进行同步，那么这会在构造函数`Test`中的块的结尾和另一个线程中的块的开头之间创建一个发生前的关系：`synchronized``synchronized`

```
public class InOneThread {
    public void run() {
        InAnotherThread.test = new Test();
    }
}

public class InAnotherThread {
     public static Test test;

     public void run() {
         if (test == null) {
             // Because assignment to `test` wasn't safely published, the
             // field could be null even if it was assigned "earlier" in real
             // time.
             return;
         }
         synchronized(test) {
             System.out.println(test.a); 
             // If no more modifications were made to 'a', this prints 5
             // (guaranteed). Without the synchronized blocks, this could 
             // print 0 (zero) or 5.
         }
     }
} 
```

然而在实践中这几乎没有用处，因为您需要同步机制来安全地将 Test 的实例从一个线程传递到另一个线程，并且同步机制本身几乎肯定已经在线程之间引入了先发生关系。

它仍然可以在一些高度特定的并发组件中使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:21:08.193

可能是您正在更改由多个线程访问的构造函数中的一些公共数据。尽管最好使用更好和简单的方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T10:23:27.783

在正常情况下，您应该没有理由这样做。

但是，如果您让`this`引用“转义”构造函数（这当然是不好的做法），那么您可能希望强制客户端代码在调用其他操作之前等待同步块完成。

例如：

```
class C {
    public C() {
        // ....
        synchronized(this) {
            someService.doSomethingWith(this);
            // some other critical stuff...
        }
    }

    public synchronized void criticalSection() {
        // ...
    }

} 
```

在这个例子中，如果你调用`criticalSection()`inside `someService`，你将被迫等到构造函数中的同步块完成。

但同样，不建议这样做，您永远不应该允许`this`逃避构造函数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-11-25T11:24:37.170

我认为 Java 的灵活性允许这样做，因为在构造函数中，您几乎可以像普通方法一样做所有事情（[Java 中的方法与构造函数](https://stackoverflow.com/questions/19061599/methods-vs-constructors-in-java)），但是如果我们这样做，这是一种不好的做法。这是一个很好的做法，我们不应该在构造函数中使用同步块，在构造函数中没有更好的做法。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-09-18T20:18:31.820

据我了解，如果您在构造函数中处理静态字段，这可能很关键。当对象正在构建时，只有创建它的线程才能访问该对象，但是如果构造函数中的静态字段值发生更改，这可能会成为问题，因为两个不同的线程可以同时创建同一类的对象，从而导致相关的冲突到静态字段。但不确定将其用于锁定是否是个*好*主意

# google-maps-sdk-ios - 如何为 iOS 的用户位置谷歌地图 SDK 添加监听器

> ID：15021736
> 
> 赞同：0
> 
> 时间：2013-02-22T10:15:21.080
> 
> 标签：google-maps-sdk-ios

如何为用户位置更改添加监听器 google maps sdk for iOS？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-09T00:42:05.423

您好，Google Maps SDK for iOS 在 GMSMapView 类中提供了一个可观察的属性 myLocation。

```
/**
 * If My Location is enabled, reveals where the user location dot is being
 * drawn. If it is disabled, or it is enabled but no location data is available,
 * this will be nil.  This property is observable using KVO.
 */
@property (nonatomic, strong, readonly) CLLocation *myLocation; 
```

有关更多信息，请参阅我的回答： [关于定位自己，一些问题](https://stackoverflow.com/questions/15266118/about-positioning-myself-some-problems/15291319#15291319)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T11:31:08.040

**更新：**这个答案不正确，请参阅罗伯特的答案。

Google Maps SDK for iOS 中似乎没有任何内容会在用户位置更改时通知您。

因此，您需要自己使用核心位置（[`CLLocationManager`](https://developer.apple.com/library/mac/#documentation/CoreLocation/Reference/CLLocationManager_Class/CLLocationManager/CLLocationManager.html)类）来监听位置变化。

# jakarta-ee - 如何在 JBoss 6 类路径中添加外部文件夹

> ID：15021737
> 
> 赞同：0
> 
> 时间：2013-02-22T10:15:21.510
> 
> 标签：jakarta-ee, websphere-7, jboss6.x

我们正在将 Web 应用程序从 websphere 迁移到 jboss 6。

在 WebSphere 中，我们在类路径 [Application Servers > Server > Process Definition > Java Virtual Machine > Classpath] 下配置一个文件夹。

/opt/folder1 /opt/location1/folder2

使用此配置，我们能够读取文件夹内的所有配置文件。例如，

/opt/folder1/config1.xml
/opt/folder1/config1.xml
/opt/location1/folder2/config3.xml

我们试图在 JBoss 中找到可以指定这些设置的位置。具体来说，我们希望在 JBoss 服务器中配置文件夹路径，以便其下的所有文件都可以通过类路径提供给应用程序。

请帮忙。

-问候
阿杰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:44:48.273

在我看来，jboss 正在使用 tomcat 作为 servlet 容器。

如果是这样，请查找名为**catalina.properties**的文件。

您会发现**common.loader**、**shared.loader**等条目...

您可以在那里添加路径条目，它们应该附加到 CLASSPATH。

# android - 光标未正确初始化？

> ID：15021738
> 
> 赞同：0
> 
> 时间：2013-02-22T10:15:24.050
> 
> 标签：android, android-sqlite

我通过定义如下创建一个数据库表： -

```
public static final String Create_Database2= "CREATE TABLE " + Table_Name2 + "("
                + play20 + " INTEGER PRIMARY KEY, "
                + play1 + " LONG, " 
                + play2 + " LONG, " 
                + play3 + " INTEGER, " 
                + play4 + " INTEGER, " 
                + play5 + " LONG, " 
                + play6 + " TEXT, " 
                + play7 + " TEXT, " 
                + play8 + " TEXT, " 
                + play9 + " TEXT, " 
                + play10 + " TEXT, " 
                + play11 + " INTEGER, " 
                + play12 + " INTEGER, " 
                + play13 + " INTEGER, " 
                + play14 + " INTEGER, " 
                + play15 + " INTEGER, " 
                + play16 + " INTEGER, " 
                + play17 + " TEXT, " 
                + play18 + " INTEGER, " 
                + play19 + " TEXT"
                + ") "; 
```

现在我像这样从中获取数据：-

```
 public Cursor getcontent()
       {
           Cursor d= database.query(DatabaseHandler.Table_Name2,allColumns,selection, null, null,null,null); 
      }
 public String[] allColumns = { DatabaseHandler.play5, DatabaseHandler.play6,DatabaseHandler.play7,
            DatabaseHandler.play8,DatabaseHandler.play9,DatabaseHandler.play10 };
String selection="playlist_id=100813"; 
```

以上是我选择数据的标准

```
 Cursor r=X.getcontent();
             if (r.getCount() > 0) {
             r.moveToFirst();
                do {
                 String id = r.getString(r.getColumnIndex("content_id"));
                      al.add(id);
                     String from_date =r.getString(r.getColumnIndex("from_date"));
                   String to_date =r.getString(r.getColumnIndex("to_date"));
                   String from_time =r.getString(r.getColumnIndex("from_time"));
                   String to_time =r.getString(r.getColumnIndex("to_time"));
                   String days =r.getString(r.getColumnIndex("days"));
                    String duration =r.getString(r.getColumnIndex("duration"));
                } while (r.moveToNext()==true);
               r.close();
                } else {
               Log.i("TAG"," No value found");
           } 
```

我在 logcat 中收到此错误

```
02-22 15:37:04.565: E/AndroidRuntime(11544): FATAL EXCEPTION: main
02-22 15:37:04.565: E/AndroidRuntime(11544): java.lang.RuntimeException: 
Unable to start activity ComponentInfo{com.example.webdata/com.example.webdata.MainActivity}:java.lang.IllegalStateException:
Couldnt read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it. 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-22T10:18:50.670

检查条件 if(r.moveToFirst()) 前进

# matlab - 找到最小化两组之间距离的像素

> ID：15021742
> 
> 赞同：0
> 
> 时间：2013-02-22T10:15:41.707
> 
> 标签：matlab, pixel, distance, minimize

我有一个声明试图实施，但对如何实施感到困惑。这是我的问题：

*   我有一张图像，其中我将一些感兴趣的像素（感兴趣的区域）设置为 value `1`。因此，我们可以说我们现在有一个具有以下值的集合，`1s`其中每个值`1`代表图像中的一个特定位置。

> C = [1 1 1 1 1 1 1 1 1 1]；

例如，`img`为了简单起见，这里的矩阵`x`如下：

```
x = [2 3 5; 5 4 5; 6 4 3; 6 5 4; 6 54 3; 6 5 3]; 
```

`x`将具有一定程度的成员资格`y`，我们将在此基础上将一些值设置为`1`。澄清一下，对于每个像素，我们将其设置为`y`= 。所以，假设是：`1``1``y`

```
y = [0 1 0; 0 1 1; 1 1 0; 0 0 1; 0 0 1; 1 1 1]; 
```

所以，`C`包含 10 `1s`。例如第一个`1`代表位置`x(1,2)`等等......

*   现在，我想检查其中`4-neighbourhoods`的像素，`C`但同时不在`C`. 也就是对周围环境。

*   现在，对于那些属于周围环境并且是 4 个邻居的像素，`C`我想选择**最小化 和 之间距离**的像素。`p`**`x``C`**

 **现在清楚了吗？你知道我怎么能绕过它吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T13:50:35.840

如果你想找到像素的 4-neighbors 中的像素`y`，而不是`y`它们自己，你可以`imdilate`这样使用：

```
msk = zeros(3);
msk(2,:) = 1;
msk(:,2) = 1;

tmp = imdilate(y,msk);

result = tmp & ~y; 
```

现在您可以将像素值设为`C(result)`，并应用您的距离函数。**

# c - C 语言关于 Pre-increment 和 Post-increment 的策略

> ID：15021751
> 
> 赞同：-4
> 
> 时间：2013-02-22T10:16:14.143
> 
> 标签：c

考虑 C 中的以下代码片段：

```
int v = 10;
int z = v;
v = v++ + ++v;
printf("v = %d\n",v); // gives 23
printf("z = %d\n",z++ + ++z); // gives 22 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:19:38.810

由于[未定义的行为](http://en.wikipedia.org/wiki/Sequence_point#Sequence_points_in_C_and_C.2B.2B)，缺少序列点。

# javascript - 如何从 server.js 获取值到 nodeJs 和 Compoundjs 上的 app 目录中的控制器

> ID：15021754
> 
> 赞同：2
> 
> 时间：2013-02-22T10:16:37.753
> 
> 标签：javascript, node.js, mongodb, environment-variables

我是 nodeJs 的新手，

我在 server.js 中声明一个变量为

```
 var globals = module.exports = function getLimits() {

params = {};
if ( process.env.NODE_ENV == "production")
 {
  params.limits = 2;
 }
 else if (process.env.NODE_ENV == "development")
 {
      params.limits = 4;     
 } else 
 {
    params.limits = 6;  
 }

return params.limits 
```

}

在我的应用程序目录上的控制器中，我试图通过使用来获取 params.limits 的值

```
compound.globals 
```

但我无论如何都没有在我的控制器上获得全局价值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-20T03:54:07.000

与自定义属性一起使用`module.exports`以公开函数：

```
module.exports.foo = function getlimits() { 
```

然后，在控制器中引用它：

```
var bar = require('foo'); 
```

# php - 将数组结果中的值存储到codeigniter中的变量

> ID：15021755
> 
> 赞同：2
> 
> 时间：2013-02-22T10:16:38.903
> 
> 标签：php, codeigniter

我有以下控制器，

```
class mycontroller extends CI_Controller
{
   public function getvalue() {
        $q= $this->db->select(array('value'))
                          ->from('settting')
                          ->get();
         $data['data']= $q->result();
             $this->load->view('myview',$data); 
    }

} 
```

在我看来：

打印_r（$数据）；

给出这样的输出

```
Array ( [0] => stdClass Object ( [value] => wwwwwwwwwwww ) [1] => stdClass Object ( [value] => 5454546 ) [2] => stdClass Object ( [value] => 6868 ) [3] => stdClass Object ( [value] => 9898 ) [4] => stdClass Object ( [value] => 7878 ) [5] => stdClass Object ( [value] => 212 ) [6] => stdClass Object ( [value] => 87878 ) [7] => stdClass Object ( [value] => 8989 ) [8] => stdClass Object ( [value] => 212 ) ) 
```

我正在尝试将每个单个值存储在变量中

当我使用时，

```
foreach($data as $row)
{
   echo $row->value;
} 
```

它给了我所有的价值，但我需要将每个值保存在变量中。

我该怎么做，像这样，

```
$var1='wwwwwwwwwwww'; // [0 ] array value  
$var2='5454546';      // [1]  array value 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:24:51.593

最好将其保存到另一个数组

```
$my_values = array();
foreach($data as $row)
{
   $my_values[] = $row->value;
} 
```

现在你有：

```
echo $my_values[0]; // wwwwwwwwwwww
echo $my_values[1]; // 5454546 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-12-30T11:10:45.823

当您打印查询变量时，

```
print_r($query); 
```

你会得到以下结果

```
Array ( [0] => stdClass Object ( 
               [Id] => 14 
               [username] => john 
               [password] => e10adc3949ba59abbe56e057f20f883e 
               [email] => john@gmail.com 
               [key] => 7f55570435fd15393f27eaac659b078a 
               [is_active] => 1 
               [gender] => Man 
               [countryid] => 1 
               [stateid] => 4 
               [cityid] => 4 
               [age] => 31 
       ) ) 
```

所以如果你想从这个数组中获取单个元素的值，你可以编写如下代码——

```
echo $query[0]->username; 
```

然后你得到以下值

```
john 
```

我希望这能解决你的问题。我相信你可能已经找到了答案。但我遇到了同样的问题，所以我认为它可能会对某人有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T10:24:06.937

你可以这样尝试

```
class mycontroller extends CI_Controller
{
   public function getvalue() {
        $q = $this->db->select(array('value'))
                  ->from('settting')
                  ->get()
                  ->result_array();
        $i = 0;
        foreach($q as $val)
        {
            ${'var' . ++$i} = $val['value']; // Here we put each value in new variable, with variable name var1, var2, ...
        }
        echo $var1;
        echo $var2;
        $this->load->view('myview',$data); 
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T10:33:25.497

你的策略完全错误。您正在从违反 MVC 规则的控制器调用 db 调用。为此创建一个模型。

```
Class Value Extends CI_Model{

function __construct(){
    parent::__construct();
}

function getValue(){
return $this->db
            ->select(array('value'))
            ->from('settting')
            ->get();
            ->result();

} 
```

现在从控制器调用它

```
class mycontroller extends CI_Controller
{
   $this->load->model('value');
   public function getvalue() {

        $data['value']= $this->value->getValue();   
        $this->load->view('myview',$data); 
    }
} 
```

现在在视图中

```
foreach($value as $row)
{
    echo $row;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T10:26:16.037

Look 数组包含“stdClass Object”对象。所以你需要将对象转换为数组。所以转换使用，

```
$data= $q->result();
$data['data']=$data->result_array();  or $data->row_array(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T10:28:25.093

您使用一些临时变量遍历结果以构造变量。但我不知道将数组值存储在单独的变量中有什么用:-)

```
$i = 0;
 foreach($data as $row)
{
  $var_.$i = $row->value;
  $i++;
} 
```

# mysql - mysql查询性能：字段位置

> ID：15021757
> 
> 赞同：1
> 
> 时间：2013-02-22T10:16:43.863
> 
> 标签：mysql, performance

是否有任何查询规则说明哪个更好首先过滤以获得最佳性能？例子：

```
SELECT * FROM table WHERE date <= '2012-08-01' AND random_field = 4684 AND primary_field = 355 
```

对比

```
SELECT * FROM table WHERE random_field = 4684 AND primary_field = 355 AND date <= '2012-08-01' 
```

哪个更快？where field 子句在查询中的位置会影响性能吗？我们是否应该比较

*   初级领域优先？
*   首先索引字段？
*   整数字段优先？
*   日期字段第一？
*   字符串字段优先？
*   子查询字段优先？

有没有你知道的流行的 mysql 查询指南？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:21:29.153

条件放在`WHERE`子句中的顺序根本不重要。重要的是你在桌子上的索引。

对于此查询：

```
SELECT * 
FROM table 
WHERE random_field = 4684 
  AND primary_field = 355 
  AND date <= '2012-08-01' ; 
```

好的索引要么是要么`(random_field, primary_field, date)`：`(primary_field, random_field, date)`。

Why? Because the columns (`random_field`, `primary_field`) that have an equality conditions are placed first in the index and then the column (`date`) with the range condition.

* * *

The name `primary_field` is rather strange. If this is indeed the `PRIMARY KEY` of the table (or if it has a `UNIQUE` constraint - and thus a unique index), this is all you need to have for this query. This (primary or unique) index is as selective as the above indexes I advised. The condition will be matched by at most one row, because of the `primary_field = @constant`, so there is no need for the extra indexes.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:23:53.913

we should follow some rules

```
1\. comparison of primary fields should come first and then indexed (because this will filter out required value )
2\. Date or range wise (example 2<id<6) should come at the end. 
```

# extjs - Ext Js 4.1 Accordion 布局展开折叠根本不起作用

> ID：15021761
> 
> 赞同：0
> 
> 时间：2013-02-22T10:16:55.257
> 
> 标签：extjs, accordion, extjs4.1

我正在尝试创建一个折叠和展开根本不起作用的手风琴布局。我正在使用 ext-4.1.0。

我创建了一个视图并使用控制器将此视图添加到另一个面板。添加 colpase 和 expand 后有一个奇怪的行为。+ 图标不会更改为 - 并且不会在第二次单击时展开。

这是代码

```
 Ext.define('AM.view.MyView' ,{
                extend:'Ext.panel.Panel',
                title: 'Accordion Layout',
                alias:'widget.myView',

                layout: {
                    type: 'accordion',
                    titleCollapse: false,
                    animate: true,
                    activeOnTop: true
                },
                width:300,
                height: 300,
                defaults: {
                    bodyStyle: 'padding:15px'
                },

                items: [{
                    title: 'Panel 1',
                    html: 'Panel content!',
                        floatable:false

                },{
                    title: 'Panel 2',
                    html: 'Panel content!',
                    floatable:false
                },{
                    title: 'Panel 3',
                    html: 'Panel content!',
                    floatable:false
                }]
            }); 
```

刚刚访问了 1 个链接（[http://www.sencha.com/forum/showthread.php?247396-4.1.3-Accordion-Layout-not-working-when-dynamically-adding-items](http://www.sencha.com/forum/showthread.php?247396-4.1.3-Accordion-Layout-not-working-when-dynamically-adding-items)）但没有帮助。

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T12:26:36.787

It seems like this is a known Sencha bug, and according to the bug report, it has been fixed in ExtJs 4.2.0

The best thing you could do is download 4.2.0 here -> [http://www.sencha.com/forum/showthread.php?251214-Ext-JS-4.2-Beta-is-Now-Available&goback=%2Egde_4423985_member_195603826](http://www.sencha.com/forum/showthread.php?251214-Ext-JS-4.2-Beta-is-Now-Available&goback=%2Egde_4423985_member_195603826)

Alternatively, you could see if you can find a patch on the net and apply that, or write your own patch and apply that yourself.

Cheers

Baz

# iphone - 如何通过 USB 以编程方式访问 Mac OS X 上的 iphone 文件系统

> ID：15021766
> 
> 赞同：7
> 
> 时间：2013-02-22T10:17:05.277
> 
> 标签：iphone, macos, filesystems, usb

我想以编程方式通过 DiskAid 或 iExplorer 等 USB 访问 iphone 文件系统

我可以使用哪个工具或库来做到这一点？

我找到了 usbmuxd, libmobiledevice, ...但不清楚如何使用它们

谢谢

# javascript - 如何在 Backbone.js 中获取错误消息？

> ID：15021768
> 
> 赞同：4
> 
> 时间：2013-02-22T10:17:07.227
> 
> 标签：javascript, java, spring, backbone.js

我有一个关于`success/error`Backbone.js 中方法回调的问题。由于我是新手，我的问题可能看起来很简单或类似的东西。

据我所知，如果服务器上没有*错误*（比如异常） ，`save()`或者`fetch()`模型的方法会触发。问题是，我应该在服务器上抛出异常以便在客户端获取错误类型吗？让我举一个例子来说明我的意思：`success`

 *例如，我在网络上有一个用户界面，它为应用程序创建了一个新用户。我的客户端看起来像这样：

```
var userView = Backbone.View.extend({

   initialize:function(){ ... },
   events: {
     'click #sign_up': 'createAccount'
   },
    createAccount: function() { 
      login = $('#login').val();
      password = $('#password').val();
      var user = new User(); // User is a model
      user.save({login: login, password: password},{
            success: function(data) {
               if (data != null) {
                  alert('success');                       
               } else {
                   alert('fail');
               }

            },
            error : function() {
                alert('error');     
            }
   }
}); 
```

因此，服务器端将是：

```
@Controller
@RequestMapping("/users")
public class UsersController {

@RequestMapping(method = RequestMethod.POST)
public @ResponseBody User createUser(@RequestBody User user) throws Exception {

    if (user == null || !user.isValid()) {
        return null;// not valid - error message 1
    }
    if (userDao.getUserByLogin(user.getLogin()) != null) {
        return null;// such user already exists! - error message 2
    }

    userDao.saveUser(user);

    return user;
} 
```

我想要的是能够相应地发送正确的错误消息。如果我 return `null`，那么回调中的 *数据*将是我在`success`发送请求之前刚刚填充的模型。如果我抛出异常，那么它将触发`error`。在这一点上，我应该采取什么方法来满足我的需求。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:23:55.410

你不应该抛出异常。好吧，您可以，但是您应该在服务器端处理异常，并且只返回正确的 HTTP 代码。

例如

如果在服务器端找不到用户，通常会返回 404 HTTP 状态码。404 将触发错误回调。

如果您想在服务器上传递一些数据（如错误消息），错误回调有多个参数。根据文档：

```
"error" (model, xhr, options) — when a model's save call fails on the server. 
```

您可以访问 xhr 对象中的错误消息。*

# http - 接受 http 获取请求中的标头设置

> ID：15021771
> 
> 赞同：0
> 
> 时间：2013-02-22T10:17:17.960
> 
> 标签：http, restsharp

我正在使用 restsharp 来消耗一个宁静的 api。以前可以工作的代码停止工作，显然是因为我必须在我的 http get 请求中设置“接受标头”。我知道，根据一些谷歌搜索，默认情况下，restsharp 设置了接受标头内容。所以我通过提琴手获得了这个http流量：

```
GET https://xxxx HTTP/1.1
Accept: application/json, application/xml, text/json, text/x-json, text/javascript, text/xml
User-Agent: RestSharp 104.1.0.0
Host: test.nortechonline.net
Cookie: username=xxxx; auth_key=xxxx; ws_key=xxxx
Accept-Encoding: gzip, deflate 
```

这是否表明启用了“接受标头”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T15:11:29.413

是的。那里有一个 Accept: XXXXX 标头。说你会接受大多数风格的 json、xml 和 javascript 作为响应。如果你看这里：w3.org/Protocols/rfc2616/rfc2616-sec14.html 它将向您展示有关 Accept 标头的更多详细信息。

# javascript - 将值从 js 传递到另一个 html 页面并在那里呈现

> ID：15021772
> 
> 赞同：0
> 
> 时间：2013-02-22T10:17:26.220
> 
> 标签：javascript, html

我对编程很陌生，我遇到了这个问题。

我有一个 html 文件，其中有一个`textbox`和`button`. 当用户单击按钮时，我会根据从`textbox`文件中获得的值执行一些操作`js`。

我希望我可以将计算值（来自 my `js`）发送到另一个 html 文件并呈现它们。

这两个 html 文件都存在于同一个目录中。

我怎么能做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:22:18.167

如果您想将信息存储在整个站点都可用的客户端计算机上，请查看 cookie。

如果您想存储大量客户端数据，并且确定客户端使用的是现代浏览器，请查看本地存储。

如果您想将变量存储在服务器上，该变量可供多个用户使用，但需要服务器端脚本，请查看会话和 ajax。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:24:53.380

如果您仅限于客户端处理，那么您有 2 个选项包括：

1）`cookies`用于存储表单数据

2）将表单数据传递`query string`给另一个html页面。

然后，您需要从第二个 html 页面中的查询字符串中提取单个参数。

# sql-server - 如何在将值插入 SQL SERVER 之前检查它？

> ID：15021777
> 
> 赞同：1
> 
> 时间：2013-02-22T10:17:39.320
> 
> 标签：sql-server, sql-server-2008

我有一堆管理整数值的 nchar(1) 字段。

这是出于历史原因，很难将它们更改为整数字段（太多的 ETL 过程将失败，因为外部有很多 DB 副本）。

我想避免在这个表中插入''，以某种方式模拟一个整数字段。

不知何故，它应该是“允许值”只有“1”、“2”、“3”、“4”。

如何在 SQL Server 中使用约束来执行此操作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:19:09.440

```
alter table YourTable 
    add constraint CHK_YourTableCol1 
        check (col1 in ('1','2','3','4')); 
```

# asp.net - 我需要在 asp.net RDLC 报告中创建一个群组图表

> ID：15021778
> 
> 赞同：1
> 
> 时间：2013-02-22T10:17:45.053
> 
> 标签：asp.net, reporting-services, charts, rdlc

请帮助我需要在我的 asp.net 应用程序中创建一个队列图表，就像您在此参考链接中看到的那样[http://blogs.thesitedoctor.co.uk/tim/Trackback.aspx?guid=d8d11102-05a1-440f-83fa- f473e98825a2](https://i.stack.imgur.com/sl6OK.png)

所以我可以在 RDLC 或我的 asp.net 页面上动态执行任何帮助或任何建议提前谢谢

你可以看到这张图片我必须在 RDLC 或 aspx 页面中动态开发它，即从数据库中我有学生入学表、年级表和他们的班级表任何建议 ![在此处输入图像描述](../Images/611955f28eb87bd469aad8a3e23e2c21.png) 我真的很感谢你的帮助 thaks

参考链接

[http://blogs.thesitedoctor.co.uk/tim/Trackback.aspx?guid=d8d11102-05a1-440f-83fa-f473e98825a2](http://blogs.thesitedoctor.co.uk/tim/Trackback.aspx?guid=d8d11102-05a1-440f-83fa-f473e98825a2)

# liferay - Liferay - 同一 portlet 的已部署和未部署版本之间的差异

> ID：15021779
> 
> 赞同：3
> 
> 时间：2013-02-22T10:17:45.687
> 
> 标签：liferay, portlet, liferay-6

我想知道一个尚未部署的 portlet 和相同的 portlet 在将其放入 Liferay 的部署文件夹后的主要区别是什么。使用 meld 实用程序，我发现已部署的 portlet 版本有两个新文件：**liferay-plugin-package.xml**和**liferay-web.xml**。**此外， liferay-display.xml**、**liferay-portlet.xml**、**portlet.xml**和**web.xml**也存在差异。

Liferay 的部署过程到底是做什么的？是否有任何文档参考？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T10:49:17.950

我不知道任何文档，但我没有搜索过那部分。这取决于您的应用程序服务器。对于 Tomcat liferay，它会添加自己的描述符、注册 portlet 并部署应用程序。

注册之后，您可以将这些 portlet 添加到您的页面中。

# android - 根据Android中的第一个输入字符更改EditField中的位数限制？

> ID：15021781
> 
> 赞同：0
> 
> 时间：2013-02-22T10:17:51.263
> 
> 标签：android, editfield

我正在我的应用程序中使用 EditField，将电话号码输入 DIAL。

现在我的查询是，

```
1) if begins with 1, it should be only 10 max digits after the 1, 

2) if 011, up to 15 digits max, but no fewer than 8 after 011. 
```

请让我知道，如何在 EditField 中完成此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:21:25.707

将 textWatcher 添加到您的 edittext 并更改最大限制

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:15:55.910

这是您的解决方案的答案。它是一个非常糟糕的解决方案，只是一种提示类型，但您可以根据自己的需要更改代码

```
final int LIMIT_FIRST = 10;
        final int LIMIT_SECOND = 15;
        final EditText et = (EditText) findViewById(R.id.edittext);
        et.setSingleLine();
        et.addTextChangedListener(new TextWatcher() {

            @Override
            public void onTextChanged(CharSequence s, int start, int before, int count) {
                String stringValue = s.toString().trim();
                int stringLength = stringValue.length();
                if(stringLength == 0){
                    InputFilter[] FilterArray = new InputFilter[1];
                    FilterArray[0] = new InputFilter.LengthFilter(1000);
                    et.setFilters(FilterArray);
                }else if(stringLength == 1){
                    if(stringValue.equalsIgnoreCase("1")){
                        InputFilter[] FilterArray = new InputFilter[1];
                        FilterArray[0] = new InputFilter.LengthFilter(LIMIT_FIRST);
                        et.setFilters(FilterArray);
                    }
                }else if(stringLength == 3){
                    if(stringValue.equalsIgnoreCase("011")){
                        InputFilter[] FilterArray = new InputFilter[1];
                        FilterArray[0] = new InputFilter.LengthFilter(LIMIT_SECOND);
                        et.setFilters(FilterArray);
                    }
                }
                System.out.println(s);
            }

            @Override
            public void beforeTextChanged(CharSequence s, int start, int count,
                    int after) {
                System.out.println(s);
            }

            @Override
            public void afterTextChanged(Editable s) {
                System.out.println(s);
            }
        }); 
```

让我知道这是否对您有帮助

# powershell - 使用 Powershell 监控 EventID 的安全日志

> ID：15021787
> 
> 赞同：0
> 
> 时间：2013-02-22T10:18:13.343
> 
> 标签：powershell, monitor, event-id

我正在寻找使用 Powershell 来监视特定事件 ID 的 2003 和 08 服务器列表的“安全”日志。到目前为止，我已经使用了这个

```
 $servers = gc c:\temp\servers.txt
foreach ($server in $servers)
{
     $Query = "SELECT * FROM __instanceCreationEvent WHERE TargetInstancISA 'Win32_NTLogEvent' AND TargetInstance.LogFile = 'Security' AND TargetInstance.EventCode = '529' "

    Register-WMIEvent -ComputerName $server -Query $Query -sourceIdentifier "$server" -Action

    {Write-Host "The following Event ID of 529 has been found in the Security log on $server}

    } 
```

但是如何才能获得日志条目的时间戳，并且只有最新的时间戳（如果存在）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:57:25.163

忘记 WMI。使用获取事件日志。

```
[string[]]$Servers = @("server1","server2")
Get-EventLog -LogName Security -ComputerName $Servers -Newest 1 -InstanceId 529 | select EventID,TimeGenerated,MachineName 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:56:02.743

把事情简单化：

```
$servers = gc c:\temp\servers.txt
foreach ($server in $servers)
{
    $events = Get-EventLog -ComputerName $server -LogName "Security" | Where-Object     {$_.EventID -eq "529"}
    if ($events -ne $null)
    {
        foreach ($event in $events)
        {
            $event.TimeGenerated
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T11:23:49.580

我前段时间写了这篇文章，就是为了这样一个场合：

[http://gallery.technet.microsoft.com/scriptcenter/ed188912-1a20-4be9-ae4f-8ac46cf2aae4](http://gallery.technet.microsoft.com/scriptcenter/ed188912-1a20-4be9-ae4f-8ac46cf2aae4)

# android - 从图像中获取 x 和 Y 坐标

> ID：15021788
> 
> 赞同：0
> 
> 时间：2013-02-22T10:18:14.563
> 
> 标签：android, view

android中有任何函数允许获取屏幕上显示的每个点的x和y，例如，查看显示曲线，这条曲线是一组点，每个点都有坐标x和y，所以我们可以得到这个cordiantes从这个观点来看。感谢您提前回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:41:20.383

从位图对象你可以通过 getPixel()

[http://developer.android.com/reference/android/graphics/Bitmap.html#getPixel(int](http://developer.android.com/reference/android/graphics/Bitmap.html#getPixel(int) , int)

要获得该曲线的坐标，您必须遍历整个位图

# jsp - 当我们使用 JSTL 和 EL 调用 jsp 页面时如何从数据库中填充表单的字段

> ID：15021789
> 
> 赞同：0
> 
> 时间：2013-02-22T10:18:16.627
> 
> 标签：jsp, jstl, el, form-fields

我有一个包含 html 表单的 jsp 页面。此表单有一个下拉框，其中填充了用户列表。该列表来自数据库表。以前，我使用 jsp scriptlets<%%> 标记来填写此列表，并在该标记中编写 java 代码以从数据库中获取用户列表。当我被介绍给 jstl 和 el 时。我发现这很容易。但我的问题是当我有上面的表格时；其中包含一些字段，当我们调用相应的 jsp 页面时，这些字段将从数据库中填充。如何使用 JSTL 或 EL 调用将返回用户列表的函数，将其放入选择框。

我正在研究支持 Servlet 2.5 和 JSP 2.1 Java 1.6 的 Apache Tomcat 6.0.X

请朋友们在这方面指导我。谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T15:11:41.290

有一个 SQL 标记库：[reference](http://docs.oracle.com/cd/E17802_01/products/products/jsp/jstl/1.1/docs/tlddocs/index.html)。

但是，不建议在视图中这样做...改为从您的 JSP 调用 servlet。

JSTL/EL 应该只用于视图层。

引用来自 SO 的 JSTL wiki：

> 请注意，JSTL 还提供 SQL 和 XML 标记库，它们支持在 JSP 页面内执行 SQL 查询和解析 XML 的声明方式。然而，除了快速原型制作之外，不鼓励这样做。在现实世界中，这两项任务都需要由真正的 Java 类来完成，这些类是由 Servlet 直接控制/委托的。

根据您的描述，我会将要在下拉列表中显示的值添加到`request.setAttribute(...)`来自 servlet 的请求（）中（使用 DAO 类或 ORM 框架获取它们），然后再转发到此 JSP。`<option>`然后，您可以使用 JSTL 将值添加为s来遍历值列表。请参阅有关如何迭代 a或使用 JSTL的[这个问题。](https://stackoverflow.com/questions/2117557/how-to-iterate-an-arraylist-inside-a-hashmap-using-jstl)`List``Map`

# android - remote_app_id 与存储的 id 不匹配 - 异常

> ID：15021790
> 
> 赞同：3
> 
> 时间：2013-02-22T10:18:18.613
> 
> 标签：android, facebook

我正在使用 facebook 本地登录，我得到了 CLOSED_LOGIN_FAILED 。

以下是我在 DDMS 中获得的 LogCat，

```
 02-22 15:16:22.939: E/exception(4583):  is null
    02-22 15:16:22.939: E/session(4583):  is {Session state:OPENING, token:{AccessToken token:ACCESS_TOKEN_REMOVED permissions:[]}, appId:420081348034777}
    02-22 15:16:22.939: E/state(4583):  is OPENING
    02-22 15:16:51.749: E/exception(4583):  is com.facebook.FacebookOperationCanceledException: remote_app_id does not match stored id 
    02-22 15:16:51.749: E/session(4583):  is {Session state:CLOSED_LOGIN_FAILED, token:{AccessToken token:ACCESS_TOKEN_REMOVED permissions:[]}, appId:420081348034777}
    02-22 15:16:51.749: E/state(4583):  is CLOSED_LOGIN_FAILED
    02-22 15:16:51.749: E/if logged in is(4583):  true : false
    02-22 15:16:51.749: E/if logged in is(4583):  exception : com.facebook.FacebookOperationCanceledException: remote_app_id does not match stored id 
    02-22 15:16:51.749: E/if logged in(4583):  premissions : [] 
```

我得到keyhash使用

```
C:\Program Files\Java\jre6\bin>keytool -exportcert -alias androiddebugkey -keystore "c:\documents and settings\Droid 4\.android\debug.keystore" | C:\openssl-0.9.8g_win32\bin\openssl sha1 -binary | C:\openssl-0.9.8g_win32\bin\openssl base64 
```

`"c:\documents and settings\Droid 4\.android\debug.keystore"`我的密钥库路径在哪里，`C:\openssl-0.9.8g_win32\bin\openssl`我的 openssl 路径在哪里

这就是我如何通过 Eclipse 和我创建的密钥库获取使用它的密钥的方式，

```
C:\Program Files\Java\jre6\bin>keytool -exportcert -alias mykeystorename -keystore "D:\Apps\mykeystorepath" | C:\openssl-0.9.8g_win32\bin\openssl sha1 -binary | C:\openssl-0.9.8g_win32\bin\openssl base64 
```

这是我用来获取我的 keyhash 的命令，使用我为发布创建的 kaystore 签名。

我不知道我哪里出错了，我已经尝试了所有相关的线程，但我没有成功。

提前致谢 。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-19T11:32:17.863

使用这段代码，因为更可靠，我尝试了许多版本的 openssl 但没有成功。

```
 try {
        PackageInfo info = getPackageManager().getPackageInfo("your.package",
                PackageManager.GET_SIGNATURES);
        for (Signature signature : info.signatures) {
            MessageDigest md = MessageDigest.getInstance("SHA");
            md.update(signature.toByteArray());
            Log.d("YOURHASH KEY:",
                    Base64.encodeToString(md.digest(), Base64.DEFAULT));
        }
    } catch (NameNotFoundException e) {

    } catch (NoSuchAlgorithmException e) {

    } 
```

将其粘贴到 onCreate

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-25T10:57:16.880

我也陷入了同样的问题，终于解决了，错误**哈希键**背后的主要原因是**openssl**，请从[这里](http://gnuwin32.sourceforge.net/packages/openssl.htm)下载 openssl ，我认为 facebook 应该在他们的网站上提供 openssl 的下载链接，以便人们不会陷入这样的问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-20T09:03:42.937

除了上述（正确）答案之外，我意识到当您进行“发布”构建（EXPORT）而不是“调试”构建（例如 - 只是构建并通过 Eclipse 运行）时 - 构建过程使用不同的键店铺。这意味着哈希码不同！我一直在运行上面给我哈希键的代码，我能够连接和发布，但我的用户都没有（因为他们是从使用 RELEASE 密钥存储构建的 STORE 安装的！）

所以。幸运的是 Facebook 允许多个哈希。选择你最喜欢的方法（上面的代码或 SSL 命令行的东西），然后将这两个密钥都放在你的 Facebook 管理员中为你的应用程序。

检查点——确保你“安全”——确保你在那里至少有两把钥匙，而不仅仅是一把。如果您有，则意味着您的“调试”版本将无法连接，或者您的“发布”版本将无法连接。

# php - 如果存在检查，如何删除外键约束？

> ID：15021791
> 
> 赞同：-6
> 
> 时间：2013-02-22T10:18:20.467
> 
> 标签：php, sql

我必须使用 IF EXIST 检查删除外键约束。我怎样才能做到这一点..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:24:33.003

通过使用以下块，您可以实现这一点

> IF EXISTS (SELECT * FROM sys.foreign_keys WHERE name = 'fk_vMessageType')
> BEGIN EXEC ('ALTER TABLE HL7_MessageHierarchy
> DROP CONSTRAINT fk_vMessageType FOREIGN KEY (vMessageType) REFERENCES HL7_MessageType(vMessageType) ') END

# ruby - Ruby DevKit 编译问题

> ID：15021795
> 
> 赞同：0
> 
> 时间：2013-02-22T10:18:25.973
> 
> 标签：ruby, windows, installation, devkit

我`compass`的坏了

```
>compass compile
LoadError on line ["36"] of C: cannot load such file -- zurb-foundation
  C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  C:/Ruby193/lib/ruby/gems/1.9.1/gems/compass-0.12.2/lib/compass/configuration/data.rb:161:in `requi
re'
  C:/www/project/config.rb:2:in `get_binding'
  [...] 
```

所以我决定是时候重新安装 Ruby 了。下载并安装`rubyinstaller-1.9.3-p385.exe`。它告诉我还要安装[DevKit](https://github.com/oneclick/rubyinstaller/wiki/Development-Kit)。

但`gem install rdiscount --platform=ruby`并没有那么顺利：

```
C:/Ruby193/bin/ruby.exe extconf.rb
checking for random()... no
checking for srandom()... no
checking for rand()... yes
checking for srand()... yes
checking size of unsigned long... 4
checking size of unsigned int... 4
creating Makefile

make
generating rdiscount-i386-mingw32.def
compiling basename.c
compiling Csio.c
Csio.c: In function 'Csputc':
Csio.c:14:5: warning: operation on 'iot->size' may be undefined
compiling css.c
css.c: In function 'mkd_css':
css.c:57:6: warning: operation on 'f.size' may be undefined
compiling docheader.c
compiling dumptree.c
dumptree.c: In function 'Pptype':
dumptree.c:23:22: warning: return discards qualifiers from pointer target type
[...]
dumptree.c:37:22: warning: return discards qualifiers from pointer target type
dumptree.c: In function 'pushpfx':
dumptree.c:44:24: warning: operation on 'sp->size' may be undefined
dumptree.c: In function 'dumptree':
dumptree.c:104:5: warning: initialization discards qualifiers from pointer target type
dumptree.c:104:5: warning: initialization discards qualifiers from pointer target type
compiling emmatch.c
emmatch.c: In function 'emfill':
emmatch.c:79:4: warning: operation on 'p->b_text.size' may be undefined
compiling generate.c
generate.c: In function 'push':
generate.c:37:2: warning: operation on 'f->in.size' may be undefined
generate.c: In function 'Qchar':
generate.c:120:9: warning: operation on 'f->Q.size' may be undefined
generate.c:127:5: warning: operation on 'cur->b_text.size' may be undefined
generate.c: In function 'Qem':
generate.c:172:17: warning: operation on 'f->Q.size' may be undefined
generate.c:179:13: warning: operation on 'f->Q.size' may be undefined
generate.c: In function '___mkd_reparse':
generate.c:197:5: warning: operation on 'sub.in.size' may be undefined
generate.c: In function 'puturl':
generate.c:228:6: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:230:6: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:232:6: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:236:6: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:238:6: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: At top level:
generate.c:458:5: warning: initialization discards qualifiers from pointer target type
generate.c:459:5: warning: initialization discards qualifiers from pointer target type
generate.c:460:5: warning: initialization discards qualifiers from pointer target type
generate.c:461:5: warning: initialization discards qualifiers from pointer target type
generate.c: In function 'isautoprefix':
generate.c:473:29: warning: comparison between signed and unsigned integer expressions
generate.c: At top level:
generate.c:497:1: warning: initialization discards qualifiers from pointer target type
[...]
generate.c:514:5: warning: initialization discards qualifiers from pointer target type
generate.c: In function 'pseudo':
generate.c:527:30: warning: comparison between signed and unsigned integer expressions
generate.c: In function 'p_or_nothing':
generate.c:575:5: warning: return discards qualifiers from pointer target type
generate.c: In function 'extra_linky':
generate.c:594:3: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'linkyformat':
generate.c:632:6: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:633:6: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:637:6: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'cputc':
generate.c:733:5: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:734:5: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:735:5: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'mangle':
generate.c:748:2: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
[...]
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: At top level:
generate.c:1085:5: warning: initialization discards qualifiers from pointer target type
[...]
generate.c: In function 'smartypants':
generate.c:1119:18: warning: comparison between signed and unsigned integer expressions
generate.c:1122:3: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1144:8: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1146:8: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'text':
generate.c:1208:2: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1212:4: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
[...]
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: At top level:
generate.c:1372:1: warning: initialization discards qualifiers from pointer target type
generate.c:1372:1: warning: initialization discards qualifiers from pointer target type
generate.c:1372:1: warning: initialization discards qualifiers from pointer target type
generate.c:1373:7: warning: initialization discards qualifiers from pointer target type
generate.c: In function 'splat':
generate.c:1384:5: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1395:6: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
[...]
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'printblock':
generate.c:1475:5: warning: initialization discards qualifiers from pointer target type
generate.c:1475:5: warning: initialization discards qualifiers from pointer target type
generate.c:1475:5: warning: initialization discards qualifiers from pointer target type
generate.c:1476:5: warning: initialization discards qualifiers from pointer target type
generate.c:1476:5: warning: initialization discards qualifiers from pointer target type
generate.c:1476:5: warning: initialization discards qualifiers from pointer target type
generate.c:1484:3: warning: passing argument 1 of 'push' discards qualifiers from pointer target type
generate.c:34:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1490:7: warning: passing argument 1 of 'push' discards qualifiers from pointer target type
generate.c:34:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'printcode':
generate.c:1507:5: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1519:5: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'htmlify':
generate.c:1546:2: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1551:2: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1555:3: warning: passing argument 2 of 'Qprintf' discards qualifiers from pointer target type
generate.c:155:1: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'definitionlist':
generate.c:1566:2: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1570:3: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1572:3: warning: passing argument 1 of 'Qstring' discards qualifiers from pointer target type
generate.c:135:1: note: expected 'char *' but argument is of type 'const char *'
generate.c:1575:6: warning: passing argument 2 of 'htmlify' discards qualifiers from pointer target type
[...]
cstring.h:73:12: note: expected 'char *' but argument is of type 'const char *'
generate.c: In function 'mkd_document':
generate.c:1710:6: warning: operation on 'p->ctx->out.size' may be undefined
compiling html5.c
html5.c: In function 'mkd_with_html5_tags':
html5.c:15:5: warning: passing argument 1 of 'mkd_define_tag' discards qualifiers from pointer target type
tags.h:17:6: note: expected 'char *' but argument is of type 'const char *'
html5.c:16:5: warning: passing argument 1 of 'mkd_define_tag' discards qualifiers from pointer target type
tags.h:17:6: note: expected 'char *' but argument is of type 'const char *'
html5.c:17:5: warning: passing argument 1 of 'mkd_define_tag' discards qualifiers from pointer target type
tags.h:17:6: note: expected 'char *' but argument is of type 'const char *'
html5.c:18:5: warning: passing argument 1 of 'mkd_define_tag' discards qualifiers from pointer target type
tags.h:17:6: note: expected 'char *' but argument is of type 'const char *'
html5.c:19:5: warning: passing argument 1 of 'mkd_define_tag' discards qualifiers from pointer target type
tags.h:17:6: note: expected 'char *' but argument is of type 'const char *'
html5.c:20:5: warning: passing argument 1 of 'mkd_define_tag' discards qualifiers from pointer target type
tags.h:17:6: note: expected 'char *' but argument is of type 'const char *'
html5.c:21:5: warning: passing argument 1 of 'mkd_define_tag' discards qualifiers from pointer target type
tags.h:17:6: note: expected 'char *' but argument is of type 'const char *'
compiling markdown.c
markdown.c:104:15: warning: initialization discards qualifiers from pointer target type
markdown.c: In function 'quoteblock':
markdown.c:743:17: warning: initialization discards qualifiers from pointer target type
markdown.c:751:12: warning: assignment discards qualifiers from pointer target type
markdown.c: In function 'addfootnote':
markdown.c:955:23: warning: operation on 'f->footnotes->size' may be undefined
markdown.c:963:2: warning: operation on 'foot->tag.size' may be undefined
markdown.c:965:5: warning: operation on 'foot->tag.size' may be undefined
markdown.c:971:6: warning: operation on 'foot->title.size' may be undefined
markdown.c:976:2: warning: operation on 'foot->link.size' may be undefined
markdown.c:977:5: warning: operation on 'foot->link.size' may be undefined
markdown.c:1004:6: warning: operation on 'foot->title.size' may be undefined
markdown.c:1010:2: warning: operation on 'foot->title.size' may be undefined
compiling mkdio.c
mkdio.c: In function 'queue':
mkdio.c:59:3: warning: operation on 'p->text.size' may be undefined
mkdio.c:63:6: warning: operation on 'p->text.size' may be undefined
mkdio.c:67:5: warning: operation on 'p->text.size' may be undefined
mkdio.c: In function 'populate':
mkdio.c:113:6: warning: operation on 'line.size' may be undefined
mkdio.c: In function 'mkd_line':
mkdio.c:275:2: warning: operation on 'f.out.size' may be undefined
compiling rdiscount.c
In file included from c:\ruby193\devkit\mingw\bin\../lib/gcc/mingw32/4.5.2/../../../../include/windows.h:48:0,
                 from c:\ruby193\devkit\mingw\bin\../lib/gcc/mingw32/4.5.2/../../../../include/winsock2.h:22,
                 from c:/Ruby193/include/ruby-1.9.1/ruby/win32.h:40,
                 from c:/Ruby193/include/ruby-1.9.1/ruby/defines.h:223,
                 from c:/Ruby193/include/ruby-1.9.1/ruby/ruby.h:67,
                 from c:/Ruby193/include/ruby-1.9.1/ruby.h:32,
                 from rdiscount.c:2:
c:\ruby193\devkit\mingw\bin\../lib/gcc/mingw32/4.5.2/../../../../include/windef.h:229:23: error: duplicate 'unsigned'
c:\ruby193\devkit\mingw\bin\../lib/gcc/mingw32/4.5.2/../../../../include/windef.h:238:23: error: duplicate 'unsigned'
c:\ruby193\devkit\mingw\bin\../lib/gcc/mingw32/4.5.2/../../../../include/windef.h:238:23: error: two or more data types in declaration specifiers
c:\ruby193\devkit\mingw\bin\../lib/gcc/mingw32/4.5.2/../../../../include/windef.h:241:24: error: duplicate 'unsigned'
rdiscount.c: In function 'rb_rdiscount_to_html':
rdiscount.c:18:5: warning: implicit declaration of function 'rb_rdiscount__get_flags'
rdiscount.c:18:5: warning: ISO C90 forbids mixed declarations and code
rdiscount.c: In function 'rb_rdiscount_toc_content':
rdiscount.c:55:5: warning: ISO C90 forbids mixed declarations and code
make: *** [rdiscount.o] Error 1 
```

我已经尝试卸载 Ruby 并删除该`C:/Ruby193`目录，但仍然会出现相同的错误。

我希望我可以`gem install compass`并且正在路上，但是当我运行时我仍然遇到同样的错误`compass compile`。

你知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T17:55:31.193

看起来最新版本的 rdiscount 存在问题： [https ://github.com/rtomayko/rdiscount/issues/74](https://github.com/rtomayko/rdiscount/issues/74)

尝试安装先前标记的版本：

```
gem install rdiscount -v=1.6.8 --platform=ruby 
```

# php - file_get_contents 未提取完整文件内容

> ID：15021801
> 
> 赞同：1
> 
> 时间：2013-02-22T10:18:44.017
> 
> 标签：php, file, file-get-contents

我正在使用 php 函数 file_get_contents 来解析 php 文件。但似乎一旦读取 php 标签，file_get_contents 就会出现故障。

我用一个普通的文本文件检查了这个函数，它运行得很好。但即使它在文本文件中找到 php 标签，该文件也被读取了一半。我怎样才能找到获取完整内容的方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:39:37.063

文件是本地的吗？或者您是否正在尝试获取远程文件？您如何检查内容是否未被阅读？将其回显到浏览器可能会欺骗您，`<`因为`<?php`

使用`htmlspecialchars`或`<pre>`查看全文。或者只看页面的来源。

# asp.net - 自定义控制客户端事件

> ID：15021806
> 
> 赞同：-2
> 
> 时间：2013-02-22T10:19:11.487
> 
> 标签：asp.net

我创建了一个自定义日期时间控件（3 个文本框、1 个列表框、1 个图像按钮）。现在我想向这个自定义控件添加新的客户端事件。例如，我需要将 onchange、onclick ... 等事件添加到这个自定义 c

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:30:25.330

在这里您可以找到您需要的所有答案：

[从头开始创建 ASP.NET 服务器控件](http://net.tutsplus.com/tutorials/create-asp-net-server-controls-from-scratch/)

[教程点](http://www.tutorialspoint.com/asp.net/asp.net_custom_controls.htm)

[ASP.NET 自定义控件：第 1 部分](http://dotnetslackers.com/articles/aspnet/ASPNETCustomControlsPart1.aspx)

# python - 无法安装 BeautifulSoup

> ID：15021807
> 
> 赞同：2
> 
> 时间：2013-02-22T10:19:20.463
> 
> 标签：python, beautifulsoup, pip

```
abcdefg@HAL9000:~$ pip install beautifulsoup4
Downloading/unpacking beautifulsoup4
  Downloading beautifulsoup4-4.1.3.tar.gz (131Kb): 131Kb downloaded
Exception:
Traceback (most recent call last):
  File "/usr/lib/python2.7/dist-packages/pip/basecommand.py", line 126, in main
    self.run(options, args)
  File "/usr/lib/python2.7/dist-packages/pip/commands/install.py", line 223, in run
    requirement_set.prepare_files(finder, force_root_egg_info=self.bundle, bundle=self.bundle)
  File "/usr/lib/python2.7/dist-packages/pip/req.py", line 955, in prepare_files
    self.unpack_url(url, location, self.is_download)
  File "/usr/lib/python2.7/dist-packages/pip/req.py", line 1072, in unpack_url
    return unpack_http_url(link, location, self.download_cache, only_download)
  File "/usr/lib/python2.7/dist-packages/pip/download.py", line 447, in unpack_http_url
    unpack_file(temp_location, location, content_type, link)
  File "/usr/lib/python2.7/dist-packages/pip/util.py", line 468, in unpack_file
    untar_file(filename, location)
  File "/usr/lib/python2.7/dist-packages/pip/util.py", line 393, in untar_file
    os.makedirs(location)
  File "/usr/lib/python2.7/os.py", line 157, in makedirs
    mkdir(name, mode)
OSError: [Errno 13] Permission denied: '/home/abcdefg/build/beautifulsoup4'

Storing complete log in /home/abcdefg/.pip/pip.log 
```

由于我的权限被拒绝，我尝试使用 sudo 运行它，

```
abcdefg@HAL9000:~$ sudo pip install beautifulsoup4
Downloading/unpacking beautifulsoup4
  Cannot fetch index base URL http://pypi.python.org/simple/
  Could not find any downloads that satisfy the requirement beautifulsoup4
No distributions at all found for beautifulsoup4
Storing complete log in /root/.pip/pip.log 
```

我知道我也可以不用pip安装它，但是我在安装请求时也遇到了这个问题，所以我想知道解决方案

谢谢！

# asp.net - 'Microsoft.Reporting.WebForms.ReportViewer' 类型存在于两者中

> ID：15021808
> 
> 赞同：7
> 
> 时间：2013-02-22T10:19:21.527
> 
> 标签：asp.net

我有一个引用 Microsoft.ReportViewer.WebForms 版本 9.0.0.0 的 ASP.NET 应用程序，我改为引用版本 11.0.0.0 的 Microsoft.ReportViewer.WebForms。现在，当我在 2 台机器上运行我的应用程序时，出现以下错误

**编译错误**

**说明：**在编译服务此请求所需的资源期间发生错误。请查看以下特定错误详细信息并适当修改您的源代码。

**编译器错误消息：** CS0433：类型“Microsoft.Reporting.WebForms.ReportViewer”存在于“c:\Windows\assembly\GAC_MSIL\Microsoft.ReportViewer.WebForms\9.0.0.0__b03f5f7f11d50a3a\Microsoft.ReportViewer.WebForms.dll”和'c:\Windows\assembly\GAC_MSIL\Microsoft.ReportViewer.WebForms\11.0.0.0__89845dcd8080cc91\Microsoft.ReportViewer.WebForms.DLL'

我已确保我的 web.config 版本号中的所有位置都更新为 11.0.0.0

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T08:18:06.543

我尝试在 web.config 中添加dependentAssembly，但这没有帮助。

```
<dependentAssembly>
  <assemblyIdentity name="Microsoft.ReportViewer.WebForms" publicKeyToken="89845dcd8080cc91" />
  <bindingRedirect oldVersion="8.0.0.0-10.0.0.0" newVersion="11.0.0.0" />
</dependentAssembly> 
```

但是它没有帮助，因为 PublicKeyToken 在 11.0.0.0 dll 中发生了变化。

最后我能够通过在 web.config 中添加qualifyAssembly 节点来解决这个问题

```
<qualifyAssembly partialName="Microsoft.ReportViewer.WebForms" fullName="Microsoft.ReportViewer.WebForms,version=11.0.0.0,culture=neutral,publicKeyToken=89845dcd8080cc91" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-27T10:05:29.680

我的解决方案。我在 _bin_deployableAssemblies 文件夹中有旧版本的 ReportViewer。我从中删除了所有内容，并使用了“packages\Microsoft.ReportViewer.11.0.3366.16\lib”文件夹中的引用。

# mongodb - 聚合：每小时计数项目

> ID：15021809
> 
> 赞同：3
> 
> 时间：2013-02-22T10:19:22.953
> 
> 标签：mongodb, aggregation-framework

我想知道是否有人可以帮助我正确使用聚合功能。我试图计算一段文本在指定日期每小时出现的次数。到目前为止，我有：

```
db.daily_data.aggregate(
  [
    { $project : { useragent: 1, datetime: 1, url: 1, hour: {$hour: new Date("$datetime")} } },
    { $match : { datetime: {$gte: 1361318400000, $lt: 1361404800000}, useragent: /.*LinkCheck by Siteimprove.*/i } },
    { $group : { _id : { useragent: "$useragent", hour: "$hour" }, queriesPerUseragent: {$sum: 1} } }
  ]
); 
```

但我显然弄错了，因为小时总是 0：

```
{
  "result" : [
    {
      "_id" : {
        "useragent" : "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.0) LinkCheck by Siteimprove.com",
        "hour" : 0
      },
      "queriesPerUseragent" : 94215
    }
  ],
  "ok" : 1
} 
```

这也是一个精简的记录示例：

```
{
  "_id" : ObjectId("50fe63c70266a712e8663725"),
  "useragent" : "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.0) LinkCheck by Siteimprove.com",
  "datetime" : NumberLong("1358848954813"),
  "url" : "http://www.somewhere.com"
} 
```

我也尝试过使用`new Date("$datetime").getHours()`而不是`$hour`函数来尝试获得相同的结果，但没有运气。有人可以指出我出错的方向吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T11:41:53.073

这是一个建议，而不是您的问题的答案。

在用于分析的 MongoDB 上，建议为您要计算的每个指标预先聚合您的存储桶（在您的用例中为每小时存储桶）。

因此，对于您的指标，您可以更新预聚合集合（加快查询时间）：

```
db.user_agent_hourly.update({url: "your_url", useragent: "your user agent", hour: current_HOUR_of_DAY, date: current_DAY_Date}, {$inc: {counter:1}}, {upsert:true}) 
```

考虑到`current_DAY_Date`您必须指向当天的稳定日期值，即 current_year/current_month/current_day 00:00:00 ，对当天收到的每个指标使用相同的小时：分钟：秒。

然后，您可以查询此集合，提取任何给定时间段的聚合分析，如下所示：

```
 db.user_agent_hourly.aggregate(
    {$match:{date:{$gte: INITIAL_DATE, $lt: FINAL_DATE}}},
    {$group:{ _id : { useragent: "$useragent", hour: "$hour" } ,queriesPerUseragent: {$sum: "$count"} } },
    {$sort:{queriesPerUseragent:-1}}
 ) 
```

如果要使用特定用户代理过滤结果，可以使用下一个查询：

```
 db.user_agent_hourly.aggregate(
    {$match:{date:{$gte: INITIAL_DATE, $lt: FINAL_DATE, useragent: "your_user_agent"}}},
    {$group:{ _id : { useragent: "$useragent", hour: "$hour" }, queriesPerUseragent: {$sum: "$count"} } }
 ) 
```

PS：我们将每个收到的指标存储在其他集合中，以便在发生灾难或其他需要时能够重新处理它。

# facebook - 我可以将 JavaScript facebook SDK 用于 phonegap 应用程序吗？

> ID：15021811
> 
> 赞同：3
> 
> 时间：2013-02-22T10:19:35.670
> 
> 标签：facebook, cordova, phonegap-plugins

我不确定我的问题是否合适。

我第一次集成 facebook，也是第一次我的应用程序是多平台的。

我正在将 facebook 集成到我的 iphone 和 android 应用程序中。我的问题如下：

1）如果我用插件来做，我必须分别为 iPhone 和 Android 做。有没有办法将 Facebook 集成到一个单一的工作中，例如通过使用 Javascript SDK

2）如果是，那是什么？如果可能的话，任何样品。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:16:14.797

您应该使用[phonegap-plugin-facebook-connect](https://github.com/davejohnson/phonegap-plugin-facebook-connect/)。它适用于 iOS 和 Android，并与 Facebook 中内置的 iOS6 功能完美集成。

该插件提供了 Facebook JS API 的修补版本。

# google-drive-api - Google Drive Service 帐户查看/删除文档

> ID：15021812
> 
> 赞同：1
> 
> 时间：2013-02-22T10:19:36.997
> 
> 标签：google-drive-api

我已经成功地能够通过服务帐户自动创建文档。服务帐户是创建的文档 atm 的所有者，我已与多个用户共享文档。

我的问题是如何在一个地方查看和删除这些创建的文档？我尝试添加类型为“所有者”的用户权限，但这不起作用，并且用户无权访问文档。

我可以作为服务帐户登录并从 google drive UI 查看和管理文档吗？

谢谢

# php - 从服务器访问客户端的本地主机

> ID：15021816
> 
> 赞同：1
> 
> 时间：2013-02-22T10:19:42.090
> 
> 标签：php

**这是上下文：**我需要在网站上的 Google 地球插件中加载大量文件。我有一个 php 脚本，它建立了这些文件的路径并通过 ajax 将其发送到 javascript。然后，插件下载文件并在地球上构建它。这需要很长时间。我需要为公共活动加快速度。计算机可以运行网络服务器并将这些文件保存在他的硬盘上。

**所以这是我的问题：** php 有没有办法检查客户端是否正在运行本地服务器并检查它是否包含特定文件？或者至少，从这个本地服务器执行一个 php 脚本？

就像是 ：

```
if(is_file('localhost/files/heavy.kmz'))
    $path = 'localhost/files/heavy.kmz';
else
    $path = 'www.randomsite.com/files/heavy.kmz';

return $path 
```

当然，这个 localhost 指的是错误的服务器:(。我想如果可能的话，会有安全问题。但我还是问了。

我不是很习惯stackoverflow的习惯，希望没有做错什么。

科罗罗。

**编辑：**我会尝试澄清一下。

我知道本地主机上文件的路径。我需要检查它是否存在以发送路径或其他路径。如果我能找到它，我不必从服务器下载它。仅机器上需要本地网络服务器以允许对文件进行 php 检查。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:27:38.980

如果数据文件在同一台机器上，并且您可以告诉您的数据文件应该*相*对于您用来检查它是否存在的脚本的位置，只需使用[`__DIR__`](http://php.net/manual/en/language.constants.predefined.php)（或者`dirname(__FILE__)`如果您的 php 是古老的）来创建路径。

例如，您有这样的目录结构：

*   文件/
    *   重型.kmz
*   检查.php
*   ...

然后`check.php`按预期进行以下工作：

```
if (is_file(__DIR__.'/files/heavy.kmz')) {
    $path = __DIR__.'/files/heavy.kmz';
} else {
    $path = 'www.randomsite.com/files/heavy.kmz';
} 
```

# dos - 在 DOS 中重命名导致无扩展名文件的语法错误

> ID：15021819
> 
> 赞同：2
> 
> 时间：2013-02-22T10:19:56.490
> 
> 标签：dos, rename

当我使用

`ren "C:\folder\file" "C:\folder\file.txt"`

出现错误“命令的语法不正确。”

但如果我`CD`到文件夹并使用

`ren "file" "file.txt"`

没有错误并且有效。

我的问题是，如何用路径重命名无扩展名文件

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T10:24:35.867

这应该工作

```
ren C:\folder\file file.txt 
```

你只需要一次路径

你也可以做的是

```
move C:\folder\file C:\folder\file.txt 
```

使用移动，您可以为两者指定路径

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-10T07:17:40.840

试试这个对我有用：

```
重命名 "D:\DATA\previousfilename" 新文件名
```

例如：->

```
重命名“D:\DATA\abcd.jpg”mnop.jpg
```

# ruby-on-rails - Metasearch rails gem 按字段多次搜索

> ID：15021826
> 
> 赞同：1
> 
> 时间：2013-02-22T10:20:19.693
> 
> 标签：ruby-on-rails, meta-search

我有这样的搜索代码（使用 metasearch rails gem）：

```
@pre_oils = Oil.search({:manufacturer_like => params[:oilbrand], :description_like => params[:oiloiliness], :description_like => params[:oilstructure], :capacity_eq => params[:oilsize]}) 
```

但我必须通过描述搜索两个参数：油性，油结构......在某些情况下，我可以先拥有，但没有油结构或有油结构但没有油性......

如果我离开

```
@pre_oils = Oil.search({:manufacturer_like => params[:oilbrand], :description_like => params[:oiloiliness], :capacity_eq => params[:oilsize]}) 
```

一切都好

现在它不是通过油性搜索，但为什么呢？怎么做？如何通过这两个字段进行搜索？

# javascript - 我的 asp.net 页面上的主干语法错误 <% - %>

> ID：15021827
> 
> 赞同：0
> 
> 时间：2013-02-22T10:20:20.110
> 
> 标签：javascript, backbone.js

我需要使用`<% and %>`，但它们是为 asp.net 保留的，所以我得到一个编译器错误 - 我该如何解决这个问题

```
 <script type="text/template" id="item-template">
    <div class="view">
      <input class="toggle" type="checkbox">
      <label><%- title %></label>
    </div>
  </script> 
```

这行不通

```
<label><%= "<%-"%> title <%= "%>" %></label> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:27:03.260

您可以在下划线中更改客户端模板的插值符号（下划线具有 Backbone 使用的模板内容）。

您可以致电：

```
_.templateSettings = {interpolate : /\{\{(.+?)\}\}/g,      // print value: {{ value_name }}
                  evaluate    : /\{%([\s\S]+?)%\}/g,   // excute code: {% code_to_execute %}
                  escape      : /\{%-([\s\S]+?)%\}/g}; // excape HTML: {%- <script> %} prints &lt;script&gt; 
```

[代码信用](https://stackoverflow.com/questions/9724921/using-underscore-js-with-asp-net)

所以你的代码将变成：

```
<label>{{ "<%-"%> title <%= "%>" }}</label> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:07:56.617

尝试：

```
<label><&#37;- title &#37;></label> 
```

在这种情况下，您可以使用 html 代码：

[http://ascii.cl/htmlcodes.htm](http://ascii.cl/htmlcodes.htm)

# c# - 如何使用 asp:menu 控件的 TargetField 属性

> ID：15021830
> 
> 赞同：0
> 
> 时间：2013-02-22T10:20:25.133
> 
> 标签：c#, asp.net

我在 sql server 2008 中有一个表，其中包含有关我的选项菜单的所有信息。我正在使用`<asp:Menu>`控件在我的网站中显示带有来自该表的数据绑定的选项菜单。在该表中，我有一个名为 Target.Values 在该字段中的字段

> _blank ， _parent ， _search ， _self ， _top

此值描述了如何打开该表单。此字段与`<asp:menu>`控件的目标属性链接。但它不起作用。谁能告诉我如何在数据绑定`<asp:menu>`控件上使用此属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:42:03.747

通过更改我的数据源中目标字段的名称来解决此问题。

# ios - 在多语言 ios 应用程序中分配特定语言

> ID：15021831
> 
> 赞同：0
> 
> 时间：2013-02-22T10:20:31.043
> 
> 标签：ios, objective-c, multilingual

我有一个多语言的 ios 应用程序，它可以根据 ios 系统位置切换到正确的语言。我想知道，比如系统语言是英文，如何将app语言分配为德文或其他语言？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:28:54.320

尝试在 main() 函数的 main.m 中添加这个，在调用 UIApplicationMain() 之前，重要的是这些语句在应用程序启动之前执行

```
[[NSUserDefaults standardUserDefaults] setObject:[NSArray arrayWithObjects:@"es", nil] forKey:@"AppleLanguages"]; //switching to spanish locale
[[NSUserDefaults standardUserDefaults] synchronize]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:24:32.540

您可以在`Info.plist`文件中指定默认语言。该设置称为`Localization native development region`。此语言将用作默认语言。

# javascript - Jquery 动画横幅

> ID：15021833
> 
> 赞同：-1
> 
> 时间：2013-02-22T10:20:40.650
> 
> 标签：javascript, php, jquery, html-table

我正在尝试为我的网站创建一个动画横幅。我单独创建了图像，并希望通过使用 jQuery，我将能够使图像流入表格的每个部分。以下是我想要完成的。太难描述了，不妨画出来。

![在此处输入图像描述](../Images/62532c8f4ecedee8176dbd3a295c1439.png)

这里的任何帮助将不胜感激。

哦，如果表格也通过 jQuery 获得输入会更好。

以下是我的代码：

HTML

```
 <div id="seller_banner">
      </div> 
```

JAVASCRIPT

```
 <script>
      $(document).ready(function(){
      $("div#seller_banner").html("<img src='/images/ajax-loader.gif'>");
      $("div#seller_banner").delay(800).html("<table><tr><td class='moving banner'></td><td></td></tr><tr><td colspan='2'></td></tr></table>");
      $("div#seller_banner").find("table").fadeIn();
      $("#seller_banner").find("table td.moving").delay(2000).html("<img src='/seller/images/for_banners/lady_model_1.png'>");
      $("#seller_banner").find("table td.moving img").fadeIn();
      });
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:30:32.440

GreenSock 动画包是 JQuery 动画的一个很好的替代品，如果你曾经在 Flash 中使用过它，你会熟悉它的语法：[http ://www.greensock.com/](http://www.greensock.com/)

# c# - 在 IE9 中上传文件时出现 IO 错误，适用于 IE10、Safari、Chrome 和 Firefox

> ID：15021837
> 
> 赞同：0
> 
> 时间：2013-02-22T10:21:07.317
> 
> 标签：c#, asp.net-mvc

我有以下网络服务来使用fineupload上传文件

```
 public class UploadHandler : IHttpHandler
    {
        public void ProcessRequest(HttpContext context)
        {
            var svc = new DropzoneService();

            var request = context.Request;
            var formUpload = request.Files.Count > 0;

            var xFileName = request.Headers["X-File-Name"];
            var qqFile = request["qqfile"];

            var dzid = request.Params["dzid"].ToString().Replace(",", String.Empty);
            var rootid = request.Params["rootid"].ToString().Replace(",", String.Empty);

            var formFilename = formUpload ? request.Files[0].FileName : null;

            var filename = xFileName ?? qqFile ?? formFilename;
            var inputStream = formUpload ? request.Files[0].InputStream : request.InputStream;

            var filePath = Path.Combine(context.Server.MapPath("~/App_Data/Queue"), filename);
            using (var fileStream = File.OpenWrite(filePath))
            {
                inputStream.CopyTo(fileStream);
            }

            svc.AddFile(filePath, Int32.Parse(dzid), Int32.Parse(rootid));

            context.Response.ContentType = "application/json";
            context.Response.Write("{\"success\":true}");
        }

        public bool IsReusable
        {
            get { return true; }
        }
    } 
```

它在除 Internet Explorer 8 和 9 之外的所有浏览器中都运行良好，但在 Internet Explorer 10 中运行良好。

这是异常 IO Exception The process could not access file C:\Users\user\Desktop\file.pdf 因为它正在被另一个进程使用。（瑞典语翻译的例外）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T11:02:42.457

我相信在 IE 9 及以下版本中，即使是单个文件上传，您也总是需要使用 request.Files[0].InputStream 。

所以你的代码应该更像......

```
decimal browserVer;

decimal.TryParse(context.Request.Browser.Version, out browserVer);

var inputStream = context.Request.Files.Count > 1 || ( context.Request.Browser.Browser.ToUpper() == "IE" && browserVer < 10 ) ? context.Request.Files[0].InputStream : context.Request.InputStream; 
```

假设你当然只是在阅读第一个文件......

# alignment - 如何将 2 li 彼此对齐

> ID：15021851
> 
> 赞同：0
> 
> 时间：2013-02-22T10:21:36.623
> 
> 标签：alignment, html-lists, next

这是一些简单的代码来解释我需要什么：

```
<ul>
<%
  for(int i = 0; i < 6; i++){
%>
    <li>test<%=i%></li>
<%
  }
%>
</ul> 
```

现在，标准的 li 将像这样显示

测试0
测试1 测试2 测试3
测试
4
测试
5

我希望它们像这样显示

测试0 测试2 测试4
测试2 测试4 测试1 测试3 测试5

使用 css 可能是可能的，但我不知道如何。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:23:59.210

你可能想让前三个 lis 浮动到左边，然后，对于第四个，使用“clear : both”这样换行，然后对最后一个做同样的事情......

```
<ul>
 <li style="float : left">A</li>
 <li style="float : left">B</li>
 <li style="float : left">C</li>
 <li style="clear : both ; float : left">D</li>
 <li style="float : left">E</li>
 <li style="float : left">F</li>
 <li style="float : left">G</li>
</ul> 
```

您在循环中有 li 的索引，因此使用“i % 4 == 0”应该可以解决问题。

# python - python在字符串中拆分数字

> ID：15021852
> 
> 赞同：-1
> 
> 时间：2013-02-22T10:21:37.147
> 
> 标签：python, regex, string, module, split

我想知道以以下方式分隔字符串中数字的最简单方法（可能是正则表达式）是什么。示例：`"abc12de34f5"` 到：`["abc", "12", "de", "34", "f", "5"]`

但是，如果字符串中有连接标记，请以这种方式分隔：示例：`"abc1,2de3.4f5"` to：`["abc", "1,2", "de", "3.4", "f", "5"]`

感谢您的任何建议和意见

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T10:24:25.190

```
>>> import re
>>> s = "abc12de34f5"
>>> re.findall(r'[\d\W]+|[a-zA-Z]+', s)
['abc', '12', 'de', '34', 'f', '5']
>>> t = "abc1,2de3.4f5"
>>> re.findall(r'[\d\W]+|[a-zA-Z]+', t)
['abc', '1,2', 'de', '3.4', 'f', '5'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:35:32.607

使用 itertools.groupby 的非正则表达式解决方案

```
>>> st = "abc1,2de3.4f5"
>>> [''.join(v) for _, v in groupby(st,key = str.isalpha)]
['abc', '1,2', 'de', '3.4', 'f', '5']
>>> st = "abc12de34f5"
>>> [''.join(v) for _, v in groupby(st,key = str.isalpha)]
['abc', '12', 'de', '34', 'f', '5'] 
```

# c - 在 C 中除以整数将值向下舍入 / 结果为零

> ID：15021853
> 
> 赞同：0
> 
> 时间：2013-02-22T10:21:40.727
> 
> 标签：c, floating-point, precision, floating-accuracy

我正在尝试对整数进行一些算术运算。问题是当我尝试进行除法以获得双倍结果时，结果始终为 0.00000000000000000000，即使对于 ((7 * 207) / 6790) 之类的东西显然不是这样。我已经尝试对公式进行类型转换，但我仍然得到相同的结果。

我做错了什么，我该如何解决？

```
int o12 = 7, o21 = 207, numTokens = 6790;
double e11 = ((o12 * o21) / numTokens);
printf(".%20lf", e11); // prints 0.00000000000000000000 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:26:33.083

无论实际值如何，以下内容均成立：

```
int / int = int 
```

输出不会`int`自动转换为非类型。

`int`因此，在进行除法时，输出将下降到一个。

您想要做的是强制其中任何一个发生：

```
double / int = double
float / int = float
int / double = double
int / float = float 
```

[以上涉及自动[扩大转换](https://codingfox.com/3-10-widening-and-narrowing-of-primitive-conversions/)- 请注意，只有一个需要是浮点值。]

您可以通过以下任一方式执行此操作：

*   `(double)`将or放在`(float)`您的一个值之前以将其转换为相应的类型或
*   将一个或多个变量更改为`double`或`float`

请注意，强制转换`(double)(int / int)`不起作用，因为这首先进行整数除法（返回 a `int`，因此将值下限），然后才将结果强制转换为`double`（这与简单地尝试将其分配给 a`double`没有任何铸造，就像你所做的那样）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:24:46.507

对于诸如`((7 * 207) / 6790)`result is 之类的表达式`0`，或者`0.0`如果您认为 in ，它肯定是正确的`double`。

该表达式只有整数，因此它将被计算为整数乘法，然后是整数除法。

您需要转换为浮点类型来更改它，例如`((7 * 207) / 6790.0)`.

许多人似乎期望赋值的右侧会根据目标变量的类型自动“调整”：这不是它的工作方式。结果被转换，但这不会影响右手表达式中的任何“内部”操作*。*在您的代码中：

```
e11 = ((o12 * o21) / numTokens); 
```

所有`o12`,`o21`和`numTokens`都是整数，因此表达式被计算为整数，然后转换为浮点数，因为`e11`is `double`。

这喜欢做

```
const double a_quarter = 1 / 4; 
```

这只是同一问题的一个更简单的情况：*首先*计算表达式，然后将结果（整数`0`）转换为双精度并存储。这就是语言的工作方式。

解决方法是强制转换：

```
e11 = ((o12 * o21) / (double) numTokens); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:25:16.533

您必须将这些数字转换为`double`除法之前。当您对结果执行除法时`int`，结果也是一个向零舍入的整数，例如`1 / 2 == 0`，但是`1.0 / 2.0 == 0.5`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:25:45.063

如果操作数是整数，C 将执行整数运算。即，`1/4 == 0`。但是，如果您强制操作数为`double`，则算术将考虑小数部分。所以：

```
int a = 1;
int b = 4;
double c = 1.0

double d = a/b;         // d == 0.0
double e = c/b;         // e == 0.25
double f = (double)a/b; // f == 0.25 
```

# android - 如何获取gerrit的数据

> ID：15021854
> 
> 赞同：0
> 
> 时间：2013-02-22T10:21:54.327
> 
> 标签：android, git, gerrit, repository

我使用以下查询来获取项目“平台/供应商/公司/代码”中所有打开的 gerrit 的数据，现在我只想获取特定 gerrit 的数据..可以说有一个 gerrit #12345 ..我想获取这个 gerrit 的数据。有没有可以为此编写的 gerrit 查询？

```
ssh -p 29418 review-android.company.com gerrit query --current-patch-set --commit-message --files 'status:open project:platform/vendor/company/code branch:master label:Developer-Verified=1 AND label:Code-Review>=1' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T16:55:13.187

您可以将查询字符串替换为 gerrit 更改编号。所以对于你的例子，

`ssh -p 29418 review-android.company.com gerrit query --current-patch-set --commit-message --files '12345'`

# java - 为 Double 设置四舍五入

> ID：15021856
> 
> 赞同：0
> 
> 时间：2013-02-22T10:21:56.900
> 
> 标签：java

如何使用 1.5 设置四舍五入，但我知道我们可以使用 1.6 做到这一点。请给予指导。我想在不像这样四舍五入它的小数的情况下获得双倍值。我无法使用 1.5 的舍入模式。

```
 double d1 = 1234567812342134.45678567;
   DecimalFormat df = new DecimalFormat(".00000");
   df.setMaximumFractionDigits(5);
   //df.setRoundingMode(RoundingMode.DOWN); 
   System.out.println(df.format(d1)); 
```

**预期输出：** 1234567812342134.45678

**现在输出：** 1234567812342134.50000

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:57:16.583

问题是你的`double d1 = 1234567812342134.45678567;`

它太大了，`double`无法存储到那种精确度，如果你从两端删除 5 位数字，你将得到你所追求的四舍五入；您的`DecimalFormat`相关代码还可以。

# java - 同一意图的多个通知

> ID：15021858
> 
> 赞同：1
> 
> 时间：2013-02-22T10:22:08.140
> 
> 标签：java, android

我正在编写一个应用程序，在这个应用程序中，**我需要设置多个具有相同意图的通知，**就像每当用户点击任何通知时打开我的应用程序一样。

所有通知都在不同的时间和日期出现，没有任何数据，但问题是，**如果我为下午 3:27 和下午 3:28 设置了两个通知，那么第一个通知（下午 3:27）被取消（被第二个覆盖）第二是正常工作**。

我目前正在使用此代码来实现此目标：

此方法用于设置来自 Activity 的通知：

```
 public static void setNotificationOnDateTime(Context context, long fireTime)
     {
         int requestID = (int) System.currentTimeMillis();

         AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
         Intent i = new Intent(context, NotificationReceiver.class);

         PendingIntent pi = PendingIntent.getBroadcast(context, requestID, i, 0);
         am.set(AlarmManager.RTC_WAKEUP, fireTime, pi);
     } 
```

我的 NotificationReceiver 类如下所示：

```
 NotificationManager nm;

 @Override
 public void onReceive(Context context, Intent intent) {
     Log.w("TAG", "Notification fired...");

     nm = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);

     PendingIntent contentIntent;

     Bundle bundle = intent.getExtras().getBundle("NotificationBundle");
     if(bundle == null)
     {
         contentIntent = PendingIntent.getActivity(context, 0,
                 new Intent(context, SplashScreen.class), 0);
     }

     else
     {
         contentIntent = PendingIntent.getActivity(context, 0,
                 new Intent(context, MenuScreen.class)
         .putExtra("NotificationBundle", bundle), 0);
     }

     Notification notif = new Notification(R.drawable.ic_launcher,
             "Crazy About Android...", System.currentTimeMillis());
     notif.setLatestEventInfo(context, "Me", "Message test", contentIntent);
     notif.flags |= Notification.FLAG_AUTO_CANCEL;
     nm.notify(1, notif);
 } 
```

我已经花了很多时间在谷歌上搜索并找到了一些解决方案，但它们对我不起作用这里是其中一些的链接：

[android挂起的意图通知问题](https://stackoverflow.com/a/3009690/1250370)

[同一活动的多个通知](https://stackoverflow.com/q/6066363/1250370)

如果有人知道如何做到这一点，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:48:05.440

[报价](http://developer.android.com/reference/android/app/NotificationManager.html#notify%28int,%20android.app.Notification%29)：

> 发布要在状态栏中显示的通知。如果您的应用程序已经发布了具有相同 id 的通知并且尚未取消，它将被更新的信息替换。

但是你总是使用`1`参数`id`。发布多个通知时使用唯一 ID。

**更新**如果这没有帮助，您仍然可以创建不比较为相等的意图，同时具有相同的效果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:27:57.407

这可能会有所帮助

notif.flags |= Notification.FLAG_ONGOING_EVENT;

通知永远不会关闭...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:35:14.870

尝试设置如下：

> ```
>  contentIntent=PendingIntent.getActivity(p_context, i, new Intent(context, MenuScreen.class),PendingIntent.FLAG_CANCEL_CURRENT); 
> ```

它可能会帮助你。

# regex - 如何从 R 中解析 R 语法？

> ID：15021863
> 
> 赞同：2
> 
> 时间：2013-02-22T10:22:32.010
> 
> 标签：regex, r, parsing

我正在尝试通过分析 R 历史来编写一个可以追溯对象历史的小脚本。我坚持有效地解析 R 命令并拆分它们。考虑以下 R 命令：

```
for( i in 1:10 ) { a[i] <- myfunc() ; print( sprintf( "done step %d; proceeding", i ) )  } 
```

在分号或大括号处拆分不是问题，但是引号中的分号（或其他特殊事物）呢？我最终会逐个字符地跟踪我是否在引号中（以及反斜杠......）。这是步法，我敢肯定有一些更简单的东西，可能是在 Unix 诞生的时候发明的。一个聪明的正则表达式，也许？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T10:38:18.140

使用`parse`. 它返回一个表达式，可以将其子集到解析树的各个组件中：

```
x <- parse(text='for( i in 1:10 ) { a[i] <- myfunc() ; print( sprintf( "done step %d; proceeding", i ) )  }',n=1)

x[[1]]
for (i in 1:10) {
    a[i] <- myfunc()
    print(sprintf("done step %d; proceeding", i))
}

x[[1]][[1]]
`for`

x[[1]][[4]]
{
    a[i] <- myfunc()
    print(sprintf("done step %d; proceeding", i))
}

x[[1]][[4]][[2]]
a[i] <- myfunc() 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T11:16:24.007

这取决于您需要多少详细信息，但除了基本`parse`功能之外，您还可以查看很棒的`parser`包，它可以快速完成工作，并且与`parse`. 快速演示：

```
> library(parser)
> parser(text='for( i in 1:10 ) { a[i] <- myfunc() ; print( sprintf( "done step %d; proceeding", i ) )  }')
expression(for (i in 1:10) {
    a[i] <- myfunc()
    print(sprintf("done step %d; proceeding", i))
})
attr(,"data")
   line1 col1 byte1 line2 col2 byte2 token id parent top_level           token.desc terminal                       text
1      1    0     0     1    3     3   270  1     77         0                  FOR     TRUE                        for
2      1    3     3     1    4     4    40  2     77         0                  '('     TRUE                          (
3      1    5     5     1    6     6   263  4     77         0               SYMBOL     TRUE                          i
4      1    7     7     1    9     9   271  6     77         0                   IN     TRUE                         in
5      1   10    10     1   11    11   261  8      9         0            NUM_CONST     TRUE                          1
6      1   10    10     1   11    11    78  9     15         0                 expr    FALSE                           
7      1   11    11     1   12    12    58 10     15         0                  ':'     TRUE                          :
8      1   12    12     1   14    14   261 11     12         0            NUM_CONST     TRUE                         10
9      1   12    12     1   14    14    78 12     15         0                 expr    FALSE                           
10     1   15    15     1   16    16    41 14     77         0                  ')'     TRUE                          )
11     1   10    10     1   14    14    78 15     77         0                 expr    FALSE                           
12     1   17    17     1   18    18   123 18     74         0                  '{'     TRUE                          {
13     1   19    19     1   20    20   263 20     22         0               SYMBOL     TRUE                          a
14     1   20    20     1   21    21    91 21     28         0                  '['     TRUE                          [
15     1   19    19     1   20    20    78 22     28         0                 expr    FALSE                           
16     1   21    21     1   22    22   263 23     25         0               SYMBOL     TRUE                          i
17     1   22    22     1   23    23    93 24     28         0                  ']'     TRUE                          ]
18     1   21    21     1   22    22    78 25     28         0                 expr    FALSE                           
19     1   19    19     1   23    23    78 28     40         0                 expr    FALSE                           
20     1   24    24     1   26    26   265 30     40         0          LEFT_ASSIGN     TRUE                         <-
21     1   27    27     1   33    33   297 32     34         0 SYMBOL_FUNCTION_CALL     TRUE                     myfunc
22     1   33    33     1   34    34    40 33     37         0                  '('     TRUE                          (
23     1   27    27     1   33    33    78 34     37         0                 expr    FALSE                           
24     1   34    34     1   35    35    41 35     37         0                  ')'     TRUE                          )
25     1   27    27     1   35    35    78 37     40         0                 expr    FALSE                           
26     1   36    36     1   37    37    59 39     74         0                  ';'     TRUE                          ;
27     1   19    19     1   35    35    78 40     74         0                 expr    FALSE                           
28     1   38    38     1   43    43   297 44     46         0 SYMBOL_FUNCTION_CALL     TRUE                      print
29     1   43    43     1   44    44    40 45     69         0                  '('     TRUE                          (
30     1   38    38     1   43    43    78 46     69         0                 expr    FALSE                           
31     1   45    45     1   52    52   297 48     50         0 SYMBOL_FUNCTION_CALL     TRUE                    sprintf
32     1   52    52     1   53    53    40 49     64         0                  '('     TRUE                          (
33     1   45    45     1   52    52    78 50     64         0                 expr    FALSE                           
34     1   54    54     1   80    80   260 52     54         0            STR_CONST     TRUE "done step %d; proceeding"
35     1   80    80     1   81    81    44 53     64         0                  ','     TRUE                          ,
36     1   54    54     1   80    80    78 54     64         0                 expr    FALSE                           
37     1   82    82     1   83    83   263 58     61         0               SYMBOL     TRUE                          i
38     1   84    84     1   85    85    41 60     64         0                  ')'     TRUE                          )
39     1   82    82     1   83    83    78 61     64         0                 expr    FALSE                           
40     1   45    45     1   85    85    78 64     69         0                 expr    FALSE                           
41     1   86    86     1   87    87    41 66     69         0                  ')'     TRUE                          )
42     1   38    38     1   87    87    78 69     74         0                 expr    FALSE                           
43     1   89    89     1   90    90   125 71     74         0                  '}'     TRUE                          }
44     1   17    17     1   90    90    78 74     77         0                 expr    FALSE                           
45     1    0     0     1   90    90    78 77      0         0                 expr    FALSE 
```

# ruby-on-rails - 在rails中提交后回滚事务

> ID：15021864
> 
> 赞同：6
> 
> 时间：2013-02-22T10:22:36.963
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

保存成功后可以回滚记录吗？

让我有一个带有属性名称、电子邮件等的用户模型。

例如。

```
u=User.new
u.name="test_name"
u.email="test@email.com"
u.save 
```

现在记录将成功保存在数据库中，之后我想回滚我的事务（而不是销毁或删除）。有什么想法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T10:27:58.200

您可以通过交易执行此操作，请参阅[http://markdaggett.com/blog/2011/12/01/transactions-in-rails/](http://markdaggett.com/blog/2011/12/01/transactions-in-rails/)

例子：

```
User.transaction do
  User.create(:username => 'Nemu')
  raise ActiveRecord::Rollback
end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T15:47:38.377

还有一个叫做 PaperTrail 的 gem，我们一直在使用它并取得了巨大的成功。它可能比你想要的多一点。

> PaperTrail 可让您跟踪模型数据的更改。它适用于审计或版本控制。您可以查看模型在其生命周期中的任何阶段是如何看待的，将其还原为任何版本，甚至在它被销毁后取消删除它。

[https://github.com/airblade/paper_trail](https://github.com/airblade/paper_trail)

无从属关系。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-22T10:30:21.007

您可以在沙盒模式下运行控制台

```
$> rails c --sandbox 
```

*   退出时，所有更改都回滚到进入点。

# c++ - 对于不支持 RTLD_DEEPBIND 的平台，在 dlopen() 函数中是否有 RTLD_DEEPBIND 标志的替代方法？

> ID：15021865
> 
> 赞同：7
> 
> 时间：2013-02-22T10:22:38.983
> 
> 标签：c++, shared-libraries, cross-platform, posix, loading

我有一个第三方库（比如 TP.so）使用不正确的库版本（比如 GenericV1.so）而不是使用它应该使用的库版本（比如 GenericV2.so）的问题。额外的库包含在我的程序中使用。

对此的直接解决方案（在 SO 上有详细记录）是使用 dlopen() 和 RTLD_DEEPBIND 标志。但该标志仅在 Linux 上有效，在 HP-UX、Solaris、AIX 等其他平台上无效。

在这些非 Linux 平台上使用 RTLD_DEEPBIND 是否有替代方案？

感谢您的回复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-05T08:49:47.600

在我看来，您根本不需要 RTLD_DEEPBIND。您只需要确保具有竞争符号的库以正确的顺序加载。

一些想法：

1.  您可以使用 LD_PRELOAD 确保在任何其他库之前加载正确的库 (GenericV2.so)。

2.  您可以创建一个以正确顺序打开库的函数：GenericV2.so，然后是 TP.so。

3.  是否可以确保 GenericV1.so 永远不会被加载？你需要这个图书馆的任何东西吗？

# javascript - 关闭由 toggle() 函数打开的元素

> ID：15021868
> 
> 赞同：0
> 
> 时间：2013-02-22T10:22:54.703
> 
> 标签：javascript, jquery

当我单击浏览器窗口中的任何位置时，如何关闭由 toggle() 函数打开的元素。例如此站点上的 StackExchange 链接。当我单击此链接时，会出现 div，但如果我单击窗口中的任何位置，它就会消失。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:26:54.923

你可以这样做：

```
$(function(){
  $('.yourelem, .targetDiv').click(function(ev){
    $('.targetDiv').slideDown('fast');
    ev.stopPropagation();
  });

  $(document).click(function(){
    $('.targetDiv').slideUp('fast');
  });
}); 
```

## [查看jsbin中的动作](http://jsbin.com/ayuhol/1/edit)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:26:59.790

试试这个 ：

HTML

```
<a id="show" href="#">show</a>
<div class="test" style="display: none;">
    hey
</div> 
```

JS

```
$('a#show').click(function(event) {
    event.stopPropagation();
    $('.test').toggle(); 
});

$('html').click(function() {
    $('.test').hide();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:29:00.717

看看jquery的.blur函数[http://api.jquery.com/blur/](http://api.jquery.com/blur/)

一个简单的例子：

```
 $("#myelement").blur(function(){
    $(this).hide(); 
    //or
    $("#targetelement").hide();
 }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:31:00.587

制作变量 sel `true`，如果我们点击`div`.

```
if(sel)
$(".stackExchange").slideDown(800);

else 
$(".stackExchange").slideUp(800); 
```

# java - 在Java Map中使用BitSet作为键时如何解决ClassCastException

> ID：15021870
> 
> 赞同：0
> 
> 时间：2013-02-22T10:23:00.843
> 
> 标签：java, equals, classcastexception, bitset

我在用：

```
Map <BitSet,Double> Mymap=new TreeMap<>(); 
```

当我尝试打电话时：

```
Mymap.contains(someBitSetObject) 
```

我收到以下运行时错误：

```
Exception in thread "main" java.lang.ClassCastException: java.util.BitSet cannot be cast to java.lang.Comparable
    at java.util.TreeMap.getEntry(TreeMap.java:343)
    at java.util.TreeMap.containsKey(TreeMap.java:227) 
```

……………………………………………………………………………………………………………………

虽然 BitSet 类有自己的 equals 方法，`TreeMap`但没有调用它。我被困住了。如何检查是否`MyMap`已经包含一个密钥并且我需要一个类型的密钥`BitSet`？

请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:24:29.707

[`TreeMap`](http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html)依赖于可排序的键 - 不仅仅是可排序的：

> 地图根据其键的自然顺序或`Comparator`在地图创建时提供的排序，具体取决于使用的构造函数。

`BitSet`没有实现`Comparable`。您需要向构造函数提供 a ，*或者*使用不同类型的映射。如果您不关心排序顺序，请使用or 。如果您*确实*关心排序顺序，则需要自己进行排序。`Comparator<BitSet>``TreeMap``HashMap``LinkedHashMap`

# javascript - 在 iOS Cordova 框架中包含我的 custom.js

> ID：15021876
> 
> 赞同：0
> 
> 时间：2013-02-22T10:23:18.977
> 
> 标签：javascript, ios, css, cordova

我是 iOS Cordova 开发的新手。好吧，我设法运行了示例 html。

但我面临的问题是 CSS 和 JS 文件。我无法使用 simple 访问文件`<link href="css/style.css" rel="stylesheet" type="text/css" /> or in the case of javascript js/test.js`。

谁能告诉我如何获取文件？或者，如果您可以提供一些博客或视频教程的链接，将会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:19:12.483

我不知道样式，但是如果您将其添加到`index.html`文件中，js 应该可以工作。尝试做一个干净，然后再次构建。

# python - PyQt：在创建 pixMap 后显示文件对话框会产生分段错误

> ID：15021877
> 
> 赞同：1
> 
> 时间：2013-02-22T10:23:21.830
> 
> 标签：python, qt, pyqt, pyqt4, qpixmap

我正在使用 PyQt 开发一个 GUI，对一些实验中收集的数据进行可视化分析。GUI 要求用户指明要分析的数据所在的目录：

```
class ExperimentAnalyzer(QtGui.QMainWindow):
    ## other stuff here

    def loadExperiment(self):
        directory = QtGui.QFileDialog.getExistingDirectory(self,
                                                           "Select Directory")
        ## load data from directory here 
```

GUI 提供了一种***播放***功能，通过该功能，用户可以看到实验数据如何随时间变化。这是通过**QTimer**实现的：

```
 def playOrPause(self):
      ## play
      if self.appStatus.timer is None:
          self.appStatus.timer = QtCore.QTimer(self)
          self.appStatus.timer.connect(self.appStatus.timer,
                                       QtCore.SIGNAL("timeout()"),
                                       self.nextFrame)

          self.appStatus.timer.start(40)

       ## pause
       else:
          self.appStatus.timer.stop()
          self.appStatus.timer = None 
```

如果我***播放***数据的时间序列，然后***暂停***，然后尝试更改目录以加载新实验中的数据，我会遇到**分段错误**。

使用一些调试打印，我发现应用程序在我调用时崩溃

```
 QtGui.QFileDialog.getExistingDirectory(self, "Select Directory") 
```

在***loadExperiment***方法中。

我对 Qt 很陌生，我认为我没有正确处理计时器。
我在 Ubuntu 10.04 上使用 PyQt 4.9、Python 2.7.3。

## **编辑1**：

在卢克的回答之后，我回到了我的代码。
这是***nextFrame***方法，每次定时器发出***超时***信号时都会调用。它更新包含在 GUI 中的 QGraphicsScene 元素：

```
def nextFrame(self):
    image = Image.open("<some jpg>")
    w, h = image.size
    imageQt = ImageQt.ImageQt(image)
    pixMap = QtGui.QPixmap.fromImage(imageQt)

    self.scene.clear()
    self.scene.addPixmap(pixMap)
    self.view.fitInView(QtCore.QRectF(0, 0, w, h),
                        QtCore.Qt.KeepAspectRatio) 
```

其中 self.scene 和 self.view 对象先前已在 GUI 构造函数中实例化为

```
self.view = QtGui.QGraphicsView(self)
self.scene = QtGui.QGraphicsScene()
self.view.setScene(self.scene) 
```

我发现评论这一行：

```
 # self.scene.addPixmap(pixMap) 
```

并重复上面报告的相同操作序列，不再发生分段错误。

## **编辑2**：

使用 gdb（使用 python-dbg）运行应用程序，结果是在调用 QPainter::drawPixmap 之后发生分段错误。

```
(gdb) bt
#0  0xb6861f1d in ?? () from /usr/lib/i386-linux-gnu/libQtGui.so.4
#1  0xb685d491 in ?? () from /usr/lib/i386-linux-gnu/libQtGui.so.4
#2  0xb693bcd3 in ?? () from /usr/lib/i386-linux-gnu/libQtGui.so.4
#3  0xb69390bc in ?? () from /usr/lib/i386-linux-gnu/libQtGui.so.4
#4  0xb6945c77 in ?? () from /usr/lib/i386-linux-gnu/libQtGui.so.4
#5  0xb68bd424 in QPainter::drawPixmap(QPointF const&, QPixmap const&) () from   /usr/lib/i386-linux-gnu/libQtGui.so.4 
```

因此，这不是与计时器处理有关的问题，正如我在第一个实例中所相信的那样。
发生分段错误是因为我对 pixMap 做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:59:07.780

抱歉，我无法重现您看到的段错误。这是我试图重现您的崩溃的应用程序的完整源代码（Qt 4.8.1、PyQt 4.9.1、Python 2.7.3、Kubuntu Precise）：

```
#!/usr/bin/env python

import sys
from PyQt4 import QtCore, QtGui

class AppStatus(object):
    def __init__(self):
        self.timer = None

class ExperimentAnalyzer(QtGui.QMainWindow):
    def __init__(self, parent=None):
        super(ExperimentAnalyzer, self).__init__(parent)
        elayout = QtGui.QVBoxLayout()

        self.count = 0
        self.appStatus = AppStatus()

        everything = QtGui.QWidget(self)
        everything.setLayout(elayout)

        button = QtGui.QPushButton("Start/stop timer", self)
        self.connect(button, QtCore.SIGNAL("clicked()"), self.playOrPause)
        elayout.addWidget(button)

        button = QtGui.QPushButton("Load experiment", self)
        self.connect(button, QtCore.SIGNAL("clicked()"), self.loadExperiment)
        elayout.addWidget(button)

        self.setCentralWidget(everything)

    def loadExperiment(self):
        directory = QtGui.QFileDialog.getExistingDirectory(self, "Select Directory")

    def nextFrame(self):
        self.count += 1
        print self.count

    def playOrPause(self):
        if self.appStatus.timer is None:
            self.appStatus.timer = QtCore.QTimer(self)
            self.appStatus.timer.connect(self.appStatus.timer,
                                       QtCore.SIGNAL("timeout()"),
                                       self.nextFrame)

            self.appStatus.timer.start(40)

        else:
            self.appStatus.timer.stop()
            self.appStatus.timer = None

if __name__ == "__main__":
    app = QtGui.QApplication(sys.argv)
    mainwin = ExperimentAnalyzer(None)
    mainwin.show()
    app.exec_() 
```

如果此测试应用程序没有为您崩溃，那么问题出在您没有向我们展示的代码中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T11:30:41.737

好的，我最终发现了问题所在。
我修改了***nextFrame***方法以保持对***ImageQt***对象的引用，即：

```
def nextFrame(self):
    ## load the image from file

    self.appStatus.imageQt = ImageQt.ImageQt(image)
    pixMap = QtGui.QPixmap.fromImage(self.appStatus.imageQt)

    ## update the QGraphicsView 
```

并且分段错误消失了。

我对此的解释如下：**Qt**在内部保留一个指向***ImageQt***对象的指针，每次触发***paintEvent***时都会使用该指针（因此，必须重新绘制 pixMap）。
不保留对***ImageQt***对象的引用允许 Python 的 GC 收集它。结果，**Qt**将尝试从已释放的内存区域中读取，从而产生分段错误。

# c++ - 静态结构成员获得“未定义的引用”。不知道为什么

> ID：15021879
> 
> 赞同：1
> 
> 时间：2013-02-22T10:23:23.937
> 
> 标签：c++, static, struct, undefined-reference

我想创建一个从许多其他类收集信息并结束模拟的类。为此，它必须独立于所有其他类并且完全可访问。为此，我选择了静态方法，确实是静态结构。

这是我的 Foo.h

```
class Foo
{
 public:
   static int app_counter;

   typedef struct
   {
       double eed;
       int bits;  
   }APPLayer;

   static APPLayer applayer_metric;
public:
   Foo(){};
   ~Foo();
}; 
```

这是 Foo.cpp

```
#include "Foo.h"
int Foo::app_counter=0;
//How do I set all internal members to zero?
Foo::APPLayer applayer_metric;
Foo::~Foo()
{
  std::cout << app_counter << std::endl; 
  //Which is the way to access to the values of my members?
  std::cout << applayer_metric.bits << std::endl;
} 
```

这是我在 Foo.CPP 中遇到的错误

> Foo.cc:38：未定义的对“Foo::applayer_metric”的引用

例如，如果我将 Foo.cpp 中的行更改为这一行

> std::cout << Foo::applayer_metric.bits << std::endl;

我得到完全相同的错误。

我的问题是：

1.  如何将静态结构变量的所有成员初始化为零？
2.  如何在 Foo.cpp 的其他函数中访问这些成员？

仅供参考，如果我初始化并访问变量“app_counter”，没有任何抱怨

我究竟做错了什么？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:26:32.850

您的定义`Foo::applayer_metric`缺少范围解析运算符。将其更改为：

```
Foo::APPLayer Foo::applayer_metric; 
```

# xml - Symfony 2 在 service.xml 中传递数组

> ID：15021880
> 
> 赞同：5
> 
> 时间：2013-02-22T10:23:25.990
> 
> 标签：xml, arrays, symfony, service, connection

我的 services.xml 中有服务

```
<service id="my.connection" class="Doctrine\Bundle\DoctrineBundle\ConnectionFactory">
</service>

<service id="my.main" class="%my.main.class%">
    <call method="foo">
        <argument type="service" id="tmcyc.connection" />
    </call>
</service> 
```

但出现错误：

> 可捕获的致命错误：传递给 Doctrine\Bundle\DoctrineBundle\ ConnectionFactory::__construct() 的参数 1 必须是一个数组，没有给出...

如何传递带参数的数组？例如：

```
<service id="my.connection" class="Doctrine\Bundle\DoctrineBundle\ConnectionFactory">
    <argument>[ARRAY]</argument>
</service> 
```

或者我做错了什么？因为这段代码工作得更好：

```
$connectionFactory = $this->getContainer()->get('doctrine.dbal.connection_factory');
$conn = $this->createConnection($this->conn);
$conn->executeQuery('SET NAMES utf8'); 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-12-17T00:02:10.343

他的例子应该阐明原则：

在***.yml 中**

```
some_id: 
    class: %some.class%
    arguments: 
        - %some.argument%, 
        - [tags: [environment: %kernel.environment%, debug:%kernel.debug%]] 
```

在***.xml中**

```
<service id="some_id" class="%some.class%">
    <argument>%some.argument%</argument>
    <argument type="collection">
        <argument key="tags" type="collection">
            <argument key="environment">%kernel.environment%</argument>
            <argument key="debug">%kernel.debug%</argument>
        </argument>
    </argument>
</service> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T11:46:19.137

好的，找到答案了

```
<service id="my.connection" class="Doctrine\Bundle\DoctrineBundle\ConnectionFactory">
    <argument>%doctrine.dbal.connection_factory.types%</argument>
</service> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-29T16:18:28.250

与参数相同

在***.xml中**

```
 <parameter key="some.key" type="collection">
        <parameter>parameter 1</parameter>
        <parameter>parameter 2</parameter>
    </parameter> 
```

# networking - 移动网络方面的持久 TCP 连接？

> ID：15021883
> 
> 赞同：2
> 
> 时间：2013-02-22T10:23:36.017
> 
> 标签：networking, mobile, tcp, network-programming, websocket

我对移动连接中的 WebSocket 通信有疑问。

我想知道当用户在不同网络之间迁移时，如何在移动网络中长时间处理长期存在的 TCP 连接。当切换（hand-off）发生时已经建立的 TCP 连接会发生什么？

在这种情况下，不同的技术（3G、4G 等）是否表现不同？

如果您也可以留下一些在线资源或文章，我将不胜感激，我可以在这方面阅读更多内容？

先感谢您 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-19T15:41:18.363

切换对用户始终是透明的——在 LTE、UMTS 等商业移动网络上的塔之间转换时，所有 TCP 和语音连接始终保持活动状态。您可能会遇到数据停止流动的某些时间段，但就是这样。

我有好几次机会通过在 T-Mobile USA 的*HSPA+*全国网络上进行的有趣实验来验证这一点。从一个主要城市开车 12 小时以上到另一个城市，无需关闭手机。查看外部 IPv4 地址终止的区域（通过使用 traceroute）。您可能会注意到它仍然在您开始旅行的同一区域。现在重新启动电话，然后查看外部 IPv4 地址现在路由到的位置。您会注意到，现在它很可能在离您所在位置更近的主要都会区终止。即，您在运营商核心网络中的连接不仅会跟随您在给定的城市、地铁或州内，而且还会在州和时区之间跟随您。

这样做的原因是运营商有一个*核心网络*，所有外部连接都由*核心网络*的*数据包网关*处理，该网关跟踪所有连接。有关这方面的更多信息，请参见《[高性能浏览器网络》（HPBN.co）](http://HPBN.co)一书的[第 7 章](http://chimera.labs.oreilly.com/books/1230000000545/ch07.html)。

 ** * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-22T10:28:22.570

这不是一个真正的 SO，而是一个程序员的问题，我看不出你为自己研究了什么，但你当然不能依靠连接来保持活力，无论是否移动。

事实上，移动运营商通过在一定时间或数据后重置它们来终止长期连接。因此，无论如何，您都应该准备好在套接字异常时重新连接。*

# php - 如何在 Zend Framework 中的异常上继续执行 php 脚本？

> ID：15021887
> 
> 赞同：0
> 
> 时间：2013-02-22T10:23:54.250
> 
> 标签：php, zend-framework, exception, uncaught-exception

当我执行我的脚本时出现问题并引发异常，而不是停止所有脚本。我怎样才能告诉 zend 继续？

当我获取邮件时出现此错误我有一个 try catch 块但它没有捕获。

```
Fatal error: Uncaught exception 'Zend\Mail\Exception\RuntimeException' with message 'Line "X-Assp-Message/IP-Score: 
```

谢谢。

我的代码是一个简单的类来获取邮件：

```
$listm  = new Zend\Mail\Storage\Pop3(array('host' => $this->mServer,'user' => $this->mMail, 'password' => $this->mPassword));

foreach ($listm as $msgp3)
{
    try 
    {
        e($msgp3->from);
        e($msgp3->to);
        e($msgp3->subject);
        e($msgp3->date);
        e(strtotime($msgp3->date));
        e($msgp3->messageid);
    } catch (Exception $e) {
        e($e->getMessage());
    }
} 
```

而且我的代码在 10em 邮件处停止，那么如何告诉 Zend 不会停止呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:32:16.743

如果您不想在指出异常时停止进程。您可以使用 try and catch 方法。像这样：

```
 try {
    DoSomethingReallyBad()
 }
 catch(RuntimeException $e) {
    // do nothing
 }

 // go further 
```

我必须说何时调用异常。您上一个任务的进程已退出。

注意：我没有测试这个！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:32:41.443

你是如何捕捉异常的？你能在你的问题中提供 try/catch 代码吗？

在 Zend 中，您需要使用被抛出的完整的 zend 异常类。在这种情况下，它是`Zend\Mail\Exception\RuntimeException`，它变成了`Zend_Mail_Exception_RuntimeException`。

```
try
{
  // ...
}
catch (Zend_Mail_Exception_RuntimeException $e)
{
  // ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T12:47:15.453

我终于发现我的问题在哪里：

当我在此处获取消息时返回错误，因此在 for 指令中：

```
foreach ($listm **as $msgp3**) 
```

要在获取消息时捕获任何错误，我必须以这种方式获取：

```
$maxMessage = count($messageList);
        for($i = 0; $i < $maxMessage; $i++) 
        {
            try{
                $msgp3 =  $messageList->getMessage($i);                 
                //--- WORK ON msgp3
                }catch(Exception $e) {
                echo 'E2->'.$e->getMessage();
            }
        } 
```

现在我的脚本继续......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T10:26:21.557

异常的意义在于告诉您发生了不好的事情，您需要构建代码来正确处理它。没有看到您的代码，虽然很难调试。

# asp.net - SQL Server 2008 的 ISNULL

> ID：15021892
> 
> 赞同：4
> 
> 时间：2013-02-22T10:24:00.497
> 
> 标签：asp.net, sql-server-2008, stored-procedures

我想`ISNULL`与表格的所有列一起使用。

像这样

```
SELECT ISNULL(* , 'NA') FROM #tbl 
```

我知道这是一种错误的方式，我必须分别指定每个列名才能使用`ISNULL`。

但在我的情况下`#tbl`是一个临时表，列是动态创建的

像这样：

```
EXEC ('ALTER TABLE #tbl ADD [' + @bno + '] varchar(30)') 
```

因此，我不能在选择查询中使用列名，因为列名总是不同的。

所以我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:57:23.383

将您的动态 SQL 更改为：

```
EXEC ('ALTER TABLE #tbl ADD [' + @bno + '] varchar(30) NULL DEFAULT(''NA'')') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:27:28.980

尝试从 tempdb.sys.columns 表中获取临时表的字段，然后遍历这些字段：

```
select c.*
from tempdb.sys.columns c
inner join tempdb.sys.tables t ON c.object_id = t.object_id
where t.name like '#TableName%' 
```

# linkedin - 如何在linkedin中搜索多个公司的人

> ID：15021897
> 
> 赞同：1
> 
> 时间：2013-02-22T10:24:10.997
> 
> 标签：linkedin, jsapi

是否可以使用linkedin jsapi
iam一次搜索多个公司的人员，使用以下网址搜索
其给零的人

"/people-search:" + "(people:(first-name,last-name,relation-to-viewer,picture-url,public-profile-url,positions),facets:(code,buckets:(name, code,count)))" + "?facets=network&facet=network,F,S&count=3¤t-company=true&sort=distance&company-name=ibm,infosys,oracle";

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T19:49:49.137

如果你只需要几个公司ID，那么使用linkedin[公司ID查找工具](http://developer.linkedin.com/apply-getting-started#company-lookup)获取公司ID，然后进行分面公司搜索如下：

`"/people-search:" + "(people:(first-name,last-name,relation-to-viewer,picture-url,public-profile-url,positions),facets:(code,buckets:(name,code,count)))" + "?facets=network,current-company&facet=current-company,ID1,ID2,ID3&facet=network,F,S&count=3&current-company=true&sort=distance&company-name=ibm,infosys,oracle";`

替换`ID1`,`ID2`并`ID3`使用您使用上述工具查找的公司的 ID。

如果您有很多公司 ID 要获取，则通过 API 进行公司搜索，以编程方式获取公司 ID，然后进行人员搜索。

# perl - 垂直索引 Perl

> ID：15021898
> 
> 赞同：0
> 
> 时间：2013-02-22T10:24:11.657
> 
> 标签：perl, sum, range

文件 1 的范围为 3-9、2-6 等

```
3 9
2 6
12 20 
```

File2 有值：第 1 列表示范围，第 2 列有值。

```
1   4
2   4
3   5
4   4
5   4
6   1
7   1
8   1
9   4 
```

我想计算file1中范围的值总和（file2，column2）。例如：如果范围是 3-9，那么值的总和将为 5+4+4+1+1+1+4 = 20

我尝试过的是：

```
open (FILE1,"file1.txt");
open (FILE2,"file2.txt");

@file1 = <FILE1>;
@file2 = <FILE2>;

foreach (@file1)
    {
        @split_file2 = split("\\s",$_); //splitting the file by space

foreach (@file2)
    {
        @split_file2 = split("\\s",$_);  //splitting the file by space

if (@split_file1[0] == @split_file2[0]) //if column0 of file1 matches with column0 of file2
    {
        $x += @split_file2[1];  //sum the column1 of file2 

       if ( @split_file2[0] == @split_file1[0] ) //until column1 of file1 = column0 of file2.

            {
            last;
            }
    }
}} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:51:39.490

*   始终使用`use strict; use warnings;`.
*   `split /\s/`更容易阅读。`split ' '`是你真正想要的。
*   不要使用全局变量（例如文件句柄）。
*   检查是否成功很有用`open`，如果只添加`or die $!`.
*   使用有意义的名称，而不是`file1`and `file2`。

```
use strict;
use warnings;
use feature qw( say );

use List::Util qw( sum );

my $file1 = 'file1.txt';
my $file2 = 'file2.txt';

my @file2;
{    
   open(my $fh, '<', $file2)
      or die "Can't open $file2: $!\n";
   while (<$fh>) {
      my ($k, $v) = split;
      $file2[$k] = $v;
   }
}

{    
   open(my $fh, '<', $file1)
      or die "Can't open $file1: $!\n";
   while (<$fh>) {
      my ($start, $end) = split;
      say sum grep defined, @file2[$start .. $end];
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:06:51.933

另一种解决方案：

```
#!/usr/bin/perl

use strict;
use warnings;

my $f1 = shift;
my $f2 = shift;
open FH1, "<", $f1 or die "$!\n";
open FH2, "<", $f2 or die "$!\n";

my %data;

while (<FH1>) {
    $data{$1} = $2 if ($_ =~ m/^(\d+)\s+(\d+)$/);
}

while (<FH2>) {
    if ($_ =~ m/^(\d+)\s+(\d+)$/) {
        my $sum;
        for ($1..$2) {
            $sum += $data{$_} if defined($data{$_});
        }
        print "sum for $1-$2: $sum\n" if defined($sum);
    }
}

close FH1;
close FH2; 
```

称呼：`script.pl values.txt ranges.txt`

# asp.net - 重新选择用户控件内的下拉列表

> ID：15021906
> 
> 赞同：0
> 
> 时间：2013-02-22T10:24:33.410
> 
> 标签：asp.net, user-controls, viewstate

我看过其他两篇与此相关的帖子，但我对我的代码有疑问。所以请多多包涵。

我有用户控件，它有一个文本 boa 和一个下拉列表以及一些自定义验证器。用户控件是通过代码动态添加的。

我正在使用以下代码在用户控件本身内加载下拉列表

```
protected void Page_Load(object sender, EventArgs e)
    {            
        ddl_RRC.DataSource = dicRC_Desc;
        ddl_RRC.DataTextField = "value";
        ddl_RRC.DataValueField = "key";
        ddl_RRC.DataBind();

        txtRC.Text = Request.Form[txtRC.UniqueID];   //To retain the value of text box         
    } 
```

我在 Page_Init 上动态添加用户控件

```
 protected void Page_Init(object sender, EventArgs e)
    {
        if (GetPostBackControl(this) == "btnNewRow")
        {
            custControlCountID++;
        }
        for (int i = 0; i < custControlCountID; i++)
        {
            RejRow customControl = (RejRow)LoadControl("~/RejRow.ascx");
            customControl.ID = "rejRow" + i;
            divHolder.Controls.Add(customControl);
        }
    } 
```

文本框和下拉列表都启用了视图状态。由于我在 Page_Init 中添加控件时使用了相同的 ID，为什么控件没有从视图状态中获取值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:28:34.423

我认为唯一的问题是您`DropDownList`在每次回发时都要对`Page_Load`. 只需检查`IsPostback`-property，例如：

```
protected void Page_Load(object sender, EventArgs e)
{       
    if(!IsPostBack)
    {     
        ddl_RRC.DataSource = dicRC_Desc;
        ddl_RRC.DataTextField = "value";
        ddl_RRC.DataValueField = "key";
        ddl_RRC.DataBind();
    }

    txtRC.Text = Request.Form[txtRC.UniqueID];   //To retain the value of text box         
} 
```

但是，我不确定为什么需要`TextBox.Text`从表单字段设置属性，因为它也应该存储`Text`在`ViewState`.

# python - 使用 Python3 合并 PDF 文件

> ID：15021912
> 
> 赞同：1
> 
> 时间：2013-02-22T10:24:41.497
> 
> 标签：python, pdf, python-3.x

我正在编写一个需要合并许多单页 pdf 文件的小脚本。我希望脚本与 Python3 一起运行并尽可能少地依赖。

对于 PDF 合并部分，我尝试使用[PyPdf](http://knowah.github.com/PyPDF2/)。然而，对 Python 3 的支持似乎有问题。它无法处理 inkscape 生成的 PDF 文件（我需要）。我安装了当前 git 版本的 PyPdf，但以下测试脚本不起作用：

```
import PyPDF2

output_pdf = PyPDF2.PdfFileWriter()

with open("testI.pdf", "rb") as input:
    input_pdf = PyPDF2.PdfFileReader(input)
    output_pdf.addPage(input_pdf.getPage(0))

with open("test.pdf", "wb") as output:
    output_pdf.write(output) 
```

它抛出以下堆栈跟踪：

```
Traceback (most recent call last):
  File "test.py", line 7, in <module>
    output.addPage(input.getPage(0))
  File "/usr/lib/python3.3/site-packages/pyPdf/pdf.py", line 420, in getPage
    self._flatten()
  File "/usr/lib/python3.3/site-packages/pyPdf/pdf.py", line 574, in _flatten
    self._flatten(page.getObject(), inherit)
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 165, in getObject
    return self.pdf.getObject(self).getObject()
  File "/usr/lib/python3.3/site-packages/pyPdf/pdf.py", line 616, in getObject
    retval = readObject(self.stream, self)
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 66, in readObject
    return DictionaryObject.readFromStream(stream, pdf)
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 526, in readFromStream
    value = readObject(stream, pdf)
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 57, in readObject
    return ArrayObject.readFromStream(stream, pdf)
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 152, in readFromStream
    obj = readObject(stream, pdf)
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 86, in readObject
    return NumberObject.readFromStream(stream)
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 231, in readFromStream
    return FloatObject(name.decode("ascii"))
  File "/usr/lib/python3.3/site-packages/pyPdf/generic.py", line 207, in __new__
    return decimal.Decimal.__new__(cls, str(value), context)
TypeError: optional argument must be a context 
```

然而，相同的脚本在 Python 2.7 中可以完美运行。

我在这里做错了什么？这是图书馆的错误吗？我可以在不接触 PyPDF 库的情况下解决它吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T10:43:06.893

So I found the answer. The `decimal.Decimal` module in Python3.3 shows some weird behaviour. This is the corresponding StackOverflow question: [Instantiate Decimal class](https://stackoverflow.com/questions/13194384/instantiate-decimal-class) I added some workaround to the PyPDF2 library and submitted a pull request.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:38:15.843

只是为了确保您知道已经存在的工具可以做到这一点：

*   [PDFtk](http://www.pdflabs.com/tools/pdftk-the-pdf-toolkit)
*   [PDFjam](http://www2.warwick.ac.uk/fac/sci/statistics/staff/academic-research/firth/software/pdfjam) (my favourite, requires LaTeX though)
*   Directly with [GhostScript](http://ghostscript.com):
    `gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=finished.pdf file1.pdf file2.pdf`

# symfony - 需要实体字段类型复选框

> ID：15021914
> 
> 赞同：0
> 
> 时间：2013-02-22T10:24:45.743
> 
> 标签：symfony

我不知道为什么我的实体字段类型（带复选框）没有按要求验证。可能是我做错了什么？

```
$builder   ...
...
->add('idiomas', 'entity', 
   array('class' => 'BackendIdiomasBundle:Idioma',
   'expanded' => true,
   'multiple' => true,'required' => true)) 
```

这是一个带有复选框的实体字段类型（*'expanded' => true,'multiple' => true*），但我需要在发送表单之前至少检查一个实体值。为此，我设置为 'required'=> true，但它不起作用！！！

任何想法或线索？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:32:13.050

尝试使用验证[http://symfony.com/doc/current/book/validation.html](http://symfony.com/doc/current/book/validation.html)

```
Your\MainBundle\Entity\Whatever:
    properties:
        idiomas:
            - NotBlank: ~
            - NotNull: ~ 
```

# javascript - JavaScript 正则表达式长度问题

> ID：15021918
> 
> 赞同：0
> 
> 时间：2013-02-22T10:24:48.797
> 
> 标签：javascript, regex

再会，

我正在尝试将一个值的长度放入输入字段中。输入的值必须是 13 个字符长，不能少不能多。并且必须是数字。

这是我的 JS 代码：

```
value = '8312258066038';
re = new RegExp('^\d{13}$');
alert(re.match(value)); 
```

如果值为 13 个字符，则答案应该为真。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:27:00.367

使用 test() 不匹配()

```
value = '8312258066038';
re = /^\d{13}$/;
alert(re.test(value)); 
```

# windows - 如何解决matlab中的内存不足错误？

> ID：15021919
> 
> 赞同：1
> 
> 时间：2013-02-22T10:24:48.900
> 
> 标签：windows, matlab, out-of-memory

我实现了一个读取 wav 文件并对其进行分析的 matlab 代码。wav文件的大小约为（3-4 G）。当我运行该文件时，出现以下错误：

```
"Out of memory. Type HELP MEMORY for your options" 
```

我试图增加虚拟内存，但没有奏效。以下是我正在使用的代码：

```
event=0;
[x, fs] = wavread('C:\946707752529.wav');
Ts=1/fs;%  sampling period 
N = length(x);% N is the number of samples
slength = N*Ts;%slength is the length of the sound file in seconds

% Reading the first 180 seconds and find the energy, then set a threshold value
calibration_samples = 180 * fs;
[x2, Fs] = wavread('C:\946707752529.wav', calibration_samples);
Tss=1/Fs;
[b,a]=butter(5,[200 800]/(Fs/2));
y2=filter(b,a,x2);

%This loop is to find the average energy of the samples for the first 180 seconds
startSample=1;
endSample=Fs;
energy=0;
 for i=1:180

    energy=energy+sum(y2(startSample:endSample).^2)*Tss;
    startSample=endSample+1;
    endSample=endSample+Fs;

 end
 mean_energy=energy/180;
 Reference_Energy=mean_energy;% this is a reference energy level
 Threshold=0.65*Reference_Energy;

% Now filtering the whole recorded file to be between [200-800] Hz
[b,a]=butter(5,[200 800]/(fs/2));
y=filter(b,a,x);
N = length(y);
N=N/fs; % how many iteration we need

startSample=1;
endSample=fs;
energy=0;
j=1;
 while( j<=N)
    counter=0;
    energy=sum(y(startSample:endSample).^2)*Ts;

    if (energy<=Threshold)
        counter=counter+1;

        for k=1:9

            startSample=endSample+1;
            endSample=endSample+fs;
            energy=sum(y(startSample:endSample).^2)*Ts;

               if (energy<=Threshold)
                   counter=counter+1;

               else 
                   break;
               end %end inner if
        end % end inner for

    end % end outer IF
     if(counter>=10)
        event=event+1;

     end
    if(counter>0)
        j=j+counter;
    else
        j=j+1;
    end
    startSample=endSample+1;
    endSample=endSample+fs;

 end % end outer For 
```

系统：Windows 7 64 位
内存：8 GB
Matlab：2013

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:33:44.793

我猜 wavread 实际上将波形文件的所有数据存储到系统内存中。此外，它可能会添加额外的信息。

我看到你调用这个函数两次，将结果存储在不同的矩阵中，所以你的文件是 3-4G，你至少需要 6-8G 的内存。但是，您的操作系统、Matlab 和其他程序可能也需要一些内存，这就是您出现内存不足错误的原因。

一种解决方案是将WAV文件分成多个文件，分别读取。另一种解决方案是只调用一次 wavread，然后在需要的地方使用加载的数据，但不为此重新分配新内存。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:39:57.670

从您的代码来看，这可能有效：

*   读入文件后，删除除前 180 秒以外的所有内容
*   确定阈值
*   清除除第一条数据以外的所有内容
*   分析数据并存储结果
*   清除除下一条数据之外的所有内容...

这是假设您的算法是正确且有效的。

也可能是您的算法有问题，要检测到这个问题，请运行代码`dbstop if error`并在出错时检查所有变量的大小。然后只需检查其中一个是否太大，您可能已经发现了错误。

# iphone - 如何在 iOS 6 中拦截 SMS 消息

> ID：15021922
> 
> 赞同：1
> 
> 时间：2013-02-22T10:25:03.457
> 
> 标签：iphone, ios, sms, jailbreak

如何在 iOS 6 中拦截 SMS 消息？在 ios 6.o 之前，我使用 SMSCTServer - (void)_ingestIncomingCTMessage:(id)message 来完成这项工作，但 iOS 6 放弃了该课程。你还有其他想法吗？

# css - 在开发与生产 Maven 构建期间使用非缩小 CSS

> ID：15021923
> 
> 赞同：1
> 
> 时间：2013-02-22T10:25:03.817
> 
> 标签：css, stylesheet, minify

我使用 samaxes 插件在我的 pom.xml 中实现解决方案没有问题，以缩小并生成我所需的 example.min.css 文件，是否有脚本，我怎样才能保持开发环境在运行中使用 CSS 文件而不会发生很大变化CSS 源文件？

我的 xhtml 文档中有以下代码：

```
 .
    .
    <link type="text/css" rel="stylesheet"
          href="/assets/css/forms.css"/>
    <link type="text/css" rel="stylesheet"
      href="/assets/css/content.css"/>
    <link type="text/css" rel="stylesheet"
          href="/assets/css/images.css"/>
    .
    . 
```

我的 pom 创建了一个 example.min.css 并使用 samaxes 将其保存在相同的位置。我想在我的页面中使用它，但只在生产中使用......我希望能够在这些不同的文件上随时跟上开发，但是当我进行 maven 编译时，它会生成 example.min.css 文件这个，我打算在生产中使用它。有很多很好的答案说使用哪些插件来优化和缩小我的 css 和 js，我只需要知道是否有最佳实践来指向它们而不引入像 wr04J 之类的另一个插件，或者是否有一些 js 我可以如果我使用参数或其他东西，实现可以即时构建条件样式表语句？

最初我使用将渲染属性应用于 ui:fragment 标记的概念，该标记将根据检查 Maven 调试属性是否存在的 bean 属性以一种或另一种方式呈现，但这会产生太多开销，看起来就像一个糟糕的黑客只是为了让它工作。我需要一个更好、更简单的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:14:21.510

使用当前版本的[Minify Maven 插件](https://github.com/samaxes/minify-maven-plugin)，您必须执行以下操作：

```
if productionEnvironment
  <script src="js/bundle.min.js"/>
else
  <script src="js/bundle.js"/>
end 
```

它仍然很容易调试，您只需定义一次源文件（在 pom 中）。
但是，这将在插件的未来版本中得到修复。[Source Maps](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/)可能很快就会成为现实，我计划很快增加对它的支持。

# c++ - 在哪里下载 opengl sdk（v. 3 或 v. 4）？

> ID：15021928
> 
> 赞同：3
> 
> 时间：2013-02-22T10:25:16.697
> 
> 标签：c++, opengl

维基百科说 OpenGL V4.x 是最新的。但是我的 Visual Studio 2012 只提供以下版本

```
#define GL_VERSION_1_1                    1 
```

所以我的问题：

我应该使用哪个版本最常见？例如版本 2.x 因为有很多教程，它是向后兼容的等等？我可能不得不提一下，我通常更喜欢用 C++ 编写，那么是否有任何版本的 Opengl，例如提供命名空间？OpenGL 2,3 和 4 之间是否存在巨大差异？

**我在哪里可以获得 Libs+Header 文件，例如 OpenGl 4？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:30:38.237

> 我在哪里可以获得 Libs+Header 文件，例如 OpenGl 4？

你没有。OpenGL 使用所谓的“扩展机制”来加载超出系统 ABI 版本的功能。存在执行扩展加载并提供具有扩展功能的标头的第三方库。

最受欢迎的是 GLEW，其主页位于[http://glew.sourceforge.net](http://glew.sourceforge.net)；请注意，虽然现在编写此 GLEW 并没有与 OpenGL-3 和更高版本的核心配置文件保持同步。您必须使用 GLEW 的兼容性配置文件，否则事情会变得不稳定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:29:40.593

AFAIK，最流行的 GL 开发库是 GLEW：

[http://glew.sourceforge.net](http://glew.sourceforge.net)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:31:18.433

没有官方的 OpenGL SDK。如果您想使用较新的功能，您必须使用第三方库，例如 GLEW 或 GLFW。

# haskell - Haskell IO 反向字符串输入

> ID：15021935
> 
> 赞同：0
> 
> 时间：2013-02-22T10:25:36.337
> 
> 标签：haskell, map, io, sequence

我不断收到错误消息：无法将预期类型“Bool”与实际类型“[t0]”匹配。我正在尝试获取字符串的用户输入，然后以相反的顺序输出许多字符串。

示例输入：

```
HI1
HI2 
```

示例输出：

```
HI2
HI1 
```

我的代码：

```
 Back :: Int -> IO()
    Back x = do line <- sequence_[getLine|[1..x]]
                     mapM_ print (reverse line) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T12:01:36.820

要扩展 Vitus 的评论`import Control.Monad`，然后

```
back count = do
    lines <- replicateM count getLine
    mapM_ putStrLn (reverse lines) 
```

如果这对您不起作用，请说出您收到的错误消息，或给出错误输出的示例。

在这种情况下，我们可以很容易地放弃 do 符号：

```
back count = mapM_ putStrLn . reverse =<< replicateM count getLine 
```

或者

```
back count = mapM_ putStrLn =<< liftM reverse (replicateM count getLine) 
```

您可能会或可能不会发现其中任何一个更清楚。

* * *

请注意，您的函数名称必须以小写字母开头，例如`back`. `Back`作为函数名是语法错误。

另请注意，缩进很重要。您问题中 do 块的缩进是错误的；我和 melpomene 的答案中的 do 块是正确缩进的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T10:43:35.287

```
back :: Int -> IO ()
back x = do line <- sequence [getLine | _ <- [1 .. x]]
            mapM_ putStrLn (reverse line) 
```

# non-printing-characters - 过滤不可打印字符的最佳实践

> ID：15021936
> 
> 赞同：0
> 
> 时间：2013-02-22T10:25:36.553
> 
> 标签：non-printing-characters

在构建票务系统前端时，我偶然发现了我们的 QA 团队发现的一个问题。

问题是我们没有过滤任何不可打印的字符，这可能会导致奇怪的问题：

*   复制粘贴示例代码不起作用
*   客户通过粘贴多个不可打印的字符来滥用表单，这实际上没有任何意义

如果我们要求客户输入任何不可打印的字符，我们可以要求他上传一个文本文件到工单。

那么，去除非印刷品时应该考虑什么？

我要提前感谢所有参与本次讨论的人！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-07T16:34:48.827

显然，基于此资源有 2 组 UTF-8 不可打印控制字符：

[http://www.utf8-chartable.de/](http://www.utf8-chartable.de/)

考虑到这一点，函数中的数组将如下所示：

```
array(
    '/\x00/', '/\x01/', '/\x02/', '/\x03/', '/\x04/',
    '/\x05/', '/\x06/', '/\x07/', '/\x08/', '/\x09/',
    '/\x0A/', '/\x0B/', '/\x0C/', '/\x0D/', '/\x0E/', '/\x0F/', '/\x10/',
    '/\x11/', '/\x12/', '/\x13/', '/\x14/', '/\x15/', '/\x16/', '/\x17/',
    '/\x18/', '/\x19/', '/\x1A/', '/\x1B/', '/\x1C/', '/\x1D/', '/\x1E/',
    '/\x1F/', '/\x7F/', '/\xC2 \x80/', '/\xC2 \x81/', '/\xC2 \x82/',
    '/\xC2 \x83/', '/\xC2 \x84/', '/\xC2 \x85/', '/\xC2 \x86/', '/\xC2 \x87/',
    '/\xC2 \x88/', '/\xC2 \x89/', '/\xC2 \x8A/', '/\xC2 \x8B/', '/\xC2 \x8C/',
    '/\xC2 \x8D/', '/\xC2 \x8E/', '/\xC2 \x8F/', '/\xC2 \x90/', '/\xC2 \x91/',
    '/\xC2 \x92/', '/\xC2 \x93/', '/\xC2 \x94/', '/\xC2 \x95/', '/\xC2 \x96/',
    '/\xC2 \x97/', '/\xC2 \x98/', '/\xC2 \x99/', '/\xC2 \x9A/', '/\xC2 \x9B/',
    '/\xC2 \x9C/', '/\xC2 \x9D/', '/\xC2 \x9E/', '/\xC2 \x8F/'
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:25:36.553

我们目前正在使用以下 PHP 方法：

```
function filterNonPrintableCharacters($text)
{
    $text = preg_replace(
        array(
            '/\x00/', '/\x01/', '/\x02/', '/\x03/', '/\x04/',
            '/\x05/', '/\x06/', '/\x07/', '/\x08/', '/\x09/',
            '/\x0B/','/\x0C/','/\x0D/', '/\x0E/', '/\x0F/', '/\x10/', '/\x11/',
            '/\x12/','/\x13/','/\x14/','/\x15/', '/\x16/', '/\x17/', '/\x18/',
            '/\x19/','/\x1A/','/\x1B/','/\x1C/','/\x1D/', '/\x1E/', '/\x1F/'
        ),
        '',
        $text
    );

    return $text;
} 
```

我可能遗漏了一些东西，因此我将不胜感激任何评论。

# guava - 使用 Guava 时端点 API 生成错误

> ID：15021939
> 
> 赞同：1
> 
> 时间：2013-02-22T10:25:45.397
> 
> 标签：guava, google-cloud-endpoints

我们将 Appengine Endpoints Java 与 Guava 一起使用，当在端点方法中使用 Function 时，API 生成器会返回异常。

函数不是方法签名的一部分。它只是在方法内部使用来转换列表。注释掉这个身体部分，它会生成 OK。

Guava 肯定在类路径中，应用程序的其他部分正常使用它。

我不确定它与 Guava 或任何外部 API 相关是否会给出相同的错误。

方法：

```
@ApiMethod(
    httpMethod = "GET",
    name = "ledgers.accountgroups.get",
    path="ledgers/{ledgerId}/accountgroups")
public Collection<IAccountGroup> listAccountGroups(@Named("ledgerId") String ledgerId, User user) throws Exception {
collaboratorDAO.assertCollaboratorOn(ledgerId, user);
List<Group> groups = accountGroupsDAO.getAccountGroups(ledgerId);
List<IAccountGroup> transformedGroups = Lists.transform(groups, new Function<Group, IAccountGroup>() {
    @Override
    public IAccountGroup apply(Group group) {
        return group.createClient();
    }
});
return transformedGroups; 
```

}

例外：

```
INFO: Successfully processed ./war/WEB-INF/appengine-web.xml
interface com.google.api.server.spi.config.Api
interface com.google.api.server.spi.config.Api
Exception in thread "main" java.lang.NoClassDefFoundError: com/google/common/base/Function
    at java.lang.Class.getDeclaredMethods0(Native Method)
    at java.lang.Class.privateGetDeclaredMethods(Class.java:2436)
    at java.lang.Class.getDeclaredMethods(Class.java:1793)
    at com.google.api.server.spi.MethodHierarchyReader.addServiceMethods(MethodHierarchyReader.java:174)
    at com.google.api.server.spi.MethodHierarchyReader.readMethodHierarchyIfNecessary(MethodHierarchyReader.java:44)
    at com.google.api.server.spi.MethodHierarchyReader.getEndpointOverrides(MethodHierarchyReader.java:99)
    at com.google.api.server.spi.config.annotationreader.ApiConfigAnnotationReader.readEndpointMethods(ApiConfigAnnotationReader.java:215)
    at com.google.api.server.spi.config.annotationreader.ApiConfigAnnotationReader.loadEndpointMethods(ApiConfigAnnotationReader.java:92)
    at com.google.api.server.spi.config.ApiConfigLoader.loadConfiguration(ApiConfigLoader.java:55)
    at com.google.api.server.spi.tools.AnnotationApiConfigGenerator.generateConfigObjects(AnnotationApiConfigGenerator.java:237)
    at com.google.api.server.spi.tools.AnnotationApiConfigGenerator.generateConfig(AnnotationApiConfigGenerator.java:185)
    at com.google.api.server.spi.tools.GenApiConfigAction.genApiConfig(GenApiConfigAction.java:78)
    at com.google.api.server.spi.tools.GetClientLibAction.getClientLib(GetClientLibAction.java:66)
    at com.google.api.server.spi.tools.GetClientLibAction.execute(GetClientLibAction.java:49)
    at com.google.api.server.spi.tools.EndpointsTool.execute(EndpointsTool.java:66)
    at com.google.api.server.spi.tools.EndpointsTool.main(EndpointsTool.java:92)
Caused by: java.lang.ClassNotFoundException: com.google.common.base.Function
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    ... 16 more 
```

在这一点上不使用 Guava 非常简单，而且它可以工作。我只是想知道为什么会发生这种情况，因为我需要在其他部分更多地使用番石榴。

更新：

我认为它与以下问题相同：

[Google Cloud Endpoints 不知道 Objectify 4 Transaction 中的 Work 类，导致 ClassNotFoundException](https://stackoverflow.com/questions/14563680/google-cloud-endpoints-doesnt-know-about-the-work-class-from-objectify-4-transa)

有小费吗？

谢谢！

# css - 请更正我的@font-face CSS

> ID：15021940
> 
> 赞同：-2
> 
> 时间：2013-02-22T10:25:52.260
> 
> 标签：css, font-face

我几乎把自己弄湿了，希望能得到这个工作！

我已经设置了 .ttf 文件的位置 - 但它似乎没有找到它。

我设置的位置错误吗？

我是否错误地描述了字体？

```
<!DOCTYPE html>
<html>
<body>

<style>

@font-face
{
font-family: Baskerville;
src: local('J:\Internet\Paul\Baskerville test\IT597___.ttf');
}
p { font-family: baskerville, serif; }
</style>

<h1 class="baskerville">This is written in ITC Baskerville</h1>

<p>Please note, that this is not written in Baskerville, but the word <span class="baskerville">Waterman</span> here is.</p>

<p><a href="http://www.w3.org/TR/css3-fonts/#font-face-rule" target="blank">Read this</a> for the W3C specifications on the "@font face" declaration which I've used to do this.</p>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:29:03.293

[http://www.fontsquirrel.com/tools/webfont-generator](http://www.fontsquirrel.com/tools/webfont-generator)使用这个生成器来生成你的字体。它还将为字体提供正确的 css。

我在您的代码中看到的错误之一是您的 font-family 被定义为 Baskerville 并且 p 具有 font-family baskerville （大写）

# iphone - 从委托类调用视图控制器方法，有问题

> ID：15021946
> 
> 赞同：0
> 
> 时间：2013-02-22T10:26:01.527
> 
> 标签：iphone, appdelegate

我正在从委托类调用视图控制器方法，该方法被调用，但在该方法中声明的 uitableview 没有调用它委托方法和一个按钮，并且视图也在该视图中分配，但没有显示任何内容。

从头解释：

在导航控制器上需要一个按钮并显示在所有视图上。所以，我以这种方式接受了委托。

```
UIButton *btnMenuOpen = [UIButton buttonWithType:UIButtonTypeCustom];
btnMenuOpen.frame = CGRectMake(0, 15, 40, 56);
[btnMenuOpen setImage:[UIImage imageNamed:@"side_menu.png"] forState:UIControlStateNormal];
[btnMenuOpen addTarget:self action:@selector(menu) forControlEvents:UIControlEventTouchUpInside];
[self.window addSubview:btnMenuOpen];

-(void)menu
{
ViewController *viewC = [[ViewController alloc]initWithNibName:@"ViewController" bundle:nil];
[viewC menu];
} 
```

这是视图控制器类：

```
-(void)menu
{
NSLog(@"menu opened");

self.mMenuView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 240, 480)];
self.mMenuView.backgroundColor = [UIColor grayColor];
self.mMenuView.autoresizingMask = 0;
[self.navigationController.view addSubview:self.mMenuView];

self.mSearchBar = [[UISearchBar alloc] initWithFrame:CGRectMake(0, 16, 220, 44)];
self.mSearchBar.autoresizingMask = UIViewAutoresizingFlexibleWidth;
self.mSearchBar.backgroundImage = [UIImage imageNamed:@"slide_tab_button.png"];
self.mSearchBar.delegate = self;
[self.mMenuView addSubview:self.mSearchBar];

UIButton *btnMenuClose = [UIButton buttonWithType:UIButtonTypeCustom];
btnMenuClose.frame = CGRectMake(215, 19, 40, 44);
[btnMenuClose setImage:[UIImage imageNamed:@"side_menu.png"] forState:UIControlStateNormal];
[btnMenuClose addTarget:self action:@selector(menu_close) forControlEvents:UIControlEventTouchUpInside];
[self.mMenuView addSubview:btnMenuClose];

self.mMenuTableView = [[UITableView alloc]initWithFrame:CGRectMake(0, 61,
                                                                   240, 420) style:UITableViewStylePlain];
self.mMenuTableView.delegate = self;
self.mMenuTableView.dataSource = self;
[self.mMenuView addSubview:self.mMenuTableView];

[self.mMenuTableView reloadData];

} 
```

现在，调用此方法时没有显示任何内容，控制通过它但没有任何反应，没有调用表的委托，其他东西也不起作用（按钮搜索栏和 uiview）。

请指导以上。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:39:12.977

尝试使用`NSNotificationCenter`这样的

在 ViewController.m 中注册通知

```
- (void)viewDidLoad
{
    [[NSNotificationCenter defaultCenter] addObserver: self
                                             selector: @selector(menu)
                                                 name: @"myMenuNotification"
                                               object: nil];
} 
```

并在您的 AppDelegate.m 中使用通知调用该方法，例如

```
-(void)menu
{
    [[NSNotificationCenter defaultCenter] postNotificationName:@"myMenuNotification" object:nil];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T10:42:55.357

不知道你是怎么用的。但我已经检查了一些修改的代码。它工作正常。您修改后的代码是：

在 AppDelegate 方法中。

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    self.viewController = [[sampleViewController alloc] initWithNibName:@"sampleViewController" bundle:nil];
    self.navController=[[UINavigationController alloc] initWithRootViewController:self.viewController];

    self.window.rootViewController = self.navController;
    [self.window makeKeyAndVisible];

    UIButton *btnMenuOpen = [UIButton buttonWithType:UIButtonTypeCustom];
    btnMenuOpen.frame = CGRectMake(0, 15, 40, 56);
    [btnMenuOpen setImage:[UIImage imageNamed:@"5.jpg"] forState:UIControlStateNormal];
    [btnMenuOpen addTarget:self action:@selector(menu) forControlEvents:UIControlEventTouchUpInside];
    [self.window addSubview:btnMenuOpen];

    [self menu];
    return YES;
}

-(void)menu
{
    [self.viewController menu];
} 
```

//在视图控制器中............

```
 -(void)menu
{
    NSLog(@"menu opened");

    UIView *mMenuView;
    UISearchBar *mSearchBar;
    UITableView *mMenuTableView;

    mMenuView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 240, 480)];
    mMenuView.backgroundColor = [UIColor grayColor];
    mMenuView.autoresizingMask = 0;
    [self.navigationController.view addSubview:mMenuView];

    mSearchBar = [[UISearchBar alloc] initWithFrame:CGRectMake(0, 16, 220, 44)];
    mSearchBar.autoresizingMask = UIViewAutoresizingFlexibleWidth;
    mSearchBar.backgroundImage = [UIImage imageNamed:@"5.jpg"];
//    mSearchBar.delegate = self;
    [mMenuView addSubview:mSearchBar];

    UIButton *btnMenuClose = [UIButton buttonWithType:UIButtonTypeCustom];
    btnMenuClose.frame = CGRectMake(215, 19, 40, 44);
    [btnMenuClose setImage:[UIImage imageNamed:@"side_menu.png"] forState:UIControlStateNormal];
    [btnMenuClose addTarget:self action:@selector(menu_close) forControlEvents:UIControlEventTouchUpInside];
    [mMenuView addSubview:btnMenuClose];

    mMenuTableView = [[UITableView alloc]initWithFrame:CGRectMake(0, 61, 240, 420) style:UITableViewStylePlain];
//    mMenuTableView.delegate = self;
//    mMenuTableView.dataSource = self;
    [mMenuTableView setBackgroundColor:[UIColor blueColor]];
    [mMenuView addSubview:mMenuTableView];

    [mMenuTableView reloadData];
} 
```

截屏![你的应用截图](../Images/7ef6795fa75a31a487eec30e215eef57.png)

# asp.net - 来自 UserControl 的 OnServerValidate

> ID：15021949
> 
> 赞同：1
> 
> 时间：2013-02-22T10:26:09.003
> 
> 标签：asp.net, validation, events

我有一个自定义用户控件，其中包含一个文本框和一些其他逻辑/控件，包括一个自定义验证器。在 aspx 页面上放置我的自定义控件时，我希望能够通过在 html 中为 OnServerValidate 属性提供一个值，将一个方法附加到控件中的客户验证器。

如何才能做到这一点？我希望能够将验证方法名称作为用户控件的 html 中的属性传递，而不必通过后面的代码附加到自定义验证器的事件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:07:42.773

您可以将自定义验证器的事件包装`ServerValidate`到您自己的事件中，然后在处理程序分配的标记中使用它。在您控制中，所需要的只是正确声明事件：

```
public event ServerValidateEventHandler ServerValidate
{
    add { this.CustomValidator1.ServerValidate += value; }
    remove { this.CustomValidator1.ServerValidate -= value; }
} 
```

现在在标记中可以注册此事件，同时有效地注册自定义验证器的事件：

```
<yourTagPrefix:YourControlName
               OnServerValidate="YourControlName_ServerValidate"
               runat="server"
               ... /> 
```

# mysql - MySQL EXISTS() 真的很慢

> ID：15021956
> 
> 赞同：1
> 
> 时间：2013-02-22T10:26:44.443
> 
> 标签：mysql, exists

这个查询

```
SELECT
    itemID,
    locationParentID,
    locationID,
    categoryParentID,
    categoryID,
    itemTitle,
    itemDetails,
    itemAttributes,
    itemPictures,
    itemFeatured,
    itemSpotlight,
    itemAdded
FROM items
WHERE items.siteID IN('".$cfg['site']['siteShares']."') 
    AND EXISTS(SELECT 1 FROM sites_locations sl WHERE items.locationID  = sl.locationID AND siteID = '".$cfg['site']['siteID']."' LIMIT 1)
    AND EXISTS(SELECT 1 FROM sites_categories sc WHERE items.categoryID = sc.categoryID AND siteID = '".$cfg['site']['siteID']."' LIMIT 1)
    AND itemStatus = '1'
    AND itemAdded > '".$cfg['timestamp']."' 
```

有效，但最多需要 6 秒

我可以使用`JOIN`，因为我猜它会更快

这是我尝试过的，但它返回所有结果，而不仅仅是在s 表`JOIN`中具有位置的项目。`sites_location`

```
SELECT 
    itemID, 
    locationParentID, 
    categoryParentID, 
    categoryID, 
    itemTitle, 
    itemDetails, 
    itemAttributes, 
    itemPictures, 
    itemFeatured, 
    itemSpotlight, 
    itemAdded 
FROM items LEFT JOIN sites_locations 
    ON items.locationID = sites_locations.locationID 
    AND sites_locations.siteID = items.siteID 
WHERE items.siteID IN('1,2')  AND itemStatus = '1'
    AND itemAdded > '1356048000' ORDER BY itemID DESC LIMIT 15 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:33:52.123

不确定您是否在第二个查询中对表**sites_categories进行了联接。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T13:47:02.350

当`INNER JOIN`两个表中至少有一个匹配项时，关键字返回行。

关键字返回左表 (table_name1) 中的`LEFT JOIN`所有行，即使右表 (table_name2) 中没有匹配项。

这就是您无法获得价值的区别

[检查此链接](http://www.w3schools.com/sql/sql_join_left.asp)

# android - 在 Android 中使用 Parse API 上传和保存视频文件不成功

> ID：15021968
> 
> 赞同：5
> 
> 时间：2013-02-22T10:27:09.197
> 
> 标签：android, parse-platform

**-**我正在使用`Parse`api将视频文件**上传并保存**到`Parse.com`服务器以供应用程序使用。

**- 我目前正在使用 Parse Documentation 中的以下代码将视频文件上传到 Parse 服务器：**

```
 File f = new File("/sdcard/video-2013-02-21-13-03-24.mp4");

    byte[] videoUp = IOUtils.toByteArray( new FileInputStream(f));

    ParseFile file = new ParseFile("testVideo1", videoUp);

    file.saveInBackground(new SaveCallback() {

        public void done(ParseException e) {

      e.printStackTrace();

     }

     }, new ProgressCallback() {

     public void done(Integer percentDone) {

     System.out.println("Progress :" + percentDone);
      }
     }); 
```

**-****首先**它的打印**进度为 100 %**，这是从带有 as 参数的方法中声明的结果，然后`System.out.println`立即进入**带有**as参数的方法，打印以下堆栈跟踪。`done()``Integer`**`done()``ParseException`**

 **```
FATAL EXCEPTION: main
java.lang.NullPointerException
at com.example.uploadfileusingparse.MainActivity$1$1.done(MainActivity.java:63)
at com.parse.SaveCallback.internalDone(SaveCallback.java:42)
at com.parse.SaveCallback.internalDone(SaveCallback.java:29)
at com.parse.BackgroundTask.onPostExecute(BackgroundTask.java:50)
at com.parse.BackgroundTask.onPostExecute(BackgroundTask.java:16)
at android.os.AsyncTask.finish(AsyncTask.java:417)
at android.os.AsyncTask.access$300(AsyncTask.java:127)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:4633)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:521)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
at dalvik.system.NativeStart.main(Native Method) 
```

**-** 提供了有关集成`Parse`的详细教程和信息，但我**没有**在.`IPhone`**`Android`**

 ****-**谁能给我一个**教程**，解释将Api**集成到应用程序中以****将多媒体文件上传到 Parse 服务器。**`Parse`

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-11T06:21:44.960

您收到错误是因为您尝试从空变量调用方法。如果 saveInBackground() 成功，则 done(ParseException e) 中的 ParseException 将为空。通过检查 ParseException 是否为空来修复它：

```
 public void done(ParseException e) {
      if(e==null) {
          // SUCCESS!!!
      } else {
          e.printStackTrace();
      }
  } 
```

这适用于名称以 *inBackground 结尾的所有 ParseObject 方法******

# java - 如何在 Java Junit TestCase 中设置会话变量

> ID：15021973
> 
> 赞同：1
> 
> 时间：2013-02-22T10:27:15.203
> 
> 标签：java, web-services, jsp, session, junit

我编写了一个使用会话变量的 servlet。我正在为此流程创建 Junit 测试用例。但是如何在 Junit 测试用例中设置这些会话变量。我使用下面的代码在 Junit 测试用例中调用 servlet，

```
 HttpClient httpClient = new DefaultHttpClient();
    HttpPost httpPostReq = new HttpPost(/url);

    List<NameValuePair> reqParams = new ArrayList<NameValuePair>();
    nvpsReqParams.add(); // paramters to add

    httpPostReq.setEntity(new UrlEncodedFormEntity(reqParams, HTTP.UTF_8));
    HttpResponse response = httpClient.execute(httpPostReq); 
```

在设置参数之后，我想添加实际用例所需的会话变量。有人可以帮我如何在此处添加会话变量。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:22:00.683

Your code seems as if you were trying to send a request to a servlet already deployed somewhere. It is not the purpose of unit tests. Rather than that, you should test your code (your servlet) in isolation, not deployed to a server.

For that, you need to use mock the web container interfaces your servlet uses. [ServletUnit](http://httpunit.sourceforge.net/doc/servletunit-intro.html) is a project that provides such mocks, perhaps have a look at that. Using them, you will be able to set your session parameters.

# vim - 如何在 ex 命令行中发送选定的可视块？

> ID：15021976
> 
> 赞同：0
> 
> 时间：2013-02-22T10:27:31.170
> 
> 标签：vim, stdin, ex

我想发送一个可视块作为命令的替代，例如

`:!echo < something from the visual block`

我怎么能在 vim 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:34:35.103

最简单的方法是`y`将视觉选择（在视觉模式下）连接到寄存器中，然后启动命令 ( `:!echo ...`) 并通过 将寄存器的内容插入命令行`<C-R>"`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T13:43:55.387

一种方法是通过 使用命令[行窗口](http://vimdoc.sourceforge.net/htmldoc/cmdline.html#cmdline-window)`q:`，如此屏幕截图所示：

![在此处输入图像描述](../Images/751b76dc85369fb6eb3c736cd5971251.png)

# openid - Shibboleth 和 OpenId 有什么区别

> ID：15021984
> 
> 赞同：1
> 
> 时间：2013-02-22T10:28:20.010
> 
> 标签：openid, federated-identity, shibboleth

我正在评估不同的联合身份提供程序技术，并想知道 Shibboleth 和 OpenId 之间有什么区别。在我看来，这两种技术都使用大致相同的模式向服务提供商提供身份服务。如何决定使用哪一个？是否有任何隐藏的属性有所作为？

# java - 获取 shell SWT 的“未最大化”边界

> ID：15021986
> 
> 赞同：0
> 
> 时间：2013-02-22T10:28:22.923
> 
> 标签：java, swt

我需要获得当前最大化的壳的“未最大化”几何形状。

如果我做

```
shell.setMaximized(false);
r = shell.getBounds();
...do something with r 
```

"r" 仍然是 shell 的最大化边界。我猜这是由于稍后处理外壳的“unmaximize”信号。所以问题是：如何强制系统首先处理信号并继续？

我尝试在读取边界之前放置 display.readAndDispatch() 和/或 shell.update() 但它不起作用。

在此先感谢，卢卡。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:20:36.670

...好的，我解决了。

问题是操作系统窗口管理器可能会执行一些动画或一些东西来最大化外壳，所以我很早就开始阅读新的外壳几何。我也在处理外壳时正在做它......

所以我就这样解决了。在处置事件句柄时，我设置了 event.doit = false 以防止在我读取大小时处置我的外壳。然后我使用 Timer 让操作系统窗口管理器在读取未最大化的大小之前完成它的工作，最后我手动处理 shell：

```
 shell.setMaximized(false);      
        final Timer t = new Timer();
        t.schedule(new TimerTask() {

            @Override
            public void run() {
                display.asyncExec(new Runnable() {

                    @Override
                    public void run() {
                        t.cancel();
                        Rectangle r = shell.getBounds();
                                                // ... do something with r
                        shell.dispose();
                    }
                });
            }
        }, 1000); 
```

好吧，也许这不是最优雅的方式，但它最终会奏效。欢迎任何更优雅的解决方案！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T14:13:02.043

你可以试试这个：

```
shell.setMaximized(false);
Display.getCurrent().asyncExec(new Runnable() {
    @Override
    public void run() {
        Rectangle r = shell.getBounds();
        // ... do something with r
    }
}); 
```

您可能还想尝试使用`Shell#computeSize(SWT.DEFAULT, SWT.DEFAULT)`，看看是否有帮助。

# load-testing - 我们可以使用新的 relic 工具进行负载/压力测试吗？

> ID：15021989
> 
> 赞同：2
> 
> 时间：2013-02-22T10:28:27.653
> 
> 标签：load-testing, stress-testing, newrelic

我们要求在网站上对 1000 个并发用户进行压力测试。是否可以使用新的遗物（不使用 jmeter）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T18:45:40.760

New Relic 是用于监控应用程序（在服务器和最终用户体验上）、事务和服务器的工具。您可以使用它来测量大负载的影响，但它不会应用负载。

您可以使用诸如[Blitz](https://www.blitz.io/)、[SOASTA](http://www.soasta.com/)、[Cloud Assault](https://www.cloudassault.com/)或[BlazeMeter 之类](http://blazemeter.com/)的东西来应用负载和运行测试。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-17T12:42:17.807

是的，有可能。但是如果你有 1000 个用户，我认为你必须使用任何提供云服务器的主机。我使用了 Blazemeter，经过测试，我得到了非常好的报告。[我使用了他们关于新遗物插件](http://community.blazemeter.com/knowledgebase/articles/214577-blazemeter-plugin-for-new-relic)的教程

# python - 如何使用 python 将 XML 解析为所需的自定义字段

> ID：15021996
> 
> 赞同：1
> 
> 时间：2013-02-22T10:28:40.240
> 
> 标签：python, xml, glob, elementtree, force.com

我有一个目录，里面全是 XML 格式的 salesforce 对象。我想确定`<fullName>`所有自定义的父文件在`<fields>`哪里`<required>`是真的。这是一些截断的示例数据，我们称之为“Custom_Object__c：

```
<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
<deprecated>false</deprecated>
<description>descriptiontext</description>
<fields>
    <fullName>custom_field1</fullName>
    <required>false</required>
    <type>Text</type>
    <unique>false</unique>
</fields>
<fields>
    <fullName>custom_field2</fullName>
    <deprecated>false</deprecated>
    <visibleLines>5</visibleLines>
</fields>
<fields>
    <fullName>custom_field3</fullName>
    <required>false</required>
</fields>
<fields>
    <fullName>custom_field4</fullName>
    <deprecated>false</deprecated>
    <description>custom field 4 description</description>
    <externalId>true</externalId>
    <required>true</required>
    <scale>0</scale>
    <type>Number</type>
    <unique>false</unique>
</fields>
<fields>
    <fullName>custom_field5</fullName>
    <deprecated>false</deprecated>
    <description>Creator of this log message. Application-specific.</description>
    <externalId>true</externalId>
    <label>Origin</label>
    <length>255</length>
    <required>true</required>
    <type>Text</type>
    <unique>false</unique>
</fields>
<label>App Log</label>
<nameField>
    <displayFormat>LOG-{YYYYMMDD}-{00000000}</displayFormat>
    <label>Entry ID</label>
    <type>AutoNumber</type>
</nameField>
</CustomObject> 
```

所需的输出将是格式如下的字典：

```
required_fields =  {'Custom_Object__1': 'custom_field4', 'Custom_Object__1': 'custom_field5',... etc for all the required fields in all files in the fold.} 
```

或任何类似的东西。

我已经通过 glob.glob 获得了我的对象列表，并且我可以使用 ElementTree 获得所有子项及其属性的列表，但我正在努力过去。我觉得我已经很接近了，但我希望能帮我完成这项任务。到目前为止，这是我的代码：

```
import os
import glob
import xml.etree.ElementTree as ET

os.chdir("/Users/paulsallen/workspace/fforce/FForce Dev Account/config/objects/")
objs = []

for file in glob.glob("*.object"):
    objs.append(file)

fields_dict = {}

for object in objs:
    root = ET.parse(objs).getroot()

.... 
```

一旦我得到解析的 XML 数据，我不知道从那里获取它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T11:01:44.830

您真的想切换到使用[`lxml`](http://lxml.de/)这里，因为您可以使用 XPath 查询：

```
from lxml import etree as ET

os.chdir("/Users/paulsallen/workspace/fforce/FForce Dev Account/config/objects/")
objs = glob.glob("*.object")

fields_dict = {}

for filename in objs:
    root = ET.parse(filename).getroot()
    required = root.xpath('.//n:fullName[../n:required/text()="true"]/text()',
        namespaces={'n': tree.nsmap[None]})
    fields_dict[os.path.splitext(filename)[0]] = required 
```

使用该代码，您最终会得到一个列表字典；每个键都是一个文件名（没有扩展名），每个值都是一个必填字段列表。

XPath 查询`fullName`在默认命名空间中查找元素，这些`required`元素具有与其中的文本同级的元素`'true'`。然后它获取每个匹配元素的包含文本，这是我们可以存储在字典中的列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:51:54.163

使用此功能查找给定根目录下的所有必填字段。它还应该有助于作为未来解析需求的示例/起点

```
def find_required_fields(root):
    NS = {'soap': 'http://soap.sforce.com/2006/04/metadata'}
    required_fields = []
    for field in root.findall('soap:fields', namespaces=NS):
        required = field.findtext('soap:required', namespaces=NS) == "true"
        name = field.findtext('soap:fullName', namespaces=NS)
        if required:
            required_fields.append(name)
    return required_fields 
```

示例用法：

```
>>> import xml.etree.ElementTree as ET
>>> root = ET.parse('objects.xml') # where objects.xml contains the example in the question
>>> print find_required_fields(root)
['custom_field4', 'custom_field5']
>>> 
```